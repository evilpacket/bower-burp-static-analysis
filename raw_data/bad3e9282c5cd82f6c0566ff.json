{
    "url": "http://localhost:9999/kartograph/kartograph.js/lib/dat.gui.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "HTML5 storage manipulation (DOM-based)",
    "issueType": 5246720,
    "severity": "Information",
    "confidence": "Firm",
    "issueBackground": "DOM-based HTML5 storage manipulation occurs when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and stores this data in the HTML5 storage of the web browser (either localStorage or sessionStorage). An attacker may be able to use this behavior to construct a URL which, if visited by another application user, will cause the user's browser to store attacker-controllable data.<br><br>This behavior does not in itself constitute a security vulnerability. However, if the application later reads the data back from storage and processes it in an unsafe way, then an attacker may be able to leverage the storage mechanism to deliver other DOM-based attacks, such as cross-site scripting and JavaScript injection.",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>You should also review the ways in which the wider application uses data that is retrieved from HTML5 storage. If the data is never handled in an unsafe manner, then this behavior may not constitute any kind of vulnerability.<br><br>The most effective way to avoid DOM-based HTML5 storage manipulation is not to place in HTML5 storage any data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from being stored.",
    "issueDetail": "The application may be vulnerable to DOM-based HTML5 storage manipulation. Data is read from <b>document.location.href</b> and written to <b>localStorage.setItem()</b> via the following statement:<ul><li>u&amp;&amp; ((e=a)?g.bind(window,\"unload\",b):g.unbind(window,\"unload\",b),localStorage.setItem(document.location.href+\".isLocal\",a))</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/kartograph/kartograph.js/lib/dat.gui.min.js",
                "path": "/kartograph/kartograph.js/lib/dat.gui.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9rYXJ0b2dyYXBoL2thcnRvZ3JhcGguanMvbGliL2RhdC5ndWkubWluLmpzIEhUVFAvMS4xDQpIb3N0OiBsb2NhbGhvc3Q6OTk5OQ0KDQo=",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogNDU0MTENCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQNCkRhdGU6IEZyaSwgMDcgTm92IDIwMTQgMDc6NTc6MjYgR01UDQpMYXN0LU1vZGlmaWVkOiBGcmksIDA3IE5vdiAyMDE0IDA3OjU3OjI2IEdNVA0KDQovKioKICogZGF0LWd1aSBKYXZhU2NyaXB0IENvbnRyb2xsZXIgTGlicmFyeQogKiBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvZGF0LWd1aQogKgogKiBDb3B5cmlnaHQgMjAxMSBEYXRhIEFydHMgVGVhbSwgR29vZ2xlIENyZWF0aXZlIExhYgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqLwp2YXIgZGF0PWRhdHx8e307ZGF0Lmd1aT1kYXQuZ3VpfHx7fTtkYXQudXRpbHM9ZGF0LnV0aWxzfHx7fTtkYXQuY29udHJvbGxlcnM9ZGF0LmNvbnRyb2xsZXJzfHx7fTtkYXQuZG9tPWRhdC5kb218fHt9O2RhdC5jb2xvcj1kYXQuY29sb3J8fHt9O2RhdC51dGlscy5jc3M9ZnVuY3Rpb24oKXtyZXR1cm57bG9hZDpmdW5jdGlvbihlLGEpe3ZhciBhPWF8fGRvY3VtZW50LGM9YS5jcmVhdGVFbGVtZW50KCJsaW5rIik7Yy50eXBlPSJ0ZXh0L2NzcyI7Yy5yZWw9InN0eWxlc2hlZXQiO2MuaHJlZj1lO2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXS5hcHBlbmRDaGlsZChjKX0saW5qZWN0OmZ1bmN0aW9uKGUsYSl7dmFyIGE9YXx8ZG9jdW1lbnQsYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2MudHlwZT0idGV4dC9jc3MiO2MuaW5uZXJIVE1MPWU7YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLmFwcGVuZENoaWxkKGMpfX19KCk7CmRhdC51dGlscy5jb21tb249ZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuZm9yRWFjaCxhPUFycmF5LnByb3RvdHlwZS5zbGljZTtyZXR1cm57QlJFQUs6e30sZXh0ZW5kOmZ1bmN0aW9uKGMpe3RoaXMuZWFjaChhLmNhbGwoYXJndW1lbnRzLDEpLGZ1bmN0aW9uKGEpe2Zvcih2YXIgZiBpbiBhKXRoaXMuaXNVbmRlZmluZWQoYVtmXSl8fChjW2ZdPWFbZl0pfSx0aGlzKTtyZXR1cm4gY30sZGVmYXVsdHM6ZnVuY3Rpb24oYyl7dGhpcy5lYWNoKGEuY2FsbChhcmd1bWVudHMsMSksZnVuY3Rpb24oYSl7Zm9yKHZhciBmIGluIGEpdGhpcy5pc1VuZGVmaW5lZChjW2ZdKSYmKGNbZl09YVtmXSl9LHRoaXMpO3JldHVybiBjfSxjb21wb3NlOmZ1bmN0aW9uKCl7dmFyIGM9YS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBkPWEuY2FsbChhcmd1bWVudHMpLGY9Yy5sZW5ndGgtMTtmPj0wO2YtLSlkPVtjW2ZdLmFwcGx5KHRoaXMsZCldO3JldHVybiBkWzBdfX0sCmVhY2g6ZnVuY3Rpb24oYSxkLGYpe2lmKGUmJmEuZm9yRWFjaD09PWUpYS5mb3JFYWNoKGQsZik7ZWxzZSBpZihhLmxlbmd0aD09PWEubGVuZ3RoKzApZm9yKHZhciBiPTAsbj1hLmxlbmd0aDtiPG47YisrKXtpZihiIGluIGEmJmQuY2FsbChmLGFbYl0sYik9PT10aGlzLkJSRUFLKWJyZWFrfWVsc2UgZm9yKGIgaW4gYSlpZihkLmNhbGwoZixhW2JdLGIpPT09dGhpcy5CUkVBSylicmVha30sZGVmZXI6ZnVuY3Rpb24oYSl7c2V0VGltZW91dChhLDApfSx0b0FycmF5OmZ1bmN0aW9uKGMpe3JldHVybiBjLnRvQXJyYXk/Yy50b0FycmF5KCk6YS5jYWxsKGMpfSxpc1VuZGVmaW5lZDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PXZvaWQgMH0saXNOdWxsOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09bnVsbH0saXNOYU46ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1hfSxpc0FycmF5OkFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnN0cnVjdG9yPT09QXJyYXl9LGlzT2JqZWN0OmZ1bmN0aW9uKGEpe3JldHVybiBhPT09Ck9iamVjdChhKX0saXNOdW1iZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1hKzB9LGlzU3RyaW5nOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09YSsiIn0saXNCb29sZWFuOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09ZmFsc2V8fGE9PT10cnVlfSxpc0Z1bmN0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSk9PT0iW29iamVjdCBGdW5jdGlvbl0ifX19KCk7CmRhdC5jb250cm9sbGVycy5Db250cm9sbGVyPWZ1bmN0aW9uKGUpe3ZhciBhPWZ1bmN0aW9uKGEsZCl7dGhpcy5pbml0aWFsVmFsdWU9YVtkXTt0aGlzLmRvbUVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dGhpcy5vYmplY3Q9YTt0aGlzLnByb3BlcnR5PWQ7dGhpcy5fX29uRmluaXNoQ2hhbmdlPXRoaXMuX19vbkNoYW5nZT12b2lkIDB9O2UuZXh0ZW5kKGEucHJvdG90eXBlLHtvbkNoYW5nZTpmdW5jdGlvbihhKXt0aGlzLl9fb25DaGFuZ2U9YTtyZXR1cm4gdGhpc30sb25GaW5pc2hDaGFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5fX29uRmluaXNoQ2hhbmdlPWE7cmV0dXJuIHRoaXN9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe3RoaXMub2JqZWN0W3RoaXMucHJvcGVydHldPWE7dGhpcy5fX29uQ2hhbmdlJiZ0aGlzLl9fb25DaGFuZ2UuY2FsbCh0aGlzLGEpO3RoaXMudXBkYXRlRGlzcGxheSgpO3JldHVybiB0aGlzfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9iamVjdFt0aGlzLnByb3BlcnR5XX0sCnVwZGF0ZURpc3BsYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30saXNNb2RpZmllZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluaXRpYWxWYWx1ZSE9PXRoaXMuZ2V0VmFsdWUoKX19KTtyZXR1cm4gYX0oZGF0LnV0aWxzLmNvbW1vbik7CmRhdC5kb20uZG9tPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGEoYil7aWYoYj09PSIwInx8ZS5pc1VuZGVmaW5lZChiKSlyZXR1cm4gMDtiPWIubWF0Y2goZCk7cmV0dXJuIWUuaXNOdWxsKGIpP3BhcnNlRmxvYXQoYlsxXSk6MH12YXIgYz17fTtlLmVhY2goe0hUTUxFdmVudHM6WyJjaGFuZ2UiXSxNb3VzZUV2ZW50czpbImNsaWNrIiwibW91c2Vtb3ZlIiwibW91c2Vkb3duIiwibW91c2V1cCIsIm1vdXNlb3ZlciJdLEtleWJvYXJkRXZlbnRzOlsia2V5ZG93biJdfSxmdW5jdGlvbihiLGEpe2UuZWFjaChiLGZ1bmN0aW9uKGIpe2NbYl09YX0pfSk7dmFyIGQ9LyhcZCsoXC5cZCspPylweC8sZj17bWFrZVNlbGVjdGFibGU6ZnVuY3Rpb24oYixhKXtpZighKGI9PT12b2lkIDB8fGIuc3R5bGU9PT12b2lkIDApKWIub25zZWxlY3RzdGFydD1hP2Z1bmN0aW9uKCl7cmV0dXJuIGZhbHNlfTpmdW5jdGlvbigpe30sYi5zdHlsZS5Nb3pVc2VyU2VsZWN0PWE/ImF1dG8iOiJub25lIixiLnN0eWxlLktodG1sVXNlclNlbGVjdD0KYT8iYXV0byI6Im5vbmUiLGIudW5zZWxlY3RhYmxlPWE/Im9uIjoib2ZmIn0sbWFrZUZ1bGxzY3JlZW46ZnVuY3Rpb24oYixhLGQpe2UuaXNVbmRlZmluZWQoYSkmJihhPXRydWUpO2UuaXNVbmRlZmluZWQoZCkmJihkPXRydWUpO2Iuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtpZihhKWIuc3R5bGUubGVmdD0wLGIuc3R5bGUucmlnaHQ9MDtpZihkKWIuc3R5bGUudG9wPTAsYi5zdHlsZS5ib3R0b209MH0sZmFrZUV2ZW50OmZ1bmN0aW9uKGIsYSxkLGYpe3ZhciBkPWR8fHt9LG09Y1thXTtpZighbSl0aHJvdyBFcnJvcigiRXZlbnQgdHlwZSAiK2ErIiBub3Qgc3VwcG9ydGVkLiIpO3ZhciBsPWRvY3VtZW50LmNyZWF0ZUV2ZW50KG0pO3N3aXRjaChtKXtjYXNlICJNb3VzZUV2ZW50cyI6bC5pbml0TW91c2VFdmVudChhLGQuYnViYmxlc3x8ZmFsc2UsZC5jYW5jZWxhYmxlfHx0cnVlLHdpbmRvdyxkLmNsaWNrQ291bnR8fDEsMCwwLGQueHx8ZC5jbGllbnRYfHwwLGQueXx8ZC5jbGllbnRZfHwKMCxmYWxzZSxmYWxzZSxmYWxzZSxmYWxzZSwwLG51bGwpO2JyZWFrO2Nhc2UgIktleWJvYXJkRXZlbnRzIjptPWwuaW5pdEtleWJvYXJkRXZlbnR8fGwuaW5pdEtleUV2ZW50O2UuZGVmYXVsdHMoZCx7Y2FuY2VsYWJsZTp0cnVlLGN0cmxLZXk6ZmFsc2UsYWx0S2V5OmZhbHNlLHNoaWZ0S2V5OmZhbHNlLG1ldGFLZXk6ZmFsc2Usa2V5Q29kZTp2b2lkIDAsY2hhckNvZGU6dm9pZCAwfSk7bShhLGQuYnViYmxlc3x8ZmFsc2UsZC5jYW5jZWxhYmxlLHdpbmRvdyxkLmN0cmxLZXksZC5hbHRLZXksZC5zaGlmdEtleSxkLm1ldGFLZXksZC5rZXlDb2RlLGQuY2hhckNvZGUpO2JyZWFrO2RlZmF1bHQ6bC5pbml0RXZlbnQoYSxkLmJ1YmJsZXN8fGZhbHNlLGQuY2FuY2VsYWJsZXx8dHJ1ZSl9ZS5kZWZhdWx0cyhsLGYpO2IuZGlzcGF0Y2hFdmVudChsKX0sYmluZDpmdW5jdGlvbihiLGEsZCxjKXtiLmFkZEV2ZW50TGlzdGVuZXI/Yi5hZGRFdmVudExpc3RlbmVyKGEsZCxjfHxmYWxzZSk6Yi5hdHRhY2hFdmVudCYmCmIuYXR0YWNoRXZlbnQoIm9uIithLGQpO3JldHVybiBmfSx1bmJpbmQ6ZnVuY3Rpb24oYixhLGQsYyl7Yi5yZW1vdmVFdmVudExpc3RlbmVyP2IucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGQsY3x8ZmFsc2UpOmIuZGV0YWNoRXZlbnQmJmIuZGV0YWNoRXZlbnQoIm9uIithLGQpO3JldHVybiBmfSxhZGRDbGFzczpmdW5jdGlvbihiLGEpe2lmKGIuY2xhc3NOYW1lPT09dm9pZCAwKWIuY2xhc3NOYW1lPWE7ZWxzZSBpZihiLmNsYXNzTmFtZSE9PWEpe3ZhciBkPWIuY2xhc3NOYW1lLnNwbGl0KC8gKy8pO2lmKGQuaW5kZXhPZihhKT09LTEpZC5wdXNoKGEpLGIuY2xhc3NOYW1lPWQuam9pbigiICIpLnJlcGxhY2UoL15ccysvLCIiKS5yZXBsYWNlKC9ccyskLywiIil9cmV0dXJuIGZ9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGIsYSl7aWYoYSl7aWYoYi5jbGFzc05hbWUhPT12b2lkIDApaWYoYi5jbGFzc05hbWU9PT1hKWIucmVtb3ZlQXR0cmlidXRlKCJjbGFzcyIpO2Vsc2V7dmFyIGQ9Yi5jbGFzc05hbWUuc3BsaXQoLyArLyksCmM9ZC5pbmRleE9mKGEpO2lmKGMhPS0xKWQuc3BsaWNlKGMsMSksYi5jbGFzc05hbWU9ZC5qb2luKCIgIil9fWVsc2UgYi5jbGFzc05hbWU9dm9pZCAwO3JldHVybiBmfSxoYXNDbGFzczpmdW5jdGlvbihhLGQpe3JldHVybiBSZWdFeHAoIig/Ol58XFxzKykiK2QrIig/Olxccyt8JCkiKS50ZXN0KGEuY2xhc3NOYW1lKXx8ZmFsc2V9LGdldFdpZHRoOmZ1bmN0aW9uKGIpe2I9Z2V0Q29tcHV0ZWRTdHlsZShiKTtyZXR1cm4gYShiWyJib3JkZXItbGVmdC13aWR0aCJdKSthKGJbImJvcmRlci1yaWdodC13aWR0aCJdKSthKGJbInBhZGRpbmctbGVmdCJdKSthKGJbInBhZGRpbmctcmlnaHQiXSkrYShiLndpZHRoKX0sZ2V0SGVpZ2h0OmZ1bmN0aW9uKGIpe2I9Z2V0Q29tcHV0ZWRTdHlsZShiKTtyZXR1cm4gYShiWyJib3JkZXItdG9wLXdpZHRoIl0pK2EoYlsiYm9yZGVyLWJvdHRvbS13aWR0aCJdKSthKGJbInBhZGRpbmctdG9wIl0pK2EoYlsicGFkZGluZy1ib3R0b20iXSkrYShiLmhlaWdodCl9LApnZXRPZmZzZXQ6ZnVuY3Rpb24oYSl7dmFyIGQ9e2xlZnQ6MCx0b3A6MH07aWYoYS5vZmZzZXRQYXJlbnQpe2RvIGQubGVmdCs9YS5vZmZzZXRMZWZ0LGQudG9wKz1hLm9mZnNldFRvcDt3aGlsZShhPWEub2Zmc2V0UGFyZW50KX1yZXR1cm4gZH0saXNBY3RpdmU6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1kb2N1bWVudC5hY3RpdmVFbGVtZW50JiYoYS50eXBlfHxhLmhyZWYpfX07cmV0dXJuIGZ9KGRhdC51dGlscy5jb21tb24pOwpkYXQuY29udHJvbGxlcnMuT3B0aW9uQ29udHJvbGxlcj1mdW5jdGlvbihlLGEsYyl7dmFyIGQ9ZnVuY3Rpb24oZixiLGUpe2Quc3VwZXJjbGFzcy5jYWxsKHRoaXMsZixiKTt2YXIgaD10aGlzO3RoaXMuX19zZWxlY3Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2VsZWN0Iik7aWYoYy5pc0FycmF5KGUpKXt2YXIgaj17fTtjLmVhY2goZSxmdW5jdGlvbihhKXtqW2FdPWF9KTtlPWp9Yy5lYWNoKGUsZnVuY3Rpb24oYSxiKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTtkLmlubmVySFRNTD1iO2Quc2V0QXR0cmlidXRlKCJ2YWx1ZSIsYSk7aC5fX3NlbGVjdC5hcHBlbmRDaGlsZChkKX0pO3RoaXMudXBkYXRlRGlzcGxheSgpO2EuYmluZCh0aGlzLl9fc2VsZWN0LCJjaGFuZ2UiLGZ1bmN0aW9uKCl7aC5zZXRWYWx1ZSh0aGlzLm9wdGlvbnNbdGhpcy5zZWxlY3RlZEluZGV4XS52YWx1ZSl9KTt0aGlzLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fX3NlbGVjdCl9OwpkLnN1cGVyY2xhc3M9ZTtjLmV4dGVuZChkLnByb3RvdHlwZSxlLnByb3RvdHlwZSx7c2V0VmFsdWU6ZnVuY3Rpb24oYSl7YT1kLnN1cGVyY2xhc3MucHJvdG90eXBlLnNldFZhbHVlLmNhbGwodGhpcyxhKTt0aGlzLl9fb25GaW5pc2hDaGFuZ2UmJnRoaXMuX19vbkZpbmlzaENoYW5nZS5jYWxsKHRoaXMsdGhpcy5nZXRWYWx1ZSgpKTtyZXR1cm4gYX0sdXBkYXRlRGlzcGxheTpmdW5jdGlvbigpe3RoaXMuX19zZWxlY3QudmFsdWU9dGhpcy5nZXRWYWx1ZSgpO3JldHVybiBkLnN1cGVyY2xhc3MucHJvdG90eXBlLnVwZGF0ZURpc3BsYXkuY2FsbCh0aGlzKX19KTtyZXR1cm4gZH0oZGF0LmNvbnRyb2xsZXJzLkNvbnRyb2xsZXIsZGF0LmRvbS5kb20sZGF0LnV0aWxzLmNvbW1vbik7CmRhdC5jb250cm9sbGVycy5OdW1iZXJDb250cm9sbGVyPWZ1bmN0aW9uKGUsYSl7dmFyIGM9ZnVuY3Rpb24oZCxmLGIpe2Muc3VwZXJjbGFzcy5jYWxsKHRoaXMsZCxmKTtiPWJ8fHt9O3RoaXMuX19taW49Yi5taW47dGhpcy5fX21heD1iLm1heDt0aGlzLl9fc3RlcD1iLnN0ZXA7ZD10aGlzLl9faW1wbGllZFN0ZXA9YS5pc1VuZGVmaW5lZCh0aGlzLl9fc3RlcCk/dGhpcy5pbml0aWFsVmFsdWU9PTA/MTpNYXRoLnBvdygxMCxNYXRoLmZsb29yKE1hdGgubG9nKHRoaXMuaW5pdGlhbFZhbHVlKS9NYXRoLkxOMTApKS8xMDp0aGlzLl9fc3RlcDtkPWQudG9TdHJpbmcoKTt0aGlzLl9fcHJlY2lzaW9uPWQuaW5kZXhPZigiLiIpPi0xP2QubGVuZ3RoLWQuaW5kZXhPZigiLiIpLTE6MH07Yy5zdXBlcmNsYXNzPWU7YS5leHRlbmQoYy5wcm90b3R5cGUsZS5wcm90b3R5cGUse3NldFZhbHVlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuX19taW4hPT12b2lkIDAmJmE8dGhpcy5fX21pbilhPXRoaXMuX19taW47CmVsc2UgaWYodGhpcy5fX21heCE9PXZvaWQgMCYmYT50aGlzLl9fbWF4KWE9dGhpcy5fX21heDt0aGlzLl9fc3RlcCE9PXZvaWQgMCYmYSV0aGlzLl9fc3RlcCE9MCYmKGE9TWF0aC5yb3VuZChhL3RoaXMuX19zdGVwKSp0aGlzLl9fc3RlcCk7cmV0dXJuIGMuc3VwZXJjbGFzcy5wcm90b3R5cGUuc2V0VmFsdWUuY2FsbCh0aGlzLGEpfSxtaW46ZnVuY3Rpb24oYSl7dGhpcy5fX21pbj1hO3JldHVybiB0aGlzfSxtYXg6ZnVuY3Rpb24oYSl7dGhpcy5fX21heD1hO3JldHVybiB0aGlzfSxzdGVwOmZ1bmN0aW9uKGEpe3RoaXMuX19zdGVwPWE7cmV0dXJuIHRoaXN9fSk7cmV0dXJuIGN9KGRhdC5jb250cm9sbGVycy5Db250cm9sbGVyLGRhdC51dGlscy5jb21tb24pOwpkYXQuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlckJveD1mdW5jdGlvbihlLGEsYyl7dmFyIGQ9ZnVuY3Rpb24oZixiLGUpe2Z1bmN0aW9uIGgoKXt2YXIgYT1wYXJzZUZsb2F0KGwuX19pbnB1dC52YWx1ZSk7Yy5pc05hTihhKXx8bC5zZXRWYWx1ZShhKX1mdW5jdGlvbiBqKGEpe3ZhciBiPW8tYS5jbGllbnRZO2wuc2V0VmFsdWUobC5nZXRWYWx1ZSgpK2IqbC5fX2ltcGxpZWRTdGVwKTtvPWEuY2xpZW50WX1mdW5jdGlvbiBtKCl7YS51bmJpbmQod2luZG93LCJtb3VzZW1vdmUiLGopO2EudW5iaW5kKHdpbmRvdywibW91c2V1cCIsbSl9dGhpcy5fX3RydW5jYXRpb25TdXNwZW5kZWQ9ZmFsc2U7ZC5zdXBlcmNsYXNzLmNhbGwodGhpcyxmLGIsZSk7dmFyIGw9dGhpcyxvO3RoaXMuX19pbnB1dD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3RoaXMuX19pbnB1dC5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0ZXh0Iik7YS5iaW5kKHRoaXMuX19pbnB1dCwiY2hhbmdlIixoKTsKYS5iaW5kKHRoaXMuX19pbnB1dCwiYmx1ciIsZnVuY3Rpb24oKXtoKCk7bC5fX29uRmluaXNoQ2hhbmdlJiZsLl9fb25GaW5pc2hDaGFuZ2UuY2FsbChsLGwuZ2V0VmFsdWUoKSl9KTthLmJpbmQodGhpcy5fX2lucHV0LCJtb3VzZWRvd24iLGZ1bmN0aW9uKGIpe2EuYmluZCh3aW5kb3csIm1vdXNlbW92ZSIsaik7YS5iaW5kKHdpbmRvdywibW91c2V1cCIsbSk7bz1iLmNsaWVudFl9KTthLmJpbmQodGhpcy5fX2lucHV0LCJrZXlkb3duIixmdW5jdGlvbihhKXtpZihhLmtleUNvZGU9PT0xMylsLl9fdHJ1bmNhdGlvblN1c3BlbmRlZD10cnVlLHRoaXMuYmx1cigpLGwuX190cnVuY2F0aW9uU3VzcGVuZGVkPWZhbHNlfSk7dGhpcy51cGRhdGVEaXNwbGF5KCk7dGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX19pbnB1dCl9O2Quc3VwZXJjbGFzcz1lO2MuZXh0ZW5kKGQucHJvdG90eXBlLGUucHJvdG90eXBlLHt1cGRhdGVEaXNwbGF5OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fX2lucHV0LApiO2lmKHRoaXMuX190cnVuY2F0aW9uU3VzcGVuZGVkKWI9dGhpcy5nZXRWYWx1ZSgpO2Vsc2V7Yj10aGlzLmdldFZhbHVlKCk7dmFyIGM9TWF0aC5wb3coMTAsdGhpcy5fX3ByZWNpc2lvbik7Yj1NYXRoLnJvdW5kKGIqYykvY31hLnZhbHVlPWI7cmV0dXJuIGQuc3VwZXJjbGFzcy5wcm90b3R5cGUudXBkYXRlRGlzcGxheS5jYWxsKHRoaXMpfX0pO3JldHVybiBkfShkYXQuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlcixkYXQuZG9tLmRvbSxkYXQudXRpbHMuY29tbW9uKTsKZGF0LmNvbnRyb2xsZXJzLk51bWJlckNvbnRyb2xsZXJTbGlkZXI9ZnVuY3Rpb24oZSxhLGMsZCxmKXt2YXIgYj1mdW5jdGlvbihkLGMsZixlLGwpe2Z1bmN0aW9uIG8oYil7Yi5wcmV2ZW50RGVmYXVsdCgpO3ZhciBkPWEuZ2V0T2Zmc2V0KGcuX19iYWNrZ3JvdW5kKSxjPWEuZ2V0V2lkdGgoZy5fX2JhY2tncm91bmQpO2cuc2V0VmFsdWUoZy5fX21pbisoZy5fX21heC1nLl9fbWluKSooKGIuY2xpZW50WC1kLmxlZnQpLyhkLmxlZnQrYy1kLmxlZnQpKSk7cmV0dXJuIGZhbHNlfWZ1bmN0aW9uIHkoKXthLnVuYmluZCh3aW5kb3csIm1vdXNlbW92ZSIsbyk7YS51bmJpbmQod2luZG93LCJtb3VzZXVwIix5KTtnLl9fb25GaW5pc2hDaGFuZ2UmJmcuX19vbkZpbmlzaENoYW5nZS5jYWxsKGcsZy5nZXRWYWx1ZSgpKX1iLnN1cGVyY2xhc3MuY2FsbCh0aGlzLGQsYyx7bWluOmYsbWF4OmUsc3RlcDpsfSk7dmFyIGc9dGhpczt0aGlzLl9fYmFja2dyb3VuZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKdGhpcy5fX2ZvcmVncm91bmQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7YS5iaW5kKHRoaXMuX19iYWNrZ3JvdW5kLCJtb3VzZWRvd24iLGZ1bmN0aW9uKGIpe2EuYmluZCh3aW5kb3csIm1vdXNlbW92ZSIsbyk7YS5iaW5kKHdpbmRvdywibW91c2V1cCIseSk7byhiKX0pO2EuYWRkQ2xhc3ModGhpcy5fX2JhY2tncm91bmQsInNsaWRlciIpO2EuYWRkQ2xhc3ModGhpcy5fX2ZvcmVncm91bmQsInNsaWRlci1mZyIpO3RoaXMudXBkYXRlRGlzcGxheSgpO3RoaXMuX19iYWNrZ3JvdW5kLmFwcGVuZENoaWxkKHRoaXMuX19mb3JlZ3JvdW5kKTt0aGlzLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fX2JhY2tncm91bmQpfTtiLnN1cGVyY2xhc3M9ZTtiLnVzZURlZmF1bHRTdHlsZXM9ZnVuY3Rpb24oKXtjLmluamVjdChmKX07ZC5leHRlbmQoYi5wcm90b3R5cGUsZS5wcm90b3R5cGUse3VwZGF0ZURpc3BsYXk6ZnVuY3Rpb24oKXt0aGlzLl9fZm9yZWdyb3VuZC5zdHlsZS53aWR0aD0KKHRoaXMuZ2V0VmFsdWUoKS10aGlzLl9fbWluKS8odGhpcy5fX21heC10aGlzLl9fbWluKSoxMDArIiUiO3JldHVybiBiLnN1cGVyY2xhc3MucHJvdG90eXBlLnVwZGF0ZURpc3BsYXkuY2FsbCh0aGlzKX19KTtyZXR1cm4gYn0oZGF0LmNvbnRyb2xsZXJzLk51bWJlckNvbnRyb2xsZXIsZGF0LmRvbS5kb20sZGF0LnV0aWxzLmNzcyxkYXQudXRpbHMuY29tbW9uLCIuc2xpZGVyIHtcbiAgYm94LXNoYWRvdzogaW5zZXQgMCAycHggNHB4IHJnYmEoMCwwLDAsMC4xNSk7XG4gIGhlaWdodDogMWVtO1xuICBib3JkZXItcmFkaXVzOiAxZW07XG4gIGJhY2tncm91bmQtY29sb3I6ICNlZWU7XG4gIHBhZGRpbmc6IDAgMC41ZW07XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5cbi5zbGlkZXItZmcge1xuICBwYWRkaW5nOiAxcHggMCAycHggMDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2FhYTtcbiAgaGVpZ2h0OiAxZW07XG4gIG1hcmdpbi1sZWZ0OiAtMC41ZW07XG4gIHBhZGRpbmctcmlnaHQ6IDAuNWVtO1xuICBib3JkZXItcmFkaXVzOiAxZW0gMCAwIDFlbTtcbn1cblxuLnNsaWRlci1mZzphZnRlciB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgYm9yZGVyLXJhZGl1czogMWVtO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICBib3JkZXI6ICAxcHggc29saWQgI2FhYTtcbiAgY29udGVudDogJyc7XG4gIGZsb2F0OiByaWdodDtcbiAgbWFyZ2luLXJpZ2h0OiAtMWVtO1xuICBtYXJnaW4tdG9wOiAtMXB4O1xuICBoZWlnaHQ6IDAuOWVtO1xuICB3aWR0aDogMC45ZW07XG59Iik7CmRhdC5jb250cm9sbGVycy5GdW5jdGlvbkNvbnRyb2xsZXI9ZnVuY3Rpb24oZSxhLGMpe3ZhciBkPWZ1bmN0aW9uKGMsYixlKXtkLnN1cGVyY2xhc3MuY2FsbCh0aGlzLGMsYik7dmFyIGg9dGhpczt0aGlzLl9fYnV0dG9uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RoaXMuX19idXR0b24uaW5uZXJIVE1MPWU9PT12b2lkIDA/IkZpcmUiOmU7YS5iaW5kKHRoaXMuX19idXR0b24sImNsaWNrIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCk7aC5maXJlKCk7cmV0dXJuIGZhbHNlfSk7YS5hZGRDbGFzcyh0aGlzLl9fYnV0dG9uLCJidXR0b24iKTt0aGlzLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fX2J1dHRvbil9O2Quc3VwZXJjbGFzcz1lO2MuZXh0ZW5kKGQucHJvdG90eXBlLGUucHJvdG90eXBlLHtmaXJlOmZ1bmN0aW9uKCl7dGhpcy5fX29uQ2hhbmdlJiZ0aGlzLl9fb25DaGFuZ2UuY2FsbCh0aGlzKTt0aGlzLl9fb25GaW5pc2hDaGFuZ2UmJnRoaXMuX19vbkZpbmlzaENoYW5nZS5jYWxsKHRoaXMsCnRoaXMuZ2V0VmFsdWUoKSk7dGhpcy5nZXRWYWx1ZSgpLmNhbGwodGhpcy5vYmplY3QpfX0pO3JldHVybiBkfShkYXQuY29udHJvbGxlcnMuQ29udHJvbGxlcixkYXQuZG9tLmRvbSxkYXQudXRpbHMuY29tbW9uKTsKZGF0LmNvbnRyb2xsZXJzLkJvb2xlYW5Db250cm9sbGVyPWZ1bmN0aW9uKGUsYSxjKXt2YXIgZD1mdW5jdGlvbihjLGIpe2Quc3VwZXJjbGFzcy5jYWxsKHRoaXMsYyxiKTt2YXIgZT10aGlzO3RoaXMuX19wcmV2PXRoaXMuZ2V0VmFsdWUoKTt0aGlzLl9fY2hlY2tib3g9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt0aGlzLl9fY2hlY2tib3guc2V0QXR0cmlidXRlKCJ0eXBlIiwiY2hlY2tib3giKTthLmJpbmQodGhpcy5fX2NoZWNrYm94LCJjaGFuZ2UiLGZ1bmN0aW9uKCl7ZS5zZXRWYWx1ZSghZS5fX3ByZXYpfSxmYWxzZSk7dGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX19jaGVja2JveCk7dGhpcy51cGRhdGVEaXNwbGF5KCl9O2Quc3VwZXJjbGFzcz1lO2MuZXh0ZW5kKGQucHJvdG90eXBlLGUucHJvdG90eXBlLHtzZXRWYWx1ZTpmdW5jdGlvbihhKXthPWQuc3VwZXJjbGFzcy5wcm90b3R5cGUuc2V0VmFsdWUuY2FsbCh0aGlzLGEpO3RoaXMuX19vbkZpbmlzaENoYW5nZSYmCnRoaXMuX19vbkZpbmlzaENoYW5nZS5jYWxsKHRoaXMsdGhpcy5nZXRWYWx1ZSgpKTt0aGlzLl9fcHJldj10aGlzLmdldFZhbHVlKCk7cmV0dXJuIGF9LHVwZGF0ZURpc3BsYXk6ZnVuY3Rpb24oKXt0aGlzLmdldFZhbHVlKCk9PT10cnVlPyh0aGlzLl9fY2hlY2tib3guc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpLHRoaXMuX19jaGVja2JveC5jaGVja2VkPXRydWUpOnRoaXMuX19jaGVja2JveC5jaGVja2VkPWZhbHNlO3JldHVybiBkLnN1cGVyY2xhc3MucHJvdG90eXBlLnVwZGF0ZURpc3BsYXkuY2FsbCh0aGlzKX19KTtyZXR1cm4gZH0oZGF0LmNvbnRyb2xsZXJzLkNvbnRyb2xsZXIsZGF0LmRvbS5kb20sZGF0LnV0aWxzLmNvbW1vbik7CmRhdC5jb2xvci50b1N0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oYSl7aWYoYS5hPT0xfHxlLmlzVW5kZWZpbmVkKGEuYSkpe2ZvcihhPWEuaGV4LnRvU3RyaW5nKDE2KTthLmxlbmd0aDw2OylhPSIwIithO3JldHVybiIjIithfWVsc2UgcmV0dXJuInJnYmEoIitNYXRoLnJvdW5kKGEucikrIiwiK01hdGgucm91bmQoYS5nKSsiLCIrTWF0aC5yb3VuZChhLmIpKyIsIithLmErIikifX0oZGF0LnV0aWxzLmNvbW1vbik7CmRhdC5jb2xvci5pbnRlcnByZXQ9ZnVuY3Rpb24oZSxhKXt2YXIgYyxkLGY9W3tsaXRtdXM6YS5pc1N0cmluZyxjb252ZXJzaW9uczp7VEhSRUVfQ0hBUl9IRVg6e3JlYWQ6ZnVuY3Rpb24oYSl7YT1hLm1hdGNoKC9eIyhbQS1GMC05XSkoW0EtRjAtOV0pKFtBLUYwLTldKSQvaSk7cmV0dXJuIGE9PT1udWxsP2ZhbHNlOntzcGFjZToiSEVYIixoZXg6cGFyc2VJbnQoIjB4IithWzFdLnRvU3RyaW5nKCkrYVsxXS50b1N0cmluZygpK2FbMl0udG9TdHJpbmcoKSthWzJdLnRvU3RyaW5nKCkrYVszXS50b1N0cmluZygpK2FbM10udG9TdHJpbmcoKSl9fSx3cml0ZTplfSxTSVhfQ0hBUl9IRVg6e3JlYWQ6ZnVuY3Rpb24oYSl7YT1hLm1hdGNoKC9eIyhbQS1GMC05XXs2fSkkL2kpO3JldHVybiBhPT09bnVsbD9mYWxzZTp7c3BhY2U6IkhFWCIsaGV4OnBhcnNlSW50KCIweCIrYVsxXS50b1N0cmluZygpKX19LHdyaXRlOmV9LENTU19SR0I6e3JlYWQ6ZnVuY3Rpb24oYSl7YT1hLm1hdGNoKC9ecmdiXChccyooLispXHMqLFxzKiguKylccyosXHMqKC4rKVxzKlwpLyk7CnJldHVybiBhPT09bnVsbD9mYWxzZTp7c3BhY2U6IlJHQiIscjpwYXJzZUZsb2F0KGFbMV0pLGc6cGFyc2VGbG9hdChhWzJdKSxiOnBhcnNlRmxvYXQoYVszXSl9fSx3cml0ZTplfSxDU1NfUkdCQTp7cmVhZDpmdW5jdGlvbihhKXthPWEubWF0Y2goL15yZ2JhXChccyooLispXHMqLFxzKiguKylccyosXHMqKC4rKVxzKlwsXHMqKC4rKVxzKlwpLyk7cmV0dXJuIGE9PT1udWxsP2ZhbHNlOntzcGFjZToiUkdCIixyOnBhcnNlRmxvYXQoYVsxXSksZzpwYXJzZUZsb2F0KGFbMl0pLGI6cGFyc2VGbG9hdChhWzNdKSxhOnBhcnNlRmxvYXQoYVs0XSl9fSx3cml0ZTplfX19LHtsaXRtdXM6YS5pc051bWJlcixjb252ZXJzaW9uczp7SEVYOntyZWFkOmZ1bmN0aW9uKGEpe3JldHVybntzcGFjZToiSEVYIixoZXg6YSxjb252ZXJzaW9uTmFtZToiSEVYIn19LHdyaXRlOmZ1bmN0aW9uKGEpe3JldHVybiBhLmhleH19fX0se2xpdG11czphLmlzQXJyYXksY29udmVyc2lvbnM6e1JHQl9BUlJBWTp7cmVhZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGghPQozP2ZhbHNlOntzcGFjZToiUkdCIixyOmFbMF0sZzphWzFdLGI6YVsyXX19LHdyaXRlOmZ1bmN0aW9uKGEpe3JldHVyblthLnIsYS5nLGEuYl19fSxSR0JBX0FSUkFZOntyZWFkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmxlbmd0aCE9ND9mYWxzZTp7c3BhY2U6IlJHQiIscjphWzBdLGc6YVsxXSxiOmFbMl0sYTphWzNdfX0sd3JpdGU6ZnVuY3Rpb24oYSl7cmV0dXJuW2EucixhLmcsYS5iLGEuYV19fX19LHtsaXRtdXM6YS5pc09iamVjdCxjb252ZXJzaW9uczp7UkdCQV9PQko6e3JlYWQ6ZnVuY3Rpb24oYil7cmV0dXJuIGEuaXNOdW1iZXIoYi5yKSYmYS5pc051bWJlcihiLmcpJiZhLmlzTnVtYmVyKGIuYikmJmEuaXNOdW1iZXIoYi5hKT97c3BhY2U6IlJHQiIscjpiLnIsZzpiLmcsYjpiLmIsYTpiLmF9OmZhbHNlfSx3cml0ZTpmdW5jdGlvbihhKXtyZXR1cm57cjphLnIsZzphLmcsYjphLmIsYTphLmF9fX0sUkdCX09CSjp7cmVhZDpmdW5jdGlvbihiKXtyZXR1cm4gYS5pc051bWJlcihiLnIpJiYKYS5pc051bWJlcihiLmcpJiZhLmlzTnVtYmVyKGIuYik/e3NwYWNlOiJSR0IiLHI6Yi5yLGc6Yi5nLGI6Yi5ifTpmYWxzZX0sd3JpdGU6ZnVuY3Rpb24oYSl7cmV0dXJue3I6YS5yLGc6YS5nLGI6YS5ifX19LEhTVkFfT0JKOntyZWFkOmZ1bmN0aW9uKGIpe3JldHVybiBhLmlzTnVtYmVyKGIuaCkmJmEuaXNOdW1iZXIoYi5zKSYmYS5pc051bWJlcihiLnYpJiZhLmlzTnVtYmVyKGIuYSk/e3NwYWNlOiJIU1YiLGg6Yi5oLHM6Yi5zLHY6Yi52LGE6Yi5hfTpmYWxzZX0sd3JpdGU6ZnVuY3Rpb24oYSl7cmV0dXJue2g6YS5oLHM6YS5zLHY6YS52LGE6YS5hfX19LEhTVl9PQko6e3JlYWQ6ZnVuY3Rpb24oYil7cmV0dXJuIGEuaXNOdW1iZXIoYi5oKSYmYS5pc051bWJlcihiLnMpJiZhLmlzTnVtYmVyKGIudik/e3NwYWNlOiJIU1YiLGg6Yi5oLHM6Yi5zLHY6Yi52fTpmYWxzZX0sd3JpdGU6ZnVuY3Rpb24oYSl7cmV0dXJue2g6YS5oLHM6YS5zLHY6YS52fX19fX1dO3JldHVybiBmdW5jdGlvbigpe2Q9CmZhbHNlO3ZhciBiPWFyZ3VtZW50cy5sZW5ndGg+MT9hLnRvQXJyYXkoYXJndW1lbnRzKTphcmd1bWVudHNbMF07YS5lYWNoKGYsZnVuY3Rpb24oZSl7aWYoZS5saXRtdXMoYikpcmV0dXJuIGEuZWFjaChlLmNvbnZlcnNpb25zLGZ1bmN0aW9uKGUsZil7Yz1lLnJlYWQoYik7aWYoZD09PWZhbHNlJiZjIT09ZmFsc2UpcmV0dXJuIGQ9YyxjLmNvbnZlcnNpb25OYW1lPWYsYy5jb252ZXJzaW9uPWUsYS5CUkVBS30pLGEuQlJFQUt9KTtyZXR1cm4gZH19KGRhdC5jb2xvci50b1N0cmluZyxkYXQudXRpbHMuY29tbW9uKTsKZGF0LkdVST1kYXQuZ3VpLkdVST1mdW5jdGlvbihlLGEsYyxkLGYsYixuLGgsaixtLGwsbyx5LGcsaSl7ZnVuY3Rpb24gcShhLGIscixjKXtpZihiW3JdPT09dm9pZCAwKXRocm93IEVycm9yKCJPYmplY3QgIitiKycgaGFzIG5vIHByb3BlcnR5ICInK3IrJyInKTtjLmNvbG9yP2I9bmV3IGwoYixyKTooYj1bYixyXS5jb25jYXQoYy5mYWN0b3J5QXJncyksYj1kLmFwcGx5KGEsYikpO2lmKGMuYmVmb3JlIGluc3RhbmNlb2YgZiljLmJlZm9yZT1jLmJlZm9yZS5fX2xpO3QoYSxiKTtnLmFkZENsYXNzKGIuZG9tRWxlbWVudCwiYyIpO3I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO2cuYWRkQ2xhc3MociwicHJvcGVydHktbmFtZSIpO3IuaW5uZXJIVE1MPWIucHJvcGVydHk7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ZS5hcHBlbmRDaGlsZChyKTtlLmFwcGVuZENoaWxkKGIuZG9tRWxlbWVudCk7Yz1zKGEsZSxjLmJlZm9yZSk7Zy5hZGRDbGFzcyhjLGsuQ0xBU1NfQ09OVFJPTExFUl9ST1cpOwpnLmFkZENsYXNzKGMsdHlwZW9mIGIuZ2V0VmFsdWUoKSk7cChhLGMsYik7YS5fX2NvbnRyb2xsZXJzLnB1c2goYik7cmV0dXJuIGJ9ZnVuY3Rpb24gcyhhLGIsZCl7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGkiKTtiJiZjLmFwcGVuZENoaWxkKGIpO2Q/YS5fX3VsLmluc2VydEJlZm9yZShjLHBhcmFtcy5iZWZvcmUpOmEuX191bC5hcHBlbmRDaGlsZChjKTthLm9uUmVzaXplKCk7cmV0dXJuIGN9ZnVuY3Rpb24gcChhLGQsYyl7Yy5fX2xpPWQ7Yy5fX2d1aT1hO2kuZXh0ZW5kKGMse29wdGlvbnM6ZnVuY3Rpb24oYil7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXJldHVybiBjLnJlbW92ZSgpLHEoYSxjLm9iamVjdCxjLnByb3BlcnR5LHtiZWZvcmU6Yy5fX2xpLm5leHRFbGVtZW50U2libGluZyxmYWN0b3J5QXJnczpbaS50b0FycmF5KGFyZ3VtZW50cyldfSk7aWYoaS5pc0FycmF5KGIpfHxpLmlzT2JqZWN0KGIpKXJldHVybiBjLnJlbW92ZSgpLHEoYSxjLm9iamVjdCxjLnByb3BlcnR5LAp7YmVmb3JlOmMuX19saS5uZXh0RWxlbWVudFNpYmxpbmcsZmFjdG9yeUFyZ3M6W2JdfSl9LG5hbWU6ZnVuY3Rpb24oYSl7Yy5fX2xpLmZpcnN0RWxlbWVudENoaWxkLmZpcnN0RWxlbWVudENoaWxkLmlubmVySFRNTD1hO3JldHVybiBjfSxsaXN0ZW46ZnVuY3Rpb24oKXtjLl9fZ3VpLmxpc3RlbihjKTtyZXR1cm4gY30scmVtb3ZlOmZ1bmN0aW9uKCl7Yy5fX2d1aS5yZW1vdmUoYyk7cmV0dXJuIGN9fSk7aWYoYyBpbnN0YW5jZW9mIGope3ZhciBlPW5ldyBoKGMub2JqZWN0LGMucHJvcGVydHkse21pbjpjLl9fbWluLG1heDpjLl9fbWF4LHN0ZXA6Yy5fX3N0ZXB9KTtpLmVhY2goWyJ1cGRhdGVEaXNwbGF5Iiwib25DaGFuZ2UiLCJvbkZpbmlzaENoYW5nZSJdLGZ1bmN0aW9uKGEpe3ZhciBiPWNbYV0sSD1lW2FdO2NbYV09ZVthXT1mdW5jdGlvbigpe3ZhciBhPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7Yi5hcHBseShjLGEpO3JldHVybiBILmFwcGx5KGUsYSl9fSk7CmcuYWRkQ2xhc3MoZCwiaGFzLXNsaWRlciIpO2MuZG9tRWxlbWVudC5pbnNlcnRCZWZvcmUoZS5kb21FbGVtZW50LGMuZG9tRWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZCl9ZWxzZSBpZihjIGluc3RhbmNlb2YgaCl7dmFyIGY9ZnVuY3Rpb24oYil7cmV0dXJuIGkuaXNOdW1iZXIoYy5fX21pbikmJmkuaXNOdW1iZXIoYy5fX21heCk/KGMucmVtb3ZlKCkscShhLGMub2JqZWN0LGMucHJvcGVydHkse2JlZm9yZTpjLl9fbGkubmV4dEVsZW1lbnRTaWJsaW5nLGZhY3RvcnlBcmdzOltjLl9fbWluLGMuX19tYXgsYy5fX3N0ZXBdfSkpOmJ9O2MubWluPWkuY29tcG9zZShmLGMubWluKTtjLm1heD1pLmNvbXBvc2UoZixjLm1heCl9ZWxzZSBpZihjIGluc3RhbmNlb2YgYilnLmJpbmQoZCwiY2xpY2siLGZ1bmN0aW9uKCl7Zy5mYWtlRXZlbnQoYy5fX2NoZWNrYm94LCJjbGljayIpfSksZy5iaW5kKGMuX19jaGVja2JveCwiY2xpY2siLGZ1bmN0aW9uKGEpe2Euc3RvcFByb3BhZ2F0aW9uKCl9KTsKZWxzZSBpZihjIGluc3RhbmNlb2YgbilnLmJpbmQoZCwiY2xpY2siLGZ1bmN0aW9uKCl7Zy5mYWtlRXZlbnQoYy5fX2J1dHRvbiwiY2xpY2siKX0pLGcuYmluZChkLCJtb3VzZW92ZXIiLGZ1bmN0aW9uKCl7Zy5hZGRDbGFzcyhjLl9fYnV0dG9uLCJob3ZlciIpfSksZy5iaW5kKGQsIm1vdXNlb3V0IixmdW5jdGlvbigpe2cucmVtb3ZlQ2xhc3MoYy5fX2J1dHRvbiwiaG92ZXIiKX0pO2Vsc2UgaWYoYyBpbnN0YW5jZW9mIGwpZy5hZGRDbGFzcyhkLCJjb2xvciIpLGMudXBkYXRlRGlzcGxheT1pLmNvbXBvc2UoZnVuY3Rpb24oYSl7ZC5zdHlsZS5ib3JkZXJMZWZ0Q29sb3I9Yy5fX2NvbG9yLnRvU3RyaW5nKCk7cmV0dXJuIGF9LGMudXBkYXRlRGlzcGxheSksYy51cGRhdGVEaXNwbGF5KCk7Yy5zZXRWYWx1ZT1pLmNvbXBvc2UoZnVuY3Rpb24oYil7YS5nZXRSb290KCkuX19wcmVzZXRfc2VsZWN0JiZjLmlzTW9kaWZpZWQoKSYmQihhLmdldFJvb3QoKSx0cnVlKTtyZXR1cm4gYn0sYy5zZXRWYWx1ZSl9CmZ1bmN0aW9uIHQoYSxiKXt2YXIgYz1hLmdldFJvb3QoKSxkPWMuX19yZW1lbWJlcmVkT2JqZWN0cy5pbmRleE9mKGIub2JqZWN0KTtpZihkIT0tMSl7dmFyIGU9Yy5fX3JlbWVtYmVyZWRPYmplY3RJbmRlY2VzVG9Db250cm9sbGVyc1tkXTtlPT09dm9pZCAwJiYoZT17fSxjLl9fcmVtZW1iZXJlZE9iamVjdEluZGVjZXNUb0NvbnRyb2xsZXJzW2RdPWUpO2VbYi5wcm9wZXJ0eV09YjtpZihjLmxvYWQmJmMubG9hZC5yZW1lbWJlcmVkKXtjPWMubG9hZC5yZW1lbWJlcmVkO2lmKGNbYS5wcmVzZXRdKWM9Y1thLnByZXNldF07ZWxzZSBpZihjW3ddKWM9Y1t3XTtlbHNlIHJldHVybjtpZihjW2RdJiZjW2RdW2IucHJvcGVydHldIT09dm9pZCAwKWQ9Y1tkXVtiLnByb3BlcnR5XSxiLmluaXRpYWxWYWx1ZT1kLGIuc2V0VmFsdWUoZCl9fX1mdW5jdGlvbiBJKGEpe3ZhciBiPWEuX19zYXZlX3Jvdz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaSIpO2cuYWRkQ2xhc3MoYS5kb21FbGVtZW50LAoiaGFzLXNhdmUiKTthLl9fdWwuaW5zZXJ0QmVmb3JlKGIsYS5fX3VsLmZpcnN0Q2hpbGQpO2cuYWRkQ2xhc3MoYiwic2F2ZS1yb3ciKTt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7Yy5pbm5lckhUTUw9IiZuYnNwOyI7Zy5hZGRDbGFzcyhjLCJidXR0b24gZ2VhcnMiKTt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7ZC5pbm5lckhUTUw9IlNhdmUiO2cuYWRkQ2xhc3MoZCwiYnV0dG9uIik7Zy5hZGRDbGFzcyhkLCJzYXZlIik7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO2UuaW5uZXJIVE1MPSJOZXciO2cuYWRkQ2xhc3MoZSwiYnV0dG9uIik7Zy5hZGRDbGFzcyhlLCJzYXZlLWFzIik7dmFyIGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO2YuaW5uZXJIVE1MPSJSZXZlcnQiO2cuYWRkQ2xhc3MoZiwiYnV0dG9uIik7Zy5hZGRDbGFzcyhmLCJyZXZlcnQiKTt2YXIgbT1hLl9fcHJlc2V0X3NlbGVjdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKTsKYS5sb2FkJiZhLmxvYWQucmVtZW1iZXJlZD9pLmVhY2goYS5sb2FkLnJlbWVtYmVyZWQsZnVuY3Rpb24oYixjKXtDKGEsYyxjPT1hLnByZXNldCl9KTpDKGEsdyxmYWxzZSk7Zy5iaW5kKG0sImNoYW5nZSIsZnVuY3Rpb24oKXtmb3IodmFyIGI9MDtiPGEuX19wcmVzZXRfc2VsZWN0Lmxlbmd0aDtiKyspYS5fX3ByZXNldF9zZWxlY3RbYl0uaW5uZXJIVE1MPWEuX19wcmVzZXRfc2VsZWN0W2JdLnZhbHVlO2EucHJlc2V0PXRoaXMudmFsdWV9KTtiLmFwcGVuZENoaWxkKG0pO2IuYXBwZW5kQ2hpbGQoYyk7Yi5hcHBlbmRDaGlsZChkKTtiLmFwcGVuZENoaWxkKGUpO2IuYXBwZW5kQ2hpbGQoZik7aWYodSl7dmFyIGI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRnLXNhdmUtbG9jYWxseSIpLGw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRnLWxvY2FsLWV4cGxhaW4iKTtiLnN0eWxlLmRpc3BsYXk9ImJsb2NrIjtiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkZy1sb2NhbC1zdG9yYWdlIik7CmxvY2FsU3RvcmFnZS5nZXRJdGVtKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYrIi5pc0xvY2FsIik9PT0idHJ1ZSImJmIuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpO3ZhciBvPWZ1bmN0aW9uKCl7bC5zdHlsZS5kaXNwbGF5PWEudXNlTG9jYWxTdG9yYWdlPyJibG9jayI6Im5vbmUifTtvKCk7Zy5iaW5kKGIsImNoYW5nZSIsZnVuY3Rpb24oKXthLnVzZUxvY2FsU3RvcmFnZT0hYS51c2VMb2NhbFN0b3JhZ2U7bygpfSl9dmFyIGg9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRnLW5ldy1jb25zdHJ1Y3RvciIpO2cuYmluZChoLCJrZXlkb3duIixmdW5jdGlvbihhKXthLm1ldGFLZXkmJihhLndoaWNoPT09Njd8fGEua2V5Q29kZT09NjcpJiZ4LmhpZGUoKX0pO2cuYmluZChjLCJjbGljayIsZnVuY3Rpb24oKXtoLmlubmVySFRNTD1KU09OLnN0cmluZ2lmeShhLmdldFNhdmVPYmplY3QoKSx2b2lkIDAsMik7eC5zaG93KCk7aC5mb2N1cygpO2guc2VsZWN0KCl9KTtnLmJpbmQoZCwKImNsaWNrIixmdW5jdGlvbigpe2Euc2F2ZSgpfSk7Zy5iaW5kKGUsImNsaWNrIixmdW5jdGlvbigpe3ZhciBiPXByb21wdCgiRW50ZXIgYSBuZXcgcHJlc2V0IG5hbWUuIik7YiYmYS5zYXZlQXMoYil9KTtnLmJpbmQoZiwiY2xpY2siLGZ1bmN0aW9uKCl7YS5yZXZlcnQoKX0pfWZ1bmN0aW9uIEooYSl7ZnVuY3Rpb24gYihmKXtmLnByZXZlbnREZWZhdWx0KCk7ZT1mLmNsaWVudFg7Zy5hZGRDbGFzcyhhLl9fY2xvc2VCdXR0b24say5DTEFTU19EUkFHKTtnLmJpbmQod2luZG93LCJtb3VzZW1vdmUiLGMpO2cuYmluZCh3aW5kb3csIm1vdXNldXAiLGQpO3JldHVybiBmYWxzZX1mdW5jdGlvbiBjKGIpe2IucHJldmVudERlZmF1bHQoKTthLndpZHRoKz1lLWIuY2xpZW50WDthLm9uUmVzaXplKCk7ZT1iLmNsaWVudFg7cmV0dXJuIGZhbHNlfWZ1bmN0aW9uIGQoKXtnLnJlbW92ZUNsYXNzKGEuX19jbG9zZUJ1dHRvbixrLkNMQVNTX0RSQUcpO2cudW5iaW5kKHdpbmRvdywibW91c2Vtb3ZlIiwKYyk7Zy51bmJpbmQod2luZG93LCJtb3VzZXVwIixkKX1hLl9fcmVzaXplX2hhbmRsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtpLmV4dGVuZChhLl9fcmVzaXplX2hhbmRsZS5zdHlsZSx7d2lkdGg6IjZweCIsbWFyZ2luTGVmdDoiLTNweCIsaGVpZ2h0OiIyMDBweCIsY3Vyc29yOiJldy1yZXNpemUiLHBvc2l0aW9uOiJhYnNvbHV0ZSJ9KTt2YXIgZTtnLmJpbmQoYS5fX3Jlc2l6ZV9oYW5kbGUsIm1vdXNlZG93biIsYik7Zy5iaW5kKGEuX19jbG9zZUJ1dHRvbiwibW91c2Vkb3duIixiKTthLmRvbUVsZW1lbnQuaW5zZXJ0QmVmb3JlKGEuX19yZXNpemVfaGFuZGxlLGEuZG9tRWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZCl9ZnVuY3Rpb24gRChhLGIpe2EuZG9tRWxlbWVudC5zdHlsZS53aWR0aD1iKyJweCI7aWYoYS5fX3NhdmVfcm93JiZhLmF1dG9QbGFjZSlhLl9fc2F2ZV9yb3cuc3R5bGUud2lkdGg9YisicHgiO2lmKGEuX19jbG9zZUJ1dHRvbilhLl9fY2xvc2VCdXR0b24uc3R5bGUud2lkdGg9CmIrInB4In1mdW5jdGlvbiB6KGEsYil7dmFyIGM9e307aS5lYWNoKGEuX19yZW1lbWJlcmVkT2JqZWN0cyxmdW5jdGlvbihkLGUpe3ZhciBmPXt9O2kuZWFjaChhLl9fcmVtZW1iZXJlZE9iamVjdEluZGVjZXNUb0NvbnRyb2xsZXJzW2VdLGZ1bmN0aW9uKGEsYyl7ZltjXT1iP2EuaW5pdGlhbFZhbHVlOmEuZ2V0VmFsdWUoKX0pO2NbZV09Zn0pO3JldHVybiBjfWZ1bmN0aW9uIEMoYSxiLGMpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpO2QuaW5uZXJIVE1MPWI7ZC52YWx1ZT1iO2EuX19wcmVzZXRfc2VsZWN0LmFwcGVuZENoaWxkKGQpO2lmKGMpYS5fX3ByZXNldF9zZWxlY3Quc2VsZWN0ZWRJbmRleD1hLl9fcHJlc2V0X3NlbGVjdC5sZW5ndGgtMX1mdW5jdGlvbiBCKGEsYil7dmFyIGM9YS5fX3ByZXNldF9zZWxlY3RbYS5fX3ByZXNldF9zZWxlY3Quc2VsZWN0ZWRJbmRleF07Yy5pbm5lckhUTUw9Yj9jLnZhbHVlKyIqIjpjLnZhbHVlfWZ1bmN0aW9uIEUoYSl7YS5sZW5ndGghPQowJiZvKGZ1bmN0aW9uKCl7RShhKX0pO2kuZWFjaChhLGZ1bmN0aW9uKGEpe2EudXBkYXRlRGlzcGxheSgpfSl9ZS5pbmplY3QoYyk7dmFyIHc9IkRlZmF1bHQiLHU7dHJ5e3U9ImxvY2FsU3RvcmFnZSJpbiB3aW5kb3cmJndpbmRvdy5sb2NhbFN0b3JhZ2UhPT1udWxsfWNhdGNoKEspe3U9ZmFsc2V9dmFyIHgsRj10cnVlLHYsQT1mYWxzZSxHPVtdLGs9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe2xvY2FsU3RvcmFnZS5zZXRJdGVtKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYrIi5ndWkiLEpTT04uc3RyaW5naWZ5KGQuZ2V0U2F2ZU9iamVjdCgpKSl9ZnVuY3Rpb24gYygpe3ZhciBhPWQuZ2V0Um9vdCgpO2Eud2lkdGgrPTE7aS5kZWZlcihmdW5jdGlvbigpe2Eud2lkdGgtPTF9KX12YXIgZD10aGlzO3RoaXMuZG9tRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLl9fdWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidWwiKTt0aGlzLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fX3VsKTsKZy5hZGRDbGFzcyh0aGlzLmRvbUVsZW1lbnQsImRnIik7dGhpcy5fX2ZvbGRlcnM9e307dGhpcy5fX2NvbnRyb2xsZXJzPVtdO3RoaXMuX19yZW1lbWJlcmVkT2JqZWN0cz1bXTt0aGlzLl9fcmVtZW1iZXJlZE9iamVjdEluZGVjZXNUb0NvbnRyb2xsZXJzPVtdO3RoaXMuX19saXN0ZW5pbmc9W107YT1hfHx7fTthPWkuZGVmYXVsdHMoYSx7YXV0b1BsYWNlOnRydWUsd2lkdGg6ay5ERUZBVUxUX1dJRFRIfSk7YT1pLmRlZmF1bHRzKGEse3Jlc2l6YWJsZTphLmF1dG9QbGFjZSxoaWRlYWJsZTphLmF1dG9QbGFjZX0pO2lmKGkuaXNVbmRlZmluZWQoYS5sb2FkKSlhLmxvYWQ9e3ByZXNldDp3fTtlbHNlIGlmKGEucHJlc2V0KWEubG9hZC5wcmVzZXQ9YS5wcmVzZXQ7aS5pc1VuZGVmaW5lZChhLnBhcmVudCkmJmEuaGlkZWFibGUmJkcucHVzaCh0aGlzKTthLnJlc2l6YWJsZT1pLmlzVW5kZWZpbmVkKGEucGFyZW50KSYmYS5yZXNpemFibGU7aWYoYS5hdXRvUGxhY2UmJmkuaXNVbmRlZmluZWQoYS5zY3JvbGxhYmxlKSlhLnNjcm9sbGFibGU9CnRydWU7dmFyIGU9dSYmbG9jYWxTdG9yYWdlLmdldEl0ZW0oZG9jdW1lbnQubG9jYXRpb24uaHJlZisiLmlzTG9jYWwiKT09PSJ0cnVlIjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtwYXJlbnQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBhLnBhcmVudH19LHNjcm9sbGFibGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBhLnNjcm9sbGFibGV9fSxhdXRvUGxhY2U6e2dldDpmdW5jdGlvbigpe3JldHVybiBhLmF1dG9QbGFjZX19LHByZXNldDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQucGFyZW50P2QuZ2V0Um9vdCgpLnByZXNldDphLmxvYWQucHJlc2V0fSxzZXQ6ZnVuY3Rpb24oYil7ZC5wYXJlbnQ/ZC5nZXRSb290KCkucHJlc2V0PWI6YS5sb2FkLnByZXNldD1iO2ZvcihiPTA7Yjx0aGlzLl9fcHJlc2V0X3NlbGVjdC5sZW5ndGg7YisrKWlmKHRoaXMuX19wcmVzZXRfc2VsZWN0W2JdLnZhbHVlPT10aGlzLnByZXNldCl0aGlzLl9fcHJlc2V0X3NlbGVjdC5zZWxlY3RlZEluZGV4PQpiO2QucmV2ZXJ0KCl9fSx3aWR0aDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEud2lkdGh9LHNldDpmdW5jdGlvbihiKXthLndpZHRoPWI7RChkLGIpfX0sbmFtZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEubmFtZX0sc2V0OmZ1bmN0aW9uKGIpe2EubmFtZT1iO2lmKG0pbS5pbm5lckhUTUw9YS5uYW1lfX0sY2xvc2VkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5jbG9zZWR9LHNldDpmdW5jdGlvbihiKXthLmNsb3NlZD1iO2EuY2xvc2VkP2cuYWRkQ2xhc3MoZC5fX3VsLGsuQ0xBU1NfQ0xPU0VEKTpnLnJlbW92ZUNsYXNzKGQuX191bCxrLkNMQVNTX0NMT1NFRCk7dGhpcy5vblJlc2l6ZSgpO2lmKGQuX19jbG9zZUJ1dHRvbilkLl9fY2xvc2VCdXR0b24uaW5uZXJIVE1MPWI/ay5URVhUX09QRU46ay5URVhUX0NMT1NFRH19LGxvYWQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBhLmxvYWR9fSx1c2VMb2NhbFN0b3JhZ2U6e2dldDpmdW5jdGlvbigpe3JldHVybiBlfSxzZXQ6ZnVuY3Rpb24oYSl7dSYmCigoZT1hKT9nLmJpbmQod2luZG93LCJ1bmxvYWQiLGIpOmcudW5iaW5kKHdpbmRvdywidW5sb2FkIixiKSxsb2NhbFN0b3JhZ2Uuc2V0SXRlbShkb2N1bWVudC5sb2NhdGlvbi5ocmVmKyIuaXNMb2NhbCIsYSkpfX19KTtpZihpLmlzVW5kZWZpbmVkKGEucGFyZW50KSl7YS5jbG9zZWQ9ZmFsc2U7Zy5hZGRDbGFzcyh0aGlzLmRvbUVsZW1lbnQsay5DTEFTU19NQUlOKTtnLm1ha2VTZWxlY3RhYmxlKHRoaXMuZG9tRWxlbWVudCxmYWxzZSk7aWYodSYmZSl7ZC51c2VMb2NhbFN0b3JhZ2U9dHJ1ZTt2YXIgZj1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShkb2N1bWVudC5sb2NhdGlvbi5ocmVmKyIuZ3VpIik7aWYoZilhLmxvYWQ9SlNPTi5wYXJzZShmKX10aGlzLl9fY2xvc2VCdXR0b249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dGhpcy5fX2Nsb3NlQnV0dG9uLmlubmVySFRNTD1rLlRFWFRfQ0xPU0VEO2cuYWRkQ2xhc3ModGhpcy5fX2Nsb3NlQnV0dG9uLGsuQ0xBU1NfQ0xPU0VfQlVUVE9OKTsKdGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX19jbG9zZUJ1dHRvbik7Zy5iaW5kKHRoaXMuX19jbG9zZUJ1dHRvbiwiY2xpY2siLGZ1bmN0aW9uKCl7ZC5jbG9zZWQ9IWQuY2xvc2VkfSl9ZWxzZXtpZihhLmNsb3NlZD09PXZvaWQgMClhLmNsb3NlZD10cnVlO3ZhciBtPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGEubmFtZSk7Zy5hZGRDbGFzcyhtLCJjb250cm9sbGVyLW5hbWUiKTtmPXMoZCxtKTtnLmFkZENsYXNzKHRoaXMuX191bCxrLkNMQVNTX0NMT1NFRCk7Zy5hZGRDbGFzcyhmLCJ0aXRsZSIpO2cuYmluZChmLCJjbGljayIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpO2QuY2xvc2VkPSFkLmNsb3NlZDtyZXR1cm4gZmFsc2V9KTtpZighYS5jbG9zZWQpdGhpcy5jbG9zZWQ9ZmFsc2V9YS5hdXRvUGxhY2UmJihpLmlzVW5kZWZpbmVkKGEucGFyZW50KSYmKEYmJih2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGcuYWRkQ2xhc3ModiwiZGciKSxnLmFkZENsYXNzKHYsCmsuQ0xBU1NfQVVUT19QTEFDRV9DT05UQUlORVIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodiksRj1mYWxzZSksdi5hcHBlbmRDaGlsZCh0aGlzLmRvbUVsZW1lbnQpLGcuYWRkQ2xhc3ModGhpcy5kb21FbGVtZW50LGsuQ0xBU1NfQVVUT19QTEFDRSkpLHRoaXMucGFyZW50fHxEKGQsYS53aWR0aCkpO2cuYmluZCh3aW5kb3csInJlc2l6ZSIsZnVuY3Rpb24oKXtkLm9uUmVzaXplKCl9KTtnLmJpbmQodGhpcy5fX3VsLCJ3ZWJraXRUcmFuc2l0aW9uRW5kIixmdW5jdGlvbigpe2Qub25SZXNpemUoKX0pO2cuYmluZCh0aGlzLl9fdWwsInRyYW5zaXRpb25lbmQiLGZ1bmN0aW9uKCl7ZC5vblJlc2l6ZSgpfSk7Zy5iaW5kKHRoaXMuX191bCwib1RyYW5zaXRpb25FbmQiLGZ1bmN0aW9uKCl7ZC5vblJlc2l6ZSgpfSk7dGhpcy5vblJlc2l6ZSgpO2EucmVzaXphYmxlJiZKKHRoaXMpO2QuZ2V0Um9vdCgpO2EucGFyZW50fHxjKCl9O2sudG9nZ2xlSGlkZT1mdW5jdGlvbigpe0E9IUE7aS5lYWNoKEcsCmZ1bmN0aW9uKGEpe2EuZG9tRWxlbWVudC5zdHlsZS56SW5kZXg9QT8tOTk5Ojk5OTthLmRvbUVsZW1lbnQuc3R5bGUub3BhY2l0eT1BPzA6MX0pfTtrLkNMQVNTX0FVVE9fUExBQ0U9ImEiO2suQ0xBU1NfQVVUT19QTEFDRV9DT05UQUlORVI9ImFjIjtrLkNMQVNTX01BSU49Im1haW4iO2suQ0xBU1NfQ09OVFJPTExFUl9ST1c9ImNyIjtrLkNMQVNTX1RPT19UQUxMPSJ0YWxsZXItdGhhbi13aW5kb3ciO2suQ0xBU1NfQ0xPU0VEPSJjbG9zZWQiO2suQ0xBU1NfQ0xPU0VfQlVUVE9OPSJjbG9zZS1idXR0b24iO2suQ0xBU1NfRFJBRz0iZHJhZyI7ay5ERUZBVUxUX1dJRFRIPTI0NTtrLlRFWFRfQ0xPU0VEPSJDbG9zZSBDb250cm9scyI7ay5URVhUX09QRU49Ik9wZW4gQ29udHJvbHMiO2cuYmluZCh3aW5kb3csImtleWRvd24iLGZ1bmN0aW9uKGEpe2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQudHlwZSE9PSJ0ZXh0IiYmKGEud2hpY2g9PT03Mnx8YS5rZXlDb2RlPT03MikmJmsudG9nZ2xlSGlkZSgpfSwKZmFsc2UpO2kuZXh0ZW5kKGsucHJvdG90eXBlLHthZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcSh0aGlzLGEsYix7ZmFjdG9yeUFyZ3M6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpfSl9LGFkZENvbG9yOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHEodGhpcyxhLGIse2NvbG9yOnRydWV9KX0scmVtb3ZlOmZ1bmN0aW9uKGEpe3RoaXMuX191bC5yZW1vdmVDaGlsZChhLl9fbGkpO3RoaXMuX19jb250cm9sbGVycy5zbGljZSh0aGlzLl9fY29udHJvbGxlcnMuaW5kZXhPZihhKSwxKTt2YXIgYj10aGlzO2kuZGVmZXIoZnVuY3Rpb24oKXtiLm9uUmVzaXplKCl9KX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuYXV0b1BsYWNlJiZ2LnJlbW92ZUNoaWxkKHRoaXMuZG9tRWxlbWVudCl9LGFkZEZvbGRlcjpmdW5jdGlvbihhKXtpZih0aGlzLl9fZm9sZGVyc1thXSE9PXZvaWQgMCl0aHJvdyBFcnJvcignWW91IGFscmVhZHkgaGF2ZSBhIGZvbGRlciBpbiB0aGlzIEdVSSBieSB0aGUgbmFtZSAiJysKYSsnIicpO3ZhciBiPXtuYW1lOmEscGFyZW50OnRoaXN9O2IuYXV0b1BsYWNlPXRoaXMuYXV0b1BsYWNlO2lmKHRoaXMubG9hZCYmdGhpcy5sb2FkLmZvbGRlcnMmJnRoaXMubG9hZC5mb2xkZXJzW2FdKWIuY2xvc2VkPXRoaXMubG9hZC5mb2xkZXJzW2FdLmNsb3NlZCxiLmxvYWQ9dGhpcy5sb2FkLmZvbGRlcnNbYV07Yj1uZXcgayhiKTt0aGlzLl9fZm9sZGVyc1thXT1iO2E9cyh0aGlzLGIuZG9tRWxlbWVudCk7Zy5hZGRDbGFzcyhhLCJmb2xkZXIiKTtyZXR1cm4gYn0sb3BlbjpmdW5jdGlvbigpe3RoaXMuY2xvc2VkPWZhbHNlfSxjbG9zZTpmdW5jdGlvbigpe3RoaXMuY2xvc2VkPXRydWV9LG9uUmVzaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRSb290KCk7aWYoYS5zY3JvbGxhYmxlKXt2YXIgYj1nLmdldE9mZnNldChhLl9fdWwpLnRvcCxjPTA7aS5lYWNoKGEuX191bC5jaGlsZE5vZGVzLGZ1bmN0aW9uKGIpe2EuYXV0b1BsYWNlJiZiPT09YS5fX3NhdmVfcm93fHwoYys9CmcuZ2V0SGVpZ2h0KGIpKX0pO3dpbmRvdy5pbm5lckhlaWdodC1iLTIwPGM/KGcuYWRkQ2xhc3MoYS5kb21FbGVtZW50LGsuQ0xBU1NfVE9PX1RBTEwpLGEuX191bC5zdHlsZS5oZWlnaHQ9d2luZG93LmlubmVySGVpZ2h0LWItMjArInB4Iik6KGcucmVtb3ZlQ2xhc3MoYS5kb21FbGVtZW50LGsuQ0xBU1NfVE9PX1RBTEwpLGEuX191bC5zdHlsZS5oZWlnaHQ9ImF1dG8iKX1hLl9fcmVzaXplX2hhbmRsZSYmaS5kZWZlcihmdW5jdGlvbigpe2EuX19yZXNpemVfaGFuZGxlLnN0eWxlLmhlaWdodD1hLl9fdWwub2Zmc2V0SGVpZ2h0KyJweCJ9KTtpZihhLl9fY2xvc2VCdXR0b24pYS5fX2Nsb3NlQnV0dG9uLnN0eWxlLndpZHRoPWEud2lkdGgrInB4In0scmVtZW1iZXI6ZnVuY3Rpb24oKXtpZihpLmlzVW5kZWZpbmVkKHgpKXg9bmV3IHkseC5kb21FbGVtZW50LmlubmVySFRNTD1hO2lmKHRoaXMucGFyZW50KXRocm93IEVycm9yKCJZb3UgY2FuIG9ubHkgY2FsbCByZW1lbWJlciBvbiBhIHRvcCBsZXZlbCBHVUkuIik7CnZhciBiPXRoaXM7aS5lYWNoKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksZnVuY3Rpb24oYSl7Yi5fX3JlbWVtYmVyZWRPYmplY3RzLmxlbmd0aD09MCYmSShiKTtiLl9fcmVtZW1iZXJlZE9iamVjdHMuaW5kZXhPZihhKT09LTEmJmIuX19yZW1lbWJlcmVkT2JqZWN0cy5wdXNoKGEpfSk7dGhpcy5hdXRvUGxhY2UmJkQodGhpcyx0aGlzLndpZHRoKX0sZ2V0Um9vdDpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzO2EucGFyZW50OylhPWEucGFyZW50O3JldHVybiBhfSxnZXRTYXZlT2JqZWN0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5sb2FkO2EuY2xvc2VkPXRoaXMuY2xvc2VkO2lmKHRoaXMuX19yZW1lbWJlcmVkT2JqZWN0cy5sZW5ndGg+MCl7YS5wcmVzZXQ9dGhpcy5wcmVzZXQ7aWYoIWEucmVtZW1iZXJlZClhLnJlbWVtYmVyZWQ9e307YS5yZW1lbWJlcmVkW3RoaXMucHJlc2V0XT16KHRoaXMpfWEuZm9sZGVycz17fTtpLmVhY2godGhpcy5fX2ZvbGRlcnMsZnVuY3Rpb24oYiwKYyl7YS5mb2xkZXJzW2NdPWIuZ2V0U2F2ZU9iamVjdCgpfSk7cmV0dXJuIGF9LHNhdmU6ZnVuY3Rpb24oKXtpZighdGhpcy5sb2FkLnJlbWVtYmVyZWQpdGhpcy5sb2FkLnJlbWVtYmVyZWQ9e307dGhpcy5sb2FkLnJlbWVtYmVyZWRbdGhpcy5wcmVzZXRdPXoodGhpcyk7Qih0aGlzLGZhbHNlKX0sc2F2ZUFzOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmxvYWQucmVtZW1iZXJlZCl0aGlzLmxvYWQucmVtZW1iZXJlZD17fSx0aGlzLmxvYWQucmVtZW1iZXJlZFt3XT16KHRoaXMsdHJ1ZSk7dGhpcy5sb2FkLnJlbWVtYmVyZWRbYV09eih0aGlzKTt0aGlzLnByZXNldD1hO0ModGhpcyxhLHRydWUpfSxyZXZlcnQ6ZnVuY3Rpb24oYSl7aS5lYWNoKHRoaXMuX19jb250cm9sbGVycyxmdW5jdGlvbihiKXt0aGlzLmdldFJvb3QoKS5sb2FkLnJlbWVtYmVyZWQ/dChhfHx0aGlzLmdldFJvb3QoKSxiKTpiLnNldFZhbHVlKGIuaW5pdGlhbFZhbHVlKX0sdGhpcyk7aS5lYWNoKHRoaXMuX19mb2xkZXJzLApmdW5jdGlvbihhKXthLnJldmVydChhKX0pO2F8fEIodGhpcy5nZXRSb290KCksZmFsc2UpfSxsaXN0ZW46ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fX2xpc3RlbmluZy5sZW5ndGg9PTA7dGhpcy5fX2xpc3RlbmluZy5wdXNoKGEpO2ImJkUodGhpcy5fX2xpc3RlbmluZyl9fSk7cmV0dXJuIGt9KGRhdC51dGlscy5jc3MsJzxkaXYgaWQ9ImRnLXNhdmUiIGNsYXNzPSJkZyBkaWFsb2d1ZSI+XG5cbiAgSGVyZVwncyB0aGUgbmV3IGxvYWQgcGFyYW1ldGVyIGZvciB5b3VyIDxjb2RlPkdVSTwvY29kZT5cJ3MgY29uc3RydWN0b3I6XG5cbiAgPHRleHRhcmVhIGlkPSJkZy1uZXctY29uc3RydWN0b3IiPjwvdGV4dGFyZWE+XG5cbiAgPGRpdiBpZD0iZGctc2F2ZS1sb2NhbGx5Ij5cblxuICAgIDxpbnB1dCBpZD0iZGctbG9jYWwtc3RvcmFnZSIgdHlwZT0iY2hlY2tib3giLz4gQXV0b21hdGljYWxseSBzYXZlXG4gICAgdmFsdWVzIHRvIDxjb2RlPmxvY2FsU3RvcmFnZTwvY29kZT4gb24gZXhpdC5cblxuICAgIDxkaXYgaWQ9ImRnLWxvY2FsLWV4cGxhaW4iPlRoZSB2YWx1ZXMgc2F2ZWQgdG8gPGNvZGU+bG9jYWxTdG9yYWdlPC9jb2RlPiB3aWxsXG4gICAgICBvdmVycmlkZSB0aG9zZSBwYXNzZWQgdG8gPGNvZGU+ZGF0LkdVSTwvY29kZT5cJ3MgY29uc3RydWN0b3IuIFRoaXMgbWFrZXMgaXRcbiAgICAgIGVhc2llciB0byB3b3JrIGluY3JlbWVudGFsbHksIGJ1dCA8Y29kZT5sb2NhbFN0b3JhZ2U8L2NvZGU+IGlzIGZyYWdpbGUsXG4gICAgICBhbmQgeW91ciBmcmllbmRzIG1heSBub3Qgc2VlIHRoZSBzYW1lIHZhbHVlcyB5b3UgZG8uXG4gICAgICBcbiAgICA8L2Rpdj5cbiAgICBcbiAgPC9kaXY+XG5cbjwvZGl2PicsCiIuZGcgdWx7bGlzdC1zdHlsZTpub25lO21hcmdpbjowO3BhZGRpbmc6MDt3aWR0aDoxMDAlO2NsZWFyOmJvdGh9LmRnLmFje3Bvc2l0aW9uOmZpeGVkO3RvcDowO2xlZnQ6MDtyaWdodDowO2hlaWdodDowO3otaW5kZXg6MH0uZGc6bm90KC5hYykgLm1haW57b3ZlcmZsb3c6aGlkZGVufS5kZy5tYWluey13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IDAuMXMgbGluZWFyOy1vLXRyYW5zaXRpb246b3BhY2l0eSAwLjFzIGxpbmVhcjstbW96LXRyYW5zaXRpb246b3BhY2l0eSAwLjFzIGxpbmVhcjt0cmFuc2l0aW9uOm9wYWNpdHkgMC4xcyBsaW5lYXJ9LmRnLm1haW4udGFsbGVyLXRoYW4td2luZG93e292ZXJmbG93LXk6YXV0b30uZGcubWFpbi50YWxsZXItdGhhbi13aW5kb3cgLmNsb3NlLWJ1dHRvbntvcGFjaXR5OjE7bWFyZ2luLXRvcDotMXB4O2JvcmRlci10b3A6MXB4IHNvbGlkICMyYzJjMmN9LmRnLm1haW4gdWwuY2xvc2VkIC5jbG9zZS1idXR0b257b3BhY2l0eToxICFpbXBvcnRhbnR9LmRnLm1haW46aG92ZXIgLmNsb3NlLWJ1dHRvbiwuZGcubWFpbiAuY2xvc2UtYnV0dG9uLmRyYWd7b3BhY2l0eToxfS5kZy5tYWluIC5jbG9zZS1idXR0b257LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMC4xcyBsaW5lYXI7LW8tdHJhbnNpdGlvbjpvcGFjaXR5IDAuMXMgbGluZWFyOy1tb3otdHJhbnNpdGlvbjpvcGFjaXR5IDAuMXMgbGluZWFyO3RyYW5zaXRpb246b3BhY2l0eSAwLjFzIGxpbmVhcjtib3JkZXI6MDtwb3NpdGlvbjphYnNvbHV0ZTtsaW5lLWhlaWdodDoxOXB4O2hlaWdodDoyMHB4O2N1cnNvcjpwb2ludGVyO3RleHQtYWxpZ246Y2VudGVyO2JhY2tncm91bmQtY29sb3I6IzAwMH0uZGcubWFpbiAuY2xvc2UtYnV0dG9uOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzExMX0uZGcuYXtmbG9hdDpyaWdodDttYXJnaW4tcmlnaHQ6MTVweDtvdmVyZmxvdy14OmhpZGRlbn0uZGcuYS5oYXMtc2F2ZSB1bHttYXJnaW4tdG9wOjI3cHh9LmRnLmEuaGFzLXNhdmUgdWwuY2xvc2Vke21hcmdpbi10b3A6MH0uZGcuYSAuc2F2ZS1yb3d7cG9zaXRpb246Zml4ZWQ7dG9wOjA7ei1pbmRleDoxMDAyfS5kZyBsaXstd2Via2l0LXRyYW5zaXRpb246aGVpZ2h0IDAuMXMgZWFzZS1vdXQ7LW8tdHJhbnNpdGlvbjpoZWlnaHQgMC4xcyBlYXNlLW91dDstbW96LXRyYW5zaXRpb246aGVpZ2h0IDAuMXMgZWFzZS1vdXQ7dHJhbnNpdGlvbjpoZWlnaHQgMC4xcyBlYXNlLW91dH0uZGcgbGk6bm90KC5mb2xkZXIpe2N1cnNvcjphdXRvO2hlaWdodDoyN3B4O2xpbmUtaGVpZ2h0OjI3cHg7b3ZlcmZsb3c6aGlkZGVuO3BhZGRpbmc6MCA0cHggMCA1cHh9LmRnIGxpLmZvbGRlcntwYWRkaW5nOjA7Ym9yZGVyLWxlZnQ6NHB4IHNvbGlkIHJnYmEoMCwwLDAsMCl9LmRnIGxpLnRpdGxle2N1cnNvcjpwb2ludGVyO21hcmdpbi1sZWZ0Oi00cHh9LmRnIC5jbG9zZWQgbGk6bm90KC50aXRsZSksLmRnIC5jbG9zZWQgdWwgbGksLmRnIC5jbG9zZWQgdWwgbGkgPiAqe2hlaWdodDowO292ZXJmbG93OmhpZGRlbjtib3JkZXI6MH0uZGcgLmNye2NsZWFyOmJvdGg7cGFkZGluZy1sZWZ0OjNweDtoZWlnaHQ6MjdweH0uZGcgLnByb3BlcnR5LW5hbWV7Y3Vyc29yOmRlZmF1bHQ7ZmxvYXQ6bGVmdDtjbGVhcjpsZWZ0O3dpZHRoOjQwJTtvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpc30uZGcgLmN7ZmxvYXQ6bGVmdDt3aWR0aDo2MCV9LmRnIC5jIGlucHV0W3R5cGU9dGV4dF17Ym9yZGVyOjA7bWFyZ2luLXRvcDo0cHg7cGFkZGluZzozcHg7d2lkdGg6MTAwJTtmbG9hdDpyaWdodH0uZGcgLmhhcy1zbGlkZXIgaW5wdXRbdHlwZT10ZXh0XXt3aWR0aDozMCU7bWFyZ2luLWxlZnQ6MH0uZGcgLnNsaWRlcntmbG9hdDpsZWZ0O3dpZHRoOjY2JTttYXJnaW4tbGVmdDotNXB4O21hcmdpbi1yaWdodDowO2hlaWdodDoxOXB4O21hcmdpbi10b3A6NHB4fS5kZyAuc2xpZGVyLWZne2hlaWdodDoxMDAlfS5kZyAuYyBpbnB1dFt0eXBlPWNoZWNrYm94XXttYXJnaW4tdG9wOjlweH0uZGcgLmMgc2VsZWN0e21hcmdpbi10b3A6NXB4fS5kZyAuY3IuZnVuY3Rpb24sLmRnIC5jci5mdW5jdGlvbiAucHJvcGVydHktbmFtZSwuZGcgLmNyLmZ1bmN0aW9uICosLmRnIC5jci5ib29sZWFuLC5kZyAuY3IuYm9vbGVhbiAqe2N1cnNvcjpwb2ludGVyfS5kZyAuc2VsZWN0b3J7ZGlzcGxheTpub25lO3Bvc2l0aW9uOmFic29sdXRlO21hcmdpbi1sZWZ0Oi05cHg7bWFyZ2luLXRvcDoyM3B4O3otaW5kZXg6MTB9LmRnIC5jOmhvdmVyIC5zZWxlY3RvciwuZGcgLnNlbGVjdG9yLmRyYWd7ZGlzcGxheTpibG9ja30uZGcgbGkuc2F2ZS1yb3d7cGFkZGluZzowfS5kZyBsaS5zYXZlLXJvdyAuYnV0dG9ue2Rpc3BsYXk6aW5saW5lLWJsb2NrO3BhZGRpbmc6MHB4IDZweH0uZGcuZGlhbG9ndWV7YmFja2dyb3VuZC1jb2xvcjojMjIyO3dpZHRoOjQ2MHB4O3BhZGRpbmc6MTVweDtmb250LXNpemU6MTNweDtsaW5lLWhlaWdodDoxNXB4fSNkZy1uZXctY29uc3RydWN0b3J7cGFkZGluZzoxMHB4O2NvbG9yOiMyMjI7Zm9udC1mYW1pbHk6TW9uYWNvLCBtb25vc3BhY2U7Zm9udC1zaXplOjEwcHg7Ym9yZGVyOjA7cmVzaXplOm5vbmU7Ym94LXNoYWRvdzppbnNldCAxcHggMXB4IDFweCAjODg4O3dvcmQtd3JhcDpicmVhay13b3JkO21hcmdpbjoxMnB4IDA7ZGlzcGxheTpibG9jazt3aWR0aDo0NDBweDtvdmVyZmxvdy15OnNjcm9sbDtoZWlnaHQ6MTAwcHg7cG9zaXRpb246cmVsYXRpdmV9I2RnLWxvY2FsLWV4cGxhaW57ZGlzcGxheTpub25lO2ZvbnQtc2l6ZToxMXB4O2xpbmUtaGVpZ2h0OjE3cHg7Ym9yZGVyLXJhZGl1czozcHg7YmFja2dyb3VuZC1jb2xvcjojMzMzO3BhZGRpbmc6OHB4O21hcmdpbi10b3A6MTBweH0jZGctbG9jYWwtZXhwbGFpbiBjb2Rle2ZvbnQtc2l6ZToxMHB4fSNkYXQtZ3VpLXNhdmUtbG9jYWxseXtkaXNwbGF5Om5vbmV9LmRne2NvbG9yOiNlZWU7Zm9udDoxMXB4ICdMdWNpZGEgR3JhbmRlJywgc2Fucy1zZXJpZjt0ZXh0LXNoYWRvdzowIC0xcHggMCAjMTExfS5kZy5tYWluOjotd2Via2l0LXNjcm9sbGJhcnt3aWR0aDo1cHg7YmFja2dyb3VuZDojMWExYTFhfS5kZy5tYWluOjotd2Via2l0LXNjcm9sbGJhci1jb3JuZXJ7aGVpZ2h0OjA7ZGlzcGxheTpub25lfS5kZy5tYWluOjotd2Via2l0LXNjcm9sbGJhci10aHVtYntib3JkZXItcmFkaXVzOjVweDtiYWNrZ3JvdW5kOiM2NzY3Njd9LmRnIGxpOm5vdCguZm9sZGVyKXtiYWNrZ3JvdW5kOiMxYTFhMWE7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgIzJjMmMyY30uZGcgbGkuc2F2ZS1yb3d7bGluZS1oZWlnaHQ6MjVweDtiYWNrZ3JvdW5kOiNkYWQ1Y2I7Ym9yZGVyOjB9LmRnIGxpLnNhdmUtcm93IHNlbGVjdHttYXJnaW4tbGVmdDo1cHg7d2lkdGg6MTA4cHh9LmRnIGxpLnNhdmUtcm93IC5idXR0b257bWFyZ2luLWxlZnQ6NXB4O21hcmdpbi10b3A6MXB4O2JvcmRlci1yYWRpdXM6MnB4O2ZvbnQtc2l6ZTo5cHg7bGluZS1oZWlnaHQ6N3B4O3BhZGRpbmc6NHB4IDRweCA1cHggNHB4O2JhY2tncm91bmQ6I2M1YmRhZDtjb2xvcjojZmZmO3RleHQtc2hhZG93OjAgMXB4IDAgI2IwYTU4Zjtib3gtc2hhZG93OjAgLTFweCAwICNiMGE1OGY7Y3Vyc29yOnBvaW50ZXJ9LmRnIGxpLnNhdmUtcm93IC5idXR0b24uZ2VhcnN7YmFja2dyb3VuZDojYzViZGFkIHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFzQUFBQU5DQVlBQUFCLzlaUTdBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQVFKSlJFRlVlTnBpWUtBVS9QLy9Qd0dJQy9BcENBQmlCU0FXK0k4QUNsQWNnS3hRNFQ5aG9NQUVVcnh4MlFTR042K2VnRFgrL3ZXVDRlN044MkFNWW9QQXgvZXZ3V29Zb1NZYkFDWDJzN0t4Q3h6Y3NlekRoM2V2Rm9ERUJZVEVFcXljZ2dXQXpBOUF1VVNRUWdlWVBhOWZQdjYvWVdtL0FjeDVJUGI3dHkvZncrUVpibHc2N3ZEczhSMFlIeVFoZ09ieCt5QUprQnFtRzVkUFBEaDFhUE9HUi9ldWdXMEc0dmxJb1RJZnlGY0ErUWVraGhISmhQZFF4YmlBSWd1TUJUUVpyUEQ3MTA4TTZyb1dZREZRaUlBQXY2QW93LzFiRndYZ2lzK2YyTFVBeW53b0lhTmN6OFhOeDNEbDdNRUpVREdRcHg5Z3RROFlDdWVCK0QyNk9FQ0FBUURhZHQ3ZTQ2RDQyUUFBQUFCSlJVNUVya0pnZ2c9PSkgMnB4IDFweCBuby1yZXBlYXQ7aGVpZ2h0OjdweDt3aWR0aDo4cHh9LmRnIGxpLnNhdmUtcm93IC5idXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojYmFiMTllO2JveC1zaGFkb3c6MCAtMXB4IDAgI2IwYTU4Zn0uZGcgbGkuZm9sZGVye2JvcmRlci1ib3R0b206MH0uZGcgbGkudGl0bGV7cGFkZGluZy1sZWZ0OjE2cHg7YmFja2dyb3VuZDojMDAwIHVybChkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhCUUFGQUpFQUFQLy8vL1B6OC8vLy8vLy8veUg1QkFFQUFBSUFMQUFBQUFBRkFBVUFBQUlJbEkraEtnRnhvQ2dBT3c9PSkgNnB4IDEwcHggbm8tcmVwZWF0O2N1cnNvcjpwb2ludGVyO2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4yKX0uZGcgLmNsb3NlZCBsaS50aXRsZXtiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhCUUFGQUpFQUFQLy8vL1B6OC8vLy8vLy8veUg1QkFFQUFBSUFMQUFBQUFBRkFBVUFBQUlJbEdJV3FNQ2JXQUVBT3c9PSl9LmRnIC5jci5ib29sZWFue2JvcmRlci1sZWZ0OjNweCBzb2xpZCAjODA2Nzg3fS5kZyAuY3IuZnVuY3Rpb257Ym9yZGVyLWxlZnQ6M3B4IHNvbGlkICNlNjFkNWZ9LmRnIC5jci5udW1iZXJ7Ym9yZGVyLWxlZnQ6M3B4IHNvbGlkICMyZmExZDZ9LmRnIC5jci5udW1iZXIgaW5wdXRbdHlwZT10ZXh0XXtjb2xvcjojMmZhMWQ2fS5kZyAuY3Iuc3RyaW5ne2JvcmRlci1sZWZ0OjNweCBzb2xpZCAjMWVkMzZmfS5kZyAuY3Iuc3RyaW5nIGlucHV0W3R5cGU9dGV4dF17Y29sb3I6IzFlZDM2Zn0uZGcgLmNyLmZ1bmN0aW9uOmhvdmVyLC5kZyAuY3IuYm9vbGVhbjpob3ZlcntiYWNrZ3JvdW5kOiMxMTF9LmRnIC5jIGlucHV0W3R5cGU9dGV4dF17YmFja2dyb3VuZDojMzAzMDMwO291dGxpbmU6bm9uZX0uZGcgLmMgaW5wdXRbdHlwZT10ZXh0XTpob3ZlcntiYWNrZ3JvdW5kOiMzYzNjM2N9LmRnIC5jIGlucHV0W3R5cGU9dGV4dF06Zm9jdXN7YmFja2dyb3VuZDojNDk0OTQ5O2NvbG9yOiNmZmZ9LmRnIC5jIC5zbGlkZXJ7YmFja2dyb3VuZDojMzAzMDMwO2N1cnNvcjpldy1yZXNpemV9LmRnIC5jIC5zbGlkZXItZmd7YmFja2dyb3VuZDojMmZhMWQ2fS5kZyAuYyAuc2xpZGVyOmhvdmVye2JhY2tncm91bmQ6IzNjM2MzY30uZGcgLmMgLnNsaWRlcjpob3ZlciAuc2xpZGVyLWZne2JhY2tncm91bmQ6IzQ0YWJkYX1cbiIsCmRhdC5jb250cm9sbGVycy5mYWN0b3J5PWZ1bmN0aW9uKGUsYSxjLGQsZixiLG4pe3JldHVybiBmdW5jdGlvbihoLGosbSxsKXt2YXIgbz1oW2pdO2lmKG4uaXNBcnJheShtKXx8bi5pc09iamVjdChtKSlyZXR1cm4gbmV3IGUoaCxqLG0pO2lmKG4uaXNOdW1iZXIobykpcmV0dXJuIG4uaXNOdW1iZXIobSkmJm4uaXNOdW1iZXIobCk/bmV3IGMoaCxqLG0sbCk6bmV3IGEoaCxqLHttaW46bSxtYXg6bH0pO2lmKG4uaXNTdHJpbmcobykpcmV0dXJuIG5ldyBkKGgsaik7aWYobi5pc0Z1bmN0aW9uKG8pKXJldHVybiBuZXcgZihoLGosIiIpO2lmKG4uaXNCb29sZWFuKG8pKXJldHVybiBuZXcgYihoLGopfX0oZGF0LmNvbnRyb2xsZXJzLk9wdGlvbkNvbnRyb2xsZXIsZGF0LmNvbnRyb2xsZXJzLk51bWJlckNvbnRyb2xsZXJCb3gsZGF0LmNvbnRyb2xsZXJzLk51bWJlckNvbnRyb2xsZXJTbGlkZXIsZGF0LmNvbnRyb2xsZXJzLlN0cmluZ0NvbnRyb2xsZXI9ZnVuY3Rpb24oZSxhLGMpe3ZhciBkPQpmdW5jdGlvbihjLGIpe2Z1bmN0aW9uIGUoKXtoLnNldFZhbHVlKGguX19pbnB1dC52YWx1ZSl9ZC5zdXBlcmNsYXNzLmNhbGwodGhpcyxjLGIpO3ZhciBoPXRoaXM7dGhpcy5fX2lucHV0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7dGhpcy5fX2lucHV0LnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQiKTthLmJpbmQodGhpcy5fX2lucHV0LCJrZXl1cCIsZSk7YS5iaW5kKHRoaXMuX19pbnB1dCwiY2hhbmdlIixlKTthLmJpbmQodGhpcy5fX2lucHV0LCJibHVyIixmdW5jdGlvbigpe2guX19vbkZpbmlzaENoYW5nZSYmaC5fX29uRmluaXNoQ2hhbmdlLmNhbGwoaCxoLmdldFZhbHVlKCkpfSk7YS5iaW5kKHRoaXMuX19pbnB1dCwia2V5ZG93biIsZnVuY3Rpb24oYSl7YS5rZXlDb2RlPT09MTMmJnRoaXMuYmx1cigpfSk7dGhpcy51cGRhdGVEaXNwbGF5KCk7dGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX19pbnB1dCl9O2Quc3VwZXJjbGFzcz1lO2MuZXh0ZW5kKGQucHJvdG90eXBlLAplLnByb3RvdHlwZSx7dXBkYXRlRGlzcGxheTpmdW5jdGlvbigpe2lmKCFhLmlzQWN0aXZlKHRoaXMuX19pbnB1dCkpdGhpcy5fX2lucHV0LnZhbHVlPXRoaXMuZ2V0VmFsdWUoKTtyZXR1cm4gZC5zdXBlcmNsYXNzLnByb3RvdHlwZS51cGRhdGVEaXNwbGF5LmNhbGwodGhpcyl9fSk7cmV0dXJuIGR9KGRhdC5jb250cm9sbGVycy5Db250cm9sbGVyLGRhdC5kb20uZG9tLGRhdC51dGlscy5jb21tb24pLGRhdC5jb250cm9sbGVycy5GdW5jdGlvbkNvbnRyb2xsZXIsZGF0LmNvbnRyb2xsZXJzLkJvb2xlYW5Db250cm9sbGVyLGRhdC51dGlscy5jb21tb24pLGRhdC5jb250cm9sbGVycy5Db250cm9sbGVyLGRhdC5jb250cm9sbGVycy5Cb29sZWFuQ29udHJvbGxlcixkYXQuY29udHJvbGxlcnMuRnVuY3Rpb25Db250cm9sbGVyLGRhdC5jb250cm9sbGVycy5OdW1iZXJDb250cm9sbGVyQm94LGRhdC5jb250cm9sbGVycy5OdW1iZXJDb250cm9sbGVyU2xpZGVyLGRhdC5jb250cm9sbGVycy5PcHRpb25Db250cm9sbGVyLApkYXQuY29udHJvbGxlcnMuQ29sb3JDb250cm9sbGVyPWZ1bmN0aW9uKGUsYSxjLGQsZil7ZnVuY3Rpb24gYihhLGIsYyxkKXthLnN0eWxlLmJhY2tncm91bmQ9IiI7Zi5lYWNoKGosZnVuY3Rpb24oZSl7YS5zdHlsZS5jc3NUZXh0Kz0iYmFja2dyb3VuZDogIitlKyJsaW5lYXItZ3JhZGllbnQoIitiKyIsICIrYysiIDAlLCAiK2QrIiAxMDAlKTsgIn0pfWZ1bmN0aW9uIG4oYSl7YS5zdHlsZS5iYWNrZ3JvdW5kPSIiO2Euc3R5bGUuY3NzVGV4dCs9ImJhY2tncm91bmQ6IC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgICNmZjAwMDAgMCUsICNmZjAwZmYgMTclLCAjMDAwMGZmIDM0JSwgIzAwZmZmZiA1MCUsICMwMGZmMDAgNjclLCAjZmZmZjAwIDg0JSwgI2ZmMDAwMCAxMDAlKTsiO2Euc3R5bGUuY3NzVGV4dCs9ImJhY2tncm91bmQ6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgICNmZjAwMDAgMCUsI2ZmMDBmZiAxNyUsIzAwMDBmZiAzNCUsIzAwZmZmZiA1MCUsIzAwZmYwMCA2NyUsI2ZmZmYwMCA4NCUsI2ZmMDAwMCAxMDAlKTsiOwphLnN0eWxlLmNzc1RleHQrPSJiYWNrZ3JvdW5kOiAtby1saW5lYXItZ3JhZGllbnQodG9wLCAgI2ZmMDAwMCAwJSwjZmYwMGZmIDE3JSwjMDAwMGZmIDM0JSwjMDBmZmZmIDUwJSwjMDBmZjAwIDY3JSwjZmZmZjAwIDg0JSwjZmYwMDAwIDEwMCUpOyI7YS5zdHlsZS5jc3NUZXh0Kz0iYmFja2dyb3VuZDogLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICAjZmYwMDAwIDAlLCNmZjAwZmYgMTclLCMwMDAwZmYgMzQlLCMwMGZmZmYgNTAlLCMwMGZmMDAgNjclLCNmZmZmMDAgODQlLCNmZjAwMDAgMTAwJSk7IjthLnN0eWxlLmNzc1RleHQrPSJiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG9wLCAgI2ZmMDAwMCAwJSwjZmYwMGZmIDE3JSwjMDAwMGZmIDM0JSwjMDBmZmZmIDUwJSwjMDBmZjAwIDY3JSwjZmZmZjAwIDg0JSwjZmYwMDAwIDEwMCUpOyJ9dmFyIGg9ZnVuY3Rpb24oZSxsKXtmdW5jdGlvbiBvKGIpe3EoYik7YS5iaW5kKHdpbmRvdywibW91c2Vtb3ZlIixxKTthLmJpbmQod2luZG93LAoibW91c2V1cCIsail9ZnVuY3Rpb24gaigpe2EudW5iaW5kKHdpbmRvdywibW91c2Vtb3ZlIixxKTthLnVuYmluZCh3aW5kb3csIm1vdXNldXAiLGopfWZ1bmN0aW9uIGcoKXt2YXIgYT1kKHRoaXMudmFsdWUpO2EhPT1mYWxzZT8ocC5fX2NvbG9yLl9fc3RhdGU9YSxwLnNldFZhbHVlKHAuX19jb2xvci50b09yaWdpbmFsKCkpKTp0aGlzLnZhbHVlPXAuX19jb2xvci50b1N0cmluZygpfWZ1bmN0aW9uIGkoKXthLnVuYmluZCh3aW5kb3csIm1vdXNlbW92ZSIscyk7YS51bmJpbmQod2luZG93LCJtb3VzZXVwIixpKX1mdW5jdGlvbiBxKGIpe2IucHJldmVudERlZmF1bHQoKTt2YXIgYz1hLmdldFdpZHRoKHAuX19zYXR1cmF0aW9uX2ZpZWxkKSxkPWEuZ2V0T2Zmc2V0KHAuX19zYXR1cmF0aW9uX2ZpZWxkKSxlPShiLmNsaWVudFgtZC5sZWZ0K2RvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCkvYyxiPTEtKGIuY2xpZW50WS1kLnRvcCtkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCkvYztiPjE/Yj0KMTpiPDAmJihiPTApO2U+MT9lPTE6ZTwwJiYoZT0wKTtwLl9fY29sb3Iudj1iO3AuX19jb2xvci5zPWU7cC5zZXRWYWx1ZShwLl9fY29sb3IudG9PcmlnaW5hbCgpKTtyZXR1cm4gZmFsc2V9ZnVuY3Rpb24gcyhiKXtiLnByZXZlbnREZWZhdWx0KCk7dmFyIGM9YS5nZXRIZWlnaHQocC5fX2h1ZV9maWVsZCksZD1hLmdldE9mZnNldChwLl9faHVlX2ZpZWxkKSxiPTEtKGIuY2xpZW50WS1kLnRvcCtkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCkvYztiPjE/Yj0xOmI8MCYmKGI9MCk7cC5fX2NvbG9yLmg9YiozNjA7cC5zZXRWYWx1ZShwLl9fY29sb3IudG9PcmlnaW5hbCgpKTtyZXR1cm4gZmFsc2V9aC5zdXBlcmNsYXNzLmNhbGwodGhpcyxlLGwpO3RoaXMuX19jb2xvcj1uZXcgYyh0aGlzLmdldFZhbHVlKCkpO3RoaXMuX190ZW1wPW5ldyBjKDApO3ZhciBwPXRoaXM7dGhpcy5kb21FbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2EubWFrZVNlbGVjdGFibGUodGhpcy5kb21FbGVtZW50LApmYWxzZSk7dGhpcy5fX3NlbGVjdG9yPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RoaXMuX19zZWxlY3Rvci5jbGFzc05hbWU9InNlbGVjdG9yIjt0aGlzLl9fc2F0dXJhdGlvbl9maWVsZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLl9fc2F0dXJhdGlvbl9maWVsZC5jbGFzc05hbWU9InNhdHVyYXRpb24tZmllbGQiO3RoaXMuX19maWVsZF9rbm9iPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RoaXMuX19maWVsZF9rbm9iLmNsYXNzTmFtZT0iZmllbGQta25vYiI7dGhpcy5fX2ZpZWxkX2tub2JfYm9yZGVyPSIycHggc29saWQgIjt0aGlzLl9faHVlX2tub2I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dGhpcy5fX2h1ZV9rbm9iLmNsYXNzTmFtZT0iaHVlLWtub2IiO3RoaXMuX19odWVfZmllbGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dGhpcy5fX2h1ZV9maWVsZC5jbGFzc05hbWU9Imh1ZS1maWVsZCI7dGhpcy5fX2lucHV0PQpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3RoaXMuX19pbnB1dC50eXBlPSJ0ZXh0Ijt0aGlzLl9faW5wdXRfdGV4dFNoYWRvdz0iMCAxcHggMXB4ICI7YS5iaW5kKHRoaXMuX19pbnB1dCwia2V5ZG93biIsZnVuY3Rpb24oYSl7YS5rZXlDb2RlPT09MTMmJmcuY2FsbCh0aGlzKX0pO2EuYmluZCh0aGlzLl9faW5wdXQsImJsdXIiLGcpO2EuYmluZCh0aGlzLl9fc2VsZWN0b3IsIm1vdXNlZG93biIsZnVuY3Rpb24oKXthLmFkZENsYXNzKHRoaXMsImRyYWciKS5iaW5kKHdpbmRvdywibW91c2V1cCIsZnVuY3Rpb24oKXthLnJlbW92ZUNsYXNzKHAuX19zZWxlY3RvciwiZHJhZyIpfSl9KTt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtmLmV4dGVuZCh0aGlzLl9fc2VsZWN0b3Iuc3R5bGUse3dpZHRoOiIxMjJweCIsaGVpZ2h0OiIxMDJweCIscGFkZGluZzoiM3B4IixiYWNrZ3JvdW5kQ29sb3I6IiMyMjIiLGJveFNoYWRvdzoiMHB4IDFweCAzcHggcmdiYSgwLDAsMCwwLjMpIn0pOwpmLmV4dGVuZCh0aGlzLl9fZmllbGRfa25vYi5zdHlsZSx7cG9zaXRpb246ImFic29sdXRlIix3aWR0aDoiMTJweCIsaGVpZ2h0OiIxMnB4Iixib3JkZXI6dGhpcy5fX2ZpZWxkX2tub2JfYm9yZGVyKyh0aGlzLl9fY29sb3IudjwwLjU/IiNmZmYiOiIjMDAwIiksYm94U2hhZG93OiIwcHggMXB4IDNweCByZ2JhKDAsMCwwLDAuNSkiLGJvcmRlclJhZGl1czoiMTJweCIsekluZGV4OjF9KTtmLmV4dGVuZCh0aGlzLl9faHVlX2tub2Iuc3R5bGUse3Bvc2l0aW9uOiJhYnNvbHV0ZSIsd2lkdGg6IjE1cHgiLGhlaWdodDoiMnB4Iixib3JkZXJSaWdodDoiNHB4IHNvbGlkICNmZmYiLHpJbmRleDoxfSk7Zi5leHRlbmQodGhpcy5fX3NhdHVyYXRpb25fZmllbGQuc3R5bGUse3dpZHRoOiIxMDBweCIsaGVpZ2h0OiIxMDBweCIsYm9yZGVyOiIxcHggc29saWQgIzU1NSIsbWFyZ2luUmlnaHQ6IjNweCIsZGlzcGxheToiaW5saW5lLWJsb2NrIixjdXJzb3I6InBvaW50ZXIifSk7Zi5leHRlbmQodC5zdHlsZSwKe3dpZHRoOiIxMDAlIixoZWlnaHQ6IjEwMCUiLGJhY2tncm91bmQ6Im5vbmUifSk7Yih0LCJ0b3AiLCJyZ2JhKDAsMCwwLDApIiwiIzAwMCIpO2YuZXh0ZW5kKHRoaXMuX19odWVfZmllbGQuc3R5bGUse3dpZHRoOiIxNXB4IixoZWlnaHQ6IjEwMHB4IixkaXNwbGF5OiJpbmxpbmUtYmxvY2siLGJvcmRlcjoiMXB4IHNvbGlkICM1NTUiLGN1cnNvcjoibnMtcmVzaXplIn0pO24odGhpcy5fX2h1ZV9maWVsZCk7Zi5leHRlbmQodGhpcy5fX2lucHV0LnN0eWxlLHtvdXRsaW5lOiJub25lIix0ZXh0QWxpZ246ImNlbnRlciIsY29sb3I6IiNmZmYiLGJvcmRlcjowLGZvbnRXZWlnaHQ6ImJvbGQiLHRleHRTaGFkb3c6dGhpcy5fX2lucHV0X3RleHRTaGFkb3crInJnYmEoMCwwLDAsMC43KSJ9KTthLmJpbmQodGhpcy5fX3NhdHVyYXRpb25fZmllbGQsIm1vdXNlZG93biIsbyk7YS5iaW5kKHRoaXMuX19maWVsZF9rbm9iLCJtb3VzZWRvd24iLG8pO2EuYmluZCh0aGlzLl9faHVlX2ZpZWxkLCJtb3VzZWRvd24iLApmdW5jdGlvbihiKXtzKGIpO2EuYmluZCh3aW5kb3csIm1vdXNlbW92ZSIscyk7YS5iaW5kKHdpbmRvdywibW91c2V1cCIsaSl9KTt0aGlzLl9fc2F0dXJhdGlvbl9maWVsZC5hcHBlbmRDaGlsZCh0KTt0aGlzLl9fc2VsZWN0b3IuYXBwZW5kQ2hpbGQodGhpcy5fX2ZpZWxkX2tub2IpO3RoaXMuX19zZWxlY3Rvci5hcHBlbmRDaGlsZCh0aGlzLl9fc2F0dXJhdGlvbl9maWVsZCk7dGhpcy5fX3NlbGVjdG9yLmFwcGVuZENoaWxkKHRoaXMuX19odWVfZmllbGQpO3RoaXMuX19odWVfZmllbGQuYXBwZW5kQ2hpbGQodGhpcy5fX2h1ZV9rbm9iKTt0aGlzLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fX2lucHV0KTt0aGlzLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fX3NlbGVjdG9yKTt0aGlzLnVwZGF0ZURpc3BsYXkoKX07aC5zdXBlcmNsYXNzPWU7Zi5leHRlbmQoaC5wcm90b3R5cGUsZS5wcm90b3R5cGUse3VwZGF0ZURpc3BsYXk6ZnVuY3Rpb24oKXt2YXIgYT1kKHRoaXMuZ2V0VmFsdWUoKSk7CmlmKGEhPT1mYWxzZSl7dmFyIGU9ZmFsc2U7Zi5lYWNoKGMuQ09NUE9ORU5UUyxmdW5jdGlvbihiKXtpZighZi5pc1VuZGVmaW5lZChhW2JdKSYmIWYuaXNVbmRlZmluZWQodGhpcy5fX2NvbG9yLl9fc3RhdGVbYl0pJiZhW2JdIT09dGhpcy5fX2NvbG9yLl9fc3RhdGVbYl0pcmV0dXJuIGU9dHJ1ZSx7fX0sdGhpcyk7ZSYmZi5leHRlbmQodGhpcy5fX2NvbG9yLl9fc3RhdGUsYSl9Zi5leHRlbmQodGhpcy5fX3RlbXAuX19zdGF0ZSx0aGlzLl9fY29sb3IuX19zdGF0ZSk7dGhpcy5fX3RlbXAuYT0xO3ZhciBoPXRoaXMuX19jb2xvci52PDAuNXx8dGhpcy5fX2NvbG9yLnM+MC41PzI1NTowLGo9MjU1LWg7Zi5leHRlbmQodGhpcy5fX2ZpZWxkX2tub2Iuc3R5bGUse21hcmdpbkxlZnQ6MTAwKnRoaXMuX19jb2xvci5zLTcrInB4IixtYXJnaW5Ub3A6MTAwKigxLXRoaXMuX19jb2xvci52KS03KyJweCIsYmFja2dyb3VuZENvbG9yOnRoaXMuX190ZW1wLnRvU3RyaW5nKCksYm9yZGVyOnRoaXMuX19maWVsZF9rbm9iX2JvcmRlcisKInJnYigiK2grIiwiK2grIiwiK2grIikifSk7dGhpcy5fX2h1ZV9rbm9iLnN0eWxlLm1hcmdpblRvcD0oMS10aGlzLl9fY29sb3IuaC8zNjApKjEwMCsicHgiO3RoaXMuX190ZW1wLnM9MTt0aGlzLl9fdGVtcC52PTE7Yih0aGlzLl9fc2F0dXJhdGlvbl9maWVsZCwibGVmdCIsIiNmZmYiLHRoaXMuX190ZW1wLnRvU3RyaW5nKCkpO2YuZXh0ZW5kKHRoaXMuX19pbnB1dC5zdHlsZSx7YmFja2dyb3VuZENvbG9yOnRoaXMuX19pbnB1dC52YWx1ZT10aGlzLl9fY29sb3IudG9TdHJpbmcoKSxjb2xvcjoicmdiKCIraCsiLCIraCsiLCIraCsiKSIsdGV4dFNoYWRvdzp0aGlzLl9faW5wdXRfdGV4dFNoYWRvdysicmdiYSgiK2orIiwiK2orIiwiK2orIiwuNykifSl9fSk7dmFyIGo9WyItbW96LSIsIi1vLSIsIi13ZWJraXQtIiwiLW1zLSIsIiJdO3JldHVybiBofShkYXQuY29udHJvbGxlcnMuQ29udHJvbGxlcixkYXQuZG9tLmRvbSxkYXQuY29sb3IuQ29sb3I9ZnVuY3Rpb24oZSxhLGMsZCl7ZnVuY3Rpb24gZihhLApiLGMpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGIse2dldDpmdW5jdGlvbigpe2lmKHRoaXMuX19zdGF0ZS5zcGFjZT09PSJSR0IiKXJldHVybiB0aGlzLl9fc3RhdGVbYl07bih0aGlzLGIsYyk7cmV0dXJuIHRoaXMuX19zdGF0ZVtiXX0sc2V0OmZ1bmN0aW9uKGEpe2lmKHRoaXMuX19zdGF0ZS5zcGFjZSE9PSJSR0IiKW4odGhpcyxiLGMpLHRoaXMuX19zdGF0ZS5zcGFjZT0iUkdCIjt0aGlzLl9fc3RhdGVbYl09YX19KX1mdW5jdGlvbiBiKGEsYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYix7Z2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5fX3N0YXRlLnNwYWNlPT09IkhTViIpcmV0dXJuIHRoaXMuX19zdGF0ZVtiXTtoKHRoaXMpO3JldHVybiB0aGlzLl9fc3RhdGVbYl19LHNldDpmdW5jdGlvbihhKXtpZih0aGlzLl9fc3RhdGUuc3BhY2UhPT0iSFNWIiloKHRoaXMpLHRoaXMuX19zdGF0ZS5zcGFjZT0iSFNWIjt0aGlzLl9fc3RhdGVbYl09YX19KX1mdW5jdGlvbiBuKGIsYyxlKXtpZihiLl9fc3RhdGUuc3BhY2U9PT0KIkhFWCIpYi5fX3N0YXRlW2NdPWEuY29tcG9uZW50X2Zyb21faGV4KGIuX19zdGF0ZS5oZXgsZSk7ZWxzZSBpZihiLl9fc3RhdGUuc3BhY2U9PT0iSFNWIilkLmV4dGVuZChiLl9fc3RhdGUsYS5oc3ZfdG9fcmdiKGIuX19zdGF0ZS5oLGIuX19zdGF0ZS5zLGIuX19zdGF0ZS52KSk7ZWxzZSB0aHJvdyJDb3JydXB0ZWQgY29sb3Igc3RhdGUiO31mdW5jdGlvbiBoKGIpe3ZhciBjPWEucmdiX3RvX2hzdihiLnIsYi5nLGIuYik7ZC5leHRlbmQoYi5fX3N0YXRlLHtzOmMucyx2OmMudn0pO2lmKGQuaXNOYU4oYy5oKSl7aWYoZC5pc1VuZGVmaW5lZChiLl9fc3RhdGUuaCkpYi5fX3N0YXRlLmg9MH1lbHNlIGIuX19zdGF0ZS5oPWMuaH12YXIgaj1mdW5jdGlvbigpe3RoaXMuX19zdGF0ZT1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZih0aGlzLl9fc3RhdGU9PT1mYWxzZSl0aHJvdyJGYWlsZWQgdG8gaW50ZXJwcmV0IGNvbG9yIGFyZ3VtZW50cyI7dGhpcy5fX3N0YXRlLmE9dGhpcy5fX3N0YXRlLmF8fAoxfTtqLkNPTVBPTkVOVFM9InIsZyxiLGgscyx2LGhleCxhIi5zcGxpdCgiLCIpO2QuZXh0ZW5kKGoucHJvdG90eXBlLHt0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiBjKHRoaXMpfSx0b09yaWdpbmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19zdGF0ZS5jb252ZXJzaW9uLndyaXRlKHRoaXMpfX0pO2Yoai5wcm90b3R5cGUsInIiLDIpO2Yoai5wcm90b3R5cGUsImciLDEpO2Yoai5wcm90b3R5cGUsImIiLDApO2Ioai5wcm90b3R5cGUsImgiKTtiKGoucHJvdG90eXBlLCJzIik7YihqLnByb3RvdHlwZSwidiIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShqLnByb3RvdHlwZSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9fc3RhdGUuYX0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuX19zdGF0ZS5hPWF9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGoucHJvdG90eXBlLCJoZXgiLHtnZXQ6ZnVuY3Rpb24oKXtpZighdGhpcy5fX3N0YXRlLnNwYWNlIT09IkhFWCIpdGhpcy5fX3N0YXRlLmhleD0KYS5yZ2JfdG9faGV4KHRoaXMucix0aGlzLmcsdGhpcy5iKTtyZXR1cm4gdGhpcy5fX3N0YXRlLmhleH0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuX19zdGF0ZS5zcGFjZT0iSEVYIjt0aGlzLl9fc3RhdGUuaGV4PWF9fSk7cmV0dXJuIGp9KGRhdC5jb2xvci5pbnRlcnByZXQsZGF0LmNvbG9yLm1hdGg9ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm57aHN2X3RvX3JnYjpmdW5jdGlvbihhLGMsZCl7dmFyIGU9YS82MC1NYXRoLmZsb29yKGEvNjApLGI9ZCooMS1jKSxuPWQqKDEtZSpjKSxjPWQqKDEtKDEtZSkqYyksYT1bW2QsYyxiXSxbbixkLGJdLFtiLGQsY10sW2IsbixkXSxbYyxiLGRdLFtkLGIsbl1dW01hdGguZmxvb3IoYS82MCklNl07cmV0dXJue3I6YVswXSoyNTUsZzphWzFdKjI1NSxiOmFbMl0qMjU1fX0scmdiX3RvX2hzdjpmdW5jdGlvbihhLGMsZCl7dmFyIGU9TWF0aC5taW4oYSxjLGQpLGI9TWF0aC5tYXgoYSxjLGQpLGU9Yi1lO2lmKGI9PTApcmV0dXJue2g6TmFOLHM6MCx2OjB9OwphPWE9PWI/KGMtZCkvZTpjPT1iPzIrKGQtYSkvZTo0KyhhLWMpL2U7YS89NjthPDAmJihhKz0xKTtyZXR1cm57aDphKjM2MCxzOmUvYix2OmIvMjU1fX0scmdiX3RvX2hleDpmdW5jdGlvbihhLGMsZCl7YT10aGlzLmhleF93aXRoX2NvbXBvbmVudCgwLDIsYSk7YT10aGlzLmhleF93aXRoX2NvbXBvbmVudChhLDEsYyk7cmV0dXJuIGE9dGhpcy5oZXhfd2l0aF9jb21wb25lbnQoYSwwLGQpfSxjb21wb25lbnRfZnJvbV9oZXg6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYT4+Yyo4JjI1NX0saGV4X3dpdGhfY29tcG9uZW50OmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gZDw8KGU9Yyo4KXxhJn4oMjU1PDxlKX19fSgpLGRhdC5jb2xvci50b1N0cmluZyxkYXQudXRpbHMuY29tbW9uKSxkYXQuY29sb3IuaW50ZXJwcmV0LGRhdC51dGlscy5jb21tb24pLGRhdC51dGlscy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8CndpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGUpe3dpbmRvdy5zZXRUaW1lb3V0KGUsMUUzLzYwKX19KCksZGF0LmRvbS5DZW50ZXJlZERpdj1mdW5jdGlvbihlLGEpe3ZhciBjPWZ1bmN0aW9uKCl7dGhpcy5iYWNrZ3JvdW5kRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTthLmV4dGVuZCh0aGlzLmJhY2tncm91bmRFbGVtZW50LnN0eWxlLHtiYWNrZ3JvdW5kQ29sb3I6InJnYmEoMCwwLDAsMC44KSIsdG9wOjAsbGVmdDowLGRpc3BsYXk6Im5vbmUiLHpJbmRleDoiMTAwMCIsb3BhY2l0eTowLFdlYmtpdFRyYW5zaXRpb246Im9wYWNpdHkgMC4ycyBsaW5lYXIifSk7ZS5tYWtlRnVsbHNjcmVlbih0aGlzLmJhY2tncm91bmRFbGVtZW50KTt0aGlzLmJhY2tncm91bmRFbGVtZW50LnN0eWxlLnBvc2l0aW9uPSJmaXhlZCI7dGhpcy5kb21FbGVtZW50PQpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTthLmV4dGVuZCh0aGlzLmRvbUVsZW1lbnQuc3R5bGUse3Bvc2l0aW9uOiJmaXhlZCIsZGlzcGxheToibm9uZSIsekluZGV4OiIxMDAxIixvcGFjaXR5OjAsV2Via2l0VHJhbnNpdGlvbjoiLXdlYmtpdC10cmFuc2Zvcm0gMC4ycyBlYXNlLW91dCwgb3BhY2l0eSAwLjJzIGxpbmVhciJ9KTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuYmFja2dyb3VuZEVsZW1lbnQpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5kb21FbGVtZW50KTt2YXIgYz10aGlzO2UuYmluZCh0aGlzLmJhY2tncm91bmRFbGVtZW50LCJjbGljayIsZnVuY3Rpb24oKXtjLmhpZGUoKX0pfTtjLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dmFyIGM9dGhpczt0aGlzLmJhY2tncm91bmRFbGVtZW50LnN0eWxlLmRpc3BsYXk9ImJsb2NrIjt0aGlzLmRvbUVsZW1lbnQuc3R5bGUuZGlzcGxheT0iYmxvY2siO3RoaXMuZG9tRWxlbWVudC5zdHlsZS5vcGFjaXR5PQowO3RoaXMuZG9tRWxlbWVudC5zdHlsZS53ZWJraXRUcmFuc2Zvcm09InNjYWxlKDEuMSkiO3RoaXMubGF5b3V0KCk7YS5kZWZlcihmdW5jdGlvbigpe2MuYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUub3BhY2l0eT0xO2MuZG9tRWxlbWVudC5zdHlsZS5vcGFjaXR5PTE7Yy5kb21FbGVtZW50LnN0eWxlLndlYmtpdFRyYW5zZm9ybT0ic2NhbGUoMSkifSl9O2MucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGM9ZnVuY3Rpb24oKXthLmRvbUVsZW1lbnQuc3R5bGUuZGlzcGxheT0ibm9uZSI7YS5iYWNrZ3JvdW5kRWxlbWVudC5zdHlsZS5kaXNwbGF5PSJub25lIjtlLnVuYmluZChhLmRvbUVsZW1lbnQsIndlYmtpdFRyYW5zaXRpb25FbmQiLGMpO2UudW5iaW5kKGEuZG9tRWxlbWVudCwidHJhbnNpdGlvbmVuZCIsYyk7ZS51bmJpbmQoYS5kb21FbGVtZW50LCJvVHJhbnNpdGlvbkVuZCIsYyl9O2UuYmluZCh0aGlzLmRvbUVsZW1lbnQsIndlYmtpdFRyYW5zaXRpb25FbmQiLApjKTtlLmJpbmQodGhpcy5kb21FbGVtZW50LCJ0cmFuc2l0aW9uZW5kIixjKTtlLmJpbmQodGhpcy5kb21FbGVtZW50LCJvVHJhbnNpdGlvbkVuZCIsYyk7dGhpcy5iYWNrZ3JvdW5kRWxlbWVudC5zdHlsZS5vcGFjaXR5PTA7dGhpcy5kb21FbGVtZW50LnN0eWxlLm9wYWNpdHk9MDt0aGlzLmRvbUVsZW1lbnQuc3R5bGUud2Via2l0VHJhbnNmb3JtPSJzY2FsZSgxLjEpIn07Yy5wcm90b3R5cGUubGF5b3V0PWZ1bmN0aW9uKCl7dGhpcy5kb21FbGVtZW50LnN0eWxlLmxlZnQ9d2luZG93LmlubmVyV2lkdGgvMi1lLmdldFdpZHRoKHRoaXMuZG9tRWxlbWVudCkvMisicHgiO3RoaXMuZG9tRWxlbWVudC5zdHlsZS50b3A9d2luZG93LmlubmVySGVpZ2h0LzItZS5nZXRIZWlnaHQodGhpcy5kb21FbGVtZW50KS8yKyJweCJ9O3JldHVybiBjfShkYXQuZG9tLmRvbSxkYXQudXRpbHMuY29tbW9uKSxkYXQuZG9tLmRvbSxkYXQudXRpbHMuY29tbW9uKTs=",
                "body": "LyoqCiAqIGRhdC1ndWkgSmF2YVNjcmlwdCBDb250cm9sbGVyIExpYnJhcnkKICogaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2RhdC1ndWkKICoKICogQ29weXJpZ2h0IDIwMTEgRGF0YSBBcnRzIFRlYW0sIEdvb2dsZSBDcmVhdGl2ZSBMYWIKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKi8KdmFyIGRhdD1kYXR8fHt9O2RhdC5ndWk9ZGF0Lmd1aXx8e307ZGF0LnV0aWxzPWRhdC51dGlsc3x8e307ZGF0LmNvbnRyb2xsZXJzPWRhdC5jb250cm9sbGVyc3x8e307ZGF0LmRvbT1kYXQuZG9tfHx7fTtkYXQuY29sb3I9ZGF0LmNvbG9yfHx7fTtkYXQudXRpbHMuY3NzPWZ1bmN0aW9uKCl7cmV0dXJue2xvYWQ6ZnVuY3Rpb24oZSxhKXt2YXIgYT1hfHxkb2N1bWVudCxjPWEuY3JlYXRlRWxlbWVudCgibGluayIpO2MudHlwZT0idGV4dC9jc3MiO2MucmVsPSJzdHlsZXNoZWV0IjtjLmhyZWY9ZTthLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0uYXBwZW5kQ2hpbGQoYyl9LGluamVjdDpmdW5jdGlvbihlLGEpe3ZhciBhPWF8fGRvY3VtZW50LGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtjLnR5cGU9InRleHQvY3NzIjtjLmlubmVySFRNTD1lO2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXS5hcHBlbmRDaGlsZChjKX19fSgpOwpkYXQudXRpbHMuY29tbW9uPWZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLmZvckVhY2gsYT1BcnJheS5wcm90b3R5cGUuc2xpY2U7cmV0dXJue0JSRUFLOnt9LGV4dGVuZDpmdW5jdGlvbihjKXt0aGlzLmVhY2goYS5jYWxsKGFyZ3VtZW50cywxKSxmdW5jdGlvbihhKXtmb3IodmFyIGYgaW4gYSl0aGlzLmlzVW5kZWZpbmVkKGFbZl0pfHwoY1tmXT1hW2ZdKX0sdGhpcyk7cmV0dXJuIGN9LGRlZmF1bHRzOmZ1bmN0aW9uKGMpe3RoaXMuZWFjaChhLmNhbGwoYXJndW1lbnRzLDEpLGZ1bmN0aW9uKGEpe2Zvcih2YXIgZiBpbiBhKXRoaXMuaXNVbmRlZmluZWQoY1tmXSkmJihjW2ZdPWFbZl0pfSx0aGlzKTtyZXR1cm4gY30sY29tcG9zZTpmdW5jdGlvbigpe3ZhciBjPWEuY2FsbChhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgZD1hLmNhbGwoYXJndW1lbnRzKSxmPWMubGVuZ3RoLTE7Zj49MDtmLS0pZD1bY1tmXS5hcHBseSh0aGlzLGQpXTtyZXR1cm4gZFswXX19LAplYWNoOmZ1bmN0aW9uKGEsZCxmKXtpZihlJiZhLmZvckVhY2g9PT1lKWEuZm9yRWFjaChkLGYpO2Vsc2UgaWYoYS5sZW5ndGg9PT1hLmxlbmd0aCswKWZvcih2YXIgYj0wLG49YS5sZW5ndGg7YjxuO2IrKyl7aWYoYiBpbiBhJiZkLmNhbGwoZixhW2JdLGIpPT09dGhpcy5CUkVBSylicmVha31lbHNlIGZvcihiIGluIGEpaWYoZC5jYWxsKGYsYVtiXSxiKT09PXRoaXMuQlJFQUspYnJlYWt9LGRlZmVyOmZ1bmN0aW9uKGEpe3NldFRpbWVvdXQoYSwwKX0sdG9BcnJheTpmdW5jdGlvbihjKXtyZXR1cm4gYy50b0FycmF5P2MudG9BcnJheSgpOmEuY2FsbChjKX0saXNVbmRlZmluZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT12b2lkIDB9LGlzTnVsbDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PW51bGx9LGlzTmFOOmZ1bmN0aW9uKGEpe3JldHVybiBhIT09YX0saXNBcnJheTpBcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm4gYS5jb25zdHJ1Y3Rvcj09PUFycmF5fSxpc09iamVjdDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PQpPYmplY3QoYSl9LGlzTnVtYmVyOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09YSswfSxpc1N0cmluZzpmdW5jdGlvbihhKXtyZXR1cm4gYT09PWErIiJ9LGlzQm9vbGVhbjpmdW5jdGlvbihhKXtyZXR1cm4gYT09PWZhbHNlfHxhPT09dHJ1ZX0saXNGdW5jdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpPT09IltvYmplY3QgRnVuY3Rpb25dIn19fSgpOwpkYXQuY29udHJvbGxlcnMuQ29udHJvbGxlcj1mdW5jdGlvbihlKXt2YXIgYT1mdW5jdGlvbihhLGQpe3RoaXMuaW5pdGlhbFZhbHVlPWFbZF07dGhpcy5kb21FbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RoaXMub2JqZWN0PWE7dGhpcy5wcm9wZXJ0eT1kO3RoaXMuX19vbkZpbmlzaENoYW5nZT10aGlzLl9fb25DaGFuZ2U9dm9pZCAwfTtlLmV4dGVuZChhLnByb3RvdHlwZSx7b25DaGFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5fX29uQ2hhbmdlPWE7cmV0dXJuIHRoaXN9LG9uRmluaXNoQ2hhbmdlOmZ1bmN0aW9uKGEpe3RoaXMuX19vbkZpbmlzaENoYW5nZT1hO3JldHVybiB0aGlzfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXt0aGlzLm9iamVjdFt0aGlzLnByb3BlcnR5XT1hO3RoaXMuX19vbkNoYW5nZSYmdGhpcy5fX29uQ2hhbmdlLmNhbGwodGhpcyxhKTt0aGlzLnVwZGF0ZURpc3BsYXkoKTtyZXR1cm4gdGhpc30sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vYmplY3RbdGhpcy5wcm9wZXJ0eV19LAp1cGRhdGVEaXNwbGF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGlzTW9kaWZpZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0aWFsVmFsdWUhPT10aGlzLmdldFZhbHVlKCl9fSk7cmV0dXJuIGF9KGRhdC51dGlscy5jb21tb24pOwpkYXQuZG9tLmRvbT1mdW5jdGlvbihlKXtmdW5jdGlvbiBhKGIpe2lmKGI9PT0iMCJ8fGUuaXNVbmRlZmluZWQoYikpcmV0dXJuIDA7Yj1iLm1hdGNoKGQpO3JldHVybiFlLmlzTnVsbChiKT9wYXJzZUZsb2F0KGJbMV0pOjB9dmFyIGM9e307ZS5lYWNoKHtIVE1MRXZlbnRzOlsiY2hhbmdlIl0sTW91c2VFdmVudHM6WyJjbGljayIsIm1vdXNlbW92ZSIsIm1vdXNlZG93biIsIm1vdXNldXAiLCJtb3VzZW92ZXIiXSxLZXlib2FyZEV2ZW50czpbImtleWRvd24iXX0sZnVuY3Rpb24oYixhKXtlLmVhY2goYixmdW5jdGlvbihiKXtjW2JdPWF9KX0pO3ZhciBkPS8oXGQrKFwuXGQrKT8pcHgvLGY9e21ha2VTZWxlY3RhYmxlOmZ1bmN0aW9uKGIsYSl7aWYoIShiPT09dm9pZCAwfHxiLnN0eWxlPT09dm9pZCAwKSliLm9uc2VsZWN0c3RhcnQ9YT9mdW5jdGlvbigpe3JldHVybiBmYWxzZX06ZnVuY3Rpb24oKXt9LGIuc3R5bGUuTW96VXNlclNlbGVjdD1hPyJhdXRvIjoibm9uZSIsYi5zdHlsZS5LaHRtbFVzZXJTZWxlY3Q9CmE/ImF1dG8iOiJub25lIixiLnVuc2VsZWN0YWJsZT1hPyJvbiI6Im9mZiJ9LG1ha2VGdWxsc2NyZWVuOmZ1bmN0aW9uKGIsYSxkKXtlLmlzVW5kZWZpbmVkKGEpJiYoYT10cnVlKTtlLmlzVW5kZWZpbmVkKGQpJiYoZD10cnVlKTtiLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7aWYoYSliLnN0eWxlLmxlZnQ9MCxiLnN0eWxlLnJpZ2h0PTA7aWYoZCliLnN0eWxlLnRvcD0wLGIuc3R5bGUuYm90dG9tPTB9LGZha2VFdmVudDpmdW5jdGlvbihiLGEsZCxmKXt2YXIgZD1kfHx7fSxtPWNbYV07aWYoIW0pdGhyb3cgRXJyb3IoIkV2ZW50IHR5cGUgIithKyIgbm90IHN1cHBvcnRlZC4iKTt2YXIgbD1kb2N1bWVudC5jcmVhdGVFdmVudChtKTtzd2l0Y2gobSl7Y2FzZSAiTW91c2VFdmVudHMiOmwuaW5pdE1vdXNlRXZlbnQoYSxkLmJ1YmJsZXN8fGZhbHNlLGQuY2FuY2VsYWJsZXx8dHJ1ZSx3aW5kb3csZC5jbGlja0NvdW50fHwxLDAsMCxkLnh8fGQuY2xpZW50WHx8MCxkLnl8fGQuY2xpZW50WXx8CjAsZmFsc2UsZmFsc2UsZmFsc2UsZmFsc2UsMCxudWxsKTticmVhaztjYXNlICJLZXlib2FyZEV2ZW50cyI6bT1sLmluaXRLZXlib2FyZEV2ZW50fHxsLmluaXRLZXlFdmVudDtlLmRlZmF1bHRzKGQse2NhbmNlbGFibGU6dHJ1ZSxjdHJsS2V5OmZhbHNlLGFsdEtleTpmYWxzZSxzaGlmdEtleTpmYWxzZSxtZXRhS2V5OmZhbHNlLGtleUNvZGU6dm9pZCAwLGNoYXJDb2RlOnZvaWQgMH0pO20oYSxkLmJ1YmJsZXN8fGZhbHNlLGQuY2FuY2VsYWJsZSx3aW5kb3csZC5jdHJsS2V5LGQuYWx0S2V5LGQuc2hpZnRLZXksZC5tZXRhS2V5LGQua2V5Q29kZSxkLmNoYXJDb2RlKTticmVhaztkZWZhdWx0OmwuaW5pdEV2ZW50KGEsZC5idWJibGVzfHxmYWxzZSxkLmNhbmNlbGFibGV8fHRydWUpfWUuZGVmYXVsdHMobCxmKTtiLmRpc3BhdGNoRXZlbnQobCl9LGJpbmQ6ZnVuY3Rpb24oYixhLGQsYyl7Yi5hZGRFdmVudExpc3RlbmVyP2IuYWRkRXZlbnRMaXN0ZW5lcihhLGQsY3x8ZmFsc2UpOmIuYXR0YWNoRXZlbnQmJgpiLmF0dGFjaEV2ZW50KCJvbiIrYSxkKTtyZXR1cm4gZn0sdW5iaW5kOmZ1bmN0aW9uKGIsYSxkLGMpe2IucmVtb3ZlRXZlbnRMaXN0ZW5lcj9iLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxkLGN8fGZhbHNlKTpiLmRldGFjaEV2ZW50JiZiLmRldGFjaEV2ZW50KCJvbiIrYSxkKTtyZXR1cm4gZn0sYWRkQ2xhc3M6ZnVuY3Rpb24oYixhKXtpZihiLmNsYXNzTmFtZT09PXZvaWQgMCliLmNsYXNzTmFtZT1hO2Vsc2UgaWYoYi5jbGFzc05hbWUhPT1hKXt2YXIgZD1iLmNsYXNzTmFtZS5zcGxpdCgvICsvKTtpZihkLmluZGV4T2YoYSk9PS0xKWQucHVzaChhKSxiLmNsYXNzTmFtZT1kLmpvaW4oIiAiKS5yZXBsYWNlKC9eXHMrLywiIikucmVwbGFjZSgvXHMrJC8sIiIpfXJldHVybiBmfSxyZW1vdmVDbGFzczpmdW5jdGlvbihiLGEpe2lmKGEpe2lmKGIuY2xhc3NOYW1lIT09dm9pZCAwKWlmKGIuY2xhc3NOYW1lPT09YSliLnJlbW92ZUF0dHJpYnV0ZSgiY2xhc3MiKTtlbHNle3ZhciBkPWIuY2xhc3NOYW1lLnNwbGl0KC8gKy8pLApjPWQuaW5kZXhPZihhKTtpZihjIT0tMSlkLnNwbGljZShjLDEpLGIuY2xhc3NOYW1lPWQuam9pbigiICIpfX1lbHNlIGIuY2xhc3NOYW1lPXZvaWQgMDtyZXR1cm4gZn0saGFzQ2xhc3M6ZnVuY3Rpb24oYSxkKXtyZXR1cm4gUmVnRXhwKCIoPzpefFxccyspIitkKyIoPzpcXHMrfCQpIikudGVzdChhLmNsYXNzTmFtZSl8fGZhbHNlfSxnZXRXaWR0aDpmdW5jdGlvbihiKXtiPWdldENvbXB1dGVkU3R5bGUoYik7cmV0dXJuIGEoYlsiYm9yZGVyLWxlZnQtd2lkdGgiXSkrYShiWyJib3JkZXItcmlnaHQtd2lkdGgiXSkrYShiWyJwYWRkaW5nLWxlZnQiXSkrYShiWyJwYWRkaW5nLXJpZ2h0Il0pK2EoYi53aWR0aCl9LGdldEhlaWdodDpmdW5jdGlvbihiKXtiPWdldENvbXB1dGVkU3R5bGUoYik7cmV0dXJuIGEoYlsiYm9yZGVyLXRvcC13aWR0aCJdKSthKGJbImJvcmRlci1ib3R0b20td2lkdGgiXSkrYShiWyJwYWRkaW5nLXRvcCJdKSthKGJbInBhZGRpbmctYm90dG9tIl0pK2EoYi5oZWlnaHQpfSwKZ2V0T2Zmc2V0OmZ1bmN0aW9uKGEpe3ZhciBkPXtsZWZ0OjAsdG9wOjB9O2lmKGEub2Zmc2V0UGFyZW50KXtkbyBkLmxlZnQrPWEub2Zmc2V0TGVmdCxkLnRvcCs9YS5vZmZzZXRUb3A7d2hpbGUoYT1hLm9mZnNldFBhcmVudCl9cmV0dXJuIGR9LGlzQWN0aXZlOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCYmKGEudHlwZXx8YS5ocmVmKX19O3JldHVybiBmfShkYXQudXRpbHMuY29tbW9uKTsKZGF0LmNvbnRyb2xsZXJzLk9wdGlvbkNvbnRyb2xsZXI9ZnVuY3Rpb24oZSxhLGMpe3ZhciBkPWZ1bmN0aW9uKGYsYixlKXtkLnN1cGVyY2xhc3MuY2FsbCh0aGlzLGYsYik7dmFyIGg9dGhpczt0aGlzLl9fc2VsZWN0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpO2lmKGMuaXNBcnJheShlKSl7dmFyIGo9e307Yy5lYWNoKGUsZnVuY3Rpb24oYSl7althXT1hfSk7ZT1qfWMuZWFjaChlLGZ1bmN0aW9uKGEsYil7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7ZC5pbm5lckhUTUw9YjtkLnNldEF0dHJpYnV0ZSgidmFsdWUiLGEpO2guX19zZWxlY3QuYXBwZW5kQ2hpbGQoZCl9KTt0aGlzLnVwZGF0ZURpc3BsYXkoKTthLmJpbmQodGhpcy5fX3NlbGVjdCwiY2hhbmdlIixmdW5jdGlvbigpe2guc2V0VmFsdWUodGhpcy5vcHRpb25zW3RoaXMuc2VsZWN0ZWRJbmRleF0udmFsdWUpfSk7dGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX19zZWxlY3QpfTsKZC5zdXBlcmNsYXNzPWU7Yy5leHRlbmQoZC5wcm90b3R5cGUsZS5wcm90b3R5cGUse3NldFZhbHVlOmZ1bmN0aW9uKGEpe2E9ZC5zdXBlcmNsYXNzLnByb3RvdHlwZS5zZXRWYWx1ZS5jYWxsKHRoaXMsYSk7dGhpcy5fX29uRmluaXNoQ2hhbmdlJiZ0aGlzLl9fb25GaW5pc2hDaGFuZ2UuY2FsbCh0aGlzLHRoaXMuZ2V0VmFsdWUoKSk7cmV0dXJuIGF9LHVwZGF0ZURpc3BsYXk6ZnVuY3Rpb24oKXt0aGlzLl9fc2VsZWN0LnZhbHVlPXRoaXMuZ2V0VmFsdWUoKTtyZXR1cm4gZC5zdXBlcmNsYXNzLnByb3RvdHlwZS51cGRhdGVEaXNwbGF5LmNhbGwodGhpcyl9fSk7cmV0dXJuIGR9KGRhdC5jb250cm9sbGVycy5Db250cm9sbGVyLGRhdC5kb20uZG9tLGRhdC51dGlscy5jb21tb24pOwpkYXQuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlcj1mdW5jdGlvbihlLGEpe3ZhciBjPWZ1bmN0aW9uKGQsZixiKXtjLnN1cGVyY2xhc3MuY2FsbCh0aGlzLGQsZik7Yj1ifHx7fTt0aGlzLl9fbWluPWIubWluO3RoaXMuX19tYXg9Yi5tYXg7dGhpcy5fX3N0ZXA9Yi5zdGVwO2Q9dGhpcy5fX2ltcGxpZWRTdGVwPWEuaXNVbmRlZmluZWQodGhpcy5fX3N0ZXApP3RoaXMuaW5pdGlhbFZhbHVlPT0wPzE6TWF0aC5wb3coMTAsTWF0aC5mbG9vcihNYXRoLmxvZyh0aGlzLmluaXRpYWxWYWx1ZSkvTWF0aC5MTjEwKSkvMTA6dGhpcy5fX3N0ZXA7ZD1kLnRvU3RyaW5nKCk7dGhpcy5fX3ByZWNpc2lvbj1kLmluZGV4T2YoIi4iKT4tMT9kLmxlbmd0aC1kLmluZGV4T2YoIi4iKS0xOjB9O2Muc3VwZXJjbGFzcz1lO2EuZXh0ZW5kKGMucHJvdG90eXBlLGUucHJvdG90eXBlLHtzZXRWYWx1ZTpmdW5jdGlvbihhKXtpZih0aGlzLl9fbWluIT09dm9pZCAwJiZhPHRoaXMuX19taW4pYT10aGlzLl9fbWluOwplbHNlIGlmKHRoaXMuX19tYXghPT12b2lkIDAmJmE+dGhpcy5fX21heClhPXRoaXMuX19tYXg7dGhpcy5fX3N0ZXAhPT12b2lkIDAmJmEldGhpcy5fX3N0ZXAhPTAmJihhPU1hdGgucm91bmQoYS90aGlzLl9fc3RlcCkqdGhpcy5fX3N0ZXApO3JldHVybiBjLnN1cGVyY2xhc3MucHJvdG90eXBlLnNldFZhbHVlLmNhbGwodGhpcyxhKX0sbWluOmZ1bmN0aW9uKGEpe3RoaXMuX19taW49YTtyZXR1cm4gdGhpc30sbWF4OmZ1bmN0aW9uKGEpe3RoaXMuX19tYXg9YTtyZXR1cm4gdGhpc30sc3RlcDpmdW5jdGlvbihhKXt0aGlzLl9fc3RlcD1hO3JldHVybiB0aGlzfX0pO3JldHVybiBjfShkYXQuY29udHJvbGxlcnMuQ29udHJvbGxlcixkYXQudXRpbHMuY29tbW9uKTsKZGF0LmNvbnRyb2xsZXJzLk51bWJlckNvbnRyb2xsZXJCb3g9ZnVuY3Rpb24oZSxhLGMpe3ZhciBkPWZ1bmN0aW9uKGYsYixlKXtmdW5jdGlvbiBoKCl7dmFyIGE9cGFyc2VGbG9hdChsLl9faW5wdXQudmFsdWUpO2MuaXNOYU4oYSl8fGwuc2V0VmFsdWUoYSl9ZnVuY3Rpb24gaihhKXt2YXIgYj1vLWEuY2xpZW50WTtsLnNldFZhbHVlKGwuZ2V0VmFsdWUoKStiKmwuX19pbXBsaWVkU3RlcCk7bz1hLmNsaWVudFl9ZnVuY3Rpb24gbSgpe2EudW5iaW5kKHdpbmRvdywibW91c2Vtb3ZlIixqKTthLnVuYmluZCh3aW5kb3csIm1vdXNldXAiLG0pfXRoaXMuX190cnVuY2F0aW9uU3VzcGVuZGVkPWZhbHNlO2Quc3VwZXJjbGFzcy5jYWxsKHRoaXMsZixiLGUpO3ZhciBsPXRoaXMsbzt0aGlzLl9faW5wdXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt0aGlzLl9faW5wdXQuc2V0QXR0cmlidXRlKCJ0eXBlIiwidGV4dCIpO2EuYmluZCh0aGlzLl9faW5wdXQsImNoYW5nZSIsaCk7CmEuYmluZCh0aGlzLl9faW5wdXQsImJsdXIiLGZ1bmN0aW9uKCl7aCgpO2wuX19vbkZpbmlzaENoYW5nZSYmbC5fX29uRmluaXNoQ2hhbmdlLmNhbGwobCxsLmdldFZhbHVlKCkpfSk7YS5iaW5kKHRoaXMuX19pbnB1dCwibW91c2Vkb3duIixmdW5jdGlvbihiKXthLmJpbmQod2luZG93LCJtb3VzZW1vdmUiLGopO2EuYmluZCh3aW5kb3csIm1vdXNldXAiLG0pO289Yi5jbGllbnRZfSk7YS5iaW5kKHRoaXMuX19pbnB1dCwia2V5ZG93biIsZnVuY3Rpb24oYSl7aWYoYS5rZXlDb2RlPT09MTMpbC5fX3RydW5jYXRpb25TdXNwZW5kZWQ9dHJ1ZSx0aGlzLmJsdXIoKSxsLl9fdHJ1bmNhdGlvblN1c3BlbmRlZD1mYWxzZX0pO3RoaXMudXBkYXRlRGlzcGxheSgpO3RoaXMuZG9tRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9faW5wdXQpfTtkLnN1cGVyY2xhc3M9ZTtjLmV4dGVuZChkLnByb3RvdHlwZSxlLnByb3RvdHlwZSx7dXBkYXRlRGlzcGxheTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX19pbnB1dCwKYjtpZih0aGlzLl9fdHJ1bmNhdGlvblN1c3BlbmRlZCliPXRoaXMuZ2V0VmFsdWUoKTtlbHNle2I9dGhpcy5nZXRWYWx1ZSgpO3ZhciBjPU1hdGgucG93KDEwLHRoaXMuX19wcmVjaXNpb24pO2I9TWF0aC5yb3VuZChiKmMpL2N9YS52YWx1ZT1iO3JldHVybiBkLnN1cGVyY2xhc3MucHJvdG90eXBlLnVwZGF0ZURpc3BsYXkuY2FsbCh0aGlzKX19KTtyZXR1cm4gZH0oZGF0LmNvbnRyb2xsZXJzLk51bWJlckNvbnRyb2xsZXIsZGF0LmRvbS5kb20sZGF0LnV0aWxzLmNvbW1vbik7CmRhdC5jb250cm9sbGVycy5OdW1iZXJDb250cm9sbGVyU2xpZGVyPWZ1bmN0aW9uKGUsYSxjLGQsZil7dmFyIGI9ZnVuY3Rpb24oZCxjLGYsZSxsKXtmdW5jdGlvbiBvKGIpe2IucHJldmVudERlZmF1bHQoKTt2YXIgZD1hLmdldE9mZnNldChnLl9fYmFja2dyb3VuZCksYz1hLmdldFdpZHRoKGcuX19iYWNrZ3JvdW5kKTtnLnNldFZhbHVlKGcuX19taW4rKGcuX19tYXgtZy5fX21pbikqKChiLmNsaWVudFgtZC5sZWZ0KS8oZC5sZWZ0K2MtZC5sZWZ0KSkpO3JldHVybiBmYWxzZX1mdW5jdGlvbiB5KCl7YS51bmJpbmQod2luZG93LCJtb3VzZW1vdmUiLG8pO2EudW5iaW5kKHdpbmRvdywibW91c2V1cCIseSk7Zy5fX29uRmluaXNoQ2hhbmdlJiZnLl9fb25GaW5pc2hDaGFuZ2UuY2FsbChnLGcuZ2V0VmFsdWUoKSl9Yi5zdXBlcmNsYXNzLmNhbGwodGhpcyxkLGMse21pbjpmLG1heDplLHN0ZXA6bH0pO3ZhciBnPXRoaXM7dGhpcy5fX2JhY2tncm91bmQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CnRoaXMuX19mb3JlZ3JvdW5kPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2EuYmluZCh0aGlzLl9fYmFja2dyb3VuZCwibW91c2Vkb3duIixmdW5jdGlvbihiKXthLmJpbmQod2luZG93LCJtb3VzZW1vdmUiLG8pO2EuYmluZCh3aW5kb3csIm1vdXNldXAiLHkpO28oYil9KTthLmFkZENsYXNzKHRoaXMuX19iYWNrZ3JvdW5kLCJzbGlkZXIiKTthLmFkZENsYXNzKHRoaXMuX19mb3JlZ3JvdW5kLCJzbGlkZXItZmciKTt0aGlzLnVwZGF0ZURpc3BsYXkoKTt0aGlzLl9fYmFja2dyb3VuZC5hcHBlbmRDaGlsZCh0aGlzLl9fZm9yZWdyb3VuZCk7dGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX19iYWNrZ3JvdW5kKX07Yi5zdXBlcmNsYXNzPWU7Yi51c2VEZWZhdWx0U3R5bGVzPWZ1bmN0aW9uKCl7Yy5pbmplY3QoZil9O2QuZXh0ZW5kKGIucHJvdG90eXBlLGUucHJvdG90eXBlLHt1cGRhdGVEaXNwbGF5OmZ1bmN0aW9uKCl7dGhpcy5fX2ZvcmVncm91bmQuc3R5bGUud2lkdGg9Cih0aGlzLmdldFZhbHVlKCktdGhpcy5fX21pbikvKHRoaXMuX19tYXgtdGhpcy5fX21pbikqMTAwKyIlIjtyZXR1cm4gYi5zdXBlcmNsYXNzLnByb3RvdHlwZS51cGRhdGVEaXNwbGF5LmNhbGwodGhpcyl9fSk7cmV0dXJuIGJ9KGRhdC5jb250cm9sbGVycy5OdW1iZXJDb250cm9sbGVyLGRhdC5kb20uZG9tLGRhdC51dGlscy5jc3MsZGF0LnV0aWxzLmNvbW1vbiwiLnNsaWRlciB7XG4gIGJveC1zaGFkb3c6IGluc2V0IDAgMnB4IDRweCByZ2JhKDAsMCwwLDAuMTUpO1xuICBoZWlnaHQ6IDFlbTtcbiAgYm9yZGVyLXJhZGl1czogMWVtO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xuICBwYWRkaW5nOiAwIDAuNWVtO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4uc2xpZGVyLWZnIHtcbiAgcGFkZGluZzogMXB4IDAgMnB4IDA7XG4gIGJhY2tncm91bmQtY29sb3I6ICNhYWE7XG4gIGhlaWdodDogMWVtO1xuICBtYXJnaW4tbGVmdDogLTAuNWVtO1xuICBwYWRkaW5nLXJpZ2h0OiAwLjVlbTtcbiAgYm9yZGVyLXJhZGl1czogMWVtIDAgMCAxZW07XG59XG5cbi5zbGlkZXItZmc6YWZ0ZXIge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGJvcmRlci1yYWRpdXM6IDFlbTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgYm9yZGVyOiAgMXB4IHNvbGlkICNhYWE7XG4gIGNvbnRlbnQ6ICcnO1xuICBmbG9hdDogcmlnaHQ7XG4gIG1hcmdpbi1yaWdodDogLTFlbTtcbiAgbWFyZ2luLXRvcDogLTFweDtcbiAgaGVpZ2h0OiAwLjllbTtcbiAgd2lkdGg6IDAuOWVtO1xufSIpOwpkYXQuY29udHJvbGxlcnMuRnVuY3Rpb25Db250cm9sbGVyPWZ1bmN0aW9uKGUsYSxjKXt2YXIgZD1mdW5jdGlvbihjLGIsZSl7ZC5zdXBlcmNsYXNzLmNhbGwodGhpcyxjLGIpO3ZhciBoPXRoaXM7dGhpcy5fX2J1dHRvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLl9fYnV0dG9uLmlubmVySFRNTD1lPT09dm9pZCAwPyJGaXJlIjplO2EuYmluZCh0aGlzLl9fYnV0dG9uLCJjbGljayIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpO2guZmlyZSgpO3JldHVybiBmYWxzZX0pO2EuYWRkQ2xhc3ModGhpcy5fX2J1dHRvbiwiYnV0dG9uIik7dGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX19idXR0b24pfTtkLnN1cGVyY2xhc3M9ZTtjLmV4dGVuZChkLnByb3RvdHlwZSxlLnByb3RvdHlwZSx7ZmlyZTpmdW5jdGlvbigpe3RoaXMuX19vbkNoYW5nZSYmdGhpcy5fX29uQ2hhbmdlLmNhbGwodGhpcyk7dGhpcy5fX29uRmluaXNoQ2hhbmdlJiZ0aGlzLl9fb25GaW5pc2hDaGFuZ2UuY2FsbCh0aGlzLAp0aGlzLmdldFZhbHVlKCkpO3RoaXMuZ2V0VmFsdWUoKS5jYWxsKHRoaXMub2JqZWN0KX19KTtyZXR1cm4gZH0oZGF0LmNvbnRyb2xsZXJzLkNvbnRyb2xsZXIsZGF0LmRvbS5kb20sZGF0LnV0aWxzLmNvbW1vbik7CmRhdC5jb250cm9sbGVycy5Cb29sZWFuQ29udHJvbGxlcj1mdW5jdGlvbihlLGEsYyl7dmFyIGQ9ZnVuY3Rpb24oYyxiKXtkLnN1cGVyY2xhc3MuY2FsbCh0aGlzLGMsYik7dmFyIGU9dGhpczt0aGlzLl9fcHJldj10aGlzLmdldFZhbHVlKCk7dGhpcy5fX2NoZWNrYm94PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7dGhpcy5fX2NoZWNrYm94LnNldEF0dHJpYnV0ZSgidHlwZSIsImNoZWNrYm94Iik7YS5iaW5kKHRoaXMuX19jaGVja2JveCwiY2hhbmdlIixmdW5jdGlvbigpe2Uuc2V0VmFsdWUoIWUuX19wcmV2KX0sZmFsc2UpO3RoaXMuZG9tRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9fY2hlY2tib3gpO3RoaXMudXBkYXRlRGlzcGxheSgpfTtkLnN1cGVyY2xhc3M9ZTtjLmV4dGVuZChkLnByb3RvdHlwZSxlLnByb3RvdHlwZSx7c2V0VmFsdWU6ZnVuY3Rpb24oYSl7YT1kLnN1cGVyY2xhc3MucHJvdG90eXBlLnNldFZhbHVlLmNhbGwodGhpcyxhKTt0aGlzLl9fb25GaW5pc2hDaGFuZ2UmJgp0aGlzLl9fb25GaW5pc2hDaGFuZ2UuY2FsbCh0aGlzLHRoaXMuZ2V0VmFsdWUoKSk7dGhpcy5fX3ByZXY9dGhpcy5nZXRWYWx1ZSgpO3JldHVybiBhfSx1cGRhdGVEaXNwbGF5OmZ1bmN0aW9uKCl7dGhpcy5nZXRWYWx1ZSgpPT09dHJ1ZT8odGhpcy5fX2NoZWNrYm94LnNldEF0dHJpYnV0ZSgiY2hlY2tlZCIsImNoZWNrZWQiKSx0aGlzLl9fY2hlY2tib3guY2hlY2tlZD10cnVlKTp0aGlzLl9fY2hlY2tib3guY2hlY2tlZD1mYWxzZTtyZXR1cm4gZC5zdXBlcmNsYXNzLnByb3RvdHlwZS51cGRhdGVEaXNwbGF5LmNhbGwodGhpcyl9fSk7cmV0dXJuIGR9KGRhdC5jb250cm9sbGVycy5Db250cm9sbGVyLGRhdC5kb20uZG9tLGRhdC51dGlscy5jb21tb24pOwpkYXQuY29sb3IudG9TdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGEpe2lmKGEuYT09MXx8ZS5pc1VuZGVmaW5lZChhLmEpKXtmb3IoYT1hLmhleC50b1N0cmluZygxNik7YS5sZW5ndGg8NjspYT0iMCIrYTtyZXR1cm4iIyIrYX1lbHNlIHJldHVybiJyZ2JhKCIrTWF0aC5yb3VuZChhLnIpKyIsIitNYXRoLnJvdW5kKGEuZykrIiwiK01hdGgucm91bmQoYS5iKSsiLCIrYS5hKyIpIn19KGRhdC51dGlscy5jb21tb24pOwpkYXQuY29sb3IuaW50ZXJwcmV0PWZ1bmN0aW9uKGUsYSl7dmFyIGMsZCxmPVt7bGl0bXVzOmEuaXNTdHJpbmcsY29udmVyc2lvbnM6e1RIUkVFX0NIQVJfSEVYOntyZWFkOmZ1bmN0aW9uKGEpe2E9YS5tYXRjaCgvXiMoW0EtRjAtOV0pKFtBLUYwLTldKShbQS1GMC05XSkkL2kpO3JldHVybiBhPT09bnVsbD9mYWxzZTp7c3BhY2U6IkhFWCIsaGV4OnBhcnNlSW50KCIweCIrYVsxXS50b1N0cmluZygpK2FbMV0udG9TdHJpbmcoKSthWzJdLnRvU3RyaW5nKCkrYVsyXS50b1N0cmluZygpK2FbM10udG9TdHJpbmcoKSthWzNdLnRvU3RyaW5nKCkpfX0sd3JpdGU6ZX0sU0lYX0NIQVJfSEVYOntyZWFkOmZ1bmN0aW9uKGEpe2E9YS5tYXRjaCgvXiMoW0EtRjAtOV17Nn0pJC9pKTtyZXR1cm4gYT09PW51bGw/ZmFsc2U6e3NwYWNlOiJIRVgiLGhleDpwYXJzZUludCgiMHgiK2FbMV0udG9TdHJpbmcoKSl9fSx3cml0ZTplfSxDU1NfUkdCOntyZWFkOmZ1bmN0aW9uKGEpe2E9YS5tYXRjaCgvXnJnYlwoXHMqKC4rKVxzKixccyooLispXHMqLFxzKiguKylccypcKS8pOwpyZXR1cm4gYT09PW51bGw/ZmFsc2U6e3NwYWNlOiJSR0IiLHI6cGFyc2VGbG9hdChhWzFdKSxnOnBhcnNlRmxvYXQoYVsyXSksYjpwYXJzZUZsb2F0KGFbM10pfX0sd3JpdGU6ZX0sQ1NTX1JHQkE6e3JlYWQ6ZnVuY3Rpb24oYSl7YT1hLm1hdGNoKC9ecmdiYVwoXHMqKC4rKVxzKixccyooLispXHMqLFxzKiguKylccypcLFxzKiguKylccypcKS8pO3JldHVybiBhPT09bnVsbD9mYWxzZTp7c3BhY2U6IlJHQiIscjpwYXJzZUZsb2F0KGFbMV0pLGc6cGFyc2VGbG9hdChhWzJdKSxiOnBhcnNlRmxvYXQoYVszXSksYTpwYXJzZUZsb2F0KGFbNF0pfX0sd3JpdGU6ZX19fSx7bGl0bXVzOmEuaXNOdW1iZXIsY29udmVyc2lvbnM6e0hFWDp7cmVhZDpmdW5jdGlvbihhKXtyZXR1cm57c3BhY2U6IkhFWCIsaGV4OmEsY29udmVyc2lvbk5hbWU6IkhFWCJ9fSx3cml0ZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5oZXh9fX19LHtsaXRtdXM6YS5pc0FycmF5LGNvbnZlcnNpb25zOntSR0JfQVJSQVk6e3JlYWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoIT0KMz9mYWxzZTp7c3BhY2U6IlJHQiIscjphWzBdLGc6YVsxXSxiOmFbMl19fSx3cml0ZTpmdW5jdGlvbihhKXtyZXR1cm5bYS5yLGEuZyxhLmJdfX0sUkdCQV9BUlJBWTp7cmVhZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGghPTQ/ZmFsc2U6e3NwYWNlOiJSR0IiLHI6YVswXSxnOmFbMV0sYjphWzJdLGE6YVszXX19LHdyaXRlOmZ1bmN0aW9uKGEpe3JldHVyblthLnIsYS5nLGEuYixhLmFdfX19fSx7bGl0bXVzOmEuaXNPYmplY3QsY29udmVyc2lvbnM6e1JHQkFfT0JKOntyZWFkOmZ1bmN0aW9uKGIpe3JldHVybiBhLmlzTnVtYmVyKGIucikmJmEuaXNOdW1iZXIoYi5nKSYmYS5pc051bWJlcihiLmIpJiZhLmlzTnVtYmVyKGIuYSk/e3NwYWNlOiJSR0IiLHI6Yi5yLGc6Yi5nLGI6Yi5iLGE6Yi5hfTpmYWxzZX0sd3JpdGU6ZnVuY3Rpb24oYSl7cmV0dXJue3I6YS5yLGc6YS5nLGI6YS5iLGE6YS5hfX19LFJHQl9PQko6e3JlYWQ6ZnVuY3Rpb24oYil7cmV0dXJuIGEuaXNOdW1iZXIoYi5yKSYmCmEuaXNOdW1iZXIoYi5nKSYmYS5pc051bWJlcihiLmIpP3tzcGFjZToiUkdCIixyOmIucixnOmIuZyxiOmIuYn06ZmFsc2V9LHdyaXRlOmZ1bmN0aW9uKGEpe3JldHVybntyOmEucixnOmEuZyxiOmEuYn19fSxIU1ZBX09CSjp7cmVhZDpmdW5jdGlvbihiKXtyZXR1cm4gYS5pc051bWJlcihiLmgpJiZhLmlzTnVtYmVyKGIucykmJmEuaXNOdW1iZXIoYi52KSYmYS5pc051bWJlcihiLmEpP3tzcGFjZToiSFNWIixoOmIuaCxzOmIucyx2OmIudixhOmIuYX06ZmFsc2V9LHdyaXRlOmZ1bmN0aW9uKGEpe3JldHVybntoOmEuaCxzOmEucyx2OmEudixhOmEuYX19fSxIU1ZfT0JKOntyZWFkOmZ1bmN0aW9uKGIpe3JldHVybiBhLmlzTnVtYmVyKGIuaCkmJmEuaXNOdW1iZXIoYi5zKSYmYS5pc051bWJlcihiLnYpP3tzcGFjZToiSFNWIixoOmIuaCxzOmIucyx2OmIudn06ZmFsc2V9LHdyaXRlOmZ1bmN0aW9uKGEpe3JldHVybntoOmEuaCxzOmEucyx2OmEudn19fX19XTtyZXR1cm4gZnVuY3Rpb24oKXtkPQpmYWxzZTt2YXIgYj1hcmd1bWVudHMubGVuZ3RoPjE/YS50b0FycmF5KGFyZ3VtZW50cyk6YXJndW1lbnRzWzBdO2EuZWFjaChmLGZ1bmN0aW9uKGUpe2lmKGUubGl0bXVzKGIpKXJldHVybiBhLmVhY2goZS5jb252ZXJzaW9ucyxmdW5jdGlvbihlLGYpe2M9ZS5yZWFkKGIpO2lmKGQ9PT1mYWxzZSYmYyE9PWZhbHNlKXJldHVybiBkPWMsYy5jb252ZXJzaW9uTmFtZT1mLGMuY29udmVyc2lvbj1lLGEuQlJFQUt9KSxhLkJSRUFLfSk7cmV0dXJuIGR9fShkYXQuY29sb3IudG9TdHJpbmcsZGF0LnV0aWxzLmNvbW1vbik7CmRhdC5HVUk9ZGF0Lmd1aS5HVUk9ZnVuY3Rpb24oZSxhLGMsZCxmLGIsbixoLGosbSxsLG8seSxnLGkpe2Z1bmN0aW9uIHEoYSxiLHIsYyl7aWYoYltyXT09PXZvaWQgMCl0aHJvdyBFcnJvcigiT2JqZWN0ICIrYisnIGhhcyBubyBwcm9wZXJ0eSAiJytyKyciJyk7Yy5jb2xvcj9iPW5ldyBsKGIscik6KGI9W2Iscl0uY29uY2F0KGMuZmFjdG9yeUFyZ3MpLGI9ZC5hcHBseShhLGIpKTtpZihjLmJlZm9yZSBpbnN0YW5jZW9mIGYpYy5iZWZvcmU9Yy5iZWZvcmUuX19saTt0KGEsYik7Zy5hZGRDbGFzcyhiLmRvbUVsZW1lbnQsImMiKTtyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtnLmFkZENsYXNzKHIsInByb3BlcnR5LW5hbWUiKTtyLmlubmVySFRNTD1iLnByb3BlcnR5O3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2UuYXBwZW5kQ2hpbGQocik7ZS5hcHBlbmRDaGlsZChiLmRvbUVsZW1lbnQpO2M9cyhhLGUsYy5iZWZvcmUpO2cuYWRkQ2xhc3MoYyxrLkNMQVNTX0NPTlRST0xMRVJfUk9XKTsKZy5hZGRDbGFzcyhjLHR5cGVvZiBiLmdldFZhbHVlKCkpO3AoYSxjLGIpO2EuX19jb250cm9sbGVycy5wdXNoKGIpO3JldHVybiBifWZ1bmN0aW9uIHMoYSxiLGQpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIik7YiYmYy5hcHBlbmRDaGlsZChiKTtkP2EuX191bC5pbnNlcnRCZWZvcmUoYyxwYXJhbXMuYmVmb3JlKTphLl9fdWwuYXBwZW5kQ2hpbGQoYyk7YS5vblJlc2l6ZSgpO3JldHVybiBjfWZ1bmN0aW9uIHAoYSxkLGMpe2MuX19saT1kO2MuX19ndWk9YTtpLmV4dGVuZChjLHtvcHRpb25zOmZ1bmN0aW9uKGIpe2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlyZXR1cm4gYy5yZW1vdmUoKSxxKGEsYy5vYmplY3QsYy5wcm9wZXJ0eSx7YmVmb3JlOmMuX19saS5uZXh0RWxlbWVudFNpYmxpbmcsZmFjdG9yeUFyZ3M6W2kudG9BcnJheShhcmd1bWVudHMpXX0pO2lmKGkuaXNBcnJheShiKXx8aS5pc09iamVjdChiKSlyZXR1cm4gYy5yZW1vdmUoKSxxKGEsYy5vYmplY3QsYy5wcm9wZXJ0eSwKe2JlZm9yZTpjLl9fbGkubmV4dEVsZW1lbnRTaWJsaW5nLGZhY3RvcnlBcmdzOltiXX0pfSxuYW1lOmZ1bmN0aW9uKGEpe2MuX19saS5maXJzdEVsZW1lbnRDaGlsZC5maXJzdEVsZW1lbnRDaGlsZC5pbm5lckhUTUw9YTtyZXR1cm4gY30sbGlzdGVuOmZ1bmN0aW9uKCl7Yy5fX2d1aS5saXN0ZW4oYyk7cmV0dXJuIGN9LHJlbW92ZTpmdW5jdGlvbigpe2MuX19ndWkucmVtb3ZlKGMpO3JldHVybiBjfX0pO2lmKGMgaW5zdGFuY2VvZiBqKXt2YXIgZT1uZXcgaChjLm9iamVjdCxjLnByb3BlcnR5LHttaW46Yy5fX21pbixtYXg6Yy5fX21heCxzdGVwOmMuX19zdGVwfSk7aS5lYWNoKFsidXBkYXRlRGlzcGxheSIsIm9uQ2hhbmdlIiwib25GaW5pc2hDaGFuZ2UiXSxmdW5jdGlvbihhKXt2YXIgYj1jW2FdLEg9ZVthXTtjW2FdPWVbYV09ZnVuY3Rpb24oKXt2YXIgYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO2IuYXBwbHkoYyxhKTtyZXR1cm4gSC5hcHBseShlLGEpfX0pOwpnLmFkZENsYXNzKGQsImhhcy1zbGlkZXIiKTtjLmRvbUVsZW1lbnQuaW5zZXJ0QmVmb3JlKGUuZG9tRWxlbWVudCxjLmRvbUVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQpfWVsc2UgaWYoYyBpbnN0YW5jZW9mIGgpe3ZhciBmPWZ1bmN0aW9uKGIpe3JldHVybiBpLmlzTnVtYmVyKGMuX19taW4pJiZpLmlzTnVtYmVyKGMuX19tYXgpPyhjLnJlbW92ZSgpLHEoYSxjLm9iamVjdCxjLnByb3BlcnR5LHtiZWZvcmU6Yy5fX2xpLm5leHRFbGVtZW50U2libGluZyxmYWN0b3J5QXJnczpbYy5fX21pbixjLl9fbWF4LGMuX19zdGVwXX0pKTpifTtjLm1pbj1pLmNvbXBvc2UoZixjLm1pbik7Yy5tYXg9aS5jb21wb3NlKGYsYy5tYXgpfWVsc2UgaWYoYyBpbnN0YW5jZW9mIGIpZy5iaW5kKGQsImNsaWNrIixmdW5jdGlvbigpe2cuZmFrZUV2ZW50KGMuX19jaGVja2JveCwiY2xpY2siKX0pLGcuYmluZChjLl9fY2hlY2tib3gsImNsaWNrIixmdW5jdGlvbihhKXthLnN0b3BQcm9wYWdhdGlvbigpfSk7CmVsc2UgaWYoYyBpbnN0YW5jZW9mIG4pZy5iaW5kKGQsImNsaWNrIixmdW5jdGlvbigpe2cuZmFrZUV2ZW50KGMuX19idXR0b24sImNsaWNrIil9KSxnLmJpbmQoZCwibW91c2VvdmVyIixmdW5jdGlvbigpe2cuYWRkQ2xhc3MoYy5fX2J1dHRvbiwiaG92ZXIiKX0pLGcuYmluZChkLCJtb3VzZW91dCIsZnVuY3Rpb24oKXtnLnJlbW92ZUNsYXNzKGMuX19idXR0b24sImhvdmVyIil9KTtlbHNlIGlmKGMgaW5zdGFuY2VvZiBsKWcuYWRkQ2xhc3MoZCwiY29sb3IiKSxjLnVwZGF0ZURpc3BsYXk9aS5jb21wb3NlKGZ1bmN0aW9uKGEpe2Quc3R5bGUuYm9yZGVyTGVmdENvbG9yPWMuX19jb2xvci50b1N0cmluZygpO3JldHVybiBhfSxjLnVwZGF0ZURpc3BsYXkpLGMudXBkYXRlRGlzcGxheSgpO2Muc2V0VmFsdWU9aS5jb21wb3NlKGZ1bmN0aW9uKGIpe2EuZ2V0Um9vdCgpLl9fcHJlc2V0X3NlbGVjdCYmYy5pc01vZGlmaWVkKCkmJkIoYS5nZXRSb290KCksdHJ1ZSk7cmV0dXJuIGJ9LGMuc2V0VmFsdWUpfQpmdW5jdGlvbiB0KGEsYil7dmFyIGM9YS5nZXRSb290KCksZD1jLl9fcmVtZW1iZXJlZE9iamVjdHMuaW5kZXhPZihiLm9iamVjdCk7aWYoZCE9LTEpe3ZhciBlPWMuX19yZW1lbWJlcmVkT2JqZWN0SW5kZWNlc1RvQ29udHJvbGxlcnNbZF07ZT09PXZvaWQgMCYmKGU9e30sYy5fX3JlbWVtYmVyZWRPYmplY3RJbmRlY2VzVG9Db250cm9sbGVyc1tkXT1lKTtlW2IucHJvcGVydHldPWI7aWYoYy5sb2FkJiZjLmxvYWQucmVtZW1iZXJlZCl7Yz1jLmxvYWQucmVtZW1iZXJlZDtpZihjW2EucHJlc2V0XSljPWNbYS5wcmVzZXRdO2Vsc2UgaWYoY1t3XSljPWNbd107ZWxzZSByZXR1cm47aWYoY1tkXSYmY1tkXVtiLnByb3BlcnR5XSE9PXZvaWQgMClkPWNbZF1bYi5wcm9wZXJ0eV0sYi5pbml0aWFsVmFsdWU9ZCxiLnNldFZhbHVlKGQpfX19ZnVuY3Rpb24gSShhKXt2YXIgYj1hLl9fc2F2ZV9yb3c9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGkiKTtnLmFkZENsYXNzKGEuZG9tRWxlbWVudCwKImhhcy1zYXZlIik7YS5fX3VsLmluc2VydEJlZm9yZShiLGEuX191bC5maXJzdENoaWxkKTtnLmFkZENsYXNzKGIsInNhdmUtcm93Iik7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO2MuaW5uZXJIVE1MPSImbmJzcDsiO2cuYWRkQ2xhc3MoYywiYnV0dG9uIGdlYXJzIik7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO2QuaW5uZXJIVE1MPSJTYXZlIjtnLmFkZENsYXNzKGQsImJ1dHRvbiIpO2cuYWRkQ2xhc3MoZCwic2F2ZSIpO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtlLmlubmVySFRNTD0iTmV3IjtnLmFkZENsYXNzKGUsImJ1dHRvbiIpO2cuYWRkQ2xhc3MoZSwic2F2ZS1hcyIpO3ZhciBmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtmLmlubmVySFRNTD0iUmV2ZXJ0IjtnLmFkZENsYXNzKGYsImJ1dHRvbiIpO2cuYWRkQ2xhc3MoZiwicmV2ZXJ0Iik7dmFyIG09YS5fX3ByZXNldF9zZWxlY3Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2VsZWN0Iik7CmEubG9hZCYmYS5sb2FkLnJlbWVtYmVyZWQ/aS5lYWNoKGEubG9hZC5yZW1lbWJlcmVkLGZ1bmN0aW9uKGIsYyl7QyhhLGMsYz09YS5wcmVzZXQpfSk6QyhhLHcsZmFsc2UpO2cuYmluZChtLCJjaGFuZ2UiLGZ1bmN0aW9uKCl7Zm9yKHZhciBiPTA7YjxhLl9fcHJlc2V0X3NlbGVjdC5sZW5ndGg7YisrKWEuX19wcmVzZXRfc2VsZWN0W2JdLmlubmVySFRNTD1hLl9fcHJlc2V0X3NlbGVjdFtiXS52YWx1ZTthLnByZXNldD10aGlzLnZhbHVlfSk7Yi5hcHBlbmRDaGlsZChtKTtiLmFwcGVuZENoaWxkKGMpO2IuYXBwZW5kQ2hpbGQoZCk7Yi5hcHBlbmRDaGlsZChlKTtiLmFwcGVuZENoaWxkKGYpO2lmKHUpe3ZhciBiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkZy1zYXZlLWxvY2FsbHkiKSxsPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkZy1sb2NhbC1leHBsYWluIik7Yi5zdHlsZS5kaXNwbGF5PSJibG9jayI7Yj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGctbG9jYWwtc3RvcmFnZSIpOwpsb2NhbFN0b3JhZ2UuZ2V0SXRlbShkb2N1bWVudC5sb2NhdGlvbi5ocmVmKyIuaXNMb2NhbCIpPT09InRydWUiJiZiLnNldEF0dHJpYnV0ZSgiY2hlY2tlZCIsImNoZWNrZWQiKTt2YXIgbz1mdW5jdGlvbigpe2wuc3R5bGUuZGlzcGxheT1hLnVzZUxvY2FsU3RvcmFnZT8iYmxvY2siOiJub25lIn07bygpO2cuYmluZChiLCJjaGFuZ2UiLGZ1bmN0aW9uKCl7YS51c2VMb2NhbFN0b3JhZ2U9IWEudXNlTG9jYWxTdG9yYWdlO28oKX0pfXZhciBoPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkZy1uZXctY29uc3RydWN0b3IiKTtnLmJpbmQoaCwia2V5ZG93biIsZnVuY3Rpb24oYSl7YS5tZXRhS2V5JiYoYS53aGljaD09PTY3fHxhLmtleUNvZGU9PTY3KSYmeC5oaWRlKCl9KTtnLmJpbmQoYywiY2xpY2siLGZ1bmN0aW9uKCl7aC5pbm5lckhUTUw9SlNPTi5zdHJpbmdpZnkoYS5nZXRTYXZlT2JqZWN0KCksdm9pZCAwLDIpO3guc2hvdygpO2guZm9jdXMoKTtoLnNlbGVjdCgpfSk7Zy5iaW5kKGQsCiJjbGljayIsZnVuY3Rpb24oKXthLnNhdmUoKX0pO2cuYmluZChlLCJjbGljayIsZnVuY3Rpb24oKXt2YXIgYj1wcm9tcHQoIkVudGVyIGEgbmV3IHByZXNldCBuYW1lLiIpO2ImJmEuc2F2ZUFzKGIpfSk7Zy5iaW5kKGYsImNsaWNrIixmdW5jdGlvbigpe2EucmV2ZXJ0KCl9KX1mdW5jdGlvbiBKKGEpe2Z1bmN0aW9uIGIoZil7Zi5wcmV2ZW50RGVmYXVsdCgpO2U9Zi5jbGllbnRYO2cuYWRkQ2xhc3MoYS5fX2Nsb3NlQnV0dG9uLGsuQ0xBU1NfRFJBRyk7Zy5iaW5kKHdpbmRvdywibW91c2Vtb3ZlIixjKTtnLmJpbmQod2luZG93LCJtb3VzZXVwIixkKTtyZXR1cm4gZmFsc2V9ZnVuY3Rpb24gYyhiKXtiLnByZXZlbnREZWZhdWx0KCk7YS53aWR0aCs9ZS1iLmNsaWVudFg7YS5vblJlc2l6ZSgpO2U9Yi5jbGllbnRYO3JldHVybiBmYWxzZX1mdW5jdGlvbiBkKCl7Zy5yZW1vdmVDbGFzcyhhLl9fY2xvc2VCdXR0b24say5DTEFTU19EUkFHKTtnLnVuYmluZCh3aW5kb3csIm1vdXNlbW92ZSIsCmMpO2cudW5iaW5kKHdpbmRvdywibW91c2V1cCIsZCl9YS5fX3Jlc2l6ZV9oYW5kbGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7aS5leHRlbmQoYS5fX3Jlc2l6ZV9oYW5kbGUuc3R5bGUse3dpZHRoOiI2cHgiLG1hcmdpbkxlZnQ6Ii0zcHgiLGhlaWdodDoiMjAwcHgiLGN1cnNvcjoiZXctcmVzaXplIixwb3NpdGlvbjoiYWJzb2x1dGUifSk7dmFyIGU7Zy5iaW5kKGEuX19yZXNpemVfaGFuZGxlLCJtb3VzZWRvd24iLGIpO2cuYmluZChhLl9fY2xvc2VCdXR0b24sIm1vdXNlZG93biIsYik7YS5kb21FbGVtZW50Lmluc2VydEJlZm9yZShhLl9fcmVzaXplX2hhbmRsZSxhLmRvbUVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQpfWZ1bmN0aW9uIEQoYSxiKXthLmRvbUVsZW1lbnQuc3R5bGUud2lkdGg9YisicHgiO2lmKGEuX19zYXZlX3JvdyYmYS5hdXRvUGxhY2UpYS5fX3NhdmVfcm93LnN0eWxlLndpZHRoPWIrInB4IjtpZihhLl9fY2xvc2VCdXR0b24pYS5fX2Nsb3NlQnV0dG9uLnN0eWxlLndpZHRoPQpiKyJweCJ9ZnVuY3Rpb24geihhLGIpe3ZhciBjPXt9O2kuZWFjaChhLl9fcmVtZW1iZXJlZE9iamVjdHMsZnVuY3Rpb24oZCxlKXt2YXIgZj17fTtpLmVhY2goYS5fX3JlbWVtYmVyZWRPYmplY3RJbmRlY2VzVG9Db250cm9sbGVyc1tlXSxmdW5jdGlvbihhLGMpe2ZbY109Yj9hLmluaXRpYWxWYWx1ZTphLmdldFZhbHVlKCl9KTtjW2VdPWZ9KTtyZXR1cm4gY31mdW5jdGlvbiBDKGEsYixjKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTtkLmlubmVySFRNTD1iO2QudmFsdWU9YjthLl9fcHJlc2V0X3NlbGVjdC5hcHBlbmRDaGlsZChkKTtpZihjKWEuX19wcmVzZXRfc2VsZWN0LnNlbGVjdGVkSW5kZXg9YS5fX3ByZXNldF9zZWxlY3QubGVuZ3RoLTF9ZnVuY3Rpb24gQihhLGIpe3ZhciBjPWEuX19wcmVzZXRfc2VsZWN0W2EuX19wcmVzZXRfc2VsZWN0LnNlbGVjdGVkSW5kZXhdO2MuaW5uZXJIVE1MPWI/Yy52YWx1ZSsiKiI6Yy52YWx1ZX1mdW5jdGlvbiBFKGEpe2EubGVuZ3RoIT0KMCYmbyhmdW5jdGlvbigpe0UoYSl9KTtpLmVhY2goYSxmdW5jdGlvbihhKXthLnVwZGF0ZURpc3BsYXkoKX0pfWUuaW5qZWN0KGMpO3ZhciB3PSJEZWZhdWx0Iix1O3RyeXt1PSJsb2NhbFN0b3JhZ2UiaW4gd2luZG93JiZ3aW5kb3cubG9jYWxTdG9yYWdlIT09bnVsbH1jYXRjaChLKXt1PWZhbHNlfXZhciB4LEY9dHJ1ZSx2LEE9ZmFsc2UsRz1bXSxrPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtsb2NhbFN0b3JhZ2Uuc2V0SXRlbShkb2N1bWVudC5sb2NhdGlvbi5ocmVmKyIuZ3VpIixKU09OLnN0cmluZ2lmeShkLmdldFNhdmVPYmplY3QoKSkpfWZ1bmN0aW9uIGMoKXt2YXIgYT1kLmdldFJvb3QoKTthLndpZHRoKz0xO2kuZGVmZXIoZnVuY3Rpb24oKXthLndpZHRoLT0xfSl9dmFyIGQ9dGhpczt0aGlzLmRvbUVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dGhpcy5fX3VsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInVsIik7dGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX191bCk7CmcuYWRkQ2xhc3ModGhpcy5kb21FbGVtZW50LCJkZyIpO3RoaXMuX19mb2xkZXJzPXt9O3RoaXMuX19jb250cm9sbGVycz1bXTt0aGlzLl9fcmVtZW1iZXJlZE9iamVjdHM9W107dGhpcy5fX3JlbWVtYmVyZWRPYmplY3RJbmRlY2VzVG9Db250cm9sbGVycz1bXTt0aGlzLl9fbGlzdGVuaW5nPVtdO2E9YXx8e307YT1pLmRlZmF1bHRzKGEse2F1dG9QbGFjZTp0cnVlLHdpZHRoOmsuREVGQVVMVF9XSURUSH0pO2E9aS5kZWZhdWx0cyhhLHtyZXNpemFibGU6YS5hdXRvUGxhY2UsaGlkZWFibGU6YS5hdXRvUGxhY2V9KTtpZihpLmlzVW5kZWZpbmVkKGEubG9hZCkpYS5sb2FkPXtwcmVzZXQ6d307ZWxzZSBpZihhLnByZXNldClhLmxvYWQucHJlc2V0PWEucHJlc2V0O2kuaXNVbmRlZmluZWQoYS5wYXJlbnQpJiZhLmhpZGVhYmxlJiZHLnB1c2godGhpcyk7YS5yZXNpemFibGU9aS5pc1VuZGVmaW5lZChhLnBhcmVudCkmJmEucmVzaXphYmxlO2lmKGEuYXV0b1BsYWNlJiZpLmlzVW5kZWZpbmVkKGEuc2Nyb2xsYWJsZSkpYS5zY3JvbGxhYmxlPQp0cnVlO3ZhciBlPXUmJmxvY2FsU3RvcmFnZS5nZXRJdGVtKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYrIi5pc0xvY2FsIik9PT0idHJ1ZSI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcyx7cGFyZW50OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5wYXJlbnR9fSxzY3JvbGxhYmxlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5zY3JvbGxhYmxlfX0sYXV0b1BsYWNlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5hdXRvUGxhY2V9fSxwcmVzZXQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBkLnBhcmVudD9kLmdldFJvb3QoKS5wcmVzZXQ6YS5sb2FkLnByZXNldH0sc2V0OmZ1bmN0aW9uKGIpe2QucGFyZW50P2QuZ2V0Um9vdCgpLnByZXNldD1iOmEubG9hZC5wcmVzZXQ9Yjtmb3IoYj0wO2I8dGhpcy5fX3ByZXNldF9zZWxlY3QubGVuZ3RoO2IrKylpZih0aGlzLl9fcHJlc2V0X3NlbGVjdFtiXS52YWx1ZT09dGhpcy5wcmVzZXQpdGhpcy5fX3ByZXNldF9zZWxlY3Quc2VsZWN0ZWRJbmRleD0KYjtkLnJldmVydCgpfX0sd2lkdGg6e2dldDpmdW5jdGlvbigpe3JldHVybiBhLndpZHRofSxzZXQ6ZnVuY3Rpb24oYil7YS53aWR0aD1iO0QoZCxiKX19LG5hbWU6e2dldDpmdW5jdGlvbigpe3JldHVybiBhLm5hbWV9LHNldDpmdW5jdGlvbihiKXthLm5hbWU9YjtpZihtKW0uaW5uZXJIVE1MPWEubmFtZX19LGNsb3NlZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuY2xvc2VkfSxzZXQ6ZnVuY3Rpb24oYil7YS5jbG9zZWQ9YjthLmNsb3NlZD9nLmFkZENsYXNzKGQuX191bCxrLkNMQVNTX0NMT1NFRCk6Zy5yZW1vdmVDbGFzcyhkLl9fdWwsay5DTEFTU19DTE9TRUQpO3RoaXMub25SZXNpemUoKTtpZihkLl9fY2xvc2VCdXR0b24pZC5fX2Nsb3NlQnV0dG9uLmlubmVySFRNTD1iP2suVEVYVF9PUEVOOmsuVEVYVF9DTE9TRUR9fSxsb2FkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5sb2FkfX0sdXNlTG9jYWxTdG9yYWdlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZX0sc2V0OmZ1bmN0aW9uKGEpe3UmJgooKGU9YSk/Zy5iaW5kKHdpbmRvdywidW5sb2FkIixiKTpnLnVuYmluZCh3aW5kb3csInVubG9hZCIsYiksbG9jYWxTdG9yYWdlLnNldEl0ZW0oZG9jdW1lbnQubG9jYXRpb24uaHJlZisiLmlzTG9jYWwiLGEpKX19fSk7aWYoaS5pc1VuZGVmaW5lZChhLnBhcmVudCkpe2EuY2xvc2VkPWZhbHNlO2cuYWRkQ2xhc3ModGhpcy5kb21FbGVtZW50LGsuQ0xBU1NfTUFJTik7Zy5tYWtlU2VsZWN0YWJsZSh0aGlzLmRvbUVsZW1lbnQsZmFsc2UpO2lmKHUmJmUpe2QudXNlTG9jYWxTdG9yYWdlPXRydWU7dmFyIGY9bG9jYWxTdG9yYWdlLmdldEl0ZW0oZG9jdW1lbnQubG9jYXRpb24uaHJlZisiLmd1aSIpO2lmKGYpYS5sb2FkPUpTT04ucGFyc2UoZil9dGhpcy5fX2Nsb3NlQnV0dG9uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RoaXMuX19jbG9zZUJ1dHRvbi5pbm5lckhUTUw9ay5URVhUX0NMT1NFRDtnLmFkZENsYXNzKHRoaXMuX19jbG9zZUJ1dHRvbixrLkNMQVNTX0NMT1NFX0JVVFRPTik7CnRoaXMuZG9tRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9fY2xvc2VCdXR0b24pO2cuYmluZCh0aGlzLl9fY2xvc2VCdXR0b24sImNsaWNrIixmdW5jdGlvbigpe2QuY2xvc2VkPSFkLmNsb3NlZH0pfWVsc2V7aWYoYS5jbG9zZWQ9PT12b2lkIDApYS5jbG9zZWQ9dHJ1ZTt2YXIgbT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhLm5hbWUpO2cuYWRkQ2xhc3MobSwiY29udHJvbGxlci1uYW1lIik7Zj1zKGQsbSk7Zy5hZGRDbGFzcyh0aGlzLl9fdWwsay5DTEFTU19DTE9TRUQpO2cuYWRkQ2xhc3MoZiwidGl0bGUiKTtnLmJpbmQoZiwiY2xpY2siLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKTtkLmNsb3NlZD0hZC5jbG9zZWQ7cmV0dXJuIGZhbHNlfSk7aWYoIWEuY2xvc2VkKXRoaXMuY2xvc2VkPWZhbHNlfWEuYXV0b1BsYWNlJiYoaS5pc1VuZGVmaW5lZChhLnBhcmVudCkmJihGJiYodj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxnLmFkZENsYXNzKHYsImRnIiksZy5hZGRDbGFzcyh2LAprLkNMQVNTX0FVVE9fUExBQ0VfQ09OVEFJTkVSKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHYpLEY9ZmFsc2UpLHYuYXBwZW5kQ2hpbGQodGhpcy5kb21FbGVtZW50KSxnLmFkZENsYXNzKHRoaXMuZG9tRWxlbWVudCxrLkNMQVNTX0FVVE9fUExBQ0UpKSx0aGlzLnBhcmVudHx8RChkLGEud2lkdGgpKTtnLmJpbmQod2luZG93LCJyZXNpemUiLGZ1bmN0aW9uKCl7ZC5vblJlc2l6ZSgpfSk7Zy5iaW5kKHRoaXMuX191bCwid2Via2l0VHJhbnNpdGlvbkVuZCIsZnVuY3Rpb24oKXtkLm9uUmVzaXplKCl9KTtnLmJpbmQodGhpcy5fX3VsLCJ0cmFuc2l0aW9uZW5kIixmdW5jdGlvbigpe2Qub25SZXNpemUoKX0pO2cuYmluZCh0aGlzLl9fdWwsIm9UcmFuc2l0aW9uRW5kIixmdW5jdGlvbigpe2Qub25SZXNpemUoKX0pO3RoaXMub25SZXNpemUoKTthLnJlc2l6YWJsZSYmSih0aGlzKTtkLmdldFJvb3QoKTthLnBhcmVudHx8YygpfTtrLnRvZ2dsZUhpZGU9ZnVuY3Rpb24oKXtBPSFBO2kuZWFjaChHLApmdW5jdGlvbihhKXthLmRvbUVsZW1lbnQuc3R5bGUuekluZGV4PUE/LTk5OTo5OTk7YS5kb21FbGVtZW50LnN0eWxlLm9wYWNpdHk9QT8wOjF9KX07ay5DTEFTU19BVVRPX1BMQUNFPSJhIjtrLkNMQVNTX0FVVE9fUExBQ0VfQ09OVEFJTkVSPSJhYyI7ay5DTEFTU19NQUlOPSJtYWluIjtrLkNMQVNTX0NPTlRST0xMRVJfUk9XPSJjciI7ay5DTEFTU19UT09fVEFMTD0idGFsbGVyLXRoYW4td2luZG93IjtrLkNMQVNTX0NMT1NFRD0iY2xvc2VkIjtrLkNMQVNTX0NMT1NFX0JVVFRPTj0iY2xvc2UtYnV0dG9uIjtrLkNMQVNTX0RSQUc9ImRyYWciO2suREVGQVVMVF9XSURUSD0yNDU7ay5URVhUX0NMT1NFRD0iQ2xvc2UgQ29udHJvbHMiO2suVEVYVF9PUEVOPSJPcGVuIENvbnRyb2xzIjtnLmJpbmQod2luZG93LCJrZXlkb3duIixmdW5jdGlvbihhKXtkb2N1bWVudC5hY3RpdmVFbGVtZW50LnR5cGUhPT0idGV4dCImJihhLndoaWNoPT09NzJ8fGEua2V5Q29kZT09NzIpJiZrLnRvZ2dsZUhpZGUoKX0sCmZhbHNlKTtpLmV4dGVuZChrLnByb3RvdHlwZSx7YWRkOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHEodGhpcyxhLGIse2ZhY3RvcnlBcmdzOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKX0pfSxhZGRDb2xvcjpmdW5jdGlvbihhLGIpe3JldHVybiBxKHRoaXMsYSxiLHtjb2xvcjp0cnVlfSl9LHJlbW92ZTpmdW5jdGlvbihhKXt0aGlzLl9fdWwucmVtb3ZlQ2hpbGQoYS5fX2xpKTt0aGlzLl9fY29udHJvbGxlcnMuc2xpY2UodGhpcy5fX2NvbnRyb2xsZXJzLmluZGV4T2YoYSksMSk7dmFyIGI9dGhpcztpLmRlZmVyKGZ1bmN0aW9uKCl7Yi5vblJlc2l6ZSgpfSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmF1dG9QbGFjZSYmdi5yZW1vdmVDaGlsZCh0aGlzLmRvbUVsZW1lbnQpfSxhZGRGb2xkZXI6ZnVuY3Rpb24oYSl7aWYodGhpcy5fX2ZvbGRlcnNbYV0hPT12b2lkIDApdGhyb3cgRXJyb3IoJ1lvdSBhbHJlYWR5IGhhdmUgYSBmb2xkZXIgaW4gdGhpcyBHVUkgYnkgdGhlIG5hbWUgIicrCmErJyInKTt2YXIgYj17bmFtZTphLHBhcmVudDp0aGlzfTtiLmF1dG9QbGFjZT10aGlzLmF1dG9QbGFjZTtpZih0aGlzLmxvYWQmJnRoaXMubG9hZC5mb2xkZXJzJiZ0aGlzLmxvYWQuZm9sZGVyc1thXSliLmNsb3NlZD10aGlzLmxvYWQuZm9sZGVyc1thXS5jbG9zZWQsYi5sb2FkPXRoaXMubG9hZC5mb2xkZXJzW2FdO2I9bmV3IGsoYik7dGhpcy5fX2ZvbGRlcnNbYV09YjthPXModGhpcyxiLmRvbUVsZW1lbnQpO2cuYWRkQ2xhc3MoYSwiZm9sZGVyIik7cmV0dXJuIGJ9LG9wZW46ZnVuY3Rpb24oKXt0aGlzLmNsb3NlZD1mYWxzZX0sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLmNsb3NlZD10cnVlfSxvblJlc2l6ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Um9vdCgpO2lmKGEuc2Nyb2xsYWJsZSl7dmFyIGI9Zy5nZXRPZmZzZXQoYS5fX3VsKS50b3AsYz0wO2kuZWFjaChhLl9fdWwuY2hpbGROb2RlcyxmdW5jdGlvbihiKXthLmF1dG9QbGFjZSYmYj09PWEuX19zYXZlX3Jvd3x8KGMrPQpnLmdldEhlaWdodChiKSl9KTt3aW5kb3cuaW5uZXJIZWlnaHQtYi0yMDxjPyhnLmFkZENsYXNzKGEuZG9tRWxlbWVudCxrLkNMQVNTX1RPT19UQUxMKSxhLl9fdWwuc3R5bGUuaGVpZ2h0PXdpbmRvdy5pbm5lckhlaWdodC1iLTIwKyJweCIpOihnLnJlbW92ZUNsYXNzKGEuZG9tRWxlbWVudCxrLkNMQVNTX1RPT19UQUxMKSxhLl9fdWwuc3R5bGUuaGVpZ2h0PSJhdXRvIil9YS5fX3Jlc2l6ZV9oYW5kbGUmJmkuZGVmZXIoZnVuY3Rpb24oKXthLl9fcmVzaXplX2hhbmRsZS5zdHlsZS5oZWlnaHQ9YS5fX3VsLm9mZnNldEhlaWdodCsicHgifSk7aWYoYS5fX2Nsb3NlQnV0dG9uKWEuX19jbG9zZUJ1dHRvbi5zdHlsZS53aWR0aD1hLndpZHRoKyJweCJ9LHJlbWVtYmVyOmZ1bmN0aW9uKCl7aWYoaS5pc1VuZGVmaW5lZCh4KSl4PW5ldyB5LHguZG9tRWxlbWVudC5pbm5lckhUTUw9YTtpZih0aGlzLnBhcmVudCl0aHJvdyBFcnJvcigiWW91IGNhbiBvbmx5IGNhbGwgcmVtZW1iZXIgb24gYSB0b3AgbGV2ZWwgR1VJLiIpOwp2YXIgYj10aGlzO2kuZWFjaChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLGZ1bmN0aW9uKGEpe2IuX19yZW1lbWJlcmVkT2JqZWN0cy5sZW5ndGg9PTAmJkkoYik7Yi5fX3JlbWVtYmVyZWRPYmplY3RzLmluZGV4T2YoYSk9PS0xJiZiLl9fcmVtZW1iZXJlZE9iamVjdHMucHVzaChhKX0pO3RoaXMuYXV0b1BsYWNlJiZEKHRoaXMsdGhpcy53aWR0aCl9LGdldFJvb3Q6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpczthLnBhcmVudDspYT1hLnBhcmVudDtyZXR1cm4gYX0sZ2V0U2F2ZU9iamVjdDpmdW5jdGlvbigpe3ZhciBhPXRoaXMubG9hZDthLmNsb3NlZD10aGlzLmNsb3NlZDtpZih0aGlzLl9fcmVtZW1iZXJlZE9iamVjdHMubGVuZ3RoPjApe2EucHJlc2V0PXRoaXMucHJlc2V0O2lmKCFhLnJlbWVtYmVyZWQpYS5yZW1lbWJlcmVkPXt9O2EucmVtZW1iZXJlZFt0aGlzLnByZXNldF09eih0aGlzKX1hLmZvbGRlcnM9e307aS5lYWNoKHRoaXMuX19mb2xkZXJzLGZ1bmN0aW9uKGIsCmMpe2EuZm9sZGVyc1tjXT1iLmdldFNhdmVPYmplY3QoKX0pO3JldHVybiBhfSxzYXZlOmZ1bmN0aW9uKCl7aWYoIXRoaXMubG9hZC5yZW1lbWJlcmVkKXRoaXMubG9hZC5yZW1lbWJlcmVkPXt9O3RoaXMubG9hZC5yZW1lbWJlcmVkW3RoaXMucHJlc2V0XT16KHRoaXMpO0IodGhpcyxmYWxzZSl9LHNhdmVBczpmdW5jdGlvbihhKXtpZighdGhpcy5sb2FkLnJlbWVtYmVyZWQpdGhpcy5sb2FkLnJlbWVtYmVyZWQ9e30sdGhpcy5sb2FkLnJlbWVtYmVyZWRbd109eih0aGlzLHRydWUpO3RoaXMubG9hZC5yZW1lbWJlcmVkW2FdPXoodGhpcyk7dGhpcy5wcmVzZXQ9YTtDKHRoaXMsYSx0cnVlKX0scmV2ZXJ0OmZ1bmN0aW9uKGEpe2kuZWFjaCh0aGlzLl9fY29udHJvbGxlcnMsZnVuY3Rpb24oYil7dGhpcy5nZXRSb290KCkubG9hZC5yZW1lbWJlcmVkP3QoYXx8dGhpcy5nZXRSb290KCksYik6Yi5zZXRWYWx1ZShiLmluaXRpYWxWYWx1ZSl9LHRoaXMpO2kuZWFjaCh0aGlzLl9fZm9sZGVycywKZnVuY3Rpb24oYSl7YS5yZXZlcnQoYSl9KTthfHxCKHRoaXMuZ2V0Um9vdCgpLGZhbHNlKX0sbGlzdGVuOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX19saXN0ZW5pbmcubGVuZ3RoPT0wO3RoaXMuX19saXN0ZW5pbmcucHVzaChhKTtiJiZFKHRoaXMuX19saXN0ZW5pbmcpfX0pO3JldHVybiBrfShkYXQudXRpbHMuY3NzLCc8ZGl2IGlkPSJkZy1zYXZlIiBjbGFzcz0iZGcgZGlhbG9ndWUiPlxuXG4gIEhlcmVcJ3MgdGhlIG5ldyBsb2FkIHBhcmFtZXRlciBmb3IgeW91ciA8Y29kZT5HVUk8L2NvZGU+XCdzIGNvbnN0cnVjdG9yOlxuXG4gIDx0ZXh0YXJlYSBpZD0iZGctbmV3LWNvbnN0cnVjdG9yIj48L3RleHRhcmVhPlxuXG4gIDxkaXYgaWQ9ImRnLXNhdmUtbG9jYWxseSI+XG5cbiAgICA8aW5wdXQgaWQ9ImRnLWxvY2FsLXN0b3JhZ2UiIHR5cGU9ImNoZWNrYm94Ii8+IEF1dG9tYXRpY2FsbHkgc2F2ZVxuICAgIHZhbHVlcyB0byA8Y29kZT5sb2NhbFN0b3JhZ2U8L2NvZGU+IG9uIGV4aXQuXG5cbiAgICA8ZGl2IGlkPSJkZy1sb2NhbC1leHBsYWluIj5UaGUgdmFsdWVzIHNhdmVkIHRvIDxjb2RlPmxvY2FsU3RvcmFnZTwvY29kZT4gd2lsbFxuICAgICAgb3ZlcnJpZGUgdGhvc2UgcGFzc2VkIHRvIDxjb2RlPmRhdC5HVUk8L2NvZGU+XCdzIGNvbnN0cnVjdG9yLiBUaGlzIG1ha2VzIGl0XG4gICAgICBlYXNpZXIgdG8gd29yayBpbmNyZW1lbnRhbGx5LCBidXQgPGNvZGU+bG9jYWxTdG9yYWdlPC9jb2RlPiBpcyBmcmFnaWxlLFxuICAgICAgYW5kIHlvdXIgZnJpZW5kcyBtYXkgbm90IHNlZSB0aGUgc2FtZSB2YWx1ZXMgeW91IGRvLlxuICAgICAgXG4gICAgPC9kaXY+XG4gICAgXG4gIDwvZGl2PlxuXG48L2Rpdj4nLAoiLmRnIHVse2xpc3Qtc3R5bGU6bm9uZTttYXJnaW46MDtwYWRkaW5nOjA7d2lkdGg6MTAwJTtjbGVhcjpib3RofS5kZy5hY3twb3NpdGlvbjpmaXhlZDt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDtoZWlnaHQ6MDt6LWluZGV4OjB9LmRnOm5vdCguYWMpIC5tYWlue292ZXJmbG93OmhpZGRlbn0uZGcubWFpbnstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAwLjFzIGxpbmVhcjstby10cmFuc2l0aW9uOm9wYWNpdHkgMC4xcyBsaW5lYXI7LW1vei10cmFuc2l0aW9uOm9wYWNpdHkgMC4xcyBsaW5lYXI7dHJhbnNpdGlvbjpvcGFjaXR5IDAuMXMgbGluZWFyfS5kZy5tYWluLnRhbGxlci10aGFuLXdpbmRvd3tvdmVyZmxvdy15OmF1dG99LmRnLm1haW4udGFsbGVyLXRoYW4td2luZG93IC5jbG9zZS1idXR0b257b3BhY2l0eToxO21hcmdpbi10b3A6LTFweDtib3JkZXItdG9wOjFweCBzb2xpZCAjMmMyYzJjfS5kZy5tYWluIHVsLmNsb3NlZCAuY2xvc2UtYnV0dG9ue29wYWNpdHk6MSAhaW1wb3J0YW50fS5kZy5tYWluOmhvdmVyIC5jbG9zZS1idXR0b24sLmRnLm1haW4gLmNsb3NlLWJ1dHRvbi5kcmFne29wYWNpdHk6MX0uZGcubWFpbiAuY2xvc2UtYnV0dG9uey13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IDAuMXMgbGluZWFyOy1vLXRyYW5zaXRpb246b3BhY2l0eSAwLjFzIGxpbmVhcjstbW96LXRyYW5zaXRpb246b3BhY2l0eSAwLjFzIGxpbmVhcjt0cmFuc2l0aW9uOm9wYWNpdHkgMC4xcyBsaW5lYXI7Ym9yZGVyOjA7cG9zaXRpb246YWJzb2x1dGU7bGluZS1oZWlnaHQ6MTlweDtoZWlnaHQ6MjBweDtjdXJzb3I6cG9pbnRlcjt0ZXh0LWFsaWduOmNlbnRlcjtiYWNrZ3JvdW5kLWNvbG9yOiMwMDB9LmRnLm1haW4gLmNsb3NlLWJ1dHRvbjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiMxMTF9LmRnLmF7ZmxvYXQ6cmlnaHQ7bWFyZ2luLXJpZ2h0OjE1cHg7b3ZlcmZsb3cteDpoaWRkZW59LmRnLmEuaGFzLXNhdmUgdWx7bWFyZ2luLXRvcDoyN3B4fS5kZy5hLmhhcy1zYXZlIHVsLmNsb3NlZHttYXJnaW4tdG9wOjB9LmRnLmEgLnNhdmUtcm93e3Bvc2l0aW9uOmZpeGVkO3RvcDowO3otaW5kZXg6MTAwMn0uZGcgbGl7LXdlYmtpdC10cmFuc2l0aW9uOmhlaWdodCAwLjFzIGVhc2Utb3V0Oy1vLXRyYW5zaXRpb246aGVpZ2h0IDAuMXMgZWFzZS1vdXQ7LW1vei10cmFuc2l0aW9uOmhlaWdodCAwLjFzIGVhc2Utb3V0O3RyYW5zaXRpb246aGVpZ2h0IDAuMXMgZWFzZS1vdXR9LmRnIGxpOm5vdCguZm9sZGVyKXtjdXJzb3I6YXV0bztoZWlnaHQ6MjdweDtsaW5lLWhlaWdodDoyN3B4O292ZXJmbG93OmhpZGRlbjtwYWRkaW5nOjAgNHB4IDAgNXB4fS5kZyBsaS5mb2xkZXJ7cGFkZGluZzowO2JvcmRlci1sZWZ0OjRweCBzb2xpZCByZ2JhKDAsMCwwLDApfS5kZyBsaS50aXRsZXtjdXJzb3I6cG9pbnRlcjttYXJnaW4tbGVmdDotNHB4fS5kZyAuY2xvc2VkIGxpOm5vdCgudGl0bGUpLC5kZyAuY2xvc2VkIHVsIGxpLC5kZyAuY2xvc2VkIHVsIGxpID4gKntoZWlnaHQ6MDtvdmVyZmxvdzpoaWRkZW47Ym9yZGVyOjB9LmRnIC5jcntjbGVhcjpib3RoO3BhZGRpbmctbGVmdDozcHg7aGVpZ2h0OjI3cHh9LmRnIC5wcm9wZXJ0eS1uYW1le2N1cnNvcjpkZWZhdWx0O2Zsb2F0OmxlZnQ7Y2xlYXI6bGVmdDt3aWR0aDo0MCU7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXN9LmRnIC5je2Zsb2F0OmxlZnQ7d2lkdGg6NjAlfS5kZyAuYyBpbnB1dFt0eXBlPXRleHRde2JvcmRlcjowO21hcmdpbi10b3A6NHB4O3BhZGRpbmc6M3B4O3dpZHRoOjEwMCU7ZmxvYXQ6cmlnaHR9LmRnIC5oYXMtc2xpZGVyIGlucHV0W3R5cGU9dGV4dF17d2lkdGg6MzAlO21hcmdpbi1sZWZ0OjB9LmRnIC5zbGlkZXJ7ZmxvYXQ6bGVmdDt3aWR0aDo2NiU7bWFyZ2luLWxlZnQ6LTVweDttYXJnaW4tcmlnaHQ6MDtoZWlnaHQ6MTlweDttYXJnaW4tdG9wOjRweH0uZGcgLnNsaWRlci1mZ3toZWlnaHQ6MTAwJX0uZGcgLmMgaW5wdXRbdHlwZT1jaGVja2JveF17bWFyZ2luLXRvcDo5cHh9LmRnIC5jIHNlbGVjdHttYXJnaW4tdG9wOjVweH0uZGcgLmNyLmZ1bmN0aW9uLC5kZyAuY3IuZnVuY3Rpb24gLnByb3BlcnR5LW5hbWUsLmRnIC5jci5mdW5jdGlvbiAqLC5kZyAuY3IuYm9vbGVhbiwuZGcgLmNyLmJvb2xlYW4gKntjdXJzb3I6cG9pbnRlcn0uZGcgLnNlbGVjdG9ye2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTttYXJnaW4tbGVmdDotOXB4O21hcmdpbi10b3A6MjNweDt6LWluZGV4OjEwfS5kZyAuYzpob3ZlciAuc2VsZWN0b3IsLmRnIC5zZWxlY3Rvci5kcmFne2Rpc3BsYXk6YmxvY2t9LmRnIGxpLnNhdmUtcm93e3BhZGRpbmc6MH0uZGcgbGkuc2F2ZS1yb3cgLmJ1dHRvbntkaXNwbGF5OmlubGluZS1ibG9jaztwYWRkaW5nOjBweCA2cHh9LmRnLmRpYWxvZ3Vle2JhY2tncm91bmQtY29sb3I6IzIyMjt3aWR0aDo0NjBweDtwYWRkaW5nOjE1cHg7Zm9udC1zaXplOjEzcHg7bGluZS1oZWlnaHQ6MTVweH0jZGctbmV3LWNvbnN0cnVjdG9ye3BhZGRpbmc6MTBweDtjb2xvcjojMjIyO2ZvbnQtZmFtaWx5Ok1vbmFjbywgbW9ub3NwYWNlO2ZvbnQtc2l6ZToxMHB4O2JvcmRlcjowO3Jlc2l6ZTpub25lO2JveC1zaGFkb3c6aW5zZXQgMXB4IDFweCAxcHggIzg4ODt3b3JkLXdyYXA6YnJlYWstd29yZDttYXJnaW46MTJweCAwO2Rpc3BsYXk6YmxvY2s7d2lkdGg6NDQwcHg7b3ZlcmZsb3cteTpzY3JvbGw7aGVpZ2h0OjEwMHB4O3Bvc2l0aW9uOnJlbGF0aXZlfSNkZy1sb2NhbC1leHBsYWlue2Rpc3BsYXk6bm9uZTtmb250LXNpemU6MTFweDtsaW5lLWhlaWdodDoxN3B4O2JvcmRlci1yYWRpdXM6M3B4O2JhY2tncm91bmQtY29sb3I6IzMzMztwYWRkaW5nOjhweDttYXJnaW4tdG9wOjEwcHh9I2RnLWxvY2FsLWV4cGxhaW4gY29kZXtmb250LXNpemU6MTBweH0jZGF0LWd1aS1zYXZlLWxvY2FsbHl7ZGlzcGxheTpub25lfS5kZ3tjb2xvcjojZWVlO2ZvbnQ6MTFweCAnTHVjaWRhIEdyYW5kZScsIHNhbnMtc2VyaWY7dGV4dC1zaGFkb3c6MCAtMXB4IDAgIzExMX0uZGcubWFpbjo6LXdlYmtpdC1zY3JvbGxiYXJ7d2lkdGg6NXB4O2JhY2tncm91bmQ6IzFhMWExYX0uZGcubWFpbjo6LXdlYmtpdC1zY3JvbGxiYXItY29ybmVye2hlaWdodDowO2Rpc3BsYXk6bm9uZX0uZGcubWFpbjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWJ7Ym9yZGVyLXJhZGl1czo1cHg7YmFja2dyb3VuZDojNjc2NzY3fS5kZyBsaTpub3QoLmZvbGRlcil7YmFja2dyb3VuZDojMWExYTFhO2JvcmRlci1ib3R0b206MXB4IHNvbGlkICMyYzJjMmN9LmRnIGxpLnNhdmUtcm93e2xpbmUtaGVpZ2h0OjI1cHg7YmFja2dyb3VuZDojZGFkNWNiO2JvcmRlcjowfS5kZyBsaS5zYXZlLXJvdyBzZWxlY3R7bWFyZ2luLWxlZnQ6NXB4O3dpZHRoOjEwOHB4fS5kZyBsaS5zYXZlLXJvdyAuYnV0dG9ue21hcmdpbi1sZWZ0OjVweDttYXJnaW4tdG9wOjFweDtib3JkZXItcmFkaXVzOjJweDtmb250LXNpemU6OXB4O2xpbmUtaGVpZ2h0OjdweDtwYWRkaW5nOjRweCA0cHggNXB4IDRweDtiYWNrZ3JvdW5kOiNjNWJkYWQ7Y29sb3I6I2ZmZjt0ZXh0LXNoYWRvdzowIDFweCAwICNiMGE1OGY7Ym94LXNoYWRvdzowIC0xcHggMCAjYjBhNThmO2N1cnNvcjpwb2ludGVyfS5kZyBsaS5zYXZlLXJvdyAuYnV0dG9uLmdlYXJze2JhY2tncm91bmQ6I2M1YmRhZCB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBc0FBQUFOQ0FZQUFBQi85WlE3QUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUFRSkpSRUZVZU5waVlLQVUvUC8vUHdHSUMvQXBDQUJpQlNBVytJOEFDbEFjZ0t4UTRUOWhvTUFFVXJ4eDJRU0dONitlZ0RYKy92V1Q0ZTdOODJBTVlvUEF4L2V2d1dvWW9TWWJBQ1gyczdLeEN4emNzZXpEaDNldkZvREVCWVRFRXF5Y2dnV0F6QTlBdVVTUVFnZVlQYTlmUHY2L1lXbS9BY3g1SVBiN3R5L2Z3K1FaYmx3Njd2RHM4UjBZSHlRaGdPYngreUFKa0JxbUc1ZFBQRGgxYVBPR1IvZXVnVzBHNHZsSW9USWZ5RmNBK1Fla2hoSEpoUGRReGJpQUlndU1CVFFaclBENzEwOE02cm9XWURGUWlJQUF2NkFvdy8xYkZ3WGdpcytmMkxVQXlud29JYU5jejhYTngzRGw3TUVKVURHUXB4OWd0UThZQ3VlQitEMjZPRUNBQVFEYWR0N2U0NkQ0MlFBQUFBQkpSVTVFcmtKZ2dnPT0pIDJweCAxcHggbm8tcmVwZWF0O2hlaWdodDo3cHg7d2lkdGg6OHB4fS5kZyBsaS5zYXZlLXJvdyAuYnV0dG9uOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2JhYjE5ZTtib3gtc2hhZG93OjAgLTFweCAwICNiMGE1OGZ9LmRnIGxpLmZvbGRlcntib3JkZXItYm90dG9tOjB9LmRnIGxpLnRpdGxle3BhZGRpbmctbGVmdDoxNnB4O2JhY2tncm91bmQ6IzAwMCB1cmwoZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQlFBRkFKRUFBUC8vLy9QejgvLy8vLy8vL3lINUJBRUFBQUlBTEFBQUFBQUZBQVVBQUFJSWxJK2hLZ0Z4b0NnQU93PT0pIDZweCAxMHB4IG5vLXJlcGVhdDtjdXJzb3I6cG9pbnRlcjtib3JkZXItYm90dG9tOjFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMil9LmRnIC5jbG9zZWQgbGkudGl0bGV7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQlFBRkFKRUFBUC8vLy9QejgvLy8vLy8vL3lINUJBRUFBQUlBTEFBQUFBQUZBQVVBQUFJSWxHSVdxTUNiV0FFQU93PT0pfS5kZyAuY3IuYm9vbGVhbntib3JkZXItbGVmdDozcHggc29saWQgIzgwNjc4N30uZGcgLmNyLmZ1bmN0aW9ue2JvcmRlci1sZWZ0OjNweCBzb2xpZCAjZTYxZDVmfS5kZyAuY3IubnVtYmVye2JvcmRlci1sZWZ0OjNweCBzb2xpZCAjMmZhMWQ2fS5kZyAuY3IubnVtYmVyIGlucHV0W3R5cGU9dGV4dF17Y29sb3I6IzJmYTFkNn0uZGcgLmNyLnN0cmluZ3tib3JkZXItbGVmdDozcHggc29saWQgIzFlZDM2Zn0uZGcgLmNyLnN0cmluZyBpbnB1dFt0eXBlPXRleHRde2NvbG9yOiMxZWQzNmZ9LmRnIC5jci5mdW5jdGlvbjpob3ZlciwuZGcgLmNyLmJvb2xlYW46aG92ZXJ7YmFja2dyb3VuZDojMTExfS5kZyAuYyBpbnB1dFt0eXBlPXRleHRde2JhY2tncm91bmQ6IzMwMzAzMDtvdXRsaW5lOm5vbmV9LmRnIC5jIGlucHV0W3R5cGU9dGV4dF06aG92ZXJ7YmFja2dyb3VuZDojM2MzYzNjfS5kZyAuYyBpbnB1dFt0eXBlPXRleHRdOmZvY3Vze2JhY2tncm91bmQ6IzQ5NDk0OTtjb2xvcjojZmZmfS5kZyAuYyAuc2xpZGVye2JhY2tncm91bmQ6IzMwMzAzMDtjdXJzb3I6ZXctcmVzaXplfS5kZyAuYyAuc2xpZGVyLWZne2JhY2tncm91bmQ6IzJmYTFkNn0uZGcgLmMgLnNsaWRlcjpob3ZlcntiYWNrZ3JvdW5kOiMzYzNjM2N9LmRnIC5jIC5zbGlkZXI6aG92ZXIgLnNsaWRlci1mZ3tiYWNrZ3JvdW5kOiM0NGFiZGF9XG4iLApkYXQuY29udHJvbGxlcnMuZmFjdG9yeT1mdW5jdGlvbihlLGEsYyxkLGYsYixuKXtyZXR1cm4gZnVuY3Rpb24oaCxqLG0sbCl7dmFyIG89aFtqXTtpZihuLmlzQXJyYXkobSl8fG4uaXNPYmplY3QobSkpcmV0dXJuIG5ldyBlKGgsaixtKTtpZihuLmlzTnVtYmVyKG8pKXJldHVybiBuLmlzTnVtYmVyKG0pJiZuLmlzTnVtYmVyKGwpP25ldyBjKGgsaixtLGwpOm5ldyBhKGgsaix7bWluOm0sbWF4Omx9KTtpZihuLmlzU3RyaW5nKG8pKXJldHVybiBuZXcgZChoLGopO2lmKG4uaXNGdW5jdGlvbihvKSlyZXR1cm4gbmV3IGYoaCxqLCIiKTtpZihuLmlzQm9vbGVhbihvKSlyZXR1cm4gbmV3IGIoaCxqKX19KGRhdC5jb250cm9sbGVycy5PcHRpb25Db250cm9sbGVyLGRhdC5jb250cm9sbGVycy5OdW1iZXJDb250cm9sbGVyQm94LGRhdC5jb250cm9sbGVycy5OdW1iZXJDb250cm9sbGVyU2xpZGVyLGRhdC5jb250cm9sbGVycy5TdHJpbmdDb250cm9sbGVyPWZ1bmN0aW9uKGUsYSxjKXt2YXIgZD0KZnVuY3Rpb24oYyxiKXtmdW5jdGlvbiBlKCl7aC5zZXRWYWx1ZShoLl9faW5wdXQudmFsdWUpfWQuc3VwZXJjbGFzcy5jYWxsKHRoaXMsYyxiKTt2YXIgaD10aGlzO3RoaXMuX19pbnB1dD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3RoaXMuX19pbnB1dC5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0ZXh0Iik7YS5iaW5kKHRoaXMuX19pbnB1dCwia2V5dXAiLGUpO2EuYmluZCh0aGlzLl9faW5wdXQsImNoYW5nZSIsZSk7YS5iaW5kKHRoaXMuX19pbnB1dCwiYmx1ciIsZnVuY3Rpb24oKXtoLl9fb25GaW5pc2hDaGFuZ2UmJmguX19vbkZpbmlzaENoYW5nZS5jYWxsKGgsaC5nZXRWYWx1ZSgpKX0pO2EuYmluZCh0aGlzLl9faW5wdXQsImtleWRvd24iLGZ1bmN0aW9uKGEpe2Eua2V5Q29kZT09PTEzJiZ0aGlzLmJsdXIoKX0pO3RoaXMudXBkYXRlRGlzcGxheSgpO3RoaXMuZG9tRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9faW5wdXQpfTtkLnN1cGVyY2xhc3M9ZTtjLmV4dGVuZChkLnByb3RvdHlwZSwKZS5wcm90b3R5cGUse3VwZGF0ZURpc3BsYXk6ZnVuY3Rpb24oKXtpZighYS5pc0FjdGl2ZSh0aGlzLl9faW5wdXQpKXRoaXMuX19pbnB1dC52YWx1ZT10aGlzLmdldFZhbHVlKCk7cmV0dXJuIGQuc3VwZXJjbGFzcy5wcm90b3R5cGUudXBkYXRlRGlzcGxheS5jYWxsKHRoaXMpfX0pO3JldHVybiBkfShkYXQuY29udHJvbGxlcnMuQ29udHJvbGxlcixkYXQuZG9tLmRvbSxkYXQudXRpbHMuY29tbW9uKSxkYXQuY29udHJvbGxlcnMuRnVuY3Rpb25Db250cm9sbGVyLGRhdC5jb250cm9sbGVycy5Cb29sZWFuQ29udHJvbGxlcixkYXQudXRpbHMuY29tbW9uKSxkYXQuY29udHJvbGxlcnMuQ29udHJvbGxlcixkYXQuY29udHJvbGxlcnMuQm9vbGVhbkNvbnRyb2xsZXIsZGF0LmNvbnRyb2xsZXJzLkZ1bmN0aW9uQ29udHJvbGxlcixkYXQuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlckJveCxkYXQuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlclNsaWRlcixkYXQuY29udHJvbGxlcnMuT3B0aW9uQ29udHJvbGxlciwKZGF0LmNvbnRyb2xsZXJzLkNvbG9yQ29udHJvbGxlcj1mdW5jdGlvbihlLGEsYyxkLGYpe2Z1bmN0aW9uIGIoYSxiLGMsZCl7YS5zdHlsZS5iYWNrZ3JvdW5kPSIiO2YuZWFjaChqLGZ1bmN0aW9uKGUpe2Euc3R5bGUuY3NzVGV4dCs9ImJhY2tncm91bmQ6ICIrZSsibGluZWFyLWdyYWRpZW50KCIrYisiLCAiK2MrIiAwJSwgIitkKyIgMTAwJSk7ICJ9KX1mdW5jdGlvbiBuKGEpe2Euc3R5bGUuYmFja2dyb3VuZD0iIjthLnN0eWxlLmNzc1RleHQrPSJiYWNrZ3JvdW5kOiAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICAjZmYwMDAwIDAlLCAjZmYwMGZmIDE3JSwgIzAwMDBmZiAzNCUsICMwMGZmZmYgNTAlLCAjMDBmZjAwIDY3JSwgI2ZmZmYwMCA4NCUsICNmZjAwMDAgMTAwJSk7IjthLnN0eWxlLmNzc1RleHQrPSJiYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICAjZmYwMDAwIDAlLCNmZjAwZmYgMTclLCMwMDAwZmYgMzQlLCMwMGZmZmYgNTAlLCMwMGZmMDAgNjclLCNmZmZmMDAgODQlLCNmZjAwMDAgMTAwJSk7IjsKYS5zdHlsZS5jc3NUZXh0Kz0iYmFja2dyb3VuZDogLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgICNmZjAwMDAgMCUsI2ZmMDBmZiAxNyUsIzAwMDBmZiAzNCUsIzAwZmZmZiA1MCUsIzAwZmYwMCA2NyUsI2ZmZmYwMCA4NCUsI2ZmMDAwMCAxMDAlKTsiO2Euc3R5bGUuY3NzVGV4dCs9ImJhY2tncm91bmQ6IC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAgI2ZmMDAwMCAwJSwjZmYwMGZmIDE3JSwjMDAwMGZmIDM0JSwjMDBmZmZmIDUwJSwjMDBmZjAwIDY3JSwjZmZmZjAwIDg0JSwjZmYwMDAwIDEwMCUpOyI7YS5zdHlsZS5jc3NUZXh0Kz0iYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvcCwgICNmZjAwMDAgMCUsI2ZmMDBmZiAxNyUsIzAwMDBmZiAzNCUsIzAwZmZmZiA1MCUsIzAwZmYwMCA2NyUsI2ZmZmYwMCA4NCUsI2ZmMDAwMCAxMDAlKTsifXZhciBoPWZ1bmN0aW9uKGUsbCl7ZnVuY3Rpb24gbyhiKXtxKGIpO2EuYmluZCh3aW5kb3csIm1vdXNlbW92ZSIscSk7YS5iaW5kKHdpbmRvdywKIm1vdXNldXAiLGopfWZ1bmN0aW9uIGooKXthLnVuYmluZCh3aW5kb3csIm1vdXNlbW92ZSIscSk7YS51bmJpbmQod2luZG93LCJtb3VzZXVwIixqKX1mdW5jdGlvbiBnKCl7dmFyIGE9ZCh0aGlzLnZhbHVlKTthIT09ZmFsc2U/KHAuX19jb2xvci5fX3N0YXRlPWEscC5zZXRWYWx1ZShwLl9fY29sb3IudG9PcmlnaW5hbCgpKSk6dGhpcy52YWx1ZT1wLl9fY29sb3IudG9TdHJpbmcoKX1mdW5jdGlvbiBpKCl7YS51bmJpbmQod2luZG93LCJtb3VzZW1vdmUiLHMpO2EudW5iaW5kKHdpbmRvdywibW91c2V1cCIsaSl9ZnVuY3Rpb24gcShiKXtiLnByZXZlbnREZWZhdWx0KCk7dmFyIGM9YS5nZXRXaWR0aChwLl9fc2F0dXJhdGlvbl9maWVsZCksZD1hLmdldE9mZnNldChwLl9fc2F0dXJhdGlvbl9maWVsZCksZT0oYi5jbGllbnRYLWQubGVmdCtkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQpL2MsYj0xLShiLmNsaWVudFktZC50b3ArZG9jdW1lbnQuYm9keS5zY3JvbGxUb3ApL2M7Yj4xP2I9CjE6YjwwJiYoYj0wKTtlPjE/ZT0xOmU8MCYmKGU9MCk7cC5fX2NvbG9yLnY9YjtwLl9fY29sb3Iucz1lO3Auc2V0VmFsdWUocC5fX2NvbG9yLnRvT3JpZ2luYWwoKSk7cmV0dXJuIGZhbHNlfWZ1bmN0aW9uIHMoYil7Yi5wcmV2ZW50RGVmYXVsdCgpO3ZhciBjPWEuZ2V0SGVpZ2h0KHAuX19odWVfZmllbGQpLGQ9YS5nZXRPZmZzZXQocC5fX2h1ZV9maWVsZCksYj0xLShiLmNsaWVudFktZC50b3ArZG9jdW1lbnQuYm9keS5zY3JvbGxUb3ApL2M7Yj4xP2I9MTpiPDAmJihiPTApO3AuX19jb2xvci5oPWIqMzYwO3Auc2V0VmFsdWUocC5fX2NvbG9yLnRvT3JpZ2luYWwoKSk7cmV0dXJuIGZhbHNlfWguc3VwZXJjbGFzcy5jYWxsKHRoaXMsZSxsKTt0aGlzLl9fY29sb3I9bmV3IGModGhpcy5nZXRWYWx1ZSgpKTt0aGlzLl9fdGVtcD1uZXcgYygwKTt2YXIgcD10aGlzO3RoaXMuZG9tRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTthLm1ha2VTZWxlY3RhYmxlKHRoaXMuZG9tRWxlbWVudCwKZmFsc2UpO3RoaXMuX19zZWxlY3Rvcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLl9fc2VsZWN0b3IuY2xhc3NOYW1lPSJzZWxlY3RvciI7dGhpcy5fX3NhdHVyYXRpb25fZmllbGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dGhpcy5fX3NhdHVyYXRpb25fZmllbGQuY2xhc3NOYW1lPSJzYXR1cmF0aW9uLWZpZWxkIjt0aGlzLl9fZmllbGRfa25vYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLl9fZmllbGRfa25vYi5jbGFzc05hbWU9ImZpZWxkLWtub2IiO3RoaXMuX19maWVsZF9rbm9iX2JvcmRlcj0iMnB4IHNvbGlkICI7dGhpcy5fX2h1ZV9rbm9iPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RoaXMuX19odWVfa25vYi5jbGFzc05hbWU9Imh1ZS1rbm9iIjt0aGlzLl9faHVlX2ZpZWxkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RoaXMuX19odWVfZmllbGQuY2xhc3NOYW1lPSJodWUtZmllbGQiO3RoaXMuX19pbnB1dD0KZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt0aGlzLl9faW5wdXQudHlwZT0idGV4dCI7dGhpcy5fX2lucHV0X3RleHRTaGFkb3c9IjAgMXB4IDFweCAiO2EuYmluZCh0aGlzLl9faW5wdXQsImtleWRvd24iLGZ1bmN0aW9uKGEpe2Eua2V5Q29kZT09PTEzJiZnLmNhbGwodGhpcyl9KTthLmJpbmQodGhpcy5fX2lucHV0LCJibHVyIixnKTthLmJpbmQodGhpcy5fX3NlbGVjdG9yLCJtb3VzZWRvd24iLGZ1bmN0aW9uKCl7YS5hZGRDbGFzcyh0aGlzLCJkcmFnIikuYmluZCh3aW5kb3csIm1vdXNldXAiLGZ1bmN0aW9uKCl7YS5yZW1vdmVDbGFzcyhwLl9fc2VsZWN0b3IsImRyYWciKX0pfSk7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zi5leHRlbmQodGhpcy5fX3NlbGVjdG9yLnN0eWxlLHt3aWR0aDoiMTIycHgiLGhlaWdodDoiMTAycHgiLHBhZGRpbmc6IjNweCIsYmFja2dyb3VuZENvbG9yOiIjMjIyIixib3hTaGFkb3c6IjBweCAxcHggM3B4IHJnYmEoMCwwLDAsMC4zKSJ9KTsKZi5leHRlbmQodGhpcy5fX2ZpZWxkX2tub2Iuc3R5bGUse3Bvc2l0aW9uOiJhYnNvbHV0ZSIsd2lkdGg6IjEycHgiLGhlaWdodDoiMTJweCIsYm9yZGVyOnRoaXMuX19maWVsZF9rbm9iX2JvcmRlcisodGhpcy5fX2NvbG9yLnY8MC41PyIjZmZmIjoiIzAwMCIpLGJveFNoYWRvdzoiMHB4IDFweCAzcHggcmdiYSgwLDAsMCwwLjUpIixib3JkZXJSYWRpdXM6IjEycHgiLHpJbmRleDoxfSk7Zi5leHRlbmQodGhpcy5fX2h1ZV9rbm9iLnN0eWxlLHtwb3NpdGlvbjoiYWJzb2x1dGUiLHdpZHRoOiIxNXB4IixoZWlnaHQ6IjJweCIsYm9yZGVyUmlnaHQ6IjRweCBzb2xpZCAjZmZmIix6SW5kZXg6MX0pO2YuZXh0ZW5kKHRoaXMuX19zYXR1cmF0aW9uX2ZpZWxkLnN0eWxlLHt3aWR0aDoiMTAwcHgiLGhlaWdodDoiMTAwcHgiLGJvcmRlcjoiMXB4IHNvbGlkICM1NTUiLG1hcmdpblJpZ2h0OiIzcHgiLGRpc3BsYXk6ImlubGluZS1ibG9jayIsY3Vyc29yOiJwb2ludGVyIn0pO2YuZXh0ZW5kKHQuc3R5bGUsCnt3aWR0aDoiMTAwJSIsaGVpZ2h0OiIxMDAlIixiYWNrZ3JvdW5kOiJub25lIn0pO2IodCwidG9wIiwicmdiYSgwLDAsMCwwKSIsIiMwMDAiKTtmLmV4dGVuZCh0aGlzLl9faHVlX2ZpZWxkLnN0eWxlLHt3aWR0aDoiMTVweCIsaGVpZ2h0OiIxMDBweCIsZGlzcGxheToiaW5saW5lLWJsb2NrIixib3JkZXI6IjFweCBzb2xpZCAjNTU1IixjdXJzb3I6Im5zLXJlc2l6ZSJ9KTtuKHRoaXMuX19odWVfZmllbGQpO2YuZXh0ZW5kKHRoaXMuX19pbnB1dC5zdHlsZSx7b3V0bGluZToibm9uZSIsdGV4dEFsaWduOiJjZW50ZXIiLGNvbG9yOiIjZmZmIixib3JkZXI6MCxmb250V2VpZ2h0OiJib2xkIix0ZXh0U2hhZG93OnRoaXMuX19pbnB1dF90ZXh0U2hhZG93KyJyZ2JhKDAsMCwwLDAuNykifSk7YS5iaW5kKHRoaXMuX19zYXR1cmF0aW9uX2ZpZWxkLCJtb3VzZWRvd24iLG8pO2EuYmluZCh0aGlzLl9fZmllbGRfa25vYiwibW91c2Vkb3duIixvKTthLmJpbmQodGhpcy5fX2h1ZV9maWVsZCwibW91c2Vkb3duIiwKZnVuY3Rpb24oYil7cyhiKTthLmJpbmQod2luZG93LCJtb3VzZW1vdmUiLHMpO2EuYmluZCh3aW5kb3csIm1vdXNldXAiLGkpfSk7dGhpcy5fX3NhdHVyYXRpb25fZmllbGQuYXBwZW5kQ2hpbGQodCk7dGhpcy5fX3NlbGVjdG9yLmFwcGVuZENoaWxkKHRoaXMuX19maWVsZF9rbm9iKTt0aGlzLl9fc2VsZWN0b3IuYXBwZW5kQ2hpbGQodGhpcy5fX3NhdHVyYXRpb25fZmllbGQpO3RoaXMuX19zZWxlY3Rvci5hcHBlbmRDaGlsZCh0aGlzLl9faHVlX2ZpZWxkKTt0aGlzLl9faHVlX2ZpZWxkLmFwcGVuZENoaWxkKHRoaXMuX19odWVfa25vYik7dGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX19pbnB1dCk7dGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX19zZWxlY3Rvcik7dGhpcy51cGRhdGVEaXNwbGF5KCl9O2guc3VwZXJjbGFzcz1lO2YuZXh0ZW5kKGgucHJvdG90eXBlLGUucHJvdG90eXBlLHt1cGRhdGVEaXNwbGF5OmZ1bmN0aW9uKCl7dmFyIGE9ZCh0aGlzLmdldFZhbHVlKCkpOwppZihhIT09ZmFsc2Upe3ZhciBlPWZhbHNlO2YuZWFjaChjLkNPTVBPTkVOVFMsZnVuY3Rpb24oYil7aWYoIWYuaXNVbmRlZmluZWQoYVtiXSkmJiFmLmlzVW5kZWZpbmVkKHRoaXMuX19jb2xvci5fX3N0YXRlW2JdKSYmYVtiXSE9PXRoaXMuX19jb2xvci5fX3N0YXRlW2JdKXJldHVybiBlPXRydWUse319LHRoaXMpO2UmJmYuZXh0ZW5kKHRoaXMuX19jb2xvci5fX3N0YXRlLGEpfWYuZXh0ZW5kKHRoaXMuX190ZW1wLl9fc3RhdGUsdGhpcy5fX2NvbG9yLl9fc3RhdGUpO3RoaXMuX190ZW1wLmE9MTt2YXIgaD10aGlzLl9fY29sb3IudjwwLjV8fHRoaXMuX19jb2xvci5zPjAuNT8yNTU6MCxqPTI1NS1oO2YuZXh0ZW5kKHRoaXMuX19maWVsZF9rbm9iLnN0eWxlLHttYXJnaW5MZWZ0OjEwMCp0aGlzLl9fY29sb3Iucy03KyJweCIsbWFyZ2luVG9wOjEwMCooMS10aGlzLl9fY29sb3IudiktNysicHgiLGJhY2tncm91bmRDb2xvcjp0aGlzLl9fdGVtcC50b1N0cmluZygpLGJvcmRlcjp0aGlzLl9fZmllbGRfa25vYl9ib3JkZXIrCiJyZ2IoIitoKyIsIitoKyIsIitoKyIpIn0pO3RoaXMuX19odWVfa25vYi5zdHlsZS5tYXJnaW5Ub3A9KDEtdGhpcy5fX2NvbG9yLmgvMzYwKSoxMDArInB4Ijt0aGlzLl9fdGVtcC5zPTE7dGhpcy5fX3RlbXAudj0xO2IodGhpcy5fX3NhdHVyYXRpb25fZmllbGQsImxlZnQiLCIjZmZmIix0aGlzLl9fdGVtcC50b1N0cmluZygpKTtmLmV4dGVuZCh0aGlzLl9faW5wdXQuc3R5bGUse2JhY2tncm91bmRDb2xvcjp0aGlzLl9faW5wdXQudmFsdWU9dGhpcy5fX2NvbG9yLnRvU3RyaW5nKCksY29sb3I6InJnYigiK2grIiwiK2grIiwiK2grIikiLHRleHRTaGFkb3c6dGhpcy5fX2lucHV0X3RleHRTaGFkb3crInJnYmEoIitqKyIsIitqKyIsIitqKyIsLjcpIn0pfX0pO3ZhciBqPVsiLW1vei0iLCItby0iLCItd2Via2l0LSIsIi1tcy0iLCIiXTtyZXR1cm4gaH0oZGF0LmNvbnRyb2xsZXJzLkNvbnRyb2xsZXIsZGF0LmRvbS5kb20sZGF0LmNvbG9yLkNvbG9yPWZ1bmN0aW9uKGUsYSxjLGQpe2Z1bmN0aW9uIGYoYSwKYixjKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHtnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLl9fc3RhdGUuc3BhY2U9PT0iUkdCIilyZXR1cm4gdGhpcy5fX3N0YXRlW2JdO24odGhpcyxiLGMpO3JldHVybiB0aGlzLl9fc3RhdGVbYl19LHNldDpmdW5jdGlvbihhKXtpZih0aGlzLl9fc3RhdGUuc3BhY2UhPT0iUkdCIiluKHRoaXMsYixjKSx0aGlzLl9fc3RhdGUuc3BhY2U9IlJHQiI7dGhpcy5fX3N0YXRlW2JdPWF9fSl9ZnVuY3Rpb24gYihhLGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGIse2dldDpmdW5jdGlvbigpe2lmKHRoaXMuX19zdGF0ZS5zcGFjZT09PSJIU1YiKXJldHVybiB0aGlzLl9fc3RhdGVbYl07aCh0aGlzKTtyZXR1cm4gdGhpcy5fX3N0YXRlW2JdfSxzZXQ6ZnVuY3Rpb24oYSl7aWYodGhpcy5fX3N0YXRlLnNwYWNlIT09IkhTViIpaCh0aGlzKSx0aGlzLl9fc3RhdGUuc3BhY2U9IkhTViI7dGhpcy5fX3N0YXRlW2JdPWF9fSl9ZnVuY3Rpb24gbihiLGMsZSl7aWYoYi5fX3N0YXRlLnNwYWNlPT09CiJIRVgiKWIuX19zdGF0ZVtjXT1hLmNvbXBvbmVudF9mcm9tX2hleChiLl9fc3RhdGUuaGV4LGUpO2Vsc2UgaWYoYi5fX3N0YXRlLnNwYWNlPT09IkhTViIpZC5leHRlbmQoYi5fX3N0YXRlLGEuaHN2X3RvX3JnYihiLl9fc3RhdGUuaCxiLl9fc3RhdGUucyxiLl9fc3RhdGUudikpO2Vsc2UgdGhyb3ciQ29ycnVwdGVkIGNvbG9yIHN0YXRlIjt9ZnVuY3Rpb24gaChiKXt2YXIgYz1hLnJnYl90b19oc3YoYi5yLGIuZyxiLmIpO2QuZXh0ZW5kKGIuX19zdGF0ZSx7czpjLnMsdjpjLnZ9KTtpZihkLmlzTmFOKGMuaCkpe2lmKGQuaXNVbmRlZmluZWQoYi5fX3N0YXRlLmgpKWIuX19zdGF0ZS5oPTB9ZWxzZSBiLl9fc3RhdGUuaD1jLmh9dmFyIGo9ZnVuY3Rpb24oKXt0aGlzLl9fc3RhdGU9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYodGhpcy5fX3N0YXRlPT09ZmFsc2UpdGhyb3ciRmFpbGVkIHRvIGludGVycHJldCBjb2xvciBhcmd1bWVudHMiO3RoaXMuX19zdGF0ZS5hPXRoaXMuX19zdGF0ZS5hfHwKMX07ai5DT01QT05FTlRTPSJyLGcsYixoLHMsdixoZXgsYSIuc3BsaXQoIiwiKTtkLmV4dGVuZChqLnByb3RvdHlwZSx7dG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gYyh0aGlzKX0sdG9PcmlnaW5hbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9fc3RhdGUuY29udmVyc2lvbi53cml0ZSh0aGlzKX19KTtmKGoucHJvdG90eXBlLCJyIiwyKTtmKGoucHJvdG90eXBlLCJnIiwxKTtmKGoucHJvdG90eXBlLCJiIiwwKTtiKGoucHJvdG90eXBlLCJoIik7YihqLnByb3RvdHlwZSwicyIpO2Ioai5wcm90b3R5cGUsInYiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoai5wcm90b3R5cGUsImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX3N0YXRlLmF9LHNldDpmdW5jdGlvbihhKXt0aGlzLl9fc3RhdGUuYT1hfX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShqLnByb3RvdHlwZSwiaGV4Iix7Z2V0OmZ1bmN0aW9uKCl7aWYoIXRoaXMuX19zdGF0ZS5zcGFjZSE9PSJIRVgiKXRoaXMuX19zdGF0ZS5oZXg9CmEucmdiX3RvX2hleCh0aGlzLnIsdGhpcy5nLHRoaXMuYik7cmV0dXJuIHRoaXMuX19zdGF0ZS5oZXh9LHNldDpmdW5jdGlvbihhKXt0aGlzLl9fc3RhdGUuc3BhY2U9IkhFWCI7dGhpcy5fX3N0YXRlLmhleD1hfX0pO3JldHVybiBqfShkYXQuY29sb3IuaW50ZXJwcmV0LGRhdC5jb2xvci5tYXRoPWZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJue2hzdl90b19yZ2I6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPWEvNjAtTWF0aC5mbG9vcihhLzYwKSxiPWQqKDEtYyksbj1kKigxLWUqYyksYz1kKigxLSgxLWUpKmMpLGE9W1tkLGMsYl0sW24sZCxiXSxbYixkLGNdLFtiLG4sZF0sW2MsYixkXSxbZCxiLG5dXVtNYXRoLmZsb29yKGEvNjApJTZdO3JldHVybntyOmFbMF0qMjU1LGc6YVsxXSoyNTUsYjphWzJdKjI1NX19LHJnYl90b19oc3Y6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPU1hdGgubWluKGEsYyxkKSxiPU1hdGgubWF4KGEsYyxkKSxlPWItZTtpZihiPT0wKXJldHVybntoOk5hTixzOjAsdjowfTsKYT1hPT1iPyhjLWQpL2U6Yz09Yj8yKyhkLWEpL2U6NCsoYS1jKS9lO2EvPTY7YTwwJiYoYSs9MSk7cmV0dXJue2g6YSozNjAsczplL2IsdjpiLzI1NX19LHJnYl90b19oZXg6ZnVuY3Rpb24oYSxjLGQpe2E9dGhpcy5oZXhfd2l0aF9jb21wb25lbnQoMCwyLGEpO2E9dGhpcy5oZXhfd2l0aF9jb21wb25lbnQoYSwxLGMpO3JldHVybiBhPXRoaXMuaGV4X3dpdGhfY29tcG9uZW50KGEsMCxkKX0sY29tcG9uZW50X2Zyb21faGV4OmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGE+PmMqOCYyNTV9LGhleF93aXRoX2NvbXBvbmVudDpmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGQ8PChlPWMqOCl8YSZ+KDI1NTw8ZSl9fX0oKSxkYXQuY29sb3IudG9TdHJpbmcsZGF0LnV0aWxzLmNvbW1vbiksZGF0LmNvbG9yLmludGVycHJldCxkYXQudXRpbHMuY29tbW9uKSxkYXQudXRpbHMucmVxdWVzdEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fAp3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihlKXt3aW5kb3cuc2V0VGltZW91dChlLDFFMy82MCl9fSgpLGRhdC5kb20uQ2VudGVyZWREaXY9ZnVuY3Rpb24oZSxhKXt2YXIgYz1mdW5jdGlvbigpe3RoaXMuYmFja2dyb3VuZEVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7YS5leHRlbmQodGhpcy5iYWNrZ3JvdW5kRWxlbWVudC5zdHlsZSx7YmFja2dyb3VuZENvbG9yOiJyZ2JhKDAsMCwwLDAuOCkiLHRvcDowLGxlZnQ6MCxkaXNwbGF5OiJub25lIix6SW5kZXg6IjEwMDAiLG9wYWNpdHk6MCxXZWJraXRUcmFuc2l0aW9uOiJvcGFjaXR5IDAuMnMgbGluZWFyIn0pO2UubWFrZUZ1bGxzY3JlZW4odGhpcy5iYWNrZ3JvdW5kRWxlbWVudCk7dGhpcy5iYWNrZ3JvdW5kRWxlbWVudC5zdHlsZS5wb3NpdGlvbj0iZml4ZWQiO3RoaXMuZG9tRWxlbWVudD0KZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7YS5leHRlbmQodGhpcy5kb21FbGVtZW50LnN0eWxlLHtwb3NpdGlvbjoiZml4ZWQiLGRpc3BsYXk6Im5vbmUiLHpJbmRleDoiMTAwMSIsb3BhY2l0eTowLFdlYmtpdFRyYW5zaXRpb246Ii13ZWJraXQtdHJhbnNmb3JtIDAuMnMgZWFzZS1vdXQsIG9wYWNpdHkgMC4ycyBsaW5lYXIifSk7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmJhY2tncm91bmRFbGVtZW50KTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZG9tRWxlbWVudCk7dmFyIGM9dGhpcztlLmJpbmQodGhpcy5iYWNrZ3JvdW5kRWxlbWVudCwiY2xpY2siLGZ1bmN0aW9uKCl7Yy5oaWRlKCl9KX07Yy5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3ZhciBjPXRoaXM7dGhpcy5iYWNrZ3JvdW5kRWxlbWVudC5zdHlsZS5kaXNwbGF5PSJibG9jayI7dGhpcy5kb21FbGVtZW50LnN0eWxlLmRpc3BsYXk9ImJsb2NrIjt0aGlzLmRvbUVsZW1lbnQuc3R5bGUub3BhY2l0eT0KMDt0aGlzLmRvbUVsZW1lbnQuc3R5bGUud2Via2l0VHJhbnNmb3JtPSJzY2FsZSgxLjEpIjt0aGlzLmxheW91dCgpO2EuZGVmZXIoZnVuY3Rpb24oKXtjLmJhY2tncm91bmRFbGVtZW50LnN0eWxlLm9wYWNpdHk9MTtjLmRvbUVsZW1lbnQuc3R5bGUub3BhY2l0eT0xO2MuZG9tRWxlbWVudC5zdHlsZS53ZWJraXRUcmFuc2Zvcm09InNjYWxlKDEpIn0pfTtjLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxjPWZ1bmN0aW9uKCl7YS5kb21FbGVtZW50LnN0eWxlLmRpc3BsYXk9Im5vbmUiO2EuYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUuZGlzcGxheT0ibm9uZSI7ZS51bmJpbmQoYS5kb21FbGVtZW50LCJ3ZWJraXRUcmFuc2l0aW9uRW5kIixjKTtlLnVuYmluZChhLmRvbUVsZW1lbnQsInRyYW5zaXRpb25lbmQiLGMpO2UudW5iaW5kKGEuZG9tRWxlbWVudCwib1RyYW5zaXRpb25FbmQiLGMpfTtlLmJpbmQodGhpcy5kb21FbGVtZW50LCJ3ZWJraXRUcmFuc2l0aW9uRW5kIiwKYyk7ZS5iaW5kKHRoaXMuZG9tRWxlbWVudCwidHJhbnNpdGlvbmVuZCIsYyk7ZS5iaW5kKHRoaXMuZG9tRWxlbWVudCwib1RyYW5zaXRpb25FbmQiLGMpO3RoaXMuYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUub3BhY2l0eT0wO3RoaXMuZG9tRWxlbWVudC5zdHlsZS5vcGFjaXR5PTA7dGhpcy5kb21FbGVtZW50LnN0eWxlLndlYmtpdFRyYW5zZm9ybT0ic2NhbGUoMS4xKSJ9O2MucHJvdG90eXBlLmxheW91dD1mdW5jdGlvbigpe3RoaXMuZG9tRWxlbWVudC5zdHlsZS5sZWZ0PXdpbmRvdy5pbm5lcldpZHRoLzItZS5nZXRXaWR0aCh0aGlzLmRvbUVsZW1lbnQpLzIrInB4Ijt0aGlzLmRvbUVsZW1lbnQuc3R5bGUudG9wPXdpbmRvdy5pbm5lckhlaWdodC8yLWUuZ2V0SGVpZ2h0KHRoaXMuZG9tRWxlbWVudCkvMisicHgifTtyZXR1cm4gY30oZGF0LmRvbS5kb20sZGF0LnV0aWxzLmNvbW1vbiksZGF0LmRvbS5kb20sZGF0LnV0aWxzLmNvbW1vbik7",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 07:57:26 GMT",
                    "Content-Length": "45411",
                    "Date": "Fri, 07 Nov 2014 07:57:26 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
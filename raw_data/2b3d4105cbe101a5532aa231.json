{
    "url": "http://localhost:9999/EdgarsZagorskis/img-background/demo/js/platform.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Link manipulation (DOM-based)",
    "issueType": 5246976,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based link manipulation vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this to a navigation target within the current page, such as a clickable link or the submission URL of a form. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will modify the target of links within the response. An attacker may be able to leverage this to perform various attacks, including:<ul><li>Causing the user to redirect to an arbitrary external URL, to facilitate a phishing attack.</li><li>Causing the user to submit sensitive form data to a server controlled by the attacker.</li><li>Causing the user to perform an unintended action within the application, by changing the file or query string associated with a link.</li><li>Bypassing browser anti-XSS defenses by injecting on-site links containing XSS exploits, since browser anti-XSS defenses typically do not operate on on-site links.</li></ul>",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based link manipulation vulnerabilities is not to dynamically set the target URLs of links or forms using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a link target. In general, this is best achieved by using a whitelist of URLs that are permitted link targets, and strictly validating the target against this list before setting the link target.",
    "issueDetail": "The application may be vulnerable to DOM-based link manipulation. Data is read from <b>the 'baseURI' property of a DOM element</b> and written to <b>the 'href' property of a DOM element</b> via the following statement:<ul><li>e.href=document.baseURI,d.appendChild(e)</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/EdgarsZagorskis/img-background/demo/js/platform.js",
                "path": "/EdgarsZagorskis/img-background/demo/js/platform.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9FZGdhcnNaYWdvcnNraXMvaW1nLWJhY2tncm91bmQvZGVtby9qcy9wbGF0Zm9ybS5qcyBIVFRQLzEuMQ0KSG9zdDogbG9jYWxob3N0Ojk5OTkNCg0K",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTUxMzczDQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBGcmksIDA3IE5vdiAyMDE0IDA0OjM3OjQzIEdNVA0KTGFzdC1Nb2RpZmllZDogRnJpLCAwNyBOb3YgMjAxNCAwNDozNzo0MyBHTVQNCg0KLyoqCiAqIEBsaWNlbnNlCiAqIENvcHlyaWdodCAoYykgMjAxNCBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQKICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHQKICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0CiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvCiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0CiAqLwovLyBAdmVyc2lvbjogMC4yLjQtMzljNmJmNwoKd2luZG93LlBsYXRmb3JtPXdpbmRvdy5QbGF0Zm9ybXx8e30sd2luZG93LmxvZ0ZsYWdzPXdpbmRvdy5sb2dGbGFnc3x8e30sZnVuY3Rpb24oYSl7dmFyIGI9YS5mbGFnc3x8e307bG9jYXRpb24uc2VhcmNoLnNsaWNlKDEpLnNwbGl0KCImIikuZm9yRWFjaChmdW5jdGlvbihhKXthPWEuc3BsaXQoIj0iKSxhWzBdJiYoYlthWzBdXT1hWzFdfHwhMCl9KTt2YXIgYz1kb2N1bWVudC5jdXJyZW50U2NyaXB0fHxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzY3JpcHRbc3JjKj0icGxhdGZvcm0uanMiXScpO2lmKGMpZm9yKHZhciBkLGU9Yy5hdHRyaWJ1dGVzLGY9MDtmPGUubGVuZ3RoO2YrKylkPWVbZl0sInNyYyIhPT1kLm5hbWUmJihiW2QubmFtZV09ZC52YWx1ZXx8ITApO2IubG9nJiZiLmxvZy5zcGxpdCgiLCIpLmZvckVhY2goZnVuY3Rpb24oYSl7d2luZG93LmxvZ0ZsYWdzW2FdPSEwfSksYi5zaGFkb3c9Yi5zaGFkb3d8fGIuc2hhZG93ZG9tfHxiLnBvbHlmaWxsLGIuc2hhZG93PSJuYXRpdmUiPT09Yi5zaGFkb3c/ITE6Yi5zaGFkb3d8fCFIVE1MRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdCxiLnNoYWRvdyYmZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgic2NyaXB0IikubGVuZ3RoPjEmJmNvbnNvbGUud2FybigicGxhdGZvcm0uanMgaXMgbm90IHRoZSBmaXJzdCBzY3JpcHQgb24gdGhlIHBhZ2UuIFNlZSBodHRwOi8vd3d3LnBvbHltZXItcHJvamVjdC5vcmcvZG9jcy9zdGFydC9wbGF0Zm9ybS5odG1sI3NldHVwIGZvciBkZXRhaWxzLiIpLGIucmVnaXN0ZXImJih3aW5kb3cuQ3VzdG9tRWxlbWVudHM9d2luZG93LkN1c3RvbUVsZW1lbnRzfHx7ZmxhZ3M6e319LHdpbmRvdy5DdXN0b21FbGVtZW50cy5mbGFncy5yZWdpc3Rlcj1iLnJlZ2lzdGVyKSxiLmltcG9ydHMmJih3aW5kb3cuSFRNTEltcG9ydHM9d2luZG93LkhUTUxJbXBvcnRzfHx7ZmxhZ3M6e319LHdpbmRvdy5IVE1MSW1wb3J0cy5mbGFncy5pbXBvcnRzPWIuaW1wb3J0cyksYS5mbGFncz1ifShQbGF0Zm9ybSksInVuZGVmaW5lZCI9PXR5cGVvZiBXZWFrTWFwJiYhZnVuY3Rpb24oKXt2YXIgYT1PYmplY3QuZGVmaW5lUHJvcGVydHksYj1EYXRlLm5vdygpJTFlOSxjPWZ1bmN0aW9uKCl7dGhpcy5uYW1lPSJfX3N0IisoMWU5Kk1hdGgucmFuZG9tKCk+Pj4wKSsoYisrICsiX18iKX07Yy5wcm90b3R5cGU9e3NldDpmdW5jdGlvbihiLGMpe3ZhciBkPWJbdGhpcy5uYW1lXTtkJiZkWzBdPT09Yj9kWzFdPWM6YShiLHRoaXMubmFtZSx7dmFsdWU6W2IsY10sd3JpdGFibGU6ITB9KX0sZ2V0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybihiPWFbdGhpcy5uYW1lXSkmJmJbMF09PT1hP2JbMV06dm9pZCAwfSwiZGVsZXRlIjpmdW5jdGlvbihhKXt0aGlzLnNldChhLHZvaWQgMCl9fSx3aW5kb3cuV2Vha01hcD1jfSgpLGZ1bmN0aW9uKGdsb2JhbCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGRldGVjdE9iamVjdE9ic2VydmUoKXtmdW5jdGlvbiBhKGEpe2I9YX1pZigiZnVuY3Rpb24iIT10eXBlb2YgT2JqZWN0Lm9ic2VydmV8fCJmdW5jdGlvbiIhPXR5cGVvZiBBcnJheS5vYnNlcnZlKXJldHVybiExO3ZhciBiPVtdLGM9e30sZD1bXTtyZXR1cm4gT2JqZWN0Lm9ic2VydmUoYyxhKSxBcnJheS5vYnNlcnZlKGQsYSksYy5pZD0xLGMuaWQ9MixkZWxldGUgYy5pZCxkLnB1c2goMSwyKSxkLmxlbmd0aD0wLE9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyhhKSw1IT09Yi5sZW5ndGg/ITE6ImFkZCIhPWJbMF0udHlwZXx8InVwZGF0ZSIhPWJbMV0udHlwZXx8ImRlbGV0ZSIhPWJbMl0udHlwZXx8InNwbGljZSIhPWJbM10udHlwZXx8InNwbGljZSIhPWJbNF0udHlwZT8hMTooT2JqZWN0LnVub2JzZXJ2ZShjLGEpLEFycmF5LnVub2JzZXJ2ZShkLGEpLCEwKX1mdW5jdGlvbiBkZXRlY3RFdmFsKCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBjaHJvbWUmJmNocm9tZS5hcHAmJmNocm9tZS5hcHAucnVudGltZSlyZXR1cm4hMTt0cnl7dmFyIGE9bmV3IEZ1bmN0aW9uKCIiLCJyZXR1cm4gdHJ1ZTsiKTtyZXR1cm4gYSgpfWNhdGNoKGIpe3JldHVybiExfX1mdW5jdGlvbiBpc0luZGV4KGEpe3JldHVybithPT09YT4+PjB9ZnVuY3Rpb24gdG9OdW1iZXIoYSl7cmV0dXJuK2F9ZnVuY3Rpb24gaXNPYmplY3QoYSl7cmV0dXJuIGE9PT1PYmplY3QoYSl9ZnVuY3Rpb24gYXJlU2FtZVZhbHVlKGEsYil7cmV0dXJuIGE9PT1iPzAhPT1hfHwxL2E9PT0xL2I6bnVtYmVySXNOYU4oYSkmJm51bWJlcklzTmFOKGIpPyEwOmEhPT1hJiZiIT09Yn1mdW5jdGlvbiBpc1BhdGhWYWxpZChhKXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGE/ITE6KGE9YS50cmltKCksIiI9PWE/ITA6Ii4iPT1hWzBdPyExOnBhdGhSZWdFeHAudGVzdChhKSl9ZnVuY3Rpb24gUGF0aChhLGIpe2lmKGIhPT1jb25zdHJ1Y3RvcklzUHJpdmF0ZSl0aHJvdyBFcnJvcigiVXNlIFBhdGguZ2V0IHRvIHJldHJpZXZlIHBhdGggb2JqZWN0cyIpO3JldHVybiIiPT1hLnRyaW0oKT90aGlzOmlzSW5kZXgoYSk/KHRoaXMucHVzaChhKSx0aGlzKTooYS5zcGxpdCgvXHMqXC5ccyovKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGF9KS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMucHVzaChhKX0sdGhpcyksdm9pZChoYXNFdmFsJiZ0aGlzLmxlbmd0aCYmKHRoaXMuZ2V0VmFsdWVGcm9tPXRoaXMuY29tcGlsZWRHZXRWYWx1ZUZyb21GbigpKSkpfWZ1bmN0aW9uIGdldFBhdGgoYSl7aWYoYSBpbnN0YW5jZW9mIFBhdGgpcmV0dXJuIGE7bnVsbD09YSYmKGE9IiIpLCJzdHJpbmciIT10eXBlb2YgYSYmKGE9U3RyaW5nKGEpKTt2YXIgYj1wYXRoQ2FjaGVbYV07aWYoYilyZXR1cm4gYjtpZighaXNQYXRoVmFsaWQoYSkpcmV0dXJuIGludmFsaWRQYXRoO3ZhciBiPW5ldyBQYXRoKGEsY29uc3RydWN0b3JJc1ByaXZhdGUpO3JldHVybiBwYXRoQ2FjaGVbYV09YixifWZ1bmN0aW9uIGRpcnR5Q2hlY2soYSl7Zm9yKHZhciBiPTA7TUFYX0RJUlRZX0NIRUNLX0NZQ0xFUz5iJiZhLmNoZWNrXygpOyliKys7cmV0dXJuIGdsb2JhbC50ZXN0aW5nRXhwb3NlQ3ljbGVDb3VudCYmKGdsb2JhbC5kaXJ0eUNoZWNrQ3ljbGVDb3VudD1iKSxiPjB9ZnVuY3Rpb24gb2JqZWN0SXNFbXB0eShhKXtmb3IodmFyIGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBkaWZmSXNFbXB0eShhKXtyZXR1cm4gb2JqZWN0SXNFbXB0eShhLmFkZGVkKSYmb2JqZWN0SXNFbXB0eShhLnJlbW92ZWQpJiZvYmplY3RJc0VtcHR5KGEuY2hhbmdlZCl9ZnVuY3Rpb24gZGlmZk9iamVjdEZyb21PbGRPYmplY3QoYSxiKXt2YXIgYz17fSxkPXt9LGU9e307Zm9yKHZhciBmIGluIGIpe3ZhciBnPWFbZl07KHZvaWQgMD09PWd8fGchPT1iW2ZdKSYmKGYgaW4gYT9nIT09YltmXSYmKGVbZl09Zyk6ZFtmXT12b2lkIDApfWZvcih2YXIgZiBpbiBhKWYgaW4gYnx8KGNbZl09YVtmXSk7cmV0dXJuIEFycmF5LmlzQXJyYXkoYSkmJmEubGVuZ3RoIT09Yi5sZW5ndGgmJihlLmxlbmd0aD1hLmxlbmd0aCkse2FkZGVkOmMscmVtb3ZlZDpkLGNoYW5nZWQ6ZX19ZnVuY3Rpb24gcnVuRU9NVGFza3MoKXtpZighZW9tVGFza3MubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYT0wO2E8ZW9tVGFza3MubGVuZ3RoO2ErKyllb21UYXNrc1thXSgpO3JldHVybiBlb21UYXNrcy5sZW5ndGg9MCwhMH1mdW5jdGlvbiBuZXdPYnNlcnZlZE9iamVjdCgpe2Z1bmN0aW9uIGEoYSl7YiYmYi5zdGF0ZV89PT1PUEVORUQmJiFkJiZiLmNoZWNrXyhhKX12YXIgYixjLGQ9ITEsZT0hMDtyZXR1cm57b3BlbjpmdW5jdGlvbihjKXtpZihiKXRocm93IEVycm9yKCJPYnNlcnZlZE9iamVjdCBpbiB1c2UiKTtlfHxPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMoYSksYj1jLGU9ITF9LG9ic2VydmU6ZnVuY3Rpb24oYixkKXtjPWIsZD9BcnJheS5vYnNlcnZlKGMsYSk6T2JqZWN0Lm9ic2VydmUoYyxhKX0sZGVsaXZlcjpmdW5jdGlvbihiKXtkPWIsT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzKGEpLGQ9ITF9LGNsb3NlOmZ1bmN0aW9uKCl7Yj12b2lkIDAsT2JqZWN0LnVub2JzZXJ2ZShjLGEpLG9ic2VydmVkT2JqZWN0Q2FjaGUucHVzaCh0aGlzKX19fWZ1bmN0aW9uIGdldE9ic2VydmVkT2JqZWN0KGEsYixjKXt2YXIgZD1vYnNlcnZlZE9iamVjdENhY2hlLnBvcCgpfHxuZXdPYnNlcnZlZE9iamVjdCgpO3JldHVybiBkLm9wZW4oYSksZC5vYnNlcnZlKGIsYyksZH1mdW5jdGlvbiBuZXdPYnNlcnZlZFNldCgpe2Z1bmN0aW9uIGEoYixmKXtiJiYoYj09PWQmJihlW2ZdPSEwKSxoLmluZGV4T2YoYik8MCYmKGgucHVzaChiKSxPYmplY3Qub2JzZXJ2ZShiLGMpKSxhKE9iamVjdC5nZXRQcm90b3R5cGVPZihiKSxmKSl9ZnVuY3Rpb24gYihhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9YVtiXTtpZihjLm9iamVjdCE9PWR8fGVbYy5uYW1lXXx8InNldFByb3RvdHlwZSI9PT1jLnR5cGUpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gYyhjKXtpZighYihjKSl7Zm9yKHZhciBkLGU9MDtlPGcubGVuZ3RoO2UrKylkPWdbZV0sZC5zdGF0ZV89PU9QRU5FRCYmZC5pdGVyYXRlT2JqZWN0c18oYSk7Zm9yKHZhciBlPTA7ZTxnLmxlbmd0aDtlKyspZD1nW2VdLGQuc3RhdGVfPT1PUEVORUQmJmQuY2hlY2tfKCl9fXZhciBkLGUsZj0wLGc9W10saD1bXSxpPXtvYmplY3Q6dm9pZCAwLG9iamVjdHM6aCxvcGVuOmZ1bmN0aW9uKGIsYyl7ZHx8KGQ9YyxlPXt9KSxnLnB1c2goYiksZisrLGIuaXRlcmF0ZU9iamVjdHNfKGEpfSxjbG9zZTpmdW5jdGlvbigpe2lmKGYtLSwhKGY+MCkpe2Zvcih2YXIgYT0wO2E8aC5sZW5ndGg7YSsrKU9iamVjdC51bm9ic2VydmUoaFthXSxjKSxPYnNlcnZlci51bm9ic2VydmVkQ291bnQrKztnLmxlbmd0aD0wLGgubGVuZ3RoPTAsZD12b2lkIDAsZT12b2lkIDAsb2JzZXJ2ZWRTZXRDYWNoZS5wdXNoKHRoaXMpfX19O3JldHVybiBpfWZ1bmN0aW9uIGdldE9ic2VydmVkU2V0KGEsYil7cmV0dXJuIGxhc3RPYnNlcnZlZFNldCYmbGFzdE9ic2VydmVkU2V0Lm9iamVjdD09PWJ8fChsYXN0T2JzZXJ2ZWRTZXQ9b2JzZXJ2ZWRTZXRDYWNoZS5wb3AoKXx8bmV3T2JzZXJ2ZWRTZXQoKSxsYXN0T2JzZXJ2ZWRTZXQub2JqZWN0PWIpLGxhc3RPYnNlcnZlZFNldC5vcGVuKGEsYiksbGFzdE9ic2VydmVkU2V0fWZ1bmN0aW9uIE9ic2VydmVyKCl7dGhpcy5zdGF0ZV89VU5PUEVORUQsdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwLHRoaXMudmFsdWVfPXZvaWQgMCx0aGlzLmlkXz1uZXh0T2JzZXJ2ZXJJZCsrfWZ1bmN0aW9uIGFkZFRvQWxsKGEpe09ic2VydmVyLl9hbGxPYnNlcnZlcnNDb3VudCsrLGNvbGxlY3RPYnNlcnZlcnMmJmFsbE9ic2VydmVycy5wdXNoKGEpfWZ1bmN0aW9uIHJlbW92ZUZyb21BbGwoKXtPYnNlcnZlci5fYWxsT2JzZXJ2ZXJzQ291bnQtLX1mdW5jdGlvbiBPYmplY3RPYnNlcnZlcihhKXtPYnNlcnZlci5jYWxsKHRoaXMpLHRoaXMudmFsdWVfPWEsdGhpcy5vbGRPYmplY3RfPXZvaWQgMH1mdW5jdGlvbiBBcnJheU9ic2VydmVyKGEpe2lmKCFBcnJheS5pc0FycmF5KGEpKXRocm93IEVycm9yKCJQcm92aWRlZCBvYmplY3QgaXMgbm90IGFuIEFycmF5Iik7T2JqZWN0T2JzZXJ2ZXIuY2FsbCh0aGlzLGEpfWZ1bmN0aW9uIFBhdGhPYnNlcnZlcihhLGIpe09ic2VydmVyLmNhbGwodGhpcyksdGhpcy5vYmplY3RfPWEsdGhpcy5wYXRoXz1nZXRQYXRoKGIpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMH1mdW5jdGlvbiBDb21wb3VuZE9ic2VydmVyKGEpe09ic2VydmVyLmNhbGwodGhpcyksdGhpcy5yZXBvcnRDaGFuZ2VzT25PcGVuXz1hLHRoaXMudmFsdWVfPVtdLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCx0aGlzLm9ic2VydmVkXz1bXX1mdW5jdGlvbiBpZGVudEZuKGEpe3JldHVybiBhfWZ1bmN0aW9uIE9ic2VydmVyVHJhbnNmb3JtKGEsYixjLGQpe3RoaXMuY2FsbGJhY2tfPXZvaWQgMCx0aGlzLnRhcmdldF89dm9pZCAwLHRoaXMudmFsdWVfPXZvaWQgMCx0aGlzLm9ic2VydmFibGVfPWEsdGhpcy5nZXRWYWx1ZUZuXz1ifHxpZGVudEZuLHRoaXMuc2V0VmFsdWVGbl89Y3x8aWRlbnRGbix0aGlzLmRvbnRQYXNzVGhyb3VnaFNldF89ZH1mdW5jdGlvbiBub3RpZnkoYSxiLGMsZCl7aWYoIWFyZVNhbWVWYWx1ZShjLGQpJiYoImZ1bmN0aW9uIj09dHlwZW9mIGEucHJvcGVydHlDaGFuZ2VkXyYmYS5wcm9wZXJ0eUNoYW5nZWRfKGIsYyxkKSxoYXNPYnNlcnZlKSl7dmFyIGU9YS5ub3RpZmllcl87ZXx8KGU9YS5ub3RpZmllcl89T2JqZWN0LmdldE5vdGlmaWVyKGEpKSx1cGRhdGVSZWNvcmQub2JqZWN0PWEsdXBkYXRlUmVjb3JkLm5hbWU9Yix1cGRhdGVSZWNvcmQub2xkVmFsdWU9ZCxlLm5vdGlmeSh1cGRhdGVSZWNvcmQpfX1mdW5jdGlvbiBkaWZmT2JqZWN0RnJvbUNoYW5nZVJlY29yZHMoYSxiLGMpe2Zvcih2YXIgZD17fSxlPXt9LGY9MDtmPGIubGVuZ3RoO2YrKyl7dmFyIGc9YltmXTtleHBlY3RlZFJlY29yZFR5cGVzW2cudHlwZV0/KGcubmFtZSBpbiBjfHwoY1tnLm5hbWVdPWcub2xkVmFsdWUpLCJ1cGRhdGUiIT1nLnR5cGUmJigiYWRkIiE9Zy50eXBlP2cubmFtZSBpbiBkPyhkZWxldGUgZFtnLm5hbWVdLGRlbGV0ZSBjW2cubmFtZV0pOmVbZy5uYW1lXT0hMDpnLm5hbWUgaW4gZT9kZWxldGUgZVtnLm5hbWVdOmRbZy5uYW1lXT0hMCkpOihjb25zb2xlLmVycm9yKCJVbmtub3duIGNoYW5nZVJlY29yZCB0eXBlOiAiK2cudHlwZSksY29uc29sZS5lcnJvcihnKSl9Zm9yKHZhciBoIGluIGQpZFtoXT1hW2hdO2Zvcih2YXIgaCBpbiBlKWVbaF09dm9pZCAwO3ZhciBpPXt9O2Zvcih2YXIgaCBpbiBjKWlmKCEoaCBpbiBkfHxoIGluIGUpKXt2YXIgaj1hW2hdO2NbaF0hPT1qJiYoaVtoXT1qKX1yZXR1cm57YWRkZWQ6ZCxyZW1vdmVkOmUsY2hhbmdlZDppfX1mdW5jdGlvbiBuZXdTcGxpY2UoYSxiLGMpe3JldHVybntpbmRleDphLHJlbW92ZWQ6YixhZGRlZENvdW50OmN9fWZ1bmN0aW9uIEFycmF5U3BsaWNlKCl7fWZ1bmN0aW9uIGNhbGNTcGxpY2VzKGEsYixjLGQsZSxmKXtyZXR1cm4gYXJyYXlTcGxpY2UuY2FsY1NwbGljZXMoYSxiLGMsZCxlLGYpfWZ1bmN0aW9uIGludGVyc2VjdChhLGIsYyxkKXtyZXR1cm4gYz5ifHxhPmQ/LTE6Yj09Y3x8ZD09YT8wOmM+YT9kPmI/Yi1jOmQtYzpiPmQ/ZC1hOmItYX1mdW5jdGlvbiBtZXJnZVNwbGljZShhLGIsYyxkKXtmb3IodmFyIGU9bmV3U3BsaWNlKGIsYyxkKSxmPSExLGc9MCxoPTA7aDxhLmxlbmd0aDtoKyspe3ZhciBpPWFbaF07aWYoaS5pbmRleCs9ZywhZil7dmFyIGo9aW50ZXJzZWN0KGUuaW5kZXgsZS5pbmRleCtlLnJlbW92ZWQubGVuZ3RoLGkuaW5kZXgsaS5pbmRleCtpLmFkZGVkQ291bnQpO2lmKGo+PTApe2Euc3BsaWNlKGgsMSksaC0tLGctPWkuYWRkZWRDb3VudC1pLnJlbW92ZWQubGVuZ3RoLGUuYWRkZWRDb3VudCs9aS5hZGRlZENvdW50LWo7dmFyIGs9ZS5yZW1vdmVkLmxlbmd0aCtpLnJlbW92ZWQubGVuZ3RoLWo7aWYoZS5hZGRlZENvdW50fHxrKXt2YXIgYz1pLnJlbW92ZWQ7aWYoZS5pbmRleDxpLmluZGV4KXt2YXIgbD1lLnJlbW92ZWQuc2xpY2UoMCxpLmluZGV4LWUuaW5kZXgpO0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGwsYyksYz1sfWlmKGUuaW5kZXgrZS5yZW1vdmVkLmxlbmd0aD5pLmluZGV4K2kuYWRkZWRDb3VudCl7dmFyIG09ZS5yZW1vdmVkLnNsaWNlKGkuaW5kZXgraS5hZGRlZENvdW50LWUuaW5kZXgpO0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGMsbSl9ZS5yZW1vdmVkPWMsaS5pbmRleDxlLmluZGV4JiYoZS5pbmRleD1pLmluZGV4KX1lbHNlIGY9ITB9ZWxzZSBpZihlLmluZGV4PGkuaW5kZXgpe2Y9ITAsYS5zcGxpY2UoaCwwLGUpLGgrKzt2YXIgbj1lLmFkZGVkQ291bnQtZS5yZW1vdmVkLmxlbmd0aDtpLmluZGV4Kz1uLGcrPW59fX1mfHxhLnB1c2goZSl9ZnVuY3Rpb24gY3JlYXRlSW5pdGlhbFNwbGljZXMoYSxiKXtmb3IodmFyIGM9W10sZD0wO2Q8Yi5sZW5ndGg7ZCsrKXt2YXIgZT1iW2RdO3N3aXRjaChlLnR5cGUpe2Nhc2Uic3BsaWNlIjptZXJnZVNwbGljZShjLGUuaW5kZXgsZS5yZW1vdmVkLnNsaWNlKCksZS5hZGRlZENvdW50KTticmVhaztjYXNlImFkZCI6Y2FzZSJ1cGRhdGUiOmNhc2UiZGVsZXRlIjppZighaXNJbmRleChlLm5hbWUpKWNvbnRpbnVlO3ZhciBmPXRvTnVtYmVyKGUubmFtZSk7aWYoMD5mKWNvbnRpbnVlO21lcmdlU3BsaWNlKGMsZixbZS5vbGRWYWx1ZV0sMSk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKCJVbmV4cGVjdGVkIHJlY29yZCB0eXBlOiAiK0pTT04uc3RyaW5naWZ5KGUpKX19cmV0dXJuIGN9ZnVuY3Rpb24gcHJvamVjdEFycmF5U3BsaWNlcyhhLGIpe3ZhciBjPVtdO3JldHVybiBjcmVhdGVJbml0aWFsU3BsaWNlcyhhLGIpLmZvckVhY2goZnVuY3Rpb24oYil7cmV0dXJuIDE9PWIuYWRkZWRDb3VudCYmMT09Yi5yZW1vdmVkLmxlbmd0aD92b2lkKGIucmVtb3ZlZFswXSE9PWFbYi5pbmRleF0mJmMucHVzaChiKSk6dm9pZChjPWMuY29uY2F0KGNhbGNTcGxpY2VzKGEsYi5pbmRleCxiLmluZGV4K2IuYWRkZWRDb3VudCxiLnJlbW92ZWQsMCxiLnJlbW92ZWQubGVuZ3RoKSkpfSksY312YXIgaGFzT2JzZXJ2ZT1kZXRlY3RPYmplY3RPYnNlcnZlKCksaGFzRXZhbD1kZXRlY3RFdmFsKCksbnVtYmVySXNOYU49Z2xvYmFsLk51bWJlci5pc05hTnx8ZnVuY3Rpb24oYSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBhJiZnbG9iYWwuaXNOYU4oYSl9LGNyZWF0ZU9iamVjdD0iX19wcm90b19fImlue30/ZnVuY3Rpb24oYSl7cmV0dXJuIGF9OmZ1bmN0aW9uKGEpe3ZhciBiPWEuX19wcm90b19fO2lmKCFiKXJldHVybiBhO3ZhciBjPU9iamVjdC5jcmVhdGUoYik7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGEpLmZvckVhY2goZnVuY3Rpb24oYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGMsYixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsYikpfSksY30saWRlbnRTdGFydD0iWyRfYS16QS1aXSIsaWRlbnRQYXJ0PSJbJF9hLXpBLVowLTldIixpZGVudD1pZGVudFN0YXJ0KyIrIitpZGVudFBhcnQrIioiLGVsZW1lbnRJbmRleD0iKD86WzAtOV18WzEtOV0rWzAtOV0rKSIsaWRlbnRPckVsZW1lbnRJbmRleD0iKD86IitpZGVudCsifCIrZWxlbWVudEluZGV4KyIpIixwYXRoPSIoPzoiK2lkZW50T3JFbGVtZW50SW5kZXgrIikoPzpcXHMqXFwuXFxzKiIraWRlbnRPckVsZW1lbnRJbmRleCsiKSoiLHBhdGhSZWdFeHA9bmV3IFJlZ0V4cCgiXiIrcGF0aCsiJCIpLGNvbnN0cnVjdG9ySXNQcml2YXRlPXt9LHBhdGhDYWNoZT17fTtQYXRoLmdldD1nZXRQYXRoLFBhdGgucHJvdG90eXBlPWNyZWF0ZU9iamVjdCh7X19wcm90b19fOltdLHZhbGlkOiEwLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuam9pbigiLiIpfSxnZXRWYWx1ZUZyb206ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7Yjx0aGlzLmxlbmd0aDtiKyspe2lmKG51bGw9PWEpcmV0dXJuO2E9YVt0aGlzW2JdXX1yZXR1cm4gYX0saXRlcmF0ZU9iamVjdHM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtjPHRoaXMubGVuZ3RoO2MrKyl7aWYoYyYmKGE9YVt0aGlzW2MtMV1dKSwhaXNPYmplY3QoYSkpcmV0dXJuO2IoYSx0aGlzWzBdKX19LGNvbXBpbGVkR2V0VmFsdWVGcm9tRm46ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gaXNJbmRleChhKT8nWyInK2ErJyJdJzoiLiIrYX0pLGI9IiIsYz0ib2JqIjtiKz0iaWYgKG9iaiAhPSBudWxsIjtmb3IodmFyIGQ9MDtkPHRoaXMubGVuZ3RoLTE7ZCsrKXt7dGhpc1tkXX1jKz1hW2RdLGIrPSIgJiZcbiAgICAgIitjKyIgIT0gbnVsbCJ9cmV0dXJuIGIrPSIpXG4iLGMrPWFbZF0sYis9IiAgcmV0dXJuICIrYysiO1xuZWxzZVxuICByZXR1cm4gdW5kZWZpbmVkOyIsbmV3IEZ1bmN0aW9uKCJvYmoiLGIpfSxzZXRWYWx1ZUZyb206ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBjPTA7Yzx0aGlzLmxlbmd0aC0xO2MrKyl7aWYoIWlzT2JqZWN0KGEpKXJldHVybiExO2E9YVt0aGlzW2NdXX1yZXR1cm4gaXNPYmplY3QoYSk/KGFbdGhpc1tjXV09YiwhMCk6ITF9fSk7dmFyIGludmFsaWRQYXRoPW5ldyBQYXRoKCIiLGNvbnN0cnVjdG9ySXNQcml2YXRlKTtpbnZhbGlkUGF0aC52YWxpZD0hMSxpbnZhbGlkUGF0aC5nZXRWYWx1ZUZyb209aW52YWxpZFBhdGguc2V0VmFsdWVGcm9tPWZ1bmN0aW9uKCl7fTt2YXIgTUFYX0RJUlRZX0NIRUNLX0NZQ0xFUz0xZTMsZW9tVGFza3M9W10scnVuRU9NPWhhc09ic2VydmU/ZnVuY3Rpb24oKXt2YXIgYT17cGluZ1Bvbmc6ITB9LGI9ITE7cmV0dXJuIE9iamVjdC5vYnNlcnZlKGEsZnVuY3Rpb24oKXtydW5FT01UYXNrcygpLGI9ITF9KSxmdW5jdGlvbihjKXtlb21UYXNrcy5wdXNoKGMpLGJ8fChiPSEwLGEucGluZ1Bvbmc9IWEucGluZ1BvbmcpfX0oKTpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhKXtlb21UYXNrcy5wdXNoKGEpfX0oKSxvYnNlcnZlZE9iamVjdENhY2hlPVtdLG9ic2VydmVkU2V0Q2FjaGU9W10sbGFzdE9ic2VydmVkU2V0LFVOT1BFTkVEPTAsT1BFTkVEPTEsQ0xPU0VEPTIsUkVTRVRUSU5HPTMsbmV4dE9ic2VydmVySWQ9MTtPYnNlcnZlci5wcm90b3R5cGU9e29wZW46ZnVuY3Rpb24oYSxiKXtpZih0aGlzLnN0YXRlXyE9VU5PUEVORUQpdGhyb3cgRXJyb3IoIk9ic2VydmVyIGhhcyBhbHJlYWR5IGJlZW4gb3BlbmVkLiIpO3JldHVybiBhZGRUb0FsbCh0aGlzKSx0aGlzLmNhbGxiYWNrXz1hLHRoaXMudGFyZ2V0Xz1iLHRoaXMuY29ubmVjdF8oKSx0aGlzLnN0YXRlXz1PUEVORUQsdGhpcy52YWx1ZV99LGNsb3NlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZV89PU9QRU5FRCYmKHJlbW92ZUZyb21BbGwodGhpcyksdGhpcy5kaXNjb25uZWN0XygpLHRoaXMudmFsdWVfPXZvaWQgMCx0aGlzLmNhbGxiYWNrXz12b2lkIDAsdGhpcy50YXJnZXRfPXZvaWQgMCx0aGlzLnN0YXRlXz1DTE9TRUQpfSxkZWxpdmVyOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZV89PU9QRU5FRCYmZGlydHlDaGVjayh0aGlzKX0scmVwb3J0XzpmdW5jdGlvbihhKXt0cnl7dGhpcy5jYWxsYmFja18uYXBwbHkodGhpcy50YXJnZXRfLGEpfWNhdGNoKGIpe09ic2VydmVyLl9lcnJvclRocm93bkR1cmluZ0NhbGxiYWNrPSEwLGNvbnNvbGUuZXJyb3IoIkV4Y2VwdGlvbiBjYXVnaHQgZHVyaW5nIG9ic2VydmVyIGNhbGxiYWNrOiAiKyhiLnN0YWNrfHxiKSl9fSxkaXNjYXJkQ2hhbmdlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoZWNrXyh2b2lkIDAsITApLHRoaXMudmFsdWVffX07dmFyIGNvbGxlY3RPYnNlcnZlcnM9IWhhc09ic2VydmUsYWxsT2JzZXJ2ZXJzO09ic2VydmVyLl9hbGxPYnNlcnZlcnNDb3VudD0wLGNvbGxlY3RPYnNlcnZlcnMmJihhbGxPYnNlcnZlcnM9W10pO3ZhciBydW5uaW5nTWljcm90YXNrQ2hlY2twb2ludD0hMSxoYXNEZWJ1Z0ZvcmNlRnVsbERlbGl2ZXJ5PWhhc09ic2VydmUmJmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBldmFsKCIlUnVuTWljcm90YXNrcygpIiksITB9Y2F0Y2goZXgpe3JldHVybiExfX0oKTtnbG9iYWwuUGxhdGZvcm09Z2xvYmFsLlBsYXRmb3JtfHx7fSxnbG9iYWwuUGxhdGZvcm0ucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQ9ZnVuY3Rpb24oKXtpZighcnVubmluZ01pY3JvdGFza0NoZWNrcG9pbnQpe2lmKGhhc0RlYnVnRm9yY2VGdWxsRGVsaXZlcnkpcmV0dXJuIHZvaWQgZXZhbCgiJVJ1bk1pY3JvdGFza3MoKSIpO2lmKGNvbGxlY3RPYnNlcnZlcnMpe3J1bm5pbmdNaWNyb3Rhc2tDaGVja3BvaW50PSEwO3ZhciBjeWNsZXM9MCxhbnlDaGFuZ2VkLHRvQ2hlY2s7ZG97Y3ljbGVzKyssdG9DaGVjaz1hbGxPYnNlcnZlcnMsYWxsT2JzZXJ2ZXJzPVtdLGFueUNoYW5nZWQ9ITE7Zm9yKHZhciBpPTA7aTx0b0NoZWNrLmxlbmd0aDtpKyspe3ZhciBvYnNlcnZlcj10b0NoZWNrW2ldO29ic2VydmVyLnN0YXRlXz09T1BFTkVEJiYob2JzZXJ2ZXIuY2hlY2tfKCkmJihhbnlDaGFuZ2VkPSEwKSxhbGxPYnNlcnZlcnMucHVzaChvYnNlcnZlcikpfXJ1bkVPTVRhc2tzKCkmJihhbnlDaGFuZ2VkPSEwKX13aGlsZShNQVhfRElSVFlfQ0hFQ0tfQ1lDTEVTPmN5Y2xlcyYmYW55Q2hhbmdlZCk7Z2xvYmFsLnRlc3RpbmdFeHBvc2VDeWNsZUNvdW50JiYoZ2xvYmFsLmRpcnR5Q2hlY2tDeWNsZUNvdW50PWN5Y2xlcykscnVubmluZ01pY3JvdGFza0NoZWNrcG9pbnQ9ITF9fX0sY29sbGVjdE9ic2VydmVycyYmKGdsb2JhbC5QbGF0Zm9ybS5jbGVhck9ic2VydmVycz1mdW5jdGlvbigpe2FsbE9ic2VydmVycz1bXX0pLE9iamVjdE9ic2VydmVyLnByb3RvdHlwZT1jcmVhdGVPYmplY3Qoe19fcHJvdG9fXzpPYnNlcnZlci5wcm90b3R5cGUsYXJyYXlPYnNlcnZlOiExLGNvbm5lY3RfOmZ1bmN0aW9uKCl7aGFzT2JzZXJ2ZT90aGlzLmRpcmVjdE9ic2VydmVyXz1nZXRPYnNlcnZlZE9iamVjdCh0aGlzLHRoaXMudmFsdWVfLHRoaXMuYXJyYXlPYnNlcnZlKTp0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKX0sY29weU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYj1BcnJheS5pc0FycmF5KGEpP1tdOnt9O2Zvcih2YXIgYyBpbiBhKWJbY109YVtjXTtyZXR1cm4gQXJyYXkuaXNBcnJheShhKSYmKGIubGVuZ3RoPWEubGVuZ3RoKSxifSxjaGVja186ZnVuY3Rpb24oYSl7dmFyIGIsYztpZihoYXNPYnNlcnZlKXtpZighYSlyZXR1cm4hMTtjPXt9LGI9ZGlmZk9iamVjdEZyb21DaGFuZ2VSZWNvcmRzKHRoaXMudmFsdWVfLGEsYyl9ZWxzZSBjPXRoaXMub2xkT2JqZWN0XyxiPWRpZmZPYmplY3RGcm9tT2xkT2JqZWN0KHRoaXMudmFsdWVfLHRoaXMub2xkT2JqZWN0Xyk7cmV0dXJuIGRpZmZJc0VtcHR5KGIpPyExOihoYXNPYnNlcnZlfHwodGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXykpLHRoaXMucmVwb3J0XyhbYi5hZGRlZHx8e30sYi5yZW1vdmVkfHx7fSxiLmNoYW5nZWR8fHt9LGZ1bmN0aW9uKGEpe3JldHVybiBjW2FdfV0pLCEwKX0sZGlzY29ubmVjdF86ZnVuY3Rpb24oKXtoYXNPYnNlcnZlPyh0aGlzLmRpcmVjdE9ic2VydmVyXy5jbG9zZSgpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCk6dGhpcy5vbGRPYmplY3RfPXZvaWQgMH0sZGVsaXZlcjpmdW5jdGlvbigpe3RoaXMuc3RhdGVfPT1PUEVORUQmJihoYXNPYnNlcnZlP3RoaXMuZGlyZWN0T2JzZXJ2ZXJfLmRlbGl2ZXIoITEpOmRpcnR5Q2hlY2sodGhpcykpfSxkaXNjYXJkQ2hhbmdlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpcmVjdE9ic2VydmVyXz90aGlzLmRpcmVjdE9ic2VydmVyXy5kZWxpdmVyKCEwKTp0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKSx0aGlzLnZhbHVlX319KSxBcnJheU9ic2VydmVyLnByb3RvdHlwZT1jcmVhdGVPYmplY3Qoe19fcHJvdG9fXzpPYmplY3RPYnNlcnZlci5wcm90b3R5cGUsYXJyYXlPYnNlcnZlOiEwLGNvcHlPYmplY3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc2xpY2UoKX0sY2hlY2tfOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKGhhc09ic2VydmUpe2lmKCFhKXJldHVybiExO2I9cHJvamVjdEFycmF5U3BsaWNlcyh0aGlzLnZhbHVlXyxhKX1lbHNlIGI9Y2FsY1NwbGljZXModGhpcy52YWx1ZV8sMCx0aGlzLnZhbHVlXy5sZW5ndGgsdGhpcy5vbGRPYmplY3RfLDAsdGhpcy5vbGRPYmplY3RfLmxlbmd0aCk7cmV0dXJuIGImJmIubGVuZ3RoPyhoYXNPYnNlcnZlfHwodGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXykpLHRoaXMucmVwb3J0XyhbYl0pLCEwKTohMX19KSxBcnJheU9ic2VydmVyLmFwcGx5U3BsaWNlcz1mdW5jdGlvbihhLGIsYyl7Yy5mb3JFYWNoKGZ1bmN0aW9uKGMpe2Zvcih2YXIgZD1bYy5pbmRleCxjLnJlbW92ZWQubGVuZ3RoXSxlPWMuaW5kZXg7ZTxjLmluZGV4K2MuYWRkZWRDb3VudDspZC5wdXNoKGJbZV0pLGUrKztBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KGEsZCl9KX0sUGF0aE9ic2VydmVyLnByb3RvdHlwZT1jcmVhdGVPYmplY3Qoe19fcHJvdG9fXzpPYnNlcnZlci5wcm90b3R5cGUsY29ubmVjdF86ZnVuY3Rpb24oKXtoYXNPYnNlcnZlJiYodGhpcy5kaXJlY3RPYnNlcnZlcl89Z2V0T2JzZXJ2ZWRTZXQodGhpcyx0aGlzLm9iamVjdF8pKSx0aGlzLmNoZWNrXyh2b2lkIDAsITApfSxkaXNjb25uZWN0XzpmdW5jdGlvbigpe3RoaXMudmFsdWVfPXZvaWQgMCx0aGlzLmRpcmVjdE9ic2VydmVyXyYmKHRoaXMuZGlyZWN0T2JzZXJ2ZXJfLmNsb3NlKHRoaXMpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCl9LGl0ZXJhdGVPYmplY3RzXzpmdW5jdGlvbihhKXt0aGlzLnBhdGhfLml0ZXJhdGVPYmplY3RzKHRoaXMub2JqZWN0XyxhKX0sY2hlY2tfOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy52YWx1ZV87cmV0dXJuIHRoaXMudmFsdWVfPXRoaXMucGF0aF8uZ2V0VmFsdWVGcm9tKHRoaXMub2JqZWN0XyksYnx8YXJlU2FtZVZhbHVlKHRoaXMudmFsdWVfLGMpPyExOih0aGlzLnJlcG9ydF8oW3RoaXMudmFsdWVfLGNdKSwhMCl9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe3RoaXMucGF0aF8mJnRoaXMucGF0aF8uc2V0VmFsdWVGcm9tKHRoaXMub2JqZWN0XyxhKX19KTt2YXIgb2JzZXJ2ZXJTZW50aW5lbD17fTtDb21wb3VuZE9ic2VydmVyLnByb3RvdHlwZT1jcmVhdGVPYmplY3Qoe19fcHJvdG9fXzpPYnNlcnZlci5wcm90b3R5cGUsY29ubmVjdF86ZnVuY3Rpb24oKXtpZihoYXNPYnNlcnZlKXtmb3IodmFyIGEsYj0hMSxjPTA7Yzx0aGlzLm9ic2VydmVkXy5sZW5ndGg7Yys9MilpZihhPXRoaXMub2JzZXJ2ZWRfW2NdLGEhPT1vYnNlcnZlclNlbnRpbmVsKXtiPSEwO2JyZWFrfWImJih0aGlzLmRpcmVjdE9ic2VydmVyXz1nZXRPYnNlcnZlZFNldCh0aGlzLGEpKX10aGlzLmNoZWNrXyh2b2lkIDAsIXRoaXMucmVwb3J0Q2hhbmdlc09uT3Blbl8pfSxkaXNjb25uZWN0XzpmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2ErPTIpdGhpcy5vYnNlcnZlZF9bYV09PT1vYnNlcnZlclNlbnRpbmVsJiZ0aGlzLm9ic2VydmVkX1thKzFdLmNsb3NlKCk7dGhpcy5vYnNlcnZlZF8ubGVuZ3RoPTAsdGhpcy52YWx1ZV8ubGVuZ3RoPTAsdGhpcy5kaXJlY3RPYnNlcnZlcl8mJih0aGlzLmRpcmVjdE9ic2VydmVyXy5jbG9zZSh0aGlzKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDApfSxhZGRQYXRoOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5zdGF0ZV8hPVVOT1BFTkVEJiZ0aGlzLnN0YXRlXyE9UkVTRVRUSU5HKXRocm93IEVycm9yKCJDYW5ub3QgYWRkIHBhdGhzIG9uY2Ugc3RhcnRlZC4iKTt2YXIgYj1nZXRQYXRoKGIpO2lmKHRoaXMub2JzZXJ2ZWRfLnB1c2goYSxiKSx0aGlzLnJlcG9ydENoYW5nZXNPbk9wZW5fKXt2YXIgYz10aGlzLm9ic2VydmVkXy5sZW5ndGgvMi0xO3RoaXMudmFsdWVfW2NdPWIuZ2V0VmFsdWVGcm9tKGEpfX0sYWRkT2JzZXJ2ZXI6ZnVuY3Rpb24oYSl7aWYodGhpcy5zdGF0ZV8hPVVOT1BFTkVEJiZ0aGlzLnN0YXRlXyE9UkVTRVRUSU5HKXRocm93IEVycm9yKCJDYW5ub3QgYWRkIG9ic2VydmVycyBvbmNlIHN0YXJ0ZWQuIik7aWYodGhpcy5vYnNlcnZlZF8ucHVzaChvYnNlcnZlclNlbnRpbmVsLGEpLHRoaXMucmVwb3J0Q2hhbmdlc09uT3Blbl8pe3ZhciBiPXRoaXMub2JzZXJ2ZWRfLmxlbmd0aC8yLTE7dGhpcy52YWx1ZV9bYl09YS5vcGVuKHRoaXMuZGVsaXZlcix0aGlzKX19LHN0YXJ0UmVzZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXRlXyE9T1BFTkVEKXRocm93IEVycm9yKCJDYW4gb25seSByZXNldCB3aGlsZSBvcGVuIik7dGhpcy5zdGF0ZV89UkVTRVRUSU5HLHRoaXMuZGlzY29ubmVjdF8oKX0sZmluaXNoUmVzZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXRlXyE9UkVTRVRUSU5HKXRocm93IEVycm9yKCJDYW4gb25seSBmaW5pc2hSZXNldCBhZnRlciBzdGFydFJlc2V0Iik7cmV0dXJuIHRoaXMuc3RhdGVfPU9QRU5FRCx0aGlzLmNvbm5lY3RfKCksdGhpcy52YWx1ZV99LGl0ZXJhdGVPYmplY3RzXzpmdW5jdGlvbihhKXtmb3IodmFyIGIsYz0wO2M8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2MrPTIpYj10aGlzLm9ic2VydmVkX1tjXSxiIT09b2JzZXJ2ZXJTZW50aW5lbCYmdGhpcy5vYnNlcnZlZF9bYysxXS5pdGVyYXRlT2JqZWN0cyhiLGEpfSxjaGVja186ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wO2Q8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2QrPTIpe3ZhciBlLGY9dGhpcy5vYnNlcnZlZF9bZF0sZz10aGlzLm9ic2VydmVkX1tkKzFdO2lmKGY9PT1vYnNlcnZlclNlbnRpbmVsKXt2YXIgaD1nO2U9dGhpcy5zdGF0ZV89PT1VTk9QRU5FRD9oLm9wZW4odGhpcy5kZWxpdmVyLHRoaXMpOmguZGlzY2FyZENoYW5nZXMoKX1lbHNlIGU9Zy5nZXRWYWx1ZUZyb20oZik7Yj90aGlzLnZhbHVlX1tkLzJdPWU6YXJlU2FtZVZhbHVlKGUsdGhpcy52YWx1ZV9bZC8yXSl8fChjPWN8fFtdLGNbZC8yXT10aGlzLnZhbHVlX1tkLzJdLHRoaXMudmFsdWVfW2QvMl09ZSl9cmV0dXJuIGM/KHRoaXMucmVwb3J0XyhbdGhpcy52YWx1ZV8sYyx0aGlzLm9ic2VydmVkX10pLCEwKTohMX19KSxPYnNlcnZlclRyYW5zZm9ybS5wcm90b3R5cGU9e29wZW46ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5jYWxsYmFja189YSx0aGlzLnRhcmdldF89Yix0aGlzLnZhbHVlXz10aGlzLmdldFZhbHVlRm5fKHRoaXMub2JzZXJ2YWJsZV8ub3Blbih0aGlzLm9ic2VydmVkQ2FsbGJhY2tfLHRoaXMpKSx0aGlzLnZhbHVlX30sb2JzZXJ2ZWRDYWxsYmFja186ZnVuY3Rpb24oYSl7aWYoYT10aGlzLmdldFZhbHVlRm5fKGEpLCFhcmVTYW1lVmFsdWUoYSx0aGlzLnZhbHVlXykpe3ZhciBiPXRoaXMudmFsdWVfO3RoaXMudmFsdWVfPWEsdGhpcy5jYWxsYmFja18uY2FsbCh0aGlzLnRhcmdldF8sdGhpcy52YWx1ZV8sYil9fSxkaXNjYXJkQ2hhbmdlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlXz10aGlzLmdldFZhbHVlRm5fKHRoaXMub2JzZXJ2YWJsZV8uZGlzY2FyZENoYW5nZXMoKSksdGhpcy52YWx1ZV99LGRlbGl2ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vYnNlcnZhYmxlXy5kZWxpdmVyKCl9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe3JldHVybiBhPXRoaXMuc2V0VmFsdWVGbl8oYSksIXRoaXMuZG9udFBhc3NUaHJvdWdoU2V0XyYmdGhpcy5vYnNlcnZhYmxlXy5zZXRWYWx1ZT90aGlzLm9ic2VydmFibGVfLnNldFZhbHVlKGEpOnZvaWQgMH0sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLm9ic2VydmFibGVfJiZ0aGlzLm9ic2VydmFibGVfLmNsb3NlKCksdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy5vYnNlcnZhYmxlXz12b2lkIDAsdGhpcy52YWx1ZV89dm9pZCAwLHRoaXMuZ2V0VmFsdWVGbl89dm9pZCAwLHRoaXMuc2V0VmFsdWVGbl89dm9pZCAwfX07dmFyIGV4cGVjdGVkUmVjb3JkVHlwZXM9e2FkZDohMCx1cGRhdGU6ITAsImRlbGV0ZSI6ITB9LHVwZGF0ZVJlY29yZD17b2JqZWN0OnZvaWQgMCx0eXBlOiJ1cGRhdGUiLG5hbWU6dm9pZCAwLG9sZFZhbHVlOnZvaWQgMH07T2JzZXJ2ZXIuY3JlYXRlQmluZGFibGVQcm90b3R5cGVBY2Nlc3Nvcj1mdW5jdGlvbihhLGIpe3ZhciBjPWIrIl8iLGQ9YisiT2JzZXJ2YWJsZV8iO2FbY109YVtiXSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzW2RdO3JldHVybiBhJiZhLmRlbGl2ZXIoKSx0aGlzW2NdfSxzZXQ6ZnVuY3Rpb24oYSl7dmFyIGU9dGhpc1tkXTtpZihlKXJldHVybiB2b2lkIGUuc2V0VmFsdWUoYSk7dmFyIGY9dGhpc1tjXTtyZXR1cm4gdGhpc1tjXT1hLG5vdGlmeSh0aGlzLGIsYSxmKSxhfSxjb25maWd1cmFibGU6ITB9KX0sT2JzZXJ2ZXIuYmluZFRvSW5zdGFuY2U9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YisiXyIsZj1iKyJPYnNlcnZhYmxlXyI7YVtmXT1jO3ZhciBnPWFbZV0saD1jLm9wZW4oZnVuY3Rpb24oYyxkKXthW2VdPWMsbm90aWZ5KGEsYixjLGQpfSk7aWYoZCYmIWFyZVNhbWVWYWx1ZShnLGgpKXt2YXIgaT1kKGcsaCk7YXJlU2FtZVZhbHVlKGgsaSl8fChoPWksYy5zZXRWYWx1ZSYmYy5zZXRWYWx1ZShoKSl9cmV0dXJuIGFbZV09aCxub3RpZnkoYSxiLGgsZykse2Nsb3NlOmZ1bmN0aW9uKCl7Yy5jbG9zZSgpLGFbZl09dm9pZCAwfX19O3ZhciBFRElUX0xFQVZFPTAsRURJVF9VUERBVEU9MSxFRElUX0FERD0yLEVESVRfREVMRVRFPTM7QXJyYXlTcGxpY2UucHJvdG90eXBlPXtjYWxjRWRpdERpc3RhbmNlczpmdW5jdGlvbihhLGIsYyxkLGUsZil7Zm9yKHZhciBnPWYtZSsxLGg9Yy1iKzEsaT1uZXcgQXJyYXkoZyksaj0wO2c+ajtqKyspaVtqXT1uZXcgQXJyYXkoaCksaVtqXVswXT1qO2Zvcih2YXIgaz0wO2g+aztrKyspaVswXVtrXT1rO2Zvcih2YXIgaj0xO2c+ajtqKyspZm9yKHZhciBrPTE7aD5rO2srKylpZih0aGlzLmVxdWFscyhhW2Iray0xXSxkW2Urai0xXSkpaVtqXVtrXT1pW2otMV1bay0xXTtlbHNle3ZhciBsPWlbai0xXVtrXSsxLG09aVtqXVtrLTFdKzE7aVtqXVtrXT1tPmw/bDptfXJldHVybiBpfSxzcGxpY2VPcGVyYXRpb25zRnJvbUVkaXREaXN0YW5jZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEubGVuZ3RoLTEsYz1hWzBdLmxlbmd0aC0xLGQ9YVtiXVtjXSxlPVtdO2I+MHx8Yz4wOylpZigwIT1iKWlmKDAhPWMpe3ZhciBmLGc9YVtiLTFdW2MtMV0saD1hW2ItMV1bY10saT1hW2JdW2MtMV07Zj1pPmg/Zz5oP2g6ZzpnPmk/aTpnLGY9PWc/KGc9PWQ/ZS5wdXNoKEVESVRfTEVBVkUpOihlLnB1c2goRURJVF9VUERBVEUpLGQ9ZyksYi0tLGMtLSk6Zj09aD8oZS5wdXNoKEVESVRfREVMRVRFKSxiLS0sZD1oKTooZS5wdXNoKEVESVRfQUREKSxjLS0sZD1pKX1lbHNlIGUucHVzaChFRElUX0RFTEVURSksYi0tO2Vsc2UgZS5wdXNoKEVESVRfQUREKSxjLS07cmV0dXJuIGUucmV2ZXJzZSgpLGV9LGNhbGNTcGxpY2VzOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz0wLGg9MCxpPU1hdGgubWluKGMtYixmLWUpO2lmKDA9PWImJjA9PWUmJihnPXRoaXMuc2hhcmVkUHJlZml4KGEsZCxpKSksYz09YS5sZW5ndGgmJmY9PWQubGVuZ3RoJiYoaD10aGlzLnNoYXJlZFN1ZmZpeChhLGQsaS1nKSksYis9ZyxlKz1nLGMtPWgsZi09aCxjLWI9PTAmJmYtZT09MClyZXR1cm5bXTtpZihiPT1jKXtmb3IodmFyIGo9bmV3U3BsaWNlKGIsW10sMCk7Zj5lOylqLnJlbW92ZWQucHVzaChkW2UrK10pO3JldHVybltqXX1pZihlPT1mKXJldHVybltuZXdTcGxpY2UoYixbXSxjLWIpXTtmb3IodmFyIGs9dGhpcy5zcGxpY2VPcGVyYXRpb25zRnJvbUVkaXREaXN0YW5jZXModGhpcy5jYWxjRWRpdERpc3RhbmNlcyhhLGIsYyxkLGUsZikpLGo9dm9pZCAwLGw9W10sbT1iLG49ZSxvPTA7bzxrLmxlbmd0aDtvKyspc3dpdGNoKGtbb10pe2Nhc2UgRURJVF9MRUFWRTpqJiYobC5wdXNoKGopLGo9dm9pZCAwKSxtKyssbisrO2JyZWFrO2Nhc2UgRURJVF9VUERBVEU6anx8KGo9bmV3U3BsaWNlKG0sW10sMCkpLGouYWRkZWRDb3VudCsrLG0rKyxqLnJlbW92ZWQucHVzaChkW25dKSxuKys7YnJlYWs7Y2FzZSBFRElUX0FERDpqfHwoaj1uZXdTcGxpY2UobSxbXSwwKSksai5hZGRlZENvdW50KyssbSsrO2JyZWFrO2Nhc2UgRURJVF9ERUxFVEU6anx8KGo9bmV3U3BsaWNlKG0sW10sMCkpLGoucmVtb3ZlZC5wdXNoKGRbbl0pLG4rK31yZXR1cm4gaiYmbC5wdXNoKGopLGx9LHNoYXJlZFByZWZpeDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA7Yz5kO2QrKylpZighdGhpcy5lcXVhbHMoYVtkXSxiW2RdKSlyZXR1cm4gZDtyZXR1cm4gY30sc2hhcmVkU3VmZml4OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1iLmxlbmd0aCxmPTA7Yz5mJiZ0aGlzLmVxdWFscyhhWy0tZF0sYlstLWVdKTspZisrO3JldHVybiBmfSxjYWxjdWxhdGVTcGxpY2VzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuY2FsY1NwbGljZXMoYSwwLGEubGVuZ3RoLGIsMCxiLmxlbmd0aCl9LGVxdWFsczpmdW5jdGlvbihhLGIpe3JldHVybiBhPT09Yn19O3ZhciBhcnJheVNwbGljZT1uZXcgQXJyYXlTcGxpY2U7Z2xvYmFsLk9ic2VydmVyPU9ic2VydmVyLGdsb2JhbC5PYnNlcnZlci5ydW5FT01fPXJ1bkVPTSxnbG9iYWwuT2JzZXJ2ZXIub2JzZXJ2ZXJTZW50aW5lbF89b2JzZXJ2ZXJTZW50aW5lbCxnbG9iYWwuT2JzZXJ2ZXIuaGFzT2JqZWN0T2JzZXJ2ZT1oYXNPYnNlcnZlLGdsb2JhbC5BcnJheU9ic2VydmVyPUFycmF5T2JzZXJ2ZXIsZ2xvYmFsLkFycmF5T2JzZXJ2ZXIuY2FsY3VsYXRlU3BsaWNlcz1mdW5jdGlvbihhLGIpe3JldHVybiBhcnJheVNwbGljZS5jYWxjdWxhdGVTcGxpY2VzKGEsYil9LGdsb2JhbC5BcnJheVNwbGljZT1BcnJheVNwbGljZSxnbG9iYWwuT2JqZWN0T2JzZXJ2ZXI9T2JqZWN0T2JzZXJ2ZXIsZ2xvYmFsLlBhdGhPYnNlcnZlcj1QYXRoT2JzZXJ2ZXIsZ2xvYmFsLkNvbXBvdW5kT2JzZXJ2ZXI9Q29tcG91bmRPYnNlcnZlcixnbG9iYWwuUGF0aD1QYXRoLGdsb2JhbC5PYnNlcnZlclRyYW5zZm9ybT1PYnNlcnZlclRyYW5zZm9ybX0oInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWwmJmdsb2JhbCYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZT9nbG9iYWw6dGhpc3x8d2luZG93KSxQbGF0Zm9ybS5mbGFncy5zaGFkb3c/KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD17fSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYigpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgY2hyb21lJiZjaHJvbWUuYXBwJiZjaHJvbWUuYXBwLnJ1bnRpbWUpcmV0dXJuITE7dHJ5e3ZhciBhPW5ldyBGdW5jdGlvbigicmV0dXJuIHRydWU7Iik7cmV0dXJuIGEoKX1jYXRjaChiKXtyZXR1cm4hMX19ZnVuY3Rpb24gYyhhKXtpZighYSl0aHJvdyBuZXcgRXJyb3IoIkFzc2VydGlvbiBmYWlsZWQiKX1mdW5jdGlvbiBkKGEsYil7Zm9yKHZhciBjPUwoYiksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO0soYSxlLE0oYixlKSl9cmV0dXJuIGF9ZnVuY3Rpb24gZShhLGIpe2Zvcih2YXIgYz1MKGIpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXTtzd2l0Y2goZSl7Y2FzZSJhcmd1bWVudHMiOmNhc2UiY2FsbGVyIjpjYXNlImxlbmd0aCI6Y2FzZSJuYW1lIjpjYXNlInByb3RvdHlwZSI6Y2FzZSJ0b1N0cmluZyI6Y29udGludWV9SyhhLGUsTShiLGUpKX1yZXR1cm4gYX1mdW5jdGlvbiBmKGEsYil7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspaWYoYltjXWluIGEpcmV0dXJuIGJbY119ZnVuY3Rpb24gZyhhLGIsYyl7Ti52YWx1ZT1jLEsoYSxiLE4pfWZ1bmN0aW9uIGgoYSl7dmFyIGI9YS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihhKSxjPUcuZ2V0KGIpO2lmKGMpcmV0dXJuIGM7dmFyIGQ9aChiKSxlPXYoZCk7cmV0dXJuIHMoYixlLGEpLGV9ZnVuY3Rpb24gaShhLGIpe3EoYSxiLCEwKX1mdW5jdGlvbiBqKGEsYil7cShiLGEsITEpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuL15vblthLXpdKyQvLnRlc3QoYSl9ZnVuY3Rpb24gbChhKXtyZXR1cm4vXlx3W2EtekEtWl8wLTldKiQvLnRlc3QoYSl9ZnVuY3Rpb24gbShhKXtyZXR1cm4gSiYmbChhKT9uZXcgRnVuY3Rpb24oInJldHVybiB0aGlzLmltcGwuIithKTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmltcGxbYV19fWZ1bmN0aW9uIG4oYSl7cmV0dXJuIEomJmwoYSk/bmV3IEZ1bmN0aW9uKCJ2IiwidGhpcy5pbXBsLiIrYSsiID0gdiIpOmZ1bmN0aW9uKGIpe3RoaXMuaW1wbFthXT1ifX1mdW5jdGlvbiBvKGEpe3JldHVybiBKJiZsKGEpP25ldyBGdW5jdGlvbigicmV0dXJuIHRoaXMuaW1wbC4iK2ErIi5hcHBseSh0aGlzLmltcGwsIGFyZ3VtZW50cykiKTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmltcGxbYV0uYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIHAoYSxiKXt0cnl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYSxiKX1jYXRjaChjKXtyZXR1cm4gUH19ZnVuY3Rpb24gcShiLGMsZCl7Zm9yKHZhciBlPUwoYiksZj0wO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgZz1lW2ZdO2lmKCJwb2x5bWVyQmxhY2tMaXN0XyIhPT1nJiYhKGcgaW4gY3x8Yi5wb2x5bWVyQmxhY2tMaXN0XyYmYi5wb2x5bWVyQmxhY2tMaXN0X1tnXSkpe08mJmIuX19sb29rdXBHZXR0ZXJfXyhnKTt2YXIgaCxpLGo9cChiLGcpO2lmKGQmJiJmdW5jdGlvbiI9PXR5cGVvZiBqLnZhbHVlKWNbZ109byhnKTtlbHNle3ZhciBsPWsoZyk7aD1sP2EuZ2V0RXZlbnRIYW5kbGVyR2V0dGVyKGcpOm0oZyksKGoud3JpdGFibGV8fGouc2V0KSYmKGk9bD9hLmdldEV2ZW50SGFuZGxlclNldHRlcihnKTpuKGcpKSxLKGMsZyx7Z2V0Omgsc2V0OmksY29uZmlndXJhYmxlOmouY29uZmlndXJhYmxlLGVudW1lcmFibGU6ai5lbnVtZXJhYmxlfSl9fX19ZnVuY3Rpb24gcihhLGIsYyl7dmFyIGQ9YS5wcm90b3R5cGU7cyhkLGIsYyksZShiLGEpfWZ1bmN0aW9uIHMoYSxiLGQpe3ZhciBlPWIucHJvdG90eXBlO2Modm9pZCAwPT09Ry5nZXQoYSkpLEcuc2V0KGEsYiksSC5zZXQoZSxhKSxpKGEsZSksZCYmaihlLGQpLGcoZSwiY29uc3RydWN0b3IiLGIpLGIucHJvdG90eXBlPWV9ZnVuY3Rpb24gdChhLGIpe3JldHVybiBHLmdldChiLnByb3RvdHlwZSk9PT1hfWZ1bmN0aW9uIHUoYSl7dmFyIGI9T2JqZWN0LmdldFByb3RvdHlwZU9mKGEpLGM9aChiKSxkPXYoYyk7cmV0dXJuIHMoYixkLGEpLGR9ZnVuY3Rpb24gdihhKXtmdW5jdGlvbiBiKGIpe2EuY2FsbCh0aGlzLGIpfXZhciBjPU9iamVjdC5jcmVhdGUoYS5wcm90b3R5cGUpO3JldHVybiBjLmNvbnN0cnVjdG9yPWIsYi5wcm90b3R5cGU9YyxifWZ1bmN0aW9uIHcoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBJLkV2ZW50VGFyZ2V0fHxhIGluc3RhbmNlb2YgSS5FdmVudHx8YSBpbnN0YW5jZW9mIEkuUmFuZ2V8fGEgaW5zdGFuY2VvZiBJLkRPTUltcGxlbWVudGF0aW9ufHxhIGluc3RhbmNlb2YgSS5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkR8fEkuV2ViR0xSZW5kZXJpbmdDb250ZXh0JiZhIGluc3RhbmNlb2YgSS5XZWJHTFJlbmRlcmluZ0NvbnRleHR9ZnVuY3Rpb24geChhKXtyZXR1cm4gUiYmYSBpbnN0YW5jZW9mIFJ8fGEgaW5zdGFuY2VvZiBUfHxhIGluc3RhbmNlb2YgU3x8YSBpbnN0YW5jZW9mIFV8fGEgaW5zdGFuY2VvZiBWfHxhIGluc3RhbmNlb2YgUXx8YSBpbnN0YW5jZW9mIFd8fFgmJmEgaW5zdGFuY2VvZiBYfHxZJiZhIGluc3RhbmNlb2YgWX1mdW5jdGlvbiB5KGEpe3JldHVybiBudWxsPT09YT9udWxsOihjKHgoYSkpLGEucG9seW1lcldyYXBwZXJffHwoYS5wb2x5bWVyV3JhcHBlcl89bmV3KGgoYSkpKGEpKSl9ZnVuY3Rpb24geihhKXtyZXR1cm4gbnVsbD09PWE/bnVsbDooYyh3KGEpKSxhLmltcGwpfWZ1bmN0aW9uIEEoYSl7cmV0dXJuIGEmJncoYSk/eihhKTphfWZ1bmN0aW9uIEIoYSl7cmV0dXJuIGEmJiF3KGEpP3koYSk6YX1mdW5jdGlvbiBDKGEsYil7bnVsbCE9PWImJihjKHgoYSkpLGModm9pZCAwPT09Ynx8dyhiKSksYS5wb2x5bWVyV3JhcHBlcl89Yil9ZnVuY3Rpb24gRChhLGIsYyl7Wi5nZXQ9YyxLKGEucHJvdG90eXBlLGIsWil9ZnVuY3Rpb24gRShhLGIpe0QoYSxiLGZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcy5pbXBsW2JdKX0pfWZ1bmN0aW9uIEYoYSxiKXthLmZvckVhY2goZnVuY3Rpb24oYSl7Yi5mb3JFYWNoKGZ1bmN0aW9uKGIpe2EucHJvdG90eXBlW2JdPWZ1bmN0aW9uKCl7dmFyIGE9Qih0aGlzKTtyZXR1cm4gYVtiXS5hcHBseShhLGFyZ3VtZW50cyl9fSl9KX12YXIgRz1uZXcgV2Vha01hcCxIPW5ldyBXZWFrTWFwLEk9T2JqZWN0LmNyZWF0ZShudWxsKSxKPWIoKSxLPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxMPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLE09T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixOPXt2YWx1ZTp2b2lkIDAsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITB9O0wod2luZG93KTt2YXIgTz0vRmlyZWZveC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxQPXtnZXQ6ZnVuY3Rpb24oKXt9LHNldDpmdW5jdGlvbigpe30sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9LFE9d2luZG93LkRPTUltcGxlbWVudGF0aW9uLFI9d2luZG93LkV2ZW50VGFyZ2V0LFM9d2luZG93LkV2ZW50LFQ9d2luZG93Lk5vZGUsVT13aW5kb3cuV2luZG93LFY9d2luZG93LlJhbmdlLFc9d2luZG93LkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxYPXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQsWT13aW5kb3cuU1ZHRWxlbWVudEluc3RhbmNlLFo9e2dldDp2b2lkIDAsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9O2EuYXNzZXJ0PWMsYS5jb25zdHJ1Y3RvclRhYmxlPUcsYS5kZWZpbmVHZXR0ZXI9RCxhLmRlZmluZVdyYXBHZXR0ZXI9RSxhLmZvcndhcmRNZXRob2RzVG9XcmFwcGVyPUYsYS5pc1dyYXBwZXI9dyxhLmlzV3JhcHBlckZvcj10LGEubWl4aW49ZCxhLm5hdGl2ZVByb3RvdHlwZVRhYmxlPUgsYS5vbmVPZj1mLGEucmVnaXN0ZXJPYmplY3Q9dSxhLnJlZ2lzdGVyV3JhcHBlcj1yLGEucmV3cmFwPUMsYS51bndyYXA9eixhLnVud3JhcElmTmVlZGVkPUEsYS53cmFwPXksYS53cmFwSWZOZWVkZWQ9QixhLndyYXBwZXJzPUl9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoKXtnPSExO3ZhciBhPWYuc2xpY2UoMCk7Zj1bXTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdKCl9ZnVuY3Rpb24gYyhhKXtmLnB1c2goYSksZ3x8KGc9ITAsZChiLDApKX12YXIgZCxlPXdpbmRvdy5NdXRhdGlvbk9ic2VydmVyLGY9W10sZz0hMTtpZihlKXt2YXIgaD0xLGk9bmV3IGUoYiksaj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShoKTtpLm9ic2VydmUoaix7Y2hhcmFjdGVyRGF0YTohMH0pLGQ9ZnVuY3Rpb24oKXtoPShoKzEpJTIsai5kYXRhPWh9fWVsc2UgZD13aW5kb3cuc2V0SW1tZWRpYXRlfHx3aW5kb3cuc2V0VGltZW91dDthLnNldEVuZE9mTWljcm90YXNrPWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoKXtwfHwoayhjKSxwPSEwKX1mdW5jdGlvbiBjKCl7cD0hMTtkbyBmb3IodmFyIGE9by5zbGljZSgpLGI9ITEsYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1hW2NdLGU9ZC50YWtlUmVjb3JkcygpO2YoZCksZS5sZW5ndGgmJihkLmNhbGxiYWNrXyhlLGQpLGI9ITApfXdoaWxlKGIpfWZ1bmN0aW9uIGQoYSxiKXt0aGlzLnR5cGU9YSx0aGlzLnRhcmdldD1iLHRoaXMuYWRkZWROb2Rlcz1uZXcgbS5Ob2RlTGlzdCx0aGlzLnJlbW92ZWROb2Rlcz1uZXcgbS5Ob2RlTGlzdCx0aGlzLnByZXZpb3VzU2libGluZz1udWxsLHRoaXMubmV4dFNpYmxpbmc9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWU9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWVzcGFjZT1udWxsLHRoaXMub2xkVmFsdWU9bnVsbH1mdW5jdGlvbiBlKGEsYil7Zm9yKDthO2E9YS5wYXJlbnROb2RlKXt2YXIgYz1uLmdldChhKTtpZihjKWZvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO2Uub3B0aW9ucy5zdWJ0cmVlJiZlLmFkZFRyYW5zaWVudE9ic2VydmVyKGIpfX19ZnVuY3Rpb24gZihhKXtmb3IodmFyIGI9MDtiPGEubm9kZXNfLmxlbmd0aDtiKyspe3ZhciBjPWEubm9kZXNfW2JdLGQ9bi5nZXQoYyk7aWYoIWQpcmV0dXJuO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdO2Yub2JzZXJ2ZXI9PT1hJiZmLnJlbW92ZVRyYW5zaWVudE9ic2VydmVycygpfX19ZnVuY3Rpb24gZyhhLGMsZSl7Zm9yKHZhciBmPU9iamVjdC5jcmVhdGUobnVsbCksZz1PYmplY3QuY3JlYXRlKG51bGwpLGg9YTtoO2g9aC5wYXJlbnROb2RlKXt2YXIgaT1uLmdldChoKTtpZihpKWZvcih2YXIgaj0wO2o8aS5sZW5ndGg7aisrKXt2YXIgaz1pW2pdLGw9ay5vcHRpb25zO2lmKChoPT09YXx8bC5zdWJ0cmVlKSYmISgiYXR0cmlidXRlcyI9PT1jJiYhbC5hdHRyaWJ1dGVzfHwiYXR0cmlidXRlcyI9PT1jJiZsLmF0dHJpYnV0ZUZpbHRlciYmKG51bGwhPT1lLm5hbWVzcGFjZXx8LTE9PT1sLmF0dHJpYnV0ZUZpbHRlci5pbmRleE9mKGUubmFtZSkpfHwiY2hhcmFjdGVyRGF0YSI9PT1jJiYhbC5jaGFyYWN0ZXJEYXRhfHwiY2hpbGRMaXN0Ij09PWMmJiFsLmNoaWxkTGlzdCkpe3ZhciBtPWsub2JzZXJ2ZXI7ZlttLnVpZF9dPW0sKCJhdHRyaWJ1dGVzIj09PWMmJmwuYXR0cmlidXRlT2xkVmFsdWV8fCJjaGFyYWN0ZXJEYXRhIj09PWMmJmwuY2hhcmFjdGVyRGF0YU9sZFZhbHVlKSYmKGdbbS51aWRfXT1lLm9sZFZhbHVlKX19fXZhciBvPSExO2Zvcih2YXIgcCBpbiBmKXt2YXIgbT1mW3BdLHE9bmV3IGQoYyxhKTsibmFtZSJpbiBlJiYibmFtZXNwYWNlImluIGUmJihxLmF0dHJpYnV0ZU5hbWU9ZS5uYW1lLHEuYXR0cmlidXRlTmFtZXNwYWNlPWUubmFtZXNwYWNlKSxlLmFkZGVkTm9kZXMmJihxLmFkZGVkTm9kZXM9ZS5hZGRlZE5vZGVzKSxlLnJlbW92ZWROb2RlcyYmKHEucmVtb3ZlZE5vZGVzPWUucmVtb3ZlZE5vZGVzKSxlLnByZXZpb3VzU2libGluZyYmKHEucHJldmlvdXNTaWJsaW5nPWUucHJldmlvdXNTaWJsaW5nKSxlLm5leHRTaWJsaW5nJiYocS5uZXh0U2libGluZz1lLm5leHRTaWJsaW5nKSx2b2lkIDAhPT1nW3BdJiYocS5vbGRWYWx1ZT1nW3BdKSxtLnJlY29yZHNfLnB1c2gocSksbz0hMH1vJiZiKCl9ZnVuY3Rpb24gaChhKXtpZih0aGlzLmNoaWxkTGlzdD0hIWEuY2hpbGRMaXN0LHRoaXMuc3VidHJlZT0hIWEuc3VidHJlZSx0aGlzLmF0dHJpYnV0ZXM9ImF0dHJpYnV0ZXMiaW4gYXx8ISgiYXR0cmlidXRlT2xkVmFsdWUiaW4gYXx8ImF0dHJpYnV0ZUZpbHRlciJpbiBhKT8hIWEuYXR0cmlidXRlczohMCx0aGlzLmNoYXJhY3RlckRhdGE9ImNoYXJhY3RlckRhdGFPbGRWYWx1ZSJpbiBhJiYhKCJjaGFyYWN0ZXJEYXRhImluIGEpPyEwOiEhYS5jaGFyYWN0ZXJEYXRhLCF0aGlzLmF0dHJpYnV0ZXMmJihhLmF0dHJpYnV0ZU9sZFZhbHVlfHwiYXR0cmlidXRlRmlsdGVyImluIGEpfHwhdGhpcy5jaGFyYWN0ZXJEYXRhJiZhLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSl0aHJvdyBuZXcgVHlwZUVycm9yO2lmKHRoaXMuY2hhcmFjdGVyRGF0YT0hIWEuY2hhcmFjdGVyRGF0YSx0aGlzLmF0dHJpYnV0ZU9sZFZhbHVlPSEhYS5hdHRyaWJ1dGVPbGRWYWx1ZSx0aGlzLmNoYXJhY3RlckRhdGFPbGRWYWx1ZT0hIWEuY2hhcmFjdGVyRGF0YU9sZFZhbHVlLCJhdHRyaWJ1dGVGaWx0ZXIiaW4gYSl7aWYobnVsbD09YS5hdHRyaWJ1dGVGaWx0ZXJ8fCJvYmplY3QiIT10eXBlb2YgYS5hdHRyaWJ1dGVGaWx0ZXIpdGhyb3cgbmV3IFR5cGVFcnJvcjt0aGlzLmF0dHJpYnV0ZUZpbHRlcj1xLmNhbGwoYS5hdHRyaWJ1dGVGaWx0ZXIpfWVsc2UgdGhpcy5hdHRyaWJ1dGVGaWx0ZXI9bnVsbH1mdW5jdGlvbiBpKGEpe3RoaXMuY2FsbGJhY2tfPWEsdGhpcy5ub2Rlc189W10sdGhpcy5yZWNvcmRzXz1bXSx0aGlzLnVpZF89KytyLG8ucHVzaCh0aGlzKX1mdW5jdGlvbiBqKGEsYixjKXt0aGlzLm9ic2VydmVyPWEsdGhpcy50YXJnZXQ9Yix0aGlzLm9wdGlvbnM9Yyx0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W119dmFyIGs9YS5zZXRFbmRPZk1pY3JvdGFzayxsPWEud3JhcElmTmVlZGVkLG09YS53cmFwcGVycyxuPW5ldyBXZWFrTWFwLG89W10scD0hMSxxPUFycmF5LnByb3RvdHlwZS5zbGljZSxyPTA7aS5wcm90b3R5cGU9e29ic2VydmU6ZnVuY3Rpb24oYSxiKXthPWwoYSk7dmFyIGMsZD1uZXcgaChiKSxlPW4uZ2V0KGEpO2V8fG4uc2V0KGEsZT1bXSk7Zm9yKHZhciBmPTA7ZjxlLmxlbmd0aDtmKyspZVtmXS5vYnNlcnZlcj09PXRoaXMmJihjPWVbZl0sYy5yZW1vdmVUcmFuc2llbnRPYnNlcnZlcnMoKSxjLm9wdGlvbnM9ZCk7Y3x8KGM9bmV3IGoodGhpcyxhLGQpLGUucHVzaChjKSx0aGlzLm5vZGVzXy5wdXNoKGEpKX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe3RoaXMubm9kZXNfLmZvckVhY2goZnVuY3Rpb24oYSl7Zm9yKHZhciBiPW4uZ2V0KGEpLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTtpZihkLm9ic2VydmVyPT09dGhpcyl7Yi5zcGxpY2UoYywxKTticmVha319fSx0aGlzKSx0aGlzLnJlY29yZHNfPVtdfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe3ZhciBhPXRoaXMucmVjb3Jkc187cmV0dXJuIHRoaXMucmVjb3Jkc189W10sYX19LGoucHJvdG90eXBlPXthZGRUcmFuc2llbnRPYnNlcnZlcjpmdW5jdGlvbihhKXtpZihhIT09dGhpcy50YXJnZXQpe3RoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcy5wdXNoKGEpO3ZhciBiPW4uZ2V0KGEpO2J8fG4uc2V0KGEsYj1bXSksYi5wdXNoKHRoaXMpfX0scmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzO3RoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylmb3IodmFyIGM9YVtiXSxkPW4uZ2V0KGMpLGU9MDtlPGQubGVuZ3RoO2UrKylpZihkW2VdPT09dGhpcyl7ZC5zcGxpY2UoZSwxKTticmVha319fSxhLmVucXVldWVNdXRhdGlvbj1nLGEucmVnaXN0ZXJUcmFuc2llbnRPYnNlcnZlcnM9ZSxhLndyYXBwZXJzLk11dGF0aW9uT2JzZXJ2ZXI9aSxhLndyYXBwZXJzLk11dGF0aW9uUmVjb3JkPWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiKXt0aGlzLnJvb3Q9YSx0aGlzLnBhcmVudD1ifWZ1bmN0aW9uIGMoYSxiKXtpZihhLnRyZWVTY29wZV8hPT1iKXthLnRyZWVTY29wZV89Yjtmb3IodmFyIGQ9YS5zaGFkb3dSb290O2Q7ZD1kLm9sZGVyU2hhZG93Um9vdClkLnRyZWVTY29wZV8ucGFyZW50PWI7Zm9yKHZhciBlPWEuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyljKGUsYil9fWZ1bmN0aW9uIGQoYyl7aWYoYyBpbnN0YW5jZW9mIGEud3JhcHBlcnMuV2luZG93LGMudHJlZVNjb3BlXylyZXR1cm4gYy50cmVlU2NvcGVfO3ZhciBlLGY9Yy5wYXJlbnROb2RlO3JldHVybiBlPWY/ZChmKTpuZXcgYihjLG51bGwpLGMudHJlZVNjb3BlXz1lfWIucHJvdG90eXBlPXtnZXQgcmVuZGVyZXIoKXtyZXR1cm4gdGhpcy5yb290IGluc3RhbmNlb2YgYS53cmFwcGVycy5TaGFkb3dSb290P2EuZ2V0UmVuZGVyZXJGb3JIb3N0KHRoaXMucm9vdC5ob3N0KTpudWxsfSxjb250YWluczpmdW5jdGlvbihhKXtmb3IoO2E7YT1hLnBhcmVudClpZihhPT09dGhpcylyZXR1cm4hMDtyZXR1cm4hMX19LGEuVHJlZVNjb3BlPWIsYS5nZXRUcmVlU2NvcGU9ZCxhLnNldFRyZWVTY29wZT1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3JldHVybiBhIGluc3RhbmNlb2YgUS5TaGFkb3dSb290fWZ1bmN0aW9uIGMoYSl7cmV0dXJuIEwoYSkucm9vdH1mdW5jdGlvbiBkKGEsZCl7dmFyIGg9W10saT1hO2ZvcihoLnB1c2goaSk7aTspe3ZhciBqPWcoaSk7aWYoaiYmai5sZW5ndGg+MCl7Zm9yKHZhciBrPTA7azxqLmxlbmd0aDtrKyspe3ZhciBtPWpba107aWYoZihtKSl7dmFyIG49YyhtKSxvPW4ub2xkZXJTaGFkb3dSb290O28mJmgucHVzaChvKX1oLnB1c2gobSl9aT1qW2oubGVuZ3RoLTFdfWVsc2UgaWYoYihpKSl7aWYobChhLGkpJiZlKGQpKWJyZWFrO2k9aS5ob3N0LGgucHVzaChpKX1lbHNlIGk9aS5wYXJlbnROb2RlLGkmJmgucHVzaChpKX1yZXR1cm4gaH1mdW5jdGlvbiBlKGEpe2lmKCFhKXJldHVybiExO3N3aXRjaChhLnR5cGUpe2Nhc2UiYWJvcnQiOmNhc2UiZXJyb3IiOmNhc2Uic2VsZWN0IjpjYXNlImNoYW5nZSI6Y2FzZSJsb2FkIjpjYXNlInJlc2V0IjpjYXNlInJlc2l6ZSI6Y2FzZSJzY3JvbGwiOmNhc2Uic2VsZWN0c3RhcnQiOnJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIGYoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBIVE1MU2hhZG93RWxlbWVudH1mdW5jdGlvbiBnKGIpe3JldHVybiBhLmdldERlc3RpbmF0aW9uSW5zZXJ0aW9uUG9pbnRzKGIpfWZ1bmN0aW9uIGgoYSxiKXtpZigwPT09YS5sZW5ndGgpcmV0dXJuIGI7YiBpbnN0YW5jZW9mIFEuV2luZG93JiYoYj1iLmRvY3VtZW50KTtmb3IodmFyIGM9TChiKSxkPWFbMF0sZT1MKGQpLGY9aihjLGUpLGc9MDtnPGEubGVuZ3RoO2crKyl7dmFyIGg9YVtnXTtpZihMKGgpPT09ZilyZXR1cm4gaH1yZXR1cm4gYVthLmxlbmd0aC0xXX1mdW5jdGlvbiBpKGEpe2Zvcih2YXIgYj1bXTthO2E9YS5wYXJlbnQpYi5wdXNoKGEpO3JldHVybiBifWZ1bmN0aW9uIGooYSxiKXtmb3IodmFyIGM9aShhKSxkPWkoYiksZT1udWxsO2MubGVuZ3RoPjAmJmQubGVuZ3RoPjA7KXt2YXIgZj1jLnBvcCgpLGc9ZC5wb3AoKTtpZihmIT09ZylicmVhaztlPWZ9cmV0dXJuIGV9ZnVuY3Rpb24gayhhLGIsYyl7YiBpbnN0YW5jZW9mIFEuV2luZG93JiYoYj1iLmRvY3VtZW50KTt2YXIgZSxmPUwoYiksZz1MKGMpLGg9ZChjLGEpLGU9aihmLGcpO2V8fChlPWcucm9vdCk7Zm9yKHZhciBpPWU7aTtpPWkucGFyZW50KWZvcih2YXIgaz0wO2s8aC5sZW5ndGg7aysrKXt2YXIgbD1oW2tdO2lmKEwobCk9PT1pKXJldHVybiBsfXJldHVybiBudWxsfWZ1bmN0aW9uIGwoYSxiKXtyZXR1cm4gTChhKT09PUwoYil9ZnVuY3Rpb24gbShhKXtpZighUy5nZXQoYSkmJihTLnNldChhLCEwKSxuKFAoYSksUChhLnRhcmdldCkpLEopKXt2YXIgYj1KO3Rocm93IEo9bnVsbCxifX1mdW5jdGlvbiBuKGIsYyl7aWYoVC5nZXQoYikpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkU3RhdGVFcnJvciIpO1Quc2V0KGIsITApLGEucmVuZGVyQWxsUGVuZGluZygpO3ZhciBlLGYsZyxoPWIudHlwZTtpZigibG9hZCI9PT1oJiYhYi5idWJibGVzKXt2YXIgaT1jO2kgaW5zdGFuY2VvZiBRLkRvY3VtZW50JiYoZz1pLmRlZmF1bHRWaWV3KSYmKGY9aSxlPVtdKX1pZighZSlpZihjIGluc3RhbmNlb2YgUS5XaW5kb3cpZz1jLGU9W107ZWxzZSBpZihlPWQoYyxiKSwibG9hZCIhPT1iLnR5cGUpe3ZhciBpPWVbZS5sZW5ndGgtMV07aSBpbnN0YW5jZW9mIFEuRG9jdW1lbnQmJihnPWkuZGVmYXVsdFZpZXcpfXJldHVybiBfLnNldChiLGUpLG8oYixlLGcsZikmJnAoYixlLGcsZikmJnEoYixlLGcsZiksWC5zZXQoYixhYiksVi5kZWxldGUoYixudWxsKSxULmRlbGV0ZShiKSxiLmRlZmF1bHRQcmV2ZW50ZWR9ZnVuY3Rpb24gbyhhLGIsYyxkKXt2YXIgZT1iYjtpZihjJiYhcihjLGEsZSxiLGQpKXJldHVybiExO2Zvcih2YXIgZj1iLmxlbmd0aC0xO2Y+MDtmLS0paWYoIXIoYltmXSxhLGUsYixkKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBwKGEsYixjLGQpe3ZhciBlPWNiLGY9YlswXXx8YztyZXR1cm4gcihmLGEsZSxiLGQpfWZ1bmN0aW9uIHEoYSxiLGMsZCl7Zm9yKHZhciBlPWRiLGY9MTtmPGIubGVuZ3RoO2YrKylpZighcihiW2ZdLGEsZSxiLGQpKXJldHVybjtjJiZiLmxlbmd0aD4wJiZyKGMsYSxlLGIsZCl9ZnVuY3Rpb24gcihhLGIsYyxkLGUpe3ZhciBmPVIuZ2V0KGEpO2lmKCFmKXJldHVybiEwO3ZhciBnPWV8fGgoZCxhKTtpZihnPT09YSl7aWYoYz09PWJiKXJldHVybiEwO2M9PT1kYiYmKGM9Y2IpfWVsc2UgaWYoYz09PWRiJiYhYi5idWJibGVzKXJldHVybiEwO2lmKCJyZWxhdGVkVGFyZ2V0ImluIGIpe3ZhciBpPU8oYiksaj1pLnJlbGF0ZWRUYXJnZXQ7aWYoail7aWYoaiBpbnN0YW5jZW9mIE9iamVjdCYmai5hZGRFdmVudExpc3RlbmVyKXt2YXIgbD1QKGopLG09ayhiLGEsbCk7aWYobT09PWcpcmV0dXJuITB9ZWxzZSBtPW51bGw7Vy5zZXQoYixtKX19WC5zZXQoYixjKTt2YXIgbj1iLnR5cGUsbz0hMTtVLnNldChiLGcpLFYuc2V0KGIsYSk7Zm9yKHZhciBwPTA7cDxmLmxlbmd0aDtwKyspe3ZhciBxPWZbcF07aWYocS5yZW1vdmVkKW89ITA7ZWxzZSBpZighKHEudHlwZSE9PW58fCFxLmNhcHR1cmUmJmM9PT1iYnx8cS5jYXB0dXJlJiZjPT09ZGIpKXRyeXtpZigiZnVuY3Rpb24iPT10eXBlb2YgcS5oYW5kbGVyP3EuaGFuZGxlci5jYWxsKGEsYik6cS5oYW5kbGVyLmhhbmRsZUV2ZW50KGIpLFouZ2V0KGIpKXJldHVybiExCn1jYXRjaChyKXtKfHwoSj1yKX19aWYobyl7dmFyIHM9Zi5zbGljZSgpO2YubGVuZ3RoPTA7Zm9yKHZhciBwPTA7cDxzLmxlbmd0aDtwKyspc1twXS5yZW1vdmVkfHxmLnB1c2goc1twXSl9cmV0dXJuIVkuZ2V0KGIpfWZ1bmN0aW9uIHMoYSxiLGMpe3RoaXMudHlwZT1hLHRoaXMuaGFuZGxlcj1iLHRoaXMuY2FwdHVyZT1Cb29sZWFuKGMpfWZ1bmN0aW9uIHQoYSxiKXtpZighKGEgaW5zdGFuY2VvZiBlYikpcmV0dXJuIFAoeChlYiwiRXZlbnQiLGEsYikpO3ZhciBjPWE7cmV0dXJuIHBifHwiYmVmb3JldW5sb2FkIiE9PWMudHlwZT92b2lkKHRoaXMuaW1wbD1jKTpuZXcgeShjKX1mdW5jdGlvbiB1KGEpe3JldHVybiBhJiZhLnJlbGF0ZWRUYXJnZXQ/T2JqZWN0LmNyZWF0ZShhLHtyZWxhdGVkVGFyZ2V0Ont2YWx1ZTpPKGEucmVsYXRlZFRhcmdldCl9fSk6YX1mdW5jdGlvbiB2KGEsYixjKXt2YXIgZD13aW5kb3dbYV0sZT1mdW5jdGlvbihiLGMpe3JldHVybiBiIGluc3RhbmNlb2YgZD92b2lkKHRoaXMuaW1wbD1iKTpQKHgoZCxhLGIsYykpfTtpZihlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxjJiZNKGUucHJvdG90eXBlLGMpLGQpdHJ5e04oZCxlLG5ldyBkKCJ0ZW1wIikpfWNhdGNoKGYpe04oZCxlLGRvY3VtZW50LmNyZWF0ZUV2ZW50KGEpKX1yZXR1cm4gZX1mdW5jdGlvbiB3KGEsYil7cmV0dXJuIGZ1bmN0aW9uKCl7YXJndW1lbnRzW2JdPU8oYXJndW1lbnRzW2JdKTt2YXIgYz1PKHRoaXMpO2NbYV0uYXBwbHkoYyxhcmd1bWVudHMpfX1mdW5jdGlvbiB4KGEsYixjLGQpe2lmKG5iKXJldHVybiBuZXcgYShjLHUoZCkpO3ZhciBlPU8oZG9jdW1lbnQuY3JlYXRlRXZlbnQoYikpLGY9bWJbYl0sZz1bY107cmV0dXJuIE9iamVjdC5rZXlzKGYpLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9bnVsbCE9ZCYmYSBpbiBkP2RbYV06ZlthXTsicmVsYXRlZFRhcmdldCI9PT1hJiYoYj1PKGIpKSxnLnB1c2goYil9KSxlWyJpbml0IitiXS5hcHBseShlLGcpLGV9ZnVuY3Rpb24geShhKXt0LmNhbGwodGhpcyxhKX1mdW5jdGlvbiB6KGEpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBhPyEwOmEmJmEuaGFuZGxlRXZlbnR9ZnVuY3Rpb24gQShhKXtzd2l0Y2goYSl7Y2FzZSJET01BdHRyTW9kaWZpZWQiOmNhc2UiRE9NQXR0cmlidXRlTmFtZUNoYW5nZWQiOmNhc2UiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIjpjYXNlIkRPTUVsZW1lbnROYW1lQ2hhbmdlZCI6Y2FzZSJET01Ob2RlSW5zZXJ0ZWQiOmNhc2UiRE9NTm9kZUluc2VydGVkSW50b0RvY3VtZW50IjpjYXNlIkRPTU5vZGVSZW1vdmVkIjpjYXNlIkRPTU5vZGVSZW1vdmVkRnJvbURvY3VtZW50IjpjYXNlIkRPTVN1YnRyZWVNb2RpZmllZCI6cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gQihhKXt0aGlzLmltcGw9YX1mdW5jdGlvbiBDKGEpe3JldHVybiBhIGluc3RhbmNlb2YgUS5TaGFkb3dSb290JiYoYT1hLmhvc3QpLE8oYSl9ZnVuY3Rpb24gRChhLGIpe3ZhciBjPVIuZ2V0KGEpO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspaWYoIWNbZF0ucmVtb3ZlZCYmY1tkXS50eXBlPT09YilyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBFKGEsYil7Zm9yKHZhciBjPU8oYSk7YztjPWMucGFyZW50Tm9kZSlpZihEKFAoYyksYikpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gRihhKXtLKGEscmIpfWZ1bmN0aW9uIEcoYixjLGUsZil7YS5yZW5kZXJBbGxQZW5kaW5nKCk7dmFyIGc9UChzYi5jYWxsKGMuaW1wbCxlLGYpKSxpPWQoZyxudWxsKTtyZXR1cm4gaChpLGIpfWZ1bmN0aW9uIEgoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9JC5nZXQodGhpcyk7cmV0dXJuIGImJmJbYV0mJmJbYV0udmFsdWV8fG51bGx9fWZ1bmN0aW9uIEkoYSl7dmFyIGI9YS5zbGljZSgyKTtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGQ9JC5nZXQodGhpcyk7ZHx8KGQ9T2JqZWN0LmNyZWF0ZShudWxsKSwkLnNldCh0aGlzLGQpKTt2YXIgZT1kW2FdO2lmKGUmJnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGUud3JhcHBlZCwhMSksImZ1bmN0aW9uIj09dHlwZW9mIGMpe3ZhciBmPWZ1bmN0aW9uKGIpe3ZhciBkPWMuY2FsbCh0aGlzLGIpO2Q9PT0hMT9iLnByZXZlbnREZWZhdWx0KCk6Im9uYmVmb3JldW5sb2FkIj09PWEmJiJzdHJpbmciPT10eXBlb2YgZCYmKGIucmV0dXJuVmFsdWU9ZCl9O3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihiLGYsITEpLGRbYV09e3ZhbHVlOmMsd3JhcHBlZDpmfX19fXZhciBKLEs9YS5mb3J3YXJkTWV0aG9kc1RvV3JhcHBlcixMPWEuZ2V0VHJlZVNjb3BlLE09YS5taXhpbixOPWEucmVnaXN0ZXJXcmFwcGVyLE89YS51bndyYXAsUD1hLndyYXAsUT1hLndyYXBwZXJzLFI9KG5ldyBXZWFrTWFwLG5ldyBXZWFrTWFwKSxTPW5ldyBXZWFrTWFwLFQ9bmV3IFdlYWtNYXAsVT1uZXcgV2Vha01hcCxWPW5ldyBXZWFrTWFwLFc9bmV3IFdlYWtNYXAsWD1uZXcgV2Vha01hcCxZPW5ldyBXZWFrTWFwLFo9bmV3IFdlYWtNYXAsJD1uZXcgV2Vha01hcCxfPW5ldyBXZWFrTWFwLGFiPTAsYmI9MSxjYj0yLGRiPTM7cy5wcm90b3R5cGU9e2VxdWFsczpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYW5kbGVyPT09YS5oYW5kbGVyJiZ0aGlzLnR5cGU9PT1hLnR5cGUmJnRoaXMuY2FwdHVyZT09PWEuY2FwdHVyZX0sZ2V0IHJlbW92ZWQoKXtyZXR1cm4gbnVsbD09PXRoaXMuaGFuZGxlcn0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVyPW51bGx9fTt2YXIgZWI9d2luZG93LkV2ZW50O2ViLnByb3RvdHlwZS5wb2x5bWVyQmxhY2tMaXN0Xz17cmV0dXJuVmFsdWU6ITAsa2V5TG9jYXRpb246ITB9LHQucHJvdG90eXBlPXtnZXQgdGFyZ2V0KCl7cmV0dXJuIFUuZ2V0KHRoaXMpfSxnZXQgY3VycmVudFRhcmdldCgpe3JldHVybiBWLmdldCh0aGlzKX0sZ2V0IGV2ZW50UGhhc2UoKXtyZXR1cm4gWC5nZXQodGhpcyl9LGdldCBwYXRoKCl7dmFyIGE9bmV3IFEuTm9kZUxpc3QsYj1fLmdldCh0aGlzKTtpZihiKXtmb3IodmFyIGM9MCxkPWIubGVuZ3RoLTEsZT1MKFYuZ2V0KHRoaXMpKSxmPTA7ZD49ZjtmKyspe3ZhciBnPWJbZl0saD1MKGcpO2guY29udGFpbnMoZSkmJihmIT09ZHx8ZyBpbnN0YW5jZW9mIFEuTm9kZSkmJihhW2MrK109Zyl9YS5sZW5ndGg9Y31yZXR1cm4gYX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7WS5zZXQodGhpcywhMCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe1kuc2V0KHRoaXMsITApLFouc2V0KHRoaXMsITApfX0sTihlYix0LGRvY3VtZW50LmNyZWF0ZUV2ZW50KCJFdmVudCIpKTt2YXIgZmI9digiVUlFdmVudCIsdCksZ2I9digiQ3VzdG9tRXZlbnQiLHQpLGhiPXtnZXQgcmVsYXRlZFRhcmdldCgpe3ZhciBhPVcuZ2V0KHRoaXMpO3JldHVybiB2b2lkIDAhPT1hP2E6UChPKHRoaXMpLnJlbGF0ZWRUYXJnZXQpfX0saWI9TSh7aW5pdE1vdXNlRXZlbnQ6dygiaW5pdE1vdXNlRXZlbnQiLDE0KX0saGIpLGpiPU0oe2luaXRGb2N1c0V2ZW50OncoImluaXRGb2N1c0V2ZW50Iiw1KX0saGIpLGtiPXYoIk1vdXNlRXZlbnQiLGZiLGliKSxsYj12KCJGb2N1c0V2ZW50IixmYixqYiksbWI9T2JqZWN0LmNyZWF0ZShudWxsKSxuYj1mdW5jdGlvbigpe3RyeXtuZXcgd2luZG93LkZvY3VzRXZlbnQoImZvY3VzIil9Y2F0Y2goYSl7cmV0dXJuITF9cmV0dXJuITB9KCk7aWYoIW5iKXt2YXIgb2I9ZnVuY3Rpb24oYSxiLGMpe2lmKGMpe3ZhciBkPW1iW2NdO2I9TShNKHt9LGQpLGIpfW1iW2FdPWJ9O29iKCJFdmVudCIse2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMX0pLG9iKCJDdXN0b21FdmVudCIse2RldGFpbDpudWxsfSwiRXZlbnQiKSxvYigiVUlFdmVudCIse3ZpZXc6bnVsbCxkZXRhaWw6MH0sIkV2ZW50Iiksb2IoIk1vdXNlRXZlbnQiLHtzY3JlZW5YOjAsc2NyZWVuWTowLGNsaWVudFg6MCxjbGllbnRZOjAsY3RybEtleTohMSxhbHRLZXk6ITEsc2hpZnRLZXk6ITEsbWV0YUtleTohMSxidXR0b246MCxyZWxhdGVkVGFyZ2V0Om51bGx9LCJVSUV2ZW50Iiksb2IoIkZvY3VzRXZlbnQiLHtyZWxhdGVkVGFyZ2V0Om51bGx9LCJVSUV2ZW50Iil9dmFyIHBiPXdpbmRvdy5CZWZvcmVVbmxvYWRFdmVudDt5LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlKSxNKHkucHJvdG90eXBlLHtnZXQgcmV0dXJuVmFsdWUoKXtyZXR1cm4gdGhpcy5pbXBsLnJldHVyblZhbHVlfSxzZXQgcmV0dXJuVmFsdWUoYSl7dGhpcy5pbXBsLnJldHVyblZhbHVlPWF9fSkscGImJk4ocGIseSk7dmFyIHFiPXdpbmRvdy5FdmVudFRhcmdldCxyYj1bImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzcGF0Y2hFdmVudCJdO1tOb2RlLFdpbmRvd10uZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1hLnByb3RvdHlwZTtyYi5mb3JFYWNoKGZ1bmN0aW9uKGEpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLGErIl8iLHt2YWx1ZTpiW2FdfSl9KX0pLEIucHJvdG90eXBlPXthZGRFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGEsYixjKXtpZih6KGIpJiYhQShhKSl7dmFyIGQ9bmV3IHMoYSxiLGMpLGU9Ui5nZXQodGhpcyk7aWYoZSl7Zm9yKHZhciBmPTA7ZjxlLmxlbmd0aDtmKyspaWYoZC5lcXVhbHMoZVtmXSkpcmV0dXJufWVsc2UgZT1bXSxSLnNldCh0aGlzLGUpO2UucHVzaChkKTt2YXIgZz1DKHRoaXMpO2cuYWRkRXZlbnRMaXN0ZW5lcl8oYSxtLCEwKX19LHJlbW92ZUV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oYSxiLGMpe2M9Qm9vbGVhbihjKTt2YXIgZD1SLmdldCh0aGlzKTtpZihkKXtmb3IodmFyIGU9MCxmPSExLGc9MDtnPGQubGVuZ3RoO2crKylkW2ddLnR5cGU9PT1hJiZkW2ddLmNhcHR1cmU9PT1jJiYoZSsrLGRbZ10uaGFuZGxlcj09PWImJihmPSEwLGRbZ10ucmVtb3ZlKCkpKTtpZihmJiYxPT09ZSl7dmFyIGg9Qyh0aGlzKTtoLnJlbW92ZUV2ZW50TGlzdGVuZXJfKGEsbSwhMCl9fX0sZGlzcGF0Y2hFdmVudDpmdW5jdGlvbihiKXt2YXIgYz1PKGIpLGQ9Yy50eXBlO1Muc2V0KGMsITEpLGEucmVuZGVyQWxsUGVuZGluZygpO3ZhciBlO0UodGhpcyxkKXx8KGU9ZnVuY3Rpb24oKXt9LHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihkLGUsITApKTt0cnl7cmV0dXJuIE8odGhpcykuZGlzcGF0Y2hFdmVudF8oYyl9ZmluYWxseXtlJiZ0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCxlLCEwKX19fSxxYiYmTihxYixCKTt2YXIgc2I9ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludDthLmVsZW1lbnRGcm9tUG9pbnQ9RyxhLmdldEV2ZW50SGFuZGxlckdldHRlcj1ILGEuZ2V0RXZlbnRIYW5kbGVyU2V0dGVyPUksYS53cmFwRXZlbnRUYXJnZXRNZXRob2RzPUYsYS53cmFwcGVycy5CZWZvcmVVbmxvYWRFdmVudD15LGEud3JhcHBlcnMuQ3VzdG9tRXZlbnQ9Z2IsYS53cmFwcGVycy5FdmVudD10LGEud3JhcHBlcnMuRXZlbnRUYXJnZXQ9QixhLndyYXBwZXJzLkZvY3VzRXZlbnQ9bGIsYS53cmFwcGVycy5Nb3VzZUV2ZW50PWtiLGEud3JhcHBlcnMuVUlFdmVudD1mYn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGIsbyl9ZnVuY3Rpb24gYyhhKXt0aGlzLmltcGw9YX1mdW5jdGlvbiBkKCl7dGhpcy5sZW5ndGg9MCxiKHRoaXMsImxlbmd0aCIpfWZ1bmN0aW9uIGUoYSl7Zm9yKHZhciBiPW5ldyBkLGU9MDtlPGEubGVuZ3RoO2UrKyliW2VdPW5ldyBjKGFbZV0pO3JldHVybiBiLmxlbmd0aD1lLGJ9ZnVuY3Rpb24gZihhKXtnLmNhbGwodGhpcyxhKX12YXIgZz1hLndyYXBwZXJzLlVJRXZlbnQsaD1hLm1peGluLGk9YS5yZWdpc3RlcldyYXBwZXIsaj1hLnVud3JhcCxrPWEud3JhcCxsPXdpbmRvdy5Ub3VjaEV2ZW50O2lmKGwpe3ZhciBtO3RyeXttPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJUb3VjaEV2ZW50Iil9Y2F0Y2gobil7cmV0dXJufXZhciBvPXtlbnVtZXJhYmxlOiExfTtjLnByb3RvdHlwZT17Z2V0IHRhcmdldCgpe3JldHVybiBrKHRoaXMuaW1wbC50YXJnZXQpfX07dmFyIHA9e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpudWxsfTtbImNsaWVudFgiLCJjbGllbnRZIiwic2NyZWVuWCIsInNjcmVlblkiLCJwYWdlWCIsInBhZ2VZIiwiaWRlbnRpZmllciIsIndlYmtpdFJhZGl1c1giLCJ3ZWJraXRSYWRpdXNZIiwid2Via2l0Um90YXRpb25BbmdsZSIsIndlYmtpdEZvcmNlIl0uZm9yRWFjaChmdW5jdGlvbihhKXtwLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmltcGxbYV19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjLnByb3RvdHlwZSxhLHApfSksZC5wcm90b3R5cGU9e2l0ZW06ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXNbYV19fSxmLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGcucHJvdG90eXBlKSxoKGYucHJvdG90eXBlLHtnZXQgdG91Y2hlcygpe3JldHVybiBlKGoodGhpcykudG91Y2hlcyl9LGdldCB0YXJnZXRUb3VjaGVzKCl7cmV0dXJuIGUoaih0aGlzKS50YXJnZXRUb3VjaGVzKX0sZ2V0IGNoYW5nZWRUb3VjaGVzKCl7cmV0dXJuIGUoaih0aGlzKS5jaGFuZ2VkVG91Y2hlcyl9LGluaXRUb3VjaEV2ZW50OmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJOb3QgaW1wbGVtZW50ZWQiKX19KSxpKGwsZixtKSxhLndyYXBwZXJzLlRvdWNoPWMsYS53cmFwcGVycy5Ub3VjaEV2ZW50PWYsYS53cmFwcGVycy5Ub3VjaExpc3Q9ZH19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLGcpfWZ1bmN0aW9uIGMoKXt0aGlzLmxlbmd0aD0wLGIodGhpcywibGVuZ3RoIil9ZnVuY3Rpb24gZChhKXtpZihudWxsPT1hKXJldHVybiBhO2Zvcih2YXIgYj1uZXcgYyxkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKWJbZF09ZihhW2RdKTtyZXR1cm4gYi5sZW5ndGg9ZSxifWZ1bmN0aW9uIGUoYSxiKXthLnByb3RvdHlwZVtiXT1mdW5jdGlvbigpe3JldHVybiBkKHRoaXMuaW1wbFtiXS5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKSl9fXZhciBmPWEud3JhcCxnPXtlbnVtZXJhYmxlOiExfTtjLnByb3RvdHlwZT17aXRlbTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpc1thXX19LGIoYy5wcm90b3R5cGUsIml0ZW0iKSxhLndyYXBwZXJzLk5vZGVMaXN0PWMsYS5hZGRXcmFwTm9kZUxpc3RNZXRob2Q9ZSxhLndyYXBOb2RlTGlzdD1kfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjthLndyYXBIVE1MQ29sbGVjdGlvbj1hLndyYXBOb2RlTGlzdCxhLndyYXBwZXJzLkhUTUxDb2xsZWN0aW9uPWEud3JhcHBlcnMuTm9kZUxpc3R9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7QShhIGluc3RhbmNlb2Ygdyl9ZnVuY3Rpb24gYyhhKXt2YXIgYj1uZXcgeTtyZXR1cm4gYlswXT1hLGIubGVuZ3RoPTEsYn1mdW5jdGlvbiBkKGEsYixjKXtDKGIsImNoaWxkTGlzdCIse3JlbW92ZWROb2RlczpjLHByZXZpb3VzU2libGluZzphLnByZXZpb3VzU2libGluZyxuZXh0U2libGluZzphLm5leHRTaWJsaW5nfSl9ZnVuY3Rpb24gZShhLGIpe0MoYSwiY2hpbGRMaXN0Iix7cmVtb3ZlZE5vZGVzOmJ9KX1mdW5jdGlvbiBmKGEsYixkLGUpe2lmKGEgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KXt2YXIgZj1oKGEpO089ITA7Zm9yKHZhciBnPWYubGVuZ3RoLTE7Zz49MDtnLS0pYS5yZW1vdmVDaGlsZChmW2ddKSxmW2ddLnBhcmVudE5vZGVfPWI7Tz0hMTtmb3IodmFyIGc9MDtnPGYubGVuZ3RoO2crKylmW2ddLnByZXZpb3VzU2libGluZ189ZltnLTFdfHxkLGZbZ10ubmV4dFNpYmxpbmdfPWZbZysxXXx8ZTtyZXR1cm4gZCYmKGQubmV4dFNpYmxpbmdfPWZbMF0pLGUmJihlLnByZXZpb3VzU2libGluZ189ZltmLmxlbmd0aC0xXSksZn12YXIgZj1jKGEpLGk9YS5wYXJlbnROb2RlO3JldHVybiBpJiZpLnJlbW92ZUNoaWxkKGEpLGEucGFyZW50Tm9kZV89YixhLnByZXZpb3VzU2libGluZ189ZCxhLm5leHRTaWJsaW5nXz1lLGQmJihkLm5leHRTaWJsaW5nXz1hKSxlJiYoZS5wcmV2aW91c1NpYmxpbmdfPWEpLGZ9ZnVuY3Rpb24gZyhhKXtpZihhIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudClyZXR1cm4gaChhKTt2YXIgYj1jKGEpLGU9YS5wYXJlbnROb2RlO3JldHVybiBlJiZkKGEsZSxiKSxifWZ1bmN0aW9uIGgoYSl7Zm9yKHZhciBiPW5ldyB5LGM9MCxkPWEuZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZyliW2MrK109ZDtyZXR1cm4gYi5sZW5ndGg9YyxlKGEsYiksYn1mdW5jdGlvbiBpKGEpe3JldHVybiBhfWZ1bmN0aW9uIGooYSxiKXtJKGEsYiksYS5ub2RlSXNJbnNlcnRlZF8oKX1mdW5jdGlvbiBrKGEsYil7Zm9yKHZhciBjPUQoYiksZD0wO2Q8YS5sZW5ndGg7ZCsrKWooYVtkXSxjKX1mdW5jdGlvbiBsKGEpe0koYSxuZXcgeihhLG51bGwpKX1mdW5jdGlvbiBtKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWwoYVtiXSl9ZnVuY3Rpb24gbihhLGIpe3ZhciBjPWEubm9kZVR5cGU9PT13LkRPQ1VNRU5UX05PREU/YTphLm93bmVyRG9jdW1lbnQ7YyE9PWIub3duZXJEb2N1bWVudCYmYy5hZG9wdE5vZGUoYil9ZnVuY3Rpb24gbyhiLGMpe2lmKGMubGVuZ3RoKXt2YXIgZD1iLm93bmVyRG9jdW1lbnQ7aWYoZCE9PWNbMF0ub3duZXJEb2N1bWVudClmb3IodmFyIGU9MDtlPGMubGVuZ3RoO2UrKylhLmFkb3B0Tm9kZU5vUmVtb3ZlKGNbZV0sZCl9fWZ1bmN0aW9uIHAoYSxiKXtvKGEsYik7dmFyIGM9Yi5sZW5ndGg7aWYoMT09PWMpcmV0dXJuIEooYlswXSk7Zm9yKHZhciBkPUooYS5vd25lckRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSksZT0wO2M+ZTtlKyspZC5hcHBlbmRDaGlsZChKKGJbZV0pKTtyZXR1cm4gZH1mdW5jdGlvbiBxKGEpe2lmKHZvaWQgMCE9PWEuZmlyc3RDaGlsZF8pZm9yKHZhciBiPWEuZmlyc3RDaGlsZF87Yjspe3ZhciBjPWI7Yj1iLm5leHRTaWJsaW5nXyxjLnBhcmVudE5vZGVfPWMucHJldmlvdXNTaWJsaW5nXz1jLm5leHRTaWJsaW5nXz12b2lkIDB9YS5maXJzdENoaWxkXz1hLmxhc3RDaGlsZF89dm9pZCAwfWZ1bmN0aW9uIHIoYSl7aWYoYS5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSl7Zm9yKHZhciBiPWEuZmlyc3RDaGlsZDtiOyl7QShiLnBhcmVudE5vZGU9PT1hKTt2YXIgYz1iLm5leHRTaWJsaW5nLGQ9SihiKSxlPWQucGFyZW50Tm9kZTtlJiZWLmNhbGwoZSxkKSxiLnByZXZpb3VzU2libGluZ189Yi5uZXh0U2libGluZ189Yi5wYXJlbnROb2RlXz1udWxsLGI9Y31hLmZpcnN0Q2hpbGRfPWEubGFzdENoaWxkXz1udWxsfWVsc2UgZm9yKHZhciBjLGY9SihhKSxnPWYuZmlyc3RDaGlsZDtnOyljPWcubmV4dFNpYmxpbmcsVi5jYWxsKGYsZyksZz1jfWZ1bmN0aW9uIHMoYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiZiLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpfWZ1bmN0aW9uIHQoYSl7Zm9yKHZhciBiLGM9MDtjPGEubGVuZ3RoO2MrKyliPWFbY10sYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpfWZ1bmN0aW9uIHUoYSxiLGMpe3ZhciBkO2lmKGQ9TChjP1AuY2FsbChjLGEuaW1wbCwhMSk6US5jYWxsKGEuaW1wbCwhMSkpLGIpe2Zvcih2YXIgZT1hLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpZC5hcHBlbmRDaGlsZCh1KGUsITAsYykpO2lmKGEgaW5zdGFuY2VvZiBOLkhUTUxUZW1wbGF0ZUVsZW1lbnQpZm9yKHZhciBmPWQuY29udGVudCxlPWEuY29udGVudC5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWYuYXBwZW5kQ2hpbGQodShlLCEwLGMpKX1yZXR1cm4gZH1mdW5jdGlvbiB2KGEsYil7aWYoIWJ8fEQoYSkhPT1EKGIpKXJldHVybiExO2Zvcih2YXIgYz1iO2M7Yz1jLnBhcmVudE5vZGUpaWYoYz09PWEpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gdyhhKXtBKGEgaW5zdGFuY2VvZiBSKSx4LmNhbGwodGhpcyxhKSx0aGlzLnBhcmVudE5vZGVfPXZvaWQgMCx0aGlzLmZpcnN0Q2hpbGRfPXZvaWQgMCx0aGlzLmxhc3RDaGlsZF89dm9pZCAwLHRoaXMubmV4dFNpYmxpbmdfPXZvaWQgMCx0aGlzLnByZXZpb3VzU2libGluZ189dm9pZCAwLHRoaXMudHJlZVNjb3BlXz12b2lkIDB9dmFyIHg9YS53cmFwcGVycy5FdmVudFRhcmdldCx5PWEud3JhcHBlcnMuTm9kZUxpc3Qsej1hLlRyZWVTY29wZSxBPWEuYXNzZXJ0LEI9YS5kZWZpbmVXcmFwR2V0dGVyLEM9YS5lbnF1ZXVlTXV0YXRpb24sRD1hLmdldFRyZWVTY29wZSxFPWEuaXNXcmFwcGVyLEY9YS5taXhpbixHPWEucmVnaXN0ZXJUcmFuc2llbnRPYnNlcnZlcnMsSD1hLnJlZ2lzdGVyV3JhcHBlcixJPWEuc2V0VHJlZVNjb3BlLEo9YS51bndyYXAsSz1hLnVud3JhcElmTmVlZGVkLEw9YS53cmFwLE09YS53cmFwSWZOZWVkZWQsTj1hLndyYXBwZXJzLE89ITEsUD1kb2N1bWVudC5pbXBvcnROb2RlLFE9d2luZG93Lk5vZGUucHJvdG90eXBlLmNsb25lTm9kZSxSPXdpbmRvdy5Ob2RlLFM9d2luZG93LkRvY3VtZW50RnJhZ21lbnQsVD0oUi5wcm90b3R5cGUuYXBwZW5kQ2hpbGQsUi5wcm90b3R5cGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24pLFU9Ui5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlLFY9Ui5wcm90b3R5cGUucmVtb3ZlQ2hpbGQsVz1SLnByb3RvdHlwZS5yZXBsYWNlQ2hpbGQsWD0vVHJpZGVudC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxZPVg/ZnVuY3Rpb24oYSxiKXt0cnl7Vi5jYWxsKGEsYil9Y2F0Y2goYyl7aWYoIShhIGluc3RhbmNlb2YgUykpdGhyb3cgY319OmZ1bmN0aW9uKGEsYil7Vi5jYWxsKGEsYil9O3cucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoeC5wcm90b3R5cGUpLEYody5wcm90b3R5cGUse2FwcGVuZENoaWxkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmluc2VydEJlZm9yZShhLG51bGwpfSxpbnNlcnRCZWZvcmU6ZnVuY3Rpb24oYSxjKXtiKGEpO3ZhciBkO2M/RShjKT9kPUooYyk6KGQ9YyxjPUwoZCkpOihjPW51bGwsZD1udWxsKSxjJiZBKGMucGFyZW50Tm9kZT09PXRoaXMpO3ZhciBlLGg9Yz9jLnByZXZpb3VzU2libGluZzp0aGlzLmxhc3RDaGlsZCxpPSF0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpJiYhcyhhKTtpZihlPWk/ZyhhKTpmKGEsdGhpcyxoLGMpLGkpbih0aGlzLGEpLHEodGhpcyksVS5jYWxsKHRoaXMuaW1wbCxKKGEpLGQpO2Vsc2V7aHx8KHRoaXMuZmlyc3RDaGlsZF89ZVswXSksY3x8KHRoaXMubGFzdENoaWxkXz1lW2UubGVuZ3RoLTFdKTt2YXIgaj1kP2QucGFyZW50Tm9kZTp0aGlzLmltcGw7aj9VLmNhbGwoaixwKHRoaXMsZSksZCk6byh0aGlzLGUpfXJldHVybiBDKHRoaXMsImNoaWxkTGlzdCIse2FkZGVkTm9kZXM6ZSxuZXh0U2libGluZzpjLHByZXZpb3VzU2libGluZzpofSksayhlLHRoaXMpLGF9LHJlbW92ZUNoaWxkOmZ1bmN0aW9uKGEpe2lmKGIoYSksYS5wYXJlbnROb2RlIT09dGhpcyl7Zm9yKHZhciBkPSExLGU9KHRoaXMuY2hpbGROb2Rlcyx0aGlzLmZpcnN0Q2hpbGQpO2U7ZT1lLm5leHRTaWJsaW5nKWlmKGU9PT1hKXtkPSEwO2JyZWFrfWlmKCFkKXRocm93IG5ldyBFcnJvcigiTm90Rm91bmRFcnJvciIpfXZhciBmPUooYSksZz1hLm5leHRTaWJsaW5nLGg9YS5wcmV2aW91c1NpYmxpbmc7aWYodGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSl7dmFyIGk9dGhpcy5maXJzdENoaWxkLGo9dGhpcy5sYXN0Q2hpbGQsaz1mLnBhcmVudE5vZGU7ayYmWShrLGYpLGk9PT1hJiYodGhpcy5maXJzdENoaWxkXz1nKSxqPT09YSYmKHRoaXMubGFzdENoaWxkXz1oKSxoJiYoaC5uZXh0U2libGluZ189ZyksZyYmKGcucHJldmlvdXNTaWJsaW5nXz1oKSxhLnByZXZpb3VzU2libGluZ189YS5uZXh0U2libGluZ189YS5wYXJlbnROb2RlXz12b2lkIDB9ZWxzZSBxKHRoaXMpLFkodGhpcy5pbXBsLGYpO3JldHVybiBPfHxDKHRoaXMsImNoaWxkTGlzdCIse3JlbW92ZWROb2RlczpjKGEpLG5leHRTaWJsaW5nOmcscHJldmlvdXNTaWJsaW5nOmh9KSxHKHRoaXMsYSksYX0scmVwbGFjZUNoaWxkOmZ1bmN0aW9uKGEsZCl7YihhKTt2YXIgZTtpZihFKGQpP2U9SihkKTooZT1kLGQ9TChlKSksZC5wYXJlbnROb2RlIT09dGhpcyl0aHJvdyBuZXcgRXJyb3IoIk5vdEZvdW5kRXJyb3IiKTt2YXIgaCxpPWQubmV4dFNpYmxpbmcsaj1kLnByZXZpb3VzU2libGluZyxtPSF0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpJiYhcyhhKTtyZXR1cm4gbT9oPWcoYSk6KGk9PT1hJiYoaT1hLm5leHRTaWJsaW5nKSxoPWYoYSx0aGlzLGosaSkpLG0/KG4odGhpcyxhKSxxKHRoaXMpLFcuY2FsbCh0aGlzLmltcGwsSihhKSxlKSk6KHRoaXMuZmlyc3RDaGlsZD09PWQmJih0aGlzLmZpcnN0Q2hpbGRfPWhbMF0pLHRoaXMubGFzdENoaWxkPT09ZCYmKHRoaXMubGFzdENoaWxkXz1oW2gubGVuZ3RoLTFdKSxkLnByZXZpb3VzU2libGluZ189ZC5uZXh0U2libGluZ189ZC5wYXJlbnROb2RlXz12b2lkIDAsZS5wYXJlbnROb2RlJiZXLmNhbGwoZS5wYXJlbnROb2RlLHAodGhpcyxoKSxlKSksQyh0aGlzLCJjaGlsZExpc3QiLHthZGRlZE5vZGVzOmgscmVtb3ZlZE5vZGVzOmMoZCksbmV4dFNpYmxpbmc6aSxwcmV2aW91c1NpYmxpbmc6an0pLGwoZCksayhoLHRoaXMpLGR9LG5vZGVJc0luc2VydGVkXzpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpYS5ub2RlSXNJbnNlcnRlZF8oKX0saGFzQ2hpbGROb2RlczpmdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5maXJzdENoaWxkfSxnZXQgcGFyZW50Tm9kZSgpe3JldHVybiB2b2lkIDAhPT10aGlzLnBhcmVudE5vZGVfP3RoaXMucGFyZW50Tm9kZV86TCh0aGlzLmltcGwucGFyZW50Tm9kZSl9LGdldCBmaXJzdENoaWxkKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuZmlyc3RDaGlsZF8/dGhpcy5maXJzdENoaWxkXzpMKHRoaXMuaW1wbC5maXJzdENoaWxkKX0sZ2V0IGxhc3RDaGlsZCgpe3JldHVybiB2b2lkIDAhPT10aGlzLmxhc3RDaGlsZF8/dGhpcy5sYXN0Q2hpbGRfOkwodGhpcy5pbXBsLmxhc3RDaGlsZCl9LGdldCBuZXh0U2libGluZygpe3JldHVybiB2b2lkIDAhPT10aGlzLm5leHRTaWJsaW5nXz90aGlzLm5leHRTaWJsaW5nXzpMKHRoaXMuaW1wbC5uZXh0U2libGluZyl9LGdldCBwcmV2aW91c1NpYmxpbmcoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5wcmV2aW91c1NpYmxpbmdfP3RoaXMucHJldmlvdXNTaWJsaW5nXzpMKHRoaXMuaW1wbC5wcmV2aW91c1NpYmxpbmcpfSxnZXQgcGFyZW50RWxlbWVudCgpe2Zvcih2YXIgYT10aGlzLnBhcmVudE5vZGU7YSYmYS5ub2RlVHlwZSE9PXcuRUxFTUVOVF9OT0RFOylhPWEucGFyZW50Tm9kZTtyZXR1cm4gYX0sZ2V0IHRleHRDb250ZW50KCl7Zm9yKHZhciBhPSIiLGI9dGhpcy5maXJzdENoaWxkO2I7Yj1iLm5leHRTaWJsaW5nKWIubm9kZVR5cGUhPXcuQ09NTUVOVF9OT0RFJiYoYSs9Yi50ZXh0Q29udGVudCk7cmV0dXJuIGF9LHNldCB0ZXh0Q29udGVudChhKXt2YXIgYj1pKHRoaXMuY2hpbGROb2Rlcyk7aWYodGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSl7aWYocih0aGlzKSwiIiE9PWEpe3ZhciBjPXRoaXMuaW1wbC5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGEpO3RoaXMuYXBwZW5kQ2hpbGQoYyl9fWVsc2UgcSh0aGlzKSx0aGlzLmltcGwudGV4dENvbnRlbnQ9YTt2YXIgZD1pKHRoaXMuY2hpbGROb2Rlcyk7Qyh0aGlzLCJjaGlsZExpc3QiLHthZGRlZE5vZGVzOmQscmVtb3ZlZE5vZGVzOmJ9KSxtKGIpLGsoZCx0aGlzKX0sZ2V0IGNoaWxkTm9kZXMoKXtmb3IodmFyIGE9bmV3IHksYj0wLGM9dGhpcy5maXJzdENoaWxkO2M7Yz1jLm5leHRTaWJsaW5nKWFbYisrXT1jO3JldHVybiBhLmxlbmd0aD1iLGF9LGNsb25lTm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gdSh0aGlzLGEpfSxjb250YWluczpmdW5jdGlvbihhKXtyZXR1cm4gdih0aGlzLE0oYSkpfSxjb21wYXJlRG9jdW1lbnRQb3NpdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gVC5jYWxsKHRoaXMuaW1wbCxLKGEpKX0sbm9ybWFsaXplOmZ1bmN0aW9uKCl7Zm9yKHZhciBhLGIsYz1pKHRoaXMuY2hpbGROb2RlcyksZD1bXSxlPSIiLGY9MDtmPGMubGVuZ3RoO2YrKyliPWNbZl0sYi5ub2RlVHlwZT09PXcuVEVYVF9OT0RFP2F8fGIuZGF0YS5sZW5ndGg/YT8oZSs9Yi5kYXRhLGQucHVzaChiKSk6YT1iOnRoaXMucmVtb3ZlTm9kZShiKTooYSYmZC5sZW5ndGgmJihhLmRhdGErPWUsY2xlYW5VcE5vZGVzKGQpKSxkPVtdLGU9IiIsYT1udWxsLGIuY2hpbGROb2Rlcy5sZW5ndGgmJmIubm9ybWFsaXplKCkpO2EmJmQubGVuZ3RoJiYoYS5kYXRhKz1lLHQoZCkpfX0pLEIodywib3duZXJEb2N1bWVudCIpLEgoUix3LGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSksZGVsZXRlIHcucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3IsZGVsZXRlIHcucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3JBbGwsdy5wcm90b3R5cGU9RihPYmplY3QuY3JlYXRlKHgucHJvdG90eXBlKSx3LnByb3RvdHlwZSksYS5jbG9uZU5vZGU9dSxhLm5vZGVXYXNBZGRlZD1qLGEubm9kZVdhc1JlbW92ZWQ9bCxhLm5vZGVzV2VyZUFkZGVkPWssYS5ub2Rlc1dlcmVSZW1vdmVkPW0sYS5zbmFwc2hvdE5vZGVMaXN0PWksYS53cmFwcGVycy5Ob2RlPXd9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxjKXtmb3IodmFyIGQsZT1hLmZpcnN0RWxlbWVudENoaWxkO2U7KXtpZihlLm1hdGNoZXMoYykpcmV0dXJuIGU7aWYoZD1iKGUsYykpcmV0dXJuIGQ7ZT1lLm5leHRFbGVtZW50U2libGluZ31yZXR1cm4gbnVsbH1mdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEubWF0Y2hlcyhiKX1mdW5jdGlvbiBkKGEsYixjKXt2YXIgZD1hLmxvY2FsTmFtZTtyZXR1cm4gZD09PWJ8fGQ9PT1jJiZhLm5hbWVzcGFjZVVSST09PWx9ZnVuY3Rpb24gZSgpe3JldHVybiEwfWZ1bmN0aW9uIGYoYSxiKXtyZXR1cm4gYS5sb2NhbE5hbWU9PT1ifWZ1bmN0aW9uIGcoYSxiKXtyZXR1cm4gYS5uYW1lc3BhY2VVUkk9PT1ifWZ1bmN0aW9uIGgoYSxiLGMpe3JldHVybiBhLm5hbWVzcGFjZVVSST09PWImJmEubG9jYWxOYW1lPT09Y31mdW5jdGlvbiBpKGEsYixjLGQsZSl7Zm9yKHZhciBmPWEuZmlyc3RFbGVtZW50Q2hpbGQ7ZjspYyhmLGQsZSkmJihiW2IubGVuZ3RoKytdPWYpLGkoZixiLGMsZCxlKSxmPWYubmV4dEVsZW1lbnRTaWJsaW5nO3JldHVybiBifXZhciBqPWEud3JhcHBlcnMuSFRNTENvbGxlY3Rpb24saz1hLndyYXBwZXJzLk5vZGVMaXN0LGw9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLG09e3F1ZXJ5U2VsZWN0b3I6ZnVuY3Rpb24oYSl7cmV0dXJuIGIodGhpcyxhKX0scXVlcnlTZWxlY3RvckFsbDpmdW5jdGlvbihhKXtyZXR1cm4gaSh0aGlzLG5ldyBrLGMsYSl9fSxuPXtnZXRFbGVtZW50c0J5VGFnTmFtZTpmdW5jdGlvbihhKXt2YXIgYj1uZXcgajtyZXR1cm4iKiI9PT1hP2kodGhpcyxiLGUpOmkodGhpcyxiLGQsYSxhLnRvTG93ZXJDYXNlKCkpfSxnZXRFbGVtZW50c0J5Q2xhc3NOYW1lOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoIi4iK2EpfSxnZXRFbGVtZW50c0J5VGFnTmFtZU5TOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IGo7aWYoIiI9PT1hKWE9bnVsbDtlbHNlIGlmKCIqIj09PWEpcmV0dXJuIioiPT09Yj9pKHRoaXMsYyxlKTppKHRoaXMsYyxmLGIpO3JldHVybiIqIj09PWI/aSh0aGlzLGMsZyxhKTppKHRoaXMsYyxoLGEsYil9fTthLkdldEVsZW1lbnRzQnlJbnRlcmZhY2U9bixhLlNlbGVjdG9yc0ludGVyZmFjZT1tfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2Zvcig7YSYmYS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFOylhPWEubmV4dFNpYmxpbmc7cmV0dXJuIGF9ZnVuY3Rpb24gYyhhKXtmb3IoO2EmJmEubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERTspYT1hLnByZXZpb3VzU2libGluZztyZXR1cm4gYX12YXIgZD1hLndyYXBwZXJzLk5vZGVMaXN0LGU9e2dldCBmaXJzdEVsZW1lbnRDaGlsZCgpe3JldHVybiBiKHRoaXMuZmlyc3RDaGlsZCl9LGdldCBsYXN0RWxlbWVudENoaWxkKCl7cmV0dXJuIGModGhpcy5sYXN0Q2hpbGQpfSxnZXQgY2hpbGRFbGVtZW50Q291bnQoKXtmb3IodmFyIGE9MCxiPXRoaXMuZmlyc3RFbGVtZW50Q2hpbGQ7YjtiPWIubmV4dEVsZW1lbnRTaWJsaW5nKWErKztyZXR1cm4gYX0sZ2V0IGNoaWxkcmVuKCl7Zm9yKHZhciBhPW5ldyBkLGI9MCxjPXRoaXMuZmlyc3RFbGVtZW50Q2hpbGQ7YztjPWMubmV4dEVsZW1lbnRTaWJsaW5nKWFbYisrXT1jO3JldHVybiBhLmxlbmd0aD1iLGF9LHJlbW92ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMucGFyZW50Tm9kZTthJiZhLnJlbW92ZUNoaWxkKHRoaXMpfX0sZj17Z2V0IG5leHRFbGVtZW50U2libGluZygpe3JldHVybiBiKHRoaXMubmV4dFNpYmxpbmcpfSxnZXQgcHJldmlvdXNFbGVtZW50U2libGluZygpe3JldHVybiBjKHRoaXMucHJldmlvdXNTaWJsaW5nKX19O2EuQ2hpbGROb2RlSW50ZXJmYWNlPWYsYS5QYXJlbnROb2RlSW50ZXJmYWNlPWV9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7ZC5jYWxsKHRoaXMsYSl9dmFyIGM9YS5DaGlsZE5vZGVJbnRlcmZhY2UsZD1hLndyYXBwZXJzLk5vZGUsZT1hLmVucXVldWVNdXRhdGlvbixmPWEubWl4aW4sZz1hLnJlZ2lzdGVyV3JhcHBlcixoPXdpbmRvdy5DaGFyYWN0ZXJEYXRhO2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZC5wcm90b3R5cGUpLGYoYi5wcm90b3R5cGUse2dldCB0ZXh0Q29udGVudCgpe3JldHVybiB0aGlzLmRhdGF9LHNldCB0ZXh0Q29udGVudChhKXt0aGlzLmRhdGE9YX0sZ2V0IGRhdGEoKXtyZXR1cm4gdGhpcy5pbXBsLmRhdGF9LHNldCBkYXRhKGEpe3ZhciBiPXRoaXMuaW1wbC5kYXRhO2UodGhpcywiY2hhcmFjdGVyRGF0YSIse29sZFZhbHVlOmJ9KSx0aGlzLmltcGwuZGF0YT1hfX0pLGYoYi5wcm90b3R5cGUsYyksZyhoLGIsZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpKSxhLndyYXBwZXJzLkNoYXJhY3RlckRhdGE9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtyZXR1cm4gYT4+PjB9ZnVuY3Rpb24gYyhhKXtkLmNhbGwodGhpcyxhKX12YXIgZD1hLndyYXBwZXJzLkNoYXJhY3RlckRhdGEsZT0oYS5lbnF1ZXVlTXV0YXRpb24sYS5taXhpbiksZj1hLnJlZ2lzdGVyV3JhcHBlcixnPXdpbmRvdy5UZXh0O2MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZC5wcm90b3R5cGUpLGUoYy5wcm90b3R5cGUse3NwbGl0VGV4dDpmdW5jdGlvbihhKXthPWIoYSk7dmFyIGM9dGhpcy5kYXRhO2lmKGE+Yy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJJbmRleFNpemVFcnJvciIpO3ZhciBkPWMuc2xpY2UoMCxhKSxlPWMuc2xpY2UoYSk7dGhpcy5kYXRhPWQ7dmFyIGY9dGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGUpO3JldHVybiB0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZix0aGlzLm5leHRTaWJsaW5nKSxmfX0pLGYoZyxjLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKSksYS53cmFwcGVycy5UZXh0PWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYixjKXt2YXIgZD1iLnBhcmVudE5vZGU7aWYoZCYmZC5zaGFkb3dSb290KXt2YXIgZT1hLmdldFJlbmRlcmVyRm9ySG9zdChkKTtlLmRlcGVuZHNPbkF0dHJpYnV0ZShjKSYmZS5pbnZhbGlkYXRlKCl9fWZ1bmN0aW9uIGMoYSxiLGMpe2soYSwiYXR0cmlidXRlcyIse25hbWU6YixuYW1lc3BhY2U6bnVsbCxvbGRWYWx1ZTpjfSl9ZnVuY3Rpb24gZChhKXtoLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBlKGEsYyxkKXt2YXIgZT1kfHxjO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGMse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmltcGxbY119LHNldDpmdW5jdGlvbihhKXt0aGlzLmltcGxbY109YSxiKHRoaXMsZSl9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSl9dmFyIGY9YS5DaGlsZE5vZGVJbnRlcmZhY2UsZz1hLkdldEVsZW1lbnRzQnlJbnRlcmZhY2UsaD1hLndyYXBwZXJzLk5vZGUsaT1hLlBhcmVudE5vZGVJbnRlcmZhY2Usaj1hLlNlbGVjdG9yc0ludGVyZmFjZSxrPShhLmFkZFdyYXBOb2RlTGlzdE1ldGhvZCxhLmVucXVldWVNdXRhdGlvbiksbD1hLm1peGluLG09KGEub25lT2YsYS5yZWdpc3RlcldyYXBwZXIpLG49YS53cmFwcGVycyxvPXdpbmRvdy5FbGVtZW50LHA9WyJtYXRjaGVzIiwibW96TWF0Y2hlc1NlbGVjdG9yIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiXS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIG8ucHJvdG90eXBlW2FdfSkscT1wWzBdLHI9by5wcm90b3R5cGVbcV07ZC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShoLnByb3RvdHlwZSksbChkLnByb3RvdHlwZSx7Y3JlYXRlU2hhZG93Um9vdDpmdW5jdGlvbigpe3ZhciBiPW5ldyBuLlNoYWRvd1Jvb3QodGhpcyk7dGhpcy5pbXBsLnBvbHltZXJTaGFkb3dSb290Xz1iO3ZhciBjPWEuZ2V0UmVuZGVyZXJGb3JIb3N0KHRoaXMpO3JldHVybiBjLmludmFsaWRhdGUoKSxifSxnZXQgc2hhZG93Um9vdCgpe3JldHVybiB0aGlzLmltcGwucG9seW1lclNoYWRvd1Jvb3RffHxudWxsfSxzZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oYSxkKXt2YXIgZT10aGlzLmltcGwuZ2V0QXR0cmlidXRlKGEpO3RoaXMuaW1wbC5zZXRBdHRyaWJ1dGUoYSxkKSxjKHRoaXMsYSxlKSxiKHRoaXMsYSl9LHJlbW92ZUF0dHJpYnV0ZTpmdW5jdGlvbihhKXt2YXIgZD10aGlzLmltcGwuZ2V0QXR0cmlidXRlKGEpO3RoaXMuaW1wbC5yZW1vdmVBdHRyaWJ1dGUoYSksYyh0aGlzLGEsZCksYih0aGlzLGEpfSxtYXRjaGVzOmZ1bmN0aW9uKGEpe3JldHVybiByLmNhbGwodGhpcy5pbXBsLGEpfX0pLHAuZm9yRWFjaChmdW5jdGlvbihhKXsibWF0Y2hlcyIhPT1hJiYoZC5wcm90b3R5cGVbYV09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubWF0Y2hlcyhhKX0pfSksby5wcm90b3R5cGUud2Via2l0Q3JlYXRlU2hhZG93Um9vdCYmKGQucHJvdG90eXBlLndlYmtpdENyZWF0ZVNoYWRvd1Jvb3Q9ZC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdCksZShkLnByb3RvdHlwZSwiaWQiKSxlKGQucHJvdG90eXBlLCJjbGFzc05hbWUiLCJjbGFzcyIpLGwoZC5wcm90b3R5cGUsZiksbChkLnByb3RvdHlwZSxnKSxsKGQucHJvdG90eXBlLGkpLGwoZC5wcm90b3R5cGUsaiksbShvLGQsZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG51bGwsIngiKSksYS5tYXRjaGVzTmFtZXM9cCxhLndyYXBwZXJzLkVsZW1lbnQ9ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtzd2l0Y2goYSl7Y2FzZSImIjpyZXR1cm4iJmFtcDsiO2Nhc2UiPCI6cmV0dXJuIiZsdDsiO2Nhc2UiPiI6cmV0dXJuIiZndDsiO2Nhc2UnIic6cmV0dXJuIiZxdW90OyI7Y2FzZSLCoCI6cmV0dXJuIiZuYnNwOyJ9fWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGEucmVwbGFjZSh6LGIpfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGEucmVwbGFjZShBLGIpfWZ1bmN0aW9uIGUoYSl7Zm9yKHZhciBiPXt9LGM9MDtjPGEubGVuZ3RoO2MrKyliW2FbY11dPSEwO3JldHVybiBifWZ1bmN0aW9uIGYoYSxiKXtzd2l0Y2goYS5ub2RlVHlwZSl7Y2FzZSBOb2RlLkVMRU1FTlRfTk9ERTpmb3IodmFyIGUsZj1hLnRhZ05hbWUudG9Mb3dlckNhc2UoKSxoPSI8IitmLGk9YS5hdHRyaWJ1dGVzLGo9MDtlPWlbal07aisrKWgrPSIgIitlLm5hbWUrJz0iJytjKGUudmFsdWUpKyciJztyZXR1cm4gaCs9Ij4iLEJbZl0/aDpoK2coYSkrIjwvIitmKyI+IjtjYXNlIE5vZGUuVEVYVF9OT0RFOnZhciBrPWEuZGF0YTtyZXR1cm4gYiYmQ1tiLmxvY2FsTmFtZV0/azpkKGspO2Nhc2UgTm9kZS5DT01NRU5UX05PREU6cmV0dXJuIjwhLS0iK2EuZGF0YSsiLS0+IjtkZWZhdWx0OnRocm93IGNvbnNvbGUuZXJyb3IoYSksbmV3IEVycm9yKCJub3QgaW1wbGVtZW50ZWQiKX19ZnVuY3Rpb24gZyhhKXthIGluc3RhbmNlb2YgeS5IVE1MVGVtcGxhdGVFbGVtZW50JiYoYT1hLmNvbnRlbnQpO2Zvcih2YXIgYj0iIixjPWEuZmlyc3RDaGlsZDtjO2M9Yy5uZXh0U2libGluZyliKz1mKGMsYSk7cmV0dXJuIGJ9ZnVuY3Rpb24gaChhLGIsYyl7dmFyIGQ9Y3x8ImRpdiI7YS50ZXh0Q29udGVudD0iIjt2YXIgZT13KGEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KGQpKTtlLmlubmVySFRNTD1iO2Zvcih2YXIgZjtmPWUuZmlyc3RDaGlsZDspYS5hcHBlbmRDaGlsZCh4KGYpKX1mdW5jdGlvbiBpKGEpe28uY2FsbCh0aGlzLGEpfWZ1bmN0aW9uIGooYSxiKXt2YXIgYz13KGEuY2xvbmVOb2RlKCExKSk7Yy5pbm5lckhUTUw9Yjtmb3IodmFyIGQsZT13KGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7ZD1jLmZpcnN0Q2hpbGQ7KWUuYXBwZW5kQ2hpbGQoZCk7cmV0dXJuIHgoZSl9ZnVuY3Rpb24gayhiKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5yZW5kZXJBbGxQZW5kaW5nKCksdGhpcy5pbXBsW2JdfX1mdW5jdGlvbiBsKGEpe3AoaSxhLGsoYSkpfWZ1bmN0aW9uIG0oYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLGIse2dldDprKGIpLHNldDpmdW5jdGlvbihjKXthLnJlbmRlckFsbFBlbmRpbmcoKSx0aGlzLmltcGxbYl09Y30sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9KX1mdW5jdGlvbiBuKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxiLHt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBhLnJlbmRlckFsbFBlbmRpbmcoKSx0aGlzLmltcGxbYl0uYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyl9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSl9dmFyIG89YS53cmFwcGVycy5FbGVtZW50LHA9YS5kZWZpbmVHZXR0ZXIscT1hLmVucXVldWVNdXRhdGlvbixyPWEubWl4aW4scz1hLm5vZGVzV2VyZUFkZGVkLHQ9YS5ub2Rlc1dlcmVSZW1vdmVkLHU9YS5yZWdpc3RlcldyYXBwZXIsdj1hLnNuYXBzaG90Tm9kZUxpc3Qsdz1hLnVud3JhcCx4PWEud3JhcCx5PWEud3JhcHBlcnMsej0vWyZcdTAwQTAiXS9nLEE9L1smXHUwMEEwPD5dL2csQj1lKFsiYXJlYSIsImJhc2UiLCJiciIsImNvbCIsImNvbW1hbmQiLCJlbWJlZCIsImhyIiwiaW1nIiwiaW5wdXQiLCJrZXlnZW4iLCJsaW5rIiwibWV0YSIsInBhcmFtIiwic291cmNlIiwidHJhY2siLCJ3YnIiXSksQz1lKFsic3R5bGUiLCJzY3JpcHQiLCJ4bXAiLCJpZnJhbWUiLCJub2VtYmVkIiwibm9mcmFtZXMiLCJwbGFpbnRleHQiLCJub3NjcmlwdCJdKSxEPS9NU0lFLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLEU9d2luZG93LkhUTUxFbGVtZW50LEY9d2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQ7aS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkscihpLnByb3RvdHlwZSx7Z2V0IGlubmVySFRNTCgpe3JldHVybiBnKHRoaXMpfSxzZXQgaW5uZXJIVE1MKGEpe2lmKEQmJkNbdGhpcy5sb2NhbE5hbWVdKXJldHVybiB2b2lkKHRoaXMudGV4dENvbnRlbnQ9YSk7dmFyIGI9dih0aGlzLmNoaWxkTm9kZXMpO3RoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCk/dGhpcyBpbnN0YW5jZW9mIHkuSFRNTFRlbXBsYXRlRWxlbWVudD9oKHRoaXMuY29udGVudCxhKTpoKHRoaXMsYSx0aGlzLnRhZ05hbWUpOiFGJiZ0aGlzIGluc3RhbmNlb2YgeS5IVE1MVGVtcGxhdGVFbGVtZW50P2godGhpcy5jb250ZW50LGEpOnRoaXMuaW1wbC5pbm5lckhUTUw9YTt2YXIgYz12KHRoaXMuY2hpbGROb2Rlcyk7cSh0aGlzLCJjaGlsZExpc3QiLHthZGRlZE5vZGVzOmMscmVtb3ZlZE5vZGVzOmJ9KSx0KGIpLHMoYyx0aGlzKX0sZ2V0IG91dGVySFRNTCgpe3JldHVybiBmKHRoaXMsdGhpcy5wYXJlbnROb2RlKX0sc2V0IG91dGVySFRNTChhKXt2YXIgYj10aGlzLnBhcmVudE5vZGU7aWYoYil7Yi5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKTt2YXIgYz1qKGIsYSk7Yi5yZXBsYWNlQ2hpbGQoYyx0aGlzKX19LGluc2VydEFkamFjZW50SFRNTDpmdW5jdGlvbihhLGIpe3ZhciBjLGQ7c3dpdGNoKFN0cmluZyhhKS50b0xvd2VyQ2FzZSgpKXtjYXNlImJlZm9yZWJlZ2luIjpjPXRoaXMucGFyZW50Tm9kZSxkPXRoaXM7YnJlYWs7Y2FzZSJhZnRlcmVuZCI6Yz10aGlzLnBhcmVudE5vZGUsZD10aGlzLm5leHRTaWJsaW5nO2JyZWFrO2Nhc2UiYWZ0ZXJiZWdpbiI6Yz10aGlzLGQ9dGhpcy5maXJzdENoaWxkO2JyZWFrO2Nhc2UiYmVmb3JlZW5kIjpjPXRoaXMsZD1udWxsO2JyZWFrO2RlZmF1bHQ6cmV0dXJufXZhciBlPWooYyxiKTtjLmluc2VydEJlZm9yZShlLGQpfX0pLFsiY2xpZW50SGVpZ2h0IiwiY2xpZW50TGVmdCIsImNsaWVudFRvcCIsImNsaWVudFdpZHRoIiwib2Zmc2V0SGVpZ2h0Iiwib2Zmc2V0TGVmdCIsIm9mZnNldFRvcCIsIm9mZnNldFdpZHRoIiwic2Nyb2xsSGVpZ2h0Iiwic2Nyb2xsV2lkdGgiXS5mb3JFYWNoKGwpLFsic2Nyb2xsTGVmdCIsInNjcm9sbFRvcCJdLmZvckVhY2gobSksWyJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJnZXRDbGllbnRSZWN0cyIsInNjcm9sbEludG9WaWV3Il0uZm9yRWFjaChuKSx1KEUsaSxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiIikpLGEud3JhcHBlcnMuSFRNTEVsZW1lbnQ9aSxhLmdldElubmVySFRNTD1nLGEuc2V0SW5uZXJIVE1MPWh9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEud3JhcCxnPXdpbmRvdy5IVE1MQ2FudmFzRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtnZXRDb250ZXh0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pbXBsLmdldENvbnRleHQuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyk7cmV0dXJuIGEmJmYoYSl9fSksZShnLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikpLGEud3JhcHBlcnMuSFRNTENhbnZhc0VsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9d2luZG93LkhUTUxDb250ZW50RWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtnZXQgc2VsZWN0KCl7cmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKCJzZWxlY3QiKX0sc2V0IHNlbGVjdChhKXt0aGlzLnNldEF0dHJpYnV0ZSgic2VsZWN0IixhKX0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKGEsYil7Yy5wcm90b3R5cGUuc2V0QXR0cmlidXRlLmNhbGwodGhpcyxhLGIpLCJzZWxlY3QiPT09U3RyaW5nKGEpLnRvTG93ZXJDYXNlKCkmJnRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCEwKX19KSxmJiZlKGYsYiksYS53cmFwcGVycy5IVE1MQ29udGVudEVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtkLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBjKGEsYil7aWYoISh0aGlzIGluc3RhbmNlb2YgYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiRE9NIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uIik7dmFyIGU9Zihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKSk7ZC5jYWxsKHRoaXMsZSksZyhlLHRoaXMpLHZvaWQgMCE9PWEmJihlLndpZHRoPWEpLHZvaWQgMCE9PWImJihlLmhlaWdodD1iKX12YXIgZD1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLnVud3JhcCxnPWEucmV3cmFwLGg9d2luZG93LkhUTUxJbWFnZUVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSksZShoLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIikpLGMucHJvdG90eXBlPWIucHJvdG90eXBlLGEud3JhcHBlcnMuSFRNTEltYWdlRWxlbWVudD1iLGEud3JhcHBlcnMuSW1hZ2U9Y30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9KGEubWl4aW4sYS53cmFwcGVycy5Ob2RlTGlzdCxhLnJlZ2lzdGVyV3JhcHBlciksZT13aW5kb3cuSFRNTFNoYWRvd0VsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZSYmZChlLGIpLGEud3JhcHBlcnMuSFRNTFNoYWRvd0VsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtpZighYS5kZWZhdWx0VmlldylyZXR1cm4gYTt2YXIgYj1rLmdldChhKTtpZighYil7Zm9yKGI9YS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpO2IubGFzdENoaWxkOyliLnJlbW92ZUNoaWxkKGIubGFzdENoaWxkKTtrLnNldChhLGIpfXJldHVybiBifWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBjLGQ9YihhLm93bmVyRG9jdW1lbnQpLGU9aChkLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7Yz1hLmZpcnN0Q2hpbGQ7KWUuYXBwZW5kQ2hpbGQoYyk7cmV0dXJuIGV9ZnVuY3Rpb24gZChhKXtpZihlLmNhbGwodGhpcyxhKSwhbCl7dmFyIGI9YyhhKTtqLnNldCh0aGlzLGkoYikpfX12YXIgZT1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGY9YS5taXhpbixnPWEucmVnaXN0ZXJXcmFwcGVyLGg9YS51bndyYXAsaT1hLndyYXAsaj1uZXcgV2Vha01hcCxrPW5ldyBXZWFrTWFwLGw9d2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQ7ZC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSksZihkLnByb3RvdHlwZSx7Z2V0IGNvbnRlbnQoKXtyZXR1cm4gbD9pKHRoaXMuaW1wbC5jb250ZW50KTpqLmdldCh0aGlzKX19KSxsJiZnKGwsZCksYS53cmFwcGVycy5IVE1MVGVtcGxhdGVFbGVtZW50PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEucmVnaXN0ZXJXcmFwcGVyLGU9d2luZG93LkhUTUxNZWRpYUVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChlLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYXVkaW8iKSksYS53cmFwcGVycy5IVE1MTWVkaWFFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7ZC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gYyhhKXtpZighKHRoaXMgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4iKTt2YXIgYj1mKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImF1ZGlvIikpO2QuY2FsbCh0aGlzLGIpLGcoYix0aGlzKSxiLnNldEF0dHJpYnV0ZSgicHJlbG9hZCIsImF1dG8iKSx2b2lkIDAhPT1hJiZiLnNldEF0dHJpYnV0ZSgic3JjIixhKX12YXIgZD1hLndyYXBwZXJzLkhUTUxNZWRpYUVsZW1lbnQsZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW53cmFwLGc9YS5yZXdyYXAsaD13aW5kb3cuSFRNTEF1ZGlvRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxlKGgsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpKSxjLnByb3RvdHlwZT1iLnByb3RvdHlwZSxhLndyYXBwZXJzLkhUTUxBdWRpb0VsZW1lbnQ9YixhLndyYXBwZXJzLkF1ZGlvPWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGEucmVwbGFjZSgvXHMrL2csIiAiKS50cmltKCl9ZnVuY3Rpb24gYyhhKXtlLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBkKGEsYixjLGYpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkRPTSBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLiIpO3ZhciBnPWkoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpO2UuY2FsbCh0aGlzLGcpLGgoZyx0aGlzKSx2b2lkIDAhPT1hJiYoZy50ZXh0PWEpLHZvaWQgMCE9PWImJmcuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsYiksYz09PSEwJiZnLnNldEF0dHJpYnV0ZSgic2VsZWN0ZWQiLCIiKSxnLnNlbGVjdGVkPWY9PT0hMH12YXIgZT1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGY9YS5taXhpbixnPWEucmVnaXN0ZXJXcmFwcGVyLGg9YS5yZXdyYXAsaT1hLnVud3JhcCxqPWEud3JhcCxrPXdpbmRvdy5IVE1MT3B0aW9uRWxlbWVudDtjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlKSxmKGMucHJvdG90eXBlLHtnZXQgdGV4dCgpe3JldHVybiBiKHRoaXMudGV4dENvbnRlbnQpfSxzZXQgdGV4dChhKXt0aGlzLnRleHRDb250ZW50PWIoU3RyaW5nKGEpKX0sZ2V0IGZvcm0oKXtyZXR1cm4gaihpKHRoaXMpLmZvcm0pfX0pLGcoayxjLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKSxkLnByb3RvdHlwZT1jLnByb3RvdHlwZSxhLndyYXBwZXJzLkhUTUxPcHRpb25FbGVtZW50PWMsYS53cmFwcGVycy5PcHRpb249ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS51bndyYXAsZz1hLndyYXAsaD13aW5kb3cuSFRNTFNlbGVjdEVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7YWRkOmZ1bmN0aW9uKGEsYil7Im9iamVjdCI9PXR5cGVvZiBiJiYoYj1mKGIpKSxmKHRoaXMpLmFkZChmKGEpLGIpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMD09PWE/dm9pZCBjLnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzKTooIm9iamVjdCI9PXR5cGVvZiBhJiYoYT1mKGEpKSx2b2lkIGYodGhpcykucmVtb3ZlKGEpKX0sZ2V0IGZvcm0oKXtyZXR1cm4gZyhmKHRoaXMpLmZvcm0pfX0pLGUoaCxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpKSxhLndyYXBwZXJzLkhUTUxTZWxlY3RFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW53cmFwLGc9YS53cmFwLGg9YS53cmFwSFRNTENvbGxlY3Rpb24saT13aW5kb3cuSFRNTFRhYmxlRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtnZXQgY2FwdGlvbigpe3JldHVybiBnKGYodGhpcykuY2FwdGlvbil9LGNyZWF0ZUNhcHRpb246ZnVuY3Rpb24oKXtyZXR1cm4gZyhmKHRoaXMpLmNyZWF0ZUNhcHRpb24oKSl9LGdldCB0SGVhZCgpe3JldHVybiBnKGYodGhpcykudEhlYWQpfSxjcmVhdGVUSGVhZDpmdW5jdGlvbigpe3JldHVybiBnKGYodGhpcykuY3JlYXRlVEhlYWQoKSl9LGNyZWF0ZVRGb290OmZ1bmN0aW9uKCl7cmV0dXJuIGcoZih0aGlzKS5jcmVhdGVURm9vdCgpKX0sZ2V0IHRGb290KCl7cmV0dXJuIGcoZih0aGlzKS50Rm9vdCl9LGdldCB0Qm9kaWVzKCl7cmV0dXJuIGgoZih0aGlzKS50Qm9kaWVzKX0sY3JlYXRlVEJvZHk6ZnVuY3Rpb24oKXtyZXR1cm4gZyhmKHRoaXMpLmNyZWF0ZVRCb2R5KCkpfSxnZXQgcm93cygpe3JldHVybiBoKGYodGhpcykucm93cyl9LGluc2VydFJvdzpmdW5jdGlvbihhKXtyZXR1cm4gZyhmKHRoaXMpLmluc2VydFJvdyhhKSl9fSksZShpLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKSksYS53cmFwcGVycy5IVE1MVGFibGVFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEud3JhcEhUTUxDb2xsZWN0aW9uLGc9YS51bndyYXAsaD1hLndyYXAsaT13aW5kb3cuSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7Z2V0IHJvd3MoKXtyZXR1cm4gZihnKHRoaXMpLnJvd3MpfSxpbnNlcnRSb3c6ZnVuY3Rpb24oYSl7cmV0dXJuIGgoZyh0aGlzKS5pbnNlcnRSb3coYSkpfX0pLGUoaSxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRoZWFkIikpLGEud3JhcHBlcnMuSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS53cmFwSFRNTENvbGxlY3Rpb24sZz1hLnVud3JhcCxoPWEud3JhcCxpPXdpbmRvdy5IVE1MVGFibGVSb3dFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldCBjZWxscygpe3JldHVybiBmKGcodGhpcykuY2VsbHMpfSxpbnNlcnRDZWxsOmZ1bmN0aW9uKGEpe3JldHVybiBoKGcodGhpcykuaW5zZXJ0Q2VsbChhKSl9fSksZShpLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKSksYS53cmFwcGVycy5IVE1MVGFibGVSb3dFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7c3dpdGNoKGEubG9jYWxOYW1lKXtjYXNlImNvbnRlbnQiOnJldHVybiBuZXcgYyhhKTtjYXNlInNoYWRvdyI6cmV0dXJuIG5ldyBlKGEpO2Nhc2UidGVtcGxhdGUiOnJldHVybiBuZXcgZihhKX1kLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxDb250ZW50RWxlbWVudCxkPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZT1hLndyYXBwZXJzLkhUTUxTaGFkb3dFbGVtZW50LGY9YS53cmFwcGVycy5IVE1MVGVtcGxhdGVFbGVtZW50LGc9KGEubWl4aW4sYS5yZWdpc3RlcldyYXBwZXIpLGg9d2luZG93LkhUTUxVbmtub3duRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxnKGgsYiksYS53cmFwcGVycy5IVE1MVW5rbm93bkVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7dmFyIGI9YS5yZWdpc3Rlck9iamVjdCxjPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoYywidGl0bGUiKSxlPWIoZCksZj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZS5wcm90b3R5cGUpLmNvbnN0cnVjdG9yO2Eud3JhcHBlcnMuU1ZHRWxlbWVudD1mfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe20uY2FsbCh0aGlzLGEpfXZhciBjPWEubWl4aW4sZD1hLnJlZ2lzdGVyV3JhcHBlcixlPWEudW53cmFwLGY9YS53cmFwLGc9d2luZG93LlNWR1VzZUVsZW1lbnQsaD0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLGk9Zihkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoaCwiZyIpKSxqPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhoLCJ1c2UiKSxrPWkuY29uc3RydWN0b3IsbD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yoay5wcm90b3R5cGUpLG09bC5jb25zdHJ1Y3RvcjtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGwpLCJpbnN0YW5jZVJvb3QiaW4gaiYmYyhiLnByb3RvdHlwZSx7Z2V0IGluc3RhbmNlUm9vdCgpe3JldHVybiBmKGUodGhpcykuaW5zdGFuY2VSb290KX0sZ2V0IGFuaW1hdGVkSW5zdGFuY2VSb290KCl7cmV0dXJuIGYoZSh0aGlzKS5hbmltYXRlZEluc3RhbmNlUm9vdCl9fSksZChnLGIsaiksYS53cmFwcGVycy5TVkdVc2VFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5FdmVudFRhcmdldCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEud3JhcCxnPXdpbmRvdy5TVkdFbGVtZW50SW5zdGFuY2U7ZyYmKGIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldCBjb3JyZXNwb25kaW5nRWxlbWVudCgpe3JldHVybiBmKHRoaXMuaW1wbC5jb3JyZXNwb25kaW5nRWxlbWVudCl9LGdldCBjb3JyZXNwb25kaW5nVXNlRWxlbWVudCgpe3JldHVybiBmKHRoaXMuaW1wbC5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCl9LGdldCBwYXJlbnROb2RlKCl7cmV0dXJuIGYodGhpcy5pbXBsLnBhcmVudE5vZGUpfSxnZXQgY2hpbGROb2Rlcygpe3Rocm93IG5ldyBFcnJvcigiTm90IGltcGxlbWVudGVkIil9LGdldCBmaXJzdENoaWxkKCl7cmV0dXJuIGYodGhpcy5pbXBsLmZpcnN0Q2hpbGQpfSxnZXQgbGFzdENoaWxkKCl7cmV0dXJuIGYodGhpcy5pbXBsLmxhc3RDaGlsZCl9LGdldCBwcmV2aW91c1NpYmxpbmcoKXtyZXR1cm4gZih0aGlzLmltcGwucHJldmlvdXNTaWJsaW5nKX0sZ2V0IG5leHRTaWJsaW5nKCl7cmV0dXJuIGYodGhpcy5pbXBsLm5leHRTaWJsaW5nKX19KSxlKGcsYiksYS53cmFwcGVycy5TVkdFbGVtZW50SW5zdGFuY2U9Yil9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dGhpcy5pbXBsPWF9dmFyIGM9YS5taXhpbixkPWEucmVnaXN0ZXJXcmFwcGVyLGU9YS51bndyYXAsZj1hLnVud3JhcElmTmVlZGVkLGc9YS53cmFwLGg9d2luZG93LkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtjKGIucHJvdG90eXBlLHtnZXQgY2FudmFzKCl7cmV0dXJuIGcodGhpcy5pbXBsLmNhbnZhcyl9LGRyYXdJbWFnZTpmdW5jdGlvbigpe2FyZ3VtZW50c1swXT1mKGFyZ3VtZW50c1swXSksdGhpcy5pbXBsLmRyYXdJbWFnZS5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX0sY3JlYXRlUGF0dGVybjpmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF09ZShhcmd1bWVudHNbMF0pLHRoaXMuaW1wbC5jcmVhdGVQYXR0ZXJuLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfX0pLGQoaCxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLmdldENvbnRleHQoIjJkIikpLGEud3JhcHBlcnMuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dGhpcy5pbXBsPWF9dmFyIGM9YS5taXhpbixkPWEucmVnaXN0ZXJXcmFwcGVyLGU9YS51bndyYXBJZk5lZWRlZCxmPWEud3JhcCxnPXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQ7aWYoZyl7YyhiLnByb3RvdHlwZSx7Z2V0IGNhbnZhcygpe3JldHVybiBmKHRoaXMuaW1wbC5jYW52YXMpfSx0ZXhJbWFnZTJEOmZ1bmN0aW9uKCl7YXJndW1lbnRzWzVdPWUoYXJndW1lbnRzWzVdKSx0aGlzLmltcGwudGV4SW1hZ2UyRC5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX0sdGV4U3ViSW1hZ2UyRDpmdW5jdGlvbigpe2FyZ3VtZW50c1s2XT1lKGFyZ3VtZW50c1s2XSksdGhpcy5pbXBsLnRleFN1YkltYWdlMkQuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cykKfX0pO3ZhciBoPS9XZWJLaXQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk/e2RyYXdpbmdCdWZmZXJIZWlnaHQ6bnVsbCxkcmF3aW5nQnVmZmVyV2lkdGg6bnVsbH06e307ZChnLGIsaCksYS53cmFwcGVycy5XZWJHTFJlbmRlcmluZ0NvbnRleHQ9Yn19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dGhpcy5pbXBsPWF9dmFyIGM9YS5yZWdpc3RlcldyYXBwZXIsZD1hLnVud3JhcCxlPWEudW53cmFwSWZOZWVkZWQsZj1hLndyYXAsZz13aW5kb3cuUmFuZ2U7Yi5wcm90b3R5cGU9e2dldCBzdGFydENvbnRhaW5lcigpe3JldHVybiBmKHRoaXMuaW1wbC5zdGFydENvbnRhaW5lcil9LGdldCBlbmRDb250YWluZXIoKXtyZXR1cm4gZih0aGlzLmltcGwuZW5kQ29udGFpbmVyKX0sZ2V0IGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKCl7cmV0dXJuIGYodGhpcy5pbXBsLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKX0sc2V0U3RhcnQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmltcGwuc2V0U3RhcnQoZShhKSxiKX0sc2V0RW5kOmZ1bmN0aW9uKGEsYil7dGhpcy5pbXBsLnNldEVuZChlKGEpLGIpfSxzZXRTdGFydEJlZm9yZTpmdW5jdGlvbihhKXt0aGlzLmltcGwuc2V0U3RhcnRCZWZvcmUoZShhKSl9LHNldFN0YXJ0QWZ0ZXI6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNldFN0YXJ0QWZ0ZXIoZShhKSl9LHNldEVuZEJlZm9yZTpmdW5jdGlvbihhKXt0aGlzLmltcGwuc2V0RW5kQmVmb3JlKGUoYSkpfSxzZXRFbmRBZnRlcjpmdW5jdGlvbihhKXt0aGlzLmltcGwuc2V0RW5kQWZ0ZXIoZShhKSl9LHNlbGVjdE5vZGU6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNlbGVjdE5vZGUoZShhKSl9LHNlbGVjdE5vZGVDb250ZW50czpmdW5jdGlvbihhKXt0aGlzLmltcGwuc2VsZWN0Tm9kZUNvbnRlbnRzKGUoYSkpfSxjb21wYXJlQm91bmRhcnlQb2ludHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pbXBsLmNvbXBhcmVCb3VuZGFyeVBvaW50cyhhLGQoYikpfSxleHRyYWN0Q29udGVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLmltcGwuZXh0cmFjdENvbnRlbnRzKCkpfSxjbG9uZUNvbnRlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcy5pbXBsLmNsb25lQ29udGVudHMoKSl9LGluc2VydE5vZGU6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLmluc2VydE5vZGUoZShhKSl9LHN1cnJvdW5kQ29udGVudHM6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnN1cnJvdW5kQ29udGVudHMoZShhKSl9LGNsb25lUmFuZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLmltcGwuY2xvbmVSYW5nZSgpKX0saXNQb2ludEluUmFuZ2U6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pbXBsLmlzUG9pbnRJblJhbmdlKGUoYSksYil9LGNvbXBhcmVQb2ludDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmltcGwuY29tcGFyZVBvaW50KGUoYSksYil9LGludGVyc2VjdHNOb2RlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmltcGwuaW50ZXJzZWN0c05vZGUoZShhKSl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1wbC50b1N0cmluZygpfX0sZy5wcm90b3R5cGUuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50JiYoYi5wcm90b3R5cGUuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50PWZ1bmN0aW9uKGEpe3JldHVybiBmKHRoaXMuaW1wbC5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoYSkpfSksYyh3aW5kb3cuUmFuZ2UsYixkb2N1bWVudC5jcmVhdGVSYW5nZSgpKSxhLndyYXBwZXJzLlJhbmdlPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO3ZhciBiPWEuR2V0RWxlbWVudHNCeUludGVyZmFjZSxjPWEuUGFyZW50Tm9kZUludGVyZmFjZSxkPWEuU2VsZWN0b3JzSW50ZXJmYWNlLGU9YS5taXhpbixmPWEucmVnaXN0ZXJPYmplY3QsZz1mKGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7ZShnLnByb3RvdHlwZSxjKSxlKGcucHJvdG90eXBlLGQpLGUoZy5wcm90b3R5cGUsYik7dmFyIGg9Zihkb2N1bWVudC5jcmVhdGVDb21tZW50KCIiKSk7YS53cmFwcGVycy5Db21tZW50PWgsYS53cmFwcGVycy5Eb2N1bWVudEZyYWdtZW50PWd9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dmFyIGI9ayhhLmltcGwub3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO2MuY2FsbCh0aGlzLGIpLGkoYix0aGlzKTt2YXIgZT1hLnNoYWRvd1Jvb3Q7bS5zZXQodGhpcyxlKSx0aGlzLnRyZWVTY29wZV89bmV3IGQodGhpcyxnKGV8fGEpKSxsLnNldCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuRG9jdW1lbnRGcmFnbWVudCxkPWEuVHJlZVNjb3BlLGU9YS5lbGVtZW50RnJvbVBvaW50LGY9YS5nZXRJbm5lckhUTUwsZz1hLmdldFRyZWVTY29wZSxoPWEubWl4aW4saT1hLnJld3JhcCxqPWEuc2V0SW5uZXJIVE1MLGs9YS51bndyYXAsbD1uZXcgV2Vha01hcCxtPW5ldyBXZWFrTWFwLG49L1sgXHRcblxyXGZdLztiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxoKGIucHJvdG90eXBlLHtnZXQgaW5uZXJIVE1MKCl7cmV0dXJuIGYodGhpcyl9LHNldCBpbm5lckhUTUwoYSl7aih0aGlzLGEpLHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCl9LGdldCBvbGRlclNoYWRvd1Jvb3QoKXtyZXR1cm4gbS5nZXQodGhpcyl8fG51bGx9LGdldCBob3N0KCl7cmV0dXJuIGwuZ2V0KHRoaXMpfHxudWxsfSxpbnZhbGlkYXRlU2hhZG93UmVuZGVyZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbC5nZXQodGhpcykuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCl9LGVsZW1lbnRGcm9tUG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZSh0aGlzLHRoaXMub3duZXJEb2N1bWVudCxhLGIpfSxnZXRFbGVtZW50QnlJZDpmdW5jdGlvbihhKXtyZXR1cm4gbi50ZXN0KGEpP251bGw6dGhpcy5xdWVyeVNlbGVjdG9yKCdbaWQ9IicrYSsnIl0nKX19KSxhLndyYXBwZXJzLlNoYWRvd1Jvb3Q9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXthLnByZXZpb3VzU2libGluZ189YS5wcmV2aW91c1NpYmxpbmcsYS5uZXh0U2libGluZ189YS5uZXh0U2libGluZyxhLnBhcmVudE5vZGVfPWEucGFyZW50Tm9kZX1mdW5jdGlvbiBjKGEsYyxlKXt2YXIgZj1HKGEpLGc9RyhjKSxoPWU/RyhlKTpudWxsO2lmKGQoYyksYihjKSxlKWEuZmlyc3RDaGlsZD09PWUmJihhLmZpcnN0Q2hpbGRfPWUpLGUucHJldmlvdXNTaWJsaW5nXz1lLnByZXZpb3VzU2libGluZztlbHNle2EubGFzdENoaWxkXz1hLmxhc3RDaGlsZCxhLmxhc3RDaGlsZD09PWEuZmlyc3RDaGlsZCYmKGEuZmlyc3RDaGlsZF89YS5maXJzdENoaWxkKTt2YXIgaT1IKGYubGFzdENoaWxkKTtpJiYoaS5uZXh0U2libGluZ189aS5uZXh0U2libGluZyl9Zi5pbnNlcnRCZWZvcmUoZyxoKX1mdW5jdGlvbiBkKGEpe3ZhciBjPUcoYSksZD1jLnBhcmVudE5vZGU7aWYoZCl7dmFyIGU9SChkKTtiKGEpLGEucHJldmlvdXNTaWJsaW5nJiYoYS5wcmV2aW91c1NpYmxpbmcubmV4dFNpYmxpbmdfPWEpLGEubmV4dFNpYmxpbmcmJihhLm5leHRTaWJsaW5nLnByZXZpb3VzU2libGluZ189YSksZS5sYXN0Q2hpbGQ9PT1hJiYoZS5sYXN0Q2hpbGRfPWEpLGUuZmlyc3RDaGlsZD09PWEmJihlLmZpcnN0Q2hpbGRfPWEpLGQucmVtb3ZlQ2hpbGQoYyl9fWZ1bmN0aW9uIGUoYSl7SS5zZXQoYSxbXSl9ZnVuY3Rpb24gZihhKXt2YXIgYj1JLmdldChhKTtyZXR1cm4gYnx8SS5zZXQoYSxiPVtdKSxifWZ1bmN0aW9uIGcoYSl7Zm9yKHZhciBiPVtdLGM9MCxkPWEuZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZyliW2MrK109ZDtyZXR1cm4gYn1mdW5jdGlvbiBoKCl7Zm9yKHZhciBhPTA7YTxNLmxlbmd0aDthKyspe3ZhciBiPU1bYV0sYz1iLnBhcmVudFJlbmRlcmVyO2MmJmMuZGlydHl8fGIucmVuZGVyKCl9TT1bXX1mdW5jdGlvbiBpKCl7eT1udWxsLGgoKX1mdW5jdGlvbiBqKGEpe3ZhciBiPUsuZ2V0KGEpO3JldHVybiBifHwoYj1uZXcgbihhKSxLLnNldChhLGIpKSxifWZ1bmN0aW9uIGsoYSl7dmFyIGI9RShhKS5yb290O3JldHVybiBiIGluc3RhbmNlb2YgRD9iOm51bGx9ZnVuY3Rpb24gbChhKXtyZXR1cm4gaihhLmhvc3QpfWZ1bmN0aW9uIG0oYSl7dGhpcy5za2lwPSExLHRoaXMubm9kZT1hLHRoaXMuY2hpbGROb2Rlcz1bXX1mdW5jdGlvbiBuKGEpe3RoaXMuaG9zdD1hLHRoaXMuZGlydHk9ITEsdGhpcy5pbnZhbGlkYXRlQXR0cmlidXRlcygpLHRoaXMuYXNzb2NpYXRlTm9kZShhKX1mdW5jdGlvbiBvKGEpe2Zvcih2YXIgYj1bXSxjPWEuZmlyc3RDaGlsZDtjO2M9Yy5uZXh0U2libGluZyl2KGMpP2IucHVzaC5hcHBseShiLGYoYykpOmIucHVzaChjKTtyZXR1cm4gYn1mdW5jdGlvbiBwKGEpe2lmKGEgaW5zdGFuY2VvZiBCKXJldHVybiBhO2lmKGEgaW5zdGFuY2VvZiBBKXJldHVybiBudWxsO2Zvcih2YXIgYj1hLmZpcnN0Q2hpbGQ7YjtiPWIubmV4dFNpYmxpbmcpe3ZhciBjPXAoYik7aWYoYylyZXR1cm4gY31yZXR1cm4gbnVsbH1mdW5jdGlvbiBxKGEsYil7ZihiKS5wdXNoKGEpO3ZhciBjPUouZ2V0KGEpO2M/Yy5wdXNoKGIpOkouc2V0KGEsW2JdKX1mdW5jdGlvbiByKGEpe3JldHVybiBKLmdldChhKX1mdW5jdGlvbiBzKGEpe0ouc2V0KGEsdm9pZCAwKX1mdW5jdGlvbiB0KGEsYil7dmFyIGM9Yi5nZXRBdHRyaWJ1dGUoInNlbGVjdCIpO2lmKCFjKXJldHVybiEwO2lmKGM9Yy50cmltKCksIWMpcmV0dXJuITA7aWYoIShhIGluc3RhbmNlb2YgeikpcmV0dXJuITE7aWYoIU8udGVzdChjKSlyZXR1cm4hMTt0cnl7cmV0dXJuIGEubWF0Y2hlcyhjKX1jYXRjaChkKXtyZXR1cm4hMX19ZnVuY3Rpb24gdShhLGIpe3ZhciBjPXIoYik7cmV0dXJuIGMmJmNbYy5sZW5ndGgtMV09PT1hfWZ1bmN0aW9uIHYoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBBfHxhIGluc3RhbmNlb2YgQn1mdW5jdGlvbiB3KGEpe3JldHVybiBhLnNoYWRvd1Jvb3R9ZnVuY3Rpb24geChhKXtmb3IodmFyIGI9W10sYz1hLnNoYWRvd1Jvb3Q7YztjPWMub2xkZXJTaGFkb3dSb290KWIucHVzaChjKTtyZXR1cm4gYn12YXIgeSx6PWEud3JhcHBlcnMuRWxlbWVudCxBPWEud3JhcHBlcnMuSFRNTENvbnRlbnRFbGVtZW50LEI9YS53cmFwcGVycy5IVE1MU2hhZG93RWxlbWVudCxDPWEud3JhcHBlcnMuTm9kZSxEPWEud3JhcHBlcnMuU2hhZG93Um9vdCxFPShhLmFzc2VydCxhLmdldFRyZWVTY29wZSksRj0oYS5taXhpbixhLm9uZU9mKSxHPWEudW53cmFwLEg9YS53cmFwLEk9bmV3IFdlYWtNYXAsSj1uZXcgV2Vha01hcCxLPW5ldyBXZWFrTWFwLEw9Rih3aW5kb3csWyJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzZXRUaW1lb3V0Il0pLE09W10sTj1uZXcgQXJyYXlTcGxpY2U7Ti5lcXVhbHM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gRyhhLm5vZGUpPT09Yn0sbS5wcm90b3R5cGU9e2FwcGVuZDpmdW5jdGlvbihhKXt2YXIgYj1uZXcgbShhKTtyZXR1cm4gdGhpcy5jaGlsZE5vZGVzLnB1c2goYiksYn0sc3luYzpmdW5jdGlvbihhKXtpZighdGhpcy5za2lwKXtmb3IodmFyIGI9dGhpcy5ub2RlLGU9dGhpcy5jaGlsZE5vZGVzLGY9ZyhHKGIpKSxoPWF8fG5ldyBXZWFrTWFwLGk9Ti5jYWxjdWxhdGVTcGxpY2VzKGUsZiksaj0wLGs9MCxsPTAsbT0wO208aS5sZW5ndGg7bSsrKXtmb3IodmFyIG49aVttXTtsPG4uaW5kZXg7bCsrKWsrKyxlW2orK10uc3luYyhoKTtmb3IodmFyIG89bi5yZW1vdmVkLmxlbmd0aCxwPTA7bz5wO3ArKyl7dmFyIHE9SChmW2srK10pO2guZ2V0KHEpfHxkKHEpfWZvcih2YXIgcj1uLmFkZGVkQ291bnQscz1mW2tdJiZIKGZba10pLHA9MDtyPnA7cCsrKXt2YXIgdD1lW2orK10sdT10Lm5vZGU7YyhiLHUscyksaC5zZXQodSwhMCksdC5zeW5jKGgpfWwrPXJ9Zm9yKHZhciBtPWw7bTxlLmxlbmd0aDttKyspZVttXS5zeW5jKGgpfX19LG4ucHJvdG90eXBlPXtyZW5kZXI6ZnVuY3Rpb24oYSl7aWYodGhpcy5kaXJ0eSl7dGhpcy5pbnZhbGlkYXRlQXR0cmlidXRlcygpO3ZhciBiPXRoaXMuaG9zdDt0aGlzLmRpc3RyaWJ1dGlvbihiKTt2YXIgYz1hfHxuZXcgbShiKTt0aGlzLmJ1aWxkUmVuZGVyVHJlZShjLGIpO3ZhciBkPSFhO2QmJmMuc3luYygpLHRoaXMuZGlydHk9ITF9fSxnZXQgcGFyZW50UmVuZGVyZXIoKXtyZXR1cm4gRSh0aGlzLmhvc3QpLnJlbmRlcmVyfSxpbnZhbGlkYXRlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuZGlydHkpe2lmKHRoaXMuZGlydHk9ITAsTS5wdXNoKHRoaXMpLHkpcmV0dXJuO3k9d2luZG93W0xdKGksMCl9fSxkaXN0cmlidXRpb246ZnVuY3Rpb24oYSl7dGhpcy5yZXNldEFsbChhKSx0aGlzLmRpc3RyaWJ1dGlvblJlc29sdXRpb24oYSl9LHJlc2V0QWxsOmZ1bmN0aW9uKGEpe3YoYSk/ZShhKTpzKGEpO2Zvcih2YXIgYj1hLmZpcnN0Q2hpbGQ7YjtiPWIubmV4dFNpYmxpbmcpdGhpcy5yZXNldEFsbChiKTthLnNoYWRvd1Jvb3QmJnRoaXMucmVzZXRBbGwoYS5zaGFkb3dSb290KSxhLm9sZGVyU2hhZG93Um9vdCYmdGhpcy5yZXNldEFsbChhLm9sZGVyU2hhZG93Um9vdCl9LGRpc3RyaWJ1dGlvblJlc29sdXRpb246ZnVuY3Rpb24oYSl7aWYodyhhKSl7Zm9yKHZhciBiPWEsYz1vKGIpLGQ9eChiKSxlPTA7ZTxkLmxlbmd0aDtlKyspdGhpcy5wb29sRGlzdHJpYnV0aW9uKGRbZV0sYyk7Zm9yKHZhciBlPWQubGVuZ3RoLTE7ZT49MDtlLS0pe3ZhciBmPWRbZV0sZz1wKGYpO2lmKGcpe3ZhciBoPWYub2xkZXJTaGFkb3dSb290O2gmJihjPW8oaCkpO2Zvcih2YXIgaT0wO2k8Yy5sZW5ndGg7aSsrKXEoY1tpXSxnKX1lbHNlIHRoaXMuZGlzdHJpYnV0aW9uUmVzb2x1dGlvbihmKX19Zm9yKHZhciBqPWEuZmlyc3RDaGlsZDtqO2o9ai5uZXh0U2libGluZyl0aGlzLmRpc3RyaWJ1dGlvblJlc29sdXRpb24oail9LHBvb2xEaXN0cmlidXRpb246ZnVuY3Rpb24oYSxiKXtpZighKGEgaW5zdGFuY2VvZiBCKSlpZihhIGluc3RhbmNlb2YgQSl7dmFyIGM9YTt0aGlzLnVwZGF0ZURlcGVuZGVudEF0dHJpYnV0ZXMoYy5nZXRBdHRyaWJ1dGUoInNlbGVjdCIpKTtmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGE9YltkXTthJiZ0KGEsYykmJihxKGEsYyksYltkXT12b2lkIDApfXZhciBlPWYoYyk7aWYoZSYmMD09PWUubGVuZ3RoKWZvcih2YXIgZz1jLmZpcnN0Q2hpbGQ7ZztnPWcubmV4dFNpYmxpbmcpcShnLGMpfWVsc2UgZm9yKHZhciBnPWEuZmlyc3RDaGlsZDtnO2c9Zy5uZXh0U2libGluZyl0aGlzLnBvb2xEaXN0cmlidXRpb24oZyxiKX0sYnVpbGRSZW5kZXJUcmVlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuY29tcG9zZShiKSxkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF0sZj1hLmFwcGVuZChlKTt0aGlzLmJ1aWxkUmVuZGVyVHJlZShmLGUpfWlmKHcoYikpe3ZhciBnPWooYik7Zy5kaXJ0eT0hMX19LGNvbXBvc2U6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9YS5zaGFkb3dSb290fHxhLGQ9Yy5maXJzdENoaWxkO2Q7ZD1kLm5leHRTaWJsaW5nKWlmKHYoZCkpe3RoaXMuYXNzb2NpYXRlTm9kZShjKTtmb3IodmFyIGU9ZihkKSxnPTA7ZzxlLmxlbmd0aDtnKyspe3ZhciBoPWVbZ107dShkLGgpJiZiLnB1c2goaCl9fWVsc2UgYi5wdXNoKGQpO3JldHVybiBifSxpbnZhbGlkYXRlQXR0cmlidXRlczpmdW5jdGlvbigpe3RoaXMuYXR0cmlidXRlcz1PYmplY3QuY3JlYXRlKG51bGwpfSx1cGRhdGVEZXBlbmRlbnRBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEpe2lmKGEpe3ZhciBiPXRoaXMuYXR0cmlidXRlczsvXC5cdysvLnRlc3QoYSkmJihiWyJjbGFzcyJdPSEwKSwvI1x3Ky8udGVzdChhKSYmKGIuaWQ9ITApLGEucmVwbGFjZSgvXFtccyooW15ccz1cfH5cXV0rKS9nLGZ1bmN0aW9uKGEsYyl7YltjXT0hMH0pfX0sZGVwZW5kc09uQXR0cmlidXRlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXNbYV19LGFzc29jaWF0ZU5vZGU6ZnVuY3Rpb24oYSl7YS5pbXBsLnBvbHltZXJTaGFkb3dSZW5kZXJlcl89dGhpc319O3ZhciBPPS9eWyouI1thLXpBLVpffF0vO0MucHJvdG90eXBlLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaW1wbC5wb2x5bWVyU2hhZG93UmVuZGVyZXJfO3JldHVybiBhPyhhLmludmFsaWRhdGUoKSwhMCk6ITF9LEEucHJvdG90eXBlLmdldERpc3RyaWJ1dGVkTm9kZXM9Qi5wcm90b3R5cGUuZ2V0RGlzdHJpYnV0ZWROb2Rlcz1mdW5jdGlvbigpe3JldHVybiBoKCksZih0aGlzKX0sei5wcm90b3R5cGUuZ2V0RGVzdGluYXRpb25JbnNlcnRpb25Qb2ludHM9ZnVuY3Rpb24oKXtyZXR1cm4gaCgpLHIodGhpcyl8fFtdfSxBLnByb3RvdHlwZS5ub2RlSXNJbnNlcnRlZF89Qi5wcm90b3R5cGUubm9kZUlzSW5zZXJ0ZWRfPWZ1bmN0aW9uKCl7dGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKTt2YXIgYSxiPWsodGhpcyk7YiYmKGE9bChiKSksdGhpcy5pbXBsLnBvbHltZXJTaGFkb3dSZW5kZXJlcl89YSxhJiZhLmludmFsaWRhdGUoKX0sYS5nZXRSZW5kZXJlckZvckhvc3Q9aixhLmdldFNoYWRvd1RyZWVzPXgsYS5yZW5kZXJBbGxQZW5kaW5nPWgsYS5nZXREZXN0aW5hdGlvbkluc2VydGlvblBvaW50cz1yLGEudmlzdWFsPXtpbnNlcnRCZWZvcmU6YyxyZW1vdmU6ZH19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYil7aWYod2luZG93W2JdKXtkKCFhLndyYXBwZXJzW2JdKTt2YXIgaT1mdW5jdGlvbihhKXtjLmNhbGwodGhpcyxhKX07aS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZShpLnByb3RvdHlwZSx7Z2V0IGZvcm0oKXtyZXR1cm4gaChnKHRoaXMpLmZvcm0pfX0pLGYod2luZG93W2JdLGksZG9jdW1lbnQuY3JlYXRlRWxlbWVudChiLnNsaWNlKDQsLTcpKSksYS53cmFwcGVyc1tiXT1pfX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5hc3NlcnQsZT1hLm1peGluLGY9YS5yZWdpc3RlcldyYXBwZXIsZz1hLnVud3JhcCxoPWEud3JhcCxpPVsiSFRNTEJ1dHRvbkVsZW1lbnQiLCJIVE1MRmllbGRTZXRFbGVtZW50IiwiSFRNTElucHV0RWxlbWVudCIsIkhUTUxLZXlnZW5FbGVtZW50IiwiSFRNTExhYmVsRWxlbWVudCIsIkhUTUxMZWdlbmRFbGVtZW50IiwiSFRNTE9iamVjdEVsZW1lbnQiLCJIVE1MT3V0cHV0RWxlbWVudCIsIkhUTUxUZXh0QXJlYUVsZW1lbnQiXTtpLmZvckVhY2goYil9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dGhpcy5pbXBsPWF9e3ZhciBjPWEucmVnaXN0ZXJXcmFwcGVyLGQ9YS51bndyYXAsZT1hLnVud3JhcElmTmVlZGVkLGY9YS53cmFwO3dpbmRvdy5TZWxlY3Rpb259Yi5wcm90b3R5cGU9e2dldCBhbmNob3JOb2RlKCl7cmV0dXJuIGYodGhpcy5pbXBsLmFuY2hvck5vZGUpfSxnZXQgZm9jdXNOb2RlKCl7cmV0dXJuIGYodGhpcy5pbXBsLmZvY3VzTm9kZSl9LGFkZFJhbmdlOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5hZGRSYW5nZShkKGEpKX0sY29sbGFwc2U6ZnVuY3Rpb24oYSxiKXt0aGlzLmltcGwuY29sbGFwc2UoZShhKSxiKX0sY29udGFpbnNOb2RlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaW1wbC5jb250YWluc05vZGUoZShhKSxiKX0sZXh0ZW5kOmZ1bmN0aW9uKGEsYil7dGhpcy5pbXBsLmV4dGVuZChlKGEpLGIpfSxnZXRSYW5nZUF0OmZ1bmN0aW9uKGEpe3JldHVybiBmKHRoaXMuaW1wbC5nZXRSYW5nZUF0KGEpKX0scmVtb3ZlUmFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnJlbW92ZVJhbmdlKGQoYSkpfSxzZWxlY3RBbGxDaGlsZHJlbjpmdW5jdGlvbihhKXt0aGlzLmltcGwuc2VsZWN0QWxsQ2hpbGRyZW4oZShhKSl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1wbC50b1N0cmluZygpfX0sYyh3aW5kb3cuU2VsZWN0aW9uLGIsd2luZG93LmdldFNlbGVjdGlvbigpKSxhLndyYXBwZXJzLlNlbGVjdGlvbj1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2suY2FsbCh0aGlzLGEpLHRoaXMudHJlZVNjb3BlXz1uZXcgcCh0aGlzLG51bGwpfWZ1bmN0aW9uIGMoYSl7dmFyIGM9ZG9jdW1lbnRbYV07Yi5wcm90b3R5cGVbYV09ZnVuY3Rpb24oKXtyZXR1cm4gQShjLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpKX19ZnVuY3Rpb24gZChhLGIpe0QuY2FsbChiLmltcGwseihhKSksZShhLGIpfWZ1bmN0aW9uIGUoYSxiKXthLnNoYWRvd1Jvb3QmJmIuYWRvcHROb2RlKGEuc2hhZG93Um9vdCksYSBpbnN0YW5jZW9mIG8mJmYoYSxiKTtmb3IodmFyIGM9YS5maXJzdENoaWxkO2M7Yz1jLm5leHRTaWJsaW5nKWUoYyxiKX1mdW5jdGlvbiBmKGEsYil7dmFyIGM9YS5vbGRlclNoYWRvd1Jvb3Q7YyYmYi5hZG9wdE5vZGUoYyl9ZnVuY3Rpb24gZyhhKXt0aGlzLmltcGw9YX1mdW5jdGlvbiBoKGEsYil7dmFyIGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb25bYl07YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXtyZXR1cm4gQShjLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpKX19ZnVuY3Rpb24gaShhLGIpe3ZhciBjPWRvY3VtZW50LmltcGxlbWVudGF0aW9uW2JdO2EucHJvdG90eXBlW2JdPWZ1bmN0aW9uKCl7cmV0dXJuIGMuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyl9fXZhciBqPWEuR2V0RWxlbWVudHNCeUludGVyZmFjZSxrPWEud3JhcHBlcnMuTm9kZSxsPWEuUGFyZW50Tm9kZUludGVyZmFjZSxtPWEud3JhcHBlcnMuU2VsZWN0aW9uLG49YS5TZWxlY3RvcnNJbnRlcmZhY2Usbz1hLndyYXBwZXJzLlNoYWRvd1Jvb3QscD1hLlRyZWVTY29wZSxxPWEuY2xvbmVOb2RlLHI9YS5kZWZpbmVXcmFwR2V0dGVyLHM9YS5lbGVtZW50RnJvbVBvaW50LHQ9YS5mb3J3YXJkTWV0aG9kc1RvV3JhcHBlcix1PWEubWF0Y2hlc05hbWVzLHY9YS5taXhpbix3PWEucmVnaXN0ZXJXcmFwcGVyLHg9YS5yZW5kZXJBbGxQZW5kaW5nLHk9YS5yZXdyYXAsej1hLnVud3JhcCxBPWEud3JhcCxCPWEud3JhcEV2ZW50VGFyZ2V0TWV0aG9kcyxDPShhLndyYXBOb2RlTGlzdCxuZXcgV2Vha01hcCk7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShrLnByb3RvdHlwZSkscihiLCJkb2N1bWVudEVsZW1lbnQiKSxyKGIsImJvZHkiKSxyKGIsImhlYWQiKSxbImNyZWF0ZUNvbW1lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY3JlYXRlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnROUyIsImNyZWF0ZUV2ZW50IiwiY3JlYXRlRXZlbnROUyIsImNyZWF0ZVJhbmdlIiwiY3JlYXRlVGV4dE5vZGUiLCJnZXRFbGVtZW50QnlJZCJdLmZvckVhY2goYyk7dmFyIEQ9ZG9jdW1lbnQuYWRvcHROb2RlLEU9ZG9jdW1lbnQuZ2V0U2VsZWN0aW9uO2lmKHYoYi5wcm90b3R5cGUse2Fkb3B0Tm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSksZChhLHRoaXMpLGF9LGVsZW1lbnRGcm9tUG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcyh0aGlzLHRoaXMsYSxiKX0saW1wb3J0Tm9kZTpmdW5jdGlvbihhLGIpe3JldHVybiBxKGEsYix0aGlzLmltcGwpfSxnZXRTZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4geCgpLG5ldyBtKEUuY2FsbCh6KHRoaXMpKSl9fSksZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50KXt2YXIgRj1kb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ7Yi5wcm90b3R5cGUucmVnaXN0ZXJFbGVtZW50PWZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZChhKXtyZXR1cm4gYT92b2lkKHRoaXMuaW1wbD1hKTpmP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZixiKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KGIpfXZhciBlLGY7aWYodm9pZCAwIT09YyYmKGU9Yy5wcm90b3R5cGUsZj1jLmV4dGVuZHMpLGV8fChlPU9iamVjdC5jcmVhdGUoSFRNTEVsZW1lbnQucHJvdG90eXBlKSksYS5uYXRpdmVQcm90b3R5cGVUYWJsZS5nZXQoZSkpdGhyb3cgbmV3IEVycm9yKCJOb3RTdXBwb3J0ZWRFcnJvciIpO2Zvcih2YXIgZyxoPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKSxpPVtdO2gmJiEoZz1hLm5hdGl2ZVByb3RvdHlwZVRhYmxlLmdldChoKSk7KWkucHVzaChoKSxoPU9iamVjdC5nZXRQcm90b3R5cGVPZihoKTtpZighZyl0aHJvdyBuZXcgRXJyb3IoIk5vdFN1cHBvcnRlZEVycm9yIik7Zm9yKHZhciBqPU9iamVjdC5jcmVhdGUoZyksaz1pLmxlbmd0aC0xO2s+PTA7ay0tKWo9T2JqZWN0LmNyZWF0ZShqKTtbImNyZWF0ZWRDYWxsYmFjayIsImF0dGFjaGVkQ2FsbGJhY2siLCJkZXRhY2hlZENhbGxiYWNrIiwiYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrIl0uZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1lW2FdO2ImJihqW2FdPWZ1bmN0aW9uKCl7QSh0aGlzKWluc3RhbmNlb2YgZHx8eSh0aGlzKSxiLmFwcGx5KEEodGhpcyksYXJndW1lbnRzKX0pfSk7dmFyIGw9e3Byb3RvdHlwZTpqfTtmJiYobC5leHRlbmRzPWYpLGQucHJvdG90eXBlPWUsZC5wcm90b3R5cGUuY29uc3RydWN0b3I9ZCxhLmNvbnN0cnVjdG9yVGFibGUuc2V0KGosZCksYS5uYXRpdmVQcm90b3R5cGVUYWJsZS5zZXQoZSxqKTtGLmNhbGwoeih0aGlzKSxiLGwpO3JldHVybiBkfSx0KFt3aW5kb3cuSFRNTERvY3VtZW50fHx3aW5kb3cuRG9jdW1lbnRdLFsicmVnaXN0ZXJFbGVtZW50Il0pfXQoW3dpbmRvdy5IVE1MQm9keUVsZW1lbnQsd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50LHdpbmRvdy5IVE1MSGVhZEVsZW1lbnQsd2luZG93LkhUTUxIdG1sRWxlbWVudF0sWyJhcHBlbmRDaGlsZCIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwiY29udGFpbnMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZU5TIiwiaW5zZXJ0QmVmb3JlIiwicXVlcnlTZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZW1vdmVDaGlsZCIsInJlcGxhY2VDaGlsZCJdLmNvbmNhdCh1KSksdChbd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50XSxbImFkb3B0Tm9kZSIsImltcG9ydE5vZGUiLCJjb250YWlucyIsImNyZWF0ZUNvbW1lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY3JlYXRlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnROUyIsImNyZWF0ZUV2ZW50IiwiY3JlYXRlRXZlbnROUyIsImNyZWF0ZVJhbmdlIiwiY3JlYXRlVGV4dE5vZGUiLCJlbGVtZW50RnJvbVBvaW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRTZWxlY3Rpb24iXSksdihiLnByb3RvdHlwZSxqKSx2KGIucHJvdG90eXBlLGwpLHYoYi5wcm90b3R5cGUsbiksdihiLnByb3RvdHlwZSx7Z2V0IGltcGxlbWVudGF0aW9uKCl7dmFyIGE9Qy5nZXQodGhpcyk7cmV0dXJuIGE/YTooYT1uZXcgZyh6KHRoaXMpLmltcGxlbWVudGF0aW9uKSxDLnNldCh0aGlzLGEpLGEpfSxnZXQgZGVmYXVsdFZpZXcoKXtyZXR1cm4gQSh6KHRoaXMpLmRlZmF1bHRWaWV3KX19KSx3KHdpbmRvdy5Eb2N1bWVudCxiLGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikpLHdpbmRvdy5IVE1MRG9jdW1lbnQmJncod2luZG93LkhUTUxEb2N1bWVudCxiKSxCKFt3aW5kb3cuSFRNTEJvZHlFbGVtZW50LHdpbmRvdy5IVE1MRG9jdW1lbnR8fHdpbmRvdy5Eb2N1bWVudCx3aW5kb3cuSFRNTEhlYWRFbGVtZW50XSksaChnLCJjcmVhdGVEb2N1bWVudFR5cGUiKSxoKGcsImNyZWF0ZURvY3VtZW50IiksaChnLCJjcmVhdGVIVE1MRG9jdW1lbnQiKSxpKGcsImhhc0ZlYXR1cmUiKSx3KHdpbmRvdy5ET01JbXBsZW1lbnRhdGlvbixnKSx0KFt3aW5kb3cuRE9NSW1wbGVtZW50YXRpb25dLFsiY3JlYXRlRG9jdW1lbnRUeXBlIiwiY3JlYXRlRG9jdW1lbnQiLCJjcmVhdGVIVE1MRG9jdW1lbnQiLCJoYXNGZWF0dXJlIl0pLGEuYWRvcHROb2RlTm9SZW1vdmU9ZCxhLndyYXBwZXJzLkRPTUltcGxlbWVudGF0aW9uPWcsYS53cmFwcGVycy5Eb2N1bWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuRXZlbnRUYXJnZXQsZD1hLndyYXBwZXJzLlNlbGVjdGlvbixlPWEubWl4aW4sZj1hLnJlZ2lzdGVyV3JhcHBlcixnPWEucmVuZGVyQWxsUGVuZGluZyxoPWEudW53cmFwLGk9YS51bndyYXBJZk5lZWRlZCxqPWEud3JhcCxrPXdpbmRvdy5XaW5kb3csbD13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSxtPXdpbmRvdy5nZXRTZWxlY3Rpb247Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksay5wcm90b3R5cGUuZ2V0Q29tcHV0ZWRTdHlsZT1mdW5jdGlvbihhLGIpe3JldHVybiBqKHRoaXN8fHdpbmRvdykuZ2V0Q29tcHV0ZWRTdHlsZShpKGEpLGIpfSxrLnByb3RvdHlwZS5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gaih0aGlzfHx3aW5kb3cpLmdldFNlbGVjdGlvbigpfSxkZWxldGUgd2luZG93LmdldENvbXB1dGVkU3R5bGUsZGVsZXRlIHdpbmRvdy5nZXRTZWxlY3Rpb24sWyJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpc3BhdGNoRXZlbnQiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2sucHJvdG90eXBlW2FdPWZ1bmN0aW9uKCl7dmFyIGI9aih0aGlzfHx3aW5kb3cpO3JldHVybiBiW2FdLmFwcGx5KGIsYXJndW1lbnRzKX0sZGVsZXRlIHdpbmRvd1thXX0pLGUoYi5wcm90b3R5cGUse2dldENvbXB1dGVkU3R5bGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZygpLGwuY2FsbChoKHRoaXMpLGkoYSksYil9LGdldFNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiBnKCksbmV3IGQobS5jYWxsKGgodGhpcykpKX0sZ2V0IGRvY3VtZW50KCl7cmV0dXJuIGooaCh0aGlzKS5kb2N1bWVudCl9fSksZihrLGIsd2luZG93KSxhLndyYXBwZXJzLldpbmRvdz1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgYj1hLnVud3JhcCxjPXdpbmRvdy5EYXRhVHJhbnNmZXJ8fHdpbmRvdy5DbGlwYm9hcmQsZD1jLnByb3RvdHlwZS5zZXREcmFnSW1hZ2U7Yy5wcm90b3R5cGUuc2V0RHJhZ0ltYWdlPWZ1bmN0aW9uKGEsYyxlKXtkLmNhbGwodGhpcyxiKGEpLGMsZSl9fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3ZhciBiPWNbYV0sZD13aW5kb3dbYl07aWYoZCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKSxmPWUuY29uc3RydWN0b3I7d2luZG93W2JdPWZ9fXZhciBjPShhLmlzV3JhcHBlckZvcix7YToiSFRNTEFuY2hvckVsZW1lbnQiLGFyZWE6IkhUTUxBcmVhRWxlbWVudCIsYXVkaW86IkhUTUxBdWRpb0VsZW1lbnQiLGJhc2U6IkhUTUxCYXNlRWxlbWVudCIsYm9keToiSFRNTEJvZHlFbGVtZW50IixicjoiSFRNTEJSRWxlbWVudCIsYnV0dG9uOiJIVE1MQnV0dG9uRWxlbWVudCIsY2FudmFzOiJIVE1MQ2FudmFzRWxlbWVudCIsY2FwdGlvbjoiSFRNTFRhYmxlQ2FwdGlvbkVsZW1lbnQiLGNvbDoiSFRNTFRhYmxlQ29sRWxlbWVudCIsY29udGVudDoiSFRNTENvbnRlbnRFbGVtZW50IixkYXRhOiJIVE1MRGF0YUVsZW1lbnQiLGRhdGFsaXN0OiJIVE1MRGF0YUxpc3RFbGVtZW50IixkZWw6IkhUTUxNb2RFbGVtZW50IixkaXI6IkhUTUxEaXJlY3RvcnlFbGVtZW50IixkaXY6IkhUTUxEaXZFbGVtZW50IixkbDoiSFRNTERMaXN0RWxlbWVudCIsZW1iZWQ6IkhUTUxFbWJlZEVsZW1lbnQiLGZpZWxkc2V0OiJIVE1MRmllbGRTZXRFbGVtZW50Iixmb250OiJIVE1MRm9udEVsZW1lbnQiLGZvcm06IkhUTUxGb3JtRWxlbWVudCIsZnJhbWU6IkhUTUxGcmFtZUVsZW1lbnQiLGZyYW1lc2V0OiJIVE1MRnJhbWVTZXRFbGVtZW50IixoMToiSFRNTEhlYWRpbmdFbGVtZW50IixoZWFkOiJIVE1MSGVhZEVsZW1lbnQiLGhyOiJIVE1MSFJFbGVtZW50IixodG1sOiJIVE1MSHRtbEVsZW1lbnQiLGlmcmFtZToiSFRNTElGcmFtZUVsZW1lbnQiLGltZzoiSFRNTEltYWdlRWxlbWVudCIsaW5wdXQ6IkhUTUxJbnB1dEVsZW1lbnQiLGtleWdlbjoiSFRNTEtleWdlbkVsZW1lbnQiLGxhYmVsOiJIVE1MTGFiZWxFbGVtZW50IixsZWdlbmQ6IkhUTUxMZWdlbmRFbGVtZW50IixsaToiSFRNTExJRWxlbWVudCIsbGluazoiSFRNTExpbmtFbGVtZW50IixtYXA6IkhUTUxNYXBFbGVtZW50IixtYXJxdWVlOiJIVE1MTWFycXVlZUVsZW1lbnQiLG1lbnU6IkhUTUxNZW51RWxlbWVudCIsbWVudWl0ZW06IkhUTUxNZW51SXRlbUVsZW1lbnQiLG1ldGE6IkhUTUxNZXRhRWxlbWVudCIsbWV0ZXI6IkhUTUxNZXRlckVsZW1lbnQiLG9iamVjdDoiSFRNTE9iamVjdEVsZW1lbnQiLG9sOiJIVE1MT0xpc3RFbGVtZW50IixvcHRncm91cDoiSFRNTE9wdEdyb3VwRWxlbWVudCIsb3B0aW9uOiJIVE1MT3B0aW9uRWxlbWVudCIsb3V0cHV0OiJIVE1MT3V0cHV0RWxlbWVudCIscDoiSFRNTFBhcmFncmFwaEVsZW1lbnQiLHBhcmFtOiJIVE1MUGFyYW1FbGVtZW50IixwcmU6IkhUTUxQcmVFbGVtZW50Iixwcm9ncmVzczoiSFRNTFByb2dyZXNzRWxlbWVudCIscToiSFRNTFF1b3RlRWxlbWVudCIsc2NyaXB0OiJIVE1MU2NyaXB0RWxlbWVudCIsc2VsZWN0OiJIVE1MU2VsZWN0RWxlbWVudCIsc2hhZG93OiJIVE1MU2hhZG93RWxlbWVudCIsc291cmNlOiJIVE1MU291cmNlRWxlbWVudCIsc3BhbjoiSFRNTFNwYW5FbGVtZW50IixzdHlsZToiSFRNTFN0eWxlRWxlbWVudCIsdGFibGU6IkhUTUxUYWJsZUVsZW1lbnQiLHRib2R5OiJIVE1MVGFibGVTZWN0aW9uRWxlbWVudCIsdGVtcGxhdGU6IkhUTUxUZW1wbGF0ZUVsZW1lbnQiLHRleHRhcmVhOiJIVE1MVGV4dEFyZWFFbGVtZW50Iix0aGVhZDoiSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQiLHRpbWU6IkhUTUxUaW1lRWxlbWVudCIsdGl0bGU6IkhUTUxUaXRsZUVsZW1lbnQiLHRyOiJIVE1MVGFibGVSb3dFbGVtZW50Iix0cmFjazoiSFRNTFRyYWNrRWxlbWVudCIsdWw6IkhUTUxVTGlzdEVsZW1lbnQiLHZpZGVvOiJIVE1MVmlkZW9FbGVtZW50In0pO09iamVjdC5rZXlzKGMpLmZvckVhY2goYiksT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYS53cmFwcGVycykuZm9yRWFjaChmdW5jdGlvbihiKXt3aW5kb3dbYl09YS53cmFwcGVyc1tiXX0pfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKCl7d2luZG93LndyYXA9U2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkLHdpbmRvdy51bndyYXA9U2hhZG93RE9NUG9seWZpbGwudW53cmFwSWZOZWVkZWQsT2JqZWN0LmRlZmluZVByb3BlcnR5KEVsZW1lbnQucHJvdG90eXBlLCJ3ZWJraXRTaGFkb3dSb290IixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEVsZW1lbnQucHJvdG90eXBlLCJzaGFkb3dSb290IikpO3ZhciBhPUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3Q7RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdD1mdW5jdGlvbigpe3ZhciBiPWEuY2FsbCh0aGlzKTtyZXR1cm4gQ3VzdG9tRWxlbWVudHMud2F0Y2hTaGFkb3codGhpcyksYn0sRWxlbWVudC5wcm90b3R5cGUud2Via2l0Q3JlYXRlU2hhZG93Um9vdD1FbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290fSgpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiKXt2YXIgYz0iIjtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2MrPWEudGV4dENvbnRlbnQrIlxuXG4ifSksYnx8KGM9Yy5yZXBsYWNlKGwsIiIpKSxjfWZ1bmN0aW9uIGMoYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyZXR1cm4gYi50ZXh0Q29udGVudD1hLGJ9ZnVuY3Rpb24gZChhKXt2YXIgYj1jKGEpO2RvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYik7dmFyIGQ9W107aWYoYi5zaGVldCl0cnl7ZD1iLnNoZWV0LmNzc1J1bGVzfWNhdGNoKGUpe31lbHNlIGNvbnNvbGUud2Fybigic2hlZXQgbm90IGZvdW5kIixiKTtyZXR1cm4gYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGR9ZnVuY3Rpb24gZSgpe3YuaW5pdGlhbGl6ZWQ9ITAsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh2KTt2YXIgYT12LmNvbnRlbnREb2N1bWVudCxiPWEuY3JlYXRlRWxlbWVudCgiYmFzZSIpO2IuaHJlZj1kb2N1bWVudC5iYXNlVVJJLGEuaGVhZC5hcHBlbmRDaGlsZChiKX1mdW5jdGlvbiBmKGEpe3YuaW5pdGlhbGl6ZWR8fGUoKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHYpLGEodi5jb250ZW50RG9jdW1lbnQpLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodil9ZnVuY3Rpb24gZyhhLGIpe2lmKGIpe3ZhciBlO2lmKGEubWF0Y2goIkBpbXBvcnQiKSYmeCl7dmFyIGc9YyhhKTtmKGZ1bmN0aW9uKGEpe2EuaGVhZC5hcHBlbmRDaGlsZChnLmltcGwpLGU9Zy5zaGVldC5jc3NSdWxlcyxiKGUpfSl9ZWxzZSBlPWQoYSksYihlKX19ZnVuY3Rpb24gaChhKXthJiZqKCkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSkpfWZ1bmN0aW9uIGkoYSxiKXt2YXIgZD1jKGEpO2Quc2V0QXR0cmlidXRlKGIsIiIpLGQuc2V0QXR0cmlidXRlKHosIiIpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZCl9ZnVuY3Rpb24gaigpe3JldHVybiB3fHwodz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLHcuc2V0QXR0cmlidXRlKHosIiIpLHdbel09ITApLHd9dmFyIGs9e3N0cmljdFN0eWxpbmc6ITEscmVnaXN0cnk6e30sc2hpbVN0eWxpbmc6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPXRoaXMucHJlcGFyZVJvb3QoYSxjLGQpLGY9dGhpcy5pc1R5cGVFeHRlbnNpb24oZCksZz10aGlzLm1ha2VTY29wZVNlbGVjdG9yKGMsZiksaD1iKGUsITApO2g9dGhpcy5zY29wZUNzc1RleHQoaCxnKSxhJiYoYS5zaGltbWVkU3R5bGU9aCksdGhpcy5hZGRDc3NUb0RvY3VtZW50KGgsYyl9LHNoaW1TdHlsZTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnNoaW1Dc3NUZXh0KGEudGV4dENvbnRlbnQsYil9LHNoaW1Dc3NUZXh0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9dGhpcy5pbnNlcnREaXJlY3RpdmVzKGEpLHRoaXMuc2NvcGVDc3NUZXh0KGEsYil9LG1ha2VTY29wZVNlbGVjdG9yOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE/Yj8iW2lzPSIrYSsiXSI6YToiIn0saXNUeXBlRXh0ZW5zaW9uOmZ1bmN0aW9uKGEpe3JldHVybiBhJiZhLmluZGV4T2YoIi0iKTwwfSxwcmVwYXJlUm9vdDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5yZWdpc3RlclJvb3QoYSxiLGMpO3JldHVybiB0aGlzLnJlcGxhY2VUZXh0SW5TdHlsZXMoZC5yb290U3R5bGVzLHRoaXMuaW5zZXJ0RGlyZWN0aXZlcyksdGhpcy5yZW1vdmVTdHlsZXMoYSxkLnJvb3RTdHlsZXMpLHRoaXMuc3RyaWN0U3R5bGluZyYmdGhpcy5hcHBseVNjb3BlVG9Db250ZW50KGEsYiksZC5zY29wZVN0eWxlc30scmVtb3ZlU3R5bGVzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9MCxlPWIubGVuZ3RoO2U+ZCYmKGM9YltkXSk7ZCsrKWMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKX0scmVnaXN0ZXJSb290OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLnJlZ2lzdHJ5W2JdPXtyb290OmEsbmFtZTpiLGV4dGVuZHNOYW1lOmN9LGU9dGhpcy5maW5kU3R5bGVzKGEpO2Qucm9vdFN0eWxlcz1lLGQuc2NvcGVTdHlsZXM9ZC5yb290U3R5bGVzO3ZhciBmPXRoaXMucmVnaXN0cnlbZC5leHRlbmRzTmFtZV07cmV0dXJuIGYmJihkLnNjb3BlU3R5bGVzPWYuc2NvcGVTdHlsZXMuY29uY2F0KGQuc2NvcGVTdHlsZXMpKSxkfSxmaW5kU3R5bGVzOmZ1bmN0aW9uKGEpe2lmKCFhKXJldHVybltdO3ZhciBiPWEucXVlcnlTZWxlY3RvckFsbCgic3R5bGUiKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGIsZnVuY3Rpb24oYSl7cmV0dXJuIWEuaGFzQXR0cmlidXRlKEEpfSl9LGFwcGx5U2NvcGVUb0NvbnRlbnQ6ZnVuY3Rpb24oYSxiKXthJiYoQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLnF1ZXJ5U2VsZWN0b3JBbGwoIioiKSxmdW5jdGlvbihhKXthLnNldEF0dHJpYnV0ZShiLCIiKX0pLEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYS5xdWVyeVNlbGVjdG9yQWxsKCJ0ZW1wbGF0ZSIpLGZ1bmN0aW9uKGEpe3RoaXMuYXBwbHlTY29wZVRvQ29udGVudChhLmNvbnRlbnQsYil9LHRoaXMpKX0saW5zZXJ0RGlyZWN0aXZlczpmdW5jdGlvbihhKXtyZXR1cm4gYT10aGlzLmluc2VydFBvbHlmaWxsRGlyZWN0aXZlc0luQ3NzVGV4dChhKSx0aGlzLmluc2VydFBvbHlmaWxsUnVsZXNJbkNzc1RleHQoYSl9LGluc2VydFBvbHlmaWxsRGlyZWN0aXZlc0luQ3NzVGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYT1hLnJlcGxhY2UobSxmdW5jdGlvbihhLGIpe3JldHVybiBiLnNsaWNlKDAsLTIpKyJ7In0pLGEucmVwbGFjZShuLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIrIiB7In0pfSxpbnNlcnRQb2x5ZmlsbFJ1bGVzSW5Dc3NUZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhPWEucmVwbGFjZShvLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIuc2xpY2UoMCwtMSl9KSxhLnJlcGxhY2UocCxmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hLnJlcGxhY2UoYiwiIikucmVwbGFjZShjLCIiKTtyZXR1cm4gZCtlfSl9LHNjb3BlQ3NzVGV4dDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZXh0cmFjdFVuc2NvcGVkUnVsZXNGcm9tQ3NzVGV4dChhKTtpZihhPXRoaXMuaW5zZXJ0UG9seWZpbGxIb3N0SW5Dc3NUZXh0KGEpLGE9dGhpcy5jb252ZXJ0Q29sb25Ib3N0KGEpLGE9dGhpcy5jb252ZXJ0Q29sb25Ib3N0Q29udGV4dChhKSxhPXRoaXMuY29udmVydENvbWJpbmF0b3JzKGEpLGIpe3ZhciBhLGQ9dGhpcztnKGEsZnVuY3Rpb24oYyl7YT1kLnNjb3BlUnVsZXMoYyxiKX0pfXJldHVybiBhPWErIlxuIitjLGEudHJpbSgpfSxleHRyYWN0VW5zY29wZWRSdWxlc0Zyb21Dc3NUZXh0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPSIiO2I9cS5leGVjKGEpOyljKz1iWzFdLnNsaWNlKDAsLTEpKyJcblxuIjtmb3IoO2I9ci5leGVjKGEpOyljKz1iWzBdLnJlcGxhY2UoYlsyXSwiIikucmVwbGFjZShiWzFdLGJbM10pKyJcblxuIjtyZXR1cm4gY30sY29udmVydENvbG9uSG9zdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb252ZXJ0Q29sb25SdWxlKGEsY3NzQ29sb25Ib3N0UmUsdGhpcy5jb2xvbkhvc3RQYXJ0UmVwbGFjZXIpfSxjb252ZXJ0Q29sb25Ib3N0Q29udGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb252ZXJ0Q29sb25SdWxlKGEsY3NzQ29sb25Ib3N0Q29udGV4dFJlLHRoaXMuY29sb25Ib3N0Q29udGV4dFBhcnRSZXBsYWNlcil9LGNvbnZlcnRDb2xvblJ1bGU6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhLnJlcGxhY2UoYixmdW5jdGlvbihhLGIsZCxlKXtpZihiPXBvbHlmaWxsSG9zdE5vQ29tYmluYXRvcixkKXtmb3IodmFyIGYsZz1kLnNwbGl0KCIsIiksaD1bXSxpPTAsaj1nLmxlbmd0aDtqPmkmJihmPWdbaV0pO2krKylmPWYudHJpbSgpLGgucHVzaChjKGIsZixlKSk7cmV0dXJuIGguam9pbigiLCIpfXJldHVybiBiK2V9KX0sY29sb25Ib3N0Q29udGV4dFBhcnRSZXBsYWNlcjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGIubWF0Y2gocyk/dGhpcy5jb2xvbkhvc3RQYXJ0UmVwbGFjZXIoYSxiLGMpOmErYitjKyIsICIrYisiICIrYStjfSxjb2xvbkhvc3RQYXJ0UmVwbGFjZXI6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhK2IucmVwbGFjZShzLCIiKStjfSxjb252ZXJ0Q29tYmluYXRvcnM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7Yjxjb21iaW5hdG9yc1JlLmxlbmd0aDtiKyspYT1hLnJlcGxhY2UoY29tYmluYXRvcnNSZVtiXSwiICIpO3JldHVybiBhfSxzY29wZVJ1bGVzOmZ1bmN0aW9uKGEsYil7dmFyIGM9IiI7cmV0dXJuIGEmJkFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYSxmdW5jdGlvbihhKXthLnNlbGVjdG9yVGV4dCYmYS5zdHlsZSYmYS5zdHlsZS5jc3NUZXh0PyhjKz10aGlzLnNjb3BlU2VsZWN0b3IoYS5zZWxlY3RvclRleHQsYix0aGlzLnN0cmljdFN0eWxpbmcpKyIge1xuCSIsYys9dGhpcy5wcm9wZXJ0aWVzRnJvbVJ1bGUoYSkrIlxufVxuXG4iKTphLnR5cGU9PT1DU1NSdWxlLk1FRElBX1JVTEU/KGMrPSJAbWVkaWEgIithLm1lZGlhLm1lZGlhVGV4dCsiIHtcbiIsYys9dGhpcy5zY29wZVJ1bGVzKGEuY3NzUnVsZXMsYiksYys9IlxufVxuXG4iKTphLmNzc1RleHQmJihjKz1hLmNzc1RleHQrIlxuXG4iKX0sdGhpcyksY30sc2NvcGVTZWxlY3RvcjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9W10sZT1hLnNwbGl0KCIsIik7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihhKXthPWEudHJpbSgpLHRoaXMuc2VsZWN0b3JOZWVkc1Njb3BpbmcoYSxiKSYmKGE9YyYmIWEubWF0Y2gocG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yKT90aGlzLmFwcGx5U3RyaWN0U2VsZWN0b3JTY29wZShhLGIpOnRoaXMuYXBwbHlTZWxlY3RvclNjb3BlKGEsYikpLGQucHVzaChhKX0sdGhpcyksZC5qb2luKCIsICIpfSxzZWxlY3Rvck5lZWRzU2NvcGluZzpmdW5jdGlvbihhLGIpe2lmKEFycmF5LmlzQXJyYXkoYikpcmV0dXJuITA7dmFyIGM9dGhpcy5tYWtlU2NvcGVNYXRjaGVyKGIpO3JldHVybiFhLm1hdGNoKGMpfSxtYWtlU2NvcGVNYXRjaGVyOmZ1bmN0aW9uKGEpe3JldHVybiBhPWEucmVwbGFjZSgvXFsvZywiXFxbIikucmVwbGFjZSgvXFsvZywiXFxdIiksbmV3IFJlZ0V4cCgiXigiK2ErIikiK3NlbGVjdG9yUmVTdWZmaXgsIm0iKX0sYXBwbHlTZWxlY3RvclNjb3BlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEFycmF5LmlzQXJyYXkoYik/dGhpcy5hcHBseVNlbGVjdG9yU2NvcGVMaXN0KGEsYik6dGhpcy5hcHBseVNpbXBsZVNlbGVjdG9yU2NvcGUoYSxiKX0sYXBwbHlTZWxlY3RvclNjb3BlTGlzdDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPVtdLGU9MDtjPWJbZV07ZSsrKWQucHVzaCh0aGlzLmFwcGx5U2ltcGxlU2VsZWN0b3JTY29wZShhLGMpKTtyZXR1cm4gZC5qb2luKCIsICIpfSxhcHBseVNpbXBsZVNlbGVjdG9yU2NvcGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5tYXRjaChwb2x5ZmlsbEhvc3RSZSk/KGE9YS5yZXBsYWNlKHBvbHlmaWxsSG9zdE5vQ29tYmluYXRvcixiKSxhLnJlcGxhY2UocG9seWZpbGxIb3N0UmUsYisiICIpKTpiKyIgIithfSxhcHBseVN0cmljdFNlbGVjdG9yU2NvcGU6ZnVuY3Rpb24oYSxiKXtiPWIucmVwbGFjZSgvXFtpcz0oW15cXV0qKVxdL2csIiQxIik7dmFyIGM9WyIgIiwiPiIsIisiLCJ+Il0sZD1hLGU9IlsiK2IrIl0iO3JldHVybiBjLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9ZC5zcGxpdChhKTtkPWIubWFwKGZ1bmN0aW9uKGEpe3ZhciBiPWEudHJpbSgpLnJlcGxhY2UocG9seWZpbGxIb3N0UmUsIiIpO3JldHVybiBiJiZjLmluZGV4T2YoYik8MCYmYi5pbmRleE9mKGUpPDAmJihhPWIucmVwbGFjZSgvKFteOl0qKSg6KikoLiopLywiJDEiK2UrIiQyJDMiKSksYX0pLmpvaW4oYSl9KSxkfSxpbnNlcnRQb2x5ZmlsbEhvc3RJbkNzc1RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShjb2xvbkhvc3RDb250ZXh0UmUsdCkucmVwbGFjZShjb2xvbkhvc3RSZSxzKX0scHJvcGVydGllc0Zyb21SdWxlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuc3R5bGUuY3NzVGV4dDthLnN0eWxlLmNvbnRlbnQmJiFhLnN0eWxlLmNvbnRlbnQubWF0Y2goL1snIl0rfGF0dHIvKSYmKGI9Yi5yZXBsYWNlKC9jb250ZW50OlteO10qOy9nLCJjb250ZW50OiAnIithLnN0eWxlLmNvbnRlbnQrIic7IikpO3ZhciBjPWEuc3R5bGU7Zm9yKHZhciBkIGluIGMpImluaXRpYWwiPT09Y1tkXSYmKGIrPWQrIjogaW5pdGlhbDsgIik7cmV0dXJuIGJ9LHJlcGxhY2VUZXh0SW5TdHlsZXM6ZnVuY3Rpb24oYSxiKXthJiZiJiYoYSBpbnN0YW5jZW9mIEFycmF5fHwoYT1bYV0pLEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYSxmdW5jdGlvbihhKXthLnRleHRDb250ZW50PWIuY2FsbCh0aGlzLGEudGV4dENvbnRlbnQpfSx0aGlzKSl9LGFkZENzc1RvRG9jdW1lbnQ6ZnVuY3Rpb24oYSxiKXthLm1hdGNoKCJAaW1wb3J0Iik/aShhLGIpOmgoYSl9fSxsPS9cL1wqW14qXSpcKisoW14vKl1bXipdKlwqKykqXC8vZ2ltLG09L1wvXCpccypAcG9seWZpbGwgKFteKl0qXCorKFteLypdW14qXSpcKispKlwvKShbXntdKj8pey9naW0sbj0vcG9seWZpbGwtbmV4dC1zZWxlY3RvcltefV0qY29udGVudFw6W1xzXSonKFteJ10qKSdbXn1dKn0oW157XSo/KXsvZ2ltLG89L1wvXCpcc0Bwb2x5ZmlsbC1ydWxlKFteKl0qXCorKFteLypdW14qXSpcKispKilcLy9naW0scD0vKHBvbHlmaWxsLXJ1bGUpW159XSooY29udGVudFw6W1xzXSonKFteJ10qKSdbXjtdKjspW159XSp9L2dpbSxxPS9cL1wqXHNAcG9seWZpbGwtdW5zY29wZWQtcnVsZShbXipdKlwqKyhbXi8qXVteKl0qXCorKSopXC8vZ2ltLHI9Lyhwb2x5ZmlsbC11bnNjb3BlZC1ydWxlKVtefV0qKGNvbnRlbnRcOltcc10qJyhbXiddKiknW147XSo7KVtefV0qfS9naW0scz0iLXNoYWRvd2Nzc2hvc3QiLHQ9Ii1zaGFkb3djc3Njb250ZXh0Iix1PSIpKD86XFwoKCg/OlxcKFteKShdKlxcKXxbXikoXSopKz8pXFwpKT8oW14se10qKSI7Y3NzQ29sb25Ib3N0UmU9bmV3IFJlZ0V4cCgiKCIrcyt1LCJnaW0iKSxjc3NDb2xvbkhvc3RDb250ZXh0UmU9bmV3IFJlZ0V4cCgiKCIrdCt1LCJnaW0iKSxzZWxlY3RvclJlU3VmZml4PSIoWz5cXHN+K1suLHs6XVtcXHNcXFNdKik/JCIsY29sb25Ib3N0UmU9L1w6aG9zdC9naW0sY29sb25Ib3N0Q29udGV4dFJlPS9cOmhvc3QtY29udGV4dC9naW0scG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yPXMrIi1uby1jb21iaW5hdG9yIixwb2x5ZmlsbEhvc3RSZT1uZXcgUmVnRXhwKHMsImdpbSIpLHBvbHlmaWxsSG9zdENvbnRleHRSZT1uZXcgUmVnRXhwKHQsImdpbSIpLGNvbWJpbmF0b3JzUmU9Wy9cXlxeL2csL1xeL2csL1wvc2hhZG93XC8vZywvXC9zaGFkb3ctZGVlcFwvL2csLzo6c2hhZG93L2csL1wvZGVlcFwvL2ddO3ZhciB2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO3Yuc3R5bGUuZGlzcGxheT0ibm9uZSI7dmFyIHcseD1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKCJDaHJvbWUiKSx5PSJzaGltLXNoYWRvd2RvbSIsej0ic2hpbS1zaGFkb3dkb20tY3NzIixBPSJuby1zaGltIjtpZih3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpe2goInN0eWxlIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9XG4iKTt2YXIgQj13cmFwKGRvY3VtZW50KSxDPUIucXVlcnlTZWxlY3RvcigiaGVhZCIpO0MuaW5zZXJ0QmVmb3JlKGooKSxDLmNoaWxkTm9kZXNbMF0pLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGZ1bmN0aW9uKCl7dmFyIGI9YS51cmxSZXNvbHZlcjtpZih3aW5kb3cuSFRNTEltcG9ydHMmJiFIVE1MSW1wb3J0cy51c2VOYXRpdmUpe3ZhciBjPSJsaW5rW3JlbD1zdHlsZXNoZWV0XVsiK3krIl0iLGQ9InN0eWxlWyIreSsiXSI7SFRNTEltcG9ydHMuaW1wb3J0ZXIuZG9jdW1lbnRQcmVsb2FkU2VsZWN0b3JzKz0iLCIrYyxIVE1MSW1wb3J0cy5pbXBvcnRlci5pbXBvcnRzUHJlbG9hZFNlbGVjdG9ycys9IiwiK2MsSFRNTEltcG9ydHMucGFyc2VyLmRvY3VtZW50U2VsZWN0b3JzPVtIVE1MSW1wb3J0cy5wYXJzZXIuZG9jdW1lbnRTZWxlY3RvcnMsYyxkXS5qb2luKCIsIik7dmFyIGU9SFRNTEltcG9ydHMucGFyc2VyLnBhcnNlR2VuZXJpYztIVE1MSW1wb3J0cy5wYXJzZXIucGFyc2VHZW5lcmljPWZ1bmN0aW9uKGEpe2lmKCFhW3pdKXt2YXIgYz1hLl9faW1wb3J0RWxlbWVudHx8YTtpZighYy5oYXNBdHRyaWJ1dGUoeSkpcmV0dXJuIHZvaWQgZS5jYWxsKHRoaXMsYSk7YS5fX3Jlc291cmNlPyhjPWEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLGMudGV4dENvbnRlbnQ9Yi5yZXNvbHZlQ3NzVGV4dChhLl9fcmVzb3VyY2UsYS5ocmVmKSk6Yi5yZXNvbHZlU3R5bGUoYyksYy50ZXh0Q29udGVudD1rLnNoaW1TdHlsZShjKSxjLnJlbW92ZUF0dHJpYnV0ZSh5LCIiKSxjLnNldEF0dHJpYnV0ZSh6LCIiKSxjW3pdPSEwLGMucGFyZW50Tm9kZSE9PUMmJihhLnBhcmVudE5vZGU9PT1DP0MucmVwbGFjZUNoaWxkKGMsYSk6Qy5hcHBlbmRDaGlsZChjKSksYy5fX2ltcG9ydFBhcnNlZD0hMCx0aGlzLm1hcmtQYXJzaW5nQ29tcGxldGUoYSl9fTt2YXIgZj1IVE1MSW1wb3J0cy5wYXJzZXIuaGFzUmVzb3VyY2U7SFRNTEltcG9ydHMucGFyc2VyLmhhc1Jlc291cmNlPWZ1bmN0aW9uKGEpe3JldHVybiJsaW5rIj09PWEubG9jYWxOYW1lJiYic3R5bGVzaGVldCI9PT1hLnJlbCYmYS5oYXNBdHRyaWJ1dGUoeSk/YS5fX3Jlc291cmNlOmYuY2FsbCh0aGlzLGEpfX19KX1hLlNoYWRvd0NTUz1rfSh3aW5kb3cuUGxhdGZvcm0pKTohZnVuY3Rpb24oKXt3aW5kb3cud3JhcD13aW5kb3cudW53cmFwPWZ1bmN0aW9uKGEpe3JldHVybiBhfSxhZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixmdW5jdGlvbigpe2lmKEN1c3RvbUVsZW1lbnRzLnVzZU5hdGl2ZT09PSExKXt2YXIgYT1FbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290O0VsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3Q9ZnVuY3Rpb24oKXt2YXIgYj1hLmNhbGwodGhpcyk7cmV0dXJuIEN1c3RvbUVsZW1lbnRzLndhdGNoU2hhZG93KHRoaXMpLGJ9fX0pLFBsYXRmb3JtLnRlbXBsYXRlQ29udGVudD1mdW5jdGlvbihhKXtpZih3aW5kb3cuSFRNTFRlbXBsYXRlRWxlbWVudCYmSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXAmJkhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwKGEpLCFhLmNvbnRlbnQmJiFhLl9jb250ZW50KXtmb3IodmFyIGI9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2EuZmlyc3RDaGlsZDspYi5hcHBlbmRDaGlsZChhLmZpcnN0Q2hpbGQpO2EuX2NvbnRlbnQ9Yn1yZXR1cm4gYS5jb250ZW50fHxhLl9jb250ZW50fX0od2luZG93LlBsYXRmb3JtKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtyZXR1cm4gdm9pZCAwIT09bVthXX1mdW5jdGlvbiBjKCl7aC5jYWxsKHRoaXMpLHRoaXMuX2lzSW52YWxpZD0hMH1mdW5jdGlvbiBkKGEpe3JldHVybiIiPT1hJiZjLmNhbGwodGhpcyksYS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIGUoYSl7dmFyIGI9YS5jaGFyQ29kZUF0KDApO3JldHVybiBiPjMyJiYxMjc+YiYmLTE9PVszNCwzNSw2MCw2Miw2Myw5Nl0uaW5kZXhPZihiKT9hOmVuY29kZVVSSUNvbXBvbmVudChhKX1mdW5jdGlvbiBmKGEpe3ZhciBiPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4gYj4zMiYmMTI3PmImJi0xPT1bMzQsMzUsNjAsNjIsOTZdLmluZGV4T2YoYik/YTplbmNvZGVVUklDb21wb25lbnQoYSl9ZnVuY3Rpb24gZyhhLGcsaCl7ZnVuY3Rpb24gaShhKXt0LnB1c2goYSl9dmFyIGo9Z3x8InNjaGVtZSBzdGFydCIsaz0wLGw9IiIscj0hMSxzPSExLHQ9W107YTpmb3IoOyhhW2stMV0hPW98fDA9PWspJiYhdGhpcy5faXNJbnZhbGlkOyl7dmFyIHU9YVtrXTtzd2l0Y2goail7Y2FzZSJzY2hlbWUgc3RhcnQiOmlmKCF1fHwhcC50ZXN0KHUpKXtpZihnKXtpKCJJbnZhbGlkIHNjaGVtZS4iKTticmVhayBhfWw9IiIsaj0ibm8gc2NoZW1lIjtjb250aW51ZX1sKz11LnRvTG93ZXJDYXNlKCksaj0ic2NoZW1lIjticmVhaztjYXNlInNjaGVtZSI6aWYodSYmcS50ZXN0KHUpKWwrPXUudG9Mb3dlckNhc2UoKTtlbHNle2lmKCI6IiE9dSl7aWYoZyl7aWYobz09dSlicmVhayBhO2koIkNvZGUgcG9pbnQgbm90IGFsbG93ZWQgaW4gc2NoZW1lOiAiK3UpO2JyZWFrIGF9bD0iIixrPTAsaj0ibm8gc2NoZW1lIjtjb250aW51ZX1pZih0aGlzLl9zY2hlbWU9bCxsPSIiLGcpYnJlYWsgYTtiKHRoaXMuX3NjaGVtZSkmJih0aGlzLl9pc1JlbGF0aXZlPSEwKSxqPSJmaWxlIj09dGhpcy5fc2NoZW1lPyJyZWxhdGl2ZSI6dGhpcy5faXNSZWxhdGl2ZSYmaCYmaC5fc2NoZW1lPT10aGlzLl9zY2hlbWU/InJlbGF0aXZlIG9yIGF1dGhvcml0eSI6dGhpcy5faXNSZWxhdGl2ZT8iYXV0aG9yaXR5IGZpcnN0IHNsYXNoIjoic2NoZW1lIGRhdGEifWJyZWFrO2Nhc2Uic2NoZW1lIGRhdGEiOiI/Ij09dT8ocXVlcnk9Ij8iLGo9InF1ZXJ5Iik6IiMiPT11Pyh0aGlzLl9mcmFnbWVudD0iIyIsaj0iZnJhZ21lbnQiKTpvIT11JiYiCSIhPXUmJiJcbiIhPXUmJiJcciIhPXUmJih0aGlzLl9zY2hlbWVEYXRhKz1lKHUpKTticmVhaztjYXNlIm5vIHNjaGVtZSI6aWYoaCYmYihoLl9zY2hlbWUpKXtqPSJyZWxhdGl2ZSI7Y29udGludWV9aSgiTWlzc2luZyBzY2hlbWUuIiksYy5jYWxsKHRoaXMpO2JyZWFrO2Nhc2UicmVsYXRpdmUgb3IgYXV0aG9yaXR5IjppZigiLyIhPXV8fCIvIiE9YVtrKzFdKXtpKCJFeHBlY3RlZCAvLCBnb3Q6ICIrdSksaj0icmVsYXRpdmUiO2NvbnRpbnVlfWo9ImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyI7YnJlYWs7Y2FzZSJyZWxhdGl2ZSI6aWYodGhpcy5faXNSZWxhdGl2ZT0hMCwiZmlsZSIhPXRoaXMuX3NjaGVtZSYmKHRoaXMuX3NjaGVtZT1oLl9zY2hlbWUpLG89PXUpe3RoaXMuX2hvc3Q9aC5faG9zdCx0aGlzLl9wb3J0PWguX3BvcnQsdGhpcy5fcGF0aD1oLl9wYXRoLnNsaWNlKCksdGhpcy5fcXVlcnk9aC5fcXVlcnk7YnJlYWsgYX1pZigiLyI9PXV8fCJcXCI9PXUpIlxcIj09dSYmaSgiXFwgaXMgYW4gaW52YWxpZCBjb2RlIHBvaW50LiIpLGo9InJlbGF0aXZlIHNsYXNoIjtlbHNlIGlmKCI/Ij09dSl0aGlzLl9ob3N0PWguX2hvc3QsdGhpcy5fcG9ydD1oLl9wb3J0LHRoaXMuX3BhdGg9aC5fcGF0aC5zbGljZSgpLHRoaXMuX3F1ZXJ5PSI/IixqPSJxdWVyeSI7ZWxzZXtpZigiIyIhPXUpe3ZhciB2PWFbaysxXSx3PWFbaysyXTsoImZpbGUiIT10aGlzLl9zY2hlbWV8fCFwLnRlc3QodSl8fCI6IiE9diYmInwiIT12fHxvIT13JiYiLyIhPXcmJiJcXCIhPXcmJiI/IiE9dyYmIiMiIT13KSYmKHRoaXMuX2hvc3Q9aC5faG9zdCx0aGlzLl9wb3J0PWguX3BvcnQsdGhpcy5fcGF0aD1oLl9wYXRoLnNsaWNlKCksdGhpcy5fcGF0aC5wb3AoKSksaj0icmVsYXRpdmUgcGF0aCI7Y29udGludWV9dGhpcy5faG9zdD1oLl9ob3N0LHRoaXMuX3BvcnQ9aC5fcG9ydCx0aGlzLl9wYXRoPWguX3BhdGguc2xpY2UoKSx0aGlzLl9xdWVyeT1oLl9xdWVyeSx0aGlzLl9mcmFnbWVudD0iIyIsaj0iZnJhZ21lbnQifWJyZWFrO2Nhc2UicmVsYXRpdmUgc2xhc2giOmlmKCIvIiE9dSYmIlxcIiE9dSl7ImZpbGUiIT10aGlzLl9zY2hlbWUmJih0aGlzLl9ob3N0PWguX2hvc3QsdGhpcy5fcG9ydD1oLl9wb3J0KSxqPSJyZWxhdGl2ZSBwYXRoIjtjb250aW51ZX0iXFwiPT11JiZpKCJcXCBpcyBhbiBpbnZhbGlkIGNvZGUgcG9pbnQuIiksaj0iZmlsZSI9PXRoaXMuX3NjaGVtZT8iZmlsZSBob3N0IjoiYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIjticmVhaztjYXNlImF1dGhvcml0eSBmaXJzdCBzbGFzaCI6aWYoIi8iIT11KXtpKCJFeHBlY3RlZCAnLycsIGdvdDogIit1KSxqPSJhdXRob3JpdHkgaWdub3JlIHNsYXNoZXMiO2NvbnRpbnVlfWo9ImF1dGhvcml0eSBzZWNvbmQgc2xhc2giO2JyZWFrO2Nhc2UiYXV0aG9yaXR5IHNlY29uZCBzbGFzaCI6aWYoaj0iYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIiwiLyIhPXUpe2koIkV4cGVjdGVkICcvJywgZ290OiAiK3UpO2NvbnRpbnVlfWJyZWFrO2Nhc2UiYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIjppZigiLyIhPXUmJiJcXCIhPXUpe2o9ImF1dGhvcml0eSI7Y29udGludWV9aSgiRXhwZWN0ZWQgYXV0aG9yaXR5LCBnb3Q6ICIrdSk7YnJlYWs7Y2FzZSJhdXRob3JpdHkiOmlmKCJAIj09dSl7ciYmKGkoIkAgYWxyZWFkeSBzZWVuLiIpLGwrPSIlNDAiKSxyPSEwO2Zvcih2YXIgeD0wO3g8bC5sZW5ndGg7eCsrKXt2YXIgeT1sW3hdO2lmKCIJIiE9eSYmIlxuIiE9eSYmIlxyIiE9eSlpZigiOiIhPXl8fG51bGwhPT10aGlzLl9wYXNzd29yZCl7dmFyIHo9ZSh5KTtudWxsIT09dGhpcy5fcGFzc3dvcmQ/dGhpcy5fcGFzc3dvcmQrPXo6dGhpcy5fdXNlcm5hbWUrPXp9ZWxzZSB0aGlzLl9wYXNzd29yZD0iIjtlbHNlIGkoIkludmFsaWQgd2hpdGVzcGFjZSBpbiBhdXRob3JpdHkuIil9bD0iIn1lbHNle2lmKG89PXV8fCIvIj09dXx8IlxcIj09dXx8Ij8iPT11fHwiIyI9PXUpe2stPWwubGVuZ3RoLGw9IiIsaj0iaG9zdCI7Y29udGludWV9bCs9dX1icmVhaztjYXNlImZpbGUgaG9zdCI6aWYobz09dXx8Ii8iPT11fHwiXFwiPT11fHwiPyI9PXV8fCIjIj09dSl7MiE9bC5sZW5ndGh8fCFwLnRlc3QobFswXSl8fCI6IiE9bFsxXSYmInwiIT1sWzFdPzA9PWwubGVuZ3RoP2o9InJlbGF0aXZlIHBhdGggc3RhcnQiOih0aGlzLl9ob3N0PWQuY2FsbCh0aGlzLGwpLGw9IiIsaj0icmVsYXRpdmUgcGF0aCBzdGFydCIpOmo9InJlbGF0aXZlIHBhdGgiO2NvbnRpbnVlfSIJIj09dXx8IlxuIj09dXx8IlxyIj09dT9pKCJJbnZhbGlkIHdoaXRlc3BhY2UgaW4gZmlsZSBob3N0LiIpOmwrPXU7YnJlYWs7Y2FzZSJob3N0IjpjYXNlImhvc3RuYW1lIjppZigiOiIhPXV8fHMpe2lmKG89PXV8fCIvIj09dXx8IlxcIj09dXx8Ij8iPT11fHwiIyI9PXUpe2lmKHRoaXMuX2hvc3Q9ZC5jYWxsKHRoaXMsbCksbD0iIixqPSJyZWxhdGl2ZSBwYXRoIHN0YXJ0IixnKWJyZWFrIGE7Y29udGludWV9IgkiIT11JiYiXG4iIT11JiYiXHIiIT11PygiWyI9PXU/cz0hMDoiXSI9PXUmJihzPSExKSxsKz11KTppKCJJbnZhbGlkIGNvZGUgcG9pbnQgaW4gaG9zdC9ob3N0bmFtZTogIit1KX1lbHNlIGlmKHRoaXMuX2hvc3Q9ZC5jYWxsKHRoaXMsbCksbD0iIixqPSJwb3J0IiwiaG9zdG5hbWUiPT1nKWJyZWFrIGE7YnJlYWs7Y2FzZSJwb3J0IjppZigvWzAtOV0vLnRlc3QodSkpbCs9dTtlbHNle2lmKG89PXV8fCIvIj09dXx8IlxcIj09dXx8Ij8iPT11fHwiIyI9PXV8fGcpe2lmKCIiIT1sKXt2YXIgQT1wYXJzZUludChsLDEwKTtBIT1tW3RoaXMuX3NjaGVtZV0mJih0aGlzLl9wb3J0PUErIiIpLGw9IiJ9aWYoZylicmVhayBhO2o9InJlbGF0aXZlIHBhdGggc3RhcnQiO2NvbnRpbnVlfSIJIj09dXx8IlxuIj09dXx8IlxyIj09dT9pKCJJbnZhbGlkIGNvZGUgcG9pbnQgaW4gcG9ydDogIit1KTpjLmNhbGwodGhpcyl9YnJlYWs7Y2FzZSJyZWxhdGl2ZSBwYXRoIHN0YXJ0IjppZigiXFwiPT11JiZpKCInXFwnIG5vdCBhbGxvd2VkIGluIHBhdGguIiksaj0icmVsYXRpdmUgcGF0aCIsIi8iIT11JiYiXFwiIT11KWNvbnRpbnVlO2JyZWFrO2Nhc2UicmVsYXRpdmUgcGF0aCI6aWYobyE9dSYmIi8iIT11JiYiXFwiIT11JiYoZ3x8Ij8iIT11JiYiIyIhPXUpKSIJIiE9dSYmIlxuIiE9dSYmIlxyIiE9dSYmKGwrPWUodSkpO2Vsc2V7IlxcIj09dSYmaSgiXFwgbm90IGFsbG93ZWQgaW4gcmVsYXRpdmUgcGF0aC4iKTt2YXIgQjsoQj1uW2wudG9Mb3dlckNhc2UoKV0pJiYobD1CKSwiLi4iPT1sPyh0aGlzLl9wYXRoLnBvcCgpLCIvIiE9dSYmIlxcIiE9dSYmdGhpcy5fcGF0aC5wdXNoKCIiKSk6Ii4iPT1sJiYiLyIhPXUmJiJcXCIhPXU/dGhpcy5fcGF0aC5wdXNoKCIiKToiLiIhPWwmJigiZmlsZSI9PXRoaXMuX3NjaGVtZSYmMD09dGhpcy5fcGF0aC5sZW5ndGgmJjI9PWwubGVuZ3RoJiZwLnRlc3QobFswXSkmJiJ8Ij09bFsxXSYmKGw9bFswXSsiOiIpLHRoaXMuX3BhdGgucHVzaChsKSksbD0iIiwiPyI9PXU/KHRoaXMuX3F1ZXJ5PSI/IixqPSJxdWVyeSIpOiIjIj09dSYmKHRoaXMuX2ZyYWdtZW50PSIjIixqPSJmcmFnbWVudCIpfWJyZWFrO2Nhc2UicXVlcnkiOmd8fCIjIiE9dT9vIT11JiYiCSIhPXUmJiJcbiIhPXUmJiJcciIhPXUmJih0aGlzLl9xdWVyeSs9Zih1KSk6KHRoaXMuX2ZyYWdtZW50PSIjIixqPSJmcmFnbWVudCIpO2JyZWFrO2Nhc2UiZnJhZ21lbnQiOm8hPXUmJiIJIiE9dSYmIlxuIiE9dSYmIlxyIiE9dSYmKHRoaXMuX2ZyYWdtZW50Kz11KQp9aysrfX1mdW5jdGlvbiBoKCl7dGhpcy5fc2NoZW1lPSIiLHRoaXMuX3NjaGVtZURhdGE9IiIsdGhpcy5fdXNlcm5hbWU9IiIsdGhpcy5fcGFzc3dvcmQ9bnVsbCx0aGlzLl9ob3N0PSIiLHRoaXMuX3BvcnQ9IiIsdGhpcy5fcGF0aD1bXSx0aGlzLl9xdWVyeT0iIix0aGlzLl9mcmFnbWVudD0iIix0aGlzLl9pc0ludmFsaWQ9ITEsdGhpcy5faXNSZWxhdGl2ZT0hMX1mdW5jdGlvbiBpKGEsYil7dm9pZCAwPT09Ynx8YiBpbnN0YW5jZW9mIGl8fChiPW5ldyBpKFN0cmluZyhiKSkpLHRoaXMuX3VybD1hLGguY2FsbCh0aGlzKTt2YXIgYz1hLnJlcGxhY2UoL15bIFx0XHJcblxmXSt8WyBcdFxyXG5cZl0rJC9nLCIiKTtnLmNhbGwodGhpcyxjLG51bGwsYil9dmFyIGo9ITE7aWYoIWEuZm9yY2VKVVJMKXRyeXt2YXIgaz1uZXcgVVJMKCJiIiwiaHR0cDovL2EiKTtqPSJodHRwOi8vYS9iIj09PWsuaHJlZn1jYXRjaChsKXt9aWYoIWope3ZhciBtPU9iamVjdC5jcmVhdGUobnVsbCk7bS5mdHA9MjEsbS5maWxlPTAsbS5nb3BoZXI9NzAsbS5odHRwPTgwLG0uaHR0cHM9NDQzLG0ud3M9ODAsbS53c3M9NDQzO3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7blsiJTJlIl09Ii4iLG5bIi4lMmUiXT0iLi4iLG5bIiUyZS4iXT0iLi4iLG5bIiUyZSUyZSJdPSIuLiI7dmFyIG89dm9pZCAwLHA9L1thLXpBLVpdLyxxPS9bYS16QS1aMC05XCtcLVwuXS87aS5wcm90b3R5cGU9e2dldCBocmVmKCl7aWYodGhpcy5faXNJbnZhbGlkKXJldHVybiB0aGlzLl91cmw7dmFyIGE9IiI7cmV0dXJuKCIiIT10aGlzLl91c2VybmFtZXx8bnVsbCE9dGhpcy5fcGFzc3dvcmQpJiYoYT10aGlzLl91c2VybmFtZSsobnVsbCE9dGhpcy5fcGFzc3dvcmQ/IjoiK3RoaXMuX3Bhc3N3b3JkOiIiKSsiQCIpLHRoaXMucHJvdG9jb2wrKHRoaXMuX2lzUmVsYXRpdmU/Ii8vIithK3RoaXMuaG9zdDoiIikrdGhpcy5wYXRobmFtZSt0aGlzLl9xdWVyeSt0aGlzLl9mcmFnbWVudH0sc2V0IGhyZWYoYSl7aC5jYWxsKHRoaXMpLGcuY2FsbCh0aGlzLGEpfSxnZXQgcHJvdG9jb2woKXtyZXR1cm4gdGhpcy5fc2NoZW1lKyI6In0sc2V0IHByb3RvY29sKGEpe3RoaXMuX2lzSW52YWxpZHx8Zy5jYWxsKHRoaXMsYSsiOiIsInNjaGVtZSBzdGFydCIpfSxnZXQgaG9zdCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWQ/IiI6dGhpcy5fcG9ydD90aGlzLl9ob3N0KyI6Iit0aGlzLl9wb3J0OnRoaXMuX2hvc3R9LHNldCBob3N0KGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJmcuY2FsbCh0aGlzLGEsImhvc3QiKX0sZ2V0IGhvc3RuYW1lKCl7cmV0dXJuIHRoaXMuX2hvc3R9LHNldCBob3N0bmFtZShhKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiZnLmNhbGwodGhpcyxhLCJob3N0bmFtZSIpfSxnZXQgcG9ydCgpe3JldHVybiB0aGlzLl9wb3J0fSxzZXQgcG9ydChhKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiZnLmNhbGwodGhpcyxhLCJwb3J0Iil9LGdldCBwYXRobmFtZSgpe3JldHVybiB0aGlzLl9pc0ludmFsaWQ/IiI6dGhpcy5faXNSZWxhdGl2ZT8iLyIrdGhpcy5fcGF0aC5qb2luKCIvIik6dGhpcy5fc2NoZW1lRGF0YX0sc2V0IHBhdGhuYW1lKGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJih0aGlzLl9wYXRoPVtdLGcuY2FsbCh0aGlzLGEsInJlbGF0aXZlIHBhdGggc3RhcnQiKSl9LGdldCBzZWFyY2goKXtyZXR1cm4gdGhpcy5faXNJbnZhbGlkfHwhdGhpcy5fcXVlcnl8fCI/Ij09dGhpcy5fcXVlcnk/IiI6dGhpcy5fcXVlcnl9LHNldCBzZWFyY2goYSl7IXRoaXMuX2lzSW52YWxpZCYmdGhpcy5faXNSZWxhdGl2ZSYmKHRoaXMuX3F1ZXJ5PSI/IiwiPyI9PWFbMF0mJihhPWEuc2xpY2UoMSkpLGcuY2FsbCh0aGlzLGEsInF1ZXJ5IikpfSxnZXQgaGFzaCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWR8fCF0aGlzLl9mcmFnbWVudHx8IiMiPT10aGlzLl9mcmFnbWVudD8iIjp0aGlzLl9mcmFnbWVudH0sc2V0IGhhc2goYSl7dGhpcy5faXNJbnZhbGlkfHwodGhpcy5fZnJhZ21lbnQ9IiMiLCIjIj09YVswXSYmKGE9YS5zbGljZSgxKSksZy5jYWxsKHRoaXMsYSwiZnJhZ21lbnQiKSl9fSxhLlVSTD1pfX0od2luZG93KSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2Zvcih2YXIgYj1hfHx7fSxkPTE7ZDxhcmd1bWVudHMubGVuZ3RoO2QrKyl7dmFyIGU9YXJndW1lbnRzW2RdO3RyeXtmb3IodmFyIGYgaW4gZSljKGYsZSxiKX1jYXRjaChnKXt9fXJldHVybiBifWZ1bmN0aW9uIGMoYSxiLGMpe3ZhciBlPWQoYixhKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYyxhLGUpfWZ1bmN0aW9uIGQoYSxiKXtpZihhKXt2YXIgYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsYik7cmV0dXJuIGN8fGQoT2JqZWN0LmdldFByb3RvdHlwZU9mKGEpLGIpfX1GdW5jdGlvbi5wcm90b3R5cGUuYmluZHx8KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGQ9Yy5zbGljZSgpO3JldHVybiBkLnB1c2guYXBwbHkoZCxhcmd1bWVudHMpLGIuYXBwbHkoYSxkKX19KSxhLm1peGluPWJ9KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiLGMpe3ZhciBkPSJzdHJpbmciPT10eXBlb2YgYT9kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEpOmEuY2xvbmVOb2RlKCEwKTtpZihkLmlubmVySFRNTD1iLGMpZm9yKHZhciBlIGluIGMpZC5zZXRBdHRyaWJ1dGUoZSxjW2VdKTtyZXR1cm4gZH12YXIgYz1ET01Ub2tlbkxpc3QucHJvdG90eXBlLmFkZCxkPURPTVRva2VuTGlzdC5wcm90b3R5cGUucmVtb3ZlO0RPTVRva2VuTGlzdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTxhcmd1bWVudHMubGVuZ3RoO2ErKyljLmNhbGwodGhpcyxhcmd1bWVudHNbYV0pfSxET01Ub2tlbkxpc3QucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8YXJndW1lbnRzLmxlbmd0aDthKyspZC5jYWxsKHRoaXMsYXJndW1lbnRzW2FdKX0sRE9NVG9rZW5MaXN0LnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oYSxiKXsxPT1hcmd1bWVudHMubGVuZ3RoJiYoYj0hdGhpcy5jb250YWlucyhhKSksYj90aGlzLmFkZChhKTp0aGlzLnJlbW92ZShhKX0sRE9NVG9rZW5MaXN0LnByb3RvdHlwZS5zd2l0Y2g9ZnVuY3Rpb24oYSxiKXthJiZ0aGlzLnJlbW92ZShhKSxiJiZ0aGlzLmFkZChiKX07dmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcyl9LGY9d2luZG93Lk5hbWVkTm9kZU1hcHx8d2luZG93Lk1vek5hbWVkQXR0ck1hcHx8e307aWYoTm9kZUxpc3QucHJvdG90eXBlLmFycmF5PWUsZi5wcm90b3R5cGUuYXJyYXk9ZSxIVE1MQ29sbGVjdGlvbi5wcm90b3R5cGUuYXJyYXk9ZSwhd2luZG93LnBlcmZvcm1hbmNlKXt2YXIgZz1EYXRlLm5vdygpO3dpbmRvdy5wZXJmb3JtYW5jZT17bm93OmZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCktZ319fXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKCl7dmFyIGE9d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZTtyZXR1cm4gYT9mdW5jdGlvbihiKXtyZXR1cm4gYShmdW5jdGlvbigpe2IocGVyZm9ybWFuY2Uubm93KCkpfSl9OmZ1bmN0aW9uKGEpe3JldHVybiB3aW5kb3cuc2V0VGltZW91dChhLDFlMy82MCl9fSgpKSx3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGEpe2NsZWFyVGltZW91dChhKX19KCkpO3ZhciBoPVtdLGk9ZnVuY3Rpb24oKXtoLnB1c2goYXJndW1lbnRzKX07d2luZG93LlBvbHltZXI9aSxhLmRlbGl2ZXJEZWNsYXJhdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gYS5kZWxpdmVyRGVjbGFyYXRpb25zPWZ1bmN0aW9uKCl7dGhyb3ciUG9zc2libGUgYXR0ZW1wdCB0byBsb2FkIFBvbHltZXIgdHdpY2UifSxofSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXt3aW5kb3cuUG9seW1lcj09PWkmJih3aW5kb3cuUG9seW1lcj1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoJ1lvdSB0cmllZCB0byB1c2UgcG9seW1lciB3aXRob3V0IGxvYWRpbmcgaXQgZmlyc3QuIFRvIGxvYWQgcG9seW1lciwgPGxpbmsgcmVsPSJpbXBvcnQiIGhyZWY9ImNvbXBvbmVudHMvcG9seW1lci9wb2x5bWVyLmh0bWwiPicpfSl9KSxhLmNyZWF0ZURPTT1ifSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2EudGVtcGxhdGVDb250ZW50PWEudGVtcGxhdGVDb250ZW50fHxmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250ZW50fX0od2luZG93LlBsYXRmb3JtKSxmdW5jdGlvbihhKXthPWF8fCh3aW5kb3cuSW5zcGVjdG9yPXt9KTt2YXIgYjt3aW5kb3cuc2luc3BlY3Q9ZnVuY3Rpb24oYSxkKXtifHwoYj13aW5kb3cub3BlbigiIiwiU2hhZG93RE9NIEluc3BlY3RvciIsbnVsbCwhMCksYi5kb2N1bWVudC53cml0ZShjKSxiLmFwaT17c2hhZG93aXplOnNoYWRvd2l6ZX0pLGYoYXx8d3JhcChkb2N1bWVudC5ib2R5KSxkKX07dmFyIGM9WyI8IURPQ1RZUEUgaHRtbD4iLCI8aHRtbD4iLCIgIDxoZWFkPiIsIiAgICA8dGl0bGU+U2hhZG93RE9NIEluc3BlY3RvcjwvdGl0bGU+IiwiICAgIDxzdHlsZT4iLCIgICAgICBib2R5IHsiLCIgICAgICB9IiwiICAgICAgcHJlIHsiLCcgICAgICAgIGZvbnQ6IDlwdCAiQ291cmllciBOZXciLCBtb25vc3BhY2U7JywiICAgICAgICBsaW5lLWhlaWdodDogMS41ZW07IiwiICAgICAgfSIsIiAgICAgIHRhZyB7IiwiICAgICAgICBjb2xvcjogcHVycGxlOyIsIiAgICAgIH0iLCIgICAgICB1bCB7IiwiICAgICAgICAgbWFyZ2luOiAwOyIsIiAgICAgICAgIHBhZGRpbmc6IDA7IiwiICAgICAgICAgbGlzdC1zdHlsZTogbm9uZTsiLCIgICAgICB9IiwiICAgICAgbGkgeyIsIiAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsiLCIgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmMWYxOyIsIiAgICAgICAgIHBhZGRpbmc6IDRweCA2cHg7IiwiICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4OyIsIiAgICAgICAgIG1hcmdpbi1yaWdodDogNHB4OyIsIiAgICAgIH0iLCIgICAgPC9zdHlsZT4iLCIgIDwvaGVhZD4iLCIgIDxib2R5PiIsJyAgICA8dWwgaWQ9ImNydW1icyI+JywiICAgIDwvdWw+IiwnICAgIDxkaXYgaWQ9InRyZWUiPjwvZGl2PicsIiAgPC9ib2R5PiIsIjwvaHRtbD4iXS5qb2luKCJcbiIpLGQ9W10sZT1mdW5jdGlvbigpe3ZhciBhPWIuZG9jdW1lbnQsYz1hLnF1ZXJ5U2VsZWN0b3IoIiNjcnVtYnMiKTtjLnRleHRDb250ZW50PSIiO2Zvcih2YXIgZSxnPTA7ZT1kW2ddO2crKyl7dmFyIGg9YS5jcmVhdGVFbGVtZW50KCJhIik7aC5ocmVmPSIjIixoLnRleHRDb250ZW50PWUubG9jYWxOYW1lLGguaWR4PWcsaC5vbmNsaWNrPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYjtkLmxlbmd0aD50aGlzLmlkeDspYj1kLnBvcCgpO2YoYi5zaGFkb3d8fGIsYiksYS5wcmV2ZW50RGVmYXVsdCgpfSxjLmFwcGVuZENoaWxkKGEuY3JlYXRlRWxlbWVudCgibGkiKSkuYXBwZW5kQ2hpbGQoaCl9fSxmPWZ1bmN0aW9uKGEsYyl7dmFyIGY9Yi5kb2N1bWVudDtrPVtdO3ZhciBnPWN8fGE7ZC5wdXNoKGcpLGUoKSxmLmJvZHkucXVlcnlTZWxlY3RvcigiI3RyZWUiKS5pbm5lckhUTUw9IjxwcmU+IitqKGEsYS5jaGlsZE5vZGVzKSsiPC9wcmU+In0sZz1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpLGg9e1NUWUxFOjEsU0NSSVBUOjEsIiNjb21tZW50IjoxLFRFTVBMQVRFOjF9LGk9ZnVuY3Rpb24oYSl7cmV0dXJuIGhbYS5ub2RlTmFtZV19LGo9ZnVuY3Rpb24oYSxiLGMpe2lmKGkoYSkpcmV0dXJuIiI7dmFyIGQ9Y3x8IiI7aWYoYS5sb2NhbE5hbWV8fDExPT1hLm5vZGVUeXBlKXt2YXIgZT1hLmxvY2FsTmFtZXx8InNoYWRvdy1yb290IixmPWQrbChhKTsiY29udGVudCI9PWUmJihiPWEuZ2V0RGlzdHJpYnV0ZWROb2RlcygpKSxmKz0iPGJyLz4iO3ZhciBoPWQrIiZuYnNwOyZuYnNwOyI7ZyhiLGZ1bmN0aW9uKGEpe2YrPWooYSxhLmNoaWxkTm9kZXMsaCl9KSxmKz1kLHticjoxfVtlXXx8KGYrPSI8dGFnPiZsdDsvIitlKyImZ3Q7PC90YWc+IixmKz0iPGJyLz4iKX1lbHNle3ZhciBrPWEudGV4dENvbnRlbnQudHJpbSgpO2Y9az9kKyciJytrKyciPGJyLz4nOiIifXJldHVybiBmfSxrPVtdLGw9ZnVuY3Rpb24oYSl7dmFyIGI9Ijx0YWc+Jmx0OyIsYz1hLmxvY2FsTmFtZXx8InNoYWRvdy1yb290IjtyZXR1cm4gYS53ZWJraXRTaGFkb3dSb290fHxhLnNoYWRvd1Jvb3Q/KGIrPScgPGJ1dHRvbiBpZHg9Iicray5sZW5ndGgrJyIgb25jbGljaz0iYXBpLnNoYWRvd2l6ZS5jYWxsKHRoaXMpIj4nK2MrIjwvYnV0dG9uPiIsay5wdXNoKGEpKTpiKz1jfHwic2hhZG93LXJvb3QiLGEuYXR0cmlidXRlcyYmZyhhLmF0dHJpYnV0ZXMsZnVuY3Rpb24oYSl7Yis9IiAiK2EubmFtZSsoYS52YWx1ZT8nPSInK2EudmFsdWUrJyInOiIiKX0pLGIrPSImZ3Q7PC90YWc+In07c2hhZG93aXplPWZ1bmN0aW9uKCl7dmFyIGE9TnVtYmVyKHRoaXMuYXR0cmlidXRlcy5pZHgudmFsdWUpLGI9a1thXTtiP2YoYi53ZWJraXRTaGFkb3dSb290fHxiLnNoYWRvd1Jvb3QsYik6KGNvbnNvbGUubG9nKCJiYWQgc2hhZG93aXplIG5vZGUiKSxjb25zb2xlLmRpcih0aGlzKSl9LGEub3V0cHV0PWp9KHdpbmRvdy5JbnNwZWN0b3IpLGZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTthLnRleHRDb250ZW50PSJib2R5IHt0cmFuc2l0aW9uOiBvcGFjaXR5IGVhc2UtaW4gMC4yczsgfSBcbmJvZHlbdW5yZXNvbHZlZF0ge29wYWNpdHk6IDA7IGRpc3BsYXk6IGJsb2NrOyBvdmVyZmxvdzogaGlkZGVuOyB9IFxuIjt2YXIgYj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJoZWFkIik7Yi5pbnNlcnRCZWZvcmUoYSxiLmZpcnN0Q2hpbGQpfShQbGF0Zm9ybSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIpe3JldHVybiBiPWJ8fFtdLGIubWFwfHwoYj1bYl0pLGEuYXBwbHkodGhpcyxiLm1hcChkKSl9ZnVuY3Rpb24gYyhhLGMsZCl7dmFyIGU7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm47Y2FzZSAxOmU9bnVsbDticmVhaztjYXNlIDI6ZT1jLmFwcGx5KHRoaXMpO2JyZWFrO2RlZmF1bHQ6ZT1iKGQsYyl9ZlthXT1lfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGZbYV19ZnVuY3Rpb24gZShhLGMpe0hUTUxJbXBvcnRzLndoZW5JbXBvcnRzUmVhZHkoZnVuY3Rpb24oKXtiKGMsYSl9KX12YXIgZj17fTthLm1hcnNoYWw9ZCxhLm1vZHVsZT1jLGEudXNpbmc9ZX0od2luZG93KSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2YudGV4dENvbnRlbnQ9ZCsrLGUucHVzaChhKX1mdW5jdGlvbiBjKCl7Zm9yKDtlLmxlbmd0aDspZS5zaGlmdCgpKCl9dmFyIGQ9MCxlPVtdLGY9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyh3aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8SnNNdXRhdGlvbk9ic2VydmVyKShjKS5vYnNlcnZlKGYse2NoYXJhY3RlckRhdGE6ITB9KSxhLmVuZE9mTWljcm90YXNrPWJ9KFBsYXRmb3JtKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYixkLGUpe3JldHVybiBhLnJlcGxhY2UoZSxmdW5jdGlvbihhLGUsZixnKXt2YXIgaD1mLnJlcGxhY2UoL1siJ10vZywiIik7cmV0dXJuIGg9YyhiLGgsZCksZSsiJyIraCsiJyIrZ30pfWZ1bmN0aW9uIGMoYSxiLGMpe2lmKGImJiIvIj09PWJbMF0pcmV0dXJuIGI7dmFyIGU9bmV3IFVSTChiLGEpO3JldHVybiBjP2UuaHJlZjpkKGUuaHJlZil9ZnVuY3Rpb24gZChhKXt2YXIgYj1uZXcgVVJMKGRvY3VtZW50LmJhc2VVUkkpLGM9bmV3IFVSTChhLGIpO3JldHVybiBjLmhvc3Q9PT1iLmhvc3QmJmMucG9ydD09PWIucG9ydCYmYy5wcm90b2NvbD09PWIucHJvdG9jb2w/ZShiLGMpOmF9ZnVuY3Rpb24gZShhLGIpe2Zvcih2YXIgYz1hLnBhdGhuYW1lLGQ9Yi5wYXRobmFtZSxlPWMuc3BsaXQoIi8iKSxmPWQuc3BsaXQoIi8iKTtlLmxlbmd0aCYmZVswXT09PWZbMF07KWUuc2hpZnQoKSxmLnNoaWZ0KCk7Zm9yKHZhciBnPTAsaD1lLmxlbmd0aC0xO2g+ZztnKyspZi51bnNoaWZ0KCIuLiIpO3JldHVybiBmLmpvaW4oIi8iKStiLnNlYXJjaCtiLmhhc2h9dmFyIGY9e3Jlc29sdmVEb206ZnVuY3Rpb24oYSxiKXtiPWJ8fGEub3duZXJEb2N1bWVudC5iYXNlVVJJLHRoaXMucmVzb2x2ZUF0dHJpYnV0ZXMoYSxiKSx0aGlzLnJlc29sdmVTdHlsZXMoYSxiKTt2YXIgYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoInRlbXBsYXRlIik7aWYoYylmb3IodmFyIGQsZT0wLGY9Yy5sZW5ndGg7Zj5lJiYoZD1jW2VdKTtlKyspZC5jb250ZW50JiZ0aGlzLnJlc29sdmVEb20oZC5jb250ZW50LGIpfSxyZXNvbHZlVGVtcGxhdGU6ZnVuY3Rpb24oYSl7dGhpcy5yZXNvbHZlRG9tKGEuY29udGVudCxhLm93bmVyRG9jdW1lbnQuYmFzZVVSSSl9LHJlc29sdmVTdHlsZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoInN0eWxlIik7aWYoYylmb3IodmFyIGQsZT0wLGY9Yy5sZW5ndGg7Zj5lJiYoZD1jW2VdKTtlKyspdGhpcy5yZXNvbHZlU3R5bGUoZCxiKX0scmVzb2x2ZVN0eWxlOmZ1bmN0aW9uKGEsYil7Yj1ifHxhLm93bmVyRG9jdW1lbnQuYmFzZVVSSSxhLnRleHRDb250ZW50PXRoaXMucmVzb2x2ZUNzc1RleHQoYS50ZXh0Q29udGVudCxiKX0scmVzb2x2ZUNzc1RleHQ6ZnVuY3Rpb24oYSxjLGQpe3JldHVybiBhPWIoYSxjLGQsZyksYihhLGMsZCxoKX0scmVzb2x2ZUF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSxiKXthLmhhc0F0dHJpYnV0ZXMmJmEuaGFzQXR0cmlidXRlcygpJiZ0aGlzLnJlc29sdmVFbGVtZW50QXR0cmlidXRlcyhhLGIpO3ZhciBjPWEmJmEucXVlcnlTZWxlY3RvckFsbChqKTtpZihjKWZvcih2YXIgZCxlPTAsZj1jLmxlbmd0aDtmPmUmJihkPWNbZV0pO2UrKyl0aGlzLnJlc29sdmVFbGVtZW50QXR0cmlidXRlcyhkLGIpfSxyZXNvbHZlRWxlbWVudEF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSxkKXtkPWR8fGEub3duZXJEb2N1bWVudC5iYXNlVVJJLGkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgZixoPWEuYXR0cmlidXRlc1tlXSxpPWgmJmgudmFsdWU7aSYmaS5zZWFyY2goayk8MCYmKGY9InN0eWxlIj09PWU/YihpLGQsZyk6YyhkLGkpLGgudmFsdWU9Zil9KX19LGc9Lyh1cmxcKCkoW14pXSopKFwpKS9nLGg9LyhAaW1wb3J0W1xzXSsoPyF1cmxcKCkpKFteO10qKSg7KS9nLGk9WyJocmVmIiwic3JjIiwiYWN0aW9uIiwic3R5bGUiXSxqPSJbIitpLmpvaW4oIl0sWyIpKyJdIixrPSJ7ey4qfX0iO2EudXJsUmVzb2x2ZXI9Zn0oUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7dS5wdXNoKGEpLHR8fCh0PSEwLHEoZCkpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCYmd2luZG93LlNoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChhKXx8YX1mdW5jdGlvbiBkKCl7dD0hMTt2YXIgYT11O3U9W10sYS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEudWlkXy1iLnVpZF99KTt2YXIgYj0hMTthLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGM9YS50YWtlUmVjb3JkcygpO2UoYSksYy5sZW5ndGgmJihhLmNhbGxiYWNrXyhjLGEpLGI9ITApfSksYiYmZCgpfWZ1bmN0aW9uIGUoYSl7YS5ub2Rlc18uZm9yRWFjaChmdW5jdGlvbihiKXt2YXIgYz1wLmdldChiKTtjJiZjLmZvckVhY2goZnVuY3Rpb24oYil7Yi5vYnNlcnZlcj09PWEmJmIucmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzKCl9KX0pfWZ1bmN0aW9uIGYoYSxiKXtmb3IodmFyIGM9YTtjO2M9Yy5wYXJlbnROb2RlKXt2YXIgZD1wLmdldChjKTtpZihkKWZvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdLGc9Zi5vcHRpb25zO2lmKGM9PT1hfHxnLnN1YnRyZWUpe3ZhciBoPWIoZyk7aCYmZi5lbnF1ZXVlKGgpfX19fWZ1bmN0aW9uIGcoYSl7dGhpcy5jYWxsYmFja189YSx0aGlzLm5vZGVzXz1bXSx0aGlzLnJlY29yZHNfPVtdLHRoaXMudWlkXz0rK3Z9ZnVuY3Rpb24gaChhLGIpe3RoaXMudHlwZT1hLHRoaXMudGFyZ2V0PWIsdGhpcy5hZGRlZE5vZGVzPVtdLHRoaXMucmVtb3ZlZE5vZGVzPVtdLHRoaXMucHJldmlvdXNTaWJsaW5nPW51bGwsdGhpcy5uZXh0U2libGluZz1udWxsLHRoaXMuYXR0cmlidXRlTmFtZT1udWxsLHRoaXMuYXR0cmlidXRlTmFtZXNwYWNlPW51bGwsdGhpcy5vbGRWYWx1ZT1udWxsfWZ1bmN0aW9uIGkoYSl7dmFyIGI9bmV3IGgoYS50eXBlLGEudGFyZ2V0KTtyZXR1cm4gYi5hZGRlZE5vZGVzPWEuYWRkZWROb2Rlcy5zbGljZSgpLGIucmVtb3ZlZE5vZGVzPWEucmVtb3ZlZE5vZGVzLnNsaWNlKCksYi5wcmV2aW91c1NpYmxpbmc9YS5wcmV2aW91c1NpYmxpbmcsYi5uZXh0U2libGluZz1hLm5leHRTaWJsaW5nLGIuYXR0cmlidXRlTmFtZT1hLmF0dHJpYnV0ZU5hbWUsYi5hdHRyaWJ1dGVOYW1lc3BhY2U9YS5hdHRyaWJ1dGVOYW1lc3BhY2UsYi5vbGRWYWx1ZT1hLm9sZFZhbHVlLGJ9ZnVuY3Rpb24gaihhLGIpe3JldHVybiB3PW5ldyBoKGEsYil9ZnVuY3Rpb24gayhhKXtyZXR1cm4geD94Oih4PWkodykseC5vbGRWYWx1ZT1hLHgpfWZ1bmN0aW9uIGwoKXt3PXg9dm9pZCAwfWZ1bmN0aW9uIG0oYSl7cmV0dXJuIGE9PT14fHxhPT09d31mdW5jdGlvbiBuKGEsYil7cmV0dXJuIGE9PT1iP2E6eCYmbShhKT94Om51bGx9ZnVuY3Rpb24gbyhhLGIsYyl7dGhpcy5vYnNlcnZlcj1hLHRoaXMudGFyZ2V0PWIsdGhpcy5vcHRpb25zPWMsdGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdfXZhciBwPW5ldyBXZWFrTWFwLHE9d2luZG93Lm1zU2V0SW1tZWRpYXRlO2lmKCFxKXt2YXIgcj1bXSxzPVN0cmluZyhNYXRoLnJhbmRvbSgpKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZnVuY3Rpb24oYSl7aWYoYS5kYXRhPT09cyl7dmFyIGI9cjtyPVtdLGIuZm9yRWFjaChmdW5jdGlvbihhKXthKCl9KX19KSxxPWZ1bmN0aW9uKGEpe3IucHVzaChhKSx3aW5kb3cucG9zdE1lc3NhZ2UocywiKiIpfX12YXIgdD0hMSx1PVtdLHY9MDtnLnByb3RvdHlwZT17b2JzZXJ2ZTpmdW5jdGlvbihhLGIpe2lmKGE9YyhhKSwhYi5jaGlsZExpc3QmJiFiLmF0dHJpYnV0ZXMmJiFiLmNoYXJhY3RlckRhdGF8fGIuYXR0cmlidXRlT2xkVmFsdWUmJiFiLmF0dHJpYnV0ZXN8fGIuYXR0cmlidXRlRmlsdGVyJiZiLmF0dHJpYnV0ZUZpbHRlci5sZW5ndGgmJiFiLmF0dHJpYnV0ZXN8fGIuY2hhcmFjdGVyRGF0YU9sZFZhbHVlJiYhYi5jaGFyYWN0ZXJEYXRhKXRocm93IG5ldyBTeW50YXhFcnJvcjt2YXIgZD1wLmdldChhKTtkfHxwLnNldChhLGQ9W10pO2Zvcih2YXIgZSxmPTA7ZjxkLmxlbmd0aDtmKyspaWYoZFtmXS5vYnNlcnZlcj09PXRoaXMpe2U9ZFtmXSxlLnJlbW92ZUxpc3RlbmVycygpLGUub3B0aW9ucz1iO2JyZWFrfWV8fChlPW5ldyBvKHRoaXMsYSxiKSxkLnB1c2goZSksdGhpcy5ub2Rlc18ucHVzaChhKSksZS5hZGRMaXN0ZW5lcnMoKX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe3RoaXMubm9kZXNfLmZvckVhY2goZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXAuZ2V0KGEpLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTtpZihkLm9ic2VydmVyPT09dGhpcyl7ZC5yZW1vdmVMaXN0ZW5lcnMoKSxiLnNwbGljZShjLDEpO2JyZWFrfX19LHRoaXMpLHRoaXMucmVjb3Jkc189W119LHRha2VSZWNvcmRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5yZWNvcmRzXztyZXR1cm4gdGhpcy5yZWNvcmRzXz1bXSxhfX07dmFyIHcseDtvLnByb3RvdHlwZT17ZW5xdWV1ZTpmdW5jdGlvbihhKXt2YXIgYz10aGlzLm9ic2VydmVyLnJlY29yZHNfLGQ9Yy5sZW5ndGg7aWYoYy5sZW5ndGg+MCl7dmFyIGU9Y1tkLTFdLGY9bihlLGEpO2lmKGYpcmV0dXJuIHZvaWQoY1tkLTFdPWYpfWVsc2UgYih0aGlzLm9ic2VydmVyKTtjW2RdPWF9LGFkZExpc3RlbmVyczpmdW5jdGlvbigpe3RoaXMuYWRkTGlzdGVuZXJzXyh0aGlzLnRhcmdldCl9LGFkZExpc3RlbmVyc186ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zO2IuYXR0cmlidXRlcyYmYS5hZGRFdmVudExpc3RlbmVyKCJET01BdHRyTW9kaWZpZWQiLHRoaXMsITApLGIuY2hhcmFjdGVyRGF0YSYmYS5hZGRFdmVudExpc3RlbmVyKCJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWQiLHRoaXMsITApLGIuY2hpbGRMaXN0JiZhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTU5vZGVJbnNlcnRlZCIsdGhpcywhMCksKGIuY2hpbGRMaXN0fHxiLnN1YnRyZWUpJiZhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTU5vZGVSZW1vdmVkIix0aGlzLCEwKX0scmVtb3ZlTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVMaXN0ZW5lcnNfKHRoaXMudGFyZ2V0KX0scmVtb3ZlTGlzdGVuZXJzXzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnM7Yi5hdHRyaWJ1dGVzJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUF0dHJNb2RpZmllZCIsdGhpcywhMCksYi5jaGFyYWN0ZXJEYXRhJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCIsdGhpcywhMCksYi5jaGlsZExpc3QmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NTm9kZUluc2VydGVkIix0aGlzLCEwKSwoYi5jaGlsZExpc3R8fGIuc3VidHJlZSkmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NTm9kZVJlbW92ZWQiLHRoaXMsITApfSxhZGRUcmFuc2llbnRPYnNlcnZlcjpmdW5jdGlvbihhKXtpZihhIT09dGhpcy50YXJnZXQpe3RoaXMuYWRkTGlzdGVuZXJzXyhhKSx0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXMucHVzaChhKTt2YXIgYj1wLmdldChhKTtifHxwLnNldChhLGI9W10pLGIucHVzaCh0aGlzKX19LHJlbW92ZVRyYW5zaWVudE9ic2VydmVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlczt0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W10sYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMucmVtb3ZlTGlzdGVuZXJzXyhhKTtmb3IodmFyIGI9cC5nZXQoYSksYz0wO2M8Yi5sZW5ndGg7YysrKWlmKGJbY109PT10aGlzKXtiLnNwbGljZShjLDEpO2JyZWFrfX0sdGhpcyl9LGhhbmRsZUV2ZW50OmZ1bmN0aW9uKGEpe3N3aXRjaChhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLGEudHlwZSl7Y2FzZSJET01BdHRyTW9kaWZpZWQiOnZhciBiPWEuYXR0ck5hbWUsYz1hLnJlbGF0ZWROb2RlLm5hbWVzcGFjZVVSSSxkPWEudGFyZ2V0LGU9bmV3IGooImF0dHJpYnV0ZXMiLGQpO2UuYXR0cmlidXRlTmFtZT1iLGUuYXR0cmlidXRlTmFtZXNwYWNlPWM7dmFyIGc9YS5hdHRyQ2hhbmdlPT09TXV0YXRpb25FdmVudC5BRERJVElPTj9udWxsOmEucHJldlZhbHVlO2YoZCxmdW5jdGlvbihhKXtyZXR1cm4hYS5hdHRyaWJ1dGVzfHxhLmF0dHJpYnV0ZUZpbHRlciYmYS5hdHRyaWJ1dGVGaWx0ZXIubGVuZ3RoJiYtMT09PWEuYXR0cmlidXRlRmlsdGVyLmluZGV4T2YoYikmJi0xPT09YS5hdHRyaWJ1dGVGaWx0ZXIuaW5kZXhPZihjKT92b2lkIDA6YS5hdHRyaWJ1dGVPbGRWYWx1ZT9rKGcpOmV9KTticmVhaztjYXNlIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCI6dmFyIGQ9YS50YXJnZXQsZT1qKCJjaGFyYWN0ZXJEYXRhIixkKSxnPWEucHJldlZhbHVlO2YoZCxmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGFyYWN0ZXJEYXRhP2EuY2hhcmFjdGVyRGF0YU9sZFZhbHVlP2soZyk6ZTp2b2lkIDB9KTticmVhaztjYXNlIkRPTU5vZGVSZW1vdmVkIjp0aGlzLmFkZFRyYW5zaWVudE9ic2VydmVyKGEudGFyZ2V0KTtjYXNlIkRPTU5vZGVJbnNlcnRlZCI6dmFyIGgsaSxkPWEucmVsYXRlZE5vZGUsbT1hLnRhcmdldDsiRE9NTm9kZUluc2VydGVkIj09PWEudHlwZT8oaD1bbV0saT1bXSk6KGg9W10saT1bbV0pO3ZhciBuPW0ucHJldmlvdXNTaWJsaW5nLG89bS5uZXh0U2libGluZyxlPWooImNoaWxkTGlzdCIsZCk7ZS5hZGRlZE5vZGVzPWgsZS5yZW1vdmVkTm9kZXM9aSxlLnByZXZpb3VzU2libGluZz1uLGUubmV4dFNpYmxpbmc9byxmKGQsZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hpbGRMaXN0P2U6dm9pZCAwfSl9bCgpfX0sYS5Kc011dGF0aW9uT2JzZXJ2ZXI9ZyxhLk11dGF0aW9uT2JzZXJ2ZXJ8fChhLk11dGF0aW9uT2JzZXJ2ZXI9Zyl9KHRoaXMpLHdpbmRvdy5IVE1MSW1wb3J0cz13aW5kb3cuSFRNTEltcG9ydHN8fHtmbGFnczp7fX0sZnVuY3Rpb24oYSl7dmFyIGI9KGEucGF0aCxhLnhociksYz1hLmZsYWdzLGQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmNhY2hlPXt9LHRoaXMub25sb2FkPWEsdGhpcy5vbmNvbXBsZXRlPWIsdGhpcy5pbmZsaWdodD0wLHRoaXMucGVuZGluZz17fX07ZC5wcm90b3R5cGU9e2FkZE5vZGVzOmZ1bmN0aW9uKGEpe3RoaXMuaW5mbGlnaHQrPWEubGVuZ3RoO2Zvcih2YXIgYixjPTAsZD1hLmxlbmd0aDtkPmMmJihiPWFbY10pO2MrKyl0aGlzLnJlcXVpcmUoYik7dGhpcy5jaGVja0RvbmUoKX0sYWRkTm9kZTpmdW5jdGlvbihhKXt0aGlzLmluZmxpZ2h0KyssdGhpcy5yZXF1aXJlKGEpLHRoaXMuY2hlY2tEb25lKCl9LHJlcXVpcmU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5zcmN8fGEuaHJlZjthLl9fbm9kZVVybD1iLHRoaXMuZGVkdXBlKGIsYSl8fHRoaXMuZmV0Y2goYixhKX0sZGVkdXBlOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5wZW5kaW5nW2FdKXJldHVybiB0aGlzLnBlbmRpbmdbYV0ucHVzaChiKSwhMDtyZXR1cm4gdGhpcy5jYWNoZVthXT8odGhpcy5vbmxvYWQoYSxiLHRoaXMuY2FjaGVbYV0pLHRoaXMudGFpbCgpLCEwKToodGhpcy5wZW5kaW5nW2FdPVtiXSwhMSl9LGZldGNoOmZ1bmN0aW9uKGEsZCl7aWYoYy5sb2FkJiZjb25zb2xlLmxvZygiZmV0Y2giLGEsZCksYS5tYXRjaCgvXmRhdGE6Lykpe3ZhciBlPWEuc3BsaXQoIiwiKSxmPWVbMF0sZz1lWzFdO2c9Zi5pbmRleE9mKCI7YmFzZTY0Iik+LTE/YXRvYihnKTpkZWNvZGVVUklDb21wb25lbnQoZyksc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMucmVjZWl2ZShhLGQsbnVsbCxnKX0uYmluZCh0aGlzKSwwKX1lbHNle3ZhciBoPWZ1bmN0aW9uKGIsYyl7dGhpcy5yZWNlaXZlKGEsZCxiLGMpfS5iaW5kKHRoaXMpO2IubG9hZChhLGgpfX0scmVjZWl2ZTpmdW5jdGlvbihhLGIsYyxkKXt0aGlzLmNhY2hlW2FdPWQ7Zm9yKHZhciBlLGY9dGhpcy5wZW5kaW5nW2FdLGc9MCxoPWYubGVuZ3RoO2g+ZyYmKGU9ZltnXSk7ZysrKXRoaXMub25sb2FkKGEsZSxkKSx0aGlzLnRhaWwoKTt0aGlzLnBlbmRpbmdbYV09bnVsbH0sdGFpbDpmdW5jdGlvbigpey0tdGhpcy5pbmZsaWdodCx0aGlzLmNoZWNrRG9uZSgpfSxjaGVja0RvbmU6ZnVuY3Rpb24oKXt0aGlzLmluZmxpZ2h0fHx0aGlzLm9uY29tcGxldGUoKX19LGI9Ynx8e2FzeW5jOiEwLG9rOmZ1bmN0aW9uKGEpe3JldHVybiBhLnN0YXR1cz49MjAwJiZhLnN0YXR1czwzMDB8fDMwND09PWEuc3RhdHVzfHwwPT09YS5zdGF0dXN9LGxvYWQ6ZnVuY3Rpb24oYyxkLGUpe3ZhciBmPW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4oYS5mbGFncy5kZWJ1Z3x8YS5mbGFncy5idXN0KSYmKGMrPSI/IitNYXRoLnJhbmRvbSgpKSxmLm9wZW4oIkdFVCIsYyxiLmFzeW5jKSxmLmFkZEV2ZW50TGlzdGVuZXIoInJlYWR5c3RhdGVjaGFuZ2UiLGZ1bmN0aW9uKCl7ND09PWYucmVhZHlTdGF0ZSYmZC5jYWxsKGUsIWIub2soZikmJmYsZi5yZXNwb25zZXx8Zi5yZXNwb25zZVRleHQsYyl9KSxmLnNlbmQoKSxmfSxsb2FkRG9jdW1lbnQ6ZnVuY3Rpb24oYSxiLGMpe3RoaXMubG9hZChhLGIsYykucmVzcG9uc2VUeXBlPSJkb2N1bWVudCJ9fSxhLnhocj1iLGEuTG9hZGVyPWR9KHdpbmRvdy5IVE1MSW1wb3J0cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4ibGluayI9PT1hLmxvY2FsTmFtZSYmYS5yZWw9PT1nfWZ1bmN0aW9uIGMoYSl7dmFyIGIsYz1kKGEpO3RyeXtiPWJ0b2EoYyl9Y2F0Y2goZSl7Yj1idG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChjKSkpLGNvbnNvbGUud2FybigiU2NyaXB0IGNvbnRhaW5lZCBub24tbGF0aW4gY2hhcmFjdGVycyB0aGF0IHdlcmUgZm9yY2VkIHRvIGxhdGluLiBTb21lIGNoYXJhY3RlcnMgbWF5IGJlIHdyb25nLiIsYSl9cmV0dXJuImRhdGE6dGV4dC9qYXZhc2NyaXB0O2Jhc2U2NCwiK2J9ZnVuY3Rpb24gZChhKXtyZXR1cm4gYS50ZXh0Q29udGVudCtlKGEpfWZ1bmN0aW9uIGUoYSl7dmFyIGI9YS5fX25vZGVVcmw7aWYoIWIpe2I9YS5vd25lckRvY3VtZW50LmJhc2VVUkk7dmFyIGM9IlsiK01hdGguZmxvb3IoMWUzKihNYXRoLnJhbmRvbSgpKzEpKSsiXSIsZD1hLnRleHRDb250ZW50Lm1hdGNoKC9Qb2x5bWVyXChbJyJdKFteJyJdKikvKTtjPWQmJmRbMV18fGMsYis9Ii8iK2MrIi5qcyJ9cmV0dXJuIlxuLy8jIHNvdXJjZVVSTD0iK2IrIlxuIn1mdW5jdGlvbiBmKGEpe3ZhciBiPWEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO3JldHVybiBiLnRleHRDb250ZW50PWEudGV4dENvbnRlbnQsbi5yZXNvbHZlVXJsc0luU3R5bGUoYiksYn12YXIgZz0iaW1wb3J0IixoPWEuZmxhZ3MsaT0vVHJpZGVudC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxqPXdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD93aW5kb3cuU2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKGRvY3VtZW50KTpkb2N1bWVudCxrPXtkb2N1bWVudFNlbGVjdG9yczoibGlua1tyZWw9IitnKyJdIixpbXBvcnRzU2VsZWN0b3JzOlsibGlua1tyZWw9IitnKyJdIiwibGlua1tyZWw9c3R5bGVzaGVldF0iLCJzdHlsZSIsInNjcmlwdDpub3QoW3R5cGVdKSIsJ3NjcmlwdFt0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiXSddLmpvaW4oIiwiKSxtYXA6e2xpbms6InBhcnNlTGluayIsc2NyaXB0OiJwYXJzZVNjcmlwdCIsc3R5bGU6InBhcnNlU3R5bGUifSxwYXJzZU5leHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm5leHRUb1BhcnNlKCk7YSYmdGhpcy5wYXJzZShhKX0scGFyc2U6ZnVuY3Rpb24oYSl7aWYodGhpcy5pc1BhcnNlZChhKSlyZXR1cm4gdm9pZChoLnBhcnNlJiZjb25zb2xlLmxvZygiWyVzXSBpcyBhbHJlYWR5IHBhcnNlZCIsYS5sb2NhbE5hbWUpKTt2YXIgYj10aGlzW3RoaXMubWFwW2EubG9jYWxOYW1lXV07YiYmKHRoaXMubWFya1BhcnNpbmcoYSksYi5jYWxsKHRoaXMsYSkpfSxtYXJrUGFyc2luZzpmdW5jdGlvbihhKXtoLnBhcnNlJiZjb25zb2xlLmxvZygicGFyc2luZyIsYSksdGhpcy5wYXJzaW5nRWxlbWVudD1hfSxtYXJrUGFyc2luZ0NvbXBsZXRlOmZ1bmN0aW9uKGEpe2EuX19pbXBvcnRQYXJzZWQ9ITAsYS5fX2ltcG9ydEVsZW1lbnQmJihhLl9faW1wb3J0RWxlbWVudC5fX2ltcG9ydFBhcnNlZD0hMCksdGhpcy5wYXJzaW5nRWxlbWVudD1udWxsLGgucGFyc2UmJmNvbnNvbGUubG9nKCJjb21wbGV0ZWQiLGEpLHRoaXMucGFyc2VOZXh0KCl9LHBhcnNlSW1wb3J0OmZ1bmN0aW9uKGEpe2lmKGEuaW1wb3J0Ll9faW1wb3J0UGFyc2VkPSEwLEhUTUxJbXBvcnRzLl9faW1wb3J0c1BhcnNpbmdIb29rJiZIVE1MSW1wb3J0cy5fX2ltcG9ydHNQYXJzaW5nSG9vayhhKSxhLmRpc3BhdGNoRXZlbnQoYS5fX3Jlc291cmNlP25ldyBDdXN0b21FdmVudCgibG9hZCIse2J1YmJsZXM6ITF9KTpuZXcgQ3VzdG9tRXZlbnQoImVycm9yIix7YnViYmxlczohMX0pKSxhLl9fcGVuZGluZylmb3IodmFyIGI7YS5fX3BlbmRpbmcubGVuZ3RoOyliPWEuX19wZW5kaW5nLnNoaWZ0KCksYiYmYih7dGFyZ2V0OmF9KTt0aGlzLm1hcmtQYXJzaW5nQ29tcGxldGUoYSl9LHBhcnNlTGluazpmdW5jdGlvbihhKXtiKGEpP3RoaXMucGFyc2VJbXBvcnQoYSk6KGEuaHJlZj1hLmhyZWYsdGhpcy5wYXJzZUdlbmVyaWMoYSkpfSxwYXJzZVN0eWxlOmZ1bmN0aW9uKGEpe3ZhciBiPWE7YT1mKGEpLGEuX19pbXBvcnRFbGVtZW50PWIsdGhpcy5wYXJzZUdlbmVyaWMoYSl9LHBhcnNlR2VuZXJpYzpmdW5jdGlvbihhKXt0aGlzLnRyYWNrRWxlbWVudChhKSxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGEpfSx0cmFja0VsZW1lbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9ZnVuY3Rpb24oZCl7YiYmYihkKSxjLm1hcmtQYXJzaW5nQ29tcGxldGUoYSl9O2lmKGEuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsZCksYS5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsZCksaSYmInN0eWxlIj09PWEubG9jYWxOYW1lKXt2YXIgZT0hMTtpZigtMT09YS50ZXh0Q29udGVudC5pbmRleE9mKCJAaW1wb3J0IikpZT0hMDtlbHNlIGlmKGEuc2hlZXQpe2U9ITA7Zm9yKHZhciBmLGc9YS5zaGVldC5jc3NSdWxlcyxoPWc/Zy5sZW5ndGg6MCxqPTA7aD5qJiYoZj1nW2pdKTtqKyspZi50eXBlPT09Q1NTUnVsZS5JTVBPUlRfUlVMRSYmKGU9ZSYmQm9vbGVhbihmLnN0eWxlU2hlZXQpKX1lJiZhLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJsb2FkIix7YnViYmxlczohMX0pKX19LHBhcnNlU2NyaXB0OmZ1bmN0aW9uKGIpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2QuX19pbXBvcnRFbGVtZW50PWIsZC5zcmM9Yi5zcmM/Yi5zcmM6YyhiKSxhLmN1cnJlbnRTY3JpcHQ9Yix0aGlzLnRyYWNrRWxlbWVudChkLGZ1bmN0aW9uKCl7ZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpLGEuY3VycmVudFNjcmlwdD1udWxsfSksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChkKX0sbmV4dFRvUGFyc2U6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5wYXJzaW5nRWxlbWVudCYmdGhpcy5uZXh0VG9QYXJzZUluRG9jKGopfSxuZXh0VG9QYXJzZUluRG9jOmZ1bmN0aW9uKGEsYyl7Zm9yKHZhciBkLGU9YS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMucGFyc2VTZWxlY3RvcnNGb3JOb2RlKGEpKSxmPTAsZz1lLmxlbmd0aDtnPmYmJihkPWVbZl0pO2YrKylpZighdGhpcy5pc1BhcnNlZChkKSlyZXR1cm4gdGhpcy5oYXNSZXNvdXJjZShkKT9iKGQpP3RoaXMubmV4dFRvUGFyc2VJbkRvYyhkLmltcG9ydCxkKTpkOnZvaWQgMDtyZXR1cm4gY30scGFyc2VTZWxlY3RvcnNGb3JOb2RlOmZ1bmN0aW9uKGEpe3ZhciBiPWEub3duZXJEb2N1bWVudHx8YTtyZXR1cm4gYj09PWo/dGhpcy5kb2N1bWVudFNlbGVjdG9yczp0aGlzLmltcG9ydHNTZWxlY3RvcnN9LGlzUGFyc2VkOmZ1bmN0aW9uKGEpe3JldHVybiBhLl9faW1wb3J0UGFyc2VkfSxoYXNSZXNvdXJjZTpmdW5jdGlvbihhKXtyZXR1cm4gYihhKSYmIWEuaW1wb3J0PyExOiEwfX0sbD0vKHVybFwoKShbXildKikoXCkpL2csbT0vKEBpbXBvcnRbXHNdKyg/IXVybFwoKSkoW147XSopKDspL2csbj17cmVzb2x2ZVVybHNJblN0eWxlOmZ1bmN0aW9uKGEpe3ZhciBiPWEub3duZXJEb2N1bWVudCxjPWIuY3JlYXRlRWxlbWVudCgiYSIpO3JldHVybiBhLnRleHRDb250ZW50PXRoaXMucmVzb2x2ZVVybHNJbkNzc1RleHQoYS50ZXh0Q29udGVudCxjKSxhfSxyZXNvbHZlVXJsc0luQ3NzVGV4dDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucmVwbGFjZVVybHMoYSxiLGwpO3JldHVybiBjPXRoaXMucmVwbGFjZVVybHMoYyxiLG0pfSxyZXBsYWNlVXJsczpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGEucmVwbGFjZShjLGZ1bmN0aW9uKGEsYyxkLGUpe3ZhciBmPWQucmVwbGFjZSgvWyInXS9nLCIiKTtyZXR1cm4gYi5ocmVmPWYsZj1iLmhyZWYsYysiJyIrZisiJyIrZX0pfX07YS5wYXJzZXI9ayxhLnBhdGg9bixhLmlzSUU9aX0oSFRNTEltcG9ydHMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGMoYSxtKX1mdW5jdGlvbiBjKGEsYil7cmV0dXJuImxpbmsiPT09YS5sb2NhbE5hbWUmJmEuZ2V0QXR0cmlidXRlKCJyZWwiKT09PWJ9ZnVuY3Rpb24gZChhLGIpe3ZhciBjPWE7YyBpbnN0YW5jZW9mIERvY3VtZW50fHwoYz1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQobSkpLGMuX1VSTD1iO3ZhciBkPWMuY3JlYXRlRWxlbWVudCgiYmFzZSIpO2Quc2V0QXR0cmlidXRlKCJocmVmIixiKSxjLmJhc2VVUkl8fChjLmJhc2VVUkk9Yik7dmFyIGU9Yy5jcmVhdGVFbGVtZW50KCJtZXRhIik7cmV0dXJuIGUuc2V0QXR0cmlidXRlKCJjaGFyc2V0IiwidXRmLTgiKSxjLmhlYWQuYXBwZW5kQ2hpbGQoZSksYy5oZWFkLmFwcGVuZENoaWxkKGQpLGEgaW5zdGFuY2VvZiBEb2N1bWVudHx8KGMuYm9keS5pbm5lckhUTUw9YSksd2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQmJkhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwJiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcChjKSxjfWZ1bmN0aW9uIGUoYSxiKXtiPWJ8fG4sZyhmdW5jdGlvbigpe2goYSxiKX0sYil9ZnVuY3Rpb24gZihhKXtyZXR1cm4iY29tcGxldGUiPT09YS5yZWFkeVN0YXRlfHxhLnJlYWR5U3RhdGU9PT11fWZ1bmN0aW9uIGcoYSxiKXtpZihmKGIpKWEmJmEoKTtlbHNle3ZhciBjPWZ1bmN0aW9uKCl7KCJjb21wbGV0ZSI9PT1iLnJlYWR5U3RhdGV8fGIucmVhZHlTdGF0ZT09PXUpJiYoYi5yZW1vdmVFdmVudExpc3RlbmVyKHYsYyksZyhhLGIpKX07Yi5hZGRFdmVudExpc3RlbmVyKHYsYyl9fWZ1bmN0aW9uIGgoYSxiKXtmdW5jdGlvbiBjKCl7Zj09ZyYmcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGEpfWZ1bmN0aW9uIGQoKXtmKyssYygpfXZhciBlPWIucXVlcnlTZWxlY3RvckFsbCgibGlua1tyZWw9aW1wb3J0XSIpLGY9MCxnPWUubGVuZ3RoO2lmKGcpZm9yKHZhciBoLGo9MDtnPmomJihoPWVbal0pO2orKylpKGgpP2QuY2FsbChoKTooaC5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixkKSxoLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixkKSk7ZWxzZSBjKCl9ZnVuY3Rpb24gaShhKXtyZXR1cm4gaz9hLmltcG9ydCYmImxvYWRpbmciIT09YS5pbXBvcnQucmVhZHlTdGF0ZTphLl9faW1wb3J0UGFyc2VkfXZhciBqPSJpbXBvcnQiaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGluayIpLGs9aixsPWEuZmxhZ3MsbT0iaW1wb3J0IixuPXdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD9TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoZG9jdW1lbnQpOmRvY3VtZW50O2lmKGspdmFyIG89e307ZWxzZSB2YXIgcD0oYS54aHIsYS5Mb2FkZXIpLHE9YS5wYXJzZXIsbz17ZG9jdW1lbnRzOnt9LGRvY3VtZW50UHJlbG9hZFNlbGVjdG9yczoibGlua1tyZWw9IittKyJdIixpbXBvcnRzUHJlbG9hZFNlbGVjdG9yczpbImxpbmtbcmVsPSIrbSsiXSJdLmpvaW4oIiwiKSxsb2FkTm9kZTpmdW5jdGlvbihhKXtyLmFkZE5vZGUoYSl9LGxvYWRTdWJ0cmVlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubWFyc2hhbE5vZGVzKGEpO3IuYWRkTm9kZXMoYil9LG1hcnNoYWxOb2RlczpmdW5jdGlvbihhKXtyZXR1cm4gYS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMubG9hZFNlbGVjdG9yc0Zvck5vZGUoYSkpfSxsb2FkU2VsZWN0b3JzRm9yTm9kZTpmdW5jdGlvbihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnR8fGE7cmV0dXJuIGI9PT1uP3RoaXMuZG9jdW1lbnRQcmVsb2FkU2VsZWN0b3JzOnRoaXMuaW1wb3J0c1ByZWxvYWRTZWxlY3RvcnN9LGxvYWRlZDpmdW5jdGlvbihhLGMsZSl7aWYobC5sb2FkJiZjb25zb2xlLmxvZygibG9hZGVkIixhLGMpLGMuX19yZXNvdXJjZT1lLGIoYykpe3ZhciBmPXRoaXMuZG9jdW1lbnRzW2FdO2Z8fChmPWQoZSxhKSxmLl9faW1wb3J0TGluaz1jLHRoaXMuYm9vdERvY3VtZW50KGYpLHRoaXMuZG9jdW1lbnRzW2FdPWYpLGMuaW1wb3J0PWZ9cS5wYXJzZU5leHQoKX0sYm9vdERvY3VtZW50OmZ1bmN0aW9uKGEpe3RoaXMubG9hZFN1YnRyZWUoYSksdGhpcy5vYnNlcnZlKGEpLHEucGFyc2VOZXh0KCl9LGxvYWRlZEFsbDpmdW5jdGlvbigpe3EucGFyc2VOZXh0KCl9fSxyPW5ldyBwKG8ubG9hZGVkLmJpbmQobyksby5sb2FkZWRBbGwuYmluZChvKSk7dmFyIHM9e2dldDpmdW5jdGlvbigpe3JldHVybiBIVE1MSW1wb3J0cy5jdXJyZW50U2NyaXB0fHxkb2N1bWVudC5jdXJyZW50U2NyaXB0fSxjb25maWd1cmFibGU6ITB9O2lmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkb2N1bWVudCwiX2N1cnJlbnRTY3JpcHQiLHMpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfY3VycmVudFNjcmlwdCIscyksIWRvY3VtZW50LmJhc2VVUkkpe3ZhciB0PXtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmxvY2F0aW9uLmhyZWZ9LGNvbmZpZ3VyYWJsZTohMH07T2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LCJiYXNlVVJJIix0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiYmFzZVVSSSIsdCl9dmFyIHU9SFRNTEltcG9ydHMuaXNJRT8iY29tcGxldGUiOiJpbnRlcmFjdGl2ZSIsdj0icmVhZHlzdGF0ZWNoYW5nZSI7YS5oYXNOYXRpdmU9aixhLnVzZU5hdGl2ZT1rLGEuaW1wb3J0ZXI9byxhLndoZW5JbXBvcnRzUmVhZHk9ZSxhLklNUE9SVF9MSU5LX1RZUEU9bSxhLmlzSW1wb3J0TG9hZGVkPWksYS5pbXBvcnRMb2FkZXI9cn0od2luZG93LkhUTUxJbXBvcnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2Zvcih2YXIgYixkPTAsZT1hLmxlbmd0aDtlPmQmJihiPWFbZF0pO2QrKykiY2hpbGRMaXN0Ij09PWIudHlwZSYmYi5hZGRlZE5vZGVzLmxlbmd0aCYmYyhiLmFkZGVkTm9kZXMpfWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBiLGU9MCxnPWEubGVuZ3RoO2c+ZSYmKGI9YVtlXSk7ZSsrKWQoYikmJmYubG9hZE5vZGUoYiksYi5jaGlsZHJlbiYmYi5jaGlsZHJlbi5sZW5ndGgmJmMoYi5jaGlsZHJlbil9ZnVuY3Rpb24gZChhKXtyZXR1cm4gMT09PWEubm9kZVR5cGUmJmcuY2FsbChhLGYubG9hZFNlbGVjdG9yc0Zvck5vZGUoYSkpfWZ1bmN0aW9uIGUoYSl7aC5vYnNlcnZlKGEse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSl9dmFyIGY9KGEuSU1QT1JUX0xJTktfVFlQRSxhLmltcG9ydGVyKSxnPUhUTUxFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzfHxIVE1MRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlc1NlbGVjdG9yfHxIVE1MRWxlbWVudC5wcm90b3R5cGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxIVE1MRWxlbWVudC5wcm90b3R5cGUubW96TWF0Y2hlc1NlbGVjdG9yfHxIVE1MRWxlbWVudC5wcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3IsaD1uZXcgTXV0YXRpb25PYnNlcnZlcihiKTthLm9ic2VydmU9ZSxmLm9ic2VydmU9ZX0oSFRNTEltcG9ydHMpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe0hUTUxJbXBvcnRzLmltcG9ydGVyLmJvb3REb2N1bWVudChiKX0iZnVuY3Rpb24iIT10eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50JiYod2luZG93LkN1c3RvbUV2ZW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkhUTUxFdmVudHMiKTtyZXR1cm4gYy5pbml0RXZlbnQoYSxiLmJ1YmJsZXM9PT0hMT8hMTohMCxiLmNhbmNlbGFibGU9PT0hMT8hMTohMCxiLmRldGFpbCksY30pO3ZhciBiPXdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD93aW5kb3cuU2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKGRvY3VtZW50KTpkb2N1bWVudDtIVE1MSW1wb3J0cy53aGVuSW1wb3J0c1JlYWR5KGZ1bmN0aW9uKCl7SFRNTEltcG9ydHMucmVhZHk9ITAsSFRNTEltcG9ydHMucmVhZHlUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGIuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoIkhUTUxJbXBvcnRzTG9hZGVkIix7YnViYmxlczohMH0pKX0pLEhUTUxJbXBvcnRzLnVzZU5hdGl2ZXx8KCJjb21wbGV0ZSI9PT1kb2N1bWVudC5yZWFkeVN0YXRlfHwiaW50ZXJhY3RpdmUiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmIXdpbmRvdy5hdHRhY2hFdmVudD9hKCk6ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsYSkpfSgpLHdpbmRvdy5DdXN0b21FbGVtZW50cz13aW5kb3cuQ3VzdG9tRWxlbWVudHN8fHtmbGFnczp7fX0sZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGMsZCl7dmFyIGU9YS5maXJzdEVsZW1lbnRDaGlsZDtpZighZSlmb3IoZT1hLmZpcnN0Q2hpbGQ7ZSYmZS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFOyllPWUubmV4dFNpYmxpbmc7Zm9yKDtlOyljKGUsZCkhPT0hMCYmYihlLGMsZCksZT1lLm5leHRFbGVtZW50U2libGluZztyZXR1cm4gbnVsbH1mdW5jdGlvbiBjKGEsYil7Zm9yKHZhciBjPWEuc2hhZG93Um9vdDtjOylkKGMsYiksYz1jLm9sZGVyU2hhZG93Um9vdH1mdW5jdGlvbiBkKGEsZCl7YihhLGZ1bmN0aW9uKGEpe3JldHVybiBkKGEpPyEwOnZvaWQgYyhhLGQpfSksYyhhLGQpfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIGgoYSk/KGkoYSksITApOnZvaWQgbChhKX1mdW5jdGlvbiBmKGEpe2QoYSxmdW5jdGlvbihhKXtyZXR1cm4gZShhKT8hMDp2b2lkIDB9KX1mdW5jdGlvbiBnKGEpe3JldHVybiBlKGEpfHxmKGEpfWZ1bmN0aW9uIGgoYil7aWYoIWIuX191cGdyYWRlZF9fJiZiLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUpe3ZhciBjPWIuZ2V0QXR0cmlidXRlKCJpcyIpfHxiLmxvY2FsTmFtZSxkPWEucmVnaXN0cnlbY107aWYoZClyZXR1cm4gQS5kb20mJmNvbnNvbGUuZ3JvdXAoInVwZ3JhZGU6IixiLmxvY2FsTmFtZSksYS51cGdyYWRlKGIpLEEuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCksITB9fWZ1bmN0aW9uIGkoYSl7bChhKSxyKGEpJiZkKGEsZnVuY3Rpb24oYSl7bChhKX0pfWZ1bmN0aW9uIGooYSl7aWYoRS5wdXNoKGEpLCFEKXtEPSEwO3ZhciBiPXdpbmRvdy5QbGF0Zm9ybSYmd2luZG93LlBsYXRmb3JtLmVuZE9mTWljcm90YXNrfHxzZXRUaW1lb3V0O2Ioayl9fWZ1bmN0aW9uIGsoKXtEPSExO2Zvcih2YXIgYSxiPUUsYz0wLGQ9Yi5sZW5ndGg7ZD5jJiYoYT1iW2NdKTtjKyspYSgpO0U9W119ZnVuY3Rpb24gbChhKXtDP2ooZnVuY3Rpb24oKXttKGEpfSk6bShhKX1mdW5jdGlvbiBtKGEpeyhhLmF0dGFjaGVkQ2FsbGJhY2t8fGEuZGV0YWNoZWRDYWxsYmFja3x8YS5fX3VwZ3JhZGVkX18mJkEuZG9tKSYmKEEuZG9tJiZjb25zb2xlLmdyb3VwKCJpbnNlcnRlZDoiLGEubG9jYWxOYW1lKSxyKGEpJiYoYS5fX2luc2VydGVkPShhLl9faW5zZXJ0ZWR8fDApKzEsYS5fX2luc2VydGVkPDEmJihhLl9faW5zZXJ0ZWQ9MSksYS5fX2luc2VydGVkPjE/QS5kb20mJmNvbnNvbGUud2FybigiaW5zZXJ0ZWQ6IixhLmxvY2FsTmFtZSwiaW5zZXJ0L3JlbW92ZSBjb3VudDoiLGEuX19pbnNlcnRlZCk6YS5hdHRhY2hlZENhbGxiYWNrJiYoQS5kb20mJmNvbnNvbGUubG9nKCJpbnNlcnRlZDoiLGEubG9jYWxOYW1lKSxhLmF0dGFjaGVkQ2FsbGJhY2soKSkpLEEuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCkpfWZ1bmN0aW9uIG4oYSl7byhhKSxkKGEsZnVuY3Rpb24oYSl7byhhKX0pfWZ1bmN0aW9uIG8oYSl7Qz9qKGZ1bmN0aW9uKCl7cChhKX0pOnAoYSl9ZnVuY3Rpb24gcChhKXsoYS5hdHRhY2hlZENhbGxiYWNrfHxhLmRldGFjaGVkQ2FsbGJhY2t8fGEuX191cGdyYWRlZF9fJiZBLmRvbSkmJihBLmRvbSYmY29uc29sZS5ncm91cCgicmVtb3ZlZDoiLGEubG9jYWxOYW1lKSxyKGEpfHwoYS5fX2luc2VydGVkPShhLl9faW5zZXJ0ZWR8fDApLTEsYS5fX2luc2VydGVkPjAmJihhLl9faW5zZXJ0ZWQ9MCksYS5fX2luc2VydGVkPDA/QS5kb20mJmNvbnNvbGUud2FybigicmVtb3ZlZDoiLGEubG9jYWxOYW1lLCJpbnNlcnQvcmVtb3ZlIGNvdW50OiIsYS5fX2luc2VydGVkKTphLmRldGFjaGVkQ2FsbGJhY2smJmEuZGV0YWNoZWRDYWxsYmFjaygpKSxBLmRvbSYmY29uc29sZS5ncm91cEVuZCgpKX1mdW5jdGlvbiBxKGEpe3JldHVybiB3aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/U2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKGEpOmF9ZnVuY3Rpb24gcihhKXtmb3IodmFyIGI9YSxjPXEoZG9jdW1lbnQpO2I7KXtpZihiPT1jKXJldHVybiEwO2I9Yi5wYXJlbnROb2RlfHxiLmhvc3R9fWZ1bmN0aW9uIHMoYSl7aWYoYS5zaGFkb3dSb290JiYhYS5zaGFkb3dSb290Ll9fd2F0Y2hlZCl7QS5kb20mJmNvbnNvbGUubG9nKCJ3YXRjaGluZyBzaGFkb3ctcm9vdCBmb3I6ICIsYS5sb2NhbE5hbWUpO2Zvcih2YXIgYj1hLnNoYWRvd1Jvb3Q7YjspdChiKSxiPWIub2xkZXJTaGFkb3dSb290fX1mdW5jdGlvbiB0KGEpe2EuX193YXRjaGVkfHwodyhhKSxhLl9fd2F0Y2hlZD0hMCl9ZnVuY3Rpb24gdShhKXtpZihBLmRvbSl7dmFyIGI9YVswXTtpZihiJiYiY2hpbGRMaXN0Ij09PWIudHlwZSYmYi5hZGRlZE5vZGVzJiZiLmFkZGVkTm9kZXMpe2Zvcih2YXIgYz1iLmFkZGVkTm9kZXNbMF07YyYmYyE9PWRvY3VtZW50JiYhYy5ob3N0OyljPWMucGFyZW50Tm9kZTt2YXIgZD1jJiYoYy5VUkx8fGMuX1VSTHx8Yy5ob3N0JiZjLmhvc3QubG9jYWxOYW1lKXx8IiI7ZD1kLnNwbGl0KCIvPyIpLnNoaWZ0KCkuc3BsaXQoIi8iKS5wb3AoKX1jb25zb2xlLmdyb3VwKCJtdXRhdGlvbnMgKCVkKSBbJXNdIixhLmxlbmd0aCxkfHwiIil9YS5mb3JFYWNoKGZ1bmN0aW9uKGEpeyJjaGlsZExpc3QiPT09YS50eXBlJiYoRyhhLmFkZGVkTm9kZXMsZnVuY3Rpb24oYSl7YS5sb2NhbE5hbWUmJmcoYSl9KSxHKGEucmVtb3ZlZE5vZGVzLGZ1bmN0aW9uKGEpe2EubG9jYWxOYW1lJiZuKGEpfSkpfSksQS5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKX1mdW5jdGlvbiB2KCl7dShGLnRha2VSZWNvcmRzKCkpLGsoKX1mdW5jdGlvbiB3KGEpe0Yub2JzZXJ2ZShhLHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pfWZ1bmN0aW9uIHgoYSl7dyhhKX1mdW5jdGlvbiB5KGEpe0EuZG9tJiZjb25zb2xlLmdyb3VwKCJ1cGdyYWRlRG9jdW1lbnQ6ICIsYS5iYXNlVVJJLnNwbGl0KCIvIikucG9wKCkpLGcoYSksQS5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKX1mdW5jdGlvbiB6KGEpe2E9cShhKTtmb3IodmFyIGIsYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoImxpbmtbcmVsPSIrQisiXSIpLGQ9MCxlPWMubGVuZ3RoO2U+ZCYmKGI9Y1tkXSk7ZCsrKWIuaW1wb3J0JiZiLmltcG9ydC5fX3BhcnNlZCYmeihiLmltcG9ydCk7eShhKX12YXIgQT13aW5kb3cubG9nRmxhZ3N8fHt9LEI9d2luZG93LkhUTUxJbXBvcnRzP0hUTUxJbXBvcnRzLklNUE9SVF9MSU5LX1RZUEU6Im5vbmUiLEM9IXdpbmRvdy5NdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuTXV0YXRpb25PYnNlcnZlcj09PXdpbmRvdy5Kc011dGF0aW9uT2JzZXJ2ZXI7YS5oYXNQb2x5ZmlsbE11dGF0aW9ucz1DO3ZhciBEPSExLEU9W10sRj1uZXcgTXV0YXRpb25PYnNlcnZlcih1KSxHPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCk7YS5JTVBPUlRfTElOS19UWVBFPUIsYS53YXRjaFNoYWRvdz1zLGEudXBncmFkZURvY3VtZW50VHJlZT16LGEudXBncmFkZUFsbD1nLGEudXBncmFkZVN1YnRyZWU9ZixhLmluc2VydGVkTm9kZT1pLGEub2JzZXJ2ZURvY3VtZW50PXgsYS51cGdyYWRlRG9jdW1lbnQ9eSxhLnRha2VSZWNvcmRzPXZ9KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiLGcpe3ZhciBoPWd8fHt9O2lmKCFiKXRocm93IG5ldyBFcnJvcigiZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50OiBmaXJzdCBhcmd1bWVudCBgbmFtZWAgbXVzdCBub3QgYmUgZW1wdHkiKTtpZihiLmluZGV4T2YoIi0iKTwwKXRocm93IG5ldyBFcnJvcigiZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50OiBmaXJzdCBhcmd1bWVudCAoJ25hbWUnKSBtdXN0IGNvbnRhaW4gYSBkYXNoICgnLScpLiBBcmd1bWVudCBwcm92aWRlZCB3YXMgJyIrU3RyaW5nKGIpKyInLiIpO2lmKGMoYikpdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gZXhlY3V0ZSAncmVnaXN0ZXJFbGVtZW50JyBvbiAnRG9jdW1lbnQnOiBSZWdpc3RyYXRpb24gZmFpbGVkIGZvciB0eXBlICciK1N0cmluZyhiKSsiJy4gVGhlIHR5cGUgbmFtZSBpcyBpbnZhbGlkLiIpO2lmKG4oYikpdGhyb3cgbmV3IEVycm9yKCJEdXBsaWNhdGVEZWZpbml0aW9uRXJyb3I6IGEgdHlwZSB3aXRoIG5hbWUgJyIrU3RyaW5nKGIpKyInIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCIpO2lmKCFoLnByb3RvdHlwZSl0aHJvdyBuZXcgRXJyb3IoIk9wdGlvbnMgbWlzc2luZyByZXF1aXJlZCBwcm90b3R5cGUgcHJvcGVydHkiKTtyZXR1cm4gaC5fX25hbWU9Yi50b0xvd2VyQ2FzZSgpLGgubGlmZWN5Y2xlPWgubGlmZWN5Y2xlfHx7fSxoLmFuY2VzdHJ5PWQoaC5leHRlbmRzKSxlKGgpLGYoaCksbChoLnByb3RvdHlwZSksbyhoLl9fbmFtZSxoKSxoLmN0b3I9cChoKSxoLmN0b3IucHJvdG90eXBlPWgucHJvdG90eXBlLGgucHJvdG90eXBlLmNvbnN0cnVjdG9yPWguY3RvcixhLnJlYWR5JiZhLnVwZ3JhZGVEb2N1bWVudFRyZWUoZG9jdW1lbnQpLGguY3Rvcn1mdW5jdGlvbiBjKGEpe2Zvcih2YXIgYj0wO2I8eS5sZW5ndGg7YisrKWlmKGE9PT15W2JdKXJldHVybiEwfWZ1bmN0aW9uIGQoYSl7dmFyIGI9bihhKTtyZXR1cm4gYj9kKGIuZXh0ZW5kcykuY29uY2F0KFtiXSk6W119ZnVuY3Rpb24gZShhKXtmb3IodmFyIGIsYz1hLmV4dGVuZHMsZD0wO2I9YS5hbmNlc3RyeVtkXTtkKyspYz1iLmlzJiZiLnRhZzthLnRhZz1jfHxhLl9fbmFtZSxjJiYoYS5pcz1hLl9fbmFtZSl9ZnVuY3Rpb24gZihhKXtpZighT2JqZWN0Ll9fcHJvdG9fXyl7dmFyIGI9SFRNTEVsZW1lbnQucHJvdG90eXBlO2lmKGEuaXMpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYS50YWcpO2I9T2JqZWN0LmdldFByb3RvdHlwZU9mKGMpfWZvcih2YXIgZCxlPWEucHJvdG90eXBlO2UmJmUhPT1iOyl7dmFyIGQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO2UuX19wcm90b19fPWQsZT1kfX1hLm5hdGl2ZT1ifWZ1bmN0aW9uIGcoYSl7cmV0dXJuIGgoQihhLnRhZyksYSl9ZnVuY3Rpb24gaChiLGMpe3JldHVybiBjLmlzJiZiLnNldEF0dHJpYnV0ZSgiaXMiLGMuaXMpLGIucmVtb3ZlQXR0cmlidXRlKCJ1bnJlc29sdmVkIiksaShiLGMpLGIuX191cGdyYWRlZF9fPSEwLGsoYiksYS5pbnNlcnRlZE5vZGUoYiksYS51cGdyYWRlU3VidHJlZShiKSxifWZ1bmN0aW9uIGkoYSxiKXtPYmplY3QuX19wcm90b19fP2EuX19wcm90b19fPWIucHJvdG90eXBlOihqKGEsYi5wcm90b3R5cGUsYi5uYXRpdmUpLGEuX19wcm90b19fPWIucHJvdG90eXBlKX1mdW5jdGlvbiBqKGEsYixjKXtmb3IodmFyIGQ9e30sZT1iO2UhPT1jJiZlIT09SFRNTEVsZW1lbnQucHJvdG90eXBlOyl7Zm9yKHZhciBmLGc9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSksaD0wO2Y9Z1toXTtoKyspZFtmXXx8KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGYsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLGYpKSxkW2ZdPTEpO2U9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpfX1mdW5jdGlvbiBrKGEpe2EuY3JlYXRlZENhbGxiYWNrJiZhLmNyZWF0ZWRDYWxsYmFjaygpfWZ1bmN0aW9uIGwoYSl7aWYoIWEuc2V0QXR0cmlidXRlLl9wb2x5ZmlsbGVkKXt2YXIgYj1hLnNldEF0dHJpYnV0ZTthLnNldEF0dHJpYnV0ZT1mdW5jdGlvbihhLGMpe20uY2FsbCh0aGlzLGEsYyxiKX07dmFyIGM9YS5yZW1vdmVBdHRyaWJ1dGU7YS5yZW1vdmVBdHRyaWJ1dGU9ZnVuY3Rpb24oYSl7bS5jYWxsKHRoaXMsYSxudWxsLGMpfSxhLnNldEF0dHJpYnV0ZS5fcG9seWZpbGxlZD0hMH19ZnVuY3Rpb24gbShhLGIsYyl7dmFyIGQ9dGhpcy5nZXRBdHRyaWJ1dGUoYSk7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGU9dGhpcy5nZXRBdHRyaWJ1dGUoYSk7dGhpcy5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2smJmUhPT1kJiZ0aGlzLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhLGQsZSl9ZnVuY3Rpb24gbihhKXtyZXR1cm4gYT96W2EudG9Mb3dlckNhc2UoKV06dm9pZCAwfWZ1bmN0aW9uIG8oYSxiKXt6W2FdPWJ9ZnVuY3Rpb24gcChhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZyhhKX19ZnVuY3Rpb24gcShhLGIsYyl7cmV0dXJuIGE9PT1BP3IoYixjKTpDKGEsYil9ZnVuY3Rpb24gcihhLGIpe3ZhciBjPW4oYnx8YSk7aWYoYyl7aWYoYT09Yy50YWcmJmI9PWMuaXMpcmV0dXJuIG5ldyBjLmN0b3I7aWYoIWImJiFjLmlzKXJldHVybiBuZXcgYy5jdG9yfWlmKGIpe3ZhciBkPXIoYSk7cmV0dXJuIGQuc2V0QXR0cmlidXRlKCJpcyIsYiksZH12YXIgZD1CKGEpO3JldHVybiBhLmluZGV4T2YoIi0iKT49MCYmaShkLEhUTUxFbGVtZW50KSxkfWZ1bmN0aW9uIHMoYSl7aWYoIWEuX191cGdyYWRlZF9fJiZhLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUpe3ZhciBiPWEuZ2V0QXR0cmlidXRlKCJpcyIpLGM9bihifHxhLmxvY2FsTmFtZSk7aWYoYyl7aWYoYiYmYy50YWc9PWEubG9jYWxOYW1lKXJldHVybiBoKGEsYyk7aWYoIWImJiFjLmV4dGVuZHMpcmV0dXJuIGgoYSxjKX19fWZ1bmN0aW9uIHQoYil7dmFyIGM9RC5jYWxsKHRoaXMsYik7cmV0dXJuIGEudXBncmFkZUFsbChjKSxjfWF8fChhPXdpbmRvdy5DdXN0b21FbGVtZW50cz17ZmxhZ3M6e319KTt2YXIgdT1hLmZsYWdzLHY9Qm9vbGVhbihkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQpLHc9IXUucmVnaXN0ZXImJnYmJiF3aW5kb3cuU2hhZG93RE9NUG9seWZpbGw7aWYodyl7dmFyIHg9ZnVuY3Rpb24oKXt9O2EucmVnaXN0cnk9e30sYS51cGdyYWRlRWxlbWVudD14LGEud2F0Y2hTaGFkb3c9eCxhLnVwZ3JhZGU9eCxhLnVwZ3JhZGVBbGw9eCxhLnVwZ3JhZGVTdWJ0cmVlPXgsYS5vYnNlcnZlRG9jdW1lbnQ9eCxhLnVwZ3JhZGVEb2N1bWVudD14LGEudXBncmFkZURvY3VtZW50VHJlZT14LGEudGFrZVJlY29yZHM9eCxhLnJlc2VydmVkVGFnTGlzdD1bXX1lbHNle3ZhciB5PVsiYW5ub3RhdGlvbi14bWwiLCJjb2xvci1wcm9maWxlIiwiZm9udC1mYWNlIiwiZm9udC1mYWNlLXNyYyIsImZvbnQtZmFjZS11cmkiLCJmb250LWZhY2UtZm9ybWF0IiwiZm9udC1mYWNlLW5hbWUiLCJtaXNzaW5nLWdseXBoIl0sej17fSxBPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIixCPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQuYmluZChkb2N1bWVudCksQz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMuYmluZChkb2N1bWVudCksRD1Ob2RlLnByb3RvdHlwZS5jbG9uZU5vZGU7ZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50PWIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudD1yLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUz1xLE5vZGUucHJvdG90eXBlLmNsb25lTm9kZT10LGEucmVnaXN0cnk9eixhLnVwZ3JhZGU9c312YXIgRTtFPU9iamVjdC5fX3Byb3RvX198fHc/ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSBpbnN0YW5jZW9mIGJ9OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWE7Yzspe2lmKGM9PT1iLnByb3RvdHlwZSlyZXR1cm4hMDtjPWMuX19wcm90b19ffXJldHVybiExfSxhLmluc3RhbmNlb2Y9RSxhLnJlc2VydmVkVGFnTGlzdD15LGRvY3VtZW50LnJlZ2lzdGVyPWRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCxhLmhhc05hdGl2ZT12LGEudXNlTmF0aXZlPXd9KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4ibGluayI9PT1hLmxvY2FsTmFtZSYmYS5nZXRBdHRyaWJ1dGUoInJlbCIpPT09Y312YXIgYz1hLklNUE9SVF9MSU5LX1RZUEUsZD17c2VsZWN0b3JzOlsibGlua1tyZWw9IitjKyJdIl0sbWFwOntsaW5rOiJwYXJzZUxpbmsifSxwYXJzZTpmdW5jdGlvbihhKXtpZighYS5fX3BhcnNlZCl7YS5fX3BhcnNlZD0hMDt2YXIgYj1hLnF1ZXJ5U2VsZWN0b3JBbGwoZC5zZWxlY3RvcnMpO2UoYixmdW5jdGlvbihhKXtkW2QubWFwW2EubG9jYWxOYW1lXV0oYSl9KSxDdXN0b21FbGVtZW50cy51cGdyYWRlRG9jdW1lbnQoYSksQ3VzdG9tRWxlbWVudHMub2JzZXJ2ZURvY3VtZW50KGEpfX0scGFyc2VMaW5rOmZ1bmN0aW9uKGEpe2IoYSkmJnRoaXMucGFyc2VJbXBvcnQoYSkKfSxwYXJzZUltcG9ydDpmdW5jdGlvbihhKXthLmltcG9ydCYmZC5wYXJzZShhLmltcG9ydCl9fSxlPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCk7YS5wYXJzZXI9ZCxhLklNUE9SVF9MSU5LX1RZUEU9Y30od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7Q3VzdG9tRWxlbWVudHMucGFyc2VyLnBhcnNlKGRvY3VtZW50KSxDdXN0b21FbGVtZW50cy51cGdyYWRlRG9jdW1lbnQoZG9jdW1lbnQpO3ZhciBhPXdpbmRvdy5QbGF0Zm9ybSYmUGxhdGZvcm0uZW5kT2ZNaWNyb3Rhc2s/UGxhdGZvcm0uZW5kT2ZNaWNyb3Rhc2s6c2V0VGltZW91dDthKGZ1bmN0aW9uKCl7Q3VzdG9tRWxlbWVudHMucmVhZHk9ITAsQ3VzdG9tRWxlbWVudHMucmVhZHlUaW1lPURhdGUubm93KCksd2luZG93LkhUTUxJbXBvcnRzJiYoQ3VzdG9tRWxlbWVudHMuZWxhcHNlZD1DdXN0b21FbGVtZW50cy5yZWFkeVRpbWUtSFRNTEltcG9ydHMucmVhZHlUaW1lKSxkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgiV2ViQ29tcG9uZW50c1JlYWR5Iix7YnViYmxlczohMH0pKSx3aW5kb3cuSFRNTEltcG9ydHMmJihIVE1MSW1wb3J0cy5fX2ltcG9ydHNQYXJzaW5nSG9vaz1mdW5jdGlvbihhKXtDdXN0b21FbGVtZW50cy5wYXJzZXIucGFyc2UoYS5pbXBvcnQpfSl9KX1pZigiZnVuY3Rpb24iIT10eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50JiYod2luZG93LkN1c3RvbUV2ZW50PWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJIVE1MRXZlbnRzIik7cmV0dXJuIGIuaW5pdEV2ZW50KGEsITAsITApLGJ9KSwiY29tcGxldGUiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZXx8YS5mbGFncy5lYWdlciliKCk7ZWxzZSBpZigiaW50ZXJhY3RpdmUiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZXx8d2luZG93LmF0dGFjaEV2ZW50fHx3aW5kb3cuSFRNTEltcG9ydHMmJiF3aW5kb3cuSFRNTEltcG9ydHMucmVhZHkpe3ZhciBjPXdpbmRvdy5IVE1MSW1wb3J0cyYmIUhUTUxJbXBvcnRzLnJlYWR5PyJIVE1MSW1wb3J0c0xvYWRlZCI6IkRPTUNvbnRlbnRMb2FkZWQiO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKGMsYil9ZWxzZSBiKCl9KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oKXtpZih3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpe3ZhciBhPVsidXBncmFkZUFsbCIsInVwZ3JhZGVTdWJ0cmVlIiwib2JzZXJ2ZURvY3VtZW50IiwidXBncmFkZURvY3VtZW50Il0sYj17fTthLmZvckVhY2goZnVuY3Rpb24oYSl7YlthXT1DdXN0b21FbGVtZW50c1thXX0pLGEuZm9yRWFjaChmdW5jdGlvbihhKXtDdXN0b21FbGVtZW50c1thXT1mdW5jdGlvbihjKXtyZXR1cm4gYlthXSh3cmFwKGMpKX19KX19KCksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXt0aGlzLmNhY2hlPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5tYXA9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLnJlcXVlc3RzPTAsdGhpcy5yZWdleD1hfXZhciBjPWEuZW5kT2ZNaWNyb3Rhc2s7Yi5wcm90b3R5cGU9e2V4dHJhY3RVcmxzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQsZT1bXTtjPXRoaXMucmVnZXguZXhlYyhhKTspZD1uZXcgVVJMKGNbMV0sYiksZS5wdXNoKHttYXRjaGVkOmNbMF0sdXJsOmQuaHJlZn0pO3JldHVybiBlfSxwcm9jZXNzOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmV4dHJhY3RVcmxzKGEsYiksZT1jLmJpbmQobnVsbCx0aGlzLm1hcCk7dGhpcy5mZXRjaChkLGUpfSxmZXRjaDpmdW5jdGlvbihhLGIpe3ZhciBjPWEubGVuZ3RoO2lmKCFjKXJldHVybiBiKCk7Zm9yKHZhciBkLGUsZixnPWZ1bmN0aW9uKCl7MD09PS0tYyYmYigpfSxoPTA7Yz5oO2grKylkPWFbaF0sZj1kLnVybCxlPXRoaXMuY2FjaGVbZl0sZXx8KGU9dGhpcy54aHIoZiksZS5tYXRjaD1kLHRoaXMuY2FjaGVbZl09ZSksZS53YWl0KGcpfSxoYW5kbGVYaHI6ZnVuY3Rpb24oYSl7dmFyIGI9YS5tYXRjaCxjPWIudXJsLGQ9YS5yZXNwb25zZXx8YS5yZXNwb25zZVRleHR8fCIiO3RoaXMubWFwW2NdPWQsdGhpcy5mZXRjaCh0aGlzLmV4dHJhY3RVcmxzKGQsYyksYS5yZXNvbHZlKX0seGhyOmZ1bmN0aW9uKGEpe3RoaXMucmVxdWVzdHMrKzt2YXIgYj1uZXcgWE1MSHR0cFJlcXVlc3Q7cmV0dXJuIGIub3BlbigiR0VUIixhLCEwKSxiLnNlbmQoKSxiLm9uZXJyb3I9Yi5vbmxvYWQ9dGhpcy5oYW5kbGVYaHIuYmluZCh0aGlzLGIpLGIucGVuZGluZz1bXSxiLnJlc29sdmU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9Yi5wZW5kaW5nLGM9MDtjPGEubGVuZ3RoO2MrKylhW2NdKCk7Yi5wZW5kaW5nPW51bGx9LGIud2FpdD1mdW5jdGlvbihhKXtiLnBlbmRpbmc/Yi5wZW5kaW5nLnB1c2goYSk6YyhhKX0sYn19LGEuTG9hZGVyPWJ9KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3RoaXMubG9hZGVyPW5ldyBkKHRoaXMucmVnZXgpfXZhciBjPWEudXJsUmVzb2x2ZXIsZD1hLkxvYWRlcjtiLnByb3RvdHlwZT17cmVnZXg6L0BpbXBvcnRccysoPzp1cmwpP1siJ1woXSooW14nIlwpXSopWyciXCldKjsvZyxyZXNvbHZlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihkKXtjKHRoaXMuZmxhdHRlbihhLGIsZCkpfS5iaW5kKHRoaXMpO3RoaXMubG9hZGVyLnByb2Nlc3MoYSxiLGQpfSxyZXNvbHZlTm9kZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS50ZXh0Q29udGVudCxlPWZ1bmN0aW9uKGIpe2EudGV4dENvbnRlbnQ9YixjKGEpfTt0aGlzLnJlc29sdmUoZCxiLGUpfSxmbGF0dGVuOmZ1bmN0aW9uKGEsYixkKXtmb3IodmFyIGUsZixnLGg9dGhpcy5sb2FkZXIuZXh0cmFjdFVybHMoYSxiKSxpPTA7aTxoLmxlbmd0aDtpKyspZT1oW2ldLGY9ZS51cmwsZz1jLnJlc29sdmVDc3NUZXh0KGRbZl0sZiwhMCksZz10aGlzLmZsYXR0ZW4oZyxiLGQpLGE9YS5yZXBsYWNlKGUubWF0Y2hlZCxnKTtyZXR1cm4gYX0sbG9hZFN0eWxlczpmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZCgpe2YrKyxmPT09ZyYmYyYmYygpfWZvcih2YXIgZSxmPTAsZz1hLmxlbmd0aCxoPTA7Zz5oJiYoZT1hW2hdKTtoKyspdGhpcy5yZXNvbHZlTm9kZShlLGIsZCl9fTt2YXIgZT1uZXcgYjthLnN0eWxlUmVzb2x2ZXI9ZX0od2luZG93LlBsYXRmb3JtKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBhKGEpe2Zvcig7YS5wYXJlbnROb2RlOylhPWEucGFyZW50Tm9kZTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYS5nZXRFbGVtZW50QnlJZD9hOm51bGx9ZnVuY3Rpb24gYihhLGIsYyl7dmFyIGQ9YS5iaW5kaW5nc187cmV0dXJuIGR8fChkPWEuYmluZGluZ3NfPXt9KSxkW2JdJiZjW2JdLmNsb3NlKCksZFtiXT1jfWZ1bmN0aW9uIGMoYSxiLGMpe3JldHVybiBjfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIG51bGw9PWE/IiI6YX1mdW5jdGlvbiBlKGEsYil7YS5kYXRhPWQoYil9ZnVuY3Rpb24gZihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGUoYSxiKX19ZnVuY3Rpb24gZyhhLGIsYyxlKXtyZXR1cm4gYz92b2lkKGU/YS5zZXRBdHRyaWJ1dGUoYiwiIik6YS5yZW1vdmVBdHRyaWJ1dGUoYikpOnZvaWQgYS5zZXRBdHRyaWJ1dGUoYixkKGUpKX1mdW5jdGlvbiBoKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7ZyhhLGIsYyxkKX19ZnVuY3Rpb24gaShhKXtzd2l0Y2goYS50eXBlKXtjYXNlImNoZWNrYm94IjpyZXR1cm4gdTtjYXNlInJhZGlvIjpjYXNlInNlbGVjdC1tdWx0aXBsZSI6Y2FzZSJzZWxlY3Qtb25lIjpyZXR1cm4iY2hhbmdlIjtjYXNlInJhbmdlIjppZigvVHJpZGVudHxNU0lFLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKXJldHVybiJjaGFuZ2UiO2RlZmF1bHQ6cmV0dXJuImlucHV0In19ZnVuY3Rpb24gaihhLGIsYyxlKXthW2JdPShlfHxkKShjKX1mdW5jdGlvbiBrKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7cmV0dXJuIGooYSxiLGQsYyl9fWZ1bmN0aW9uIGwoKXt9ZnVuY3Rpb24gbShhLGIsYyxkKXtmdW5jdGlvbiBlKCl7Yy5zZXRWYWx1ZShhW2JdKSxjLmRpc2NhcmRDaGFuZ2VzKCksKGR8fGwpKGEpLFBsYXRmb3JtLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50KCl9dmFyIGY9aShhKTtyZXR1cm4gYS5hZGRFdmVudExpc3RlbmVyKGYsZSkse2Nsb3NlOmZ1bmN0aW9uKCl7YS5yZW1vdmVFdmVudExpc3RlbmVyKGYsZSksYy5jbG9zZSgpfSxvYnNlcnZhYmxlXzpjfX1mdW5jdGlvbiBuKGEpe3JldHVybiBCb29sZWFuKGEpfWZ1bmN0aW9uIG8oYil7aWYoYi5mb3JtKXJldHVybiBzKGIuZm9ybS5lbGVtZW50cyxmdW5jdGlvbihhKXtyZXR1cm4gYSE9YiYmIklOUFVUIj09YS50YWdOYW1lJiYicmFkaW8iPT1hLnR5cGUmJmEubmFtZT09Yi5uYW1lfSk7dmFyIGM9YShiKTtpZighYylyZXR1cm5bXTt2YXIgZD1jLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9InJhZGlvIl1bbmFtZT0iJytiLm5hbWUrJyJdJyk7cmV0dXJuIHMoZCxmdW5jdGlvbihhKXtyZXR1cm4gYSE9YiYmIWEuZm9ybX0pfWZ1bmN0aW9uIHAoYSl7IklOUFVUIj09PWEudGFnTmFtZSYmInJhZGlvIj09PWEudHlwZSYmbyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWEuYmluZGluZ3NfLmNoZWNrZWQ7YiYmYi5vYnNlcnZhYmxlXy5zZXRWYWx1ZSghMSl9KX1mdW5jdGlvbiBxKGEsYil7dmFyIGMsZSxmLGc9YS5wYXJlbnROb2RlO2cgaW5zdGFuY2VvZiBIVE1MU2VsZWN0RWxlbWVudCYmZy5iaW5kaW5nc18mJmcuYmluZGluZ3NfLnZhbHVlJiYoYz1nLGU9Yy5iaW5kaW5nc18udmFsdWUsZj1jLnZhbHVlKSxhLnZhbHVlPWQoYiksYyYmYy52YWx1ZSE9ZiYmKGUub2JzZXJ2YWJsZV8uc2V0VmFsdWUoYy52YWx1ZSksZS5vYnNlcnZhYmxlXy5kaXNjYXJkQ2hhbmdlcygpLFBsYXRmb3JtLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50KCkpfWZ1bmN0aW9uIHIoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3EoYSxiKX19dmFyIHM9QXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZpbHRlcik7Tm9kZS5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGIpe2NvbnNvbGUuZXJyb3IoIlVuaGFuZGxlZCBiaW5kaW5nIHRvIE5vZGU6ICIsdGhpcyxhLGIpfSxOb2RlLnByb3RvdHlwZS5iaW5kRmluaXNoZWQ9ZnVuY3Rpb24oKXt9O3ZhciB0PWM7T2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXRmb3JtLCJlbmFibGVCaW5kaW5nc1JlZmxlY3Rpb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdD09PWJ9LHNldDpmdW5jdGlvbihhKXtyZXR1cm4gdD1hP2I6YyxhfSxjb25maWd1cmFibGU6ITB9KSxUZXh0LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYixjKXtpZigidGV4dENvbnRlbnQiIT09YSlyZXR1cm4gTm9kZS5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsYSxiLGMpO2lmKGMpcmV0dXJuIGUodGhpcyxiKTt2YXIgZD1iO3JldHVybiBlKHRoaXMsZC5vcGVuKGYodGhpcykpKSx0KHRoaXMsYSxkKX0sRWxlbWVudC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Ij8iPT1hW2EubGVuZ3RoLTFdO2lmKGQmJih0aGlzLnJlbW92ZUF0dHJpYnV0ZShhKSxhPWEuc2xpY2UoMCwtMSkpLGMpcmV0dXJuIGcodGhpcyxhLGQsYik7dmFyIGU9YjtyZXR1cm4gZyh0aGlzLGEsZCxlLm9wZW4oaCh0aGlzLGEsZCkpKSx0KHRoaXMsYSxlKX07dmFyIHU7IWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksYj1hLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0IikpO2Iuc2V0QXR0cmlidXRlKCJ0eXBlIiwiY2hlY2tib3giKTt2YXIgYyxkPTA7Yi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oKXtkKyssYz1jfHwiY2xpY2sifSksYi5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLGZ1bmN0aW9uKCl7ZCsrLGM9Y3x8ImNoYW5nZSJ9KTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFdmVudCgiTW91c2VFdmVudCIpO2UuaW5pdE1vdXNlRXZlbnQoImNsaWNrIiwhMCwhMCx3aW5kb3csMCwwLDAsMCwwLCExLCExLCExLCExLDAsbnVsbCksYi5kaXNwYXRjaEV2ZW50KGUpLHU9MT09ZD8iY2hhbmdlIjpjfSgpLEhUTUxJbnB1dEVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxjLGUpe2lmKCJ2YWx1ZSIhPT1hJiYiY2hlY2tlZCIhPT1hKXJldHVybiBIVE1MRWxlbWVudC5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsYSxjLGUpO3RoaXMucmVtb3ZlQXR0cmlidXRlKGEpO3ZhciBmPSJjaGVja2VkIj09YT9uOmQsZz0iY2hlY2tlZCI9PWE/cDpsO2lmKGUpcmV0dXJuIGoodGhpcyxhLGMsZik7dmFyIGg9YyxpPW0odGhpcyxhLGgsZyk7cmV0dXJuIGoodGhpcyxhLGgub3BlbihrKHRoaXMsYSxmKSksZiksYih0aGlzLGEsaSl9LEhUTUxUZXh0QXJlYUVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxiLGMpe2lmKCJ2YWx1ZSIhPT1hKXJldHVybiBIVE1MRWxlbWVudC5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsYSxiLGMpO2lmKHRoaXMucmVtb3ZlQXR0cmlidXRlKCJ2YWx1ZSIpLGMpcmV0dXJuIGoodGhpcywidmFsdWUiLGIpO3ZhciBlPWIsZj1tKHRoaXMsInZhbHVlIixlKTtyZXR1cm4gaih0aGlzLCJ2YWx1ZSIsZS5vcGVuKGsodGhpcywidmFsdWUiLGQpKSksdCh0aGlzLGEsZil9LEhUTUxPcHRpb25FbGVtZW50LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYixjKXtpZigidmFsdWUiIT09YSlyZXR1cm4gSFRNTEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsYixjKTtpZih0aGlzLnJlbW92ZUF0dHJpYnV0ZSgidmFsdWUiKSxjKXJldHVybiBxKHRoaXMsYik7dmFyIGQ9YixlPW0odGhpcywidmFsdWUiLGQpO3JldHVybiBxKHRoaXMsZC5vcGVuKHIodGhpcykpKSx0KHRoaXMsYSxlKX0sSFRNTFNlbGVjdEVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxjLGQpe2lmKCJzZWxlY3RlZGluZGV4Ij09PWEmJihhPSJzZWxlY3RlZEluZGV4IiksInNlbGVjdGVkSW5kZXgiIT09YSYmInZhbHVlIiE9PWEpcmV0dXJuIEhUTUxFbGVtZW50LnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGMsZCk7aWYodGhpcy5yZW1vdmVBdHRyaWJ1dGUoYSksZClyZXR1cm4gaih0aGlzLGEsYyk7dmFyIGU9YyxmPW0odGhpcyxhLGUpO3JldHVybiBqKHRoaXMsYSxlLm9wZW4oayh0aGlzLGEpKSksYih0aGlzLGEsZil9fSh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtpZighYSl0aHJvdyBuZXcgRXJyb3IoIkFzc2VydGlvbiBmYWlsZWQiKX1mdW5jdGlvbiBjKGEpe2Zvcih2YXIgYjtiPWEucGFyZW50Tm9kZTspYT1iO3JldHVybiBhfWZ1bmN0aW9uIGQoYSxiKXtpZihiKXtmb3IodmFyIGQsZT0iIyIrYjshZCYmKGE9YyhhKSxhLnByb3RvQ29udGVudF8/ZD1hLnByb3RvQ29udGVudF8ucXVlcnlTZWxlY3RvcihlKTphLmdldEVsZW1lbnRCeUlkJiYoZD1hLmdldEVsZW1lbnRCeUlkKGIpKSwhZCYmYS50ZW1wbGF0ZUNyZWF0b3JfKTspYT1hLnRlbXBsYXRlQ3JlYXRvcl87cmV0dXJuIGR9fWZ1bmN0aW9uIGUoYSl7cmV0dXJuInRlbXBsYXRlIj09YS50YWdOYW1lJiYiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPT1hLm5hbWVzcGFjZVVSSX1mdW5jdGlvbiBmKGEpe3JldHVybiJURU1QTEFURSI9PWEudGFnTmFtZSYmImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPT1hLm5hbWVzcGFjZVVSSX1mdW5jdGlvbiBnKGEpe3JldHVybiBCb29sZWFuKExbYS50YWdOYW1lXSYmYS5oYXNBdHRyaWJ1dGUoInRlbXBsYXRlIikpfWZ1bmN0aW9uIGgoYSl7cmV0dXJuIHZvaWQgMD09PWEuaXNUZW1wbGF0ZV8mJihhLmlzVGVtcGxhdGVfPSJURU1QTEFURSI9PWEudGFnTmFtZXx8ZyhhKSksYS5pc1RlbXBsYXRlX31mdW5jdGlvbiBpKGEsYil7dmFyIGM9YS5xdWVyeVNlbGVjdG9yQWxsKE4pO2goYSkmJmIoYSksRyhjLGIpfWZ1bmN0aW9uIGooYSl7ZnVuY3Rpb24gYihhKXtIVE1MVGVtcGxhdGVFbGVtZW50LmRlY29yYXRlKGEpfHxqKGEuY29udGVudCl9aShhLGIpfWZ1bmN0aW9uIGsoYSxiKXtPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhiKS5mb3JFYWNoKGZ1bmN0aW9uKGMpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGMsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiLGMpKX0pfWZ1bmN0aW9uIGwoYSl7dmFyIGI9YS5vd25lckRvY3VtZW50O2lmKCFiLmRlZmF1bHRWaWV3KXJldHVybiBiO3ZhciBjPWIudGVtcGxhdGVDb250ZW50c093bmVyXztpZighYyl7Zm9yKGM9Yi5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpO2MubGFzdENoaWxkOyljLnJlbW92ZUNoaWxkKGMubGFzdENoaWxkKTtiLnRlbXBsYXRlQ29udGVudHNPd25lcl89Y31yZXR1cm4gY31mdW5jdGlvbiBtKGEpe2lmKCFhLnN0YWdpbmdEb2N1bWVudF8pe3ZhciBiPWEub3duZXJEb2N1bWVudDtpZighYi5zdGFnaW5nRG9jdW1lbnRfKXtiLnN0YWdpbmdEb2N1bWVudF89Yi5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLGIuc3RhZ2luZ0RvY3VtZW50Xy5pc1N0YWdpbmdEb2N1bWVudD0hMDt2YXIgYz1iLnN0YWdpbmdEb2N1bWVudF8uY3JlYXRlRWxlbWVudCgiYmFzZSIpO2MuaHJlZj1kb2N1bWVudC5iYXNlVVJJLGIuc3RhZ2luZ0RvY3VtZW50Xy5oZWFkLmFwcGVuZENoaWxkKGMpLGIuc3RhZ2luZ0RvY3VtZW50Xy5zdGFnaW5nRG9jdW1lbnRfPWIuc3RhZ2luZ0RvY3VtZW50X31hLnN0YWdpbmdEb2N1bWVudF89Yi5zdGFnaW5nRG9jdW1lbnRffXJldHVybiBhLnN0YWdpbmdEb2N1bWVudF99ZnVuY3Rpb24gbihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTthLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGIsYSk7Zm9yKHZhciBjPWEuYXR0cmlidXRlcyxkPWMubGVuZ3RoO2QtLT4wOyl7dmFyIGU9Y1tkXTtLW2UubmFtZV0mJigidGVtcGxhdGUiIT09ZS5uYW1lJiZiLnNldEF0dHJpYnV0ZShlLm5hbWUsZS52YWx1ZSksYS5yZW1vdmVBdHRyaWJ1dGUoZS5uYW1lKSl9cmV0dXJuIGJ9ZnVuY3Rpb24gbyhhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTthLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGIsYSk7Zm9yKHZhciBjPWEuYXR0cmlidXRlcyxkPWMubGVuZ3RoO2QtLT4wOyl7dmFyIGU9Y1tkXTtiLnNldEF0dHJpYnV0ZShlLm5hbWUsZS52YWx1ZSksYS5yZW1vdmVBdHRyaWJ1dGUoZS5uYW1lKX1yZXR1cm4gYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpLGJ9ZnVuY3Rpb24gcChhLGIsYyl7dmFyIGQ9YS5jb250ZW50O2lmKGMpcmV0dXJuIHZvaWQgZC5hcHBlbmRDaGlsZChiKTtmb3IodmFyIGU7ZT1iLmZpcnN0Q2hpbGQ7KWQuYXBwZW5kQ2hpbGQoZSl9ZnVuY3Rpb24gcShhKXtQP2EuX19wcm90b19fPUhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlOmsoYSxIVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZSl9ZnVuY3Rpb24gcihhKXthLnNldE1vZGVsRm5ffHwoYS5zZXRNb2RlbEZuXz1mdW5jdGlvbigpe2Euc2V0TW9kZWxGblNjaGVkdWxlZF89ITE7dmFyIGI9eihhLGEuZGVsZWdhdGVfJiZhLmRlbGVnYXRlXy5wcmVwYXJlQmluZGluZyk7dyhhLGIsYS5tb2RlbF8pfSksYS5zZXRNb2RlbEZuU2NoZWR1bGVkX3x8KGEuc2V0TW9kZWxGblNjaGVkdWxlZF89ITAsT2JzZXJ2ZXIucnVuRU9NXyhhLnNldE1vZGVsRm5fKSl9ZnVuY3Rpb24gcyhhLGIsYyxkKXtpZihhJiZhLmxlbmd0aCl7Zm9yKHZhciBlLGY9YS5sZW5ndGgsZz0wLGg9MCxpPTAsaj0hMDtmPmg7KXt2YXIgZz1hLmluZGV4T2YoInt7IixoKSxrPWEuaW5kZXhPZigiW1siLGgpLGw9ITEsbT0ifX0iO2lmKGs+PTAmJigwPmd8fGc+aykmJihnPWssbD0hMCxtPSJdXSIpLGk9MD5nPy0xOmEuaW5kZXhPZihtLGcrMiksMD5pKXtpZighZSlyZXR1cm47ZS5wdXNoKGEuc2xpY2UoaCkpO2JyZWFrfWU9ZXx8W10sZS5wdXNoKGEuc2xpY2UoaCxnKSk7dmFyIG49YS5zbGljZShnKzIsaSkudHJpbSgpO2UucHVzaChsKSxqPWomJmw7dmFyIG89ZCYmZChuLGIsYyk7ZS5wdXNoKG51bGw9PW8/UGF0aC5nZXQobik6bnVsbCksZS5wdXNoKG8pLGg9aSsyfXJldHVybiBoPT09ZiYmZS5wdXNoKCIiKSxlLmhhc09uZVBhdGg9NT09PWUubGVuZ3RoLGUuaXNTaW1wbGVQYXRoPWUuaGFzT25lUGF0aCYmIiI9PWVbMF0mJiIiPT1lWzRdLGUub25seU9uZVRpbWU9aixlLmNvbWJpbmF0b3I9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWVbMF0sYz0xO2M8ZS5sZW5ndGg7Yys9NCl7dmFyIGQ9ZS5oYXNPbmVQYXRoP2E6YVsoYy0xKS80XTt2b2lkIDAhPT1kJiYoYis9ZCksYis9ZVtjKzNdfXJldHVybiBifSxlfX1mdW5jdGlvbiB0KGEsYixjLGQpe2lmKGIuaGFzT25lUGF0aCl7dmFyIGU9YlszXSxmPWU/ZShkLGMsITApOmJbMl0uZ2V0VmFsdWVGcm9tKGQpO3JldHVybiBiLmlzU2ltcGxlUGF0aD9mOmIuY29tYmluYXRvcihmKX1mb3IodmFyIGc9W10saD0xO2g8Yi5sZW5ndGg7aCs9NCl7dmFyIGU9YltoKzJdO2dbKGgtMSkvNF09ZT9lKGQsYyk6YltoKzFdLmdldFZhbHVlRnJvbShkKX1yZXR1cm4gYi5jb21iaW5hdG9yKGcpfWZ1bmN0aW9uIHUoYSxiLGMsZCl7dmFyIGU9YlszXSxmPWU/ZShkLGMsITEpOm5ldyBQYXRoT2JzZXJ2ZXIoZCxiWzJdKTtyZXR1cm4gYi5pc1NpbXBsZVBhdGg/ZjpuZXcgT2JzZXJ2ZXJUcmFuc2Zvcm0oZixiLmNvbWJpbmF0b3IpfWZ1bmN0aW9uIHYoYSxiLGMsZCl7aWYoYi5vbmx5T25lVGltZSlyZXR1cm4gdChhLGIsYyxkKTtpZihiLmhhc09uZVBhdGgpcmV0dXJuIHUoYSxiLGMsZCk7Zm9yKHZhciBlPW5ldyBDb21wb3VuZE9ic2VydmVyLGY9MTtmPGIubGVuZ3RoO2YrPTQpe3ZhciBnPWJbZl0saD1iW2YrMl07aWYoaCl7dmFyIGk9aChkLGMsZyk7Zz9lLmFkZFBhdGgoaSk6ZS5hZGRPYnNlcnZlcihpKX1lbHNle3ZhciBqPWJbZisxXTtnP2UuYWRkUGF0aChqLmdldFZhbHVlRnJvbShkKSk6ZS5hZGRQYXRoKGQsail9fXJldHVybiBuZXcgT2JzZXJ2ZXJUcmFuc2Zvcm0oZSxiLmNvbWJpbmF0b3IpfWZ1bmN0aW9uIHcoYSxiLGMsZCl7Zm9yKHZhciBlPTA7ZTxiLmxlbmd0aDtlKz0yKXt2YXIgZj1iW2VdLGc9YltlKzFdLGg9dihmLGcsYSxjKSxpPWEuYmluZChmLGgsZy5vbmx5T25lVGltZSk7aSYmZCYmZC5wdXNoKGkpfWlmKGEuYmluZEZpbmlzaGVkKCksYi5pc1RlbXBsYXRlKXthLm1vZGVsXz1jO3ZhciBqPWEucHJvY2Vzc0JpbmRpbmdEaXJlY3RpdmVzXyhiKTtkJiZqJiZkLnB1c2goail9fWZ1bmN0aW9uIHgoYSxiLGMpe3ZhciBkPWEuZ2V0QXR0cmlidXRlKGIpO3JldHVybiBzKCIiPT1kPyJ7e319IjpkLGIsYSxjKX1mdW5jdGlvbiB5KGEsYyl7YihhKTtmb3IodmFyIGQ9W10sZT0wO2U8YS5hdHRyaWJ1dGVzLmxlbmd0aDtlKyspe2Zvcih2YXIgZj1hLmF0dHJpYnV0ZXNbZV0sZz1mLm5hbWUsaT1mLnZhbHVlOyJfIj09PWdbMF07KWc9Zy5zdWJzdHJpbmcoMSk7aWYoIWgoYSl8fGchPT1KJiZnIT09SCYmZyE9PUkpe3ZhciBqPXMoaSxnLGEsYyk7aiYmZC5wdXNoKGcsail9fXJldHVybiBoKGEpJiYoZC5pc1RlbXBsYXRlPSEwLGQuaWY9eChhLEosYyksZC5iaW5kPXgoYSxILGMpLGQucmVwZWF0PXgoYSxJLGMpLCFkLmlmfHxkLmJpbmR8fGQucmVwZWF0fHwoZC5iaW5kPXMoInt7fX0iLEgsYSxjKSkpLGR9ZnVuY3Rpb24geihhLGIpe2lmKGEubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSlyZXR1cm4geShhLGIpO2lmKGEubm9kZVR5cGU9PT1Ob2RlLlRFWFRfTk9ERSl7dmFyIGM9cyhhLmRhdGEsInRleHRDb250ZW50IixhLGIpO2lmKGMpcmV0dXJuWyJ0ZXh0Q29udGVudCIsY119cmV0dXJuW119ZnVuY3Rpb24gQShhLGIsYyxkLGUsZixnKXtmb3IodmFyIGg9Yi5hcHBlbmRDaGlsZChjLmltcG9ydE5vZGUoYSwhMSkpLGk9MCxqPWEuZmlyc3RDaGlsZDtqO2o9ai5uZXh0U2libGluZylBKGosaCxjLGQuY2hpbGRyZW5baSsrXSxlLGYsZyk7cmV0dXJuIGQuaXNUZW1wbGF0ZSYmKEhUTUxUZW1wbGF0ZUVsZW1lbnQuZGVjb3JhdGUoaCxhKSxmJiZoLnNldERlbGVnYXRlXyhmKSksdyhoLGQsZSxnKSxofWZ1bmN0aW9uIEIoYSxiKXt2YXIgYz16KGEsYik7Yy5jaGlsZHJlbj17fTtmb3IodmFyIGQ9MCxlPWEuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyljLmNoaWxkcmVuW2QrK109QihlLGIpO3JldHVybiBjfWZ1bmN0aW9uIEMoYSl7dmFyIGI9YS5pZF87cmV0dXJuIGJ8fChiPWEuaWRfPVMrKyksYn1mdW5jdGlvbiBEKGEsYil7dmFyIGM9QyhhKTtpZihiKXt2YXIgZD1iLmJpbmRpbmdNYXBzW2NdO3JldHVybiBkfHwoZD1iLmJpbmRpbmdNYXBzW2NdPUIoYSxiLnByZXBhcmVCaW5kaW5nKXx8W10pLGR9dmFyIGQ9YS5iaW5kaW5nTWFwXztyZXR1cm4gZHx8KGQ9YS5iaW5kaW5nTWFwXz1CKGEsdm9pZCAwKXx8W10pLGR9ZnVuY3Rpb24gRShhKXt0aGlzLmNsb3NlZD0hMSx0aGlzLnRlbXBsYXRlRWxlbWVudF89YSx0aGlzLmluc3RhbmNlcz1bXSx0aGlzLmRlcHM9dm9pZCAwLHRoaXMuaXRlcmF0ZWRWYWx1ZT1bXSx0aGlzLnByZXNlbnRWYWx1ZT12b2lkIDAsdGhpcy5hcnJheU9ic2VydmVyPXZvaWQgMH12YXIgRixHPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCk7YS5NYXAmJiJmdW5jdGlvbiI9PXR5cGVvZiBhLk1hcC5wcm90b3R5cGUuZm9yRWFjaD9GPWEuTWFwOihGPWZ1bmN0aW9uKCl7dGhpcy5rZXlzPVtdLHRoaXMudmFsdWVzPVtdfSxGLnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5rZXlzLmluZGV4T2YoYSk7MD5jPyh0aGlzLmtleXMucHVzaChhKSx0aGlzLnZhbHVlcy5wdXNoKGIpKTp0aGlzLnZhbHVlc1tjXT1ifSxnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5rZXlzLmluZGV4T2YoYSk7aWYoISgwPmIpKXJldHVybiB0aGlzLnZhbHVlc1tiXX0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5rZXlzLmluZGV4T2YoYSk7cmV0dXJuIDA+Yj8hMToodGhpcy5rZXlzLnNwbGljZShiLDEpLHRoaXMudmFsdWVzLnNwbGljZShiLDEpLCEwKX0sZm9yRWFjaDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2M8dGhpcy5rZXlzLmxlbmd0aDtjKyspYS5jYWxsKGJ8fHRoaXMsdGhpcy52YWx1ZXNbY10sdGhpcy5rZXlzW2NdLHRoaXMpfX0pOyJmdW5jdGlvbiIhPXR5cGVvZiBkb2N1bWVudC5jb250YWlucyYmKERvY3VtZW50LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihhKXtyZXR1cm4gYT09PXRoaXN8fGEucGFyZW50Tm9kZT09PXRoaXM/ITA6dGhpcy5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMoYSl9KTt2YXIgSD0iYmluZCIsST0icmVwZWF0IixKPSJpZiIsSz17dGVtcGxhdGU6ITAscmVwZWF0OiEwLGJpbmQ6ITAscmVmOiEwfSxMPXtUSEVBRDohMCxUQk9EWTohMCxURk9PVDohMCxUSDohMCxUUjohMCxURDohMCxDT0xHUk9VUDohMCxDT0w6ITAsQ0FQVElPTjohMCxPUFRJT046ITAsT1BUR1JPVVA6ITB9LE09InVuZGVmaW5lZCIhPXR5cGVvZiBIVE1MVGVtcGxhdGVFbGVtZW50O00mJiFmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRlbXBsYXRlIiksYj1hLmNvbnRlbnQub3duZXJEb2N1bWVudCxjPWIuYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KCJodG1sIikpLGQ9Yy5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQoImhlYWQiKSksZT1iLmNyZWF0ZUVsZW1lbnQoImJhc2UiKTtlLmhyZWY9ZG9jdW1lbnQuYmFzZVVSSSxkLmFwcGVuZENoaWxkKGUpfSgpO3ZhciBOPSJ0ZW1wbGF0ZSwgIitPYmplY3Qua2V5cyhMKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9Mb3dlckNhc2UoKSsiW3RlbXBsYXRlXSJ9KS5qb2luKCIsICIpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGZ1bmN0aW9uKCl7aihkb2N1bWVudCksUGxhdGZvcm0ucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQoKX0sITEpLE18fChhLkhUTUxUZW1wbGF0ZUVsZW1lbnQ9ZnVuY3Rpb24oKXt0aHJvdyBUeXBlRXJyb3IoIklsbGVnYWwgY29uc3RydWN0b3IiKX0pO3ZhciBPLFA9Il9fcHJvdG9fXyJpbnt9OyJmdW5jdGlvbiI9PXR5cGVvZiBNdXRhdGlvbk9ic2VydmVyJiYoTz1uZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdLnRhcmdldC5yZWZDaGFuZ2VkXygpfSkpLEhUTUxUZW1wbGF0ZUVsZW1lbnQuZGVjb3JhdGU9ZnVuY3Rpb24oYSxjKXtpZihhLnRlbXBsYXRlSXNEZWNvcmF0ZWRfKXJldHVybiExO3ZhciBkPWE7ZC50ZW1wbGF0ZUlzRGVjb3JhdGVkXz0hMDt2YXIgaD1mKGQpJiZNLGk9aCxrPSFoLG09ITE7aWYoaHx8KGcoZCk/KGIoIWMpLGQ9bihhKSxkLnRlbXBsYXRlSXNEZWNvcmF0ZWRfPSEwLGg9TSxtPSEwKTplKGQpJiYoZD1vKGEpLGQudGVtcGxhdGVJc0RlY29yYXRlZF89ITAsaD1NKSksIWgpe3EoZCk7dmFyIHI9bChkKTtkLmNvbnRlbnRfPXIuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpfXJldHVybiBjP2QuaW5zdGFuY2VSZWZfPWM6az9wKGQsYSxtKTppJiZqKGQuY29udGVudCksITB9LEhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwPWo7dmFyIFE9YS5IVE1MVW5rbm93bkVsZW1lbnR8fEhUTUxFbGVtZW50LFI9e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRffSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH07TXx8KEhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoUS5wcm90b3R5cGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZSwiY29udGVudCIsUikpLGsoSFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGUse2JpbmQ6ZnVuY3Rpb24oYSxiLGMpe2lmKCJyZWYiIT1hKXJldHVybiBFbGVtZW50LnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGIsYyk7dmFyIGQ9dGhpcyxlPWM/YjpiLm9wZW4oZnVuY3Rpb24oYSl7ZC5zZXRBdHRyaWJ1dGUoInJlZiIsYSksZC5yZWZDaGFuZ2VkXygpfSk7cmV0dXJuIHRoaXMuc2V0QXR0cmlidXRlKCJyZWYiLGUpLHRoaXMucmVmQ2hhbmdlZF8oKSxjP3ZvaWQgMDoodGhpcy5iaW5kaW5nc18/dGhpcy5iaW5kaW5nc18ucmVmPWI6dGhpcy5iaW5kaW5nc189e3JlZjpifSxiKX0scHJvY2Vzc0JpbmRpbmdEaXJlY3RpdmVzXzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pdGVyYXRvcl8mJnRoaXMuaXRlcmF0b3JfLmNsb3NlRGVwcygpLGEuaWZ8fGEuYmluZHx8YS5yZXBlYXQ/KHRoaXMuaXRlcmF0b3JffHwodGhpcy5pdGVyYXRvcl89bmV3IEUodGhpcykpLHRoaXMuaXRlcmF0b3JfLnVwZGF0ZURlcGVuZGVuY2llcyhhLHRoaXMubW9kZWxfKSxPJiZPLm9ic2VydmUodGhpcyx7YXR0cmlidXRlczohMCxhdHRyaWJ1dGVGaWx0ZXI6WyJyZWYiXX0pLHRoaXMuaXRlcmF0b3JfKTp2b2lkKHRoaXMuaXRlcmF0b3JfJiYodGhpcy5pdGVyYXRvcl8uY2xvc2UoKSx0aGlzLml0ZXJhdG9yXz12b2lkIDApKX0sY3JlYXRlSW5zdGFuY2U6ZnVuY3Rpb24oYSxiLGMpe2I/Yz10aGlzLm5ld0RlbGVnYXRlXyhiKTpjfHwoYz10aGlzLmRlbGVnYXRlXyksdGhpcy5yZWZDb250ZW50X3x8KHRoaXMucmVmQ29udGVudF89dGhpcy5yZWZfLmNvbnRlbnQpO3ZhciBkPXRoaXMucmVmQ29udGVudF87aWYobnVsbD09PWQuZmlyc3RDaGlsZClyZXR1cm4gVDt2YXIgZT1EKGQsYyksZj1tKHRoaXMpLGc9Zi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Zy50ZW1wbGF0ZUNyZWF0b3JfPXRoaXMsZy5wcm90b0NvbnRlbnRfPWQsZy5iaW5kaW5nc189W10sZy50ZXJtaW5hdG9yXz1udWxsO2Zvcih2YXIgaD1nLnRlbXBsYXRlSW5zdGFuY2VfPXtmaXJzdE5vZGU6bnVsbCxsYXN0Tm9kZTpudWxsLG1vZGVsOmF9LGk9MCxqPSExLGs9ZC5maXJzdENoaWxkO2s7az1rLm5leHRTaWJsaW5nKXtudWxsPT09ay5uZXh0U2libGluZyYmKGo9ITApO3ZhciBsPUEoayxnLGYsZS5jaGlsZHJlbltpKytdLGEsYyxnLmJpbmRpbmdzXyk7bC50ZW1wbGF0ZUluc3RhbmNlXz1oLGomJihnLnRlcm1pbmF0b3JfPWwpfXJldHVybiBoLmZpcnN0Tm9kZT1nLmZpcnN0Q2hpbGQsaC5sYXN0Tm9kZT1nLmxhc3RDaGlsZCxnLnRlbXBsYXRlQ3JlYXRvcl89dm9pZCAwLGcucHJvdG9Db250ZW50Xz12b2lkIDAsZ30sZ2V0IG1vZGVsKCl7cmV0dXJuIHRoaXMubW9kZWxffSxzZXQgbW9kZWwoYSl7dGhpcy5tb2RlbF89YSxyKHRoaXMpfSxnZXQgYmluZGluZ0RlbGVnYXRlKCl7cmV0dXJuIHRoaXMuZGVsZWdhdGVfJiZ0aGlzLmRlbGVnYXRlXy5yYXd9LHJlZkNoYW5nZWRfOmZ1bmN0aW9uKCl7dGhpcy5pdGVyYXRvcl8mJnRoaXMucmVmQ29udGVudF8hPT10aGlzLnJlZl8uY29udGVudCYmKHRoaXMucmVmQ29udGVudF89dm9pZCAwLHRoaXMuaXRlcmF0b3JfLnZhbHVlQ2hhbmdlZCgpLHRoaXMuaXRlcmF0b3JfLnVwZGF0ZUl0ZXJhdGVkVmFsdWUoKSl9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5tb2RlbF89dm9pZCAwLHRoaXMuZGVsZWdhdGVfPXZvaWQgMCx0aGlzLmJpbmRpbmdzXyYmdGhpcy5iaW5kaW5nc18ucmVmJiZ0aGlzLmJpbmRpbmdzXy5yZWYuY2xvc2UoKSx0aGlzLnJlZkNvbnRlbnRfPXZvaWQgMCx0aGlzLml0ZXJhdG9yXyYmKHRoaXMuaXRlcmF0b3JfLnZhbHVlQ2hhbmdlZCgpLHRoaXMuaXRlcmF0b3JfLmNsb3NlKCksdGhpcy5pdGVyYXRvcl89dm9pZCAwKX0sc2V0RGVsZWdhdGVfOmZ1bmN0aW9uKGEpe3RoaXMuZGVsZWdhdGVfPWEsdGhpcy5iaW5kaW5nTWFwXz12b2lkIDAsdGhpcy5pdGVyYXRvcl8mJih0aGlzLml0ZXJhdG9yXy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXz12b2lkIDAsdGhpcy5pdGVyYXRvcl8uaW5zdGFuY2VNb2RlbEZuXz12b2lkIDApfSxuZXdEZWxlZ2F0ZV86ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiKXt2YXIgYz1hJiZhW2JdO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBjKXJldHVybiBmdW5jdGlvbigpe3JldHVybiBjLmFwcGx5KGEsYXJndW1lbnRzKX19aWYoYSlyZXR1cm57YmluZGluZ01hcHM6e30scmF3OmEscHJlcGFyZUJpbmRpbmc6YigicHJlcGFyZUJpbmRpbmciKSxwcmVwYXJlSW5zdGFuY2VNb2RlbDpiKCJwcmVwYXJlSW5zdGFuY2VNb2RlbCIpLHByZXBhcmVJbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZDpiKCJwcmVwYXJlSW5zdGFuY2VQb3NpdGlvbkNoYW5nZWQiKX19LHNldCBiaW5kaW5nRGVsZWdhdGUoYSl7aWYodGhpcy5kZWxlZ2F0ZV8pdGhyb3cgRXJyb3IoIlRlbXBsYXRlIG11c3QgYmUgY2xlYXJlZCBiZWZvcmUgYSBuZXcgYmluZGluZ0RlbGVnYXRlIGNhbiBiZSBhc3NpZ25lZCIpO3RoaXMuc2V0RGVsZWdhdGVfKHRoaXMubmV3RGVsZWdhdGVfKGEpKX0sZ2V0IHJlZl8oKXt2YXIgYT1kKHRoaXMsdGhpcy5nZXRBdHRyaWJ1dGUoInJlZiIpKTtpZihhfHwoYT10aGlzLmluc3RhbmNlUmVmXyksIWEpcmV0dXJuIHRoaXM7dmFyIGI9YS5yZWZfO3JldHVybiBiP2I6YX19KTt2YXIgUz0xO09iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlLnByb3RvdHlwZSwidGVtcGxhdGVJbnN0YW5jZSIse2dldDpmdW5jdGlvbigpe3ZhciBhPXRoaXMudGVtcGxhdGVJbnN0YW5jZV87cmV0dXJuIGE/YTp0aGlzLnBhcmVudE5vZGU/dGhpcy5wYXJlbnROb2RlLnRlbXBsYXRlSW5zdGFuY2U6dm9pZCAwfX0pO3ZhciBUPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtULmJpbmRpbmdzXz1bXSxULnRlcm1pbmF0b3JfPW51bGwsRS5wcm90b3R5cGU9e2Nsb3NlRGVwczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZGVwczthJiYoYS5pZk9uZVRpbWU9PT0hMSYmYS5pZlZhbHVlLmNsb3NlKCksYS5vbmVUaW1lPT09ITEmJmEudmFsdWUuY2xvc2UoKSl9LHVwZGF0ZURlcGVuZGVuY2llczpmdW5jdGlvbihhLGIpe3RoaXMuY2xvc2VEZXBzKCk7dmFyIGM9dGhpcy5kZXBzPXt9LGQ9dGhpcy50ZW1wbGF0ZUVsZW1lbnRfO2lmKGEuaWYpe2lmKGMuaGFzSWY9ITAsYy5pZk9uZVRpbWU9YS5pZi5vbmx5T25lVGltZSxjLmlmVmFsdWU9dihKLGEuaWYsZCxiKSxjLmlmT25lVGltZSYmIWMuaWZWYWx1ZSlyZXR1cm4gdm9pZCB0aGlzLnVwZGF0ZUl0ZXJhdGVkVmFsdWUoKTtjLmlmT25lVGltZXx8Yy5pZlZhbHVlLm9wZW4odGhpcy51cGRhdGVJdGVyYXRlZFZhbHVlLHRoaXMpfWEucmVwZWF0PyhjLnJlcGVhdD0hMCxjLm9uZVRpbWU9YS5yZXBlYXQub25seU9uZVRpbWUsYy52YWx1ZT12KEksYS5yZXBlYXQsZCxiKSk6KGMucmVwZWF0PSExLGMub25lVGltZT1hLmJpbmQub25seU9uZVRpbWUsYy52YWx1ZT12KEgsYS5iaW5kLGQsYikpLGMub25lVGltZXx8Yy52YWx1ZS5vcGVuKHRoaXMudXBkYXRlSXRlcmF0ZWRWYWx1ZSx0aGlzKSx0aGlzLnVwZGF0ZUl0ZXJhdGVkVmFsdWUoKX0sdXBkYXRlSXRlcmF0ZWRWYWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuZGVwcy5oYXNJZil7dmFyIGE9dGhpcy5kZXBzLmlmVmFsdWU7aWYodGhpcy5kZXBzLmlmT25lVGltZXx8KGE9YS5kaXNjYXJkQ2hhbmdlcygpKSwhYSlyZXR1cm4gdm9pZCB0aGlzLnZhbHVlQ2hhbmdlZCgpfXZhciBiPXRoaXMuZGVwcy52YWx1ZTt0aGlzLmRlcHMub25lVGltZXx8KGI9Yi5kaXNjYXJkQ2hhbmdlcygpKSx0aGlzLmRlcHMucmVwZWF0fHwoYj1bYl0pO3ZhciBjPXRoaXMuZGVwcy5yZXBlYXQmJiF0aGlzLmRlcHMub25lVGltZSYmQXJyYXkuaXNBcnJheShiKTt0aGlzLnZhbHVlQ2hhbmdlZChiLGMpfSx2YWx1ZUNoYW5nZWQ6ZnVuY3Rpb24oYSxiKXtBcnJheS5pc0FycmF5KGEpfHwoYT1bXSksYSE9PXRoaXMuaXRlcmF0ZWRWYWx1ZSYmKHRoaXMudW5vYnNlcnZlKCksdGhpcy5wcmVzZW50VmFsdWU9YSxiJiYodGhpcy5hcnJheU9ic2VydmVyPW5ldyBBcnJheU9ic2VydmVyKHRoaXMucHJlc2VudFZhbHVlKSx0aGlzLmFycmF5T2JzZXJ2ZXIub3Blbih0aGlzLmhhbmRsZVNwbGljZXMsdGhpcykpLHRoaXMuaGFuZGxlU3BsaWNlcyhBcnJheU9ic2VydmVyLmNhbGN1bGF0ZVNwbGljZXModGhpcy5wcmVzZW50VmFsdWUsdGhpcy5pdGVyYXRlZFZhbHVlKSkpfSxnZXRMYXN0SW5zdGFuY2VOb2RlOmZ1bmN0aW9uKGEpe2lmKC0xPT1hKXJldHVybiB0aGlzLnRlbXBsYXRlRWxlbWVudF87dmFyIGI9dGhpcy5pbnN0YW5jZXNbYV0sYz1iLnRlcm1pbmF0b3JfO2lmKCFjKXJldHVybiB0aGlzLmdldExhc3RJbnN0YW5jZU5vZGUoYS0xKTtpZihjLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREV8fHRoaXMudGVtcGxhdGVFbGVtZW50Xz09PWMpcmV0dXJuIGM7dmFyIGQ9Yy5pdGVyYXRvcl87cmV0dXJuIGQ/ZC5nZXRMYXN0VGVtcGxhdGVOb2RlKCk6Y30sZ2V0TGFzdFRlbXBsYXRlTm9kZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldExhc3RJbnN0YW5jZU5vZGUodGhpcy5pbnN0YW5jZXMubGVuZ3RoLTEpfSxpbnNlcnRJbnN0YW5jZUF0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRMYXN0SW5zdGFuY2VOb2RlKGEtMSksZD10aGlzLnRlbXBsYXRlRWxlbWVudF8ucGFyZW50Tm9kZTt0aGlzLmluc3RhbmNlcy5zcGxpY2UoYSwwLGIpLGQuaW5zZXJ0QmVmb3JlKGIsYy5uZXh0U2libGluZyl9LGV4dHJhY3RJbnN0YW5jZUF0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmdldExhc3RJbnN0YW5jZU5vZGUoYS0xKSxjPXRoaXMuZ2V0TGFzdEluc3RhbmNlTm9kZShhKSxkPXRoaXMudGVtcGxhdGVFbGVtZW50Xy5wYXJlbnROb2RlLGU9dGhpcy5pbnN0YW5jZXMuc3BsaWNlKGEsMSlbMF07YyE9PWI7KXt2YXIgZj1iLm5leHRTaWJsaW5nO2Y9PWMmJihjPWIpLGUuYXBwZW5kQ2hpbGQoZC5yZW1vdmVDaGlsZChmKSl9cmV0dXJuIGV9LGdldERlbGVnYXRlRm46ZnVuY3Rpb24oYSl7cmV0dXJuIGE9YSYmYSh0aGlzLnRlbXBsYXRlRWxlbWVudF8pLCJmdW5jdGlvbiI9PXR5cGVvZiBhP2E6bnVsbH0saGFuZGxlU3BsaWNlczpmdW5jdGlvbihhKXtpZighdGhpcy5jbG9zZWQmJmEubGVuZ3RoKXt2YXIgYj10aGlzLnRlbXBsYXRlRWxlbWVudF87aWYoIWIucGFyZW50Tm9kZSlyZXR1cm4gdm9pZCB0aGlzLmNsb3NlKCk7QXJyYXlPYnNlcnZlci5hcHBseVNwbGljZXModGhpcy5pdGVyYXRlZFZhbHVlLHRoaXMucHJlc2VudFZhbHVlLGEpO3ZhciBjPWIuZGVsZWdhdGVfO3ZvaWQgMD09PXRoaXMuaW5zdGFuY2VNb2RlbEZuXyYmKHRoaXMuaW5zdGFuY2VNb2RlbEZuXz10aGlzLmdldERlbGVnYXRlRm4oYyYmYy5wcmVwYXJlSW5zdGFuY2VNb2RlbCkpLHZvaWQgMD09PXRoaXMuaW5zdGFuY2VQb3NpdGlvbkNoYW5nZWRGbl8mJih0aGlzLmluc3RhbmNlUG9zaXRpb25DaGFuZ2VkRm5fPXRoaXMuZ2V0RGVsZWdhdGVGbihjJiZjLnByZXBhcmVJbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZCkpO2Zvcih2YXIgZD1uZXcgRixlPTAsZj0wO2Y8YS5sZW5ndGg7ZisrKXtmb3IodmFyIGc9YVtmXSxoPWcucmVtb3ZlZCxpPTA7aTxoLmxlbmd0aDtpKyspe3ZhciBqPWhbaV0saz10aGlzLmV4dHJhY3RJbnN0YW5jZUF0KGcuaW5kZXgrZSk7ayE9PVQmJmQuc2V0KGosayl9ZS09Zy5hZGRlZENvdW50fWZvcih2YXIgZj0wO2Y8YS5sZW5ndGg7ZisrKWZvcih2YXIgZz1hW2ZdLGw9Zy5pbmRleDtsPGcuaW5kZXgrZy5hZGRlZENvdW50O2wrKyl7dmFyIGo9dGhpcy5pdGVyYXRlZFZhbHVlW2xdLGs9ZC5nZXQoaik7az9kLmRlbGV0ZShqKToodGhpcy5pbnN0YW5jZU1vZGVsRm5fJiYoaj10aGlzLmluc3RhbmNlTW9kZWxGbl8oaikpLGs9dm9pZCAwPT09aj9UOmIuY3JlYXRlSW5zdGFuY2Uoaix2b2lkIDAsYykpLHRoaXMuaW5zZXJ0SW5zdGFuY2VBdChsLGspfWQuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLmNsb3NlSW5zdGFuY2VCaW5kaW5ncyhhKX0sdGhpcyksdGhpcy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXyYmdGhpcy5yZXBvcnRJbnN0YW5jZXNNb3ZlZChhKX19LHJlcG9ydEluc3RhbmNlTW92ZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnN0YW5jZXNbYV07YiE9PVQmJnRoaXMuaW5zdGFuY2VQb3NpdGlvbkNoYW5nZWRGbl8oYi50ZW1wbGF0ZUluc3RhbmNlXyxhKX0scmVwb3J0SW5zdGFuY2VzTW92ZWQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz0wLGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGU9YVtkXTtpZigwIT1jKWZvcig7YjxlLmluZGV4Oyl0aGlzLnJlcG9ydEluc3RhbmNlTW92ZWQoYiksYisrO2Vsc2UgYj1lLmluZGV4O2Zvcig7YjxlLmluZGV4K2UuYWRkZWRDb3VudDspdGhpcy5yZXBvcnRJbnN0YW5jZU1vdmVkKGIpLGIrKztjKz1lLmFkZGVkQ291bnQtZS5yZW1vdmVkLmxlbmd0aH1pZigwIT1jKWZvcih2YXIgZj10aGlzLmluc3RhbmNlcy5sZW5ndGg7Zj5iOyl0aGlzLnJlcG9ydEluc3RhbmNlTW92ZWQoYiksYisrfSxjbG9zZUluc3RhbmNlQmluZGluZ3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEuYmluZGluZ3NfLGM9MDtjPGIubGVuZ3RoO2MrKyliW2NdLmNsb3NlKCl9LHVub2JzZXJ2ZTpmdW5jdGlvbigpe3RoaXMuYXJyYXlPYnNlcnZlciYmKHRoaXMuYXJyYXlPYnNlcnZlci5jbG9zZSgpLHRoaXMuYXJyYXlPYnNlcnZlcj12b2lkIDApfSxjbG9zZTpmdW5jdGlvbigpe2lmKCF0aGlzLmNsb3NlZCl7dGhpcy51bm9ic2VydmUoKTtmb3IodmFyIGE9MDthPHRoaXMuaW5zdGFuY2VzLmxlbmd0aDthKyspdGhpcy5jbG9zZUluc3RhbmNlQmluZGluZ3ModGhpcy5pbnN0YW5jZXNbYV0pO3RoaXMuaW5zdGFuY2VzLmxlbmd0aD0wLHRoaXMuY2xvc2VEZXBzKCksdGhpcy50ZW1wbGF0ZUVsZW1lbnRfLml0ZXJhdG9yXz12b2lkIDAsdGhpcy5jbG9zZWQ9ITB9fX0sSFRNTFRlbXBsYXRlRWxlbWVudC5mb3JBbGxUZW1wbGF0ZXNGcm9tXz1pfSh0aGlzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7ZXx8KGU9ITAsYS5lbmRPZk1pY3JvdGFzayhmdW5jdGlvbigpe2U9ITEsbG9nRmxhZ3MuZGF0YSYmY29uc29sZS5ncm91cCgiUGxhdGZvcm0uZmx1c2goKSIpLGEucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQoKSxsb2dGbGFncy5kYXRhJiZjb25zb2xlLmdyb3VwRW5kKCl9KSl9dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtjLnRleHRDb250ZW50PSJ0ZW1wbGF0ZSB7ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O30gLyogaW5qZWN0ZWQgYnkgcGxhdGZvcm0uanMgKi8iO3ZhciBkPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImhlYWQiKTtkLmluc2VydEJlZm9yZShjLGQuZmlyc3RDaGlsZCk7dmFyIGU7aWYoT2JzZXJ2ZXIuaGFzT2JqZWN0T2JzZXJ2ZSliPWZ1bmN0aW9uKCl7fTtlbHNle3ZhciBmPTEyNTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiV2ViQ29tcG9uZW50c1JlYWR5IixmdW5jdGlvbigpe2IoKSxhLmZsdXNoUG9sbD1zZXRJbnRlcnZhbChiLGYpfSl9aWYod2luZG93LkN1c3RvbUVsZW1lbnRzJiYhQ3VzdG9tRWxlbWVudHMudXNlTmF0aXZlKXt2YXIgZz1Eb2N1bWVudC5wcm90b3R5cGUuaW1wb3J0Tm9kZTtEb2N1bWVudC5wcm90b3R5cGUuaW1wb3J0Tm9kZT1mdW5jdGlvbihhLGIpe3ZhciBjPWcuY2FsbCh0aGlzLGEsYik7cmV0dXJuIEN1c3RvbUVsZW1lbnRzLnVwZ3JhZGVBbGwoYyksY319YS5mbHVzaD1ifSh3aW5kb3cuUGxhdGZvcm0pOwovLyMgc291cmNlTWFwcGluZ1VSTD1wbGF0Zm9ybS5qcy5tYXA=",
                "body": "LyoqCiAqIEBsaWNlbnNlCiAqIENvcHlyaWdodCAoYykgMjAxNCBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQKICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHQKICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0CiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvCiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0CiAqLwovLyBAdmVyc2lvbjogMC4yLjQtMzljNmJmNwoKd2luZG93LlBsYXRmb3JtPXdpbmRvdy5QbGF0Zm9ybXx8e30sd2luZG93LmxvZ0ZsYWdzPXdpbmRvdy5sb2dGbGFnc3x8e30sZnVuY3Rpb24oYSl7dmFyIGI9YS5mbGFnc3x8e307bG9jYXRpb24uc2VhcmNoLnNsaWNlKDEpLnNwbGl0KCImIikuZm9yRWFjaChmdW5jdGlvbihhKXthPWEuc3BsaXQoIj0iKSxhWzBdJiYoYlthWzBdXT1hWzFdfHwhMCl9KTt2YXIgYz1kb2N1bWVudC5jdXJyZW50U2NyaXB0fHxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzY3JpcHRbc3JjKj0icGxhdGZvcm0uanMiXScpO2lmKGMpZm9yKHZhciBkLGU9Yy5hdHRyaWJ1dGVzLGY9MDtmPGUubGVuZ3RoO2YrKylkPWVbZl0sInNyYyIhPT1kLm5hbWUmJihiW2QubmFtZV09ZC52YWx1ZXx8ITApO2IubG9nJiZiLmxvZy5zcGxpdCgiLCIpLmZvckVhY2goZnVuY3Rpb24oYSl7d2luZG93LmxvZ0ZsYWdzW2FdPSEwfSksYi5zaGFkb3c9Yi5zaGFkb3d8fGIuc2hhZG93ZG9tfHxiLnBvbHlmaWxsLGIuc2hhZG93PSJuYXRpdmUiPT09Yi5zaGFkb3c/ITE6Yi5zaGFkb3d8fCFIVE1MRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdCxiLnNoYWRvdyYmZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgic2NyaXB0IikubGVuZ3RoPjEmJmNvbnNvbGUud2FybigicGxhdGZvcm0uanMgaXMgbm90IHRoZSBmaXJzdCBzY3JpcHQgb24gdGhlIHBhZ2UuIFNlZSBodHRwOi8vd3d3LnBvbHltZXItcHJvamVjdC5vcmcvZG9jcy9zdGFydC9wbGF0Zm9ybS5odG1sI3NldHVwIGZvciBkZXRhaWxzLiIpLGIucmVnaXN0ZXImJih3aW5kb3cuQ3VzdG9tRWxlbWVudHM9d2luZG93LkN1c3RvbUVsZW1lbnRzfHx7ZmxhZ3M6e319LHdpbmRvdy5DdXN0b21FbGVtZW50cy5mbGFncy5yZWdpc3Rlcj1iLnJlZ2lzdGVyKSxiLmltcG9ydHMmJih3aW5kb3cuSFRNTEltcG9ydHM9d2luZG93LkhUTUxJbXBvcnRzfHx7ZmxhZ3M6e319LHdpbmRvdy5IVE1MSW1wb3J0cy5mbGFncy5pbXBvcnRzPWIuaW1wb3J0cyksYS5mbGFncz1ifShQbGF0Zm9ybSksInVuZGVmaW5lZCI9PXR5cGVvZiBXZWFrTWFwJiYhZnVuY3Rpb24oKXt2YXIgYT1PYmplY3QuZGVmaW5lUHJvcGVydHksYj1EYXRlLm5vdygpJTFlOSxjPWZ1bmN0aW9uKCl7dGhpcy5uYW1lPSJfX3N0IisoMWU5Kk1hdGgucmFuZG9tKCk+Pj4wKSsoYisrICsiX18iKX07Yy5wcm90b3R5cGU9e3NldDpmdW5jdGlvbihiLGMpe3ZhciBkPWJbdGhpcy5uYW1lXTtkJiZkWzBdPT09Yj9kWzFdPWM6YShiLHRoaXMubmFtZSx7dmFsdWU6W2IsY10sd3JpdGFibGU6ITB9KX0sZ2V0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybihiPWFbdGhpcy5uYW1lXSkmJmJbMF09PT1hP2JbMV06dm9pZCAwfSwiZGVsZXRlIjpmdW5jdGlvbihhKXt0aGlzLnNldChhLHZvaWQgMCl9fSx3aW5kb3cuV2Vha01hcD1jfSgpLGZ1bmN0aW9uKGdsb2JhbCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGRldGVjdE9iamVjdE9ic2VydmUoKXtmdW5jdGlvbiBhKGEpe2I9YX1pZigiZnVuY3Rpb24iIT10eXBlb2YgT2JqZWN0Lm9ic2VydmV8fCJmdW5jdGlvbiIhPXR5cGVvZiBBcnJheS5vYnNlcnZlKXJldHVybiExO3ZhciBiPVtdLGM9e30sZD1bXTtyZXR1cm4gT2JqZWN0Lm9ic2VydmUoYyxhKSxBcnJheS5vYnNlcnZlKGQsYSksYy5pZD0xLGMuaWQ9MixkZWxldGUgYy5pZCxkLnB1c2goMSwyKSxkLmxlbmd0aD0wLE9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyhhKSw1IT09Yi5sZW5ndGg/ITE6ImFkZCIhPWJbMF0udHlwZXx8InVwZGF0ZSIhPWJbMV0udHlwZXx8ImRlbGV0ZSIhPWJbMl0udHlwZXx8InNwbGljZSIhPWJbM10udHlwZXx8InNwbGljZSIhPWJbNF0udHlwZT8hMTooT2JqZWN0LnVub2JzZXJ2ZShjLGEpLEFycmF5LnVub2JzZXJ2ZShkLGEpLCEwKX1mdW5jdGlvbiBkZXRlY3RFdmFsKCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBjaHJvbWUmJmNocm9tZS5hcHAmJmNocm9tZS5hcHAucnVudGltZSlyZXR1cm4hMTt0cnl7dmFyIGE9bmV3IEZ1bmN0aW9uKCIiLCJyZXR1cm4gdHJ1ZTsiKTtyZXR1cm4gYSgpfWNhdGNoKGIpe3JldHVybiExfX1mdW5jdGlvbiBpc0luZGV4KGEpe3JldHVybithPT09YT4+PjB9ZnVuY3Rpb24gdG9OdW1iZXIoYSl7cmV0dXJuK2F9ZnVuY3Rpb24gaXNPYmplY3QoYSl7cmV0dXJuIGE9PT1PYmplY3QoYSl9ZnVuY3Rpb24gYXJlU2FtZVZhbHVlKGEsYil7cmV0dXJuIGE9PT1iPzAhPT1hfHwxL2E9PT0xL2I6bnVtYmVySXNOYU4oYSkmJm51bWJlcklzTmFOKGIpPyEwOmEhPT1hJiZiIT09Yn1mdW5jdGlvbiBpc1BhdGhWYWxpZChhKXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGE/ITE6KGE9YS50cmltKCksIiI9PWE/ITA6Ii4iPT1hWzBdPyExOnBhdGhSZWdFeHAudGVzdChhKSl9ZnVuY3Rpb24gUGF0aChhLGIpe2lmKGIhPT1jb25zdHJ1Y3RvcklzUHJpdmF0ZSl0aHJvdyBFcnJvcigiVXNlIFBhdGguZ2V0IHRvIHJldHJpZXZlIHBhdGggb2JqZWN0cyIpO3JldHVybiIiPT1hLnRyaW0oKT90aGlzOmlzSW5kZXgoYSk/KHRoaXMucHVzaChhKSx0aGlzKTooYS5zcGxpdCgvXHMqXC5ccyovKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGF9KS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMucHVzaChhKX0sdGhpcyksdm9pZChoYXNFdmFsJiZ0aGlzLmxlbmd0aCYmKHRoaXMuZ2V0VmFsdWVGcm9tPXRoaXMuY29tcGlsZWRHZXRWYWx1ZUZyb21GbigpKSkpfWZ1bmN0aW9uIGdldFBhdGgoYSl7aWYoYSBpbnN0YW5jZW9mIFBhdGgpcmV0dXJuIGE7bnVsbD09YSYmKGE9IiIpLCJzdHJpbmciIT10eXBlb2YgYSYmKGE9U3RyaW5nKGEpKTt2YXIgYj1wYXRoQ2FjaGVbYV07aWYoYilyZXR1cm4gYjtpZighaXNQYXRoVmFsaWQoYSkpcmV0dXJuIGludmFsaWRQYXRoO3ZhciBiPW5ldyBQYXRoKGEsY29uc3RydWN0b3JJc1ByaXZhdGUpO3JldHVybiBwYXRoQ2FjaGVbYV09YixifWZ1bmN0aW9uIGRpcnR5Q2hlY2soYSl7Zm9yKHZhciBiPTA7TUFYX0RJUlRZX0NIRUNLX0NZQ0xFUz5iJiZhLmNoZWNrXygpOyliKys7cmV0dXJuIGdsb2JhbC50ZXN0aW5nRXhwb3NlQ3ljbGVDb3VudCYmKGdsb2JhbC5kaXJ0eUNoZWNrQ3ljbGVDb3VudD1iKSxiPjB9ZnVuY3Rpb24gb2JqZWN0SXNFbXB0eShhKXtmb3IodmFyIGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBkaWZmSXNFbXB0eShhKXtyZXR1cm4gb2JqZWN0SXNFbXB0eShhLmFkZGVkKSYmb2JqZWN0SXNFbXB0eShhLnJlbW92ZWQpJiZvYmplY3RJc0VtcHR5KGEuY2hhbmdlZCl9ZnVuY3Rpb24gZGlmZk9iamVjdEZyb21PbGRPYmplY3QoYSxiKXt2YXIgYz17fSxkPXt9LGU9e307Zm9yKHZhciBmIGluIGIpe3ZhciBnPWFbZl07KHZvaWQgMD09PWd8fGchPT1iW2ZdKSYmKGYgaW4gYT9nIT09YltmXSYmKGVbZl09Zyk6ZFtmXT12b2lkIDApfWZvcih2YXIgZiBpbiBhKWYgaW4gYnx8KGNbZl09YVtmXSk7cmV0dXJuIEFycmF5LmlzQXJyYXkoYSkmJmEubGVuZ3RoIT09Yi5sZW5ndGgmJihlLmxlbmd0aD1hLmxlbmd0aCkse2FkZGVkOmMscmVtb3ZlZDpkLGNoYW5nZWQ6ZX19ZnVuY3Rpb24gcnVuRU9NVGFza3MoKXtpZighZW9tVGFza3MubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYT0wO2E8ZW9tVGFza3MubGVuZ3RoO2ErKyllb21UYXNrc1thXSgpO3JldHVybiBlb21UYXNrcy5sZW5ndGg9MCwhMH1mdW5jdGlvbiBuZXdPYnNlcnZlZE9iamVjdCgpe2Z1bmN0aW9uIGEoYSl7YiYmYi5zdGF0ZV89PT1PUEVORUQmJiFkJiZiLmNoZWNrXyhhKX12YXIgYixjLGQ9ITEsZT0hMDtyZXR1cm57b3BlbjpmdW5jdGlvbihjKXtpZihiKXRocm93IEVycm9yKCJPYnNlcnZlZE9iamVjdCBpbiB1c2UiKTtlfHxPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMoYSksYj1jLGU9ITF9LG9ic2VydmU6ZnVuY3Rpb24oYixkKXtjPWIsZD9BcnJheS5vYnNlcnZlKGMsYSk6T2JqZWN0Lm9ic2VydmUoYyxhKX0sZGVsaXZlcjpmdW5jdGlvbihiKXtkPWIsT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzKGEpLGQ9ITF9LGNsb3NlOmZ1bmN0aW9uKCl7Yj12b2lkIDAsT2JqZWN0LnVub2JzZXJ2ZShjLGEpLG9ic2VydmVkT2JqZWN0Q2FjaGUucHVzaCh0aGlzKX19fWZ1bmN0aW9uIGdldE9ic2VydmVkT2JqZWN0KGEsYixjKXt2YXIgZD1vYnNlcnZlZE9iamVjdENhY2hlLnBvcCgpfHxuZXdPYnNlcnZlZE9iamVjdCgpO3JldHVybiBkLm9wZW4oYSksZC5vYnNlcnZlKGIsYyksZH1mdW5jdGlvbiBuZXdPYnNlcnZlZFNldCgpe2Z1bmN0aW9uIGEoYixmKXtiJiYoYj09PWQmJihlW2ZdPSEwKSxoLmluZGV4T2YoYik8MCYmKGgucHVzaChiKSxPYmplY3Qub2JzZXJ2ZShiLGMpKSxhKE9iamVjdC5nZXRQcm90b3R5cGVPZihiKSxmKSl9ZnVuY3Rpb24gYihhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9YVtiXTtpZihjLm9iamVjdCE9PWR8fGVbYy5uYW1lXXx8InNldFByb3RvdHlwZSI9PT1jLnR5cGUpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gYyhjKXtpZighYihjKSl7Zm9yKHZhciBkLGU9MDtlPGcubGVuZ3RoO2UrKylkPWdbZV0sZC5zdGF0ZV89PU9QRU5FRCYmZC5pdGVyYXRlT2JqZWN0c18oYSk7Zm9yKHZhciBlPTA7ZTxnLmxlbmd0aDtlKyspZD1nW2VdLGQuc3RhdGVfPT1PUEVORUQmJmQuY2hlY2tfKCl9fXZhciBkLGUsZj0wLGc9W10saD1bXSxpPXtvYmplY3Q6dm9pZCAwLG9iamVjdHM6aCxvcGVuOmZ1bmN0aW9uKGIsYyl7ZHx8KGQ9YyxlPXt9KSxnLnB1c2goYiksZisrLGIuaXRlcmF0ZU9iamVjdHNfKGEpfSxjbG9zZTpmdW5jdGlvbigpe2lmKGYtLSwhKGY+MCkpe2Zvcih2YXIgYT0wO2E8aC5sZW5ndGg7YSsrKU9iamVjdC51bm9ic2VydmUoaFthXSxjKSxPYnNlcnZlci51bm9ic2VydmVkQ291bnQrKztnLmxlbmd0aD0wLGgubGVuZ3RoPTAsZD12b2lkIDAsZT12b2lkIDAsb2JzZXJ2ZWRTZXRDYWNoZS5wdXNoKHRoaXMpfX19O3JldHVybiBpfWZ1bmN0aW9uIGdldE9ic2VydmVkU2V0KGEsYil7cmV0dXJuIGxhc3RPYnNlcnZlZFNldCYmbGFzdE9ic2VydmVkU2V0Lm9iamVjdD09PWJ8fChsYXN0T2JzZXJ2ZWRTZXQ9b2JzZXJ2ZWRTZXRDYWNoZS5wb3AoKXx8bmV3T2JzZXJ2ZWRTZXQoKSxsYXN0T2JzZXJ2ZWRTZXQub2JqZWN0PWIpLGxhc3RPYnNlcnZlZFNldC5vcGVuKGEsYiksbGFzdE9ic2VydmVkU2V0fWZ1bmN0aW9uIE9ic2VydmVyKCl7dGhpcy5zdGF0ZV89VU5PUEVORUQsdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwLHRoaXMudmFsdWVfPXZvaWQgMCx0aGlzLmlkXz1uZXh0T2JzZXJ2ZXJJZCsrfWZ1bmN0aW9uIGFkZFRvQWxsKGEpe09ic2VydmVyLl9hbGxPYnNlcnZlcnNDb3VudCsrLGNvbGxlY3RPYnNlcnZlcnMmJmFsbE9ic2VydmVycy5wdXNoKGEpfWZ1bmN0aW9uIHJlbW92ZUZyb21BbGwoKXtPYnNlcnZlci5fYWxsT2JzZXJ2ZXJzQ291bnQtLX1mdW5jdGlvbiBPYmplY3RPYnNlcnZlcihhKXtPYnNlcnZlci5jYWxsKHRoaXMpLHRoaXMudmFsdWVfPWEsdGhpcy5vbGRPYmplY3RfPXZvaWQgMH1mdW5jdGlvbiBBcnJheU9ic2VydmVyKGEpe2lmKCFBcnJheS5pc0FycmF5KGEpKXRocm93IEVycm9yKCJQcm92aWRlZCBvYmplY3QgaXMgbm90IGFuIEFycmF5Iik7T2JqZWN0T2JzZXJ2ZXIuY2FsbCh0aGlzLGEpfWZ1bmN0aW9uIFBhdGhPYnNlcnZlcihhLGIpe09ic2VydmVyLmNhbGwodGhpcyksdGhpcy5vYmplY3RfPWEsdGhpcy5wYXRoXz1nZXRQYXRoKGIpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMH1mdW5jdGlvbiBDb21wb3VuZE9ic2VydmVyKGEpe09ic2VydmVyLmNhbGwodGhpcyksdGhpcy5yZXBvcnRDaGFuZ2VzT25PcGVuXz1hLHRoaXMudmFsdWVfPVtdLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCx0aGlzLm9ic2VydmVkXz1bXX1mdW5jdGlvbiBpZGVudEZuKGEpe3JldHVybiBhfWZ1bmN0aW9uIE9ic2VydmVyVHJhbnNmb3JtKGEsYixjLGQpe3RoaXMuY2FsbGJhY2tfPXZvaWQgMCx0aGlzLnRhcmdldF89dm9pZCAwLHRoaXMudmFsdWVfPXZvaWQgMCx0aGlzLm9ic2VydmFibGVfPWEsdGhpcy5nZXRWYWx1ZUZuXz1ifHxpZGVudEZuLHRoaXMuc2V0VmFsdWVGbl89Y3x8aWRlbnRGbix0aGlzLmRvbnRQYXNzVGhyb3VnaFNldF89ZH1mdW5jdGlvbiBub3RpZnkoYSxiLGMsZCl7aWYoIWFyZVNhbWVWYWx1ZShjLGQpJiYoImZ1bmN0aW9uIj09dHlwZW9mIGEucHJvcGVydHlDaGFuZ2VkXyYmYS5wcm9wZXJ0eUNoYW5nZWRfKGIsYyxkKSxoYXNPYnNlcnZlKSl7dmFyIGU9YS5ub3RpZmllcl87ZXx8KGU9YS5ub3RpZmllcl89T2JqZWN0LmdldE5vdGlmaWVyKGEpKSx1cGRhdGVSZWNvcmQub2JqZWN0PWEsdXBkYXRlUmVjb3JkLm5hbWU9Yix1cGRhdGVSZWNvcmQub2xkVmFsdWU9ZCxlLm5vdGlmeSh1cGRhdGVSZWNvcmQpfX1mdW5jdGlvbiBkaWZmT2JqZWN0RnJvbUNoYW5nZVJlY29yZHMoYSxiLGMpe2Zvcih2YXIgZD17fSxlPXt9LGY9MDtmPGIubGVuZ3RoO2YrKyl7dmFyIGc9YltmXTtleHBlY3RlZFJlY29yZFR5cGVzW2cudHlwZV0/KGcubmFtZSBpbiBjfHwoY1tnLm5hbWVdPWcub2xkVmFsdWUpLCJ1cGRhdGUiIT1nLnR5cGUmJigiYWRkIiE9Zy50eXBlP2cubmFtZSBpbiBkPyhkZWxldGUgZFtnLm5hbWVdLGRlbGV0ZSBjW2cubmFtZV0pOmVbZy5uYW1lXT0hMDpnLm5hbWUgaW4gZT9kZWxldGUgZVtnLm5hbWVdOmRbZy5uYW1lXT0hMCkpOihjb25zb2xlLmVycm9yKCJVbmtub3duIGNoYW5nZVJlY29yZCB0eXBlOiAiK2cudHlwZSksY29uc29sZS5lcnJvcihnKSl9Zm9yKHZhciBoIGluIGQpZFtoXT1hW2hdO2Zvcih2YXIgaCBpbiBlKWVbaF09dm9pZCAwO3ZhciBpPXt9O2Zvcih2YXIgaCBpbiBjKWlmKCEoaCBpbiBkfHxoIGluIGUpKXt2YXIgaj1hW2hdO2NbaF0hPT1qJiYoaVtoXT1qKX1yZXR1cm57YWRkZWQ6ZCxyZW1vdmVkOmUsY2hhbmdlZDppfX1mdW5jdGlvbiBuZXdTcGxpY2UoYSxiLGMpe3JldHVybntpbmRleDphLHJlbW92ZWQ6YixhZGRlZENvdW50OmN9fWZ1bmN0aW9uIEFycmF5U3BsaWNlKCl7fWZ1bmN0aW9uIGNhbGNTcGxpY2VzKGEsYixjLGQsZSxmKXtyZXR1cm4gYXJyYXlTcGxpY2UuY2FsY1NwbGljZXMoYSxiLGMsZCxlLGYpfWZ1bmN0aW9uIGludGVyc2VjdChhLGIsYyxkKXtyZXR1cm4gYz5ifHxhPmQ/LTE6Yj09Y3x8ZD09YT8wOmM+YT9kPmI/Yi1jOmQtYzpiPmQ/ZC1hOmItYX1mdW5jdGlvbiBtZXJnZVNwbGljZShhLGIsYyxkKXtmb3IodmFyIGU9bmV3U3BsaWNlKGIsYyxkKSxmPSExLGc9MCxoPTA7aDxhLmxlbmd0aDtoKyspe3ZhciBpPWFbaF07aWYoaS5pbmRleCs9ZywhZil7dmFyIGo9aW50ZXJzZWN0KGUuaW5kZXgsZS5pbmRleCtlLnJlbW92ZWQubGVuZ3RoLGkuaW5kZXgsaS5pbmRleCtpLmFkZGVkQ291bnQpO2lmKGo+PTApe2Euc3BsaWNlKGgsMSksaC0tLGctPWkuYWRkZWRDb3VudC1pLnJlbW92ZWQubGVuZ3RoLGUuYWRkZWRDb3VudCs9aS5hZGRlZENvdW50LWo7dmFyIGs9ZS5yZW1vdmVkLmxlbmd0aCtpLnJlbW92ZWQubGVuZ3RoLWo7aWYoZS5hZGRlZENvdW50fHxrKXt2YXIgYz1pLnJlbW92ZWQ7aWYoZS5pbmRleDxpLmluZGV4KXt2YXIgbD1lLnJlbW92ZWQuc2xpY2UoMCxpLmluZGV4LWUuaW5kZXgpO0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGwsYyksYz1sfWlmKGUuaW5kZXgrZS5yZW1vdmVkLmxlbmd0aD5pLmluZGV4K2kuYWRkZWRDb3VudCl7dmFyIG09ZS5yZW1vdmVkLnNsaWNlKGkuaW5kZXgraS5hZGRlZENvdW50LWUuaW5kZXgpO0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGMsbSl9ZS5yZW1vdmVkPWMsaS5pbmRleDxlLmluZGV4JiYoZS5pbmRleD1pLmluZGV4KX1lbHNlIGY9ITB9ZWxzZSBpZihlLmluZGV4PGkuaW5kZXgpe2Y9ITAsYS5zcGxpY2UoaCwwLGUpLGgrKzt2YXIgbj1lLmFkZGVkQ291bnQtZS5yZW1vdmVkLmxlbmd0aDtpLmluZGV4Kz1uLGcrPW59fX1mfHxhLnB1c2goZSl9ZnVuY3Rpb24gY3JlYXRlSW5pdGlhbFNwbGljZXMoYSxiKXtmb3IodmFyIGM9W10sZD0wO2Q8Yi5sZW5ndGg7ZCsrKXt2YXIgZT1iW2RdO3N3aXRjaChlLnR5cGUpe2Nhc2Uic3BsaWNlIjptZXJnZVNwbGljZShjLGUuaW5kZXgsZS5yZW1vdmVkLnNsaWNlKCksZS5hZGRlZENvdW50KTticmVhaztjYXNlImFkZCI6Y2FzZSJ1cGRhdGUiOmNhc2UiZGVsZXRlIjppZighaXNJbmRleChlLm5hbWUpKWNvbnRpbnVlO3ZhciBmPXRvTnVtYmVyKGUubmFtZSk7aWYoMD5mKWNvbnRpbnVlO21lcmdlU3BsaWNlKGMsZixbZS5vbGRWYWx1ZV0sMSk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKCJVbmV4cGVjdGVkIHJlY29yZCB0eXBlOiAiK0pTT04uc3RyaW5naWZ5KGUpKX19cmV0dXJuIGN9ZnVuY3Rpb24gcHJvamVjdEFycmF5U3BsaWNlcyhhLGIpe3ZhciBjPVtdO3JldHVybiBjcmVhdGVJbml0aWFsU3BsaWNlcyhhLGIpLmZvckVhY2goZnVuY3Rpb24oYil7cmV0dXJuIDE9PWIuYWRkZWRDb3VudCYmMT09Yi5yZW1vdmVkLmxlbmd0aD92b2lkKGIucmVtb3ZlZFswXSE9PWFbYi5pbmRleF0mJmMucHVzaChiKSk6dm9pZChjPWMuY29uY2F0KGNhbGNTcGxpY2VzKGEsYi5pbmRleCxiLmluZGV4K2IuYWRkZWRDb3VudCxiLnJlbW92ZWQsMCxiLnJlbW92ZWQubGVuZ3RoKSkpfSksY312YXIgaGFzT2JzZXJ2ZT1kZXRlY3RPYmplY3RPYnNlcnZlKCksaGFzRXZhbD1kZXRlY3RFdmFsKCksbnVtYmVySXNOYU49Z2xvYmFsLk51bWJlci5pc05hTnx8ZnVuY3Rpb24oYSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBhJiZnbG9iYWwuaXNOYU4oYSl9LGNyZWF0ZU9iamVjdD0iX19wcm90b19fImlue30/ZnVuY3Rpb24oYSl7cmV0dXJuIGF9OmZ1bmN0aW9uKGEpe3ZhciBiPWEuX19wcm90b19fO2lmKCFiKXJldHVybiBhO3ZhciBjPU9iamVjdC5jcmVhdGUoYik7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGEpLmZvckVhY2goZnVuY3Rpb24oYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGMsYixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsYikpfSksY30saWRlbnRTdGFydD0iWyRfYS16QS1aXSIsaWRlbnRQYXJ0PSJbJF9hLXpBLVowLTldIixpZGVudD1pZGVudFN0YXJ0KyIrIitpZGVudFBhcnQrIioiLGVsZW1lbnRJbmRleD0iKD86WzAtOV18WzEtOV0rWzAtOV0rKSIsaWRlbnRPckVsZW1lbnRJbmRleD0iKD86IitpZGVudCsifCIrZWxlbWVudEluZGV4KyIpIixwYXRoPSIoPzoiK2lkZW50T3JFbGVtZW50SW5kZXgrIikoPzpcXHMqXFwuXFxzKiIraWRlbnRPckVsZW1lbnRJbmRleCsiKSoiLHBhdGhSZWdFeHA9bmV3IFJlZ0V4cCgiXiIrcGF0aCsiJCIpLGNvbnN0cnVjdG9ySXNQcml2YXRlPXt9LHBhdGhDYWNoZT17fTtQYXRoLmdldD1nZXRQYXRoLFBhdGgucHJvdG90eXBlPWNyZWF0ZU9iamVjdCh7X19wcm90b19fOltdLHZhbGlkOiEwLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuam9pbigiLiIpfSxnZXRWYWx1ZUZyb206ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7Yjx0aGlzLmxlbmd0aDtiKyspe2lmKG51bGw9PWEpcmV0dXJuO2E9YVt0aGlzW2JdXX1yZXR1cm4gYX0saXRlcmF0ZU9iamVjdHM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtjPHRoaXMubGVuZ3RoO2MrKyl7aWYoYyYmKGE9YVt0aGlzW2MtMV1dKSwhaXNPYmplY3QoYSkpcmV0dXJuO2IoYSx0aGlzWzBdKX19LGNvbXBpbGVkR2V0VmFsdWVGcm9tRm46ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gaXNJbmRleChhKT8nWyInK2ErJyJdJzoiLiIrYX0pLGI9IiIsYz0ib2JqIjtiKz0iaWYgKG9iaiAhPSBudWxsIjtmb3IodmFyIGQ9MDtkPHRoaXMubGVuZ3RoLTE7ZCsrKXt7dGhpc1tkXX1jKz1hW2RdLGIrPSIgJiZcbiAgICAgIitjKyIgIT0gbnVsbCJ9cmV0dXJuIGIrPSIpXG4iLGMrPWFbZF0sYis9IiAgcmV0dXJuICIrYysiO1xuZWxzZVxuICByZXR1cm4gdW5kZWZpbmVkOyIsbmV3IEZ1bmN0aW9uKCJvYmoiLGIpfSxzZXRWYWx1ZUZyb206ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBjPTA7Yzx0aGlzLmxlbmd0aC0xO2MrKyl7aWYoIWlzT2JqZWN0KGEpKXJldHVybiExO2E9YVt0aGlzW2NdXX1yZXR1cm4gaXNPYmplY3QoYSk/KGFbdGhpc1tjXV09YiwhMCk6ITF9fSk7dmFyIGludmFsaWRQYXRoPW5ldyBQYXRoKCIiLGNvbnN0cnVjdG9ySXNQcml2YXRlKTtpbnZhbGlkUGF0aC52YWxpZD0hMSxpbnZhbGlkUGF0aC5nZXRWYWx1ZUZyb209aW52YWxpZFBhdGguc2V0VmFsdWVGcm9tPWZ1bmN0aW9uKCl7fTt2YXIgTUFYX0RJUlRZX0NIRUNLX0NZQ0xFUz0xZTMsZW9tVGFza3M9W10scnVuRU9NPWhhc09ic2VydmU/ZnVuY3Rpb24oKXt2YXIgYT17cGluZ1Bvbmc6ITB9LGI9ITE7cmV0dXJuIE9iamVjdC5vYnNlcnZlKGEsZnVuY3Rpb24oKXtydW5FT01UYXNrcygpLGI9ITF9KSxmdW5jdGlvbihjKXtlb21UYXNrcy5wdXNoKGMpLGJ8fChiPSEwLGEucGluZ1Bvbmc9IWEucGluZ1BvbmcpfX0oKTpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhKXtlb21UYXNrcy5wdXNoKGEpfX0oKSxvYnNlcnZlZE9iamVjdENhY2hlPVtdLG9ic2VydmVkU2V0Q2FjaGU9W10sbGFzdE9ic2VydmVkU2V0LFVOT1BFTkVEPTAsT1BFTkVEPTEsQ0xPU0VEPTIsUkVTRVRUSU5HPTMsbmV4dE9ic2VydmVySWQ9MTtPYnNlcnZlci5wcm90b3R5cGU9e29wZW46ZnVuY3Rpb24oYSxiKXtpZih0aGlzLnN0YXRlXyE9VU5PUEVORUQpdGhyb3cgRXJyb3IoIk9ic2VydmVyIGhhcyBhbHJlYWR5IGJlZW4gb3BlbmVkLiIpO3JldHVybiBhZGRUb0FsbCh0aGlzKSx0aGlzLmNhbGxiYWNrXz1hLHRoaXMudGFyZ2V0Xz1iLHRoaXMuY29ubmVjdF8oKSx0aGlzLnN0YXRlXz1PUEVORUQsdGhpcy52YWx1ZV99LGNsb3NlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZV89PU9QRU5FRCYmKHJlbW92ZUZyb21BbGwodGhpcyksdGhpcy5kaXNjb25uZWN0XygpLHRoaXMudmFsdWVfPXZvaWQgMCx0aGlzLmNhbGxiYWNrXz12b2lkIDAsdGhpcy50YXJnZXRfPXZvaWQgMCx0aGlzLnN0YXRlXz1DTE9TRUQpfSxkZWxpdmVyOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZV89PU9QRU5FRCYmZGlydHlDaGVjayh0aGlzKX0scmVwb3J0XzpmdW5jdGlvbihhKXt0cnl7dGhpcy5jYWxsYmFja18uYXBwbHkodGhpcy50YXJnZXRfLGEpfWNhdGNoKGIpe09ic2VydmVyLl9lcnJvclRocm93bkR1cmluZ0NhbGxiYWNrPSEwLGNvbnNvbGUuZXJyb3IoIkV4Y2VwdGlvbiBjYXVnaHQgZHVyaW5nIG9ic2VydmVyIGNhbGxiYWNrOiAiKyhiLnN0YWNrfHxiKSl9fSxkaXNjYXJkQ2hhbmdlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoZWNrXyh2b2lkIDAsITApLHRoaXMudmFsdWVffX07dmFyIGNvbGxlY3RPYnNlcnZlcnM9IWhhc09ic2VydmUsYWxsT2JzZXJ2ZXJzO09ic2VydmVyLl9hbGxPYnNlcnZlcnNDb3VudD0wLGNvbGxlY3RPYnNlcnZlcnMmJihhbGxPYnNlcnZlcnM9W10pO3ZhciBydW5uaW5nTWljcm90YXNrQ2hlY2twb2ludD0hMSxoYXNEZWJ1Z0ZvcmNlRnVsbERlbGl2ZXJ5PWhhc09ic2VydmUmJmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBldmFsKCIlUnVuTWljcm90YXNrcygpIiksITB9Y2F0Y2goZXgpe3JldHVybiExfX0oKTtnbG9iYWwuUGxhdGZvcm09Z2xvYmFsLlBsYXRmb3JtfHx7fSxnbG9iYWwuUGxhdGZvcm0ucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQ9ZnVuY3Rpb24oKXtpZighcnVubmluZ01pY3JvdGFza0NoZWNrcG9pbnQpe2lmKGhhc0RlYnVnRm9yY2VGdWxsRGVsaXZlcnkpcmV0dXJuIHZvaWQgZXZhbCgiJVJ1bk1pY3JvdGFza3MoKSIpO2lmKGNvbGxlY3RPYnNlcnZlcnMpe3J1bm5pbmdNaWNyb3Rhc2tDaGVja3BvaW50PSEwO3ZhciBjeWNsZXM9MCxhbnlDaGFuZ2VkLHRvQ2hlY2s7ZG97Y3ljbGVzKyssdG9DaGVjaz1hbGxPYnNlcnZlcnMsYWxsT2JzZXJ2ZXJzPVtdLGFueUNoYW5nZWQ9ITE7Zm9yKHZhciBpPTA7aTx0b0NoZWNrLmxlbmd0aDtpKyspe3ZhciBvYnNlcnZlcj10b0NoZWNrW2ldO29ic2VydmVyLnN0YXRlXz09T1BFTkVEJiYob2JzZXJ2ZXIuY2hlY2tfKCkmJihhbnlDaGFuZ2VkPSEwKSxhbGxPYnNlcnZlcnMucHVzaChvYnNlcnZlcikpfXJ1bkVPTVRhc2tzKCkmJihhbnlDaGFuZ2VkPSEwKX13aGlsZShNQVhfRElSVFlfQ0hFQ0tfQ1lDTEVTPmN5Y2xlcyYmYW55Q2hhbmdlZCk7Z2xvYmFsLnRlc3RpbmdFeHBvc2VDeWNsZUNvdW50JiYoZ2xvYmFsLmRpcnR5Q2hlY2tDeWNsZUNvdW50PWN5Y2xlcykscnVubmluZ01pY3JvdGFza0NoZWNrcG9pbnQ9ITF9fX0sY29sbGVjdE9ic2VydmVycyYmKGdsb2JhbC5QbGF0Zm9ybS5jbGVhck9ic2VydmVycz1mdW5jdGlvbigpe2FsbE9ic2VydmVycz1bXX0pLE9iamVjdE9ic2VydmVyLnByb3RvdHlwZT1jcmVhdGVPYmplY3Qoe19fcHJvdG9fXzpPYnNlcnZlci5wcm90b3R5cGUsYXJyYXlPYnNlcnZlOiExLGNvbm5lY3RfOmZ1bmN0aW9uKCl7aGFzT2JzZXJ2ZT90aGlzLmRpcmVjdE9ic2VydmVyXz1nZXRPYnNlcnZlZE9iamVjdCh0aGlzLHRoaXMudmFsdWVfLHRoaXMuYXJyYXlPYnNlcnZlKTp0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKX0sY29weU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYj1BcnJheS5pc0FycmF5KGEpP1tdOnt9O2Zvcih2YXIgYyBpbiBhKWJbY109YVtjXTtyZXR1cm4gQXJyYXkuaXNBcnJheShhKSYmKGIubGVuZ3RoPWEubGVuZ3RoKSxifSxjaGVja186ZnVuY3Rpb24oYSl7dmFyIGIsYztpZihoYXNPYnNlcnZlKXtpZighYSlyZXR1cm4hMTtjPXt9LGI9ZGlmZk9iamVjdEZyb21DaGFuZ2VSZWNvcmRzKHRoaXMudmFsdWVfLGEsYyl9ZWxzZSBjPXRoaXMub2xkT2JqZWN0XyxiPWRpZmZPYmplY3RGcm9tT2xkT2JqZWN0KHRoaXMudmFsdWVfLHRoaXMub2xkT2JqZWN0Xyk7cmV0dXJuIGRpZmZJc0VtcHR5KGIpPyExOihoYXNPYnNlcnZlfHwodGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXykpLHRoaXMucmVwb3J0XyhbYi5hZGRlZHx8e30sYi5yZW1vdmVkfHx7fSxiLmNoYW5nZWR8fHt9LGZ1bmN0aW9uKGEpe3JldHVybiBjW2FdfV0pLCEwKX0sZGlzY29ubmVjdF86ZnVuY3Rpb24oKXtoYXNPYnNlcnZlPyh0aGlzLmRpcmVjdE9ic2VydmVyXy5jbG9zZSgpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCk6dGhpcy5vbGRPYmplY3RfPXZvaWQgMH0sZGVsaXZlcjpmdW5jdGlvbigpe3RoaXMuc3RhdGVfPT1PUEVORUQmJihoYXNPYnNlcnZlP3RoaXMuZGlyZWN0T2JzZXJ2ZXJfLmRlbGl2ZXIoITEpOmRpcnR5Q2hlY2sodGhpcykpfSxkaXNjYXJkQ2hhbmdlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpcmVjdE9ic2VydmVyXz90aGlzLmRpcmVjdE9ic2VydmVyXy5kZWxpdmVyKCEwKTp0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKSx0aGlzLnZhbHVlX319KSxBcnJheU9ic2VydmVyLnByb3RvdHlwZT1jcmVhdGVPYmplY3Qoe19fcHJvdG9fXzpPYmplY3RPYnNlcnZlci5wcm90b3R5cGUsYXJyYXlPYnNlcnZlOiEwLGNvcHlPYmplY3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc2xpY2UoKX0sY2hlY2tfOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKGhhc09ic2VydmUpe2lmKCFhKXJldHVybiExO2I9cHJvamVjdEFycmF5U3BsaWNlcyh0aGlzLnZhbHVlXyxhKX1lbHNlIGI9Y2FsY1NwbGljZXModGhpcy52YWx1ZV8sMCx0aGlzLnZhbHVlXy5sZW5ndGgsdGhpcy5vbGRPYmplY3RfLDAsdGhpcy5vbGRPYmplY3RfLmxlbmd0aCk7cmV0dXJuIGImJmIubGVuZ3RoPyhoYXNPYnNlcnZlfHwodGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXykpLHRoaXMucmVwb3J0XyhbYl0pLCEwKTohMX19KSxBcnJheU9ic2VydmVyLmFwcGx5U3BsaWNlcz1mdW5jdGlvbihhLGIsYyl7Yy5mb3JFYWNoKGZ1bmN0aW9uKGMpe2Zvcih2YXIgZD1bYy5pbmRleCxjLnJlbW92ZWQubGVuZ3RoXSxlPWMuaW5kZXg7ZTxjLmluZGV4K2MuYWRkZWRDb3VudDspZC5wdXNoKGJbZV0pLGUrKztBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KGEsZCl9KX0sUGF0aE9ic2VydmVyLnByb3RvdHlwZT1jcmVhdGVPYmplY3Qoe19fcHJvdG9fXzpPYnNlcnZlci5wcm90b3R5cGUsY29ubmVjdF86ZnVuY3Rpb24oKXtoYXNPYnNlcnZlJiYodGhpcy5kaXJlY3RPYnNlcnZlcl89Z2V0T2JzZXJ2ZWRTZXQodGhpcyx0aGlzLm9iamVjdF8pKSx0aGlzLmNoZWNrXyh2b2lkIDAsITApfSxkaXNjb25uZWN0XzpmdW5jdGlvbigpe3RoaXMudmFsdWVfPXZvaWQgMCx0aGlzLmRpcmVjdE9ic2VydmVyXyYmKHRoaXMuZGlyZWN0T2JzZXJ2ZXJfLmNsb3NlKHRoaXMpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCl9LGl0ZXJhdGVPYmplY3RzXzpmdW5jdGlvbihhKXt0aGlzLnBhdGhfLml0ZXJhdGVPYmplY3RzKHRoaXMub2JqZWN0XyxhKX0sY2hlY2tfOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy52YWx1ZV87cmV0dXJuIHRoaXMudmFsdWVfPXRoaXMucGF0aF8uZ2V0VmFsdWVGcm9tKHRoaXMub2JqZWN0XyksYnx8YXJlU2FtZVZhbHVlKHRoaXMudmFsdWVfLGMpPyExOih0aGlzLnJlcG9ydF8oW3RoaXMudmFsdWVfLGNdKSwhMCl9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe3RoaXMucGF0aF8mJnRoaXMucGF0aF8uc2V0VmFsdWVGcm9tKHRoaXMub2JqZWN0XyxhKX19KTt2YXIgb2JzZXJ2ZXJTZW50aW5lbD17fTtDb21wb3VuZE9ic2VydmVyLnByb3RvdHlwZT1jcmVhdGVPYmplY3Qoe19fcHJvdG9fXzpPYnNlcnZlci5wcm90b3R5cGUsY29ubmVjdF86ZnVuY3Rpb24oKXtpZihoYXNPYnNlcnZlKXtmb3IodmFyIGEsYj0hMSxjPTA7Yzx0aGlzLm9ic2VydmVkXy5sZW5ndGg7Yys9MilpZihhPXRoaXMub2JzZXJ2ZWRfW2NdLGEhPT1vYnNlcnZlclNlbnRpbmVsKXtiPSEwO2JyZWFrfWImJih0aGlzLmRpcmVjdE9ic2VydmVyXz1nZXRPYnNlcnZlZFNldCh0aGlzLGEpKX10aGlzLmNoZWNrXyh2b2lkIDAsIXRoaXMucmVwb3J0Q2hhbmdlc09uT3Blbl8pfSxkaXNjb25uZWN0XzpmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2ErPTIpdGhpcy5vYnNlcnZlZF9bYV09PT1vYnNlcnZlclNlbnRpbmVsJiZ0aGlzLm9ic2VydmVkX1thKzFdLmNsb3NlKCk7dGhpcy5vYnNlcnZlZF8ubGVuZ3RoPTAsdGhpcy52YWx1ZV8ubGVuZ3RoPTAsdGhpcy5kaXJlY3RPYnNlcnZlcl8mJih0aGlzLmRpcmVjdE9ic2VydmVyXy5jbG9zZSh0aGlzKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDApfSxhZGRQYXRoOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5zdGF0ZV8hPVVOT1BFTkVEJiZ0aGlzLnN0YXRlXyE9UkVTRVRUSU5HKXRocm93IEVycm9yKCJDYW5ub3QgYWRkIHBhdGhzIG9uY2Ugc3RhcnRlZC4iKTt2YXIgYj1nZXRQYXRoKGIpO2lmKHRoaXMub2JzZXJ2ZWRfLnB1c2goYSxiKSx0aGlzLnJlcG9ydENoYW5nZXNPbk9wZW5fKXt2YXIgYz10aGlzLm9ic2VydmVkXy5sZW5ndGgvMi0xO3RoaXMudmFsdWVfW2NdPWIuZ2V0VmFsdWVGcm9tKGEpfX0sYWRkT2JzZXJ2ZXI6ZnVuY3Rpb24oYSl7aWYodGhpcy5zdGF0ZV8hPVVOT1BFTkVEJiZ0aGlzLnN0YXRlXyE9UkVTRVRUSU5HKXRocm93IEVycm9yKCJDYW5ub3QgYWRkIG9ic2VydmVycyBvbmNlIHN0YXJ0ZWQuIik7aWYodGhpcy5vYnNlcnZlZF8ucHVzaChvYnNlcnZlclNlbnRpbmVsLGEpLHRoaXMucmVwb3J0Q2hhbmdlc09uT3Blbl8pe3ZhciBiPXRoaXMub2JzZXJ2ZWRfLmxlbmd0aC8yLTE7dGhpcy52YWx1ZV9bYl09YS5vcGVuKHRoaXMuZGVsaXZlcix0aGlzKX19LHN0YXJ0UmVzZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXRlXyE9T1BFTkVEKXRocm93IEVycm9yKCJDYW4gb25seSByZXNldCB3aGlsZSBvcGVuIik7dGhpcy5zdGF0ZV89UkVTRVRUSU5HLHRoaXMuZGlzY29ubmVjdF8oKX0sZmluaXNoUmVzZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXRlXyE9UkVTRVRUSU5HKXRocm93IEVycm9yKCJDYW4gb25seSBmaW5pc2hSZXNldCBhZnRlciBzdGFydFJlc2V0Iik7cmV0dXJuIHRoaXMuc3RhdGVfPU9QRU5FRCx0aGlzLmNvbm5lY3RfKCksdGhpcy52YWx1ZV99LGl0ZXJhdGVPYmplY3RzXzpmdW5jdGlvbihhKXtmb3IodmFyIGIsYz0wO2M8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2MrPTIpYj10aGlzLm9ic2VydmVkX1tjXSxiIT09b2JzZXJ2ZXJTZW50aW5lbCYmdGhpcy5vYnNlcnZlZF9bYysxXS5pdGVyYXRlT2JqZWN0cyhiLGEpfSxjaGVja186ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wO2Q8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2QrPTIpe3ZhciBlLGY9dGhpcy5vYnNlcnZlZF9bZF0sZz10aGlzLm9ic2VydmVkX1tkKzFdO2lmKGY9PT1vYnNlcnZlclNlbnRpbmVsKXt2YXIgaD1nO2U9dGhpcy5zdGF0ZV89PT1VTk9QRU5FRD9oLm9wZW4odGhpcy5kZWxpdmVyLHRoaXMpOmguZGlzY2FyZENoYW5nZXMoKX1lbHNlIGU9Zy5nZXRWYWx1ZUZyb20oZik7Yj90aGlzLnZhbHVlX1tkLzJdPWU6YXJlU2FtZVZhbHVlKGUsdGhpcy52YWx1ZV9bZC8yXSl8fChjPWN8fFtdLGNbZC8yXT10aGlzLnZhbHVlX1tkLzJdLHRoaXMudmFsdWVfW2QvMl09ZSl9cmV0dXJuIGM/KHRoaXMucmVwb3J0XyhbdGhpcy52YWx1ZV8sYyx0aGlzLm9ic2VydmVkX10pLCEwKTohMX19KSxPYnNlcnZlclRyYW5zZm9ybS5wcm90b3R5cGU9e29wZW46ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5jYWxsYmFja189YSx0aGlzLnRhcmdldF89Yix0aGlzLnZhbHVlXz10aGlzLmdldFZhbHVlRm5fKHRoaXMub2JzZXJ2YWJsZV8ub3Blbih0aGlzLm9ic2VydmVkQ2FsbGJhY2tfLHRoaXMpKSx0aGlzLnZhbHVlX30sb2JzZXJ2ZWRDYWxsYmFja186ZnVuY3Rpb24oYSl7aWYoYT10aGlzLmdldFZhbHVlRm5fKGEpLCFhcmVTYW1lVmFsdWUoYSx0aGlzLnZhbHVlXykpe3ZhciBiPXRoaXMudmFsdWVfO3RoaXMudmFsdWVfPWEsdGhpcy5jYWxsYmFja18uY2FsbCh0aGlzLnRhcmdldF8sdGhpcy52YWx1ZV8sYil9fSxkaXNjYXJkQ2hhbmdlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlXz10aGlzLmdldFZhbHVlRm5fKHRoaXMub2JzZXJ2YWJsZV8uZGlzY2FyZENoYW5nZXMoKSksdGhpcy52YWx1ZV99LGRlbGl2ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vYnNlcnZhYmxlXy5kZWxpdmVyKCl9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe3JldHVybiBhPXRoaXMuc2V0VmFsdWVGbl8oYSksIXRoaXMuZG9udFBhc3NUaHJvdWdoU2V0XyYmdGhpcy5vYnNlcnZhYmxlXy5zZXRWYWx1ZT90aGlzLm9ic2VydmFibGVfLnNldFZhbHVlKGEpOnZvaWQgMH0sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLm9ic2VydmFibGVfJiZ0aGlzLm9ic2VydmFibGVfLmNsb3NlKCksdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy5vYnNlcnZhYmxlXz12b2lkIDAsdGhpcy52YWx1ZV89dm9pZCAwLHRoaXMuZ2V0VmFsdWVGbl89dm9pZCAwLHRoaXMuc2V0VmFsdWVGbl89dm9pZCAwfX07dmFyIGV4cGVjdGVkUmVjb3JkVHlwZXM9e2FkZDohMCx1cGRhdGU6ITAsImRlbGV0ZSI6ITB9LHVwZGF0ZVJlY29yZD17b2JqZWN0OnZvaWQgMCx0eXBlOiJ1cGRhdGUiLG5hbWU6dm9pZCAwLG9sZFZhbHVlOnZvaWQgMH07T2JzZXJ2ZXIuY3JlYXRlQmluZGFibGVQcm90b3R5cGVBY2Nlc3Nvcj1mdW5jdGlvbihhLGIpe3ZhciBjPWIrIl8iLGQ9YisiT2JzZXJ2YWJsZV8iO2FbY109YVtiXSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzW2RdO3JldHVybiBhJiZhLmRlbGl2ZXIoKSx0aGlzW2NdfSxzZXQ6ZnVuY3Rpb24oYSl7dmFyIGU9dGhpc1tkXTtpZihlKXJldHVybiB2b2lkIGUuc2V0VmFsdWUoYSk7dmFyIGY9dGhpc1tjXTtyZXR1cm4gdGhpc1tjXT1hLG5vdGlmeSh0aGlzLGIsYSxmKSxhfSxjb25maWd1cmFibGU6ITB9KX0sT2JzZXJ2ZXIuYmluZFRvSW5zdGFuY2U9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YisiXyIsZj1iKyJPYnNlcnZhYmxlXyI7YVtmXT1jO3ZhciBnPWFbZV0saD1jLm9wZW4oZnVuY3Rpb24oYyxkKXthW2VdPWMsbm90aWZ5KGEsYixjLGQpfSk7aWYoZCYmIWFyZVNhbWVWYWx1ZShnLGgpKXt2YXIgaT1kKGcsaCk7YXJlU2FtZVZhbHVlKGgsaSl8fChoPWksYy5zZXRWYWx1ZSYmYy5zZXRWYWx1ZShoKSl9cmV0dXJuIGFbZV09aCxub3RpZnkoYSxiLGgsZykse2Nsb3NlOmZ1bmN0aW9uKCl7Yy5jbG9zZSgpLGFbZl09dm9pZCAwfX19O3ZhciBFRElUX0xFQVZFPTAsRURJVF9VUERBVEU9MSxFRElUX0FERD0yLEVESVRfREVMRVRFPTM7QXJyYXlTcGxpY2UucHJvdG90eXBlPXtjYWxjRWRpdERpc3RhbmNlczpmdW5jdGlvbihhLGIsYyxkLGUsZil7Zm9yKHZhciBnPWYtZSsxLGg9Yy1iKzEsaT1uZXcgQXJyYXkoZyksaj0wO2c+ajtqKyspaVtqXT1uZXcgQXJyYXkoaCksaVtqXVswXT1qO2Zvcih2YXIgaz0wO2g+aztrKyspaVswXVtrXT1rO2Zvcih2YXIgaj0xO2c+ajtqKyspZm9yKHZhciBrPTE7aD5rO2srKylpZih0aGlzLmVxdWFscyhhW2Iray0xXSxkW2Urai0xXSkpaVtqXVtrXT1pW2otMV1bay0xXTtlbHNle3ZhciBsPWlbai0xXVtrXSsxLG09aVtqXVtrLTFdKzE7aVtqXVtrXT1tPmw/bDptfXJldHVybiBpfSxzcGxpY2VPcGVyYXRpb25zRnJvbUVkaXREaXN0YW5jZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEubGVuZ3RoLTEsYz1hWzBdLmxlbmd0aC0xLGQ9YVtiXVtjXSxlPVtdO2I+MHx8Yz4wOylpZigwIT1iKWlmKDAhPWMpe3ZhciBmLGc9YVtiLTFdW2MtMV0saD1hW2ItMV1bY10saT1hW2JdW2MtMV07Zj1pPmg/Zz5oP2g6ZzpnPmk/aTpnLGY9PWc/KGc9PWQ/ZS5wdXNoKEVESVRfTEVBVkUpOihlLnB1c2goRURJVF9VUERBVEUpLGQ9ZyksYi0tLGMtLSk6Zj09aD8oZS5wdXNoKEVESVRfREVMRVRFKSxiLS0sZD1oKTooZS5wdXNoKEVESVRfQUREKSxjLS0sZD1pKX1lbHNlIGUucHVzaChFRElUX0RFTEVURSksYi0tO2Vsc2UgZS5wdXNoKEVESVRfQUREKSxjLS07cmV0dXJuIGUucmV2ZXJzZSgpLGV9LGNhbGNTcGxpY2VzOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz0wLGg9MCxpPU1hdGgubWluKGMtYixmLWUpO2lmKDA9PWImJjA9PWUmJihnPXRoaXMuc2hhcmVkUHJlZml4KGEsZCxpKSksYz09YS5sZW5ndGgmJmY9PWQubGVuZ3RoJiYoaD10aGlzLnNoYXJlZFN1ZmZpeChhLGQsaS1nKSksYis9ZyxlKz1nLGMtPWgsZi09aCxjLWI9PTAmJmYtZT09MClyZXR1cm5bXTtpZihiPT1jKXtmb3IodmFyIGo9bmV3U3BsaWNlKGIsW10sMCk7Zj5lOylqLnJlbW92ZWQucHVzaChkW2UrK10pO3JldHVybltqXX1pZihlPT1mKXJldHVybltuZXdTcGxpY2UoYixbXSxjLWIpXTtmb3IodmFyIGs9dGhpcy5zcGxpY2VPcGVyYXRpb25zRnJvbUVkaXREaXN0YW5jZXModGhpcy5jYWxjRWRpdERpc3RhbmNlcyhhLGIsYyxkLGUsZikpLGo9dm9pZCAwLGw9W10sbT1iLG49ZSxvPTA7bzxrLmxlbmd0aDtvKyspc3dpdGNoKGtbb10pe2Nhc2UgRURJVF9MRUFWRTpqJiYobC5wdXNoKGopLGo9dm9pZCAwKSxtKyssbisrO2JyZWFrO2Nhc2UgRURJVF9VUERBVEU6anx8KGo9bmV3U3BsaWNlKG0sW10sMCkpLGouYWRkZWRDb3VudCsrLG0rKyxqLnJlbW92ZWQucHVzaChkW25dKSxuKys7YnJlYWs7Y2FzZSBFRElUX0FERDpqfHwoaj1uZXdTcGxpY2UobSxbXSwwKSksai5hZGRlZENvdW50KyssbSsrO2JyZWFrO2Nhc2UgRURJVF9ERUxFVEU6anx8KGo9bmV3U3BsaWNlKG0sW10sMCkpLGoucmVtb3ZlZC5wdXNoKGRbbl0pLG4rK31yZXR1cm4gaiYmbC5wdXNoKGopLGx9LHNoYXJlZFByZWZpeDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA7Yz5kO2QrKylpZighdGhpcy5lcXVhbHMoYVtkXSxiW2RdKSlyZXR1cm4gZDtyZXR1cm4gY30sc2hhcmVkU3VmZml4OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1iLmxlbmd0aCxmPTA7Yz5mJiZ0aGlzLmVxdWFscyhhWy0tZF0sYlstLWVdKTspZisrO3JldHVybiBmfSxjYWxjdWxhdGVTcGxpY2VzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuY2FsY1NwbGljZXMoYSwwLGEubGVuZ3RoLGIsMCxiLmxlbmd0aCl9LGVxdWFsczpmdW5jdGlvbihhLGIpe3JldHVybiBhPT09Yn19O3ZhciBhcnJheVNwbGljZT1uZXcgQXJyYXlTcGxpY2U7Z2xvYmFsLk9ic2VydmVyPU9ic2VydmVyLGdsb2JhbC5PYnNlcnZlci5ydW5FT01fPXJ1bkVPTSxnbG9iYWwuT2JzZXJ2ZXIub2JzZXJ2ZXJTZW50aW5lbF89b2JzZXJ2ZXJTZW50aW5lbCxnbG9iYWwuT2JzZXJ2ZXIuaGFzT2JqZWN0T2JzZXJ2ZT1oYXNPYnNlcnZlLGdsb2JhbC5BcnJheU9ic2VydmVyPUFycmF5T2JzZXJ2ZXIsZ2xvYmFsLkFycmF5T2JzZXJ2ZXIuY2FsY3VsYXRlU3BsaWNlcz1mdW5jdGlvbihhLGIpe3JldHVybiBhcnJheVNwbGljZS5jYWxjdWxhdGVTcGxpY2VzKGEsYil9LGdsb2JhbC5BcnJheVNwbGljZT1BcnJheVNwbGljZSxnbG9iYWwuT2JqZWN0T2JzZXJ2ZXI9T2JqZWN0T2JzZXJ2ZXIsZ2xvYmFsLlBhdGhPYnNlcnZlcj1QYXRoT2JzZXJ2ZXIsZ2xvYmFsLkNvbXBvdW5kT2JzZXJ2ZXI9Q29tcG91bmRPYnNlcnZlcixnbG9iYWwuUGF0aD1QYXRoLGdsb2JhbC5PYnNlcnZlclRyYW5zZm9ybT1PYnNlcnZlclRyYW5zZm9ybX0oInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWwmJmdsb2JhbCYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZT9nbG9iYWw6dGhpc3x8d2luZG93KSxQbGF0Zm9ybS5mbGFncy5zaGFkb3c/KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD17fSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYigpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgY2hyb21lJiZjaHJvbWUuYXBwJiZjaHJvbWUuYXBwLnJ1bnRpbWUpcmV0dXJuITE7dHJ5e3ZhciBhPW5ldyBGdW5jdGlvbigicmV0dXJuIHRydWU7Iik7cmV0dXJuIGEoKX1jYXRjaChiKXtyZXR1cm4hMX19ZnVuY3Rpb24gYyhhKXtpZighYSl0aHJvdyBuZXcgRXJyb3IoIkFzc2VydGlvbiBmYWlsZWQiKX1mdW5jdGlvbiBkKGEsYil7Zm9yKHZhciBjPUwoYiksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO0soYSxlLE0oYixlKSl9cmV0dXJuIGF9ZnVuY3Rpb24gZShhLGIpe2Zvcih2YXIgYz1MKGIpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXTtzd2l0Y2goZSl7Y2FzZSJhcmd1bWVudHMiOmNhc2UiY2FsbGVyIjpjYXNlImxlbmd0aCI6Y2FzZSJuYW1lIjpjYXNlInByb3RvdHlwZSI6Y2FzZSJ0b1N0cmluZyI6Y29udGludWV9SyhhLGUsTShiLGUpKX1yZXR1cm4gYX1mdW5jdGlvbiBmKGEsYil7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspaWYoYltjXWluIGEpcmV0dXJuIGJbY119ZnVuY3Rpb24gZyhhLGIsYyl7Ti52YWx1ZT1jLEsoYSxiLE4pfWZ1bmN0aW9uIGgoYSl7dmFyIGI9YS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihhKSxjPUcuZ2V0KGIpO2lmKGMpcmV0dXJuIGM7dmFyIGQ9aChiKSxlPXYoZCk7cmV0dXJuIHMoYixlLGEpLGV9ZnVuY3Rpb24gaShhLGIpe3EoYSxiLCEwKX1mdW5jdGlvbiBqKGEsYil7cShiLGEsITEpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuL15vblthLXpdKyQvLnRlc3QoYSl9ZnVuY3Rpb24gbChhKXtyZXR1cm4vXlx3W2EtekEtWl8wLTldKiQvLnRlc3QoYSl9ZnVuY3Rpb24gbShhKXtyZXR1cm4gSiYmbChhKT9uZXcgRnVuY3Rpb24oInJldHVybiB0aGlzLmltcGwuIithKTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmltcGxbYV19fWZ1bmN0aW9uIG4oYSl7cmV0dXJuIEomJmwoYSk/bmV3IEZ1bmN0aW9uKCJ2IiwidGhpcy5pbXBsLiIrYSsiID0gdiIpOmZ1bmN0aW9uKGIpe3RoaXMuaW1wbFthXT1ifX1mdW5jdGlvbiBvKGEpe3JldHVybiBKJiZsKGEpP25ldyBGdW5jdGlvbigicmV0dXJuIHRoaXMuaW1wbC4iK2ErIi5hcHBseSh0aGlzLmltcGwsIGFyZ3VtZW50cykiKTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmltcGxbYV0uYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIHAoYSxiKXt0cnl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYSxiKX1jYXRjaChjKXtyZXR1cm4gUH19ZnVuY3Rpb24gcShiLGMsZCl7Zm9yKHZhciBlPUwoYiksZj0wO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgZz1lW2ZdO2lmKCJwb2x5bWVyQmxhY2tMaXN0XyIhPT1nJiYhKGcgaW4gY3x8Yi5wb2x5bWVyQmxhY2tMaXN0XyYmYi5wb2x5bWVyQmxhY2tMaXN0X1tnXSkpe08mJmIuX19sb29rdXBHZXR0ZXJfXyhnKTt2YXIgaCxpLGo9cChiLGcpO2lmKGQmJiJmdW5jdGlvbiI9PXR5cGVvZiBqLnZhbHVlKWNbZ109byhnKTtlbHNle3ZhciBsPWsoZyk7aD1sP2EuZ2V0RXZlbnRIYW5kbGVyR2V0dGVyKGcpOm0oZyksKGoud3JpdGFibGV8fGouc2V0KSYmKGk9bD9hLmdldEV2ZW50SGFuZGxlclNldHRlcihnKTpuKGcpKSxLKGMsZyx7Z2V0Omgsc2V0OmksY29uZmlndXJhYmxlOmouY29uZmlndXJhYmxlLGVudW1lcmFibGU6ai5lbnVtZXJhYmxlfSl9fX19ZnVuY3Rpb24gcihhLGIsYyl7dmFyIGQ9YS5wcm90b3R5cGU7cyhkLGIsYyksZShiLGEpfWZ1bmN0aW9uIHMoYSxiLGQpe3ZhciBlPWIucHJvdG90eXBlO2Modm9pZCAwPT09Ry5nZXQoYSkpLEcuc2V0KGEsYiksSC5zZXQoZSxhKSxpKGEsZSksZCYmaihlLGQpLGcoZSwiY29uc3RydWN0b3IiLGIpLGIucHJvdG90eXBlPWV9ZnVuY3Rpb24gdChhLGIpe3JldHVybiBHLmdldChiLnByb3RvdHlwZSk9PT1hfWZ1bmN0aW9uIHUoYSl7dmFyIGI9T2JqZWN0LmdldFByb3RvdHlwZU9mKGEpLGM9aChiKSxkPXYoYyk7cmV0dXJuIHMoYixkLGEpLGR9ZnVuY3Rpb24gdihhKXtmdW5jdGlvbiBiKGIpe2EuY2FsbCh0aGlzLGIpfXZhciBjPU9iamVjdC5jcmVhdGUoYS5wcm90b3R5cGUpO3JldHVybiBjLmNvbnN0cnVjdG9yPWIsYi5wcm90b3R5cGU9YyxifWZ1bmN0aW9uIHcoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBJLkV2ZW50VGFyZ2V0fHxhIGluc3RhbmNlb2YgSS5FdmVudHx8YSBpbnN0YW5jZW9mIEkuUmFuZ2V8fGEgaW5zdGFuY2VvZiBJLkRPTUltcGxlbWVudGF0aW9ufHxhIGluc3RhbmNlb2YgSS5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkR8fEkuV2ViR0xSZW5kZXJpbmdDb250ZXh0JiZhIGluc3RhbmNlb2YgSS5XZWJHTFJlbmRlcmluZ0NvbnRleHR9ZnVuY3Rpb24geChhKXtyZXR1cm4gUiYmYSBpbnN0YW5jZW9mIFJ8fGEgaW5zdGFuY2VvZiBUfHxhIGluc3RhbmNlb2YgU3x8YSBpbnN0YW5jZW9mIFV8fGEgaW5zdGFuY2VvZiBWfHxhIGluc3RhbmNlb2YgUXx8YSBpbnN0YW5jZW9mIFd8fFgmJmEgaW5zdGFuY2VvZiBYfHxZJiZhIGluc3RhbmNlb2YgWX1mdW5jdGlvbiB5KGEpe3JldHVybiBudWxsPT09YT9udWxsOihjKHgoYSkpLGEucG9seW1lcldyYXBwZXJffHwoYS5wb2x5bWVyV3JhcHBlcl89bmV3KGgoYSkpKGEpKSl9ZnVuY3Rpb24geihhKXtyZXR1cm4gbnVsbD09PWE/bnVsbDooYyh3KGEpKSxhLmltcGwpfWZ1bmN0aW9uIEEoYSl7cmV0dXJuIGEmJncoYSk/eihhKTphfWZ1bmN0aW9uIEIoYSl7cmV0dXJuIGEmJiF3KGEpP3koYSk6YX1mdW5jdGlvbiBDKGEsYil7bnVsbCE9PWImJihjKHgoYSkpLGModm9pZCAwPT09Ynx8dyhiKSksYS5wb2x5bWVyV3JhcHBlcl89Yil9ZnVuY3Rpb24gRChhLGIsYyl7Wi5nZXQ9YyxLKGEucHJvdG90eXBlLGIsWil9ZnVuY3Rpb24gRShhLGIpe0QoYSxiLGZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcy5pbXBsW2JdKX0pfWZ1bmN0aW9uIEYoYSxiKXthLmZvckVhY2goZnVuY3Rpb24oYSl7Yi5mb3JFYWNoKGZ1bmN0aW9uKGIpe2EucHJvdG90eXBlW2JdPWZ1bmN0aW9uKCl7dmFyIGE9Qih0aGlzKTtyZXR1cm4gYVtiXS5hcHBseShhLGFyZ3VtZW50cyl9fSl9KX12YXIgRz1uZXcgV2Vha01hcCxIPW5ldyBXZWFrTWFwLEk9T2JqZWN0LmNyZWF0ZShudWxsKSxKPWIoKSxLPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxMPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLE09T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixOPXt2YWx1ZTp2b2lkIDAsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITB9O0wod2luZG93KTt2YXIgTz0vRmlyZWZveC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxQPXtnZXQ6ZnVuY3Rpb24oKXt9LHNldDpmdW5jdGlvbigpe30sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9LFE9d2luZG93LkRPTUltcGxlbWVudGF0aW9uLFI9d2luZG93LkV2ZW50VGFyZ2V0LFM9d2luZG93LkV2ZW50LFQ9d2luZG93Lk5vZGUsVT13aW5kb3cuV2luZG93LFY9d2luZG93LlJhbmdlLFc9d2luZG93LkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxYPXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQsWT13aW5kb3cuU1ZHRWxlbWVudEluc3RhbmNlLFo9e2dldDp2b2lkIDAsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9O2EuYXNzZXJ0PWMsYS5jb25zdHJ1Y3RvclRhYmxlPUcsYS5kZWZpbmVHZXR0ZXI9RCxhLmRlZmluZVdyYXBHZXR0ZXI9RSxhLmZvcndhcmRNZXRob2RzVG9XcmFwcGVyPUYsYS5pc1dyYXBwZXI9dyxhLmlzV3JhcHBlckZvcj10LGEubWl4aW49ZCxhLm5hdGl2ZVByb3RvdHlwZVRhYmxlPUgsYS5vbmVPZj1mLGEucmVnaXN0ZXJPYmplY3Q9dSxhLnJlZ2lzdGVyV3JhcHBlcj1yLGEucmV3cmFwPUMsYS51bndyYXA9eixhLnVud3JhcElmTmVlZGVkPUEsYS53cmFwPXksYS53cmFwSWZOZWVkZWQ9QixhLndyYXBwZXJzPUl9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoKXtnPSExO3ZhciBhPWYuc2xpY2UoMCk7Zj1bXTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdKCl9ZnVuY3Rpb24gYyhhKXtmLnB1c2goYSksZ3x8KGc9ITAsZChiLDApKX12YXIgZCxlPXdpbmRvdy5NdXRhdGlvbk9ic2VydmVyLGY9W10sZz0hMTtpZihlKXt2YXIgaD0xLGk9bmV3IGUoYiksaj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShoKTtpLm9ic2VydmUoaix7Y2hhcmFjdGVyRGF0YTohMH0pLGQ9ZnVuY3Rpb24oKXtoPShoKzEpJTIsai5kYXRhPWh9fWVsc2UgZD13aW5kb3cuc2V0SW1tZWRpYXRlfHx3aW5kb3cuc2V0VGltZW91dDthLnNldEVuZE9mTWljcm90YXNrPWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoKXtwfHwoayhjKSxwPSEwKX1mdW5jdGlvbiBjKCl7cD0hMTtkbyBmb3IodmFyIGE9by5zbGljZSgpLGI9ITEsYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1hW2NdLGU9ZC50YWtlUmVjb3JkcygpO2YoZCksZS5sZW5ndGgmJihkLmNhbGxiYWNrXyhlLGQpLGI9ITApfXdoaWxlKGIpfWZ1bmN0aW9uIGQoYSxiKXt0aGlzLnR5cGU9YSx0aGlzLnRhcmdldD1iLHRoaXMuYWRkZWROb2Rlcz1uZXcgbS5Ob2RlTGlzdCx0aGlzLnJlbW92ZWROb2Rlcz1uZXcgbS5Ob2RlTGlzdCx0aGlzLnByZXZpb3VzU2libGluZz1udWxsLHRoaXMubmV4dFNpYmxpbmc9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWU9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWVzcGFjZT1udWxsLHRoaXMub2xkVmFsdWU9bnVsbH1mdW5jdGlvbiBlKGEsYil7Zm9yKDthO2E9YS5wYXJlbnROb2RlKXt2YXIgYz1uLmdldChhKTtpZihjKWZvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO2Uub3B0aW9ucy5zdWJ0cmVlJiZlLmFkZFRyYW5zaWVudE9ic2VydmVyKGIpfX19ZnVuY3Rpb24gZihhKXtmb3IodmFyIGI9MDtiPGEubm9kZXNfLmxlbmd0aDtiKyspe3ZhciBjPWEubm9kZXNfW2JdLGQ9bi5nZXQoYyk7aWYoIWQpcmV0dXJuO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdO2Yub2JzZXJ2ZXI9PT1hJiZmLnJlbW92ZVRyYW5zaWVudE9ic2VydmVycygpfX19ZnVuY3Rpb24gZyhhLGMsZSl7Zm9yKHZhciBmPU9iamVjdC5jcmVhdGUobnVsbCksZz1PYmplY3QuY3JlYXRlKG51bGwpLGg9YTtoO2g9aC5wYXJlbnROb2RlKXt2YXIgaT1uLmdldChoKTtpZihpKWZvcih2YXIgaj0wO2o8aS5sZW5ndGg7aisrKXt2YXIgaz1pW2pdLGw9ay5vcHRpb25zO2lmKChoPT09YXx8bC5zdWJ0cmVlKSYmISgiYXR0cmlidXRlcyI9PT1jJiYhbC5hdHRyaWJ1dGVzfHwiYXR0cmlidXRlcyI9PT1jJiZsLmF0dHJpYnV0ZUZpbHRlciYmKG51bGwhPT1lLm5hbWVzcGFjZXx8LTE9PT1sLmF0dHJpYnV0ZUZpbHRlci5pbmRleE9mKGUubmFtZSkpfHwiY2hhcmFjdGVyRGF0YSI9PT1jJiYhbC5jaGFyYWN0ZXJEYXRhfHwiY2hpbGRMaXN0Ij09PWMmJiFsLmNoaWxkTGlzdCkpe3ZhciBtPWsub2JzZXJ2ZXI7ZlttLnVpZF9dPW0sKCJhdHRyaWJ1dGVzIj09PWMmJmwuYXR0cmlidXRlT2xkVmFsdWV8fCJjaGFyYWN0ZXJEYXRhIj09PWMmJmwuY2hhcmFjdGVyRGF0YU9sZFZhbHVlKSYmKGdbbS51aWRfXT1lLm9sZFZhbHVlKX19fXZhciBvPSExO2Zvcih2YXIgcCBpbiBmKXt2YXIgbT1mW3BdLHE9bmV3IGQoYyxhKTsibmFtZSJpbiBlJiYibmFtZXNwYWNlImluIGUmJihxLmF0dHJpYnV0ZU5hbWU9ZS5uYW1lLHEuYXR0cmlidXRlTmFtZXNwYWNlPWUubmFtZXNwYWNlKSxlLmFkZGVkTm9kZXMmJihxLmFkZGVkTm9kZXM9ZS5hZGRlZE5vZGVzKSxlLnJlbW92ZWROb2RlcyYmKHEucmVtb3ZlZE5vZGVzPWUucmVtb3ZlZE5vZGVzKSxlLnByZXZpb3VzU2libGluZyYmKHEucHJldmlvdXNTaWJsaW5nPWUucHJldmlvdXNTaWJsaW5nKSxlLm5leHRTaWJsaW5nJiYocS5uZXh0U2libGluZz1lLm5leHRTaWJsaW5nKSx2b2lkIDAhPT1nW3BdJiYocS5vbGRWYWx1ZT1nW3BdKSxtLnJlY29yZHNfLnB1c2gocSksbz0hMH1vJiZiKCl9ZnVuY3Rpb24gaChhKXtpZih0aGlzLmNoaWxkTGlzdD0hIWEuY2hpbGRMaXN0LHRoaXMuc3VidHJlZT0hIWEuc3VidHJlZSx0aGlzLmF0dHJpYnV0ZXM9ImF0dHJpYnV0ZXMiaW4gYXx8ISgiYXR0cmlidXRlT2xkVmFsdWUiaW4gYXx8ImF0dHJpYnV0ZUZpbHRlciJpbiBhKT8hIWEuYXR0cmlidXRlczohMCx0aGlzLmNoYXJhY3RlckRhdGE9ImNoYXJhY3RlckRhdGFPbGRWYWx1ZSJpbiBhJiYhKCJjaGFyYWN0ZXJEYXRhImluIGEpPyEwOiEhYS5jaGFyYWN0ZXJEYXRhLCF0aGlzLmF0dHJpYnV0ZXMmJihhLmF0dHJpYnV0ZU9sZFZhbHVlfHwiYXR0cmlidXRlRmlsdGVyImluIGEpfHwhdGhpcy5jaGFyYWN0ZXJEYXRhJiZhLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSl0aHJvdyBuZXcgVHlwZUVycm9yO2lmKHRoaXMuY2hhcmFjdGVyRGF0YT0hIWEuY2hhcmFjdGVyRGF0YSx0aGlzLmF0dHJpYnV0ZU9sZFZhbHVlPSEhYS5hdHRyaWJ1dGVPbGRWYWx1ZSx0aGlzLmNoYXJhY3RlckRhdGFPbGRWYWx1ZT0hIWEuY2hhcmFjdGVyRGF0YU9sZFZhbHVlLCJhdHRyaWJ1dGVGaWx0ZXIiaW4gYSl7aWYobnVsbD09YS5hdHRyaWJ1dGVGaWx0ZXJ8fCJvYmplY3QiIT10eXBlb2YgYS5hdHRyaWJ1dGVGaWx0ZXIpdGhyb3cgbmV3IFR5cGVFcnJvcjt0aGlzLmF0dHJpYnV0ZUZpbHRlcj1xLmNhbGwoYS5hdHRyaWJ1dGVGaWx0ZXIpfWVsc2UgdGhpcy5hdHRyaWJ1dGVGaWx0ZXI9bnVsbH1mdW5jdGlvbiBpKGEpe3RoaXMuY2FsbGJhY2tfPWEsdGhpcy5ub2Rlc189W10sdGhpcy5yZWNvcmRzXz1bXSx0aGlzLnVpZF89KytyLG8ucHVzaCh0aGlzKX1mdW5jdGlvbiBqKGEsYixjKXt0aGlzLm9ic2VydmVyPWEsdGhpcy50YXJnZXQ9Yix0aGlzLm9wdGlvbnM9Yyx0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W119dmFyIGs9YS5zZXRFbmRPZk1pY3JvdGFzayxsPWEud3JhcElmTmVlZGVkLG09YS53cmFwcGVycyxuPW5ldyBXZWFrTWFwLG89W10scD0hMSxxPUFycmF5LnByb3RvdHlwZS5zbGljZSxyPTA7aS5wcm90b3R5cGU9e29ic2VydmU6ZnVuY3Rpb24oYSxiKXthPWwoYSk7dmFyIGMsZD1uZXcgaChiKSxlPW4uZ2V0KGEpO2V8fG4uc2V0KGEsZT1bXSk7Zm9yKHZhciBmPTA7ZjxlLmxlbmd0aDtmKyspZVtmXS5vYnNlcnZlcj09PXRoaXMmJihjPWVbZl0sYy5yZW1vdmVUcmFuc2llbnRPYnNlcnZlcnMoKSxjLm9wdGlvbnM9ZCk7Y3x8KGM9bmV3IGoodGhpcyxhLGQpLGUucHVzaChjKSx0aGlzLm5vZGVzXy5wdXNoKGEpKX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe3RoaXMubm9kZXNfLmZvckVhY2goZnVuY3Rpb24oYSl7Zm9yKHZhciBiPW4uZ2V0KGEpLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTtpZihkLm9ic2VydmVyPT09dGhpcyl7Yi5zcGxpY2UoYywxKTticmVha319fSx0aGlzKSx0aGlzLnJlY29yZHNfPVtdfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe3ZhciBhPXRoaXMucmVjb3Jkc187cmV0dXJuIHRoaXMucmVjb3Jkc189W10sYX19LGoucHJvdG90eXBlPXthZGRUcmFuc2llbnRPYnNlcnZlcjpmdW5jdGlvbihhKXtpZihhIT09dGhpcy50YXJnZXQpe3RoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcy5wdXNoKGEpO3ZhciBiPW4uZ2V0KGEpO2J8fG4uc2V0KGEsYj1bXSksYi5wdXNoKHRoaXMpfX0scmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzO3RoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylmb3IodmFyIGM9YVtiXSxkPW4uZ2V0KGMpLGU9MDtlPGQubGVuZ3RoO2UrKylpZihkW2VdPT09dGhpcyl7ZC5zcGxpY2UoZSwxKTticmVha319fSxhLmVucXVldWVNdXRhdGlvbj1nLGEucmVnaXN0ZXJUcmFuc2llbnRPYnNlcnZlcnM9ZSxhLndyYXBwZXJzLk11dGF0aW9uT2JzZXJ2ZXI9aSxhLndyYXBwZXJzLk11dGF0aW9uUmVjb3JkPWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiKXt0aGlzLnJvb3Q9YSx0aGlzLnBhcmVudD1ifWZ1bmN0aW9uIGMoYSxiKXtpZihhLnRyZWVTY29wZV8hPT1iKXthLnRyZWVTY29wZV89Yjtmb3IodmFyIGQ9YS5zaGFkb3dSb290O2Q7ZD1kLm9sZGVyU2hhZG93Um9vdClkLnRyZWVTY29wZV8ucGFyZW50PWI7Zm9yKHZhciBlPWEuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyljKGUsYil9fWZ1bmN0aW9uIGQoYyl7aWYoYyBpbnN0YW5jZW9mIGEud3JhcHBlcnMuV2luZG93LGMudHJlZVNjb3BlXylyZXR1cm4gYy50cmVlU2NvcGVfO3ZhciBlLGY9Yy5wYXJlbnROb2RlO3JldHVybiBlPWY/ZChmKTpuZXcgYihjLG51bGwpLGMudHJlZVNjb3BlXz1lfWIucHJvdG90eXBlPXtnZXQgcmVuZGVyZXIoKXtyZXR1cm4gdGhpcy5yb290IGluc3RhbmNlb2YgYS53cmFwcGVycy5TaGFkb3dSb290P2EuZ2V0UmVuZGVyZXJGb3JIb3N0KHRoaXMucm9vdC5ob3N0KTpudWxsfSxjb250YWluczpmdW5jdGlvbihhKXtmb3IoO2E7YT1hLnBhcmVudClpZihhPT09dGhpcylyZXR1cm4hMDtyZXR1cm4hMX19LGEuVHJlZVNjb3BlPWIsYS5nZXRUcmVlU2NvcGU9ZCxhLnNldFRyZWVTY29wZT1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3JldHVybiBhIGluc3RhbmNlb2YgUS5TaGFkb3dSb290fWZ1bmN0aW9uIGMoYSl7cmV0dXJuIEwoYSkucm9vdH1mdW5jdGlvbiBkKGEsZCl7dmFyIGg9W10saT1hO2ZvcihoLnB1c2goaSk7aTspe3ZhciBqPWcoaSk7aWYoaiYmai5sZW5ndGg+MCl7Zm9yKHZhciBrPTA7azxqLmxlbmd0aDtrKyspe3ZhciBtPWpba107aWYoZihtKSl7dmFyIG49YyhtKSxvPW4ub2xkZXJTaGFkb3dSb290O28mJmgucHVzaChvKX1oLnB1c2gobSl9aT1qW2oubGVuZ3RoLTFdfWVsc2UgaWYoYihpKSl7aWYobChhLGkpJiZlKGQpKWJyZWFrO2k9aS5ob3N0LGgucHVzaChpKX1lbHNlIGk9aS5wYXJlbnROb2RlLGkmJmgucHVzaChpKX1yZXR1cm4gaH1mdW5jdGlvbiBlKGEpe2lmKCFhKXJldHVybiExO3N3aXRjaChhLnR5cGUpe2Nhc2UiYWJvcnQiOmNhc2UiZXJyb3IiOmNhc2Uic2VsZWN0IjpjYXNlImNoYW5nZSI6Y2FzZSJsb2FkIjpjYXNlInJlc2V0IjpjYXNlInJlc2l6ZSI6Y2FzZSJzY3JvbGwiOmNhc2Uic2VsZWN0c3RhcnQiOnJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIGYoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBIVE1MU2hhZG93RWxlbWVudH1mdW5jdGlvbiBnKGIpe3JldHVybiBhLmdldERlc3RpbmF0aW9uSW5zZXJ0aW9uUG9pbnRzKGIpfWZ1bmN0aW9uIGgoYSxiKXtpZigwPT09YS5sZW5ndGgpcmV0dXJuIGI7YiBpbnN0YW5jZW9mIFEuV2luZG93JiYoYj1iLmRvY3VtZW50KTtmb3IodmFyIGM9TChiKSxkPWFbMF0sZT1MKGQpLGY9aihjLGUpLGc9MDtnPGEubGVuZ3RoO2crKyl7dmFyIGg9YVtnXTtpZihMKGgpPT09ZilyZXR1cm4gaH1yZXR1cm4gYVthLmxlbmd0aC0xXX1mdW5jdGlvbiBpKGEpe2Zvcih2YXIgYj1bXTthO2E9YS5wYXJlbnQpYi5wdXNoKGEpO3JldHVybiBifWZ1bmN0aW9uIGooYSxiKXtmb3IodmFyIGM9aShhKSxkPWkoYiksZT1udWxsO2MubGVuZ3RoPjAmJmQubGVuZ3RoPjA7KXt2YXIgZj1jLnBvcCgpLGc9ZC5wb3AoKTtpZihmIT09ZylicmVhaztlPWZ9cmV0dXJuIGV9ZnVuY3Rpb24gayhhLGIsYyl7YiBpbnN0YW5jZW9mIFEuV2luZG93JiYoYj1iLmRvY3VtZW50KTt2YXIgZSxmPUwoYiksZz1MKGMpLGg9ZChjLGEpLGU9aihmLGcpO2V8fChlPWcucm9vdCk7Zm9yKHZhciBpPWU7aTtpPWkucGFyZW50KWZvcih2YXIgaz0wO2s8aC5sZW5ndGg7aysrKXt2YXIgbD1oW2tdO2lmKEwobCk9PT1pKXJldHVybiBsfXJldHVybiBudWxsfWZ1bmN0aW9uIGwoYSxiKXtyZXR1cm4gTChhKT09PUwoYil9ZnVuY3Rpb24gbShhKXtpZighUy5nZXQoYSkmJihTLnNldChhLCEwKSxuKFAoYSksUChhLnRhcmdldCkpLEopKXt2YXIgYj1KO3Rocm93IEo9bnVsbCxifX1mdW5jdGlvbiBuKGIsYyl7aWYoVC5nZXQoYikpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkU3RhdGVFcnJvciIpO1Quc2V0KGIsITApLGEucmVuZGVyQWxsUGVuZGluZygpO3ZhciBlLGYsZyxoPWIudHlwZTtpZigibG9hZCI9PT1oJiYhYi5idWJibGVzKXt2YXIgaT1jO2kgaW5zdGFuY2VvZiBRLkRvY3VtZW50JiYoZz1pLmRlZmF1bHRWaWV3KSYmKGY9aSxlPVtdKX1pZighZSlpZihjIGluc3RhbmNlb2YgUS5XaW5kb3cpZz1jLGU9W107ZWxzZSBpZihlPWQoYyxiKSwibG9hZCIhPT1iLnR5cGUpe3ZhciBpPWVbZS5sZW5ndGgtMV07aSBpbnN0YW5jZW9mIFEuRG9jdW1lbnQmJihnPWkuZGVmYXVsdFZpZXcpfXJldHVybiBfLnNldChiLGUpLG8oYixlLGcsZikmJnAoYixlLGcsZikmJnEoYixlLGcsZiksWC5zZXQoYixhYiksVi5kZWxldGUoYixudWxsKSxULmRlbGV0ZShiKSxiLmRlZmF1bHRQcmV2ZW50ZWR9ZnVuY3Rpb24gbyhhLGIsYyxkKXt2YXIgZT1iYjtpZihjJiYhcihjLGEsZSxiLGQpKXJldHVybiExO2Zvcih2YXIgZj1iLmxlbmd0aC0xO2Y+MDtmLS0paWYoIXIoYltmXSxhLGUsYixkKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBwKGEsYixjLGQpe3ZhciBlPWNiLGY9YlswXXx8YztyZXR1cm4gcihmLGEsZSxiLGQpfWZ1bmN0aW9uIHEoYSxiLGMsZCl7Zm9yKHZhciBlPWRiLGY9MTtmPGIubGVuZ3RoO2YrKylpZighcihiW2ZdLGEsZSxiLGQpKXJldHVybjtjJiZiLmxlbmd0aD4wJiZyKGMsYSxlLGIsZCl9ZnVuY3Rpb24gcihhLGIsYyxkLGUpe3ZhciBmPVIuZ2V0KGEpO2lmKCFmKXJldHVybiEwO3ZhciBnPWV8fGgoZCxhKTtpZihnPT09YSl7aWYoYz09PWJiKXJldHVybiEwO2M9PT1kYiYmKGM9Y2IpfWVsc2UgaWYoYz09PWRiJiYhYi5idWJibGVzKXJldHVybiEwO2lmKCJyZWxhdGVkVGFyZ2V0ImluIGIpe3ZhciBpPU8oYiksaj1pLnJlbGF0ZWRUYXJnZXQ7aWYoail7aWYoaiBpbnN0YW5jZW9mIE9iamVjdCYmai5hZGRFdmVudExpc3RlbmVyKXt2YXIgbD1QKGopLG09ayhiLGEsbCk7aWYobT09PWcpcmV0dXJuITB9ZWxzZSBtPW51bGw7Vy5zZXQoYixtKX19WC5zZXQoYixjKTt2YXIgbj1iLnR5cGUsbz0hMTtVLnNldChiLGcpLFYuc2V0KGIsYSk7Zm9yKHZhciBwPTA7cDxmLmxlbmd0aDtwKyspe3ZhciBxPWZbcF07aWYocS5yZW1vdmVkKW89ITA7ZWxzZSBpZighKHEudHlwZSE9PW58fCFxLmNhcHR1cmUmJmM9PT1iYnx8cS5jYXB0dXJlJiZjPT09ZGIpKXRyeXtpZigiZnVuY3Rpb24iPT10eXBlb2YgcS5oYW5kbGVyP3EuaGFuZGxlci5jYWxsKGEsYik6cS5oYW5kbGVyLmhhbmRsZUV2ZW50KGIpLFouZ2V0KGIpKXJldHVybiExCn1jYXRjaChyKXtKfHwoSj1yKX19aWYobyl7dmFyIHM9Zi5zbGljZSgpO2YubGVuZ3RoPTA7Zm9yKHZhciBwPTA7cDxzLmxlbmd0aDtwKyspc1twXS5yZW1vdmVkfHxmLnB1c2goc1twXSl9cmV0dXJuIVkuZ2V0KGIpfWZ1bmN0aW9uIHMoYSxiLGMpe3RoaXMudHlwZT1hLHRoaXMuaGFuZGxlcj1iLHRoaXMuY2FwdHVyZT1Cb29sZWFuKGMpfWZ1bmN0aW9uIHQoYSxiKXtpZighKGEgaW5zdGFuY2VvZiBlYikpcmV0dXJuIFAoeChlYiwiRXZlbnQiLGEsYikpO3ZhciBjPWE7cmV0dXJuIHBifHwiYmVmb3JldW5sb2FkIiE9PWMudHlwZT92b2lkKHRoaXMuaW1wbD1jKTpuZXcgeShjKX1mdW5jdGlvbiB1KGEpe3JldHVybiBhJiZhLnJlbGF0ZWRUYXJnZXQ/T2JqZWN0LmNyZWF0ZShhLHtyZWxhdGVkVGFyZ2V0Ont2YWx1ZTpPKGEucmVsYXRlZFRhcmdldCl9fSk6YX1mdW5jdGlvbiB2KGEsYixjKXt2YXIgZD13aW5kb3dbYV0sZT1mdW5jdGlvbihiLGMpe3JldHVybiBiIGluc3RhbmNlb2YgZD92b2lkKHRoaXMuaW1wbD1iKTpQKHgoZCxhLGIsYykpfTtpZihlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxjJiZNKGUucHJvdG90eXBlLGMpLGQpdHJ5e04oZCxlLG5ldyBkKCJ0ZW1wIikpfWNhdGNoKGYpe04oZCxlLGRvY3VtZW50LmNyZWF0ZUV2ZW50KGEpKX1yZXR1cm4gZX1mdW5jdGlvbiB3KGEsYil7cmV0dXJuIGZ1bmN0aW9uKCl7YXJndW1lbnRzW2JdPU8oYXJndW1lbnRzW2JdKTt2YXIgYz1PKHRoaXMpO2NbYV0uYXBwbHkoYyxhcmd1bWVudHMpfX1mdW5jdGlvbiB4KGEsYixjLGQpe2lmKG5iKXJldHVybiBuZXcgYShjLHUoZCkpO3ZhciBlPU8oZG9jdW1lbnQuY3JlYXRlRXZlbnQoYikpLGY9bWJbYl0sZz1bY107cmV0dXJuIE9iamVjdC5rZXlzKGYpLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9bnVsbCE9ZCYmYSBpbiBkP2RbYV06ZlthXTsicmVsYXRlZFRhcmdldCI9PT1hJiYoYj1PKGIpKSxnLnB1c2goYil9KSxlWyJpbml0IitiXS5hcHBseShlLGcpLGV9ZnVuY3Rpb24geShhKXt0LmNhbGwodGhpcyxhKX1mdW5jdGlvbiB6KGEpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBhPyEwOmEmJmEuaGFuZGxlRXZlbnR9ZnVuY3Rpb24gQShhKXtzd2l0Y2goYSl7Y2FzZSJET01BdHRyTW9kaWZpZWQiOmNhc2UiRE9NQXR0cmlidXRlTmFtZUNoYW5nZWQiOmNhc2UiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIjpjYXNlIkRPTUVsZW1lbnROYW1lQ2hhbmdlZCI6Y2FzZSJET01Ob2RlSW5zZXJ0ZWQiOmNhc2UiRE9NTm9kZUluc2VydGVkSW50b0RvY3VtZW50IjpjYXNlIkRPTU5vZGVSZW1vdmVkIjpjYXNlIkRPTU5vZGVSZW1vdmVkRnJvbURvY3VtZW50IjpjYXNlIkRPTVN1YnRyZWVNb2RpZmllZCI6cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gQihhKXt0aGlzLmltcGw9YX1mdW5jdGlvbiBDKGEpe3JldHVybiBhIGluc3RhbmNlb2YgUS5TaGFkb3dSb290JiYoYT1hLmhvc3QpLE8oYSl9ZnVuY3Rpb24gRChhLGIpe3ZhciBjPVIuZ2V0KGEpO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspaWYoIWNbZF0ucmVtb3ZlZCYmY1tkXS50eXBlPT09YilyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBFKGEsYil7Zm9yKHZhciBjPU8oYSk7YztjPWMucGFyZW50Tm9kZSlpZihEKFAoYyksYikpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gRihhKXtLKGEscmIpfWZ1bmN0aW9uIEcoYixjLGUsZil7YS5yZW5kZXJBbGxQZW5kaW5nKCk7dmFyIGc9UChzYi5jYWxsKGMuaW1wbCxlLGYpKSxpPWQoZyxudWxsKTtyZXR1cm4gaChpLGIpfWZ1bmN0aW9uIEgoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9JC5nZXQodGhpcyk7cmV0dXJuIGImJmJbYV0mJmJbYV0udmFsdWV8fG51bGx9fWZ1bmN0aW9uIEkoYSl7dmFyIGI9YS5zbGljZSgyKTtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGQ9JC5nZXQodGhpcyk7ZHx8KGQ9T2JqZWN0LmNyZWF0ZShudWxsKSwkLnNldCh0aGlzLGQpKTt2YXIgZT1kW2FdO2lmKGUmJnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGUud3JhcHBlZCwhMSksImZ1bmN0aW9uIj09dHlwZW9mIGMpe3ZhciBmPWZ1bmN0aW9uKGIpe3ZhciBkPWMuY2FsbCh0aGlzLGIpO2Q9PT0hMT9iLnByZXZlbnREZWZhdWx0KCk6Im9uYmVmb3JldW5sb2FkIj09PWEmJiJzdHJpbmciPT10eXBlb2YgZCYmKGIucmV0dXJuVmFsdWU9ZCl9O3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihiLGYsITEpLGRbYV09e3ZhbHVlOmMsd3JhcHBlZDpmfX19fXZhciBKLEs9YS5mb3J3YXJkTWV0aG9kc1RvV3JhcHBlcixMPWEuZ2V0VHJlZVNjb3BlLE09YS5taXhpbixOPWEucmVnaXN0ZXJXcmFwcGVyLE89YS51bndyYXAsUD1hLndyYXAsUT1hLndyYXBwZXJzLFI9KG5ldyBXZWFrTWFwLG5ldyBXZWFrTWFwKSxTPW5ldyBXZWFrTWFwLFQ9bmV3IFdlYWtNYXAsVT1uZXcgV2Vha01hcCxWPW5ldyBXZWFrTWFwLFc9bmV3IFdlYWtNYXAsWD1uZXcgV2Vha01hcCxZPW5ldyBXZWFrTWFwLFo9bmV3IFdlYWtNYXAsJD1uZXcgV2Vha01hcCxfPW5ldyBXZWFrTWFwLGFiPTAsYmI9MSxjYj0yLGRiPTM7cy5wcm90b3R5cGU9e2VxdWFsczpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYW5kbGVyPT09YS5oYW5kbGVyJiZ0aGlzLnR5cGU9PT1hLnR5cGUmJnRoaXMuY2FwdHVyZT09PWEuY2FwdHVyZX0sZ2V0IHJlbW92ZWQoKXtyZXR1cm4gbnVsbD09PXRoaXMuaGFuZGxlcn0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVyPW51bGx9fTt2YXIgZWI9d2luZG93LkV2ZW50O2ViLnByb3RvdHlwZS5wb2x5bWVyQmxhY2tMaXN0Xz17cmV0dXJuVmFsdWU6ITAsa2V5TG9jYXRpb246ITB9LHQucHJvdG90eXBlPXtnZXQgdGFyZ2V0KCl7cmV0dXJuIFUuZ2V0KHRoaXMpfSxnZXQgY3VycmVudFRhcmdldCgpe3JldHVybiBWLmdldCh0aGlzKX0sZ2V0IGV2ZW50UGhhc2UoKXtyZXR1cm4gWC5nZXQodGhpcyl9LGdldCBwYXRoKCl7dmFyIGE9bmV3IFEuTm9kZUxpc3QsYj1fLmdldCh0aGlzKTtpZihiKXtmb3IodmFyIGM9MCxkPWIubGVuZ3RoLTEsZT1MKFYuZ2V0KHRoaXMpKSxmPTA7ZD49ZjtmKyspe3ZhciBnPWJbZl0saD1MKGcpO2guY29udGFpbnMoZSkmJihmIT09ZHx8ZyBpbnN0YW5jZW9mIFEuTm9kZSkmJihhW2MrK109Zyl9YS5sZW5ndGg9Y31yZXR1cm4gYX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7WS5zZXQodGhpcywhMCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe1kuc2V0KHRoaXMsITApLFouc2V0KHRoaXMsITApfX0sTihlYix0LGRvY3VtZW50LmNyZWF0ZUV2ZW50KCJFdmVudCIpKTt2YXIgZmI9digiVUlFdmVudCIsdCksZ2I9digiQ3VzdG9tRXZlbnQiLHQpLGhiPXtnZXQgcmVsYXRlZFRhcmdldCgpe3ZhciBhPVcuZ2V0KHRoaXMpO3JldHVybiB2b2lkIDAhPT1hP2E6UChPKHRoaXMpLnJlbGF0ZWRUYXJnZXQpfX0saWI9TSh7aW5pdE1vdXNlRXZlbnQ6dygiaW5pdE1vdXNlRXZlbnQiLDE0KX0saGIpLGpiPU0oe2luaXRGb2N1c0V2ZW50OncoImluaXRGb2N1c0V2ZW50Iiw1KX0saGIpLGtiPXYoIk1vdXNlRXZlbnQiLGZiLGliKSxsYj12KCJGb2N1c0V2ZW50IixmYixqYiksbWI9T2JqZWN0LmNyZWF0ZShudWxsKSxuYj1mdW5jdGlvbigpe3RyeXtuZXcgd2luZG93LkZvY3VzRXZlbnQoImZvY3VzIil9Y2F0Y2goYSl7cmV0dXJuITF9cmV0dXJuITB9KCk7aWYoIW5iKXt2YXIgb2I9ZnVuY3Rpb24oYSxiLGMpe2lmKGMpe3ZhciBkPW1iW2NdO2I9TShNKHt9LGQpLGIpfW1iW2FdPWJ9O29iKCJFdmVudCIse2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMX0pLG9iKCJDdXN0b21FdmVudCIse2RldGFpbDpudWxsfSwiRXZlbnQiKSxvYigiVUlFdmVudCIse3ZpZXc6bnVsbCxkZXRhaWw6MH0sIkV2ZW50Iiksb2IoIk1vdXNlRXZlbnQiLHtzY3JlZW5YOjAsc2NyZWVuWTowLGNsaWVudFg6MCxjbGllbnRZOjAsY3RybEtleTohMSxhbHRLZXk6ITEsc2hpZnRLZXk6ITEsbWV0YUtleTohMSxidXR0b246MCxyZWxhdGVkVGFyZ2V0Om51bGx9LCJVSUV2ZW50Iiksb2IoIkZvY3VzRXZlbnQiLHtyZWxhdGVkVGFyZ2V0Om51bGx9LCJVSUV2ZW50Iil9dmFyIHBiPXdpbmRvdy5CZWZvcmVVbmxvYWRFdmVudDt5LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlKSxNKHkucHJvdG90eXBlLHtnZXQgcmV0dXJuVmFsdWUoKXtyZXR1cm4gdGhpcy5pbXBsLnJldHVyblZhbHVlfSxzZXQgcmV0dXJuVmFsdWUoYSl7dGhpcy5pbXBsLnJldHVyblZhbHVlPWF9fSkscGImJk4ocGIseSk7dmFyIHFiPXdpbmRvdy5FdmVudFRhcmdldCxyYj1bImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzcGF0Y2hFdmVudCJdO1tOb2RlLFdpbmRvd10uZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1hLnByb3RvdHlwZTtyYi5mb3JFYWNoKGZ1bmN0aW9uKGEpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLGErIl8iLHt2YWx1ZTpiW2FdfSl9KX0pLEIucHJvdG90eXBlPXthZGRFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGEsYixjKXtpZih6KGIpJiYhQShhKSl7dmFyIGQ9bmV3IHMoYSxiLGMpLGU9Ui5nZXQodGhpcyk7aWYoZSl7Zm9yKHZhciBmPTA7ZjxlLmxlbmd0aDtmKyspaWYoZC5lcXVhbHMoZVtmXSkpcmV0dXJufWVsc2UgZT1bXSxSLnNldCh0aGlzLGUpO2UucHVzaChkKTt2YXIgZz1DKHRoaXMpO2cuYWRkRXZlbnRMaXN0ZW5lcl8oYSxtLCEwKX19LHJlbW92ZUV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oYSxiLGMpe2M9Qm9vbGVhbihjKTt2YXIgZD1SLmdldCh0aGlzKTtpZihkKXtmb3IodmFyIGU9MCxmPSExLGc9MDtnPGQubGVuZ3RoO2crKylkW2ddLnR5cGU9PT1hJiZkW2ddLmNhcHR1cmU9PT1jJiYoZSsrLGRbZ10uaGFuZGxlcj09PWImJihmPSEwLGRbZ10ucmVtb3ZlKCkpKTtpZihmJiYxPT09ZSl7dmFyIGg9Qyh0aGlzKTtoLnJlbW92ZUV2ZW50TGlzdGVuZXJfKGEsbSwhMCl9fX0sZGlzcGF0Y2hFdmVudDpmdW5jdGlvbihiKXt2YXIgYz1PKGIpLGQ9Yy50eXBlO1Muc2V0KGMsITEpLGEucmVuZGVyQWxsUGVuZGluZygpO3ZhciBlO0UodGhpcyxkKXx8KGU9ZnVuY3Rpb24oKXt9LHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihkLGUsITApKTt0cnl7cmV0dXJuIE8odGhpcykuZGlzcGF0Y2hFdmVudF8oYyl9ZmluYWxseXtlJiZ0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCxlLCEwKX19fSxxYiYmTihxYixCKTt2YXIgc2I9ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludDthLmVsZW1lbnRGcm9tUG9pbnQ9RyxhLmdldEV2ZW50SGFuZGxlckdldHRlcj1ILGEuZ2V0RXZlbnRIYW5kbGVyU2V0dGVyPUksYS53cmFwRXZlbnRUYXJnZXRNZXRob2RzPUYsYS53cmFwcGVycy5CZWZvcmVVbmxvYWRFdmVudD15LGEud3JhcHBlcnMuQ3VzdG9tRXZlbnQ9Z2IsYS53cmFwcGVycy5FdmVudD10LGEud3JhcHBlcnMuRXZlbnRUYXJnZXQ9QixhLndyYXBwZXJzLkZvY3VzRXZlbnQ9bGIsYS53cmFwcGVycy5Nb3VzZUV2ZW50PWtiLGEud3JhcHBlcnMuVUlFdmVudD1mYn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGIsbyl9ZnVuY3Rpb24gYyhhKXt0aGlzLmltcGw9YX1mdW5jdGlvbiBkKCl7dGhpcy5sZW5ndGg9MCxiKHRoaXMsImxlbmd0aCIpfWZ1bmN0aW9uIGUoYSl7Zm9yKHZhciBiPW5ldyBkLGU9MDtlPGEubGVuZ3RoO2UrKyliW2VdPW5ldyBjKGFbZV0pO3JldHVybiBiLmxlbmd0aD1lLGJ9ZnVuY3Rpb24gZihhKXtnLmNhbGwodGhpcyxhKX12YXIgZz1hLndyYXBwZXJzLlVJRXZlbnQsaD1hLm1peGluLGk9YS5yZWdpc3RlcldyYXBwZXIsaj1hLnVud3JhcCxrPWEud3JhcCxsPXdpbmRvdy5Ub3VjaEV2ZW50O2lmKGwpe3ZhciBtO3RyeXttPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJUb3VjaEV2ZW50Iil9Y2F0Y2gobil7cmV0dXJufXZhciBvPXtlbnVtZXJhYmxlOiExfTtjLnByb3RvdHlwZT17Z2V0IHRhcmdldCgpe3JldHVybiBrKHRoaXMuaW1wbC50YXJnZXQpfX07dmFyIHA9e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpudWxsfTtbImNsaWVudFgiLCJjbGllbnRZIiwic2NyZWVuWCIsInNjcmVlblkiLCJwYWdlWCIsInBhZ2VZIiwiaWRlbnRpZmllciIsIndlYmtpdFJhZGl1c1giLCJ3ZWJraXRSYWRpdXNZIiwid2Via2l0Um90YXRpb25BbmdsZSIsIndlYmtpdEZvcmNlIl0uZm9yRWFjaChmdW5jdGlvbihhKXtwLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmltcGxbYV19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjLnByb3RvdHlwZSxhLHApfSksZC5wcm90b3R5cGU9e2l0ZW06ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXNbYV19fSxmLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGcucHJvdG90eXBlKSxoKGYucHJvdG90eXBlLHtnZXQgdG91Y2hlcygpe3JldHVybiBlKGoodGhpcykudG91Y2hlcyl9LGdldCB0YXJnZXRUb3VjaGVzKCl7cmV0dXJuIGUoaih0aGlzKS50YXJnZXRUb3VjaGVzKX0sZ2V0IGNoYW5nZWRUb3VjaGVzKCl7cmV0dXJuIGUoaih0aGlzKS5jaGFuZ2VkVG91Y2hlcyl9LGluaXRUb3VjaEV2ZW50OmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJOb3QgaW1wbGVtZW50ZWQiKX19KSxpKGwsZixtKSxhLndyYXBwZXJzLlRvdWNoPWMsYS53cmFwcGVycy5Ub3VjaEV2ZW50PWYsYS53cmFwcGVycy5Ub3VjaExpc3Q9ZH19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLGcpfWZ1bmN0aW9uIGMoKXt0aGlzLmxlbmd0aD0wLGIodGhpcywibGVuZ3RoIil9ZnVuY3Rpb24gZChhKXtpZihudWxsPT1hKXJldHVybiBhO2Zvcih2YXIgYj1uZXcgYyxkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKWJbZF09ZihhW2RdKTtyZXR1cm4gYi5sZW5ndGg9ZSxifWZ1bmN0aW9uIGUoYSxiKXthLnByb3RvdHlwZVtiXT1mdW5jdGlvbigpe3JldHVybiBkKHRoaXMuaW1wbFtiXS5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKSl9fXZhciBmPWEud3JhcCxnPXtlbnVtZXJhYmxlOiExfTtjLnByb3RvdHlwZT17aXRlbTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpc1thXX19LGIoYy5wcm90b3R5cGUsIml0ZW0iKSxhLndyYXBwZXJzLk5vZGVMaXN0PWMsYS5hZGRXcmFwTm9kZUxpc3RNZXRob2Q9ZSxhLndyYXBOb2RlTGlzdD1kfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjthLndyYXBIVE1MQ29sbGVjdGlvbj1hLndyYXBOb2RlTGlzdCxhLndyYXBwZXJzLkhUTUxDb2xsZWN0aW9uPWEud3JhcHBlcnMuTm9kZUxpc3R9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7QShhIGluc3RhbmNlb2Ygdyl9ZnVuY3Rpb24gYyhhKXt2YXIgYj1uZXcgeTtyZXR1cm4gYlswXT1hLGIubGVuZ3RoPTEsYn1mdW5jdGlvbiBkKGEsYixjKXtDKGIsImNoaWxkTGlzdCIse3JlbW92ZWROb2RlczpjLHByZXZpb3VzU2libGluZzphLnByZXZpb3VzU2libGluZyxuZXh0U2libGluZzphLm5leHRTaWJsaW5nfSl9ZnVuY3Rpb24gZShhLGIpe0MoYSwiY2hpbGRMaXN0Iix7cmVtb3ZlZE5vZGVzOmJ9KX1mdW5jdGlvbiBmKGEsYixkLGUpe2lmKGEgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KXt2YXIgZj1oKGEpO089ITA7Zm9yKHZhciBnPWYubGVuZ3RoLTE7Zz49MDtnLS0pYS5yZW1vdmVDaGlsZChmW2ddKSxmW2ddLnBhcmVudE5vZGVfPWI7Tz0hMTtmb3IodmFyIGc9MDtnPGYubGVuZ3RoO2crKylmW2ddLnByZXZpb3VzU2libGluZ189ZltnLTFdfHxkLGZbZ10ubmV4dFNpYmxpbmdfPWZbZysxXXx8ZTtyZXR1cm4gZCYmKGQubmV4dFNpYmxpbmdfPWZbMF0pLGUmJihlLnByZXZpb3VzU2libGluZ189ZltmLmxlbmd0aC0xXSksZn12YXIgZj1jKGEpLGk9YS5wYXJlbnROb2RlO3JldHVybiBpJiZpLnJlbW92ZUNoaWxkKGEpLGEucGFyZW50Tm9kZV89YixhLnByZXZpb3VzU2libGluZ189ZCxhLm5leHRTaWJsaW5nXz1lLGQmJihkLm5leHRTaWJsaW5nXz1hKSxlJiYoZS5wcmV2aW91c1NpYmxpbmdfPWEpLGZ9ZnVuY3Rpb24gZyhhKXtpZihhIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudClyZXR1cm4gaChhKTt2YXIgYj1jKGEpLGU9YS5wYXJlbnROb2RlO3JldHVybiBlJiZkKGEsZSxiKSxifWZ1bmN0aW9uIGgoYSl7Zm9yKHZhciBiPW5ldyB5LGM9MCxkPWEuZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZyliW2MrK109ZDtyZXR1cm4gYi5sZW5ndGg9YyxlKGEsYiksYn1mdW5jdGlvbiBpKGEpe3JldHVybiBhfWZ1bmN0aW9uIGooYSxiKXtJKGEsYiksYS5ub2RlSXNJbnNlcnRlZF8oKX1mdW5jdGlvbiBrKGEsYil7Zm9yKHZhciBjPUQoYiksZD0wO2Q8YS5sZW5ndGg7ZCsrKWooYVtkXSxjKX1mdW5jdGlvbiBsKGEpe0koYSxuZXcgeihhLG51bGwpKX1mdW5jdGlvbiBtKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWwoYVtiXSl9ZnVuY3Rpb24gbihhLGIpe3ZhciBjPWEubm9kZVR5cGU9PT13LkRPQ1VNRU5UX05PREU/YTphLm93bmVyRG9jdW1lbnQ7YyE9PWIub3duZXJEb2N1bWVudCYmYy5hZG9wdE5vZGUoYil9ZnVuY3Rpb24gbyhiLGMpe2lmKGMubGVuZ3RoKXt2YXIgZD1iLm93bmVyRG9jdW1lbnQ7aWYoZCE9PWNbMF0ub3duZXJEb2N1bWVudClmb3IodmFyIGU9MDtlPGMubGVuZ3RoO2UrKylhLmFkb3B0Tm9kZU5vUmVtb3ZlKGNbZV0sZCl9fWZ1bmN0aW9uIHAoYSxiKXtvKGEsYik7dmFyIGM9Yi5sZW5ndGg7aWYoMT09PWMpcmV0dXJuIEooYlswXSk7Zm9yKHZhciBkPUooYS5vd25lckRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSksZT0wO2M+ZTtlKyspZC5hcHBlbmRDaGlsZChKKGJbZV0pKTtyZXR1cm4gZH1mdW5jdGlvbiBxKGEpe2lmKHZvaWQgMCE9PWEuZmlyc3RDaGlsZF8pZm9yKHZhciBiPWEuZmlyc3RDaGlsZF87Yjspe3ZhciBjPWI7Yj1iLm5leHRTaWJsaW5nXyxjLnBhcmVudE5vZGVfPWMucHJldmlvdXNTaWJsaW5nXz1jLm5leHRTaWJsaW5nXz12b2lkIDB9YS5maXJzdENoaWxkXz1hLmxhc3RDaGlsZF89dm9pZCAwfWZ1bmN0aW9uIHIoYSl7aWYoYS5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSl7Zm9yKHZhciBiPWEuZmlyc3RDaGlsZDtiOyl7QShiLnBhcmVudE5vZGU9PT1hKTt2YXIgYz1iLm5leHRTaWJsaW5nLGQ9SihiKSxlPWQucGFyZW50Tm9kZTtlJiZWLmNhbGwoZSxkKSxiLnByZXZpb3VzU2libGluZ189Yi5uZXh0U2libGluZ189Yi5wYXJlbnROb2RlXz1udWxsLGI9Y31hLmZpcnN0Q2hpbGRfPWEubGFzdENoaWxkXz1udWxsfWVsc2UgZm9yKHZhciBjLGY9SihhKSxnPWYuZmlyc3RDaGlsZDtnOyljPWcubmV4dFNpYmxpbmcsVi5jYWxsKGYsZyksZz1jfWZ1bmN0aW9uIHMoYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiZiLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpfWZ1bmN0aW9uIHQoYSl7Zm9yKHZhciBiLGM9MDtjPGEubGVuZ3RoO2MrKyliPWFbY10sYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpfWZ1bmN0aW9uIHUoYSxiLGMpe3ZhciBkO2lmKGQ9TChjP1AuY2FsbChjLGEuaW1wbCwhMSk6US5jYWxsKGEuaW1wbCwhMSkpLGIpe2Zvcih2YXIgZT1hLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpZC5hcHBlbmRDaGlsZCh1KGUsITAsYykpO2lmKGEgaW5zdGFuY2VvZiBOLkhUTUxUZW1wbGF0ZUVsZW1lbnQpZm9yKHZhciBmPWQuY29udGVudCxlPWEuY29udGVudC5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWYuYXBwZW5kQ2hpbGQodShlLCEwLGMpKX1yZXR1cm4gZH1mdW5jdGlvbiB2KGEsYil7aWYoIWJ8fEQoYSkhPT1EKGIpKXJldHVybiExO2Zvcih2YXIgYz1iO2M7Yz1jLnBhcmVudE5vZGUpaWYoYz09PWEpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gdyhhKXtBKGEgaW5zdGFuY2VvZiBSKSx4LmNhbGwodGhpcyxhKSx0aGlzLnBhcmVudE5vZGVfPXZvaWQgMCx0aGlzLmZpcnN0Q2hpbGRfPXZvaWQgMCx0aGlzLmxhc3RDaGlsZF89dm9pZCAwLHRoaXMubmV4dFNpYmxpbmdfPXZvaWQgMCx0aGlzLnByZXZpb3VzU2libGluZ189dm9pZCAwLHRoaXMudHJlZVNjb3BlXz12b2lkIDB9dmFyIHg9YS53cmFwcGVycy5FdmVudFRhcmdldCx5PWEud3JhcHBlcnMuTm9kZUxpc3Qsej1hLlRyZWVTY29wZSxBPWEuYXNzZXJ0LEI9YS5kZWZpbmVXcmFwR2V0dGVyLEM9YS5lbnF1ZXVlTXV0YXRpb24sRD1hLmdldFRyZWVTY29wZSxFPWEuaXNXcmFwcGVyLEY9YS5taXhpbixHPWEucmVnaXN0ZXJUcmFuc2llbnRPYnNlcnZlcnMsSD1hLnJlZ2lzdGVyV3JhcHBlcixJPWEuc2V0VHJlZVNjb3BlLEo9YS51bndyYXAsSz1hLnVud3JhcElmTmVlZGVkLEw9YS53cmFwLE09YS53cmFwSWZOZWVkZWQsTj1hLndyYXBwZXJzLE89ITEsUD1kb2N1bWVudC5pbXBvcnROb2RlLFE9d2luZG93Lk5vZGUucHJvdG90eXBlLmNsb25lTm9kZSxSPXdpbmRvdy5Ob2RlLFM9d2luZG93LkRvY3VtZW50RnJhZ21lbnQsVD0oUi5wcm90b3R5cGUuYXBwZW5kQ2hpbGQsUi5wcm90b3R5cGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24pLFU9Ui5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlLFY9Ui5wcm90b3R5cGUucmVtb3ZlQ2hpbGQsVz1SLnByb3RvdHlwZS5yZXBsYWNlQ2hpbGQsWD0vVHJpZGVudC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxZPVg/ZnVuY3Rpb24oYSxiKXt0cnl7Vi5jYWxsKGEsYil9Y2F0Y2goYyl7aWYoIShhIGluc3RhbmNlb2YgUykpdGhyb3cgY319OmZ1bmN0aW9uKGEsYil7Vi5jYWxsKGEsYil9O3cucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoeC5wcm90b3R5cGUpLEYody5wcm90b3R5cGUse2FwcGVuZENoaWxkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmluc2VydEJlZm9yZShhLG51bGwpfSxpbnNlcnRCZWZvcmU6ZnVuY3Rpb24oYSxjKXtiKGEpO3ZhciBkO2M/RShjKT9kPUooYyk6KGQ9YyxjPUwoZCkpOihjPW51bGwsZD1udWxsKSxjJiZBKGMucGFyZW50Tm9kZT09PXRoaXMpO3ZhciBlLGg9Yz9jLnByZXZpb3VzU2libGluZzp0aGlzLmxhc3RDaGlsZCxpPSF0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpJiYhcyhhKTtpZihlPWk/ZyhhKTpmKGEsdGhpcyxoLGMpLGkpbih0aGlzLGEpLHEodGhpcyksVS5jYWxsKHRoaXMuaW1wbCxKKGEpLGQpO2Vsc2V7aHx8KHRoaXMuZmlyc3RDaGlsZF89ZVswXSksY3x8KHRoaXMubGFzdENoaWxkXz1lW2UubGVuZ3RoLTFdKTt2YXIgaj1kP2QucGFyZW50Tm9kZTp0aGlzLmltcGw7aj9VLmNhbGwoaixwKHRoaXMsZSksZCk6byh0aGlzLGUpfXJldHVybiBDKHRoaXMsImNoaWxkTGlzdCIse2FkZGVkTm9kZXM6ZSxuZXh0U2libGluZzpjLHByZXZpb3VzU2libGluZzpofSksayhlLHRoaXMpLGF9LHJlbW92ZUNoaWxkOmZ1bmN0aW9uKGEpe2lmKGIoYSksYS5wYXJlbnROb2RlIT09dGhpcyl7Zm9yKHZhciBkPSExLGU9KHRoaXMuY2hpbGROb2Rlcyx0aGlzLmZpcnN0Q2hpbGQpO2U7ZT1lLm5leHRTaWJsaW5nKWlmKGU9PT1hKXtkPSEwO2JyZWFrfWlmKCFkKXRocm93IG5ldyBFcnJvcigiTm90Rm91bmRFcnJvciIpfXZhciBmPUooYSksZz1hLm5leHRTaWJsaW5nLGg9YS5wcmV2aW91c1NpYmxpbmc7aWYodGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSl7dmFyIGk9dGhpcy5maXJzdENoaWxkLGo9dGhpcy5sYXN0Q2hpbGQsaz1mLnBhcmVudE5vZGU7ayYmWShrLGYpLGk9PT1hJiYodGhpcy5maXJzdENoaWxkXz1nKSxqPT09YSYmKHRoaXMubGFzdENoaWxkXz1oKSxoJiYoaC5uZXh0U2libGluZ189ZyksZyYmKGcucHJldmlvdXNTaWJsaW5nXz1oKSxhLnByZXZpb3VzU2libGluZ189YS5uZXh0U2libGluZ189YS5wYXJlbnROb2RlXz12b2lkIDB9ZWxzZSBxKHRoaXMpLFkodGhpcy5pbXBsLGYpO3JldHVybiBPfHxDKHRoaXMsImNoaWxkTGlzdCIse3JlbW92ZWROb2RlczpjKGEpLG5leHRTaWJsaW5nOmcscHJldmlvdXNTaWJsaW5nOmh9KSxHKHRoaXMsYSksYX0scmVwbGFjZUNoaWxkOmZ1bmN0aW9uKGEsZCl7YihhKTt2YXIgZTtpZihFKGQpP2U9SihkKTooZT1kLGQ9TChlKSksZC5wYXJlbnROb2RlIT09dGhpcyl0aHJvdyBuZXcgRXJyb3IoIk5vdEZvdW5kRXJyb3IiKTt2YXIgaCxpPWQubmV4dFNpYmxpbmcsaj1kLnByZXZpb3VzU2libGluZyxtPSF0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpJiYhcyhhKTtyZXR1cm4gbT9oPWcoYSk6KGk9PT1hJiYoaT1hLm5leHRTaWJsaW5nKSxoPWYoYSx0aGlzLGosaSkpLG0/KG4odGhpcyxhKSxxKHRoaXMpLFcuY2FsbCh0aGlzLmltcGwsSihhKSxlKSk6KHRoaXMuZmlyc3RDaGlsZD09PWQmJih0aGlzLmZpcnN0Q2hpbGRfPWhbMF0pLHRoaXMubGFzdENoaWxkPT09ZCYmKHRoaXMubGFzdENoaWxkXz1oW2gubGVuZ3RoLTFdKSxkLnByZXZpb3VzU2libGluZ189ZC5uZXh0U2libGluZ189ZC5wYXJlbnROb2RlXz12b2lkIDAsZS5wYXJlbnROb2RlJiZXLmNhbGwoZS5wYXJlbnROb2RlLHAodGhpcyxoKSxlKSksQyh0aGlzLCJjaGlsZExpc3QiLHthZGRlZE5vZGVzOmgscmVtb3ZlZE5vZGVzOmMoZCksbmV4dFNpYmxpbmc6aSxwcmV2aW91c1NpYmxpbmc6an0pLGwoZCksayhoLHRoaXMpLGR9LG5vZGVJc0luc2VydGVkXzpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpYS5ub2RlSXNJbnNlcnRlZF8oKX0saGFzQ2hpbGROb2RlczpmdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5maXJzdENoaWxkfSxnZXQgcGFyZW50Tm9kZSgpe3JldHVybiB2b2lkIDAhPT10aGlzLnBhcmVudE5vZGVfP3RoaXMucGFyZW50Tm9kZV86TCh0aGlzLmltcGwucGFyZW50Tm9kZSl9LGdldCBmaXJzdENoaWxkKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuZmlyc3RDaGlsZF8/dGhpcy5maXJzdENoaWxkXzpMKHRoaXMuaW1wbC5maXJzdENoaWxkKX0sZ2V0IGxhc3RDaGlsZCgpe3JldHVybiB2b2lkIDAhPT10aGlzLmxhc3RDaGlsZF8/dGhpcy5sYXN0Q2hpbGRfOkwodGhpcy5pbXBsLmxhc3RDaGlsZCl9LGdldCBuZXh0U2libGluZygpe3JldHVybiB2b2lkIDAhPT10aGlzLm5leHRTaWJsaW5nXz90aGlzLm5leHRTaWJsaW5nXzpMKHRoaXMuaW1wbC5uZXh0U2libGluZyl9LGdldCBwcmV2aW91c1NpYmxpbmcoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5wcmV2aW91c1NpYmxpbmdfP3RoaXMucHJldmlvdXNTaWJsaW5nXzpMKHRoaXMuaW1wbC5wcmV2aW91c1NpYmxpbmcpfSxnZXQgcGFyZW50RWxlbWVudCgpe2Zvcih2YXIgYT10aGlzLnBhcmVudE5vZGU7YSYmYS5ub2RlVHlwZSE9PXcuRUxFTUVOVF9OT0RFOylhPWEucGFyZW50Tm9kZTtyZXR1cm4gYX0sZ2V0IHRleHRDb250ZW50KCl7Zm9yKHZhciBhPSIiLGI9dGhpcy5maXJzdENoaWxkO2I7Yj1iLm5leHRTaWJsaW5nKWIubm9kZVR5cGUhPXcuQ09NTUVOVF9OT0RFJiYoYSs9Yi50ZXh0Q29udGVudCk7cmV0dXJuIGF9LHNldCB0ZXh0Q29udGVudChhKXt2YXIgYj1pKHRoaXMuY2hpbGROb2Rlcyk7aWYodGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSl7aWYocih0aGlzKSwiIiE9PWEpe3ZhciBjPXRoaXMuaW1wbC5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGEpO3RoaXMuYXBwZW5kQ2hpbGQoYyl9fWVsc2UgcSh0aGlzKSx0aGlzLmltcGwudGV4dENvbnRlbnQ9YTt2YXIgZD1pKHRoaXMuY2hpbGROb2Rlcyk7Qyh0aGlzLCJjaGlsZExpc3QiLHthZGRlZE5vZGVzOmQscmVtb3ZlZE5vZGVzOmJ9KSxtKGIpLGsoZCx0aGlzKX0sZ2V0IGNoaWxkTm9kZXMoKXtmb3IodmFyIGE9bmV3IHksYj0wLGM9dGhpcy5maXJzdENoaWxkO2M7Yz1jLm5leHRTaWJsaW5nKWFbYisrXT1jO3JldHVybiBhLmxlbmd0aD1iLGF9LGNsb25lTm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gdSh0aGlzLGEpfSxjb250YWluczpmdW5jdGlvbihhKXtyZXR1cm4gdih0aGlzLE0oYSkpfSxjb21wYXJlRG9jdW1lbnRQb3NpdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gVC5jYWxsKHRoaXMuaW1wbCxLKGEpKX0sbm9ybWFsaXplOmZ1bmN0aW9uKCl7Zm9yKHZhciBhLGIsYz1pKHRoaXMuY2hpbGROb2RlcyksZD1bXSxlPSIiLGY9MDtmPGMubGVuZ3RoO2YrKyliPWNbZl0sYi5ub2RlVHlwZT09PXcuVEVYVF9OT0RFP2F8fGIuZGF0YS5sZW5ndGg/YT8oZSs9Yi5kYXRhLGQucHVzaChiKSk6YT1iOnRoaXMucmVtb3ZlTm9kZShiKTooYSYmZC5sZW5ndGgmJihhLmRhdGErPWUsY2xlYW5VcE5vZGVzKGQpKSxkPVtdLGU9IiIsYT1udWxsLGIuY2hpbGROb2Rlcy5sZW5ndGgmJmIubm9ybWFsaXplKCkpO2EmJmQubGVuZ3RoJiYoYS5kYXRhKz1lLHQoZCkpfX0pLEIodywib3duZXJEb2N1bWVudCIpLEgoUix3LGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSksZGVsZXRlIHcucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3IsZGVsZXRlIHcucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3JBbGwsdy5wcm90b3R5cGU9RihPYmplY3QuY3JlYXRlKHgucHJvdG90eXBlKSx3LnByb3RvdHlwZSksYS5jbG9uZU5vZGU9dSxhLm5vZGVXYXNBZGRlZD1qLGEubm9kZVdhc1JlbW92ZWQ9bCxhLm5vZGVzV2VyZUFkZGVkPWssYS5ub2Rlc1dlcmVSZW1vdmVkPW0sYS5zbmFwc2hvdE5vZGVMaXN0PWksYS53cmFwcGVycy5Ob2RlPXd9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxjKXtmb3IodmFyIGQsZT1hLmZpcnN0RWxlbWVudENoaWxkO2U7KXtpZihlLm1hdGNoZXMoYykpcmV0dXJuIGU7aWYoZD1iKGUsYykpcmV0dXJuIGQ7ZT1lLm5leHRFbGVtZW50U2libGluZ31yZXR1cm4gbnVsbH1mdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEubWF0Y2hlcyhiKX1mdW5jdGlvbiBkKGEsYixjKXt2YXIgZD1hLmxvY2FsTmFtZTtyZXR1cm4gZD09PWJ8fGQ9PT1jJiZhLm5hbWVzcGFjZVVSST09PWx9ZnVuY3Rpb24gZSgpe3JldHVybiEwfWZ1bmN0aW9uIGYoYSxiKXtyZXR1cm4gYS5sb2NhbE5hbWU9PT1ifWZ1bmN0aW9uIGcoYSxiKXtyZXR1cm4gYS5uYW1lc3BhY2VVUkk9PT1ifWZ1bmN0aW9uIGgoYSxiLGMpe3JldHVybiBhLm5hbWVzcGFjZVVSST09PWImJmEubG9jYWxOYW1lPT09Y31mdW5jdGlvbiBpKGEsYixjLGQsZSl7Zm9yKHZhciBmPWEuZmlyc3RFbGVtZW50Q2hpbGQ7ZjspYyhmLGQsZSkmJihiW2IubGVuZ3RoKytdPWYpLGkoZixiLGMsZCxlKSxmPWYubmV4dEVsZW1lbnRTaWJsaW5nO3JldHVybiBifXZhciBqPWEud3JhcHBlcnMuSFRNTENvbGxlY3Rpb24saz1hLndyYXBwZXJzLk5vZGVMaXN0LGw9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLG09e3F1ZXJ5U2VsZWN0b3I6ZnVuY3Rpb24oYSl7cmV0dXJuIGIodGhpcyxhKX0scXVlcnlTZWxlY3RvckFsbDpmdW5jdGlvbihhKXtyZXR1cm4gaSh0aGlzLG5ldyBrLGMsYSl9fSxuPXtnZXRFbGVtZW50c0J5VGFnTmFtZTpmdW5jdGlvbihhKXt2YXIgYj1uZXcgajtyZXR1cm4iKiI9PT1hP2kodGhpcyxiLGUpOmkodGhpcyxiLGQsYSxhLnRvTG93ZXJDYXNlKCkpfSxnZXRFbGVtZW50c0J5Q2xhc3NOYW1lOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoIi4iK2EpfSxnZXRFbGVtZW50c0J5VGFnTmFtZU5TOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IGo7aWYoIiI9PT1hKWE9bnVsbDtlbHNlIGlmKCIqIj09PWEpcmV0dXJuIioiPT09Yj9pKHRoaXMsYyxlKTppKHRoaXMsYyxmLGIpO3JldHVybiIqIj09PWI/aSh0aGlzLGMsZyxhKTppKHRoaXMsYyxoLGEsYil9fTthLkdldEVsZW1lbnRzQnlJbnRlcmZhY2U9bixhLlNlbGVjdG9yc0ludGVyZmFjZT1tfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2Zvcig7YSYmYS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFOylhPWEubmV4dFNpYmxpbmc7cmV0dXJuIGF9ZnVuY3Rpb24gYyhhKXtmb3IoO2EmJmEubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERTspYT1hLnByZXZpb3VzU2libGluZztyZXR1cm4gYX12YXIgZD1hLndyYXBwZXJzLk5vZGVMaXN0LGU9e2dldCBmaXJzdEVsZW1lbnRDaGlsZCgpe3JldHVybiBiKHRoaXMuZmlyc3RDaGlsZCl9LGdldCBsYXN0RWxlbWVudENoaWxkKCl7cmV0dXJuIGModGhpcy5sYXN0Q2hpbGQpfSxnZXQgY2hpbGRFbGVtZW50Q291bnQoKXtmb3IodmFyIGE9MCxiPXRoaXMuZmlyc3RFbGVtZW50Q2hpbGQ7YjtiPWIubmV4dEVsZW1lbnRTaWJsaW5nKWErKztyZXR1cm4gYX0sZ2V0IGNoaWxkcmVuKCl7Zm9yKHZhciBhPW5ldyBkLGI9MCxjPXRoaXMuZmlyc3RFbGVtZW50Q2hpbGQ7YztjPWMubmV4dEVsZW1lbnRTaWJsaW5nKWFbYisrXT1jO3JldHVybiBhLmxlbmd0aD1iLGF9LHJlbW92ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMucGFyZW50Tm9kZTthJiZhLnJlbW92ZUNoaWxkKHRoaXMpfX0sZj17Z2V0IG5leHRFbGVtZW50U2libGluZygpe3JldHVybiBiKHRoaXMubmV4dFNpYmxpbmcpfSxnZXQgcHJldmlvdXNFbGVtZW50U2libGluZygpe3JldHVybiBjKHRoaXMucHJldmlvdXNTaWJsaW5nKX19O2EuQ2hpbGROb2RlSW50ZXJmYWNlPWYsYS5QYXJlbnROb2RlSW50ZXJmYWNlPWV9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7ZC5jYWxsKHRoaXMsYSl9dmFyIGM9YS5DaGlsZE5vZGVJbnRlcmZhY2UsZD1hLndyYXBwZXJzLk5vZGUsZT1hLmVucXVldWVNdXRhdGlvbixmPWEubWl4aW4sZz1hLnJlZ2lzdGVyV3JhcHBlcixoPXdpbmRvdy5DaGFyYWN0ZXJEYXRhO2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZC5wcm90b3R5cGUpLGYoYi5wcm90b3R5cGUse2dldCB0ZXh0Q29udGVudCgpe3JldHVybiB0aGlzLmRhdGF9LHNldCB0ZXh0Q29udGVudChhKXt0aGlzLmRhdGE9YX0sZ2V0IGRhdGEoKXtyZXR1cm4gdGhpcy5pbXBsLmRhdGF9LHNldCBkYXRhKGEpe3ZhciBiPXRoaXMuaW1wbC5kYXRhO2UodGhpcywiY2hhcmFjdGVyRGF0YSIse29sZFZhbHVlOmJ9KSx0aGlzLmltcGwuZGF0YT1hfX0pLGYoYi5wcm90b3R5cGUsYyksZyhoLGIsZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpKSxhLndyYXBwZXJzLkNoYXJhY3RlckRhdGE9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtyZXR1cm4gYT4+PjB9ZnVuY3Rpb24gYyhhKXtkLmNhbGwodGhpcyxhKX12YXIgZD1hLndyYXBwZXJzLkNoYXJhY3RlckRhdGEsZT0oYS5lbnF1ZXVlTXV0YXRpb24sYS5taXhpbiksZj1hLnJlZ2lzdGVyV3JhcHBlcixnPXdpbmRvdy5UZXh0O2MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZC5wcm90b3R5cGUpLGUoYy5wcm90b3R5cGUse3NwbGl0VGV4dDpmdW5jdGlvbihhKXthPWIoYSk7dmFyIGM9dGhpcy5kYXRhO2lmKGE+Yy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJJbmRleFNpemVFcnJvciIpO3ZhciBkPWMuc2xpY2UoMCxhKSxlPWMuc2xpY2UoYSk7dGhpcy5kYXRhPWQ7dmFyIGY9dGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGUpO3JldHVybiB0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZix0aGlzLm5leHRTaWJsaW5nKSxmfX0pLGYoZyxjLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKSksYS53cmFwcGVycy5UZXh0PWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYixjKXt2YXIgZD1iLnBhcmVudE5vZGU7aWYoZCYmZC5zaGFkb3dSb290KXt2YXIgZT1hLmdldFJlbmRlcmVyRm9ySG9zdChkKTtlLmRlcGVuZHNPbkF0dHJpYnV0ZShjKSYmZS5pbnZhbGlkYXRlKCl9fWZ1bmN0aW9uIGMoYSxiLGMpe2soYSwiYXR0cmlidXRlcyIse25hbWU6YixuYW1lc3BhY2U6bnVsbCxvbGRWYWx1ZTpjfSl9ZnVuY3Rpb24gZChhKXtoLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBlKGEsYyxkKXt2YXIgZT1kfHxjO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGMse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmltcGxbY119LHNldDpmdW5jdGlvbihhKXt0aGlzLmltcGxbY109YSxiKHRoaXMsZSl9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSl9dmFyIGY9YS5DaGlsZE5vZGVJbnRlcmZhY2UsZz1hLkdldEVsZW1lbnRzQnlJbnRlcmZhY2UsaD1hLndyYXBwZXJzLk5vZGUsaT1hLlBhcmVudE5vZGVJbnRlcmZhY2Usaj1hLlNlbGVjdG9yc0ludGVyZmFjZSxrPShhLmFkZFdyYXBOb2RlTGlzdE1ldGhvZCxhLmVucXVldWVNdXRhdGlvbiksbD1hLm1peGluLG09KGEub25lT2YsYS5yZWdpc3RlcldyYXBwZXIpLG49YS53cmFwcGVycyxvPXdpbmRvdy5FbGVtZW50LHA9WyJtYXRjaGVzIiwibW96TWF0Y2hlc1NlbGVjdG9yIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiXS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIG8ucHJvdG90eXBlW2FdfSkscT1wWzBdLHI9by5wcm90b3R5cGVbcV07ZC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShoLnByb3RvdHlwZSksbChkLnByb3RvdHlwZSx7Y3JlYXRlU2hhZG93Um9vdDpmdW5jdGlvbigpe3ZhciBiPW5ldyBuLlNoYWRvd1Jvb3QodGhpcyk7dGhpcy5pbXBsLnBvbHltZXJTaGFkb3dSb290Xz1iO3ZhciBjPWEuZ2V0UmVuZGVyZXJGb3JIb3N0KHRoaXMpO3JldHVybiBjLmludmFsaWRhdGUoKSxifSxnZXQgc2hhZG93Um9vdCgpe3JldHVybiB0aGlzLmltcGwucG9seW1lclNoYWRvd1Jvb3RffHxudWxsfSxzZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oYSxkKXt2YXIgZT10aGlzLmltcGwuZ2V0QXR0cmlidXRlKGEpO3RoaXMuaW1wbC5zZXRBdHRyaWJ1dGUoYSxkKSxjKHRoaXMsYSxlKSxiKHRoaXMsYSl9LHJlbW92ZUF0dHJpYnV0ZTpmdW5jdGlvbihhKXt2YXIgZD10aGlzLmltcGwuZ2V0QXR0cmlidXRlKGEpO3RoaXMuaW1wbC5yZW1vdmVBdHRyaWJ1dGUoYSksYyh0aGlzLGEsZCksYih0aGlzLGEpfSxtYXRjaGVzOmZ1bmN0aW9uKGEpe3JldHVybiByLmNhbGwodGhpcy5pbXBsLGEpfX0pLHAuZm9yRWFjaChmdW5jdGlvbihhKXsibWF0Y2hlcyIhPT1hJiYoZC5wcm90b3R5cGVbYV09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubWF0Y2hlcyhhKX0pfSksby5wcm90b3R5cGUud2Via2l0Q3JlYXRlU2hhZG93Um9vdCYmKGQucHJvdG90eXBlLndlYmtpdENyZWF0ZVNoYWRvd1Jvb3Q9ZC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdCksZShkLnByb3RvdHlwZSwiaWQiKSxlKGQucHJvdG90eXBlLCJjbGFzc05hbWUiLCJjbGFzcyIpLGwoZC5wcm90b3R5cGUsZiksbChkLnByb3RvdHlwZSxnKSxsKGQucHJvdG90eXBlLGkpLGwoZC5wcm90b3R5cGUsaiksbShvLGQsZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG51bGwsIngiKSksYS5tYXRjaGVzTmFtZXM9cCxhLndyYXBwZXJzLkVsZW1lbnQ9ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtzd2l0Y2goYSl7Y2FzZSImIjpyZXR1cm4iJmFtcDsiO2Nhc2UiPCI6cmV0dXJuIiZsdDsiO2Nhc2UiPiI6cmV0dXJuIiZndDsiO2Nhc2UnIic6cmV0dXJuIiZxdW90OyI7Y2FzZSLCoCI6cmV0dXJuIiZuYnNwOyJ9fWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGEucmVwbGFjZSh6LGIpfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGEucmVwbGFjZShBLGIpfWZ1bmN0aW9uIGUoYSl7Zm9yKHZhciBiPXt9LGM9MDtjPGEubGVuZ3RoO2MrKyliW2FbY11dPSEwO3JldHVybiBifWZ1bmN0aW9uIGYoYSxiKXtzd2l0Y2goYS5ub2RlVHlwZSl7Y2FzZSBOb2RlLkVMRU1FTlRfTk9ERTpmb3IodmFyIGUsZj1hLnRhZ05hbWUudG9Mb3dlckNhc2UoKSxoPSI8IitmLGk9YS5hdHRyaWJ1dGVzLGo9MDtlPWlbal07aisrKWgrPSIgIitlLm5hbWUrJz0iJytjKGUudmFsdWUpKyciJztyZXR1cm4gaCs9Ij4iLEJbZl0/aDpoK2coYSkrIjwvIitmKyI+IjtjYXNlIE5vZGUuVEVYVF9OT0RFOnZhciBrPWEuZGF0YTtyZXR1cm4gYiYmQ1tiLmxvY2FsTmFtZV0/azpkKGspO2Nhc2UgTm9kZS5DT01NRU5UX05PREU6cmV0dXJuIjwhLS0iK2EuZGF0YSsiLS0+IjtkZWZhdWx0OnRocm93IGNvbnNvbGUuZXJyb3IoYSksbmV3IEVycm9yKCJub3QgaW1wbGVtZW50ZWQiKX19ZnVuY3Rpb24gZyhhKXthIGluc3RhbmNlb2YgeS5IVE1MVGVtcGxhdGVFbGVtZW50JiYoYT1hLmNvbnRlbnQpO2Zvcih2YXIgYj0iIixjPWEuZmlyc3RDaGlsZDtjO2M9Yy5uZXh0U2libGluZyliKz1mKGMsYSk7cmV0dXJuIGJ9ZnVuY3Rpb24gaChhLGIsYyl7dmFyIGQ9Y3x8ImRpdiI7YS50ZXh0Q29udGVudD0iIjt2YXIgZT13KGEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KGQpKTtlLmlubmVySFRNTD1iO2Zvcih2YXIgZjtmPWUuZmlyc3RDaGlsZDspYS5hcHBlbmRDaGlsZCh4KGYpKX1mdW5jdGlvbiBpKGEpe28uY2FsbCh0aGlzLGEpfWZ1bmN0aW9uIGooYSxiKXt2YXIgYz13KGEuY2xvbmVOb2RlKCExKSk7Yy5pbm5lckhUTUw9Yjtmb3IodmFyIGQsZT13KGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7ZD1jLmZpcnN0Q2hpbGQ7KWUuYXBwZW5kQ2hpbGQoZCk7cmV0dXJuIHgoZSl9ZnVuY3Rpb24gayhiKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5yZW5kZXJBbGxQZW5kaW5nKCksdGhpcy5pbXBsW2JdfX1mdW5jdGlvbiBsKGEpe3AoaSxhLGsoYSkpfWZ1bmN0aW9uIG0oYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLGIse2dldDprKGIpLHNldDpmdW5jdGlvbihjKXthLnJlbmRlckFsbFBlbmRpbmcoKSx0aGlzLmltcGxbYl09Y30sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9KX1mdW5jdGlvbiBuKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxiLHt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBhLnJlbmRlckFsbFBlbmRpbmcoKSx0aGlzLmltcGxbYl0uYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyl9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSl9dmFyIG89YS53cmFwcGVycy5FbGVtZW50LHA9YS5kZWZpbmVHZXR0ZXIscT1hLmVucXVldWVNdXRhdGlvbixyPWEubWl4aW4scz1hLm5vZGVzV2VyZUFkZGVkLHQ9YS5ub2Rlc1dlcmVSZW1vdmVkLHU9YS5yZWdpc3RlcldyYXBwZXIsdj1hLnNuYXBzaG90Tm9kZUxpc3Qsdz1hLnVud3JhcCx4PWEud3JhcCx5PWEud3JhcHBlcnMsej0vWyZcdTAwQTAiXS9nLEE9L1smXHUwMEEwPD5dL2csQj1lKFsiYXJlYSIsImJhc2UiLCJiciIsImNvbCIsImNvbW1hbmQiLCJlbWJlZCIsImhyIiwiaW1nIiwiaW5wdXQiLCJrZXlnZW4iLCJsaW5rIiwibWV0YSIsInBhcmFtIiwic291cmNlIiwidHJhY2siLCJ3YnIiXSksQz1lKFsic3R5bGUiLCJzY3JpcHQiLCJ4bXAiLCJpZnJhbWUiLCJub2VtYmVkIiwibm9mcmFtZXMiLCJwbGFpbnRleHQiLCJub3NjcmlwdCJdKSxEPS9NU0lFLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLEU9d2luZG93LkhUTUxFbGVtZW50LEY9d2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQ7aS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkscihpLnByb3RvdHlwZSx7Z2V0IGlubmVySFRNTCgpe3JldHVybiBnKHRoaXMpfSxzZXQgaW5uZXJIVE1MKGEpe2lmKEQmJkNbdGhpcy5sb2NhbE5hbWVdKXJldHVybiB2b2lkKHRoaXMudGV4dENvbnRlbnQ9YSk7dmFyIGI9dih0aGlzLmNoaWxkTm9kZXMpO3RoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCk/dGhpcyBpbnN0YW5jZW9mIHkuSFRNTFRlbXBsYXRlRWxlbWVudD9oKHRoaXMuY29udGVudCxhKTpoKHRoaXMsYSx0aGlzLnRhZ05hbWUpOiFGJiZ0aGlzIGluc3RhbmNlb2YgeS5IVE1MVGVtcGxhdGVFbGVtZW50P2godGhpcy5jb250ZW50LGEpOnRoaXMuaW1wbC5pbm5lckhUTUw9YTt2YXIgYz12KHRoaXMuY2hpbGROb2Rlcyk7cSh0aGlzLCJjaGlsZExpc3QiLHthZGRlZE5vZGVzOmMscmVtb3ZlZE5vZGVzOmJ9KSx0KGIpLHMoYyx0aGlzKX0sZ2V0IG91dGVySFRNTCgpe3JldHVybiBmKHRoaXMsdGhpcy5wYXJlbnROb2RlKX0sc2V0IG91dGVySFRNTChhKXt2YXIgYj10aGlzLnBhcmVudE5vZGU7aWYoYil7Yi5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKTt2YXIgYz1qKGIsYSk7Yi5yZXBsYWNlQ2hpbGQoYyx0aGlzKX19LGluc2VydEFkamFjZW50SFRNTDpmdW5jdGlvbihhLGIpe3ZhciBjLGQ7c3dpdGNoKFN0cmluZyhhKS50b0xvd2VyQ2FzZSgpKXtjYXNlImJlZm9yZWJlZ2luIjpjPXRoaXMucGFyZW50Tm9kZSxkPXRoaXM7YnJlYWs7Y2FzZSJhZnRlcmVuZCI6Yz10aGlzLnBhcmVudE5vZGUsZD10aGlzLm5leHRTaWJsaW5nO2JyZWFrO2Nhc2UiYWZ0ZXJiZWdpbiI6Yz10aGlzLGQ9dGhpcy5maXJzdENoaWxkO2JyZWFrO2Nhc2UiYmVmb3JlZW5kIjpjPXRoaXMsZD1udWxsO2JyZWFrO2RlZmF1bHQ6cmV0dXJufXZhciBlPWooYyxiKTtjLmluc2VydEJlZm9yZShlLGQpfX0pLFsiY2xpZW50SGVpZ2h0IiwiY2xpZW50TGVmdCIsImNsaWVudFRvcCIsImNsaWVudFdpZHRoIiwib2Zmc2V0SGVpZ2h0Iiwib2Zmc2V0TGVmdCIsIm9mZnNldFRvcCIsIm9mZnNldFdpZHRoIiwic2Nyb2xsSGVpZ2h0Iiwic2Nyb2xsV2lkdGgiXS5mb3JFYWNoKGwpLFsic2Nyb2xsTGVmdCIsInNjcm9sbFRvcCJdLmZvckVhY2gobSksWyJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJnZXRDbGllbnRSZWN0cyIsInNjcm9sbEludG9WaWV3Il0uZm9yRWFjaChuKSx1KEUsaSxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiIikpLGEud3JhcHBlcnMuSFRNTEVsZW1lbnQ9aSxhLmdldElubmVySFRNTD1nLGEuc2V0SW5uZXJIVE1MPWh9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEud3JhcCxnPXdpbmRvdy5IVE1MQ2FudmFzRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtnZXRDb250ZXh0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pbXBsLmdldENvbnRleHQuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyk7cmV0dXJuIGEmJmYoYSl9fSksZShnLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikpLGEud3JhcHBlcnMuSFRNTENhbnZhc0VsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9d2luZG93LkhUTUxDb250ZW50RWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtnZXQgc2VsZWN0KCl7cmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKCJzZWxlY3QiKX0sc2V0IHNlbGVjdChhKXt0aGlzLnNldEF0dHJpYnV0ZSgic2VsZWN0IixhKX0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKGEsYil7Yy5wcm90b3R5cGUuc2V0QXR0cmlidXRlLmNhbGwodGhpcyxhLGIpLCJzZWxlY3QiPT09U3RyaW5nKGEpLnRvTG93ZXJDYXNlKCkmJnRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCEwKX19KSxmJiZlKGYsYiksYS53cmFwcGVycy5IVE1MQ29udGVudEVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtkLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBjKGEsYil7aWYoISh0aGlzIGluc3RhbmNlb2YgYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiRE9NIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uIik7dmFyIGU9Zihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKSk7ZC5jYWxsKHRoaXMsZSksZyhlLHRoaXMpLHZvaWQgMCE9PWEmJihlLndpZHRoPWEpLHZvaWQgMCE9PWImJihlLmhlaWdodD1iKX12YXIgZD1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLnVud3JhcCxnPWEucmV3cmFwLGg9d2luZG93LkhUTUxJbWFnZUVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSksZShoLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIikpLGMucHJvdG90eXBlPWIucHJvdG90eXBlLGEud3JhcHBlcnMuSFRNTEltYWdlRWxlbWVudD1iLGEud3JhcHBlcnMuSW1hZ2U9Y30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9KGEubWl4aW4sYS53cmFwcGVycy5Ob2RlTGlzdCxhLnJlZ2lzdGVyV3JhcHBlciksZT13aW5kb3cuSFRNTFNoYWRvd0VsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZSYmZChlLGIpLGEud3JhcHBlcnMuSFRNTFNoYWRvd0VsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtpZighYS5kZWZhdWx0VmlldylyZXR1cm4gYTt2YXIgYj1rLmdldChhKTtpZighYil7Zm9yKGI9YS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpO2IubGFzdENoaWxkOyliLnJlbW92ZUNoaWxkKGIubGFzdENoaWxkKTtrLnNldChhLGIpfXJldHVybiBifWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBjLGQ9YihhLm93bmVyRG9jdW1lbnQpLGU9aChkLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7Yz1hLmZpcnN0Q2hpbGQ7KWUuYXBwZW5kQ2hpbGQoYyk7cmV0dXJuIGV9ZnVuY3Rpb24gZChhKXtpZihlLmNhbGwodGhpcyxhKSwhbCl7dmFyIGI9YyhhKTtqLnNldCh0aGlzLGkoYikpfX12YXIgZT1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGY9YS5taXhpbixnPWEucmVnaXN0ZXJXcmFwcGVyLGg9YS51bndyYXAsaT1hLndyYXAsaj1uZXcgV2Vha01hcCxrPW5ldyBXZWFrTWFwLGw9d2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQ7ZC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSksZihkLnByb3RvdHlwZSx7Z2V0IGNvbnRlbnQoKXtyZXR1cm4gbD9pKHRoaXMuaW1wbC5jb250ZW50KTpqLmdldCh0aGlzKX19KSxsJiZnKGwsZCksYS53cmFwcGVycy5IVE1MVGVtcGxhdGVFbGVtZW50PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEucmVnaXN0ZXJXcmFwcGVyLGU9d2luZG93LkhUTUxNZWRpYUVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChlLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYXVkaW8iKSksYS53cmFwcGVycy5IVE1MTWVkaWFFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7ZC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gYyhhKXtpZighKHRoaXMgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4iKTt2YXIgYj1mKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImF1ZGlvIikpO2QuY2FsbCh0aGlzLGIpLGcoYix0aGlzKSxiLnNldEF0dHJpYnV0ZSgicHJlbG9hZCIsImF1dG8iKSx2b2lkIDAhPT1hJiZiLnNldEF0dHJpYnV0ZSgic3JjIixhKX12YXIgZD1hLndyYXBwZXJzLkhUTUxNZWRpYUVsZW1lbnQsZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW53cmFwLGc9YS5yZXdyYXAsaD13aW5kb3cuSFRNTEF1ZGlvRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxlKGgsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpKSxjLnByb3RvdHlwZT1iLnByb3RvdHlwZSxhLndyYXBwZXJzLkhUTUxBdWRpb0VsZW1lbnQ9YixhLndyYXBwZXJzLkF1ZGlvPWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGEucmVwbGFjZSgvXHMrL2csIiAiKS50cmltKCl9ZnVuY3Rpb24gYyhhKXtlLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBkKGEsYixjLGYpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkRPTSBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLiIpO3ZhciBnPWkoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpO2UuY2FsbCh0aGlzLGcpLGgoZyx0aGlzKSx2b2lkIDAhPT1hJiYoZy50ZXh0PWEpLHZvaWQgMCE9PWImJmcuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsYiksYz09PSEwJiZnLnNldEF0dHJpYnV0ZSgic2VsZWN0ZWQiLCIiKSxnLnNlbGVjdGVkPWY9PT0hMH12YXIgZT1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGY9YS5taXhpbixnPWEucmVnaXN0ZXJXcmFwcGVyLGg9YS5yZXdyYXAsaT1hLnVud3JhcCxqPWEud3JhcCxrPXdpbmRvdy5IVE1MT3B0aW9uRWxlbWVudDtjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlKSxmKGMucHJvdG90eXBlLHtnZXQgdGV4dCgpe3JldHVybiBiKHRoaXMudGV4dENvbnRlbnQpfSxzZXQgdGV4dChhKXt0aGlzLnRleHRDb250ZW50PWIoU3RyaW5nKGEpKX0sZ2V0IGZvcm0oKXtyZXR1cm4gaihpKHRoaXMpLmZvcm0pfX0pLGcoayxjLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKSxkLnByb3RvdHlwZT1jLnByb3RvdHlwZSxhLndyYXBwZXJzLkhUTUxPcHRpb25FbGVtZW50PWMsYS53cmFwcGVycy5PcHRpb249ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS51bndyYXAsZz1hLndyYXAsaD13aW5kb3cuSFRNTFNlbGVjdEVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7YWRkOmZ1bmN0aW9uKGEsYil7Im9iamVjdCI9PXR5cGVvZiBiJiYoYj1mKGIpKSxmKHRoaXMpLmFkZChmKGEpLGIpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMD09PWE/dm9pZCBjLnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzKTooIm9iamVjdCI9PXR5cGVvZiBhJiYoYT1mKGEpKSx2b2lkIGYodGhpcykucmVtb3ZlKGEpKX0sZ2V0IGZvcm0oKXtyZXR1cm4gZyhmKHRoaXMpLmZvcm0pfX0pLGUoaCxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpKSxhLndyYXBwZXJzLkhUTUxTZWxlY3RFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW53cmFwLGc9YS53cmFwLGg9YS53cmFwSFRNTENvbGxlY3Rpb24saT13aW5kb3cuSFRNTFRhYmxlRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtnZXQgY2FwdGlvbigpe3JldHVybiBnKGYodGhpcykuY2FwdGlvbil9LGNyZWF0ZUNhcHRpb246ZnVuY3Rpb24oKXtyZXR1cm4gZyhmKHRoaXMpLmNyZWF0ZUNhcHRpb24oKSl9LGdldCB0SGVhZCgpe3JldHVybiBnKGYodGhpcykudEhlYWQpfSxjcmVhdGVUSGVhZDpmdW5jdGlvbigpe3JldHVybiBnKGYodGhpcykuY3JlYXRlVEhlYWQoKSl9LGNyZWF0ZVRGb290OmZ1bmN0aW9uKCl7cmV0dXJuIGcoZih0aGlzKS5jcmVhdGVURm9vdCgpKX0sZ2V0IHRGb290KCl7cmV0dXJuIGcoZih0aGlzKS50Rm9vdCl9LGdldCB0Qm9kaWVzKCl7cmV0dXJuIGgoZih0aGlzKS50Qm9kaWVzKX0sY3JlYXRlVEJvZHk6ZnVuY3Rpb24oKXtyZXR1cm4gZyhmKHRoaXMpLmNyZWF0ZVRCb2R5KCkpfSxnZXQgcm93cygpe3JldHVybiBoKGYodGhpcykucm93cyl9LGluc2VydFJvdzpmdW5jdGlvbihhKXtyZXR1cm4gZyhmKHRoaXMpLmluc2VydFJvdyhhKSl9fSksZShpLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKSksYS53cmFwcGVycy5IVE1MVGFibGVFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEud3JhcEhUTUxDb2xsZWN0aW9uLGc9YS51bndyYXAsaD1hLndyYXAsaT13aW5kb3cuSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7Z2V0IHJvd3MoKXtyZXR1cm4gZihnKHRoaXMpLnJvd3MpfSxpbnNlcnRSb3c6ZnVuY3Rpb24oYSl7cmV0dXJuIGgoZyh0aGlzKS5pbnNlcnRSb3coYSkpfX0pLGUoaSxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRoZWFkIikpLGEud3JhcHBlcnMuSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS53cmFwSFRNTENvbGxlY3Rpb24sZz1hLnVud3JhcCxoPWEud3JhcCxpPXdpbmRvdy5IVE1MVGFibGVSb3dFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldCBjZWxscygpe3JldHVybiBmKGcodGhpcykuY2VsbHMpfSxpbnNlcnRDZWxsOmZ1bmN0aW9uKGEpe3JldHVybiBoKGcodGhpcykuaW5zZXJ0Q2VsbChhKSl9fSksZShpLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKSksYS53cmFwcGVycy5IVE1MVGFibGVSb3dFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7c3dpdGNoKGEubG9jYWxOYW1lKXtjYXNlImNvbnRlbnQiOnJldHVybiBuZXcgYyhhKTtjYXNlInNoYWRvdyI6cmV0dXJuIG5ldyBlKGEpO2Nhc2UidGVtcGxhdGUiOnJldHVybiBuZXcgZihhKX1kLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxDb250ZW50RWxlbWVudCxkPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZT1hLndyYXBwZXJzLkhUTUxTaGFkb3dFbGVtZW50LGY9YS53cmFwcGVycy5IVE1MVGVtcGxhdGVFbGVtZW50LGc9KGEubWl4aW4sYS5yZWdpc3RlcldyYXBwZXIpLGg9d2luZG93LkhUTUxVbmtub3duRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxnKGgsYiksYS53cmFwcGVycy5IVE1MVW5rbm93bkVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7dmFyIGI9YS5yZWdpc3Rlck9iamVjdCxjPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoYywidGl0bGUiKSxlPWIoZCksZj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZS5wcm90b3R5cGUpLmNvbnN0cnVjdG9yO2Eud3JhcHBlcnMuU1ZHRWxlbWVudD1mfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe20uY2FsbCh0aGlzLGEpfXZhciBjPWEubWl4aW4sZD1hLnJlZ2lzdGVyV3JhcHBlcixlPWEudW53cmFwLGY9YS53cmFwLGc9d2luZG93LlNWR1VzZUVsZW1lbnQsaD0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLGk9Zihkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoaCwiZyIpKSxqPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhoLCJ1c2UiKSxrPWkuY29uc3RydWN0b3IsbD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yoay5wcm90b3R5cGUpLG09bC5jb25zdHJ1Y3RvcjtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGwpLCJpbnN0YW5jZVJvb3QiaW4gaiYmYyhiLnByb3RvdHlwZSx7Z2V0IGluc3RhbmNlUm9vdCgpe3JldHVybiBmKGUodGhpcykuaW5zdGFuY2VSb290KX0sZ2V0IGFuaW1hdGVkSW5zdGFuY2VSb290KCl7cmV0dXJuIGYoZSh0aGlzKS5hbmltYXRlZEluc3RhbmNlUm9vdCl9fSksZChnLGIsaiksYS53cmFwcGVycy5TVkdVc2VFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5FdmVudFRhcmdldCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEud3JhcCxnPXdpbmRvdy5TVkdFbGVtZW50SW5zdGFuY2U7ZyYmKGIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldCBjb3JyZXNwb25kaW5nRWxlbWVudCgpe3JldHVybiBmKHRoaXMuaW1wbC5jb3JyZXNwb25kaW5nRWxlbWVudCl9LGdldCBjb3JyZXNwb25kaW5nVXNlRWxlbWVudCgpe3JldHVybiBmKHRoaXMuaW1wbC5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCl9LGdldCBwYXJlbnROb2RlKCl7cmV0dXJuIGYodGhpcy5pbXBsLnBhcmVudE5vZGUpfSxnZXQgY2hpbGROb2Rlcygpe3Rocm93IG5ldyBFcnJvcigiTm90IGltcGxlbWVudGVkIil9LGdldCBmaXJzdENoaWxkKCl7cmV0dXJuIGYodGhpcy5pbXBsLmZpcnN0Q2hpbGQpfSxnZXQgbGFzdENoaWxkKCl7cmV0dXJuIGYodGhpcy5pbXBsLmxhc3RDaGlsZCl9LGdldCBwcmV2aW91c1NpYmxpbmcoKXtyZXR1cm4gZih0aGlzLmltcGwucHJldmlvdXNTaWJsaW5nKX0sZ2V0IG5leHRTaWJsaW5nKCl7cmV0dXJuIGYodGhpcy5pbXBsLm5leHRTaWJsaW5nKX19KSxlKGcsYiksYS53cmFwcGVycy5TVkdFbGVtZW50SW5zdGFuY2U9Yil9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dGhpcy5pbXBsPWF9dmFyIGM9YS5taXhpbixkPWEucmVnaXN0ZXJXcmFwcGVyLGU9YS51bndyYXAsZj1hLnVud3JhcElmTmVlZGVkLGc9YS53cmFwLGg9d2luZG93LkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtjKGIucHJvdG90eXBlLHtnZXQgY2FudmFzKCl7cmV0dXJuIGcodGhpcy5pbXBsLmNhbnZhcyl9LGRyYXdJbWFnZTpmdW5jdGlvbigpe2FyZ3VtZW50c1swXT1mKGFyZ3VtZW50c1swXSksdGhpcy5pbXBsLmRyYXdJbWFnZS5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX0sY3JlYXRlUGF0dGVybjpmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF09ZShhcmd1bWVudHNbMF0pLHRoaXMuaW1wbC5jcmVhdGVQYXR0ZXJuLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfX0pLGQoaCxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLmdldENvbnRleHQoIjJkIikpLGEud3JhcHBlcnMuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dGhpcy5pbXBsPWF9dmFyIGM9YS5taXhpbixkPWEucmVnaXN0ZXJXcmFwcGVyLGU9YS51bndyYXBJZk5lZWRlZCxmPWEud3JhcCxnPXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQ7aWYoZyl7YyhiLnByb3RvdHlwZSx7Z2V0IGNhbnZhcygpe3JldHVybiBmKHRoaXMuaW1wbC5jYW52YXMpfSx0ZXhJbWFnZTJEOmZ1bmN0aW9uKCl7YXJndW1lbnRzWzVdPWUoYXJndW1lbnRzWzVdKSx0aGlzLmltcGwudGV4SW1hZ2UyRC5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX0sdGV4U3ViSW1hZ2UyRDpmdW5jdGlvbigpe2FyZ3VtZW50c1s2XT1lKGFyZ3VtZW50c1s2XSksdGhpcy5pbXBsLnRleFN1YkltYWdlMkQuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cykKfX0pO3ZhciBoPS9XZWJLaXQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk/e2RyYXdpbmdCdWZmZXJIZWlnaHQ6bnVsbCxkcmF3aW5nQnVmZmVyV2lkdGg6bnVsbH06e307ZChnLGIsaCksYS53cmFwcGVycy5XZWJHTFJlbmRlcmluZ0NvbnRleHQ9Yn19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dGhpcy5pbXBsPWF9dmFyIGM9YS5yZWdpc3RlcldyYXBwZXIsZD1hLnVud3JhcCxlPWEudW53cmFwSWZOZWVkZWQsZj1hLndyYXAsZz13aW5kb3cuUmFuZ2U7Yi5wcm90b3R5cGU9e2dldCBzdGFydENvbnRhaW5lcigpe3JldHVybiBmKHRoaXMuaW1wbC5zdGFydENvbnRhaW5lcil9LGdldCBlbmRDb250YWluZXIoKXtyZXR1cm4gZih0aGlzLmltcGwuZW5kQ29udGFpbmVyKX0sZ2V0IGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKCl7cmV0dXJuIGYodGhpcy5pbXBsLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKX0sc2V0U3RhcnQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmltcGwuc2V0U3RhcnQoZShhKSxiKX0sc2V0RW5kOmZ1bmN0aW9uKGEsYil7dGhpcy5pbXBsLnNldEVuZChlKGEpLGIpfSxzZXRTdGFydEJlZm9yZTpmdW5jdGlvbihhKXt0aGlzLmltcGwuc2V0U3RhcnRCZWZvcmUoZShhKSl9LHNldFN0YXJ0QWZ0ZXI6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNldFN0YXJ0QWZ0ZXIoZShhKSl9LHNldEVuZEJlZm9yZTpmdW5jdGlvbihhKXt0aGlzLmltcGwuc2V0RW5kQmVmb3JlKGUoYSkpfSxzZXRFbmRBZnRlcjpmdW5jdGlvbihhKXt0aGlzLmltcGwuc2V0RW5kQWZ0ZXIoZShhKSl9LHNlbGVjdE5vZGU6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNlbGVjdE5vZGUoZShhKSl9LHNlbGVjdE5vZGVDb250ZW50czpmdW5jdGlvbihhKXt0aGlzLmltcGwuc2VsZWN0Tm9kZUNvbnRlbnRzKGUoYSkpfSxjb21wYXJlQm91bmRhcnlQb2ludHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pbXBsLmNvbXBhcmVCb3VuZGFyeVBvaW50cyhhLGQoYikpfSxleHRyYWN0Q29udGVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLmltcGwuZXh0cmFjdENvbnRlbnRzKCkpfSxjbG9uZUNvbnRlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcy5pbXBsLmNsb25lQ29udGVudHMoKSl9LGluc2VydE5vZGU6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLmluc2VydE5vZGUoZShhKSl9LHN1cnJvdW5kQ29udGVudHM6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnN1cnJvdW5kQ29udGVudHMoZShhKSl9LGNsb25lUmFuZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLmltcGwuY2xvbmVSYW5nZSgpKX0saXNQb2ludEluUmFuZ2U6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pbXBsLmlzUG9pbnRJblJhbmdlKGUoYSksYil9LGNvbXBhcmVQb2ludDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmltcGwuY29tcGFyZVBvaW50KGUoYSksYil9LGludGVyc2VjdHNOb2RlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmltcGwuaW50ZXJzZWN0c05vZGUoZShhKSl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1wbC50b1N0cmluZygpfX0sZy5wcm90b3R5cGUuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50JiYoYi5wcm90b3R5cGUuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50PWZ1bmN0aW9uKGEpe3JldHVybiBmKHRoaXMuaW1wbC5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoYSkpfSksYyh3aW5kb3cuUmFuZ2UsYixkb2N1bWVudC5jcmVhdGVSYW5nZSgpKSxhLndyYXBwZXJzLlJhbmdlPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO3ZhciBiPWEuR2V0RWxlbWVudHNCeUludGVyZmFjZSxjPWEuUGFyZW50Tm9kZUludGVyZmFjZSxkPWEuU2VsZWN0b3JzSW50ZXJmYWNlLGU9YS5taXhpbixmPWEucmVnaXN0ZXJPYmplY3QsZz1mKGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7ZShnLnByb3RvdHlwZSxjKSxlKGcucHJvdG90eXBlLGQpLGUoZy5wcm90b3R5cGUsYik7dmFyIGg9Zihkb2N1bWVudC5jcmVhdGVDb21tZW50KCIiKSk7YS53cmFwcGVycy5Db21tZW50PWgsYS53cmFwcGVycy5Eb2N1bWVudEZyYWdtZW50PWd9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dmFyIGI9ayhhLmltcGwub3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO2MuY2FsbCh0aGlzLGIpLGkoYix0aGlzKTt2YXIgZT1hLnNoYWRvd1Jvb3Q7bS5zZXQodGhpcyxlKSx0aGlzLnRyZWVTY29wZV89bmV3IGQodGhpcyxnKGV8fGEpKSxsLnNldCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuRG9jdW1lbnRGcmFnbWVudCxkPWEuVHJlZVNjb3BlLGU9YS5lbGVtZW50RnJvbVBvaW50LGY9YS5nZXRJbm5lckhUTUwsZz1hLmdldFRyZWVTY29wZSxoPWEubWl4aW4saT1hLnJld3JhcCxqPWEuc2V0SW5uZXJIVE1MLGs9YS51bndyYXAsbD1uZXcgV2Vha01hcCxtPW5ldyBXZWFrTWFwLG49L1sgXHRcblxyXGZdLztiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxoKGIucHJvdG90eXBlLHtnZXQgaW5uZXJIVE1MKCl7cmV0dXJuIGYodGhpcyl9LHNldCBpbm5lckhUTUwoYSl7aih0aGlzLGEpLHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCl9LGdldCBvbGRlclNoYWRvd1Jvb3QoKXtyZXR1cm4gbS5nZXQodGhpcyl8fG51bGx9LGdldCBob3N0KCl7cmV0dXJuIGwuZ2V0KHRoaXMpfHxudWxsfSxpbnZhbGlkYXRlU2hhZG93UmVuZGVyZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbC5nZXQodGhpcykuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCl9LGVsZW1lbnRGcm9tUG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZSh0aGlzLHRoaXMub3duZXJEb2N1bWVudCxhLGIpfSxnZXRFbGVtZW50QnlJZDpmdW5jdGlvbihhKXtyZXR1cm4gbi50ZXN0KGEpP251bGw6dGhpcy5xdWVyeVNlbGVjdG9yKCdbaWQ9IicrYSsnIl0nKX19KSxhLndyYXBwZXJzLlNoYWRvd1Jvb3Q9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXthLnByZXZpb3VzU2libGluZ189YS5wcmV2aW91c1NpYmxpbmcsYS5uZXh0U2libGluZ189YS5uZXh0U2libGluZyxhLnBhcmVudE5vZGVfPWEucGFyZW50Tm9kZX1mdW5jdGlvbiBjKGEsYyxlKXt2YXIgZj1HKGEpLGc9RyhjKSxoPWU/RyhlKTpudWxsO2lmKGQoYyksYihjKSxlKWEuZmlyc3RDaGlsZD09PWUmJihhLmZpcnN0Q2hpbGRfPWUpLGUucHJldmlvdXNTaWJsaW5nXz1lLnByZXZpb3VzU2libGluZztlbHNle2EubGFzdENoaWxkXz1hLmxhc3RDaGlsZCxhLmxhc3RDaGlsZD09PWEuZmlyc3RDaGlsZCYmKGEuZmlyc3RDaGlsZF89YS5maXJzdENoaWxkKTt2YXIgaT1IKGYubGFzdENoaWxkKTtpJiYoaS5uZXh0U2libGluZ189aS5uZXh0U2libGluZyl9Zi5pbnNlcnRCZWZvcmUoZyxoKX1mdW5jdGlvbiBkKGEpe3ZhciBjPUcoYSksZD1jLnBhcmVudE5vZGU7aWYoZCl7dmFyIGU9SChkKTtiKGEpLGEucHJldmlvdXNTaWJsaW5nJiYoYS5wcmV2aW91c1NpYmxpbmcubmV4dFNpYmxpbmdfPWEpLGEubmV4dFNpYmxpbmcmJihhLm5leHRTaWJsaW5nLnByZXZpb3VzU2libGluZ189YSksZS5sYXN0Q2hpbGQ9PT1hJiYoZS5sYXN0Q2hpbGRfPWEpLGUuZmlyc3RDaGlsZD09PWEmJihlLmZpcnN0Q2hpbGRfPWEpLGQucmVtb3ZlQ2hpbGQoYyl9fWZ1bmN0aW9uIGUoYSl7SS5zZXQoYSxbXSl9ZnVuY3Rpb24gZihhKXt2YXIgYj1JLmdldChhKTtyZXR1cm4gYnx8SS5zZXQoYSxiPVtdKSxifWZ1bmN0aW9uIGcoYSl7Zm9yKHZhciBiPVtdLGM9MCxkPWEuZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZyliW2MrK109ZDtyZXR1cm4gYn1mdW5jdGlvbiBoKCl7Zm9yKHZhciBhPTA7YTxNLmxlbmd0aDthKyspe3ZhciBiPU1bYV0sYz1iLnBhcmVudFJlbmRlcmVyO2MmJmMuZGlydHl8fGIucmVuZGVyKCl9TT1bXX1mdW5jdGlvbiBpKCl7eT1udWxsLGgoKX1mdW5jdGlvbiBqKGEpe3ZhciBiPUsuZ2V0KGEpO3JldHVybiBifHwoYj1uZXcgbihhKSxLLnNldChhLGIpKSxifWZ1bmN0aW9uIGsoYSl7dmFyIGI9RShhKS5yb290O3JldHVybiBiIGluc3RhbmNlb2YgRD9iOm51bGx9ZnVuY3Rpb24gbChhKXtyZXR1cm4gaihhLmhvc3QpfWZ1bmN0aW9uIG0oYSl7dGhpcy5za2lwPSExLHRoaXMubm9kZT1hLHRoaXMuY2hpbGROb2Rlcz1bXX1mdW5jdGlvbiBuKGEpe3RoaXMuaG9zdD1hLHRoaXMuZGlydHk9ITEsdGhpcy5pbnZhbGlkYXRlQXR0cmlidXRlcygpLHRoaXMuYXNzb2NpYXRlTm9kZShhKX1mdW5jdGlvbiBvKGEpe2Zvcih2YXIgYj1bXSxjPWEuZmlyc3RDaGlsZDtjO2M9Yy5uZXh0U2libGluZyl2KGMpP2IucHVzaC5hcHBseShiLGYoYykpOmIucHVzaChjKTtyZXR1cm4gYn1mdW5jdGlvbiBwKGEpe2lmKGEgaW5zdGFuY2VvZiBCKXJldHVybiBhO2lmKGEgaW5zdGFuY2VvZiBBKXJldHVybiBudWxsO2Zvcih2YXIgYj1hLmZpcnN0Q2hpbGQ7YjtiPWIubmV4dFNpYmxpbmcpe3ZhciBjPXAoYik7aWYoYylyZXR1cm4gY31yZXR1cm4gbnVsbH1mdW5jdGlvbiBxKGEsYil7ZihiKS5wdXNoKGEpO3ZhciBjPUouZ2V0KGEpO2M/Yy5wdXNoKGIpOkouc2V0KGEsW2JdKX1mdW5jdGlvbiByKGEpe3JldHVybiBKLmdldChhKX1mdW5jdGlvbiBzKGEpe0ouc2V0KGEsdm9pZCAwKX1mdW5jdGlvbiB0KGEsYil7dmFyIGM9Yi5nZXRBdHRyaWJ1dGUoInNlbGVjdCIpO2lmKCFjKXJldHVybiEwO2lmKGM9Yy50cmltKCksIWMpcmV0dXJuITA7aWYoIShhIGluc3RhbmNlb2YgeikpcmV0dXJuITE7aWYoIU8udGVzdChjKSlyZXR1cm4hMTt0cnl7cmV0dXJuIGEubWF0Y2hlcyhjKX1jYXRjaChkKXtyZXR1cm4hMX19ZnVuY3Rpb24gdShhLGIpe3ZhciBjPXIoYik7cmV0dXJuIGMmJmNbYy5sZW5ndGgtMV09PT1hfWZ1bmN0aW9uIHYoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBBfHxhIGluc3RhbmNlb2YgQn1mdW5jdGlvbiB3KGEpe3JldHVybiBhLnNoYWRvd1Jvb3R9ZnVuY3Rpb24geChhKXtmb3IodmFyIGI9W10sYz1hLnNoYWRvd1Jvb3Q7YztjPWMub2xkZXJTaGFkb3dSb290KWIucHVzaChjKTtyZXR1cm4gYn12YXIgeSx6PWEud3JhcHBlcnMuRWxlbWVudCxBPWEud3JhcHBlcnMuSFRNTENvbnRlbnRFbGVtZW50LEI9YS53cmFwcGVycy5IVE1MU2hhZG93RWxlbWVudCxDPWEud3JhcHBlcnMuTm9kZSxEPWEud3JhcHBlcnMuU2hhZG93Um9vdCxFPShhLmFzc2VydCxhLmdldFRyZWVTY29wZSksRj0oYS5taXhpbixhLm9uZU9mKSxHPWEudW53cmFwLEg9YS53cmFwLEk9bmV3IFdlYWtNYXAsSj1uZXcgV2Vha01hcCxLPW5ldyBXZWFrTWFwLEw9Rih3aW5kb3csWyJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzZXRUaW1lb3V0Il0pLE09W10sTj1uZXcgQXJyYXlTcGxpY2U7Ti5lcXVhbHM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gRyhhLm5vZGUpPT09Yn0sbS5wcm90b3R5cGU9e2FwcGVuZDpmdW5jdGlvbihhKXt2YXIgYj1uZXcgbShhKTtyZXR1cm4gdGhpcy5jaGlsZE5vZGVzLnB1c2goYiksYn0sc3luYzpmdW5jdGlvbihhKXtpZighdGhpcy5za2lwKXtmb3IodmFyIGI9dGhpcy5ub2RlLGU9dGhpcy5jaGlsZE5vZGVzLGY9ZyhHKGIpKSxoPWF8fG5ldyBXZWFrTWFwLGk9Ti5jYWxjdWxhdGVTcGxpY2VzKGUsZiksaj0wLGs9MCxsPTAsbT0wO208aS5sZW5ndGg7bSsrKXtmb3IodmFyIG49aVttXTtsPG4uaW5kZXg7bCsrKWsrKyxlW2orK10uc3luYyhoKTtmb3IodmFyIG89bi5yZW1vdmVkLmxlbmd0aCxwPTA7bz5wO3ArKyl7dmFyIHE9SChmW2srK10pO2guZ2V0KHEpfHxkKHEpfWZvcih2YXIgcj1uLmFkZGVkQ291bnQscz1mW2tdJiZIKGZba10pLHA9MDtyPnA7cCsrKXt2YXIgdD1lW2orK10sdT10Lm5vZGU7YyhiLHUscyksaC5zZXQodSwhMCksdC5zeW5jKGgpfWwrPXJ9Zm9yKHZhciBtPWw7bTxlLmxlbmd0aDttKyspZVttXS5zeW5jKGgpfX19LG4ucHJvdG90eXBlPXtyZW5kZXI6ZnVuY3Rpb24oYSl7aWYodGhpcy5kaXJ0eSl7dGhpcy5pbnZhbGlkYXRlQXR0cmlidXRlcygpO3ZhciBiPXRoaXMuaG9zdDt0aGlzLmRpc3RyaWJ1dGlvbihiKTt2YXIgYz1hfHxuZXcgbShiKTt0aGlzLmJ1aWxkUmVuZGVyVHJlZShjLGIpO3ZhciBkPSFhO2QmJmMuc3luYygpLHRoaXMuZGlydHk9ITF9fSxnZXQgcGFyZW50UmVuZGVyZXIoKXtyZXR1cm4gRSh0aGlzLmhvc3QpLnJlbmRlcmVyfSxpbnZhbGlkYXRlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuZGlydHkpe2lmKHRoaXMuZGlydHk9ITAsTS5wdXNoKHRoaXMpLHkpcmV0dXJuO3k9d2luZG93W0xdKGksMCl9fSxkaXN0cmlidXRpb246ZnVuY3Rpb24oYSl7dGhpcy5yZXNldEFsbChhKSx0aGlzLmRpc3RyaWJ1dGlvblJlc29sdXRpb24oYSl9LHJlc2V0QWxsOmZ1bmN0aW9uKGEpe3YoYSk/ZShhKTpzKGEpO2Zvcih2YXIgYj1hLmZpcnN0Q2hpbGQ7YjtiPWIubmV4dFNpYmxpbmcpdGhpcy5yZXNldEFsbChiKTthLnNoYWRvd1Jvb3QmJnRoaXMucmVzZXRBbGwoYS5zaGFkb3dSb290KSxhLm9sZGVyU2hhZG93Um9vdCYmdGhpcy5yZXNldEFsbChhLm9sZGVyU2hhZG93Um9vdCl9LGRpc3RyaWJ1dGlvblJlc29sdXRpb246ZnVuY3Rpb24oYSl7aWYodyhhKSl7Zm9yKHZhciBiPWEsYz1vKGIpLGQ9eChiKSxlPTA7ZTxkLmxlbmd0aDtlKyspdGhpcy5wb29sRGlzdHJpYnV0aW9uKGRbZV0sYyk7Zm9yKHZhciBlPWQubGVuZ3RoLTE7ZT49MDtlLS0pe3ZhciBmPWRbZV0sZz1wKGYpO2lmKGcpe3ZhciBoPWYub2xkZXJTaGFkb3dSb290O2gmJihjPW8oaCkpO2Zvcih2YXIgaT0wO2k8Yy5sZW5ndGg7aSsrKXEoY1tpXSxnKX1lbHNlIHRoaXMuZGlzdHJpYnV0aW9uUmVzb2x1dGlvbihmKX19Zm9yKHZhciBqPWEuZmlyc3RDaGlsZDtqO2o9ai5uZXh0U2libGluZyl0aGlzLmRpc3RyaWJ1dGlvblJlc29sdXRpb24oail9LHBvb2xEaXN0cmlidXRpb246ZnVuY3Rpb24oYSxiKXtpZighKGEgaW5zdGFuY2VvZiBCKSlpZihhIGluc3RhbmNlb2YgQSl7dmFyIGM9YTt0aGlzLnVwZGF0ZURlcGVuZGVudEF0dHJpYnV0ZXMoYy5nZXRBdHRyaWJ1dGUoInNlbGVjdCIpKTtmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGE9YltkXTthJiZ0KGEsYykmJihxKGEsYyksYltkXT12b2lkIDApfXZhciBlPWYoYyk7aWYoZSYmMD09PWUubGVuZ3RoKWZvcih2YXIgZz1jLmZpcnN0Q2hpbGQ7ZztnPWcubmV4dFNpYmxpbmcpcShnLGMpfWVsc2UgZm9yKHZhciBnPWEuZmlyc3RDaGlsZDtnO2c9Zy5uZXh0U2libGluZyl0aGlzLnBvb2xEaXN0cmlidXRpb24oZyxiKX0sYnVpbGRSZW5kZXJUcmVlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuY29tcG9zZShiKSxkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF0sZj1hLmFwcGVuZChlKTt0aGlzLmJ1aWxkUmVuZGVyVHJlZShmLGUpfWlmKHcoYikpe3ZhciBnPWooYik7Zy5kaXJ0eT0hMX19LGNvbXBvc2U6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9YS5zaGFkb3dSb290fHxhLGQ9Yy5maXJzdENoaWxkO2Q7ZD1kLm5leHRTaWJsaW5nKWlmKHYoZCkpe3RoaXMuYXNzb2NpYXRlTm9kZShjKTtmb3IodmFyIGU9ZihkKSxnPTA7ZzxlLmxlbmd0aDtnKyspe3ZhciBoPWVbZ107dShkLGgpJiZiLnB1c2goaCl9fWVsc2UgYi5wdXNoKGQpO3JldHVybiBifSxpbnZhbGlkYXRlQXR0cmlidXRlczpmdW5jdGlvbigpe3RoaXMuYXR0cmlidXRlcz1PYmplY3QuY3JlYXRlKG51bGwpfSx1cGRhdGVEZXBlbmRlbnRBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEpe2lmKGEpe3ZhciBiPXRoaXMuYXR0cmlidXRlczsvXC5cdysvLnRlc3QoYSkmJihiWyJjbGFzcyJdPSEwKSwvI1x3Ky8udGVzdChhKSYmKGIuaWQ9ITApLGEucmVwbGFjZSgvXFtccyooW15ccz1cfH5cXV0rKS9nLGZ1bmN0aW9uKGEsYyl7YltjXT0hMH0pfX0sZGVwZW5kc09uQXR0cmlidXRlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXNbYV19LGFzc29jaWF0ZU5vZGU6ZnVuY3Rpb24oYSl7YS5pbXBsLnBvbHltZXJTaGFkb3dSZW5kZXJlcl89dGhpc319O3ZhciBPPS9eWyouI1thLXpBLVpffF0vO0MucHJvdG90eXBlLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaW1wbC5wb2x5bWVyU2hhZG93UmVuZGVyZXJfO3JldHVybiBhPyhhLmludmFsaWRhdGUoKSwhMCk6ITF9LEEucHJvdG90eXBlLmdldERpc3RyaWJ1dGVkTm9kZXM9Qi5wcm90b3R5cGUuZ2V0RGlzdHJpYnV0ZWROb2Rlcz1mdW5jdGlvbigpe3JldHVybiBoKCksZih0aGlzKX0sei5wcm90b3R5cGUuZ2V0RGVzdGluYXRpb25JbnNlcnRpb25Qb2ludHM9ZnVuY3Rpb24oKXtyZXR1cm4gaCgpLHIodGhpcyl8fFtdfSxBLnByb3RvdHlwZS5ub2RlSXNJbnNlcnRlZF89Qi5wcm90b3R5cGUubm9kZUlzSW5zZXJ0ZWRfPWZ1bmN0aW9uKCl7dGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKTt2YXIgYSxiPWsodGhpcyk7YiYmKGE9bChiKSksdGhpcy5pbXBsLnBvbHltZXJTaGFkb3dSZW5kZXJlcl89YSxhJiZhLmludmFsaWRhdGUoKX0sYS5nZXRSZW5kZXJlckZvckhvc3Q9aixhLmdldFNoYWRvd1RyZWVzPXgsYS5yZW5kZXJBbGxQZW5kaW5nPWgsYS5nZXREZXN0aW5hdGlvbkluc2VydGlvblBvaW50cz1yLGEudmlzdWFsPXtpbnNlcnRCZWZvcmU6YyxyZW1vdmU6ZH19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYil7aWYod2luZG93W2JdKXtkKCFhLndyYXBwZXJzW2JdKTt2YXIgaT1mdW5jdGlvbihhKXtjLmNhbGwodGhpcyxhKX07aS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZShpLnByb3RvdHlwZSx7Z2V0IGZvcm0oKXtyZXR1cm4gaChnKHRoaXMpLmZvcm0pfX0pLGYod2luZG93W2JdLGksZG9jdW1lbnQuY3JlYXRlRWxlbWVudChiLnNsaWNlKDQsLTcpKSksYS53cmFwcGVyc1tiXT1pfX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5hc3NlcnQsZT1hLm1peGluLGY9YS5yZWdpc3RlcldyYXBwZXIsZz1hLnVud3JhcCxoPWEud3JhcCxpPVsiSFRNTEJ1dHRvbkVsZW1lbnQiLCJIVE1MRmllbGRTZXRFbGVtZW50IiwiSFRNTElucHV0RWxlbWVudCIsIkhUTUxLZXlnZW5FbGVtZW50IiwiSFRNTExhYmVsRWxlbWVudCIsIkhUTUxMZWdlbmRFbGVtZW50IiwiSFRNTE9iamVjdEVsZW1lbnQiLCJIVE1MT3V0cHV0RWxlbWVudCIsIkhUTUxUZXh0QXJlYUVsZW1lbnQiXTtpLmZvckVhY2goYil9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dGhpcy5pbXBsPWF9e3ZhciBjPWEucmVnaXN0ZXJXcmFwcGVyLGQ9YS51bndyYXAsZT1hLnVud3JhcElmTmVlZGVkLGY9YS53cmFwO3dpbmRvdy5TZWxlY3Rpb259Yi5wcm90b3R5cGU9e2dldCBhbmNob3JOb2RlKCl7cmV0dXJuIGYodGhpcy5pbXBsLmFuY2hvck5vZGUpfSxnZXQgZm9jdXNOb2RlKCl7cmV0dXJuIGYodGhpcy5pbXBsLmZvY3VzTm9kZSl9LGFkZFJhbmdlOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5hZGRSYW5nZShkKGEpKX0sY29sbGFwc2U6ZnVuY3Rpb24oYSxiKXt0aGlzLmltcGwuY29sbGFwc2UoZShhKSxiKX0sY29udGFpbnNOb2RlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaW1wbC5jb250YWluc05vZGUoZShhKSxiKX0sZXh0ZW5kOmZ1bmN0aW9uKGEsYil7dGhpcy5pbXBsLmV4dGVuZChlKGEpLGIpfSxnZXRSYW5nZUF0OmZ1bmN0aW9uKGEpe3JldHVybiBmKHRoaXMuaW1wbC5nZXRSYW5nZUF0KGEpKX0scmVtb3ZlUmFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnJlbW92ZVJhbmdlKGQoYSkpfSxzZWxlY3RBbGxDaGlsZHJlbjpmdW5jdGlvbihhKXt0aGlzLmltcGwuc2VsZWN0QWxsQ2hpbGRyZW4oZShhKSl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1wbC50b1N0cmluZygpfX0sYyh3aW5kb3cuU2VsZWN0aW9uLGIsd2luZG93LmdldFNlbGVjdGlvbigpKSxhLndyYXBwZXJzLlNlbGVjdGlvbj1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2suY2FsbCh0aGlzLGEpLHRoaXMudHJlZVNjb3BlXz1uZXcgcCh0aGlzLG51bGwpfWZ1bmN0aW9uIGMoYSl7dmFyIGM9ZG9jdW1lbnRbYV07Yi5wcm90b3R5cGVbYV09ZnVuY3Rpb24oKXtyZXR1cm4gQShjLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpKX19ZnVuY3Rpb24gZChhLGIpe0QuY2FsbChiLmltcGwseihhKSksZShhLGIpfWZ1bmN0aW9uIGUoYSxiKXthLnNoYWRvd1Jvb3QmJmIuYWRvcHROb2RlKGEuc2hhZG93Um9vdCksYSBpbnN0YW5jZW9mIG8mJmYoYSxiKTtmb3IodmFyIGM9YS5maXJzdENoaWxkO2M7Yz1jLm5leHRTaWJsaW5nKWUoYyxiKX1mdW5jdGlvbiBmKGEsYil7dmFyIGM9YS5vbGRlclNoYWRvd1Jvb3Q7YyYmYi5hZG9wdE5vZGUoYyl9ZnVuY3Rpb24gZyhhKXt0aGlzLmltcGw9YX1mdW5jdGlvbiBoKGEsYil7dmFyIGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb25bYl07YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXtyZXR1cm4gQShjLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpKX19ZnVuY3Rpb24gaShhLGIpe3ZhciBjPWRvY3VtZW50LmltcGxlbWVudGF0aW9uW2JdO2EucHJvdG90eXBlW2JdPWZ1bmN0aW9uKCl7cmV0dXJuIGMuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyl9fXZhciBqPWEuR2V0RWxlbWVudHNCeUludGVyZmFjZSxrPWEud3JhcHBlcnMuTm9kZSxsPWEuUGFyZW50Tm9kZUludGVyZmFjZSxtPWEud3JhcHBlcnMuU2VsZWN0aW9uLG49YS5TZWxlY3RvcnNJbnRlcmZhY2Usbz1hLndyYXBwZXJzLlNoYWRvd1Jvb3QscD1hLlRyZWVTY29wZSxxPWEuY2xvbmVOb2RlLHI9YS5kZWZpbmVXcmFwR2V0dGVyLHM9YS5lbGVtZW50RnJvbVBvaW50LHQ9YS5mb3J3YXJkTWV0aG9kc1RvV3JhcHBlcix1PWEubWF0Y2hlc05hbWVzLHY9YS5taXhpbix3PWEucmVnaXN0ZXJXcmFwcGVyLHg9YS5yZW5kZXJBbGxQZW5kaW5nLHk9YS5yZXdyYXAsej1hLnVud3JhcCxBPWEud3JhcCxCPWEud3JhcEV2ZW50VGFyZ2V0TWV0aG9kcyxDPShhLndyYXBOb2RlTGlzdCxuZXcgV2Vha01hcCk7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShrLnByb3RvdHlwZSkscihiLCJkb2N1bWVudEVsZW1lbnQiKSxyKGIsImJvZHkiKSxyKGIsImhlYWQiKSxbImNyZWF0ZUNvbW1lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY3JlYXRlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnROUyIsImNyZWF0ZUV2ZW50IiwiY3JlYXRlRXZlbnROUyIsImNyZWF0ZVJhbmdlIiwiY3JlYXRlVGV4dE5vZGUiLCJnZXRFbGVtZW50QnlJZCJdLmZvckVhY2goYyk7dmFyIEQ9ZG9jdW1lbnQuYWRvcHROb2RlLEU9ZG9jdW1lbnQuZ2V0U2VsZWN0aW9uO2lmKHYoYi5wcm90b3R5cGUse2Fkb3B0Tm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSksZChhLHRoaXMpLGF9LGVsZW1lbnRGcm9tUG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcyh0aGlzLHRoaXMsYSxiKX0saW1wb3J0Tm9kZTpmdW5jdGlvbihhLGIpe3JldHVybiBxKGEsYix0aGlzLmltcGwpfSxnZXRTZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4geCgpLG5ldyBtKEUuY2FsbCh6KHRoaXMpKSl9fSksZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50KXt2YXIgRj1kb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ7Yi5wcm90b3R5cGUucmVnaXN0ZXJFbGVtZW50PWZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZChhKXtyZXR1cm4gYT92b2lkKHRoaXMuaW1wbD1hKTpmP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZixiKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KGIpfXZhciBlLGY7aWYodm9pZCAwIT09YyYmKGU9Yy5wcm90b3R5cGUsZj1jLmV4dGVuZHMpLGV8fChlPU9iamVjdC5jcmVhdGUoSFRNTEVsZW1lbnQucHJvdG90eXBlKSksYS5uYXRpdmVQcm90b3R5cGVUYWJsZS5nZXQoZSkpdGhyb3cgbmV3IEVycm9yKCJOb3RTdXBwb3J0ZWRFcnJvciIpO2Zvcih2YXIgZyxoPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKSxpPVtdO2gmJiEoZz1hLm5hdGl2ZVByb3RvdHlwZVRhYmxlLmdldChoKSk7KWkucHVzaChoKSxoPU9iamVjdC5nZXRQcm90b3R5cGVPZihoKTtpZighZyl0aHJvdyBuZXcgRXJyb3IoIk5vdFN1cHBvcnRlZEVycm9yIik7Zm9yKHZhciBqPU9iamVjdC5jcmVhdGUoZyksaz1pLmxlbmd0aC0xO2s+PTA7ay0tKWo9T2JqZWN0LmNyZWF0ZShqKTtbImNyZWF0ZWRDYWxsYmFjayIsImF0dGFjaGVkQ2FsbGJhY2siLCJkZXRhY2hlZENhbGxiYWNrIiwiYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrIl0uZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1lW2FdO2ImJihqW2FdPWZ1bmN0aW9uKCl7QSh0aGlzKWluc3RhbmNlb2YgZHx8eSh0aGlzKSxiLmFwcGx5KEEodGhpcyksYXJndW1lbnRzKX0pfSk7dmFyIGw9e3Byb3RvdHlwZTpqfTtmJiYobC5leHRlbmRzPWYpLGQucHJvdG90eXBlPWUsZC5wcm90b3R5cGUuY29uc3RydWN0b3I9ZCxhLmNvbnN0cnVjdG9yVGFibGUuc2V0KGosZCksYS5uYXRpdmVQcm90b3R5cGVUYWJsZS5zZXQoZSxqKTtGLmNhbGwoeih0aGlzKSxiLGwpO3JldHVybiBkfSx0KFt3aW5kb3cuSFRNTERvY3VtZW50fHx3aW5kb3cuRG9jdW1lbnRdLFsicmVnaXN0ZXJFbGVtZW50Il0pfXQoW3dpbmRvdy5IVE1MQm9keUVsZW1lbnQsd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50LHdpbmRvdy5IVE1MSGVhZEVsZW1lbnQsd2luZG93LkhUTUxIdG1sRWxlbWVudF0sWyJhcHBlbmRDaGlsZCIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwiY29udGFpbnMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZU5TIiwiaW5zZXJ0QmVmb3JlIiwicXVlcnlTZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZW1vdmVDaGlsZCIsInJlcGxhY2VDaGlsZCJdLmNvbmNhdCh1KSksdChbd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50XSxbImFkb3B0Tm9kZSIsImltcG9ydE5vZGUiLCJjb250YWlucyIsImNyZWF0ZUNvbW1lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY3JlYXRlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnROUyIsImNyZWF0ZUV2ZW50IiwiY3JlYXRlRXZlbnROUyIsImNyZWF0ZVJhbmdlIiwiY3JlYXRlVGV4dE5vZGUiLCJlbGVtZW50RnJvbVBvaW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRTZWxlY3Rpb24iXSksdihiLnByb3RvdHlwZSxqKSx2KGIucHJvdG90eXBlLGwpLHYoYi5wcm90b3R5cGUsbiksdihiLnByb3RvdHlwZSx7Z2V0IGltcGxlbWVudGF0aW9uKCl7dmFyIGE9Qy5nZXQodGhpcyk7cmV0dXJuIGE/YTooYT1uZXcgZyh6KHRoaXMpLmltcGxlbWVudGF0aW9uKSxDLnNldCh0aGlzLGEpLGEpfSxnZXQgZGVmYXVsdFZpZXcoKXtyZXR1cm4gQSh6KHRoaXMpLmRlZmF1bHRWaWV3KX19KSx3KHdpbmRvdy5Eb2N1bWVudCxiLGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikpLHdpbmRvdy5IVE1MRG9jdW1lbnQmJncod2luZG93LkhUTUxEb2N1bWVudCxiKSxCKFt3aW5kb3cuSFRNTEJvZHlFbGVtZW50LHdpbmRvdy5IVE1MRG9jdW1lbnR8fHdpbmRvdy5Eb2N1bWVudCx3aW5kb3cuSFRNTEhlYWRFbGVtZW50XSksaChnLCJjcmVhdGVEb2N1bWVudFR5cGUiKSxoKGcsImNyZWF0ZURvY3VtZW50IiksaChnLCJjcmVhdGVIVE1MRG9jdW1lbnQiKSxpKGcsImhhc0ZlYXR1cmUiKSx3KHdpbmRvdy5ET01JbXBsZW1lbnRhdGlvbixnKSx0KFt3aW5kb3cuRE9NSW1wbGVtZW50YXRpb25dLFsiY3JlYXRlRG9jdW1lbnRUeXBlIiwiY3JlYXRlRG9jdW1lbnQiLCJjcmVhdGVIVE1MRG9jdW1lbnQiLCJoYXNGZWF0dXJlIl0pLGEuYWRvcHROb2RlTm9SZW1vdmU9ZCxhLndyYXBwZXJzLkRPTUltcGxlbWVudGF0aW9uPWcsYS53cmFwcGVycy5Eb2N1bWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuRXZlbnRUYXJnZXQsZD1hLndyYXBwZXJzLlNlbGVjdGlvbixlPWEubWl4aW4sZj1hLnJlZ2lzdGVyV3JhcHBlcixnPWEucmVuZGVyQWxsUGVuZGluZyxoPWEudW53cmFwLGk9YS51bndyYXBJZk5lZWRlZCxqPWEud3JhcCxrPXdpbmRvdy5XaW5kb3csbD13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSxtPXdpbmRvdy5nZXRTZWxlY3Rpb247Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksay5wcm90b3R5cGUuZ2V0Q29tcHV0ZWRTdHlsZT1mdW5jdGlvbihhLGIpe3JldHVybiBqKHRoaXN8fHdpbmRvdykuZ2V0Q29tcHV0ZWRTdHlsZShpKGEpLGIpfSxrLnByb3RvdHlwZS5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gaih0aGlzfHx3aW5kb3cpLmdldFNlbGVjdGlvbigpfSxkZWxldGUgd2luZG93LmdldENvbXB1dGVkU3R5bGUsZGVsZXRlIHdpbmRvdy5nZXRTZWxlY3Rpb24sWyJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpc3BhdGNoRXZlbnQiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2sucHJvdG90eXBlW2FdPWZ1bmN0aW9uKCl7dmFyIGI9aih0aGlzfHx3aW5kb3cpO3JldHVybiBiW2FdLmFwcGx5KGIsYXJndW1lbnRzKX0sZGVsZXRlIHdpbmRvd1thXX0pLGUoYi5wcm90b3R5cGUse2dldENvbXB1dGVkU3R5bGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZygpLGwuY2FsbChoKHRoaXMpLGkoYSksYil9LGdldFNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiBnKCksbmV3IGQobS5jYWxsKGgodGhpcykpKX0sZ2V0IGRvY3VtZW50KCl7cmV0dXJuIGooaCh0aGlzKS5kb2N1bWVudCl9fSksZihrLGIsd2luZG93KSxhLndyYXBwZXJzLldpbmRvdz1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgYj1hLnVud3JhcCxjPXdpbmRvdy5EYXRhVHJhbnNmZXJ8fHdpbmRvdy5DbGlwYm9hcmQsZD1jLnByb3RvdHlwZS5zZXREcmFnSW1hZ2U7Yy5wcm90b3R5cGUuc2V0RHJhZ0ltYWdlPWZ1bmN0aW9uKGEsYyxlKXtkLmNhbGwodGhpcyxiKGEpLGMsZSl9fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3ZhciBiPWNbYV0sZD13aW5kb3dbYl07aWYoZCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKSxmPWUuY29uc3RydWN0b3I7d2luZG93W2JdPWZ9fXZhciBjPShhLmlzV3JhcHBlckZvcix7YToiSFRNTEFuY2hvckVsZW1lbnQiLGFyZWE6IkhUTUxBcmVhRWxlbWVudCIsYXVkaW86IkhUTUxBdWRpb0VsZW1lbnQiLGJhc2U6IkhUTUxCYXNlRWxlbWVudCIsYm9keToiSFRNTEJvZHlFbGVtZW50IixicjoiSFRNTEJSRWxlbWVudCIsYnV0dG9uOiJIVE1MQnV0dG9uRWxlbWVudCIsY2FudmFzOiJIVE1MQ2FudmFzRWxlbWVudCIsY2FwdGlvbjoiSFRNTFRhYmxlQ2FwdGlvbkVsZW1lbnQiLGNvbDoiSFRNTFRhYmxlQ29sRWxlbWVudCIsY29udGVudDoiSFRNTENvbnRlbnRFbGVtZW50IixkYXRhOiJIVE1MRGF0YUVsZW1lbnQiLGRhdGFsaXN0OiJIVE1MRGF0YUxpc3RFbGVtZW50IixkZWw6IkhUTUxNb2RFbGVtZW50IixkaXI6IkhUTUxEaXJlY3RvcnlFbGVtZW50IixkaXY6IkhUTUxEaXZFbGVtZW50IixkbDoiSFRNTERMaXN0RWxlbWVudCIsZW1iZWQ6IkhUTUxFbWJlZEVsZW1lbnQiLGZpZWxkc2V0OiJIVE1MRmllbGRTZXRFbGVtZW50Iixmb250OiJIVE1MRm9udEVsZW1lbnQiLGZvcm06IkhUTUxGb3JtRWxlbWVudCIsZnJhbWU6IkhUTUxGcmFtZUVsZW1lbnQiLGZyYW1lc2V0OiJIVE1MRnJhbWVTZXRFbGVtZW50IixoMToiSFRNTEhlYWRpbmdFbGVtZW50IixoZWFkOiJIVE1MSGVhZEVsZW1lbnQiLGhyOiJIVE1MSFJFbGVtZW50IixodG1sOiJIVE1MSHRtbEVsZW1lbnQiLGlmcmFtZToiSFRNTElGcmFtZUVsZW1lbnQiLGltZzoiSFRNTEltYWdlRWxlbWVudCIsaW5wdXQ6IkhUTUxJbnB1dEVsZW1lbnQiLGtleWdlbjoiSFRNTEtleWdlbkVsZW1lbnQiLGxhYmVsOiJIVE1MTGFiZWxFbGVtZW50IixsZWdlbmQ6IkhUTUxMZWdlbmRFbGVtZW50IixsaToiSFRNTExJRWxlbWVudCIsbGluazoiSFRNTExpbmtFbGVtZW50IixtYXA6IkhUTUxNYXBFbGVtZW50IixtYXJxdWVlOiJIVE1MTWFycXVlZUVsZW1lbnQiLG1lbnU6IkhUTUxNZW51RWxlbWVudCIsbWVudWl0ZW06IkhUTUxNZW51SXRlbUVsZW1lbnQiLG1ldGE6IkhUTUxNZXRhRWxlbWVudCIsbWV0ZXI6IkhUTUxNZXRlckVsZW1lbnQiLG9iamVjdDoiSFRNTE9iamVjdEVsZW1lbnQiLG9sOiJIVE1MT0xpc3RFbGVtZW50IixvcHRncm91cDoiSFRNTE9wdEdyb3VwRWxlbWVudCIsb3B0aW9uOiJIVE1MT3B0aW9uRWxlbWVudCIsb3V0cHV0OiJIVE1MT3V0cHV0RWxlbWVudCIscDoiSFRNTFBhcmFncmFwaEVsZW1lbnQiLHBhcmFtOiJIVE1MUGFyYW1FbGVtZW50IixwcmU6IkhUTUxQcmVFbGVtZW50Iixwcm9ncmVzczoiSFRNTFByb2dyZXNzRWxlbWVudCIscToiSFRNTFF1b3RlRWxlbWVudCIsc2NyaXB0OiJIVE1MU2NyaXB0RWxlbWVudCIsc2VsZWN0OiJIVE1MU2VsZWN0RWxlbWVudCIsc2hhZG93OiJIVE1MU2hhZG93RWxlbWVudCIsc291cmNlOiJIVE1MU291cmNlRWxlbWVudCIsc3BhbjoiSFRNTFNwYW5FbGVtZW50IixzdHlsZToiSFRNTFN0eWxlRWxlbWVudCIsdGFibGU6IkhUTUxUYWJsZUVsZW1lbnQiLHRib2R5OiJIVE1MVGFibGVTZWN0aW9uRWxlbWVudCIsdGVtcGxhdGU6IkhUTUxUZW1wbGF0ZUVsZW1lbnQiLHRleHRhcmVhOiJIVE1MVGV4dEFyZWFFbGVtZW50Iix0aGVhZDoiSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQiLHRpbWU6IkhUTUxUaW1lRWxlbWVudCIsdGl0bGU6IkhUTUxUaXRsZUVsZW1lbnQiLHRyOiJIVE1MVGFibGVSb3dFbGVtZW50Iix0cmFjazoiSFRNTFRyYWNrRWxlbWVudCIsdWw6IkhUTUxVTGlzdEVsZW1lbnQiLHZpZGVvOiJIVE1MVmlkZW9FbGVtZW50In0pO09iamVjdC5rZXlzKGMpLmZvckVhY2goYiksT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYS53cmFwcGVycykuZm9yRWFjaChmdW5jdGlvbihiKXt3aW5kb3dbYl09YS53cmFwcGVyc1tiXX0pfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKCl7d2luZG93LndyYXA9U2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkLHdpbmRvdy51bndyYXA9U2hhZG93RE9NUG9seWZpbGwudW53cmFwSWZOZWVkZWQsT2JqZWN0LmRlZmluZVByb3BlcnR5KEVsZW1lbnQucHJvdG90eXBlLCJ3ZWJraXRTaGFkb3dSb290IixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEVsZW1lbnQucHJvdG90eXBlLCJzaGFkb3dSb290IikpO3ZhciBhPUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3Q7RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdD1mdW5jdGlvbigpe3ZhciBiPWEuY2FsbCh0aGlzKTtyZXR1cm4gQ3VzdG9tRWxlbWVudHMud2F0Y2hTaGFkb3codGhpcyksYn0sRWxlbWVudC5wcm90b3R5cGUud2Via2l0Q3JlYXRlU2hhZG93Um9vdD1FbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290fSgpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiKXt2YXIgYz0iIjtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2MrPWEudGV4dENvbnRlbnQrIlxuXG4ifSksYnx8KGM9Yy5yZXBsYWNlKGwsIiIpKSxjfWZ1bmN0aW9uIGMoYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyZXR1cm4gYi50ZXh0Q29udGVudD1hLGJ9ZnVuY3Rpb24gZChhKXt2YXIgYj1jKGEpO2RvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYik7dmFyIGQ9W107aWYoYi5zaGVldCl0cnl7ZD1iLnNoZWV0LmNzc1J1bGVzfWNhdGNoKGUpe31lbHNlIGNvbnNvbGUud2Fybigic2hlZXQgbm90IGZvdW5kIixiKTtyZXR1cm4gYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGR9ZnVuY3Rpb24gZSgpe3YuaW5pdGlhbGl6ZWQ9ITAsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh2KTt2YXIgYT12LmNvbnRlbnREb2N1bWVudCxiPWEuY3JlYXRlRWxlbWVudCgiYmFzZSIpO2IuaHJlZj1kb2N1bWVudC5iYXNlVVJJLGEuaGVhZC5hcHBlbmRDaGlsZChiKX1mdW5jdGlvbiBmKGEpe3YuaW5pdGlhbGl6ZWR8fGUoKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHYpLGEodi5jb250ZW50RG9jdW1lbnQpLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodil9ZnVuY3Rpb24gZyhhLGIpe2lmKGIpe3ZhciBlO2lmKGEubWF0Y2goIkBpbXBvcnQiKSYmeCl7dmFyIGc9YyhhKTtmKGZ1bmN0aW9uKGEpe2EuaGVhZC5hcHBlbmRDaGlsZChnLmltcGwpLGU9Zy5zaGVldC5jc3NSdWxlcyxiKGUpfSl9ZWxzZSBlPWQoYSksYihlKX19ZnVuY3Rpb24gaChhKXthJiZqKCkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSkpfWZ1bmN0aW9uIGkoYSxiKXt2YXIgZD1jKGEpO2Quc2V0QXR0cmlidXRlKGIsIiIpLGQuc2V0QXR0cmlidXRlKHosIiIpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZCl9ZnVuY3Rpb24gaigpe3JldHVybiB3fHwodz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLHcuc2V0QXR0cmlidXRlKHosIiIpLHdbel09ITApLHd9dmFyIGs9e3N0cmljdFN0eWxpbmc6ITEscmVnaXN0cnk6e30sc2hpbVN0eWxpbmc6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPXRoaXMucHJlcGFyZVJvb3QoYSxjLGQpLGY9dGhpcy5pc1R5cGVFeHRlbnNpb24oZCksZz10aGlzLm1ha2VTY29wZVNlbGVjdG9yKGMsZiksaD1iKGUsITApO2g9dGhpcy5zY29wZUNzc1RleHQoaCxnKSxhJiYoYS5zaGltbWVkU3R5bGU9aCksdGhpcy5hZGRDc3NUb0RvY3VtZW50KGgsYyl9LHNoaW1TdHlsZTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnNoaW1Dc3NUZXh0KGEudGV4dENvbnRlbnQsYil9LHNoaW1Dc3NUZXh0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9dGhpcy5pbnNlcnREaXJlY3RpdmVzKGEpLHRoaXMuc2NvcGVDc3NUZXh0KGEsYil9LG1ha2VTY29wZVNlbGVjdG9yOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE/Yj8iW2lzPSIrYSsiXSI6YToiIn0saXNUeXBlRXh0ZW5zaW9uOmZ1bmN0aW9uKGEpe3JldHVybiBhJiZhLmluZGV4T2YoIi0iKTwwfSxwcmVwYXJlUm9vdDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5yZWdpc3RlclJvb3QoYSxiLGMpO3JldHVybiB0aGlzLnJlcGxhY2VUZXh0SW5TdHlsZXMoZC5yb290U3R5bGVzLHRoaXMuaW5zZXJ0RGlyZWN0aXZlcyksdGhpcy5yZW1vdmVTdHlsZXMoYSxkLnJvb3RTdHlsZXMpLHRoaXMuc3RyaWN0U3R5bGluZyYmdGhpcy5hcHBseVNjb3BlVG9Db250ZW50KGEsYiksZC5zY29wZVN0eWxlc30scmVtb3ZlU3R5bGVzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9MCxlPWIubGVuZ3RoO2U+ZCYmKGM9YltkXSk7ZCsrKWMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKX0scmVnaXN0ZXJSb290OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLnJlZ2lzdHJ5W2JdPXtyb290OmEsbmFtZTpiLGV4dGVuZHNOYW1lOmN9LGU9dGhpcy5maW5kU3R5bGVzKGEpO2Qucm9vdFN0eWxlcz1lLGQuc2NvcGVTdHlsZXM9ZC5yb290U3R5bGVzO3ZhciBmPXRoaXMucmVnaXN0cnlbZC5leHRlbmRzTmFtZV07cmV0dXJuIGYmJihkLnNjb3BlU3R5bGVzPWYuc2NvcGVTdHlsZXMuY29uY2F0KGQuc2NvcGVTdHlsZXMpKSxkfSxmaW5kU3R5bGVzOmZ1bmN0aW9uKGEpe2lmKCFhKXJldHVybltdO3ZhciBiPWEucXVlcnlTZWxlY3RvckFsbCgic3R5bGUiKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGIsZnVuY3Rpb24oYSl7cmV0dXJuIWEuaGFzQXR0cmlidXRlKEEpfSl9LGFwcGx5U2NvcGVUb0NvbnRlbnQ6ZnVuY3Rpb24oYSxiKXthJiYoQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLnF1ZXJ5U2VsZWN0b3JBbGwoIioiKSxmdW5jdGlvbihhKXthLnNldEF0dHJpYnV0ZShiLCIiKX0pLEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYS5xdWVyeVNlbGVjdG9yQWxsKCJ0ZW1wbGF0ZSIpLGZ1bmN0aW9uKGEpe3RoaXMuYXBwbHlTY29wZVRvQ29udGVudChhLmNvbnRlbnQsYil9LHRoaXMpKX0saW5zZXJ0RGlyZWN0aXZlczpmdW5jdGlvbihhKXtyZXR1cm4gYT10aGlzLmluc2VydFBvbHlmaWxsRGlyZWN0aXZlc0luQ3NzVGV4dChhKSx0aGlzLmluc2VydFBvbHlmaWxsUnVsZXNJbkNzc1RleHQoYSl9LGluc2VydFBvbHlmaWxsRGlyZWN0aXZlc0luQ3NzVGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYT1hLnJlcGxhY2UobSxmdW5jdGlvbihhLGIpe3JldHVybiBiLnNsaWNlKDAsLTIpKyJ7In0pLGEucmVwbGFjZShuLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIrIiB7In0pfSxpbnNlcnRQb2x5ZmlsbFJ1bGVzSW5Dc3NUZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhPWEucmVwbGFjZShvLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIuc2xpY2UoMCwtMSl9KSxhLnJlcGxhY2UocCxmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hLnJlcGxhY2UoYiwiIikucmVwbGFjZShjLCIiKTtyZXR1cm4gZCtlfSl9LHNjb3BlQ3NzVGV4dDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZXh0cmFjdFVuc2NvcGVkUnVsZXNGcm9tQ3NzVGV4dChhKTtpZihhPXRoaXMuaW5zZXJ0UG9seWZpbGxIb3N0SW5Dc3NUZXh0KGEpLGE9dGhpcy5jb252ZXJ0Q29sb25Ib3N0KGEpLGE9dGhpcy5jb252ZXJ0Q29sb25Ib3N0Q29udGV4dChhKSxhPXRoaXMuY29udmVydENvbWJpbmF0b3JzKGEpLGIpe3ZhciBhLGQ9dGhpcztnKGEsZnVuY3Rpb24oYyl7YT1kLnNjb3BlUnVsZXMoYyxiKX0pfXJldHVybiBhPWErIlxuIitjLGEudHJpbSgpfSxleHRyYWN0VW5zY29wZWRSdWxlc0Zyb21Dc3NUZXh0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPSIiO2I9cS5leGVjKGEpOyljKz1iWzFdLnNsaWNlKDAsLTEpKyJcblxuIjtmb3IoO2I9ci5leGVjKGEpOyljKz1iWzBdLnJlcGxhY2UoYlsyXSwiIikucmVwbGFjZShiWzFdLGJbM10pKyJcblxuIjtyZXR1cm4gY30sY29udmVydENvbG9uSG9zdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb252ZXJ0Q29sb25SdWxlKGEsY3NzQ29sb25Ib3N0UmUsdGhpcy5jb2xvbkhvc3RQYXJ0UmVwbGFjZXIpfSxjb252ZXJ0Q29sb25Ib3N0Q29udGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb252ZXJ0Q29sb25SdWxlKGEsY3NzQ29sb25Ib3N0Q29udGV4dFJlLHRoaXMuY29sb25Ib3N0Q29udGV4dFBhcnRSZXBsYWNlcil9LGNvbnZlcnRDb2xvblJ1bGU6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhLnJlcGxhY2UoYixmdW5jdGlvbihhLGIsZCxlKXtpZihiPXBvbHlmaWxsSG9zdE5vQ29tYmluYXRvcixkKXtmb3IodmFyIGYsZz1kLnNwbGl0KCIsIiksaD1bXSxpPTAsaj1nLmxlbmd0aDtqPmkmJihmPWdbaV0pO2krKylmPWYudHJpbSgpLGgucHVzaChjKGIsZixlKSk7cmV0dXJuIGguam9pbigiLCIpfXJldHVybiBiK2V9KX0sY29sb25Ib3N0Q29udGV4dFBhcnRSZXBsYWNlcjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGIubWF0Y2gocyk/dGhpcy5jb2xvbkhvc3RQYXJ0UmVwbGFjZXIoYSxiLGMpOmErYitjKyIsICIrYisiICIrYStjfSxjb2xvbkhvc3RQYXJ0UmVwbGFjZXI6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhK2IucmVwbGFjZShzLCIiKStjfSxjb252ZXJ0Q29tYmluYXRvcnM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7Yjxjb21iaW5hdG9yc1JlLmxlbmd0aDtiKyspYT1hLnJlcGxhY2UoY29tYmluYXRvcnNSZVtiXSwiICIpO3JldHVybiBhfSxzY29wZVJ1bGVzOmZ1bmN0aW9uKGEsYil7dmFyIGM9IiI7cmV0dXJuIGEmJkFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYSxmdW5jdGlvbihhKXthLnNlbGVjdG9yVGV4dCYmYS5zdHlsZSYmYS5zdHlsZS5jc3NUZXh0PyhjKz10aGlzLnNjb3BlU2VsZWN0b3IoYS5zZWxlY3RvclRleHQsYix0aGlzLnN0cmljdFN0eWxpbmcpKyIge1xuCSIsYys9dGhpcy5wcm9wZXJ0aWVzRnJvbVJ1bGUoYSkrIlxufVxuXG4iKTphLnR5cGU9PT1DU1NSdWxlLk1FRElBX1JVTEU/KGMrPSJAbWVkaWEgIithLm1lZGlhLm1lZGlhVGV4dCsiIHtcbiIsYys9dGhpcy5zY29wZVJ1bGVzKGEuY3NzUnVsZXMsYiksYys9IlxufVxuXG4iKTphLmNzc1RleHQmJihjKz1hLmNzc1RleHQrIlxuXG4iKX0sdGhpcyksY30sc2NvcGVTZWxlY3RvcjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9W10sZT1hLnNwbGl0KCIsIik7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihhKXthPWEudHJpbSgpLHRoaXMuc2VsZWN0b3JOZWVkc1Njb3BpbmcoYSxiKSYmKGE9YyYmIWEubWF0Y2gocG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yKT90aGlzLmFwcGx5U3RyaWN0U2VsZWN0b3JTY29wZShhLGIpOnRoaXMuYXBwbHlTZWxlY3RvclNjb3BlKGEsYikpLGQucHVzaChhKX0sdGhpcyksZC5qb2luKCIsICIpfSxzZWxlY3Rvck5lZWRzU2NvcGluZzpmdW5jdGlvbihhLGIpe2lmKEFycmF5LmlzQXJyYXkoYikpcmV0dXJuITA7dmFyIGM9dGhpcy5tYWtlU2NvcGVNYXRjaGVyKGIpO3JldHVybiFhLm1hdGNoKGMpfSxtYWtlU2NvcGVNYXRjaGVyOmZ1bmN0aW9uKGEpe3JldHVybiBhPWEucmVwbGFjZSgvXFsvZywiXFxbIikucmVwbGFjZSgvXFsvZywiXFxdIiksbmV3IFJlZ0V4cCgiXigiK2ErIikiK3NlbGVjdG9yUmVTdWZmaXgsIm0iKX0sYXBwbHlTZWxlY3RvclNjb3BlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEFycmF5LmlzQXJyYXkoYik/dGhpcy5hcHBseVNlbGVjdG9yU2NvcGVMaXN0KGEsYik6dGhpcy5hcHBseVNpbXBsZVNlbGVjdG9yU2NvcGUoYSxiKX0sYXBwbHlTZWxlY3RvclNjb3BlTGlzdDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPVtdLGU9MDtjPWJbZV07ZSsrKWQucHVzaCh0aGlzLmFwcGx5U2ltcGxlU2VsZWN0b3JTY29wZShhLGMpKTtyZXR1cm4gZC5qb2luKCIsICIpfSxhcHBseVNpbXBsZVNlbGVjdG9yU2NvcGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5tYXRjaChwb2x5ZmlsbEhvc3RSZSk/KGE9YS5yZXBsYWNlKHBvbHlmaWxsSG9zdE5vQ29tYmluYXRvcixiKSxhLnJlcGxhY2UocG9seWZpbGxIb3N0UmUsYisiICIpKTpiKyIgIithfSxhcHBseVN0cmljdFNlbGVjdG9yU2NvcGU6ZnVuY3Rpb24oYSxiKXtiPWIucmVwbGFjZSgvXFtpcz0oW15cXV0qKVxdL2csIiQxIik7dmFyIGM9WyIgIiwiPiIsIisiLCJ+Il0sZD1hLGU9IlsiK2IrIl0iO3JldHVybiBjLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9ZC5zcGxpdChhKTtkPWIubWFwKGZ1bmN0aW9uKGEpe3ZhciBiPWEudHJpbSgpLnJlcGxhY2UocG9seWZpbGxIb3N0UmUsIiIpO3JldHVybiBiJiZjLmluZGV4T2YoYik8MCYmYi5pbmRleE9mKGUpPDAmJihhPWIucmVwbGFjZSgvKFteOl0qKSg6KikoLiopLywiJDEiK2UrIiQyJDMiKSksYX0pLmpvaW4oYSl9KSxkfSxpbnNlcnRQb2x5ZmlsbEhvc3RJbkNzc1RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShjb2xvbkhvc3RDb250ZXh0UmUsdCkucmVwbGFjZShjb2xvbkhvc3RSZSxzKX0scHJvcGVydGllc0Zyb21SdWxlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuc3R5bGUuY3NzVGV4dDthLnN0eWxlLmNvbnRlbnQmJiFhLnN0eWxlLmNvbnRlbnQubWF0Y2goL1snIl0rfGF0dHIvKSYmKGI9Yi5yZXBsYWNlKC9jb250ZW50OlteO10qOy9nLCJjb250ZW50OiAnIithLnN0eWxlLmNvbnRlbnQrIic7IikpO3ZhciBjPWEuc3R5bGU7Zm9yKHZhciBkIGluIGMpImluaXRpYWwiPT09Y1tkXSYmKGIrPWQrIjogaW5pdGlhbDsgIik7cmV0dXJuIGJ9LHJlcGxhY2VUZXh0SW5TdHlsZXM6ZnVuY3Rpb24oYSxiKXthJiZiJiYoYSBpbnN0YW5jZW9mIEFycmF5fHwoYT1bYV0pLEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYSxmdW5jdGlvbihhKXthLnRleHRDb250ZW50PWIuY2FsbCh0aGlzLGEudGV4dENvbnRlbnQpfSx0aGlzKSl9LGFkZENzc1RvRG9jdW1lbnQ6ZnVuY3Rpb24oYSxiKXthLm1hdGNoKCJAaW1wb3J0Iik/aShhLGIpOmgoYSl9fSxsPS9cL1wqW14qXSpcKisoW14vKl1bXipdKlwqKykqXC8vZ2ltLG09L1wvXCpccypAcG9seWZpbGwgKFteKl0qXCorKFteLypdW14qXSpcKispKlwvKShbXntdKj8pey9naW0sbj0vcG9seWZpbGwtbmV4dC1zZWxlY3RvcltefV0qY29udGVudFw6W1xzXSonKFteJ10qKSdbXn1dKn0oW157XSo/KXsvZ2ltLG89L1wvXCpcc0Bwb2x5ZmlsbC1ydWxlKFteKl0qXCorKFteLypdW14qXSpcKispKilcLy9naW0scD0vKHBvbHlmaWxsLXJ1bGUpW159XSooY29udGVudFw6W1xzXSonKFteJ10qKSdbXjtdKjspW159XSp9L2dpbSxxPS9cL1wqXHNAcG9seWZpbGwtdW5zY29wZWQtcnVsZShbXipdKlwqKyhbXi8qXVteKl0qXCorKSopXC8vZ2ltLHI9Lyhwb2x5ZmlsbC11bnNjb3BlZC1ydWxlKVtefV0qKGNvbnRlbnRcOltcc10qJyhbXiddKiknW147XSo7KVtefV0qfS9naW0scz0iLXNoYWRvd2Nzc2hvc3QiLHQ9Ii1zaGFkb3djc3Njb250ZXh0Iix1PSIpKD86XFwoKCg/OlxcKFteKShdKlxcKXxbXikoXSopKz8pXFwpKT8oW14se10qKSI7Y3NzQ29sb25Ib3N0UmU9bmV3IFJlZ0V4cCgiKCIrcyt1LCJnaW0iKSxjc3NDb2xvbkhvc3RDb250ZXh0UmU9bmV3IFJlZ0V4cCgiKCIrdCt1LCJnaW0iKSxzZWxlY3RvclJlU3VmZml4PSIoWz5cXHN+K1suLHs6XVtcXHNcXFNdKik/JCIsY29sb25Ib3N0UmU9L1w6aG9zdC9naW0sY29sb25Ib3N0Q29udGV4dFJlPS9cOmhvc3QtY29udGV4dC9naW0scG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yPXMrIi1uby1jb21iaW5hdG9yIixwb2x5ZmlsbEhvc3RSZT1uZXcgUmVnRXhwKHMsImdpbSIpLHBvbHlmaWxsSG9zdENvbnRleHRSZT1uZXcgUmVnRXhwKHQsImdpbSIpLGNvbWJpbmF0b3JzUmU9Wy9cXlxeL2csL1xeL2csL1wvc2hhZG93XC8vZywvXC9zaGFkb3ctZGVlcFwvL2csLzo6c2hhZG93L2csL1wvZGVlcFwvL2ddO3ZhciB2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO3Yuc3R5bGUuZGlzcGxheT0ibm9uZSI7dmFyIHcseD1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKCJDaHJvbWUiKSx5PSJzaGltLXNoYWRvd2RvbSIsej0ic2hpbS1zaGFkb3dkb20tY3NzIixBPSJuby1zaGltIjtpZih3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpe2goInN0eWxlIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9XG4iKTt2YXIgQj13cmFwKGRvY3VtZW50KSxDPUIucXVlcnlTZWxlY3RvcigiaGVhZCIpO0MuaW5zZXJ0QmVmb3JlKGooKSxDLmNoaWxkTm9kZXNbMF0pLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGZ1bmN0aW9uKCl7dmFyIGI9YS51cmxSZXNvbHZlcjtpZih3aW5kb3cuSFRNTEltcG9ydHMmJiFIVE1MSW1wb3J0cy51c2VOYXRpdmUpe3ZhciBjPSJsaW5rW3JlbD1zdHlsZXNoZWV0XVsiK3krIl0iLGQ9InN0eWxlWyIreSsiXSI7SFRNTEltcG9ydHMuaW1wb3J0ZXIuZG9jdW1lbnRQcmVsb2FkU2VsZWN0b3JzKz0iLCIrYyxIVE1MSW1wb3J0cy5pbXBvcnRlci5pbXBvcnRzUHJlbG9hZFNlbGVjdG9ycys9IiwiK2MsSFRNTEltcG9ydHMucGFyc2VyLmRvY3VtZW50U2VsZWN0b3JzPVtIVE1MSW1wb3J0cy5wYXJzZXIuZG9jdW1lbnRTZWxlY3RvcnMsYyxkXS5qb2luKCIsIik7dmFyIGU9SFRNTEltcG9ydHMucGFyc2VyLnBhcnNlR2VuZXJpYztIVE1MSW1wb3J0cy5wYXJzZXIucGFyc2VHZW5lcmljPWZ1bmN0aW9uKGEpe2lmKCFhW3pdKXt2YXIgYz1hLl9faW1wb3J0RWxlbWVudHx8YTtpZighYy5oYXNBdHRyaWJ1dGUoeSkpcmV0dXJuIHZvaWQgZS5jYWxsKHRoaXMsYSk7YS5fX3Jlc291cmNlPyhjPWEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLGMudGV4dENvbnRlbnQ9Yi5yZXNvbHZlQ3NzVGV4dChhLl9fcmVzb3VyY2UsYS5ocmVmKSk6Yi5yZXNvbHZlU3R5bGUoYyksYy50ZXh0Q29udGVudD1rLnNoaW1TdHlsZShjKSxjLnJlbW92ZUF0dHJpYnV0ZSh5LCIiKSxjLnNldEF0dHJpYnV0ZSh6LCIiKSxjW3pdPSEwLGMucGFyZW50Tm9kZSE9PUMmJihhLnBhcmVudE5vZGU9PT1DP0MucmVwbGFjZUNoaWxkKGMsYSk6Qy5hcHBlbmRDaGlsZChjKSksYy5fX2ltcG9ydFBhcnNlZD0hMCx0aGlzLm1hcmtQYXJzaW5nQ29tcGxldGUoYSl9fTt2YXIgZj1IVE1MSW1wb3J0cy5wYXJzZXIuaGFzUmVzb3VyY2U7SFRNTEltcG9ydHMucGFyc2VyLmhhc1Jlc291cmNlPWZ1bmN0aW9uKGEpe3JldHVybiJsaW5rIj09PWEubG9jYWxOYW1lJiYic3R5bGVzaGVldCI9PT1hLnJlbCYmYS5oYXNBdHRyaWJ1dGUoeSk/YS5fX3Jlc291cmNlOmYuY2FsbCh0aGlzLGEpfX19KX1hLlNoYWRvd0NTUz1rfSh3aW5kb3cuUGxhdGZvcm0pKTohZnVuY3Rpb24oKXt3aW5kb3cud3JhcD13aW5kb3cudW53cmFwPWZ1bmN0aW9uKGEpe3JldHVybiBhfSxhZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixmdW5jdGlvbigpe2lmKEN1c3RvbUVsZW1lbnRzLnVzZU5hdGl2ZT09PSExKXt2YXIgYT1FbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290O0VsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3Q9ZnVuY3Rpb24oKXt2YXIgYj1hLmNhbGwodGhpcyk7cmV0dXJuIEN1c3RvbUVsZW1lbnRzLndhdGNoU2hhZG93KHRoaXMpLGJ9fX0pLFBsYXRmb3JtLnRlbXBsYXRlQ29udGVudD1mdW5jdGlvbihhKXtpZih3aW5kb3cuSFRNTFRlbXBsYXRlRWxlbWVudCYmSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXAmJkhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwKGEpLCFhLmNvbnRlbnQmJiFhLl9jb250ZW50KXtmb3IodmFyIGI9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2EuZmlyc3RDaGlsZDspYi5hcHBlbmRDaGlsZChhLmZpcnN0Q2hpbGQpO2EuX2NvbnRlbnQ9Yn1yZXR1cm4gYS5jb250ZW50fHxhLl9jb250ZW50fX0od2luZG93LlBsYXRmb3JtKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtyZXR1cm4gdm9pZCAwIT09bVthXX1mdW5jdGlvbiBjKCl7aC5jYWxsKHRoaXMpLHRoaXMuX2lzSW52YWxpZD0hMH1mdW5jdGlvbiBkKGEpe3JldHVybiIiPT1hJiZjLmNhbGwodGhpcyksYS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIGUoYSl7dmFyIGI9YS5jaGFyQ29kZUF0KDApO3JldHVybiBiPjMyJiYxMjc+YiYmLTE9PVszNCwzNSw2MCw2Miw2Myw5Nl0uaW5kZXhPZihiKT9hOmVuY29kZVVSSUNvbXBvbmVudChhKX1mdW5jdGlvbiBmKGEpe3ZhciBiPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4gYj4zMiYmMTI3PmImJi0xPT1bMzQsMzUsNjAsNjIsOTZdLmluZGV4T2YoYik/YTplbmNvZGVVUklDb21wb25lbnQoYSl9ZnVuY3Rpb24gZyhhLGcsaCl7ZnVuY3Rpb24gaShhKXt0LnB1c2goYSl9dmFyIGo9Z3x8InNjaGVtZSBzdGFydCIsaz0wLGw9IiIscj0hMSxzPSExLHQ9W107YTpmb3IoOyhhW2stMV0hPW98fDA9PWspJiYhdGhpcy5faXNJbnZhbGlkOyl7dmFyIHU9YVtrXTtzd2l0Y2goail7Y2FzZSJzY2hlbWUgc3RhcnQiOmlmKCF1fHwhcC50ZXN0KHUpKXtpZihnKXtpKCJJbnZhbGlkIHNjaGVtZS4iKTticmVhayBhfWw9IiIsaj0ibm8gc2NoZW1lIjtjb250aW51ZX1sKz11LnRvTG93ZXJDYXNlKCksaj0ic2NoZW1lIjticmVhaztjYXNlInNjaGVtZSI6aWYodSYmcS50ZXN0KHUpKWwrPXUudG9Mb3dlckNhc2UoKTtlbHNle2lmKCI6IiE9dSl7aWYoZyl7aWYobz09dSlicmVhayBhO2koIkNvZGUgcG9pbnQgbm90IGFsbG93ZWQgaW4gc2NoZW1lOiAiK3UpO2JyZWFrIGF9bD0iIixrPTAsaj0ibm8gc2NoZW1lIjtjb250aW51ZX1pZih0aGlzLl9zY2hlbWU9bCxsPSIiLGcpYnJlYWsgYTtiKHRoaXMuX3NjaGVtZSkmJih0aGlzLl9pc1JlbGF0aXZlPSEwKSxqPSJmaWxlIj09dGhpcy5fc2NoZW1lPyJyZWxhdGl2ZSI6dGhpcy5faXNSZWxhdGl2ZSYmaCYmaC5fc2NoZW1lPT10aGlzLl9zY2hlbWU/InJlbGF0aXZlIG9yIGF1dGhvcml0eSI6dGhpcy5faXNSZWxhdGl2ZT8iYXV0aG9yaXR5IGZpcnN0IHNsYXNoIjoic2NoZW1lIGRhdGEifWJyZWFrO2Nhc2Uic2NoZW1lIGRhdGEiOiI/Ij09dT8ocXVlcnk9Ij8iLGo9InF1ZXJ5Iik6IiMiPT11Pyh0aGlzLl9mcmFnbWVudD0iIyIsaj0iZnJhZ21lbnQiKTpvIT11JiYiCSIhPXUmJiJcbiIhPXUmJiJcciIhPXUmJih0aGlzLl9zY2hlbWVEYXRhKz1lKHUpKTticmVhaztjYXNlIm5vIHNjaGVtZSI6aWYoaCYmYihoLl9zY2hlbWUpKXtqPSJyZWxhdGl2ZSI7Y29udGludWV9aSgiTWlzc2luZyBzY2hlbWUuIiksYy5jYWxsKHRoaXMpO2JyZWFrO2Nhc2UicmVsYXRpdmUgb3IgYXV0aG9yaXR5IjppZigiLyIhPXV8fCIvIiE9YVtrKzFdKXtpKCJFeHBlY3RlZCAvLCBnb3Q6ICIrdSksaj0icmVsYXRpdmUiO2NvbnRpbnVlfWo9ImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyI7YnJlYWs7Y2FzZSJyZWxhdGl2ZSI6aWYodGhpcy5faXNSZWxhdGl2ZT0hMCwiZmlsZSIhPXRoaXMuX3NjaGVtZSYmKHRoaXMuX3NjaGVtZT1oLl9zY2hlbWUpLG89PXUpe3RoaXMuX2hvc3Q9aC5faG9zdCx0aGlzLl9wb3J0PWguX3BvcnQsdGhpcy5fcGF0aD1oLl9wYXRoLnNsaWNlKCksdGhpcy5fcXVlcnk9aC5fcXVlcnk7YnJlYWsgYX1pZigiLyI9PXV8fCJcXCI9PXUpIlxcIj09dSYmaSgiXFwgaXMgYW4gaW52YWxpZCBjb2RlIHBvaW50LiIpLGo9InJlbGF0aXZlIHNsYXNoIjtlbHNlIGlmKCI/Ij09dSl0aGlzLl9ob3N0PWguX2hvc3QsdGhpcy5fcG9ydD1oLl9wb3J0LHRoaXMuX3BhdGg9aC5fcGF0aC5zbGljZSgpLHRoaXMuX3F1ZXJ5PSI/IixqPSJxdWVyeSI7ZWxzZXtpZigiIyIhPXUpe3ZhciB2PWFbaysxXSx3PWFbaysyXTsoImZpbGUiIT10aGlzLl9zY2hlbWV8fCFwLnRlc3QodSl8fCI6IiE9diYmInwiIT12fHxvIT13JiYiLyIhPXcmJiJcXCIhPXcmJiI/IiE9dyYmIiMiIT13KSYmKHRoaXMuX2hvc3Q9aC5faG9zdCx0aGlzLl9wb3J0PWguX3BvcnQsdGhpcy5fcGF0aD1oLl9wYXRoLnNsaWNlKCksdGhpcy5fcGF0aC5wb3AoKSksaj0icmVsYXRpdmUgcGF0aCI7Y29udGludWV9dGhpcy5faG9zdD1oLl9ob3N0LHRoaXMuX3BvcnQ9aC5fcG9ydCx0aGlzLl9wYXRoPWguX3BhdGguc2xpY2UoKSx0aGlzLl9xdWVyeT1oLl9xdWVyeSx0aGlzLl9mcmFnbWVudD0iIyIsaj0iZnJhZ21lbnQifWJyZWFrO2Nhc2UicmVsYXRpdmUgc2xhc2giOmlmKCIvIiE9dSYmIlxcIiE9dSl7ImZpbGUiIT10aGlzLl9zY2hlbWUmJih0aGlzLl9ob3N0PWguX2hvc3QsdGhpcy5fcG9ydD1oLl9wb3J0KSxqPSJyZWxhdGl2ZSBwYXRoIjtjb250aW51ZX0iXFwiPT11JiZpKCJcXCBpcyBhbiBpbnZhbGlkIGNvZGUgcG9pbnQuIiksaj0iZmlsZSI9PXRoaXMuX3NjaGVtZT8iZmlsZSBob3N0IjoiYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIjticmVhaztjYXNlImF1dGhvcml0eSBmaXJzdCBzbGFzaCI6aWYoIi8iIT11KXtpKCJFeHBlY3RlZCAnLycsIGdvdDogIit1KSxqPSJhdXRob3JpdHkgaWdub3JlIHNsYXNoZXMiO2NvbnRpbnVlfWo9ImF1dGhvcml0eSBzZWNvbmQgc2xhc2giO2JyZWFrO2Nhc2UiYXV0aG9yaXR5IHNlY29uZCBzbGFzaCI6aWYoaj0iYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIiwiLyIhPXUpe2koIkV4cGVjdGVkICcvJywgZ290OiAiK3UpO2NvbnRpbnVlfWJyZWFrO2Nhc2UiYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIjppZigiLyIhPXUmJiJcXCIhPXUpe2o9ImF1dGhvcml0eSI7Y29udGludWV9aSgiRXhwZWN0ZWQgYXV0aG9yaXR5LCBnb3Q6ICIrdSk7YnJlYWs7Y2FzZSJhdXRob3JpdHkiOmlmKCJAIj09dSl7ciYmKGkoIkAgYWxyZWFkeSBzZWVuLiIpLGwrPSIlNDAiKSxyPSEwO2Zvcih2YXIgeD0wO3g8bC5sZW5ndGg7eCsrKXt2YXIgeT1sW3hdO2lmKCIJIiE9eSYmIlxuIiE9eSYmIlxyIiE9eSlpZigiOiIhPXl8fG51bGwhPT10aGlzLl9wYXNzd29yZCl7dmFyIHo9ZSh5KTtudWxsIT09dGhpcy5fcGFzc3dvcmQ/dGhpcy5fcGFzc3dvcmQrPXo6dGhpcy5fdXNlcm5hbWUrPXp9ZWxzZSB0aGlzLl9wYXNzd29yZD0iIjtlbHNlIGkoIkludmFsaWQgd2hpdGVzcGFjZSBpbiBhdXRob3JpdHkuIil9bD0iIn1lbHNle2lmKG89PXV8fCIvIj09dXx8IlxcIj09dXx8Ij8iPT11fHwiIyI9PXUpe2stPWwubGVuZ3RoLGw9IiIsaj0iaG9zdCI7Y29udGludWV9bCs9dX1icmVhaztjYXNlImZpbGUgaG9zdCI6aWYobz09dXx8Ii8iPT11fHwiXFwiPT11fHwiPyI9PXV8fCIjIj09dSl7MiE9bC5sZW5ndGh8fCFwLnRlc3QobFswXSl8fCI6IiE9bFsxXSYmInwiIT1sWzFdPzA9PWwubGVuZ3RoP2o9InJlbGF0aXZlIHBhdGggc3RhcnQiOih0aGlzLl9ob3N0PWQuY2FsbCh0aGlzLGwpLGw9IiIsaj0icmVsYXRpdmUgcGF0aCBzdGFydCIpOmo9InJlbGF0aXZlIHBhdGgiO2NvbnRpbnVlfSIJIj09dXx8IlxuIj09dXx8IlxyIj09dT9pKCJJbnZhbGlkIHdoaXRlc3BhY2UgaW4gZmlsZSBob3N0LiIpOmwrPXU7YnJlYWs7Y2FzZSJob3N0IjpjYXNlImhvc3RuYW1lIjppZigiOiIhPXV8fHMpe2lmKG89PXV8fCIvIj09dXx8IlxcIj09dXx8Ij8iPT11fHwiIyI9PXUpe2lmKHRoaXMuX2hvc3Q9ZC5jYWxsKHRoaXMsbCksbD0iIixqPSJyZWxhdGl2ZSBwYXRoIHN0YXJ0IixnKWJyZWFrIGE7Y29udGludWV9IgkiIT11JiYiXG4iIT11JiYiXHIiIT11PygiWyI9PXU/cz0hMDoiXSI9PXUmJihzPSExKSxsKz11KTppKCJJbnZhbGlkIGNvZGUgcG9pbnQgaW4gaG9zdC9ob3N0bmFtZTogIit1KX1lbHNlIGlmKHRoaXMuX2hvc3Q9ZC5jYWxsKHRoaXMsbCksbD0iIixqPSJwb3J0IiwiaG9zdG5hbWUiPT1nKWJyZWFrIGE7YnJlYWs7Y2FzZSJwb3J0IjppZigvWzAtOV0vLnRlc3QodSkpbCs9dTtlbHNle2lmKG89PXV8fCIvIj09dXx8IlxcIj09dXx8Ij8iPT11fHwiIyI9PXV8fGcpe2lmKCIiIT1sKXt2YXIgQT1wYXJzZUludChsLDEwKTtBIT1tW3RoaXMuX3NjaGVtZV0mJih0aGlzLl9wb3J0PUErIiIpLGw9IiJ9aWYoZylicmVhayBhO2o9InJlbGF0aXZlIHBhdGggc3RhcnQiO2NvbnRpbnVlfSIJIj09dXx8IlxuIj09dXx8IlxyIj09dT9pKCJJbnZhbGlkIGNvZGUgcG9pbnQgaW4gcG9ydDogIit1KTpjLmNhbGwodGhpcyl9YnJlYWs7Y2FzZSJyZWxhdGl2ZSBwYXRoIHN0YXJ0IjppZigiXFwiPT11JiZpKCInXFwnIG5vdCBhbGxvd2VkIGluIHBhdGguIiksaj0icmVsYXRpdmUgcGF0aCIsIi8iIT11JiYiXFwiIT11KWNvbnRpbnVlO2JyZWFrO2Nhc2UicmVsYXRpdmUgcGF0aCI6aWYobyE9dSYmIi8iIT11JiYiXFwiIT11JiYoZ3x8Ij8iIT11JiYiIyIhPXUpKSIJIiE9dSYmIlxuIiE9dSYmIlxyIiE9dSYmKGwrPWUodSkpO2Vsc2V7IlxcIj09dSYmaSgiXFwgbm90IGFsbG93ZWQgaW4gcmVsYXRpdmUgcGF0aC4iKTt2YXIgQjsoQj1uW2wudG9Mb3dlckNhc2UoKV0pJiYobD1CKSwiLi4iPT1sPyh0aGlzLl9wYXRoLnBvcCgpLCIvIiE9dSYmIlxcIiE9dSYmdGhpcy5fcGF0aC5wdXNoKCIiKSk6Ii4iPT1sJiYiLyIhPXUmJiJcXCIhPXU/dGhpcy5fcGF0aC5wdXNoKCIiKToiLiIhPWwmJigiZmlsZSI9PXRoaXMuX3NjaGVtZSYmMD09dGhpcy5fcGF0aC5sZW5ndGgmJjI9PWwubGVuZ3RoJiZwLnRlc3QobFswXSkmJiJ8Ij09bFsxXSYmKGw9bFswXSsiOiIpLHRoaXMuX3BhdGgucHVzaChsKSksbD0iIiwiPyI9PXU/KHRoaXMuX3F1ZXJ5PSI/IixqPSJxdWVyeSIpOiIjIj09dSYmKHRoaXMuX2ZyYWdtZW50PSIjIixqPSJmcmFnbWVudCIpfWJyZWFrO2Nhc2UicXVlcnkiOmd8fCIjIiE9dT9vIT11JiYiCSIhPXUmJiJcbiIhPXUmJiJcciIhPXUmJih0aGlzLl9xdWVyeSs9Zih1KSk6KHRoaXMuX2ZyYWdtZW50PSIjIixqPSJmcmFnbWVudCIpO2JyZWFrO2Nhc2UiZnJhZ21lbnQiOm8hPXUmJiIJIiE9dSYmIlxuIiE9dSYmIlxyIiE9dSYmKHRoaXMuX2ZyYWdtZW50Kz11KQp9aysrfX1mdW5jdGlvbiBoKCl7dGhpcy5fc2NoZW1lPSIiLHRoaXMuX3NjaGVtZURhdGE9IiIsdGhpcy5fdXNlcm5hbWU9IiIsdGhpcy5fcGFzc3dvcmQ9bnVsbCx0aGlzLl9ob3N0PSIiLHRoaXMuX3BvcnQ9IiIsdGhpcy5fcGF0aD1bXSx0aGlzLl9xdWVyeT0iIix0aGlzLl9mcmFnbWVudD0iIix0aGlzLl9pc0ludmFsaWQ9ITEsdGhpcy5faXNSZWxhdGl2ZT0hMX1mdW5jdGlvbiBpKGEsYil7dm9pZCAwPT09Ynx8YiBpbnN0YW5jZW9mIGl8fChiPW5ldyBpKFN0cmluZyhiKSkpLHRoaXMuX3VybD1hLGguY2FsbCh0aGlzKTt2YXIgYz1hLnJlcGxhY2UoL15bIFx0XHJcblxmXSt8WyBcdFxyXG5cZl0rJC9nLCIiKTtnLmNhbGwodGhpcyxjLG51bGwsYil9dmFyIGo9ITE7aWYoIWEuZm9yY2VKVVJMKXRyeXt2YXIgaz1uZXcgVVJMKCJiIiwiaHR0cDovL2EiKTtqPSJodHRwOi8vYS9iIj09PWsuaHJlZn1jYXRjaChsKXt9aWYoIWope3ZhciBtPU9iamVjdC5jcmVhdGUobnVsbCk7bS5mdHA9MjEsbS5maWxlPTAsbS5nb3BoZXI9NzAsbS5odHRwPTgwLG0uaHR0cHM9NDQzLG0ud3M9ODAsbS53c3M9NDQzO3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7blsiJTJlIl09Ii4iLG5bIi4lMmUiXT0iLi4iLG5bIiUyZS4iXT0iLi4iLG5bIiUyZSUyZSJdPSIuLiI7dmFyIG89dm9pZCAwLHA9L1thLXpBLVpdLyxxPS9bYS16QS1aMC05XCtcLVwuXS87aS5wcm90b3R5cGU9e2dldCBocmVmKCl7aWYodGhpcy5faXNJbnZhbGlkKXJldHVybiB0aGlzLl91cmw7dmFyIGE9IiI7cmV0dXJuKCIiIT10aGlzLl91c2VybmFtZXx8bnVsbCE9dGhpcy5fcGFzc3dvcmQpJiYoYT10aGlzLl91c2VybmFtZSsobnVsbCE9dGhpcy5fcGFzc3dvcmQ/IjoiK3RoaXMuX3Bhc3N3b3JkOiIiKSsiQCIpLHRoaXMucHJvdG9jb2wrKHRoaXMuX2lzUmVsYXRpdmU/Ii8vIithK3RoaXMuaG9zdDoiIikrdGhpcy5wYXRobmFtZSt0aGlzLl9xdWVyeSt0aGlzLl9mcmFnbWVudH0sc2V0IGhyZWYoYSl7aC5jYWxsKHRoaXMpLGcuY2FsbCh0aGlzLGEpfSxnZXQgcHJvdG9jb2woKXtyZXR1cm4gdGhpcy5fc2NoZW1lKyI6In0sc2V0IHByb3RvY29sKGEpe3RoaXMuX2lzSW52YWxpZHx8Zy5jYWxsKHRoaXMsYSsiOiIsInNjaGVtZSBzdGFydCIpfSxnZXQgaG9zdCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWQ/IiI6dGhpcy5fcG9ydD90aGlzLl9ob3N0KyI6Iit0aGlzLl9wb3J0OnRoaXMuX2hvc3R9LHNldCBob3N0KGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJmcuY2FsbCh0aGlzLGEsImhvc3QiKX0sZ2V0IGhvc3RuYW1lKCl7cmV0dXJuIHRoaXMuX2hvc3R9LHNldCBob3N0bmFtZShhKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiZnLmNhbGwodGhpcyxhLCJob3N0bmFtZSIpfSxnZXQgcG9ydCgpe3JldHVybiB0aGlzLl9wb3J0fSxzZXQgcG9ydChhKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiZnLmNhbGwodGhpcyxhLCJwb3J0Iil9LGdldCBwYXRobmFtZSgpe3JldHVybiB0aGlzLl9pc0ludmFsaWQ/IiI6dGhpcy5faXNSZWxhdGl2ZT8iLyIrdGhpcy5fcGF0aC5qb2luKCIvIik6dGhpcy5fc2NoZW1lRGF0YX0sc2V0IHBhdGhuYW1lKGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJih0aGlzLl9wYXRoPVtdLGcuY2FsbCh0aGlzLGEsInJlbGF0aXZlIHBhdGggc3RhcnQiKSl9LGdldCBzZWFyY2goKXtyZXR1cm4gdGhpcy5faXNJbnZhbGlkfHwhdGhpcy5fcXVlcnl8fCI/Ij09dGhpcy5fcXVlcnk/IiI6dGhpcy5fcXVlcnl9LHNldCBzZWFyY2goYSl7IXRoaXMuX2lzSW52YWxpZCYmdGhpcy5faXNSZWxhdGl2ZSYmKHRoaXMuX3F1ZXJ5PSI/IiwiPyI9PWFbMF0mJihhPWEuc2xpY2UoMSkpLGcuY2FsbCh0aGlzLGEsInF1ZXJ5IikpfSxnZXQgaGFzaCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWR8fCF0aGlzLl9mcmFnbWVudHx8IiMiPT10aGlzLl9mcmFnbWVudD8iIjp0aGlzLl9mcmFnbWVudH0sc2V0IGhhc2goYSl7dGhpcy5faXNJbnZhbGlkfHwodGhpcy5fZnJhZ21lbnQ9IiMiLCIjIj09YVswXSYmKGE9YS5zbGljZSgxKSksZy5jYWxsKHRoaXMsYSwiZnJhZ21lbnQiKSl9fSxhLlVSTD1pfX0od2luZG93KSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2Zvcih2YXIgYj1hfHx7fSxkPTE7ZDxhcmd1bWVudHMubGVuZ3RoO2QrKyl7dmFyIGU9YXJndW1lbnRzW2RdO3RyeXtmb3IodmFyIGYgaW4gZSljKGYsZSxiKX1jYXRjaChnKXt9fXJldHVybiBifWZ1bmN0aW9uIGMoYSxiLGMpe3ZhciBlPWQoYixhKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYyxhLGUpfWZ1bmN0aW9uIGQoYSxiKXtpZihhKXt2YXIgYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsYik7cmV0dXJuIGN8fGQoT2JqZWN0LmdldFByb3RvdHlwZU9mKGEpLGIpfX1GdW5jdGlvbi5wcm90b3R5cGUuYmluZHx8KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGQ9Yy5zbGljZSgpO3JldHVybiBkLnB1c2guYXBwbHkoZCxhcmd1bWVudHMpLGIuYXBwbHkoYSxkKX19KSxhLm1peGluPWJ9KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiLGMpe3ZhciBkPSJzdHJpbmciPT10eXBlb2YgYT9kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEpOmEuY2xvbmVOb2RlKCEwKTtpZihkLmlubmVySFRNTD1iLGMpZm9yKHZhciBlIGluIGMpZC5zZXRBdHRyaWJ1dGUoZSxjW2VdKTtyZXR1cm4gZH12YXIgYz1ET01Ub2tlbkxpc3QucHJvdG90eXBlLmFkZCxkPURPTVRva2VuTGlzdC5wcm90b3R5cGUucmVtb3ZlO0RPTVRva2VuTGlzdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTxhcmd1bWVudHMubGVuZ3RoO2ErKyljLmNhbGwodGhpcyxhcmd1bWVudHNbYV0pfSxET01Ub2tlbkxpc3QucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8YXJndW1lbnRzLmxlbmd0aDthKyspZC5jYWxsKHRoaXMsYXJndW1lbnRzW2FdKX0sRE9NVG9rZW5MaXN0LnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oYSxiKXsxPT1hcmd1bWVudHMubGVuZ3RoJiYoYj0hdGhpcy5jb250YWlucyhhKSksYj90aGlzLmFkZChhKTp0aGlzLnJlbW92ZShhKX0sRE9NVG9rZW5MaXN0LnByb3RvdHlwZS5zd2l0Y2g9ZnVuY3Rpb24oYSxiKXthJiZ0aGlzLnJlbW92ZShhKSxiJiZ0aGlzLmFkZChiKX07dmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcyl9LGY9d2luZG93Lk5hbWVkTm9kZU1hcHx8d2luZG93Lk1vek5hbWVkQXR0ck1hcHx8e307aWYoTm9kZUxpc3QucHJvdG90eXBlLmFycmF5PWUsZi5wcm90b3R5cGUuYXJyYXk9ZSxIVE1MQ29sbGVjdGlvbi5wcm90b3R5cGUuYXJyYXk9ZSwhd2luZG93LnBlcmZvcm1hbmNlKXt2YXIgZz1EYXRlLm5vdygpO3dpbmRvdy5wZXJmb3JtYW5jZT17bm93OmZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCktZ319fXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKCl7dmFyIGE9d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZTtyZXR1cm4gYT9mdW5jdGlvbihiKXtyZXR1cm4gYShmdW5jdGlvbigpe2IocGVyZm9ybWFuY2Uubm93KCkpfSl9OmZ1bmN0aW9uKGEpe3JldHVybiB3aW5kb3cuc2V0VGltZW91dChhLDFlMy82MCl9fSgpKSx3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGEpe2NsZWFyVGltZW91dChhKX19KCkpO3ZhciBoPVtdLGk9ZnVuY3Rpb24oKXtoLnB1c2goYXJndW1lbnRzKX07d2luZG93LlBvbHltZXI9aSxhLmRlbGl2ZXJEZWNsYXJhdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gYS5kZWxpdmVyRGVjbGFyYXRpb25zPWZ1bmN0aW9uKCl7dGhyb3ciUG9zc2libGUgYXR0ZW1wdCB0byBsb2FkIFBvbHltZXIgdHdpY2UifSxofSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXt3aW5kb3cuUG9seW1lcj09PWkmJih3aW5kb3cuUG9seW1lcj1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoJ1lvdSB0cmllZCB0byB1c2UgcG9seW1lciB3aXRob3V0IGxvYWRpbmcgaXQgZmlyc3QuIFRvIGxvYWQgcG9seW1lciwgPGxpbmsgcmVsPSJpbXBvcnQiIGhyZWY9ImNvbXBvbmVudHMvcG9seW1lci9wb2x5bWVyLmh0bWwiPicpfSl9KSxhLmNyZWF0ZURPTT1ifSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2EudGVtcGxhdGVDb250ZW50PWEudGVtcGxhdGVDb250ZW50fHxmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250ZW50fX0od2luZG93LlBsYXRmb3JtKSxmdW5jdGlvbihhKXthPWF8fCh3aW5kb3cuSW5zcGVjdG9yPXt9KTt2YXIgYjt3aW5kb3cuc2luc3BlY3Q9ZnVuY3Rpb24oYSxkKXtifHwoYj13aW5kb3cub3BlbigiIiwiU2hhZG93RE9NIEluc3BlY3RvciIsbnVsbCwhMCksYi5kb2N1bWVudC53cml0ZShjKSxiLmFwaT17c2hhZG93aXplOnNoYWRvd2l6ZX0pLGYoYXx8d3JhcChkb2N1bWVudC5ib2R5KSxkKX07dmFyIGM9WyI8IURPQ1RZUEUgaHRtbD4iLCI8aHRtbD4iLCIgIDxoZWFkPiIsIiAgICA8dGl0bGU+U2hhZG93RE9NIEluc3BlY3RvcjwvdGl0bGU+IiwiICAgIDxzdHlsZT4iLCIgICAgICBib2R5IHsiLCIgICAgICB9IiwiICAgICAgcHJlIHsiLCcgICAgICAgIGZvbnQ6IDlwdCAiQ291cmllciBOZXciLCBtb25vc3BhY2U7JywiICAgICAgICBsaW5lLWhlaWdodDogMS41ZW07IiwiICAgICAgfSIsIiAgICAgIHRhZyB7IiwiICAgICAgICBjb2xvcjogcHVycGxlOyIsIiAgICAgIH0iLCIgICAgICB1bCB7IiwiICAgICAgICAgbWFyZ2luOiAwOyIsIiAgICAgICAgIHBhZGRpbmc6IDA7IiwiICAgICAgICAgbGlzdC1zdHlsZTogbm9uZTsiLCIgICAgICB9IiwiICAgICAgbGkgeyIsIiAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsiLCIgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmMWYxOyIsIiAgICAgICAgIHBhZGRpbmc6IDRweCA2cHg7IiwiICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4OyIsIiAgICAgICAgIG1hcmdpbi1yaWdodDogNHB4OyIsIiAgICAgIH0iLCIgICAgPC9zdHlsZT4iLCIgIDwvaGVhZD4iLCIgIDxib2R5PiIsJyAgICA8dWwgaWQ9ImNydW1icyI+JywiICAgIDwvdWw+IiwnICAgIDxkaXYgaWQ9InRyZWUiPjwvZGl2PicsIiAgPC9ib2R5PiIsIjwvaHRtbD4iXS5qb2luKCJcbiIpLGQ9W10sZT1mdW5jdGlvbigpe3ZhciBhPWIuZG9jdW1lbnQsYz1hLnF1ZXJ5U2VsZWN0b3IoIiNjcnVtYnMiKTtjLnRleHRDb250ZW50PSIiO2Zvcih2YXIgZSxnPTA7ZT1kW2ddO2crKyl7dmFyIGg9YS5jcmVhdGVFbGVtZW50KCJhIik7aC5ocmVmPSIjIixoLnRleHRDb250ZW50PWUubG9jYWxOYW1lLGguaWR4PWcsaC5vbmNsaWNrPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYjtkLmxlbmd0aD50aGlzLmlkeDspYj1kLnBvcCgpO2YoYi5zaGFkb3d8fGIsYiksYS5wcmV2ZW50RGVmYXVsdCgpfSxjLmFwcGVuZENoaWxkKGEuY3JlYXRlRWxlbWVudCgibGkiKSkuYXBwZW5kQ2hpbGQoaCl9fSxmPWZ1bmN0aW9uKGEsYyl7dmFyIGY9Yi5kb2N1bWVudDtrPVtdO3ZhciBnPWN8fGE7ZC5wdXNoKGcpLGUoKSxmLmJvZHkucXVlcnlTZWxlY3RvcigiI3RyZWUiKS5pbm5lckhUTUw9IjxwcmU+IitqKGEsYS5jaGlsZE5vZGVzKSsiPC9wcmU+In0sZz1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpLGg9e1NUWUxFOjEsU0NSSVBUOjEsIiNjb21tZW50IjoxLFRFTVBMQVRFOjF9LGk9ZnVuY3Rpb24oYSl7cmV0dXJuIGhbYS5ub2RlTmFtZV19LGo9ZnVuY3Rpb24oYSxiLGMpe2lmKGkoYSkpcmV0dXJuIiI7dmFyIGQ9Y3x8IiI7aWYoYS5sb2NhbE5hbWV8fDExPT1hLm5vZGVUeXBlKXt2YXIgZT1hLmxvY2FsTmFtZXx8InNoYWRvdy1yb290IixmPWQrbChhKTsiY29udGVudCI9PWUmJihiPWEuZ2V0RGlzdHJpYnV0ZWROb2RlcygpKSxmKz0iPGJyLz4iO3ZhciBoPWQrIiZuYnNwOyZuYnNwOyI7ZyhiLGZ1bmN0aW9uKGEpe2YrPWooYSxhLmNoaWxkTm9kZXMsaCl9KSxmKz1kLHticjoxfVtlXXx8KGYrPSI8dGFnPiZsdDsvIitlKyImZ3Q7PC90YWc+IixmKz0iPGJyLz4iKX1lbHNle3ZhciBrPWEudGV4dENvbnRlbnQudHJpbSgpO2Y9az9kKyciJytrKyciPGJyLz4nOiIifXJldHVybiBmfSxrPVtdLGw9ZnVuY3Rpb24oYSl7dmFyIGI9Ijx0YWc+Jmx0OyIsYz1hLmxvY2FsTmFtZXx8InNoYWRvdy1yb290IjtyZXR1cm4gYS53ZWJraXRTaGFkb3dSb290fHxhLnNoYWRvd1Jvb3Q/KGIrPScgPGJ1dHRvbiBpZHg9Iicray5sZW5ndGgrJyIgb25jbGljaz0iYXBpLnNoYWRvd2l6ZS5jYWxsKHRoaXMpIj4nK2MrIjwvYnV0dG9uPiIsay5wdXNoKGEpKTpiKz1jfHwic2hhZG93LXJvb3QiLGEuYXR0cmlidXRlcyYmZyhhLmF0dHJpYnV0ZXMsZnVuY3Rpb24oYSl7Yis9IiAiK2EubmFtZSsoYS52YWx1ZT8nPSInK2EudmFsdWUrJyInOiIiKX0pLGIrPSImZ3Q7PC90YWc+In07c2hhZG93aXplPWZ1bmN0aW9uKCl7dmFyIGE9TnVtYmVyKHRoaXMuYXR0cmlidXRlcy5pZHgudmFsdWUpLGI9a1thXTtiP2YoYi53ZWJraXRTaGFkb3dSb290fHxiLnNoYWRvd1Jvb3QsYik6KGNvbnNvbGUubG9nKCJiYWQgc2hhZG93aXplIG5vZGUiKSxjb25zb2xlLmRpcih0aGlzKSl9LGEub3V0cHV0PWp9KHdpbmRvdy5JbnNwZWN0b3IpLGZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTthLnRleHRDb250ZW50PSJib2R5IHt0cmFuc2l0aW9uOiBvcGFjaXR5IGVhc2UtaW4gMC4yczsgfSBcbmJvZHlbdW5yZXNvbHZlZF0ge29wYWNpdHk6IDA7IGRpc3BsYXk6IGJsb2NrOyBvdmVyZmxvdzogaGlkZGVuOyB9IFxuIjt2YXIgYj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJoZWFkIik7Yi5pbnNlcnRCZWZvcmUoYSxiLmZpcnN0Q2hpbGQpfShQbGF0Zm9ybSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIpe3JldHVybiBiPWJ8fFtdLGIubWFwfHwoYj1bYl0pLGEuYXBwbHkodGhpcyxiLm1hcChkKSl9ZnVuY3Rpb24gYyhhLGMsZCl7dmFyIGU7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm47Y2FzZSAxOmU9bnVsbDticmVhaztjYXNlIDI6ZT1jLmFwcGx5KHRoaXMpO2JyZWFrO2RlZmF1bHQ6ZT1iKGQsYyl9ZlthXT1lfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGZbYV19ZnVuY3Rpb24gZShhLGMpe0hUTUxJbXBvcnRzLndoZW5JbXBvcnRzUmVhZHkoZnVuY3Rpb24oKXtiKGMsYSl9KX12YXIgZj17fTthLm1hcnNoYWw9ZCxhLm1vZHVsZT1jLGEudXNpbmc9ZX0od2luZG93KSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2YudGV4dENvbnRlbnQ9ZCsrLGUucHVzaChhKX1mdW5jdGlvbiBjKCl7Zm9yKDtlLmxlbmd0aDspZS5zaGlmdCgpKCl9dmFyIGQ9MCxlPVtdLGY9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyh3aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8SnNNdXRhdGlvbk9ic2VydmVyKShjKS5vYnNlcnZlKGYse2NoYXJhY3RlckRhdGE6ITB9KSxhLmVuZE9mTWljcm90YXNrPWJ9KFBsYXRmb3JtKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYixkLGUpe3JldHVybiBhLnJlcGxhY2UoZSxmdW5jdGlvbihhLGUsZixnKXt2YXIgaD1mLnJlcGxhY2UoL1siJ10vZywiIik7cmV0dXJuIGg9YyhiLGgsZCksZSsiJyIraCsiJyIrZ30pfWZ1bmN0aW9uIGMoYSxiLGMpe2lmKGImJiIvIj09PWJbMF0pcmV0dXJuIGI7dmFyIGU9bmV3IFVSTChiLGEpO3JldHVybiBjP2UuaHJlZjpkKGUuaHJlZil9ZnVuY3Rpb24gZChhKXt2YXIgYj1uZXcgVVJMKGRvY3VtZW50LmJhc2VVUkkpLGM9bmV3IFVSTChhLGIpO3JldHVybiBjLmhvc3Q9PT1iLmhvc3QmJmMucG9ydD09PWIucG9ydCYmYy5wcm90b2NvbD09PWIucHJvdG9jb2w/ZShiLGMpOmF9ZnVuY3Rpb24gZShhLGIpe2Zvcih2YXIgYz1hLnBhdGhuYW1lLGQ9Yi5wYXRobmFtZSxlPWMuc3BsaXQoIi8iKSxmPWQuc3BsaXQoIi8iKTtlLmxlbmd0aCYmZVswXT09PWZbMF07KWUuc2hpZnQoKSxmLnNoaWZ0KCk7Zm9yKHZhciBnPTAsaD1lLmxlbmd0aC0xO2g+ZztnKyspZi51bnNoaWZ0KCIuLiIpO3JldHVybiBmLmpvaW4oIi8iKStiLnNlYXJjaCtiLmhhc2h9dmFyIGY9e3Jlc29sdmVEb206ZnVuY3Rpb24oYSxiKXtiPWJ8fGEub3duZXJEb2N1bWVudC5iYXNlVVJJLHRoaXMucmVzb2x2ZUF0dHJpYnV0ZXMoYSxiKSx0aGlzLnJlc29sdmVTdHlsZXMoYSxiKTt2YXIgYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoInRlbXBsYXRlIik7aWYoYylmb3IodmFyIGQsZT0wLGY9Yy5sZW5ndGg7Zj5lJiYoZD1jW2VdKTtlKyspZC5jb250ZW50JiZ0aGlzLnJlc29sdmVEb20oZC5jb250ZW50LGIpfSxyZXNvbHZlVGVtcGxhdGU6ZnVuY3Rpb24oYSl7dGhpcy5yZXNvbHZlRG9tKGEuY29udGVudCxhLm93bmVyRG9jdW1lbnQuYmFzZVVSSSl9LHJlc29sdmVTdHlsZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoInN0eWxlIik7aWYoYylmb3IodmFyIGQsZT0wLGY9Yy5sZW5ndGg7Zj5lJiYoZD1jW2VdKTtlKyspdGhpcy5yZXNvbHZlU3R5bGUoZCxiKX0scmVzb2x2ZVN0eWxlOmZ1bmN0aW9uKGEsYil7Yj1ifHxhLm93bmVyRG9jdW1lbnQuYmFzZVVSSSxhLnRleHRDb250ZW50PXRoaXMucmVzb2x2ZUNzc1RleHQoYS50ZXh0Q29udGVudCxiKX0scmVzb2x2ZUNzc1RleHQ6ZnVuY3Rpb24oYSxjLGQpe3JldHVybiBhPWIoYSxjLGQsZyksYihhLGMsZCxoKX0scmVzb2x2ZUF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSxiKXthLmhhc0F0dHJpYnV0ZXMmJmEuaGFzQXR0cmlidXRlcygpJiZ0aGlzLnJlc29sdmVFbGVtZW50QXR0cmlidXRlcyhhLGIpO3ZhciBjPWEmJmEucXVlcnlTZWxlY3RvckFsbChqKTtpZihjKWZvcih2YXIgZCxlPTAsZj1jLmxlbmd0aDtmPmUmJihkPWNbZV0pO2UrKyl0aGlzLnJlc29sdmVFbGVtZW50QXR0cmlidXRlcyhkLGIpfSxyZXNvbHZlRWxlbWVudEF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSxkKXtkPWR8fGEub3duZXJEb2N1bWVudC5iYXNlVVJJLGkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgZixoPWEuYXR0cmlidXRlc1tlXSxpPWgmJmgudmFsdWU7aSYmaS5zZWFyY2goayk8MCYmKGY9InN0eWxlIj09PWU/YihpLGQsZyk6YyhkLGkpLGgudmFsdWU9Zil9KX19LGc9Lyh1cmxcKCkoW14pXSopKFwpKS9nLGg9LyhAaW1wb3J0W1xzXSsoPyF1cmxcKCkpKFteO10qKSg7KS9nLGk9WyJocmVmIiwic3JjIiwiYWN0aW9uIiwic3R5bGUiXSxqPSJbIitpLmpvaW4oIl0sWyIpKyJdIixrPSJ7ey4qfX0iO2EudXJsUmVzb2x2ZXI9Zn0oUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7dS5wdXNoKGEpLHR8fCh0PSEwLHEoZCkpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCYmd2luZG93LlNoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChhKXx8YX1mdW5jdGlvbiBkKCl7dD0hMTt2YXIgYT11O3U9W10sYS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEudWlkXy1iLnVpZF99KTt2YXIgYj0hMTthLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGM9YS50YWtlUmVjb3JkcygpO2UoYSksYy5sZW5ndGgmJihhLmNhbGxiYWNrXyhjLGEpLGI9ITApfSksYiYmZCgpfWZ1bmN0aW9uIGUoYSl7YS5ub2Rlc18uZm9yRWFjaChmdW5jdGlvbihiKXt2YXIgYz1wLmdldChiKTtjJiZjLmZvckVhY2goZnVuY3Rpb24oYil7Yi5vYnNlcnZlcj09PWEmJmIucmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzKCl9KX0pfWZ1bmN0aW9uIGYoYSxiKXtmb3IodmFyIGM9YTtjO2M9Yy5wYXJlbnROb2RlKXt2YXIgZD1wLmdldChjKTtpZihkKWZvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdLGc9Zi5vcHRpb25zO2lmKGM9PT1hfHxnLnN1YnRyZWUpe3ZhciBoPWIoZyk7aCYmZi5lbnF1ZXVlKGgpfX19fWZ1bmN0aW9uIGcoYSl7dGhpcy5jYWxsYmFja189YSx0aGlzLm5vZGVzXz1bXSx0aGlzLnJlY29yZHNfPVtdLHRoaXMudWlkXz0rK3Z9ZnVuY3Rpb24gaChhLGIpe3RoaXMudHlwZT1hLHRoaXMudGFyZ2V0PWIsdGhpcy5hZGRlZE5vZGVzPVtdLHRoaXMucmVtb3ZlZE5vZGVzPVtdLHRoaXMucHJldmlvdXNTaWJsaW5nPW51bGwsdGhpcy5uZXh0U2libGluZz1udWxsLHRoaXMuYXR0cmlidXRlTmFtZT1udWxsLHRoaXMuYXR0cmlidXRlTmFtZXNwYWNlPW51bGwsdGhpcy5vbGRWYWx1ZT1udWxsfWZ1bmN0aW9uIGkoYSl7dmFyIGI9bmV3IGgoYS50eXBlLGEudGFyZ2V0KTtyZXR1cm4gYi5hZGRlZE5vZGVzPWEuYWRkZWROb2Rlcy5zbGljZSgpLGIucmVtb3ZlZE5vZGVzPWEucmVtb3ZlZE5vZGVzLnNsaWNlKCksYi5wcmV2aW91c1NpYmxpbmc9YS5wcmV2aW91c1NpYmxpbmcsYi5uZXh0U2libGluZz1hLm5leHRTaWJsaW5nLGIuYXR0cmlidXRlTmFtZT1hLmF0dHJpYnV0ZU5hbWUsYi5hdHRyaWJ1dGVOYW1lc3BhY2U9YS5hdHRyaWJ1dGVOYW1lc3BhY2UsYi5vbGRWYWx1ZT1hLm9sZFZhbHVlLGJ9ZnVuY3Rpb24gaihhLGIpe3JldHVybiB3PW5ldyBoKGEsYil9ZnVuY3Rpb24gayhhKXtyZXR1cm4geD94Oih4PWkodykseC5vbGRWYWx1ZT1hLHgpfWZ1bmN0aW9uIGwoKXt3PXg9dm9pZCAwfWZ1bmN0aW9uIG0oYSl7cmV0dXJuIGE9PT14fHxhPT09d31mdW5jdGlvbiBuKGEsYil7cmV0dXJuIGE9PT1iP2E6eCYmbShhKT94Om51bGx9ZnVuY3Rpb24gbyhhLGIsYyl7dGhpcy5vYnNlcnZlcj1hLHRoaXMudGFyZ2V0PWIsdGhpcy5vcHRpb25zPWMsdGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdfXZhciBwPW5ldyBXZWFrTWFwLHE9d2luZG93Lm1zU2V0SW1tZWRpYXRlO2lmKCFxKXt2YXIgcj1bXSxzPVN0cmluZyhNYXRoLnJhbmRvbSgpKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZnVuY3Rpb24oYSl7aWYoYS5kYXRhPT09cyl7dmFyIGI9cjtyPVtdLGIuZm9yRWFjaChmdW5jdGlvbihhKXthKCl9KX19KSxxPWZ1bmN0aW9uKGEpe3IucHVzaChhKSx3aW5kb3cucG9zdE1lc3NhZ2UocywiKiIpfX12YXIgdD0hMSx1PVtdLHY9MDtnLnByb3RvdHlwZT17b2JzZXJ2ZTpmdW5jdGlvbihhLGIpe2lmKGE9YyhhKSwhYi5jaGlsZExpc3QmJiFiLmF0dHJpYnV0ZXMmJiFiLmNoYXJhY3RlckRhdGF8fGIuYXR0cmlidXRlT2xkVmFsdWUmJiFiLmF0dHJpYnV0ZXN8fGIuYXR0cmlidXRlRmlsdGVyJiZiLmF0dHJpYnV0ZUZpbHRlci5sZW5ndGgmJiFiLmF0dHJpYnV0ZXN8fGIuY2hhcmFjdGVyRGF0YU9sZFZhbHVlJiYhYi5jaGFyYWN0ZXJEYXRhKXRocm93IG5ldyBTeW50YXhFcnJvcjt2YXIgZD1wLmdldChhKTtkfHxwLnNldChhLGQ9W10pO2Zvcih2YXIgZSxmPTA7ZjxkLmxlbmd0aDtmKyspaWYoZFtmXS5vYnNlcnZlcj09PXRoaXMpe2U9ZFtmXSxlLnJlbW92ZUxpc3RlbmVycygpLGUub3B0aW9ucz1iO2JyZWFrfWV8fChlPW5ldyBvKHRoaXMsYSxiKSxkLnB1c2goZSksdGhpcy5ub2Rlc18ucHVzaChhKSksZS5hZGRMaXN0ZW5lcnMoKX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe3RoaXMubm9kZXNfLmZvckVhY2goZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXAuZ2V0KGEpLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTtpZihkLm9ic2VydmVyPT09dGhpcyl7ZC5yZW1vdmVMaXN0ZW5lcnMoKSxiLnNwbGljZShjLDEpO2JyZWFrfX19LHRoaXMpLHRoaXMucmVjb3Jkc189W119LHRha2VSZWNvcmRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5yZWNvcmRzXztyZXR1cm4gdGhpcy5yZWNvcmRzXz1bXSxhfX07dmFyIHcseDtvLnByb3RvdHlwZT17ZW5xdWV1ZTpmdW5jdGlvbihhKXt2YXIgYz10aGlzLm9ic2VydmVyLnJlY29yZHNfLGQ9Yy5sZW5ndGg7aWYoYy5sZW5ndGg+MCl7dmFyIGU9Y1tkLTFdLGY9bihlLGEpO2lmKGYpcmV0dXJuIHZvaWQoY1tkLTFdPWYpfWVsc2UgYih0aGlzLm9ic2VydmVyKTtjW2RdPWF9LGFkZExpc3RlbmVyczpmdW5jdGlvbigpe3RoaXMuYWRkTGlzdGVuZXJzXyh0aGlzLnRhcmdldCl9LGFkZExpc3RlbmVyc186ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zO2IuYXR0cmlidXRlcyYmYS5hZGRFdmVudExpc3RlbmVyKCJET01BdHRyTW9kaWZpZWQiLHRoaXMsITApLGIuY2hhcmFjdGVyRGF0YSYmYS5hZGRFdmVudExpc3RlbmVyKCJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWQiLHRoaXMsITApLGIuY2hpbGRMaXN0JiZhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTU5vZGVJbnNlcnRlZCIsdGhpcywhMCksKGIuY2hpbGRMaXN0fHxiLnN1YnRyZWUpJiZhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTU5vZGVSZW1vdmVkIix0aGlzLCEwKX0scmVtb3ZlTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVMaXN0ZW5lcnNfKHRoaXMudGFyZ2V0KX0scmVtb3ZlTGlzdGVuZXJzXzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnM7Yi5hdHRyaWJ1dGVzJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUF0dHJNb2RpZmllZCIsdGhpcywhMCksYi5jaGFyYWN0ZXJEYXRhJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCIsdGhpcywhMCksYi5jaGlsZExpc3QmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NTm9kZUluc2VydGVkIix0aGlzLCEwKSwoYi5jaGlsZExpc3R8fGIuc3VidHJlZSkmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NTm9kZVJlbW92ZWQiLHRoaXMsITApfSxhZGRUcmFuc2llbnRPYnNlcnZlcjpmdW5jdGlvbihhKXtpZihhIT09dGhpcy50YXJnZXQpe3RoaXMuYWRkTGlzdGVuZXJzXyhhKSx0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXMucHVzaChhKTt2YXIgYj1wLmdldChhKTtifHxwLnNldChhLGI9W10pLGIucHVzaCh0aGlzKX19LHJlbW92ZVRyYW5zaWVudE9ic2VydmVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlczt0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W10sYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMucmVtb3ZlTGlzdGVuZXJzXyhhKTtmb3IodmFyIGI9cC5nZXQoYSksYz0wO2M8Yi5sZW5ndGg7YysrKWlmKGJbY109PT10aGlzKXtiLnNwbGljZShjLDEpO2JyZWFrfX0sdGhpcyl9LGhhbmRsZUV2ZW50OmZ1bmN0aW9uKGEpe3N3aXRjaChhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLGEudHlwZSl7Y2FzZSJET01BdHRyTW9kaWZpZWQiOnZhciBiPWEuYXR0ck5hbWUsYz1hLnJlbGF0ZWROb2RlLm5hbWVzcGFjZVVSSSxkPWEudGFyZ2V0LGU9bmV3IGooImF0dHJpYnV0ZXMiLGQpO2UuYXR0cmlidXRlTmFtZT1iLGUuYXR0cmlidXRlTmFtZXNwYWNlPWM7dmFyIGc9YS5hdHRyQ2hhbmdlPT09TXV0YXRpb25FdmVudC5BRERJVElPTj9udWxsOmEucHJldlZhbHVlO2YoZCxmdW5jdGlvbihhKXtyZXR1cm4hYS5hdHRyaWJ1dGVzfHxhLmF0dHJpYnV0ZUZpbHRlciYmYS5hdHRyaWJ1dGVGaWx0ZXIubGVuZ3RoJiYtMT09PWEuYXR0cmlidXRlRmlsdGVyLmluZGV4T2YoYikmJi0xPT09YS5hdHRyaWJ1dGVGaWx0ZXIuaW5kZXhPZihjKT92b2lkIDA6YS5hdHRyaWJ1dGVPbGRWYWx1ZT9rKGcpOmV9KTticmVhaztjYXNlIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCI6dmFyIGQ9YS50YXJnZXQsZT1qKCJjaGFyYWN0ZXJEYXRhIixkKSxnPWEucHJldlZhbHVlO2YoZCxmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGFyYWN0ZXJEYXRhP2EuY2hhcmFjdGVyRGF0YU9sZFZhbHVlP2soZyk6ZTp2b2lkIDB9KTticmVhaztjYXNlIkRPTU5vZGVSZW1vdmVkIjp0aGlzLmFkZFRyYW5zaWVudE9ic2VydmVyKGEudGFyZ2V0KTtjYXNlIkRPTU5vZGVJbnNlcnRlZCI6dmFyIGgsaSxkPWEucmVsYXRlZE5vZGUsbT1hLnRhcmdldDsiRE9NTm9kZUluc2VydGVkIj09PWEudHlwZT8oaD1bbV0saT1bXSk6KGg9W10saT1bbV0pO3ZhciBuPW0ucHJldmlvdXNTaWJsaW5nLG89bS5uZXh0U2libGluZyxlPWooImNoaWxkTGlzdCIsZCk7ZS5hZGRlZE5vZGVzPWgsZS5yZW1vdmVkTm9kZXM9aSxlLnByZXZpb3VzU2libGluZz1uLGUubmV4dFNpYmxpbmc9byxmKGQsZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hpbGRMaXN0P2U6dm9pZCAwfSl9bCgpfX0sYS5Kc011dGF0aW9uT2JzZXJ2ZXI9ZyxhLk11dGF0aW9uT2JzZXJ2ZXJ8fChhLk11dGF0aW9uT2JzZXJ2ZXI9Zyl9KHRoaXMpLHdpbmRvdy5IVE1MSW1wb3J0cz13aW5kb3cuSFRNTEltcG9ydHN8fHtmbGFnczp7fX0sZnVuY3Rpb24oYSl7dmFyIGI9KGEucGF0aCxhLnhociksYz1hLmZsYWdzLGQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmNhY2hlPXt9LHRoaXMub25sb2FkPWEsdGhpcy5vbmNvbXBsZXRlPWIsdGhpcy5pbmZsaWdodD0wLHRoaXMucGVuZGluZz17fX07ZC5wcm90b3R5cGU9e2FkZE5vZGVzOmZ1bmN0aW9uKGEpe3RoaXMuaW5mbGlnaHQrPWEubGVuZ3RoO2Zvcih2YXIgYixjPTAsZD1hLmxlbmd0aDtkPmMmJihiPWFbY10pO2MrKyl0aGlzLnJlcXVpcmUoYik7dGhpcy5jaGVja0RvbmUoKX0sYWRkTm9kZTpmdW5jdGlvbihhKXt0aGlzLmluZmxpZ2h0KyssdGhpcy5yZXF1aXJlKGEpLHRoaXMuY2hlY2tEb25lKCl9LHJlcXVpcmU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5zcmN8fGEuaHJlZjthLl9fbm9kZVVybD1iLHRoaXMuZGVkdXBlKGIsYSl8fHRoaXMuZmV0Y2goYixhKX0sZGVkdXBlOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5wZW5kaW5nW2FdKXJldHVybiB0aGlzLnBlbmRpbmdbYV0ucHVzaChiKSwhMDtyZXR1cm4gdGhpcy5jYWNoZVthXT8odGhpcy5vbmxvYWQoYSxiLHRoaXMuY2FjaGVbYV0pLHRoaXMudGFpbCgpLCEwKToodGhpcy5wZW5kaW5nW2FdPVtiXSwhMSl9LGZldGNoOmZ1bmN0aW9uKGEsZCl7aWYoYy5sb2FkJiZjb25zb2xlLmxvZygiZmV0Y2giLGEsZCksYS5tYXRjaCgvXmRhdGE6Lykpe3ZhciBlPWEuc3BsaXQoIiwiKSxmPWVbMF0sZz1lWzFdO2c9Zi5pbmRleE9mKCI7YmFzZTY0Iik+LTE/YXRvYihnKTpkZWNvZGVVUklDb21wb25lbnQoZyksc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMucmVjZWl2ZShhLGQsbnVsbCxnKX0uYmluZCh0aGlzKSwwKX1lbHNle3ZhciBoPWZ1bmN0aW9uKGIsYyl7dGhpcy5yZWNlaXZlKGEsZCxiLGMpfS5iaW5kKHRoaXMpO2IubG9hZChhLGgpfX0scmVjZWl2ZTpmdW5jdGlvbihhLGIsYyxkKXt0aGlzLmNhY2hlW2FdPWQ7Zm9yKHZhciBlLGY9dGhpcy5wZW5kaW5nW2FdLGc9MCxoPWYubGVuZ3RoO2g+ZyYmKGU9ZltnXSk7ZysrKXRoaXMub25sb2FkKGEsZSxkKSx0aGlzLnRhaWwoKTt0aGlzLnBlbmRpbmdbYV09bnVsbH0sdGFpbDpmdW5jdGlvbigpey0tdGhpcy5pbmZsaWdodCx0aGlzLmNoZWNrRG9uZSgpfSxjaGVja0RvbmU6ZnVuY3Rpb24oKXt0aGlzLmluZmxpZ2h0fHx0aGlzLm9uY29tcGxldGUoKX19LGI9Ynx8e2FzeW5jOiEwLG9rOmZ1bmN0aW9uKGEpe3JldHVybiBhLnN0YXR1cz49MjAwJiZhLnN0YXR1czwzMDB8fDMwND09PWEuc3RhdHVzfHwwPT09YS5zdGF0dXN9LGxvYWQ6ZnVuY3Rpb24oYyxkLGUpe3ZhciBmPW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4oYS5mbGFncy5kZWJ1Z3x8YS5mbGFncy5idXN0KSYmKGMrPSI/IitNYXRoLnJhbmRvbSgpKSxmLm9wZW4oIkdFVCIsYyxiLmFzeW5jKSxmLmFkZEV2ZW50TGlzdGVuZXIoInJlYWR5c3RhdGVjaGFuZ2UiLGZ1bmN0aW9uKCl7ND09PWYucmVhZHlTdGF0ZSYmZC5jYWxsKGUsIWIub2soZikmJmYsZi5yZXNwb25zZXx8Zi5yZXNwb25zZVRleHQsYyl9KSxmLnNlbmQoKSxmfSxsb2FkRG9jdW1lbnQ6ZnVuY3Rpb24oYSxiLGMpe3RoaXMubG9hZChhLGIsYykucmVzcG9uc2VUeXBlPSJkb2N1bWVudCJ9fSxhLnhocj1iLGEuTG9hZGVyPWR9KHdpbmRvdy5IVE1MSW1wb3J0cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4ibGluayI9PT1hLmxvY2FsTmFtZSYmYS5yZWw9PT1nfWZ1bmN0aW9uIGMoYSl7dmFyIGIsYz1kKGEpO3RyeXtiPWJ0b2EoYyl9Y2F0Y2goZSl7Yj1idG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChjKSkpLGNvbnNvbGUud2FybigiU2NyaXB0IGNvbnRhaW5lZCBub24tbGF0aW4gY2hhcmFjdGVycyB0aGF0IHdlcmUgZm9yY2VkIHRvIGxhdGluLiBTb21lIGNoYXJhY3RlcnMgbWF5IGJlIHdyb25nLiIsYSl9cmV0dXJuImRhdGE6dGV4dC9qYXZhc2NyaXB0O2Jhc2U2NCwiK2J9ZnVuY3Rpb24gZChhKXtyZXR1cm4gYS50ZXh0Q29udGVudCtlKGEpfWZ1bmN0aW9uIGUoYSl7dmFyIGI9YS5fX25vZGVVcmw7aWYoIWIpe2I9YS5vd25lckRvY3VtZW50LmJhc2VVUkk7dmFyIGM9IlsiK01hdGguZmxvb3IoMWUzKihNYXRoLnJhbmRvbSgpKzEpKSsiXSIsZD1hLnRleHRDb250ZW50Lm1hdGNoKC9Qb2x5bWVyXChbJyJdKFteJyJdKikvKTtjPWQmJmRbMV18fGMsYis9Ii8iK2MrIi5qcyJ9cmV0dXJuIlxuLy8jIHNvdXJjZVVSTD0iK2IrIlxuIn1mdW5jdGlvbiBmKGEpe3ZhciBiPWEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO3JldHVybiBiLnRleHRDb250ZW50PWEudGV4dENvbnRlbnQsbi5yZXNvbHZlVXJsc0luU3R5bGUoYiksYn12YXIgZz0iaW1wb3J0IixoPWEuZmxhZ3MsaT0vVHJpZGVudC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxqPXdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD93aW5kb3cuU2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKGRvY3VtZW50KTpkb2N1bWVudCxrPXtkb2N1bWVudFNlbGVjdG9yczoibGlua1tyZWw9IitnKyJdIixpbXBvcnRzU2VsZWN0b3JzOlsibGlua1tyZWw9IitnKyJdIiwibGlua1tyZWw9c3R5bGVzaGVldF0iLCJzdHlsZSIsInNjcmlwdDpub3QoW3R5cGVdKSIsJ3NjcmlwdFt0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiXSddLmpvaW4oIiwiKSxtYXA6e2xpbms6InBhcnNlTGluayIsc2NyaXB0OiJwYXJzZVNjcmlwdCIsc3R5bGU6InBhcnNlU3R5bGUifSxwYXJzZU5leHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm5leHRUb1BhcnNlKCk7YSYmdGhpcy5wYXJzZShhKX0scGFyc2U6ZnVuY3Rpb24oYSl7aWYodGhpcy5pc1BhcnNlZChhKSlyZXR1cm4gdm9pZChoLnBhcnNlJiZjb25zb2xlLmxvZygiWyVzXSBpcyBhbHJlYWR5IHBhcnNlZCIsYS5sb2NhbE5hbWUpKTt2YXIgYj10aGlzW3RoaXMubWFwW2EubG9jYWxOYW1lXV07YiYmKHRoaXMubWFya1BhcnNpbmcoYSksYi5jYWxsKHRoaXMsYSkpfSxtYXJrUGFyc2luZzpmdW5jdGlvbihhKXtoLnBhcnNlJiZjb25zb2xlLmxvZygicGFyc2luZyIsYSksdGhpcy5wYXJzaW5nRWxlbWVudD1hfSxtYXJrUGFyc2luZ0NvbXBsZXRlOmZ1bmN0aW9uKGEpe2EuX19pbXBvcnRQYXJzZWQ9ITAsYS5fX2ltcG9ydEVsZW1lbnQmJihhLl9faW1wb3J0RWxlbWVudC5fX2ltcG9ydFBhcnNlZD0hMCksdGhpcy5wYXJzaW5nRWxlbWVudD1udWxsLGgucGFyc2UmJmNvbnNvbGUubG9nKCJjb21wbGV0ZWQiLGEpLHRoaXMucGFyc2VOZXh0KCl9LHBhcnNlSW1wb3J0OmZ1bmN0aW9uKGEpe2lmKGEuaW1wb3J0Ll9faW1wb3J0UGFyc2VkPSEwLEhUTUxJbXBvcnRzLl9faW1wb3J0c1BhcnNpbmdIb29rJiZIVE1MSW1wb3J0cy5fX2ltcG9ydHNQYXJzaW5nSG9vayhhKSxhLmRpc3BhdGNoRXZlbnQoYS5fX3Jlc291cmNlP25ldyBDdXN0b21FdmVudCgibG9hZCIse2J1YmJsZXM6ITF9KTpuZXcgQ3VzdG9tRXZlbnQoImVycm9yIix7YnViYmxlczohMX0pKSxhLl9fcGVuZGluZylmb3IodmFyIGI7YS5fX3BlbmRpbmcubGVuZ3RoOyliPWEuX19wZW5kaW5nLnNoaWZ0KCksYiYmYih7dGFyZ2V0OmF9KTt0aGlzLm1hcmtQYXJzaW5nQ29tcGxldGUoYSl9LHBhcnNlTGluazpmdW5jdGlvbihhKXtiKGEpP3RoaXMucGFyc2VJbXBvcnQoYSk6KGEuaHJlZj1hLmhyZWYsdGhpcy5wYXJzZUdlbmVyaWMoYSkpfSxwYXJzZVN0eWxlOmZ1bmN0aW9uKGEpe3ZhciBiPWE7YT1mKGEpLGEuX19pbXBvcnRFbGVtZW50PWIsdGhpcy5wYXJzZUdlbmVyaWMoYSl9LHBhcnNlR2VuZXJpYzpmdW5jdGlvbihhKXt0aGlzLnRyYWNrRWxlbWVudChhKSxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGEpfSx0cmFja0VsZW1lbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9ZnVuY3Rpb24oZCl7YiYmYihkKSxjLm1hcmtQYXJzaW5nQ29tcGxldGUoYSl9O2lmKGEuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsZCksYS5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsZCksaSYmInN0eWxlIj09PWEubG9jYWxOYW1lKXt2YXIgZT0hMTtpZigtMT09YS50ZXh0Q29udGVudC5pbmRleE9mKCJAaW1wb3J0IikpZT0hMDtlbHNlIGlmKGEuc2hlZXQpe2U9ITA7Zm9yKHZhciBmLGc9YS5zaGVldC5jc3NSdWxlcyxoPWc/Zy5sZW5ndGg6MCxqPTA7aD5qJiYoZj1nW2pdKTtqKyspZi50eXBlPT09Q1NTUnVsZS5JTVBPUlRfUlVMRSYmKGU9ZSYmQm9vbGVhbihmLnN0eWxlU2hlZXQpKX1lJiZhLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJsb2FkIix7YnViYmxlczohMX0pKX19LHBhcnNlU2NyaXB0OmZ1bmN0aW9uKGIpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2QuX19pbXBvcnRFbGVtZW50PWIsZC5zcmM9Yi5zcmM/Yi5zcmM6YyhiKSxhLmN1cnJlbnRTY3JpcHQ9Yix0aGlzLnRyYWNrRWxlbWVudChkLGZ1bmN0aW9uKCl7ZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpLGEuY3VycmVudFNjcmlwdD1udWxsfSksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChkKX0sbmV4dFRvUGFyc2U6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5wYXJzaW5nRWxlbWVudCYmdGhpcy5uZXh0VG9QYXJzZUluRG9jKGopfSxuZXh0VG9QYXJzZUluRG9jOmZ1bmN0aW9uKGEsYyl7Zm9yKHZhciBkLGU9YS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMucGFyc2VTZWxlY3RvcnNGb3JOb2RlKGEpKSxmPTAsZz1lLmxlbmd0aDtnPmYmJihkPWVbZl0pO2YrKylpZighdGhpcy5pc1BhcnNlZChkKSlyZXR1cm4gdGhpcy5oYXNSZXNvdXJjZShkKT9iKGQpP3RoaXMubmV4dFRvUGFyc2VJbkRvYyhkLmltcG9ydCxkKTpkOnZvaWQgMDtyZXR1cm4gY30scGFyc2VTZWxlY3RvcnNGb3JOb2RlOmZ1bmN0aW9uKGEpe3ZhciBiPWEub3duZXJEb2N1bWVudHx8YTtyZXR1cm4gYj09PWo/dGhpcy5kb2N1bWVudFNlbGVjdG9yczp0aGlzLmltcG9ydHNTZWxlY3RvcnN9LGlzUGFyc2VkOmZ1bmN0aW9uKGEpe3JldHVybiBhLl9faW1wb3J0UGFyc2VkfSxoYXNSZXNvdXJjZTpmdW5jdGlvbihhKXtyZXR1cm4gYihhKSYmIWEuaW1wb3J0PyExOiEwfX0sbD0vKHVybFwoKShbXildKikoXCkpL2csbT0vKEBpbXBvcnRbXHNdKyg/IXVybFwoKSkoW147XSopKDspL2csbj17cmVzb2x2ZVVybHNJblN0eWxlOmZ1bmN0aW9uKGEpe3ZhciBiPWEub3duZXJEb2N1bWVudCxjPWIuY3JlYXRlRWxlbWVudCgiYSIpO3JldHVybiBhLnRleHRDb250ZW50PXRoaXMucmVzb2x2ZVVybHNJbkNzc1RleHQoYS50ZXh0Q29udGVudCxjKSxhfSxyZXNvbHZlVXJsc0luQ3NzVGV4dDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucmVwbGFjZVVybHMoYSxiLGwpO3JldHVybiBjPXRoaXMucmVwbGFjZVVybHMoYyxiLG0pfSxyZXBsYWNlVXJsczpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGEucmVwbGFjZShjLGZ1bmN0aW9uKGEsYyxkLGUpe3ZhciBmPWQucmVwbGFjZSgvWyInXS9nLCIiKTtyZXR1cm4gYi5ocmVmPWYsZj1iLmhyZWYsYysiJyIrZisiJyIrZX0pfX07YS5wYXJzZXI9ayxhLnBhdGg9bixhLmlzSUU9aX0oSFRNTEltcG9ydHMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGMoYSxtKX1mdW5jdGlvbiBjKGEsYil7cmV0dXJuImxpbmsiPT09YS5sb2NhbE5hbWUmJmEuZ2V0QXR0cmlidXRlKCJyZWwiKT09PWJ9ZnVuY3Rpb24gZChhLGIpe3ZhciBjPWE7YyBpbnN0YW5jZW9mIERvY3VtZW50fHwoYz1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQobSkpLGMuX1VSTD1iO3ZhciBkPWMuY3JlYXRlRWxlbWVudCgiYmFzZSIpO2Quc2V0QXR0cmlidXRlKCJocmVmIixiKSxjLmJhc2VVUkl8fChjLmJhc2VVUkk9Yik7dmFyIGU9Yy5jcmVhdGVFbGVtZW50KCJtZXRhIik7cmV0dXJuIGUuc2V0QXR0cmlidXRlKCJjaGFyc2V0IiwidXRmLTgiKSxjLmhlYWQuYXBwZW5kQ2hpbGQoZSksYy5oZWFkLmFwcGVuZENoaWxkKGQpLGEgaW5zdGFuY2VvZiBEb2N1bWVudHx8KGMuYm9keS5pbm5lckhUTUw9YSksd2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQmJkhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwJiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcChjKSxjfWZ1bmN0aW9uIGUoYSxiKXtiPWJ8fG4sZyhmdW5jdGlvbigpe2goYSxiKX0sYil9ZnVuY3Rpb24gZihhKXtyZXR1cm4iY29tcGxldGUiPT09YS5yZWFkeVN0YXRlfHxhLnJlYWR5U3RhdGU9PT11fWZ1bmN0aW9uIGcoYSxiKXtpZihmKGIpKWEmJmEoKTtlbHNle3ZhciBjPWZ1bmN0aW9uKCl7KCJjb21wbGV0ZSI9PT1iLnJlYWR5U3RhdGV8fGIucmVhZHlTdGF0ZT09PXUpJiYoYi5yZW1vdmVFdmVudExpc3RlbmVyKHYsYyksZyhhLGIpKX07Yi5hZGRFdmVudExpc3RlbmVyKHYsYyl9fWZ1bmN0aW9uIGgoYSxiKXtmdW5jdGlvbiBjKCl7Zj09ZyYmcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGEpfWZ1bmN0aW9uIGQoKXtmKyssYygpfXZhciBlPWIucXVlcnlTZWxlY3RvckFsbCgibGlua1tyZWw9aW1wb3J0XSIpLGY9MCxnPWUubGVuZ3RoO2lmKGcpZm9yKHZhciBoLGo9MDtnPmomJihoPWVbal0pO2orKylpKGgpP2QuY2FsbChoKTooaC5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixkKSxoLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixkKSk7ZWxzZSBjKCl9ZnVuY3Rpb24gaShhKXtyZXR1cm4gaz9hLmltcG9ydCYmImxvYWRpbmciIT09YS5pbXBvcnQucmVhZHlTdGF0ZTphLl9faW1wb3J0UGFyc2VkfXZhciBqPSJpbXBvcnQiaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGluayIpLGs9aixsPWEuZmxhZ3MsbT0iaW1wb3J0IixuPXdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD9TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoZG9jdW1lbnQpOmRvY3VtZW50O2lmKGspdmFyIG89e307ZWxzZSB2YXIgcD0oYS54aHIsYS5Mb2FkZXIpLHE9YS5wYXJzZXIsbz17ZG9jdW1lbnRzOnt9LGRvY3VtZW50UHJlbG9hZFNlbGVjdG9yczoibGlua1tyZWw9IittKyJdIixpbXBvcnRzUHJlbG9hZFNlbGVjdG9yczpbImxpbmtbcmVsPSIrbSsiXSJdLmpvaW4oIiwiKSxsb2FkTm9kZTpmdW5jdGlvbihhKXtyLmFkZE5vZGUoYSl9LGxvYWRTdWJ0cmVlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubWFyc2hhbE5vZGVzKGEpO3IuYWRkTm9kZXMoYil9LG1hcnNoYWxOb2RlczpmdW5jdGlvbihhKXtyZXR1cm4gYS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMubG9hZFNlbGVjdG9yc0Zvck5vZGUoYSkpfSxsb2FkU2VsZWN0b3JzRm9yTm9kZTpmdW5jdGlvbihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnR8fGE7cmV0dXJuIGI9PT1uP3RoaXMuZG9jdW1lbnRQcmVsb2FkU2VsZWN0b3JzOnRoaXMuaW1wb3J0c1ByZWxvYWRTZWxlY3RvcnN9LGxvYWRlZDpmdW5jdGlvbihhLGMsZSl7aWYobC5sb2FkJiZjb25zb2xlLmxvZygibG9hZGVkIixhLGMpLGMuX19yZXNvdXJjZT1lLGIoYykpe3ZhciBmPXRoaXMuZG9jdW1lbnRzW2FdO2Z8fChmPWQoZSxhKSxmLl9faW1wb3J0TGluaz1jLHRoaXMuYm9vdERvY3VtZW50KGYpLHRoaXMuZG9jdW1lbnRzW2FdPWYpLGMuaW1wb3J0PWZ9cS5wYXJzZU5leHQoKX0sYm9vdERvY3VtZW50OmZ1bmN0aW9uKGEpe3RoaXMubG9hZFN1YnRyZWUoYSksdGhpcy5vYnNlcnZlKGEpLHEucGFyc2VOZXh0KCl9LGxvYWRlZEFsbDpmdW5jdGlvbigpe3EucGFyc2VOZXh0KCl9fSxyPW5ldyBwKG8ubG9hZGVkLmJpbmQobyksby5sb2FkZWRBbGwuYmluZChvKSk7dmFyIHM9e2dldDpmdW5jdGlvbigpe3JldHVybiBIVE1MSW1wb3J0cy5jdXJyZW50U2NyaXB0fHxkb2N1bWVudC5jdXJyZW50U2NyaXB0fSxjb25maWd1cmFibGU6ITB9O2lmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkb2N1bWVudCwiX2N1cnJlbnRTY3JpcHQiLHMpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfY3VycmVudFNjcmlwdCIscyksIWRvY3VtZW50LmJhc2VVUkkpe3ZhciB0PXtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmxvY2F0aW9uLmhyZWZ9LGNvbmZpZ3VyYWJsZTohMH07T2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LCJiYXNlVVJJIix0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiYmFzZVVSSSIsdCl9dmFyIHU9SFRNTEltcG9ydHMuaXNJRT8iY29tcGxldGUiOiJpbnRlcmFjdGl2ZSIsdj0icmVhZHlzdGF0ZWNoYW5nZSI7YS5oYXNOYXRpdmU9aixhLnVzZU5hdGl2ZT1rLGEuaW1wb3J0ZXI9byxhLndoZW5JbXBvcnRzUmVhZHk9ZSxhLklNUE9SVF9MSU5LX1RZUEU9bSxhLmlzSW1wb3J0TG9hZGVkPWksYS5pbXBvcnRMb2FkZXI9cn0od2luZG93LkhUTUxJbXBvcnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2Zvcih2YXIgYixkPTAsZT1hLmxlbmd0aDtlPmQmJihiPWFbZF0pO2QrKykiY2hpbGRMaXN0Ij09PWIudHlwZSYmYi5hZGRlZE5vZGVzLmxlbmd0aCYmYyhiLmFkZGVkTm9kZXMpfWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBiLGU9MCxnPWEubGVuZ3RoO2c+ZSYmKGI9YVtlXSk7ZSsrKWQoYikmJmYubG9hZE5vZGUoYiksYi5jaGlsZHJlbiYmYi5jaGlsZHJlbi5sZW5ndGgmJmMoYi5jaGlsZHJlbil9ZnVuY3Rpb24gZChhKXtyZXR1cm4gMT09PWEubm9kZVR5cGUmJmcuY2FsbChhLGYubG9hZFNlbGVjdG9yc0Zvck5vZGUoYSkpfWZ1bmN0aW9uIGUoYSl7aC5vYnNlcnZlKGEse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSl9dmFyIGY9KGEuSU1QT1JUX0xJTktfVFlQRSxhLmltcG9ydGVyKSxnPUhUTUxFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzfHxIVE1MRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlc1NlbGVjdG9yfHxIVE1MRWxlbWVudC5wcm90b3R5cGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxIVE1MRWxlbWVudC5wcm90b3R5cGUubW96TWF0Y2hlc1NlbGVjdG9yfHxIVE1MRWxlbWVudC5wcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3IsaD1uZXcgTXV0YXRpb25PYnNlcnZlcihiKTthLm9ic2VydmU9ZSxmLm9ic2VydmU9ZX0oSFRNTEltcG9ydHMpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe0hUTUxJbXBvcnRzLmltcG9ydGVyLmJvb3REb2N1bWVudChiKX0iZnVuY3Rpb24iIT10eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50JiYod2luZG93LkN1c3RvbUV2ZW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkhUTUxFdmVudHMiKTtyZXR1cm4gYy5pbml0RXZlbnQoYSxiLmJ1YmJsZXM9PT0hMT8hMTohMCxiLmNhbmNlbGFibGU9PT0hMT8hMTohMCxiLmRldGFpbCksY30pO3ZhciBiPXdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD93aW5kb3cuU2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKGRvY3VtZW50KTpkb2N1bWVudDtIVE1MSW1wb3J0cy53aGVuSW1wb3J0c1JlYWR5KGZ1bmN0aW9uKCl7SFRNTEltcG9ydHMucmVhZHk9ITAsSFRNTEltcG9ydHMucmVhZHlUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGIuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoIkhUTUxJbXBvcnRzTG9hZGVkIix7YnViYmxlczohMH0pKX0pLEhUTUxJbXBvcnRzLnVzZU5hdGl2ZXx8KCJjb21wbGV0ZSI9PT1kb2N1bWVudC5yZWFkeVN0YXRlfHwiaW50ZXJhY3RpdmUiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmIXdpbmRvdy5hdHRhY2hFdmVudD9hKCk6ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsYSkpfSgpLHdpbmRvdy5DdXN0b21FbGVtZW50cz13aW5kb3cuQ3VzdG9tRWxlbWVudHN8fHtmbGFnczp7fX0sZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGMsZCl7dmFyIGU9YS5maXJzdEVsZW1lbnRDaGlsZDtpZighZSlmb3IoZT1hLmZpcnN0Q2hpbGQ7ZSYmZS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFOyllPWUubmV4dFNpYmxpbmc7Zm9yKDtlOyljKGUsZCkhPT0hMCYmYihlLGMsZCksZT1lLm5leHRFbGVtZW50U2libGluZztyZXR1cm4gbnVsbH1mdW5jdGlvbiBjKGEsYil7Zm9yKHZhciBjPWEuc2hhZG93Um9vdDtjOylkKGMsYiksYz1jLm9sZGVyU2hhZG93Um9vdH1mdW5jdGlvbiBkKGEsZCl7YihhLGZ1bmN0aW9uKGEpe3JldHVybiBkKGEpPyEwOnZvaWQgYyhhLGQpfSksYyhhLGQpfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIGgoYSk/KGkoYSksITApOnZvaWQgbChhKX1mdW5jdGlvbiBmKGEpe2QoYSxmdW5jdGlvbihhKXtyZXR1cm4gZShhKT8hMDp2b2lkIDB9KX1mdW5jdGlvbiBnKGEpe3JldHVybiBlKGEpfHxmKGEpfWZ1bmN0aW9uIGgoYil7aWYoIWIuX191cGdyYWRlZF9fJiZiLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUpe3ZhciBjPWIuZ2V0QXR0cmlidXRlKCJpcyIpfHxiLmxvY2FsTmFtZSxkPWEucmVnaXN0cnlbY107aWYoZClyZXR1cm4gQS5kb20mJmNvbnNvbGUuZ3JvdXAoInVwZ3JhZGU6IixiLmxvY2FsTmFtZSksYS51cGdyYWRlKGIpLEEuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCksITB9fWZ1bmN0aW9uIGkoYSl7bChhKSxyKGEpJiZkKGEsZnVuY3Rpb24oYSl7bChhKX0pfWZ1bmN0aW9uIGooYSl7aWYoRS5wdXNoKGEpLCFEKXtEPSEwO3ZhciBiPXdpbmRvdy5QbGF0Zm9ybSYmd2luZG93LlBsYXRmb3JtLmVuZE9mTWljcm90YXNrfHxzZXRUaW1lb3V0O2Ioayl9fWZ1bmN0aW9uIGsoKXtEPSExO2Zvcih2YXIgYSxiPUUsYz0wLGQ9Yi5sZW5ndGg7ZD5jJiYoYT1iW2NdKTtjKyspYSgpO0U9W119ZnVuY3Rpb24gbChhKXtDP2ooZnVuY3Rpb24oKXttKGEpfSk6bShhKX1mdW5jdGlvbiBtKGEpeyhhLmF0dGFjaGVkQ2FsbGJhY2t8fGEuZGV0YWNoZWRDYWxsYmFja3x8YS5fX3VwZ3JhZGVkX18mJkEuZG9tKSYmKEEuZG9tJiZjb25zb2xlLmdyb3VwKCJpbnNlcnRlZDoiLGEubG9jYWxOYW1lKSxyKGEpJiYoYS5fX2luc2VydGVkPShhLl9faW5zZXJ0ZWR8fDApKzEsYS5fX2luc2VydGVkPDEmJihhLl9faW5zZXJ0ZWQ9MSksYS5fX2luc2VydGVkPjE/QS5kb20mJmNvbnNvbGUud2FybigiaW5zZXJ0ZWQ6IixhLmxvY2FsTmFtZSwiaW5zZXJ0L3JlbW92ZSBjb3VudDoiLGEuX19pbnNlcnRlZCk6YS5hdHRhY2hlZENhbGxiYWNrJiYoQS5kb20mJmNvbnNvbGUubG9nKCJpbnNlcnRlZDoiLGEubG9jYWxOYW1lKSxhLmF0dGFjaGVkQ2FsbGJhY2soKSkpLEEuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCkpfWZ1bmN0aW9uIG4oYSl7byhhKSxkKGEsZnVuY3Rpb24oYSl7byhhKX0pfWZ1bmN0aW9uIG8oYSl7Qz9qKGZ1bmN0aW9uKCl7cChhKX0pOnAoYSl9ZnVuY3Rpb24gcChhKXsoYS5hdHRhY2hlZENhbGxiYWNrfHxhLmRldGFjaGVkQ2FsbGJhY2t8fGEuX191cGdyYWRlZF9fJiZBLmRvbSkmJihBLmRvbSYmY29uc29sZS5ncm91cCgicmVtb3ZlZDoiLGEubG9jYWxOYW1lKSxyKGEpfHwoYS5fX2luc2VydGVkPShhLl9faW5zZXJ0ZWR8fDApLTEsYS5fX2luc2VydGVkPjAmJihhLl9faW5zZXJ0ZWQ9MCksYS5fX2luc2VydGVkPDA/QS5kb20mJmNvbnNvbGUud2FybigicmVtb3ZlZDoiLGEubG9jYWxOYW1lLCJpbnNlcnQvcmVtb3ZlIGNvdW50OiIsYS5fX2luc2VydGVkKTphLmRldGFjaGVkQ2FsbGJhY2smJmEuZGV0YWNoZWRDYWxsYmFjaygpKSxBLmRvbSYmY29uc29sZS5ncm91cEVuZCgpKX1mdW5jdGlvbiBxKGEpe3JldHVybiB3aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/U2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKGEpOmF9ZnVuY3Rpb24gcihhKXtmb3IodmFyIGI9YSxjPXEoZG9jdW1lbnQpO2I7KXtpZihiPT1jKXJldHVybiEwO2I9Yi5wYXJlbnROb2RlfHxiLmhvc3R9fWZ1bmN0aW9uIHMoYSl7aWYoYS5zaGFkb3dSb290JiYhYS5zaGFkb3dSb290Ll9fd2F0Y2hlZCl7QS5kb20mJmNvbnNvbGUubG9nKCJ3YXRjaGluZyBzaGFkb3ctcm9vdCBmb3I6ICIsYS5sb2NhbE5hbWUpO2Zvcih2YXIgYj1hLnNoYWRvd1Jvb3Q7YjspdChiKSxiPWIub2xkZXJTaGFkb3dSb290fX1mdW5jdGlvbiB0KGEpe2EuX193YXRjaGVkfHwodyhhKSxhLl9fd2F0Y2hlZD0hMCl9ZnVuY3Rpb24gdShhKXtpZihBLmRvbSl7dmFyIGI9YVswXTtpZihiJiYiY2hpbGRMaXN0Ij09PWIudHlwZSYmYi5hZGRlZE5vZGVzJiZiLmFkZGVkTm9kZXMpe2Zvcih2YXIgYz1iLmFkZGVkTm9kZXNbMF07YyYmYyE9PWRvY3VtZW50JiYhYy5ob3N0OyljPWMucGFyZW50Tm9kZTt2YXIgZD1jJiYoYy5VUkx8fGMuX1VSTHx8Yy5ob3N0JiZjLmhvc3QubG9jYWxOYW1lKXx8IiI7ZD1kLnNwbGl0KCIvPyIpLnNoaWZ0KCkuc3BsaXQoIi8iKS5wb3AoKX1jb25zb2xlLmdyb3VwKCJtdXRhdGlvbnMgKCVkKSBbJXNdIixhLmxlbmd0aCxkfHwiIil9YS5mb3JFYWNoKGZ1bmN0aW9uKGEpeyJjaGlsZExpc3QiPT09YS50eXBlJiYoRyhhLmFkZGVkTm9kZXMsZnVuY3Rpb24oYSl7YS5sb2NhbE5hbWUmJmcoYSl9KSxHKGEucmVtb3ZlZE5vZGVzLGZ1bmN0aW9uKGEpe2EubG9jYWxOYW1lJiZuKGEpfSkpfSksQS5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKX1mdW5jdGlvbiB2KCl7dShGLnRha2VSZWNvcmRzKCkpLGsoKX1mdW5jdGlvbiB3KGEpe0Yub2JzZXJ2ZShhLHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pfWZ1bmN0aW9uIHgoYSl7dyhhKX1mdW5jdGlvbiB5KGEpe0EuZG9tJiZjb25zb2xlLmdyb3VwKCJ1cGdyYWRlRG9jdW1lbnQ6ICIsYS5iYXNlVVJJLnNwbGl0KCIvIikucG9wKCkpLGcoYSksQS5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKX1mdW5jdGlvbiB6KGEpe2E9cShhKTtmb3IodmFyIGIsYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoImxpbmtbcmVsPSIrQisiXSIpLGQ9MCxlPWMubGVuZ3RoO2U+ZCYmKGI9Y1tkXSk7ZCsrKWIuaW1wb3J0JiZiLmltcG9ydC5fX3BhcnNlZCYmeihiLmltcG9ydCk7eShhKX12YXIgQT13aW5kb3cubG9nRmxhZ3N8fHt9LEI9d2luZG93LkhUTUxJbXBvcnRzP0hUTUxJbXBvcnRzLklNUE9SVF9MSU5LX1RZUEU6Im5vbmUiLEM9IXdpbmRvdy5NdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuTXV0YXRpb25PYnNlcnZlcj09PXdpbmRvdy5Kc011dGF0aW9uT2JzZXJ2ZXI7YS5oYXNQb2x5ZmlsbE11dGF0aW9ucz1DO3ZhciBEPSExLEU9W10sRj1uZXcgTXV0YXRpb25PYnNlcnZlcih1KSxHPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCk7YS5JTVBPUlRfTElOS19UWVBFPUIsYS53YXRjaFNoYWRvdz1zLGEudXBncmFkZURvY3VtZW50VHJlZT16LGEudXBncmFkZUFsbD1nLGEudXBncmFkZVN1YnRyZWU9ZixhLmluc2VydGVkTm9kZT1pLGEub2JzZXJ2ZURvY3VtZW50PXgsYS51cGdyYWRlRG9jdW1lbnQ9eSxhLnRha2VSZWNvcmRzPXZ9KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiLGcpe3ZhciBoPWd8fHt9O2lmKCFiKXRocm93IG5ldyBFcnJvcigiZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50OiBmaXJzdCBhcmd1bWVudCBgbmFtZWAgbXVzdCBub3QgYmUgZW1wdHkiKTtpZihiLmluZGV4T2YoIi0iKTwwKXRocm93IG5ldyBFcnJvcigiZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50OiBmaXJzdCBhcmd1bWVudCAoJ25hbWUnKSBtdXN0IGNvbnRhaW4gYSBkYXNoICgnLScpLiBBcmd1bWVudCBwcm92aWRlZCB3YXMgJyIrU3RyaW5nKGIpKyInLiIpO2lmKGMoYikpdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gZXhlY3V0ZSAncmVnaXN0ZXJFbGVtZW50JyBvbiAnRG9jdW1lbnQnOiBSZWdpc3RyYXRpb24gZmFpbGVkIGZvciB0eXBlICciK1N0cmluZyhiKSsiJy4gVGhlIHR5cGUgbmFtZSBpcyBpbnZhbGlkLiIpO2lmKG4oYikpdGhyb3cgbmV3IEVycm9yKCJEdXBsaWNhdGVEZWZpbml0aW9uRXJyb3I6IGEgdHlwZSB3aXRoIG5hbWUgJyIrU3RyaW5nKGIpKyInIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCIpO2lmKCFoLnByb3RvdHlwZSl0aHJvdyBuZXcgRXJyb3IoIk9wdGlvbnMgbWlzc2luZyByZXF1aXJlZCBwcm90b3R5cGUgcHJvcGVydHkiKTtyZXR1cm4gaC5fX25hbWU9Yi50b0xvd2VyQ2FzZSgpLGgubGlmZWN5Y2xlPWgubGlmZWN5Y2xlfHx7fSxoLmFuY2VzdHJ5PWQoaC5leHRlbmRzKSxlKGgpLGYoaCksbChoLnByb3RvdHlwZSksbyhoLl9fbmFtZSxoKSxoLmN0b3I9cChoKSxoLmN0b3IucHJvdG90eXBlPWgucHJvdG90eXBlLGgucHJvdG90eXBlLmNvbnN0cnVjdG9yPWguY3RvcixhLnJlYWR5JiZhLnVwZ3JhZGVEb2N1bWVudFRyZWUoZG9jdW1lbnQpLGguY3Rvcn1mdW5jdGlvbiBjKGEpe2Zvcih2YXIgYj0wO2I8eS5sZW5ndGg7YisrKWlmKGE9PT15W2JdKXJldHVybiEwfWZ1bmN0aW9uIGQoYSl7dmFyIGI9bihhKTtyZXR1cm4gYj9kKGIuZXh0ZW5kcykuY29uY2F0KFtiXSk6W119ZnVuY3Rpb24gZShhKXtmb3IodmFyIGIsYz1hLmV4dGVuZHMsZD0wO2I9YS5hbmNlc3RyeVtkXTtkKyspYz1iLmlzJiZiLnRhZzthLnRhZz1jfHxhLl9fbmFtZSxjJiYoYS5pcz1hLl9fbmFtZSl9ZnVuY3Rpb24gZihhKXtpZighT2JqZWN0Ll9fcHJvdG9fXyl7dmFyIGI9SFRNTEVsZW1lbnQucHJvdG90eXBlO2lmKGEuaXMpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYS50YWcpO2I9T2JqZWN0LmdldFByb3RvdHlwZU9mKGMpfWZvcih2YXIgZCxlPWEucHJvdG90eXBlO2UmJmUhPT1iOyl7dmFyIGQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO2UuX19wcm90b19fPWQsZT1kfX1hLm5hdGl2ZT1ifWZ1bmN0aW9uIGcoYSl7cmV0dXJuIGgoQihhLnRhZyksYSl9ZnVuY3Rpb24gaChiLGMpe3JldHVybiBjLmlzJiZiLnNldEF0dHJpYnV0ZSgiaXMiLGMuaXMpLGIucmVtb3ZlQXR0cmlidXRlKCJ1bnJlc29sdmVkIiksaShiLGMpLGIuX191cGdyYWRlZF9fPSEwLGsoYiksYS5pbnNlcnRlZE5vZGUoYiksYS51cGdyYWRlU3VidHJlZShiKSxifWZ1bmN0aW9uIGkoYSxiKXtPYmplY3QuX19wcm90b19fP2EuX19wcm90b19fPWIucHJvdG90eXBlOihqKGEsYi5wcm90b3R5cGUsYi5uYXRpdmUpLGEuX19wcm90b19fPWIucHJvdG90eXBlKX1mdW5jdGlvbiBqKGEsYixjKXtmb3IodmFyIGQ9e30sZT1iO2UhPT1jJiZlIT09SFRNTEVsZW1lbnQucHJvdG90eXBlOyl7Zm9yKHZhciBmLGc9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSksaD0wO2Y9Z1toXTtoKyspZFtmXXx8KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGYsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLGYpKSxkW2ZdPTEpO2U9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpfX1mdW5jdGlvbiBrKGEpe2EuY3JlYXRlZENhbGxiYWNrJiZhLmNyZWF0ZWRDYWxsYmFjaygpfWZ1bmN0aW9uIGwoYSl7aWYoIWEuc2V0QXR0cmlidXRlLl9wb2x5ZmlsbGVkKXt2YXIgYj1hLnNldEF0dHJpYnV0ZTthLnNldEF0dHJpYnV0ZT1mdW5jdGlvbihhLGMpe20uY2FsbCh0aGlzLGEsYyxiKX07dmFyIGM9YS5yZW1vdmVBdHRyaWJ1dGU7YS5yZW1vdmVBdHRyaWJ1dGU9ZnVuY3Rpb24oYSl7bS5jYWxsKHRoaXMsYSxudWxsLGMpfSxhLnNldEF0dHJpYnV0ZS5fcG9seWZpbGxlZD0hMH19ZnVuY3Rpb24gbShhLGIsYyl7dmFyIGQ9dGhpcy5nZXRBdHRyaWJ1dGUoYSk7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGU9dGhpcy5nZXRBdHRyaWJ1dGUoYSk7dGhpcy5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2smJmUhPT1kJiZ0aGlzLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhLGQsZSl9ZnVuY3Rpb24gbihhKXtyZXR1cm4gYT96W2EudG9Mb3dlckNhc2UoKV06dm9pZCAwfWZ1bmN0aW9uIG8oYSxiKXt6W2FdPWJ9ZnVuY3Rpb24gcChhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZyhhKX19ZnVuY3Rpb24gcShhLGIsYyl7cmV0dXJuIGE9PT1BP3IoYixjKTpDKGEsYil9ZnVuY3Rpb24gcihhLGIpe3ZhciBjPW4oYnx8YSk7aWYoYyl7aWYoYT09Yy50YWcmJmI9PWMuaXMpcmV0dXJuIG5ldyBjLmN0b3I7aWYoIWImJiFjLmlzKXJldHVybiBuZXcgYy5jdG9yfWlmKGIpe3ZhciBkPXIoYSk7cmV0dXJuIGQuc2V0QXR0cmlidXRlKCJpcyIsYiksZH12YXIgZD1CKGEpO3JldHVybiBhLmluZGV4T2YoIi0iKT49MCYmaShkLEhUTUxFbGVtZW50KSxkfWZ1bmN0aW9uIHMoYSl7aWYoIWEuX191cGdyYWRlZF9fJiZhLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUpe3ZhciBiPWEuZ2V0QXR0cmlidXRlKCJpcyIpLGM9bihifHxhLmxvY2FsTmFtZSk7aWYoYyl7aWYoYiYmYy50YWc9PWEubG9jYWxOYW1lKXJldHVybiBoKGEsYyk7aWYoIWImJiFjLmV4dGVuZHMpcmV0dXJuIGgoYSxjKX19fWZ1bmN0aW9uIHQoYil7dmFyIGM9RC5jYWxsKHRoaXMsYik7cmV0dXJuIGEudXBncmFkZUFsbChjKSxjfWF8fChhPXdpbmRvdy5DdXN0b21FbGVtZW50cz17ZmxhZ3M6e319KTt2YXIgdT1hLmZsYWdzLHY9Qm9vbGVhbihkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQpLHc9IXUucmVnaXN0ZXImJnYmJiF3aW5kb3cuU2hhZG93RE9NUG9seWZpbGw7aWYodyl7dmFyIHg9ZnVuY3Rpb24oKXt9O2EucmVnaXN0cnk9e30sYS51cGdyYWRlRWxlbWVudD14LGEud2F0Y2hTaGFkb3c9eCxhLnVwZ3JhZGU9eCxhLnVwZ3JhZGVBbGw9eCxhLnVwZ3JhZGVTdWJ0cmVlPXgsYS5vYnNlcnZlRG9jdW1lbnQ9eCxhLnVwZ3JhZGVEb2N1bWVudD14LGEudXBncmFkZURvY3VtZW50VHJlZT14LGEudGFrZVJlY29yZHM9eCxhLnJlc2VydmVkVGFnTGlzdD1bXX1lbHNle3ZhciB5PVsiYW5ub3RhdGlvbi14bWwiLCJjb2xvci1wcm9maWxlIiwiZm9udC1mYWNlIiwiZm9udC1mYWNlLXNyYyIsImZvbnQtZmFjZS11cmkiLCJmb250LWZhY2UtZm9ybWF0IiwiZm9udC1mYWNlLW5hbWUiLCJtaXNzaW5nLWdseXBoIl0sej17fSxBPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIixCPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQuYmluZChkb2N1bWVudCksQz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMuYmluZChkb2N1bWVudCksRD1Ob2RlLnByb3RvdHlwZS5jbG9uZU5vZGU7ZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50PWIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudD1yLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUz1xLE5vZGUucHJvdG90eXBlLmNsb25lTm9kZT10LGEucmVnaXN0cnk9eixhLnVwZ3JhZGU9c312YXIgRTtFPU9iamVjdC5fX3Byb3RvX198fHc/ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSBpbnN0YW5jZW9mIGJ9OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWE7Yzspe2lmKGM9PT1iLnByb3RvdHlwZSlyZXR1cm4hMDtjPWMuX19wcm90b19ffXJldHVybiExfSxhLmluc3RhbmNlb2Y9RSxhLnJlc2VydmVkVGFnTGlzdD15LGRvY3VtZW50LnJlZ2lzdGVyPWRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCxhLmhhc05hdGl2ZT12LGEudXNlTmF0aXZlPXd9KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4ibGluayI9PT1hLmxvY2FsTmFtZSYmYS5nZXRBdHRyaWJ1dGUoInJlbCIpPT09Y312YXIgYz1hLklNUE9SVF9MSU5LX1RZUEUsZD17c2VsZWN0b3JzOlsibGlua1tyZWw9IitjKyJdIl0sbWFwOntsaW5rOiJwYXJzZUxpbmsifSxwYXJzZTpmdW5jdGlvbihhKXtpZighYS5fX3BhcnNlZCl7YS5fX3BhcnNlZD0hMDt2YXIgYj1hLnF1ZXJ5U2VsZWN0b3JBbGwoZC5zZWxlY3RvcnMpO2UoYixmdW5jdGlvbihhKXtkW2QubWFwW2EubG9jYWxOYW1lXV0oYSl9KSxDdXN0b21FbGVtZW50cy51cGdyYWRlRG9jdW1lbnQoYSksQ3VzdG9tRWxlbWVudHMub2JzZXJ2ZURvY3VtZW50KGEpfX0scGFyc2VMaW5rOmZ1bmN0aW9uKGEpe2IoYSkmJnRoaXMucGFyc2VJbXBvcnQoYSkKfSxwYXJzZUltcG9ydDpmdW5jdGlvbihhKXthLmltcG9ydCYmZC5wYXJzZShhLmltcG9ydCl9fSxlPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCk7YS5wYXJzZXI9ZCxhLklNUE9SVF9MSU5LX1RZUEU9Y30od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7Q3VzdG9tRWxlbWVudHMucGFyc2VyLnBhcnNlKGRvY3VtZW50KSxDdXN0b21FbGVtZW50cy51cGdyYWRlRG9jdW1lbnQoZG9jdW1lbnQpO3ZhciBhPXdpbmRvdy5QbGF0Zm9ybSYmUGxhdGZvcm0uZW5kT2ZNaWNyb3Rhc2s/UGxhdGZvcm0uZW5kT2ZNaWNyb3Rhc2s6c2V0VGltZW91dDthKGZ1bmN0aW9uKCl7Q3VzdG9tRWxlbWVudHMucmVhZHk9ITAsQ3VzdG9tRWxlbWVudHMucmVhZHlUaW1lPURhdGUubm93KCksd2luZG93LkhUTUxJbXBvcnRzJiYoQ3VzdG9tRWxlbWVudHMuZWxhcHNlZD1DdXN0b21FbGVtZW50cy5yZWFkeVRpbWUtSFRNTEltcG9ydHMucmVhZHlUaW1lKSxkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgiV2ViQ29tcG9uZW50c1JlYWR5Iix7YnViYmxlczohMH0pKSx3aW5kb3cuSFRNTEltcG9ydHMmJihIVE1MSW1wb3J0cy5fX2ltcG9ydHNQYXJzaW5nSG9vaz1mdW5jdGlvbihhKXtDdXN0b21FbGVtZW50cy5wYXJzZXIucGFyc2UoYS5pbXBvcnQpfSl9KX1pZigiZnVuY3Rpb24iIT10eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50JiYod2luZG93LkN1c3RvbUV2ZW50PWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJIVE1MRXZlbnRzIik7cmV0dXJuIGIuaW5pdEV2ZW50KGEsITAsITApLGJ9KSwiY29tcGxldGUiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZXx8YS5mbGFncy5lYWdlciliKCk7ZWxzZSBpZigiaW50ZXJhY3RpdmUiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZXx8d2luZG93LmF0dGFjaEV2ZW50fHx3aW5kb3cuSFRNTEltcG9ydHMmJiF3aW5kb3cuSFRNTEltcG9ydHMucmVhZHkpe3ZhciBjPXdpbmRvdy5IVE1MSW1wb3J0cyYmIUhUTUxJbXBvcnRzLnJlYWR5PyJIVE1MSW1wb3J0c0xvYWRlZCI6IkRPTUNvbnRlbnRMb2FkZWQiO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKGMsYil9ZWxzZSBiKCl9KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oKXtpZih3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpe3ZhciBhPVsidXBncmFkZUFsbCIsInVwZ3JhZGVTdWJ0cmVlIiwib2JzZXJ2ZURvY3VtZW50IiwidXBncmFkZURvY3VtZW50Il0sYj17fTthLmZvckVhY2goZnVuY3Rpb24oYSl7YlthXT1DdXN0b21FbGVtZW50c1thXX0pLGEuZm9yRWFjaChmdW5jdGlvbihhKXtDdXN0b21FbGVtZW50c1thXT1mdW5jdGlvbihjKXtyZXR1cm4gYlthXSh3cmFwKGMpKX19KX19KCksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXt0aGlzLmNhY2hlPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5tYXA9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLnJlcXVlc3RzPTAsdGhpcy5yZWdleD1hfXZhciBjPWEuZW5kT2ZNaWNyb3Rhc2s7Yi5wcm90b3R5cGU9e2V4dHJhY3RVcmxzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQsZT1bXTtjPXRoaXMucmVnZXguZXhlYyhhKTspZD1uZXcgVVJMKGNbMV0sYiksZS5wdXNoKHttYXRjaGVkOmNbMF0sdXJsOmQuaHJlZn0pO3JldHVybiBlfSxwcm9jZXNzOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmV4dHJhY3RVcmxzKGEsYiksZT1jLmJpbmQobnVsbCx0aGlzLm1hcCk7dGhpcy5mZXRjaChkLGUpfSxmZXRjaDpmdW5jdGlvbihhLGIpe3ZhciBjPWEubGVuZ3RoO2lmKCFjKXJldHVybiBiKCk7Zm9yKHZhciBkLGUsZixnPWZ1bmN0aW9uKCl7MD09PS0tYyYmYigpfSxoPTA7Yz5oO2grKylkPWFbaF0sZj1kLnVybCxlPXRoaXMuY2FjaGVbZl0sZXx8KGU9dGhpcy54aHIoZiksZS5tYXRjaD1kLHRoaXMuY2FjaGVbZl09ZSksZS53YWl0KGcpfSxoYW5kbGVYaHI6ZnVuY3Rpb24oYSl7dmFyIGI9YS5tYXRjaCxjPWIudXJsLGQ9YS5yZXNwb25zZXx8YS5yZXNwb25zZVRleHR8fCIiO3RoaXMubWFwW2NdPWQsdGhpcy5mZXRjaCh0aGlzLmV4dHJhY3RVcmxzKGQsYyksYS5yZXNvbHZlKX0seGhyOmZ1bmN0aW9uKGEpe3RoaXMucmVxdWVzdHMrKzt2YXIgYj1uZXcgWE1MSHR0cFJlcXVlc3Q7cmV0dXJuIGIub3BlbigiR0VUIixhLCEwKSxiLnNlbmQoKSxiLm9uZXJyb3I9Yi5vbmxvYWQ9dGhpcy5oYW5kbGVYaHIuYmluZCh0aGlzLGIpLGIucGVuZGluZz1bXSxiLnJlc29sdmU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9Yi5wZW5kaW5nLGM9MDtjPGEubGVuZ3RoO2MrKylhW2NdKCk7Yi5wZW5kaW5nPW51bGx9LGIud2FpdD1mdW5jdGlvbihhKXtiLnBlbmRpbmc/Yi5wZW5kaW5nLnB1c2goYSk6YyhhKX0sYn19LGEuTG9hZGVyPWJ9KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3RoaXMubG9hZGVyPW5ldyBkKHRoaXMucmVnZXgpfXZhciBjPWEudXJsUmVzb2x2ZXIsZD1hLkxvYWRlcjtiLnByb3RvdHlwZT17cmVnZXg6L0BpbXBvcnRccysoPzp1cmwpP1siJ1woXSooW14nIlwpXSopWyciXCldKjsvZyxyZXNvbHZlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihkKXtjKHRoaXMuZmxhdHRlbihhLGIsZCkpfS5iaW5kKHRoaXMpO3RoaXMubG9hZGVyLnByb2Nlc3MoYSxiLGQpfSxyZXNvbHZlTm9kZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS50ZXh0Q29udGVudCxlPWZ1bmN0aW9uKGIpe2EudGV4dENvbnRlbnQ9YixjKGEpfTt0aGlzLnJlc29sdmUoZCxiLGUpfSxmbGF0dGVuOmZ1bmN0aW9uKGEsYixkKXtmb3IodmFyIGUsZixnLGg9dGhpcy5sb2FkZXIuZXh0cmFjdFVybHMoYSxiKSxpPTA7aTxoLmxlbmd0aDtpKyspZT1oW2ldLGY9ZS51cmwsZz1jLnJlc29sdmVDc3NUZXh0KGRbZl0sZiwhMCksZz10aGlzLmZsYXR0ZW4oZyxiLGQpLGE9YS5yZXBsYWNlKGUubWF0Y2hlZCxnKTtyZXR1cm4gYX0sbG9hZFN0eWxlczpmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZCgpe2YrKyxmPT09ZyYmYyYmYygpfWZvcih2YXIgZSxmPTAsZz1hLmxlbmd0aCxoPTA7Zz5oJiYoZT1hW2hdKTtoKyspdGhpcy5yZXNvbHZlTm9kZShlLGIsZCl9fTt2YXIgZT1uZXcgYjthLnN0eWxlUmVzb2x2ZXI9ZX0od2luZG93LlBsYXRmb3JtKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBhKGEpe2Zvcig7YS5wYXJlbnROb2RlOylhPWEucGFyZW50Tm9kZTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYS5nZXRFbGVtZW50QnlJZD9hOm51bGx9ZnVuY3Rpb24gYihhLGIsYyl7dmFyIGQ9YS5iaW5kaW5nc187cmV0dXJuIGR8fChkPWEuYmluZGluZ3NfPXt9KSxkW2JdJiZjW2JdLmNsb3NlKCksZFtiXT1jfWZ1bmN0aW9uIGMoYSxiLGMpe3JldHVybiBjfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIG51bGw9PWE/IiI6YX1mdW5jdGlvbiBlKGEsYil7YS5kYXRhPWQoYil9ZnVuY3Rpb24gZihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGUoYSxiKX19ZnVuY3Rpb24gZyhhLGIsYyxlKXtyZXR1cm4gYz92b2lkKGU/YS5zZXRBdHRyaWJ1dGUoYiwiIik6YS5yZW1vdmVBdHRyaWJ1dGUoYikpOnZvaWQgYS5zZXRBdHRyaWJ1dGUoYixkKGUpKX1mdW5jdGlvbiBoKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7ZyhhLGIsYyxkKX19ZnVuY3Rpb24gaShhKXtzd2l0Y2goYS50eXBlKXtjYXNlImNoZWNrYm94IjpyZXR1cm4gdTtjYXNlInJhZGlvIjpjYXNlInNlbGVjdC1tdWx0aXBsZSI6Y2FzZSJzZWxlY3Qtb25lIjpyZXR1cm4iY2hhbmdlIjtjYXNlInJhbmdlIjppZigvVHJpZGVudHxNU0lFLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKXJldHVybiJjaGFuZ2UiO2RlZmF1bHQ6cmV0dXJuImlucHV0In19ZnVuY3Rpb24gaihhLGIsYyxlKXthW2JdPShlfHxkKShjKX1mdW5jdGlvbiBrKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7cmV0dXJuIGooYSxiLGQsYyl9fWZ1bmN0aW9uIGwoKXt9ZnVuY3Rpb24gbShhLGIsYyxkKXtmdW5jdGlvbiBlKCl7Yy5zZXRWYWx1ZShhW2JdKSxjLmRpc2NhcmRDaGFuZ2VzKCksKGR8fGwpKGEpLFBsYXRmb3JtLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50KCl9dmFyIGY9aShhKTtyZXR1cm4gYS5hZGRFdmVudExpc3RlbmVyKGYsZSkse2Nsb3NlOmZ1bmN0aW9uKCl7YS5yZW1vdmVFdmVudExpc3RlbmVyKGYsZSksYy5jbG9zZSgpfSxvYnNlcnZhYmxlXzpjfX1mdW5jdGlvbiBuKGEpe3JldHVybiBCb29sZWFuKGEpfWZ1bmN0aW9uIG8oYil7aWYoYi5mb3JtKXJldHVybiBzKGIuZm9ybS5lbGVtZW50cyxmdW5jdGlvbihhKXtyZXR1cm4gYSE9YiYmIklOUFVUIj09YS50YWdOYW1lJiYicmFkaW8iPT1hLnR5cGUmJmEubmFtZT09Yi5uYW1lfSk7dmFyIGM9YShiKTtpZighYylyZXR1cm5bXTt2YXIgZD1jLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9InJhZGlvIl1bbmFtZT0iJytiLm5hbWUrJyJdJyk7cmV0dXJuIHMoZCxmdW5jdGlvbihhKXtyZXR1cm4gYSE9YiYmIWEuZm9ybX0pfWZ1bmN0aW9uIHAoYSl7IklOUFVUIj09PWEudGFnTmFtZSYmInJhZGlvIj09PWEudHlwZSYmbyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWEuYmluZGluZ3NfLmNoZWNrZWQ7YiYmYi5vYnNlcnZhYmxlXy5zZXRWYWx1ZSghMSl9KX1mdW5jdGlvbiBxKGEsYil7dmFyIGMsZSxmLGc9YS5wYXJlbnROb2RlO2cgaW5zdGFuY2VvZiBIVE1MU2VsZWN0RWxlbWVudCYmZy5iaW5kaW5nc18mJmcuYmluZGluZ3NfLnZhbHVlJiYoYz1nLGU9Yy5iaW5kaW5nc18udmFsdWUsZj1jLnZhbHVlKSxhLnZhbHVlPWQoYiksYyYmYy52YWx1ZSE9ZiYmKGUub2JzZXJ2YWJsZV8uc2V0VmFsdWUoYy52YWx1ZSksZS5vYnNlcnZhYmxlXy5kaXNjYXJkQ2hhbmdlcygpLFBsYXRmb3JtLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50KCkpfWZ1bmN0aW9uIHIoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3EoYSxiKX19dmFyIHM9QXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZpbHRlcik7Tm9kZS5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGIpe2NvbnNvbGUuZXJyb3IoIlVuaGFuZGxlZCBiaW5kaW5nIHRvIE5vZGU6ICIsdGhpcyxhLGIpfSxOb2RlLnByb3RvdHlwZS5iaW5kRmluaXNoZWQ9ZnVuY3Rpb24oKXt9O3ZhciB0PWM7T2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXRmb3JtLCJlbmFibGVCaW5kaW5nc1JlZmxlY3Rpb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdD09PWJ9LHNldDpmdW5jdGlvbihhKXtyZXR1cm4gdD1hP2I6YyxhfSxjb25maWd1cmFibGU6ITB9KSxUZXh0LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYixjKXtpZigidGV4dENvbnRlbnQiIT09YSlyZXR1cm4gTm9kZS5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsYSxiLGMpO2lmKGMpcmV0dXJuIGUodGhpcyxiKTt2YXIgZD1iO3JldHVybiBlKHRoaXMsZC5vcGVuKGYodGhpcykpKSx0KHRoaXMsYSxkKX0sRWxlbWVudC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Ij8iPT1hW2EubGVuZ3RoLTFdO2lmKGQmJih0aGlzLnJlbW92ZUF0dHJpYnV0ZShhKSxhPWEuc2xpY2UoMCwtMSkpLGMpcmV0dXJuIGcodGhpcyxhLGQsYik7dmFyIGU9YjtyZXR1cm4gZyh0aGlzLGEsZCxlLm9wZW4oaCh0aGlzLGEsZCkpKSx0KHRoaXMsYSxlKX07dmFyIHU7IWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksYj1hLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0IikpO2Iuc2V0QXR0cmlidXRlKCJ0eXBlIiwiY2hlY2tib3giKTt2YXIgYyxkPTA7Yi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oKXtkKyssYz1jfHwiY2xpY2sifSksYi5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLGZ1bmN0aW9uKCl7ZCsrLGM9Y3x8ImNoYW5nZSJ9KTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFdmVudCgiTW91c2VFdmVudCIpO2UuaW5pdE1vdXNlRXZlbnQoImNsaWNrIiwhMCwhMCx3aW5kb3csMCwwLDAsMCwwLCExLCExLCExLCExLDAsbnVsbCksYi5kaXNwYXRjaEV2ZW50KGUpLHU9MT09ZD8iY2hhbmdlIjpjfSgpLEhUTUxJbnB1dEVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxjLGUpe2lmKCJ2YWx1ZSIhPT1hJiYiY2hlY2tlZCIhPT1hKXJldHVybiBIVE1MRWxlbWVudC5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsYSxjLGUpO3RoaXMucmVtb3ZlQXR0cmlidXRlKGEpO3ZhciBmPSJjaGVja2VkIj09YT9uOmQsZz0iY2hlY2tlZCI9PWE/cDpsO2lmKGUpcmV0dXJuIGoodGhpcyxhLGMsZik7dmFyIGg9YyxpPW0odGhpcyxhLGgsZyk7cmV0dXJuIGoodGhpcyxhLGgub3BlbihrKHRoaXMsYSxmKSksZiksYih0aGlzLGEsaSl9LEhUTUxUZXh0QXJlYUVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxiLGMpe2lmKCJ2YWx1ZSIhPT1hKXJldHVybiBIVE1MRWxlbWVudC5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsYSxiLGMpO2lmKHRoaXMucmVtb3ZlQXR0cmlidXRlKCJ2YWx1ZSIpLGMpcmV0dXJuIGoodGhpcywidmFsdWUiLGIpO3ZhciBlPWIsZj1tKHRoaXMsInZhbHVlIixlKTtyZXR1cm4gaih0aGlzLCJ2YWx1ZSIsZS5vcGVuKGsodGhpcywidmFsdWUiLGQpKSksdCh0aGlzLGEsZil9LEhUTUxPcHRpb25FbGVtZW50LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYixjKXtpZigidmFsdWUiIT09YSlyZXR1cm4gSFRNTEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsYixjKTtpZih0aGlzLnJlbW92ZUF0dHJpYnV0ZSgidmFsdWUiKSxjKXJldHVybiBxKHRoaXMsYik7dmFyIGQ9YixlPW0odGhpcywidmFsdWUiLGQpO3JldHVybiBxKHRoaXMsZC5vcGVuKHIodGhpcykpKSx0KHRoaXMsYSxlKX0sSFRNTFNlbGVjdEVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxjLGQpe2lmKCJzZWxlY3RlZGluZGV4Ij09PWEmJihhPSJzZWxlY3RlZEluZGV4IiksInNlbGVjdGVkSW5kZXgiIT09YSYmInZhbHVlIiE9PWEpcmV0dXJuIEhUTUxFbGVtZW50LnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGMsZCk7aWYodGhpcy5yZW1vdmVBdHRyaWJ1dGUoYSksZClyZXR1cm4gaih0aGlzLGEsYyk7dmFyIGU9YyxmPW0odGhpcyxhLGUpO3JldHVybiBqKHRoaXMsYSxlLm9wZW4oayh0aGlzLGEpKSksYih0aGlzLGEsZil9fSh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtpZighYSl0aHJvdyBuZXcgRXJyb3IoIkFzc2VydGlvbiBmYWlsZWQiKX1mdW5jdGlvbiBjKGEpe2Zvcih2YXIgYjtiPWEucGFyZW50Tm9kZTspYT1iO3JldHVybiBhfWZ1bmN0aW9uIGQoYSxiKXtpZihiKXtmb3IodmFyIGQsZT0iIyIrYjshZCYmKGE9YyhhKSxhLnByb3RvQ29udGVudF8/ZD1hLnByb3RvQ29udGVudF8ucXVlcnlTZWxlY3RvcihlKTphLmdldEVsZW1lbnRCeUlkJiYoZD1hLmdldEVsZW1lbnRCeUlkKGIpKSwhZCYmYS50ZW1wbGF0ZUNyZWF0b3JfKTspYT1hLnRlbXBsYXRlQ3JlYXRvcl87cmV0dXJuIGR9fWZ1bmN0aW9uIGUoYSl7cmV0dXJuInRlbXBsYXRlIj09YS50YWdOYW1lJiYiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPT1hLm5hbWVzcGFjZVVSSX1mdW5jdGlvbiBmKGEpe3JldHVybiJURU1QTEFURSI9PWEudGFnTmFtZSYmImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPT1hLm5hbWVzcGFjZVVSSX1mdW5jdGlvbiBnKGEpe3JldHVybiBCb29sZWFuKExbYS50YWdOYW1lXSYmYS5oYXNBdHRyaWJ1dGUoInRlbXBsYXRlIikpfWZ1bmN0aW9uIGgoYSl7cmV0dXJuIHZvaWQgMD09PWEuaXNUZW1wbGF0ZV8mJihhLmlzVGVtcGxhdGVfPSJURU1QTEFURSI9PWEudGFnTmFtZXx8ZyhhKSksYS5pc1RlbXBsYXRlX31mdW5jdGlvbiBpKGEsYil7dmFyIGM9YS5xdWVyeVNlbGVjdG9yQWxsKE4pO2goYSkmJmIoYSksRyhjLGIpfWZ1bmN0aW9uIGooYSl7ZnVuY3Rpb24gYihhKXtIVE1MVGVtcGxhdGVFbGVtZW50LmRlY29yYXRlKGEpfHxqKGEuY29udGVudCl9aShhLGIpfWZ1bmN0aW9uIGsoYSxiKXtPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhiKS5mb3JFYWNoKGZ1bmN0aW9uKGMpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGMsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiLGMpKX0pfWZ1bmN0aW9uIGwoYSl7dmFyIGI9YS5vd25lckRvY3VtZW50O2lmKCFiLmRlZmF1bHRWaWV3KXJldHVybiBiO3ZhciBjPWIudGVtcGxhdGVDb250ZW50c093bmVyXztpZighYyl7Zm9yKGM9Yi5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpO2MubGFzdENoaWxkOyljLnJlbW92ZUNoaWxkKGMubGFzdENoaWxkKTtiLnRlbXBsYXRlQ29udGVudHNPd25lcl89Y31yZXR1cm4gY31mdW5jdGlvbiBtKGEpe2lmKCFhLnN0YWdpbmdEb2N1bWVudF8pe3ZhciBiPWEub3duZXJEb2N1bWVudDtpZighYi5zdGFnaW5nRG9jdW1lbnRfKXtiLnN0YWdpbmdEb2N1bWVudF89Yi5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLGIuc3RhZ2luZ0RvY3VtZW50Xy5pc1N0YWdpbmdEb2N1bWVudD0hMDt2YXIgYz1iLnN0YWdpbmdEb2N1bWVudF8uY3JlYXRlRWxlbWVudCgiYmFzZSIpO2MuaHJlZj1kb2N1bWVudC5iYXNlVVJJLGIuc3RhZ2luZ0RvY3VtZW50Xy5oZWFkLmFwcGVuZENoaWxkKGMpLGIuc3RhZ2luZ0RvY3VtZW50Xy5zdGFnaW5nRG9jdW1lbnRfPWIuc3RhZ2luZ0RvY3VtZW50X31hLnN0YWdpbmdEb2N1bWVudF89Yi5zdGFnaW5nRG9jdW1lbnRffXJldHVybiBhLnN0YWdpbmdEb2N1bWVudF99ZnVuY3Rpb24gbihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTthLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGIsYSk7Zm9yKHZhciBjPWEuYXR0cmlidXRlcyxkPWMubGVuZ3RoO2QtLT4wOyl7dmFyIGU9Y1tkXTtLW2UubmFtZV0mJigidGVtcGxhdGUiIT09ZS5uYW1lJiZiLnNldEF0dHJpYnV0ZShlLm5hbWUsZS52YWx1ZSksYS5yZW1vdmVBdHRyaWJ1dGUoZS5uYW1lKSl9cmV0dXJuIGJ9ZnVuY3Rpb24gbyhhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTthLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGIsYSk7Zm9yKHZhciBjPWEuYXR0cmlidXRlcyxkPWMubGVuZ3RoO2QtLT4wOyl7dmFyIGU9Y1tkXTtiLnNldEF0dHJpYnV0ZShlLm5hbWUsZS52YWx1ZSksYS5yZW1vdmVBdHRyaWJ1dGUoZS5uYW1lKX1yZXR1cm4gYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpLGJ9ZnVuY3Rpb24gcChhLGIsYyl7dmFyIGQ9YS5jb250ZW50O2lmKGMpcmV0dXJuIHZvaWQgZC5hcHBlbmRDaGlsZChiKTtmb3IodmFyIGU7ZT1iLmZpcnN0Q2hpbGQ7KWQuYXBwZW5kQ2hpbGQoZSl9ZnVuY3Rpb24gcShhKXtQP2EuX19wcm90b19fPUhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlOmsoYSxIVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZSl9ZnVuY3Rpb24gcihhKXthLnNldE1vZGVsRm5ffHwoYS5zZXRNb2RlbEZuXz1mdW5jdGlvbigpe2Euc2V0TW9kZWxGblNjaGVkdWxlZF89ITE7dmFyIGI9eihhLGEuZGVsZWdhdGVfJiZhLmRlbGVnYXRlXy5wcmVwYXJlQmluZGluZyk7dyhhLGIsYS5tb2RlbF8pfSksYS5zZXRNb2RlbEZuU2NoZWR1bGVkX3x8KGEuc2V0TW9kZWxGblNjaGVkdWxlZF89ITAsT2JzZXJ2ZXIucnVuRU9NXyhhLnNldE1vZGVsRm5fKSl9ZnVuY3Rpb24gcyhhLGIsYyxkKXtpZihhJiZhLmxlbmd0aCl7Zm9yKHZhciBlLGY9YS5sZW5ndGgsZz0wLGg9MCxpPTAsaj0hMDtmPmg7KXt2YXIgZz1hLmluZGV4T2YoInt7IixoKSxrPWEuaW5kZXhPZigiW1siLGgpLGw9ITEsbT0ifX0iO2lmKGs+PTAmJigwPmd8fGc+aykmJihnPWssbD0hMCxtPSJdXSIpLGk9MD5nPy0xOmEuaW5kZXhPZihtLGcrMiksMD5pKXtpZighZSlyZXR1cm47ZS5wdXNoKGEuc2xpY2UoaCkpO2JyZWFrfWU9ZXx8W10sZS5wdXNoKGEuc2xpY2UoaCxnKSk7dmFyIG49YS5zbGljZShnKzIsaSkudHJpbSgpO2UucHVzaChsKSxqPWomJmw7dmFyIG89ZCYmZChuLGIsYyk7ZS5wdXNoKG51bGw9PW8/UGF0aC5nZXQobik6bnVsbCksZS5wdXNoKG8pLGg9aSsyfXJldHVybiBoPT09ZiYmZS5wdXNoKCIiKSxlLmhhc09uZVBhdGg9NT09PWUubGVuZ3RoLGUuaXNTaW1wbGVQYXRoPWUuaGFzT25lUGF0aCYmIiI9PWVbMF0mJiIiPT1lWzRdLGUub25seU9uZVRpbWU9aixlLmNvbWJpbmF0b3I9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWVbMF0sYz0xO2M8ZS5sZW5ndGg7Yys9NCl7dmFyIGQ9ZS5oYXNPbmVQYXRoP2E6YVsoYy0xKS80XTt2b2lkIDAhPT1kJiYoYis9ZCksYis9ZVtjKzNdfXJldHVybiBifSxlfX1mdW5jdGlvbiB0KGEsYixjLGQpe2lmKGIuaGFzT25lUGF0aCl7dmFyIGU9YlszXSxmPWU/ZShkLGMsITApOmJbMl0uZ2V0VmFsdWVGcm9tKGQpO3JldHVybiBiLmlzU2ltcGxlUGF0aD9mOmIuY29tYmluYXRvcihmKX1mb3IodmFyIGc9W10saD0xO2g8Yi5sZW5ndGg7aCs9NCl7dmFyIGU9YltoKzJdO2dbKGgtMSkvNF09ZT9lKGQsYyk6YltoKzFdLmdldFZhbHVlRnJvbShkKX1yZXR1cm4gYi5jb21iaW5hdG9yKGcpfWZ1bmN0aW9uIHUoYSxiLGMsZCl7dmFyIGU9YlszXSxmPWU/ZShkLGMsITEpOm5ldyBQYXRoT2JzZXJ2ZXIoZCxiWzJdKTtyZXR1cm4gYi5pc1NpbXBsZVBhdGg/ZjpuZXcgT2JzZXJ2ZXJUcmFuc2Zvcm0oZixiLmNvbWJpbmF0b3IpfWZ1bmN0aW9uIHYoYSxiLGMsZCl7aWYoYi5vbmx5T25lVGltZSlyZXR1cm4gdChhLGIsYyxkKTtpZihiLmhhc09uZVBhdGgpcmV0dXJuIHUoYSxiLGMsZCk7Zm9yKHZhciBlPW5ldyBDb21wb3VuZE9ic2VydmVyLGY9MTtmPGIubGVuZ3RoO2YrPTQpe3ZhciBnPWJbZl0saD1iW2YrMl07aWYoaCl7dmFyIGk9aChkLGMsZyk7Zz9lLmFkZFBhdGgoaSk6ZS5hZGRPYnNlcnZlcihpKX1lbHNle3ZhciBqPWJbZisxXTtnP2UuYWRkUGF0aChqLmdldFZhbHVlRnJvbShkKSk6ZS5hZGRQYXRoKGQsail9fXJldHVybiBuZXcgT2JzZXJ2ZXJUcmFuc2Zvcm0oZSxiLmNvbWJpbmF0b3IpfWZ1bmN0aW9uIHcoYSxiLGMsZCl7Zm9yKHZhciBlPTA7ZTxiLmxlbmd0aDtlKz0yKXt2YXIgZj1iW2VdLGc9YltlKzFdLGg9dihmLGcsYSxjKSxpPWEuYmluZChmLGgsZy5vbmx5T25lVGltZSk7aSYmZCYmZC5wdXNoKGkpfWlmKGEuYmluZEZpbmlzaGVkKCksYi5pc1RlbXBsYXRlKXthLm1vZGVsXz1jO3ZhciBqPWEucHJvY2Vzc0JpbmRpbmdEaXJlY3RpdmVzXyhiKTtkJiZqJiZkLnB1c2goail9fWZ1bmN0aW9uIHgoYSxiLGMpe3ZhciBkPWEuZ2V0QXR0cmlidXRlKGIpO3JldHVybiBzKCIiPT1kPyJ7e319IjpkLGIsYSxjKX1mdW5jdGlvbiB5KGEsYyl7YihhKTtmb3IodmFyIGQ9W10sZT0wO2U8YS5hdHRyaWJ1dGVzLmxlbmd0aDtlKyspe2Zvcih2YXIgZj1hLmF0dHJpYnV0ZXNbZV0sZz1mLm5hbWUsaT1mLnZhbHVlOyJfIj09PWdbMF07KWc9Zy5zdWJzdHJpbmcoMSk7aWYoIWgoYSl8fGchPT1KJiZnIT09SCYmZyE9PUkpe3ZhciBqPXMoaSxnLGEsYyk7aiYmZC5wdXNoKGcsail9fXJldHVybiBoKGEpJiYoZC5pc1RlbXBsYXRlPSEwLGQuaWY9eChhLEosYyksZC5iaW5kPXgoYSxILGMpLGQucmVwZWF0PXgoYSxJLGMpLCFkLmlmfHxkLmJpbmR8fGQucmVwZWF0fHwoZC5iaW5kPXMoInt7fX0iLEgsYSxjKSkpLGR9ZnVuY3Rpb24geihhLGIpe2lmKGEubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSlyZXR1cm4geShhLGIpO2lmKGEubm9kZVR5cGU9PT1Ob2RlLlRFWFRfTk9ERSl7dmFyIGM9cyhhLmRhdGEsInRleHRDb250ZW50IixhLGIpO2lmKGMpcmV0dXJuWyJ0ZXh0Q29udGVudCIsY119cmV0dXJuW119ZnVuY3Rpb24gQShhLGIsYyxkLGUsZixnKXtmb3IodmFyIGg9Yi5hcHBlbmRDaGlsZChjLmltcG9ydE5vZGUoYSwhMSkpLGk9MCxqPWEuZmlyc3RDaGlsZDtqO2o9ai5uZXh0U2libGluZylBKGosaCxjLGQuY2hpbGRyZW5baSsrXSxlLGYsZyk7cmV0dXJuIGQuaXNUZW1wbGF0ZSYmKEhUTUxUZW1wbGF0ZUVsZW1lbnQuZGVjb3JhdGUoaCxhKSxmJiZoLnNldERlbGVnYXRlXyhmKSksdyhoLGQsZSxnKSxofWZ1bmN0aW9uIEIoYSxiKXt2YXIgYz16KGEsYik7Yy5jaGlsZHJlbj17fTtmb3IodmFyIGQ9MCxlPWEuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyljLmNoaWxkcmVuW2QrK109QihlLGIpO3JldHVybiBjfWZ1bmN0aW9uIEMoYSl7dmFyIGI9YS5pZF87cmV0dXJuIGJ8fChiPWEuaWRfPVMrKyksYn1mdW5jdGlvbiBEKGEsYil7dmFyIGM9QyhhKTtpZihiKXt2YXIgZD1iLmJpbmRpbmdNYXBzW2NdO3JldHVybiBkfHwoZD1iLmJpbmRpbmdNYXBzW2NdPUIoYSxiLnByZXBhcmVCaW5kaW5nKXx8W10pLGR9dmFyIGQ9YS5iaW5kaW5nTWFwXztyZXR1cm4gZHx8KGQ9YS5iaW5kaW5nTWFwXz1CKGEsdm9pZCAwKXx8W10pLGR9ZnVuY3Rpb24gRShhKXt0aGlzLmNsb3NlZD0hMSx0aGlzLnRlbXBsYXRlRWxlbWVudF89YSx0aGlzLmluc3RhbmNlcz1bXSx0aGlzLmRlcHM9dm9pZCAwLHRoaXMuaXRlcmF0ZWRWYWx1ZT1bXSx0aGlzLnByZXNlbnRWYWx1ZT12b2lkIDAsdGhpcy5hcnJheU9ic2VydmVyPXZvaWQgMH12YXIgRixHPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCk7YS5NYXAmJiJmdW5jdGlvbiI9PXR5cGVvZiBhLk1hcC5wcm90b3R5cGUuZm9yRWFjaD9GPWEuTWFwOihGPWZ1bmN0aW9uKCl7dGhpcy5rZXlzPVtdLHRoaXMudmFsdWVzPVtdfSxGLnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5rZXlzLmluZGV4T2YoYSk7MD5jPyh0aGlzLmtleXMucHVzaChhKSx0aGlzLnZhbHVlcy5wdXNoKGIpKTp0aGlzLnZhbHVlc1tjXT1ifSxnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5rZXlzLmluZGV4T2YoYSk7aWYoISgwPmIpKXJldHVybiB0aGlzLnZhbHVlc1tiXX0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5rZXlzLmluZGV4T2YoYSk7cmV0dXJuIDA+Yj8hMToodGhpcy5rZXlzLnNwbGljZShiLDEpLHRoaXMudmFsdWVzLnNwbGljZShiLDEpLCEwKX0sZm9yRWFjaDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2M8dGhpcy5rZXlzLmxlbmd0aDtjKyspYS5jYWxsKGJ8fHRoaXMsdGhpcy52YWx1ZXNbY10sdGhpcy5rZXlzW2NdLHRoaXMpfX0pOyJmdW5jdGlvbiIhPXR5cGVvZiBkb2N1bWVudC5jb250YWlucyYmKERvY3VtZW50LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihhKXtyZXR1cm4gYT09PXRoaXN8fGEucGFyZW50Tm9kZT09PXRoaXM/ITA6dGhpcy5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMoYSl9KTt2YXIgSD0iYmluZCIsST0icmVwZWF0IixKPSJpZiIsSz17dGVtcGxhdGU6ITAscmVwZWF0OiEwLGJpbmQ6ITAscmVmOiEwfSxMPXtUSEVBRDohMCxUQk9EWTohMCxURk9PVDohMCxUSDohMCxUUjohMCxURDohMCxDT0xHUk9VUDohMCxDT0w6ITAsQ0FQVElPTjohMCxPUFRJT046ITAsT1BUR1JPVVA6ITB9LE09InVuZGVmaW5lZCIhPXR5cGVvZiBIVE1MVGVtcGxhdGVFbGVtZW50O00mJiFmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRlbXBsYXRlIiksYj1hLmNvbnRlbnQub3duZXJEb2N1bWVudCxjPWIuYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KCJodG1sIikpLGQ9Yy5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQoImhlYWQiKSksZT1iLmNyZWF0ZUVsZW1lbnQoImJhc2UiKTtlLmhyZWY9ZG9jdW1lbnQuYmFzZVVSSSxkLmFwcGVuZENoaWxkKGUpfSgpO3ZhciBOPSJ0ZW1wbGF0ZSwgIitPYmplY3Qua2V5cyhMKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9Mb3dlckNhc2UoKSsiW3RlbXBsYXRlXSJ9KS5qb2luKCIsICIpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGZ1bmN0aW9uKCl7aihkb2N1bWVudCksUGxhdGZvcm0ucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQoKX0sITEpLE18fChhLkhUTUxUZW1wbGF0ZUVsZW1lbnQ9ZnVuY3Rpb24oKXt0aHJvdyBUeXBlRXJyb3IoIklsbGVnYWwgY29uc3RydWN0b3IiKX0pO3ZhciBPLFA9Il9fcHJvdG9fXyJpbnt9OyJmdW5jdGlvbiI9PXR5cGVvZiBNdXRhdGlvbk9ic2VydmVyJiYoTz1uZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdLnRhcmdldC5yZWZDaGFuZ2VkXygpfSkpLEhUTUxUZW1wbGF0ZUVsZW1lbnQuZGVjb3JhdGU9ZnVuY3Rpb24oYSxjKXtpZihhLnRlbXBsYXRlSXNEZWNvcmF0ZWRfKXJldHVybiExO3ZhciBkPWE7ZC50ZW1wbGF0ZUlzRGVjb3JhdGVkXz0hMDt2YXIgaD1mKGQpJiZNLGk9aCxrPSFoLG09ITE7aWYoaHx8KGcoZCk/KGIoIWMpLGQ9bihhKSxkLnRlbXBsYXRlSXNEZWNvcmF0ZWRfPSEwLGg9TSxtPSEwKTplKGQpJiYoZD1vKGEpLGQudGVtcGxhdGVJc0RlY29yYXRlZF89ITAsaD1NKSksIWgpe3EoZCk7dmFyIHI9bChkKTtkLmNvbnRlbnRfPXIuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpfXJldHVybiBjP2QuaW5zdGFuY2VSZWZfPWM6az9wKGQsYSxtKTppJiZqKGQuY29udGVudCksITB9LEhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwPWo7dmFyIFE9YS5IVE1MVW5rbm93bkVsZW1lbnR8fEhUTUxFbGVtZW50LFI9e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRffSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH07TXx8KEhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoUS5wcm90b3R5cGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZSwiY29udGVudCIsUikpLGsoSFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGUse2JpbmQ6ZnVuY3Rpb24oYSxiLGMpe2lmKCJyZWYiIT1hKXJldHVybiBFbGVtZW50LnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGIsYyk7dmFyIGQ9dGhpcyxlPWM/YjpiLm9wZW4oZnVuY3Rpb24oYSl7ZC5zZXRBdHRyaWJ1dGUoInJlZiIsYSksZC5yZWZDaGFuZ2VkXygpfSk7cmV0dXJuIHRoaXMuc2V0QXR0cmlidXRlKCJyZWYiLGUpLHRoaXMucmVmQ2hhbmdlZF8oKSxjP3ZvaWQgMDoodGhpcy5iaW5kaW5nc18/dGhpcy5iaW5kaW5nc18ucmVmPWI6dGhpcy5iaW5kaW5nc189e3JlZjpifSxiKX0scHJvY2Vzc0JpbmRpbmdEaXJlY3RpdmVzXzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pdGVyYXRvcl8mJnRoaXMuaXRlcmF0b3JfLmNsb3NlRGVwcygpLGEuaWZ8fGEuYmluZHx8YS5yZXBlYXQ/KHRoaXMuaXRlcmF0b3JffHwodGhpcy5pdGVyYXRvcl89bmV3IEUodGhpcykpLHRoaXMuaXRlcmF0b3JfLnVwZGF0ZURlcGVuZGVuY2llcyhhLHRoaXMubW9kZWxfKSxPJiZPLm9ic2VydmUodGhpcyx7YXR0cmlidXRlczohMCxhdHRyaWJ1dGVGaWx0ZXI6WyJyZWYiXX0pLHRoaXMuaXRlcmF0b3JfKTp2b2lkKHRoaXMuaXRlcmF0b3JfJiYodGhpcy5pdGVyYXRvcl8uY2xvc2UoKSx0aGlzLml0ZXJhdG9yXz12b2lkIDApKX0sY3JlYXRlSW5zdGFuY2U6ZnVuY3Rpb24oYSxiLGMpe2I/Yz10aGlzLm5ld0RlbGVnYXRlXyhiKTpjfHwoYz10aGlzLmRlbGVnYXRlXyksdGhpcy5yZWZDb250ZW50X3x8KHRoaXMucmVmQ29udGVudF89dGhpcy5yZWZfLmNvbnRlbnQpO3ZhciBkPXRoaXMucmVmQ29udGVudF87aWYobnVsbD09PWQuZmlyc3RDaGlsZClyZXR1cm4gVDt2YXIgZT1EKGQsYyksZj1tKHRoaXMpLGc9Zi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Zy50ZW1wbGF0ZUNyZWF0b3JfPXRoaXMsZy5wcm90b0NvbnRlbnRfPWQsZy5iaW5kaW5nc189W10sZy50ZXJtaW5hdG9yXz1udWxsO2Zvcih2YXIgaD1nLnRlbXBsYXRlSW5zdGFuY2VfPXtmaXJzdE5vZGU6bnVsbCxsYXN0Tm9kZTpudWxsLG1vZGVsOmF9LGk9MCxqPSExLGs9ZC5maXJzdENoaWxkO2s7az1rLm5leHRTaWJsaW5nKXtudWxsPT09ay5uZXh0U2libGluZyYmKGo9ITApO3ZhciBsPUEoayxnLGYsZS5jaGlsZHJlbltpKytdLGEsYyxnLmJpbmRpbmdzXyk7bC50ZW1wbGF0ZUluc3RhbmNlXz1oLGomJihnLnRlcm1pbmF0b3JfPWwpfXJldHVybiBoLmZpcnN0Tm9kZT1nLmZpcnN0Q2hpbGQsaC5sYXN0Tm9kZT1nLmxhc3RDaGlsZCxnLnRlbXBsYXRlQ3JlYXRvcl89dm9pZCAwLGcucHJvdG9Db250ZW50Xz12b2lkIDAsZ30sZ2V0IG1vZGVsKCl7cmV0dXJuIHRoaXMubW9kZWxffSxzZXQgbW9kZWwoYSl7dGhpcy5tb2RlbF89YSxyKHRoaXMpfSxnZXQgYmluZGluZ0RlbGVnYXRlKCl7cmV0dXJuIHRoaXMuZGVsZWdhdGVfJiZ0aGlzLmRlbGVnYXRlXy5yYXd9LHJlZkNoYW5nZWRfOmZ1bmN0aW9uKCl7dGhpcy5pdGVyYXRvcl8mJnRoaXMucmVmQ29udGVudF8hPT10aGlzLnJlZl8uY29udGVudCYmKHRoaXMucmVmQ29udGVudF89dm9pZCAwLHRoaXMuaXRlcmF0b3JfLnZhbHVlQ2hhbmdlZCgpLHRoaXMuaXRlcmF0b3JfLnVwZGF0ZUl0ZXJhdGVkVmFsdWUoKSl9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5tb2RlbF89dm9pZCAwLHRoaXMuZGVsZWdhdGVfPXZvaWQgMCx0aGlzLmJpbmRpbmdzXyYmdGhpcy5iaW5kaW5nc18ucmVmJiZ0aGlzLmJpbmRpbmdzXy5yZWYuY2xvc2UoKSx0aGlzLnJlZkNvbnRlbnRfPXZvaWQgMCx0aGlzLml0ZXJhdG9yXyYmKHRoaXMuaXRlcmF0b3JfLnZhbHVlQ2hhbmdlZCgpLHRoaXMuaXRlcmF0b3JfLmNsb3NlKCksdGhpcy5pdGVyYXRvcl89dm9pZCAwKX0sc2V0RGVsZWdhdGVfOmZ1bmN0aW9uKGEpe3RoaXMuZGVsZWdhdGVfPWEsdGhpcy5iaW5kaW5nTWFwXz12b2lkIDAsdGhpcy5pdGVyYXRvcl8mJih0aGlzLml0ZXJhdG9yXy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXz12b2lkIDAsdGhpcy5pdGVyYXRvcl8uaW5zdGFuY2VNb2RlbEZuXz12b2lkIDApfSxuZXdEZWxlZ2F0ZV86ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiKXt2YXIgYz1hJiZhW2JdO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBjKXJldHVybiBmdW5jdGlvbigpe3JldHVybiBjLmFwcGx5KGEsYXJndW1lbnRzKX19aWYoYSlyZXR1cm57YmluZGluZ01hcHM6e30scmF3OmEscHJlcGFyZUJpbmRpbmc6YigicHJlcGFyZUJpbmRpbmciKSxwcmVwYXJlSW5zdGFuY2VNb2RlbDpiKCJwcmVwYXJlSW5zdGFuY2VNb2RlbCIpLHByZXBhcmVJbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZDpiKCJwcmVwYXJlSW5zdGFuY2VQb3NpdGlvbkNoYW5nZWQiKX19LHNldCBiaW5kaW5nRGVsZWdhdGUoYSl7aWYodGhpcy5kZWxlZ2F0ZV8pdGhyb3cgRXJyb3IoIlRlbXBsYXRlIG11c3QgYmUgY2xlYXJlZCBiZWZvcmUgYSBuZXcgYmluZGluZ0RlbGVnYXRlIGNhbiBiZSBhc3NpZ25lZCIpO3RoaXMuc2V0RGVsZWdhdGVfKHRoaXMubmV3RGVsZWdhdGVfKGEpKX0sZ2V0IHJlZl8oKXt2YXIgYT1kKHRoaXMsdGhpcy5nZXRBdHRyaWJ1dGUoInJlZiIpKTtpZihhfHwoYT10aGlzLmluc3RhbmNlUmVmXyksIWEpcmV0dXJuIHRoaXM7dmFyIGI9YS5yZWZfO3JldHVybiBiP2I6YX19KTt2YXIgUz0xO09iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlLnByb3RvdHlwZSwidGVtcGxhdGVJbnN0YW5jZSIse2dldDpmdW5jdGlvbigpe3ZhciBhPXRoaXMudGVtcGxhdGVJbnN0YW5jZV87cmV0dXJuIGE/YTp0aGlzLnBhcmVudE5vZGU/dGhpcy5wYXJlbnROb2RlLnRlbXBsYXRlSW5zdGFuY2U6dm9pZCAwfX0pO3ZhciBUPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtULmJpbmRpbmdzXz1bXSxULnRlcm1pbmF0b3JfPW51bGwsRS5wcm90b3R5cGU9e2Nsb3NlRGVwczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZGVwczthJiYoYS5pZk9uZVRpbWU9PT0hMSYmYS5pZlZhbHVlLmNsb3NlKCksYS5vbmVUaW1lPT09ITEmJmEudmFsdWUuY2xvc2UoKSl9LHVwZGF0ZURlcGVuZGVuY2llczpmdW5jdGlvbihhLGIpe3RoaXMuY2xvc2VEZXBzKCk7dmFyIGM9dGhpcy5kZXBzPXt9LGQ9dGhpcy50ZW1wbGF0ZUVsZW1lbnRfO2lmKGEuaWYpe2lmKGMuaGFzSWY9ITAsYy5pZk9uZVRpbWU9YS5pZi5vbmx5T25lVGltZSxjLmlmVmFsdWU9dihKLGEuaWYsZCxiKSxjLmlmT25lVGltZSYmIWMuaWZWYWx1ZSlyZXR1cm4gdm9pZCB0aGlzLnVwZGF0ZUl0ZXJhdGVkVmFsdWUoKTtjLmlmT25lVGltZXx8Yy5pZlZhbHVlLm9wZW4odGhpcy51cGRhdGVJdGVyYXRlZFZhbHVlLHRoaXMpfWEucmVwZWF0PyhjLnJlcGVhdD0hMCxjLm9uZVRpbWU9YS5yZXBlYXQub25seU9uZVRpbWUsYy52YWx1ZT12KEksYS5yZXBlYXQsZCxiKSk6KGMucmVwZWF0PSExLGMub25lVGltZT1hLmJpbmQub25seU9uZVRpbWUsYy52YWx1ZT12KEgsYS5iaW5kLGQsYikpLGMub25lVGltZXx8Yy52YWx1ZS5vcGVuKHRoaXMudXBkYXRlSXRlcmF0ZWRWYWx1ZSx0aGlzKSx0aGlzLnVwZGF0ZUl0ZXJhdGVkVmFsdWUoKX0sdXBkYXRlSXRlcmF0ZWRWYWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuZGVwcy5oYXNJZil7dmFyIGE9dGhpcy5kZXBzLmlmVmFsdWU7aWYodGhpcy5kZXBzLmlmT25lVGltZXx8KGE9YS5kaXNjYXJkQ2hhbmdlcygpKSwhYSlyZXR1cm4gdm9pZCB0aGlzLnZhbHVlQ2hhbmdlZCgpfXZhciBiPXRoaXMuZGVwcy52YWx1ZTt0aGlzLmRlcHMub25lVGltZXx8KGI9Yi5kaXNjYXJkQ2hhbmdlcygpKSx0aGlzLmRlcHMucmVwZWF0fHwoYj1bYl0pO3ZhciBjPXRoaXMuZGVwcy5yZXBlYXQmJiF0aGlzLmRlcHMub25lVGltZSYmQXJyYXkuaXNBcnJheShiKTt0aGlzLnZhbHVlQ2hhbmdlZChiLGMpfSx2YWx1ZUNoYW5nZWQ6ZnVuY3Rpb24oYSxiKXtBcnJheS5pc0FycmF5KGEpfHwoYT1bXSksYSE9PXRoaXMuaXRlcmF0ZWRWYWx1ZSYmKHRoaXMudW5vYnNlcnZlKCksdGhpcy5wcmVzZW50VmFsdWU9YSxiJiYodGhpcy5hcnJheU9ic2VydmVyPW5ldyBBcnJheU9ic2VydmVyKHRoaXMucHJlc2VudFZhbHVlKSx0aGlzLmFycmF5T2JzZXJ2ZXIub3Blbih0aGlzLmhhbmRsZVNwbGljZXMsdGhpcykpLHRoaXMuaGFuZGxlU3BsaWNlcyhBcnJheU9ic2VydmVyLmNhbGN1bGF0ZVNwbGljZXModGhpcy5wcmVzZW50VmFsdWUsdGhpcy5pdGVyYXRlZFZhbHVlKSkpfSxnZXRMYXN0SW5zdGFuY2VOb2RlOmZ1bmN0aW9uKGEpe2lmKC0xPT1hKXJldHVybiB0aGlzLnRlbXBsYXRlRWxlbWVudF87dmFyIGI9dGhpcy5pbnN0YW5jZXNbYV0sYz1iLnRlcm1pbmF0b3JfO2lmKCFjKXJldHVybiB0aGlzLmdldExhc3RJbnN0YW5jZU5vZGUoYS0xKTtpZihjLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREV8fHRoaXMudGVtcGxhdGVFbGVtZW50Xz09PWMpcmV0dXJuIGM7dmFyIGQ9Yy5pdGVyYXRvcl87cmV0dXJuIGQ/ZC5nZXRMYXN0VGVtcGxhdGVOb2RlKCk6Y30sZ2V0TGFzdFRlbXBsYXRlTm9kZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldExhc3RJbnN0YW5jZU5vZGUodGhpcy5pbnN0YW5jZXMubGVuZ3RoLTEpfSxpbnNlcnRJbnN0YW5jZUF0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRMYXN0SW5zdGFuY2VOb2RlKGEtMSksZD10aGlzLnRlbXBsYXRlRWxlbWVudF8ucGFyZW50Tm9kZTt0aGlzLmluc3RhbmNlcy5zcGxpY2UoYSwwLGIpLGQuaW5zZXJ0QmVmb3JlKGIsYy5uZXh0U2libGluZyl9LGV4dHJhY3RJbnN0YW5jZUF0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmdldExhc3RJbnN0YW5jZU5vZGUoYS0xKSxjPXRoaXMuZ2V0TGFzdEluc3RhbmNlTm9kZShhKSxkPXRoaXMudGVtcGxhdGVFbGVtZW50Xy5wYXJlbnROb2RlLGU9dGhpcy5pbnN0YW5jZXMuc3BsaWNlKGEsMSlbMF07YyE9PWI7KXt2YXIgZj1iLm5leHRTaWJsaW5nO2Y9PWMmJihjPWIpLGUuYXBwZW5kQ2hpbGQoZC5yZW1vdmVDaGlsZChmKSl9cmV0dXJuIGV9LGdldERlbGVnYXRlRm46ZnVuY3Rpb24oYSl7cmV0dXJuIGE9YSYmYSh0aGlzLnRlbXBsYXRlRWxlbWVudF8pLCJmdW5jdGlvbiI9PXR5cGVvZiBhP2E6bnVsbH0saGFuZGxlU3BsaWNlczpmdW5jdGlvbihhKXtpZighdGhpcy5jbG9zZWQmJmEubGVuZ3RoKXt2YXIgYj10aGlzLnRlbXBsYXRlRWxlbWVudF87aWYoIWIucGFyZW50Tm9kZSlyZXR1cm4gdm9pZCB0aGlzLmNsb3NlKCk7QXJyYXlPYnNlcnZlci5hcHBseVNwbGljZXModGhpcy5pdGVyYXRlZFZhbHVlLHRoaXMucHJlc2VudFZhbHVlLGEpO3ZhciBjPWIuZGVsZWdhdGVfO3ZvaWQgMD09PXRoaXMuaW5zdGFuY2VNb2RlbEZuXyYmKHRoaXMuaW5zdGFuY2VNb2RlbEZuXz10aGlzLmdldERlbGVnYXRlRm4oYyYmYy5wcmVwYXJlSW5zdGFuY2VNb2RlbCkpLHZvaWQgMD09PXRoaXMuaW5zdGFuY2VQb3NpdGlvbkNoYW5nZWRGbl8mJih0aGlzLmluc3RhbmNlUG9zaXRpb25DaGFuZ2VkRm5fPXRoaXMuZ2V0RGVsZWdhdGVGbihjJiZjLnByZXBhcmVJbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZCkpO2Zvcih2YXIgZD1uZXcgRixlPTAsZj0wO2Y8YS5sZW5ndGg7ZisrKXtmb3IodmFyIGc9YVtmXSxoPWcucmVtb3ZlZCxpPTA7aTxoLmxlbmd0aDtpKyspe3ZhciBqPWhbaV0saz10aGlzLmV4dHJhY3RJbnN0YW5jZUF0KGcuaW5kZXgrZSk7ayE9PVQmJmQuc2V0KGosayl9ZS09Zy5hZGRlZENvdW50fWZvcih2YXIgZj0wO2Y8YS5sZW5ndGg7ZisrKWZvcih2YXIgZz1hW2ZdLGw9Zy5pbmRleDtsPGcuaW5kZXgrZy5hZGRlZENvdW50O2wrKyl7dmFyIGo9dGhpcy5pdGVyYXRlZFZhbHVlW2xdLGs9ZC5nZXQoaik7az9kLmRlbGV0ZShqKToodGhpcy5pbnN0YW5jZU1vZGVsRm5fJiYoaj10aGlzLmluc3RhbmNlTW9kZWxGbl8oaikpLGs9dm9pZCAwPT09aj9UOmIuY3JlYXRlSW5zdGFuY2Uoaix2b2lkIDAsYykpLHRoaXMuaW5zZXJ0SW5zdGFuY2VBdChsLGspfWQuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLmNsb3NlSW5zdGFuY2VCaW5kaW5ncyhhKX0sdGhpcyksdGhpcy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXyYmdGhpcy5yZXBvcnRJbnN0YW5jZXNNb3ZlZChhKX19LHJlcG9ydEluc3RhbmNlTW92ZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnN0YW5jZXNbYV07YiE9PVQmJnRoaXMuaW5zdGFuY2VQb3NpdGlvbkNoYW5nZWRGbl8oYi50ZW1wbGF0ZUluc3RhbmNlXyxhKX0scmVwb3J0SW5zdGFuY2VzTW92ZWQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz0wLGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGU9YVtkXTtpZigwIT1jKWZvcig7YjxlLmluZGV4Oyl0aGlzLnJlcG9ydEluc3RhbmNlTW92ZWQoYiksYisrO2Vsc2UgYj1lLmluZGV4O2Zvcig7YjxlLmluZGV4K2UuYWRkZWRDb3VudDspdGhpcy5yZXBvcnRJbnN0YW5jZU1vdmVkKGIpLGIrKztjKz1lLmFkZGVkQ291bnQtZS5yZW1vdmVkLmxlbmd0aH1pZigwIT1jKWZvcih2YXIgZj10aGlzLmluc3RhbmNlcy5sZW5ndGg7Zj5iOyl0aGlzLnJlcG9ydEluc3RhbmNlTW92ZWQoYiksYisrfSxjbG9zZUluc3RhbmNlQmluZGluZ3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEuYmluZGluZ3NfLGM9MDtjPGIubGVuZ3RoO2MrKyliW2NdLmNsb3NlKCl9LHVub2JzZXJ2ZTpmdW5jdGlvbigpe3RoaXMuYXJyYXlPYnNlcnZlciYmKHRoaXMuYXJyYXlPYnNlcnZlci5jbG9zZSgpLHRoaXMuYXJyYXlPYnNlcnZlcj12b2lkIDApfSxjbG9zZTpmdW5jdGlvbigpe2lmKCF0aGlzLmNsb3NlZCl7dGhpcy51bm9ic2VydmUoKTtmb3IodmFyIGE9MDthPHRoaXMuaW5zdGFuY2VzLmxlbmd0aDthKyspdGhpcy5jbG9zZUluc3RhbmNlQmluZGluZ3ModGhpcy5pbnN0YW5jZXNbYV0pO3RoaXMuaW5zdGFuY2VzLmxlbmd0aD0wLHRoaXMuY2xvc2VEZXBzKCksdGhpcy50ZW1wbGF0ZUVsZW1lbnRfLml0ZXJhdG9yXz12b2lkIDAsdGhpcy5jbG9zZWQ9ITB9fX0sSFRNTFRlbXBsYXRlRWxlbWVudC5mb3JBbGxUZW1wbGF0ZXNGcm9tXz1pfSh0aGlzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7ZXx8KGU9ITAsYS5lbmRPZk1pY3JvdGFzayhmdW5jdGlvbigpe2U9ITEsbG9nRmxhZ3MuZGF0YSYmY29uc29sZS5ncm91cCgiUGxhdGZvcm0uZmx1c2goKSIpLGEucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQoKSxsb2dGbGFncy5kYXRhJiZjb25zb2xlLmdyb3VwRW5kKCl9KSl9dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtjLnRleHRDb250ZW50PSJ0ZW1wbGF0ZSB7ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O30gLyogaW5qZWN0ZWQgYnkgcGxhdGZvcm0uanMgKi8iO3ZhciBkPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImhlYWQiKTtkLmluc2VydEJlZm9yZShjLGQuZmlyc3RDaGlsZCk7dmFyIGU7aWYoT2JzZXJ2ZXIuaGFzT2JqZWN0T2JzZXJ2ZSliPWZ1bmN0aW9uKCl7fTtlbHNle3ZhciBmPTEyNTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiV2ViQ29tcG9uZW50c1JlYWR5IixmdW5jdGlvbigpe2IoKSxhLmZsdXNoUG9sbD1zZXRJbnRlcnZhbChiLGYpfSl9aWYod2luZG93LkN1c3RvbUVsZW1lbnRzJiYhQ3VzdG9tRWxlbWVudHMudXNlTmF0aXZlKXt2YXIgZz1Eb2N1bWVudC5wcm90b3R5cGUuaW1wb3J0Tm9kZTtEb2N1bWVudC5wcm90b3R5cGUuaW1wb3J0Tm9kZT1mdW5jdGlvbihhLGIpe3ZhciBjPWcuY2FsbCh0aGlzLGEsYik7cmV0dXJuIEN1c3RvbUVsZW1lbnRzLnVwZ3JhZGVBbGwoYyksY319YS5mbHVzaD1ifSh3aW5kb3cuUGxhdGZvcm0pOwovLyMgc291cmNlTWFwcGluZ1VSTD1wbGF0Zm9ybS5qcy5tYXA=",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 04:37:43 GMT",
                    "Content-Length": "151373",
                    "Date": "Fri, 07 Nov 2014 04:37:43 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
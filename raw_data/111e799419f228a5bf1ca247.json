{
    "url": "http://localhost:9999/RameshRM/x-feedback/bower_components/platform/platform.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Link manipulation (DOM-based)",
    "issueType": 5246976,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based link manipulation vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this to a navigation target within the current page, such as a clickable link or the submission URL of a form. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will modify the target of links within the response. An attacker may be able to leverage this to perform various attacks, including:<ul><li>Causing the user to redirect to an arbitrary external URL, to facilitate a phishing attack.</li><li>Causing the user to submit sensitive form data to a server controlled by the attacker.</li><li>Causing the user to perform an unintended action within the application, by changing the file or query string associated with a link.</li><li>Bypassing browser anti-XSS defenses by injecting on-site links containing XSS exploits, since browser anti-XSS defenses typically do not operate on on-site links.</li></ul>",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based link manipulation vulnerabilities is not to dynamically set the target URLs of links or forms using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a link target. In general, this is best achieved by using a whitelist of URLs that are permitted link targets, and strictly validating the target against this list before setting the link target.",
    "issueDetail": "The application may be vulnerable to DOM-based link manipulation. Data is read from <b>the 'baseURI' property of a DOM element</b> and written to <b>the 'href' property of a DOM element</b> via the following statement:<ul><li>c.href=document.baseURI,b.stagingDocument_.head.appendChild(c),b.stagingDocument_.stagingDocument_=b.stagingDocument_</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/RameshRM/x-feedback/bower_components/platform/platform.js",
                "path": "/RameshRM/x-feedback/bower_components/platform/platform.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9SYW1lc2hSTS94LWZlZWRiYWNrL2Jvd2VyX2NvbXBvbmVudHMvcGxhdGZvcm0vcGxhdGZvcm0uanMgSFRUUC8xLjENCkhvc3Q6IGxvY2FsaG9zdDo5OTk5DQoNCg==",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTUxMzQ4DQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBTdW4sIDA5IE5vdiAyMDE0IDAzOjI4OjE5IEdNVA0KTGFzdC1Nb2RpZmllZDogU3VuLCAwOSBOb3YgMjAxNCAwMzoyODoxOSBHTVQNCg0KLyoqCiAqIEBsaWNlbnNlCiAqIENvcHlyaWdodCAoYykgMjAxNCBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQKICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHQKICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0CiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvCiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0CiAqLwovLyBAdmVyc2lvbjogMC4yLjQKCndpbmRvdy5QbGF0Zm9ybT13aW5kb3cuUGxhdGZvcm18fHt9LHdpbmRvdy5sb2dGbGFncz13aW5kb3cubG9nRmxhZ3N8fHt9LGZ1bmN0aW9uKGEpe3ZhciBiPWEuZmxhZ3N8fHt9O2xvY2F0aW9uLnNlYXJjaC5zbGljZSgxKS5zcGxpdCgiJiIpLmZvckVhY2goZnVuY3Rpb24oYSl7YT1hLnNwbGl0KCI9IiksYVswXSYmKGJbYVswXV09YVsxXXx8ITApfSk7dmFyIGM9ZG9jdW1lbnQuY3VycmVudFNjcmlwdHx8ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2NyaXB0W3NyYyo9InBsYXRmb3JtLmpzIl0nKTtpZihjKWZvcih2YXIgZCxlPWMuYXR0cmlidXRlcyxmPTA7ZjxlLmxlbmd0aDtmKyspZD1lW2ZdLCJzcmMiIT09ZC5uYW1lJiYoYltkLm5hbWVdPWQudmFsdWV8fCEwKTtiLmxvZyYmYi5sb2cuc3BsaXQoIiwiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3dpbmRvdy5sb2dGbGFnc1thXT0hMH0pLGIuc2hhZG93PWIuc2hhZG93fHxiLnNoYWRvd2RvbXx8Yi5wb2x5ZmlsbCxiLnNoYWRvdz0ibmF0aXZlIj09PWIuc2hhZG93PyExOmIuc2hhZG93fHwhSFRNTEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3QsYi5zaGFkb3cmJmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoInNjcmlwdCIpLmxlbmd0aD4xJiZjb25zb2xlLndhcm4oInBsYXRmb3JtLmpzIGlzIG5vdCB0aGUgZmlyc3Qgc2NyaXB0IG9uIHRoZSBwYWdlLiBTZWUgaHR0cDovL3d3dy5wb2x5bWVyLXByb2plY3Qub3JnL2RvY3Mvc3RhcnQvcGxhdGZvcm0uaHRtbCNzZXR1cCBmb3IgZGV0YWlscy4iKSxiLnJlZ2lzdGVyJiYod2luZG93LkN1c3RvbUVsZW1lbnRzPXdpbmRvdy5DdXN0b21FbGVtZW50c3x8e2ZsYWdzOnt9fSx3aW5kb3cuQ3VzdG9tRWxlbWVudHMuZmxhZ3MucmVnaXN0ZXI9Yi5yZWdpc3RlciksYi5pbXBvcnRzJiYod2luZG93LkhUTUxJbXBvcnRzPXdpbmRvdy5IVE1MSW1wb3J0c3x8e2ZsYWdzOnt9fSx3aW5kb3cuSFRNTEltcG9ydHMuZmxhZ3MuaW1wb3J0cz1iLmltcG9ydHMpLGEuZmxhZ3M9Yn0oUGxhdGZvcm0pLCJ1bmRlZmluZWQiPT10eXBlb2YgV2Vha01hcCYmIWZ1bmN0aW9uKCl7dmFyIGE9T2JqZWN0LmRlZmluZVByb3BlcnR5LGI9RGF0ZS5ub3coKSUxZTksYz1mdW5jdGlvbigpe3RoaXMubmFtZT0iX19zdCIrKDFlOSpNYXRoLnJhbmRvbSgpPj4+MCkrKGIrKyArIl9fIil9O2MucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYixjKXt2YXIgZD1iW3RoaXMubmFtZV07ZCYmZFswXT09PWI/ZFsxXT1jOmEoYix0aGlzLm5hbWUse3ZhbHVlOltiLGNdLHdyaXRhYmxlOiEwfSl9LGdldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4oYj1hW3RoaXMubmFtZV0pJiZiWzBdPT09YT9iWzFdOnZvaWQgMH0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dGhpcy5zZXQoYSx2b2lkIDApfX0sd2luZG93LldlYWtNYXA9Y30oKSxmdW5jdGlvbihnbG9iYWwpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBkZXRlY3RPYmplY3RPYnNlcnZlKCl7ZnVuY3Rpb24gYShhKXtiPWF9aWYoImZ1bmN0aW9uIiE9dHlwZW9mIE9iamVjdC5vYnNlcnZlfHwiZnVuY3Rpb24iIT10eXBlb2YgQXJyYXkub2JzZXJ2ZSlyZXR1cm4hMTt2YXIgYj1bXSxjPXt9LGQ9W107cmV0dXJuIE9iamVjdC5vYnNlcnZlKGMsYSksQXJyYXkub2JzZXJ2ZShkLGEpLGMuaWQ9MSxjLmlkPTIsZGVsZXRlIGMuaWQsZC5wdXNoKDEsMiksZC5sZW5ndGg9MCxPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMoYSksNSE9PWIubGVuZ3RoPyExOiJhZGQiIT1iWzBdLnR5cGV8fCJ1cGRhdGUiIT1iWzFdLnR5cGV8fCJkZWxldGUiIT1iWzJdLnR5cGV8fCJzcGxpY2UiIT1iWzNdLnR5cGV8fCJzcGxpY2UiIT1iWzRdLnR5cGU/ITE6KE9iamVjdC51bm9ic2VydmUoYyxhKSxBcnJheS51bm9ic2VydmUoZCxhKSwhMCl9ZnVuY3Rpb24gZGV0ZWN0RXZhbCgpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgY2hyb21lJiZjaHJvbWUuYXBwJiZjaHJvbWUuYXBwLnJ1bnRpbWUpcmV0dXJuITE7dHJ5e3ZhciBhPW5ldyBGdW5jdGlvbigiIiwicmV0dXJuIHRydWU7Iik7cmV0dXJuIGEoKX1jYXRjaChiKXtyZXR1cm4hMX19ZnVuY3Rpb24gaXNJbmRleChhKXtyZXR1cm4rYT09PWE+Pj4wfWZ1bmN0aW9uIHRvTnVtYmVyKGEpe3JldHVybithfWZ1bmN0aW9uIGlzT2JqZWN0KGEpe3JldHVybiBhPT09T2JqZWN0KGEpfWZ1bmN0aW9uIGFyZVNhbWVWYWx1ZShhLGIpe3JldHVybiBhPT09Yj8wIT09YXx8MS9hPT09MS9iOm51bWJlcklzTmFOKGEpJiZudW1iZXJJc05hTihiKT8hMDphIT09YSYmYiE9PWJ9ZnVuY3Rpb24gaXNQYXRoVmFsaWQoYSl7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBhPyExOihhPWEudHJpbSgpLCIiPT1hPyEwOiIuIj09YVswXT8hMTpwYXRoUmVnRXhwLnRlc3QoYSkpfWZ1bmN0aW9uIFBhdGgoYSxiKXtpZihiIT09Y29uc3RydWN0b3JJc1ByaXZhdGUpdGhyb3cgRXJyb3IoIlVzZSBQYXRoLmdldCB0byByZXRyaWV2ZSBwYXRoIG9iamVjdHMiKTtyZXR1cm4iIj09YS50cmltKCk/dGhpczppc0luZGV4KGEpPyh0aGlzLnB1c2goYSksdGhpcyk6KGEuc3BsaXQoL1xzKlwuXHMqLykuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhfSkuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLnB1c2goYSl9LHRoaXMpLHZvaWQoaGFzRXZhbCYmdGhpcy5sZW5ndGgmJih0aGlzLmdldFZhbHVlRnJvbT10aGlzLmNvbXBpbGVkR2V0VmFsdWVGcm9tRm4oKSkpKX1mdW5jdGlvbiBnZXRQYXRoKGEpe2lmKGEgaW5zdGFuY2VvZiBQYXRoKXJldHVybiBhO251bGw9PWEmJihhPSIiKSwic3RyaW5nIiE9dHlwZW9mIGEmJihhPVN0cmluZyhhKSk7dmFyIGI9cGF0aENhY2hlW2FdO2lmKGIpcmV0dXJuIGI7aWYoIWlzUGF0aFZhbGlkKGEpKXJldHVybiBpbnZhbGlkUGF0aDt2YXIgYj1uZXcgUGF0aChhLGNvbnN0cnVjdG9ySXNQcml2YXRlKTtyZXR1cm4gcGF0aENhY2hlW2FdPWIsYn1mdW5jdGlvbiBkaXJ0eUNoZWNrKGEpe2Zvcih2YXIgYj0wO01BWF9ESVJUWV9DSEVDS19DWUNMRVM+YiYmYS5jaGVja18oKTspYisrO3JldHVybiBnbG9iYWwudGVzdGluZ0V4cG9zZUN5Y2xlQ291bnQmJihnbG9iYWwuZGlydHlDaGVja0N5Y2xlQ291bnQ9YiksYj4wfWZ1bmN0aW9uIG9iamVjdElzRW1wdHkoYSl7Zm9yKHZhciBiIGluIGEpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gZGlmZklzRW1wdHkoYSl7cmV0dXJuIG9iamVjdElzRW1wdHkoYS5hZGRlZCkmJm9iamVjdElzRW1wdHkoYS5yZW1vdmVkKSYmb2JqZWN0SXNFbXB0eShhLmNoYW5nZWQpfWZ1bmN0aW9uIGRpZmZPYmplY3RGcm9tT2xkT2JqZWN0KGEsYil7dmFyIGM9e30sZD17fSxlPXt9O2Zvcih2YXIgZiBpbiBiKXt2YXIgZz1hW2ZdOyh2b2lkIDA9PT1nfHxnIT09YltmXSkmJihmIGluIGE/ZyE9PWJbZl0mJihlW2ZdPWcpOmRbZl09dm9pZCAwKX1mb3IodmFyIGYgaW4gYSlmIGluIGJ8fChjW2ZdPWFbZl0pO3JldHVybiBBcnJheS5pc0FycmF5KGEpJiZhLmxlbmd0aCE9PWIubGVuZ3RoJiYoZS5sZW5ndGg9YS5sZW5ndGgpLHthZGRlZDpjLHJlbW92ZWQ6ZCxjaGFuZ2VkOmV9fWZ1bmN0aW9uIHJ1bkVPTVRhc2tzKCl7aWYoIWVvbVRhc2tzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGE9MDthPGVvbVRhc2tzLmxlbmd0aDthKyspZW9tVGFza3NbYV0oKTtyZXR1cm4gZW9tVGFza3MubGVuZ3RoPTAsITB9ZnVuY3Rpb24gbmV3T2JzZXJ2ZWRPYmplY3QoKXtmdW5jdGlvbiBhKGEpe2ImJmIuc3RhdGVfPT09T1BFTkVEJiYhZCYmYi5jaGVja18oYSl9dmFyIGIsYyxkPSExLGU9ITA7cmV0dXJue29wZW46ZnVuY3Rpb24oYyl7aWYoYil0aHJvdyBFcnJvcigiT2JzZXJ2ZWRPYmplY3QgaW4gdXNlIik7ZXx8T2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzKGEpLGI9YyxlPSExfSxvYnNlcnZlOmZ1bmN0aW9uKGIsZCl7Yz1iLGQ/QXJyYXkub2JzZXJ2ZShjLGEpOk9iamVjdC5vYnNlcnZlKGMsYSl9LGRlbGl2ZXI6ZnVuY3Rpb24oYil7ZD1iLE9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyhhKSxkPSExfSxjbG9zZTpmdW5jdGlvbigpe2I9dm9pZCAwLE9iamVjdC51bm9ic2VydmUoYyxhKSxvYnNlcnZlZE9iamVjdENhY2hlLnB1c2godGhpcyl9fX1mdW5jdGlvbiBnZXRPYnNlcnZlZE9iamVjdChhLGIsYyl7dmFyIGQ9b2JzZXJ2ZWRPYmplY3RDYWNoZS5wb3AoKXx8bmV3T2JzZXJ2ZWRPYmplY3QoKTtyZXR1cm4gZC5vcGVuKGEpLGQub2JzZXJ2ZShiLGMpLGR9ZnVuY3Rpb24gbmV3T2JzZXJ2ZWRTZXQoKXtmdW5jdGlvbiBhKGIsZil7YiYmKGI9PT1kJiYoZVtmXT0hMCksaC5pbmRleE9mKGIpPDAmJihoLnB1c2goYiksT2JqZWN0Lm9ic2VydmUoYixjKSksYShPYmplY3QuZ2V0UHJvdG90eXBlT2YoYiksZikpfWZ1bmN0aW9uIGIoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPWFbYl07aWYoYy5vYmplY3QhPT1kfHxlW2MubmFtZV18fCJzZXRQcm90b3R5cGUiPT09Yy50eXBlKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGMoYyl7aWYoIWIoYykpe2Zvcih2YXIgZCxlPTA7ZTxnLmxlbmd0aDtlKyspZD1nW2VdLGQuc3RhdGVfPT1PUEVORUQmJmQuaXRlcmF0ZU9iamVjdHNfKGEpO2Zvcih2YXIgZT0wO2U8Zy5sZW5ndGg7ZSsrKWQ9Z1tlXSxkLnN0YXRlXz09T1BFTkVEJiZkLmNoZWNrXygpfX12YXIgZCxlLGY9MCxnPVtdLGg9W10saT17b2JqZWN0OnZvaWQgMCxvYmplY3RzOmgsb3BlbjpmdW5jdGlvbihiLGMpe2R8fChkPWMsZT17fSksZy5wdXNoKGIpLGYrKyxiLml0ZXJhdGVPYmplY3RzXyhhKX0sY2xvc2U6ZnVuY3Rpb24oKXtpZihmLS0sIShmPjApKXtmb3IodmFyIGE9MDthPGgubGVuZ3RoO2ErKylPYmplY3QudW5vYnNlcnZlKGhbYV0sYyksT2JzZXJ2ZXIudW5vYnNlcnZlZENvdW50Kys7Zy5sZW5ndGg9MCxoLmxlbmd0aD0wLGQ9dm9pZCAwLGU9dm9pZCAwLG9ic2VydmVkU2V0Q2FjaGUucHVzaCh0aGlzKX19fTtyZXR1cm4gaX1mdW5jdGlvbiBnZXRPYnNlcnZlZFNldChhLGIpe3JldHVybiBsYXN0T2JzZXJ2ZWRTZXQmJmxhc3RPYnNlcnZlZFNldC5vYmplY3Q9PT1ifHwobGFzdE9ic2VydmVkU2V0PW9ic2VydmVkU2V0Q2FjaGUucG9wKCl8fG5ld09ic2VydmVkU2V0KCksbGFzdE9ic2VydmVkU2V0Lm9iamVjdD1iKSxsYXN0T2JzZXJ2ZWRTZXQub3BlbihhLGIpLGxhc3RPYnNlcnZlZFNldH1mdW5jdGlvbiBPYnNlcnZlcigpe3RoaXMuc3RhdGVfPVVOT1BFTkVELHRoaXMuY2FsbGJhY2tfPXZvaWQgMCx0aGlzLnRhcmdldF89dm9pZCAwLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5pZF89bmV4dE9ic2VydmVySWQrK31mdW5jdGlvbiBhZGRUb0FsbChhKXtPYnNlcnZlci5fYWxsT2JzZXJ2ZXJzQ291bnQrKyxjb2xsZWN0T2JzZXJ2ZXJzJiZhbGxPYnNlcnZlcnMucHVzaChhKX1mdW5jdGlvbiByZW1vdmVGcm9tQWxsKCl7T2JzZXJ2ZXIuX2FsbE9ic2VydmVyc0NvdW50LS19ZnVuY3Rpb24gT2JqZWN0T2JzZXJ2ZXIoYSl7T2JzZXJ2ZXIuY2FsbCh0aGlzKSx0aGlzLnZhbHVlXz1hLHRoaXMub2xkT2JqZWN0Xz12b2lkIDB9ZnVuY3Rpb24gQXJyYXlPYnNlcnZlcihhKXtpZighQXJyYXkuaXNBcnJheShhKSl0aHJvdyBFcnJvcigiUHJvdmlkZWQgb2JqZWN0IGlzIG5vdCBhbiBBcnJheSIpO09iamVjdE9ic2VydmVyLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBQYXRoT2JzZXJ2ZXIoYSxiKXtPYnNlcnZlci5jYWxsKHRoaXMpLHRoaXMub2JqZWN0Xz1hLHRoaXMucGF0aF89Z2V0UGF0aChiKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDB9ZnVuY3Rpb24gQ29tcG91bmRPYnNlcnZlcihhKXtPYnNlcnZlci5jYWxsKHRoaXMpLHRoaXMucmVwb3J0Q2hhbmdlc09uT3Blbl89YSx0aGlzLnZhbHVlXz1bXSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDAsdGhpcy5vYnNlcnZlZF89W119ZnVuY3Rpb24gaWRlbnRGbihhKXtyZXR1cm4gYX1mdW5jdGlvbiBPYnNlcnZlclRyYW5zZm9ybShhLGIsYyxkKXt0aGlzLmNhbGxiYWNrXz12b2lkIDAsdGhpcy50YXJnZXRfPXZvaWQgMCx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5vYnNlcnZhYmxlXz1hLHRoaXMuZ2V0VmFsdWVGbl89Ynx8aWRlbnRGbix0aGlzLnNldFZhbHVlRm5fPWN8fGlkZW50Rm4sdGhpcy5kb250UGFzc1Rocm91Z2hTZXRfPWR9ZnVuY3Rpb24gbm90aWZ5KGEsYixjLGQpe2lmKCFhcmVTYW1lVmFsdWUoYyxkKSYmKCJmdW5jdGlvbiI9PXR5cGVvZiBhLnByb3BlcnR5Q2hhbmdlZF8mJmEucHJvcGVydHlDaGFuZ2VkXyhiLGMsZCksaGFzT2JzZXJ2ZSkpe3ZhciBlPWEubm90aWZpZXJfO2V8fChlPWEubm90aWZpZXJfPU9iamVjdC5nZXROb3RpZmllcihhKSksdXBkYXRlUmVjb3JkLm9iamVjdD1hLHVwZGF0ZVJlY29yZC5uYW1lPWIsdXBkYXRlUmVjb3JkLm9sZFZhbHVlPWQsZS5ub3RpZnkodXBkYXRlUmVjb3JkKX19ZnVuY3Rpb24gZGlmZk9iamVjdEZyb21DaGFuZ2VSZWNvcmRzKGEsYixjKXtmb3IodmFyIGQ9e30sZT17fSxmPTA7ZjxiLmxlbmd0aDtmKyspe3ZhciBnPWJbZl07ZXhwZWN0ZWRSZWNvcmRUeXBlc1tnLnR5cGVdPyhnLm5hbWUgaW4gY3x8KGNbZy5uYW1lXT1nLm9sZFZhbHVlKSwidXBkYXRlIiE9Zy50eXBlJiYoImFkZCIhPWcudHlwZT9nLm5hbWUgaW4gZD8oZGVsZXRlIGRbZy5uYW1lXSxkZWxldGUgY1tnLm5hbWVdKTplW2cubmFtZV09ITA6Zy5uYW1lIGluIGU/ZGVsZXRlIGVbZy5uYW1lXTpkW2cubmFtZV09ITApKTooY29uc29sZS5lcnJvcigiVW5rbm93biBjaGFuZ2VSZWNvcmQgdHlwZTogIitnLnR5cGUpLGNvbnNvbGUuZXJyb3IoZykpfWZvcih2YXIgaCBpbiBkKWRbaF09YVtoXTtmb3IodmFyIGggaW4gZSllW2hdPXZvaWQgMDt2YXIgaT17fTtmb3IodmFyIGggaW4gYylpZighKGggaW4gZHx8aCBpbiBlKSl7dmFyIGo9YVtoXTtjW2hdIT09aiYmKGlbaF09ail9cmV0dXJue2FkZGVkOmQscmVtb3ZlZDplLGNoYW5nZWQ6aX19ZnVuY3Rpb24gbmV3U3BsaWNlKGEsYixjKXtyZXR1cm57aW5kZXg6YSxyZW1vdmVkOmIsYWRkZWRDb3VudDpjfX1mdW5jdGlvbiBBcnJheVNwbGljZSgpe31mdW5jdGlvbiBjYWxjU3BsaWNlcyhhLGIsYyxkLGUsZil7cmV0dXJuIGFycmF5U3BsaWNlLmNhbGNTcGxpY2VzKGEsYixjLGQsZSxmKX1mdW5jdGlvbiBpbnRlcnNlY3QoYSxiLGMsZCl7cmV0dXJuIGM+Ynx8YT5kPy0xOmI9PWN8fGQ9PWE/MDpjPmE/ZD5iP2ItYzpkLWM6Yj5kP2QtYTpiLWF9ZnVuY3Rpb24gbWVyZ2VTcGxpY2UoYSxiLGMsZCl7Zm9yKHZhciBlPW5ld1NwbGljZShiLGMsZCksZj0hMSxnPTAsaD0wO2g8YS5sZW5ndGg7aCsrKXt2YXIgaT1hW2hdO2lmKGkuaW5kZXgrPWcsIWYpe3ZhciBqPWludGVyc2VjdChlLmluZGV4LGUuaW5kZXgrZS5yZW1vdmVkLmxlbmd0aCxpLmluZGV4LGkuaW5kZXgraS5hZGRlZENvdW50KTtpZihqPj0wKXthLnNwbGljZShoLDEpLGgtLSxnLT1pLmFkZGVkQ291bnQtaS5yZW1vdmVkLmxlbmd0aCxlLmFkZGVkQ291bnQrPWkuYWRkZWRDb3VudC1qO3ZhciBrPWUucmVtb3ZlZC5sZW5ndGgraS5yZW1vdmVkLmxlbmd0aC1qO2lmKGUuYWRkZWRDb3VudHx8ayl7dmFyIGM9aS5yZW1vdmVkO2lmKGUuaW5kZXg8aS5pbmRleCl7dmFyIGw9ZS5yZW1vdmVkLnNsaWNlKDAsaS5pbmRleC1lLmluZGV4KTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShsLGMpLGM9bH1pZihlLmluZGV4K2UucmVtb3ZlZC5sZW5ndGg+aS5pbmRleCtpLmFkZGVkQ291bnQpe3ZhciBtPWUucmVtb3ZlZC5zbGljZShpLmluZGV4K2kuYWRkZWRDb3VudC1lLmluZGV4KTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShjLG0pfWUucmVtb3ZlZD1jLGkuaW5kZXg8ZS5pbmRleCYmKGUuaW5kZXg9aS5pbmRleCl9ZWxzZSBmPSEwfWVsc2UgaWYoZS5pbmRleDxpLmluZGV4KXtmPSEwLGEuc3BsaWNlKGgsMCxlKSxoKys7dmFyIG49ZS5hZGRlZENvdW50LWUucmVtb3ZlZC5sZW5ndGg7aS5pbmRleCs9bixnKz1ufX19Znx8YS5wdXNoKGUpfWZ1bmN0aW9uIGNyZWF0ZUluaXRpYWxTcGxpY2VzKGEsYil7Zm9yKHZhciBjPVtdLGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXTtzd2l0Y2goZS50eXBlKXtjYXNlInNwbGljZSI6bWVyZ2VTcGxpY2UoYyxlLmluZGV4LGUucmVtb3ZlZC5zbGljZSgpLGUuYWRkZWRDb3VudCk7YnJlYWs7Y2FzZSJhZGQiOmNhc2UidXBkYXRlIjpjYXNlImRlbGV0ZSI6aWYoIWlzSW5kZXgoZS5uYW1lKSljb250aW51ZTt2YXIgZj10b051bWJlcihlLm5hbWUpO2lmKDA+Ziljb250aW51ZTttZXJnZVNwbGljZShjLGYsW2Uub2xkVmFsdWVdLDEpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcigiVW5leHBlY3RlZCByZWNvcmQgdHlwZTogIitKU09OLnN0cmluZ2lmeShlKSl9fXJldHVybiBjfWZ1bmN0aW9uIHByb2plY3RBcnJheVNwbGljZXMoYSxiKXt2YXIgYz1bXTtyZXR1cm4gY3JlYXRlSW5pdGlhbFNwbGljZXMoYSxiKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3JldHVybiAxPT1iLmFkZGVkQ291bnQmJjE9PWIucmVtb3ZlZC5sZW5ndGg/dm9pZChiLnJlbW92ZWRbMF0hPT1hW2IuaW5kZXhdJiZjLnB1c2goYikpOnZvaWQoYz1jLmNvbmNhdChjYWxjU3BsaWNlcyhhLGIuaW5kZXgsYi5pbmRleCtiLmFkZGVkQ291bnQsYi5yZW1vdmVkLDAsYi5yZW1vdmVkLmxlbmd0aCkpKX0pLGN9dmFyIGhhc09ic2VydmU9ZGV0ZWN0T2JqZWN0T2JzZXJ2ZSgpLGhhc0V2YWw9ZGV0ZWN0RXZhbCgpLG51bWJlcklzTmFOPWdsb2JhbC5OdW1iZXIuaXNOYU58fGZ1bmN0aW9uKGEpe3JldHVybiJudW1iZXIiPT10eXBlb2YgYSYmZ2xvYmFsLmlzTmFOKGEpfSxjcmVhdGVPYmplY3Q9Il9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKGEpe3JldHVybiBhfTpmdW5jdGlvbihhKXt2YXIgYj1hLl9fcHJvdG9fXztpZighYilyZXR1cm4gYTt2YXIgYz1PYmplY3QuY3JlYXRlKGIpO3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLGIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGIpKX0pLGN9LGlkZW50U3RhcnQ9IlskX2EtekEtWl0iLGlkZW50UGFydD0iWyRfYS16QS1aMC05XSIsaWRlbnQ9aWRlbnRTdGFydCsiKyIraWRlbnRQYXJ0KyIqIixlbGVtZW50SW5kZXg9Iig/OlswLTldfFsxLTldK1swLTldKykiLGlkZW50T3JFbGVtZW50SW5kZXg9Iig/OiIraWRlbnQrInwiK2VsZW1lbnRJbmRleCsiKSIscGF0aD0iKD86IitpZGVudE9yRWxlbWVudEluZGV4KyIpKD86XFxzKlxcLlxccyoiK2lkZW50T3JFbGVtZW50SW5kZXgrIikqIixwYXRoUmVnRXhwPW5ldyBSZWdFeHAoIl4iK3BhdGgrIiQiKSxjb25zdHJ1Y3RvcklzUHJpdmF0ZT17fSxwYXRoQ2FjaGU9e307UGF0aC5nZXQ9Z2V0UGF0aCxQYXRoLnByb3RvdHlwZT1jcmVhdGVPYmplY3Qoe19fcHJvdG9fXzpbXSx2YWxpZDohMCx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmpvaW4oIi4iKX0sZ2V0VmFsdWVGcm9tOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8dGhpcy5sZW5ndGg7YisrKXtpZihudWxsPT1hKXJldHVybjthPWFbdGhpc1tiXV19cmV0dXJuIGF9LGl0ZXJhdGVPYmplY3RzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yzx0aGlzLmxlbmd0aDtjKyspe2lmKGMmJihhPWFbdGhpc1tjLTFdXSksIWlzT2JqZWN0KGEpKXJldHVybjtiKGEsdGhpc1swXSl9fSxjb21waWxlZEdldFZhbHVlRnJvbUZuOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGlzSW5kZXgoYSk/J1siJythKyciXSc6Ii4iK2F9KSxiPSIiLGM9Im9iaiI7Yis9ImlmIChvYmogIT0gbnVsbCI7Zm9yKHZhciBkPTA7ZDx0aGlzLmxlbmd0aC0xO2QrKyl7e3RoaXNbZF19Yys9YVtkXSxiKz0iICYmXG4gICAgICIrYysiICE9IG51bGwifXJldHVybiBiKz0iKVxuIixjKz1hW2RdLGIrPSIgIHJldHVybiAiK2MrIjtcbmVsc2VcbiAgcmV0dXJuIHVuZGVmaW5lZDsiLG5ldyBGdW5jdGlvbigib2JqIixiKX0sc2V0VmFsdWVGcm9tOmZ1bmN0aW9uKGEsYil7aWYoIXRoaXMubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYz0wO2M8dGhpcy5sZW5ndGgtMTtjKyspe2lmKCFpc09iamVjdChhKSlyZXR1cm4hMTthPWFbdGhpc1tjXV19cmV0dXJuIGlzT2JqZWN0KGEpPyhhW3RoaXNbY11dPWIsITApOiExfX0pO3ZhciBpbnZhbGlkUGF0aD1uZXcgUGF0aCgiIixjb25zdHJ1Y3RvcklzUHJpdmF0ZSk7aW52YWxpZFBhdGgudmFsaWQ9ITEsaW52YWxpZFBhdGguZ2V0VmFsdWVGcm9tPWludmFsaWRQYXRoLnNldFZhbHVlRnJvbT1mdW5jdGlvbigpe307dmFyIE1BWF9ESVJUWV9DSEVDS19DWUNMRVM9MWUzLGVvbVRhc2tzPVtdLHJ1bkVPTT1oYXNPYnNlcnZlP2Z1bmN0aW9uKCl7dmFyIGE9e3BpbmdQb25nOiEwfSxiPSExO3JldHVybiBPYmplY3Qub2JzZXJ2ZShhLGZ1bmN0aW9uKCl7cnVuRU9NVGFza3MoKSxiPSExfSksZnVuY3Rpb24oYyl7ZW9tVGFza3MucHVzaChjKSxifHwoYj0hMCxhLnBpbmdQb25nPSFhLnBpbmdQb25nKX19KCk6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSl7ZW9tVGFza3MucHVzaChhKX19KCksb2JzZXJ2ZWRPYmplY3RDYWNoZT1bXSxvYnNlcnZlZFNldENhY2hlPVtdLGxhc3RPYnNlcnZlZFNldCxVTk9QRU5FRD0wLE9QRU5FRD0xLENMT1NFRD0yLFJFU0VUVElORz0zLG5leHRPYnNlcnZlcklkPTE7T2JzZXJ2ZXIucHJvdG90eXBlPXtvcGVuOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5zdGF0ZV8hPVVOT1BFTkVEKXRocm93IEVycm9yKCJPYnNlcnZlciBoYXMgYWxyZWFkeSBiZWVuIG9wZW5lZC4iKTtyZXR1cm4gYWRkVG9BbGwodGhpcyksdGhpcy5jYWxsYmFja189YSx0aGlzLnRhcmdldF89Yix0aGlzLmNvbm5lY3RfKCksdGhpcy5zdGF0ZV89T1BFTkVELHRoaXMudmFsdWVffSxjbG9zZTpmdW5jdGlvbigpe3RoaXMuc3RhdGVfPT1PUEVORUQmJihyZW1vdmVGcm9tQWxsKHRoaXMpLHRoaXMuZGlzY29ubmVjdF8oKSx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy5zdGF0ZV89Q0xPU0VEKX0sZGVsaXZlcjpmdW5jdGlvbigpe3RoaXMuc3RhdGVfPT1PUEVORUQmJmRpcnR5Q2hlY2sodGhpcyl9LHJlcG9ydF86ZnVuY3Rpb24oYSl7dHJ5e3RoaXMuY2FsbGJhY2tfLmFwcGx5KHRoaXMudGFyZ2V0XyxhKX1jYXRjaChiKXtPYnNlcnZlci5fZXJyb3JUaHJvd25EdXJpbmdDYWxsYmFjaz0hMCxjb25zb2xlLmVycm9yKCJFeGNlcHRpb24gY2F1Z2h0IGR1cmluZyBvYnNlcnZlciBjYWxsYmFjazogIisoYi5zdGFja3x8YikpfX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja18odm9pZCAwLCEwKSx0aGlzLnZhbHVlX319O3ZhciBjb2xsZWN0T2JzZXJ2ZXJzPSFoYXNPYnNlcnZlLGFsbE9ic2VydmVycztPYnNlcnZlci5fYWxsT2JzZXJ2ZXJzQ291bnQ9MCxjb2xsZWN0T2JzZXJ2ZXJzJiYoYWxsT2JzZXJ2ZXJzPVtdKTt2YXIgcnVubmluZ01pY3JvdGFza0NoZWNrcG9pbnQ9ITEsaGFzRGVidWdGb3JjZUZ1bGxEZWxpdmVyeT1oYXNPYnNlcnZlJiZmdW5jdGlvbigpe3RyeXtyZXR1cm4gZXZhbCgiJVJ1bk1pY3JvdGFza3MoKSIpLCEwfWNhdGNoKGV4KXtyZXR1cm4hMX19KCk7Z2xvYmFsLlBsYXRmb3JtPWdsb2JhbC5QbGF0Zm9ybXx8e30sZ2xvYmFsLlBsYXRmb3JtLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50PWZ1bmN0aW9uKCl7aWYoIXJ1bm5pbmdNaWNyb3Rhc2tDaGVja3BvaW50KXtpZihoYXNEZWJ1Z0ZvcmNlRnVsbERlbGl2ZXJ5KXJldHVybiB2b2lkIGV2YWwoIiVSdW5NaWNyb3Rhc2tzKCkiKTtpZihjb2xsZWN0T2JzZXJ2ZXJzKXtydW5uaW5nTWljcm90YXNrQ2hlY2twb2ludD0hMDt2YXIgY3ljbGVzPTAsYW55Q2hhbmdlZCx0b0NoZWNrO2Rve2N5Y2xlcysrLHRvQ2hlY2s9YWxsT2JzZXJ2ZXJzLGFsbE9ic2VydmVycz1bXSxhbnlDaGFuZ2VkPSExO2Zvcih2YXIgaT0wO2k8dG9DaGVjay5sZW5ndGg7aSsrKXt2YXIgb2JzZXJ2ZXI9dG9DaGVja1tpXTtvYnNlcnZlci5zdGF0ZV89PU9QRU5FRCYmKG9ic2VydmVyLmNoZWNrXygpJiYoYW55Q2hhbmdlZD0hMCksYWxsT2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpKX1ydW5FT01UYXNrcygpJiYoYW55Q2hhbmdlZD0hMCl9d2hpbGUoTUFYX0RJUlRZX0NIRUNLX0NZQ0xFUz5jeWNsZXMmJmFueUNoYW5nZWQpO2dsb2JhbC50ZXN0aW5nRXhwb3NlQ3ljbGVDb3VudCYmKGdsb2JhbC5kaXJ0eUNoZWNrQ3ljbGVDb3VudD1jeWNsZXMpLHJ1bm5pbmdNaWNyb3Rhc2tDaGVja3BvaW50PSExfX19LGNvbGxlY3RPYnNlcnZlcnMmJihnbG9iYWwuUGxhdGZvcm0uY2xlYXJPYnNlcnZlcnM9ZnVuY3Rpb24oKXthbGxPYnNlcnZlcnM9W119KSxPYmplY3RPYnNlcnZlci5wcm90b3R5cGU9Y3JlYXRlT2JqZWN0KHtfX3Byb3RvX186T2JzZXJ2ZXIucHJvdG90eXBlLGFycmF5T2JzZXJ2ZTohMSxjb25uZWN0XzpmdW5jdGlvbigpe2hhc09ic2VydmU/dGhpcy5kaXJlY3RPYnNlcnZlcl89Z2V0T2JzZXJ2ZWRPYmplY3QodGhpcyx0aGlzLnZhbHVlXyx0aGlzLmFycmF5T2JzZXJ2ZSk6dGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXyl9LGNvcHlPYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI9QXJyYXkuaXNBcnJheShhKT9bXTp7fTtmb3IodmFyIGMgaW4gYSliW2NdPWFbY107cmV0dXJuIEFycmF5LmlzQXJyYXkoYSkmJihiLmxlbmd0aD1hLmxlbmd0aCksYn0sY2hlY2tfOmZ1bmN0aW9uKGEpe3ZhciBiLGM7aWYoaGFzT2JzZXJ2ZSl7aWYoIWEpcmV0dXJuITE7Yz17fSxiPWRpZmZPYmplY3RGcm9tQ2hhbmdlUmVjb3Jkcyh0aGlzLnZhbHVlXyxhLGMpfWVsc2UgYz10aGlzLm9sZE9iamVjdF8sYj1kaWZmT2JqZWN0RnJvbU9sZE9iamVjdCh0aGlzLnZhbHVlXyx0aGlzLm9sZE9iamVjdF8pO3JldHVybiBkaWZmSXNFbXB0eShiKT8hMTooaGFzT2JzZXJ2ZXx8KHRoaXMub2xkT2JqZWN0Xz10aGlzLmNvcHlPYmplY3QodGhpcy52YWx1ZV8pKSx0aGlzLnJlcG9ydF8oW2IuYWRkZWR8fHt9LGIucmVtb3ZlZHx8e30sYi5jaGFuZ2VkfHx7fSxmdW5jdGlvbihhKXtyZXR1cm4gY1thXX1dKSwhMCl9LGRpc2Nvbm5lY3RfOmZ1bmN0aW9uKCl7aGFzT2JzZXJ2ZT8odGhpcy5kaXJlY3RPYnNlcnZlcl8uY2xvc2UoKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDApOnRoaXMub2xkT2JqZWN0Xz12b2lkIDB9LGRlbGl2ZXI6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlXz09T1BFTkVEJiYoaGFzT2JzZXJ2ZT90aGlzLmRpcmVjdE9ic2VydmVyXy5kZWxpdmVyKCExKTpkaXJ0eUNoZWNrKHRoaXMpKX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXJlY3RPYnNlcnZlcl8/dGhpcy5kaXJlY3RPYnNlcnZlcl8uZGVsaXZlcighMCk6dGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXyksdGhpcy52YWx1ZV99fSksQXJyYXlPYnNlcnZlci5wcm90b3R5cGU9Y3JlYXRlT2JqZWN0KHtfX3Byb3RvX186T2JqZWN0T2JzZXJ2ZXIucHJvdG90eXBlLGFycmF5T2JzZXJ2ZTohMCxjb3B5T2JqZWN0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnNsaWNlKCl9LGNoZWNrXzpmdW5jdGlvbihhKXt2YXIgYjtpZihoYXNPYnNlcnZlKXtpZighYSlyZXR1cm4hMTtiPXByb2plY3RBcnJheVNwbGljZXModGhpcy52YWx1ZV8sYSl9ZWxzZSBiPWNhbGNTcGxpY2VzKHRoaXMudmFsdWVfLDAsdGhpcy52YWx1ZV8ubGVuZ3RoLHRoaXMub2xkT2JqZWN0XywwLHRoaXMub2xkT2JqZWN0Xy5sZW5ndGgpO3JldHVybiBiJiZiLmxlbmd0aD8oaGFzT2JzZXJ2ZXx8KHRoaXMub2xkT2JqZWN0Xz10aGlzLmNvcHlPYmplY3QodGhpcy52YWx1ZV8pKSx0aGlzLnJlcG9ydF8oW2JdKSwhMCk6ITF9fSksQXJyYXlPYnNlcnZlci5hcHBseVNwbGljZXM9ZnVuY3Rpb24oYSxiLGMpe2MuZm9yRWFjaChmdW5jdGlvbihjKXtmb3IodmFyIGQ9W2MuaW5kZXgsYy5yZW1vdmVkLmxlbmd0aF0sZT1jLmluZGV4O2U8Yy5pbmRleCtjLmFkZGVkQ291bnQ7KWQucHVzaChiW2VdKSxlKys7QXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShhLGQpfSl9LFBhdGhPYnNlcnZlci5wcm90b3R5cGU9Y3JlYXRlT2JqZWN0KHtfX3Byb3RvX186T2JzZXJ2ZXIucHJvdG90eXBlLGNvbm5lY3RfOmZ1bmN0aW9uKCl7aGFzT2JzZXJ2ZSYmKHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPWdldE9ic2VydmVkU2V0KHRoaXMsdGhpcy5vYmplY3RfKSksdGhpcy5jaGVja18odm9pZCAwLCEwKX0sZGlzY29ubmVjdF86ZnVuY3Rpb24oKXt0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5kaXJlY3RPYnNlcnZlcl8mJih0aGlzLmRpcmVjdE9ic2VydmVyXy5jbG9zZSh0aGlzKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDApfSxpdGVyYXRlT2JqZWN0c186ZnVuY3Rpb24oYSl7dGhpcy5wYXRoXy5pdGVyYXRlT2JqZWN0cyh0aGlzLm9iamVjdF8sYSl9LGNoZWNrXzpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMudmFsdWVfO3JldHVybiB0aGlzLnZhbHVlXz10aGlzLnBhdGhfLmdldFZhbHVlRnJvbSh0aGlzLm9iamVjdF8pLGJ8fGFyZVNhbWVWYWx1ZSh0aGlzLnZhbHVlXyxjKT8hMToodGhpcy5yZXBvcnRfKFt0aGlzLnZhbHVlXyxjXSksITApfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXt0aGlzLnBhdGhfJiZ0aGlzLnBhdGhfLnNldFZhbHVlRnJvbSh0aGlzLm9iamVjdF8sYSl9fSk7dmFyIG9ic2VydmVyU2VudGluZWw9e307Q29tcG91bmRPYnNlcnZlci5wcm90b3R5cGU9Y3JlYXRlT2JqZWN0KHtfX3Byb3RvX186T2JzZXJ2ZXIucHJvdG90eXBlLGNvbm5lY3RfOmZ1bmN0aW9uKCl7aWYoaGFzT2JzZXJ2ZSl7Zm9yKHZhciBhLGI9ITEsYz0wO2M8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2MrPTIpaWYoYT10aGlzLm9ic2VydmVkX1tjXSxhIT09b2JzZXJ2ZXJTZW50aW5lbCl7Yj0hMDticmVha31iJiYodGhpcy5kaXJlY3RPYnNlcnZlcl89Z2V0T2JzZXJ2ZWRTZXQodGhpcyxhKSl9dGhpcy5jaGVja18odm9pZCAwLCF0aGlzLnJlcG9ydENoYW5nZXNPbk9wZW5fKX0sZGlzY29ubmVjdF86ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMub2JzZXJ2ZWRfLmxlbmd0aDthKz0yKXRoaXMub2JzZXJ2ZWRfW2FdPT09b2JzZXJ2ZXJTZW50aW5lbCYmdGhpcy5vYnNlcnZlZF9bYSsxXS5jbG9zZSgpO3RoaXMub2JzZXJ2ZWRfLmxlbmd0aD0wLHRoaXMudmFsdWVfLmxlbmd0aD0wLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfJiYodGhpcy5kaXJlY3RPYnNlcnZlcl8uY2xvc2UodGhpcyksdGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwKX0sYWRkUGF0aDpmdW5jdGlvbihhLGIpe2lmKHRoaXMuc3RhdGVfIT1VTk9QRU5FRCYmdGhpcy5zdGF0ZV8hPVJFU0VUVElORyl0aHJvdyBFcnJvcigiQ2Fubm90IGFkZCBwYXRocyBvbmNlIHN0YXJ0ZWQuIik7dmFyIGI9Z2V0UGF0aChiKTtpZih0aGlzLm9ic2VydmVkXy5wdXNoKGEsYiksdGhpcy5yZXBvcnRDaGFuZ2VzT25PcGVuXyl7dmFyIGM9dGhpcy5vYnNlcnZlZF8ubGVuZ3RoLzItMTt0aGlzLnZhbHVlX1tjXT1iLmdldFZhbHVlRnJvbShhKX19LGFkZE9ic2VydmVyOmZ1bmN0aW9uKGEpe2lmKHRoaXMuc3RhdGVfIT1VTk9QRU5FRCYmdGhpcy5zdGF0ZV8hPVJFU0VUVElORyl0aHJvdyBFcnJvcigiQ2Fubm90IGFkZCBvYnNlcnZlcnMgb25jZSBzdGFydGVkLiIpO2lmKHRoaXMub2JzZXJ2ZWRfLnB1c2gob2JzZXJ2ZXJTZW50aW5lbCxhKSx0aGlzLnJlcG9ydENoYW5nZXNPbk9wZW5fKXt2YXIgYj10aGlzLm9ic2VydmVkXy5sZW5ndGgvMi0xO3RoaXMudmFsdWVfW2JdPWEub3Blbih0aGlzLmRlbGl2ZXIsdGhpcyl9fSxzdGFydFJlc2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5zdGF0ZV8hPU9QRU5FRCl0aHJvdyBFcnJvcigiQ2FuIG9ubHkgcmVzZXQgd2hpbGUgb3BlbiIpO3RoaXMuc3RhdGVfPVJFU0VUVElORyx0aGlzLmRpc2Nvbm5lY3RfKCl9LGZpbmlzaFJlc2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5zdGF0ZV8hPVJFU0VUVElORyl0aHJvdyBFcnJvcigiQ2FuIG9ubHkgZmluaXNoUmVzZXQgYWZ0ZXIgc3RhcnRSZXNldCIpO3JldHVybiB0aGlzLnN0YXRlXz1PUEVORUQsdGhpcy5jb25uZWN0XygpLHRoaXMudmFsdWVffSxpdGVyYXRlT2JqZWN0c186ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9MDtjPHRoaXMub2JzZXJ2ZWRfLmxlbmd0aDtjKz0yKWI9dGhpcy5vYnNlcnZlZF9bY10sYiE9PW9ic2VydmVyU2VudGluZWwmJnRoaXMub2JzZXJ2ZWRfW2MrMV0uaXRlcmF0ZU9iamVjdHMoYixhKX0sY2hlY2tfOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9MDtkPHRoaXMub2JzZXJ2ZWRfLmxlbmd0aDtkKz0yKXt2YXIgZSxmPXRoaXMub2JzZXJ2ZWRfW2RdLGc9dGhpcy5vYnNlcnZlZF9bZCsxXTtpZihmPT09b2JzZXJ2ZXJTZW50aW5lbCl7dmFyIGg9ZztlPXRoaXMuc3RhdGVfPT09VU5PUEVORUQ/aC5vcGVuKHRoaXMuZGVsaXZlcix0aGlzKTpoLmRpc2NhcmRDaGFuZ2VzKCl9ZWxzZSBlPWcuZ2V0VmFsdWVGcm9tKGYpO2I/dGhpcy52YWx1ZV9bZC8yXT1lOmFyZVNhbWVWYWx1ZShlLHRoaXMudmFsdWVfW2QvMl0pfHwoYz1jfHxbXSxjW2QvMl09dGhpcy52YWx1ZV9bZC8yXSx0aGlzLnZhbHVlX1tkLzJdPWUpfXJldHVybiBjPyh0aGlzLnJlcG9ydF8oW3RoaXMudmFsdWVfLGMsdGhpcy5vYnNlcnZlZF9dKSwhMCk6ITF9fSksT2JzZXJ2ZXJUcmFuc2Zvcm0ucHJvdG90eXBlPXtvcGVuOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuY2FsbGJhY2tfPWEsdGhpcy50YXJnZXRfPWIsdGhpcy52YWx1ZV89dGhpcy5nZXRWYWx1ZUZuXyh0aGlzLm9ic2VydmFibGVfLm9wZW4odGhpcy5vYnNlcnZlZENhbGxiYWNrXyx0aGlzKSksdGhpcy52YWx1ZV99LG9ic2VydmVkQ2FsbGJhY2tfOmZ1bmN0aW9uKGEpe2lmKGE9dGhpcy5nZXRWYWx1ZUZuXyhhKSwhYXJlU2FtZVZhbHVlKGEsdGhpcy52YWx1ZV8pKXt2YXIgYj10aGlzLnZhbHVlXzt0aGlzLnZhbHVlXz1hLHRoaXMuY2FsbGJhY2tfLmNhbGwodGhpcy50YXJnZXRfLHRoaXMudmFsdWVfLGIpfX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZV89dGhpcy5nZXRWYWx1ZUZuXyh0aGlzLm9ic2VydmFibGVfLmRpc2NhcmRDaGFuZ2VzKCkpLHRoaXMudmFsdWVffSxkZWxpdmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2JzZXJ2YWJsZV8uZGVsaXZlcigpfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4gYT10aGlzLnNldFZhbHVlRm5fKGEpLCF0aGlzLmRvbnRQYXNzVGhyb3VnaFNldF8mJnRoaXMub2JzZXJ2YWJsZV8uc2V0VmFsdWU/dGhpcy5vYnNlcnZhYmxlXy5zZXRWYWx1ZShhKTp2b2lkIDB9LGNsb3NlOmZ1bmN0aW9uKCl7dGhpcy5vYnNlcnZhYmxlXyYmdGhpcy5vYnNlcnZhYmxlXy5jbG9zZSgpLHRoaXMuY2FsbGJhY2tfPXZvaWQgMCx0aGlzLnRhcmdldF89dm9pZCAwLHRoaXMub2JzZXJ2YWJsZV89dm9pZCAwLHRoaXMudmFsdWVfPXZvaWQgMCx0aGlzLmdldFZhbHVlRm5fPXZvaWQgMCx0aGlzLnNldFZhbHVlRm5fPXZvaWQgMH19O3ZhciBleHBlY3RlZFJlY29yZFR5cGVzPXthZGQ6ITAsdXBkYXRlOiEwLCJkZWxldGUiOiEwfSx1cGRhdGVSZWNvcmQ9e29iamVjdDp2b2lkIDAsdHlwZToidXBkYXRlIixuYW1lOnZvaWQgMCxvbGRWYWx1ZTp2b2lkIDB9O09ic2VydmVyLmNyZWF0ZUJpbmRhYmxlUHJvdG90eXBlQWNjZXNzb3I9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iKyJfIixkPWIrIk9ic2VydmFibGVfIjthW2NdPWFbYl0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpc1tkXTtyZXR1cm4gYSYmYS5kZWxpdmVyKCksdGhpc1tjXX0sc2V0OmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXNbZF07aWYoZSlyZXR1cm4gdm9pZCBlLnNldFZhbHVlKGEpO3ZhciBmPXRoaXNbY107cmV0dXJuIHRoaXNbY109YSxub3RpZnkodGhpcyxiLGEsZiksYX0sY29uZmlndXJhYmxlOiEwfSl9LE9ic2VydmVyLmJpbmRUb0luc3RhbmNlPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWIrIl8iLGY9YisiT2JzZXJ2YWJsZV8iO2FbZl09Yzt2YXIgZz1hW2VdLGg9Yy5vcGVuKGZ1bmN0aW9uKGMsZCl7YVtlXT1jLG5vdGlmeShhLGIsYyxkKX0pO2lmKGQmJiFhcmVTYW1lVmFsdWUoZyxoKSl7dmFyIGk9ZChnLGgpO2FyZVNhbWVWYWx1ZShoLGkpfHwoaD1pLGMuc2V0VmFsdWUmJmMuc2V0VmFsdWUoaCkpfXJldHVybiBhW2VdPWgsbm90aWZ5KGEsYixoLGcpLHtjbG9zZTpmdW5jdGlvbigpe2MuY2xvc2UoKSxhW2ZdPXZvaWQgMH19fTt2YXIgRURJVF9MRUFWRT0wLEVESVRfVVBEQVRFPTEsRURJVF9BREQ9MixFRElUX0RFTEVURT0zO0FycmF5U3BsaWNlLnByb3RvdHlwZT17Y2FsY0VkaXREaXN0YW5jZXM6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2Zvcih2YXIgZz1mLWUrMSxoPWMtYisxLGk9bmV3IEFycmF5KGcpLGo9MDtnPmo7aisrKWlbal09bmV3IEFycmF5KGgpLGlbal1bMF09ajtmb3IodmFyIGs9MDtoPms7aysrKWlbMF1ba109aztmb3IodmFyIGo9MTtnPmo7aisrKWZvcih2YXIgaz0xO2g+aztrKyspaWYodGhpcy5lcXVhbHMoYVtiK2stMV0sZFtlK2otMV0pKWlbal1ba109aVtqLTFdW2stMV07ZWxzZXt2YXIgbD1pW2otMV1ba10rMSxtPWlbal1bay0xXSsxO2lbal1ba109bT5sP2w6bX1yZXR1cm4gaX0sc3BsaWNlT3BlcmF0aW9uc0Zyb21FZGl0RGlzdGFuY2VzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmxlbmd0aC0xLGM9YVswXS5sZW5ndGgtMSxkPWFbYl1bY10sZT1bXTtiPjB8fGM+MDspaWYoMCE9YilpZigwIT1jKXt2YXIgZixnPWFbYi0xXVtjLTFdLGg9YVtiLTFdW2NdLGk9YVtiXVtjLTFdO2Y9aT5oP2c+aD9oOmc6Zz5pP2k6ZyxmPT1nPyhnPT1kP2UucHVzaChFRElUX0xFQVZFKTooZS5wdXNoKEVESVRfVVBEQVRFKSxkPWcpLGItLSxjLS0pOmY9PWg/KGUucHVzaChFRElUX0RFTEVURSksYi0tLGQ9aCk6KGUucHVzaChFRElUX0FERCksYy0tLGQ9aSl9ZWxzZSBlLnB1c2goRURJVF9ERUxFVEUpLGItLTtlbHNlIGUucHVzaChFRElUX0FERCksYy0tO3JldHVybiBlLnJldmVyc2UoKSxlfSxjYWxjU3BsaWNlczpmdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9MCxoPTAsaT1NYXRoLm1pbihjLWIsZi1lKTtpZigwPT1iJiYwPT1lJiYoZz10aGlzLnNoYXJlZFByZWZpeChhLGQsaSkpLGM9PWEubGVuZ3RoJiZmPT1kLmxlbmd0aCYmKGg9dGhpcy5zaGFyZWRTdWZmaXgoYSxkLGktZykpLGIrPWcsZSs9ZyxjLT1oLGYtPWgsYy1iPT0wJiZmLWU9PTApcmV0dXJuW107aWYoYj09Yyl7Zm9yKHZhciBqPW5ld1NwbGljZShiLFtdLDApO2Y+ZTspai5yZW1vdmVkLnB1c2goZFtlKytdKTtyZXR1cm5bal19aWYoZT09ZilyZXR1cm5bbmV3U3BsaWNlKGIsW10sYy1iKV07Zm9yKHZhciBrPXRoaXMuc3BsaWNlT3BlcmF0aW9uc0Zyb21FZGl0RGlzdGFuY2VzKHRoaXMuY2FsY0VkaXREaXN0YW5jZXMoYSxiLGMsZCxlLGYpKSxqPXZvaWQgMCxsPVtdLG09YixuPWUsbz0wO288ay5sZW5ndGg7bysrKXN3aXRjaChrW29dKXtjYXNlIEVESVRfTEVBVkU6aiYmKGwucHVzaChqKSxqPXZvaWQgMCksbSsrLG4rKzticmVhaztjYXNlIEVESVRfVVBEQVRFOmp8fChqPW5ld1NwbGljZShtLFtdLDApKSxqLmFkZGVkQ291bnQrKyxtKyssai5yZW1vdmVkLnB1c2goZFtuXSksbisrO2JyZWFrO2Nhc2UgRURJVF9BREQ6anx8KGo9bmV3U3BsaWNlKG0sW10sMCkpLGouYWRkZWRDb3VudCsrLG0rKzticmVhaztjYXNlIEVESVRfREVMRVRFOmp8fChqPW5ld1NwbGljZShtLFtdLDApKSxqLnJlbW92ZWQucHVzaChkW25dKSxuKyt9cmV0dXJuIGomJmwucHVzaChqKSxsfSxzaGFyZWRQcmVmaXg6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wO2M+ZDtkKyspaWYoIXRoaXMuZXF1YWxzKGFbZF0sYltkXSkpcmV0dXJuIGQ7cmV0dXJuIGN9LHNoYXJlZFN1ZmZpeDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWEubGVuZ3RoLGU9Yi5sZW5ndGgsZj0wO2M+ZiYmdGhpcy5lcXVhbHMoYVstLWRdLGJbLS1lXSk7KWYrKztyZXR1cm4gZn0sY2FsY3VsYXRlU3BsaWNlczpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmNhbGNTcGxpY2VzKGEsMCxhLmxlbmd0aCxiLDAsYi5sZW5ndGgpfSxlcXVhbHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWJ9fTt2YXIgYXJyYXlTcGxpY2U9bmV3IEFycmF5U3BsaWNlO2dsb2JhbC5PYnNlcnZlcj1PYnNlcnZlcixnbG9iYWwuT2JzZXJ2ZXIucnVuRU9NXz1ydW5FT00sZ2xvYmFsLk9ic2VydmVyLm9ic2VydmVyU2VudGluZWxfPW9ic2VydmVyU2VudGluZWwsZ2xvYmFsLk9ic2VydmVyLmhhc09iamVjdE9ic2VydmU9aGFzT2JzZXJ2ZSxnbG9iYWwuQXJyYXlPYnNlcnZlcj1BcnJheU9ic2VydmVyLGdsb2JhbC5BcnJheU9ic2VydmVyLmNhbGN1bGF0ZVNwbGljZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYXJyYXlTcGxpY2UuY2FsY3VsYXRlU3BsaWNlcyhhLGIpfSxnbG9iYWwuQXJyYXlTcGxpY2U9QXJyYXlTcGxpY2UsZ2xvYmFsLk9iamVjdE9ic2VydmVyPU9iamVjdE9ic2VydmVyLGdsb2JhbC5QYXRoT2JzZXJ2ZXI9UGF0aE9ic2VydmVyLGdsb2JhbC5Db21wb3VuZE9ic2VydmVyPUNvbXBvdW5kT2JzZXJ2ZXIsZ2xvYmFsLlBhdGg9UGF0aCxnbG9iYWwuT2JzZXJ2ZXJUcmFuc2Zvcm09T2JzZXJ2ZXJUcmFuc2Zvcm19KCJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsJiZnbG9iYWwmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGU/Z2xvYmFsOnRoaXN8fHdpbmRvdyksUGxhdGZvcm0uZmxhZ3Muc2hhZG93Pyh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGw9e30sZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIGNocm9tZSYmY2hyb21lLmFwcCYmY2hyb21lLmFwcC5ydW50aW1lKXJldHVybiExO3RyeXt2YXIgYT1uZXcgRnVuY3Rpb24oInJldHVybiB0cnVlOyIpO3JldHVybiBhKCl9Y2F0Y2goYil7cmV0dXJuITF9fWZ1bmN0aW9uIGMoYSl7aWYoIWEpdGhyb3cgbmV3IEVycm9yKCJBc3NlcnRpb24gZmFpbGVkIil9ZnVuY3Rpb24gZChhLGIpe2Zvcih2YXIgYz1MKGIpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXTtLKGEsZSxNKGIsZSkpfXJldHVybiBhfWZ1bmN0aW9uIGUoYSxiKXtmb3IodmFyIGM9TChiKSxkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF07c3dpdGNoKGUpe2Nhc2UiYXJndW1lbnRzIjpjYXNlImNhbGxlciI6Y2FzZSJsZW5ndGgiOmNhc2UibmFtZSI6Y2FzZSJwcm90b3R5cGUiOmNhc2UidG9TdHJpbmciOmNvbnRpbnVlfUsoYSxlLE0oYixlKSl9cmV0dXJuIGF9ZnVuY3Rpb24gZihhLGIpe2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKWlmKGJbY11pbiBhKXJldHVybiBiW2NdfWZ1bmN0aW9uIGcoYSxiLGMpe04udmFsdWU9YyxLKGEsYixOKX1mdW5jdGlvbiBoKGEpe3ZhciBiPWEuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoYSksYz1HLmdldChiKTtpZihjKXJldHVybiBjO3ZhciBkPWgoYiksZT12KGQpO3JldHVybiBzKGIsZSxhKSxlfWZ1bmN0aW9uIGkoYSxiKXtxKGEsYiwhMCl9ZnVuY3Rpb24gaihhLGIpe3EoYixhLCExKX1mdW5jdGlvbiBrKGEpe3JldHVybi9eb25bYS16XSskLy50ZXN0KGEpfWZ1bmN0aW9uIGwoYSl7cmV0dXJuL15cd1thLXpBLVpfMC05XSokLy50ZXN0KGEpfWZ1bmN0aW9uIG0oYSl7cmV0dXJuIEomJmwoYSk/bmV3IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcy5pbXBsLiIrYSk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsW2FdfX1mdW5jdGlvbiBuKGEpe3JldHVybiBKJiZsKGEpP25ldyBGdW5jdGlvbigidiIsInRoaXMuaW1wbC4iK2ErIiA9IHYiKTpmdW5jdGlvbihiKXt0aGlzLmltcGxbYV09Yn19ZnVuY3Rpb24gbyhhKXtyZXR1cm4gSiYmbChhKT9uZXcgRnVuY3Rpb24oInJldHVybiB0aGlzLmltcGwuIithKyIuYXBwbHkodGhpcy5pbXBsLCBhcmd1bWVudHMpIik6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsW2FdLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfX1mdW5jdGlvbiBwKGEsYil7dHJ5e3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsYil9Y2F0Y2goYyl7cmV0dXJuIFB9fWZ1bmN0aW9uIHEoYixjLGQpe2Zvcih2YXIgZT1MKGIpLGY9MDtmPGUubGVuZ3RoO2YrKyl7dmFyIGc9ZVtmXTtpZigicG9seW1lckJsYWNrTGlzdF8iIT09ZyYmIShnIGluIGN8fGIucG9seW1lckJsYWNrTGlzdF8mJmIucG9seW1lckJsYWNrTGlzdF9bZ10pKXtPJiZiLl9fbG9va3VwR2V0dGVyX18oZyk7dmFyIGgsaSxqPXAoYixnKTtpZihkJiYiZnVuY3Rpb24iPT10eXBlb2Ygai52YWx1ZSljW2ddPW8oZyk7ZWxzZXt2YXIgbD1rKGcpO2g9bD9hLmdldEV2ZW50SGFuZGxlckdldHRlcihnKTptKGcpLChqLndyaXRhYmxlfHxqLnNldCkmJihpPWw/YS5nZXRFdmVudEhhbmRsZXJTZXR0ZXIoZyk6bihnKSksSyhjLGcse2dldDpoLHNldDppLGNvbmZpZ3VyYWJsZTpqLmNvbmZpZ3VyYWJsZSxlbnVtZXJhYmxlOmouZW51bWVyYWJsZX0pfX19fWZ1bmN0aW9uIHIoYSxiLGMpe3ZhciBkPWEucHJvdG90eXBlO3MoZCxiLGMpLGUoYixhKX1mdW5jdGlvbiBzKGEsYixkKXt2YXIgZT1iLnByb3RvdHlwZTtjKHZvaWQgMD09PUcuZ2V0KGEpKSxHLnNldChhLGIpLEguc2V0KGUsYSksaShhLGUpLGQmJmooZSxkKSxnKGUsImNvbnN0cnVjdG9yIixiKSxiLnByb3RvdHlwZT1lfWZ1bmN0aW9uIHQoYSxiKXtyZXR1cm4gRy5nZXQoYi5wcm90b3R5cGUpPT09YX1mdW5jdGlvbiB1KGEpe3ZhciBiPU9iamVjdC5nZXRQcm90b3R5cGVPZihhKSxjPWgoYiksZD12KGMpO3JldHVybiBzKGIsZCxhKSxkfWZ1bmN0aW9uIHYoYSl7ZnVuY3Rpb24gYihiKXthLmNhbGwodGhpcyxiKX12YXIgYz1PYmplY3QuY3JlYXRlKGEucHJvdG90eXBlKTtyZXR1cm4gYy5jb25zdHJ1Y3Rvcj1iLGIucHJvdG90eXBlPWMsYn1mdW5jdGlvbiB3KGEpe3JldHVybiBhIGluc3RhbmNlb2YgSS5FdmVudFRhcmdldHx8YSBpbnN0YW5jZW9mIEkuRXZlbnR8fGEgaW5zdGFuY2VvZiBJLlJhbmdlfHxhIGluc3RhbmNlb2YgSS5ET01JbXBsZW1lbnRhdGlvbnx8YSBpbnN0YW5jZW9mIEkuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfHxJLldlYkdMUmVuZGVyaW5nQ29udGV4dCYmYSBpbnN0YW5jZW9mIEkuV2ViR0xSZW5kZXJpbmdDb250ZXh0fWZ1bmN0aW9uIHgoYSl7cmV0dXJuIFImJmEgaW5zdGFuY2VvZiBSfHxhIGluc3RhbmNlb2YgVHx8YSBpbnN0YW5jZW9mIFN8fGEgaW5zdGFuY2VvZiBVfHxhIGluc3RhbmNlb2YgVnx8YSBpbnN0YW5jZW9mIFF8fGEgaW5zdGFuY2VvZiBXfHxYJiZhIGluc3RhbmNlb2YgWHx8WSYmYSBpbnN0YW5jZW9mIFl9ZnVuY3Rpb24geShhKXtyZXR1cm4gbnVsbD09PWE/bnVsbDooYyh4KGEpKSxhLnBvbHltZXJXcmFwcGVyX3x8KGEucG9seW1lcldyYXBwZXJfPW5ldyhoKGEpKShhKSkpfWZ1bmN0aW9uIHooYSl7cmV0dXJuIG51bGw9PT1hP251bGw6KGModyhhKSksYS5pbXBsKX1mdW5jdGlvbiBBKGEpe3JldHVybiBhJiZ3KGEpP3ooYSk6YX1mdW5jdGlvbiBCKGEpe3JldHVybiBhJiYhdyhhKT95KGEpOmF9ZnVuY3Rpb24gQyhhLGIpe251bGwhPT1iJiYoYyh4KGEpKSxjKHZvaWQgMD09PWJ8fHcoYikpLGEucG9seW1lcldyYXBwZXJfPWIpfWZ1bmN0aW9uIEQoYSxiLGMpe1ouZ2V0PWMsSyhhLnByb3RvdHlwZSxiLFopfWZ1bmN0aW9uIEUoYSxiKXtEKGEsYixmdW5jdGlvbigpe3JldHVybiB5KHRoaXMuaW1wbFtiXSl9KX1mdW5jdGlvbiBGKGEsYil7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2IuZm9yRWFjaChmdW5jdGlvbihiKXthLnByb3RvdHlwZVtiXT1mdW5jdGlvbigpe3ZhciBhPUIodGhpcyk7cmV0dXJuIGFbYl0uYXBwbHkoYSxhcmd1bWVudHMpfX0pfSl9dmFyIEc9bmV3IFdlYWtNYXAsSD1uZXcgV2Vha01hcCxJPU9iamVjdC5jcmVhdGUobnVsbCksSj1iKCksSz1PYmplY3QuZGVmaW5lUHJvcGVydHksTD1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxNPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsTj17dmFsdWU6dm9pZCAwLGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwfTtMKHdpbmRvdyk7dmFyIE89L0ZpcmVmb3gvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksUD17Z2V0OmZ1bmN0aW9uKCl7fSxzZXQ6ZnVuY3Rpb24oKXt9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSxRPXdpbmRvdy5ET01JbXBsZW1lbnRhdGlvbixSPXdpbmRvdy5FdmVudFRhcmdldCxTPXdpbmRvdy5FdmVudCxUPXdpbmRvdy5Ob2RlLFU9d2luZG93LldpbmRvdyxWPXdpbmRvdy5SYW5nZSxXPXdpbmRvdy5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsWD13aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0LFk9d2luZG93LlNWR0VsZW1lbnRJbnN0YW5jZSxaPXtnZXQ6dm9pZCAwLGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfTthLmFzc2VydD1jLGEuY29uc3RydWN0b3JUYWJsZT1HLGEuZGVmaW5lR2V0dGVyPUQsYS5kZWZpbmVXcmFwR2V0dGVyPUUsYS5mb3J3YXJkTWV0aG9kc1RvV3JhcHBlcj1GLGEuaXNXcmFwcGVyPXcsYS5pc1dyYXBwZXJGb3I9dCxhLm1peGluPWQsYS5uYXRpdmVQcm90b3R5cGVUYWJsZT1ILGEub25lT2Y9ZixhLnJlZ2lzdGVyT2JqZWN0PXUsYS5yZWdpc3RlcldyYXBwZXI9cixhLnJld3JhcD1DLGEudW53cmFwPXosYS51bndyYXBJZk5lZWRlZD1BLGEud3JhcD15LGEud3JhcElmTmVlZGVkPUIsYS53cmFwcGVycz1JfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKCl7Zz0hMTt2YXIgYT1mLnNsaWNlKDApO2Y9W107Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXSgpfWZ1bmN0aW9uIGMoYSl7Zi5wdXNoKGEpLGd8fChnPSEwLGQoYiwwKSl9dmFyIGQsZT13aW5kb3cuTXV0YXRpb25PYnNlcnZlcixmPVtdLGc9ITE7aWYoZSl7dmFyIGg9MSxpPW5ldyBlKGIpLGo9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoaCk7aS5vYnNlcnZlKGose2NoYXJhY3RlckRhdGE6ITB9KSxkPWZ1bmN0aW9uKCl7aD0oaCsxKSUyLGouZGF0YT1ofX1lbHNlIGQ9d2luZG93LnNldEltbWVkaWF0ZXx8d2luZG93LnNldFRpbWVvdXQ7YS5zZXRFbmRPZk1pY3JvdGFzaz1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKCl7cHx8KGsoYykscD0hMCl9ZnVuY3Rpb24gYygpe3A9ITE7ZG8gZm9yKHZhciBhPW8uc2xpY2UoKSxiPSExLGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXSxlPWQudGFrZVJlY29yZHMoKTtmKGQpLGUubGVuZ3RoJiYoZC5jYWxsYmFja18oZSxkKSxiPSEwKX13aGlsZShiKX1mdW5jdGlvbiBkKGEsYil7dGhpcy50eXBlPWEsdGhpcy50YXJnZXQ9Yix0aGlzLmFkZGVkTm9kZXM9bmV3IG0uTm9kZUxpc3QsdGhpcy5yZW1vdmVkTm9kZXM9bmV3IG0uTm9kZUxpc3QsdGhpcy5wcmV2aW91c1NpYmxpbmc9bnVsbCx0aGlzLm5leHRTaWJsaW5nPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lc3BhY2U9bnVsbCx0aGlzLm9sZFZhbHVlPW51bGx9ZnVuY3Rpb24gZShhLGIpe2Zvcig7YTthPWEucGFyZW50Tm9kZSl7dmFyIGM9bi5nZXQoYSk7aWYoYylmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXTtlLm9wdGlvbnMuc3VidHJlZSYmZS5hZGRUcmFuc2llbnRPYnNlcnZlcihiKX19fWZ1bmN0aW9uIGYoYSl7Zm9yKHZhciBiPTA7YjxhLm5vZGVzXy5sZW5ndGg7YisrKXt2YXIgYz1hLm5vZGVzX1tiXSxkPW4uZ2V0KGMpO2lmKCFkKXJldHVybjtmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXTtmLm9ic2VydmVyPT09YSYmZi5yZW1vdmVUcmFuc2llbnRPYnNlcnZlcnMoKX19fWZ1bmN0aW9uIGcoYSxjLGUpe2Zvcih2YXIgZj1PYmplY3QuY3JlYXRlKG51bGwpLGc9T2JqZWN0LmNyZWF0ZShudWxsKSxoPWE7aDtoPWgucGFyZW50Tm9kZSl7dmFyIGk9bi5nZXQoaCk7aWYoaSlmb3IodmFyIGo9MDtqPGkubGVuZ3RoO2orKyl7dmFyIGs9aVtqXSxsPWsub3B0aW9ucztpZigoaD09PWF8fGwuc3VidHJlZSkmJiEoImF0dHJpYnV0ZXMiPT09YyYmIWwuYXR0cmlidXRlc3x8ImF0dHJpYnV0ZXMiPT09YyYmbC5hdHRyaWJ1dGVGaWx0ZXImJihudWxsIT09ZS5uYW1lc3BhY2V8fC0xPT09bC5hdHRyaWJ1dGVGaWx0ZXIuaW5kZXhPZihlLm5hbWUpKXx8ImNoYXJhY3RlckRhdGEiPT09YyYmIWwuY2hhcmFjdGVyRGF0YXx8ImNoaWxkTGlzdCI9PT1jJiYhbC5jaGlsZExpc3QpKXt2YXIgbT1rLm9ic2VydmVyO2ZbbS51aWRfXT1tLCgiYXR0cmlidXRlcyI9PT1jJiZsLmF0dHJpYnV0ZU9sZFZhbHVlfHwiY2hhcmFjdGVyRGF0YSI9PT1jJiZsLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSkmJihnW20udWlkX109ZS5vbGRWYWx1ZSl9fX12YXIgbz0hMTtmb3IodmFyIHAgaW4gZil7dmFyIG09ZltwXSxxPW5ldyBkKGMsYSk7Im5hbWUiaW4gZSYmIm5hbWVzcGFjZSJpbiBlJiYocS5hdHRyaWJ1dGVOYW1lPWUubmFtZSxxLmF0dHJpYnV0ZU5hbWVzcGFjZT1lLm5hbWVzcGFjZSksZS5hZGRlZE5vZGVzJiYocS5hZGRlZE5vZGVzPWUuYWRkZWROb2RlcyksZS5yZW1vdmVkTm9kZXMmJihxLnJlbW92ZWROb2Rlcz1lLnJlbW92ZWROb2RlcyksZS5wcmV2aW91c1NpYmxpbmcmJihxLnByZXZpb3VzU2libGluZz1lLnByZXZpb3VzU2libGluZyksZS5uZXh0U2libGluZyYmKHEubmV4dFNpYmxpbmc9ZS5uZXh0U2libGluZyksdm9pZCAwIT09Z1twXSYmKHEub2xkVmFsdWU9Z1twXSksbS5yZWNvcmRzXy5wdXNoKHEpLG89ITB9byYmYigpfWZ1bmN0aW9uIGgoYSl7aWYodGhpcy5jaGlsZExpc3Q9ISFhLmNoaWxkTGlzdCx0aGlzLnN1YnRyZWU9ISFhLnN1YnRyZWUsdGhpcy5hdHRyaWJ1dGVzPSJhdHRyaWJ1dGVzImluIGF8fCEoImF0dHJpYnV0ZU9sZFZhbHVlImluIGF8fCJhdHRyaWJ1dGVGaWx0ZXIiaW4gYSk/ISFhLmF0dHJpYnV0ZXM6ITAsdGhpcy5jaGFyYWN0ZXJEYXRhPSJjaGFyYWN0ZXJEYXRhT2xkVmFsdWUiaW4gYSYmISgiY2hhcmFjdGVyRGF0YSJpbiBhKT8hMDohIWEuY2hhcmFjdGVyRGF0YSwhdGhpcy5hdHRyaWJ1dGVzJiYoYS5hdHRyaWJ1dGVPbGRWYWx1ZXx8ImF0dHJpYnV0ZUZpbHRlciJpbiBhKXx8IXRoaXMuY2hhcmFjdGVyRGF0YSYmYS5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUpdGhyb3cgbmV3IFR5cGVFcnJvcjtpZih0aGlzLmNoYXJhY3RlckRhdGE9ISFhLmNoYXJhY3RlckRhdGEsdGhpcy5hdHRyaWJ1dGVPbGRWYWx1ZT0hIWEuYXR0cmlidXRlT2xkVmFsdWUsdGhpcy5jaGFyYWN0ZXJEYXRhT2xkVmFsdWU9ISFhLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSwiYXR0cmlidXRlRmlsdGVyImluIGEpe2lmKG51bGw9PWEuYXR0cmlidXRlRmlsdGVyfHwib2JqZWN0IiE9dHlwZW9mIGEuYXR0cmlidXRlRmlsdGVyKXRocm93IG5ldyBUeXBlRXJyb3I7dGhpcy5hdHRyaWJ1dGVGaWx0ZXI9cS5jYWxsKGEuYXR0cmlidXRlRmlsdGVyKX1lbHNlIHRoaXMuYXR0cmlidXRlRmlsdGVyPW51bGx9ZnVuY3Rpb24gaShhKXt0aGlzLmNhbGxiYWNrXz1hLHRoaXMubm9kZXNfPVtdLHRoaXMucmVjb3Jkc189W10sdGhpcy51aWRfPSsrcixvLnB1c2godGhpcyl9ZnVuY3Rpb24gaihhLGIsYyl7dGhpcy5vYnNlcnZlcj1hLHRoaXMudGFyZ2V0PWIsdGhpcy5vcHRpb25zPWMsdGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdfXZhciBrPWEuc2V0RW5kT2ZNaWNyb3Rhc2ssbD1hLndyYXBJZk5lZWRlZCxtPWEud3JhcHBlcnMsbj1uZXcgV2Vha01hcCxvPVtdLHA9ITEscT1BcnJheS5wcm90b3R5cGUuc2xpY2Uscj0wO2kucHJvdG90eXBlPXtvYnNlcnZlOmZ1bmN0aW9uKGEsYil7YT1sKGEpO3ZhciBjLGQ9bmV3IGgoYiksZT1uLmdldChhKTtlfHxuLnNldChhLGU9W10pO2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKWVbZl0ub2JzZXJ2ZXI9PT10aGlzJiYoYz1lW2ZdLGMucmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzKCksYy5vcHRpb25zPWQpO2N8fChjPW5ldyBqKHRoaXMsYSxkKSxlLnB1c2goYyksdGhpcy5ub2Rlc18ucHVzaChhKSl9LGRpc2Nvbm5lY3Q6ZnVuY3Rpb24oKXt0aGlzLm5vZGVzXy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1uLmdldChhKSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY107aWYoZC5vYnNlcnZlcj09PXRoaXMpe2Iuc3BsaWNlKGMsMSk7YnJlYWt9fX0sdGhpcyksdGhpcy5yZWNvcmRzXz1bXX0sdGFrZVJlY29yZHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnJlY29yZHNfO3JldHVybiB0aGlzLnJlY29yZHNfPVtdLGF9fSxqLnByb3RvdHlwZT17YWRkVHJhbnNpZW50T2JzZXJ2ZXI6ZnVuY3Rpb24oYSl7aWYoYSE9PXRoaXMudGFyZ2V0KXt0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXMucHVzaChhKTt2YXIgYj1uLmdldChhKTtifHxuLnNldChhLGI9W10pLGIucHVzaCh0aGlzKX19LHJlbW92ZVRyYW5zaWVudE9ic2VydmVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlczt0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W107Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspZm9yKHZhciBjPWFbYl0sZD1uLmdldChjKSxlPTA7ZTxkLmxlbmd0aDtlKyspaWYoZFtlXT09PXRoaXMpe2Quc3BsaWNlKGUsMSk7YnJlYWt9fX0sYS5lbnF1ZXVlTXV0YXRpb249ZyxhLnJlZ2lzdGVyVHJhbnNpZW50T2JzZXJ2ZXJzPWUsYS53cmFwcGVycy5NdXRhdGlvbk9ic2VydmVyPWksYS53cmFwcGVycy5NdXRhdGlvblJlY29yZD1kfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEsYil7dGhpcy5yb290PWEsdGhpcy5wYXJlbnQ9Yn1mdW5jdGlvbiBjKGEsYil7aWYoYS50cmVlU2NvcGVfIT09Yil7YS50cmVlU2NvcGVfPWI7Zm9yKHZhciBkPWEuc2hhZG93Um9vdDtkO2Q9ZC5vbGRlclNoYWRvd1Jvb3QpZC50cmVlU2NvcGVfLnBhcmVudD1iO2Zvcih2YXIgZT1hLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpYyhlLGIpfX1mdW5jdGlvbiBkKGMpe2lmKGMgaW5zdGFuY2VvZiBhLndyYXBwZXJzLldpbmRvdyxjLnRyZWVTY29wZV8pcmV0dXJuIGMudHJlZVNjb3BlXzt2YXIgZSxmPWMucGFyZW50Tm9kZTtyZXR1cm4gZT1mP2QoZik6bmV3IGIoYyxudWxsKSxjLnRyZWVTY29wZV89ZX1iLnByb3RvdHlwZT17Z2V0IHJlbmRlcmVyKCl7cmV0dXJuIHRoaXMucm9vdCBpbnN0YW5jZW9mIGEud3JhcHBlcnMuU2hhZG93Um9vdD9hLmdldFJlbmRlcmVyRm9ySG9zdCh0aGlzLnJvb3QuaG9zdCk6bnVsbH0sY29udGFpbnM6ZnVuY3Rpb24oYSl7Zm9yKDthO2E9YS5wYXJlbnQpaWYoYT09PXRoaXMpcmV0dXJuITA7cmV0dXJuITF9fSxhLlRyZWVTY29wZT1iLGEuZ2V0VHJlZVNjb3BlPWQsYS5zZXRUcmVlU2NvcGU9Y30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIFEuU2hhZG93Um9vdH1mdW5jdGlvbiBjKGEpe3JldHVybiBMKGEpLnJvb3R9ZnVuY3Rpb24gZChhLGQpe3ZhciBoPVtdLGk9YTtmb3IoaC5wdXNoKGkpO2k7KXt2YXIgaj1nKGkpO2lmKGomJmoubGVuZ3RoPjApe2Zvcih2YXIgaz0wO2s8ai5sZW5ndGg7aysrKXt2YXIgbT1qW2tdO2lmKGYobSkpe3ZhciBuPWMobSksbz1uLm9sZGVyU2hhZG93Um9vdDtvJiZoLnB1c2gobyl9aC5wdXNoKG0pfWk9altqLmxlbmd0aC0xXX1lbHNlIGlmKGIoaSkpe2lmKGwoYSxpKSYmZShkKSlicmVhaztpPWkuaG9zdCxoLnB1c2goaSl9ZWxzZSBpPWkucGFyZW50Tm9kZSxpJiZoLnB1c2goaSl9cmV0dXJuIGh9ZnVuY3Rpb24gZShhKXtpZighYSlyZXR1cm4hMTtzd2l0Y2goYS50eXBlKXtjYXNlImFib3J0IjpjYXNlImVycm9yIjpjYXNlInNlbGVjdCI6Y2FzZSJjaGFuZ2UiOmNhc2UibG9hZCI6Y2FzZSJyZXNldCI6Y2FzZSJyZXNpemUiOmNhc2Uic2Nyb2xsIjpjYXNlInNlbGVjdHN0YXJ0IjpyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBmKGEpe3JldHVybiBhIGluc3RhbmNlb2YgSFRNTFNoYWRvd0VsZW1lbnR9ZnVuY3Rpb24gZyhiKXtyZXR1cm4gYS5nZXREZXN0aW5hdGlvbkluc2VydGlvblBvaW50cyhiKX1mdW5jdGlvbiBoKGEsYil7aWYoMD09PWEubGVuZ3RoKXJldHVybiBiO2IgaW5zdGFuY2VvZiBRLldpbmRvdyYmKGI9Yi5kb2N1bWVudCk7Zm9yKHZhciBjPUwoYiksZD1hWzBdLGU9TChkKSxmPWooYyxlKSxnPTA7ZzxhLmxlbmd0aDtnKyspe3ZhciBoPWFbZ107aWYoTChoKT09PWYpcmV0dXJuIGh9cmV0dXJuIGFbYS5sZW5ndGgtMV19ZnVuY3Rpb24gaShhKXtmb3IodmFyIGI9W107YTthPWEucGFyZW50KWIucHVzaChhKTtyZXR1cm4gYn1mdW5jdGlvbiBqKGEsYil7Zm9yKHZhciBjPWkoYSksZD1pKGIpLGU9bnVsbDtjLmxlbmd0aD4wJiZkLmxlbmd0aD4wOyl7dmFyIGY9Yy5wb3AoKSxnPWQucG9wKCk7aWYoZiE9PWcpYnJlYWs7ZT1mfXJldHVybiBlfWZ1bmN0aW9uIGsoYSxiLGMpe2IgaW5zdGFuY2VvZiBRLldpbmRvdyYmKGI9Yi5kb2N1bWVudCk7dmFyIGUsZj1MKGIpLGc9TChjKSxoPWQoYyxhKSxlPWooZixnKTtlfHwoZT1nLnJvb3QpO2Zvcih2YXIgaT1lO2k7aT1pLnBhcmVudClmb3IodmFyIGs9MDtrPGgubGVuZ3RoO2srKyl7dmFyIGw9aFtrXTtpZihMKGwpPT09aSlyZXR1cm4gbH1yZXR1cm4gbnVsbH1mdW5jdGlvbiBsKGEsYil7cmV0dXJuIEwoYSk9PT1MKGIpfWZ1bmN0aW9uIG0oYSl7aWYoIVMuZ2V0KGEpJiYoUy5zZXQoYSwhMCksbihQKGEpLFAoYS50YXJnZXQpKSxKKSl7dmFyIGI9Sjt0aHJvdyBKPW51bGwsYn19ZnVuY3Rpb24gbihiLGMpe2lmKFQuZ2V0KGIpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZFN0YXRlRXJyb3IiKTtULnNldChiLCEwKSxhLnJlbmRlckFsbFBlbmRpbmcoKTt2YXIgZSxmLGcsaD1iLnR5cGU7aWYoImxvYWQiPT09aCYmIWIuYnViYmxlcyl7dmFyIGk9YztpIGluc3RhbmNlb2YgUS5Eb2N1bWVudCYmKGc9aS5kZWZhdWx0VmlldykmJihmPWksZT1bXSl9aWYoIWUpaWYoYyBpbnN0YW5jZW9mIFEuV2luZG93KWc9YyxlPVtdO2Vsc2UgaWYoZT1kKGMsYiksImxvYWQiIT09Yi50eXBlKXt2YXIgaT1lW2UubGVuZ3RoLTFdO2kgaW5zdGFuY2VvZiBRLkRvY3VtZW50JiYoZz1pLmRlZmF1bHRWaWV3KX1yZXR1cm4gXy5zZXQoYixlKSxvKGIsZSxnLGYpJiZwKGIsZSxnLGYpJiZxKGIsZSxnLGYpLFguc2V0KGIsYWIpLFYuZGVsZXRlKGIsbnVsbCksVC5kZWxldGUoYiksYi5kZWZhdWx0UHJldmVudGVkfWZ1bmN0aW9uIG8oYSxiLGMsZCl7dmFyIGU9YmI7aWYoYyYmIXIoYyxhLGUsYixkKSlyZXR1cm4hMTtmb3IodmFyIGY9Yi5sZW5ndGgtMTtmPjA7Zi0tKWlmKCFyKGJbZl0sYSxlLGIsZCkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gcChhLGIsYyxkKXt2YXIgZT1jYixmPWJbMF18fGM7cmV0dXJuIHIoZixhLGUsYixkKX1mdW5jdGlvbiBxKGEsYixjLGQpe2Zvcih2YXIgZT1kYixmPTE7ZjxiLmxlbmd0aDtmKyspaWYoIXIoYltmXSxhLGUsYixkKSlyZXR1cm47YyYmYi5sZW5ndGg+MCYmcihjLGEsZSxiLGQpfWZ1bmN0aW9uIHIoYSxiLGMsZCxlKXt2YXIgZj1SLmdldChhKTtpZighZilyZXR1cm4hMDt2YXIgZz1lfHxoKGQsYSk7aWYoZz09PWEpe2lmKGM9PT1iYilyZXR1cm4hMDtjPT09ZGImJihjPWNiKX1lbHNlIGlmKGM9PT1kYiYmIWIuYnViYmxlcylyZXR1cm4hMDtpZigicmVsYXRlZFRhcmdldCJpbiBiKXt2YXIgaT1PKGIpLGo9aS5yZWxhdGVkVGFyZ2V0O2lmKGope2lmKGogaW5zdGFuY2VvZiBPYmplY3QmJmouYWRkRXZlbnRMaXN0ZW5lcil7dmFyIGw9UChqKSxtPWsoYixhLGwpO2lmKG09PT1nKXJldHVybiEwfWVsc2UgbT1udWxsO1cuc2V0KGIsbSl9fVguc2V0KGIsYyk7dmFyIG49Yi50eXBlLG89ITE7VS5zZXQoYixnKSxWLnNldChiLGEpO2Zvcih2YXIgcD0wO3A8Zi5sZW5ndGg7cCsrKXt2YXIgcT1mW3BdO2lmKHEucmVtb3ZlZClvPSEwO2Vsc2UgaWYoIShxLnR5cGUhPT1ufHwhcS5jYXB0dXJlJiZjPT09YmJ8fHEuY2FwdHVyZSYmYz09PWRiKSl0cnl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHEuaGFuZGxlcj9xLmhhbmRsZXIuY2FsbChhLGIpOnEuaGFuZGxlci5oYW5kbGVFdmVudChiKSxaLmdldChiKSlyZXR1cm4hMQp9Y2F0Y2gocil7Snx8KEo9cil9fWlmKG8pe3ZhciBzPWYuc2xpY2UoKTtmLmxlbmd0aD0wO2Zvcih2YXIgcD0wO3A8cy5sZW5ndGg7cCsrKXNbcF0ucmVtb3ZlZHx8Zi5wdXNoKHNbcF0pfXJldHVybiFZLmdldChiKX1mdW5jdGlvbiBzKGEsYixjKXt0aGlzLnR5cGU9YSx0aGlzLmhhbmRsZXI9Yix0aGlzLmNhcHR1cmU9Qm9vbGVhbihjKX1mdW5jdGlvbiB0KGEsYil7aWYoIShhIGluc3RhbmNlb2YgZWIpKXJldHVybiBQKHgoZWIsIkV2ZW50IixhLGIpKTt2YXIgYz1hO3JldHVybiBwYnx8ImJlZm9yZXVubG9hZCIhPT1jLnR5cGU/dm9pZCh0aGlzLmltcGw9Yyk6bmV3IHkoYyl9ZnVuY3Rpb24gdShhKXtyZXR1cm4gYSYmYS5yZWxhdGVkVGFyZ2V0P09iamVjdC5jcmVhdGUoYSx7cmVsYXRlZFRhcmdldDp7dmFsdWU6TyhhLnJlbGF0ZWRUYXJnZXQpfX0pOmF9ZnVuY3Rpb24gdihhLGIsYyl7dmFyIGQ9d2luZG93W2FdLGU9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYiBpbnN0YW5jZW9mIGQ/dm9pZCh0aGlzLmltcGw9Yik6UCh4KGQsYSxiLGMpKX07aWYoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksYyYmTShlLnByb3RvdHlwZSxjKSxkKXRyeXtOKGQsZSxuZXcgZCgidGVtcCIpKX1jYXRjaChmKXtOKGQsZSxkb2N1bWVudC5jcmVhdGVFdmVudChhKSl9cmV0dXJuIGV9ZnVuY3Rpb24gdyhhLGIpe3JldHVybiBmdW5jdGlvbigpe2FyZ3VtZW50c1tiXT1PKGFyZ3VtZW50c1tiXSk7dmFyIGM9Tyh0aGlzKTtjW2FdLmFwcGx5KGMsYXJndW1lbnRzKX19ZnVuY3Rpb24geChhLGIsYyxkKXtpZihuYilyZXR1cm4gbmV3IGEoYyx1KGQpKTt2YXIgZT1PKGRvY3VtZW50LmNyZWF0ZUV2ZW50KGIpKSxmPW1iW2JdLGc9W2NdO3JldHVybiBPYmplY3Qua2V5cyhmKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPW51bGwhPWQmJmEgaW4gZD9kW2FdOmZbYV07InJlbGF0ZWRUYXJnZXQiPT09YSYmKGI9TyhiKSksZy5wdXNoKGIpfSksZVsiaW5pdCIrYl0uYXBwbHkoZSxnKSxlfWZ1bmN0aW9uIHkoYSl7dC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24geihhKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYT8hMDphJiZhLmhhbmRsZUV2ZW50fWZ1bmN0aW9uIEEoYSl7c3dpdGNoKGEpe2Nhc2UiRE9NQXR0ck1vZGlmaWVkIjpjYXNlIkRPTUF0dHJpYnV0ZU5hbWVDaGFuZ2VkIjpjYXNlIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCI6Y2FzZSJET01FbGVtZW50TmFtZUNoYW5nZWQiOmNhc2UiRE9NTm9kZUluc2VydGVkIjpjYXNlIkRPTU5vZGVJbnNlcnRlZEludG9Eb2N1bWVudCI6Y2FzZSJET01Ob2RlUmVtb3ZlZCI6Y2FzZSJET01Ob2RlUmVtb3ZlZEZyb21Eb2N1bWVudCI6Y2FzZSJET01TdWJ0cmVlTW9kaWZpZWQiOnJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIEIoYSl7dGhpcy5pbXBsPWF9ZnVuY3Rpb24gQyhhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIFEuU2hhZG93Um9vdCYmKGE9YS5ob3N0KSxPKGEpfWZ1bmN0aW9uIEQoYSxiKXt2YXIgYz1SLmdldChhKTtpZihjKWZvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKWlmKCFjW2RdLnJlbW92ZWQmJmNbZF0udHlwZT09PWIpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gRShhLGIpe2Zvcih2YXIgYz1PKGEpO2M7Yz1jLnBhcmVudE5vZGUpaWYoRChQKGMpLGIpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIEYoYSl7SyhhLHJiKX1mdW5jdGlvbiBHKGIsYyxlLGYpe2EucmVuZGVyQWxsUGVuZGluZygpO3ZhciBnPVAoc2IuY2FsbChjLmltcGwsZSxmKSksaT1kKGcsbnVsbCk7cmV0dXJuIGgoaSxiKX1mdW5jdGlvbiBIKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiPSQuZ2V0KHRoaXMpO3JldHVybiBiJiZiW2FdJiZiW2FdLnZhbHVlfHxudWxsfX1mdW5jdGlvbiBJKGEpe3ZhciBiPWEuc2xpY2UoMik7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPSQuZ2V0KHRoaXMpO2R8fChkPU9iamVjdC5jcmVhdGUobnVsbCksJC5zZXQodGhpcyxkKSk7dmFyIGU9ZFthXTtpZihlJiZ0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixlLndyYXBwZWQsITEpLCJmdW5jdGlvbiI9PXR5cGVvZiBjKXt2YXIgZj1mdW5jdGlvbihiKXt2YXIgZD1jLmNhbGwodGhpcyxiKTtkPT09ITE/Yi5wcmV2ZW50RGVmYXVsdCgpOiJvbmJlZm9yZXVubG9hZCI9PT1hJiYic3RyaW5nIj09dHlwZW9mIGQmJihiLnJldHVyblZhbHVlPWQpfTt0aGlzLmFkZEV2ZW50TGlzdGVuZXIoYixmLCExKSxkW2FdPXt2YWx1ZTpjLHdyYXBwZWQ6Zn19fX12YXIgSixLPWEuZm9yd2FyZE1ldGhvZHNUb1dyYXBwZXIsTD1hLmdldFRyZWVTY29wZSxNPWEubWl4aW4sTj1hLnJlZ2lzdGVyV3JhcHBlcixPPWEudW53cmFwLFA9YS53cmFwLFE9YS53cmFwcGVycyxSPShuZXcgV2Vha01hcCxuZXcgV2Vha01hcCksUz1uZXcgV2Vha01hcCxUPW5ldyBXZWFrTWFwLFU9bmV3IFdlYWtNYXAsVj1uZXcgV2Vha01hcCxXPW5ldyBXZWFrTWFwLFg9bmV3IFdlYWtNYXAsWT1uZXcgV2Vha01hcCxaPW5ldyBXZWFrTWFwLCQ9bmV3IFdlYWtNYXAsXz1uZXcgV2Vha01hcCxhYj0wLGJiPTEsY2I9MixkYj0zO3MucHJvdG90eXBlPXtlcXVhbHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGFuZGxlcj09PWEuaGFuZGxlciYmdGhpcy50eXBlPT09YS50eXBlJiZ0aGlzLmNhcHR1cmU9PT1hLmNhcHR1cmV9LGdldCByZW1vdmVkKCl7cmV0dXJuIG51bGw9PT10aGlzLmhhbmRsZXJ9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuaGFuZGxlcj1udWxsfX07dmFyIGViPXdpbmRvdy5FdmVudDtlYi5wcm90b3R5cGUucG9seW1lckJsYWNrTGlzdF89e3JldHVyblZhbHVlOiEwLGtleUxvY2F0aW9uOiEwfSx0LnByb3RvdHlwZT17Z2V0IHRhcmdldCgpe3JldHVybiBVLmdldCh0aGlzKX0sZ2V0IGN1cnJlbnRUYXJnZXQoKXtyZXR1cm4gVi5nZXQodGhpcyl9LGdldCBldmVudFBoYXNlKCl7cmV0dXJuIFguZ2V0KHRoaXMpfSxnZXQgcGF0aCgpe3ZhciBhPW5ldyBRLk5vZGVMaXN0LGI9Xy5nZXQodGhpcyk7aWYoYil7Zm9yKHZhciBjPTAsZD1iLmxlbmd0aC0xLGU9TChWLmdldCh0aGlzKSksZj0wO2Q+PWY7ZisrKXt2YXIgZz1iW2ZdLGg9TChnKTtoLmNvbnRhaW5zKGUpJiYoZiE9PWR8fGcgaW5zdGFuY2VvZiBRLk5vZGUpJiYoYVtjKytdPWcpfWEubGVuZ3RoPWN9cmV0dXJuIGF9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe1kuc2V0KHRoaXMsITApfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXtZLnNldCh0aGlzLCEwKSxaLnNldCh0aGlzLCEwKX19LE4oZWIsdCxkb2N1bWVudC5jcmVhdGVFdmVudCgiRXZlbnQiKSk7dmFyIGZiPXYoIlVJRXZlbnQiLHQpLGdiPXYoIkN1c3RvbUV2ZW50Iix0KSxoYj17Z2V0IHJlbGF0ZWRUYXJnZXQoKXt2YXIgYT1XLmdldCh0aGlzKTtyZXR1cm4gdm9pZCAwIT09YT9hOlAoTyh0aGlzKS5yZWxhdGVkVGFyZ2V0KX19LGliPU0oe2luaXRNb3VzZUV2ZW50OncoImluaXRNb3VzZUV2ZW50IiwxNCl9LGhiKSxqYj1NKHtpbml0Rm9jdXNFdmVudDp3KCJpbml0Rm9jdXNFdmVudCIsNSl9LGhiKSxrYj12KCJNb3VzZUV2ZW50IixmYixpYiksbGI9digiRm9jdXNFdmVudCIsZmIsamIpLG1iPU9iamVjdC5jcmVhdGUobnVsbCksbmI9ZnVuY3Rpb24oKXt0cnl7bmV3IHdpbmRvdy5Gb2N1c0V2ZW50KCJmb2N1cyIpfWNhdGNoKGEpe3JldHVybiExfXJldHVybiEwfSgpO2lmKCFuYil7dmFyIG9iPWZ1bmN0aW9uKGEsYixjKXtpZihjKXt2YXIgZD1tYltjXTtiPU0oTSh7fSxkKSxiKX1tYlthXT1ifTtvYigiRXZlbnQiLHtidWJibGVzOiExLGNhbmNlbGFibGU6ITF9KSxvYigiQ3VzdG9tRXZlbnQiLHtkZXRhaWw6bnVsbH0sIkV2ZW50Iiksb2IoIlVJRXZlbnQiLHt2aWV3Om51bGwsZGV0YWlsOjB9LCJFdmVudCIpLG9iKCJNb3VzZUV2ZW50Iix7c2NyZWVuWDowLHNjcmVlblk6MCxjbGllbnRYOjAsY2xpZW50WTowLGN0cmxLZXk6ITEsYWx0S2V5OiExLHNoaWZ0S2V5OiExLG1ldGFLZXk6ITEsYnV0dG9uOjAscmVsYXRlZFRhcmdldDpudWxsfSwiVUlFdmVudCIpLG9iKCJGb2N1c0V2ZW50Iix7cmVsYXRlZFRhcmdldDpudWxsfSwiVUlFdmVudCIpfXZhciBwYj13aW5kb3cuQmVmb3JlVW5sb2FkRXZlbnQ7eS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSksTSh5LnByb3RvdHlwZSx7Z2V0IHJldHVyblZhbHVlKCl7cmV0dXJuIHRoaXMuaW1wbC5yZXR1cm5WYWx1ZX0sc2V0IHJldHVyblZhbHVlKGEpe3RoaXMuaW1wbC5yZXR1cm5WYWx1ZT1hfX0pLHBiJiZOKHBiLHkpO3ZhciBxYj13aW5kb3cuRXZlbnRUYXJnZXQscmI9WyJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpc3BhdGNoRXZlbnQiXTtbTm9kZSxXaW5kb3ddLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YS5wcm90b3R5cGU7cmIuZm9yRWFjaChmdW5jdGlvbihhKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYixhKyJfIix7dmFsdWU6YlthXX0pfSl9KSxCLnByb3RvdHlwZT17YWRkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihhLGIsYyl7aWYoeihiKSYmIUEoYSkpe3ZhciBkPW5ldyBzKGEsYixjKSxlPVIuZ2V0KHRoaXMpO2lmKGUpe2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKWlmKGQuZXF1YWxzKGVbZl0pKXJldHVybn1lbHNlIGU9W10sUi5zZXQodGhpcyxlKTtlLnB1c2goZCk7dmFyIGc9Qyh0aGlzKTtnLmFkZEV2ZW50TGlzdGVuZXJfKGEsbSwhMCl9fSxyZW1vdmVFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGEsYixjKXtjPUJvb2xlYW4oYyk7dmFyIGQ9Ui5nZXQodGhpcyk7aWYoZCl7Zm9yKHZhciBlPTAsZj0hMSxnPTA7ZzxkLmxlbmd0aDtnKyspZFtnXS50eXBlPT09YSYmZFtnXS5jYXB0dXJlPT09YyYmKGUrKyxkW2ddLmhhbmRsZXI9PT1iJiYoZj0hMCxkW2ddLnJlbW92ZSgpKSk7aWYoZiYmMT09PWUpe3ZhciBoPUModGhpcyk7aC5yZW1vdmVFdmVudExpc3RlbmVyXyhhLG0sITApfX19LGRpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24oYil7dmFyIGM9TyhiKSxkPWMudHlwZTtTLnNldChjLCExKSxhLnJlbmRlckFsbFBlbmRpbmcoKTt2YXIgZTtFKHRoaXMsZCl8fChlPWZ1bmN0aW9uKCl7fSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoZCxlLCEwKSk7dHJ5e3JldHVybiBPKHRoaXMpLmRpc3BhdGNoRXZlbnRfKGMpfWZpbmFsbHl7ZSYmdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKGQsZSwhMCl9fX0scWImJk4ocWIsQik7dmFyIHNiPWRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQ7YS5lbGVtZW50RnJvbVBvaW50PUcsYS5nZXRFdmVudEhhbmRsZXJHZXR0ZXI9SCxhLmdldEV2ZW50SGFuZGxlclNldHRlcj1JLGEud3JhcEV2ZW50VGFyZ2V0TWV0aG9kcz1GLGEud3JhcHBlcnMuQmVmb3JlVW5sb2FkRXZlbnQ9eSxhLndyYXBwZXJzLkN1c3RvbUV2ZW50PWdiLGEud3JhcHBlcnMuRXZlbnQ9dCxhLndyYXBwZXJzLkV2ZW50VGFyZ2V0PUIsYS53cmFwcGVycy5Gb2N1c0V2ZW50PWxiLGEud3JhcHBlcnMuTW91c2VFdmVudD1rYixhLndyYXBwZXJzLlVJRXZlbnQ9ZmJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLG8pfWZ1bmN0aW9uIGMoYSl7dGhpcy5pbXBsPWF9ZnVuY3Rpb24gZCgpe3RoaXMubGVuZ3RoPTAsYih0aGlzLCJsZW5ndGgiKX1mdW5jdGlvbiBlKGEpe2Zvcih2YXIgYj1uZXcgZCxlPTA7ZTxhLmxlbmd0aDtlKyspYltlXT1uZXcgYyhhW2VdKTtyZXR1cm4gYi5sZW5ndGg9ZSxifWZ1bmN0aW9uIGYoYSl7Zy5jYWxsKHRoaXMsYSl9dmFyIGc9YS53cmFwcGVycy5VSUV2ZW50LGg9YS5taXhpbixpPWEucmVnaXN0ZXJXcmFwcGVyLGo9YS51bndyYXAsaz1hLndyYXAsbD13aW5kb3cuVG91Y2hFdmVudDtpZihsKXt2YXIgbTt0cnl7bT1kb2N1bWVudC5jcmVhdGVFdmVudCgiVG91Y2hFdmVudCIpfWNhdGNoKG4pe3JldHVybn12YXIgbz17ZW51bWVyYWJsZTohMX07Yy5wcm90b3R5cGU9e2dldCB0YXJnZXQoKXtyZXR1cm4gayh0aGlzLmltcGwudGFyZ2V0KX19O3ZhciBwPXtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6bnVsbH07WyJjbGllbnRYIiwiY2xpZW50WSIsInNjcmVlblgiLCJzY3JlZW5ZIiwicGFnZVgiLCJwYWdlWSIsImlkZW50aWZpZXIiLCJ3ZWJraXRSYWRpdXNYIiwid2Via2l0UmFkaXVzWSIsIndlYmtpdFJvdGF0aW9uQW5nbGUiLCJ3ZWJraXRGb3JjZSJdLmZvckVhY2goZnVuY3Rpb24oYSl7cC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsW2FdfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYy5wcm90b3R5cGUsYSxwKX0pLGQucHJvdG90eXBlPXtpdGVtOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzW2FdfX0sZi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShnLnByb3RvdHlwZSksaChmLnByb3RvdHlwZSx7Z2V0IHRvdWNoZXMoKXtyZXR1cm4gZShqKHRoaXMpLnRvdWNoZXMpfSxnZXQgdGFyZ2V0VG91Y2hlcygpe3JldHVybiBlKGoodGhpcykudGFyZ2V0VG91Y2hlcyl9LGdldCBjaGFuZ2VkVG91Y2hlcygpe3JldHVybiBlKGoodGhpcykuY2hhbmdlZFRvdWNoZXMpfSxpbml0VG91Y2hFdmVudDpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiTm90IGltcGxlbWVudGVkIil9fSksaShsLGYsbSksYS53cmFwcGVycy5Ub3VjaD1jLGEud3JhcHBlcnMuVG91Y2hFdmVudD1mLGEud3JhcHBlcnMuVG91Y2hMaXN0PWR9fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEsYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYixnKX1mdW5jdGlvbiBjKCl7dGhpcy5sZW5ndGg9MCxiKHRoaXMsImxlbmd0aCIpfWZ1bmN0aW9uIGQoYSl7aWYobnVsbD09YSlyZXR1cm4gYTtmb3IodmFyIGI9bmV3IGMsZD0wLGU9YS5sZW5ndGg7ZT5kO2QrKyliW2RdPWYoYVtkXSk7cmV0dXJuIGIubGVuZ3RoPWUsYn1mdW5jdGlvbiBlKGEsYil7YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXtyZXR1cm4gZCh0aGlzLmltcGxbYl0uYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cykpfX12YXIgZj1hLndyYXAsZz17ZW51bWVyYWJsZTohMX07Yy5wcm90b3R5cGU9e2l0ZW06ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXNbYV19fSxiKGMucHJvdG90eXBlLCJpdGVtIiksYS53cmFwcGVycy5Ob2RlTGlzdD1jLGEuYWRkV3JhcE5vZGVMaXN0TWV0aG9kPWUsYS53cmFwTm9kZUxpc3Q9ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7YS53cmFwSFRNTENvbGxlY3Rpb249YS53cmFwTm9kZUxpc3QsYS53cmFwcGVycy5IVE1MQ29sbGVjdGlvbj1hLndyYXBwZXJzLk5vZGVMaXN0fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe0EoYSBpbnN0YW5jZW9mIHcpfWZ1bmN0aW9uIGMoYSl7dmFyIGI9bmV3IHk7cmV0dXJuIGJbMF09YSxiLmxlbmd0aD0xLGJ9ZnVuY3Rpb24gZChhLGIsYyl7QyhiLCJjaGlsZExpc3QiLHtyZW1vdmVkTm9kZXM6YyxwcmV2aW91c1NpYmxpbmc6YS5wcmV2aW91c1NpYmxpbmcsbmV4dFNpYmxpbmc6YS5uZXh0U2libGluZ30pfWZ1bmN0aW9uIGUoYSxiKXtDKGEsImNoaWxkTGlzdCIse3JlbW92ZWROb2RlczpifSl9ZnVuY3Rpb24gZihhLGIsZCxlKXtpZihhIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCl7dmFyIGY9aChhKTtPPSEwO2Zvcih2YXIgZz1mLmxlbmd0aC0xO2c+PTA7Zy0tKWEucmVtb3ZlQ2hpbGQoZltnXSksZltnXS5wYXJlbnROb2RlXz1iO089ITE7Zm9yKHZhciBnPTA7ZzxmLmxlbmd0aDtnKyspZltnXS5wcmV2aW91c1NpYmxpbmdfPWZbZy0xXXx8ZCxmW2ddLm5leHRTaWJsaW5nXz1mW2crMV18fGU7cmV0dXJuIGQmJihkLm5leHRTaWJsaW5nXz1mWzBdKSxlJiYoZS5wcmV2aW91c1NpYmxpbmdfPWZbZi5sZW5ndGgtMV0pLGZ9dmFyIGY9YyhhKSxpPWEucGFyZW50Tm9kZTtyZXR1cm4gaSYmaS5yZW1vdmVDaGlsZChhKSxhLnBhcmVudE5vZGVfPWIsYS5wcmV2aW91c1NpYmxpbmdfPWQsYS5uZXh0U2libGluZ189ZSxkJiYoZC5uZXh0U2libGluZ189YSksZSYmKGUucHJldmlvdXNTaWJsaW5nXz1hKSxmfWZ1bmN0aW9uIGcoYSl7aWYoYSBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpcmV0dXJuIGgoYSk7dmFyIGI9YyhhKSxlPWEucGFyZW50Tm9kZTtyZXR1cm4gZSYmZChhLGUsYiksYn1mdW5jdGlvbiBoKGEpe2Zvcih2YXIgYj1uZXcgeSxjPTAsZD1hLmZpcnN0Q2hpbGQ7ZDtkPWQubmV4dFNpYmxpbmcpYltjKytdPWQ7cmV0dXJuIGIubGVuZ3RoPWMsZShhLGIpLGJ9ZnVuY3Rpb24gaShhKXtyZXR1cm4gYX1mdW5jdGlvbiBqKGEsYil7SShhLGIpLGEubm9kZUlzSW5zZXJ0ZWRfKCl9ZnVuY3Rpb24gayhhLGIpe2Zvcih2YXIgYz1EKGIpLGQ9MDtkPGEubGVuZ3RoO2QrKylqKGFbZF0sYyl9ZnVuY3Rpb24gbChhKXtJKGEsbmV3IHooYSxudWxsKSl9ZnVuY3Rpb24gbShhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylsKGFbYl0pfWZ1bmN0aW9uIG4oYSxiKXt2YXIgYz1hLm5vZGVUeXBlPT09dy5ET0NVTUVOVF9OT0RFP2E6YS5vd25lckRvY3VtZW50O2MhPT1iLm93bmVyRG9jdW1lbnQmJmMuYWRvcHROb2RlKGIpfWZ1bmN0aW9uIG8oYixjKXtpZihjLmxlbmd0aCl7dmFyIGQ9Yi5vd25lckRvY3VtZW50O2lmKGQhPT1jWzBdLm93bmVyRG9jdW1lbnQpZm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspYS5hZG9wdE5vZGVOb1JlbW92ZShjW2VdLGQpfX1mdW5jdGlvbiBwKGEsYil7byhhLGIpO3ZhciBjPWIubGVuZ3RoO2lmKDE9PT1jKXJldHVybiBKKGJbMF0pO2Zvcih2YXIgZD1KKGEub3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpLGU9MDtjPmU7ZSsrKWQuYXBwZW5kQ2hpbGQoSihiW2VdKSk7cmV0dXJuIGR9ZnVuY3Rpb24gcShhKXtpZih2b2lkIDAhPT1hLmZpcnN0Q2hpbGRfKWZvcih2YXIgYj1hLmZpcnN0Q2hpbGRfO2I7KXt2YXIgYz1iO2I9Yi5uZXh0U2libGluZ18sYy5wYXJlbnROb2RlXz1jLnByZXZpb3VzU2libGluZ189Yy5uZXh0U2libGluZ189dm9pZCAwfWEuZmlyc3RDaGlsZF89YS5sYXN0Q2hpbGRfPXZvaWQgMH1mdW5jdGlvbiByKGEpe2lmKGEuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe2Zvcih2YXIgYj1hLmZpcnN0Q2hpbGQ7Yjspe0EoYi5wYXJlbnROb2RlPT09YSk7dmFyIGM9Yi5uZXh0U2libGluZyxkPUooYiksZT1kLnBhcmVudE5vZGU7ZSYmVi5jYWxsKGUsZCksYi5wcmV2aW91c1NpYmxpbmdfPWIubmV4dFNpYmxpbmdfPWIucGFyZW50Tm9kZV89bnVsbCxiPWN9YS5maXJzdENoaWxkXz1hLmxhc3RDaGlsZF89bnVsbH1lbHNlIGZvcih2YXIgYyxmPUooYSksZz1mLmZpcnN0Q2hpbGQ7ZzspYz1nLm5leHRTaWJsaW5nLFYuY2FsbChmLGcpLGc9Y31mdW5jdGlvbiBzKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmYi5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKX1mdW5jdGlvbiB0KGEpe2Zvcih2YXIgYixjPTA7YzxhLmxlbmd0aDtjKyspYj1hW2NdLGIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKX1mdW5jdGlvbiB1KGEsYixjKXt2YXIgZDtpZihkPUwoYz9QLmNhbGwoYyxhLmltcGwsITEpOlEuY2FsbChhLmltcGwsITEpKSxiKXtmb3IodmFyIGU9YS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWQuYXBwZW5kQ2hpbGQodShlLCEwLGMpKTtpZihhIGluc3RhbmNlb2YgTi5IVE1MVGVtcGxhdGVFbGVtZW50KWZvcih2YXIgZj1kLmNvbnRlbnQsZT1hLmNvbnRlbnQuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZylmLmFwcGVuZENoaWxkKHUoZSwhMCxjKSl9cmV0dXJuIGR9ZnVuY3Rpb24gdihhLGIpe2lmKCFifHxEKGEpIT09RChiKSlyZXR1cm4hMTtmb3IodmFyIGM9YjtjO2M9Yy5wYXJlbnROb2RlKWlmKGM9PT1hKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHcoYSl7QShhIGluc3RhbmNlb2YgUikseC5jYWxsKHRoaXMsYSksdGhpcy5wYXJlbnROb2RlXz12b2lkIDAsdGhpcy5maXJzdENoaWxkXz12b2lkIDAsdGhpcy5sYXN0Q2hpbGRfPXZvaWQgMCx0aGlzLm5leHRTaWJsaW5nXz12b2lkIDAsdGhpcy5wcmV2aW91c1NpYmxpbmdfPXZvaWQgMCx0aGlzLnRyZWVTY29wZV89dm9pZCAwfXZhciB4PWEud3JhcHBlcnMuRXZlbnRUYXJnZXQseT1hLndyYXBwZXJzLk5vZGVMaXN0LHo9YS5UcmVlU2NvcGUsQT1hLmFzc2VydCxCPWEuZGVmaW5lV3JhcEdldHRlcixDPWEuZW5xdWV1ZU11dGF0aW9uLEQ9YS5nZXRUcmVlU2NvcGUsRT1hLmlzV3JhcHBlcixGPWEubWl4aW4sRz1hLnJlZ2lzdGVyVHJhbnNpZW50T2JzZXJ2ZXJzLEg9YS5yZWdpc3RlcldyYXBwZXIsST1hLnNldFRyZWVTY29wZSxKPWEudW53cmFwLEs9YS51bndyYXBJZk5lZWRlZCxMPWEud3JhcCxNPWEud3JhcElmTmVlZGVkLE49YS53cmFwcGVycyxPPSExLFA9ZG9jdW1lbnQuaW1wb3J0Tm9kZSxRPXdpbmRvdy5Ob2RlLnByb3RvdHlwZS5jbG9uZU5vZGUsUj13aW5kb3cuTm9kZSxTPXdpbmRvdy5Eb2N1bWVudEZyYWdtZW50LFQ9KFIucHJvdG90eXBlLmFwcGVuZENoaWxkLFIucHJvdG90eXBlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSxVPVIucHJvdG90eXBlLmluc2VydEJlZm9yZSxWPVIucHJvdG90eXBlLnJlbW92ZUNoaWxkLFc9Ui5wcm90b3R5cGUucmVwbGFjZUNoaWxkLFg9L1RyaWRlbnQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksWT1YP2Z1bmN0aW9uKGEsYil7dHJ5e1YuY2FsbChhLGIpfWNhdGNoKGMpe2lmKCEoYSBpbnN0YW5jZW9mIFMpKXRocm93IGN9fTpmdW5jdGlvbihhLGIpe1YuY2FsbChhLGIpfTt3LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHgucHJvdG90eXBlKSxGKHcucHJvdG90eXBlLHthcHBlbmRDaGlsZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbnNlcnRCZWZvcmUoYSxudWxsKX0saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKGEsYyl7YihhKTt2YXIgZDtjP0UoYyk/ZD1KKGMpOihkPWMsYz1MKGQpKTooYz1udWxsLGQ9bnVsbCksYyYmQShjLnBhcmVudE5vZGU9PT10aGlzKTt2YXIgZSxoPWM/Yy5wcmV2aW91c1NpYmxpbmc6dGhpcy5sYXN0Q2hpbGQsaT0hdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSYmIXMoYSk7aWYoZT1pP2coYSk6ZihhLHRoaXMsaCxjKSxpKW4odGhpcyxhKSxxKHRoaXMpLFUuY2FsbCh0aGlzLmltcGwsSihhKSxkKTtlbHNle2h8fCh0aGlzLmZpcnN0Q2hpbGRfPWVbMF0pLGN8fCh0aGlzLmxhc3RDaGlsZF89ZVtlLmxlbmd0aC0xXSk7dmFyIGo9ZD9kLnBhcmVudE5vZGU6dGhpcy5pbXBsO2o/VS5jYWxsKGoscCh0aGlzLGUpLGQpOm8odGhpcyxlKX1yZXR1cm4gQyh0aGlzLCJjaGlsZExpc3QiLHthZGRlZE5vZGVzOmUsbmV4dFNpYmxpbmc6YyxwcmV2aW91c1NpYmxpbmc6aH0pLGsoZSx0aGlzKSxhfSxyZW1vdmVDaGlsZDpmdW5jdGlvbihhKXtpZihiKGEpLGEucGFyZW50Tm9kZSE9PXRoaXMpe2Zvcih2YXIgZD0hMSxlPSh0aGlzLmNoaWxkTm9kZXMsdGhpcy5maXJzdENoaWxkKTtlO2U9ZS5uZXh0U2libGluZylpZihlPT09YSl7ZD0hMDticmVha31pZighZCl0aHJvdyBuZXcgRXJyb3IoIk5vdEZvdW5kRXJyb3IiKX12YXIgZj1KKGEpLGc9YS5uZXh0U2libGluZyxoPWEucHJldmlvdXNTaWJsaW5nO2lmKHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe3ZhciBpPXRoaXMuZmlyc3RDaGlsZCxqPXRoaXMubGFzdENoaWxkLGs9Zi5wYXJlbnROb2RlO2smJlkoayxmKSxpPT09YSYmKHRoaXMuZmlyc3RDaGlsZF89Zyksaj09PWEmJih0aGlzLmxhc3RDaGlsZF89aCksaCYmKGgubmV4dFNpYmxpbmdfPWcpLGcmJihnLnByZXZpb3VzU2libGluZ189aCksYS5wcmV2aW91c1NpYmxpbmdfPWEubmV4dFNpYmxpbmdfPWEucGFyZW50Tm9kZV89dm9pZCAwfWVsc2UgcSh0aGlzKSxZKHRoaXMuaW1wbCxmKTtyZXR1cm4gT3x8Qyh0aGlzLCJjaGlsZExpc3QiLHtyZW1vdmVkTm9kZXM6YyhhKSxuZXh0U2libGluZzpnLHByZXZpb3VzU2libGluZzpofSksRyh0aGlzLGEpLGF9LHJlcGxhY2VDaGlsZDpmdW5jdGlvbihhLGQpe2IoYSk7dmFyIGU7aWYoRShkKT9lPUooZCk6KGU9ZCxkPUwoZSkpLGQucGFyZW50Tm9kZSE9PXRoaXMpdGhyb3cgbmV3IEVycm9yKCJOb3RGb3VuZEVycm9yIik7dmFyIGgsaT1kLm5leHRTaWJsaW5nLGo9ZC5wcmV2aW91c1NpYmxpbmcsbT0hdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSYmIXMoYSk7cmV0dXJuIG0/aD1nKGEpOihpPT09YSYmKGk9YS5uZXh0U2libGluZyksaD1mKGEsdGhpcyxqLGkpKSxtPyhuKHRoaXMsYSkscSh0aGlzKSxXLmNhbGwodGhpcy5pbXBsLEooYSksZSkpOih0aGlzLmZpcnN0Q2hpbGQ9PT1kJiYodGhpcy5maXJzdENoaWxkXz1oWzBdKSx0aGlzLmxhc3RDaGlsZD09PWQmJih0aGlzLmxhc3RDaGlsZF89aFtoLmxlbmd0aC0xXSksZC5wcmV2aW91c1NpYmxpbmdfPWQubmV4dFNpYmxpbmdfPWQucGFyZW50Tm9kZV89dm9pZCAwLGUucGFyZW50Tm9kZSYmVy5jYWxsKGUucGFyZW50Tm9kZSxwKHRoaXMsaCksZSkpLEModGhpcywiY2hpbGRMaXN0Iix7YWRkZWROb2RlczpoLHJlbW92ZWROb2RlczpjKGQpLG5leHRTaWJsaW5nOmkscHJldmlvdXNTaWJsaW5nOmp9KSxsKGQpLGsoaCx0aGlzKSxkfSxub2RlSXNJbnNlcnRlZF86ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWEubm9kZUlzSW5zZXJ0ZWRfKCl9LGhhc0NoaWxkTm9kZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuZmlyc3RDaGlsZH0sZ2V0IHBhcmVudE5vZGUoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5wYXJlbnROb2RlXz90aGlzLnBhcmVudE5vZGVfOkwodGhpcy5pbXBsLnBhcmVudE5vZGUpfSxnZXQgZmlyc3RDaGlsZCgpe3JldHVybiB2b2lkIDAhPT10aGlzLmZpcnN0Q2hpbGRfP3RoaXMuZmlyc3RDaGlsZF86TCh0aGlzLmltcGwuZmlyc3RDaGlsZCl9LGdldCBsYXN0Q2hpbGQoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5sYXN0Q2hpbGRfP3RoaXMubGFzdENoaWxkXzpMKHRoaXMuaW1wbC5sYXN0Q2hpbGQpfSxnZXQgbmV4dFNpYmxpbmcoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5uZXh0U2libGluZ18/dGhpcy5uZXh0U2libGluZ186TCh0aGlzLmltcGwubmV4dFNpYmxpbmcpfSxnZXQgcHJldmlvdXNTaWJsaW5nKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMucHJldmlvdXNTaWJsaW5nXz90aGlzLnByZXZpb3VzU2libGluZ186TCh0aGlzLmltcGwucHJldmlvdXNTaWJsaW5nKX0sZ2V0IHBhcmVudEVsZW1lbnQoKXtmb3IodmFyIGE9dGhpcy5wYXJlbnROb2RlO2EmJmEubm9kZVR5cGUhPT13LkVMRU1FTlRfTk9ERTspYT1hLnBhcmVudE5vZGU7cmV0dXJuIGF9LGdldCB0ZXh0Q29udGVudCgpe2Zvcih2YXIgYT0iIixiPXRoaXMuZmlyc3RDaGlsZDtiO2I9Yi5uZXh0U2libGluZyliLm5vZGVUeXBlIT13LkNPTU1FTlRfTk9ERSYmKGErPWIudGV4dENvbnRlbnQpO3JldHVybiBhfSxzZXQgdGV4dENvbnRlbnQoYSl7dmFyIGI9aSh0aGlzLmNoaWxkTm9kZXMpO2lmKHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe2lmKHIodGhpcyksIiIhPT1hKXt2YXIgYz10aGlzLmltcGwub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhKTt0aGlzLmFwcGVuZENoaWxkKGMpfX1lbHNlIHEodGhpcyksdGhpcy5pbXBsLnRleHRDb250ZW50PWE7dmFyIGQ9aSh0aGlzLmNoaWxkTm9kZXMpO0ModGhpcywiY2hpbGRMaXN0Iix7YWRkZWROb2RlczpkLHJlbW92ZWROb2RlczpifSksbShiKSxrKGQsdGhpcyl9LGdldCBjaGlsZE5vZGVzKCl7Zm9yKHZhciBhPW5ldyB5LGI9MCxjPXRoaXMuZmlyc3RDaGlsZDtjO2M9Yy5uZXh0U2libGluZylhW2IrK109YztyZXR1cm4gYS5sZW5ndGg9YixhfSxjbG9uZU5vZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHUodGhpcyxhKX0sY29udGFpbnM6ZnVuY3Rpb24oYSl7cmV0dXJuIHYodGhpcyxNKGEpKX0sY29tcGFyZURvY3VtZW50UG9zaXRpb246ZnVuY3Rpb24oYSl7cmV0dXJuIFQuY2FsbCh0aGlzLmltcGwsSyhhKSl9LG5vcm1hbGl6ZTpmdW5jdGlvbigpe2Zvcih2YXIgYSxiLGM9aSh0aGlzLmNoaWxkTm9kZXMpLGQ9W10sZT0iIixmPTA7ZjxjLmxlbmd0aDtmKyspYj1jW2ZdLGIubm9kZVR5cGU9PT13LlRFWFRfTk9ERT9hfHxiLmRhdGEubGVuZ3RoP2E/KGUrPWIuZGF0YSxkLnB1c2goYikpOmE9Yjp0aGlzLnJlbW92ZU5vZGUoYik6KGEmJmQubGVuZ3RoJiYoYS5kYXRhKz1lLGNsZWFuVXBOb2RlcyhkKSksZD1bXSxlPSIiLGE9bnVsbCxiLmNoaWxkTm9kZXMubGVuZ3RoJiZiLm5vcm1hbGl6ZSgpKTthJiZkLmxlbmd0aCYmKGEuZGF0YSs9ZSx0KGQpKX19KSxCKHcsIm93bmVyRG9jdW1lbnQiKSxIKFIsdyxkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpLGRlbGV0ZSB3LnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yLGRlbGV0ZSB3LnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yQWxsLHcucHJvdG90eXBlPUYoT2JqZWN0LmNyZWF0ZSh4LnByb3RvdHlwZSksdy5wcm90b3R5cGUpLGEuY2xvbmVOb2RlPXUsYS5ub2RlV2FzQWRkZWQ9aixhLm5vZGVXYXNSZW1vdmVkPWwsYS5ub2Rlc1dlcmVBZGRlZD1rLGEubm9kZXNXZXJlUmVtb3ZlZD1tLGEuc25hcHNob3ROb2RlTGlzdD1pLGEud3JhcHBlcnMuTm9kZT13fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEsYyl7Zm9yKHZhciBkLGU9YS5maXJzdEVsZW1lbnRDaGlsZDtlOyl7aWYoZS5tYXRjaGVzKGMpKXJldHVybiBlO2lmKGQ9YihlLGMpKXJldHVybiBkO2U9ZS5uZXh0RWxlbWVudFNpYmxpbmd9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYyhhLGIpe3JldHVybiBhLm1hdGNoZXMoYil9ZnVuY3Rpb24gZChhLGIsYyl7dmFyIGQ9YS5sb2NhbE5hbWU7cmV0dXJuIGQ9PT1ifHxkPT09YyYmYS5uYW1lc3BhY2VVUkk9PT1sfWZ1bmN0aW9uIGUoKXtyZXR1cm4hMH1mdW5jdGlvbiBmKGEsYil7cmV0dXJuIGEubG9jYWxOYW1lPT09Yn1mdW5jdGlvbiBnKGEsYil7cmV0dXJuIGEubmFtZXNwYWNlVVJJPT09Yn1mdW5jdGlvbiBoKGEsYixjKXtyZXR1cm4gYS5uYW1lc3BhY2VVUkk9PT1iJiZhLmxvY2FsTmFtZT09PWN9ZnVuY3Rpb24gaShhLGIsYyxkLGUpe2Zvcih2YXIgZj1hLmZpcnN0RWxlbWVudENoaWxkO2Y7KWMoZixkLGUpJiYoYltiLmxlbmd0aCsrXT1mKSxpKGYsYixjLGQsZSksZj1mLm5leHRFbGVtZW50U2libGluZztyZXR1cm4gYn12YXIgaj1hLndyYXBwZXJzLkhUTUxDb2xsZWN0aW9uLGs9YS53cmFwcGVycy5Ob2RlTGlzdCxsPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIixtPXtxdWVyeVNlbGVjdG9yOmZ1bmN0aW9uKGEpe3JldHVybiBiKHRoaXMsYSl9LHF1ZXJ5U2VsZWN0b3JBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIGkodGhpcyxuZXcgayxjLGEpfX0sbj17Z2V0RWxlbWVudHNCeVRhZ05hbWU6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGo7cmV0dXJuIioiPT09YT9pKHRoaXMsYixlKTppKHRoaXMsYixkLGEsYS50b0xvd2VyQ2FzZSgpKX0sZ2V0RWxlbWVudHNCeUNsYXNzTmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCIuIithKX0sZ2V0RWxlbWVudHNCeVRhZ05hbWVOUzpmdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBqO2lmKCIiPT09YSlhPW51bGw7ZWxzZSBpZigiKiI9PT1hKXJldHVybiIqIj09PWI/aSh0aGlzLGMsZSk6aSh0aGlzLGMsZixiKTtyZXR1cm4iKiI9PT1iP2kodGhpcyxjLGcsYSk6aSh0aGlzLGMsaCxhLGIpfX07YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlPW4sYS5TZWxlY3RvcnNJbnRlcmZhY2U9bX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtmb3IoO2EmJmEubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERTspYT1hLm5leHRTaWJsaW5nO3JldHVybiBhfWZ1bmN0aW9uIGMoYSl7Zm9yKDthJiZhLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWE9YS5wcmV2aW91c1NpYmxpbmc7cmV0dXJuIGF9dmFyIGQ9YS53cmFwcGVycy5Ob2RlTGlzdCxlPXtnZXQgZmlyc3RFbGVtZW50Q2hpbGQoKXtyZXR1cm4gYih0aGlzLmZpcnN0Q2hpbGQpfSxnZXQgbGFzdEVsZW1lbnRDaGlsZCgpe3JldHVybiBjKHRoaXMubGFzdENoaWxkKX0sZ2V0IGNoaWxkRWxlbWVudENvdW50KCl7Zm9yKHZhciBhPTAsYj10aGlzLmZpcnN0RWxlbWVudENoaWxkO2I7Yj1iLm5leHRFbGVtZW50U2libGluZylhKys7cmV0dXJuIGF9LGdldCBjaGlsZHJlbigpe2Zvcih2YXIgYT1uZXcgZCxiPTAsYz10aGlzLmZpcnN0RWxlbWVudENoaWxkO2M7Yz1jLm5leHRFbGVtZW50U2libGluZylhW2IrK109YztyZXR1cm4gYS5sZW5ndGg9YixhfSxyZW1vdmU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBhcmVudE5vZGU7YSYmYS5yZW1vdmVDaGlsZCh0aGlzKX19LGY9e2dldCBuZXh0RWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gYih0aGlzLm5leHRTaWJsaW5nKX0sZ2V0IHByZXZpb3VzRWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gYyh0aGlzLnByZXZpb3VzU2libGluZyl9fTthLkNoaWxkTm9kZUludGVyZmFjZT1mLGEuUGFyZW50Tm9kZUludGVyZmFjZT1lfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2QuY2FsbCh0aGlzLGEpfXZhciBjPWEuQ2hpbGROb2RlSW50ZXJmYWNlLGQ9YS53cmFwcGVycy5Ob2RlLGU9YS5lbnF1ZXVlTXV0YXRpb24sZj1hLm1peGluLGc9YS5yZWdpc3RlcldyYXBwZXIsaD13aW5kb3cuQ2hhcmFjdGVyRGF0YTtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxmKGIucHJvdG90eXBlLHtnZXQgdGV4dENvbnRlbnQoKXtyZXR1cm4gdGhpcy5kYXRhfSxzZXQgdGV4dENvbnRlbnQoYSl7dGhpcy5kYXRhPWF9LGdldCBkYXRhKCl7cmV0dXJuIHRoaXMuaW1wbC5kYXRhfSxzZXQgZGF0YShhKXt2YXIgYj10aGlzLmltcGwuZGF0YTtlKHRoaXMsImNoYXJhY3RlckRhdGEiLHtvbGRWYWx1ZTpifSksdGhpcy5pbXBsLmRhdGE9YX19KSxmKGIucHJvdG90eXBlLGMpLGcoaCxiLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKSksYS53cmFwcGVycy5DaGFyYWN0ZXJEYXRhPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGE+Pj4wfWZ1bmN0aW9uIGMoYSl7ZC5jYWxsKHRoaXMsYSl9dmFyIGQ9YS53cmFwcGVycy5DaGFyYWN0ZXJEYXRhLGU9KGEuZW5xdWV1ZU11dGF0aW9uLGEubWl4aW4pLGY9YS5yZWdpc3RlcldyYXBwZXIsZz13aW5kb3cuVGV4dDtjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxlKGMucHJvdG90eXBlLHtzcGxpdFRleHQ6ZnVuY3Rpb24oYSl7YT1iKGEpO3ZhciBjPXRoaXMuZGF0YTtpZihhPmMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW5kZXhTaXplRXJyb3IiKTt2YXIgZD1jLnNsaWNlKDAsYSksZT1jLnNsaWNlKGEpO3RoaXMuZGF0YT1kO3ZhciBmPXRoaXMub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKTtyZXR1cm4gdGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGYsdGhpcy5uZXh0U2libGluZyksZn19KSxmKGcsYyxkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIikpLGEud3JhcHBlcnMuVGV4dD1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGIsYyl7dmFyIGQ9Yi5wYXJlbnROb2RlO2lmKGQmJmQuc2hhZG93Um9vdCl7dmFyIGU9YS5nZXRSZW5kZXJlckZvckhvc3QoZCk7ZS5kZXBlbmRzT25BdHRyaWJ1dGUoYykmJmUuaW52YWxpZGF0ZSgpfX1mdW5jdGlvbiBjKGEsYixjKXtrKGEsImF0dHJpYnV0ZXMiLHtuYW1lOmIsbmFtZXNwYWNlOm51bGwsb2xkVmFsdWU6Y30pfWZ1bmN0aW9uIGQoYSl7aC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gZShhLGMsZCl7dmFyIGU9ZHx8YztPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxjLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsW2NdfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsW2NdPWEsYih0aGlzLGUpfSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pfXZhciBmPWEuQ2hpbGROb2RlSW50ZXJmYWNlLGc9YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLGg9YS53cmFwcGVycy5Ob2RlLGk9YS5QYXJlbnROb2RlSW50ZXJmYWNlLGo9YS5TZWxlY3RvcnNJbnRlcmZhY2Usaz0oYS5hZGRXcmFwTm9kZUxpc3RNZXRob2QsYS5lbnF1ZXVlTXV0YXRpb24pLGw9YS5taXhpbixtPShhLm9uZU9mLGEucmVnaXN0ZXJXcmFwcGVyKSxuPWEud3JhcHBlcnMsbz13aW5kb3cuRWxlbWVudCxwPVsibWF0Y2hlcyIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIl0uZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBvLnByb3RvdHlwZVthXX0pLHE9cFswXSxyPW8ucHJvdG90eXBlW3FdO2QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaC5wcm90b3R5cGUpLGwoZC5wcm90b3R5cGUse2NyZWF0ZVNoYWRvd1Jvb3Q6ZnVuY3Rpb24oKXt2YXIgYj1uZXcgbi5TaGFkb3dSb290KHRoaXMpO3RoaXMuaW1wbC5wb2x5bWVyU2hhZG93Um9vdF89Yjt2YXIgYz1hLmdldFJlbmRlcmVyRm9ySG9zdCh0aGlzKTtyZXR1cm4gYy5pbnZhbGlkYXRlKCksYn0sZ2V0IHNoYWRvd1Jvb3QoKXtyZXR1cm4gdGhpcy5pbXBsLnBvbHltZXJTaGFkb3dSb290X3x8bnVsbH0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKGEsZCl7dmFyIGU9dGhpcy5pbXBsLmdldEF0dHJpYnV0ZShhKTt0aGlzLmltcGwuc2V0QXR0cmlidXRlKGEsZCksYyh0aGlzLGEsZSksYih0aGlzLGEpfSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy5pbXBsLmdldEF0dHJpYnV0ZShhKTt0aGlzLmltcGwucmVtb3ZlQXR0cmlidXRlKGEpLGModGhpcyxhLGQpLGIodGhpcyxhKX0sbWF0Y2hlczpmdW5jdGlvbihhKXtyZXR1cm4gci5jYWxsKHRoaXMuaW1wbCxhKX19KSxwLmZvckVhY2goZnVuY3Rpb24oYSl7Im1hdGNoZXMiIT09YSYmKGQucHJvdG90eXBlW2FdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1hdGNoZXMoYSl9KX0pLG8ucHJvdG90eXBlLndlYmtpdENyZWF0ZVNoYWRvd1Jvb3QmJihkLnByb3RvdHlwZS53ZWJraXRDcmVhdGVTaGFkb3dSb290PWQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3QpLGUoZC5wcm90b3R5cGUsImlkIiksZShkLnByb3RvdHlwZSwiY2xhc3NOYW1lIiwiY2xhc3MiKSxsKGQucHJvdG90eXBlLGYpLGwoZC5wcm90b3R5cGUsZyksbChkLnByb3RvdHlwZSxpKSxsKGQucHJvdG90eXBlLGopLG0obyxkLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhudWxsLCJ4IikpLGEubWF0Y2hlc05hbWVzPXAsYS53cmFwcGVycy5FbGVtZW50PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7c3dpdGNoKGEpe2Nhc2UiJiI6cmV0dXJuIiZhbXA7IjtjYXNlIjwiOnJldHVybiImbHQ7IjtjYXNlIj4iOnJldHVybiImZ3Q7IjtjYXNlJyInOnJldHVybiImcXVvdDsiO2Nhc2UiXHhhMCI6cmV0dXJuIiZuYnNwOyJ9fWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGEucmVwbGFjZSh6LGIpfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGEucmVwbGFjZShBLGIpfWZ1bmN0aW9uIGUoYSl7Zm9yKHZhciBiPXt9LGM9MDtjPGEubGVuZ3RoO2MrKyliW2FbY11dPSEwO3JldHVybiBifWZ1bmN0aW9uIGYoYSxiKXtzd2l0Y2goYS5ub2RlVHlwZSl7Y2FzZSBOb2RlLkVMRU1FTlRfTk9ERTpmb3IodmFyIGUsZj1hLnRhZ05hbWUudG9Mb3dlckNhc2UoKSxoPSI8IitmLGk9YS5hdHRyaWJ1dGVzLGo9MDtlPWlbal07aisrKWgrPSIgIitlLm5hbWUrJz0iJytjKGUudmFsdWUpKyciJztyZXR1cm4gaCs9Ij4iLEJbZl0/aDpoK2coYSkrIjwvIitmKyI+IjtjYXNlIE5vZGUuVEVYVF9OT0RFOnZhciBrPWEuZGF0YTtyZXR1cm4gYiYmQ1tiLmxvY2FsTmFtZV0/azpkKGspO2Nhc2UgTm9kZS5DT01NRU5UX05PREU6cmV0dXJuIjwhLS0iK2EuZGF0YSsiLS0+IjtkZWZhdWx0OnRocm93IGNvbnNvbGUuZXJyb3IoYSksbmV3IEVycm9yKCJub3QgaW1wbGVtZW50ZWQiKX19ZnVuY3Rpb24gZyhhKXthIGluc3RhbmNlb2YgeS5IVE1MVGVtcGxhdGVFbGVtZW50JiYoYT1hLmNvbnRlbnQpO2Zvcih2YXIgYj0iIixjPWEuZmlyc3RDaGlsZDtjO2M9Yy5uZXh0U2libGluZyliKz1mKGMsYSk7cmV0dXJuIGJ9ZnVuY3Rpb24gaChhLGIsYyl7dmFyIGQ9Y3x8ImRpdiI7YS50ZXh0Q29udGVudD0iIjt2YXIgZT13KGEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KGQpKTtlLmlubmVySFRNTD1iO2Zvcih2YXIgZjtmPWUuZmlyc3RDaGlsZDspYS5hcHBlbmRDaGlsZCh4KGYpKX1mdW5jdGlvbiBpKGEpe28uY2FsbCh0aGlzLGEpfWZ1bmN0aW9uIGooYSxiKXt2YXIgYz13KGEuY2xvbmVOb2RlKCExKSk7Yy5pbm5lckhUTUw9Yjtmb3IodmFyIGQsZT13KGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7ZD1jLmZpcnN0Q2hpbGQ7KWUuYXBwZW5kQ2hpbGQoZCk7cmV0dXJuIHgoZSl9ZnVuY3Rpb24gayhiKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5yZW5kZXJBbGxQZW5kaW5nKCksdGhpcy5pbXBsW2JdfX1mdW5jdGlvbiBsKGEpe3AoaSxhLGsoYSkpfWZ1bmN0aW9uIG0oYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLGIse2dldDprKGIpLHNldDpmdW5jdGlvbihjKXthLnJlbmRlckFsbFBlbmRpbmcoKSx0aGlzLmltcGxbYl09Y30sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9KX1mdW5jdGlvbiBuKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxiLHt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBhLnJlbmRlckFsbFBlbmRpbmcoKSx0aGlzLmltcGxbYl0uYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyl9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSl9dmFyIG89YS53cmFwcGVycy5FbGVtZW50LHA9YS5kZWZpbmVHZXR0ZXIscT1hLmVucXVldWVNdXRhdGlvbixyPWEubWl4aW4scz1hLm5vZGVzV2VyZUFkZGVkLHQ9YS5ub2Rlc1dlcmVSZW1vdmVkLHU9YS5yZWdpc3RlcldyYXBwZXIsdj1hLnNuYXBzaG90Tm9kZUxpc3Qsdz1hLnVud3JhcCx4PWEud3JhcCx5PWEud3JhcHBlcnMsej0vWyZcdTAwQTAiXS9nLEE9L1smXHUwMEEwPD5dL2csQj1lKFsiYXJlYSIsImJhc2UiLCJiciIsImNvbCIsImNvbW1hbmQiLCJlbWJlZCIsImhyIiwiaW1nIiwiaW5wdXQiLCJrZXlnZW4iLCJsaW5rIiwibWV0YSIsInBhcmFtIiwic291cmNlIiwidHJhY2siLCJ3YnIiXSksQz1lKFsic3R5bGUiLCJzY3JpcHQiLCJ4bXAiLCJpZnJhbWUiLCJub2VtYmVkIiwibm9mcmFtZXMiLCJwbGFpbnRleHQiLCJub3NjcmlwdCJdKSxEPS9NU0lFLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLEU9d2luZG93LkhUTUxFbGVtZW50LEY9d2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQ7aS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkscihpLnByb3RvdHlwZSx7Z2V0IGlubmVySFRNTCgpe3JldHVybiBnKHRoaXMpfSxzZXQgaW5uZXJIVE1MKGEpe2lmKEQmJkNbdGhpcy5sb2NhbE5hbWVdKXJldHVybiB2b2lkKHRoaXMudGV4dENvbnRlbnQ9YSk7dmFyIGI9dih0aGlzLmNoaWxkTm9kZXMpO3RoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCk/dGhpcyBpbnN0YW5jZW9mIHkuSFRNTFRlbXBsYXRlRWxlbWVudD9oKHRoaXMuY29udGVudCxhKTpoKHRoaXMsYSx0aGlzLnRhZ05hbWUpOiFGJiZ0aGlzIGluc3RhbmNlb2YgeS5IVE1MVGVtcGxhdGVFbGVtZW50P2godGhpcy5jb250ZW50LGEpOnRoaXMuaW1wbC5pbm5lckhUTUw9YTt2YXIgYz12KHRoaXMuY2hpbGROb2Rlcyk7cSh0aGlzLCJjaGlsZExpc3QiLHthZGRlZE5vZGVzOmMscmVtb3ZlZE5vZGVzOmJ9KSx0KGIpLHMoYyx0aGlzKX0sZ2V0IG91dGVySFRNTCgpe3JldHVybiBmKHRoaXMsdGhpcy5wYXJlbnROb2RlKX0sc2V0IG91dGVySFRNTChhKXt2YXIgYj10aGlzLnBhcmVudE5vZGU7aWYoYil7Yi5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKTt2YXIgYz1qKGIsYSk7Yi5yZXBsYWNlQ2hpbGQoYyx0aGlzKX19LGluc2VydEFkamFjZW50SFRNTDpmdW5jdGlvbihhLGIpe3ZhciBjLGQ7c3dpdGNoKFN0cmluZyhhKS50b0xvd2VyQ2FzZSgpKXtjYXNlImJlZm9yZWJlZ2luIjpjPXRoaXMucGFyZW50Tm9kZSxkPXRoaXM7YnJlYWs7Y2FzZSJhZnRlcmVuZCI6Yz10aGlzLnBhcmVudE5vZGUsZD10aGlzLm5leHRTaWJsaW5nO2JyZWFrO2Nhc2UiYWZ0ZXJiZWdpbiI6Yz10aGlzLGQ9dGhpcy5maXJzdENoaWxkO2JyZWFrO2Nhc2UiYmVmb3JlZW5kIjpjPXRoaXMsZD1udWxsO2JyZWFrO2RlZmF1bHQ6cmV0dXJufXZhciBlPWooYyxiKTtjLmluc2VydEJlZm9yZShlLGQpfX0pLFsiY2xpZW50SGVpZ2h0IiwiY2xpZW50TGVmdCIsImNsaWVudFRvcCIsImNsaWVudFdpZHRoIiwib2Zmc2V0SGVpZ2h0Iiwib2Zmc2V0TGVmdCIsIm9mZnNldFRvcCIsIm9mZnNldFdpZHRoIiwic2Nyb2xsSGVpZ2h0Iiwic2Nyb2xsV2lkdGgiXS5mb3JFYWNoKGwpLFsic2Nyb2xsTGVmdCIsInNjcm9sbFRvcCJdLmZvckVhY2gobSksWyJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJnZXRDbGllbnRSZWN0cyIsInNjcm9sbEludG9WaWV3Il0uZm9yRWFjaChuKSx1KEUsaSxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiIikpLGEud3JhcHBlcnMuSFRNTEVsZW1lbnQ9aSxhLmdldElubmVySFRNTD1nLGEuc2V0SW5uZXJIVE1MPWh9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEud3JhcCxnPXdpbmRvdy5IVE1MQ2FudmFzRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtnZXRDb250ZXh0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pbXBsLmdldENvbnRleHQuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyk7cmV0dXJuIGEmJmYoYSl9fSksZShnLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikpLGEud3JhcHBlcnMuSFRNTENhbnZhc0VsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9d2luZG93LkhUTUxDb250ZW50RWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtnZXQgc2VsZWN0KCl7cmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKCJzZWxlY3QiKX0sc2V0IHNlbGVjdChhKXt0aGlzLnNldEF0dHJpYnV0ZSgic2VsZWN0IixhKX0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKGEsYil7Yy5wcm90b3R5cGUuc2V0QXR0cmlidXRlLmNhbGwodGhpcyxhLGIpLCJzZWxlY3QiPT09U3RyaW5nKGEpLnRvTG93ZXJDYXNlKCkmJnRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCEwKX19KSxmJiZlKGYsYiksYS53cmFwcGVycy5IVE1MQ29udGVudEVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtkLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBjKGEsYil7aWYoISh0aGlzIGluc3RhbmNlb2YgYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiRE9NIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uIik7dmFyIGU9Zihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKSk7ZC5jYWxsKHRoaXMsZSksZyhlLHRoaXMpLHZvaWQgMCE9PWEmJihlLndpZHRoPWEpLHZvaWQgMCE9PWImJihlLmhlaWdodD1iKX12YXIgZD1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLnVud3JhcCxnPWEucmV3cmFwLGg9d2luZG93LkhUTUxJbWFnZUVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSksZShoLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIikpLGMucHJvdG90eXBlPWIucHJvdG90eXBlLGEud3JhcHBlcnMuSFRNTEltYWdlRWxlbWVudD1iLGEud3JhcHBlcnMuSW1hZ2U9Y30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9KGEubWl4aW4sYS53cmFwcGVycy5Ob2RlTGlzdCxhLnJlZ2lzdGVyV3JhcHBlciksZT13aW5kb3cuSFRNTFNoYWRvd0VsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZSYmZChlLGIpLGEud3JhcHBlcnMuSFRNTFNoYWRvd0VsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtpZighYS5kZWZhdWx0VmlldylyZXR1cm4gYTt2YXIgYj1rLmdldChhKTtpZighYil7Zm9yKGI9YS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpO2IubGFzdENoaWxkOyliLnJlbW92ZUNoaWxkKGIubGFzdENoaWxkKTtrLnNldChhLGIpfXJldHVybiBifWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBjLGQ9YihhLm93bmVyRG9jdW1lbnQpLGU9aChkLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7Yz1hLmZpcnN0Q2hpbGQ7KWUuYXBwZW5kQ2hpbGQoYyk7cmV0dXJuIGV9ZnVuY3Rpb24gZChhKXtpZihlLmNhbGwodGhpcyxhKSwhbCl7dmFyIGI9YyhhKTtqLnNldCh0aGlzLGkoYikpfX12YXIgZT1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGY9YS5taXhpbixnPWEucmVnaXN0ZXJXcmFwcGVyLGg9YS51bndyYXAsaT1hLndyYXAsaj1uZXcgV2Vha01hcCxrPW5ldyBXZWFrTWFwLGw9d2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQ7ZC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSksZihkLnByb3RvdHlwZSx7Z2V0IGNvbnRlbnQoKXtyZXR1cm4gbD9pKHRoaXMuaW1wbC5jb250ZW50KTpqLmdldCh0aGlzKX19KSxsJiZnKGwsZCksYS53cmFwcGVycy5IVE1MVGVtcGxhdGVFbGVtZW50PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEucmVnaXN0ZXJXcmFwcGVyLGU9d2luZG93LkhUTUxNZWRpYUVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChlLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYXVkaW8iKSksYS53cmFwcGVycy5IVE1MTWVkaWFFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7ZC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gYyhhKXtpZighKHRoaXMgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4iKTt2YXIgYj1mKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImF1ZGlvIikpO2QuY2FsbCh0aGlzLGIpLGcoYix0aGlzKSxiLnNldEF0dHJpYnV0ZSgicHJlbG9hZCIsImF1dG8iKSx2b2lkIDAhPT1hJiZiLnNldEF0dHJpYnV0ZSgic3JjIixhKX12YXIgZD1hLndyYXBwZXJzLkhUTUxNZWRpYUVsZW1lbnQsZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW53cmFwLGc9YS5yZXdyYXAsaD13aW5kb3cuSFRNTEF1ZGlvRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxlKGgsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpKSxjLnByb3RvdHlwZT1iLnByb3RvdHlwZSxhLndyYXBwZXJzLkhUTUxBdWRpb0VsZW1lbnQ9YixhLndyYXBwZXJzLkF1ZGlvPWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGEucmVwbGFjZSgvXHMrL2csIiAiKS50cmltKCl9ZnVuY3Rpb24gYyhhKXtlLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBkKGEsYixjLGYpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkRPTSBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLiIpO3ZhciBnPWkoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpO2UuY2FsbCh0aGlzLGcpLGgoZyx0aGlzKSx2b2lkIDAhPT1hJiYoZy50ZXh0PWEpLHZvaWQgMCE9PWImJmcuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsYiksYz09PSEwJiZnLnNldEF0dHJpYnV0ZSgic2VsZWN0ZWQiLCIiKSxnLnNlbGVjdGVkPWY9PT0hMH12YXIgZT1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGY9YS5taXhpbixnPWEucmVnaXN0ZXJXcmFwcGVyLGg9YS5yZXdyYXAsaT1hLnVud3JhcCxqPWEud3JhcCxrPXdpbmRvdy5IVE1MT3B0aW9uRWxlbWVudDtjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlKSxmKGMucHJvdG90eXBlLHtnZXQgdGV4dCgpe3JldHVybiBiKHRoaXMudGV4dENvbnRlbnQpfSxzZXQgdGV4dChhKXt0aGlzLnRleHRDb250ZW50PWIoU3RyaW5nKGEpKX0sZ2V0IGZvcm0oKXtyZXR1cm4gaihpKHRoaXMpLmZvcm0pfX0pLGcoayxjLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKSxkLnByb3RvdHlwZT1jLnByb3RvdHlwZSxhLndyYXBwZXJzLkhUTUxPcHRpb25FbGVtZW50PWMsYS53cmFwcGVycy5PcHRpb249ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS51bndyYXAsZz1hLndyYXAsaD13aW5kb3cuSFRNTFNlbGVjdEVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7YWRkOmZ1bmN0aW9uKGEsYil7Im9iamVjdCI9PXR5cGVvZiBiJiYoYj1mKGIpKSxmKHRoaXMpLmFkZChmKGEpLGIpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMD09PWE/dm9pZCBjLnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzKTooIm9iamVjdCI9PXR5cGVvZiBhJiYoYT1mKGEpKSx2b2lkIGYodGhpcykucmVtb3ZlKGEpKX0sZ2V0IGZvcm0oKXtyZXR1cm4gZyhmKHRoaXMpLmZvcm0pfX0pLGUoaCxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpKSxhLndyYXBwZXJzLkhUTUxTZWxlY3RFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW53cmFwLGc9YS53cmFwLGg9YS53cmFwSFRNTENvbGxlY3Rpb24saT13aW5kb3cuSFRNTFRhYmxlRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtnZXQgY2FwdGlvbigpe3JldHVybiBnKGYodGhpcykuY2FwdGlvbil9LGNyZWF0ZUNhcHRpb246ZnVuY3Rpb24oKXtyZXR1cm4gZyhmKHRoaXMpLmNyZWF0ZUNhcHRpb24oKSl9LGdldCB0SGVhZCgpe3JldHVybiBnKGYodGhpcykudEhlYWQpfSxjcmVhdGVUSGVhZDpmdW5jdGlvbigpe3JldHVybiBnKGYodGhpcykuY3JlYXRlVEhlYWQoKSl9LGNyZWF0ZVRGb290OmZ1bmN0aW9uKCl7cmV0dXJuIGcoZih0aGlzKS5jcmVhdGVURm9vdCgpKX0sZ2V0IHRGb290KCl7cmV0dXJuIGcoZih0aGlzKS50Rm9vdCl9LGdldCB0Qm9kaWVzKCl7cmV0dXJuIGgoZih0aGlzKS50Qm9kaWVzKX0sY3JlYXRlVEJvZHk6ZnVuY3Rpb24oKXtyZXR1cm4gZyhmKHRoaXMpLmNyZWF0ZVRCb2R5KCkpfSxnZXQgcm93cygpe3JldHVybiBoKGYodGhpcykucm93cyl9LGluc2VydFJvdzpmdW5jdGlvbihhKXtyZXR1cm4gZyhmKHRoaXMpLmluc2VydFJvdyhhKSl9fSksZShpLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKSksYS53cmFwcGVycy5IVE1MVGFibGVFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEud3JhcEhUTUxDb2xsZWN0aW9uLGc9YS51bndyYXAsaD1hLndyYXAsaT13aW5kb3cuSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7Z2V0IHJvd3MoKXtyZXR1cm4gZihnKHRoaXMpLnJvd3MpfSxpbnNlcnRSb3c6ZnVuY3Rpb24oYSl7cmV0dXJuIGgoZyh0aGlzKS5pbnNlcnRSb3coYSkpfX0pLGUoaSxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRoZWFkIikpLGEud3JhcHBlcnMuSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS53cmFwSFRNTENvbGxlY3Rpb24sZz1hLnVud3JhcCxoPWEud3JhcCxpPXdpbmRvdy5IVE1MVGFibGVSb3dFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldCBjZWxscygpe3JldHVybiBmKGcodGhpcykuY2VsbHMpfSxpbnNlcnRDZWxsOmZ1bmN0aW9uKGEpe3JldHVybiBoKGcodGhpcykuaW5zZXJ0Q2VsbChhKSl9fSksZShpLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKSksYS53cmFwcGVycy5IVE1MVGFibGVSb3dFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7c3dpdGNoKGEubG9jYWxOYW1lKXtjYXNlImNvbnRlbnQiOnJldHVybiBuZXcgYyhhKTtjYXNlInNoYWRvdyI6cmV0dXJuIG5ldyBlKGEpO2Nhc2UidGVtcGxhdGUiOnJldHVybiBuZXcgZihhKX1kLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxDb250ZW50RWxlbWVudCxkPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZT1hLndyYXBwZXJzLkhUTUxTaGFkb3dFbGVtZW50LGY9YS53cmFwcGVycy5IVE1MVGVtcGxhdGVFbGVtZW50LGc9KGEubWl4aW4sYS5yZWdpc3RlcldyYXBwZXIpLGg9d2luZG93LkhUTUxVbmtub3duRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxnKGgsYiksYS53cmFwcGVycy5IVE1MVW5rbm93bkVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7dmFyIGI9YS5yZWdpc3Rlck9iamVjdCxjPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoYywidGl0bGUiKSxlPWIoZCksZj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZS5wcm90b3R5cGUpLmNvbnN0cnVjdG9yO2Eud3JhcHBlcnMuU1ZHRWxlbWVudD1mfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe20uY2FsbCh0aGlzLGEpfXZhciBjPWEubWl4aW4sZD1hLnJlZ2lzdGVyV3JhcHBlcixlPWEudW53cmFwLGY9YS53cmFwLGc9d2luZG93LlNWR1VzZUVsZW1lbnQsaD0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLGk9Zihkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoaCwiZyIpKSxqPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhoLCJ1c2UiKSxrPWkuY29uc3RydWN0b3IsbD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yoay5wcm90b3R5cGUpLG09bC5jb25zdHJ1Y3RvcjtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGwpLCJpbnN0YW5jZVJvb3QiaW4gaiYmYyhiLnByb3RvdHlwZSx7Z2V0IGluc3RhbmNlUm9vdCgpe3JldHVybiBmKGUodGhpcykuaW5zdGFuY2VSb290KX0sZ2V0IGFuaW1hdGVkSW5zdGFuY2VSb290KCl7cmV0dXJuIGYoZSh0aGlzKS5hbmltYXRlZEluc3RhbmNlUm9vdCl9fSksZChnLGIsaiksYS53cmFwcGVycy5TVkdVc2VFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5FdmVudFRhcmdldCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEud3JhcCxnPXdpbmRvdy5TVkdFbGVtZW50SW5zdGFuY2U7ZyYmKGIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldCBjb3JyZXNwb25kaW5nRWxlbWVudCgpe3JldHVybiBmKHRoaXMuaW1wbC5jb3JyZXNwb25kaW5nRWxlbWVudCl9LGdldCBjb3JyZXNwb25kaW5nVXNlRWxlbWVudCgpe3JldHVybiBmKHRoaXMuaW1wbC5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCl9LGdldCBwYXJlbnROb2RlKCl7cmV0dXJuIGYodGhpcy5pbXBsLnBhcmVudE5vZGUpfSxnZXQgY2hpbGROb2Rlcygpe3Rocm93IG5ldyBFcnJvcigiTm90IGltcGxlbWVudGVkIil9LGdldCBmaXJzdENoaWxkKCl7cmV0dXJuIGYodGhpcy5pbXBsLmZpcnN0Q2hpbGQpfSxnZXQgbGFzdENoaWxkKCl7cmV0dXJuIGYodGhpcy5pbXBsLmxhc3RDaGlsZCl9LGdldCBwcmV2aW91c1NpYmxpbmcoKXtyZXR1cm4gZih0aGlzLmltcGwucHJldmlvdXNTaWJsaW5nKX0sZ2V0IG5leHRTaWJsaW5nKCl7cmV0dXJuIGYodGhpcy5pbXBsLm5leHRTaWJsaW5nKX19KSxlKGcsYiksYS53cmFwcGVycy5TVkdFbGVtZW50SW5zdGFuY2U9Yil9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dGhpcy5pbXBsPWF9dmFyIGM9YS5taXhpbixkPWEucmVnaXN0ZXJXcmFwcGVyLGU9YS51bndyYXAsZj1hLnVud3JhcElmTmVlZGVkLGc9YS53cmFwLGg9d2luZG93LkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtjKGIucHJvdG90eXBlLHtnZXQgY2FudmFzKCl7cmV0dXJuIGcodGhpcy5pbXBsLmNhbnZhcyl9LGRyYXdJbWFnZTpmdW5jdGlvbigpe2FyZ3VtZW50c1swXT1mKGFyZ3VtZW50c1swXSksdGhpcy5pbXBsLmRyYXdJbWFnZS5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX0sY3JlYXRlUGF0dGVybjpmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF09ZShhcmd1bWVudHNbMF0pLHRoaXMuaW1wbC5jcmVhdGVQYXR0ZXJuLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfX0pLGQoaCxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLmdldENvbnRleHQoIjJkIikpLGEud3JhcHBlcnMuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dGhpcy5pbXBsPWF9dmFyIGM9YS5taXhpbixkPWEucmVnaXN0ZXJXcmFwcGVyLGU9YS51bndyYXBJZk5lZWRlZCxmPWEud3JhcCxnPXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQ7aWYoZyl7YyhiLnByb3RvdHlwZSx7Z2V0IGNhbnZhcygpe3JldHVybiBmKHRoaXMuaW1wbC5jYW52YXMpfSx0ZXhJbWFnZTJEOmZ1bmN0aW9uKCl7YXJndW1lbnRzWzVdPWUoYXJndW1lbnRzWzVdKSx0aGlzLmltcGwudGV4SW1hZ2UyRC5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX0sdGV4U3ViSW1hZ2UyRDpmdW5jdGlvbigpe2FyZ3VtZW50c1s2XT1lKGFyZ3VtZW50c1s2XSksdGhpcy5pbXBsLnRleFN1YkltYWdlMkQuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cykKfX0pO3ZhciBoPS9XZWJLaXQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk/e2RyYXdpbmdCdWZmZXJIZWlnaHQ6bnVsbCxkcmF3aW5nQnVmZmVyV2lkdGg6bnVsbH06e307ZChnLGIsaCksYS53cmFwcGVycy5XZWJHTFJlbmRlcmluZ0NvbnRleHQ9Yn19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dGhpcy5pbXBsPWF9dmFyIGM9YS5yZWdpc3RlcldyYXBwZXIsZD1hLnVud3JhcCxlPWEudW53cmFwSWZOZWVkZWQsZj1hLndyYXAsZz13aW5kb3cuUmFuZ2U7Yi5wcm90b3R5cGU9e2dldCBzdGFydENvbnRhaW5lcigpe3JldHVybiBmKHRoaXMuaW1wbC5zdGFydENvbnRhaW5lcil9LGdldCBlbmRDb250YWluZXIoKXtyZXR1cm4gZih0aGlzLmltcGwuZW5kQ29udGFpbmVyKX0sZ2V0IGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKCl7cmV0dXJuIGYodGhpcy5pbXBsLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKX0sc2V0U3RhcnQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmltcGwuc2V0U3RhcnQoZShhKSxiKX0sc2V0RW5kOmZ1bmN0aW9uKGEsYil7dGhpcy5pbXBsLnNldEVuZChlKGEpLGIpfSxzZXRTdGFydEJlZm9yZTpmdW5jdGlvbihhKXt0aGlzLmltcGwuc2V0U3RhcnRCZWZvcmUoZShhKSl9LHNldFN0YXJ0QWZ0ZXI6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNldFN0YXJ0QWZ0ZXIoZShhKSl9LHNldEVuZEJlZm9yZTpmdW5jdGlvbihhKXt0aGlzLmltcGwuc2V0RW5kQmVmb3JlKGUoYSkpfSxzZXRFbmRBZnRlcjpmdW5jdGlvbihhKXt0aGlzLmltcGwuc2V0RW5kQWZ0ZXIoZShhKSl9LHNlbGVjdE5vZGU6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNlbGVjdE5vZGUoZShhKSl9LHNlbGVjdE5vZGVDb250ZW50czpmdW5jdGlvbihhKXt0aGlzLmltcGwuc2VsZWN0Tm9kZUNvbnRlbnRzKGUoYSkpfSxjb21wYXJlQm91bmRhcnlQb2ludHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pbXBsLmNvbXBhcmVCb3VuZGFyeVBvaW50cyhhLGQoYikpfSxleHRyYWN0Q29udGVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLmltcGwuZXh0cmFjdENvbnRlbnRzKCkpfSxjbG9uZUNvbnRlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcy5pbXBsLmNsb25lQ29udGVudHMoKSl9LGluc2VydE5vZGU6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLmluc2VydE5vZGUoZShhKSl9LHN1cnJvdW5kQ29udGVudHM6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnN1cnJvdW5kQ29udGVudHMoZShhKSl9LGNsb25lUmFuZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLmltcGwuY2xvbmVSYW5nZSgpKX0saXNQb2ludEluUmFuZ2U6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pbXBsLmlzUG9pbnRJblJhbmdlKGUoYSksYil9LGNvbXBhcmVQb2ludDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmltcGwuY29tcGFyZVBvaW50KGUoYSksYil9LGludGVyc2VjdHNOb2RlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmltcGwuaW50ZXJzZWN0c05vZGUoZShhKSl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1wbC50b1N0cmluZygpfX0sZy5wcm90b3R5cGUuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50JiYoYi5wcm90b3R5cGUuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50PWZ1bmN0aW9uKGEpe3JldHVybiBmKHRoaXMuaW1wbC5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoYSkpfSksYyh3aW5kb3cuUmFuZ2UsYixkb2N1bWVudC5jcmVhdGVSYW5nZSgpKSxhLndyYXBwZXJzLlJhbmdlPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO3ZhciBiPWEuR2V0RWxlbWVudHNCeUludGVyZmFjZSxjPWEuUGFyZW50Tm9kZUludGVyZmFjZSxkPWEuU2VsZWN0b3JzSW50ZXJmYWNlLGU9YS5taXhpbixmPWEucmVnaXN0ZXJPYmplY3QsZz1mKGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7ZShnLnByb3RvdHlwZSxjKSxlKGcucHJvdG90eXBlLGQpLGUoZy5wcm90b3R5cGUsYik7dmFyIGg9Zihkb2N1bWVudC5jcmVhdGVDb21tZW50KCIiKSk7YS53cmFwcGVycy5Db21tZW50PWgsYS53cmFwcGVycy5Eb2N1bWVudEZyYWdtZW50PWd9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dmFyIGI9ayhhLmltcGwub3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO2MuY2FsbCh0aGlzLGIpLGkoYix0aGlzKTt2YXIgZT1hLnNoYWRvd1Jvb3Q7bS5zZXQodGhpcyxlKSx0aGlzLnRyZWVTY29wZV89bmV3IGQodGhpcyxnKGV8fGEpKSxsLnNldCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuRG9jdW1lbnRGcmFnbWVudCxkPWEuVHJlZVNjb3BlLGU9YS5lbGVtZW50RnJvbVBvaW50LGY9YS5nZXRJbm5lckhUTUwsZz1hLmdldFRyZWVTY29wZSxoPWEubWl4aW4saT1hLnJld3JhcCxqPWEuc2V0SW5uZXJIVE1MLGs9YS51bndyYXAsbD1uZXcgV2Vha01hcCxtPW5ldyBXZWFrTWFwLG49L1sgXHRcblxyXGZdLztiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxoKGIucHJvdG90eXBlLHtnZXQgaW5uZXJIVE1MKCl7cmV0dXJuIGYodGhpcyl9LHNldCBpbm5lckhUTUwoYSl7aih0aGlzLGEpLHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCl9LGdldCBvbGRlclNoYWRvd1Jvb3QoKXtyZXR1cm4gbS5nZXQodGhpcyl8fG51bGx9LGdldCBob3N0KCl7cmV0dXJuIGwuZ2V0KHRoaXMpfHxudWxsfSxpbnZhbGlkYXRlU2hhZG93UmVuZGVyZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbC5nZXQodGhpcykuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCl9LGVsZW1lbnRGcm9tUG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZSh0aGlzLHRoaXMub3duZXJEb2N1bWVudCxhLGIpfSxnZXRFbGVtZW50QnlJZDpmdW5jdGlvbihhKXtyZXR1cm4gbi50ZXN0KGEpP251bGw6dGhpcy5xdWVyeVNlbGVjdG9yKCdbaWQ9IicrYSsnIl0nKX19KSxhLndyYXBwZXJzLlNoYWRvd1Jvb3Q9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXthLnByZXZpb3VzU2libGluZ189YS5wcmV2aW91c1NpYmxpbmcsYS5uZXh0U2libGluZ189YS5uZXh0U2libGluZyxhLnBhcmVudE5vZGVfPWEucGFyZW50Tm9kZX1mdW5jdGlvbiBjKGEsYyxlKXt2YXIgZj1HKGEpLGc9RyhjKSxoPWU/RyhlKTpudWxsO2lmKGQoYyksYihjKSxlKWEuZmlyc3RDaGlsZD09PWUmJihhLmZpcnN0Q2hpbGRfPWUpLGUucHJldmlvdXNTaWJsaW5nXz1lLnByZXZpb3VzU2libGluZztlbHNle2EubGFzdENoaWxkXz1hLmxhc3RDaGlsZCxhLmxhc3RDaGlsZD09PWEuZmlyc3RDaGlsZCYmKGEuZmlyc3RDaGlsZF89YS5maXJzdENoaWxkKTt2YXIgaT1IKGYubGFzdENoaWxkKTtpJiYoaS5uZXh0U2libGluZ189aS5uZXh0U2libGluZyl9Zi5pbnNlcnRCZWZvcmUoZyxoKX1mdW5jdGlvbiBkKGEpe3ZhciBjPUcoYSksZD1jLnBhcmVudE5vZGU7aWYoZCl7dmFyIGU9SChkKTtiKGEpLGEucHJldmlvdXNTaWJsaW5nJiYoYS5wcmV2aW91c1NpYmxpbmcubmV4dFNpYmxpbmdfPWEpLGEubmV4dFNpYmxpbmcmJihhLm5leHRTaWJsaW5nLnByZXZpb3VzU2libGluZ189YSksZS5sYXN0Q2hpbGQ9PT1hJiYoZS5sYXN0Q2hpbGRfPWEpLGUuZmlyc3RDaGlsZD09PWEmJihlLmZpcnN0Q2hpbGRfPWEpLGQucmVtb3ZlQ2hpbGQoYyl9fWZ1bmN0aW9uIGUoYSl7SS5zZXQoYSxbXSl9ZnVuY3Rpb24gZihhKXt2YXIgYj1JLmdldChhKTtyZXR1cm4gYnx8SS5zZXQoYSxiPVtdKSxifWZ1bmN0aW9uIGcoYSl7Zm9yKHZhciBiPVtdLGM9MCxkPWEuZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZyliW2MrK109ZDtyZXR1cm4gYn1mdW5jdGlvbiBoKCl7Zm9yKHZhciBhPTA7YTxNLmxlbmd0aDthKyspe3ZhciBiPU1bYV0sYz1iLnBhcmVudFJlbmRlcmVyO2MmJmMuZGlydHl8fGIucmVuZGVyKCl9TT1bXX1mdW5jdGlvbiBpKCl7eT1udWxsLGgoKX1mdW5jdGlvbiBqKGEpe3ZhciBiPUsuZ2V0KGEpO3JldHVybiBifHwoYj1uZXcgbihhKSxLLnNldChhLGIpKSxifWZ1bmN0aW9uIGsoYSl7dmFyIGI9RShhKS5yb290O3JldHVybiBiIGluc3RhbmNlb2YgRD9iOm51bGx9ZnVuY3Rpb24gbChhKXtyZXR1cm4gaihhLmhvc3QpfWZ1bmN0aW9uIG0oYSl7dGhpcy5za2lwPSExLHRoaXMubm9kZT1hLHRoaXMuY2hpbGROb2Rlcz1bXX1mdW5jdGlvbiBuKGEpe3RoaXMuaG9zdD1hLHRoaXMuZGlydHk9ITEsdGhpcy5pbnZhbGlkYXRlQXR0cmlidXRlcygpLHRoaXMuYXNzb2NpYXRlTm9kZShhKX1mdW5jdGlvbiBvKGEpe2Zvcih2YXIgYj1bXSxjPWEuZmlyc3RDaGlsZDtjO2M9Yy5uZXh0U2libGluZyl2KGMpP2IucHVzaC5hcHBseShiLGYoYykpOmIucHVzaChjKTtyZXR1cm4gYn1mdW5jdGlvbiBwKGEpe2lmKGEgaW5zdGFuY2VvZiBCKXJldHVybiBhO2lmKGEgaW5zdGFuY2VvZiBBKXJldHVybiBudWxsO2Zvcih2YXIgYj1hLmZpcnN0Q2hpbGQ7YjtiPWIubmV4dFNpYmxpbmcpe3ZhciBjPXAoYik7aWYoYylyZXR1cm4gY31yZXR1cm4gbnVsbH1mdW5jdGlvbiBxKGEsYil7ZihiKS5wdXNoKGEpO3ZhciBjPUouZ2V0KGEpO2M/Yy5wdXNoKGIpOkouc2V0KGEsW2JdKX1mdW5jdGlvbiByKGEpe3JldHVybiBKLmdldChhKX1mdW5jdGlvbiBzKGEpe0ouc2V0KGEsdm9pZCAwKX1mdW5jdGlvbiB0KGEsYil7dmFyIGM9Yi5nZXRBdHRyaWJ1dGUoInNlbGVjdCIpO2lmKCFjKXJldHVybiEwO2lmKGM9Yy50cmltKCksIWMpcmV0dXJuITA7aWYoIShhIGluc3RhbmNlb2YgeikpcmV0dXJuITE7aWYoIU8udGVzdChjKSlyZXR1cm4hMTt0cnl7cmV0dXJuIGEubWF0Y2hlcyhjKX1jYXRjaChkKXtyZXR1cm4hMX19ZnVuY3Rpb24gdShhLGIpe3ZhciBjPXIoYik7cmV0dXJuIGMmJmNbYy5sZW5ndGgtMV09PT1hfWZ1bmN0aW9uIHYoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBBfHxhIGluc3RhbmNlb2YgQn1mdW5jdGlvbiB3KGEpe3JldHVybiBhLnNoYWRvd1Jvb3R9ZnVuY3Rpb24geChhKXtmb3IodmFyIGI9W10sYz1hLnNoYWRvd1Jvb3Q7YztjPWMub2xkZXJTaGFkb3dSb290KWIucHVzaChjKTtyZXR1cm4gYn12YXIgeSx6PWEud3JhcHBlcnMuRWxlbWVudCxBPWEud3JhcHBlcnMuSFRNTENvbnRlbnRFbGVtZW50LEI9YS53cmFwcGVycy5IVE1MU2hhZG93RWxlbWVudCxDPWEud3JhcHBlcnMuTm9kZSxEPWEud3JhcHBlcnMuU2hhZG93Um9vdCxFPShhLmFzc2VydCxhLmdldFRyZWVTY29wZSksRj0oYS5taXhpbixhLm9uZU9mKSxHPWEudW53cmFwLEg9YS53cmFwLEk9bmV3IFdlYWtNYXAsSj1uZXcgV2Vha01hcCxLPW5ldyBXZWFrTWFwLEw9Rih3aW5kb3csWyJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzZXRUaW1lb3V0Il0pLE09W10sTj1uZXcgQXJyYXlTcGxpY2U7Ti5lcXVhbHM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gRyhhLm5vZGUpPT09Yn0sbS5wcm90b3R5cGU9e2FwcGVuZDpmdW5jdGlvbihhKXt2YXIgYj1uZXcgbShhKTtyZXR1cm4gdGhpcy5jaGlsZE5vZGVzLnB1c2goYiksYn0sc3luYzpmdW5jdGlvbihhKXtpZighdGhpcy5za2lwKXtmb3IodmFyIGI9dGhpcy5ub2RlLGU9dGhpcy5jaGlsZE5vZGVzLGY9ZyhHKGIpKSxoPWF8fG5ldyBXZWFrTWFwLGk9Ti5jYWxjdWxhdGVTcGxpY2VzKGUsZiksaj0wLGs9MCxsPTAsbT0wO208aS5sZW5ndGg7bSsrKXtmb3IodmFyIG49aVttXTtsPG4uaW5kZXg7bCsrKWsrKyxlW2orK10uc3luYyhoKTtmb3IodmFyIG89bi5yZW1vdmVkLmxlbmd0aCxwPTA7bz5wO3ArKyl7dmFyIHE9SChmW2srK10pO2guZ2V0KHEpfHxkKHEpfWZvcih2YXIgcj1uLmFkZGVkQ291bnQscz1mW2tdJiZIKGZba10pLHA9MDtyPnA7cCsrKXt2YXIgdD1lW2orK10sdT10Lm5vZGU7YyhiLHUscyksaC5zZXQodSwhMCksdC5zeW5jKGgpfWwrPXJ9Zm9yKHZhciBtPWw7bTxlLmxlbmd0aDttKyspZVttXS5zeW5jKGgpfX19LG4ucHJvdG90eXBlPXtyZW5kZXI6ZnVuY3Rpb24oYSl7aWYodGhpcy5kaXJ0eSl7dGhpcy5pbnZhbGlkYXRlQXR0cmlidXRlcygpO3ZhciBiPXRoaXMuaG9zdDt0aGlzLmRpc3RyaWJ1dGlvbihiKTt2YXIgYz1hfHxuZXcgbShiKTt0aGlzLmJ1aWxkUmVuZGVyVHJlZShjLGIpO3ZhciBkPSFhO2QmJmMuc3luYygpLHRoaXMuZGlydHk9ITF9fSxnZXQgcGFyZW50UmVuZGVyZXIoKXtyZXR1cm4gRSh0aGlzLmhvc3QpLnJlbmRlcmVyfSxpbnZhbGlkYXRlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuZGlydHkpe2lmKHRoaXMuZGlydHk9ITAsTS5wdXNoKHRoaXMpLHkpcmV0dXJuO3k9d2luZG93W0xdKGksMCl9fSxkaXN0cmlidXRpb246ZnVuY3Rpb24oYSl7dGhpcy5yZXNldEFsbChhKSx0aGlzLmRpc3RyaWJ1dGlvblJlc29sdXRpb24oYSl9LHJlc2V0QWxsOmZ1bmN0aW9uKGEpe3YoYSk/ZShhKTpzKGEpO2Zvcih2YXIgYj1hLmZpcnN0Q2hpbGQ7YjtiPWIubmV4dFNpYmxpbmcpdGhpcy5yZXNldEFsbChiKTthLnNoYWRvd1Jvb3QmJnRoaXMucmVzZXRBbGwoYS5zaGFkb3dSb290KSxhLm9sZGVyU2hhZG93Um9vdCYmdGhpcy5yZXNldEFsbChhLm9sZGVyU2hhZG93Um9vdCl9LGRpc3RyaWJ1dGlvblJlc29sdXRpb246ZnVuY3Rpb24oYSl7aWYodyhhKSl7Zm9yKHZhciBiPWEsYz1vKGIpLGQ9eChiKSxlPTA7ZTxkLmxlbmd0aDtlKyspdGhpcy5wb29sRGlzdHJpYnV0aW9uKGRbZV0sYyk7Zm9yKHZhciBlPWQubGVuZ3RoLTE7ZT49MDtlLS0pe3ZhciBmPWRbZV0sZz1wKGYpO2lmKGcpe3ZhciBoPWYub2xkZXJTaGFkb3dSb290O2gmJihjPW8oaCkpO2Zvcih2YXIgaT0wO2k8Yy5sZW5ndGg7aSsrKXEoY1tpXSxnKX10aGlzLmRpc3RyaWJ1dGlvblJlc29sdXRpb24oZil9fWZvcih2YXIgaj1hLmZpcnN0Q2hpbGQ7ajtqPWoubmV4dFNpYmxpbmcpdGhpcy5kaXN0cmlidXRpb25SZXNvbHV0aW9uKGopfSxwb29sRGlzdHJpYnV0aW9uOmZ1bmN0aW9uKGEsYil7aWYoIShhIGluc3RhbmNlb2YgQikpaWYoYSBpbnN0YW5jZW9mIEEpe3ZhciBjPWE7dGhpcy51cGRhdGVEZXBlbmRlbnRBdHRyaWJ1dGVzKGMuZ2V0QXR0cmlidXRlKCJzZWxlY3QiKSk7Zm9yKHZhciBkPSExLGU9MDtlPGIubGVuZ3RoO2UrKyl7dmFyIGE9YltlXTthJiZ0KGEsYykmJihxKGEsYyksYltlXT12b2lkIDAsZD0hMCl9aWYoIWQpZm9yKHZhciBmPWMuZmlyc3RDaGlsZDtmO2Y9Zi5uZXh0U2libGluZylxKGYsYyl9ZWxzZSBmb3IodmFyIGY9YS5maXJzdENoaWxkO2Y7Zj1mLm5leHRTaWJsaW5nKXRoaXMucG9vbERpc3RyaWJ1dGlvbihmLGIpfSxidWlsZFJlbmRlclRyZWU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5jb21wb3NlKGIpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXSxmPWEuYXBwZW5kKGUpO3RoaXMuYnVpbGRSZW5kZXJUcmVlKGYsZSl9aWYodyhiKSl7dmFyIGc9aihiKTtnLmRpcnR5PSExfX0sY29tcG9zZTpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz1hLnNoYWRvd1Jvb3R8fGEsZD1jLmZpcnN0Q2hpbGQ7ZDtkPWQubmV4dFNpYmxpbmcpaWYodihkKSl7dGhpcy5hc3NvY2lhdGVOb2RlKGMpO2Zvcih2YXIgZT1mKGQpLGc9MDtnPGUubGVuZ3RoO2crKyl7dmFyIGg9ZVtnXTt1KGQsaCkmJmIucHVzaChoKX19ZWxzZSBiLnB1c2goZCk7cmV0dXJuIGJ9LGludmFsaWRhdGVBdHRyaWJ1dGVzOmZ1bmN0aW9uKCl7dGhpcy5hdHRyaWJ1dGVzPU9iamVjdC5jcmVhdGUobnVsbCl9LHVwZGF0ZURlcGVuZGVudEF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI9dGhpcy5hdHRyaWJ1dGVzOy9cLlx3Ky8udGVzdChhKSYmKGJbImNsYXNzIl09ITApLC8jXHcrLy50ZXN0KGEpJiYoYi5pZD0hMCksYS5yZXBsYWNlKC9cW1xzKihbXlxzPVx8flxdXSspL2csZnVuY3Rpb24oYSxjKXtiW2NdPSEwfSl9fSxkZXBlbmRzT25BdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc1thXX0sYXNzb2NpYXRlTm9kZTpmdW5jdGlvbihhKXthLmltcGwucG9seW1lclNoYWRvd1JlbmRlcmVyXz10aGlzfX07dmFyIE89L15bKi4jW2EtekEtWl98XS87Qy5wcm90b3R5cGUuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pbXBsLnBvbHltZXJTaGFkb3dSZW5kZXJlcl87cmV0dXJuIGE/KGEuaW52YWxpZGF0ZSgpLCEwKTohMX0sQS5wcm90b3R5cGUuZ2V0RGlzdHJpYnV0ZWROb2Rlcz1CLnByb3RvdHlwZS5nZXREaXN0cmlidXRlZE5vZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIGgoKSxmKHRoaXMpfSx6LnByb3RvdHlwZS5nZXREZXN0aW5hdGlvbkluc2VydGlvblBvaW50cz1mdW5jdGlvbigpe3JldHVybiBoKCkscih0aGlzKXx8W119LEEucHJvdG90eXBlLm5vZGVJc0luc2VydGVkXz1CLnByb3RvdHlwZS5ub2RlSXNJbnNlcnRlZF89ZnVuY3Rpb24oKXt0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpO3ZhciBhLGI9ayh0aGlzKTtiJiYoYT1sKGIpKSx0aGlzLmltcGwucG9seW1lclNoYWRvd1JlbmRlcmVyXz1hLGEmJmEuaW52YWxpZGF0ZSgpfSxhLmdldFJlbmRlcmVyRm9ySG9zdD1qLGEuZ2V0U2hhZG93VHJlZXM9eCxhLnJlbmRlckFsbFBlbmRpbmc9aCxhLmdldERlc3RpbmF0aW9uSW5zZXJ0aW9uUG9pbnRzPXIsYS52aXN1YWw9e2luc2VydEJlZm9yZTpjLHJlbW92ZTpkfX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihiKXtpZih3aW5kb3dbYl0pe2QoIWEud3JhcHBlcnNbYl0pO3ZhciBpPWZ1bmN0aW9uKGEpe2MuY2FsbCh0aGlzLGEpfTtpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxlKGkucHJvdG90eXBlLHtnZXQgZm9ybSgpe3JldHVybiBoKGcodGhpcykuZm9ybSl9fSksZih3aW5kb3dbYl0saSxkb2N1bWVudC5jcmVhdGVFbGVtZW50KGIuc2xpY2UoNCwtNykpKSxhLndyYXBwZXJzW2JdPWl9fXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLmFzc2VydCxlPWEubWl4aW4sZj1hLnJlZ2lzdGVyV3JhcHBlcixnPWEudW53cmFwLGg9YS53cmFwLGk9WyJIVE1MQnV0dG9uRWxlbWVudCIsIkhUTUxGaWVsZFNldEVsZW1lbnQiLCJIVE1MSW5wdXRFbGVtZW50IiwiSFRNTEtleWdlbkVsZW1lbnQiLCJIVE1MTGFiZWxFbGVtZW50IiwiSFRNTExlZ2VuZEVsZW1lbnQiLCJIVE1MT2JqZWN0RWxlbWVudCIsIkhUTUxPdXRwdXRFbGVtZW50IiwiSFRNTFRleHRBcmVhRWxlbWVudCJdO2kuZm9yRWFjaChiKX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt0aGlzLmltcGw9YX17dmFyIGM9YS5yZWdpc3RlcldyYXBwZXIsZD1hLnVud3JhcCxlPWEudW53cmFwSWZOZWVkZWQsZj1hLndyYXA7d2luZG93LlNlbGVjdGlvbn1iLnByb3RvdHlwZT17Z2V0IGFuY2hvck5vZGUoKXtyZXR1cm4gZih0aGlzLmltcGwuYW5jaG9yTm9kZSl9LGdldCBmb2N1c05vZGUoKXtyZXR1cm4gZih0aGlzLmltcGwuZm9jdXNOb2RlKX0sYWRkUmFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLmFkZFJhbmdlKGQoYSkpfSxjb2xsYXBzZTpmdW5jdGlvbihhLGIpe3RoaXMuaW1wbC5jb2xsYXBzZShlKGEpLGIpfSxjb250YWluc05vZGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pbXBsLmNvbnRhaW5zTm9kZShlKGEpLGIpfSxleHRlbmQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmltcGwuZXh0ZW5kKGUoYSksYil9LGdldFJhbmdlQXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGYodGhpcy5pbXBsLmdldFJhbmdlQXQoYSkpfSxyZW1vdmVSYW5nZTpmdW5jdGlvbihhKXt0aGlzLmltcGwucmVtb3ZlUmFuZ2UoZChhKSl9LHNlbGVjdEFsbENoaWxkcmVuOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZWxlY3RBbGxDaGlsZHJlbihlKGEpKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsLnRvU3RyaW5nKCl9fSxjKHdpbmRvdy5TZWxlY3Rpb24sYix3aW5kb3cuZ2V0U2VsZWN0aW9uKCkpLGEud3JhcHBlcnMuU2VsZWN0aW9uPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7ay5jYWxsKHRoaXMsYSksdGhpcy50cmVlU2NvcGVfPW5ldyBwKHRoaXMsbnVsbCl9ZnVuY3Rpb24gYyhhKXt2YXIgYz1kb2N1bWVudFthXTtiLnByb3RvdHlwZVthXT1mdW5jdGlvbigpe3JldHVybiBBKGMuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBkKGEsYil7RC5jYWxsKGIuaW1wbCx6KGEpKSxlKGEsYil9ZnVuY3Rpb24gZShhLGIpe2Euc2hhZG93Um9vdCYmYi5hZG9wdE5vZGUoYS5zaGFkb3dSb290KSxhIGluc3RhbmNlb2YgbyYmZihhLGIpO2Zvcih2YXIgYz1hLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpZShjLGIpfWZ1bmN0aW9uIGYoYSxiKXt2YXIgYz1hLm9sZGVyU2hhZG93Um9vdDtjJiZiLmFkb3B0Tm9kZShjKX1mdW5jdGlvbiBnKGEpe3RoaXMuaW1wbD1hfWZ1bmN0aW9uIGgoYSxiKXt2YXIgYz1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbltiXTthLnByb3RvdHlwZVtiXT1mdW5jdGlvbigpe3JldHVybiBBKGMuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBpKGEsYil7dmFyIGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb25bYl07YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXtyZXR1cm4gYy5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX19dmFyIGo9YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLGs9YS53cmFwcGVycy5Ob2RlLGw9YS5QYXJlbnROb2RlSW50ZXJmYWNlLG09YS53cmFwcGVycy5TZWxlY3Rpb24sbj1hLlNlbGVjdG9yc0ludGVyZmFjZSxvPWEud3JhcHBlcnMuU2hhZG93Um9vdCxwPWEuVHJlZVNjb3BlLHE9YS5jbG9uZU5vZGUscj1hLmRlZmluZVdyYXBHZXR0ZXIscz1hLmVsZW1lbnRGcm9tUG9pbnQsdD1hLmZvcndhcmRNZXRob2RzVG9XcmFwcGVyLHU9YS5tYXRjaGVzTmFtZXMsdj1hLm1peGluLHc9YS5yZWdpc3RlcldyYXBwZXIseD1hLnJlbmRlckFsbFBlbmRpbmcseT1hLnJld3JhcCx6PWEudW53cmFwLEE9YS53cmFwLEI9YS53cmFwRXZlbnRUYXJnZXRNZXRob2RzLEM9KGEud3JhcE5vZGVMaXN0LG5ldyBXZWFrTWFwKTtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGsucHJvdG90eXBlKSxyKGIsImRvY3VtZW50RWxlbWVudCIpLHIoYiwiYm9keSIpLHIoYiwiaGVhZCIpLFsiY3JlYXRlQ29tbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJjcmVhdGVFbGVtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiY3JlYXRlRXZlbnQiLCJjcmVhdGVFdmVudE5TIiwiY3JlYXRlUmFuZ2UiLCJjcmVhdGVUZXh0Tm9kZSIsImdldEVsZW1lbnRCeUlkIl0uZm9yRWFjaChjKTt2YXIgRD1kb2N1bWVudC5hZG9wdE5vZGUsRT1kb2N1bWVudC5nZXRTZWxlY3Rpb247aWYodihiLnByb3RvdHlwZSx7YWRvcHROb2RlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKSxkKGEsdGhpcyksYX0sZWxlbWVudEZyb21Qb2ludDpmdW5jdGlvbihhLGIpe3JldHVybiBzKHRoaXMsdGhpcyxhLGIpfSxpbXBvcnROb2RlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHEoYSxiLHRoaXMuaW1wbCl9LGdldFNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB4KCksbmV3IG0oRS5jYWxsKHoodGhpcykpKX19KSxkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQpe3ZhciBGPWRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudDtiLnByb3RvdHlwZS5yZWdpc3RlckVsZW1lbnQ9ZnVuY3Rpb24oYixjKXtmdW5jdGlvbiBkKGEpe3JldHVybiBhP3ZvaWQodGhpcy5pbXBsPWEpOmY/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChmLGIpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYil9dmFyIGUsZjtpZih2b2lkIDAhPT1jJiYoZT1jLnByb3RvdHlwZSxmPWMuZXh0ZW5kcyksZXx8KGU9T2JqZWN0LmNyZWF0ZShIVE1MRWxlbWVudC5wcm90b3R5cGUpKSxhLm5hdGl2ZVByb3RvdHlwZVRhYmxlLmdldChlKSl0aHJvdyBuZXcgRXJyb3IoIk5vdFN1cHBvcnRlZEVycm9yIik7Zm9yKHZhciBnLGg9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLGk9W107aCYmIShnPWEubmF0aXZlUHJvdG90eXBlVGFibGUuZ2V0KGgpKTspaS5wdXNoKGgpLGg9T2JqZWN0LmdldFByb3RvdHlwZU9mKGgpO2lmKCFnKXRocm93IG5ldyBFcnJvcigiTm90U3VwcG9ydGVkRXJyb3IiKTtmb3IodmFyIGo9T2JqZWN0LmNyZWF0ZShnKSxrPWkubGVuZ3RoLTE7az49MDtrLS0paj1PYmplY3QuY3JlYXRlKGopO1siY3JlYXRlZENhbGxiYWNrIiwiYXR0YWNoZWRDYWxsYmFjayIsImRldGFjaGVkQ2FsbGJhY2siLCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2siXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWVbYV07YiYmKGpbYV09ZnVuY3Rpb24oKXtBKHRoaXMpaW5zdGFuY2VvZiBkfHx5KHRoaXMpLGIuYXBwbHkoQSh0aGlzKSxhcmd1bWVudHMpfSl9KTt2YXIgbD17cHJvdG90eXBlOmp9O2YmJihsLmV4dGVuZHM9ZiksZC5wcm90b3R5cGU9ZSxkLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1kLGEuY29uc3RydWN0b3JUYWJsZS5zZXQoaixkKSxhLm5hdGl2ZVByb3RvdHlwZVRhYmxlLnNldChlLGopO0YuY2FsbCh6KHRoaXMpLGIsbCk7cmV0dXJuIGR9LHQoW3dpbmRvdy5IVE1MRG9jdW1lbnR8fHdpbmRvdy5Eb2N1bWVudF0sWyJyZWdpc3RlckVsZW1lbnQiXSl9dChbd2luZG93LkhUTUxCb2R5RWxlbWVudCx3aW5kb3cuSFRNTERvY3VtZW50fHx3aW5kb3cuRG9jdW1lbnQsd2luZG93LkhUTUxIZWFkRWxlbWVudCx3aW5kb3cuSFRNTEh0bWxFbGVtZW50XSxbImFwcGVuZENoaWxkIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJjb250YWlucyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lTlMiLCJpbnNlcnRCZWZvcmUiLCJxdWVyeVNlbGVjdG9yIiwicXVlcnlTZWxlY3RvckFsbCIsInJlbW92ZUNoaWxkIiwicmVwbGFjZUNoaWxkIl0uY29uY2F0KHUpKSx0KFt3aW5kb3cuSFRNTERvY3VtZW50fHx3aW5kb3cuRG9jdW1lbnRdLFsiYWRvcHROb2RlIiwiaW1wb3J0Tm9kZSIsImNvbnRhaW5zIiwiY3JlYXRlQ29tbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJjcmVhdGVFbGVtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiY3JlYXRlRXZlbnQiLCJjcmVhdGVFdmVudE5TIiwiY3JlYXRlUmFuZ2UiLCJjcmVhdGVUZXh0Tm9kZSIsImVsZW1lbnRGcm9tUG9pbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldFNlbGVjdGlvbiJdKSx2KGIucHJvdG90eXBlLGopLHYoYi5wcm90b3R5cGUsbCksdihiLnByb3RvdHlwZSxuKSx2KGIucHJvdG90eXBlLHtnZXQgaW1wbGVtZW50YXRpb24oKXt2YXIgYT1DLmdldCh0aGlzKTtyZXR1cm4gYT9hOihhPW5ldyBnKHoodGhpcykuaW1wbGVtZW50YXRpb24pLEMuc2V0KHRoaXMsYSksYSl9LGdldCBkZWZhdWx0Vmlldygpe3JldHVybiBBKHoodGhpcykuZGVmYXVsdFZpZXcpfX0pLHcod2luZG93LkRvY3VtZW50LGIsZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSksd2luZG93LkhUTUxEb2N1bWVudCYmdyh3aW5kb3cuSFRNTERvY3VtZW50LGIpLEIoW3dpbmRvdy5IVE1MQm9keUVsZW1lbnQsd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50LHdpbmRvdy5IVE1MSGVhZEVsZW1lbnRdKSxoKGcsImNyZWF0ZURvY3VtZW50VHlwZSIpLGgoZywiY3JlYXRlRG9jdW1lbnQiKSxoKGcsImNyZWF0ZUhUTUxEb2N1bWVudCIpLGkoZywiaGFzRmVhdHVyZSIpLHcod2luZG93LkRPTUltcGxlbWVudGF0aW9uLGcpLHQoW3dpbmRvdy5ET01JbXBsZW1lbnRhdGlvbl0sWyJjcmVhdGVEb2N1bWVudFR5cGUiLCJjcmVhdGVEb2N1bWVudCIsImNyZWF0ZUhUTUxEb2N1bWVudCIsImhhc0ZlYXR1cmUiXSksYS5hZG9wdE5vZGVOb1JlbW92ZT1kLGEud3JhcHBlcnMuRE9NSW1wbGVtZW50YXRpb249ZyxhLndyYXBwZXJzLkRvY3VtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5FdmVudFRhcmdldCxkPWEud3JhcHBlcnMuU2VsZWN0aW9uLGU9YS5taXhpbixmPWEucmVnaXN0ZXJXcmFwcGVyLGc9YS5yZW5kZXJBbGxQZW5kaW5nLGg9YS51bndyYXAsaT1hLnVud3JhcElmTmVlZGVkLGo9YS53cmFwLGs9d2luZG93LldpbmRvdyxsPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlLG09d2luZG93LmdldFNlbGVjdGlvbjtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxrLnByb3RvdHlwZS5nZXRDb21wdXRlZFN0eWxlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGoodGhpc3x8d2luZG93KS5nZXRDb21wdXRlZFN0eWxlKGkoYSksYil9LGsucHJvdG90eXBlLmdldFNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiBqKHRoaXN8fHdpbmRvdykuZ2V0U2VsZWN0aW9uKCl9LGRlbGV0ZSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSxkZWxldGUgd2luZG93LmdldFNlbGVjdGlvbixbImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzcGF0Y2hFdmVudCJdLmZvckVhY2goZnVuY3Rpb24oYSl7ay5wcm90b3R5cGVbYV09ZnVuY3Rpb24oKXt2YXIgYj1qKHRoaXN8fHdpbmRvdyk7cmV0dXJuIGJbYV0uYXBwbHkoYixhcmd1bWVudHMpfSxkZWxldGUgd2luZG93W2FdfSksZShiLnByb3RvdHlwZSx7Z2V0Q29tcHV0ZWRTdHlsZTpmdW5jdGlvbihhLGIpe3JldHVybiBnKCksbC5jYWxsKGgodGhpcyksaShhKSxiKX0sZ2V0U2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGcoKSxuZXcgZChtLmNhbGwoaCh0aGlzKSkpfSxnZXQgZG9jdW1lbnQoKXtyZXR1cm4gaihoKHRoaXMpLmRvY3VtZW50KX19KSxmKGssYix3aW5kb3cpLGEud3JhcHBlcnMuV2luZG93PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO3ZhciBiPWEudW53cmFwLGM9d2luZG93LkRhdGFUcmFuc2Zlcnx8d2luZG93LkNsaXBib2FyZCxkPWMucHJvdG90eXBlLnNldERyYWdJbWFnZTtjLnByb3RvdHlwZS5zZXREcmFnSW1hZ2U9ZnVuY3Rpb24oYSxjLGUpe2QuY2FsbCh0aGlzLGIoYSksYyxlKX19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dmFyIGI9Y1thXSxkPXdpbmRvd1tiXTtpZihkKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEpLGY9ZS5jb25zdHJ1Y3Rvcjt3aW5kb3dbYl09Zn19dmFyIGM9KGEuaXNXcmFwcGVyRm9yLHthOiJIVE1MQW5jaG9yRWxlbWVudCIsYXJlYToiSFRNTEFyZWFFbGVtZW50IixhdWRpbzoiSFRNTEF1ZGlvRWxlbWVudCIsYmFzZToiSFRNTEJhc2VFbGVtZW50Iixib2R5OiJIVE1MQm9keUVsZW1lbnQiLGJyOiJIVE1MQlJFbGVtZW50IixidXR0b246IkhUTUxCdXR0b25FbGVtZW50IixjYW52YXM6IkhUTUxDYW52YXNFbGVtZW50IixjYXB0aW9uOiJIVE1MVGFibGVDYXB0aW9uRWxlbWVudCIsY29sOiJIVE1MVGFibGVDb2xFbGVtZW50Iixjb250ZW50OiJIVE1MQ29udGVudEVsZW1lbnQiLGRhdGE6IkhUTUxEYXRhRWxlbWVudCIsZGF0YWxpc3Q6IkhUTUxEYXRhTGlzdEVsZW1lbnQiLGRlbDoiSFRNTE1vZEVsZW1lbnQiLGRpcjoiSFRNTERpcmVjdG9yeUVsZW1lbnQiLGRpdjoiSFRNTERpdkVsZW1lbnQiLGRsOiJIVE1MRExpc3RFbGVtZW50IixlbWJlZDoiSFRNTEVtYmVkRWxlbWVudCIsZmllbGRzZXQ6IkhUTUxGaWVsZFNldEVsZW1lbnQiLGZvbnQ6IkhUTUxGb250RWxlbWVudCIsZm9ybToiSFRNTEZvcm1FbGVtZW50IixmcmFtZToiSFRNTEZyYW1lRWxlbWVudCIsZnJhbWVzZXQ6IkhUTUxGcmFtZVNldEVsZW1lbnQiLGgxOiJIVE1MSGVhZGluZ0VsZW1lbnQiLGhlYWQ6IkhUTUxIZWFkRWxlbWVudCIsaHI6IkhUTUxIUkVsZW1lbnQiLGh0bWw6IkhUTUxIdG1sRWxlbWVudCIsaWZyYW1lOiJIVE1MSUZyYW1lRWxlbWVudCIsaW1nOiJIVE1MSW1hZ2VFbGVtZW50IixpbnB1dDoiSFRNTElucHV0RWxlbWVudCIsa2V5Z2VuOiJIVE1MS2V5Z2VuRWxlbWVudCIsbGFiZWw6IkhUTUxMYWJlbEVsZW1lbnQiLGxlZ2VuZDoiSFRNTExlZ2VuZEVsZW1lbnQiLGxpOiJIVE1MTElFbGVtZW50IixsaW5rOiJIVE1MTGlua0VsZW1lbnQiLG1hcDoiSFRNTE1hcEVsZW1lbnQiLG1hcnF1ZWU6IkhUTUxNYXJxdWVlRWxlbWVudCIsbWVudToiSFRNTE1lbnVFbGVtZW50IixtZW51aXRlbToiSFRNTE1lbnVJdGVtRWxlbWVudCIsbWV0YToiSFRNTE1ldGFFbGVtZW50IixtZXRlcjoiSFRNTE1ldGVyRWxlbWVudCIsb2JqZWN0OiJIVE1MT2JqZWN0RWxlbWVudCIsb2w6IkhUTUxPTGlzdEVsZW1lbnQiLG9wdGdyb3VwOiJIVE1MT3B0R3JvdXBFbGVtZW50IixvcHRpb246IkhUTUxPcHRpb25FbGVtZW50IixvdXRwdXQ6IkhUTUxPdXRwdXRFbGVtZW50IixwOiJIVE1MUGFyYWdyYXBoRWxlbWVudCIscGFyYW06IkhUTUxQYXJhbUVsZW1lbnQiLHByZToiSFRNTFByZUVsZW1lbnQiLHByb2dyZXNzOiJIVE1MUHJvZ3Jlc3NFbGVtZW50IixxOiJIVE1MUXVvdGVFbGVtZW50IixzY3JpcHQ6IkhUTUxTY3JpcHRFbGVtZW50IixzZWxlY3Q6IkhUTUxTZWxlY3RFbGVtZW50IixzaGFkb3c6IkhUTUxTaGFkb3dFbGVtZW50Iixzb3VyY2U6IkhUTUxTb3VyY2VFbGVtZW50IixzcGFuOiJIVE1MU3BhbkVsZW1lbnQiLHN0eWxlOiJIVE1MU3R5bGVFbGVtZW50Iix0YWJsZToiSFRNTFRhYmxlRWxlbWVudCIsdGJvZHk6IkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50Iix0ZW1wbGF0ZToiSFRNTFRlbXBsYXRlRWxlbWVudCIsdGV4dGFyZWE6IkhUTUxUZXh0QXJlYUVsZW1lbnQiLHRoZWFkOiJIVE1MVGFibGVTZWN0aW9uRWxlbWVudCIsdGltZToiSFRNTFRpbWVFbGVtZW50Iix0aXRsZToiSFRNTFRpdGxlRWxlbWVudCIsdHI6IkhUTUxUYWJsZVJvd0VsZW1lbnQiLHRyYWNrOiJIVE1MVHJhY2tFbGVtZW50Iix1bDoiSFRNTFVMaXN0RWxlbWVudCIsdmlkZW86IkhUTUxWaWRlb0VsZW1lbnQifSk7T2JqZWN0LmtleXMoYykuZm9yRWFjaChiKSxPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhLndyYXBwZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3dpbmRvd1tiXT1hLndyYXBwZXJzW2JdfSl9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oKXt3aW5kb3cud3JhcD1TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQsd2luZG93LnVud3JhcD1TaGFkb3dET01Qb2x5ZmlsbC51bndyYXBJZk5lZWRlZCxPYmplY3QuZGVmaW5lUHJvcGVydHkoRWxlbWVudC5wcm90b3R5cGUsIndlYmtpdFNoYWRvd1Jvb3QiLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRWxlbWVudC5wcm90b3R5cGUsInNoYWRvd1Jvb3QiKSk7dmFyIGE9RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdDtFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290PWZ1bmN0aW9uKCl7dmFyIGI9YS5jYWxsKHRoaXMpO3JldHVybiBDdXN0b21FbGVtZW50cy53YXRjaFNoYWRvdyh0aGlzKSxifSxFbGVtZW50LnByb3RvdHlwZS53ZWJraXRDcmVhdGVTaGFkb3dSb290PUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3R9KCksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIpe3ZhciBjPSIiO3JldHVybiBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsZnVuY3Rpb24oYSl7Yys9YS50ZXh0Q29udGVudCsiXG5cbiJ9KSxifHwoYz1jLnJlcGxhY2UobCwiIikpLGN9ZnVuY3Rpb24gYyhhKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO3JldHVybiBiLnRleHRDb250ZW50PWEsYn1mdW5jdGlvbiBkKGEpe3ZhciBiPWMoYSk7ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChiKTt2YXIgZD1bXTtpZihiLnNoZWV0KXRyeXtkPWIuc2hlZXQuY3NzUnVsZXN9Y2F0Y2goZSl7fWVsc2UgY29uc29sZS53YXJuKCJzaGVldCBub3QgZm91bmQiLGIpO3JldHVybiBiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksZH1mdW5jdGlvbiBlKCl7di5pbml0aWFsaXplZD0hMCxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHYpO3ZhciBhPXYuY29udGVudERvY3VtZW50LGI9YS5jcmVhdGVFbGVtZW50KCJiYXNlIik7Yi5ocmVmPWRvY3VtZW50LmJhc2VVUkksYS5oZWFkLmFwcGVuZENoaWxkKGIpfWZ1bmN0aW9uIGYoYSl7di5pbml0aWFsaXplZHx8ZSgpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodiksYSh2LmNvbnRlbnREb2N1bWVudCksZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh2KX1mdW5jdGlvbiBnKGEsYil7aWYoYil7dmFyIGU7aWYoYS5tYXRjaCgiQGltcG9ydCIpJiZ4KXt2YXIgZz1jKGEpO2YoZnVuY3Rpb24oYSl7YS5oZWFkLmFwcGVuZENoaWxkKGcuaW1wbCksZT1nLnNoZWV0LmNzc1J1bGVzLGIoZSl9KX1lbHNlIGU9ZChhKSxiKGUpfX1mdW5jdGlvbiBoKGEpe2EmJmooKS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhKSl9ZnVuY3Rpb24gaShhLGIpe3ZhciBkPWMoYSk7ZC5zZXRBdHRyaWJ1dGUoYiwiIiksZC5zZXRBdHRyaWJ1dGUoeiwiIiksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChkKX1mdW5jdGlvbiBqKCl7cmV0dXJuIHd8fCh3PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksdy5zZXRBdHRyaWJ1dGUoeiwiIiksd1t6XT0hMCksd312YXIgaz17c3RyaWN0U3R5bGluZzohMSxyZWdpc3RyeTp7fSxzaGltU3R5bGluZzpmdW5jdGlvbihhLGMsZCl7dmFyIGU9dGhpcy5wcmVwYXJlUm9vdChhLGMsZCksZj10aGlzLmlzVHlwZUV4dGVuc2lvbihkKSxnPXRoaXMubWFrZVNjb3BlU2VsZWN0b3IoYyxmKSxoPWIoZSwhMCk7aD10aGlzLnNjb3BlQ3NzVGV4dChoLGcpLGEmJihhLnNoaW1tZWRTdHlsZT1oKSx0aGlzLmFkZENzc1RvRG9jdW1lbnQoaCxjKX0sc2hpbVN0eWxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuc2hpbUNzc1RleHQoYS50ZXh0Q29udGVudCxiKX0sc2hpbUNzc1RleHQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT10aGlzLmluc2VydERpcmVjdGl2ZXMoYSksdGhpcy5zY29wZUNzc1RleHQoYSxiKX0sbWFrZVNjb3BlU2VsZWN0b3I6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT9iPyJbaXM9IithKyJdIjphOiIifSxpc1R5cGVFeHRlbnNpb246ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmEuaW5kZXhPZigiLSIpPDB9LHByZXBhcmVSb290OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLnJlZ2lzdGVyUm9vdChhLGIsYyk7cmV0dXJuIHRoaXMucmVwbGFjZVRleHRJblN0eWxlcyhkLnJvb3RTdHlsZXMsdGhpcy5pbnNlcnREaXJlY3RpdmVzKSx0aGlzLnJlbW92ZVN0eWxlcyhhLGQucm9vdFN0eWxlcyksdGhpcy5zdHJpY3RTdHlsaW5nJiZ0aGlzLmFwcGx5U2NvcGVUb0NvbnRlbnQoYSxiKSxkLnNjb3BlU3R5bGVzfSxyZW1vdmVTdHlsZXM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wLGU9Yi5sZW5ndGg7ZT5kJiYoYz1iW2RdKTtkKyspYy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGMpfSxyZWdpc3RlclJvb3Q6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMucmVnaXN0cnlbYl09e3Jvb3Q6YSxuYW1lOmIsZXh0ZW5kc05hbWU6Y30sZT10aGlzLmZpbmRTdHlsZXMoYSk7ZC5yb290U3R5bGVzPWUsZC5zY29wZVN0eWxlcz1kLnJvb3RTdHlsZXM7dmFyIGY9dGhpcy5yZWdpc3RyeVtkLmV4dGVuZHNOYW1lXTtyZXR1cm4gZiYmKGQuc2NvcGVTdHlsZXM9Zi5zY29wZVN0eWxlcy5jb25jYXQoZC5zY29wZVN0eWxlcykpLGR9LGZpbmRTdHlsZXM6ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuW107dmFyIGI9YS5xdWVyeVNlbGVjdG9yQWxsKCJzdHlsZSIpO3JldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYixmdW5jdGlvbihhKXtyZXR1cm4hYS5oYXNBdHRyaWJ1dGUoQSl9KX0sYXBwbHlTY29wZVRvQ29udGVudDpmdW5jdGlvbihhLGIpe2EmJihBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEucXVlcnlTZWxlY3RvckFsbCgiKiIpLGZ1bmN0aW9uKGEpe2Euc2V0QXR0cmlidXRlKGIsIiIpfSksQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLnF1ZXJ5U2VsZWN0b3JBbGwoInRlbXBsYXRlIiksZnVuY3Rpb24oYSl7dGhpcy5hcHBseVNjb3BlVG9Db250ZW50KGEuY29udGVudCxiKX0sdGhpcykpfSxpbnNlcnREaXJlY3RpdmVzOmZ1bmN0aW9uKGEpe3JldHVybiBhPXRoaXMuaW5zZXJ0UG9seWZpbGxEaXJlY3RpdmVzSW5Dc3NUZXh0KGEpLHRoaXMuaW5zZXJ0UG9seWZpbGxSdWxlc0luQ3NzVGV4dChhKX0saW5zZXJ0UG9seWZpbGxEaXJlY3RpdmVzSW5Dc3NUZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhPWEucmVwbGFjZShtLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIuc2xpY2UoMCwtMikrInsifSksYS5yZXBsYWNlKG4sZnVuY3Rpb24oYSxiKXtyZXR1cm4gYisiIHsifSl9LGluc2VydFBvbHlmaWxsUnVsZXNJbkNzc1RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9YS5yZXBsYWNlKG8sZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5zbGljZSgwLC0xKX0pLGEucmVwbGFjZShwLGZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWEucmVwbGFjZShiLCIiKS5yZXBsYWNlKGMsIiIpO3JldHVybiBkK2V9KX0sc2NvcGVDc3NUZXh0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5leHRyYWN0VW5zY29wZWRSdWxlc0Zyb21Dc3NUZXh0KGEpO2lmKGE9dGhpcy5pbnNlcnRQb2x5ZmlsbEhvc3RJbkNzc1RleHQoYSksYT10aGlzLmNvbnZlcnRDb2xvbkhvc3QoYSksYT10aGlzLmNvbnZlcnRDb2xvbkhvc3RDb250ZXh0KGEpLGE9dGhpcy5jb252ZXJ0Q29tYmluYXRvcnMoYSksYil7dmFyIGEsZD10aGlzO2coYSxmdW5jdGlvbihjKXthPWQuc2NvcGVSdWxlcyhjLGIpfSl9cmV0dXJuIGE9YSsiXG4iK2MsYS50cmltKCl9LGV4dHJhY3RVbnNjb3BlZFJ1bGVzRnJvbUNzc1RleHQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9IiI7Yj1xLmV4ZWMoYSk7KWMrPWJbMV0uc2xpY2UoMCwtMSkrIlxuXG4iO2Zvcig7Yj1yLmV4ZWMoYSk7KWMrPWJbMF0ucmVwbGFjZShiWzJdLCIiKS5yZXBsYWNlKGJbMV0sYlszXSkrIlxuXG4iO3JldHVybiBjfSxjb252ZXJ0Q29sb25Ib3N0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbnZlcnRDb2xvblJ1bGUoYSxjc3NDb2xvbkhvc3RSZSx0aGlzLmNvbG9uSG9zdFBhcnRSZXBsYWNlcil9LGNvbnZlcnRDb2xvbkhvc3RDb250ZXh0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbnZlcnRDb2xvblJ1bGUoYSxjc3NDb2xvbkhvc3RDb250ZXh0UmUsdGhpcy5jb2xvbkhvc3RDb250ZXh0UGFydFJlcGxhY2VyKX0sY29udmVydENvbG9uUnVsZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGEucmVwbGFjZShiLGZ1bmN0aW9uKGEsYixkLGUpe2lmKGI9cG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yLGQpe2Zvcih2YXIgZixnPWQuc3BsaXQoIiwiKSxoPVtdLGk9MCxqPWcubGVuZ3RoO2o+aSYmKGY9Z1tpXSk7aSsrKWY9Zi50cmltKCksaC5wdXNoKGMoYixmLGUpKTtyZXR1cm4gaC5qb2luKCIsIil9cmV0dXJuIGIrZX0pfSxjb2xvbkhvc3RDb250ZXh0UGFydFJlcGxhY2VyOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYi5tYXRjaChzKT90aGlzLmNvbG9uSG9zdFBhcnRSZXBsYWNlcihhLGIsYyk6YStiK2MrIiwgIitiKyIgIithK2N9LGNvbG9uSG9zdFBhcnRSZXBsYWNlcjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGErYi5yZXBsYWNlKHMsIiIpK2N9LGNvbnZlcnRDb21iaW5hdG9yczpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGNvbWJpbmF0b3JzUmUubGVuZ3RoO2IrKylhPWEucmVwbGFjZShjb21iaW5hdG9yc1JlW2JdLCIgIik7cmV0dXJuIGF9LHNjb3BlUnVsZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz0iIjtyZXR1cm4gYSYmQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2Euc2VsZWN0b3JUZXh0JiZhLnN0eWxlJiZhLnN0eWxlLmNzc1RleHQ/KGMrPXRoaXMuc2NvcGVTZWxlY3RvcihhLnNlbGVjdG9yVGV4dCxiLHRoaXMuc3RyaWN0U3R5bGluZykrIiB7XG4JIixjKz10aGlzLnByb3BlcnRpZXNGcm9tUnVsZShhKSsiXG59XG5cbiIpOmEudHlwZT09PUNTU1J1bGUuTUVESUFfUlVMRT8oYys9IkBtZWRpYSAiK2EubWVkaWEubWVkaWFUZXh0KyIge1xuIixjKz10aGlzLnNjb3BlUnVsZXMoYS5jc3NSdWxlcyxiKSxjKz0iXG59XG5cbiIpOmEuY3NzVGV4dCYmKGMrPWEuY3NzVGV4dCsiXG5cbiIpfSx0aGlzKSxjfSxzY29wZVNlbGVjdG9yOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPWEuc3BsaXQoIiwiKTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2E9YS50cmltKCksdGhpcy5zZWxlY3Rvck5lZWRzU2NvcGluZyhhLGIpJiYoYT1jJiYhYS5tYXRjaChwb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3IpP3RoaXMuYXBwbHlTdHJpY3RTZWxlY3RvclNjb3BlKGEsYik6dGhpcy5hcHBseVNlbGVjdG9yU2NvcGUoYSxiKSksZC5wdXNoKGEpfSx0aGlzKSxkLmpvaW4oIiwgIil9LHNlbGVjdG9yTmVlZHNTY29waW5nOmZ1bmN0aW9uKGEsYil7aWYoQXJyYXkuaXNBcnJheShiKSlyZXR1cm4hMDt2YXIgYz10aGlzLm1ha2VTY29wZU1hdGNoZXIoYik7cmV0dXJuIWEubWF0Y2goYyl9LG1ha2VTY29wZU1hdGNoZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9YS5yZXBsYWNlKC9cWy9nLCJcXFsiKS5yZXBsYWNlKC9cWy9nLCJcXF0iKSxuZXcgUmVnRXhwKCJeKCIrYSsiKSIrc2VsZWN0b3JSZVN1ZmZpeCwibSIpfSxhcHBseVNlbGVjdG9yU2NvcGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gQXJyYXkuaXNBcnJheShiKT90aGlzLmFwcGx5U2VsZWN0b3JTY29wZUxpc3QoYSxiKTp0aGlzLmFwcGx5U2ltcGxlU2VsZWN0b3JTY29wZShhLGIpfSxhcHBseVNlbGVjdG9yU2NvcGVMaXN0OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9W10sZT0wO2M9YltlXTtlKyspZC5wdXNoKHRoaXMuYXBwbHlTaW1wbGVTZWxlY3RvclNjb3BlKGEsYykpO3JldHVybiBkLmpvaW4oIiwgIil9LGFwcGx5U2ltcGxlU2VsZWN0b3JTY29wZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLm1hdGNoKHBvbHlmaWxsSG9zdFJlKT8oYT1hLnJlcGxhY2UocG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yLGIpLGEucmVwbGFjZShwb2x5ZmlsbEhvc3RSZSxiKyIgIikpOmIrIiAiK2F9LGFwcGx5U3RyaWN0U2VsZWN0b3JTY29wZTpmdW5jdGlvbihhLGIpe2I9Yi5yZXBsYWNlKC9cW2lzPShbXlxdXSopXF0vZywiJDEiKTt2YXIgYz1bIiAiLCI+IiwiKyIsIn4iXSxkPWEsZT0iWyIrYisiXSI7cmV0dXJuIGMuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1kLnNwbGl0KGEpO2Q9Yi5tYXAoZnVuY3Rpb24oYSl7dmFyIGI9YS50cmltKCkucmVwbGFjZShwb2x5ZmlsbEhvc3RSZSwiIik7cmV0dXJuIGImJmMuaW5kZXhPZihiKTwwJiZiLmluZGV4T2YoZSk8MCYmKGE9Yi5yZXBsYWNlKC8oW146XSopKDoqKSguKikvLCIkMSIrZSsiJDIkMyIpKSxhfSkuam9pbihhKX0pLGR9LGluc2VydFBvbHlmaWxsSG9zdEluQ3NzVGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKGNvbG9uSG9zdENvbnRleHRSZSx0KS5yZXBsYWNlKGNvbG9uSG9zdFJlLHMpfSxwcm9wZXJ0aWVzRnJvbVJ1bGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5zdHlsZS5jc3NUZXh0O2Euc3R5bGUuY29udGVudCYmIWEuc3R5bGUuY29udGVudC5tYXRjaCgvWyciXSt8YXR0ci8pJiYoYj1iLnJlcGxhY2UoL2NvbnRlbnQ6W147XSo7L2csImNvbnRlbnQ6ICciK2Euc3R5bGUuY29udGVudCsiJzsiKSk7dmFyIGM9YS5zdHlsZTtmb3IodmFyIGQgaW4gYykiaW5pdGlhbCI9PT1jW2RdJiYoYis9ZCsiOiBpbml0aWFsOyAiKTtyZXR1cm4gYn0scmVwbGFjZVRleHRJblN0eWxlczpmdW5jdGlvbihhLGIpe2EmJmImJihhIGluc3RhbmNlb2YgQXJyYXl8fChhPVthXSksQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2EudGV4dENvbnRlbnQ9Yi5jYWxsKHRoaXMsYS50ZXh0Q29udGVudCl9LHRoaXMpKX0sYWRkQ3NzVG9Eb2N1bWVudDpmdW5jdGlvbihhLGIpe2EubWF0Y2goIkBpbXBvcnQiKT9pKGEsYik6aChhKX19LGw9L1wvXCpbXipdKlwqKyhbXi8qXVteKl0qXCorKSpcLy9naW0sbT0vXC9cKlxzKkBwb2x5ZmlsbCAoW14qXSpcKisoW14vKl1bXipdKlwqKykqXC8pKFtee10qPyl7L2dpbSxuPS9wb2x5ZmlsbC1uZXh0LXNlbGVjdG9yW159XSpjb250ZW50XDpbXHNdKicoW14nXSopJ1tefV0qfShbXntdKj8pey9naW0sbz0vXC9cKlxzQHBvbHlmaWxsLXJ1bGUoW14qXSpcKisoW14vKl1bXipdKlwqKykqKVwvL2dpbSxwPS8ocG9seWZpbGwtcnVsZSlbXn1dKihjb250ZW50XDpbXHNdKicoW14nXSopJ1teO10qOylbXn1dKn0vZ2ltLHE9L1wvXCpcc0Bwb2x5ZmlsbC11bnNjb3BlZC1ydWxlKFteKl0qXCorKFteLypdW14qXSpcKispKilcLy9naW0scj0vKHBvbHlmaWxsLXVuc2NvcGVkLXJ1bGUpW159XSooY29udGVudFw6W1xzXSonKFteJ10qKSdbXjtdKjspW159XSp9L2dpbSxzPSItc2hhZG93Y3NzaG9zdCIsdD0iLXNoYWRvd2Nzc2NvbnRleHQiLHU9IikoPzpcXCgoKD86XFwoW14pKF0qXFwpfFteKShdKikrPylcXCkpPyhbXix7XSopIjtjc3NDb2xvbkhvc3RSZT1uZXcgUmVnRXhwKCIoIitzK3UsImdpbSIpLGNzc0NvbG9uSG9zdENvbnRleHRSZT1uZXcgUmVnRXhwKCIoIit0K3UsImdpbSIpLHNlbGVjdG9yUmVTdWZmaXg9IihbPlxcc34rWy4sezpdW1xcc1xcU10qKT8kIixjb2xvbkhvc3RSZT0vXDpob3N0L2dpbSxjb2xvbkhvc3RDb250ZXh0UmU9L1w6aG9zdC1jb250ZXh0L2dpbSxwb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3I9cysiLW5vLWNvbWJpbmF0b3IiLHBvbHlmaWxsSG9zdFJlPW5ldyBSZWdFeHAocywiZ2ltIikscG9seWZpbGxIb3N0Q29udGV4dFJlPW5ldyBSZWdFeHAodCwiZ2ltIiksY29tYmluYXRvcnNSZT1bL1xeXF4vZywvXF4vZywvXC9zaGFkb3dcLy9nLC9cL3NoYWRvdy1kZWVwXC8vZywvOjpzaGFkb3cvZywvXC9kZWVwXC8vZ107dmFyIHY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7di5zdHlsZS5kaXNwbGF5PSJub25lIjt2YXIgdyx4PW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goIkNocm9tZSIpLHk9InNoaW0tc2hhZG93ZG9tIix6PSJzaGltLXNoYWRvd2RvbS1jc3MiLEE9Im5vLXNoaW0iO2lmKHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCl7aCgic3R5bGUgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH1cbiIpO3ZhciBCPXdyYXAoZG9jdW1lbnQpLEM9Qi5xdWVyeVNlbGVjdG9yKCJoZWFkIik7Qy5pbnNlcnRCZWZvcmUoaigpLEMuY2hpbGROb2Rlc1swXSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXt2YXIgYj1hLnVybFJlc29sdmVyO2lmKHdpbmRvdy5IVE1MSW1wb3J0cyYmIUhUTUxJbXBvcnRzLnVzZU5hdGl2ZSl7dmFyIGM9ImxpbmtbcmVsPXN0eWxlc2hlZXRdWyIreSsiXSIsZD0ic3R5bGVbIit5KyJdIjtIVE1MSW1wb3J0cy5pbXBvcnRlci5kb2N1bWVudFByZWxvYWRTZWxlY3RvcnMrPSIsIitjLEhUTUxJbXBvcnRzLmltcG9ydGVyLmltcG9ydHNQcmVsb2FkU2VsZWN0b3JzKz0iLCIrYyxIVE1MSW1wb3J0cy5wYXJzZXIuZG9jdW1lbnRTZWxlY3RvcnM9W0hUTUxJbXBvcnRzLnBhcnNlci5kb2N1bWVudFNlbGVjdG9ycyxjLGRdLmpvaW4oIiwiKTt2YXIgZT1IVE1MSW1wb3J0cy5wYXJzZXIucGFyc2VHZW5lcmljO0hUTUxJbXBvcnRzLnBhcnNlci5wYXJzZUdlbmVyaWM9ZnVuY3Rpb24oYSl7aWYoIWFbel0pe3ZhciBjPWEuX19pbXBvcnRFbGVtZW50fHxhO2lmKCFjLmhhc0F0dHJpYnV0ZSh5KSlyZXR1cm4gdm9pZCBlLmNhbGwodGhpcyxhKTthLl9fcmVzb3VyY2U/KGM9YS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksYy50ZXh0Q29udGVudD1iLnJlc29sdmVDc3NUZXh0KGEuX19yZXNvdXJjZSxhLmhyZWYpKTpiLnJlc29sdmVTdHlsZShjKSxjLnRleHRDb250ZW50PWsuc2hpbVN0eWxlKGMpLGMucmVtb3ZlQXR0cmlidXRlKHksIiIpLGMuc2V0QXR0cmlidXRlKHosIiIpLGNbel09ITAsYy5wYXJlbnROb2RlIT09QyYmKGEucGFyZW50Tm9kZT09PUM/Qy5yZXBsYWNlQ2hpbGQoYyxhKTpDLmFwcGVuZENoaWxkKGMpKSxjLl9faW1wb3J0UGFyc2VkPSEwLHRoaXMubWFya1BhcnNpbmdDb21wbGV0ZShhKX19O3ZhciBmPUhUTUxJbXBvcnRzLnBhcnNlci5oYXNSZXNvdXJjZTtIVE1MSW1wb3J0cy5wYXJzZXIuaGFzUmVzb3VyY2U9ZnVuY3Rpb24oYSl7cmV0dXJuImxpbmsiPT09YS5sb2NhbE5hbWUmJiJzdHlsZXNoZWV0Ij09PWEucmVsJiZhLmhhc0F0dHJpYnV0ZSh5KT9hLl9fcmVzb3VyY2U6Zi5jYWxsKHRoaXMsYSl9fX0pfWEuU2hhZG93Q1NTPWt9KHdpbmRvdy5QbGF0Zm9ybSkpOiFmdW5jdGlvbigpe3dpbmRvdy53cmFwPXdpbmRvdy51bndyYXA9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LGFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGZ1bmN0aW9uKCl7aWYoQ3VzdG9tRWxlbWVudHMudXNlTmF0aXZlPT09ITEpe3ZhciBhPUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3Q7RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdD1mdW5jdGlvbigpe3ZhciBiPWEuY2FsbCh0aGlzKTtyZXR1cm4gQ3VzdG9tRWxlbWVudHMud2F0Y2hTaGFkb3codGhpcyksYn19fSksUGxhdGZvcm0udGVtcGxhdGVDb250ZW50PWZ1bmN0aW9uKGEpe2lmKHdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50JiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcCYmSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXAoYSksIWEuY29udGVudCYmIWEuX2NvbnRlbnQpe2Zvcih2YXIgYj1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7YS5maXJzdENoaWxkOyliLmFwcGVuZENoaWxkKGEuZmlyc3RDaGlsZCk7YS5fY29udGVudD1ifXJldHVybiBhLmNvbnRlbnR8fGEuX2NvbnRlbnR9fSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3JldHVybiB2b2lkIDAhPT1tW2FdfWZ1bmN0aW9uIGMoKXtoLmNhbGwodGhpcyksdGhpcy5faXNJbnZhbGlkPSEwfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIiI9PWEmJmMuY2FsbCh0aGlzKSxhLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gZShhKXt2YXIgYj1hLmNoYXJDb2RlQXQoMCk7cmV0dXJuIGI+MzImJjEyNz5iJiYtMT09WzM0LDM1LDYwLDYyLDYzLDk2XS5pbmRleE9mKGIpP2E6ZW5jb2RlVVJJQ29tcG9uZW50KGEpfWZ1bmN0aW9uIGYoYSl7dmFyIGI9YS5jaGFyQ29kZUF0KDApO3JldHVybiBiPjMyJiYxMjc+YiYmLTE9PVszNCwzNSw2MCw2Miw5Nl0uaW5kZXhPZihiKT9hOmVuY29kZVVSSUNvbXBvbmVudChhKX1mdW5jdGlvbiBnKGEsZyxoKXtmdW5jdGlvbiBpKGEpe3QucHVzaChhKX12YXIgaj1nfHwic2NoZW1lIHN0YXJ0IixrPTAsbD0iIixyPSExLHM9ITEsdD1bXTthOmZvcig7KGFbay0xXSE9b3x8MD09aykmJiF0aGlzLl9pc0ludmFsaWQ7KXt2YXIgdT1hW2tdO3N3aXRjaChqKXtjYXNlInNjaGVtZSBzdGFydCI6aWYoIXV8fCFwLnRlc3QodSkpe2lmKGcpe2koIkludmFsaWQgc2NoZW1lLiIpO2JyZWFrIGF9bD0iIixqPSJubyBzY2hlbWUiO2NvbnRpbnVlfWwrPXUudG9Mb3dlckNhc2UoKSxqPSJzY2hlbWUiO2JyZWFrO2Nhc2Uic2NoZW1lIjppZih1JiZxLnRlc3QodSkpbCs9dS50b0xvd2VyQ2FzZSgpO2Vsc2V7aWYoIjoiIT11KXtpZihnKXtpZihvPT11KWJyZWFrIGE7aSgiQ29kZSBwb2ludCBub3QgYWxsb3dlZCBpbiBzY2hlbWU6ICIrdSk7YnJlYWsgYX1sPSIiLGs9MCxqPSJubyBzY2hlbWUiO2NvbnRpbnVlfWlmKHRoaXMuX3NjaGVtZT1sLGw9IiIsZylicmVhayBhO2IodGhpcy5fc2NoZW1lKSYmKHRoaXMuX2lzUmVsYXRpdmU9ITApLGo9ImZpbGUiPT10aGlzLl9zY2hlbWU/InJlbGF0aXZlIjp0aGlzLl9pc1JlbGF0aXZlJiZoJiZoLl9zY2hlbWU9PXRoaXMuX3NjaGVtZT8icmVsYXRpdmUgb3IgYXV0aG9yaXR5Ijp0aGlzLl9pc1JlbGF0aXZlPyJhdXRob3JpdHkgZmlyc3Qgc2xhc2giOiJzY2hlbWUgZGF0YSJ9YnJlYWs7Y2FzZSJzY2hlbWUgZGF0YSI6Ij8iPT11PyhxdWVyeT0iPyIsaj0icXVlcnkiKToiIyI9PXU/KHRoaXMuX2ZyYWdtZW50PSIjIixqPSJmcmFnbWVudCIpOm8hPXUmJiIJIiE9dSYmIlxuIiE9dSYmIlxyIiE9dSYmKHRoaXMuX3NjaGVtZURhdGErPWUodSkpO2JyZWFrO2Nhc2Uibm8gc2NoZW1lIjppZihoJiZiKGguX3NjaGVtZSkpe2o9InJlbGF0aXZlIjtjb250aW51ZX1pKCJNaXNzaW5nIHNjaGVtZS4iKSxjLmNhbGwodGhpcyk7YnJlYWs7Y2FzZSJyZWxhdGl2ZSBvciBhdXRob3JpdHkiOmlmKCIvIiE9dXx8Ii8iIT1hW2srMV0pe2koIkV4cGVjdGVkIC8sIGdvdDogIit1KSxqPSJyZWxhdGl2ZSI7Y29udGludWV9aj0iYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIjticmVhaztjYXNlInJlbGF0aXZlIjppZih0aGlzLl9pc1JlbGF0aXZlPSEwLCJmaWxlIiE9dGhpcy5fc2NoZW1lJiYodGhpcy5fc2NoZW1lPWguX3NjaGVtZSksbz09dSl7dGhpcy5faG9zdD1oLl9ob3N0LHRoaXMuX3BvcnQ9aC5fcG9ydCx0aGlzLl9wYXRoPWguX3BhdGguc2xpY2UoKSx0aGlzLl9xdWVyeT1oLl9xdWVyeTticmVhayBhfWlmKCIvIj09dXx8IlxcIj09dSkiXFwiPT11JiZpKCJcXCBpcyBhbiBpbnZhbGlkIGNvZGUgcG9pbnQuIiksaj0icmVsYXRpdmUgc2xhc2giO2Vsc2UgaWYoIj8iPT11KXRoaXMuX2hvc3Q9aC5faG9zdCx0aGlzLl9wb3J0PWguX3BvcnQsdGhpcy5fcGF0aD1oLl9wYXRoLnNsaWNlKCksdGhpcy5fcXVlcnk9Ij8iLGo9InF1ZXJ5IjtlbHNle2lmKCIjIiE9dSl7dmFyIHY9YVtrKzFdLHc9YVtrKzJdOygiZmlsZSIhPXRoaXMuX3NjaGVtZXx8IXAudGVzdCh1KXx8IjoiIT12JiYifCIhPXZ8fG8hPXcmJiIvIiE9dyYmIlxcIiE9dyYmIj8iIT13JiYiIyIhPXcpJiYodGhpcy5faG9zdD1oLl9ob3N0LHRoaXMuX3BvcnQ9aC5fcG9ydCx0aGlzLl9wYXRoPWguX3BhdGguc2xpY2UoKSx0aGlzLl9wYXRoLnBvcCgpKSxqPSJyZWxhdGl2ZSBwYXRoIjtjb250aW51ZX10aGlzLl9ob3N0PWguX2hvc3QsdGhpcy5fcG9ydD1oLl9wb3J0LHRoaXMuX3BhdGg9aC5fcGF0aC5zbGljZSgpLHRoaXMuX3F1ZXJ5PWguX3F1ZXJ5LHRoaXMuX2ZyYWdtZW50PSIjIixqPSJmcmFnbWVudCJ9YnJlYWs7Y2FzZSJyZWxhdGl2ZSBzbGFzaCI6aWYoIi8iIT11JiYiXFwiIT11KXsiZmlsZSIhPXRoaXMuX3NjaGVtZSYmKHRoaXMuX2hvc3Q9aC5faG9zdCx0aGlzLl9wb3J0PWguX3BvcnQpLGo9InJlbGF0aXZlIHBhdGgiO2NvbnRpbnVlfSJcXCI9PXUmJmkoIlxcIGlzIGFuIGludmFsaWQgY29kZSBwb2ludC4iKSxqPSJmaWxlIj09dGhpcy5fc2NoZW1lPyJmaWxlIGhvc3QiOiJhdXRob3JpdHkgaWdub3JlIHNsYXNoZXMiO2JyZWFrO2Nhc2UiYXV0aG9yaXR5IGZpcnN0IHNsYXNoIjppZigiLyIhPXUpe2koIkV4cGVjdGVkICcvJywgZ290OiAiK3UpLGo9ImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyI7Y29udGludWV9aj0iYXV0aG9yaXR5IHNlY29uZCBzbGFzaCI7YnJlYWs7Y2FzZSJhdXRob3JpdHkgc2Vjb25kIHNsYXNoIjppZihqPSJhdXRob3JpdHkgaWdub3JlIHNsYXNoZXMiLCIvIiE9dSl7aSgiRXhwZWN0ZWQgJy8nLCBnb3Q6ICIrdSk7Y29udGludWV9YnJlYWs7Y2FzZSJhdXRob3JpdHkgaWdub3JlIHNsYXNoZXMiOmlmKCIvIiE9dSYmIlxcIiE9dSl7aj0iYXV0aG9yaXR5Ijtjb250aW51ZX1pKCJFeHBlY3RlZCBhdXRob3JpdHksIGdvdDogIit1KTticmVhaztjYXNlImF1dGhvcml0eSI6aWYoIkAiPT11KXtyJiYoaSgiQCBhbHJlYWR5IHNlZW4uIiksbCs9IiU0MCIpLHI9ITA7Zm9yKHZhciB4PTA7eDxsLmxlbmd0aDt4Kyspe3ZhciB5PWxbeF07aWYoIgkiIT15JiYiXG4iIT15JiYiXHIiIT15KWlmKCI6IiE9eXx8bnVsbCE9PXRoaXMuX3Bhc3N3b3JkKXt2YXIgej1lKHkpO251bGwhPT10aGlzLl9wYXNzd29yZD90aGlzLl9wYXNzd29yZCs9ejp0aGlzLl91c2VybmFtZSs9en1lbHNlIHRoaXMuX3Bhc3N3b3JkPSIiO2Vsc2UgaSgiSW52YWxpZCB3aGl0ZXNwYWNlIGluIGF1dGhvcml0eS4iKX1sPSIifWVsc2V7aWYobz09dXx8Ii8iPT11fHwiXFwiPT11fHwiPyI9PXV8fCIjIj09dSl7ay09bC5sZW5ndGgsbD0iIixqPSJob3N0Ijtjb250aW51ZX1sKz11fWJyZWFrO2Nhc2UiZmlsZSBob3N0IjppZihvPT11fHwiLyI9PXV8fCJcXCI9PXV8fCI/Ij09dXx8IiMiPT11KXsyIT1sLmxlbmd0aHx8IXAudGVzdChsWzBdKXx8IjoiIT1sWzFdJiYifCIhPWxbMV0/MD09bC5sZW5ndGg/aj0icmVsYXRpdmUgcGF0aCBzdGFydCI6KHRoaXMuX2hvc3Q9ZC5jYWxsKHRoaXMsbCksbD0iIixqPSJyZWxhdGl2ZSBwYXRoIHN0YXJ0Iik6aj0icmVsYXRpdmUgcGF0aCI7Y29udGludWV9IgkiPT11fHwiXG4iPT11fHwiXHIiPT11P2koIkludmFsaWQgd2hpdGVzcGFjZSBpbiBmaWxlIGhvc3QuIik6bCs9dTticmVhaztjYXNlImhvc3QiOmNhc2UiaG9zdG5hbWUiOmlmKCI6IiE9dXx8cyl7aWYobz09dXx8Ii8iPT11fHwiXFwiPT11fHwiPyI9PXV8fCIjIj09dSl7aWYodGhpcy5faG9zdD1kLmNhbGwodGhpcyxsKSxsPSIiLGo9InJlbGF0aXZlIHBhdGggc3RhcnQiLGcpYnJlYWsgYTtjb250aW51ZX0iCSIhPXUmJiJcbiIhPXUmJiJcciIhPXU/KCJbIj09dT9zPSEwOiJdIj09dSYmKHM9ITEpLGwrPXUpOmkoIkludmFsaWQgY29kZSBwb2ludCBpbiBob3N0L2hvc3RuYW1lOiAiK3UpfWVsc2UgaWYodGhpcy5faG9zdD1kLmNhbGwodGhpcyxsKSxsPSIiLGo9InBvcnQiLCJob3N0bmFtZSI9PWcpYnJlYWsgYTticmVhaztjYXNlInBvcnQiOmlmKC9bMC05XS8udGVzdCh1KSlsKz11O2Vsc2V7aWYobz09dXx8Ii8iPT11fHwiXFwiPT11fHwiPyI9PXV8fCIjIj09dXx8Zyl7aWYoIiIhPWwpe3ZhciBBPXBhcnNlSW50KGwsMTApO0EhPW1bdGhpcy5fc2NoZW1lXSYmKHRoaXMuX3BvcnQ9QSsiIiksbD0iIn1pZihnKWJyZWFrIGE7aj0icmVsYXRpdmUgcGF0aCBzdGFydCI7Y29udGludWV9IgkiPT11fHwiXG4iPT11fHwiXHIiPT11P2koIkludmFsaWQgY29kZSBwb2ludCBpbiBwb3J0OiAiK3UpOmMuY2FsbCh0aGlzKX1icmVhaztjYXNlInJlbGF0aXZlIHBhdGggc3RhcnQiOmlmKCJcXCI9PXUmJmkoIidcXCcgbm90IGFsbG93ZWQgaW4gcGF0aC4iKSxqPSJyZWxhdGl2ZSBwYXRoIiwiLyIhPXUmJiJcXCIhPXUpY29udGludWU7YnJlYWs7Y2FzZSJyZWxhdGl2ZSBwYXRoIjppZihvIT11JiYiLyIhPXUmJiJcXCIhPXUmJihnfHwiPyIhPXUmJiIjIiE9dSkpIgkiIT11JiYiXG4iIT11JiYiXHIiIT11JiYobCs9ZSh1KSk7ZWxzZXsiXFwiPT11JiZpKCJcXCBub3QgYWxsb3dlZCBpbiByZWxhdGl2ZSBwYXRoLiIpO3ZhciBCOyhCPW5bbC50b0xvd2VyQ2FzZSgpXSkmJihsPUIpLCIuLiI9PWw/KHRoaXMuX3BhdGgucG9wKCksIi8iIT11JiYiXFwiIT11JiZ0aGlzLl9wYXRoLnB1c2goIiIpKToiLiI9PWwmJiIvIiE9dSYmIlxcIiE9dT90aGlzLl9wYXRoLnB1c2goIiIpOiIuIiE9bCYmKCJmaWxlIj09dGhpcy5fc2NoZW1lJiYwPT10aGlzLl9wYXRoLmxlbmd0aCYmMj09bC5sZW5ndGgmJnAudGVzdChsWzBdKSYmInwiPT1sWzFdJiYobD1sWzBdKyI6IiksdGhpcy5fcGF0aC5wdXNoKGwpKSxsPSIiLCI/Ij09dT8odGhpcy5fcXVlcnk9Ij8iLGo9InF1ZXJ5Iik6IiMiPT11JiYodGhpcy5fZnJhZ21lbnQ9IiMiLGo9ImZyYWdtZW50Iil9YnJlYWs7Y2FzZSJxdWVyeSI6Z3x8IiMiIT11P28hPXUmJiIJIiE9dSYmIlxuIiE9dSYmIlxyIiE9dSYmKHRoaXMuX3F1ZXJ5Kz1mKHUpKToodGhpcy5fZnJhZ21lbnQ9IiMiLGo9ImZyYWdtZW50Iik7YnJlYWs7Y2FzZSJmcmFnbWVudCI6byE9dSYmIgkiIT11JiYiXG4iIT11JiYiXHIiIT11JiYodGhpcy5fZnJhZ21lbnQrPXUpfWsrK319ZnVuY3Rpb24gaCgpe3RoaXMuX3NjaGVtZT0iIix0aGlzLl9zY2hlbWVEYXRhPSIiLHRoaXMuX3VzZXJuYW1lPSIiLHRoaXMuX3Bhc3N3b3JkPW51bGwsdGhpcy5faG9zdD0iIix0aGlzLl9wb3J0PSIiLHRoaXMuX3BhdGg9W10sdGhpcy5fcXVlcnk9IiIsdGhpcy5fZnJhZ21lbnQ9IiIsdGhpcy5faXNJbnZhbGlkPSExLHRoaXMuX2lzUmVsYXRpdmU9ITEKfWZ1bmN0aW9uIGkoYSxiKXt2b2lkIDA9PT1ifHxiIGluc3RhbmNlb2YgaXx8KGI9bmV3IGkoU3RyaW5nKGIpKSksdGhpcy5fdXJsPWEsaC5jYWxsKHRoaXMpO3ZhciBjPWEucmVwbGFjZSgvXlsgXHRcclxuXGZdK3xbIFx0XHJcblxmXSskL2csIiIpO2cuY2FsbCh0aGlzLGMsbnVsbCxiKX12YXIgaj0hMTtpZighYS5mb3JjZUpVUkwpdHJ5e3ZhciBrPW5ldyBVUkwoImIiLCJodHRwOi8vYSIpO2o9Imh0dHA6Ly9hL2IiPT09ay5ocmVmfWNhdGNoKGwpe31pZighail7dmFyIG09T2JqZWN0LmNyZWF0ZShudWxsKTttLmZ0cD0yMSxtLmZpbGU9MCxtLmdvcGhlcj03MCxtLmh0dHA9ODAsbS5odHRwcz00NDMsbS53cz04MCxtLndzcz00NDM7dmFyIG49T2JqZWN0LmNyZWF0ZShudWxsKTtuWyIlMmUiXT0iLiIsblsiLiUyZSJdPSIuLiIsblsiJTJlLiJdPSIuLiIsblsiJTJlJTJlIl09Ii4uIjt2YXIgbz12b2lkIDAscD0vW2EtekEtWl0vLHE9L1thLXpBLVowLTlcK1wtXC5dLztpLnByb3RvdHlwZT17Z2V0IGhyZWYoKXtpZih0aGlzLl9pc0ludmFsaWQpcmV0dXJuIHRoaXMuX3VybDt2YXIgYT0iIjtyZXR1cm4oIiIhPXRoaXMuX3VzZXJuYW1lfHxudWxsIT10aGlzLl9wYXNzd29yZCkmJihhPXRoaXMuX3VzZXJuYW1lKyhudWxsIT10aGlzLl9wYXNzd29yZD8iOiIrdGhpcy5fcGFzc3dvcmQ6IiIpKyJAIiksdGhpcy5wcm90b2NvbCsodGhpcy5faXNSZWxhdGl2ZT8iLy8iK2ErdGhpcy5ob3N0OiIiKSt0aGlzLnBhdGhuYW1lK3RoaXMuX3F1ZXJ5K3RoaXMuX2ZyYWdtZW50fSxzZXQgaHJlZihhKXtoLmNhbGwodGhpcyksZy5jYWxsKHRoaXMsYSl9LGdldCBwcm90b2NvbCgpe3JldHVybiB0aGlzLl9zY2hlbWUrIjoifSxzZXQgcHJvdG9jb2woYSl7dGhpcy5faXNJbnZhbGlkfHxnLmNhbGwodGhpcyxhKyI6Iiwic2NoZW1lIHN0YXJ0Iil9LGdldCBob3N0KCl7cmV0dXJuIHRoaXMuX2lzSW52YWxpZD8iIjp0aGlzLl9wb3J0P3RoaXMuX2hvc3QrIjoiK3RoaXMuX3BvcnQ6dGhpcy5faG9zdH0sc2V0IGhvc3QoYSl7IXRoaXMuX2lzSW52YWxpZCYmdGhpcy5faXNSZWxhdGl2ZSYmZy5jYWxsKHRoaXMsYSwiaG9zdCIpfSxnZXQgaG9zdG5hbWUoKXtyZXR1cm4gdGhpcy5faG9zdH0sc2V0IGhvc3RuYW1lKGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJmcuY2FsbCh0aGlzLGEsImhvc3RuYW1lIil9LGdldCBwb3J0KCl7cmV0dXJuIHRoaXMuX3BvcnR9LHNldCBwb3J0KGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJmcuY2FsbCh0aGlzLGEsInBvcnQiKX0sZ2V0IHBhdGhuYW1lKCl7cmV0dXJuIHRoaXMuX2lzSW52YWxpZD8iIjp0aGlzLl9pc1JlbGF0aXZlPyIvIit0aGlzLl9wYXRoLmpvaW4oIi8iKTp0aGlzLl9zY2hlbWVEYXRhfSxzZXQgcGF0aG5hbWUoYSl7IXRoaXMuX2lzSW52YWxpZCYmdGhpcy5faXNSZWxhdGl2ZSYmKHRoaXMuX3BhdGg9W10sZy5jYWxsKHRoaXMsYSwicmVsYXRpdmUgcGF0aCBzdGFydCIpKX0sZ2V0IHNlYXJjaCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWR8fCF0aGlzLl9xdWVyeXx8Ij8iPT10aGlzLl9xdWVyeT8iIjp0aGlzLl9xdWVyeX0sc2V0IHNlYXJjaChhKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiYodGhpcy5fcXVlcnk9Ij8iLCI/Ij09YVswXSYmKGE9YS5zbGljZSgxKSksZy5jYWxsKHRoaXMsYSwicXVlcnkiKSl9LGdldCBoYXNoKCl7cmV0dXJuIHRoaXMuX2lzSW52YWxpZHx8IXRoaXMuX2ZyYWdtZW50fHwiIyI9PXRoaXMuX2ZyYWdtZW50PyIiOnRoaXMuX2ZyYWdtZW50fSxzZXQgaGFzaChhKXt0aGlzLl9pc0ludmFsaWR8fCh0aGlzLl9mcmFnbWVudD0iIyIsIiMiPT1hWzBdJiYoYT1hLnNsaWNlKDEpKSxnLmNhbGwodGhpcyxhLCJmcmFnbWVudCIpKX19LGEuVVJMPWl9fSh3aW5kb3cpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7Zm9yKHZhciBiPWF8fHt9LGQ9MTtkPGFyZ3VtZW50cy5sZW5ndGg7ZCsrKXt2YXIgZT1hcmd1bWVudHNbZF07dHJ5e2Zvcih2YXIgZiBpbiBlKWMoZixlLGIpfWNhdGNoKGcpe319cmV0dXJuIGJ9ZnVuY3Rpb24gYyhhLGIsYyl7dmFyIGU9ZChiLGEpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLGEsZSl9ZnVuY3Rpb24gZChhLGIpe2lmKGEpe3ZhciBjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYSxiKTtyZXR1cm4gY3x8ZChPYmplY3QuZ2V0UHJvdG90eXBlT2YoYSksYil9fUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHwoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZD1jLnNsaWNlKCk7cmV0dXJuIGQucHVzaC5hcHBseShkLGFyZ3VtZW50cyksYi5hcHBseShhLGQpfX0pLGEubWl4aW49Yn0od2luZG93LlBsYXRmb3JtKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIsYyl7dmFyIGQ9InN0cmluZyI9PXR5cGVvZiBhP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYSk6YS5jbG9uZU5vZGUoITApO2lmKGQuaW5uZXJIVE1MPWIsYylmb3IodmFyIGUgaW4gYylkLnNldEF0dHJpYnV0ZShlLGNbZV0pO3JldHVybiBkfXZhciBjPURPTVRva2VuTGlzdC5wcm90b3R5cGUuYWRkLGQ9RE9NVG9rZW5MaXN0LnByb3RvdHlwZS5yZW1vdmU7RE9NVG9rZW5MaXN0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPGFyZ3VtZW50cy5sZW5ndGg7YSsrKWMuY2FsbCh0aGlzLGFyZ3VtZW50c1thXSl9LERPTVRva2VuTGlzdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTxhcmd1bWVudHMubGVuZ3RoO2ErKylkLmNhbGwodGhpcyxhcmd1bWVudHNbYV0pfSxET01Ub2tlbkxpc3QucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihhLGIpezE9PWFyZ3VtZW50cy5sZW5ndGgmJihiPSF0aGlzLmNvbnRhaW5zKGEpKSxiP3RoaXMuYWRkKGEpOnRoaXMucmVtb3ZlKGEpfSxET01Ub2tlbkxpc3QucHJvdG90eXBlLnN3aXRjaD1mdW5jdGlvbihhLGIpe2EmJnRoaXMucmVtb3ZlKGEpLGImJnRoaXMuYWRkKGIpfTt2YXIgZT1mdW5jdGlvbigpe3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzKX0sZj13aW5kb3cuTmFtZWROb2RlTWFwfHx3aW5kb3cuTW96TmFtZWRBdHRyTWFwfHx7fTtpZihOb2RlTGlzdC5wcm90b3R5cGUuYXJyYXk9ZSxmLnByb3RvdHlwZS5hcnJheT1lLEhUTUxDb2xsZWN0aW9uLnByb3RvdHlwZS5hcnJheT1lLCF3aW5kb3cucGVyZm9ybWFuY2Upe3ZhciBnPURhdGUubm93KCk7d2luZG93LnBlcmZvcm1hbmNlPXtub3c6ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3coKS1nfX19d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8KHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXt2YXIgYT13aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lO3JldHVybiBhP2Z1bmN0aW9uKGIpe3JldHVybiBhKGZ1bmN0aW9uKCl7YihwZXJmb3JtYW5jZS5ub3coKSl9KX06ZnVuY3Rpb24oYSl7cmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGEsMWUzLzYwKX19KCkpLHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZXx8KHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZT1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oYSl7Y2xlYXJUaW1lb3V0KGEpfX0oKSk7dmFyIGg9W10saT1mdW5jdGlvbigpe2gucHVzaChhcmd1bWVudHMpfTt3aW5kb3cuUG9seW1lcj1pLGEuZGVsaXZlckRlY2xhcmF0aW9ucz1mdW5jdGlvbigpe3JldHVybiBhLmRlbGl2ZXJEZWNsYXJhdGlvbnM9ZnVuY3Rpb24oKXt0aHJvdyJQb3NzaWJsZSBhdHRlbXB0IHRvIGxvYWQgUG9seW1lciB0d2ljZSJ9LGh9LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixmdW5jdGlvbigpe3dpbmRvdy5Qb2x5bWVyPT09aSYmKHdpbmRvdy5Qb2x5bWVyPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcignWW91IHRyaWVkIHRvIHVzZSBwb2x5bWVyIHdpdGhvdXQgbG9hZGluZyBpdCBmaXJzdC4gVG8gbG9hZCBwb2x5bWVyLCA8bGluayByZWw9ImltcG9ydCIgaHJlZj0iY29tcG9uZW50cy9wb2x5bWVyL3BvbHltZXIuaHRtbCI+Jyl9KX0pLGEuY3JlYXRlRE9NPWJ9KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oYSl7YS50ZW1wbGF0ZUNvbnRlbnQ9YS50ZW1wbGF0ZUNvbnRlbnR8fGZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnRlbnR9fSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2E9YXx8KHdpbmRvdy5JbnNwZWN0b3I9e30pO3ZhciBiO3dpbmRvdy5zaW5zcGVjdD1mdW5jdGlvbihhLGQpe2J8fChiPXdpbmRvdy5vcGVuKCIiLCJTaGFkb3dET00gSW5zcGVjdG9yIixudWxsLCEwKSxiLmRvY3VtZW50LndyaXRlKGMpLGIuYXBpPXtzaGFkb3dpemU6c2hhZG93aXplfSksZihhfHx3cmFwKGRvY3VtZW50LmJvZHkpLGQpfTt2YXIgYz1bIjwhRE9DVFlQRSBodG1sPiIsIjxodG1sPiIsIiAgPGhlYWQ+IiwiICAgIDx0aXRsZT5TaGFkb3dET00gSW5zcGVjdG9yPC90aXRsZT4iLCIgICAgPHN0eWxlPiIsIiAgICAgIGJvZHkgeyIsIiAgICAgIH0iLCIgICAgICBwcmUgeyIsJyAgICAgICAgZm9udDogOXB0ICJDb3VyaWVyIE5ldyIsIG1vbm9zcGFjZTsnLCIgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjVlbTsiLCIgICAgICB9IiwiICAgICAgdGFnIHsiLCIgICAgICAgIGNvbG9yOiBwdXJwbGU7IiwiICAgICAgfSIsIiAgICAgIHVsIHsiLCIgICAgICAgICBtYXJnaW46IDA7IiwiICAgICAgICAgcGFkZGluZzogMDsiLCIgICAgICAgICBsaXN0LXN0eWxlOiBub25lOyIsIiAgICAgIH0iLCIgICAgICBsaSB7IiwiICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOyIsIiAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7IiwiICAgICAgICAgcGFkZGluZzogNHB4IDZweDsiLCIgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7IiwiICAgICAgICAgbWFyZ2luLXJpZ2h0OiA0cHg7IiwiICAgICAgfSIsIiAgICA8L3N0eWxlPiIsIiAgPC9oZWFkPiIsIiAgPGJvZHk+IiwnICAgIDx1bCBpZD0iY3J1bWJzIj4nLCIgICAgPC91bD4iLCcgICAgPGRpdiBpZD0idHJlZSI+PC9kaXY+JywiICA8L2JvZHk+IiwiPC9odG1sPiJdLmpvaW4oIlxuIiksZD1bXSxlPWZ1bmN0aW9uKCl7dmFyIGE9Yi5kb2N1bWVudCxjPWEucXVlcnlTZWxlY3RvcigiI2NydW1icyIpO2MudGV4dENvbnRlbnQ9IiI7Zm9yKHZhciBlLGc9MDtlPWRbZ107ZysrKXt2YXIgaD1hLmNyZWF0ZUVsZW1lbnQoImEiKTtoLmhyZWY9IiMiLGgudGV4dENvbnRlbnQ9ZS5sb2NhbE5hbWUsaC5pZHg9ZyxoLm9uY2xpY2s9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiO2QubGVuZ3RoPnRoaXMuaWR4OyliPWQucG9wKCk7ZihiLnNoYWRvd3x8YixiKSxhLnByZXZlbnREZWZhdWx0KCl9LGMuYXBwZW5kQ2hpbGQoYS5jcmVhdGVFbGVtZW50KCJsaSIpKS5hcHBlbmRDaGlsZChoKX19LGY9ZnVuY3Rpb24oYSxjKXt2YXIgZj1iLmRvY3VtZW50O2s9W107dmFyIGc9Y3x8YTtkLnB1c2goZyksZSgpLGYuYm9keS5xdWVyeVNlbGVjdG9yKCIjdHJlZSIpLmlubmVySFRNTD0iPHByZT4iK2ooYSxhLmNoaWxkTm9kZXMpKyI8L3ByZT4ifSxnPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCksaD17U1RZTEU6MSxTQ1JJUFQ6MSwiI2NvbW1lbnQiOjEsVEVNUExBVEU6MX0saT1mdW5jdGlvbihhKXtyZXR1cm4gaFthLm5vZGVOYW1lXX0saj1mdW5jdGlvbihhLGIsYyl7aWYoaShhKSlyZXR1cm4iIjt2YXIgZD1jfHwiIjtpZihhLmxvY2FsTmFtZXx8MTE9PWEubm9kZVR5cGUpe3ZhciBlPWEubG9jYWxOYW1lfHwic2hhZG93LXJvb3QiLGY9ZCtsKGEpOyJjb250ZW50Ij09ZSYmKGI9YS5nZXREaXN0cmlidXRlZE5vZGVzKCkpLGYrPSI8YnIvPiI7dmFyIGg9ZCsiJm5ic3A7Jm5ic3A7IjtnKGIsZnVuY3Rpb24oYSl7Zis9aihhLGEuY2hpbGROb2RlcyxoKX0pLGYrPWQse2JyOjF9W2VdfHwoZis9Ijx0YWc+Jmx0Oy8iK2UrIiZndDs8L3RhZz4iLGYrPSI8YnIvPiIpfWVsc2V7dmFyIGs9YS50ZXh0Q29udGVudC50cmltKCk7Zj1rP2QrJyInK2srJyI8YnIvPic6IiJ9cmV0dXJuIGZ9LGs9W10sbD1mdW5jdGlvbihhKXt2YXIgYj0iPHRhZz4mbHQ7IixjPWEubG9jYWxOYW1lfHwic2hhZG93LXJvb3QiO3JldHVybiBhLndlYmtpdFNoYWRvd1Jvb3R8fGEuc2hhZG93Um9vdD8oYis9JyA8YnV0dG9uIGlkeD0iJytrLmxlbmd0aCsnIiBvbmNsaWNrPSJhcGkuc2hhZG93aXplLmNhbGwodGhpcykiPicrYysiPC9idXR0b24+IixrLnB1c2goYSkpOmIrPWN8fCJzaGFkb3ctcm9vdCIsYS5hdHRyaWJ1dGVzJiZnKGEuYXR0cmlidXRlcyxmdW5jdGlvbihhKXtiKz0iICIrYS5uYW1lKyhhLnZhbHVlPyc9IicrYS52YWx1ZSsnIic6IiIpfSksYis9IiZndDs8L3RhZz4ifTtzaGFkb3dpemU9ZnVuY3Rpb24oKXt2YXIgYT1OdW1iZXIodGhpcy5hdHRyaWJ1dGVzLmlkeC52YWx1ZSksYj1rW2FdO2I/ZihiLndlYmtpdFNoYWRvd1Jvb3R8fGIuc2hhZG93Um9vdCxiKTooY29uc29sZS5sb2coImJhZCBzaGFkb3dpemUgbm9kZSIpLGNvbnNvbGUuZGlyKHRoaXMpKX0sYS5vdXRwdXQ9an0od2luZG93Lkluc3BlY3RvciksZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2EudGV4dENvbnRlbnQ9ImJvZHkge3RyYW5zaXRpb246IG9wYWNpdHkgZWFzZS1pbiAwLjJzOyB9IFxuYm9keVt1bnJlc29sdmVkXSB7b3BhY2l0eTogMDsgZGlzcGxheTogYmxvY2s7IG92ZXJmbG93OiBoaWRkZW47IH0gXG4iO3ZhciBiPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImhlYWQiKTtiLmluc2VydEJlZm9yZShhLGIuZmlyc3RDaGlsZCl9KFBsYXRmb3JtKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYil7cmV0dXJuIGI9Ynx8W10sYi5tYXB8fChiPVtiXSksYS5hcHBseSh0aGlzLGIubWFwKGQpKX1mdW5jdGlvbiBjKGEsYyxkKXt2YXIgZTtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybjtjYXNlIDE6ZT1udWxsO2JyZWFrO2Nhc2UgMjplPWMuYXBwbHkodGhpcyk7YnJlYWs7ZGVmYXVsdDplPWIoZCxjKX1mW2FdPWV9ZnVuY3Rpb24gZChhKXtyZXR1cm4gZlthXX1mdW5jdGlvbiBlKGEsYyl7SFRNTEltcG9ydHMud2hlbkltcG9ydHNSZWFkeShmdW5jdGlvbigpe2IoYyxhKX0pfXZhciBmPXt9O2EubWFyc2hhbD1kLGEubW9kdWxlPWMsYS51c2luZz1lfSh3aW5kb3cpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7Zi50ZXh0Q29udGVudD1kKyssZS5wdXNoKGEpfWZ1bmN0aW9uIGMoKXtmb3IoO2UubGVuZ3RoOyllLnNoaWZ0KCkoKX12YXIgZD0wLGU9W10sZj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3KHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyfHxKc011dGF0aW9uT2JzZXJ2ZXIpKGMpLm9ic2VydmUoZix7Y2hhcmFjdGVyRGF0YTohMH0pLGEuZW5kT2ZNaWNyb3Rhc2s9Yn0oUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiLGQsZSl7cmV0dXJuIGEucmVwbGFjZShlLGZ1bmN0aW9uKGEsZSxmLGcpe3ZhciBoPWYucmVwbGFjZSgvWyInXS9nLCIiKTtyZXR1cm4gaD1jKGIsaCxkKSxlKyInIitoKyInIitnfSl9ZnVuY3Rpb24gYyhhLGIsYyl7aWYoYiYmIi8iPT09YlswXSlyZXR1cm4gYjt2YXIgZT1uZXcgVVJMKGIsYSk7cmV0dXJuIGM/ZS5ocmVmOmQoZS5ocmVmKX1mdW5jdGlvbiBkKGEpe3ZhciBiPW5ldyBVUkwoZG9jdW1lbnQuYmFzZVVSSSksYz1uZXcgVVJMKGEsYik7cmV0dXJuIGMuaG9zdD09PWIuaG9zdCYmYy5wb3J0PT09Yi5wb3J0JiZjLnByb3RvY29sPT09Yi5wcm90b2NvbD9lKGIsYyk6YX1mdW5jdGlvbiBlKGEsYil7Zm9yKHZhciBjPWEucGF0aG5hbWUsZD1iLnBhdGhuYW1lLGU9Yy5zcGxpdCgiLyIpLGY9ZC5zcGxpdCgiLyIpO2UubGVuZ3RoJiZlWzBdPT09ZlswXTspZS5zaGlmdCgpLGYuc2hpZnQoKTtmb3IodmFyIGc9MCxoPWUubGVuZ3RoLTE7aD5nO2crKylmLnVuc2hpZnQoIi4uIik7cmV0dXJuIGYuam9pbigiLyIpK2Iuc2VhcmNoK2IuaGFzaH12YXIgZj17cmVzb2x2ZURvbTpmdW5jdGlvbihhLGIpe2I9Ynx8YS5vd25lckRvY3VtZW50LmJhc2VVUkksdGhpcy5yZXNvbHZlQXR0cmlidXRlcyhhLGIpLHRoaXMucmVzb2x2ZVN0eWxlcyhhLGIpO3ZhciBjPWEucXVlcnlTZWxlY3RvckFsbCgidGVtcGxhdGUiKTtpZihjKWZvcih2YXIgZCxlPTAsZj1jLmxlbmd0aDtmPmUmJihkPWNbZV0pO2UrKylkLmNvbnRlbnQmJnRoaXMucmVzb2x2ZURvbShkLmNvbnRlbnQsYil9LHJlc29sdmVUZW1wbGF0ZTpmdW5jdGlvbihhKXt0aGlzLnJlc29sdmVEb20oYS5jb250ZW50LGEub3duZXJEb2N1bWVudC5iYXNlVVJJKX0scmVzb2x2ZVN0eWxlczpmdW5jdGlvbihhLGIpe3ZhciBjPWEucXVlcnlTZWxlY3RvckFsbCgic3R5bGUiKTtpZihjKWZvcih2YXIgZCxlPTAsZj1jLmxlbmd0aDtmPmUmJihkPWNbZV0pO2UrKyl0aGlzLnJlc29sdmVTdHlsZShkLGIpfSxyZXNvbHZlU3R5bGU6ZnVuY3Rpb24oYSxiKXtiPWJ8fGEub3duZXJEb2N1bWVudC5iYXNlVVJJLGEudGV4dENvbnRlbnQ9dGhpcy5yZXNvbHZlQ3NzVGV4dChhLnRleHRDb250ZW50LGIpfSxyZXNvbHZlQ3NzVGV4dDpmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGE9YihhLGMsZCxnKSxiKGEsYyxkLGgpfSxyZXNvbHZlQXR0cmlidXRlczpmdW5jdGlvbihhLGIpe2EuaGFzQXR0cmlidXRlcyYmYS5oYXNBdHRyaWJ1dGVzKCkmJnRoaXMucmVzb2x2ZUVsZW1lbnRBdHRyaWJ1dGVzKGEsYik7dmFyIGM9YSYmYS5xdWVyeVNlbGVjdG9yQWxsKGopO2lmKGMpZm9yKHZhciBkLGU9MCxmPWMubGVuZ3RoO2Y+ZSYmKGQ9Y1tlXSk7ZSsrKXRoaXMucmVzb2x2ZUVsZW1lbnRBdHRyaWJ1dGVzKGQsYil9LHJlc29sdmVFbGVtZW50QXR0cmlidXRlczpmdW5jdGlvbihhLGQpe2Q9ZHx8YS5vd25lckRvY3VtZW50LmJhc2VVUkksaS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBmLGg9YS5hdHRyaWJ1dGVzW2VdLGk9aCYmaC52YWx1ZTtpJiZpLnNlYXJjaChrKTwwJiYoZj0ic3R5bGUiPT09ZT9iKGksZCxnKTpjKGQsaSksaC52YWx1ZT1mKX0pfX0sZz0vKHVybFwoKShbXildKikoXCkpL2csaD0vKEBpbXBvcnRbXHNdKyg/IXVybFwoKSkoW147XSopKDspL2csaT1bImhyZWYiLCJzcmMiLCJhY3Rpb24iLCJzdHlsZSJdLGo9IlsiK2kuam9pbigiXSxbIikrIl0iLGs9Int7Lip9fSI7YS51cmxSZXNvbHZlcj1mfShQbGF0Zm9ybSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXt1LnB1c2goYSksdHx8KHQ9ITAscShkKSl9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gd2luZG93LlNoYWRvd0RPTVBvbHlmaWxsJiZ3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKGEpfHxhfWZ1bmN0aW9uIGQoKXt0PSExO3ZhciBhPXU7dT1bXSxhLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS51aWRfLWIudWlkX30pO3ZhciBiPSExO2EuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYz1hLnRha2VSZWNvcmRzKCk7ZShhKSxjLmxlbmd0aCYmKGEuY2FsbGJhY2tfKGMsYSksYj0hMCl9KSxiJiZkKCl9ZnVuY3Rpb24gZShhKXthLm5vZGVzXy5mb3JFYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPXAuZ2V0KGIpO2MmJmMuZm9yRWFjaChmdW5jdGlvbihiKXtiLm9ic2VydmVyPT09YSYmYi5yZW1vdmVUcmFuc2llbnRPYnNlcnZlcnMoKX0pfSl9ZnVuY3Rpb24gZihhLGIpe2Zvcih2YXIgYz1hO2M7Yz1jLnBhcmVudE5vZGUpe3ZhciBkPXAuZ2V0KGMpO2lmKGQpZm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV0sZz1mLm9wdGlvbnM7aWYoYz09PWF8fGcuc3VidHJlZSl7dmFyIGg9YihnKTtoJiZmLmVucXVldWUoaCl9fX19ZnVuY3Rpb24gZyhhKXt0aGlzLmNhbGxiYWNrXz1hLHRoaXMubm9kZXNfPVtdLHRoaXMucmVjb3Jkc189W10sdGhpcy51aWRfPSsrdn1mdW5jdGlvbiBoKGEsYil7dGhpcy50eXBlPWEsdGhpcy50YXJnZXQ9Yix0aGlzLmFkZGVkTm9kZXM9W10sdGhpcy5yZW1vdmVkTm9kZXM9W10sdGhpcy5wcmV2aW91c1NpYmxpbmc9bnVsbCx0aGlzLm5leHRTaWJsaW5nPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lc3BhY2U9bnVsbCx0aGlzLm9sZFZhbHVlPW51bGx9ZnVuY3Rpb24gaShhKXt2YXIgYj1uZXcgaChhLnR5cGUsYS50YXJnZXQpO3JldHVybiBiLmFkZGVkTm9kZXM9YS5hZGRlZE5vZGVzLnNsaWNlKCksYi5yZW1vdmVkTm9kZXM9YS5yZW1vdmVkTm9kZXMuc2xpY2UoKSxiLnByZXZpb3VzU2libGluZz1hLnByZXZpb3VzU2libGluZyxiLm5leHRTaWJsaW5nPWEubmV4dFNpYmxpbmcsYi5hdHRyaWJ1dGVOYW1lPWEuYXR0cmlidXRlTmFtZSxiLmF0dHJpYnV0ZU5hbWVzcGFjZT1hLmF0dHJpYnV0ZU5hbWVzcGFjZSxiLm9sZFZhbHVlPWEub2xkVmFsdWUsYn1mdW5jdGlvbiBqKGEsYil7cmV0dXJuIHc9bmV3IGgoYSxiKX1mdW5jdGlvbiBrKGEpe3JldHVybiB4P3g6KHg9aSh3KSx4Lm9sZFZhbHVlPWEseCl9ZnVuY3Rpb24gbCgpe3c9eD12b2lkIDB9ZnVuY3Rpb24gbShhKXtyZXR1cm4gYT09PXh8fGE9PT13fWZ1bmN0aW9uIG4oYSxiKXtyZXR1cm4gYT09PWI/YTp4JiZtKGEpP3g6bnVsbH1mdW5jdGlvbiBvKGEsYixjKXt0aGlzLm9ic2VydmVyPWEsdGhpcy50YXJnZXQ9Yix0aGlzLm9wdGlvbnM9Yyx0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W119dmFyIHA9bmV3IFdlYWtNYXAscT13aW5kb3cubXNTZXRJbW1lZGlhdGU7aWYoIXEpe3ZhciByPVtdLHM9U3RyaW5nKE1hdGgucmFuZG9tKCkpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixmdW5jdGlvbihhKXtpZihhLmRhdGE9PT1zKXt2YXIgYj1yO3I9W10sYi5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EoKX0pfX0pLHE9ZnVuY3Rpb24oYSl7ci5wdXNoKGEpLHdpbmRvdy5wb3N0TWVzc2FnZShzLCIqIil9fXZhciB0PSExLHU9W10sdj0wO2cucHJvdG90eXBlPXtvYnNlcnZlOmZ1bmN0aW9uKGEsYil7aWYoYT1jKGEpLCFiLmNoaWxkTGlzdCYmIWIuYXR0cmlidXRlcyYmIWIuY2hhcmFjdGVyRGF0YXx8Yi5hdHRyaWJ1dGVPbGRWYWx1ZSYmIWIuYXR0cmlidXRlc3x8Yi5hdHRyaWJ1dGVGaWx0ZXImJmIuYXR0cmlidXRlRmlsdGVyLmxlbmd0aCYmIWIuYXR0cmlidXRlc3x8Yi5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUmJiFiLmNoYXJhY3RlckRhdGEpdGhyb3cgbmV3IFN5bnRheEVycm9yO3ZhciBkPXAuZ2V0KGEpO2R8fHAuc2V0KGEsZD1bXSk7Zm9yKHZhciBlLGY9MDtmPGQubGVuZ3RoO2YrKylpZihkW2ZdLm9ic2VydmVyPT09dGhpcyl7ZT1kW2ZdLGUucmVtb3ZlTGlzdGVuZXJzKCksZS5vcHRpb25zPWI7YnJlYWt9ZXx8KGU9bmV3IG8odGhpcyxhLGIpLGQucHVzaChlKSx0aGlzLm5vZGVzXy5wdXNoKGEpKSxlLmFkZExpc3RlbmVycygpfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy5ub2Rlc18uZm9yRWFjaChmdW5jdGlvbihhKXtmb3IodmFyIGI9cC5nZXQoYSksYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdO2lmKGQub2JzZXJ2ZXI9PT10aGlzKXtkLnJlbW92ZUxpc3RlbmVycygpLGIuc3BsaWNlKGMsMSk7YnJlYWt9fX0sdGhpcyksdGhpcy5yZWNvcmRzXz1bXX0sdGFrZVJlY29yZHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnJlY29yZHNfO3JldHVybiB0aGlzLnJlY29yZHNfPVtdLGF9fTt2YXIgdyx4O28ucHJvdG90eXBlPXtlbnF1ZXVlOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMub2JzZXJ2ZXIucmVjb3Jkc18sZD1jLmxlbmd0aDtpZihjLmxlbmd0aD4wKXt2YXIgZT1jW2QtMV0sZj1uKGUsYSk7aWYoZilyZXR1cm4gdm9pZChjW2QtMV09Zil9ZWxzZSBiKHRoaXMub2JzZXJ2ZXIpO2NbZF09YX0sYWRkTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dGhpcy5hZGRMaXN0ZW5lcnNfKHRoaXMudGFyZ2V0KX0sYWRkTGlzdGVuZXJzXzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnM7Yi5hdHRyaWJ1dGVzJiZhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUF0dHJNb2RpZmllZCIsdGhpcywhMCksYi5jaGFyYWN0ZXJEYXRhJiZhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCIsdGhpcywhMCksYi5jaGlsZExpc3QmJmEuYWRkRXZlbnRMaXN0ZW5lcigiRE9NTm9kZUluc2VydGVkIix0aGlzLCEwKSwoYi5jaGlsZExpc3R8fGIuc3VidHJlZSkmJmEuYWRkRXZlbnRMaXN0ZW5lcigiRE9NTm9kZVJlbW92ZWQiLHRoaXMsITApfSxyZW1vdmVMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUxpc3RlbmVyc18odGhpcy50YXJnZXQpfSxyZW1vdmVMaXN0ZW5lcnNfOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucztiLmF0dHJpYnV0ZXMmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQXR0ck1vZGlmaWVkIix0aGlzLCEwKSxiLmNoYXJhY3RlckRhdGEmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIix0aGlzLCEwKSxiLmNoaWxkTGlzdCYmYS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Ob2RlSW5zZXJ0ZWQiLHRoaXMsITApLChiLmNoaWxkTGlzdHx8Yi5zdWJ0cmVlKSYmYS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Ob2RlUmVtb3ZlZCIsdGhpcywhMCl9LGFkZFRyYW5zaWVudE9ic2VydmVyOmZ1bmN0aW9uKGEpe2lmKGEhPT10aGlzLnRhcmdldCl7dGhpcy5hZGRMaXN0ZW5lcnNfKGEpLHRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcy5wdXNoKGEpO3ZhciBiPXAuZ2V0KGEpO2J8fHAuc2V0KGEsYj1bXSksYi5wdXNoKHRoaXMpfX0scmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzO3RoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXSxhLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5yZW1vdmVMaXN0ZW5lcnNfKGEpO2Zvcih2YXIgYj1wLmdldChhKSxjPTA7YzxiLmxlbmd0aDtjKyspaWYoYltjXT09PXRoaXMpe2Iuc3BsaWNlKGMsMSk7YnJlYWt9fSx0aGlzKX0saGFuZGxlRXZlbnQ6ZnVuY3Rpb24oYSl7c3dpdGNoKGEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksYS50eXBlKXtjYXNlIkRPTUF0dHJNb2RpZmllZCI6dmFyIGI9YS5hdHRyTmFtZSxjPWEucmVsYXRlZE5vZGUubmFtZXNwYWNlVVJJLGQ9YS50YXJnZXQsZT1uZXcgaigiYXR0cmlidXRlcyIsZCk7ZS5hdHRyaWJ1dGVOYW1lPWIsZS5hdHRyaWJ1dGVOYW1lc3BhY2U9Yzt2YXIgZz1hLmF0dHJDaGFuZ2U9PT1NdXRhdGlvbkV2ZW50LkFERElUSU9OP251bGw6YS5wcmV2VmFsdWU7ZihkLGZ1bmN0aW9uKGEpe3JldHVybiFhLmF0dHJpYnV0ZXN8fGEuYXR0cmlidXRlRmlsdGVyJiZhLmF0dHJpYnV0ZUZpbHRlci5sZW5ndGgmJi0xPT09YS5hdHRyaWJ1dGVGaWx0ZXIuaW5kZXhPZihiKSYmLTE9PT1hLmF0dHJpYnV0ZUZpbHRlci5pbmRleE9mKGMpP3ZvaWQgMDphLmF0dHJpYnV0ZU9sZFZhbHVlP2soZyk6ZX0pO2JyZWFrO2Nhc2UiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIjp2YXIgZD1hLnRhcmdldCxlPWooImNoYXJhY3RlckRhdGEiLGQpLGc9YS5wcmV2VmFsdWU7ZihkLGZ1bmN0aW9uKGEpe3JldHVybiBhLmNoYXJhY3RlckRhdGE/YS5jaGFyYWN0ZXJEYXRhT2xkVmFsdWU/ayhnKTplOnZvaWQgMH0pO2JyZWFrO2Nhc2UiRE9NTm9kZVJlbW92ZWQiOnRoaXMuYWRkVHJhbnNpZW50T2JzZXJ2ZXIoYS50YXJnZXQpO2Nhc2UiRE9NTm9kZUluc2VydGVkIjp2YXIgaCxpLGQ9YS5yZWxhdGVkTm9kZSxtPWEudGFyZ2V0OyJET01Ob2RlSW5zZXJ0ZWQiPT09YS50eXBlPyhoPVttXSxpPVtdKTooaD1bXSxpPVttXSk7dmFyIG49bS5wcmV2aW91c1NpYmxpbmcsbz1tLm5leHRTaWJsaW5nLGU9aigiY2hpbGRMaXN0IixkKTtlLmFkZGVkTm9kZXM9aCxlLnJlbW92ZWROb2Rlcz1pLGUucHJldmlvdXNTaWJsaW5nPW4sZS5uZXh0U2libGluZz1vLGYoZCxmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGlsZExpc3Q/ZTp2b2lkIDB9KX1sKCl9fSxhLkpzTXV0YXRpb25PYnNlcnZlcj1nLGEuTXV0YXRpb25PYnNlcnZlcnx8KGEuTXV0YXRpb25PYnNlcnZlcj1nKX0odGhpcyksd2luZG93LkhUTUxJbXBvcnRzPXdpbmRvdy5IVE1MSW1wb3J0c3x8e2ZsYWdzOnt9fSxmdW5jdGlvbihhKXt2YXIgYj0oYS5wYXRoLGEueGhyKSxjPWEuZmxhZ3MsZD1mdW5jdGlvbihhLGIpe3RoaXMuY2FjaGU9e30sdGhpcy5vbmxvYWQ9YSx0aGlzLm9uY29tcGxldGU9Yix0aGlzLmluZmxpZ2h0PTAsdGhpcy5wZW5kaW5nPXt9fTtkLnByb3RvdHlwZT17YWRkTm9kZXM6ZnVuY3Rpb24oYSl7dGhpcy5pbmZsaWdodCs9YS5sZW5ndGg7Zm9yKHZhciBiLGM9MCxkPWEubGVuZ3RoO2Q+YyYmKGI9YVtjXSk7YysrKXRoaXMucmVxdWlyZShiKTt0aGlzLmNoZWNrRG9uZSgpfSxhZGROb2RlOmZ1bmN0aW9uKGEpe3RoaXMuaW5mbGlnaHQrKyx0aGlzLnJlcXVpcmUoYSksdGhpcy5jaGVja0RvbmUoKX0scmVxdWlyZTpmdW5jdGlvbihhKXt2YXIgYj1hLnNyY3x8YS5ocmVmO2EuX19ub2RlVXJsPWIsdGhpcy5kZWR1cGUoYixhKXx8dGhpcy5mZXRjaChiLGEpfSxkZWR1cGU6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLnBlbmRpbmdbYV0pcmV0dXJuIHRoaXMucGVuZGluZ1thXS5wdXNoKGIpLCEwO3JldHVybiB0aGlzLmNhY2hlW2FdPyh0aGlzLm9ubG9hZChhLGIsdGhpcy5jYWNoZVthXSksdGhpcy50YWlsKCksITApOih0aGlzLnBlbmRpbmdbYV09W2JdLCExKX0sZmV0Y2g6ZnVuY3Rpb24oYSxkKXtpZihjLmxvYWQmJmNvbnNvbGUubG9nKCJmZXRjaCIsYSxkKSxhLm1hdGNoKC9eZGF0YTovKSl7dmFyIGU9YS5zcGxpdCgiLCIpLGY9ZVswXSxnPWVbMV07Zz1mLmluZGV4T2YoIjtiYXNlNjQiKT4tMT9hdG9iKGcpOmRlY29kZVVSSUNvbXBvbmVudChnKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5yZWNlaXZlKGEsZCxudWxsLGcpfS5iaW5kKHRoaXMpLDApfWVsc2V7dmFyIGg9ZnVuY3Rpb24oYixjKXt0aGlzLnJlY2VpdmUoYSxkLGIsYyl9LmJpbmQodGhpcyk7Yi5sb2FkKGEsaCl9fSxyZWNlaXZlOmZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuY2FjaGVbYV09ZDtmb3IodmFyIGUsZj10aGlzLnBlbmRpbmdbYV0sZz0wLGg9Zi5sZW5ndGg7aD5nJiYoZT1mW2ddKTtnKyspdGhpcy5vbmxvYWQoYSxlLGQpLHRoaXMudGFpbCgpO3RoaXMucGVuZGluZ1thXT1udWxsfSx0YWlsOmZ1bmN0aW9uKCl7LS10aGlzLmluZmxpZ2h0LHRoaXMuY2hlY2tEb25lKCl9LGNoZWNrRG9uZTpmdW5jdGlvbigpe3RoaXMuaW5mbGlnaHR8fHRoaXMub25jb21wbGV0ZSgpfX0sYj1ifHx7YXN5bmM6ITAsb2s6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3RhdHVzPj0yMDAmJmEuc3RhdHVzPDMwMHx8MzA0PT09YS5zdGF0dXN8fDA9PT1hLnN0YXR1c30sbG9hZDpmdW5jdGlvbihjLGQsZSl7dmFyIGY9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybihhLmZsYWdzLmRlYnVnfHxhLmZsYWdzLmJ1c3QpJiYoYys9Ij8iK01hdGgucmFuZG9tKCkpLGYub3BlbigiR0VUIixjLGIuYXN5bmMpLGYuYWRkRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsZnVuY3Rpb24oKXs0PT09Zi5yZWFkeVN0YXRlJiZkLmNhbGwoZSwhYi5vayhmKSYmZixmLnJlc3BvbnNlfHxmLnJlc3BvbnNlVGV4dCxjKX0pLGYuc2VuZCgpLGZ9LGxvYWREb2N1bWVudDpmdW5jdGlvbihhLGIsYyl7dGhpcy5sb2FkKGEsYixjKS5yZXNwb25zZVR5cGU9ImRvY3VtZW50In19LGEueGhyPWIsYS5Mb2FkZXI9ZH0od2luZG93LkhUTUxJbXBvcnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiJsaW5rIj09PWEubG9jYWxOYW1lJiZhLnJlbD09PWd9ZnVuY3Rpb24gYyhhKXt2YXIgYixjPWQoYSk7dHJ5e2I9YnRvYShjKX1jYXRjaChlKXtiPWJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGMpKSksY29uc29sZS53YXJuKCJTY3JpcHQgY29udGFpbmVkIG5vbi1sYXRpbiBjaGFyYWN0ZXJzIHRoYXQgd2VyZSBmb3JjZWQgdG8gbGF0aW4uIFNvbWUgY2hhcmFjdGVycyBtYXkgYmUgd3JvbmcuIixhKX1yZXR1cm4iZGF0YTp0ZXh0L2phdmFzY3JpcHQ7YmFzZTY0LCIrYn1mdW5jdGlvbiBkKGEpe3JldHVybiBhLnRleHRDb250ZW50K2UoYSl9ZnVuY3Rpb24gZShhKXt2YXIgYj1hLl9fbm9kZVVybDtpZighYil7Yj1hLm93bmVyRG9jdW1lbnQuYmFzZVVSSTt2YXIgYz0iWyIrTWF0aC5mbG9vcigxZTMqKE1hdGgucmFuZG9tKCkrMSkpKyJdIixkPWEudGV4dENvbnRlbnQubWF0Y2goL1BvbHltZXJcKFsnIl0oW14nIl0qKS8pO2M9ZCYmZFsxXXx8YyxiKz0iLyIrYysiLmpzIn1yZXR1cm4iXG4vLyMgc291cmNlVVJMPSIrYisiXG4ifWZ1bmN0aW9uIGYoYSl7dmFyIGI9YS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7cmV0dXJuIGIudGV4dENvbnRlbnQ9YS50ZXh0Q29udGVudCxuLnJlc29sdmVVcmxzSW5TdHlsZShiKSxifXZhciBnPSJpbXBvcnQiLGg9YS5mbGFncyxpPS9UcmlkZW50Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGo9d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsP3dpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoZG9jdW1lbnQpOmRvY3VtZW50LGs9e2RvY3VtZW50U2VsZWN0b3JzOiJsaW5rW3JlbD0iK2crIl0iLGltcG9ydHNTZWxlY3RvcnM6WyJsaW5rW3JlbD0iK2crIl0iLCJsaW5rW3JlbD1zdHlsZXNoZWV0XSIsInN0eWxlIiwic2NyaXB0Om5vdChbdHlwZV0pIiwnc2NyaXB0W3R5cGU9InRleHQvamF2YXNjcmlwdCJdJ10uam9pbigiLCIpLG1hcDp7bGluazoicGFyc2VMaW5rIixzY3JpcHQ6InBhcnNlU2NyaXB0IixzdHlsZToicGFyc2VTdHlsZSJ9LHBhcnNlTmV4dDpmdW5jdGlvbigpe3ZhciBhPXRoaXMubmV4dFRvUGFyc2UoKTthJiZ0aGlzLnBhcnNlKGEpfSxwYXJzZTpmdW5jdGlvbihhKXtpZih0aGlzLmlzUGFyc2VkKGEpKXJldHVybiB2b2lkKGgucGFyc2UmJmNvbnNvbGUubG9nKCJbJXNdIGlzIGFscmVhZHkgcGFyc2VkIixhLmxvY2FsTmFtZSkpO3ZhciBiPXRoaXNbdGhpcy5tYXBbYS5sb2NhbE5hbWVdXTtiJiYodGhpcy5tYXJrUGFyc2luZyhhKSxiLmNhbGwodGhpcyxhKSl9LG1hcmtQYXJzaW5nOmZ1bmN0aW9uKGEpe2gucGFyc2UmJmNvbnNvbGUubG9nKCJwYXJzaW5nIixhKSx0aGlzLnBhcnNpbmdFbGVtZW50PWF9LG1hcmtQYXJzaW5nQ29tcGxldGU6ZnVuY3Rpb24oYSl7YS5fX2ltcG9ydFBhcnNlZD0hMCxhLl9faW1wb3J0RWxlbWVudCYmKGEuX19pbXBvcnRFbGVtZW50Ll9faW1wb3J0UGFyc2VkPSEwKSx0aGlzLnBhcnNpbmdFbGVtZW50PW51bGwsaC5wYXJzZSYmY29uc29sZS5sb2coImNvbXBsZXRlZCIsYSksdGhpcy5wYXJzZU5leHQoKX0scGFyc2VJbXBvcnQ6ZnVuY3Rpb24oYSl7aWYoYS5pbXBvcnQuX19pbXBvcnRQYXJzZWQ9ITAsSFRNTEltcG9ydHMuX19pbXBvcnRzUGFyc2luZ0hvb2smJkhUTUxJbXBvcnRzLl9faW1wb3J0c1BhcnNpbmdIb29rKGEpLGEuZGlzcGF0Y2hFdmVudChhLl9fcmVzb3VyY2U/bmV3IEN1c3RvbUV2ZW50KCJsb2FkIix7YnViYmxlczohMX0pOm5ldyBDdXN0b21FdmVudCgiZXJyb3IiLHtidWJibGVzOiExfSkpLGEuX19wZW5kaW5nKWZvcih2YXIgYjthLl9fcGVuZGluZy5sZW5ndGg7KWI9YS5fX3BlbmRpbmcuc2hpZnQoKSxiJiZiKHt0YXJnZXQ6YX0pO3RoaXMubWFya1BhcnNpbmdDb21wbGV0ZShhKX0scGFyc2VMaW5rOmZ1bmN0aW9uKGEpe2IoYSk/dGhpcy5wYXJzZUltcG9ydChhKTooYS5ocmVmPWEuaHJlZix0aGlzLnBhcnNlR2VuZXJpYyhhKSl9LHBhcnNlU3R5bGU6ZnVuY3Rpb24oYSl7dmFyIGI9YTthPWYoYSksYS5fX2ltcG9ydEVsZW1lbnQ9Yix0aGlzLnBhcnNlR2VuZXJpYyhhKX0scGFyc2VHZW5lcmljOmZ1bmN0aW9uKGEpe3RoaXMudHJhY2tFbGVtZW50KGEpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYSl9LHRyYWNrRWxlbWVudDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1mdW5jdGlvbihkKXtiJiZiKGQpLGMubWFya1BhcnNpbmdDb21wbGV0ZShhKX07aWYoYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixkKSxhLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixkKSxpJiYic3R5bGUiPT09YS5sb2NhbE5hbWUpe3ZhciBlPSExO2lmKC0xPT1hLnRleHRDb250ZW50LmluZGV4T2YoIkBpbXBvcnQiKSllPSEwO2Vsc2UgaWYoYS5zaGVldCl7ZT0hMDtmb3IodmFyIGYsZz1hLnNoZWV0LmNzc1J1bGVzLGg9Zz9nLmxlbmd0aDowLGo9MDtoPmomJihmPWdbal0pO2orKylmLnR5cGU9PT1DU1NSdWxlLklNUE9SVF9SVUxFJiYoZT1lJiZCb29sZWFuKGYuc3R5bGVTaGVldCkpfWUmJmEuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoImxvYWQiLHtidWJibGVzOiExfSkpfX0scGFyc2VTY3JpcHQ6ZnVuY3Rpb24oYil7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7ZC5fX2ltcG9ydEVsZW1lbnQ9YixkLnNyYz1iLnNyYz9iLnNyYzpjKGIpLGEuY3VycmVudFNjcmlwdD1iLHRoaXMudHJhY2tFbGVtZW50KGQsZnVuY3Rpb24oKXtkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZCksYS5jdXJyZW50U2NyaXB0PW51bGx9KSxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGQpfSxuZXh0VG9QYXJzZTpmdW5jdGlvbigpe3JldHVybiF0aGlzLnBhcnNpbmdFbGVtZW50JiZ0aGlzLm5leHRUb1BhcnNlSW5Eb2Moail9LG5leHRUb1BhcnNlSW5Eb2M6ZnVuY3Rpb24oYSxjKXtmb3IodmFyIGQsZT1hLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5wYXJzZVNlbGVjdG9yc0Zvck5vZGUoYSkpLGY9MCxnPWUubGVuZ3RoO2c+ZiYmKGQ9ZVtmXSk7ZisrKWlmKCF0aGlzLmlzUGFyc2VkKGQpKXJldHVybiB0aGlzLmhhc1Jlc291cmNlKGQpP2IoZCk/dGhpcy5uZXh0VG9QYXJzZUluRG9jKGQuaW1wb3J0LGQpOmQ6dm9pZCAwO3JldHVybiBjfSxwYXJzZVNlbGVjdG9yc0Zvck5vZGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vd25lckRvY3VtZW50fHxhO3JldHVybiBiPT09aj90aGlzLmRvY3VtZW50U2VsZWN0b3JzOnRoaXMuaW1wb3J0c1NlbGVjdG9yc30saXNQYXJzZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuX19pbXBvcnRQYXJzZWR9LGhhc1Jlc291cmNlOmZ1bmN0aW9uKGEpe3JldHVybiBiKGEpJiYhYS5pbXBvcnQ/ITE6ITB9fSxsPS8odXJsXCgpKFteKV0qKShcKSkvZyxtPS8oQGltcG9ydFtcc10rKD8hdXJsXCgpKShbXjtdKikoOykvZyxuPXtyZXNvbHZlVXJsc0luU3R5bGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vd25lckRvY3VtZW50LGM9Yi5jcmVhdGVFbGVtZW50KCJhIik7cmV0dXJuIGEudGV4dENvbnRlbnQ9dGhpcy5yZXNvbHZlVXJsc0luQ3NzVGV4dChhLnRleHRDb250ZW50LGMpLGF9LHJlc29sdmVVcmxzSW5Dc3NUZXh0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5yZXBsYWNlVXJscyhhLGIsbCk7cmV0dXJuIGM9dGhpcy5yZXBsYWNlVXJscyhjLGIsbSl9LHJlcGxhY2VVcmxzOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYS5yZXBsYWNlKGMsZnVuY3Rpb24oYSxjLGQsZSl7dmFyIGY9ZC5yZXBsYWNlKC9bIiddL2csIiIpO3JldHVybiBiLmhyZWY9ZixmPWIuaHJlZixjKyInIitmKyInIitlfSl9fTthLnBhcnNlcj1rLGEucGF0aD1uLGEuaXNJRT1pfShIVE1MSW1wb3J0cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4gYyhhLG0pfWZ1bmN0aW9uIGMoYSxiKXtyZXR1cm4ibGluayI9PT1hLmxvY2FsTmFtZSYmYS5nZXRBdHRyaWJ1dGUoInJlbCIpPT09Yn1mdW5jdGlvbiBkKGEsYil7dmFyIGM9YTtjIGluc3RhbmNlb2YgRG9jdW1lbnR8fChjPWRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChtKSksYy5fVVJMPWI7dmFyIGQ9Yy5jcmVhdGVFbGVtZW50KCJiYXNlIik7ZC5zZXRBdHRyaWJ1dGUoImhyZWYiLGIpLGMuYmFzZVVSSXx8KGMuYmFzZVVSST1iKTt2YXIgZT1jLmNyZWF0ZUVsZW1lbnQoIm1ldGEiKTtyZXR1cm4gZS5zZXRBdHRyaWJ1dGUoImNoYXJzZXQiLCJ1dGYtOCIpLGMuaGVhZC5hcHBlbmRDaGlsZChlKSxjLmhlYWQuYXBwZW5kQ2hpbGQoZCksYSBpbnN0YW5jZW9mIERvY3VtZW50fHwoYy5ib2R5LmlubmVySFRNTD1hKSx3aW5kb3cuSFRNTFRlbXBsYXRlRWxlbWVudCYmSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXAmJkhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwKGMpLGN9ZnVuY3Rpb24gZShhLGIpe2I9Ynx8bixnKGZ1bmN0aW9uKCl7aChhLGIpfSxiKX1mdW5jdGlvbiBmKGEpe3JldHVybiJjb21wbGV0ZSI9PT1hLnJlYWR5U3RhdGV8fGEucmVhZHlTdGF0ZT09PXV9ZnVuY3Rpb24gZyhhLGIpe2lmKGYoYikpYSYmYSgpO2Vsc2V7dmFyIGM9ZnVuY3Rpb24oKXsoImNvbXBsZXRlIj09PWIucmVhZHlTdGF0ZXx8Yi5yZWFkeVN0YXRlPT09dSkmJihiLnJlbW92ZUV2ZW50TGlzdGVuZXIodixjKSxnKGEsYikpfTtiLmFkZEV2ZW50TGlzdGVuZXIodixjKX19ZnVuY3Rpb24gaChhLGIpe2Z1bmN0aW9uIGMoKXtmPT1nJiZyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYSl9ZnVuY3Rpb24gZCgpe2YrKyxjKCl9dmFyIGU9Yi5xdWVyeVNlbGVjdG9yQWxsKCJsaW5rW3JlbD1pbXBvcnRdIiksZj0wLGc9ZS5sZW5ndGg7aWYoZylmb3IodmFyIGgsaj0wO2c+aiYmKGg9ZVtqXSk7aisrKWkoaCk/ZC5jYWxsKGgpOihoLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGQpLGguYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLGQpKTtlbHNlIGMoKX1mdW5jdGlvbiBpKGEpe3JldHVybiBrP2EuaW1wb3J0JiYibG9hZGluZyIhPT1hLmltcG9ydC5yZWFkeVN0YXRlOmEuX19pbXBvcnRQYXJzZWR9dmFyIGo9ImltcG9ydCJpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaW5rIiksaz1qLGw9YS5mbGFncyxtPSJpbXBvcnQiLG49d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsP1NoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChkb2N1bWVudCk6ZG9jdW1lbnQ7aWYoayl2YXIgbz17fTtlbHNlIHZhciBwPShhLnhocixhLkxvYWRlcikscT1hLnBhcnNlcixvPXtkb2N1bWVudHM6e30sZG9jdW1lbnRQcmVsb2FkU2VsZWN0b3JzOiJsaW5rW3JlbD0iK20rIl0iLGltcG9ydHNQcmVsb2FkU2VsZWN0b3JzOlsibGlua1tyZWw9IittKyJdIl0uam9pbigiLCIpLGxvYWROb2RlOmZ1bmN0aW9uKGEpe3IuYWRkTm9kZShhKX0sbG9hZFN1YnRyZWU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5tYXJzaGFsTm9kZXMoYSk7ci5hZGROb2RlcyhiKX0sbWFyc2hhbE5vZGVzOmZ1bmN0aW9uKGEpe3JldHVybiBhLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5sb2FkU2VsZWN0b3JzRm9yTm9kZShhKSl9LGxvYWRTZWxlY3RvcnNGb3JOb2RlOmZ1bmN0aW9uKGEpe3ZhciBiPWEub3duZXJEb2N1bWVudHx8YTtyZXR1cm4gYj09PW4/dGhpcy5kb2N1bWVudFByZWxvYWRTZWxlY3RvcnM6dGhpcy5pbXBvcnRzUHJlbG9hZFNlbGVjdG9yc30sbG9hZGVkOmZ1bmN0aW9uKGEsYyxlKXtpZihsLmxvYWQmJmNvbnNvbGUubG9nKCJsb2FkZWQiLGEsYyksYy5fX3Jlc291cmNlPWUsYihjKSl7dmFyIGY9dGhpcy5kb2N1bWVudHNbYV07Znx8KGY9ZChlLGEpLGYuX19pbXBvcnRMaW5rPWMsdGhpcy5ib290RG9jdW1lbnQoZiksdGhpcy5kb2N1bWVudHNbYV09ZiksYy5pbXBvcnQ9Zn1xLnBhcnNlTmV4dCgpfSxib290RG9jdW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5sb2FkU3VidHJlZShhKSx0aGlzLm9ic2VydmUoYSkscS5wYXJzZU5leHQoKX0sbG9hZGVkQWxsOmZ1bmN0aW9uKCl7cS5wYXJzZU5leHQoKX19LHI9bmV3IHAoby5sb2FkZWQuYmluZChvKSxvLmxvYWRlZEFsbC5iaW5kKG8pKTt2YXIgcz17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEhUTUxJbXBvcnRzLmN1cnJlbnRTY3JpcHR8fGRvY3VtZW50LmN1cnJlbnRTY3JpcHR9LGNvbmZpZ3VyYWJsZTohMH07aWYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LCJfY3VycmVudFNjcmlwdCIscyksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9jdXJyZW50U2NyaXB0IixzKSwhZG9jdW1lbnQuYmFzZVVSSSl7dmFyIHQ9e2dldDpmdW5jdGlvbigpe3JldHVybiB3aW5kb3cubG9jYXRpb24uaHJlZn0sY29uZmlndXJhYmxlOiEwfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsImJhc2VVUkkiLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJiYXNlVVJJIix0KX12YXIgdT1IVE1MSW1wb3J0cy5pc0lFPyJjb21wbGV0ZSI6ImludGVyYWN0aXZlIix2PSJyZWFkeXN0YXRlY2hhbmdlIjthLmhhc05hdGl2ZT1qLGEudXNlTmF0aXZlPWssYS5pbXBvcnRlcj1vLGEud2hlbkltcG9ydHNSZWFkeT1lLGEuSU1QT1JUX0xJTktfVFlQRT1tLGEuaXNJbXBvcnRMb2FkZWQ9aSxhLmltcG9ydExvYWRlcj1yfSh3aW5kb3cuSFRNTEltcG9ydHMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7Zm9yKHZhciBiLGQ9MCxlPWEubGVuZ3RoO2U+ZCYmKGI9YVtkXSk7ZCsrKSJjaGlsZExpc3QiPT09Yi50eXBlJiZiLmFkZGVkTm9kZXMubGVuZ3RoJiZjKGIuYWRkZWROb2Rlcyl9ZnVuY3Rpb24gYyhhKXtmb3IodmFyIGIsZT0wLGc9YS5sZW5ndGg7Zz5lJiYoYj1hW2VdKTtlKyspZChiKSYmZi5sb2FkTm9kZShiKSxiLmNoaWxkcmVuJiZiLmNoaWxkcmVuLmxlbmd0aCYmYyhiLmNoaWxkcmVuKX1mdW5jdGlvbiBkKGEpe3JldHVybiAxPT09YS5ub2RlVHlwZSYmZy5jYWxsKGEsZi5sb2FkU2VsZWN0b3JzRm9yTm9kZShhKSl9ZnVuY3Rpb24gZShhKXtoLm9ic2VydmUoYSx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KX12YXIgZj0oYS5JTVBPUlRfTElOS19UWVBFLGEuaW1wb3J0ZXIpLGc9SFRNTEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXN8fEhUTUxFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzU2VsZWN0b3J8fEhUTUxFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fEhUTUxFbGVtZW50LnByb3RvdHlwZS5tb3pNYXRjaGVzU2VsZWN0b3J8fEhUTUxFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvcixoPW5ldyBNdXRhdGlvbk9ic2VydmVyKGIpO2Eub2JzZXJ2ZT1lLGYub2JzZXJ2ZT1lfShIVE1MSW1wb3J0cyksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7SFRNTEltcG9ydHMuaW1wb3J0ZXIuYm9vdERvY3VtZW50KGIpfSJmdW5jdGlvbiIhPXR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQmJih3aW5kb3cuQ3VzdG9tRXZlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFdmVudCgiSFRNTEV2ZW50cyIpO3JldHVybiBjLmluaXRFdmVudChhLGIuYnViYmxlcz09PSExPyExOiEwLGIuY2FuY2VsYWJsZT09PSExPyExOiEwLGIuZGV0YWlsKSxjfSk7dmFyIGI9d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsP3dpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoZG9jdW1lbnQpOmRvY3VtZW50O0hUTUxJbXBvcnRzLndoZW5JbXBvcnRzUmVhZHkoZnVuY3Rpb24oKXtIVE1MSW1wb3J0cy5yZWFkeT0hMCxIVE1MSW1wb3J0cy5yZWFkeVRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksYi5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgiSFRNTEltcG9ydHNMb2FkZWQiLHtidWJibGVzOiEwfSkpfSksSFRNTEltcG9ydHMudXNlTmF0aXZlfHwoImNvbXBsZXRlIj09PWRvY3VtZW50LnJlYWR5U3RhdGV8fCJpbnRlcmFjdGl2ZSI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiYhd2luZG93LmF0dGFjaEV2ZW50P2EoKTpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixhKSl9KCksd2luZG93LkN1c3RvbUVsZW1lbnRzPXdpbmRvdy5DdXN0b21FbGVtZW50c3x8e2ZsYWdzOnt9fSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYyxkKXt2YXIgZT1hLmZpcnN0RWxlbWVudENoaWxkO2lmKCFlKWZvcihlPWEuZmlyc3RDaGlsZDtlJiZlLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWU9ZS5uZXh0U2libGluZztmb3IoO2U7KWMoZSxkKSE9PSEwJiZiKGUsYyxkKSxlPWUubmV4dEVsZW1lbnRTaWJsaW5nO3JldHVybiBudWxsfWZ1bmN0aW9uIGMoYSxiKXtmb3IodmFyIGM9YS5zaGFkb3dSb290O2M7KWQoYyxiKSxjPWMub2xkZXJTaGFkb3dSb290fWZ1bmN0aW9uIGQoYSxkKXtiKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGQoYSk/ITA6dm9pZCBjKGEsZCl9KSxjKGEsZCl9ZnVuY3Rpb24gZShhKXtyZXR1cm4gaChhKT8oaShhKSwhMCk6dm9pZCBsKGEpfWZ1bmN0aW9uIGYoYSl7ZChhLGZ1bmN0aW9uKGEpe3JldHVybiBlKGEpPyEwOnZvaWQgMH0pfWZ1bmN0aW9uIGcoYSl7cmV0dXJuIGUoYSl8fGYoYSl9ZnVuY3Rpb24gaChiKXtpZighYi5fX3VwZ3JhZGVkX18mJmIubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl7dmFyIGM9Yi5nZXRBdHRyaWJ1dGUoImlzIil8fGIubG9jYWxOYW1lLGQ9YS5yZWdpc3RyeVtjXTtpZihkKXJldHVybiBBLmRvbSYmY29uc29sZS5ncm91cCgidXBncmFkZToiLGIubG9jYWxOYW1lKSxhLnVwZ3JhZGUoYiksQS5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSwhMH19ZnVuY3Rpb24gaShhKXtsKGEpLHIoYSkmJmQoYSxmdW5jdGlvbihhKXtsKGEpfSl9ZnVuY3Rpb24gaihhKXtpZihFLnB1c2goYSksIUQpe0Q9ITA7dmFyIGI9d2luZG93LlBsYXRmb3JtJiZ3aW5kb3cuUGxhdGZvcm0uZW5kT2ZNaWNyb3Rhc2t8fHNldFRpbWVvdXQ7YihrKX19ZnVuY3Rpb24gaygpe0Q9ITE7Zm9yKHZhciBhLGI9RSxjPTAsZD1iLmxlbmd0aDtkPmMmJihhPWJbY10pO2MrKylhKCk7RT1bXX1mdW5jdGlvbiBsKGEpe0M/aihmdW5jdGlvbigpe20oYSl9KTptKGEpfWZ1bmN0aW9uIG0oYSl7KGEuYXR0YWNoZWRDYWxsYmFja3x8YS5kZXRhY2hlZENhbGxiYWNrfHxhLl9fdXBncmFkZWRfXyYmQS5kb20pJiYoQS5kb20mJmNvbnNvbGUuZ3JvdXAoImluc2VydGVkOiIsYS5sb2NhbE5hbWUpLHIoYSkmJihhLl9faW5zZXJ0ZWQ9KGEuX19pbnNlcnRlZHx8MCkrMSxhLl9faW5zZXJ0ZWQ8MSYmKGEuX19pbnNlcnRlZD0xKSxhLl9faW5zZXJ0ZWQ+MT9BLmRvbSYmY29uc29sZS53YXJuKCJpbnNlcnRlZDoiLGEubG9jYWxOYW1lLCJpbnNlcnQvcmVtb3ZlIGNvdW50OiIsYS5fX2luc2VydGVkKTphLmF0dGFjaGVkQ2FsbGJhY2smJihBLmRvbSYmY29uc29sZS5sb2coImluc2VydGVkOiIsYS5sb2NhbE5hbWUpLGEuYXR0YWNoZWRDYWxsYmFjaygpKSksQS5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSl9ZnVuY3Rpb24gbihhKXtvKGEpLGQoYSxmdW5jdGlvbihhKXtvKGEpfSl9ZnVuY3Rpb24gbyhhKXtDP2ooZnVuY3Rpb24oKXtwKGEpfSk6cChhKX1mdW5jdGlvbiBwKGEpeyhhLmF0dGFjaGVkQ2FsbGJhY2t8fGEuZGV0YWNoZWRDYWxsYmFja3x8YS5fX3VwZ3JhZGVkX18mJkEuZG9tKSYmKEEuZG9tJiZjb25zb2xlLmdyb3VwKCJyZW1vdmVkOiIsYS5sb2NhbE5hbWUpLHIoYSl8fChhLl9faW5zZXJ0ZWQ9KGEuX19pbnNlcnRlZHx8MCktMSxhLl9faW5zZXJ0ZWQ+MCYmKGEuX19pbnNlcnRlZD0wKSxhLl9faW5zZXJ0ZWQ8MD9BLmRvbSYmY29uc29sZS53YXJuKCJyZW1vdmVkOiIsYS5sb2NhbE5hbWUsImluc2VydC9yZW1vdmUgY291bnQ6IixhLl9faW5zZXJ0ZWQpOmEuZGV0YWNoZWRDYWxsYmFjayYmYS5kZXRhY2hlZENhbGxiYWNrKCkpLEEuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCkpfWZ1bmN0aW9uIHEoYSl7cmV0dXJuIHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD9TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoYSk6YX1mdW5jdGlvbiByKGEpe2Zvcih2YXIgYj1hLGM9cShkb2N1bWVudCk7Yjspe2lmKGI9PWMpcmV0dXJuITA7Yj1iLnBhcmVudE5vZGV8fGIuaG9zdH19ZnVuY3Rpb24gcyhhKXtpZihhLnNoYWRvd1Jvb3QmJiFhLnNoYWRvd1Jvb3QuX193YXRjaGVkKXtBLmRvbSYmY29uc29sZS5sb2coIndhdGNoaW5nIHNoYWRvdy1yb290IGZvcjogIixhLmxvY2FsTmFtZSk7Zm9yKHZhciBiPWEuc2hhZG93Um9vdDtiOyl0KGIpLGI9Yi5vbGRlclNoYWRvd1Jvb3R9fWZ1bmN0aW9uIHQoYSl7YS5fX3dhdGNoZWR8fCh3KGEpLGEuX193YXRjaGVkPSEwKX1mdW5jdGlvbiB1KGEpe2lmKEEuZG9tKXt2YXIgYj1hWzBdO2lmKGImJiJjaGlsZExpc3QiPT09Yi50eXBlJiZiLmFkZGVkTm9kZXMmJmIuYWRkZWROb2Rlcyl7Zm9yKHZhciBjPWIuYWRkZWROb2Rlc1swXTtjJiZjIT09ZG9jdW1lbnQmJiFjLmhvc3Q7KWM9Yy5wYXJlbnROb2RlO3ZhciBkPWMmJihjLlVSTHx8Yy5fVVJMfHxjLmhvc3QmJmMuaG9zdC5sb2NhbE5hbWUpfHwiIjtkPWQuc3BsaXQoIi8/Iikuc2hpZnQoKS5zcGxpdCgiLyIpLnBvcCgpfWNvbnNvbGUuZ3JvdXAoIm11dGF0aW9ucyAoJWQpIFslc10iLGEubGVuZ3RoLGR8fCIiKX1hLmZvckVhY2goZnVuY3Rpb24oYSl7ImNoaWxkTGlzdCI9PT1hLnR5cGUmJihHKGEuYWRkZWROb2RlcyxmdW5jdGlvbihhKXthLmxvY2FsTmFtZSYmZyhhKX0pLEcoYS5yZW1vdmVkTm9kZXMsZnVuY3Rpb24oYSl7YS5sb2NhbE5hbWUmJm4oYSl9KSl9KSxBLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIHYoKXt1KEYudGFrZVJlY29yZHMoKSksaygpfWZ1bmN0aW9uIHcoYSl7Ri5vYnNlcnZlKGEse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSl9ZnVuY3Rpb24geChhKXt3KGEpfWZ1bmN0aW9uIHkoYSl7QS5kb20mJmNvbnNvbGUuZ3JvdXAoInVwZ3JhZGVEb2N1bWVudDogIixhLmJhc2VVUkkuc3BsaXQoIi8iKS5wb3AoKSksZyhhKSxBLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIHooYSl7YT1xKGEpO2Zvcih2YXIgYixjPWEucXVlcnlTZWxlY3RvckFsbCgibGlua1tyZWw9IitCKyJdIiksZD0wLGU9Yy5sZW5ndGg7ZT5kJiYoYj1jW2RdKTtkKyspYi5pbXBvcnQmJmIuaW1wb3J0Ll9fcGFyc2VkJiZ6KGIuaW1wb3J0KTt5KGEpfXZhciBBPXdpbmRvdy5sb2dGbGFnc3x8e30sQj13aW5kb3cuSFRNTEltcG9ydHM/SFRNTEltcG9ydHMuSU1QT1JUX0xJTktfVFlQRToibm9uZSIsQz0hd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyPT09d2luZG93LkpzTXV0YXRpb25PYnNlcnZlcjthLmhhc1BvbHlmaWxsTXV0YXRpb25zPUM7dmFyIEQ9ITEsRT1bXSxGPW5ldyBNdXRhdGlvbk9ic2VydmVyKHUpLEc9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKTthLklNUE9SVF9MSU5LX1RZUEU9QixhLndhdGNoU2hhZG93PXMsYS51cGdyYWRlRG9jdW1lbnRUcmVlPXosYS51cGdyYWRlQWxsPWcsYS51cGdyYWRlU3VidHJlZT1mLGEuaW5zZXJ0ZWROb2RlPWksYS5vYnNlcnZlRG9jdW1lbnQ9eCxhLnVwZ3JhZGVEb2N1bWVudD15LGEudGFrZVJlY29yZHM9dn0od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIsZyl7dmFyIGg9Z3x8e307aWYoIWIpdGhyb3cgbmV3IEVycm9yKCJkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ6IGZpcnN0IGFyZ3VtZW50IGBuYW1lYCBtdXN0IG5vdCBiZSBlbXB0eSIpO2lmKGIuaW5kZXhPZigiLSIpPDApdGhyb3cgbmV3IEVycm9yKCJkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ6IGZpcnN0IGFyZ3VtZW50ICgnbmFtZScpIG11c3QgY29udGFpbiBhIGRhc2ggKCctJykuIEFyZ3VtZW50IHByb3ZpZGVkIHdhcyAnIitTdHJpbmcoYikrIicuIik7aWYoYyhiKSl0aHJvdyBuZXcgRXJyb3IoIkZhaWxlZCB0byBleGVjdXRlICdyZWdpc3RlckVsZW1lbnQnIG9uICdEb2N1bWVudCc6IFJlZ2lzdHJhdGlvbiBmYWlsZWQgZm9yIHR5cGUgJyIrU3RyaW5nKGIpKyInLiBUaGUgdHlwZSBuYW1lIGlzIGludmFsaWQuIik7aWYobihiKSl0aHJvdyBuZXcgRXJyb3IoIkR1cGxpY2F0ZURlZmluaXRpb25FcnJvcjogYSB0eXBlIHdpdGggbmFtZSAnIitTdHJpbmcoYikrIicgaXMgYWxyZWFkeSByZWdpc3RlcmVkIik7aWYoIWgucHJvdG90eXBlKXRocm93IG5ldyBFcnJvcigiT3B0aW9ucyBtaXNzaW5nIHJlcXVpcmVkIHByb3RvdHlwZSBwcm9wZXJ0eSIpO3JldHVybiBoLl9fbmFtZT1iLnRvTG93ZXJDYXNlKCksaC5saWZlY3ljbGU9aC5saWZlY3ljbGV8fHt9LGguYW5jZXN0cnk9ZChoLmV4dGVuZHMpLGUoaCksZihoKSxsKGgucHJvdG90eXBlKSxvKGguX19uYW1lLGgpLGguY3Rvcj1wKGgpLGguY3Rvci5wcm90b3R5cGU9aC5wcm90b3R5cGUsaC5wcm90b3R5cGUuY29uc3RydWN0b3I9aC5jdG9yLGEucmVhZHkmJmEudXBncmFkZURvY3VtZW50VHJlZShkb2N1bWVudCksaC5jdG9yfWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBiPTA7Yjx5Lmxlbmd0aDtiKyspaWYoYT09PXlbYl0pcmV0dXJuITB9ZnVuY3Rpb24gZChhKXt2YXIgYj1uKGEpO3JldHVybiBiP2QoYi5leHRlbmRzKS5jb25jYXQoW2JdKTpbXX1mdW5jdGlvbiBlKGEpe2Zvcih2YXIgYixjPWEuZXh0ZW5kcyxkPTA7Yj1hLmFuY2VzdHJ5W2RdO2QrKyljPWIuaXMmJmIudGFnO2EudGFnPWN8fGEuX19uYW1lLGMmJihhLmlzPWEuX19uYW1lKX1mdW5jdGlvbiBmKGEpe2lmKCFPYmplY3QuX19wcm90b19fKXt2YXIgYj1IVE1MRWxlbWVudC5wcm90b3R5cGU7aWYoYS5pcyl7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhLnRhZyk7Yj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoYyl9Zm9yKHZhciBkLGU9YS5wcm90b3R5cGU7ZSYmZSE9PWI7KXt2YXIgZD1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7ZS5fX3Byb3RvX189ZCxlPWR9fWEubmF0aXZlPWJ9ZnVuY3Rpb24gZyhhKXtyZXR1cm4gaChCKGEudGFnKSxhKX1mdW5jdGlvbiBoKGIsYyl7cmV0dXJuIGMuaXMmJmIuc2V0QXR0cmlidXRlKCJpcyIsYy5pcyksYi5yZW1vdmVBdHRyaWJ1dGUoInVucmVzb2x2ZWQiKSxpKGIsYyksYi5fX3VwZ3JhZGVkX189ITAsayhiKSxhLmluc2VydGVkTm9kZShiKSxhLnVwZ3JhZGVTdWJ0cmVlKGIpLGJ9ZnVuY3Rpb24gaShhLGIpe09iamVjdC5fX3Byb3RvX18/YS5fX3Byb3RvX189Yi5wcm90b3R5cGU6KGooYSxiLnByb3RvdHlwZSxiLm5hdGl2ZSksYS5fX3Byb3RvX189Yi5wcm90b3R5cGUpfWZ1bmN0aW9uIGooYSxiLGMpe2Zvcih2YXIgZD17fSxlPWI7ZSE9PWMmJmUhPT1IVE1MRWxlbWVudC5wcm90b3R5cGU7KXtmb3IodmFyIGYsZz1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKSxoPTA7Zj1nW2hdO2grKylkW2ZdfHwoT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsZixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsZikpLGRbZl09MSk7ZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9fWZ1bmN0aW9uIGsoYSl7YS5jcmVhdGVkQ2FsbGJhY2smJmEuY3JlYXRlZENhbGxiYWNrKCl9ZnVuY3Rpb24gbChhKXtpZighYS5zZXRBdHRyaWJ1dGUuX3BvbHlmaWxsZWQpe3ZhciBiPWEuc2V0QXR0cmlidXRlO2Euc2V0QXR0cmlidXRlPWZ1bmN0aW9uKGEsYyl7bS5jYWxsKHRoaXMsYSxjLGIpfTt2YXIgYz1hLnJlbW92ZUF0dHJpYnV0ZTthLnJlbW92ZUF0dHJpYnV0ZT1mdW5jdGlvbihhKXttLmNhbGwodGhpcyxhLG51bGwsYyl9LGEuc2V0QXR0cmlidXRlLl9wb2x5ZmlsbGVkPSEwfX1mdW5jdGlvbiBtKGEsYixjKXt2YXIgZD10aGlzLmdldEF0dHJpYnV0ZShhKTtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZT10aGlzLmdldEF0dHJpYnV0ZShhKTt0aGlzLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayYmZSE9PWQmJnRoaXMuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGEsZCxlKX1mdW5jdGlvbiBuKGEpe3JldHVybiBhP3pbYS50b0xvd2VyQ2FzZSgpXTp2b2lkIDB9ZnVuY3Rpb24gbyhhLGIpe3pbYV09Yn1mdW5jdGlvbiBwKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBnKGEpfX1mdW5jdGlvbiBxKGEsYixjKXtyZXR1cm4gYT09PUE/cihiLGMpOkMoYSxiKX1mdW5jdGlvbiByKGEsYil7dmFyIGM9bihifHxhKTtpZihjKXtpZihhPT1jLnRhZyYmYj09Yy5pcylyZXR1cm4gbmV3IGMuY3RvcjtpZighYiYmIWMuaXMpcmV0dXJuIG5ldyBjLmN0b3J9aWYoYil7dmFyIGQ9cihhKTtyZXR1cm4gZC5zZXRBdHRyaWJ1dGUoImlzIixiKSxkfXZhciBkPUIoYSk7cmV0dXJuIGEuaW5kZXhPZigiLSIpPj0wJiZpKGQsSFRNTEVsZW1lbnQpLGR9ZnVuY3Rpb24gcyhhKXtpZighYS5fX3VwZ3JhZGVkX18mJmEubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl7dmFyIGI9YS5nZXRBdHRyaWJ1dGUoImlzIiksYz1uKGJ8fGEubG9jYWxOYW1lKTtpZihjKXtpZihiJiZjLnRhZz09YS5sb2NhbE5hbWUpcmV0dXJuIGgoYSxjKTtpZighYiYmIWMuZXh0ZW5kcylyZXR1cm4gaChhLGMpfX19ZnVuY3Rpb24gdChiKXt2YXIgYz1ELmNhbGwodGhpcyxiKTtyZXR1cm4gYS51cGdyYWRlQWxsKGMpLGN9YXx8KGE9d2luZG93LkN1c3RvbUVsZW1lbnRzPXtmbGFnczp7fX0pO3ZhciB1PWEuZmxhZ3Msdj1Cb29sZWFuKGRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCksdz0hdS5yZWdpc3RlciYmdiYmIXdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbDtpZih3KXt2YXIgeD1mdW5jdGlvbigpe307YS5yZWdpc3RyeT17fSxhLnVwZ3JhZGVFbGVtZW50PXgsYS53YXRjaFNoYWRvdz14LGEudXBncmFkZT14LGEudXBncmFkZUFsbD14LGEudXBncmFkZVN1YnRyZWU9eCxhLm9ic2VydmVEb2N1bWVudD14LGEudXBncmFkZURvY3VtZW50PXgsYS51cGdyYWRlRG9jdW1lbnRUcmVlPXgsYS50YWtlUmVjb3Jkcz14LGEucmVzZXJ2ZWRUYWdMaXN0PVtdfWVsc2V7dmFyIHk9WyJhbm5vdGF0aW9uLXhtbCIsImNvbG9yLXByb2ZpbGUiLCJmb250LWZhY2UiLCJmb250LWZhY2Utc3JjIiwiZm9udC1mYWNlLXVyaSIsImZvbnQtZmFjZS1mb3JtYXQiLCJmb250LWZhY2UtbmFtZSIsIm1pc3NpbmctZ2x5cGgiXSx6PXt9LEE9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLEI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5iaW5kKGRvY3VtZW50KSxDPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUy5iaW5kKGRvY3VtZW50KSxEPU5vZGUucHJvdG90eXBlLmNsb25lTm9kZTtkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ9Yixkb2N1bWVudC5jcmVhdGVFbGVtZW50PXIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TPXEsTm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlPXQsYS5yZWdpc3RyeT16LGEudXBncmFkZT1zfXZhciBFO0U9T2JqZWN0Ll9fcHJvdG9fX3x8dz9mdW5jdGlvbihhLGIpe3JldHVybiBhIGluc3RhbmNlb2YgYn06ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9YTtjOyl7aWYoYz09PWIucHJvdG90eXBlKXJldHVybiEwO2M9Yy5fX3Byb3RvX199cmV0dXJuITF9LGEuaW5zdGFuY2VvZj1FLGEucmVzZXJ2ZWRUYWdMaXN0PXksZG9jdW1lbnQucmVnaXN0ZXI9ZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50LGEuaGFzTmF0aXZlPXYsYS51c2VOYXRpdmU9d30od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiJsaW5rIj09PWEubG9jYWxOYW1lJiZhLmdldEF0dHJpYnV0ZSgicmVsIik9PT1jfXZhciBjPWEuSU1QT1JUX0xJTktfVFlQRSxkPXtzZWxlY3RvcnM6WyJsaW5rW3JlbD0iK2MrIl0iXSxtYXA6e2xpbms6InBhcnNlTGluayJ9LHBhcnNlOmZ1bmN0aW9uKGEpe2lmKCFhLl9fcGFyc2VkKXthLl9fcGFyc2VkPSEwO3ZhciBiPWEucXVlcnlTZWxlY3RvckFsbChkLnNlbGVjdG9ycyk7ZShiLGZ1bmN0aW9uKGEpe2RbZC5tYXBbYS5sb2NhbE5hbWVdXShhKX0pLEN1c3RvbUVsZW1lbnRzLnVwZ3JhZGVEb2N1bWVudChhKSxDdXN0b21FbGVtZW50cy5vYnNlcnZlRG9jdW1lbnQoYSl9fSxwYXJzZUxpbms6ZnVuY3Rpb24oYSl7YihhKSYmdGhpcy5wYXJzZUltcG9ydChhKX0scGFyc2VJbXBvcnQ6ZnVuY3Rpb24oYSl7YS5pbXBvcnQmJmQucGFyc2UoYS5pbXBvcnQpfX0sZT1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpO2EucGFyc2VyPWQsYS5JTVBPUlRfTElOS19UWVBFPWN9KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe0N1c3RvbUVsZW1lbnRzLnBhcnNlci5wYXJzZShkb2N1bWVudCksQ3VzdG9tRWxlbWVudHMudXBncmFkZURvY3VtZW50KGRvY3VtZW50KTsKdmFyIGE9d2luZG93LlBsYXRmb3JtJiZQbGF0Zm9ybS5lbmRPZk1pY3JvdGFzaz9QbGF0Zm9ybS5lbmRPZk1pY3JvdGFzazpzZXRUaW1lb3V0O2EoZnVuY3Rpb24oKXtDdXN0b21FbGVtZW50cy5yZWFkeT0hMCxDdXN0b21FbGVtZW50cy5yZWFkeVRpbWU9RGF0ZS5ub3coKSx3aW5kb3cuSFRNTEltcG9ydHMmJihDdXN0b21FbGVtZW50cy5lbGFwc2VkPUN1c3RvbUVsZW1lbnRzLnJlYWR5VGltZS1IVE1MSW1wb3J0cy5yZWFkeVRpbWUpLGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJXZWJDb21wb25lbnRzUmVhZHkiLHtidWJibGVzOiEwfSkpLHdpbmRvdy5IVE1MSW1wb3J0cyYmKEhUTUxJbXBvcnRzLl9faW1wb3J0c1BhcnNpbmdIb29rPWZ1bmN0aW9uKGEpe0N1c3RvbUVsZW1lbnRzLnBhcnNlci5wYXJzZShhLmltcG9ydCl9KX0pfWlmKCJmdW5jdGlvbiIhPXR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQmJih3aW5kb3cuQ3VzdG9tRXZlbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkhUTUxFdmVudHMiKTtyZXR1cm4gYi5pbml0RXZlbnQoYSwhMCwhMCksYn0pLCJjb21wbGV0ZSI9PT1kb2N1bWVudC5yZWFkeVN0YXRlfHxhLmZsYWdzLmVhZ2VyKWIoKTtlbHNlIGlmKCJpbnRlcmFjdGl2ZSIhPT1kb2N1bWVudC5yZWFkeVN0YXRlfHx3aW5kb3cuYXR0YWNoRXZlbnR8fHdpbmRvdy5IVE1MSW1wb3J0cyYmIXdpbmRvdy5IVE1MSW1wb3J0cy5yZWFkeSl7dmFyIGM9d2luZG93LkhUTUxJbXBvcnRzJiYhSFRNTEltcG9ydHMucmVhZHk/IkhUTUxJbXBvcnRzTG9hZGVkIjoiRE9NQ29udGVudExvYWRlZCI7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoYyxiKX1lbHNlIGIoKX0od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbigpe2lmKHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCl7dmFyIGE9WyJ1cGdyYWRlQWxsIiwidXBncmFkZVN1YnRyZWUiLCJvYnNlcnZlRG9jdW1lbnQiLCJ1cGdyYWRlRG9jdW1lbnQiXSxiPXt9O2EuZm9yRWFjaChmdW5jdGlvbihhKXtiW2FdPUN1c3RvbUVsZW1lbnRzW2FdfSksYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe0N1c3RvbUVsZW1lbnRzW2FdPWZ1bmN0aW9uKGMpe3JldHVybiBiW2FdKHdyYXAoYykpfX0pfX0oKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3RoaXMuY2FjaGU9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLm1hcD1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMucmVxdWVzdHM9MCx0aGlzLnJlZ2V4PWF9dmFyIGM9YS5lbmRPZk1pY3JvdGFzaztiLnByb3RvdHlwZT17ZXh0cmFjdFVybHM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZCxlPVtdO2M9dGhpcy5yZWdleC5leGVjKGEpOylkPW5ldyBVUkwoY1sxXSxiKSxlLnB1c2goe21hdGNoZWQ6Y1swXSx1cmw6ZC5ocmVmfSk7cmV0dXJuIGV9LHByb2Nlc3M6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZXh0cmFjdFVybHMoYSxiKSxlPWMuYmluZChudWxsLHRoaXMubWFwKTt0aGlzLmZldGNoKGQsZSl9LGZldGNoOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5sZW5ndGg7aWYoIWMpcmV0dXJuIGIoKTtmb3IodmFyIGQsZSxmLGc9ZnVuY3Rpb24oKXswPT09LS1jJiZiKCl9LGg9MDtjPmg7aCsrKWQ9YVtoXSxmPWQudXJsLGU9dGhpcy5jYWNoZVtmXSxlfHwoZT10aGlzLnhocihmKSxlLm1hdGNoPWQsdGhpcy5jYWNoZVtmXT1lKSxlLndhaXQoZyl9LGhhbmRsZVhocjpmdW5jdGlvbihhKXt2YXIgYj1hLm1hdGNoLGM9Yi51cmwsZD1hLnJlc3BvbnNlfHxhLnJlc3BvbnNlVGV4dHx8IiI7dGhpcy5tYXBbY109ZCx0aGlzLmZldGNoKHRoaXMuZXh0cmFjdFVybHMoZCxjKSxhLnJlc29sdmUpfSx4aHI6ZnVuY3Rpb24oYSl7dGhpcy5yZXF1ZXN0cysrO3ZhciBiPW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4gYi5vcGVuKCJHRVQiLGEsITApLGIuc2VuZCgpLGIub25lcnJvcj1iLm9ubG9hZD10aGlzLmhhbmRsZVhoci5iaW5kKHRoaXMsYiksYi5wZW5kaW5nPVtdLGIucmVzb2x2ZT1mdW5jdGlvbigpe2Zvcih2YXIgYT1iLnBlbmRpbmcsYz0wO2M8YS5sZW5ndGg7YysrKWFbY10oKTtiLnBlbmRpbmc9bnVsbH0sYi53YWl0PWZ1bmN0aW9uKGEpe2IucGVuZGluZz9iLnBlbmRpbmcucHVzaChhKTpjKGEpfSxifX0sYS5Mb2FkZXI9Yn0od2luZG93LlBsYXRmb3JtKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7dGhpcy5sb2FkZXI9bmV3IGQodGhpcy5yZWdleCl9dmFyIGM9YS51cmxSZXNvbHZlcixkPWEuTG9hZGVyO2IucHJvdG90eXBlPXtyZWdleDovQGltcG9ydFxzKyg/OnVybCk/WyInXChdKihbXiciXCldKilbJyJcKV0qOy9nLHJlc29sdmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGQpe2ModGhpcy5mbGF0dGVuKGEsYixkKSl9LmJpbmQodGhpcyk7dGhpcy5sb2FkZXIucHJvY2VzcyhhLGIsZCl9LHJlc29sdmVOb2RlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLnRleHRDb250ZW50LGU9ZnVuY3Rpb24oYil7YS50ZXh0Q29udGVudD1iLGMoYSl9O3RoaXMucmVzb2x2ZShkLGIsZSl9LGZsYXR0ZW46ZnVuY3Rpb24oYSxiLGQpe2Zvcih2YXIgZSxmLGcsaD10aGlzLmxvYWRlci5leHRyYWN0VXJscyhhLGIpLGk9MDtpPGgubGVuZ3RoO2krKyllPWhbaV0sZj1lLnVybCxnPWMucmVzb2x2ZUNzc1RleHQoZFtmXSxmLCEwKSxnPXRoaXMuZmxhdHRlbihnLGIsZCksYT1hLnJlcGxhY2UoZS5tYXRjaGVkLGcpO3JldHVybiBhfSxsb2FkU3R5bGVzOmZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKCl7ZisrLGY9PT1nJiZjJiZjKCl9Zm9yKHZhciBlLGY9MCxnPWEubGVuZ3RoLGg9MDtnPmgmJihlPWFbaF0pO2grKyl0aGlzLnJlc29sdmVOb2RlKGUsYixkKX19O3ZhciBlPW5ldyBiO2Euc3R5bGVSZXNvbHZlcj1lfSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGEoYSl7Zm9yKDthLnBhcmVudE5vZGU7KWE9YS5wYXJlbnROb2RlO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBhLmdldEVsZW1lbnRCeUlkP2E6bnVsbH1mdW5jdGlvbiBiKGEsYixjKXt2YXIgZD1hLmJpbmRpbmdzXztyZXR1cm4gZHx8KGQ9YS5iaW5kaW5nc189e30pLGRbYl0mJmNbYl0uY2xvc2UoKSxkW2JdPWN9ZnVuY3Rpb24gYyhhLGIsYyl7cmV0dXJuIGN9ZnVuY3Rpb24gZChhKXtyZXR1cm4gbnVsbD09YT8iIjphfWZ1bmN0aW9uIGUoYSxiKXthLmRhdGE9ZChiKX1mdW5jdGlvbiBmKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gZShhLGIpfX1mdW5jdGlvbiBnKGEsYixjLGUpe3JldHVybiBjP3ZvaWQoZT9hLnNldEF0dHJpYnV0ZShiLCIiKTphLnJlbW92ZUF0dHJpYnV0ZShiKSk6dm9pZCBhLnNldEF0dHJpYnV0ZShiLGQoZSkpfWZ1bmN0aW9uIGgoYSxiLGMpe3JldHVybiBmdW5jdGlvbihkKXtnKGEsYixjLGQpfX1mdW5jdGlvbiBpKGEpe3N3aXRjaChhLnR5cGUpe2Nhc2UiY2hlY2tib3giOnJldHVybiB1O2Nhc2UicmFkaW8iOmNhc2Uic2VsZWN0LW11bHRpcGxlIjpjYXNlInNlbGVjdC1vbmUiOnJldHVybiJjaGFuZ2UiO2Nhc2UicmFuZ2UiOmlmKC9UcmlkZW50fE1TSUUvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpcmV0dXJuImNoYW5nZSI7ZGVmYXVsdDpyZXR1cm4iaW5wdXQifX1mdW5jdGlvbiBqKGEsYixjLGUpe2FbYl09KGV8fGQpKGMpfWZ1bmN0aW9uIGsoYSxiLGMpe3JldHVybiBmdW5jdGlvbihkKXtyZXR1cm4gaihhLGIsZCxjKX19ZnVuY3Rpb24gbCgpe31mdW5jdGlvbiBtKGEsYixjLGQpe2Z1bmN0aW9uIGUoKXtjLnNldFZhbHVlKGFbYl0pLGMuZGlzY2FyZENoYW5nZXMoKSwoZHx8bCkoYSksUGxhdGZvcm0ucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQoKX12YXIgZj1pKGEpO3JldHVybiBhLmFkZEV2ZW50TGlzdGVuZXIoZixlKSx7Y2xvc2U6ZnVuY3Rpb24oKXthLnJlbW92ZUV2ZW50TGlzdGVuZXIoZixlKSxjLmNsb3NlKCl9LG9ic2VydmFibGVfOmN9fWZ1bmN0aW9uIG4oYSl7cmV0dXJuIEJvb2xlYW4oYSl9ZnVuY3Rpb24gbyhiKXtpZihiLmZvcm0pcmV0dXJuIHMoYi5mb3JtLmVsZW1lbnRzLGZ1bmN0aW9uKGEpe3JldHVybiBhIT1iJiYiSU5QVVQiPT1hLnRhZ05hbWUmJiJyYWRpbyI9PWEudHlwZSYmYS5uYW1lPT1iLm5hbWV9KTt2YXIgYz1hKGIpO2lmKCFjKXJldHVybltdO3ZhciBkPWMucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT0icmFkaW8iXVtuYW1lPSInK2IubmFtZSsnIl0nKTtyZXR1cm4gcyhkLGZ1bmN0aW9uKGEpe3JldHVybiBhIT1iJiYhYS5mb3JtfSl9ZnVuY3Rpb24gcChhKXsiSU5QVVQiPT09YS50YWdOYW1lJiYicmFkaW8iPT09YS50eXBlJiZvKGEpLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YS5iaW5kaW5nc18uY2hlY2tlZDtiJiZiLm9ic2VydmFibGVfLnNldFZhbHVlKCExKX0pfWZ1bmN0aW9uIHEoYSxiKXt2YXIgYyxlLGYsZz1hLnBhcmVudE5vZGU7ZyBpbnN0YW5jZW9mIEhUTUxTZWxlY3RFbGVtZW50JiZnLmJpbmRpbmdzXyYmZy5iaW5kaW5nc18udmFsdWUmJihjPWcsZT1jLmJpbmRpbmdzXy52YWx1ZSxmPWMudmFsdWUpLGEudmFsdWU9ZChiKSxjJiZjLnZhbHVlIT1mJiYoZS5vYnNlcnZhYmxlXy5zZXRWYWx1ZShjLnZhbHVlKSxlLm9ic2VydmFibGVfLmRpc2NhcmRDaGFuZ2VzKCksUGxhdGZvcm0ucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQoKSl9ZnVuY3Rpb24gcihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cShhLGIpfX12YXIgcz1BcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZmlsdGVyKTtOb2RlLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYil7Y29uc29sZS5lcnJvcigiVW5oYW5kbGVkIGJpbmRpbmcgdG8gTm9kZTogIix0aGlzLGEsYil9LE5vZGUucHJvdG90eXBlLmJpbmRGaW5pc2hlZD1mdW5jdGlvbigpe307dmFyIHQ9YztPYmplY3QuZGVmaW5lUHJvcGVydHkoUGxhdGZvcm0sImVuYWJsZUJpbmRpbmdzUmVmbGVjdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0PT09Yn0sc2V0OmZ1bmN0aW9uKGEpe3JldHVybiB0PWE/YjpjLGF9LGNvbmZpZ3VyYWJsZTohMH0pLFRleHQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxiLGMpe2lmKCJ0ZXh0Q29udGVudCIhPT1hKXJldHVybiBOb2RlLnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGIsYyk7aWYoYylyZXR1cm4gZSh0aGlzLGIpO3ZhciBkPWI7cmV0dXJuIGUodGhpcyxkLm9wZW4oZih0aGlzKSkpLHQodGhpcyxhLGQpfSxFbGVtZW50LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD0iPyI9PWFbYS5sZW5ndGgtMV07aWYoZCYmKHRoaXMucmVtb3ZlQXR0cmlidXRlKGEpLGE9YS5zbGljZSgwLC0xKSksYylyZXR1cm4gZyh0aGlzLGEsZCxiKTt2YXIgZT1iO3JldHVybiBnKHRoaXMsYSxkLGUub3BlbihoKHRoaXMsYSxkKSkpLHQodGhpcyxhLGUpfTt2YXIgdTshZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxiPWEuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSk7Yi5zZXRBdHRyaWJ1dGUoInR5cGUiLCJjaGVja2JveCIpO3ZhciBjLGQ9MDtiLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixmdW5jdGlvbigpe2QrKyxjPWN8fCJjbGljayJ9KSxiLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsZnVuY3Rpb24oKXtkKyssYz1jfHwiY2hhbmdlIn0pO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJNb3VzZUV2ZW50Iik7ZS5pbml0TW91c2VFdmVudCgiY2xpY2siLCEwLCEwLHdpbmRvdywwLDAsMCwwLDAsITEsITEsITEsITEsMCxudWxsKSxiLmRpc3BhdGNoRXZlbnQoZSksdT0xPT1kPyJjaGFuZ2UiOmN9KCksSFRNTElucHV0RWxlbWVudC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGMsZSl7aWYoInZhbHVlIiE9PWEmJiJjaGVja2VkIiE9PWEpcmV0dXJuIEhUTUxFbGVtZW50LnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGMsZSk7dGhpcy5yZW1vdmVBdHRyaWJ1dGUoYSk7dmFyIGY9ImNoZWNrZWQiPT1hP246ZCxnPSJjaGVja2VkIj09YT9wOmw7aWYoZSlyZXR1cm4gaih0aGlzLGEsYyxmKTt2YXIgaD1jLGk9bSh0aGlzLGEsaCxnKTtyZXR1cm4gaih0aGlzLGEsaC5vcGVuKGsodGhpcyxhLGYpKSxmKSxiKHRoaXMsYSxpKX0sSFRNTFRleHRBcmVhRWxlbWVudC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGIsYyl7aWYoInZhbHVlIiE9PWEpcmV0dXJuIEhUTUxFbGVtZW50LnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGIsYyk7aWYodGhpcy5yZW1vdmVBdHRyaWJ1dGUoInZhbHVlIiksYylyZXR1cm4gaih0aGlzLCJ2YWx1ZSIsYik7dmFyIGU9YixmPW0odGhpcywidmFsdWUiLGUpO3JldHVybiBqKHRoaXMsInZhbHVlIixlLm9wZW4oayh0aGlzLCJ2YWx1ZSIsZCkpKSx0KHRoaXMsYSxmKX0sSFRNTE9wdGlvbkVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxiLGMpe2lmKCJ2YWx1ZSIhPT1hKXJldHVybiBIVE1MRWxlbWVudC5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsYSxiLGMpO2lmKHRoaXMucmVtb3ZlQXR0cmlidXRlKCJ2YWx1ZSIpLGMpcmV0dXJuIHEodGhpcyxiKTt2YXIgZD1iLGU9bSh0aGlzLCJ2YWx1ZSIsZCk7cmV0dXJuIHEodGhpcyxkLm9wZW4ocih0aGlzKSkpLHQodGhpcyxhLGUpfSxIVE1MU2VsZWN0RWxlbWVudC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGMsZCl7aWYoInNlbGVjdGVkaW5kZXgiPT09YSYmKGE9InNlbGVjdGVkSW5kZXgiKSwic2VsZWN0ZWRJbmRleCIhPT1hJiYidmFsdWUiIT09YSlyZXR1cm4gSFRNTEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsYyxkKTtpZih0aGlzLnJlbW92ZUF0dHJpYnV0ZShhKSxkKXJldHVybiBqKHRoaXMsYSxjKTt2YXIgZT1jLGY9bSh0aGlzLGEsZSk7cmV0dXJuIGoodGhpcyxhLGUub3BlbihrKHRoaXMsYSkpKSxiKHRoaXMsYSxmKX19KHRoaXMpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2lmKCFhKXRocm93IG5ldyBFcnJvcigiQXNzZXJ0aW9uIGZhaWxlZCIpfWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBiO2I9YS5wYXJlbnROb2RlOylhPWI7cmV0dXJuIGF9ZnVuY3Rpb24gZChhLGIpe2lmKGIpe2Zvcih2YXIgZCxlPSIjIitiOyFkJiYoYT1jKGEpLGEucHJvdG9Db250ZW50Xz9kPWEucHJvdG9Db250ZW50Xy5xdWVyeVNlbGVjdG9yKGUpOmEuZ2V0RWxlbWVudEJ5SWQmJihkPWEuZ2V0RWxlbWVudEJ5SWQoYikpLCFkJiZhLnRlbXBsYXRlQ3JlYXRvcl8pOylhPWEudGVtcGxhdGVDcmVhdG9yXztyZXR1cm4gZH19ZnVuY3Rpb24gZShhKXtyZXR1cm4idGVtcGxhdGUiPT1hLnRhZ05hbWUmJiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI9PWEubmFtZXNwYWNlVVJJfWZ1bmN0aW9uIGYoYSl7cmV0dXJuIlRFTVBMQVRFIj09YS50YWdOYW1lJiYiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI9PWEubmFtZXNwYWNlVVJJfWZ1bmN0aW9uIGcoYSl7cmV0dXJuIEJvb2xlYW4oTFthLnRhZ05hbWVdJiZhLmhhc0F0dHJpYnV0ZSgidGVtcGxhdGUiKSl9ZnVuY3Rpb24gaChhKXtyZXR1cm4gdm9pZCAwPT09YS5pc1RlbXBsYXRlXyYmKGEuaXNUZW1wbGF0ZV89IlRFTVBMQVRFIj09YS50YWdOYW1lfHxnKGEpKSxhLmlzVGVtcGxhdGVffWZ1bmN0aW9uIGkoYSxiKXt2YXIgYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoTik7aChhKSYmYihhKSxHKGMsYil9ZnVuY3Rpb24gaihhKXtmdW5jdGlvbiBiKGEpe0hUTUxUZW1wbGF0ZUVsZW1lbnQuZGVjb3JhdGUoYSl8fGooYS5jb250ZW50KX1pKGEsYil9ZnVuY3Rpb24gayhhLGIpe09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGIpLmZvckVhY2goZnVuY3Rpb24oYyl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYyxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGIsYykpfSl9ZnVuY3Rpb24gbChhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQ7aWYoIWIuZGVmYXVsdFZpZXcpcmV0dXJuIGI7dmFyIGM9Yi50ZW1wbGF0ZUNvbnRlbnRzT3duZXJfO2lmKCFjKXtmb3IoYz1iLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIik7Yy5sYXN0Q2hpbGQ7KWMucmVtb3ZlQ2hpbGQoYy5sYXN0Q2hpbGQpO2IudGVtcGxhdGVDb250ZW50c093bmVyXz1jfXJldHVybiBjfWZ1bmN0aW9uIG0oYSl7aWYoIWEuc3RhZ2luZ0RvY3VtZW50Xyl7dmFyIGI9YS5vd25lckRvY3VtZW50O2lmKCFiLnN0YWdpbmdEb2N1bWVudF8pe2Iuc3RhZ2luZ0RvY3VtZW50Xz1iLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIiksYi5zdGFnaW5nRG9jdW1lbnRfLmlzU3RhZ2luZ0RvY3VtZW50PSEwO3ZhciBjPWIuc3RhZ2luZ0RvY3VtZW50Xy5jcmVhdGVFbGVtZW50KCJiYXNlIik7Yy5ocmVmPWRvY3VtZW50LmJhc2VVUkksYi5zdGFnaW5nRG9jdW1lbnRfLmhlYWQuYXBwZW5kQ2hpbGQoYyksYi5zdGFnaW5nRG9jdW1lbnRfLnN0YWdpbmdEb2N1bWVudF89Yi5zdGFnaW5nRG9jdW1lbnRffWEuc3RhZ2luZ0RvY3VtZW50Xz1iLnN0YWdpbmdEb2N1bWVudF99cmV0dXJuIGEuc3RhZ2luZ0RvY3VtZW50X31mdW5jdGlvbiBuKGEpe3ZhciBiPWEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZW1wbGF0ZSIpO2EucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYixhKTtmb3IodmFyIGM9YS5hdHRyaWJ1dGVzLGQ9Yy5sZW5ndGg7ZC0tPjA7KXt2YXIgZT1jW2RdO0tbZS5uYW1lXSYmKCJ0ZW1wbGF0ZSIhPT1lLm5hbWUmJmIuc2V0QXR0cmlidXRlKGUubmFtZSxlLnZhbHVlKSxhLnJlbW92ZUF0dHJpYnV0ZShlLm5hbWUpKX1yZXR1cm4gYn1mdW5jdGlvbiBvKGEpe3ZhciBiPWEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZW1wbGF0ZSIpO2EucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYixhKTtmb3IodmFyIGM9YS5hdHRyaWJ1dGVzLGQ9Yy5sZW5ndGg7ZC0tPjA7KXt2YXIgZT1jW2RdO2Iuc2V0QXR0cmlidXRlKGUubmFtZSxlLnZhbHVlKSxhLnJlbW92ZUF0dHJpYnV0ZShlLm5hbWUpfXJldHVybiBhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSksYn1mdW5jdGlvbiBwKGEsYixjKXt2YXIgZD1hLmNvbnRlbnQ7aWYoYylyZXR1cm4gdm9pZCBkLmFwcGVuZENoaWxkKGIpO2Zvcih2YXIgZTtlPWIuZmlyc3RDaGlsZDspZC5hcHBlbmRDaGlsZChlKX1mdW5jdGlvbiBxKGEpe1A/YS5fX3Byb3RvX189SFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGU6ayhhLEhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlKX1mdW5jdGlvbiByKGEpe2Euc2V0TW9kZWxGbl98fChhLnNldE1vZGVsRm5fPWZ1bmN0aW9uKCl7YS5zZXRNb2RlbEZuU2NoZWR1bGVkXz0hMTt2YXIgYj16KGEsYS5kZWxlZ2F0ZV8mJmEuZGVsZWdhdGVfLnByZXBhcmVCaW5kaW5nKTt3KGEsYixhLm1vZGVsXyl9KSxhLnNldE1vZGVsRm5TY2hlZHVsZWRffHwoYS5zZXRNb2RlbEZuU2NoZWR1bGVkXz0hMCxPYnNlcnZlci5ydW5FT01fKGEuc2V0TW9kZWxGbl8pKX1mdW5jdGlvbiBzKGEsYixjLGQpe2lmKGEmJmEubGVuZ3RoKXtmb3IodmFyIGUsZj1hLmxlbmd0aCxnPTAsaD0wLGk9MCxqPSEwO2Y+aDspe3ZhciBnPWEuaW5kZXhPZigie3siLGgpLGs9YS5pbmRleE9mKCJbWyIsaCksbD0hMSxtPSJ9fSI7aWYoaz49MCYmKDA+Z3x8Zz5rKSYmKGc9ayxsPSEwLG09Il1dIiksaT0wPmc/LTE6YS5pbmRleE9mKG0sZysyKSwwPmkpe2lmKCFlKXJldHVybjtlLnB1c2goYS5zbGljZShoKSk7YnJlYWt9ZT1lfHxbXSxlLnB1c2goYS5zbGljZShoLGcpKTt2YXIgbj1hLnNsaWNlKGcrMixpKS50cmltKCk7ZS5wdXNoKGwpLGo9aiYmbDt2YXIgbz1kJiZkKG4sYixjKTtlLnB1c2gobnVsbD09bz9QYXRoLmdldChuKTpudWxsKSxlLnB1c2gobyksaD1pKzJ9cmV0dXJuIGg9PT1mJiZlLnB1c2goIiIpLGUuaGFzT25lUGF0aD01PT09ZS5sZW5ndGgsZS5pc1NpbXBsZVBhdGg9ZS5oYXNPbmVQYXRoJiYiIj09ZVswXSYmIiI9PWVbNF0sZS5vbmx5T25lVGltZT1qLGUuY29tYmluYXRvcj1mdW5jdGlvbihhKXtmb3IodmFyIGI9ZVswXSxjPTE7YzxlLmxlbmd0aDtjKz00KXt2YXIgZD1lLmhhc09uZVBhdGg/YTphWyhjLTEpLzRdO3ZvaWQgMCE9PWQmJihiKz1kKSxiKz1lW2MrM119cmV0dXJuIGJ9LGV9fWZ1bmN0aW9uIHQoYSxiLGMsZCl7aWYoYi5oYXNPbmVQYXRoKXt2YXIgZT1iWzNdLGY9ZT9lKGQsYywhMCk6YlsyXS5nZXRWYWx1ZUZyb20oZCk7cmV0dXJuIGIuaXNTaW1wbGVQYXRoP2Y6Yi5jb21iaW5hdG9yKGYpfWZvcih2YXIgZz1bXSxoPTE7aDxiLmxlbmd0aDtoKz00KXt2YXIgZT1iW2grMl07Z1soaC0xKS80XT1lP2UoZCxjKTpiW2grMV0uZ2V0VmFsdWVGcm9tKGQpfXJldHVybiBiLmNvbWJpbmF0b3IoZyl9ZnVuY3Rpb24gdShhLGIsYyxkKXt2YXIgZT1iWzNdLGY9ZT9lKGQsYywhMSk6bmV3IFBhdGhPYnNlcnZlcihkLGJbMl0pO3JldHVybiBiLmlzU2ltcGxlUGF0aD9mOm5ldyBPYnNlcnZlclRyYW5zZm9ybShmLGIuY29tYmluYXRvcil9ZnVuY3Rpb24gdihhLGIsYyxkKXtpZihiLm9ubHlPbmVUaW1lKXJldHVybiB0KGEsYixjLGQpO2lmKGIuaGFzT25lUGF0aClyZXR1cm4gdShhLGIsYyxkKTtmb3IodmFyIGU9bmV3IENvbXBvdW5kT2JzZXJ2ZXIsZj0xO2Y8Yi5sZW5ndGg7Zis9NCl7dmFyIGc9YltmXSxoPWJbZisyXTtpZihoKXt2YXIgaT1oKGQsYyxnKTtnP2UuYWRkUGF0aChpKTplLmFkZE9ic2VydmVyKGkpfWVsc2V7dmFyIGo9YltmKzFdO2c/ZS5hZGRQYXRoKGouZ2V0VmFsdWVGcm9tKGQpKTplLmFkZFBhdGgoZCxqKX19cmV0dXJuIG5ldyBPYnNlcnZlclRyYW5zZm9ybShlLGIuY29tYmluYXRvcil9ZnVuY3Rpb24gdyhhLGIsYyxkKXtmb3IodmFyIGU9MDtlPGIubGVuZ3RoO2UrPTIpe3ZhciBmPWJbZV0sZz1iW2UrMV0saD12KGYsZyxhLGMpLGk9YS5iaW5kKGYsaCxnLm9ubHlPbmVUaW1lKTtpJiZkJiZkLnB1c2goaSl9aWYoYS5iaW5kRmluaXNoZWQoKSxiLmlzVGVtcGxhdGUpe2EubW9kZWxfPWM7dmFyIGo9YS5wcm9jZXNzQmluZGluZ0RpcmVjdGl2ZXNfKGIpO2QmJmomJmQucHVzaChqKX19ZnVuY3Rpb24geChhLGIsYyl7dmFyIGQ9YS5nZXRBdHRyaWJ1dGUoYik7cmV0dXJuIHMoIiI9PWQ/Int7fX0iOmQsYixhLGMpfWZ1bmN0aW9uIHkoYSxjKXtiKGEpO2Zvcih2YXIgZD1bXSxlPTA7ZTxhLmF0dHJpYnV0ZXMubGVuZ3RoO2UrKyl7Zm9yKHZhciBmPWEuYXR0cmlidXRlc1tlXSxnPWYubmFtZSxpPWYudmFsdWU7Il8iPT09Z1swXTspZz1nLnN1YnN0cmluZygxKTtpZighaChhKXx8ZyE9PUomJmchPT1IJiZnIT09SSl7dmFyIGo9cyhpLGcsYSxjKTtqJiZkLnB1c2goZyxqKX19cmV0dXJuIGgoYSkmJihkLmlzVGVtcGxhdGU9ITAsZC5pZj14KGEsSixjKSxkLmJpbmQ9eChhLEgsYyksZC5yZXBlYXQ9eChhLEksYyksIWQuaWZ8fGQuYmluZHx8ZC5yZXBlYXR8fChkLmJpbmQ9cygie3t9fSIsSCxhLGMpKSksZH1mdW5jdGlvbiB6KGEsYil7aWYoYS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFKXJldHVybiB5KGEsYik7aWYoYS5ub2RlVHlwZT09PU5vZGUuVEVYVF9OT0RFKXt2YXIgYz1zKGEuZGF0YSwidGV4dENvbnRlbnQiLGEsYik7aWYoYylyZXR1cm5bInRleHRDb250ZW50IixjXX1yZXR1cm5bXX1mdW5jdGlvbiBBKGEsYixjLGQsZSxmLGcpe2Zvcih2YXIgaD1iLmFwcGVuZENoaWxkKGMuaW1wb3J0Tm9kZShhLCExKSksaT0wLGo9YS5maXJzdENoaWxkO2o7aj1qLm5leHRTaWJsaW5nKUEoaixoLGMsZC5jaGlsZHJlbltpKytdLGUsZixnKTtyZXR1cm4gZC5pc1RlbXBsYXRlJiYoSFRNTFRlbXBsYXRlRWxlbWVudC5kZWNvcmF0ZShoLGEpLGYmJmguc2V0RGVsZWdhdGVfKGYpKSx3KGgsZCxlLGcpLGh9ZnVuY3Rpb24gQihhLGIpe3ZhciBjPXooYSxiKTtjLmNoaWxkcmVuPXt9O2Zvcih2YXIgZD0wLGU9YS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWMuY2hpbGRyZW5bZCsrXT1CKGUsYik7cmV0dXJuIGN9ZnVuY3Rpb24gQyhhKXt2YXIgYj1hLmlkXztyZXR1cm4gYnx8KGI9YS5pZF89UysrKSxifWZ1bmN0aW9uIEQoYSxiKXt2YXIgYz1DKGEpO2lmKGIpe3ZhciBkPWIuYmluZGluZ01hcHNbY107cmV0dXJuIGR8fChkPWIuYmluZGluZ01hcHNbY109QihhLGIucHJlcGFyZUJpbmRpbmcpfHxbXSksZH12YXIgZD1hLmJpbmRpbmdNYXBfO3JldHVybiBkfHwoZD1hLmJpbmRpbmdNYXBfPUIoYSx2b2lkIDApfHxbXSksZH1mdW5jdGlvbiBFKGEpe3RoaXMuY2xvc2VkPSExLHRoaXMudGVtcGxhdGVFbGVtZW50Xz1hLHRoaXMuaW5zdGFuY2VzPVtdLHRoaXMuZGVwcz12b2lkIDAsdGhpcy5pdGVyYXRlZFZhbHVlPVtdLHRoaXMucHJlc2VudFZhbHVlPXZvaWQgMCx0aGlzLmFycmF5T2JzZXJ2ZXI9dm9pZCAwfXZhciBGLEc9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKTthLk1hcCYmImZ1bmN0aW9uIj09dHlwZW9mIGEuTWFwLnByb3RvdHlwZS5mb3JFYWNoP0Y9YS5NYXA6KEY9ZnVuY3Rpb24oKXt0aGlzLmtleXM9W10sdGhpcy52YWx1ZXM9W119LEYucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmtleXMuaW5kZXhPZihhKTswPmM/KHRoaXMua2V5cy5wdXNoKGEpLHRoaXMudmFsdWVzLnB1c2goYikpOnRoaXMudmFsdWVzW2NdPWJ9LGdldDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmtleXMuaW5kZXhPZihhKTtpZighKDA+YikpcmV0dXJuIHRoaXMudmFsdWVzW2JdfSwiZGVsZXRlIjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmtleXMuaW5kZXhPZihhKTtyZXR1cm4gMD5iPyExOih0aGlzLmtleXMuc3BsaWNlKGIsMSksdGhpcy52YWx1ZXMuc3BsaWNlKGIsMSksITApfSxmb3JFYWNoOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yzx0aGlzLmtleXMubGVuZ3RoO2MrKylhLmNhbGwoYnx8dGhpcyx0aGlzLnZhbHVlc1tjXSx0aGlzLmtleXNbY10sdGhpcyl9fSk7ImZ1bmN0aW9uIiE9dHlwZW9mIGRvY3VtZW50LmNvbnRhaW5zJiYoRG9jdW1lbnQucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09dGhpc3x8YS5wYXJlbnROb2RlPT09dGhpcz8hMDp0aGlzLmRvY3VtZW50RWxlbWVudC5jb250YWlucyhhKX0pO3ZhciBIPSJiaW5kIixJPSJyZXBlYXQiLEo9ImlmIixLPXt0ZW1wbGF0ZTohMCxyZXBlYXQ6ITAsYmluZDohMCxyZWY6ITB9LEw9e1RIRUFEOiEwLFRCT0RZOiEwLFRGT09UOiEwLFRIOiEwLFRSOiEwLFREOiEwLENPTEdST1VQOiEwLENPTDohMCxDQVBUSU9OOiEwLE9QVElPTjohMCxPUFRHUk9VUDohMH0sTT0idW5kZWZpbmVkIiE9dHlwZW9mIEhUTUxUZW1wbGF0ZUVsZW1lbnQ7TSYmIWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKSxiPWEuY29udGVudC5vd25lckRvY3VtZW50LGM9Yi5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQoImh0bWwiKSksZD1jLmFwcGVuZENoaWxkKGIuY3JlYXRlRWxlbWVudCgiaGVhZCIpKSxlPWIuY3JlYXRlRWxlbWVudCgiYmFzZSIpO2UuaHJlZj1kb2N1bWVudC5iYXNlVVJJLGQuYXBwZW5kQ2hpbGQoZSl9KCk7dmFyIE49InRlbXBsYXRlLCAiK09iamVjdC5rZXlzKEwpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS50b0xvd2VyQ2FzZSgpKyJbdGVtcGxhdGVdIn0pLmpvaW4oIiwgIik7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXtqKGRvY3VtZW50KSxQbGF0Zm9ybS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludCgpfSwhMSksTXx8KGEuSFRNTFRlbXBsYXRlRWxlbWVudD1mdW5jdGlvbigpe3Rocm93IFR5cGVFcnJvcigiSWxsZWdhbCBjb25zdHJ1Y3RvciIpfSk7dmFyIE8sUD0iX19wcm90b19fImlue307ImZ1bmN0aW9uIj09dHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXImJihPPW5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWFbYl0udGFyZ2V0LnJlZkNoYW5nZWRfKCl9KSksSFRNTFRlbXBsYXRlRWxlbWVudC5kZWNvcmF0ZT1mdW5jdGlvbihhLGMpe2lmKGEudGVtcGxhdGVJc0RlY29yYXRlZF8pcmV0dXJuITE7dmFyIGQ9YTtkLnRlbXBsYXRlSXNEZWNvcmF0ZWRfPSEwO3ZhciBoPWYoZCkmJk0saT1oLGs9IWgsbT0hMTtpZihofHwoZyhkKT8oYighYyksZD1uKGEpLGQudGVtcGxhdGVJc0RlY29yYXRlZF89ITAsaD1NLG09ITApOmUoZCkmJihkPW8oYSksZC50ZW1wbGF0ZUlzRGVjb3JhdGVkXz0hMCxoPU0pKSwhaCl7cShkKTt2YXIgcj1sKGQpO2QuY29udGVudF89ci5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCl9cmV0dXJuIGM/ZC5pbnN0YW5jZVJlZl89YzprP3AoZCxhLG0pOmkmJmooZC5jb250ZW50KSwhMH0sSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXA9ajt2YXIgUT1hLkhUTUxVbmtub3duRWxlbWVudHx8SFRNTEVsZW1lbnQsUj17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudF99LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfTtNfHwoSFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShRLnByb3RvdHlwZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlLCJjb250ZW50IixSKSksayhIVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZSx7YmluZDpmdW5jdGlvbihhLGIsYyl7aWYoInJlZiIhPWEpcmV0dXJuIEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsYixjKTt2YXIgZD10aGlzLGU9Yz9iOmIub3BlbihmdW5jdGlvbihhKXtkLnNldEF0dHJpYnV0ZSgicmVmIixhKSxkLnJlZkNoYW5nZWRfKCl9KTtyZXR1cm4gdGhpcy5zZXRBdHRyaWJ1dGUoInJlZiIsZSksdGhpcy5yZWZDaGFuZ2VkXygpLGM/dm9pZCAwOih0aGlzLmJpbmRpbmdzXz90aGlzLmJpbmRpbmdzXy5yZWY9Yjp0aGlzLmJpbmRpbmdzXz17cmVmOmJ9LGIpfSxwcm9jZXNzQmluZGluZ0RpcmVjdGl2ZXNfOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLml0ZXJhdG9yXyYmdGhpcy5pdGVyYXRvcl8uY2xvc2VEZXBzKCksYS5pZnx8YS5iaW5kfHxhLnJlcGVhdD8odGhpcy5pdGVyYXRvcl98fCh0aGlzLml0ZXJhdG9yXz1uZXcgRSh0aGlzKSksdGhpcy5pdGVyYXRvcl8udXBkYXRlRGVwZW5kZW5jaWVzKGEsdGhpcy5tb2RlbF8pLE8mJk8ub2JzZXJ2ZSh0aGlzLHthdHRyaWJ1dGVzOiEwLGF0dHJpYnV0ZUZpbHRlcjpbInJlZiJdfSksdGhpcy5pdGVyYXRvcl8pOnZvaWQodGhpcy5pdGVyYXRvcl8mJih0aGlzLml0ZXJhdG9yXy5jbG9zZSgpLHRoaXMuaXRlcmF0b3JfPXZvaWQgMCkpfSxjcmVhdGVJbnN0YW5jZTpmdW5jdGlvbihhLGIsYyl7Yj9jPXRoaXMubmV3RGVsZWdhdGVfKGIpOmN8fChjPXRoaXMuZGVsZWdhdGVfKSx0aGlzLnJlZkNvbnRlbnRffHwodGhpcy5yZWZDb250ZW50Xz10aGlzLnJlZl8uY29udGVudCk7dmFyIGQ9dGhpcy5yZWZDb250ZW50XztpZihudWxsPT09ZC5maXJzdENoaWxkKXJldHVybiBUO3ZhciBlPUQoZCxjKSxmPW0odGhpcyksZz1mLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtnLnRlbXBsYXRlQ3JlYXRvcl89dGhpcyxnLnByb3RvQ29udGVudF89ZCxnLmJpbmRpbmdzXz1bXSxnLnRlcm1pbmF0b3JfPW51bGw7Zm9yKHZhciBoPWcudGVtcGxhdGVJbnN0YW5jZV89e2ZpcnN0Tm9kZTpudWxsLGxhc3ROb2RlOm51bGwsbW9kZWw6YX0saT0wLGo9ITEsaz1kLmZpcnN0Q2hpbGQ7aztrPWsubmV4dFNpYmxpbmcpe251bGw9PT1rLm5leHRTaWJsaW5nJiYoaj0hMCk7dmFyIGw9QShrLGcsZixlLmNoaWxkcmVuW2krK10sYSxjLGcuYmluZGluZ3NfKTtsLnRlbXBsYXRlSW5zdGFuY2VfPWgsaiYmKGcudGVybWluYXRvcl89bCl9cmV0dXJuIGguZmlyc3ROb2RlPWcuZmlyc3RDaGlsZCxoLmxhc3ROb2RlPWcubGFzdENoaWxkLGcudGVtcGxhdGVDcmVhdG9yXz12b2lkIDAsZy5wcm90b0NvbnRlbnRfPXZvaWQgMCxnfSxnZXQgbW9kZWwoKXtyZXR1cm4gdGhpcy5tb2RlbF99LHNldCBtb2RlbChhKXt0aGlzLm1vZGVsXz1hLHIodGhpcyl9LGdldCBiaW5kaW5nRGVsZWdhdGUoKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZV8mJnRoaXMuZGVsZWdhdGVfLnJhd30scmVmQ2hhbmdlZF86ZnVuY3Rpb24oKXt0aGlzLml0ZXJhdG9yXyYmdGhpcy5yZWZDb250ZW50XyE9PXRoaXMucmVmXy5jb250ZW50JiYodGhpcy5yZWZDb250ZW50Xz12b2lkIDAsdGhpcy5pdGVyYXRvcl8udmFsdWVDaGFuZ2VkKCksdGhpcy5pdGVyYXRvcl8udXBkYXRlSXRlcmF0ZWRWYWx1ZSgpKX0sY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLm1vZGVsXz12b2lkIDAsdGhpcy5kZWxlZ2F0ZV89dm9pZCAwLHRoaXMuYmluZGluZ3NfJiZ0aGlzLmJpbmRpbmdzXy5yZWYmJnRoaXMuYmluZGluZ3NfLnJlZi5jbG9zZSgpLHRoaXMucmVmQ29udGVudF89dm9pZCAwLHRoaXMuaXRlcmF0b3JfJiYodGhpcy5pdGVyYXRvcl8udmFsdWVDaGFuZ2VkKCksdGhpcy5pdGVyYXRvcl8uY2xvc2UoKSx0aGlzLml0ZXJhdG9yXz12b2lkIDApfSxzZXREZWxlZ2F0ZV86ZnVuY3Rpb24oYSl7dGhpcy5kZWxlZ2F0ZV89YSx0aGlzLmJpbmRpbmdNYXBfPXZvaWQgMCx0aGlzLml0ZXJhdG9yXyYmKHRoaXMuaXRlcmF0b3JfLmluc3RhbmNlUG9zaXRpb25DaGFuZ2VkRm5fPXZvaWQgMCx0aGlzLml0ZXJhdG9yXy5pbnN0YW5jZU1vZGVsRm5fPXZvaWQgMCl9LG5ld0RlbGVnYXRlXzpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIpe3ZhciBjPWEmJmFbYl07aWYoImZ1bmN0aW9uIj09dHlwZW9mIGMpcmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGMuYXBwbHkoYSxhcmd1bWVudHMpfX1pZihhKXJldHVybntiaW5kaW5nTWFwczp7fSxyYXc6YSxwcmVwYXJlQmluZGluZzpiKCJwcmVwYXJlQmluZGluZyIpLHByZXBhcmVJbnN0YW5jZU1vZGVsOmIoInByZXBhcmVJbnN0YW5jZU1vZGVsIikscHJlcGFyZUluc3RhbmNlUG9zaXRpb25DaGFuZ2VkOmIoInByZXBhcmVJbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZCIpfX0sc2V0IGJpbmRpbmdEZWxlZ2F0ZShhKXtpZih0aGlzLmRlbGVnYXRlXyl0aHJvdyBFcnJvcigiVGVtcGxhdGUgbXVzdCBiZSBjbGVhcmVkIGJlZm9yZSBhIG5ldyBiaW5kaW5nRGVsZWdhdGUgY2FuIGJlIGFzc2lnbmVkIik7dGhpcy5zZXREZWxlZ2F0ZV8odGhpcy5uZXdEZWxlZ2F0ZV8oYSkpfSxnZXQgcmVmXygpe3ZhciBhPWQodGhpcyx0aGlzLmdldEF0dHJpYnV0ZSgicmVmIikpO2lmKGF8fChhPXRoaXMuaW5zdGFuY2VSZWZfKSwhYSlyZXR1cm4gdGhpczt2YXIgYj1hLnJlZl87cmV0dXJuIGI/YjphfX0pO3ZhciBTPTE7T2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGUucHJvdG90eXBlLCJ0ZW1wbGF0ZUluc3RhbmNlIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50ZW1wbGF0ZUluc3RhbmNlXztyZXR1cm4gYT9hOnRoaXMucGFyZW50Tm9kZT90aGlzLnBhcmVudE5vZGUudGVtcGxhdGVJbnN0YW5jZTp2b2lkIDB9fSk7dmFyIFQ9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1QuYmluZGluZ3NfPVtdLFQudGVybWluYXRvcl89bnVsbCxFLnByb3RvdHlwZT17Y2xvc2VEZXBzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5kZXBzO2EmJihhLmlmT25lVGltZT09PSExJiZhLmlmVmFsdWUuY2xvc2UoKSxhLm9uZVRpbWU9PT0hMSYmYS52YWx1ZS5jbG9zZSgpKX0sdXBkYXRlRGVwZW5kZW5jaWVzOmZ1bmN0aW9uKGEsYil7dGhpcy5jbG9zZURlcHMoKTt2YXIgYz10aGlzLmRlcHM9e30sZD10aGlzLnRlbXBsYXRlRWxlbWVudF87aWYoYS5pZil7aWYoYy5oYXNJZj0hMCxjLmlmT25lVGltZT1hLmlmLm9ubHlPbmVUaW1lLGMuaWZWYWx1ZT12KEosYS5pZixkLGIpLGMuaWZPbmVUaW1lJiYhYy5pZlZhbHVlKXJldHVybiB2b2lkIHRoaXMudXBkYXRlSXRlcmF0ZWRWYWx1ZSgpO2MuaWZPbmVUaW1lfHxjLmlmVmFsdWUub3Blbih0aGlzLnVwZGF0ZUl0ZXJhdGVkVmFsdWUsdGhpcyl9YS5yZXBlYXQ/KGMucmVwZWF0PSEwLGMub25lVGltZT1hLnJlcGVhdC5vbmx5T25lVGltZSxjLnZhbHVlPXYoSSxhLnJlcGVhdCxkLGIpKTooYy5yZXBlYXQ9ITEsYy5vbmVUaW1lPWEuYmluZC5vbmx5T25lVGltZSxjLnZhbHVlPXYoSCxhLmJpbmQsZCxiKSksYy5vbmVUaW1lfHxjLnZhbHVlLm9wZW4odGhpcy51cGRhdGVJdGVyYXRlZFZhbHVlLHRoaXMpLHRoaXMudXBkYXRlSXRlcmF0ZWRWYWx1ZSgpfSx1cGRhdGVJdGVyYXRlZFZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5kZXBzLmhhc0lmKXt2YXIgYT10aGlzLmRlcHMuaWZWYWx1ZTtpZih0aGlzLmRlcHMuaWZPbmVUaW1lfHwoYT1hLmRpc2NhcmRDaGFuZ2VzKCkpLCFhKXJldHVybiB2b2lkIHRoaXMudmFsdWVDaGFuZ2VkKCl9dmFyIGI9dGhpcy5kZXBzLnZhbHVlO3RoaXMuZGVwcy5vbmVUaW1lfHwoYj1iLmRpc2NhcmRDaGFuZ2VzKCkpLHRoaXMuZGVwcy5yZXBlYXR8fChiPVtiXSk7dmFyIGM9dGhpcy5kZXBzLnJlcGVhdCYmIXRoaXMuZGVwcy5vbmVUaW1lJiZBcnJheS5pc0FycmF5KGIpO3RoaXMudmFsdWVDaGFuZ2VkKGIsYyl9LHZhbHVlQ2hhbmdlZDpmdW5jdGlvbihhLGIpe0FycmF5LmlzQXJyYXkoYSl8fChhPVtdKSxhIT09dGhpcy5pdGVyYXRlZFZhbHVlJiYodGhpcy51bm9ic2VydmUoKSx0aGlzLnByZXNlbnRWYWx1ZT1hLGImJih0aGlzLmFycmF5T2JzZXJ2ZXI9bmV3IEFycmF5T2JzZXJ2ZXIodGhpcy5wcmVzZW50VmFsdWUpLHRoaXMuYXJyYXlPYnNlcnZlci5vcGVuKHRoaXMuaGFuZGxlU3BsaWNlcyx0aGlzKSksdGhpcy5oYW5kbGVTcGxpY2VzKEFycmF5T2JzZXJ2ZXIuY2FsY3VsYXRlU3BsaWNlcyh0aGlzLnByZXNlbnRWYWx1ZSx0aGlzLml0ZXJhdGVkVmFsdWUpKSl9LGdldExhc3RJbnN0YW5jZU5vZGU6ZnVuY3Rpb24oYSl7aWYoLTE9PWEpcmV0dXJuIHRoaXMudGVtcGxhdGVFbGVtZW50Xzt2YXIgYj10aGlzLmluc3RhbmNlc1thXSxjPWIudGVybWluYXRvcl87aWYoIWMpcmV0dXJuIHRoaXMuZ2V0TGFzdEluc3RhbmNlTm9kZShhLTEpO2lmKGMubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERXx8dGhpcy50ZW1wbGF0ZUVsZW1lbnRfPT09YylyZXR1cm4gYzt2YXIgZD1jLml0ZXJhdG9yXztyZXR1cm4gZD9kLmdldExhc3RUZW1wbGF0ZU5vZGUoKTpjfSxnZXRMYXN0VGVtcGxhdGVOb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TGFzdEluc3RhbmNlTm9kZSh0aGlzLmluc3RhbmNlcy5sZW5ndGgtMSl9LGluc2VydEluc3RhbmNlQXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldExhc3RJbnN0YW5jZU5vZGUoYS0xKSxkPXRoaXMudGVtcGxhdGVFbGVtZW50Xy5wYXJlbnROb2RlO3RoaXMuaW5zdGFuY2VzLnNwbGljZShhLDAsYiksZC5pbnNlcnRCZWZvcmUoYixjLm5leHRTaWJsaW5nKX0sZXh0cmFjdEluc3RhbmNlQXQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuZ2V0TGFzdEluc3RhbmNlTm9kZShhLTEpLGM9dGhpcy5nZXRMYXN0SW5zdGFuY2VOb2RlKGEpLGQ9dGhpcy50ZW1wbGF0ZUVsZW1lbnRfLnBhcmVudE5vZGUsZT10aGlzLmluc3RhbmNlcy5zcGxpY2UoYSwxKVswXTtjIT09Yjspe3ZhciBmPWIubmV4dFNpYmxpbmc7Zj09YyYmKGM9YiksZS5hcHBlbmRDaGlsZChkLnJlbW92ZUNoaWxkKGYpKX1yZXR1cm4gZX0sZ2V0RGVsZWdhdGVGbjpmdW5jdGlvbihhKXtyZXR1cm4gYT1hJiZhKHRoaXMudGVtcGxhdGVFbGVtZW50XyksImZ1bmN0aW9uIj09dHlwZW9mIGE/YTpudWxsfSxoYW5kbGVTcGxpY2VzOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmNsb3NlZCYmYS5sZW5ndGgpe3ZhciBiPXRoaXMudGVtcGxhdGVFbGVtZW50XztpZighYi5wYXJlbnROb2RlKXJldHVybiB2b2lkIHRoaXMuY2xvc2UoKTtBcnJheU9ic2VydmVyLmFwcGx5U3BsaWNlcyh0aGlzLml0ZXJhdGVkVmFsdWUsdGhpcy5wcmVzZW50VmFsdWUsYSk7dmFyIGM9Yi5kZWxlZ2F0ZV87dm9pZCAwPT09dGhpcy5pbnN0YW5jZU1vZGVsRm5fJiYodGhpcy5pbnN0YW5jZU1vZGVsRm5fPXRoaXMuZ2V0RGVsZWdhdGVGbihjJiZjLnByZXBhcmVJbnN0YW5jZU1vZGVsKSksdm9pZCAwPT09dGhpcy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXyYmKHRoaXMuaW5zdGFuY2VQb3NpdGlvbkNoYW5nZWRGbl89dGhpcy5nZXREZWxlZ2F0ZUZuKGMmJmMucHJlcGFyZUluc3RhbmNlUG9zaXRpb25DaGFuZ2VkKSk7Zm9yKHZhciBkPW5ldyBGLGU9MCxmPTA7ZjxhLmxlbmd0aDtmKyspe2Zvcih2YXIgZz1hW2ZdLGg9Zy5yZW1vdmVkLGk9MDtpPGgubGVuZ3RoO2krKyl7dmFyIGo9aFtpXSxrPXRoaXMuZXh0cmFjdEluc3RhbmNlQXQoZy5pbmRleCtlKTtrIT09VCYmZC5zZXQoaixrKX1lLT1nLmFkZGVkQ291bnR9Zm9yKHZhciBmPTA7ZjxhLmxlbmd0aDtmKyspZm9yKHZhciBnPWFbZl0sbD1nLmluZGV4O2w8Zy5pbmRleCtnLmFkZGVkQ291bnQ7bCsrKXt2YXIgaj10aGlzLml0ZXJhdGVkVmFsdWVbbF0saz1kLmdldChqKTtrP2QuZGVsZXRlKGopOih0aGlzLmluc3RhbmNlTW9kZWxGbl8mJihqPXRoaXMuaW5zdGFuY2VNb2RlbEZuXyhqKSksaz12b2lkIDA9PT1qP1Q6Yi5jcmVhdGVJbnN0YW5jZShqLHZvaWQgMCxjKSksdGhpcy5pbnNlcnRJbnN0YW5jZUF0KGwsayl9ZC5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMuY2xvc2VJbnN0YW5jZUJpbmRpbmdzKGEpfSx0aGlzKSx0aGlzLmluc3RhbmNlUG9zaXRpb25DaGFuZ2VkRm5fJiZ0aGlzLnJlcG9ydEluc3RhbmNlc01vdmVkKGEpfX0scmVwb3J0SW5zdGFuY2VNb3ZlZDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmluc3RhbmNlc1thXTtiIT09VCYmdGhpcy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXyhiLnRlbXBsYXRlSW5zdGFuY2VfLGEpfSxyZXBvcnRJbnN0YW5jZXNNb3ZlZDpmdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjPTAsZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZT1hW2RdO2lmKDAhPWMpZm9yKDtiPGUuaW5kZXg7KXRoaXMucmVwb3J0SW5zdGFuY2VNb3ZlZChiKSxiKys7ZWxzZSBiPWUuaW5kZXg7Zm9yKDtiPGUuaW5kZXgrZS5hZGRlZENvdW50Oyl0aGlzLnJlcG9ydEluc3RhbmNlTW92ZWQoYiksYisrO2MrPWUuYWRkZWRDb3VudC1lLnJlbW92ZWQubGVuZ3RofWlmKDAhPWMpZm9yKHZhciBmPXRoaXMuaW5zdGFuY2VzLmxlbmd0aDtmPmI7KXRoaXMucmVwb3J0SW5zdGFuY2VNb3ZlZChiKSxiKyt9LGNsb3NlSW5zdGFuY2VCaW5kaW5nczpmdW5jdGlvbihhKXtmb3IodmFyIGI9YS5iaW5kaW5nc18sYz0wO2M8Yi5sZW5ndGg7YysrKWJbY10uY2xvc2UoKX0sdW5vYnNlcnZlOmZ1bmN0aW9uKCl7dGhpcy5hcnJheU9ic2VydmVyJiYodGhpcy5hcnJheU9ic2VydmVyLmNsb3NlKCksdGhpcy5hcnJheU9ic2VydmVyPXZvaWQgMCl9LGNsb3NlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuY2xvc2VkKXt0aGlzLnVub2JzZXJ2ZSgpO2Zvcih2YXIgYT0wO2E8dGhpcy5pbnN0YW5jZXMubGVuZ3RoO2ErKyl0aGlzLmNsb3NlSW5zdGFuY2VCaW5kaW5ncyh0aGlzLmluc3RhbmNlc1thXSk7dGhpcy5pbnN0YW5jZXMubGVuZ3RoPTAsdGhpcy5jbG9zZURlcHMoKSx0aGlzLnRlbXBsYXRlRWxlbWVudF8uaXRlcmF0b3JfPXZvaWQgMCx0aGlzLmNsb3NlZD0hMH19fSxIVE1MVGVtcGxhdGVFbGVtZW50LmZvckFsbFRlbXBsYXRlc0Zyb21fPWl9KHRoaXMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtlfHwoZT0hMCxhLmVuZE9mTWljcm90YXNrKGZ1bmN0aW9uKCl7ZT0hMSxsb2dGbGFncy5kYXRhJiZjb25zb2xlLmdyb3VwKCJQbGF0Zm9ybS5mbHVzaCgpIiksYS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludCgpLGxvZ0ZsYWdzLmRhdGEmJmNvbnNvbGUuZ3JvdXBFbmQoKX0pKX12YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2MudGV4dENvbnRlbnQ9InRlbXBsYXRlIHtkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7fSAvKiBpbmplY3RlZCBieSBwbGF0Zm9ybS5qcyAqLyI7dmFyIGQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaGVhZCIpO2QuaW5zZXJ0QmVmb3JlKGMsZC5maXJzdENoaWxkKTt2YXIgZTtpZihPYnNlcnZlci5oYXNPYmplY3RPYnNlcnZlKWI9ZnVuY3Rpb24oKXt9O2Vsc2V7dmFyIGY9MTI1O3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJXZWJDb21wb25lbnRzUmVhZHkiLGZ1bmN0aW9uKCl7YigpLGEuZmx1c2hQb2xsPXNldEludGVydmFsKGIsZil9KX1pZih3aW5kb3cuQ3VzdG9tRWxlbWVudHMmJiFDdXN0b21FbGVtZW50cy51c2VOYXRpdmUpe3ZhciBnPURvY3VtZW50LnByb3RvdHlwZS5pbXBvcnROb2RlO0RvY3VtZW50LnByb3RvdHlwZS5pbXBvcnROb2RlPWZ1bmN0aW9uKGEsYil7dmFyIGM9Zy5jYWxsKHRoaXMsYSxiKTtyZXR1cm4gQ3VzdG9tRWxlbWVudHMudXBncmFkZUFsbChjKSxjfX1hLmZsdXNoPWJ9KHdpbmRvdy5QbGF0Zm9ybSk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPXBsYXRmb3JtLmpzLm1hcA==",
                "body": "LyoqCiAqIEBsaWNlbnNlCiAqIENvcHlyaWdodCAoYykgMjAxNCBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQKICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHQKICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0CiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvCiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0CiAqLwovLyBAdmVyc2lvbjogMC4yLjQKCndpbmRvdy5QbGF0Zm9ybT13aW5kb3cuUGxhdGZvcm18fHt9LHdpbmRvdy5sb2dGbGFncz13aW5kb3cubG9nRmxhZ3N8fHt9LGZ1bmN0aW9uKGEpe3ZhciBiPWEuZmxhZ3N8fHt9O2xvY2F0aW9uLnNlYXJjaC5zbGljZSgxKS5zcGxpdCgiJiIpLmZvckVhY2goZnVuY3Rpb24oYSl7YT1hLnNwbGl0KCI9IiksYVswXSYmKGJbYVswXV09YVsxXXx8ITApfSk7dmFyIGM9ZG9jdW1lbnQuY3VycmVudFNjcmlwdHx8ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2NyaXB0W3NyYyo9InBsYXRmb3JtLmpzIl0nKTtpZihjKWZvcih2YXIgZCxlPWMuYXR0cmlidXRlcyxmPTA7ZjxlLmxlbmd0aDtmKyspZD1lW2ZdLCJzcmMiIT09ZC5uYW1lJiYoYltkLm5hbWVdPWQudmFsdWV8fCEwKTtiLmxvZyYmYi5sb2cuc3BsaXQoIiwiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3dpbmRvdy5sb2dGbGFnc1thXT0hMH0pLGIuc2hhZG93PWIuc2hhZG93fHxiLnNoYWRvd2RvbXx8Yi5wb2x5ZmlsbCxiLnNoYWRvdz0ibmF0aXZlIj09PWIuc2hhZG93PyExOmIuc2hhZG93fHwhSFRNTEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3QsYi5zaGFkb3cmJmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoInNjcmlwdCIpLmxlbmd0aD4xJiZjb25zb2xlLndhcm4oInBsYXRmb3JtLmpzIGlzIG5vdCB0aGUgZmlyc3Qgc2NyaXB0IG9uIHRoZSBwYWdlLiBTZWUgaHR0cDovL3d3dy5wb2x5bWVyLXByb2plY3Qub3JnL2RvY3Mvc3RhcnQvcGxhdGZvcm0uaHRtbCNzZXR1cCBmb3IgZGV0YWlscy4iKSxiLnJlZ2lzdGVyJiYod2luZG93LkN1c3RvbUVsZW1lbnRzPXdpbmRvdy5DdXN0b21FbGVtZW50c3x8e2ZsYWdzOnt9fSx3aW5kb3cuQ3VzdG9tRWxlbWVudHMuZmxhZ3MucmVnaXN0ZXI9Yi5yZWdpc3RlciksYi5pbXBvcnRzJiYod2luZG93LkhUTUxJbXBvcnRzPXdpbmRvdy5IVE1MSW1wb3J0c3x8e2ZsYWdzOnt9fSx3aW5kb3cuSFRNTEltcG9ydHMuZmxhZ3MuaW1wb3J0cz1iLmltcG9ydHMpLGEuZmxhZ3M9Yn0oUGxhdGZvcm0pLCJ1bmRlZmluZWQiPT10eXBlb2YgV2Vha01hcCYmIWZ1bmN0aW9uKCl7dmFyIGE9T2JqZWN0LmRlZmluZVByb3BlcnR5LGI9RGF0ZS5ub3coKSUxZTksYz1mdW5jdGlvbigpe3RoaXMubmFtZT0iX19zdCIrKDFlOSpNYXRoLnJhbmRvbSgpPj4+MCkrKGIrKyArIl9fIil9O2MucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYixjKXt2YXIgZD1iW3RoaXMubmFtZV07ZCYmZFswXT09PWI/ZFsxXT1jOmEoYix0aGlzLm5hbWUse3ZhbHVlOltiLGNdLHdyaXRhYmxlOiEwfSl9LGdldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4oYj1hW3RoaXMubmFtZV0pJiZiWzBdPT09YT9iWzFdOnZvaWQgMH0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dGhpcy5zZXQoYSx2b2lkIDApfX0sd2luZG93LldlYWtNYXA9Y30oKSxmdW5jdGlvbihnbG9iYWwpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBkZXRlY3RPYmplY3RPYnNlcnZlKCl7ZnVuY3Rpb24gYShhKXtiPWF9aWYoImZ1bmN0aW9uIiE9dHlwZW9mIE9iamVjdC5vYnNlcnZlfHwiZnVuY3Rpb24iIT10eXBlb2YgQXJyYXkub2JzZXJ2ZSlyZXR1cm4hMTt2YXIgYj1bXSxjPXt9LGQ9W107cmV0dXJuIE9iamVjdC5vYnNlcnZlKGMsYSksQXJyYXkub2JzZXJ2ZShkLGEpLGMuaWQ9MSxjLmlkPTIsZGVsZXRlIGMuaWQsZC5wdXNoKDEsMiksZC5sZW5ndGg9MCxPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMoYSksNSE9PWIubGVuZ3RoPyExOiJhZGQiIT1iWzBdLnR5cGV8fCJ1cGRhdGUiIT1iWzFdLnR5cGV8fCJkZWxldGUiIT1iWzJdLnR5cGV8fCJzcGxpY2UiIT1iWzNdLnR5cGV8fCJzcGxpY2UiIT1iWzRdLnR5cGU/ITE6KE9iamVjdC51bm9ic2VydmUoYyxhKSxBcnJheS51bm9ic2VydmUoZCxhKSwhMCl9ZnVuY3Rpb24gZGV0ZWN0RXZhbCgpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgY2hyb21lJiZjaHJvbWUuYXBwJiZjaHJvbWUuYXBwLnJ1bnRpbWUpcmV0dXJuITE7dHJ5e3ZhciBhPW5ldyBGdW5jdGlvbigiIiwicmV0dXJuIHRydWU7Iik7cmV0dXJuIGEoKX1jYXRjaChiKXtyZXR1cm4hMX19ZnVuY3Rpb24gaXNJbmRleChhKXtyZXR1cm4rYT09PWE+Pj4wfWZ1bmN0aW9uIHRvTnVtYmVyKGEpe3JldHVybithfWZ1bmN0aW9uIGlzT2JqZWN0KGEpe3JldHVybiBhPT09T2JqZWN0KGEpfWZ1bmN0aW9uIGFyZVNhbWVWYWx1ZShhLGIpe3JldHVybiBhPT09Yj8wIT09YXx8MS9hPT09MS9iOm51bWJlcklzTmFOKGEpJiZudW1iZXJJc05hTihiKT8hMDphIT09YSYmYiE9PWJ9ZnVuY3Rpb24gaXNQYXRoVmFsaWQoYSl7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBhPyExOihhPWEudHJpbSgpLCIiPT1hPyEwOiIuIj09YVswXT8hMTpwYXRoUmVnRXhwLnRlc3QoYSkpfWZ1bmN0aW9uIFBhdGgoYSxiKXtpZihiIT09Y29uc3RydWN0b3JJc1ByaXZhdGUpdGhyb3cgRXJyb3IoIlVzZSBQYXRoLmdldCB0byByZXRyaWV2ZSBwYXRoIG9iamVjdHMiKTtyZXR1cm4iIj09YS50cmltKCk/dGhpczppc0luZGV4KGEpPyh0aGlzLnB1c2goYSksdGhpcyk6KGEuc3BsaXQoL1xzKlwuXHMqLykuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhfSkuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLnB1c2goYSl9LHRoaXMpLHZvaWQoaGFzRXZhbCYmdGhpcy5sZW5ndGgmJih0aGlzLmdldFZhbHVlRnJvbT10aGlzLmNvbXBpbGVkR2V0VmFsdWVGcm9tRm4oKSkpKX1mdW5jdGlvbiBnZXRQYXRoKGEpe2lmKGEgaW5zdGFuY2VvZiBQYXRoKXJldHVybiBhO251bGw9PWEmJihhPSIiKSwic3RyaW5nIiE9dHlwZW9mIGEmJihhPVN0cmluZyhhKSk7dmFyIGI9cGF0aENhY2hlW2FdO2lmKGIpcmV0dXJuIGI7aWYoIWlzUGF0aFZhbGlkKGEpKXJldHVybiBpbnZhbGlkUGF0aDt2YXIgYj1uZXcgUGF0aChhLGNvbnN0cnVjdG9ySXNQcml2YXRlKTtyZXR1cm4gcGF0aENhY2hlW2FdPWIsYn1mdW5jdGlvbiBkaXJ0eUNoZWNrKGEpe2Zvcih2YXIgYj0wO01BWF9ESVJUWV9DSEVDS19DWUNMRVM+YiYmYS5jaGVja18oKTspYisrO3JldHVybiBnbG9iYWwudGVzdGluZ0V4cG9zZUN5Y2xlQ291bnQmJihnbG9iYWwuZGlydHlDaGVja0N5Y2xlQ291bnQ9YiksYj4wfWZ1bmN0aW9uIG9iamVjdElzRW1wdHkoYSl7Zm9yKHZhciBiIGluIGEpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gZGlmZklzRW1wdHkoYSl7cmV0dXJuIG9iamVjdElzRW1wdHkoYS5hZGRlZCkmJm9iamVjdElzRW1wdHkoYS5yZW1vdmVkKSYmb2JqZWN0SXNFbXB0eShhLmNoYW5nZWQpfWZ1bmN0aW9uIGRpZmZPYmplY3RGcm9tT2xkT2JqZWN0KGEsYil7dmFyIGM9e30sZD17fSxlPXt9O2Zvcih2YXIgZiBpbiBiKXt2YXIgZz1hW2ZdOyh2b2lkIDA9PT1nfHxnIT09YltmXSkmJihmIGluIGE/ZyE9PWJbZl0mJihlW2ZdPWcpOmRbZl09dm9pZCAwKX1mb3IodmFyIGYgaW4gYSlmIGluIGJ8fChjW2ZdPWFbZl0pO3JldHVybiBBcnJheS5pc0FycmF5KGEpJiZhLmxlbmd0aCE9PWIubGVuZ3RoJiYoZS5sZW5ndGg9YS5sZW5ndGgpLHthZGRlZDpjLHJlbW92ZWQ6ZCxjaGFuZ2VkOmV9fWZ1bmN0aW9uIHJ1bkVPTVRhc2tzKCl7aWYoIWVvbVRhc2tzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGE9MDthPGVvbVRhc2tzLmxlbmd0aDthKyspZW9tVGFza3NbYV0oKTtyZXR1cm4gZW9tVGFza3MubGVuZ3RoPTAsITB9ZnVuY3Rpb24gbmV3T2JzZXJ2ZWRPYmplY3QoKXtmdW5jdGlvbiBhKGEpe2ImJmIuc3RhdGVfPT09T1BFTkVEJiYhZCYmYi5jaGVja18oYSl9dmFyIGIsYyxkPSExLGU9ITA7cmV0dXJue29wZW46ZnVuY3Rpb24oYyl7aWYoYil0aHJvdyBFcnJvcigiT2JzZXJ2ZWRPYmplY3QgaW4gdXNlIik7ZXx8T2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzKGEpLGI9YyxlPSExfSxvYnNlcnZlOmZ1bmN0aW9uKGIsZCl7Yz1iLGQ/QXJyYXkub2JzZXJ2ZShjLGEpOk9iamVjdC5vYnNlcnZlKGMsYSl9LGRlbGl2ZXI6ZnVuY3Rpb24oYil7ZD1iLE9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyhhKSxkPSExfSxjbG9zZTpmdW5jdGlvbigpe2I9dm9pZCAwLE9iamVjdC51bm9ic2VydmUoYyxhKSxvYnNlcnZlZE9iamVjdENhY2hlLnB1c2godGhpcyl9fX1mdW5jdGlvbiBnZXRPYnNlcnZlZE9iamVjdChhLGIsYyl7dmFyIGQ9b2JzZXJ2ZWRPYmplY3RDYWNoZS5wb3AoKXx8bmV3T2JzZXJ2ZWRPYmplY3QoKTtyZXR1cm4gZC5vcGVuKGEpLGQub2JzZXJ2ZShiLGMpLGR9ZnVuY3Rpb24gbmV3T2JzZXJ2ZWRTZXQoKXtmdW5jdGlvbiBhKGIsZil7YiYmKGI9PT1kJiYoZVtmXT0hMCksaC5pbmRleE9mKGIpPDAmJihoLnB1c2goYiksT2JqZWN0Lm9ic2VydmUoYixjKSksYShPYmplY3QuZ2V0UHJvdG90eXBlT2YoYiksZikpfWZ1bmN0aW9uIGIoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPWFbYl07aWYoYy5vYmplY3QhPT1kfHxlW2MubmFtZV18fCJzZXRQcm90b3R5cGUiPT09Yy50eXBlKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGMoYyl7aWYoIWIoYykpe2Zvcih2YXIgZCxlPTA7ZTxnLmxlbmd0aDtlKyspZD1nW2VdLGQuc3RhdGVfPT1PUEVORUQmJmQuaXRlcmF0ZU9iamVjdHNfKGEpO2Zvcih2YXIgZT0wO2U8Zy5sZW5ndGg7ZSsrKWQ9Z1tlXSxkLnN0YXRlXz09T1BFTkVEJiZkLmNoZWNrXygpfX12YXIgZCxlLGY9MCxnPVtdLGg9W10saT17b2JqZWN0OnZvaWQgMCxvYmplY3RzOmgsb3BlbjpmdW5jdGlvbihiLGMpe2R8fChkPWMsZT17fSksZy5wdXNoKGIpLGYrKyxiLml0ZXJhdGVPYmplY3RzXyhhKX0sY2xvc2U6ZnVuY3Rpb24oKXtpZihmLS0sIShmPjApKXtmb3IodmFyIGE9MDthPGgubGVuZ3RoO2ErKylPYmplY3QudW5vYnNlcnZlKGhbYV0sYyksT2JzZXJ2ZXIudW5vYnNlcnZlZENvdW50Kys7Zy5sZW5ndGg9MCxoLmxlbmd0aD0wLGQ9dm9pZCAwLGU9dm9pZCAwLG9ic2VydmVkU2V0Q2FjaGUucHVzaCh0aGlzKX19fTtyZXR1cm4gaX1mdW5jdGlvbiBnZXRPYnNlcnZlZFNldChhLGIpe3JldHVybiBsYXN0T2JzZXJ2ZWRTZXQmJmxhc3RPYnNlcnZlZFNldC5vYmplY3Q9PT1ifHwobGFzdE9ic2VydmVkU2V0PW9ic2VydmVkU2V0Q2FjaGUucG9wKCl8fG5ld09ic2VydmVkU2V0KCksbGFzdE9ic2VydmVkU2V0Lm9iamVjdD1iKSxsYXN0T2JzZXJ2ZWRTZXQub3BlbihhLGIpLGxhc3RPYnNlcnZlZFNldH1mdW5jdGlvbiBPYnNlcnZlcigpe3RoaXMuc3RhdGVfPVVOT1BFTkVELHRoaXMuY2FsbGJhY2tfPXZvaWQgMCx0aGlzLnRhcmdldF89dm9pZCAwLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5pZF89bmV4dE9ic2VydmVySWQrK31mdW5jdGlvbiBhZGRUb0FsbChhKXtPYnNlcnZlci5fYWxsT2JzZXJ2ZXJzQ291bnQrKyxjb2xsZWN0T2JzZXJ2ZXJzJiZhbGxPYnNlcnZlcnMucHVzaChhKX1mdW5jdGlvbiByZW1vdmVGcm9tQWxsKCl7T2JzZXJ2ZXIuX2FsbE9ic2VydmVyc0NvdW50LS19ZnVuY3Rpb24gT2JqZWN0T2JzZXJ2ZXIoYSl7T2JzZXJ2ZXIuY2FsbCh0aGlzKSx0aGlzLnZhbHVlXz1hLHRoaXMub2xkT2JqZWN0Xz12b2lkIDB9ZnVuY3Rpb24gQXJyYXlPYnNlcnZlcihhKXtpZighQXJyYXkuaXNBcnJheShhKSl0aHJvdyBFcnJvcigiUHJvdmlkZWQgb2JqZWN0IGlzIG5vdCBhbiBBcnJheSIpO09iamVjdE9ic2VydmVyLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBQYXRoT2JzZXJ2ZXIoYSxiKXtPYnNlcnZlci5jYWxsKHRoaXMpLHRoaXMub2JqZWN0Xz1hLHRoaXMucGF0aF89Z2V0UGF0aChiKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDB9ZnVuY3Rpb24gQ29tcG91bmRPYnNlcnZlcihhKXtPYnNlcnZlci5jYWxsKHRoaXMpLHRoaXMucmVwb3J0Q2hhbmdlc09uT3Blbl89YSx0aGlzLnZhbHVlXz1bXSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDAsdGhpcy5vYnNlcnZlZF89W119ZnVuY3Rpb24gaWRlbnRGbihhKXtyZXR1cm4gYX1mdW5jdGlvbiBPYnNlcnZlclRyYW5zZm9ybShhLGIsYyxkKXt0aGlzLmNhbGxiYWNrXz12b2lkIDAsdGhpcy50YXJnZXRfPXZvaWQgMCx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5vYnNlcnZhYmxlXz1hLHRoaXMuZ2V0VmFsdWVGbl89Ynx8aWRlbnRGbix0aGlzLnNldFZhbHVlRm5fPWN8fGlkZW50Rm4sdGhpcy5kb250UGFzc1Rocm91Z2hTZXRfPWR9ZnVuY3Rpb24gbm90aWZ5KGEsYixjLGQpe2lmKCFhcmVTYW1lVmFsdWUoYyxkKSYmKCJmdW5jdGlvbiI9PXR5cGVvZiBhLnByb3BlcnR5Q2hhbmdlZF8mJmEucHJvcGVydHlDaGFuZ2VkXyhiLGMsZCksaGFzT2JzZXJ2ZSkpe3ZhciBlPWEubm90aWZpZXJfO2V8fChlPWEubm90aWZpZXJfPU9iamVjdC5nZXROb3RpZmllcihhKSksdXBkYXRlUmVjb3JkLm9iamVjdD1hLHVwZGF0ZVJlY29yZC5uYW1lPWIsdXBkYXRlUmVjb3JkLm9sZFZhbHVlPWQsZS5ub3RpZnkodXBkYXRlUmVjb3JkKX19ZnVuY3Rpb24gZGlmZk9iamVjdEZyb21DaGFuZ2VSZWNvcmRzKGEsYixjKXtmb3IodmFyIGQ9e30sZT17fSxmPTA7ZjxiLmxlbmd0aDtmKyspe3ZhciBnPWJbZl07ZXhwZWN0ZWRSZWNvcmRUeXBlc1tnLnR5cGVdPyhnLm5hbWUgaW4gY3x8KGNbZy5uYW1lXT1nLm9sZFZhbHVlKSwidXBkYXRlIiE9Zy50eXBlJiYoImFkZCIhPWcudHlwZT9nLm5hbWUgaW4gZD8oZGVsZXRlIGRbZy5uYW1lXSxkZWxldGUgY1tnLm5hbWVdKTplW2cubmFtZV09ITA6Zy5uYW1lIGluIGU/ZGVsZXRlIGVbZy5uYW1lXTpkW2cubmFtZV09ITApKTooY29uc29sZS5lcnJvcigiVW5rbm93biBjaGFuZ2VSZWNvcmQgdHlwZTogIitnLnR5cGUpLGNvbnNvbGUuZXJyb3IoZykpfWZvcih2YXIgaCBpbiBkKWRbaF09YVtoXTtmb3IodmFyIGggaW4gZSllW2hdPXZvaWQgMDt2YXIgaT17fTtmb3IodmFyIGggaW4gYylpZighKGggaW4gZHx8aCBpbiBlKSl7dmFyIGo9YVtoXTtjW2hdIT09aiYmKGlbaF09ail9cmV0dXJue2FkZGVkOmQscmVtb3ZlZDplLGNoYW5nZWQ6aX19ZnVuY3Rpb24gbmV3U3BsaWNlKGEsYixjKXtyZXR1cm57aW5kZXg6YSxyZW1vdmVkOmIsYWRkZWRDb3VudDpjfX1mdW5jdGlvbiBBcnJheVNwbGljZSgpe31mdW5jdGlvbiBjYWxjU3BsaWNlcyhhLGIsYyxkLGUsZil7cmV0dXJuIGFycmF5U3BsaWNlLmNhbGNTcGxpY2VzKGEsYixjLGQsZSxmKX1mdW5jdGlvbiBpbnRlcnNlY3QoYSxiLGMsZCl7cmV0dXJuIGM+Ynx8YT5kPy0xOmI9PWN8fGQ9PWE/MDpjPmE/ZD5iP2ItYzpkLWM6Yj5kP2QtYTpiLWF9ZnVuY3Rpb24gbWVyZ2VTcGxpY2UoYSxiLGMsZCl7Zm9yKHZhciBlPW5ld1NwbGljZShiLGMsZCksZj0hMSxnPTAsaD0wO2g8YS5sZW5ndGg7aCsrKXt2YXIgaT1hW2hdO2lmKGkuaW5kZXgrPWcsIWYpe3ZhciBqPWludGVyc2VjdChlLmluZGV4LGUuaW5kZXgrZS5yZW1vdmVkLmxlbmd0aCxpLmluZGV4LGkuaW5kZXgraS5hZGRlZENvdW50KTtpZihqPj0wKXthLnNwbGljZShoLDEpLGgtLSxnLT1pLmFkZGVkQ291bnQtaS5yZW1vdmVkLmxlbmd0aCxlLmFkZGVkQ291bnQrPWkuYWRkZWRDb3VudC1qO3ZhciBrPWUucmVtb3ZlZC5sZW5ndGgraS5yZW1vdmVkLmxlbmd0aC1qO2lmKGUuYWRkZWRDb3VudHx8ayl7dmFyIGM9aS5yZW1vdmVkO2lmKGUuaW5kZXg8aS5pbmRleCl7dmFyIGw9ZS5yZW1vdmVkLnNsaWNlKDAsaS5pbmRleC1lLmluZGV4KTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShsLGMpLGM9bH1pZihlLmluZGV4K2UucmVtb3ZlZC5sZW5ndGg+aS5pbmRleCtpLmFkZGVkQ291bnQpe3ZhciBtPWUucmVtb3ZlZC5zbGljZShpLmluZGV4K2kuYWRkZWRDb3VudC1lLmluZGV4KTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShjLG0pfWUucmVtb3ZlZD1jLGkuaW5kZXg8ZS5pbmRleCYmKGUuaW5kZXg9aS5pbmRleCl9ZWxzZSBmPSEwfWVsc2UgaWYoZS5pbmRleDxpLmluZGV4KXtmPSEwLGEuc3BsaWNlKGgsMCxlKSxoKys7dmFyIG49ZS5hZGRlZENvdW50LWUucmVtb3ZlZC5sZW5ndGg7aS5pbmRleCs9bixnKz1ufX19Znx8YS5wdXNoKGUpfWZ1bmN0aW9uIGNyZWF0ZUluaXRpYWxTcGxpY2VzKGEsYil7Zm9yKHZhciBjPVtdLGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXTtzd2l0Y2goZS50eXBlKXtjYXNlInNwbGljZSI6bWVyZ2VTcGxpY2UoYyxlLmluZGV4LGUucmVtb3ZlZC5zbGljZSgpLGUuYWRkZWRDb3VudCk7YnJlYWs7Y2FzZSJhZGQiOmNhc2UidXBkYXRlIjpjYXNlImRlbGV0ZSI6aWYoIWlzSW5kZXgoZS5uYW1lKSljb250aW51ZTt2YXIgZj10b051bWJlcihlLm5hbWUpO2lmKDA+Ziljb250aW51ZTttZXJnZVNwbGljZShjLGYsW2Uub2xkVmFsdWVdLDEpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcigiVW5leHBlY3RlZCByZWNvcmQgdHlwZTogIitKU09OLnN0cmluZ2lmeShlKSl9fXJldHVybiBjfWZ1bmN0aW9uIHByb2plY3RBcnJheVNwbGljZXMoYSxiKXt2YXIgYz1bXTtyZXR1cm4gY3JlYXRlSW5pdGlhbFNwbGljZXMoYSxiKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3JldHVybiAxPT1iLmFkZGVkQ291bnQmJjE9PWIucmVtb3ZlZC5sZW5ndGg/dm9pZChiLnJlbW92ZWRbMF0hPT1hW2IuaW5kZXhdJiZjLnB1c2goYikpOnZvaWQoYz1jLmNvbmNhdChjYWxjU3BsaWNlcyhhLGIuaW5kZXgsYi5pbmRleCtiLmFkZGVkQ291bnQsYi5yZW1vdmVkLDAsYi5yZW1vdmVkLmxlbmd0aCkpKX0pLGN9dmFyIGhhc09ic2VydmU9ZGV0ZWN0T2JqZWN0T2JzZXJ2ZSgpLGhhc0V2YWw9ZGV0ZWN0RXZhbCgpLG51bWJlcklzTmFOPWdsb2JhbC5OdW1iZXIuaXNOYU58fGZ1bmN0aW9uKGEpe3JldHVybiJudW1iZXIiPT10eXBlb2YgYSYmZ2xvYmFsLmlzTmFOKGEpfSxjcmVhdGVPYmplY3Q9Il9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKGEpe3JldHVybiBhfTpmdW5jdGlvbihhKXt2YXIgYj1hLl9fcHJvdG9fXztpZighYilyZXR1cm4gYTt2YXIgYz1PYmplY3QuY3JlYXRlKGIpO3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLGIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGIpKX0pLGN9LGlkZW50U3RhcnQ9IlskX2EtekEtWl0iLGlkZW50UGFydD0iWyRfYS16QS1aMC05XSIsaWRlbnQ9aWRlbnRTdGFydCsiKyIraWRlbnRQYXJ0KyIqIixlbGVtZW50SW5kZXg9Iig/OlswLTldfFsxLTldK1swLTldKykiLGlkZW50T3JFbGVtZW50SW5kZXg9Iig/OiIraWRlbnQrInwiK2VsZW1lbnRJbmRleCsiKSIscGF0aD0iKD86IitpZGVudE9yRWxlbWVudEluZGV4KyIpKD86XFxzKlxcLlxccyoiK2lkZW50T3JFbGVtZW50SW5kZXgrIikqIixwYXRoUmVnRXhwPW5ldyBSZWdFeHAoIl4iK3BhdGgrIiQiKSxjb25zdHJ1Y3RvcklzUHJpdmF0ZT17fSxwYXRoQ2FjaGU9e307UGF0aC5nZXQ9Z2V0UGF0aCxQYXRoLnByb3RvdHlwZT1jcmVhdGVPYmplY3Qoe19fcHJvdG9fXzpbXSx2YWxpZDohMCx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmpvaW4oIi4iKX0sZ2V0VmFsdWVGcm9tOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8dGhpcy5sZW5ndGg7YisrKXtpZihudWxsPT1hKXJldHVybjthPWFbdGhpc1tiXV19cmV0dXJuIGF9LGl0ZXJhdGVPYmplY3RzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yzx0aGlzLmxlbmd0aDtjKyspe2lmKGMmJihhPWFbdGhpc1tjLTFdXSksIWlzT2JqZWN0KGEpKXJldHVybjtiKGEsdGhpc1swXSl9fSxjb21waWxlZEdldFZhbHVlRnJvbUZuOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGlzSW5kZXgoYSk/J1siJythKyciXSc6Ii4iK2F9KSxiPSIiLGM9Im9iaiI7Yis9ImlmIChvYmogIT0gbnVsbCI7Zm9yKHZhciBkPTA7ZDx0aGlzLmxlbmd0aC0xO2QrKyl7e3RoaXNbZF19Yys9YVtkXSxiKz0iICYmXG4gICAgICIrYysiICE9IG51bGwifXJldHVybiBiKz0iKVxuIixjKz1hW2RdLGIrPSIgIHJldHVybiAiK2MrIjtcbmVsc2VcbiAgcmV0dXJuIHVuZGVmaW5lZDsiLG5ldyBGdW5jdGlvbigib2JqIixiKX0sc2V0VmFsdWVGcm9tOmZ1bmN0aW9uKGEsYil7aWYoIXRoaXMubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYz0wO2M8dGhpcy5sZW5ndGgtMTtjKyspe2lmKCFpc09iamVjdChhKSlyZXR1cm4hMTthPWFbdGhpc1tjXV19cmV0dXJuIGlzT2JqZWN0KGEpPyhhW3RoaXNbY11dPWIsITApOiExfX0pO3ZhciBpbnZhbGlkUGF0aD1uZXcgUGF0aCgiIixjb25zdHJ1Y3RvcklzUHJpdmF0ZSk7aW52YWxpZFBhdGgudmFsaWQ9ITEsaW52YWxpZFBhdGguZ2V0VmFsdWVGcm9tPWludmFsaWRQYXRoLnNldFZhbHVlRnJvbT1mdW5jdGlvbigpe307dmFyIE1BWF9ESVJUWV9DSEVDS19DWUNMRVM9MWUzLGVvbVRhc2tzPVtdLHJ1bkVPTT1oYXNPYnNlcnZlP2Z1bmN0aW9uKCl7dmFyIGE9e3BpbmdQb25nOiEwfSxiPSExO3JldHVybiBPYmplY3Qub2JzZXJ2ZShhLGZ1bmN0aW9uKCl7cnVuRU9NVGFza3MoKSxiPSExfSksZnVuY3Rpb24oYyl7ZW9tVGFza3MucHVzaChjKSxifHwoYj0hMCxhLnBpbmdQb25nPSFhLnBpbmdQb25nKX19KCk6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSl7ZW9tVGFza3MucHVzaChhKX19KCksb2JzZXJ2ZWRPYmplY3RDYWNoZT1bXSxvYnNlcnZlZFNldENhY2hlPVtdLGxhc3RPYnNlcnZlZFNldCxVTk9QRU5FRD0wLE9QRU5FRD0xLENMT1NFRD0yLFJFU0VUVElORz0zLG5leHRPYnNlcnZlcklkPTE7T2JzZXJ2ZXIucHJvdG90eXBlPXtvcGVuOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5zdGF0ZV8hPVVOT1BFTkVEKXRocm93IEVycm9yKCJPYnNlcnZlciBoYXMgYWxyZWFkeSBiZWVuIG9wZW5lZC4iKTtyZXR1cm4gYWRkVG9BbGwodGhpcyksdGhpcy5jYWxsYmFja189YSx0aGlzLnRhcmdldF89Yix0aGlzLmNvbm5lY3RfKCksdGhpcy5zdGF0ZV89T1BFTkVELHRoaXMudmFsdWVffSxjbG9zZTpmdW5jdGlvbigpe3RoaXMuc3RhdGVfPT1PUEVORUQmJihyZW1vdmVGcm9tQWxsKHRoaXMpLHRoaXMuZGlzY29ubmVjdF8oKSx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy5zdGF0ZV89Q0xPU0VEKX0sZGVsaXZlcjpmdW5jdGlvbigpe3RoaXMuc3RhdGVfPT1PUEVORUQmJmRpcnR5Q2hlY2sodGhpcyl9LHJlcG9ydF86ZnVuY3Rpb24oYSl7dHJ5e3RoaXMuY2FsbGJhY2tfLmFwcGx5KHRoaXMudGFyZ2V0XyxhKX1jYXRjaChiKXtPYnNlcnZlci5fZXJyb3JUaHJvd25EdXJpbmdDYWxsYmFjaz0hMCxjb25zb2xlLmVycm9yKCJFeGNlcHRpb24gY2F1Z2h0IGR1cmluZyBvYnNlcnZlciBjYWxsYmFjazogIisoYi5zdGFja3x8YikpfX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja18odm9pZCAwLCEwKSx0aGlzLnZhbHVlX319O3ZhciBjb2xsZWN0T2JzZXJ2ZXJzPSFoYXNPYnNlcnZlLGFsbE9ic2VydmVycztPYnNlcnZlci5fYWxsT2JzZXJ2ZXJzQ291bnQ9MCxjb2xsZWN0T2JzZXJ2ZXJzJiYoYWxsT2JzZXJ2ZXJzPVtdKTt2YXIgcnVubmluZ01pY3JvdGFza0NoZWNrcG9pbnQ9ITEsaGFzRGVidWdGb3JjZUZ1bGxEZWxpdmVyeT1oYXNPYnNlcnZlJiZmdW5jdGlvbigpe3RyeXtyZXR1cm4gZXZhbCgiJVJ1bk1pY3JvdGFza3MoKSIpLCEwfWNhdGNoKGV4KXtyZXR1cm4hMX19KCk7Z2xvYmFsLlBsYXRmb3JtPWdsb2JhbC5QbGF0Zm9ybXx8e30sZ2xvYmFsLlBsYXRmb3JtLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50PWZ1bmN0aW9uKCl7aWYoIXJ1bm5pbmdNaWNyb3Rhc2tDaGVja3BvaW50KXtpZihoYXNEZWJ1Z0ZvcmNlRnVsbERlbGl2ZXJ5KXJldHVybiB2b2lkIGV2YWwoIiVSdW5NaWNyb3Rhc2tzKCkiKTtpZihjb2xsZWN0T2JzZXJ2ZXJzKXtydW5uaW5nTWljcm90YXNrQ2hlY2twb2ludD0hMDt2YXIgY3ljbGVzPTAsYW55Q2hhbmdlZCx0b0NoZWNrO2Rve2N5Y2xlcysrLHRvQ2hlY2s9YWxsT2JzZXJ2ZXJzLGFsbE9ic2VydmVycz1bXSxhbnlDaGFuZ2VkPSExO2Zvcih2YXIgaT0wO2k8dG9DaGVjay5sZW5ndGg7aSsrKXt2YXIgb2JzZXJ2ZXI9dG9DaGVja1tpXTtvYnNlcnZlci5zdGF0ZV89PU9QRU5FRCYmKG9ic2VydmVyLmNoZWNrXygpJiYoYW55Q2hhbmdlZD0hMCksYWxsT2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpKX1ydW5FT01UYXNrcygpJiYoYW55Q2hhbmdlZD0hMCl9d2hpbGUoTUFYX0RJUlRZX0NIRUNLX0NZQ0xFUz5jeWNsZXMmJmFueUNoYW5nZWQpO2dsb2JhbC50ZXN0aW5nRXhwb3NlQ3ljbGVDb3VudCYmKGdsb2JhbC5kaXJ0eUNoZWNrQ3ljbGVDb3VudD1jeWNsZXMpLHJ1bm5pbmdNaWNyb3Rhc2tDaGVja3BvaW50PSExfX19LGNvbGxlY3RPYnNlcnZlcnMmJihnbG9iYWwuUGxhdGZvcm0uY2xlYXJPYnNlcnZlcnM9ZnVuY3Rpb24oKXthbGxPYnNlcnZlcnM9W119KSxPYmplY3RPYnNlcnZlci5wcm90b3R5cGU9Y3JlYXRlT2JqZWN0KHtfX3Byb3RvX186T2JzZXJ2ZXIucHJvdG90eXBlLGFycmF5T2JzZXJ2ZTohMSxjb25uZWN0XzpmdW5jdGlvbigpe2hhc09ic2VydmU/dGhpcy5kaXJlY3RPYnNlcnZlcl89Z2V0T2JzZXJ2ZWRPYmplY3QodGhpcyx0aGlzLnZhbHVlXyx0aGlzLmFycmF5T2JzZXJ2ZSk6dGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXyl9LGNvcHlPYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI9QXJyYXkuaXNBcnJheShhKT9bXTp7fTtmb3IodmFyIGMgaW4gYSliW2NdPWFbY107cmV0dXJuIEFycmF5LmlzQXJyYXkoYSkmJihiLmxlbmd0aD1hLmxlbmd0aCksYn0sY2hlY2tfOmZ1bmN0aW9uKGEpe3ZhciBiLGM7aWYoaGFzT2JzZXJ2ZSl7aWYoIWEpcmV0dXJuITE7Yz17fSxiPWRpZmZPYmplY3RGcm9tQ2hhbmdlUmVjb3Jkcyh0aGlzLnZhbHVlXyxhLGMpfWVsc2UgYz10aGlzLm9sZE9iamVjdF8sYj1kaWZmT2JqZWN0RnJvbU9sZE9iamVjdCh0aGlzLnZhbHVlXyx0aGlzLm9sZE9iamVjdF8pO3JldHVybiBkaWZmSXNFbXB0eShiKT8hMTooaGFzT2JzZXJ2ZXx8KHRoaXMub2xkT2JqZWN0Xz10aGlzLmNvcHlPYmplY3QodGhpcy52YWx1ZV8pKSx0aGlzLnJlcG9ydF8oW2IuYWRkZWR8fHt9LGIucmVtb3ZlZHx8e30sYi5jaGFuZ2VkfHx7fSxmdW5jdGlvbihhKXtyZXR1cm4gY1thXX1dKSwhMCl9LGRpc2Nvbm5lY3RfOmZ1bmN0aW9uKCl7aGFzT2JzZXJ2ZT8odGhpcy5kaXJlY3RPYnNlcnZlcl8uY2xvc2UoKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDApOnRoaXMub2xkT2JqZWN0Xz12b2lkIDB9LGRlbGl2ZXI6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlXz09T1BFTkVEJiYoaGFzT2JzZXJ2ZT90aGlzLmRpcmVjdE9ic2VydmVyXy5kZWxpdmVyKCExKTpkaXJ0eUNoZWNrKHRoaXMpKX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXJlY3RPYnNlcnZlcl8/dGhpcy5kaXJlY3RPYnNlcnZlcl8uZGVsaXZlcighMCk6dGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXyksdGhpcy52YWx1ZV99fSksQXJyYXlPYnNlcnZlci5wcm90b3R5cGU9Y3JlYXRlT2JqZWN0KHtfX3Byb3RvX186T2JqZWN0T2JzZXJ2ZXIucHJvdG90eXBlLGFycmF5T2JzZXJ2ZTohMCxjb3B5T2JqZWN0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnNsaWNlKCl9LGNoZWNrXzpmdW5jdGlvbihhKXt2YXIgYjtpZihoYXNPYnNlcnZlKXtpZighYSlyZXR1cm4hMTtiPXByb2plY3RBcnJheVNwbGljZXModGhpcy52YWx1ZV8sYSl9ZWxzZSBiPWNhbGNTcGxpY2VzKHRoaXMudmFsdWVfLDAsdGhpcy52YWx1ZV8ubGVuZ3RoLHRoaXMub2xkT2JqZWN0XywwLHRoaXMub2xkT2JqZWN0Xy5sZW5ndGgpO3JldHVybiBiJiZiLmxlbmd0aD8oaGFzT2JzZXJ2ZXx8KHRoaXMub2xkT2JqZWN0Xz10aGlzLmNvcHlPYmplY3QodGhpcy52YWx1ZV8pKSx0aGlzLnJlcG9ydF8oW2JdKSwhMCk6ITF9fSksQXJyYXlPYnNlcnZlci5hcHBseVNwbGljZXM9ZnVuY3Rpb24oYSxiLGMpe2MuZm9yRWFjaChmdW5jdGlvbihjKXtmb3IodmFyIGQ9W2MuaW5kZXgsYy5yZW1vdmVkLmxlbmd0aF0sZT1jLmluZGV4O2U8Yy5pbmRleCtjLmFkZGVkQ291bnQ7KWQucHVzaChiW2VdKSxlKys7QXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShhLGQpfSl9LFBhdGhPYnNlcnZlci5wcm90b3R5cGU9Y3JlYXRlT2JqZWN0KHtfX3Byb3RvX186T2JzZXJ2ZXIucHJvdG90eXBlLGNvbm5lY3RfOmZ1bmN0aW9uKCl7aGFzT2JzZXJ2ZSYmKHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPWdldE9ic2VydmVkU2V0KHRoaXMsdGhpcy5vYmplY3RfKSksdGhpcy5jaGVja18odm9pZCAwLCEwKX0sZGlzY29ubmVjdF86ZnVuY3Rpb24oKXt0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5kaXJlY3RPYnNlcnZlcl8mJih0aGlzLmRpcmVjdE9ic2VydmVyXy5jbG9zZSh0aGlzKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDApfSxpdGVyYXRlT2JqZWN0c186ZnVuY3Rpb24oYSl7dGhpcy5wYXRoXy5pdGVyYXRlT2JqZWN0cyh0aGlzLm9iamVjdF8sYSl9LGNoZWNrXzpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMudmFsdWVfO3JldHVybiB0aGlzLnZhbHVlXz10aGlzLnBhdGhfLmdldFZhbHVlRnJvbSh0aGlzLm9iamVjdF8pLGJ8fGFyZVNhbWVWYWx1ZSh0aGlzLnZhbHVlXyxjKT8hMToodGhpcy5yZXBvcnRfKFt0aGlzLnZhbHVlXyxjXSksITApfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXt0aGlzLnBhdGhfJiZ0aGlzLnBhdGhfLnNldFZhbHVlRnJvbSh0aGlzLm9iamVjdF8sYSl9fSk7dmFyIG9ic2VydmVyU2VudGluZWw9e307Q29tcG91bmRPYnNlcnZlci5wcm90b3R5cGU9Y3JlYXRlT2JqZWN0KHtfX3Byb3RvX186T2JzZXJ2ZXIucHJvdG90eXBlLGNvbm5lY3RfOmZ1bmN0aW9uKCl7aWYoaGFzT2JzZXJ2ZSl7Zm9yKHZhciBhLGI9ITEsYz0wO2M8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2MrPTIpaWYoYT10aGlzLm9ic2VydmVkX1tjXSxhIT09b2JzZXJ2ZXJTZW50aW5lbCl7Yj0hMDticmVha31iJiYodGhpcy5kaXJlY3RPYnNlcnZlcl89Z2V0T2JzZXJ2ZWRTZXQodGhpcyxhKSl9dGhpcy5jaGVja18odm9pZCAwLCF0aGlzLnJlcG9ydENoYW5nZXNPbk9wZW5fKX0sZGlzY29ubmVjdF86ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMub2JzZXJ2ZWRfLmxlbmd0aDthKz0yKXRoaXMub2JzZXJ2ZWRfW2FdPT09b2JzZXJ2ZXJTZW50aW5lbCYmdGhpcy5vYnNlcnZlZF9bYSsxXS5jbG9zZSgpO3RoaXMub2JzZXJ2ZWRfLmxlbmd0aD0wLHRoaXMudmFsdWVfLmxlbmd0aD0wLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfJiYodGhpcy5kaXJlY3RPYnNlcnZlcl8uY2xvc2UodGhpcyksdGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwKX0sYWRkUGF0aDpmdW5jdGlvbihhLGIpe2lmKHRoaXMuc3RhdGVfIT1VTk9QRU5FRCYmdGhpcy5zdGF0ZV8hPVJFU0VUVElORyl0aHJvdyBFcnJvcigiQ2Fubm90IGFkZCBwYXRocyBvbmNlIHN0YXJ0ZWQuIik7dmFyIGI9Z2V0UGF0aChiKTtpZih0aGlzLm9ic2VydmVkXy5wdXNoKGEsYiksdGhpcy5yZXBvcnRDaGFuZ2VzT25PcGVuXyl7dmFyIGM9dGhpcy5vYnNlcnZlZF8ubGVuZ3RoLzItMTt0aGlzLnZhbHVlX1tjXT1iLmdldFZhbHVlRnJvbShhKX19LGFkZE9ic2VydmVyOmZ1bmN0aW9uKGEpe2lmKHRoaXMuc3RhdGVfIT1VTk9QRU5FRCYmdGhpcy5zdGF0ZV8hPVJFU0VUVElORyl0aHJvdyBFcnJvcigiQ2Fubm90IGFkZCBvYnNlcnZlcnMgb25jZSBzdGFydGVkLiIpO2lmKHRoaXMub2JzZXJ2ZWRfLnB1c2gob2JzZXJ2ZXJTZW50aW5lbCxhKSx0aGlzLnJlcG9ydENoYW5nZXNPbk9wZW5fKXt2YXIgYj10aGlzLm9ic2VydmVkXy5sZW5ndGgvMi0xO3RoaXMudmFsdWVfW2JdPWEub3Blbih0aGlzLmRlbGl2ZXIsdGhpcyl9fSxzdGFydFJlc2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5zdGF0ZV8hPU9QRU5FRCl0aHJvdyBFcnJvcigiQ2FuIG9ubHkgcmVzZXQgd2hpbGUgb3BlbiIpO3RoaXMuc3RhdGVfPVJFU0VUVElORyx0aGlzLmRpc2Nvbm5lY3RfKCl9LGZpbmlzaFJlc2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5zdGF0ZV8hPVJFU0VUVElORyl0aHJvdyBFcnJvcigiQ2FuIG9ubHkgZmluaXNoUmVzZXQgYWZ0ZXIgc3RhcnRSZXNldCIpO3JldHVybiB0aGlzLnN0YXRlXz1PUEVORUQsdGhpcy5jb25uZWN0XygpLHRoaXMudmFsdWVffSxpdGVyYXRlT2JqZWN0c186ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9MDtjPHRoaXMub2JzZXJ2ZWRfLmxlbmd0aDtjKz0yKWI9dGhpcy5vYnNlcnZlZF9bY10sYiE9PW9ic2VydmVyU2VudGluZWwmJnRoaXMub2JzZXJ2ZWRfW2MrMV0uaXRlcmF0ZU9iamVjdHMoYixhKX0sY2hlY2tfOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9MDtkPHRoaXMub2JzZXJ2ZWRfLmxlbmd0aDtkKz0yKXt2YXIgZSxmPXRoaXMub2JzZXJ2ZWRfW2RdLGc9dGhpcy5vYnNlcnZlZF9bZCsxXTtpZihmPT09b2JzZXJ2ZXJTZW50aW5lbCl7dmFyIGg9ZztlPXRoaXMuc3RhdGVfPT09VU5PUEVORUQ/aC5vcGVuKHRoaXMuZGVsaXZlcix0aGlzKTpoLmRpc2NhcmRDaGFuZ2VzKCl9ZWxzZSBlPWcuZ2V0VmFsdWVGcm9tKGYpO2I/dGhpcy52YWx1ZV9bZC8yXT1lOmFyZVNhbWVWYWx1ZShlLHRoaXMudmFsdWVfW2QvMl0pfHwoYz1jfHxbXSxjW2QvMl09dGhpcy52YWx1ZV9bZC8yXSx0aGlzLnZhbHVlX1tkLzJdPWUpfXJldHVybiBjPyh0aGlzLnJlcG9ydF8oW3RoaXMudmFsdWVfLGMsdGhpcy5vYnNlcnZlZF9dKSwhMCk6ITF9fSksT2JzZXJ2ZXJUcmFuc2Zvcm0ucHJvdG90eXBlPXtvcGVuOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuY2FsbGJhY2tfPWEsdGhpcy50YXJnZXRfPWIsdGhpcy52YWx1ZV89dGhpcy5nZXRWYWx1ZUZuXyh0aGlzLm9ic2VydmFibGVfLm9wZW4odGhpcy5vYnNlcnZlZENhbGxiYWNrXyx0aGlzKSksdGhpcy52YWx1ZV99LG9ic2VydmVkQ2FsbGJhY2tfOmZ1bmN0aW9uKGEpe2lmKGE9dGhpcy5nZXRWYWx1ZUZuXyhhKSwhYXJlU2FtZVZhbHVlKGEsdGhpcy52YWx1ZV8pKXt2YXIgYj10aGlzLnZhbHVlXzt0aGlzLnZhbHVlXz1hLHRoaXMuY2FsbGJhY2tfLmNhbGwodGhpcy50YXJnZXRfLHRoaXMudmFsdWVfLGIpfX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZV89dGhpcy5nZXRWYWx1ZUZuXyh0aGlzLm9ic2VydmFibGVfLmRpc2NhcmRDaGFuZ2VzKCkpLHRoaXMudmFsdWVffSxkZWxpdmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2JzZXJ2YWJsZV8uZGVsaXZlcigpfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4gYT10aGlzLnNldFZhbHVlRm5fKGEpLCF0aGlzLmRvbnRQYXNzVGhyb3VnaFNldF8mJnRoaXMub2JzZXJ2YWJsZV8uc2V0VmFsdWU/dGhpcy5vYnNlcnZhYmxlXy5zZXRWYWx1ZShhKTp2b2lkIDB9LGNsb3NlOmZ1bmN0aW9uKCl7dGhpcy5vYnNlcnZhYmxlXyYmdGhpcy5vYnNlcnZhYmxlXy5jbG9zZSgpLHRoaXMuY2FsbGJhY2tfPXZvaWQgMCx0aGlzLnRhcmdldF89dm9pZCAwLHRoaXMub2JzZXJ2YWJsZV89dm9pZCAwLHRoaXMudmFsdWVfPXZvaWQgMCx0aGlzLmdldFZhbHVlRm5fPXZvaWQgMCx0aGlzLnNldFZhbHVlRm5fPXZvaWQgMH19O3ZhciBleHBlY3RlZFJlY29yZFR5cGVzPXthZGQ6ITAsdXBkYXRlOiEwLCJkZWxldGUiOiEwfSx1cGRhdGVSZWNvcmQ9e29iamVjdDp2b2lkIDAsdHlwZToidXBkYXRlIixuYW1lOnZvaWQgMCxvbGRWYWx1ZTp2b2lkIDB9O09ic2VydmVyLmNyZWF0ZUJpbmRhYmxlUHJvdG90eXBlQWNjZXNzb3I9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iKyJfIixkPWIrIk9ic2VydmFibGVfIjthW2NdPWFbYl0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpc1tkXTtyZXR1cm4gYSYmYS5kZWxpdmVyKCksdGhpc1tjXX0sc2V0OmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXNbZF07aWYoZSlyZXR1cm4gdm9pZCBlLnNldFZhbHVlKGEpO3ZhciBmPXRoaXNbY107cmV0dXJuIHRoaXNbY109YSxub3RpZnkodGhpcyxiLGEsZiksYX0sY29uZmlndXJhYmxlOiEwfSl9LE9ic2VydmVyLmJpbmRUb0luc3RhbmNlPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWIrIl8iLGY9YisiT2JzZXJ2YWJsZV8iO2FbZl09Yzt2YXIgZz1hW2VdLGg9Yy5vcGVuKGZ1bmN0aW9uKGMsZCl7YVtlXT1jLG5vdGlmeShhLGIsYyxkKX0pO2lmKGQmJiFhcmVTYW1lVmFsdWUoZyxoKSl7dmFyIGk9ZChnLGgpO2FyZVNhbWVWYWx1ZShoLGkpfHwoaD1pLGMuc2V0VmFsdWUmJmMuc2V0VmFsdWUoaCkpfXJldHVybiBhW2VdPWgsbm90aWZ5KGEsYixoLGcpLHtjbG9zZTpmdW5jdGlvbigpe2MuY2xvc2UoKSxhW2ZdPXZvaWQgMH19fTt2YXIgRURJVF9MRUFWRT0wLEVESVRfVVBEQVRFPTEsRURJVF9BREQ9MixFRElUX0RFTEVURT0zO0FycmF5U3BsaWNlLnByb3RvdHlwZT17Y2FsY0VkaXREaXN0YW5jZXM6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2Zvcih2YXIgZz1mLWUrMSxoPWMtYisxLGk9bmV3IEFycmF5KGcpLGo9MDtnPmo7aisrKWlbal09bmV3IEFycmF5KGgpLGlbal1bMF09ajtmb3IodmFyIGs9MDtoPms7aysrKWlbMF1ba109aztmb3IodmFyIGo9MTtnPmo7aisrKWZvcih2YXIgaz0xO2g+aztrKyspaWYodGhpcy5lcXVhbHMoYVtiK2stMV0sZFtlK2otMV0pKWlbal1ba109aVtqLTFdW2stMV07ZWxzZXt2YXIgbD1pW2otMV1ba10rMSxtPWlbal1bay0xXSsxO2lbal1ba109bT5sP2w6bX1yZXR1cm4gaX0sc3BsaWNlT3BlcmF0aW9uc0Zyb21FZGl0RGlzdGFuY2VzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmxlbmd0aC0xLGM9YVswXS5sZW5ndGgtMSxkPWFbYl1bY10sZT1bXTtiPjB8fGM+MDspaWYoMCE9YilpZigwIT1jKXt2YXIgZixnPWFbYi0xXVtjLTFdLGg9YVtiLTFdW2NdLGk9YVtiXVtjLTFdO2Y9aT5oP2c+aD9oOmc6Zz5pP2k6ZyxmPT1nPyhnPT1kP2UucHVzaChFRElUX0xFQVZFKTooZS5wdXNoKEVESVRfVVBEQVRFKSxkPWcpLGItLSxjLS0pOmY9PWg/KGUucHVzaChFRElUX0RFTEVURSksYi0tLGQ9aCk6KGUucHVzaChFRElUX0FERCksYy0tLGQ9aSl9ZWxzZSBlLnB1c2goRURJVF9ERUxFVEUpLGItLTtlbHNlIGUucHVzaChFRElUX0FERCksYy0tO3JldHVybiBlLnJldmVyc2UoKSxlfSxjYWxjU3BsaWNlczpmdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9MCxoPTAsaT1NYXRoLm1pbihjLWIsZi1lKTtpZigwPT1iJiYwPT1lJiYoZz10aGlzLnNoYXJlZFByZWZpeChhLGQsaSkpLGM9PWEubGVuZ3RoJiZmPT1kLmxlbmd0aCYmKGg9dGhpcy5zaGFyZWRTdWZmaXgoYSxkLGktZykpLGIrPWcsZSs9ZyxjLT1oLGYtPWgsYy1iPT0wJiZmLWU9PTApcmV0dXJuW107aWYoYj09Yyl7Zm9yKHZhciBqPW5ld1NwbGljZShiLFtdLDApO2Y+ZTspai5yZW1vdmVkLnB1c2goZFtlKytdKTtyZXR1cm5bal19aWYoZT09ZilyZXR1cm5bbmV3U3BsaWNlKGIsW10sYy1iKV07Zm9yKHZhciBrPXRoaXMuc3BsaWNlT3BlcmF0aW9uc0Zyb21FZGl0RGlzdGFuY2VzKHRoaXMuY2FsY0VkaXREaXN0YW5jZXMoYSxiLGMsZCxlLGYpKSxqPXZvaWQgMCxsPVtdLG09YixuPWUsbz0wO288ay5sZW5ndGg7bysrKXN3aXRjaChrW29dKXtjYXNlIEVESVRfTEVBVkU6aiYmKGwucHVzaChqKSxqPXZvaWQgMCksbSsrLG4rKzticmVhaztjYXNlIEVESVRfVVBEQVRFOmp8fChqPW5ld1NwbGljZShtLFtdLDApKSxqLmFkZGVkQ291bnQrKyxtKyssai5yZW1vdmVkLnB1c2goZFtuXSksbisrO2JyZWFrO2Nhc2UgRURJVF9BREQ6anx8KGo9bmV3U3BsaWNlKG0sW10sMCkpLGouYWRkZWRDb3VudCsrLG0rKzticmVhaztjYXNlIEVESVRfREVMRVRFOmp8fChqPW5ld1NwbGljZShtLFtdLDApKSxqLnJlbW92ZWQucHVzaChkW25dKSxuKyt9cmV0dXJuIGomJmwucHVzaChqKSxsfSxzaGFyZWRQcmVmaXg6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wO2M+ZDtkKyspaWYoIXRoaXMuZXF1YWxzKGFbZF0sYltkXSkpcmV0dXJuIGQ7cmV0dXJuIGN9LHNoYXJlZFN1ZmZpeDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWEubGVuZ3RoLGU9Yi5sZW5ndGgsZj0wO2M+ZiYmdGhpcy5lcXVhbHMoYVstLWRdLGJbLS1lXSk7KWYrKztyZXR1cm4gZn0sY2FsY3VsYXRlU3BsaWNlczpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmNhbGNTcGxpY2VzKGEsMCxhLmxlbmd0aCxiLDAsYi5sZW5ndGgpfSxlcXVhbHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWJ9fTt2YXIgYXJyYXlTcGxpY2U9bmV3IEFycmF5U3BsaWNlO2dsb2JhbC5PYnNlcnZlcj1PYnNlcnZlcixnbG9iYWwuT2JzZXJ2ZXIucnVuRU9NXz1ydW5FT00sZ2xvYmFsLk9ic2VydmVyLm9ic2VydmVyU2VudGluZWxfPW9ic2VydmVyU2VudGluZWwsZ2xvYmFsLk9ic2VydmVyLmhhc09iamVjdE9ic2VydmU9aGFzT2JzZXJ2ZSxnbG9iYWwuQXJyYXlPYnNlcnZlcj1BcnJheU9ic2VydmVyLGdsb2JhbC5BcnJheU9ic2VydmVyLmNhbGN1bGF0ZVNwbGljZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYXJyYXlTcGxpY2UuY2FsY3VsYXRlU3BsaWNlcyhhLGIpfSxnbG9iYWwuQXJyYXlTcGxpY2U9QXJyYXlTcGxpY2UsZ2xvYmFsLk9iamVjdE9ic2VydmVyPU9iamVjdE9ic2VydmVyLGdsb2JhbC5QYXRoT2JzZXJ2ZXI9UGF0aE9ic2VydmVyLGdsb2JhbC5Db21wb3VuZE9ic2VydmVyPUNvbXBvdW5kT2JzZXJ2ZXIsZ2xvYmFsLlBhdGg9UGF0aCxnbG9iYWwuT2JzZXJ2ZXJUcmFuc2Zvcm09T2JzZXJ2ZXJUcmFuc2Zvcm19KCJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsJiZnbG9iYWwmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGU/Z2xvYmFsOnRoaXN8fHdpbmRvdyksUGxhdGZvcm0uZmxhZ3Muc2hhZG93Pyh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGw9e30sZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIGNocm9tZSYmY2hyb21lLmFwcCYmY2hyb21lLmFwcC5ydW50aW1lKXJldHVybiExO3RyeXt2YXIgYT1uZXcgRnVuY3Rpb24oInJldHVybiB0cnVlOyIpO3JldHVybiBhKCl9Y2F0Y2goYil7cmV0dXJuITF9fWZ1bmN0aW9uIGMoYSl7aWYoIWEpdGhyb3cgbmV3IEVycm9yKCJBc3NlcnRpb24gZmFpbGVkIil9ZnVuY3Rpb24gZChhLGIpe2Zvcih2YXIgYz1MKGIpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXTtLKGEsZSxNKGIsZSkpfXJldHVybiBhfWZ1bmN0aW9uIGUoYSxiKXtmb3IodmFyIGM9TChiKSxkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF07c3dpdGNoKGUpe2Nhc2UiYXJndW1lbnRzIjpjYXNlImNhbGxlciI6Y2FzZSJsZW5ndGgiOmNhc2UibmFtZSI6Y2FzZSJwcm90b3R5cGUiOmNhc2UidG9TdHJpbmciOmNvbnRpbnVlfUsoYSxlLE0oYixlKSl9cmV0dXJuIGF9ZnVuY3Rpb24gZihhLGIpe2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKWlmKGJbY11pbiBhKXJldHVybiBiW2NdfWZ1bmN0aW9uIGcoYSxiLGMpe04udmFsdWU9YyxLKGEsYixOKX1mdW5jdGlvbiBoKGEpe3ZhciBiPWEuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoYSksYz1HLmdldChiKTtpZihjKXJldHVybiBjO3ZhciBkPWgoYiksZT12KGQpO3JldHVybiBzKGIsZSxhKSxlfWZ1bmN0aW9uIGkoYSxiKXtxKGEsYiwhMCl9ZnVuY3Rpb24gaihhLGIpe3EoYixhLCExKX1mdW5jdGlvbiBrKGEpe3JldHVybi9eb25bYS16XSskLy50ZXN0KGEpfWZ1bmN0aW9uIGwoYSl7cmV0dXJuL15cd1thLXpBLVpfMC05XSokLy50ZXN0KGEpfWZ1bmN0aW9uIG0oYSl7cmV0dXJuIEomJmwoYSk/bmV3IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcy5pbXBsLiIrYSk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsW2FdfX1mdW5jdGlvbiBuKGEpe3JldHVybiBKJiZsKGEpP25ldyBGdW5jdGlvbigidiIsInRoaXMuaW1wbC4iK2ErIiA9IHYiKTpmdW5jdGlvbihiKXt0aGlzLmltcGxbYV09Yn19ZnVuY3Rpb24gbyhhKXtyZXR1cm4gSiYmbChhKT9uZXcgRnVuY3Rpb24oInJldHVybiB0aGlzLmltcGwuIithKyIuYXBwbHkodGhpcy5pbXBsLCBhcmd1bWVudHMpIik6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsW2FdLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfX1mdW5jdGlvbiBwKGEsYil7dHJ5e3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsYil9Y2F0Y2goYyl7cmV0dXJuIFB9fWZ1bmN0aW9uIHEoYixjLGQpe2Zvcih2YXIgZT1MKGIpLGY9MDtmPGUubGVuZ3RoO2YrKyl7dmFyIGc9ZVtmXTtpZigicG9seW1lckJsYWNrTGlzdF8iIT09ZyYmIShnIGluIGN8fGIucG9seW1lckJsYWNrTGlzdF8mJmIucG9seW1lckJsYWNrTGlzdF9bZ10pKXtPJiZiLl9fbG9va3VwR2V0dGVyX18oZyk7dmFyIGgsaSxqPXAoYixnKTtpZihkJiYiZnVuY3Rpb24iPT10eXBlb2Ygai52YWx1ZSljW2ddPW8oZyk7ZWxzZXt2YXIgbD1rKGcpO2g9bD9hLmdldEV2ZW50SGFuZGxlckdldHRlcihnKTptKGcpLChqLndyaXRhYmxlfHxqLnNldCkmJihpPWw/YS5nZXRFdmVudEhhbmRsZXJTZXR0ZXIoZyk6bihnKSksSyhjLGcse2dldDpoLHNldDppLGNvbmZpZ3VyYWJsZTpqLmNvbmZpZ3VyYWJsZSxlbnVtZXJhYmxlOmouZW51bWVyYWJsZX0pfX19fWZ1bmN0aW9uIHIoYSxiLGMpe3ZhciBkPWEucHJvdG90eXBlO3MoZCxiLGMpLGUoYixhKX1mdW5jdGlvbiBzKGEsYixkKXt2YXIgZT1iLnByb3RvdHlwZTtjKHZvaWQgMD09PUcuZ2V0KGEpKSxHLnNldChhLGIpLEguc2V0KGUsYSksaShhLGUpLGQmJmooZSxkKSxnKGUsImNvbnN0cnVjdG9yIixiKSxiLnByb3RvdHlwZT1lfWZ1bmN0aW9uIHQoYSxiKXtyZXR1cm4gRy5nZXQoYi5wcm90b3R5cGUpPT09YX1mdW5jdGlvbiB1KGEpe3ZhciBiPU9iamVjdC5nZXRQcm90b3R5cGVPZihhKSxjPWgoYiksZD12KGMpO3JldHVybiBzKGIsZCxhKSxkfWZ1bmN0aW9uIHYoYSl7ZnVuY3Rpb24gYihiKXthLmNhbGwodGhpcyxiKX12YXIgYz1PYmplY3QuY3JlYXRlKGEucHJvdG90eXBlKTtyZXR1cm4gYy5jb25zdHJ1Y3Rvcj1iLGIucHJvdG90eXBlPWMsYn1mdW5jdGlvbiB3KGEpe3JldHVybiBhIGluc3RhbmNlb2YgSS5FdmVudFRhcmdldHx8YSBpbnN0YW5jZW9mIEkuRXZlbnR8fGEgaW5zdGFuY2VvZiBJLlJhbmdlfHxhIGluc3RhbmNlb2YgSS5ET01JbXBsZW1lbnRhdGlvbnx8YSBpbnN0YW5jZW9mIEkuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfHxJLldlYkdMUmVuZGVyaW5nQ29udGV4dCYmYSBpbnN0YW5jZW9mIEkuV2ViR0xSZW5kZXJpbmdDb250ZXh0fWZ1bmN0aW9uIHgoYSl7cmV0dXJuIFImJmEgaW5zdGFuY2VvZiBSfHxhIGluc3RhbmNlb2YgVHx8YSBpbnN0YW5jZW9mIFN8fGEgaW5zdGFuY2VvZiBVfHxhIGluc3RhbmNlb2YgVnx8YSBpbnN0YW5jZW9mIFF8fGEgaW5zdGFuY2VvZiBXfHxYJiZhIGluc3RhbmNlb2YgWHx8WSYmYSBpbnN0YW5jZW9mIFl9ZnVuY3Rpb24geShhKXtyZXR1cm4gbnVsbD09PWE/bnVsbDooYyh4KGEpKSxhLnBvbHltZXJXcmFwcGVyX3x8KGEucG9seW1lcldyYXBwZXJfPW5ldyhoKGEpKShhKSkpfWZ1bmN0aW9uIHooYSl7cmV0dXJuIG51bGw9PT1hP251bGw6KGModyhhKSksYS5pbXBsKX1mdW5jdGlvbiBBKGEpe3JldHVybiBhJiZ3KGEpP3ooYSk6YX1mdW5jdGlvbiBCKGEpe3JldHVybiBhJiYhdyhhKT95KGEpOmF9ZnVuY3Rpb24gQyhhLGIpe251bGwhPT1iJiYoYyh4KGEpKSxjKHZvaWQgMD09PWJ8fHcoYikpLGEucG9seW1lcldyYXBwZXJfPWIpfWZ1bmN0aW9uIEQoYSxiLGMpe1ouZ2V0PWMsSyhhLnByb3RvdHlwZSxiLFopfWZ1bmN0aW9uIEUoYSxiKXtEKGEsYixmdW5jdGlvbigpe3JldHVybiB5KHRoaXMuaW1wbFtiXSl9KX1mdW5jdGlvbiBGKGEsYil7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2IuZm9yRWFjaChmdW5jdGlvbihiKXthLnByb3RvdHlwZVtiXT1mdW5jdGlvbigpe3ZhciBhPUIodGhpcyk7cmV0dXJuIGFbYl0uYXBwbHkoYSxhcmd1bWVudHMpfX0pfSl9dmFyIEc9bmV3IFdlYWtNYXAsSD1uZXcgV2Vha01hcCxJPU9iamVjdC5jcmVhdGUobnVsbCksSj1iKCksSz1PYmplY3QuZGVmaW5lUHJvcGVydHksTD1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxNPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsTj17dmFsdWU6dm9pZCAwLGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwfTtMKHdpbmRvdyk7dmFyIE89L0ZpcmVmb3gvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksUD17Z2V0OmZ1bmN0aW9uKCl7fSxzZXQ6ZnVuY3Rpb24oKXt9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSxRPXdpbmRvdy5ET01JbXBsZW1lbnRhdGlvbixSPXdpbmRvdy5FdmVudFRhcmdldCxTPXdpbmRvdy5FdmVudCxUPXdpbmRvdy5Ob2RlLFU9d2luZG93LldpbmRvdyxWPXdpbmRvdy5SYW5nZSxXPXdpbmRvdy5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsWD13aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0LFk9d2luZG93LlNWR0VsZW1lbnRJbnN0YW5jZSxaPXtnZXQ6dm9pZCAwLGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfTthLmFzc2VydD1jLGEuY29uc3RydWN0b3JUYWJsZT1HLGEuZGVmaW5lR2V0dGVyPUQsYS5kZWZpbmVXcmFwR2V0dGVyPUUsYS5mb3J3YXJkTWV0aG9kc1RvV3JhcHBlcj1GLGEuaXNXcmFwcGVyPXcsYS5pc1dyYXBwZXJGb3I9dCxhLm1peGluPWQsYS5uYXRpdmVQcm90b3R5cGVUYWJsZT1ILGEub25lT2Y9ZixhLnJlZ2lzdGVyT2JqZWN0PXUsYS5yZWdpc3RlcldyYXBwZXI9cixhLnJld3JhcD1DLGEudW53cmFwPXosYS51bndyYXBJZk5lZWRlZD1BLGEud3JhcD15LGEud3JhcElmTmVlZGVkPUIsYS53cmFwcGVycz1JfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKCl7Zz0hMTt2YXIgYT1mLnNsaWNlKDApO2Y9W107Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXSgpfWZ1bmN0aW9uIGMoYSl7Zi5wdXNoKGEpLGd8fChnPSEwLGQoYiwwKSl9dmFyIGQsZT13aW5kb3cuTXV0YXRpb25PYnNlcnZlcixmPVtdLGc9ITE7aWYoZSl7dmFyIGg9MSxpPW5ldyBlKGIpLGo9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoaCk7aS5vYnNlcnZlKGose2NoYXJhY3RlckRhdGE6ITB9KSxkPWZ1bmN0aW9uKCl7aD0oaCsxKSUyLGouZGF0YT1ofX1lbHNlIGQ9d2luZG93LnNldEltbWVkaWF0ZXx8d2luZG93LnNldFRpbWVvdXQ7YS5zZXRFbmRPZk1pY3JvdGFzaz1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKCl7cHx8KGsoYykscD0hMCl9ZnVuY3Rpb24gYygpe3A9ITE7ZG8gZm9yKHZhciBhPW8uc2xpY2UoKSxiPSExLGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXSxlPWQudGFrZVJlY29yZHMoKTtmKGQpLGUubGVuZ3RoJiYoZC5jYWxsYmFja18oZSxkKSxiPSEwKX13aGlsZShiKX1mdW5jdGlvbiBkKGEsYil7dGhpcy50eXBlPWEsdGhpcy50YXJnZXQ9Yix0aGlzLmFkZGVkTm9kZXM9bmV3IG0uTm9kZUxpc3QsdGhpcy5yZW1vdmVkTm9kZXM9bmV3IG0uTm9kZUxpc3QsdGhpcy5wcmV2aW91c1NpYmxpbmc9bnVsbCx0aGlzLm5leHRTaWJsaW5nPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lc3BhY2U9bnVsbCx0aGlzLm9sZFZhbHVlPW51bGx9ZnVuY3Rpb24gZShhLGIpe2Zvcig7YTthPWEucGFyZW50Tm9kZSl7dmFyIGM9bi5nZXQoYSk7aWYoYylmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXTtlLm9wdGlvbnMuc3VidHJlZSYmZS5hZGRUcmFuc2llbnRPYnNlcnZlcihiKX19fWZ1bmN0aW9uIGYoYSl7Zm9yKHZhciBiPTA7YjxhLm5vZGVzXy5sZW5ndGg7YisrKXt2YXIgYz1hLm5vZGVzX1tiXSxkPW4uZ2V0KGMpO2lmKCFkKXJldHVybjtmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXTtmLm9ic2VydmVyPT09YSYmZi5yZW1vdmVUcmFuc2llbnRPYnNlcnZlcnMoKX19fWZ1bmN0aW9uIGcoYSxjLGUpe2Zvcih2YXIgZj1PYmplY3QuY3JlYXRlKG51bGwpLGc9T2JqZWN0LmNyZWF0ZShudWxsKSxoPWE7aDtoPWgucGFyZW50Tm9kZSl7dmFyIGk9bi5nZXQoaCk7aWYoaSlmb3IodmFyIGo9MDtqPGkubGVuZ3RoO2orKyl7dmFyIGs9aVtqXSxsPWsub3B0aW9ucztpZigoaD09PWF8fGwuc3VidHJlZSkmJiEoImF0dHJpYnV0ZXMiPT09YyYmIWwuYXR0cmlidXRlc3x8ImF0dHJpYnV0ZXMiPT09YyYmbC5hdHRyaWJ1dGVGaWx0ZXImJihudWxsIT09ZS5uYW1lc3BhY2V8fC0xPT09bC5hdHRyaWJ1dGVGaWx0ZXIuaW5kZXhPZihlLm5hbWUpKXx8ImNoYXJhY3RlckRhdGEiPT09YyYmIWwuY2hhcmFjdGVyRGF0YXx8ImNoaWxkTGlzdCI9PT1jJiYhbC5jaGlsZExpc3QpKXt2YXIgbT1rLm9ic2VydmVyO2ZbbS51aWRfXT1tLCgiYXR0cmlidXRlcyI9PT1jJiZsLmF0dHJpYnV0ZU9sZFZhbHVlfHwiY2hhcmFjdGVyRGF0YSI9PT1jJiZsLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSkmJihnW20udWlkX109ZS5vbGRWYWx1ZSl9fX12YXIgbz0hMTtmb3IodmFyIHAgaW4gZil7dmFyIG09ZltwXSxxPW5ldyBkKGMsYSk7Im5hbWUiaW4gZSYmIm5hbWVzcGFjZSJpbiBlJiYocS5hdHRyaWJ1dGVOYW1lPWUubmFtZSxxLmF0dHJpYnV0ZU5hbWVzcGFjZT1lLm5hbWVzcGFjZSksZS5hZGRlZE5vZGVzJiYocS5hZGRlZE5vZGVzPWUuYWRkZWROb2RlcyksZS5yZW1vdmVkTm9kZXMmJihxLnJlbW92ZWROb2Rlcz1lLnJlbW92ZWROb2RlcyksZS5wcmV2aW91c1NpYmxpbmcmJihxLnByZXZpb3VzU2libGluZz1lLnByZXZpb3VzU2libGluZyksZS5uZXh0U2libGluZyYmKHEubmV4dFNpYmxpbmc9ZS5uZXh0U2libGluZyksdm9pZCAwIT09Z1twXSYmKHEub2xkVmFsdWU9Z1twXSksbS5yZWNvcmRzXy5wdXNoKHEpLG89ITB9byYmYigpfWZ1bmN0aW9uIGgoYSl7aWYodGhpcy5jaGlsZExpc3Q9ISFhLmNoaWxkTGlzdCx0aGlzLnN1YnRyZWU9ISFhLnN1YnRyZWUsdGhpcy5hdHRyaWJ1dGVzPSJhdHRyaWJ1dGVzImluIGF8fCEoImF0dHJpYnV0ZU9sZFZhbHVlImluIGF8fCJhdHRyaWJ1dGVGaWx0ZXIiaW4gYSk/ISFhLmF0dHJpYnV0ZXM6ITAsdGhpcy5jaGFyYWN0ZXJEYXRhPSJjaGFyYWN0ZXJEYXRhT2xkVmFsdWUiaW4gYSYmISgiY2hhcmFjdGVyRGF0YSJpbiBhKT8hMDohIWEuY2hhcmFjdGVyRGF0YSwhdGhpcy5hdHRyaWJ1dGVzJiYoYS5hdHRyaWJ1dGVPbGRWYWx1ZXx8ImF0dHJpYnV0ZUZpbHRlciJpbiBhKXx8IXRoaXMuY2hhcmFjdGVyRGF0YSYmYS5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUpdGhyb3cgbmV3IFR5cGVFcnJvcjtpZih0aGlzLmNoYXJhY3RlckRhdGE9ISFhLmNoYXJhY3RlckRhdGEsdGhpcy5hdHRyaWJ1dGVPbGRWYWx1ZT0hIWEuYXR0cmlidXRlT2xkVmFsdWUsdGhpcy5jaGFyYWN0ZXJEYXRhT2xkVmFsdWU9ISFhLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSwiYXR0cmlidXRlRmlsdGVyImluIGEpe2lmKG51bGw9PWEuYXR0cmlidXRlRmlsdGVyfHwib2JqZWN0IiE9dHlwZW9mIGEuYXR0cmlidXRlRmlsdGVyKXRocm93IG5ldyBUeXBlRXJyb3I7dGhpcy5hdHRyaWJ1dGVGaWx0ZXI9cS5jYWxsKGEuYXR0cmlidXRlRmlsdGVyKX1lbHNlIHRoaXMuYXR0cmlidXRlRmlsdGVyPW51bGx9ZnVuY3Rpb24gaShhKXt0aGlzLmNhbGxiYWNrXz1hLHRoaXMubm9kZXNfPVtdLHRoaXMucmVjb3Jkc189W10sdGhpcy51aWRfPSsrcixvLnB1c2godGhpcyl9ZnVuY3Rpb24gaihhLGIsYyl7dGhpcy5vYnNlcnZlcj1hLHRoaXMudGFyZ2V0PWIsdGhpcy5vcHRpb25zPWMsdGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdfXZhciBrPWEuc2V0RW5kT2ZNaWNyb3Rhc2ssbD1hLndyYXBJZk5lZWRlZCxtPWEud3JhcHBlcnMsbj1uZXcgV2Vha01hcCxvPVtdLHA9ITEscT1BcnJheS5wcm90b3R5cGUuc2xpY2Uscj0wO2kucHJvdG90eXBlPXtvYnNlcnZlOmZ1bmN0aW9uKGEsYil7YT1sKGEpO3ZhciBjLGQ9bmV3IGgoYiksZT1uLmdldChhKTtlfHxuLnNldChhLGU9W10pO2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKWVbZl0ub2JzZXJ2ZXI9PT10aGlzJiYoYz1lW2ZdLGMucmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzKCksYy5vcHRpb25zPWQpO2N8fChjPW5ldyBqKHRoaXMsYSxkKSxlLnB1c2goYyksdGhpcy5ub2Rlc18ucHVzaChhKSl9LGRpc2Nvbm5lY3Q6ZnVuY3Rpb24oKXt0aGlzLm5vZGVzXy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1uLmdldChhKSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY107aWYoZC5vYnNlcnZlcj09PXRoaXMpe2Iuc3BsaWNlKGMsMSk7YnJlYWt9fX0sdGhpcyksdGhpcy5yZWNvcmRzXz1bXX0sdGFrZVJlY29yZHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnJlY29yZHNfO3JldHVybiB0aGlzLnJlY29yZHNfPVtdLGF9fSxqLnByb3RvdHlwZT17YWRkVHJhbnNpZW50T2JzZXJ2ZXI6ZnVuY3Rpb24oYSl7aWYoYSE9PXRoaXMudGFyZ2V0KXt0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXMucHVzaChhKTt2YXIgYj1uLmdldChhKTtifHxuLnNldChhLGI9W10pLGIucHVzaCh0aGlzKX19LHJlbW92ZVRyYW5zaWVudE9ic2VydmVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlczt0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W107Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspZm9yKHZhciBjPWFbYl0sZD1uLmdldChjKSxlPTA7ZTxkLmxlbmd0aDtlKyspaWYoZFtlXT09PXRoaXMpe2Quc3BsaWNlKGUsMSk7YnJlYWt9fX0sYS5lbnF1ZXVlTXV0YXRpb249ZyxhLnJlZ2lzdGVyVHJhbnNpZW50T2JzZXJ2ZXJzPWUsYS53cmFwcGVycy5NdXRhdGlvbk9ic2VydmVyPWksYS53cmFwcGVycy5NdXRhdGlvblJlY29yZD1kfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEsYil7dGhpcy5yb290PWEsdGhpcy5wYXJlbnQ9Yn1mdW5jdGlvbiBjKGEsYil7aWYoYS50cmVlU2NvcGVfIT09Yil7YS50cmVlU2NvcGVfPWI7Zm9yKHZhciBkPWEuc2hhZG93Um9vdDtkO2Q9ZC5vbGRlclNoYWRvd1Jvb3QpZC50cmVlU2NvcGVfLnBhcmVudD1iO2Zvcih2YXIgZT1hLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpYyhlLGIpfX1mdW5jdGlvbiBkKGMpe2lmKGMgaW5zdGFuY2VvZiBhLndyYXBwZXJzLldpbmRvdyxjLnRyZWVTY29wZV8pcmV0dXJuIGMudHJlZVNjb3BlXzt2YXIgZSxmPWMucGFyZW50Tm9kZTtyZXR1cm4gZT1mP2QoZik6bmV3IGIoYyxudWxsKSxjLnRyZWVTY29wZV89ZX1iLnByb3RvdHlwZT17Z2V0IHJlbmRlcmVyKCl7cmV0dXJuIHRoaXMucm9vdCBpbnN0YW5jZW9mIGEud3JhcHBlcnMuU2hhZG93Um9vdD9hLmdldFJlbmRlcmVyRm9ySG9zdCh0aGlzLnJvb3QuaG9zdCk6bnVsbH0sY29udGFpbnM6ZnVuY3Rpb24oYSl7Zm9yKDthO2E9YS5wYXJlbnQpaWYoYT09PXRoaXMpcmV0dXJuITA7cmV0dXJuITF9fSxhLlRyZWVTY29wZT1iLGEuZ2V0VHJlZVNjb3BlPWQsYS5zZXRUcmVlU2NvcGU9Y30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIFEuU2hhZG93Um9vdH1mdW5jdGlvbiBjKGEpe3JldHVybiBMKGEpLnJvb3R9ZnVuY3Rpb24gZChhLGQpe3ZhciBoPVtdLGk9YTtmb3IoaC5wdXNoKGkpO2k7KXt2YXIgaj1nKGkpO2lmKGomJmoubGVuZ3RoPjApe2Zvcih2YXIgaz0wO2s8ai5sZW5ndGg7aysrKXt2YXIgbT1qW2tdO2lmKGYobSkpe3ZhciBuPWMobSksbz1uLm9sZGVyU2hhZG93Um9vdDtvJiZoLnB1c2gobyl9aC5wdXNoKG0pfWk9altqLmxlbmd0aC0xXX1lbHNlIGlmKGIoaSkpe2lmKGwoYSxpKSYmZShkKSlicmVhaztpPWkuaG9zdCxoLnB1c2goaSl9ZWxzZSBpPWkucGFyZW50Tm9kZSxpJiZoLnB1c2goaSl9cmV0dXJuIGh9ZnVuY3Rpb24gZShhKXtpZighYSlyZXR1cm4hMTtzd2l0Y2goYS50eXBlKXtjYXNlImFib3J0IjpjYXNlImVycm9yIjpjYXNlInNlbGVjdCI6Y2FzZSJjaGFuZ2UiOmNhc2UibG9hZCI6Y2FzZSJyZXNldCI6Y2FzZSJyZXNpemUiOmNhc2Uic2Nyb2xsIjpjYXNlInNlbGVjdHN0YXJ0IjpyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBmKGEpe3JldHVybiBhIGluc3RhbmNlb2YgSFRNTFNoYWRvd0VsZW1lbnR9ZnVuY3Rpb24gZyhiKXtyZXR1cm4gYS5nZXREZXN0aW5hdGlvbkluc2VydGlvblBvaW50cyhiKX1mdW5jdGlvbiBoKGEsYil7aWYoMD09PWEubGVuZ3RoKXJldHVybiBiO2IgaW5zdGFuY2VvZiBRLldpbmRvdyYmKGI9Yi5kb2N1bWVudCk7Zm9yKHZhciBjPUwoYiksZD1hWzBdLGU9TChkKSxmPWooYyxlKSxnPTA7ZzxhLmxlbmd0aDtnKyspe3ZhciBoPWFbZ107aWYoTChoKT09PWYpcmV0dXJuIGh9cmV0dXJuIGFbYS5sZW5ndGgtMV19ZnVuY3Rpb24gaShhKXtmb3IodmFyIGI9W107YTthPWEucGFyZW50KWIucHVzaChhKTtyZXR1cm4gYn1mdW5jdGlvbiBqKGEsYil7Zm9yKHZhciBjPWkoYSksZD1pKGIpLGU9bnVsbDtjLmxlbmd0aD4wJiZkLmxlbmd0aD4wOyl7dmFyIGY9Yy5wb3AoKSxnPWQucG9wKCk7aWYoZiE9PWcpYnJlYWs7ZT1mfXJldHVybiBlfWZ1bmN0aW9uIGsoYSxiLGMpe2IgaW5zdGFuY2VvZiBRLldpbmRvdyYmKGI9Yi5kb2N1bWVudCk7dmFyIGUsZj1MKGIpLGc9TChjKSxoPWQoYyxhKSxlPWooZixnKTtlfHwoZT1nLnJvb3QpO2Zvcih2YXIgaT1lO2k7aT1pLnBhcmVudClmb3IodmFyIGs9MDtrPGgubGVuZ3RoO2srKyl7dmFyIGw9aFtrXTtpZihMKGwpPT09aSlyZXR1cm4gbH1yZXR1cm4gbnVsbH1mdW5jdGlvbiBsKGEsYil7cmV0dXJuIEwoYSk9PT1MKGIpfWZ1bmN0aW9uIG0oYSl7aWYoIVMuZ2V0KGEpJiYoUy5zZXQoYSwhMCksbihQKGEpLFAoYS50YXJnZXQpKSxKKSl7dmFyIGI9Sjt0aHJvdyBKPW51bGwsYn19ZnVuY3Rpb24gbihiLGMpe2lmKFQuZ2V0KGIpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZFN0YXRlRXJyb3IiKTtULnNldChiLCEwKSxhLnJlbmRlckFsbFBlbmRpbmcoKTt2YXIgZSxmLGcsaD1iLnR5cGU7aWYoImxvYWQiPT09aCYmIWIuYnViYmxlcyl7dmFyIGk9YztpIGluc3RhbmNlb2YgUS5Eb2N1bWVudCYmKGc9aS5kZWZhdWx0VmlldykmJihmPWksZT1bXSl9aWYoIWUpaWYoYyBpbnN0YW5jZW9mIFEuV2luZG93KWc9YyxlPVtdO2Vsc2UgaWYoZT1kKGMsYiksImxvYWQiIT09Yi50eXBlKXt2YXIgaT1lW2UubGVuZ3RoLTFdO2kgaW5zdGFuY2VvZiBRLkRvY3VtZW50JiYoZz1pLmRlZmF1bHRWaWV3KX1yZXR1cm4gXy5zZXQoYixlKSxvKGIsZSxnLGYpJiZwKGIsZSxnLGYpJiZxKGIsZSxnLGYpLFguc2V0KGIsYWIpLFYuZGVsZXRlKGIsbnVsbCksVC5kZWxldGUoYiksYi5kZWZhdWx0UHJldmVudGVkfWZ1bmN0aW9uIG8oYSxiLGMsZCl7dmFyIGU9YmI7aWYoYyYmIXIoYyxhLGUsYixkKSlyZXR1cm4hMTtmb3IodmFyIGY9Yi5sZW5ndGgtMTtmPjA7Zi0tKWlmKCFyKGJbZl0sYSxlLGIsZCkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gcChhLGIsYyxkKXt2YXIgZT1jYixmPWJbMF18fGM7cmV0dXJuIHIoZixhLGUsYixkKX1mdW5jdGlvbiBxKGEsYixjLGQpe2Zvcih2YXIgZT1kYixmPTE7ZjxiLmxlbmd0aDtmKyspaWYoIXIoYltmXSxhLGUsYixkKSlyZXR1cm47YyYmYi5sZW5ndGg+MCYmcihjLGEsZSxiLGQpfWZ1bmN0aW9uIHIoYSxiLGMsZCxlKXt2YXIgZj1SLmdldChhKTtpZighZilyZXR1cm4hMDt2YXIgZz1lfHxoKGQsYSk7aWYoZz09PWEpe2lmKGM9PT1iYilyZXR1cm4hMDtjPT09ZGImJihjPWNiKX1lbHNlIGlmKGM9PT1kYiYmIWIuYnViYmxlcylyZXR1cm4hMDtpZigicmVsYXRlZFRhcmdldCJpbiBiKXt2YXIgaT1PKGIpLGo9aS5yZWxhdGVkVGFyZ2V0O2lmKGope2lmKGogaW5zdGFuY2VvZiBPYmplY3QmJmouYWRkRXZlbnRMaXN0ZW5lcil7dmFyIGw9UChqKSxtPWsoYixhLGwpO2lmKG09PT1nKXJldHVybiEwfWVsc2UgbT1udWxsO1cuc2V0KGIsbSl9fVguc2V0KGIsYyk7dmFyIG49Yi50eXBlLG89ITE7VS5zZXQoYixnKSxWLnNldChiLGEpO2Zvcih2YXIgcD0wO3A8Zi5sZW5ndGg7cCsrKXt2YXIgcT1mW3BdO2lmKHEucmVtb3ZlZClvPSEwO2Vsc2UgaWYoIShxLnR5cGUhPT1ufHwhcS5jYXB0dXJlJiZjPT09YmJ8fHEuY2FwdHVyZSYmYz09PWRiKSl0cnl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHEuaGFuZGxlcj9xLmhhbmRsZXIuY2FsbChhLGIpOnEuaGFuZGxlci5oYW5kbGVFdmVudChiKSxaLmdldChiKSlyZXR1cm4hMQp9Y2F0Y2gocil7Snx8KEo9cil9fWlmKG8pe3ZhciBzPWYuc2xpY2UoKTtmLmxlbmd0aD0wO2Zvcih2YXIgcD0wO3A8cy5sZW5ndGg7cCsrKXNbcF0ucmVtb3ZlZHx8Zi5wdXNoKHNbcF0pfXJldHVybiFZLmdldChiKX1mdW5jdGlvbiBzKGEsYixjKXt0aGlzLnR5cGU9YSx0aGlzLmhhbmRsZXI9Yix0aGlzLmNhcHR1cmU9Qm9vbGVhbihjKX1mdW5jdGlvbiB0KGEsYil7aWYoIShhIGluc3RhbmNlb2YgZWIpKXJldHVybiBQKHgoZWIsIkV2ZW50IixhLGIpKTt2YXIgYz1hO3JldHVybiBwYnx8ImJlZm9yZXVubG9hZCIhPT1jLnR5cGU/dm9pZCh0aGlzLmltcGw9Yyk6bmV3IHkoYyl9ZnVuY3Rpb24gdShhKXtyZXR1cm4gYSYmYS5yZWxhdGVkVGFyZ2V0P09iamVjdC5jcmVhdGUoYSx7cmVsYXRlZFRhcmdldDp7dmFsdWU6TyhhLnJlbGF0ZWRUYXJnZXQpfX0pOmF9ZnVuY3Rpb24gdihhLGIsYyl7dmFyIGQ9d2luZG93W2FdLGU9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYiBpbnN0YW5jZW9mIGQ/dm9pZCh0aGlzLmltcGw9Yik6UCh4KGQsYSxiLGMpKX07aWYoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksYyYmTShlLnByb3RvdHlwZSxjKSxkKXRyeXtOKGQsZSxuZXcgZCgidGVtcCIpKX1jYXRjaChmKXtOKGQsZSxkb2N1bWVudC5jcmVhdGVFdmVudChhKSl9cmV0dXJuIGV9ZnVuY3Rpb24gdyhhLGIpe3JldHVybiBmdW5jdGlvbigpe2FyZ3VtZW50c1tiXT1PKGFyZ3VtZW50c1tiXSk7dmFyIGM9Tyh0aGlzKTtjW2FdLmFwcGx5KGMsYXJndW1lbnRzKX19ZnVuY3Rpb24geChhLGIsYyxkKXtpZihuYilyZXR1cm4gbmV3IGEoYyx1KGQpKTt2YXIgZT1PKGRvY3VtZW50LmNyZWF0ZUV2ZW50KGIpKSxmPW1iW2JdLGc9W2NdO3JldHVybiBPYmplY3Qua2V5cyhmKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPW51bGwhPWQmJmEgaW4gZD9kW2FdOmZbYV07InJlbGF0ZWRUYXJnZXQiPT09YSYmKGI9TyhiKSksZy5wdXNoKGIpfSksZVsiaW5pdCIrYl0uYXBwbHkoZSxnKSxlfWZ1bmN0aW9uIHkoYSl7dC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24geihhKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYT8hMDphJiZhLmhhbmRsZUV2ZW50fWZ1bmN0aW9uIEEoYSl7c3dpdGNoKGEpe2Nhc2UiRE9NQXR0ck1vZGlmaWVkIjpjYXNlIkRPTUF0dHJpYnV0ZU5hbWVDaGFuZ2VkIjpjYXNlIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCI6Y2FzZSJET01FbGVtZW50TmFtZUNoYW5nZWQiOmNhc2UiRE9NTm9kZUluc2VydGVkIjpjYXNlIkRPTU5vZGVJbnNlcnRlZEludG9Eb2N1bWVudCI6Y2FzZSJET01Ob2RlUmVtb3ZlZCI6Y2FzZSJET01Ob2RlUmVtb3ZlZEZyb21Eb2N1bWVudCI6Y2FzZSJET01TdWJ0cmVlTW9kaWZpZWQiOnJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIEIoYSl7dGhpcy5pbXBsPWF9ZnVuY3Rpb24gQyhhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIFEuU2hhZG93Um9vdCYmKGE9YS5ob3N0KSxPKGEpfWZ1bmN0aW9uIEQoYSxiKXt2YXIgYz1SLmdldChhKTtpZihjKWZvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKWlmKCFjW2RdLnJlbW92ZWQmJmNbZF0udHlwZT09PWIpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gRShhLGIpe2Zvcih2YXIgYz1PKGEpO2M7Yz1jLnBhcmVudE5vZGUpaWYoRChQKGMpLGIpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIEYoYSl7SyhhLHJiKX1mdW5jdGlvbiBHKGIsYyxlLGYpe2EucmVuZGVyQWxsUGVuZGluZygpO3ZhciBnPVAoc2IuY2FsbChjLmltcGwsZSxmKSksaT1kKGcsbnVsbCk7cmV0dXJuIGgoaSxiKX1mdW5jdGlvbiBIKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiPSQuZ2V0KHRoaXMpO3JldHVybiBiJiZiW2FdJiZiW2FdLnZhbHVlfHxudWxsfX1mdW5jdGlvbiBJKGEpe3ZhciBiPWEuc2xpY2UoMik7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPSQuZ2V0KHRoaXMpO2R8fChkPU9iamVjdC5jcmVhdGUobnVsbCksJC5zZXQodGhpcyxkKSk7dmFyIGU9ZFthXTtpZihlJiZ0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixlLndyYXBwZWQsITEpLCJmdW5jdGlvbiI9PXR5cGVvZiBjKXt2YXIgZj1mdW5jdGlvbihiKXt2YXIgZD1jLmNhbGwodGhpcyxiKTtkPT09ITE/Yi5wcmV2ZW50RGVmYXVsdCgpOiJvbmJlZm9yZXVubG9hZCI9PT1hJiYic3RyaW5nIj09dHlwZW9mIGQmJihiLnJldHVyblZhbHVlPWQpfTt0aGlzLmFkZEV2ZW50TGlzdGVuZXIoYixmLCExKSxkW2FdPXt2YWx1ZTpjLHdyYXBwZWQ6Zn19fX12YXIgSixLPWEuZm9yd2FyZE1ldGhvZHNUb1dyYXBwZXIsTD1hLmdldFRyZWVTY29wZSxNPWEubWl4aW4sTj1hLnJlZ2lzdGVyV3JhcHBlcixPPWEudW53cmFwLFA9YS53cmFwLFE9YS53cmFwcGVycyxSPShuZXcgV2Vha01hcCxuZXcgV2Vha01hcCksUz1uZXcgV2Vha01hcCxUPW5ldyBXZWFrTWFwLFU9bmV3IFdlYWtNYXAsVj1uZXcgV2Vha01hcCxXPW5ldyBXZWFrTWFwLFg9bmV3IFdlYWtNYXAsWT1uZXcgV2Vha01hcCxaPW5ldyBXZWFrTWFwLCQ9bmV3IFdlYWtNYXAsXz1uZXcgV2Vha01hcCxhYj0wLGJiPTEsY2I9MixkYj0zO3MucHJvdG90eXBlPXtlcXVhbHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGFuZGxlcj09PWEuaGFuZGxlciYmdGhpcy50eXBlPT09YS50eXBlJiZ0aGlzLmNhcHR1cmU9PT1hLmNhcHR1cmV9LGdldCByZW1vdmVkKCl7cmV0dXJuIG51bGw9PT10aGlzLmhhbmRsZXJ9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuaGFuZGxlcj1udWxsfX07dmFyIGViPXdpbmRvdy5FdmVudDtlYi5wcm90b3R5cGUucG9seW1lckJsYWNrTGlzdF89e3JldHVyblZhbHVlOiEwLGtleUxvY2F0aW9uOiEwfSx0LnByb3RvdHlwZT17Z2V0IHRhcmdldCgpe3JldHVybiBVLmdldCh0aGlzKX0sZ2V0IGN1cnJlbnRUYXJnZXQoKXtyZXR1cm4gVi5nZXQodGhpcyl9LGdldCBldmVudFBoYXNlKCl7cmV0dXJuIFguZ2V0KHRoaXMpfSxnZXQgcGF0aCgpe3ZhciBhPW5ldyBRLk5vZGVMaXN0LGI9Xy5nZXQodGhpcyk7aWYoYil7Zm9yKHZhciBjPTAsZD1iLmxlbmd0aC0xLGU9TChWLmdldCh0aGlzKSksZj0wO2Q+PWY7ZisrKXt2YXIgZz1iW2ZdLGg9TChnKTtoLmNvbnRhaW5zKGUpJiYoZiE9PWR8fGcgaW5zdGFuY2VvZiBRLk5vZGUpJiYoYVtjKytdPWcpfWEubGVuZ3RoPWN9cmV0dXJuIGF9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe1kuc2V0KHRoaXMsITApfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXtZLnNldCh0aGlzLCEwKSxaLnNldCh0aGlzLCEwKX19LE4oZWIsdCxkb2N1bWVudC5jcmVhdGVFdmVudCgiRXZlbnQiKSk7dmFyIGZiPXYoIlVJRXZlbnQiLHQpLGdiPXYoIkN1c3RvbUV2ZW50Iix0KSxoYj17Z2V0IHJlbGF0ZWRUYXJnZXQoKXt2YXIgYT1XLmdldCh0aGlzKTtyZXR1cm4gdm9pZCAwIT09YT9hOlAoTyh0aGlzKS5yZWxhdGVkVGFyZ2V0KX19LGliPU0oe2luaXRNb3VzZUV2ZW50OncoImluaXRNb3VzZUV2ZW50IiwxNCl9LGhiKSxqYj1NKHtpbml0Rm9jdXNFdmVudDp3KCJpbml0Rm9jdXNFdmVudCIsNSl9LGhiKSxrYj12KCJNb3VzZUV2ZW50IixmYixpYiksbGI9digiRm9jdXNFdmVudCIsZmIsamIpLG1iPU9iamVjdC5jcmVhdGUobnVsbCksbmI9ZnVuY3Rpb24oKXt0cnl7bmV3IHdpbmRvdy5Gb2N1c0V2ZW50KCJmb2N1cyIpfWNhdGNoKGEpe3JldHVybiExfXJldHVybiEwfSgpO2lmKCFuYil7dmFyIG9iPWZ1bmN0aW9uKGEsYixjKXtpZihjKXt2YXIgZD1tYltjXTtiPU0oTSh7fSxkKSxiKX1tYlthXT1ifTtvYigiRXZlbnQiLHtidWJibGVzOiExLGNhbmNlbGFibGU6ITF9KSxvYigiQ3VzdG9tRXZlbnQiLHtkZXRhaWw6bnVsbH0sIkV2ZW50Iiksb2IoIlVJRXZlbnQiLHt2aWV3Om51bGwsZGV0YWlsOjB9LCJFdmVudCIpLG9iKCJNb3VzZUV2ZW50Iix7c2NyZWVuWDowLHNjcmVlblk6MCxjbGllbnRYOjAsY2xpZW50WTowLGN0cmxLZXk6ITEsYWx0S2V5OiExLHNoaWZ0S2V5OiExLG1ldGFLZXk6ITEsYnV0dG9uOjAscmVsYXRlZFRhcmdldDpudWxsfSwiVUlFdmVudCIpLG9iKCJGb2N1c0V2ZW50Iix7cmVsYXRlZFRhcmdldDpudWxsfSwiVUlFdmVudCIpfXZhciBwYj13aW5kb3cuQmVmb3JlVW5sb2FkRXZlbnQ7eS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSksTSh5LnByb3RvdHlwZSx7Z2V0IHJldHVyblZhbHVlKCl7cmV0dXJuIHRoaXMuaW1wbC5yZXR1cm5WYWx1ZX0sc2V0IHJldHVyblZhbHVlKGEpe3RoaXMuaW1wbC5yZXR1cm5WYWx1ZT1hfX0pLHBiJiZOKHBiLHkpO3ZhciBxYj13aW5kb3cuRXZlbnRUYXJnZXQscmI9WyJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpc3BhdGNoRXZlbnQiXTtbTm9kZSxXaW5kb3ddLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YS5wcm90b3R5cGU7cmIuZm9yRWFjaChmdW5jdGlvbihhKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYixhKyJfIix7dmFsdWU6YlthXX0pfSl9KSxCLnByb3RvdHlwZT17YWRkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihhLGIsYyl7aWYoeihiKSYmIUEoYSkpe3ZhciBkPW5ldyBzKGEsYixjKSxlPVIuZ2V0KHRoaXMpO2lmKGUpe2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKWlmKGQuZXF1YWxzKGVbZl0pKXJldHVybn1lbHNlIGU9W10sUi5zZXQodGhpcyxlKTtlLnB1c2goZCk7dmFyIGc9Qyh0aGlzKTtnLmFkZEV2ZW50TGlzdGVuZXJfKGEsbSwhMCl9fSxyZW1vdmVFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGEsYixjKXtjPUJvb2xlYW4oYyk7dmFyIGQ9Ui5nZXQodGhpcyk7aWYoZCl7Zm9yKHZhciBlPTAsZj0hMSxnPTA7ZzxkLmxlbmd0aDtnKyspZFtnXS50eXBlPT09YSYmZFtnXS5jYXB0dXJlPT09YyYmKGUrKyxkW2ddLmhhbmRsZXI9PT1iJiYoZj0hMCxkW2ddLnJlbW92ZSgpKSk7aWYoZiYmMT09PWUpe3ZhciBoPUModGhpcyk7aC5yZW1vdmVFdmVudExpc3RlbmVyXyhhLG0sITApfX19LGRpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24oYil7dmFyIGM9TyhiKSxkPWMudHlwZTtTLnNldChjLCExKSxhLnJlbmRlckFsbFBlbmRpbmcoKTt2YXIgZTtFKHRoaXMsZCl8fChlPWZ1bmN0aW9uKCl7fSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoZCxlLCEwKSk7dHJ5e3JldHVybiBPKHRoaXMpLmRpc3BhdGNoRXZlbnRfKGMpfWZpbmFsbHl7ZSYmdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKGQsZSwhMCl9fX0scWImJk4ocWIsQik7dmFyIHNiPWRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQ7YS5lbGVtZW50RnJvbVBvaW50PUcsYS5nZXRFdmVudEhhbmRsZXJHZXR0ZXI9SCxhLmdldEV2ZW50SGFuZGxlclNldHRlcj1JLGEud3JhcEV2ZW50VGFyZ2V0TWV0aG9kcz1GLGEud3JhcHBlcnMuQmVmb3JlVW5sb2FkRXZlbnQ9eSxhLndyYXBwZXJzLkN1c3RvbUV2ZW50PWdiLGEud3JhcHBlcnMuRXZlbnQ9dCxhLndyYXBwZXJzLkV2ZW50VGFyZ2V0PUIsYS53cmFwcGVycy5Gb2N1c0V2ZW50PWxiLGEud3JhcHBlcnMuTW91c2VFdmVudD1rYixhLndyYXBwZXJzLlVJRXZlbnQ9ZmJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLG8pfWZ1bmN0aW9uIGMoYSl7dGhpcy5pbXBsPWF9ZnVuY3Rpb24gZCgpe3RoaXMubGVuZ3RoPTAsYih0aGlzLCJsZW5ndGgiKX1mdW5jdGlvbiBlKGEpe2Zvcih2YXIgYj1uZXcgZCxlPTA7ZTxhLmxlbmd0aDtlKyspYltlXT1uZXcgYyhhW2VdKTtyZXR1cm4gYi5sZW5ndGg9ZSxifWZ1bmN0aW9uIGYoYSl7Zy5jYWxsKHRoaXMsYSl9dmFyIGc9YS53cmFwcGVycy5VSUV2ZW50LGg9YS5taXhpbixpPWEucmVnaXN0ZXJXcmFwcGVyLGo9YS51bndyYXAsaz1hLndyYXAsbD13aW5kb3cuVG91Y2hFdmVudDtpZihsKXt2YXIgbTt0cnl7bT1kb2N1bWVudC5jcmVhdGVFdmVudCgiVG91Y2hFdmVudCIpfWNhdGNoKG4pe3JldHVybn12YXIgbz17ZW51bWVyYWJsZTohMX07Yy5wcm90b3R5cGU9e2dldCB0YXJnZXQoKXtyZXR1cm4gayh0aGlzLmltcGwudGFyZ2V0KX19O3ZhciBwPXtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6bnVsbH07WyJjbGllbnRYIiwiY2xpZW50WSIsInNjcmVlblgiLCJzY3JlZW5ZIiwicGFnZVgiLCJwYWdlWSIsImlkZW50aWZpZXIiLCJ3ZWJraXRSYWRpdXNYIiwid2Via2l0UmFkaXVzWSIsIndlYmtpdFJvdGF0aW9uQW5nbGUiLCJ3ZWJraXRGb3JjZSJdLmZvckVhY2goZnVuY3Rpb24oYSl7cC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsW2FdfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYy5wcm90b3R5cGUsYSxwKX0pLGQucHJvdG90eXBlPXtpdGVtOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzW2FdfX0sZi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShnLnByb3RvdHlwZSksaChmLnByb3RvdHlwZSx7Z2V0IHRvdWNoZXMoKXtyZXR1cm4gZShqKHRoaXMpLnRvdWNoZXMpfSxnZXQgdGFyZ2V0VG91Y2hlcygpe3JldHVybiBlKGoodGhpcykudGFyZ2V0VG91Y2hlcyl9LGdldCBjaGFuZ2VkVG91Y2hlcygpe3JldHVybiBlKGoodGhpcykuY2hhbmdlZFRvdWNoZXMpfSxpbml0VG91Y2hFdmVudDpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiTm90IGltcGxlbWVudGVkIil9fSksaShsLGYsbSksYS53cmFwcGVycy5Ub3VjaD1jLGEud3JhcHBlcnMuVG91Y2hFdmVudD1mLGEud3JhcHBlcnMuVG91Y2hMaXN0PWR9fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEsYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYixnKX1mdW5jdGlvbiBjKCl7dGhpcy5sZW5ndGg9MCxiKHRoaXMsImxlbmd0aCIpfWZ1bmN0aW9uIGQoYSl7aWYobnVsbD09YSlyZXR1cm4gYTtmb3IodmFyIGI9bmV3IGMsZD0wLGU9YS5sZW5ndGg7ZT5kO2QrKyliW2RdPWYoYVtkXSk7cmV0dXJuIGIubGVuZ3RoPWUsYn1mdW5jdGlvbiBlKGEsYil7YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXtyZXR1cm4gZCh0aGlzLmltcGxbYl0uYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cykpfX12YXIgZj1hLndyYXAsZz17ZW51bWVyYWJsZTohMX07Yy5wcm90b3R5cGU9e2l0ZW06ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXNbYV19fSxiKGMucHJvdG90eXBlLCJpdGVtIiksYS53cmFwcGVycy5Ob2RlTGlzdD1jLGEuYWRkV3JhcE5vZGVMaXN0TWV0aG9kPWUsYS53cmFwTm9kZUxpc3Q9ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7YS53cmFwSFRNTENvbGxlY3Rpb249YS53cmFwTm9kZUxpc3QsYS53cmFwcGVycy5IVE1MQ29sbGVjdGlvbj1hLndyYXBwZXJzLk5vZGVMaXN0fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe0EoYSBpbnN0YW5jZW9mIHcpfWZ1bmN0aW9uIGMoYSl7dmFyIGI9bmV3IHk7cmV0dXJuIGJbMF09YSxiLmxlbmd0aD0xLGJ9ZnVuY3Rpb24gZChhLGIsYyl7QyhiLCJjaGlsZExpc3QiLHtyZW1vdmVkTm9kZXM6YyxwcmV2aW91c1NpYmxpbmc6YS5wcmV2aW91c1NpYmxpbmcsbmV4dFNpYmxpbmc6YS5uZXh0U2libGluZ30pfWZ1bmN0aW9uIGUoYSxiKXtDKGEsImNoaWxkTGlzdCIse3JlbW92ZWROb2RlczpifSl9ZnVuY3Rpb24gZihhLGIsZCxlKXtpZihhIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCl7dmFyIGY9aChhKTtPPSEwO2Zvcih2YXIgZz1mLmxlbmd0aC0xO2c+PTA7Zy0tKWEucmVtb3ZlQ2hpbGQoZltnXSksZltnXS5wYXJlbnROb2RlXz1iO089ITE7Zm9yKHZhciBnPTA7ZzxmLmxlbmd0aDtnKyspZltnXS5wcmV2aW91c1NpYmxpbmdfPWZbZy0xXXx8ZCxmW2ddLm5leHRTaWJsaW5nXz1mW2crMV18fGU7cmV0dXJuIGQmJihkLm5leHRTaWJsaW5nXz1mWzBdKSxlJiYoZS5wcmV2aW91c1NpYmxpbmdfPWZbZi5sZW5ndGgtMV0pLGZ9dmFyIGY9YyhhKSxpPWEucGFyZW50Tm9kZTtyZXR1cm4gaSYmaS5yZW1vdmVDaGlsZChhKSxhLnBhcmVudE5vZGVfPWIsYS5wcmV2aW91c1NpYmxpbmdfPWQsYS5uZXh0U2libGluZ189ZSxkJiYoZC5uZXh0U2libGluZ189YSksZSYmKGUucHJldmlvdXNTaWJsaW5nXz1hKSxmfWZ1bmN0aW9uIGcoYSl7aWYoYSBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpcmV0dXJuIGgoYSk7dmFyIGI9YyhhKSxlPWEucGFyZW50Tm9kZTtyZXR1cm4gZSYmZChhLGUsYiksYn1mdW5jdGlvbiBoKGEpe2Zvcih2YXIgYj1uZXcgeSxjPTAsZD1hLmZpcnN0Q2hpbGQ7ZDtkPWQubmV4dFNpYmxpbmcpYltjKytdPWQ7cmV0dXJuIGIubGVuZ3RoPWMsZShhLGIpLGJ9ZnVuY3Rpb24gaShhKXtyZXR1cm4gYX1mdW5jdGlvbiBqKGEsYil7SShhLGIpLGEubm9kZUlzSW5zZXJ0ZWRfKCl9ZnVuY3Rpb24gayhhLGIpe2Zvcih2YXIgYz1EKGIpLGQ9MDtkPGEubGVuZ3RoO2QrKylqKGFbZF0sYyl9ZnVuY3Rpb24gbChhKXtJKGEsbmV3IHooYSxudWxsKSl9ZnVuY3Rpb24gbShhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylsKGFbYl0pfWZ1bmN0aW9uIG4oYSxiKXt2YXIgYz1hLm5vZGVUeXBlPT09dy5ET0NVTUVOVF9OT0RFP2E6YS5vd25lckRvY3VtZW50O2MhPT1iLm93bmVyRG9jdW1lbnQmJmMuYWRvcHROb2RlKGIpfWZ1bmN0aW9uIG8oYixjKXtpZihjLmxlbmd0aCl7dmFyIGQ9Yi5vd25lckRvY3VtZW50O2lmKGQhPT1jWzBdLm93bmVyRG9jdW1lbnQpZm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspYS5hZG9wdE5vZGVOb1JlbW92ZShjW2VdLGQpfX1mdW5jdGlvbiBwKGEsYil7byhhLGIpO3ZhciBjPWIubGVuZ3RoO2lmKDE9PT1jKXJldHVybiBKKGJbMF0pO2Zvcih2YXIgZD1KKGEub3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpLGU9MDtjPmU7ZSsrKWQuYXBwZW5kQ2hpbGQoSihiW2VdKSk7cmV0dXJuIGR9ZnVuY3Rpb24gcShhKXtpZih2b2lkIDAhPT1hLmZpcnN0Q2hpbGRfKWZvcih2YXIgYj1hLmZpcnN0Q2hpbGRfO2I7KXt2YXIgYz1iO2I9Yi5uZXh0U2libGluZ18sYy5wYXJlbnROb2RlXz1jLnByZXZpb3VzU2libGluZ189Yy5uZXh0U2libGluZ189dm9pZCAwfWEuZmlyc3RDaGlsZF89YS5sYXN0Q2hpbGRfPXZvaWQgMH1mdW5jdGlvbiByKGEpe2lmKGEuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe2Zvcih2YXIgYj1hLmZpcnN0Q2hpbGQ7Yjspe0EoYi5wYXJlbnROb2RlPT09YSk7dmFyIGM9Yi5uZXh0U2libGluZyxkPUooYiksZT1kLnBhcmVudE5vZGU7ZSYmVi5jYWxsKGUsZCksYi5wcmV2aW91c1NpYmxpbmdfPWIubmV4dFNpYmxpbmdfPWIucGFyZW50Tm9kZV89bnVsbCxiPWN9YS5maXJzdENoaWxkXz1hLmxhc3RDaGlsZF89bnVsbH1lbHNlIGZvcih2YXIgYyxmPUooYSksZz1mLmZpcnN0Q2hpbGQ7ZzspYz1nLm5leHRTaWJsaW5nLFYuY2FsbChmLGcpLGc9Y31mdW5jdGlvbiBzKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmYi5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKX1mdW5jdGlvbiB0KGEpe2Zvcih2YXIgYixjPTA7YzxhLmxlbmd0aDtjKyspYj1hW2NdLGIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKX1mdW5jdGlvbiB1KGEsYixjKXt2YXIgZDtpZihkPUwoYz9QLmNhbGwoYyxhLmltcGwsITEpOlEuY2FsbChhLmltcGwsITEpKSxiKXtmb3IodmFyIGU9YS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWQuYXBwZW5kQ2hpbGQodShlLCEwLGMpKTtpZihhIGluc3RhbmNlb2YgTi5IVE1MVGVtcGxhdGVFbGVtZW50KWZvcih2YXIgZj1kLmNvbnRlbnQsZT1hLmNvbnRlbnQuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZylmLmFwcGVuZENoaWxkKHUoZSwhMCxjKSl9cmV0dXJuIGR9ZnVuY3Rpb24gdihhLGIpe2lmKCFifHxEKGEpIT09RChiKSlyZXR1cm4hMTtmb3IodmFyIGM9YjtjO2M9Yy5wYXJlbnROb2RlKWlmKGM9PT1hKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHcoYSl7QShhIGluc3RhbmNlb2YgUikseC5jYWxsKHRoaXMsYSksdGhpcy5wYXJlbnROb2RlXz12b2lkIDAsdGhpcy5maXJzdENoaWxkXz12b2lkIDAsdGhpcy5sYXN0Q2hpbGRfPXZvaWQgMCx0aGlzLm5leHRTaWJsaW5nXz12b2lkIDAsdGhpcy5wcmV2aW91c1NpYmxpbmdfPXZvaWQgMCx0aGlzLnRyZWVTY29wZV89dm9pZCAwfXZhciB4PWEud3JhcHBlcnMuRXZlbnRUYXJnZXQseT1hLndyYXBwZXJzLk5vZGVMaXN0LHo9YS5UcmVlU2NvcGUsQT1hLmFzc2VydCxCPWEuZGVmaW5lV3JhcEdldHRlcixDPWEuZW5xdWV1ZU11dGF0aW9uLEQ9YS5nZXRUcmVlU2NvcGUsRT1hLmlzV3JhcHBlcixGPWEubWl4aW4sRz1hLnJlZ2lzdGVyVHJhbnNpZW50T2JzZXJ2ZXJzLEg9YS5yZWdpc3RlcldyYXBwZXIsST1hLnNldFRyZWVTY29wZSxKPWEudW53cmFwLEs9YS51bndyYXBJZk5lZWRlZCxMPWEud3JhcCxNPWEud3JhcElmTmVlZGVkLE49YS53cmFwcGVycyxPPSExLFA9ZG9jdW1lbnQuaW1wb3J0Tm9kZSxRPXdpbmRvdy5Ob2RlLnByb3RvdHlwZS5jbG9uZU5vZGUsUj13aW5kb3cuTm9kZSxTPXdpbmRvdy5Eb2N1bWVudEZyYWdtZW50LFQ9KFIucHJvdG90eXBlLmFwcGVuZENoaWxkLFIucHJvdG90eXBlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSxVPVIucHJvdG90eXBlLmluc2VydEJlZm9yZSxWPVIucHJvdG90eXBlLnJlbW92ZUNoaWxkLFc9Ui5wcm90b3R5cGUucmVwbGFjZUNoaWxkLFg9L1RyaWRlbnQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksWT1YP2Z1bmN0aW9uKGEsYil7dHJ5e1YuY2FsbChhLGIpfWNhdGNoKGMpe2lmKCEoYSBpbnN0YW5jZW9mIFMpKXRocm93IGN9fTpmdW5jdGlvbihhLGIpe1YuY2FsbChhLGIpfTt3LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHgucHJvdG90eXBlKSxGKHcucHJvdG90eXBlLHthcHBlbmRDaGlsZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbnNlcnRCZWZvcmUoYSxudWxsKX0saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKGEsYyl7YihhKTt2YXIgZDtjP0UoYyk/ZD1KKGMpOihkPWMsYz1MKGQpKTooYz1udWxsLGQ9bnVsbCksYyYmQShjLnBhcmVudE5vZGU9PT10aGlzKTt2YXIgZSxoPWM/Yy5wcmV2aW91c1NpYmxpbmc6dGhpcy5sYXN0Q2hpbGQsaT0hdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSYmIXMoYSk7aWYoZT1pP2coYSk6ZihhLHRoaXMsaCxjKSxpKW4odGhpcyxhKSxxKHRoaXMpLFUuY2FsbCh0aGlzLmltcGwsSihhKSxkKTtlbHNle2h8fCh0aGlzLmZpcnN0Q2hpbGRfPWVbMF0pLGN8fCh0aGlzLmxhc3RDaGlsZF89ZVtlLmxlbmd0aC0xXSk7dmFyIGo9ZD9kLnBhcmVudE5vZGU6dGhpcy5pbXBsO2o/VS5jYWxsKGoscCh0aGlzLGUpLGQpOm8odGhpcyxlKX1yZXR1cm4gQyh0aGlzLCJjaGlsZExpc3QiLHthZGRlZE5vZGVzOmUsbmV4dFNpYmxpbmc6YyxwcmV2aW91c1NpYmxpbmc6aH0pLGsoZSx0aGlzKSxhfSxyZW1vdmVDaGlsZDpmdW5jdGlvbihhKXtpZihiKGEpLGEucGFyZW50Tm9kZSE9PXRoaXMpe2Zvcih2YXIgZD0hMSxlPSh0aGlzLmNoaWxkTm9kZXMsdGhpcy5maXJzdENoaWxkKTtlO2U9ZS5uZXh0U2libGluZylpZihlPT09YSl7ZD0hMDticmVha31pZighZCl0aHJvdyBuZXcgRXJyb3IoIk5vdEZvdW5kRXJyb3IiKX12YXIgZj1KKGEpLGc9YS5uZXh0U2libGluZyxoPWEucHJldmlvdXNTaWJsaW5nO2lmKHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe3ZhciBpPXRoaXMuZmlyc3RDaGlsZCxqPXRoaXMubGFzdENoaWxkLGs9Zi5wYXJlbnROb2RlO2smJlkoayxmKSxpPT09YSYmKHRoaXMuZmlyc3RDaGlsZF89Zyksaj09PWEmJih0aGlzLmxhc3RDaGlsZF89aCksaCYmKGgubmV4dFNpYmxpbmdfPWcpLGcmJihnLnByZXZpb3VzU2libGluZ189aCksYS5wcmV2aW91c1NpYmxpbmdfPWEubmV4dFNpYmxpbmdfPWEucGFyZW50Tm9kZV89dm9pZCAwfWVsc2UgcSh0aGlzKSxZKHRoaXMuaW1wbCxmKTtyZXR1cm4gT3x8Qyh0aGlzLCJjaGlsZExpc3QiLHtyZW1vdmVkTm9kZXM6YyhhKSxuZXh0U2libGluZzpnLHByZXZpb3VzU2libGluZzpofSksRyh0aGlzLGEpLGF9LHJlcGxhY2VDaGlsZDpmdW5jdGlvbihhLGQpe2IoYSk7dmFyIGU7aWYoRShkKT9lPUooZCk6KGU9ZCxkPUwoZSkpLGQucGFyZW50Tm9kZSE9PXRoaXMpdGhyb3cgbmV3IEVycm9yKCJOb3RGb3VuZEVycm9yIik7dmFyIGgsaT1kLm5leHRTaWJsaW5nLGo9ZC5wcmV2aW91c1NpYmxpbmcsbT0hdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSYmIXMoYSk7cmV0dXJuIG0/aD1nKGEpOihpPT09YSYmKGk9YS5uZXh0U2libGluZyksaD1mKGEsdGhpcyxqLGkpKSxtPyhuKHRoaXMsYSkscSh0aGlzKSxXLmNhbGwodGhpcy5pbXBsLEooYSksZSkpOih0aGlzLmZpcnN0Q2hpbGQ9PT1kJiYodGhpcy5maXJzdENoaWxkXz1oWzBdKSx0aGlzLmxhc3RDaGlsZD09PWQmJih0aGlzLmxhc3RDaGlsZF89aFtoLmxlbmd0aC0xXSksZC5wcmV2aW91c1NpYmxpbmdfPWQubmV4dFNpYmxpbmdfPWQucGFyZW50Tm9kZV89dm9pZCAwLGUucGFyZW50Tm9kZSYmVy5jYWxsKGUucGFyZW50Tm9kZSxwKHRoaXMsaCksZSkpLEModGhpcywiY2hpbGRMaXN0Iix7YWRkZWROb2RlczpoLHJlbW92ZWROb2RlczpjKGQpLG5leHRTaWJsaW5nOmkscHJldmlvdXNTaWJsaW5nOmp9KSxsKGQpLGsoaCx0aGlzKSxkfSxub2RlSXNJbnNlcnRlZF86ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWEubm9kZUlzSW5zZXJ0ZWRfKCl9LGhhc0NoaWxkTm9kZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuZmlyc3RDaGlsZH0sZ2V0IHBhcmVudE5vZGUoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5wYXJlbnROb2RlXz90aGlzLnBhcmVudE5vZGVfOkwodGhpcy5pbXBsLnBhcmVudE5vZGUpfSxnZXQgZmlyc3RDaGlsZCgpe3JldHVybiB2b2lkIDAhPT10aGlzLmZpcnN0Q2hpbGRfP3RoaXMuZmlyc3RDaGlsZF86TCh0aGlzLmltcGwuZmlyc3RDaGlsZCl9LGdldCBsYXN0Q2hpbGQoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5sYXN0Q2hpbGRfP3RoaXMubGFzdENoaWxkXzpMKHRoaXMuaW1wbC5sYXN0Q2hpbGQpfSxnZXQgbmV4dFNpYmxpbmcoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5uZXh0U2libGluZ18/dGhpcy5uZXh0U2libGluZ186TCh0aGlzLmltcGwubmV4dFNpYmxpbmcpfSxnZXQgcHJldmlvdXNTaWJsaW5nKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMucHJldmlvdXNTaWJsaW5nXz90aGlzLnByZXZpb3VzU2libGluZ186TCh0aGlzLmltcGwucHJldmlvdXNTaWJsaW5nKX0sZ2V0IHBhcmVudEVsZW1lbnQoKXtmb3IodmFyIGE9dGhpcy5wYXJlbnROb2RlO2EmJmEubm9kZVR5cGUhPT13LkVMRU1FTlRfTk9ERTspYT1hLnBhcmVudE5vZGU7cmV0dXJuIGF9LGdldCB0ZXh0Q29udGVudCgpe2Zvcih2YXIgYT0iIixiPXRoaXMuZmlyc3RDaGlsZDtiO2I9Yi5uZXh0U2libGluZyliLm5vZGVUeXBlIT13LkNPTU1FTlRfTk9ERSYmKGErPWIudGV4dENvbnRlbnQpO3JldHVybiBhfSxzZXQgdGV4dENvbnRlbnQoYSl7dmFyIGI9aSh0aGlzLmNoaWxkTm9kZXMpO2lmKHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe2lmKHIodGhpcyksIiIhPT1hKXt2YXIgYz10aGlzLmltcGwub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhKTt0aGlzLmFwcGVuZENoaWxkKGMpfX1lbHNlIHEodGhpcyksdGhpcy5pbXBsLnRleHRDb250ZW50PWE7dmFyIGQ9aSh0aGlzLmNoaWxkTm9kZXMpO0ModGhpcywiY2hpbGRMaXN0Iix7YWRkZWROb2RlczpkLHJlbW92ZWROb2RlczpifSksbShiKSxrKGQsdGhpcyl9LGdldCBjaGlsZE5vZGVzKCl7Zm9yKHZhciBhPW5ldyB5LGI9MCxjPXRoaXMuZmlyc3RDaGlsZDtjO2M9Yy5uZXh0U2libGluZylhW2IrK109YztyZXR1cm4gYS5sZW5ndGg9YixhfSxjbG9uZU5vZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHUodGhpcyxhKX0sY29udGFpbnM6ZnVuY3Rpb24oYSl7cmV0dXJuIHYodGhpcyxNKGEpKX0sY29tcGFyZURvY3VtZW50UG9zaXRpb246ZnVuY3Rpb24oYSl7cmV0dXJuIFQuY2FsbCh0aGlzLmltcGwsSyhhKSl9LG5vcm1hbGl6ZTpmdW5jdGlvbigpe2Zvcih2YXIgYSxiLGM9aSh0aGlzLmNoaWxkTm9kZXMpLGQ9W10sZT0iIixmPTA7ZjxjLmxlbmd0aDtmKyspYj1jW2ZdLGIubm9kZVR5cGU9PT13LlRFWFRfTk9ERT9hfHxiLmRhdGEubGVuZ3RoP2E/KGUrPWIuZGF0YSxkLnB1c2goYikpOmE9Yjp0aGlzLnJlbW92ZU5vZGUoYik6KGEmJmQubGVuZ3RoJiYoYS5kYXRhKz1lLGNsZWFuVXBOb2RlcyhkKSksZD1bXSxlPSIiLGE9bnVsbCxiLmNoaWxkTm9kZXMubGVuZ3RoJiZiLm5vcm1hbGl6ZSgpKTthJiZkLmxlbmd0aCYmKGEuZGF0YSs9ZSx0KGQpKX19KSxCKHcsIm93bmVyRG9jdW1lbnQiKSxIKFIsdyxkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpLGRlbGV0ZSB3LnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yLGRlbGV0ZSB3LnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yQWxsLHcucHJvdG90eXBlPUYoT2JqZWN0LmNyZWF0ZSh4LnByb3RvdHlwZSksdy5wcm90b3R5cGUpLGEuY2xvbmVOb2RlPXUsYS5ub2RlV2FzQWRkZWQ9aixhLm5vZGVXYXNSZW1vdmVkPWwsYS5ub2Rlc1dlcmVBZGRlZD1rLGEubm9kZXNXZXJlUmVtb3ZlZD1tLGEuc25hcHNob3ROb2RlTGlzdD1pLGEud3JhcHBlcnMuTm9kZT13fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEsYyl7Zm9yKHZhciBkLGU9YS5maXJzdEVsZW1lbnRDaGlsZDtlOyl7aWYoZS5tYXRjaGVzKGMpKXJldHVybiBlO2lmKGQ9YihlLGMpKXJldHVybiBkO2U9ZS5uZXh0RWxlbWVudFNpYmxpbmd9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYyhhLGIpe3JldHVybiBhLm1hdGNoZXMoYil9ZnVuY3Rpb24gZChhLGIsYyl7dmFyIGQ9YS5sb2NhbE5hbWU7cmV0dXJuIGQ9PT1ifHxkPT09YyYmYS5uYW1lc3BhY2VVUkk9PT1sfWZ1bmN0aW9uIGUoKXtyZXR1cm4hMH1mdW5jdGlvbiBmKGEsYil7cmV0dXJuIGEubG9jYWxOYW1lPT09Yn1mdW5jdGlvbiBnKGEsYil7cmV0dXJuIGEubmFtZXNwYWNlVVJJPT09Yn1mdW5jdGlvbiBoKGEsYixjKXtyZXR1cm4gYS5uYW1lc3BhY2VVUkk9PT1iJiZhLmxvY2FsTmFtZT09PWN9ZnVuY3Rpb24gaShhLGIsYyxkLGUpe2Zvcih2YXIgZj1hLmZpcnN0RWxlbWVudENoaWxkO2Y7KWMoZixkLGUpJiYoYltiLmxlbmd0aCsrXT1mKSxpKGYsYixjLGQsZSksZj1mLm5leHRFbGVtZW50U2libGluZztyZXR1cm4gYn12YXIgaj1hLndyYXBwZXJzLkhUTUxDb2xsZWN0aW9uLGs9YS53cmFwcGVycy5Ob2RlTGlzdCxsPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIixtPXtxdWVyeVNlbGVjdG9yOmZ1bmN0aW9uKGEpe3JldHVybiBiKHRoaXMsYSl9LHF1ZXJ5U2VsZWN0b3JBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIGkodGhpcyxuZXcgayxjLGEpfX0sbj17Z2V0RWxlbWVudHNCeVRhZ05hbWU6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGo7cmV0dXJuIioiPT09YT9pKHRoaXMsYixlKTppKHRoaXMsYixkLGEsYS50b0xvd2VyQ2FzZSgpKX0sZ2V0RWxlbWVudHNCeUNsYXNzTmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCIuIithKX0sZ2V0RWxlbWVudHNCeVRhZ05hbWVOUzpmdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBqO2lmKCIiPT09YSlhPW51bGw7ZWxzZSBpZigiKiI9PT1hKXJldHVybiIqIj09PWI/aSh0aGlzLGMsZSk6aSh0aGlzLGMsZixiKTtyZXR1cm4iKiI9PT1iP2kodGhpcyxjLGcsYSk6aSh0aGlzLGMsaCxhLGIpfX07YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlPW4sYS5TZWxlY3RvcnNJbnRlcmZhY2U9bX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtmb3IoO2EmJmEubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERTspYT1hLm5leHRTaWJsaW5nO3JldHVybiBhfWZ1bmN0aW9uIGMoYSl7Zm9yKDthJiZhLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWE9YS5wcmV2aW91c1NpYmxpbmc7cmV0dXJuIGF9dmFyIGQ9YS53cmFwcGVycy5Ob2RlTGlzdCxlPXtnZXQgZmlyc3RFbGVtZW50Q2hpbGQoKXtyZXR1cm4gYih0aGlzLmZpcnN0Q2hpbGQpfSxnZXQgbGFzdEVsZW1lbnRDaGlsZCgpe3JldHVybiBjKHRoaXMubGFzdENoaWxkKX0sZ2V0IGNoaWxkRWxlbWVudENvdW50KCl7Zm9yKHZhciBhPTAsYj10aGlzLmZpcnN0RWxlbWVudENoaWxkO2I7Yj1iLm5leHRFbGVtZW50U2libGluZylhKys7cmV0dXJuIGF9LGdldCBjaGlsZHJlbigpe2Zvcih2YXIgYT1uZXcgZCxiPTAsYz10aGlzLmZpcnN0RWxlbWVudENoaWxkO2M7Yz1jLm5leHRFbGVtZW50U2libGluZylhW2IrK109YztyZXR1cm4gYS5sZW5ndGg9YixhfSxyZW1vdmU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBhcmVudE5vZGU7YSYmYS5yZW1vdmVDaGlsZCh0aGlzKX19LGY9e2dldCBuZXh0RWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gYih0aGlzLm5leHRTaWJsaW5nKX0sZ2V0IHByZXZpb3VzRWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gYyh0aGlzLnByZXZpb3VzU2libGluZyl9fTthLkNoaWxkTm9kZUludGVyZmFjZT1mLGEuUGFyZW50Tm9kZUludGVyZmFjZT1lfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2QuY2FsbCh0aGlzLGEpfXZhciBjPWEuQ2hpbGROb2RlSW50ZXJmYWNlLGQ9YS53cmFwcGVycy5Ob2RlLGU9YS5lbnF1ZXVlTXV0YXRpb24sZj1hLm1peGluLGc9YS5yZWdpc3RlcldyYXBwZXIsaD13aW5kb3cuQ2hhcmFjdGVyRGF0YTtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxmKGIucHJvdG90eXBlLHtnZXQgdGV4dENvbnRlbnQoKXtyZXR1cm4gdGhpcy5kYXRhfSxzZXQgdGV4dENvbnRlbnQoYSl7dGhpcy5kYXRhPWF9LGdldCBkYXRhKCl7cmV0dXJuIHRoaXMuaW1wbC5kYXRhfSxzZXQgZGF0YShhKXt2YXIgYj10aGlzLmltcGwuZGF0YTtlKHRoaXMsImNoYXJhY3RlckRhdGEiLHtvbGRWYWx1ZTpifSksdGhpcy5pbXBsLmRhdGE9YX19KSxmKGIucHJvdG90eXBlLGMpLGcoaCxiLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKSksYS53cmFwcGVycy5DaGFyYWN0ZXJEYXRhPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGE+Pj4wfWZ1bmN0aW9uIGMoYSl7ZC5jYWxsKHRoaXMsYSl9dmFyIGQ9YS53cmFwcGVycy5DaGFyYWN0ZXJEYXRhLGU9KGEuZW5xdWV1ZU11dGF0aW9uLGEubWl4aW4pLGY9YS5yZWdpc3RlcldyYXBwZXIsZz13aW5kb3cuVGV4dDtjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxlKGMucHJvdG90eXBlLHtzcGxpdFRleHQ6ZnVuY3Rpb24oYSl7YT1iKGEpO3ZhciBjPXRoaXMuZGF0YTtpZihhPmMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW5kZXhTaXplRXJyb3IiKTt2YXIgZD1jLnNsaWNlKDAsYSksZT1jLnNsaWNlKGEpO3RoaXMuZGF0YT1kO3ZhciBmPXRoaXMub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKTtyZXR1cm4gdGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGYsdGhpcy5uZXh0U2libGluZyksZn19KSxmKGcsYyxkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIikpLGEud3JhcHBlcnMuVGV4dD1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGIsYyl7dmFyIGQ9Yi5wYXJlbnROb2RlO2lmKGQmJmQuc2hhZG93Um9vdCl7dmFyIGU9YS5nZXRSZW5kZXJlckZvckhvc3QoZCk7ZS5kZXBlbmRzT25BdHRyaWJ1dGUoYykmJmUuaW52YWxpZGF0ZSgpfX1mdW5jdGlvbiBjKGEsYixjKXtrKGEsImF0dHJpYnV0ZXMiLHtuYW1lOmIsbmFtZXNwYWNlOm51bGwsb2xkVmFsdWU6Y30pfWZ1bmN0aW9uIGQoYSl7aC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gZShhLGMsZCl7dmFyIGU9ZHx8YztPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxjLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsW2NdfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsW2NdPWEsYih0aGlzLGUpfSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pfXZhciBmPWEuQ2hpbGROb2RlSW50ZXJmYWNlLGc9YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLGg9YS53cmFwcGVycy5Ob2RlLGk9YS5QYXJlbnROb2RlSW50ZXJmYWNlLGo9YS5TZWxlY3RvcnNJbnRlcmZhY2Usaz0oYS5hZGRXcmFwTm9kZUxpc3RNZXRob2QsYS5lbnF1ZXVlTXV0YXRpb24pLGw9YS5taXhpbixtPShhLm9uZU9mLGEucmVnaXN0ZXJXcmFwcGVyKSxuPWEud3JhcHBlcnMsbz13aW5kb3cuRWxlbWVudCxwPVsibWF0Y2hlcyIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIl0uZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBvLnByb3RvdHlwZVthXX0pLHE9cFswXSxyPW8ucHJvdG90eXBlW3FdO2QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaC5wcm90b3R5cGUpLGwoZC5wcm90b3R5cGUse2NyZWF0ZVNoYWRvd1Jvb3Q6ZnVuY3Rpb24oKXt2YXIgYj1uZXcgbi5TaGFkb3dSb290KHRoaXMpO3RoaXMuaW1wbC5wb2x5bWVyU2hhZG93Um9vdF89Yjt2YXIgYz1hLmdldFJlbmRlcmVyRm9ySG9zdCh0aGlzKTtyZXR1cm4gYy5pbnZhbGlkYXRlKCksYn0sZ2V0IHNoYWRvd1Jvb3QoKXtyZXR1cm4gdGhpcy5pbXBsLnBvbHltZXJTaGFkb3dSb290X3x8bnVsbH0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKGEsZCl7dmFyIGU9dGhpcy5pbXBsLmdldEF0dHJpYnV0ZShhKTt0aGlzLmltcGwuc2V0QXR0cmlidXRlKGEsZCksYyh0aGlzLGEsZSksYih0aGlzLGEpfSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy5pbXBsLmdldEF0dHJpYnV0ZShhKTt0aGlzLmltcGwucmVtb3ZlQXR0cmlidXRlKGEpLGModGhpcyxhLGQpLGIodGhpcyxhKX0sbWF0Y2hlczpmdW5jdGlvbihhKXtyZXR1cm4gci5jYWxsKHRoaXMuaW1wbCxhKX19KSxwLmZvckVhY2goZnVuY3Rpb24oYSl7Im1hdGNoZXMiIT09YSYmKGQucHJvdG90eXBlW2FdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1hdGNoZXMoYSl9KX0pLG8ucHJvdG90eXBlLndlYmtpdENyZWF0ZVNoYWRvd1Jvb3QmJihkLnByb3RvdHlwZS53ZWJraXRDcmVhdGVTaGFkb3dSb290PWQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3QpLGUoZC5wcm90b3R5cGUsImlkIiksZShkLnByb3RvdHlwZSwiY2xhc3NOYW1lIiwiY2xhc3MiKSxsKGQucHJvdG90eXBlLGYpLGwoZC5wcm90b3R5cGUsZyksbChkLnByb3RvdHlwZSxpKSxsKGQucHJvdG90eXBlLGopLG0obyxkLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhudWxsLCJ4IikpLGEubWF0Y2hlc05hbWVzPXAsYS53cmFwcGVycy5FbGVtZW50PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7c3dpdGNoKGEpe2Nhc2UiJiI6cmV0dXJuIiZhbXA7IjtjYXNlIjwiOnJldHVybiImbHQ7IjtjYXNlIj4iOnJldHVybiImZ3Q7IjtjYXNlJyInOnJldHVybiImcXVvdDsiO2Nhc2UiXHhhMCI6cmV0dXJuIiZuYnNwOyJ9fWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGEucmVwbGFjZSh6LGIpfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGEucmVwbGFjZShBLGIpfWZ1bmN0aW9uIGUoYSl7Zm9yKHZhciBiPXt9LGM9MDtjPGEubGVuZ3RoO2MrKyliW2FbY11dPSEwO3JldHVybiBifWZ1bmN0aW9uIGYoYSxiKXtzd2l0Y2goYS5ub2RlVHlwZSl7Y2FzZSBOb2RlLkVMRU1FTlRfTk9ERTpmb3IodmFyIGUsZj1hLnRhZ05hbWUudG9Mb3dlckNhc2UoKSxoPSI8IitmLGk9YS5hdHRyaWJ1dGVzLGo9MDtlPWlbal07aisrKWgrPSIgIitlLm5hbWUrJz0iJytjKGUudmFsdWUpKyciJztyZXR1cm4gaCs9Ij4iLEJbZl0/aDpoK2coYSkrIjwvIitmKyI+IjtjYXNlIE5vZGUuVEVYVF9OT0RFOnZhciBrPWEuZGF0YTtyZXR1cm4gYiYmQ1tiLmxvY2FsTmFtZV0/azpkKGspO2Nhc2UgTm9kZS5DT01NRU5UX05PREU6cmV0dXJuIjwhLS0iK2EuZGF0YSsiLS0+IjtkZWZhdWx0OnRocm93IGNvbnNvbGUuZXJyb3IoYSksbmV3IEVycm9yKCJub3QgaW1wbGVtZW50ZWQiKX19ZnVuY3Rpb24gZyhhKXthIGluc3RhbmNlb2YgeS5IVE1MVGVtcGxhdGVFbGVtZW50JiYoYT1hLmNvbnRlbnQpO2Zvcih2YXIgYj0iIixjPWEuZmlyc3RDaGlsZDtjO2M9Yy5uZXh0U2libGluZyliKz1mKGMsYSk7cmV0dXJuIGJ9ZnVuY3Rpb24gaChhLGIsYyl7dmFyIGQ9Y3x8ImRpdiI7YS50ZXh0Q29udGVudD0iIjt2YXIgZT13KGEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KGQpKTtlLmlubmVySFRNTD1iO2Zvcih2YXIgZjtmPWUuZmlyc3RDaGlsZDspYS5hcHBlbmRDaGlsZCh4KGYpKX1mdW5jdGlvbiBpKGEpe28uY2FsbCh0aGlzLGEpfWZ1bmN0aW9uIGooYSxiKXt2YXIgYz13KGEuY2xvbmVOb2RlKCExKSk7Yy5pbm5lckhUTUw9Yjtmb3IodmFyIGQsZT13KGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7ZD1jLmZpcnN0Q2hpbGQ7KWUuYXBwZW5kQ2hpbGQoZCk7cmV0dXJuIHgoZSl9ZnVuY3Rpb24gayhiKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5yZW5kZXJBbGxQZW5kaW5nKCksdGhpcy5pbXBsW2JdfX1mdW5jdGlvbiBsKGEpe3AoaSxhLGsoYSkpfWZ1bmN0aW9uIG0oYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLGIse2dldDprKGIpLHNldDpmdW5jdGlvbihjKXthLnJlbmRlckFsbFBlbmRpbmcoKSx0aGlzLmltcGxbYl09Y30sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9KX1mdW5jdGlvbiBuKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxiLHt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBhLnJlbmRlckFsbFBlbmRpbmcoKSx0aGlzLmltcGxbYl0uYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyl9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSl9dmFyIG89YS53cmFwcGVycy5FbGVtZW50LHA9YS5kZWZpbmVHZXR0ZXIscT1hLmVucXVldWVNdXRhdGlvbixyPWEubWl4aW4scz1hLm5vZGVzV2VyZUFkZGVkLHQ9YS5ub2Rlc1dlcmVSZW1vdmVkLHU9YS5yZWdpc3RlcldyYXBwZXIsdj1hLnNuYXBzaG90Tm9kZUxpc3Qsdz1hLnVud3JhcCx4PWEud3JhcCx5PWEud3JhcHBlcnMsej0vWyZcdTAwQTAiXS9nLEE9L1smXHUwMEEwPD5dL2csQj1lKFsiYXJlYSIsImJhc2UiLCJiciIsImNvbCIsImNvbW1hbmQiLCJlbWJlZCIsImhyIiwiaW1nIiwiaW5wdXQiLCJrZXlnZW4iLCJsaW5rIiwibWV0YSIsInBhcmFtIiwic291cmNlIiwidHJhY2siLCJ3YnIiXSksQz1lKFsic3R5bGUiLCJzY3JpcHQiLCJ4bXAiLCJpZnJhbWUiLCJub2VtYmVkIiwibm9mcmFtZXMiLCJwbGFpbnRleHQiLCJub3NjcmlwdCJdKSxEPS9NU0lFLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLEU9d2luZG93LkhUTUxFbGVtZW50LEY9d2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQ7aS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkscihpLnByb3RvdHlwZSx7Z2V0IGlubmVySFRNTCgpe3JldHVybiBnKHRoaXMpfSxzZXQgaW5uZXJIVE1MKGEpe2lmKEQmJkNbdGhpcy5sb2NhbE5hbWVdKXJldHVybiB2b2lkKHRoaXMudGV4dENvbnRlbnQ9YSk7dmFyIGI9dih0aGlzLmNoaWxkTm9kZXMpO3RoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCk/dGhpcyBpbnN0YW5jZW9mIHkuSFRNTFRlbXBsYXRlRWxlbWVudD9oKHRoaXMuY29udGVudCxhKTpoKHRoaXMsYSx0aGlzLnRhZ05hbWUpOiFGJiZ0aGlzIGluc3RhbmNlb2YgeS5IVE1MVGVtcGxhdGVFbGVtZW50P2godGhpcy5jb250ZW50LGEpOnRoaXMuaW1wbC5pbm5lckhUTUw9YTt2YXIgYz12KHRoaXMuY2hpbGROb2Rlcyk7cSh0aGlzLCJjaGlsZExpc3QiLHthZGRlZE5vZGVzOmMscmVtb3ZlZE5vZGVzOmJ9KSx0KGIpLHMoYyx0aGlzKX0sZ2V0IG91dGVySFRNTCgpe3JldHVybiBmKHRoaXMsdGhpcy5wYXJlbnROb2RlKX0sc2V0IG91dGVySFRNTChhKXt2YXIgYj10aGlzLnBhcmVudE5vZGU7aWYoYil7Yi5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKTt2YXIgYz1qKGIsYSk7Yi5yZXBsYWNlQ2hpbGQoYyx0aGlzKX19LGluc2VydEFkamFjZW50SFRNTDpmdW5jdGlvbihhLGIpe3ZhciBjLGQ7c3dpdGNoKFN0cmluZyhhKS50b0xvd2VyQ2FzZSgpKXtjYXNlImJlZm9yZWJlZ2luIjpjPXRoaXMucGFyZW50Tm9kZSxkPXRoaXM7YnJlYWs7Y2FzZSJhZnRlcmVuZCI6Yz10aGlzLnBhcmVudE5vZGUsZD10aGlzLm5leHRTaWJsaW5nO2JyZWFrO2Nhc2UiYWZ0ZXJiZWdpbiI6Yz10aGlzLGQ9dGhpcy5maXJzdENoaWxkO2JyZWFrO2Nhc2UiYmVmb3JlZW5kIjpjPXRoaXMsZD1udWxsO2JyZWFrO2RlZmF1bHQ6cmV0dXJufXZhciBlPWooYyxiKTtjLmluc2VydEJlZm9yZShlLGQpfX0pLFsiY2xpZW50SGVpZ2h0IiwiY2xpZW50TGVmdCIsImNsaWVudFRvcCIsImNsaWVudFdpZHRoIiwib2Zmc2V0SGVpZ2h0Iiwib2Zmc2V0TGVmdCIsIm9mZnNldFRvcCIsIm9mZnNldFdpZHRoIiwic2Nyb2xsSGVpZ2h0Iiwic2Nyb2xsV2lkdGgiXS5mb3JFYWNoKGwpLFsic2Nyb2xsTGVmdCIsInNjcm9sbFRvcCJdLmZvckVhY2gobSksWyJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJnZXRDbGllbnRSZWN0cyIsInNjcm9sbEludG9WaWV3Il0uZm9yRWFjaChuKSx1KEUsaSxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiIikpLGEud3JhcHBlcnMuSFRNTEVsZW1lbnQ9aSxhLmdldElubmVySFRNTD1nLGEuc2V0SW5uZXJIVE1MPWh9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEud3JhcCxnPXdpbmRvdy5IVE1MQ2FudmFzRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtnZXRDb250ZXh0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pbXBsLmdldENvbnRleHQuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyk7cmV0dXJuIGEmJmYoYSl9fSksZShnLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikpLGEud3JhcHBlcnMuSFRNTENhbnZhc0VsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9d2luZG93LkhUTUxDb250ZW50RWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtnZXQgc2VsZWN0KCl7cmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKCJzZWxlY3QiKX0sc2V0IHNlbGVjdChhKXt0aGlzLnNldEF0dHJpYnV0ZSgic2VsZWN0IixhKX0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKGEsYil7Yy5wcm90b3R5cGUuc2V0QXR0cmlidXRlLmNhbGwodGhpcyxhLGIpLCJzZWxlY3QiPT09U3RyaW5nKGEpLnRvTG93ZXJDYXNlKCkmJnRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCEwKX19KSxmJiZlKGYsYiksYS53cmFwcGVycy5IVE1MQ29udGVudEVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtkLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBjKGEsYil7aWYoISh0aGlzIGluc3RhbmNlb2YgYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiRE9NIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uIik7dmFyIGU9Zihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKSk7ZC5jYWxsKHRoaXMsZSksZyhlLHRoaXMpLHZvaWQgMCE9PWEmJihlLndpZHRoPWEpLHZvaWQgMCE9PWImJihlLmhlaWdodD1iKX12YXIgZD1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLnVud3JhcCxnPWEucmV3cmFwLGg9d2luZG93LkhUTUxJbWFnZUVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSksZShoLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIikpLGMucHJvdG90eXBlPWIucHJvdG90eXBlLGEud3JhcHBlcnMuSFRNTEltYWdlRWxlbWVudD1iLGEud3JhcHBlcnMuSW1hZ2U9Y30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9KGEubWl4aW4sYS53cmFwcGVycy5Ob2RlTGlzdCxhLnJlZ2lzdGVyV3JhcHBlciksZT13aW5kb3cuSFRNTFNoYWRvd0VsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZSYmZChlLGIpLGEud3JhcHBlcnMuSFRNTFNoYWRvd0VsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtpZighYS5kZWZhdWx0VmlldylyZXR1cm4gYTt2YXIgYj1rLmdldChhKTtpZighYil7Zm9yKGI9YS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpO2IubGFzdENoaWxkOyliLnJlbW92ZUNoaWxkKGIubGFzdENoaWxkKTtrLnNldChhLGIpfXJldHVybiBifWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBjLGQ9YihhLm93bmVyRG9jdW1lbnQpLGU9aChkLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7Yz1hLmZpcnN0Q2hpbGQ7KWUuYXBwZW5kQ2hpbGQoYyk7cmV0dXJuIGV9ZnVuY3Rpb24gZChhKXtpZihlLmNhbGwodGhpcyxhKSwhbCl7dmFyIGI9YyhhKTtqLnNldCh0aGlzLGkoYikpfX12YXIgZT1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGY9YS5taXhpbixnPWEucmVnaXN0ZXJXcmFwcGVyLGg9YS51bndyYXAsaT1hLndyYXAsaj1uZXcgV2Vha01hcCxrPW5ldyBXZWFrTWFwLGw9d2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQ7ZC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSksZihkLnByb3RvdHlwZSx7Z2V0IGNvbnRlbnQoKXtyZXR1cm4gbD9pKHRoaXMuaW1wbC5jb250ZW50KTpqLmdldCh0aGlzKX19KSxsJiZnKGwsZCksYS53cmFwcGVycy5IVE1MVGVtcGxhdGVFbGVtZW50PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEucmVnaXN0ZXJXcmFwcGVyLGU9d2luZG93LkhUTUxNZWRpYUVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChlLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYXVkaW8iKSksYS53cmFwcGVycy5IVE1MTWVkaWFFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7ZC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gYyhhKXtpZighKHRoaXMgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4iKTt2YXIgYj1mKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImF1ZGlvIikpO2QuY2FsbCh0aGlzLGIpLGcoYix0aGlzKSxiLnNldEF0dHJpYnV0ZSgicHJlbG9hZCIsImF1dG8iKSx2b2lkIDAhPT1hJiZiLnNldEF0dHJpYnV0ZSgic3JjIixhKX12YXIgZD1hLndyYXBwZXJzLkhUTUxNZWRpYUVsZW1lbnQsZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW53cmFwLGc9YS5yZXdyYXAsaD13aW5kb3cuSFRNTEF1ZGlvRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxlKGgsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpKSxjLnByb3RvdHlwZT1iLnByb3RvdHlwZSxhLndyYXBwZXJzLkhUTUxBdWRpb0VsZW1lbnQ9YixhLndyYXBwZXJzLkF1ZGlvPWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGEucmVwbGFjZSgvXHMrL2csIiAiKS50cmltKCl9ZnVuY3Rpb24gYyhhKXtlLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBkKGEsYixjLGYpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkRPTSBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLiIpO3ZhciBnPWkoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpO2UuY2FsbCh0aGlzLGcpLGgoZyx0aGlzKSx2b2lkIDAhPT1hJiYoZy50ZXh0PWEpLHZvaWQgMCE9PWImJmcuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsYiksYz09PSEwJiZnLnNldEF0dHJpYnV0ZSgic2VsZWN0ZWQiLCIiKSxnLnNlbGVjdGVkPWY9PT0hMH12YXIgZT1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGY9YS5taXhpbixnPWEucmVnaXN0ZXJXcmFwcGVyLGg9YS5yZXdyYXAsaT1hLnVud3JhcCxqPWEud3JhcCxrPXdpbmRvdy5IVE1MT3B0aW9uRWxlbWVudDtjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlKSxmKGMucHJvdG90eXBlLHtnZXQgdGV4dCgpe3JldHVybiBiKHRoaXMudGV4dENvbnRlbnQpfSxzZXQgdGV4dChhKXt0aGlzLnRleHRDb250ZW50PWIoU3RyaW5nKGEpKX0sZ2V0IGZvcm0oKXtyZXR1cm4gaihpKHRoaXMpLmZvcm0pfX0pLGcoayxjLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKSxkLnByb3RvdHlwZT1jLnByb3RvdHlwZSxhLndyYXBwZXJzLkhUTUxPcHRpb25FbGVtZW50PWMsYS53cmFwcGVycy5PcHRpb249ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS51bndyYXAsZz1hLndyYXAsaD13aW5kb3cuSFRNTFNlbGVjdEVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7YWRkOmZ1bmN0aW9uKGEsYil7Im9iamVjdCI9PXR5cGVvZiBiJiYoYj1mKGIpKSxmKHRoaXMpLmFkZChmKGEpLGIpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMD09PWE/dm9pZCBjLnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzKTooIm9iamVjdCI9PXR5cGVvZiBhJiYoYT1mKGEpKSx2b2lkIGYodGhpcykucmVtb3ZlKGEpKX0sZ2V0IGZvcm0oKXtyZXR1cm4gZyhmKHRoaXMpLmZvcm0pfX0pLGUoaCxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpKSxhLndyYXBwZXJzLkhUTUxTZWxlY3RFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW53cmFwLGc9YS53cmFwLGg9YS53cmFwSFRNTENvbGxlY3Rpb24saT13aW5kb3cuSFRNTFRhYmxlRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtnZXQgY2FwdGlvbigpe3JldHVybiBnKGYodGhpcykuY2FwdGlvbil9LGNyZWF0ZUNhcHRpb246ZnVuY3Rpb24oKXtyZXR1cm4gZyhmKHRoaXMpLmNyZWF0ZUNhcHRpb24oKSl9LGdldCB0SGVhZCgpe3JldHVybiBnKGYodGhpcykudEhlYWQpfSxjcmVhdGVUSGVhZDpmdW5jdGlvbigpe3JldHVybiBnKGYodGhpcykuY3JlYXRlVEhlYWQoKSl9LGNyZWF0ZVRGb290OmZ1bmN0aW9uKCl7cmV0dXJuIGcoZih0aGlzKS5jcmVhdGVURm9vdCgpKX0sZ2V0IHRGb290KCl7cmV0dXJuIGcoZih0aGlzKS50Rm9vdCl9LGdldCB0Qm9kaWVzKCl7cmV0dXJuIGgoZih0aGlzKS50Qm9kaWVzKX0sY3JlYXRlVEJvZHk6ZnVuY3Rpb24oKXtyZXR1cm4gZyhmKHRoaXMpLmNyZWF0ZVRCb2R5KCkpfSxnZXQgcm93cygpe3JldHVybiBoKGYodGhpcykucm93cyl9LGluc2VydFJvdzpmdW5jdGlvbihhKXtyZXR1cm4gZyhmKHRoaXMpLmluc2VydFJvdyhhKSl9fSksZShpLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKSksYS53cmFwcGVycy5IVE1MVGFibGVFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEud3JhcEhUTUxDb2xsZWN0aW9uLGc9YS51bndyYXAsaD1hLndyYXAsaT13aW5kb3cuSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7Z2V0IHJvd3MoKXtyZXR1cm4gZihnKHRoaXMpLnJvd3MpfSxpbnNlcnRSb3c6ZnVuY3Rpb24oYSl7cmV0dXJuIGgoZyh0aGlzKS5pbnNlcnRSb3coYSkpfX0pLGUoaSxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRoZWFkIikpLGEud3JhcHBlcnMuSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS53cmFwSFRNTENvbGxlY3Rpb24sZz1hLnVud3JhcCxoPWEud3JhcCxpPXdpbmRvdy5IVE1MVGFibGVSb3dFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldCBjZWxscygpe3JldHVybiBmKGcodGhpcykuY2VsbHMpfSxpbnNlcnRDZWxsOmZ1bmN0aW9uKGEpe3JldHVybiBoKGcodGhpcykuaW5zZXJ0Q2VsbChhKSl9fSksZShpLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKSksYS53cmFwcGVycy5IVE1MVGFibGVSb3dFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7c3dpdGNoKGEubG9jYWxOYW1lKXtjYXNlImNvbnRlbnQiOnJldHVybiBuZXcgYyhhKTtjYXNlInNoYWRvdyI6cmV0dXJuIG5ldyBlKGEpO2Nhc2UidGVtcGxhdGUiOnJldHVybiBuZXcgZihhKX1kLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxDb250ZW50RWxlbWVudCxkPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZT1hLndyYXBwZXJzLkhUTUxTaGFkb3dFbGVtZW50LGY9YS53cmFwcGVycy5IVE1MVGVtcGxhdGVFbGVtZW50LGc9KGEubWl4aW4sYS5yZWdpc3RlcldyYXBwZXIpLGg9d2luZG93LkhUTUxVbmtub3duRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxnKGgsYiksYS53cmFwcGVycy5IVE1MVW5rbm93bkVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7dmFyIGI9YS5yZWdpc3Rlck9iamVjdCxjPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoYywidGl0bGUiKSxlPWIoZCksZj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZS5wcm90b3R5cGUpLmNvbnN0cnVjdG9yO2Eud3JhcHBlcnMuU1ZHRWxlbWVudD1mfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe20uY2FsbCh0aGlzLGEpfXZhciBjPWEubWl4aW4sZD1hLnJlZ2lzdGVyV3JhcHBlcixlPWEudW53cmFwLGY9YS53cmFwLGc9d2luZG93LlNWR1VzZUVsZW1lbnQsaD0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLGk9Zihkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoaCwiZyIpKSxqPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhoLCJ1c2UiKSxrPWkuY29uc3RydWN0b3IsbD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yoay5wcm90b3R5cGUpLG09bC5jb25zdHJ1Y3RvcjtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGwpLCJpbnN0YW5jZVJvb3QiaW4gaiYmYyhiLnByb3RvdHlwZSx7Z2V0IGluc3RhbmNlUm9vdCgpe3JldHVybiBmKGUodGhpcykuaW5zdGFuY2VSb290KX0sZ2V0IGFuaW1hdGVkSW5zdGFuY2VSb290KCl7cmV0dXJuIGYoZSh0aGlzKS5hbmltYXRlZEluc3RhbmNlUm9vdCl9fSksZChnLGIsaiksYS53cmFwcGVycy5TVkdVc2VFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5FdmVudFRhcmdldCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEud3JhcCxnPXdpbmRvdy5TVkdFbGVtZW50SW5zdGFuY2U7ZyYmKGIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldCBjb3JyZXNwb25kaW5nRWxlbWVudCgpe3JldHVybiBmKHRoaXMuaW1wbC5jb3JyZXNwb25kaW5nRWxlbWVudCl9LGdldCBjb3JyZXNwb25kaW5nVXNlRWxlbWVudCgpe3JldHVybiBmKHRoaXMuaW1wbC5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCl9LGdldCBwYXJlbnROb2RlKCl7cmV0dXJuIGYodGhpcy5pbXBsLnBhcmVudE5vZGUpfSxnZXQgY2hpbGROb2Rlcygpe3Rocm93IG5ldyBFcnJvcigiTm90IGltcGxlbWVudGVkIil9LGdldCBmaXJzdENoaWxkKCl7cmV0dXJuIGYodGhpcy5pbXBsLmZpcnN0Q2hpbGQpfSxnZXQgbGFzdENoaWxkKCl7cmV0dXJuIGYodGhpcy5pbXBsLmxhc3RDaGlsZCl9LGdldCBwcmV2aW91c1NpYmxpbmcoKXtyZXR1cm4gZih0aGlzLmltcGwucHJldmlvdXNTaWJsaW5nKX0sZ2V0IG5leHRTaWJsaW5nKCl7cmV0dXJuIGYodGhpcy5pbXBsLm5leHRTaWJsaW5nKX19KSxlKGcsYiksYS53cmFwcGVycy5TVkdFbGVtZW50SW5zdGFuY2U9Yil9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dGhpcy5pbXBsPWF9dmFyIGM9YS5taXhpbixkPWEucmVnaXN0ZXJXcmFwcGVyLGU9YS51bndyYXAsZj1hLnVud3JhcElmTmVlZGVkLGc9YS53cmFwLGg9d2luZG93LkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtjKGIucHJvdG90eXBlLHtnZXQgY2FudmFzKCl7cmV0dXJuIGcodGhpcy5pbXBsLmNhbnZhcyl9LGRyYXdJbWFnZTpmdW5jdGlvbigpe2FyZ3VtZW50c1swXT1mKGFyZ3VtZW50c1swXSksdGhpcy5pbXBsLmRyYXdJbWFnZS5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX0sY3JlYXRlUGF0dGVybjpmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF09ZShhcmd1bWVudHNbMF0pLHRoaXMuaW1wbC5jcmVhdGVQYXR0ZXJuLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfX0pLGQoaCxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLmdldENvbnRleHQoIjJkIikpLGEud3JhcHBlcnMuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dGhpcy5pbXBsPWF9dmFyIGM9YS5taXhpbixkPWEucmVnaXN0ZXJXcmFwcGVyLGU9YS51bndyYXBJZk5lZWRlZCxmPWEud3JhcCxnPXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQ7aWYoZyl7YyhiLnByb3RvdHlwZSx7Z2V0IGNhbnZhcygpe3JldHVybiBmKHRoaXMuaW1wbC5jYW52YXMpfSx0ZXhJbWFnZTJEOmZ1bmN0aW9uKCl7YXJndW1lbnRzWzVdPWUoYXJndW1lbnRzWzVdKSx0aGlzLmltcGwudGV4SW1hZ2UyRC5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX0sdGV4U3ViSW1hZ2UyRDpmdW5jdGlvbigpe2FyZ3VtZW50c1s2XT1lKGFyZ3VtZW50c1s2XSksdGhpcy5pbXBsLnRleFN1YkltYWdlMkQuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cykKfX0pO3ZhciBoPS9XZWJLaXQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk/e2RyYXdpbmdCdWZmZXJIZWlnaHQ6bnVsbCxkcmF3aW5nQnVmZmVyV2lkdGg6bnVsbH06e307ZChnLGIsaCksYS53cmFwcGVycy5XZWJHTFJlbmRlcmluZ0NvbnRleHQ9Yn19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dGhpcy5pbXBsPWF9dmFyIGM9YS5yZWdpc3RlcldyYXBwZXIsZD1hLnVud3JhcCxlPWEudW53cmFwSWZOZWVkZWQsZj1hLndyYXAsZz13aW5kb3cuUmFuZ2U7Yi5wcm90b3R5cGU9e2dldCBzdGFydENvbnRhaW5lcigpe3JldHVybiBmKHRoaXMuaW1wbC5zdGFydENvbnRhaW5lcil9LGdldCBlbmRDb250YWluZXIoKXtyZXR1cm4gZih0aGlzLmltcGwuZW5kQ29udGFpbmVyKX0sZ2V0IGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKCl7cmV0dXJuIGYodGhpcy5pbXBsLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKX0sc2V0U3RhcnQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmltcGwuc2V0U3RhcnQoZShhKSxiKX0sc2V0RW5kOmZ1bmN0aW9uKGEsYil7dGhpcy5pbXBsLnNldEVuZChlKGEpLGIpfSxzZXRTdGFydEJlZm9yZTpmdW5jdGlvbihhKXt0aGlzLmltcGwuc2V0U3RhcnRCZWZvcmUoZShhKSl9LHNldFN0YXJ0QWZ0ZXI6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNldFN0YXJ0QWZ0ZXIoZShhKSl9LHNldEVuZEJlZm9yZTpmdW5jdGlvbihhKXt0aGlzLmltcGwuc2V0RW5kQmVmb3JlKGUoYSkpfSxzZXRFbmRBZnRlcjpmdW5jdGlvbihhKXt0aGlzLmltcGwuc2V0RW5kQWZ0ZXIoZShhKSl9LHNlbGVjdE5vZGU6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNlbGVjdE5vZGUoZShhKSl9LHNlbGVjdE5vZGVDb250ZW50czpmdW5jdGlvbihhKXt0aGlzLmltcGwuc2VsZWN0Tm9kZUNvbnRlbnRzKGUoYSkpfSxjb21wYXJlQm91bmRhcnlQb2ludHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pbXBsLmNvbXBhcmVCb3VuZGFyeVBvaW50cyhhLGQoYikpfSxleHRyYWN0Q29udGVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLmltcGwuZXh0cmFjdENvbnRlbnRzKCkpfSxjbG9uZUNvbnRlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcy5pbXBsLmNsb25lQ29udGVudHMoKSl9LGluc2VydE5vZGU6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLmluc2VydE5vZGUoZShhKSl9LHN1cnJvdW5kQ29udGVudHM6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnN1cnJvdW5kQ29udGVudHMoZShhKSl9LGNsb25lUmFuZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLmltcGwuY2xvbmVSYW5nZSgpKX0saXNQb2ludEluUmFuZ2U6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pbXBsLmlzUG9pbnRJblJhbmdlKGUoYSksYil9LGNvbXBhcmVQb2ludDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmltcGwuY29tcGFyZVBvaW50KGUoYSksYil9LGludGVyc2VjdHNOb2RlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmltcGwuaW50ZXJzZWN0c05vZGUoZShhKSl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1wbC50b1N0cmluZygpfX0sZy5wcm90b3R5cGUuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50JiYoYi5wcm90b3R5cGUuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50PWZ1bmN0aW9uKGEpe3JldHVybiBmKHRoaXMuaW1wbC5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoYSkpfSksYyh3aW5kb3cuUmFuZ2UsYixkb2N1bWVudC5jcmVhdGVSYW5nZSgpKSxhLndyYXBwZXJzLlJhbmdlPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO3ZhciBiPWEuR2V0RWxlbWVudHNCeUludGVyZmFjZSxjPWEuUGFyZW50Tm9kZUludGVyZmFjZSxkPWEuU2VsZWN0b3JzSW50ZXJmYWNlLGU9YS5taXhpbixmPWEucmVnaXN0ZXJPYmplY3QsZz1mKGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7ZShnLnByb3RvdHlwZSxjKSxlKGcucHJvdG90eXBlLGQpLGUoZy5wcm90b3R5cGUsYik7dmFyIGg9Zihkb2N1bWVudC5jcmVhdGVDb21tZW50KCIiKSk7YS53cmFwcGVycy5Db21tZW50PWgsYS53cmFwcGVycy5Eb2N1bWVudEZyYWdtZW50PWd9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dmFyIGI9ayhhLmltcGwub3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO2MuY2FsbCh0aGlzLGIpLGkoYix0aGlzKTt2YXIgZT1hLnNoYWRvd1Jvb3Q7bS5zZXQodGhpcyxlKSx0aGlzLnRyZWVTY29wZV89bmV3IGQodGhpcyxnKGV8fGEpKSxsLnNldCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuRG9jdW1lbnRGcmFnbWVudCxkPWEuVHJlZVNjb3BlLGU9YS5lbGVtZW50RnJvbVBvaW50LGY9YS5nZXRJbm5lckhUTUwsZz1hLmdldFRyZWVTY29wZSxoPWEubWl4aW4saT1hLnJld3JhcCxqPWEuc2V0SW5uZXJIVE1MLGs9YS51bndyYXAsbD1uZXcgV2Vha01hcCxtPW5ldyBXZWFrTWFwLG49L1sgXHRcblxyXGZdLztiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxoKGIucHJvdG90eXBlLHtnZXQgaW5uZXJIVE1MKCl7cmV0dXJuIGYodGhpcyl9LHNldCBpbm5lckhUTUwoYSl7aih0aGlzLGEpLHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCl9LGdldCBvbGRlclNoYWRvd1Jvb3QoKXtyZXR1cm4gbS5nZXQodGhpcyl8fG51bGx9LGdldCBob3N0KCl7cmV0dXJuIGwuZ2V0KHRoaXMpfHxudWxsfSxpbnZhbGlkYXRlU2hhZG93UmVuZGVyZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbC5nZXQodGhpcykuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCl9LGVsZW1lbnRGcm9tUG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZSh0aGlzLHRoaXMub3duZXJEb2N1bWVudCxhLGIpfSxnZXRFbGVtZW50QnlJZDpmdW5jdGlvbihhKXtyZXR1cm4gbi50ZXN0KGEpP251bGw6dGhpcy5xdWVyeVNlbGVjdG9yKCdbaWQ9IicrYSsnIl0nKX19KSxhLndyYXBwZXJzLlNoYWRvd1Jvb3Q9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXthLnByZXZpb3VzU2libGluZ189YS5wcmV2aW91c1NpYmxpbmcsYS5uZXh0U2libGluZ189YS5uZXh0U2libGluZyxhLnBhcmVudE5vZGVfPWEucGFyZW50Tm9kZX1mdW5jdGlvbiBjKGEsYyxlKXt2YXIgZj1HKGEpLGc9RyhjKSxoPWU/RyhlKTpudWxsO2lmKGQoYyksYihjKSxlKWEuZmlyc3RDaGlsZD09PWUmJihhLmZpcnN0Q2hpbGRfPWUpLGUucHJldmlvdXNTaWJsaW5nXz1lLnByZXZpb3VzU2libGluZztlbHNle2EubGFzdENoaWxkXz1hLmxhc3RDaGlsZCxhLmxhc3RDaGlsZD09PWEuZmlyc3RDaGlsZCYmKGEuZmlyc3RDaGlsZF89YS5maXJzdENoaWxkKTt2YXIgaT1IKGYubGFzdENoaWxkKTtpJiYoaS5uZXh0U2libGluZ189aS5uZXh0U2libGluZyl9Zi5pbnNlcnRCZWZvcmUoZyxoKX1mdW5jdGlvbiBkKGEpe3ZhciBjPUcoYSksZD1jLnBhcmVudE5vZGU7aWYoZCl7dmFyIGU9SChkKTtiKGEpLGEucHJldmlvdXNTaWJsaW5nJiYoYS5wcmV2aW91c1NpYmxpbmcubmV4dFNpYmxpbmdfPWEpLGEubmV4dFNpYmxpbmcmJihhLm5leHRTaWJsaW5nLnByZXZpb3VzU2libGluZ189YSksZS5sYXN0Q2hpbGQ9PT1hJiYoZS5sYXN0Q2hpbGRfPWEpLGUuZmlyc3RDaGlsZD09PWEmJihlLmZpcnN0Q2hpbGRfPWEpLGQucmVtb3ZlQ2hpbGQoYyl9fWZ1bmN0aW9uIGUoYSl7SS5zZXQoYSxbXSl9ZnVuY3Rpb24gZihhKXt2YXIgYj1JLmdldChhKTtyZXR1cm4gYnx8SS5zZXQoYSxiPVtdKSxifWZ1bmN0aW9uIGcoYSl7Zm9yKHZhciBiPVtdLGM9MCxkPWEuZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZyliW2MrK109ZDtyZXR1cm4gYn1mdW5jdGlvbiBoKCl7Zm9yKHZhciBhPTA7YTxNLmxlbmd0aDthKyspe3ZhciBiPU1bYV0sYz1iLnBhcmVudFJlbmRlcmVyO2MmJmMuZGlydHl8fGIucmVuZGVyKCl9TT1bXX1mdW5jdGlvbiBpKCl7eT1udWxsLGgoKX1mdW5jdGlvbiBqKGEpe3ZhciBiPUsuZ2V0KGEpO3JldHVybiBifHwoYj1uZXcgbihhKSxLLnNldChhLGIpKSxifWZ1bmN0aW9uIGsoYSl7dmFyIGI9RShhKS5yb290O3JldHVybiBiIGluc3RhbmNlb2YgRD9iOm51bGx9ZnVuY3Rpb24gbChhKXtyZXR1cm4gaihhLmhvc3QpfWZ1bmN0aW9uIG0oYSl7dGhpcy5za2lwPSExLHRoaXMubm9kZT1hLHRoaXMuY2hpbGROb2Rlcz1bXX1mdW5jdGlvbiBuKGEpe3RoaXMuaG9zdD1hLHRoaXMuZGlydHk9ITEsdGhpcy5pbnZhbGlkYXRlQXR0cmlidXRlcygpLHRoaXMuYXNzb2NpYXRlTm9kZShhKX1mdW5jdGlvbiBvKGEpe2Zvcih2YXIgYj1bXSxjPWEuZmlyc3RDaGlsZDtjO2M9Yy5uZXh0U2libGluZyl2KGMpP2IucHVzaC5hcHBseShiLGYoYykpOmIucHVzaChjKTtyZXR1cm4gYn1mdW5jdGlvbiBwKGEpe2lmKGEgaW5zdGFuY2VvZiBCKXJldHVybiBhO2lmKGEgaW5zdGFuY2VvZiBBKXJldHVybiBudWxsO2Zvcih2YXIgYj1hLmZpcnN0Q2hpbGQ7YjtiPWIubmV4dFNpYmxpbmcpe3ZhciBjPXAoYik7aWYoYylyZXR1cm4gY31yZXR1cm4gbnVsbH1mdW5jdGlvbiBxKGEsYil7ZihiKS5wdXNoKGEpO3ZhciBjPUouZ2V0KGEpO2M/Yy5wdXNoKGIpOkouc2V0KGEsW2JdKX1mdW5jdGlvbiByKGEpe3JldHVybiBKLmdldChhKX1mdW5jdGlvbiBzKGEpe0ouc2V0KGEsdm9pZCAwKX1mdW5jdGlvbiB0KGEsYil7dmFyIGM9Yi5nZXRBdHRyaWJ1dGUoInNlbGVjdCIpO2lmKCFjKXJldHVybiEwO2lmKGM9Yy50cmltKCksIWMpcmV0dXJuITA7aWYoIShhIGluc3RhbmNlb2YgeikpcmV0dXJuITE7aWYoIU8udGVzdChjKSlyZXR1cm4hMTt0cnl7cmV0dXJuIGEubWF0Y2hlcyhjKX1jYXRjaChkKXtyZXR1cm4hMX19ZnVuY3Rpb24gdShhLGIpe3ZhciBjPXIoYik7cmV0dXJuIGMmJmNbYy5sZW5ndGgtMV09PT1hfWZ1bmN0aW9uIHYoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBBfHxhIGluc3RhbmNlb2YgQn1mdW5jdGlvbiB3KGEpe3JldHVybiBhLnNoYWRvd1Jvb3R9ZnVuY3Rpb24geChhKXtmb3IodmFyIGI9W10sYz1hLnNoYWRvd1Jvb3Q7YztjPWMub2xkZXJTaGFkb3dSb290KWIucHVzaChjKTtyZXR1cm4gYn12YXIgeSx6PWEud3JhcHBlcnMuRWxlbWVudCxBPWEud3JhcHBlcnMuSFRNTENvbnRlbnRFbGVtZW50LEI9YS53cmFwcGVycy5IVE1MU2hhZG93RWxlbWVudCxDPWEud3JhcHBlcnMuTm9kZSxEPWEud3JhcHBlcnMuU2hhZG93Um9vdCxFPShhLmFzc2VydCxhLmdldFRyZWVTY29wZSksRj0oYS5taXhpbixhLm9uZU9mKSxHPWEudW53cmFwLEg9YS53cmFwLEk9bmV3IFdlYWtNYXAsSj1uZXcgV2Vha01hcCxLPW5ldyBXZWFrTWFwLEw9Rih3aW5kb3csWyJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzZXRUaW1lb3V0Il0pLE09W10sTj1uZXcgQXJyYXlTcGxpY2U7Ti5lcXVhbHM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gRyhhLm5vZGUpPT09Yn0sbS5wcm90b3R5cGU9e2FwcGVuZDpmdW5jdGlvbihhKXt2YXIgYj1uZXcgbShhKTtyZXR1cm4gdGhpcy5jaGlsZE5vZGVzLnB1c2goYiksYn0sc3luYzpmdW5jdGlvbihhKXtpZighdGhpcy5za2lwKXtmb3IodmFyIGI9dGhpcy5ub2RlLGU9dGhpcy5jaGlsZE5vZGVzLGY9ZyhHKGIpKSxoPWF8fG5ldyBXZWFrTWFwLGk9Ti5jYWxjdWxhdGVTcGxpY2VzKGUsZiksaj0wLGs9MCxsPTAsbT0wO208aS5sZW5ndGg7bSsrKXtmb3IodmFyIG49aVttXTtsPG4uaW5kZXg7bCsrKWsrKyxlW2orK10uc3luYyhoKTtmb3IodmFyIG89bi5yZW1vdmVkLmxlbmd0aCxwPTA7bz5wO3ArKyl7dmFyIHE9SChmW2srK10pO2guZ2V0KHEpfHxkKHEpfWZvcih2YXIgcj1uLmFkZGVkQ291bnQscz1mW2tdJiZIKGZba10pLHA9MDtyPnA7cCsrKXt2YXIgdD1lW2orK10sdT10Lm5vZGU7YyhiLHUscyksaC5zZXQodSwhMCksdC5zeW5jKGgpfWwrPXJ9Zm9yKHZhciBtPWw7bTxlLmxlbmd0aDttKyspZVttXS5zeW5jKGgpfX19LG4ucHJvdG90eXBlPXtyZW5kZXI6ZnVuY3Rpb24oYSl7aWYodGhpcy5kaXJ0eSl7dGhpcy5pbnZhbGlkYXRlQXR0cmlidXRlcygpO3ZhciBiPXRoaXMuaG9zdDt0aGlzLmRpc3RyaWJ1dGlvbihiKTt2YXIgYz1hfHxuZXcgbShiKTt0aGlzLmJ1aWxkUmVuZGVyVHJlZShjLGIpO3ZhciBkPSFhO2QmJmMuc3luYygpLHRoaXMuZGlydHk9ITF9fSxnZXQgcGFyZW50UmVuZGVyZXIoKXtyZXR1cm4gRSh0aGlzLmhvc3QpLnJlbmRlcmVyfSxpbnZhbGlkYXRlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuZGlydHkpe2lmKHRoaXMuZGlydHk9ITAsTS5wdXNoKHRoaXMpLHkpcmV0dXJuO3k9d2luZG93W0xdKGksMCl9fSxkaXN0cmlidXRpb246ZnVuY3Rpb24oYSl7dGhpcy5yZXNldEFsbChhKSx0aGlzLmRpc3RyaWJ1dGlvblJlc29sdXRpb24oYSl9LHJlc2V0QWxsOmZ1bmN0aW9uKGEpe3YoYSk/ZShhKTpzKGEpO2Zvcih2YXIgYj1hLmZpcnN0Q2hpbGQ7YjtiPWIubmV4dFNpYmxpbmcpdGhpcy5yZXNldEFsbChiKTthLnNoYWRvd1Jvb3QmJnRoaXMucmVzZXRBbGwoYS5zaGFkb3dSb290KSxhLm9sZGVyU2hhZG93Um9vdCYmdGhpcy5yZXNldEFsbChhLm9sZGVyU2hhZG93Um9vdCl9LGRpc3RyaWJ1dGlvblJlc29sdXRpb246ZnVuY3Rpb24oYSl7aWYodyhhKSl7Zm9yKHZhciBiPWEsYz1vKGIpLGQ9eChiKSxlPTA7ZTxkLmxlbmd0aDtlKyspdGhpcy5wb29sRGlzdHJpYnV0aW9uKGRbZV0sYyk7Zm9yKHZhciBlPWQubGVuZ3RoLTE7ZT49MDtlLS0pe3ZhciBmPWRbZV0sZz1wKGYpO2lmKGcpe3ZhciBoPWYub2xkZXJTaGFkb3dSb290O2gmJihjPW8oaCkpO2Zvcih2YXIgaT0wO2k8Yy5sZW5ndGg7aSsrKXEoY1tpXSxnKX10aGlzLmRpc3RyaWJ1dGlvblJlc29sdXRpb24oZil9fWZvcih2YXIgaj1hLmZpcnN0Q2hpbGQ7ajtqPWoubmV4dFNpYmxpbmcpdGhpcy5kaXN0cmlidXRpb25SZXNvbHV0aW9uKGopfSxwb29sRGlzdHJpYnV0aW9uOmZ1bmN0aW9uKGEsYil7aWYoIShhIGluc3RhbmNlb2YgQikpaWYoYSBpbnN0YW5jZW9mIEEpe3ZhciBjPWE7dGhpcy51cGRhdGVEZXBlbmRlbnRBdHRyaWJ1dGVzKGMuZ2V0QXR0cmlidXRlKCJzZWxlY3QiKSk7Zm9yKHZhciBkPSExLGU9MDtlPGIubGVuZ3RoO2UrKyl7dmFyIGE9YltlXTthJiZ0KGEsYykmJihxKGEsYyksYltlXT12b2lkIDAsZD0hMCl9aWYoIWQpZm9yKHZhciBmPWMuZmlyc3RDaGlsZDtmO2Y9Zi5uZXh0U2libGluZylxKGYsYyl9ZWxzZSBmb3IodmFyIGY9YS5maXJzdENoaWxkO2Y7Zj1mLm5leHRTaWJsaW5nKXRoaXMucG9vbERpc3RyaWJ1dGlvbihmLGIpfSxidWlsZFJlbmRlclRyZWU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5jb21wb3NlKGIpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXSxmPWEuYXBwZW5kKGUpO3RoaXMuYnVpbGRSZW5kZXJUcmVlKGYsZSl9aWYodyhiKSl7dmFyIGc9aihiKTtnLmRpcnR5PSExfX0sY29tcG9zZTpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz1hLnNoYWRvd1Jvb3R8fGEsZD1jLmZpcnN0Q2hpbGQ7ZDtkPWQubmV4dFNpYmxpbmcpaWYodihkKSl7dGhpcy5hc3NvY2lhdGVOb2RlKGMpO2Zvcih2YXIgZT1mKGQpLGc9MDtnPGUubGVuZ3RoO2crKyl7dmFyIGg9ZVtnXTt1KGQsaCkmJmIucHVzaChoKX19ZWxzZSBiLnB1c2goZCk7cmV0dXJuIGJ9LGludmFsaWRhdGVBdHRyaWJ1dGVzOmZ1bmN0aW9uKCl7dGhpcy5hdHRyaWJ1dGVzPU9iamVjdC5jcmVhdGUobnVsbCl9LHVwZGF0ZURlcGVuZGVudEF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI9dGhpcy5hdHRyaWJ1dGVzOy9cLlx3Ky8udGVzdChhKSYmKGJbImNsYXNzIl09ITApLC8jXHcrLy50ZXN0KGEpJiYoYi5pZD0hMCksYS5yZXBsYWNlKC9cW1xzKihbXlxzPVx8flxdXSspL2csZnVuY3Rpb24oYSxjKXtiW2NdPSEwfSl9fSxkZXBlbmRzT25BdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc1thXX0sYXNzb2NpYXRlTm9kZTpmdW5jdGlvbihhKXthLmltcGwucG9seW1lclNoYWRvd1JlbmRlcmVyXz10aGlzfX07dmFyIE89L15bKi4jW2EtekEtWl98XS87Qy5wcm90b3R5cGUuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pbXBsLnBvbHltZXJTaGFkb3dSZW5kZXJlcl87cmV0dXJuIGE/KGEuaW52YWxpZGF0ZSgpLCEwKTohMX0sQS5wcm90b3R5cGUuZ2V0RGlzdHJpYnV0ZWROb2Rlcz1CLnByb3RvdHlwZS5nZXREaXN0cmlidXRlZE5vZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIGgoKSxmKHRoaXMpfSx6LnByb3RvdHlwZS5nZXREZXN0aW5hdGlvbkluc2VydGlvblBvaW50cz1mdW5jdGlvbigpe3JldHVybiBoKCkscih0aGlzKXx8W119LEEucHJvdG90eXBlLm5vZGVJc0luc2VydGVkXz1CLnByb3RvdHlwZS5ub2RlSXNJbnNlcnRlZF89ZnVuY3Rpb24oKXt0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpO3ZhciBhLGI9ayh0aGlzKTtiJiYoYT1sKGIpKSx0aGlzLmltcGwucG9seW1lclNoYWRvd1JlbmRlcmVyXz1hLGEmJmEuaW52YWxpZGF0ZSgpfSxhLmdldFJlbmRlcmVyRm9ySG9zdD1qLGEuZ2V0U2hhZG93VHJlZXM9eCxhLnJlbmRlckFsbFBlbmRpbmc9aCxhLmdldERlc3RpbmF0aW9uSW5zZXJ0aW9uUG9pbnRzPXIsYS52aXN1YWw9e2luc2VydEJlZm9yZTpjLHJlbW92ZTpkfX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihiKXtpZih3aW5kb3dbYl0pe2QoIWEud3JhcHBlcnNbYl0pO3ZhciBpPWZ1bmN0aW9uKGEpe2MuY2FsbCh0aGlzLGEpfTtpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxlKGkucHJvdG90eXBlLHtnZXQgZm9ybSgpe3JldHVybiBoKGcodGhpcykuZm9ybSl9fSksZih3aW5kb3dbYl0saSxkb2N1bWVudC5jcmVhdGVFbGVtZW50KGIuc2xpY2UoNCwtNykpKSxhLndyYXBwZXJzW2JdPWl9fXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLmFzc2VydCxlPWEubWl4aW4sZj1hLnJlZ2lzdGVyV3JhcHBlcixnPWEudW53cmFwLGg9YS53cmFwLGk9WyJIVE1MQnV0dG9uRWxlbWVudCIsIkhUTUxGaWVsZFNldEVsZW1lbnQiLCJIVE1MSW5wdXRFbGVtZW50IiwiSFRNTEtleWdlbkVsZW1lbnQiLCJIVE1MTGFiZWxFbGVtZW50IiwiSFRNTExlZ2VuZEVsZW1lbnQiLCJIVE1MT2JqZWN0RWxlbWVudCIsIkhUTUxPdXRwdXRFbGVtZW50IiwiSFRNTFRleHRBcmVhRWxlbWVudCJdO2kuZm9yRWFjaChiKX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt0aGlzLmltcGw9YX17dmFyIGM9YS5yZWdpc3RlcldyYXBwZXIsZD1hLnVud3JhcCxlPWEudW53cmFwSWZOZWVkZWQsZj1hLndyYXA7d2luZG93LlNlbGVjdGlvbn1iLnByb3RvdHlwZT17Z2V0IGFuY2hvck5vZGUoKXtyZXR1cm4gZih0aGlzLmltcGwuYW5jaG9yTm9kZSl9LGdldCBmb2N1c05vZGUoKXtyZXR1cm4gZih0aGlzLmltcGwuZm9jdXNOb2RlKX0sYWRkUmFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLmFkZFJhbmdlKGQoYSkpfSxjb2xsYXBzZTpmdW5jdGlvbihhLGIpe3RoaXMuaW1wbC5jb2xsYXBzZShlKGEpLGIpfSxjb250YWluc05vZGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pbXBsLmNvbnRhaW5zTm9kZShlKGEpLGIpfSxleHRlbmQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmltcGwuZXh0ZW5kKGUoYSksYil9LGdldFJhbmdlQXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGYodGhpcy5pbXBsLmdldFJhbmdlQXQoYSkpfSxyZW1vdmVSYW5nZTpmdW5jdGlvbihhKXt0aGlzLmltcGwucmVtb3ZlUmFuZ2UoZChhKSl9LHNlbGVjdEFsbENoaWxkcmVuOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZWxlY3RBbGxDaGlsZHJlbihlKGEpKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsLnRvU3RyaW5nKCl9fSxjKHdpbmRvdy5TZWxlY3Rpb24sYix3aW5kb3cuZ2V0U2VsZWN0aW9uKCkpLGEud3JhcHBlcnMuU2VsZWN0aW9uPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7ay5jYWxsKHRoaXMsYSksdGhpcy50cmVlU2NvcGVfPW5ldyBwKHRoaXMsbnVsbCl9ZnVuY3Rpb24gYyhhKXt2YXIgYz1kb2N1bWVudFthXTtiLnByb3RvdHlwZVthXT1mdW5jdGlvbigpe3JldHVybiBBKGMuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBkKGEsYil7RC5jYWxsKGIuaW1wbCx6KGEpKSxlKGEsYil9ZnVuY3Rpb24gZShhLGIpe2Euc2hhZG93Um9vdCYmYi5hZG9wdE5vZGUoYS5zaGFkb3dSb290KSxhIGluc3RhbmNlb2YgbyYmZihhLGIpO2Zvcih2YXIgYz1hLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpZShjLGIpfWZ1bmN0aW9uIGYoYSxiKXt2YXIgYz1hLm9sZGVyU2hhZG93Um9vdDtjJiZiLmFkb3B0Tm9kZShjKX1mdW5jdGlvbiBnKGEpe3RoaXMuaW1wbD1hfWZ1bmN0aW9uIGgoYSxiKXt2YXIgYz1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbltiXTthLnByb3RvdHlwZVtiXT1mdW5jdGlvbigpe3JldHVybiBBKGMuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBpKGEsYil7dmFyIGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb25bYl07YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXtyZXR1cm4gYy5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX19dmFyIGo9YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLGs9YS53cmFwcGVycy5Ob2RlLGw9YS5QYXJlbnROb2RlSW50ZXJmYWNlLG09YS53cmFwcGVycy5TZWxlY3Rpb24sbj1hLlNlbGVjdG9yc0ludGVyZmFjZSxvPWEud3JhcHBlcnMuU2hhZG93Um9vdCxwPWEuVHJlZVNjb3BlLHE9YS5jbG9uZU5vZGUscj1hLmRlZmluZVdyYXBHZXR0ZXIscz1hLmVsZW1lbnRGcm9tUG9pbnQsdD1hLmZvcndhcmRNZXRob2RzVG9XcmFwcGVyLHU9YS5tYXRjaGVzTmFtZXMsdj1hLm1peGluLHc9YS5yZWdpc3RlcldyYXBwZXIseD1hLnJlbmRlckFsbFBlbmRpbmcseT1hLnJld3JhcCx6PWEudW53cmFwLEE9YS53cmFwLEI9YS53cmFwRXZlbnRUYXJnZXRNZXRob2RzLEM9KGEud3JhcE5vZGVMaXN0LG5ldyBXZWFrTWFwKTtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGsucHJvdG90eXBlKSxyKGIsImRvY3VtZW50RWxlbWVudCIpLHIoYiwiYm9keSIpLHIoYiwiaGVhZCIpLFsiY3JlYXRlQ29tbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJjcmVhdGVFbGVtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiY3JlYXRlRXZlbnQiLCJjcmVhdGVFdmVudE5TIiwiY3JlYXRlUmFuZ2UiLCJjcmVhdGVUZXh0Tm9kZSIsImdldEVsZW1lbnRCeUlkIl0uZm9yRWFjaChjKTt2YXIgRD1kb2N1bWVudC5hZG9wdE5vZGUsRT1kb2N1bWVudC5nZXRTZWxlY3Rpb247aWYodihiLnByb3RvdHlwZSx7YWRvcHROb2RlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKSxkKGEsdGhpcyksYX0sZWxlbWVudEZyb21Qb2ludDpmdW5jdGlvbihhLGIpe3JldHVybiBzKHRoaXMsdGhpcyxhLGIpfSxpbXBvcnROb2RlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHEoYSxiLHRoaXMuaW1wbCl9LGdldFNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB4KCksbmV3IG0oRS5jYWxsKHoodGhpcykpKX19KSxkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQpe3ZhciBGPWRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudDtiLnByb3RvdHlwZS5yZWdpc3RlckVsZW1lbnQ9ZnVuY3Rpb24oYixjKXtmdW5jdGlvbiBkKGEpe3JldHVybiBhP3ZvaWQodGhpcy5pbXBsPWEpOmY/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChmLGIpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYil9dmFyIGUsZjtpZih2b2lkIDAhPT1jJiYoZT1jLnByb3RvdHlwZSxmPWMuZXh0ZW5kcyksZXx8KGU9T2JqZWN0LmNyZWF0ZShIVE1MRWxlbWVudC5wcm90b3R5cGUpKSxhLm5hdGl2ZVByb3RvdHlwZVRhYmxlLmdldChlKSl0aHJvdyBuZXcgRXJyb3IoIk5vdFN1cHBvcnRlZEVycm9yIik7Zm9yKHZhciBnLGg9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLGk9W107aCYmIShnPWEubmF0aXZlUHJvdG90eXBlVGFibGUuZ2V0KGgpKTspaS5wdXNoKGgpLGg9T2JqZWN0LmdldFByb3RvdHlwZU9mKGgpO2lmKCFnKXRocm93IG5ldyBFcnJvcigiTm90U3VwcG9ydGVkRXJyb3IiKTtmb3IodmFyIGo9T2JqZWN0LmNyZWF0ZShnKSxrPWkubGVuZ3RoLTE7az49MDtrLS0paj1PYmplY3QuY3JlYXRlKGopO1siY3JlYXRlZENhbGxiYWNrIiwiYXR0YWNoZWRDYWxsYmFjayIsImRldGFjaGVkQ2FsbGJhY2siLCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2siXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWVbYV07YiYmKGpbYV09ZnVuY3Rpb24oKXtBKHRoaXMpaW5zdGFuY2VvZiBkfHx5KHRoaXMpLGIuYXBwbHkoQSh0aGlzKSxhcmd1bWVudHMpfSl9KTt2YXIgbD17cHJvdG90eXBlOmp9O2YmJihsLmV4dGVuZHM9ZiksZC5wcm90b3R5cGU9ZSxkLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1kLGEuY29uc3RydWN0b3JUYWJsZS5zZXQoaixkKSxhLm5hdGl2ZVByb3RvdHlwZVRhYmxlLnNldChlLGopO0YuY2FsbCh6KHRoaXMpLGIsbCk7cmV0dXJuIGR9LHQoW3dpbmRvdy5IVE1MRG9jdW1lbnR8fHdpbmRvdy5Eb2N1bWVudF0sWyJyZWdpc3RlckVsZW1lbnQiXSl9dChbd2luZG93LkhUTUxCb2R5RWxlbWVudCx3aW5kb3cuSFRNTERvY3VtZW50fHx3aW5kb3cuRG9jdW1lbnQsd2luZG93LkhUTUxIZWFkRWxlbWVudCx3aW5kb3cuSFRNTEh0bWxFbGVtZW50XSxbImFwcGVuZENoaWxkIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJjb250YWlucyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lTlMiLCJpbnNlcnRCZWZvcmUiLCJxdWVyeVNlbGVjdG9yIiwicXVlcnlTZWxlY3RvckFsbCIsInJlbW92ZUNoaWxkIiwicmVwbGFjZUNoaWxkIl0uY29uY2F0KHUpKSx0KFt3aW5kb3cuSFRNTERvY3VtZW50fHx3aW5kb3cuRG9jdW1lbnRdLFsiYWRvcHROb2RlIiwiaW1wb3J0Tm9kZSIsImNvbnRhaW5zIiwiY3JlYXRlQ29tbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJjcmVhdGVFbGVtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiY3JlYXRlRXZlbnQiLCJjcmVhdGVFdmVudE5TIiwiY3JlYXRlUmFuZ2UiLCJjcmVhdGVUZXh0Tm9kZSIsImVsZW1lbnRGcm9tUG9pbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldFNlbGVjdGlvbiJdKSx2KGIucHJvdG90eXBlLGopLHYoYi5wcm90b3R5cGUsbCksdihiLnByb3RvdHlwZSxuKSx2KGIucHJvdG90eXBlLHtnZXQgaW1wbGVtZW50YXRpb24oKXt2YXIgYT1DLmdldCh0aGlzKTtyZXR1cm4gYT9hOihhPW5ldyBnKHoodGhpcykuaW1wbGVtZW50YXRpb24pLEMuc2V0KHRoaXMsYSksYSl9LGdldCBkZWZhdWx0Vmlldygpe3JldHVybiBBKHoodGhpcykuZGVmYXVsdFZpZXcpfX0pLHcod2luZG93LkRvY3VtZW50LGIsZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSksd2luZG93LkhUTUxEb2N1bWVudCYmdyh3aW5kb3cuSFRNTERvY3VtZW50LGIpLEIoW3dpbmRvdy5IVE1MQm9keUVsZW1lbnQsd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50LHdpbmRvdy5IVE1MSGVhZEVsZW1lbnRdKSxoKGcsImNyZWF0ZURvY3VtZW50VHlwZSIpLGgoZywiY3JlYXRlRG9jdW1lbnQiKSxoKGcsImNyZWF0ZUhUTUxEb2N1bWVudCIpLGkoZywiaGFzRmVhdHVyZSIpLHcod2luZG93LkRPTUltcGxlbWVudGF0aW9uLGcpLHQoW3dpbmRvdy5ET01JbXBsZW1lbnRhdGlvbl0sWyJjcmVhdGVEb2N1bWVudFR5cGUiLCJjcmVhdGVEb2N1bWVudCIsImNyZWF0ZUhUTUxEb2N1bWVudCIsImhhc0ZlYXR1cmUiXSksYS5hZG9wdE5vZGVOb1JlbW92ZT1kLGEud3JhcHBlcnMuRE9NSW1wbGVtZW50YXRpb249ZyxhLndyYXBwZXJzLkRvY3VtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5FdmVudFRhcmdldCxkPWEud3JhcHBlcnMuU2VsZWN0aW9uLGU9YS5taXhpbixmPWEucmVnaXN0ZXJXcmFwcGVyLGc9YS5yZW5kZXJBbGxQZW5kaW5nLGg9YS51bndyYXAsaT1hLnVud3JhcElmTmVlZGVkLGo9YS53cmFwLGs9d2luZG93LldpbmRvdyxsPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlLG09d2luZG93LmdldFNlbGVjdGlvbjtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxrLnByb3RvdHlwZS5nZXRDb21wdXRlZFN0eWxlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGoodGhpc3x8d2luZG93KS5nZXRDb21wdXRlZFN0eWxlKGkoYSksYil9LGsucHJvdG90eXBlLmdldFNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiBqKHRoaXN8fHdpbmRvdykuZ2V0U2VsZWN0aW9uKCl9LGRlbGV0ZSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSxkZWxldGUgd2luZG93LmdldFNlbGVjdGlvbixbImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzcGF0Y2hFdmVudCJdLmZvckVhY2goZnVuY3Rpb24oYSl7ay5wcm90b3R5cGVbYV09ZnVuY3Rpb24oKXt2YXIgYj1qKHRoaXN8fHdpbmRvdyk7cmV0dXJuIGJbYV0uYXBwbHkoYixhcmd1bWVudHMpfSxkZWxldGUgd2luZG93W2FdfSksZShiLnByb3RvdHlwZSx7Z2V0Q29tcHV0ZWRTdHlsZTpmdW5jdGlvbihhLGIpe3JldHVybiBnKCksbC5jYWxsKGgodGhpcyksaShhKSxiKX0sZ2V0U2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGcoKSxuZXcgZChtLmNhbGwoaCh0aGlzKSkpfSxnZXQgZG9jdW1lbnQoKXtyZXR1cm4gaihoKHRoaXMpLmRvY3VtZW50KX19KSxmKGssYix3aW5kb3cpLGEud3JhcHBlcnMuV2luZG93PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO3ZhciBiPWEudW53cmFwLGM9d2luZG93LkRhdGFUcmFuc2Zlcnx8d2luZG93LkNsaXBib2FyZCxkPWMucHJvdG90eXBlLnNldERyYWdJbWFnZTtjLnByb3RvdHlwZS5zZXREcmFnSW1hZ2U9ZnVuY3Rpb24oYSxjLGUpe2QuY2FsbCh0aGlzLGIoYSksYyxlKX19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dmFyIGI9Y1thXSxkPXdpbmRvd1tiXTtpZihkKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEpLGY9ZS5jb25zdHJ1Y3Rvcjt3aW5kb3dbYl09Zn19dmFyIGM9KGEuaXNXcmFwcGVyRm9yLHthOiJIVE1MQW5jaG9yRWxlbWVudCIsYXJlYToiSFRNTEFyZWFFbGVtZW50IixhdWRpbzoiSFRNTEF1ZGlvRWxlbWVudCIsYmFzZToiSFRNTEJhc2VFbGVtZW50Iixib2R5OiJIVE1MQm9keUVsZW1lbnQiLGJyOiJIVE1MQlJFbGVtZW50IixidXR0b246IkhUTUxCdXR0b25FbGVtZW50IixjYW52YXM6IkhUTUxDYW52YXNFbGVtZW50IixjYXB0aW9uOiJIVE1MVGFibGVDYXB0aW9uRWxlbWVudCIsY29sOiJIVE1MVGFibGVDb2xFbGVtZW50Iixjb250ZW50OiJIVE1MQ29udGVudEVsZW1lbnQiLGRhdGE6IkhUTUxEYXRhRWxlbWVudCIsZGF0YWxpc3Q6IkhUTUxEYXRhTGlzdEVsZW1lbnQiLGRlbDoiSFRNTE1vZEVsZW1lbnQiLGRpcjoiSFRNTERpcmVjdG9yeUVsZW1lbnQiLGRpdjoiSFRNTERpdkVsZW1lbnQiLGRsOiJIVE1MRExpc3RFbGVtZW50IixlbWJlZDoiSFRNTEVtYmVkRWxlbWVudCIsZmllbGRzZXQ6IkhUTUxGaWVsZFNldEVsZW1lbnQiLGZvbnQ6IkhUTUxGb250RWxlbWVudCIsZm9ybToiSFRNTEZvcm1FbGVtZW50IixmcmFtZToiSFRNTEZyYW1lRWxlbWVudCIsZnJhbWVzZXQ6IkhUTUxGcmFtZVNldEVsZW1lbnQiLGgxOiJIVE1MSGVhZGluZ0VsZW1lbnQiLGhlYWQ6IkhUTUxIZWFkRWxlbWVudCIsaHI6IkhUTUxIUkVsZW1lbnQiLGh0bWw6IkhUTUxIdG1sRWxlbWVudCIsaWZyYW1lOiJIVE1MSUZyYW1lRWxlbWVudCIsaW1nOiJIVE1MSW1hZ2VFbGVtZW50IixpbnB1dDoiSFRNTElucHV0RWxlbWVudCIsa2V5Z2VuOiJIVE1MS2V5Z2VuRWxlbWVudCIsbGFiZWw6IkhUTUxMYWJlbEVsZW1lbnQiLGxlZ2VuZDoiSFRNTExlZ2VuZEVsZW1lbnQiLGxpOiJIVE1MTElFbGVtZW50IixsaW5rOiJIVE1MTGlua0VsZW1lbnQiLG1hcDoiSFRNTE1hcEVsZW1lbnQiLG1hcnF1ZWU6IkhUTUxNYXJxdWVlRWxlbWVudCIsbWVudToiSFRNTE1lbnVFbGVtZW50IixtZW51aXRlbToiSFRNTE1lbnVJdGVtRWxlbWVudCIsbWV0YToiSFRNTE1ldGFFbGVtZW50IixtZXRlcjoiSFRNTE1ldGVyRWxlbWVudCIsb2JqZWN0OiJIVE1MT2JqZWN0RWxlbWVudCIsb2w6IkhUTUxPTGlzdEVsZW1lbnQiLG9wdGdyb3VwOiJIVE1MT3B0R3JvdXBFbGVtZW50IixvcHRpb246IkhUTUxPcHRpb25FbGVtZW50IixvdXRwdXQ6IkhUTUxPdXRwdXRFbGVtZW50IixwOiJIVE1MUGFyYWdyYXBoRWxlbWVudCIscGFyYW06IkhUTUxQYXJhbUVsZW1lbnQiLHByZToiSFRNTFByZUVsZW1lbnQiLHByb2dyZXNzOiJIVE1MUHJvZ3Jlc3NFbGVtZW50IixxOiJIVE1MUXVvdGVFbGVtZW50IixzY3JpcHQ6IkhUTUxTY3JpcHRFbGVtZW50IixzZWxlY3Q6IkhUTUxTZWxlY3RFbGVtZW50IixzaGFkb3c6IkhUTUxTaGFkb3dFbGVtZW50Iixzb3VyY2U6IkhUTUxTb3VyY2VFbGVtZW50IixzcGFuOiJIVE1MU3BhbkVsZW1lbnQiLHN0eWxlOiJIVE1MU3R5bGVFbGVtZW50Iix0YWJsZToiSFRNTFRhYmxlRWxlbWVudCIsdGJvZHk6IkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50Iix0ZW1wbGF0ZToiSFRNTFRlbXBsYXRlRWxlbWVudCIsdGV4dGFyZWE6IkhUTUxUZXh0QXJlYUVsZW1lbnQiLHRoZWFkOiJIVE1MVGFibGVTZWN0aW9uRWxlbWVudCIsdGltZToiSFRNTFRpbWVFbGVtZW50Iix0aXRsZToiSFRNTFRpdGxlRWxlbWVudCIsdHI6IkhUTUxUYWJsZVJvd0VsZW1lbnQiLHRyYWNrOiJIVE1MVHJhY2tFbGVtZW50Iix1bDoiSFRNTFVMaXN0RWxlbWVudCIsdmlkZW86IkhUTUxWaWRlb0VsZW1lbnQifSk7T2JqZWN0LmtleXMoYykuZm9yRWFjaChiKSxPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhLndyYXBwZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3dpbmRvd1tiXT1hLndyYXBwZXJzW2JdfSl9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oKXt3aW5kb3cud3JhcD1TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQsd2luZG93LnVud3JhcD1TaGFkb3dET01Qb2x5ZmlsbC51bndyYXBJZk5lZWRlZCxPYmplY3QuZGVmaW5lUHJvcGVydHkoRWxlbWVudC5wcm90b3R5cGUsIndlYmtpdFNoYWRvd1Jvb3QiLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRWxlbWVudC5wcm90b3R5cGUsInNoYWRvd1Jvb3QiKSk7dmFyIGE9RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdDtFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290PWZ1bmN0aW9uKCl7dmFyIGI9YS5jYWxsKHRoaXMpO3JldHVybiBDdXN0b21FbGVtZW50cy53YXRjaFNoYWRvdyh0aGlzKSxifSxFbGVtZW50LnByb3RvdHlwZS53ZWJraXRDcmVhdGVTaGFkb3dSb290PUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3R9KCksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIpe3ZhciBjPSIiO3JldHVybiBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsZnVuY3Rpb24oYSl7Yys9YS50ZXh0Q29udGVudCsiXG5cbiJ9KSxifHwoYz1jLnJlcGxhY2UobCwiIikpLGN9ZnVuY3Rpb24gYyhhKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO3JldHVybiBiLnRleHRDb250ZW50PWEsYn1mdW5jdGlvbiBkKGEpe3ZhciBiPWMoYSk7ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChiKTt2YXIgZD1bXTtpZihiLnNoZWV0KXRyeXtkPWIuc2hlZXQuY3NzUnVsZXN9Y2F0Y2goZSl7fWVsc2UgY29uc29sZS53YXJuKCJzaGVldCBub3QgZm91bmQiLGIpO3JldHVybiBiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksZH1mdW5jdGlvbiBlKCl7di5pbml0aWFsaXplZD0hMCxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHYpO3ZhciBhPXYuY29udGVudERvY3VtZW50LGI9YS5jcmVhdGVFbGVtZW50KCJiYXNlIik7Yi5ocmVmPWRvY3VtZW50LmJhc2VVUkksYS5oZWFkLmFwcGVuZENoaWxkKGIpfWZ1bmN0aW9uIGYoYSl7di5pbml0aWFsaXplZHx8ZSgpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodiksYSh2LmNvbnRlbnREb2N1bWVudCksZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh2KX1mdW5jdGlvbiBnKGEsYil7aWYoYil7dmFyIGU7aWYoYS5tYXRjaCgiQGltcG9ydCIpJiZ4KXt2YXIgZz1jKGEpO2YoZnVuY3Rpb24oYSl7YS5oZWFkLmFwcGVuZENoaWxkKGcuaW1wbCksZT1nLnNoZWV0LmNzc1J1bGVzLGIoZSl9KX1lbHNlIGU9ZChhKSxiKGUpfX1mdW5jdGlvbiBoKGEpe2EmJmooKS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhKSl9ZnVuY3Rpb24gaShhLGIpe3ZhciBkPWMoYSk7ZC5zZXRBdHRyaWJ1dGUoYiwiIiksZC5zZXRBdHRyaWJ1dGUoeiwiIiksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChkKX1mdW5jdGlvbiBqKCl7cmV0dXJuIHd8fCh3PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksdy5zZXRBdHRyaWJ1dGUoeiwiIiksd1t6XT0hMCksd312YXIgaz17c3RyaWN0U3R5bGluZzohMSxyZWdpc3RyeTp7fSxzaGltU3R5bGluZzpmdW5jdGlvbihhLGMsZCl7dmFyIGU9dGhpcy5wcmVwYXJlUm9vdChhLGMsZCksZj10aGlzLmlzVHlwZUV4dGVuc2lvbihkKSxnPXRoaXMubWFrZVNjb3BlU2VsZWN0b3IoYyxmKSxoPWIoZSwhMCk7aD10aGlzLnNjb3BlQ3NzVGV4dChoLGcpLGEmJihhLnNoaW1tZWRTdHlsZT1oKSx0aGlzLmFkZENzc1RvRG9jdW1lbnQoaCxjKX0sc2hpbVN0eWxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuc2hpbUNzc1RleHQoYS50ZXh0Q29udGVudCxiKX0sc2hpbUNzc1RleHQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT10aGlzLmluc2VydERpcmVjdGl2ZXMoYSksdGhpcy5zY29wZUNzc1RleHQoYSxiKX0sbWFrZVNjb3BlU2VsZWN0b3I6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT9iPyJbaXM9IithKyJdIjphOiIifSxpc1R5cGVFeHRlbnNpb246ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmEuaW5kZXhPZigiLSIpPDB9LHByZXBhcmVSb290OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLnJlZ2lzdGVyUm9vdChhLGIsYyk7cmV0dXJuIHRoaXMucmVwbGFjZVRleHRJblN0eWxlcyhkLnJvb3RTdHlsZXMsdGhpcy5pbnNlcnREaXJlY3RpdmVzKSx0aGlzLnJlbW92ZVN0eWxlcyhhLGQucm9vdFN0eWxlcyksdGhpcy5zdHJpY3RTdHlsaW5nJiZ0aGlzLmFwcGx5U2NvcGVUb0NvbnRlbnQoYSxiKSxkLnNjb3BlU3R5bGVzfSxyZW1vdmVTdHlsZXM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wLGU9Yi5sZW5ndGg7ZT5kJiYoYz1iW2RdKTtkKyspYy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGMpfSxyZWdpc3RlclJvb3Q6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMucmVnaXN0cnlbYl09e3Jvb3Q6YSxuYW1lOmIsZXh0ZW5kc05hbWU6Y30sZT10aGlzLmZpbmRTdHlsZXMoYSk7ZC5yb290U3R5bGVzPWUsZC5zY29wZVN0eWxlcz1kLnJvb3RTdHlsZXM7dmFyIGY9dGhpcy5yZWdpc3RyeVtkLmV4dGVuZHNOYW1lXTtyZXR1cm4gZiYmKGQuc2NvcGVTdHlsZXM9Zi5zY29wZVN0eWxlcy5jb25jYXQoZC5zY29wZVN0eWxlcykpLGR9LGZpbmRTdHlsZXM6ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuW107dmFyIGI9YS5xdWVyeVNlbGVjdG9yQWxsKCJzdHlsZSIpO3JldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYixmdW5jdGlvbihhKXtyZXR1cm4hYS5oYXNBdHRyaWJ1dGUoQSl9KX0sYXBwbHlTY29wZVRvQ29udGVudDpmdW5jdGlvbihhLGIpe2EmJihBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEucXVlcnlTZWxlY3RvckFsbCgiKiIpLGZ1bmN0aW9uKGEpe2Euc2V0QXR0cmlidXRlKGIsIiIpfSksQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLnF1ZXJ5U2VsZWN0b3JBbGwoInRlbXBsYXRlIiksZnVuY3Rpb24oYSl7dGhpcy5hcHBseVNjb3BlVG9Db250ZW50KGEuY29udGVudCxiKX0sdGhpcykpfSxpbnNlcnREaXJlY3RpdmVzOmZ1bmN0aW9uKGEpe3JldHVybiBhPXRoaXMuaW5zZXJ0UG9seWZpbGxEaXJlY3RpdmVzSW5Dc3NUZXh0KGEpLHRoaXMuaW5zZXJ0UG9seWZpbGxSdWxlc0luQ3NzVGV4dChhKX0saW5zZXJ0UG9seWZpbGxEaXJlY3RpdmVzSW5Dc3NUZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhPWEucmVwbGFjZShtLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIuc2xpY2UoMCwtMikrInsifSksYS5yZXBsYWNlKG4sZnVuY3Rpb24oYSxiKXtyZXR1cm4gYisiIHsifSl9LGluc2VydFBvbHlmaWxsUnVsZXNJbkNzc1RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9YS5yZXBsYWNlKG8sZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5zbGljZSgwLC0xKX0pLGEucmVwbGFjZShwLGZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWEucmVwbGFjZShiLCIiKS5yZXBsYWNlKGMsIiIpO3JldHVybiBkK2V9KX0sc2NvcGVDc3NUZXh0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5leHRyYWN0VW5zY29wZWRSdWxlc0Zyb21Dc3NUZXh0KGEpO2lmKGE9dGhpcy5pbnNlcnRQb2x5ZmlsbEhvc3RJbkNzc1RleHQoYSksYT10aGlzLmNvbnZlcnRDb2xvbkhvc3QoYSksYT10aGlzLmNvbnZlcnRDb2xvbkhvc3RDb250ZXh0KGEpLGE9dGhpcy5jb252ZXJ0Q29tYmluYXRvcnMoYSksYil7dmFyIGEsZD10aGlzO2coYSxmdW5jdGlvbihjKXthPWQuc2NvcGVSdWxlcyhjLGIpfSl9cmV0dXJuIGE9YSsiXG4iK2MsYS50cmltKCl9LGV4dHJhY3RVbnNjb3BlZFJ1bGVzRnJvbUNzc1RleHQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9IiI7Yj1xLmV4ZWMoYSk7KWMrPWJbMV0uc2xpY2UoMCwtMSkrIlxuXG4iO2Zvcig7Yj1yLmV4ZWMoYSk7KWMrPWJbMF0ucmVwbGFjZShiWzJdLCIiKS5yZXBsYWNlKGJbMV0sYlszXSkrIlxuXG4iO3JldHVybiBjfSxjb252ZXJ0Q29sb25Ib3N0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbnZlcnRDb2xvblJ1bGUoYSxjc3NDb2xvbkhvc3RSZSx0aGlzLmNvbG9uSG9zdFBhcnRSZXBsYWNlcil9LGNvbnZlcnRDb2xvbkhvc3RDb250ZXh0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbnZlcnRDb2xvblJ1bGUoYSxjc3NDb2xvbkhvc3RDb250ZXh0UmUsdGhpcy5jb2xvbkhvc3RDb250ZXh0UGFydFJlcGxhY2VyKX0sY29udmVydENvbG9uUnVsZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGEucmVwbGFjZShiLGZ1bmN0aW9uKGEsYixkLGUpe2lmKGI9cG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yLGQpe2Zvcih2YXIgZixnPWQuc3BsaXQoIiwiKSxoPVtdLGk9MCxqPWcubGVuZ3RoO2o+aSYmKGY9Z1tpXSk7aSsrKWY9Zi50cmltKCksaC5wdXNoKGMoYixmLGUpKTtyZXR1cm4gaC5qb2luKCIsIil9cmV0dXJuIGIrZX0pfSxjb2xvbkhvc3RDb250ZXh0UGFydFJlcGxhY2VyOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYi5tYXRjaChzKT90aGlzLmNvbG9uSG9zdFBhcnRSZXBsYWNlcihhLGIsYyk6YStiK2MrIiwgIitiKyIgIithK2N9LGNvbG9uSG9zdFBhcnRSZXBsYWNlcjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGErYi5yZXBsYWNlKHMsIiIpK2N9LGNvbnZlcnRDb21iaW5hdG9yczpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGNvbWJpbmF0b3JzUmUubGVuZ3RoO2IrKylhPWEucmVwbGFjZShjb21iaW5hdG9yc1JlW2JdLCIgIik7cmV0dXJuIGF9LHNjb3BlUnVsZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz0iIjtyZXR1cm4gYSYmQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2Euc2VsZWN0b3JUZXh0JiZhLnN0eWxlJiZhLnN0eWxlLmNzc1RleHQ/KGMrPXRoaXMuc2NvcGVTZWxlY3RvcihhLnNlbGVjdG9yVGV4dCxiLHRoaXMuc3RyaWN0U3R5bGluZykrIiB7XG4JIixjKz10aGlzLnByb3BlcnRpZXNGcm9tUnVsZShhKSsiXG59XG5cbiIpOmEudHlwZT09PUNTU1J1bGUuTUVESUFfUlVMRT8oYys9IkBtZWRpYSAiK2EubWVkaWEubWVkaWFUZXh0KyIge1xuIixjKz10aGlzLnNjb3BlUnVsZXMoYS5jc3NSdWxlcyxiKSxjKz0iXG59XG5cbiIpOmEuY3NzVGV4dCYmKGMrPWEuY3NzVGV4dCsiXG5cbiIpfSx0aGlzKSxjfSxzY29wZVNlbGVjdG9yOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPWEuc3BsaXQoIiwiKTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2E9YS50cmltKCksdGhpcy5zZWxlY3Rvck5lZWRzU2NvcGluZyhhLGIpJiYoYT1jJiYhYS5tYXRjaChwb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3IpP3RoaXMuYXBwbHlTdHJpY3RTZWxlY3RvclNjb3BlKGEsYik6dGhpcy5hcHBseVNlbGVjdG9yU2NvcGUoYSxiKSksZC5wdXNoKGEpfSx0aGlzKSxkLmpvaW4oIiwgIil9LHNlbGVjdG9yTmVlZHNTY29waW5nOmZ1bmN0aW9uKGEsYil7aWYoQXJyYXkuaXNBcnJheShiKSlyZXR1cm4hMDt2YXIgYz10aGlzLm1ha2VTY29wZU1hdGNoZXIoYik7cmV0dXJuIWEubWF0Y2goYyl9LG1ha2VTY29wZU1hdGNoZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9YS5yZXBsYWNlKC9cWy9nLCJcXFsiKS5yZXBsYWNlKC9cWy9nLCJcXF0iKSxuZXcgUmVnRXhwKCJeKCIrYSsiKSIrc2VsZWN0b3JSZVN1ZmZpeCwibSIpfSxhcHBseVNlbGVjdG9yU2NvcGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gQXJyYXkuaXNBcnJheShiKT90aGlzLmFwcGx5U2VsZWN0b3JTY29wZUxpc3QoYSxiKTp0aGlzLmFwcGx5U2ltcGxlU2VsZWN0b3JTY29wZShhLGIpfSxhcHBseVNlbGVjdG9yU2NvcGVMaXN0OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9W10sZT0wO2M9YltlXTtlKyspZC5wdXNoKHRoaXMuYXBwbHlTaW1wbGVTZWxlY3RvclNjb3BlKGEsYykpO3JldHVybiBkLmpvaW4oIiwgIil9LGFwcGx5U2ltcGxlU2VsZWN0b3JTY29wZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLm1hdGNoKHBvbHlmaWxsSG9zdFJlKT8oYT1hLnJlcGxhY2UocG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yLGIpLGEucmVwbGFjZShwb2x5ZmlsbEhvc3RSZSxiKyIgIikpOmIrIiAiK2F9LGFwcGx5U3RyaWN0U2VsZWN0b3JTY29wZTpmdW5jdGlvbihhLGIpe2I9Yi5yZXBsYWNlKC9cW2lzPShbXlxdXSopXF0vZywiJDEiKTt2YXIgYz1bIiAiLCI+IiwiKyIsIn4iXSxkPWEsZT0iWyIrYisiXSI7cmV0dXJuIGMuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1kLnNwbGl0KGEpO2Q9Yi5tYXAoZnVuY3Rpb24oYSl7dmFyIGI9YS50cmltKCkucmVwbGFjZShwb2x5ZmlsbEhvc3RSZSwiIik7cmV0dXJuIGImJmMuaW5kZXhPZihiKTwwJiZiLmluZGV4T2YoZSk8MCYmKGE9Yi5yZXBsYWNlKC8oW146XSopKDoqKSguKikvLCIkMSIrZSsiJDIkMyIpKSxhfSkuam9pbihhKX0pLGR9LGluc2VydFBvbHlmaWxsSG9zdEluQ3NzVGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKGNvbG9uSG9zdENvbnRleHRSZSx0KS5yZXBsYWNlKGNvbG9uSG9zdFJlLHMpfSxwcm9wZXJ0aWVzRnJvbVJ1bGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5zdHlsZS5jc3NUZXh0O2Euc3R5bGUuY29udGVudCYmIWEuc3R5bGUuY29udGVudC5tYXRjaCgvWyciXSt8YXR0ci8pJiYoYj1iLnJlcGxhY2UoL2NvbnRlbnQ6W147XSo7L2csImNvbnRlbnQ6ICciK2Euc3R5bGUuY29udGVudCsiJzsiKSk7dmFyIGM9YS5zdHlsZTtmb3IodmFyIGQgaW4gYykiaW5pdGlhbCI9PT1jW2RdJiYoYis9ZCsiOiBpbml0aWFsOyAiKTtyZXR1cm4gYn0scmVwbGFjZVRleHRJblN0eWxlczpmdW5jdGlvbihhLGIpe2EmJmImJihhIGluc3RhbmNlb2YgQXJyYXl8fChhPVthXSksQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2EudGV4dENvbnRlbnQ9Yi5jYWxsKHRoaXMsYS50ZXh0Q29udGVudCl9LHRoaXMpKX0sYWRkQ3NzVG9Eb2N1bWVudDpmdW5jdGlvbihhLGIpe2EubWF0Y2goIkBpbXBvcnQiKT9pKGEsYik6aChhKX19LGw9L1wvXCpbXipdKlwqKyhbXi8qXVteKl0qXCorKSpcLy9naW0sbT0vXC9cKlxzKkBwb2x5ZmlsbCAoW14qXSpcKisoW14vKl1bXipdKlwqKykqXC8pKFtee10qPyl7L2dpbSxuPS9wb2x5ZmlsbC1uZXh0LXNlbGVjdG9yW159XSpjb250ZW50XDpbXHNdKicoW14nXSopJ1tefV0qfShbXntdKj8pey9naW0sbz0vXC9cKlxzQHBvbHlmaWxsLXJ1bGUoW14qXSpcKisoW14vKl1bXipdKlwqKykqKVwvL2dpbSxwPS8ocG9seWZpbGwtcnVsZSlbXn1dKihjb250ZW50XDpbXHNdKicoW14nXSopJ1teO10qOylbXn1dKn0vZ2ltLHE9L1wvXCpcc0Bwb2x5ZmlsbC11bnNjb3BlZC1ydWxlKFteKl0qXCorKFteLypdW14qXSpcKispKilcLy9naW0scj0vKHBvbHlmaWxsLXVuc2NvcGVkLXJ1bGUpW159XSooY29udGVudFw6W1xzXSonKFteJ10qKSdbXjtdKjspW159XSp9L2dpbSxzPSItc2hhZG93Y3NzaG9zdCIsdD0iLXNoYWRvd2Nzc2NvbnRleHQiLHU9IikoPzpcXCgoKD86XFwoW14pKF0qXFwpfFteKShdKikrPylcXCkpPyhbXix7XSopIjtjc3NDb2xvbkhvc3RSZT1uZXcgUmVnRXhwKCIoIitzK3UsImdpbSIpLGNzc0NvbG9uSG9zdENvbnRleHRSZT1uZXcgUmVnRXhwKCIoIit0K3UsImdpbSIpLHNlbGVjdG9yUmVTdWZmaXg9IihbPlxcc34rWy4sezpdW1xcc1xcU10qKT8kIixjb2xvbkhvc3RSZT0vXDpob3N0L2dpbSxjb2xvbkhvc3RDb250ZXh0UmU9L1w6aG9zdC1jb250ZXh0L2dpbSxwb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3I9cysiLW5vLWNvbWJpbmF0b3IiLHBvbHlmaWxsSG9zdFJlPW5ldyBSZWdFeHAocywiZ2ltIikscG9seWZpbGxIb3N0Q29udGV4dFJlPW5ldyBSZWdFeHAodCwiZ2ltIiksY29tYmluYXRvcnNSZT1bL1xeXF4vZywvXF4vZywvXC9zaGFkb3dcLy9nLC9cL3NoYWRvdy1kZWVwXC8vZywvOjpzaGFkb3cvZywvXC9kZWVwXC8vZ107dmFyIHY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7di5zdHlsZS5kaXNwbGF5PSJub25lIjt2YXIgdyx4PW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goIkNocm9tZSIpLHk9InNoaW0tc2hhZG93ZG9tIix6PSJzaGltLXNoYWRvd2RvbS1jc3MiLEE9Im5vLXNoaW0iO2lmKHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCl7aCgic3R5bGUgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH1cbiIpO3ZhciBCPXdyYXAoZG9jdW1lbnQpLEM9Qi5xdWVyeVNlbGVjdG9yKCJoZWFkIik7Qy5pbnNlcnRCZWZvcmUoaigpLEMuY2hpbGROb2Rlc1swXSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXt2YXIgYj1hLnVybFJlc29sdmVyO2lmKHdpbmRvdy5IVE1MSW1wb3J0cyYmIUhUTUxJbXBvcnRzLnVzZU5hdGl2ZSl7dmFyIGM9ImxpbmtbcmVsPXN0eWxlc2hlZXRdWyIreSsiXSIsZD0ic3R5bGVbIit5KyJdIjtIVE1MSW1wb3J0cy5pbXBvcnRlci5kb2N1bWVudFByZWxvYWRTZWxlY3RvcnMrPSIsIitjLEhUTUxJbXBvcnRzLmltcG9ydGVyLmltcG9ydHNQcmVsb2FkU2VsZWN0b3JzKz0iLCIrYyxIVE1MSW1wb3J0cy5wYXJzZXIuZG9jdW1lbnRTZWxlY3RvcnM9W0hUTUxJbXBvcnRzLnBhcnNlci5kb2N1bWVudFNlbGVjdG9ycyxjLGRdLmpvaW4oIiwiKTt2YXIgZT1IVE1MSW1wb3J0cy5wYXJzZXIucGFyc2VHZW5lcmljO0hUTUxJbXBvcnRzLnBhcnNlci5wYXJzZUdlbmVyaWM9ZnVuY3Rpb24oYSl7aWYoIWFbel0pe3ZhciBjPWEuX19pbXBvcnRFbGVtZW50fHxhO2lmKCFjLmhhc0F0dHJpYnV0ZSh5KSlyZXR1cm4gdm9pZCBlLmNhbGwodGhpcyxhKTthLl9fcmVzb3VyY2U/KGM9YS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksYy50ZXh0Q29udGVudD1iLnJlc29sdmVDc3NUZXh0KGEuX19yZXNvdXJjZSxhLmhyZWYpKTpiLnJlc29sdmVTdHlsZShjKSxjLnRleHRDb250ZW50PWsuc2hpbVN0eWxlKGMpLGMucmVtb3ZlQXR0cmlidXRlKHksIiIpLGMuc2V0QXR0cmlidXRlKHosIiIpLGNbel09ITAsYy5wYXJlbnROb2RlIT09QyYmKGEucGFyZW50Tm9kZT09PUM/Qy5yZXBsYWNlQ2hpbGQoYyxhKTpDLmFwcGVuZENoaWxkKGMpKSxjLl9faW1wb3J0UGFyc2VkPSEwLHRoaXMubWFya1BhcnNpbmdDb21wbGV0ZShhKX19O3ZhciBmPUhUTUxJbXBvcnRzLnBhcnNlci5oYXNSZXNvdXJjZTtIVE1MSW1wb3J0cy5wYXJzZXIuaGFzUmVzb3VyY2U9ZnVuY3Rpb24oYSl7cmV0dXJuImxpbmsiPT09YS5sb2NhbE5hbWUmJiJzdHlsZXNoZWV0Ij09PWEucmVsJiZhLmhhc0F0dHJpYnV0ZSh5KT9hLl9fcmVzb3VyY2U6Zi5jYWxsKHRoaXMsYSl9fX0pfWEuU2hhZG93Q1NTPWt9KHdpbmRvdy5QbGF0Zm9ybSkpOiFmdW5jdGlvbigpe3dpbmRvdy53cmFwPXdpbmRvdy51bndyYXA9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LGFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGZ1bmN0aW9uKCl7aWYoQ3VzdG9tRWxlbWVudHMudXNlTmF0aXZlPT09ITEpe3ZhciBhPUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3Q7RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdD1mdW5jdGlvbigpe3ZhciBiPWEuY2FsbCh0aGlzKTtyZXR1cm4gQ3VzdG9tRWxlbWVudHMud2F0Y2hTaGFkb3codGhpcyksYn19fSksUGxhdGZvcm0udGVtcGxhdGVDb250ZW50PWZ1bmN0aW9uKGEpe2lmKHdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50JiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcCYmSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXAoYSksIWEuY29udGVudCYmIWEuX2NvbnRlbnQpe2Zvcih2YXIgYj1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7YS5maXJzdENoaWxkOyliLmFwcGVuZENoaWxkKGEuZmlyc3RDaGlsZCk7YS5fY29udGVudD1ifXJldHVybiBhLmNvbnRlbnR8fGEuX2NvbnRlbnR9fSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3JldHVybiB2b2lkIDAhPT1tW2FdfWZ1bmN0aW9uIGMoKXtoLmNhbGwodGhpcyksdGhpcy5faXNJbnZhbGlkPSEwfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIiI9PWEmJmMuY2FsbCh0aGlzKSxhLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gZShhKXt2YXIgYj1hLmNoYXJDb2RlQXQoMCk7cmV0dXJuIGI+MzImJjEyNz5iJiYtMT09WzM0LDM1LDYwLDYyLDYzLDk2XS5pbmRleE9mKGIpP2E6ZW5jb2RlVVJJQ29tcG9uZW50KGEpfWZ1bmN0aW9uIGYoYSl7dmFyIGI9YS5jaGFyQ29kZUF0KDApO3JldHVybiBiPjMyJiYxMjc+YiYmLTE9PVszNCwzNSw2MCw2Miw5Nl0uaW5kZXhPZihiKT9hOmVuY29kZVVSSUNvbXBvbmVudChhKX1mdW5jdGlvbiBnKGEsZyxoKXtmdW5jdGlvbiBpKGEpe3QucHVzaChhKX12YXIgaj1nfHwic2NoZW1lIHN0YXJ0IixrPTAsbD0iIixyPSExLHM9ITEsdD1bXTthOmZvcig7KGFbay0xXSE9b3x8MD09aykmJiF0aGlzLl9pc0ludmFsaWQ7KXt2YXIgdT1hW2tdO3N3aXRjaChqKXtjYXNlInNjaGVtZSBzdGFydCI6aWYoIXV8fCFwLnRlc3QodSkpe2lmKGcpe2koIkludmFsaWQgc2NoZW1lLiIpO2JyZWFrIGF9bD0iIixqPSJubyBzY2hlbWUiO2NvbnRpbnVlfWwrPXUudG9Mb3dlckNhc2UoKSxqPSJzY2hlbWUiO2JyZWFrO2Nhc2Uic2NoZW1lIjppZih1JiZxLnRlc3QodSkpbCs9dS50b0xvd2VyQ2FzZSgpO2Vsc2V7aWYoIjoiIT11KXtpZihnKXtpZihvPT11KWJyZWFrIGE7aSgiQ29kZSBwb2ludCBub3QgYWxsb3dlZCBpbiBzY2hlbWU6ICIrdSk7YnJlYWsgYX1sPSIiLGs9MCxqPSJubyBzY2hlbWUiO2NvbnRpbnVlfWlmKHRoaXMuX3NjaGVtZT1sLGw9IiIsZylicmVhayBhO2IodGhpcy5fc2NoZW1lKSYmKHRoaXMuX2lzUmVsYXRpdmU9ITApLGo9ImZpbGUiPT10aGlzLl9zY2hlbWU/InJlbGF0aXZlIjp0aGlzLl9pc1JlbGF0aXZlJiZoJiZoLl9zY2hlbWU9PXRoaXMuX3NjaGVtZT8icmVsYXRpdmUgb3IgYXV0aG9yaXR5Ijp0aGlzLl9pc1JlbGF0aXZlPyJhdXRob3JpdHkgZmlyc3Qgc2xhc2giOiJzY2hlbWUgZGF0YSJ9YnJlYWs7Y2FzZSJzY2hlbWUgZGF0YSI6Ij8iPT11PyhxdWVyeT0iPyIsaj0icXVlcnkiKToiIyI9PXU/KHRoaXMuX2ZyYWdtZW50PSIjIixqPSJmcmFnbWVudCIpOm8hPXUmJiIJIiE9dSYmIlxuIiE9dSYmIlxyIiE9dSYmKHRoaXMuX3NjaGVtZURhdGErPWUodSkpO2JyZWFrO2Nhc2Uibm8gc2NoZW1lIjppZihoJiZiKGguX3NjaGVtZSkpe2o9InJlbGF0aXZlIjtjb250aW51ZX1pKCJNaXNzaW5nIHNjaGVtZS4iKSxjLmNhbGwodGhpcyk7YnJlYWs7Y2FzZSJyZWxhdGl2ZSBvciBhdXRob3JpdHkiOmlmKCIvIiE9dXx8Ii8iIT1hW2srMV0pe2koIkV4cGVjdGVkIC8sIGdvdDogIit1KSxqPSJyZWxhdGl2ZSI7Y29udGludWV9aj0iYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIjticmVhaztjYXNlInJlbGF0aXZlIjppZih0aGlzLl9pc1JlbGF0aXZlPSEwLCJmaWxlIiE9dGhpcy5fc2NoZW1lJiYodGhpcy5fc2NoZW1lPWguX3NjaGVtZSksbz09dSl7dGhpcy5faG9zdD1oLl9ob3N0LHRoaXMuX3BvcnQ9aC5fcG9ydCx0aGlzLl9wYXRoPWguX3BhdGguc2xpY2UoKSx0aGlzLl9xdWVyeT1oLl9xdWVyeTticmVhayBhfWlmKCIvIj09dXx8IlxcIj09dSkiXFwiPT11JiZpKCJcXCBpcyBhbiBpbnZhbGlkIGNvZGUgcG9pbnQuIiksaj0icmVsYXRpdmUgc2xhc2giO2Vsc2UgaWYoIj8iPT11KXRoaXMuX2hvc3Q9aC5faG9zdCx0aGlzLl9wb3J0PWguX3BvcnQsdGhpcy5fcGF0aD1oLl9wYXRoLnNsaWNlKCksdGhpcy5fcXVlcnk9Ij8iLGo9InF1ZXJ5IjtlbHNle2lmKCIjIiE9dSl7dmFyIHY9YVtrKzFdLHc9YVtrKzJdOygiZmlsZSIhPXRoaXMuX3NjaGVtZXx8IXAudGVzdCh1KXx8IjoiIT12JiYifCIhPXZ8fG8hPXcmJiIvIiE9dyYmIlxcIiE9dyYmIj8iIT13JiYiIyIhPXcpJiYodGhpcy5faG9zdD1oLl9ob3N0LHRoaXMuX3BvcnQ9aC5fcG9ydCx0aGlzLl9wYXRoPWguX3BhdGguc2xpY2UoKSx0aGlzLl9wYXRoLnBvcCgpKSxqPSJyZWxhdGl2ZSBwYXRoIjtjb250aW51ZX10aGlzLl9ob3N0PWguX2hvc3QsdGhpcy5fcG9ydD1oLl9wb3J0LHRoaXMuX3BhdGg9aC5fcGF0aC5zbGljZSgpLHRoaXMuX3F1ZXJ5PWguX3F1ZXJ5LHRoaXMuX2ZyYWdtZW50PSIjIixqPSJmcmFnbWVudCJ9YnJlYWs7Y2FzZSJyZWxhdGl2ZSBzbGFzaCI6aWYoIi8iIT11JiYiXFwiIT11KXsiZmlsZSIhPXRoaXMuX3NjaGVtZSYmKHRoaXMuX2hvc3Q9aC5faG9zdCx0aGlzLl9wb3J0PWguX3BvcnQpLGo9InJlbGF0aXZlIHBhdGgiO2NvbnRpbnVlfSJcXCI9PXUmJmkoIlxcIGlzIGFuIGludmFsaWQgY29kZSBwb2ludC4iKSxqPSJmaWxlIj09dGhpcy5fc2NoZW1lPyJmaWxlIGhvc3QiOiJhdXRob3JpdHkgaWdub3JlIHNsYXNoZXMiO2JyZWFrO2Nhc2UiYXV0aG9yaXR5IGZpcnN0IHNsYXNoIjppZigiLyIhPXUpe2koIkV4cGVjdGVkICcvJywgZ290OiAiK3UpLGo9ImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyI7Y29udGludWV9aj0iYXV0aG9yaXR5IHNlY29uZCBzbGFzaCI7YnJlYWs7Y2FzZSJhdXRob3JpdHkgc2Vjb25kIHNsYXNoIjppZihqPSJhdXRob3JpdHkgaWdub3JlIHNsYXNoZXMiLCIvIiE9dSl7aSgiRXhwZWN0ZWQgJy8nLCBnb3Q6ICIrdSk7Y29udGludWV9YnJlYWs7Y2FzZSJhdXRob3JpdHkgaWdub3JlIHNsYXNoZXMiOmlmKCIvIiE9dSYmIlxcIiE9dSl7aj0iYXV0aG9yaXR5Ijtjb250aW51ZX1pKCJFeHBlY3RlZCBhdXRob3JpdHksIGdvdDogIit1KTticmVhaztjYXNlImF1dGhvcml0eSI6aWYoIkAiPT11KXtyJiYoaSgiQCBhbHJlYWR5IHNlZW4uIiksbCs9IiU0MCIpLHI9ITA7Zm9yKHZhciB4PTA7eDxsLmxlbmd0aDt4Kyspe3ZhciB5PWxbeF07aWYoIgkiIT15JiYiXG4iIT15JiYiXHIiIT15KWlmKCI6IiE9eXx8bnVsbCE9PXRoaXMuX3Bhc3N3b3JkKXt2YXIgej1lKHkpO251bGwhPT10aGlzLl9wYXNzd29yZD90aGlzLl9wYXNzd29yZCs9ejp0aGlzLl91c2VybmFtZSs9en1lbHNlIHRoaXMuX3Bhc3N3b3JkPSIiO2Vsc2UgaSgiSW52YWxpZCB3aGl0ZXNwYWNlIGluIGF1dGhvcml0eS4iKX1sPSIifWVsc2V7aWYobz09dXx8Ii8iPT11fHwiXFwiPT11fHwiPyI9PXV8fCIjIj09dSl7ay09bC5sZW5ndGgsbD0iIixqPSJob3N0Ijtjb250aW51ZX1sKz11fWJyZWFrO2Nhc2UiZmlsZSBob3N0IjppZihvPT11fHwiLyI9PXV8fCJcXCI9PXV8fCI/Ij09dXx8IiMiPT11KXsyIT1sLmxlbmd0aHx8IXAudGVzdChsWzBdKXx8IjoiIT1sWzFdJiYifCIhPWxbMV0/MD09bC5sZW5ndGg/aj0icmVsYXRpdmUgcGF0aCBzdGFydCI6KHRoaXMuX2hvc3Q9ZC5jYWxsKHRoaXMsbCksbD0iIixqPSJyZWxhdGl2ZSBwYXRoIHN0YXJ0Iik6aj0icmVsYXRpdmUgcGF0aCI7Y29udGludWV9IgkiPT11fHwiXG4iPT11fHwiXHIiPT11P2koIkludmFsaWQgd2hpdGVzcGFjZSBpbiBmaWxlIGhvc3QuIik6bCs9dTticmVhaztjYXNlImhvc3QiOmNhc2UiaG9zdG5hbWUiOmlmKCI6IiE9dXx8cyl7aWYobz09dXx8Ii8iPT11fHwiXFwiPT11fHwiPyI9PXV8fCIjIj09dSl7aWYodGhpcy5faG9zdD1kLmNhbGwodGhpcyxsKSxsPSIiLGo9InJlbGF0aXZlIHBhdGggc3RhcnQiLGcpYnJlYWsgYTtjb250aW51ZX0iCSIhPXUmJiJcbiIhPXUmJiJcciIhPXU/KCJbIj09dT9zPSEwOiJdIj09dSYmKHM9ITEpLGwrPXUpOmkoIkludmFsaWQgY29kZSBwb2ludCBpbiBob3N0L2hvc3RuYW1lOiAiK3UpfWVsc2UgaWYodGhpcy5faG9zdD1kLmNhbGwodGhpcyxsKSxsPSIiLGo9InBvcnQiLCJob3N0bmFtZSI9PWcpYnJlYWsgYTticmVhaztjYXNlInBvcnQiOmlmKC9bMC05XS8udGVzdCh1KSlsKz11O2Vsc2V7aWYobz09dXx8Ii8iPT11fHwiXFwiPT11fHwiPyI9PXV8fCIjIj09dXx8Zyl7aWYoIiIhPWwpe3ZhciBBPXBhcnNlSW50KGwsMTApO0EhPW1bdGhpcy5fc2NoZW1lXSYmKHRoaXMuX3BvcnQ9QSsiIiksbD0iIn1pZihnKWJyZWFrIGE7aj0icmVsYXRpdmUgcGF0aCBzdGFydCI7Y29udGludWV9IgkiPT11fHwiXG4iPT11fHwiXHIiPT11P2koIkludmFsaWQgY29kZSBwb2ludCBpbiBwb3J0OiAiK3UpOmMuY2FsbCh0aGlzKX1icmVhaztjYXNlInJlbGF0aXZlIHBhdGggc3RhcnQiOmlmKCJcXCI9PXUmJmkoIidcXCcgbm90IGFsbG93ZWQgaW4gcGF0aC4iKSxqPSJyZWxhdGl2ZSBwYXRoIiwiLyIhPXUmJiJcXCIhPXUpY29udGludWU7YnJlYWs7Y2FzZSJyZWxhdGl2ZSBwYXRoIjppZihvIT11JiYiLyIhPXUmJiJcXCIhPXUmJihnfHwiPyIhPXUmJiIjIiE9dSkpIgkiIT11JiYiXG4iIT11JiYiXHIiIT11JiYobCs9ZSh1KSk7ZWxzZXsiXFwiPT11JiZpKCJcXCBub3QgYWxsb3dlZCBpbiByZWxhdGl2ZSBwYXRoLiIpO3ZhciBCOyhCPW5bbC50b0xvd2VyQ2FzZSgpXSkmJihsPUIpLCIuLiI9PWw/KHRoaXMuX3BhdGgucG9wKCksIi8iIT11JiYiXFwiIT11JiZ0aGlzLl9wYXRoLnB1c2goIiIpKToiLiI9PWwmJiIvIiE9dSYmIlxcIiE9dT90aGlzLl9wYXRoLnB1c2goIiIpOiIuIiE9bCYmKCJmaWxlIj09dGhpcy5fc2NoZW1lJiYwPT10aGlzLl9wYXRoLmxlbmd0aCYmMj09bC5sZW5ndGgmJnAudGVzdChsWzBdKSYmInwiPT1sWzFdJiYobD1sWzBdKyI6IiksdGhpcy5fcGF0aC5wdXNoKGwpKSxsPSIiLCI/Ij09dT8odGhpcy5fcXVlcnk9Ij8iLGo9InF1ZXJ5Iik6IiMiPT11JiYodGhpcy5fZnJhZ21lbnQ9IiMiLGo9ImZyYWdtZW50Iil9YnJlYWs7Y2FzZSJxdWVyeSI6Z3x8IiMiIT11P28hPXUmJiIJIiE9dSYmIlxuIiE9dSYmIlxyIiE9dSYmKHRoaXMuX3F1ZXJ5Kz1mKHUpKToodGhpcy5fZnJhZ21lbnQ9IiMiLGo9ImZyYWdtZW50Iik7YnJlYWs7Y2FzZSJmcmFnbWVudCI6byE9dSYmIgkiIT11JiYiXG4iIT11JiYiXHIiIT11JiYodGhpcy5fZnJhZ21lbnQrPXUpfWsrK319ZnVuY3Rpb24gaCgpe3RoaXMuX3NjaGVtZT0iIix0aGlzLl9zY2hlbWVEYXRhPSIiLHRoaXMuX3VzZXJuYW1lPSIiLHRoaXMuX3Bhc3N3b3JkPW51bGwsdGhpcy5faG9zdD0iIix0aGlzLl9wb3J0PSIiLHRoaXMuX3BhdGg9W10sdGhpcy5fcXVlcnk9IiIsdGhpcy5fZnJhZ21lbnQ9IiIsdGhpcy5faXNJbnZhbGlkPSExLHRoaXMuX2lzUmVsYXRpdmU9ITEKfWZ1bmN0aW9uIGkoYSxiKXt2b2lkIDA9PT1ifHxiIGluc3RhbmNlb2YgaXx8KGI9bmV3IGkoU3RyaW5nKGIpKSksdGhpcy5fdXJsPWEsaC5jYWxsKHRoaXMpO3ZhciBjPWEucmVwbGFjZSgvXlsgXHRcclxuXGZdK3xbIFx0XHJcblxmXSskL2csIiIpO2cuY2FsbCh0aGlzLGMsbnVsbCxiKX12YXIgaj0hMTtpZighYS5mb3JjZUpVUkwpdHJ5e3ZhciBrPW5ldyBVUkwoImIiLCJodHRwOi8vYSIpO2o9Imh0dHA6Ly9hL2IiPT09ay5ocmVmfWNhdGNoKGwpe31pZighail7dmFyIG09T2JqZWN0LmNyZWF0ZShudWxsKTttLmZ0cD0yMSxtLmZpbGU9MCxtLmdvcGhlcj03MCxtLmh0dHA9ODAsbS5odHRwcz00NDMsbS53cz04MCxtLndzcz00NDM7dmFyIG49T2JqZWN0LmNyZWF0ZShudWxsKTtuWyIlMmUiXT0iLiIsblsiLiUyZSJdPSIuLiIsblsiJTJlLiJdPSIuLiIsblsiJTJlJTJlIl09Ii4uIjt2YXIgbz12b2lkIDAscD0vW2EtekEtWl0vLHE9L1thLXpBLVowLTlcK1wtXC5dLztpLnByb3RvdHlwZT17Z2V0IGhyZWYoKXtpZih0aGlzLl9pc0ludmFsaWQpcmV0dXJuIHRoaXMuX3VybDt2YXIgYT0iIjtyZXR1cm4oIiIhPXRoaXMuX3VzZXJuYW1lfHxudWxsIT10aGlzLl9wYXNzd29yZCkmJihhPXRoaXMuX3VzZXJuYW1lKyhudWxsIT10aGlzLl9wYXNzd29yZD8iOiIrdGhpcy5fcGFzc3dvcmQ6IiIpKyJAIiksdGhpcy5wcm90b2NvbCsodGhpcy5faXNSZWxhdGl2ZT8iLy8iK2ErdGhpcy5ob3N0OiIiKSt0aGlzLnBhdGhuYW1lK3RoaXMuX3F1ZXJ5K3RoaXMuX2ZyYWdtZW50fSxzZXQgaHJlZihhKXtoLmNhbGwodGhpcyksZy5jYWxsKHRoaXMsYSl9LGdldCBwcm90b2NvbCgpe3JldHVybiB0aGlzLl9zY2hlbWUrIjoifSxzZXQgcHJvdG9jb2woYSl7dGhpcy5faXNJbnZhbGlkfHxnLmNhbGwodGhpcyxhKyI6Iiwic2NoZW1lIHN0YXJ0Iil9LGdldCBob3N0KCl7cmV0dXJuIHRoaXMuX2lzSW52YWxpZD8iIjp0aGlzLl9wb3J0P3RoaXMuX2hvc3QrIjoiK3RoaXMuX3BvcnQ6dGhpcy5faG9zdH0sc2V0IGhvc3QoYSl7IXRoaXMuX2lzSW52YWxpZCYmdGhpcy5faXNSZWxhdGl2ZSYmZy5jYWxsKHRoaXMsYSwiaG9zdCIpfSxnZXQgaG9zdG5hbWUoKXtyZXR1cm4gdGhpcy5faG9zdH0sc2V0IGhvc3RuYW1lKGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJmcuY2FsbCh0aGlzLGEsImhvc3RuYW1lIil9LGdldCBwb3J0KCl7cmV0dXJuIHRoaXMuX3BvcnR9LHNldCBwb3J0KGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJmcuY2FsbCh0aGlzLGEsInBvcnQiKX0sZ2V0IHBhdGhuYW1lKCl7cmV0dXJuIHRoaXMuX2lzSW52YWxpZD8iIjp0aGlzLl9pc1JlbGF0aXZlPyIvIit0aGlzLl9wYXRoLmpvaW4oIi8iKTp0aGlzLl9zY2hlbWVEYXRhfSxzZXQgcGF0aG5hbWUoYSl7IXRoaXMuX2lzSW52YWxpZCYmdGhpcy5faXNSZWxhdGl2ZSYmKHRoaXMuX3BhdGg9W10sZy5jYWxsKHRoaXMsYSwicmVsYXRpdmUgcGF0aCBzdGFydCIpKX0sZ2V0IHNlYXJjaCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWR8fCF0aGlzLl9xdWVyeXx8Ij8iPT10aGlzLl9xdWVyeT8iIjp0aGlzLl9xdWVyeX0sc2V0IHNlYXJjaChhKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiYodGhpcy5fcXVlcnk9Ij8iLCI/Ij09YVswXSYmKGE9YS5zbGljZSgxKSksZy5jYWxsKHRoaXMsYSwicXVlcnkiKSl9LGdldCBoYXNoKCl7cmV0dXJuIHRoaXMuX2lzSW52YWxpZHx8IXRoaXMuX2ZyYWdtZW50fHwiIyI9PXRoaXMuX2ZyYWdtZW50PyIiOnRoaXMuX2ZyYWdtZW50fSxzZXQgaGFzaChhKXt0aGlzLl9pc0ludmFsaWR8fCh0aGlzLl9mcmFnbWVudD0iIyIsIiMiPT1hWzBdJiYoYT1hLnNsaWNlKDEpKSxnLmNhbGwodGhpcyxhLCJmcmFnbWVudCIpKX19LGEuVVJMPWl9fSh3aW5kb3cpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7Zm9yKHZhciBiPWF8fHt9LGQ9MTtkPGFyZ3VtZW50cy5sZW5ndGg7ZCsrKXt2YXIgZT1hcmd1bWVudHNbZF07dHJ5e2Zvcih2YXIgZiBpbiBlKWMoZixlLGIpfWNhdGNoKGcpe319cmV0dXJuIGJ9ZnVuY3Rpb24gYyhhLGIsYyl7dmFyIGU9ZChiLGEpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLGEsZSl9ZnVuY3Rpb24gZChhLGIpe2lmKGEpe3ZhciBjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYSxiKTtyZXR1cm4gY3x8ZChPYmplY3QuZ2V0UHJvdG90eXBlT2YoYSksYil9fUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHwoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZD1jLnNsaWNlKCk7cmV0dXJuIGQucHVzaC5hcHBseShkLGFyZ3VtZW50cyksYi5hcHBseShhLGQpfX0pLGEubWl4aW49Yn0od2luZG93LlBsYXRmb3JtKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIsYyl7dmFyIGQ9InN0cmluZyI9PXR5cGVvZiBhP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYSk6YS5jbG9uZU5vZGUoITApO2lmKGQuaW5uZXJIVE1MPWIsYylmb3IodmFyIGUgaW4gYylkLnNldEF0dHJpYnV0ZShlLGNbZV0pO3JldHVybiBkfXZhciBjPURPTVRva2VuTGlzdC5wcm90b3R5cGUuYWRkLGQ9RE9NVG9rZW5MaXN0LnByb3RvdHlwZS5yZW1vdmU7RE9NVG9rZW5MaXN0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPGFyZ3VtZW50cy5sZW5ndGg7YSsrKWMuY2FsbCh0aGlzLGFyZ3VtZW50c1thXSl9LERPTVRva2VuTGlzdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTxhcmd1bWVudHMubGVuZ3RoO2ErKylkLmNhbGwodGhpcyxhcmd1bWVudHNbYV0pfSxET01Ub2tlbkxpc3QucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihhLGIpezE9PWFyZ3VtZW50cy5sZW5ndGgmJihiPSF0aGlzLmNvbnRhaW5zKGEpKSxiP3RoaXMuYWRkKGEpOnRoaXMucmVtb3ZlKGEpfSxET01Ub2tlbkxpc3QucHJvdG90eXBlLnN3aXRjaD1mdW5jdGlvbihhLGIpe2EmJnRoaXMucmVtb3ZlKGEpLGImJnRoaXMuYWRkKGIpfTt2YXIgZT1mdW5jdGlvbigpe3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzKX0sZj13aW5kb3cuTmFtZWROb2RlTWFwfHx3aW5kb3cuTW96TmFtZWRBdHRyTWFwfHx7fTtpZihOb2RlTGlzdC5wcm90b3R5cGUuYXJyYXk9ZSxmLnByb3RvdHlwZS5hcnJheT1lLEhUTUxDb2xsZWN0aW9uLnByb3RvdHlwZS5hcnJheT1lLCF3aW5kb3cucGVyZm9ybWFuY2Upe3ZhciBnPURhdGUubm93KCk7d2luZG93LnBlcmZvcm1hbmNlPXtub3c6ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3coKS1nfX19d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8KHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXt2YXIgYT13aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lO3JldHVybiBhP2Z1bmN0aW9uKGIpe3JldHVybiBhKGZ1bmN0aW9uKCl7YihwZXJmb3JtYW5jZS5ub3coKSl9KX06ZnVuY3Rpb24oYSl7cmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGEsMWUzLzYwKX19KCkpLHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZXx8KHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZT1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oYSl7Y2xlYXJUaW1lb3V0KGEpfX0oKSk7dmFyIGg9W10saT1mdW5jdGlvbigpe2gucHVzaChhcmd1bWVudHMpfTt3aW5kb3cuUG9seW1lcj1pLGEuZGVsaXZlckRlY2xhcmF0aW9ucz1mdW5jdGlvbigpe3JldHVybiBhLmRlbGl2ZXJEZWNsYXJhdGlvbnM9ZnVuY3Rpb24oKXt0aHJvdyJQb3NzaWJsZSBhdHRlbXB0IHRvIGxvYWQgUG9seW1lciB0d2ljZSJ9LGh9LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixmdW5jdGlvbigpe3dpbmRvdy5Qb2x5bWVyPT09aSYmKHdpbmRvdy5Qb2x5bWVyPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcignWW91IHRyaWVkIHRvIHVzZSBwb2x5bWVyIHdpdGhvdXQgbG9hZGluZyBpdCBmaXJzdC4gVG8gbG9hZCBwb2x5bWVyLCA8bGluayByZWw9ImltcG9ydCIgaHJlZj0iY29tcG9uZW50cy9wb2x5bWVyL3BvbHltZXIuaHRtbCI+Jyl9KX0pLGEuY3JlYXRlRE9NPWJ9KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oYSl7YS50ZW1wbGF0ZUNvbnRlbnQ9YS50ZW1wbGF0ZUNvbnRlbnR8fGZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnRlbnR9fSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2E9YXx8KHdpbmRvdy5JbnNwZWN0b3I9e30pO3ZhciBiO3dpbmRvdy5zaW5zcGVjdD1mdW5jdGlvbihhLGQpe2J8fChiPXdpbmRvdy5vcGVuKCIiLCJTaGFkb3dET00gSW5zcGVjdG9yIixudWxsLCEwKSxiLmRvY3VtZW50LndyaXRlKGMpLGIuYXBpPXtzaGFkb3dpemU6c2hhZG93aXplfSksZihhfHx3cmFwKGRvY3VtZW50LmJvZHkpLGQpfTt2YXIgYz1bIjwhRE9DVFlQRSBodG1sPiIsIjxodG1sPiIsIiAgPGhlYWQ+IiwiICAgIDx0aXRsZT5TaGFkb3dET00gSW5zcGVjdG9yPC90aXRsZT4iLCIgICAgPHN0eWxlPiIsIiAgICAgIGJvZHkgeyIsIiAgICAgIH0iLCIgICAgICBwcmUgeyIsJyAgICAgICAgZm9udDogOXB0ICJDb3VyaWVyIE5ldyIsIG1vbm9zcGFjZTsnLCIgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjVlbTsiLCIgICAgICB9IiwiICAgICAgdGFnIHsiLCIgICAgICAgIGNvbG9yOiBwdXJwbGU7IiwiICAgICAgfSIsIiAgICAgIHVsIHsiLCIgICAgICAgICBtYXJnaW46IDA7IiwiICAgICAgICAgcGFkZGluZzogMDsiLCIgICAgICAgICBsaXN0LXN0eWxlOiBub25lOyIsIiAgICAgIH0iLCIgICAgICBsaSB7IiwiICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOyIsIiAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7IiwiICAgICAgICAgcGFkZGluZzogNHB4IDZweDsiLCIgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7IiwiICAgICAgICAgbWFyZ2luLXJpZ2h0OiA0cHg7IiwiICAgICAgfSIsIiAgICA8L3N0eWxlPiIsIiAgPC9oZWFkPiIsIiAgPGJvZHk+IiwnICAgIDx1bCBpZD0iY3J1bWJzIj4nLCIgICAgPC91bD4iLCcgICAgPGRpdiBpZD0idHJlZSI+PC9kaXY+JywiICA8L2JvZHk+IiwiPC9odG1sPiJdLmpvaW4oIlxuIiksZD1bXSxlPWZ1bmN0aW9uKCl7dmFyIGE9Yi5kb2N1bWVudCxjPWEucXVlcnlTZWxlY3RvcigiI2NydW1icyIpO2MudGV4dENvbnRlbnQ9IiI7Zm9yKHZhciBlLGc9MDtlPWRbZ107ZysrKXt2YXIgaD1hLmNyZWF0ZUVsZW1lbnQoImEiKTtoLmhyZWY9IiMiLGgudGV4dENvbnRlbnQ9ZS5sb2NhbE5hbWUsaC5pZHg9ZyxoLm9uY2xpY2s9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiO2QubGVuZ3RoPnRoaXMuaWR4OyliPWQucG9wKCk7ZihiLnNoYWRvd3x8YixiKSxhLnByZXZlbnREZWZhdWx0KCl9LGMuYXBwZW5kQ2hpbGQoYS5jcmVhdGVFbGVtZW50KCJsaSIpKS5hcHBlbmRDaGlsZChoKX19LGY9ZnVuY3Rpb24oYSxjKXt2YXIgZj1iLmRvY3VtZW50O2s9W107dmFyIGc9Y3x8YTtkLnB1c2goZyksZSgpLGYuYm9keS5xdWVyeVNlbGVjdG9yKCIjdHJlZSIpLmlubmVySFRNTD0iPHByZT4iK2ooYSxhLmNoaWxkTm9kZXMpKyI8L3ByZT4ifSxnPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCksaD17U1RZTEU6MSxTQ1JJUFQ6MSwiI2NvbW1lbnQiOjEsVEVNUExBVEU6MX0saT1mdW5jdGlvbihhKXtyZXR1cm4gaFthLm5vZGVOYW1lXX0saj1mdW5jdGlvbihhLGIsYyl7aWYoaShhKSlyZXR1cm4iIjt2YXIgZD1jfHwiIjtpZihhLmxvY2FsTmFtZXx8MTE9PWEubm9kZVR5cGUpe3ZhciBlPWEubG9jYWxOYW1lfHwic2hhZG93LXJvb3QiLGY9ZCtsKGEpOyJjb250ZW50Ij09ZSYmKGI9YS5nZXREaXN0cmlidXRlZE5vZGVzKCkpLGYrPSI8YnIvPiI7dmFyIGg9ZCsiJm5ic3A7Jm5ic3A7IjtnKGIsZnVuY3Rpb24oYSl7Zis9aihhLGEuY2hpbGROb2RlcyxoKX0pLGYrPWQse2JyOjF9W2VdfHwoZis9Ijx0YWc+Jmx0Oy8iK2UrIiZndDs8L3RhZz4iLGYrPSI8YnIvPiIpfWVsc2V7dmFyIGs9YS50ZXh0Q29udGVudC50cmltKCk7Zj1rP2QrJyInK2srJyI8YnIvPic6IiJ9cmV0dXJuIGZ9LGs9W10sbD1mdW5jdGlvbihhKXt2YXIgYj0iPHRhZz4mbHQ7IixjPWEubG9jYWxOYW1lfHwic2hhZG93LXJvb3QiO3JldHVybiBhLndlYmtpdFNoYWRvd1Jvb3R8fGEuc2hhZG93Um9vdD8oYis9JyA8YnV0dG9uIGlkeD0iJytrLmxlbmd0aCsnIiBvbmNsaWNrPSJhcGkuc2hhZG93aXplLmNhbGwodGhpcykiPicrYysiPC9idXR0b24+IixrLnB1c2goYSkpOmIrPWN8fCJzaGFkb3ctcm9vdCIsYS5hdHRyaWJ1dGVzJiZnKGEuYXR0cmlidXRlcyxmdW5jdGlvbihhKXtiKz0iICIrYS5uYW1lKyhhLnZhbHVlPyc9IicrYS52YWx1ZSsnIic6IiIpfSksYis9IiZndDs8L3RhZz4ifTtzaGFkb3dpemU9ZnVuY3Rpb24oKXt2YXIgYT1OdW1iZXIodGhpcy5hdHRyaWJ1dGVzLmlkeC52YWx1ZSksYj1rW2FdO2I/ZihiLndlYmtpdFNoYWRvd1Jvb3R8fGIuc2hhZG93Um9vdCxiKTooY29uc29sZS5sb2coImJhZCBzaGFkb3dpemUgbm9kZSIpLGNvbnNvbGUuZGlyKHRoaXMpKX0sYS5vdXRwdXQ9an0od2luZG93Lkluc3BlY3RvciksZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2EudGV4dENvbnRlbnQ9ImJvZHkge3RyYW5zaXRpb246IG9wYWNpdHkgZWFzZS1pbiAwLjJzOyB9IFxuYm9keVt1bnJlc29sdmVkXSB7b3BhY2l0eTogMDsgZGlzcGxheTogYmxvY2s7IG92ZXJmbG93OiBoaWRkZW47IH0gXG4iO3ZhciBiPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImhlYWQiKTtiLmluc2VydEJlZm9yZShhLGIuZmlyc3RDaGlsZCl9KFBsYXRmb3JtKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYil7cmV0dXJuIGI9Ynx8W10sYi5tYXB8fChiPVtiXSksYS5hcHBseSh0aGlzLGIubWFwKGQpKX1mdW5jdGlvbiBjKGEsYyxkKXt2YXIgZTtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybjtjYXNlIDE6ZT1udWxsO2JyZWFrO2Nhc2UgMjplPWMuYXBwbHkodGhpcyk7YnJlYWs7ZGVmYXVsdDplPWIoZCxjKX1mW2FdPWV9ZnVuY3Rpb24gZChhKXtyZXR1cm4gZlthXX1mdW5jdGlvbiBlKGEsYyl7SFRNTEltcG9ydHMud2hlbkltcG9ydHNSZWFkeShmdW5jdGlvbigpe2IoYyxhKX0pfXZhciBmPXt9O2EubWFyc2hhbD1kLGEubW9kdWxlPWMsYS51c2luZz1lfSh3aW5kb3cpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7Zi50ZXh0Q29udGVudD1kKyssZS5wdXNoKGEpfWZ1bmN0aW9uIGMoKXtmb3IoO2UubGVuZ3RoOyllLnNoaWZ0KCkoKX12YXIgZD0wLGU9W10sZj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7bmV3KHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyfHxKc011dGF0aW9uT2JzZXJ2ZXIpKGMpLm9ic2VydmUoZix7Y2hhcmFjdGVyRGF0YTohMH0pLGEuZW5kT2ZNaWNyb3Rhc2s9Yn0oUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiLGQsZSl7cmV0dXJuIGEucmVwbGFjZShlLGZ1bmN0aW9uKGEsZSxmLGcpe3ZhciBoPWYucmVwbGFjZSgvWyInXS9nLCIiKTtyZXR1cm4gaD1jKGIsaCxkKSxlKyInIitoKyInIitnfSl9ZnVuY3Rpb24gYyhhLGIsYyl7aWYoYiYmIi8iPT09YlswXSlyZXR1cm4gYjt2YXIgZT1uZXcgVVJMKGIsYSk7cmV0dXJuIGM/ZS5ocmVmOmQoZS5ocmVmKX1mdW5jdGlvbiBkKGEpe3ZhciBiPW5ldyBVUkwoZG9jdW1lbnQuYmFzZVVSSSksYz1uZXcgVVJMKGEsYik7cmV0dXJuIGMuaG9zdD09PWIuaG9zdCYmYy5wb3J0PT09Yi5wb3J0JiZjLnByb3RvY29sPT09Yi5wcm90b2NvbD9lKGIsYyk6YX1mdW5jdGlvbiBlKGEsYil7Zm9yKHZhciBjPWEucGF0aG5hbWUsZD1iLnBhdGhuYW1lLGU9Yy5zcGxpdCgiLyIpLGY9ZC5zcGxpdCgiLyIpO2UubGVuZ3RoJiZlWzBdPT09ZlswXTspZS5zaGlmdCgpLGYuc2hpZnQoKTtmb3IodmFyIGc9MCxoPWUubGVuZ3RoLTE7aD5nO2crKylmLnVuc2hpZnQoIi4uIik7cmV0dXJuIGYuam9pbigiLyIpK2Iuc2VhcmNoK2IuaGFzaH12YXIgZj17cmVzb2x2ZURvbTpmdW5jdGlvbihhLGIpe2I9Ynx8YS5vd25lckRvY3VtZW50LmJhc2VVUkksdGhpcy5yZXNvbHZlQXR0cmlidXRlcyhhLGIpLHRoaXMucmVzb2x2ZVN0eWxlcyhhLGIpO3ZhciBjPWEucXVlcnlTZWxlY3RvckFsbCgidGVtcGxhdGUiKTtpZihjKWZvcih2YXIgZCxlPTAsZj1jLmxlbmd0aDtmPmUmJihkPWNbZV0pO2UrKylkLmNvbnRlbnQmJnRoaXMucmVzb2x2ZURvbShkLmNvbnRlbnQsYil9LHJlc29sdmVUZW1wbGF0ZTpmdW5jdGlvbihhKXt0aGlzLnJlc29sdmVEb20oYS5jb250ZW50LGEub3duZXJEb2N1bWVudC5iYXNlVVJJKX0scmVzb2x2ZVN0eWxlczpmdW5jdGlvbihhLGIpe3ZhciBjPWEucXVlcnlTZWxlY3RvckFsbCgic3R5bGUiKTtpZihjKWZvcih2YXIgZCxlPTAsZj1jLmxlbmd0aDtmPmUmJihkPWNbZV0pO2UrKyl0aGlzLnJlc29sdmVTdHlsZShkLGIpfSxyZXNvbHZlU3R5bGU6ZnVuY3Rpb24oYSxiKXtiPWJ8fGEub3duZXJEb2N1bWVudC5iYXNlVVJJLGEudGV4dENvbnRlbnQ9dGhpcy5yZXNvbHZlQ3NzVGV4dChhLnRleHRDb250ZW50LGIpfSxyZXNvbHZlQ3NzVGV4dDpmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGE9YihhLGMsZCxnKSxiKGEsYyxkLGgpfSxyZXNvbHZlQXR0cmlidXRlczpmdW5jdGlvbihhLGIpe2EuaGFzQXR0cmlidXRlcyYmYS5oYXNBdHRyaWJ1dGVzKCkmJnRoaXMucmVzb2x2ZUVsZW1lbnRBdHRyaWJ1dGVzKGEsYik7dmFyIGM9YSYmYS5xdWVyeVNlbGVjdG9yQWxsKGopO2lmKGMpZm9yKHZhciBkLGU9MCxmPWMubGVuZ3RoO2Y+ZSYmKGQ9Y1tlXSk7ZSsrKXRoaXMucmVzb2x2ZUVsZW1lbnRBdHRyaWJ1dGVzKGQsYil9LHJlc29sdmVFbGVtZW50QXR0cmlidXRlczpmdW5jdGlvbihhLGQpe2Q9ZHx8YS5vd25lckRvY3VtZW50LmJhc2VVUkksaS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBmLGg9YS5hdHRyaWJ1dGVzW2VdLGk9aCYmaC52YWx1ZTtpJiZpLnNlYXJjaChrKTwwJiYoZj0ic3R5bGUiPT09ZT9iKGksZCxnKTpjKGQsaSksaC52YWx1ZT1mKX0pfX0sZz0vKHVybFwoKShbXildKikoXCkpL2csaD0vKEBpbXBvcnRbXHNdKyg/IXVybFwoKSkoW147XSopKDspL2csaT1bImhyZWYiLCJzcmMiLCJhY3Rpb24iLCJzdHlsZSJdLGo9IlsiK2kuam9pbigiXSxbIikrIl0iLGs9Int7Lip9fSI7YS51cmxSZXNvbHZlcj1mfShQbGF0Zm9ybSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXt1LnB1c2goYSksdHx8KHQ9ITAscShkKSl9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gd2luZG93LlNoYWRvd0RPTVBvbHlmaWxsJiZ3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKGEpfHxhfWZ1bmN0aW9uIGQoKXt0PSExO3ZhciBhPXU7dT1bXSxhLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS51aWRfLWIudWlkX30pO3ZhciBiPSExO2EuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYz1hLnRha2VSZWNvcmRzKCk7ZShhKSxjLmxlbmd0aCYmKGEuY2FsbGJhY2tfKGMsYSksYj0hMCl9KSxiJiZkKCl9ZnVuY3Rpb24gZShhKXthLm5vZGVzXy5mb3JFYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPXAuZ2V0KGIpO2MmJmMuZm9yRWFjaChmdW5jdGlvbihiKXtiLm9ic2VydmVyPT09YSYmYi5yZW1vdmVUcmFuc2llbnRPYnNlcnZlcnMoKX0pfSl9ZnVuY3Rpb24gZihhLGIpe2Zvcih2YXIgYz1hO2M7Yz1jLnBhcmVudE5vZGUpe3ZhciBkPXAuZ2V0KGMpO2lmKGQpZm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV0sZz1mLm9wdGlvbnM7aWYoYz09PWF8fGcuc3VidHJlZSl7dmFyIGg9YihnKTtoJiZmLmVucXVldWUoaCl9fX19ZnVuY3Rpb24gZyhhKXt0aGlzLmNhbGxiYWNrXz1hLHRoaXMubm9kZXNfPVtdLHRoaXMucmVjb3Jkc189W10sdGhpcy51aWRfPSsrdn1mdW5jdGlvbiBoKGEsYil7dGhpcy50eXBlPWEsdGhpcy50YXJnZXQ9Yix0aGlzLmFkZGVkTm9kZXM9W10sdGhpcy5yZW1vdmVkTm9kZXM9W10sdGhpcy5wcmV2aW91c1NpYmxpbmc9bnVsbCx0aGlzLm5leHRTaWJsaW5nPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lc3BhY2U9bnVsbCx0aGlzLm9sZFZhbHVlPW51bGx9ZnVuY3Rpb24gaShhKXt2YXIgYj1uZXcgaChhLnR5cGUsYS50YXJnZXQpO3JldHVybiBiLmFkZGVkTm9kZXM9YS5hZGRlZE5vZGVzLnNsaWNlKCksYi5yZW1vdmVkTm9kZXM9YS5yZW1vdmVkTm9kZXMuc2xpY2UoKSxiLnByZXZpb3VzU2libGluZz1hLnByZXZpb3VzU2libGluZyxiLm5leHRTaWJsaW5nPWEubmV4dFNpYmxpbmcsYi5hdHRyaWJ1dGVOYW1lPWEuYXR0cmlidXRlTmFtZSxiLmF0dHJpYnV0ZU5hbWVzcGFjZT1hLmF0dHJpYnV0ZU5hbWVzcGFjZSxiLm9sZFZhbHVlPWEub2xkVmFsdWUsYn1mdW5jdGlvbiBqKGEsYil7cmV0dXJuIHc9bmV3IGgoYSxiKX1mdW5jdGlvbiBrKGEpe3JldHVybiB4P3g6KHg9aSh3KSx4Lm9sZFZhbHVlPWEseCl9ZnVuY3Rpb24gbCgpe3c9eD12b2lkIDB9ZnVuY3Rpb24gbShhKXtyZXR1cm4gYT09PXh8fGE9PT13fWZ1bmN0aW9uIG4oYSxiKXtyZXR1cm4gYT09PWI/YTp4JiZtKGEpP3g6bnVsbH1mdW5jdGlvbiBvKGEsYixjKXt0aGlzLm9ic2VydmVyPWEsdGhpcy50YXJnZXQ9Yix0aGlzLm9wdGlvbnM9Yyx0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W119dmFyIHA9bmV3IFdlYWtNYXAscT13aW5kb3cubXNTZXRJbW1lZGlhdGU7aWYoIXEpe3ZhciByPVtdLHM9U3RyaW5nKE1hdGgucmFuZG9tKCkpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixmdW5jdGlvbihhKXtpZihhLmRhdGE9PT1zKXt2YXIgYj1yO3I9W10sYi5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EoKX0pfX0pLHE9ZnVuY3Rpb24oYSl7ci5wdXNoKGEpLHdpbmRvdy5wb3N0TWVzc2FnZShzLCIqIil9fXZhciB0PSExLHU9W10sdj0wO2cucHJvdG90eXBlPXtvYnNlcnZlOmZ1bmN0aW9uKGEsYil7aWYoYT1jKGEpLCFiLmNoaWxkTGlzdCYmIWIuYXR0cmlidXRlcyYmIWIuY2hhcmFjdGVyRGF0YXx8Yi5hdHRyaWJ1dGVPbGRWYWx1ZSYmIWIuYXR0cmlidXRlc3x8Yi5hdHRyaWJ1dGVGaWx0ZXImJmIuYXR0cmlidXRlRmlsdGVyLmxlbmd0aCYmIWIuYXR0cmlidXRlc3x8Yi5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUmJiFiLmNoYXJhY3RlckRhdGEpdGhyb3cgbmV3IFN5bnRheEVycm9yO3ZhciBkPXAuZ2V0KGEpO2R8fHAuc2V0KGEsZD1bXSk7Zm9yKHZhciBlLGY9MDtmPGQubGVuZ3RoO2YrKylpZihkW2ZdLm9ic2VydmVyPT09dGhpcyl7ZT1kW2ZdLGUucmVtb3ZlTGlzdGVuZXJzKCksZS5vcHRpb25zPWI7YnJlYWt9ZXx8KGU9bmV3IG8odGhpcyxhLGIpLGQucHVzaChlKSx0aGlzLm5vZGVzXy5wdXNoKGEpKSxlLmFkZExpc3RlbmVycygpfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy5ub2Rlc18uZm9yRWFjaChmdW5jdGlvbihhKXtmb3IodmFyIGI9cC5nZXQoYSksYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdO2lmKGQub2JzZXJ2ZXI9PT10aGlzKXtkLnJlbW92ZUxpc3RlbmVycygpLGIuc3BsaWNlKGMsMSk7YnJlYWt9fX0sdGhpcyksdGhpcy5yZWNvcmRzXz1bXX0sdGFrZVJlY29yZHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnJlY29yZHNfO3JldHVybiB0aGlzLnJlY29yZHNfPVtdLGF9fTt2YXIgdyx4O28ucHJvdG90eXBlPXtlbnF1ZXVlOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMub2JzZXJ2ZXIucmVjb3Jkc18sZD1jLmxlbmd0aDtpZihjLmxlbmd0aD4wKXt2YXIgZT1jW2QtMV0sZj1uKGUsYSk7aWYoZilyZXR1cm4gdm9pZChjW2QtMV09Zil9ZWxzZSBiKHRoaXMub2JzZXJ2ZXIpO2NbZF09YX0sYWRkTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dGhpcy5hZGRMaXN0ZW5lcnNfKHRoaXMudGFyZ2V0KX0sYWRkTGlzdGVuZXJzXzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnM7Yi5hdHRyaWJ1dGVzJiZhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUF0dHJNb2RpZmllZCIsdGhpcywhMCksYi5jaGFyYWN0ZXJEYXRhJiZhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCIsdGhpcywhMCksYi5jaGlsZExpc3QmJmEuYWRkRXZlbnRMaXN0ZW5lcigiRE9NTm9kZUluc2VydGVkIix0aGlzLCEwKSwoYi5jaGlsZExpc3R8fGIuc3VidHJlZSkmJmEuYWRkRXZlbnRMaXN0ZW5lcigiRE9NTm9kZVJlbW92ZWQiLHRoaXMsITApfSxyZW1vdmVMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUxpc3RlbmVyc18odGhpcy50YXJnZXQpfSxyZW1vdmVMaXN0ZW5lcnNfOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucztiLmF0dHJpYnV0ZXMmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQXR0ck1vZGlmaWVkIix0aGlzLCEwKSxiLmNoYXJhY3RlckRhdGEmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIix0aGlzLCEwKSxiLmNoaWxkTGlzdCYmYS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Ob2RlSW5zZXJ0ZWQiLHRoaXMsITApLChiLmNoaWxkTGlzdHx8Yi5zdWJ0cmVlKSYmYS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Ob2RlUmVtb3ZlZCIsdGhpcywhMCl9LGFkZFRyYW5zaWVudE9ic2VydmVyOmZ1bmN0aW9uKGEpe2lmKGEhPT10aGlzLnRhcmdldCl7dGhpcy5hZGRMaXN0ZW5lcnNfKGEpLHRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcy5wdXNoKGEpO3ZhciBiPXAuZ2V0KGEpO2J8fHAuc2V0KGEsYj1bXSksYi5wdXNoKHRoaXMpfX0scmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzO3RoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXSxhLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5yZW1vdmVMaXN0ZW5lcnNfKGEpO2Zvcih2YXIgYj1wLmdldChhKSxjPTA7YzxiLmxlbmd0aDtjKyspaWYoYltjXT09PXRoaXMpe2Iuc3BsaWNlKGMsMSk7YnJlYWt9fSx0aGlzKX0saGFuZGxlRXZlbnQ6ZnVuY3Rpb24oYSl7c3dpdGNoKGEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksYS50eXBlKXtjYXNlIkRPTUF0dHJNb2RpZmllZCI6dmFyIGI9YS5hdHRyTmFtZSxjPWEucmVsYXRlZE5vZGUubmFtZXNwYWNlVVJJLGQ9YS50YXJnZXQsZT1uZXcgaigiYXR0cmlidXRlcyIsZCk7ZS5hdHRyaWJ1dGVOYW1lPWIsZS5hdHRyaWJ1dGVOYW1lc3BhY2U9Yzt2YXIgZz1hLmF0dHJDaGFuZ2U9PT1NdXRhdGlvbkV2ZW50LkFERElUSU9OP251bGw6YS5wcmV2VmFsdWU7ZihkLGZ1bmN0aW9uKGEpe3JldHVybiFhLmF0dHJpYnV0ZXN8fGEuYXR0cmlidXRlRmlsdGVyJiZhLmF0dHJpYnV0ZUZpbHRlci5sZW5ndGgmJi0xPT09YS5hdHRyaWJ1dGVGaWx0ZXIuaW5kZXhPZihiKSYmLTE9PT1hLmF0dHJpYnV0ZUZpbHRlci5pbmRleE9mKGMpP3ZvaWQgMDphLmF0dHJpYnV0ZU9sZFZhbHVlP2soZyk6ZX0pO2JyZWFrO2Nhc2UiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIjp2YXIgZD1hLnRhcmdldCxlPWooImNoYXJhY3RlckRhdGEiLGQpLGc9YS5wcmV2VmFsdWU7ZihkLGZ1bmN0aW9uKGEpe3JldHVybiBhLmNoYXJhY3RlckRhdGE/YS5jaGFyYWN0ZXJEYXRhT2xkVmFsdWU/ayhnKTplOnZvaWQgMH0pO2JyZWFrO2Nhc2UiRE9NTm9kZVJlbW92ZWQiOnRoaXMuYWRkVHJhbnNpZW50T2JzZXJ2ZXIoYS50YXJnZXQpO2Nhc2UiRE9NTm9kZUluc2VydGVkIjp2YXIgaCxpLGQ9YS5yZWxhdGVkTm9kZSxtPWEudGFyZ2V0OyJET01Ob2RlSW5zZXJ0ZWQiPT09YS50eXBlPyhoPVttXSxpPVtdKTooaD1bXSxpPVttXSk7dmFyIG49bS5wcmV2aW91c1NpYmxpbmcsbz1tLm5leHRTaWJsaW5nLGU9aigiY2hpbGRMaXN0IixkKTtlLmFkZGVkTm9kZXM9aCxlLnJlbW92ZWROb2Rlcz1pLGUucHJldmlvdXNTaWJsaW5nPW4sZS5uZXh0U2libGluZz1vLGYoZCxmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGlsZExpc3Q/ZTp2b2lkIDB9KX1sKCl9fSxhLkpzTXV0YXRpb25PYnNlcnZlcj1nLGEuTXV0YXRpb25PYnNlcnZlcnx8KGEuTXV0YXRpb25PYnNlcnZlcj1nKX0odGhpcyksd2luZG93LkhUTUxJbXBvcnRzPXdpbmRvdy5IVE1MSW1wb3J0c3x8e2ZsYWdzOnt9fSxmdW5jdGlvbihhKXt2YXIgYj0oYS5wYXRoLGEueGhyKSxjPWEuZmxhZ3MsZD1mdW5jdGlvbihhLGIpe3RoaXMuY2FjaGU9e30sdGhpcy5vbmxvYWQ9YSx0aGlzLm9uY29tcGxldGU9Yix0aGlzLmluZmxpZ2h0PTAsdGhpcy5wZW5kaW5nPXt9fTtkLnByb3RvdHlwZT17YWRkTm9kZXM6ZnVuY3Rpb24oYSl7dGhpcy5pbmZsaWdodCs9YS5sZW5ndGg7Zm9yKHZhciBiLGM9MCxkPWEubGVuZ3RoO2Q+YyYmKGI9YVtjXSk7YysrKXRoaXMucmVxdWlyZShiKTt0aGlzLmNoZWNrRG9uZSgpfSxhZGROb2RlOmZ1bmN0aW9uKGEpe3RoaXMuaW5mbGlnaHQrKyx0aGlzLnJlcXVpcmUoYSksdGhpcy5jaGVja0RvbmUoKX0scmVxdWlyZTpmdW5jdGlvbihhKXt2YXIgYj1hLnNyY3x8YS5ocmVmO2EuX19ub2RlVXJsPWIsdGhpcy5kZWR1cGUoYixhKXx8dGhpcy5mZXRjaChiLGEpfSxkZWR1cGU6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLnBlbmRpbmdbYV0pcmV0dXJuIHRoaXMucGVuZGluZ1thXS5wdXNoKGIpLCEwO3JldHVybiB0aGlzLmNhY2hlW2FdPyh0aGlzLm9ubG9hZChhLGIsdGhpcy5jYWNoZVthXSksdGhpcy50YWlsKCksITApOih0aGlzLnBlbmRpbmdbYV09W2JdLCExKX0sZmV0Y2g6ZnVuY3Rpb24oYSxkKXtpZihjLmxvYWQmJmNvbnNvbGUubG9nKCJmZXRjaCIsYSxkKSxhLm1hdGNoKC9eZGF0YTovKSl7dmFyIGU9YS5zcGxpdCgiLCIpLGY9ZVswXSxnPWVbMV07Zz1mLmluZGV4T2YoIjtiYXNlNjQiKT4tMT9hdG9iKGcpOmRlY29kZVVSSUNvbXBvbmVudChnKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5yZWNlaXZlKGEsZCxudWxsLGcpfS5iaW5kKHRoaXMpLDApfWVsc2V7dmFyIGg9ZnVuY3Rpb24oYixjKXt0aGlzLnJlY2VpdmUoYSxkLGIsYyl9LmJpbmQodGhpcyk7Yi5sb2FkKGEsaCl9fSxyZWNlaXZlOmZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuY2FjaGVbYV09ZDtmb3IodmFyIGUsZj10aGlzLnBlbmRpbmdbYV0sZz0wLGg9Zi5sZW5ndGg7aD5nJiYoZT1mW2ddKTtnKyspdGhpcy5vbmxvYWQoYSxlLGQpLHRoaXMudGFpbCgpO3RoaXMucGVuZGluZ1thXT1udWxsfSx0YWlsOmZ1bmN0aW9uKCl7LS10aGlzLmluZmxpZ2h0LHRoaXMuY2hlY2tEb25lKCl9LGNoZWNrRG9uZTpmdW5jdGlvbigpe3RoaXMuaW5mbGlnaHR8fHRoaXMub25jb21wbGV0ZSgpfX0sYj1ifHx7YXN5bmM6ITAsb2s6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3RhdHVzPj0yMDAmJmEuc3RhdHVzPDMwMHx8MzA0PT09YS5zdGF0dXN8fDA9PT1hLnN0YXR1c30sbG9hZDpmdW5jdGlvbihjLGQsZSl7dmFyIGY9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybihhLmZsYWdzLmRlYnVnfHxhLmZsYWdzLmJ1c3QpJiYoYys9Ij8iK01hdGgucmFuZG9tKCkpLGYub3BlbigiR0VUIixjLGIuYXN5bmMpLGYuYWRkRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsZnVuY3Rpb24oKXs0PT09Zi5yZWFkeVN0YXRlJiZkLmNhbGwoZSwhYi5vayhmKSYmZixmLnJlc3BvbnNlfHxmLnJlc3BvbnNlVGV4dCxjKX0pLGYuc2VuZCgpLGZ9LGxvYWREb2N1bWVudDpmdW5jdGlvbihhLGIsYyl7dGhpcy5sb2FkKGEsYixjKS5yZXNwb25zZVR5cGU9ImRvY3VtZW50In19LGEueGhyPWIsYS5Mb2FkZXI9ZH0od2luZG93LkhUTUxJbXBvcnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiJsaW5rIj09PWEubG9jYWxOYW1lJiZhLnJlbD09PWd9ZnVuY3Rpb24gYyhhKXt2YXIgYixjPWQoYSk7dHJ5e2I9YnRvYShjKX1jYXRjaChlKXtiPWJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGMpKSksY29uc29sZS53YXJuKCJTY3JpcHQgY29udGFpbmVkIG5vbi1sYXRpbiBjaGFyYWN0ZXJzIHRoYXQgd2VyZSBmb3JjZWQgdG8gbGF0aW4uIFNvbWUgY2hhcmFjdGVycyBtYXkgYmUgd3JvbmcuIixhKX1yZXR1cm4iZGF0YTp0ZXh0L2phdmFzY3JpcHQ7YmFzZTY0LCIrYn1mdW5jdGlvbiBkKGEpe3JldHVybiBhLnRleHRDb250ZW50K2UoYSl9ZnVuY3Rpb24gZShhKXt2YXIgYj1hLl9fbm9kZVVybDtpZighYil7Yj1hLm93bmVyRG9jdW1lbnQuYmFzZVVSSTt2YXIgYz0iWyIrTWF0aC5mbG9vcigxZTMqKE1hdGgucmFuZG9tKCkrMSkpKyJdIixkPWEudGV4dENvbnRlbnQubWF0Y2goL1BvbHltZXJcKFsnIl0oW14nIl0qKS8pO2M9ZCYmZFsxXXx8YyxiKz0iLyIrYysiLmpzIn1yZXR1cm4iXG4vLyMgc291cmNlVVJMPSIrYisiXG4ifWZ1bmN0aW9uIGYoYSl7dmFyIGI9YS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7cmV0dXJuIGIudGV4dENvbnRlbnQ9YS50ZXh0Q29udGVudCxuLnJlc29sdmVVcmxzSW5TdHlsZShiKSxifXZhciBnPSJpbXBvcnQiLGg9YS5mbGFncyxpPS9UcmlkZW50Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGo9d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsP3dpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoZG9jdW1lbnQpOmRvY3VtZW50LGs9e2RvY3VtZW50U2VsZWN0b3JzOiJsaW5rW3JlbD0iK2crIl0iLGltcG9ydHNTZWxlY3RvcnM6WyJsaW5rW3JlbD0iK2crIl0iLCJsaW5rW3JlbD1zdHlsZXNoZWV0XSIsInN0eWxlIiwic2NyaXB0Om5vdChbdHlwZV0pIiwnc2NyaXB0W3R5cGU9InRleHQvamF2YXNjcmlwdCJdJ10uam9pbigiLCIpLG1hcDp7bGluazoicGFyc2VMaW5rIixzY3JpcHQ6InBhcnNlU2NyaXB0IixzdHlsZToicGFyc2VTdHlsZSJ9LHBhcnNlTmV4dDpmdW5jdGlvbigpe3ZhciBhPXRoaXMubmV4dFRvUGFyc2UoKTthJiZ0aGlzLnBhcnNlKGEpfSxwYXJzZTpmdW5jdGlvbihhKXtpZih0aGlzLmlzUGFyc2VkKGEpKXJldHVybiB2b2lkKGgucGFyc2UmJmNvbnNvbGUubG9nKCJbJXNdIGlzIGFscmVhZHkgcGFyc2VkIixhLmxvY2FsTmFtZSkpO3ZhciBiPXRoaXNbdGhpcy5tYXBbYS5sb2NhbE5hbWVdXTtiJiYodGhpcy5tYXJrUGFyc2luZyhhKSxiLmNhbGwodGhpcyxhKSl9LG1hcmtQYXJzaW5nOmZ1bmN0aW9uKGEpe2gucGFyc2UmJmNvbnNvbGUubG9nKCJwYXJzaW5nIixhKSx0aGlzLnBhcnNpbmdFbGVtZW50PWF9LG1hcmtQYXJzaW5nQ29tcGxldGU6ZnVuY3Rpb24oYSl7YS5fX2ltcG9ydFBhcnNlZD0hMCxhLl9faW1wb3J0RWxlbWVudCYmKGEuX19pbXBvcnRFbGVtZW50Ll9faW1wb3J0UGFyc2VkPSEwKSx0aGlzLnBhcnNpbmdFbGVtZW50PW51bGwsaC5wYXJzZSYmY29uc29sZS5sb2coImNvbXBsZXRlZCIsYSksdGhpcy5wYXJzZU5leHQoKX0scGFyc2VJbXBvcnQ6ZnVuY3Rpb24oYSl7aWYoYS5pbXBvcnQuX19pbXBvcnRQYXJzZWQ9ITAsSFRNTEltcG9ydHMuX19pbXBvcnRzUGFyc2luZ0hvb2smJkhUTUxJbXBvcnRzLl9faW1wb3J0c1BhcnNpbmdIb29rKGEpLGEuZGlzcGF0Y2hFdmVudChhLl9fcmVzb3VyY2U/bmV3IEN1c3RvbUV2ZW50KCJsb2FkIix7YnViYmxlczohMX0pOm5ldyBDdXN0b21FdmVudCgiZXJyb3IiLHtidWJibGVzOiExfSkpLGEuX19wZW5kaW5nKWZvcih2YXIgYjthLl9fcGVuZGluZy5sZW5ndGg7KWI9YS5fX3BlbmRpbmcuc2hpZnQoKSxiJiZiKHt0YXJnZXQ6YX0pO3RoaXMubWFya1BhcnNpbmdDb21wbGV0ZShhKX0scGFyc2VMaW5rOmZ1bmN0aW9uKGEpe2IoYSk/dGhpcy5wYXJzZUltcG9ydChhKTooYS5ocmVmPWEuaHJlZix0aGlzLnBhcnNlR2VuZXJpYyhhKSl9LHBhcnNlU3R5bGU6ZnVuY3Rpb24oYSl7dmFyIGI9YTthPWYoYSksYS5fX2ltcG9ydEVsZW1lbnQ9Yix0aGlzLnBhcnNlR2VuZXJpYyhhKX0scGFyc2VHZW5lcmljOmZ1bmN0aW9uKGEpe3RoaXMudHJhY2tFbGVtZW50KGEpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYSl9LHRyYWNrRWxlbWVudDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1mdW5jdGlvbihkKXtiJiZiKGQpLGMubWFya1BhcnNpbmdDb21wbGV0ZShhKX07aWYoYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixkKSxhLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixkKSxpJiYic3R5bGUiPT09YS5sb2NhbE5hbWUpe3ZhciBlPSExO2lmKC0xPT1hLnRleHRDb250ZW50LmluZGV4T2YoIkBpbXBvcnQiKSllPSEwO2Vsc2UgaWYoYS5zaGVldCl7ZT0hMDtmb3IodmFyIGYsZz1hLnNoZWV0LmNzc1J1bGVzLGg9Zz9nLmxlbmd0aDowLGo9MDtoPmomJihmPWdbal0pO2orKylmLnR5cGU9PT1DU1NSdWxlLklNUE9SVF9SVUxFJiYoZT1lJiZCb29sZWFuKGYuc3R5bGVTaGVldCkpfWUmJmEuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoImxvYWQiLHtidWJibGVzOiExfSkpfX0scGFyc2VTY3JpcHQ6ZnVuY3Rpb24oYil7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7ZC5fX2ltcG9ydEVsZW1lbnQ9YixkLnNyYz1iLnNyYz9iLnNyYzpjKGIpLGEuY3VycmVudFNjcmlwdD1iLHRoaXMudHJhY2tFbGVtZW50KGQsZnVuY3Rpb24oKXtkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZCksYS5jdXJyZW50U2NyaXB0PW51bGx9KSxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGQpfSxuZXh0VG9QYXJzZTpmdW5jdGlvbigpe3JldHVybiF0aGlzLnBhcnNpbmdFbGVtZW50JiZ0aGlzLm5leHRUb1BhcnNlSW5Eb2Moail9LG5leHRUb1BhcnNlSW5Eb2M6ZnVuY3Rpb24oYSxjKXtmb3IodmFyIGQsZT1hLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5wYXJzZVNlbGVjdG9yc0Zvck5vZGUoYSkpLGY9MCxnPWUubGVuZ3RoO2c+ZiYmKGQ9ZVtmXSk7ZisrKWlmKCF0aGlzLmlzUGFyc2VkKGQpKXJldHVybiB0aGlzLmhhc1Jlc291cmNlKGQpP2IoZCk/dGhpcy5uZXh0VG9QYXJzZUluRG9jKGQuaW1wb3J0LGQpOmQ6dm9pZCAwO3JldHVybiBjfSxwYXJzZVNlbGVjdG9yc0Zvck5vZGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vd25lckRvY3VtZW50fHxhO3JldHVybiBiPT09aj90aGlzLmRvY3VtZW50U2VsZWN0b3JzOnRoaXMuaW1wb3J0c1NlbGVjdG9yc30saXNQYXJzZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuX19pbXBvcnRQYXJzZWR9LGhhc1Jlc291cmNlOmZ1bmN0aW9uKGEpe3JldHVybiBiKGEpJiYhYS5pbXBvcnQ/ITE6ITB9fSxsPS8odXJsXCgpKFteKV0qKShcKSkvZyxtPS8oQGltcG9ydFtcc10rKD8hdXJsXCgpKShbXjtdKikoOykvZyxuPXtyZXNvbHZlVXJsc0luU3R5bGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vd25lckRvY3VtZW50LGM9Yi5jcmVhdGVFbGVtZW50KCJhIik7cmV0dXJuIGEudGV4dENvbnRlbnQ9dGhpcy5yZXNvbHZlVXJsc0luQ3NzVGV4dChhLnRleHRDb250ZW50LGMpLGF9LHJlc29sdmVVcmxzSW5Dc3NUZXh0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5yZXBsYWNlVXJscyhhLGIsbCk7cmV0dXJuIGM9dGhpcy5yZXBsYWNlVXJscyhjLGIsbSl9LHJlcGxhY2VVcmxzOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYS5yZXBsYWNlKGMsZnVuY3Rpb24oYSxjLGQsZSl7dmFyIGY9ZC5yZXBsYWNlKC9bIiddL2csIiIpO3JldHVybiBiLmhyZWY9ZixmPWIuaHJlZixjKyInIitmKyInIitlfSl9fTthLnBhcnNlcj1rLGEucGF0aD1uLGEuaXNJRT1pfShIVE1MSW1wb3J0cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4gYyhhLG0pfWZ1bmN0aW9uIGMoYSxiKXtyZXR1cm4ibGluayI9PT1hLmxvY2FsTmFtZSYmYS5nZXRBdHRyaWJ1dGUoInJlbCIpPT09Yn1mdW5jdGlvbiBkKGEsYil7dmFyIGM9YTtjIGluc3RhbmNlb2YgRG9jdW1lbnR8fChjPWRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChtKSksYy5fVVJMPWI7dmFyIGQ9Yy5jcmVhdGVFbGVtZW50KCJiYXNlIik7ZC5zZXRBdHRyaWJ1dGUoImhyZWYiLGIpLGMuYmFzZVVSSXx8KGMuYmFzZVVSST1iKTt2YXIgZT1jLmNyZWF0ZUVsZW1lbnQoIm1ldGEiKTtyZXR1cm4gZS5zZXRBdHRyaWJ1dGUoImNoYXJzZXQiLCJ1dGYtOCIpLGMuaGVhZC5hcHBlbmRDaGlsZChlKSxjLmhlYWQuYXBwZW5kQ2hpbGQoZCksYSBpbnN0YW5jZW9mIERvY3VtZW50fHwoYy5ib2R5LmlubmVySFRNTD1hKSx3aW5kb3cuSFRNTFRlbXBsYXRlRWxlbWVudCYmSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXAmJkhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwKGMpLGN9ZnVuY3Rpb24gZShhLGIpe2I9Ynx8bixnKGZ1bmN0aW9uKCl7aChhLGIpfSxiKX1mdW5jdGlvbiBmKGEpe3JldHVybiJjb21wbGV0ZSI9PT1hLnJlYWR5U3RhdGV8fGEucmVhZHlTdGF0ZT09PXV9ZnVuY3Rpb24gZyhhLGIpe2lmKGYoYikpYSYmYSgpO2Vsc2V7dmFyIGM9ZnVuY3Rpb24oKXsoImNvbXBsZXRlIj09PWIucmVhZHlTdGF0ZXx8Yi5yZWFkeVN0YXRlPT09dSkmJihiLnJlbW92ZUV2ZW50TGlzdGVuZXIodixjKSxnKGEsYikpfTtiLmFkZEV2ZW50TGlzdGVuZXIodixjKX19ZnVuY3Rpb24gaChhLGIpe2Z1bmN0aW9uIGMoKXtmPT1nJiZyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYSl9ZnVuY3Rpb24gZCgpe2YrKyxjKCl9dmFyIGU9Yi5xdWVyeVNlbGVjdG9yQWxsKCJsaW5rW3JlbD1pbXBvcnRdIiksZj0wLGc9ZS5sZW5ndGg7aWYoZylmb3IodmFyIGgsaj0wO2c+aiYmKGg9ZVtqXSk7aisrKWkoaCk/ZC5jYWxsKGgpOihoLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGQpLGguYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLGQpKTtlbHNlIGMoKX1mdW5jdGlvbiBpKGEpe3JldHVybiBrP2EuaW1wb3J0JiYibG9hZGluZyIhPT1hLmltcG9ydC5yZWFkeVN0YXRlOmEuX19pbXBvcnRQYXJzZWR9dmFyIGo9ImltcG9ydCJpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaW5rIiksaz1qLGw9YS5mbGFncyxtPSJpbXBvcnQiLG49d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsP1NoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChkb2N1bWVudCk6ZG9jdW1lbnQ7aWYoayl2YXIgbz17fTtlbHNlIHZhciBwPShhLnhocixhLkxvYWRlcikscT1hLnBhcnNlcixvPXtkb2N1bWVudHM6e30sZG9jdW1lbnRQcmVsb2FkU2VsZWN0b3JzOiJsaW5rW3JlbD0iK20rIl0iLGltcG9ydHNQcmVsb2FkU2VsZWN0b3JzOlsibGlua1tyZWw9IittKyJdIl0uam9pbigiLCIpLGxvYWROb2RlOmZ1bmN0aW9uKGEpe3IuYWRkTm9kZShhKX0sbG9hZFN1YnRyZWU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5tYXJzaGFsTm9kZXMoYSk7ci5hZGROb2RlcyhiKX0sbWFyc2hhbE5vZGVzOmZ1bmN0aW9uKGEpe3JldHVybiBhLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5sb2FkU2VsZWN0b3JzRm9yTm9kZShhKSl9LGxvYWRTZWxlY3RvcnNGb3JOb2RlOmZ1bmN0aW9uKGEpe3ZhciBiPWEub3duZXJEb2N1bWVudHx8YTtyZXR1cm4gYj09PW4/dGhpcy5kb2N1bWVudFByZWxvYWRTZWxlY3RvcnM6dGhpcy5pbXBvcnRzUHJlbG9hZFNlbGVjdG9yc30sbG9hZGVkOmZ1bmN0aW9uKGEsYyxlKXtpZihsLmxvYWQmJmNvbnNvbGUubG9nKCJsb2FkZWQiLGEsYyksYy5fX3Jlc291cmNlPWUsYihjKSl7dmFyIGY9dGhpcy5kb2N1bWVudHNbYV07Znx8KGY9ZChlLGEpLGYuX19pbXBvcnRMaW5rPWMsdGhpcy5ib290RG9jdW1lbnQoZiksdGhpcy5kb2N1bWVudHNbYV09ZiksYy5pbXBvcnQ9Zn1xLnBhcnNlTmV4dCgpfSxib290RG9jdW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5sb2FkU3VidHJlZShhKSx0aGlzLm9ic2VydmUoYSkscS5wYXJzZU5leHQoKX0sbG9hZGVkQWxsOmZ1bmN0aW9uKCl7cS5wYXJzZU5leHQoKX19LHI9bmV3IHAoby5sb2FkZWQuYmluZChvKSxvLmxvYWRlZEFsbC5iaW5kKG8pKTt2YXIgcz17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEhUTUxJbXBvcnRzLmN1cnJlbnRTY3JpcHR8fGRvY3VtZW50LmN1cnJlbnRTY3JpcHR9LGNvbmZpZ3VyYWJsZTohMH07aWYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LCJfY3VycmVudFNjcmlwdCIscyksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9jdXJyZW50U2NyaXB0IixzKSwhZG9jdW1lbnQuYmFzZVVSSSl7dmFyIHQ9e2dldDpmdW5jdGlvbigpe3JldHVybiB3aW5kb3cubG9jYXRpb24uaHJlZn0sY29uZmlndXJhYmxlOiEwfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsImJhc2VVUkkiLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJiYXNlVVJJIix0KX12YXIgdT1IVE1MSW1wb3J0cy5pc0lFPyJjb21wbGV0ZSI6ImludGVyYWN0aXZlIix2PSJyZWFkeXN0YXRlY2hhbmdlIjthLmhhc05hdGl2ZT1qLGEudXNlTmF0aXZlPWssYS5pbXBvcnRlcj1vLGEud2hlbkltcG9ydHNSZWFkeT1lLGEuSU1QT1JUX0xJTktfVFlQRT1tLGEuaXNJbXBvcnRMb2FkZWQ9aSxhLmltcG9ydExvYWRlcj1yfSh3aW5kb3cuSFRNTEltcG9ydHMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7Zm9yKHZhciBiLGQ9MCxlPWEubGVuZ3RoO2U+ZCYmKGI9YVtkXSk7ZCsrKSJjaGlsZExpc3QiPT09Yi50eXBlJiZiLmFkZGVkTm9kZXMubGVuZ3RoJiZjKGIuYWRkZWROb2Rlcyl9ZnVuY3Rpb24gYyhhKXtmb3IodmFyIGIsZT0wLGc9YS5sZW5ndGg7Zz5lJiYoYj1hW2VdKTtlKyspZChiKSYmZi5sb2FkTm9kZShiKSxiLmNoaWxkcmVuJiZiLmNoaWxkcmVuLmxlbmd0aCYmYyhiLmNoaWxkcmVuKX1mdW5jdGlvbiBkKGEpe3JldHVybiAxPT09YS5ub2RlVHlwZSYmZy5jYWxsKGEsZi5sb2FkU2VsZWN0b3JzRm9yTm9kZShhKSl9ZnVuY3Rpb24gZShhKXtoLm9ic2VydmUoYSx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KX12YXIgZj0oYS5JTVBPUlRfTElOS19UWVBFLGEuaW1wb3J0ZXIpLGc9SFRNTEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXN8fEhUTUxFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzU2VsZWN0b3J8fEhUTUxFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fEhUTUxFbGVtZW50LnByb3RvdHlwZS5tb3pNYXRjaGVzU2VsZWN0b3J8fEhUTUxFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvcixoPW5ldyBNdXRhdGlvbk9ic2VydmVyKGIpO2Eub2JzZXJ2ZT1lLGYub2JzZXJ2ZT1lfShIVE1MSW1wb3J0cyksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7SFRNTEltcG9ydHMuaW1wb3J0ZXIuYm9vdERvY3VtZW50KGIpfSJmdW5jdGlvbiIhPXR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQmJih3aW5kb3cuQ3VzdG9tRXZlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFdmVudCgiSFRNTEV2ZW50cyIpO3JldHVybiBjLmluaXRFdmVudChhLGIuYnViYmxlcz09PSExPyExOiEwLGIuY2FuY2VsYWJsZT09PSExPyExOiEwLGIuZGV0YWlsKSxjfSk7dmFyIGI9d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsP3dpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoZG9jdW1lbnQpOmRvY3VtZW50O0hUTUxJbXBvcnRzLndoZW5JbXBvcnRzUmVhZHkoZnVuY3Rpb24oKXtIVE1MSW1wb3J0cy5yZWFkeT0hMCxIVE1MSW1wb3J0cy5yZWFkeVRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksYi5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgiSFRNTEltcG9ydHNMb2FkZWQiLHtidWJibGVzOiEwfSkpfSksSFRNTEltcG9ydHMudXNlTmF0aXZlfHwoImNvbXBsZXRlIj09PWRvY3VtZW50LnJlYWR5U3RhdGV8fCJpbnRlcmFjdGl2ZSI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiYhd2luZG93LmF0dGFjaEV2ZW50P2EoKTpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixhKSl9KCksd2luZG93LkN1c3RvbUVsZW1lbnRzPXdpbmRvdy5DdXN0b21FbGVtZW50c3x8e2ZsYWdzOnt9fSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYyxkKXt2YXIgZT1hLmZpcnN0RWxlbWVudENoaWxkO2lmKCFlKWZvcihlPWEuZmlyc3RDaGlsZDtlJiZlLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWU9ZS5uZXh0U2libGluZztmb3IoO2U7KWMoZSxkKSE9PSEwJiZiKGUsYyxkKSxlPWUubmV4dEVsZW1lbnRTaWJsaW5nO3JldHVybiBudWxsfWZ1bmN0aW9uIGMoYSxiKXtmb3IodmFyIGM9YS5zaGFkb3dSb290O2M7KWQoYyxiKSxjPWMub2xkZXJTaGFkb3dSb290fWZ1bmN0aW9uIGQoYSxkKXtiKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGQoYSk/ITA6dm9pZCBjKGEsZCl9KSxjKGEsZCl9ZnVuY3Rpb24gZShhKXtyZXR1cm4gaChhKT8oaShhKSwhMCk6dm9pZCBsKGEpfWZ1bmN0aW9uIGYoYSl7ZChhLGZ1bmN0aW9uKGEpe3JldHVybiBlKGEpPyEwOnZvaWQgMH0pfWZ1bmN0aW9uIGcoYSl7cmV0dXJuIGUoYSl8fGYoYSl9ZnVuY3Rpb24gaChiKXtpZighYi5fX3VwZ3JhZGVkX18mJmIubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl7dmFyIGM9Yi5nZXRBdHRyaWJ1dGUoImlzIil8fGIubG9jYWxOYW1lLGQ9YS5yZWdpc3RyeVtjXTtpZihkKXJldHVybiBBLmRvbSYmY29uc29sZS5ncm91cCgidXBncmFkZToiLGIubG9jYWxOYW1lKSxhLnVwZ3JhZGUoYiksQS5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSwhMH19ZnVuY3Rpb24gaShhKXtsKGEpLHIoYSkmJmQoYSxmdW5jdGlvbihhKXtsKGEpfSl9ZnVuY3Rpb24gaihhKXtpZihFLnB1c2goYSksIUQpe0Q9ITA7dmFyIGI9d2luZG93LlBsYXRmb3JtJiZ3aW5kb3cuUGxhdGZvcm0uZW5kT2ZNaWNyb3Rhc2t8fHNldFRpbWVvdXQ7YihrKX19ZnVuY3Rpb24gaygpe0Q9ITE7Zm9yKHZhciBhLGI9RSxjPTAsZD1iLmxlbmd0aDtkPmMmJihhPWJbY10pO2MrKylhKCk7RT1bXX1mdW5jdGlvbiBsKGEpe0M/aihmdW5jdGlvbigpe20oYSl9KTptKGEpfWZ1bmN0aW9uIG0oYSl7KGEuYXR0YWNoZWRDYWxsYmFja3x8YS5kZXRhY2hlZENhbGxiYWNrfHxhLl9fdXBncmFkZWRfXyYmQS5kb20pJiYoQS5kb20mJmNvbnNvbGUuZ3JvdXAoImluc2VydGVkOiIsYS5sb2NhbE5hbWUpLHIoYSkmJihhLl9faW5zZXJ0ZWQ9KGEuX19pbnNlcnRlZHx8MCkrMSxhLl9faW5zZXJ0ZWQ8MSYmKGEuX19pbnNlcnRlZD0xKSxhLl9faW5zZXJ0ZWQ+MT9BLmRvbSYmY29uc29sZS53YXJuKCJpbnNlcnRlZDoiLGEubG9jYWxOYW1lLCJpbnNlcnQvcmVtb3ZlIGNvdW50OiIsYS5fX2luc2VydGVkKTphLmF0dGFjaGVkQ2FsbGJhY2smJihBLmRvbSYmY29uc29sZS5sb2coImluc2VydGVkOiIsYS5sb2NhbE5hbWUpLGEuYXR0YWNoZWRDYWxsYmFjaygpKSksQS5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSl9ZnVuY3Rpb24gbihhKXtvKGEpLGQoYSxmdW5jdGlvbihhKXtvKGEpfSl9ZnVuY3Rpb24gbyhhKXtDP2ooZnVuY3Rpb24oKXtwKGEpfSk6cChhKX1mdW5jdGlvbiBwKGEpeyhhLmF0dGFjaGVkQ2FsbGJhY2t8fGEuZGV0YWNoZWRDYWxsYmFja3x8YS5fX3VwZ3JhZGVkX18mJkEuZG9tKSYmKEEuZG9tJiZjb25zb2xlLmdyb3VwKCJyZW1vdmVkOiIsYS5sb2NhbE5hbWUpLHIoYSl8fChhLl9faW5zZXJ0ZWQ9KGEuX19pbnNlcnRlZHx8MCktMSxhLl9faW5zZXJ0ZWQ+MCYmKGEuX19pbnNlcnRlZD0wKSxhLl9faW5zZXJ0ZWQ8MD9BLmRvbSYmY29uc29sZS53YXJuKCJyZW1vdmVkOiIsYS5sb2NhbE5hbWUsImluc2VydC9yZW1vdmUgY291bnQ6IixhLl9faW5zZXJ0ZWQpOmEuZGV0YWNoZWRDYWxsYmFjayYmYS5kZXRhY2hlZENhbGxiYWNrKCkpLEEuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCkpfWZ1bmN0aW9uIHEoYSl7cmV0dXJuIHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD9TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoYSk6YX1mdW5jdGlvbiByKGEpe2Zvcih2YXIgYj1hLGM9cShkb2N1bWVudCk7Yjspe2lmKGI9PWMpcmV0dXJuITA7Yj1iLnBhcmVudE5vZGV8fGIuaG9zdH19ZnVuY3Rpb24gcyhhKXtpZihhLnNoYWRvd1Jvb3QmJiFhLnNoYWRvd1Jvb3QuX193YXRjaGVkKXtBLmRvbSYmY29uc29sZS5sb2coIndhdGNoaW5nIHNoYWRvdy1yb290IGZvcjogIixhLmxvY2FsTmFtZSk7Zm9yKHZhciBiPWEuc2hhZG93Um9vdDtiOyl0KGIpLGI9Yi5vbGRlclNoYWRvd1Jvb3R9fWZ1bmN0aW9uIHQoYSl7YS5fX3dhdGNoZWR8fCh3KGEpLGEuX193YXRjaGVkPSEwKX1mdW5jdGlvbiB1KGEpe2lmKEEuZG9tKXt2YXIgYj1hWzBdO2lmKGImJiJjaGlsZExpc3QiPT09Yi50eXBlJiZiLmFkZGVkTm9kZXMmJmIuYWRkZWROb2Rlcyl7Zm9yKHZhciBjPWIuYWRkZWROb2Rlc1swXTtjJiZjIT09ZG9jdW1lbnQmJiFjLmhvc3Q7KWM9Yy5wYXJlbnROb2RlO3ZhciBkPWMmJihjLlVSTHx8Yy5fVVJMfHxjLmhvc3QmJmMuaG9zdC5sb2NhbE5hbWUpfHwiIjtkPWQuc3BsaXQoIi8/Iikuc2hpZnQoKS5zcGxpdCgiLyIpLnBvcCgpfWNvbnNvbGUuZ3JvdXAoIm11dGF0aW9ucyAoJWQpIFslc10iLGEubGVuZ3RoLGR8fCIiKX1hLmZvckVhY2goZnVuY3Rpb24oYSl7ImNoaWxkTGlzdCI9PT1hLnR5cGUmJihHKGEuYWRkZWROb2RlcyxmdW5jdGlvbihhKXthLmxvY2FsTmFtZSYmZyhhKX0pLEcoYS5yZW1vdmVkTm9kZXMsZnVuY3Rpb24oYSl7YS5sb2NhbE5hbWUmJm4oYSl9KSl9KSxBLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIHYoKXt1KEYudGFrZVJlY29yZHMoKSksaygpfWZ1bmN0aW9uIHcoYSl7Ri5vYnNlcnZlKGEse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSl9ZnVuY3Rpb24geChhKXt3KGEpfWZ1bmN0aW9uIHkoYSl7QS5kb20mJmNvbnNvbGUuZ3JvdXAoInVwZ3JhZGVEb2N1bWVudDogIixhLmJhc2VVUkkuc3BsaXQoIi8iKS5wb3AoKSksZyhhKSxBLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIHooYSl7YT1xKGEpO2Zvcih2YXIgYixjPWEucXVlcnlTZWxlY3RvckFsbCgibGlua1tyZWw9IitCKyJdIiksZD0wLGU9Yy5sZW5ndGg7ZT5kJiYoYj1jW2RdKTtkKyspYi5pbXBvcnQmJmIuaW1wb3J0Ll9fcGFyc2VkJiZ6KGIuaW1wb3J0KTt5KGEpfXZhciBBPXdpbmRvdy5sb2dGbGFnc3x8e30sQj13aW5kb3cuSFRNTEltcG9ydHM/SFRNTEltcG9ydHMuSU1QT1JUX0xJTktfVFlQRToibm9uZSIsQz0hd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyPT09d2luZG93LkpzTXV0YXRpb25PYnNlcnZlcjthLmhhc1BvbHlmaWxsTXV0YXRpb25zPUM7dmFyIEQ9ITEsRT1bXSxGPW5ldyBNdXRhdGlvbk9ic2VydmVyKHUpLEc9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKTthLklNUE9SVF9MSU5LX1RZUEU9QixhLndhdGNoU2hhZG93PXMsYS51cGdyYWRlRG9jdW1lbnRUcmVlPXosYS51cGdyYWRlQWxsPWcsYS51cGdyYWRlU3VidHJlZT1mLGEuaW5zZXJ0ZWROb2RlPWksYS5vYnNlcnZlRG9jdW1lbnQ9eCxhLnVwZ3JhZGVEb2N1bWVudD15LGEudGFrZVJlY29yZHM9dn0od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIsZyl7dmFyIGg9Z3x8e307aWYoIWIpdGhyb3cgbmV3IEVycm9yKCJkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ6IGZpcnN0IGFyZ3VtZW50IGBuYW1lYCBtdXN0IG5vdCBiZSBlbXB0eSIpO2lmKGIuaW5kZXhPZigiLSIpPDApdGhyb3cgbmV3IEVycm9yKCJkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ6IGZpcnN0IGFyZ3VtZW50ICgnbmFtZScpIG11c3QgY29udGFpbiBhIGRhc2ggKCctJykuIEFyZ3VtZW50IHByb3ZpZGVkIHdhcyAnIitTdHJpbmcoYikrIicuIik7aWYoYyhiKSl0aHJvdyBuZXcgRXJyb3IoIkZhaWxlZCB0byBleGVjdXRlICdyZWdpc3RlckVsZW1lbnQnIG9uICdEb2N1bWVudCc6IFJlZ2lzdHJhdGlvbiBmYWlsZWQgZm9yIHR5cGUgJyIrU3RyaW5nKGIpKyInLiBUaGUgdHlwZSBuYW1lIGlzIGludmFsaWQuIik7aWYobihiKSl0aHJvdyBuZXcgRXJyb3IoIkR1cGxpY2F0ZURlZmluaXRpb25FcnJvcjogYSB0eXBlIHdpdGggbmFtZSAnIitTdHJpbmcoYikrIicgaXMgYWxyZWFkeSByZWdpc3RlcmVkIik7aWYoIWgucHJvdG90eXBlKXRocm93IG5ldyBFcnJvcigiT3B0aW9ucyBtaXNzaW5nIHJlcXVpcmVkIHByb3RvdHlwZSBwcm9wZXJ0eSIpO3JldHVybiBoLl9fbmFtZT1iLnRvTG93ZXJDYXNlKCksaC5saWZlY3ljbGU9aC5saWZlY3ljbGV8fHt9LGguYW5jZXN0cnk9ZChoLmV4dGVuZHMpLGUoaCksZihoKSxsKGgucHJvdG90eXBlKSxvKGguX19uYW1lLGgpLGguY3Rvcj1wKGgpLGguY3Rvci5wcm90b3R5cGU9aC5wcm90b3R5cGUsaC5wcm90b3R5cGUuY29uc3RydWN0b3I9aC5jdG9yLGEucmVhZHkmJmEudXBncmFkZURvY3VtZW50VHJlZShkb2N1bWVudCksaC5jdG9yfWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBiPTA7Yjx5Lmxlbmd0aDtiKyspaWYoYT09PXlbYl0pcmV0dXJuITB9ZnVuY3Rpb24gZChhKXt2YXIgYj1uKGEpO3JldHVybiBiP2QoYi5leHRlbmRzKS5jb25jYXQoW2JdKTpbXX1mdW5jdGlvbiBlKGEpe2Zvcih2YXIgYixjPWEuZXh0ZW5kcyxkPTA7Yj1hLmFuY2VzdHJ5W2RdO2QrKyljPWIuaXMmJmIudGFnO2EudGFnPWN8fGEuX19uYW1lLGMmJihhLmlzPWEuX19uYW1lKX1mdW5jdGlvbiBmKGEpe2lmKCFPYmplY3QuX19wcm90b19fKXt2YXIgYj1IVE1MRWxlbWVudC5wcm90b3R5cGU7aWYoYS5pcyl7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhLnRhZyk7Yj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoYyl9Zm9yKHZhciBkLGU9YS5wcm90b3R5cGU7ZSYmZSE9PWI7KXt2YXIgZD1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7ZS5fX3Byb3RvX189ZCxlPWR9fWEubmF0aXZlPWJ9ZnVuY3Rpb24gZyhhKXtyZXR1cm4gaChCKGEudGFnKSxhKX1mdW5jdGlvbiBoKGIsYyl7cmV0dXJuIGMuaXMmJmIuc2V0QXR0cmlidXRlKCJpcyIsYy5pcyksYi5yZW1vdmVBdHRyaWJ1dGUoInVucmVzb2x2ZWQiKSxpKGIsYyksYi5fX3VwZ3JhZGVkX189ITAsayhiKSxhLmluc2VydGVkTm9kZShiKSxhLnVwZ3JhZGVTdWJ0cmVlKGIpLGJ9ZnVuY3Rpb24gaShhLGIpe09iamVjdC5fX3Byb3RvX18/YS5fX3Byb3RvX189Yi5wcm90b3R5cGU6KGooYSxiLnByb3RvdHlwZSxiLm5hdGl2ZSksYS5fX3Byb3RvX189Yi5wcm90b3R5cGUpfWZ1bmN0aW9uIGooYSxiLGMpe2Zvcih2YXIgZD17fSxlPWI7ZSE9PWMmJmUhPT1IVE1MRWxlbWVudC5wcm90b3R5cGU7KXtmb3IodmFyIGYsZz1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKSxoPTA7Zj1nW2hdO2grKylkW2ZdfHwoT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsZixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsZikpLGRbZl09MSk7ZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9fWZ1bmN0aW9uIGsoYSl7YS5jcmVhdGVkQ2FsbGJhY2smJmEuY3JlYXRlZENhbGxiYWNrKCl9ZnVuY3Rpb24gbChhKXtpZighYS5zZXRBdHRyaWJ1dGUuX3BvbHlmaWxsZWQpe3ZhciBiPWEuc2V0QXR0cmlidXRlO2Euc2V0QXR0cmlidXRlPWZ1bmN0aW9uKGEsYyl7bS5jYWxsKHRoaXMsYSxjLGIpfTt2YXIgYz1hLnJlbW92ZUF0dHJpYnV0ZTthLnJlbW92ZUF0dHJpYnV0ZT1mdW5jdGlvbihhKXttLmNhbGwodGhpcyxhLG51bGwsYyl9LGEuc2V0QXR0cmlidXRlLl9wb2x5ZmlsbGVkPSEwfX1mdW5jdGlvbiBtKGEsYixjKXt2YXIgZD10aGlzLmdldEF0dHJpYnV0ZShhKTtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZT10aGlzLmdldEF0dHJpYnV0ZShhKTt0aGlzLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayYmZSE9PWQmJnRoaXMuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGEsZCxlKX1mdW5jdGlvbiBuKGEpe3JldHVybiBhP3pbYS50b0xvd2VyQ2FzZSgpXTp2b2lkIDB9ZnVuY3Rpb24gbyhhLGIpe3pbYV09Yn1mdW5jdGlvbiBwKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBnKGEpfX1mdW5jdGlvbiBxKGEsYixjKXtyZXR1cm4gYT09PUE/cihiLGMpOkMoYSxiKX1mdW5jdGlvbiByKGEsYil7dmFyIGM9bihifHxhKTtpZihjKXtpZihhPT1jLnRhZyYmYj09Yy5pcylyZXR1cm4gbmV3IGMuY3RvcjtpZighYiYmIWMuaXMpcmV0dXJuIG5ldyBjLmN0b3J9aWYoYil7dmFyIGQ9cihhKTtyZXR1cm4gZC5zZXRBdHRyaWJ1dGUoImlzIixiKSxkfXZhciBkPUIoYSk7cmV0dXJuIGEuaW5kZXhPZigiLSIpPj0wJiZpKGQsSFRNTEVsZW1lbnQpLGR9ZnVuY3Rpb24gcyhhKXtpZighYS5fX3VwZ3JhZGVkX18mJmEubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl7dmFyIGI9YS5nZXRBdHRyaWJ1dGUoImlzIiksYz1uKGJ8fGEubG9jYWxOYW1lKTtpZihjKXtpZihiJiZjLnRhZz09YS5sb2NhbE5hbWUpcmV0dXJuIGgoYSxjKTtpZighYiYmIWMuZXh0ZW5kcylyZXR1cm4gaChhLGMpfX19ZnVuY3Rpb24gdChiKXt2YXIgYz1ELmNhbGwodGhpcyxiKTtyZXR1cm4gYS51cGdyYWRlQWxsKGMpLGN9YXx8KGE9d2luZG93LkN1c3RvbUVsZW1lbnRzPXtmbGFnczp7fX0pO3ZhciB1PWEuZmxhZ3Msdj1Cb29sZWFuKGRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCksdz0hdS5yZWdpc3RlciYmdiYmIXdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbDtpZih3KXt2YXIgeD1mdW5jdGlvbigpe307YS5yZWdpc3RyeT17fSxhLnVwZ3JhZGVFbGVtZW50PXgsYS53YXRjaFNoYWRvdz14LGEudXBncmFkZT14LGEudXBncmFkZUFsbD14LGEudXBncmFkZVN1YnRyZWU9eCxhLm9ic2VydmVEb2N1bWVudD14LGEudXBncmFkZURvY3VtZW50PXgsYS51cGdyYWRlRG9jdW1lbnRUcmVlPXgsYS50YWtlUmVjb3Jkcz14LGEucmVzZXJ2ZWRUYWdMaXN0PVtdfWVsc2V7dmFyIHk9WyJhbm5vdGF0aW9uLXhtbCIsImNvbG9yLXByb2ZpbGUiLCJmb250LWZhY2UiLCJmb250LWZhY2Utc3JjIiwiZm9udC1mYWNlLXVyaSIsImZvbnQtZmFjZS1mb3JtYXQiLCJmb250LWZhY2UtbmFtZSIsIm1pc3NpbmctZ2x5cGgiXSx6PXt9LEE9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLEI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5iaW5kKGRvY3VtZW50KSxDPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUy5iaW5kKGRvY3VtZW50KSxEPU5vZGUucHJvdG90eXBlLmNsb25lTm9kZTtkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ9Yixkb2N1bWVudC5jcmVhdGVFbGVtZW50PXIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TPXEsTm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlPXQsYS5yZWdpc3RyeT16LGEudXBncmFkZT1zfXZhciBFO0U9T2JqZWN0Ll9fcHJvdG9fX3x8dz9mdW5jdGlvbihhLGIpe3JldHVybiBhIGluc3RhbmNlb2YgYn06ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9YTtjOyl7aWYoYz09PWIucHJvdG90eXBlKXJldHVybiEwO2M9Yy5fX3Byb3RvX199cmV0dXJuITF9LGEuaW5zdGFuY2VvZj1FLGEucmVzZXJ2ZWRUYWdMaXN0PXksZG9jdW1lbnQucmVnaXN0ZXI9ZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50LGEuaGFzTmF0aXZlPXYsYS51c2VOYXRpdmU9d30od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiJsaW5rIj09PWEubG9jYWxOYW1lJiZhLmdldEF0dHJpYnV0ZSgicmVsIik9PT1jfXZhciBjPWEuSU1QT1JUX0xJTktfVFlQRSxkPXtzZWxlY3RvcnM6WyJsaW5rW3JlbD0iK2MrIl0iXSxtYXA6e2xpbms6InBhcnNlTGluayJ9LHBhcnNlOmZ1bmN0aW9uKGEpe2lmKCFhLl9fcGFyc2VkKXthLl9fcGFyc2VkPSEwO3ZhciBiPWEucXVlcnlTZWxlY3RvckFsbChkLnNlbGVjdG9ycyk7ZShiLGZ1bmN0aW9uKGEpe2RbZC5tYXBbYS5sb2NhbE5hbWVdXShhKX0pLEN1c3RvbUVsZW1lbnRzLnVwZ3JhZGVEb2N1bWVudChhKSxDdXN0b21FbGVtZW50cy5vYnNlcnZlRG9jdW1lbnQoYSl9fSxwYXJzZUxpbms6ZnVuY3Rpb24oYSl7YihhKSYmdGhpcy5wYXJzZUltcG9ydChhKX0scGFyc2VJbXBvcnQ6ZnVuY3Rpb24oYSl7YS5pbXBvcnQmJmQucGFyc2UoYS5pbXBvcnQpfX0sZT1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpO2EucGFyc2VyPWQsYS5JTVBPUlRfTElOS19UWVBFPWN9KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe0N1c3RvbUVsZW1lbnRzLnBhcnNlci5wYXJzZShkb2N1bWVudCksQ3VzdG9tRWxlbWVudHMudXBncmFkZURvY3VtZW50KGRvY3VtZW50KTsKdmFyIGE9d2luZG93LlBsYXRmb3JtJiZQbGF0Zm9ybS5lbmRPZk1pY3JvdGFzaz9QbGF0Zm9ybS5lbmRPZk1pY3JvdGFzazpzZXRUaW1lb3V0O2EoZnVuY3Rpb24oKXtDdXN0b21FbGVtZW50cy5yZWFkeT0hMCxDdXN0b21FbGVtZW50cy5yZWFkeVRpbWU9RGF0ZS5ub3coKSx3aW5kb3cuSFRNTEltcG9ydHMmJihDdXN0b21FbGVtZW50cy5lbGFwc2VkPUN1c3RvbUVsZW1lbnRzLnJlYWR5VGltZS1IVE1MSW1wb3J0cy5yZWFkeVRpbWUpLGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJXZWJDb21wb25lbnRzUmVhZHkiLHtidWJibGVzOiEwfSkpLHdpbmRvdy5IVE1MSW1wb3J0cyYmKEhUTUxJbXBvcnRzLl9faW1wb3J0c1BhcnNpbmdIb29rPWZ1bmN0aW9uKGEpe0N1c3RvbUVsZW1lbnRzLnBhcnNlci5wYXJzZShhLmltcG9ydCl9KX0pfWlmKCJmdW5jdGlvbiIhPXR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQmJih3aW5kb3cuQ3VzdG9tRXZlbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkhUTUxFdmVudHMiKTtyZXR1cm4gYi5pbml0RXZlbnQoYSwhMCwhMCksYn0pLCJjb21wbGV0ZSI9PT1kb2N1bWVudC5yZWFkeVN0YXRlfHxhLmZsYWdzLmVhZ2VyKWIoKTtlbHNlIGlmKCJpbnRlcmFjdGl2ZSIhPT1kb2N1bWVudC5yZWFkeVN0YXRlfHx3aW5kb3cuYXR0YWNoRXZlbnR8fHdpbmRvdy5IVE1MSW1wb3J0cyYmIXdpbmRvdy5IVE1MSW1wb3J0cy5yZWFkeSl7dmFyIGM9d2luZG93LkhUTUxJbXBvcnRzJiYhSFRNTEltcG9ydHMucmVhZHk/IkhUTUxJbXBvcnRzTG9hZGVkIjoiRE9NQ29udGVudExvYWRlZCI7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoYyxiKX1lbHNlIGIoKX0od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbigpe2lmKHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCl7dmFyIGE9WyJ1cGdyYWRlQWxsIiwidXBncmFkZVN1YnRyZWUiLCJvYnNlcnZlRG9jdW1lbnQiLCJ1cGdyYWRlRG9jdW1lbnQiXSxiPXt9O2EuZm9yRWFjaChmdW5jdGlvbihhKXtiW2FdPUN1c3RvbUVsZW1lbnRzW2FdfSksYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe0N1c3RvbUVsZW1lbnRzW2FdPWZ1bmN0aW9uKGMpe3JldHVybiBiW2FdKHdyYXAoYykpfX0pfX0oKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3RoaXMuY2FjaGU9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLm1hcD1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMucmVxdWVzdHM9MCx0aGlzLnJlZ2V4PWF9dmFyIGM9YS5lbmRPZk1pY3JvdGFzaztiLnByb3RvdHlwZT17ZXh0cmFjdFVybHM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZCxlPVtdO2M9dGhpcy5yZWdleC5leGVjKGEpOylkPW5ldyBVUkwoY1sxXSxiKSxlLnB1c2goe21hdGNoZWQ6Y1swXSx1cmw6ZC5ocmVmfSk7cmV0dXJuIGV9LHByb2Nlc3M6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZXh0cmFjdFVybHMoYSxiKSxlPWMuYmluZChudWxsLHRoaXMubWFwKTt0aGlzLmZldGNoKGQsZSl9LGZldGNoOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5sZW5ndGg7aWYoIWMpcmV0dXJuIGIoKTtmb3IodmFyIGQsZSxmLGc9ZnVuY3Rpb24oKXswPT09LS1jJiZiKCl9LGg9MDtjPmg7aCsrKWQ9YVtoXSxmPWQudXJsLGU9dGhpcy5jYWNoZVtmXSxlfHwoZT10aGlzLnhocihmKSxlLm1hdGNoPWQsdGhpcy5jYWNoZVtmXT1lKSxlLndhaXQoZyl9LGhhbmRsZVhocjpmdW5jdGlvbihhKXt2YXIgYj1hLm1hdGNoLGM9Yi51cmwsZD1hLnJlc3BvbnNlfHxhLnJlc3BvbnNlVGV4dHx8IiI7dGhpcy5tYXBbY109ZCx0aGlzLmZldGNoKHRoaXMuZXh0cmFjdFVybHMoZCxjKSxhLnJlc29sdmUpfSx4aHI6ZnVuY3Rpb24oYSl7dGhpcy5yZXF1ZXN0cysrO3ZhciBiPW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4gYi5vcGVuKCJHRVQiLGEsITApLGIuc2VuZCgpLGIub25lcnJvcj1iLm9ubG9hZD10aGlzLmhhbmRsZVhoci5iaW5kKHRoaXMsYiksYi5wZW5kaW5nPVtdLGIucmVzb2x2ZT1mdW5jdGlvbigpe2Zvcih2YXIgYT1iLnBlbmRpbmcsYz0wO2M8YS5sZW5ndGg7YysrKWFbY10oKTtiLnBlbmRpbmc9bnVsbH0sYi53YWl0PWZ1bmN0aW9uKGEpe2IucGVuZGluZz9iLnBlbmRpbmcucHVzaChhKTpjKGEpfSxifX0sYS5Mb2FkZXI9Yn0od2luZG93LlBsYXRmb3JtKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7dGhpcy5sb2FkZXI9bmV3IGQodGhpcy5yZWdleCl9dmFyIGM9YS51cmxSZXNvbHZlcixkPWEuTG9hZGVyO2IucHJvdG90eXBlPXtyZWdleDovQGltcG9ydFxzKyg/OnVybCk/WyInXChdKihbXiciXCldKilbJyJcKV0qOy9nLHJlc29sdmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGQpe2ModGhpcy5mbGF0dGVuKGEsYixkKSl9LmJpbmQodGhpcyk7dGhpcy5sb2FkZXIucHJvY2VzcyhhLGIsZCl9LHJlc29sdmVOb2RlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLnRleHRDb250ZW50LGU9ZnVuY3Rpb24oYil7YS50ZXh0Q29udGVudD1iLGMoYSl9O3RoaXMucmVzb2x2ZShkLGIsZSl9LGZsYXR0ZW46ZnVuY3Rpb24oYSxiLGQpe2Zvcih2YXIgZSxmLGcsaD10aGlzLmxvYWRlci5leHRyYWN0VXJscyhhLGIpLGk9MDtpPGgubGVuZ3RoO2krKyllPWhbaV0sZj1lLnVybCxnPWMucmVzb2x2ZUNzc1RleHQoZFtmXSxmLCEwKSxnPXRoaXMuZmxhdHRlbihnLGIsZCksYT1hLnJlcGxhY2UoZS5tYXRjaGVkLGcpO3JldHVybiBhfSxsb2FkU3R5bGVzOmZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKCl7ZisrLGY9PT1nJiZjJiZjKCl9Zm9yKHZhciBlLGY9MCxnPWEubGVuZ3RoLGg9MDtnPmgmJihlPWFbaF0pO2grKyl0aGlzLnJlc29sdmVOb2RlKGUsYixkKX19O3ZhciBlPW5ldyBiO2Euc3R5bGVSZXNvbHZlcj1lfSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGEoYSl7Zm9yKDthLnBhcmVudE5vZGU7KWE9YS5wYXJlbnROb2RlO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBhLmdldEVsZW1lbnRCeUlkP2E6bnVsbH1mdW5jdGlvbiBiKGEsYixjKXt2YXIgZD1hLmJpbmRpbmdzXztyZXR1cm4gZHx8KGQ9YS5iaW5kaW5nc189e30pLGRbYl0mJmNbYl0uY2xvc2UoKSxkW2JdPWN9ZnVuY3Rpb24gYyhhLGIsYyl7cmV0dXJuIGN9ZnVuY3Rpb24gZChhKXtyZXR1cm4gbnVsbD09YT8iIjphfWZ1bmN0aW9uIGUoYSxiKXthLmRhdGE9ZChiKX1mdW5jdGlvbiBmKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gZShhLGIpfX1mdW5jdGlvbiBnKGEsYixjLGUpe3JldHVybiBjP3ZvaWQoZT9hLnNldEF0dHJpYnV0ZShiLCIiKTphLnJlbW92ZUF0dHJpYnV0ZShiKSk6dm9pZCBhLnNldEF0dHJpYnV0ZShiLGQoZSkpfWZ1bmN0aW9uIGgoYSxiLGMpe3JldHVybiBmdW5jdGlvbihkKXtnKGEsYixjLGQpfX1mdW5jdGlvbiBpKGEpe3N3aXRjaChhLnR5cGUpe2Nhc2UiY2hlY2tib3giOnJldHVybiB1O2Nhc2UicmFkaW8iOmNhc2Uic2VsZWN0LW11bHRpcGxlIjpjYXNlInNlbGVjdC1vbmUiOnJldHVybiJjaGFuZ2UiO2Nhc2UicmFuZ2UiOmlmKC9UcmlkZW50fE1TSUUvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpcmV0dXJuImNoYW5nZSI7ZGVmYXVsdDpyZXR1cm4iaW5wdXQifX1mdW5jdGlvbiBqKGEsYixjLGUpe2FbYl09KGV8fGQpKGMpfWZ1bmN0aW9uIGsoYSxiLGMpe3JldHVybiBmdW5jdGlvbihkKXtyZXR1cm4gaihhLGIsZCxjKX19ZnVuY3Rpb24gbCgpe31mdW5jdGlvbiBtKGEsYixjLGQpe2Z1bmN0aW9uIGUoKXtjLnNldFZhbHVlKGFbYl0pLGMuZGlzY2FyZENoYW5nZXMoKSwoZHx8bCkoYSksUGxhdGZvcm0ucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQoKX12YXIgZj1pKGEpO3JldHVybiBhLmFkZEV2ZW50TGlzdGVuZXIoZixlKSx7Y2xvc2U6ZnVuY3Rpb24oKXthLnJlbW92ZUV2ZW50TGlzdGVuZXIoZixlKSxjLmNsb3NlKCl9LG9ic2VydmFibGVfOmN9fWZ1bmN0aW9uIG4oYSl7cmV0dXJuIEJvb2xlYW4oYSl9ZnVuY3Rpb24gbyhiKXtpZihiLmZvcm0pcmV0dXJuIHMoYi5mb3JtLmVsZW1lbnRzLGZ1bmN0aW9uKGEpe3JldHVybiBhIT1iJiYiSU5QVVQiPT1hLnRhZ05hbWUmJiJyYWRpbyI9PWEudHlwZSYmYS5uYW1lPT1iLm5hbWV9KTt2YXIgYz1hKGIpO2lmKCFjKXJldHVybltdO3ZhciBkPWMucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT0icmFkaW8iXVtuYW1lPSInK2IubmFtZSsnIl0nKTtyZXR1cm4gcyhkLGZ1bmN0aW9uKGEpe3JldHVybiBhIT1iJiYhYS5mb3JtfSl9ZnVuY3Rpb24gcChhKXsiSU5QVVQiPT09YS50YWdOYW1lJiYicmFkaW8iPT09YS50eXBlJiZvKGEpLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YS5iaW5kaW5nc18uY2hlY2tlZDtiJiZiLm9ic2VydmFibGVfLnNldFZhbHVlKCExKX0pfWZ1bmN0aW9uIHEoYSxiKXt2YXIgYyxlLGYsZz1hLnBhcmVudE5vZGU7ZyBpbnN0YW5jZW9mIEhUTUxTZWxlY3RFbGVtZW50JiZnLmJpbmRpbmdzXyYmZy5iaW5kaW5nc18udmFsdWUmJihjPWcsZT1jLmJpbmRpbmdzXy52YWx1ZSxmPWMudmFsdWUpLGEudmFsdWU9ZChiKSxjJiZjLnZhbHVlIT1mJiYoZS5vYnNlcnZhYmxlXy5zZXRWYWx1ZShjLnZhbHVlKSxlLm9ic2VydmFibGVfLmRpc2NhcmRDaGFuZ2VzKCksUGxhdGZvcm0ucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQoKSl9ZnVuY3Rpb24gcihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cShhLGIpfX12YXIgcz1BcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZmlsdGVyKTtOb2RlLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYil7Y29uc29sZS5lcnJvcigiVW5oYW5kbGVkIGJpbmRpbmcgdG8gTm9kZTogIix0aGlzLGEsYil9LE5vZGUucHJvdG90eXBlLmJpbmRGaW5pc2hlZD1mdW5jdGlvbigpe307dmFyIHQ9YztPYmplY3QuZGVmaW5lUHJvcGVydHkoUGxhdGZvcm0sImVuYWJsZUJpbmRpbmdzUmVmbGVjdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0PT09Yn0sc2V0OmZ1bmN0aW9uKGEpe3JldHVybiB0PWE/YjpjLGF9LGNvbmZpZ3VyYWJsZTohMH0pLFRleHQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxiLGMpe2lmKCJ0ZXh0Q29udGVudCIhPT1hKXJldHVybiBOb2RlLnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGIsYyk7aWYoYylyZXR1cm4gZSh0aGlzLGIpO3ZhciBkPWI7cmV0dXJuIGUodGhpcyxkLm9wZW4oZih0aGlzKSkpLHQodGhpcyxhLGQpfSxFbGVtZW50LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD0iPyI9PWFbYS5sZW5ndGgtMV07aWYoZCYmKHRoaXMucmVtb3ZlQXR0cmlidXRlKGEpLGE9YS5zbGljZSgwLC0xKSksYylyZXR1cm4gZyh0aGlzLGEsZCxiKTt2YXIgZT1iO3JldHVybiBnKHRoaXMsYSxkLGUub3BlbihoKHRoaXMsYSxkKSkpLHQodGhpcyxhLGUpfTt2YXIgdTshZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxiPWEuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSk7Yi5zZXRBdHRyaWJ1dGUoInR5cGUiLCJjaGVja2JveCIpO3ZhciBjLGQ9MDtiLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixmdW5jdGlvbigpe2QrKyxjPWN8fCJjbGljayJ9KSxiLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsZnVuY3Rpb24oKXtkKyssYz1jfHwiY2hhbmdlIn0pO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJNb3VzZUV2ZW50Iik7ZS5pbml0TW91c2VFdmVudCgiY2xpY2siLCEwLCEwLHdpbmRvdywwLDAsMCwwLDAsITEsITEsITEsITEsMCxudWxsKSxiLmRpc3BhdGNoRXZlbnQoZSksdT0xPT1kPyJjaGFuZ2UiOmN9KCksSFRNTElucHV0RWxlbWVudC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGMsZSl7aWYoInZhbHVlIiE9PWEmJiJjaGVja2VkIiE9PWEpcmV0dXJuIEhUTUxFbGVtZW50LnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGMsZSk7dGhpcy5yZW1vdmVBdHRyaWJ1dGUoYSk7dmFyIGY9ImNoZWNrZWQiPT1hP246ZCxnPSJjaGVja2VkIj09YT9wOmw7aWYoZSlyZXR1cm4gaih0aGlzLGEsYyxmKTt2YXIgaD1jLGk9bSh0aGlzLGEsaCxnKTtyZXR1cm4gaih0aGlzLGEsaC5vcGVuKGsodGhpcyxhLGYpKSxmKSxiKHRoaXMsYSxpKX0sSFRNTFRleHRBcmVhRWxlbWVudC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGIsYyl7aWYoInZhbHVlIiE9PWEpcmV0dXJuIEhUTUxFbGVtZW50LnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGIsYyk7aWYodGhpcy5yZW1vdmVBdHRyaWJ1dGUoInZhbHVlIiksYylyZXR1cm4gaih0aGlzLCJ2YWx1ZSIsYik7dmFyIGU9YixmPW0odGhpcywidmFsdWUiLGUpO3JldHVybiBqKHRoaXMsInZhbHVlIixlLm9wZW4oayh0aGlzLCJ2YWx1ZSIsZCkpKSx0KHRoaXMsYSxmKX0sSFRNTE9wdGlvbkVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxiLGMpe2lmKCJ2YWx1ZSIhPT1hKXJldHVybiBIVE1MRWxlbWVudC5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsYSxiLGMpO2lmKHRoaXMucmVtb3ZlQXR0cmlidXRlKCJ2YWx1ZSIpLGMpcmV0dXJuIHEodGhpcyxiKTt2YXIgZD1iLGU9bSh0aGlzLCJ2YWx1ZSIsZCk7cmV0dXJuIHEodGhpcyxkLm9wZW4ocih0aGlzKSkpLHQodGhpcyxhLGUpfSxIVE1MU2VsZWN0RWxlbWVudC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGMsZCl7aWYoInNlbGVjdGVkaW5kZXgiPT09YSYmKGE9InNlbGVjdGVkSW5kZXgiKSwic2VsZWN0ZWRJbmRleCIhPT1hJiYidmFsdWUiIT09YSlyZXR1cm4gSFRNTEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsYyxkKTtpZih0aGlzLnJlbW92ZUF0dHJpYnV0ZShhKSxkKXJldHVybiBqKHRoaXMsYSxjKTt2YXIgZT1jLGY9bSh0aGlzLGEsZSk7cmV0dXJuIGoodGhpcyxhLGUub3BlbihrKHRoaXMsYSkpKSxiKHRoaXMsYSxmKX19KHRoaXMpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2lmKCFhKXRocm93IG5ldyBFcnJvcigiQXNzZXJ0aW9uIGZhaWxlZCIpfWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBiO2I9YS5wYXJlbnROb2RlOylhPWI7cmV0dXJuIGF9ZnVuY3Rpb24gZChhLGIpe2lmKGIpe2Zvcih2YXIgZCxlPSIjIitiOyFkJiYoYT1jKGEpLGEucHJvdG9Db250ZW50Xz9kPWEucHJvdG9Db250ZW50Xy5xdWVyeVNlbGVjdG9yKGUpOmEuZ2V0RWxlbWVudEJ5SWQmJihkPWEuZ2V0RWxlbWVudEJ5SWQoYikpLCFkJiZhLnRlbXBsYXRlQ3JlYXRvcl8pOylhPWEudGVtcGxhdGVDcmVhdG9yXztyZXR1cm4gZH19ZnVuY3Rpb24gZShhKXtyZXR1cm4idGVtcGxhdGUiPT1hLnRhZ05hbWUmJiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI9PWEubmFtZXNwYWNlVVJJfWZ1bmN0aW9uIGYoYSl7cmV0dXJuIlRFTVBMQVRFIj09YS50YWdOYW1lJiYiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI9PWEubmFtZXNwYWNlVVJJfWZ1bmN0aW9uIGcoYSl7cmV0dXJuIEJvb2xlYW4oTFthLnRhZ05hbWVdJiZhLmhhc0F0dHJpYnV0ZSgidGVtcGxhdGUiKSl9ZnVuY3Rpb24gaChhKXtyZXR1cm4gdm9pZCAwPT09YS5pc1RlbXBsYXRlXyYmKGEuaXNUZW1wbGF0ZV89IlRFTVBMQVRFIj09YS50YWdOYW1lfHxnKGEpKSxhLmlzVGVtcGxhdGVffWZ1bmN0aW9uIGkoYSxiKXt2YXIgYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoTik7aChhKSYmYihhKSxHKGMsYil9ZnVuY3Rpb24gaihhKXtmdW5jdGlvbiBiKGEpe0hUTUxUZW1wbGF0ZUVsZW1lbnQuZGVjb3JhdGUoYSl8fGooYS5jb250ZW50KX1pKGEsYil9ZnVuY3Rpb24gayhhLGIpe09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGIpLmZvckVhY2goZnVuY3Rpb24oYyl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYyxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGIsYykpfSl9ZnVuY3Rpb24gbChhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQ7aWYoIWIuZGVmYXVsdFZpZXcpcmV0dXJuIGI7dmFyIGM9Yi50ZW1wbGF0ZUNvbnRlbnRzT3duZXJfO2lmKCFjKXtmb3IoYz1iLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIik7Yy5sYXN0Q2hpbGQ7KWMucmVtb3ZlQ2hpbGQoYy5sYXN0Q2hpbGQpO2IudGVtcGxhdGVDb250ZW50c093bmVyXz1jfXJldHVybiBjfWZ1bmN0aW9uIG0oYSl7aWYoIWEuc3RhZ2luZ0RvY3VtZW50Xyl7dmFyIGI9YS5vd25lckRvY3VtZW50O2lmKCFiLnN0YWdpbmdEb2N1bWVudF8pe2Iuc3RhZ2luZ0RvY3VtZW50Xz1iLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIiksYi5zdGFnaW5nRG9jdW1lbnRfLmlzU3RhZ2luZ0RvY3VtZW50PSEwO3ZhciBjPWIuc3RhZ2luZ0RvY3VtZW50Xy5jcmVhdGVFbGVtZW50KCJiYXNlIik7Yy5ocmVmPWRvY3VtZW50LmJhc2VVUkksYi5zdGFnaW5nRG9jdW1lbnRfLmhlYWQuYXBwZW5kQ2hpbGQoYyksYi5zdGFnaW5nRG9jdW1lbnRfLnN0YWdpbmdEb2N1bWVudF89Yi5zdGFnaW5nRG9jdW1lbnRffWEuc3RhZ2luZ0RvY3VtZW50Xz1iLnN0YWdpbmdEb2N1bWVudF99cmV0dXJuIGEuc3RhZ2luZ0RvY3VtZW50X31mdW5jdGlvbiBuKGEpe3ZhciBiPWEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZW1wbGF0ZSIpO2EucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYixhKTtmb3IodmFyIGM9YS5hdHRyaWJ1dGVzLGQ9Yy5sZW5ndGg7ZC0tPjA7KXt2YXIgZT1jW2RdO0tbZS5uYW1lXSYmKCJ0ZW1wbGF0ZSIhPT1lLm5hbWUmJmIuc2V0QXR0cmlidXRlKGUubmFtZSxlLnZhbHVlKSxhLnJlbW92ZUF0dHJpYnV0ZShlLm5hbWUpKX1yZXR1cm4gYn1mdW5jdGlvbiBvKGEpe3ZhciBiPWEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZW1wbGF0ZSIpO2EucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYixhKTtmb3IodmFyIGM9YS5hdHRyaWJ1dGVzLGQ9Yy5sZW5ndGg7ZC0tPjA7KXt2YXIgZT1jW2RdO2Iuc2V0QXR0cmlidXRlKGUubmFtZSxlLnZhbHVlKSxhLnJlbW92ZUF0dHJpYnV0ZShlLm5hbWUpfXJldHVybiBhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSksYn1mdW5jdGlvbiBwKGEsYixjKXt2YXIgZD1hLmNvbnRlbnQ7aWYoYylyZXR1cm4gdm9pZCBkLmFwcGVuZENoaWxkKGIpO2Zvcih2YXIgZTtlPWIuZmlyc3RDaGlsZDspZC5hcHBlbmRDaGlsZChlKX1mdW5jdGlvbiBxKGEpe1A/YS5fX3Byb3RvX189SFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGU6ayhhLEhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlKX1mdW5jdGlvbiByKGEpe2Euc2V0TW9kZWxGbl98fChhLnNldE1vZGVsRm5fPWZ1bmN0aW9uKCl7YS5zZXRNb2RlbEZuU2NoZWR1bGVkXz0hMTt2YXIgYj16KGEsYS5kZWxlZ2F0ZV8mJmEuZGVsZWdhdGVfLnByZXBhcmVCaW5kaW5nKTt3KGEsYixhLm1vZGVsXyl9KSxhLnNldE1vZGVsRm5TY2hlZHVsZWRffHwoYS5zZXRNb2RlbEZuU2NoZWR1bGVkXz0hMCxPYnNlcnZlci5ydW5FT01fKGEuc2V0TW9kZWxGbl8pKX1mdW5jdGlvbiBzKGEsYixjLGQpe2lmKGEmJmEubGVuZ3RoKXtmb3IodmFyIGUsZj1hLmxlbmd0aCxnPTAsaD0wLGk9MCxqPSEwO2Y+aDspe3ZhciBnPWEuaW5kZXhPZigie3siLGgpLGs9YS5pbmRleE9mKCJbWyIsaCksbD0hMSxtPSJ9fSI7aWYoaz49MCYmKDA+Z3x8Zz5rKSYmKGc9ayxsPSEwLG09Il1dIiksaT0wPmc/LTE6YS5pbmRleE9mKG0sZysyKSwwPmkpe2lmKCFlKXJldHVybjtlLnB1c2goYS5zbGljZShoKSk7YnJlYWt9ZT1lfHxbXSxlLnB1c2goYS5zbGljZShoLGcpKTt2YXIgbj1hLnNsaWNlKGcrMixpKS50cmltKCk7ZS5wdXNoKGwpLGo9aiYmbDt2YXIgbz1kJiZkKG4sYixjKTtlLnB1c2gobnVsbD09bz9QYXRoLmdldChuKTpudWxsKSxlLnB1c2gobyksaD1pKzJ9cmV0dXJuIGg9PT1mJiZlLnB1c2goIiIpLGUuaGFzT25lUGF0aD01PT09ZS5sZW5ndGgsZS5pc1NpbXBsZVBhdGg9ZS5oYXNPbmVQYXRoJiYiIj09ZVswXSYmIiI9PWVbNF0sZS5vbmx5T25lVGltZT1qLGUuY29tYmluYXRvcj1mdW5jdGlvbihhKXtmb3IodmFyIGI9ZVswXSxjPTE7YzxlLmxlbmd0aDtjKz00KXt2YXIgZD1lLmhhc09uZVBhdGg/YTphWyhjLTEpLzRdO3ZvaWQgMCE9PWQmJihiKz1kKSxiKz1lW2MrM119cmV0dXJuIGJ9LGV9fWZ1bmN0aW9uIHQoYSxiLGMsZCl7aWYoYi5oYXNPbmVQYXRoKXt2YXIgZT1iWzNdLGY9ZT9lKGQsYywhMCk6YlsyXS5nZXRWYWx1ZUZyb20oZCk7cmV0dXJuIGIuaXNTaW1wbGVQYXRoP2Y6Yi5jb21iaW5hdG9yKGYpfWZvcih2YXIgZz1bXSxoPTE7aDxiLmxlbmd0aDtoKz00KXt2YXIgZT1iW2grMl07Z1soaC0xKS80XT1lP2UoZCxjKTpiW2grMV0uZ2V0VmFsdWVGcm9tKGQpfXJldHVybiBiLmNvbWJpbmF0b3IoZyl9ZnVuY3Rpb24gdShhLGIsYyxkKXt2YXIgZT1iWzNdLGY9ZT9lKGQsYywhMSk6bmV3IFBhdGhPYnNlcnZlcihkLGJbMl0pO3JldHVybiBiLmlzU2ltcGxlUGF0aD9mOm5ldyBPYnNlcnZlclRyYW5zZm9ybShmLGIuY29tYmluYXRvcil9ZnVuY3Rpb24gdihhLGIsYyxkKXtpZihiLm9ubHlPbmVUaW1lKXJldHVybiB0KGEsYixjLGQpO2lmKGIuaGFzT25lUGF0aClyZXR1cm4gdShhLGIsYyxkKTtmb3IodmFyIGU9bmV3IENvbXBvdW5kT2JzZXJ2ZXIsZj0xO2Y8Yi5sZW5ndGg7Zis9NCl7dmFyIGc9YltmXSxoPWJbZisyXTtpZihoKXt2YXIgaT1oKGQsYyxnKTtnP2UuYWRkUGF0aChpKTplLmFkZE9ic2VydmVyKGkpfWVsc2V7dmFyIGo9YltmKzFdO2c/ZS5hZGRQYXRoKGouZ2V0VmFsdWVGcm9tKGQpKTplLmFkZFBhdGgoZCxqKX19cmV0dXJuIG5ldyBPYnNlcnZlclRyYW5zZm9ybShlLGIuY29tYmluYXRvcil9ZnVuY3Rpb24gdyhhLGIsYyxkKXtmb3IodmFyIGU9MDtlPGIubGVuZ3RoO2UrPTIpe3ZhciBmPWJbZV0sZz1iW2UrMV0saD12KGYsZyxhLGMpLGk9YS5iaW5kKGYsaCxnLm9ubHlPbmVUaW1lKTtpJiZkJiZkLnB1c2goaSl9aWYoYS5iaW5kRmluaXNoZWQoKSxiLmlzVGVtcGxhdGUpe2EubW9kZWxfPWM7dmFyIGo9YS5wcm9jZXNzQmluZGluZ0RpcmVjdGl2ZXNfKGIpO2QmJmomJmQucHVzaChqKX19ZnVuY3Rpb24geChhLGIsYyl7dmFyIGQ9YS5nZXRBdHRyaWJ1dGUoYik7cmV0dXJuIHMoIiI9PWQ/Int7fX0iOmQsYixhLGMpfWZ1bmN0aW9uIHkoYSxjKXtiKGEpO2Zvcih2YXIgZD1bXSxlPTA7ZTxhLmF0dHJpYnV0ZXMubGVuZ3RoO2UrKyl7Zm9yKHZhciBmPWEuYXR0cmlidXRlc1tlXSxnPWYubmFtZSxpPWYudmFsdWU7Il8iPT09Z1swXTspZz1nLnN1YnN0cmluZygxKTtpZighaChhKXx8ZyE9PUomJmchPT1IJiZnIT09SSl7dmFyIGo9cyhpLGcsYSxjKTtqJiZkLnB1c2goZyxqKX19cmV0dXJuIGgoYSkmJihkLmlzVGVtcGxhdGU9ITAsZC5pZj14KGEsSixjKSxkLmJpbmQ9eChhLEgsYyksZC5yZXBlYXQ9eChhLEksYyksIWQuaWZ8fGQuYmluZHx8ZC5yZXBlYXR8fChkLmJpbmQ9cygie3t9fSIsSCxhLGMpKSksZH1mdW5jdGlvbiB6KGEsYil7aWYoYS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFKXJldHVybiB5KGEsYik7aWYoYS5ub2RlVHlwZT09PU5vZGUuVEVYVF9OT0RFKXt2YXIgYz1zKGEuZGF0YSwidGV4dENvbnRlbnQiLGEsYik7aWYoYylyZXR1cm5bInRleHRDb250ZW50IixjXX1yZXR1cm5bXX1mdW5jdGlvbiBBKGEsYixjLGQsZSxmLGcpe2Zvcih2YXIgaD1iLmFwcGVuZENoaWxkKGMuaW1wb3J0Tm9kZShhLCExKSksaT0wLGo9YS5maXJzdENoaWxkO2o7aj1qLm5leHRTaWJsaW5nKUEoaixoLGMsZC5jaGlsZHJlbltpKytdLGUsZixnKTtyZXR1cm4gZC5pc1RlbXBsYXRlJiYoSFRNTFRlbXBsYXRlRWxlbWVudC5kZWNvcmF0ZShoLGEpLGYmJmguc2V0RGVsZWdhdGVfKGYpKSx3KGgsZCxlLGcpLGh9ZnVuY3Rpb24gQihhLGIpe3ZhciBjPXooYSxiKTtjLmNoaWxkcmVuPXt9O2Zvcih2YXIgZD0wLGU9YS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWMuY2hpbGRyZW5bZCsrXT1CKGUsYik7cmV0dXJuIGN9ZnVuY3Rpb24gQyhhKXt2YXIgYj1hLmlkXztyZXR1cm4gYnx8KGI9YS5pZF89UysrKSxifWZ1bmN0aW9uIEQoYSxiKXt2YXIgYz1DKGEpO2lmKGIpe3ZhciBkPWIuYmluZGluZ01hcHNbY107cmV0dXJuIGR8fChkPWIuYmluZGluZ01hcHNbY109QihhLGIucHJlcGFyZUJpbmRpbmcpfHxbXSksZH12YXIgZD1hLmJpbmRpbmdNYXBfO3JldHVybiBkfHwoZD1hLmJpbmRpbmdNYXBfPUIoYSx2b2lkIDApfHxbXSksZH1mdW5jdGlvbiBFKGEpe3RoaXMuY2xvc2VkPSExLHRoaXMudGVtcGxhdGVFbGVtZW50Xz1hLHRoaXMuaW5zdGFuY2VzPVtdLHRoaXMuZGVwcz12b2lkIDAsdGhpcy5pdGVyYXRlZFZhbHVlPVtdLHRoaXMucHJlc2VudFZhbHVlPXZvaWQgMCx0aGlzLmFycmF5T2JzZXJ2ZXI9dm9pZCAwfXZhciBGLEc9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKTthLk1hcCYmImZ1bmN0aW9uIj09dHlwZW9mIGEuTWFwLnByb3RvdHlwZS5mb3JFYWNoP0Y9YS5NYXA6KEY9ZnVuY3Rpb24oKXt0aGlzLmtleXM9W10sdGhpcy52YWx1ZXM9W119LEYucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmtleXMuaW5kZXhPZihhKTswPmM/KHRoaXMua2V5cy5wdXNoKGEpLHRoaXMudmFsdWVzLnB1c2goYikpOnRoaXMudmFsdWVzW2NdPWJ9LGdldDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmtleXMuaW5kZXhPZihhKTtpZighKDA+YikpcmV0dXJuIHRoaXMudmFsdWVzW2JdfSwiZGVsZXRlIjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmtleXMuaW5kZXhPZihhKTtyZXR1cm4gMD5iPyExOih0aGlzLmtleXMuc3BsaWNlKGIsMSksdGhpcy52YWx1ZXMuc3BsaWNlKGIsMSksITApfSxmb3JFYWNoOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yzx0aGlzLmtleXMubGVuZ3RoO2MrKylhLmNhbGwoYnx8dGhpcyx0aGlzLnZhbHVlc1tjXSx0aGlzLmtleXNbY10sdGhpcyl9fSk7ImZ1bmN0aW9uIiE9dHlwZW9mIGRvY3VtZW50LmNvbnRhaW5zJiYoRG9jdW1lbnQucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09dGhpc3x8YS5wYXJlbnROb2RlPT09dGhpcz8hMDp0aGlzLmRvY3VtZW50RWxlbWVudC5jb250YWlucyhhKX0pO3ZhciBIPSJiaW5kIixJPSJyZXBlYXQiLEo9ImlmIixLPXt0ZW1wbGF0ZTohMCxyZXBlYXQ6ITAsYmluZDohMCxyZWY6ITB9LEw9e1RIRUFEOiEwLFRCT0RZOiEwLFRGT09UOiEwLFRIOiEwLFRSOiEwLFREOiEwLENPTEdST1VQOiEwLENPTDohMCxDQVBUSU9OOiEwLE9QVElPTjohMCxPUFRHUk9VUDohMH0sTT0idW5kZWZpbmVkIiE9dHlwZW9mIEhUTUxUZW1wbGF0ZUVsZW1lbnQ7TSYmIWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKSxiPWEuY29udGVudC5vd25lckRvY3VtZW50LGM9Yi5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQoImh0bWwiKSksZD1jLmFwcGVuZENoaWxkKGIuY3JlYXRlRWxlbWVudCgiaGVhZCIpKSxlPWIuY3JlYXRlRWxlbWVudCgiYmFzZSIpO2UuaHJlZj1kb2N1bWVudC5iYXNlVVJJLGQuYXBwZW5kQ2hpbGQoZSl9KCk7dmFyIE49InRlbXBsYXRlLCAiK09iamVjdC5rZXlzKEwpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS50b0xvd2VyQ2FzZSgpKyJbdGVtcGxhdGVdIn0pLmpvaW4oIiwgIik7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXtqKGRvY3VtZW50KSxQbGF0Zm9ybS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludCgpfSwhMSksTXx8KGEuSFRNTFRlbXBsYXRlRWxlbWVudD1mdW5jdGlvbigpe3Rocm93IFR5cGVFcnJvcigiSWxsZWdhbCBjb25zdHJ1Y3RvciIpfSk7dmFyIE8sUD0iX19wcm90b19fImlue307ImZ1bmN0aW9uIj09dHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXImJihPPW5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWFbYl0udGFyZ2V0LnJlZkNoYW5nZWRfKCl9KSksSFRNTFRlbXBsYXRlRWxlbWVudC5kZWNvcmF0ZT1mdW5jdGlvbihhLGMpe2lmKGEudGVtcGxhdGVJc0RlY29yYXRlZF8pcmV0dXJuITE7dmFyIGQ9YTtkLnRlbXBsYXRlSXNEZWNvcmF0ZWRfPSEwO3ZhciBoPWYoZCkmJk0saT1oLGs9IWgsbT0hMTtpZihofHwoZyhkKT8oYighYyksZD1uKGEpLGQudGVtcGxhdGVJc0RlY29yYXRlZF89ITAsaD1NLG09ITApOmUoZCkmJihkPW8oYSksZC50ZW1wbGF0ZUlzRGVjb3JhdGVkXz0hMCxoPU0pKSwhaCl7cShkKTt2YXIgcj1sKGQpO2QuY29udGVudF89ci5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCl9cmV0dXJuIGM/ZC5pbnN0YW5jZVJlZl89YzprP3AoZCxhLG0pOmkmJmooZC5jb250ZW50KSwhMH0sSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXA9ajt2YXIgUT1hLkhUTUxVbmtub3duRWxlbWVudHx8SFRNTEVsZW1lbnQsUj17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudF99LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfTtNfHwoSFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShRLnByb3RvdHlwZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlLCJjb250ZW50IixSKSksayhIVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZSx7YmluZDpmdW5jdGlvbihhLGIsYyl7aWYoInJlZiIhPWEpcmV0dXJuIEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsYixjKTt2YXIgZD10aGlzLGU9Yz9iOmIub3BlbihmdW5jdGlvbihhKXtkLnNldEF0dHJpYnV0ZSgicmVmIixhKSxkLnJlZkNoYW5nZWRfKCl9KTtyZXR1cm4gdGhpcy5zZXRBdHRyaWJ1dGUoInJlZiIsZSksdGhpcy5yZWZDaGFuZ2VkXygpLGM/dm9pZCAwOih0aGlzLmJpbmRpbmdzXz90aGlzLmJpbmRpbmdzXy5yZWY9Yjp0aGlzLmJpbmRpbmdzXz17cmVmOmJ9LGIpfSxwcm9jZXNzQmluZGluZ0RpcmVjdGl2ZXNfOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLml0ZXJhdG9yXyYmdGhpcy5pdGVyYXRvcl8uY2xvc2VEZXBzKCksYS5pZnx8YS5iaW5kfHxhLnJlcGVhdD8odGhpcy5pdGVyYXRvcl98fCh0aGlzLml0ZXJhdG9yXz1uZXcgRSh0aGlzKSksdGhpcy5pdGVyYXRvcl8udXBkYXRlRGVwZW5kZW5jaWVzKGEsdGhpcy5tb2RlbF8pLE8mJk8ub2JzZXJ2ZSh0aGlzLHthdHRyaWJ1dGVzOiEwLGF0dHJpYnV0ZUZpbHRlcjpbInJlZiJdfSksdGhpcy5pdGVyYXRvcl8pOnZvaWQodGhpcy5pdGVyYXRvcl8mJih0aGlzLml0ZXJhdG9yXy5jbG9zZSgpLHRoaXMuaXRlcmF0b3JfPXZvaWQgMCkpfSxjcmVhdGVJbnN0YW5jZTpmdW5jdGlvbihhLGIsYyl7Yj9jPXRoaXMubmV3RGVsZWdhdGVfKGIpOmN8fChjPXRoaXMuZGVsZWdhdGVfKSx0aGlzLnJlZkNvbnRlbnRffHwodGhpcy5yZWZDb250ZW50Xz10aGlzLnJlZl8uY29udGVudCk7dmFyIGQ9dGhpcy5yZWZDb250ZW50XztpZihudWxsPT09ZC5maXJzdENoaWxkKXJldHVybiBUO3ZhciBlPUQoZCxjKSxmPW0odGhpcyksZz1mLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtnLnRlbXBsYXRlQ3JlYXRvcl89dGhpcyxnLnByb3RvQ29udGVudF89ZCxnLmJpbmRpbmdzXz1bXSxnLnRlcm1pbmF0b3JfPW51bGw7Zm9yKHZhciBoPWcudGVtcGxhdGVJbnN0YW5jZV89e2ZpcnN0Tm9kZTpudWxsLGxhc3ROb2RlOm51bGwsbW9kZWw6YX0saT0wLGo9ITEsaz1kLmZpcnN0Q2hpbGQ7aztrPWsubmV4dFNpYmxpbmcpe251bGw9PT1rLm5leHRTaWJsaW5nJiYoaj0hMCk7dmFyIGw9QShrLGcsZixlLmNoaWxkcmVuW2krK10sYSxjLGcuYmluZGluZ3NfKTtsLnRlbXBsYXRlSW5zdGFuY2VfPWgsaiYmKGcudGVybWluYXRvcl89bCl9cmV0dXJuIGguZmlyc3ROb2RlPWcuZmlyc3RDaGlsZCxoLmxhc3ROb2RlPWcubGFzdENoaWxkLGcudGVtcGxhdGVDcmVhdG9yXz12b2lkIDAsZy5wcm90b0NvbnRlbnRfPXZvaWQgMCxnfSxnZXQgbW9kZWwoKXtyZXR1cm4gdGhpcy5tb2RlbF99LHNldCBtb2RlbChhKXt0aGlzLm1vZGVsXz1hLHIodGhpcyl9LGdldCBiaW5kaW5nRGVsZWdhdGUoKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZV8mJnRoaXMuZGVsZWdhdGVfLnJhd30scmVmQ2hhbmdlZF86ZnVuY3Rpb24oKXt0aGlzLml0ZXJhdG9yXyYmdGhpcy5yZWZDb250ZW50XyE9PXRoaXMucmVmXy5jb250ZW50JiYodGhpcy5yZWZDb250ZW50Xz12b2lkIDAsdGhpcy5pdGVyYXRvcl8udmFsdWVDaGFuZ2VkKCksdGhpcy5pdGVyYXRvcl8udXBkYXRlSXRlcmF0ZWRWYWx1ZSgpKX0sY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLm1vZGVsXz12b2lkIDAsdGhpcy5kZWxlZ2F0ZV89dm9pZCAwLHRoaXMuYmluZGluZ3NfJiZ0aGlzLmJpbmRpbmdzXy5yZWYmJnRoaXMuYmluZGluZ3NfLnJlZi5jbG9zZSgpLHRoaXMucmVmQ29udGVudF89dm9pZCAwLHRoaXMuaXRlcmF0b3JfJiYodGhpcy5pdGVyYXRvcl8udmFsdWVDaGFuZ2VkKCksdGhpcy5pdGVyYXRvcl8uY2xvc2UoKSx0aGlzLml0ZXJhdG9yXz12b2lkIDApfSxzZXREZWxlZ2F0ZV86ZnVuY3Rpb24oYSl7dGhpcy5kZWxlZ2F0ZV89YSx0aGlzLmJpbmRpbmdNYXBfPXZvaWQgMCx0aGlzLml0ZXJhdG9yXyYmKHRoaXMuaXRlcmF0b3JfLmluc3RhbmNlUG9zaXRpb25DaGFuZ2VkRm5fPXZvaWQgMCx0aGlzLml0ZXJhdG9yXy5pbnN0YW5jZU1vZGVsRm5fPXZvaWQgMCl9LG5ld0RlbGVnYXRlXzpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIpe3ZhciBjPWEmJmFbYl07aWYoImZ1bmN0aW9uIj09dHlwZW9mIGMpcmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGMuYXBwbHkoYSxhcmd1bWVudHMpfX1pZihhKXJldHVybntiaW5kaW5nTWFwczp7fSxyYXc6YSxwcmVwYXJlQmluZGluZzpiKCJwcmVwYXJlQmluZGluZyIpLHByZXBhcmVJbnN0YW5jZU1vZGVsOmIoInByZXBhcmVJbnN0YW5jZU1vZGVsIikscHJlcGFyZUluc3RhbmNlUG9zaXRpb25DaGFuZ2VkOmIoInByZXBhcmVJbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZCIpfX0sc2V0IGJpbmRpbmdEZWxlZ2F0ZShhKXtpZih0aGlzLmRlbGVnYXRlXyl0aHJvdyBFcnJvcigiVGVtcGxhdGUgbXVzdCBiZSBjbGVhcmVkIGJlZm9yZSBhIG5ldyBiaW5kaW5nRGVsZWdhdGUgY2FuIGJlIGFzc2lnbmVkIik7dGhpcy5zZXREZWxlZ2F0ZV8odGhpcy5uZXdEZWxlZ2F0ZV8oYSkpfSxnZXQgcmVmXygpe3ZhciBhPWQodGhpcyx0aGlzLmdldEF0dHJpYnV0ZSgicmVmIikpO2lmKGF8fChhPXRoaXMuaW5zdGFuY2VSZWZfKSwhYSlyZXR1cm4gdGhpczt2YXIgYj1hLnJlZl87cmV0dXJuIGI/YjphfX0pO3ZhciBTPTE7T2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGUucHJvdG90eXBlLCJ0ZW1wbGF0ZUluc3RhbmNlIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50ZW1wbGF0ZUluc3RhbmNlXztyZXR1cm4gYT9hOnRoaXMucGFyZW50Tm9kZT90aGlzLnBhcmVudE5vZGUudGVtcGxhdGVJbnN0YW5jZTp2b2lkIDB9fSk7dmFyIFQ9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1QuYmluZGluZ3NfPVtdLFQudGVybWluYXRvcl89bnVsbCxFLnByb3RvdHlwZT17Y2xvc2VEZXBzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5kZXBzO2EmJihhLmlmT25lVGltZT09PSExJiZhLmlmVmFsdWUuY2xvc2UoKSxhLm9uZVRpbWU9PT0hMSYmYS52YWx1ZS5jbG9zZSgpKX0sdXBkYXRlRGVwZW5kZW5jaWVzOmZ1bmN0aW9uKGEsYil7dGhpcy5jbG9zZURlcHMoKTt2YXIgYz10aGlzLmRlcHM9e30sZD10aGlzLnRlbXBsYXRlRWxlbWVudF87aWYoYS5pZil7aWYoYy5oYXNJZj0hMCxjLmlmT25lVGltZT1hLmlmLm9ubHlPbmVUaW1lLGMuaWZWYWx1ZT12KEosYS5pZixkLGIpLGMuaWZPbmVUaW1lJiYhYy5pZlZhbHVlKXJldHVybiB2b2lkIHRoaXMudXBkYXRlSXRlcmF0ZWRWYWx1ZSgpO2MuaWZPbmVUaW1lfHxjLmlmVmFsdWUub3Blbih0aGlzLnVwZGF0ZUl0ZXJhdGVkVmFsdWUsdGhpcyl9YS5yZXBlYXQ/KGMucmVwZWF0PSEwLGMub25lVGltZT1hLnJlcGVhdC5vbmx5T25lVGltZSxjLnZhbHVlPXYoSSxhLnJlcGVhdCxkLGIpKTooYy5yZXBlYXQ9ITEsYy5vbmVUaW1lPWEuYmluZC5vbmx5T25lVGltZSxjLnZhbHVlPXYoSCxhLmJpbmQsZCxiKSksYy5vbmVUaW1lfHxjLnZhbHVlLm9wZW4odGhpcy51cGRhdGVJdGVyYXRlZFZhbHVlLHRoaXMpLHRoaXMudXBkYXRlSXRlcmF0ZWRWYWx1ZSgpfSx1cGRhdGVJdGVyYXRlZFZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5kZXBzLmhhc0lmKXt2YXIgYT10aGlzLmRlcHMuaWZWYWx1ZTtpZih0aGlzLmRlcHMuaWZPbmVUaW1lfHwoYT1hLmRpc2NhcmRDaGFuZ2VzKCkpLCFhKXJldHVybiB2b2lkIHRoaXMudmFsdWVDaGFuZ2VkKCl9dmFyIGI9dGhpcy5kZXBzLnZhbHVlO3RoaXMuZGVwcy5vbmVUaW1lfHwoYj1iLmRpc2NhcmRDaGFuZ2VzKCkpLHRoaXMuZGVwcy5yZXBlYXR8fChiPVtiXSk7dmFyIGM9dGhpcy5kZXBzLnJlcGVhdCYmIXRoaXMuZGVwcy5vbmVUaW1lJiZBcnJheS5pc0FycmF5KGIpO3RoaXMudmFsdWVDaGFuZ2VkKGIsYyl9LHZhbHVlQ2hhbmdlZDpmdW5jdGlvbihhLGIpe0FycmF5LmlzQXJyYXkoYSl8fChhPVtdKSxhIT09dGhpcy5pdGVyYXRlZFZhbHVlJiYodGhpcy51bm9ic2VydmUoKSx0aGlzLnByZXNlbnRWYWx1ZT1hLGImJih0aGlzLmFycmF5T2JzZXJ2ZXI9bmV3IEFycmF5T2JzZXJ2ZXIodGhpcy5wcmVzZW50VmFsdWUpLHRoaXMuYXJyYXlPYnNlcnZlci5vcGVuKHRoaXMuaGFuZGxlU3BsaWNlcyx0aGlzKSksdGhpcy5oYW5kbGVTcGxpY2VzKEFycmF5T2JzZXJ2ZXIuY2FsY3VsYXRlU3BsaWNlcyh0aGlzLnByZXNlbnRWYWx1ZSx0aGlzLml0ZXJhdGVkVmFsdWUpKSl9LGdldExhc3RJbnN0YW5jZU5vZGU6ZnVuY3Rpb24oYSl7aWYoLTE9PWEpcmV0dXJuIHRoaXMudGVtcGxhdGVFbGVtZW50Xzt2YXIgYj10aGlzLmluc3RhbmNlc1thXSxjPWIudGVybWluYXRvcl87aWYoIWMpcmV0dXJuIHRoaXMuZ2V0TGFzdEluc3RhbmNlTm9kZShhLTEpO2lmKGMubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERXx8dGhpcy50ZW1wbGF0ZUVsZW1lbnRfPT09YylyZXR1cm4gYzt2YXIgZD1jLml0ZXJhdG9yXztyZXR1cm4gZD9kLmdldExhc3RUZW1wbGF0ZU5vZGUoKTpjfSxnZXRMYXN0VGVtcGxhdGVOb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TGFzdEluc3RhbmNlTm9kZSh0aGlzLmluc3RhbmNlcy5sZW5ndGgtMSl9LGluc2VydEluc3RhbmNlQXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldExhc3RJbnN0YW5jZU5vZGUoYS0xKSxkPXRoaXMudGVtcGxhdGVFbGVtZW50Xy5wYXJlbnROb2RlO3RoaXMuaW5zdGFuY2VzLnNwbGljZShhLDAsYiksZC5pbnNlcnRCZWZvcmUoYixjLm5leHRTaWJsaW5nKX0sZXh0cmFjdEluc3RhbmNlQXQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuZ2V0TGFzdEluc3RhbmNlTm9kZShhLTEpLGM9dGhpcy5nZXRMYXN0SW5zdGFuY2VOb2RlKGEpLGQ9dGhpcy50ZW1wbGF0ZUVsZW1lbnRfLnBhcmVudE5vZGUsZT10aGlzLmluc3RhbmNlcy5zcGxpY2UoYSwxKVswXTtjIT09Yjspe3ZhciBmPWIubmV4dFNpYmxpbmc7Zj09YyYmKGM9YiksZS5hcHBlbmRDaGlsZChkLnJlbW92ZUNoaWxkKGYpKX1yZXR1cm4gZX0sZ2V0RGVsZWdhdGVGbjpmdW5jdGlvbihhKXtyZXR1cm4gYT1hJiZhKHRoaXMudGVtcGxhdGVFbGVtZW50XyksImZ1bmN0aW9uIj09dHlwZW9mIGE/YTpudWxsfSxoYW5kbGVTcGxpY2VzOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmNsb3NlZCYmYS5sZW5ndGgpe3ZhciBiPXRoaXMudGVtcGxhdGVFbGVtZW50XztpZighYi5wYXJlbnROb2RlKXJldHVybiB2b2lkIHRoaXMuY2xvc2UoKTtBcnJheU9ic2VydmVyLmFwcGx5U3BsaWNlcyh0aGlzLml0ZXJhdGVkVmFsdWUsdGhpcy5wcmVzZW50VmFsdWUsYSk7dmFyIGM9Yi5kZWxlZ2F0ZV87dm9pZCAwPT09dGhpcy5pbnN0YW5jZU1vZGVsRm5fJiYodGhpcy5pbnN0YW5jZU1vZGVsRm5fPXRoaXMuZ2V0RGVsZWdhdGVGbihjJiZjLnByZXBhcmVJbnN0YW5jZU1vZGVsKSksdm9pZCAwPT09dGhpcy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXyYmKHRoaXMuaW5zdGFuY2VQb3NpdGlvbkNoYW5nZWRGbl89dGhpcy5nZXREZWxlZ2F0ZUZuKGMmJmMucHJlcGFyZUluc3RhbmNlUG9zaXRpb25DaGFuZ2VkKSk7Zm9yKHZhciBkPW5ldyBGLGU9MCxmPTA7ZjxhLmxlbmd0aDtmKyspe2Zvcih2YXIgZz1hW2ZdLGg9Zy5yZW1vdmVkLGk9MDtpPGgubGVuZ3RoO2krKyl7dmFyIGo9aFtpXSxrPXRoaXMuZXh0cmFjdEluc3RhbmNlQXQoZy5pbmRleCtlKTtrIT09VCYmZC5zZXQoaixrKX1lLT1nLmFkZGVkQ291bnR9Zm9yKHZhciBmPTA7ZjxhLmxlbmd0aDtmKyspZm9yKHZhciBnPWFbZl0sbD1nLmluZGV4O2w8Zy5pbmRleCtnLmFkZGVkQ291bnQ7bCsrKXt2YXIgaj10aGlzLml0ZXJhdGVkVmFsdWVbbF0saz1kLmdldChqKTtrP2QuZGVsZXRlKGopOih0aGlzLmluc3RhbmNlTW9kZWxGbl8mJihqPXRoaXMuaW5zdGFuY2VNb2RlbEZuXyhqKSksaz12b2lkIDA9PT1qP1Q6Yi5jcmVhdGVJbnN0YW5jZShqLHZvaWQgMCxjKSksdGhpcy5pbnNlcnRJbnN0YW5jZUF0KGwsayl9ZC5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMuY2xvc2VJbnN0YW5jZUJpbmRpbmdzKGEpfSx0aGlzKSx0aGlzLmluc3RhbmNlUG9zaXRpb25DaGFuZ2VkRm5fJiZ0aGlzLnJlcG9ydEluc3RhbmNlc01vdmVkKGEpfX0scmVwb3J0SW5zdGFuY2VNb3ZlZDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmluc3RhbmNlc1thXTtiIT09VCYmdGhpcy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXyhiLnRlbXBsYXRlSW5zdGFuY2VfLGEpfSxyZXBvcnRJbnN0YW5jZXNNb3ZlZDpmdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjPTAsZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZT1hW2RdO2lmKDAhPWMpZm9yKDtiPGUuaW5kZXg7KXRoaXMucmVwb3J0SW5zdGFuY2VNb3ZlZChiKSxiKys7ZWxzZSBiPWUuaW5kZXg7Zm9yKDtiPGUuaW5kZXgrZS5hZGRlZENvdW50Oyl0aGlzLnJlcG9ydEluc3RhbmNlTW92ZWQoYiksYisrO2MrPWUuYWRkZWRDb3VudC1lLnJlbW92ZWQubGVuZ3RofWlmKDAhPWMpZm9yKHZhciBmPXRoaXMuaW5zdGFuY2VzLmxlbmd0aDtmPmI7KXRoaXMucmVwb3J0SW5zdGFuY2VNb3ZlZChiKSxiKyt9LGNsb3NlSW5zdGFuY2VCaW5kaW5nczpmdW5jdGlvbihhKXtmb3IodmFyIGI9YS5iaW5kaW5nc18sYz0wO2M8Yi5sZW5ndGg7YysrKWJbY10uY2xvc2UoKX0sdW5vYnNlcnZlOmZ1bmN0aW9uKCl7dGhpcy5hcnJheU9ic2VydmVyJiYodGhpcy5hcnJheU9ic2VydmVyLmNsb3NlKCksdGhpcy5hcnJheU9ic2VydmVyPXZvaWQgMCl9LGNsb3NlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuY2xvc2VkKXt0aGlzLnVub2JzZXJ2ZSgpO2Zvcih2YXIgYT0wO2E8dGhpcy5pbnN0YW5jZXMubGVuZ3RoO2ErKyl0aGlzLmNsb3NlSW5zdGFuY2VCaW5kaW5ncyh0aGlzLmluc3RhbmNlc1thXSk7dGhpcy5pbnN0YW5jZXMubGVuZ3RoPTAsdGhpcy5jbG9zZURlcHMoKSx0aGlzLnRlbXBsYXRlRWxlbWVudF8uaXRlcmF0b3JfPXZvaWQgMCx0aGlzLmNsb3NlZD0hMH19fSxIVE1MVGVtcGxhdGVFbGVtZW50LmZvckFsbFRlbXBsYXRlc0Zyb21fPWl9KHRoaXMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtlfHwoZT0hMCxhLmVuZE9mTWljcm90YXNrKGZ1bmN0aW9uKCl7ZT0hMSxsb2dGbGFncy5kYXRhJiZjb25zb2xlLmdyb3VwKCJQbGF0Zm9ybS5mbHVzaCgpIiksYS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludCgpLGxvZ0ZsYWdzLmRhdGEmJmNvbnNvbGUuZ3JvdXBFbmQoKX0pKX12YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2MudGV4dENvbnRlbnQ9InRlbXBsYXRlIHtkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7fSAvKiBpbmplY3RlZCBieSBwbGF0Zm9ybS5qcyAqLyI7dmFyIGQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaGVhZCIpO2QuaW5zZXJ0QmVmb3JlKGMsZC5maXJzdENoaWxkKTt2YXIgZTtpZihPYnNlcnZlci5oYXNPYmplY3RPYnNlcnZlKWI9ZnVuY3Rpb24oKXt9O2Vsc2V7dmFyIGY9MTI1O3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJXZWJDb21wb25lbnRzUmVhZHkiLGZ1bmN0aW9uKCl7YigpLGEuZmx1c2hQb2xsPXNldEludGVydmFsKGIsZil9KX1pZih3aW5kb3cuQ3VzdG9tRWxlbWVudHMmJiFDdXN0b21FbGVtZW50cy51c2VOYXRpdmUpe3ZhciBnPURvY3VtZW50LnByb3RvdHlwZS5pbXBvcnROb2RlO0RvY3VtZW50LnByb3RvdHlwZS5pbXBvcnROb2RlPWZ1bmN0aW9uKGEsYil7dmFyIGM9Zy5jYWxsKHRoaXMsYSxiKTtyZXR1cm4gQ3VzdG9tRWxlbWVudHMudXBncmFkZUFsbChjKSxjfX1hLmZsdXNoPWJ9KHdpbmRvdy5QbGF0Zm9ybSk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPXBsYXRmb3JtLmpzLm1hcA==",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Sun, 09 Nov 2014 03:28:19 GMT",
                    "Content-Length": "151348",
                    "Date": "Sun, 09 Nov 2014 03:28:19 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
{
    "url": "http://localhost:9999/mozilla/makedrive/demo/js/compiled/dependencies.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "DOM data manipulation (DOM-based)",
    "issueType": 5247488,
    "severity": "Information",
    "confidence": "Firm",
    "issueBackground": "DOM-based DOM data manipulation vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this to a data field within the DOM that is used within the visible UI or client-side application logic. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will modify the appearance or behavior of the client-side UI. An attacker may be able to leverage this to perform virtual defacement of the application, or possibly to induce the user to perform unintended actions.",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based DOM data manipulation vulnerabilities is not to dynamically write to DOM data fields any data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from being stored. In general, this is best achieved by using a whitelist of permitted values.",
    "issueDetail": "The application may be vulnerable to DOM-based DOM data manipulation. Data is read from <b>window.name</b> and written to <b>the 'name' property of a DOM element</b> via the following statement:<ul><li>window.name= window.name.replace(NG_DEFER_B..., \"\" ) </li></ul><b>Note:</b> The name of the current window is a valid attack vector for DOM-based vulnerabilities. An attacker can directly control the name of the targeted application's window by using code on their own domain to load the targeted page using either window.open() or an iframe tag, and specifying the desired window name. ",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/mozilla/makedrive/demo/js/compiled/dependencies.min.js",
                "path": "/mozilla/makedrive/demo/js/compiled/dependencies.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9tb3ppbGxhL21ha2Vkcml2ZS9kZW1vL2pzL2NvbXBpbGVkL2RlcGVuZGVuY2llcy5taW4uanMgSFRUUC8xLjENCkhvc3Q6IGxvY2FsaG9zdDo5OTk5DQoNCg==",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogOTI1MjIyDQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBGcmksIDA3IE5vdiAyMDE0IDA5OjEyOjIxIEdNVA0KTGFzdC1Nb2RpZmllZDogRnJpLCAwNyBOb3YgMjAxNCAwOToxMjoyMCBHTVQNCg0KLyohIG1ha2Vkcml2ZSAwLjAuNjcgMjAxNC0xMS0wNiAqLwoKIWZ1bmN0aW9uKGEsYil7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9YS5kb2N1bWVudD9iKGEsITApOmZ1bmN0aW9uKGEpe2lmKCFhLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiBiKGEpfTpiKGEpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIHMoYSl7dmFyIGI9YS5sZW5ndGgsYz1uLnR5cGUoYSk7cmV0dXJuImZ1bmN0aW9uIj09PWN8fG4uaXNXaW5kb3coYSk/ITE6MT09PWEubm9kZVR5cGUmJmI/ITA6ImFycmF5Ij09PWN8fDA9PT1ifHwibnVtYmVyIj09dHlwZW9mIGImJmI+MCYmYi0xIGluIGF9ZnVuY3Rpb24geChhLGIsYyl7aWYobi5pc0Z1bmN0aW9uKGIpKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhLGQpe3JldHVybiEhYi5jYWxsKGEsZCxhKSE9PWN9KTtpZihiLm5vZGVUeXBlKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gYT09PWIhPT1jfSk7aWYoInN0cmluZyI9PXR5cGVvZiBiKXtpZih3LnRlc3QoYikpcmV0dXJuIG4uZmlsdGVyKGIsYSxjKTtiPW4uZmlsdGVyKGIsYSl9cmV0dXJuIG4uZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBnLmNhbGwoYixhKT49MCE9PWN9KX1mdW5jdGlvbiBEKGEsYil7Zm9yKDsoYT1hW2JdKSYmMSE9PWEubm9kZVR5cGU7KTtyZXR1cm4gYX1mdW5jdGlvbiBHKGEpe3ZhciBiPUZbYV09e307cmV0dXJuIG4uZWFjaChhLm1hdGNoKEUpfHxbXSxmdW5jdGlvbihhLGMpe2JbY109ITB9KSxifWZ1bmN0aW9uIEkoKXtsLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEksITEpLGEucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsSSwhMSksbi5yZWFkeSgpfWZ1bmN0aW9uIEsoKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5jYWNoZT17fSwwLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57fX19KSx0aGlzLmV4cGFuZG89bi5leHBhbmRvK01hdGgucmFuZG9tKCl9ZnVuY3Rpb24gUChhLGIsYyl7dmFyIGQ7aWYodm9pZCAwPT09YyYmMT09PWEubm9kZVR5cGUpaWYoZD0iZGF0YS0iK2IucmVwbGFjZShPLCItJDEiKS50b0xvd2VyQ2FzZSgpLGM9YS5nZXRBdHRyaWJ1dGUoZCksInN0cmluZyI9PXR5cGVvZiBjKXt0cnl7Yz0idHJ1ZSI9PT1jPyEwOiJmYWxzZSI9PT1jPyExOiJudWxsIj09PWM/bnVsbDorYysiIj09PWM/K2M6Ti50ZXN0KGMpP24ucGFyc2VKU09OKGMpOmN9Y2F0Y2goZSl7fU0uc2V0KGEsYixjKX1lbHNlIGM9dm9pZCAwO3JldHVybiBjfWZ1bmN0aW9uIFooKXtyZXR1cm4hMH1mdW5jdGlvbiAkKCl7cmV0dXJuITF9ZnVuY3Rpb24gXygpe3RyeXtyZXR1cm4gbC5hY3RpdmVFbGVtZW50fWNhdGNoKGEpe319ZnVuY3Rpb24gamIoYSxiKXtyZXR1cm4gbi5ub2RlTmFtZShhLCJ0YWJsZSIpJiZuLm5vZGVOYW1lKDExIT09Yi5ub2RlVHlwZT9iOmIuZmlyc3RDaGlsZCwidHIiKT9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0Ym9keSIpWzBdfHxhLmFwcGVuZENoaWxkKGEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIpKTphfWZ1bmN0aW9uIGtiKGEpe3JldHVybiBhLnR5cGU9KG51bGwhPT1hLmdldEF0dHJpYnV0ZSgidHlwZSIpKSsiLyIrYS50eXBlLGF9ZnVuY3Rpb24gbGIoYSl7dmFyIGI9Z2IuZXhlYyhhLnR5cGUpO3JldHVybiBiP2EudHlwZT1iWzFdOmEucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksYX1mdW5jdGlvbiBtYihhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKylMLnNldChhW2NdLCJnbG9iYWxFdmFsIiwhYnx8TC5nZXQoYltjXSwiZ2xvYmFsRXZhbCIpKX1mdW5jdGlvbiBuYihhLGIpe3ZhciBjLGQsZSxmLGcsaCxpLGo7aWYoMT09PWIubm9kZVR5cGUpe2lmKEwuaGFzRGF0YShhKSYmKGY9TC5hY2Nlc3MoYSksZz1MLnNldChiLGYpLGo9Zi5ldmVudHMpKXtkZWxldGUgZy5oYW5kbGUsZy5ldmVudHM9e307Zm9yKGUgaW4gailmb3IoYz0wLGQ9altlXS5sZW5ndGg7ZD5jO2MrKyluLmV2ZW50LmFkZChiLGUsaltlXVtjXSl9TS5oYXNEYXRhKGEpJiYoaD1NLmFjY2VzcyhhKSxpPW4uZXh0ZW5kKHt9LGgpLE0uc2V0KGIsaSkpfX1mdW5jdGlvbiBvYihhLGIpe3ZhciBjPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWU/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShifHwiKiIpOmEucXVlcnlTZWxlY3RvckFsbD9hLnF1ZXJ5U2VsZWN0b3JBbGwoYnx8IioiKTpbXTtyZXR1cm4gdm9pZCAwPT09Ynx8YiYmbi5ub2RlTmFtZShhLGIpP24ubWVyZ2UoW2FdLGMpOmN9ZnVuY3Rpb24gcGIoYSxiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7ImlucHV0Ij09PWMmJlQudGVzdChhLnR5cGUpP2IuY2hlY2tlZD1hLmNoZWNrZWQ6KCJpbnB1dCI9PT1jfHwidGV4dGFyZWEiPT09YykmJihiLmRlZmF1bHRWYWx1ZT1hLmRlZmF1bHRWYWx1ZSl9ZnVuY3Rpb24gc2IoYixjKXt2YXIgZCxlPW4oYy5jcmVhdGVFbGVtZW50KGIpKS5hcHBlbmRUbyhjLmJvZHkpLGY9YS5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZSYmKGQ9YS5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZShlWzBdKSk/ZC5kaXNwbGF5Om4uY3NzKGVbMF0sImRpc3BsYXkiKTtyZXR1cm4gZS5kZXRhY2goKSxmfWZ1bmN0aW9uIHRiKGEpe3ZhciBiPWwsYz1yYlthXTtyZXR1cm4gY3x8KGM9c2IoYSxiKSwibm9uZSIhPT1jJiZjfHwocWI9KHFifHxuKCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+IikpLmFwcGVuZFRvKGIuZG9jdW1lbnRFbGVtZW50KSxiPXFiWzBdLmNvbnRlbnREb2N1bWVudCxiLndyaXRlKCksYi5jbG9zZSgpLGM9c2IoYSxiKSxxYi5kZXRhY2goKSkscmJbYV09YyksY31mdW5jdGlvbiB4YihhLGIsYyl7dmFyIGQsZSxmLGcsaD1hLnN0eWxlO3JldHVybiBjPWN8fHdiKGEpLGMmJihnPWMuZ2V0UHJvcGVydHlWYWx1ZShiKXx8Y1tiXSksYyYmKCIiIT09Z3x8bi5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSl8fChnPW4uc3R5bGUoYSxiKSksdmIudGVzdChnKSYmdWIudGVzdChiKSYmKGQ9aC53aWR0aCxlPWgubWluV2lkdGgsZj1oLm1heFdpZHRoLGgubWluV2lkdGg9aC5tYXhXaWR0aD1oLndpZHRoPWcsZz1jLndpZHRoLGgud2lkdGg9ZCxoLm1pbldpZHRoPWUsaC5tYXhXaWR0aD1mKSksdm9pZCAwIT09Zz9nKyIiOmd9ZnVuY3Rpb24geWIoYSxiKXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEoKT92b2lkIGRlbGV0ZSB0aGlzLmdldDoodGhpcy5nZXQ9YikuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19ZnVuY3Rpb24gRmIoYSxiKXtpZihiIGluIGEpcmV0dXJuIGI7Zm9yKHZhciBjPWJbMF0udG9VcHBlckNhc2UoKStiLnNsaWNlKDEpLGQ9YixlPUViLmxlbmd0aDtlLS07KWlmKGI9RWJbZV0rYyxiIGluIGEpcmV0dXJuIGI7cmV0dXJuIGR9ZnVuY3Rpb24gR2IoYSxiLGMpe3ZhciBkPUFiLmV4ZWMoYik7cmV0dXJuIGQ/TWF0aC5tYXgoMCxkWzFdLShjfHwwKSkrKGRbMl18fCJweCIpOmJ9ZnVuY3Rpb24gSGIoYSxiLGMsZCxlKXtmb3IodmFyIGY9Yz09PShkPyJib3JkZXIiOiJjb250ZW50Iik/NDoid2lkdGgiPT09Yj8xOjAsZz0wOzQ+ZjtmKz0yKSJtYXJnaW4iPT09YyYmKGcrPW4uY3NzKGEsYytSW2ZdLCEwLGUpKSxkPygiY29udGVudCI9PT1jJiYoZy09bi5jc3MoYSwicGFkZGluZyIrUltmXSwhMCxlKSksIm1hcmdpbiIhPT1jJiYoZy09bi5jc3MoYSwiYm9yZGVyIitSW2ZdKyJXaWR0aCIsITAsZSkpKTooZys9bi5jc3MoYSwicGFkZGluZyIrUltmXSwhMCxlKSwicGFkZGluZyIhPT1jJiYoZys9bi5jc3MoYSwiYm9yZGVyIitSW2ZdKyJXaWR0aCIsITAsZSkpKTtyZXR1cm4gZ31mdW5jdGlvbiBJYihhLGIsYyl7dmFyIGQ9ITAsZT0id2lkdGgiPT09Yj9hLm9mZnNldFdpZHRoOmEub2Zmc2V0SGVpZ2h0LGY9d2IoYSksZz0iYm9yZGVyLWJveCI9PT1uLmNzcyhhLCJib3hTaXppbmciLCExLGYpO2lmKDA+PWV8fG51bGw9PWUpe2lmKGU9eGIoYSxiLGYpLCgwPmV8fG51bGw9PWUpJiYoZT1hLnN0eWxlW2JdKSx2Yi50ZXN0KGUpKXJldHVybiBlO2Q9ZyYmKGsuYm94U2l6aW5nUmVsaWFibGUoKXx8ZT09PWEuc3R5bGVbYl0pLGU9cGFyc2VGbG9hdChlKXx8MH1yZXR1cm4gZStIYihhLGIsY3x8KGc/ImJvcmRlciI6ImNvbnRlbnQiKSxkLGYpKyJweCJ9ZnVuY3Rpb24gSmIoYSxiKXtmb3IodmFyIGMsZCxlLGY9W10sZz0wLGg9YS5sZW5ndGg7aD5nO2crKylkPWFbZ10sZC5zdHlsZSYmKGZbZ109TC5nZXQoZCwib2xkZGlzcGxheSIpLGM9ZC5zdHlsZS5kaXNwbGF5LGI/KGZbZ118fCJub25lIiE9PWN8fChkLnN0eWxlLmRpc3BsYXk9IiIpLCIiPT09ZC5zdHlsZS5kaXNwbGF5JiZTKGQpJiYoZltnXT1MLmFjY2VzcyhkLCJvbGRkaXNwbGF5Iix0YihkLm5vZGVOYW1lKSkpKTooZT1TKGQpLCJub25lIj09PWMmJmV8fEwuc2V0KGQsIm9sZGRpc3BsYXkiLGU/YzpuLmNzcyhkLCJkaXNwbGF5IikpKSk7Zm9yKGc9MDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoYiYmIm5vbmUiIT09ZC5zdHlsZS5kaXNwbGF5JiYiIiE9PWQuc3R5bGUuZGlzcGxheXx8KGQuc3R5bGUuZGlzcGxheT1iP2ZbZ118fCIiOiJub25lIikpO3JldHVybiBhfWZ1bmN0aW9uIEtiKGEsYixjLGQsZSl7cmV0dXJuIG5ldyBLYi5wcm90b3R5cGUuaW5pdChhLGIsYyxkLGUpfWZ1bmN0aW9uIFNiKCl7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtMYj12b2lkIDB9KSxMYj1uLm5vdygpfWZ1bmN0aW9uIFRiKGEsYil7dmFyIGMsZD0wLGU9e2hlaWdodDphfTtmb3IoYj1iPzE6MDs0PmQ7ZCs9Mi1iKWM9UltkXSxlWyJtYXJnaW4iK2NdPWVbInBhZGRpbmciK2NdPWE7cmV0dXJuIGImJihlLm9wYWNpdHk9ZS53aWR0aD1hKSxlfWZ1bmN0aW9uIFViKGEsYixjKXtmb3IodmFyIGQsZT0oUmJbYl18fFtdKS5jb25jYXQoUmJbIioiXSksZj0wLGc9ZS5sZW5ndGg7Zz5mO2YrKylpZihkPWVbZl0uY2FsbChjLGIsYSkpcmV0dXJuIGR9ZnVuY3Rpb24gVmIoYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGssbD10aGlzLG09e30sbz1hLnN0eWxlLHA9YS5ub2RlVHlwZSYmUyhhKSxxPUwuZ2V0KGEsImZ4c2hvdyIpO2MucXVldWV8fChoPW4uX3F1ZXVlSG9va3MoYSwiZngiKSxudWxsPT1oLnVucXVldWVkJiYoaC51bnF1ZXVlZD0wLGk9aC5lbXB0eS5maXJlLGguZW1wdHkuZmlyZT1mdW5jdGlvbigpe2gudW5xdWV1ZWR8fGkoKX0pLGgudW5xdWV1ZWQrKyxsLmFsd2F5cyhmdW5jdGlvbigpe2wuYWx3YXlzKGZ1bmN0aW9uKCl7aC51bnF1ZXVlZC0tLG4ucXVldWUoYSwiZngiKS5sZW5ndGh8fGguZW1wdHkuZmlyZSgpfSl9KSksMT09PWEubm9kZVR5cGUmJigiaGVpZ2h0ImluIGJ8fCJ3aWR0aCJpbiBiKSYmKGMub3ZlcmZsb3c9W28ub3ZlcmZsb3csby5vdmVyZmxvd1gsby5vdmVyZmxvd1ldLGo9bi5jc3MoYSwiZGlzcGxheSIpLGs9Im5vbmUiPT09aj9MLmdldChhLCJvbGRkaXNwbGF5Iil8fHRiKGEubm9kZU5hbWUpOmosImlubGluZSI9PT1rJiYibm9uZSI9PT1uLmNzcyhhLCJmbG9hdCIpJiYoby5kaXNwbGF5PSJpbmxpbmUtYmxvY2siKSksYy5vdmVyZmxvdyYmKG8ub3ZlcmZsb3c9ImhpZGRlbiIsbC5hbHdheXMoZnVuY3Rpb24oKXtvLm92ZXJmbG93PWMub3ZlcmZsb3dbMF0sby5vdmVyZmxvd1g9Yy5vdmVyZmxvd1sxXSxvLm92ZXJmbG93WT1jLm92ZXJmbG93WzJdfSkpO2ZvcihkIGluIGIpaWYoZT1iW2RdLE5iLmV4ZWMoZSkpe2lmKGRlbGV0ZSBiW2RdLGY9Znx8InRvZ2dsZSI9PT1lLGU9PT0ocD8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09ZXx8IXF8fHZvaWQgMD09PXFbZF0pY29udGludWU7cD0hMH1tW2RdPXEmJnFbZF18fG4uc3R5bGUoYSxkKX1lbHNlIGo9dm9pZCAwO2lmKG4uaXNFbXB0eU9iamVjdChtKSkiaW5saW5lIj09PSgibm9uZSI9PT1qP3RiKGEubm9kZU5hbWUpOmopJiYoby5kaXNwbGF5PWopO2Vsc2V7cT8iaGlkZGVuImluIHEmJihwPXEuaGlkZGVuKTpxPUwuYWNjZXNzKGEsImZ4c2hvdyIse30pLGYmJihxLmhpZGRlbj0hcCkscD9uKGEpLnNob3coKTpsLmRvbmUoZnVuY3Rpb24oKXtuKGEpLmhpZGUoKX0pLGwuZG9uZShmdW5jdGlvbigpe3ZhciBiO0wucmVtb3ZlKGEsImZ4c2hvdyIpO2ZvcihiIGluIG0pbi5zdHlsZShhLGIsbVtiXSl9KTtmb3IoZCBpbiBtKWc9VWIocD9xW2RdOjAsZCxsKSxkIGluIHF8fChxW2RdPWcuc3RhcnQscCYmKGcuZW5kPWcuc3RhcnQsZy5zdGFydD0id2lkdGgiPT09ZHx8ImhlaWdodCI9PT1kPzE6MCkpfX1mdW5jdGlvbiBXYihhLGIpe3ZhciBjLGQsZSxmLGc7Zm9yKGMgaW4gYSlpZihkPW4uY2FtZWxDYXNlKGMpLGU9YltkXSxmPWFbY10sbi5pc0FycmF5KGYpJiYoZT1mWzFdLGY9YVtjXT1mWzBdKSxjIT09ZCYmKGFbZF09ZixkZWxldGUgYVtjXSksZz1uLmNzc0hvb2tzW2RdLGcmJiJleHBhbmQiaW4gZyl7Zj1nLmV4cGFuZChmKSxkZWxldGUgYVtkXTtmb3IoYyBpbiBmKWMgaW4gYXx8KGFbY109ZltjXSxiW2NdPWUpfWVsc2UgYltkXT1lfWZ1bmN0aW9uIFhiKGEsYixjKXt2YXIgZCxlLGY9MCxnPVFiLmxlbmd0aCxoPW4uRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24oKXtkZWxldGUgaS5lbGVtfSksaT1mdW5jdGlvbigpe2lmKGUpcmV0dXJuITE7Zm9yKHZhciBiPUxifHxTYigpLGM9TWF0aC5tYXgoMCxqLnN0YXJ0VGltZStqLmR1cmF0aW9uLWIpLGQ9Yy9qLmR1cmF0aW9ufHwwLGY9MS1kLGc9MCxpPWoudHdlZW5zLmxlbmd0aDtpPmc7ZysrKWoudHdlZW5zW2ddLnJ1bihmKTtyZXR1cm4gaC5ub3RpZnlXaXRoKGEsW2osZixjXSksMT5mJiZpP2M6KGgucmVzb2x2ZVdpdGgoYSxbal0pLCExKX0saj1oLnByb21pc2Uoe2VsZW06YSxwcm9wczpuLmV4dGVuZCh7fSxiKSxvcHRzOm4uZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9fSxjKSxvcmlnaW5hbFByb3BlcnRpZXM6YixvcmlnaW5hbE9wdGlvbnM6YyxzdGFydFRpbWU6TGJ8fFNiKCksZHVyYXRpb246Yy5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24oYixjKXt2YXIgZD1uLlR3ZWVuKGEsai5vcHRzLGIsYyxqLm9wdHMuc3BlY2lhbEVhc2luZ1tiXXx8ai5vcHRzLmVhc2luZyk7cmV0dXJuIGoudHdlZW5zLnB1c2goZCksZH0sc3RvcDpmdW5jdGlvbihiKXt2YXIgYz0wLGQ9Yj9qLnR3ZWVucy5sZW5ndGg6MDtpZihlKXJldHVybiB0aGlzO2ZvcihlPSEwO2Q+YztjKyspai50d2VlbnNbY10ucnVuKDEpO3JldHVybiBiP2gucmVzb2x2ZVdpdGgoYSxbaixiXSk6aC5yZWplY3RXaXRoKGEsW2osYl0pLHRoaXN9fSksaz1qLnByb3BzO2ZvcihXYihrLGoub3B0cy5zcGVjaWFsRWFzaW5nKTtnPmY7ZisrKWlmKGQ9UWJbZl0uY2FsbChqLGEsayxqLm9wdHMpKXJldHVybiBkO3JldHVybiBuLm1hcChrLFViLGopLG4uaXNGdW5jdGlvbihqLm9wdHMuc3RhcnQpJiZqLm9wdHMuc3RhcnQuY2FsbChhLGopLG4uZngudGltZXIobi5leHRlbmQoaSx7ZWxlbTphLGFuaW06aixxdWV1ZTpqLm9wdHMucXVldWV9KSksai5wcm9ncmVzcyhqLm9wdHMucHJvZ3Jlc3MpLmRvbmUoai5vcHRzLmRvbmUsai5vcHRzLmNvbXBsZXRlKS5mYWlsKGoub3B0cy5mYWlsKS5hbHdheXMoai5vcHRzLmFsd2F5cyl9ZnVuY3Rpb24gcmMoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7InN0cmluZyIhPXR5cGVvZiBiJiYoYz1iLGI9IioiKTt2YXIgZCxlPTAsZj1iLnRvTG93ZXJDYXNlKCkubWF0Y2goRSl8fFtdO2lmKG4uaXNGdW5jdGlvbihjKSlmb3IoO2Q9ZltlKytdOykiKyI9PT1kWzBdPyhkPWQuc2xpY2UoMSl8fCIqIiwoYVtkXT1hW2RdfHxbXSkudW5zaGlmdChjKSk6KGFbZF09YVtkXXx8W10pLnB1c2goYyl9fWZ1bmN0aW9uIHNjKGEsYixjLGQpe2Z1bmN0aW9uIGcoaCl7dmFyIGk7cmV0dXJuIGVbaF09ITAsbi5lYWNoKGFbaF18fFtdLGZ1bmN0aW9uKGEsaCl7dmFyIGo9aChiLGMsZCk7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBqfHxmfHxlW2pdP2Y/IShpPWopOnZvaWQgMDooYi5kYXRhVHlwZXMudW5zaGlmdChqKSxnKGopLCExKX0pLGl9dmFyIGU9e30sZj1hPT09b2M7cmV0dXJuIGcoYi5kYXRhVHlwZXNbMF0pfHwhZVsiKiJdJiZnKCIqIil9ZnVuY3Rpb24gdGMoYSxiKXt2YXIgYyxkLGU9bi5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihjIGluIGIpdm9pZCAwIT09YltjXSYmKChlW2NdP2E6ZHx8KGQ9e30pKVtjXT1iW2NdKTtyZXR1cm4gZCYmbi5leHRlbmQoITAsYSxkKSxhfWZ1bmN0aW9uIHVjKGEsYixjKXtmb3IodmFyIGQsZSxmLGcsaD1hLmNvbnRlbnRzLGk9YS5kYXRhVHlwZXM7IioiPT09aVswXTspaS5zaGlmdCgpLHZvaWQgMD09PWQmJihkPWEubWltZVR5cGV8fGIuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTtpZihkKWZvcihlIGluIGgpaWYoaFtlXSYmaFtlXS50ZXN0KGQpKXtpLnVuc2hpZnQoZSk7YnJlYWt9aWYoaVswXWluIGMpZj1pWzBdO2Vsc2V7Zm9yKGUgaW4gYyl7aWYoIWlbMF18fGEuY29udmVydGVyc1tlKyIgIitpWzBdXSl7Zj1lO2JyZWFrfWd8fChnPWUpfWY9Znx8Z31yZXR1cm4gZj8oZiE9PWlbMF0mJmkudW5zaGlmdChmKSxjW2ZdKTp2b2lkIDB9ZnVuY3Rpb24gdmMoYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPXt9LGs9YS5kYXRhVHlwZXMuc2xpY2UoKTtpZihrWzFdKWZvcihnIGluIGEuY29udmVydGVycylqW2cudG9Mb3dlckNhc2UoKV09YS5jb252ZXJ0ZXJzW2ddO2ZvcihmPWsuc2hpZnQoKTtmOylpZihhLnJlc3BvbnNlRmllbGRzW2ZdJiYoY1thLnJlc3BvbnNlRmllbGRzW2ZdXT1iKSwhaSYmZCYmYS5kYXRhRmlsdGVyJiYoYj1hLmRhdGFGaWx0ZXIoYixhLmRhdGFUeXBlKSksaT1mLGY9ay5zaGlmdCgpKWlmKCIqIj09PWYpZj1pO2Vsc2UgaWYoIioiIT09aSYmaSE9PWYpe2lmKGc9altpKyIgIitmXXx8alsiKiAiK2ZdLCFnKWZvcihlIGluIGopaWYoaD1lLnNwbGl0KCIgIiksaFsxXT09PWYmJihnPWpbaSsiICIraFswXV18fGpbIiogIitoWzBdXSkpe2c9PT0hMD9nPWpbZV06altlXSE9PSEwJiYoZj1oWzBdLGsudW5zaGlmdChoWzFdKSk7YnJlYWt9aWYoZyE9PSEwKWlmKGcmJmFbInRocm93cyJdKWI9ZyhiKTtlbHNlIHRyeXtiPWcoYil9Y2F0Y2gobCl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6Zz9sOiJObyBjb252ZXJzaW9uIGZyb20gIitpKyIgdG8gIitmfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOmJ9fWZ1bmN0aW9uIEJjKGEsYixjLGQpe3ZhciBlO2lmKG4uaXNBcnJheShiKSluLmVhY2goYixmdW5jdGlvbihiLGUpe2N8fHhjLnRlc3QoYSk/ZChhLGUpOkJjKGErIlsiKygib2JqZWN0Ij09dHlwZW9mIGU/YjoiIikrIl0iLGUsYyxkKX0pO2Vsc2UgaWYoY3x8Im9iamVjdCIhPT1uLnR5cGUoYikpZChhLGIpO2Vsc2UgZm9yKGUgaW4gYilCYyhhKyJbIitlKyJdIixiW2VdLGMsZCl9ZnVuY3Rpb24gS2MoYSl7cmV0dXJuIG4uaXNXaW5kb3coYSk/YTo5PT09YS5ub2RlVHlwZSYmYS5kZWZhdWx0Vmlld312YXIgYz1bXSxkPWMuc2xpY2UsZT1jLmNvbmNhdCxmPWMucHVzaCxnPWMuaW5kZXhPZixoPXt9LGk9aC50b1N0cmluZyxqPWguaGFzT3duUHJvcGVydHksaz17fSxsPWEuZG9jdW1lbnQsbT0iMi4xLjEiLG49ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IG4uZm4uaW5pdChhLGIpfSxvPS9eW1xzXHVGRUZGXHhBMF0rfFtcc1x1RkVGRlx4QTBdKyQvZyxwPS9eLW1zLS8scT0vLShbXGRhLXpdKS9naSxyPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudG9VcHBlckNhc2UoKX07bi5mbj1uLnByb3RvdHlwZT17anF1ZXJ5Om0sY29uc3RydWN0b3I6bixzZWxlY3RvcjoiIixsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIGQuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hPzA+YT90aGlzW2ErdGhpcy5sZW5ndGhdOnRoaXNbYV06ZC5jYWxsKHRoaXMpfSxwdXNoU3RhY2s6ZnVuY3Rpb24oYSl7dmFyIGI9bi5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksYSk7cmV0dXJuIGIucHJldk9iamVjdD10aGlzLGIuY29udGV4dD10aGlzLmNvbnRleHQsYn0sZWFjaDpmdW5jdGlvbihhLGIpe3JldHVybiBuLmVhY2godGhpcyxhLGIpfSxtYXA6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4ubWFwKHRoaXMsZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5jYWxsKGIsYyxiKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxlcTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmxlbmd0aCxjPSthKygwPmE/YjowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soYz49MCYmYj5jP1t0aGlzW2NdXTpbXSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IobnVsbCl9LHB1c2g6Zixzb3J0OmMuc29ydCxzcGxpY2U6Yy5zcGxpY2V9LG4uZXh0ZW5kPW4uZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGc9YXJndW1lbnRzWzBdfHx7fSxoPTEsaT1hcmd1bWVudHMubGVuZ3RoLGo9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIGcmJihqPWcsZz1hcmd1bWVudHNbaF18fHt9LGgrKyksIm9iamVjdCI9PXR5cGVvZiBnfHxuLmlzRnVuY3Rpb24oZyl8fChnPXt9KSxoPT09aSYmKGc9dGhpcyxoLS0pO2k+aDtoKyspaWYobnVsbCE9KGE9YXJndW1lbnRzW2hdKSlmb3IoYiBpbiBhKWM9Z1tiXSxkPWFbYl0sZyE9PWQmJihqJiZkJiYobi5pc1BsYWluT2JqZWN0KGQpfHwoZT1uLmlzQXJyYXkoZCkpKT8oZT8oZT0hMSxmPWMmJm4uaXNBcnJheShjKT9jOltdKTpmPWMmJm4uaXNQbGFpbk9iamVjdChjKT9jOnt9LGdbYl09bi5leHRlbmQoaixmLGQpKTp2b2lkIDAhPT1kJiYoZ1tiXT1kKSk7cmV0dXJuIGd9LG4uZXh0ZW5kKHtleHBhbmRvOiJqUXVlcnkiKyhtK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xEL2csIiIpLGlzUmVhZHk6ITAsZXJyb3I6ZnVuY3Rpb24oYSl7dGhyb3cgbmV3IEVycm9yKGEpfSxub29wOmZ1bmN0aW9uKCl7fSxpc0Z1bmN0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiJmdW5jdGlvbiI9PT1uLnR5cGUoYSl9LGlzQXJyYXk6QXJyYXkuaXNBcnJheSxpc1dpbmRvdzpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmYT09PWEud2luZG93fSxpc051bWVyaWM6ZnVuY3Rpb24oYSl7cmV0dXJuIW4uaXNBcnJheShhKSYmYS1wYXJzZUZsb2F0KGEpPj0wfSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGEpe3JldHVybiJvYmplY3QiIT09bi50eXBlKGEpfHxhLm5vZGVUeXBlfHxuLmlzV2luZG93KGEpPyExOmEuY29uc3RydWN0b3ImJiFqLmNhbGwoYS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsImlzUHJvdG90eXBlT2YiKT8hMTohMH0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXJldHVybiExO3JldHVybiEwfSx0eXBlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP2ErIiI6Im9iamVjdCI9PXR5cGVvZiBhfHwiZnVuY3Rpb24iPT10eXBlb2YgYT9oW2kuY2FsbChhKV18fCJvYmplY3QiOnR5cGVvZiBhfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGEpe3ZhciBiLGM9ZXZhbDthPW4udHJpbShhKSxhJiYoMT09PWEuaW5kZXhPZigidXNlIHN0cmljdCIpPyhiPWwuY3JlYXRlRWxlbWVudCgic2NyaXB0IiksYi50ZXh0PWEsbC5oZWFkLmFwcGVuZENoaWxkKGIpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYikpOmMoYSkpfSxjYW1lbENhc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShwLCJtcy0iKS5yZXBsYWNlKHEscil9LG5vZGVOYW1lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWIudG9Mb3dlckNhc2UoKX0sZWFjaDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT0wLGY9YS5sZW5ndGgsZz1zKGEpO2lmKGMpe2lmKGcpZm9yKDtmPmUmJihkPWIuYXBwbHkoYVtlXSxjKSxkIT09ITEpO2UrKyk7ZWxzZSBmb3IoZSBpbiBhKWlmKGQ9Yi5hcHBseShhW2VdLGMpLGQ9PT0hMSlicmVha31lbHNlIGlmKGcpZm9yKDtmPmUmJihkPWIuY2FsbChhW2VdLGUsYVtlXSksZCE9PSExKTtlKyspO2Vsc2UgZm9yKGUgaW4gYSlpZihkPWIuY2FsbChhW2VdLGUsYVtlXSksZD09PSExKWJyZWFrO3JldHVybiBhfSx0cmltOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hPyIiOihhKyIiKS5yZXBsYWNlKG8sIiIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHxbXTtyZXR1cm4gbnVsbCE9YSYmKHMoT2JqZWN0KGEpKT9uLm1lcmdlKGMsInN0cmluZyI9PXR5cGVvZiBhP1thXTphKTpmLmNhbGwoYyxhKSksY30saW5BcnJheTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG51bGw9PWI/LTE6Zy5jYWxsKGIsYSxjKX0sbWVyZ2U6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9K2IubGVuZ3RoLGQ9MCxlPWEubGVuZ3RoO2M+ZDtkKyspYVtlKytdPWJbZF07cmV0dXJuIGEubGVuZ3RoPWUsYX0sZ3JlcDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkLGU9W10sZj0wLGc9YS5sZW5ndGgsaD0hYztnPmY7ZisrKWQ9IWIoYVtmXSxmKSxkIT09aCYmZS5wdXNoKGFbZl0pO3JldHVybiBlfSxtYXA6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGY9MCxnPWEubGVuZ3RoLGg9cyhhKSxpPVtdO2lmKGgpZm9yKDtnPmY7ZisrKWQ9YihhW2ZdLGYsYyksbnVsbCE9ZCYmaS5wdXNoKGQpO2Vsc2UgZm9yKGYgaW4gYSlkPWIoYVtmXSxmLGMpLG51bGwhPWQmJmkucHVzaChkKTtyZXR1cm4gZS5hcHBseShbXSxpKX0sZ3VpZDoxLHByb3h5OmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmO3JldHVybiJzdHJpbmciPT10eXBlb2YgYiYmKGM9YVtiXSxiPWEsYT1jKSxuLmlzRnVuY3Rpb24oYSk/KGU9ZC5jYWxsKGFyZ3VtZW50cywyKSxmPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYnx8dGhpcyxlLmNvbmNhdChkLmNhbGwoYXJndW1lbnRzKSkpfSxmLmd1aWQ9YS5ndWlkPWEuZ3VpZHx8bi5ndWlkKyssZik6dm9pZCAwfSxub3c6RGF0ZS5ub3csc3VwcG9ydDprfSksbi5lYWNoKCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7aFsiW29iamVjdCAiK2IrIl0iXT1iLnRvTG93ZXJDYXNlKCl9KTt2YXIgdD1mdW5jdGlvbihhKXtmdW5jdGlvbiBmYihhLGIsZCxlKXt2YXIgZixoLGosayxsLG8scixzLHcseDtpZigoYj9iLm93bmVyRG9jdW1lbnR8fGI6dikhPT1uJiZtKGIpLGI9Ynx8bixkPWR8fFtdLCFhfHwic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIGQ7aWYoMSE9PShrPWIubm9kZVR5cGUpJiY5IT09aylyZXR1cm5bXTtpZihwJiYhZSl7aWYoZj1fLmV4ZWMoYSkpaWYoaj1mWzFdKXtpZig5PT09ayl7aWYoaD1iLmdldEVsZW1lbnRCeUlkKGopLCFofHwhaC5wYXJlbnROb2RlKXJldHVybiBkO2lmKGguaWQ9PT1qKXJldHVybiBkLnB1c2goaCksZH1lbHNlIGlmKGIub3duZXJEb2N1bWVudCYmKGg9Yi5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGopKSYmdChiLGgpJiZoLmlkPT09ailyZXR1cm4gZC5wdXNoKGgpLGR9ZWxzZXtpZihmWzJdKXJldHVybiBJLmFwcGx5KGQsYi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKSksZDtpZigoaj1mWzNdKSYmYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIEkuYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoaikpLGR9aWYoYy5xc2EmJighcXx8IXEudGVzdChhKSkpe2lmKHM9cj11LHc9Yix4PTk9PT1rJiZhLDE9PT1rJiYib2JqZWN0IiE9PWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7Zm9yKG89ZyhhKSwocj1iLmdldEF0dHJpYnV0ZSgiaWQiKSk/cz1yLnJlcGxhY2UoYmIsIlxcJCYiKTpiLnNldEF0dHJpYnV0ZSgiaWQiLHMpLHM9IltpZD0nIitzKyInXSAiLGw9by5sZW5ndGg7bC0tOylvW2xdPXMrcWIob1tsXSk7dz1hYi50ZXN0KGEpJiZvYihiLnBhcmVudE5vZGUpfHxiLHg9by5qb2luKCIsIil9aWYoeCl0cnl7cmV0dXJuIEkuYXBwbHkoZCx3LnF1ZXJ5U2VsZWN0b3JBbGwoeCkpLGR9Y2F0Y2goeSl7fWZpbmFsbHl7cnx8Yi5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fX1yZXR1cm4gaShhLnJlcGxhY2UoUiwiJDEiKSxiLGQsZSl9ZnVuY3Rpb24gZ2IoKXtmdW5jdGlvbiBiKGMsZSl7cmV0dXJuIGEucHVzaChjKyIgIik+ZC5jYWNoZUxlbmd0aCYmZGVsZXRlIGJbYS5zaGlmdCgpXSxiW2MrIiAiXT1lfXZhciBhPVtdO3JldHVybiBifWZ1bmN0aW9uIGhiKGEpe3JldHVybiBhW3VdPSEwLGF9ZnVuY3Rpb24gaWIoYSl7dmFyIGI9bi5jcmVhdGVFbGVtZW50KCJkaXYiKTt0cnl7cmV0dXJuISFhKGIpfWNhdGNoKGMpe3JldHVybiExfWZpbmFsbHl7Yi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksYj1udWxsfX1mdW5jdGlvbiBqYihhLGIpe2Zvcih2YXIgYz1hLnNwbGl0KCJ8IiksZT1hLmxlbmd0aDtlLS07KWQuYXR0ckhhbmRsZVtjW2VdXT1ifWZ1bmN0aW9uIGtiKGEsYil7dmFyIGM9YiYmYSxkPWMmJjE9PT1hLm5vZGVUeXBlJiYxPT09Yi5ub2RlVHlwZSYmKH5iLnNvdXJjZUluZGV4fHxEKS0ofmEuc291cmNlSW5kZXh8fEQpO2lmKGQpcmV0dXJuIGQ7aWYoYylmb3IoO2M9Yy5uZXh0U2libGluZzspaWYoYz09PWIpcmV0dXJuLTE7cmV0dXJuIGE/MTotMX1mdW5jdGlvbiBsYihhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT1jJiZiLnR5cGU9PT1hfX1mdW5jdGlvbiBtYihhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybigiaW5wdXQiPT09Y3x8ImJ1dHRvbiI9PT1jKSYmYi50eXBlPT09YX19ZnVuY3Rpb24gbmIoYSl7cmV0dXJuIGhiKGZ1bmN0aW9uKGIpe3JldHVybiBiPStiLGhiKGZ1bmN0aW9uKGMsZCl7Zm9yKHZhciBlLGY9YShbXSxjLmxlbmd0aCxiKSxnPWYubGVuZ3RoO2ctLTspY1tlPWZbZ11dJiYoY1tlXT0hKGRbZV09Y1tlXSkpfSl9KX1mdW5jdGlvbiBvYihhKXtyZXR1cm4gYSYmdHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPT1DJiZhfWZ1bmN0aW9uIHBiKCl7fWZ1bmN0aW9uIHFiKGEpe2Zvcih2YXIgYj0wLGM9YS5sZW5ndGgsZD0iIjtjPmI7YisrKWQrPWFbYl0udmFsdWU7cmV0dXJuIGR9ZnVuY3Rpb24gcmIoYSxiLGMpe3ZhciBkPWIuZGlyLGU9YyYmInBhcmVudE5vZGUiPT09ZCxmPXgrKztyZXR1cm4gYi5maXJzdD9mdW5jdGlvbihiLGMsZil7Zm9yKDtiPWJbZF07KWlmKDE9PT1iLm5vZGVUeXBlfHxlKXJldHVybiBhKGIsYyxmKX06ZnVuY3Rpb24oYixjLGcpe3ZhciBoLGksaj1bdyxmXTtpZihnKXtmb3IoO2I9YltkXTspaWYoKDE9PT1iLm5vZGVUeXBlfHxlKSYmYShiLGMsZykpcmV0dXJuITB9ZWxzZSBmb3IoO2I9YltkXTspaWYoMT09PWIubm9kZVR5cGV8fGUpe2lmKGk9Ylt1XXx8KGJbdV09e30pLChoPWlbZF0pJiZoWzBdPT09dyYmaFsxXT09PWYpcmV0dXJuIGpbMl09aFsyXTtpZihpW2RdPWosalsyXT1hKGIsYyxnKSlyZXR1cm4hMH19fWZ1bmN0aW9uIHNiKGEpe3JldHVybiBhLmxlbmd0aD4xP2Z1bmN0aW9uKGIsYyxkKXtmb3IodmFyIGU9YS5sZW5ndGg7ZS0tOylpZighYVtlXShiLGMsZCkpcmV0dXJuITE7cmV0dXJuITB9OmFbMF19ZnVuY3Rpb24gdGIoYSxiLGMpe2Zvcih2YXIgZD0wLGU9Yi5sZW5ndGg7ZT5kO2QrKylmYihhLGJbZF0sYyk7cmV0dXJuIGN9ZnVuY3Rpb24gdWIoYSxiLGMsZCxlKXtmb3IodmFyIGYsZz1bXSxoPTAsaT1hLmxlbmd0aCxqPW51bGwhPWI7aT5oO2grKykoZj1hW2hdKSYmKCFjfHxjKGYsZCxlKSkmJihnLnB1c2goZiksaiYmYi5wdXNoKGgpKTtyZXR1cm4gZ31mdW5jdGlvbiB2YihhLGIsYyxkLGUsZil7cmV0dXJuIGQmJiFkW3VdJiYoZD12YihkKSksZSYmIWVbdV0mJihlPXZiKGUsZikpLGhiKGZ1bmN0aW9uKGYsZyxoLGkpe3ZhciBqLGssbCxtPVtdLG49W10sbz1nLmxlbmd0aCxwPWZ8fHRiKGJ8fCIqIixoLm5vZGVUeXBlP1toXTpoLFtdKSxxPSFhfHwhZiYmYj9wOnViKHAsbSxhLGgsaSkscj1jP2V8fChmP2E6b3x8ZCk/W106ZzpxO2lmKGMmJmMocSxyLGgsaSksZClmb3Ioaj11YihyLG4pLGQoaixbXSxoLGkpLGs9ai5sZW5ndGg7ay0tOykobD1qW2tdKSYmKHJbbltrXV09IShxW25ba11dPWwpKTtpZihmKXtpZihlfHxhKXtpZihlKXtmb3Ioaj1bXSxrPXIubGVuZ3RoO2stLTspKGw9cltrXSkmJmoucHVzaChxW2tdPWwpO2UobnVsbCxyPVtdLGosaSl9Zm9yKGs9ci5sZW5ndGg7ay0tOykobD1yW2tdKSYmKGo9ZT9LLmNhbGwoZixsKTptW2tdKT4tMSYmKGZbal09IShnW2pdPWwpKX19ZWxzZSByPXViKHI9PT1nP3Iuc3BsaWNlKG8sci5sZW5ndGgpOnIpLGU/ZShudWxsLGcscixpKTpJLmFwcGx5KGcscil9KX1mdW5jdGlvbiB3YihhKXtmb3IodmFyIGIsYyxlLGY9YS5sZW5ndGgsZz1kLnJlbGF0aXZlW2FbMF0udHlwZV0saD1nfHxkLnJlbGF0aXZlWyIgIl0saT1nPzE6MCxrPXJiKGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yn0saCwhMCksbD1yYihmdW5jdGlvbihhKXtyZXR1cm4gSy5jYWxsKGIsYSk+LTF9LGgsITApLG09W2Z1bmN0aW9uKGEsYyxkKXtyZXR1cm4hZyYmKGR8fGMhPT1qKXx8KChiPWMpLm5vZGVUeXBlP2soYSxjLGQpOmwoYSxjLGQpKX1dO2Y+aTtpKyspaWYoYz1kLnJlbGF0aXZlW2FbaV0udHlwZV0pbT1bcmIoc2IobSksYyldO2Vsc2V7aWYoYz1kLmZpbHRlclthW2ldLnR5cGVdLmFwcGx5KG51bGwsYVtpXS5tYXRjaGVzKSxjW3VdKXtmb3IoZT0rK2k7Zj5lJiYhZC5yZWxhdGl2ZVthW2VdLnR5cGVdO2UrKyk7cmV0dXJuIHZiKGk+MSYmc2IobSksaT4xJiZxYihhLnNsaWNlKDAsaS0xKS5jb25jYXQoe3ZhbHVlOiIgIj09PWFbaS0yXS50eXBlPyIqIjoiIn0pKS5yZXBsYWNlKFIsIiQxIiksYyxlPmkmJndiKGEuc2xpY2UoaSxlKSksZj5lJiZ3YihhPWEuc2xpY2UoZSkpLGY+ZSYmcWIoYSkpfW0ucHVzaChjKX1yZXR1cm4gc2IobSl9ZnVuY3Rpb24geGIoYSxiKXt2YXIgYz1iLmxlbmd0aD4wLGU9YS5sZW5ndGg+MCxmPWZ1bmN0aW9uKGYsZyxoLGksayl7dmFyIGwsbSxvLHA9MCxxPSIwIixyPWYmJltdLHM9W10sdD1qLHU9Znx8ZSYmZC5maW5kLlRBRygiKiIsayksdj13Kz1udWxsPT10PzE6TWF0aC5yYW5kb20oKXx8LjEseD11Lmxlbmd0aDtmb3IoayYmKGo9ZyE9PW4mJmcpO3EhPT14JiZudWxsIT0obD11W3FdKTtxKyspe2lmKGUmJmwpe2ZvcihtPTA7bz1hW20rK107KWlmKG8obCxnLGgpKXtpLnB1c2gobCk7YnJlYWt9ayYmKHc9dil9YyYmKChsPSFvJiZsKSYmcC0tLGYmJnIucHVzaChsKSl9aWYocCs9cSxjJiZxIT09cCl7Zm9yKG09MDtvPWJbbSsrXTspbyhyLHMsZyxoKTtpZihmKXtpZihwPjApZm9yKDtxLS07KXJbcV18fHNbcV18fChzW3FdPUcuY2FsbChpKSk7cz11YihzKX1JLmFwcGx5KGkscyksayYmIWYmJnMubGVuZ3RoPjAmJnArYi5sZW5ndGg+MSYmZmIudW5pcXVlU29ydChpKX1yZXR1cm4gayYmKHc9dixqPXQpLHJ9O3JldHVybiBjP2hiKGYpOmZ9dmFyIGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdT0ic2l6emxlIistbmV3IERhdGUsdj1hLmRvY3VtZW50LHc9MCx4PTAseT1nYigpLHo9Z2IoKSxBPWdiKCksQj1mdW5jdGlvbihhLGIpe3JldHVybiBhPT09YiYmKGw9ITApLDB9LEM9InVuZGVmaW5lZCIsRD0xPDwzMSxFPXt9Lmhhc093blByb3BlcnR5LEY9W10sRz1GLnBvcCxIPUYucHVzaCxJPUYucHVzaCxKPUYuc2xpY2UsSz1GLmluZGV4T2Z8fGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9dGhpcy5sZW5ndGg7Yz5iO2IrKylpZih0aGlzW2JdPT09YSlyZXR1cm4gYjtyZXR1cm4tMX0sTD0iY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLE09IltcXHgyMFxcdFxcclxcblxcZl0iLE49Iig/OlxcXFwufFtcXHctXXxbXlxceDAwLVxceGEwXSkrIixPPU4ucmVwbGFjZSgidyIsIncjIiksUD0iXFxbIitNKyIqKCIrTisiKSg/OiIrTSsiKihbKl4kfCF+XT89KSIrTSsiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiK08rIikpfCkiK00rIipcXF0iLFE9IjooIitOKyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitQKyIpKil8LiopXFwpfCkiLFI9bmV3IFJlZ0V4cCgiXiIrTSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitNKyIrJCIsImciKSxTPW5ldyBSZWdFeHAoIl4iK00rIiosIitNKyIqIiksVD1uZXcgUmVnRXhwKCJeIitNKyIqKFs+K35dfCIrTSsiKSIrTSsiKiIpLFU9bmV3IFJlZ0V4cCgiPSIrTSsiKihbXlxcXSdcIl0qPykiK00rIipcXF0iLCJnIiksVj1uZXcgUmVnRXhwKFEpLFc9bmV3IFJlZ0V4cCgiXiIrTysiJCIpLFg9e0lEOm5ldyBSZWdFeHAoIl4jKCIrTisiKSIpLENMQVNTOm5ldyBSZWdFeHAoIl5cXC4oIitOKyIpIiksVEFHOm5ldyBSZWdFeHAoIl4oIitOLnJlcGxhY2UoInciLCJ3KiIpKyIpIiksQVRUUjpuZXcgUmVnRXhwKCJeIitQKSxQU0VVRE86bmV3IFJlZ0V4cCgiXiIrUSksQ0hJTEQ6bmV3IFJlZ0V4cCgiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFwoIitNKyIqKGV2ZW58b2RkfCgoWystXXwpKFxcZCopbnwpIitNKyIqKD86KFsrLV18KSIrTSsiKihcXGQrKXwpKSIrTSsiKlxcKXwpIiwiaSIpLGJvb2w6bmV3IFJlZ0V4cCgiXig/OiIrTCsiKSQiLCJpIiksbmVlZHNDb250ZXh0Om5ldyBSZWdFeHAoIl4iK00rIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIrTSsiKigoPzotXFxkKT9cXGQqKSIrTSsiKlxcKXwpKD89W14tXXwkKSIsImkiKX0sWT0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFo9L15oXGQkL2ksJD0vXltee10rXHtccypcW25hdGl2ZSBcdy8sXz0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLGFiPS9bK35dLyxiYj0vJ3xcXC9nLGNiPW5ldyBSZWdFeHAoIlxcXFwoW1xcZGEtZl17MSw2fSIrTSsiP3woIitNKyIpfC4pIiwiaWciKSxkYj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9IjB4IitiLTY1NTM2O3JldHVybiBkIT09ZHx8Yz9iOjA+ZD9TdHJpbmcuZnJvbUNoYXJDb2RlKGQrNjU1MzYpOlN0cmluZy5mcm9tQ2hhckNvZGUoZD4+MTB8NTUyOTYsMTAyMyZkfDU2MzIwKX07dHJ5e0kuYXBwbHkoRj1KLmNhbGwodi5jaGlsZE5vZGVzKSx2LmNoaWxkTm9kZXMpLEZbdi5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZWIpe0k9e2FwcGx5OkYubGVuZ3RoP2Z1bmN0aW9uKGEsYil7SC5hcHBseShhLEouY2FsbChiKSl9OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWEubGVuZ3RoLGQ9MDthW2MrK109YltkKytdOyk7YS5sZW5ndGg9Yy0xfX19Yz1mYi5zdXBwb3J0PXt9LGY9ZmIuaXNYTUw9ZnVuY3Rpb24oYSl7dmFyIGI9YSYmKGEub3duZXJEb2N1bWVudHx8YSkuZG9jdW1lbnRFbGVtZW50O3JldHVybiBiPyJIVE1MIiE9PWIubm9kZU5hbWU6ITF9LG09ZmIuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oYSl7dmFyIGIsZT1hP2Eub3duZXJEb2N1bWVudHx8YTp2LGc9ZS5kZWZhdWx0VmlldztyZXR1cm4gZSE9PW4mJjk9PT1lLm5vZGVUeXBlJiZlLmRvY3VtZW50RWxlbWVudD8obj1lLG89ZS5kb2N1bWVudEVsZW1lbnQscD0hZihlKSxnJiZnIT09Zy50b3AmJihnLmFkZEV2ZW50TGlzdGVuZXI/Zy5hZGRFdmVudExpc3RlbmVyKCJ1bmxvYWQiLGZ1bmN0aW9uKCl7bSgpfSwhMSk6Zy5hdHRhY2hFdmVudCYmZy5hdHRhY2hFdmVudCgib251bmxvYWQiLGZ1bmN0aW9uKCl7bSgpfSkpLGMuYXR0cmlidXRlcz1pYihmdW5jdGlvbihhKXtyZXR1cm4gYS5jbGFzc05hbWU9ImkiLCFhLmdldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIil9KSxjLmdldEVsZW1lbnRzQnlUYWdOYW1lPWliKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFwcGVuZENoaWxkKGUuY3JlYXRlQ29tbWVudCgiIikpLCFhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RofSksYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPSQudGVzdChlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpJiZpYihmdW5jdGlvbihhKXtyZXR1cm4gYS5pbm5lckhUTUw9IjxkaXYgY2xhc3M9J2EnPjwvZGl2PjxkaXYgY2xhc3M9J2EgaSc+PC9kaXY+IixhLmZpcnN0Q2hpbGQuY2xhc3NOYW1lPSJpIiwyPT09YS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJpIikubGVuZ3RofSksYy5nZXRCeUlkPWliKGZ1bmN0aW9uKGEpe3JldHVybiBvLmFwcGVuZENoaWxkKGEpLmlkPXUsIWUuZ2V0RWxlbWVudHNCeU5hbWV8fCFlLmdldEVsZW1lbnRzQnlOYW1lKHUpLmxlbmd0aH0pLGMuZ2V0QnlJZD8oZC5maW5kLklEPWZ1bmN0aW9uKGEsYil7aWYodHlwZW9mIGIuZ2V0RWxlbWVudEJ5SWQhPT1DJiZwKXt2YXIgYz1iLmdldEVsZW1lbnRCeUlkKGEpO3JldHVybiBjJiZjLnBhcmVudE5vZGU/W2NdOltdfX0sZC5maWx0ZXIuSUQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKGNiLGRiKTtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKCJpZCIpPT09Yn19KTooZGVsZXRlIGQuZmluZC5JRCxkLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoY2IsZGIpO3JldHVybiBmdW5jdGlvbihhKXt2YXIgYz10eXBlb2YgYS5nZXRBdHRyaWJ1dGVOb2RlIT09QyYmYS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpO3JldHVybiBjJiZjLnZhbHVlPT09Yn19KSxkLmZpbmQuVEFHPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdHlwZW9mIGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPT1DP2IuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk6dm9pZCAwfTpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT0wLGY9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKTtpZigiKiI9PT1hKXtmb3IoO2M9ZltlKytdOykxPT09Yy5ub2RlVHlwZSYmZC5wdXNoKGMpO3JldHVybiBkfXJldHVybiBmfSxkLmZpbmQuQ0xBU1M9Yy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihhLGIpe3JldHVybiB0eXBlb2YgYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lIT09QyYmcD9iLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYSk6dm9pZCAwfSxyPVtdLHE9W10sKGMucXNhPSQudGVzdChlLnF1ZXJ5U2VsZWN0b3JBbGwpKSYmKGliKGZ1bmN0aW9uKGEpe2EuaW5uZXJIVE1MPSI8c2VsZWN0IG1zYWxsb3djbGlwPScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+IixhLnF1ZXJ5U2VsZWN0b3JBbGwoIlttc2FsbG93Y2xpcF49JyddIikubGVuZ3RoJiZxLnB1c2goIlsqXiRdPSIrTSsiKig/OicnfFwiXCIpIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJbc2VsZWN0ZWRdIikubGVuZ3RofHxxLnB1c2goIlxcWyIrTSsiKig/OnZhbHVlfCIrTCsiKSIpLGEucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGh8fHEucHVzaCgiOmNoZWNrZWQiKX0pLGliKGZ1bmN0aW9uKGEpe3ZhciBiPWUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtiLnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGEuYXBwZW5kQ2hpbGQoYikuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGEucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnEucHVzaCgibmFtZSIrTSsiKlsqXiR8IX5dPz0iKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RofHxxLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksYS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4IikscS5wdXNoKCIsLio6Iil9KSksKGMubWF0Y2hlc1NlbGVjdG9yPSQudGVzdChzPW8ubWF0Y2hlc3x8by53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fG8ubW96TWF0Y2hlc1NlbGVjdG9yfHxvLm9NYXRjaGVzU2VsZWN0b3J8fG8ubXNNYXRjaGVzU2VsZWN0b3IpKSYmaWIoZnVuY3Rpb24oYSl7Yy5kaXNjb25uZWN0ZWRNYXRjaD1zLmNhbGwoYSwiZGl2Iikscy5jYWxsKGEsIltzIT0nJ106eCIpLHIucHVzaCgiIT0iLFEpfSkscT1xLmxlbmd0aCYmbmV3IFJlZ0V4cChxLmpvaW4oInwiKSkscj1yLmxlbmd0aCYmbmV3IFJlZ0V4cChyLmpvaW4oInwiKSksYj0kLnRlc3Qoby5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksdD1ifHwkLnRlc3Qoby5jb250YWlucyk/ZnVuY3Rpb24oYSxiKXt2YXIgYz05PT09YS5ub2RlVHlwZT9hLmRvY3VtZW50RWxlbWVudDphLGQ9YiYmYi5wYXJlbnROb2RlO3JldHVybiBhPT09ZHx8ISghZHx8MSE9PWQubm9kZVR5cGV8fCEoYy5jb250YWlucz9jLmNvbnRhaW5zKGQpOmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZCkpKX06ZnVuY3Rpb24oYSxiKXtpZihiKWZvcig7Yj1iLnBhcmVudE5vZGU7KWlmKGI9PT1hKXJldHVybiEwO3JldHVybiExfSxCPWI/ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBkPSFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiBkP2Q6KGQ9KGEub3duZXJEb2N1bWVudHx8YSk9PT0oYi5vd25lckRvY3VtZW50fHxiKT9hLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpOjEsMSZkfHwhYy5zb3J0RGV0YWNoZWQmJmIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSk9PT1kP2E9PT1lfHxhLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYSk/LTE6Yj09PWV8fGIub3duZXJEb2N1bWVudD09PXYmJnQodixiKT8xOms/Sy5jYWxsKGssYSktSy5jYWxsKGssYik6MDo0JmQ/LTE6MSl9OmZ1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGw9ITAsMDt2YXIgYyxkPTAsZj1hLnBhcmVudE5vZGUsZz1iLnBhcmVudE5vZGUsaD1bYV0saT1bYl07aWYoIWZ8fCFnKXJldHVybiBhPT09ZT8tMTpiPT09ZT8xOmY/LTE6Zz8xOms/Sy5jYWxsKGssYSktSy5jYWxsKGssYik6MDtpZihmPT09ZylyZXR1cm4ga2IoYSxiKTtmb3IoYz1hO2M9Yy5wYXJlbnROb2RlOyloLnVuc2hpZnQoYyk7Zm9yKGM9YjtjPWMucGFyZW50Tm9kZTspaS51bnNoaWZ0KGMpO2Zvcig7aFtkXT09PWlbZF07KWQrKztyZXR1cm4gZD9rYihoW2RdLGlbZF0pOmhbZF09PT12Py0xOmlbZF09PT12PzE6MH0sZSk6bn0sZmIubWF0Y2hlcz1mdW5jdGlvbihhLGIpe3JldHVybiBmYihhLG51bGwsbnVsbCxiKX0sZmIubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGEsYil7aWYoKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLGI9Yi5yZXBsYWNlKFUsIj0nJDEnXSIpLCEoIWMubWF0Y2hlc1NlbGVjdG9yfHwhcHx8ciYmci50ZXN0KGIpfHxxJiZxLnRlc3QoYikpKXRyeXt2YXIgZD1zLmNhbGwoYSxiKTtpZihkfHxjLmRpc2Nvbm5lY3RlZE1hdGNofHxhLmRvY3VtZW50JiYxMSE9PWEuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIGR9Y2F0Y2goZSl7fXJldHVybiBmYihiLG4sbnVsbCxbYV0pLmxlbmd0aD4wfSxmYi5jb250YWlucz1mdW5jdGlvbihhLGIpe3JldHVybihhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSx0KGEsYil9LGZiLmF0dHI9ZnVuY3Rpb24oYSxiKXsoYS5vd25lckRvY3VtZW50fHxhKSE9PW4mJm0oYSk7dmFyIGU9ZC5hdHRySGFuZGxlW2IudG9Mb3dlckNhc2UoKV0sZj1lJiZFLmNhbGwoZC5hdHRySGFuZGxlLGIudG9Mb3dlckNhc2UoKSk/ZShhLGIsIXApOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09Zj9mOmMuYXR0cmlidXRlc3x8IXA/YS5nZXRBdHRyaWJ1dGUoYik6KGY9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZi5zcGVjaWZpZWQ/Zi52YWx1ZTpudWxsfSxmYi5lcnJvcj1mdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrYSl9LGZiLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oYSl7dmFyIGIsZD1bXSxlPTAsZj0wO2lmKGw9IWMuZGV0ZWN0RHVwbGljYXRlcyxrPSFjLnNvcnRTdGFibGUmJmEuc2xpY2UoMCksYS5zb3J0KEIpLGwpe2Zvcig7Yj1hW2YrK107KWI9PT1hW2ZdJiYoZT1kLnB1c2goZikpO2Zvcig7ZS0tOylhLnNwbGljZShkW2VdLDEpfXJldHVybiBrPW51bGwsYX0sZT1mYi5nZXRUZXh0PWZ1bmN0aW9uKGEpe3ZhciBiLGM9IiIsZD0wLGY9YS5ub2RlVHlwZTtpZihmKXtpZigxPT09Znx8OT09PWZ8fDExPT09Zil7aWYoInN0cmluZyI9PXR5cGVvZiBhLnRleHRDb250ZW50KXJldHVybiBhLnRleHRDb250ZW50O2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZyljKz1lKGEpfWVsc2UgaWYoMz09PWZ8fDQ9PT1mKXJldHVybiBhLm5vZGVWYWx1ZX1lbHNlIGZvcig7Yj1hW2QrK107KWMrPWUoYik7cmV0dXJuIGN9LGQ9ZmIuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86aGIsbWF0Y2g6WCxhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixmaXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oYSl7cmV0dXJuIGFbMV09YVsxXS5yZXBsYWNlKGNiLGRiKSxhWzNdPShhWzNdfHxhWzRdfHxhWzVdfHwiIikucmVwbGFjZShjYixkYiksIn49Ij09PWFbMl0mJihhWzNdPSIgIithWzNdKyIgIiksYS5zbGljZSgwLDQpfSxDSElMRDpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnRvTG93ZXJDYXNlKCksIm50aCI9PT1hWzFdLnNsaWNlKDAsMyk/KGFbM118fGZiLmVycm9yKGFbMF0pLGFbNF09KyhhWzRdP2FbNV0rKGFbNl18fDEpOjIqKCJldmVuIj09PWFbM118fCJvZGQiPT09YVszXSkpLGFbNV09KyhhWzddK2FbOF18fCJvZGQiPT09YVszXSkpOmFbM10mJmZiLmVycm9yKGFbMF0pLGF9LFBTRVVETzpmdW5jdGlvbihhKXt2YXIgYixjPSFhWzZdJiZhWzJdO3JldHVybiBYLkNISUxELnRlc3QoYVswXSk/bnVsbDooYVszXT9hWzJdPWFbNF18fGFbNV18fCIiOmMmJlYudGVzdChjKSYmKGI9ZyhjLCEwKSkmJihiPWMuaW5kZXhPZigiKSIsYy5sZW5ndGgtYiktYy5sZW5ndGgpJiYoYVswXT1hWzBdLnNsaWNlKDAsYiksYVsyXT1jLnNsaWNlKDAsYikpLGEuc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoY2IsZGIpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIioiPT09YT9mdW5jdGlvbigpe3JldHVybiEwfTpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yn19LENMQVNTOmZ1bmN0aW9uKGEpe3ZhciBiPXlbYSsiICJdO3JldHVybiBifHwoYj1uZXcgUmVnRXhwKCIoXnwiK00rIikiK2ErIigiK00rInwkKSIpKSYmeShhLGZ1bmN0aW9uKGEpe3JldHVybiBiLnRlc3QoInN0cmluZyI9PXR5cGVvZiBhLmNsYXNzTmFtZSYmYS5jbGFzc05hbWV8fHR5cGVvZiBhLmdldEF0dHJpYnV0ZSE9PUMmJmEuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIil9KX0sQVRUUjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBlPWZiLmF0dHIoZCxhKTtyZXR1cm4gbnVsbD09ZT8iIT0iPT09YjpiPyhlKz0iIiwiPSI9PT1iP2U9PT1jOiIhPSI9PT1iP2UhPT1jOiJePSI9PT1iP2MmJjA9PT1lLmluZGV4T2YoYyk6Iio9Ij09PWI/YyYmZS5pbmRleE9mKGMpPi0xOiIkPSI9PT1iP2MmJmUuc2xpY2UoLWMubGVuZ3RoKT09PWM6In49Ij09PWI/KCIgIitlKyIgIikuaW5kZXhPZihjKT4tMToifD0iPT09Yj9lPT09Y3x8ZS5zbGljZSgwLGMubGVuZ3RoKzEpPT09YysiLSI6ITEpOiEwfX0sQ0hJTEQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj0ibnRoIiE9PWEuc2xpY2UoMCwzKSxnPSJsYXN0IiE9PWEuc2xpY2UoLTQpLGg9Im9mLXR5cGUiPT09YjtyZXR1cm4gMT09PWQmJjA9PT1lP2Z1bmN0aW9uKGEpe3JldHVybiEhYS5wYXJlbnROb2RlfTpmdW5jdGlvbihiLGMsaSl7dmFyIGosayxsLG0sbixvLHA9ZiE9PWc/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixxPWIucGFyZW50Tm9kZSxyPWgmJmIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxzPSFpJiYhaDtpZihxKXtpZihmKXtmb3IoO3A7KXtmb3IobD1iO2w9bFtwXTspaWYoaD9sLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1sLm5vZGVUeXBlKXJldHVybiExO289cD0ib25seSI9PT1hJiYhbyYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZihvPVtnP3EuZmlyc3RDaGlsZDpxLmxhc3RDaGlsZF0sZyYmcyl7Zm9yKGs9cVt1XXx8KHFbdV09e30pLGo9a1thXXx8W10sbj1qWzBdPT09dyYmalsxXSxtPWpbMF09PT13JiZqWzJdLGw9biYmcS5jaGlsZE5vZGVzW25dO2w9KytuJiZsJiZsW3BdfHwobT1uPTApfHxvLnBvcCgpOylpZigxPT09bC5ub2RlVHlwZSYmKyttJiZsPT09Yil7a1thXT1bdyxuLG1dO2JyZWFrfX1lbHNlIGlmKHMmJihqPShiW3VdfHwoYlt1XT17fSkpW2FdKSYmalswXT09PXcpbT1qWzFdO2Vsc2UgZm9yKDsobD0rK24mJmwmJmxbcF18fChtPW49MCl8fG8ucG9wKCkpJiYoKGg/bC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09cjoxIT09bC5ub2RlVHlwZSl8fCErK218fChzJiYoKGxbdV18fChsW3VdPXt9KSlbYV09W3csbV0pLGwhPT1iKSk7KTtyZXR1cm4gbS09ZSxtPT09ZHx8bSVkPT09MCYmbS9kPj0wfX19LFBTRVVETzpmdW5jdGlvbihhLGIpe3ZhciBjLGU9ZC5wc2V1ZG9zW2FdfHxkLnNldEZpbHRlcnNbYS50b0xvd2VyQ2FzZSgpXXx8ZmIuZXJyb3IoInVuc3VwcG9ydGVkIHBzZXVkbzogIithKTtyZXR1cm4gZVt1XT9lKGIpOmUubGVuZ3RoPjE/KGM9W2EsYSwiIixiXSxkLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoYS50b0xvd2VyQ2FzZSgpKT9oYihmdW5jdGlvbihhLGMpe2Zvcih2YXIgZCxmPWUoYSxiKSxnPWYubGVuZ3RoO2ctLTspZD1LLmNhbGwoYSxmW2ddKSxhW2RdPSEoY1tkXT1mW2ddKX0pOmZ1bmN0aW9uKGEpe3JldHVybiBlKGEsMCxjKX0pOmV9fSxwc2V1ZG9zOntub3Q6aGIoZnVuY3Rpb24oYSl7dmFyIGI9W10sYz1bXSxkPWgoYS5yZXBsYWNlKFIsIiQxIikpO3JldHVybiBkW3VdP2hiKGZ1bmN0aW9uKGEsYixjLGUpe2Zvcih2YXIgZixnPWQoYSxudWxsLGUsW10pLGg9YS5sZW5ndGg7aC0tOykoZj1nW2hdKSYmKGFbaF09IShiW2hdPWYpKX0pOmZ1bmN0aW9uKGEsZSxmKXtyZXR1cm4gYlswXT1hLGQoYixudWxsLGYsYyksIWMucG9wKCl9fSksaGFzOmhiKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gZmIoYSxiKS5sZW5ndGg+MH19KSxjb250YWluczpoYihmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuKGIudGV4dENvbnRlbnR8fGIuaW5uZXJUZXh0fHxlKGIpKS5pbmRleE9mKGEpPi0xfX0pLGxhbmc6aGIoZnVuY3Rpb24oYSl7cmV0dXJuIFcudGVzdChhfHwiIil8fGZiLmVycm9yKCJ1bnN1cHBvcnRlZCBsYW5nOiAiK2EpLGE9YS5yZXBsYWNlKGNiLGRiKS50b0xvd2VyQ2FzZSgpLGZ1bmN0aW9uKGIpe3ZhciBjO2RvIGlmKGM9cD9iLmxhbmc6Yi5nZXRBdHRyaWJ1dGUoInhtbDpsYW5nIil8fGIuZ2V0QXR0cmlidXRlKCJsYW5nIikpcmV0dXJuIGM9Yy50b0xvd2VyQ2FzZSgpLGM9PT1hfHwwPT09Yy5pbmRleE9mKGErIi0iKTt3aGlsZSgoYj1iLnBhcmVudE5vZGUpJiYxPT09Yi5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGIpe3ZhciBjPWEubG9jYXRpb24mJmEubG9jYXRpb24uaGFzaDtyZXR1cm4gYyYmYy5zbGljZSgxKT09PWIuaWR9LHJvb3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1vfSxmb2N1czpmdW5jdGlvbihhKXtyZXR1cm4gYT09PW4uYWN0aXZlRWxlbWVudCYmKCFuLmhhc0ZvY3VzfHxuLmhhc0ZvY3VzKCkpJiYhIShhLnR5cGV8fGEuaHJlZnx8fmEudGFiSW5kZXgpfSxlbmFibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITF9LGRpc2FibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITB9LGNoZWNrZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT1iJiYhIWEuY2hlY2tlZHx8Im9wdGlvbiI9PT1iJiYhIWEuc2VsZWN0ZWR9LHNlbGVjdGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LGEuc2VsZWN0ZWQ9PT0hMH0sZW1wdHk6ZnVuY3Rpb24oYSl7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWlmKGEubm9kZVR5cGU8NilyZXR1cm4hMTtyZXR1cm4hMH0scGFyZW50OmZ1bmN0aW9uKGEpe3JldHVybiFkLnBzZXVkb3MuZW1wdHkoYSl9LGhlYWRlcjpmdW5jdGlvbihhKXtyZXR1cm4gWi50ZXN0KGEubm9kZU5hbWUpfSxpbnB1dDpmdW5jdGlvbihhKXtyZXR1cm4gWS50ZXN0KGEubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT1iJiYiYnV0dG9uIj09PWEudHlwZXx8ImJ1dHRvbiI9PT1ifSx0ZXh0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiJpbnB1dCI9PT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJiJ0ZXh0Ij09PWEudHlwZSYmKG51bGw9PShiPWEuZ2V0QXR0cmlidXRlKCJ0eXBlIikpfHwidGV4dCI9PT1iLnRvTG93ZXJDYXNlKCkpfSxmaXJzdDpuYihmdW5jdGlvbigpe3JldHVyblswXX0pLGxhc3Q6bmIoZnVuY3Rpb24oYSxiKXtyZXR1cm5bYi0xXX0pLGVxOm5iKGZ1bmN0aW9uKGEsYixjKXtyZXR1cm5bMD5jP2MrYjpjXX0pLGV2ZW46bmIoZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtiPmM7Yys9MilhLnB1c2goYyk7cmV0dXJuIGF9KSxvZGQ6bmIoZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MTtiPmM7Yys9MilhLnB1c2goYyk7cmV0dXJuIGF9KSxsdDpuYihmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA+Yz9jK2I6YzstLWQ+PTA7KWEucHVzaChkKTtyZXR1cm4gYX0pLGd0Om5iKGZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MD5jP2MrYjpjOysrZDxiOylhLnB1c2goZCk7cmV0dXJuIGF9KX19LGQucHNldWRvcy5udGg9ZC5wc2V1ZG9zLmVxO2ZvcihiIGlue3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KWQucHNldWRvc1tiXT1sYihiKTtmb3IoYiBpbntzdWJtaXQ6ITAscmVzZXQ6ITB9KWQucHNldWRvc1tiXT1tYihiKTtyZXR1cm4gcGIucHJvdG90eXBlPWQuZmlsdGVycz1kLnBzZXVkb3MsZC5zZXRGaWx0ZXJzPW5ldyBwYixnPWZiLnRva2VuaXplPWZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGcsaCxpLGosaz16W2ErIiAiXTtpZihrKXJldHVybiBiPzA6ay5zbGljZSgwKTtmb3IoaD1hLGk9W10saj1kLnByZUZpbHRlcjtoOyl7KCFjfHwoZT1TLmV4ZWMoaCkpKSYmKGUmJihoPWguc2xpY2UoZVswXS5sZW5ndGgpfHxoKSxpLnB1c2goZj1bXSkpLGM9ITEsKGU9VC5leGVjKGgpKSYmKGM9ZS5zaGlmdCgpLGYucHVzaCh7dmFsdWU6Yyx0eXBlOmVbMF0ucmVwbGFjZShSLCIgIil9KSxoPWguc2xpY2UoYy5sZW5ndGgpKTtmb3IoZyBpbiBkLmZpbHRlcikhKGU9WFtnXS5leGVjKGgpKXx8altnXSYmIShlPWpbZ10oZSkpfHwoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZyxtYXRjaGVzOmV9KSxoPWguc2xpY2UoYy5sZW5ndGgpKTtpZighYylicmVha31yZXR1cm4gYj9oLmxlbmd0aDpoP2ZiLmVycm9yKGEpOnooYSxpKS5zbGljZSgwKX0saD1mYi5jb21waWxlPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPVtdLGY9QVthKyIgIl07aWYoIWYpe2ZvcihifHwoYj1nKGEpKSxjPWIubGVuZ3RoO2MtLTspZj13YihiW2NdKSxmW3VdP2QucHVzaChmKTplLnB1c2goZik7Zj1BKGEseGIoZSxkKSksZi5zZWxlY3Rvcj1hfXJldHVybiBmfSxpPWZiLnNlbGVjdD1mdW5jdGlvbihhLGIsZSxmKXt2YXIgaSxqLGssbCxtLG49ImZ1bmN0aW9uIj09dHlwZW9mIGEmJmEsbz0hZiYmZyhhPW4uc2VsZWN0b3J8fGEpO2lmKGU9ZXx8W10sMT09PW8ubGVuZ3RoKXtpZihqPW9bMF09b1swXS5zbGljZSgwKSxqLmxlbmd0aD4yJiYiSUQiPT09KGs9alswXSkudHlwZSYmYy5nZXRCeUlkJiY5PT09Yi5ub2RlVHlwZSYmcCYmZC5yZWxhdGl2ZVtqWzFdLnR5cGVdKXtpZihiPShkLmZpbmQuSUQoay5tYXRjaGVzWzBdLnJlcGxhY2UoY2IsZGIpLGIpfHxbXSlbMF0sIWIpcmV0dXJuIGU7biYmKGI9Yi5wYXJlbnROb2RlKSxhPWEuc2xpY2Uoai5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9Zm9yKGk9WC5uZWVkc0NvbnRleHQudGVzdChhKT8wOmoubGVuZ3RoO2ktLSYmKGs9altpXSwhZC5yZWxhdGl2ZVtsPWsudHlwZV0pOylpZigobT1kLmZpbmRbbF0pJiYoZj1tKGsubWF0Y2hlc1swXS5yZXBsYWNlKGNiLGRiKSxhYi50ZXN0KGpbMF0udHlwZSkmJm9iKGIucGFyZW50Tm9kZSl8fGIpKSl7aWYoai5zcGxpY2UoaSwxKSxhPWYubGVuZ3RoJiZxYihqKSwhYSlyZXR1cm4gSS5hcHBseShlLGYpLGU7YnJlYWt9fXJldHVybihufHxoKGEsbykpKGYsYiwhcCxlLGFiLnRlc3QoYSkmJm9iKGIucGFyZW50Tm9kZSl8fGIpLGV9LGMuc29ydFN0YWJsZT11LnNwbGl0KCIiKS5zb3J0KEIpLmpvaW4oIiIpPT09dSxjLmRldGVjdER1cGxpY2F0ZXM9ISFsLG0oKSxjLnNvcnREZXRhY2hlZD1pYihmdW5jdGlvbihhKXtyZXR1cm4gMSZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG4uY3JlYXRlRWxlbWVudCgiZGl2IikpfSksaWIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPSI8YSBocmVmPScjJz48L2E+IiwiIyI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJocmVmIil9KXx8amIoInR5cGV8aHJlZnxoZWlnaHR8d2lkdGgiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYz92b2lkIDA6YS5nZXRBdHRyaWJ1dGUoYiwidHlwZSI9PT1iLnRvTG93ZXJDYXNlKCk/MToyKX0pLGMuYXR0cmlidXRlcyYmaWIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPSI8aW5wdXQvPiIsYS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKSwiIj09PWEuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoInZhbHVlIil9KXx8amIoInZhbHVlIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGN8fCJpbnB1dCIhPT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk/dm9pZCAwOmEuZGVmYXVsdFZhbHVlfSksaWIoZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWEuZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpfSl8fGpiKEwsZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBjP3ZvaWQgMDphW2JdPT09ITA/Yi50b0xvd2VyQ2FzZSgpOihkPWEuZ2V0QXR0cmlidXRlTm9kZShiKSkmJmQuc3BlY2lmaWVkP2QudmFsdWU6bnVsbH0pLGZifShhKTtuLmZpbmQ9dCxuLmV4cHI9dC5zZWxlY3RvcnMsbi5leHByWyI6Il09bi5leHByLnBzZXVkb3Msbi51bmlxdWU9dC51bmlxdWVTb3J0LG4udGV4dD10LmdldFRleHQsbi5pc1hNTERvYz10LmlzWE1MLG4uY29udGFpbnM9dC5jb250YWluczt2YXIgdT1uLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LHY9L148KFx3KylccypcLz8+KD86PFwvXDE+fCkkLyx3PS9eLlteOiNcW1wuLF0qJC87bi5maWx0ZXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWJbMF07cmV0dXJuIGMmJihhPSI6bm90KCIrYSsiKSIpLDE9PT1iLmxlbmd0aCYmMT09PWQubm9kZVR5cGU/bi5maW5kLm1hdGNoZXNTZWxlY3RvcihkLGEpP1tkXTpbXTpuLmZpbmQubWF0Y2hlcyhhLG4uZ3JlcChiLGZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5ub2RlVHlwZX0pKX0sbi5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzLmxlbmd0aCxkPVtdLGU9dGhpcztpZigic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIHRoaXMucHVzaFN0YWNrKG4oYSkuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKGI9MDtjPmI7YisrKWlmKG4uY29udGFpbnMoZVtiXSx0aGlzKSlyZXR1cm4hMAp9KSk7Zm9yKGI9MDtjPmI7YisrKW4uZmluZChhLGVbYl0sZCk7cmV0dXJuIGQ9dGhpcy5wdXNoU3RhY2soYz4xP24udW5pcXVlKGQpOmQpLGQuc2VsZWN0b3I9dGhpcy5zZWxlY3Rvcj90aGlzLnNlbGVjdG9yKyIgIithOmEsZH0sZmlsdGVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayh4KHRoaXMsYXx8W10sITEpKX0sbm90OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayh4KHRoaXMsYXx8W10sITApKX0saXM6ZnVuY3Rpb24oYSl7cmV0dXJuISF4KHRoaXMsInN0cmluZyI9PXR5cGVvZiBhJiZ1LnRlc3QoYSk/bihhKTphfHxbXSwhMSkubGVuZ3RofX0pO3ZhciB5LHo9L14oPzpccyooPFtcd1xXXSs+KVtePl0qfCMoW1x3LV0qKSkkLyxBPW4uZm4uaW5pdD1mdW5jdGlvbihhLGIpe3ZhciBjLGQ7aWYoIWEpcmV0dXJuIHRoaXM7aWYoInN0cmluZyI9PXR5cGVvZiBhKXtpZihjPSI8Ij09PWFbMF0mJiI+Ij09PWFbYS5sZW5ndGgtMV0mJmEubGVuZ3RoPj0zP1tudWxsLGEsbnVsbF06ei5leGVjKGEpLCFjfHwhY1sxXSYmYilyZXR1cm4hYnx8Yi5qcXVlcnk/KGJ8fHkpLmZpbmQoYSk6dGhpcy5jb25zdHJ1Y3RvcihiKS5maW5kKGEpO2lmKGNbMV0pe2lmKGI9YiBpbnN0YW5jZW9mIG4/YlswXTpiLG4ubWVyZ2UodGhpcyxuLnBhcnNlSFRNTChjWzFdLGImJmIubm9kZVR5cGU/Yi5vd25lckRvY3VtZW50fHxiOmwsITApKSx2LnRlc3QoY1sxXSkmJm4uaXNQbGFpbk9iamVjdChiKSlmb3IoYyBpbiBiKW4uaXNGdW5jdGlvbih0aGlzW2NdKT90aGlzW2NdKGJbY10pOnRoaXMuYXR0cihjLGJbY10pO3JldHVybiB0aGlzfXJldHVybiBkPWwuZ2V0RWxlbWVudEJ5SWQoY1syXSksZCYmZC5wYXJlbnROb2RlJiYodGhpcy5sZW5ndGg9MSx0aGlzWzBdPWQpLHRoaXMuY29udGV4dD1sLHRoaXMuc2VsZWN0b3I9YSx0aGlzfXJldHVybiBhLm5vZGVUeXBlPyh0aGlzLmNvbnRleHQ9dGhpc1swXT1hLHRoaXMubGVuZ3RoPTEsdGhpcyk6bi5pc0Z1bmN0aW9uKGEpPyJ1bmRlZmluZWQiIT10eXBlb2YgeS5yZWFkeT95LnJlYWR5KGEpOmEobik6KHZvaWQgMCE9PWEuc2VsZWN0b3ImJih0aGlzLnNlbGVjdG9yPWEuc2VsZWN0b3IsdGhpcy5jb250ZXh0PWEuY29udGV4dCksbi5tYWtlQXJyYXkoYSx0aGlzKSl9O0EucHJvdG90eXBlPW4uZm4seT1uKGwpO3ZhciBCPS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLEM9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07bi5leHRlbmQoe2RpcjpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPVtdLGU9dm9pZCAwIT09YzsoYT1hW2JdKSYmOSE9PWEubm9kZVR5cGU7KWlmKDE9PT1hLm5vZGVUeXBlKXtpZihlJiZuKGEpLmlzKGMpKWJyZWFrO2QucHVzaChhKX1yZXR1cm4gZH0sc2libGluZzpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXTthO2E9YS5uZXh0U2libGluZykxPT09YS5ub2RlVHlwZSYmYSE9PWImJmMucHVzaChhKTtyZXR1cm4gY319KSxuLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGEpe3ZhciBiPW4oYSx0aGlzKSxjPWIubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2M+YTthKyspaWYobi5jb250YWlucyh0aGlzLGJbYV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wLGU9dGhpcy5sZW5ndGgsZj1bXSxnPXUudGVzdChhKXx8InN0cmluZyIhPXR5cGVvZiBhP24oYSxifHx0aGlzLmNvbnRleHQpOjA7ZT5kO2QrKylmb3IoYz10aGlzW2RdO2MmJmMhPT1iO2M9Yy5wYXJlbnROb2RlKWlmKGMubm9kZVR5cGU8MTEmJihnP2cuaW5kZXgoYyk+LTE6MT09PWMubm9kZVR5cGUmJm4uZmluZC5tYXRjaGVzU2VsZWN0b3IoYyxhKSkpe2YucHVzaChjKTticmVha31yZXR1cm4gdGhpcy5wdXNoU3RhY2soZi5sZW5ndGg+MT9uLnVuaXF1ZShmKTpmKX0saW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/InN0cmluZyI9PXR5cGVvZiBhP2cuY2FsbChuKGEpLHRoaXNbMF0pOmcuY2FsbCh0aGlzLGEuanF1ZXJ5P2FbMF06YSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobi51bmlxdWUobi5tZXJnZSh0aGlzLmdldCgpLG4oYSxiKSkpKX0sYWRkQmFjazpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09YT90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihhKSl9fSksbi5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiYxMSE9PWIubm9kZVR5cGU/YjpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBuLmRpcihhLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG4uZGlyKGEsInBhcmVudE5vZGUiLGMpfSxuZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBEKGEsIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24oYSl7cmV0dXJuIEQoYSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZGlyKGEsIm5leHRTaWJsaW5nIil9LHByZXZBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZGlyKGEsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuLmRpcihhLCJuZXh0U2libGluZyIsYyl9LHByZXZVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG4uZGlyKGEsInByZXZpb3VzU2libGluZyIsYyl9LHNpYmxpbmdzOmZ1bmN0aW9uKGEpe3JldHVybiBuLnNpYmxpbmcoKGEucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsYSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGEpe3JldHVybiBuLnNpYmxpbmcoYS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGVudERvY3VtZW50fHxuLm1lcmdlKFtdLGEuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihhLGIpe24uZm5bYV09ZnVuY3Rpb24oYyxkKXt2YXIgZT1uLm1hcCh0aGlzLGIsYyk7cmV0dXJuIlVudGlsIiE9PWEuc2xpY2UoLTUpJiYoZD1jKSxkJiYic3RyaW5nIj09dHlwZW9mIGQmJihlPW4uZmlsdGVyKGQsZSkpLHRoaXMubGVuZ3RoPjEmJihDW2FdfHxuLnVuaXF1ZShlKSxCLnRlc3QoYSkmJmUucmV2ZXJzZSgpKSx0aGlzLnB1c2hTdGFjayhlKX19KTt2YXIgRT0vXFMrL2csRj17fTtuLkNhbGxiYWNrcz1mdW5jdGlvbihhKXthPSJzdHJpbmciPT10eXBlb2YgYT9GW2FdfHxHKGEpOm4uZXh0ZW5kKHt9LGEpO3ZhciBiLGMsZCxlLGYsZyxoPVtdLGk9IWEub25jZSYmW10saj1mdW5jdGlvbihsKXtmb3IoYj1hLm1lbW9yeSYmbCxjPSEwLGc9ZXx8MCxlPTAsZj1oLmxlbmd0aCxkPSEwO2gmJmY+ZztnKyspaWYoaFtnXS5hcHBseShsWzBdLGxbMV0pPT09ITEmJmEuc3RvcE9uRmFsc2Upe2I9ITE7YnJlYWt9ZD0hMSxoJiYoaT9pLmxlbmd0aCYmaihpLnNoaWZ0KCkpOmI/aD1bXTprLmRpc2FibGUoKSl9LGs9e2FkZDpmdW5jdGlvbigpe2lmKGgpe3ZhciBjPWgubGVuZ3RoOyFmdW5jdGlvbiBnKGIpe24uZWFjaChiLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9bi50eXBlKGMpOyJmdW5jdGlvbiI9PT1kP2EudW5pcXVlJiZrLmhhcyhjKXx8aC5wdXNoKGMpOmMmJmMubGVuZ3RoJiYic3RyaW5nIiE9PWQmJmcoYyl9KX0oYXJndW1lbnRzKSxkP2Y9aC5sZW5ndGg6YiYmKGU9YyxqKGIpKX1yZXR1cm4gdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIGgmJm4uZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM7KGM9bi5pbkFycmF5KGIsaCxjKSk+LTE7KWguc3BsaWNlKGMsMSksZCYmKGY+PWMmJmYtLSxnPj1jJiZnLS0pfSksdGhpc30saGFzOmZ1bmN0aW9uKGEpe3JldHVybiBhP24uaW5BcnJheShhLGgpPi0xOiEoIWh8fCFoLmxlbmd0aCl9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIGg9W10sZj0wLHRoaXN9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gaD1pPWI9dm9pZCAwLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIWh9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gaT12b2lkIDAsYnx8ay5kaXNhYmxlKCksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuIWl9LGZpcmVXaXRoOmZ1bmN0aW9uKGEsYil7cmV0dXJuIWh8fGMmJiFpfHwoYj1ifHxbXSxiPVthLGIuc2xpY2U/Yi5zbGljZSgpOmJdLGQ/aS5wdXNoKGIpOmooYikpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gay5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWN9fTtyZXR1cm4ga30sbi5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGEpe3ZhciBiPVtbInJlc29sdmUiLCJkb25lIixuLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwicmVzb2x2ZWQiXSxbInJlamVjdCIsImZhaWwiLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZWplY3RlZCJdLFsibm90aWZ5IiwicHJvZ3Jlc3MiLG4uQ2FsbGJhY2tzKCJtZW1vcnkiKV1dLGM9InBlbmRpbmciLGQ9e3N0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGN9LGFsd2F5czpmdW5jdGlvbigpe3JldHVybiBlLmRvbmUoYXJndW1lbnRzKS5mYWlsKGFyZ3VtZW50cyksdGhpc30sdGhlbjpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50cztyZXR1cm4gbi5EZWZlcnJlZChmdW5jdGlvbihjKXtuLmVhY2goYixmdW5jdGlvbihiLGYpe3ZhciBnPW4uaXNGdW5jdGlvbihhW2JdKSYmYVtiXTtlW2ZbMV1dKGZ1bmN0aW9uKCl7dmFyIGE9ZyYmZy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YSYmbi5pc0Z1bmN0aW9uKGEucHJvbWlzZSk/YS5wcm9taXNlKCkuZG9uZShjLnJlc29sdmUpLmZhaWwoYy5yZWplY3QpLnByb2dyZXNzKGMubm90aWZ5KTpjW2ZbMF0rIldpdGgiXSh0aGlzPT09ZD9jLnByb21pc2UoKTp0aGlzLGc/W2FdOmFyZ3VtZW50cyl9KX0pLGE9bnVsbH0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9uLmV4dGVuZChhLGQpOmR9fSxlPXt9O3JldHVybiBkLnBpcGU9ZC50aGVuLG4uZWFjaChiLGZ1bmN0aW9uKGEsZil7dmFyIGc9ZlsyXSxoPWZbM107ZFtmWzFdXT1nLmFkZCxoJiZnLmFkZChmdW5jdGlvbigpe2M9aH0sYlsxXmFdWzJdLmRpc2FibGUsYlsyXVsyXS5sb2NrKSxlW2ZbMF1dPWZ1bmN0aW9uKCl7cmV0dXJuIGVbZlswXSsiV2l0aCJdKHRoaXM9PT1lP2Q6dGhpcyxhcmd1bWVudHMpLHRoaXN9LGVbZlswXSsiV2l0aCJdPWcuZmlyZVdpdGh9KSxkLnByb21pc2UoZSksYSYmYS5jYWxsKGUsZSksZX0sd2hlbjpmdW5jdGlvbihhKXt2YXIgaSxqLGssYj0wLGM9ZC5jYWxsKGFyZ3VtZW50cyksZT1jLmxlbmd0aCxmPTEhPT1lfHxhJiZuLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9lOjAsZz0xPT09Zj9hOm4uRGVmZXJyZWQoKSxoPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZSl7YlthXT10aGlzLGNbYV09YXJndW1lbnRzLmxlbmd0aD4xP2QuY2FsbChhcmd1bWVudHMpOmUsYz09PWk/Zy5ub3RpZnlXaXRoKGIsYyk6LS1mfHxnLnJlc29sdmVXaXRoKGIsYyl9fTtpZihlPjEpZm9yKGk9bmV3IEFycmF5KGUpLGo9bmV3IEFycmF5KGUpLGs9bmV3IEFycmF5KGUpO2U+YjtiKyspY1tiXSYmbi5pc0Z1bmN0aW9uKGNbYl0ucHJvbWlzZSk/Y1tiXS5wcm9taXNlKCkuZG9uZShoKGIsayxjKSkuZmFpbChnLnJlamVjdCkucHJvZ3Jlc3MoaChiLGosaSkpOi0tZjtyZXR1cm4gZnx8Zy5yZXNvbHZlV2l0aChrLGMpLGcucHJvbWlzZSgpfX0pO3ZhciBIO24uZm4ucmVhZHk9ZnVuY3Rpb24oYSl7cmV0dXJuIG4ucmVhZHkucHJvbWlzZSgpLmRvbmUoYSksdGhpc30sbi5leHRlbmQoe2lzUmVhZHk6ITEscmVhZHlXYWl0OjEsaG9sZFJlYWR5OmZ1bmN0aW9uKGEpe2E/bi5yZWFkeVdhaXQrKzpuLnJlYWR5KCEwKX0scmVhZHk6ZnVuY3Rpb24oYSl7KGE9PT0hMD8tLW4ucmVhZHlXYWl0Om4uaXNSZWFkeSl8fChuLmlzUmVhZHk9ITAsYSE9PSEwJiYtLW4ucmVhZHlXYWl0PjB8fChILnJlc29sdmVXaXRoKGwsW25dKSxuLmZuLnRyaWdnZXJIYW5kbGVyJiYobihsKS50cmlnZ2VySGFuZGxlcigicmVhZHkiKSxuKGwpLm9mZigicmVhZHkiKSkpKX19KSxuLnJlYWR5LnByb21pc2U9ZnVuY3Rpb24oYil7cmV0dXJuIEh8fChIPW4uRGVmZXJyZWQoKSwiY29tcGxldGUiPT09bC5yZWFkeVN0YXRlP3NldFRpbWVvdXQobi5yZWFkeSk6KGwuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsSSwhMSksYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixJLCExKSkpLEgucHJvbWlzZShiKX0sbi5yZWFkeS5wcm9taXNlKCk7dmFyIEo9bi5hY2Nlc3M9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGg9MCxpPWEubGVuZ3RoLGo9bnVsbD09YztpZigib2JqZWN0Ij09PW4udHlwZShjKSl7ZT0hMDtmb3IoaCBpbiBjKW4uYWNjZXNzKGEsYixoLGNbaF0sITAsZixnKX1lbHNlIGlmKHZvaWQgMCE9PWQmJihlPSEwLG4uaXNGdW5jdGlvbihkKXx8KGc9ITApLGomJihnPyhiLmNhbGwoYSxkKSxiPW51bGwpOihqPWIsYj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGouY2FsbChuKGEpLGMpfSkpLGIpKWZvcig7aT5oO2grKyliKGFbaF0sYyxnP2Q6ZC5jYWxsKGFbaF0saCxiKGFbaF0sYykpKTtyZXR1cm4gZT9hOmo/Yi5jYWxsKGEpOmk/YihhWzBdLGMpOmZ9O24uYWNjZXB0RGF0YT1mdW5jdGlvbihhKXtyZXR1cm4gMT09PWEubm9kZVR5cGV8fDk9PT1hLm5vZGVUeXBlfHwhK2Eubm9kZVR5cGV9LEsudWlkPTEsSy5hY2NlcHRzPW4uYWNjZXB0RGF0YSxLLnByb3RvdHlwZT17a2V5OmZ1bmN0aW9uKGEpe2lmKCFLLmFjY2VwdHMoYSkpcmV0dXJuIDA7dmFyIGI9e30sYz1hW3RoaXMuZXhwYW5kb107aWYoIWMpe2M9Sy51aWQrKzt0cnl7Ylt0aGlzLmV4cGFuZG9dPXt2YWx1ZTpjfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhhLGIpfWNhdGNoKGQpe2JbdGhpcy5leHBhbmRvXT1jLG4uZXh0ZW5kKGEsYil9fXJldHVybiB0aGlzLmNhY2hlW2NdfHwodGhpcy5jYWNoZVtjXT17fSksY30sc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPXRoaXMua2V5KGEpLGY9dGhpcy5jYWNoZVtlXTtpZigic3RyaW5nIj09dHlwZW9mIGIpZltiXT1jO2Vsc2UgaWYobi5pc0VtcHR5T2JqZWN0KGYpKW4uZXh0ZW5kKHRoaXMuY2FjaGVbZV0sYik7ZWxzZSBmb3IoZCBpbiBiKWZbZF09YltkXTtyZXR1cm4gZn0sZ2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jYWNoZVt0aGlzLmtleShhKV07cmV0dXJuIHZvaWQgMD09PWI/YzpjW2JdfSxhY2Nlc3M6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiB2b2lkIDA9PT1ifHxiJiYic3RyaW5nIj09dHlwZW9mIGImJnZvaWQgMD09PWM/KGQ9dGhpcy5nZXQoYSxiKSx2b2lkIDAhPT1kP2Q6dGhpcy5nZXQoYSxuLmNhbWVsQ2FzZShiKSkpOih0aGlzLnNldChhLGIsYyksdm9pZCAwIT09Yz9jOmIpfSxyZW1vdmU6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZj10aGlzLmtleShhKSxnPXRoaXMuY2FjaGVbZl07aWYodm9pZCAwPT09Yil0aGlzLmNhY2hlW2ZdPXt9O2Vsc2V7bi5pc0FycmF5KGIpP2Q9Yi5jb25jYXQoYi5tYXAobi5jYW1lbENhc2UpKTooZT1uLmNhbWVsQ2FzZShiKSxiIGluIGc/ZD1bYixlXTooZD1lLGQ9ZCBpbiBnP1tkXTpkLm1hdGNoKEUpfHxbXSkpLGM9ZC5sZW5ndGg7Zm9yKDtjLS07KWRlbGV0ZSBnW2RbY11dfX0saGFzRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4hbi5pc0VtcHR5T2JqZWN0KHRoaXMuY2FjaGVbYVt0aGlzLmV4cGFuZG9dXXx8e30pfSxkaXNjYXJkOmZ1bmN0aW9uKGEpe2FbdGhpcy5leHBhbmRvXSYmZGVsZXRlIHRoaXMuY2FjaGVbYVt0aGlzLmV4cGFuZG9dXX19O3ZhciBMPW5ldyBLLE09bmV3IEssTj0vXig/Olx7W1x3XFddKlx9fFxbW1x3XFddKlxdKSQvLE89LyhbQS1aXSkvZztuLmV4dGVuZCh7aGFzRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gTS5oYXNEYXRhKGEpfHxMLmhhc0RhdGEoYSl9LGRhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBNLmFjY2VzcyhhLGIsYyl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtNLnJlbW92ZShhLGIpfSxfZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIEwuYWNjZXNzKGEsYixjKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtMLnJlbW92ZShhLGIpfX0pLG4uZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpc1swXSxnPWYmJmYuYXR0cmlidXRlcztpZih2b2lkIDA9PT1hKXtpZih0aGlzLmxlbmd0aCYmKGU9TS5nZXQoZiksMT09PWYubm9kZVR5cGUmJiFMLmdldChmLCJoYXNEYXRhQXR0cnMiKSkpe2ZvcihjPWcubGVuZ3RoO2MtLTspZ1tjXSYmKGQ9Z1tjXS5uYW1lLDA9PT1kLmluZGV4T2YoImRhdGEtIikmJihkPW4uY2FtZWxDYXNlKGQuc2xpY2UoNSkpLFAoZixkLGVbZF0pKSk7TC5zZXQoZiwiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIGV9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBhP3RoaXMuZWFjaChmdW5jdGlvbigpe00uc2V0KHRoaXMsYSl9KTpKKHRoaXMsZnVuY3Rpb24oYil7dmFyIGMsZD1uLmNhbWVsQ2FzZShhKTtpZihmJiZ2b2lkIDA9PT1iKXtpZihjPU0uZ2V0KGYsYSksdm9pZCAwIT09YylyZXR1cm4gYztpZihjPU0uZ2V0KGYsZCksdm9pZCAwIT09YylyZXR1cm4gYztpZihjPVAoZixkLHZvaWQgMCksdm9pZCAwIT09YylyZXR1cm4gY31lbHNlIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPU0uZ2V0KHRoaXMsZCk7TS5zZXQodGhpcyxkLGIpLC0xIT09YS5pbmRleE9mKCItIikmJnZvaWQgMCE9PWMmJk0uc2V0KHRoaXMsYSxiKX0pfSxudWxsLGIsYXJndW1lbnRzLmxlbmd0aD4xLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtNLnJlbW92ZSh0aGlzLGEpfSl9fSksbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYT8oYj0oYnx8ImZ4IikrInF1ZXVlIixkPUwuZ2V0KGEsYiksYyYmKCFkfHxuLmlzQXJyYXkoYyk/ZD1MLmFjY2VzcyhhLGIsbi5tYWtlQXJyYXkoYykpOmQucHVzaChjKSksZHx8W10pOnZvaWQgMH0sZGVxdWV1ZTpmdW5jdGlvbihhLGIpe2I9Ynx8ImZ4Ijt2YXIgYz1uLnF1ZXVlKGEsYiksZD1jLmxlbmd0aCxlPWMuc2hpZnQoKSxmPW4uX3F1ZXVlSG9va3MoYSxiKSxnPWZ1bmN0aW9uKCl7bi5kZXF1ZXVlKGEsYil9OyJpbnByb2dyZXNzIj09PWUmJihlPWMuc2hpZnQoKSxkLS0pLGUmJigiZngiPT09YiYmYy51bnNoaWZ0KCJpbnByb2dyZXNzIiksZGVsZXRlIGYuc3RvcCxlLmNhbGwoYSxnLGYpKSwhZCYmZiYmZi5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YisicXVldWVIb29rcyI7cmV0dXJuIEwuZ2V0KGEsYyl8fEwuYWNjZXNzKGEsYyx7ZW1wdHk6bi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7TC5yZW1vdmUoYSxbYisicXVldWUiLGNdKX0pfSl9fSksbi5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYil7dmFyIGM9MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGEmJihiPWEsYT0iZngiLGMtLSksYXJndW1lbnRzLmxlbmd0aDxjP24ucXVldWUodGhpc1swXSxhKTp2b2lkIDA9PT1iP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9bi5xdWV1ZSh0aGlzLGEsYik7bi5fcXVldWVIb29rcyh0aGlzLGEpLCJmeCI9PT1hJiYiaW5wcm9ncmVzcyIhPT1jWzBdJiZuLmRlcXVldWUodGhpcyxhKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLmRlcXVldWUodGhpcyxhKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnF1ZXVlKGF8fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD0xLGU9bi5EZWZlcnJlZCgpLGY9dGhpcyxnPXRoaXMubGVuZ3RoLGg9ZnVuY3Rpb24oKXstLWR8fGUucmVzb2x2ZVdpdGgoZixbZl0pfTtmb3IoInN0cmluZyIhPXR5cGVvZiBhJiYoYj1hLGE9dm9pZCAwKSxhPWF8fCJmeCI7Zy0tOyljPUwuZ2V0KGZbZ10sYSsicXVldWVIb29rcyIpLGMmJmMuZW1wdHkmJihkKyssYy5lbXB0eS5hZGQoaCkpO3JldHVybiBoKCksZS5wcm9taXNlKGIpfX0pO3ZhciBRPS9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLFI9WyJUb3AiLCJSaWdodCIsIkJvdHRvbSIsIkxlZnQiXSxTPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9Ynx8YSwibm9uZSI9PT1uLmNzcyhhLCJkaXNwbGF5Iil8fCFuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKX0sVD0vXig/OmNoZWNrYm94fHJhZGlvKSQvaTshZnVuY3Rpb24oKXt2YXIgYT1sLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxiPWEuYXBwZW5kQ2hpbGQobC5jcmVhdGVFbGVtZW50KCJkaXYiKSksYz1sLmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7Yy5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpLGMuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpLGMuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLGIuYXBwZW5kQ2hpbGQoYyksay5jaGVja0Nsb25lPWIuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGIuaW5uZXJIVE1MPSI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+IixrLm5vQ2xvbmVDaGVja2VkPSEhYi5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWV9KCk7dmFyIFU9InVuZGVmaW5lZCI7ay5mb2N1c2luQnViYmxlcz0ib25mb2N1c2luImluIGE7dmFyIFY9L15rZXkvLFc9L14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51KXxjbGljay8sWD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sWT0vXihbXi5dKikoPzpcLiguKyl8KSQvO24uZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG8scCxxLHI9TC5nZXQoYSk7aWYocilmb3IoYy5oYW5kbGVyJiYoZj1jLGM9Zi5oYW5kbGVyLGU9Zi5zZWxlY3RvciksYy5ndWlkfHwoYy5ndWlkPW4uZ3VpZCsrKSwoaT1yLmV2ZW50cyl8fChpPXIuZXZlbnRzPXt9KSwoZz1yLmhhbmRsZSl8fChnPXIuaGFuZGxlPWZ1bmN0aW9uKGIpe3JldHVybiB0eXBlb2YgbiE9PVUmJm4uZXZlbnQudHJpZ2dlcmVkIT09Yi50eXBlP24uZXZlbnQuZGlzcGF0Y2guYXBwbHkoYSxhcmd1bWVudHMpOnZvaWQgMH0pLGI9KGJ8fCIiKS5tYXRjaChFKXx8WyIiXSxqPWIubGVuZ3RoO2otLTspaD1ZLmV4ZWMoYltqXSl8fFtdLG89cT1oWzFdLHA9KGhbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxvJiYobD1uLmV2ZW50LnNwZWNpYWxbb118fHt9LG89KGU/bC5kZWxlZ2F0ZVR5cGU6bC5iaW5kVHlwZSl8fG8sbD1uLmV2ZW50LnNwZWNpYWxbb118fHt9LGs9bi5leHRlbmQoe3R5cGU6byxvcmlnVHlwZTpxLGRhdGE6ZCxoYW5kbGVyOmMsZ3VpZDpjLmd1aWQsc2VsZWN0b3I6ZSxuZWVkc0NvbnRleHQ6ZSYmbi5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGUpLG5hbWVzcGFjZTpwLmpvaW4oIi4iKX0sZiksKG09aVtvXSl8fChtPWlbb109W10sbS5kZWxlZ2F0ZUNvdW50PTAsbC5zZXR1cCYmbC5zZXR1cC5jYWxsKGEsZCxwLGcpIT09ITF8fGEuYWRkRXZlbnRMaXN0ZW5lciYmYS5hZGRFdmVudExpc3RlbmVyKG8sZywhMSkpLGwuYWRkJiYobC5hZGQuY2FsbChhLGspLGsuaGFuZGxlci5ndWlkfHwoay5oYW5kbGVyLmd1aWQ9Yy5ndWlkKSksZT9tLnNwbGljZShtLmRlbGVnYXRlQ291bnQrKywwLGspOm0ucHVzaChrKSxuLmV2ZW50Lmdsb2JhbFtvXT0hMCl9LHJlbW92ZTpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaCxpLGosayxsLG0sbyxwLHEscj1MLmhhc0RhdGEoYSkmJkwuZ2V0KGEpO2lmKHImJihpPXIuZXZlbnRzKSl7Zm9yKGI9KGJ8fCIiKS5tYXRjaChFKXx8WyIiXSxqPWIubGVuZ3RoO2otLTspaWYoaD1ZLmV4ZWMoYltqXSl8fFtdLG89cT1oWzFdLHA9KGhbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxvKXtmb3IobD1uLmV2ZW50LnNwZWNpYWxbb118fHt9LG89KGQ/bC5kZWxlZ2F0ZVR5cGU6bC5iaW5kVHlwZSl8fG8sbT1pW29dfHxbXSxoPWhbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK3Auam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksZz1mPW0ubGVuZ3RoO2YtLTspaz1tW2ZdLCFlJiZxIT09ay5vcmlnVHlwZXx8YyYmYy5ndWlkIT09ay5ndWlkfHxoJiYhaC50ZXN0KGsubmFtZXNwYWNlKXx8ZCYmZCE9PWsuc2VsZWN0b3ImJigiKioiIT09ZHx8IWsuc2VsZWN0b3IpfHwobS5zcGxpY2UoZiwxKSxrLnNlbGVjdG9yJiZtLmRlbGVnYXRlQ291bnQtLSxsLnJlbW92ZSYmbC5yZW1vdmUuY2FsbChhLGspKTtnJiYhbS5sZW5ndGgmJihsLnRlYXJkb3duJiZsLnRlYXJkb3duLmNhbGwoYSxwLHIuaGFuZGxlKSE9PSExfHxuLnJlbW92ZUV2ZW50KGEsbyxyLmhhbmRsZSksZGVsZXRlIGlbb10pfWVsc2UgZm9yKG8gaW4gaSluLmV2ZW50LnJlbW92ZShhLG8rYltqXSxjLGQsITApO24uaXNFbXB0eU9iamVjdChpKSYmKGRlbGV0ZSByLmhhbmRsZSxMLnJlbW92ZShhLCJldmVudHMiKSl9fSx0cmlnZ2VyOmZ1bmN0aW9uKGIsYyxkLGUpe3ZhciBmLGcsaCxpLGssbSxvLHA9W2R8fGxdLHE9ai5jYWxsKGIsInR5cGUiKT9iLnR5cGU6YixyPWouY2FsbChiLCJuYW1lc3BhY2UiKT9iLm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2lmKGc9aD1kPWR8fGwsMyE9PWQubm9kZVR5cGUmJjghPT1kLm5vZGVUeXBlJiYhWC50ZXN0KHErbi5ldmVudC50cmlnZ2VyZWQpJiYocS5pbmRleE9mKCIuIik+PTAmJihyPXEuc3BsaXQoIi4iKSxxPXIuc2hpZnQoKSxyLnNvcnQoKSksaz1xLmluZGV4T2YoIjoiKTwwJiYib24iK3EsYj1iW24uZXhwYW5kb10/YjpuZXcgbi5FdmVudChxLCJvYmplY3QiPT10eXBlb2YgYiYmYiksYi5pc1RyaWdnZXI9ZT8yOjMsYi5uYW1lc3BhY2U9ci5qb2luKCIuIiksYi5uYW1lc3BhY2VfcmU9Yi5uYW1lc3BhY2U/bmV3IFJlZ0V4cCgiKF58XFwuKSIrci5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKTpudWxsLGIucmVzdWx0PXZvaWQgMCxiLnRhcmdldHx8KGIudGFyZ2V0PWQpLGM9bnVsbD09Yz9bYl06bi5tYWtlQXJyYXkoYyxbYl0pLG89bi5ldmVudC5zcGVjaWFsW3FdfHx7fSxlfHwhby50cmlnZ2VyfHxvLnRyaWdnZXIuYXBwbHkoZCxjKSE9PSExKSl7aWYoIWUmJiFvLm5vQnViYmxlJiYhbi5pc1dpbmRvdyhkKSl7Zm9yKGk9by5kZWxlZ2F0ZVR5cGV8fHEsWC50ZXN0KGkrcSl8fChnPWcucGFyZW50Tm9kZSk7ZztnPWcucGFyZW50Tm9kZSlwLnB1c2goZyksaD1nO2g9PT0oZC5vd25lckRvY3VtZW50fHxsKSYmcC5wdXNoKGguZGVmYXVsdFZpZXd8fGgucGFyZW50V2luZG93fHxhKX1mb3IoZj0wOyhnPXBbZisrXSkmJiFiLmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KWIudHlwZT1mPjE/aTpvLmJpbmRUeXBlfHxxLG09KEwuZ2V0KGcsImV2ZW50cyIpfHx7fSlbYi50eXBlXSYmTC5nZXQoZywiaGFuZGxlIiksbSYmbS5hcHBseShnLGMpLG09ayYmZ1trXSxtJiZtLmFwcGx5JiZuLmFjY2VwdERhdGEoZykmJihiLnJlc3VsdD1tLmFwcGx5KGcsYyksYi5yZXN1bHQ9PT0hMSYmYi5wcmV2ZW50RGVmYXVsdCgpKTtyZXR1cm4gYi50eXBlPXEsZXx8Yi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8by5fZGVmYXVsdCYmby5fZGVmYXVsdC5hcHBseShwLnBvcCgpLGMpIT09ITF8fCFuLmFjY2VwdERhdGEoZCl8fGsmJm4uaXNGdW5jdGlvbihkW3FdKSYmIW4uaXNXaW5kb3coZCkmJihoPWRba10saCYmKGRba109bnVsbCksbi5ldmVudC50cmlnZ2VyZWQ9cSxkW3FdKCksbi5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGgmJihkW2tdPWgpKSxiLnJlc3VsdH19LGRpc3BhdGNoOmZ1bmN0aW9uKGEpe2E9bi5ldmVudC5maXgoYSk7dmFyIGIsYyxlLGYsZyxoPVtdLGk9ZC5jYWxsKGFyZ3VtZW50cyksaj0oTC5nZXQodGhpcywiZXZlbnRzIil8fHt9KVthLnR5cGVdfHxbXSxrPW4uZXZlbnQuc3BlY2lhbFthLnR5cGVdfHx7fTtpZihpWzBdPWEsYS5kZWxlZ2F0ZVRhcmdldD10aGlzLCFrLnByZURpc3BhdGNofHxrLnByZURpc3BhdGNoLmNhbGwodGhpcyxhKSE9PSExKXtmb3IoaD1uLmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyxhLGopLGI9MDsoZj1oW2IrK10pJiYhYS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpOylmb3IoYS5jdXJyZW50VGFyZ2V0PWYuZWxlbSxjPTA7KGc9Zi5oYW5kbGVyc1tjKytdKSYmIWEuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKTspKCFhLm5hbWVzcGFjZV9yZXx8YS5uYW1lc3BhY2VfcmUudGVzdChnLm5hbWVzcGFjZSkpJiYoYS5oYW5kbGVPYmo9ZyxhLmRhdGE9Zy5kYXRhLGU9KChuLmV2ZW50LnNwZWNpYWxbZy5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fGcuaGFuZGxlcikuYXBwbHkoZi5lbGVtLGkpLHZvaWQgMCE9PWUmJihhLnJlc3VsdD1lKT09PSExJiYoYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCkpKTtyZXR1cm4gay5wb3N0RGlzcGF0Y2gmJmsucG9zdERpc3BhdGNoLmNhbGwodGhpcyxhKSxhLnJlc3VsdH19LGhhbmRsZXJzOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGYsZz1bXSxoPWIuZGVsZWdhdGVDb3VudCxpPWEudGFyZ2V0O2lmKGgmJmkubm9kZVR5cGUmJighYS5idXR0b258fCJjbGljayIhPT1hLnR5cGUpKWZvcig7aSE9PXRoaXM7aT1pLnBhcmVudE5vZGV8fHRoaXMpaWYoaS5kaXNhYmxlZCE9PSEwfHwiY2xpY2siIT09YS50eXBlKXtmb3IoZD1bXSxjPTA7aD5jO2MrKylmPWJbY10sZT1mLnNlbGVjdG9yKyIgIix2b2lkIDA9PT1kW2VdJiYoZFtlXT1mLm5lZWRzQ29udGV4dD9uKGUsdGhpcykuaW5kZXgoaSk+PTA6bi5maW5kKGUsdGhpcyxudWxsLFtpXSkubGVuZ3RoKSxkW2VdJiZkLnB1c2goZik7ZC5sZW5ndGgmJmcucHVzaCh7ZWxlbTppLGhhbmRsZXJzOmR9KX1yZXR1cm4gaDxiLmxlbmd0aCYmZy5wdXNoKHtlbGVtOnRoaXMsaGFuZGxlcnM6Yi5zbGljZShoKX0pLGd9LHByb3BzOiJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2giLnNwbGl0KCIgIiksZml4SG9va3M6e30sa2V5SG9va3M6e3Byb3BzOiJjaGFyIGNoYXJDb2RlIGtleSBrZXlDb2RlIi5zcGxpdCgiICIpLGZpbHRlcjpmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1hLndoaWNoJiYoYS53aGljaD1udWxsIT1iLmNoYXJDb2RlP2IuY2hhckNvZGU6Yi5rZXlDb2RlKSxhfX0sbW91c2VIb29rczp7cHJvcHM6ImJ1dHRvbiBidXR0b25zIGNsaWVudFggY2xpZW50WSBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIHRvRWxlbWVudCIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZj1iLmJ1dHRvbjtyZXR1cm4gbnVsbD09YS5wYWdlWCYmbnVsbCE9Yi5jbGllbnRYJiYoYz1hLnRhcmdldC5vd25lckRvY3VtZW50fHxsLGQ9Yy5kb2N1bWVudEVsZW1lbnQsZT1jLmJvZHksYS5wYWdlWD1iLmNsaWVudFgrKGQmJmQuc2Nyb2xsTGVmdHx8ZSYmZS5zY3JvbGxMZWZ0fHwwKS0oZCYmZC5jbGllbnRMZWZ0fHxlJiZlLmNsaWVudExlZnR8fDApLGEucGFnZVk9Yi5jbGllbnRZKyhkJiZkLnNjcm9sbFRvcHx8ZSYmZS5zY3JvbGxUb3B8fDApLShkJiZkLmNsaWVudFRvcHx8ZSYmZS5jbGllbnRUb3B8fDApKSxhLndoaWNofHx2b2lkIDA9PT1mfHwoYS53aGljaD0xJmY/MToyJmY/Mzo0JmY/MjowKSxhfX0sZml4OmZ1bmN0aW9uKGEpe2lmKGFbbi5leHBhbmRvXSlyZXR1cm4gYTt2YXIgYixjLGQsZT1hLnR5cGUsZj1hLGc9dGhpcy5maXhIb29rc1tlXTtmb3IoZ3x8KHRoaXMuZml4SG9va3NbZV09Zz1XLnRlc3QoZSk/dGhpcy5tb3VzZUhvb2tzOlYudGVzdChlKT90aGlzLmtleUhvb2tzOnt9KSxkPWcucHJvcHM/dGhpcy5wcm9wcy5jb25jYXQoZy5wcm9wcyk6dGhpcy5wcm9wcyxhPW5ldyBuLkV2ZW50KGYpLGI9ZC5sZW5ndGg7Yi0tOyljPWRbYl0sYVtjXT1mW2NdO3JldHVybiBhLnRhcmdldHx8KGEudGFyZ2V0PWwpLDM9PT1hLnRhcmdldC5ub2RlVHlwZSYmKGEudGFyZ2V0PWEudGFyZ2V0LnBhcmVudE5vZGUpLGcuZmlsdGVyP2cuZmlsdGVyKGEsZik6YX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGZvY3VzOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMhPT1fKCkmJnRoaXMuZm9jdXM/KHRoaXMuZm9jdXMoKSwhMSk6dm9pZCAwfSxkZWxlZ2F0ZVR5cGU6ImZvY3VzaW4ifSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM9PT1fKCkmJnRoaXMuYmx1cj8odGhpcy5ibHVyKCksITEpOnZvaWQgMH0sZGVsZWdhdGVUeXBlOiJmb2N1c291dCJ9LGNsaWNrOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuImNoZWNrYm94Ij09PXRoaXMudHlwZSYmdGhpcy5jbGljayYmbi5ub2RlTmFtZSh0aGlzLCJpbnB1dCIpPyh0aGlzLmNsaWNrKCksITEpOnZvaWQgMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG4ubm9kZU5hbWUoYS50YXJnZXQsImEiKX19LGJlZm9yZXVubG9hZDp7cG9zdERpc3BhdGNoOmZ1bmN0aW9uKGEpe3ZvaWQgMCE9PWEucmVzdWx0JiZhLm9yaWdpbmFsRXZlbnQmJihhLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9YS5yZXN1bHQpfX19LHNpbXVsYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW4uZXh0ZW5kKG5ldyBuLkV2ZW50LGMse3R5cGU6YSxpc1NpbXVsYXRlZDohMCxvcmlnaW5hbEV2ZW50Ont9fSk7ZD9uLmV2ZW50LnRyaWdnZXIoZSxudWxsLGIpOm4uZXZlbnQuZGlzcGF0Y2guY2FsbChiLGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCkmJmMucHJldmVudERlZmF1bHQoKX19LG4ucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYywhMSl9LG4uRXZlbnQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIG4uRXZlbnQ/KGEmJmEudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWEsdGhpcy50eXBlPWEudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1hLmRlZmF1bHRQcmV2ZW50ZWR8fHZvaWQgMD09PWEuZGVmYXVsdFByZXZlbnRlZCYmYS5yZXR1cm5WYWx1ZT09PSExP1o6JCk6dGhpcy50eXBlPWEsYiYmbi5leHRlbmQodGhpcyxiKSx0aGlzLnRpbWVTdGFtcD1hJiZhLnRpbWVTdGFtcHx8bi5ub3coKSx2b2lkKHRoaXNbbi5leHBhbmRvXT0hMCkpOm5ldyBuLkV2ZW50KGEsYil9LG4uRXZlbnQucHJvdG90eXBlPXtpc0RlZmF1bHRQcmV2ZW50ZWQ6JCxpc1Byb3BhZ2F0aW9uU3RvcHBlZDokLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiQscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9WixhJiZhLnByZXZlbnREZWZhdWx0JiZhLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPVosYSYmYS5zdG9wUHJvcGFnYXRpb24mJmEuc3RvcFByb3BhZ2F0aW9uKCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPVosYSYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24mJmEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LG4uZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCIscG9pbnRlcmVudGVyOiJwb2ludGVyb3ZlciIscG9pbnRlcmxlYXZlOiJwb2ludGVyb3V0In0sZnVuY3Rpb24oYSxiKXtuLmV2ZW50LnNwZWNpYWxbYV09e2RlbGVnYXRlVHlwZTpiLGJpbmRUeXBlOmIsaGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcyxlPWEucmVsYXRlZFRhcmdldCxmPWEuaGFuZGxlT2JqO3JldHVybighZXx8ZSE9PWQmJiFuLmNvbnRhaW5zKGQsZSkpJiYoYS50eXBlPWYub3JpZ1R5cGUsYz1mLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGEudHlwZT1iKSxjfX19KSxrLmZvY3VzaW5CdWJibGVzfHxuLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oYSl7bi5ldmVudC5zaW11bGF0ZShiLGEudGFyZ2V0LG4uZXZlbnQuZml4KGEpLCEwKX07bi5ldmVudC5zcGVjaWFsW2JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPUwuYWNjZXNzKGQsYik7ZXx8ZC5hZGRFdmVudExpc3RlbmVyKGEsYywhMCksTC5hY2Nlc3MoZCxiLChlfHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1MLmFjY2VzcyhkLGIpLTE7ZT9MLmFjY2VzcyhkLGIsZSk6KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGMsITApLEwucmVtb3ZlKGQsYikpfX19KSxuLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7InN0cmluZyIhPXR5cGVvZiBiJiYoYz1jfHxiLGI9dm9pZCAwKTtmb3IoZyBpbiBhKXRoaXMub24oZyxiLGMsYVtnXSxlKTtyZXR1cm4gdGhpc31pZihudWxsPT1jJiZudWxsPT1kPyhkPWIsYz1iPXZvaWQgMCk6bnVsbD09ZCYmKCJzdHJpbmciPT10eXBlb2YgYj8oZD1jLGM9dm9pZCAwKTooZD1jLGM9YixiPXZvaWQgMCkpLGQ9PT0hMSlkPSQ7ZWxzZSBpZighZClyZXR1cm4gdGhpcztyZXR1cm4gMT09PWUmJihmPWQsZD1mdW5jdGlvbihhKXtyZXR1cm4gbigpLm9mZihhKSxmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZC5ndWlkPWYuZ3VpZHx8KGYuZ3VpZD1uLmd1aWQrKykpLHRoaXMuZWFjaChmdW5jdGlvbigpe24uZXZlbnQuYWRkKHRoaXMsYSxkLGMsYil9KX0sb25lOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLm9uKGEsYixjLGQsMSl9LG9mZjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihhJiZhLnByZXZlbnREZWZhdWx0JiZhLmhhbmRsZU9iailyZXR1cm4gZD1hLmhhbmRsZU9iaixuKGEuZGVsZWdhdGVUYXJnZXQpLm9mZihkLm5hbWVzcGFjZT9kLm9yaWdUeXBlKyIuIitkLm5hbWVzcGFjZTpkLm9yaWdUeXBlLGQuc2VsZWN0b3IsZC5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7Zm9yKGUgaW4gYSl0aGlzLm9mZihlLGIsYVtlXSk7cmV0dXJuIHRoaXN9cmV0dXJuKGI9PT0hMXx8ImZ1bmN0aW9uIj09dHlwZW9mIGIpJiYoYz1iLGI9dm9pZCAwKSxjPT09ITEmJihjPSQpLHRoaXMuZWFjaChmdW5jdGlvbigpe24uZXZlbnQucmVtb3ZlKHRoaXMsYSxjLGIpfSl9LHRyaWdnZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5ldmVudC50cmlnZ2VyKGEsYix0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXNbMF07cmV0dXJuIGM/bi5ldmVudC50cmlnZ2VyKGEsYixjLCEwKTp2b2lkIDB9fSk7dmFyIGFiPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzpdKylbXj5dKilcLz4vZ2ksYmI9LzwoW1x3Ol0rKS8sY2I9Lzx8JiM/XHcrOy8sZGI9LzwoPzpzY3JpcHR8c3R5bGV8bGluaykvaSxlYj0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxmYj0vXiR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksZ2I9L150cnVlXC8oLiopLyxoYj0vXlxzKjwhKD86XFtDREFUQVxbfC0tKXwoPzpcXVxdfC0tKT5ccyokL2csaWI9e29wdGlvbjpbMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtpYi5vcHRncm91cD1pYi5vcHRpb24saWIudGJvZHk9aWIudGZvb3Q9aWIuY29sZ3JvdXA9aWIuY2FwdGlvbj1pYi50aGVhZCxpYi50aD1pYi50ZCxuLmV4dGVuZCh7Y2xvbmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jbG9uZU5vZGUoITApLGk9bi5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSk7aWYoIShrLm5vQ2xvbmVDaGVja2VkfHwxIT09YS5ub2RlVHlwZSYmMTEhPT1hLm5vZGVUeXBlfHxuLmlzWE1MRG9jKGEpKSlmb3IoZz1vYihoKSxmPW9iKGEpLGQ9MCxlPWYubGVuZ3RoO2U+ZDtkKyspcGIoZltkXSxnW2RdKTtpZihiKWlmKGMpZm9yKGY9Znx8b2IoYSksZz1nfHxvYihoKSxkPTAsZT1mLmxlbmd0aDtlPmQ7ZCsrKW5iKGZbZF0sZ1tkXSk7ZWxzZSBuYihhLGgpO3JldHVybiBnPW9iKGgsInNjcmlwdCIpLGcubGVuZ3RoPjAmJm1iKGcsIWkmJm9iKGEsInNjcmlwdCIpKSxofSxidWlsZEZyYWdtZW50OmZ1bmN0aW9uKGEsYixjLGQpe2Zvcih2YXIgZSxmLGcsaCxpLGosaz1iLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxsPVtdLG09MCxvPWEubGVuZ3RoO28+bTttKyspaWYoZT1hW21dLGV8fDA9PT1lKWlmKCJvYmplY3QiPT09bi50eXBlKGUpKW4ubWVyZ2UobCxlLm5vZGVUeXBlP1tlXTplKTtlbHNlIGlmKGNiLnRlc3QoZSkpe2ZvcihmPWZ8fGsuYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KCJkaXYiKSksZz0oYmIuZXhlYyhlKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKSxoPWliW2ddfHxpYi5fZGVmYXVsdCxmLmlubmVySFRNTD1oWzFdK2UucmVwbGFjZShhYiwiPCQxPjwvJDI+IikraFsyXSxqPWhbMF07ai0tOylmPWYubGFzdENoaWxkO24ubWVyZ2UobCxmLmNoaWxkTm9kZXMpLGY9ay5maXJzdENoaWxkLGYudGV4dENvbnRlbnQ9IiJ9ZWxzZSBsLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShlKSk7Zm9yKGsudGV4dENvbnRlbnQ9IiIsbT0wO2U9bFttKytdOylpZigoIWR8fC0xPT09bi5pbkFycmF5KGUsZCkpJiYoaT1uLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKSxmPW9iKGsuYXBwZW5kQ2hpbGQoZSksInNjcmlwdCIpLGkmJm1iKGYpLGMpKWZvcihqPTA7ZT1mW2orK107KWZiLnRlc3QoZS50eXBlfHwiIikmJmMucHVzaChlKTtyZXR1cm4ga30sY2xlYW5EYXRhOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjLGQsZSxmPW4uZXZlbnQuc3BlY2lhbCxnPTA7dm9pZCAwIT09KGM9YVtnXSk7ZysrKXtpZihuLmFjY2VwdERhdGEoYykmJihlPWNbTC5leHBhbmRvXSxlJiYoYj1MLmNhY2hlW2VdKSkpe2lmKGIuZXZlbnRzKWZvcihkIGluIGIuZXZlbnRzKWZbZF0/bi5ldmVudC5yZW1vdmUoYyxkKTpuLnJlbW92ZUV2ZW50KGMsZCxiLmhhbmRsZSk7TC5jYWNoZVtlXSYmZGVsZXRlIEwuY2FjaGVbZV19ZGVsZXRlIE0uY2FjaGVbY1tNLmV4cGFuZG9dXX19fSksbi5mbi5leHRlbmQoe3RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEoodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT9uLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpJiYodGhpcy50ZXh0Q29udGVudD1hKX0pfSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LGFwcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihhKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIGI9amIodGhpcyxhKTtiLmFwcGVuZENoaWxkKGEpfX0pfSxwcmVwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj1qYih0aGlzLGEpO2IuaW5zZXJ0QmVmb3JlKGEsYi5maXJzdENoaWxkKX19KX0sYmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMpfSl9LGFmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMubmV4dFNpYmxpbmcpfSl9LHJlbW92ZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPWE/bi5maWx0ZXIoYSx0aGlzKTp0aGlzLGU9MDtudWxsIT0oYz1kW2VdKTtlKyspYnx8MSE9PWMubm9kZVR5cGV8fG4uY2xlYW5EYXRhKG9iKGMpKSxjLnBhcmVudE5vZGUmJihiJiZuLmNvbnRhaW5zKGMub3duZXJEb2N1bWVudCxjKSYmbWIob2IoYywic2NyaXB0IikpLGMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKSk7cmV0dXJuIHRoaXN9LGVtcHR5OmZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9MDtudWxsIT0oYT10aGlzW2JdKTtiKyspMT09PWEubm9kZVR5cGUmJihuLmNsZWFuRGF0YShvYihhLCExKSksYS50ZXh0Q29udGVudD0iIik7cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9bnVsbD09YT8hMTphLGI9bnVsbD09Yj9hOmIsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gbi5jbG9uZSh0aGlzLGEsYil9KX0saHRtbDpmdW5jdGlvbihhKXtyZXR1cm4gSih0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF18fHt9LGM9MCxkPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWEmJjE9PT1iLm5vZGVUeXBlKXJldHVybiBiLmlubmVySFRNTDtpZigic3RyaW5nIj09dHlwZW9mIGEmJiFkYi50ZXN0KGEpJiYhaWJbKGJiLmV4ZWMoYSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCldKXthPWEucmVwbGFjZShhYiwiPCQxPjwvJDI+Iik7dHJ5e2Zvcig7ZD5jO2MrKyliPXRoaXNbY118fHt9LDE9PT1iLm5vZGVUeXBlJiYobi5jbGVhbkRhdGEob2IoYiwhMSkpLGIuaW5uZXJIVE1MPWEpO2I9MH1jYXRjaChlKXt9fWImJnRoaXMuZW1wdHkoKS5hcHBlbmQoYSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGIpe2E9dGhpcy5wYXJlbnROb2RlLG4uY2xlYW5EYXRhKG9iKHRoaXMpKSxhJiZhLnJlcGxhY2VDaGlsZChiLHRoaXMpfSksYSYmKGEubGVuZ3RofHxhLm5vZGVUeXBlKT90aGlzOnRoaXMucmVtb3ZlKCl9LGRldGFjaDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZW1vdmUoYSwhMCl9LGRvbU1hbmlwOmZ1bmN0aW9uKGEsYil7YT1lLmFwcGx5KFtdLGEpO3ZhciBjLGQsZixnLGgsaSxqPTAsbD10aGlzLmxlbmd0aCxtPXRoaXMsbz1sLTEscD1hWzBdLHE9bi5pc0Z1bmN0aW9uKHApO2lmKHF8fGw+MSYmInN0cmluZyI9PXR5cGVvZiBwJiYhay5jaGVja0Nsb25lJiZlYi50ZXN0KHApKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYyl7dmFyIGQ9bS5lcShjKTtxJiYoYVswXT1wLmNhbGwodGhpcyxjLGQuaHRtbCgpKSksZC5kb21NYW5pcChhLGIpfSk7aWYobCYmKGM9bi5idWlsZEZyYWdtZW50KGEsdGhpc1swXS5vd25lckRvY3VtZW50LCExLHRoaXMpLGQ9Yy5maXJzdENoaWxkLDE9PT1jLmNoaWxkTm9kZXMubGVuZ3RoJiYoYz1kKSxkKSl7Zm9yKGY9bi5tYXAob2IoYywic2NyaXB0Iiksa2IpLGc9Zi5sZW5ndGg7bD5qO2orKyloPWMsaiE9PW8mJihoPW4uY2xvbmUoaCwhMCwhMCksZyYmbi5tZXJnZShmLG9iKGgsInNjcmlwdCIpKSksYi5jYWxsKHRoaXNbal0saCxqKTtpZihnKWZvcihpPWZbZi5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxuLm1hcChmLGxiKSxqPTA7Zz5qO2orKyloPWZbal0sZmIudGVzdChoLnR5cGV8fCIiKSYmIUwuYWNjZXNzKGgsImdsb2JhbEV2YWwiKSYmbi5jb250YWlucyhpLGgpJiYoaC5zcmM/bi5fZXZhbFVybCYmbi5fZXZhbFVybChoLnNyYyk6bi5nbG9iYWxFdmFsKGgudGV4dENvbnRlbnQucmVwbGFjZShoYiwiIikpKX1yZXR1cm4gdGhpc319KSxuLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihhLGIpe24uZm5bYV09ZnVuY3Rpb24oYSl7Zm9yKHZhciBjLGQ9W10sZT1uKGEpLGc9ZS5sZW5ndGgtMSxoPTA7Zz49aDtoKyspYz1oPT09Zz90aGlzOnRoaXMuY2xvbmUoITApLG4oZVtoXSlbYl0oYyksZi5hcHBseShkLGMuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhkKX19KTt2YXIgcWIscmI9e30sdWI9L15tYXJnaW4vLHZiPW5ldyBSZWdFeHAoIl4oIitRKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksd2I9ZnVuY3Rpb24oYSl7cmV0dXJuIGEub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGEsbnVsbCl9OyFmdW5jdGlvbigpe2Z1bmN0aW9uIGcoKXtmLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbi10b3A6MSU7dG9wOjElO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NHB4O3Bvc2l0aW9uOmFic29sdXRlIixmLmlubmVySFRNTD0iIixkLmFwcGVuZENoaWxkKGUpO3ZhciBnPWEuZ2V0Q29tcHV0ZWRTdHlsZShmLG51bGwpO2I9IjElIiE9PWcudG9wLGM9IjRweCI9PT1nLndpZHRoLGQucmVtb3ZlQ2hpbGQoZSl9dmFyIGIsYyxkPWwuZG9jdW1lbnRFbGVtZW50LGU9bC5jcmVhdGVFbGVtZW50KCJkaXYiKSxmPWwuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zi5zdHlsZSYmKGYuc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IixmLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9IiIsay5jbGVhckNsb25lU3R5bGU9ImNvbnRlbnQtYm94Ij09PWYuc3R5bGUuYmFja2dyb3VuZENsaXAsZS5zdHlsZS5jc3NUZXh0PSJib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweDttYXJnaW4tdG9wOjFweDtwb3NpdGlvbjphYnNvbHV0ZSIsZS5hcHBlbmRDaGlsZChmKSxhLmdldENvbXB1dGVkU3R5bGUmJm4uZXh0ZW5kKGsse3BpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gZygpLGJ9LGJveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWMmJmcoKSxjfSxyZWxpYWJsZU1hcmdpblJpZ2h0OmZ1bmN0aW9uKCl7dmFyIGIsYz1mLmFwcGVuZENoaWxkKGwuY3JlYXRlRWxlbWVudCgiZGl2IikpO3JldHVybiBjLnN0eWxlLmNzc1RleHQ9Zi5zdHlsZS5jc3NUZXh0PSItd2Via2l0LWJveC1zaXppbmc6Y29udGVudC1ib3g7LW1vei1ib3gtc2l6aW5nOmNvbnRlbnQtYm94O2JveC1zaXppbmc6Y29udGVudC1ib3g7ZGlzcGxheTpibG9jazttYXJnaW46MDtib3JkZXI6MDtwYWRkaW5nOjAiLGMuc3R5bGUubWFyZ2luUmlnaHQ9Yy5zdHlsZS53aWR0aD0iMCIsZi5zdHlsZS53aWR0aD0iMXB4IixkLmFwcGVuZENoaWxkKGUpLGI9IXBhcnNlRmxvYXQoYS5nZXRDb21wdXRlZFN0eWxlKGMsbnVsbCkubWFyZ2luUmlnaHQpLGQucmVtb3ZlQ2hpbGQoZSksYn19KSl9KCksbi5zd2FwPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZz17fTtmb3IoZiBpbiBiKWdbZl09YS5zdHlsZVtmXSxhLnN0eWxlW2ZdPWJbZl07ZT1jLmFwcGx5KGEsZHx8W10pO2ZvcihmIGluIGIpYS5zdHlsZVtmXT1nW2ZdO3JldHVybiBlfTt2YXIgemI9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLEFiPW5ldyBSZWdFeHAoIl4oIitRKyIpKC4qKSQiLCJpIiksQmI9bmV3IFJlZ0V4cCgiXihbKy1dKT0oIitRKyIpIiwiaSIpLENiPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxEYj17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn0sRWI9WyJXZWJraXQiLCJPIiwiTW96IiwibXMiXTtuLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBjPXhiKGEsIm9wYWNpdHkiKTtyZXR1cm4iIj09PWM/IjEiOmN9fX19LGNzc051bWJlcjp7Y29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6eyJmbG9hdCI6ImNzc0Zsb2F0In0sc3R5bGU6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYSYmMyE9PWEubm9kZVR5cGUmJjghPT1hLm5vZGVUeXBlJiZhLnN0eWxlKXt2YXIgZSxmLGcsaD1uLmNhbWVsQ2FzZShiKSxpPWEuc3R5bGU7cmV0dXJuIGI9bi5jc3NQcm9wc1toXXx8KG4uY3NzUHJvcHNbaF09RmIoaSxoKSksZz1uLmNzc0hvb2tzW2JdfHxuLmNzc0hvb2tzW2hdLHZvaWQgMD09PWM/ZyYmImdldCJpbiBnJiZ2b2lkIDAhPT0oZT1nLmdldChhLCExLGQpKT9lOmlbYl06KGY9dHlwZW9mIGMsInN0cmluZyI9PT1mJiYoZT1CYi5leGVjKGMpKSYmKGM9KGVbMV0rMSkqZVsyXStwYXJzZUZsb2F0KG4uY3NzKGEsYikpLGY9Im51bWJlciIpLHZvaWQobnVsbCE9YyYmYz09PWMmJigibnVtYmVyIiE9PWZ8fG4uY3NzTnVtYmVyW2hdfHwoYys9InB4Iiksay5jbGVhckNsb25lU3R5bGV8fCIiIT09Y3x8MCE9PWIuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwoaVtiXT0iaW5oZXJpdCIpLGcmJiJzZXQiaW4gZyYmdm9pZCAwPT09KGM9Zy5zZXQoYSxjLGQpKXx8KGlbYl09YykpKSl9fSxjc3M6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnLGg9bi5jYW1lbENhc2UoYik7cmV0dXJuIGI9bi5jc3NQcm9wc1toXXx8KG4uY3NzUHJvcHNbaF09RmIoYS5zdHlsZSxoKSksZz1uLmNzc0hvb2tzW2JdfHxuLmNzc0hvb2tzW2hdLGcmJiJnZXQiaW4gZyYmKGU9Zy5nZXQoYSwhMCxjKSksdm9pZCAwPT09ZSYmKGU9eGIoYSxiLGQpKSwibm9ybWFsIj09PWUmJmIgaW4gRGImJihlPURiW2JdKSwiIj09PWN8fGM/KGY9cGFyc2VGbG9hdChlKSxjPT09ITB8fG4uaXNOdW1lcmljKGYpP2Z8fDA6ZSk6ZX19KSxuLmVhY2goWyJoZWlnaHQiLCJ3aWR0aCJdLGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gYz96Yi50ZXN0KG4uY3NzKGEsImRpc3BsYXkiKSkmJjA9PT1hLm9mZnNldFdpZHRoP24uc3dhcChhLENiLGZ1bmN0aW9uKCl7cmV0dXJuIEliKGEsYixkKX0pOkliKGEsYixkKTp2b2lkIDB9LHNldDpmdW5jdGlvbihhLGMsZCl7dmFyIGU9ZCYmd2IoYSk7cmV0dXJuIEdiKGEsYyxkP0hiKGEsYixkLCJib3JkZXItYm94Ij09PW4uY3NzKGEsImJveFNpemluZyIsITEsZSksZSk6MCl9fX0pLG4uY3NzSG9va3MubWFyZ2luUmlnaHQ9eWIoay5yZWxpYWJsZU1hcmdpblJpZ2h0LGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/bi5zd2FwKGEse2Rpc3BsYXk6ImlubGluZS1ibG9jayJ9LHhiLFthLCJtYXJnaW5SaWdodCJdKTp2b2lkIDB9KSxuLmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihhLGIpe24uY3NzSG9va3NbYStiXT17ZXhwYW5kOmZ1bmN0aW9uKGMpe2Zvcih2YXIgZD0wLGU9e30sZj0ic3RyaW5nIj09dHlwZW9mIGM/Yy5zcGxpdCgiICIpOltjXTs0PmQ7ZCsrKWVbYStSW2RdK2JdPWZbZF18fGZbZC0yXXx8ZlswXTtyZXR1cm4gZX19LHViLnRlc3QoYSl8fChuLmNzc0hvb2tzW2ErYl0uc2V0PUdiKX0pLG4uZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSih0aGlzLGZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9e30sZz0wO2lmKG4uaXNBcnJheShiKSl7Zm9yKGQ9d2IoYSksZT1iLmxlbmd0aDtlPmc7ZysrKWZbYltnXV09bi5jc3MoYSxiW2ddLCExLGQpO3JldHVybiBmfXJldHVybiB2b2lkIDAhPT1jP24uc3R5bGUoYSxiLGMpOm4uY3NzKGEsYil9LGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxzaG93OmZ1bmN0aW9uKCl7cmV0dXJuIEpiKHRoaXMsITApfSxoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIEpiKHRoaXMpfSx0b2dnbGU6ZnVuY3Rpb24oYSl7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgYT9hP3RoaXMuc2hvdygpOnRoaXMuaGlkZSgpOnRoaXMuZWFjaChmdW5jdGlvbigpe1ModGhpcyk/bih0aGlzKS5zaG93KCk6bih0aGlzKS5oaWRlKCl9KX19KSxuLlR3ZWVuPUtiLEtiLnByb3RvdHlwZT17Y29uc3RydWN0b3I6S2IsaW5pdDpmdW5jdGlvbihhLGIsYyxkLGUsZil7dGhpcy5lbGVtPWEsdGhpcy5wcm9wPWMsdGhpcy5lYXNpbmc9ZXx8InN3aW5nIix0aGlzLm9wdGlvbnM9Yix0aGlzLnN0YXJ0PXRoaXMubm93PXRoaXMuY3VyKCksdGhpcy5lbmQ9ZCx0aGlzLnVuaXQ9Znx8KG4uY3NzTnVtYmVyW2NdPyIiOiJweCIpfSxjdXI6ZnVuY3Rpb24oKXt2YXIgYT1LYi5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gYSYmYS5nZXQ/YS5nZXQodGhpcyk6S2IucHJvcEhvb2tzLl9kZWZhdWx0LmdldCh0aGlzKX0scnVuOmZ1bmN0aW9uKGEpe3ZhciBiLGM9S2IucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIHRoaXMucG9zPWI9dGhpcy5vcHRpb25zLmR1cmF0aW9uP24uZWFzaW5nW3RoaXMuZWFzaW5nXShhLHRoaXMub3B0aW9ucy5kdXJhdGlvbiphLDAsMSx0aGlzLm9wdGlvbnMuZHVyYXRpb24pOmEsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKmIrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksYyYmYy5zZXQ/Yy5zZXQodGhpcyk6S2IucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0sS2IucHJvdG90eXBlLmluaXQucHJvdG90eXBlPUtiLnByb3RvdHlwZSxLYi5wcm9wSG9va3M9e19kZWZhdWx0OntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIG51bGw9PWEuZWxlbVthLnByb3BdfHxhLmVsZW0uc3R5bGUmJm51bGwhPWEuZWxlbS5zdHlsZVthLnByb3BdPyhiPW4uY3NzKGEuZWxlbSxhLnByb3AsIiIpLGImJiJhdXRvIiE9PWI/YjowKTphLmVsZW1bYS5wcm9wXX0sc2V0OmZ1bmN0aW9uKGEpe24uZnguc3RlcFthLnByb3BdP24uZnguc3RlcFthLnByb3BdKGEpOmEuZWxlbS5zdHlsZSYmKG51bGwhPWEuZWxlbS5zdHlsZVtuLmNzc1Byb3BzW2EucHJvcF1dfHxuLmNzc0hvb2tzW2EucHJvcF0pP24uc3R5bGUoYS5lbGVtLGEucHJvcCxhLm5vdythLnVuaXQpOmEuZWxlbVthLnByb3BdPWEubm93fX19LEtiLnByb3BIb29rcy5zY3JvbGxUb3A9S2IucHJvcEhvb2tzLnNjcm9sbExlZnQ9e3NldDpmdW5jdGlvbihhKXthLmVsZW0ubm9kZVR5cGUmJmEuZWxlbS5wYXJlbnROb2RlJiYoYS5lbGVtW2EucHJvcF09YS5ub3cpfX0sbi5lYXNpbmc9e2xpbmVhcjpmdW5jdGlvbihhKXtyZXR1cm4gYX0sc3dpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuLjUtTWF0aC5jb3MoYSpNYXRoLlBJKS8yfX0sbi5meD1LYi5wcm90b3R5cGUuaW5pdCxuLmZ4LnN0ZXA9e307dmFyIExiLE1iLE5iPS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxPYj1uZXcgUmVnRXhwKCJeKD86KFsrLV0pPXwpKCIrUSsiKShbYS16JV0qKSQiLCJpIiksUGI9L3F1ZXVlSG9va3MkLyxRYj1bVmJdLFJiPXsiKiI6W2Z1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jcmVhdGVUd2VlbihhLGIpLGQ9Yy5jdXIoKSxlPU9iLmV4ZWMoYiksZj1lJiZlWzNdfHwobi5jc3NOdW1iZXJbYV0/IiI6InB4IiksZz0obi5jc3NOdW1iZXJbYV18fCJweCIhPT1mJiYrZCkmJk9iLmV4ZWMobi5jc3MoYy5lbGVtLGEpKSxoPTEsaT0yMDtpZihnJiZnWzNdIT09Zil7Zj1mfHxnWzNdLGU9ZXx8W10sZz0rZHx8MTtkbyBoPWh8fCIuNSIsZy89aCxuLnN0eWxlKGMuZWxlbSxhLGcrZik7d2hpbGUoaCE9PShoPWMuY3VyKCkvZCkmJjEhPT1oJiYtLWkpfXJldHVybiBlJiYoZz1jLnN0YXJ0PStnfHwrZHx8MCxjLnVuaXQ9ZixjLmVuZD1lWzFdP2crKGVbMV0rMSkqZVsyXTorZVsyXSksY31dfTtuLkFuaW1hdGlvbj1uLmV4dGVuZChYYix7dHdlZW5lcjpmdW5jdGlvbihhLGIpe24uaXNGdW5jdGlvbihhKT8oYj1hLGE9WyIqIl0pOmE9YS5zcGxpdCgiICIpO2Zvcih2YXIgYyxkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKWM9YVtkXSxSYltjXT1SYltjXXx8W10sUmJbY10udW5zaGlmdChiKX0scHJlZmlsdGVyOmZ1bmN0aW9uKGEsYil7Yj9RYi51bnNoaWZ0KGEpOlFiLnB1c2goYSl9fSksbi5zcGVlZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSYmIm9iamVjdCI9PXR5cGVvZiBhP24uZXh0ZW5kKHt9LGEpOntjb21wbGV0ZTpjfHwhYyYmYnx8bi5pc0Z1bmN0aW9uKGEpJiZhLGR1cmF0aW9uOmEsZWFzaW5nOmMmJmJ8fGImJiFuLmlzRnVuY3Rpb24oYikmJmJ9O3JldHVybiBkLmR1cmF0aW9uPW4uZngub2ZmPzA6Im51bWJlciI9PXR5cGVvZiBkLmR1cmF0aW9uP2QuZHVyYXRpb246ZC5kdXJhdGlvbiBpbiBuLmZ4LnNwZWVkcz9uLmZ4LnNwZWVkc1tkLmR1cmF0aW9uXTpuLmZ4LnNwZWVkcy5fZGVmYXVsdCwobnVsbD09ZC5xdWV1ZXx8ZC5xdWV1ZT09PSEwKSYmKGQucXVldWU9ImZ4IiksZC5vbGQ9ZC5jb21wbGV0ZSxkLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bi5pc0Z1bmN0aW9uKGQub2xkKSYmZC5vbGQuY2FsbCh0aGlzKSxkLnF1ZXVlJiZuLmRlcXVldWUodGhpcyxkLnF1ZXVlKX0sZH0sbi5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5maWx0ZXIoUykuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTpifSxhLGMsZCl9LGFuaW1hdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bi5pc0VtcHR5T2JqZWN0KGEpLGY9bi5zcGVlZChiLGMsZCksZz1mdW5jdGlvbigpe3ZhciBiPVhiKHRoaXMsbi5leHRlbmQoe30sYSksZik7KGV8fEwuZ2V0KHRoaXMsImZpbmlzaCIpKSYmYi5zdG9wKCEwKX07cmV0dXJuIGcuZmluaXNoPWcsZXx8Zi5xdWV1ZT09PSExP3RoaXMuZWFjaChnKTp0aGlzLnF1ZXVlKGYucXVldWUsZyl9LHN0b3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGEpe3ZhciBiPWEuc3RvcDtkZWxldGUgYS5zdG9wLGIoYyl9O3JldHVybiJzdHJpbmciIT10eXBlb2YgYSYmKGM9YixiPWEsYT12b2lkIDApLGImJmEhPT0hMSYmdGhpcy5xdWV1ZShhfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj0hMCxlPW51bGwhPWEmJmErInF1ZXVlSG9va3MiLGY9bi50aW1lcnMsZz1MLmdldCh0aGlzKTtpZihlKWdbZV0mJmdbZV0uc3RvcCYmZChnW2VdKTtlbHNlIGZvcihlIGluIGcpZ1tlXSYmZ1tlXS5zdG9wJiZQYi50ZXN0KGUpJiZkKGdbZV0pO2ZvcihlPWYubGVuZ3RoO2UtLTspZltlXS5lbGVtIT09dGhpc3x8bnVsbCE9YSYmZltlXS5xdWV1ZSE9PWF8fChmW2VdLmFuaW0uc3RvcChjKSxiPSExLGYuc3BsaWNlKGUsMSkpOyhifHwhYykmJm4uZGVxdWV1ZSh0aGlzLGEpfSl9LGZpbmlzaDpmdW5jdGlvbihhKXtyZXR1cm4gYSE9PSExJiYoYT1hfHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYixjPUwuZ2V0KHRoaXMpLGQ9Y1thKyJxdWV1ZSJdLGU9Y1thKyJxdWV1ZUhvb2tzIl0sZj1uLnRpbWVycyxnPWQ/ZC5sZW5ndGg6MDtmb3IoYy5maW5pc2g9ITAsbi5xdWV1ZSh0aGlzLGEsW10pLGUmJmUuc3RvcCYmZS5zdG9wLmNhbGwodGhpcywhMCksYj1mLmxlbmd0aDtiLS07KWZbYl0uZWxlbT09PXRoaXMmJmZbYl0ucXVldWU9PT1hJiYoZltiXS5hbmltLnN0b3AoITApLGYuc3BsaWNlKGIsMSkpO2ZvcihiPTA7Zz5iO2IrKylkW2JdJiZkW2JdLmZpbmlzaCYmZFtiXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgYy5maW5pc2h9KX19KSxuLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGEsYil7dmFyIGM9bi5mbltiXTsKbi5mbltiXT1mdW5jdGlvbihhLGQsZSl7cmV0dXJuIG51bGw9PWF8fCJib29sZWFuIj09dHlwZW9mIGE/Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKFRiKGIsITApLGEsZCxlKX19KSxuLmVhY2goe3NsaWRlRG93bjpUYigic2hvdyIpLHNsaWRlVXA6VGIoImhpZGUiKSxzbGlkZVRvZ2dsZTpUYigidG9nZ2xlIiksZmFkZUluOntvcGFjaXR5OiJzaG93In0sZmFkZU91dDp7b3BhY2l0eToiaGlkZSJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6InRvZ2dsZSJ9fSxmdW5jdGlvbihhLGIpe24uZm5bYV09ZnVuY3Rpb24oYSxjLGQpe3JldHVybiB0aGlzLmFuaW1hdGUoYixhLGMsZCl9fSksbi50aW1lcnM9W10sbi5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIGEsYj0wLGM9bi50aW1lcnM7Zm9yKExiPW4ubm93KCk7YjxjLmxlbmd0aDtiKyspYT1jW2JdLGEoKXx8Y1tiXSE9PWF8fGMuc3BsaWNlKGItLSwxKTtjLmxlbmd0aHx8bi5meC5zdG9wKCksTGI9dm9pZCAwfSxuLmZ4LnRpbWVyPWZ1bmN0aW9uKGEpe24udGltZXJzLnB1c2goYSksYSgpP24uZnguc3RhcnQoKTpuLnRpbWVycy5wb3AoKX0sbi5meC5pbnRlcnZhbD0xMyxuLmZ4LnN0YXJ0PWZ1bmN0aW9uKCl7TWJ8fChNYj1zZXRJbnRlcnZhbChuLmZ4LnRpY2ssbi5meC5pbnRlcnZhbCkpfSxuLmZ4LnN0b3A9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKE1iKSxNYj1udWxsfSxuLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxuLmZuLmRlbGF5PWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9bi5meD9uLmZ4LnNwZWVkc1thXXx8YTphLGI9Ynx8ImZ4Iix0aGlzLnF1ZXVlKGIsZnVuY3Rpb24oYixjKXt2YXIgZD1zZXRUaW1lb3V0KGIsYSk7Yy5zdG9wPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGQpfX0pfSxmdW5jdGlvbigpe3ZhciBhPWwuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxiPWwuY3JlYXRlRWxlbWVudCgic2VsZWN0IiksYz1iLmFwcGVuZENoaWxkKGwuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpO2EudHlwZT0iY2hlY2tib3giLGsuY2hlY2tPbj0iIiE9PWEudmFsdWUsay5vcHRTZWxlY3RlZD1jLnNlbGVjdGVkLGIuZGlzYWJsZWQ9ITAsay5vcHREaXNhYmxlZD0hYy5kaXNhYmxlZCxhPWwuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxhLnZhbHVlPSJ0IixhLnR5cGU9InJhZGlvIixrLnJhZGlvVmFsdWU9InQiPT09YS52YWx1ZX0oKTt2YXIgWWIsWmIsJGI9bi5leHByLmF0dHJIYW5kbGU7bi5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSih0aGlzLG4uYXR0cixhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5yZW1vdmVBdHRyKHRoaXMsYSl9KX19KSxuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWEubm9kZVR5cGU7cmV0dXJuIGEmJjMhPT1mJiY4IT09ZiYmMiE9PWY/dHlwZW9mIGEuZ2V0QXR0cmlidXRlPT09VT9uLnByb3AoYSxiLGMpOigxPT09ZiYmbi5pc1hNTERvYyhhKXx8KGI9Yi50b0xvd2VyQ2FzZSgpLGQ9bi5hdHRySG9va3NbYl18fChuLmV4cHIubWF0Y2guYm9vbC50ZXN0KGIpP1piOlliKSksdm9pZCAwPT09Yz9kJiYiZ2V0ImluIGQmJm51bGwhPT0oZT1kLmdldChhLGIpKT9lOihlPW4uZmluZC5hdHRyKGEsYiksbnVsbD09ZT92b2lkIDA6ZSk6bnVsbCE9PWM/ZCYmInNldCJpbiBkJiZ2b2lkIDAhPT0oZT1kLnNldChhLGMsYikpP2U6KGEuc2V0QXR0cmlidXRlKGIsYysiIiksYyk6dm9pZCBuLnJlbW92ZUF0dHIoYSxiKSk6dm9pZCAwfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPTAsZj1iJiZiLm1hdGNoKEUpO2lmKGYmJjE9PT1hLm5vZGVUeXBlKWZvcig7Yz1mW2UrK107KWQ9bi5wcm9wRml4W2NdfHxjLG4uZXhwci5tYXRjaC5ib29sLnRlc3QoYykmJihhW2RdPSExKSxhLnJlbW92ZUF0dHJpYnV0ZShjKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oYSxiKXtpZighay5yYWRpb1ZhbHVlJiYicmFkaW8iPT09YiYmbi5ub2RlTmFtZShhLCJpbnB1dCIpKXt2YXIgYz1hLnZhbHVlO3JldHVybiBhLnNldEF0dHJpYnV0ZSgidHlwZSIsYiksYyYmKGEudmFsdWU9YyksYn19fX19KSxaYj17c2V0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYj09PSExP24ucmVtb3ZlQXR0cihhLGMpOmEuc2V0QXR0cmlidXRlKGMsYyksY319LG4uZWFjaChuLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihhLGIpe3ZhciBjPSRiW2JdfHxuLmZpbmQuYXR0cjskYltiXT1mdW5jdGlvbihhLGIsZCl7dmFyIGUsZjtyZXR1cm4gZHx8KGY9JGJbYl0sJGJbYl09ZSxlPW51bGwhPWMoYSxiLGQpP2IudG9Mb3dlckNhc2UoKTpudWxsLCRiW2JdPWYpLGV9fSk7dmFyIF9iPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2k7bi5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSih0aGlzLG4ucHJvcCxhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbbi5wcm9wRml4W2FdfHxhXX0pfX0pLG4uZXh0ZW5kKHtwcm9wRml4OnsiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIn0scHJvcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGc9YS5ub2RlVHlwZTtyZXR1cm4gYSYmMyE9PWcmJjghPT1nJiYyIT09Zz8oZj0xIT09Z3x8IW4uaXNYTUxEb2MoYSksZiYmKGI9bi5wcm9wRml4W2JdfHxiLGU9bi5wcm9wSG9va3NbYl0pLHZvaWQgMCE9PWM/ZSYmInNldCJpbiBlJiZ2b2lkIDAhPT0oZD1lLnNldChhLGMsYikpP2Q6YVtiXT1jOmUmJiJnZXQiaW4gZSYmbnVsbCE9PShkPWUuZ2V0KGEsYikpP2Q6YVtiXSk6dm9pZCAwfSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuaGFzQXR0cmlidXRlKCJ0YWJpbmRleCIpfHxfYi50ZXN0KGEubm9kZU5hbWUpfHxhLmhyZWY/YS50YWJJbmRleDotMX19fX0pLGsub3B0U2VsZWN0ZWR8fChuLnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxudWxsfX0pLG4uZWFjaChbInRhYkluZGV4IiwicmVhZE9ubHkiLCJtYXhMZW5ndGgiLCJjZWxsU3BhY2luZyIsImNlbGxQYWRkaW5nIiwicm93U3BhbiIsImNvbFNwYW4iLCJ1c2VNYXAiLCJmcmFtZUJvcmRlciIsImNvbnRlbnRFZGl0YWJsZSJdLGZ1bmN0aW9uKCl7bi5wcm9wRml4W3RoaXMudG9Mb3dlckNhc2UoKV09dGhpc30pO3ZhciBhYz0vW1x0XHJcblxmXS9nO24uZm4uZXh0ZW5kKHthZGRDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaD0ic3RyaW5nIj09dHlwZW9mIGEmJmEsaT0wLGo9dGhpcy5sZW5ndGg7aWYobi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS5hZGRDbGFzcyhhLmNhbGwodGhpcyxiLHRoaXMuY2xhc3NOYW1lKSl9KTtpZihoKWZvcihiPShhfHwiIikubWF0Y2goRSl8fFtdO2o+aTtpKyspaWYoYz10aGlzW2ldLGQ9MT09PWMubm9kZVR5cGUmJihjLmNsYXNzTmFtZT8oIiAiK2MuY2xhc3NOYW1lKyIgIikucmVwbGFjZShhYywiICIpOiIgIikpe2ZvcihmPTA7ZT1iW2YrK107KWQuaW5kZXhPZigiICIrZSsiICIpPDAmJihkKz1lKyIgIik7Zz1uLnRyaW0oZCksYy5jbGFzc05hbWUhPT1nJiYoYy5jbGFzc05hbWU9Zyl9cmV0dXJuIHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoPTA9PT1hcmd1bWVudHMubGVuZ3RofHwic3RyaW5nIj09dHlwZW9mIGEmJmEsaT0wLGo9dGhpcy5sZW5ndGg7aWYobi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS5yZW1vdmVDbGFzcyhhLmNhbGwodGhpcyxiLHRoaXMuY2xhc3NOYW1lKSl9KTtpZihoKWZvcihiPShhfHwiIikubWF0Y2goRSl8fFtdO2o+aTtpKyspaWYoYz10aGlzW2ldLGQ9MT09PWMubm9kZVR5cGUmJihjLmNsYXNzTmFtZT8oIiAiK2MuY2xhc3NOYW1lKyIgIikucmVwbGFjZShhYywiICIpOiIiKSl7Zm9yKGY9MDtlPWJbZisrXTspZm9yKDtkLmluZGV4T2YoIiAiK2UrIiAiKT49MDspZD1kLnJlcGxhY2UoIiAiK2UrIiAiLCIgIik7Zz1hP24udHJpbShkKToiIixjLmNsYXNzTmFtZSE9PWcmJihjLmNsYXNzTmFtZT1nKX1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYTtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBiJiYic3RyaW5nIj09PWM/Yj90aGlzLmFkZENsYXNzKGEpOnRoaXMucmVtb3ZlQ2xhc3MoYSk6dGhpcy5lYWNoKG4uaXNGdW5jdGlvbihhKT9mdW5jdGlvbihjKXtuKHRoaXMpLnRvZ2dsZUNsYXNzKGEuY2FsbCh0aGlzLGMsdGhpcy5jbGFzc05hbWUsYiksYil9OmZ1bmN0aW9uKCl7aWYoInN0cmluZyI9PT1jKWZvcih2YXIgYixkPTAsZT1uKHRoaXMpLGY9YS5tYXRjaChFKXx8W107Yj1mW2QrK107KWUuaGFzQ2xhc3MoYik/ZS5yZW1vdmVDbGFzcyhiKTplLmFkZENsYXNzKGIpO2Vsc2UoYz09PVV8fCJib29sZWFuIj09PWMpJiYodGhpcy5jbGFzc05hbWUmJkwuc2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iLHRoaXMuY2xhc3NOYW1lKSx0aGlzLmNsYXNzTmFtZT10aGlzLmNsYXNzTmFtZXx8YT09PSExPyIiOkwuZ2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiIpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0iICIrYSsiICIsYz0wLGQ9dGhpcy5sZW5ndGg7ZD5jO2MrKylpZigxPT09dGhpc1tjXS5ub2RlVHlwZSYmKCIgIit0aGlzW2NdLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UoYWMsIiAiKS5pbmRleE9mKGIpPj0wKXJldHVybiEwO3JldHVybiExfX0pO3ZhciBiYz0vXHIvZztuLmZuLmV4dGVuZCh7dmFsOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlPXRoaXNbMF07cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGQ9bi5pc0Z1bmN0aW9uKGEpLHRoaXMuZWFjaChmdW5jdGlvbihjKXt2YXIgZTsxPT09dGhpcy5ub2RlVHlwZSYmKGU9ZD9hLmNhbGwodGhpcyxjLG4odGhpcykudmFsKCkpOmEsbnVsbD09ZT9lPSIiOiJudW1iZXIiPT10eXBlb2YgZT9lKz0iIjpuLmlzQXJyYXkoZSkmJihlPW4ubWFwKGUsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/IiI6YSsiIn0pKSxiPW4udmFsSG9va3NbdGhpcy50eXBlXXx8bi52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJiJzZXQiaW4gYiYmdm9pZCAwIT09Yi5zZXQodGhpcyxlLCJ2YWx1ZSIpfHwodGhpcy52YWx1ZT1lKSl9KSk6ZT8oYj1uLnZhbEhvb2tzW2UudHlwZV18fG4udmFsSG9va3NbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiYiZ2V0ImluIGImJnZvaWQgMCE9PShjPWIuZ2V0KGUsInZhbHVlIikpP2M6KGM9ZS52YWx1ZSwic3RyaW5nIj09dHlwZW9mIGM/Yy5yZXBsYWNlKGJjLCIiKTpudWxsPT1jPyIiOmMpKTp2b2lkIDB9fSksbi5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihhKXt2YXIgYj1uLmZpbmQuYXR0cihhLCJ2YWx1ZSIpO3JldHVybiBudWxsIT1iP2I6bi50cmltKG4udGV4dChhKSl9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkPWEub3B0aW9ucyxlPWEuc2VsZWN0ZWRJbmRleCxmPSJzZWxlY3Qtb25lIj09PWEudHlwZXx8MD5lLGc9Zj9udWxsOltdLGg9Zj9lKzE6ZC5sZW5ndGgsaT0wPmU/aDpmP2U6MDtoPmk7aSsrKWlmKGM9ZFtpXSwhKCFjLnNlbGVjdGVkJiZpIT09ZXx8KGsub3B0RGlzYWJsZWQ/Yy5kaXNhYmxlZDpudWxsIT09Yy5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIikpfHxjLnBhcmVudE5vZGUuZGlzYWJsZWQmJm4ubm9kZU5hbWUoYy5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7aWYoYj1uKGMpLnZhbCgpLGYpcmV0dXJuIGI7Zy5wdXNoKGIpfXJldHVybiBnfSxzZXQ6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZCxlPWEub3B0aW9ucyxmPW4ubWFrZUFycmF5KGIpLGc9ZS5sZW5ndGg7Zy0tOylkPWVbZ10sKGQuc2VsZWN0ZWQ9bi5pbkFycmF5KGQudmFsdWUsZik+PTApJiYoYz0hMCk7cmV0dXJuIGN8fChhLnNlbGVjdGVkSW5kZXg9LTEpLGZ9fX19KSxuLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtuLnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbi5pc0FycmF5KGIpP2EuY2hlY2tlZD1uLmluQXJyYXkobihhKS52YWwoKSxiKT49MDp2b2lkIDB9fSxrLmNoZWNrT258fChuLnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09PWEuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpPyJvbiI6YS52YWx1ZX0pfSksbi5lYWNoKCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgbG9hZCByZXNpemUgc2Nyb2xsIHVubG9hZCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yIGNvbnRleHRtZW51Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7bi5mbltiXT1mdW5jdGlvbihhLGMpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjA/dGhpcy5vbihiLG51bGwsYSxjKTp0aGlzLnRyaWdnZXIoYil9fSksbi5mbi5leHRlbmQoe2hvdmVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMubW91c2VlbnRlcihhKS5tb3VzZWxlYXZlKGJ8fGEpfSxiaW5kOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5vbihhLG51bGwsYixjKX0sdW5iaW5kOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub2ZmKGEsbnVsbCxiKX0sZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMub24oYixhLGMsZCl9LHVuZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLm9mZihhLCIqKiIpOnRoaXMub2ZmKGIsYXx8IioqIixjKX19KTt2YXIgY2M9bi5ub3coKSxkYz0vXD8vO24ucGFyc2VKU09OPWZ1bmN0aW9uKGEpe3JldHVybiBKU09OLnBhcnNlKGErIiIpfSxuLnBhcnNlWE1MPWZ1bmN0aW9uKGEpe3ZhciBiLGM7aWYoIWF8fCJzdHJpbmciIT10eXBlb2YgYSlyZXR1cm4gbnVsbDt0cnl7Yz1uZXcgRE9NUGFyc2VyLGI9Yy5wYXJzZUZyb21TdHJpbmcoYSwidGV4dC94bWwiKX1jYXRjaChkKXtiPXZvaWQgMH1yZXR1cm4oIWJ8fGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIikubGVuZ3RoKSYmbi5lcnJvcigiSW52YWxpZCBYTUw6ICIrYSksYn07dmFyIGVjLGZjLGdjPS8jLiokLyxoYz0vKFs/Jl0pXz1bXiZdKi8saWM9L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxqYz0vXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxrYz0vXig/OkdFVHxIRUFEKSQvLGxjPS9eXC9cLy8sbWM9L14oW1x3ListXSs6KSg/OlwvXC8oPzpbXlwvPyNdKkB8KShbXlwvPyM6XSopKD86OihcZCspfCl8KS8sbmM9e30sb2M9e30scGM9IiovIi5jb25jYXQoIioiKTt0cnl7ZmM9bG9jYXRpb24uaHJlZn1jYXRjaChxYyl7ZmM9bC5jcmVhdGVFbGVtZW50KCJhIiksZmMuaHJlZj0iIixmYz1mYy5ocmVmfWVjPW1jLmV4ZWMoZmMudG9Mb3dlckNhc2UoKSl8fFtdLG4uZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fSxhamF4U2V0dGluZ3M6e3VybDpmYyx0eXBlOiJHRVQiLGlzTG9jYWw6amMudGVzdChlY1sxXSksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLGFjY2VwdHM6eyIqIjpwYyx0ZXh0OiJ0ZXh0L3BsYWluIixodG1sOiJ0ZXh0L2h0bWwiLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0In0sY29udGVudHM6e3htbDoveG1sLyxodG1sOi9odG1sLyxqc29uOi9qc29uL30scmVzcG9uc2VGaWVsZHM6e3htbDoicmVzcG9uc2VYTUwiLHRleHQ6InJlc3BvbnNlVGV4dCIsanNvbjoicmVzcG9uc2VKU09OIn0sY29udmVydGVyczp7IiogdGV4dCI6U3RyaW5nLCJ0ZXh0IGh0bWwiOiEwLCJ0ZXh0IGpzb24iOm4ucGFyc2VKU09OLCJ0ZXh0IHhtbCI6bi5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/dGModGMoYSxuLmFqYXhTZXR0aW5ncyksYik6dGMobi5hamF4U2V0dGluZ3MsYSl9LGFqYXhQcmVmaWx0ZXI6cmMobmMpLGFqYXhUcmFuc3BvcnQ6cmMob2MpLGFqYXg6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiB4KGEsYixmLGgpe3ZhciBqLHIscyx1LHcseD1iOzIhPT10JiYodD0yLGcmJmNsZWFyVGltZW91dChnKSxjPXZvaWQgMCxlPWh8fCIiLHYucmVhZHlTdGF0ZT1hPjA/NDowLGo9YT49MjAwJiYzMDA+YXx8MzA0PT09YSxmJiYodT11YyhrLHYsZikpLHU9dmMoayx1LHYsaiksaj8oay5pZk1vZGlmaWVkJiYodz12LmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIiksdyYmKG4ubGFzdE1vZGlmaWVkW2RdPXcpLHc9di5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpLHcmJihuLmV0YWdbZF09dykpLDIwND09PWF8fCJIRUFEIj09PWsudHlwZT94PSJub2NvbnRlbnQiOjMwND09PWE/eD0ibm90bW9kaWZpZWQiOih4PXUuc3RhdGUscj11LmRhdGEscz11LmVycm9yLGo9IXMpKToocz14LChhfHwheCkmJih4PSJlcnJvciIsMD5hJiYoYT0wKSkpLHYuc3RhdHVzPWEsdi5zdGF0dXNUZXh0PShifHx4KSsiIixqP28ucmVzb2x2ZVdpdGgobCxbcix4LHZdKTpvLnJlamVjdFdpdGgobCxbdix4LHNdKSx2LnN0YXR1c0NvZGUocSkscT12b2lkIDAsaSYmbS50cmlnZ2VyKGo/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbdixrLGo/cjpzXSkscC5maXJlV2l0aChsLFt2LHhdKSxpJiYobS50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFt2LGtdKSwtLW4uYWN0aXZlfHxuLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX0ib2JqZWN0Ij09dHlwZW9mIGEmJihiPWEsYT12b2lkIDApLGI9Ynx8e307dmFyIGMsZCxlLGYsZyxoLGksaixrPW4uYWpheFNldHVwKHt9LGIpLGw9ay5jb250ZXh0fHxrLG09ay5jb250ZXh0JiYobC5ub2RlVHlwZXx8bC5qcXVlcnkpP24obCk6bi5ldmVudCxvPW4uRGVmZXJyZWQoKSxwPW4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLHE9ay5zdGF0dXNDb2RlfHx7fSxyPXt9LHM9e30sdD0wLHU9ImNhbmNlbGVkIix2PXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoMj09PXQpe2lmKCFmKWZvcihmPXt9O2I9aWMuZXhlYyhlKTspZltiWzFdLnRvTG93ZXJDYXNlKCldPWJbMl07Yj1mW2EudG9Mb3dlckNhc2UoKV19cmV0dXJuIG51bGw9PWI/bnVsbDpifSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gMj09PXQ/ZTpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS50b0xvd2VyQ2FzZSgpO3JldHVybiB0fHwoYT1zW2NdPXNbY118fGEsclthXT1iKSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGEpe3JldHVybiB0fHwoay5taW1lVHlwZT1hKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKGEpaWYoMj50KWZvcihiIGluIGEpcVtiXT1bcVtiXSxhW2JdXTtlbHNlIHYuYWx3YXlzKGFbdi5zdGF0dXNdKTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YXx8dTtyZXR1cm4gYyYmYy5hYm9ydChiKSx4KDAsYiksdGhpc319O2lmKG8ucHJvbWlzZSh2KS5jb21wbGV0ZT1wLmFkZCx2LnN1Y2Nlc3M9di5kb25lLHYuZXJyb3I9di5mYWlsLGsudXJsPSgoYXx8ay51cmx8fGZjKSsiIikucmVwbGFjZShnYywiIikucmVwbGFjZShsYyxlY1sxXSsiLy8iKSxrLnR5cGU9Yi5tZXRob2R8fGIudHlwZXx8ay5tZXRob2R8fGsudHlwZSxrLmRhdGFUeXBlcz1uLnRyaW0oay5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKEUpfHxbIiJdLG51bGw9PWsuY3Jvc3NEb21haW4mJihoPW1jLmV4ZWMoay51cmwudG9Mb3dlckNhc2UoKSksay5jcm9zc0RvbWFpbj0hKCFofHxoWzFdPT09ZWNbMV0mJmhbMl09PT1lY1syXSYmKGhbM118fCgiaHR0cDoiPT09aFsxXT8iODAiOiI0NDMiKSk9PT0oZWNbM118fCgiaHR0cDoiPT09ZWNbMV0/IjgwIjoiNDQzIikpKSksay5kYXRhJiZrLnByb2Nlc3NEYXRhJiYic3RyaW5nIiE9dHlwZW9mIGsuZGF0YSYmKGsuZGF0YT1uLnBhcmFtKGsuZGF0YSxrLnRyYWRpdGlvbmFsKSksc2MobmMsayxiLHYpLDI9PT10KXJldHVybiB2O2k9ay5nbG9iYWwsaSYmMD09PW4uYWN0aXZlKysmJm4uZXZlbnQudHJpZ2dlcigiYWpheFN0YXJ0Iiksay50eXBlPWsudHlwZS50b1VwcGVyQ2FzZSgpLGsuaGFzQ29udGVudD0ha2MudGVzdChrLnR5cGUpLGQ9ay51cmwsay5oYXNDb250ZW50fHwoay5kYXRhJiYoZD1rLnVybCs9KGRjLnRlc3QoZCk/IiYiOiI/Iikray5kYXRhLGRlbGV0ZSBrLmRhdGEpLGsuY2FjaGU9PT0hMSYmKGsudXJsPWhjLnRlc3QoZCk/ZC5yZXBsYWNlKGhjLCIkMV89IitjYysrKTpkKyhkYy50ZXN0KGQpPyImIjoiPyIpKyJfPSIrY2MrKykpLGsuaWZNb2RpZmllZCYmKG4ubGFzdE1vZGlmaWVkW2RdJiZ2LnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixuLmxhc3RNb2RpZmllZFtkXSksbi5ldGFnW2RdJiZ2LnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLG4uZXRhZ1tkXSkpLChrLmRhdGEmJmsuaGFzQ29udGVudCYmay5jb250ZW50VHlwZSE9PSExfHxiLmNvbnRlbnRUeXBlKSYmdi5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLGsuY29udGVudFR5cGUpLHYuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IixrLmRhdGFUeXBlc1swXSYmay5hY2NlcHRzW2suZGF0YVR5cGVzWzBdXT9rLmFjY2VwdHNbay5kYXRhVHlwZXNbMF1dKygiKiIhPT1rLmRhdGFUeXBlc1swXT8iLCAiK3BjKyI7IHE9MC4wMSI6IiIpOmsuYWNjZXB0c1siKiJdKTtmb3IoaiBpbiBrLmhlYWRlcnMpdi5zZXRSZXF1ZXN0SGVhZGVyKGosay5oZWFkZXJzW2pdKTtpZihrLmJlZm9yZVNlbmQmJihrLmJlZm9yZVNlbmQuY2FsbChsLHYsayk9PT0hMXx8Mj09PXQpKXJldHVybiB2LmFib3J0KCk7dT0iYWJvcnQiO2ZvcihqIGlue3N1Y2Nlc3M6MSxlcnJvcjoxLGNvbXBsZXRlOjF9KXZbal0oa1tqXSk7aWYoYz1zYyhvYyxrLGIsdikpe3YucmVhZHlTdGF0ZT0xLGkmJm0udHJpZ2dlcigiYWpheFNlbmQiLFt2LGtdKSxrLmFzeW5jJiZrLnRpbWVvdXQ+MCYmKGc9c2V0VGltZW91dChmdW5jdGlvbigpe3YuYWJvcnQoInRpbWVvdXQiKX0say50aW1lb3V0KSk7dHJ5e3Q9MSxjLnNlbmQocix4KX1jYXRjaCh3KXtpZighKDI+dCkpdGhyb3cgdzt4KC0xLHcpfX1lbHNlIHgoLTEsIk5vIFRyYW5zcG9ydCIpO3JldHVybiB2fSxnZXRKU09OOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbi5nZXQoYSxiLGMsImpzb24iKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG4uZ2V0KGEsdm9pZCAwLGIsInNjcmlwdCIpfX0pLG4uZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihhLGIpe25bYl09ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIG4uaXNGdW5jdGlvbihjKSYmKGU9ZXx8ZCxkPWMsYz12b2lkIDApLG4uYWpheCh7dXJsOmEsdHlwZTpiLGRhdGFUeXBlOmUsZGF0YTpjLHN1Y2Nlc3M6ZH0pfX0pLG4uZWFjaChbImFqYXhTdGFydCIsImFqYXhTdG9wIiwiYWpheENvbXBsZXRlIiwiYWpheEVycm9yIiwiYWpheFN1Y2Nlc3MiLCJhamF4U2VuZCJdLGZ1bmN0aW9uKGEsYil7bi5mbltiXT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vbihiLGEpfX0pLG4uX2V2YWxVcmw9ZnVuY3Rpb24oYSl7cmV0dXJuIG4uYWpheCh7dXJsOmEsdHlwZToiR0VUIixkYXRhVHlwZToic2NyaXB0Iixhc3luYzohMSxnbG9iYWw6ITEsInRocm93cyI6ITB9KX0sbi5mbi5leHRlbmQoe3dyYXBBbGw6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIG4uaXNGdW5jdGlvbihhKT90aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS53cmFwQWxsKGEuY2FsbCh0aGlzLGIpKX0pOih0aGlzWzBdJiYoYj1uKGEsdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCksdGhpc1swXS5wYXJlbnROb2RlJiZiLmluc2VydEJlZm9yZSh0aGlzWzBdKSxiLm1hcChmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzO2EuZmlyc3RFbGVtZW50Q2hpbGQ7KWE9YS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gYX0pLmFwcGVuZCh0aGlzKSksdGhpcyl9LHdyYXBJbm5lcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKG4uaXNGdW5jdGlvbihhKT9mdW5jdGlvbihiKXtuKHRoaXMpLndyYXBJbm5lcihhLmNhbGwodGhpcyxiKSl9OmZ1bmN0aW9uKCl7dmFyIGI9bih0aGlzKSxjPWIuY29udGVudHMoKTtjLmxlbmd0aD9jLndyYXBBbGwoYSk6Yi5hcHBlbmQoYSl9KX0sd3JhcDpmdW5jdGlvbihhKXt2YXIgYj1uLmlzRnVuY3Rpb24oYSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihjKXtuKHRoaXMpLndyYXBBbGwoYj9hLmNhbGwodGhpcyxjKTphKX0pfSx1bndyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQoKS5lYWNoKGZ1bmN0aW9uKCl7bi5ub2RlTmFtZSh0aGlzLCJib2R5Iil8fG4odGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLmVuZCgpfX0pLG4uZXhwci5maWx0ZXJzLmhpZGRlbj1mdW5jdGlvbihhKXtyZXR1cm4gYS5vZmZzZXRXaWR0aDw9MCYmYS5vZmZzZXRIZWlnaHQ8PTB9LG4uZXhwci5maWx0ZXJzLnZpc2libGU9ZnVuY3Rpb24oYSl7cmV0dXJuIW4uZXhwci5maWx0ZXJzLmhpZGRlbihhKX07dmFyIHdjPS8lMjAvZyx4Yz0vXFtcXSQvLHljPS9ccj9cbi9nLHpjPS9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxBYz0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7bi5wYXJhbT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT1mdW5jdGlvbihhLGIpe2I9bi5pc0Z1bmN0aW9uKGIpP2IoKTpudWxsPT1iPyIiOmIsZFtkLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGEpKyI9IitlbmNvZGVVUklDb21wb25lbnQoYil9O2lmKHZvaWQgMD09PWImJihiPW4uYWpheFNldHRpbmdzJiZuLmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCksbi5pc0FycmF5KGEpfHxhLmpxdWVyeSYmIW4uaXNQbGFpbk9iamVjdChhKSluLmVhY2goYSxmdW5jdGlvbigpe2UodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IoYyBpbiBhKUJjKGMsYVtjXSxiLGUpO3JldHVybiBkLmpvaW4oIiYiKS5yZXBsYWNlKHdjLCIrIil9LG4uZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPW4ucHJvcCh0aGlzLCJlbGVtZW50cyIpO3JldHVybiBhP24ubWFrZUFycmF5KGEpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgYT10aGlzLnR5cGU7cmV0dXJuIHRoaXMubmFtZSYmIW4odGhpcykuaXMoIjpkaXNhYmxlZCIpJiZBYy50ZXN0KHRoaXMubm9kZU5hbWUpJiYhemMudGVzdChhKSYmKHRoaXMuY2hlY2tlZHx8IVQudGVzdChhKSl9KS5tYXAoZnVuY3Rpb24oYSxiKXt2YXIgYz1uKHRoaXMpLnZhbCgpO3JldHVybiBudWxsPT1jP251bGw6bi5pc0FycmF5KGMpP24ubWFwKGMsZnVuY3Rpb24oYSl7cmV0dXJue25hbWU6Yi5uYW1lLHZhbHVlOmEucmVwbGFjZSh5YywiXHJcbiIpfX0pOntuYW1lOmIubmFtZSx2YWx1ZTpjLnJlcGxhY2UoeWMsIlxyXG4iKX19KS5nZXQoKX19KSxuLmFqYXhTZXR0aW5ncy54aHI9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdH1jYXRjaChhKXt9fTt2YXIgQ2M9MCxEYz17fSxFYz17MDoyMDAsMTIyMzoyMDR9LEZjPW4uYWpheFNldHRpbmdzLnhocigpO2EuQWN0aXZlWE9iamVjdCYmbihhKS5vbigidW5sb2FkIixmdW5jdGlvbigpe2Zvcih2YXIgYSBpbiBEYylEY1thXSgpfSksay5jb3JzPSEhRmMmJiJ3aXRoQ3JlZGVudGlhbHMiaW4gRmMsay5hamF4PUZjPSEhRmMsbi5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiBrLmNvcnN8fEZjJiYhYS5jcm9zc0RvbWFpbj97c2VuZDpmdW5jdGlvbihjLGQpe3ZhciBlLGY9YS54aHIoKSxnPSsrQ2M7aWYoZi5vcGVuKGEudHlwZSxhLnVybCxhLmFzeW5jLGEudXNlcm5hbWUsYS5wYXNzd29yZCksYS54aHJGaWVsZHMpZm9yKGUgaW4gYS54aHJGaWVsZHMpZltlXT1hLnhockZpZWxkc1tlXTthLm1pbWVUeXBlJiZmLm92ZXJyaWRlTWltZVR5cGUmJmYub3ZlcnJpZGVNaW1lVHlwZShhLm1pbWVUeXBlKSxhLmNyb3NzRG9tYWlufHxjWyJYLVJlcXVlc3RlZC1XaXRoIl18fChjWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0Iik7Zm9yKGUgaW4gYylmLnNldFJlcXVlc3RIZWFkZXIoZSxjW2VdKTtiPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe2ImJihkZWxldGUgRGNbZ10sYj1mLm9ubG9hZD1mLm9uZXJyb3I9bnVsbCwiYWJvcnQiPT09YT9mLmFib3J0KCk6ImVycm9yIj09PWE/ZChmLnN0YXR1cyxmLnN0YXR1c1RleHQpOmQoRWNbZi5zdGF0dXNdfHxmLnN0YXR1cyxmLnN0YXR1c1RleHQsInN0cmluZyI9PXR5cGVvZiBmLnJlc3BvbnNlVGV4dD97dGV4dDpmLnJlc3BvbnNlVGV4dH06dm9pZCAwLGYuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKX19LGYub25sb2FkPWIoKSxmLm9uZXJyb3I9YigiZXJyb3IiKSxiPURjW2ddPWIoImFib3J0Iik7dHJ5e2Yuc2VuZChhLmhhc0NvbnRlbnQmJmEuZGF0YXx8bnVsbCl9Y2F0Y2goaCl7aWYoYil0aHJvdyBofX0sYWJvcnQ6ZnVuY3Rpb24oKXtiJiZiKCl9fTp2b2lkIDB9KSxuLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6Lyg/OmphdmF8ZWNtYSlzY3JpcHQvfSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKGEpe3JldHVybiBuLmdsb2JhbEV2YWwoYSksYX19fSksbi5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEuY2FjaGUmJihhLmNhY2hlPSExKSxhLmNyb3NzRG9tYWluJiYoYS50eXBlPSJHRVQiKX0pLG4uYWpheFRyYW5zcG9ydCgic2NyaXB0IixmdW5jdGlvbihhKXtpZihhLmNyb3NzRG9tYWluKXt2YXIgYixjO3JldHVybntzZW5kOmZ1bmN0aW9uKGQsZSl7Yj1uKCI8c2NyaXB0PiIpLnByb3Aoe2FzeW5jOiEwLGNoYXJzZXQ6YS5zY3JpcHRDaGFyc2V0LHNyYzphLnVybH0pLm9uKCJsb2FkIGVycm9yIixjPWZ1bmN0aW9uKGEpe2IucmVtb3ZlKCksYz1udWxsLGEmJmUoImVycm9yIj09PWEudHlwZT80MDQ6MjAwLGEudHlwZSl9KSxsLmhlYWQuYXBwZW5kQ2hpbGQoYlswXSl9LGFib3J0OmZ1bmN0aW9uKCl7YyYmYygpfX19fSk7dmFyIEdjPVtdLEhjPS8oPSlcPyg/PSZ8JCl8XD9cPy87bi5hamF4U2V0dXAoe2pzb25wOiJjYWxsYmFjayIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3ZhciBhPUdjLnBvcCgpfHxuLmV4cGFuZG8rIl8iK2NjKys7cmV0dXJuIHRoaXNbYV09ITAsYX19KSxuLmFqYXhQcmVmaWx0ZXIoImpzb24ganNvbnAiLGZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmLGcsaD1iLmpzb25wIT09ITEmJihIYy50ZXN0KGIudXJsKT8idXJsIjoic3RyaW5nIj09dHlwZW9mIGIuZGF0YSYmIShiLmNvbnRlbnRUeXBlfHwiIikuaW5kZXhPZigiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIikmJkhjLnRlc3QoYi5kYXRhKSYmImRhdGEiKTtyZXR1cm4gaHx8Impzb25wIj09PWIuZGF0YVR5cGVzWzBdPyhlPWIuanNvbnBDYWxsYmFjaz1uLmlzRnVuY3Rpb24oYi5qc29ucENhbGxiYWNrKT9iLmpzb25wQ2FsbGJhY2soKTpiLmpzb25wQ2FsbGJhY2ssaD9iW2hdPWJbaF0ucmVwbGFjZShIYywiJDEiK2UpOmIuanNvbnAhPT0hMSYmKGIudXJsKz0oZGMudGVzdChiLnVybCk/IiYiOiI/IikrYi5qc29ucCsiPSIrZSksYi5jb252ZXJ0ZXJzWyJzY3JpcHQganNvbiJdPWZ1bmN0aW9uKCl7cmV0dXJuIGd8fG4uZXJyb3IoZSsiIHdhcyBub3QgY2FsbGVkIiksZ1swXX0sYi5kYXRhVHlwZXNbMF09Impzb24iLGY9YVtlXSxhW2VdPWZ1bmN0aW9uKCl7Zz1hcmd1bWVudHN9LGQuYWx3YXlzKGZ1bmN0aW9uKCl7YVtlXT1mLGJbZV0mJihiLmpzb25wQ2FsbGJhY2s9Yy5qc29ucENhbGxiYWNrLEdjLnB1c2goZSkpLGcmJm4uaXNGdW5jdGlvbihmKSYmZihnWzBdKSxnPWY9dm9pZCAwfSksInNjcmlwdCIpOnZvaWQgMH0pLG4ucGFyc2VIVE1MPWZ1bmN0aW9uKGEsYixjKXtpZighYXx8InN0cmluZyIhPXR5cGVvZiBhKXJldHVybiBudWxsOyJib29sZWFuIj09dHlwZW9mIGImJihjPWIsYj0hMSksYj1ifHxsO3ZhciBkPXYuZXhlYyhhKSxlPSFjJiZbXTtyZXR1cm4gZD9bYi5jcmVhdGVFbGVtZW50KGRbMV0pXTooZD1uLmJ1aWxkRnJhZ21lbnQoW2FdLGIsZSksZSYmZS5sZW5ndGgmJm4oZSkucmVtb3ZlKCksbi5tZXJnZShbXSxkLmNoaWxkTm9kZXMpKX07dmFyIEljPW4uZm4ubG9hZDtuLmZuLmxvYWQ9ZnVuY3Rpb24oYSxiLGMpe2lmKCJzdHJpbmciIT10eXBlb2YgYSYmSWMpcmV0dXJuIEljLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZCxlLGYsZz10aGlzLGg9YS5pbmRleE9mKCIgIik7cmV0dXJuIGg+PTAmJihkPW4udHJpbShhLnNsaWNlKGgpKSxhPWEuc2xpY2UoMCxoKSksbi5pc0Z1bmN0aW9uKGIpPyhjPWIsYj12b2lkIDApOmImJiJvYmplY3QiPT10eXBlb2YgYiYmKGU9IlBPU1QiKSxnLmxlbmd0aD4wJiZuLmFqYXgoe3VybDphLHR5cGU6ZSxkYXRhVHlwZToiaHRtbCIsZGF0YTpifSkuZG9uZShmdW5jdGlvbihhKXtmPWFyZ3VtZW50cyxnLmh0bWwoZD9uKCI8ZGl2PiIpLmFwcGVuZChuLnBhcnNlSFRNTChhKSkuZmluZChkKTphKX0pLmNvbXBsZXRlKGMmJmZ1bmN0aW9uKGEsYil7Zy5lYWNoKGMsZnx8W2EucmVzcG9uc2VUZXh0LGIsYV0pfSksdGhpc30sbi5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZ3JlcChuLnRpbWVycyxmdW5jdGlvbihiKXtyZXR1cm4gYT09PWIuZWxlbX0pLmxlbmd0aH07dmFyIEpjPWEuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O24ub2Zmc2V0PXtzZXRPZmZzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGs9bi5jc3MoYSwicG9zaXRpb24iKSxsPW4oYSksbT17fTsic3RhdGljIj09PWsmJihhLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIpLGg9bC5vZmZzZXQoKSxmPW4uY3NzKGEsInRvcCIpLGk9bi5jc3MoYSwibGVmdCIpLGo9KCJhYnNvbHV0ZSI9PT1rfHwiZml4ZWQiPT09aykmJihmK2kpLmluZGV4T2YoImF1dG8iKT4tMSxqPyhkPWwucG9zaXRpb24oKSxnPWQudG9wLGU9ZC5sZWZ0KTooZz1wYXJzZUZsb2F0KGYpfHwwLGU9cGFyc2VGbG9hdChpKXx8MCksbi5pc0Z1bmN0aW9uKGIpJiYoYj1iLmNhbGwoYSxjLGgpKSxudWxsIT1iLnRvcCYmKG0udG9wPWIudG9wLWgudG9wK2cpLG51bGwhPWIubGVmdCYmKG0ubGVmdD1iLmxlZnQtaC5sZWZ0K2UpLCJ1c2luZyJpbiBiP2IudXNpbmcuY2FsbChhLG0pOmwuY3NzKG0pfX0sbi5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbihhKXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT1hP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24ub2Zmc2V0LnNldE9mZnNldCh0aGlzLGEsYil9KTt2YXIgYixjLGQ9dGhpc1swXSxlPXt0b3A6MCxsZWZ0OjB9LGY9ZCYmZC5vd25lckRvY3VtZW50O3JldHVybiBmPyhiPWYuZG9jdW1lbnRFbGVtZW50LG4uY29udGFpbnMoYixkKT8odHlwZW9mIGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0IT09VSYmKGU9ZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksYz1LYyhmKSx7dG9wOmUudG9wK2MucGFnZVlPZmZzZXQtYi5jbGllbnRUb3AsbGVmdDplLmxlZnQrYy5wYWdlWE9mZnNldC1iLmNsaWVudExlZnR9KTplKTp2b2lkIDB9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGEsYixjPXRoaXNbMF0sZD17dG9wOjAsbGVmdDowfTtyZXR1cm4iZml4ZWQiPT09bi5jc3MoYywicG9zaXRpb24iKT9iPWMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6KGE9dGhpcy5vZmZzZXRQYXJlbnQoKSxiPXRoaXMub2Zmc2V0KCksbi5ub2RlTmFtZShhWzBdLCJodG1sIil8fChkPWEub2Zmc2V0KCkpLGQudG9wKz1uLmNzcyhhWzBdLCJib3JkZXJUb3BXaWR0aCIsITApLGQubGVmdCs9bi5jc3MoYVswXSwiYm9yZGVyTGVmdFdpZHRoIiwhMCkpLHt0b3A6Yi50b3AtZC50b3Atbi5jc3MoYywibWFyZ2luVG9wIiwhMCksbGVmdDpiLmxlZnQtZC5sZWZ0LW4uY3NzKGMsIm1hcmdpbkxlZnQiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5vZmZzZXRQYXJlbnR8fEpjO2EmJiFuLm5vZGVOYW1lKGEsImh0bWwiKSYmInN0YXRpYyI9PT1uLmNzcyhhLCJwb3NpdGlvbiIpOylhPWEub2Zmc2V0UGFyZW50O3JldHVybiBhfHxKY30pfX0pLG4uZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihiLGMpe3ZhciBkPSJwYWdlWU9mZnNldCI9PT1jO24uZm5bYl09ZnVuY3Rpb24oZSl7cmV0dXJuIEoodGhpcyxmdW5jdGlvbihiLGUsZil7dmFyIGc9S2MoYik7cmV0dXJuIHZvaWQgMD09PWY/Zz9nW2NdOmJbZV06dm9pZChnP2cuc2Nyb2xsVG8oZD9hLnBhZ2VYT2Zmc2V0OmYsZD9mOmEucGFnZVlPZmZzZXQpOmJbZV09Zil9LGIsZSxhcmd1bWVudHMubGVuZ3RoLG51bGwpfX0pLG4uZWFjaChbInRvcCIsImxlZnQiXSxmdW5jdGlvbihhLGIpe24uY3NzSG9va3NbYl09eWIoay5waXhlbFBvc2l0aW9uLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGM/KGM9eGIoYSxiKSx2Yi50ZXN0KGMpP24oYSkucG9zaXRpb24oKVtiXSsicHgiOmMpOnZvaWQgMH0pfSksbi5lYWNoKHtIZWlnaHQ6ImhlaWdodCIsV2lkdGg6IndpZHRoIn0sZnVuY3Rpb24oYSxiKXtuLmVhY2goe3BhZGRpbmc6ImlubmVyIithLGNvbnRlbnQ6YiwiIjoib3V0ZXIiK2F9LGZ1bmN0aW9uKGMsZCl7bi5mbltkXT1mdW5jdGlvbihkLGUpe3ZhciBmPWFyZ3VtZW50cy5sZW5ndGgmJihjfHwiYm9vbGVhbiIhPXR5cGVvZiBkKSxnPWN8fChkPT09ITB8fGU9PT0hMD8ibWFyZ2luIjoiYm9yZGVyIik7cmV0dXJuIEoodGhpcyxmdW5jdGlvbihiLGMsZCl7dmFyIGU7cmV0dXJuIG4uaXNXaW5kb3coYik/Yi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrYV06OT09PWIubm9kZVR5cGU/KGU9Yi5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgoYi5ib2R5WyJzY3JvbGwiK2FdLGVbInNjcm9sbCIrYV0sYi5ib2R5WyJvZmZzZXQiK2FdLGVbIm9mZnNldCIrYV0sZVsiY2xpZW50IithXSkpOnZvaWQgMD09PWQ/bi5jc3MoYixjLGcpOm4uc3R5bGUoYixjLGQsZyl9LGIsZj9kOnZvaWQgMCxmLG51bGwpfX0pfSksbi5mbi5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RofSxuLmZuLmFuZFNlbGY9bi5mbi5hZGRCYWNrLCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZSgianF1ZXJ5IixbXSxmdW5jdGlvbigpe3JldHVybiBufSk7dmFyIExjPWEualF1ZXJ5LE1jPWEuJDtyZXR1cm4gbi5ub0NvbmZsaWN0PWZ1bmN0aW9uKGIpe3JldHVybiBhLiQ9PT1uJiYoYS4kPU1jKSxiJiZhLmpRdWVyeT09PW4mJihhLmpRdWVyeT1MYyksbn0sdHlwZW9mIGI9PT1VJiYoYS5qUXVlcnk9YS4kPW4pLG59KSxmdW5jdGlvbigpe2Z1bmN0aW9uIG8oZSl7dmFyIGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcigiIixlLHQpfSxzPXQ7ZSYmKHRbZV18fCh0W2VdPXt9KSxzPXRbZV0pLHMuZGVmaW5lJiZzLmRlZmluZS5wYWNrYWdlZHx8KG4ub3JpZ2luYWw9cy5kZWZpbmUscy5kZWZpbmU9bixzLmRlZmluZS5wYWNrYWdlZD0hMCkscy5yZXF1aXJlJiZzLnJlcXVpcmUucGFja2FnZWR8fChyLm9yaWdpbmFsPXMucmVxdWlyZSxzLnJlcXVpcmU9aSxzLnJlcXVpcmUucGFja2FnZWQ9ITApfXZhciBlPSIiLHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTtpZihlfHwidW5kZWZpbmVkIj09dHlwZW9mIHJlcXVpcmVqcyl7dmFyIG49ZnVuY3Rpb24oZSx0LHIpe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT92b2lkKG4ub3JpZ2luYWw/bi5vcmlnaW5hbC5hcHBseSh3aW5kb3csYXJndW1lbnRzKTooY29uc29sZS5lcnJvcigiZHJvcHBpbmcgbW9kdWxlIGJlY2F1c2UgZGVmaW5lIHdhc24ndCBhIHN0cmluZy4iKSxjb25zb2xlLnRyYWNlKCkpKTooMj09YXJndW1lbnRzLmxlbmd0aCYmKHI9dCksbi5tb2R1bGVzfHwobi5tb2R1bGVzPXt9LG4ucGF5bG9hZHM9e30pLG4ucGF5bG9hZHNbZV09cixuLm1vZHVsZXNbZV09bnVsbCx2b2lkIDApfSxyPWZ1bmN0aW9uKGUsdCxuKXtpZigiW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXtmb3IodmFyIGk9W10sbz0wLHU9dC5sZW5ndGg7dT5vOysrbyl7dmFyIGE9cyhlLHRbb10pO2lmKCFhJiZyLm9yaWdpbmFsKXJldHVybiByLm9yaWdpbmFsLmFwcGx5KHdpbmRvdyxhcmd1bWVudHMpO2kucHVzaChhKX1uJiZuLmFwcGx5KG51bGwsaSl9ZWxzZXtpZigic3RyaW5nIj09dHlwZW9mIHQpe3ZhciBmPXMoZSx0KTtyZXR1cm4hZiYmci5vcmlnaW5hbD9yLm9yaWdpbmFsLmFwcGx5KHdpbmRvdyxhcmd1bWVudHMpOihuJiZuKCksZil9aWYoci5vcmlnaW5hbClyZXR1cm4gci5vcmlnaW5hbC5hcHBseSh3aW5kb3csYXJndW1lbnRzKX19LGk9ZnVuY3Rpb24oZSx0KXtpZigtMSE9PXQuaW5kZXhPZigiISIpKXt2YXIgbj10LnNwbGl0KCIhIik7cmV0dXJuIGkoZSxuWzBdKSsiISIraShlLG5bMV0pfWlmKCIuIj09dC5jaGFyQXQoMCkpe3ZhciByPWUuc3BsaXQoIi8iKS5zbGljZSgwLC0xKS5qb2luKCIvIik7Zm9yKHQ9cisiLyIrdDstMSE9PXQuaW5kZXhPZigiLiIpJiZzIT10Oyl7dmFyIHM9dDt0PXQucmVwbGFjZSgvXC9cLlwvLywiLyIpLnJlcGxhY2UoL1teXC9dK1wvXC5cLlwvLywiIil9fXJldHVybiB0fSxzPWZ1bmN0aW9uKGUsdCl7dD1pKGUsdCk7dmFyIHM9bi5tb2R1bGVzW3RdO2lmKCFzKXtpZihzPW4ucGF5bG9hZHNbdF0sImZ1bmN0aW9uIj09dHlwZW9mIHMpe3ZhciBvPXt9LHU9e2lkOnQsdXJpOiIiLGV4cG9ydHM6byxwYWNrYWdlZDohMH0sYT1mdW5jdGlvbihlLG4pe3JldHVybiByKHQsZSxuKX0sZj1zKGEsbyx1KTtvPWZ8fHUuZXhwb3J0cyxuLm1vZHVsZXNbdF09byxkZWxldGUgbi5wYXlsb2Fkc1t0XX1zPW4ubW9kdWxlc1t0XT1vfHxzfXJldHVybiBzfTtvKGUpfX0oKSxkZWZpbmUoImFjZS9hY2UiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL2ZpeG9sZGJyb3dzZXJzIiwiYWNlL2xpYi9kb20iLCJhY2UvbGliL2V2ZW50IiwiYWNlL2VkaXRvciIsImFjZS9lZGl0X3Nlc3Npb24iLCJhY2UvdW5kb21hbmFnZXIiLCJhY2UvdmlydHVhbF9yZW5kZXJlciIsImFjZS9tdWx0aV9zZWxlY3QiLCJhY2Uvd29ya2VyL3dvcmtlcl9jbGllbnQiLCJhY2Uva2V5Ym9hcmQvaGFzaF9oYW5kbGVyIiwiYWNlL3BsYWNlaG9sZGVyIiwiYWNlL21vZGUvZm9sZGluZy9mb2xkX21vZGUiLCJhY2UvdGhlbWUvdGV4dG1hdGUiLCJhY2UvZXh0L2Vycm9yX21hcmtlciIsImFjZS9jb25maWciXSxmdW5jdGlvbihlLHQpe2UoIi4vbGliL2ZpeG9sZGJyb3dzZXJzIik7dmFyIHI9ZSgiLi9saWIvZG9tIiksaT1lKCIuL2xpYi9ldmVudCIpLHM9ZSgiLi9lZGl0b3IiKS5FZGl0b3Isbz1lKCIuL2VkaXRfc2Vzc2lvbiIpLkVkaXRTZXNzaW9uLHU9ZSgiLi91bmRvbWFuYWdlciIpLlVuZG9NYW5hZ2VyLGE9ZSgiLi92aXJ0dWFsX3JlbmRlcmVyIikuVmlydHVhbFJlbmRlcmVyLGY9ZSgiLi9tdWx0aV9zZWxlY3QiKS5NdWx0aVNlbGVjdDtlKCIuL3dvcmtlci93b3JrZXJfY2xpZW50IiksZSgiLi9rZXlib2FyZC9oYXNoX2hhbmRsZXIiKSxlKCIuL3BsYWNlaG9sZGVyIiksZSgiLi9tb2RlL2ZvbGRpbmcvZm9sZF9tb2RlIiksZSgiLi90aGVtZS90ZXh0bWF0ZSIpLGUoIi4vZXh0L2Vycm9yX21hcmtlciIpLHQuY29uZmlnPWUoIi4vY29uZmlnIiksdC5yZXF1aXJlPWUsdC5lZGl0PWZ1bmN0aW9uKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSl7dmFyIG49ZSxlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG4pO2lmKCFlKXRocm93IG5ldyBFcnJvcigiYWNlLmVkaXQgY2FuJ3QgZmluZCBkaXYgIyIrbil9aWYoZS5lbnYmJmUuZW52LmVkaXRvciBpbnN0YW5jZW9mIHMpcmV0dXJuIGUuZW52LmVkaXRvcjt2YXIgbz10LmNyZWF0ZUVkaXRTZXNzaW9uKHIuZ2V0SW5uZXJUZXh0KGUpKTtlLmlubmVySFRNTD0iIjt2YXIgdT1uZXcgcyhuZXcgYShlKSk7bmV3IGYodSksdS5zZXRTZXNzaW9uKG8pO3ZhciBsPXtkb2N1bWVudDpvLGVkaXRvcjp1LG9uUmVzaXplOnUucmVzaXplLmJpbmQodSxudWxsKX07cmV0dXJuIGkuYWRkTGlzdGVuZXIod2luZG93LCJyZXNpemUiLGwub25SZXNpemUpLHUub24oImRlc3Ryb3kiLGZ1bmN0aW9uKCl7aS5yZW1vdmVMaXN0ZW5lcih3aW5kb3csInJlc2l6ZSIsbC5vblJlc2l6ZSl9KSxlLmVudj11LmVudj1sLHV9LHQuY3JlYXRlRWRpdFNlc3Npb249ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgbyhlLHQpO3JldHVybiBuLnNldFVuZG9NYW5hZ2VyKG5ldyB1KSxufSx0LkVkaXRTZXNzaW9uPW8sdC5VbmRvTWFuYWdlcj11fSksZGVmaW5lKCJhY2UvbW9kZS9iZWhhdmlvdXIiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiXSxmdW5jdGlvbihlLHQpe3ZhciByPWZ1bmN0aW9uKCl7dGhpcy4kYmVoYXZpb3Vycz17fX07KGZ1bmN0aW9uKCl7dGhpcy5hZGQ9ZnVuY3Rpb24oZSx0LG4pe3N3aXRjaCh2b2lkIDApe2Nhc2UgdGhpcy4kYmVoYXZpb3Vyczp0aGlzLiRiZWhhdmlvdXJzPXt9O2Nhc2UgdGhpcy4kYmVoYXZpb3Vyc1tlXTp0aGlzLiRiZWhhdmlvdXJzW2VdPXt9fXRoaXMuJGJlaGF2aW91cnNbZV1bdF09bn0sdGhpcy5hZGRCZWhhdmlvdXJzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKWZvcih2YXIgbiBpbiBlW3RdKXRoaXMuYWRkKHQsbixlW3RdW25dKX0sdGhpcy5yZW1vdmU9ZnVuY3Rpb24oZSl7dGhpcy4kYmVoYXZpb3VycyYmdGhpcy4kYmVoYXZpb3Vyc1tlXSYmZGVsZXRlIHRoaXMuJGJlaGF2aW91cnNbZV19LHRoaXMuaW5oZXJpdD1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlKXZhciBuPShuZXcgZSkuZ2V0QmVoYXZpb3Vycyh0KTtlbHNlIHZhciBuPWUuZ2V0QmVoYXZpb3Vycyh0KTt0aGlzLmFkZEJlaGF2aW91cnMobil9LHRoaXMuZ2V0QmVoYXZpb3Vycz1mdW5jdGlvbihlKXtpZighZSlyZXR1cm4gdGhpcy4kYmVoYXZpb3Vycztmb3IodmFyIHQ9e30sbj0wO248ZS5sZW5ndGg7bisrKXRoaXMuJGJlaGF2aW91cnNbZVtuXV0mJih0W2Vbbl1dPXRoaXMuJGJlaGF2aW91cnNbZVtuXV0pO3JldHVybiB0fX0pLmNhbGwoci5wcm90b3R5cGUpLHQuQmVoYXZpb3VyPXJ9KSxkZWZpbmUoImFjZS91bmljb2RlIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKGUpe3ZhciBuPS9cd3s0fS9nO2Zvcih2YXIgciBpbiBlKXQucGFja2FnZXNbcl09ZVtyXS5yZXBsYWNlKG4sIlxcdSQmIil9dC5wYWNrYWdlcz17fSxyKHtMOiIwMDQxLTAwNUEwMDYxLTAwN0EwMEFBMDBCNTAwQkEwMEMwLTAwRDYwMEQ4LTAwRjYwMEY4LTAyQzEwMkM2LTAyRDEwMkUwLTAyRTQwMkVDMDJFRTAzNzAtMDM3NDAzNzYwMzc3MDM3QS0wMzdEMDM4NjAzODgtMDM4QTAzOEMwMzhFLTAzQTEwM0EzLTAzRjUwM0Y3LTA0ODEwNDhBLTA1MjUwNTMxLTA1NTYwNTU5MDU2MS0wNTg3MDVEMC0wNUVBMDVGMC0wNUYyMDYyMS0wNjRBMDY2RTA2NkYwNjcxLTA2RDMwNkQ1MDZFNTA2RTYwNkVFMDZFRjA2RkEtMDZGQzA2RkYwNzEwMDcxMi0wNzJGMDc0RC0wN0E1MDdCMTA3Q0EtMDdFQTA3RjQwN0Y1MDdGQTA4MDAtMDgxNTA4MUEwODI0MDgyODA5MDQtMDkzOTA5M0QwOTUwMDk1OC0wOTYxMDk3MTA5NzIwOTc5LTA5N0YwOTg1LTA5OEMwOThGMDk5MDA5OTMtMDlBODA5QUEtMDlCMDA5QjIwOUI2LTA5QjkwOUJEMDlDRTA5REMwOUREMDlERi0wOUUxMDlGMDA5RjEwQTA1LTBBMEEwQTBGMEExMDBBMTMtMEEyODBBMkEtMEEzMDBBMzIwQTMzMEEzNTBBMzYwQTM4MEEzOTBBNTktMEE1QzBBNUUwQTcyLTBBNzQwQTg1LTBBOEQwQThGLTBBOTEwQTkzLTBBQTgwQUFBLTBBQjAwQUIyMEFCMzBBQjUtMEFCOTBBQkQwQUQwMEFFMDBBRTEwQjA1LTBCMEMwQjBGMEIxMDBCMTMtMEIyODBCMkEtMEIzMDBCMzIwQjMzMEIzNS0wQjM5MEIzRDBCNUMwQjVEMEI1Ri0wQjYxMEI3MTBCODMwQjg1LTBCOEEwQjhFLTBCOTAwQjkyLTBCOTUwQjk5MEI5QTBCOUMwQjlFMEI5RjBCQTMwQkE0MEJBOC0wQkFBMEJBRS0wQkI5MEJEMDBDMDUtMEMwQzBDMEUtMEMxMDBDMTItMEMyODBDMkEtMEMzMzBDMzUtMEMzOTBDM0QwQzU4MEM1OTBDNjAwQzYxMEM4NS0wQzhDMEM4RS0wQzkwMEM5Mi0wQ0E4MENBQS0wQ0IzMENCNS0wQ0I5MENCRDBDREUwQ0UwMENFMTBEMDUtMEQwQzBEMEUtMEQxMDBEMTItMEQyODBEMkEtMEQzOTBEM0QwRDYwMEQ2MTBEN0EtMEQ3RjBEODUtMEQ5NjBEOUEtMERCMTBEQjMtMERCQjBEQkQwREMwLTBEQzYwRTAxLTBFMzAwRTMyMEUzMzBFNDAtMEU0NjBFODEwRTgyMEU4NDBFODcwRTg4MEU4QTBFOEQwRTk0LTBFOTcwRTk5LTBFOUYwRUExLTBFQTMwRUE1MEVBNzBFQUEwRUFCMEVBRC0wRUIwMEVCMjBFQjMwRUJEMEVDMC0wRUM0MEVDNjBFREMwRUREMEYwMDBGNDAtMEY0NzBGNDktMEY2QzBGODgtMEY4QjEwMDAtMTAyQTEwM0YxMDUwLTEwNTUxMDVBLTEwNUQxMDYxMTA2NTEwNjYxMDZFLTEwNzAxMDc1LTEwODExMDhFMTBBMC0xMEM1MTBEMC0xMEZBMTBGQzExMDAtMTI0ODEyNEEtMTI0RDEyNTAtMTI1NjEyNTgxMjVBLTEyNUQxMjYwLTEyODgxMjhBLTEyOEQxMjkwLTEyQjAxMkIyLTEyQjUxMkI4LTEyQkUxMkMwMTJDMi0xMkM1MTJDOC0xMkQ2MTJEOC0xMzEwMTMxMi0xMzE1MTMxOC0xMzVBMTM4MC0xMzhGMTNBMC0xM0Y0MTQwMS0xNjZDMTY2Ri0xNjdGMTY4MS0xNjlBMTZBMC0xNkVBMTcwMC0xNzBDMTcwRS0xNzExMTcyMC0xNzMxMTc0MC0xNzUxMTc2MC0xNzZDMTc2RS0xNzcwMTc4MC0xN0IzMTdENzE3REMxODIwLTE4NzcxODgwLTE4QTgxOEFBMThCMC0xOEY1MTkwMC0xOTFDMTk1MC0xOTZEMTk3MC0xOTc0MTk4MC0xOUFCMTlDMS0xOUM3MUEwMC0xQTE2MUEyMC0xQTU0MUFBNzFCMDUtMUIzMzFCNDUtMUI0QjFCODMtMUJBMDFCQUUxQkFGMUMwMC0xQzIzMUM0RC0xQzRGMUM1QS0xQzdEMUNFOS0xQ0VDMUNFRS0xQ0YxMUQwMC0xREJGMUUwMC0xRjE1MUYxOC0xRjFEMUYyMC0xRjQ1MUY0OC0xRjREMUY1MC0xRjU3MUY1OTFGNUIxRjVEMUY1Ri0xRjdEMUY4MC0xRkI0MUZCNi0xRkJDMUZCRTFGQzItMUZDNDFGQzYtMUZDQzFGRDAtMUZEMzFGRDYtMUZEQjFGRTAtMUZFQzFGRjItMUZGNDFGRjYtMUZGQzIwNzEyMDdGMjA5MC0yMDk0MjEwMjIxMDcyMTBBLTIxMTMyMTE1MjExOS0yMTFEMjEyNDIxMjYyMTI4MjEyQS0yMTJEMjEyRi0yMTM5MjEzQy0yMTNGMjE0NS0yMTQ5MjE0RTIxODMyMTg0MkMwMC0yQzJFMkMzMC0yQzVFMkM2MC0yQ0U0MkNFQi0yQ0VFMkQwMC0yRDI1MkQzMC0yRDY1MkQ2RjJEODAtMkQ5NjJEQTAtMkRBNjJEQTgtMkRBRTJEQjAtMkRCNjJEQjgtMkRCRTJEQzAtMkRDNjJEQzgtMkRDRTJERDAtMkRENjJERDgtMkRERTJFMkYzMDA1MzAwNjMwMzEtMzAzNTMwM0IzMDNDMzA0MS0zMDk2MzA5RC0zMDlGMzBBMS0zMEZBMzBGQy0zMEZGMzEwNS0zMTJEMzEzMS0zMThFMzFBMC0zMUI3MzFGMC0zMUZGMzQwMC00REI1NEUwMC05RkNCQTAwMC1BNDhDQTREMC1BNEZEQTUwMC1BNjBDQTYxMC1BNjFGQTYyQUE2MkJBNjQwLUE2NUZBNjYyLUE2NkVBNjdGLUE2OTdBNkEwLUE2RTVBNzE3LUE3MUZBNzIyLUE3ODhBNzhCQTc4Q0E3RkItQTgwMUE4MDMtQTgwNUE4MDctQTgwQUE4MEMtQTgyMkE4NDAtQTg3M0E4ODItQThCM0E4RjItQThGN0E4RkJBOTBBLUE5MjVBOTMwLUE5NDZBOTYwLUE5N0NBOTg0LUE5QjJBOUNGQUEwMC1BQTI4QUE0MC1BQTQyQUE0NC1BQTRCQUE2MC1BQTc2QUE3QUFBODAtQUFBRkFBQjFBQUI1QUFCNkFBQjktQUFCREFBQzBBQUMyQUFEQi1BQUREQUJDMC1BQkUyQUMwMC1EN0EzRDdCMC1EN0M2RDdDQi1EN0ZCRjkwMC1GQTJERkEzMC1GQTZERkE3MC1GQUQ5RkIwMC1GQjA2RkIxMy1GQjE3RkIxREZCMUYtRkIyOEZCMkEtRkIzNkZCMzgtRkIzQ0ZCM0VGQjQwRkI0MUZCNDNGQjQ0RkI0Ni1GQkIxRkJEMy1GRDNERkQ1MC1GRDhGRkQ5Mi1GREM3RkRGMC1GREZCRkU3MC1GRTc0RkU3Ni1GRUZDRkYyMS1GRjNBRkY0MS1GRjVBRkY2Ni1GRkJFRkZDMi1GRkM3RkZDQS1GRkNGRkZEMi1GRkQ3RkZEQS1GRkRDIixMbDoiMDA2MS0wMDdBMDBBQTAwQjUwMEJBMDBERi0wMEY2MDBGOC0wMEZGMDEwMTAxMDMwMTA1MDEwNzAxMDkwMTBCMDEwRDAxMEYwMTExMDExMzAxMTUwMTE3MDExOTAxMUIwMTFEMDExRjAxMjEwMTIzMDEyNTAxMjcwMTI5MDEyQjAxMkQwMTJGMDEzMTAxMzMwMTM1MDEzNzAxMzgwMTNBMDEzQzAxM0UwMTQwMDE0MjAxNDQwMTQ2MDE0ODAxNDkwMTRCMDE0RDAxNEYwMTUxMDE1MzAxNTUwMTU3MDE1OTAxNUIwMTVEMDE1RjAxNjEwMTYzMDE2NTAxNjcwMTY5MDE2QjAxNkQwMTZGMDE3MTAxNzMwMTc1MDE3NzAxN0EwMTdDMDE3RS0wMTgwMDE4MzAxODUwMTg4MDE4QzAxOEQwMTkyMDE5NTAxOTktMDE5QjAxOUUwMUExMDFBMzAxQTUwMUE4MDFBQTAxQUIwMUFEMDFCMDAxQjQwMUI2MDFCOTAxQkEwMUJELTAxQkYwMUM2MDFDOTAxQ0MwMUNFMDFEMDAxRDIwMUQ0MDFENjAxRDgwMURBMDFEQzAxREQwMURGMDFFMTAxRTMwMUU1MDFFNzAxRTkwMUVCMDFFRDAxRUYwMUYwMDFGMzAxRjUwMUY5MDFGQjAxRkQwMUZGMDIwMTAyMDMwMjA1MDIwNzAyMDkwMjBCMDIwRDAyMEYwMjExMDIxMzAyMTUwMjE3MDIxOTAyMUIwMjFEMDIxRjAyMjEwMjIzMDIyNTAyMjcwMjI5MDIyQjAyMkQwMjJGMDIzMTAyMzMtMDIzOTAyM0MwMjNGMDI0MDAyNDIwMjQ3MDI0OTAyNEIwMjREMDI0Ri0wMjkzMDI5NS0wMkFGMDM3MTAzNzMwMzc3MDM3Qi0wMzdEMDM5MDAzQUMtMDNDRTAzRDAwM0QxMDNENS0wM0Q3MDNEOTAzREIwM0REMDNERjAzRTEwM0UzMDNFNTAzRTcwM0U5MDNFQjAzRUQwM0VGLTAzRjMwM0Y1MDNGODAzRkIwM0ZDMDQzMC0wNDVGMDQ2MTA0NjMwNDY1MDQ2NzA0NjkwNDZCMDQ2RDA0NkYwNDcxMDQ3MzA0NzUwNDc3MDQ3OTA0N0IwNDdEMDQ3RjA0ODEwNDhCMDQ4RDA0OEYwNDkxMDQ5MzA0OTUwNDk3MDQ5OTA0OUIwNDlEMDQ5RjA0QTEwNEEzMDRBNTA0QTcwNEE5MDRBQjA0QUQwNEFGMDRCMTA0QjMwNEI1MDRCNzA0QjkwNEJCMDRCRDA0QkYwNEMyMDRDNDA0QzYwNEM4MDRDQTA0Q0MwNENFMDRDRjA0RDEwNEQzMDRENTA0RDcwNEQ5MDREQjA0REQwNERGMDRFMTA0RTMwNEU1MDRFNzA0RTkwNEVCMDRFRDA0RUYwNEYxMDRGMzA0RjUwNEY3MDRGOTA0RkIwNEZEMDRGRjA1MDEwNTAzMDUwNTA1MDcwNTA5MDUwQjA1MEQwNTBGMDUxMTA1MTMwNTE1MDUxNzA1MTkwNTFCMDUxRDA1MUYwNTIxMDUyMzA1MjUwNTYxLTA1ODcxRDAwLTFEMkIxRDYyLTFENzcxRDc5LTFEOUExRTAxMUUwMzFFMDUxRTA3MUUwOTFFMEIxRTBEMUUwRjFFMTExRTEzMUUxNTFFMTcxRTE5MUUxQjFFMUQxRTFGMUUyMTFFMjMxRTI1MUUyNzFFMjkxRTJCMUUyRDFFMkYxRTMxMUUzMzFFMzUxRTM3MUUzOTFFM0IxRTNEMUUzRjFFNDExRTQzMUU0NTFFNDcxRTQ5MUU0QjFFNEQxRTRGMUU1MTFFNTMxRTU1MUU1NzFFNTkxRTVCMUU1RDFFNUYxRTYxMUU2MzFFNjUxRTY3MUU2OTFFNkIxRTZEMUU2RjFFNzExRTczMUU3NTFFNzcxRTc5MUU3QjFFN0QxRTdGMUU4MTFFODMxRTg1MUU4NzFFODkxRThCMUU4RDFFOEYxRTkxMUU5MzFFOTUtMUU5RDFFOUYxRUExMUVBMzFFQTUxRUE3MUVBOTFFQUIxRUFEMUVBRjFFQjExRUIzMUVCNTFFQjcxRUI5MUVCQjFFQkQxRUJGMUVDMTFFQzMxRUM1MUVDNzFFQzkxRUNCMUVDRDFFQ0YxRUQxMUVEMzFFRDUxRUQ3MUVEOTFFREIxRUREMUVERjFFRTExRUUzMUVFNTFFRTcxRUU5MUVFQjFFRUQxRUVGMUVGMTFFRjMxRUY1MUVGNzFFRjkxRUZCMUVGRDFFRkYtMUYwNzFGMTAtMUYxNTFGMjAtMUYyNzFGMzAtMUYzNzFGNDAtMUY0NTFGNTAtMUY1NzFGNjAtMUY2NzFGNzAtMUY3RDFGODAtMUY4NzFGOTAtMUY5NzFGQTAtMUZBNzFGQjAtMUZCNDFGQjYxRkI3MUZCRTFGQzItMUZDNDFGQzYxRkM3MUZEMC0xRkQzMUZENjFGRDcxRkUwLTFGRTcxRkYyLTFGRjQxRkY2MUZGNzIxMEEyMTBFMjEwRjIxMTMyMTJGMjEzNDIxMzkyMTNDMjEzRDIxNDYtMjE0OTIxNEUyMTg0MkMzMC0yQzVFMkM2MTJDNjUyQzY2MkM2ODJDNkEyQzZDMkM3MTJDNzMyQzc0MkM3Ni0yQzdDMkM4MTJDODMyQzg1MkM4NzJDODkyQzhCMkM4RDJDOEYyQzkxMkM5MzJDOTUyQzk3MkM5OTJDOUIyQzlEMkM5RjJDQTEyQ0EzMkNBNTJDQTcyQ0E5MkNBQjJDQUQyQ0FGMkNCMTJDQjMyQ0I1MkNCNzJDQjkyQ0JCMkNCRDJDQkYyQ0MxMkNDMzJDQzUyQ0M3MkNDOTJDQ0IyQ0NEMkNDRjJDRDEyQ0QzMkNENTJDRDcyQ0Q5MkNEQjJDREQyQ0RGMkNFMTJDRTMyQ0U0MkNFQzJDRUUyRDAwLTJEMjVBNjQxQTY0M0E2NDVBNjQ3QTY0OUE2NEJBNjREQTY0RkE2NTFBNjUzQTY1NUE2NTdBNjU5QTY1QkE2NURBNjVGQTY2M0E2NjVBNjY3QTY2OUE2NkJBNjZEQTY4MUE2ODNBNjg1QTY4N0E2ODlBNjhCQTY4REE2OEZBNjkxQTY5M0E2OTVBNjk3QTcyM0E3MjVBNzI3QTcyOUE3MkJBNzJEQTcyRi1BNzMxQTczM0E3MzVBNzM3QTczOUE3M0JBNzNEQTczRkE3NDFBNzQzQTc0NUE3NDdBNzQ5QTc0QkE3NERBNzRGQTc1MUE3NTNBNzU1QTc1N0E3NTlBNzVCQTc1REE3NUZBNzYxQTc2M0E3NjVBNzY3QTc2OUE3NkJBNzZEQTc2RkE3NzEtQTc3OEE3N0FBNzdDQTc3RkE3ODFBNzgzQTc4NUE3ODdBNzhDRkIwMC1GQjA2RkIxMy1GQjE3RkY0MS1GRjVBIixMdToiMDA0MS0wMDVBMDBDMC0wMEQ2MDBEOC0wMERFMDEwMDAxMDIwMTA0MDEwNjAxMDgwMTBBMDEwQzAxMEUwMTEwMDExMjAxMTQwMTE2MDExODAxMUEwMTFDMDExRTAxMjAwMTIyMDEyNDAxMjYwMTI4MDEyQTAxMkMwMTJFMDEzMDAxMzIwMTM0MDEzNjAxMzkwMTNCMDEzRDAxM0YwMTQxMDE0MzAxNDUwMTQ3MDE0QTAxNEMwMTRFMDE1MDAxNTIwMTU0MDE1NjAxNTgwMTVBMDE1QzAxNUUwMTYwMDE2MjAxNjQwMTY2MDE2ODAxNkEwMTZDMDE2RTAxNzAwMTcyMDE3NDAxNzYwMTc4MDE3OTAxN0IwMTdEMDE4MTAxODIwMTg0MDE4NjAxODcwMTg5LTAxOEIwMThFLTAxOTEwMTkzMDE5NDAxOTYtMDE5ODAxOUMwMTlEMDE5RjAxQTAwMUEyMDFBNDAxQTYwMUE3MDFBOTAxQUMwMUFFMDFBRjAxQjEtMDFCMzAxQjUwMUI3MDFCODAxQkMwMUM0MDFDNzAxQ0EwMUNEMDFDRjAxRDEwMUQzMDFENTAxRDcwMUQ5MDFEQjAxREUwMUUwMDFFMjAxRTQwMUU2MDFFODAxRUEwMUVDMDFFRTAxRjEwMUY0MDFGNi0wMUY4MDFGQTAxRkMwMUZFMDIwMDAyMDIwMjA0MDIwNjAyMDgwMjBBMDIwQzAyMEUwMjEwMDIxMjAyMTQwMjE2MDIxODAyMUEwMjFDMDIxRTAyMjAwMjIyMDIyNDAyMjYwMjI4MDIyQTAyMkMwMjJFMDIzMDAyMzIwMjNBMDIzQjAyM0QwMjNFMDI0MTAyNDMtMDI0NjAyNDgwMjRBMDI0QzAyNEUwMzcwMDM3MjAzNzYwMzg2MDM4OC0wMzhBMDM4QzAzOEUwMzhGMDM5MS0wM0ExMDNBMy0wM0FCMDNDRjAzRDItMDNENDAzRDgwM0RBMDNEQzAzREUwM0UwMDNFMjAzRTQwM0U2MDNFODAzRUEwM0VDMDNFRTAzRjQwM0Y3MDNGOTAzRkEwM0ZELTA0MkYwNDYwMDQ2MjA0NjQwNDY2MDQ2ODA0NkEwNDZDMDQ2RTA0NzAwNDcyMDQ3NDA0NzYwNDc4MDQ3QTA0N0MwNDdFMDQ4MDA0OEEwNDhDMDQ4RTA0OTAwNDkyMDQ5NDA0OTYwNDk4MDQ5QTA0OUMwNDlFMDRBMDA0QTIwNEE0MDRBNjA0QTgwNEFBMDRBQzA0QUUwNEIwMDRCMjA0QjQwNEI2MDRCODA0QkEwNEJDMDRCRTA0QzAwNEMxMDRDMzA0QzUwNEM3MDRDOTA0Q0IwNENEMDREMDA0RDIwNEQ0MDRENjA0RDgwNERBMDREQzA0REUwNEUwMDRFMjA0RTQwNEU2MDRFODA0RUEwNEVDMDRFRTA0RjAwNEYyMDRGNDA0RjYwNEY4MDRGQTA0RkMwNEZFMDUwMDA1MDIwNTA0MDUwNjA1MDgwNTBBMDUwQzA1MEUwNTEwMDUxMjA1MTQwNTE2MDUxODA1MUEwNTFDMDUxRTA1MjAwNTIyMDUyNDA1MzEtMDU1NjEwQTAtMTBDNTFFMDAxRTAyMUUwNDFFMDYxRTA4MUUwQTFFMEMxRTBFMUUxMDFFMTIxRTE0MUUxNjFFMTgxRTFBMUUxQzFFMUUxRTIwMUUyMjFFMjQxRTI2MUUyODFFMkExRTJDMUUyRTFFMzAxRTMyMUUzNDFFMzYxRTM4MUUzQTFFM0MxRTNFMUU0MDFFNDIxRTQ0MUU0NjFFNDgxRTRBMUU0QzFFNEUxRTUwMUU1MjFFNTQxRTU2MUU1ODFFNUExRTVDMUU1RTFFNjAxRTYyMUU2NDFFNjYxRTY4MUU2QTFFNkMxRTZFMUU3MDFFNzIxRTc0MUU3NjFFNzgxRTdBMUU3QzFFN0UxRTgwMUU4MjFFODQxRTg2MUU4ODFFOEExRThDMUU4RTFFOTAxRTkyMUU5NDFFOUUxRUEwMUVBMjFFQTQxRUE2MUVBODFFQUExRUFDMUVBRTFFQjAxRUIyMUVCNDFFQjYxRUI4MUVCQTFFQkMxRUJFMUVDMDFFQzIxRUM0MUVDNjFFQzgxRUNBMUVDQzFFQ0UxRUQwMUVEMjFFRDQxRUQ2MUVEODFFREExRURDMUVERTFFRTAxRUUyMUVFNDFFRTYxRUU4MUVFQTFFRUMxRUVFMUVGMDFFRjIxRUY0MUVGNjFFRjgxRUZBMUVGQzFFRkUxRjA4LTFGMEYxRjE4LTFGMUQxRjI4LTFGMkYxRjM4LTFGM0YxRjQ4LTFGNEQxRjU5MUY1QjFGNUQxRjVGMUY2OC0xRjZGMUZCOC0xRkJCMUZDOC0xRkNCMUZEOC0xRkRCMUZFOC0xRkVDMUZGOC0xRkZCMjEwMjIxMDcyMTBCLTIxMEQyMTEwLTIxMTIyMTE1MjExOS0yMTFEMjEyNDIxMjYyMTI4MjEyQS0yMTJEMjEzMC0yMTMzMjEzRTIxM0YyMTQ1MjE4MzJDMDAtMkMyRTJDNjAyQzYyLTJDNjQyQzY3MkM2OTJDNkIyQzZELTJDNzAyQzcyMkM3NTJDN0UtMkM4MDJDODIyQzg0MkM4NjJDODgyQzhBMkM4QzJDOEUyQzkwMkM5MjJDOTQyQzk2MkM5ODJDOUEyQzlDMkM5RTJDQTAyQ0EyMkNBNDJDQTYyQ0E4MkNBQTJDQUMyQ0FFMkNCMDJDQjIyQ0I0MkNCNjJDQjgyQ0JBMkNCQzJDQkUyQ0MwMkNDMjJDQzQyQ0M2MkNDODJDQ0EyQ0NDMkNDRTJDRDAyQ0QyMkNENDJDRDYyQ0Q4MkNEQTJDREMyQ0RFMkNFMDJDRTIyQ0VCMkNFREE2NDBBNjQyQTY0NEE2NDZBNjQ4QTY0QUE2NENBNjRFQTY1MEE2NTJBNjU0QTY1NkE2NThBNjVBQTY1Q0E2NUVBNjYyQTY2NEE2NjZBNjY4QTY2QUE2NkNBNjgwQTY4MkE2ODRBNjg2QTY4OEE2OEFBNjhDQTY4RUE2OTBBNjkyQTY5NEE2OTZBNzIyQTcyNEE3MjZBNzI4QTcyQUE3MkNBNzJFQTczMkE3MzRBNzM2QTczOEE3M0FBNzNDQTczRUE3NDBBNzQyQTc0NEE3NDZBNzQ4QTc0QUE3NENBNzRFQTc1MEE3NTJBNzU0QTc1NkE3NThBNzVBQTc1Q0E3NUVBNzYwQTc2MkE3NjRBNzY2QTc2OEE3NkFBNzZDQTc2RUE3NzlBNzdCQTc3REE3N0VBNzgwQTc4MkE3ODRBNzg2QTc4QkZGMjEtRkYzQSIsTHQ6IjAxQzUwMUM4MDFDQjAxRjIxRjg4LTFGOEYxRjk4LTFGOUYxRkE4LTFGQUYxRkJDMUZDQzFGRkMiLExtOiIwMkIwLTAyQzEwMkM2LTAyRDEwMkUwLTAyRTQwMkVDMDJFRTAzNzQwMzdBMDU1OTA2NDAwNkU1MDZFNjA3RjQwN0Y1MDdGQTA4MUEwODI0MDgyODA5NzEwRTQ2MEVDNjEwRkMxN0Q3MTg0MzFBQTcxQzc4LTFDN0QxRDJDLTFENjExRDc4MUQ5Qi0xREJGMjA3MTIwN0YyMDkwLTIwOTQyQzdEMkQ2RjJFMkYzMDA1MzAzMS0zMDM1MzAzQjMwOUQzMDlFMzBGQy0zMEZFQTAxNUE0RjgtQTRGREE2MENBNjdGQTcxNy1BNzFGQTc3MEE3ODhBOUNGQUE3MEFBRERGRjcwRkY5RUZGOUYiLExvOiIwMUJCMDFDMC0wMUMzMDI5NDA1RDAtMDVFQTA1RjAtMDVGMjA2MjEtMDYzRjA2NDEtMDY0QTA2NkUwNjZGMDY3MS0wNkQzMDZENTA2RUUwNkVGMDZGQS0wNkZDMDZGRjA3MTAwNzEyLTA3MkYwNzRELTA3QTUwN0IxMDdDQS0wN0VBMDgwMC0wODE1MDkwNC0wOTM5MDkzRDA5NTAwOTU4LTA5NjEwOTcyMDk3OS0wOTdGMDk4NS0wOThDMDk4RjA5OTAwOTkzLTA5QTgwOUFBLTA5QjAwOUIyMDlCNi0wOUI5MDlCRDA5Q0UwOURDMDlERDA5REYtMDlFMTA5RjAwOUYxMEEwNS0wQTBBMEEwRjBBMTAwQTEzLTBBMjgwQTJBLTBBMzAwQTMyMEEzMzBBMzUwQTM2MEEzODBBMzkwQTU5LTBBNUMwQTVFMEE3Mi0wQTc0MEE4NS0wQThEMEE4Ri0wQTkxMEE5My0wQUE4MEFBQS0wQUIwMEFCMjBBQjMwQUI1LTBBQjkwQUJEMEFEMDBBRTAwQUUxMEIwNS0wQjBDMEIwRjBCMTAwQjEzLTBCMjgwQjJBLTBCMzAwQjMyMEIzMzBCMzUtMEIzOTBCM0QwQjVDMEI1RDBCNUYtMEI2MTBCNzEwQjgzMEI4NS0wQjhBMEI4RS0wQjkwMEI5Mi0wQjk1MEI5OTBCOUEwQjlDMEI5RTBCOUYwQkEzMEJBNDBCQTgtMEJBQTBCQUUtMEJCOTBCRDAwQzA1LTBDMEMwQzBFLTBDMTAwQzEyLTBDMjgwQzJBLTBDMzMwQzM1LTBDMzkwQzNEMEM1ODBDNTkwQzYwMEM2MTBDODUtMEM4QzBDOEUtMEM5MDBDOTItMENBODBDQUEtMENCMzBDQjUtMENCOTBDQkQwQ0RFMENFMDBDRTEwRDA1LTBEMEMwRDBFLTBEMTAwRDEyLTBEMjgwRDJBLTBEMzkwRDNEMEQ2MDBENjEwRDdBLTBEN0YwRDg1LTBEOTYwRDlBLTBEQjEwREIzLTBEQkIwREJEMERDMC0wREM2MEUwMS0wRTMwMEUzMjBFMzMwRTQwLTBFNDUwRTgxMEU4MjBFODQwRTg3MEU4ODBFOEEwRThEMEU5NC0wRTk3MEU5OS0wRTlGMEVBMS0wRUEzMEVBNTBFQTcwRUFBMEVBQjBFQUQtMEVCMDBFQjIwRUIzMEVCRDBFQzAtMEVDNDBFREMwRUREMEYwMDBGNDAtMEY0NzBGNDktMEY2QzBGODgtMEY4QjEwMDAtMTAyQTEwM0YxMDUwLTEwNTUxMDVBLTEwNUQxMDYxMTA2NTEwNjYxMDZFLTEwNzAxMDc1LTEwODExMDhFMTBEMC0xMEZBMTEwMC0xMjQ4MTI0QS0xMjREMTI1MC0xMjU2MTI1ODEyNUEtMTI1RDEyNjAtMTI4ODEyOEEtMTI4RDEyOTAtMTJCMDEyQjItMTJCNTEyQjgtMTJCRTEyQzAxMkMyLTEyQzUxMkM4LTEyRDYxMkQ4LTEzMTAxMzEyLTEzMTUxMzE4LTEzNUExMzgwLTEzOEYxM0EwLTEzRjQxNDAxLTE2NkMxNjZGLTE2N0YxNjgxLTE2OUExNkEwLTE2RUExNzAwLTE3MEMxNzBFLTE3MTExNzIwLTE3MzExNzQwLTE3NTExNzYwLTE3NkMxNzZFLTE3NzAxNzgwLTE3QjMxN0RDMTgyMC0xODQyMTg0NC0xODc3MTg4MC0xOEE4MThBQTE4QjAtMThGNTE5MDAtMTkxQzE5NTAtMTk2RDE5NzAtMTk3NDE5ODAtMTlBQjE5QzEtMTlDNzFBMDAtMUExNjFBMjAtMUE1NDFCMDUtMUIzMzFCNDUtMUI0QjFCODMtMUJBMDFCQUUxQkFGMUMwMC0xQzIzMUM0RC0xQzRGMUM1QS0xQzc3MUNFOS0xQ0VDMUNFRS0xQ0YxMjEzNS0yMTM4MkQzMC0yRDY1MkQ4MC0yRDk2MkRBMC0yREE2MkRBOC0yREFFMkRCMC0yREI2MkRCOC0yREJFMkRDMC0yREM2MkRDOC0yRENFMkREMC0yREQ2MkREOC0yRERFMzAwNjMwM0MzMDQxLTMwOTYzMDlGMzBBMS0zMEZBMzBGRjMxMDUtMzEyRDMxMzEtMzE4RTMxQTAtMzFCNzMxRjAtMzFGRjM0MDAtNERCNTRFMDAtOUZDQkEwMDAtQTAxNEEwMTYtQTQ4Q0E0RDAtQTRGN0E1MDAtQTYwQkE2MTAtQTYxRkE2MkFBNjJCQTY2RUE2QTAtQTZFNUE3RkItQTgwMUE4MDMtQTgwNUE4MDctQTgwQUE4MEMtQTgyMkE4NDAtQTg3M0E4ODItQThCM0E4RjItQThGN0E4RkJBOTBBLUE5MjVBOTMwLUE5NDZBOTYwLUE5N0NBOTg0LUE5QjJBQTAwLUFBMjhBQTQwLUFBNDJBQTQ0LUFBNEJBQTYwLUFBNkZBQTcxLUFBNzZBQTdBQUE4MC1BQUFGQUFCMUFBQjVBQUI2QUFCOS1BQUJEQUFDMEFBQzJBQURCQUFEQ0FCQzAtQUJFMkFDMDAtRDdBM0Q3QjAtRDdDNkQ3Q0ItRDdGQkY5MDAtRkEyREZBMzAtRkE2REZBNzAtRkFEOUZCMURGQjFGLUZCMjhGQjJBLUZCMzZGQjM4LUZCM0NGQjNFRkI0MEZCNDFGQjQzRkI0NEZCNDYtRkJCMUZCRDMtRkQzREZENTAtRkQ4RkZEOTItRkRDN0ZERjAtRkRGQkZFNzAtRkU3NEZFNzYtRkVGQ0ZGNjYtRkY2RkZGNzEtRkY5REZGQTAtRkZCRUZGQzItRkZDN0ZGQ0EtRkZDRkZGRDItRkZEN0ZGREEtRkZEQyIsTToiMDMwMC0wMzZGMDQ4My0wNDg5MDU5MS0wNUJEMDVCRjA1QzEwNUMyMDVDNDA1QzUwNUM3MDYxMC0wNjFBMDY0Qi0wNjVFMDY3MDA2RDYtMDZEQzA2REUtMDZFNDA2RTcwNkU4MDZFQS0wNkVEMDcxMTA3MzAtMDc0QTA3QTYtMDdCMDA3RUItMDdGMzA4MTYtMDgxOTA4MUItMDgyMzA4MjUtMDgyNzA4MjktMDgyRDA5MDAtMDkwMzA5M0MwOTNFLTA5NEUwOTUxLTA5NTUwOTYyMDk2MzA5ODEtMDk4MzA5QkMwOUJFLTA5QzQwOUM3MDlDODA5Q0ItMDlDRDA5RDcwOUUyMDlFMzBBMDEtMEEwMzBBM0MwQTNFLTBBNDIwQTQ3MEE0ODBBNEItMEE0RDBBNTEwQTcwMEE3MTBBNzUwQTgxLTBBODMwQUJDMEFCRS0wQUM1MEFDNy0wQUM5MEFDQi0wQUNEMEFFMjBBRTMwQjAxLTBCMDMwQjNDMEIzRS0wQjQ0MEI0NzBCNDgwQjRCLTBCNEQwQjU2MEI1NzBCNjIwQjYzMEI4MjBCQkUtMEJDMjBCQzYtMEJDODBCQ0EtMEJDRDBCRDcwQzAxLTBDMDMwQzNFLTBDNDQwQzQ2LTBDNDgwQzRBLTBDNEQwQzU1MEM1NjBDNjIwQzYzMEM4MjBDODMwQ0JDMENCRS0wQ0M0MENDNi0wQ0M4MENDQS0wQ0NEMENENTBDRDYwQ0UyMENFMzBEMDIwRDAzMEQzRS0wRDQ0MEQ0Ni0wRDQ4MEQ0QS0wRDREMEQ1NzBENjIwRDYzMEQ4MjBEODMwRENBMERDRi0wREQ0MERENjBERDgtMERERjBERjIwREYzMEUzMTBFMzQtMEUzQTBFNDctMEU0RTBFQjEwRUI0LTBFQjkwRUJCMEVCQzBFQzgtMEVDRDBGMTgwRjE5MEYzNTBGMzcwRjM5MEYzRTBGM0YwRjcxLTBGODQwRjg2MEY4NzBGOTAtMEY5NzBGOTktMEZCQzBGQzYxMDJCLTEwM0UxMDU2LTEwNTkxMDVFLTEwNjAxMDYyLTEwNjQxMDY3LTEwNkQxMDcxLTEwNzQxMDgyLTEwOEQxMDhGMTA5QS0xMDlEMTM1RjE3MTItMTcxNDE3MzItMTczNDE3NTIxNzUzMTc3MjE3NzMxN0I2LTE3RDMxN0REMTgwQi0xODBEMThBOTE5MjAtMTkyQjE5MzAtMTkzQjE5QjAtMTlDMDE5QzgxOUM5MUExNy0xQTFCMUE1NS0xQTVFMUE2MC0xQTdDMUE3RjFCMDAtMUIwNDFCMzQtMUI0NDFCNkItMUI3MzFCODAtMUI4MjFCQTEtMUJBQTFDMjQtMUMzNzFDRDAtMUNEMjFDRDQtMUNFODFDRUQxQ0YyMURDMC0xREU2MURGRC0xREZGMjBEMC0yMEYwMkNFRi0yQ0YxMkRFMC0yREZGMzAyQS0zMDJGMzA5OTMwOUFBNjZGLUE2NzJBNjdDQTY3REE2RjBBNkYxQTgwMkE4MDZBODBCQTgyMy1BODI3QTg4MEE4ODFBOEI0LUE4QzRBOEUwLUE4RjFBOTI2LUE5MkRBOTQ3LUE5NTNBOTgwLUE5ODNBOUIzLUE5QzBBQTI5LUFBMzZBQTQzQUE0Q0FBNERBQTdCQUFCMEFBQjItQUFCNEFBQjdBQUI4QUFCRUFBQkZBQUMxQUJFMy1BQkVBQUJFQ0FCRURGQjFFRkUwMC1GRTBGRkUyMC1GRTI2IixNbjoiMDMwMC0wMzZGMDQ4My0wNDg3MDU5MS0wNUJEMDVCRjA1QzEwNUMyMDVDNDA1QzUwNUM3MDYxMC0wNjFBMDY0Qi0wNjVFMDY3MDA2RDYtMDZEQzA2REYtMDZFNDA2RTcwNkU4MDZFQS0wNkVEMDcxMTA3MzAtMDc0QTA3QTYtMDdCMDA3RUItMDdGMzA4MTYtMDgxOTA4MUItMDgyMzA4MjUtMDgyNzA4MjktMDgyRDA5MDAtMDkwMjA5M0MwOTQxLTA5NDgwOTREMDk1MS0wOTU1MDk2MjA5NjMwOTgxMDlCQzA5QzEtMDlDNDA5Q0QwOUUyMDlFMzBBMDEwQTAyMEEzQzBBNDEwQTQyMEE0NzBBNDgwQTRCLTBBNEQwQTUxMEE3MDBBNzEwQTc1MEE4MTBBODIwQUJDMEFDMS0wQUM1MEFDNzBBQzgwQUNEMEFFMjBBRTMwQjAxMEIzQzBCM0YwQjQxLTBCNDQwQjREMEI1NjBCNjIwQjYzMEI4MjBCQzAwQkNEMEMzRS0wQzQwMEM0Ni0wQzQ4MEM0QS0wQzREMEM1NTBDNTYwQzYyMEM2MzBDQkMwQ0JGMENDNjBDQ0MwQ0NEMENFMjBDRTMwRDQxLTBENDQwRDREMEQ2MjBENjMwRENBMEREMi0wREQ0MERENjBFMzEwRTM0LTBFM0EwRTQ3LTBFNEUwRUIxMEVCNC0wRUI5MEVCQjBFQkMwRUM4LTBFQ0QwRjE4MEYxOTBGMzUwRjM3MEYzOTBGNzEtMEY3RTBGODAtMEY4NDBGODYwRjg3MEY5MC0wRjk3MEY5OS0wRkJDMEZDNjEwMkQtMTAzMDEwMzItMTAzNzEwMzkxMDNBMTAzRDEwM0UxMDU4MTA1OTEwNUUtMTA2MDEwNzEtMTA3NDEwODIxMDg1MTA4NjEwOEQxMDlEMTM1RjE3MTItMTcxNDE3MzItMTczNDE3NTIxNzUzMTc3MjE3NzMxN0I3LTE3QkQxN0M2MTdDOS0xN0QzMTdERDE4MEItMTgwRDE4QTkxOTIwLTE5MjIxOTI3MTkyODE5MzIxOTM5LTE5M0IxQTE3MUExODFBNTYxQTU4LTFBNUUxQTYwMUE2MjFBNjUtMUE2QzFBNzMtMUE3QzFBN0YxQjAwLTFCMDMxQjM0MUIzNi0xQjNBMUIzQzFCNDIxQjZCLTFCNzMxQjgwMUI4MTFCQTItMUJBNTFCQTgxQkE5MUMyQy0xQzMzMUMzNjFDMzcxQ0QwLTFDRDIxQ0Q0LTFDRTAxQ0UyLTFDRTgxQ0VEMURDMC0xREU2MURGRC0xREZGMjBEMC0yMERDMjBFMTIwRTUtMjBGMDJDRUYtMkNGMTJERTAtMkRGRjMwMkEtMzAyRjMwOTkzMDlBQTY2RkE2N0NBNjdEQTZGMEE2RjFBODAyQTgwNkE4MEJBODI1QTgyNkE4QzRBOEUwLUE4RjFBOTI2LUE5MkRBOTQ3LUE5NTFBOTgwLUE5ODJBOUIzQTlCNi1BOUI5QTlCQ0FBMjktQUEyRUFBMzFBQTMyQUEzNUFBMzZBQTQzQUE0Q0FBQjBBQUIyLUFBQjRBQUI3QUFCOEFBQkVBQUJGQUFDMUFCRTVBQkU4QUJFREZCMUVGRTAwLUZFMEZGRTIwLUZFMjYiLE1jOiIwOTAzMDkzRS0wOTQwMDk0OS0wOTRDMDk0RTA5ODIwOTgzMDlCRS0wOUMwMDlDNzA5QzgwOUNCMDlDQzA5RDcwQTAzMEEzRS0wQTQwMEE4MzBBQkUtMEFDMDBBQzkwQUNCMEFDQzBCMDIwQjAzMEIzRTBCNDAwQjQ3MEI0ODBCNEIwQjRDMEI1NzBCQkUwQkJGMEJDMTBCQzIwQkM2LTBCQzgwQkNBLTBCQ0MwQkQ3MEMwMS0wQzAzMEM0MS0wQzQ0MEM4MjBDODMwQ0JFMENDMC0wQ0M0MENDNzBDQzgwQ0NBMENDQjBDRDUwQ0Q2MEQwMjBEMDMwRDNFLTBENDAwRDQ2LTBENDgwRDRBLTBENEMwRDU3MEQ4MjBEODMwRENGLTBERDEwREQ4LTBEREYwREYyMERGMzBGM0UwRjNGMEY3RjEwMkIxMDJDMTAzMTEwMzgxMDNCMTAzQzEwNTYxMDU3MTA2Mi0xMDY0MTA2Ny0xMDZEMTA4MzEwODQxMDg3LTEwOEMxMDhGMTA5QS0xMDlDMTdCNjE3QkUtMTdDNTE3QzcxN0M4MTkyMy0xOTI2MTkyOS0xOTJCMTkzMDE5MzExOTMzLTE5MzgxOUIwLTE5QzAxOUM4MTlDOTFBMTktMUExQjFBNTUxQTU3MUE2MTFBNjMxQTY0MUE2RC0xQTcyMUIwNDFCMzUxQjNCMUIzRC0xQjQxMUI0MzFCNDQxQjgyMUJBMTFCQTYxQkE3MUJBQTFDMjQtMUMyQjFDMzQxQzM1MUNFMTFDRjJBODIzQTgyNEE4MjdBODgwQTg4MUE4QjQtQThDM0E5NTJBOTUzQTk4M0E5QjRBOUI1QTlCQUE5QkJBOUJELUE5QzBBQTJGQUEzMEFBMzNBQTM0QUE0REFBN0JBQkUzQUJFNEFCRTZBQkU3QUJFOUFCRUFBQkVDIixNZToiMDQ4ODA0ODkwNkRFMjBERC0yMEUwMjBFMi0yMEU0QTY3MC1BNjcyIixOOiIwMDMwLTAwMzkwMEIyMDBCMzAwQjkwMEJDLTAwQkUwNjYwLTA2NjkwNkYwLTA2RjkwN0MwLTA3QzkwOTY2LTA5NkYwOUU2LTA5RUYwOUY0LTA5RjkwQTY2LTBBNkYwQUU2LTBBRUYwQjY2LTBCNkYwQkU2LTBCRjIwQzY2LTBDNkYwQzc4LTBDN0UwQ0U2LTBDRUYwRDY2LTBENzUwRTUwLTBFNTkwRUQwLTBFRDkwRjIwLTBGMzMxMDQwLTEwNDkxMDkwLTEwOTkxMzY5LTEzN0MxNkVFLTE2RjAxN0UwLTE3RTkxN0YwLTE3RjkxODEwLTE4MTkxOTQ2LTE5NEYxOUQwLTE5REExQTgwLTFBODkxQTkwLTFBOTkxQjUwLTFCNTkxQkIwLTFCQjkxQzQwLTFDNDkxQzUwLTFDNTkyMDcwMjA3NC0yMDc5MjA4MC0yMDg5MjE1MC0yMTgyMjE4NS0yMTg5MjQ2MC0yNDlCMjRFQS0yNEZGMjc3Ni0yNzkzMkNGRDMwMDczMDIxLTMwMjkzMDM4LTMwM0EzMTkyLTMxOTUzMjIwLTMyMjkzMjUxLTMyNUYzMjgwLTMyODkzMkIxLTMyQkZBNjIwLUE2MjlBNkU2LUE2RUZBODMwLUE4MzVBOEQwLUE4RDlBOTAwLUE5MDlBOUQwLUE5RDlBQTUwLUFBNTlBQkYwLUFCRjlGRjEwLUZGMTkiLE5kOiIwMDMwLTAwMzkwNjYwLTA2NjkwNkYwLTA2RjkwN0MwLTA3QzkwOTY2LTA5NkYwOUU2LTA5RUYwQTY2LTBBNkYwQUU2LTBBRUYwQjY2LTBCNkYwQkU2LTBCRUYwQzY2LTBDNkYwQ0U2LTBDRUYwRDY2LTBENkYwRTUwLTBFNTkwRUQwLTBFRDkwRjIwLTBGMjkxMDQwLTEwNDkxMDkwLTEwOTkxN0UwLTE3RTkxODEwLTE4MTkxOTQ2LTE5NEYxOUQwLTE5REExQTgwLTFBODkxQTkwLTFBOTkxQjUwLTFCNTkxQkIwLTFCQjkxQzQwLTFDNDkxQzUwLTFDNTlBNjIwLUE2MjlBOEQwLUE4RDlBOTAwLUE5MDlBOUQwLUE5RDlBQTUwLUFBNTlBQkYwLUFCRjlGRjEwLUZGMTkiLE5sOiIxNkVFLTE2RjAyMTYwLTIxODIyMTg1LTIxODgzMDA3MzAyMS0zMDI5MzAzOC0zMDNBQTZFNi1BNkVGIixObzoiMDBCMjAwQjMwMEI5MDBCQy0wMEJFMDlGNC0wOUY5MEJGMC0wQkYyMEM3OC0wQzdFMEQ3MC0wRDc1MEYyQS0wRjMzMTM2OS0xMzdDMTdGMC0xN0Y5MjA3MDIwNzQtMjA3OTIwODAtMjA4OTIxNTAtMjE1RjIxODkyNDYwLTI0OUIyNEVBLTI0RkYyNzc2LTI3OTMyQ0ZEMzE5Mi0zMTk1MzIyMC0zMjI5MzI1MS0zMjVGMzI4MC0zMjg5MzJCMS0zMkJGQTgzMC1BODM1IixQOiIwMDIxLTAwMjMwMDI1LTAwMkEwMDJDLTAwMkYwMDNBMDAzQjAwM0YwMDQwMDA1Qi0wMDVEMDA1RjAwN0IwMDdEMDBBMTAwQUIwMEI3MDBCQjAwQkYwMzdFMDM4NzA1NUEtMDU1RjA1ODkwNThBMDVCRTA1QzAwNUMzMDVDNjA1RjMwNUY0MDYwOTA2MEEwNjBDMDYwRDA2MUIwNjFFMDYxRjA2NkEtMDY2RDA2RDQwNzAwLTA3MEQwN0Y3LTA3RjkwODMwLTA4M0UwOTY0MDk2NTA5NzAwREY0MEU0RjBFNUEwRTVCMEYwNC0wRjEyMEYzQS0wRjNEMEY4NTBGRDAtMEZENDEwNEEtMTA0RjEwRkIxMzYxLTEzNjgxNDAwMTY2RDE2NkUxNjlCMTY5QzE2RUItMTZFRDE3MzUxNzM2MTdENC0xN0Q2MTdEOC0xN0RBMTgwMC0xODBBMTk0NDE5NDUxOURFMTlERjFBMUUxQTFGMUFBMC0xQUE2MUFBOC0xQUFEMUI1QS0xQjYwMUMzQi0xQzNGMUM3RTFDN0YxQ0QzMjAxMC0yMDI3MjAzMC0yMDQzMjA0NS0yMDUxMjA1My0yMDVFMjA3RDIwN0UyMDhEMjA4RTIzMjkyMzJBMjc2OC0yNzc1MjdDNTI3QzYyN0U2LTI3RUYyOTgzLTI5OTgyOUQ4LTI5REIyOUZDMjlGRDJDRjktMkNGQzJDRkUyQ0ZGMkUwMC0yRTJFMkUzMDJFMzEzMDAxLTMwMDMzMDA4LTMwMTEzMDE0LTMwMUYzMDMwMzAzRDMwQTAzMEZCQTRGRUE0RkZBNjBELUE2MEZBNjczQTY3RUE2RjItQTZGN0E4NzQtQTg3N0E4Q0VBOENGQThGOC1BOEZBQTkyRUE5MkZBOTVGQTlDMS1BOUNEQTlERUE5REZBQTVDLUFBNUZBQURFQUFERkFCRUJGRDNFRkQzRkZFMTAtRkUxOUZFMzAtRkU1MkZFNTQtRkU2MUZFNjNGRTY4RkU2QUZFNkJGRjAxLUZGMDNGRjA1LUZGMEFGRjBDLUZGMEZGRjFBRkYxQkZGMUZGRjIwRkYzQi1GRjNERkYzRkZGNUJGRjVERkY1Ri1GRjY1IixQZDoiMDAyRDA1OEEwNUJFMTQwMDE4MDYyMDEwLTIwMTUyRTE3MkUxQTMwMUMzMDMwMzBBMEZFMzFGRTMyRkU1OEZFNjNGRjBEIixQczoiMDAyODAwNUIwMDdCMEYzQTBGM0MxNjlCMjAxQTIwMUUyMDQ1MjA3RDIwOEQyMzI5Mjc2ODI3NkEyNzZDMjc2RTI3NzAyNzcyMjc3NDI3QzUyN0U2MjdFODI3RUEyN0VDMjdFRTI5ODMyOTg1Mjk4NzI5ODkyOThCMjk4RDI5OEYyOTkxMjk5MzI5OTUyOTk3MjlEODI5REEyOUZDMkUyMjJFMjQyRTI2MkUyODMwMDgzMDBBMzAwQzMwMEUzMDEwMzAxNDMwMTYzMDE4MzAxQTMwMURGRDNFRkUxN0ZFMzVGRTM3RkUzOUZFM0JGRTNERkUzRkZFNDFGRTQzRkU0N0ZFNTlGRTVCRkU1REZGMDhGRjNCRkY1QkZGNUZGRjYyIixQZToiMDAyOTAwNUQwMDdEMEYzQjBGM0QxNjlDMjA0NjIwN0UyMDhFMjMyQTI3NjkyNzZCMjc2RDI3NkYyNzcxMjc3MzI3NzUyN0M2MjdFNzI3RTkyN0VCMjdFRDI3RUYyOTg0Mjk4NjI5ODgyOThBMjk4QzI5OEUyOTkwMjk5MjI5OTQyOTk2Mjk5ODI5RDkyOURCMjlGRDJFMjMyRTI1MkUyNzJFMjkzMDA5MzAwQjMwMEQzMDBGMzAxMTMwMTUzMDE3MzAxOTMwMUIzMDFFMzAxRkZEM0ZGRTE4RkUzNkZFMzhGRTNBRkUzQ0ZFM0VGRTQwRkU0MkZFNDRGRTQ4RkU1QUZFNUNGRTVFRkYwOUZGM0RGRjVERkY2MEZGNjMiLFBpOiIwMEFCMjAxODIwMUIyMDFDMjAxRjIwMzkyRTAyMkUwNDJFMDkyRTBDMkUxQzJFMjAiLFBmOiIwMEJCMjAxOTIwMUQyMDNBMkUwMzJFMDUyRTBBMkUwRDJFMUQyRTIxIixQYzoiMDA1RjIwM0YyMDQwMjA1NEZFMzNGRTM0RkU0RC1GRTRGRkYzRiIsUG86IjAwMjEtMDAyMzAwMjUtMDAyNzAwMkEwMDJDMDAyRTAwMkYwMDNBMDAzQjAwM0YwMDQwMDA1QzAwQTEwMEI3MDBCRjAzN0UwMzg3MDU1QS0wNTVGMDU4OTA1QzAwNUMzMDVDNjA1RjMwNUY0MDYwOTA2MEEwNjBDMDYwRDA2MUIwNjFFMDYxRjA2NkEtMDY2RDA2RDQwNzAwLTA3MEQwN0Y3LTA3RjkwODMwLTA4M0UwOTY0MDk2NTA5NzAwREY0MEU0RjBFNUEwRTVCMEYwNC0wRjEyMEY4NTBGRDAtMEZENDEwNEEtMTA0RjEwRkIxMzYxLTEzNjgxNjZEMTY2RTE2RUItMTZFRDE3MzUxNzM2MTdENC0xN0Q2MTdEOC0xN0RBMTgwMC0xODA1MTgwNy0xODBBMTk0NDE5NDUxOURFMTlERjFBMUUxQTFGMUFBMC0xQUE2MUFBOC0xQUFEMUI1QS0xQjYwMUMzQi0xQzNGMUM3RTFDN0YxQ0QzMjAxNjIwMTcyMDIwLTIwMjcyMDMwLTIwMzgyMDNCLTIwM0UyMDQxLTIwNDMyMDQ3LTIwNTEyMDUzMjA1NS0yMDVFMkNGOS0yQ0ZDMkNGRTJDRkYyRTAwMkUwMTJFMDYtMkUwODJFMEIyRTBFLTJFMTYyRTE4MkUxOTJFMUIyRTFFMkUxRjJFMkEtMkUyRTJFMzAyRTMxMzAwMS0zMDAzMzAzRDMwRkJBNEZFQTRGRkE2MEQtQTYwRkE2NzNBNjdFQTZGMi1BNkY3QTg3NC1BODc3QThDRUE4Q0ZBOEY4LUE4RkFBOTJFQTkyRkE5NUZBOUMxLUE5Q0RBOURFQTlERkFBNUMtQUE1RkFBREVBQURGQUJFQkZFMTAtRkUxNkZFMTlGRTMwRkU0NUZFNDZGRTQ5LUZFNENGRTUwLUZFNTJGRTU0LUZFNTdGRTVGLUZFNjFGRTY4RkU2QUZFNkJGRjAxLUZGMDNGRjA1LUZGMDdGRjBBRkYwQ0ZGMEVGRjBGRkYxQUZGMUJGRjFGRkYyMEZGM0NGRjYxRkY2NEZGNjUiLFM6IjAwMjQwMDJCMDAzQy0wMDNFMDA1RTAwNjAwMDdDMDA3RTAwQTItMDBBOTAwQUMwMEFFLTAwQjEwMEI0MDBCNjAwQjgwMEQ3MDBGNzAyQzItMDJDNTAyRDItMDJERjAyRTUtMDJFQjAyRUQwMkVGLTAyRkYwMzc1MDM4NDAzODUwM0Y2MDQ4MjA2MDYtMDYwODA2MEIwNjBFMDYwRjA2RTkwNkZEMDZGRTA3RjYwOUYyMDlGMzA5RkEwOUZCMEFGMTBCNzAwQkYzLTBCRkEwQzdGMENGMTBDRjIwRDc5MEUzRjBGMDEtMEYwMzBGMTMtMEYxNzBGMUEtMEYxRjBGMzQwRjM2MEYzODBGQkUtMEZDNTBGQzctMEZDQzBGQ0UwRkNGMEZENS0wRkQ4MTA5RTEwOUYxMzYwMTM5MC0xMzk5MTdEQjE5NDAxOUUwLTE5RkYxQjYxLTFCNkExQjc0LTFCN0MxRkJEMUZCRi0xRkMxMUZDRC0xRkNGMUZERC0xRkRGMUZFRC0xRkVGMUZGRDFGRkUyMDQ0MjA1MjIwN0EtMjA3QzIwOEEtMjA4QzIwQTAtMjBCODIxMDAyMTAxMjEwMy0yMTA2MjEwODIxMDkyMTE0MjExNi0yMTE4MjExRS0yMTIzMjEyNTIxMjcyMTI5MjEyRTIxM0EyMTNCMjE0MC0yMTQ0MjE0QS0yMTREMjE0RjIxOTAtMjMyODIzMkItMjNFODI0MDAtMjQyNjI0NDAtMjQ0QTI0OUMtMjRFOTI1MDAtMjZDRDI2Q0YtMjZFMTI2RTMyNkU4LTI2RkYyNzAxLTI3MDQyNzA2LTI3MDkyNzBDLTI3MjcyNzI5LTI3NEIyNzREMjc0Ri0yNzUyMjc1Ni0yNzVFMjc2MS0yNzY3Mjc5NDI3OTgtMjdBRjI3QjEtMjdCRTI3QzAtMjdDNDI3QzctMjdDQTI3Q0MyN0QwLTI3RTUyN0YwLTI5ODIyOTk5LTI5RDcyOURDLTI5RkIyOUZFLTJCNEMyQjUwLTJCNTkyQ0U1LTJDRUEyRTgwLTJFOTkyRTlCLTJFRjMyRjAwLTJGRDUyRkYwLTJGRkIzMDA0MzAxMjMwMTMzMDIwMzAzNjMwMzczMDNFMzAzRjMwOUIzMDlDMzE5MDMxOTEzMTk2LTMxOUYzMUMwLTMxRTMzMjAwLTMyMUUzMjJBLTMyNTAzMjYwLTMyN0YzMjhBLTMyQjAzMkMwLTMyRkUzMzAwLTMzRkY0REMwLTRERkZBNDkwLUE0QzZBNzAwLUE3MTZBNzIwQTcyMUE3ODlBNzhBQTgyOC1BODJCQTgzNi1BODM5QUE3Ny1BQTc5RkIyOUZERkNGREZERkU2MkZFNjQtRkU2NkZFNjlGRjA0RkYwQkZGMUMtRkYxRUZGM0VGRjQwRkY1Q0ZGNUVGRkUwLUZGRTZGRkU4LUZGRUVGRkZDRkZGRCIsU206IjAwMkIwMDNDLTAwM0UwMDdDMDA3RTAwQUMwMEIxMDBENzAwRjcwM0Y2MDYwNi0wNjA4MjA0NDIwNTIyMDdBLTIwN0MyMDhBLTIwOEMyMTQwLTIxNDQyMTRCMjE5MC0yMTk0MjE5QTIxOUIyMUEwMjFBMzIxQTYyMUFFMjFDRTIxQ0YyMUQyMjFENDIxRjQtMjJGRjIzMDgtMjMwQjIzMjAyMzIxMjM3QzIzOUItMjNCMzIzREMtMjNFMTI1QjcyNUMxMjVGOC0yNUZGMjY2RjI3QzAtMjdDNDI3QzctMjdDQTI3Q0MyN0QwLTI3RTUyN0YwLTI3RkYyOTAwLTI5ODIyOTk5LTI5RDcyOURDLTI5RkIyOUZFLTJBRkYyQjMwLTJCNDQyQjQ3LTJCNENGQjI5RkU2MkZFNjQtRkU2NkZGMEJGRjFDLUZGMUVGRjVDRkY1RUZGRTJGRkU5LUZGRUMiLFNjOiIwMDI0MDBBMi0wMEE1MDYwQjA5RjIwOUYzMDlGQjBBRjEwQkY5MEUzRjE3REIyMEEwLTIwQjhBODM4RkRGQ0ZFNjlGRjA0RkZFMEZGRTFGRkU1RkZFNiIsU2s6IjAwNUUwMDYwMDBBODAwQUYwMEI0MDBCODAyQzItMDJDNTAyRDItMDJERjAyRTUtMDJFQjAyRUQwMkVGLTAyRkYwMzc1MDM4NDAzODUxRkJEMUZCRi0xRkMxMUZDRC0xRkNGMUZERC0xRkRGMUZFRC0xRkVGMUZGRDFGRkUzMDlCMzA5Q0E3MDAtQTcxNkE3MjBBNzIxQTc4OUE3OEFGRjNFRkY0MEZGRTMiLFNvOiIwMEE2MDBBNzAwQTkwMEFFMDBCMDAwQjYwNDgyMDYwRTA2MEYwNkU5MDZGRDA2RkUwN0Y2MDlGQTBCNzAwQkYzLTBCRjgwQkZBMEM3RjBDRjEwQ0YyMEQ3OTBGMDEtMEYwMzBGMTMtMEYxNzBGMUEtMEYxRjBGMzQwRjM2MEYzODBGQkUtMEZDNTBGQzctMEZDQzBGQ0UwRkNGMEZENS0wRkQ4MTA5RTEwOUYxMzYwMTM5MC0xMzk5MTk0MDE5RTAtMTlGRjFCNjEtMUI2QTFCNzQtMUI3QzIxMDAyMTAxMjEwMy0yMTA2MjEwODIxMDkyMTE0MjExNi0yMTE4MjExRS0yMTIzMjEyNTIxMjcyMTI5MjEyRTIxM0EyMTNCMjE0QTIxNEMyMTREMjE0RjIxOTUtMjE5OTIxOUMtMjE5RjIxQTEyMUEyMjFBNDIxQTUyMUE3LTIxQUQyMUFGLTIxQ0QyMUQwMjFEMTIxRDMyMUQ1LTIxRjMyMzAwLTIzMDcyMzBDLTIzMUYyMzIyLTIzMjgyMzJCLTIzN0IyMzdELTIzOUEyM0I0LTIzREIyM0UyLTIzRTgyNDAwLTI0MjYyNDQwLTI0NEEyNDlDLTI0RTkyNTAwLTI1QjYyNUI4LTI1QzAyNUMyLTI1RjcyNjAwLTI2NkUyNjcwLTI2Q0QyNkNGLTI2RTEyNkUzMjZFOC0yNkZGMjcwMS0yNzA0MjcwNi0yNzA5MjcwQy0yNzI3MjcyOS0yNzRCMjc0RDI3NEYtMjc1MjI3NTYtMjc1RTI3NjEtMjc2NzI3OTQyNzk4LTI3QUYyN0IxLTI3QkUyODAwLTI4RkYyQjAwLTJCMkYyQjQ1MkI0NjJCNTAtMkI1OTJDRTUtMkNFQTJFODAtMkU5OTJFOUItMkVGMzJGMDAtMkZENTJGRjAtMkZGQjMwMDQzMDEyMzAxMzMwMjAzMDM2MzAzNzMwM0UzMDNGMzE5MDMxOTEzMTk2LTMxOUYzMUMwLTMxRTMzMjAwLTMyMUUzMjJBLTMyNTAzMjYwLTMyN0YzMjhBLTMyQjAzMkMwLTMyRkUzMzAwLTMzRkY0REMwLTRERkZBNDkwLUE0QzZBODI4LUE4MkJBODM2QTgzN0E4MzlBQTc3LUFBNzlGREZERkZFNEZGRThGRkVERkZFRUZGRkNGRkZEIixaOiIwMDIwMDBBMDE2ODAxODBFMjAwMC0yMDBBMjAyODIwMjkyMDJGMjA1RjMwMDAiLFpzOiIwMDIwMDBBMDE2ODAxODBFMjAwMC0yMDBBMjAyRjIwNUYzMDAwIixabDoiMjAyOCIsWnA6IjIwMjkiLEM6IjAwMDAtMDAxRjAwN0YtMDA5RjAwQUQwMzc4MDM3OTAzN0YtMDM4MzAzOEIwMzhEMDNBMjA1MjYtMDUzMDA1NTcwNTU4MDU2MDA1ODgwNThCLTA1OTAwNUM4LTA1Q0YwNUVCLTA1RUYwNUY1LTA2MDUwNjFDMDYxRDA2MjAwNjVGMDZERDA3MEUwNzBGMDc0QjA3NEMwN0IyLTA3QkYwN0ZCLTA3RkYwODJFMDgyRjA4M0YtMDhGRjA5M0EwOTNCMDk0RjA5NTYwOTU3MDk3My0wOTc4MDk4MDA5ODQwOThEMDk4RTA5OTEwOTkyMDlBOTA5QjEwOUIzLTA5QjUwOUJBMDlCQjA5QzUwOUM2MDlDOTA5Q0EwOUNGLTA5RDYwOUQ4LTA5REIwOURFMDlFNDA5RTUwOUZDLTBBMDAwQTA0MEEwQi0wQTBFMEExMTBBMTIwQTI5MEEzMTBBMzQwQTM3MEEzQTBBM0IwQTNEMEE0My0wQTQ2MEE0OTBBNEEwQTRFLTBBNTAwQTUyLTBBNTgwQTVEMEE1Ri0wQTY1MEE3Ni0wQTgwMEE4NDBBOEUwQTkyMEFBOTBBQjEwQUI0MEFCQTBBQkIwQUM2MEFDQTBBQ0UwQUNGMEFEMS0wQURGMEFFNDBBRTUwQUYwMEFGMi0wQjAwMEIwNDBCMEQwQjBFMEIxMTBCMTIwQjI5MEIzMTBCMzQwQjNBMEIzQjBCNDUwQjQ2MEI0OTBCNEEwQjRFLTBCNTUwQjU4LTBCNUIwQjVFMEI2NDBCNjUwQjcyLTBCODEwQjg0MEI4Qi0wQjhEMEI5MTBCOTYtMEI5ODBCOUIwQjlEMEJBMC0wQkEyMEJBNS0wQkE3MEJBQi0wQkFEMEJCQS0wQkJEMEJDMy0wQkM1MEJDOTBCQ0UwQkNGMEJEMS0wQkQ2MEJEOC0wQkU1MEJGQi0wQzAwMEMwNDBDMEQwQzExMEMyOTBDMzQwQzNBLTBDM0MwQzQ1MEM0OTBDNEUtMEM1NDBDNTcwQzVBLTBDNUYwQzY0MEM2NTBDNzAtMEM3NzBDODAwQzgxMEM4NDBDOEQwQzkxMENBOTBDQjQwQ0JBMENCQjBDQzUwQ0M5MENDRS0wQ0Q0MENENy0wQ0REMENERjBDRTQwQ0U1MENGMDBDRjMtMEQwMTBEMDQwRDBEMEQxMTBEMjkwRDNBLTBEM0MwRDQ1MEQ0OTBENEUtMEQ1NjBENTgtMEQ1RjBENjQwRDY1MEQ3Ni0wRDc4MEQ4MDBEODEwRDg0MEQ5Ny0wRDk5MERCMjBEQkMwREJFMERCRjBEQzctMERDOTBEQ0ItMERDRTBERDUwREQ3MERFMC0wREYxMERGNS0wRTAwMEUzQi0wRTNFMEU1Qy0wRTgwMEU4MzBFODUwRTg2MEU4OTBFOEIwRThDMEU4RS0wRTkzMEU5ODBFQTAwRUE0MEVBNjBFQTgwRUE5MEVBQzBFQkEwRUJFMEVCRjBFQzUwRUM3MEVDRTBFQ0YwRURBMEVEQjBFREUtMEVGRjBGNDgwRjZELTBGNzAwRjhDLTBGOEYwRjk4MEZCRDBGQ0QwRkQ5LTBGRkYxMEM2LTEwQ0YxMEZELTEwRkYxMjQ5MTI0RTEyNEYxMjU3MTI1OTEyNUUxMjVGMTI4OTEyOEUxMjhGMTJCMTEyQjYxMkI3MTJCRjEyQzExMkM2MTJDNzEyRDcxMzExMTMxNjEzMTcxMzVCLTEzNUUxMzdELTEzN0YxMzlBLTEzOUYxM0Y1LTEzRkYxNjlELTE2OUYxNkYxLTE2RkYxNzBEMTcxNS0xNzFGMTczNy0xNzNGMTc1NC0xNzVGMTc2RDE3NzExNzc0LTE3N0YxN0I0MTdCNTE3REUxN0RGMTdFQS0xN0VGMTdGQS0xN0ZGMTgwRjE4MUEtMTgxRjE4NzgtMTg3RjE4QUItMThBRjE4RjYtMThGRjE5MUQtMTkxRjE5MkMtMTkyRjE5M0MtMTkzRjE5NDEtMTk0MzE5NkUxOTZGMTk3NS0xOTdGMTlBQy0xOUFGMTlDQS0xOUNGMTlEQi0xOUREMUExQzFBMUQxQTVGMUE3RDFBN0UxQThBLTFBOEYxQTlBLTFBOUYxQUFFLTFBRkYxQjRDLTFCNEYxQjdELTFCN0YxQkFCLTFCQUQxQkJBLTFCRkYxQzM4LTFDM0ExQzRBLTFDNEMxQzgwLTFDQ0YxQ0YzLTFDRkYxREU3LTFERkMxRjE2MUYxNzFGMUUxRjFGMUY0NjFGNDcxRjRFMUY0RjFGNTgxRjVBMUY1QzFGNUUxRjdFMUY3RjFGQjUxRkM1MUZENDFGRDUxRkRDMUZGMDFGRjExRkY1MUZGRjIwMEItMjAwRjIwMkEtMjAyRTIwNjAtMjA2RjIwNzIyMDczMjA4RjIwOTUtMjA5RjIwQjktMjBDRjIwRjEtMjBGRjIxOEEtMjE4RjIzRTktMjNGRjI0MjctMjQzRjI0NEItMjQ1RjI2Q0UyNkUyMjZFNC0yNkU3MjcwMDI3MDUyNzBBMjcwQjI3MjgyNzRDMjc0RTI3NTMtMjc1NTI3NUYyNzYwMjc5NS0yNzk3MjdCMDI3QkYyN0NCMjdDRC0yN0NGMkI0RC0yQjRGMkI1QS0yQkZGMkMyRjJDNUYyQ0YyLTJDRjgyRDI2LTJEMkYyRDY2LTJENkUyRDcwLTJEN0YyRDk3LTJEOUYyREE3MkRBRjJEQjcyREJGMkRDNzJEQ0YyREQ3MkRERjJFMzItMkU3RjJFOUEyRUY0LTJFRkYyRkQ2LTJGRUYyRkZDLTJGRkYzMDQwMzA5NzMwOTgzMTAwLTMxMDQzMTJFLTMxMzAzMThGMzFCOC0zMUJGMzFFNC0zMUVGMzIxRjMyRkY0REI2LTREQkY5RkNDLTlGRkZBNDhELUE0OEZBNEM3LUE0Q0ZBNjJDLUE2M0ZBNjYwQTY2MUE2NzQtQTY3QkE2OTgtQTY5RkE2RjgtQTZGRkE3OEQtQTdGQUE4MkMtQTgyRkE4M0EtQTgzRkE4NzgtQTg3RkE4QzUtQThDREE4REEtQThERkE4RkMtQThGRkE5NTQtQTk1RUE5N0QtQTk3RkE5Q0VBOURBLUE5RERBOUUwLUE5RkZBQTM3LUFBM0ZBQTRFQUE0RkFBNUFBQTVCQUE3Qy1BQTdGQUFDMy1BQURBQUFFMC1BQkJGQUJFRUFCRUZBQkZBLUFCRkZEN0E0LUQ3QUZEN0M3LUQ3Q0FEN0ZDLUY4RkZGQTJFRkEyRkZBNkVGQTZGRkFEQS1GQUZGRkIwNy1GQjEyRkIxOC1GQjFDRkIzN0ZCM0RGQjNGRkI0MkZCNDVGQkIyLUZCRDJGRDQwLUZENEZGRDkwRkQ5MUZEQzgtRkRFRkZERkVGREZGRkUxQS1GRTFGRkUyNy1GRTJGRkU1M0ZFNjdGRTZDLUZFNkZGRTc1RkVGRC1GRjAwRkZCRi1GRkMxRkZDOEZGQzlGRkQwRkZEMUZGRDhGRkQ5RkZERC1GRkRGRkZFN0ZGRUYtRkZGQkZGRkVGRkZGIixDYzoiMDAwMC0wMDFGMDA3Ri0wMDlGIixDZjoiMDBBRDA2MDAtMDYwMzA2REQwNzBGMTdCNDE3QjUyMDBCLTIwMEYyMDJBLTIwMkUyMDYwLTIwNjQyMDZBLTIwNkZGRUZGRkZGOS1GRkZCIixDbzoiRTAwMC1GOEZGIixDczoiRDgwMC1ERkZGIixDbjoiMDM3ODAzNzkwMzdGLTAzODMwMzhCMDM4RDAzQTIwNTI2LTA1MzAwNTU3MDU1ODA1NjAwNTg4MDU4Qi0wNTkwMDVDOC0wNUNGMDVFQi0wNUVGMDVGNS0wNUZGMDYwNDA2MDUwNjFDMDYxRDA2MjAwNjVGMDcwRTA3NEIwNzRDMDdCMi0wN0JGMDdGQi0wN0ZGMDgyRTA4MkYwODNGLTA4RkYwOTNBMDkzQjA5NEYwOTU2MDk1NzA5NzMtMDk3ODA5ODAwOTg0MDk4RDA5OEUwOTkxMDk5MjA5QTkwOUIxMDlCMy0wOUI1MDlCQTA5QkIwOUM1MDlDNjA5QzkwOUNBMDlDRi0wOUQ2MDlEOC0wOURCMDlERTA5RTQwOUU1MDlGQy0wQTAwMEEwNDBBMEItMEEwRTBBMTEwQTEyMEEyOTBBMzEwQTM0MEEzNzBBM0EwQTNCMEEzRDBBNDMtMEE0NjBBNDkwQTRBMEE0RS0wQTUwMEE1Mi0wQTU4MEE1RDBBNUYtMEE2NTBBNzYtMEE4MDBBODQwQThFMEE5MjBBQTkwQUIxMEFCNDBBQkEwQUJCMEFDNjBBQ0EwQUNFMEFDRjBBRDEtMEFERjBBRTQwQUU1MEFGMDBBRjItMEIwMDBCMDQwQjBEMEIwRTBCMTEwQjEyMEIyOTBCMzEwQjM0MEIzQTBCM0IwQjQ1MEI0NjBCNDkwQjRBMEI0RS0wQjU1MEI1OC0wQjVCMEI1RTBCNjQwQjY1MEI3Mi0wQjgxMEI4NDBCOEItMEI4RDBCOTEwQjk2LTBCOTgwQjlCMEI5RDBCQTAtMEJBMjBCQTUtMEJBNzBCQUItMEJBRDBCQkEtMEJCRDBCQzMtMEJDNTBCQzkwQkNFMEJDRjBCRDEtMEJENjBCRDgtMEJFNTBCRkItMEMwMDBDMDQwQzBEMEMxMTBDMjkwQzM0MEMzQS0wQzNDMEM0NTBDNDkwQzRFLTBDNTQwQzU3MEM1QS0wQzVGMEM2NDBDNjUwQzcwLTBDNzcwQzgwMEM4MTBDODQwQzhEMEM5MTBDQTkwQ0I0MENCQTBDQkIwQ0M1MENDOTBDQ0UtMENENDBDRDctMENERDBDREYwQ0U0MENFNTBDRjAwQ0YzLTBEMDEwRDA0MEQwRDBEMTEwRDI5MEQzQS0wRDNDMEQ0NTBENDkwRDRFLTBENTYwRDU4LTBENUYwRDY0MEQ2NTBENzYtMEQ3ODBEODAwRDgxMEQ4NDBEOTctMEQ5OTBEQjIwREJDMERCRTBEQkYwREM3LTBEQzkwRENCLTBEQ0UwREQ1MERENzBERTAtMERGMTBERjUtMEUwMDBFM0ItMEUzRTBFNUMtMEU4MDBFODMwRTg1MEU4NjBFODkwRThCMEU4QzBFOEUtMEU5MzBFOTgwRUEwMEVBNDBFQTYwRUE4MEVBOTBFQUMwRUJBMEVCRTBFQkYwRUM1MEVDNzBFQ0UwRUNGMEVEQTBFREIwRURFLTBFRkYwRjQ4MEY2RC0wRjcwMEY4Qy0wRjhGMEY5ODBGQkQwRkNEMEZEOS0wRkZGMTBDNi0xMENGMTBGRC0xMEZGMTI0OTEyNEUxMjRGMTI1NzEyNTkxMjVFMTI1RjEyODkxMjhFMTI4RjEyQjExMkI2MTJCNzEyQkYxMkMxMTJDNjEyQzcxMkQ3MTMxMTEzMTYxMzE3MTM1Qi0xMzVFMTM3RC0xMzdGMTM5QS0xMzlGMTNGNS0xM0ZGMTY5RC0xNjlGMTZGMS0xNkZGMTcwRDE3MTUtMTcxRjE3MzctMTczRjE3NTQtMTc1RjE3NkQxNzcxMTc3NC0xNzdGMTdERTE3REYxN0VBLTE3RUYxN0ZBLTE3RkYxODBGMTgxQS0xODFGMTg3OC0xODdGMThBQi0xOEFGMThGNi0xOEZGMTkxRC0xOTFGMTkyQy0xOTJGMTkzQy0xOTNGMTk0MS0xOTQzMTk2RTE5NkYxOTc1LTE5N0YxOUFDLTE5QUYxOUNBLTE5Q0YxOURCLTE5REQxQTFDMUExRDFBNUYxQTdEMUE3RTFBOEEtMUE4RjFBOUEtMUE5RjFBQUUtMUFGRjFCNEMtMUI0RjFCN0QtMUI3RjFCQUItMUJBRDFCQkEtMUJGRjFDMzgtMUMzQTFDNEEtMUM0QzFDODAtMUNDRjFDRjMtMUNGRjFERTctMURGQzFGMTYxRjE3MUYxRTFGMUYxRjQ2MUY0NzFGNEUxRjRGMUY1ODFGNUExRjVDMUY1RTFGN0UxRjdGMUZCNTFGQzUxRkQ0MUZENTFGREMxRkYwMUZGMTFGRjUxRkZGMjA2NS0yMDY5MjA3MjIwNzMyMDhGMjA5NS0yMDlGMjBCOS0yMENGMjBGMS0yMEZGMjE4QS0yMThGMjNFOS0yM0ZGMjQyNy0yNDNGMjQ0Qi0yNDVGMjZDRTI2RTIyNkU0LTI2RTcyNzAwMjcwNTI3MEEyNzBCMjcyODI3NEMyNzRFMjc1My0yNzU1Mjc1RjI3NjAyNzk1LTI3OTcyN0IwMjdCRjI3Q0IyN0NELTI3Q0YyQjRELTJCNEYyQjVBLTJCRkYyQzJGMkM1RjJDRjItMkNGODJEMjYtMkQyRjJENjYtMkQ2RTJENzAtMkQ3RjJEOTctMkQ5RjJEQTcyREFGMkRCNzJEQkYyREM3MkRDRjJERDcyRERGMkUzMi0yRTdGMkU5QTJFRjQtMkVGRjJGRDYtMkZFRjJGRkMtMkZGRjMwNDAzMDk3MzA5ODMxMDAtMzEwNDMxMkUtMzEzMDMxOEYzMUI4LTMxQkYzMUU0LTMxRUYzMjFGMzJGRjREQjYtNERCRjlGQ0MtOUZGRkE0OEQtQTQ4RkE0QzctQTRDRkE2MkMtQTYzRkE2NjBBNjYxQTY3NC1BNjdCQTY5OC1BNjlGQTZGOC1BNkZGQTc4RC1BN0ZBQTgyQy1BODJGQTgzQS1BODNGQTg3OC1BODdGQThDNS1BOENEQThEQS1BOERGQThGQy1BOEZGQTk1NC1BOTVFQTk3RC1BOTdGQTlDRUE5REEtQTlEREE5RTAtQTlGRkFBMzctQUEzRkFBNEVBQTRGQUE1QUFBNUJBQTdDLUFBN0ZBQUMzLUFBREFBQUUwLUFCQkZBQkVFQUJFRkFCRkEtQUJGRkQ3QTQtRDdBRkQ3QzctRDdDQUQ3RkMtRDdGRkZBMkVGQTJGRkE2RUZBNkZGQURBLUZBRkZGQjA3LUZCMTJGQjE4LUZCMUNGQjM3RkIzREZCM0ZGQjQyRkI0NUZCQjItRkJEMkZENDAtRkQ0RkZEOTBGRDkxRkRDOC1GREVGRkRGRUZERkZGRTFBLUZFMUZGRTI3LUZFMkZGRTUzRkU2N0ZFNkMtRkU2RkZFNzVGRUZERkVGRUZGMDBGRkJGLUZGQzFGRkM4RkZDOUZGRDBGRkQxRkZEOEZGRDlGRkRELUZGREZGRkU3RkZFRi1GRkY4RkZGRUZGRkYifSkKfSksZGVmaW5lKCJhY2UvdG9rZW5faXRlcmF0b3IiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiXSxmdW5jdGlvbihlLHQpe3ZhciByPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLiRzZXNzaW9uPWUsdGhpcy4kcm93PXQsdGhpcy4kcm93VG9rZW5zPWUuZ2V0VG9rZW5zKHQpO3ZhciByPWUuZ2V0VG9rZW5BdCh0LG4pO3RoaXMuJHRva2VuSW5kZXg9cj9yLmluZGV4Oi0xfTsoZnVuY3Rpb24oKXt0aGlzLnN0ZXBCYWNrd2FyZD1mdW5jdGlvbigpe2Zvcih0aGlzLiR0b2tlbkluZGV4LT0xO3RoaXMuJHRva2VuSW5kZXg8MDspe2lmKHRoaXMuJHJvdy09MSx0aGlzLiRyb3c8MClyZXR1cm4gdGhpcy4kcm93PTAsbnVsbDt0aGlzLiRyb3dUb2tlbnM9dGhpcy4kc2Vzc2lvbi5nZXRUb2tlbnModGhpcy4kcm93KSx0aGlzLiR0b2tlbkluZGV4PXRoaXMuJHJvd1Rva2Vucy5sZW5ndGgtMX1yZXR1cm4gdGhpcy4kcm93VG9rZW5zW3RoaXMuJHRva2VuSW5kZXhdfSx0aGlzLnN0ZXBGb3J3YXJkPWZ1bmN0aW9uKCl7dGhpcy4kdG9rZW5JbmRleCs9MTtmb3IodmFyIGU7dGhpcy4kdG9rZW5JbmRleD49dGhpcy4kcm93VG9rZW5zLmxlbmd0aDspe2lmKHRoaXMuJHJvdys9MSxlfHwoZT10aGlzLiRzZXNzaW9uLmdldExlbmd0aCgpKSx0aGlzLiRyb3c+PWUpcmV0dXJuIHRoaXMuJHJvdz1lLTEsbnVsbDt0aGlzLiRyb3dUb2tlbnM9dGhpcy4kc2Vzc2lvbi5nZXRUb2tlbnModGhpcy4kcm93KSx0aGlzLiR0b2tlbkluZGV4PTB9cmV0dXJuIHRoaXMuJHJvd1Rva2Vuc1t0aGlzLiR0b2tlbkluZGV4XX0sdGhpcy5nZXRDdXJyZW50VG9rZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kcm93VG9rZW5zW3RoaXMuJHRva2VuSW5kZXhdfSx0aGlzLmdldEN1cnJlbnRUb2tlblJvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRyb3d9LHRoaXMuZ2V0Q3VycmVudFRva2VuQ29sdW1uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy4kcm93VG9rZW5zLHQ9dGhpcy4kdG9rZW5JbmRleCxuPWVbdF0uc3RhcnQ7aWYodm9pZCAwIT09bilyZXR1cm4gbjtmb3Iobj0wO3Q+MDspdC09MSxuKz1lW3RdLnZhbHVlLmxlbmd0aDtyZXR1cm4gbn19KS5jYWxsKHIucHJvdG90eXBlKSx0LlRva2VuSXRlcmF0b3I9cn0pLGRlZmluZSgiYWNlL21vZGUvdGV4dF9oaWdobGlnaHRfcnVsZXMiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL2xhbmciXSxmdW5jdGlvbihlLHQpe3ZhciByPWUoIi4uL2xpYi9sYW5nIiksaT1mdW5jdGlvbigpe3RoaXMuJHJ1bGVzPXtzdGFydDpbe3Rva2VuOiJlbXB0eV9saW5lIixyZWdleDoiXiQifSx7ZGVmYXVsdFRva2VuOiJ0ZXh0In1dfX07KGZ1bmN0aW9uKCl7dGhpcy5hZGRSdWxlcz1mdW5jdGlvbihlLHQpe2lmKHQpZm9yKHZhciBuIGluIGUpe2Zvcih2YXIgcj1lW25dLGk9MDtpPHIubGVuZ3RoO2krKyl7dmFyIHM9cltpXTtzLm5leHQmJigic3RyaW5nIiE9dHlwZW9mIHMubmV4dD9zLm5leHRTdGF0ZSYmMCE9PXMubmV4dFN0YXRlLmluZGV4T2YodCkmJihzLm5leHRTdGF0ZT10K3MubmV4dFN0YXRlKTowIT09cy5uZXh0LmluZGV4T2YodCkmJihzLm5leHQ9dCtzLm5leHQpKX10aGlzLiRydWxlc1t0K25dPXJ9ZWxzZSBmb3IodmFyIG4gaW4gZSl0aGlzLiRydWxlc1tuXT1lW25dfSx0aGlzLmdldFJ1bGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHJ1bGVzfSx0aGlzLmVtYmVkUnVsZXM9ZnVuY3Rpb24oZSx0LG4saSxzKXt2YXIgbz0iZnVuY3Rpb24iPT10eXBlb2YgZT8obmV3IGUpLmdldFJ1bGVzKCk6ZTtpZihpKWZvcih2YXIgdT0wO3U8aS5sZW5ndGg7dSsrKWlbdV09dCtpW3VdO2Vsc2V7aT1bXTtmb3IodmFyIGEgaW4gbylpLnB1c2godCthKX1pZih0aGlzLmFkZFJ1bGVzKG8sdCksbilmb3IodmFyIGY9QXJyYXkucHJvdG90eXBlW3M/InB1c2giOiJ1bnNoaWZ0Il0sdT0wO3U8aS5sZW5ndGg7dSsrKWYuYXBwbHkodGhpcy4kcnVsZXNbaVt1XV0sci5kZWVwQ29weShuKSk7dGhpcy4kZW1iZWRzfHwodGhpcy4kZW1iZWRzPVtdKSx0aGlzLiRlbWJlZHMucHVzaCh0KX0sdGhpcy5nZXRFbWJlZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZW1iZWRzfTt2YXIgZT1mdW5jdGlvbihlLHQpe3JldHVybigic3RhcnQiIT1lfHx0Lmxlbmd0aCkmJnQudW5zaGlmdCh0aGlzLm5leHRTdGF0ZSxlKSx0aGlzLm5leHRTdGF0ZX0sdD1mdW5jdGlvbihlLHQpe3JldHVybiB0LnNoaWZ0KCksdC5zaGlmdCgpfHwic3RhcnQifTt0aGlzLm5vcm1hbGl6ZVJ1bGVzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShzKXt2YXIgbz1yW3NdO28ucHJvY2Vzc2VkPSEwO2Zvcih2YXIgdT0wO3U8by5sZW5ndGg7dSsrKXt2YXIgYT1vW3VdOyFhLnJlZ2V4JiZhLnN0YXJ0JiYoYS5yZWdleD1hLnN0YXJ0LGEubmV4dHx8KGEubmV4dD1bXSksYS5uZXh0LnB1c2goe2RlZmF1bHRUb2tlbjphLnRva2VufSx7dG9rZW46YS50b2tlbisiLmVuZCIscmVnZXg6YS5lbmR8fGEuc3RhcnQsbmV4dDoicG9wIn0pLGEudG9rZW49YS50b2tlbisiLnN0YXJ0IixhLnB1c2g9ITApO3ZhciBmPWEubmV4dHx8YS5wdXNoO2lmKGYmJkFycmF5LmlzQXJyYXkoZikpe3ZhciBsPWEuc3RhdGVOYW1lO2x8fChsPWEudG9rZW4sInN0cmluZyIhPXR5cGVvZiBsJiYobD1sWzBdfHwiIikscltsXSYmKGwrPW4rKykpLHJbbF09ZixhLm5leHQ9bCxpKGwpfWVsc2UicG9wIj09ZiYmKGEubmV4dD10KTtpZihhLnB1c2gmJihhLm5leHRTdGF0ZT1hLm5leHR8fGEucHVzaCxhLm5leHQ9ZSxkZWxldGUgYS5wdXNoKSxhLnJ1bGVzKWZvcih2YXIgYyBpbiBhLnJ1bGVzKXJbY10/cltjXS5wdXNoJiZyW2NdLnB1c2guYXBwbHkocltjXSxhLnJ1bGVzW2NdKTpyW2NdPWEucnVsZXNbY107aWYoYS5pbmNsdWRlfHwic3RyaW5nIj09dHlwZW9mIGEpdmFyIGg9YS5pbmNsdWRlfHxhLHA9cltoXTtlbHNlIEFycmF5LmlzQXJyYXkoYSkmJihwPWEpO2lmKHApe3ZhciBkPVt1LDFdLmNvbmNhdChwKTthLm5vRXNjYXBlJiYoZD1kLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hZS5uZXh0fSkpLG8uc3BsaWNlLmFwcGx5KG8sZCksdS0tLHA9bnVsbH1hLmtleXdvcmRNYXAmJihhLnRva2VuPXRoaXMuY3JlYXRlS2V5d29yZE1hcHBlcihhLmtleXdvcmRNYXAsYS5kZWZhdWx0VG9rZW58fCJ0ZXh0IixhLmNhc2VJbnNlbnNpdGl2ZSksZGVsZXRlIGEuZGVmYXVsdFRva2VuKX19dmFyIG49MCxyPXRoaXMuJHJ1bGVzO09iamVjdC5rZXlzKHIpLmZvckVhY2goaSx0aGlzKX0sdGhpcy5jcmVhdGVLZXl3b3JkTWFwcGVyPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHM9ZVt0XTtuJiYocz1zLnRvTG93ZXJDYXNlKCkpO2Zvcih2YXIgbz1zLnNwbGl0KHJ8fCJ8IiksdT1vLmxlbmd0aDt1LS07KWlbb1t1XV09dH0pLE9iamVjdC5nZXRQcm90b3R5cGVPZihpKSYmKGkuX19wcm90b19fPW51bGwpLHRoaXMuJGtleXdvcmRMaXN0PU9iamVjdC5rZXlzKGkpLGU9bnVsbCxuP2Z1bmN0aW9uKGUpe3JldHVybiBpW2UudG9Mb3dlckNhc2UoKV18fHR9OmZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHx0fX0sdGhpcy5nZXRLZXl3b3Jkcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRrZXl3b3Jkc319KS5jYWxsKGkucHJvdG90eXBlKSx0LlRleHRIaWdobGlnaHRSdWxlcz1pfSksZGVmaW5lKCJhY2UvYW5jaG9yIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9vb3AiLCJhY2UvbGliL2V2ZW50X2VtaXR0ZXIiXSxmdW5jdGlvbihlLHQpe3ZhciByPWUoIi4vbGliL29vcCIpLGk9ZSgiLi9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcixzPXQuQW5jaG9yPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLiRvbkNoYW5nZT10aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyksdGhpcy5hdHRhY2goZSksInVuZGVmaW5lZCI9PXR5cGVvZiBuP3RoaXMuc2V0UG9zaXRpb24odC5yb3csdC5jb2x1bW4pOnRoaXMuc2V0UG9zaXRpb24odCxuKX07KGZ1bmN0aW9uKCl7ci5pbXBsZW1lbnQodGhpcyxpKSx0aGlzLmdldFBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQodGhpcy5yb3csdGhpcy5jb2x1bW4pfSx0aGlzLmdldERvY3VtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jdW1lbnR9LHRoaXMuJGluc2VydFJpZ2h0PSExLHRoaXMub25DaGFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kYXRhLG49dC5yYW5nZTtpZigobi5zdGFydC5yb3chPW4uZW5kLnJvd3x8bi5zdGFydC5yb3c9PXRoaXMucm93KSYmIShuLnN0YXJ0LnJvdz50aGlzLnJvd3x8bi5zdGFydC5yb3c9PXRoaXMucm93JiZuLnN0YXJ0LmNvbHVtbj50aGlzLmNvbHVtbikpe3ZhciByPXRoaXMucm93LGk9dGhpcy5jb2x1bW4scz1uLnN0YXJ0LG89bi5lbmQ7Imluc2VydFRleHQiPT09dC5hY3Rpb24/cy5yb3c9PT1yJiZzLmNvbHVtbjw9aT9zLmNvbHVtbj09PWkmJnRoaXMuJGluc2VydFJpZ2h0fHwocy5yb3c9PT1vLnJvdz9pKz1vLmNvbHVtbi1zLmNvbHVtbjooaS09cy5jb2x1bW4scis9by5yb3ctcy5yb3cpKTpzLnJvdyE9PW8ucm93JiZzLnJvdzxyJiYocis9by5yb3ctcy5yb3cpOiJpbnNlcnRMaW5lcyI9PT10LmFjdGlvbj9zLnJvdzw9ciYmKHIrPW8ucm93LXMucm93KToicmVtb3ZlVGV4dCI9PT10LmFjdGlvbj9zLnJvdz09PXImJnMuY29sdW1uPGk/aT1vLmNvbHVtbj49aT9zLmNvbHVtbjpNYXRoLm1heCgwLGktKG8uY29sdW1uLXMuY29sdW1uKSk6cy5yb3chPT1vLnJvdyYmcy5yb3c8cj8oby5yb3c9PT1yJiYoaT1NYXRoLm1heCgwLGktby5jb2x1bW4pK3MuY29sdW1uKSxyLT1vLnJvdy1zLnJvdyk6by5yb3c9PT1yJiYoci09by5yb3ctcy5yb3csaT1NYXRoLm1heCgwLGktby5jb2x1bW4pK3MuY29sdW1uKToicmVtb3ZlTGluZXMiPT10LmFjdGlvbiYmcy5yb3c8PXImJihvLnJvdzw9cj9yLT1vLnJvdy1zLnJvdzoocj1zLnJvdyxpPTApKSx0aGlzLnNldFBvc2l0aW9uKHIsaSwhMCl9fSx0aGlzLnNldFBvc2l0aW9uPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZihyPW4/e3JvdzplLGNvbHVtbjp0fTp0aGlzLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50KGUsdCksdGhpcy5yb3chPXIucm93fHx0aGlzLmNvbHVtbiE9ci5jb2x1bW4pe3ZhciBpPXtyb3c6dGhpcy5yb3csY29sdW1uOnRoaXMuY29sdW1ufTt0aGlzLnJvdz1yLnJvdyx0aGlzLmNvbHVtbj1yLmNvbHVtbix0aGlzLl9zaWduYWwoImNoYW5nZSIse29sZDppLHZhbHVlOnJ9KX19LHRoaXMuZGV0YWNoPWZ1bmN0aW9uKCl7dGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJjaGFuZ2UiLHRoaXMuJG9uQ2hhbmdlKX0sdGhpcy5hdHRhY2g9ZnVuY3Rpb24oZSl7dGhpcy5kb2N1bWVudD1lfHx0aGlzLmRvY3VtZW50LHRoaXMuZG9jdW1lbnQub24oImNoYW5nZSIsdGhpcy4kb25DaGFuZ2UpfSx0aGlzLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuIGU+PXRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCk/KG4ucm93PU1hdGgubWF4KDAsdGhpcy5kb2N1bWVudC5nZXRMZW5ndGgoKS0xKSxuLmNvbHVtbj10aGlzLmRvY3VtZW50LmdldExpbmUobi5yb3cpLmxlbmd0aCk6MD5lPyhuLnJvdz0wLG4uY29sdW1uPTApOihuLnJvdz1lLG4uY29sdW1uPU1hdGgubWluKHRoaXMuZG9jdW1lbnQuZ2V0TGluZShuLnJvdykubGVuZ3RoLE1hdGgubWF4KDAsdCkpKSwwPnQmJihuLmNvbHVtbj0wKSxufX0pLmNhbGwocy5wcm90b3R5cGUpfSksZGVmaW5lKCJhY2UvYmFja2dyb3VuZF90b2tlbml6ZXIiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL29vcCIsImFjZS9saWIvZXZlbnRfZW1pdHRlciJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSgiLi9saWIvb29wIiksaT1lKCIuL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyLHM9ZnVuY3Rpb24oZSl7dGhpcy5ydW5uaW5nPSExLHRoaXMubGluZXM9W10sdGhpcy5zdGF0ZXM9W10sdGhpcy5jdXJyZW50TGluZT0wLHRoaXMudG9rZW5pemVyPWU7dmFyIG49dGhpczt0aGlzLiR3b3JrZXI9ZnVuY3Rpb24oKXtpZihuLnJ1bm5pbmcpe2Zvcih2YXIgZT1uZXcgRGF0ZSx0PW4uY3VycmVudExpbmUscj0tMSxpPW4uZG9jO24ubGluZXNbdF07KXQrKzt2YXIgcz10LG89aS5nZXRMZW5ndGgoKSx1PTA7Zm9yKG4ucnVubmluZz0hMTtvPnQ7KXtuLiR0b2tlbml6ZVJvdyh0KSxyPXQ7ZG8gdCsrO3doaWxlKG4ubGluZXNbdF0pO2lmKHUrKyx1JTU9PTAmJm5ldyBEYXRlLWU+MjApcmV0dXJuIG4ucnVubmluZz1zZXRUaW1lb3V0KG4uJHdvcmtlciwyMCksdm9pZChuLmN1cnJlbnRMaW5lPXQpfW4uY3VycmVudExpbmU9dCxyPj1zJiZuLmZpcmVVcGRhdGVFdmVudChzLHIpfX19OyhmdW5jdGlvbigpe3IuaW1wbGVtZW50KHRoaXMsaSksdGhpcy5zZXRUb2tlbml6ZXI9ZnVuY3Rpb24oZSl7dGhpcy50b2tlbml6ZXI9ZSx0aGlzLmxpbmVzPVtdLHRoaXMuc3RhdGVzPVtdLHRoaXMuc3RhcnQoMCl9LHRoaXMuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dGhpcy5kb2M9ZSx0aGlzLmxpbmVzPVtdLHRoaXMuc3RhdGVzPVtdLHRoaXMuc3RvcCgpfSx0aGlzLmZpcmVVcGRhdGVFdmVudD1mdW5jdGlvbihlLHQpe3ZhciBuPXtmaXJzdDplLGxhc3Q6dH07dGhpcy5fc2lnbmFsKCJ1cGRhdGUiLHtkYXRhOm59KX0sdGhpcy5zdGFydD1mdW5jdGlvbihlKXt0aGlzLmN1cnJlbnRMaW5lPU1hdGgubWluKGV8fDAsdGhpcy5jdXJyZW50TGluZSx0aGlzLmRvYy5nZXRMZW5ndGgoKSksdGhpcy5saW5lcy5zcGxpY2UodGhpcy5jdXJyZW50TGluZSx0aGlzLmxpbmVzLmxlbmd0aCksdGhpcy5zdGF0ZXMuc3BsaWNlKHRoaXMuY3VycmVudExpbmUsdGhpcy5zdGF0ZXMubGVuZ3RoKSx0aGlzLnN0b3AoKSx0aGlzLnJ1bm5pbmc9c2V0VGltZW91dCh0aGlzLiR3b3JrZXIsNzAwKX0sdGhpcy5zY2hlZHVsZVN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5ydW5uaW5nfHwodGhpcy5ydW5uaW5nPXNldFRpbWVvdXQodGhpcy4kd29ya2VyLDcwMCkpfSx0aGlzLiR1cGRhdGVPbkNoYW5nZT1mdW5jdGlvbihlKXt2YXIgdD1lLnJhbmdlLG49dC5zdGFydC5yb3cscj10LmVuZC5yb3ctbjtpZigwPT09cil0aGlzLmxpbmVzW25dPW51bGw7ZWxzZSBpZigicmVtb3ZlVGV4dCI9PWUuYWN0aW9ufHwicmVtb3ZlTGluZXMiPT1lLmFjdGlvbil0aGlzLmxpbmVzLnNwbGljZShuLHIrMSxudWxsKSx0aGlzLnN0YXRlcy5zcGxpY2UobixyKzEsbnVsbCk7ZWxzZXt2YXIgaT1BcnJheShyKzEpO2kudW5zaGlmdChuLDEpLHRoaXMubGluZXMuc3BsaWNlLmFwcGx5KHRoaXMubGluZXMsaSksdGhpcy5zdGF0ZXMuc3BsaWNlLmFwcGx5KHRoaXMuc3RhdGVzLGkpfXRoaXMuY3VycmVudExpbmU9TWF0aC5taW4obix0aGlzLmN1cnJlbnRMaW5lLHRoaXMuZG9jLmdldExlbmd0aCgpKSx0aGlzLnN0b3AoKX0sdGhpcy5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5ydW5uaW5nJiZjbGVhclRpbWVvdXQodGhpcy5ydW5uaW5nKSx0aGlzLnJ1bm5pbmc9ITF9LHRoaXMuZ2V0VG9rZW5zPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmxpbmVzW2VdfHx0aGlzLiR0b2tlbml6ZVJvdyhlKX0sdGhpcy5nZXRTdGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jdXJyZW50TGluZT09ZSYmdGhpcy4kdG9rZW5pemVSb3coZSksdGhpcy5zdGF0ZXNbZV18fCJzdGFydCJ9LHRoaXMuJHRva2VuaXplUm93PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZG9jLmdldExpbmUoZSksbj10aGlzLnN0YXRlc1tlLTFdLHI9dGhpcy50b2tlbml6ZXIuZ2V0TGluZVRva2Vucyh0LG4sZSk7cmV0dXJuIHRoaXMuc3RhdGVzW2VdKyIiIT1yLnN0YXRlKyIiPyh0aGlzLnN0YXRlc1tlXT1yLnN0YXRlLHRoaXMubGluZXNbZSsxXT1udWxsLHRoaXMuY3VycmVudExpbmU+ZSsxJiYodGhpcy5jdXJyZW50TGluZT1lKzEpKTp0aGlzLmN1cnJlbnRMaW5lPT1lJiYodGhpcy5jdXJyZW50TGluZT1lKzEpLHRoaXMubGluZXNbZV09ci50b2tlbnN9fSkuY2FsbChzLnByb3RvdHlwZSksdC5CYWNrZ3JvdW5kVG9rZW5pemVyPXN9KSxkZWZpbmUoImFjZS9zZWFyY2hfaGlnaGxpZ2h0IixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9sYW5nIiwiYWNlL2xpYi9vb3AiLCJhY2UvcmFuZ2UiXSxmdW5jdGlvbihlLHQpe3ZhciByPWUoIi4vbGliL2xhbmciKSxzPShlKCIuL2xpYi9vb3AiKSxlKCIuL3JhbmdlIikuUmFuZ2UpLG89ZnVuY3Rpb24oZSx0LG4pe3RoaXMuc2V0UmVnZXhwKGUpLHRoaXMuY2xheno9dCx0aGlzLnR5cGU9bnx8InRleHQifTsoZnVuY3Rpb24oKXt0aGlzLk1BWF9SQU5HRVM9NTAwLHRoaXMuc2V0UmVnZXhwPWZ1bmN0aW9uKGUpe3RoaXMucmVnRXhwKyIiIT1lKyIiJiYodGhpcy5yZWdFeHA9ZSx0aGlzLmNhY2hlPVtdKX0sdGhpcy51cGRhdGU9ZnVuY3Rpb24oZSx0LG4saSl7aWYodGhpcy5yZWdFeHApZm9yKHZhciBvPWkuZmlyc3RSb3csdT1pLmxhc3RSb3csYT1vO3U+PWE7YSsrKXt2YXIgZj10aGlzLmNhY2hlW2FdO251bGw9PWYmJihmPXIuZ2V0TWF0Y2hPZmZzZXRzKG4uZ2V0TGluZShhKSx0aGlzLnJlZ0V4cCksZi5sZW5ndGg+dGhpcy5NQVhfUkFOR0VTJiYoZj1mLnNsaWNlKDAsdGhpcy5NQVhfUkFOR0VTKSksZj1mLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IHMoYSxlLm9mZnNldCxhLGUub2Zmc2V0K2UubGVuZ3RoKX0pLHRoaXMuY2FjaGVbYV09Zi5sZW5ndGg/ZjoiIik7Zm9yKHZhciBsPWYubGVuZ3RoO2wtLTspdC5kcmF3U2luZ2xlTGluZU1hcmtlcihlLGZbbF0udG9TY3JlZW5SYW5nZShuKSx0aGlzLmNsYXp6LGkpfX19KS5jYWxsKG8ucHJvdG90eXBlKSx0LlNlYXJjaEhpZ2hsaWdodD1vfSksZGVmaW5lKCJhY2UvZWRpdF9zZXNzaW9uL2ZvbGRpbmciLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvcmFuZ2UiLCJhY2UvZWRpdF9zZXNzaW9uL2ZvbGRfbGluZSIsImFjZS9lZGl0X3Nlc3Npb24vZm9sZCIsImFjZS90b2tlbl9pdGVyYXRvciJdLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gdSgpe3RoaXMuZ2V0Rm9sZEF0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLmdldEZvbGRMaW5lKGUpO2lmKCFyKXJldHVybiBudWxsO2Zvcih2YXIgaT1yLmZvbGRzLHM9MDtzPGkubGVuZ3RoO3MrKyl7dmFyIG89aVtzXTtpZihvLnJhbmdlLmNvbnRhaW5zKGUsdCkpe2lmKDE9PW4mJm8ucmFuZ2UuaXNFbmQoZSx0KSljb250aW51ZTtpZigtMT09biYmby5yYW5nZS5pc1N0YXJ0KGUsdCkpY29udGludWU7cmV0dXJuIG99fX0sdGhpcy5nZXRGb2xkc0luUmFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGFydCxuPWUuZW5kLHI9dGhpcy4kZm9sZERhdGEsaT1bXTt0LmNvbHVtbis9MSxuLmNvbHVtbi09MTtmb3IodmFyIHM9MDtzPHIubGVuZ3RoO3MrKyl7dmFyIG89cltzXS5yYW5nZS5jb21wYXJlUmFuZ2UoZSk7aWYoMiE9byl7aWYoLTI9PW8pYnJlYWs7Zm9yKHZhciB1PXJbc10uZm9sZHMsYT0wO2E8dS5sZW5ndGg7YSsrKXt2YXIgZj11W2FdO2lmKG89Zi5yYW5nZS5jb21wYXJlUmFuZ2UoZSksLTI9PW8pYnJlYWs7aWYoMiE9byl7aWYoNDI9PW8pYnJlYWs7aS5wdXNoKGYpfX19fXJldHVybiB0LmNvbHVtbi09MSxuLmNvbHVtbis9MSxpfSx0aGlzLmdldEZvbGRzSW5SYW5nZUxpc3Q9ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSl7dmFyIHQ9W107ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Q9dC5jb25jYXQodGhpcy5nZXRGb2xkc0luUmFuZ2UoZSkpfSx0aGlzKX1lbHNlIHZhciB0PXRoaXMuZ2V0Rm9sZHNJblJhbmdlKGUpO3JldHVybiB0fSx0aGlzLmdldEFsbEZvbGRzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9dGhpcy4kZm9sZERhdGEsbj0wO248dC5sZW5ndGg7bisrKWZvcih2YXIgcj0wO3I8dFtuXS5mb2xkcy5sZW5ndGg7cisrKWUucHVzaCh0W25dLmZvbGRzW3JdKTtyZXR1cm4gZX0sdGhpcy5nZXRGb2xkU3RyaW5nQXQ9ZnVuY3Rpb24oZSx0LG4scil7aWYocj1yfHx0aGlzLmdldEZvbGRMaW5lKGUpLCFyKXJldHVybiBudWxsO2Zvcih2YXIgcyxvLGk9e2VuZDp7Y29sdW1uOjB9fSx1PTA7dTxyLmZvbGRzLmxlbmd0aDt1Kyspe289ci5mb2xkc1t1XTt2YXIgYT1vLnJhbmdlLmNvbXBhcmVFbmQoZSx0KTtpZigtMT09YSl7cz10aGlzLmdldExpbmUoby5zdGFydC5yb3cpLnN1YnN0cmluZyhpLmVuZC5jb2x1bW4sby5zdGFydC5jb2x1bW4pO2JyZWFrfWlmKDA9PT1hKXJldHVybiBudWxsO2k9b31yZXR1cm4gc3x8KHM9dGhpcy5nZXRMaW5lKG8uc3RhcnQucm93KS5zdWJzdHJpbmcoaS5lbmQuY29sdW1uKSksLTE9PW4/cy5zdWJzdHJpbmcoMCx0LWkuZW5kLmNvbHVtbik6MT09bj9zLnN1YnN0cmluZyh0LWkuZW5kLmNvbHVtbik6c30sdGhpcy5nZXRGb2xkTGluZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuJGZvbGREYXRhLHI9MDtmb3IodCYmKHI9bi5pbmRleE9mKHQpKSwtMT09ciYmKHI9MCkscjtyPG4ubGVuZ3RoO3IrKyl7dmFyIGk9bltyXTtpZihpLnN0YXJ0LnJvdzw9ZSYmaS5lbmQucm93Pj1lKXJldHVybiBpO2lmKGkuZW5kLnJvdz5lKXJldHVybiBudWxsfXJldHVybiBudWxsfSx0aGlzLmdldE5leHRGb2xkTGluZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuJGZvbGREYXRhLHI9MDtmb3IodCYmKHI9bi5pbmRleE9mKHQpKSwtMT09ciYmKHI9MCkscjtyPG4ubGVuZ3RoO3IrKyl7dmFyIGk9bltyXTtpZihpLmVuZC5yb3c+PWUpcmV0dXJuIGl9cmV0dXJuIG51bGx9LHRoaXMuZ2V0Rm9sZGVkUm93Q291bnQ9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dGhpcy4kZm9sZERhdGEscj10LWUrMSxpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciBzPW5baV0sbz1zLmVuZC5yb3csdT1zLnN0YXJ0LnJvdztpZihvPj10KXt0PnUmJih1Pj1lP3ItPXQtdTpyPTApO2JyZWFrfW8+PWUmJihyLT11Pj1lP28tdTpvLWUrMSl9cmV0dXJuIHJ9LHRoaXMuJGFkZEZvbGRMaW5lPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLiRmb2xkRGF0YS5wdXNoKGUpLHRoaXMuJGZvbGREYXRhLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zdGFydC5yb3ctdC5zdGFydC5yb3d9KSxlfSx0aGlzLmFkZEZvbGQ9ZnVuY3Rpb24oZSx0KXt2YXIgbyxuPXRoaXMuJGZvbGREYXRhLHI9ITE7ZSBpbnN0YW5jZW9mIHM/bz1lOihvPW5ldyBzKHQsZSksby5jb2xsYXBzZUNoaWxkcmVuPXQuY29sbGFwc2VDaGlsZHJlbiksdGhpcy4kY2xpcFJhbmdlVG9Eb2N1bWVudChvLnJhbmdlKTt2YXIgdT1vLnN0YXJ0LnJvdyxhPW8uc3RhcnQuY29sdW1uLGY9by5lbmQucm93LGw9by5lbmQuY29sdW1uO2lmKGY+dXx8dT09ZiYmbC0yPj1hKXt2YXIgYz10aGlzLmdldEZvbGRBdCh1LGEsMSksaD10aGlzLmdldEZvbGRBdChmLGwsLTEpO2lmKGMmJmg9PWMpcmV0dXJuIGMuYWRkU3ViRm9sZChvKTtpZihjJiYhYy5yYW5nZS5pc1N0YXJ0KHUsYSl8fGgmJiFoLnJhbmdlLmlzRW5kKGYsbCkpdGhyb3cgbmV3IEVycm9yKCJBIGZvbGQgY2FuJ3QgaW50ZXJzZWN0IGFscmVhZHkgZXhpc3RpbmcgZm9sZCIrby5yYW5nZStjLnJhbmdlKTt2YXIgcD10aGlzLmdldEZvbGRzSW5SYW5nZShvLnJhbmdlKTtwLmxlbmd0aD4wJiYodGhpcy5yZW1vdmVGb2xkcyhwKSxwLmZvckVhY2goZnVuY3Rpb24oZSl7by5hZGRTdWJGb2xkKGUpfSkpO2Zvcih2YXIgZD0wO2Q8bi5sZW5ndGg7ZCsrKXt2YXIgdj1uW2RdO2lmKGY9PXYuc3RhcnQucm93KXt2LmFkZEZvbGQobykscj0hMDticmVha31pZih1PT12LmVuZC5yb3cpe2lmKHYuYWRkRm9sZChvKSxyPSEwLCFvLnNhbWVSb3cpe3ZhciBtPW5bZCsxXTtpZihtJiZtLnN0YXJ0LnJvdz09Zil7di5tZXJnZShtKTticmVha319YnJlYWt9aWYoZjw9di5zdGFydC5yb3cpYnJlYWt9cmV0dXJuIHJ8fCh2PXRoaXMuJGFkZEZvbGRMaW5lKG5ldyBpKHRoaXMuJGZvbGREYXRhLG8pKSksdGhpcy4kdXNlV3JhcE1vZGU/dGhpcy4kdXBkYXRlV3JhcERhdGEodi5zdGFydC5yb3csdi5zdGFydC5yb3cpOnRoaXMuJHVwZGF0ZVJvd0xlbmd0aENhY2hlKHYuc3RhcnQucm93LHYuc3RhcnQucm93KSx0aGlzLiRtb2RpZmllZD0hMCx0aGlzLl9lbWl0KCJjaGFuZ2VGb2xkIix7ZGF0YTpvLGFjdGlvbjoiYWRkIn0pLG99dGhyb3cgbmV3IEVycm9yKCJUaGUgcmFuZ2UgaGFzIHRvIGJlIGF0IGxlYXN0IDIgY2hhcmFjdGVycyB3aWR0aCIpfSx0aGlzLmFkZEZvbGRzPWZ1bmN0aW9uKGUpe2UuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLmFkZEZvbGQoZSl9LHRoaXMpfSx0aGlzLnJlbW92ZUZvbGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5mb2xkTGluZSxuPXQuc3RhcnQucm93LHI9dC5lbmQucm93LGk9dGhpcy4kZm9sZERhdGEscz10LmZvbGRzO2lmKDE9PXMubGVuZ3RoKWkuc3BsaWNlKGkuaW5kZXhPZih0KSwxKTtlbHNlIGlmKHQucmFuZ2UuaXNFbmQoZS5lbmQucm93LGUuZW5kLmNvbHVtbikpcy5wb3AoKSx0LmVuZC5yb3c9c1tzLmxlbmd0aC0xXS5lbmQucm93LHQuZW5kLmNvbHVtbj1zW3MubGVuZ3RoLTFdLmVuZC5jb2x1bW47ZWxzZSBpZih0LnJhbmdlLmlzU3RhcnQoZS5zdGFydC5yb3csZS5zdGFydC5jb2x1bW4pKXMuc2hpZnQoKSx0LnN0YXJ0LnJvdz1zWzBdLnN0YXJ0LnJvdyx0LnN0YXJ0LmNvbHVtbj1zWzBdLnN0YXJ0LmNvbHVtbjtlbHNlIGlmKGUuc2FtZVJvdylzLnNwbGljZShzLmluZGV4T2YoZSksMSk7ZWxzZXt2YXIgbz10LnNwbGl0KGUuc3RhcnQucm93LGUuc3RhcnQuY29sdW1uKTtzPW8uZm9sZHMscy5zaGlmdCgpLG8uc3RhcnQucm93PXNbMF0uc3RhcnQucm93LG8uc3RhcnQuY29sdW1uPXNbMF0uc3RhcnQuY29sdW1ufXRoaXMuJHVwZGF0aW5nfHwodGhpcy4kdXNlV3JhcE1vZGU/dGhpcy4kdXBkYXRlV3JhcERhdGEobixyKTp0aGlzLiR1cGRhdGVSb3dMZW5ndGhDYWNoZShuLHIpKSx0aGlzLiRtb2RpZmllZD0hMCx0aGlzLl9lbWl0KCJjaGFuZ2VGb2xkIix7ZGF0YTplLGFjdGlvbjoicmVtb3ZlIn0pfSx0aGlzLnJlbW92ZUZvbGRzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTA7bjxlLmxlbmd0aDtuKyspdC5wdXNoKGVbbl0pO3QuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLnJlbW92ZUZvbGQoZSl9LHRoaXMpLHRoaXMuJG1vZGlmaWVkPSEwfSx0aGlzLmV4cGFuZEZvbGQ9ZnVuY3Rpb24oZSl7dGhpcy5yZW1vdmVGb2xkKGUpLGUuc3ViRm9sZHMuZm9yRWFjaChmdW5jdGlvbih0KXtlLnJlc3RvcmVSYW5nZSh0KSx0aGlzLmFkZEZvbGQodCl9LHRoaXMpLGUuY29sbGFwc2VDaGlsZHJlbj4wJiZ0aGlzLmZvbGRBbGwoZS5zdGFydC5yb3crMSxlLmVuZC5yb3csZS5jb2xsYXBzZUNoaWxkcmVuLTEpLGUuc3ViRm9sZHM9W119LHRoaXMuZXhwYW5kRm9sZHM9ZnVuY3Rpb24oZSl7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RoaXMuZXhwYW5kRm9sZChlKX0sdGhpcyl9LHRoaXMudW5mb2xkPWZ1bmN0aW9uKGUsdCl7dmFyIG4saTtpZihudWxsPT1lPyhuPW5ldyByKDAsMCx0aGlzLmdldExlbmd0aCgpLDApLHQ9ITApOm49Im51bWJlciI9PXR5cGVvZiBlP25ldyByKGUsMCxlLHRoaXMuZ2V0TGluZShlKS5sZW5ndGgpOiJyb3ciaW4gZT9yLmZyb21Qb2ludHMoZSxlKTplLGk9dGhpcy5nZXRGb2xkc0luUmFuZ2VMaXN0KG4pLHQpdGhpcy5yZW1vdmVGb2xkcyhpKTtlbHNlIGZvcih2YXIgcz1pO3MubGVuZ3RoOyl0aGlzLmV4cGFuZEZvbGRzKHMpLHM9dGhpcy5nZXRGb2xkc0luUmFuZ2VMaXN0KG4pO3JldHVybiBpLmxlbmd0aD9pOnZvaWQgMH0sdGhpcy5pc1Jvd0ZvbGRlZD1mdW5jdGlvbihlLHQpe3JldHVybiEhdGhpcy5nZXRGb2xkTGluZShlLHQpfSx0aGlzLmdldFJvd0ZvbGRFbmQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmdldEZvbGRMaW5lKGUsdCk7cmV0dXJuIG4/bi5lbmQucm93OmV9LHRoaXMuZ2V0Um93Rm9sZFN0YXJ0PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5nZXRGb2xkTGluZShlLHQpO3JldHVybiBuP24uc3RhcnQucm93OmV9LHRoaXMuZ2V0Rm9sZERpc3BsYXlMaW5lPWZ1bmN0aW9uKGUsdCxuLHIsaSl7bnVsbD09ciYmKHI9ZS5zdGFydC5yb3csaT0wKSxudWxsPT10JiYodD1lLmVuZC5yb3csbj10aGlzLmdldExpbmUodCkubGVuZ3RoKTt2YXIgcz10aGlzLmRvYyxvPSIiO3JldHVybiBlLndhbGsoZnVuY3Rpb24oZSx0LG4sdSl7aWYoIShyPnQpKXtpZih0PT1yKXtpZihpPm4pcmV0dXJuO3U9TWF0aC5tYXgoaSx1KX1vKz1udWxsIT1lP2U6cy5nZXRMaW5lKHQpLnN1YnN0cmluZyh1LG4pfX0sdCxuKSxvfSx0aGlzLmdldERpc3BsYXlMaW5lPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXRoaXMuZ2V0Rm9sZExpbmUoZSk7aWYoIWkpe3ZhciBzO3JldHVybiBzPXRoaXMuZG9jLmdldExpbmUoZSkscy5zdWJzdHJpbmcocnx8MCx0fHxzLmxlbmd0aCl9cmV0dXJuIHRoaXMuZ2V0Rm9sZERpc3BsYXlMaW5lKGksZSx0LG4scil9LHRoaXMuJGNsb25lRm9sZERhdGE9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gZT10aGlzLiRmb2xkRGF0YS5tYXAoZnVuY3Rpb24odCl7dmFyIG49dC5mb2xkcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xvbmUoKX0pO3JldHVybiBuZXcgaShlLG4pfSl9LHRoaXMudG9nZ2xlRm9sZD1mdW5jdGlvbihlKXt2YXIgcixpLHQ9dGhpcy5zZWxlY3Rpb24sbj10LmdldFJhbmdlKCk7aWYobi5pc0VtcHR5KCkpe3ZhciBzPW4uc3RhcnQ7aWYocj10aGlzLmdldEZvbGRBdChzLnJvdyxzLmNvbHVtbikpcmV0dXJuIHZvaWQgdGhpcy5leHBhbmRGb2xkKHIpOyhpPXRoaXMuZmluZE1hdGNoaW5nQnJhY2tldChzKSk/MT09bi5jb21wYXJlUG9pbnQoaSk/bi5lbmQ9aToobi5zdGFydD1pLG4uc3RhcnQuY29sdW1uKyssbi5lbmQuY29sdW1uLS0pOihpPXRoaXMuZmluZE1hdGNoaW5nQnJhY2tldCh7cm93OnMucm93LGNvbHVtbjpzLmNvbHVtbisxfSkpPygxPT1uLmNvbXBhcmVQb2ludChpKT9uLmVuZD1pOm4uc3RhcnQ9aSxuLnN0YXJ0LmNvbHVtbisrKTpuPXRoaXMuZ2V0Q29tbWVudEZvbGRSYW5nZShzLnJvdyxzLmNvbHVtbil8fG59ZWxzZXt2YXIgbz10aGlzLmdldEZvbGRzSW5SYW5nZShuKTtpZihlJiZvLmxlbmd0aClyZXR1cm4gdm9pZCB0aGlzLmV4cGFuZEZvbGRzKG8pOzE9PW8ubGVuZ3RoJiYocj1vWzBdKX1pZihyfHwocj10aGlzLmdldEZvbGRBdChuLnN0YXJ0LnJvdyxuLnN0YXJ0LmNvbHVtbikpLHImJnIucmFuZ2UudG9TdHJpbmcoKT09bi50b1N0cmluZygpKXJldHVybiB2b2lkIHRoaXMuZXhwYW5kRm9sZChyKTt2YXIgdT0iLi4uIjtpZighbi5pc011bHRpTGluZSgpKXtpZih1PXRoaXMuZ2V0VGV4dFJhbmdlKG4pLHUubGVuZ3RoPDQpcmV0dXJuO3U9dS50cmltKCkuc3Vic3RyaW5nKDAsMikrIi4uIn10aGlzLmFkZEZvbGQodSxuKX0sdGhpcy5nZXRDb21tZW50Rm9sZFJhbmdlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uZXcgbyh0aGlzLGUsdCkscz1pLmdldEN1cnJlbnRUb2tlbigpO2lmKHMmJi9eY29tbWVudHxzdHJpbmcvLnRlc3Qocy50eXBlKSl7dmFyIHU9bmV3IHIsYT1uZXcgUmVnRXhwKHMudHlwZS5yZXBsYWNlKC9cLi4qLywiXFwuIikpO2lmKDEhPW4pe2RvIHM9aS5zdGVwQmFja3dhcmQoKTt3aGlsZShzJiZhLnRlc3Qocy50eXBlKSk7aS5zdGVwRm9yd2FyZCgpfWlmKHUuc3RhcnQucm93PWkuZ2V0Q3VycmVudFRva2VuUm93KCksdS5zdGFydC5jb2x1bW49aS5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKSsyLGk9bmV3IG8odGhpcyxlLHQpLC0xIT1uKXtkbyBzPWkuc3RlcEZvcndhcmQoKTt3aGlsZShzJiZhLnRlc3Qocy50eXBlKSk7cz1pLnN0ZXBCYWNrd2FyZCgpfWVsc2Ugcz1pLmdldEN1cnJlbnRUb2tlbigpO3JldHVybiB1LmVuZC5yb3c9aS5nZXRDdXJyZW50VG9rZW5Sb3coKSx1LmVuZC5jb2x1bW49aS5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKStzLnZhbHVlLmxlbmd0aC0yLHV9fSx0aGlzLmZvbGRBbGw9ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09biYmKG49MWU1KTt2YXIgcj10aGlzLmZvbGRXaWRnZXRzO2lmKHIpe3Q9dHx8dGhpcy5nZXRMZW5ndGgoKSxlPWV8fDA7Zm9yKHZhciBpPWU7dD5pO2krKylpZihudWxsPT1yW2ldJiYocltpXT10aGlzLmdldEZvbGRXaWRnZXQoaSkpLCJzdGFydCI9PXJbaV0pe3ZhciBzPXRoaXMuZ2V0Rm9sZFdpZGdldFJhbmdlKGkpO2lmKHMmJnMuaXNNdWx0aUxpbmUoKSYmcy5lbmQucm93PD10JiZzLnN0YXJ0LnJvdz49ZSl7aT1zLmVuZC5yb3c7dHJ5e3ZhciBvPXRoaXMuYWRkRm9sZCgiLi4uIixzKTtvJiYoby5jb2xsYXBzZUNoaWxkcmVuPW4pfWNhdGNoKHUpe319fX19LHRoaXMuJGZvbGRTdHlsZXM9e21hbnVhbDoxLG1hcmtiZWdpbjoxLG1hcmtiZWdpbmVuZDoxfSx0aGlzLiRmb2xkU3R5bGU9Im1hcmtiZWdpbiIsdGhpcy5zZXRGb2xkU3R5bGU9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuJGZvbGRTdHlsZXNbZV0pdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIGZvbGQgc3R5bGU6ICIrZSsiWyIrT2JqZWN0LmtleXModGhpcy4kZm9sZFN0eWxlcykuam9pbigiLCAiKSsiXSIpO2lmKHRoaXMuJGZvbGRTdHlsZSE9ZSl7dGhpcy4kZm9sZFN0eWxlPWUsIm1hbnVhbCI9PWUmJnRoaXMudW5mb2xkKCk7dmFyIHQ9dGhpcy4kZm9sZE1vZGU7dGhpcy4kc2V0Rm9sZGluZyhudWxsKSx0aGlzLiRzZXRGb2xkaW5nKHQpfX0sdGhpcy4kc2V0Rm9sZGluZz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy4kZm9sZE1vZGUhPWU/KHRoaXMuJGZvbGRNb2RlPWUsdGhpcy5yZW1vdmVMaXN0ZW5lcigiY2hhbmdlIix0aGlzLiR1cGRhdGVGb2xkV2lkZ2V0cyksdGhpcy5fZW1pdCgiY2hhbmdlQW5ub3RhdGlvbiIpLGUmJiJtYW51YWwiIT10aGlzLiRmb2xkU3R5bGU/KHRoaXMuZm9sZFdpZGdldHM9W10sdGhpcy5nZXRGb2xkV2lkZ2V0PWUuZ2V0Rm9sZFdpZGdldC5iaW5kKGUsdGhpcyx0aGlzLiRmb2xkU3R5bGUpLHRoaXMuZ2V0Rm9sZFdpZGdldFJhbmdlPWUuZ2V0Rm9sZFdpZGdldFJhbmdlLmJpbmQoZSx0aGlzLHRoaXMuJGZvbGRTdHlsZSksdGhpcy4kdXBkYXRlRm9sZFdpZGdldHM9dGhpcy51cGRhdGVGb2xkV2lkZ2V0cy5iaW5kKHRoaXMpLHRoaXMub24oImNoYW5nZSIsdGhpcy4kdXBkYXRlRm9sZFdpZGdldHMpLHZvaWQgMCk6dm9pZCh0aGlzLmZvbGRXaWRnZXRzPW51bGwpKTp2b2lkIDB9LHRoaXMuZ2V0UGFyZW50Rm9sZFJhbmdlRGF0YT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZm9sZFdpZGdldHM7aWYoIW58fHQmJm5bZV0pcmV0dXJue307Zm9yKHZhciBpLHI9ZS0xO3I+PTA7KXt2YXIgcz1uW3JdO2lmKG51bGw9PXMmJihzPW5bcl09dGhpcy5nZXRGb2xkV2lkZ2V0KHIpKSwic3RhcnQiPT1zKXt2YXIgbz10aGlzLmdldEZvbGRXaWRnZXRSYW5nZShyKTtpZihpfHwoaT1vKSxvJiZvLmVuZC5yb3c+PWUpYnJlYWt9ci0tfXJldHVybntyYW5nZTotMSE9PXImJm8sZmlyc3RSYW5nZTppfX0sdGhpcy5vbkZvbGRXaWRnZXRDbGljaz1mdW5jdGlvbihlLHQpe3Q9dC5kb21FdmVudDt2YXIgbj17Y2hpbGRyZW46dC5zaGlmdEtleSxhbGw6dC5jdHJsS2V5fHx0Lm1ldGFLZXksc2libGluZ3M6dC5hbHRLZXl9LHI9dGhpcy4kdG9nZ2xlRm9sZFdpZGdldChlLG4pO2lmKCFyKXt2YXIgaT10LnRhcmdldHx8dC5zcmNFbGVtZW50O2kmJi9hY2VfZm9sZC13aWRnZXQvLnRlc3QoaS5jbGFzc05hbWUpJiYoaS5jbGFzc05hbWUrPSIgYWNlX2ludmFsaWQiKX19LHRoaXMuJHRvZ2dsZUZvbGRXaWRnZXQ9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmdldEZvbGRXaWRnZXQpe3ZhciBuPXRoaXMuZ2V0Rm9sZFdpZGdldChlKSxyPXRoaXMuZ2V0TGluZShlKSxpPSJlbmQiPT09bj8tMToxLHM9dGhpcy5nZXRGb2xkQXQoZSwtMT09PWk/MDpyLmxlbmd0aCxpKTtpZihzKXJldHVybiB2b2lkKHQuY2hpbGRyZW58fHQuYWxsP3RoaXMucmVtb3ZlRm9sZChzKTp0aGlzLmV4cGFuZEZvbGQocykpO3ZhciBvPXRoaXMuZ2V0Rm9sZFdpZGdldFJhbmdlKGUsITApO2lmKG8mJiFvLmlzTXVsdGlMaW5lKCkmJihzPXRoaXMuZ2V0Rm9sZEF0KG8uc3RhcnQucm93LG8uc3RhcnQuY29sdW1uLDEpLHMmJm8uaXNFcXVhbChzLnJhbmdlKSkpcmV0dXJuIHZvaWQgdGhpcy5yZW1vdmVGb2xkKHMpO2lmKHQuc2libGluZ3Mpe3ZhciB1PXRoaXMuZ2V0UGFyZW50Rm9sZFJhbmdlRGF0YShlKTtpZih1LnJhbmdlKXZhciBhPXUucmFuZ2Uuc3RhcnQucm93KzEsZj11LnJhbmdlLmVuZC5yb3c7dGhpcy5mb2xkQWxsKGEsZix0LmFsbD8xZTQ6MCl9ZWxzZSB0LmNoaWxkcmVuPyhmPW8/by5lbmQucm93OnRoaXMuZ2V0TGVuZ3RoKCksdGhpcy5mb2xkQWxsKGUrMSxvLmVuZC5yb3csdC5hbGw/MWU0OjApKTpvJiYodC5hbGwmJihvLmNvbGxhcHNlQ2hpbGRyZW49MWU0KSx0aGlzLmFkZEZvbGQoIi4uLiIsbykpO3JldHVybiBvfX0sdGhpcy50b2dnbGVGb2xkV2lkZ2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zZWxlY3Rpb24uZ2V0Q3Vyc29yKCkucm93O3Q9dGhpcy5nZXRSb3dGb2xkU3RhcnQodCk7dmFyIG49dGhpcy4kdG9nZ2xlRm9sZFdpZGdldCh0LHt9KTtpZighbil7dmFyIHI9dGhpcy5nZXRQYXJlbnRGb2xkUmFuZ2VEYXRhKHQsITApO2lmKG49ci5yYW5nZXx8ci5maXJzdFJhbmdlKXt0PW4uc3RhcnQucm93O3ZhciBpPXRoaXMuZ2V0Rm9sZEF0KHQsdGhpcy5nZXRMaW5lKHQpLmxlbmd0aCwxKTtpP3RoaXMucmVtb3ZlRm9sZChpKTp0aGlzLmFkZEZvbGQoIi4uLiIsbil9fX0sdGhpcy51cGRhdGVGb2xkV2lkZ2V0cz1mdW5jdGlvbihlKXt2YXIgdD1lLmRhdGEsbj10LnJhbmdlLHI9bi5zdGFydC5yb3csaT1uLmVuZC5yb3ctcjtpZigwPT09aSl0aGlzLmZvbGRXaWRnZXRzW3JdPW51bGw7ZWxzZSBpZigicmVtb3ZlVGV4dCI9PXQuYWN0aW9ufHwicmVtb3ZlTGluZXMiPT10LmFjdGlvbil0aGlzLmZvbGRXaWRnZXRzLnNwbGljZShyLGkrMSxudWxsKTtlbHNle3ZhciBzPUFycmF5KGkrMSk7cy51bnNoaWZ0KHIsMSksdGhpcy5mb2xkV2lkZ2V0cy5zcGxpY2UuYXBwbHkodGhpcy5mb2xkV2lkZ2V0cyxzKX19fXZhciByPWUoIi4uL3JhbmdlIikuUmFuZ2UsaT1lKCIuL2ZvbGRfbGluZSIpLkZvbGRMaW5lLHM9ZSgiLi9mb2xkIikuRm9sZCxvPWUoIi4uL3Rva2VuX2l0ZXJhdG9yIikuVG9rZW5JdGVyYXRvcjt0LkZvbGRpbmc9dX0pLGRlZmluZSgiYWNlL2VkaXRfc2Vzc2lvbi9mb2xkX2xpbmUiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvcmFuZ2UiXSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIGkoZSx0KXt0aGlzLmZvbGREYXRhPWUsQXJyYXkuaXNBcnJheSh0KT90aGlzLmZvbGRzPXQ6dD10aGlzLmZvbGRzPVt0XTt2YXIgbj10W3QubGVuZ3RoLTFdO3RoaXMucmFuZ2U9bmV3IHIodFswXS5zdGFydC5yb3csdFswXS5zdGFydC5jb2x1bW4sbi5lbmQucm93LG4uZW5kLmNvbHVtbiksdGhpcy5zdGFydD10aGlzLnJhbmdlLnN0YXJ0LHRoaXMuZW5kPXRoaXMucmFuZ2UuZW5kLHRoaXMuZm9sZHMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnNldEZvbGRMaW5lKHRoaXMpfSx0aGlzKX12YXIgcj1lKCIuLi9yYW5nZSIpLlJhbmdlOyhmdW5jdGlvbigpe3RoaXMuc2hpZnRSb3c9ZnVuY3Rpb24oZSl7dGhpcy5zdGFydC5yb3crPWUsdGhpcy5lbmQucm93Kz1lLHRoaXMuZm9sZHMuZm9yRWFjaChmdW5jdGlvbih0KXt0LnN0YXJ0LnJvdys9ZSx0LmVuZC5yb3crPWV9KX0sdGhpcy5hZGRGb2xkPWZ1bmN0aW9uKGUpe2lmKGUuc2FtZVJvdyl7aWYoZS5zdGFydC5yb3c8dGhpcy5zdGFydFJvd3x8ZS5lbmRSb3c+dGhpcy5lbmRSb3cpdGhyb3cgbmV3IEVycm9yKCJDYW4ndCBhZGQgYSBmb2xkIHRvIHRoaXMgRm9sZExpbmUgYXMgaXQgaGFzIG5vIGNvbm5lY3Rpb24iKTt0aGlzLmZvbGRzLnB1c2goZSksdGhpcy5mb2xkcy5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuLWUucmFuZ2UuY29tcGFyZUVuZCh0LnN0YXJ0LnJvdyx0LnN0YXJ0LmNvbHVtbil9KSx0aGlzLnJhbmdlLmNvbXBhcmVFbmQoZS5zdGFydC5yb3csZS5zdGFydC5jb2x1bW4pPjA/KHRoaXMuZW5kLnJvdz1lLmVuZC5yb3csdGhpcy5lbmQuY29sdW1uPWUuZW5kLmNvbHVtbik6dGhpcy5yYW5nZS5jb21wYXJlU3RhcnQoZS5lbmQucm93LGUuZW5kLmNvbHVtbik8MCYmKHRoaXMuc3RhcnQucm93PWUuc3RhcnQucm93LHRoaXMuc3RhcnQuY29sdW1uPWUuc3RhcnQuY29sdW1uKX1lbHNlIGlmKGUuc3RhcnQucm93PT10aGlzLmVuZC5yb3cpdGhpcy5mb2xkcy5wdXNoKGUpLHRoaXMuZW5kLnJvdz1lLmVuZC5yb3csdGhpcy5lbmQuY29sdW1uPWUuZW5kLmNvbHVtbjtlbHNle2lmKGUuZW5kLnJvdyE9dGhpcy5zdGFydC5yb3cpdGhyb3cgbmV3IEVycm9yKCJUcnlpbmcgdG8gYWRkIGZvbGQgdG8gRm9sZFJvdyB0aGF0IGRvZXNuJ3QgaGF2ZSBhIG1hdGNoaW5nIHJvdyIpO3RoaXMuZm9sZHMudW5zaGlmdChlKSx0aGlzLnN0YXJ0LnJvdz1lLnN0YXJ0LnJvdyx0aGlzLnN0YXJ0LmNvbHVtbj1lLnN0YXJ0LmNvbHVtbn1lLmZvbGRMaW5lPXRoaXN9LHRoaXMuY29udGFpbnNSb3c9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+PXRoaXMuc3RhcnQucm93JiZlPD10aGlzLmVuZC5yb3d9LHRoaXMud2Fsaz1mdW5jdGlvbihlLHQsbil7dmFyIHMsbyx1LHI9MCxpPXRoaXMuZm9sZHMsYT0hMDtudWxsPT10JiYodD10aGlzLmVuZC5yb3csbj10aGlzLmVuZC5jb2x1bW4pO2Zvcih2YXIgZj0wO2Y8aS5sZW5ndGg7ZisrKXtpZihzPWlbZl0sbz1zLnJhbmdlLmNvbXBhcmVTdGFydCh0LG4pLC0xPT1vKXJldHVybiB2b2lkIGUobnVsbCx0LG4scixhKTtpZih1PWUobnVsbCxzLnN0YXJ0LnJvdyxzLnN0YXJ0LmNvbHVtbixyLGEpLHU9IXUmJmUocy5wbGFjZWhvbGRlcixzLnN0YXJ0LnJvdyxzLnN0YXJ0LmNvbHVtbixyKSx1fHwwPT1vKXJldHVybjthPSFzLnNhbWVSb3cscj1zLmVuZC5jb2x1bW59ZShudWxsLHQsbixyLGEpfSx0aGlzLmdldE5leHRGb2xkVG89ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scixpPTA7aTx0aGlzLmZvbGRzLmxlbmd0aDtpKyspe2lmKG49dGhpcy5mb2xkc1tpXSxyPW4ucmFuZ2UuY29tcGFyZUVuZChlLHQpLC0xPT1yKXJldHVybntmb2xkOm4sa2luZDoiYWZ0ZXIifTtpZigwPT1yKXJldHVybntmb2xkOm4sa2luZDoiaW5zaWRlIn19cmV0dXJuIG51bGx9LHRoaXMuYWRkUmVtb3ZlQ2hhcnM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHMscj10aGlzLmdldE5leHRGb2xkVG8oZSx0KTtpZihyKWlmKGk9ci5mb2xkLCJpbnNpZGUiPT1yLmtpbmQmJmkuc3RhcnQuY29sdW1uIT10JiZpLnN0YXJ0LnJvdyE9ZSl3aW5kb3cuY29uc29sZSYmd2luZG93LmNvbnNvbGUubG9nKGUsdCxpKTtlbHNlIGlmKGkuc3RhcnQucm93PT1lKXtzPXRoaXMuZm9sZHM7dmFyIG89cy5pbmRleE9mKGkpO2ZvcigwPT1vJiYodGhpcy5zdGFydC5jb2x1bW4rPW4pLG87bzxzLmxlbmd0aDtvKyspe2lmKGk9c1tvXSxpLnN0YXJ0LmNvbHVtbis9biwhaS5zYW1lUm93KXJldHVybjtpLmVuZC5jb2x1bW4rPW59dGhpcy5lbmQuY29sdW1uKz1ufX0sdGhpcy5zcGxpdD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZ2V0TmV4dEZvbGRUbyhlLHQpLmZvbGQscj10aGlzLmZvbGRzLHM9dGhpcy5mb2xkRGF0YTtpZighbilyZXR1cm4gbnVsbDt2YXIgbz1yLmluZGV4T2YobiksdT1yW28tMV07dGhpcy5lbmQucm93PXUuZW5kLnJvdyx0aGlzLmVuZC5jb2x1bW49dS5lbmQuY29sdW1uLHI9ci5zcGxpY2UobyxyLmxlbmd0aC1vKTt2YXIgYT1uZXcgaShzLHIpO3JldHVybiBzLnNwbGljZShzLmluZGV4T2YodGhpcykrMSwwLGEpLGF9LHRoaXMubWVyZ2U9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuZm9sZHMsbj0wO248dC5sZW5ndGg7bisrKXRoaXMuYWRkRm9sZCh0W25dKTt2YXIgcj10aGlzLmZvbGREYXRhO3Iuc3BsaWNlKHIuaW5kZXhPZihlKSwxKX0sdGhpcy50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBlPVt0aGlzLnJhbmdlLnRvU3RyaW5nKCkrIjogWyJdO3JldHVybiB0aGlzLmZvbGRzLmZvckVhY2goZnVuY3Rpb24odCl7ZS5wdXNoKCIgICIrdC50b1N0cmluZygpKX0pLGUucHVzaCgiXSIpLGUuam9pbigiXG4iKX0sdGhpcy5pZHhUb1Bvc2l0aW9uPWZ1bmN0aW9uKGUpe2Zvcih2YXIgbix0PTAscj0wO3I8dGhpcy5mb2xkcy5sZW5ndGg7cisrKXt2YXIgbj10aGlzLmZvbGRzW3JdO2lmKGUtPW4uc3RhcnQuY29sdW1uLXQsMD5lKXJldHVybntyb3c6bi5zdGFydC5yb3csY29sdW1uOm4uc3RhcnQuY29sdW1uK2V9O2lmKGUtPW4ucGxhY2Vob2xkZXIubGVuZ3RoLDA+ZSlyZXR1cm4gbi5zdGFydDt0PW4uZW5kLmNvbHVtbn1yZXR1cm57cm93OnRoaXMuZW5kLnJvdyxjb2x1bW46dGhpcy5lbmQuY29sdW1uK2V9fX0pLmNhbGwoaS5wcm90b3R5cGUpLHQuRm9sZExpbmU9aX0pLGRlZmluZSgiYWNlL3Rva2VuaXplciIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9MWUzLGk9ZnVuY3Rpb24oZSl7dGhpcy5zdGF0ZXM9ZSx0aGlzLnJlZ0V4cHM9e30sdGhpcy5tYXRjaE1hcHBpbmdzPXt9O2Zvcih2YXIgdCBpbiB0aGlzLnN0YXRlcyl7Zm9yKHZhciBuPXRoaXMuc3RhdGVzW3RdLHI9W10saT0wLHM9dGhpcy5tYXRjaE1hcHBpbmdzW3RdPXtkZWZhdWx0VG9rZW46InRleHQifSxvPSJnIix1PVtdLGE9MDthPG4ubGVuZ3RoO2ErKyl7dmFyIGY9blthXTtpZihmLmRlZmF1bHRUb2tlbiYmKHMuZGVmYXVsdFRva2VuPWYuZGVmYXVsdFRva2VuKSxmLmNhc2VJbnNlbnNpdGl2ZSYmKG89ImdpIiksbnVsbCE9Zi5yZWdleCl7Zi5yZWdleCBpbnN0YW5jZW9mIFJlZ0V4cCYmKGYucmVnZXg9Zi5yZWdleC50b1N0cmluZygpLnNsaWNlKDEsLTEpKTt2YXIgbD1mLnJlZ2V4LGM9bmV3IFJlZ0V4cCgiKD86KCIrbCsiKXwoLikpIikuZXhlYygiYSIpLmxlbmd0aC0yO2lmKEFycmF5LmlzQXJyYXkoZi50b2tlbikpaWYoMT09Zi50b2tlbi5sZW5ndGh8fDE9PWMpZi50b2tlbj1mLnRva2VuWzBdO2Vsc2V7aWYoYy0xIT1mLnRva2VuLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIm51bWJlciBvZiBjbGFzc2VzIGFuZCByZWdleHAgZ3JvdXBzIGluICciK2YudG9rZW4rIidcbiciK2YucmVnZXgrIicgZG9lc24ndCBtYXRjaFxuIisoYy0xKSsiIT0iK2YudG9rZW4ubGVuZ3RoKTtmLnRva2VuQXJyYXk9Zi50b2tlbixmLnRva2VuPW51bGwsZi5vbk1hdGNoPXRoaXMuJGFycmF5VG9rZW5zfWVsc2UiZnVuY3Rpb24iPT10eXBlb2YgZi50b2tlbiYmIWYub25NYXRjaCYmKGYub25NYXRjaD1jPjE/dGhpcy4kYXBwbHlUb2tlbjpmLnRva2VuKTtjPjEmJigvXFxcZC8udGVzdChmLnJlZ2V4KT9sPWYucmVnZXgucmVwbGFjZSgvXFwoWzAtOV0rKS9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIlxcIisocGFyc2VJbnQodCwxMCkraSsxKX0pOihjPTEsbD10aGlzLnJlbW92ZUNhcHR1cmluZ0dyb3VwcyhmLnJlZ2V4KSksIWYuc3BsaXRSZWdleCYmInN0cmluZyIhPXR5cGVvZiBmLnRva2VuJiZ1LnB1c2goZikpLHNbaV09YSxpKz1jLHIucHVzaChsKSxmLm9uTWF0Y2h8fChmLm9uTWF0Y2g9bnVsbCksZi5fX3Byb3RvX189bnVsbH19dS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Uuc3BsaXRSZWdleD10aGlzLmNyZWF0ZVNwbGl0dGVyUmVnZXhwKGUucmVnZXgsbyl9LHRoaXMpLHRoaXMucmVnRXhwc1t0XT1uZXcgUmVnRXhwKCIoIityLmpvaW4oIil8KCIpKyIpfCgkKSIsbyl9fTsoZnVuY3Rpb24oKXt0aGlzLiRzZXRNYXhUb2tlbkNvdW50PWZ1bmN0aW9uKGUpe3I9MHxlfSx0aGlzLiRhcHBseVRva2VuPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc3BsaXRSZWdleC5leGVjKGUpLnNsaWNlKDEpLG49dGhpcy50b2tlbi5hcHBseSh0aGlzLHQpO2lmKCJzdHJpbmciPT10eXBlb2YgbilyZXR1cm5be3R5cGU6bix2YWx1ZTplfV07Zm9yKHZhciByPVtdLGk9MCxzPW4ubGVuZ3RoO3M+aTtpKyspdFtpXSYmKHJbci5sZW5ndGhdPXt0eXBlOm5baV0sdmFsdWU6dFtpXX0pO3JldHVybiByfSx0aGlzLiRhcnJheVRva2Vucz1mdW5jdGlvbihlKXtpZighZSlyZXR1cm5bXTt2YXIgdD10aGlzLnNwbGl0UmVnZXguZXhlYyhlKTtpZighdClyZXR1cm4idGV4dCI7Zm9yKHZhciBuPVtdLHI9dGhpcy50b2tlbkFycmF5LGk9MCxzPXIubGVuZ3RoO3M+aTtpKyspdFtpKzFdJiYobltuLmxlbmd0aF09e3R5cGU6cltpXSx2YWx1ZTp0W2krMV19KTtyZXR1cm4gbn0sdGhpcy5yZW1vdmVDYXB0dXJpbmdHcm91cHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKC9cWyg/OlxcLnxbXlxdXSkqP1xdfFxcLnxcKFw/Wzo9IV18KFwoKS9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/Iig/OiI6ZX0pO3JldHVybiB0fSx0aGlzLmNyZWF0ZVNwbGl0dGVyUmVnZXhwPWZ1bmN0aW9uKGUsdCl7aWYoLTEhPWUuaW5kZXhPZigiKD89Iikpe3ZhciBuPTAscj0hMSxpPXt9O2UucmVwbGFjZSgvKFxcLil8KFwoKD86XD9bPSFdKT8pfChcKSl8KFtcW1xdXSkvZyxmdW5jdGlvbihlLHQscyxvLHUsYSl7cmV0dXJuIHI/cj0iXSIhPXU6dT9yPSEwOm8/KG49PWkuc3RhY2smJihpLmVuZD1hKzEsaS5zdGFjaz0tMSksbi0tKTpzJiYobisrLDEhPXMubGVuZ3RoJiYoaS5zdGFjaz1uLGkuc3RhcnQ9YSkpLGV9KSxudWxsIT1pLmVuZCYmL15cKSokLy50ZXN0KGUuc3Vic3RyKGkuZW5kKSkmJihlPWUuc3Vic3RyaW5nKDAsaS5zdGFydCkrZS5zdWJzdHIoaS5lbmQpKX1yZXR1cm4gbmV3IFJlZ0V4cChlLCh0fHwiIikucmVwbGFjZSgiZyIsIiIpKX0sdGhpcy5nZXRMaW5lVG9rZW5zPWZ1bmN0aW9uKGUsdCl7aWYodCYmInN0cmluZyIhPXR5cGVvZiB0KXt2YXIgbj10LnNsaWNlKDApO3Q9blswXX1lbHNlIHZhciBuPVtdO3ZhciBpPXR8fCJzdGFydCIscz10aGlzLnN0YXRlc1tpXTtzfHwoaT0ic3RhcnQiLHM9dGhpcy5zdGF0ZXNbaV0pO3ZhciBvPXRoaXMubWF0Y2hNYXBwaW5nc1tpXSx1PXRoaXMucmVnRXhwc1tpXTt1Lmxhc3RJbmRleD0wO2Zvcih2YXIgYSxmPVtdLGw9MCxjPXt0eXBlOm51bGwsdmFsdWU6IiJ9O2E9dS5leGVjKGUpOyl7dmFyIGg9by5kZWZhdWx0VG9rZW4scD1udWxsLGQ9YVswXSx2PXUubGFzdEluZGV4O2lmKHYtZC5sZW5ndGg+bCl7dmFyIG09ZS5zdWJzdHJpbmcobCx2LWQubGVuZ3RoKTtjLnR5cGU9PWg/Yy52YWx1ZSs9bTooYy50eXBlJiZmLnB1c2goYyksYz17dHlwZTpoLHZhbHVlOm19KX1mb3IodmFyIGc9MDtnPGEubGVuZ3RoLTI7ZysrKWlmKHZvaWQgMCE9PWFbZysxXSl7cD1zW29bZ11dLGg9cC5vbk1hdGNoP3Aub25NYXRjaChkLGksbik6cC50b2tlbixwLm5leHQmJihpPSJzdHJpbmciPT10eXBlb2YgcC5uZXh0P3AubmV4dDpwLm5leHQoaSxuKSxzPXRoaXMuc3RhdGVzW2ldLHN8fCh3aW5kb3cuY29uc29sZSYmY29uc29sZS5lcnJvciYmY29uc29sZS5lcnJvcihpLCJkb2Vzbid0IGV4aXN0IiksaT0ic3RhcnQiLHM9dGhpcy5zdGF0ZXNbaV0pLG89dGhpcy5tYXRjaE1hcHBpbmdzW2ldLGw9dix1PXRoaXMucmVnRXhwc1tpXSx1Lmxhc3RJbmRleD12KTticmVha31pZihkKWlmKCJzdHJpbmciPT10eXBlb2YgaClwJiZwLm1lcmdlPT09ITF8fGMudHlwZSE9PWg/KGMudHlwZSYmZi5wdXNoKGMpLGM9e3R5cGU6aCx2YWx1ZTpkfSk6Yy52YWx1ZSs9ZDtlbHNlIGlmKGgpe2MudHlwZSYmZi5wdXNoKGMpLGM9e3R5cGU6bnVsbCx2YWx1ZToiIn07Zm9yKHZhciBnPTA7ZzxoLmxlbmd0aDtnKyspZi5wdXNoKGhbZ10pfWlmKGw9PWUubGVuZ3RoKWJyZWFrO2lmKGw9dixmLmxlbmd0aD5yKXtmb3IoO2w8ZS5sZW5ndGg7KWMudHlwZSYmZi5wdXNoKGMpLGM9e3ZhbHVlOmUuc3Vic3RyaW5nKGwsbCs9MmUzKSx0eXBlOiJvdmVyZmxvdyJ9O2k9InN0YXJ0IixuPVtdO2JyZWFrfX1yZXR1cm4gYy50eXBlJiZmLnB1c2goYyksbi5sZW5ndGg+MSYmblswXSE9PWkmJm4udW5zaGlmdChpKSx7dG9rZW5zOmYsc3RhdGU6bi5sZW5ndGg/bjppfX19KS5jYWxsKGkucHJvdG90eXBlKSx0LlRva2VuaXplcj1pfSksZGVmaW5lKCJhY2UvZWRpdF9zZXNzaW9uL2ZvbGQiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvcmFuZ2UiLCJhY2UvcmFuZ2VfbGlzdCIsImFjZS9saWIvb29wIl0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiB1KGUsdCl7ZS5yb3ctPXQucm93LDA9PWUucm93JiYoZS5jb2x1bW4tPXQuY29sdW1uKX1mdW5jdGlvbiBhKGUsdCl7dShlLnN0YXJ0LHQpLHUoZS5lbmQsdCl9ZnVuY3Rpb24gZihlLHQpezA9PWUucm93JiYoZS5jb2x1bW4rPXQuY29sdW1uKSxlLnJvdys9dC5yb3d9ZnVuY3Rpb24gbChlLHQpe2YoZS5zdGFydCx0KSxmKGUuZW5kLHQpfXZhciBpPShlKCIuLi9yYW5nZSIpLlJhbmdlLGUoIi4uL3JhbmdlX2xpc3QiKS5SYW5nZUxpc3QpLHM9ZSgiLi4vbGliL29vcCIpLG89dC5Gb2xkPWZ1bmN0aW9uKGUsdCl7dGhpcy5mb2xkTGluZT1udWxsLHRoaXMucGxhY2Vob2xkZXI9dCx0aGlzLnJhbmdlPWUsdGhpcy5zdGFydD1lLnN0YXJ0LHRoaXMuZW5kPWUuZW5kLHRoaXMuc2FtZVJvdz1lLnN0YXJ0LnJvdz09ZS5lbmQucm93LHRoaXMuc3ViRm9sZHM9dGhpcy5yYW5nZXM9W119O3MuaW5oZXJpdHMobyxpKSxmdW5jdGlvbigpe3RoaXMudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4nIicrdGhpcy5wbGFjZWhvbGRlcisnIiAnK3RoaXMucmFuZ2UudG9TdHJpbmcoKX0sdGhpcy5zZXRGb2xkTGluZT1mdW5jdGlvbihlKXt0aGlzLmZvbGRMaW5lPWUsdGhpcy5zdWJGb2xkcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3Quc2V0Rm9sZExpbmUoZSl9KX0sdGhpcy5jbG9uZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMucmFuZ2UuY2xvbmUoKSx0PW5ldyBvKGUsdGhpcy5wbGFjZWhvbGRlcik7cmV0dXJuIHRoaXMuc3ViRm9sZHMuZm9yRWFjaChmdW5jdGlvbihlKXt0LnN1YkZvbGRzLnB1c2goZS5jbG9uZSgpKX0pLHQuY29sbGFwc2VDaGlsZHJlbj10aGlzLmNvbGxhcHNlQ2hpbGRyZW4sdH0sdGhpcy5hZGRTdWJGb2xkPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLnJhbmdlLmlzRXF1YWwoZSkpe2lmKCF0aGlzLnJhbmdlLmNvbnRhaW5zUmFuZ2UoZSkpdGhyb3cgbmV3IEVycm9yKCJBIGZvbGQgY2FuJ3QgaW50ZXJzZWN0IGFscmVhZHkgZXhpc3RpbmcgZm9sZCIrZS5yYW5nZSt0aGlzLnJhbmdlKTthKGUsdGhpcy5zdGFydCk7Zm9yKHZhciB0PWUuc3RhcnQucm93LG49ZS5zdGFydC5jb2x1bW4scj0wLGk9LTE7cjx0aGlzLnN1YkZvbGRzLmxlbmd0aCYmKGk9dGhpcy5zdWJGb2xkc1tyXS5yYW5nZS5jb21wYXJlKHQsbiksMT09aSk7cisrKTt2YXIgcz10aGlzLnN1YkZvbGRzW3JdO2lmKDA9PWkpcmV0dXJuIHMuYWRkU3ViRm9sZChlKTtmb3IodmFyIHQ9ZS5yYW5nZS5lbmQucm93LG49ZS5yYW5nZS5lbmQuY29sdW1uLG89cixpPS0xO288dGhpcy5zdWJGb2xkcy5sZW5ndGgmJihpPXRoaXMuc3ViRm9sZHNbb10ucmFuZ2UuY29tcGFyZSh0LG4pLDE9PWkpO28rKyk7e3RoaXMuc3ViRm9sZHNbb119aWYoMD09aSl0aHJvdyBuZXcgRXJyb3IoIkEgZm9sZCBjYW4ndCBpbnRlcnNlY3QgYWxyZWFkeSBleGlzdGluZyBmb2xkIitlLnJhbmdlK3RoaXMucmFuZ2UpO3t0aGlzLnN1YkZvbGRzLnNwbGljZShyLG8tcixlKX1yZXR1cm4gZS5zZXRGb2xkTGluZSh0aGlzLmZvbGRMaW5lKSxlfX0sdGhpcy5yZXN0b3JlUmFuZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGwoZSx0aGlzLnN0YXJ0KX19LmNhbGwoby5wcm90b3R5cGUpfSksZGVmaW5lKCJhY2UvbW9kZS90ZXh0IixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL3Rva2VuaXplciIsImFjZS9tb2RlL3RleHRfaGlnaGxpZ2h0X3J1bGVzIiwiYWNlL21vZGUvYmVoYXZpb3VyIiwiYWNlL3VuaWNvZGUiLCJhY2UvbGliL2xhbmciLCJhY2UvdG9rZW5faXRlcmF0b3IiLCJhY2UvcmFuZ2UiXSxmdW5jdGlvbihlLHQpe3ZhciByPWUoIi4uL3Rva2VuaXplciIpLlRva2VuaXplcixpPWUoIi4vdGV4dF9oaWdobGlnaHRfcnVsZXMiKS5UZXh0SGlnaGxpZ2h0UnVsZXMscz1lKCIuL2JlaGF2aW91ciIpLkJlaGF2aW91cixvPWUoIi4uL3VuaWNvZGUiKSx1PWUoIi4uL2xpYi9sYW5nIiksYT1lKCIuLi90b2tlbl9pdGVyYXRvciIpLlRva2VuSXRlcmF0b3IsZj1lKCIuLi9yYW5nZSIpLlJhbmdlLGw9ZnVuY3Rpb24oKXt0aGlzLkhpZ2hsaWdodFJ1bGVzPWksdGhpcy4kYmVoYXZpb3VyPW5ldyBzfTsoZnVuY3Rpb24oKXt0aGlzLnRva2VuUmU9bmV3IFJlZ0V4cCgiXlsiK28ucGFja2FnZXMuTCtvLnBhY2thZ2VzLk1uK28ucGFja2FnZXMuTWMrby5wYWNrYWdlcy5OZCtvLnBhY2thZ2VzLlBjKyJcXCRfXSsiLCJnIiksdGhpcy5ub25Ub2tlblJlPW5ldyBSZWdFeHAoIl4oPzpbXiIrby5wYWNrYWdlcy5MK28ucGFja2FnZXMuTW4rby5wYWNrYWdlcy5NYytvLnBhY2thZ2VzLk5kK28ucGFja2FnZXMuUGMrIlxcJF9dfFxcc10pKyIsImciKSx0aGlzLmdldFRva2VuaXplcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLiR0b2tlbml6ZXJ8fCh0aGlzLiRoaWdobGlnaHRSdWxlcz1uZXcgdGhpcy5IaWdobGlnaHRSdWxlcyx0aGlzLiR0b2tlbml6ZXI9bmV3IHIodGhpcy4kaGlnaGxpZ2h0UnVsZXMuZ2V0UnVsZXMoKSkpLHRoaXMuJHRva2VuaXplcn0sdGhpcy5saW5lQ29tbWVudFN0YXJ0PSIiLHRoaXMuYmxvY2tDb21tZW50PSIiLHRoaXMudG9nZ2xlQ29tbWVudExpbmVzPWZ1bmN0aW9uKGUsdCxuLHIpe2Z1bmN0aW9uIHcoZSl7Zm9yKHZhciB0PW47cj49dDt0KyspZShpLmdldExpbmUodCksdCl9dmFyIGk9dC5kb2Mscz0hMCxvPSEwLGE9MS8wLGY9dC5nZXRUYWJTaXplKCksbD0hMTtpZih0aGlzLmxpbmVDb21tZW50U3RhcnQpe2lmKEFycmF5LmlzQXJyYXkodGhpcy5saW5lQ29tbWVudFN0YXJ0KSl2YXIgcD10aGlzLmxpbmVDb21tZW50U3RhcnQubWFwKHUuZXNjYXBlUmVnRXhwKS5qb2luKCJ8IiksYz10aGlzLmxpbmVDb21tZW50U3RhcnRbMF07ZWxzZSB2YXIgcD11LmVzY2FwZVJlZ0V4cCh0aGlzLmxpbmVDb21tZW50U3RhcnQpLGM9dGhpcy5saW5lQ29tbWVudFN0YXJ0O3A9bmV3IFJlZ0V4cCgiXihcXHMqKSg/OiIrcCsiKSA/IiksbD10LmdldFVzZVNvZnRUYWJzKCk7dmFyIG09ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLm1hdGNoKHApO2lmKG4pe3ZhciByPW5bMV0ubGVuZ3RoLHM9blswXS5sZW5ndGg7IWIoZSxyLHMpJiYiICI9PW5bMF1bcy0xXSYmcy0tLGkucmVtb3ZlSW5MaW5lKHQscixzKX19LHk9YysiICIsdj1mdW5jdGlvbihlLHQpeyghc3x8L1xTLy50ZXN0KGUpKSYmKGIoZSxhLGEpP2kuaW5zZXJ0SW5MaW5lKHtyb3c6dCxjb2x1bW46YX0seSk6aS5pbnNlcnRJbkxpbmUoe3Jvdzp0LGNvbHVtbjphfSxjKSl9LGc9ZnVuY3Rpb24oZSl7cmV0dXJuIHAudGVzdChlKX0sYj1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTA7dC0tJiYiICI9PWUuY2hhckF0KHQpOylyKys7aWYociVmIT0wKXJldHVybiExO2Zvcih2YXIgcj0wOyIgIj09ZS5jaGFyQXQobisrKTspcisrO3JldHVybiBmPjI/ciVmIT1mLTE6ciVmPT0wfX1lbHNle2lmKCF0aGlzLmJsb2NrQ29tbWVudClyZXR1cm4hMTt2YXIgYz10aGlzLmJsb2NrQ29tbWVudC5zdGFydCxoPXRoaXMuYmxvY2tDb21tZW50LmVuZCxwPW5ldyBSZWdFeHAoIl4oXFxzKikoPzoiK3UuZXNjYXBlUmVnRXhwKGMpKyIpIiksZD1uZXcgUmVnRXhwKCIoPzoiK3UuZXNjYXBlUmVnRXhwKGgpKyIpXFxzKiQiKSx2PWZ1bmN0aW9uKGUsdCl7ZyhlLHQpfHwoIXN8fC9cUy8udGVzdChlKSkmJihpLmluc2VydEluTGluZSh7cm93OnQsY29sdW1uOmUubGVuZ3RofSxoKSxpLmluc2VydEluTGluZSh7cm93OnQsY29sdW1uOmF9LGMpKX0sbT1mdW5jdGlvbihlLHQpe3ZhciBuOyhuPWUubWF0Y2goZCkpJiZpLnJlbW92ZUluTGluZSh0LGUubGVuZ3RoLW5bMF0ubGVuZ3RoLGUubGVuZ3RoKSwobj1lLm1hdGNoKHApKSYmaS5yZW1vdmVJbkxpbmUodCxuWzFdLmxlbmd0aCxuWzBdLmxlbmd0aCl9LGc9ZnVuY3Rpb24oZSxuKXtpZihwLnRlc3QoZSkpcmV0dXJuITA7Zm9yKHZhciByPXQuZ2V0VG9rZW5zKG4pLGk9MDtpPHIubGVuZ3RoO2krKylpZigiY29tbWVudCI9PT1yW2ldLnR5cGUpcmV0dXJuITB9fXZhciBFPTEvMDt3KGZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5zZWFyY2goL1xTLyk7LTEhPT1uPyhhPm4mJihhPW4pLG8mJiFnKGUsdCkmJihvPSExKSk6RT5lLmxlbmd0aCYmKEU9ZS5sZW5ndGgpfSksMS8wPT1hJiYoYT1FLHM9ITEsbz0hMSksbCYmYSVmIT0wJiYoYT1NYXRoLmZsb29yKGEvZikqZiksdyhvP206dil9LHRoaXMudG9nZ2xlQmxvY2tDb21tZW50PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXRoaXMuYmxvY2tDb21tZW50O2lmKGkpeyFpLnN0YXJ0JiZpWzBdJiYoaT1pWzBdKTt2YXIgYyxoLHM9bmV3IGEodCxyLnJvdyxyLmNvbHVtbiksbz1zLmdldEN1cnJlbnRUb2tlbigpLGw9KHQuc2VsZWN0aW9uLHQuc2VsZWN0aW9uLnRvT3JpZW50ZWRSYW5nZSgpKTtpZihvJiYvY29tbWVudC8udGVzdChvLnR5cGUpKXtmb3IodmFyIHAsZDtvJiYvY29tbWVudC8udGVzdChvLnR5cGUpOyl7dmFyIHY9by52YWx1ZS5pbmRleE9mKGkuc3RhcnQpO2lmKC0xIT12KXt2YXIgbT1zLmdldEN1cnJlbnRUb2tlblJvdygpLGc9cy5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKSt2O3A9bmV3IGYobSxnLG0sZytpLnN0YXJ0Lmxlbmd0aCk7YnJlYWt9bz1zLnN0ZXBCYWNrd2FyZCgpfWZvcih2YXIgcz1uZXcgYSh0LHIucm93LHIuY29sdW1uKSxvPXMuZ2V0Q3VycmVudFRva2VuKCk7byYmL2NvbW1lbnQvLnRlc3Qoby50eXBlKTspe3ZhciB2PW8udmFsdWUuaW5kZXhPZihpLmVuZCk7aWYoLTEhPXYpe3ZhciBtPXMuZ2V0Q3VycmVudFRva2VuUm93KCksZz1zLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpK3Y7ZD1uZXcgZihtLGcsbSxnK2kuZW5kLmxlbmd0aCk7YnJlYWt9bz1zLnN0ZXBGb3J3YXJkKCl9ZCYmdC5yZW1vdmUoZCkscCYmKHQucmVtb3ZlKHApLGM9cC5zdGFydC5yb3csaD0taS5zdGFydC5sZW5ndGgpfWVsc2UgaD1pLnN0YXJ0Lmxlbmd0aCxjPW4uc3RhcnQucm93LHQuaW5zZXJ0KG4uZW5kLGkuZW5kKSx0Lmluc2VydChuLnN0YXJ0LGkuc3RhcnQpO2wuc3RhcnQucm93PT1jJiYobC5zdGFydC5jb2x1bW4rPWgpLGwuZW5kLnJvdz09YyYmKGwuZW5kLmNvbHVtbis9aCksdC5zZWxlY3Rpb24uZnJvbU9yaWVudGVkUmFuZ2UobCl9fSx0aGlzLmdldE5leHRMaW5lSW5kZW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuJGdldEluZGVudCh0KX0sdGhpcy5jaGVja091dGRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdGhpcy5hdXRvT3V0ZGVudD1mdW5jdGlvbigpe30sdGhpcy4kZ2V0SW5kZW50PWZ1bmN0aW9uKGUpe3JldHVybiBlLm1hdGNoKC9eXHMqLylbMF19LHRoaXMuY3JlYXRlV29ya2VyPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHRoaXMuY3JlYXRlTW9kZURlbGVnYXRlcz1mdW5jdGlvbihlKXt0aGlzLiRlbWJlZHM9W10sdGhpcy4kbW9kZXM9e307Zm9yKHZhciB0IGluIGUpZVt0XSYmKHRoaXMuJGVtYmVkcy5wdXNoKHQpLHRoaXMuJG1vZGVzW3RdPW5ldyBlW3RdKTtmb3IodmFyIG49WyJ0b2dnbGVCbG9ja0NvbW1lbnQiLCJ0b2dnbGVDb21tZW50TGluZXMiLCJnZXROZXh0TGluZUluZGVudCIsImNoZWNrT3V0ZGVudCIsImF1dG9PdXRkZW50IiwidHJhbnNmb3JtQWN0aW9uIiwiZ2V0Q29tcGxldGlvbnMiXSx0PTA7dDxuLmxlbmd0aDt0KyspKGZ1bmN0aW9uKGUpe3ZhciByPW5bdF0saT1lW3JdO2Vbblt0XV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZGVsZWdhdG9yKHIsYXJndW1lbnRzLGkpfX0pKHRoaXMpfSx0aGlzLiRkZWxlZ2F0b3I9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRbMF07InN0cmluZyIhPXR5cGVvZiByJiYocj1yWzBdKTtmb3IodmFyIGk9MDtpPHRoaXMuJGVtYmVkcy5sZW5ndGg7aSsrKWlmKHRoaXMuJG1vZGVzW3RoaXMuJGVtYmVkc1tpXV0pe3ZhciBzPXIuc3BsaXQodGhpcy4kZW1iZWRzW2ldKTtpZighc1swXSYmc1sxXSl7dFswXT1zWzFdO3ZhciBvPXRoaXMuJG1vZGVzW3RoaXMuJGVtYmVkc1tpXV07cmV0dXJuIG9bZV0uYXBwbHkobyx0KX19dmFyIHU9bi5hcHBseSh0aGlzLHQpO3JldHVybiBuP3U6dm9pZCAwfSx0aGlzLnRyYW5zZm9ybUFjdGlvbj1mdW5jdGlvbihlLHQpe2lmKHRoaXMuJGJlaGF2aW91cil7dmFyIHM9dGhpcy4kYmVoYXZpb3VyLmdldEJlaGF2aW91cnMoKTsKZm9yKHZhciBvIGluIHMpaWYoc1tvXVt0XSl7dmFyIHU9c1tvXVt0XS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYodSlyZXR1cm4gdX19fSx0aGlzLmdldEtleXdvcmRzPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLmNvbXBsZXRpb25LZXl3b3Jkcyl7dmFyIHQ9dGhpcy4kdG9rZW5pemVyLnJ1bGVzLG49W107Zm9yKHZhciByIGluIHQpZm9yKHZhciBpPXRbcl0scz0wLG89aS5sZW5ndGg7bz5zO3MrKylpZigic3RyaW5nIj09dHlwZW9mIGlbc10udG9rZW4pL2tleXdvcmR8c3VwcG9ydHxzdG9yYWdlLy50ZXN0KGlbc10udG9rZW4pJiZuLnB1c2goaVtzXS5yZWdleCk7ZWxzZSBpZigib2JqZWN0Ij09dHlwZW9mIGlbc10udG9rZW4pZm9yKHZhciB1PTAsYT1pW3NdLnRva2VuLmxlbmd0aDthPnU7dSsrKWlmKC9rZXl3b3JkfHN1cHBvcnR8c3RvcmFnZS8udGVzdChpW3NdLnRva2VuW3VdKSl7dmFyIHI9aVtzXS5yZWdleC5tYXRjaCgvXCguKz9cKS9nKVt1XTtuLnB1c2goci5zdWJzdHIoMSxyLmxlbmd0aC0yKSl9dGhpcy5jb21wbGV0aW9uS2V5d29yZHM9bn1yZXR1cm4gZT9uLmNvbmNhdCh0aGlzLiRrZXl3b3JkTGlzdHx8W10pOnRoaXMuJGtleXdvcmRMaXN0fSx0aGlzLiRjcmVhdGVLZXl3b3JkTGlzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRoaWdobGlnaHRSdWxlc3x8dGhpcy5nZXRUb2tlbml6ZXIoKSx0aGlzLiRrZXl3b3JkTGlzdD10aGlzLiRoaWdobGlnaHRSdWxlcy4ka2V5d29yZExpc3R8fFtdfSx0aGlzLmdldENvbXBsZXRpb25zPWZ1bmN0aW9uKCl7dmFyIGk9dGhpcy4ka2V5d29yZExpc3R8fHRoaXMuJGNyZWF0ZUtleXdvcmRMaXN0KCk7cmV0dXJuIGkubWFwKGZ1bmN0aW9uKGUpe3JldHVybntuYW1lOmUsdmFsdWU6ZSxzY29yZTowLG1ldGE6ImtleXdvcmQifX0pfSx0aGlzLiRpZD0iYWNlL21vZGUvdGV4dCJ9KS5jYWxsKGwucHJvdG90eXBlKSx0Lk1vZGU9bH0pLGRlZmluZSgiYWNlL3JhbmdlX2xpc3QiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvcmFuZ2UiXSxmdW5jdGlvbihlLHQpe3ZhciByPWUoIi4vcmFuZ2UiKS5SYW5nZSxpPXIuY29tcGFyZVBvaW50cyxzPWZ1bmN0aW9uKCl7dGhpcy5yYW5nZXM9W119OyhmdW5jdGlvbigpe3RoaXMuY29tcGFyZVBvaW50cz1pLHRoaXMucG9pbnRJbmRleD1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPXRoaXMucmFuZ2VzLHM9bnx8MDtzPHIubGVuZ3RoO3MrKyl7dmFyIG89cltzXSx1PWkoZSxvLmVuZCk7aWYoISh1PjApKXt2YXIgYT1pKGUsby5zdGFydCk7cmV0dXJuIDA9PT11P3QmJjAhPT1hPy1zLTI6czphPjB8fDA9PT1hJiYhdD9zOi1zLTF9fXJldHVybi1zLTF9LHRoaXMuYWRkPWZ1bmN0aW9uKGUpe3ZhciB0PSFlLmlzRW1wdHkoKSxuPXRoaXMucG9pbnRJbmRleChlLnN0YXJ0LHQpOzA+biYmKG49LW4tMSk7dmFyIHI9dGhpcy5wb2ludEluZGV4KGUuZW5kLHQsbik7cmV0dXJuIDA+cj9yPS1yLTE6cisrLHRoaXMucmFuZ2VzLnNwbGljZShuLHItbixlKX0sdGhpcy5hZGRMaXN0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPWUubGVuZ3RoO24tLTspdC5wdXNoLmNhbGwodCx0aGlzLmFkZChlW25dKSk7cmV0dXJuIHR9LHRoaXMuc3Vic3RyYWN0UG9pbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5wb2ludEluZGV4KGUpO3JldHVybiB0Pj0wP3RoaXMucmFuZ2VzLnNwbGljZSh0LDEpOnZvaWQgMH0sdGhpcy5tZXJnZT1mdW5jdGlvbigpe3ZhciBlPVtdLHQ9dGhpcy5yYW5nZXM7dD10LnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gaShlLnN0YXJ0LHQuc3RhcnQpfSk7Zm9yKHZhciByLG49dFswXSxzPTE7czx0Lmxlbmd0aDtzKyspe3I9bixuPXRbc107dmFyIG89aShyLmVuZCxuLnN0YXJ0KTswPm98fCgwIT1vfHxyLmlzRW1wdHkoKXx8bi5pc0VtcHR5KCkpJiYoaShyLmVuZCxuLmVuZCk8MCYmKHIuZW5kLnJvdz1uLmVuZC5yb3csci5lbmQuY29sdW1uPW4uZW5kLmNvbHVtbiksdC5zcGxpY2UocywxKSxlLnB1c2gobiksbj1yLHMtLSl9cmV0dXJuIHRoaXMucmFuZ2VzPXQsZX0sdGhpcy5jb250YWlucz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnBvaW50SW5kZXgoe3JvdzplLGNvbHVtbjp0fSk+PTB9LHRoaXMuY29udGFpbnNQb2ludD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wb2ludEluZGV4KGUpPj0wfSx0aGlzLnJhbmdlQXRQb2ludD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnBvaW50SW5kZXgoZSk7cmV0dXJuIHQ+PTA/dGhpcy5yYW5nZXNbdF06dm9pZCAwfSx0aGlzLmNsaXBSb3dzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5yYW5nZXM7aWYoblswXS5zdGFydC5yb3c+dHx8bltuLmxlbmd0aC0xXS5zdGFydC5yb3c8ZSlyZXR1cm5bXTt2YXIgcj10aGlzLnBvaW50SW5kZXgoe3JvdzplLGNvbHVtbjowfSk7MD5yJiYocj0tci0xKTt2YXIgaT10aGlzLnBvaW50SW5kZXgoe3Jvdzp0LGNvbHVtbjowfSxyKTswPmkmJihpPS1pLTEpO2Zvcih2YXIgcz1bXSxvPXI7aT5vO28rKylzLnB1c2gobltvXSk7cmV0dXJuIHN9LHRoaXMucmVtb3ZlQWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmFuZ2VzLnNwbGljZSgwLHRoaXMucmFuZ2VzLmxlbmd0aCl9LHRoaXMuYXR0YWNoPWZ1bmN0aW9uKGUpe3RoaXMuc2Vzc2lvbiYmdGhpcy5kZXRhY2goKSx0aGlzLnNlc3Npb249ZSx0aGlzLm9uQ2hhbmdlPXRoaXMuJG9uQ2hhbmdlLmJpbmQodGhpcyksdGhpcy5zZXNzaW9uLm9uKCJjaGFuZ2UiLHRoaXMub25DaGFuZ2UpfSx0aGlzLmRldGFjaD1mdW5jdGlvbigpe3RoaXMuc2Vzc2lvbiYmKHRoaXMuc2Vzc2lvbi5yZW1vdmVMaXN0ZW5lcigiY2hhbmdlIix0aGlzLm9uQ2hhbmdlKSx0aGlzLnNlc3Npb249bnVsbCl9LHRoaXMuJG9uQ2hhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZGF0YS5yYW5nZTtpZigiaSI9PWUuZGF0YS5hY3Rpb25bMF0pdmFyIG49dC5zdGFydCxyPXQuZW5kO2Vsc2UgdmFyIHI9dC5zdGFydCxuPXQuZW5kO2Zvcih2YXIgaT1uLnJvdyxzPXIucm93LG89cy1pLHU9LW4uY29sdW1uK3IuY29sdW1uLGE9dGhpcy5yYW5nZXMsZj0wLGw9YS5sZW5ndGg7bD5mO2YrKyl7dmFyIGM9YVtmXTtpZighKGMuZW5kLnJvdzxpKSl7aWYoYy5zdGFydC5yb3c+aSlicmVhaztpZihjLnN0YXJ0LnJvdz09aSYmYy5zdGFydC5jb2x1bW4+PW4uY29sdW1uJiYoYy5zdGFydC5jb2x1bW4hPW4uY29sdW1ufHwhdGhpcy4kaW5zZXJ0UmlnaHQpJiYoYy5zdGFydC5jb2x1bW4rPXUsYy5zdGFydC5yb3crPW8pLGMuZW5kLnJvdz09aSYmYy5lbmQuY29sdW1uPj1uLmNvbHVtbil7aWYoYy5lbmQuY29sdW1uPT1uLmNvbHVtbiYmdGhpcy4kaW5zZXJ0UmlnaHQpY29udGludWU7Yy5lbmQuY29sdW1uPT1uLmNvbHVtbiYmdT4wJiZsLTE+ZiYmYy5lbmQuY29sdW1uPmMuc3RhcnQuY29sdW1uJiZjLmVuZC5jb2x1bW49PWFbZisxXS5zdGFydC5jb2x1bW4mJihjLmVuZC5jb2x1bW4tPXUpLGMuZW5kLmNvbHVtbis9dSxjLmVuZC5yb3crPW99fX1pZigwIT1vJiZsPmYpZm9yKDtsPmY7ZisrKXt2YXIgYz1hW2ZdO2Muc3RhcnQucm93Kz1vLGMuZW5kLnJvdys9b319fSkuY2FsbChzLnByb3RvdHlwZSksdC5SYW5nZUxpc3Q9c30pLGRlZmluZSgiYWNlL3JhbmdlIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oZSx0KXt2YXIgcj1mdW5jdGlvbihlLHQpe3JldHVybiBlLnJvdy10LnJvd3x8ZS5jb2x1bW4tdC5jb2x1bW59LGk9ZnVuY3Rpb24oZSx0LG4scil7dGhpcy5zdGFydD17cm93OmUsY29sdW1uOnR9LHRoaXMuZW5kPXtyb3c6bixjb2x1bW46cn19OyhmdW5jdGlvbigpe3RoaXMuaXNFcXVhbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zdGFydC5yb3c9PT1lLnN0YXJ0LnJvdyYmdGhpcy5lbmQucm93PT09ZS5lbmQucm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09PWUuc3RhcnQuY29sdW1uJiZ0aGlzLmVuZC5jb2x1bW49PT1lLmVuZC5jb2x1bW59LHRoaXMudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iUmFuZ2U6IFsiK3RoaXMuc3RhcnQucm93KyIvIit0aGlzLnN0YXJ0LmNvbHVtbisiXSAtPiBbIit0aGlzLmVuZC5yb3crIi8iK3RoaXMuZW5kLmNvbHVtbisiXSJ9LHRoaXMuY29udGFpbnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKGUsdCl9LHRoaXMuY29tcGFyZVJhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5lbmQscj1lLnN0YXJ0O3JldHVybiB0PXRoaXMuY29tcGFyZShuLnJvdyxuLmNvbHVtbiksMT09dD8odD10aGlzLmNvbXBhcmUoci5yb3csci5jb2x1bW4pLDE9PXQ/MjowPT10PzE6MCk6LTE9PXQ/LTI6KHQ9dGhpcy5jb21wYXJlKHIucm93LHIuY29sdW1uKSwtMT09dD8tMToxPT10PzQyOjApfSx0aGlzLmNvbXBhcmVQb2ludD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb21wYXJlKGUucm93LGUuY29sdW1uKX0sdGhpcy5jb250YWluc1JhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiAwPT10aGlzLmNvbXBhcmVQb2ludChlLnN0YXJ0KSYmMD09dGhpcy5jb21wYXJlUG9pbnQoZS5lbmQpfSx0aGlzLmludGVyc2VjdHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jb21wYXJlUmFuZ2UoZSk7cmV0dXJuLTE9PXR8fDA9PXR8fDE9PXR9LHRoaXMuaXNFbmQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmQucm93PT1lJiZ0aGlzLmVuZC5jb2x1bW49PXR9LHRoaXMuaXNTdGFydD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnN0YXJ0LnJvdz09ZSYmdGhpcy5zdGFydC5jb2x1bW49PXR9LHRoaXMuc2V0U3RhcnQ9ZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGU/KHRoaXMuc3RhcnQuY29sdW1uPWUuY29sdW1uLHRoaXMuc3RhcnQucm93PWUucm93KToodGhpcy5zdGFydC5yb3c9ZSx0aGlzLnN0YXJ0LmNvbHVtbj10KX0sdGhpcy5zZXRFbmQ9ZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGU/KHRoaXMuZW5kLmNvbHVtbj1lLmNvbHVtbix0aGlzLmVuZC5yb3c9ZS5yb3cpOih0aGlzLmVuZC5yb3c9ZSx0aGlzLmVuZC5jb2x1bW49dCl9LHRoaXMuaW5zaWRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA9PXRoaXMuY29tcGFyZShlLHQpP3RoaXMuaXNFbmQoZSx0KXx8dGhpcy5pc1N0YXJ0KGUsdCk/ITE6ITA6ITF9LHRoaXMuaW5zaWRlU3RhcnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKGUsdCk/dGhpcy5pc0VuZChlLHQpPyExOiEwOiExfSx0aGlzLmluc2lkZUVuZD1mdW5jdGlvbihlLHQpe3JldHVybiAwPT10aGlzLmNvbXBhcmUoZSx0KT90aGlzLmlzU3RhcnQoZSx0KT8hMTohMDohMX0sdGhpcy5jb21wYXJlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuaXNNdWx0aUxpbmUoKXx8ZSE9PXRoaXMuc3RhcnQucm93P2U8dGhpcy5zdGFydC5yb3c/LTE6ZT50aGlzLmVuZC5yb3c/MTp0aGlzLnN0YXJ0LnJvdz09PWU/dD49dGhpcy5zdGFydC5jb2x1bW4/MDotMTp0aGlzLmVuZC5yb3c9PT1lP3Q8PXRoaXMuZW5kLmNvbHVtbj8wOjE6MDp0PHRoaXMuc3RhcnQuY29sdW1uPy0xOnQ+dGhpcy5lbmQuY29sdW1uPzE6MH0sdGhpcy5jb21wYXJlU3RhcnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zdGFydC5yb3c9PWUmJnRoaXMuc3RhcnQuY29sdW1uPT10Py0xOnRoaXMuY29tcGFyZShlLHQpfSx0aGlzLmNvbXBhcmVFbmQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmQucm93PT1lJiZ0aGlzLmVuZC5jb2x1bW49PXQ/MTp0aGlzLmNvbXBhcmUoZSx0KX0sdGhpcy5jb21wYXJlSW5zaWRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5kLnJvdz09ZSYmdGhpcy5lbmQuY29sdW1uPT10PzE6dGhpcy5zdGFydC5yb3c9PWUmJnRoaXMuc3RhcnQuY29sdW1uPT10Py0xOnRoaXMuY29tcGFyZShlLHQpfSx0aGlzLmNsaXBSb3dzPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5lbmQucm93PnQpdmFyIG49e3Jvdzp0KzEsY29sdW1uOjB9O2Vsc2UgaWYodGhpcy5lbmQucm93PGUpdmFyIG49e3JvdzplLGNvbHVtbjowfTtpZih0aGlzLnN0YXJ0LnJvdz50KXZhciByPXtyb3c6dCsxLGNvbHVtbjowfTtlbHNlIGlmKHRoaXMuc3RhcnQucm93PGUpdmFyIHI9e3JvdzplLGNvbHVtbjowfTtyZXR1cm4gaS5mcm9tUG9pbnRzKHJ8fHRoaXMuc3RhcnQsbnx8dGhpcy5lbmQpfSx0aGlzLmV4dGVuZD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuY29tcGFyZShlLHQpO2lmKDA9PW4pcmV0dXJuIHRoaXM7aWYoLTE9PW4pdmFyIHI9e3JvdzplLGNvbHVtbjp0fTtlbHNlIHZhciBzPXtyb3c6ZSxjb2x1bW46dH07cmV0dXJuIGkuZnJvbVBvaW50cyhyfHx0aGlzLnN0YXJ0LHN8fHRoaXMuZW5kKX0sdGhpcy5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnQucm93PT09dGhpcy5lbmQucm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09PXRoaXMuZW5kLmNvbHVtbn0sdGhpcy5pc011bHRpTGluZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0LnJvdyE9PXRoaXMuZW5kLnJvd30sdGhpcy5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBpLmZyb21Qb2ludHModGhpcy5zdGFydCx0aGlzLmVuZCl9LHRoaXMuY29sbGFwc2VSb3dzPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PXRoaXMuZW5kLmNvbHVtbj9uZXcgaSh0aGlzLnN0YXJ0LnJvdywwLE1hdGgubWF4KHRoaXMuc3RhcnQucm93LHRoaXMuZW5kLnJvdy0xKSwwKTpuZXcgaSh0aGlzLnN0YXJ0LnJvdywwLHRoaXMuZW5kLnJvdywwKX0sdGhpcy50b1NjcmVlblJhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuc3RhcnQpLG49ZS5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24odGhpcy5lbmQpO3JldHVybiBuZXcgaSh0LnJvdyx0LmNvbHVtbixuLnJvdyxuLmNvbHVtbil9LHRoaXMubW92ZUJ5PWZ1bmN0aW9uKGUsdCl7dGhpcy5zdGFydC5yb3crPWUsdGhpcy5zdGFydC5jb2x1bW4rPXQsdGhpcy5lbmQucm93Kz1lLHRoaXMuZW5kLmNvbHVtbis9dH19KS5jYWxsKGkucHJvdG90eXBlKSxpLmZyb21Qb2ludHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGkoZS5yb3csZS5jb2x1bW4sdC5yb3csdC5jb2x1bW4pfSxpLmNvbXBhcmVQb2ludHM9cixpLmNvbXBhcmVQb2ludHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5yb3ctdC5yb3d8fGUuY29sdW1uLXQuY29sdW1ufSx0LlJhbmdlPWl9KSxkZWZpbmUoImFjZS9lZGl0X3Nlc3Npb24vYnJhY2tldF9tYXRjaCIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS90b2tlbl9pdGVyYXRvciIsImFjZS9yYW5nZSJdLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcygpe3RoaXMuZmluZE1hdGNoaW5nQnJhY2tldD1mdW5jdGlvbihlLHQpe2lmKDA9PWUuY29sdW1uKXJldHVybiBudWxsO3ZhciBuPXR8fHRoaXMuZ2V0TGluZShlLnJvdykuY2hhckF0KGUuY29sdW1uLTEpO2lmKCIiPT1uKXJldHVybiBudWxsO3ZhciByPW4ubWF0Y2goLyhbXChcW1x7XSl8KFtcKVxdXH1dKS8pO3JldHVybiByP3JbMV0/dGhpcy4kZmluZENsb3NpbmdCcmFja2V0KHJbMV0sZSk6dGhpcy4kZmluZE9wZW5pbmdCcmFja2V0KHJbMl0sZSk6bnVsbH0sdGhpcy5nZXRCcmFja2V0UmFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHIsdD10aGlzLmdldExpbmUoZS5yb3cpLG49ITAscz10LmNoYXJBdChlLmNvbHVtbi0xKSxvPXMmJnMubWF0Y2goLyhbXChcW1x7XSl8KFtcKVxdXH1dKS8pO2lmKG98fChzPXQuY2hhckF0KGUuY29sdW1uKSxlPXtyb3c6ZS5yb3csY29sdW1uOmUuY29sdW1uKzF9LG89cyYmcy5tYXRjaCgvKFtcKFxbXHtdKXwoW1wpXF1cfV0pLyksbj0hMSksIW8pcmV0dXJuIG51bGw7aWYob1sxXSl7dmFyIHU9dGhpcy4kZmluZENsb3NpbmdCcmFja2V0KG9bMV0sZSk7aWYoIXUpcmV0dXJuIG51bGw7cj1pLmZyb21Qb2ludHMoZSx1KSxufHwoci5lbmQuY29sdW1uKyssci5zdGFydC5jb2x1bW4tLSksci5jdXJzb3I9ci5lbmR9ZWxzZXt2YXIgdT10aGlzLiRmaW5kT3BlbmluZ0JyYWNrZXQob1syXSxlKTtpZighdSlyZXR1cm4gbnVsbDtyPWkuZnJvbVBvaW50cyh1LGUpLG58fChyLnN0YXJ0LmNvbHVtbisrLHIuZW5kLmNvbHVtbi0tKSxyLmN1cnNvcj1yLnN0YXJ0fXJldHVybiByfSx0aGlzLiRicmFja2V0cz17IikiOiIoIiwiKCI6IikiLCJdIjoiWyIsIlsiOiJdIiwieyI6In0iLCJ9IjoieyJ9LHRoaXMuJGZpbmRPcGVuaW5nQnJhY2tldD1mdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcy4kYnJhY2tldHNbZV0scz0xLG89bmV3IHIodGhpcyx0LnJvdyx0LmNvbHVtbiksdT1vLmdldEN1cnJlbnRUb2tlbigpO2lmKHV8fCh1PW8uc3RlcEZvcndhcmQoKSksdSl7bnx8KG49bmV3IFJlZ0V4cCgiKFxcLj8iK3UudHlwZS5yZXBsYWNlKCIuIiwiXFwuIikucmVwbGFjZSgicnBhcmVuIiwiLnBhcmVuIikrIikrIikpO2Zvcih2YXIgYT10LmNvbHVtbi1vLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpLTIsZj11LnZhbHVlOzspe2Zvcig7YT49MDspe3ZhciBsPWYuY2hhckF0KGEpO2lmKGw9PWkpe2lmKHMtPTEsMD09cylyZXR1cm57cm93Om8uZ2V0Q3VycmVudFRva2VuUm93KCksY29sdW1uOmErby5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKX19ZWxzZSBsPT1lJiYocys9MSk7YS09MX1kbyB1PW8uc3RlcEJhY2t3YXJkKCk7d2hpbGUodSYmIW4udGVzdCh1LnR5cGUpKTtpZihudWxsPT11KWJyZWFrO2Y9dS52YWx1ZSxhPWYubGVuZ3RoLTF9cmV0dXJuIG51bGx9fSx0aGlzLiRmaW5kQ2xvc2luZ0JyYWNrZXQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXMuJGJyYWNrZXRzW2VdLHM9MSxvPW5ldyByKHRoaXMsdC5yb3csdC5jb2x1bW4pLHU9by5nZXRDdXJyZW50VG9rZW4oKTtpZih1fHwodT1vLnN0ZXBGb3J3YXJkKCkpLHUpe258fChuPW5ldyBSZWdFeHAoIihcXC4/Iit1LnR5cGUucmVwbGFjZSgiLiIsIlxcLiIpLnJlcGxhY2UoImxwYXJlbiIsIi5wYXJlbiIpKyIpKyIpKTtmb3IodmFyIGE9dC5jb2x1bW4tby5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKTs7KXtmb3IodmFyIGY9dS52YWx1ZSxsPWYubGVuZ3RoO2w+YTspe3ZhciBjPWYuY2hhckF0KGEpO2lmKGM9PWkpe2lmKHMtPTEsMD09cylyZXR1cm57cm93Om8uZ2V0Q3VycmVudFRva2VuUm93KCksY29sdW1uOmErby5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKX19ZWxzZSBjPT1lJiYocys9MSk7YSs9MX1kbyB1PW8uc3RlcEZvcndhcmQoKTt3aGlsZSh1JiYhbi50ZXN0KHUudHlwZSkpO2lmKG51bGw9PXUpYnJlYWs7YT0wfXJldHVybiBudWxsfX19dmFyIHI9ZSgiLi4vdG9rZW5faXRlcmF0b3IiKS5Ub2tlbkl0ZXJhdG9yLGk9ZSgiLi4vcmFuZ2UiKS5SYW5nZTt0LkJyYWNrZXRNYXRjaD1zfSksZGVmaW5lKCJhY2Uvc2VsZWN0aW9uIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9vb3AiLCJhY2UvbGliL2xhbmciLCJhY2UvbGliL2V2ZW50X2VtaXR0ZXIiLCJhY2UvcmFuZ2UiXSxmdW5jdGlvbihlLHQpe3ZhciByPWUoIi4vbGliL29vcCIpLGk9ZSgiLi9saWIvbGFuZyIpLHM9ZSgiLi9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcixvPWUoIi4vcmFuZ2UiKS5SYW5nZSx1PWZ1bmN0aW9uKGUpe3RoaXMuc2Vzc2lvbj1lLHRoaXMuZG9jPWUuZ2V0RG9jdW1lbnQoKSx0aGlzLmNsZWFyU2VsZWN0aW9uKCksdGhpcy5sZWFkPXRoaXMuc2VsZWN0aW9uTGVhZD10aGlzLmRvYy5jcmVhdGVBbmNob3IoMCwwKSx0aGlzLmFuY2hvcj10aGlzLnNlbGVjdGlvbkFuY2hvcj10aGlzLmRvYy5jcmVhdGVBbmNob3IoMCwwKTt2YXIgdD10aGlzO3RoaXMubGVhZC5vbigiY2hhbmdlIixmdW5jdGlvbihlKXt0Ll9lbWl0KCJjaGFuZ2VDdXJzb3IiKSx0LiRpc0VtcHR5fHx0Ll9lbWl0KCJjaGFuZ2VTZWxlY3Rpb24iKSwhdC4ka2VlcERlc2lyZWRDb2x1bW5PbkNoYW5nZSYmZS5vbGQuY29sdW1uIT1lLnZhbHVlLmNvbHVtbiYmKHQuJGRlc2lyZWRDb2x1bW49bnVsbCl9KSx0aGlzLnNlbGVjdGlvbkFuY2hvci5vbigiY2hhbmdlIixmdW5jdGlvbigpe3QuJGlzRW1wdHl8fHQuX2VtaXQoImNoYW5nZVNlbGVjdGlvbiIpfSl9OyhmdW5jdGlvbigpe3IuaW1wbGVtZW50KHRoaXMscyksdGhpcy5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGlzRW1wdHl8fHRoaXMuYW5jaG9yLnJvdz09dGhpcy5sZWFkLnJvdyYmdGhpcy5hbmNob3IuY29sdW1uPT10aGlzLmxlYWQuY29sdW1ufSx0aGlzLmlzTXVsdGlMaW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNFbXB0eSgpPyExOnRoaXMuZ2V0UmFuZ2UoKS5pc011bHRpTGluZSgpfSx0aGlzLmdldEN1cnNvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlYWQuZ2V0UG9zaXRpb24oKX0sdGhpcy5zZXRTZWxlY3Rpb25BbmNob3I9ZnVuY3Rpb24oZSx0KXt0aGlzLmFuY2hvci5zZXRQb3NpdGlvbihlLHQpLHRoaXMuJGlzRW1wdHkmJih0aGlzLiRpc0VtcHR5PSExLHRoaXMuX2VtaXQoImNoYW5nZVNlbGVjdGlvbiIpKX0sdGhpcy5nZXRTZWxlY3Rpb25BbmNob3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kaXNFbXB0eT90aGlzLmdldFNlbGVjdGlvbkxlYWQoKTp0aGlzLmFuY2hvci5nZXRQb3NpdGlvbigpfSx0aGlzLmdldFNlbGVjdGlvbkxlYWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZWFkLmdldFBvc2l0aW9uKCl9LHRoaXMuc2hpZnRTZWxlY3Rpb249ZnVuY3Rpb24oZSl7aWYodGhpcy4kaXNFbXB0eSlyZXR1cm4gdm9pZCB0aGlzLm1vdmVDdXJzb3JUbyh0aGlzLmxlYWQucm93LHRoaXMubGVhZC5jb2x1bW4rZSk7dmFyIHQ9dGhpcy5nZXRTZWxlY3Rpb25BbmNob3IoKSxuPXRoaXMuZ2V0U2VsZWN0aW9uTGVhZCgpLHI9dGhpcy5pc0JhY2t3YXJkcygpOyghcnx8MCE9PXQuY29sdW1uKSYmdGhpcy5zZXRTZWxlY3Rpb25BbmNob3IodC5yb3csdC5jb2x1bW4rZSksKHJ8fDAhPT1uLmNvbHVtbikmJnRoaXMuJG1vdmVTZWxlY3Rpb24oZnVuY3Rpb24oKXt0aGlzLm1vdmVDdXJzb3JUbyhuLnJvdyxuLmNvbHVtbitlKX0pfSx0aGlzLmlzQmFja3dhcmRzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5hbmNob3IsdD10aGlzLmxlYWQ7cmV0dXJuIGUucm93PnQucm93fHxlLnJvdz09dC5yb3cmJmUuY29sdW1uPnQuY29sdW1ufSx0aGlzLmdldFJhbmdlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5hbmNob3IsdD10aGlzLmxlYWQ7cmV0dXJuIHRoaXMuaXNFbXB0eSgpP28uZnJvbVBvaW50cyh0LHQpOnRoaXMuaXNCYWNrd2FyZHMoKT9vLmZyb21Qb2ludHModCxlKTpvLmZyb21Qb2ludHMoZSx0KX0sdGhpcy5jbGVhclNlbGVjdGlvbj1mdW5jdGlvbigpe3RoaXMuJGlzRW1wdHl8fCh0aGlzLiRpc0VtcHR5PSEwLHRoaXMuX2VtaXQoImNoYW5nZVNlbGVjdGlvbiIpKX0sdGhpcy5zZWxlY3RBbGw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRvYy5nZXRMZW5ndGgoKS0xO3RoaXMuc2V0U2VsZWN0aW9uQW5jaG9yKDAsMCksdGhpcy5tb3ZlQ3Vyc29yVG8oZSx0aGlzLmRvYy5nZXRMaW5lKGUpLmxlbmd0aCl9LHRoaXMuc2V0UmFuZ2U9dGhpcy5zZXRTZWxlY3Rpb25SYW5nZT1mdW5jdGlvbihlLHQpe3Q/KHRoaXMuc2V0U2VsZWN0aW9uQW5jaG9yKGUuZW5kLnJvdyxlLmVuZC5jb2x1bW4pLHRoaXMuc2VsZWN0VG8oZS5zdGFydC5yb3csZS5zdGFydC5jb2x1bW4pKToodGhpcy5zZXRTZWxlY3Rpb25BbmNob3IoZS5zdGFydC5yb3csZS5zdGFydC5jb2x1bW4pLHRoaXMuc2VsZWN0VG8oZS5lbmQucm93LGUuZW5kLmNvbHVtbikpLHRoaXMuZ2V0UmFuZ2UoKS5pc0VtcHR5KCkmJih0aGlzLiRpc0VtcHR5PSEwKSx0aGlzLiRkZXNpcmVkQ29sdW1uPW51bGx9LHRoaXMuJG1vdmVTZWxlY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZWFkO3RoaXMuJGlzRW1wdHkmJnRoaXMuc2V0U2VsZWN0aW9uQW5jaG9yKHQucm93LHQuY29sdW1uKSxlLmNhbGwodGhpcyl9LHRoaXMuc2VsZWN0VG89ZnVuY3Rpb24oZSx0KXt0aGlzLiRtb3ZlU2VsZWN0aW9uKGZ1bmN0aW9uKCl7dGhpcy5tb3ZlQ3Vyc29yVG8oZSx0KX0pfSx0aGlzLnNlbGVjdFRvUG9zaXRpb249ZnVuY3Rpb24oZSl7dGhpcy4kbW92ZVNlbGVjdGlvbihmdW5jdGlvbigpe3RoaXMubW92ZUN1cnNvclRvUG9zaXRpb24oZSl9KX0sdGhpcy5tb3ZlVG89ZnVuY3Rpb24oZSx0KXt0aGlzLmNsZWFyU2VsZWN0aW9uKCksdGhpcy5tb3ZlQ3Vyc29yVG8oZSx0KX0sdGhpcy5tb3ZlVG9Qb3NpdGlvbj1mdW5jdGlvbihlKXt0aGlzLmNsZWFyU2VsZWN0aW9uKCksdGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihlKX0sdGhpcy5zZWxlY3RVcD1mdW5jdGlvbigpe3RoaXMuJG1vdmVTZWxlY3Rpb24odGhpcy5tb3ZlQ3Vyc29yVXApfSx0aGlzLnNlbGVjdERvd249ZnVuY3Rpb24oKXt0aGlzLiRtb3ZlU2VsZWN0aW9uKHRoaXMubW92ZUN1cnNvckRvd24pfSx0aGlzLnNlbGVjdFJpZ2h0PWZ1bmN0aW9uKCl7dGhpcy4kbW92ZVNlbGVjdGlvbih0aGlzLm1vdmVDdXJzb3JSaWdodCl9LHRoaXMuc2VsZWN0TGVmdD1mdW5jdGlvbigpe3RoaXMuJG1vdmVTZWxlY3Rpb24odGhpcy5tb3ZlQ3Vyc29yTGVmdCl9LHRoaXMuc2VsZWN0TGluZVN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy4kbW92ZVNlbGVjdGlvbih0aGlzLm1vdmVDdXJzb3JMaW5lU3RhcnQpfSx0aGlzLnNlbGVjdExpbmVFbmQ9ZnVuY3Rpb24oKXt0aGlzLiRtb3ZlU2VsZWN0aW9uKHRoaXMubW92ZUN1cnNvckxpbmVFbmQpfSx0aGlzLnNlbGVjdEZpbGVFbmQ9ZnVuY3Rpb24oKXt0aGlzLiRtb3ZlU2VsZWN0aW9uKHRoaXMubW92ZUN1cnNvckZpbGVFbmQpfSx0aGlzLnNlbGVjdEZpbGVTdGFydD1mdW5jdGlvbigpe3RoaXMuJG1vdmVTZWxlY3Rpb24odGhpcy5tb3ZlQ3Vyc29yRmlsZVN0YXJ0KX0sdGhpcy5zZWxlY3RXb3JkUmlnaHQ9ZnVuY3Rpb24oKXt0aGlzLiRtb3ZlU2VsZWN0aW9uKHRoaXMubW92ZUN1cnNvcldvcmRSaWdodCl9LHRoaXMuc2VsZWN0V29yZExlZnQ9ZnVuY3Rpb24oKXt0aGlzLiRtb3ZlU2VsZWN0aW9uKHRoaXMubW92ZUN1cnNvcldvcmRMZWZ0KX0sdGhpcy5nZXRXb3JkUmFuZ2U9ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIj09dHlwZW9mIHQpe3ZhciBuPWV8fHRoaXMubGVhZDtlPW4ucm93LHQ9bi5jb2x1bW59cmV0dXJuIHRoaXMuc2Vzc2lvbi5nZXRXb3JkUmFuZ2UoZSx0KX0sdGhpcy5zZWxlY3RXb3JkPWZ1bmN0aW9uKCl7dGhpcy5zZXRTZWxlY3Rpb25SYW5nZSh0aGlzLmdldFdvcmRSYW5nZSgpKX0sdGhpcy5zZWxlY3RBV29yZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Q3Vyc29yKCksdD10aGlzLnNlc3Npb24uZ2V0QVdvcmRSYW5nZShlLnJvdyxlLmNvbHVtbik7dGhpcy5zZXRTZWxlY3Rpb25SYW5nZSh0KX0sdGhpcy5nZXRMaW5lUmFuZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgcixuPSJudW1iZXIiPT10eXBlb2YgZT9lOnRoaXMubGVhZC5yb3csaT10aGlzLnNlc3Npb24uZ2V0Rm9sZExpbmUobik7cmV0dXJuIGk/KG49aS5zdGFydC5yb3cscj1pLmVuZC5yb3cpOnI9bix0PT09ITA/bmV3IG8obiwwLHIsdGhpcy5zZXNzaW9uLmdldExpbmUocikubGVuZ3RoKTpuZXcgbyhuLDAscisxLDApfSx0aGlzLnNlbGVjdExpbmU9ZnVuY3Rpb24oKXt0aGlzLnNldFNlbGVjdGlvblJhbmdlKHRoaXMuZ2V0TGluZVJhbmdlKCkpfSx0aGlzLm1vdmVDdXJzb3JVcD1mdW5jdGlvbigpe3RoaXMubW92ZUN1cnNvckJ5KC0xLDApfSx0aGlzLm1vdmVDdXJzb3JEb3duPWZ1bmN0aW9uKCl7dGhpcy5tb3ZlQ3Vyc29yQnkoMSwwKX0sdGhpcy5tb3ZlQ3Vyc29yTGVmdD1mdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5sZWFkLmdldFBvc2l0aW9uKCk7aWYodD10aGlzLnNlc3Npb24uZ2V0Rm9sZEF0KGUucm93LGUuY29sdW1uLC0xKSl0aGlzLm1vdmVDdXJzb3JUbyh0LnN0YXJ0LnJvdyx0LnN0YXJ0LmNvbHVtbik7ZWxzZSBpZigwPT1lLmNvbHVtbillLnJvdz4wJiZ0aGlzLm1vdmVDdXJzb3JUbyhlLnJvdy0xLHRoaXMuZG9jLmdldExpbmUoZS5yb3ctMSkubGVuZ3RoKTtlbHNle3ZhciBuPXRoaXMuc2Vzc2lvbi5nZXRUYWJTaXplKCk7dGhpcy5zZXNzaW9uLmlzVGFiU3RvcChlKSYmdGhpcy5kb2MuZ2V0TGluZShlLnJvdykuc2xpY2UoZS5jb2x1bW4tbixlLmNvbHVtbikuc3BsaXQoIiAiKS5sZW5ndGgtMT09bj90aGlzLm1vdmVDdXJzb3JCeSgwLC1uKTp0aGlzLm1vdmVDdXJzb3JCeSgwLC0xKX19LHRoaXMubW92ZUN1cnNvclJpZ2h0PWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLmxlYWQuZ2V0UG9zaXRpb24oKTtpZih0PXRoaXMuc2Vzc2lvbi5nZXRGb2xkQXQoZS5yb3csZS5jb2x1bW4sMSkpdGhpcy5tb3ZlQ3Vyc29yVG8odC5lbmQucm93LHQuZW5kLmNvbHVtbik7ZWxzZSBpZih0aGlzLmxlYWQuY29sdW1uPT10aGlzLmRvYy5nZXRMaW5lKHRoaXMubGVhZC5yb3cpLmxlbmd0aCl0aGlzLmxlYWQucm93PHRoaXMuZG9jLmdldExlbmd0aCgpLTEmJnRoaXMubW92ZUN1cnNvclRvKHRoaXMubGVhZC5yb3crMSwwKTtlbHNle3ZhciBuPXRoaXMuc2Vzc2lvbi5nZXRUYWJTaXplKCksZT10aGlzLmxlYWQ7dGhpcy5zZXNzaW9uLmlzVGFiU3RvcChlKSYmdGhpcy5kb2MuZ2V0TGluZShlLnJvdykuc2xpY2UoZS5jb2x1bW4sZS5jb2x1bW4rbikuc3BsaXQoIiAiKS5sZW5ndGgtMT09bj90aGlzLm1vdmVDdXJzb3JCeSgwLG4pOnRoaXMubW92ZUN1cnNvckJ5KDAsMSl9fSx0aGlzLm1vdmVDdXJzb3JMaW5lU3RhcnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlYWQucm93LHQ9dGhpcy5sZWFkLmNvbHVtbixuPXRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUm93KGUsdCkscj10aGlzLnNlc3Npb24uc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uKG4sMCksaT10aGlzLnNlc3Npb24uZ2V0RGlzcGxheUxpbmUoZSxudWxsLHIucm93LHIuY29sdW1uKSxzPWkubWF0Y2goL15ccyovKTtzWzBdLmxlbmd0aCE9dCYmIXRoaXMuc2Vzc2lvbi4kdXNlRW1hY3NTdHlsZUxpbmVTdGFydCYmKHIuY29sdW1uKz1zWzBdLmxlbmd0aCksdGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihyKX0sdGhpcy5tb3ZlQ3Vyc29yTGluZUVuZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVhZCx0PXRoaXMuc2Vzc2lvbi5nZXREb2N1bWVudExhc3RSb3dDb2x1bW5Qb3NpdGlvbihlLnJvdyxlLmNvbHVtbik7aWYodGhpcy5sZWFkLmNvbHVtbj09dC5jb2x1bW4pe3ZhciBuPXRoaXMuc2Vzc2lvbi5nZXRMaW5lKHQucm93KTtpZih0LmNvbHVtbj09bi5sZW5ndGgpe3ZhciByPW4uc2VhcmNoKC9ccyskLyk7cj4wJiYodC5jb2x1bW49cil9fXRoaXMubW92ZUN1cnNvclRvKHQucm93LHQuY29sdW1uKX0sdGhpcy5tb3ZlQ3Vyc29yRmlsZUVuZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZG9jLmdldExlbmd0aCgpLTEsdD10aGlzLmRvYy5nZXRMaW5lKGUpLmxlbmd0aDt0aGlzLm1vdmVDdXJzb3JUbyhlLHQpfSx0aGlzLm1vdmVDdXJzb3JGaWxlU3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLm1vdmVDdXJzb3JUbygwLDApfSx0aGlzLm1vdmVDdXJzb3JMb25nV29yZFJpZ2h0PWZ1bmN0aW9uKCl7dmFyIGksZT10aGlzLmxlYWQucm93LHQ9dGhpcy5sZWFkLmNvbHVtbixuPXRoaXMuZG9jLmdldExpbmUoZSkscj1uLnN1YnN0cmluZyh0KTt0aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5sYXN0SW5kZXg9MCx0aGlzLnNlc3Npb24udG9rZW5SZS5sYXN0SW5kZXg9MDt2YXIgcz10aGlzLnNlc3Npb24uZ2V0Rm9sZEF0KGUsdCwxKTtyZXR1cm4gcz92b2lkIHRoaXMubW92ZUN1cnNvclRvKHMuZW5kLnJvdyxzLmVuZC5jb2x1bW4pOigoaT10aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5leGVjKHIpKSYmKHQrPXRoaXMuc2Vzc2lvbi5ub25Ub2tlblJlLmxhc3RJbmRleCx0aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5sYXN0SW5kZXg9MCxyPW4uc3Vic3RyaW5nKHQpKSx0Pj1uLmxlbmd0aD8odGhpcy5tb3ZlQ3Vyc29yVG8oZSxuLmxlbmd0aCksdGhpcy5tb3ZlQ3Vyc29yUmlnaHQoKSxlPHRoaXMuZG9jLmdldExlbmd0aCgpLTEmJnRoaXMubW92ZUN1cnNvcldvcmRSaWdodCgpLHZvaWQgMCk6KChpPXRoaXMuc2Vzc2lvbi50b2tlblJlLmV4ZWMocikpJiYodCs9dGhpcy5zZXNzaW9uLnRva2VuUmUubGFzdEluZGV4LHRoaXMuc2Vzc2lvbi50b2tlblJlLmxhc3RJbmRleD0wKSx2b2lkIHRoaXMubW92ZUN1cnNvclRvKGUsdCkpKX0sdGhpcy5tb3ZlQ3Vyc29yTG9uZ1dvcmRMZWZ0PWZ1bmN0aW9uKCl7dmFyIG4sZT10aGlzLmxlYWQucm93LHQ9dGhpcy5sZWFkLmNvbHVtbjtpZihuPXRoaXMuc2Vzc2lvbi5nZXRGb2xkQXQoZSx0LC0xKSlyZXR1cm4gdm9pZCB0aGlzLm1vdmVDdXJzb3JUbyhuLnN0YXJ0LnJvdyxuLnN0YXJ0LmNvbHVtbik7dmFyIHI9dGhpcy5zZXNzaW9uLmdldEZvbGRTdHJpbmdBdChlLHQsLTEpO251bGw9PXImJihyPXRoaXMuZG9jLmdldExpbmUoZSkuc3Vic3RyaW5nKDAsdCkpO3ZhciBvLHM9aS5zdHJpbmdSZXZlcnNlKHIpO3JldHVybiB0aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5sYXN0SW5kZXg9MCx0aGlzLnNlc3Npb24udG9rZW5SZS5sYXN0SW5kZXg9MCwobz10aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5leGVjKHMpKSYmKHQtPXRoaXMuc2Vzc2lvbi5ub25Ub2tlblJlLmxhc3RJbmRleCxzPXMuc2xpY2UodGhpcy5zZXNzaW9uLm5vblRva2VuUmUubGFzdEluZGV4KSx0aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5sYXN0SW5kZXg9MCksMD49dD8odGhpcy5tb3ZlQ3Vyc29yVG8oZSwwKSx0aGlzLm1vdmVDdXJzb3JMZWZ0KCksZT4wJiZ0aGlzLm1vdmVDdXJzb3JXb3JkTGVmdCgpLHZvaWQgMCk6KChvPXRoaXMuc2Vzc2lvbi50b2tlblJlLmV4ZWMocykpJiYodC09dGhpcy5zZXNzaW9uLnRva2VuUmUubGFzdEluZGV4LHRoaXMuc2Vzc2lvbi50b2tlblJlLmxhc3RJbmRleD0wKSx2b2lkIHRoaXMubW92ZUN1cnNvclRvKGUsdCkpfSx0aGlzLiRzaG9ydFdvcmRFbmRJbmRleD1mdW5jdGlvbihlKXt2YXIgdCxyLG49MCxpPS9ccy8scz10aGlzLnNlc3Npb24udG9rZW5SZTtpZihzLmxhc3RJbmRleD0wLHQ9dGhpcy5zZXNzaW9uLnRva2VuUmUuZXhlYyhlKSluPXRoaXMuc2Vzc2lvbi50b2tlblJlLmxhc3RJbmRleDtlbHNle2Zvcig7KHI9ZVtuXSkmJmkudGVzdChyKTspbisrO2lmKDE+bilmb3Iocy5sYXN0SW5kZXg9MDsocj1lW25dKSYmIXMudGVzdChyKTspaWYocy5sYXN0SW5kZXg9MCxuKyssaS50ZXN0KHIpKXtpZihuPjIpe24tLTticmVha31mb3IoOyhyPWVbbl0pJiZpLnRlc3Qocik7KW4rKztpZihuPjIpYnJlYWt9fXJldHVybiBzLmxhc3RJbmRleD0wLG59LHRoaXMubW92ZUN1cnNvclNob3J0V29yZFJpZ2h0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZWFkLnJvdyx0PXRoaXMubGVhZC5jb2x1bW4sbj10aGlzLmRvYy5nZXRMaW5lKGUpLHI9bi5zdWJzdHJpbmcodCksaT10aGlzLnNlc3Npb24uZ2V0Rm9sZEF0KGUsdCwxKTtpZihpKXJldHVybiB0aGlzLm1vdmVDdXJzb3JUbyhpLmVuZC5yb3csaS5lbmQuY29sdW1uKTtpZih0PT1uLmxlbmd0aCl7dmFyIHM9dGhpcy5kb2MuZ2V0TGVuZ3RoKCk7ZG8gZSsrLHI9dGhpcy5kb2MuZ2V0TGluZShlKTt3aGlsZShzPmUmJi9eXHMqJC8udGVzdChyKSk7L15ccysvLnRlc3Qocil8fChyPSIiKSx0PTB9dmFyIG89dGhpcy4kc2hvcnRXb3JkRW5kSW5kZXgocik7dGhpcy5tb3ZlQ3Vyc29yVG8oZSx0K28pfSx0aGlzLm1vdmVDdXJzb3JTaG9ydFdvcmRMZWZ0PWZ1bmN0aW9uKCl7dmFyIG4sZT10aGlzLmxlYWQucm93LHQ9dGhpcy5sZWFkLmNvbHVtbjtpZihuPXRoaXMuc2Vzc2lvbi5nZXRGb2xkQXQoZSx0LC0xKSlyZXR1cm4gdGhpcy5tb3ZlQ3Vyc29yVG8obi5zdGFydC5yb3csbi5zdGFydC5jb2x1bW4pO3ZhciByPXRoaXMuc2Vzc2lvbi5nZXRMaW5lKGUpLnN1YnN0cmluZygwLHQpO2lmKDA9PXQpe2RvIGUtLSxyPXRoaXMuZG9jLmdldExpbmUoZSk7d2hpbGUoZT4wJiYvXlxzKiQvLnRlc3QocikpO3Q9ci5sZW5ndGgsL1xzKyQvLnRlc3Qocil8fChyPSIiKX12YXIgcz1pLnN0cmluZ1JldmVyc2Uociksbz10aGlzLiRzaG9ydFdvcmRFbmRJbmRleChzKTtyZXR1cm4gdGhpcy5tb3ZlQ3Vyc29yVG8oZSx0LW8pfSx0aGlzLm1vdmVDdXJzb3JXb3JkUmlnaHQ9ZnVuY3Rpb24oKXt0aGlzLnNlc3Npb24uJHNlbGVjdExvbmdXb3Jkcz90aGlzLm1vdmVDdXJzb3JMb25nV29yZFJpZ2h0KCk6dGhpcy5tb3ZlQ3Vyc29yU2hvcnRXb3JkUmlnaHQoKX0sdGhpcy5tb3ZlQ3Vyc29yV29yZExlZnQ9ZnVuY3Rpb24oKXt0aGlzLnNlc3Npb24uJHNlbGVjdExvbmdXb3Jkcz90aGlzLm1vdmVDdXJzb3JMb25nV29yZExlZnQoKTp0aGlzLm1vdmVDdXJzb3JTaG9ydFdvcmRMZWZ0KCl9LHRoaXMubW92ZUN1cnNvckJ5PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLmxlYWQucm93LHRoaXMubGVhZC5jb2x1bW4pOzA9PT10JiYodGhpcy4kZGVzaXJlZENvbHVtbj9uLmNvbHVtbj10aGlzLiRkZXNpcmVkQ29sdW1uOnRoaXMuJGRlc2lyZWRDb2x1bW49bi5jb2x1bW4pO3ZhciByPXRoaXMuc2Vzc2lvbi5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24obi5yb3crZSxuLmNvbHVtbik7MCE9PWUmJjA9PT10JiZyLnJvdz09PXRoaXMubGVhZC5yb3cmJnIuY29sdW1uPT09dGhpcy5sZWFkLmNvbHVtbiYmdGhpcy5zZXNzaW9uLmxpbmVXaWRnZXRzJiZ0aGlzLnNlc3Npb24ubGluZVdpZGdldHNbci5yb3ddJiZyLnJvdysrLHRoaXMubW92ZUN1cnNvclRvKHIucm93LHIuY29sdW1uK3QsMD09PXQpfSx0aGlzLm1vdmVDdXJzb3JUb1Bvc2l0aW9uPWZ1bmN0aW9uKGUpe3RoaXMubW92ZUN1cnNvclRvKGUucm93LGUuY29sdW1uKX0sdGhpcy5tb3ZlQ3Vyc29yVG89ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuc2Vzc2lvbi5nZXRGb2xkQXQoZSx0LDEpO3ImJihlPXIuc3RhcnQucm93LHQ9ci5zdGFydC5jb2x1bW4pLHRoaXMuJGtlZXBEZXNpcmVkQ29sdW1uT25DaGFuZ2U9ITAsdGhpcy5sZWFkLnNldFBvc2l0aW9uKGUsdCksdGhpcy4ka2VlcERlc2lyZWRDb2x1bW5PbkNoYW5nZT0hMSxufHwodGhpcy4kZGVzaXJlZENvbHVtbj1udWxsKX0sdGhpcy5tb3ZlQ3Vyc29yVG9TY3JlZW49ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuc2Vzc2lvbi5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24oZSx0KTt0aGlzLm1vdmVDdXJzb3JUbyhyLnJvdyxyLmNvbHVtbixuKX0sdGhpcy5kZXRhY2g9ZnVuY3Rpb24oKXt0aGlzLmxlYWQuZGV0YWNoKCksdGhpcy5hbmNob3IuZGV0YWNoKCksdGhpcy5zZXNzaW9uPXRoaXMuZG9jPW51bGx9LHRoaXMuZnJvbU9yaWVudGVkUmFuZ2U9ZnVuY3Rpb24oZSl7dGhpcy5zZXRTZWxlY3Rpb25SYW5nZShlLGUuY3Vyc29yPT1lLnN0YXJ0KSx0aGlzLiRkZXNpcmVkQ29sdW1uPWUuZGVzaXJlZENvbHVtbnx8dGhpcy4kZGVzaXJlZENvbHVtbn0sdGhpcy50b09yaWVudGVkUmFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRSYW5nZSgpO3JldHVybiBlPyhlLnN0YXJ0LmNvbHVtbj10LnN0YXJ0LmNvbHVtbixlLnN0YXJ0LnJvdz10LnN0YXJ0LnJvdyxlLmVuZC5jb2x1bW49dC5lbmQuY29sdW1uLGUuZW5kLnJvdz10LmVuZC5yb3cpOmU9dCxlLmN1cnNvcj10aGlzLmlzQmFja3dhcmRzKCk/ZS5zdGFydDplLmVuZCxlLmRlc2lyZWRDb2x1bW49dGhpcy4kZGVzaXJlZENvbHVtbixlfSx0aGlzLnRvSlNPTj1mdW5jdGlvbigpe2lmKHRoaXMucmFuZ2VDb3VudCl2YXIgZT10aGlzLnJhbmdlcy5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jbG9uZSgpO3JldHVybiB0LmlzQmFja3dhcmRzPWUuY3Vyc29yPT1lLnN0YXJ0LHR9KTtlbHNle3ZhciBlPXRoaXMuZ2V0UmFuZ2UoKTtlLmlzQmFja3dhcmRzPXRoaXMuaXNCYWNrd2FyZHMoKX1yZXR1cm4gZX0sdGhpcy5mcm9tSlNPTj1mdW5jdGlvbihlKXtpZih2b2lkIDA9PWUuc3RhcnQpe2lmKHRoaXMucmFuZ2VMaXN0KXt0aGlzLnRvU2luZ2xlUmFuZ2UoZVswXSk7Zm9yKHZhciB0PWUubGVuZ3RoO3QtLTspe3ZhciBuPW8uZnJvbVBvaW50cyhlW3RdLnN0YXJ0LGVbdF0uZW5kKTtlLmlzQmFja3dhcmRzJiYobi5jdXJzb3I9bi5zdGFydCksdGhpcy5hZGRSYW5nZShuLCEwKX1yZXR1cm59ZT1lWzBdfXRoaXMucmFuZ2VMaXN0JiZ0aGlzLnRvU2luZ2xlUmFuZ2UoZSksdGhpcy5zZXRTZWxlY3Rpb25SYW5nZShlLGUuaXNCYWNrd2FyZHMpfSx0aGlzLmlzRXF1YWw9ZnVuY3Rpb24oZSl7aWYoKGUubGVuZ3RofHx0aGlzLnJhbmdlQ291bnQpJiZlLmxlbmd0aCE9dGhpcy5yYW5nZUNvdW50KXJldHVybiExO2lmKCFlLmxlbmd0aHx8IXRoaXMucmFuZ2VzKXJldHVybiB0aGlzLmdldFJhbmdlKCkuaXNFcXVhbChlKTtmb3IodmFyIHQ9dGhpcy5yYW5nZXMubGVuZ3RoO3QtLTspaWYoIXRoaXMucmFuZ2VzW3RdLmlzRXF1YWwoZVt0XSkpcmV0dXJuITE7cmV0dXJuITB9fSkuY2FsbCh1LnByb3RvdHlwZSksdC5TZWxlY3Rpb249dX0pLGRlZmluZSgiYWNlL3NlYXJjaCIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvbGFuZyIsImFjZS9saWIvb29wIiwiYWNlL3JhbmdlIl0sZnVuY3Rpb24oZSx0KXt2YXIgcj1lKCIuL2xpYi9sYW5nIiksaT1lKCIuL2xpYi9vb3AiKSxzPWUoIi4vcmFuZ2UiKS5SYW5nZSxvPWZ1bmN0aW9uKCl7dGhpcy4kb3B0aW9ucz17fX07KGZ1bmN0aW9uKCl7dGhpcy5zZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGkubWl4aW4odGhpcy4kb3B0aW9ucyxlKSx0aGlzfSx0aGlzLmdldE9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gci5jb3B5T2JqZWN0KHRoaXMuJG9wdGlvbnMpfSx0aGlzLnNldE9wdGlvbnM9ZnVuY3Rpb24oZSl7dGhpcy4kb3B0aW9ucz1lfSx0aGlzLmZpbmQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy4kbWF0Y2hJdGVyYXRvcihlLHRoaXMuJG9wdGlvbnMpO2lmKCF0KXJldHVybiExO3ZhciBuPW51bGw7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbihlLHQscil7aWYoZS5zdGFydCluPWU7ZWxzZXt2YXIgaT1lLm9mZnNldCsocnx8MCk7bj1uZXcgcyh0LGksdCxpK2UubGVuZ3RoKX1yZXR1cm4hMH0pLG59LHRoaXMuZmluZEFsbD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLiRvcHRpb25zO2lmKCF0Lm5lZWRsZSlyZXR1cm5bXTt0aGlzLiRhc3NlbWJsZVJlZ0V4cCh0KTt2YXIgbj10LnJhbmdlLGk9bj9lLmdldExpbmVzKG4uc3RhcnQucm93LG4uZW5kLnJvdyk6ZS5kb2MuZ2V0QWxsTGluZXMoKSxvPVtdLHU9dC5yZTtpZih0LiRpc011bHRpTGluZSl7dmFyIGwsYT11Lmxlbmd0aCxmPWkubGVuZ3RoLWE7ZTpmb3IodmFyIGM9dS5vZmZzZXR8fDA7Zj49YztjKyspe2Zvcih2YXIgaD0wO2E+aDtoKyspaWYoLTE9PWlbYytoXS5zZWFyY2godVtoXSkpY29udGludWUgZTt2YXIgcD1pW2NdLGQ9aVtjK2EtMV0sdj1wLmxlbmd0aC1wLm1hdGNoKHVbMF0pWzBdLmxlbmd0aCxtPWQubWF0Y2godVthLTFdKVswXS5sZW5ndGg7bCYmbC5lbmQucm93PT09YyYmbC5lbmQuY29sdW1uPnZ8fChvLnB1c2gobD1uZXcgcyhjLHYsYythLTEsbSkpLGE+MiYmKGM9YythLTIpKX19ZWxzZSBmb3IodmFyIGc9MDtnPGkubGVuZ3RoO2crKylmb3IodmFyIHk9ci5nZXRNYXRjaE9mZnNldHMoaVtnXSx1KSxoPTA7aDx5Lmxlbmd0aDtoKyspe3ZhciBiPXlbaF07by5wdXNoKG5ldyBzKGcsYi5vZmZzZXQsZyxiLm9mZnNldCtiLmxlbmd0aCkpfWlmKG4pe2Zvcih2YXIgdz1uLnN0YXJ0LmNvbHVtbixFPW4uc3RhcnQuY29sdW1uLGc9MCxoPW8ubGVuZ3RoLTE7aD5nJiZvW2ddLnN0YXJ0LmNvbHVtbjx3JiZvW2ddLnN0YXJ0LnJvdz09bi5zdGFydC5yb3c7KWcrKztmb3IoO2g+ZyYmb1toXS5lbmQuY29sdW1uPkUmJm9baF0uZW5kLnJvdz09bi5lbmQucm93OyloLS07Zm9yKG89by5zbGljZShnLGgrMSksZz0wLGg9by5sZW5ndGg7aD5nO2crKylvW2ddLnN0YXJ0LnJvdys9bi5zdGFydC5yb3csb1tnXS5lbmQucm93Kz1uLnN0YXJ0LnJvd31yZXR1cm4gb30sdGhpcy5yZXBsYWNlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy4kb3B0aW9ucyxyPXRoaXMuJGFzc2VtYmxlUmVnRXhwKG4pO2lmKG4uJGlzTXVsdGlMaW5lKXJldHVybiB0O2lmKHIpe3ZhciBpPXIuZXhlYyhlKTtpZighaXx8aVswXS5sZW5ndGghPWUubGVuZ3RoKXJldHVybiBudWxsO2lmKHQ9ZS5yZXBsYWNlKHIsdCksbi5wcmVzZXJ2ZUNhc2Upe3Q9dC5zcGxpdCgiIik7Zm9yKHZhciBzPU1hdGgubWluKGUubGVuZ3RoLGUubGVuZ3RoKTtzLS07KXt2YXIgbz1lW3NdO3Rbc109byYmby50b0xvd2VyQ2FzZSgpIT1vP3Rbc10udG9VcHBlckNhc2UoKTp0W3NdLnRvTG93ZXJDYXNlKCl9dD10LmpvaW4oIiIpfXJldHVybiB0fX0sdGhpcy4kbWF0Y2hJdGVyYXRvcj1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuJGFzc2VtYmxlUmVnRXhwKHQpO2lmKCFuKXJldHVybiExO3ZhciBvLGk9dGhpcyx1PXQuYmFja3dhcmRzO2lmKHQuJGlzTXVsdGlMaW5lKXZhciBhPW4ubGVuZ3RoLGY9ZnVuY3Rpb24odCxyLGkpe3ZhciB1PXQuc2VhcmNoKG5bMF0pO2lmKC0xIT11KXtmb3IodmFyIGY9MTthPmY7ZisrKWlmKHQ9ZS5nZXRMaW5lKHIrZiksLTE9PXQuc2VhcmNoKG5bZl0pKXJldHVybjt2YXIgbD10Lm1hdGNoKG5bYS0xXSlbMF0ubGVuZ3RoLGM9bmV3IHMocix1LHIrYS0xLGwpO3JldHVybiAxPT1uLm9mZnNldD8oYy5zdGFydC5yb3ctLSxjLnN0YXJ0LmNvbHVtbj1OdW1iZXIuTUFYX1ZBTFVFKTppJiYoYy5zdGFydC5jb2x1bW4rPWkpLG8oYyk/ITA6dm9pZCAwfX07ZWxzZSBpZih1KXZhciBmPWZ1bmN0aW9uKGUsdCxpKXtmb3IodmFyIHM9ci5nZXRNYXRjaE9mZnNldHMoZSxuKSx1PXMubGVuZ3RoLTE7dT49MDt1LS0paWYobyhzW3VdLHQsaSkpcmV0dXJuITB9O2Vsc2UgdmFyIGY9ZnVuY3Rpb24oZSx0LGkpe2Zvcih2YXIgcz1yLmdldE1hdGNoT2Zmc2V0cyhlLG4pLHU9MDt1PHMubGVuZ3RoO3UrKylpZihvKHNbdV0sdCxpKSlyZXR1cm4hMH07cmV0dXJue2ZvckVhY2g6ZnVuY3Rpb24obil7bz1uLGkuJGxpbmVJdGVyYXRvcihlLHQpLmZvckVhY2goZil9fX0sdGhpcy4kYXNzZW1ibGVSZWdFeHA9ZnVuY3Rpb24oZSx0KXtpZihlLm5lZWRsZSBpbnN0YW5jZW9mIFJlZ0V4cClyZXR1cm4gZS5yZT1lLm5lZWRsZTt2YXIgbj1lLm5lZWRsZTtpZighZS5uZWVkbGUpcmV0dXJuIGUucmU9ITE7ZS5yZWdFeHB8fChuPXIuZXNjYXBlUmVnRXhwKG4pKSxlLndob2xlV29yZCYmKG49IlxcYiIrbisiXFxiIik7dmFyIGk9ZS5jYXNlU2Vuc2l0aXZlPyJnIjoiZ2kiO2lmKGUuJGlzTXVsdGlMaW5lPSF0JiYvW1xuXHJdLy50ZXN0KG4pLGUuJGlzTXVsdGlMaW5lKXJldHVybiBlLnJlPXRoaXMuJGFzc2VtYmxlTXVsdGlsaW5lUmVnRXhwKG4saSk7dHJ5e3ZhciBzPW5ldyBSZWdFeHAobixpKX1jYXRjaChvKXtzPSExfXJldHVybiBlLnJlPXN9LHRoaXMuJGFzc2VtYmxlTXVsdGlsaW5lUmVnRXhwPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWUucmVwbGFjZSgvXHJcbnxccnxcbi9nLCIkXG5eIikuc3BsaXQoIlxuIikscj1bXSxpPTA7aTxuLmxlbmd0aDtpKyspdHJ5e3IucHVzaChuZXcgUmVnRXhwKG5baV0sdCkpfWNhdGNoKHMpe3JldHVybiExfXJldHVybiIiPT1uWzBdPyhyLnNoaWZ0KCksci5vZmZzZXQ9MSk6ci5vZmZzZXQ9MCxyfSx0aGlzLiRsaW5lSXRlcmF0b3I9ZnVuY3Rpb24oZSx0KXt2YXIgbj0xPT10LmJhY2t3YXJkcyxyPTAhPXQuc2tpcEN1cnJlbnQsaT10LnJhbmdlLHM9dC5zdGFydDtzfHwocz1pP2lbbj8iZW5kIjoic3RhcnQiXTplLnNlbGVjdGlvbi5nZXRSYW5nZSgpKSxzLnN0YXJ0JiYocz1zW3IhPW4/ImVuZCI6InN0YXJ0Il0pO3ZhciBvPWk/aS5zdGFydC5yb3c6MCx1PWk/aS5lbmQucm93OmUuZ2V0TGVuZ3RoKCktMSxhPW4/ZnVuY3Rpb24obil7dmFyIHI9cy5yb3csaT1lLmdldExpbmUocikuc3Vic3RyaW5nKDAscy5jb2x1bW4pO2lmKCFuKGkscikpe2ZvcihyLS07cj49bztyLS0paWYobihlLmdldExpbmUocikscikpcmV0dXJuO2lmKDAhPXQud3JhcClmb3Iocj11LG89cy5yb3c7cj49bztyLS0paWYobihlLmdldExpbmUocikscikpcmV0dXJufX06ZnVuY3Rpb24obil7dmFyIHI9cy5yb3csaT1lLmdldExpbmUocikuc3Vic3RyKHMuY29sdW1uKTtpZighbihpLHIscy5jb2x1bW4pKXtmb3Iocis9MTt1Pj1yO3IrKylpZihuKGUuZ2V0TGluZShyKSxyKSlyZXR1cm47aWYoMCE9dC53cmFwKWZvcihyPW8sdT1zLnJvdzt1Pj1yO3IrKylpZihuKGUuZ2V0TGluZShyKSxyKSlyZXR1cm59fTtyZXR1cm57Zm9yRWFjaDphfX19KS5jYWxsKG8ucHJvdG90eXBlKSx0LlNlYXJjaD1vfSksZGVmaW5lKCJhY2UvZWRpdF9zZXNzaW9uIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9vb3AiLCJhY2UvbGliL2xhbmciLCJhY2UvY29uZmlnIiwiYWNlL2xpYi9ldmVudF9lbWl0dGVyIiwiYWNlL3NlbGVjdGlvbiIsImFjZS9tb2RlL3RleHQiLCJhY2UvcmFuZ2UiLCJhY2UvZG9jdW1lbnQiLCJhY2UvYmFja2dyb3VuZF90b2tlbml6ZXIiLCJhY2Uvc2VhcmNoX2hpZ2hsaWdodCIsImFjZS9lZGl0X3Nlc3Npb24vZm9sZGluZyIsImFjZS9lZGl0X3Nlc3Npb24vYnJhY2tldF9tYXRjaCJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSgiLi9saWIvb29wIiksaT1lKCIuL2xpYi9sYW5nIikscz1lKCIuL2NvbmZpZyIpLG89ZSgiLi9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcix1PWUoIi4vc2VsZWN0aW9uIikuU2VsZWN0aW9uLGE9ZSgiLi9tb2RlL3RleHQiKS5Nb2RlLGY9ZSgiLi9yYW5nZSIpLlJhbmdlLGw9ZSgiLi9kb2N1bWVudCIpLkRvY3VtZW50LGM9ZSgiLi9iYWNrZ3JvdW5kX3Rva2VuaXplciIpLkJhY2tncm91bmRUb2tlbml6ZXIsaD1lKCIuL3NlYXJjaF9oaWdobGlnaHQiKS5TZWFyY2hIaWdobGlnaHQscD1mdW5jdGlvbihlLHQpe3RoaXMuJGJyZWFrcG9pbnRzPVtdLHRoaXMuJGRlY29yYXRpb25zPVtdLHRoaXMuJGZyb250TWFya2Vycz17fSx0aGlzLiRiYWNrTWFya2Vycz17fSx0aGlzLiRtYXJrZXJJZD0xLHRoaXMuJHVuZG9TZWxlY3Q9ITAsdGhpcy4kZm9sZERhdGE9W10sdGhpcy4kZm9sZERhdGEudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qb2luKCJcbiIpfSx0aGlzLm9uKCJjaGFuZ2VGb2xkIix0aGlzLm9uQ2hhbmdlRm9sZC5iaW5kKHRoaXMpKSx0aGlzLiRvbkNoYW5nZT10aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyksIm9iamVjdCI9PXR5cGVvZiBlJiZlLmdldExpbmV8fChlPW5ldyBsKGUpKSx0aGlzLnNldERvY3VtZW50KGUpLHRoaXMuc2VsZWN0aW9uPW5ldyB1KHRoaXMpLHMucmVzZXRPcHRpb25zKHRoaXMpLHRoaXMuc2V0TW9kZSh0KSxzLl9zaWduYWwoInNlc3Npb24iLHRoaXMpfTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBnKGUpe3JldHVybiA0MzUyPmU/ITE6ZT49NDM1MiYmNDQ0Nz49ZXx8ZT49NDUxNSYmNDUxOT49ZXx8ZT49NDYwMiYmNDYwNz49ZXx8ZT49OTAwMSYmOTAwMj49ZXx8ZT49MTE5MDQmJjExOTI5Pj1lfHxlPj0xMTkzMSYmMTIwMTk+PWV8fGU+PTEyMDMyJiYxMjI0NT49ZXx8ZT49MTIyNzImJjEyMjgzPj1lfHxlPj0xMjI4OCYmMTIzNTA+PWV8fGU+PTEyMzUzJiYxMjQzOD49ZXx8ZT49MTI0NDEmJjEyNTQzPj1lfHxlPj0xMjU0OSYmMTI1ODk+PWV8fGU+PTEyNTkzJiYxMjY4Nj49ZXx8ZT49MTI2ODgmJjEyNzMwPj1lfHxlPj0xMjczNiYmMTI3NzE+PWV8fGU+PTEyNzg0JiYxMjgzMD49ZXx8ZT49MTI4MzImJjEyODcxPj1lfHxlPj0xMjg4MCYmMTMwNTQ+PWV8fGU+PTEzMDU2JiYxOTkwMz49ZXx8ZT49MTk5NjgmJjQyMTI0Pj1lfHxlPj00MjEyOCYmNDIxODI+PWV8fGU+PTQzMzYwJiY0MzM4OD49ZXx8ZT49NDQwMzImJjU1MjAzPj1lfHxlPj01NTIxNiYmNTUyMzg+PWV8fGU+PTU1MjQzJiY1NTI5MT49ZXx8ZT49NjM3NDQmJjY0MjU1Pj1lfHxlPj02NTA0MCYmNjUwNDk+PWV8fGU+PTY1MDcyJiY2NTEwNj49ZXx8ZT49NjUxMDgmJjY1MTI2Pj1lfHxlPj02NTEyOCYmNjUxMzE+PWV8fGU+PTY1MjgxJiY2NTM3Nj49ZXx8ZT49NjU1MDQmJjY1NTEwPj1lfXIuaW1wbGVtZW50KHRoaXMsbyksdGhpcy5zZXREb2N1bWVudD1mdW5jdGlvbihlKXt0aGlzLmRvYyYmdGhpcy5kb2MucmVtb3ZlTGlzdGVuZXIoImNoYW5nZSIsdGhpcy4kb25DaGFuZ2UpLHRoaXMuZG9jPWUsZS5vbigiY2hhbmdlIix0aGlzLiRvbkNoYW5nZSksdGhpcy5iZ1Rva2VuaXplciYmdGhpcy5iZ1Rva2VuaXplci5zZXREb2N1bWVudCh0aGlzLmdldERvY3VtZW50KCkpLHRoaXMucmVzZXRDYWNoZXMoKX0sdGhpcy5nZXREb2N1bWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRvY30sdGhpcy4kcmVzZXRSb3dDYWNoZT1mdW5jdGlvbihlKXtpZighZSlyZXR1cm4gdGhpcy4kZG9jUm93Q2FjaGU9W10sdm9pZCh0aGlzLiRzY3JlZW5Sb3dDYWNoZT1bXSk7dmFyIHQ9dGhpcy4kZG9jUm93Q2FjaGUubGVuZ3RoLG49dGhpcy4kZ2V0Um93Q2FjaGVJbmRleCh0aGlzLiRkb2NSb3dDYWNoZSxlKSsxO3Q+biYmKHRoaXMuJGRvY1Jvd0NhY2hlLnNwbGljZShuLHQpLHRoaXMuJHNjcmVlblJvd0NhY2hlLnNwbGljZShuLHQpKX0sdGhpcy4kZ2V0Um93Q2FjaGVJbmRleD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGgtMTtyPj1uOyl7dmFyIGk9bityPj4xLHM9ZVtpXTtpZih0PnMpbj1pKzE7ZWxzZXtpZighKHM+dCkpcmV0dXJuIGk7cj1pLTF9fXJldHVybiBuLTF9LHRoaXMucmVzZXRDYWNoZXM9ZnVuY3Rpb24oKXt0aGlzLiRtb2RpZmllZD0hMCx0aGlzLiR3cmFwRGF0YT1bXSx0aGlzLiRyb3dMZW5ndGhDYWNoZT1bXSx0aGlzLiRyZXNldFJvd0NhY2hlKDApLHRoaXMuYmdUb2tlbml6ZXImJnRoaXMuYmdUb2tlbml6ZXIuc3RhcnQoMCl9LHRoaXMub25DaGFuZ2VGb2xkPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZGF0YTt0aGlzLiRyZXNldFJvd0NhY2hlKHQuc3RhcnQucm93KX0sdGhpcy5vbkNoYW5nZT1mdW5jdGlvbihlKXt2YXIgdD1lLmRhdGE7dGhpcy4kbW9kaWZpZWQ9ITAsdGhpcy4kcmVzZXRSb3dDYWNoZSh0LnJhbmdlLnN0YXJ0LnJvdyk7dmFyIG49dGhpcy4kdXBkYXRlSW50ZXJuYWxEYXRhT25DaGFuZ2UoZSk7IXRoaXMuJGZyb21VbmRvJiZ0aGlzLiR1bmRvTWFuYWdlciYmIXQuaWdub3JlJiYodGhpcy4kZGVsdGFzRG9jLnB1c2godCksbiYmMCE9bi5sZW5ndGgmJnRoaXMuJGRlbHRhc0ZvbGQucHVzaCh7YWN0aW9uOiJyZW1vdmVGb2xkcyIsZm9sZHM6bn0pLHRoaXMuJGluZm9ybVVuZG9NYW5hZ2VyLnNjaGVkdWxlKCkpLHRoaXMuYmdUb2tlbml6ZXIuJHVwZGF0ZU9uQ2hhbmdlKHQpLHRoaXMuX3NpZ25hbCgiY2hhbmdlIixlKX0sdGhpcy5zZXRWYWx1ZT1mdW5jdGlvbihlKXt0aGlzLmRvYy5zZXRWYWx1ZShlKSx0aGlzLnNlbGVjdGlvbi5tb3ZlVG8oMCwwKSx0aGlzLiRyZXNldFJvd0NhY2hlKDApLHRoaXMuJGRlbHRhcz1bXSx0aGlzLiRkZWx0YXNEb2M9W10sdGhpcy4kZGVsdGFzRm9sZD1bXSx0aGlzLnNldFVuZG9NYW5hZ2VyKHRoaXMuJHVuZG9NYW5hZ2VyKSx0aGlzLmdldFVuZG9NYW5hZ2VyKCkucmVzZXQoKX0sdGhpcy5nZXRWYWx1ZT10aGlzLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jLmdldFZhbHVlKCl9LHRoaXMuZ2V0U2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9ufSx0aGlzLmdldFN0YXRlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmJnVG9rZW5pemVyLmdldFN0YXRlKGUpfSx0aGlzLmdldFRva2Vucz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5iZ1Rva2VuaXplci5nZXRUb2tlbnMoZSl9LHRoaXMuZ2V0VG9rZW5BdD1mdW5jdGlvbihlLHQpe3ZhciByLG49dGhpcy5iZ1Rva2VuaXplci5nZXRUb2tlbnMoZSksaT0wO2lmKG51bGw9PXQpcz1uLmxlbmd0aC0xLGk9dGhpcy5nZXRMaW5lKGUpLmxlbmd0aDtlbHNlIGZvcih2YXIgcz0wO3M8bi5sZW5ndGgmJihpKz1uW3NdLnZhbHVlLmxlbmd0aCwhKGk+PXQpKTtzKyspO3JldHVybiByPW5bc10scj8oci5pbmRleD1zLHIuc3RhcnQ9aS1yLnZhbHVlLmxlbmd0aCxyKTpudWxsfSx0aGlzLnNldFVuZG9NYW5hZ2VyPWZ1bmN0aW9uKGUpe2lmKHRoaXMuJHVuZG9NYW5hZ2VyPWUsdGhpcy4kZGVsdGFzPVtdLHRoaXMuJGRlbHRhc0RvYz1bXSx0aGlzLiRkZWx0YXNGb2xkPVtdLHRoaXMuJGluZm9ybVVuZG9NYW5hZ2VyJiZ0aGlzLiRpbmZvcm1VbmRvTWFuYWdlci5jYW5jZWwoKSxlKXt2YXIgdD10aGlzO3RoaXMuJHN5bmNJbmZvcm1VbmRvTWFuYWdlcj1mdW5jdGlvbigpe3QuJGluZm9ybVVuZG9NYW5hZ2VyLmNhbmNlbCgpLHQuJGRlbHRhc0ZvbGQubGVuZ3RoJiYodC4kZGVsdGFzLnB1c2goe2dyb3VwOiJmb2xkIixkZWx0YXM6dC4kZGVsdGFzRm9sZH0pLHQuJGRlbHRhc0ZvbGQ9W10pLHQuJGRlbHRhc0RvYy5sZW5ndGgmJih0LiRkZWx0YXMucHVzaCh7Z3JvdXA6ImRvYyIsZGVsdGFzOnQuJGRlbHRhc0RvY30pLHQuJGRlbHRhc0RvYz1bXSksdC4kZGVsdGFzLmxlbmd0aD4wJiZlLmV4ZWN1dGUoe2FjdGlvbjoiYWNldXBkYXRlIixhcmdzOlt0LiRkZWx0YXMsdF0sbWVyZ2U6dC5tZXJnZVVuZG9EZWx0YXN9KSx0Lm1lcmdlVW5kb0RlbHRhcz0hMSx0LiRkZWx0YXM9W119LHRoaXMuJGluZm9ybVVuZG9NYW5hZ2VyPWkuZGVsYXllZENhbGwodGhpcy4kc3luY0luZm9ybVVuZG9NYW5hZ2VyKX19LHRoaXMubWFya1VuZG9Hcm91cD1mdW5jdGlvbigpe3RoaXMuJHN5bmNJbmZvcm1VbmRvTWFuYWdlciYmdGhpcy4kc3luY0luZm9ybVVuZG9NYW5hZ2VyKCl9LHRoaXMuJGRlZmF1bHRVbmRvTWFuYWdlcj17dW5kbzpmdW5jdGlvbigpe30scmVkbzpmdW5jdGlvbigpe30scmVzZXQ6ZnVuY3Rpb24oKXt9fSx0aGlzLmdldFVuZG9NYW5hZ2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHVuZG9NYW5hZ2VyfHx0aGlzLiRkZWZhdWx0VW5kb01hbmFnZXJ9LHRoaXMuZ2V0VGFiU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VXNlU29mdFRhYnMoKT9pLnN0cmluZ1JlcGVhdCgiICIsdGhpcy5nZXRUYWJTaXplKCkpOiIJIn0sdGhpcy5zZXRVc2VTb2Z0VGFicz1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbigidXNlU29mdFRhYnMiLGUpfSx0aGlzLmdldFVzZVNvZnRUYWJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHVzZVNvZnRUYWJzJiYhdGhpcy4kbW9kZS4kaW5kZW50V2l0aFRhYnN9LHRoaXMuc2V0VGFiU2l6ZT1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbigidGFiU2l6ZSIsZSl9LHRoaXMuZ2V0VGFiU2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLiR0YWJTaXplfSx0aGlzLmlzVGFiU3RvcD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy4kdXNlU29mdFRhYnMmJmUuY29sdW1uJXRoaXMuJHRhYlNpemU9PT0wfSx0aGlzLiRvdmVyd3JpdGU9ITEsdGhpcy5zZXRPdmVyd3JpdGU9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oIm92ZXJ3cml0ZSIsZSl9LHRoaXMuZ2V0T3ZlcndyaXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJG92ZXJ3cml0ZX0sdGhpcy50b2dnbGVPdmVyd3JpdGU9ZnVuY3Rpb24oKXt0aGlzLnNldE92ZXJ3cml0ZSghdGhpcy4kb3ZlcndyaXRlKX0sdGhpcy5hZGRHdXR0ZXJEZWNvcmF0aW9uPWZ1bmN0aW9uKGUsdCl7dGhpcy4kZGVjb3JhdGlvbnNbZV18fCh0aGlzLiRkZWNvcmF0aW9uc1tlXT0iIiksdGhpcy4kZGVjb3JhdGlvbnNbZV0rPSIgIit0LHRoaXMuX3NpZ25hbCgiY2hhbmdlQnJlYWtwb2ludCIse30pfSx0aGlzLnJlbW92ZUd1dHRlckRlY29yYXRpb249ZnVuY3Rpb24oZSx0KXt0aGlzLiRkZWNvcmF0aW9uc1tlXT0odGhpcy4kZGVjb3JhdGlvbnNbZV18fCIiKS5yZXBsYWNlKCIgIit0LCIiKSx0aGlzLl9zaWduYWwoImNoYW5nZUJyZWFrcG9pbnQiLHt9KX0sdGhpcy5nZXRCcmVha3BvaW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRicmVha3BvaW50c30sdGhpcy5zZXRCcmVha3BvaW50cz1mdW5jdGlvbihlKXt0aGlzLiRicmVha3BvaW50cz1bXTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl0aGlzLiRicmVha3BvaW50c1tlW3RdXT0iYWNlX2JyZWFrcG9pbnQiO3RoaXMuX3NpZ25hbCgiY2hhbmdlQnJlYWtwb2ludCIse30pfSx0aGlzLmNsZWFyQnJlYWtwb2ludHM9ZnVuY3Rpb24oKXt0aGlzLiRicmVha3BvaW50cz1bXSx0aGlzLl9zaWduYWwoImNoYW5nZUJyZWFrcG9pbnQiLHt9KX0sdGhpcy5zZXRCcmVha3BvaW50PWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dCYmKHQ9ImFjZV9icmVha3BvaW50IiksdD90aGlzLiRicmVha3BvaW50c1tlXT10OmRlbGV0ZSB0aGlzLiRicmVha3BvaW50c1tlXSx0aGlzLl9zaWduYWwoImNoYW5nZUJyZWFrcG9pbnQiLHt9KX0sdGhpcy5jbGVhckJyZWFrcG9pbnQ9ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuJGJyZWFrcG9pbnRzW2VdLHRoaXMuX3NpZ25hbCgiY2hhbmdlQnJlYWtwb2ludCIse30pfSx0aGlzLmFkZE1hcmtlcj1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT10aGlzLiRtYXJrZXJJZCsrLHM9e3JhbmdlOmUsdHlwZTpufHwibGluZSIscmVuZGVyZXI6ImZ1bmN0aW9uIj09dHlwZW9mIG4/bjpudWxsLGNsYXp6OnQsaW5Gcm9udDohIXIsaWQ6aX07cmV0dXJuIHI/KHRoaXMuJGZyb250TWFya2Vyc1tpXT1zLHRoaXMuX3NpZ25hbCgiY2hhbmdlRnJvbnRNYXJrZXIiKSk6KHRoaXMuJGJhY2tNYXJrZXJzW2ldPXMsdGhpcy5fc2lnbmFsKCJjaGFuZ2VCYWNrTWFya2VyIikpLGl9LHRoaXMuYWRkRHluYW1pY01hcmtlcj1mdW5jdGlvbihlLHQpe2lmKGUudXBkYXRlKXt2YXIgbj10aGlzLiRtYXJrZXJJZCsrO3JldHVybiBlLmlkPW4sZS5pbkZyb250PSEhdCx0Pyh0aGlzLiRmcm9udE1hcmtlcnNbbl09ZSx0aGlzLl9zaWduYWwoImNoYW5nZUZyb250TWFya2VyIikpOih0aGlzLiRiYWNrTWFya2Vyc1tuXT1lLHRoaXMuX3NpZ25hbCgiY2hhbmdlQmFja01hcmtlciIpKSxlfX0sdGhpcy5yZW1vdmVNYXJrZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy4kZnJvbnRNYXJrZXJzW2VdfHx0aGlzLiRiYWNrTWFya2Vyc1tlXTtpZih0KXt2YXIgbj10LmluRnJvbnQ/dGhpcy4kZnJvbnRNYXJrZXJzOnRoaXMuJGJhY2tNYXJrZXJzO3QmJihkZWxldGUgbltlXSx0aGlzLl9zaWduYWwodC5pbkZyb250PyJjaGFuZ2VGcm9udE1hcmtlciI6ImNoYW5nZUJhY2tNYXJrZXIiKSl9fSx0aGlzLmdldE1hcmtlcnM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/dGhpcy4kZnJvbnRNYXJrZXJzOnRoaXMuJGJhY2tNYXJrZXJzfSx0aGlzLmhpZ2hsaWdodD1mdW5jdGlvbihlKXtpZighdGhpcy4kc2VhcmNoSGlnaGxpZ2h0KXt2YXIgdD1uZXcgaChudWxsLCJhY2Vfc2VsZWN0ZWQtd29yZCIsInRleHQiKTt0aGlzLiRzZWFyY2hIaWdobGlnaHQ9dGhpcy5hZGREeW5hbWljTWFya2VyKHQpfXRoaXMuJHNlYXJjaEhpZ2hsaWdodC5zZXRSZWdleHAoZSl9LHRoaXMuaGlnaGxpZ2h0TGluZXM9ZnVuY3Rpb24oZSx0LG4scil7Im51bWJlciIhPXR5cGVvZiB0JiYobj10LHQ9ZSksbnx8KG49ImFjZV9zdGVwIik7dmFyIGk9bmV3IGYoZSwwLHQsMS8wKTtyZXR1cm4gaS5pZD10aGlzLmFkZE1hcmtlcihpLG4sImZ1bGxMaW5lIixyKSxpfSx0aGlzLnNldEFubm90YXRpb25zPWZ1bmN0aW9uKGUpe3RoaXMuJGFubm90YXRpb25zPWUsdGhpcy5fc2lnbmFsKCJjaGFuZ2VBbm5vdGF0aW9uIix7fSl9LHRoaXMuZ2V0QW5ub3RhdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kYW5ub3RhdGlvbnN8fFtdfSx0aGlzLmNsZWFyQW5ub3RhdGlvbnM9ZnVuY3Rpb24oKXt0aGlzLnNldEFubm90YXRpb25zKFtdKX0sdGhpcy4kZGV0ZWN0TmV3TGluZT1mdW5jdGlvbihlKXt2YXIgdD1lLm1hdGNoKC9eLio/KFxyP1xuKS9tKTt0aGlzLiRhdXRvTmV3TGluZT10P3RbMV06IlxuIn0sdGhpcy5nZXRXb3JkUmFuZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmdldExpbmUoZSkscj0hMTtpZih0PjAmJihyPSEhbi5jaGFyQXQodC0xKS5tYXRjaCh0aGlzLnRva2VuUmUpKSxyfHwocj0hIW4uY2hhckF0KHQpLm1hdGNoKHRoaXMudG9rZW5SZSkpLHIpdmFyIGk9dGhpcy50b2tlblJlO2Vsc2UgaWYoL15ccyskLy50ZXN0KG4uc2xpY2UodC0xLHQrMSkpKXZhciBpPS9ccy87ZWxzZSB2YXIgaT10aGlzLm5vblRva2VuUmU7dmFyIHM9dDtpZihzPjApe2RvIHMtLTt3aGlsZShzPj0wJiZuLmNoYXJBdChzKS5tYXRjaChpKSk7cysrfWZvcih2YXIgbz10O288bi5sZW5ndGgmJm4uY2hhckF0KG8pLm1hdGNoKGkpOylvKys7CnJldHVybiBuZXcgZihlLHMsZSxvKX0sdGhpcy5nZXRBV29yZFJhbmdlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMuZ2V0V29yZFJhbmdlKGUsdCkscj10aGlzLmdldExpbmUobi5lbmQucm93KTtyLmNoYXJBdChuLmVuZC5jb2x1bW4pLm1hdGNoKC9bIFx0XS8pOyluLmVuZC5jb2x1bW4rPTE7cmV0dXJuIG59LHRoaXMuc2V0TmV3TGluZU1vZGU9ZnVuY3Rpb24oZSl7dGhpcy5kb2Muc2V0TmV3TGluZU1vZGUoZSl9LHRoaXMuZ2V0TmV3TGluZU1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb2MuZ2V0TmV3TGluZU1vZGUoKX0sdGhpcy5zZXRVc2VXb3JrZXI9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oInVzZVdvcmtlciIsZSl9LHRoaXMuZ2V0VXNlV29ya2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHVzZVdvcmtlcn0sdGhpcy5vblJlbG9hZFRva2VuaXplcj1mdW5jdGlvbihlKXt2YXIgdD1lLmRhdGE7dGhpcy5iZ1Rva2VuaXplci5zdGFydCh0LmZpcnN0KSx0aGlzLl9zaWduYWwoInRva2VuaXplclVwZGF0ZSIsZSl9LHRoaXMuJG1vZGVzPXt9LHRoaXMuJG1vZGU9bnVsbCx0aGlzLiRtb2RlSWQ9bnVsbCx0aGlzLnNldE1vZGU9ZnVuY3Rpb24oZSx0KXtpZihlJiYib2JqZWN0Ij09dHlwZW9mIGUpe2lmKGUuZ2V0VG9rZW5pemVyKXJldHVybiB0aGlzLiRvbkNoYW5nZU1vZGUoZSk7dmFyIG49ZSxyPW4ucGF0aH1lbHNlIHI9ZXx8ImFjZS9tb2RlL3RleHQiO3JldHVybiB0aGlzLiRtb2Rlc1siYWNlL21vZGUvdGV4dCJdfHwodGhpcy4kbW9kZXNbImFjZS9tb2RlL3RleHQiXT1uZXcgYSksdGhpcy4kbW9kZXNbcl0mJiFuPyh0aGlzLiRvbkNoYW5nZU1vZGUodGhpcy4kbW9kZXNbcl0pLHZvaWQodCYmdCgpKSk6KHRoaXMuJG1vZGVJZD1yLHMubG9hZE1vZHVsZShbIm1vZGUiLHJdLGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLiRtb2RlSWQhPT1yP3QmJnQoKTp0aGlzLiRtb2Rlc1tyXSYmIW4/dGhpcy4kb25DaGFuZ2VNb2RlKHRoaXMuJG1vZGVzW3JdKTp2b2lkKGUmJmUuTW9kZSYmKGU9bmV3IGUuTW9kZShuKSxufHwodGhpcy4kbW9kZXNbcl09ZSxlLiRpZD1yKSx0aGlzLiRvbkNoYW5nZU1vZGUoZSksdCYmdCgpKSl9LmJpbmQodGhpcykpLHRoaXMuJG1vZGV8fHRoaXMuJG9uQ2hhbmdlTW9kZSh0aGlzLiRtb2Rlc1siYWNlL21vZGUvdGV4dCJdLCEwKSx2b2lkIDApfSx0aGlzLiRvbkNoYW5nZU1vZGU9ZnVuY3Rpb24oZSx0KXtpZih0fHwodGhpcy4kbW9kZUlkPWUuJGlkKSx0aGlzLiRtb2RlIT09ZSl7dGhpcy4kbW9kZT1lLHRoaXMuJHN0b3BXb3JrZXIoKSx0aGlzLiR1c2VXb3JrZXImJnRoaXMuJHN0YXJ0V29ya2VyKCk7dmFyIG49ZS5nZXRUb2tlbml6ZXIoKTtpZih2b2lkIDAhPT1uLmFkZEV2ZW50TGlzdGVuZXIpe3ZhciByPXRoaXMub25SZWxvYWRUb2tlbml6ZXIuYmluZCh0aGlzKTtuLmFkZEV2ZW50TGlzdGVuZXIoInVwZGF0ZSIscil9aWYodGhpcy5iZ1Rva2VuaXplcil0aGlzLmJnVG9rZW5pemVyLnNldFRva2VuaXplcihuKTtlbHNle3RoaXMuYmdUb2tlbml6ZXI9bmV3IGMobik7dmFyIGk9dGhpczt0aGlzLmJnVG9rZW5pemVyLmFkZEV2ZW50TGlzdGVuZXIoInVwZGF0ZSIsZnVuY3Rpb24oZSl7aS5fc2lnbmFsKCJ0b2tlbml6ZXJVcGRhdGUiLGUpfSl9dGhpcy5iZ1Rva2VuaXplci5zZXREb2N1bWVudCh0aGlzLmdldERvY3VtZW50KCkpLHRoaXMudG9rZW5SZT1lLnRva2VuUmUsdGhpcy5ub25Ub2tlblJlPWUubm9uVG9rZW5SZSx0fHwodGhpcy4kb3B0aW9ucy53cmFwTWV0aG9kLnNldC5jYWxsKHRoaXMsdGhpcy4kd3JhcE1ldGhvZCksdGhpcy4kc2V0Rm9sZGluZyhlLmZvbGRpbmdSdWxlcyksdGhpcy5iZ1Rva2VuaXplci5zdGFydCgwKSx0aGlzLl9lbWl0KCJjaGFuZ2VNb2RlIikpfX0sdGhpcy4kc3RvcFdvcmtlcj1mdW5jdGlvbigpe3RoaXMuJHdvcmtlciYmdGhpcy4kd29ya2VyLnRlcm1pbmF0ZSgpLHRoaXMuJHdvcmtlcj1udWxsfSx0aGlzLiRzdGFydFdvcmtlcj1mdW5jdGlvbigpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgV29ya2VyfHxlLm5vV29ya2VyKXRoaXMuJHdvcmtlcj1udWxsO2Vsc2UgdHJ5e3RoaXMuJHdvcmtlcj10aGlzLiRtb2RlLmNyZWF0ZVdvcmtlcih0aGlzKX1jYXRjaCh0KXtjb25zb2xlLmxvZygiQ291bGQgbm90IGxvYWQgd29ya2VyIiksY29uc29sZS5sb2codCksdGhpcy4kd29ya2VyPW51bGx9fSx0aGlzLmdldE1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kbW9kZX0sdGhpcy4kc2Nyb2xsVG9wPTAsdGhpcy5zZXRTY3JvbGxUb3A9ZnVuY3Rpb24oZSl7dGhpcy4kc2Nyb2xsVG9wPT09ZXx8aXNOYU4oZSl8fCh0aGlzLiRzY3JvbGxUb3A9ZSx0aGlzLl9zaWduYWwoImNoYW5nZVNjcm9sbFRvcCIsZSkpfSx0aGlzLmdldFNjcm9sbFRvcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRzY3JvbGxUb3B9LHRoaXMuJHNjcm9sbExlZnQ9MCx0aGlzLnNldFNjcm9sbExlZnQ9ZnVuY3Rpb24oZSl7dGhpcy4kc2Nyb2xsTGVmdD09PWV8fGlzTmFOKGUpfHwodGhpcy4kc2Nyb2xsTGVmdD1lLHRoaXMuX3NpZ25hbCgiY2hhbmdlU2Nyb2xsTGVmdCIsZSkpfSx0aGlzLmdldFNjcm9sbExlZnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kc2Nyb2xsTGVmdH0sdGhpcy5nZXRTY3JlZW5XaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRjb21wdXRlV2lkdGgoKSx0aGlzLmxpbmVXaWRnZXRzP01hdGgubWF4KHRoaXMuZ2V0TGluZVdpZGdldE1heFdpZHRoKCksdGhpcy5zY3JlZW5XaWR0aCk6dGhpcy5zY3JlZW5XaWR0aH0sdGhpcy5nZXRMaW5lV2lkZ2V0TWF4V2lkdGg9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLmxpbmVXaWRnZXRzV2lkdGgpcmV0dXJuIHRoaXMubGluZVdpZGdldHNXaWR0aDt2YXIgZT0wO3JldHVybiB0aGlzLmxpbmVXaWRnZXRzLmZvckVhY2goZnVuY3Rpb24odCl7dCYmdC5zY3JlZW5XaWR0aD5lJiYoZT10LnNjcmVlbldpZHRoKX0pLHRoaXMubGluZVdpZGdldFdpZHRoPWV9LHRoaXMuJGNvbXB1dGVXaWR0aD1mdW5jdGlvbihlKXtpZih0aGlzLiRtb2RpZmllZHx8ZSl7aWYodGhpcy4kbW9kaWZpZWQ9ITEsdGhpcy4kdXNlV3JhcE1vZGUpcmV0dXJuIHRoaXMuc2NyZWVuV2lkdGg9dGhpcy4kd3JhcExpbWl0O2Zvcih2YXIgdD10aGlzLmRvYy5nZXRBbGxMaW5lcygpLG49dGhpcy4kcm93TGVuZ3RoQ2FjaGUscj0wLGk9MCxzPXRoaXMuJGZvbGREYXRhW2ldLG89cz9zLnN0YXJ0LnJvdzoxLzAsdT10Lmxlbmd0aCxhPTA7dT5hO2ErKyl7aWYoYT5vKXtpZihhPXMuZW5kLnJvdysxLGE+PXUpYnJlYWs7cz10aGlzLiRmb2xkRGF0YVtpKytdLG89cz9zLnN0YXJ0LnJvdzoxLzB9bnVsbD09blthXSYmKG5bYV09dGhpcy4kZ2V0U3RyaW5nU2NyZWVuV2lkdGgodFthXSlbMF0pLG5bYV0+ciYmKHI9blthXSl9dGhpcy5zY3JlZW5XaWR0aD1yfX0sdGhpcy5nZXRMaW5lPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRvYy5nZXRMaW5lKGUpfSx0aGlzLmdldExpbmVzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZG9jLmdldExpbmVzKGUsdCl9LHRoaXMuZ2V0TGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jLmdldExlbmd0aCgpfSx0aGlzLmdldFRleHRSYW5nZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kb2MuZ2V0VGV4dFJhbmdlKGV8fHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCkpfSx0aGlzLmluc2VydD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmRvYy5pbnNlcnQoZSx0KX0sdGhpcy5yZW1vdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZG9jLnJlbW92ZShlKX0sdGhpcy51bmRvQ2hhbmdlcz1mdW5jdGlvbihlLHQpe2lmKGUubGVuZ3RoKXt0aGlzLiRmcm9tVW5kbz0hMDtmb3IodmFyIG49bnVsbCxyPWUubGVuZ3RoLTE7LTEhPXI7ci0tKXt2YXIgaT1lW3JdOyJkb2MiPT1pLmdyb3VwPyh0aGlzLmRvYy5yZXZlcnREZWx0YXMoaS5kZWx0YXMpLG49dGhpcy4kZ2V0VW5kb1NlbGVjdGlvbihpLmRlbHRhcywhMCxuKSk6aS5kZWx0YXMuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLmFkZEZvbGRzKGUuZm9sZHMpfSx0aGlzKX1yZXR1cm4gdGhpcy4kZnJvbVVuZG89ITEsbiYmdGhpcy4kdW5kb1NlbGVjdCYmIXQmJnRoaXMuc2VsZWN0aW9uLnNldFNlbGVjdGlvblJhbmdlKG4pLG59fSx0aGlzLnJlZG9DaGFuZ2VzPWZ1bmN0aW9uKGUsdCl7aWYoZS5sZW5ndGgpe3RoaXMuJGZyb21VbmRvPSEwO2Zvcih2YXIgbj1udWxsLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIGk9ZVtyXTsiZG9jIj09aS5ncm91cCYmKHRoaXMuZG9jLmFwcGx5RGVsdGFzKGkuZGVsdGFzKSxuPXRoaXMuJGdldFVuZG9TZWxlY3Rpb24oaS5kZWx0YXMsITEsbikpfXJldHVybiB0aGlzLiRmcm9tVW5kbz0hMSxuJiZ0aGlzLiR1bmRvU2VsZWN0JiYhdCYmdGhpcy5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uUmFuZ2Uobiksbn19LHRoaXMuc2V0VW5kb1NlbGVjdD1mdW5jdGlvbihlKXt0aGlzLiR1bmRvU2VsZWN0PWV9LHRoaXMuJGdldFVuZG9TZWxlY3Rpb249ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoZSl7dmFyIG49Imluc2VydFRleHQiPT09ZS5hY3Rpb258fCJpbnNlcnRMaW5lcyI9PT1lLmFjdGlvbjtyZXR1cm4gdD8hbjpufXZhciBzLG8saT1lWzBdLHU9ITE7cihpKT8ocz1mLmZyb21Qb2ludHMoaS5yYW5nZS5zdGFydCxpLnJhbmdlLmVuZCksdT0hMCk6KHM9Zi5mcm9tUG9pbnRzKGkucmFuZ2Uuc3RhcnQsaS5yYW5nZS5zdGFydCksdT0hMSk7Zm9yKHZhciBhPTE7YTxlLmxlbmd0aDthKyspaT1lW2FdLHIoaSk/KG89aS5yYW5nZS5zdGFydCwtMT09cy5jb21wYXJlKG8ucm93LG8uY29sdW1uKSYmcy5zZXRTdGFydChpLnJhbmdlLnN0YXJ0KSxvPWkucmFuZ2UuZW5kLDE9PXMuY29tcGFyZShvLnJvdyxvLmNvbHVtbikmJnMuc2V0RW5kKGkucmFuZ2UuZW5kKSx1PSEwKToobz1pLnJhbmdlLnN0YXJ0LC0xPT1zLmNvbXBhcmUoby5yb3csby5jb2x1bW4pJiYocz1mLmZyb21Qb2ludHMoaS5yYW5nZS5zdGFydCxpLnJhbmdlLnN0YXJ0KSksdT0hMSk7aWYobnVsbCE9bil7MD09PWYuY29tcGFyZVBvaW50cyhuLnN0YXJ0LHMuc3RhcnQpJiYobi5zdGFydC5jb2x1bW4rPXMuZW5kLmNvbHVtbi1zLnN0YXJ0LmNvbHVtbixuLmVuZC5jb2x1bW4rPXMuZW5kLmNvbHVtbi1zLnN0YXJ0LmNvbHVtbik7dmFyIGw9bi5jb21wYXJlUmFuZ2Uocyk7MT09bD9zLnNldFN0YXJ0KG4uc3RhcnQpOi0xPT1sJiZzLnNldEVuZChuLmVuZCl9cmV0dXJuIHN9LHRoaXMucmVwbGFjZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmRvYy5yZXBsYWNlKGUsdCl9LHRoaXMubW92ZVRleHQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuZ2V0VGV4dFJhbmdlKGUpLGk9dGhpcy5nZXRGb2xkc0luUmFuZ2UoZSkscz1mLmZyb21Qb2ludHModCx0KTtpZighbil7dGhpcy5yZW1vdmUoZSk7dmFyIG89ZS5zdGFydC5yb3ctZS5lbmQucm93LHU9bz8tZS5lbmQuY29sdW1uOmUuc3RhcnQuY29sdW1uLWUuZW5kLmNvbHVtbjt1JiYocy5zdGFydC5yb3c9PWUuZW5kLnJvdyYmcy5zdGFydC5jb2x1bW4+ZS5lbmQuY29sdW1uJiYocy5zdGFydC5jb2x1bW4rPXUpLHMuZW5kLnJvdz09ZS5lbmQucm93JiZzLmVuZC5jb2x1bW4+ZS5lbmQuY29sdW1uJiYocy5lbmQuY29sdW1uKz11KSksbyYmcy5zdGFydC5yb3c+PWUuZW5kLnJvdyYmKHMuc3RhcnQucm93Kz1vLHMuZW5kLnJvdys9byl9aWYocy5lbmQ9dGhpcy5pbnNlcnQocy5zdGFydCxyKSxpLmxlbmd0aCl7dmFyIGE9ZS5zdGFydCxsPXMuc3RhcnQsbz1sLnJvdy1hLnJvdyx1PWwuY29sdW1uLWEuY29sdW1uO3RoaXMuYWRkRm9sZHMoaS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZS5jbG9uZSgpLGUuc3RhcnQucm93PT1hLnJvdyYmKGUuc3RhcnQuY29sdW1uKz11KSxlLmVuZC5yb3c9PWEucm93JiYoZS5lbmQuY29sdW1uKz11KSxlLnN0YXJ0LnJvdys9byxlLmVuZC5yb3crPW8sZX0pKX1yZXR1cm4gc30sdGhpcy5pbmRlbnRSb3dzPWZ1bmN0aW9uKGUsdCxuKXtuPW4ucmVwbGFjZSgvXHQvZyx0aGlzLmdldFRhYlN0cmluZygpKTtmb3IodmFyIHI9ZTt0Pj1yO3IrKyl0aGlzLmluc2VydCh7cm93OnIsY29sdW1uOjB9LG4pfSx0aGlzLm91dGRlbnRSb3dzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmNvbGxhcHNlUm93cygpLG49bmV3IGYoMCwwLDAsMCkscj10aGlzLmdldFRhYlNpemUoKSxpPXQuc3RhcnQucm93O2k8PXQuZW5kLnJvdzsrK2kpe3ZhciBzPXRoaXMuZ2V0TGluZShpKTtuLnN0YXJ0LnJvdz1pLG4uZW5kLnJvdz1pO2Zvcih2YXIgbz0wO3I+byYmIiAiPT1zLmNoYXJBdChvKTsrK28pO3I+byYmIgkiPT1zLmNoYXJBdChvKT8obi5zdGFydC5jb2x1bW49byxuLmVuZC5jb2x1bW49bysxKToobi5zdGFydC5jb2x1bW49MCxuLmVuZC5jb2x1bW49byksdGhpcy5yZW1vdmUobil9fSx0aGlzLiRtb3ZlTGluZXM9ZnVuY3Rpb24oZSx0LG4pe2lmKGU9dGhpcy5nZXRSb3dGb2xkU3RhcnQoZSksdD10aGlzLmdldFJvd0ZvbGRFbmQodCksMD5uKXt2YXIgcj10aGlzLmdldFJvd0ZvbGRTdGFydChlK24pO2lmKDA+cilyZXR1cm4gMDt2YXIgaT1yLWV9ZWxzZSBpZihuPjApe3ZhciByPXRoaXMuZ2V0Um93Rm9sZEVuZCh0K24pO2lmKHI+dGhpcy5kb2MuZ2V0TGVuZ3RoKCktMSlyZXR1cm4gMDt2YXIgaT1yLXR9ZWxzZXtlPXRoaXMuJGNsaXBSb3dUb0RvY3VtZW50KGUpLHQ9dGhpcy4kY2xpcFJvd1RvRG9jdW1lbnQodCk7dmFyIGk9dC1lKzF9dmFyIHM9bmV3IGYoZSwwLHQsTnVtYmVyLk1BWF9WQUxVRSksbz10aGlzLmdldEZvbGRzSW5SYW5nZShzKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZS5jbG9uZSgpLGUuc3RhcnQucm93Kz1pLGUuZW5kLnJvdys9aSxlfSksdT0wPT1uP3RoaXMuZG9jLmdldExpbmVzKGUsdCk6dGhpcy5kb2MucmVtb3ZlTGluZXMoZSx0KTtyZXR1cm4gdGhpcy5kb2MuaW5zZXJ0TGluZXMoZStpLHUpLG8ubGVuZ3RoJiZ0aGlzLmFkZEZvbGRzKG8pLGl9LHRoaXMubW92ZUxpbmVzVXA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy4kbW92ZUxpbmVzKGUsdCwtMSl9LHRoaXMubW92ZUxpbmVzRG93bj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLiRtb3ZlTGluZXMoZSx0LDEpfSx0aGlzLmR1cGxpY2F0ZUxpbmVzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuJG1vdmVMaW5lcyhlLHQsMCl9LHRoaXMuJGNsaXBSb3dUb0RvY3VtZW50PWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLm1heCgwLE1hdGgubWluKGUsdGhpcy5kb2MuZ2V0TGVuZ3RoKCktMSkpfSx0aGlzLiRjbGlwQ29sdW1uVG9Sb3c9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMD50PzA6TWF0aC5taW4odGhpcy5kb2MuZ2V0TGluZShlKS5sZW5ndGgsdCl9LHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQ9ZnVuY3Rpb24oZSx0KXtpZih0PU1hdGgubWF4KDAsdCksMD5lKWU9MCx0PTA7ZWxzZXt2YXIgbj10aGlzLmRvYy5nZXRMZW5ndGgoKTtlPj1uPyhlPW4tMSx0PXRoaXMuZG9jLmdldExpbmUobi0xKS5sZW5ndGgpOnQ9TWF0aC5taW4odGhpcy5kb2MuZ2V0TGluZShlKS5sZW5ndGgsdCl9cmV0dXJue3JvdzplLGNvbHVtbjp0fX0sdGhpcy4kY2xpcFJhbmdlVG9Eb2N1bWVudD1mdW5jdGlvbihlKXtlLnN0YXJ0LnJvdzwwPyhlLnN0YXJ0LnJvdz0wLGUuc3RhcnQuY29sdW1uPTApOmUuc3RhcnQuY29sdW1uPXRoaXMuJGNsaXBDb2x1bW5Ub1JvdyhlLnN0YXJ0LnJvdyxlLnN0YXJ0LmNvbHVtbik7dmFyIHQ9dGhpcy5kb2MuZ2V0TGVuZ3RoKCktMTtyZXR1cm4gZS5lbmQucm93PnQ/KGUuZW5kLnJvdz10LGUuZW5kLmNvbHVtbj10aGlzLmRvYy5nZXRMaW5lKHQpLmxlbmd0aCk6ZS5lbmQuY29sdW1uPXRoaXMuJGNsaXBDb2x1bW5Ub1JvdyhlLmVuZC5yb3csZS5lbmQuY29sdW1uKSxlfSx0aGlzLiR3cmFwTGltaXQ9ODAsdGhpcy4kdXNlV3JhcE1vZGU9ITEsdGhpcy4kd3JhcExpbWl0UmFuZ2U9e21pbjpudWxsLG1heDpudWxsfSx0aGlzLnNldFVzZVdyYXBNb2RlPWZ1bmN0aW9uKGUpe2lmKGUhPXRoaXMuJHVzZVdyYXBNb2RlKXtpZih0aGlzLiR1c2VXcmFwTW9kZT1lLHRoaXMuJG1vZGlmaWVkPSEwLHRoaXMuJHJlc2V0Um93Q2FjaGUoMCksZSl7dmFyIHQ9dGhpcy5nZXRMZW5ndGgoKTt0aGlzLiR3cmFwRGF0YT1BcnJheSh0KSx0aGlzLiR1cGRhdGVXcmFwRGF0YSgwLHQtMSl9dGhpcy5fc2lnbmFsKCJjaGFuZ2VXcmFwTW9kZSIpfX0sdGhpcy5nZXRVc2VXcmFwTW9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLiR1c2VXcmFwTW9kZX0sdGhpcy5zZXRXcmFwTGltaXRSYW5nZT1mdW5jdGlvbihlLHQpeyh0aGlzLiR3cmFwTGltaXRSYW5nZS5taW4hPT1lfHx0aGlzLiR3cmFwTGltaXRSYW5nZS5tYXghPT10KSYmKHRoaXMuJHdyYXBMaW1pdFJhbmdlPXttaW46ZSxtYXg6dH0sdGhpcy4kbW9kaWZpZWQ9ITAsdGhpcy5fc2lnbmFsKCJjaGFuZ2VXcmFwTW9kZSIpKX0sdGhpcy5hZGp1c3RXcmFwTGltaXQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLiR3cmFwTGltaXRSYW5nZTtuLm1heDwwJiYobj17bWluOnQsbWF4OnR9KTt2YXIgcj10aGlzLiRjb25zdHJhaW5XcmFwTGltaXQoZSxuLm1pbixuLm1heCk7cmV0dXJuIHIhPXRoaXMuJHdyYXBMaW1pdCYmcj4xPyh0aGlzLiR3cmFwTGltaXQ9cix0aGlzLiRtb2RpZmllZD0hMCx0aGlzLiR1c2VXcmFwTW9kZSYmKHRoaXMuJHVwZGF0ZVdyYXBEYXRhKDAsdGhpcy5nZXRMZW5ndGgoKS0xKSx0aGlzLiRyZXNldFJvd0NhY2hlKDApLHRoaXMuX3NpZ25hbCgiY2hhbmdlV3JhcExpbWl0IikpLCEwKTohMX0sdGhpcy4kY29uc3RyYWluV3JhcExpbWl0PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdCYmKGU9TWF0aC5tYXgodCxlKSksbiYmKGU9TWF0aC5taW4obixlKSksZX0sdGhpcy5nZXRXcmFwTGltaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kd3JhcExpbWl0fSx0aGlzLnNldFdyYXBMaW1pdD1mdW5jdGlvbihlKXt0aGlzLnNldFdyYXBMaW1pdFJhbmdlKGUsZSl9LHRoaXMuZ2V0V3JhcExpbWl0UmFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm57bWluOnRoaXMuJHdyYXBMaW1pdFJhbmdlLm1pbixtYXg6dGhpcy4kd3JhcExpbWl0UmFuZ2UubWF4fX0sdGhpcy4kdXBkYXRlSW50ZXJuYWxEYXRhT25DaGFuZ2U9ZnVuY3Rpb24oZSl7dmFyIG4sdD10aGlzLiR1c2VXcmFwTW9kZSxyPWUuZGF0YS5hY3Rpb24saT1lLmRhdGEucmFuZ2Uuc3RhcnQucm93LHM9ZS5kYXRhLnJhbmdlLmVuZC5yb3csbz1lLmRhdGEucmFuZ2Uuc3RhcnQsdT1lLmRhdGEucmFuZ2UuZW5kLGE9bnVsbDtpZigtMSE9ci5pbmRleE9mKCJMaW5lcyIpPyhzPSJpbnNlcnRMaW5lcyI9PXI/aStlLmRhdGEubGluZXMubGVuZ3RoOmksbj1lLmRhdGEubGluZXM/ZS5kYXRhLmxpbmVzLmxlbmd0aDpzLWkpOm49cy1pLHRoaXMuJHVwZGF0aW5nPSEwLDAhPW4paWYoLTEhPXIuaW5kZXhPZigicmVtb3ZlIikpe3RoaXNbdD8iJHdyYXBEYXRhIjoiJHJvd0xlbmd0aENhY2hlIl0uc3BsaWNlKGksbik7dmFyIGY9dGhpcy4kZm9sZERhdGE7YT10aGlzLmdldEZvbGRzSW5SYW5nZShlLmRhdGEucmFuZ2UpLHRoaXMucmVtb3ZlRm9sZHMoYSk7dmFyIGw9dGhpcy5nZXRGb2xkTGluZSh1LnJvdyksYz0wO2lmKGwpe2wuYWRkUmVtb3ZlQ2hhcnModS5yb3csdS5jb2x1bW4sby5jb2x1bW4tdS5jb2x1bW4pLGwuc2hpZnRSb3coLW4pO3ZhciBoPXRoaXMuZ2V0Rm9sZExpbmUoaSk7aCYmaCE9PWwmJihoLm1lcmdlKGwpLGw9aCksYz1mLmluZGV4T2YobCkrMX1mb3IoYztjPGYubGVuZ3RoO2MrKyl7dmFyIGw9ZltjXTtsLnN0YXJ0LnJvdz49dS5yb3cmJmwuc2hpZnRSb3coLW4pfXM9aX1lbHNle3ZhciBwPUFycmF5KG4pO3AudW5zaGlmdChpLDApO3ZhciBkPXQ/dGhpcy4kd3JhcERhdGE6dGhpcy4kcm93TGVuZ3RoQ2FjaGU7ZC5zcGxpY2UuYXBwbHkoZCxwKTt2YXIgZj10aGlzLiRmb2xkRGF0YSxsPXRoaXMuZ2V0Rm9sZExpbmUoaSksYz0wO2lmKGwpe3ZhciB2PWwucmFuZ2UuY29tcGFyZUluc2lkZShvLnJvdyxvLmNvbHVtbik7MD09dj8obD1sLnNwbGl0KG8ucm93LG8uY29sdW1uKSxsLnNoaWZ0Um93KG4pLGwuYWRkUmVtb3ZlQ2hhcnMocywwLHUuY29sdW1uLW8uY29sdW1uKSk6LTE9PXYmJihsLmFkZFJlbW92ZUNoYXJzKGksMCx1LmNvbHVtbi1vLmNvbHVtbiksbC5zaGlmdFJvdyhuKSksYz1mLmluZGV4T2YobCkrMX1mb3IoYztjPGYubGVuZ3RoO2MrKyl7dmFyIGw9ZltjXTtsLnN0YXJ0LnJvdz49aSYmbC5zaGlmdFJvdyhuKX19ZWxzZXtuPU1hdGguYWJzKGUuZGF0YS5yYW5nZS5zdGFydC5jb2x1bW4tZS5kYXRhLnJhbmdlLmVuZC5jb2x1bW4pLC0xIT1yLmluZGV4T2YoInJlbW92ZSIpJiYoYT10aGlzLmdldEZvbGRzSW5SYW5nZShlLmRhdGEucmFuZ2UpLHRoaXMucmVtb3ZlRm9sZHMoYSksbj0tbik7dmFyIGw9dGhpcy5nZXRGb2xkTGluZShpKTtsJiZsLmFkZFJlbW92ZUNoYXJzKGksby5jb2x1bW4sbil9cmV0dXJuIHQmJnRoaXMuJHdyYXBEYXRhLmxlbmd0aCE9dGhpcy5kb2MuZ2V0TGVuZ3RoKCkmJmNvbnNvbGUuZXJyb3IoImRvYy5nZXRMZW5ndGgoKSBhbmQgJHdyYXBEYXRhLmxlbmd0aCBoYXZlIHRvIGJlIHRoZSBzYW1lISIpLHRoaXMuJHVwZGF0aW5nPSExLHQ/dGhpcy4kdXBkYXRlV3JhcERhdGEoaSxzKTp0aGlzLiR1cGRhdGVSb3dMZW5ndGhDYWNoZShpLHMpLGF9LHRoaXMuJHVwZGF0ZVJvd0xlbmd0aENhY2hlPWZ1bmN0aW9uKGUsdCl7dGhpcy4kcm93TGVuZ3RoQ2FjaGVbZV09bnVsbCx0aGlzLiRyb3dMZW5ndGhDYWNoZVt0XT1udWxsfSx0aGlzLiR1cGRhdGVXcmFwRGF0YT1mdW5jdGlvbihlLHQpe3ZhciBvLGEsbj10aGlzLmRvYy5nZXRBbGxMaW5lcygpLHI9dGhpcy5nZXRUYWJTaXplKCksaT10aGlzLiR3cmFwRGF0YSxzPXRoaXMuJHdyYXBMaW1pdCxmPWU7Zm9yKHQ9TWF0aC5taW4odCxuLmxlbmd0aC0xKTt0Pj1mOylhPXRoaXMuZ2V0Rm9sZExpbmUoZixhKSxhPyhvPVtdLGEud2FsayhmdW5jdGlvbihlLHQscixpKXt2YXIgcztpZihudWxsIT1lKXtzPXRoaXMuJGdldERpc3BsYXlUb2tlbnMoZSxvLmxlbmd0aCksc1swXT11O2Zvcih2YXIgYT0xO2E8cy5sZW5ndGg7YSsrKXNbYV09bH1lbHNlIHM9dGhpcy4kZ2V0RGlzcGxheVRva2VucyhuW3RdLnN1YnN0cmluZyhpLHIpLG8ubGVuZ3RoKTtvPW8uY29uY2F0KHMpfS5iaW5kKHRoaXMpLGEuZW5kLnJvdyxuW2EuZW5kLnJvd10ubGVuZ3RoKzEpLGlbYS5zdGFydC5yb3ddPXRoaXMuJGNvbXB1dGVXcmFwU3BsaXRzKG8scyxyKSxmPWEuZW5kLnJvdysxKToobz10aGlzLiRnZXREaXNwbGF5VG9rZW5zKG5bZl0pLGlbZl09dGhpcy4kY29tcHV0ZVdyYXBTcGxpdHMobyxzLHIpLGYrKyl9O3ZhciB0PTEsbj0yLHU9MyxsPTQscD05LGQ9MTAsdj0xMSxtPTEyO3RoaXMuJGNvbXB1dGVXcmFwU3BsaXRzPWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gYSh0KXt2YXIgcj1lLnNsaWNlKGksdCksbz1yLmxlbmd0aDtyLmpvaW4oIiIpLnJlcGxhY2UoLzEyL2csZnVuY3Rpb24oKXtvLT0xfSkucmVwbGFjZSgvMi9nLGZ1bmN0aW9uKCl7by09MX0pLHMrPW8sbi5wdXNoKHMpLGk9dH1pZigwPT1lLmxlbmd0aClyZXR1cm5bXTtmb3IodmFyIG49W10scj1lLmxlbmd0aCxpPTAscz0wLG89dGhpcy4kd3JhcEFzQ29kZTtyLWk+dDspe3ZhciBmPWkrdDtpZihlW2YtMV0+PWQmJmVbZl0+PWQpYShmKTtlbHNlIGlmKGVbZl0hPXUmJmVbZl0hPWwpe2Zvcih2YXIgYz1NYXRoLm1heChmLShvPzEwOnQtKHQ+PjIpKSxpLTEpO2Y+YyYmZVtmXTx1OylmLS07aWYobyl7Zm9yKDtmPmMmJmVbZl08dTspZi0tO2Zvcig7Zj5jJiZlW2ZdPT1wOylmLS19ZWxzZSBmb3IoO2Y+YyYmZVtmXTxkOylmLS07Zj5jP2EoKytmKTooZj1pK3QsYShmKSl9ZWxzZXtmb3IoZjtmIT1pLTEmJmVbZl0hPXU7Zi0tKTtpZihmPmkpe2EoZik7Y29udGludWV9Zm9yKGY9aSt0O2Y8ZS5sZW5ndGgmJmVbZl09PWw7ZisrKTtpZihmPT1lLmxlbmd0aClicmVhazthKGYpfX1yZXR1cm4gbn0sdGhpcy4kZ2V0RGlzcGxheVRva2Vucz1mdW5jdGlvbihlLHIpe3ZhciBzLGk9W107cj1yfHwwO2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKXt2YXIgdT1lLmNoYXJDb2RlQXQobyk7aWYoOT09dSl7cz10aGlzLmdldFNjcmVlblRhYlNpemUoaS5sZW5ndGgrciksaS5wdXNoKHYpO2Zvcih2YXIgYT0xO3M+YTthKyspaS5wdXNoKG0pfWVsc2UgMzI9PXU/aS5wdXNoKGQpOnU+MzkmJjQ4PnV8fHU+NTcmJjY0PnU/aS5wdXNoKHApOnU+PTQzNTImJmcodSk/aS5wdXNoKHQsbik6aS5wdXNoKHQpfXJldHVybiBpfSx0aGlzLiRnZXRTdHJpbmdTY3JlZW5XaWR0aD1mdW5jdGlvbihlLHQsbil7aWYoMD09dClyZXR1cm5bMCwwXTtudWxsPT10JiYodD0xLzApLG49bnx8MDt2YXIgcixpO2ZvcihpPTA7aTxlLmxlbmd0aCYmKHI9ZS5jaGFyQ29kZUF0KGkpLG4rPTk9PXI/dGhpcy5nZXRTY3JlZW5UYWJTaXplKG4pOnI+PTQzNTImJmcocik/MjoxLCEobj50KSk7aSsrKTtyZXR1cm5bbixpXX0sdGhpcy5saW5lV2lkZ2V0cz1udWxsLHRoaXMuZ2V0Um93TGVuZ3RoPWZ1bmN0aW9uKGUpe2lmKHRoaXMubGluZVdpZGdldHMpdmFyIHQ9dGhpcy5saW5lV2lkZ2V0c1tlXSYmdGhpcy5saW5lV2lkZ2V0c1tlXS5yb3dDb3VudHx8MDtlbHNlIHQ9MDtyZXR1cm4gdGhpcy4kdXNlV3JhcE1vZGUmJnRoaXMuJHdyYXBEYXRhW2VdP3RoaXMuJHdyYXBEYXRhW2VdLmxlbmd0aCsxK3Q6MSt0fSx0aGlzLmdldFJvd0xpbmVDb3VudD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy4kdXNlV3JhcE1vZGUmJnRoaXMuJHdyYXBEYXRhW2VdP3RoaXMuJHdyYXBEYXRhW2VdLmxlbmd0aCsxOjF9LHRoaXMuZ2V0U2NyZWVuTGFzdFJvd0NvbHVtbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnNjcmVlblRvRG9jdW1lbnRQb3NpdGlvbihlLE51bWJlci5NQVhfVkFMVUUpO3JldHVybiB0aGlzLmRvY3VtZW50VG9TY3JlZW5Db2x1bW4odC5yb3csdC5jb2x1bW4pfSx0aGlzLmdldERvY3VtZW50TGFzdFJvd0NvbHVtbj1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZG9jdW1lbnRUb1NjcmVlblJvdyhlLHQpO3JldHVybiB0aGlzLmdldFNjcmVlbkxhc3RSb3dDb2x1bW4obil9LHRoaXMuZ2V0RG9jdW1lbnRMYXN0Um93Q29sdW1uUG9zaXRpb249ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmRvY3VtZW50VG9TY3JlZW5Sb3coZSx0KTtyZXR1cm4gdGhpcy5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24obixOdW1iZXIuTUFYX1ZBTFVFLzEwKX0sdGhpcy5nZXRSb3dTcGxpdERhdGE9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuJHVzZVdyYXBNb2RlP3RoaXMuJHdyYXBEYXRhW2VdOnZvaWQgMH0sdGhpcy5nZXRTY3JlZW5UYWJTaXplPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLiR0YWJTaXplLWUldGhpcy4kdGFiU2l6ZX0sdGhpcy5zY3JlZW5Ub0RvY3VtZW50Um93PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uKGUsdCkucm93fSx0aGlzLnNjcmVlblRvRG9jdW1lbnRDb2x1bW49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24oZSx0KS5jb2x1bW59LHRoaXMuc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uPWZ1bmN0aW9uKGUsdCl7aWYoMD5lKXJldHVybntyb3c6MCxjb2x1bW46MH07dmFyIG4scyxyPTAsaT0wLG89MCx1PTAsYT10aGlzLiRzY3JlZW5Sb3dDYWNoZSxmPXRoaXMuJGdldFJvd0NhY2hlSW5kZXgoYSxlKSxsPWEubGVuZ3RoO2lmKGwmJmY+PTApdmFyIG89YVtmXSxyPXRoaXMuJGRvY1Jvd0NhY2hlW2ZdLGM9ZT5hW2wtMV07ZWxzZSB2YXIgYz0hbDtmb3IodmFyIGg9dGhpcy5nZXRMZW5ndGgoKS0xLHA9dGhpcy5nZXROZXh0Rm9sZExpbmUociksZD1wP3Auc3RhcnQucm93OjEvMDtlPj1vJiYodT10aGlzLmdldFJvd0xlbmd0aChyKSwhKG8rdT5lfHxyPj1oKSk7KW8rPXUscisrLHI+ZCYmKHI9cC5lbmQucm93KzEscD10aGlzLmdldE5leHRGb2xkTGluZShyLHApLGQ9cD9wLnN0YXJ0LnJvdzoxLzApLGMmJih0aGlzLiRkb2NSb3dDYWNoZS5wdXNoKHIpLHRoaXMuJHNjcmVlblJvd0NhY2hlLnB1c2gobykpO2lmKHAmJnAuc3RhcnQucm93PD1yKW49dGhpcy5nZXRGb2xkRGlzcGxheUxpbmUocCkscj1wLnN0YXJ0LnJvdztlbHNle2lmKGU+PW8rdXx8cj5oKXJldHVybntyb3c6aCxjb2x1bW46dGhpcy5nZXRMaW5lKGgpLmxlbmd0aH07bj10aGlzLmdldExpbmUocikscD1udWxsfWlmKHRoaXMuJHVzZVdyYXBNb2RlKXt2YXIgdj10aGlzLiR3cmFwRGF0YVtyXTtpZih2KXt2YXIgbT1NYXRoLmZsb29yKGUtbyk7cz12W21dLG0+MCYmdi5sZW5ndGgmJihpPXZbbS0xXXx8dlt2Lmxlbmd0aC0xXSxuPW4uc3Vic3RyaW5nKGkpKX19cmV0dXJuIGkrPXRoaXMuJGdldFN0cmluZ1NjcmVlbldpZHRoKG4sdClbMV0sdGhpcy4kdXNlV3JhcE1vZGUmJmk+PXMmJihpPXMtMSkscD9wLmlkeFRvUG9zaXRpb24oaSk6e3JvdzpyLGNvbHVtbjppfX0sdGhpcy5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb249ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIj09dHlwZW9mIHQpdmFyIG49dGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudChlLnJvdyxlLmNvbHVtbik7ZWxzZSBuPXRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQoZSx0KTtlPW4ucm93LHQ9bi5jb2x1bW47dmFyIHI9MCxpPW51bGwscz1udWxsO3M9dGhpcy5nZXRGb2xkQXQoZSx0LDEpLHMmJihlPXMuc3RhcnQucm93LHQ9cy5zdGFydC5jb2x1bW4pO3ZhciBvLHU9MCxhPXRoaXMuJGRvY1Jvd0NhY2hlLGY9dGhpcy4kZ2V0Um93Q2FjaGVJbmRleChhLGUpLGw9YS5sZW5ndGg7aWYobCYmZj49MCl2YXIgdT1hW2ZdLHI9dGhpcy4kc2NyZWVuUm93Q2FjaGVbZl0sYz1lPmFbbC0xXTtlbHNlIHZhciBjPSFsO2Zvcih2YXIgaD10aGlzLmdldE5leHRGb2xkTGluZSh1KSxwPWg/aC5zdGFydC5yb3c6MS8wO2U+dTspe2lmKHU+PXApe2lmKG89aC5lbmQucm93KzEsbz5lKWJyZWFrO2g9dGhpcy5nZXROZXh0Rm9sZExpbmUobyxoKSxwPWg/aC5zdGFydC5yb3c6MS8wfWVsc2Ugbz11KzE7cis9dGhpcy5nZXRSb3dMZW5ndGgodSksdT1vLGMmJih0aGlzLiRkb2NSb3dDYWNoZS5wdXNoKHUpLHRoaXMuJHNjcmVlblJvd0NhY2hlLnB1c2gocikpfXZhciBkPSIiO2lmKGgmJnU+PXA/KGQ9dGhpcy5nZXRGb2xkRGlzcGxheUxpbmUoaCxlLHQpLGk9aC5zdGFydC5yb3cpOihkPXRoaXMuZ2V0TGluZShlKS5zdWJzdHJpbmcoMCx0KSxpPWUpLHRoaXMuJHVzZVdyYXBNb2RlKXt2YXIgdj10aGlzLiR3cmFwRGF0YVtpXTtpZih2KXtmb3IodmFyIG09MDtkLmxlbmd0aD49dlttXTspcisrLG0rKztkPWQuc3Vic3RyaW5nKHZbbS0xXXx8MCxkLmxlbmd0aCl9fXJldHVybntyb3c6cixjb2x1bW46dGhpcy4kZ2V0U3RyaW5nU2NyZWVuV2lkdGgoZClbMF19fSx0aGlzLmRvY3VtZW50VG9TY3JlZW5Db2x1bW49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24oZSx0KS5jb2x1bW59LHRoaXMuZG9jdW1lbnRUb1NjcmVlblJvdz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbihlLHQpLnJvd30sdGhpcy5nZXRTY3JlZW5MZW5ndGg9ZnVuY3Rpb24oKXt2YXIgZT0wLHQ9bnVsbDtpZih0aGlzLiR1c2VXcmFwTW9kZSlmb3IodmFyIGk9dGhpcy4kd3JhcERhdGEubGVuZ3RoLHM9MCxyPTAsdD10aGlzLiRmb2xkRGF0YVtyKytdLG89dD90LnN0YXJ0LnJvdzoxLzA7aT5zOyl7dmFyIHU9dGhpcy4kd3JhcERhdGFbc107ZSs9dT91Lmxlbmd0aCsxOjEscysrLHM+byYmKHM9dC5lbmQucm93KzEsdD10aGlzLiRmb2xkRGF0YVtyKytdLG89dD90LnN0YXJ0LnJvdzoxLzApfWVsc2V7ZT10aGlzLmdldExlbmd0aCgpO2Zvcih2YXIgbj10aGlzLiRmb2xkRGF0YSxyPTA7cjxuLmxlbmd0aDtyKyspdD1uW3JdLGUtPXQuZW5kLnJvdy10LnN0YXJ0LnJvd31yZXR1cm4gdGhpcy5saW5lV2lkZ2V0cyYmKGUrPXRoaXMuJGdldFdpZGdldFNjcmVlbkxlbmd0aCgpKSxlfSx0aGlzLiRzZXRGb250TWV0cmljcz1mdW5jdGlvbigpe319KS5jYWxsKHAucHJvdG90eXBlKSxlKCIuL2VkaXRfc2Vzc2lvbi9mb2xkaW5nIikuRm9sZGluZy5jYWxsKHAucHJvdG90eXBlKSxlKCIuL2VkaXRfc2Vzc2lvbi9icmFja2V0X21hdGNoIikuQnJhY2tldE1hdGNoLmNhbGwocC5wcm90b3R5cGUpLHMuZGVmaW5lT3B0aW9ucyhwLnByb3RvdHlwZSwic2Vzc2lvbiIse3dyYXA6e3NldDpmdW5jdGlvbihlKXtpZihlJiYib2ZmIiE9ZT8iZnJlZSI9PWU/ZT0hMDoicHJpbnRNYXJnaW4iPT1lP2U9LTE6InN0cmluZyI9PXR5cGVvZiBlJiYoZT1wYXJzZUludChlLDEwKXx8ITEpOmU9ITEsdGhpcy4kd3JhcCE9ZSl7aWYoZSl7dmFyIHQ9Im51bWJlciI9PXR5cGVvZiBlP2U6bnVsbDt0aGlzLnNldFdyYXBMaW1pdFJhbmdlKHQsdCksdGhpcy5zZXRVc2VXcmFwTW9kZSghMCl9ZWxzZSB0aGlzLnNldFVzZVdyYXBNb2RlKCExKTt0aGlzLiR3cmFwPWV9fSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRVc2VXcmFwTW9kZSgpPy0xPT10aGlzLiR3cmFwPyJwcmludE1hcmdpbiI6dGhpcy5nZXRXcmFwTGltaXRSYW5nZSgpLm1pbj90aGlzLiR3cmFwOiJmcmVlIjoib2ZmIn0saGFuZGxlc1NldDohMH0sd3JhcE1ldGhvZDp7c2V0OmZ1bmN0aW9uKGUpe2U9ImF1dG8iPT1lPyJ0ZXh0IiE9dGhpcy4kbW9kZS50eXBlOiJ0ZXh0IiE9ZSxlIT10aGlzLiR3cmFwQXNDb2RlJiYodGhpcy4kd3JhcEFzQ29kZT1lLHRoaXMuJHVzZVdyYXBNb2RlJiYodGhpcy4kbW9kaWZpZWQ9ITAsdGhpcy4kcmVzZXRSb3dDYWNoZSgwKSx0aGlzLiR1cGRhdGVXcmFwRGF0YSgwLHRoaXMuZ2V0TGVuZ3RoKCktMSkpKX0saW5pdGlhbFZhbHVlOiJhdXRvIn0sZmlyc3RMaW5lTnVtYmVyOntzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9zaWduYWwoImNoYW5nZUJyZWFrcG9pbnQiKX0saW5pdGlhbFZhbHVlOjF9LHVzZVdvcmtlcjp7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuJHVzZVdvcmtlcj1lLHRoaXMuJHN0b3BXb3JrZXIoKSxlJiZ0aGlzLiRzdGFydFdvcmtlcigpfSxpbml0aWFsVmFsdWU6ITB9LHVzZVNvZnRUYWJzOntpbml0aWFsVmFsdWU6ITB9LHRhYlNpemU6e3NldDpmdW5jdGlvbihlKXtpc05hTihlKXx8dGhpcy4kdGFiU2l6ZT09PWV8fCh0aGlzLiRtb2RpZmllZD0hMCx0aGlzLiRyb3dMZW5ndGhDYWNoZT1bXSx0aGlzLiR0YWJTaXplPWUsdGhpcy5fc2lnbmFsKCJjaGFuZ2VUYWJTaXplIikpfSxpbml0aWFsVmFsdWU6NCxoYW5kbGVzU2V0OiEwfSxvdmVyd3JpdGU6e3NldDpmdW5jdGlvbigpe3RoaXMuX3NpZ25hbCgiY2hhbmdlT3ZlcndyaXRlIil9LGluaXRpYWxWYWx1ZTohMX0sbmV3TGluZU1vZGU6e3NldDpmdW5jdGlvbihlKXt0aGlzLmRvYy5zZXROZXdMaW5lTW9kZShlKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jLmdldE5ld0xpbmVNb2RlKCl9LGhhbmRsZXNTZXQ6ITB9LG1vZGU6e3NldDpmdW5jdGlvbihlKXt0aGlzLnNldE1vZGUoZSl9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRtb2RlSWR9fX0pLHQuRWRpdFNlc3Npb249cH0pLGRlZmluZSgiYWNlL2NvbW1hbmRzL2NvbW1hbmRfbWFuYWdlciIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL2tleWJvYXJkL2hhc2hfaGFuZGxlciIsImFjZS9saWIvZXZlbnRfZW1pdHRlciJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSgiLi4vbGliL29vcCIpLGk9ZSgiLi4va2V5Ym9hcmQvaGFzaF9oYW5kbGVyIikuSGFzaEhhbmRsZXIscz1lKCIuLi9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcixvPWZ1bmN0aW9uKGUsdCl7aS5jYWxsKHRoaXMsdCxlKSx0aGlzLmJ5TmFtZT10aGlzLmNvbW1hbmRzLHRoaXMuc2V0RGVmYXVsdEhhbmRsZXIoImV4ZWMiLGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbW1hbmQuZXhlYyhlLmVkaXRvcixlLmFyZ3N8fHt9KX0pfTtyLmluaGVyaXRzKG8saSksZnVuY3Rpb24oKXtyLmltcGxlbWVudCh0aGlzLHMpLHRoaXMuZXhlYz1mdW5jdGlvbihlLHQsbil7aWYoInN0cmluZyI9PXR5cGVvZiBlJiYoZT10aGlzLmNvbW1hbmRzW2VdKSwhZSlyZXR1cm4hMTtpZih0JiZ0LiRyZWFkT25seSYmIWUucmVhZE9ubHkpcmV0dXJuITE7dmFyIHI9e2VkaXRvcjp0LGNvbW1hbmQ6ZSxhcmdzOm59LGk9dGhpcy5fZW1pdCgiZXhlYyIscik7cmV0dXJuIHRoaXMuX3NpZ25hbCgiYWZ0ZXJFeGVjIixyKSxpPT09ITE/ITE6ITB9LHRoaXMudG9nZ2xlUmVjb3JkaW5nPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLiRpblJlcGxheT92b2lkIDA6KGUmJmUuX2VtaXQoImNoYW5nZVN0YXR1cyIpLHRoaXMucmVjb3JkaW5nPyh0aGlzLm1hY3JvLnBvcCgpLHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZXhlYyIsdGhpcy4kYWRkQ29tbWFuZFRvTWFjcm8pLHRoaXMubWFjcm8ubGVuZ3RofHwodGhpcy5tYWNybz10aGlzLm9sZE1hY3JvKSx0aGlzLnJlY29yZGluZz0hMSk6KHRoaXMuJGFkZENvbW1hbmRUb01hY3JvfHwodGhpcy4kYWRkQ29tbWFuZFRvTWFjcm89ZnVuY3Rpb24oZSl7dGhpcy5tYWNyby5wdXNoKFtlLmNvbW1hbmQsZS5hcmdzXSl9LmJpbmQodGhpcykpLHRoaXMub2xkTWFjcm89dGhpcy5tYWNybyx0aGlzLm1hY3JvPVtdLHRoaXMub24oImV4ZWMiLHRoaXMuJGFkZENvbW1hbmRUb01hY3JvKSx0aGlzLnJlY29yZGluZz0hMCkpfSx0aGlzLnJlcGxheT1mdW5jdGlvbihlKXtpZighdGhpcy4kaW5SZXBsYXkmJnRoaXMubWFjcm8pe2lmKHRoaXMucmVjb3JkaW5nKXJldHVybiB0aGlzLnRvZ2dsZVJlY29yZGluZyhlKTt0cnl7dGhpcy4kaW5SZXBsYXk9ITAsdGhpcy5tYWNyby5mb3JFYWNoKGZ1bmN0aW9uKHQpeyJzdHJpbmciPT10eXBlb2YgdD90aGlzLmV4ZWModCxlKTp0aGlzLmV4ZWModFswXSxlLHRbMV0pfSx0aGlzKX1maW5hbGx5e3RoaXMuJGluUmVwbGF5PSExfX19LHRoaXMudHJpbU1hY3JvPWZ1bmN0aW9uKGUpe3JldHVybiBlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGVbMF0mJihlWzBdPWVbMF0ubmFtZSksZVsxXXx8KGU9ZVswXSksZX0pfX0uY2FsbChvLnByb3RvdHlwZSksdC5Db21tYW5kTWFuYWdlcj1vfSksZGVmaW5lKCJhY2Uva2V5Ym9hcmQva2V5YmluZGluZyIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIva2V5cyIsImFjZS9saWIvZXZlbnQiXSxmdW5jdGlvbihlLHQpe3ZhciByPWUoIi4uL2xpYi9rZXlzIiksaT1lKCIuLi9saWIvZXZlbnQiKSxzPWZ1bmN0aW9uKGUpe3RoaXMuJGVkaXRvcj1lLHRoaXMuJGRhdGE9e30sdGhpcy4kaGFuZGxlcnM9W10sdGhpcy5zZXREZWZhdWx0SGFuZGxlcihlLmNvbW1hbmRzKX07KGZ1bmN0aW9uKCl7dGhpcy5zZXREZWZhdWx0SGFuZGxlcj1mdW5jdGlvbihlKXt0aGlzLnJlbW92ZUtleWJvYXJkSGFuZGxlcih0aGlzLiRkZWZhdWx0SGFuZGxlciksdGhpcy4kZGVmYXVsdEhhbmRsZXI9ZSx0aGlzLmFkZEtleWJvYXJkSGFuZGxlcihlLDApLHRoaXMuJGRhdGE9e2VkaXRvcjp0aGlzLiRlZGl0b3J9fSx0aGlzLnNldEtleWJvYXJkSGFuZGxlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLiRoYW5kbGVycztpZih0W3QubGVuZ3RoLTFdIT1lKXtmb3IoO3RbdC5sZW5ndGgtMV0mJnRbdC5sZW5ndGgtMV0hPXRoaXMuJGRlZmF1bHRIYW5kbGVyOyl0aGlzLnJlbW92ZUtleWJvYXJkSGFuZGxlcih0W3QubGVuZ3RoLTFdKTt0aGlzLmFkZEtleWJvYXJkSGFuZGxlcihlLDEpfX0sdGhpcy5hZGRLZXlib2FyZEhhbmRsZXI9ZnVuY3Rpb24oZSx0KXtpZihlKXsiZnVuY3Rpb24iPT10eXBlb2YgZSYmIWUuaGFuZGxlS2V5Ym9hcmQmJihlLmhhbmRsZUtleWJvYXJkPWUpO3ZhciBuPXRoaXMuJGhhbmRsZXJzLmluZGV4T2YoZSk7LTEhPW4mJnRoaXMuJGhhbmRsZXJzLnNwbGljZShuLDEpLHZvaWQgMD09dD90aGlzLiRoYW5kbGVycy5wdXNoKGUpOnRoaXMuJGhhbmRsZXJzLnNwbGljZSh0LDAsZSksLTE9PW4mJmUuYXR0YWNoJiZlLmF0dGFjaCh0aGlzLiRlZGl0b3IpfX0sdGhpcy5yZW1vdmVLZXlib2FyZEhhbmRsZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy4kaGFuZGxlcnMuaW5kZXhPZihlKTtyZXR1cm4tMT09dD8hMToodGhpcy4kaGFuZGxlcnMuc3BsaWNlKHQsMSksZS5kZXRhY2gmJmUuZGV0YWNoKHRoaXMuJGVkaXRvciksITApfSx0aGlzLmdldEtleWJvYXJkSGFuZGxlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRoYW5kbGVyc1t0aGlzLiRoYW5kbGVycy5sZW5ndGgtMV19LHRoaXMuJGNhbGxLZXlib2FyZEhhbmRsZXJzPWZ1bmN0aW9uKGUsdCxuLHIpe2Zvcih2YXIgcyxvPSExLHU9dGhpcy4kZWRpdG9yLmNvbW1hbmRzLGE9dGhpcy4kaGFuZGxlcnMubGVuZ3RoO2EtLSYmKHM9dGhpcy4kaGFuZGxlcnNbYV0uaGFuZGxlS2V5Ym9hcmQodGhpcy4kZGF0YSxlLHQsbixyKSwhKHMmJnMuY29tbWFuZCYmKG89Im51bGwiPT1zLmNvbW1hbmQ/ITA6dS5leGVjKHMuY29tbWFuZCx0aGlzLiRlZGl0b3Iscy5hcmdzLHIpLG8mJnImJi0xIT1lJiYxIT1zLnBhc3NFdmVudCYmMSE9cy5jb21tYW5kLnBhc3NFdmVudCYmaS5zdG9wRXZlbnQociksbykpKTspO3JldHVybiBvfSx0aGlzLm9uQ29tbWFuZEtleT1mdW5jdGlvbihlLHQsbil7dmFyIGk9ci5rZXlDb2RlVG9TdHJpbmcobik7dGhpcy4kY2FsbEtleWJvYXJkSGFuZGxlcnModCxpLG4sZSl9LHRoaXMub25UZXh0SW5wdXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy4kY2FsbEtleWJvYXJkSGFuZGxlcnMoLTEsZSk7dHx8dGhpcy4kZWRpdG9yLmNvbW1hbmRzLmV4ZWMoImluc2VydHN0cmluZyIsdGhpcy4kZWRpdG9yLGUpfX0pLmNhbGwocy5wcm90b3R5cGUpLHQuS2V5QmluZGluZz1zfSksZGVmaW5lKCJhY2Uva2V5Ym9hcmQvaGFzaF9oYW5kbGVyIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9rZXlzIiwiYWNlL2xpYi91c2VyYWdlbnQiXSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHMoZSx0KXtpZih0aGlzLnBsYXRmb3JtPXR8fChpLmlzTWFjPyJtYWMiOiJ3aW4iKSx0aGlzLmNvbW1hbmRzPXt9LHRoaXMuY29tbWFuZEtleUJpbmRpbmc9e30sdGhpcy5fX2RlZmluZUdldHRlcl9fJiZ0aGlzLl9fZGVmaW5lU2V0dGVyX18mJiJ1bmRlZmluZWQiIT10eXBlb2YgY29uc29sZSYmY29uc29sZS5lcnJvcil7dmFyIG49ITEscj1mdW5jdGlvbigpe258fChuPSEwLGNvbnNvbGUuZXJyb3IoImNvbW1tYW5kS2V5QmluZGluZyBoYXMgdG9vIG1hbnkgbSdzLiB1c2UgY29tbWFuZEtleUJpbmRpbmciKSl9O3RoaXMuX19kZWZpbmVHZXR0ZXJfXygiY29tbW1hbmRLZXlCaW5kaW5nIixmdW5jdGlvbigpe3JldHVybiByKCksdGhpcy5jb21tYW5kS2V5QmluZGluZ30pLHRoaXMuX19kZWZpbmVTZXR0ZXJfXygiY29tbW1hbmRLZXlCaW5kaW5nIixmdW5jdGlvbihlKXtyZXR1cm4gcigpLHRoaXMuY29tbWFuZEtleUJpbmRpbmc9ZX0pfWVsc2UgdGhpcy5jb21tbWFuZEtleUJpbmRpbmc9dGhpcy5jb21tYW5kS2V5QmluZGluZzt0aGlzLmFkZENvbW1hbmRzKGUpfXZhciByPWUoIi4uL2xpYi9rZXlzIiksaT1lKCIuLi9saWIvdXNlcmFnZW50Iik7KGZ1bmN0aW9uKCl7dGhpcy5hZGRDb21tYW5kPWZ1bmN0aW9uKGUpe3RoaXMuY29tbWFuZHNbZS5uYW1lXSYmdGhpcy5yZW1vdmVDb21tYW5kKGUpLHRoaXMuY29tbWFuZHNbZS5uYW1lXT1lLGUuYmluZEtleSYmdGhpcy5fYnVpbGRLZXlIYXNoKGUpfSx0aGlzLnJlbW92ZUNvbW1hbmQ9ZnVuY3Rpb24oZSl7dmFyIHQ9InN0cmluZyI9PXR5cGVvZiBlP2U6ZS5uYW1lO2U9dGhpcy5jb21tYW5kc1t0XSxkZWxldGUgdGhpcy5jb21tYW5kc1t0XTt2YXIgbj10aGlzLmNvbW1hbmRLZXlCaW5kaW5nO2Zvcih2YXIgciBpbiBuKWZvcih2YXIgaSBpbiBuW3JdKW5bcl1baV09PWUmJmRlbGV0ZSBuW3JdW2ldfSx0aGlzLmJpbmRLZXk9ZnVuY3Rpb24oZSx0KXtpZihlKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgdClyZXR1cm4gdm9pZCB0aGlzLmFkZENvbW1hbmQoe2V4ZWM6dCxiaW5kS2V5OmUsbmFtZTp0Lm5hbWV8fGV9KTt2YXIgbj10aGlzLmNvbW1hbmRLZXlCaW5kaW5nO2Uuc3BsaXQoInwiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXRoaXMucGFyc2VLZXlzKGUsdCksaT1yLmhhc2hJZDsobltpXXx8KG5baV09e30pKVtyLmtleV09dH0sdGhpcyl9fSx0aGlzLmFkZENvbW1hbmRzPWZ1bmN0aW9uKGUpe2UmJk9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG49ZVt0XTtpZihuKXtpZigic3RyaW5nIj09dHlwZW9mIG4pcmV0dXJuIHRoaXMuYmluZEtleShuLHQpOyJmdW5jdGlvbiI9PXR5cGVvZiBuJiYobj17ZXhlYzpufSksIm9iamVjdCI9PXR5cGVvZiBuJiYobi5uYW1lfHwobi5uYW1lPXQpLHRoaXMuYWRkQ29tbWFuZChuKSl9fSx0aGlzKX0sdGhpcy5yZW1vdmVDb21tYW5kcz1mdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3RoaXMucmVtb3ZlQ29tbWFuZChlW3RdKX0sdGhpcyl9LHRoaXMuYmluZEtleXM9ZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbih0KXt0aGlzLmJpbmRLZXkodCxlW3RdKX0sdGhpcyl9LHRoaXMuX2J1aWxkS2V5SGFzaD1mdW5jdGlvbihlKXt2YXIgdD1lLmJpbmRLZXk7aWYodCl7dmFyIG49InN0cmluZyI9PXR5cGVvZiB0P3Q6dFt0aGlzLnBsYXRmb3JtXTt0aGlzLmJpbmRLZXkobixlKX19LHRoaXMucGFyc2VLZXlzPWZ1bmN0aW9uKGUpey0xIT1lLmluZGV4T2YoIiAiKSYmKGU9ZS5zcGxpdCgvXHMrLykucG9wKCkpO3ZhciB0PWUudG9Mb3dlckNhc2UoKS5zcGxpdCgvW1wtXCtdKFtcLVwrXSk/LykuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlfSksbj10LnBvcCgpLGk9cltuXTtpZihyLkZVTkNUSU9OX0tFWVNbaV0pbj1yLkZVTkNUSU9OX0tFWVNbaV0udG9Mb3dlckNhc2UoKTtlbHNle2lmKCF0Lmxlbmd0aClyZXR1cm57a2V5Om4saGFzaElkOi0xfTtpZigxPT10Lmxlbmd0aCYmInNoaWZ0Ij09dFswXSlyZXR1cm57a2V5Om4udG9VcHBlckNhc2UoKSxoYXNoSWQ6LTF9fWZvcih2YXIgcz0wLG89dC5sZW5ndGg7by0tOyl7dmFyIHU9ci5LRVlfTU9EU1t0W29dXTtpZihudWxsPT11KXJldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgY29uc29sZSYmY29uc29sZS5lcnJvcigiaW52YWxpZCBtb2RpZmllciAiK3Rbb10rIiBpbiAiK2UpLCExO3N8PXV9cmV0dXJue2tleTpuLGhhc2hJZDpzfX0sdGhpcy5maW5kS2V5Q29tbWFuZD1mdW5jdGlvbih0LG4pe3ZhciByPXRoaXMuY29tbWFuZEtleUJpbmRpbmc7cmV0dXJuIHJbdF0mJnJbdF1bbl19LHRoaXMuaGFuZGxlS2V5Ym9hcmQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybntjb21tYW5kOnRoaXMuZmluZEtleUNvbW1hbmQodCxuKX19fSkuY2FsbChzLnByb3RvdHlwZSksdC5IYXNoSGFuZGxlcj1zfSksZGVmaW5lKCJhY2UvbW91c2UvZm9sZF9oYW5kbGVyIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKGUpe2Uub24oImNsaWNrIixmdW5jdGlvbih0KXt2YXIgbj10LmdldERvY3VtZW50UG9zaXRpb24oKSxyPWUuc2Vzc2lvbixpPXIuZ2V0Rm9sZEF0KG4ucm93LG4uY29sdW1uLDEpO2kmJih0LmdldEFjY2VsS2V5KCk/ci5yZW1vdmVGb2xkKGkpOnIuZXhwYW5kRm9sZChpKSx0LnN0b3AoKSl9KSxlLm9uKCJndXR0ZXJjbGljayIsZnVuY3Rpb24odCl7dmFyIG49ZS5yZW5kZXJlci4kZ3V0dGVyTGF5ZXIuZ2V0UmVnaW9uKHQpO2lmKCJmb2xkV2lkZ2V0cyI9PW4pe3ZhciByPXQuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLnJvdyxpPWUuc2Vzc2lvbjtpLmZvbGRXaWRnZXRzJiZpLmZvbGRXaWRnZXRzW3JdJiZlLnNlc3Npb24ub25Gb2xkV2lkZ2V0Q2xpY2socix0KSxlLmlzRm9jdXNlZCgpfHxlLmZvY3VzKCksdC5zdG9wKCl9fSksZS5vbigiZ3V0dGVyZGJsY2xpY2siLGZ1bmN0aW9uKHQpe3ZhciBuPWUucmVuZGVyZXIuJGd1dHRlckxheWVyLmdldFJlZ2lvbih0KTtpZigiZm9sZFdpZGdldHMiPT1uKXt2YXIgcj10LmdldERvY3VtZW50UG9zaXRpb24oKS5yb3csaT1lLnNlc3Npb24scz1pLmdldFBhcmVudEZvbGRSYW5nZURhdGEociwhMCksbz1zLnJhbmdlfHxzLmZpcnN0UmFuZ2U7aWYobyl7cj1vLnN0YXJ0LnJvdzt2YXIgdT1pLmdldEZvbGRBdChyLGkuZ2V0TGluZShyKS5sZW5ndGgsMSk7dT9pLnJlbW92ZUZvbGQodSk6KGkuYWRkRm9sZCgiLi4uIixvKSxlLnJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KHtyb3c6by5zdGFydC5yb3csY29sdW1uOjB9KSl9dC5zdG9wKCl9fSl9dC5Gb2xkSGFuZGxlcj1yfSksZGVmaW5lKCJhY2UvY29tbWFuZHMvZGVmYXVsdF9jb21tYW5kcyIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvbGFuZyIsImFjZS9jb25maWciXSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHMoZSx0KXtyZXR1cm57d2luOmUsbWFjOnR9fXZhciByPWUoIi4uL2xpYi9sYW5nIiksaT1lKCIuLi9jb25maWciKTt0LmNvbW1hbmRzPVt7bmFtZToic2hvd1NldHRpbmdzTWVudSIsYmluZEtleTpzKCJDdHJsLSwiLCJDb21tYW5kLSwiKSxleGVjOmZ1bmN0aW9uKGUpe2kubG9hZE1vZHVsZSgiYWNlL2V4dC9zZXR0aW5nc19tZW51IixmdW5jdGlvbih0KXt0LmluaXQoZSksZS5zaG93U2V0dGluZ3NNZW51KCl9KX0scmVhZE9ubHk6ITB9LHtuYW1lOiJnb1RvTmV4dEVycm9yIixiaW5kS2V5OnMoIkFsdC1FIiwiQ3RybC1FIiksZXhlYzpmdW5jdGlvbihlKXtpLmxvYWRNb2R1bGUoImFjZS9leHQvZXJyb3JfbWFya2VyIixmdW5jdGlvbih0KXt0LnNob3dFcnJvck1hcmtlcihlLDEpfSl9LHNjcm9sbEludG9WaWV3OiJhbmltYXRlIixyZWFkT25seTohMH0se25hbWU6ImdvVG9QcmV2aW91c0Vycm9yIixiaW5kS2V5OnMoIkFsdC1TaGlmdC1FIiwiQ3RybC1TaGlmdC1FIiksZXhlYzpmdW5jdGlvbihlKXtpLmxvYWRNb2R1bGUoImFjZS9leHQvZXJyb3JfbWFya2VyIixmdW5jdGlvbih0KXt0LnNob3dFcnJvck1hcmtlcihlLC0xKX0pfSxzY3JvbGxJbnRvVmlldzoiYW5pbWF0ZSIscmVhZE9ubHk6ITB9LHtuYW1lOiJzZWxlY3RhbGwiLGJpbmRLZXk6cygiQ3RybC1BIiwiQ29tbWFuZC1BIiksZXhlYzpmdW5jdGlvbihlKXtlLnNlbGVjdEFsbCgpfSxyZWFkT25seTohMH0se25hbWU6ImNlbnRlcnNlbGVjdGlvbiIsYmluZEtleTpzKG51bGwsIkN0cmwtTCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5jZW50ZXJTZWxlY3Rpb24oKX0scmVhZE9ubHk6ITB9LHtuYW1lOiJnb3RvbGluZSIsYmluZEtleTpzKCJDdHJsLUwiLCJDb21tYW5kLUwiKSxleGVjOmZ1bmN0aW9uKGUpe3ZhciB0PXBhcnNlSW50KHByb21wdCgiRW50ZXIgbGluZSBudW1iZXI6IiksMTApO2lzTmFOKHQpfHxlLmdvdG9MaW5lKHQpfSxyZWFkT25seTohMH0se25hbWU6ImZvbGQiLGJpbmRLZXk6cygiQWx0LUx8Q3RybC1GMSIsIkNvbW1hbmQtQWx0LUx8Q29tbWFuZC1GMSIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zZXNzaW9uLnRvZ2dsZUZvbGQoITEpfSxzY3JvbGxJbnRvVmlldzoiY2VudGVyIixyZWFkT25seTohMH0se25hbWU6InVuZm9sZCIsYmluZEtleTpzKCJBbHQtU2hpZnQtTHxDdHJsLVNoaWZ0LUYxIiwiQ29tbWFuZC1BbHQtU2hpZnQtTHxDb21tYW5kLVNoaWZ0LUYxIiksZXhlYzpmdW5jdGlvbihlKXtlLnNlc3Npb24udG9nZ2xlRm9sZCghMCl9LHNjcm9sbEludG9WaWV3OiJjZW50ZXIiLHJlYWRPbmx5OiEwfSx7bmFtZToidG9nZ2xlRm9sZFdpZGdldCIsYmluZEtleTpzKCJGMiIsIkYyIiksZXhlYzpmdW5jdGlvbihlKXtlLnNlc3Npb24udG9nZ2xlRm9sZFdpZGdldCgpfSxzY3JvbGxJbnRvVmlldzoiY2VudGVyIixyZWFkT25seTohMH0se25hbWU6InRvZ2dsZVBhcmVudEZvbGRXaWRnZXQiLGJpbmRLZXk6cygiQWx0LUYyIiwiQWx0LUYyIiksZXhlYzpmdW5jdGlvbihlKXtlLnNlc3Npb24udG9nZ2xlRm9sZFdpZGdldCghMCl9LHNjcm9sbEludG9WaWV3OiJjZW50ZXIiLHJlYWRPbmx5OiEwfSx7bmFtZToiZm9sZGFsbCIsYmluZEtleTpzKCJDdHJsLUFsdC0wIiwiQ3RybC1Db21tYW5kLU9wdGlvbi0wIiksZXhlYzpmdW5jdGlvbihlKXtlLnNlc3Npb24uZm9sZEFsbCgpfSxzY3JvbGxJbnRvVmlldzoiY2VudGVyIixyZWFkT25seTohMH0se25hbWU6ImZvbGRPdGhlciIsYmluZEtleTpzKCJBbHQtMCIsIkNvbW1hbmQtT3B0aW9uLTAiKSxleGVjOmZ1bmN0aW9uKGUpe2Uuc2Vzc2lvbi5mb2xkQWxsKCksZS5zZXNzaW9uLnVuZm9sZChlLnNlbGVjdGlvbi5nZXRBbGxSYW5nZXMoKSl9LHNjcm9sbEludG9WaWV3OiJjZW50ZXIiLHJlYWRPbmx5OiEwfSx7bmFtZToidW5mb2xkYWxsIixiaW5kS2V5OnMoIkFsdC1TaGlmdC0wIiwiQ29tbWFuZC1PcHRpb24tU2hpZnQtMCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zZXNzaW9uLnVuZm9sZCgpfSxzY3JvbGxJbnRvVmlldzoiY2VudGVyIixyZWFkT25seTohMH0se25hbWU6ImZpbmRuZXh0IixiaW5kS2V5OnMoIkN0cmwtSyIsIkNvbW1hbmQtRyIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5maW5kTmV4dCgpfSxyZWFkT25seTohMH0se25hbWU6ImZpbmRwcmV2aW91cyIsYmluZEtleTpzKCJDdHJsLVNoaWZ0LUsiLCJDb21tYW5kLVNoaWZ0LUciKSxleGVjOmZ1bmN0aW9uKGUpe2UuZmluZFByZXZpb3VzKCl9LHJlYWRPbmx5OiEwfSx7bmFtZToic2VsZWN0T3JGaW5kTmV4dCIsYmluZEtleTpzKCJBTHQtSyIsIkN0cmwtRyIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zZWxlY3Rpb24uaXNFbXB0eSgpP2Uuc2VsZWN0aW9uLnNlbGVjdFdvcmQoKTplLmZpbmROZXh0KCl9LHJlYWRPbmx5OiEwfSx7bmFtZToic2VsZWN0T3JGaW5kUHJldmlvdXMiLGJpbmRLZXk6cygiQWx0LVNoaWZ0LUsiLCJDdHJsLVNoaWZ0LUciKSxleGVjOmZ1bmN0aW9uKGUpe2Uuc2VsZWN0aW9uLmlzRW1wdHkoKT9lLnNlbGVjdGlvbi5zZWxlY3RXb3JkKCk6ZS5maW5kUHJldmlvdXMoKX0scmVhZE9ubHk6ITB9LHtuYW1lOiJmaW5kIixiaW5kS2V5OnMoIkN0cmwtRiIsIkNvbW1hbmQtRiIpLGV4ZWM6ZnVuY3Rpb24oZSl7aS5sb2FkTW9kdWxlKCJhY2UvZXh0L3NlYXJjaGJveCIsZnVuY3Rpb24odCl7dC5TZWFyY2goZSl9KX0scmVhZE9ubHk6ITB9LHtuYW1lOiJvdmVyd3JpdGUiLGJpbmRLZXk6Ikluc2VydCIsZXhlYzpmdW5jdGlvbihlKXtlLnRvZ2dsZU92ZXJ3cml0ZSgpfSxyZWFkT25seTohMH0se25hbWU6InNlbGVjdHRvc3RhcnQiLGJpbmRLZXk6cygiQ3RybC1TaGlmdC1Ib21lIiwiQ29tbWFuZC1TaGlmdC1VcCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RGaWxlU3RhcnQoKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHJlYWRPbmx5OiEwLHNjcm9sbEludG9WaWV3OiJhbmltYXRlIixhY2VDb21tYW5kR3JvdXA6ImZpbGVKdW1wIn0se25hbWU6ImdvdG9zdGFydCIsYmluZEtleTpzKCJDdHJsLUhvbWUiLCJDb21tYW5kLUhvbWV8Q29tbWFuZC1VcCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5uYXZpZ2F0ZUZpbGVTdGFydCgpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaCIscmVhZE9ubHk6ITAsc2Nyb2xsSW50b1ZpZXc6ImFuaW1hdGUiLGFjZUNvbW1hbmRHcm91cDoiZmlsZUp1bXAifSx7bmFtZToic2VsZWN0dXAiLGJpbmRLZXk6cygiU2hpZnQtVXAiLCJTaGlmdC1VcCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RVcCgpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaCIscmVhZE9ubHk6ITB9LHtuYW1lOiJnb2xpbmV1cCIsYmluZEtleTpzKCJVcCIsIlVwfEN0cmwtUCIpLGV4ZWM6ZnVuY3Rpb24oZSx0KXtlLm5hdmlnYXRlVXAodC50aW1lcyl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixyZWFkT25seTohMH0se25hbWU6InNlbGVjdHRvZW5kIixiaW5kS2V5OnMoIkN0cmwtU2hpZnQtRW5kIiwiQ29tbWFuZC1TaGlmdC1Eb3duIiksZXhlYzpmdW5jdGlvbihlKXtlLmdldFNlbGVjdGlvbigpLnNlbGVjdEZpbGVFbmQoKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHJlYWRPbmx5OiEwLHNjcm9sbEludG9WaWV3OiJhbmltYXRlIixhY2VDb21tYW5kR3JvdXA6ImZpbGVKdW1wIn0se25hbWU6ImdvdG9lbmQiLGJpbmRLZXk6cygiQ3RybC1FbmQiLCJDb21tYW5kLUVuZHxDb21tYW5kLURvd24iKSxleGVjOmZ1bmN0aW9uKGUpe2UubmF2aWdhdGVGaWxlRW5kKCl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixyZWFkT25seTohMCxzY3JvbGxJbnRvVmlldzoiYW5pbWF0ZSIsYWNlQ29tbWFuZEdyb3VwOiJmaWxlSnVtcCJ9LHtuYW1lOiJzZWxlY3Rkb3duIixiaW5kS2V5OnMoIlNoaWZ0LURvd24iLCJTaGlmdC1Eb3duIiksZXhlYzpmdW5jdGlvbihlKXtlLmdldFNlbGVjdGlvbigpLnNlbGVjdERvd24oKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHNjcm9sbEludG9WaWV3OiJjdXJzb3IiLHJlYWRPbmx5OiEwfSx7bmFtZToiZ29saW5lZG93biIsYmluZEtleTpzKCJEb3duIiwiRG93bnxDdHJsLU4iKSxleGVjOmZ1bmN0aW9uKGUsdCl7ZS5uYXZpZ2F0ZURvd24odC50aW1lcyl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixzY3JvbGxJbnRvVmlldzoiY3Vyc29yIixyZWFkT25seTohMH0se25hbWU6InNlbGVjdHdvcmRsZWZ0IixiaW5kS2V5OnMoIkN0cmwtU2hpZnQtTGVmdCIsIk9wdGlvbi1TaGlmdC1MZWZ0IiksZXhlYzpmdW5jdGlvbihlKXtlLmdldFNlbGVjdGlvbigpLnNlbGVjdFdvcmRMZWZ0KCl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixzY3JvbGxJbnRvVmlldzoiY3Vyc29yIixyZWFkT25seTohMH0se25hbWU6ImdvdG93b3JkbGVmdCIsYmluZEtleTpzKCJDdHJsLUxlZnQiLCJPcHRpb24tTGVmdCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5uYXZpZ2F0ZVdvcmRMZWZ0KCl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixzY3JvbGxJbnRvVmlldzoiY3Vyc29yIixyZWFkT25seTohMH0se25hbWU6InNlbGVjdHRvbGluZXN0YXJ0IixiaW5kS2V5OnMoIkFsdC1TaGlmdC1MZWZ0IiwiQ29tbWFuZC1TaGlmdC1MZWZ0IiksZXhlYzpmdW5jdGlvbihlKXtlLmdldFNlbGVjdGlvbigpLnNlbGVjdExpbmVTdGFydCgpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaCIsc2Nyb2xsSW50b1ZpZXc6ImN1cnNvciIscmVhZE9ubHk6ITB9LHtuYW1lOiJnb3RvbGluZXN0YXJ0IixiaW5kS2V5OnMoIkFsdC1MZWZ0fEhvbWUiLCJDb21tYW5kLUxlZnR8SG9tZXxDdHJsLUEiKSxleGVjOmZ1bmN0aW9uKGUpe2UubmF2aWdhdGVMaW5lU3RhcnQoKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHNjcm9sbEludG9WaWV3OiJjdXJzb3IiLHJlYWRPbmx5OiEwfSx7bmFtZToic2VsZWN0bGVmdCIsYmluZEtleTpzKCJTaGlmdC1MZWZ0IiwiU2hpZnQtTGVmdCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RMZWZ0KCl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixzY3JvbGxJbnRvVmlldzoiY3Vyc29yIixyZWFkT25seTohMH0se25hbWU6ImdvdG9sZWZ0IixiaW5kS2V5OnMoIkxlZnQiLCJMZWZ0fEN0cmwtQiIpLGV4ZWM6ZnVuY3Rpb24oZSx0KXtlLm5hdmlnYXRlTGVmdCh0LnRpbWVzKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHNjcm9sbEludG9WaWV3OiJjdXJzb3IiLHJlYWRPbmx5OiEwfSx7bmFtZToic2VsZWN0d29yZHJpZ2h0IixiaW5kS2V5OnMoIkN0cmwtU2hpZnQtUmlnaHQiLCJPcHRpb24tU2hpZnQtUmlnaHQiKSxleGVjOmZ1bmN0aW9uKGUpe2UuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0V29yZFJpZ2h0KCl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixzY3JvbGxJbnRvVmlldzoiY3Vyc29yIixyZWFkT25seTohMH0se25hbWU6ImdvdG93b3JkcmlnaHQiLGJpbmRLZXk6cygiQ3RybC1SaWdodCIsIk9wdGlvbi1SaWdodCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5uYXZpZ2F0ZVdvcmRSaWdodCgpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaCIsc2Nyb2xsSW50b1ZpZXc6ImN1cnNvciIscmVhZE9ubHk6ITB9LHtuYW1lOiJzZWxlY3R0b2xpbmVlbmQiLGJpbmRLZXk6cygiQWx0LVNoaWZ0LVJpZ2h0IiwiQ29tbWFuZC1TaGlmdC1SaWdodCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RMaW5lRW5kKCl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixzY3JvbGxJbnRvVmlldzoiY3Vyc29yIixyZWFkT25seTohMH0se25hbWU6ImdvdG9saW5lZW5kIixiaW5kS2V5OnMoIkFsdC1SaWdodHxFbmQiLCJDb21tYW5kLVJpZ2h0fEVuZHxDdHJsLUUiKSxleGVjOmZ1bmN0aW9uKGUpe2UubmF2aWdhdGVMaW5lRW5kKCl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixzY3JvbGxJbnRvVmlldzoiY3Vyc29yIixyZWFkT25seTohMH0se25hbWU6InNlbGVjdHJpZ2h0IixiaW5kS2V5OnMoIlNoaWZ0LVJpZ2h0IiwiU2hpZnQtUmlnaHQiKSxleGVjOmZ1bmN0aW9uKGUpe2UuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmlnaHQoKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHNjcm9sbEludG9WaWV3OiJjdXJzb3IiLHJlYWRPbmx5OiEwfSx7bmFtZToiZ290b3JpZ2h0IixiaW5kS2V5OnMoIlJpZ2h0IiwiUmlnaHR8Q3RybC1GIiksZXhlYzpmdW5jdGlvbihlLHQpe2UubmF2aWdhdGVSaWdodCh0LnRpbWVzKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHNjcm9sbEludG9WaWV3OiJjdXJzb3IiLHJlYWRPbmx5OiEwfSx7bmFtZToic2VsZWN0cGFnZWRvd24iLGJpbmRLZXk6IlNoaWZ0LVBhZ2VEb3duIixleGVjOmZ1bmN0aW9uKGUpe2Uuc2VsZWN0UGFnZURvd24oKX0scmVhZE9ubHk6ITB9LHtuYW1lOiJwYWdlZG93biIsYmluZEtleTpzKG51bGwsIk9wdGlvbi1QYWdlRG93biIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zY3JvbGxQYWdlRG93bigpfSxyZWFkT25seTohMH0se25hbWU6ImdvdG9wYWdlZG93biIsYmluZEtleTpzKCJQYWdlRG93biIsIlBhZ2VEb3dufEN0cmwtViIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5nb3RvUGFnZURvd24oKX0scmVhZE9ubHk6ITB9LHtuYW1lOiJzZWxlY3RwYWdldXAiLGJpbmRLZXk6IlNoaWZ0LVBhZ2VVcCIsZXhlYzpmdW5jdGlvbihlKXtlLnNlbGVjdFBhZ2VVcCgpfSxyZWFkT25seTohMH0se25hbWU6InBhZ2V1cCIsYmluZEtleTpzKG51bGwsIk9wdGlvbi1QYWdlVXAiKSxleGVjOmZ1bmN0aW9uKGUpe2Uuc2Nyb2xsUGFnZVVwKCl9LHJlYWRPbmx5OiEwfSx7bmFtZToiZ290b3BhZ2V1cCIsYmluZEtleToiUGFnZVVwIixleGVjOmZ1bmN0aW9uKGUpe2UuZ290b1BhZ2VVcCgpfSxyZWFkT25seTohMH0se25hbWU6InNjcm9sbHVwIixiaW5kS2V5OnMoIkN0cmwtVXAiLG51bGwpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5yZW5kZXJlci5zY3JvbGxCeSgwLC0yKmUucmVuZGVyZXIubGF5ZXJDb25maWcubGluZUhlaWdodCl9LHJlYWRPbmx5OiEwfSx7bmFtZToic2Nyb2xsZG93biIsYmluZEtleTpzKCJDdHJsLURvd24iLG51bGwpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5yZW5kZXJlci5zY3JvbGxCeSgwLDIqZS5yZW5kZXJlci5sYXllckNvbmZpZy5saW5lSGVpZ2h0KX0scmVhZE9ubHk6ITB9LHtuYW1lOiJzZWxlY3RsaW5lc3RhcnQiLGJpbmRLZXk6IlNoaWZ0LUhvbWUiLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RMaW5lU3RhcnQoKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHNjcm9sbEludG9WaWV3OiJjdXJzb3IiLHJlYWRPbmx5OiEwfSx7bmFtZToic2VsZWN0bGluZWVuZCIsYmluZEtleToiU2hpZnQtRW5kIixleGVjOmZ1bmN0aW9uKGUpe2UuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0TGluZUVuZCgpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaCIsc2Nyb2xsSW50b1ZpZXc6ImN1cnNvciIscmVhZE9ubHk6ITB9LHtuYW1lOiJ0b2dnbGVyZWNvcmRpbmciLGJpbmRLZXk6cygiQ3RybC1BbHQtRSIsIkNvbW1hbmQtT3B0aW9uLUUiKSxleGVjOmZ1bmN0aW9uKGUpe2UuY29tbWFuZHMudG9nZ2xlUmVjb3JkaW5nKGUpfSxyZWFkT25seTohMH0se25hbWU6InJlcGxheW1hY3JvIixiaW5kS2V5OnMoIkN0cmwtU2hpZnQtRSIsIkNvbW1hbmQtU2hpZnQtRSIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5jb21tYW5kcy5yZXBsYXkoZSkKfSxyZWFkT25seTohMH0se25hbWU6Imp1bXB0b21hdGNoaW5nIixiaW5kS2V5OnMoIkN0cmwtUCIsIkN0cmwtU2hpZnQtUCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5qdW1wVG9NYXRjaGluZygpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaCIscmVhZE9ubHk6ITB9LHtuYW1lOiJzZWxlY3R0b21hdGNoaW5nIixiaW5kS2V5OnMoIkN0cmwtU2hpZnQtUCIsbnVsbCksZXhlYzpmdW5jdGlvbihlKXtlLmp1bXBUb01hdGNoaW5nKCEwKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHJlYWRPbmx5OiEwfSx7bmFtZToiY3V0IixleGVjOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtlLl9lbWl0KCJjdXQiLHQpLGUuc2VsZWN0aW9uLmlzRW1wdHkoKXx8KGUuc2Vzc2lvbi5yZW1vdmUodCksZS5jbGVhclNlbGVjdGlvbigpKX0sc2Nyb2xsSW50b1ZpZXc6ImN1cnNvciIsbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2gifSx7bmFtZToicmVtb3ZlbGluZSIsYmluZEtleTpzKCJDdHJsLUQiLCJDb21tYW5kLUQiKSxleGVjOmZ1bmN0aW9uKGUpe2UucmVtb3ZlTGluZXMoKX0sc2Nyb2xsSW50b1ZpZXc6ImN1cnNvciIsbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2hMaW5lIn0se25hbWU6ImR1cGxpY2F0ZVNlbGVjdGlvbiIsYmluZEtleTpzKCJDdHJsLVNoaWZ0LUQiLCJDb21tYW5kLVNoaWZ0LUQiKSxleGVjOmZ1bmN0aW9uKGUpe2UuZHVwbGljYXRlU2VsZWN0aW9uKCl9LHNjcm9sbEludG9WaWV3OiJjdXJzb3IiLG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIn0se25hbWU6InNvcnRsaW5lcyIsYmluZEtleTpzKCJDdHJsLUFsdC1TIiwiQ29tbWFuZC1BbHQtUyIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zb3J0TGluZXMoKX0sc2Nyb2xsSW50b1ZpZXc6InNlbGVjdGlvbiIsbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2hMaW5lIn0se25hbWU6InRvZ2dsZWNvbW1lbnQiLGJpbmRLZXk6cygiQ3RybC0vIiwiQ29tbWFuZC0vIiksZXhlYzpmdW5jdGlvbihlKXtlLnRvZ2dsZUNvbW1lbnRMaW5lcygpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaExpbmUiLHNjcm9sbEludG9WaWV3OiJzZWxlY3Rpb25QYXJ0In0se25hbWU6InRvZ2dsZUJsb2NrQ29tbWVudCIsYmluZEtleTpzKCJDdHJsLVNoaWZ0LS8iLCJDb21tYW5kLVNoaWZ0LS8iKSxleGVjOmZ1bmN0aW9uKGUpe2UudG9nZ2xlQmxvY2tDb21tZW50KCl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixzY3JvbGxJbnRvVmlldzoic2VsZWN0aW9uUGFydCJ9LHtuYW1lOiJtb2RpZnlOdW1iZXJVcCIsYmluZEtleTpzKCJDdHJsLVNoaWZ0LVVwIiwiQWx0LVNoaWZ0LVVwIiksZXhlYzpmdW5jdGlvbihlKXtlLm1vZGlmeU51bWJlcigxKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2gifSx7bmFtZToibW9kaWZ5TnVtYmVyRG93biIsYmluZEtleTpzKCJDdHJsLVNoaWZ0LURvd24iLCJBbHQtU2hpZnQtRG93biIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5tb2RpZnlOdW1iZXIoLTEpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaCJ9LHtuYW1lOiJyZXBsYWNlIixiaW5kS2V5OnMoIkN0cmwtSCIsIkNvbW1hbmQtT3B0aW9uLUYiKSxleGVjOmZ1bmN0aW9uKGUpe2kubG9hZE1vZHVsZSgiYWNlL2V4dC9zZWFyY2hib3giLGZ1bmN0aW9uKHQpe3QuU2VhcmNoKGUsITApfSl9fSx7bmFtZToidW5kbyIsYmluZEtleTpzKCJDdHJsLVoiLCJDb21tYW5kLVoiKSxleGVjOmZ1bmN0aW9uKGUpe2UudW5kbygpfX0se25hbWU6InJlZG8iLGJpbmRLZXk6cygiQ3RybC1TaGlmdC1afEN0cmwtWSIsIkNvbW1hbmQtU2hpZnQtWnxDb21tYW5kLVkiKSxleGVjOmZ1bmN0aW9uKGUpe2UucmVkbygpfX0se25hbWU6ImNvcHlsaW5lc3VwIixiaW5kS2V5OnMoIkFsdC1TaGlmdC1VcCIsIkNvbW1hbmQtT3B0aW9uLVVwIiksZXhlYzpmdW5jdGlvbihlKXtlLmNvcHlMaW5lc1VwKCl9LHNjcm9sbEludG9WaWV3OiJjdXJzb3IifSx7bmFtZToibW92ZWxpbmVzdXAiLGJpbmRLZXk6cygiQWx0LVVwIiwiT3B0aW9uLVVwIiksZXhlYzpmdW5jdGlvbihlKXtlLm1vdmVMaW5lc1VwKCl9LHNjcm9sbEludG9WaWV3OiJjdXJzb3IifSx7bmFtZToiY29weWxpbmVzZG93biIsYmluZEtleTpzKCJBbHQtU2hpZnQtRG93biIsIkNvbW1hbmQtT3B0aW9uLURvd24iKSxleGVjOmZ1bmN0aW9uKGUpe2UuY29weUxpbmVzRG93bigpfSxzY3JvbGxJbnRvVmlldzoiY3Vyc29yIn0se25hbWU6Im1vdmVsaW5lc2Rvd24iLGJpbmRLZXk6cygiQWx0LURvd24iLCJPcHRpb24tRG93biIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5tb3ZlTGluZXNEb3duKCl9LHNjcm9sbEludG9WaWV3OiJjdXJzb3IifSx7bmFtZToiZGVsIixiaW5kS2V5OnMoIkRlbGV0ZSIsIkRlbGV0ZXxDdHJsLUR8U2hpZnQtRGVsZXRlIiksZXhlYzpmdW5jdGlvbihlKXtlLnJlbW92ZSgicmlnaHQiKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHNjcm9sbEludG9WaWV3OiJjdXJzb3IifSx7bmFtZToiYmFja3NwYWNlIixiaW5kS2V5OnMoIlNoaWZ0LUJhY2tzcGFjZXxCYWNrc3BhY2UiLCJDdHJsLUJhY2tzcGFjZXxTaGlmdC1CYWNrc3BhY2V8QmFja3NwYWNlfEN0cmwtSCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5yZW1vdmUoImxlZnQiKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHNjcm9sbEludG9WaWV3OiJjdXJzb3IifSx7bmFtZToiY3V0X29yX2RlbGV0ZSIsYmluZEtleTpzKCJTaGlmdC1EZWxldGUiLG51bGwpLGV4ZWM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2VsZWN0aW9uLmlzRW1wdHkoKT92b2lkIGUucmVtb3ZlKCJsZWZ0Iik6ITF9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixzY3JvbGxJbnRvVmlldzoiY3Vyc29yIn0se25hbWU6InJlbW92ZXRvbGluZXN0YXJ0IixiaW5kS2V5OnMoIkFsdC1CYWNrc3BhY2UiLCJDb21tYW5kLUJhY2tzcGFjZSIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5yZW1vdmVUb0xpbmVTdGFydCgpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaCIsc2Nyb2xsSW50b1ZpZXc6ImN1cnNvciJ9LHtuYW1lOiJyZW1vdmV0b2xpbmVlbmQiLGJpbmRLZXk6cygiQWx0LURlbGV0ZSIsIkN0cmwtSyIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5yZW1vdmVUb0xpbmVFbmQoKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHNjcm9sbEludG9WaWV3OiJjdXJzb3IifSx7bmFtZToicmVtb3Zld29yZGxlZnQiLGJpbmRLZXk6cygiQ3RybC1CYWNrc3BhY2UiLCJBbHQtQmFja3NwYWNlfEN0cmwtQWx0LUJhY2tzcGFjZSIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5yZW1vdmVXb3JkTGVmdCgpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaCIsc2Nyb2xsSW50b1ZpZXc6ImN1cnNvciJ9LHtuYW1lOiJyZW1vdmV3b3JkcmlnaHQiLGJpbmRLZXk6cygiQ3RybC1EZWxldGUiLCJBbHQtRGVsZXRlIiksZXhlYzpmdW5jdGlvbihlKXtlLnJlbW92ZVdvcmRSaWdodCgpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaCIsc2Nyb2xsSW50b1ZpZXc6ImN1cnNvciJ9LHtuYW1lOiJvdXRkZW50IixiaW5kS2V5OnMoIlNoaWZ0LVRhYiIsIlNoaWZ0LVRhYiIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5ibG9ja091dGRlbnQoKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHNjcm9sbEludG9WaWV3OiJzZWxlY3Rpb25QYXJ0In0se25hbWU6ImluZGVudCIsYmluZEtleTpzKCJUYWIiLCJUYWIiKSxleGVjOmZ1bmN0aW9uKGUpe2UuaW5kZW50KCl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixzY3JvbGxJbnRvVmlldzoic2VsZWN0aW9uUGFydCJ9LHtuYW1lOiJibG9ja291dGRlbnQiLGJpbmRLZXk6cygiQ3RybC1bIiwiQ3RybC1bIiksZXhlYzpmdW5jdGlvbihlKXtlLmJsb2NrT3V0ZGVudCgpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaExpbmUiLHNjcm9sbEludG9WaWV3OiJzZWxlY3Rpb25QYXJ0In0se25hbWU6ImJsb2NraW5kZW50IixiaW5kS2V5OnMoIkN0cmwtXSIsIkN0cmwtXSIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5ibG9ja0luZGVudCgpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaExpbmUiLHNjcm9sbEludG9WaWV3OiJzZWxlY3Rpb25QYXJ0In0se25hbWU6Imluc2VydHN0cmluZyIsZXhlYzpmdW5jdGlvbihlLHQpe2UuaW5zZXJ0KHQpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaCIsc2Nyb2xsSW50b1ZpZXc6ImN1cnNvciJ9LHtuYW1lOiJpbnNlcnR0ZXh0IixleGVjOmZ1bmN0aW9uKGUsdCl7ZS5pbnNlcnQoci5zdHJpbmdSZXBlYXQodC50ZXh0fHwiIix0LnRpbWVzfHwxKSl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixzY3JvbGxJbnRvVmlldzoiY3Vyc29yIn0se25hbWU6InNwbGl0bGluZSIsYmluZEtleTpzKG51bGwsIkN0cmwtTyIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zcGxpdExpbmUoKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHNjcm9sbEludG9WaWV3OiJjdXJzb3IifSx7bmFtZToidHJhbnNwb3NlbGV0dGVycyIsYmluZEtleTpzKCJDdHJsLVQiLCJDdHJsLVQiKSxleGVjOmZ1bmN0aW9uKGUpe2UudHJhbnNwb3NlTGV0dGVycygpfSxtdWx0aVNlbGVjdEFjdGlvbjpmdW5jdGlvbihlKXtlLnRyYW5zcG9zZVNlbGVjdGlvbnMoMSl9LHNjcm9sbEludG9WaWV3OiJjdXJzb3IifSx7bmFtZToidG91cHBlcmNhc2UiLGJpbmRLZXk6cygiQ3RybC1VIiwiQ3RybC1VIiksZXhlYzpmdW5jdGlvbihlKXtlLnRvVXBwZXJDYXNlKCl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixzY3JvbGxJbnRvVmlldzoiY3Vyc29yIn0se25hbWU6InRvbG93ZXJjYXNlIixiaW5kS2V5OnMoIkN0cmwtU2hpZnQtVSIsIkN0cmwtU2hpZnQtVSIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS50b0xvd2VyQ2FzZSgpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaCIsc2Nyb2xsSW50b1ZpZXc6ImN1cnNvciJ9XX0pLGRlZmluZSgiYWNlL2xpYi9ldmVudF9lbWl0dGVyIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oZSx0KXt2YXIgcj17fSxpPWZ1bmN0aW9uKCl7dGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ9ITB9LHM9ZnVuY3Rpb24oKXt0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITB9O3IuX2VtaXQ9ci5fZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihlLHQpe3RoaXMuX2V2ZW50UmVnaXN0cnl8fCh0aGlzLl9ldmVudFJlZ2lzdHJ5PXt9KSx0aGlzLl9kZWZhdWx0SGFuZGxlcnN8fCh0aGlzLl9kZWZhdWx0SGFuZGxlcnM9e30pO3ZhciBuPXRoaXMuX2V2ZW50UmVnaXN0cnlbZV18fFtdLHI9dGhpcy5fZGVmYXVsdEhhbmRsZXJzW2VdO2lmKG4ubGVuZ3RofHxyKXsib2JqZWN0Ij09dHlwZW9mIHQmJnR8fCh0PXt9KSx0LnR5cGV8fCh0LnR5cGU9ZSksdC5zdG9wUHJvcGFnYXRpb258fCh0LnN0b3BQcm9wYWdhdGlvbj1pKSx0LnByZXZlbnREZWZhdWx0fHwodC5wcmV2ZW50RGVmYXVsdD1zKSxuPW4uc2xpY2UoKTtmb3IodmFyIG89MDtvPG4ubGVuZ3RoJiYobltvXSh0LHRoaXMpLCF0LnByb3BhZ2F0aW9uU3RvcHBlZCk7bysrKTtyZXR1cm4gciYmIXQuZGVmYXVsdFByZXZlbnRlZD9yKHQsdGhpcyk6dm9pZCAwfX0sci5fc2lnbmFsPWZ1bmN0aW9uKGUsdCl7dmFyIG49KHRoaXMuX2V2ZW50UmVnaXN0cnl8fHt9KVtlXTtpZihuKXtuPW4uc2xpY2UoKTtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyluW3JdKHQsdGhpcyl9fSxyLm9uY2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3QmJnRoaXMuYWRkRXZlbnRMaXN0ZW5lcihlLGZ1bmN0aW9uIHIoKXtuLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxyKSx0LmFwcGx5KG51bGwsYXJndW1lbnRzKX0pfSxyLnNldERlZmF1bHRIYW5kbGVyPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5fZGVmYXVsdEhhbmRsZXJzO2lmKG58fChuPXRoaXMuX2RlZmF1bHRIYW5kbGVycz17X2Rpc2FibGVkXzp7fX0pLG5bZV0pe3ZhciByPW5bZV0saT1uLl9kaXNhYmxlZF9bZV07aXx8KG4uX2Rpc2FibGVkX1tlXT1pPVtdKSxpLnB1c2gocik7dmFyIHM9aS5pbmRleE9mKHQpOy0xIT1zJiZpLnNwbGljZShzLDEpfW5bZV09dH0sci5yZW1vdmVEZWZhdWx0SGFuZGxlcj1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX2RlZmF1bHRIYW5kbGVycztpZihuKXt2YXIgcj1uLl9kaXNhYmxlZF9bZV07aWYobltlXT09dCl7e25bZV19ciYmdGhpcy5zZXREZWZhdWx0SGFuZGxlcihlLHIucG9wKCkpfWVsc2UgaWYocil7dmFyIHM9ci5pbmRleE9mKHQpOy0xIT1zJiZyLnNwbGljZShzLDEpfX19LHIub249ci5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLl9ldmVudFJlZ2lzdHJ5PXRoaXMuX2V2ZW50UmVnaXN0cnl8fHt9O3ZhciByPXRoaXMuX2V2ZW50UmVnaXN0cnlbZV07cmV0dXJuIHJ8fChyPXRoaXMuX2V2ZW50UmVnaXN0cnlbZV09W10pLC0xPT1yLmluZGV4T2YodCkmJnJbbj8idW5zaGlmdCI6InB1c2giXSh0KSx0fSxyLm9mZj1yLnJlbW92ZUxpc3RlbmVyPXIucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3RoaXMuX2V2ZW50UmVnaXN0cnk9dGhpcy5fZXZlbnRSZWdpc3RyeXx8e307dmFyIG49dGhpcy5fZXZlbnRSZWdpc3RyeVtlXTtpZihuKXt2YXIgcj1uLmluZGV4T2YodCk7LTEhPT1yJiZuLnNwbGljZShyLDEpfX0sci5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7dGhpcy5fZXZlbnRSZWdpc3RyeSYmKHRoaXMuX2V2ZW50UmVnaXN0cnlbZV09W10pfSx0LkV2ZW50RW1pdHRlcj1yfSksZGVmaW5lKCJhY2UvdW5kb21hbmFnZXIiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiXSxmdW5jdGlvbihlLHQpe3ZhciByPWZ1bmN0aW9uKCl7dGhpcy5yZXNldCgpfTsoZnVuY3Rpb24oKXt0aGlzLmV4ZWN1dGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hcmdzWzBdO3RoaXMuJGRvYz1lLmFyZ3NbMV0sZS5tZXJnZSYmdGhpcy5oYXNVbmRvKCkmJih0aGlzLmRpcnR5Q291bnRlci0tLHQ9dGhpcy4kdW5kb1N0YWNrLnBvcCgpLmNvbmNhdCh0KSksdGhpcy4kdW5kb1N0YWNrLnB1c2godCksdGhpcy4kcmVkb1N0YWNrPVtdLHRoaXMuZGlydHlDb3VudGVyPDAmJih0aGlzLmRpcnR5Q291bnRlcj0wLzApLHRoaXMuZGlydHlDb3VudGVyKyt9LHRoaXMudW5kbz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLiR1bmRvU3RhY2sucG9wKCksbj1udWxsO3JldHVybiB0JiYobj10aGlzLiRkb2MudW5kb0NoYW5nZXModCxlKSx0aGlzLiRyZWRvU3RhY2sucHVzaCh0KSx0aGlzLmRpcnR5Q291bnRlci0tKSxufSx0aGlzLnJlZG89ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy4kcmVkb1N0YWNrLnBvcCgpLG49bnVsbDtyZXR1cm4gdCYmKG49dGhpcy4kZG9jLnJlZG9DaGFuZ2VzKHQsZSksdGhpcy4kdW5kb1N0YWNrLnB1c2godCksdGhpcy5kaXJ0eUNvdW50ZXIrKyksbn0sdGhpcy5yZXNldD1mdW5jdGlvbigpe3RoaXMuJHVuZG9TdGFjaz1bXSx0aGlzLiRyZWRvU3RhY2s9W10sdGhpcy5kaXJ0eUNvdW50ZXI9MH0sdGhpcy5oYXNVbmRvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHVuZG9TdGFjay5sZW5ndGg+MH0sdGhpcy5oYXNSZWRvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHJlZG9TdGFjay5sZW5ndGg+MH0sdGhpcy5tYXJrQ2xlYW49ZnVuY3Rpb24oKXt0aGlzLmRpcnR5Q291bnRlcj0wfSx0aGlzLmlzQ2xlYW49ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuZGlydHlDb3VudGVyfX0pLmNhbGwoci5wcm90b3R5cGUpLHQuVW5kb01hbmFnZXI9cn0pLGRlZmluZSgiYWNlL2xpYi9uZXQiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL2RvbSJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSgiLi9kb20iKTt0LmdldD1mdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBYTUxIdHRwUmVxdWVzdDtuLm9wZW4oIkdFVCIsZSwhMCksbi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09bi5yZWFkeVN0YXRlJiZ0KG4ucmVzcG9uc2VUZXh0KX0sbi5zZW5kKG51bGwpfSx0LmxvYWRTY3JpcHQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj1yLmdldERvY3VtZW50SGVhZCgpLGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7aS5zcmM9ZSxuLmFwcGVuZENoaWxkKGkpLGkub25sb2FkPWkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKGUsbil7KG58fCFpLnJlYWR5U3RhdGV8fCJsb2FkZWQiPT1pLnJlYWR5U3RhdGV8fCJjb21wbGV0ZSI9PWkucmVhZHlTdGF0ZSkmJihpPWkub25sb2FkPWkub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsbnx8dCgpKX19fSksZGVmaW5lKCJhY2UvdmlydHVhbF9yZW5kZXJlciIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL2xpYi9kb20iLCJhY2UvY29uZmlnIiwiYWNlL2xheWVyL2d1dHRlciIsImFjZS9sYXllci9tYXJrZXIiLCJhY2UvbGF5ZXIvdGV4dCIsImFjZS9sYXllci9jdXJzb3IiLCJhY2Uvc2Nyb2xsYmFyIiwiYWNlL3JlbmRlcmxvb3AiLCJhY2UvbGF5ZXIvZm9udF9tZXRyaWNzIiwiYWNlL2xpYi9ldmVudF9lbWl0dGVyIl0sZnVuY3Rpb24oZSx0KXt2YXIgcj1lKCIuL2xpYi9vb3AiKSxpPWUoIi4vbGliL2RvbSIpLHM9ZSgiLi9jb25maWciKSxvPWUoIi4vbGF5ZXIvZ3V0dGVyIikuR3V0dGVyLHU9ZSgiLi9sYXllci9tYXJrZXIiKS5NYXJrZXIsYT1lKCIuL2xheWVyL3RleHQiKS5UZXh0LGY9ZSgiLi9sYXllci9jdXJzb3IiKS5DdXJzb3IsbD1lKCIuL3Njcm9sbGJhciIpLkhTY3JvbGxCYXIsYz1lKCIuL3Njcm9sbGJhciIpLlZTY3JvbGxCYXIsaD1lKCIuL3JlbmRlcmxvb3AiKS5SZW5kZXJMb29wLHA9ZSgiLi9sYXllci9mb250X21ldHJpY3MiKS5Gb250TWV0cmljcyxkPWUoIi4vbGliL2V2ZW50X2VtaXR0ZXIiKS5FdmVudEVtaXR0ZXIsdj0nLmFjZV9lZGl0b3Ige3Bvc2l0aW9uOiByZWxhdGl2ZTtvdmVyZmxvdzogaGlkZGVuO2ZvbnQtZmFtaWx5OiBcJ01vbmFjb1wnLCBcJ01lbmxvXCcsIFwnVWJ1bnR1IE1vbm9cJywgXCdDb25zb2xhc1wnLCBcJ3NvdXJjZS1jb2RlLXByb1wnLCBtb25vc3BhY2U7Zm9udC1zaXplOiAxMnB4O2xpbmUtaGVpZ2h0OiBub3JtYWw7ZGlyZWN0aW9uOiBsdHI7fS5hY2Vfc2Nyb2xsZXIge3Bvc2l0aW9uOiBhYnNvbHV0ZTtvdmVyZmxvdzogaGlkZGVuO3RvcDogMDtib3R0b206IDA7YmFja2dyb3VuZC1jb2xvcjogaW5oZXJpdDstbXMtdXNlci1zZWxlY3Q6IG5vbmU7LW1vei11c2VyLXNlbGVjdDogbm9uZTstd2Via2l0LXVzZXItc2VsZWN0OiBub25lO3VzZXItc2VsZWN0OiBub25lO30uYWNlX2NvbnRlbnQge3Bvc2l0aW9uOiBhYnNvbHV0ZTstbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7LXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O2JveC1zaXppbmc6IGJvcmRlci1ib3g7Y3Vyc29yOiB0ZXh0O21pbi13aWR0aDogMTAwJTt9LmFjZV9kcmFnZ2luZywgLmFjZV9kcmFnZ2luZyAqIHtjdXJzb3I6IG1vdmUgIWltcG9ydGFudDt9LmFjZV9kcmFnZ2luZyAuYWNlX3Njcm9sbGVyOmJlZm9yZXtwb3NpdGlvbjogYWJzb2x1dGU7dG9wOiAwO2xlZnQ6IDA7cmlnaHQ6IDA7Ym90dG9tOiAwO2NvbnRlbnQ6IFwnXCc7YmFja2dyb3VuZDogcmdiYSgyNTAsIDI1MCwgMjUwLCAwLjAxKTt6LWluZGV4OiAxMDAwO30uYWNlX2RyYWdnaW5nLmFjZV9kYXJrIC5hY2Vfc2Nyb2xsZXI6YmVmb3Jle2JhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4wMSk7fS5hY2Vfc2VsZWN0aW5nLCAuYWNlX3NlbGVjdGluZyAqIHtjdXJzb3I6IHRleHQgIWltcG9ydGFudDt9LmFjZV9ndXR0ZXIge3Bvc2l0aW9uOiBhYnNvbHV0ZTtvdmVyZmxvdyA6IGhpZGRlbjt3aWR0aDogYXV0bzt0b3A6IDA7Ym90dG9tOiAwO2xlZnQ6IDA7Y3Vyc29yOiBkZWZhdWx0O3otaW5kZXg6IDQ7LW1zLXVzZXItc2VsZWN0OiBub25lOy1tb3otdXNlci1zZWxlY3Q6IG5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTt1c2VyLXNlbGVjdDogbm9uZTt9LmFjZV9ndXR0ZXItYWN0aXZlLWxpbmUge3Bvc2l0aW9uOiBhYnNvbHV0ZTtsZWZ0OiAwO3JpZ2h0OiAwO30uYWNlX3Njcm9sbGVyLmFjZV9zY3JvbGwtbGVmdCB7Ym94LXNoYWRvdzogMTdweCAwIDE2cHggLTE2cHggcmdiYSgwLCAwLCAwLCAwLjQpIGluc2V0O30uYWNlX2d1dHRlci1jZWxsIHtwYWRkaW5nLWxlZnQ6IDE5cHg7cGFkZGluZy1yaWdodDogNnB4O2JhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7fS5hY2VfZ3V0dGVyLWNlbGwuYWNlX2Vycm9yIHtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBTUFBQUFvTFE5VEFBQUJPRkJNVkVYLy8vLy8vLy8vUVJzd0ZBYi9VaTR3RkFZd0ZBWXdGQWFXR0FmRFJ5bXpPU0gvUHhzd0ZBYi9TaVV3RkFZd0ZBYlVQUnZqUWlEbGxvZzVIaEhkUnlic1RpMy9UeXY5VGlyK1N5ai9VQzMvLy8vWHVyZWJNQkl3RkFiL1JTSGJQeC9nVXpmZHdMM2t6TWl2S0JBd0ZBYmJ2Ym5oUHg2Nk5ob3dGQVl3RkFhWkpnOHdGQWF4S0JEWnVyZi9SQjZtTXhiL1NDTXdGQVl3RkFieFFCMytSQjR3RkFiL1FoeTRPaCs0UWlmYk5SY3dGQVl3RkFZd0ZBYi9RUnpkTmhnd0ZBWXdGQWJhdjd2L1V5N29hRTY4TUJLNUx4TGV3ci9yMk5YZXdMc3dGQWF4Snc0d0ZBYmtQUnkyUHlZd0ZBYXhLaExtMXRNd0ZBYXpQaVF3RkFhVUdBYi9RQnJmT3gzYnZydi9WQy9tYUU0d0ZBYlJQQnE2TVJPOFF5bmV3OERwMnRqZndiMHdGQWJ4NmVqdTUrYnk2dW5zNHVIOS9mMzYrdnIvR2tIakFBQUFZblJTVGxNQUd0KzY0cm5XdS9ibzhlQUE0SW5IMytEd29ON2o0ZUxpNHhQOTlOZmc0K2IrL3U5Qi9lRHMxTUQxbU83KzRQSGcyTVhhMzQ3Zzd2RGl6TUxONGVHK1B2N2k1ZXZzL3Y3OXl1N1MzL0RWNy80OThZdjI0ZUgrNHVmUTNPenUvdjcreTEzc1Jxd0FBQURMU1VSQlZIamFaYy9YRHNGZ0dJQmh0RHJzaGxpdG1rMklyYkhGcUwycHZYZi8rNzhEUG9rajcrRno5cXBVLzlVWEpJbGhtUGFUYVE2UVBhejBtbSs1Z3drZ292Y1Y2R1p6ZDVKdENRd2dzeG9IT3ZKTzE1a2xlUkxBbk1nSEZJRVNVRVBtYXdCOW5nbWVsVHRpcHd3ZkFTaWx4T0x5aVY1VVZVeVZBZmJHMGNDUEhpZytHQmt6QUVOSFMwQXN0VkY2YmFjWklPemdMbXhzSGJ0Mk9lY05nSkM4M0pFUm1lUFVZcThBUkdrSng2WHRGc2RkZEJRZ1pFMm5QUjZDSUNaaGF3akE0RmIvY2h2KzM5OWtmUitNTU1ER09RQUFBQUJKUlU1RXJrSmdnZz09Iik7YmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOiAycHggY2VudGVyO30uYWNlX2d1dHRlci1jZWxsLmFjZV93YXJuaW5nIHtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBTUFBQUFvTFE5VEFBQUFtVkJNVkVYLy8vOEFBQUQvLy84QUFBQUFBQUJQU3piLzVzQUFBQUIvYmxILzczei91bGtBQUFBQUFBRDg1cGtBQUFBQUFBQUNBZ1Avdkd6L3JrRGVyR2JHclY3L3BrUUlDQWYvLy8vZTBJc0FBQUQvb0VEL3FUdmhyblVBQUFEL3lIRC9uamNBQUFEdXYyci9uei8vb1RqL3AwNjRvR2YvekhBQUFBQTlOaXIvdEZJQUFBRC90bFRpdVdmL3RrSUFBQUN5blhFQUFBQUFBQUF0SVJXN3pCcEJBQUFBTTNSU1RsTUFBQlIxbTdSWE84TG4zMVozNnpUK25lWGU1T3pvb1JEZm4rVFo0cDNoMmhUZjR0M2szdWN5ck4xSzUrWGFrczUyU2ZzOUNYZ3JBQUFBamtsRVFWUjQybzNQYlErQ0lCUUZZRXdib1BoU1lnb1l1bklxcUxuNi96OHVZZEg4Vm1kbnU5dno0V3dYZ04veFRQUkQyK3NnT2NaanNnZS93aFhaZ1VhWVl2VDhRbnVKYVVyanJIVVFyZUdjenVFYWZRQ08vU0pUdWZUYnJvV3NQZ3NsbFZocTN3SkVrMmpVU3pYM0NVRURKQzg0NzA3ZGpSYzVNVEFReG9MZ3VwV1J3VzZVQjVmUysrTlY4QWJPWmduc0M3QnBFQUFBQUFCSlJVNUVya0pnZ2c9PSIpO2JhY2tncm91bmQtcG9zaXRpb246IDJweCBjZW50ZXI7fS5hY2VfZ3V0dGVyLWNlbGwuYWNlX2luZm8ge2JhY2tncm91bmQtaW1hZ2U6IHVybCgiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQ0FBQUFBQTZtS0M5QUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUFBSjBVazVUQUFCMms4MDRBQUFBUGtsRVFWUVkwMk5nSUI2OFF1TzN0aUx6bmpBd3BLVGdOeURiTWVnd2lzQ0haVUVUVVpWMFpxT3F1QnBYajJydG5wU0pUMUFFbm5SbUwyT2dHZ0FBSUtrUlFhcDJodGdBQUFBQVNVVk9SSzVDWUlJPSIpO2JhY2tncm91bmQtcG9zaXRpb246IDJweCBjZW50ZXI7fS5hY2VfZGFyayAuYWNlX2d1dHRlci1jZWxsLmFjZV9pbmZvIHtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUJBTUFBQUR0M2VKU0FBQUFKRkJNVkVVQUFBQ2hvYUdBZ0lBcUtpcSt2cjZ0cmExWldWbVVsSlNibTVzOFBEeHVibTU2ZW5yZGd6ZzNBQUFBQVhSU1RsTUFRT2JZWmdBQUFDbEpSRUZVZU5wallNQVBkc01ZSGVneUpaRlFCbHNVbE1GVkNXVVlLa0FaTXhaQUdkeGxETVFCQUcrVEJQNEI2UnlKQUFBQUFFbEZUa1N1UW1DQyIpO30uYWNlX3Njcm9sbGJhciB7cG9zaXRpb246IGFic29sdXRlO3JpZ2h0OiAwO2JvdHRvbTogMDt6LWluZGV4OiA2O30uYWNlX3Njcm9sbGJhci1pbm5lciB7cG9zaXRpb246IGFic29sdXRlO2N1cnNvcjogdGV4dDtsZWZ0OiAwO3RvcDogMDt9LmFjZV9zY3JvbGxiYXItdntvdmVyZmxvdy14OiBoaWRkZW47b3ZlcmZsb3cteTogc2Nyb2xsO3RvcDogMDt9LmFjZV9zY3JvbGxiYXItaCB7b3ZlcmZsb3cteDogc2Nyb2xsO292ZXJmbG93LXk6IGhpZGRlbjtsZWZ0OiAwO30uYWNlX3ByaW50LW1hcmdpbiB7cG9zaXRpb246IGFic29sdXRlO2hlaWdodDogMTAwJTt9LmFjZV90ZXh0LWlucHV0IHtwb3NpdGlvbjogYWJzb2x1dGU7ei1pbmRleDogMDt3aWR0aDogMC41ZW07aGVpZ2h0OiAxZW07b3BhY2l0eTogMDtiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDstbW96LWFwcGVhcmFuY2U6IG5vbmU7YXBwZWFyYW5jZTogbm9uZTtib3JkZXI6IG5vbmU7cmVzaXplOiBub25lO291dGxpbmU6IG5vbmU7b3ZlcmZsb3c6IGhpZGRlbjtmb250OiBpbmhlcml0O3BhZGRpbmc6IDAgMXB4O21hcmdpbjogMCAtMXB4O3RleHQtaW5kZW50OiAtMWVtOy1tcy11c2VyLXNlbGVjdDogdGV4dDstbW96LXVzZXItc2VsZWN0OiB0ZXh0Oy13ZWJraXQtdXNlci1zZWxlY3Q6IHRleHQ7dXNlci1zZWxlY3Q6IHRleHQ7fS5hY2VfdGV4dC1pbnB1dC5hY2VfY29tcG9zaXRpb24ge2JhY2tncm91bmQ6ICNmOGY4Zjg7Y29sb3I6ICMxMTE7ei1pbmRleDogMTAwMDtvcGFjaXR5OiAxO3RleHQtaW5kZW50OiAwO30uYWNlX2xheWVyIHt6LWluZGV4OiAxO3Bvc2l0aW9uOiBhYnNvbHV0ZTtvdmVyZmxvdzogaGlkZGVuO3doaXRlLXNwYWNlOiBwcmU7aGVpZ2h0OiAxMDAlO3dpZHRoOiAxMDAlOy1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDstd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7Ym94LXNpemluZzogYm9yZGVyLWJveDsvKiBzZXR0aW5nIHBvaW50ZXItZXZlbnRzOiBhdXRvOyBvbiBub2RlIHVuZGVyIHRoZSBtb3VzZSwgd2hpY2ggY2hhbmdlc2R1cmluZyBzY3JvbGwsIHdpbGwgYnJlYWsgbW91c2Ugd2hlZWwgc2Nyb2xsaW5nIGluIFNhZmFyaSAqL3BvaW50ZXItZXZlbnRzOiBub25lO30uYWNlX2d1dHRlci1sYXllciB7cG9zaXRpb246IHJlbGF0aXZlO3dpZHRoOiBhdXRvO3RleHQtYWxpZ246IHJpZ2h0O3BvaW50ZXItZXZlbnRzOiBhdXRvO30uYWNlX3RleHQtbGF5ZXIge2ZvbnQ6IGluaGVyaXQgIWltcG9ydGFudDt9LmFjZV9jamsge2Rpc3BsYXk6IGlubGluZS1ibG9jazt0ZXh0LWFsaWduOiBjZW50ZXI7fS5hY2VfY3Vyc29yLWxheWVyIHt6LWluZGV4OiA0O30uYWNlX2N1cnNvciB7ei1pbmRleDogNDtwb3NpdGlvbjogYWJzb2x1dGU7LW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94Oy13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtib3gtc2l6aW5nOiBib3JkZXItYm94O2JvcmRlci1sZWZ0OiAycHggc29saWR9LmFjZV9zbGltLWN1cnNvcnMgLmFjZV9jdXJzb3Ige2JvcmRlci1sZWZ0LXdpZHRoOiAxcHg7fS5hY2Vfb3ZlcndyaXRlLWN1cnNvcnMgLmFjZV9jdXJzb3Ige2JvcmRlci1sZWZ0LXdpZHRoOiAwcHg7Ym9yZGVyLWJvdHRvbTogMXB4IHNvbGlkO30uYWNlX2hpZGRlbi1jdXJzb3JzIC5hY2VfY3Vyc29yIHtvcGFjaXR5OiAwLjI7fS5hY2Vfc21vb3RoLWJsaW5raW5nIC5hY2VfY3Vyc29yIHstbW96LXRyYW5zaXRpb246IG9wYWNpdHkgMC4xOHM7LXdlYmtpdC10cmFuc2l0aW9uOiBvcGFjaXR5IDAuMThzOy1vLXRyYW5zaXRpb246IG9wYWNpdHkgMC4xOHM7LW1zLXRyYW5zaXRpb246IG9wYWNpdHkgMC4xOHM7dHJhbnNpdGlvbjogb3BhY2l0eSAwLjE4czt9LmFjZV9lZGl0b3IuYWNlX211bHRpc2VsZWN0IC5hY2VfY3Vyc29yIHtib3JkZXItbGVmdC13aWR0aDogMXB4O30uYWNlX21hcmtlci1sYXllciAuYWNlX3N0ZXAsIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc3RhY2sge3Bvc2l0aW9uOiBhYnNvbHV0ZTt6LWluZGV4OiAzO30uYWNlX21hcmtlci1sYXllciAuYWNlX3NlbGVjdGlvbiB7cG9zaXRpb246IGFic29sdXRlO3otaW5kZXg6IDU7fS5hY2VfbWFya2VyLWxheWVyIC5hY2VfYnJhY2tldCB7cG9zaXRpb246IGFic29sdXRlO3otaW5kZXg6IDY7fS5hY2VfbWFya2VyLWxheWVyIC5hY2VfYWN0aXZlLWxpbmUge3Bvc2l0aW9uOiBhYnNvbHV0ZTt6LWluZGV4OiAyO30uYWNlX21hcmtlci1sYXllciAuYWNlX3NlbGVjdGVkLXdvcmQge3Bvc2l0aW9uOiBhYnNvbHV0ZTt6LWluZGV4OiA0Oy1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDstd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7Ym94LXNpemluZzogYm9yZGVyLWJveDt9LmFjZV9saW5lIC5hY2VfZm9sZCB7LW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94Oy13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtib3gtc2l6aW5nOiBib3JkZXItYm94O2Rpc3BsYXk6IGlubGluZS1ibG9jaztoZWlnaHQ6IDExcHg7bWFyZ2luLXRvcDogLTJweDt2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO2JhY2tncm91bmQtaW1hZ2U6dXJsKCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJFQUFBQUpDQVlBQUFEVTZNY01BQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQUpwSlJFRlVlTnBpL1AvL1B3T2xnQVhHWUdSa2xBVlNva0Q4R21qd1kxd2FzS2xqUXBZQUN0cENGZUFEY0hWUWZReU1RQXd6d0FaSTN3Skt2Q0xrZktCYU1TQ2xCbFI3Qk9RaWtDRkdRRUVySUgwVnFrYWJpR0NBcXdVYWRBelpKUnhRci8wZ3dpWElhbDh6UVFQbk5WVGdKMVRkYXdMMFQ1Z0JJUDFNVUpOaEJ2MkhLb1FISGpxTnJBNFdPNHpZMGdseU5LTFQyS0lmSU1BQVFzZGdHaVh2Z25ZQUFBQUFTVVZPUks1Q1lJST0iKSx1cmwoImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBM0NBWUFBQUROTmlBNUFBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBQ0pKUkVGVWVOcGkrUC8vZnhnVEF3UERCeER4RDA3OFJTWCtZZUV5REZNQ0lNQUFJM0lObVhpd2YyWUFBQUFBU1VWT1JLNUNZSUk9Iik7YmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdCwgcmVwZWF0LXg7YmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIGNlbnRlciwgdG9wIGxlZnQ7Y29sb3I6IHRyYW5zcGFyZW50O2JvcmRlcjogMXB4IHNvbGlkIGJsYWNrOy1tb3otYm9yZGVyLXJhZGl1czogMnB4Oy13ZWJraXQtYm9yZGVyLXJhZGl1czogMnB4O2JvcmRlci1yYWRpdXM6IDJweDtjdXJzb3I6IHBvaW50ZXI7cG9pbnRlci1ldmVudHM6IGF1dG87fS5hY2VfZGFyayAuYWNlX2ZvbGQge30uYWNlX2ZvbGQ6aG92ZXJ7YmFja2dyb3VuZC1pbWFnZTp1cmwoImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkVBQUFBSkNBWUFBQURVNk1jTUFBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBSnBKUkVGVWVOcGkvUC8vUHdPbGdBWEdZR1JrbEFWU29rRDhHbWp3WTF3YXNLbGpRcFlBQ3RwQ0ZlQURjSFZRZlF5TVFBd3p3QVpJM3dKS3ZDTGtmS0JhTVNDbEJsUjdCT1Fpa0NGR1FFRXJJSDBWcWthYmlHQ0Fxd1VhZEF6WkpSeFFyLzBnd2lYSWFsOHpRUVBuTlZUZ0oxVGRhd0wwVDVnQklQMU1VSk5oQnYySEtvUUhIanFOckE0V080elkwZ2x5TktMVDJLSWZJTUFBUXNkZ0dpWHZnbllBQUFBQVNVVk9SSzVDWUlJPSIpLHVybCgiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUEzQ0FZQUFBRE5OaUE1QUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUFDQkpSRUZVZU5waStQLy9mejRUQXdQRFp4RHhENVg0aTVmTE1Fd0pnQUFEQUVQVkRiak53ODdaQUFBQUFFbEZUa1N1UW1DQyIpO30uYWNlX3Rvb2x0aXAge2JhY2tncm91bmQtY29sb3I6ICNGRkY7YmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCB0cmFuc3BhcmVudCwgcmdiYSgwLCAwLCAwLCAwLjEpKTtiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCB0cmFuc3BhcmVudCwgcmdiYSgwLCAwLCAwLCAwLjEpKTtib3JkZXI6IDFweCBzb2xpZCBncmF5O2JvcmRlci1yYWRpdXM6IDFweDtib3gtc2hhZG93OiAwIDFweCAycHggcmdiYSgwLCAwLCAwLCAwLjMpO2NvbG9yOiBibGFjaztkaXNwbGF5OiBibG9jazttYXgtd2lkdGg6IDEwMCU7cGFkZGluZzogM3B4IDRweDtwb3NpdGlvbjogZml4ZWQ7ei1pbmRleDogOTk5OTk5Oy1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDstd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7Ym94LXNpemluZzogYm9yZGVyLWJveDtjdXJzb3I6IGRlZmF1bHQ7d2hpdGUtc3BhY2U6IHByZTt3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7bGluZS1oZWlnaHQ6IG5vcm1hbDtmb250LXN0eWxlOiBub3JtYWw7Zm9udC13ZWlnaHQ6IG5vcm1hbDtsZXR0ZXItc3BhY2luZzogbm9ybWFsO3BvaW50ZXItZXZlbnRzOiBub25lO30uYWNlX2ZvbGRpbmctZW5hYmxlZCA+IC5hY2VfZ3V0dGVyLWNlbGwge3BhZGRpbmctcmlnaHQ6IDEzcHg7fS5hY2VfZm9sZC13aWRnZXQgey1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDstd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7Ym94LXNpemluZzogYm9yZGVyLWJveDttYXJnaW46IDAgLTEycHggMCAxcHg7ZGlzcGxheTogbm9uZTt3aWR0aDogMTFweDt2ZXJ0aWNhbC1hbGlnbjogdG9wO2JhY2tncm91bmQtaW1hZ2U6IHVybCgiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBVUFBQUFGQ0FZQUFBQ05ieWJsQUFBQU5FbEVRVlI0Mm1XS3NRMEFNQXpDOGl4TGxyelFqem1CaUVqcDBBNld3QkNTUGdLQVhvTGtxU290N25OM3lNd1I3cFozMk56cEtrVm9EQlV4S0FBQUFBQkpSVTVFcmtKZ2dnPT0iKTtiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O2JhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtib3JkZXItcmFkaXVzOiAzcHg7Ym9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7Y3Vyc29yOiBwb2ludGVyO30uYWNlX2ZvbGRpbmctZW5hYmxlZCAuYWNlX2ZvbGQtd2lkZ2V0IHtkaXNwbGF5OiBpbmxpbmUtYmxvY2s7ICAgfS5hY2VfZm9sZC13aWRnZXQuYWNlX2VuZCB7YmFja2dyb3VuZC1pbWFnZTogdXJsKCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFVQUFBQUZDQVlBQUFDTmJ5YmxBQUFBTkVsRVFWUjQybTNId1FrQU1BaEQwWXpzUmNoRktJN3NBaWtlV2tyeHdTY0VCMG5oNWU3S1RQV2ltWmtpNHRZZlZiWCtNTmw0cHlaWGVqVU8xUUFBQUFCSlJVNUVya0pnZ2c9PSIpO30uYWNlX2ZvbGQtd2lkZ2V0LmFjZV9jbG9zZWQge2JhY2tncm91bmQtaW1hZ2U6IHVybCgiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBTUFBQUFHQ0FZQUFBQUc1U1FNQUFBQU9VbEVRVlI0MmpYS3dRa0FNQWdEd0t3cUtENEV3UTI2c1NPa1ZXamdJSUhBelBpQ2dhcWlxbkpIWm5LSUNCRVJITjE5NE81Yjl2Ykx1QVZSTCtsMFlXblpBQUFBQUVsRlRrU3VRbUNDWEE9PSIpO30uYWNlX2ZvbGQtd2lkZ2V0OmhvdmVyIHtib3JkZXI6IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMyk7YmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpOy1tb3otYm94LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KTstd2Via2l0LWJveC1zaGFkb3c6IDAgMXB4IDFweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNyk7Ym94LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KTt9LmFjZV9mb2xkLXdpZGdldDphY3RpdmUge2JvcmRlcjogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC40KTtiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMDUpOy1tb3otYm94LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KTstd2Via2l0LWJveC1zaGFkb3c6IDAgMXB4IDFweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCk7Ym94LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KTt9LyoqKiBEYXJrIHZlcnNpb24gZm9yIGZvbGQgd2lkZ2V0cyovLmFjZV9kYXJrIC5hY2VfZm9sZC13aWRnZXQge2JhY2tncm91bmQtaW1hZ2U6IHVybCgiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBVUFBQUFGQ0FZQUFBQ05ieWJsQUFBQUhrbEVRVlFJVzJQNC8vOC9Bem9HRVE3b0dDYUxMQWhXaVN3QjE0NkJBUUNTVFBZb2NxVDBBQUFBQUVsRlRrU3VRbUNDIik7fS5hY2VfZGFyayAuYWNlX2ZvbGQtd2lkZ2V0LmFjZV9lbmQge2JhY2tncm91bmQtaW1hZ2U6IHVybCgiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBVUFBQUFGQ0FZQUFBQ05ieWJsQUFBQUgwbEVRVlFJVzJQNC8vOC9BeFE3d05qSUFqRE1nQzRBeGpDVktCaXJJQUFGMGt6MnJsaHhwQUFBQUFCSlJVNUVya0pnZ2c9PSIpO30uYWNlX2RhcmsgLmFjZV9mb2xkLXdpZGdldC5hY2VfY2xvc2VkIHtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQU1BQUFBRkNBWUFBQUNBY1ZhaUFBQUFIRWxFUVZRSVcyUDQvLysvQXhBemdEQURsT09Bem5IQUtnUFdBd0FSamk4VUlEVGZRUUFBQUFCSlJVNUVya0pnZ2c9PSIpO30uYWNlX2RhcmsgLmFjZV9mb2xkLXdpZGdldDpob3ZlciB7Ym94LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7fS5hY2VfZGFyayAuYWNlX2ZvbGQtd2lkZ2V0OmFjdGl2ZSB7LW1vei1ib3gtc2hhZG93OiAwIDFweCAxcHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpOy13ZWJraXQtYm94LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtib3gtc2hhZG93OiAwIDFweCAxcHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO30uYWNlX2ZvbGQtd2lkZ2V0LmFjZV9pbnZhbGlkIHtiYWNrZ3JvdW5kLWNvbG9yOiAjRkZCNEI0O2JvcmRlci1jb2xvcjogI0RFNTU1NTt9LmFjZV9mYWRlLWZvbGQtd2lkZ2V0cyAuYWNlX2ZvbGQtd2lkZ2V0IHstbW96LXRyYW5zaXRpb246IG9wYWNpdHkgMC40cyBlYXNlIDAuMDVzOy13ZWJraXQtdHJhbnNpdGlvbjogb3BhY2l0eSAwLjRzIGVhc2UgMC4wNXM7LW8tdHJhbnNpdGlvbjogb3BhY2l0eSAwLjRzIGVhc2UgMC4wNXM7LW1zLXRyYW5zaXRpb246IG9wYWNpdHkgMC40cyBlYXNlIDAuMDVzO3RyYW5zaXRpb246IG9wYWNpdHkgMC40cyBlYXNlIDAuMDVzO29wYWNpdHk6IDA7fS5hY2VfZmFkZS1mb2xkLXdpZGdldHM6aG92ZXIgLmFjZV9mb2xkLXdpZGdldCB7LW1vei10cmFuc2l0aW9uOiBvcGFjaXR5IDAuMDVzIGVhc2UgMC4wNXM7LXdlYmtpdC10cmFuc2l0aW9uOiBvcGFjaXR5IDAuMDVzIGVhc2UgMC4wNXM7LW8tdHJhbnNpdGlvbjogb3BhY2l0eSAwLjA1cyBlYXNlIDAuMDVzOy1tcy10cmFuc2l0aW9uOiBvcGFjaXR5IDAuMDVzIGVhc2UgMC4wNXM7dHJhbnNpdGlvbjogb3BhY2l0eSAwLjA1cyBlYXNlIDAuMDVzO29wYWNpdHk6MTt9LmFjZV91bmRlcmxpbmUge3RleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO30uYWNlX2JvbGQge2ZvbnQtd2VpZ2h0OiBib2xkO30uYWNlX25vYm9sZCAuYWNlX2JvbGQge2ZvbnQtd2VpZ2h0OiBub3JtYWw7fS5hY2VfaXRhbGljIHtmb250LXN0eWxlOiBpdGFsaWM7fS5hY2VfZXJyb3ItbWFya2VyIHtiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMCwgMCwwLjIpO3Bvc2l0aW9uOiBhYnNvbHV0ZTt6LWluZGV4OiA5O30uYWNlX2hpZ2hsaWdodC1tYXJrZXIge2JhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDAsMC4yKTtwb3NpdGlvbjogYWJzb2x1dGU7ei1pbmRleDogODt9JztpLmltcG9ydENzc1N0cmluZyh2LCJhY2VfZWRpdG9yIik7dmFyIG09ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3RoaXMuY29udGFpbmVyPWV8fGkuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy4ka2VlcFRleHRBcmVhQXRDdXJzb3I9ITAsaS5hZGRDc3NDbGFzcyh0aGlzLmNvbnRhaW5lciwiYWNlX2VkaXRvciIpLHRoaXMuc2V0VGhlbWUodCksdGhpcy4kZ3V0dGVyPWkuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy4kZ3V0dGVyLmNsYXNzTmFtZT0iYWNlX2d1dHRlciIsdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy4kZ3V0dGVyKSx0aGlzLnNjcm9sbGVyPWkuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5zY3JvbGxlci5jbGFzc05hbWU9ImFjZV9zY3JvbGxlciIsdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5zY3JvbGxlciksdGhpcy5jb250ZW50PWkuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5jb250ZW50LmNsYXNzTmFtZT0iYWNlX2NvbnRlbnQiLHRoaXMuc2Nyb2xsZXIuYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50KSx0aGlzLiRndXR0ZXJMYXllcj1uZXcgbyh0aGlzLiRndXR0ZXIpLHRoaXMuJGd1dHRlckxheWVyLm9uKCJjaGFuZ2VHdXR0ZXJXaWR0aCIsdGhpcy5vbkd1dHRlclJlc2l6ZS5iaW5kKHRoaXMpKSx0aGlzLiRtYXJrZXJCYWNrPW5ldyB1KHRoaXMuY29udGVudCk7dmFyIHI9dGhpcy4kdGV4dExheWVyPW5ldyBhKHRoaXMuY29udGVudCk7dGhpcy5jYW52YXM9ci5lbGVtZW50LHRoaXMuJG1hcmtlckZyb250PW5ldyB1KHRoaXMuY29udGVudCksdGhpcy4kY3Vyc29yTGF5ZXI9bmV3IGYodGhpcy5jb250ZW50KSx0aGlzLiRob3JpelNjcm9sbD0hMSx0aGlzLiR2U2Nyb2xsPSExLHRoaXMuc2Nyb2xsQmFyPXRoaXMuc2Nyb2xsQmFyVj1uZXcgYyh0aGlzLmNvbnRhaW5lcix0aGlzKSx0aGlzLnNjcm9sbEJhckg9bmV3IGwodGhpcy5jb250YWluZXIsdGhpcyksdGhpcy5zY3JvbGxCYXJWLmFkZEV2ZW50TGlzdGVuZXIoInNjcm9sbCIsZnVuY3Rpb24oZSl7bi4kc2Nyb2xsQW5pbWF0aW9ufHxuLnNlc3Npb24uc2V0U2Nyb2xsVG9wKGUuZGF0YS1uLnNjcm9sbE1hcmdpbi50b3ApfSksdGhpcy5zY3JvbGxCYXJILmFkZEV2ZW50TGlzdGVuZXIoInNjcm9sbCIsZnVuY3Rpb24oZSl7bi4kc2Nyb2xsQW5pbWF0aW9ufHxuLnNlc3Npb24uc2V0U2Nyb2xsTGVmdChlLmRhdGEtbi5zY3JvbGxNYXJnaW4ubGVmdCl9KSx0aGlzLnNjcm9sbFRvcD0wLHRoaXMuc2Nyb2xsTGVmdD0wLHRoaXMuY3Vyc29yUG9zPXtyb3c6MCxjb2x1bW46MH0sdGhpcy4kZm9udE1ldHJpY3M9bmV3IHAodGhpcy5jb250YWluZXIsNTAwKSx0aGlzLiR0ZXh0TGF5ZXIuJHNldEZvbnRNZXRyaWNzKHRoaXMuJGZvbnRNZXRyaWNzKSx0aGlzLiR0ZXh0TGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlQ2hhcmFjdGVyU2l6ZSIsZnVuY3Rpb24oZSl7bi51cGRhdGVDaGFyYWN0ZXJTaXplKCksbi5vblJlc2l6ZSghMCxuLmd1dHRlcldpZHRoLG4uJHNpemUud2lkdGgsbi4kc2l6ZS5oZWlnaHQpLG4uX3NpZ25hbCgiY2hhbmdlQ2hhcmFjdGVyU2l6ZSIsZSl9KSx0aGlzLiRzaXplPXt3aWR0aDowLGhlaWdodDowLHNjcm9sbGVySGVpZ2h0OjAsc2Nyb2xsZXJXaWR0aDowLCRkaXJ0eTohMH0sdGhpcy5sYXllckNvbmZpZz17d2lkdGg6MSxwYWRkaW5nOjAsZmlyc3RSb3c6MCxmaXJzdFJvd1NjcmVlbjowLGxhc3RSb3c6MCxsaW5lSGVpZ2h0OjAsY2hhcmFjdGVyV2lkdGg6MCxtaW5IZWlnaHQ6MSxtYXhIZWlnaHQ6MSxvZmZzZXQ6MCxoZWlnaHQ6MSxndXR0ZXJPZmZzZXQ6MX0sdGhpcy5zY3JvbGxNYXJnaW49e2xlZnQ6MCxyaWdodDowLHRvcDowLGJvdHRvbTowLHY6MCxoOjB9LHRoaXMuJGxvb3A9bmV3IGgodGhpcy4kcmVuZGVyQ2hhbmdlcy5iaW5kKHRoaXMpLHRoaXMuY29udGFpbmVyLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpLHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfRlVMTCksdGhpcy51cGRhdGVDaGFyYWN0ZXJTaXplKCksdGhpcy5zZXRQYWRkaW5nKDQpLHMucmVzZXRPcHRpb25zKHRoaXMpLHMuX2VtaXQoInJlbmRlcmVyIix0aGlzKX07KGZ1bmN0aW9uKCl7dGhpcy5DSEFOR0VfQ1VSU09SPTEsdGhpcy5DSEFOR0VfTUFSS0VSPTIsdGhpcy5DSEFOR0VfR1VUVEVSPTQsdGhpcy5DSEFOR0VfU0NST0xMPTgsdGhpcy5DSEFOR0VfTElORVM9MTYsdGhpcy5DSEFOR0VfVEVYVD0zMix0aGlzLkNIQU5HRV9TSVpFPTY0LHRoaXMuQ0hBTkdFX01BUktFUl9CQUNLPTEyOCx0aGlzLkNIQU5HRV9NQVJLRVJfRlJPTlQ9MjU2LHRoaXMuQ0hBTkdFX0ZVTEw9NTEyLHRoaXMuQ0hBTkdFX0hfU0NST0xMPTEwMjQsci5pbXBsZW1lbnQodGhpcyxkKSx0aGlzLnVwZGF0ZUNoYXJhY3RlclNpemU9ZnVuY3Rpb24oKXt0aGlzLiR0ZXh0TGF5ZXIuYWxsb3dCb2xkRm9udHMhPXRoaXMuJGFsbG93Qm9sZEZvbnRzJiYodGhpcy4kYWxsb3dCb2xkRm9udHM9dGhpcy4kdGV4dExheWVyLmFsbG93Qm9sZEZvbnRzLHRoaXMuc2V0U3R5bGUoImFjZV9ub2JvbGQiLCF0aGlzLiRhbGxvd0JvbGRGb250cykpLHRoaXMubGF5ZXJDb25maWcuY2hhcmFjdGVyV2lkdGg9dGhpcy5jaGFyYWN0ZXJXaWR0aD10aGlzLiR0ZXh0TGF5ZXIuZ2V0Q2hhcmFjdGVyV2lkdGgoKSx0aGlzLmxheWVyQ29uZmlnLmxpbmVIZWlnaHQ9dGhpcy5saW5lSGVpZ2h0PXRoaXMuJHRleHRMYXllci5nZXRMaW5lSGVpZ2h0KCksdGhpcy4kdXBkYXRlUHJpbnRNYXJnaW4oKX0sdGhpcy5zZXRTZXNzaW9uPWZ1bmN0aW9uKGUpe3RoaXMuc2Vzc2lvbiYmdGhpcy5zZXNzaW9uLmRvYy5vZmYoImNoYW5nZU5ld0xpbmVNb2RlIix0aGlzLm9uQ2hhbmdlTmV3TGluZU1vZGUpLHRoaXMuc2Vzc2lvbj1lLGUmJih0aGlzLnNjcm9sbE1hcmdpbi50b3AmJmUuZ2V0U2Nyb2xsVG9wKCk8PTAmJmUuc2V0U2Nyb2xsVG9wKC10aGlzLnNjcm9sbE1hcmdpbi50b3ApLHRoaXMuJGN1cnNvckxheWVyLnNldFNlc3Npb24oZSksdGhpcy4kbWFya2VyQmFjay5zZXRTZXNzaW9uKGUpLHRoaXMuJG1hcmtlckZyb250LnNldFNlc3Npb24oZSksdGhpcy4kZ3V0dGVyTGF5ZXIuc2V0U2Vzc2lvbihlKSx0aGlzLiR0ZXh0TGF5ZXIuc2V0U2Vzc2lvbihlKSx0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0ZVTEwpLHRoaXMuc2Vzc2lvbi4kc2V0Rm9udE1ldHJpY3ModGhpcy4kZm9udE1ldHJpY3MpLHRoaXMub25DaGFuZ2VOZXdMaW5lTW9kZT10aGlzLm9uQ2hhbmdlTmV3TGluZU1vZGUuYmluZCh0aGlzKSx0aGlzLm9uQ2hhbmdlTmV3TGluZU1vZGUoKSx0aGlzLnNlc3Npb24uZG9jLm9uKCJjaGFuZ2VOZXdMaW5lTW9kZSIsdGhpcy5vbkNoYW5nZU5ld0xpbmVNb2RlKSl9LHRoaXMudXBkYXRlTGluZXM9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD0xLzApLHRoaXMuJGNoYW5nZWRMaW5lcz8odGhpcy4kY2hhbmdlZExpbmVzLmZpcnN0Um93PmUmJih0aGlzLiRjaGFuZ2VkTGluZXMuZmlyc3RSb3c9ZSksdGhpcy4kY2hhbmdlZExpbmVzLmxhc3RSb3c8dCYmKHRoaXMuJGNoYW5nZWRMaW5lcy5sYXN0Um93PXQpKTp0aGlzLiRjaGFuZ2VkTGluZXM9e2ZpcnN0Um93OmUsbGFzdFJvdzp0fSx0aGlzLiRjaGFuZ2VkTGluZXMuZmlyc3RSb3c+dGhpcy5sYXllckNvbmZpZy5sYXN0Um93fHx0aGlzLiRjaGFuZ2VkTGluZXMubGFzdFJvdzx0aGlzLmxheWVyQ29uZmlnLmZpcnN0Um93fHx0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0xJTkVTKX0sdGhpcy5vbkNoYW5nZU5ld0xpbmVNb2RlPWZ1bmN0aW9uKCl7dGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9URVhUKSx0aGlzLiR0ZXh0TGF5ZXIuJHVwZGF0ZUVvbENoYXIoKX0sdGhpcy5vbkNoYW5nZVRhYlNpemU9ZnVuY3Rpb24oKXt0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX1RFWFR8dGhpcy5DSEFOR0VfTUFSS0VSKSx0aGlzLiR0ZXh0TGF5ZXIub25DaGFuZ2VUYWJTaXplKCl9LHRoaXMudXBkYXRlVGV4dD1mdW5jdGlvbigpe3RoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfVEVYVCl9LHRoaXMudXBkYXRlRnVsbD1mdW5jdGlvbihlKXtlP3RoaXMuJHJlbmRlckNoYW5nZXModGhpcy5DSEFOR0VfRlVMTCwhMCk6dGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9GVUxMKX0sdGhpcy51cGRhdGVGb250U2l6ZT1mdW5jdGlvbigpe3RoaXMuJHRleHRMYXllci5jaGVja0ZvclNpemVDaGFuZ2VzKCl9LHRoaXMuJGNoYW5nZXM9MCx0aGlzLiR1cGRhdGVTaXplQXN5bmM9ZnVuY3Rpb24oKXt0aGlzLiRsb29wLnBlbmRpbmc/dGhpcy4kc2l6ZS4kZGlydHk9ITA6dGhpcy5vblJlc2l6ZSgpfSx0aGlzLm9uUmVzaXplPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKCEodGhpcy5yZXNpemluZz4yKSl7dGhpcy5yZXNpemluZz4wP3RoaXMucmVzaXppbmcrKzp0aGlzLnJlc2l6aW5nPWU/MTowO3ZhciBpPXRoaXMuY29udGFpbmVyO3J8fChyPWkuY2xpZW50SGVpZ2h0fHxpLnNjcm9sbEhlaWdodCksbnx8KG49aS5jbGllbnRXaWR0aHx8aS5zY3JvbGxXaWR0aCk7dmFyIHM9dGhpcy4kdXBkYXRlQ2FjaGVkU2l6ZShlLHQsbixyKTtyZXR1cm4gdGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodCYmKG58fHIpPyhlJiYodGhpcy4kZ3V0dGVyTGF5ZXIuJHBhZGRpbmc9bnVsbCksZT90aGlzLiRyZW5kZXJDaGFuZ2VzKHN8dGhpcy4kY2hhbmdlcywhMCk6dGhpcy4kbG9vcC5zY2hlZHVsZShzfHRoaXMuJGNoYW5nZXMpLHRoaXMucmVzaXppbmcmJih0aGlzLnJlc2l6aW5nPTApLHZvaWQgMCk6dGhpcy5yZXNpemluZz0wfX0sdGhpcy4kdXBkYXRlQ2FjaGVkU2l6ZT1mdW5jdGlvbihlLHQsbixyKXtyLT10aGlzLiRleHRyYUhlaWdodHx8MDt2YXIgaT0wLHM9dGhpcy4kc2l6ZSxvPXt3aWR0aDpzLndpZHRoLGhlaWdodDpzLmhlaWdodCxzY3JvbGxlckhlaWdodDpzLnNjcm9sbGVySGVpZ2h0LHNjcm9sbGVyV2lkdGg6cy5zY3JvbGxlcldpZHRofTtyZXR1cm4gciYmKGV8fHMuaGVpZ2h0IT1yKSYmKHMuaGVpZ2h0PXIsaXw9dGhpcy5DSEFOR0VfU0laRSxzLnNjcm9sbGVySGVpZ2h0PXMuaGVpZ2h0LHRoaXMuJGhvcml6U2Nyb2xsJiYocy5zY3JvbGxlckhlaWdodC09dGhpcy5zY3JvbGxCYXJILmdldEhlaWdodCgpKSx0aGlzLnNjcm9sbEJhclYuZWxlbWVudC5zdHlsZS5ib3R0b209dGhpcy5zY3JvbGxCYXJILmdldEhlaWdodCgpKyJweCIsaXw9dGhpcy5DSEFOR0VfU0NST0xMKSxuJiYoZXx8cy53aWR0aCE9bikmJihpfD10aGlzLkNIQU5HRV9TSVpFLHMud2lkdGg9bixudWxsPT10JiYodD10aGlzLiRzaG93R3V0dGVyP3RoaXMuJGd1dHRlci5vZmZzZXRXaWR0aDowKSx0aGlzLmd1dHRlcldpZHRoPXQsdGhpcy5zY3JvbGxCYXJILmVsZW1lbnQuc3R5bGUubGVmdD10aGlzLnNjcm9sbGVyLnN0eWxlLmxlZnQ9dCsicHgiLHMuc2Nyb2xsZXJXaWR0aD1NYXRoLm1heCgwLG4tdC10aGlzLnNjcm9sbEJhclYuZ2V0V2lkdGgoKSksdGhpcy5zY3JvbGxCYXJILmVsZW1lbnQuc3R5bGUucmlnaHQ9dGhpcy5zY3JvbGxlci5zdHlsZS5yaWdodD10aGlzLnNjcm9sbEJhclYuZ2V0V2lkdGgoKSsicHgiLHRoaXMuc2Nyb2xsZXIuc3R5bGUuYm90dG9tPXRoaXMuc2Nyb2xsQmFySC5nZXRIZWlnaHQoKSsicHgiLCh0aGlzLnNlc3Npb24mJnRoaXMuc2Vzc2lvbi5nZXRVc2VXcmFwTW9kZSgpJiZ0aGlzLmFkanVzdFdyYXBMaW1pdCgpfHxlKSYmKGl8PXRoaXMuQ0hBTkdFX0ZVTEwpKSxzLiRkaXJ0eT0hbnx8IXIsaSYmdGhpcy5fc2lnbmFsKCJyZXNpemUiLG8pLGl9LHRoaXMub25HdXR0ZXJSZXNpemU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLiRzaG93R3V0dGVyP3RoaXMuJGd1dHRlci5vZmZzZXRXaWR0aDowO2UhPXRoaXMuZ3V0dGVyV2lkdGgmJih0aGlzLiRjaGFuZ2VzfD10aGlzLiR1cGRhdGVDYWNoZWRTaXplKCEwLGUsdGhpcy4kc2l6ZS53aWR0aCx0aGlzLiRzaXplLmhlaWdodCkpLHRoaXMuc2Vzc2lvbi5nZXRVc2VXcmFwTW9kZSgpJiZ0aGlzLmFkanVzdFdyYXBMaW1pdCgpP3RoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfRlVMTCk6dGhpcy4kc2l6ZS4kZGlydHk/dGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9GVUxMKToodGhpcy4kY29tcHV0ZUxheWVyQ29uZmlnKCksdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9NQVJLRVIpKX0sdGhpcy5hZGp1c3RXcmFwTGltaXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLiRzaXplLnNjcm9sbGVyV2lkdGgtMip0aGlzLiRwYWRkaW5nLHQ9TWF0aC5mbG9vcihlL3RoaXMuY2hhcmFjdGVyV2lkdGgpO3JldHVybiB0aGlzLnNlc3Npb24uYWRqdXN0V3JhcExpbWl0KHQsdGhpcy4kc2hvd1ByaW50TWFyZ2luJiZ0aGlzLiRwcmludE1hcmdpbkNvbHVtbil9LHRoaXMuc2V0QW5pbWF0ZWRTY3JvbGw9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oImFuaW1hdGVkU2Nyb2xsIixlKX0sdGhpcy5nZXRBbmltYXRlZFNjcm9sbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRhbmltYXRlZFNjcm9sbH0sdGhpcy5zZXRTaG93SW52aXNpYmxlcz1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbigic2hvd0ludmlzaWJsZXMiLGUpfSx0aGlzLmdldFNob3dJbnZpc2libGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0T3B0aW9uKCJzaG93SW52aXNpYmxlcyIpfSx0aGlzLmdldERpc3BsYXlJbmRlbnRHdWlkZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRPcHRpb24oImRpc3BsYXlJbmRlbnRHdWlkZXMiKX0sdGhpcy5zZXREaXNwbGF5SW5kZW50R3VpZGVzPWZ1bmN0aW9uKGUpe3RoaXMuc2V0T3B0aW9uKCJkaXNwbGF5SW5kZW50R3VpZGVzIixlKX0sdGhpcy5zZXRTaG93UHJpbnRNYXJnaW49ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oInNob3dQcmludE1hcmdpbiIsZSl9LHRoaXMuZ2V0U2hvd1ByaW50TWFyZ2luPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0T3B0aW9uKCJzaG93UHJpbnRNYXJnaW4iKX0sdGhpcy5zZXRQcmludE1hcmdpbkNvbHVtbj1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbigicHJpbnRNYXJnaW5Db2x1bW4iLGUpfSx0aGlzLmdldFByaW50TWFyZ2luQ29sdW1uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0T3B0aW9uKCJwcmludE1hcmdpbkNvbHVtbiIpfSx0aGlzLmdldFNob3dHdXR0ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRPcHRpb24oInNob3dHdXR0ZXIiKX0sdGhpcy5zZXRTaG93R3V0dGVyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNldE9wdGlvbigic2hvd0d1dHRlciIsZSl9LHRoaXMuZ2V0RmFkZUZvbGRXaWRnZXRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0T3B0aW9uKCJmYWRlRm9sZFdpZGdldHMiKX0sdGhpcy5zZXRGYWRlRm9sZFdpZGdldHM9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oImZhZGVGb2xkV2lkZ2V0cyIsZSl9LHRoaXMuc2V0SGlnaGxpZ2h0R3V0dGVyTGluZT1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbigiaGlnaGxpZ2h0R3V0dGVyTGluZSIsZSl9LHRoaXMuZ2V0SGlnaGxpZ2h0R3V0dGVyTGluZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE9wdGlvbigiaGlnaGxpZ2h0R3V0dGVyTGluZSIpfSx0aGlzLiR1cGRhdGVHdXR0ZXJMaW5lSGlnaGxpZ2h0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy4kY3Vyc29yTGF5ZXIuJHBpeGVsUG9zLHQ9dGhpcy5sYXllckNvbmZpZy5saW5lSGVpZ2h0O2lmKHRoaXMuc2Vzc2lvbi5nZXRVc2VXcmFwTW9kZSgpKXt2YXIgbj10aGlzLnNlc3Npb24uc2VsZWN0aW9uLmdldEN1cnNvcigpO24uY29sdW1uPTAsZT10aGlzLiRjdXJzb3JMYXllci5nZXRQaXhlbFBvc2l0aW9uKG4sITApLHQqPXRoaXMuc2Vzc2lvbi5nZXRSb3dMZW5ndGgobi5yb3cpfXRoaXMuJGd1dHRlckxpbmVIaWdobGlnaHQuc3R5bGUudG9wPWUudG9wLXRoaXMubGF5ZXJDb25maWcub2Zmc2V0KyJweCIsdGhpcy4kZ3V0dGVyTGluZUhpZ2hsaWdodC5zdHlsZS5oZWlnaHQ9dCsicHgifSx0aGlzLiR1cGRhdGVQcmludE1hcmdpbj1mdW5jdGlvbigpe2lmKHRoaXMuJHNob3dQcmludE1hcmdpbnx8dGhpcy4kcHJpbnRNYXJnaW5FbCl7aWYoIXRoaXMuJHByaW50TWFyZ2luRWwpe3ZhciBlPWkuY3JlYXRlRWxlbWVudCgiZGl2Iik7ZS5jbGFzc05hbWU9ImFjZV9sYXllciBhY2VfcHJpbnQtbWFyZ2luLWxheWVyIix0aGlzLiRwcmludE1hcmdpbkVsPWkuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy4kcHJpbnRNYXJnaW5FbC5jbGFzc05hbWU9ImFjZV9wcmludC1tYXJnaW4iLGUuYXBwZW5kQ2hpbGQodGhpcy4kcHJpbnRNYXJnaW5FbCksdGhpcy5jb250ZW50Lmluc2VydEJlZm9yZShlLHRoaXMuY29udGVudC5maXJzdENoaWxkKX12YXIgdD10aGlzLiRwcmludE1hcmdpbkVsLnN0eWxlO3QubGVmdD10aGlzLmNoYXJhY3RlcldpZHRoKnRoaXMuJHByaW50TWFyZ2luQ29sdW1uK3RoaXMuJHBhZGRpbmcrInB4Iix0LnZpc2liaWxpdHk9dGhpcy4kc2hvd1ByaW50TWFyZ2luPyJ2aXNpYmxlIjoiaGlkZGVuIix0aGlzLnNlc3Npb24mJi0xPT10aGlzLnNlc3Npb24uJHdyYXAmJnRoaXMuYWRqdXN0V3JhcExpbWl0KCl9fSx0aGlzLmdldENvbnRhaW5lckVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250YWluZXJ9LHRoaXMuZ2V0TW91c2VFdmVudFRhcmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnR9LHRoaXMuZ2V0VGV4dEFyZWFDb250YWluZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250YWluZXJ9LHRoaXMuJG1vdmVUZXh0QXJlYVRvQ3Vyc29yPWZ1bmN0aW9uKCl7aWYodGhpcy4ka2VlcFRleHRBcmVhQXRDdXJzb3Ipe3ZhciBlPXRoaXMubGF5ZXJDb25maWcsdD10aGlzLiRjdXJzb3JMYXllci4kcGl4ZWxQb3MudG9wLG49dGhpcy4kY3Vyc29yTGF5ZXIuJHBpeGVsUG9zLmxlZnQ7dC09ZS5vZmZzZXQ7dmFyIHI9dGhpcy5saW5lSGVpZ2h0O2lmKCEoMD50fHx0PmUuaGVpZ2h0LXIpKXt2YXIgaT10aGlzLmNoYXJhY3RlcldpZHRoO2lmKHRoaXMuJGNvbXBvc2l0aW9uKXt2YXIgcz10aGlzLnRleHRhcmVhLnZhbHVlLnJlcGxhY2UoL15ceDAxKy8sIiIpO2kqPXRoaXMuc2Vzc2lvbi4kZ2V0U3RyaW5nU2NyZWVuV2lkdGgocylbMF0rMixyKz0yLHQtPTF9bi09dGhpcy5zY3JvbGxMZWZ0LG4+dGhpcy4kc2l6ZS5zY3JvbGxlcldpZHRoLWkmJihuPXRoaXMuJHNpemUuc2Nyb2xsZXJXaWR0aC1pKSxuLT10aGlzLnNjcm9sbEJhci53aWR0aCx0aGlzLnRleHRhcmVhLnN0eWxlLmhlaWdodD1yKyJweCIsdGhpcy50ZXh0YXJlYS5zdHlsZS53aWR0aD1pKyJweCIsdGhpcy50ZXh0YXJlYS5zdHlsZS5yaWdodD1NYXRoLm1heCgwLHRoaXMuJHNpemUuc2Nyb2xsZXJXaWR0aC1uLWkpKyJweCIsdGhpcy50ZXh0YXJlYS5zdHlsZS5ib3R0b209TWF0aC5tYXgoMCx0aGlzLiRzaXplLmhlaWdodC10LXIpKyJweCJ9fX0sdGhpcy5nZXRGaXJzdFZpc2libGVSb3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYXllckNvbmZpZy5maXJzdFJvd30sdGhpcy5nZXRGaXJzdEZ1bGx5VmlzaWJsZVJvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxheWVyQ29uZmlnLmZpcnN0Um93KygwPT09dGhpcy5sYXllckNvbmZpZy5vZmZzZXQ/MDoxKX0sdGhpcy5nZXRMYXN0RnVsbHlWaXNpYmxlUm93PWZ1bmN0aW9uKCl7dmFyIGU9TWF0aC5mbG9vcigodGhpcy5sYXllckNvbmZpZy5oZWlnaHQrdGhpcy5sYXllckNvbmZpZy5vZmZzZXQpL3RoaXMubGF5ZXJDb25maWcubGluZUhlaWdodCk7cmV0dXJuIHRoaXMubGF5ZXJDb25maWcuZmlyc3RSb3ctMStlfSx0aGlzLmdldExhc3RWaXNpYmxlUm93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGF5ZXJDb25maWcubGFzdFJvd30sdGhpcy4kcGFkZGluZz1udWxsLHRoaXMuc2V0UGFkZGluZz1mdW5jdGlvbihlKXt0aGlzLiRwYWRkaW5nPWUsdGhpcy4kdGV4dExheWVyLnNldFBhZGRpbmcoZSksdGhpcy4kY3Vyc29yTGF5ZXIuc2V0UGFkZGluZyhlKSx0aGlzLiRtYXJrZXJGcm9udC5zZXRQYWRkaW5nKGUpLHRoaXMuJG1hcmtlckJhY2suc2V0UGFkZGluZyhlKSx0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0ZVTEwpLHRoaXMuJHVwZGF0ZVByaW50TWFyZ2luKCl9LHRoaXMuc2V0U2Nyb2xsTWFyZ2luPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXRoaXMuc2Nyb2xsTWFyZ2luO2kudG9wPTB8ZSxpLmJvdHRvbT0wfHQsaS5yaWdodD0wfHIsaS5sZWZ0PTB8bixpLnY9aS50b3AraS5ib3R0b20saS5oPWkubGVmdCtpLnJpZ2h0LGkudG9wJiZ0aGlzLnNjcm9sbFRvcDw9MCYmdGhpcy5zZXNzaW9uJiZ0aGlzLnNlc3Npb24uc2V0U2Nyb2xsVG9wKC1pLnRvcCksdGhpcy51cGRhdGVGdWxsKCl9LHRoaXMuZ2V0SFNjcm9sbEJhckFsd2F5c1Zpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kaFNjcm9sbEJhckFsd2F5c1Zpc2libGV9LHRoaXMuc2V0SFNjcm9sbEJhckFsd2F5c1Zpc2libGU9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oImhTY3JvbGxCYXJBbHdheXNWaXNpYmxlIixlKX0sdGhpcy5nZXRWU2Nyb2xsQmFyQWx3YXlzVmlzaWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRoU2Nyb2xsQmFyQWx3YXlzVmlzaWJsZX0sdGhpcy5zZXRWU2Nyb2xsQmFyQWx3YXlzVmlzaWJsZT1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbigidlNjcm9sbEJhckFsd2F5c1Zpc2libGUiLGUpfSx0aGlzLiR1cGRhdGVTY3JvbGxCYXJWPWZ1bmN0aW9uKCl7dGhpcy5zY3JvbGxCYXJWLnNldFNjcm9sbEhlaWdodCh0aGlzLmxheWVyQ29uZmlnLm1heEhlaWdodCt0aGlzLnNjcm9sbE1hcmdpbi52KSx0aGlzLnNjcm9sbEJhclYuc2V0U2Nyb2xsVG9wKHRoaXMuc2Nyb2xsVG9wK3RoaXMuc2Nyb2xsTWFyZ2luLnRvcCl9LHRoaXMuJHVwZGF0ZVNjcm9sbEJhckg9ZnVuY3Rpb24oKXt0aGlzLnNjcm9sbEJhckguc2V0U2Nyb2xsV2lkdGgodGhpcy5sYXllckNvbmZpZy53aWR0aCsyKnRoaXMuJHBhZGRpbmcrdGhpcy5zY3JvbGxNYXJnaW4uaCksdGhpcy5zY3JvbGxCYXJILnNldFNjcm9sbExlZnQodGhpcy5zY3JvbGxMZWZ0K3RoaXMuc2Nyb2xsTWFyZ2luLmxlZnQpfSx0aGlzLiRmcm96ZW49ITEsdGhpcy5mcmVlemU9ZnVuY3Rpb24oKXt0aGlzLiRmcm96ZW49ITB9LHRoaXMudW5mcmVlemU9ZnVuY3Rpb24oKXt0aGlzLiRmcm96ZW49ITF9LHRoaXMuJHJlbmRlckNoYW5nZXM9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLiRjaGFuZ2VzJiYoZXw9dGhpcy4kY2hhbmdlcyx0aGlzLiRjaGFuZ2VzPTApLCF0aGlzLnNlc3Npb258fCF0aGlzLmNvbnRhaW5lci5vZmZzZXRXaWR0aHx8dGhpcy4kZnJvemVufHwhZSYmIXQpcmV0dXJuIHZvaWQodGhpcy4kY2hhbmdlc3w9ZSk7aWYodGhpcy4kc2l6ZS4kZGlydHkpcmV0dXJuIHRoaXMuJGNoYW5nZXN8PWUsdGhpcy5vblJlc2l6ZSghMCk7dGhpcy5saW5lSGVpZ2h0fHx0aGlzLiR0ZXh0TGF5ZXIuY2hlY2tGb3JTaXplQ2hhbmdlcygpLHRoaXMuX3NpZ25hbCgiYmVmb3JlUmVuZGVyIik7CnZhciBuPXRoaXMubGF5ZXJDb25maWc7cmV0dXJuKGUmdGhpcy5DSEFOR0VfRlVMTHx8ZSZ0aGlzLkNIQU5HRV9TSVpFfHxlJnRoaXMuQ0hBTkdFX1RFWFR8fGUmdGhpcy5DSEFOR0VfTElORVN8fGUmdGhpcy5DSEFOR0VfU0NST0xMfHxlJnRoaXMuQ0hBTkdFX0hfU0NST0xMKSYmKGV8PXRoaXMuJGNvbXB1dGVMYXllckNvbmZpZygpLG49dGhpcy5sYXllckNvbmZpZyx0aGlzLiR1cGRhdGVTY3JvbGxCYXJWKCksZSZ0aGlzLkNIQU5HRV9IX1NDUk9MTCYmdGhpcy4kdXBkYXRlU2Nyb2xsQmFySCgpLHRoaXMuJGd1dHRlckxheWVyLmVsZW1lbnQuc3R5bGUubWFyZ2luVG9wPS1uLm9mZnNldCsicHgiLHRoaXMuY29udGVudC5zdHlsZS5tYXJnaW5Ub3A9LW4ub2Zmc2V0KyJweCIsdGhpcy5jb250ZW50LnN0eWxlLndpZHRoPW4ud2lkdGgrMip0aGlzLiRwYWRkaW5nKyJweCIsdGhpcy5jb250ZW50LnN0eWxlLmhlaWdodD1uLm1pbkhlaWdodCsicHgiKSxlJnRoaXMuQ0hBTkdFX0hfU0NST0xMJiYodGhpcy5jb250ZW50LnN0eWxlLm1hcmdpbkxlZnQ9LXRoaXMuc2Nyb2xsTGVmdCsicHgiLHRoaXMuc2Nyb2xsZXIuY2xhc3NOYW1lPXRoaXMuc2Nyb2xsTGVmdDw9MD8iYWNlX3Njcm9sbGVyIjoiYWNlX3Njcm9sbGVyIGFjZV9zY3JvbGwtbGVmdCIpLGUmdGhpcy5DSEFOR0VfRlVMTD8odGhpcy4kdGV4dExheWVyLnVwZGF0ZShuKSx0aGlzLiRzaG93R3V0dGVyJiZ0aGlzLiRndXR0ZXJMYXllci51cGRhdGUobiksdGhpcy4kbWFya2VyQmFjay51cGRhdGUobiksdGhpcy4kbWFya2VyRnJvbnQudXBkYXRlKG4pLHRoaXMuJGN1cnNvckxheWVyLnVwZGF0ZShuKSx0aGlzLiRtb3ZlVGV4dEFyZWFUb0N1cnNvcigpLHRoaXMuJGhpZ2hsaWdodEd1dHRlckxpbmUmJnRoaXMuJHVwZGF0ZUd1dHRlckxpbmVIaWdobGlnaHQoKSx0aGlzLl9zaWduYWwoImFmdGVyUmVuZGVyIiksdm9pZCAwKTplJnRoaXMuQ0hBTkdFX1NDUk9MTD8oZSZ0aGlzLkNIQU5HRV9URVhUfHxlJnRoaXMuQ0hBTkdFX0xJTkVTP3RoaXMuJHRleHRMYXllci51cGRhdGUobik6dGhpcy4kdGV4dExheWVyLnNjcm9sbExpbmVzKG4pLHRoaXMuJHNob3dHdXR0ZXImJnRoaXMuJGd1dHRlckxheWVyLnVwZGF0ZShuKSx0aGlzLiRtYXJrZXJCYWNrLnVwZGF0ZShuKSx0aGlzLiRtYXJrZXJGcm9udC51cGRhdGUobiksdGhpcy4kY3Vyc29yTGF5ZXIudXBkYXRlKG4pLHRoaXMuJGhpZ2hsaWdodEd1dHRlckxpbmUmJnRoaXMuJHVwZGF0ZUd1dHRlckxpbmVIaWdobGlnaHQoKSx0aGlzLiRtb3ZlVGV4dEFyZWFUb0N1cnNvcigpLHRoaXMuX3NpZ25hbCgiYWZ0ZXJSZW5kZXIiKSx2b2lkIDApOihlJnRoaXMuQ0hBTkdFX1RFWFQ/KHRoaXMuJHRleHRMYXllci51cGRhdGUobiksdGhpcy4kc2hvd0d1dHRlciYmdGhpcy4kZ3V0dGVyTGF5ZXIudXBkYXRlKG4pKTplJnRoaXMuQ0hBTkdFX0xJTkVTPyh0aGlzLiR1cGRhdGVMaW5lcygpfHxlJnRoaXMuQ0hBTkdFX0dVVFRFUiYmdGhpcy4kc2hvd0d1dHRlcikmJnRoaXMuJGd1dHRlckxheWVyLnVwZGF0ZShuKTooZSZ0aGlzLkNIQU5HRV9URVhUfHxlJnRoaXMuQ0hBTkdFX0dVVFRFUikmJnRoaXMuJHNob3dHdXR0ZXImJnRoaXMuJGd1dHRlckxheWVyLnVwZGF0ZShuKSxlJnRoaXMuQ0hBTkdFX0NVUlNPUiYmKHRoaXMuJGN1cnNvckxheWVyLnVwZGF0ZShuKSx0aGlzLiRtb3ZlVGV4dEFyZWFUb0N1cnNvcigpLHRoaXMuJGhpZ2hsaWdodEd1dHRlckxpbmUmJnRoaXMuJHVwZGF0ZUd1dHRlckxpbmVIaWdobGlnaHQoKSksZSYodGhpcy5DSEFOR0VfTUFSS0VSfHRoaXMuQ0hBTkdFX01BUktFUl9GUk9OVCkmJnRoaXMuJG1hcmtlckZyb250LnVwZGF0ZShuKSxlJih0aGlzLkNIQU5HRV9NQVJLRVJ8dGhpcy5DSEFOR0VfTUFSS0VSX0JBQ0spJiZ0aGlzLiRtYXJrZXJCYWNrLnVwZGF0ZShuKSx0aGlzLl9zaWduYWwoImFmdGVyUmVuZGVyIiksdm9pZCAwKX0sdGhpcy4kYXV0b3NpemU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNlc3Npb24uZ2V0U2NyZWVuTGVuZ3RoKCkqdGhpcy5saW5lSGVpZ2h0LHQ9dGhpcy4kbWF4TGluZXMqdGhpcy5saW5lSGVpZ2h0LG49TWF0aC5tYXgoKHRoaXMuJG1pbkxpbmVzfHwxKSp0aGlzLmxpbmVIZWlnaHQsTWF0aC5taW4odCxlKSkrdGhpcy5zY3JvbGxNYXJnaW4udisodGhpcy4kZXh0cmFIZWlnaHR8fDApLHI9ZT50O2lmKG4hPXRoaXMuZGVzaXJlZEhlaWdodHx8dGhpcy4kc2l6ZS5oZWlnaHQhPXRoaXMuZGVzaXJlZEhlaWdodHx8ciE9dGhpcy4kdlNjcm9sbCl7ciE9dGhpcy4kdlNjcm9sbCYmKHRoaXMuJHZTY3JvbGw9cix0aGlzLnNjcm9sbEJhclYuc2V0VmlzaWJsZShyKSk7dmFyIGk9dGhpcy5jb250YWluZXIuY2xpZW50V2lkdGg7dGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0PW4rInB4Iix0aGlzLiR1cGRhdGVDYWNoZWRTaXplKCEwLHRoaXMuJGd1dHRlcldpZHRoLGksbiksdGhpcy5kZXNpcmVkSGVpZ2h0PW59fSx0aGlzLiRjb21wdXRlTGF5ZXJDb25maWc9ZnVuY3Rpb24oKXt0aGlzLiRtYXhMaW5lcyYmdGhpcy5saW5lSGVpZ2h0PjEmJnRoaXMuJGF1dG9zaXplKCk7dmFyIGU9dGhpcy5zZXNzaW9uLHQ9dGhpcy4kc2l6ZSxuPXQuaGVpZ2h0PD0yKnRoaXMubGluZUhlaWdodCxyPXRoaXMuc2Vzc2lvbi5nZXRTY3JlZW5MZW5ndGgoKSxpPXIqdGhpcy5saW5lSGVpZ2h0LHM9dGhpcy5zY3JvbGxUb3AldGhpcy5saW5lSGVpZ2h0LG89dC5zY3JvbGxlckhlaWdodCt0aGlzLmxpbmVIZWlnaHQsdT10aGlzLiRnZXRMb25nZXN0TGluZSgpLGE9IW4mJih0aGlzLiRoU2Nyb2xsQmFyQWx3YXlzVmlzaWJsZXx8dC5zY3JvbGxlcldpZHRoLXUtMip0aGlzLiRwYWRkaW5nPDApLGY9dGhpcy4kaG9yaXpTY3JvbGwhPT1hO2YmJih0aGlzLiRob3JpelNjcm9sbD1hLHRoaXMuc2Nyb2xsQmFySC5zZXRWaXNpYmxlKGEpKSwhdGhpcy4kbWF4TGluZXMmJnRoaXMuJHNjcm9sbFBhc3RFbmQmJnRoaXMuc2Nyb2xsVG9wPmktdC5zY3JvbGxlckhlaWdodCYmKGkrPU1hdGgubWluKCh0LnNjcm9sbGVySGVpZ2h0LXRoaXMubGluZUhlaWdodCkqdGhpcy4kc2Nyb2xsUGFzdEVuZCx0aGlzLnNjcm9sbFRvcC1pK3Quc2Nyb2xsZXJIZWlnaHQpKTt2YXIgbD0hbiYmKHRoaXMuJHZTY3JvbGxCYXJBbHdheXNWaXNpYmxlfHx0LnNjcm9sbGVySGVpZ2h0LWk8MCksYz10aGlzLiR2U2Nyb2xsIT09bDtjJiYodGhpcy4kdlNjcm9sbD1sLHRoaXMuc2Nyb2xsQmFyVi5zZXRWaXNpYmxlKGwpKSx0aGlzLnNlc3Npb24uc2V0U2Nyb2xsVG9wKE1hdGgubWF4KC10aGlzLnNjcm9sbE1hcmdpbi50b3AsTWF0aC5taW4odGhpcy5zY3JvbGxUb3AsaS10LnNjcm9sbGVySGVpZ2h0K3RoaXMuc2Nyb2xsTWFyZ2luLmJvdHRvbSkpKSx0aGlzLnNlc3Npb24uc2V0U2Nyb2xsTGVmdChNYXRoLm1heCgtdGhpcy5zY3JvbGxNYXJnaW4ubGVmdCxNYXRoLm1pbih0aGlzLnNjcm9sbExlZnQsdSsyKnRoaXMuJHBhZGRpbmctdC5zY3JvbGxlcldpZHRoK3RoaXMuc2Nyb2xsTWFyZ2luLnJpZ2h0KSkpO3ZhciB2LG0saD1NYXRoLmNlaWwoby90aGlzLmxpbmVIZWlnaHQpLTEscD1NYXRoLm1heCgwLE1hdGgucm91bmQoKHRoaXMuc2Nyb2xsVG9wLXMpL3RoaXMubGluZUhlaWdodCkpLGQ9cCtoLGc9dGhpcy5saW5lSGVpZ2h0O3A9ZS5zY3JlZW5Ub0RvY3VtZW50Um93KHAsMCk7dmFyIHk9ZS5nZXRGb2xkTGluZShwKTt5JiYocD15LnN0YXJ0LnJvdyksdj1lLmRvY3VtZW50VG9TY3JlZW5Sb3cocCwwKSxtPWUuZ2V0Um93TGVuZ3RoKHApKmcsZD1NYXRoLm1pbihlLnNjcmVlblRvRG9jdW1lbnRSb3coZCwwKSxlLmdldExlbmd0aCgpLTEpLG89dC5zY3JvbGxlckhlaWdodCtlLmdldFJvd0xlbmd0aChkKSpnK20scz10aGlzLnNjcm9sbFRvcC12Kmc7dmFyIGI9MDtyZXR1cm4gdGhpcy5sYXllckNvbmZpZy53aWR0aCE9dSYmKGI9dGhpcy5DSEFOR0VfSF9TQ1JPTEwpLChmfHxjKSYmKGI9dGhpcy4kdXBkYXRlQ2FjaGVkU2l6ZSghMCx0aGlzLmd1dHRlcldpZHRoLHQud2lkdGgsdC5oZWlnaHQpLHRoaXMuX3NpZ25hbCgic2Nyb2xsYmFyVmlzaWJpbGl0eUNoYW5nZWQiKSxjJiYodT10aGlzLiRnZXRMb25nZXN0TGluZSgpKSksdGhpcy5sYXllckNvbmZpZz17d2lkdGg6dSxwYWRkaW5nOnRoaXMuJHBhZGRpbmcsZmlyc3RSb3c6cCxmaXJzdFJvd1NjcmVlbjp2LGxhc3RSb3c6ZCxsaW5lSGVpZ2h0OmcsY2hhcmFjdGVyV2lkdGg6dGhpcy5jaGFyYWN0ZXJXaWR0aCxtaW5IZWlnaHQ6byxtYXhIZWlnaHQ6aSxvZmZzZXQ6cyxndXR0ZXJPZmZzZXQ6TWF0aC5tYXgoMCxNYXRoLmNlaWwoKHMrdC5oZWlnaHQtdC5zY3JvbGxlckhlaWdodCkvZykpLGhlaWdodDp0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0fSxifSx0aGlzLiR1cGRhdGVMaW5lcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuJGNoYW5nZWRMaW5lcy5maXJzdFJvdyx0PXRoaXMuJGNoYW5nZWRMaW5lcy5sYXN0Um93O3RoaXMuJGNoYW5nZWRMaW5lcz1udWxsO3ZhciBuPXRoaXMubGF5ZXJDb25maWc7aWYoIShlPm4ubGFzdFJvdysxfHx0PG4uZmlyc3RSb3cpKXJldHVybiAxLzA9PT10Pyh0aGlzLiRzaG93R3V0dGVyJiZ0aGlzLiRndXR0ZXJMYXllci51cGRhdGUobiksdm9pZCB0aGlzLiR0ZXh0TGF5ZXIudXBkYXRlKG4pKToodGhpcy4kdGV4dExheWVyLnVwZGF0ZUxpbmVzKG4sZSx0KSwhMCl9LHRoaXMuJGdldExvbmdlc3RMaW5lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZXNzaW9uLmdldFNjcmVlbldpZHRoKCk7cmV0dXJuIHRoaXMuc2hvd0ludmlzaWJsZXMmJiF0aGlzLnNlc3Npb24uJHVzZVdyYXBNb2RlJiYoZSs9MSksTWF0aC5tYXgodGhpcy4kc2l6ZS5zY3JvbGxlcldpZHRoLTIqdGhpcy4kcGFkZGluZyxNYXRoLnJvdW5kKGUqdGhpcy5jaGFyYWN0ZXJXaWR0aCkpfSx0aGlzLnVwZGF0ZUZyb250TWFya2Vycz1mdW5jdGlvbigpe3RoaXMuJG1hcmtlckZyb250LnNldE1hcmtlcnModGhpcy5zZXNzaW9uLmdldE1hcmtlcnMoITApKSx0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX01BUktFUl9GUk9OVCl9LHRoaXMudXBkYXRlQmFja01hcmtlcnM9ZnVuY3Rpb24oKXt0aGlzLiRtYXJrZXJCYWNrLnNldE1hcmtlcnModGhpcy5zZXNzaW9uLmdldE1hcmtlcnMoKSksdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9NQVJLRVJfQkFDSyl9LHRoaXMuYWRkR3V0dGVyRGVjb3JhdGlvbj1mdW5jdGlvbihlLHQpe3RoaXMuJGd1dHRlckxheWVyLmFkZEd1dHRlckRlY29yYXRpb24oZSx0KX0sdGhpcy5yZW1vdmVHdXR0ZXJEZWNvcmF0aW9uPWZ1bmN0aW9uKGUsdCl7dGhpcy4kZ3V0dGVyTGF5ZXIucmVtb3ZlR3V0dGVyRGVjb3JhdGlvbihlLHQpfSx0aGlzLnVwZGF0ZUJyZWFrcG9pbnRzPWZ1bmN0aW9uKCl7dGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9HVVRURVIpfSx0aGlzLnNldEFubm90YXRpb25zPWZ1bmN0aW9uKGUpe3RoaXMuJGd1dHRlckxheWVyLnNldEFubm90YXRpb25zKGUpLHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfR1VUVEVSKX0sdGhpcy51cGRhdGVDdXJzb3I9ZnVuY3Rpb24oKXt0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0NVUlNPUil9LHRoaXMuaGlkZUN1cnNvcj1mdW5jdGlvbigpe3RoaXMuJGN1cnNvckxheWVyLmhpZGVDdXJzb3IoKX0sdGhpcy5zaG93Q3Vyc29yPWZ1bmN0aW9uKCl7dGhpcy4kY3Vyc29yTGF5ZXIuc2hvd0N1cnNvcigpfSx0aGlzLnNjcm9sbFNlbGVjdGlvbkludG9WaWV3PWZ1bmN0aW9uKGUsdCxuKXt0aGlzLnNjcm9sbEN1cnNvckludG9WaWV3KGUsbiksdGhpcy5zY3JvbGxDdXJzb3JJbnRvVmlldyh0LG4pfSx0aGlzLnNjcm9sbEN1cnNvckludG9WaWV3PWZ1bmN0aW9uKGUsdCxuKXtpZigwIT09dGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodCl7dmFyIHI9dGhpcy4kY3Vyc29yTGF5ZXIuZ2V0UGl4ZWxQb3NpdGlvbihlKSxpPXIubGVmdCxzPXIudG9wLG89biYmbi50b3B8fDAsdT1uJiZuLmJvdHRvbXx8MCxhPXRoaXMuJHNjcm9sbEFuaW1hdGlvbj90aGlzLnNlc3Npb24uZ2V0U2Nyb2xsVG9wKCk6dGhpcy5zY3JvbGxUb3A7YStvPnM/KHQmJihzLT10KnRoaXMuJHNpemUuc2Nyb2xsZXJIZWlnaHQpLDA9PT1zJiYocz0tdGhpcy5zY3JvbGxNYXJnaW4udG9wKSx0aGlzLnNlc3Npb24uc2V0U2Nyb2xsVG9wKHMpKTphK3RoaXMuJHNpemUuc2Nyb2xsZXJIZWlnaHQtdTxzK3RoaXMubGluZUhlaWdodCYmKHQmJihzKz10KnRoaXMuJHNpemUuc2Nyb2xsZXJIZWlnaHQpLHRoaXMuc2Vzc2lvbi5zZXRTY3JvbGxUb3Aocyt0aGlzLmxpbmVIZWlnaHQtdGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodCkpO3ZhciBmPXRoaXMuc2Nyb2xsTGVmdDtmPmk/KGk8dGhpcy4kcGFkZGluZysyKnRoaXMubGF5ZXJDb25maWcuY2hhcmFjdGVyV2lkdGgmJihpPS10aGlzLnNjcm9sbE1hcmdpbi5sZWZ0KSx0aGlzLnNlc3Npb24uc2V0U2Nyb2xsTGVmdChpKSk6Zit0aGlzLiRzaXplLnNjcm9sbGVyV2lkdGg8aSt0aGlzLmNoYXJhY3RlcldpZHRoP3RoaXMuc2Vzc2lvbi5zZXRTY3JvbGxMZWZ0KE1hdGgucm91bmQoaSt0aGlzLmNoYXJhY3RlcldpZHRoLXRoaXMuJHNpemUuc2Nyb2xsZXJXaWR0aCkpOmY8PXRoaXMuJHBhZGRpbmcmJmktZjx0aGlzLmNoYXJhY3RlcldpZHRoJiZ0aGlzLnNlc3Npb24uc2V0U2Nyb2xsTGVmdCgwKX19LHRoaXMuZ2V0U2Nyb2xsVG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2Vzc2lvbi5nZXRTY3JvbGxUb3AoKX0sdGhpcy5nZXRTY3JvbGxMZWZ0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2Vzc2lvbi5nZXRTY3JvbGxMZWZ0KCl9LHRoaXMuZ2V0U2Nyb2xsVG9wUm93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2Nyb2xsVG9wL3RoaXMubGluZUhlaWdodH0sdGhpcy5nZXRTY3JvbGxCb3R0b21Sb3c9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5tYXgoMCxNYXRoLmZsb29yKCh0aGlzLnNjcm9sbFRvcCt0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0KS90aGlzLmxpbmVIZWlnaHQpLTEpfSx0aGlzLnNjcm9sbFRvUm93PWZ1bmN0aW9uKGUpe3RoaXMuc2Vzc2lvbi5zZXRTY3JvbGxUb3AoZSp0aGlzLmxpbmVIZWlnaHQpfSx0aGlzLmFsaWduQ3Vyc29yPWZ1bmN0aW9uKGUsdCl7Im51bWJlciI9PXR5cGVvZiBlJiYoZT17cm93OmUsY29sdW1uOjB9KTt2YXIgbj10aGlzLiRjdXJzb3JMYXllci5nZXRQaXhlbFBvc2l0aW9uKGUpLHI9dGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodC10aGlzLmxpbmVIZWlnaHQsaT1uLnRvcC1yKih0fHwwKTtyZXR1cm4gdGhpcy5zZXNzaW9uLnNldFNjcm9sbFRvcChpKSxpfSx0aGlzLlNURVBTPTgsdGhpcy4kY2FsY1N0ZXBzPWZ1bmN0aW9uKGUsdCl7dmFyIG49MCxyPXRoaXMuU1RFUFMsaT1bXSxzPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbiooTWF0aC5wb3coZS0xLDMpKzEpK3R9O2ZvcihuPTA7cj5uOysrbilpLnB1c2gocyhuL3RoaXMuU1RFUFMsZSx0LWUpKTtyZXR1cm4gaX0sdGhpcy5zY3JvbGxUb0xpbmU9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9dGhpcy4kY3Vyc29yTGF5ZXIuZ2V0UGl4ZWxQb3NpdGlvbih7cm93OmUsY29sdW1uOjB9KSxzPWkudG9wO3QmJihzLT10aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0LzIpO3ZhciBvPXRoaXMuc2Nyb2xsVG9wO3RoaXMuc2Vzc2lvbi5zZXRTY3JvbGxUb3AocyksbiE9PSExJiZ0aGlzLmFuaW1hdGVTY3JvbGxpbmcobyxyKX0sdGhpcy5hbmltYXRlU2Nyb2xsaW5nPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5zY3JvbGxUb3A7aWYodGhpcy4kYW5pbWF0ZWRTY3JvbGwpe3ZhciByPXRoaXM7aWYoZSE9bil7aWYodGhpcy4kc2Nyb2xsQW5pbWF0aW9uKXt2YXIgaT10aGlzLiRzY3JvbGxBbmltYXRpb24uc3RlcHM7aWYoaS5sZW5ndGgmJihlPWlbMF0sZT09bikpcmV0dXJufXZhciBzPXIuJGNhbGNTdGVwcyhlLG4pO3RoaXMuJHNjcm9sbEFuaW1hdGlvbj17ZnJvbTplLHRvOm4sc3RlcHM6c30sY2xlYXJJbnRlcnZhbCh0aGlzLiR0aW1lciksci5zZXNzaW9uLnNldFNjcm9sbFRvcChzLnNoaWZ0KCkpLHIuc2Vzc2lvbi4kc2Nyb2xsVG9wPW4sdGhpcy4kdGltZXI9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtzLmxlbmd0aD8oci5zZXNzaW9uLnNldFNjcm9sbFRvcChzLnNoaWZ0KCkpLHIuc2Vzc2lvbi4kc2Nyb2xsVG9wPW4pOm51bGwhPW4/KHIuc2Vzc2lvbi4kc2Nyb2xsVG9wPS0xLHIuc2Vzc2lvbi5zZXRTY3JvbGxUb3Aobiksbj1udWxsKTooci4kdGltZXI9Y2xlYXJJbnRlcnZhbChyLiR0aW1lciksci4kc2Nyb2xsQW5pbWF0aW9uPW51bGwsdCYmdCgpKX0sMTApfX19LHRoaXMuc2Nyb2xsVG9ZPWZ1bmN0aW9uKGUpe3RoaXMuc2Nyb2xsVG9wIT09ZSYmKHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfU0NST0xMKSx0aGlzLnNjcm9sbFRvcD1lKX0sdGhpcy5zY3JvbGxUb1g9ZnVuY3Rpb24oZSl7dGhpcy5zY3JvbGxMZWZ0IT09ZSYmKHRoaXMuc2Nyb2xsTGVmdD1lKSx0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0hfU0NST0xMKX0sdGhpcy5zY3JvbGxUbz1mdW5jdGlvbihlLHQpe3RoaXMuc2Vzc2lvbi5zZXRTY3JvbGxUb3AodCksdGhpcy5zZXNzaW9uLnNldFNjcm9sbExlZnQodCl9LHRoaXMuc2Nyb2xsQnk9ZnVuY3Rpb24oZSx0KXt0JiZ0aGlzLnNlc3Npb24uc2V0U2Nyb2xsVG9wKHRoaXMuc2Vzc2lvbi5nZXRTY3JvbGxUb3AoKSt0KSxlJiZ0aGlzLnNlc3Npb24uc2V0U2Nyb2xsTGVmdCh0aGlzLnNlc3Npb24uZ2V0U2Nyb2xsTGVmdCgpK2UpfSx0aGlzLmlzU2Nyb2xsYWJsZUJ5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA+dCYmdGhpcy5zZXNzaW9uLmdldFNjcm9sbFRvcCgpPj0xLXRoaXMuc2Nyb2xsTWFyZ2luLnRvcD8hMDp0PjAmJnRoaXMuc2Vzc2lvbi5nZXRTY3JvbGxUb3AoKSt0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0LXRoaXMubGF5ZXJDb25maWcubWF4SGVpZ2h0LSh0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0LXRoaXMubGluZUhlaWdodCkqdGhpcy4kc2Nyb2xsUGFzdEVuZDwtMSt0aGlzLnNjcm9sbE1hcmdpbi5ib3R0b20/ITA6MD5lJiZ0aGlzLnNlc3Npb24uZ2V0U2Nyb2xsTGVmdCgpPj0xLXRoaXMuc2Nyb2xsTWFyZ2luLmxlZnQ/ITA6ZT4wJiZ0aGlzLnNlc3Npb24uZ2V0U2Nyb2xsTGVmdCgpK3RoaXMuJHNpemUuc2Nyb2xsZXJXaWR0aC10aGlzLmxheWVyQ29uZmlnLndpZHRoPC0xK3RoaXMuc2Nyb2xsTWFyZ2luLnJpZ2h0PyEwOnZvaWQgMH0sdGhpcy5waXhlbFRvU2NyZWVuQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLnNjcm9sbGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHI9KGUrdGhpcy5zY3JvbGxMZWZ0LW4ubGVmdC10aGlzLiRwYWRkaW5nKS90aGlzLmNoYXJhY3RlcldpZHRoLGk9TWF0aC5mbG9vcigodCt0aGlzLnNjcm9sbFRvcC1uLnRvcCkvdGhpcy5saW5lSGVpZ2h0KSxzPU1hdGgucm91bmQocik7cmV0dXJue3JvdzppLGNvbHVtbjpzLHNpZGU6ci1zPjA/MTotMX19LHRoaXMuc2NyZWVuVG9UZXh0Q29vcmRpbmF0ZXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLnNjcm9sbGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHI9TWF0aC5yb3VuZCgoZSt0aGlzLnNjcm9sbExlZnQtbi5sZWZ0LXRoaXMuJHBhZGRpbmcpL3RoaXMuY2hhcmFjdGVyV2lkdGgpLGk9KHQrdGhpcy5zY3JvbGxUb3Atbi50b3ApL3RoaXMubGluZUhlaWdodDtyZXR1cm4gdGhpcy5zZXNzaW9uLnNjcmVlblRvRG9jdW1lbnRQb3NpdGlvbihpLE1hdGgubWF4KHIsMCkpfSx0aGlzLnRleHRUb1NjcmVlbkNvb3JkaW5hdGVzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5zY3JvbGxlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxyPXRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24oZSx0KSxpPXRoaXMuJHBhZGRpbmcrTWF0aC5yb3VuZChyLmNvbHVtbip0aGlzLmNoYXJhY3RlcldpZHRoKSxzPXIucm93KnRoaXMubGluZUhlaWdodDtyZXR1cm57cGFnZVg6bi5sZWZ0K2ktdGhpcy5zY3JvbGxMZWZ0LHBhZ2VZOm4udG9wK3MtdGhpcy5zY3JvbGxUb3B9fSx0aGlzLnZpc3VhbGl6ZUZvY3VzPWZ1bmN0aW9uKCl7aS5hZGRDc3NDbGFzcyh0aGlzLmNvbnRhaW5lciwiYWNlX2ZvY3VzIil9LHRoaXMudmlzdWFsaXplQmx1cj1mdW5jdGlvbigpe2kucmVtb3ZlQ3NzQ2xhc3ModGhpcy5jb250YWluZXIsImFjZV9mb2N1cyIpfSx0aGlzLnNob3dDb21wb3NpdGlvbj1mdW5jdGlvbigpe3RoaXMuJGNvbXBvc2l0aW9ufHwodGhpcy4kY29tcG9zaXRpb249e2tlZXBUZXh0QXJlYUF0Q3Vyc29yOnRoaXMuJGtlZXBUZXh0QXJlYUF0Q3Vyc29yLGNzc1RleHQ6dGhpcy50ZXh0YXJlYS5zdHlsZS5jc3NUZXh0fSksdGhpcy4ka2VlcFRleHRBcmVhQXRDdXJzb3I9ITAsaS5hZGRDc3NDbGFzcyh0aGlzLnRleHRhcmVhLCJhY2VfY29tcG9zaXRpb24iKSx0aGlzLnRleHRhcmVhLnN0eWxlLmNzc1RleHQ9IiIsdGhpcy4kbW92ZVRleHRBcmVhVG9DdXJzb3IoKX0sdGhpcy5zZXRDb21wb3NpdGlvblRleHQ9ZnVuY3Rpb24oKXt0aGlzLiRtb3ZlVGV4dEFyZWFUb0N1cnNvcigpfSx0aGlzLmhpZGVDb21wb3NpdGlvbj1mdW5jdGlvbigpe3RoaXMuJGNvbXBvc2l0aW9uJiYoaS5yZW1vdmVDc3NDbGFzcyh0aGlzLnRleHRhcmVhLCJhY2VfY29tcG9zaXRpb24iKSx0aGlzLiRrZWVwVGV4dEFyZWFBdEN1cnNvcj10aGlzLiRjb21wb3NpdGlvbi5rZWVwVGV4dEFyZWFBdEN1cnNvcix0aGlzLnRleHRhcmVhLnN0eWxlLmNzc1RleHQ9dGhpcy4kY29tcG9zaXRpb24uY3NzVGV4dCx0aGlzLiRjb21wb3NpdGlvbj1udWxsKX0sdGhpcy5zZXRUaGVtZT1mdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG8ocil7aWYobi4kdGhlbWVJZCE9ZSlyZXR1cm4gdCYmdCgpO2lmKHIuY3NzQ2xhc3Mpe2kuaW1wb3J0Q3NzU3RyaW5nKHIuY3NzVGV4dCxyLmNzc0NsYXNzLG4uY29udGFpbmVyLm93bmVyRG9jdW1lbnQpLG4udGhlbWUmJmkucmVtb3ZlQ3NzQ2xhc3Mobi5jb250YWluZXIsbi50aGVtZS5jc3NDbGFzcyk7dmFyIHM9InBhZGRpbmciaW4gcj9yLnBhZGRpbmc6InBhZGRpbmciaW4obi50aGVtZXx8e30pPzQ6bi4kcGFkZGluZztuLiRwYWRkaW5nJiZzIT1uLiRwYWRkaW5nJiZuLnNldFBhZGRpbmcocyksbi4kdGhlbWU9ci5jc3NDbGFzcyxuLnRoZW1lPXIsaS5hZGRDc3NDbGFzcyhuLmNvbnRhaW5lcixyLmNzc0NsYXNzKSxpLnNldENzc0NsYXNzKG4uY29udGFpbmVyLCJhY2VfZGFyayIsci5pc0RhcmspLG4uJHNpemUmJihuLiRzaXplLndpZHRoPTAsbi4kdXBkYXRlU2l6ZUFzeW5jKCkpLG4uX2Rpc3BhdGNoRXZlbnQoInRoZW1lTG9hZGVkIix7dGhlbWU6cn0pLHQmJnQoKX19dmFyIG49dGhpcztpZih0aGlzLiR0aGVtZUlkPWUsbi5fZGlzcGF0Y2hFdmVudCgidGhlbWVDaGFuZ2UiLHt0aGVtZTplfSksZSYmInN0cmluZyIhPXR5cGVvZiBlKW8oZSk7ZWxzZXt2YXIgcj1lfHx0aGlzLiRvcHRpb25zLnRoZW1lLmluaXRpYWxWYWx1ZTtzLmxvYWRNb2R1bGUoWyJ0aGVtZSIscl0sbyl9fSx0aGlzLmdldFRoZW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHRoZW1lSWR9LHRoaXMuc2V0U3R5bGU9ZnVuY3Rpb24oZSx0KXtpLnNldENzc0NsYXNzKHRoaXMuY29udGFpbmVyLGUsdCE9PSExKX0sdGhpcy51bnNldFN0eWxlPWZ1bmN0aW9uKGUpe2kucmVtb3ZlQ3NzQ2xhc3ModGhpcy5jb250YWluZXIsZSl9LHRoaXMuc2V0Q3Vyc29yU3R5bGU9ZnVuY3Rpb24oZSl7dGhpcy5jb250ZW50LnN0eWxlLmN1cnNvciE9ZSYmKHRoaXMuY29udGVudC5zdHlsZS5jdXJzb3I9ZSl9LHRoaXMuc2V0TW91c2VDdXJzb3I9ZnVuY3Rpb24oZSl7dGhpcy5jb250ZW50LnN0eWxlLmN1cnNvcj1lfSx0aGlzLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLiR0ZXh0TGF5ZXIuZGVzdHJveSgpLHRoaXMuJGN1cnNvckxheWVyLmRlc3Ryb3koKX19KS5jYWxsKG0ucHJvdG90eXBlKSxzLmRlZmluZU9wdGlvbnMobS5wcm90b3R5cGUsInJlbmRlcmVyIix7YW5pbWF0ZWRTY3JvbGw6e2luaXRpYWxWYWx1ZTohMX0sc2hvd0ludmlzaWJsZXM6e3NldDpmdW5jdGlvbihlKXt0aGlzLiR0ZXh0TGF5ZXIuc2V0U2hvd0ludmlzaWJsZXMoZSkmJnRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfVEVYVCl9LGluaXRpYWxWYWx1ZTohMX0sc2hvd1ByaW50TWFyZ2luOntzZXQ6ZnVuY3Rpb24oKXt0aGlzLiR1cGRhdGVQcmludE1hcmdpbigpfSxpbml0aWFsVmFsdWU6ITB9LHByaW50TWFyZ2luQ29sdW1uOntzZXQ6ZnVuY3Rpb24oKXt0aGlzLiR1cGRhdGVQcmludE1hcmdpbigpfSxpbml0aWFsVmFsdWU6ODB9LHByaW50TWFyZ2luOntzZXQ6ZnVuY3Rpb24oZSl7Im51bWJlciI9PXR5cGVvZiBlJiYodGhpcy4kcHJpbnRNYXJnaW5Db2x1bW49ZSksdGhpcy4kc2hvd1ByaW50TWFyZ2luPSEhZSx0aGlzLiR1cGRhdGVQcmludE1hcmdpbigpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kc2hvd1ByaW50TWFyZ2luJiZ0aGlzLiRwcmludE1hcmdpbkNvbHVtbn19LHNob3dHdXR0ZXI6e3NldDpmdW5jdGlvbihlKXt0aGlzLiRndXR0ZXIuc3R5bGUuZGlzcGxheT1lPyJibG9jayI6Im5vbmUiLHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfRlVMTCksdGhpcy5vbkd1dHRlclJlc2l6ZSgpfSxpbml0aWFsVmFsdWU6ITB9LGZhZGVGb2xkV2lkZ2V0czp7c2V0OmZ1bmN0aW9uKGUpe2kuc2V0Q3NzQ2xhc3ModGhpcy4kZ3V0dGVyLCJhY2VfZmFkZS1mb2xkLXdpZGdldHMiLGUpfSxpbml0aWFsVmFsdWU6ITF9LHNob3dGb2xkV2lkZ2V0czp7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuJGd1dHRlckxheWVyLnNldFNob3dGb2xkV2lkZ2V0cyhlKX0saW5pdGlhbFZhbHVlOiEwfSxzaG93TGluZU51bWJlcnM6e3NldDpmdW5jdGlvbihlKXt0aGlzLiRndXR0ZXJMYXllci5zZXRTaG93TGluZU51bWJlcnMoZSksdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9HVVRURVIpfSxpbml0aWFsVmFsdWU6ITB9LGRpc3BsYXlJbmRlbnRHdWlkZXM6e3NldDpmdW5jdGlvbihlKXt0aGlzLiR0ZXh0TGF5ZXIuc2V0RGlzcGxheUluZGVudEd1aWRlcyhlKSYmdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9URVhUKX0saW5pdGlhbFZhbHVlOiEwfSxoaWdobGlnaHRHdXR0ZXJMaW5lOntzZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuJGd1dHRlckxpbmVIaWdobGlnaHQ/KHRoaXMuJGd1dHRlckxpbmVIaWdobGlnaHQuc3R5bGUuZGlzcGxheT1lPyIiOiJub25lIix2b2lkKHRoaXMuJGN1cnNvckxheWVyLiRwaXhlbFBvcyYmdGhpcy4kdXBkYXRlR3V0dGVyTGluZUhpZ2hsaWdodCgpKSk6KHRoaXMuJGd1dHRlckxpbmVIaWdobGlnaHQ9aS5jcmVhdGVFbGVtZW50KCJkaXYiKSx0aGlzLiRndXR0ZXJMaW5lSGlnaGxpZ2h0LmNsYXNzTmFtZT0iYWNlX2d1dHRlci1hY3RpdmUtbGluZSIsdGhpcy4kZ3V0dGVyLmFwcGVuZENoaWxkKHRoaXMuJGd1dHRlckxpbmVIaWdobGlnaHQpLHZvaWQgMCl9LGluaXRpYWxWYWx1ZTohMSx2YWx1ZTohMH0saFNjcm9sbEJhckFsd2F5c1Zpc2libGU6e3NldDpmdW5jdGlvbigpeyghdGhpcy4kaFNjcm9sbEJhckFsd2F5c1Zpc2libGV8fCF0aGlzLiRob3JpelNjcm9sbCkmJnRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfU0NST0xMKX0saW5pdGlhbFZhbHVlOiExfSx2U2Nyb2xsQmFyQWx3YXlzVmlzaWJsZTp7c2V0OmZ1bmN0aW9uKCl7KCF0aGlzLiR2U2Nyb2xsQmFyQWx3YXlzVmlzaWJsZXx8IXRoaXMuJHZTY3JvbGwpJiZ0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX1NDUk9MTCl9LGluaXRpYWxWYWx1ZTohMX0sZm9udFNpemU6e3NldDpmdW5jdGlvbihlKXsibnVtYmVyIj09dHlwZW9mIGUmJihlKz0icHgiKSx0aGlzLmNvbnRhaW5lci5zdHlsZS5mb250U2l6ZT1lLHRoaXMudXBkYXRlRm9udFNpemUoKX0saW5pdGlhbFZhbHVlOjEyfSxmb250RmFtaWx5OntzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5jb250YWluZXIuc3R5bGUuZm9udEZhbWlseT1lLHRoaXMudXBkYXRlRm9udFNpemUoKX19LG1heExpbmVzOntzZXQ6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZUZ1bGwoKX19LG1pbkxpbmVzOntzZXQ6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZUZ1bGwoKX19LHNjcm9sbFBhc3RFbmQ6e3NldDpmdW5jdGlvbihlKXtlPStlfHwwLHRoaXMuJHNjcm9sbFBhc3RFbmQhPWUmJih0aGlzLiRzY3JvbGxQYXN0RW5kPWUsdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9TQ1JPTEwpKX0saW5pdGlhbFZhbHVlOjAsaGFuZGxlc1NldDohMH0sZml4ZWRXaWR0aEd1dHRlcjp7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuJGd1dHRlckxheWVyLiRmaXhlZFdpZHRoPSEhZSx0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0dVVFRFUil9fSx0aGVtZTp7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuc2V0VGhlbWUoZSl9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiR0aGVtZUlkfHx0aGlzLnRoZW1lfSxpbml0aWFsVmFsdWU6Ii4vdGhlbWUvdGV4dG1hdGUiLGhhbmRsZXNTZXQ6ITB9fSksdC5WaXJ0dWFsUmVuZGVyZXI9bX0pLGRlZmluZSgiYWNlL2NvbmZpZyIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvbGFuZyIsImFjZS9saWIvb29wIiwiYWNlL2xpYi9uZXQiLCJhY2UvbGliL2V2ZW50X2VtaXR0ZXIiXSxmdW5jdGlvbihlLHQsbil7Im5vIHVzZSBzdHJpY3QiO2Z1bmN0aW9uIGYocil7aWYoYS5wYWNrYWdlZD1yfHxlLnBhY2thZ2VkfHxuLnBhY2thZ2VkfHx1LmRlZmluZSYmZGVmaW5lLnBhY2thZ2VkLCF1LmRvY3VtZW50KXJldHVybiIiO2Zvcih2YXIgaT17fSxzPSIiLG89ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLGY9MDtmPG8ubGVuZ3RoO2YrKyl7dmFyIGM9b1tmXSxoPWMuc3JjfHxjLmdldEF0dHJpYnV0ZSgic3JjIik7aWYoaCl7Zm9yKHZhciBwPWMuYXR0cmlidXRlcyxkPTAsdj1wLmxlbmd0aDt2PmQ7ZCsrKXt2YXIgbT1wW2RdOzA9PT1tLm5hbWUuaW5kZXhPZigiZGF0YS1hY2UtIikmJihpW2wobS5uYW1lLnJlcGxhY2UoL15kYXRhLWFjZS0vLCIiKSldPW0udmFsdWUpfXZhciBnPWgubWF0Y2goL14oLiopXC9hY2UoXC1cdyspP1wuanMoXD98JCkvKTtnJiYocz1nWzFdKX19cyYmKGkuYmFzZT1pLmJhc2V8fHMsaS5wYWNrYWdlZD0hMCksaS5iYXNlUGF0aD1pLmJhc2UsaS53b3JrZXJQYXRoPWkud29ya2VyUGF0aHx8aS5iYXNlLGkubW9kZVBhdGg9aS5tb2RlUGF0aHx8aS5iYXNlLGkudGhlbWVQYXRoPWkudGhlbWVQYXRofHxpLmJhc2UsZGVsZXRlIGkuYmFzZTtmb3IodmFyIHkgaW4gaSkidW5kZWZpbmVkIiE9dHlwZW9mIGlbeV0mJnQuc2V0KHksaVt5XSl9ZnVuY3Rpb24gbChlKXtyZXR1cm4gZS5yZXBsYWNlKC8tKC4pL2csZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfSl9dmFyIHI9ZSgiLi9saWIvbGFuZyIpLGk9ZSgiLi9saWIvb29wIikscz1lKCIuL2xpYi9uZXQiKSxvPWUoIi4vbGliL2V2ZW50X2VtaXR0ZXIiKS5FdmVudEVtaXR0ZXIsdT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpLGE9e3BhY2thZ2VkOiExLHdvcmtlclBhdGg6bnVsbCxtb2RlUGF0aDpudWxsLHRoZW1lUGF0aDpudWxsLGJhc2VQYXRoOiIiLHN1ZmZpeDoiLmpzIiwkbW9kdWxlVXJsczp7fX07dC5nZXQ9ZnVuY3Rpb24oZSl7aWYoIWEuaGFzT3duUHJvcGVydHkoZSkpdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGNvbmZpZyBrZXk6ICIrZSk7cmV0dXJuIGFbZV19LHQuc2V0PWZ1bmN0aW9uKGUsdCl7aWYoIWEuaGFzT3duUHJvcGVydHkoZSkpdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGNvbmZpZyBrZXk6ICIrZSk7YVtlXT10fSx0LmFsbD1mdW5jdGlvbigpe3JldHVybiByLmNvcHlPYmplY3QoYSl9LGkuaW1wbGVtZW50KHQsbyksdC5tb2R1bGVVcmw9ZnVuY3Rpb24oZSx0KXtpZihhLiRtb2R1bGVVcmxzW2VdKXJldHVybiBhLiRtb2R1bGVVcmxzW2VdO3ZhciBuPWUuc3BsaXQoIi8iKTt0PXR8fG5bbi5sZW5ndGgtMl18fCIiO3ZhciByPSJzbmlwcGV0cyI9PXQ/Ii8iOiItIixpPW5bbi5sZW5ndGgtMV07aWYoIi0iPT1yKXt2YXIgcz1uZXcgUmVnRXhwKCJeIit0KyJbXFwtX118W1xcLV9dIit0KyIkIiwiZyIpO2k9aS5yZXBsYWNlKHMsIiIpfSghaXx8aT09dCkmJm4ubGVuZ3RoPjEmJihpPW5bbi5sZW5ndGgtMl0pO3ZhciBvPWFbdCsiUGF0aCJdO3JldHVybiBudWxsPT1vP289YS5iYXNlUGF0aDoiLyI9PXImJih0PXI9IiIpLG8mJiIvIiE9by5zbGljZSgtMSkmJihvKz0iLyIpLG8rdCtyK2krdGhpcy5nZXQoInN1ZmZpeCIpfSx0LnNldE1vZHVsZVVybD1mdW5jdGlvbihlLHQpe3JldHVybiBhLiRtb2R1bGVVcmxzW2VdPXR9LHQuJGxvYWRpbmc9e30sdC5sb2FkTW9kdWxlPWZ1bmN0aW9uKG4scil7dmFyIGksbztBcnJheS5pc0FycmF5KG4pJiYobz1uWzBdLG49blsxXSk7dHJ5e2k9ZShuKX1jYXRjaCh1KXt9aWYoaSYmIXQuJGxvYWRpbmdbbl0pcmV0dXJuIHImJnIoaSk7aWYodC4kbG9hZGluZ1tuXXx8KHQuJGxvYWRpbmdbbl09W10pLHQuJGxvYWRpbmdbbl0ucHVzaChyKSwhKHQuJGxvYWRpbmdbbl0ubGVuZ3RoPjEpKXt2YXIgYT1mdW5jdGlvbigpe2UoW25dLGZ1bmN0aW9uKGUpe3QuX2VtaXQoImxvYWQubW9kdWxlIix7bmFtZTpuLG1vZHVsZTplfSk7dmFyIHI9dC4kbG9hZGluZ1tuXTt0LiRsb2FkaW5nW25dPW51bGwsci5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QmJnQoZSl9KX0pfTtyZXR1cm4gdC5nZXQoInBhY2thZ2VkIik/dm9pZCBzLmxvYWRTY3JpcHQodC5tb2R1bGVVcmwobixvKSxhKTphKCl9fSxmKCEwKSx0LmluaXQ9Zjt2YXIgYz17c2V0T3B0aW9uczpmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3RoaXMuc2V0T3B0aW9uKHQsZVt0XSl9LHRoaXMpfSxnZXRPcHRpb25zOmZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBlP0FycmF5LmlzQXJyYXkoZSl8fCh0PWUsZT1PYmplY3Qua2V5cyh0KSk6ZT1PYmplY3Qua2V5cyh0aGlzLiRvcHRpb25zKSxlLmZvckVhY2goZnVuY3Rpb24oZSl7dFtlXT10aGlzLmdldE9wdGlvbihlKX0sdGhpcyksdH0sc2V0T3B0aW9uOmZ1bmN0aW9uKGUsdCl7aWYodGhpc1siJCIrZV0hPT10KXt2YXIgbj10aGlzLiRvcHRpb25zW2VdO3JldHVybiBuP24uZm9yd2FyZFRvP3RoaXNbbi5mb3J3YXJkVG9dJiZ0aGlzW24uZm9yd2FyZFRvXS5zZXRPcHRpb24oZSx0KToobi5oYW5kbGVzU2V0fHwodGhpc1siJCIrZV09dCksdm9pZChuJiZuLnNldCYmbi5zZXQuY2FsbCh0aGlzLHQpKSk6dm9pZCgidW5kZWZpbmVkIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKCdtaXNzcGVsbGVkIG9wdGlvbiAiJytlKyciJykpfX0sZ2V0T3B0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuJG9wdGlvbnNbZV07cmV0dXJuIHQ/dC5mb3J3YXJkVG8/dGhpc1t0LmZvcndhcmRUb10mJnRoaXNbdC5mb3J3YXJkVG9dLmdldE9wdGlvbihlKTp0JiZ0LmdldD90LmdldC5jYWxsKHRoaXMpOnRoaXNbIiQiK2VdOnZvaWQoInVuZGVmaW5lZCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybignbWlzc3BlbGxlZCBvcHRpb24gIicrZSsnIicpKX19LGg9e307dC5kZWZpbmVPcHRpb25zPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZS4kb3B0aW9uc3x8KGhbdF09ZS4kb3B0aW9ucz17fSksT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgcj1uW3RdOyJzdHJpbmciPT10eXBlb2YgciYmKHI9e2ZvcndhcmRUbzpyfSksci5uYW1lfHwoci5uYW1lPXQpLGUuJG9wdGlvbnNbci5uYW1lXT1yLCJpbml0aWFsVmFsdWUiaW4gciYmKGVbIiQiK3IubmFtZV09ci5pbml0aWFsVmFsdWUpfSksaS5pbXBsZW1lbnQoZSxjKSx0aGlzfSx0LnJlc2V0T3B0aW9ucz1mdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlLiRvcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPWUuJG9wdGlvbnNbdF07InZhbHVlImluIG4mJmUuc2V0T3B0aW9uKHQsbi52YWx1ZSl9KX0sdC5zZXREZWZhdWx0VmFsdWU9ZnVuY3Rpb24oZSxuLHIpe3ZhciBpPWhbZV18fChoW2VdPXt9KTtpW25dJiYoaS5mb3J3YXJkVG8/dC5zZXREZWZhdWx0VmFsdWUoaS5mb3J3YXJkVG8sbixyKTppW25dLnZhbHVlPXIpfSx0LnNldERlZmF1bHRWYWx1ZXM9ZnVuY3Rpb24oZSxuKXtPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3Quc2V0RGVmYXVsdFZhbHVlKGUscixuW3JdKX0pfX0pLGRlZmluZSgiYWNlL2xheWVyL2d1dHRlciIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvZG9tIiwiYWNlL2xpYi9vb3AiLCJhY2UvbGliL2xhbmciLCJhY2UvbGliL2V2ZW50X2VtaXR0ZXIiXSxmdW5jdGlvbihlLHQpe3ZhciByPWUoIi4uL2xpYi9kb20iKSxpPWUoIi4uL2xpYi9vb3AiKSxzPWUoIi4uL2xpYi9sYW5nIiksbz1lKCIuLi9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcix1PWZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudD1yLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuZWxlbWVudC5jbGFzc05hbWU9ImFjZV9sYXllciBhY2VfZ3V0dGVyLWxheWVyIixlLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCksdGhpcy5zZXRTaG93Rm9sZFdpZGdldHModGhpcy4kc2hvd0ZvbGRXaWRnZXRzKSx0aGlzLmd1dHRlcldpZHRoPTAsdGhpcy4kYW5ub3RhdGlvbnM9W10sdGhpcy4kdXBkYXRlQW5ub3RhdGlvbnM9dGhpcy4kdXBkYXRlQW5ub3RhdGlvbnMuYmluZCh0aGlzKSx0aGlzLiRjZWxscz1bXX07KGZ1bmN0aW9uKCl7aS5pbXBsZW1lbnQodGhpcyxvKSx0aGlzLnNldFNlc3Npb249ZnVuY3Rpb24oZSl7dGhpcy5zZXNzaW9uJiZ0aGlzLnNlc3Npb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2hhbmdlIix0aGlzLiR1cGRhdGVBbm5vdGF0aW9ucyksdGhpcy5zZXNzaW9uPWUsZS5vbigiY2hhbmdlIix0aGlzLiR1cGRhdGVBbm5vdGF0aW9ucyl9LHRoaXMuYWRkR3V0dGVyRGVjb3JhdGlvbj1mdW5jdGlvbihlLHQpe3dpbmRvdy5jb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybigiZGVwcmVjYXRlZCB1c2Ugc2Vzc2lvbi5hZGRHdXR0ZXJEZWNvcmF0aW9uIiksdGhpcy5zZXNzaW9uLmFkZEd1dHRlckRlY29yYXRpb24oZSx0KX0sdGhpcy5yZW1vdmVHdXR0ZXJEZWNvcmF0aW9uPWZ1bmN0aW9uKGUsdCl7d2luZG93LmNvbnNvbGUmJmNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKCJkZXByZWNhdGVkIHVzZSBzZXNzaW9uLnJlbW92ZUd1dHRlckRlY29yYXRpb24iKSx0aGlzLnNlc3Npb24ucmVtb3ZlR3V0dGVyRGVjb3JhdGlvbihlLHQpfSx0aGlzLnNldEFubm90YXRpb25zPWZ1bmN0aW9uKGUpe3RoaXMuJGFubm90YXRpb25zPVtdO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdLHI9bi5yb3csaT10aGlzLiRhbm5vdGF0aW9uc1tyXTtpfHwoaT10aGlzLiRhbm5vdGF0aW9uc1tyXT17dGV4dDpbXX0pO3ZhciBvPW4udGV4dDtvPW8/cy5lc2NhcGVIVE1MKG8pOm4uaHRtbHx8IiIsLTE9PT1pLnRleHQuaW5kZXhPZihvKSYmaS50ZXh0LnB1c2gobyk7dmFyIHU9bi50eXBlOyJlcnJvciI9PXU/aS5jbGFzc05hbWU9IiBhY2VfZXJyb3IiOiJ3YXJuaW5nIj09dSYmIiBhY2VfZXJyb3IiIT1pLmNsYXNzTmFtZT9pLmNsYXNzTmFtZT0iIGFjZV93YXJuaW5nIjoiaW5mbyI9PXUmJiFpLmNsYXNzTmFtZSYmKGkuY2xhc3NOYW1lPSIgYWNlX2luZm8iKX19LHRoaXMuJHVwZGF0ZUFubm90YXRpb25zPWZ1bmN0aW9uKGUpe2lmKHRoaXMuJGFubm90YXRpb25zLmxlbmd0aCl7dmFyIHQ9ZS5kYXRhLG49dC5yYW5nZSxyPW4uc3RhcnQucm93LGk9bi5lbmQucm93LXI7aWYoMCE9PWkpaWYoInJlbW92ZVRleHQiPT10LmFjdGlvbnx8InJlbW92ZUxpbmVzIj09dC5hY3Rpb24pdGhpcy4kYW5ub3RhdGlvbnMuc3BsaWNlKHIsaSsxLG51bGwpO2Vsc2V7dmFyIHM9bmV3IEFycmF5KGkrMSk7cy51bnNoaWZ0KHIsMSksdGhpcy4kYW5ub3RhdGlvbnMuc3BsaWNlLmFwcGx5KHRoaXMuJGFubm90YXRpb25zLHMpfX19LHRoaXMudXBkYXRlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnNlc3Npb24sbj1lLmZpcnN0Um93LGk9TWF0aC5taW4oZS5sYXN0Um93K2UuZ3V0dGVyT2Zmc2V0LHQuZ2V0TGVuZ3RoKCktMSkscz10LmdldE5leHRGb2xkTGluZShuKSxvPXM/cy5zdGFydC5yb3c6MS8wLHU9dGhpcy4kc2hvd0ZvbGRXaWRnZXRzJiZ0LmZvbGRXaWRnZXRzLGE9dC4kYnJlYWtwb2ludHMsZj10LiRkZWNvcmF0aW9ucyxsPXQuJGZpcnN0TGluZU51bWJlcixjPTAsaD10Lmd1dHRlclJlbmRlcmVyfHx0aGlzLiRyZW5kZXJlcixwPW51bGwsZD0tMSx2PW47Oyl7aWYodj5vJiYodj1zLmVuZC5yb3crMSxzPXQuZ2V0TmV4dEZvbGRMaW5lKHYscyksbz1zP3Muc3RhcnQucm93OjEvMCksdj5pKXtmb3IoO3RoaXMuJGNlbGxzLmxlbmd0aD5kKzE7KXA9dGhpcy4kY2VsbHMucG9wKCksdGhpcy5lbGVtZW50LnJlbW92ZUNoaWxkKHAuZWxlbWVudCk7YnJlYWt9cD10aGlzLiRjZWxsc1srK2RdLHB8fChwPXtlbGVtZW50Om51bGwsdGV4dE5vZGU6bnVsbCxmb2xkV2lkZ2V0Om51bGx9LHAuZWxlbWVudD1yLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHAudGV4dE5vZGU9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpLHAuZWxlbWVudC5hcHBlbmRDaGlsZChwLnRleHROb2RlKSx0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQocC5lbGVtZW50KSx0aGlzLiRjZWxsc1tkXT1wKTt2YXIgbT0iYWNlX2d1dHRlci1jZWxsICI7YVt2XSYmKG0rPWFbdl0pLGZbdl0mJihtKz1mW3ZdKSx0aGlzLiRhbm5vdGF0aW9uc1t2XSYmKG0rPXRoaXMuJGFubm90YXRpb25zW3ZdLmNsYXNzTmFtZSkscC5lbGVtZW50LmNsYXNzTmFtZSE9bSYmKHAuZWxlbWVudC5jbGFzc05hbWU9bSk7dmFyIGc9dC5nZXRSb3dMZW5ndGgodikqZS5saW5lSGVpZ2h0KyJweCI7aWYoZyE9cC5lbGVtZW50LnN0eWxlLmhlaWdodCYmKHAuZWxlbWVudC5zdHlsZS5oZWlnaHQ9ZyksdSl7dmFyIHk9dVt2XTtudWxsPT15JiYoeT11W3ZdPXQuZ2V0Rm9sZFdpZGdldCh2KSl9aWYoeSl7cC5mb2xkV2lkZ2V0fHwocC5mb2xkV2lkZ2V0PXIuY3JlYXRlRWxlbWVudCgic3BhbiIpLHAuZWxlbWVudC5hcHBlbmRDaGlsZChwLmZvbGRXaWRnZXQpKTt2YXIgbT0iYWNlX2ZvbGQtd2lkZ2V0IGFjZV8iK3k7bSs9InN0YXJ0Ij09eSYmdj09byYmdjxzLmVuZC5yb3c/IiBhY2VfY2xvc2VkIjoiIGFjZV9vcGVuIixwLmZvbGRXaWRnZXQuY2xhc3NOYW1lIT1tJiYocC5mb2xkV2lkZ2V0LmNsYXNzTmFtZT1tKTt2YXIgZz1lLmxpbmVIZWlnaHQrInB4IjtwLmZvbGRXaWRnZXQuc3R5bGUuaGVpZ2h0IT1nJiYocC5mb2xkV2lkZ2V0LnN0eWxlLmhlaWdodD1nKX1lbHNlIHAuZm9sZFdpZGdldCYmKHAuZWxlbWVudC5yZW1vdmVDaGlsZChwLmZvbGRXaWRnZXQpLHAuZm9sZFdpZGdldD1udWxsKTt2YXIgYj1jPWg/aC5nZXRUZXh0KHQsdik6ditsO2IhPXAudGV4dE5vZGUuZGF0YSYmKHAudGV4dE5vZGUuZGF0YT1iKSx2Kyt9dGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodD1lLm1pbkhlaWdodCsicHgiLCh0aGlzLiRmaXhlZFdpZHRofHx0LiR1c2VXcmFwTW9kZSkmJihjPXQuZ2V0TGVuZ3RoKCkrbCk7dmFyIHc9aD9oLmdldFdpZHRoKHQsYyxlKTpjLnRvU3RyaW5nKCkubGVuZ3RoKmUuY2hhcmFjdGVyV2lkdGgsRT10aGlzLiRwYWRkaW5nfHx0aGlzLiRjb21wdXRlUGFkZGluZygpO3crPUUubGVmdCtFLnJpZ2h0LHchPT10aGlzLmd1dHRlcldpZHRoJiYhaXNOYU4odykmJih0aGlzLmd1dHRlcldpZHRoPXcsdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoPU1hdGguY2VpbCh0aGlzLmd1dHRlcldpZHRoKSsicHgiLHRoaXMuX2VtaXQoImNoYW5nZUd1dHRlcldpZHRoIix3KSl9LHRoaXMuJGZpeGVkV2lkdGg9ITEsdGhpcy4kc2hvd0xpbmVOdW1iZXJzPSEwLHRoaXMuJHJlbmRlcmVyPSIiLHRoaXMuc2V0U2hvd0xpbmVOdW1iZXJzPWZ1bmN0aW9uKGUpe3RoaXMuJHJlbmRlcmVyPSFlJiZ7Z2V0V2lkdGg6ZnVuY3Rpb24oKXtyZXR1cm4iIn0sZ2V0VGV4dDpmdW5jdGlvbigpe3JldHVybiIifX19LHRoaXMuZ2V0U2hvd0xpbmVOdW1iZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHNob3dMaW5lTnVtYmVyc30sdGhpcy4kc2hvd0ZvbGRXaWRnZXRzPSEwLHRoaXMuc2V0U2hvd0ZvbGRXaWRnZXRzPWZ1bmN0aW9uKGUpe2U/ci5hZGRDc3NDbGFzcyh0aGlzLmVsZW1lbnQsImFjZV9mb2xkaW5nLWVuYWJsZWQiKTpyLnJlbW92ZUNzc0NsYXNzKHRoaXMuZWxlbWVudCwiYWNlX2ZvbGRpbmctZW5hYmxlZCIpLHRoaXMuJHNob3dGb2xkV2lkZ2V0cz1lLHRoaXMuJHBhZGRpbmc9bnVsbH0sdGhpcy5nZXRTaG93Rm9sZFdpZGdldHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kc2hvd0ZvbGRXaWRnZXRzfSx0aGlzLiRjb21wdXRlUGFkZGluZz1mdW5jdGlvbigpe2lmKCF0aGlzLmVsZW1lbnQuZmlyc3RDaGlsZClyZXR1cm57bGVmdDowLHJpZ2h0OjB9O3ZhciBlPXIuY29tcHV0ZWRTdHlsZSh0aGlzLmVsZW1lbnQuZmlyc3RDaGlsZCk7cmV0dXJuIHRoaXMuJHBhZGRpbmc9e30sdGhpcy4kcGFkZGluZy5sZWZ0PXBhcnNlSW50KGUucGFkZGluZ0xlZnQpKzF8fDAsdGhpcy4kcGFkZGluZy5yaWdodD1wYXJzZUludChlLnBhZGRpbmdSaWdodCl8fDAsdGhpcy4kcGFkZGluZ30sdGhpcy5nZXRSZWdpb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy4kcGFkZGluZ3x8dGhpcy4kY29tcHV0ZVBhZGRpbmcoKSxuPXRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gZS54PHQubGVmdCtuLmxlZnQ/Im1hcmtlcnMiOnRoaXMuJHNob3dGb2xkV2lkZ2V0cyYmZS54Pm4ucmlnaHQtdC5yaWdodD8iZm9sZFdpZGdldHMiOnZvaWQgMH19KS5jYWxsKHUucHJvdG90eXBlKSx0Lkd1dHRlcj11fSksZGVmaW5lKCJhY2UvbW91c2UvZHJhZ2Ryb3BfaGFuZGxlciIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvZG9tIiwiYWNlL2xpYi9ldmVudCIsImFjZS9saWIvdXNlcmFnZW50Il0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBmKGUpe2Z1bmN0aW9uIFQoZSxuKXt2YXIgcj1EYXRlLm5vdygpLGk9IW58fGUucm93IT1uLnJvdyxzPSFufHxlLmNvbHVtbiE9bi5jb2x1bW47aWYoIVN8fGl8fHMpdC4kYmxvY2tTY3JvbGxpbmcrPTEsdC5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihlKSx0LiRibG9ja1Njcm9sbGluZy09MSxTPXIseD17eDpwLHk6ZH07ZWxzZXt2YXIgbz1sKHgueCx4LnkscCxkKTtvPmE/Uz1udWxsOnItUz49dSYmKHQucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcoKSxTPW51bGwpfX1mdW5jdGlvbiBOKGUsbil7dmFyIHI9RGF0ZS5ub3coKSxpPXQucmVuZGVyZXIubGF5ZXJDb25maWcubGluZUhlaWdodCxzPXQucmVuZGVyZXIubGF5ZXJDb25maWcuY2hhcmFjdGVyV2lkdGgsdT10LnJlbmRlcmVyLnNjcm9sbGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGE9e3g6e2xlZnQ6cC11LmxlZnQscmlnaHQ6dS5yaWdodC1wfSx5Ont0b3A6ZC11LnRvcCxib3R0b206dS5ib3R0b20tZH19LGY9TWF0aC5taW4oYS54LmxlZnQsYS54LnJpZ2h0KSxsPU1hdGgubWluKGEueS50b3AsYS55LmJvdHRvbSksYz17cm93OmUucm93LGNvbHVtbjplLmNvbHVtbn07Mj49Zi9zJiYoYy5jb2x1bW4rPWEueC5sZWZ0PGEueC5yaWdodD8tMzoyKSwxPj1sL2kmJihjLnJvdys9YS55LnRvcDxhLnkuYm90dG9tPy0xOjEpO3ZhciBoPWUucm93IT1jLnJvdyx2PWUuY29sdW1uIT1jLmNvbHVtbixtPSFufHxlLnJvdyE9bi5yb3c7aHx8diYmIW0/RT9yLUU+PW8mJnQucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcoYyk6RT1yOkU9bnVsbH1mdW5jdGlvbiBDKCl7dmFyIGU9ZztnPXQucmVuZGVyZXIuc2NyZWVuVG9UZXh0Q29vcmRpbmF0ZXMocCxkKSxUKGcsZSksTihnLGUpfWZ1bmN0aW9uIGsoKXttPXQuc2VsZWN0aW9uLnRvT3JpZW50ZWRSYW5nZSgpLGg9dC5zZXNzaW9uLmFkZE1hcmtlcihtLCJhY2Vfc2VsZWN0aW9uIix0LmdldFNlbGVjdGlvblN0eWxlKCkpLHQuY2xlYXJTZWxlY3Rpb24oKSx0LmlzRm9jdXNlZCgpJiZ0LnJlbmRlcmVyLiRjdXJzb3JMYXllci5zZXRCbGlua2luZyghMSksY2xlYXJJbnRlcnZhbCh2KSx2PXNldEludGVydmFsKEMsMjApLHk9MCxpLmFkZExpc3RlbmVyKGRvY3VtZW50LCJtb3VzZW1vdmUiLE8pfWZ1bmN0aW9uIEwoKXtjbGVhckludGVydmFsKHYpLHQuc2Vzc2lvbi5yZW1vdmVNYXJrZXIoaCksaD1udWxsLHQuJGJsb2NrU2Nyb2xsaW5nKz0xLHQuc2VsZWN0aW9uLmZyb21PcmllbnRlZFJhbmdlKG0pLHQuJGJsb2NrU2Nyb2xsaW5nLT0xLHQuaXNGb2N1c2VkKCkmJiF3JiZ0LnJlbmRlcmVyLiRjdXJzb3JMYXllci5zZXRCbGlua2luZyghdC5nZXRSZWFkT25seSgpKSxtPW51bGwseT0wLEU9bnVsbCxTPW51bGwsaS5yZW1vdmVMaXN0ZW5lcihkb2N1bWVudCwibW91c2Vtb3ZlIixPKX1mdW5jdGlvbiBPKCl7bnVsbD09QSYmKEE9c2V0VGltZW91dChmdW5jdGlvbigpe251bGwhPUEmJmgmJkwoKX0sMjApKX1mdW5jdGlvbiBNKGUpe3ZhciB0PWUudHlwZXM7cmV0dXJuIXR8fEFycmF5LnByb3RvdHlwZS5zb21lLmNhbGwodCxmdW5jdGlvbihlKXtyZXR1cm4idGV4dC9wbGFpbiI9PWV8fCJUZXh0Ij09ZX0pfWZ1bmN0aW9uIF8oZSl7dmFyIHQ9WyJjb3B5IiwiY29weW1vdmUiLCJhbGwiLCJ1bmluaXRpYWxpemVkIl0sbj1bIm1vdmUiLCJjb3B5bW92ZSIsImxpbmttb3ZlIiwiYWxsIiwidW5pbml0aWFsaXplZCJdLHI9cy5pc01hYz9lLmFsdEtleTplLmN0cmxLZXksaT0idW5pbml0aWFsaXplZCI7dHJ5e2k9ZS5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZC50b0xvd2VyQ2FzZSgpfWNhdGNoKGUpe312YXIgbz0ibm9uZSI7cmV0dXJuIHImJnQuaW5kZXhPZihpKT49MD9vPSJjb3B5IjpuLmluZGV4T2YoaSk+PTA/bz0ibW92ZSI6dC5pbmRleE9mKGkpPj0wJiYobz0iY29weSIpLG99dmFyIHQ9ZS5lZGl0b3Isbj1yLmNyZWF0ZUVsZW1lbnQoImltZyIpO24uc3JjPSJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUFBQUFDSDVCQUVLQUFFQUxBQUFBQUFCQUFFQUFBSUNUQUVBT3c9PSIscy5pc09wZXJhJiYobi5zdHlsZS5jc3NUZXh0PSJ3aWR0aDoxcHg7aGVpZ2h0OjFweDtwb3NpdGlvbjpmaXhlZDt0b3A6MDtsZWZ0OjA7ei1pbmRleDoyMTQ3NDgzNjQ3O29wYWNpdHk6MDsiKTt2YXIgZj1bImRyYWdXYWl0IiwiZHJhZ1dhaXRFbmQiLCJzdGFydERyYWciLCJkcmFnUmVhZHlFbmQiLCJvbk1vdXNlRHJhZyJdO2YuZm9yRWFjaChmdW5jdGlvbih0KXtlW3RdPXRoaXNbdF19LHRoaXMpLHQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIix0aGlzLm9uTW91c2VEb3duLmJpbmQoZSkpO3ZhciBoLHAsZCx2LG0sZyxiLHcsRSxTLHgsYz10LmNvbnRhaW5lcix5PTA7dGhpcy5vbkRyYWdTdGFydD1mdW5jdGlvbihlKXtpZih0aGlzLmNhbmNlbERyYWd8fCFjLmRyYWdnYWJsZSl7dmFyIHI9dGhpcztyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3Iuc3RhcnRTZWxlY3QoKSxyLmNhcHR1cmVNb3VzZShlKX0sMCksZS5wcmV2ZW50RGVmYXVsdCgpfW09dC5nZXRTZWxlY3Rpb25SYW5nZSgpO3ZhciBpPWUuZGF0YVRyYW5zZmVyO2kuZWZmZWN0QWxsb3dlZD10LmdldFJlYWRPbmx5KCk/ImNvcHkiOiJjb3B5TW92ZSIscy5pc09wZXJhJiYodC5jb250YWluZXIuYXBwZW5kQ2hpbGQobiksbi5fdG9wPW4ub2Zmc2V0VG9wKSxpLnNldERyYWdJbWFnZSYmaS5zZXREcmFnSW1hZ2UobiwwLDApLHMuaXNPcGVyYSYmdC5jb250YWluZXIucmVtb3ZlQ2hpbGQobiksaS5jbGVhckRhdGEoKSxpLnNldERhdGEoIlRleHQiLHQuc2Vzc2lvbi5nZXRUZXh0UmFuZ2UoKSksdz0hMCx0aGlzLnNldFN0YXRlKCJkcmFnIil9LHRoaXMub25EcmFnRW5kPWZ1bmN0aW9uKGUpe2lmKGMuZHJhZ2dhYmxlPSExLHc9ITEsdGhpcy5zZXRTdGF0ZShudWxsKSwhdC5nZXRSZWFkT25seSgpKXt2YXIgbj1lLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0OyFiJiYibW92ZSI9PW4mJnQuc2Vzc2lvbi5yZW1vdmUodC5nZXRTZWxlY3Rpb25SYW5nZSgpKSx0LnJlbmRlcmVyLiRjdXJzb3JMYXllci5zZXRCbGlua2luZyghMCl9dGhpcy5lZGl0b3IudW5zZXRTdHlsZSgiYWNlX2RyYWdnaW5nIil9LHRoaXMub25EcmFnRW50ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIXQuZ2V0UmVhZE9ubHkoKSYmTShlLmRhdGFUcmFuc2Zlcik/KGh8fGsoKSx5KyssZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdD1iPV8oZSksaS5wcmV2ZW50RGVmYXVsdChlKSk6dm9pZCAwfSx0aGlzLm9uRHJhZ092ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIXQuZ2V0UmVhZE9ubHkoKSYmTShlLmRhdGFUcmFuc2Zlcik/KGh8fChrKCkseSsrKSxudWxsIT09QSYmKEE9bnVsbCkscD1lLmNsaWVudFgsZD1lLmNsaWVudFksZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdD1iPV8oZSksaS5wcmV2ZW50RGVmYXVsdChlKSk6dm9pZCAwfSx0aGlzLm9uRHJhZ0xlYXZlPWZ1bmN0aW9uKGUpe3JldHVybiB5LS0sMD49eSYmaD8oTCgpLGI9bnVsbCxpLnByZXZlbnREZWZhdWx0KGUpKTp2b2lkIDB9LHRoaXMub25Ecm9wPWZ1bmN0aW9uKGUpe2lmKGgpe3ZhciBuPWUuZGF0YVRyYW5zZmVyO2lmKHcpc3dpdGNoKGIpe2Nhc2UibW92ZSI6bT1tLmNvbnRhaW5zKGcucm93LGcuY29sdW1uKT97c3RhcnQ6ZyxlbmQ6Z306dC5tb3ZlVGV4dChtLGcpO2JyZWFrO2Nhc2UiY29weSI6bT10Lm1vdmVUZXh0KG0sZywhMCl9ZWxzZXt2YXIgcj1uLmdldERhdGEoIlRleHQiKTttPXtzdGFydDpnLGVuZDp0LnNlc3Npb24uaW5zZXJ0KGcscil9LHQuZm9jdXMoKSxiPW51bGx9cmV0dXJuIEwoKSxpLnByZXZlbnREZWZhdWx0KGUpfX0saS5hZGRMaXN0ZW5lcihjLCJkcmFnc3RhcnQiLHRoaXMub25EcmFnU3RhcnQuYmluZChlKSksaS5hZGRMaXN0ZW5lcihjLCJkcmFnZW5kIix0aGlzLm9uRHJhZ0VuZC5iaW5kKGUpKSxpLmFkZExpc3RlbmVyKGMsImRyYWdlbnRlciIsdGhpcy5vbkRyYWdFbnRlci5iaW5kKGUpKSxpLmFkZExpc3RlbmVyKGMsImRyYWdvdmVyIix0aGlzLm9uRHJhZ092ZXIuYmluZChlKSksaS5hZGRMaXN0ZW5lcihjLCJkcmFnbGVhdmUiLHRoaXMub25EcmFnTGVhdmUuYmluZChlKSksaS5hZGRMaXN0ZW5lcihjLCJkcm9wIix0aGlzLm9uRHJvcC5iaW5kKGUpKTt2YXIgQT1udWxsfWZ1bmN0aW9uIGwoZSx0LG4scil7cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhuLWUsMikrTWF0aC5wb3coci10LDIpKX12YXIgcj1lKCIuLi9saWIvZG9tIiksaT1lKCIuLi9saWIvZXZlbnQiKSxzPWUoIi4uL2xpYi91c2VyYWdlbnQiKSxvPTIwMCx1PTIwMCxhPTU7KGZ1bmN0aW9uKCl7dGhpcy5kcmFnV2FpdD1mdW5jdGlvbigpe3ZhciBlPURhdGUubm93KCktdGhpcy5tb3VzZWRvd25FdmVudC50aW1lO2U+dGhpcy5lZGl0b3IuZ2V0RHJhZ0RlbGF5KCkmJnRoaXMuc3RhcnREcmFnKCl9LHRoaXMuZHJhZ1dhaXRFbmQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVkaXRvci5jb250YWluZXI7ZS5kcmFnZ2FibGU9ITEsdGhpcy5zdGFydFNlbGVjdCh0aGlzLm1vdXNlZG93bkV2ZW50LmdldERvY3VtZW50UG9zaXRpb24oKSksdGhpcy5zZWxlY3RFbmQoKX0sdGhpcy5kcmFnUmVhZHlFbmQ9ZnVuY3Rpb24oKXt0aGlzLmVkaXRvci5yZW5kZXJlci4kY3Vyc29yTGF5ZXIuc2V0QmxpbmtpbmcoIXRoaXMuZWRpdG9yLmdldFJlYWRPbmx5KCkpLHRoaXMuZWRpdG9yLnVuc2V0U3R5bGUoImFjZV9kcmFnZ2luZyIpLHRoaXMuZHJhZ1dhaXRFbmQoKX0sdGhpcy5zdGFydERyYWc9ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbERyYWc9ITE7dmFyIGU9dGhpcy5lZGl0b3IuY29udGFpbmVyO2UuZHJhZ2dhYmxlPSEwLHRoaXMuZWRpdG9yLnJlbmRlcmVyLiRjdXJzb3JMYXllci5zZXRCbGlua2luZyghMSksdGhpcy5lZGl0b3Iuc2V0U3R5bGUoImFjZV9kcmFnZ2luZyIpLHRoaXMuc2V0U3RhdGUoImRyYWdSZWFkeSIpfSx0aGlzLm9uTW91c2VEcmFnPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lZGl0b3IuY29udGFpbmVyO2lmKHMuaXNJRSYmImRyYWdSZWFkeSI9PXRoaXMuc3RhdGUpe3ZhciBuPWwodGhpcy5tb3VzZWRvd25FdmVudC54LHRoaXMubW91c2Vkb3duRXZlbnQueSx0aGlzLngsdGhpcy55KTtuPjMmJnQuZHJhZ0Ryb3AoKX1pZigiZHJhZ1dhaXQiPT09dGhpcy5zdGF0ZSl7dmFyIG49bCh0aGlzLm1vdXNlZG93bkV2ZW50LngsdGhpcy5tb3VzZWRvd25FdmVudC55LHRoaXMueCx0aGlzLnkpO24+MCYmKHQuZHJhZ2dhYmxlPSExLHRoaXMuc3RhcnRTZWxlY3QodGhpcy5tb3VzZWRvd25FdmVudC5nZXREb2N1bWVudFBvc2l0aW9uKCkpKX19LHRoaXMub25Nb3VzZURvd249ZnVuY3Rpb24oZSl7aWYodGhpcy4kZHJhZ0VuYWJsZWQpe3RoaXMubW91c2Vkb3duRXZlbnQ9ZTt2YXIgdD10aGlzLmVkaXRvcixuPWUuaW5TZWxlY3Rpb24oKSxyPWUuZ2V0QnV0dG9uKCksaT1lLmRvbUV2ZW50LmRldGFpbHx8MTtpZigxPT09aSYmMD09PXImJm4pe2lmKGUuZWRpdG9yLmluTXVsdGlTZWxlY3RNb2RlJiYoZS5nZXRBY2NlbEtleSgpfHxlLmdldFNoaWZ0S2V5KCkpKXJldHVybjt0aGlzLm1vdXNlZG93bkV2ZW50LnRpbWU9RGF0ZS5ub3coKTt2YXIgbz1lLmRvbUV2ZW50LnRhcmdldHx8ZS5kb21FdmVudC5zcmNFbGVtZW50O2lmKCJ1bnNlbGVjdGFibGUiaW4gbyYmKG8udW5zZWxlY3RhYmxlPSJvbiIpLHQuZ2V0RHJhZ0RlbGF5KCkpe2lmKHMuaXNXZWJLaXQpe3RoaXMuY2FuY2VsRHJhZz0hMDt2YXIgdT10LmNvbnRhaW5lcjt1LmRyYWdnYWJsZT0hMH10aGlzLnNldFN0YXRlKCJkcmFnV2FpdCIpfWVsc2UgdGhpcy5zdGFydERyYWcoKTt0aGlzLmNhcHR1cmVNb3VzZShlLHRoaXMub25Nb3VzZURyYWcuYmluZCh0aGlzKSksZS5kZWZhdWx0UHJldmVudGVkPSEwfX19fSkuY2FsbChmLnByb3RvdHlwZSksdC5EcmFnZHJvcEhhbmRsZXI9Zn0pLGRlZmluZSgiYWNlL2xheWVyL21hcmtlciIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9yYW5nZSIsImFjZS9saWIvZG9tIl0sZnVuY3Rpb24oZSx0KXt2YXIgcj1lKCIuLi9yYW5nZSIpLlJhbmdlLGk9ZSgiLi4vbGliL2RvbSIpLHM9ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50PWkuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5lbGVtZW50LmNsYXNzTmFtZT0iYWNlX2xheWVyIGFjZV9tYXJrZXItbGF5ZXIiLGUuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KX07KGZ1bmN0aW9uKCl7dGhpcy4kcGFkZGluZz0wLHRoaXMuc2V0UGFkZGluZz1mdW5jdGlvbihlKXt0aGlzLiRwYWRkaW5nPWV9LHRoaXMuc2V0U2Vzc2lvbj1mdW5jdGlvbihlKXt0aGlzLnNlc3Npb249ZX0sdGhpcy5zZXRNYXJrZXJzPWZ1bmN0aW9uKGUpe3RoaXMubWFya2Vycz1lfSx0aGlzLnVwZGF0ZT1mdW5jdGlvbihlKXt2YXIgZT1lfHx0aGlzLmNvbmZpZztpZihlKXt0aGlzLmNvbmZpZz1lO3ZhciB0PVtdO2Zvcih2YXIgbiBpbiB0aGlzLm1hcmtlcnMpe3ZhciByPXRoaXMubWFya2Vyc1tuXTtpZihyLnJhbmdlKXt2YXIgcz1yLnJhbmdlLmNsaXBSb3dzKGUuZmlyc3RSb3csZS5sYXN0Um93KTtpZighcy5pc0VtcHR5KCkpaWYocz1zLnRvU2NyZWVuUmFuZ2UodGhpcy5zZXNzaW9uKSxyLnJlbmRlcmVyKXt2YXIgbz10aGlzLiRnZXRUb3Aocy5zdGFydC5yb3csZSksdT10aGlzLiRwYWRkaW5nK3Muc3RhcnQuY29sdW1uKmUuY2hhcmFjdGVyV2lkdGg7ci5yZW5kZXJlcih0LHMsdSxvLGUpfWVsc2UiZnVsbExpbmUiPT1yLnR5cGU/dGhpcy5kcmF3RnVsbExpbmVNYXJrZXIodCxzLHIuY2xhenosZSk6InNjcmVlbkxpbmUiPT1yLnR5cGU/dGhpcy5kcmF3U2NyZWVuTGluZU1hcmtlcih0LHMsci5jbGF6eixlKTpzLmlzTXVsdGlMaW5lKCk/InRleHQiPT1yLnR5cGU/dGhpcy5kcmF3VGV4dE1hcmtlcih0LHMsci5jbGF6eixlKTp0aGlzLmRyYXdNdWx0aUxpbmVNYXJrZXIodCxzLHIuY2xhenosZSk6dGhpcy5kcmF3U2luZ2xlTGluZU1hcmtlcih0LHMsci5jbGF6eisiIGFjZV9zdGFydCIsZSl9ZWxzZSByLnVwZGF0ZSh0LHRoaXMsdGhpcy5zZXNzaW9uLGUpfXRoaXMuZWxlbWVudD1pLnNldElubmVySHRtbCh0aGlzLmVsZW1lbnQsdC5qb2luKCIiKSl9fSx0aGlzLiRnZXRUb3A9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZS10LmZpcnN0Um93U2NyZWVuKSp0LmxpbmVIZWlnaHR9LHRoaXMuZHJhd1RleHRNYXJrZXI9ZnVuY3Rpb24oZSx0LG4saSxzKXt2YXIgbz10LnN0YXJ0LnJvdyx1PW5ldyByKG8sdC5zdGFydC5jb2x1bW4sbyx0aGlzLnNlc3Npb24uZ2V0U2NyZWVuTGFzdFJvd0NvbHVtbihvKSk7Zm9yKHRoaXMuZHJhd1NpbmdsZUxpbmVNYXJrZXIoZSx1LG4rIiBhY2Vfc3RhcnQiLGksMSxzKSxvPXQuZW5kLnJvdyx1PW5ldyByKG8sMCxvLHQuZW5kLmNvbHVtbiksdGhpcy5kcmF3U2luZ2xlTGluZU1hcmtlcihlLHUsbixpLDAscyksbz10LnN0YXJ0LnJvdysxO288dC5lbmQucm93O28rKyl1LnN0YXJ0LnJvdz1vLHUuZW5kLnJvdz1vLHUuZW5kLmNvbHVtbj10aGlzLnNlc3Npb24uZ2V0U2NyZWVuTGFzdFJvd0NvbHVtbihvKSx0aGlzLmRyYXdTaW5nbGVMaW5lTWFya2VyKGUsdSxuLGksMSxzKX0sdGhpcy5kcmF3TXVsdGlMaW5lTWFya2VyPWZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIHM9dGhpcy4kcGFkZGluZyxvPXIubGluZUhlaWdodCx1PXRoaXMuJGdldFRvcCh0LnN0YXJ0LnJvdyxyKSxhPXMrdC5zdGFydC5jb2x1bW4qci5jaGFyYWN0ZXJXaWR0aDtpPWl8fCIiLGUucHVzaCgiPGRpdiBjbGFzcz0nIixuLCIgYWNlX3N0YXJ0JyBzdHlsZT0nIiwiaGVpZ2h0OiIsbywicHg7IiwicmlnaHQ6MDsiLCJ0b3A6Iix1LCJweDsiLCJsZWZ0OiIsYSwicHg7IixpLCInPjwvZGl2PiIpLHU9dGhpcy4kZ2V0VG9wKHQuZW5kLnJvdyxyKTt2YXIgZj10LmVuZC5jb2x1bW4qci5jaGFyYWN0ZXJXaWR0aDtlLnB1c2goIjxkaXYgY2xhc3M9JyIsbiwiJyBzdHlsZT0nIiwiaGVpZ2h0OiIsbywicHg7Iiwid2lkdGg6IixmLCJweDsiLCJ0b3A6Iix1LCJweDsiLCJsZWZ0OiIscywicHg7IixpLCInPjwvZGl2PiIpLG89KHQuZW5kLnJvdy10LnN0YXJ0LnJvdy0xKSpyLmxpbmVIZWlnaHQsMD5vfHwodT10aGlzLiRnZXRUb3AodC5zdGFydC5yb3crMSxyKSxlLnB1c2goIjxkaXYgY2xhc3M9JyIsbiwiJyBzdHlsZT0nIiwiaGVpZ2h0OiIsbywicHg7IiwicmlnaHQ6MDsiLCJ0b3A6Iix1LCJweDsiLCJsZWZ0OiIscywicHg7IixpLCInPjwvZGl2PiIpKX0sdGhpcy5kcmF3U2luZ2xlTGluZU1hcmtlcj1mdW5jdGlvbihlLHQsbixyLGkscyl7dmFyIG89ci5saW5lSGVpZ2h0LHU9KHQuZW5kLmNvbHVtbisoaXx8MCktdC5zdGFydC5jb2x1bW4pKnIuY2hhcmFjdGVyV2lkdGgsYT10aGlzLiRnZXRUb3AodC5zdGFydC5yb3csciksZj10aGlzLiRwYWRkaW5nK3Quc3RhcnQuY29sdW1uKnIuY2hhcmFjdGVyV2lkdGg7ZS5wdXNoKCI8ZGl2IGNsYXNzPSciLG4sIicgc3R5bGU9JyIsImhlaWdodDoiLG8sInB4OyIsIndpZHRoOiIsdSwicHg7IiwidG9wOiIsYSwicHg7IiwibGVmdDoiLGYsInB4OyIsc3x8IiIsIic+PC9kaXY+Iil9LHRoaXMuZHJhd0Z1bGxMaW5lTWFya2VyPWZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIHM9dGhpcy4kZ2V0VG9wKHQuc3RhcnQucm93LHIpLG89ci5saW5lSGVpZ2h0O3Quc3RhcnQucm93IT10LmVuZC5yb3cmJihvKz10aGlzLiRnZXRUb3AodC5lbmQucm93LHIpLXMpLGUucHVzaCgiPGRpdiBjbGFzcz0nIixuLCInIHN0eWxlPSciLCJoZWlnaHQ6IixvLCJweDsiLCJ0b3A6IixzLCJweDsiLCJsZWZ0OjA7cmlnaHQ6MDsiLGl8fCIiLCInPjwvZGl2PiIpfSx0aGlzLmRyYXdTY3JlZW5MaW5lTWFya2VyPWZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIHM9dGhpcy4kZ2V0VG9wKHQuc3RhcnQucm93LHIpLG89ci5saW5lSGVpZ2h0O2UucHVzaCgiPGRpdiBjbGFzcz0nIixuLCInIHN0eWxlPSciLCJoZWlnaHQ6IixvLCJweDsiLCJ0b3A6IixzLCJweDsiLCJsZWZ0OjA7cmlnaHQ6MDsiLGl8fCIiLCInPjwvZGl2PiIpfX0pLmNhbGwocy5wcm90b3R5cGUpLHQuTWFya2VyPXN9KSxkZWZpbmUoImFjZS9tb3VzZS9tb3VzZV9ldmVudCIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvZXZlbnQiLCJhY2UvbGliL3VzZXJhZ2VudCJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSgiLi4vbGliL2V2ZW50IiksaT1lKCIuLi9saWIvdXNlcmFnZW50Iikscz10Lk1vdXNlRXZlbnQ9ZnVuY3Rpb24oZSx0KXt0aGlzLmRvbUV2ZW50PWUsdGhpcy5lZGl0b3I9dCx0aGlzLng9dGhpcy5jbGllbnRYPWUuY2xpZW50WCx0aGlzLnk9dGhpcy5jbGllbnRZPWUuY2xpZW50WSx0aGlzLiRwb3M9bnVsbCx0aGlzLiRpblNlbGVjdGlvbj1udWxsLHRoaXMucHJvcGFnYXRpb25TdG9wcGVkPSExLHRoaXMuZGVmYXVsdFByZXZlbnRlZD0hMQp9OyhmdW5jdGlvbigpe3RoaXMuc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7ci5zdG9wUHJvcGFnYXRpb24odGhpcy5kb21FdmVudCksdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ9ITB9LHRoaXMucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtyLnByZXZlbnREZWZhdWx0KHRoaXMuZG9tRXZlbnQpLHRoaXMuZGVmYXVsdFByZXZlbnRlZD0hMH0sdGhpcy5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLnByZXZlbnREZWZhdWx0KCl9LHRoaXMuZ2V0RG9jdW1lbnRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRwb3M/dGhpcy4kcG9zOih0aGlzLiRwb3M9dGhpcy5lZGl0b3IucmVuZGVyZXIuc2NyZWVuVG9UZXh0Q29vcmRpbmF0ZXModGhpcy5jbGllbnRYLHRoaXMuY2xpZW50WSksdGhpcy4kcG9zKX0sdGhpcy5pblNlbGVjdGlvbj1mdW5jdGlvbigpe2lmKG51bGwhPT10aGlzLiRpblNlbGVjdGlvbilyZXR1cm4gdGhpcy4kaW5TZWxlY3Rpb247dmFyIGU9dGhpcy5lZGl0b3IsdD1lLmdldFNlbGVjdGlvblJhbmdlKCk7aWYodC5pc0VtcHR5KCkpdGhpcy4kaW5TZWxlY3Rpb249ITE7ZWxzZXt2YXIgbj10aGlzLmdldERvY3VtZW50UG9zaXRpb24oKTt0aGlzLiRpblNlbGVjdGlvbj10LmNvbnRhaW5zKG4ucm93LG4uY29sdW1uKX1yZXR1cm4gdGhpcy4kaW5TZWxlY3Rpb259LHRoaXMuZ2V0QnV0dG9uPWZ1bmN0aW9uKCl7cmV0dXJuIHIuZ2V0QnV0dG9uKHRoaXMuZG9tRXZlbnQpfSx0aGlzLmdldFNoaWZ0S2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tRXZlbnQuc2hpZnRLZXl9LHRoaXMuZ2V0QWNjZWxLZXk9aS5pc01hYz9mdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbUV2ZW50Lm1ldGFLZXl9OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tRXZlbnQuY3RybEtleX19KS5jYWxsKHMucHJvdG90eXBlKX0pLGRlZmluZSgiYWNlL2xheWVyL3RleHQiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL29vcCIsImFjZS9saWIvZG9tIiwiYWNlL2xpYi9sYW5nIiwiYWNlL2xpYi91c2VyYWdlbnQiLCJhY2UvbGliL2V2ZW50X2VtaXR0ZXIiXSxmdW5jdGlvbihlLHQpe3ZhciByPWUoIi4uL2xpYi9vb3AiKSxpPWUoIi4uL2xpYi9kb20iKSxzPWUoIi4uL2xpYi9sYW5nIiksdT0oZSgiLi4vbGliL3VzZXJhZ2VudCIpLGUoIi4uL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyKSxhPWZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudD1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuZWxlbWVudC5jbGFzc05hbWU9ImFjZV9sYXllciBhY2VfdGV4dC1sYXllciIsZS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpLHRoaXMuJHVwZGF0ZUVvbENoYXI9dGhpcy4kdXBkYXRlRW9sQ2hhci5iaW5kKHRoaXMpfTsoZnVuY3Rpb24oKXtyLmltcGxlbWVudCh0aGlzLHUpLHRoaXMuRU9GX0NIQVI9IsK2Iix0aGlzLkVPTF9DSEFSX0xGPSLCrCIsdGhpcy5FT0xfQ0hBUl9DUkxGPSLCpCIsdGhpcy5FT0xfQ0hBUj10aGlzLkVPTF9DSEFSX0xGLHRoaXMuVEFCX0NIQVI9IuKGkiIsdGhpcy5TUEFDRV9DSEFSPSLCtyIsdGhpcy4kcGFkZGluZz0wLHRoaXMuJHVwZGF0ZUVvbENoYXI9ZnVuY3Rpb24oKXt2YXIgZT0iXG4iPT10aGlzLnNlc3Npb24uZG9jLmdldE5ld0xpbmVDaGFyYWN0ZXIoKT90aGlzLkVPTF9DSEFSX0xGOnRoaXMuRU9MX0NIQVJfQ1JMRjtyZXR1cm4gdGhpcy5FT0xfQ0hBUiE9ZT8odGhpcy5FT0xfQ0hBUj1lLCEwKTp2b2lkIDB9LHRoaXMuc2V0UGFkZGluZz1mdW5jdGlvbihlKXt0aGlzLiRwYWRkaW5nPWUsdGhpcy5lbGVtZW50LnN0eWxlLnBhZGRpbmc9IjAgIitlKyJweCJ9LHRoaXMuZ2V0TGluZUhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRmb250TWV0cmljcy4kY2hhcmFjdGVyU2l6ZS5oZWlnaHR8fDB9LHRoaXMuZ2V0Q2hhcmFjdGVyV2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZm9udE1ldHJpY3MuJGNoYXJhY3RlclNpemUud2lkdGh8fDB9LHRoaXMuJHNldEZvbnRNZXRyaWNzPWZ1bmN0aW9uKGUpe3RoaXMuJGZvbnRNZXRyaWNzPWUsdGhpcy4kZm9udE1ldHJpY3Mub24oImNoYW5nZUNoYXJhY3RlclNpemUiLGZ1bmN0aW9uKGUpe3RoaXMuX3NpZ25hbCgiY2hhbmdlQ2hhcmFjdGVyU2l6ZSIsZSl9LmJpbmQodGhpcykpLHRoaXMuJHBvbGxTaXplQ2hhbmdlcygpfSx0aGlzLmNoZWNrRm9yU2l6ZUNoYW5nZXM9ZnVuY3Rpb24oKXt0aGlzLiRmb250TWV0cmljcy5jaGVja0ZvclNpemVDaGFuZ2VzKCl9LHRoaXMuJHBvbGxTaXplQ2hhbmdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRwb2xsU2l6ZUNoYW5nZXNUaW1lcj10aGlzLiRmb250TWV0cmljcy4kcG9sbFNpemVDaGFuZ2VzKCl9LHRoaXMuc2V0U2Vzc2lvbj1mdW5jdGlvbihlKXt0aGlzLnNlc3Npb249ZSx0aGlzLiRjb21wdXRlVGFiU3RyaW5nKCl9LHRoaXMuc2hvd0ludmlzaWJsZXM9ITEsdGhpcy5zZXRTaG93SW52aXNpYmxlcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zaG93SW52aXNpYmxlcz09ZT8hMToodGhpcy5zaG93SW52aXNpYmxlcz1lLHRoaXMuJGNvbXB1dGVUYWJTdHJpbmcoKSwhMCl9LHRoaXMuZGlzcGxheUluZGVudEd1aWRlcz0hMCx0aGlzLnNldERpc3BsYXlJbmRlbnRHdWlkZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGlzcGxheUluZGVudEd1aWRlcz09ZT8hMToodGhpcy5kaXNwbGF5SW5kZW50R3VpZGVzPWUsdGhpcy4kY29tcHV0ZVRhYlN0cmluZygpLCEwKX0sdGhpcy4kdGFiU3RyaW5ncz1bXSx0aGlzLm9uQ2hhbmdlVGFiU2l6ZT10aGlzLiRjb21wdXRlVGFiU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZXNzaW9uLmdldFRhYlNpemUoKTt0aGlzLnRhYlNpemU9ZTtmb3IodmFyIHQ9dGhpcy4kdGFiU3RyaW5ncz1bMF0sbj0xO2UrMT5uO24rKyl0LnB1c2godGhpcy5zaG93SW52aXNpYmxlcz8iPHNwYW4gY2xhc3M9J2FjZV9pbnZpc2libGUnPiIrdGhpcy5UQUJfQ0hBUitzLnN0cmluZ1JlcGVhdCgiwqAiLG4tMSkrIjwvc3Bhbj4iOnMuc3RyaW5nUmVwZWF0KCLCoCIsbikpO2lmKHRoaXMuZGlzcGxheUluZGVudEd1aWRlcyl7dGhpcy4kaW5kZW50R3VpZGVSZT0vXHNcU3wgXHR8XHQgfFxzJC87dmFyIHI9ImFjZV9pbmRlbnQtZ3VpZGUiO2lmKHRoaXMuc2hvd0ludmlzaWJsZXMpe3IrPSIgYWNlX2ludmlzaWJsZSI7dmFyIGk9cy5zdHJpbmdSZXBlYXQodGhpcy5TUEFDRV9DSEFSLHRoaXMudGFiU2l6ZSksbz10aGlzLlRBQl9DSEFSK3Muc3RyaW5nUmVwZWF0KCLCoCIsdGhpcy50YWJTaXplLTEpfWVsc2UgdmFyIGk9cy5zdHJpbmdSZXBlYXQoIsKgIix0aGlzLnRhYlNpemUpLG89aTt0aGlzLiR0YWJTdHJpbmdzWyIgIl09IjxzcGFuIGNsYXNzPSciK3IrIic+IitpKyI8L3NwYW4+Iix0aGlzLiR0YWJTdHJpbmdzWyIJIl09IjxzcGFuIGNsYXNzPSciK3IrIic+IitvKyI8L3NwYW4+In19LHRoaXMudXBkYXRlTGluZXM9ZnVuY3Rpb24oZSx0LG4peyh0aGlzLmNvbmZpZy5sYXN0Um93IT1lLmxhc3RSb3d8fHRoaXMuY29uZmlnLmZpcnN0Um93IT1lLmZpcnN0Um93KSYmdGhpcy5zY3JvbGxMaW5lcyhlKSx0aGlzLmNvbmZpZz1lO2Zvcih2YXIgcj1NYXRoLm1heCh0LGUuZmlyc3RSb3cpLHM9TWF0aC5taW4obixlLmxhc3RSb3cpLG89dGhpcy5lbGVtZW50LmNoaWxkTm9kZXMsdT0wLGE9ZS5maXJzdFJvdztyPmE7YSsrKXt2YXIgZj10aGlzLnNlc3Npb24uZ2V0Rm9sZExpbmUoYSk7aWYoZil7aWYoZi5jb250YWluc1JvdyhyKSl7cj1mLnN0YXJ0LnJvdzticmVha31hPWYuZW5kLnJvd311Kyt9Zm9yKHZhciBhPXIsZj10aGlzLnNlc3Npb24uZ2V0TmV4dEZvbGRMaW5lKGEpLGw9Zj9mLnN0YXJ0LnJvdzoxLzA7YT5sJiYoYT1mLmVuZC5yb3crMSxmPXRoaXMuc2Vzc2lvbi5nZXROZXh0Rm9sZExpbmUoYSxmKSxsPWY/Zi5zdGFydC5yb3c6MS8wKSwhKGE+cyk7KXt2YXIgYz1vW3UrK107aWYoYyl7dmFyIGg9W107dGhpcy4kcmVuZGVyTGluZShoLGEsIXRoaXMuJHVzZUxpbmVHcm91cHMoKSxhPT1sP2Y6ITEpLGMuc3R5bGUuaGVpZ2h0PWUubGluZUhlaWdodCp0aGlzLnNlc3Npb24uZ2V0Um93TGVuZ3RoKGEpKyJweCIsaS5zZXRJbm5lckh0bWwoYyxoLmpvaW4oIiIpKX1hKyt9fSx0aGlzLnNjcm9sbExpbmVzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY29uZmlnO2lmKHRoaXMuY29uZmlnPWUsIXR8fHQubGFzdFJvdzxlLmZpcnN0Um93KXJldHVybiB0aGlzLnVwZGF0ZShlKTtpZihlLmxhc3RSb3c8dC5maXJzdFJvdylyZXR1cm4gdGhpcy51cGRhdGUoZSk7dmFyIG49dGhpcy5lbGVtZW50O2lmKHQuZmlyc3RSb3c8ZS5maXJzdFJvdylmb3IodmFyIHI9dGhpcy5zZXNzaW9uLmdldEZvbGRlZFJvd0NvdW50KHQuZmlyc3RSb3csZS5maXJzdFJvdy0xKTtyPjA7ci0tKW4ucmVtb3ZlQ2hpbGQobi5maXJzdENoaWxkKTtpZih0Lmxhc3RSb3c+ZS5sYXN0Um93KWZvcih2YXIgcj10aGlzLnNlc3Npb24uZ2V0Rm9sZGVkUm93Q291bnQoZS5sYXN0Um93KzEsdC5sYXN0Um93KTtyPjA7ci0tKW4ucmVtb3ZlQ2hpbGQobi5sYXN0Q2hpbGQpO2lmKGUuZmlyc3RSb3c8dC5maXJzdFJvdyl7dmFyIGk9dGhpcy4kcmVuZGVyTGluZXNGcmFnbWVudChlLGUuZmlyc3RSb3csdC5maXJzdFJvdy0xKTtuLmZpcnN0Q2hpbGQ/bi5pbnNlcnRCZWZvcmUoaSxuLmZpcnN0Q2hpbGQpOm4uYXBwZW5kQ2hpbGQoaSl9aWYoZS5sYXN0Um93PnQubGFzdFJvdyl7dmFyIGk9dGhpcy4kcmVuZGVyTGluZXNGcmFnbWVudChlLHQubGFzdFJvdysxLGUubGFzdFJvdyk7bi5hcHBlbmRDaGlsZChpKX19LHRoaXMuJHJlbmRlckxpbmVzRnJhZ21lbnQ9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj10aGlzLmVsZW1lbnQub3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscz10LG89dGhpcy5zZXNzaW9uLmdldE5leHRGb2xkTGluZShzKSx1PW8/by5zdGFydC5yb3c6MS8wO3M+dSYmKHM9by5lbmQucm93KzEsbz10aGlzLnNlc3Npb24uZ2V0TmV4dEZvbGRMaW5lKHMsbyksdT1vP28uc3RhcnQucm93OjEvMCksIShzPm4pOyl7dmFyIGE9aS5jcmVhdGVFbGVtZW50KCJkaXYiKSxmPVtdO2lmKHRoaXMuJHJlbmRlckxpbmUoZixzLCExLHM9PXU/bzohMSksYS5pbm5lckhUTUw9Zi5qb2luKCIiKSx0aGlzLiR1c2VMaW5lR3JvdXBzKCkpYS5jbGFzc05hbWU9ImFjZV9saW5lX2dyb3VwIixyLmFwcGVuZENoaWxkKGEpLGEuc3R5bGUuaGVpZ2h0PWUubGluZUhlaWdodCp0aGlzLnNlc3Npb24uZ2V0Um93TGVuZ3RoKHMpKyJweCI7ZWxzZSBmb3IoO2EuZmlyc3RDaGlsZDspci5hcHBlbmRDaGlsZChhLmZpcnN0Q2hpbGQpO3MrK31yZXR1cm4gcn0sdGhpcy51cGRhdGU9ZnVuY3Rpb24oZSl7dGhpcy5jb25maWc9ZTtmb3IodmFyIHQ9W10sbj1lLmZpcnN0Um93LHI9ZS5sYXN0Um93LHM9bixvPXRoaXMuc2Vzc2lvbi5nZXROZXh0Rm9sZExpbmUocyksdT1vP28uc3RhcnQucm93OjEvMDtzPnUmJihzPW8uZW5kLnJvdysxLG89dGhpcy5zZXNzaW9uLmdldE5leHRGb2xkTGluZShzLG8pLHU9bz9vLnN0YXJ0LnJvdzoxLzApLCEocz5yKTspdGhpcy4kdXNlTGluZUdyb3VwcygpJiZ0LnB1c2goIjxkaXYgY2xhc3M9J2FjZV9saW5lX2dyb3VwJyBzdHlsZT0naGVpZ2h0OiIsZS5saW5lSGVpZ2h0KnRoaXMuc2Vzc2lvbi5nZXRSb3dMZW5ndGgocyksInB4Jz4iKSx0aGlzLiRyZW5kZXJMaW5lKHQscywhMSxzPT11P286ITEpLHRoaXMuJHVzZUxpbmVHcm91cHMoKSYmdC5wdXNoKCI8L2Rpdj4iKSxzKys7dGhpcy5lbGVtZW50PWkuc2V0SW5uZXJIdG1sKHRoaXMuZWxlbWVudCx0LmpvaW4oIiIpKX0sdGhpcy4kdGV4dFRva2VuPXt0ZXh0OiEwLHJwYXJlbjohMCxscGFyZW46ITB9LHRoaXMuJHJlbmRlclRva2VuPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXRoaXMsbz0vXHR8Jnw8fCggKyl8KFtceDAwLVx4MWZceDgwLVx4YTBcdTE2ODBcdTE4MEVcdTIwMDAtXHUyMDBmXHUyMDI4XHUyMDI5XHUyMDJGXHUyMDVGXHUzMDAwXHVGRUZGXSl8W1x1MTEwMC1cdTExNUZcdTExQTMtXHUxMUE3XHUxMUZBLVx1MTFGRlx1MjMyOS1cdTIzMkFcdTJFODAtXHUyRTk5XHUyRTlCLVx1MkVGM1x1MkYwMC1cdTJGRDVcdTJGRjAtXHUyRkZCXHUzMDAwLVx1MzAzRVx1MzA0MS1cdTMwOTZcdTMwOTktXHUzMEZGXHUzMTA1LVx1MzEyRFx1MzEzMS1cdTMxOEVcdTMxOTAtXHUzMUJBXHUzMUMwLVx1MzFFM1x1MzFGMC1cdTMyMUVcdTMyMjAtXHUzMjQ3XHUzMjUwLVx1MzJGRVx1MzMwMC1cdTREQkZcdTRFMDAtXHVBNDhDXHVBNDkwLVx1QTRDNlx1QTk2MC1cdUE5N0NcdUFDMDAtXHVEN0EzXHVEN0IwLVx1RDdDNlx1RDdDQi1cdUQ3RkJcdUY5MDAtXHVGQUZGXHVGRTEwLVx1RkUxOVx1RkUzMC1cdUZFNTJcdUZFNTQtXHVGRTY2XHVGRTY4LVx1RkU2Qlx1RkYwMS1cdUZGNjBcdUZGRTAtXHVGRkU2XS9nLHU9ZnVuY3Rpb24oZSxuLHIsbyl7aWYobilyZXR1cm4gaS5zaG93SW52aXNpYmxlcz8iPHNwYW4gY2xhc3M9J2FjZV9pbnZpc2libGUnPiIrcy5zdHJpbmdSZXBlYXQoaS5TUEFDRV9DSEFSLGUubGVuZ3RoKSsiPC9zcGFuPiI6cy5zdHJpbmdSZXBlYXQoIsKgIixlLmxlbmd0aCk7aWYoIiYiPT1lKXJldHVybiImIzM4OyI7aWYoIjwiPT1lKXJldHVybiImIzYwOyI7aWYoIgkiPT1lKXt2YXIgYT1pLnNlc3Npb24uZ2V0U2NyZWVuVGFiU2l6ZSh0K28pO3JldHVybiB0Kz1hLTEsaS4kdGFiU3RyaW5nc1thXX1pZigi44CAIj09ZSl7dmFyIGY9aS5zaG93SW52aXNpYmxlcz8iYWNlX2NqayBhY2VfaW52aXNpYmxlIjoiYWNlX2NqayIsbD1pLnNob3dJbnZpc2libGVzP2kuU1BBQ0VfQ0hBUjoiIjtyZXR1cm4gdCs9MSwiPHNwYW4gY2xhc3M9JyIrZisiJyBzdHlsZT0nd2lkdGg6IisyKmkuY29uZmlnLmNoYXJhY3RlcldpZHRoKyJweCc+IitsKyI8L3NwYW4+In1yZXR1cm4gcj8iPHNwYW4gY2xhc3M9J2FjZV9pbnZpc2libGUgYWNlX2ludmFsaWQnPiIraS5TUEFDRV9DSEFSKyI8L3NwYW4+IjoodCs9MSwiPHNwYW4gY2xhc3M9J2FjZV9jamsnIHN0eWxlPSd3aWR0aDoiKzIqaS5jb25maWcuY2hhcmFjdGVyV2lkdGgrInB4Jz4iK2UrIjwvc3Bhbj4iKX0sYT1yLnJlcGxhY2Uobyx1KTtpZih0aGlzLiR0ZXh0VG9rZW5bbi50eXBlXSllLnB1c2goYSk7ZWxzZXt2YXIgZj0iYWNlXyIrbi50eXBlLnJlcGxhY2UoL1wuL2csIiBhY2VfIiksbD0iIjsiZm9sZCI9PW4udHlwZSYmKGw9IiBzdHlsZT0nd2lkdGg6IituLnZhbHVlLmxlbmd0aCp0aGlzLmNvbmZpZy5jaGFyYWN0ZXJXaWR0aCsicHg7JyAiKSxlLnB1c2goIjxzcGFuIGNsYXNzPSciLGYsIiciLGwsIj4iLGEsIjwvc3Bhbj4iKX1yZXR1cm4gdCtyLmxlbmd0aH0sdGhpcy5yZW5kZXJJbmRlbnRHdWlkZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9dC5zZWFyY2godGhpcy4kaW5kZW50R3VpZGVSZSk7cmV0dXJuIDA+PXJ8fHI+PW4/dDoiICI9PXRbMF0/KHItPXIldGhpcy50YWJTaXplLGUucHVzaChzLnN0cmluZ1JlcGVhdCh0aGlzLiR0YWJTdHJpbmdzWyIgIl0sci90aGlzLnRhYlNpemUpKSx0LnN1YnN0cihyKSk6IgkiPT10WzBdPyhlLnB1c2gocy5zdHJpbmdSZXBlYXQodGhpcy4kdGFiU3RyaW5nc1siCSJdLHIpKSx0LnN1YnN0cihyKSk6dH0sdGhpcy4kcmVuZGVyV3JhcHBlZExpbmU9ZnVuY3Rpb24oZSx0LG4scil7Zm9yKHZhciBpPTAscz0wLG89blswXSx1PTAsYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgZj10W2FdLGw9Zi52YWx1ZTtpZigwPT1hJiZ0aGlzLmRpc3BsYXlJbmRlbnRHdWlkZXMpe2lmKGk9bC5sZW5ndGgsbD10aGlzLnJlbmRlckluZGVudEd1aWRlKGUsbCxvKSwhbCljb250aW51ZTtpLT1sLmxlbmd0aH1pZihpK2wubGVuZ3RoPG8pdT10aGlzLiRyZW5kZXJUb2tlbihlLHUsZixsKSxpKz1sLmxlbmd0aDtlbHNle2Zvcig7aStsLmxlbmd0aD49bzspdT10aGlzLiRyZW5kZXJUb2tlbihlLHUsZixsLnN1YnN0cmluZygwLG8taSkpLGw9bC5zdWJzdHJpbmcoby1pKSxpPW8scnx8ZS5wdXNoKCI8L2Rpdj4iLCI8ZGl2IGNsYXNzPSdhY2VfbGluZScgc3R5bGU9J2hlaWdodDoiLHRoaXMuY29uZmlnLmxpbmVIZWlnaHQsInB4Jz4iKSxzKyssdT0wLG89bltzXXx8TnVtYmVyLk1BWF9WQUxVRTswIT1sLmxlbmd0aCYmKGkrPWwubGVuZ3RoLHU9dGhpcy4kcmVuZGVyVG9rZW4oZSx1LGYsbCkpfX19LHRoaXMuJHJlbmRlclNpbXBsZUxpbmU9ZnVuY3Rpb24oZSx0KXt2YXIgbj0wLHI9dFswXSxpPXIudmFsdWU7dGhpcy5kaXNwbGF5SW5kZW50R3VpZGVzJiYoaT10aGlzLnJlbmRlckluZGVudEd1aWRlKGUsaSkpLGkmJihuPXRoaXMuJHJlbmRlclRva2VuKGUsbixyLGkpKTtmb3IodmFyIHM9MTtzPHQubGVuZ3RoO3MrKylyPXRbc10saT1yLnZhbHVlLG49dGhpcy4kcmVuZGVyVG9rZW4oZSxuLHIsaSl9LHRoaXMuJHJlbmRlckxpbmU9ZnVuY3Rpb24oZSx0LG4scil7aWYoIXImJjAhPXImJihyPXRoaXMuc2Vzc2lvbi5nZXRGb2xkTGluZSh0KSkscil2YXIgaT10aGlzLiRnZXRGb2xkTGluZVRva2Vucyh0LHIpO2Vsc2UgdmFyIGk9dGhpcy5zZXNzaW9uLmdldFRva2Vucyh0KTtpZihufHxlLnB1c2goIjxkaXYgY2xhc3M9J2FjZV9saW5lJyBzdHlsZT0naGVpZ2h0OiIsdGhpcy5jb25maWcubGluZUhlaWdodCoodGhpcy4kdXNlTGluZUdyb3VwcygpPzE6dGhpcy5zZXNzaW9uLmdldFJvd0xlbmd0aCh0KSksInB4Jz4iKSxpLmxlbmd0aCl7dmFyIHM9dGhpcy5zZXNzaW9uLmdldFJvd1NwbGl0RGF0YSh0KTtzJiZzLmxlbmd0aD90aGlzLiRyZW5kZXJXcmFwcGVkTGluZShlLGkscyxuKTp0aGlzLiRyZW5kZXJTaW1wbGVMaW5lKGUsaSl9dGhpcy5zaG93SW52aXNpYmxlcyYmKHImJih0PXIuZW5kLnJvdyksZS5wdXNoKCI8c3BhbiBjbGFzcz0nYWNlX2ludmlzaWJsZSc+Iix0PT10aGlzLnNlc3Npb24uZ2V0TGVuZ3RoKCktMT90aGlzLkVPRl9DSEFSOnRoaXMuRU9MX0NIQVIsIjwvc3Bhbj4iKSksbnx8ZS5wdXNoKCI8L2Rpdj4iKX0sdGhpcy4kZ2V0Rm9sZExpbmVUb2tlbnM9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBpKGUsdCxuKXtmb3IodmFyIGk9MCxzPTA7cytlW2ldLnZhbHVlLmxlbmd0aDx0OylpZihzKz1lW2ldLnZhbHVlLmxlbmd0aCxpKyssaT09ZS5sZW5ndGgpcmV0dXJuO2lmKHMhPXQpe3ZhciBvPWVbaV0udmFsdWUuc3Vic3RyaW5nKHQtcyk7by5sZW5ndGg+bi10JiYobz1vLnN1YnN0cmluZygwLG4tdCkpLHIucHVzaCh7dHlwZTplW2ldLnR5cGUsdmFsdWU6b30pLHM9dCtvLmxlbmd0aCxpKz0xfWZvcig7bj5zJiZpPGUubGVuZ3RoOyl7dmFyIG89ZVtpXS52YWx1ZTtyLnB1c2goby5sZW5ndGgrcz5uP3t0eXBlOmVbaV0udHlwZSx2YWx1ZTpvLnN1YnN0cmluZygwLG4tcyl9OmVbaV0pLHMrPW8ubGVuZ3RoLGkrPTF9fXZhciBuPXRoaXMuc2Vzc2lvbixyPVtdLHM9bi5nZXRUb2tlbnMoZSk7cmV0dXJuIHQud2FsayhmdW5jdGlvbihlLHQsbyx1LGEpe251bGwhPWU/ci5wdXNoKHt0eXBlOiJmb2xkIix2YWx1ZTplfSk6KGEmJihzPW4uZ2V0VG9rZW5zKHQpKSxzLmxlbmd0aCYmaShzLHUsbykpfSx0LmVuZC5yb3csdGhpcy5zZXNzaW9uLmdldExpbmUodC5lbmQucm93KS5sZW5ndGgpLHJ9LHRoaXMuJHVzZUxpbmVHcm91cHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXNzaW9uLmdldFVzZVdyYXBNb2RlKCl9LHRoaXMuZGVzdHJveT1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwodGhpcy4kcG9sbFNpemVDaGFuZ2VzVGltZXIpLHRoaXMuJG1lYXN1cmVOb2RlJiZ0aGlzLiRtZWFzdXJlTm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuJG1lYXN1cmVOb2RlKSxkZWxldGUgdGhpcy4kbWVhc3VyZU5vZGV9fSkuY2FsbChhLnByb3RvdHlwZSksdC5UZXh0PWF9KSxkZWZpbmUoImFjZS90b29sdGlwIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9vb3AiLCJhY2UvbGliL2RvbSJdLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcyhlKXt0aGlzLmlzT3Blbj0hMSx0aGlzLiRlbGVtZW50PW51bGwsdGhpcy4kcGFyZW50Tm9kZT1lfXZhciBpPShlKCIuL2xpYi9vb3AiKSxlKCIuL2xpYi9kb20iKSk7KGZ1bmN0aW9uKCl7dGhpcy4kaW5pdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRlbGVtZW50PWkuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy4kZWxlbWVudC5jbGFzc05hbWU9ImFjZV90b29sdGlwIix0aGlzLiRlbGVtZW50LnN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMuJHBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy4kZWxlbWVudCksdGhpcy4kZWxlbWVudH0sdGhpcy5nZXRFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVsZW1lbnR8fHRoaXMuJGluaXQoKX0sdGhpcy5zZXRUZXh0PWZ1bmN0aW9uKGUpe2kuc2V0SW5uZXJUZXh0KHRoaXMuZ2V0RWxlbWVudCgpLGUpfSx0aGlzLnNldEh0bWw9ZnVuY3Rpb24oZSl7dGhpcy5nZXRFbGVtZW50KCkuaW5uZXJIVE1MPWV9LHRoaXMuc2V0UG9zaXRpb249ZnVuY3Rpb24oZSx0KXt0aGlzLmdldEVsZW1lbnQoKS5zdHlsZS5sZWZ0PWUrInB4Iix0aGlzLmdldEVsZW1lbnQoKS5zdHlsZS50b3A9dCsicHgifSx0aGlzLnNldENsYXNzTmFtZT1mdW5jdGlvbihlKXtpLmFkZENzc0NsYXNzKHRoaXMuZ2V0RWxlbWVudCgpLGUpfSx0aGlzLnNob3c9ZnVuY3Rpb24oZSx0LG4pe251bGwhPWUmJnRoaXMuc2V0VGV4dChlKSxudWxsIT10JiZudWxsIT1uJiZ0aGlzLnNldFBvc2l0aW9uKHQsbiksdGhpcy5pc09wZW58fCh0aGlzLmdldEVsZW1lbnQoKS5zdHlsZS5kaXNwbGF5PSJibG9jayIsdGhpcy5pc09wZW49ITApfSx0aGlzLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLmlzT3BlbiYmKHRoaXMuZ2V0RWxlbWVudCgpLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMuaXNPcGVuPSExKX0sdGhpcy5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRFbGVtZW50KCkub2Zmc2V0SGVpZ2h0fSx0aGlzLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RWxlbWVudCgpLm9mZnNldFdpZHRofX0pLmNhbGwocy5wcm90b3R5cGUpLHQuVG9vbHRpcD1zfSksZGVmaW5lKCJhY2UvbGF5ZXIvY3Vyc29yIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9kb20iXSxmdW5jdGlvbihlLHQpe3ZhciBpLHI9ZSgiLi4vbGliL2RvbSIpLHM9ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50PXIuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5lbGVtZW50LmNsYXNzTmFtZT0iYWNlX2xheWVyIGFjZV9jdXJzb3ItbGF5ZXIiLGUuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KSx2b2lkIDA9PT1pJiYoaT0ib3BhY2l0eSJpbiB0aGlzLmVsZW1lbnQpLHRoaXMuaXNWaXNpYmxlPSExLHRoaXMuaXNCbGlua2luZz0hMCx0aGlzLmJsaW5rSW50ZXJ2YWw9MWUzLHRoaXMuc21vb3RoQmxpbmtpbmc9ITEsdGhpcy5jdXJzb3JzPVtdLHRoaXMuY3Vyc29yPXRoaXMuYWRkQ3Vyc29yKCksci5hZGRDc3NDbGFzcyh0aGlzLmVsZW1lbnQsImFjZV9oaWRkZW4tY3Vyc29ycyIpLHRoaXMuJHVwZGF0ZUN1cnNvcnM9dGhpcy4kdXBkYXRlVmlzaWJpbGl0eS5iaW5kKHRoaXMpfTsoZnVuY3Rpb24oKXt0aGlzLiR1cGRhdGVWaXNpYmlsaXR5PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLmN1cnNvcnMsbj10Lmxlbmd0aDtuLS07KXRbbl0uc3R5bGUudmlzaWJpbGl0eT1lPyIiOiJoaWRkZW4ifSx0aGlzLiR1cGRhdGVPcGFjaXR5PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLmN1cnNvcnMsbj10Lmxlbmd0aDtuLS07KXRbbl0uc3R5bGUub3BhY2l0eT1lPyIiOiIwIn0sdGhpcy4kcGFkZGluZz0wLHRoaXMuc2V0UGFkZGluZz1mdW5jdGlvbihlKXt0aGlzLiRwYWRkaW5nPWV9LHRoaXMuc2V0U2Vzc2lvbj1mdW5jdGlvbihlKXt0aGlzLnNlc3Npb249ZX0sdGhpcy5zZXRCbGlua2luZz1mdW5jdGlvbihlKXtlIT10aGlzLmlzQmxpbmtpbmcmJih0aGlzLmlzQmxpbmtpbmc9ZSx0aGlzLnJlc3RhcnRUaW1lcigpKX0sdGhpcy5zZXRCbGlua0ludGVydmFsPWZ1bmN0aW9uKGUpe2UhPXRoaXMuYmxpbmtJbnRlcnZhbCYmKHRoaXMuYmxpbmtJbnRlcnZhbD1lLHRoaXMucmVzdGFydFRpbWVyKCkpfSx0aGlzLnNldFNtb290aEJsaW5raW5nPWZ1bmN0aW9uKGUpe2UhPXRoaXMuc21vb3RoQmxpbmtpbmcmJiFpJiYodGhpcy5zbW9vdGhCbGlua2luZz1lLHIuc2V0Q3NzQ2xhc3ModGhpcy5lbGVtZW50LCJhY2Vfc21vb3RoLWJsaW5raW5nIixlKSx0aGlzLiR1cGRhdGVDdXJzb3JzKCEwKSx0aGlzLiR1cGRhdGVDdXJzb3JzPShlP3RoaXMuJHVwZGF0ZU9wYWNpdHk6dGhpcy4kdXBkYXRlVmlzaWJpbGl0eSkuYmluZCh0aGlzKSx0aGlzLnJlc3RhcnRUaW1lcigpKX0sdGhpcy5hZGRDdXJzb3I9ZnVuY3Rpb24oKXt2YXIgZT1yLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBlLmNsYXNzTmFtZT0iYWNlX2N1cnNvciIsdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGUpLHRoaXMuY3Vyc29ycy5wdXNoKGUpLGV9LHRoaXMucmVtb3ZlQ3Vyc29yPWZ1bmN0aW9uKCl7aWYodGhpcy5jdXJzb3JzLmxlbmd0aD4xKXt2YXIgZT10aGlzLmN1cnNvcnMucG9wKCk7cmV0dXJuIGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSxlfX0sdGhpcy5oaWRlQ3Vyc29yPWZ1bmN0aW9uKCl7dGhpcy5pc1Zpc2libGU9ITEsci5hZGRDc3NDbGFzcyh0aGlzLmVsZW1lbnQsImFjZV9oaWRkZW4tY3Vyc29ycyIpLHRoaXMucmVzdGFydFRpbWVyKCl9LHRoaXMuc2hvd0N1cnNvcj1mdW5jdGlvbigpe3RoaXMuaXNWaXNpYmxlPSEwLHIucmVtb3ZlQ3NzQ2xhc3ModGhpcy5lbGVtZW50LCJhY2VfaGlkZGVuLWN1cnNvcnMiKSx0aGlzLnJlc3RhcnRUaW1lcigpfSx0aGlzLnJlc3RhcnRUaW1lcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuJHVwZGF0ZUN1cnNvcnM7aWYoY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpLGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRJZCksdGhpcy5zbW9vdGhCbGlua2luZyYmci5yZW1vdmVDc3NDbGFzcyh0aGlzLmVsZW1lbnQsImFjZV9zbW9vdGgtYmxpbmtpbmciKSxlKCEwKSx0aGlzLmlzQmxpbmtpbmcmJnRoaXMuYmxpbmtJbnRlcnZhbCYmdGhpcy5pc1Zpc2libGUpe3RoaXMuc21vb3RoQmxpbmtpbmcmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLmFkZENzc0NsYXNzKHRoaXMuZWxlbWVudCwiYWNlX3Ntb290aC1ibGlua2luZyIpfS5iaW5kKHRoaXMpKTt2YXIgdD1mdW5jdGlvbigpe3RoaXMudGltZW91dElkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKCExKX0sLjYqdGhpcy5ibGlua0ludGVydmFsKX0uYmluZCh0aGlzKTt0aGlzLmludGVydmFsSWQ9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtlKCEwKSx0KCl9LHRoaXMuYmxpbmtJbnRlcnZhbCksdCgpfX0sdGhpcy5nZXRQaXhlbFBvc2l0aW9uPWZ1bmN0aW9uKGUsdCl7aWYoIXRoaXMuY29uZmlnfHwhdGhpcy5zZXNzaW9uKXJldHVybntsZWZ0OjAsdG9wOjB9O2V8fChlPXRoaXMuc2Vzc2lvbi5zZWxlY3Rpb24uZ2V0Q3Vyc29yKCkpO3ZhciBuPXRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24oZSkscj10aGlzLiRwYWRkaW5nK24uY29sdW1uKnRoaXMuY29uZmlnLmNoYXJhY3RlcldpZHRoLGk9KG4ucm93LSh0P3RoaXMuY29uZmlnLmZpcnN0Um93U2NyZWVuOjApKSp0aGlzLmNvbmZpZy5saW5lSGVpZ2h0O3JldHVybntsZWZ0OnIsdG9wOml9fSx0aGlzLnVwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLmNvbmZpZz1lO3ZhciB0PXRoaXMuc2Vzc2lvbi4kc2VsZWN0aW9uTWFya2VycyxuPTAscj0wOyh2b2lkIDA9PT10fHwwPT09dC5sZW5ndGgpJiYodD1be2N1cnNvcjpudWxsfV0pO2Zvcih2YXIgbj0wLGk9dC5sZW5ndGg7aT5uO24rKyl7dmFyIHM9dGhpcy5nZXRQaXhlbFBvc2l0aW9uKHRbbl0uY3Vyc29yLCEwKTtpZighKChzLnRvcD5lLmhlaWdodCtlLm9mZnNldHx8cy50b3A8MCkmJm4+MSkpe3ZhciBvPSh0aGlzLmN1cnNvcnNbcisrXXx8dGhpcy5hZGRDdXJzb3IoKSkuc3R5bGU7by5sZWZ0PXMubGVmdCsicHgiLG8udG9wPXMudG9wKyJweCIsby53aWR0aD1lLmNoYXJhY3RlcldpZHRoKyJweCIsby5oZWlnaHQ9ZS5saW5lSGVpZ2h0KyJweCJ9fWZvcig7dGhpcy5jdXJzb3JzLmxlbmd0aD5yOyl0aGlzLnJlbW92ZUN1cnNvcigpO3ZhciB1PXRoaXMuc2Vzc2lvbi5nZXRPdmVyd3JpdGUoKTt0aGlzLiRzZXRPdmVyd3JpdGUodSksdGhpcy4kcGl4ZWxQb3M9cyx0aGlzLnJlc3RhcnRUaW1lcigpfSx0aGlzLiRzZXRPdmVyd3JpdGU9ZnVuY3Rpb24oZSl7ZSE9dGhpcy5vdmVyd3JpdGUmJih0aGlzLm92ZXJ3cml0ZT1lLGU/ci5hZGRDc3NDbGFzcyh0aGlzLmVsZW1lbnQsImFjZV9vdmVyd3JpdGUtY3Vyc29ycyIpOnIucmVtb3ZlQ3NzQ2xhc3ModGhpcy5lbGVtZW50LCJhY2Vfb3ZlcndyaXRlLWN1cnNvcnMiKSl9LHRoaXMuZGVzdHJveT1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbElkKSxjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SWQpfX0pLmNhbGwocy5wcm90b3R5cGUpLHQuQ3Vyc29yPXN9KSxkZWZpbmUoImFjZS9tb3VzZS9kZWZhdWx0X2d1dHRlcl9oYW5kbGVyIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9kb20iLCJhY2UvbGliL29vcCIsImFjZS9saWIvZXZlbnQiLCJhY2UvdG9vbHRpcCJdLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gdShlKXtmdW5jdGlvbiBsKCl7dmFyIHI9dS5nZXREb2N1bWVudFBvc2l0aW9uKCkucm93LHM9bi4kYW5ub3RhdGlvbnNbcl07aWYoIXMpcmV0dXJuIGMoKTt2YXIgbz10LnNlc3Npb24uZ2V0TGVuZ3RoKCk7aWYocj09byl7dmFyIGE9dC5yZW5kZXJlci5waXhlbFRvU2NyZWVuQ29vcmRpbmF0ZXMoMCx1LnkpLnJvdyxsPXUuJHBvcztpZihhPnQuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUm93KGwucm93LGwuY29sdW1uKSlyZXR1cm4gYygpfWlmKGYhPXMpaWYoZj1zLnRleHQuam9pbigiPGJyLz4iKSxpLnNldEh0bWwoZiksaS5zaG93KCksdC5vbigibW91c2V3aGVlbCIsYyksZS4kdG9vbHRpcEZvbGxvd3NNb3VzZSloKHUpO2Vsc2V7dmFyIHA9bi4kY2VsbHNbcl0uZWxlbWVudCxkPXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdj1pLmdldEVsZW1lbnQoKS5zdHlsZTt2LmxlZnQ9ZC5yaWdodCsicHgiLHYudG9wPWQuYm90dG9tKyJweCJ9fWZ1bmN0aW9uIGMoKXtvJiYobz1jbGVhclRpbWVvdXQobykpLGYmJihpLmhpZGUoKSxmPW51bGwsdC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZXdoZWVsIixjKSl9ZnVuY3Rpb24gaChlKXtpLnNldFBvc2l0aW9uKGUueCxlLnkpfXZhciB0PWUuZWRpdG9yLG49dC5yZW5kZXJlci4kZ3V0dGVyTGF5ZXIsaT1uZXcgYSh0LmNvbnRhaW5lcik7ZS5lZGl0b3Iuc2V0RGVmYXVsdEhhbmRsZXIoImd1dHRlcm1vdXNlZG93biIsZnVuY3Rpb24ocil7aWYodC5pc0ZvY3VzZWQoKSYmMD09ci5nZXRCdXR0b24oKSl7dmFyIGk9bi5nZXRSZWdpb24ocik7aWYoImZvbGRXaWRnZXRzIiE9aSl7dmFyIHM9ci5nZXREb2N1bWVudFBvc2l0aW9uKCkucm93LG89dC5zZXNzaW9uLnNlbGVjdGlvbjtpZihyLmdldFNoaWZ0S2V5KCkpby5zZWxlY3RUbyhzLDApO2Vsc2V7aWYoMj09ci5kb21FdmVudC5kZXRhaWwpcmV0dXJuIHQuc2VsZWN0QWxsKCksci5wcmV2ZW50RGVmYXVsdCgpO2UuJGNsaWNrU2VsZWN0aW9uPXQuc2VsZWN0aW9uLmdldExpbmVSYW5nZShzKX1yZXR1cm4gZS5zZXRTdGF0ZSgic2VsZWN0QnlMaW5lcyIpLGUuY2FwdHVyZU1vdXNlKHIpLHIucHJldmVudERlZmF1bHQoKX19fSk7dmFyIG8sdSxmO2UuZWRpdG9yLnNldERlZmF1bHRIYW5kbGVyKCJndXR0ZXJtb3VzZW1vdmUiLGZ1bmN0aW9uKHQpe3ZhciBuPXQuZG9tRXZlbnQudGFyZ2V0fHx0LmRvbUV2ZW50LnNyY0VsZW1lbnQ7cmV0dXJuIHIuaGFzQ3NzQ2xhc3MobiwiYWNlX2ZvbGQtd2lkZ2V0Iik/YygpOihmJiZlLiR0b29sdGlwRm9sbG93c01vdXNlJiZoKHQpLHU9dCx2b2lkKG98fChvPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtvPW51bGwsdSYmIWUuaXNNb3VzZVByZXNzZWQ/bCgpOmMoKX0sNTApKSkpfSkscy5hZGRMaXN0ZW5lcih0LnJlbmRlcmVyLiRndXR0ZXIsIm1vdXNlb3V0IixmdW5jdGlvbigpe3U9bnVsbCxmJiYhbyYmKG89c2V0VGltZW91dChmdW5jdGlvbigpe289bnVsbCxjKCl9LDUwKSl9KSx0Lm9uKCJjaGFuZ2VTZXNzaW9uIixjKX1mdW5jdGlvbiBhKGUpe28uY2FsbCh0aGlzLGUpfXZhciByPWUoIi4uL2xpYi9kb20iKSxpPWUoIi4uL2xpYi9vb3AiKSxzPWUoIi4uL2xpYi9ldmVudCIpLG89ZSgiLi4vdG9vbHRpcCIpLlRvb2x0aXA7aS5pbmhlcml0cyhhLG8pLGZ1bmN0aW9uKCl7dGhpcy5zZXRQb3NpdGlvbj1mdW5jdGlvbihlLHQpe3ZhciBuPXdpbmRvdy5pbm5lcldpZHRofHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgscj13aW5kb3cuaW5uZXJIZWlnaHR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsaT10aGlzLmdldFdpZHRoKCkscz10aGlzLmdldEhlaWdodCgpO2UrPTE1LHQrPTE1LGUraT5uJiYoZS09ZStpLW4pLHQrcz5yJiYodC09MjArcyksby5wcm90b3R5cGUuc2V0UG9zaXRpb24uY2FsbCh0aGlzLGUsdCl9fS5jYWxsKGEucHJvdG90eXBlKSx0Lkd1dHRlckhhbmRsZXI9dX0pLGRlZmluZSgiYWNlL3Njcm9sbGJhciIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL2xpYi9kb20iLCJhY2UvbGliL2V2ZW50IiwiYWNlL2xpYi9ldmVudF9lbWl0dGVyIl0sZnVuY3Rpb24oZSx0KXt2YXIgcj1lKCIuL2xpYi9vb3AiKSxpPWUoIi4vbGliL2RvbSIpLHM9ZSgiLi9saWIvZXZlbnQiKSxvPWUoIi4vbGliL2V2ZW50X2VtaXR0ZXIiKS5FdmVudEVtaXR0ZXIsdT1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnQ9aS5jcmVhdGVFbGVtZW50KCJkaXYiKSx0aGlzLmVsZW1lbnQuY2xhc3NOYW1lPSJhY2Vfc2Nyb2xsYmFyIGFjZV9zY3JvbGxiYXIiK3RoaXMuY2xhc3NTdWZmaXgsdGhpcy5pbm5lcj1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuaW5uZXIuY2xhc3NOYW1lPSJhY2Vfc2Nyb2xsYmFyLWlubmVyIix0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5pbm5lciksZS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpLHRoaXMuc2V0VmlzaWJsZSghMSksdGhpcy5za2lwRXZlbnQ9ITEscy5hZGRMaXN0ZW5lcih0aGlzLmVsZW1lbnQsInNjcm9sbCIsdGhpcy5vblNjcm9sbC5iaW5kKHRoaXMpKSxzLmFkZExpc3RlbmVyKHRoaXMuZWxlbWVudCwibW91c2Vkb3duIixzLnByZXZlbnREZWZhdWx0KX07KGZ1bmN0aW9uKCl7ci5pbXBsZW1lbnQodGhpcyxvKSx0aGlzLnNldFZpc2libGU9ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXk9ZT8iIjoibm9uZSIsdGhpcy5pc1Zpc2libGU9ZX19KS5jYWxsKHUucHJvdG90eXBlKTt2YXIgYT1mdW5jdGlvbihlLHQpe3UuY2FsbCh0aGlzLGUpLHRoaXMuc2Nyb2xsVG9wPTAsdC4kc2Nyb2xsYmFyV2lkdGg9dGhpcy53aWR0aD1pLnNjcm9sbGJhcldpZHRoKGUub3duZXJEb2N1bWVudCksdGhpcy5pbm5lci5zdHlsZS53aWR0aD10aGlzLmVsZW1lbnQuc3R5bGUud2lkdGg9KHRoaXMud2lkdGh8fDE1KSs1KyJweCJ9O3IuaW5oZXJpdHMoYSx1KSxmdW5jdGlvbigpe3RoaXMuY2xhc3NTdWZmaXg9Ii12Iix0aGlzLm9uU2Nyb2xsPWZ1bmN0aW9uKCl7dGhpcy5za2lwRXZlbnR8fCh0aGlzLnNjcm9sbFRvcD10aGlzLmVsZW1lbnQuc2Nyb2xsVG9wLHRoaXMuX2VtaXQoInNjcm9sbCIse2RhdGE6dGhpcy5zY3JvbGxUb3B9KSksdGhpcy5za2lwRXZlbnQ9ITF9LHRoaXMuZ2V0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1Zpc2libGU/dGhpcy53aWR0aDowfSx0aGlzLnNldEhlaWdodD1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnQuc3R5bGUuaGVpZ2h0PWUrInB4In0sdGhpcy5zZXRJbm5lckhlaWdodD1mdW5jdGlvbihlKXt0aGlzLmlubmVyLnN0eWxlLmhlaWdodD1lKyJweCJ9LHRoaXMuc2V0U2Nyb2xsSGVpZ2h0PWZ1bmN0aW9uKGUpe3RoaXMuaW5uZXIuc3R5bGUuaGVpZ2h0PWUrInB4In0sdGhpcy5zZXRTY3JvbGxUb3A9ZnVuY3Rpb24oZSl7dGhpcy5zY3JvbGxUb3AhPWUmJih0aGlzLnNraXBFdmVudD0hMCx0aGlzLnNjcm9sbFRvcD10aGlzLmVsZW1lbnQuc2Nyb2xsVG9wPWUpfX0uY2FsbChhLnByb3RvdHlwZSk7dmFyIGY9ZnVuY3Rpb24oZSx0KXt1LmNhbGwodGhpcyxlKSx0aGlzLnNjcm9sbExlZnQ9MCx0aGlzLmhlaWdodD10LiRzY3JvbGxiYXJXaWR0aCx0aGlzLmlubmVyLnN0eWxlLmhlaWdodD10aGlzLmVsZW1lbnQuc3R5bGUuaGVpZ2h0PSh0aGlzLmhlaWdodHx8MTUpKzUrInB4In07ci5pbmhlcml0cyhmLHUpLGZ1bmN0aW9uKCl7dGhpcy5jbGFzc1N1ZmZpeD0iLWgiLHRoaXMub25TY3JvbGw9ZnVuY3Rpb24oKXt0aGlzLnNraXBFdmVudHx8KHRoaXMuc2Nyb2xsTGVmdD10aGlzLmVsZW1lbnQuc2Nyb2xsTGVmdCx0aGlzLl9lbWl0KCJzY3JvbGwiLHtkYXRhOnRoaXMuc2Nyb2xsTGVmdH0pKSx0aGlzLnNraXBFdmVudD0hMX0sdGhpcy5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1Zpc2libGU/dGhpcy5oZWlnaHQ6MH0sdGhpcy5zZXRXaWR0aD1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGg9ZSsicHgifSx0aGlzLnNldElubmVyV2lkdGg9ZnVuY3Rpb24oZSl7dGhpcy5pbm5lci5zdHlsZS53aWR0aD1lKyJweCJ9LHRoaXMuc2V0U2Nyb2xsV2lkdGg9ZnVuY3Rpb24oZSl7dGhpcy5pbm5lci5zdHlsZS53aWR0aD1lKyJweCJ9LHRoaXMuc2V0U2Nyb2xsTGVmdD1mdW5jdGlvbihlKXt0aGlzLnNjcm9sbExlZnQhPWUmJih0aGlzLnNraXBFdmVudD0hMCx0aGlzLnNjcm9sbExlZnQ9dGhpcy5lbGVtZW50LnNjcm9sbExlZnQ9ZSl9fS5jYWxsKGYucHJvdG90eXBlKSx0LlNjcm9sbEJhcj1hLHQuU2Nyb2xsQmFyVj1hLHQuU2Nyb2xsQmFySD1mLHQuVlNjcm9sbEJhcj1hLHQuSFNjcm9sbEJhcj1mfSksZGVmaW5lKCJhY2UvbW91c2UvZGVmYXVsdF9oYW5kbGVycyIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvZG9tIiwiYWNlL2xpYi9ldmVudCIsImFjZS9saWIvdXNlcmFnZW50Il0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiB1KGUpe2UuJGNsaWNrU2VsZWN0aW9uPW51bGw7dmFyIHQ9ZS5lZGl0b3I7dC5zZXREZWZhdWx0SGFuZGxlcigibW91c2Vkb3duIix0aGlzLm9uTW91c2VEb3duLmJpbmQoZSkpLHQuc2V0RGVmYXVsdEhhbmRsZXIoImRibGNsaWNrIix0aGlzLm9uRG91YmxlQ2xpY2suYmluZChlKSksdC5zZXREZWZhdWx0SGFuZGxlcigidHJpcGxlY2xpY2siLHRoaXMub25UcmlwbGVDbGljay5iaW5kKGUpKSx0LnNldERlZmF1bHRIYW5kbGVyKCJxdWFkY2xpY2siLHRoaXMub25RdWFkQ2xpY2suYmluZChlKSksdC5zZXREZWZhdWx0SGFuZGxlcigibW91c2V3aGVlbCIsdGhpcy5vbk1vdXNlV2hlZWwuYmluZChlKSk7dmFyIG49WyJzZWxlY3QiLCJzdGFydFNlbGVjdCIsInNlbGVjdEVuZCIsInNlbGVjdEFsbEVuZCIsInNlbGVjdEJ5V29yZHNFbmQiLCJzZWxlY3RCeUxpbmVzRW5kIiwiZHJhZ1dhaXQiLCJkcmFnV2FpdEVuZCIsImZvY3VzV2FpdCJdO24uZm9yRWFjaChmdW5jdGlvbih0KXtlW3RdPXRoaXNbdF19LHRoaXMpLGUuc2VsZWN0QnlMaW5lcz10aGlzLmV4dGVuZFNlbGVjdGlvbkJ5LmJpbmQoZSwiZ2V0TGluZVJhbmdlIiksZS5zZWxlY3RCeVdvcmRzPXRoaXMuZXh0ZW5kU2VsZWN0aW9uQnkuYmluZChlLCJnZXRXb3JkUmFuZ2UiKX1mdW5jdGlvbiBhKGUsdCxuLHIpe3JldHVybiBNYXRoLnNxcnQoTWF0aC5wb3cobi1lLDIpK01hdGgucG93KHItdCwyKSl9ZnVuY3Rpb24gZihlLHQpe2lmKGUuc3RhcnQucm93PT1lLmVuZC5yb3cpdmFyIG49Mip0LmNvbHVtbi1lLnN0YXJ0LmNvbHVtbi1lLmVuZC5jb2x1bW47ZWxzZSBpZihlLnN0YXJ0LnJvdyE9ZS5lbmQucm93LTF8fGUuc3RhcnQuY29sdW1ufHxlLmVuZC5jb2x1bW4pdmFyIG49Mip0LnJvdy1lLnN0YXJ0LnJvdy1lLmVuZC5yb3c7ZWxzZSB2YXIgbj10LmNvbHVtbi00O3JldHVybiAwPm4/e2N1cnNvcjplLnN0YXJ0LGFuY2hvcjplLmVuZH06e2N1cnNvcjplLmVuZCxhbmNob3I6ZS5zdGFydH19dmFyIG89KGUoIi4uL2xpYi9kb20iKSxlKCIuLi9saWIvZXZlbnQiKSxlKCIuLi9saWIvdXNlcmFnZW50IiksMCk7KGZ1bmN0aW9uKCl7dGhpcy5vbk1vdXNlRG93bj1mdW5jdGlvbihlKXt2YXIgdD1lLmluU2VsZWN0aW9uKCksbj1lLmdldERvY3VtZW50UG9zaXRpb24oKTt0aGlzLm1vdXNlZG93bkV2ZW50PWU7dmFyIHI9dGhpcy5lZGl0b3IsaT1lLmdldEJ1dHRvbigpO2lmKDAhPT1pKXt2YXIgcz1yLmdldFNlbGVjdGlvblJhbmdlKCksbz1zLmlzRW1wdHkoKTtyZXR1cm4gbyYmci5zZWxlY3Rpb24ubW92ZVRvUG9zaXRpb24obiksdm9pZCByLnRleHRJbnB1dC5vbkNvbnRleHRNZW51KGUuZG9tRXZlbnQpfXJldHVybiF0fHxyLmlzRm9jdXNlZCgpfHwoci5mb2N1cygpLCF0aGlzLiRmb2N1c1RpbW91dHx8dGhpcy4kY2xpY2tTZWxlY3Rpb258fHIuaW5NdWx0aVNlbGVjdE1vZGUpPyh0aGlzLmNhcHR1cmVNb3VzZShlKSwhdHx8dGhpcy4kY2xpY2tTZWxlY3Rpb258fGUuZ2V0U2hpZnRLZXkoKXx8ci5pbk11bHRpU2VsZWN0TW9kZT90aGlzLnN0YXJ0U2VsZWN0KG4pOnQmJih0aGlzLm1vdXNlZG93bkV2ZW50LnRpbWU9RGF0ZS5ub3coKSx0aGlzLnN0YXJ0U2VsZWN0KG4pKSxlLnByZXZlbnREZWZhdWx0KCkpOih0aGlzLm1vdXNlZG93bkV2ZW50LnRpbWU9RGF0ZS5ub3coKSx0aGlzLnNldFN0YXRlKCJmb2N1c1dhaXQiKSx0aGlzLmNhcHR1cmVNb3VzZShlKSx2b2lkIDApfSx0aGlzLnN0YXJ0U2VsZWN0PWZ1bmN0aW9uKGUpe2U9ZXx8dGhpcy5lZGl0b3IucmVuZGVyZXIuc2NyZWVuVG9UZXh0Q29vcmRpbmF0ZXModGhpcy54LHRoaXMueSk7dmFyIHQ9dGhpcy5lZGl0b3Isbj10aGlzLm1vdXNlZG93bkV2ZW50LmdldFNoaWZ0S2V5KCk7bj90LnNlbGVjdGlvbi5zZWxlY3RUb1Bvc2l0aW9uKGUpOnRoaXMuJGNsaWNrU2VsZWN0aW9ufHx0LnNlbGVjdGlvbi5tb3ZlVG9Qb3NpdGlvbihlKSx0LnJlbmRlcmVyLnNjcm9sbGVyLnNldENhcHR1cmUmJnQucmVuZGVyZXIuc2Nyb2xsZXIuc2V0Q2FwdHVyZSgpLHQuc2V0U3R5bGUoImFjZV9zZWxlY3RpbmciKSx0aGlzLnNldFN0YXRlKCJzZWxlY3QiKX0sdGhpcy5zZWxlY3Q9ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuZWRpdG9yLG49dC5yZW5kZXJlci5zY3JlZW5Ub1RleHRDb29yZGluYXRlcyh0aGlzLngsdGhpcy55KTtpZih0aGlzLiRjbGlja1NlbGVjdGlvbil7dmFyIHI9dGhpcy4kY2xpY2tTZWxlY3Rpb24uY29tcGFyZVBvaW50KG4pO2lmKC0xPT1yKWU9dGhpcy4kY2xpY2tTZWxlY3Rpb24uZW5kO2Vsc2UgaWYoMT09cillPXRoaXMuJGNsaWNrU2VsZWN0aW9uLnN0YXJ0O2Vsc2V7dmFyIGk9Zih0aGlzLiRjbGlja1NlbGVjdGlvbixuKTtuPWkuY3Vyc29yLGU9aS5hbmNob3J9dC5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uQW5jaG9yKGUucm93LGUuY29sdW1uKX10LnNlbGVjdGlvbi5zZWxlY3RUb1Bvc2l0aW9uKG4pLHQucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcoKX0sdGhpcy5leHRlbmRTZWxlY3Rpb25CeT1mdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMuZWRpdG9yLHI9bi5yZW5kZXJlci5zY3JlZW5Ub1RleHRDb29yZGluYXRlcyh0aGlzLngsdGhpcy55KSxpPW4uc2VsZWN0aW9uW2VdKHIucm93LHIuY29sdW1uKTtpZih0aGlzLiRjbGlja1NlbGVjdGlvbil7dmFyIHM9dGhpcy4kY2xpY2tTZWxlY3Rpb24uY29tcGFyZVBvaW50KGkuc3RhcnQpLG89dGhpcy4kY2xpY2tTZWxlY3Rpb24uY29tcGFyZVBvaW50KGkuZW5kKTtpZigtMT09cyYmMD49byl0PXRoaXMuJGNsaWNrU2VsZWN0aW9uLmVuZCwoaS5lbmQucm93IT1yLnJvd3x8aS5lbmQuY29sdW1uIT1yLmNvbHVtbikmJihyPWkuc3RhcnQpO2Vsc2UgaWYoMT09byYmcz49MCl0PXRoaXMuJGNsaWNrU2VsZWN0aW9uLnN0YXJ0LChpLnN0YXJ0LnJvdyE9ci5yb3d8fGkuc3RhcnQuY29sdW1uIT1yLmNvbHVtbikmJihyPWkuZW5kKTtlbHNlIGlmKC0xPT1zJiYxPT1vKXI9aS5lbmQsdD1pLnN0YXJ0O2Vsc2V7dmFyIHU9Zih0aGlzLiRjbGlja1NlbGVjdGlvbixyKTtyPXUuY3Vyc29yLHQ9dS5hbmNob3J9bi5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uQW5jaG9yKHQucm93LHQuY29sdW1uKX1uLnNlbGVjdGlvbi5zZWxlY3RUb1Bvc2l0aW9uKHIpLG4ucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcoKX0sdGhpcy5zZWxlY3RFbmQ9dGhpcy5zZWxlY3RBbGxFbmQ9dGhpcy5zZWxlY3RCeVdvcmRzRW5kPXRoaXMuc2VsZWN0QnlMaW5lc0VuZD1mdW5jdGlvbigpe3RoaXMuZWRpdG9yLnVuc2V0U3R5bGUoImFjZV9zZWxlY3RpbmciKSx0aGlzLmVkaXRvci5yZW5kZXJlci5zY3JvbGxlci5yZWxlYXNlQ2FwdHVyZSYmdGhpcy5lZGl0b3IucmVuZGVyZXIuc2Nyb2xsZXIucmVsZWFzZUNhcHR1cmUoKX0sdGhpcy5mb2N1c1dhaXQ9ZnVuY3Rpb24oKXt2YXIgZT1hKHRoaXMubW91c2Vkb3duRXZlbnQueCx0aGlzLm1vdXNlZG93bkV2ZW50LnksdGhpcy54LHRoaXMueSksdD1EYXRlLm5vdygpOyhlPm98fHQtdGhpcy5tb3VzZWRvd25FdmVudC50aW1lPnRoaXMuJGZvY3VzVGltb3V0KSYmdGhpcy5zdGFydFNlbGVjdCh0aGlzLm1vdXNlZG93bkV2ZW50LmdldERvY3VtZW50UG9zaXRpb24oKSl9LHRoaXMub25Eb3VibGVDbGljaz1mdW5jdGlvbihlKXt2YXIgdD1lLmdldERvY3VtZW50UG9zaXRpb24oKSxuPXRoaXMuZWRpdG9yLHI9bi5zZXNzaW9uLGk9ci5nZXRCcmFja2V0UmFuZ2UodCk7aT8oaS5pc0VtcHR5KCkmJihpLnN0YXJ0LmNvbHVtbi0tLGkuZW5kLmNvbHVtbisrKSx0aGlzLnNldFN0YXRlKCJzZWxlY3QiKSk6KGk9bi5zZWxlY3Rpb24uZ2V0V29yZFJhbmdlKHQucm93LHQuY29sdW1uKSx0aGlzLnNldFN0YXRlKCJzZWxlY3RCeVdvcmRzIikpLHRoaXMuJGNsaWNrU2VsZWN0aW9uPWksdGhpc1t0aGlzLnN0YXRlXSYmdGhpc1t0aGlzLnN0YXRlXShlKX0sdGhpcy5vblRyaXBsZUNsaWNrPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLG49dGhpcy5lZGl0b3I7dGhpcy5zZXRTdGF0ZSgic2VsZWN0QnlMaW5lcyIpLHRoaXMuJGNsaWNrU2VsZWN0aW9uPW4uc2VsZWN0aW9uLmdldExpbmVSYW5nZSh0LnJvdyksdGhpc1t0aGlzLnN0YXRlXSYmdGhpc1t0aGlzLnN0YXRlXShlKX0sdGhpcy5vblF1YWRDbGljaz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZWRpdG9yO3Quc2VsZWN0QWxsKCksdGhpcy4kY2xpY2tTZWxlY3Rpb249dC5nZXRTZWxlY3Rpb25SYW5nZSgpLHRoaXMuc2V0U3RhdGUoInNlbGVjdEFsbCIpfSx0aGlzLm9uTW91c2VXaGVlbD1mdW5jdGlvbihlKXtpZighZS5nZXRBY2NlbEtleSgpKXtlLmdldFNoaWZ0S2V5KCkmJmUud2hlZWxZJiYhZS53aGVlbFgmJihlLndoZWVsWD1lLndoZWVsWSxlLndoZWVsWT0wKTt2YXIgdD1lLmRvbUV2ZW50LnRpbWVTdGFtcCxuPXQtKHRoaXMuJGxhc3RTY3JvbGxUaW1lfHwwKSxyPXRoaXMuZWRpdG9yLGk9ci5yZW5kZXJlci5pc1Njcm9sbGFibGVCeShlLndoZWVsWCplLnNwZWVkLGUud2hlZWxZKmUuc3BlZWQpO3JldHVybiBpfHwyMDA+bj8odGhpcy4kbGFzdFNjcm9sbFRpbWU9dCxyLnJlbmRlcmVyLnNjcm9sbEJ5KGUud2hlZWxYKmUuc3BlZWQsZS53aGVlbFkqZS5zcGVlZCksZS5zdG9wKCkpOnZvaWQgMH19fSkuY2FsbCh1LnByb3RvdHlwZSksdC5EZWZhdWx0SGFuZGxlcnM9dX0pLGRlZmluZSgiYWNlL3JlbmRlcmxvb3AiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL2V2ZW50Il0sZnVuY3Rpb24oZSx0KXt2YXIgcj1lKCIuL2xpYi9ldmVudCIpLGk9ZnVuY3Rpb24oZSx0KXt0aGlzLm9uUmVuZGVyPWUsdGhpcy5wZW5kaW5nPSExLHRoaXMuY2hhbmdlcz0wLHRoaXMud2luZG93PXR8fHdpbmRvd307KGZ1bmN0aW9uKCl7dGhpcy5zY2hlZHVsZT1mdW5jdGlvbihlKXtpZih0aGlzLmNoYW5nZXM9dGhpcy5jaGFuZ2VzfGUsIXRoaXMucGVuZGluZyYmdGhpcy5jaGFuZ2VzKXt0aGlzLnBlbmRpbmc9ITA7dmFyIHQ9dGhpcztyLm5leHRGcmFtZShmdW5jdGlvbigpe3QucGVuZGluZz0hMTtmb3IodmFyIGU7ZT10LmNoYW5nZXM7KXQuY2hhbmdlcz0wLHQub25SZW5kZXIoZSl9LHRoaXMud2luZG93KX19fSkuY2FsbChpLnByb3RvdHlwZSksdC5SZW5kZXJMb29wPWl9KSxkZWZpbmUoImFjZS9tb3VzZS9tb3VzZV9oYW5kbGVyIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9ldmVudCIsImFjZS9saWIvdXNlcmFnZW50IiwiYWNlL21vdXNlL2RlZmF1bHRfaGFuZGxlcnMiLCJhY2UvbW91c2UvZGVmYXVsdF9ndXR0ZXJfaGFuZGxlciIsImFjZS9tb3VzZS9tb3VzZV9ldmVudCIsImFjZS9tb3VzZS9kcmFnZHJvcF9oYW5kbGVyIiwiYWNlL2NvbmZpZyJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSgiLi4vbGliL2V2ZW50IiksaT1lKCIuLi9saWIvdXNlcmFnZW50Iikscz1lKCIuL2RlZmF1bHRfaGFuZGxlcnMiKS5EZWZhdWx0SGFuZGxlcnMsbz1lKCIuL2RlZmF1bHRfZ3V0dGVyX2hhbmRsZXIiKS5HdXR0ZXJIYW5kbGVyLHU9ZSgiLi9tb3VzZV9ldmVudCIpLk1vdXNlRXZlbnQsYT1lKCIuL2RyYWdkcm9wX2hhbmRsZXIiKS5EcmFnZHJvcEhhbmRsZXIsZj1lKCIuLi9jb25maWciKSxsPWZ1bmN0aW9uKGUpe3RoaXMuZWRpdG9yPWUsbmV3IHModGhpcyksbmV3IG8odGhpcyksbmV3IGEodGhpcyk7dmFyIHQ9ZS5yZW5kZXJlci5nZXRNb3VzZUV2ZW50VGFyZ2V0KCk7ci5hZGRMaXN0ZW5lcih0LCJjbGljayIsdGhpcy5vbk1vdXNlRXZlbnQuYmluZCh0aGlzLCJjbGljayIpKSxyLmFkZExpc3RlbmVyKHQsIm1vdXNlbW92ZSIsdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMsIm1vdXNlbW92ZSIpKSxyLmFkZE11bHRpTW91c2VEb3duTGlzdGVuZXIodCxbMzAwLDMwMCwyNTBdLHRoaXMsIm9uTW91c2VFdmVudCIpLGUucmVuZGVyZXIuc2Nyb2xsQmFyViYmKHIuYWRkTXVsdGlNb3VzZURvd25MaXN0ZW5lcihlLnJlbmRlcmVyLnNjcm9sbEJhclYuaW5uZXIsWzMwMCwzMDAsMjUwXSx0aGlzLCJvbk1vdXNlRXZlbnQiKSxyLmFkZE11bHRpTW91c2VEb3duTGlzdGVuZXIoZS5yZW5kZXJlci5zY3JvbGxCYXJILmlubmVyLFszMDAsMzAwLDI1MF0sdGhpcywib25Nb3VzZUV2ZW50IikpLHIuYWRkTW91c2VXaGVlbExpc3RlbmVyKGUuY29udGFpbmVyLHRoaXMub25Nb3VzZVdoZWVsLmJpbmQodGhpcywibW91c2V3aGVlbCIpKTt2YXIgbj1lLnJlbmRlcmVyLiRndXR0ZXI7ci5hZGRMaXN0ZW5lcihuLCJtb3VzZWRvd24iLHRoaXMub25Nb3VzZUV2ZW50LmJpbmQodGhpcywiZ3V0dGVybW91c2Vkb3duIikpLHIuYWRkTGlzdGVuZXIobiwiY2xpY2siLHRoaXMub25Nb3VzZUV2ZW50LmJpbmQodGhpcywiZ3V0dGVyY2xpY2siKSksci5hZGRMaXN0ZW5lcihuLCJkYmxjbGljayIsdGhpcy5vbk1vdXNlRXZlbnQuYmluZCh0aGlzLCJndXR0ZXJkYmxjbGljayIpKSxyLmFkZExpc3RlbmVyKG4sIm1vdXNlbW92ZSIsdGhpcy5vbk1vdXNlRXZlbnQuYmluZCh0aGlzLCJndXR0ZXJtb3VzZW1vdmUiKSksci5hZGRMaXN0ZW5lcih0LCJtb3VzZWRvd24iLGZ1bmN0aW9uKCl7ZS5mb2N1cygpfSksci5hZGRMaXN0ZW5lcihuLCJtb3VzZWRvd24iLGZ1bmN0aW9uKHQpe3JldHVybiBlLmZvY3VzKCksci5wcmV2ZW50RGVmYXVsdCh0KX0pfTsoZnVuY3Rpb24oKXt0aGlzLm9uTW91c2VFdmVudD1mdW5jdGlvbihlLHQpe3RoaXMuZWRpdG9yLl9lbWl0KGUsbmV3IHUodCx0aGlzLmVkaXRvcikpfSx0aGlzLm9uTW91c2VNb3ZlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5lZGl0b3IuX2V2ZW50UmVnaXN0cnkmJnRoaXMuZWRpdG9yLl9ldmVudFJlZ2lzdHJ5Lm1vdXNlbW92ZTtuJiZuLmxlbmd0aCYmdGhpcy5lZGl0b3IuX2VtaXQoZSxuZXcgdSh0LHRoaXMuZWRpdG9yKSl9LHRoaXMub25Nb3VzZVdoZWVsPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IHUodCx0aGlzLmVkaXRvcik7bi5zcGVlZD0yKnRoaXMuJHNjcm9sbFNwZWVkLG4ud2hlZWxYPXQud2hlZWxYLG4ud2hlZWxZPXQud2hlZWxZLHRoaXMuZWRpdG9yLl9lbWl0KGUsbil9LHRoaXMuc2V0U3RhdGU9ZnVuY3Rpb24oZSl7dGhpcy5zdGF0ZT1lfSx0aGlzLmNhcHR1cmVNb3VzZT1mdW5jdGlvbihlLHQpe3RoaXMueD1lLngsdGhpcy55PWUueSx0aGlzLmlzTW91c2VQcmVzc2VkPSEwO3ZhciBuPXRoaXMuZWRpdG9yLnJlbmRlcmVyO24uJGtlZXBUZXh0QXJlYUF0Q3Vyc29yJiYobi4ka2VlcFRleHRBcmVhQXRDdXJzb3I9bnVsbCk7dmFyIHM9dGhpcyxvPWZ1bmN0aW9uKGUpe3MueD1lLmNsaWVudFgscy55PWUuY2xpZW50WSx0JiZ0KGUpLHMubW91c2VFdmVudD1uZXcgdShlLHMuZWRpdG9yKSxzLiRtb3VzZU1vdmVkPSEwfSxhPWZ1bmN0aW9uKGUpe2NsZWFySW50ZXJ2YWwobCksZigpLHNbcy5zdGF0ZSsiRW5kIl0mJnNbcy5zdGF0ZSsiRW5kIl0oZSkscy4kY2xpY2tTZWxlY3Rpb249bnVsbCxudWxsPT1uLiRrZWVwVGV4dEFyZWFBdEN1cnNvciYmKG4uJGtlZXBUZXh0QXJlYUF0Q3Vyc29yPSEwLG4uJG1vdmVUZXh0QXJlYVRvQ3Vyc29yKCkpLHMuaXNNb3VzZVByZXNzZWQ9ITEscy4kb25DYXB0dXJlTW91c2VNb3ZlPXMucmVsZWFzZU1vdXNlPW51bGwscy5vbk1vdXNlRXZlbnQoIm1vdXNldXAiLGUpfSxmPWZ1bmN0aW9uKCl7c1tzLnN0YXRlXSYmc1tzLnN0YXRlXSgpLHMuJG1vdXNlTW92ZWQ9ITF9O2lmKGkuaXNPbGRJRSYmImRibGNsaWNrIj09ZS5kb21FdmVudC50eXBlKXJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YShlKX0pO3MuJG9uQ2FwdHVyZU1vdXNlTW92ZT1vLHMucmVsZWFzZU1vdXNlPXIuY2FwdHVyZSh0aGlzLmVkaXRvci5jb250YWluZXIsbyxhKTt2YXIgbD1zZXRJbnRlcnZhbChmLDIwKX0sdGhpcy5yZWxlYXNlTW91c2U9bnVsbH0pLmNhbGwobC5wcm90b3R5cGUpLGYuZGVmaW5lT3B0aW9ucyhsLnByb3RvdHlwZSwibW91c2VIYW5kbGVyIix7c2Nyb2xsU3BlZWQ6e2luaXRpYWxWYWx1ZToyfSxkcmFnRGVsYXk6e2luaXRpYWxWYWx1ZToxNTB9LGRyYWdFbmFibGVkOntpbml0aWFsVmFsdWU6ITB9LGZvY3VzVGltb3V0Ontpbml0aWFsVmFsdWU6MH0sdG9vbHRpcEZvbGxvd3NNb3VzZTp7aW5pdGlhbFZhbHVlOiEwfX0pLHQuTW91c2VIYW5kbGVyPWx9KSxkZWZpbmUoImFjZS9sYXllci9mb250X21ldHJpY3MiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL29vcCIsImFjZS9saWIvZG9tIiwiYWNlL2xpYi9sYW5nIiwiYWNlL2xpYi9ldmVudF9lbWl0dGVyIl0sZnVuY3Rpb24oZSx0KXt2YXIgcj1lKCIuLi9saWIvb29wIiksaT1lKCIuLi9saWIvZG9tIikscz1lKCIuLi9saWIvbGFuZyIpLG89ZSgiLi4vbGliL2V2ZW50X2VtaXR0ZXIiKS5FdmVudEVtaXR0ZXIsdT0wLGE9dC5Gb250TWV0cmljcz1mdW5jdGlvbihlKXt0aGlzLmVsPWkuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy4kc2V0TWVhc3VyZU5vZGVTdHlsZXModGhpcy5lbC5zdHlsZSwhMCksdGhpcy4kbWFpbj1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuJHNldE1lYXN1cmVOb2RlU3R5bGVzKHRoaXMuJG1haW4uc3R5bGUpLHRoaXMuJG1lYXN1cmVOb2RlPWkuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy4kc2V0TWVhc3VyZU5vZGVTdHlsZXModGhpcy4kbWVhc3VyZU5vZGUuc3R5bGUpLHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy4kbWFpbiksdGhpcy5lbC5hcHBlbmRDaGlsZCh0aGlzLiRtZWFzdXJlTm9kZSksZS5hcHBlbmRDaGlsZCh0aGlzLmVsKSx1fHx0aGlzLiR0ZXN0RnJhY3Rpb25hbFJlY3QoKSx0aGlzLiRtZWFzdXJlTm9kZS50ZXh0Q29udGVudD1zLnN0cmluZ1JlcGVhdCgiWCIsdSksdGhpcy4kY2hhcmFjdGVyU2l6ZT17d2lkdGg6MCxoZWlnaHQ6MH0sdGhpcy5jaGVja0ZvclNpemVDaGFuZ2VzKCl9OyhmdW5jdGlvbigpe3IuaW1wbGVtZW50KHRoaXMsbyksdGhpcy4kY2hhcmFjdGVyU2l6ZT17d2lkdGg6MCxoZWlnaHQ6MH0sdGhpcy4kdGVzdEZyYWN0aW9uYWxSZWN0PWZ1bmN0aW9uKCl7dmFyIGU9aS5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLiRzZXRNZWFzdXJlTm9kZVN0eWxlcyhlLnN0eWxlKSxlLnN0eWxlLndpZHRoPSIwLjJweCIsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGUpO3ZhciB0PWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7dT10PjAmJjE+dD8xOjEwMCxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSl9LHRoaXMuJHNldE1lYXN1cmVOb2RlU3R5bGVzPWZ1bmN0aW9uKGUsdCl7ZS53aWR0aD1lLmhlaWdodD0iYXV0byIsZS5sZWZ0PWUudG9wPSItMTAwcHgiLGUudmlzaWJpbGl0eT0iaGlkZGVuIixlLnBvc2l0aW9uPSJmaXhlZCIsZS53aGl0ZVNwYWNlPSJwcmUiLGUuZm9udD0iaW5oZXJpdCIsZS5vdmVyZmxvdz10PyJoaWRkZW4iOiJ2aXNpYmxlIn0sdGhpcy5jaGVja0ZvclNpemVDaGFuZ2VzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy4kbWVhc3VyZVNpemVzKCk7aWYoZSYmKHRoaXMuJGNoYXJhY3RlclNpemUud2lkdGghPT1lLndpZHRofHx0aGlzLiRjaGFyYWN0ZXJTaXplLmhlaWdodCE9PWUuaGVpZ2h0KSl7dGhpcy4kbWVhc3VyZU5vZGUuc3R5bGUuZm9udFdlaWdodD0iYm9sZCI7dmFyIHQ9dGhpcy4kbWVhc3VyZVNpemVzKCk7dGhpcy4kbWVhc3VyZU5vZGUuc3R5bGUuZm9udFdlaWdodD0iIix0aGlzLiRjaGFyYWN0ZXJTaXplPWUsdGhpcy5jaGFyU2l6ZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLmFsbG93Qm9sZEZvbnRzPXQmJnQud2lkdGg9PT1lLndpZHRoJiZ0LmhlaWdodD09PWUuaGVpZ2h0LHRoaXMuX2VtaXQoImNoYW5nZUNoYXJhY3RlclNpemUiLHtkYXRhOmV9KX19LHRoaXMuJHBvbGxTaXplQ2hhbmdlcz1mdW5jdGlvbigpe2lmKHRoaXMuJHBvbGxTaXplQ2hhbmdlc1RpbWVyKXJldHVybiB0aGlzLiRwb2xsU2l6ZUNoYW5nZXNUaW1lcjt2YXIgZT10aGlzO3JldHVybiB0aGlzLiRwb2xsU2l6ZUNoYW5nZXNUaW1lcj1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2UuY2hlY2tGb3JTaXplQ2hhbmdlcygpfSw1MDApfSx0aGlzLnNldFBvbGxpbmc9ZnVuY3Rpb24oZSl7ZT90aGlzLiRwb2xsU2l6ZUNoYW5nZXMoKTp0aGlzLiRwb2xsU2l6ZUNoYW5nZXNUaW1lciYmdGhpcy4kcG9sbFNpemVDaGFuZ2VzVGltZXJ9LHRoaXMuJG1lYXN1cmVTaXplcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuJG1lYXN1cmVOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHQ9e2hlaWdodDplLmhlaWdodCx3aWR0aDplLndpZHRoL3V9O3JldHVybiAwPT09dC53aWR0aHx8MD09PXQuaGVpZ2h0P251bGw6dH0sdGhpcy4kbWVhc3VyZUNoYXJXaWR0aD1mdW5jdGlvbihlKXt0aGlzLiRtYWluLnRleHRDb250ZW50PXMuc3RyaW5nUmVwZWF0KGUsdSk7dmFyIHQ9dGhpcy4kbWFpbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gdC53aWR0aC91fSx0aGlzLmdldENoYXJhY3RlcldpZHRoPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY2hhclNpemVzW2VdO3JldHVybiB2b2lkIDA9PT10JiYodGhpcy5jaGFyU2l6ZXNbZV09dGhpcy4kbWVhc3VyZUNoYXJXaWR0aChlKS90aGlzLiRjaGFyYWN0ZXJTaXplLndpZHRoKSx0fSx0aGlzLmRlc3Ryb3k9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKHRoaXMuJHBvbGxTaXplQ2hhbmdlc1RpbWVyKSx0aGlzLmVsJiZ0aGlzLmVsLnBhcmVudE5vZGUmJnRoaXMuZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsKX19KS5jYWxsKGEucHJvdG90eXBlKX0pLGRlZmluZSgiYWNlL2tleWJvYXJkL3RleHRpbnB1dCIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvZXZlbnQiLCJhY2UvbGliL3VzZXJhZ2VudCIsImFjZS9saWIvZG9tIiwiYWNlL2xpYi9sYW5nIl0sZnVuY3Rpb24oZSx0KXt2YXIgcj1lKCIuLi9saWIvZXZlbnQiKSxpPWUoIi4uL2xpYi91c2VyYWdlbnQiKSxzPWUoIi4uL2xpYi9kb20iKSxvPWUoIi4uL2xpYi9sYW5nIiksdT1pLmlzQ2hyb21lPDE4LGE9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBiKGUpe2lmKCFoKXtpZihrKXQ9MCxyPWU/MDpuLnZhbHVlLmxlbmd0aC0xO2Vsc2UgdmFyIHQ9ZT8yOjEscj0yO3RyeXtuLnNldFNlbGVjdGlvblJhbmdlKHQscil9Y2F0Y2goaSl7fX19ZnVuY3Rpb24gdygpe2h8fChuLnZhbHVlPWEsaS5pc1dlYktpdCYmeS5zY2hlZHVsZSgpKX1mdW5jdGlvbiBGKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3AmJihuLnN0eWxlLmNzc1RleHQ9cCxwPSIiKSxudWxsPT10LnJlbmRlcmVyLiRrZWVwVGV4dEFyZWFBdEN1cnNvciYmKHQucmVuZGVyZXIuJGtlZXBUZXh0QXJlYUF0Q3Vyc29yPSEwLHQucmVuZGVyZXIuJG1vdmVUZXh0QXJlYVRvQ3Vyc29yKCkpfSwwKX12YXIgbj1zLmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIik7bi5jbGFzc05hbWU9ImFjZV90ZXh0LWlucHV0IixpLmlzVG91Y2hQYWQmJm4uc2V0QXR0cmlidXRlKCJ4LXBhbG0tZGlzYWJsZS1hdXRvLWNhcCIsITApLG4ud3JhcD0ib2ZmIixuLmF1dG9jb3JyZWN0PSJvZmYiLG4uYXV0b2NhcGl0YWxpemU9Im9mZiIsbi5zcGVsbGNoZWNrPSExLG4uc3R5bGUub3BhY2l0eT0iMCIsZS5pbnNlcnRCZWZvcmUobixlLmZpcnN0Q2hpbGQpO3ZhciBhPSIBASIsZj0hMSxsPSExLGM9ITEsaD0hMSxwPSIiLGQ9ITA7dHJ5e3ZhciB2PWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ9PT1ufWNhdGNoKG0pe31yLmFkZExpc3RlbmVyKG4sImJsdXIiLGZ1bmN0aW9uKCl7dC5vbkJsdXIoKSx2PSExfSksci5hZGRMaXN0ZW5lcihuLCJmb2N1cyIsZnVuY3Rpb24oKXt2PSEwLHQub25Gb2N1cygpLGIoKX0pLHRoaXMuZm9jdXM9ZnVuY3Rpb24oKXtuLmZvY3VzKCl9LHRoaXMuYmx1cj1mdW5jdGlvbigpe24uYmx1cigpfSx0aGlzLmlzRm9jdXNlZD1mdW5jdGlvbigpe3JldHVybiB2fTt2YXIgZz1vLmRlbGF5ZWRDYWxsKGZ1bmN0aW9uKCl7diYmYihkKX0pLHk9by5kZWxheWVkQ2FsbChmdW5jdGlvbigpe2h8fChuLnZhbHVlPWEsdiYmYigpKX0pO2kuaXNXZWJLaXR8fHQuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlU2VsZWN0aW9uIixmdW5jdGlvbigpe3Quc2VsZWN0aW9uLmlzRW1wdHkoKSE9ZCYmKGQ9IWQsZy5zY2hlZHVsZSgpKX0pLHcoKSx2JiZ0Lm9uRm9jdXMoKTt2YXIgRT1mdW5jdGlvbihlKXtyZXR1cm4gMD09PWUuc2VsZWN0aW9uU3RhcnQmJmUuc2VsZWN0aW9uRW5kPT09ZS52YWx1ZS5sZW5ndGh9O2lmKCFuLnNldFNlbGVjdGlvblJhbmdlJiZuLmNyZWF0ZVRleHRSYW5nZSYmKG4uc2V0U2VsZWN0aW9uUmFuZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVRleHRSYW5nZSgpO24uY29sbGFwc2UoITApLG4ubW92ZVN0YXJ0KCJjaGFyYWN0ZXIiLGUpLG4ubW92ZUVuZCgiY2hhcmFjdGVyIix0KSxuLnNlbGVjdCgpfSxFPWZ1bmN0aW9uKGUpe3RyeXt2YXIgdD1lLm93bmVyRG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCl9Y2F0Y2gobil7fXJldHVybiB0JiZ0LnBhcmVudEVsZW1lbnQoKT09ZT90LnRleHQ9PWUudmFsdWU6ITF9KSxpLmlzT2xkSUUpe3ZhciBTPSExLHg9ZnVuY3Rpb24oZSl7aWYoIVMpe3ZhciB0PW4udmFsdWU7aWYoIWgmJnQmJnQhPWEpcmV0dXJuIGUmJnQ9PWFbMF0/VC5zY2hlZHVsZSgpOihBKHQpLFM9ITAsdygpLFM9ITEsdm9pZCAwKX19LFQ9by5kZWxheWVkQ2FsbCh4KTtyLmFkZExpc3RlbmVyKG4sInByb3BlcnR5Y2hhbmdlIix4KTt2YXIgTj17MTM6MSwyNzoxfTtyLmFkZExpc3RlbmVyKG4sImtleXVwIixmdW5jdGlvbihlKXtyZXR1cm4gaCYmKCFuLnZhbHVlfHxOW2Uua2V5Q29kZV0pJiZzZXRUaW1lb3V0KEIsMCksKG4udmFsdWUuY2hhckNvZGVBdCgwKXx8MCk8MTI5P1QuY2FsbCgpOnZvaWQoaD9IKCk6UCgpKX0pLHIuYWRkTGlzdGVuZXIobiwia2V5ZG93biIsZnVuY3Rpb24oKXtULnNjaGVkdWxlKDUwKX0pfXZhciBDPWZ1bmN0aW9uKCl7Zj9mPSExOmw/bD0hMTpFKG4pPyh0LnNlbGVjdEFsbCgpLGIoKSk6ayYmYih0LnNlbGVjdGlvbi5pc0VtcHR5KCkpCn0saz1udWxsO3RoaXMuc2V0SW5wdXRIYW5kbGVyPWZ1bmN0aW9uKGUpe2s9ZX0sdGhpcy5nZXRJbnB1dEhhbmRsZXI9ZnVuY3Rpb24oKXtyZXR1cm4ga307dmFyIEw9ITEsQT1mdW5jdGlvbihlKXtrJiYoZT1rKGUpLGs9bnVsbCksYz8oYigpLGUmJnQub25QYXN0ZShlKSxjPSExKTplPT1hLmNoYXJBdCgwKT9MP3QuZXhlY0NvbW1hbmQoImRlbCIse3NvdXJjZToiYWNlIn0pOnQuZXhlY0NvbW1hbmQoImJhY2tzcGFjZSIse3NvdXJjZToiYWNlIn0pOihlLnN1YnN0cmluZygwLDIpPT1hP2U9ZS5zdWJzdHIoMik6ZS5jaGFyQXQoMCk9PWEuY2hhckF0KDApP2U9ZS5zdWJzdHIoMSk6ZS5jaGFyQXQoZS5sZW5ndGgtMSk9PWEuY2hhckF0KDApJiYoZT1lLnNsaWNlKDAsLTEpKSxlLmNoYXJBdChlLmxlbmd0aC0xKT09YS5jaGFyQXQoMCkmJihlPWUuc2xpY2UoMCwtMSkpLGUmJnQub25UZXh0SW5wdXQoZSkpLEwmJihMPSExKX0sTz1mdW5jdGlvbigpe2lmKCFoKXt2YXIgdD1uLnZhbHVlO0EodCksdygpfX0sTT1mdW5jdGlvbihlKXt2YXIgaT10LmdldENvcHlUZXh0KCk7aWYoIWkpcmV0dXJuIHZvaWQgci5wcmV2ZW50RGVmYXVsdChlKTt2YXIgcz1lLmNsaXBib2FyZERhdGF8fHdpbmRvdy5jbGlwYm9hcmREYXRhO2lmKHMmJiF1KXt2YXIgbz1zLnNldERhdGEoIlRleHQiLGkpO28mJih0Lm9uQ3V0KCksci5wcmV2ZW50RGVmYXVsdChlKSl9b3x8KGY9ITAsbi52YWx1ZT1pLG4uc2VsZWN0KCksc2V0VGltZW91dChmdW5jdGlvbigpe2Y9ITEsdygpLGIoKSx0Lm9uQ3V0KCl9KSl9LF89ZnVuY3Rpb24oZSl7dmFyIGk9dC5nZXRDb3B5VGV4dCgpO2lmKCFpKXJldHVybiB2b2lkIHIucHJldmVudERlZmF1bHQoZSk7dmFyIHM9ZS5jbGlwYm9hcmREYXRhfHx3aW5kb3cuY2xpcGJvYXJkRGF0YTtpZihzJiYhdSl7dmFyIG89cy5zZXREYXRhKCJUZXh0IixpKTtvJiYodC5vbkNvcHkoKSxyLnByZXZlbnREZWZhdWx0KGUpKX1vfHwobD0hMCxuLnZhbHVlPWksbi5zZWxlY3QoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bD0hMSx3KCksYigpLHQub25Db3B5KCl9KSl9LEQ9ZnVuY3Rpb24oZSl7dmFyIHM9ZS5jbGlwYm9hcmREYXRhfHx3aW5kb3cuY2xpcGJvYXJkRGF0YTtpZihzKXt2YXIgbz1zLmdldERhdGEoIlRleHQiKTtvJiZ0Lm9uUGFzdGUobyksaS5pc0lFJiZzZXRUaW1lb3V0KGIpLHIucHJldmVudERlZmF1bHQoZSl9ZWxzZSBuLnZhbHVlPSIiLGM9ITB9O3IuYWRkQ29tbWFuZEtleUxpc3RlbmVyKG4sdC5vbkNvbW1hbmRLZXkuYmluZCh0KSksci5hZGRMaXN0ZW5lcihuLCJzZWxlY3QiLEMpLHIuYWRkTGlzdGVuZXIobiwiaW5wdXQiLE8pLHIuYWRkTGlzdGVuZXIobiwiY3V0IixNKSxyLmFkZExpc3RlbmVyKG4sImNvcHkiLF8pLHIuYWRkTGlzdGVuZXIobiwicGFzdGUiLEQpLCEoIm9uY3V0ImluIG4mJiJvbmNvcHkiaW4gbiYmIm9ucGFzdGUiaW4gbnx8IXIuYWRkTGlzdGVuZXIoZSwia2V5ZG93biIsZnVuY3Rpb24oZSl7aWYoKCFpLmlzTWFjfHxlLm1ldGFLZXkpJiZlLmN0cmxLZXkpc3dpdGNoKGUua2V5Q29kZSl7Y2FzZSA2NzpfKGUpO2JyZWFrO2Nhc2UgODY6RChlKTticmVhaztjYXNlIDg4Ok0oZSl9fSkpO3ZhciBQPWZ1bmN0aW9uKCl7IWgmJnQub25Db21wb3NpdGlvblN0YXJ0JiYoaD17fSx0Lm9uQ29tcG9zaXRpb25TdGFydCgpLHNldFRpbWVvdXQoSCwwKSx0Lm9uKCJtb3VzZWRvd24iLEIpLHQuc2VsZWN0aW9uLmlzRW1wdHkoKXx8KHQuaW5zZXJ0KCIiKSx0LnNlc3Npb24ubWFya1VuZG9Hcm91cCgpLHQuc2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKCkpLHQuc2Vzc2lvbi5tYXJrVW5kb0dyb3VwKCkpfSxIPWZ1bmN0aW9uKCl7aWYoaCYmdC5vbkNvbXBvc2l0aW9uVXBkYXRlKXt2YXIgZT1uLnZhbHVlLnJlcGxhY2UoL1x4MDEvZywiIik7aWYoaC5sYXN0VmFsdWUhPT1lJiYodC5vbkNvbXBvc2l0aW9uVXBkYXRlKGUpLGgubGFzdFZhbHVlJiZ0LnVuZG8oKSxoLmxhc3RWYWx1ZT1lLGgubGFzdFZhbHVlKSl7dmFyIHI9dC5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTt0Lmluc2VydChoLmxhc3RWYWx1ZSksdC5zZXNzaW9uLm1hcmtVbmRvR3JvdXAoKSxoLnJhbmdlPXQuc2VsZWN0aW9uLmdldFJhbmdlKCksdC5zZWxlY3Rpb24uc2V0UmFuZ2UociksdC5zZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oKX19fSxCPWZ1bmN0aW9uKGUpe2lmKHQub25Db21wb3NpdGlvbkVuZCl7dmFyIHI9aDtoPSExO3ZhciBpPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpPW51bGw7dmFyIGU9bi52YWx1ZS5yZXBsYWNlKC9ceDAxL2csIiIpO2h8fChlPT1yLmxhc3RWYWx1ZT93KCk6IXIubGFzdFZhbHVlJiZlJiYodygpLEEoZSkpKX0pO2s9ZnVuY3Rpb24obil7cmV0dXJuIGkmJmNsZWFyVGltZW91dChpKSxuPW4ucmVwbGFjZSgvXHgwMS9nLCIiKSxuPT1yLmxhc3RWYWx1ZT8iIjooci5sYXN0VmFsdWUmJmkmJnQudW5kbygpLG4pfSx0Lm9uQ29tcG9zaXRpb25FbmQoKSx0LnJlbW92ZUxpc3RlbmVyKCJtb3VzZWRvd24iLEIpLCJjb21wb3NpdGlvbmVuZCI9PWUudHlwZSYmci5yYW5nZSYmdC5zZWxlY3Rpb24uc2V0UmFuZ2Uoci5yYW5nZSl9fSxqPW8uZGVsYXllZENhbGwoSCw1MCk7aWYoci5hZGRMaXN0ZW5lcihuLCJjb21wb3NpdGlvbnN0YXJ0IixQKSxpLmlzR2Vja28/ci5hZGRMaXN0ZW5lcihuLCJ0ZXh0IixmdW5jdGlvbigpe2ouc2NoZWR1bGUoKX0pOihyLmFkZExpc3RlbmVyKG4sImtleXVwIixmdW5jdGlvbigpe2ouc2NoZWR1bGUoKX0pLHIuYWRkTGlzdGVuZXIobiwia2V5ZG93biIsZnVuY3Rpb24oKXtqLnNjaGVkdWxlKCl9KSksci5hZGRMaXN0ZW5lcihuLCJjb21wb3NpdGlvbmVuZCIsQiksdGhpcy5nZXRFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIG59LHRoaXMuc2V0UmVhZE9ubHk9ZnVuY3Rpb24oZSl7bi5yZWFkT25seT1lfSx0aGlzLm9uQ29udGV4dE1lbnU9ZnVuY3Rpb24oZSl7TD0hMCxwfHwocD1uLnN0eWxlLmNzc1RleHQpLG4uc3R5bGUuY3NzVGV4dD0iei1pbmRleDoxMDAwMDA7IisoaS5pc0lFPyJvcGFjaXR5OjAuMTsiOiIiKSxiKHQuc2VsZWN0aW9uLmlzRW1wdHkoKSksdC5fZW1pdCgibmF0aXZlY29udGV4dG1lbnUiLHt0YXJnZXQ6dCxkb21FdmVudDplfSk7dmFyIG89dC5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdT1zLmNvbXB1dGVkU3R5bGUodC5jb250YWluZXIpLGE9by50b3ArKHBhcnNlSW50KHUuYm9yZGVyVG9wV2lkdGgpfHwwKSxmPW8ubGVmdCsocGFyc2VJbnQoby5ib3JkZXJMZWZ0V2lkdGgpfHwwKSxsPW8uYm90dG9tLWEtbi5jbGllbnRIZWlnaHQsYz1mdW5jdGlvbihlKXtuLnN0eWxlLmxlZnQ9ZS5jbGllbnRYLWYtMisicHgiLG4uc3R5bGUudG9wPU1hdGgubWluKGUuY2xpZW50WS1hLTIsbCkrInB4In07YyhlKSwibW91c2Vkb3duIj09ZS50eXBlJiYodC5yZW5kZXJlci4ka2VlcFRleHRBcmVhQXRDdXJzb3ImJih0LnJlbmRlcmVyLiRrZWVwVGV4dEFyZWFBdEN1cnNvcj1udWxsKSxpLmlzV2luJiZyLmNhcHR1cmUodC5jb250YWluZXIsYyxGKSl9LHRoaXMub25Db250ZXh0TWVudUNsb3NlPUYsIWkuaXNHZWNrb3x8aS5pc01hYyl7dmFyIEk9ZnVuY3Rpb24oZSl7dC50ZXh0SW5wdXQub25Db250ZXh0TWVudShlKSxGKCl9O3IuYWRkTGlzdGVuZXIodC5yZW5kZXJlci5zY3JvbGxlciwiY29udGV4dG1lbnUiLEkpLHIuYWRkTGlzdGVuZXIobiwiY29udGV4dG1lbnUiLEkpfX07dC5UZXh0SW5wdXQ9YX0pLGRlZmluZSgiYWNlL2xpYi9sYW5nIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oZSx0KXt0Lmxhc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5sZW5ndGgtMV19LHQuc3RyaW5nUmV2ZXJzZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5zcGxpdCgiIikucmV2ZXJzZSgpLmpvaW4oIiIpfSx0LnN0cmluZ1JlcGVhdD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0iIjt0PjA7KTEmdCYmKG4rPWUpLCh0Pj49MSkmJihlKz1lKTtyZXR1cm4gbn07dmFyIHI9L15cc1xzKi8saT0vXHNccyokLzt0LnN0cmluZ1RyaW1MZWZ0PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UociwiIil9LHQuc3RyaW5nVHJpbVJpZ2h0PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoaSwiIil9LHQuY29weU9iamVjdD1mdW5jdGlvbihlKXt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSl0W25dPWVbbl07cmV0dXJuIHR9LHQuY29weUFycmF5PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTAscj1lLmxlbmd0aDtyPm47bisrKXRbbl09ZVtuXSYmIm9iamVjdCI9PXR5cGVvZiBlW25dP3RoaXMuY29weU9iamVjdChlW25dKTplW25dO3JldHVybiB0fSx0LmRlZXBDb3B5PWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiIT10eXBlb2YgZXx8IWUpcmV0dXJuIGU7dmFyIG49ZS5jb25zdHJ1Y3RvcjtpZihuPT09UmVnRXhwKXJldHVybiBlO3ZhciByPW4oKTtmb3IodmFyIGkgaW4gZSlyW2ldPSJvYmplY3QiPT10eXBlb2YgZVtpXT90LmRlZXBDb3B5KGVbaV0pOmVbaV07cmV0dXJuIHJ9LHQuYXJyYXlUb01hcD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9e30sbj0wO248ZS5sZW5ndGg7bisrKXRbZVtuXV09MTtyZXR1cm4gdH0sdC5jcmVhdGVNYXA9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IodmFyIG4gaW4gZSl0W25dPWVbbl07cmV0dXJuIHR9LHQuYXJyYXlSZW1vdmU9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPD1lLmxlbmd0aDtuKyspdD09PWVbbl0mJmUuc3BsaWNlKG4sMSl9LHQuZXNjYXBlUmVnRXhwPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLyhbLiorP14ke30oKXxbXF1cL1xcXSkvZywiXFwkMSIpfSx0LmVzY2FwZUhUTUw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvJi9nLCImIzM4OyIpLnJlcGxhY2UoLyIvZywiJiMzNDsiKS5yZXBsYWNlKC8nL2csIiYjMzk7IikucmVwbGFjZSgvPC9nLCImIzYwOyIpfSx0LmdldE1hdGNoT2Zmc2V0cz1mdW5jdGlvbihlLHQpe3ZhciBuPVtdO3JldHVybiBlLnJlcGxhY2UodCxmdW5jdGlvbihlKXtuLnB1c2goe29mZnNldDphcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aC0yXSxsZW5ndGg6ZS5sZW5ndGh9KX0pLG59LHQuZGVmZXJyZWRDYWxsPWZ1bmN0aW9uKGUpe3ZhciB0PW51bGwsbj1mdW5jdGlvbigpe3Q9bnVsbCxlKCl9LHI9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuY2FuY2VsKCksdD1zZXRUaW1lb3V0KG4sZXx8MCkscn07cmV0dXJuIHIuc2NoZWR1bGU9cixyLmNhbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW5jZWwoKSxlKCkscn0sci5jYW5jZWw9ZnVuY3Rpb24oKXtyZXR1cm4gY2xlYXJUaW1lb3V0KHQpLHQ9bnVsbCxyfSxyLmlzUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiB0fSxyfSx0LmRlbGF5ZWRDYWxsPWZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbCxyPWZ1bmN0aW9uKCl7bj1udWxsLGUoKX0saT1mdW5jdGlvbihlKXtudWxsPT1uJiYobj1zZXRUaW1lb3V0KHIsZXx8dCkpfTtyZXR1cm4gaS5kZWxheT1mdW5jdGlvbihlKXtuJiZjbGVhclRpbWVvdXQobiksbj1zZXRUaW1lb3V0KHIsZXx8dCl9LGkuc2NoZWR1bGU9aSxpLmNhbGw9ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbCgpLGUoKX0saS5jYW5jZWw9ZnVuY3Rpb24oKXtuJiZjbGVhclRpbWVvdXQobiksbj1udWxsfSxpLmlzUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiBufSxpfX0pLGRlZmluZSgiYWNlL211bHRpX3NlbGVjdCIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9yYW5nZV9saXN0IiwiYWNlL3JhbmdlIiwiYWNlL3NlbGVjdGlvbiIsImFjZS9tb3VzZS9tdWx0aV9zZWxlY3RfaGFuZGxlciIsImFjZS9saWIvZXZlbnQiLCJhY2UvbGliL2xhbmciLCJhY2UvY29tbWFuZHMvbXVsdGlfc2VsZWN0X2NvbW1hbmRzIiwiYWNlL3NlYXJjaCIsImFjZS9lZGl0X3Nlc3Npb24iLCJhY2UvZWRpdG9yIiwiYWNlL2NvbmZpZyJdLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gaChlLHQsbil7cmV0dXJuIGMuJG9wdGlvbnMud3JhcD0hMCxjLiRvcHRpb25zLm5lZWRsZT10LGMuJG9wdGlvbnMuYmFja3dhcmRzPS0xPT1uLGMuZmluZChlKX1mdW5jdGlvbiB2KGUsdCl7cmV0dXJuIGUucm93PT10LnJvdyYmZS5jb2x1bW49PXQuY29sdW1ufWZ1bmN0aW9uIG0oZSl7ZS4kbXVsdGlzZWxlY3RPblNlc3Npb25DaGFuZ2V8fChlLiRvbkFkZFJhbmdlPWUuJG9uQWRkUmFuZ2UuYmluZChlKSxlLiRvblJlbW92ZVJhbmdlPWUuJG9uUmVtb3ZlUmFuZ2UuYmluZChlKSxlLiRvbk11bHRpU2VsZWN0PWUuJG9uTXVsdGlTZWxlY3QuYmluZChlKSxlLiRvblNpbmdsZVNlbGVjdD1lLiRvblNpbmdsZVNlbGVjdC5iaW5kKGUpLGUuJG11bHRpc2VsZWN0T25TZXNzaW9uQ2hhbmdlPXQub25TZXNzaW9uQ2hhbmdlLmJpbmQoZSksZS4kbXVsdGlzZWxlY3RPblNlc3Npb25DaGFuZ2UoZSksZS5vbigiY2hhbmdlU2Vzc2lvbiIsZS4kbXVsdGlzZWxlY3RPblNlc3Npb25DaGFuZ2UpLGUub24oIm1vdXNlZG93biIsbyksZS5jb21tYW5kcy5hZGRDb21tYW5kcyhmLmRlZmF1bHRDb21tYW5kcyksZyhlKSl9ZnVuY3Rpb24gZyhlKXtmdW5jdGlvbiByKCl7biYmKGUucmVuZGVyZXIuc2V0TW91c2VDdXJzb3IoIiIpLG49ITEpfXZhciB0PWUudGV4dElucHV0LmdldEVsZW1lbnQoKSxuPSExO3UuYWRkTGlzdGVuZXIodCwia2V5ZG93biIsZnVuY3Rpb24odCl7MTghPXQua2V5Q29kZXx8dC5jdHJsS2V5fHx0LnNoaWZ0S2V5fHx0Lm1ldGFLZXk/biYmcigpOm58fChlLnJlbmRlcmVyLnNldE1vdXNlQ3Vyc29yKCJjcm9zc2hhaXIiKSxuPSEwKX0pLHUuYWRkTGlzdGVuZXIodCwia2V5dXAiLHIpLHUuYWRkTGlzdGVuZXIodCwiYmx1ciIscil9dmFyIHI9ZSgiLi9yYW5nZV9saXN0IikuUmFuZ2VMaXN0LGk9ZSgiLi9yYW5nZSIpLlJhbmdlLHM9ZSgiLi9zZWxlY3Rpb24iKS5TZWxlY3Rpb24sbz1lKCIuL21vdXNlL211bHRpX3NlbGVjdF9oYW5kbGVyIikub25Nb3VzZURvd24sdT1lKCIuL2xpYi9ldmVudCIpLGE9ZSgiLi9saWIvbGFuZyIpLGY9ZSgiLi9jb21tYW5kcy9tdWx0aV9zZWxlY3RfY29tbWFuZHMiKTt0LmNvbW1hbmRzPWYuZGVmYXVsdENvbW1hbmRzLmNvbmNhdChmLm11bHRpU2VsZWN0Q29tbWFuZHMpO3ZhciBsPWUoIi4vc2VhcmNoIikuU2VhcmNoLGM9bmV3IGwscD1lKCIuL2VkaXRfc2Vzc2lvbiIpLkVkaXRTZXNzaW9uOyhmdW5jdGlvbigpe3RoaXMuZ2V0U2VsZWN0aW9uTWFya2Vycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRzZWxlY3Rpb25NYXJrZXJzfX0pLmNhbGwocC5wcm90b3R5cGUpLGZ1bmN0aW9uKCl7dGhpcy5yYW5nZXM9bnVsbCx0aGlzLnJhbmdlTGlzdD1udWxsLHRoaXMuYWRkUmFuZ2U9ZnVuY3Rpb24oZSx0KXtpZihlKXtpZighdGhpcy5pbk11bHRpU2VsZWN0TW9kZSYmMD09dGhpcy5yYW5nZUNvdW50KXt2YXIgbj10aGlzLnRvT3JpZW50ZWRSYW5nZSgpO2lmKHRoaXMucmFuZ2VMaXN0LmFkZChuKSx0aGlzLnJhbmdlTGlzdC5hZGQoZSksMiE9dGhpcy5yYW5nZUxpc3QucmFuZ2VzLmxlbmd0aClyZXR1cm4gdGhpcy5yYW5nZUxpc3QucmVtb3ZlQWxsKCksdHx8dGhpcy5mcm9tT3JpZW50ZWRSYW5nZShlKTt0aGlzLnJhbmdlTGlzdC5yZW1vdmVBbGwoKSx0aGlzLnJhbmdlTGlzdC5hZGQobiksdGhpcy4kb25BZGRSYW5nZShuKX1lLmN1cnNvcnx8KGUuY3Vyc29yPWUuZW5kKTt2YXIgcj10aGlzLnJhbmdlTGlzdC5hZGQoZSk7cmV0dXJuIHRoaXMuJG9uQWRkUmFuZ2UoZSksci5sZW5ndGgmJnRoaXMuJG9uUmVtb3ZlUmFuZ2UociksdGhpcy5yYW5nZUNvdW50PjEmJiF0aGlzLmluTXVsdGlTZWxlY3RNb2RlJiYodGhpcy5fc2lnbmFsKCJtdWx0aVNlbGVjdCIpLHRoaXMuaW5NdWx0aVNlbGVjdE1vZGU9ITAsdGhpcy5zZXNzaW9uLiR1bmRvU2VsZWN0PSExLHRoaXMucmFuZ2VMaXN0LmF0dGFjaCh0aGlzLnNlc3Npb24pKSx0fHx0aGlzLmZyb21PcmllbnRlZFJhbmdlKGUpfX0sdGhpcy50b1NpbmdsZVJhbmdlPWZ1bmN0aW9uKGUpe2U9ZXx8dGhpcy5yYW5nZXNbMF07dmFyIHQ9dGhpcy5yYW5nZUxpc3QucmVtb3ZlQWxsKCk7dC5sZW5ndGgmJnRoaXMuJG9uUmVtb3ZlUmFuZ2UodCksZSYmdGhpcy5mcm9tT3JpZW50ZWRSYW5nZShlKX0sdGhpcy5zdWJzdHJhY3RQb2ludD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnJhbmdlTGlzdC5zdWJzdHJhY3RQb2ludChlKTtyZXR1cm4gdD8odGhpcy4kb25SZW1vdmVSYW5nZSh0KSx0WzBdKTp2b2lkIDB9LHRoaXMubWVyZ2VPdmVybGFwcGluZ1Jhbmdlcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMucmFuZ2VMaXN0Lm1lcmdlKCk7ZS5sZW5ndGg/dGhpcy4kb25SZW1vdmVSYW5nZShlKTp0aGlzLnJhbmdlc1swXSYmdGhpcy5mcm9tT3JpZW50ZWRSYW5nZSh0aGlzLnJhbmdlc1swXSl9LHRoaXMuJG9uQWRkUmFuZ2U9ZnVuY3Rpb24oZSl7dGhpcy5yYW5nZUNvdW50PXRoaXMucmFuZ2VMaXN0LnJhbmdlcy5sZW5ndGgsdGhpcy5yYW5nZXMudW5zaGlmdChlKSx0aGlzLl9zaWduYWwoImFkZFJhbmdlIix7cmFuZ2U6ZX0pfSx0aGlzLiRvblJlbW92ZVJhbmdlPWZ1bmN0aW9uKGUpe2lmKHRoaXMucmFuZ2VDb3VudD10aGlzLnJhbmdlTGlzdC5yYW5nZXMubGVuZ3RoLDE9PXRoaXMucmFuZ2VDb3VudCYmdGhpcy5pbk11bHRpU2VsZWN0TW9kZSl7dmFyIHQ9dGhpcy5yYW5nZUxpc3QucmFuZ2VzLnBvcCgpO2UucHVzaCh0KSx0aGlzLnJhbmdlQ291bnQ9MH1mb3IodmFyIG49ZS5sZW5ndGg7bi0tOyl7dmFyIHI9dGhpcy5yYW5nZXMuaW5kZXhPZihlW25dKTt0aGlzLnJhbmdlcy5zcGxpY2UociwxKX10aGlzLl9zaWduYWwoInJlbW92ZVJhbmdlIix7cmFuZ2VzOmV9KSwwPT10aGlzLnJhbmdlQ291bnQmJnRoaXMuaW5NdWx0aVNlbGVjdE1vZGUmJih0aGlzLmluTXVsdGlTZWxlY3RNb2RlPSExLHRoaXMuX3NpZ25hbCgic2luZ2xlU2VsZWN0IiksdGhpcy5zZXNzaW9uLiR1bmRvU2VsZWN0PSEwLHRoaXMucmFuZ2VMaXN0LmRldGFjaCh0aGlzLnNlc3Npb24pKSx0PXR8fHRoaXMucmFuZ2VzWzBdLHQmJiF0LmlzRXF1YWwodGhpcy5nZXRSYW5nZSgpKSYmdGhpcy5mcm9tT3JpZW50ZWRSYW5nZSh0KX0sdGhpcy4kaW5pdFJhbmdlTGlzdD1mdW5jdGlvbigpe3RoaXMucmFuZ2VMaXN0fHwodGhpcy5yYW5nZUxpc3Q9bmV3IHIsdGhpcy5yYW5nZXM9W10sdGhpcy5yYW5nZUNvdW50PTApfSx0aGlzLmdldEFsbFJhbmdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJhbmdlQ291bnQ/dGhpcy5yYW5nZUxpc3QucmFuZ2VzLmNvbmNhdCgpOlt0aGlzLmdldFJhbmdlKCldfSx0aGlzLnNwbGl0SW50b0xpbmVzPWZ1bmN0aW9uKCl7aWYodGhpcy5yYW5nZUNvdW50PjEpe3ZhciBlPXRoaXMucmFuZ2VMaXN0LnJhbmdlcyx0PWVbZS5sZW5ndGgtMV0sbj1pLmZyb21Qb2ludHMoZVswXS5zdGFydCx0LmVuZCk7dGhpcy50b1NpbmdsZVJhbmdlKCksdGhpcy5zZXRTZWxlY3Rpb25SYW5nZShuLHQuY3Vyc29yPT10LnN0YXJ0KX1lbHNle3ZhciBuPXRoaXMuZ2V0UmFuZ2UoKSxyPXRoaXMuaXNCYWNrd2FyZHMoKSxzPW4uc3RhcnQucm93LG89bi5lbmQucm93O2lmKHM9PW8pe2lmKHIpdmFyIHU9bi5lbmQsYT1uLnN0YXJ0O2Vsc2UgdmFyIHU9bi5zdGFydCxhPW4uZW5kO3JldHVybiB0aGlzLmFkZFJhbmdlKGkuZnJvbVBvaW50cyhhLGEpKSx2b2lkIHRoaXMuYWRkUmFuZ2UoaS5mcm9tUG9pbnRzKHUsdSkpfXZhciBmPVtdLGw9dGhpcy5nZXRMaW5lUmFuZ2UocywhMCk7bC5zdGFydC5jb2x1bW49bi5zdGFydC5jb2x1bW4sZi5wdXNoKGwpO2Zvcih2YXIgYz1zKzE7bz5jO2MrKylmLnB1c2godGhpcy5nZXRMaW5lUmFuZ2UoYywhMCkpO2w9dGhpcy5nZXRMaW5lUmFuZ2UobywhMCksbC5lbmQuY29sdW1uPW4uZW5kLmNvbHVtbixmLnB1c2gobCksZi5mb3JFYWNoKHRoaXMuYWRkUmFuZ2UsdGhpcyl9fSx0aGlzLnRvZ2dsZUJsb2NrU2VsZWN0aW9uPWZ1bmN0aW9uKCl7aWYodGhpcy5yYW5nZUNvdW50PjEpe3ZhciBlPXRoaXMucmFuZ2VMaXN0LnJhbmdlcyx0PWVbZS5sZW5ndGgtMV0sbj1pLmZyb21Qb2ludHMoZVswXS5zdGFydCx0LmVuZCk7dGhpcy50b1NpbmdsZVJhbmdlKCksdGhpcy5zZXRTZWxlY3Rpb25SYW5nZShuLHQuY3Vyc29yPT10LnN0YXJ0KX1lbHNle3ZhciByPXRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24odGhpcy5zZWxlY3Rpb25MZWFkKSxzPXRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24odGhpcy5zZWxlY3Rpb25BbmNob3IpLG89dGhpcy5yZWN0YW5ndWxhclJhbmdlQmxvY2socixzKTtvLmZvckVhY2godGhpcy5hZGRSYW5nZSx0aGlzKX19LHRoaXMucmVjdGFuZ3VsYXJSYW5nZUJsb2NrPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1bXSxzPWUuY29sdW1uPHQuY29sdW1uO2lmKHMpdmFyIG89ZS5jb2x1bW4sdT10LmNvbHVtbjtlbHNlIHZhciBvPXQuY29sdW1uLHU9ZS5jb2x1bW47dmFyIGE9ZS5yb3c8dC5yb3c7aWYoYSl2YXIgZj1lLnJvdyxsPXQucm93O2Vsc2UgdmFyIGY9dC5yb3csbD1lLnJvdzswPm8mJihvPTApLDA+ZiYmKGY9MCksZj09bCYmKG49ITApO2Zvcih2YXIgYz1mO2w+PWM7YysrKXt2YXIgaD1pLmZyb21Qb2ludHModGhpcy5zZXNzaW9uLnNjcmVlblRvRG9jdW1lbnRQb3NpdGlvbihjLG8pLHRoaXMuc2Vzc2lvbi5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24oYyx1KSk7aWYoaC5pc0VtcHR5KCkpe2lmKHAmJnYoaC5lbmQscCkpYnJlYWs7dmFyIHA9aC5lbmR9aC5jdXJzb3I9cz9oLnN0YXJ0OmguZW5kLHIucHVzaChoKX1pZihhJiZyLnJldmVyc2UoKSwhbil7Zm9yKHZhciBkPXIubGVuZ3RoLTE7cltkXS5pc0VtcHR5KCkmJmQ+MDspZC0tO2lmKGQ+MClmb3IodmFyIG09MDtyW21dLmlzRW1wdHkoKTspbSsrO2Zvcih2YXIgZz1kO2c+PW07Zy0tKXJbZ10uaXNFbXB0eSgpJiZyLnNwbGljZShnLDEpfXJldHVybiByfX0uY2FsbChzLnByb3RvdHlwZSk7dmFyIGQ9ZSgiLi9lZGl0b3IiKS5FZGl0b3I7KGZ1bmN0aW9uKCl7dGhpcy51cGRhdGVTZWxlY3Rpb25NYXJrZXJzPWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci51cGRhdGVDdXJzb3IoKSx0aGlzLnJlbmRlcmVyLnVwZGF0ZUJhY2tNYXJrZXJzKCl9LHRoaXMuYWRkU2VsZWN0aW9uTWFya2VyPWZ1bmN0aW9uKGUpe2UuY3Vyc29yfHwoZS5jdXJzb3I9ZS5lbmQpO3ZhciB0PXRoaXMuZ2V0U2VsZWN0aW9uU3R5bGUoKTtyZXR1cm4gZS5tYXJrZXI9dGhpcy5zZXNzaW9uLmFkZE1hcmtlcihlLCJhY2Vfc2VsZWN0aW9uIix0KSx0aGlzLnNlc3Npb24uJHNlbGVjdGlvbk1hcmtlcnMucHVzaChlKSx0aGlzLnNlc3Npb24uc2VsZWN0aW9uTWFya2VyQ291bnQ9dGhpcy5zZXNzaW9uLiRzZWxlY3Rpb25NYXJrZXJzLmxlbmd0aCxlfSx0aGlzLnJlbW92ZVNlbGVjdGlvbk1hcmtlcj1mdW5jdGlvbihlKXtpZihlLm1hcmtlcil7dGhpcy5zZXNzaW9uLnJlbW92ZU1hcmtlcihlLm1hcmtlcik7dmFyIHQ9dGhpcy5zZXNzaW9uLiRzZWxlY3Rpb25NYXJrZXJzLmluZGV4T2YoZSk7LTEhPXQmJnRoaXMuc2Vzc2lvbi4kc2VsZWN0aW9uTWFya2Vycy5zcGxpY2UodCwxKSx0aGlzLnNlc3Npb24uc2VsZWN0aW9uTWFya2VyQ291bnQ9dGhpcy5zZXNzaW9uLiRzZWxlY3Rpb25NYXJrZXJzLmxlbmd0aH19LHRoaXMucmVtb3ZlU2VsZWN0aW9uTWFya2Vycz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5zZXNzaW9uLiRzZWxlY3Rpb25NYXJrZXJzLG49ZS5sZW5ndGg7bi0tOyl7dmFyIHI9ZVtuXTtpZihyLm1hcmtlcil7dGhpcy5zZXNzaW9uLnJlbW92ZU1hcmtlcihyLm1hcmtlcik7dmFyIGk9dC5pbmRleE9mKHIpOy0xIT1pJiZ0LnNwbGljZShpLDEpfX10aGlzLnNlc3Npb24uc2VsZWN0aW9uTWFya2VyQ291bnQ9dC5sZW5ndGh9LHRoaXMuJG9uQWRkUmFuZ2U9ZnVuY3Rpb24oZSl7dGhpcy5hZGRTZWxlY3Rpb25NYXJrZXIoZS5yYW5nZSksdGhpcy5yZW5kZXJlci51cGRhdGVDdXJzb3IoKSx0aGlzLnJlbmRlcmVyLnVwZGF0ZUJhY2tNYXJrZXJzKCl9LHRoaXMuJG9uUmVtb3ZlUmFuZ2U9ZnVuY3Rpb24oZSl7dGhpcy5yZW1vdmVTZWxlY3Rpb25NYXJrZXJzKGUucmFuZ2VzKSx0aGlzLnJlbmRlcmVyLnVwZGF0ZUN1cnNvcigpLHRoaXMucmVuZGVyZXIudXBkYXRlQmFja01hcmtlcnMoKX0sdGhpcy4kb25NdWx0aVNlbGVjdD1mdW5jdGlvbigpe3RoaXMuaW5NdWx0aVNlbGVjdE1vZGV8fCh0aGlzLmluTXVsdGlTZWxlY3RNb2RlPSEwLHRoaXMuc2V0U3R5bGUoImFjZV9tdWx0aXNlbGVjdCIpLHRoaXMua2V5QmluZGluZy5hZGRLZXlib2FyZEhhbmRsZXIoZi5rZXlib2FyZEhhbmRsZXIpLHRoaXMuY29tbWFuZHMuc2V0RGVmYXVsdEhhbmRsZXIoImV4ZWMiLHRoaXMuJG9uTXVsdGlTZWxlY3RFeGVjKSx0aGlzLnJlbmRlcmVyLnVwZGF0ZUN1cnNvcigpLHRoaXMucmVuZGVyZXIudXBkYXRlQmFja01hcmtlcnMoKSl9LHRoaXMuJG9uU2luZ2xlU2VsZWN0PWZ1bmN0aW9uKCl7dGhpcy5zZXNzaW9uLm11bHRpU2VsZWN0LmluVmlydHVhbE1vZGV8fCh0aGlzLmluTXVsdGlTZWxlY3RNb2RlPSExLHRoaXMudW5zZXRTdHlsZSgiYWNlX211bHRpc2VsZWN0IiksdGhpcy5rZXlCaW5kaW5nLnJlbW92ZUtleWJvYXJkSGFuZGxlcihmLmtleWJvYXJkSGFuZGxlciksdGhpcy5jb21tYW5kcy5yZW1vdmVEZWZhdWx0SGFuZGxlcigiZXhlYyIsdGhpcy4kb25NdWx0aVNlbGVjdEV4ZWMpLHRoaXMucmVuZGVyZXIudXBkYXRlQ3Vyc29yKCksdGhpcy5yZW5kZXJlci51cGRhdGVCYWNrTWFya2VycygpLHRoaXMuX2VtaXQoImNoYW5nZVNlbGVjdGlvbiIpKX0sdGhpcy4kb25NdWx0aVNlbGVjdEV4ZWM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb21tYW5kLG49ZS5lZGl0b3I7aWYobi5tdWx0aVNlbGVjdCl7aWYodC5tdWx0aVNlbGVjdEFjdGlvbikiZm9yRWFjaCI9PXQubXVsdGlTZWxlY3RBY3Rpb24/cj1uLmZvckVhY2hTZWxlY3Rpb24odCxlLmFyZ3MpOiJmb3JFYWNoTGluZSI9PXQubXVsdGlTZWxlY3RBY3Rpb24/cj1uLmZvckVhY2hTZWxlY3Rpb24odCxlLmFyZ3MsITApOiJzaW5nbGUiPT10Lm11bHRpU2VsZWN0QWN0aW9uPyhuLmV4aXRNdWx0aVNlbGVjdE1vZGUoKSxyPXQuZXhlYyhuLGUuYXJnc3x8e30pKTpyPXQubXVsdGlTZWxlY3RBY3Rpb24obixlLmFyZ3N8fHt9KTtlbHNle3ZhciByPXQuZXhlYyhuLGUuYXJnc3x8e30pO24ubXVsdGlTZWxlY3QuYWRkUmFuZ2Uobi5tdWx0aVNlbGVjdC50b09yaWVudGVkUmFuZ2UoKSksbi5tdWx0aVNlbGVjdC5tZXJnZU92ZXJsYXBwaW5nUmFuZ2VzKCl9cmV0dXJuIHJ9fSx0aGlzLmZvckVhY2hTZWxlY3Rpb249ZnVuY3Rpb24oZSx0LG4pe2lmKCF0aGlzLmluVmlydHVhbFNlbGVjdGlvbk1vZGUpe3ZhciB1LHI9dGhpcy5zZXNzaW9uLGk9dGhpcy5zZWxlY3Rpb24sbz1pLnJhbmdlTGlzdCxhPWkuX2V2ZW50UmVnaXN0cnk7aS5fZXZlbnRSZWdpc3RyeT17fTt2YXIgZj1uZXcgcyhyKTt0aGlzLmluVmlydHVhbFNlbGVjdGlvbk1vZGU9ITA7Zm9yKHZhciBsPW8ucmFuZ2VzLmxlbmd0aDtsLS07KXtpZihuKWZvcig7bD4wJiZvLnJhbmdlc1tsXS5zdGFydC5yb3c9PW8ucmFuZ2VzW2wtMV0uZW5kLnJvdzspbC0tO2YuZnJvbU9yaWVudGVkUmFuZ2Uoby5yYW5nZXNbbF0pLGYuaWQ9by5yYW5nZXNbbF0ubWFya2VyLHRoaXMuc2VsZWN0aW9uPXIuc2VsZWN0aW9uPWY7dmFyIGM9ZS5leGVjKHRoaXMsdHx8e30pO3ZvaWQgMCE9PXUmJih1PWMpLGYudG9PcmllbnRlZFJhbmdlKG8ucmFuZ2VzW2xdKX1mLmRldGFjaCgpLHRoaXMuc2VsZWN0aW9uPXIuc2VsZWN0aW9uPWksdGhpcy5pblZpcnR1YWxTZWxlY3Rpb25Nb2RlPSExLGkuX2V2ZW50UmVnaXN0cnk9YSxpLm1lcmdlT3ZlcmxhcHBpbmdSYW5nZXMoKTt2YXIgaD10aGlzLnJlbmRlcmVyLiRzY3JvbGxBbmltYXRpb247cmV0dXJuIHRoaXMub25DdXJzb3JDaGFuZ2UoKSx0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlKCksaCYmaC5mcm9tPT1oLnRvJiZ0aGlzLnJlbmRlcmVyLmFuaW1hdGVTY3JvbGxpbmcoaC5mcm9tKSx1fX0sdGhpcy5leGl0TXVsdGlTZWxlY3RNb2RlPWZ1bmN0aW9uKCl7dGhpcy5pbk11bHRpU2VsZWN0TW9kZSYmIXRoaXMuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSYmdGhpcy5tdWx0aVNlbGVjdC50b1NpbmdsZVJhbmdlKCl9LHRoaXMuZ2V0U2VsZWN0ZWRUZXh0PWZ1bmN0aW9uKCl7dmFyIGU9IiI7aWYodGhpcy5pbk11bHRpU2VsZWN0TW9kZSYmIXRoaXMuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSl7Zm9yKHZhciB0PXRoaXMubXVsdGlTZWxlY3QucmFuZ2VMaXN0LnJhbmdlcyxuPVtdLHI9MDtyPHQubGVuZ3RoO3IrKyluLnB1c2godGhpcy5zZXNzaW9uLmdldFRleHRSYW5nZSh0W3JdKSk7dmFyIGk9dGhpcy5zZXNzaW9uLmdldERvY3VtZW50KCkuZ2V0TmV3TGluZUNoYXJhY3RlcigpO2U9bi5qb2luKGkpLGUubGVuZ3RoPT0obi5sZW5ndGgtMSkqaS5sZW5ndGgmJihlPSIiKX1lbHNlIHRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKXx8KGU9dGhpcy5zZXNzaW9uLmdldFRleHRSYW5nZSh0aGlzLmdldFNlbGVjdGlvblJhbmdlKCkpKTtyZXR1cm4gZX0sdGhpcy5vblBhc3RlPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLiRyZWFkT25seSl7dmFyIHQ9e3RleHQ6ZX07aWYodGhpcy5fc2lnbmFsKCJwYXN0ZSIsdCksZT10LnRleHQsIXRoaXMuaW5NdWx0aVNlbGVjdE1vZGV8fHRoaXMuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSlyZXR1cm4gdGhpcy5pbnNlcnQoZSk7dmFyIG49ZS5zcGxpdCgvXHJcbnxccnxcbi8pLHI9dGhpcy5zZWxlY3Rpb24ucmFuZ2VMaXN0LnJhbmdlcztpZihuLmxlbmd0aD5yLmxlbmd0aHx8bi5sZW5ndGg8Mnx8IW5bMV0pcmV0dXJuIHRoaXMuY29tbWFuZHMuZXhlYygiaW5zZXJ0c3RyaW5nIix0aGlzLGUpO2Zvcih2YXIgaT1yLmxlbmd0aDtpLS07KXt2YXIgcz1yW2ldO3MuaXNFbXB0eSgpfHx0aGlzLnNlc3Npb24ucmVtb3ZlKHMpLHRoaXMuc2Vzc2lvbi5pbnNlcnQocy5zdGFydCxuW2ldKX19fSx0aGlzLmZpbmRBbGw9ZnVuY3Rpb24oZSx0LG4pe3Q9dHx8e30sdC5uZWVkbGU9ZXx8dC5uZWVkbGUsdGhpcy4kc2VhcmNoLnNldCh0KTt2YXIgcj10aGlzLiRzZWFyY2guZmluZEFsbCh0aGlzLnNlc3Npb24pO2lmKCFyLmxlbmd0aClyZXR1cm4gMDt0aGlzLiRibG9ja1Njcm9sbGluZys9MTt2YXIgaT10aGlzLm11bHRpU2VsZWN0O258fGkudG9TaW5nbGVSYW5nZShyWzBdKTtmb3IodmFyIHM9ci5sZW5ndGg7cy0tOylpLmFkZFJhbmdlKHJbc10sITApO3JldHVybiB0aGlzLiRibG9ja1Njcm9sbGluZy09MSxyLmxlbmd0aH0sdGhpcy5zZWxlY3RNb3JlTGluZXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLnNlbGVjdGlvbi50b09yaWVudGVkUmFuZ2UoKSxyPW4uY3Vyc29yPT1uLmVuZCxzPXRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24obi5jdXJzb3IpO3RoaXMuc2VsZWN0aW9uLiRkZXNpcmVkQ29sdW1uJiYocy5jb2x1bW49dGhpcy5zZWxlY3Rpb24uJGRlc2lyZWRDb2x1bW4pO3ZhciBvPXRoaXMuc2Vzc2lvbi5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24ocy5yb3crZSxzLmNvbHVtbik7aWYobi5pc0VtcHR5KCkpdmFyIGE9bztlbHNlIHZhciB1PXRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24ocj9uLmVuZDpuLnN0YXJ0KSxhPXRoaXMuc2Vzc2lvbi5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24odS5yb3crZSx1LmNvbHVtbik7aWYocil7dmFyIGY9aS5mcm9tUG9pbnRzKG8sYSk7Zi5jdXJzb3I9Zi5zdGFydH1lbHNle3ZhciBmPWkuZnJvbVBvaW50cyhhLG8pO2YuY3Vyc29yPWYuZW5kfWlmKGYuZGVzaXJlZENvbHVtbj1zLmNvbHVtbix0aGlzLnNlbGVjdGlvbi5pbk11bHRpU2VsZWN0TW9kZSl7aWYodCl2YXIgbD1uLmN1cnNvcn1lbHNlIHRoaXMuc2VsZWN0aW9uLmFkZFJhbmdlKG4pO3RoaXMuc2VsZWN0aW9uLmFkZFJhbmdlKGYpLGwmJnRoaXMuc2VsZWN0aW9uLnN1YnN0cmFjdFBvaW50KGwpfSx0aGlzLnRyYW5zcG9zZVNlbGVjdGlvbnM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuc2Vzc2lvbixuPXQubXVsdGlTZWxlY3Qscj1uLnJhbmdlcyxpPXIubGVuZ3RoO2ktLTspe3ZhciBzPXJbaV07aWYocy5pc0VtcHR5KCkpe3ZhciBvPXQuZ2V0V29yZFJhbmdlKHMuc3RhcnQucm93LHMuc3RhcnQuY29sdW1uKTtzLnN0YXJ0LnJvdz1vLnN0YXJ0LnJvdyxzLnN0YXJ0LmNvbHVtbj1vLnN0YXJ0LmNvbHVtbixzLmVuZC5yb3c9by5lbmQucm93LHMuZW5kLmNvbHVtbj1vLmVuZC5jb2x1bW59fW4ubWVyZ2VPdmVybGFwcGluZ1JhbmdlcygpO2Zvcih2YXIgdT1bXSxpPXIubGVuZ3RoO2ktLTspe3ZhciBzPXJbaV07dS51bnNoaWZ0KHQuZ2V0VGV4dFJhbmdlKHMpKX0wPmU/dS51bnNoaWZ0KHUucG9wKCkpOnUucHVzaCh1LnNoaWZ0KCkpO2Zvcih2YXIgaT1yLmxlbmd0aDtpLS07KXt2YXIgcz1yW2ldLG89cy5jbG9uZSgpO3QucmVwbGFjZShzLHVbaV0pLHMuc3RhcnQucm93PW8uc3RhcnQucm93LHMuc3RhcnQuY29sdW1uPW8uc3RhcnQuY29sdW1ufX0sdGhpcy5zZWxlY3RNb3JlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5zZXNzaW9uLHI9bi5tdWx0aVNlbGVjdCxpPXIudG9PcmllbnRlZFJhbmdlKCk7aS5pc0VtcHR5KCkmJihpPW4uZ2V0V29yZFJhbmdlKGkuc3RhcnQucm93LGkuc3RhcnQuY29sdW1uKSxpLmN1cnNvcj0tMT09ZT9pLnN0YXJ0OmkuZW5kLHRoaXMubXVsdGlTZWxlY3QuYWRkUmFuZ2UoaSkpO3ZhciBzPW4uZ2V0VGV4dFJhbmdlKGkpLG89aChuLHMsZSk7byYmKG8uY3Vyc29yPS0xPT1lP28uc3RhcnQ6by5lbmQsdGhpcy4kYmxvY2tTY3JvbGxpbmcrPTEsdGhpcy5zZXNzaW9uLnVuZm9sZChvKSx0aGlzLm11bHRpU2VsZWN0LmFkZFJhbmdlKG8pLHRoaXMuJGJsb2NrU2Nyb2xsaW5nLT0xLHRoaXMucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcobnVsbCwuNSkpLHQmJnRoaXMubXVsdGlTZWxlY3Quc3Vic3RyYWN0UG9pbnQoaS5jdXJzb3IpfSx0aGlzLmFsaWduQ3Vyc29ycz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc2Vzc2lvbix0PWUubXVsdGlTZWxlY3Qsbj10LnJhbmdlcztpZihuLmxlbmd0aCl7dmFyIGg9LTEscD1uLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5jdXJzb3Iucm93PT1oPyEwOnZvaWQoaD1lLmN1cnNvci5yb3cpfSk7dC4kb25SZW1vdmVSYW5nZShwKTt2YXIgZD0wLHY9MS8wLG09bi5tYXAoZnVuY3Rpb24odCl7dmFyIG49dC5jdXJzb3Iscj1lLmdldExpbmUobi5yb3cpLGk9ci5zdWJzdHIobi5jb2x1bW4pLnNlYXJjaCgvXFMvZyk7cmV0dXJuLTE9PWkmJihpPTApLG4uY29sdW1uPmQmJihkPW4uY29sdW1uKSx2PmkmJih2PWkpLGl9KTtuLmZvckVhY2goZnVuY3Rpb24odCxuKXt2YXIgcj10LmN1cnNvcixzPWQtci5jb2x1bW4sbz1tW25dLXY7cz5vP2UuaW5zZXJ0KHIsYS5zdHJpbmdSZXBlYXQoIiAiLHMtbykpOmUucmVtb3ZlKG5ldyBpKHIucm93LHIuY29sdW1uLHIucm93LHIuY29sdW1uLXMrbykpLHQuc3RhcnQuY29sdW1uPXQuZW5kLmNvbHVtbj1kLHQuc3RhcnQucm93PXQuZW5kLnJvdz1yLnJvdyx0LmN1cnNvcj10LmVuZH0pLHQuZnJvbU9yaWVudGVkUmFuZ2UoblswXSksdGhpcy5yZW5kZXJlci51cGRhdGVDdXJzb3IoKSx0aGlzLnJlbmRlcmVyLnVwZGF0ZUJhY2tNYXJrZXJzKCl9ZWxzZXt2YXIgcj10aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLHM9ci5zdGFydC5yb3csbz1yLmVuZC5yb3csdT1zPT1vO2lmKHUpe3ZhciBsLGY9dGhpcy5zZXNzaW9uLmdldExlbmd0aCgpO2RvIGw9dGhpcy5zZXNzaW9uLmdldExpbmUobyk7d2hpbGUoL1s9Ol0vLnRlc3QobCkmJisrbzxmKTtkbyBsPXRoaXMuc2Vzc2lvbi5nZXRMaW5lKHMpO3doaWxlKC9bPTpdLy50ZXN0KGwpJiYtLXM+MCk7MD5zJiYocz0wKSxvPj1mJiYobz1mLTEpfXZhciBjPXRoaXMuc2Vzc2lvbi5kb2MucmVtb3ZlTGluZXMocyxvKTtjPXRoaXMuJHJlQWxpZ25UZXh0KGMsdSksdGhpcy5zZXNzaW9uLmRvYy5pbnNlcnQoe3JvdzpzLGNvbHVtbjowfSxjLmpvaW4oIlxuIikrIlxuIiksdXx8KHIuc3RhcnQuY29sdW1uPTAsci5lbmQuY29sdW1uPWNbYy5sZW5ndGgtMV0ubGVuZ3RoKSx0aGlzLnNlbGVjdGlvbi5zZXRSYW5nZShyKX19LHRoaXMuJHJlQWxpZ25UZXh0PWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gdShlKXtyZXR1cm4gYS5zdHJpbmdSZXBlYXQoIiAiLGUpfWZ1bmN0aW9uIGYoZSl7cmV0dXJuIGVbMl0/dShpKStlWzJdK3Uocy1lWzJdLmxlbmd0aCtvKStlWzRdLnJlcGxhY2UoL14oWz06XSlccysvLCIkMSAiKTplWzBdfWZ1bmN0aW9uIGwoZSl7cmV0dXJuIGVbMl0/dShpK3MtZVsyXS5sZW5ndGgpK2VbMl0rdShvLCIgIikrZVs0XS5yZXBsYWNlKC9eKFs9Ol0pXHMrLywiJDEgIik6ZVswXX1mdW5jdGlvbiBjKGUpe3JldHVybiBlWzJdP3UoaSkrZVsyXSt1KG8pK2VbNF0ucmVwbGFjZSgvXihbPTpdKVxzKy8sIiQxICIpOmVbMF19dmFyIGkscyxvLG49ITAscj0hMDtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tYXRjaCgvKFxzKikoLio/KShccyopKFs9Ol0uKikvKTtyZXR1cm4gdD9udWxsPT1pPyhpPXRbMV0ubGVuZ3RoLHM9dFsyXS5sZW5ndGgsbz10WzNdLmxlbmd0aCx0KTooaStzK28hPXRbMV0ubGVuZ3RoK3RbMl0ubGVuZ3RoK3RbM10ubGVuZ3RoJiYocj0hMSksaSE9dFsxXS5sZW5ndGgmJihuPSExKSxpPnRbMV0ubGVuZ3RoJiYoaT10WzFdLmxlbmd0aCksczx0WzJdLmxlbmd0aCYmKHM9dFsyXS5sZW5ndGgpLG8+dFszXS5sZW5ndGgmJihvPXRbM10ubGVuZ3RoKSx0KTpbZV19KS5tYXAodD9mOm4/cj9sOmY6Yyl9fSkuY2FsbChkLnByb3RvdHlwZSksdC5vblNlc3Npb25DaGFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZXNzaW9uO3QubXVsdGlTZWxlY3R8fCh0LiRzZWxlY3Rpb25NYXJrZXJzPVtdLHQuc2VsZWN0aW9uLiRpbml0UmFuZ2VMaXN0KCksdC5tdWx0aVNlbGVjdD10LnNlbGVjdGlvbiksdGhpcy5tdWx0aVNlbGVjdD10Lm11bHRpU2VsZWN0O3ZhciBuPWUub2xkU2Vzc2lvbjtuJiYobi5tdWx0aVNlbGVjdC5yZW1vdmVFdmVudExpc3RlbmVyKCJhZGRSYW5nZSIsdGhpcy4kb25BZGRSYW5nZSksbi5tdWx0aVNlbGVjdC5yZW1vdmVFdmVudExpc3RlbmVyKCJyZW1vdmVSYW5nZSIsdGhpcy4kb25SZW1vdmVSYW5nZSksbi5tdWx0aVNlbGVjdC5yZW1vdmVFdmVudExpc3RlbmVyKCJtdWx0aVNlbGVjdCIsdGhpcy4kb25NdWx0aVNlbGVjdCksbi5tdWx0aVNlbGVjdC5yZW1vdmVFdmVudExpc3RlbmVyKCJzaW5nbGVTZWxlY3QiLHRoaXMuJG9uU2luZ2xlU2VsZWN0KSksdC5tdWx0aVNlbGVjdC5vbigiYWRkUmFuZ2UiLHRoaXMuJG9uQWRkUmFuZ2UpLHQubXVsdGlTZWxlY3Qub24oInJlbW92ZVJhbmdlIix0aGlzLiRvblJlbW92ZVJhbmdlKSx0Lm11bHRpU2VsZWN0Lm9uKCJtdWx0aVNlbGVjdCIsdGhpcy4kb25NdWx0aVNlbGVjdCksdC5tdWx0aVNlbGVjdC5vbigic2luZ2xlU2VsZWN0Iix0aGlzLiRvblNpbmdsZVNlbGVjdCksdGhpcy5pbk11bHRpU2VsZWN0TW9kZSE9dC5zZWxlY3Rpb24uaW5NdWx0aVNlbGVjdE1vZGUmJih0LnNlbGVjdGlvbi5pbk11bHRpU2VsZWN0TW9kZT90aGlzLiRvbk11bHRpU2VsZWN0KCk6dGhpcy4kb25TaW5nbGVTZWxlY3QoKSl9LHQuTXVsdGlTZWxlY3Q9bSxlKCIuL2NvbmZpZyIpLmRlZmluZU9wdGlvbnMoZC5wcm90b3R5cGUsImVkaXRvciIse2VuYWJsZU11bHRpc2VsZWN0OntzZXQ6ZnVuY3Rpb24oZSl7bSh0aGlzKSxlPyh0aGlzLm9uKCJjaGFuZ2VTZXNzaW9uIix0aGlzLiRtdWx0aXNlbGVjdE9uU2Vzc2lvbkNoYW5nZSksdGhpcy5vbigibW91c2Vkb3duIixvKSk6KHRoaXMub2ZmKCJjaGFuZ2VTZXNzaW9uIix0aGlzLiRtdWx0aXNlbGVjdE9uU2Vzc2lvbkNoYW5nZSksdGhpcy5vZmYoIm1vdXNlZG93biIsbykpfSx2YWx1ZTohMH19KX0pLGRlZmluZSgiYWNlL2VkaXRvciIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvZml4b2xkYnJvd3NlcnMiLCJhY2UvbGliL29vcCIsImFjZS9saWIvZG9tIiwiYWNlL2xpYi9sYW5nIiwiYWNlL2xpYi91c2VyYWdlbnQiLCJhY2Uva2V5Ym9hcmQvdGV4dGlucHV0IiwiYWNlL21vdXNlL21vdXNlX2hhbmRsZXIiLCJhY2UvbW91c2UvZm9sZF9oYW5kbGVyIiwiYWNlL2tleWJvYXJkL2tleWJpbmRpbmciLCJhY2UvZWRpdF9zZXNzaW9uIiwiYWNlL3NlYXJjaCIsImFjZS9yYW5nZSIsImFjZS9saWIvZXZlbnRfZW1pdHRlciIsImFjZS9jb21tYW5kcy9jb21tYW5kX21hbmFnZXIiLCJhY2UvY29tbWFuZHMvZGVmYXVsdF9jb21tYW5kcyIsImFjZS9jb25maWciXSxmdW5jdGlvbihlLHQpe2UoIi4vbGliL2ZpeG9sZGJyb3dzZXJzIik7dmFyIHI9ZSgiLi9saWIvb29wIiksaT1lKCIuL2xpYi9kb20iKSxzPWUoIi4vbGliL2xhbmciKSxvPWUoIi4vbGliL3VzZXJhZ2VudCIpLHU9ZSgiLi9rZXlib2FyZC90ZXh0aW5wdXQiKS5UZXh0SW5wdXQsYT1lKCIuL21vdXNlL21vdXNlX2hhbmRsZXIiKS5Nb3VzZUhhbmRsZXIsZj1lKCIuL21vdXNlL2ZvbGRfaGFuZGxlciIpLkZvbGRIYW5kbGVyLGw9ZSgiLi9rZXlib2FyZC9rZXliaW5kaW5nIikuS2V5QmluZGluZyxjPWUoIi4vZWRpdF9zZXNzaW9uIikuRWRpdFNlc3Npb24saD1lKCIuL3NlYXJjaCIpLlNlYXJjaCxwPWUoIi4vcmFuZ2UiKS5SYW5nZSxkPWUoIi4vbGliL2V2ZW50X2VtaXR0ZXIiKS5FdmVudEVtaXR0ZXIsdj1lKCIuL2NvbW1hbmRzL2NvbW1hbmRfbWFuYWdlciIpLkNvbW1hbmRNYW5hZ2VyLG09ZSgiLi9jb21tYW5kcy9kZWZhdWx0X2NvbW1hbmRzIikuY29tbWFuZHMsZz1lKCIuL2NvbmZpZyIpLHk9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmdldENvbnRhaW5lckVsZW1lbnQoKTt0aGlzLmNvbnRhaW5lcj1uLHRoaXMucmVuZGVyZXI9ZSx0aGlzLmNvbW1hbmRzPW5ldyB2KG8uaXNNYWM/Im1hYyI6IndpbiIsbSksdGhpcy50ZXh0SW5wdXQ9bmV3IHUoZS5nZXRUZXh0QXJlYUNvbnRhaW5lcigpLHRoaXMpLHRoaXMucmVuZGVyZXIudGV4dGFyZWE9dGhpcy50ZXh0SW5wdXQuZ2V0RWxlbWVudCgpLHRoaXMua2V5QmluZGluZz1uZXcgbCh0aGlzKSx0aGlzLiRtb3VzZUhhbmRsZXI9bmV3IGEodGhpcyksbmV3IGYodGhpcyksdGhpcy4kYmxvY2tTY3JvbGxpbmc9MCx0aGlzLiRzZWFyY2g9KG5ldyBoKS5zZXQoe3dyYXA6ITB9KSx0aGlzLiRoaXN0b3J5VHJhY2tlcj10aGlzLiRoaXN0b3J5VHJhY2tlci5iaW5kKHRoaXMpLHRoaXMuY29tbWFuZHMub24oImV4ZWMiLHRoaXMuJGhpc3RvcnlUcmFja2VyKSx0aGlzLiRpbml0T3BlcmF0aW9uTGlzdGVuZXJzKCksdGhpcy5fJGVtaXRJbnB1dEV2ZW50PXMuZGVsYXllZENhbGwoZnVuY3Rpb24oKXt0aGlzLl9zaWduYWwoImlucHV0Iix7fSksdGhpcy5zZXNzaW9uLmJnVG9rZW5pemVyJiZ0aGlzLnNlc3Npb24uYmdUb2tlbml6ZXIuc2NoZWR1bGVTdGFydCgpfS5iaW5kKHRoaXMpKSx0aGlzLm9uKCJjaGFuZ2UiLGZ1bmN0aW9uKGUsdCl7dC5fJGVtaXRJbnB1dEV2ZW50LnNjaGVkdWxlKDMxKX0pLHRoaXMuc2V0U2Vzc2lvbih0fHxuZXcgYygiIikpLGcucmVzZXRPcHRpb25zKHRoaXMpLGcuX3NpZ25hbCgiZWRpdG9yIix0aGlzKX07KGZ1bmN0aW9uKCl7ci5pbXBsZW1lbnQodGhpcyxkKSx0aGlzLiRpbml0T3BlcmF0aW9uTGlzdGVuZXJzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gZVtlLmxlbmd0aC0xXX10aGlzLnNlbGVjdGlvbnM9W10sdGhpcy5jb21tYW5kcy5vbigiZXhlYyIsZnVuY3Rpb24odCl7dGhpcy5zdGFydE9wZXJhdGlvbih0KTt2YXIgbj10LmNvbW1hbmQ7aWYoImZpbGVKdW1wIj09bi5hY2VDb21tYW5kR3JvdXApe3ZhciByPXRoaXMucHJldk9wO3ImJiJmaWxlSnVtcCI9PXIuY29tbWFuZC5hY2VDb21tYW5kR3JvdXB8fCh0aGlzLmxhc3RGaWxlSnVtcFBvcz1lKHRoaXMuc2VsZWN0aW9ucykpfWVsc2UgdGhpcy5sYXN0RmlsZUp1bXBQb3M9bnVsbH0uYmluZCh0aGlzKSwhMCksdGhpcy5jb21tYW5kcy5vbigiYWZ0ZXJFeGVjIixmdW5jdGlvbihlKXt2YXIgdD1lLmNvbW1hbmQ7ImZpbGVKdW1wIj09dC5hY2VDb21tYW5kR3JvdXAmJnRoaXMubGFzdEZpbGVKdW1wUG9zJiYhdGhpcy5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkJiZ0aGlzLnNlbGVjdGlvbi5mcm9tSlNPTih0aGlzLmxhc3RGaWxlSnVtcFBvcyksdGhpcy5lbmRPcGVyYXRpb24oZSl9LmJpbmQodGhpcyksITApLHRoaXMuJG9wUmVzZXRUaW1lcj1zLmRlbGF5ZWRDYWxsKHRoaXMuZW5kT3BlcmF0aW9uLmJpbmQodGhpcykpLHRoaXMub24oImNoYW5nZSIsZnVuY3Rpb24oKXt0aGlzLmN1ck9wfHx0aGlzLnN0YXJ0T3BlcmF0aW9uKCksdGhpcy5jdXJPcC5kb2NDaGFuZ2VkPSEwfS5iaW5kKHRoaXMpLCEwKSx0aGlzLm9uKCJjaGFuZ2VTZWxlY3Rpb24iLGZ1bmN0aW9uKCl7dGhpcy5jdXJPcHx8dGhpcy5zdGFydE9wZXJhdGlvbigpLHRoaXMuY3VyT3Auc2VsZWN0aW9uQ2hhbmdlZD0hMH0uYmluZCh0aGlzKSwhMCl9LHRoaXMuY3VyT3A9bnVsbCx0aGlzLnByZXZPcD17fSx0aGlzLnN0YXJ0T3BlcmF0aW9uPWZ1bmN0aW9uKGUpe2lmKHRoaXMuY3VyT3Ape2lmKCFlfHx0aGlzLmN1ck9wLmNvbW1hbmQpcmV0dXJuO3RoaXMucHJldk9wPXRoaXMuY3VyT3B9ZXx8KHRoaXMucHJldmlvdXNDb21tYW5kPW51bGwsZT17fSksdGhpcy4kb3BSZXNldFRpbWVyLnNjaGVkdWxlKCksdGhpcy5jdXJPcD17Y29tbWFuZDplLmNvbW1hbmR8fHt9LGFyZ3M6ZS5hcmdzLHNjcm9sbFRvcDp0aGlzLnJlbmRlcmVyLnNjcm9sbFRvcH07dmFyIHQ9dGhpcy5jdXJPcC5jb21tYW5kO3QmJnQuc2Nyb2xsSW50b1ZpZXcmJnRoaXMuJGJsb2NrU2Nyb2xsaW5nKyssdGhpcy5zZWxlY3Rpb25zLnB1c2godGhpcy5zZWxlY3Rpb24udG9KU09OKCkpfSx0aGlzLmVuZE9wZXJhdGlvbj1mdW5jdGlvbigpe2lmKHRoaXMuY3VyT3Ape3ZhciBlPXRoaXMuY3VyT3AuY29tbWFuZDtpZihlJiZlLnNjcm9sbEludG9WaWV3KXtzd2l0Y2godGhpcy4kYmxvY2tTY3JvbGxpbmctLSxlLnNjcm9sbEludG9WaWV3KXtjYXNlImNlbnRlciI6dGhpcy5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldyhudWxsLC41KTticmVhaztjYXNlImFuaW1hdGUiOmNhc2UiY3Vyc29yIjp0aGlzLnJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KCk7YnJlYWs7Y2FzZSJzZWxlY3Rpb25QYXJ0Ijp2YXIgdD10aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLG49dGhpcy5yZW5kZXJlci5sYXllckNvbmZpZzsodC5zdGFydC5yb3c+PW4ubGFzdFJvd3x8dC5lbmQucm93PD1uLmZpcnN0Um93KSYmdGhpcy5yZW5kZXJlci5zY3JvbGxTZWxlY3Rpb25JbnRvVmlldyh0aGlzLnNlbGVjdGlvbi5hbmNob3IsdGhpcy5zZWxlY3Rpb24ubGVhZCl9ImFuaW1hdGUiPT1lLnNjcm9sbEludG9WaWV3JiZ0aGlzLnJlbmRlcmVyLmFuaW1hdGVTY3JvbGxpbmcodGhpcy5jdXJPcC5zY3JvbGxUb3ApfXRoaXMucHJldk9wPXRoaXMuY3VyT3AsdGhpcy5jdXJPcD1udWxsfX0sdGhpcy4kaGlzdG9yeVRyYWNrZXI9ZnVuY3Rpb24oZSl7aWYodGhpcy4kbWVyZ2VVbmRvRGVsdGFzKXt2YXIgdD10aGlzLnByZXZPcCxuPVsiYmFja3NwYWNlIiwiZGVsIiwiaW5zZXJ0c3RyaW5nIl0scj10LmNvbW1hbmQmJmUuY29tbWFuZC5uYW1lPT10LmNvbW1hbmQubmFtZTtpZigiaW5zZXJ0c3RyaW5nIj09ZS5jb21tYW5kLm5hbWUpe3ZhciBpPWUuYXJnczt2b2lkIDA9PT10aGlzLm1lcmdlTmV4dENvbW1hbmQmJih0aGlzLm1lcmdlTmV4dENvbW1hbmQ9ITApLHI9ciYmdGhpcy5tZXJnZU5leHRDb21tYW5kJiYoIS9ccy8udGVzdChpKXx8L1xzLy50ZXN0KHQuYXJncykpLHRoaXMubWVyZ2VOZXh0Q29tbWFuZD0hMH1lbHNlIHI9ciYmLTEhPT1uLmluZGV4T2YoZS5jb21tYW5kLm5hbWUpOyJhbHdheXMiIT10aGlzLiRtZXJnZVVuZG9EZWx0YXMmJkRhdGUubm93KCktdGhpcy5zZXF1ZW5jZVN0YXJ0VGltZT4yZTMmJihyPSExKSxyP3RoaXMuc2Vzc2lvbi5tZXJnZVVuZG9EZWx0YXM9ITA6LTEhPT1uLmluZGV4T2YoZS5jb21tYW5kLm5hbWUpJiYodGhpcy5zZXF1ZW5jZVN0YXJ0VGltZT1EYXRlLm5vdygpKX19LHRoaXMuc2V0S2V5Ym9hcmRIYW5kbGVyPWZ1bmN0aW9uKGUpe2lmKGUpaWYoInN0cmluZyI9PXR5cGVvZiBlKXt0aGlzLiRrZXliaW5kaW5nSWQ9ZTt2YXIgdD10aGlzO2cubG9hZE1vZHVsZShbImtleWJpbmRpbmciLGVdLGZ1bmN0aW9uKG4pe3QuJGtleWJpbmRpbmdJZD09ZSYmdC5rZXlCaW5kaW5nLnNldEtleWJvYXJkSGFuZGxlcihuJiZuLmhhbmRsZXIpfSl9ZWxzZSB0aGlzLiRrZXliaW5kaW5nSWQ9bnVsbCx0aGlzLmtleUJpbmRpbmcuc2V0S2V5Ym9hcmRIYW5kbGVyKGUpO2Vsc2UgdGhpcy5rZXlCaW5kaW5nLnNldEtleWJvYXJkSGFuZGxlcihudWxsKX0sdGhpcy5nZXRLZXlib2FyZEhhbmRsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5rZXlCaW5kaW5nLmdldEtleWJvYXJkSGFuZGxlcigpfSx0aGlzLnNldFNlc3Npb249ZnVuY3Rpb24oZSl7aWYodGhpcy5zZXNzaW9uIT1lKXt2YXIgdD10aGlzLnNlc3Npb247aWYodCl7dGhpcy5zZXNzaW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNoYW5nZSIsdGhpcy4kb25Eb2N1bWVudENoYW5nZSksdGhpcy5zZXNzaW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNoYW5nZU1vZGUiLHRoaXMuJG9uQ2hhbmdlTW9kZSksdGhpcy5zZXNzaW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoInRva2VuaXplclVwZGF0ZSIsdGhpcy4kb25Ub2tlbml6ZXJVcGRhdGUpLHRoaXMuc2Vzc2lvbi5yZW1vdmVFdmVudExpc3RlbmVyKCJjaGFuZ2VUYWJTaXplIix0aGlzLiRvbkNoYW5nZVRhYlNpemUpLHRoaXMuc2Vzc2lvbi5yZW1vdmVFdmVudExpc3RlbmVyKCJjaGFuZ2VXcmFwTGltaXQiLHRoaXMuJG9uQ2hhbmdlV3JhcExpbWl0KSx0aGlzLnNlc3Npb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2hhbmdlV3JhcE1vZGUiLHRoaXMuJG9uQ2hhbmdlV3JhcE1vZGUpLHRoaXMuc2Vzc2lvbi5yZW1vdmVFdmVudExpc3RlbmVyKCJvbkNoYW5nZUZvbGQiLHRoaXMuJG9uQ2hhbmdlRm9sZCksdGhpcy5zZXNzaW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNoYW5nZUZyb250TWFya2VyIix0aGlzLiRvbkNoYW5nZUZyb250TWFya2VyKSx0aGlzLnNlc3Npb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2hhbmdlQmFja01hcmtlciIsdGhpcy4kb25DaGFuZ2VCYWNrTWFya2VyKSx0aGlzLnNlc3Npb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2hhbmdlQnJlYWtwb2ludCIsdGhpcy4kb25DaGFuZ2VCcmVha3BvaW50KSx0aGlzLnNlc3Npb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2hhbmdlQW5ub3RhdGlvbiIsdGhpcy4kb25DaGFuZ2VBbm5vdGF0aW9uKSx0aGlzLnNlc3Npb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2hhbmdlT3ZlcndyaXRlIix0aGlzLiRvbkN1cnNvckNoYW5nZSksdGhpcy5zZXNzaW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNoYW5nZVNjcm9sbFRvcCIsdGhpcy4kb25TY3JvbGxUb3BDaGFuZ2UpLHRoaXMuc2Vzc2lvbi5yZW1vdmVFdmVudExpc3RlbmVyKCJjaGFuZ2VTY3JvbGxMZWZ0Iix0aGlzLiRvblNjcm9sbExlZnRDaGFuZ2UpO3ZhciBuPXRoaXMuc2Vzc2lvbi5nZXRTZWxlY3Rpb24oKTtuLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNoYW5nZUN1cnNvciIsdGhpcy4kb25DdXJzb3JDaGFuZ2UpLG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2hhbmdlU2VsZWN0aW9uIix0aGlzLiRvblNlbGVjdGlvbkNoYW5nZSl9dGhpcy5zZXNzaW9uPWUsZSYmKHRoaXMuJG9uRG9jdW1lbnRDaGFuZ2U9dGhpcy5vbkRvY3VtZW50Q2hhbmdlLmJpbmQodGhpcyksZS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLHRoaXMuJG9uRG9jdW1lbnRDaGFuZ2UpLHRoaXMucmVuZGVyZXIuc2V0U2Vzc2lvbihlKSx0aGlzLiRvbkNoYW5nZU1vZGU9dGhpcy5vbkNoYW5nZU1vZGUuYmluZCh0aGlzKSxlLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZU1vZGUiLHRoaXMuJG9uQ2hhbmdlTW9kZSksdGhpcy4kb25Ub2tlbml6ZXJVcGRhdGU9dGhpcy5vblRva2VuaXplclVwZGF0ZS5iaW5kKHRoaXMpLGUuYWRkRXZlbnRMaXN0ZW5lcigidG9rZW5pemVyVXBkYXRlIix0aGlzLiRvblRva2VuaXplclVwZGF0ZSksdGhpcy4kb25DaGFuZ2VUYWJTaXplPXRoaXMucmVuZGVyZXIub25DaGFuZ2VUYWJTaXplLmJpbmQodGhpcy5yZW5kZXJlciksZS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2VUYWJTaXplIix0aGlzLiRvbkNoYW5nZVRhYlNpemUpLHRoaXMuJG9uQ2hhbmdlV3JhcExpbWl0PXRoaXMub25DaGFuZ2VXcmFwTGltaXQuYmluZCh0aGlzKSxlLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZVdyYXBMaW1pdCIsdGhpcy4kb25DaGFuZ2VXcmFwTGltaXQpLHRoaXMuJG9uQ2hhbmdlV3JhcE1vZGU9dGhpcy5vbkNoYW5nZVdyYXBNb2RlLmJpbmQodGhpcyksZS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2VXcmFwTW9kZSIsdGhpcy4kb25DaGFuZ2VXcmFwTW9kZSksdGhpcy4kb25DaGFuZ2VGb2xkPXRoaXMub25DaGFuZ2VGb2xkLmJpbmQodGhpcyksZS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2VGb2xkIix0aGlzLiRvbkNoYW5nZUZvbGQpLHRoaXMuJG9uQ2hhbmdlRnJvbnRNYXJrZXI9dGhpcy5vbkNoYW5nZUZyb250TWFya2VyLmJpbmQodGhpcyksdGhpcy5zZXNzaW9uLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZUZyb250TWFya2VyIix0aGlzLiRvbkNoYW5nZUZyb250TWFya2VyKSx0aGlzLiRvbkNoYW5nZUJhY2tNYXJrZXI9dGhpcy5vbkNoYW5nZUJhY2tNYXJrZXIuYmluZCh0aGlzKSx0aGlzLnNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlQmFja01hcmtlciIsdGhpcy4kb25DaGFuZ2VCYWNrTWFya2VyKSx0aGlzLiRvbkNoYW5nZUJyZWFrcG9pbnQ9dGhpcy5vbkNoYW5nZUJyZWFrcG9pbnQuYmluZCh0aGlzKSx0aGlzLnNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlQnJlYWtwb2ludCIsdGhpcy4kb25DaGFuZ2VCcmVha3BvaW50KSx0aGlzLiRvbkNoYW5nZUFubm90YXRpb249dGhpcy5vbkNoYW5nZUFubm90YXRpb24uYmluZCh0aGlzKSx0aGlzLnNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlQW5ub3RhdGlvbiIsdGhpcy4kb25DaGFuZ2VBbm5vdGF0aW9uKSx0aGlzLiRvbkN1cnNvckNoYW5nZT10aGlzLm9uQ3Vyc29yQ2hhbmdlLmJpbmQodGhpcyksdGhpcy5zZXNzaW9uLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZU92ZXJ3cml0ZSIsdGhpcy4kb25DdXJzb3JDaGFuZ2UpLHRoaXMuJG9uU2Nyb2xsVG9wQ2hhbmdlPXRoaXMub25TY3JvbGxUb3BDaGFuZ2UuYmluZCh0aGlzKSx0aGlzLnNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlU2Nyb2xsVG9wIix0aGlzLiRvblNjcm9sbFRvcENoYW5nZSksdGhpcy4kb25TY3JvbGxMZWZ0Q2hhbmdlPXRoaXMub25TY3JvbGxMZWZ0Q2hhbmdlLmJpbmQodGhpcyksdGhpcy5zZXNzaW9uLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZVNjcm9sbExlZnQiLHRoaXMuJG9uU2Nyb2xsTGVmdENoYW5nZSksdGhpcy5zZWxlY3Rpb249ZS5nZXRTZWxlY3Rpb24oKSx0aGlzLnNlbGVjdGlvbi5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2VDdXJzb3IiLHRoaXMuJG9uQ3Vyc29yQ2hhbmdlKSx0aGlzLiRvblNlbGVjdGlvbkNoYW5nZT10aGlzLm9uU2VsZWN0aW9uQ2hhbmdlLmJpbmQodGhpcyksdGhpcy5zZWxlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlU2VsZWN0aW9uIix0aGlzLiRvblNlbGVjdGlvbkNoYW5nZSksdGhpcy5vbkNoYW5nZU1vZGUoKSx0aGlzLiRibG9ja1Njcm9sbGluZys9MSx0aGlzLm9uQ3Vyc29yQ2hhbmdlKCksdGhpcy4kYmxvY2tTY3JvbGxpbmctPTEsdGhpcy5vblNjcm9sbFRvcENoYW5nZSgpLHRoaXMub25TY3JvbGxMZWZ0Q2hhbmdlKCksdGhpcy5vblNlbGVjdGlvbkNoYW5nZSgpLHRoaXMub25DaGFuZ2VGcm9udE1hcmtlcigpLHRoaXMub25DaGFuZ2VCYWNrTWFya2VyKCksdGhpcy5vbkNoYW5nZUJyZWFrcG9pbnQoKSx0aGlzLm9uQ2hhbmdlQW5ub3RhdGlvbigpLHRoaXMuc2Vzc2lvbi5nZXRVc2VXcmFwTW9kZSgpJiZ0aGlzLnJlbmRlcmVyLmFkanVzdFdyYXBMaW1pdCgpLHRoaXMucmVuZGVyZXIudXBkYXRlRnVsbCgpKSx0aGlzLl9zaWduYWwoImNoYW5nZVNlc3Npb24iLHtzZXNzaW9uOmUsb2xkU2Vzc2lvbjp0fSksdCYmdC5fc2lnbmFsKCJjaGFuZ2VFZGl0b3IiLHtvbGRFZGl0b3I6dGhpc30pLGUmJmUuX3NpZ25hbCgiY2hhbmdlRWRpdG9yIix7ZWRpdG9yOnRoaXN9KX19LHRoaXMuZ2V0U2Vzc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlc3Npb259LHRoaXMuc2V0VmFsdWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zZXNzaW9uLmRvYy5zZXRWYWx1ZShlKSx0PzE9PXQ/dGhpcy5uYXZpZ2F0ZUZpbGVFbmQoKTotMT09dCYmdGhpcy5uYXZpZ2F0ZUZpbGVTdGFydCgpOnRoaXMuc2VsZWN0QWxsKCksZX0sdGhpcy5nZXRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlc3Npb24uZ2V0VmFsdWUoKX0sdGhpcy5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3Rpb259LHRoaXMucmVzaXplPWZ1bmN0aW9uKGUpe3RoaXMucmVuZGVyZXIub25SZXNpemUoZSl9LHRoaXMuc2V0VGhlbWU9ZnVuY3Rpb24oZSx0KXt0aGlzLnJlbmRlcmVyLnNldFRoZW1lKGUsdCl9LHRoaXMuZ2V0VGhlbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW5kZXJlci5nZXRUaGVtZSgpfSx0aGlzLnNldFN0eWxlPWZ1bmN0aW9uKGUpe3RoaXMucmVuZGVyZXIuc2V0U3R5bGUoZSl9LHRoaXMudW5zZXRTdHlsZT1mdW5jdGlvbihlKXt0aGlzLnJlbmRlcmVyLnVuc2V0U3R5bGUoZSl9LHRoaXMuZ2V0Rm9udFNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRPcHRpb24oImZvbnRTaXplIil8fGkuY29tcHV0ZWRTdHlsZSh0aGlzLmNvbnRhaW5lciwiZm9udFNpemUiKX0sdGhpcy5zZXRGb250U2l6ZT1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbigiZm9udFNpemUiLGUpfSx0aGlzLiRoaWdobGlnaHRCcmFja2V0cz1mdW5jdGlvbigpe2lmKHRoaXMuc2Vzc2lvbi4kYnJhY2tldEhpZ2hsaWdodCYmKHRoaXMuc2Vzc2lvbi5yZW1vdmVNYXJrZXIodGhpcy5zZXNzaW9uLiRicmFja2V0SGlnaGxpZ2h0KSx0aGlzLnNlc3Npb24uJGJyYWNrZXRIaWdobGlnaHQ9bnVsbCksIXRoaXMuJGhpZ2hsaWdodFBlbmRpbmcpe3ZhciBlPXRoaXM7dGhpcy4kaGlnaGxpZ2h0UGVuZGluZz0hMCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS4kaGlnaGxpZ2h0UGVuZGluZz0hMTt2YXIgdD1lLnNlc3Npb24uZmluZE1hdGNoaW5nQnJhY2tldChlLmdldEN1cnNvclBvc2l0aW9uKCkpO2lmKHQpdmFyIG49bmV3IHAodC5yb3csdC5jb2x1bW4sdC5yb3csdC5jb2x1bW4rMSk7ZWxzZSBpZihlLnNlc3Npb24uJG1vZGUuZ2V0TWF0Y2hpbmcpdmFyIG49ZS5zZXNzaW9uLiRtb2RlLmdldE1hdGNoaW5nKGUuc2Vzc2lvbik7biYmKGUuc2Vzc2lvbi4kYnJhY2tldEhpZ2hsaWdodD1lLnNlc3Npb24uYWRkTWFya2VyKG4sImFjZV9icmFja2V0IiwidGV4dCIpKX0sNTApfX0sdGhpcy5mb2N1cz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2UudGV4dElucHV0LmZvY3VzKCl9KSx0aGlzLnRleHRJbnB1dC5mb2N1cygpfSx0aGlzLmlzRm9jdXNlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHRJbnB1dC5pc0ZvY3VzZWQoKX0sdGhpcy5ibHVyPWZ1bmN0aW9uKCl7dGhpcy50ZXh0SW5wdXQuYmx1cigpfSx0aGlzLm9uRm9jdXM9ZnVuY3Rpb24oKXt0aGlzLiRpc0ZvY3VzZWR8fCh0aGlzLiRpc0ZvY3VzZWQ9ITAsdGhpcy5yZW5kZXJlci5zaG93Q3Vyc29yKCksdGhpcy5yZW5kZXJlci52aXN1YWxpemVGb2N1cygpLHRoaXMuX2VtaXQoImZvY3VzIikpfSx0aGlzLm9uQmx1cj1mdW5jdGlvbigpe3RoaXMuJGlzRm9jdXNlZCYmKHRoaXMuJGlzRm9jdXNlZD0hMSx0aGlzLnJlbmRlcmVyLmhpZGVDdXJzb3IoKSx0aGlzLnJlbmRlcmVyLnZpc3VhbGl6ZUJsdXIoKSx0aGlzLl9lbWl0KCJibHVyIikpfSx0aGlzLiRjdXJzb3JDaGFuZ2U9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLnVwZGF0ZUN1cnNvcigpfSx0aGlzLm9uRG9jdW1lbnRDaGFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHIsdD1lLmRhdGEsbj10LnJhbmdlO3I9bi5zdGFydC5yb3c9PW4uZW5kLnJvdyYmImluc2VydExpbmVzIiE9dC5hY3Rpb24mJiJyZW1vdmVMaW5lcyIhPXQuYWN0aW9uP24uZW5kLnJvdzoxLzAsdGhpcy5yZW5kZXJlci51cGRhdGVMaW5lcyhuLnN0YXJ0LnJvdyxyKSx0aGlzLl9zaWduYWwoImNoYW5nZSIsZSksdGhpcy4kY3Vyc29yQ2hhbmdlKCl9LHRoaXMub25Ub2tlbml6ZXJVcGRhdGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kYXRhO3RoaXMucmVuZGVyZXIudXBkYXRlTGluZXModC5maXJzdCx0Lmxhc3QpfSx0aGlzLm9uU2Nyb2xsVG9wQ2hhbmdlPWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci5zY3JvbGxUb1kodGhpcy5zZXNzaW9uLmdldFNjcm9sbFRvcCgpKX0sdGhpcy5vblNjcm9sbExlZnRDaGFuZ2U9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLnNjcm9sbFRvWCh0aGlzLnNlc3Npb24uZ2V0U2Nyb2xsTGVmdCgpKX0sdGhpcy5vbkN1cnNvckNoYW5nZT1mdW5jdGlvbigpe3RoaXMuJGN1cnNvckNoYW5nZSgpLHRoaXMuJGJsb2NrU2Nyb2xsaW5nfHx0aGlzLnJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KCksdGhpcy4kaGlnaGxpZ2h0QnJhY2tldHMoKSx0aGlzLiR1cGRhdGVIaWdobGlnaHRBY3RpdmVMaW5lKCksdGhpcy5fc2lnbmFsKCJjaGFuZ2VTZWxlY3Rpb24iKX0sdGhpcy4kdXBkYXRlSGlnaGxpZ2h0QWN0aXZlTGluZT1mdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5nZXRTZXNzaW9uKCk7aWYodGhpcy4kaGlnaGxpZ2h0QWN0aXZlTGluZSYmKCJsaW5lIj09dGhpcy4kc2VsZWN0aW9uU3R5bGUmJnRoaXMuc2VsZWN0aW9uLmlzTXVsdGlMaW5lKCl8fCh0PXRoaXMuZ2V0Q3Vyc29yUG9zaXRpb24oKSksdGhpcy5yZW5kZXJlci4kbWF4TGluZXMmJjE9PT10aGlzLnNlc3Npb24uZ2V0TGVuZ3RoKCkmJiEodGhpcy5yZW5kZXJlci4kbWluTGluZXM+MSkmJih0PSExKSksZS4kaGlnaGxpZ2h0TGluZU1hcmtlciYmIXQpZS5yZW1vdmVNYXJrZXIoZS4kaGlnaGxpZ2h0TGluZU1hcmtlci5pZCksZS4kaGlnaGxpZ2h0TGluZU1hcmtlcj1udWxsO2Vsc2UgaWYoIWUuJGhpZ2hsaWdodExpbmVNYXJrZXImJnQpe3ZhciBuPW5ldyBwKHQucm93LHQuY29sdW1uLHQucm93LDEvMCk7bi5pZD1lLmFkZE1hcmtlcihuLCJhY2VfYWN0aXZlLWxpbmUiLCJzY3JlZW5MaW5lIiksZS4kaGlnaGxpZ2h0TGluZU1hcmtlcj1ufWVsc2UgdCYmKGUuJGhpZ2hsaWdodExpbmVNYXJrZXIuc3RhcnQucm93PXQucm93LGUuJGhpZ2hsaWdodExpbmVNYXJrZXIuZW5kLnJvdz10LnJvdyxlLiRoaWdobGlnaHRMaW5lTWFya2VyLnN0YXJ0LmNvbHVtbj10LmNvbHVtbixlLl9zaWduYWwoImNoYW5nZUJhY2tNYXJrZXIiKSl9LHRoaXMub25TZWxlY3Rpb25DaGFuZ2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnNlc3Npb247aWYodC4kc2VsZWN0aW9uTWFya2VyJiZ0LnJlbW92ZU1hcmtlcih0LiRzZWxlY3Rpb25NYXJrZXIpLHQuJHNlbGVjdGlvbk1hcmtlcj1udWxsLHRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSl0aGlzLiR1cGRhdGVIaWdobGlnaHRBY3RpdmVMaW5lKCk7ZWxzZXt2YXIgbj10aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLHI9dGhpcy5nZXRTZWxlY3Rpb25TdHlsZSgpO3QuJHNlbGVjdGlvbk1hcmtlcj10LmFkZE1hcmtlcihuLCJhY2Vfc2VsZWN0aW9uIixyKX12YXIgaT10aGlzLiRoaWdobGlnaHRTZWxlY3RlZFdvcmQmJnRoaXMuJGdldFNlbGVjdGlvbkhpZ2hMaWdodFJlZ2V4cCgpO3RoaXMuc2Vzc2lvbi5oaWdobGlnaHQoaSksdGhpcy5fc2lnbmFsKCJjaGFuZ2VTZWxlY3Rpb24iKX0sdGhpcy4kZ2V0U2VsZWN0aW9uSGlnaExpZ2h0UmVnZXhwPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZXNzaW9uLHQ9dGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpO2lmKCF0LmlzRW1wdHkoKSYmIXQuaXNNdWx0aUxpbmUoKSl7dmFyIG49dC5zdGFydC5jb2x1bW4tMSxyPXQuZW5kLmNvbHVtbisxLGk9ZS5nZXRMaW5lKHQuc3RhcnQucm93KSxzPWkubGVuZ3RoLG89aS5zdWJzdHJpbmcoTWF0aC5tYXgobiwwKSxNYXRoLm1pbihyLHMpKTsKaWYoIShuPj0wJiYvXltcd1xkXS8udGVzdChvKXx8cz49ciYmL1tcd1xkXSQvLnRlc3QobykpJiYobz1pLnN1YnN0cmluZyh0LnN0YXJ0LmNvbHVtbix0LmVuZC5jb2x1bW4pLC9eW1x3XGRdKyQvLnRlc3QobykpKXt2YXIgdT10aGlzLiRzZWFyY2guJGFzc2VtYmxlUmVnRXhwKHt3aG9sZVdvcmQ6ITAsY2FzZVNlbnNpdGl2ZTohMCxuZWVkbGU6b30pO3JldHVybiB1fX19LHRoaXMub25DaGFuZ2VGcm9udE1hcmtlcj1mdW5jdGlvbigpe3RoaXMucmVuZGVyZXIudXBkYXRlRnJvbnRNYXJrZXJzKCl9LHRoaXMub25DaGFuZ2VCYWNrTWFya2VyPWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci51cGRhdGVCYWNrTWFya2VycygpfSx0aGlzLm9uQ2hhbmdlQnJlYWtwb2ludD1mdW5jdGlvbigpe3RoaXMucmVuZGVyZXIudXBkYXRlQnJlYWtwb2ludHMoKX0sdGhpcy5vbkNoYW5nZUFubm90YXRpb249ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLnNldEFubm90YXRpb25zKHRoaXMuc2Vzc2lvbi5nZXRBbm5vdGF0aW9ucygpKX0sdGhpcy5vbkNoYW5nZU1vZGU9ZnVuY3Rpb24oZSl7dGhpcy5yZW5kZXJlci51cGRhdGVUZXh0KCksdGhpcy5fZW1pdCgiY2hhbmdlTW9kZSIsZSl9LHRoaXMub25DaGFuZ2VXcmFwTGltaXQ9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLnVwZGF0ZUZ1bGwoKX0sdGhpcy5vbkNoYW5nZVdyYXBNb2RlPWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci5vblJlc2l6ZSghMCl9LHRoaXMub25DaGFuZ2VGb2xkPWZ1bmN0aW9uKCl7dGhpcy4kdXBkYXRlSGlnaGxpZ2h0QWN0aXZlTGluZSgpLHRoaXMucmVuZGVyZXIudXBkYXRlRnVsbCgpfSx0aGlzLmdldFNlbGVjdGVkVGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlc3Npb24uZ2V0VGV4dFJhbmdlKHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKSl9LHRoaXMuZ2V0Q29weVRleHQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFNlbGVjdGVkVGV4dCgpO3JldHVybiB0aGlzLl9zaWduYWwoImNvcHkiLGUpLGV9LHRoaXMub25Db3B5PWZ1bmN0aW9uKCl7dGhpcy5jb21tYW5kcy5leGVjKCJjb3B5Iix0aGlzKX0sdGhpcy5vbkN1dD1mdW5jdGlvbigpe3RoaXMuY29tbWFuZHMuZXhlYygiY3V0Iix0aGlzKX0sdGhpcy5vblBhc3RlPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLiRyZWFkT25seSl7dmFyIHQ9e3RleHQ6ZX07dGhpcy5fc2lnbmFsKCJwYXN0ZSIsdCksdGhpcy5pbnNlcnQodC50ZXh0LCEwKX19LHRoaXMuZXhlY0NvbW1hbmQ9ZnVuY3Rpb24oZSx0KXt0aGlzLmNvbW1hbmRzLmV4ZWMoZSx0aGlzLHQpfSx0aGlzLmluc2VydD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuc2Vzc2lvbixyPW4uZ2V0TW9kZSgpLGk9dGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpO2lmKHRoaXMuZ2V0QmVoYXZpb3Vyc0VuYWJsZWQoKSYmIXQpe3ZhciBzPXIudHJhbnNmb3JtQWN0aW9uKG4uZ2V0U3RhdGUoaS5yb3cpLCJpbnNlcnRpb24iLHRoaXMsbixlKTtzJiYoZSE9PXMudGV4dCYmKHRoaXMuc2Vzc2lvbi5tZXJnZVVuZG9EZWx0YXM9ITEsdGhpcy4kbWVyZ2VOZXh0Q29tbWFuZD0hMSksZT1zLnRleHQpfWlmKCIJIj09ZSYmKGU9dGhpcy5zZXNzaW9uLmdldFRhYlN0cmluZygpKSx0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkpe2lmKHRoaXMuc2Vzc2lvbi5nZXRPdmVyd3JpdGUoKSl7dmFyIG89bmV3IHAuZnJvbVBvaW50cyhpLGkpO28uZW5kLmNvbHVtbis9ZS5sZW5ndGgsdGhpcy5zZXNzaW9uLnJlbW92ZShvKX19ZWxzZXt2YXIgbz10aGlzLmdldFNlbGVjdGlvblJhbmdlKCk7aT10aGlzLnNlc3Npb24ucmVtb3ZlKG8pLHRoaXMuY2xlYXJTZWxlY3Rpb24oKX1pZigiXG4iPT1lfHwiXHJcbiI9PWUpe3ZhciB1PW4uZ2V0TGluZShpLnJvdyk7aWYoaS5jb2x1bW4+dS5zZWFyY2goL1xTfCQvKSl7dmFyIGE9dS5zdWJzdHIoaS5jb2x1bW4pLnNlYXJjaCgvXFN8JC8pO24uZG9jLnJlbW92ZUluTGluZShpLnJvdyxpLmNvbHVtbixpLmNvbHVtbithKX19dGhpcy5jbGVhclNlbGVjdGlvbigpO3t2YXIgZj1pLmNvbHVtbixsPW4uZ2V0U3RhdGUoaS5yb3cpLHU9bi5nZXRMaW5lKGkucm93KSxjPXIuY2hlY2tPdXRkZW50KGwsdSxlKTtuLmluc2VydChpLGUpfWlmKHMmJnMuc2VsZWN0aW9uJiZ0aGlzLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25SYW5nZSgyPT1zLnNlbGVjdGlvbi5sZW5ndGg/bmV3IHAoaS5yb3csZitzLnNlbGVjdGlvblswXSxpLnJvdyxmK3Muc2VsZWN0aW9uWzFdKTpuZXcgcChpLnJvdytzLnNlbGVjdGlvblswXSxzLnNlbGVjdGlvblsxXSxpLnJvdytzLnNlbGVjdGlvblsyXSxzLnNlbGVjdGlvblszXSkpLG4uZ2V0RG9jdW1lbnQoKS5pc05ld0xpbmUoZSkpe3ZhciBkPXIuZ2V0TmV4dExpbmVJbmRlbnQobCx1LnNsaWNlKDAsaS5jb2x1bW4pLG4uZ2V0VGFiU3RyaW5nKCkpO24uaW5zZXJ0KHtyb3c6aS5yb3crMSxjb2x1bW46MH0sZCl9YyYmci5hdXRvT3V0ZGVudChsLG4saS5yb3cpfSx0aGlzLm9uVGV4dElucHV0PWZ1bmN0aW9uKGUpe3RoaXMua2V5QmluZGluZy5vblRleHRJbnB1dChlKX0sdGhpcy5vbkNvbW1hbmRLZXk9ZnVuY3Rpb24oZSx0LG4pe3RoaXMua2V5QmluZGluZy5vbkNvbW1hbmRLZXkoZSx0LG4pfSx0aGlzLnNldE92ZXJ3cml0ZT1mdW5jdGlvbihlKXt0aGlzLnNlc3Npb24uc2V0T3ZlcndyaXRlKGUpfSx0aGlzLmdldE92ZXJ3cml0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlc3Npb24uZ2V0T3ZlcndyaXRlKCl9LHRoaXMudG9nZ2xlT3ZlcndyaXRlPWZ1bmN0aW9uKCl7dGhpcy5zZXNzaW9uLnRvZ2dsZU92ZXJ3cml0ZSgpfSx0aGlzLnNldFNjcm9sbFNwZWVkPWZ1bmN0aW9uKGUpe3RoaXMuc2V0T3B0aW9uKCJzY3JvbGxTcGVlZCIsZSl9LHRoaXMuZ2V0U2Nyb2xsU3BlZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRPcHRpb24oInNjcm9sbFNwZWVkIil9LHRoaXMuc2V0RHJhZ0RlbGF5PWZ1bmN0aW9uKGUpe3RoaXMuc2V0T3B0aW9uKCJkcmFnRGVsYXkiLGUpfSx0aGlzLmdldERyYWdEZWxheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE9wdGlvbigiZHJhZ0RlbGF5Iil9LHRoaXMuc2V0U2VsZWN0aW9uU3R5bGU9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oInNlbGVjdGlvblN0eWxlIixlKX0sdGhpcy5nZXRTZWxlY3Rpb25TdHlsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE9wdGlvbigic2VsZWN0aW9uU3R5bGUiKX0sdGhpcy5zZXRIaWdobGlnaHRBY3RpdmVMaW5lPWZ1bmN0aW9uKGUpe3RoaXMuc2V0T3B0aW9uKCJoaWdobGlnaHRBY3RpdmVMaW5lIixlKX0sdGhpcy5nZXRIaWdobGlnaHRBY3RpdmVMaW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0T3B0aW9uKCJoaWdobGlnaHRBY3RpdmVMaW5lIil9LHRoaXMuc2V0SGlnaGxpZ2h0R3V0dGVyTGluZT1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbigiaGlnaGxpZ2h0R3V0dGVyTGluZSIsZSl9LHRoaXMuZ2V0SGlnaGxpZ2h0R3V0dGVyTGluZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE9wdGlvbigiaGlnaGxpZ2h0R3V0dGVyTGluZSIpfSx0aGlzLnNldEhpZ2hsaWdodFNlbGVjdGVkV29yZD1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbigiaGlnaGxpZ2h0U2VsZWN0ZWRXb3JkIixlKX0sdGhpcy5nZXRIaWdobGlnaHRTZWxlY3RlZFdvcmQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kaGlnaGxpZ2h0U2VsZWN0ZWRXb3JkfSx0aGlzLnNldEFuaW1hdGVkU2Nyb2xsPWZ1bmN0aW9uKGUpe3RoaXMucmVuZGVyZXIuc2V0QW5pbWF0ZWRTY3JvbGwoZSl9LHRoaXMuZ2V0QW5pbWF0ZWRTY3JvbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW5kZXJlci5nZXRBbmltYXRlZFNjcm9sbCgpfSx0aGlzLnNldFNob3dJbnZpc2libGVzPWZ1bmN0aW9uKGUpe3RoaXMucmVuZGVyZXIuc2V0U2hvd0ludmlzaWJsZXMoZSl9LHRoaXMuZ2V0U2hvd0ludmlzaWJsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW5kZXJlci5nZXRTaG93SW52aXNpYmxlcygpfSx0aGlzLnNldERpc3BsYXlJbmRlbnRHdWlkZXM9ZnVuY3Rpb24oZSl7dGhpcy5yZW5kZXJlci5zZXREaXNwbGF5SW5kZW50R3VpZGVzKGUpfSx0aGlzLmdldERpc3BsYXlJbmRlbnRHdWlkZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW5kZXJlci5nZXREaXNwbGF5SW5kZW50R3VpZGVzKCl9LHRoaXMuc2V0U2hvd1ByaW50TWFyZ2luPWZ1bmN0aW9uKGUpe3RoaXMucmVuZGVyZXIuc2V0U2hvd1ByaW50TWFyZ2luKGUpfSx0aGlzLmdldFNob3dQcmludE1hcmdpbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbmRlcmVyLmdldFNob3dQcmludE1hcmdpbigpfSx0aGlzLnNldFByaW50TWFyZ2luQ29sdW1uPWZ1bmN0aW9uKGUpe3RoaXMucmVuZGVyZXIuc2V0UHJpbnRNYXJnaW5Db2x1bW4oZSl9LHRoaXMuZ2V0UHJpbnRNYXJnaW5Db2x1bW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW5kZXJlci5nZXRQcmludE1hcmdpbkNvbHVtbigpfSx0aGlzLnNldFJlYWRPbmx5PWZ1bmN0aW9uKGUpe3RoaXMuc2V0T3B0aW9uKCJyZWFkT25seSIsZSl9LHRoaXMuZ2V0UmVhZE9ubHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRPcHRpb24oInJlYWRPbmx5Iil9LHRoaXMuc2V0QmVoYXZpb3Vyc0VuYWJsZWQ9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oImJlaGF2aW91cnNFbmFibGVkIixlKX0sdGhpcy5nZXRCZWhhdmlvdXJzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE9wdGlvbigiYmVoYXZpb3Vyc0VuYWJsZWQiKX0sdGhpcy5zZXRXcmFwQmVoYXZpb3Vyc0VuYWJsZWQ9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oIndyYXBCZWhhdmlvdXJzRW5hYmxlZCIsZSl9LHRoaXMuZ2V0V3JhcEJlaGF2aW91cnNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0T3B0aW9uKCJ3cmFwQmVoYXZpb3Vyc0VuYWJsZWQiKX0sdGhpcy5zZXRTaG93Rm9sZFdpZGdldHM9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oInNob3dGb2xkV2lkZ2V0cyIsZSl9LHRoaXMuZ2V0U2hvd0ZvbGRXaWRnZXRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0T3B0aW9uKCJzaG93Rm9sZFdpZGdldHMiKX0sdGhpcy5zZXRGYWRlRm9sZFdpZGdldHM9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oImZhZGVGb2xkV2lkZ2V0cyIsZSl9LHRoaXMuZ2V0RmFkZUZvbGRXaWRnZXRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0T3B0aW9uKCJmYWRlRm9sZFdpZGdldHMiKX0sdGhpcy5yZW1vdmU9ZnVuY3Rpb24oZSl7dGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpJiYoImxlZnQiPT1lP3RoaXMuc2VsZWN0aW9uLnNlbGVjdExlZnQoKTp0aGlzLnNlbGVjdGlvbi5zZWxlY3RSaWdodCgpKTt2YXIgdD10aGlzLmdldFNlbGVjdGlvblJhbmdlKCk7aWYodGhpcy5nZXRCZWhhdmlvdXJzRW5hYmxlZCgpKXt2YXIgbj10aGlzLnNlc3Npb24scj1uLmdldFN0YXRlKHQuc3RhcnQucm93KSxpPW4uZ2V0TW9kZSgpLnRyYW5zZm9ybUFjdGlvbihyLCJkZWxldGlvbiIsdGhpcyxuLHQpO2lmKDA9PT10LmVuZC5jb2x1bW4pe3ZhciBzPW4uZ2V0VGV4dFJhbmdlKHQpO2lmKCJcbiI9PXNbcy5sZW5ndGgtMV0pe3ZhciBvPW4uZ2V0TGluZSh0LmVuZC5yb3cpOy9eXHMrJC8udGVzdChvKSYmKHQuZW5kLmNvbHVtbj1vLmxlbmd0aCl9fWkmJih0PWkpfXRoaXMuc2Vzc2lvbi5yZW1vdmUodCksdGhpcy5jbGVhclNlbGVjdGlvbigpfSx0aGlzLnJlbW92ZVdvcmRSaWdodD1mdW5jdGlvbigpe3RoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSYmdGhpcy5zZWxlY3Rpb24uc2VsZWN0V29yZFJpZ2h0KCksdGhpcy5zZXNzaW9uLnJlbW92ZSh0aGlzLmdldFNlbGVjdGlvblJhbmdlKCkpLHRoaXMuY2xlYXJTZWxlY3Rpb24oKX0sdGhpcy5yZW1vdmVXb3JkTGVmdD1mdW5jdGlvbigpe3RoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSYmdGhpcy5zZWxlY3Rpb24uc2VsZWN0V29yZExlZnQoKSx0aGlzLnNlc3Npb24ucmVtb3ZlKHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKSksdGhpcy5jbGVhclNlbGVjdGlvbigpfSx0aGlzLnJlbW92ZVRvTGluZVN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpJiZ0aGlzLnNlbGVjdGlvbi5zZWxlY3RMaW5lU3RhcnQoKSx0aGlzLnNlc3Npb24ucmVtb3ZlKHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKSksdGhpcy5jbGVhclNlbGVjdGlvbigpfSx0aGlzLnJlbW92ZVRvTGluZUVuZD1mdW5jdGlvbigpe3RoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSYmdGhpcy5zZWxlY3Rpb24uc2VsZWN0TGluZUVuZCgpO3ZhciBlPXRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtlLnN0YXJ0LmNvbHVtbj09ZS5lbmQuY29sdW1uJiZlLnN0YXJ0LnJvdz09ZS5lbmQucm93JiYoZS5lbmQuY29sdW1uPTAsZS5lbmQucm93KyspLHRoaXMuc2Vzc2lvbi5yZW1vdmUoZSksdGhpcy5jbGVhclNlbGVjdGlvbigpfSx0aGlzLnNwbGl0TGluZT1mdW5jdGlvbigpe3RoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKXx8KHRoaXMuc2Vzc2lvbi5yZW1vdmUodGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpKSx0aGlzLmNsZWFyU2VsZWN0aW9uKCkpO3ZhciBlPXRoaXMuZ2V0Q3Vyc29yUG9zaXRpb24oKTt0aGlzLmluc2VydCgiXG4iKSx0aGlzLm1vdmVDdXJzb3JUb1Bvc2l0aW9uKGUpfSx0aGlzLnRyYW5zcG9zZUxldHRlcnM9ZnVuY3Rpb24oKXtpZih0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkpe3ZhciBlPXRoaXMuZ2V0Q3Vyc29yUG9zaXRpb24oKSx0PWUuY29sdW1uO2lmKDAhPT10KXt2YXIgcixpLG49dGhpcy5zZXNzaW9uLmdldExpbmUoZS5yb3cpO3Q8bi5sZW5ndGg/KHI9bi5jaGFyQXQodCkrbi5jaGFyQXQodC0xKSxpPW5ldyBwKGUucm93LHQtMSxlLnJvdyx0KzEpKToocj1uLmNoYXJBdCh0LTEpK24uY2hhckF0KHQtMiksaT1uZXcgcChlLnJvdyx0LTIsZS5yb3csdCkpLHRoaXMuc2Vzc2lvbi5yZXBsYWNlKGkscil9fX0sdGhpcy50b0xvd2VyQ2FzZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKTt0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkmJnRoaXMuc2VsZWN0aW9uLnNlbGVjdFdvcmQoKTt2YXIgdD10aGlzLmdldFNlbGVjdGlvblJhbmdlKCksbj10aGlzLnNlc3Npb24uZ2V0VGV4dFJhbmdlKHQpO3RoaXMuc2Vzc2lvbi5yZXBsYWNlKHQsbi50b0xvd2VyQ2FzZSgpKSx0aGlzLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25SYW5nZShlKX0sdGhpcy50b1VwcGVyQ2FzZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKTt0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkmJnRoaXMuc2VsZWN0aW9uLnNlbGVjdFdvcmQoKTt2YXIgdD10aGlzLmdldFNlbGVjdGlvblJhbmdlKCksbj10aGlzLnNlc3Npb24uZ2V0VGV4dFJhbmdlKHQpO3RoaXMuc2Vzc2lvbi5yZXBsYWNlKHQsbi50b1VwcGVyQ2FzZSgpKSx0aGlzLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25SYW5nZShlKX0sdGhpcy5pbmRlbnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNlc3Npb24sdD10aGlzLmdldFNlbGVjdGlvblJhbmdlKCk7aWYodC5zdGFydC5yb3c8dC5lbmQucm93KXt2YXIgbj10aGlzLiRnZXRTZWxlY3RlZFJvd3MoKTtyZXR1cm4gdm9pZCBlLmluZGVudFJvd3Mobi5maXJzdCxuLmxhc3QsIgkiKX1pZih0LnN0YXJ0LmNvbHVtbjx0LmVuZC5jb2x1bW4pe3ZhciByPWUuZ2V0VGV4dFJhbmdlKHQpO2lmKCEvXlxzKyQvLnRlc3Qocikpe3ZhciBuPXRoaXMuJGdldFNlbGVjdGVkUm93cygpO3JldHVybiB2b2lkIGUuaW5kZW50Um93cyhuLmZpcnN0LG4ubGFzdCwiCSIpfX12YXIgaT1lLmdldExpbmUodC5zdGFydC5yb3cpLG89dC5zdGFydCx1PWUuZ2V0VGFiU2l6ZSgpLGE9ZS5kb2N1bWVudFRvU2NyZWVuQ29sdW1uKG8ucm93LG8uY29sdW1uKTtpZih0aGlzLnNlc3Npb24uZ2V0VXNlU29mdFRhYnMoKSl2YXIgZj11LWEldSxsPXMuc3RyaW5nUmVwZWF0KCIgIixmKTtlbHNle2Zvcih2YXIgZj1hJXU7IiAiPT1pW3Quc3RhcnQuY29sdW1uXSYmZjspdC5zdGFydC5jb2x1bW4tLSxmLS07dGhpcy5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uUmFuZ2UodCksbD0iCSJ9cmV0dXJuIHRoaXMuaW5zZXJ0KGwpfSx0aGlzLmJsb2NrSW5kZW50PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy4kZ2V0U2VsZWN0ZWRSb3dzKCk7dGhpcy5zZXNzaW9uLmluZGVudFJvd3MoZS5maXJzdCxlLmxhc3QsIgkiKX0sdGhpcy5ibG9ja091dGRlbnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNlc3Npb24uZ2V0U2VsZWN0aW9uKCk7dGhpcy5zZXNzaW9uLm91dGRlbnRSb3dzKGUuZ2V0UmFuZ2UoKSl9LHRoaXMuc29ydExpbmVzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy4kZ2V0U2VsZWN0ZWRSb3dzKCksdD10aGlzLnNlc3Npb24sbj1bXTtmb3IoaT1lLmZpcnN0O2k8PWUubGFzdDtpKyspbi5wdXNoKHQuZ2V0TGluZShpKSk7bi5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudG9Mb3dlckNhc2UoKTx0LnRvTG93ZXJDYXNlKCk/LTE6ZS50b0xvd2VyQ2FzZSgpPnQudG9Mb3dlckNhc2UoKT8xOjB9KTtmb3IodmFyIHI9bmV3IHAoMCwwLDAsMCksaT1lLmZpcnN0O2k8PWUubGFzdDtpKyspe3ZhciBzPXQuZ2V0TGluZShpKTtyLnN0YXJ0LnJvdz1pLHIuZW5kLnJvdz1pLHIuZW5kLmNvbHVtbj1zLmxlbmd0aCx0LnJlcGxhY2UocixuW2ktZS5maXJzdF0pfX0sdGhpcy50b2dnbGVDb21tZW50TGluZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNlc3Npb24uZ2V0U3RhdGUodGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpLnJvdyksdD10aGlzLiRnZXRTZWxlY3RlZFJvd3MoKTt0aGlzLnNlc3Npb24uZ2V0TW9kZSgpLnRvZ2dsZUNvbW1lbnRMaW5lcyhlLHRoaXMuc2Vzc2lvbix0LmZpcnN0LHQubGFzdCl9LHRoaXMudG9nZ2xlQmxvY2tDb21tZW50PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpLHQ9dGhpcy5zZXNzaW9uLmdldFN0YXRlKGUucm93KSxuPXRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKTt0aGlzLnNlc3Npb24uZ2V0TW9kZSgpLnRvZ2dsZUJsb2NrQ29tbWVudCh0LHRoaXMuc2Vzc2lvbixuLGUpfSx0aGlzLmdldE51bWJlckF0PWZ1bmN0aW9uKGUsdCl7dmFyIG49L1tcLV0/WzAtOV0rKD86XC5bMC05XSspPy9nO24ubGFzdEluZGV4PTA7Zm9yKHZhciByPXRoaXMuc2Vzc2lvbi5nZXRMaW5lKGUpO24ubGFzdEluZGV4PHQ7KXt2YXIgaT1uLmV4ZWMocik7aWYoaS5pbmRleDw9dCYmaS5pbmRleCtpWzBdLmxlbmd0aD49dCl7dmFyIHM9e3ZhbHVlOmlbMF0sc3RhcnQ6aS5pbmRleCxlbmQ6aS5pbmRleCtpWzBdLmxlbmd0aH07cmV0dXJuIHN9fXJldHVybiBudWxsfSx0aGlzLm1vZGlmeU51bWJlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnNlbGVjdGlvbi5nZXRDdXJzb3IoKS5yb3csbj10aGlzLnNlbGVjdGlvbi5nZXRDdXJzb3IoKS5jb2x1bW4scj1uZXcgcCh0LG4tMSx0LG4pLGk9dGhpcy5zZXNzaW9uLmdldFRleHRSYW5nZShyKTtpZighaXNOYU4ocGFyc2VGbG9hdChpKSkmJmlzRmluaXRlKGkpKXt2YXIgcz10aGlzLmdldE51bWJlckF0KHQsbik7aWYocyl7dmFyIG89cy52YWx1ZS5pbmRleE9mKCIuIik+PTA/cy5zdGFydCtzLnZhbHVlLmluZGV4T2YoIi4iKSsxOnMuZW5kLHU9cy5zdGFydCtzLnZhbHVlLmxlbmd0aC1vLGE9cGFyc2VGbG9hdChzLnZhbHVlKTthKj1NYXRoLnBvdygxMCx1KSxlKj1vIT09cy5lbmQmJm8+bj9NYXRoLnBvdygxMCxzLmVuZC1uLTEpOk1hdGgucG93KDEwLHMuZW5kLW4pLGErPWUsYS89TWF0aC5wb3coMTAsdSk7dmFyIGY9YS50b0ZpeGVkKHUpLGw9bmV3IHAodCxzLnN0YXJ0LHQscy5lbmQpO3RoaXMuc2Vzc2lvbi5yZXBsYWNlKGwsZiksdGhpcy5tb3ZlQ3Vyc29yVG8odCxNYXRoLm1heChzLnN0YXJ0KzEsbitmLmxlbmd0aC1zLnZhbHVlLmxlbmd0aCkpfX19LHRoaXMucmVtb3ZlTGluZXM9ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuJGdldFNlbGVjdGVkUm93cygpO3Q9MD09PWUuZmlyc3R8fGUubGFzdCsxPHRoaXMuc2Vzc2lvbi5nZXRMZW5ndGgoKT9uZXcgcChlLmZpcnN0LDAsZS5sYXN0KzEsMCk6bmV3IHAoZS5maXJzdC0xLHRoaXMuc2Vzc2lvbi5nZXRMaW5lKGUuZmlyc3QtMSkubGVuZ3RoLGUubGFzdCx0aGlzLnNlc3Npb24uZ2V0TGluZShlLmxhc3QpLmxlbmd0aCksdGhpcy5zZXNzaW9uLnJlbW92ZSh0KSx0aGlzLmNsZWFyU2VsZWN0aW9uKCl9LHRoaXMuZHVwbGljYXRlU2VsZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZWxlY3Rpb24sdD10aGlzLnNlc3Npb24sbj1lLmdldFJhbmdlKCkscj1lLmlzQmFja3dhcmRzKCk7aWYobi5pc0VtcHR5KCkpe3ZhciBpPW4uc3RhcnQucm93O3QuZHVwbGljYXRlTGluZXMoaSxpKX1lbHNle3ZhciBzPXI/bi5zdGFydDpuLmVuZCxvPXQuaW5zZXJ0KHMsdC5nZXRUZXh0UmFuZ2UobiksITEpO24uc3RhcnQ9cyxuLmVuZD1vLGUuc2V0U2VsZWN0aW9uUmFuZ2UobixyKX19LHRoaXMubW92ZUxpbmVzRG93bj1mdW5jdGlvbigpe3RoaXMuJG1vdmVMaW5lcyhmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnNlc3Npb24ubW92ZUxpbmVzRG93bihlLHQpfSl9LHRoaXMubW92ZUxpbmVzVXA9ZnVuY3Rpb24oKXt0aGlzLiRtb3ZlTGluZXMoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zZXNzaW9uLm1vdmVMaW5lc1VwKGUsdCl9KX0sdGhpcy5tb3ZlVGV4dD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuc2Vzc2lvbi5tb3ZlVGV4dChlLHQsbil9LHRoaXMuY29weUxpbmVzVXA9ZnVuY3Rpb24oKXt0aGlzLiRtb3ZlTGluZXMoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zZXNzaW9uLmR1cGxpY2F0ZUxpbmVzKGUsdCksMH0pfSx0aGlzLmNvcHlMaW5lc0Rvd249ZnVuY3Rpb24oKXt0aGlzLiRtb3ZlTGluZXMoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zZXNzaW9uLmR1cGxpY2F0ZUxpbmVzKGUsdCl9KX0sdGhpcy4kbW92ZUxpbmVzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc2VsZWN0aW9uO2lmKCF0LmluTXVsdGlTZWxlY3RNb2RlfHx0aGlzLmluVmlydHVhbFNlbGVjdGlvbk1vZGUpe3ZhciBuPXQudG9PcmllbnRlZFJhbmdlKCkscj10aGlzLiRnZXRTZWxlY3RlZFJvd3MobiksaT1lLmNhbGwodGhpcyxyLmZpcnN0LHIubGFzdCk7bi5tb3ZlQnkoaSwwKSx0LmZyb21PcmllbnRlZFJhbmdlKG4pfWVsc2V7dmFyIHM9dC5yYW5nZUxpc3QucmFuZ2VzO3QucmFuZ2VMaXN0LmRldGFjaCh0aGlzLnNlc3Npb24pO2Zvcih2YXIgbz1zLmxlbmd0aDtvLS07KXtmb3IodmFyIHU9byxyPXNbb10uY29sbGFwc2VSb3dzKCksYT1yLmVuZC5yb3csZj1yLnN0YXJ0LnJvdztvLS0mJihyPXNbb10uY29sbGFwc2VSb3dzKCksZi1yLmVuZC5yb3c8PTEpOylmPXIuZW5kLnJvdztvKys7Zm9yKHZhciBpPWUuY2FsbCh0aGlzLGYsYSk7dT49bzspc1t1XS5tb3ZlQnkoaSwwKSx1LS19dC5mcm9tT3JpZW50ZWRSYW5nZSh0LnJhbmdlc1swXSksdC5yYW5nZUxpc3QuYXR0YWNoKHRoaXMuc2Vzc2lvbil9fSx0aGlzLiRnZXRTZWxlY3RlZFJvd3M9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFNlbGVjdGlvblJhbmdlKCkuY29sbGFwc2VSb3dzKCk7cmV0dXJue2ZpcnN0OnRoaXMuc2Vzc2lvbi5nZXRSb3dGb2xkU3RhcnQoZS5zdGFydC5yb3cpLGxhc3Q6dGhpcy5zZXNzaW9uLmdldFJvd0ZvbGRFbmQoZS5lbmQucm93KX19LHRoaXMub25Db21wb3NpdGlvblN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci5zaG93Q29tcG9zaXRpb24odGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpKX0sdGhpcy5vbkNvbXBvc2l0aW9uVXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMucmVuZGVyZXIuc2V0Q29tcG9zaXRpb25UZXh0KGUpfSx0aGlzLm9uQ29tcG9zaXRpb25FbmQ9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLmhpZGVDb21wb3NpdGlvbigpfSx0aGlzLmdldEZpcnN0VmlzaWJsZVJvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbmRlcmVyLmdldEZpcnN0VmlzaWJsZVJvdygpfSx0aGlzLmdldExhc3RWaXNpYmxlUm93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVuZGVyZXIuZ2V0TGFzdFZpc2libGVSb3coKX0sdGhpcy5pc1Jvd1Zpc2libGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+PXRoaXMuZ2V0Rmlyc3RWaXNpYmxlUm93KCkmJmU8PXRoaXMuZ2V0TGFzdFZpc2libGVSb3coKX0sdGhpcy5pc1Jvd0Z1bGx5VmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4gZT49dGhpcy5yZW5kZXJlci5nZXRGaXJzdEZ1bGx5VmlzaWJsZVJvdygpJiZlPD10aGlzLnJlbmRlcmVyLmdldExhc3RGdWxseVZpc2libGVSb3coKX0sdGhpcy4kZ2V0VmlzaWJsZVJvd0NvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVuZGVyZXIuZ2V0U2Nyb2xsQm90dG9tUm93KCktdGhpcy5yZW5kZXJlci5nZXRTY3JvbGxUb3BSb3coKSsxfSx0aGlzLiRtb3ZlQnlQYWdlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5yZW5kZXJlcixyPXRoaXMucmVuZGVyZXIubGF5ZXJDb25maWcsaT1lKk1hdGguZmxvb3Ioci5oZWlnaHQvci5saW5lSGVpZ2h0KTt0aGlzLiRibG9ja1Njcm9sbGluZysrLHQ9PT0hMD90aGlzLnNlbGVjdGlvbi4kbW92ZVNlbGVjdGlvbihmdW5jdGlvbigpe3RoaXMubW92ZUN1cnNvckJ5KGksMCl9KTp0PT09ITEmJih0aGlzLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yQnkoaSwwKSx0aGlzLnNlbGVjdGlvbi5jbGVhclNlbGVjdGlvbigpKSx0aGlzLiRibG9ja1Njcm9sbGluZy0tO3ZhciBzPW4uc2Nyb2xsVG9wO24uc2Nyb2xsQnkoMCxpKnIubGluZUhlaWdodCksbnVsbCE9dCYmbi5zY3JvbGxDdXJzb3JJbnRvVmlldyhudWxsLC41KSxuLmFuaW1hdGVTY3JvbGxpbmcocyl9LHRoaXMuc2VsZWN0UGFnZURvd249ZnVuY3Rpb24oKXt0aGlzLiRtb3ZlQnlQYWdlKDEsITApfSx0aGlzLnNlbGVjdFBhZ2VVcD1mdW5jdGlvbigpe3RoaXMuJG1vdmVCeVBhZ2UoLTEsITApfSx0aGlzLmdvdG9QYWdlRG93bj1mdW5jdGlvbigpe3RoaXMuJG1vdmVCeVBhZ2UoMSwhMSl9LHRoaXMuZ290b1BhZ2VVcD1mdW5jdGlvbigpe3RoaXMuJG1vdmVCeVBhZ2UoLTEsITEpfSx0aGlzLnNjcm9sbFBhZ2VEb3duPWZ1bmN0aW9uKCl7dGhpcy4kbW92ZUJ5UGFnZSgxKX0sdGhpcy5zY3JvbGxQYWdlVXA9ZnVuY3Rpb24oKXt0aGlzLiRtb3ZlQnlQYWdlKC0xKX0sdGhpcy5zY3JvbGxUb1Jvdz1mdW5jdGlvbihlKXt0aGlzLnJlbmRlcmVyLnNjcm9sbFRvUm93KGUpfSx0aGlzLnNjcm9sbFRvTGluZT1mdW5jdGlvbihlLHQsbixyKXt0aGlzLnJlbmRlcmVyLnNjcm9sbFRvTGluZShlLHQsbixyKX0sdGhpcy5jZW50ZXJTZWxlY3Rpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFNlbGVjdGlvblJhbmdlKCksdD17cm93Ok1hdGguZmxvb3IoZS5zdGFydC5yb3crKGUuZW5kLnJvdy1lLnN0YXJ0LnJvdykvMiksY29sdW1uOk1hdGguZmxvb3IoZS5zdGFydC5jb2x1bW4rKGUuZW5kLmNvbHVtbi1lLnN0YXJ0LmNvbHVtbikvMil9O3RoaXMucmVuZGVyZXIuYWxpZ25DdXJzb3IodCwuNSl9LHRoaXMuZ2V0Q3Vyc29yUG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3Rpb24uZ2V0Q3Vyc29yKCl9LHRoaXMuZ2V0Q3Vyc29yUG9zaXRpb25TY3JlZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLmdldEN1cnNvclBvc2l0aW9uKCkpfSx0aGlzLmdldFNlbGVjdGlvblJhbmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCl9LHRoaXMuc2VsZWN0QWxsPWZ1bmN0aW9uKCl7dGhpcy4kYmxvY2tTY3JvbGxpbmcrPTEsdGhpcy5zZWxlY3Rpb24uc2VsZWN0QWxsKCksdGhpcy4kYmxvY2tTY3JvbGxpbmctPTF9LHRoaXMuY2xlYXJTZWxlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGlvbi5jbGVhclNlbGVjdGlvbigpfSx0aGlzLm1vdmVDdXJzb3JUbz1mdW5jdGlvbihlLHQpe3RoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JUbyhlLHQpfSx0aGlzLm1vdmVDdXJzb3JUb1Bvc2l0aW9uPWZ1bmN0aW9uKGUpe3RoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JUb1Bvc2l0aW9uKGUpfSx0aGlzLmp1bXBUb01hdGNoaW5nPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0Q3Vyc29yUG9zaXRpb24oKSxuPXRoaXMuc2Vzc2lvbi5nZXRCcmFja2V0UmFuZ2UodCk7aWYoIW4pe2lmKG49dGhpcy5maW5kKHtuZWVkbGU6L1t7fSgpXFtcXV0vZyxwcmV2ZW50U2Nyb2xsOiEwLHN0YXJ0Ontyb3c6dC5yb3csY29sdW1uOnQuY29sdW1uLTF9fSksIW4pcmV0dXJuO3ZhciByPW4uc3RhcnQ7ci5yb3c9PXQucm93JiZNYXRoLmFicyhyLmNvbHVtbi10LmNvbHVtbik8MiYmKG49dGhpcy5zZXNzaW9uLmdldEJyYWNrZXRSYW5nZShyKSl9cj1uJiZuLmN1cnNvcnx8cixyJiYoZT9uJiZuLmlzRXF1YWwodGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpKT90aGlzLmNsZWFyU2VsZWN0aW9uKCk6dGhpcy5zZWxlY3Rpb24uc2VsZWN0VG8oci5yb3csci5jb2x1bW4pOnRoaXMuc2VsZWN0aW9uLm1vdmVUbyhyLnJvdyxyLmNvbHVtbikpfSx0aGlzLmdvdG9MaW5lPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLnNlbGVjdGlvbi5jbGVhclNlbGVjdGlvbigpLHRoaXMuc2Vzc2lvbi51bmZvbGQoe3JvdzplLTEsY29sdW1uOnR8fDB9KSx0aGlzLiRibG9ja1Njcm9sbGluZys9MSx0aGlzLmV4aXRNdWx0aVNlbGVjdE1vZGUmJnRoaXMuZXhpdE11bHRpU2VsZWN0TW9kZSgpLHRoaXMubW92ZUN1cnNvclRvKGUtMSx0fHwwKSx0aGlzLiRibG9ja1Njcm9sbGluZy09MSx0aGlzLmlzUm93RnVsbHlWaXNpYmxlKGUtMSl8fHRoaXMuc2Nyb2xsVG9MaW5lKGUtMSwhMCxuKX0sdGhpcy5uYXZpZ2F0ZVRvPWZ1bmN0aW9uKGUsdCl7dGhpcy5zZWxlY3Rpb24ubW92ZVRvKGUsdCl9LHRoaXMubmF2aWdhdGVVcD1mdW5jdGlvbihlKXtpZih0aGlzLnNlbGVjdGlvbi5pc011bHRpTGluZSgpJiYhdGhpcy5zZWxlY3Rpb24uaXNCYWNrd2FyZHMoKSl7dmFyIHQ9dGhpcy5zZWxlY3Rpb24uYW5jaG9yLmdldFBvc2l0aW9uKCk7cmV0dXJuIHRoaXMubW92ZUN1cnNvclRvUG9zaXRpb24odCl9dGhpcy5zZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oKSx0aGlzLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yQnkoLWV8fC0xLDApfSx0aGlzLm5hdmlnYXRlRG93bj1mdW5jdGlvbihlKXtpZih0aGlzLnNlbGVjdGlvbi5pc011bHRpTGluZSgpJiZ0aGlzLnNlbGVjdGlvbi5pc0JhY2t3YXJkcygpKXt2YXIgdD10aGlzLnNlbGVjdGlvbi5hbmNob3IuZ2V0UG9zaXRpb24oKTtyZXR1cm4gdGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbih0KX10aGlzLnNlbGVjdGlvbi5jbGVhclNlbGVjdGlvbigpLHRoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JCeShlfHwxLDApfSx0aGlzLm5hdmlnYXRlTGVmdD1mdW5jdGlvbihlKXtpZih0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkpZm9yKGU9ZXx8MTtlLS07KXRoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JMZWZ0KCk7ZWxzZXt2YXIgdD10aGlzLmdldFNlbGVjdGlvblJhbmdlKCkuc3RhcnQ7dGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbih0KX10aGlzLmNsZWFyU2VsZWN0aW9uKCl9LHRoaXMubmF2aWdhdGVSaWdodD1mdW5jdGlvbihlKXtpZih0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkpZm9yKGU9ZXx8MTtlLS07KXRoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JSaWdodCgpO2Vsc2V7dmFyIHQ9dGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpLmVuZDt0aGlzLm1vdmVDdXJzb3JUb1Bvc2l0aW9uKHQpfXRoaXMuY2xlYXJTZWxlY3Rpb24oKX0sdGhpcy5uYXZpZ2F0ZUxpbmVTdGFydD1mdW5jdGlvbigpe3RoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JMaW5lU3RhcnQoKSx0aGlzLmNsZWFyU2VsZWN0aW9uKCl9LHRoaXMubmF2aWdhdGVMaW5lRW5kPWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvckxpbmVFbmQoKSx0aGlzLmNsZWFyU2VsZWN0aW9uKCl9LHRoaXMubmF2aWdhdGVGaWxlRW5kPWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvckZpbGVFbmQoKSx0aGlzLmNsZWFyU2VsZWN0aW9uKCl9LHRoaXMubmF2aWdhdGVGaWxlU3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yRmlsZVN0YXJ0KCksdGhpcy5jbGVhclNlbGVjdGlvbigpfSx0aGlzLm5hdmlnYXRlV29yZFJpZ2h0PWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvcldvcmRSaWdodCgpLHRoaXMuY2xlYXJTZWxlY3Rpb24oKX0sdGhpcy5uYXZpZ2F0ZVdvcmRMZWZ0PWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvcldvcmRMZWZ0KCksdGhpcy5jbGVhclNlbGVjdGlvbigpfSx0aGlzLnJlcGxhY2U9ZnVuY3Rpb24oZSx0KXt0JiZ0aGlzLiRzZWFyY2guc2V0KHQpO3ZhciBuPXRoaXMuJHNlYXJjaC5maW5kKHRoaXMuc2Vzc2lvbikscj0wO3JldHVybiBuPyh0aGlzLiR0cnlSZXBsYWNlKG4sZSkmJihyPTEpLG51bGwhPT1uJiYodGhpcy5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uUmFuZ2UobiksdGhpcy5yZW5kZXJlci5zY3JvbGxTZWxlY3Rpb25JbnRvVmlldyhuLnN0YXJ0LG4uZW5kKSkscik6cn0sdGhpcy5yZXBsYWNlQWxsPWZ1bmN0aW9uKGUsdCl7dCYmdGhpcy4kc2VhcmNoLnNldCh0KTt2YXIgbj10aGlzLiRzZWFyY2guZmluZEFsbCh0aGlzLnNlc3Npb24pLHI9MDtpZighbi5sZW5ndGgpcmV0dXJuIHI7dGhpcy4kYmxvY2tTY3JvbGxpbmcrPTE7dmFyIGk9dGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpO3RoaXMuc2VsZWN0aW9uLm1vdmVUbygwLDApO2Zvcih2YXIgcz1uLmxlbmd0aC0xO3M+PTA7LS1zKXRoaXMuJHRyeVJlcGxhY2UobltzXSxlKSYmcisrO3JldHVybiB0aGlzLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25SYW5nZShpKSx0aGlzLiRibG9ja1Njcm9sbGluZy09MSxyfSx0aGlzLiR0cnlSZXBsYWNlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5zZXNzaW9uLmdldFRleHRSYW5nZShlKTtyZXR1cm4gdD10aGlzLiRzZWFyY2gucmVwbGFjZShuLHQpLG51bGwhPT10PyhlLmVuZD10aGlzLnNlc3Npb24ucmVwbGFjZShlLHQpLGUpOm51bGx9LHRoaXMuZ2V0TGFzdFNlYXJjaE9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kc2VhcmNoLmdldE9wdGlvbnMoKX0sdGhpcy5maW5kPWZ1bmN0aW9uKGUsdCxuKXt0fHwodD17fSksInN0cmluZyI9PXR5cGVvZiBlfHxlIGluc3RhbmNlb2YgUmVnRXhwP3QubmVlZGxlPWU6Im9iamVjdCI9PXR5cGVvZiBlJiZyLm1peGluKHQsZSk7dmFyIGk9dGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtudWxsPT10Lm5lZWRsZSYmKGU9dGhpcy5zZXNzaW9uLmdldFRleHRSYW5nZShpKXx8dGhpcy4kc2VhcmNoLiRvcHRpb25zLm5lZWRsZSxlfHwoaT10aGlzLnNlc3Npb24uZ2V0V29yZFJhbmdlKGkuc3RhcnQucm93LGkuc3RhcnQuY29sdW1uKSxlPXRoaXMuc2Vzc2lvbi5nZXRUZXh0UmFuZ2UoaSkpLHRoaXMuJHNlYXJjaC5zZXQoe25lZWRsZTplfSkpLHRoaXMuJHNlYXJjaC5zZXQodCksdC5zdGFydHx8dGhpcy4kc2VhcmNoLnNldCh7c3RhcnQ6aX0pO3ZhciBzPXRoaXMuJHNlYXJjaC5maW5kKHRoaXMuc2Vzc2lvbik7cmV0dXJuIHQucHJldmVudFNjcm9sbD9zOnM/KHRoaXMucmV2ZWFsUmFuZ2UocyxuKSxzKToodC5iYWNrd2FyZHM/aS5zdGFydD1pLmVuZDppLmVuZD1pLnN0YXJ0LHZvaWQgdGhpcy5zZWxlY3Rpb24uc2V0UmFuZ2UoaSkpfSx0aGlzLmZpbmROZXh0PWZ1bmN0aW9uKGUsdCl7dGhpcy5maW5kKHtza2lwQ3VycmVudDohMCxiYWNrd2FyZHM6ITF9LGUsdCl9LHRoaXMuZmluZFByZXZpb3VzPWZ1bmN0aW9uKGUsdCl7dGhpcy5maW5kKGUse3NraXBDdXJyZW50OiEwLGJhY2t3YXJkczohMH0sdCl9LHRoaXMucmV2ZWFsUmFuZ2U9ZnVuY3Rpb24oZSx0KXt0aGlzLiRibG9ja1Njcm9sbGluZys9MSx0aGlzLnNlc3Npb24udW5mb2xkKGUpLHRoaXMuc2VsZWN0aW9uLnNldFNlbGVjdGlvblJhbmdlKGUpLHRoaXMuJGJsb2NrU2Nyb2xsaW5nLT0xO3ZhciBuPXRoaXMucmVuZGVyZXIuc2Nyb2xsVG9wO3RoaXMucmVuZGVyZXIuc2Nyb2xsU2VsZWN0aW9uSW50b1ZpZXcoZS5zdGFydCxlLmVuZCwuNSksdCE9PSExJiZ0aGlzLnJlbmRlcmVyLmFuaW1hdGVTY3JvbGxpbmcobil9LHRoaXMudW5kbz1mdW5jdGlvbigpe3RoaXMuJGJsb2NrU2Nyb2xsaW5nKyssdGhpcy5zZXNzaW9uLmdldFVuZG9NYW5hZ2VyKCkudW5kbygpLHRoaXMuJGJsb2NrU2Nyb2xsaW5nLS0sdGhpcy5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldyhudWxsLC41KX0sdGhpcy5yZWRvPWZ1bmN0aW9uKCl7dGhpcy4kYmxvY2tTY3JvbGxpbmcrKyx0aGlzLnNlc3Npb24uZ2V0VW5kb01hbmFnZXIoKS5yZWRvKCksdGhpcy4kYmxvY2tTY3JvbGxpbmctLSx0aGlzLnJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KG51bGwsLjUpfSx0aGlzLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLmRlc3Ryb3koKSx0aGlzLl9zaWduYWwoImRlc3Ryb3kiLHRoaXMpfSx0aGlzLnNldEF1dG9TY3JvbGxFZGl0b3JJbnRvVmlldz1mdW5jdGlvbihlKXtpZihlKXt2YXIgdCxuPXRoaXMscj0hMTt0aGlzLiRzY3JvbGxBbmNob3J8fCh0aGlzLiRzY3JvbGxBbmNob3I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikpO3ZhciBpPXRoaXMuJHNjcm9sbEFuY2hvcjtpLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlIix0aGlzLmNvbnRhaW5lci5pbnNlcnRCZWZvcmUoaSx0aGlzLmNvbnRhaW5lci5maXJzdENoaWxkKTt2YXIgcz10aGlzLm9uKCJjaGFuZ2VTZWxlY3Rpb24iLGZ1bmN0aW9uKCl7cj0hMH0pLG89dGhpcy5yZW5kZXJlci5vbigiYmVmb3JlUmVuZGVyIixmdW5jdGlvbigpe3ImJih0PW4ucmVuZGVyZXIuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKX0pLHU9dGhpcy5yZW5kZXJlci5vbigiYWZ0ZXJSZW5kZXIiLGZ1bmN0aW9uKCl7aWYociYmdCYmbi5pc0ZvY3VzZWQoKSl7dmFyIGU9bi5yZW5kZXJlcixzPWUuJGN1cnNvckxheWVyLiRwaXhlbFBvcyxvPWUubGF5ZXJDb25maWcsdT1zLnRvcC1vLm9mZnNldDtyPXMudG9wPj0wJiZ1K3QudG9wPDA/ITA6cy50b3A8by5oZWlnaHQmJnMudG9wK3QudG9wK28ubGluZUhlaWdodD53aW5kb3cuaW5uZXJIZWlnaHQ/ITE6bnVsbCxudWxsIT1yJiYoaS5zdHlsZS50b3A9dSsicHgiLGkuc3R5bGUubGVmdD1zLmxlZnQrInB4IixpLnN0eWxlLmhlaWdodD1vLmxpbmVIZWlnaHQrInB4IixpLnNjcm9sbEludG9WaWV3KHIpKSxyPXQ9bnVsbH19KTt0aGlzLnNldEF1dG9TY3JvbGxFZGl0b3JJbnRvVmlldz1mdW5jdGlvbihlKXtlfHwoZGVsZXRlIHRoaXMuc2V0QXV0b1Njcm9sbEVkaXRvckludG9WaWV3LHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2hhbmdlU2VsZWN0aW9uIixzKSx0aGlzLnJlbmRlcmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoImFmdGVyUmVuZGVyIix1KSx0aGlzLnJlbmRlcmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoImJlZm9yZVJlbmRlciIsbykpfX19LHRoaXMuJHJlc2V0Q3Vyc29yU3R5bGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLiRjdXJzb3JTdHlsZXx8ImFjZSIsdD10aGlzLnJlbmRlcmVyLiRjdXJzb3JMYXllcjt0JiYodC5zZXRTbW9vdGhCbGlua2luZygic21vb3RoIj09ZSksdC5pc0JsaW5raW5nPSF0aGlzLiRyZWFkT25seSYmIndpZGUiIT1lKX19KS5jYWxsKHkucHJvdG90eXBlKSxnLmRlZmluZU9wdGlvbnMoeS5wcm90b3R5cGUsImVkaXRvciIse3NlbGVjdGlvblN0eWxlOntzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5vblNlbGVjdGlvbkNoYW5nZSgpLHRoaXMuX3NpZ25hbCgiY2hhbmdlU2VsZWN0aW9uU3R5bGUiLHtkYXRhOmV9KX0saW5pdGlhbFZhbHVlOiJsaW5lIn0saGlnaGxpZ2h0QWN0aXZlTGluZTp7c2V0OmZ1bmN0aW9uKCl7dGhpcy4kdXBkYXRlSGlnaGxpZ2h0QWN0aXZlTGluZSgpfSxpbml0aWFsVmFsdWU6ITB9LGhpZ2hsaWdodFNlbGVjdGVkV29yZDp7c2V0OmZ1bmN0aW9uKCl7dGhpcy4kb25TZWxlY3Rpb25DaGFuZ2UoKX0saW5pdGlhbFZhbHVlOiEwfSxyZWFkT25seTp7c2V0OmZ1bmN0aW9uKGUpe3RoaXMudGV4dElucHV0LnNldFJlYWRPbmx5KGUpLHRoaXMuJHJlc2V0Q3Vyc29yU3R5bGUoKX0saW5pdGlhbFZhbHVlOiExfSxjdXJzb3JTdHlsZTp7c2V0OmZ1bmN0aW9uKCl7dGhpcy4kcmVzZXRDdXJzb3JTdHlsZSgpfSx2YWx1ZXM6WyJhY2UiLCJzbGltIiwic21vb3RoIiwid2lkZSJdLGluaXRpYWxWYWx1ZToiYWNlIn0sbWVyZ2VVbmRvRGVsdGFzOnt2YWx1ZXM6WyExLCEwLCJhbHdheXMiXSxpbml0aWFsVmFsdWU6ITB9LGJlaGF2aW91cnNFbmFibGVkOntpbml0aWFsVmFsdWU6ITB9LHdyYXBCZWhhdmlvdXJzRW5hYmxlZDp7aW5pdGlhbFZhbHVlOiEwfSxhdXRvU2Nyb2xsRWRpdG9ySW50b1ZpZXc6e3NldDpmdW5jdGlvbihlKXt0aGlzLnNldEF1dG9TY3JvbGxFZGl0b3JJbnRvVmlldyhlKX19LGhTY3JvbGxCYXJBbHdheXNWaXNpYmxlOiJyZW5kZXJlciIsdlNjcm9sbEJhckFsd2F5c1Zpc2libGU6InJlbmRlcmVyIixoaWdobGlnaHRHdXR0ZXJMaW5lOiJyZW5kZXJlciIsYW5pbWF0ZWRTY3JvbGw6InJlbmRlcmVyIixzaG93SW52aXNpYmxlczoicmVuZGVyZXIiLHNob3dQcmludE1hcmdpbjoicmVuZGVyZXIiLHByaW50TWFyZ2luQ29sdW1uOiJyZW5kZXJlciIscHJpbnRNYXJnaW46InJlbmRlcmVyIixmYWRlRm9sZFdpZGdldHM6InJlbmRlcmVyIixzaG93Rm9sZFdpZGdldHM6InJlbmRlcmVyIixzaG93TGluZU51bWJlcnM6InJlbmRlcmVyIixzaG93R3V0dGVyOiJyZW5kZXJlciIsZGlzcGxheUluZGVudEd1aWRlczoicmVuZGVyZXIiLGZvbnRTaXplOiJyZW5kZXJlciIsZm9udEZhbWlseToicmVuZGVyZXIiLG1heExpbmVzOiJyZW5kZXJlciIsbWluTGluZXM6InJlbmRlcmVyIixzY3JvbGxQYXN0RW5kOiJyZW5kZXJlciIsZml4ZWRXaWR0aEd1dHRlcjoicmVuZGVyZXIiLHRoZW1lOiJyZW5kZXJlciIsc2Nyb2xsU3BlZWQ6IiRtb3VzZUhhbmRsZXIiLGRyYWdEZWxheToiJG1vdXNlSGFuZGxlciIsZHJhZ0VuYWJsZWQ6IiRtb3VzZUhhbmRsZXIiLGZvY3VzVGltb3V0OiIkbW91c2VIYW5kbGVyIix0b29sdGlwRm9sbG93c01vdXNlOiIkbW91c2VIYW5kbGVyIixmaXJzdExpbmVOdW1iZXI6InNlc3Npb24iLG92ZXJ3cml0ZToic2Vzc2lvbiIsbmV3TGluZU1vZGU6InNlc3Npb24iLHVzZVdvcmtlcjoic2Vzc2lvbiIsdXNlU29mdFRhYnM6InNlc3Npb24iLHRhYlNpemU6InNlc3Npb24iLHdyYXA6InNlc3Npb24iLGZvbGRTdHlsZToic2Vzc2lvbiIsbW9kZToic2Vzc2lvbiJ9KSx0LkVkaXRvcj15fSksZGVmaW5lKCJhY2UvbW91c2UvbXVsdGlfc2VsZWN0X2hhbmRsZXIiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL2V2ZW50Il0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBpKGUsdCl7cmV0dXJuIGUucm93PT10LnJvdyYmZS5jb2x1bW49PXQuY29sdW1ufWZ1bmN0aW9uIHMoZSl7dmFyIHQ9ZS5kb21FdmVudCxuPXQuYWx0S2V5LHM9dC5zaGlmdEtleSxvPWUuZ2V0QWNjZWxLZXkoKSx1PWUuZ2V0QnV0dG9uKCk7aWYoZS5lZGl0b3IuaW5NdWx0aVNlbGVjdE1vZGUmJjI9PXUpcmV0dXJuIHZvaWQgZS5lZGl0b3IudGV4dElucHV0Lm9uQ29udGV4dE1lbnUoZS5kb21FdmVudCk7aWYoIW8mJiFuKXJldHVybiB2b2lkKDA9PT11JiZlLmVkaXRvci5pbk11bHRpU2VsZWN0TW9kZSYmZS5lZGl0b3IuZXhpdE11bHRpU2VsZWN0TW9kZSgpKTt2YXIgYT1lLmVkaXRvcixmPWEuc2VsZWN0aW9uLGw9YS5pbk11bHRpU2VsZWN0TW9kZSxjPWUuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLGg9Zi5nZXRDdXJzb3IoKSxwPWUuaW5TZWxlY3Rpb24oKXx8Zi5pc0VtcHR5KCkmJmkoYyxoKSxkPWUueCx2PWUueSxtPWZ1bmN0aW9uKGUpe2Q9ZS5jbGllbnRYLHY9ZS5jbGllbnRZfSxnPWZ1bmN0aW9uKCl7dmFyIGU9YS5yZW5kZXJlci5waXhlbFRvU2NyZWVuQ29vcmRpbmF0ZXMoZCx2KSx0PXkuc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uKGUucm93LGUuY29sdW1uKTtpKHcsZSkmJmkodCxmLnNlbGVjdGlvbkxlYWQpfHwodz1lLGEuc2VsZWN0aW9uLm1vdmVUb1Bvc2l0aW9uKHQpLGEucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcoKSxhLnJlbW92ZVNlbGVjdGlvbk1hcmtlcnMoeCkseD1mLnJlY3Rhbmd1bGFyUmFuZ2VCbG9jayh3LGIpLHguZm9yRWFjaChhLmFkZFNlbGVjdGlvbk1hcmtlcixhKSxhLnVwZGF0ZVNlbGVjdGlvbk1hcmtlcnMoKSl9LHk9YS5zZXNzaW9uLGI9YS5yZW5kZXJlci5waXhlbFRvU2NyZWVuQ29vcmRpbmF0ZXMoZCx2KSx3PWI7aWYoIW98fG58fHN8fDAhPT11KXtpZihuJiYwPT09dSl7ZS5zdG9wKCksbCYmIW8/Zi50b1NpbmdsZVJhbmdlKCk6IWwmJm8mJmYuYWRkUmFuZ2UoKTt2YXIgeD1bXTtzPyhiPXkuZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKGYubGVhZCksZygpKTpmLm1vdmVUb1Bvc2l0aW9uKGMpO3ZhciBUPWZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbChDKSxhLnJlbW92ZVNlbGVjdGlvbk1hcmtlcnMoeCk7Zm9yKHZhciB0PTA7dDx4Lmxlbmd0aDt0KyspZi5hZGRSYW5nZSh4W3RdKX0sTj1nO3IuY2FwdHVyZShhLmNvbnRhaW5lcixtLFQpO3ZhciBDPXNldEludGVydmFsKGZ1bmN0aW9uKCl7TigpfSwyMCk7cmV0dXJuIGUucHJldmVudERlZmF1bHQoKX19ZWxzZXtpZighbCYmcClyZXR1cm47aWYoIWwpe3ZhciBFPWYudG9PcmllbnRlZFJhbmdlKCk7YS5hZGRTZWxlY3Rpb25NYXJrZXIoRSl9dmFyIFM9Zi5yYW5nZUxpc3QucmFuZ2VBdFBvaW50KGMpO2EuJGJsb2NrU2Nyb2xsaW5nKyssYS5vbmNlKCJtb3VzZXVwIixmdW5jdGlvbigpe3ZhciBlPWYudG9PcmllbnRlZFJhbmdlKCk7UyYmZS5pc0VtcHR5KCkmJmkoUy5jdXJzb3IsZS5jdXJzb3IpP2Yuc3Vic3RyYWN0UG9pbnQoZS5jdXJzb3IpOihFJiYoYS5yZW1vdmVTZWxlY3Rpb25NYXJrZXIoRSksZi5hZGRSYW5nZShFKSksZi5hZGRSYW5nZShlKSksYS4kYmxvY2tTY3JvbGxpbmctLX0pfX12YXIgcj1lKCIuLi9saWIvZXZlbnQiKTt0Lm9uTW91c2VEb3duPXN9KSxkZWZpbmUoImFjZS9saWIvdXNlcmFnZW50IixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oZSx0KXtpZih0Lk9TPXtMSU5VWDoiTElOVVgiLE1BQzoiTUFDIixXSU5ET1dTOiJXSU5ET1dTIn0sdC5nZXRPUz1mdW5jdGlvbigpe3JldHVybiB0LmlzTWFjP3QuT1MuTUFDOnQuaXNMaW51eD90Lk9TLkxJTlVYOnQuT1MuV0lORE9XU30sIm9iamVjdCI9PXR5cGVvZiBuYXZpZ2F0b3Ipe3ZhciByPShuYXZpZ2F0b3IucGxhdGZvcm0ubWF0Y2goL21hY3x3aW58bGludXgvaSl8fFsib3RoZXIiXSlbMF0udG9Mb3dlckNhc2UoKSxpPW5hdmlnYXRvci51c2VyQWdlbnQ7dC5pc1dpbj0id2luIj09cix0LmlzTWFjPSJtYWMiPT1yLHQuaXNMaW51eD0ibGludXgiPT1yLHQuaXNJRT0oIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlciI9PW5hdmlnYXRvci5hcHBOYW1lfHxuYXZpZ2F0b3IuYXBwTmFtZS5pbmRleE9mKCJNU0FwcEhvc3QiKT49MCkmJnBhcnNlRmxvYXQobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvKD86VHJpZGVudFwvWzAtOV0rW1wuMC05XSs7Lipydjp8TVNJRSApKFswLTldK1tcLjAtOV0rKS8pWzFdKSx0LmlzT2xkSUU9dC5pc0lFJiZ0LmlzSUU8OSx0LmlzR2Vja289dC5pc01vemlsbGE9d2luZG93LmNvbnRyb2xsZXJzJiYiR2Vja28iPT09d2luZG93Lm5hdmlnYXRvci5wcm9kdWN0LHQuaXNPbGRHZWNrbz10LmlzR2Vja28mJnBhcnNlSW50KChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9ydlw6KFxkKykvKXx8W10pWzFdLDEwKTw0LHQuaXNPcGVyYT13aW5kb3cub3BlcmEmJiJbb2JqZWN0IE9wZXJhXSI9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3aW5kb3cub3BlcmEpLHQuaXNXZWJLaXQ9cGFyc2VGbG9hdChpLnNwbGl0KCJXZWJLaXQvIilbMV0pfHx2b2lkIDAsdC5pc0Nocm9tZT1wYXJzZUZsb2F0KGkuc3BsaXQoIiBDaHJvbWUvIilbMV0pfHx2b2lkIDAsdC5pc0FJUj1pLmluZGV4T2YoIkFkb2JlQUlSIik+PTAsdC5pc0lQYWQ9aS5pbmRleE9mKCJpUGFkIik+PTAsdC5pc1RvdWNoUGFkPWkuaW5kZXhPZigiVG91Y2hQYWQiKT49MH19KSxkZWZpbmUoImFjZS9jb21tYW5kcy9tdWx0aV9zZWxlY3RfY29tbWFuZHMiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2Uva2V5Ym9hcmQvaGFzaF9oYW5kbGVyIl0sZnVuY3Rpb24oZSx0KXt0LmRlZmF1bHRDb21tYW5kcz1be25hbWU6ImFkZEN1cnNvckFib3ZlIixleGVjOmZ1bmN0aW9uKGUpe2Uuc2VsZWN0TW9yZUxpbmVzKC0xKX0sYmluZEtleTp7d2luOiJDdHJsLUFsdC1VcCIsbWFjOiJDdHJsLUFsdC1VcCJ9LHJlYWRvbmx5OiEwfSx7bmFtZToiYWRkQ3Vyc29yQmVsb3ciLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zZWxlY3RNb3JlTGluZXMoMSl9LGJpbmRLZXk6e3dpbjoiQ3RybC1BbHQtRG93biIsbWFjOiJDdHJsLUFsdC1Eb3duIn0scmVhZG9ubHk6ITB9LHtuYW1lOiJhZGRDdXJzb3JBYm92ZVNraXBDdXJyZW50IixleGVjOmZ1bmN0aW9uKGUpe2Uuc2VsZWN0TW9yZUxpbmVzKC0xLCEwKX0sYmluZEtleTp7d2luOiJDdHJsLUFsdC1TaGlmdC1VcCIsbWFjOiJDdHJsLUFsdC1TaGlmdC1VcCJ9LHJlYWRvbmx5OiEwfSx7bmFtZToiYWRkQ3Vyc29yQmVsb3dTa2lwQ3VycmVudCIsZXhlYzpmdW5jdGlvbihlKXtlLnNlbGVjdE1vcmVMaW5lcygxLCEwKX0sYmluZEtleTp7d2luOiJDdHJsLUFsdC1TaGlmdC1Eb3duIixtYWM6IkN0cmwtQWx0LVNoaWZ0LURvd24ifSxyZWFkb25seTohMH0se25hbWU6InNlbGVjdE1vcmVCZWZvcmUiLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zZWxlY3RNb3JlKC0xKX0sYmluZEtleTp7d2luOiJDdHJsLUFsdC1MZWZ0IixtYWM6IkN0cmwtQWx0LUxlZnQifSxyZWFkb25seTohMH0se25hbWU6InNlbGVjdE1vcmVBZnRlciIsZXhlYzpmdW5jdGlvbihlKXtlLnNlbGVjdE1vcmUoMSl9LGJpbmRLZXk6e3dpbjoiQ3RybC1BbHQtUmlnaHQiLG1hYzoiQ3RybC1BbHQtUmlnaHQifSxyZWFkb25seTohMH0se25hbWU6InNlbGVjdE5leHRCZWZvcmUiLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zZWxlY3RNb3JlKC0xLCEwKX0sYmluZEtleTp7d2luOiJDdHJsLUFsdC1TaGlmdC1MZWZ0IixtYWM6IkN0cmwtQWx0LVNoaWZ0LUxlZnQifSxyZWFkb25seTohMH0se25hbWU6InNlbGVjdE5leHRBZnRlciIsZXhlYzpmdW5jdGlvbihlKXtlLnNlbGVjdE1vcmUoMSwhMCl9LGJpbmRLZXk6e3dpbjoiQ3RybC1BbHQtU2hpZnQtUmlnaHQiLG1hYzoiQ3RybC1BbHQtU2hpZnQtUmlnaHQifSxyZWFkb25seTohMH0se25hbWU6InNwbGl0SW50b0xpbmVzIixleGVjOmZ1bmN0aW9uKGUpe2UubXVsdGlTZWxlY3Quc3BsaXRJbnRvTGluZXMoKX0sYmluZEtleTp7d2luOiJDdHJsLUFsdC1MIixtYWM6IkN0cmwtQWx0LUwifSxyZWFkb25seTohMH0se25hbWU6ImFsaWduQ3Vyc29ycyIsZXhlYzpmdW5jdGlvbihlKXtlLmFsaWduQ3Vyc29ycygpfSxiaW5kS2V5Ont3aW46IkN0cmwtQWx0LUEiLG1hYzoiQ3RybC1BbHQtQSJ9fV0sdC5tdWx0aVNlbGVjdENvbW1hbmRzPVt7bmFtZToic2luZ2xlU2VsZWN0aW9uIixiaW5kS2V5OiJlc2MiLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5leGl0TXVsdGlTZWxlY3RNb2RlKCl9LHJlYWRvbmx5OiEwLGlzQXZhaWxhYmxlOmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmluTXVsdGlTZWxlY3RNb2RlfX1dO3ZhciByPWUoIi4uL2tleWJvYXJkL2hhc2hfaGFuZGxlciIpLkhhc2hIYW5kbGVyO3Qua2V5Ym9hcmRIYW5kbGVyPW5ldyByKHQubXVsdGlTZWxlY3RDb21tYW5kcyl9KSxkZWZpbmUoImFjZS9saWIvb29wIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oZSx0KXt0LmluaGVyaXRzPWZ1bmN0aW9uKGUsdCl7ZS5zdXBlcl89dCxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KX0sdC5taXhpbj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KWVbbl09dFtuXTtyZXR1cm4gZX0sdC5pbXBsZW1lbnQ9ZnVuY3Rpb24oZSxuKXt0Lm1peGluKGUsbil9fSksZGVmaW5lKCJhY2Uvd29ya2VyL3dvcmtlcl9jbGllbnQiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL29vcCIsImFjZS9saWIvZXZlbnRfZW1pdHRlciIsImFjZS9jb25maWciXSxmdW5jdGlvbihlLHQpe3ZhciByPWUoIi4uL2xpYi9vb3AiKSxpPWUoIi4uL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyLHM9ZSgiLi4vY29uZmlnIiksbz1mdW5jdGlvbih0LG4scixpKXtpZih0aGlzLiRzZW5kRGVsdGFRdWV1ZT10aGlzLiRzZW5kRGVsdGFRdWV1ZS5iaW5kKHRoaXMpLHRoaXMuY2hhbmdlTGlzdGVuZXI9dGhpcy5jaGFuZ2VMaXN0ZW5lci5iaW5kKHRoaXMpLHRoaXMub25NZXNzYWdlPXRoaXMub25NZXNzYWdlLmJpbmQodGhpcyksZS5uYW1lVG9VcmwmJiFlLnRvVXJsJiYoZS50b1VybD1lLm5hbWVUb1VybCkscy5nZXQoInBhY2thZ2VkIil8fCFlLnRvVXJsKWk9aXx8cy5tb2R1bGVVcmwobiwid29ya2VyIik7ZWxzZXt2YXIgbz10aGlzLiRub3JtYWxpemVQYXRoO2k9aXx8byhlLnRvVXJsKCJhY2Uvd29ya2VyL3dvcmtlci5qcyIsbnVsbCwiXyIpKTt2YXIgdT17fTt0LmZvckVhY2goZnVuY3Rpb24odCl7dVt0XT1vKGUudG9VcmwodCxudWxsLCJfIikucmVwbGFjZSgvKFwuanMpPyhcPy4qKT8kLywiIikpfSl9dHJ5e3RoaXMuJHdvcmtlcj1uZXcgV29ya2VyKGkpfWNhdGNoKGEpe2lmKCEoYSBpbnN0YW5jZW9mIHdpbmRvdy5ET01FeGNlcHRpb24pKXRocm93IGE7dmFyIGY9dGhpcy4kd29ya2VyQmxvYihpKSxsPXdpbmRvdy5VUkx8fHdpbmRvdy53ZWJraXRVUkwsYz1sLmNyZWF0ZU9iamVjdFVSTChmKTt0aGlzLiR3b3JrZXI9bmV3IFdvcmtlcihjKSxsLnJldm9rZU9iamVjdFVSTChjKX10aGlzLiR3b3JrZXIucG9zdE1lc3NhZ2Uoe2luaXQ6ITAsdGxuczp1LG1vZHVsZTpuLGNsYXNzbmFtZTpyfSksdGhpcy5jYWxsYmFja0lkPTEsdGhpcy5jYWxsYmFja3M9e30sdGhpcy4kd29ya2VyLm9ubWVzc2FnZT10aGlzLm9uTWVzc2FnZX07KGZ1bmN0aW9uKCl7ci5pbXBsZW1lbnQodGhpcyxpKSx0aGlzLm9uTWVzc2FnZT1mdW5jdGlvbihlKXt2YXIgdD1lLmRhdGE7c3dpdGNoKHQudHlwZSl7Y2FzZSJsb2ciOndpbmRvdy5jb25zb2xlJiZjb25zb2xlLmxvZyYmY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSx0LmRhdGEpO2JyZWFrO2Nhc2UiZXZlbnQiOnRoaXMuX3NpZ25hbCh0Lm5hbWUse2RhdGE6dC5kYXRhfSk7YnJlYWs7Y2FzZSJjYWxsIjp2YXIgbj10aGlzLmNhbGxiYWNrc1t0LmlkXTtuJiYobih0LmRhdGEpLGRlbGV0ZSB0aGlzLmNhbGxiYWNrc1t0LmlkXSl9fSx0aGlzLiRub3JtYWxpemVQYXRoPWZ1bmN0aW9uKGUpe3JldHVybiBsb2NhdGlvbi5ob3N0PyhlPWUucmVwbGFjZSgvXlthLXpdKzpcL1wvW15cL10rLywiIiksZT1sb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrKCIvIj09ZS5jaGFyQXQoMCk/IiI6bG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXC9bXlwvXSokLywiIikpKyIvIitlLnJlcGxhY2UoL15bXC9dKy8sIiIpKTplfSx0aGlzLnRlcm1pbmF0ZT1mdW5jdGlvbigpe3RoaXMuX3NpZ25hbCgidGVybWluYXRlIix7fSksdGhpcy5kZWx0YVF1ZXVlPW51bGwsdGhpcy4kd29ya2VyLnRlcm1pbmF0ZSgpLHRoaXMuJHdvcmtlcj1udWxsLHRoaXMuJGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCJjaGFuZ2UiLHRoaXMuY2hhbmdlTGlzdGVuZXIpLHRoaXMuJGRvYz1udWxsfSx0aGlzLnNlbmQ9ZnVuY3Rpb24oZSx0KXt0aGlzLiR3b3JrZXIucG9zdE1lc3NhZ2Uoe2NvbW1hbmQ6ZSxhcmdzOnR9KX0sdGhpcy5jYWxsPWZ1bmN0aW9uKGUsdCxuKXtpZihuKXt2YXIgcj10aGlzLmNhbGxiYWNrSWQrKzt0aGlzLmNhbGxiYWNrc1tyXT1uLHQucHVzaChyKX10aGlzLnNlbmQoZSx0KX0sdGhpcy5lbWl0PWZ1bmN0aW9uKGUsdCl7dHJ5e3RoaXMuJHdvcmtlci5wb3N0TWVzc2FnZSh7ZXZlbnQ6ZSxkYXRhOntkYXRhOnQuZGF0YX19KX1jYXRjaChuKXt9fSx0aGlzLmF0dGFjaFRvRG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dGhpcy4kZG9jJiZ0aGlzLnRlcm1pbmF0ZSgpLHRoaXMuJGRvYz1lLHRoaXMuY2FsbCgic2V0VmFsdWUiLFtlLmdldFZhbHVlKCldKSxlLm9uKCJjaGFuZ2UiLHRoaXMuY2hhbmdlTGlzdGVuZXIpfSx0aGlzLmNoYW5nZUxpc3RlbmVyPWZ1bmN0aW9uKGUpe3RoaXMuZGVsdGFRdWV1ZT90aGlzLmRlbHRhUXVldWUucHVzaChlLmRhdGEpOih0aGlzLmRlbHRhUXVldWU9W2UuZGF0YV0sc2V0VGltZW91dCh0aGlzLiRzZW5kRGVsdGFRdWV1ZSwwKSl9LHRoaXMuJHNlbmREZWx0YVF1ZXVlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kZWx0YVF1ZXVlO2UmJih0aGlzLmRlbHRhUXVldWU9bnVsbCxlLmxlbmd0aD4yMCYmZS5sZW5ndGg+dGhpcy4kZG9jLmdldExlbmd0aCgpPj4xP3RoaXMuY2FsbCgic2V0VmFsdWUiLFt0aGlzLiRkb2MuZ2V0VmFsdWUoKV0pOnRoaXMuZW1pdCgiY2hhbmdlIix7ZGF0YTplfSkpfSx0aGlzLiR3b3JrZXJCbG9iPWZ1bmN0aW9uKGUpe3ZhciB0PSJpbXBvcnRTY3JpcHRzKCciK2UrIicpOyI7dHJ5e3JldHVybiBuZXcgQmxvYihbdF0se3R5cGU6ImFwcGxpY2F0aW9uL2phdmFzY3JpcHQifSl9Y2F0Y2gobil7dmFyIHI9d2luZG93LkJsb2JCdWlsZGVyfHx3aW5kb3cuV2ViS2l0QmxvYkJ1aWxkZXJ8fHdpbmRvdy5Nb3pCbG9iQnVpbGRlcixpPW5ldyByO3JldHVybiBpLmFwcGVuZCh0KSxpLmdldEJsb2IoImFwcGxpY2F0aW9uL2phdmFzY3JpcHQiKX19fSkuY2FsbChvLnByb3RvdHlwZSk7dmFyIHU9ZnVuY3Rpb24oZSx0LG4pe3RoaXMuJHNlbmREZWx0YVF1ZXVlPXRoaXMuJHNlbmREZWx0YVF1ZXVlLmJpbmQodGhpcyksdGhpcy5jaGFuZ2VMaXN0ZW5lcj10aGlzLmNoYW5nZUxpc3RlbmVyLmJpbmQodGhpcyksdGhpcy5jYWxsYmFja0lkPTEsdGhpcy5jYWxsYmFja3M9e30sdGhpcy5tZXNzYWdlQnVmZmVyPVtdO3ZhciByPW51bGwsbz0hMSx1PU9iamVjdC5jcmVhdGUoaSksYT10aGlzO3RoaXMuJHdvcmtlcj17fSx0aGlzLiR3b3JrZXIudGVybWluYXRlPWZ1bmN0aW9uKCl7fSx0aGlzLiR3b3JrZXIucG9zdE1lc3NhZ2U9ZnVuY3Rpb24oZSl7YS5tZXNzYWdlQnVmZmVyLnB1c2goZSksciYmKG8/c2V0VGltZW91dChmKTpmKCkpfSx0aGlzLnNldEVtaXRTeW5jPWZ1bmN0aW9uKGUpe289ZX07dmFyIGY9ZnVuY3Rpb24oKXt2YXIgZT1hLm1lc3NhZ2VCdWZmZXIuc2hpZnQoKTtlLmNvbW1hbmQ/cltlLmNvbW1hbmRdLmFwcGx5KHIsZS5hcmdzKTplLmV2ZW50JiZ1Ll9zaWduYWwoZS5ldmVudCxlLmRhdGEpfTt1LnBvc3RNZXNzYWdlPWZ1bmN0aW9uKGUpe2Eub25NZXNzYWdlKHtkYXRhOmV9KX0sdS5jYWxsYmFjaz1mdW5jdGlvbihlLHQpe3RoaXMucG9zdE1lc3NhZ2Uoe3R5cGU6ImNhbGwiLGlkOnQsZGF0YTplfSl9LHUuZW1pdD1mdW5jdGlvbihlLHQpe3RoaXMucG9zdE1lc3NhZ2Uoe3R5cGU6ImV2ZW50IixuYW1lOmUsZGF0YTp0fSl9LHMubG9hZE1vZHVsZShbIndvcmtlciIsdF0sZnVuY3Rpb24oZSl7Zm9yKHI9bmV3IGVbbl0odSk7YS5tZXNzYWdlQnVmZmVyLmxlbmd0aDspZigpfSl9O3UucHJvdG90eXBlPW8ucHJvdG90eXBlLHQuVUlXb3JrZXJDbGllbnQ9dSx0LldvcmtlckNsaWVudD1vfSksZGVmaW5lKCJhY2UvbGliL2tleXMiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL29vcCJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSgiLi9vb3AiKSxpPWZ1bmN0aW9uKCl7dmFyIHQsbixlPXtNT0RJRklFUl9LRVlTOnsxNjoiU2hpZnQiLDE3OiJDdHJsIiwxODoiQWx0IiwyMjQ6Ik1ldGEifSxLRVlfTU9EUzp7Y3RybDoxLGFsdDoyLG9wdGlvbjoyLHNoaWZ0OjQsInN1cGVyIjo4LG1ldGE6OCxjb21tYW5kOjgsY21kOjh9LEZVTkNUSU9OX0tFWVM6ezg6IkJhY2tzcGFjZSIsOToiVGFiIiwxMzoiUmV0dXJuIiwxOToiUGF1c2UiLDI3OiJFc2MiLDMyOiJTcGFjZSIsMzM6IlBhZ2VVcCIsMzQ6IlBhZ2VEb3duIiwzNToiRW5kIiwzNjoiSG9tZSIsMzc6IkxlZnQiLDM4OiJVcCIsMzk6IlJpZ2h0Iiw0MDoiRG93biIsNDQ6IlByaW50Iiw0NToiSW5zZXJ0Iiw0NjoiRGVsZXRlIiw5NjoiTnVtcGFkMCIsOTc6Ik51bXBhZDEiLDk4OiJOdW1wYWQyIiw5OToiTnVtcGFkMyIsMTAwOiJOdW1wYWQ0IiwxMDE6Ik51bXBhZDUiLDEwMjoiTnVtcGFkNiIsMTAzOiJOdW1wYWQ3IiwxMDQ6Ik51bXBhZDgiLDEwNToiTnVtcGFkOSIsIi0xMyI6Ik51bXBhZEVudGVyIiwxMTI6IkYxIiwxMTM6IkYyIiwxMTQ6IkYzIiwxMTU6IkY0IiwxMTY6IkY1IiwxMTc6IkY2IiwxMTg6IkY3IiwxMTk6IkY4IiwxMjA6IkY5IiwxMjE6IkYxMCIsMTIyOiJGMTEiLDEyMzoiRjEyIiwxNDQ6Ik51bWxvY2siLDE0NToiU2Nyb2xsbG9jayJ9LFBSSU5UQUJMRV9LRVlTOnszMjoiICIsNDg6IjAiLDQ5OiIxIiw1MDoiMiIsNTE6IjMiLDUyOiI0Iiw1MzoiNSIsNTQ6IjYiLDU1OiI3Iiw1NjoiOCIsNTc6IjkiLDU5OiI7Iiw2MToiPSIsNjU6ImEiLDY2OiJiIiw2NzoiYyIsNjg6ImQiLDY5OiJlIiw3MDoiZiIsNzE6ImciLDcyOiJoIiw3MzoiaSIsNzQ6ImoiLDc1OiJrIiw3NjoibCIsNzc6Im0iLDc4OiJuIiw3OToibyIsODA6InAiLDgxOiJxIiw4MjoiciIsODM6InMiLDg0OiJ0Iiw4NToidSIsODY6InYiLDg3OiJ3Iiw4ODoieCIsODk6InkiLDkwOiJ6IiwxMDc6IisiLDEwOToiLSIsMTEwOiIuIiwxODg6IiwiLDE5MDoiLiIsMTkxOiIvIiwxOTI6ImAiLDIxOToiWyIsMjIwOiJcXCIsMjIxOiJdIiwyMjI6IicifX07Zm9yKG4gaW4gZS5GVU5DVElPTl9LRVlTKXQ9ZS5GVU5DVElPTl9LRVlTW25dLnRvTG93ZXJDYXNlKCksZVt0XT1wYXJzZUludChuLDEwKTtmb3IobiBpbiBlLlBSSU5UQUJMRV9LRVlTKXQ9ZS5QUklOVEFCTEVfS0VZU1tuXS50b0xvd2VyQ2FzZSgpLGVbdF09cGFyc2VJbnQobiwxMCk7cmV0dXJuIHIubWl4aW4oZSxlLk1PRElGSUVSX0tFWVMpLHIubWl4aW4oZSxlLlBSSU5UQUJMRV9LRVlTKSxyLm1peGluKGUsZS5GVU5DVElPTl9LRVlTKSxlLmVudGVyPWVbInJldHVybiJdLGUuZXNjYXBlPWUuZXNjLGUuZGVsPWVbImRlbGV0ZSJdLGVbMTczXT0iLSIsZnVuY3Rpb24oKXtmb3IodmFyIHQ9WyJjbWQiLCJjdHJsIiwiYWx0Iiwic2hpZnQiXSxuPU1hdGgucG93KDIsdC5sZW5ndGgpO24tLTspZS5LRVlfTU9EU1tuXT10LmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gbiZlLktFWV9NT0RTW3RdfSkuam9pbigiLSIpKyItIn0oKSxlfSgpO3IubWl4aW4odCxpKSx0LmtleUNvZGVUb1N0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4oaVtlXXx8U3RyaW5nLmZyb21DaGFyQ29kZShlKSkudG9Mb3dlckNhc2UoKX19KSxkZWZpbmUoImFjZS9wbGFjZWhvbGRlciIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9yYW5nZSIsImFjZS9saWIvZXZlbnRfZW1pdHRlciIsImFjZS9saWIvb29wIl0sZnVuY3Rpb24oZSx0KXt2YXIgcj1lKCIuL3JhbmdlIikuUmFuZ2UsaT1lKCIuL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyLHM9ZSgiLi9saWIvb29wIiksbz1mdW5jdGlvbihlLHQsbixyLGkscyl7dmFyIG89dGhpczt0aGlzLmxlbmd0aD10LHRoaXMuc2Vzc2lvbj1lLHRoaXMuZG9jPWUuZ2V0RG9jdW1lbnQoKSx0aGlzLm1haW5DbGFzcz1pLHRoaXMub3RoZXJzQ2xhc3M9cyx0aGlzLiRvblVwZGF0ZT10aGlzLm9uVXBkYXRlLmJpbmQodGhpcyksdGhpcy5kb2Mub24oImNoYW5nZSIsdGhpcy4kb25VcGRhdGUpLHRoaXMuJG90aGVycz1yLHRoaXMuJG9uQ3Vyc29yQ2hhbmdlPWZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe28ub25DdXJzb3JDaGFuZ2UoKX0pfSx0aGlzLiRwb3M9bjt2YXIgdT1lLmdldFVuZG9NYW5hZ2VyKCkuJHVuZG9TdGFja3x8ZS5nZXRVbmRvTWFuYWdlcigpLiR1bmRvc3RhY2t8fHtsZW5ndGg6LTF9O3RoaXMuJHVuZG9TdGFja0RlcHRoPXUubGVuZ3RoLHRoaXMuc2V0dXAoKSxlLnNlbGVjdGlvbi5vbigiY2hhbmdlQ3Vyc29yIix0aGlzLiRvbkN1cnNvckNoYW5nZSkKfTsoZnVuY3Rpb24oKXtzLmltcGxlbWVudCh0aGlzLGkpLHRoaXMuc2V0dXA9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5kb2Msbj10aGlzLnNlc3Npb24saT10aGlzLiRwb3M7dGhpcy5wb3M9dC5jcmVhdGVBbmNob3IoaS5yb3csaS5jb2x1bW4pLHRoaXMubWFya2VySWQ9bi5hZGRNYXJrZXIobmV3IHIoaS5yb3csaS5jb2x1bW4saS5yb3csaS5jb2x1bW4rdGhpcy5sZW5ndGgpLHRoaXMubWFpbkNsYXNzLG51bGwsITEpLHRoaXMucG9zLm9uKCJjaGFuZ2UiLGZ1bmN0aW9uKHQpe24ucmVtb3ZlTWFya2VyKGUubWFya2VySWQpLGUubWFya2VySWQ9bi5hZGRNYXJrZXIobmV3IHIodC52YWx1ZS5yb3csdC52YWx1ZS5jb2x1bW4sdC52YWx1ZS5yb3csdC52YWx1ZS5jb2x1bW4rZS5sZW5ndGgpLGUubWFpbkNsYXNzLG51bGwsITEpfSksdGhpcy5vdGhlcnM9W10sdGhpcy4kb3RoZXJzLmZvckVhY2goZnVuY3Rpb24obil7dmFyIHI9dC5jcmVhdGVBbmNob3Iobi5yb3csbi5jb2x1bW4pO2Uub3RoZXJzLnB1c2gocil9KSxuLnNldFVuZG9TZWxlY3QoITEpfSx0aGlzLnNob3dPdGhlck1hcmtlcnM9ZnVuY3Rpb24oKXtpZighdGhpcy5vdGhlcnNBY3RpdmUpe3ZhciBlPXRoaXMuc2Vzc2lvbix0PXRoaXM7dGhpcy5vdGhlcnNBY3RpdmU9ITAsdGhpcy5vdGhlcnMuZm9yRWFjaChmdW5jdGlvbihuKXtuLm1hcmtlcklkPWUuYWRkTWFya2VyKG5ldyByKG4ucm93LG4uY29sdW1uLG4ucm93LG4uY29sdW1uK3QubGVuZ3RoKSx0Lm90aGVyc0NsYXNzLG51bGwsITEpLG4ub24oImNoYW5nZSIsZnVuY3Rpb24oaSl7ZS5yZW1vdmVNYXJrZXIobi5tYXJrZXJJZCksbi5tYXJrZXJJZD1lLmFkZE1hcmtlcihuZXcgcihpLnZhbHVlLnJvdyxpLnZhbHVlLmNvbHVtbixpLnZhbHVlLnJvdyxpLnZhbHVlLmNvbHVtbit0Lmxlbmd0aCksdC5vdGhlcnNDbGFzcyxudWxsLCExKX0pfSl9fSx0aGlzLmhpZGVPdGhlck1hcmtlcnM9ZnVuY3Rpb24oKXtpZih0aGlzLm90aGVyc0FjdGl2ZSl7dGhpcy5vdGhlcnNBY3RpdmU9ITE7Zm9yKHZhciBlPTA7ZTx0aGlzLm90aGVycy5sZW5ndGg7ZSsrKXRoaXMuc2Vzc2lvbi5yZW1vdmVNYXJrZXIodGhpcy5vdGhlcnNbZV0ubWFya2VySWQpfX0sdGhpcy5vblVwZGF0ZT1mdW5jdGlvbihlKXt2YXIgdD1lLmRhdGEsbj10LnJhbmdlO2lmKG4uc3RhcnQucm93PT09bi5lbmQucm93JiZuLnN0YXJ0LnJvdz09PXRoaXMucG9zLnJvdyYmIXRoaXMuJHVwZGF0aW5nKXt0aGlzLiR1cGRhdGluZz0hMDt2YXIgaT0iaW5zZXJ0VGV4dCI9PT10LmFjdGlvbj9uLmVuZC5jb2x1bW4tbi5zdGFydC5jb2x1bW46bi5zdGFydC5jb2x1bW4tbi5lbmQuY29sdW1uO2lmKG4uc3RhcnQuY29sdW1uPj10aGlzLnBvcy5jb2x1bW4mJm4uc3RhcnQuY29sdW1uPD10aGlzLnBvcy5jb2x1bW4rdGhpcy5sZW5ndGgrMSl7dmFyIHM9bi5zdGFydC5jb2x1bW4tdGhpcy5wb3MuY29sdW1uO2lmKHRoaXMubGVuZ3RoKz1pLCF0aGlzLnNlc3Npb24uJGZyb21VbmRvKXtpZigiaW5zZXJ0VGV4dCI9PT10LmFjdGlvbilmb3IodmFyIG89dGhpcy5vdGhlcnMubGVuZ3RoLTE7bz49MDtvLS0pe3ZhciB1PXRoaXMub3RoZXJzW29dLGE9e3Jvdzp1LnJvdyxjb2x1bW46dS5jb2x1bW4rc307dS5yb3c9PT1uLnN0YXJ0LnJvdyYmbi5zdGFydC5jb2x1bW48dS5jb2x1bW4mJihhLmNvbHVtbis9aSksdGhpcy5kb2MuaW5zZXJ0KGEsdC50ZXh0KX1lbHNlIGlmKCJyZW1vdmVUZXh0Ij09PXQuYWN0aW9uKWZvcih2YXIgbz10aGlzLm90aGVycy5sZW5ndGgtMTtvPj0wO28tLSl7dmFyIHU9dGhpcy5vdGhlcnNbb10sYT17cm93OnUucm93LGNvbHVtbjp1LmNvbHVtbitzfTt1LnJvdz09PW4uc3RhcnQucm93JiZuLnN0YXJ0LmNvbHVtbjx1LmNvbHVtbiYmKGEuY29sdW1uKz1pKSx0aGlzLmRvYy5yZW1vdmUobmV3IHIoYS5yb3csYS5jb2x1bW4sYS5yb3csYS5jb2x1bW4taSkpfW4uc3RhcnQuY29sdW1uPT09dGhpcy5wb3MuY29sdW1uJiYiaW5zZXJ0VGV4dCI9PT10LmFjdGlvbj9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5wb3Muc2V0UG9zaXRpb24odGhpcy5wb3Mucm93LHRoaXMucG9zLmNvbHVtbi1pKTtmb3IodmFyIGU9MDtlPHRoaXMub3RoZXJzLmxlbmd0aDtlKyspe3ZhciB0PXRoaXMub3RoZXJzW2VdLHI9e3Jvdzp0LnJvdyxjb2x1bW46dC5jb2x1bW4taX07dC5yb3c9PT1uLnN0YXJ0LnJvdyYmbi5zdGFydC5jb2x1bW48dC5jb2x1bW4mJihyLmNvbHVtbis9aSksdC5zZXRQb3NpdGlvbihyLnJvdyxyLmNvbHVtbil9fS5iaW5kKHRoaXMpLDApOm4uc3RhcnQuY29sdW1uPT09dGhpcy5wb3MuY29sdW1uJiYicmVtb3ZlVGV4dCI9PT10LmFjdGlvbiYmc2V0VGltZW91dChmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dGhpcy5vdGhlcnMubGVuZ3RoO2UrKyl7dmFyIHQ9dGhpcy5vdGhlcnNbZV07dC5yb3c9PT1uLnN0YXJ0LnJvdyYmbi5zdGFydC5jb2x1bW48dC5jb2x1bW4mJnQuc2V0UG9zaXRpb24odC5yb3csdC5jb2x1bW4taSl9fS5iaW5kKHRoaXMpLDApfXRoaXMucG9zLl9lbWl0KCJjaGFuZ2UiLHt2YWx1ZTp0aGlzLnBvc30pO2Zvcih2YXIgbz0wO288dGhpcy5vdGhlcnMubGVuZ3RoO28rKyl0aGlzLm90aGVyc1tvXS5fZW1pdCgiY2hhbmdlIix7dmFsdWU6dGhpcy5vdGhlcnNbb119KX10aGlzLiR1cGRhdGluZz0hMX19LHRoaXMub25DdXJzb3JDaGFuZ2U9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuJHVwZGF0aW5nKXt2YXIgdD10aGlzLnNlc3Npb24uc2VsZWN0aW9uLmdldEN1cnNvcigpO3Qucm93PT09dGhpcy5wb3Mucm93JiZ0LmNvbHVtbj49dGhpcy5wb3MuY29sdW1uJiZ0LmNvbHVtbjw9dGhpcy5wb3MuY29sdW1uK3RoaXMubGVuZ3RoPyh0aGlzLnNob3dPdGhlck1hcmtlcnMoKSx0aGlzLl9lbWl0KCJjdXJzb3JFbnRlciIsZSkpOih0aGlzLmhpZGVPdGhlck1hcmtlcnMoKSx0aGlzLl9lbWl0KCJjdXJzb3JMZWF2ZSIsZSkpfX0sdGhpcy5kZXRhY2g9ZnVuY3Rpb24oKXt0aGlzLnNlc3Npb24ucmVtb3ZlTWFya2VyKHRoaXMubWFya2VySWQpLHRoaXMuaGlkZU90aGVyTWFya2VycygpLHRoaXMuZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNoYW5nZSIsdGhpcy4kb25VcGRhdGUpLHRoaXMuc2Vzc2lvbi5zZWxlY3Rpb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2hhbmdlQ3Vyc29yIix0aGlzLiRvbkN1cnNvckNoYW5nZSksdGhpcy5wb3MuZGV0YWNoKCk7Zm9yKHZhciBlPTA7ZTx0aGlzLm90aGVycy5sZW5ndGg7ZSsrKXRoaXMub3RoZXJzW2VdLmRldGFjaCgpO3RoaXMuc2Vzc2lvbi5zZXRVbmRvU2VsZWN0KCEwKX0sdGhpcy5jYW5jZWw9ZnVuY3Rpb24oKXtpZigtMT09PXRoaXMuJHVuZG9TdGFja0RlcHRoKXRocm93IEVycm9yKCJDYW5jZWxpbmcgcGxhY2Vob2xkZXJzIG9ubHkgc3VwcG9ydGVkIHdpdGggdW5kbyBtYW5hZ2VyIGF0dGFjaGVkIHRvIHNlc3Npb24uIik7Zm9yKHZhciBlPXRoaXMuc2Vzc2lvbi5nZXRVbmRvTWFuYWdlcigpLHQ9KGUuJHVuZG9TdGFja3x8ZS4kdW5kb3N0YWNrKS5sZW5ndGgtdGhpcy4kdW5kb1N0YWNrRGVwdGgsbj0wO3Q+bjtuKyspZS51bmRvKCEwKX19KS5jYWxsKG8ucHJvdG90eXBlKSx0LlBsYWNlSG9sZGVyPW99KSxkZWZpbmUoImFjZS9saWIvZXZlbnQiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL2tleXMiLCJhY2UvbGliL3VzZXJhZ2VudCJdLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbyhlLHQsbil7dmFyIG89cyh0KTtpZighaS5pc01hYyYmdSl7aWYoKHVbOTFdfHx1WzkyXSkmJihvfD04KSx1LmFsdEdyKXtpZigzPT0oMyZvKSlyZXR1cm47dS5hbHRHcj0wfWlmKDE4PT09bnx8MTc9PT1uKXt2YXIgZj10LmxvY2F0aW9ufHx0LmtleUxvY2F0aW9uO2lmKDE3PT09biYmMT09PWYpYT10LnRpbWVTdGFtcDtlbHNlIGlmKDE4PT09biYmMz09PW8mJjI9PT1mKXt2YXIgbD0tYTthPXQudGltZVN0YW1wLGwrPWEsMz5sJiYodS5hbHRHcj0hMCl9fX1pZihuIGluIHIuTU9ESUZJRVJfS0VZUyl7c3dpdGNoKHIuTU9ESUZJRVJfS0VZU1tuXSl7Y2FzZSJBbHQiOm89MjticmVhaztjYXNlIlNoaWZ0IjpvPTQ7YnJlYWs7Y2FzZSJDdHJsIjpvPTE7YnJlYWs7ZGVmYXVsdDpvPTh9bj0tMX1yZXR1cm4gOCZvJiYoOTE9PT1ufHw5Mz09PW4pJiYobj0tMSksb3x8MTMhPT1ufHwhdC5sb2NhdGlvbiYmMyE9PXQua2V5TG9jYXRpb258fChlKHQsbywtbiksIXQuZGVmYXVsdFByZXZlbnRlZCk/b3x8biBpbiByLkZVTkNUSU9OX0tFWVN8fG4gaW4gci5QUklOVEFCTEVfS0VZUz9lKHQsbyxuKTohMTp2b2lkIDB9dmFyIHI9ZSgiLi9rZXlzIiksaT1lKCIuL3VzZXJhZ2VudCIpO3QuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oZSx0LG4pe2lmKGUuYWRkRXZlbnRMaXN0ZW5lcilyZXR1cm4gZS5hZGRFdmVudExpc3RlbmVyKHQsbiwhMSk7aWYoZS5hdHRhY2hFdmVudCl7dmFyIHI9ZnVuY3Rpb24oKXtuLmNhbGwoZSx3aW5kb3cuZXZlbnQpfTtuLl93cmFwcGVyPXIsZS5hdHRhY2hFdmVudCgib24iK3Qscil9fSx0LnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZS5yZW1vdmVFdmVudExpc3RlbmVyP2UucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4sITEpOnZvaWQoZS5kZXRhY2hFdmVudCYmZS5kZXRhY2hFdmVudCgib24iK3Qsbi5fd3JhcHBlcnx8bikpfSx0LnN0b3BFdmVudD1mdW5jdGlvbihlKXtyZXR1cm4gdC5zdG9wUHJvcGFnYXRpb24oZSksdC5wcmV2ZW50RGVmYXVsdChlKSwhMX0sdC5zdG9wUHJvcGFnYXRpb249ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24/ZS5zdG9wUHJvcGFnYXRpb24oKTplLmNhbmNlbEJ1YmJsZT0hMH0sdC5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0P2UucHJldmVudERlZmF1bHQoKTplLnJldHVyblZhbHVlPSExfSx0LmdldEJ1dHRvbj1mdW5jdGlvbihlKXtyZXR1cm4iZGJsY2xpY2siPT1lLnR5cGU/MDoiY29udGV4dG1lbnUiPT1lLnR5cGV8fGUuY3RybEtleSYmaS5pc01hYz8yOmUucHJldmVudERlZmF1bHQ/ZS5idXR0b246ezE6MCwyOjIsNDoxfVtlLmJ1dHRvbl19LHQuY2FwdHVyZT1mdW5jdGlvbihlLG4scil7ZnVuY3Rpb24gaShlKXtuJiZuKGUpLHImJnIoZSksdC5yZW1vdmVMaXN0ZW5lcihkb2N1bWVudCwibW91c2Vtb3ZlIixuLCEwKSx0LnJlbW92ZUxpc3RlbmVyKGRvY3VtZW50LCJtb3VzZXVwIixpLCEwKSx0LnJlbW92ZUxpc3RlbmVyKGRvY3VtZW50LCJkcmFnc3RhcnQiLGksITApfXJldHVybiB0LmFkZExpc3RlbmVyKGRvY3VtZW50LCJtb3VzZW1vdmUiLG4sITApLHQuYWRkTGlzdGVuZXIoZG9jdW1lbnQsIm1vdXNldXAiLGksITApLHQuYWRkTGlzdGVuZXIoZG9jdW1lbnQsImRyYWdzdGFydCIsaSwhMCksaX0sdC5hZGRNb3VzZVdoZWVsTGlzdGVuZXI9ZnVuY3Rpb24oZSxuKXsib25tb3VzZXdoZWVsImluIGU/dC5hZGRMaXN0ZW5lcihlLCJtb3VzZXdoZWVsIixmdW5jdGlvbihlKXt2YXIgdD04O3ZvaWQgMCE9PWUud2hlZWxEZWx0YVg/KGUud2hlZWxYPS1lLndoZWVsRGVsdGFYL3QsZS53aGVlbFk9LWUud2hlZWxEZWx0YVkvdCk6KGUud2hlZWxYPTAsZS53aGVlbFk9LWUud2hlZWxEZWx0YS90KSxuKGUpfSk6Im9ud2hlZWwiaW4gZT90LmFkZExpc3RlbmVyKGUsIndoZWVsIixmdW5jdGlvbihlKXt2YXIgdD0uMzU7c3dpdGNoKGUuZGVsdGFNb2RlKXtjYXNlIGUuRE9NX0RFTFRBX1BJWEVMOmUud2hlZWxYPWUuZGVsdGFYKnR8fDAsZS53aGVlbFk9ZS5kZWx0YVkqdHx8MDticmVhaztjYXNlIGUuRE9NX0RFTFRBX0xJTkU6Y2FzZSBlLkRPTV9ERUxUQV9QQUdFOmUud2hlZWxYPTUqKGUuZGVsdGFYfHwwKSxlLndoZWVsWT01KihlLmRlbHRhWXx8MCl9bihlKX0pOnQuYWRkTGlzdGVuZXIoZSwiRE9NTW91c2VTY3JvbGwiLGZ1bmN0aW9uKGUpe2UuYXhpcyYmZS5heGlzPT1lLkhPUklaT05UQUxfQVhJUz8oZS53aGVlbFg9NSooZS5kZXRhaWx8fDApLGUud2hlZWxZPTApOihlLndoZWVsWD0wLGUud2hlZWxZPTUqKGUuZGV0YWlsfHwwKSksbihlKX0pfSx0LmFkZE11bHRpTW91c2VEb3duTGlzdGVuZXI9ZnVuY3Rpb24oZSxuLHIscyl7dmFyIHUsYSxmLG89MCxsPXsyOiJkYmxjbGljayIsMzoidHJpcGxlY2xpY2siLDQ6InF1YWRjbGljayJ9O3QuYWRkTGlzdGVuZXIoZSwibW91c2Vkb3duIixmdW5jdGlvbihlKXtpZigwIT09dC5nZXRCdXR0b24oZSk/bz0wOmUuZGV0YWlsPjE/KG8rKyxvPjQmJihvPTEpKTpvPTEsaS5pc0lFKXt2YXIgbj1NYXRoLmFicyhlLmNsaWVudFgtdSk+NXx8TWF0aC5hYnMoZS5jbGllbnRZLWEpPjU7biYmKG89MSksMT09byYmKHU9ZS5jbGllbnRYLGE9ZS5jbGllbnRZKX1pZihyW3NdKCJtb3VzZWRvd24iLGUpLG8+NClvPTA7ZWxzZSBpZihvPjEpcmV0dXJuIHJbc10obFtvXSxlKX0pLGkuaXNPbGRJRSYmdC5hZGRMaXN0ZW5lcihlLCJkYmxjbGljayIsZnVuY3Rpb24oZSl7bz0yLGYmJmNsZWFyVGltZW91dChmKSxmPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtmPW51bGx9LG5bby0xXXx8NjAwKSxyW3NdKCJtb3VzZWRvd24iLGUpLHJbc10obFtvXSxlKX0pfTt2YXIgcz0haS5pc01hY3x8IWkuaXNPcGVyYXx8IktleWJvYXJkRXZlbnQiaW4gd2luZG93P2Z1bmN0aW9uKGUpe3JldHVybiAwfChlLmN0cmxLZXk/MTowKXwoZS5hbHRLZXk/MjowKXwoZS5zaGlmdEtleT80OjApfChlLm1ldGFLZXk/ODowKX06ZnVuY3Rpb24oZSl7cmV0dXJuIDB8KGUubWV0YUtleT8xOjApfChlLmFsdEtleT8yOjApfChlLnNoaWZ0S2V5PzQ6MCl8KGUuY3RybEtleT84OjApfTt0LmdldE1vZGlmaWVyU3RyaW5nPWZ1bmN0aW9uKGUpe3JldHVybiByLktFWV9NT0RTW3MoZSldfTt2YXIgdT1udWxsLGE9MDtpZih0LmFkZENvbW1hbmRLZXlMaXN0ZW5lcj1mdW5jdGlvbihlLG4pe3ZhciByPXQuYWRkTGlzdGVuZXI7aWYoaS5pc09sZEdlY2tvfHxpLmlzT3BlcmEmJiEoIktleWJvYXJkRXZlbnQiaW4gd2luZG93KSl7dmFyIHM9bnVsbDtyKGUsImtleWRvd24iLGZ1bmN0aW9uKGUpe3M9ZS5rZXlDb2RlfSkscihlLCJrZXlwcmVzcyIsZnVuY3Rpb24oZSl7cmV0dXJuIG8obixlLHMpfSl9ZWxzZXt2YXIgYT1udWxsO3IoZSwia2V5ZG93biIsZnVuY3Rpb24oZSl7dVtlLmtleUNvZGVdPSEwO3ZhciB0PW8obixlLGUua2V5Q29kZSk7cmV0dXJuIGE9ZS5kZWZhdWx0UHJldmVudGVkLHR9KSxyKGUsImtleXByZXNzIixmdW5jdGlvbihlKXthJiYoZS5jdHJsS2V5fHxlLmFsdEtleXx8ZS5zaGlmdEtleXx8ZS5tZXRhS2V5KSYmKHQuc3RvcEV2ZW50KGUpLGE9bnVsbCl9KSxyKGUsImtleXVwIixmdW5jdGlvbihlKXt1W2Uua2V5Q29kZV09bnVsbH0pLHV8fCh1PU9iamVjdC5jcmVhdGUobnVsbCkscih3aW5kb3csImZvY3VzIixmdW5jdGlvbigpe3U9T2JqZWN0LmNyZWF0ZShudWxsKX0pKX19LHdpbmRvdy5wb3N0TWVzc2FnZSYmIWkuaXNPbGRJRSl7dmFyIGY9MTt0Lm5leHRUaWNrPWZ1bmN0aW9uKGUsbil7bj1ufHx3aW5kb3c7dmFyIHI9Inplcm8tdGltZW91dC1tZXNzYWdlLSIrZjt0LmFkZExpc3RlbmVyKG4sIm1lc3NhZ2UiLGZ1bmN0aW9uIGkocyl7cy5kYXRhPT1yJiYodC5zdG9wUHJvcGFnYXRpb24ocyksdC5yZW1vdmVMaXN0ZW5lcihuLCJtZXNzYWdlIixpKSxlKCkpfSksbi5wb3N0TWVzc2FnZShyLCIqIil9fXQubmV4dEZyYW1lPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUsdC5uZXh0RnJhbWU9dC5uZXh0RnJhbWU/dC5uZXh0RnJhbWUuYmluZCh3aW5kb3cpOmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoZSwxNyl9fSksZGVmaW5lKCJhY2UvbW9kZS9mb2xkaW5nL2ZvbGRfbW9kZSIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9yYW5nZSJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSgiLi4vLi4vcmFuZ2UiKS5SYW5nZSxpPXQuRm9sZE1vZGU9ZnVuY3Rpb24oKXt9OyhmdW5jdGlvbigpe3RoaXMuZm9sZGluZ1N0YXJ0TWFya2VyPW51bGwsdGhpcy5mb2xkaW5nU3RvcE1hcmtlcj1udWxsLHRoaXMuZ2V0Rm9sZFdpZGdldD1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5nZXRMaW5lKG4pO3JldHVybiB0aGlzLmZvbGRpbmdTdGFydE1hcmtlci50ZXN0KHIpPyJzdGFydCI6Im1hcmtiZWdpbmVuZCI9PXQmJnRoaXMuZm9sZGluZ1N0b3BNYXJrZXImJnRoaXMuZm9sZGluZ1N0b3BNYXJrZXIudGVzdChyKT8iZW5kIjoiIn0sdGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sdGhpcy5pbmRlbnRhdGlvbkJsb2NrPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT0vXFMvLHM9ZS5nZXRMaW5lKHQpLG89cy5zZWFyY2goaSk7aWYoLTEhPW8pe2Zvcih2YXIgdT1ufHxzLmxlbmd0aCxhPWUuZ2V0TGVuZ3RoKCksZj10LGw9dDsrK3Q8YTspe3ZhciBjPWUuZ2V0TGluZSh0KS5zZWFyY2goaSk7aWYoLTEhPWMpe2lmKG8+PWMpYnJlYWs7bD10fX1pZihsPmYpe3ZhciBoPWUuZ2V0TGluZShsKS5sZW5ndGg7cmV0dXJuIG5ldyByKGYsdSxsLGgpfX19LHRoaXMub3BlbmluZ0JyYWNrZXRCbG9jaz1mdW5jdGlvbihlLHQsbixpLHMpe3ZhciBvPXtyb3c6bixjb2x1bW46aSsxfSx1PWUuJGZpbmRDbG9zaW5nQnJhY2tldCh0LG8scyk7aWYodSl7dmFyIGE9ZS5mb2xkV2lkZ2V0c1t1LnJvd107cmV0dXJuIG51bGw9PWEmJihhPWUuZ2V0Rm9sZFdpZGdldCh1LnJvdykpLCJzdGFydCI9PWEmJnUucm93Pm8ucm93JiYodS5yb3ctLSx1LmNvbHVtbj1lLmdldExpbmUodS5yb3cpLmxlbmd0aCksci5mcm9tUG9pbnRzKG8sdSl9fSx0aGlzLmNsb3NpbmdCcmFja2V0QmxvY2s9ZnVuY3Rpb24oZSx0LG4saSl7dmFyIG89e3JvdzpuLGNvbHVtbjppfSx1PWUuJGZpbmRPcGVuaW5nQnJhY2tldCh0LG8pO2lmKHUpcmV0dXJuIHUuY29sdW1uKyssby5jb2x1bW4tLSxyLmZyb21Qb2ludHModSxvKX19KS5jYWxsKGkucHJvdG90eXBlKX0pLGRlZmluZSgiYWNlL2xpYi9kb20iLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiXSxmdW5jdGlvbihlLHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQpe3ZhciByPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIjt0LmdldERvY3VtZW50SGVhZD1mdW5jdGlvbihlKXtyZXR1cm4gZXx8KGU9ZG9jdW1lbnQpLGUuaGVhZHx8ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdfHxlLmRvY3VtZW50RWxlbWVudH0sdC5jcmVhdGVFbGVtZW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUz9kb2N1bWVudC5jcmVhdGVFbGVtZW50TlModHx8cixlKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpfSx0Lmhhc0Nzc0NsYXNzPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5jbGFzc05hbWUuc3BsaXQoL1xzKy9nKTtyZXR1cm4tMSE9PW4uaW5kZXhPZih0KX0sdC5hZGRDc3NDbGFzcz1mdW5jdGlvbihlLG4pe3QuaGFzQ3NzQ2xhc3MoZSxuKXx8KGUuY2xhc3NOYW1lKz0iICIrbil9LHQucmVtb3ZlQ3NzQ2xhc3M9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ZS5jbGFzc05hbWUuc3BsaXQoL1xzKy9nKTs7KXt2YXIgcj1uLmluZGV4T2YodCk7aWYoLTE9PXIpYnJlYWs7bi5zcGxpY2UociwxKX1lLmNsYXNzTmFtZT1uLmpvaW4oIiAiKX0sdC50b2dnbGVDc3NDbGFzcz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLmNsYXNzTmFtZS5zcGxpdCgvXHMrL2cpLHI9ITA7Oyl7dmFyIGk9bi5pbmRleE9mKHQpO2lmKC0xPT1pKWJyZWFrO3I9ITEsbi5zcGxpY2UoaSwxKX1yZXR1cm4gciYmbi5wdXNoKHQpLGUuY2xhc3NOYW1lPW4uam9pbigiICIpLHJ9LHQuc2V0Q3NzQ2xhc3M9ZnVuY3Rpb24oZSxuLHIpe3I/dC5hZGRDc3NDbGFzcyhlLG4pOnQucmVtb3ZlQ3NzQ2xhc3MoZSxuKX0sdC5oYXNDc3NTdHJpbmc9ZnVuY3Rpb24oZSx0KXt2YXIgcixuPTA7aWYodD10fHxkb2N1bWVudCx0LmNyZWF0ZVN0eWxlU2hlZXQmJihyPXQuc3R5bGVTaGVldHMpKXtmb3IoO248ci5sZW5ndGg7KWlmKHJbbisrXS5vd25pbmdFbGVtZW50LmlkPT09ZSlyZXR1cm4hMH1lbHNlIGlmKHI9dC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic3R5bGUiKSlmb3IoO248ci5sZW5ndGg7KWlmKHJbbisrXS5pZD09PWUpcmV0dXJuITA7cmV0dXJuITF9LHQuaW1wb3J0Q3NzU3RyaW5nPWZ1bmN0aW9uKG4saSxzKXtpZihzPXN8fGRvY3VtZW50LGkmJnQuaGFzQ3NzU3RyaW5nKGkscykpcmV0dXJuIG51bGw7dmFyIG87cy5jcmVhdGVTdHlsZVNoZWV0PyhvPXMuY3JlYXRlU3R5bGVTaGVldCgpLG8uY3NzVGV4dD1uLGkmJihvLm93bmluZ0VsZW1lbnQuaWQ9aSkpOihvPXMuY3JlYXRlRWxlbWVudE5TP3MuY3JlYXRlRWxlbWVudE5TKHIsInN0eWxlIik6cy5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLG8uYXBwZW5kQ2hpbGQocy5jcmVhdGVUZXh0Tm9kZShuKSksaSYmKG8uaWQ9aSksdC5nZXREb2N1bWVudEhlYWQocykuYXBwZW5kQ2hpbGQobykpfSx0LmltcG9ydENzc1N0eWxzaGVldD1mdW5jdGlvbihlLG4pe2lmKG4uY3JlYXRlU3R5bGVTaGVldCluLmNyZWF0ZVN0eWxlU2hlZXQoZSk7ZWxzZXt2YXIgcj10LmNyZWF0ZUVsZW1lbnQoImxpbmsiKTtyLnJlbD0ic3R5bGVzaGVldCIsci5ocmVmPWUsdC5nZXREb2N1bWVudEhlYWQobikuYXBwZW5kQ2hpbGQocil9fSx0LmdldElubmVyV2lkdGg9ZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlSW50KHQuY29tcHV0ZWRTdHlsZShlLCJwYWRkaW5nTGVmdCIpLDEwKStwYXJzZUludCh0LmNvbXB1dGVkU3R5bGUoZSwicGFkZGluZ1JpZ2h0IiksMTApK2UuY2xpZW50V2lkdGh9LHQuZ2V0SW5uZXJIZWlnaHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlSW50KHQuY29tcHV0ZWRTdHlsZShlLCJwYWRkaW5nVG9wIiksMTApK3BhcnNlSW50KHQuY29tcHV0ZWRTdHlsZShlLCJwYWRkaW5nQm90dG9tIiksMTApK2UuY2xpZW50SGVpZ2h0fSx2b2lkIDAhPT13aW5kb3cucGFnZVlPZmZzZXQ/KHQuZ2V0UGFnZVNjcm9sbFRvcD1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cucGFnZVlPZmZzZXR9LHQuZ2V0UGFnZVNjcm9sbExlZnQ9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LnBhZ2VYT2Zmc2V0fSk6KHQuZ2V0UGFnZVNjcm9sbFRvcD1mdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcH0sdC5nZXRQYWdlU2Nyb2xsTGVmdD1mdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnR9KSx0LmNvbXB1dGVkU3R5bGU9d2luZG93LmdldENvbXB1dGVkU3R5bGU/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8od2luZG93LmdldENvbXB1dGVkU3R5bGUoZSwiIil8fHt9KVt0XXx8IiI6d2luZG93LmdldENvbXB1dGVkU3R5bGUoZSwiIil8fHt9fTpmdW5jdGlvbihlLHQpe3JldHVybiB0P2UuY3VycmVudFN0eWxlW3RdOmUuY3VycmVudFN0eWxlfSx0LnNjcm9sbGJhcldpZHRoPWZ1bmN0aW9uKGUpe3ZhciBuPXQuY3JlYXRlRWxlbWVudCgiYWNlX2lubmVyIik7bi5zdHlsZS53aWR0aD0iMTAwJSIsbi5zdHlsZS5taW5XaWR0aD0iMHB4IixuLnN0eWxlLmhlaWdodD0iMjAwcHgiLG4uc3R5bGUuZGlzcGxheT0iYmxvY2siO3ZhciByPXQuY3JlYXRlRWxlbWVudCgiYWNlX291dGVyIiksaT1yLnN0eWxlO2kucG9zaXRpb249ImFic29sdXRlIixpLmxlZnQ9Ii0xMDAwMHB4IixpLm92ZXJmbG93PSJoaWRkZW4iLGkud2lkdGg9IjIwMHB4IixpLm1pbldpZHRoPSIwcHgiLGkuaGVpZ2h0PSIxNTBweCIsaS5kaXNwbGF5PSJibG9jayIsci5hcHBlbmRDaGlsZChuKTt2YXIgcz1lLmRvY3VtZW50RWxlbWVudDtzLmFwcGVuZENoaWxkKHIpO3ZhciBvPW4ub2Zmc2V0V2lkdGg7aS5vdmVyZmxvdz0ic2Nyb2xsIjt2YXIgdT1uLm9mZnNldFdpZHRoO3JldHVybiBvPT11JiYodT1yLmNsaWVudFdpZHRoKSxzLnJlbW92ZUNoaWxkKHIpLG8tdX0sdC5zZXRJbm5lckh0bWw9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmNsb25lTm9kZSghMSk7cmV0dXJuIG4uaW5uZXJIVE1MPXQsZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChuLGUpLG59LCJ0ZXh0Q29udGVudCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ/KHQuc2V0SW5uZXJUZXh0PWZ1bmN0aW9uKGUsdCl7ZS50ZXh0Q29udGVudD10fSx0LmdldElubmVyVGV4dD1mdW5jdGlvbihlKXtyZXR1cm4gZS50ZXh0Q29udGVudH0pOih0LnNldElubmVyVGV4dD1mdW5jdGlvbihlLHQpe2UuaW5uZXJUZXh0PXR9LHQuZ2V0SW5uZXJUZXh0PWZ1bmN0aW9uKGUpe3JldHVybiBlLmlubmVyVGV4dH0pLHQuZ2V0UGFyZW50V2luZG93PWZ1bmN0aW9uKGUpe3JldHVybiBlLmRlZmF1bHRWaWV3fHxlLnBhcmVudFdpbmRvd319fSksZGVmaW5lKCJhY2UvdGhlbWUvdGV4dG1hdGUiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL2RvbSJdLGZ1bmN0aW9uKGUsdCl7dC5pc0Rhcms9ITEsdC5jc3NDbGFzcz0iYWNlLXRtIix0LmNzc1RleHQ9Jy5hY2UtdG0gLmFjZV9ndXR0ZXIge2JhY2tncm91bmQ6ICNmMGYwZjA7Y29sb3I6ICMzMzM7fS5hY2UtdG0gLmFjZV9wcmludC1tYXJnaW4ge3dpZHRoOiAxcHg7YmFja2dyb3VuZDogI2U4ZThlODt9LmFjZS10bSAuYWNlX2ZvbGQge2JhY2tncm91bmQtY29sb3I6ICM2QjcyRTY7fS5hY2UtdG0ge2JhY2tncm91bmQtY29sb3I6ICNGRkZGRkY7Y29sb3I6IGJsYWNrO30uYWNlLXRtIC5hY2VfY3Vyc29yIHtjb2xvcjogYmxhY2s7fS5hY2UtdG0gLmFjZV9pbnZpc2libGUge2NvbG9yOiByZ2IoMTkxLCAxOTEsIDE5MSk7fS5hY2UtdG0gLmFjZV9zdG9yYWdlLC5hY2UtdG0gLmFjZV9rZXl3b3JkIHtjb2xvcjogYmx1ZTt9LmFjZS10bSAuYWNlX2NvbnN0YW50IHtjb2xvcjogcmdiKDE5NywgNiwgMTEpO30uYWNlLXRtIC5hY2VfY29uc3RhbnQuYWNlX2J1aWxkaW4ge2NvbG9yOiByZ2IoODgsIDcyLCAyNDYpO30uYWNlLXRtIC5hY2VfY29uc3RhbnQuYWNlX2xhbmd1YWdlIHtjb2xvcjogcmdiKDg4LCA5MiwgMjQ2KTt9LmFjZS10bSAuYWNlX2NvbnN0YW50LmFjZV9saWJyYXJ5IHtjb2xvcjogcmdiKDYsIDE1MCwgMTQpO30uYWNlLXRtIC5hY2VfaW52YWxpZCB7YmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDAsIDAsIDAuMSk7Y29sb3I6IHJlZDt9LmFjZS10bSAuYWNlX3N1cHBvcnQuYWNlX2Z1bmN0aW9uIHtjb2xvcjogcmdiKDYwLCA3NiwgMTE0KTt9LmFjZS10bSAuYWNlX3N1cHBvcnQuYWNlX2NvbnN0YW50IHtjb2xvcjogcmdiKDYsIDE1MCwgMTQpO30uYWNlLXRtIC5hY2Vfc3VwcG9ydC5hY2VfdHlwZSwuYWNlLXRtIC5hY2Vfc3VwcG9ydC5hY2VfY2xhc3Mge2NvbG9yOiByZ2IoMTA5LCAxMjEsIDIyMik7fS5hY2UtdG0gLmFjZV9rZXl3b3JkLmFjZV9vcGVyYXRvciB7Y29sb3I6IHJnYigxMDQsIDExOCwgMTM1KTt9LmFjZS10bSAuYWNlX3N0cmluZyB7Y29sb3I6IHJnYigzLCAxMDYsIDcpO30uYWNlLXRtIC5hY2VfY29tbWVudCB7Y29sb3I6IHJnYig3NiwgMTM2LCAxMDcpO30uYWNlLXRtIC5hY2VfY29tbWVudC5hY2VfZG9jIHtjb2xvcjogcmdiKDAsIDEwMiwgMjU1KTt9LmFjZS10bSAuYWNlX2NvbW1lbnQuYWNlX2RvYy5hY2VfdGFnIHtjb2xvcjogcmdiKDEyOCwgMTU5LCAxOTEpO30uYWNlLXRtIC5hY2VfY29uc3RhbnQuYWNlX251bWVyaWMge2NvbG9yOiByZ2IoMCwgMCwgMjA1KTt9LmFjZS10bSAuYWNlX3ZhcmlhYmxlIHtjb2xvcjogcmdiKDQ5LCAxMzIsIDE0OSk7fS5hY2UtdG0gLmFjZV94bWwtcGUge2NvbG9yOiByZ2IoMTA0LCAxMDQsIDkxKTt9LmFjZS10bSAuYWNlX2VudGl0eS5hY2VfbmFtZS5hY2VfZnVuY3Rpb24ge2NvbG9yOiAjMDAwMEEyO30uYWNlLXRtIC5hY2VfaGVhZGluZyB7Y29sb3I6IHJnYigxMiwgNywgMjU1KTt9LmFjZS10bSAuYWNlX2xpc3Qge2NvbG9yOnJnYigxODUsIDYsIDE0NCk7fS5hY2UtdG0gLmFjZV9tZXRhLmFjZV90YWcge2NvbG9yOnJnYigwLCAyMiwgMTQyKTt9LmFjZS10bSAuYWNlX3N0cmluZy5hY2VfcmVnZXgge2NvbG9yOiByZ2IoMjU1LCAwLCAwKX0uYWNlLXRtIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0aW9uIHtiYWNrZ3JvdW5kOiByZ2IoMTgxLCAyMTMsIDI1NSk7fS5hY2UtdG0uYWNlX211bHRpc2VsZWN0IC5hY2Vfc2VsZWN0aW9uLmFjZV9zdGFydCB7Ym94LXNoYWRvdzogMCAwIDNweCAwcHggd2hpdGU7Ym9yZGVyLXJhZGl1czogMnB4O30uYWNlLXRtIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc3RlcCB7YmFja2dyb3VuZDogcmdiKDI1MiwgMjU1LCAwKTt9LmFjZS10bSAuYWNlX21hcmtlci1sYXllciAuYWNlX3N0YWNrIHtiYWNrZ3JvdW5kOiByZ2IoMTY0LCAyMjksIDEwMSk7fS5hY2UtdG0gLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9icmFja2V0IHttYXJnaW46IC0xcHggMCAwIC0xcHg7Ym9yZGVyOiAxcHggc29saWQgcmdiKDE5MiwgMTkyLCAxOTIpO30uYWNlLXRtIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYWN0aXZlLWxpbmUge2JhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4wNyk7fS5hY2UtdG0gLmFjZV9ndXR0ZXItYWN0aXZlLWxpbmUge2JhY2tncm91bmQtY29sb3IgOiAjZGNkY2RjO30uYWNlLXRtIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0ZWQtd29yZCB7YmFja2dyb3VuZDogcmdiKDI1MCwgMjUwLCAyNTUpO2JvcmRlcjogMXB4IHNvbGlkIHJnYigyMDAsIDIwMCwgMjUwKTt9LmFjZS10bSAuYWNlX2luZGVudC1ndWlkZSB7YmFja2dyb3VuZDogdXJsKCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUNDQVlBQUFDWmdiWW5BQUFBRTBsRVFWUUltV1A0Ly8vL2Y0YkxseS8vQndBbVZnZDEvdzExL2dBQUFBQkpSVTVFcmtKZ2dnPT0iKSByaWdodCByZXBlYXQteTt9Jzt2YXIgcj1lKCIuLi9saWIvZG9tIik7ci5pbXBvcnRDc3NTdHJpbmcodC5jc3NUZXh0LHQuY3NzQ2xhc3MpfSksZGVmaW5lKCJhY2UvbGliL2VzNS1zaGltIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oKXtmdW5jdGlvbiByKCl7fWZ1bmN0aW9uIHcoZSl7dHJ5e3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwic2VudGluZWwiLHt9KSwic2VudGluZWwiaW4gZX1jYXRjaCh0KXt9fWZ1bmN0aW9uIEgoZSl7cmV0dXJuIGU9K2UsZSE9PWU/ZT0wOjAhPT1lJiZlIT09MS8wJiZlIT09LTEvMCYmKGU9KGU+MHx8LTEpKk1hdGguZmxvb3IoTWF0aC5hYnMoZSkpKSxlfUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHwoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24odCl7dmFyIG49dGhpcztpZigiZnVuY3Rpb24iIT10eXBlb2Ygbil0aHJvdyBuZXcgVHlwZUVycm9yKCJGdW5jdGlvbi5wcm90b3R5cGUuYmluZCBjYWxsZWQgb24gaW5jb21wYXRpYmxlICIrbik7dmFyIGk9dS5jYWxsKGFyZ3VtZW50cywxKSxzPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIHMpe3ZhciBlPW4uYXBwbHkodGhpcyxpLmNvbmNhdCh1LmNhbGwoYXJndW1lbnRzKSkpO3JldHVybiBPYmplY3QoZSk9PT1lP2U6dGhpc31yZXR1cm4gbi5hcHBseSh0LGkuY29uY2F0KHUuY2FsbChhcmd1bWVudHMpKSl9O3JldHVybiBuLnByb3RvdHlwZSYmKHIucHJvdG90eXBlPW4ucHJvdG90eXBlLHMucHJvdG90eXBlPW5ldyByLHIucHJvdG90eXBlPW51bGwpLHN9KTt2YXIgbCxjLGgscCxkLGk9RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwscz1BcnJheS5wcm90b3R5cGUsbz1PYmplY3QucHJvdG90eXBlLHU9cy5zbGljZSxhPWkuYmluZChvLnRvU3RyaW5nKSxmPWkuYmluZChvLmhhc093blByb3BlcnR5KTtpZigoZD1mKG8sIl9fZGVmaW5lR2V0dGVyX18iKSkmJihsPWkuYmluZChvLl9fZGVmaW5lR2V0dGVyX18pLGM9aS5iaW5kKG8uX19kZWZpbmVTZXR0ZXJfXyksaD1pLmJpbmQoby5fX2xvb2t1cEdldHRlcl9fKSxwPWkuYmluZChvLl9fbG9va3VwU2V0dGVyX18pKSwyIT1bMSwyXS5zcGxpY2UoMCkubGVuZ3RoKWlmKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt2YXIgdD1uZXcgQXJyYXkoZSsyKTtyZXR1cm4gdFswXT10WzFdPTAsdH12YXIgbix0PVtdO3JldHVybiB0LnNwbGljZS5hcHBseSh0LGUoMjApKSx0LnNwbGljZS5hcHBseSh0LGUoMjYpKSxuPXQubGVuZ3RoLHQuc3BsaWNlKDUsMCwiWFhYIiksbisxPT10Lmxlbmd0aCxuKzE9PXQubGVuZ3RoPyEwOnZvaWQgMH0oKSl7dmFyIHY9QXJyYXkucHJvdG90eXBlLnNwbGljZTtBcnJheS5wcm90b3R5cGUuc3BsaWNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/di5hcHBseSh0aGlzLFt2b2lkIDA9PT1lPzA6ZSx2b2lkIDA9PT10P3RoaXMubGVuZ3RoLWU6dF0uY29uY2F0KHUuY2FsbChhcmd1bWVudHMsMikpKTpbXX19ZWxzZSBBcnJheS5wcm90b3R5cGUuc3BsaWNlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5sZW5ndGg7ZT4wP2U+biYmKGU9bik6dm9pZCAwPT1lP2U9MDowPmUmJihlPU1hdGgubWF4KG4rZSwwKSksbj5lK3R8fCh0PW4tZSk7dmFyIHI9dGhpcy5zbGljZShlLGUrdCksaT11LmNhbGwoYXJndW1lbnRzLDIpLHM9aS5sZW5ndGg7aWYoZT09PW4pcyYmdGhpcy5wdXNoLmFwcGx5KHRoaXMsaSk7ZWxzZXt2YXIgbz1NYXRoLm1pbih0LG4tZSksYT1lK28sZj1hK3MtbyxsPW4tYSxjPW4tbztpZihhPmYpZm9yKHZhciBoPTA7bD5oOysraCl0aGlzW2YraF09dGhpc1thK2hdO2Vsc2UgaWYoZj5hKWZvcihoPWw7aC0tOyl0aGlzW2YraF09dGhpc1thK2hdO2lmKHMmJmU9PT1jKXRoaXMubGVuZ3RoPWMsdGhpcy5wdXNoLmFwcGx5KHRoaXMsaSk7ZWxzZSBmb3IodGhpcy5sZW5ndGg9YytzLGg9MDtzPmg7KytoKXRoaXNbZStoXT1pW2hdfXJldHVybiByfTtBcnJheS5pc0FycmF5fHwoQXJyYXkuaXNBcnJheT1mdW5jdGlvbih0KXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT1hKHQpfSk7dmFyIG09T2JqZWN0KCJhIiksZz0iYSIhPW1bMF18fCEoMCBpbiBtKTtpZihBcnJheS5wcm90b3R5cGUuZm9yRWFjaHx8KEFycmF5LnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKHQpe3ZhciBuPUYodGhpcykscj1nJiYiW29iamVjdCBTdHJpbmddIj09YSh0aGlzKT90aGlzLnNwbGl0KCIiKTpuLGk9YXJndW1lbnRzWzFdLHM9LTEsbz1yLmxlbmd0aD4+PjA7aWYoIltvYmplY3QgRnVuY3Rpb25dIiE9YSh0KSl0aHJvdyBuZXcgVHlwZUVycm9yO2Zvcig7KytzPG87KXMgaW4gciYmdC5jYWxsKGkscltzXSxzLG4pfSksQXJyYXkucHJvdG90eXBlLm1hcHx8KEFycmF5LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7dmFyIG49Rih0aGlzKSxyPWcmJiJbb2JqZWN0IFN0cmluZ10iPT1hKHRoaXMpP3RoaXMuc3BsaXQoIiIpOm4saT1yLmxlbmd0aD4+PjAscz1BcnJheShpKSxvPWFyZ3VtZW50c1sxXTtpZigiW29iamVjdCBGdW5jdGlvbl0iIT1hKHQpKXRocm93IG5ldyBUeXBlRXJyb3IodCsiIGlzIG5vdCBhIGZ1bmN0aW9uIik7Zm9yKHZhciB1PTA7aT51O3UrKyl1IGluIHImJihzW3VdPXQuY2FsbChvLHJbdV0sdSxuKSk7cmV0dXJuIHN9KSxBcnJheS5wcm90b3R5cGUuZmlsdGVyfHwoQXJyYXkucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbih0KXt2YXIgbyxuPUYodGhpcykscj1nJiYiW29iamVjdCBTdHJpbmddIj09YSh0aGlzKT90aGlzLnNwbGl0KCIiKTpuLGk9ci5sZW5ndGg+Pj4wLHM9W10sdT1hcmd1bWVudHNbMV07aWYoIltvYmplY3QgRnVuY3Rpb25dIiE9YSh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKHQrIiBpcyBub3QgYSBmdW5jdGlvbiIpO2Zvcih2YXIgZj0wO2k+ZjtmKyspZiBpbiByJiYobz1yW2ZdLHQuY2FsbCh1LG8sZixuKSYmcy5wdXNoKG8pKTtyZXR1cm4gc30pLEFycmF5LnByb3RvdHlwZS5ldmVyeXx8KEFycmF5LnByb3RvdHlwZS5ldmVyeT1mdW5jdGlvbih0KXt2YXIgbj1GKHRoaXMpLHI9ZyYmIltvYmplY3QgU3RyaW5nXSI9PWEodGhpcyk/dGhpcy5zcGxpdCgiIik6bixpPXIubGVuZ3RoPj4+MCxzPWFyZ3VtZW50c1sxXTtpZigiW29iamVjdCBGdW5jdGlvbl0iIT1hKHQpKXRocm93IG5ldyBUeXBlRXJyb3IodCsiIGlzIG5vdCBhIGZ1bmN0aW9uIik7Zm9yKHZhciBvPTA7aT5vO28rKylpZihvIGluIHImJiF0LmNhbGwocyxyW29dLG8sbikpcmV0dXJuITE7cmV0dXJuITB9KSxBcnJheS5wcm90b3R5cGUuc29tZXx8KEFycmF5LnByb3RvdHlwZS5zb21lPWZ1bmN0aW9uKHQpe3ZhciBuPUYodGhpcykscj1nJiYiW29iamVjdCBTdHJpbmddIj09YSh0aGlzKT90aGlzLnNwbGl0KCIiKTpuLGk9ci5sZW5ndGg+Pj4wLHM9YXJndW1lbnRzWzFdO2lmKCJbb2JqZWN0IEZ1bmN0aW9uXSIhPWEodCkpdGhyb3cgbmV3IFR5cGVFcnJvcih0KyIgaXMgbm90IGEgZnVuY3Rpb24iKTtmb3IodmFyIG89MDtpPm87bysrKWlmKG8gaW4gciYmdC5jYWxsKHMscltvXSxvLG4pKXJldHVybiEwO3JldHVybiExfSksQXJyYXkucHJvdG90eXBlLnJlZHVjZXx8KEFycmF5LnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCl7dmFyIG49Rih0aGlzKSxyPWcmJiJbb2JqZWN0IFN0cmluZ10iPT1hKHRoaXMpP3RoaXMuc3BsaXQoIiIpOm4saT1yLmxlbmd0aD4+PjA7aWYoIltvYmplY3QgRnVuY3Rpb25dIiE9YSh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKHQrIiBpcyBub3QgYSBmdW5jdGlvbiIpO2lmKCFpJiYxPT1hcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBUeXBlRXJyb3IoInJlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWUiKTt2YXIgbyxzPTA7aWYoYXJndW1lbnRzLmxlbmd0aD49MilvPWFyZ3VtZW50c1sxXTtlbHNlIGZvcig7Oyl7aWYocyBpbiByKXtvPXJbcysrXTticmVha31pZigrK3M+PWkpdGhyb3cgbmV3IFR5cGVFcnJvcigicmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZSIpfWZvcig7aT5zO3MrKylzIGluIHImJihvPXQuY2FsbCh2b2lkIDAsbyxyW3NdLHMsbikpO3JldHVybiBvfSksQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0fHwoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0PWZ1bmN0aW9uKHQpe3ZhciBuPUYodGhpcykscj1nJiYiW29iamVjdCBTdHJpbmddIj09YSh0aGlzKT90aGlzLnNwbGl0KCIiKTpuLGk9ci5sZW5ndGg+Pj4wO2lmKCJbb2JqZWN0IEZ1bmN0aW9uXSIhPWEodCkpdGhyb3cgbmV3IFR5cGVFcnJvcih0KyIgaXMgbm90IGEgZnVuY3Rpb24iKTtpZighaSYmMT09YXJndW1lbnRzLmxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKCJyZWR1Y2VSaWdodCBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWUiKTt2YXIgcyxvPWktMTtpZihhcmd1bWVudHMubGVuZ3RoPj0yKXM9YXJndW1lbnRzWzFdO2Vsc2UgZm9yKDs7KXtpZihvIGluIHIpe3M9cltvLS1dO2JyZWFrfWlmKC0tbzwwKXRocm93IG5ldyBUeXBlRXJyb3IoInJlZHVjZVJpZ2h0IG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZSIpfWRvIG8gaW4gdGhpcyYmKHM9dC5jYWxsKHZvaWQgMCxzLHJbb10sbyxuKSk7d2hpbGUoby0tKTtyZXR1cm4gc30pLEFycmF5LnByb3RvdHlwZS5pbmRleE9mJiYtMT09WzAsMV0uaW5kZXhPZigxLDIpfHwoQXJyYXkucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24odCl7dmFyIG49ZyYmIltvYmplY3QgU3RyaW5nXSI9PWEodGhpcyk/dGhpcy5zcGxpdCgiIik6Rih0aGlzKSxyPW4ubGVuZ3RoPj4+MDtpZighcilyZXR1cm4tMTt2YXIgaT0wO2Zvcihhcmd1bWVudHMubGVuZ3RoPjEmJihpPUgoYXJndW1lbnRzWzFdKSksaT1pPj0wP2k6TWF0aC5tYXgoMCxyK2kpO3I+aTtpKyspaWYoaSBpbiBuJiZuW2ldPT09dClyZXR1cm4gaTtyZXR1cm4tMX0pLEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZiYmLTE9PVswLDFdLmxhc3RJbmRleE9mKDAsLTMpfHwoQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mPWZ1bmN0aW9uKHQpe3ZhciBuPWcmJiJbb2JqZWN0IFN0cmluZ10iPT1hKHRoaXMpP3RoaXMuc3BsaXQoIiIpOkYodGhpcykscj1uLmxlbmd0aD4+PjA7aWYoIXIpcmV0dXJuLTE7dmFyIGk9ci0xO2Zvcihhcmd1bWVudHMubGVuZ3RoPjEmJihpPU1hdGgubWluKGksSChhcmd1bWVudHNbMV0pKSksaT1pPj0wP2k6ci1NYXRoLmFicyhpKTtpPj0wO2ktLSlpZihpIGluIG4mJnQ9PT1uW2ldKXJldHVybiBpO3JldHVybi0xfSksT2JqZWN0LmdldFByb3RvdHlwZU9mfHwoT2JqZWN0LmdldFByb3RvdHlwZU9mPWZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8KHQuY29uc3RydWN0b3I/dC5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6byl9KSwhT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcil7dmFyIHk9Ik9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgY2FsbGVkIG9uIGEgbm9uLW9iamVjdDogIjtPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yPWZ1bmN0aW9uKHQsbil7aWYoIm9iamVjdCIhPXR5cGVvZiB0JiYiZnVuY3Rpb24iIT10eXBlb2YgdHx8bnVsbD09PXQpdGhyb3cgbmV3IFR5cGVFcnJvcih5K3QpO2lmKGYodCxuKSl7dmFyIHIsaSxzO2lmKHI9e2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSxkKXt2YXIgdT10Ll9fcHJvdG9fXzt0Ll9fcHJvdG9fXz1vO3ZhciBpPWgodCxuKSxzPXAodCxuKTtpZih0Ll9fcHJvdG9fXz11LGl8fHMpcmV0dXJuIGkmJihyLmdldD1pKSxzJiYoci5zZXQ9cykscn1yZXR1cm4gci52YWx1ZT10W25dLHJ9fX1pZihPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8KE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qua2V5cyh0KX0pLCFPYmplY3QuY3JlYXRlKXt2YXIgYjtiPW51bGw9PT1PYmplY3QucHJvdG90eXBlLl9fcHJvdG9fXz9mdW5jdGlvbigpe3JldHVybntfX3Byb3RvX186bnVsbH19OmZ1bmN0aW9uKCl7dmFyIGU9e307Zm9yKHZhciB0IGluIGUpZVt0XT1udWxsO3JldHVybiBlLmNvbnN0cnVjdG9yPWUuaGFzT3duUHJvcGVydHk9ZS5wcm9wZXJ0eUlzRW51bWVyYWJsZT1lLmlzUHJvdG90eXBlT2Y9ZS50b0xvY2FsZVN0cmluZz1lLnRvU3RyaW5nPWUudmFsdWVPZj1lLl9fcHJvdG9fXz1udWxsLGV9LE9iamVjdC5jcmVhdGU9ZnVuY3Rpb24odCxuKXt2YXIgcjtpZihudWxsPT09dClyPWIoKTtlbHNle2lmKCJvYmplY3QiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJ0eXBlb2YgcHJvdG90eXBlWyIrdHlwZW9mIHQrIl0gIT0gJ29iamVjdCciKTt2YXIgaT1mdW5jdGlvbigpe307aS5wcm90b3R5cGU9dCxyPW5ldyBpLHIuX19wcm90b19fPXR9cmV0dXJuIHZvaWQgMCE9PW4mJk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHIsbikscn19aWYoT2JqZWN0LmRlZmluZVByb3BlcnR5KXt2YXIgRT13KHt9KSxTPSJ1bmRlZmluZWQiPT10eXBlb2YgZG9jdW1lbnR8fHcoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikpO2lmKCFFfHwhUyl2YXIgeD1PYmplY3QuZGVmaW5lUHJvcGVydHl9aWYoIU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8eCl7dmFyIFQ9IlByb3BlcnR5IGRlc2NyaXB0aW9uIG11c3QgYmUgYW4gb2JqZWN0OiAiLE49Ik9iamVjdC5kZWZpbmVQcm9wZXJ0eSBjYWxsZWQgb24gbm9uLW9iamVjdDogIixDPSJnZXR0ZXJzICYgc2V0dGVycyBjYW4gbm90IGJlIGRlZmluZWQgb24gdGhpcyBqYXZhc2NyaXB0IGVuZ2luZSI7T2JqZWN0LmRlZmluZVByb3BlcnR5PWZ1bmN0aW9uKHQsbixyKXtpZigib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0fHxudWxsPT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKE4rdCk7aWYoIm9iamVjdCIhPXR5cGVvZiByJiYiZnVuY3Rpb24iIT10eXBlb2Ygcnx8bnVsbD09PXIpdGhyb3cgbmV3IFR5cGVFcnJvcihUK3IpO2lmKHgpdHJ5e3JldHVybiB4LmNhbGwoT2JqZWN0LHQsbixyKX1jYXRjaChpKXt9aWYoZihyLCJ2YWx1ZSIpKWlmKGQmJihoKHQsbil8fHAodCxuKSkpe3ZhciBzPXQuX19wcm90b19fO3QuX19wcm90b19fPW8sZGVsZXRlIHRbbl0sdFtuXT1yLnZhbHVlLHQuX19wcm90b19fPXN9ZWxzZSB0W25dPXIudmFsdWU7ZWxzZXtpZighZCl0aHJvdyBuZXcgVHlwZUVycm9yKEMpO2YociwiZ2V0IikmJmwodCxuLHIuZ2V0KSxmKHIsInNldCIpJiZjKHQsbixyLnNldCl9cmV0dXJuIHR9fU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzfHwoT2JqZWN0LmRlZmluZVByb3BlcnRpZXM9ZnVuY3Rpb24odCxuKXtmb3IodmFyIHIgaW4gbilmKG4scikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIsbltyXSk7cmV0dXJuIHR9KSxPYmplY3Quc2VhbHx8KE9iamVjdC5zZWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0fSksT2JqZWN0LmZyZWV6ZXx8KE9iamVjdC5mcmVlemU9ZnVuY3Rpb24odCl7cmV0dXJuIHR9KTt0cnl7T2JqZWN0LmZyZWV6ZShmdW5jdGlvbigpe30pfWNhdGNoKGspe09iamVjdC5mcmVlemU9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBuP246dChuKX19KE9iamVjdC5mcmVlemUpfWlmKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9uc3x8KE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucz1mdW5jdGlvbih0KXtyZXR1cm4gdH0pLE9iamVjdC5pc1NlYWxlZHx8KE9iamVjdC5pc1NlYWxlZD1mdW5jdGlvbigpe3JldHVybiExfSksT2JqZWN0LmlzRnJvemVufHwoT2JqZWN0LmlzRnJvemVuPWZ1bmN0aW9uKCl7cmV0dXJuITF9KSxPYmplY3QuaXNFeHRlbnNpYmxlfHwoT2JqZWN0LmlzRXh0ZW5zaWJsZT1mdW5jdGlvbih0KXtpZihPYmplY3QodCk9PT10KXRocm93IG5ldyBUeXBlRXJyb3I7Zm9yKHZhciBuPSIiO2YodCxuKTspbis9Ij8iO3Rbbl09ITA7dmFyIHI9Zih0LG4pO3JldHVybiBkZWxldGUgdFtuXSxyfSksIU9iamVjdC5rZXlzKXt2YXIgTD0hMCxBPVsidG9TdHJpbmciLCJ0b0xvY2FsZVN0cmluZyIsInZhbHVlT2YiLCJoYXNPd25Qcm9wZXJ0eSIsImlzUHJvdG90eXBlT2YiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsImNvbnN0cnVjdG9yIl0sTz1BLmxlbmd0aDtmb3IodmFyIE0gaW57dG9TdHJpbmc6bnVsbH0pTD0hMTtPYmplY3Qua2V5cz1mdW5jdGlvbiBJKGUpe2lmKCJvYmplY3QiIT10eXBlb2YgZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGV8fG51bGw9PT1lKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5rZXlzIGNhbGxlZCBvbiBhIG5vbi1vYmplY3QiKTt2YXIgST1bXTtmb3IodmFyIHQgaW4gZSlmKGUsdCkmJkkucHVzaCh0KTtpZihMKWZvcih2YXIgbj0wLHI9TztyPm47bisrKXt2YXIgaT1BW25dO2YoZSxpKSYmSS5wdXNoKGkpfXJldHVybiBJfX1EYXRlLm5vd3x8KERhdGUubm93PWZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9KTt2YXIgXz0iCVxuC1xmXHIgwqDhmoDhoI7igIDigIHigILigIPigITigIXigIbigIfigIjigInigIrigK/igZ/jgIBcdTIwMjhcdTIwMjnvu78iO2lmKCFTdHJpbmcucHJvdG90eXBlLnRyaW18fF8udHJpbSgpKXtfPSJbIitfKyJdIjt2YXIgRD1uZXcgUmVnRXhwKCJeIitfK18rIioiKSxQPW5ldyBSZWdFeHAoXytfKyIqJCIpO1N0cmluZy5wcm90b3R5cGUudHJpbT1mdW5jdGlvbigpe3JldHVybiBTdHJpbmcodGhpcykucmVwbGFjZShELCIiKS5yZXBsYWNlKFAsIiIpfX12YXIgRj1mdW5jdGlvbihlKXtpZihudWxsPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoImNhbid0IGNvbnZlcnQgIitlKyIgdG8gb2JqZWN0Iik7cmV0dXJuIE9iamVjdChlKX19KSxkZWZpbmUoImFjZS9saWIvcmVnZXhwIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oKXtmdW5jdGlvbiBvKGUpe3JldHVybihlLmdsb2JhbD8iZyI6IiIpKyhlLmlnbm9yZUNhc2U/ImkiOiIiKSsoZS5tdWx0aWxpbmU/Im0iOiIiKSsoZS5leHRlbmRlZD8ieCI6IiIpKyhlLnN0aWNreT8ieSI6IiIpfWZ1bmN0aW9uIHUoZSx0LG4pe2lmKEFycmF5LnByb3RvdHlwZS5pbmRleE9mKXJldHVybiBlLmluZGV4T2YodCxuKTtmb3IodmFyIHI9bnx8MDtyPGUubGVuZ3RoO3IrKylpZihlW3JdPT09dClyZXR1cm4gcjtyZXR1cm4tMX12YXIgcj17ZXhlYzpSZWdFeHAucHJvdG90eXBlLmV4ZWMsdGVzdDpSZWdFeHAucHJvdG90eXBlLnRlc3QsbWF0Y2g6U3RyaW5nLnByb3RvdHlwZS5tYXRjaCxyZXBsYWNlOlN0cmluZy5wcm90b3R5cGUucmVwbGFjZSxzcGxpdDpTdHJpbmcucHJvdG90eXBlLnNwbGl0fSxpPXZvaWQgMD09PXIuZXhlYy5jYWxsKC8oKT8/LywiIilbMV0scz1mdW5jdGlvbigpe3ZhciBlPS9eL2c7cmV0dXJuIHIudGVzdC5jYWxsKGUsIiIpLCFlLmxhc3RJbmRleH0oKTtzJiZpfHwoUmVnRXhwLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKGUpe3ZhciBuLGEsdD1yLmV4ZWMuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKCJzdHJpbmciPT10eXBlb2YgZSYmdCl7aWYoIWkmJnQubGVuZ3RoPjEmJnUodCwiIik+LTEmJihhPVJlZ0V4cCh0aGlzLnNvdXJjZSxyLnJlcGxhY2UuY2FsbChvKHRoaXMpLCJnIiwiIikpLHIucmVwbGFjZS5jYWxsKGUuc2xpY2UodC5pbmRleCksYSxmdW5jdGlvbigpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aC0yO2UrKyl2b2lkIDA9PT1hcmd1bWVudHNbZV0mJih0W2VdPXZvaWQgMCl9KSksdGhpcy5feHJlZ2V4cCYmdGhpcy5feHJlZ2V4cC5jYXB0dXJlTmFtZXMpZm9yKHZhciBmPTE7Zjx0Lmxlbmd0aDtmKyspbj10aGlzLl94cmVnZXhwLmNhcHR1cmVOYW1lc1tmLTFdLG4mJih0W25dPXRbZl0pOyFzJiZ0aGlzLmdsb2JhbCYmIXRbMF0ubGVuZ3RoJiZ0aGlzLmxhc3RJbmRleD50LmluZGV4JiZ0aGlzLmxhc3RJbmRleC0tfXJldHVybiB0fSxzfHwoUmVnRXhwLnByb3RvdHlwZS50ZXN0PWZ1bmN0aW9uKGUpe3ZhciB0PXIuZXhlYy5jYWxsKHRoaXMsZSk7cmV0dXJuIHQmJnRoaXMuZ2xvYmFsJiYhdFswXS5sZW5ndGgmJnRoaXMubGFzdEluZGV4PnQuaW5kZXgmJnRoaXMubGFzdEluZGV4LS0sISF0fSkpfSksZGVmaW5lKCJhY2UvZXh0L2Vycm9yX21hcmtlciIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saW5lX3dpZGdldHMiLCJhY2UvbGliL2RvbSIsImFjZS9yYW5nZSJdLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbyhlLHQsbil7Zm9yKHZhciByPTAsaT1lLmxlbmd0aC0xO2k+PXI7KXt2YXIgcz1yK2k+PjEsbz1uKHQsZVtzXSk7aWYobz4wKXI9cysxO2Vsc2V7aWYoISgwPm8pKXJldHVybiBzO2k9cy0xfX1yZXR1cm4tKHIrMSl9ZnVuY3Rpb24gdShlLHQsbil7dmFyIHI9ZS5nZXRBbm5vdGF0aW9ucygpLnNvcnQocy5jb21wYXJlUG9pbnRzKTtpZihyLmxlbmd0aCl7dmFyIGk9byhyLHtyb3c6dCxjb2x1bW46LTF9LHMuY29tcGFyZVBvaW50cyk7MD5pJiYoaT0taS0xKSxpPj1yLmxlbmd0aC0xP2k9bj4wPzA6ci5sZW5ndGgtMTowPT09aSYmMD5uJiYoaT1yLmxlbmd0aC0xKTt2YXIgdT1yW2ldO2lmKHUmJm4pe2lmKHUucm93PT09dCl7ZG8gdT1yW2krPW5dO3doaWxlKHUmJnUucm93PT09dCk7aWYoIXUpcmV0dXJuIHIuc2xpY2UoKX12YXIgYT1bXTt0PXUucm93O2RvIGFbMD5uPyJ1bnNoaWZ0IjoicHVzaCJdKHUpLHU9cltpKz1uXTt3aGlsZSh1JiZ1LnJvdz09dCk7cmV0dXJuIGEubGVuZ3RoJiZhfX19dmFyIHI9ZSgiYWNlL2xpbmVfd2lkZ2V0cyIpLkxpbmVXaWRnZXRzLGk9ZSgiYWNlL2xpYi9kb20iKSxzPWUoImFjZS9yYW5nZSIpLlJhbmdlO3Quc2hvd0Vycm9yTWFya2VyPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5zZXNzaW9uO24ud2lkZ2V0TWFuYWdlcnx8KG4ud2lkZ2V0TWFuYWdlcj1uZXcgcihuKSxuLndpZGdldE1hbmFnZXIuYXR0YWNoKGUpKTt2YXIgcz1lLmdldEN1cnNvclBvc2l0aW9uKCksbz1zLnJvdyxhPW4ubGluZVdpZGdldHMmJm4ubGluZVdpZGdldHNbb107YT9hLmRlc3Ryb3koKTpvLT10O3ZhciBsLGY9dShuLG8sdCk7aWYoZil7dmFyIGM9ZlswXTtzLmNvbHVtbj0oYy5wb3MmJiJudW1iZXIiIT10eXBlb2YgYy5jb2x1bW4/Yy5wb3Muc2M6Yy5jb2x1bW4pfHwwLHMucm93PWMucm93LGw9ZS5yZW5kZXJlci4kZ3V0dGVyTGF5ZXIuJGFubm90YXRpb25zW3Mucm93XX1lbHNle2lmKGEpcmV0dXJuO2w9e3RleHQ6WyJMb29rcyBnb29kISJdLGNsYXNzTmFtZToiYWNlX29rIn19ZS5zZXNzaW9uLnVuZm9sZChzLnJvdyksZS5zZWxlY3Rpb24ubW92ZVRvUG9zaXRpb24ocyk7dmFyIGg9e3JvdzpzLnJvdyxmaXhlZFdpZHRoOiEwLGNvdmVyR3V0dGVyOiEwLGVsOmkuY3JlYXRlRWxlbWVudCgiZGl2Iil9LHA9aC5lbC5hcHBlbmRDaGlsZChpLmNyZWF0ZUVsZW1lbnQoImRpdiIpKSxkPWguZWwuYXBwZW5kQ2hpbGQoaS5jcmVhdGVFbGVtZW50KCJkaXYiKSk7ZC5jbGFzc05hbWU9ImVycm9yX3dpZGdldF9hcnJvdyAiK2wuY2xhc3NOYW1lO3ZhciB2PWUucmVuZGVyZXIuJGN1cnNvckxheWVyLmdldFBpeGVsUG9zaXRpb24ocykubGVmdDtkLnN0eWxlLmxlZnQ9ditlLnJlbmRlcmVyLmd1dHRlcldpZHRoLTUrInB4IixoLmVsLmNsYXNzTmFtZT0iZXJyb3Jfd2lkZ2V0X3dyYXBwZXIiLHAuY2xhc3NOYW1lPSJlcnJvcl93aWRnZXQgIitsLmNsYXNzTmFtZSxwLmlubmVySFRNTD1sLnRleHQuam9pbigiPGJyPiIpLHAuYXBwZW5kQ2hpbGQoaS5jcmVhdGVFbGVtZW50KCJkaXYiKSk7dmFyIG09ZnVuY3Rpb24oZSx0LG4pe3JldHVybiAwIT09dHx8ImVzYyIhPT1uJiYicmV0dXJuIiE9PW4/dm9pZCAwOihoLmRlc3Ryb3koKSx7Y29tbWFuZDoibnVsbCJ9KX07aC5kZXN0cm95PWZ1bmN0aW9uKCl7ZS4kbW91c2VIYW5kbGVyLmlzTW91c2VQcmVzc2VkfHwoZS5rZXlCaW5kaW5nLnJlbW92ZUtleWJvYXJkSGFuZGxlcihtKSxuLndpZGdldE1hbmFnZXIucmVtb3ZlTGluZVdpZGdldChoKSxlLm9mZigiY2hhbmdlU2VsZWN0aW9uIixoLmRlc3Ryb3kpLGUub2ZmKCJjaGFuZ2VTZXNzaW9uIixoLmRlc3Ryb3kpLGUub2ZmKCJtb3VzZXVwIixoLmRlc3Ryb3kpLGUub2ZmKCJjaGFuZ2UiLGguZGVzdHJveSkpfSxlLmtleUJpbmRpbmcuYWRkS2V5Ym9hcmRIYW5kbGVyKG0pLGUub24oImNoYW5nZVNlbGVjdGlvbiIsaC5kZXN0cm95KSxlLm9uKCJjaGFuZ2VTZXNzaW9uIixoLmRlc3Ryb3kpLGUub24oIm1vdXNldXAiLGguZGVzdHJveSksZS5vbigiY2hhbmdlIixoLmRlc3Ryb3kpLGUuc2Vzc2lvbi53aWRnZXRNYW5hZ2VyLmFkZExpbmVXaWRnZXQoaCksaC5lbC5vbm1vdXNlZG93bj1lLmZvY3VzLmJpbmQoZSksZS5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldyhudWxsLC41LHtib3R0b206aC5lbC5vZmZzZXRIZWlnaHR9KX0saS5pbXBvcnRDc3NTdHJpbmcoIiAgICAuZXJyb3Jfd2lkZ2V0X3dyYXBwZXIgeyAgICAgICAgYmFja2dyb3VuZDogaW5oZXJpdDsgICAgICAgIGNvbG9yOiBpbmhlcml0OyAgICAgICAgYm9yZGVyOm5vbmUgICAgfSAgICAuZXJyb3Jfd2lkZ2V0IHsgICAgICAgIGJvcmRlci10b3A6IHNvbGlkIDJweDsgICAgICAgIGJvcmRlci1ib3R0b206IHNvbGlkIDJweDsgICAgICAgIG1hcmdpbjogNXB4IDA7ICAgICAgICBwYWRkaW5nOiAxMHB4IDQwcHg7ICAgICAgICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7ICAgIH0gICAgLmVycm9yX3dpZGdldC5hY2VfZXJyb3IsIC5lcnJvcl93aWRnZXRfYXJyb3cuYWNlX2Vycm9yeyAgICAgICAgYm9yZGVyLWNvbG9yOiAjZmY1YTVhICAgIH0gICAgLmVycm9yX3dpZGdldC5hY2Vfd2FybmluZywgLmVycm9yX3dpZGdldF9hcnJvdy5hY2Vfd2FybmluZ3sgICAgICAgIGJvcmRlci1jb2xvcjogI0YxRDgxNyAgICB9ICAgIC5lcnJvcl93aWRnZXQuYWNlX2luZm8sIC5lcnJvcl93aWRnZXRfYXJyb3cuYWNlX2luZm97ICAgICAgICBib3JkZXItY29sb3I6ICM1YTVhNWEgICAgfSAgICAuZXJyb3Jfd2lkZ2V0LmFjZV9vaywgLmVycm9yX3dpZGdldF9hcnJvdy5hY2Vfb2t7ICAgICAgICBib3JkZXItY29sb3I6ICM1YWFhNWEgICAgfSAgICAuZXJyb3Jfd2lkZ2V0X2Fycm93IHsgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsgICAgICAgIGJvcmRlcjogc29saWQgNXB4OyAgICAgICAgYm9yZGVyLXRvcC1jb2xvcjogdHJhbnNwYXJlbnQhaW1wb3J0YW50OyAgICAgICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudCFpbXBvcnRhbnQ7ICAgICAgICBib3JkZXItbGVmdC1jb2xvcjogdHJhbnNwYXJlbnQhaW1wb3J0YW50OyAgICAgICAgdG9wOiAtNXB4OyAgICB9IiwiIil9KSxkZWZpbmUoImFjZS9saWIvZml4b2xkYnJvd3NlcnMiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL3JlZ2V4cCIsImFjZS9saWIvZXM1LXNoaW0iXSxmdW5jdGlvbihlKXtlKCIuL3JlZ2V4cCIpLGUoIi4vZXM1LXNoaW0iKX0pLGRlZmluZSgiYWNlL2xpbmVfd2lkZ2V0cyIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL2xpYi9kb20iLCJhY2UvcmFuZ2UiXSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG8oZSl7dGhpcy5zZXNzaW9uPWUsdGhpcy5zZXNzaW9uLndpZGdldE1hbmFnZXI9dGhpcyx0aGlzLnNlc3Npb24uZ2V0Um93TGVuZ3RoPXRoaXMuZ2V0Um93TGVuZ3RoLHRoaXMuc2Vzc2lvbi4kZ2V0V2lkZ2V0U2NyZWVuTGVuZ3RoPXRoaXMuJGdldFdpZGdldFNjcmVlbkxlbmd0aCx0aGlzLnVwZGF0ZU9uQ2hhbmdlPXRoaXMudXBkYXRlT25DaGFuZ2UuYmluZCh0aGlzKSx0aGlzLnJlbmRlcldpZGdldHM9dGhpcy5yZW5kZXJXaWRnZXRzLmJpbmQodGhpcyksdGhpcy5tZWFzdXJlV2lkZ2V0cz10aGlzLm1lYXN1cmVXaWRnZXRzLmJpbmQodGhpcyksdGhpcy5zZXNzaW9uLl9jaGFuZ2VkV2lkZ2V0cz1bXSx0aGlzLmRldGFjaD10aGlzLmRldGFjaC5iaW5kKHRoaXMpLHRoaXMuc2Vzc2lvbi5vbigiY2hhbmdlIix0aGlzLnVwZGF0ZU9uQ2hhbmdlKX17dmFyIGk9KGUoIi4vbGliL29vcCIpLGUoIi4vbGliL2RvbSIpKTtlKCIuL3JhbmdlIikuUmFuZ2V9KGZ1bmN0aW9uKCl7dGhpcy5nZXRSb3dMZW5ndGg9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHQ9dGhpcy5saW5lV2lkZ2V0cz90aGlzLmxpbmVXaWRnZXRzW2VdJiZ0aGlzLmxpbmVXaWRnZXRzW2VdLnJvd0NvdW50fHwwOjAsdGhpcy4kdXNlV3JhcE1vZGUmJnRoaXMuJHdyYXBEYXRhW2VdP3RoaXMuJHdyYXBEYXRhW2VdLmxlbmd0aCsxK3Q6MSt0fSx0aGlzLiRnZXRXaWRnZXRTY3JlZW5MZW5ndGg9ZnVuY3Rpb24oKXt2YXIgZT0wO3JldHVybiB0aGlzLmxpbmVXaWRnZXRzLmZvckVhY2goZnVuY3Rpb24odCl7dCYmdC5yb3dDb3VudCYmKGUrPXQucm93Q291bnQpfSksZX0sdGhpcy5hdHRhY2g9ZnVuY3Rpb24oZSl7ZS53aWRnZXRNYW5hZ2VyJiZlLndpZGdldE1hbmFnZXIhPXRoaXMmJmUud2lkZ2V0TWFuYWdlci5kZXRhY2goKSx0aGlzLmVkaXRvciE9ZSYmKHRoaXMuZGV0YWNoKCksdGhpcy5lZGl0b3I9ZSx0aGlzLmVkaXRvci5vbigiY2hhbmdlU2Vzc2lvbiIsdGhpcy5kZXRhY2gpLGUud2lkZ2V0TWFuYWdlcj10aGlzLGUuc2V0T3B0aW9uKCJlbmFibGVMaW5lV2lkZ2V0cyIsITApLGUucmVuZGVyZXIub24oImJlZm9yZVJlbmRlciIsdGhpcy5tZWFzdXJlV2lkZ2V0cyksZS5yZW5kZXJlci5vbigiYWZ0ZXJSZW5kZXIiLHRoaXMucmVuZGVyV2lkZ2V0cykpfSx0aGlzLmRldGFjaD1mdW5jdGlvbihlKXtpZighZXx8ZS5zZXNzaW9uIT10aGlzLnNlc3Npb24pe3ZhciB0PXRoaXMuZWRpdG9yO2lmKHQpe3Qub2ZmKCJjaGFuZ2VTZXNzaW9uIix0aGlzLmRldGFjaCksdGhpcy5lZGl0b3I9bnVsbCx0LndpZGdldE1hbmFnZXI9bnVsbCx0LnJlbmRlcmVyLm9mZigiYmVmb3JlUmVuZGVyIix0aGlzLm1lYXN1cmVXaWRnZXRzKSx0LnJlbmRlcmVyLm9mZigiYWZ0ZXJSZW5kZXIiLHRoaXMucmVuZGVyV2lkZ2V0cyk7dmFyIG49dGhpcy5zZXNzaW9uLmxpbmVXaWRnZXRzO24mJm4uZm9yRWFjaChmdW5jdGlvbihlKXtlJiZlLmVsJiZlLmVsLnBhcmVudE5vZGUmJihlLl9pbkRvY3VtZW50PSExLGUuZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlLmVsKSl9KX19fSx0aGlzLnVwZGF0ZU9uQ2hhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0cztpZih0KXt2YXIgbj1lLmRhdGEscj1uLnJhbmdlLGk9ci5zdGFydC5yb3cscz1yLmVuZC5yb3ctaTtpZigwIT09cylpZigicmVtb3ZlVGV4dCI9PW4uYWN0aW9ufHwicmVtb3ZlTGluZXMiPT1uLmFjdGlvbil7dmFyIG89dC5zcGxpY2UoaSsxLHMpO28uZm9yRWFjaChmdW5jdGlvbihlKXtlJiZ0aGlzLnJlbW92ZUxpbmVXaWRnZXQoZSl9LHRoaXMpLHRoaXMuJHVwZGF0ZVJvd3MoKX1lbHNle3ZhciB1PW5ldyBBcnJheShzKTt1LnVuc2hpZnQoaSwwKSx0LnNwbGljZS5hcHBseSh0LHUpLHRoaXMuJHVwZGF0ZVJvd3MoKX19fSx0aGlzLiR1cGRhdGVSb3dzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZXNzaW9uLmxpbmVXaWRnZXRzO2lmKGUpe3ZhciB0PSEwO2UuZm9yRWFjaChmdW5jdGlvbihlLG4pe2UmJih0PSExLGUucm93PW4pfSksdCYmKHRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0cz1udWxsKX19LHRoaXMuYWRkTGluZVdpZGdldD1mdW5jdGlvbihlKXt0aGlzLnNlc3Npb24ubGluZVdpZGdldHN8fCh0aGlzLnNlc3Npb24ubGluZVdpZGdldHM9bmV3IEFycmF5KHRoaXMuc2Vzc2lvbi5nZXRMZW5ndGgoKSkpLHRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0c1tlLnJvd109ZTt2YXIgdD10aGlzLmVkaXRvci5yZW5kZXJlcjtyZXR1cm4gZS5odG1sJiYhZS5lbCYmKGUuZWw9aS5jcmVhdGVFbGVtZW50KCJkaXYiKSxlLmVsLmlubmVySFRNTD1lLmh0bWwpLGUuZWwmJihpLmFkZENzc0NsYXNzKGUuZWwsImFjZV9saW5lV2lkZ2V0Q29udGFpbmVyIiksZS5lbC5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLGUuZWwuc3R5bGUuekluZGV4PTUsdC5jb250YWluZXIuYXBwZW5kQ2hpbGQoZS5lbCksZS5faW5Eb2N1bWVudD0hMCksZS5jb3Zlckd1dHRlcnx8KGUuZWwuc3R5bGUuekluZGV4PTMpLGUucGl4ZWxIZWlnaHR8fChlLnBpeGVsSGVpZ2h0PWUuZWwub2Zmc2V0SGVpZ2h0KSxudWxsPT1lLnJvd0NvdW50JiYoZS5yb3dDb3VudD1lLnBpeGVsSGVpZ2h0L3QubGF5ZXJDb25maWcubGluZUhlaWdodCksdGhpcy5zZXNzaW9uLl9lbWl0KCJjaGFuZ2VGb2xkIix7ZGF0YTp7c3RhcnQ6e3JvdzplLnJvd319fSksdGhpcy4kdXBkYXRlUm93cygpLHRoaXMucmVuZGVyV2lkZ2V0cyhudWxsLHQpLGV9LHRoaXMucmVtb3ZlTGluZVdpZGdldD1mdW5jdGlvbihlKXtpZihlLl9pbkRvY3VtZW50PSExLGUuZWwmJmUuZWwucGFyZW50Tm9kZSYmZS5lbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUuZWwpLGUuZWRpdG9yJiZlLmVkaXRvci5kZXN0cm95KXRyeXtlLmVkaXRvci5kZXN0cm95KCl9Y2F0Y2godCl7fXRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0cyYmKHRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0c1tlLnJvd109dm9pZCAwKSx0aGlzLnNlc3Npb24uX2VtaXQoImNoYW5nZUZvbGQiLHtkYXRhOntzdGFydDp7cm93OmUucm93fX19KSx0aGlzLiR1cGRhdGVSb3dzKCl9LHRoaXMub25XaWRnZXRDaGFuZ2VkPWZ1bmN0aW9uKGUpe3RoaXMuc2Vzc2lvbi5fY2hhbmdlZFdpZGdldHMucHVzaChlKSx0aGlzLmVkaXRvciYmdGhpcy5lZGl0b3IucmVuZGVyZXIudXBkYXRlRnVsbCgpfSx0aGlzLm1lYXN1cmVXaWRnZXRzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5zZXNzaW9uLl9jaGFuZ2VkV2lkZ2V0cyxyPXQubGF5ZXJDb25maWc7aWYobiYmbi5sZW5ndGgpe2Zvcih2YXIgaT0xLzAscz0wO3M8bi5sZW5ndGg7cysrKXt2YXIgbz1uW3NdO28uX2luRG9jdW1lbnR8fChvLl9pbkRvY3VtZW50PSEwLHQuY29udGFpbmVyLmFwcGVuZENoaWxkKG8uZWwpKSxvLmg9by5lbC5vZmZzZXRIZWlnaHQsby5maXhlZFdpZHRofHwoby53PW8uZWwub2Zmc2V0V2lkdGgsby5zY3JlZW5XaWR0aD1NYXRoLmNlaWwoby53L3IuY2hhcmFjdGVyV2lkdGgpKTt2YXIgdT1vLmgvci5saW5lSGVpZ2h0O28uY292ZXJMaW5lJiYodS09dGhpcy5zZXNzaW9uLmdldFJvd0xpbmVDb3VudChvLnJvdyksMD51JiYodT0wKSksby5yb3dDb3VudCE9dSYmKG8ucm93Q291bnQ9dSxvLnJvdzxpJiYoaT1vLnJvdykpfTEvMCE9aSYmKHRoaXMuc2Vzc2lvbi5fZW1pdCgiY2hhbmdlRm9sZCIse2RhdGE6e3N0YXJ0Ontyb3c6aX19fSksdGhpcy5zZXNzaW9uLmxpbmVXaWRnZXRXaWR0aD1udWxsKSx0aGlzLnNlc3Npb24uX2NoYW5nZWRXaWRnZXRzPVtdCn19LHRoaXMucmVuZGVyV2lkZ2V0cz1mdW5jdGlvbihlLHQpe3ZhciBuPXQubGF5ZXJDb25maWcscj10aGlzLnNlc3Npb24ubGluZVdpZGdldHM7aWYocil7Zm9yKHZhciBpPU1hdGgubWluKHRoaXMuZmlyc3RSb3csbi5maXJzdFJvdykscz1NYXRoLm1heCh0aGlzLmxhc3RSb3csbi5sYXN0Um93LHIubGVuZ3RoKTtpPjAmJiFyW2ldOylpLS07dGhpcy5maXJzdFJvdz1uLmZpcnN0Um93LHRoaXMubGFzdFJvdz1uLmxhc3RSb3csdC4kY3Vyc29yTGF5ZXIuY29uZmlnPW47Zm9yKHZhciBvPWk7cz49bztvKyspe3ZhciB1PXJbb107aWYodSYmdS5lbCl7dS5faW5Eb2N1bWVudHx8KHUuX2luRG9jdW1lbnQ9ITAsdC5jb250YWluZXIuYXBwZW5kQ2hpbGQodS5lbCkpO3ZhciBhPXQuJGN1cnNvckxheWVyLmdldFBpeGVsUG9zaXRpb24oe3JvdzpvLGNvbHVtbjowfSwhMCkudG9wO3UuY292ZXJMaW5lfHwoYSs9bi5saW5lSGVpZ2h0KnRoaXMuc2Vzc2lvbi5nZXRSb3dMaW5lQ291bnQodS5yb3cpKSx1LmVsLnN0eWxlLnRvcD1hLW4ub2Zmc2V0KyJweCI7dmFyIGY9dS5jb3Zlckd1dHRlcj8wOnQuZ3V0dGVyV2lkdGg7dS5maXhlZFdpZHRofHwoZi09dC5zY3JvbGxMZWZ0KSx1LmVsLnN0eWxlLmxlZnQ9ZisicHgiLHUuZWwuc3R5bGUucmlnaHQ9dS5maXhlZFdpZHRoP3Quc2Nyb2xsQmFyLmdldFdpZHRoKCkrInB4IjoiIn19fX19KS5jYWxsKG8ucHJvdG90eXBlKSx0LkxpbmVXaWRnZXRzPW99KSxkZWZpbmUoImFjZS9kb2N1bWVudCIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL2xpYi9ldmVudF9lbWl0dGVyIiwiYWNlL3JhbmdlIiwiYWNlL2FuY2hvciJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSgiLi9saWIvb29wIiksaT1lKCIuL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyLHM9ZSgiLi9yYW5nZSIpLlJhbmdlLG89ZSgiLi9hbmNob3IiKS5BbmNob3IsdT1mdW5jdGlvbihlKXt0aGlzLiRsaW5lcz1bXSwwPT09ZS5sZW5ndGg/dGhpcy4kbGluZXM9WyIiXTpBcnJheS5pc0FycmF5KGUpP3RoaXMuX2luc2VydExpbmVzKDAsZSk6dGhpcy5pbnNlcnQoe3JvdzowLGNvbHVtbjowfSxlKX07KGZ1bmN0aW9uKCl7ci5pbXBsZW1lbnQodGhpcyxpKSx0aGlzLnNldFZhbHVlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0TGVuZ3RoKCk7dGhpcy5yZW1vdmUobmV3IHMoMCwwLHQsdGhpcy5nZXRMaW5lKHQtMSkubGVuZ3RoKSksdGhpcy5pbnNlcnQoe3JvdzowLGNvbHVtbjowfSxlKX0sdGhpcy5nZXRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEFsbExpbmVzKCkuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSl9LHRoaXMuY3JlYXRlQW5jaG9yPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBvKHRoaXMsZSx0KX0sdGhpcy4kc3BsaXQ9MD09PSJhYWEiLnNwbGl0KC9hLykubGVuZ3RoP2Z1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1xyXG58XHIvZywiXG4iKS5zcGxpdCgiXG4iKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3BsaXQoL1xyXG58XHJ8XG4vKX0sdGhpcy4kZGV0ZWN0TmV3TGluZT1mdW5jdGlvbihlKXt2YXIgdD1lLm1hdGNoKC9eLio/KFxyXG58XHJ8XG4pL20pO3RoaXMuJGF1dG9OZXdMaW5lPXQ/dFsxXToiXG4iLHRoaXMuX3NpZ25hbCgiY2hhbmdlTmV3TGluZU1vZGUiKX0sdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyPWZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuJG5ld0xpbmVNb2RlKXtjYXNlIndpbmRvd3MiOnJldHVybiJcclxuIjtjYXNlInVuaXgiOnJldHVybiJcbiI7ZGVmYXVsdDpyZXR1cm4gdGhpcy4kYXV0b05ld0xpbmV8fCJcbiJ9fSx0aGlzLiRhdXRvTmV3TGluZT0iIix0aGlzLiRuZXdMaW5lTW9kZT0iYXV0byIsdGhpcy5zZXROZXdMaW5lTW9kZT1mdW5jdGlvbihlKXt0aGlzLiRuZXdMaW5lTW9kZSE9PWUmJih0aGlzLiRuZXdMaW5lTW9kZT1lLHRoaXMuX3NpZ25hbCgiY2hhbmdlTmV3TGluZU1vZGUiKSl9LHRoaXMuZ2V0TmV3TGluZU1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kbmV3TGluZU1vZGV9LHRoaXMuaXNOZXdMaW5lPWZ1bmN0aW9uKGUpe3JldHVybiJcclxuIj09ZXx8IlxyIj09ZXx8IlxuIj09ZX0sdGhpcy5nZXRMaW5lPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLiRsaW5lc1tlXXx8IiJ9LHRoaXMuZ2V0TGluZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy4kbGluZXMuc2xpY2UoZSx0KzEpfSx0aGlzLmdldEFsbExpbmVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TGluZXMoMCx0aGlzLmdldExlbmd0aCgpKX0sdGhpcy5nZXRMZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kbGluZXMubGVuZ3RofSx0aGlzLmdldFRleHRSYW5nZT1mdW5jdGlvbihlKXtpZihlLnN0YXJ0LnJvdz09ZS5lbmQucm93KXJldHVybiB0aGlzLmdldExpbmUoZS5zdGFydC5yb3cpLnN1YnN0cmluZyhlLnN0YXJ0LmNvbHVtbixlLmVuZC5jb2x1bW4pO3ZhciB0PXRoaXMuZ2V0TGluZXMoZS5zdGFydC5yb3csZS5lbmQucm93KTt0WzBdPSh0WzBdfHwiIikuc3Vic3RyaW5nKGUuc3RhcnQuY29sdW1uKTt2YXIgbj10Lmxlbmd0aC0xO3JldHVybiBlLmVuZC5yb3ctZS5zdGFydC5yb3c9PW4mJih0W25dPXRbbl0uc3Vic3RyaW5nKDAsZS5lbmQuY29sdW1uKSksdC5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKX0sdGhpcy4kY2xpcFBvc2l0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0TGVuZ3RoKCk7cmV0dXJuIGUucm93Pj10PyhlLnJvdz1NYXRoLm1heCgwLHQtMSksZS5jb2x1bW49dGhpcy5nZXRMaW5lKHQtMSkubGVuZ3RoKTplLnJvdzwwJiYoZS5yb3c9MCksZX0sdGhpcy5pbnNlcnQ9ZnVuY3Rpb24oZSx0KXtpZighdHx8MD09PXQubGVuZ3RoKXJldHVybiBlO2U9dGhpcy4kY2xpcFBvc2l0aW9uKGUpLHRoaXMuZ2V0TGVuZ3RoKCk8PTEmJnRoaXMuJGRldGVjdE5ld0xpbmUodCk7dmFyIG49dGhpcy4kc3BsaXQodCkscj1uLnNwbGljZSgwLDEpWzBdLGk9MD09bi5sZW5ndGg/bnVsbDpuLnNwbGljZShuLmxlbmd0aC0xLDEpWzBdO3JldHVybiBlPXRoaXMuaW5zZXJ0SW5MaW5lKGUsciksbnVsbCE9PWkmJihlPXRoaXMuaW5zZXJ0TmV3TGluZShlKSxlPXRoaXMuX2luc2VydExpbmVzKGUucm93LG4pLGU9dGhpcy5pbnNlcnRJbkxpbmUoZSxpfHwiIikpLGV9LHRoaXMuaW5zZXJ0TGluZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT49dGhpcy5nZXRMZW5ndGgoKT90aGlzLmluc2VydCh7cm93OmUsY29sdW1uOjB9LCJcbiIrdC5qb2luKCJcbiIpKTp0aGlzLl9pbnNlcnRMaW5lcyhNYXRoLm1heChlLDApLHQpfSx0aGlzLl9pbnNlcnRMaW5lcz1mdW5jdGlvbihlLHQpe2lmKDA9PXQubGVuZ3RoKXJldHVybntyb3c6ZSxjb2x1bW46MH07Zm9yKDt0Lmxlbmd0aD42MTQ0MDspe3ZhciBuPXRoaXMuX2luc2VydExpbmVzKGUsdC5zbGljZSgwLDYxNDQwKSk7dD10LnNsaWNlKDYxNDQwKSxlPW4ucm93fXZhciByPVtlLDBdO3IucHVzaC5hcHBseShyLHQpLHRoaXMuJGxpbmVzLnNwbGljZS5hcHBseSh0aGlzLiRsaW5lcyxyKTt2YXIgaT1uZXcgcyhlLDAsZSt0Lmxlbmd0aCwwKSxvPXthY3Rpb246Imluc2VydExpbmVzIixyYW5nZTppLGxpbmVzOnR9O3JldHVybiB0aGlzLl9zaWduYWwoImNoYW5nZSIse2RhdGE6b30pLGkuZW5kfSx0aGlzLmluc2VydE5ld0xpbmU9ZnVuY3Rpb24oZSl7ZT10aGlzLiRjbGlwUG9zaXRpb24oZSk7dmFyIHQ9dGhpcy4kbGluZXNbZS5yb3ddfHwiIjt0aGlzLiRsaW5lc1tlLnJvd109dC5zdWJzdHJpbmcoMCxlLmNvbHVtbiksdGhpcy4kbGluZXMuc3BsaWNlKGUucm93KzEsMCx0LnN1YnN0cmluZyhlLmNvbHVtbix0Lmxlbmd0aCkpO3ZhciBuPXtyb3c6ZS5yb3crMSxjb2x1bW46MH0scj17YWN0aW9uOiJpbnNlcnRUZXh0IixyYW5nZTpzLmZyb21Qb2ludHMoZSxuKSx0ZXh0OnRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpfTtyZXR1cm4gdGhpcy5fc2lnbmFsKCJjaGFuZ2UiLHtkYXRhOnJ9KSxufSx0aGlzLmluc2VydEluTGluZT1mdW5jdGlvbihlLHQpe2lmKDA9PXQubGVuZ3RoKXJldHVybiBlO3ZhciBuPXRoaXMuJGxpbmVzW2Uucm93XXx8IiI7dGhpcy4kbGluZXNbZS5yb3ddPW4uc3Vic3RyaW5nKDAsZS5jb2x1bW4pK3Qrbi5zdWJzdHJpbmcoZS5jb2x1bW4pO3ZhciByPXtyb3c6ZS5yb3csY29sdW1uOmUuY29sdW1uK3QubGVuZ3RofSxpPXthY3Rpb246Imluc2VydFRleHQiLHJhbmdlOnMuZnJvbVBvaW50cyhlLHIpLHRleHQ6dH07cmV0dXJuIHRoaXMuX3NpZ25hbCgiY2hhbmdlIix7ZGF0YTppfSkscn0sdGhpcy5yZW1vdmU9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHN8fChlPXMuZnJvbVBvaW50cyhlLnN0YXJ0LGUuZW5kKSksZS5zdGFydD10aGlzLiRjbGlwUG9zaXRpb24oZS5zdGFydCksZS5lbmQ9dGhpcy4kY2xpcFBvc2l0aW9uKGUuZW5kKSxlLmlzRW1wdHkoKSlyZXR1cm4gZS5zdGFydDt2YXIgdD1lLnN0YXJ0LnJvdyxuPWUuZW5kLnJvdztpZihlLmlzTXVsdGlMaW5lKCkpe3ZhciByPTA9PWUuc3RhcnQuY29sdW1uP3Q6dCsxLGk9bi0xO2UuZW5kLmNvbHVtbj4wJiZ0aGlzLnJlbW92ZUluTGluZShuLDAsZS5lbmQuY29sdW1uKSxpPj1yJiZ0aGlzLl9yZW1vdmVMaW5lcyhyLGkpLHIhPXQmJih0aGlzLnJlbW92ZUluTGluZSh0LGUuc3RhcnQuY29sdW1uLHRoaXMuZ2V0TGluZSh0KS5sZW5ndGgpLHRoaXMucmVtb3ZlTmV3TGluZShlLnN0YXJ0LnJvdykpfWVsc2UgdGhpcy5yZW1vdmVJbkxpbmUodCxlLnN0YXJ0LmNvbHVtbixlLmVuZC5jb2x1bW4pO3JldHVybiBlLnN0YXJ0fSx0aGlzLnJlbW92ZUluTGluZT1mdW5jdGlvbihlLHQsbil7aWYodCE9bil7dmFyIHI9bmV3IHMoZSx0LGUsbiksaT10aGlzLmdldExpbmUoZSksbz1pLnN1YnN0cmluZyh0LG4pLHU9aS5zdWJzdHJpbmcoMCx0KStpLnN1YnN0cmluZyhuLGkubGVuZ3RoKTt0aGlzLiRsaW5lcy5zcGxpY2UoZSwxLHUpO3ZhciBhPXthY3Rpb246InJlbW92ZVRleHQiLHJhbmdlOnIsdGV4dDpvfTtyZXR1cm4gdGhpcy5fc2lnbmFsKCJjaGFuZ2UiLHtkYXRhOmF9KSxyLnN0YXJ0fX0sdGhpcy5yZW1vdmVMaW5lcz1mdW5jdGlvbihlLHQpe3JldHVybiAwPmV8fHQ+PXRoaXMuZ2V0TGVuZ3RoKCk/dGhpcy5yZW1vdmUobmV3IHMoZSwwLHQrMSwwKSk6dGhpcy5fcmVtb3ZlTGluZXMoZSx0KX0sdGhpcy5fcmVtb3ZlTGluZXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgcyhlLDAsdCsxLDApLHI9dGhpcy4kbGluZXMuc3BsaWNlKGUsdC1lKzEpLGk9e2FjdGlvbjoicmVtb3ZlTGluZXMiLHJhbmdlOm4sbmw6dGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCksbGluZXM6cn07cmV0dXJuIHRoaXMuX3NpZ25hbCgiY2hhbmdlIix7ZGF0YTppfSkscn0sdGhpcy5yZW1vdmVOZXdMaW5lPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0TGluZShlKSxuPXRoaXMuZ2V0TGluZShlKzEpLHI9bmV3IHMoZSx0Lmxlbmd0aCxlKzEsMCksaT10K247dGhpcy4kbGluZXMuc3BsaWNlKGUsMixpKTt2YXIgbz17YWN0aW9uOiJyZW1vdmVUZXh0IixyYW5nZTpyLHRleHQ6dGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCl9O3RoaXMuX3NpZ25hbCgiY2hhbmdlIix7ZGF0YTpvfSl9LHRoaXMucmVwbGFjZT1mdW5jdGlvbihlLHQpe2lmKGUgaW5zdGFuY2VvZiBzfHwoZT1zLmZyb21Qb2ludHMoZS5zdGFydCxlLmVuZCkpLDA9PXQubGVuZ3RoJiZlLmlzRW1wdHkoKSlyZXR1cm4gZS5zdGFydDtpZih0PT10aGlzLmdldFRleHRSYW5nZShlKSlyZXR1cm4gZS5lbmQ7aWYodGhpcy5yZW1vdmUoZSksdCl2YXIgbj10aGlzLmluc2VydChlLnN0YXJ0LHQpO2Vsc2Ugbj1lLnN0YXJ0O3JldHVybiBufSx0aGlzLmFwcGx5RGVsdGFzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdLHI9cy5mcm9tUG9pbnRzKG4ucmFuZ2Uuc3RhcnQsbi5yYW5nZS5lbmQpOyJpbnNlcnRMaW5lcyI9PW4uYWN0aW9uP3RoaXMuaW5zZXJ0TGluZXMoci5zdGFydC5yb3csbi5saW5lcyk6Imluc2VydFRleHQiPT1uLmFjdGlvbj90aGlzLmluc2VydChyLnN0YXJ0LG4udGV4dCk6InJlbW92ZUxpbmVzIj09bi5hY3Rpb24/dGhpcy5fcmVtb3ZlTGluZXMoci5zdGFydC5yb3csci5lbmQucm93LTEpOiJyZW1vdmVUZXh0Ij09bi5hY3Rpb24mJnRoaXMucmVtb3ZlKHIpfX0sdGhpcy5yZXZlcnREZWx0YXM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUubGVuZ3RoLTE7dD49MDt0LS0pe3ZhciBuPWVbdF0scj1zLmZyb21Qb2ludHMobi5yYW5nZS5zdGFydCxuLnJhbmdlLmVuZCk7Imluc2VydExpbmVzIj09bi5hY3Rpb24/dGhpcy5fcmVtb3ZlTGluZXMoci5zdGFydC5yb3csci5lbmQucm93LTEpOiJpbnNlcnRUZXh0Ij09bi5hY3Rpb24/dGhpcy5yZW1vdmUocik6InJlbW92ZUxpbmVzIj09bi5hY3Rpb24/dGhpcy5faW5zZXJ0TGluZXMoci5zdGFydC5yb3csbi5saW5lcyk6InJlbW92ZVRleHQiPT1uLmFjdGlvbiYmdGhpcy5pbnNlcnQoci5zdGFydCxuLnRleHQpfX0sdGhpcy5pbmRleFRvUG9zaXRpb249ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dGhpcy4kbGluZXN8fHRoaXMuZ2V0QWxsTGluZXMoKSxyPXRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aCxpPXR8fDAscz1uLmxlbmd0aDtzPmk7aSsrKWlmKGUtPW5baV0ubGVuZ3RoK3IsMD5lKXJldHVybntyb3c6aSxjb2x1bW46ZStuW2ldLmxlbmd0aCtyfTtyZXR1cm57cm93OnMtMSxjb2x1bW46bltzLTFdLmxlbmd0aH19LHRoaXMucG9zaXRpb25Ub0luZGV4PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMuJGxpbmVzfHx0aGlzLmdldEFsbExpbmVzKCkscj10aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKS5sZW5ndGgsaT0wLHM9TWF0aC5taW4oZS5yb3csbi5sZW5ndGgpLG89dHx8MDtzPm87KytvKWkrPW5bb10ubGVuZ3RoK3I7cmV0dXJuIGkrZS5jb2x1bW59fSkuY2FsbCh1LnByb3RvdHlwZSksdC5Eb2N1bWVudD11fSksZnVuY3Rpb24oKXt3aW5kb3cucmVxdWlyZShbImFjZS9hY2UiXSxmdW5jdGlvbihlKXtlJiZlLmNvbmZpZy5pbml0KCEwKSx3aW5kb3cuYWNlfHwod2luZG93LmFjZT1lKTtmb3IodmFyIHQgaW4gZSllLmhhc093blByb3BlcnR5KHQpJiYoYWNlW3RdPWVbdF0pfSl9KCksZGVmaW5lKCJhY2UvdGhlbWUvbW9ub2thaSIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvZG9tIl0sZnVuY3Rpb24oZSx0KXt0LmlzRGFyaz0hMCx0LmNzc0NsYXNzPSJhY2UtbW9ub2thaSIsdC5jc3NUZXh0PSIuYWNlLW1vbm9rYWkgLmFjZV9ndXR0ZXIge2JhY2tncm91bmQ6ICMyRjMxMjk7Y29sb3I6ICM4RjkwOEF9LmFjZS1tb25va2FpIC5hY2VfcHJpbnQtbWFyZ2luIHt3aWR0aDogMXB4O2JhY2tncm91bmQ6ICM1NTU2NTF9LmFjZS1tb25va2FpIHtiYWNrZ3JvdW5kLWNvbG9yOiAjMjcyODIyO2NvbG9yOiAjRjhGOEYyfS5hY2UtbW9ub2thaSAuYWNlX2N1cnNvciB7Y29sb3I6ICNGOEY4RjB9LmFjZS1tb25va2FpIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0aW9uIHtiYWNrZ3JvdW5kOiAjNDk0ODNFfS5hY2UtbW9ub2thaS5hY2VfbXVsdGlzZWxlY3QgLmFjZV9zZWxlY3Rpb24uYWNlX3N0YXJ0IHtib3gtc2hhZG93OiAwIDAgM3B4IDBweCAjMjcyODIyO2JvcmRlci1yYWRpdXM6IDJweH0uYWNlLW1vbm9rYWkgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zdGVwIHtiYWNrZ3JvdW5kOiByZ2IoMTAyLCA4MiwgMCl9LmFjZS1tb25va2FpIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYnJhY2tldCB7bWFyZ2luOiAtMXB4IDAgMCAtMXB4O2JvcmRlcjogMXB4IHNvbGlkICM0OTQ4M0V9LmFjZS1tb25va2FpIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYWN0aXZlLWxpbmUge2JhY2tncm91bmQ6ICMyMDIwMjB9LmFjZS1tb25va2FpIC5hY2VfZ3V0dGVyLWFjdGl2ZS1saW5lIHtiYWNrZ3JvdW5kLWNvbG9yOiAjMjcyNzI3fS5hY2UtbW9ub2thaSAuYWNlX21hcmtlci1sYXllciAuYWNlX3NlbGVjdGVkLXdvcmQge2JvcmRlcjogMXB4IHNvbGlkICM0OTQ4M0V9LmFjZS1tb25va2FpIC5hY2VfaW52aXNpYmxlIHtjb2xvcjogIzUyNTI0ZH0uYWNlLW1vbm9rYWkgLmFjZV9lbnRpdHkuYWNlX25hbWUuYWNlX3RhZywuYWNlLW1vbm9rYWkgLmFjZV9rZXl3b3JkLC5hY2UtbW9ub2thaSAuYWNlX21ldGEuYWNlX3RhZywuYWNlLW1vbm9rYWkgLmFjZV9zdG9yYWdlIHtjb2xvcjogI0Y5MjY3Mn0uYWNlLW1vbm9rYWkgLmFjZV9wdW5jdHVhdGlvbiwuYWNlLW1vbm9rYWkgLmFjZV9wdW5jdHVhdGlvbi5hY2VfdGFnIHtjb2xvcjogI2ZmZn0uYWNlLW1vbm9rYWkgLmFjZV9jb25zdGFudC5hY2VfY2hhcmFjdGVyLC5hY2UtbW9ub2thaSAuYWNlX2NvbnN0YW50LmFjZV9sYW5ndWFnZSwuYWNlLW1vbm9rYWkgLmFjZV9jb25zdGFudC5hY2VfbnVtZXJpYywuYWNlLW1vbm9rYWkgLmFjZV9jb25zdGFudC5hY2Vfb3RoZXIge2NvbG9yOiAjQUU4MUZGfS5hY2UtbW9ub2thaSAuYWNlX2ludmFsaWQge2NvbG9yOiAjRjhGOEYwO2JhY2tncm91bmQtY29sb3I6ICNGOTI2NzJ9LmFjZS1tb25va2FpIC5hY2VfaW52YWxpZC5hY2VfZGVwcmVjYXRlZCB7Y29sb3I6ICNGOEY4RjA7YmFja2dyb3VuZC1jb2xvcjogI0FFODFGRn0uYWNlLW1vbm9rYWkgLmFjZV9zdXBwb3J0LmFjZV9jb25zdGFudCwuYWNlLW1vbm9rYWkgLmFjZV9zdXBwb3J0LmFjZV9mdW5jdGlvbiB7Y29sb3I6ICM2NkQ5RUZ9LmFjZS1tb25va2FpIC5hY2VfZm9sZCB7YmFja2dyb3VuZC1jb2xvcjogI0E2RTIyRTtib3JkZXItY29sb3I6ICNGOEY4RjJ9LmFjZS1tb25va2FpIC5hY2Vfc3RvcmFnZS5hY2VfdHlwZSwuYWNlLW1vbm9rYWkgLmFjZV9zdXBwb3J0LmFjZV9jbGFzcywuYWNlLW1vbm9rYWkgLmFjZV9zdXBwb3J0LmFjZV90eXBlIHtmb250LXN0eWxlOiBpdGFsaWM7Y29sb3I6ICM2NkQ5RUZ9LmFjZS1tb25va2FpIC5hY2VfZW50aXR5LmFjZV9uYW1lLmFjZV9mdW5jdGlvbiwuYWNlLW1vbm9rYWkgLmFjZV9lbnRpdHkuYWNlX290aGVyLC5hY2UtbW9ub2thaSAuYWNlX2VudGl0eS5hY2Vfb3RoZXIuYWNlX2F0dHJpYnV0ZS1uYW1lLC5hY2UtbW9ub2thaSAuYWNlX3ZhcmlhYmxlIHtjb2xvcjogI0E2RTIyRX0uYWNlLW1vbm9rYWkgLmFjZV92YXJpYWJsZS5hY2VfcGFyYW1ldGVyIHtmb250LXN0eWxlOiBpdGFsaWM7Y29sb3I6ICNGRDk3MUZ9LmFjZS1tb25va2FpIC5hY2Vfc3RyaW5nIHtjb2xvcjogI0U2REI3NH0uYWNlLW1vbm9rYWkgLmFjZV9jb21tZW50IHtjb2xvcjogIzc1NzE1RX0uYWNlLW1vbm9rYWkgLmFjZV9pbmRlbnQtZ3VpZGUge2JhY2tncm91bmQ6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUNDQVlBQUFDWmdiWW5BQUFBRWtsRVFWUUltV1BRMEZEMFpYQnpkL3dQQUFqVkFveGVTZ05lQUFBQUFFbEZUa1N1UW1DQykgcmlnaHQgcmVwZWF0LXl9Ijt2YXIgcj1lKCIuLi9saWIvZG9tIik7ci5pbXBvcnRDc3NTdHJpbmcodC5jc3NUZXh0LHQuY3NzQ2xhc3MpfSksZGVmaW5lKCJhY2UvbW9kZS9qYXZhc2NyaXB0IixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9vb3AiLCJhY2UvbW9kZS90ZXh0IiwiYWNlL3Rva2VuaXplciIsImFjZS9tb2RlL2phdmFzY3JpcHRfaGlnaGxpZ2h0X3J1bGVzIiwiYWNlL21vZGUvbWF0Y2hpbmdfYnJhY2Vfb3V0ZGVudCIsImFjZS9yYW5nZSIsImFjZS93b3JrZXIvd29ya2VyX2NsaWVudCIsImFjZS9tb2RlL2JlaGF2aW91ci9jc3R5bGUiLCJhY2UvbW9kZS9mb2xkaW5nL2NzdHlsZSJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSgiLi4vbGliL29vcCIpLGk9ZSgiLi90ZXh0IikuTW9kZSxvPShlKCIuLi90b2tlbml6ZXIiKS5Ub2tlbml6ZXIsZSgiLi9qYXZhc2NyaXB0X2hpZ2hsaWdodF9ydWxlcyIpLkphdmFTY3JpcHRIaWdobGlnaHRSdWxlcyksdT1lKCIuL21hdGNoaW5nX2JyYWNlX291dGRlbnQiKS5NYXRjaGluZ0JyYWNlT3V0ZGVudCxmPShlKCIuLi9yYW5nZSIpLlJhbmdlLGUoIi4uL3dvcmtlci93b3JrZXJfY2xpZW50IikuV29ya2VyQ2xpZW50KSxsPWUoIi4vYmVoYXZpb3VyL2NzdHlsZSIpLkNzdHlsZUJlaGF2aW91cixjPWUoIi4vZm9sZGluZy9jc3R5bGUiKS5Gb2xkTW9kZSxoPWZ1bmN0aW9uKCl7dGhpcy5IaWdobGlnaHRSdWxlcz1vLHRoaXMuJG91dGRlbnQ9bmV3IHUsdGhpcy4kYmVoYXZpb3VyPW5ldyBsLHRoaXMuZm9sZGluZ1J1bGVzPW5ldyBjfTtyLmluaGVyaXRzKGgsaSksZnVuY3Rpb24oKXt0aGlzLmxpbmVDb21tZW50U3RhcnQ9Ii8vIix0aGlzLmJsb2NrQ29tbWVudD17c3RhcnQ6Ii8qIixlbmQ6IiovIn0sdGhpcy5nZXROZXh0TGluZUluZGVudD1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy4kZ2V0SW5kZW50KHQpLGk9dGhpcy5nZXRUb2tlbml6ZXIoKS5nZXRMaW5lVG9rZW5zKHQsZSkscz1pLnRva2VucyxvPWkuc3RhdGU7aWYocy5sZW5ndGgmJiJjb21tZW50Ij09c1tzLmxlbmd0aC0xXS50eXBlKXJldHVybiByO2lmKCJzdGFydCI9PWV8fCJub19yZWdleCI9PWUpe3ZhciB1PXQubWF0Y2goL14uKig/OlxiY2FzZVxiLipcOnxbXHtcKFxbXSlccyokLyk7dSYmKHIrPW4pfWVsc2UgaWYoImRvYy1zdGFydCI9PWUpe2lmKCJzdGFydCI9PW98fCJub19yZWdleCI9PW8pcmV0dXJuIiI7dmFyIHU9dC5tYXRjaCgvXlxzKihcLz8pXCovKTt1JiYodVsxXSYmKHIrPSIgIikscis9IiogIil9cmV0dXJuIHJ9LHRoaXMuY2hlY2tPdXRkZW50PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy4kb3V0ZGVudC5jaGVja091dGRlbnQodCxuKX0sdGhpcy5hdXRvT3V0ZGVudD1mdW5jdGlvbihlLHQsbil7dGhpcy4kb3V0ZGVudC5hdXRvT3V0ZGVudCh0LG4pfSx0aGlzLmNyZWF0ZVdvcmtlcj1mdW5jdGlvbihlKXt2YXIgdD1uZXcgZihbImFjZSJdLCJhY2UvbW9kZS9qYXZhc2NyaXB0X3dvcmtlciIsIkphdmFTY3JpcHRXb3JrZXIiKTtyZXR1cm4gdC5hdHRhY2hUb0RvY3VtZW50KGUuZ2V0RG9jdW1lbnQoKSksdC5vbigianNsaW50IixmdW5jdGlvbih0KXtlLnNldEFubm90YXRpb25zKHQuZGF0YSl9KSx0Lm9uKCJ0ZXJtaW5hdGUiLGZ1bmN0aW9uKCl7ZS5jbGVhckFubm90YXRpb25zKCl9KSx0fSx0aGlzLiRpZD0iYWNlL21vZGUvamF2YXNjcmlwdCJ9LmNhbGwoaC5wcm90b3R5cGUpLHQuTW9kZT1ofSksZGVmaW5lKCJhY2UvbW9kZS9qYXZhc2NyaXB0X2hpZ2hsaWdodF9ydWxlcyIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL21vZGUvZG9jX2NvbW1lbnRfaGlnaGxpZ2h0X3J1bGVzIiwiYWNlL21vZGUvdGV4dF9oaWdobGlnaHRfcnVsZXMiXSxmdW5jdGlvbihlLHQpe3ZhciByPWUoIi4uL2xpYi9vb3AiKSxpPWUoIi4vZG9jX2NvbW1lbnRfaGlnaGxpZ2h0X3J1bGVzIikuRG9jQ29tbWVudEhpZ2hsaWdodFJ1bGVzLHM9ZSgiLi90ZXh0X2hpZ2hsaWdodF9ydWxlcyIpLlRleHRIaWdobGlnaHRSdWxlcyxvPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jcmVhdGVLZXl3b3JkTWFwcGVyKHsidmFyaWFibGUubGFuZ3VhZ2UiOiJBcnJheXxCb29sZWFufERhdGV8RnVuY3Rpb258SXRlcmF0b3J8TnVtYmVyfE9iamVjdHxSZWdFeHB8U3RyaW5nfFByb3h5fE5hbWVzcGFjZXxRTmFtZXxYTUx8WE1MTGlzdHxBcnJheUJ1ZmZlcnxGbG9hdDMyQXJyYXl8RmxvYXQ2NEFycmF5fEludDE2QXJyYXl8SW50MzJBcnJheXxJbnQ4QXJyYXl8VWludDE2QXJyYXl8VWludDMyQXJyYXl8VWludDhBcnJheXxVaW50OENsYW1wZWRBcnJheXxFcnJvcnxFdmFsRXJyb3J8SW50ZXJuYWxFcnJvcnxSYW5nZUVycm9yfFJlZmVyZW5jZUVycm9yfFN0b3BJdGVyYXRpb258U3ludGF4RXJyb3J8VHlwZUVycm9yfFVSSUVycm9yfGRlY29kZVVSSXxkZWNvZGVVUklDb21wb25lbnR8ZW5jb2RlVVJJfGVuY29kZVVSSUNvbXBvbmVudHxldmFsfGlzRmluaXRlfGlzTmFOfHBhcnNlRmxvYXR8cGFyc2VJbnR8SlNPTnxNYXRofHRoaXN8YXJndW1lbnRzfHByb3RvdHlwZXx3aW5kb3d8ZG9jdW1lbnQiLGtleXdvcmQ6ImNvbnN0fHlpZWxkfGltcG9ydHxnZXR8c2V0fGJyZWFrfGNhc2V8Y2F0Y2h8Y29udGludWV8ZGVmYXVsdHxkZWxldGV8ZG98ZWxzZXxmaW5hbGx5fGZvcnxmdW5jdGlvbnxpZnxpbnxpbnN0YW5jZW9mfG5ld3xyZXR1cm58c3dpdGNofHRocm93fHRyeXx0eXBlb2Z8bGV0fHZhcnx3aGlsZXx3aXRofGRlYnVnZ2VyfF9fcGFyZW50X198X19jb3VudF9ffGVzY2FwZXx1bmVzY2FwZXx3aXRofF9fcHJvdG9fX3xjbGFzc3xlbnVtfGV4dGVuZHN8c3VwZXJ8ZXhwb3J0fGltcGxlbWVudHN8cHJpdmF0ZXxwdWJsaWN8aW50ZXJmYWNlfHBhY2thZ2V8cHJvdGVjdGVkfHN0YXRpYyIsInN0b3JhZ2UudHlwZSI6ImNvbnN0fGxldHx2YXJ8ZnVuY3Rpb24iLCJjb25zdGFudC5sYW5ndWFnZSI6Im51bGx8SW5maW5pdHl8TmFOfHVuZGVmaW5lZCIsInN1cHBvcnQuZnVuY3Rpb24iOiJhbGVydCIsImNvbnN0YW50Lmxhbmd1YWdlLmJvb2xlYW4iOiJ0cnVlfGZhbHNlIn0sImlkZW50aWZpZXIiKSx0PSJjYXNlfGRvfGVsc2V8ZmluYWxseXxpbnxpbnN0YW5jZW9mfHJldHVybnx0aHJvd3x0cnl8dHlwZW9mfHlpZWxkfHZvaWQiLG49IlthLXpBLVpcXCRfwqEt77+/XVthLXpBLVpcXGRcXCRfwqEt77+/XSpcXGIiLHI9IlxcXFwoPzp4WzAtOWEtZkEtRl17Mn18dVswLTlhLWZBLUZdezR9fFswLTJdWzAtN117MCwyfXwzWzAtNl1bMC03XT98MzdbMC03XT98WzQtN11bMC03XT98LikiO3RoaXMuJHJ1bGVzPXtub19yZWdleDpbe3Rva2VuOiJjb21tZW50IixyZWdleDoiXFwvXFwvIixuZXh0OiJsaW5lX2NvbW1lbnQifSxpLmdldFN0YXJ0UnVsZSgiZG9jLXN0YXJ0Iikse3Rva2VuOiJjb21tZW50IixyZWdleDovXC9cKi8sbmV4dDoiY29tbWVudCJ9LHt0b2tlbjoic3RyaW5nIixyZWdleDoiJyg/PS4pIixuZXh0OiJxc3RyaW5nIn0se3Rva2VuOiJzdHJpbmciLHJlZ2V4OiciKD89LiknLG5leHQ6InFxc3RyaW5nIn0se3Rva2VuOiJjb25zdGFudC5udW1lcmljIixyZWdleDovMFt4WF1bMC05YS1mQS1GXStcYi99LHt0b2tlbjoiY29uc3RhbnQubnVtZXJpYyIscmVnZXg6L1srLV0/XGQrKD86KD86XC5cZCopPyg/OltlRV1bKy1dP1xkKyk/KT9cYi99LHt0b2tlbjpbInN0b3JhZ2UudHlwZSIsInB1bmN0dWF0aW9uLm9wZXJhdG9yIiwic3VwcG9ydC5mdW5jdGlvbiIsInB1bmN0dWF0aW9uLm9wZXJhdG9yIiwiZW50aXR5Lm5hbWUuZnVuY3Rpb24iLCJ0ZXh0Iiwia2V5d29yZC5vcGVyYXRvciJdLHJlZ2V4OiIoIituKyIpKFxcLikocHJvdG90eXBlKShcXC4pKCIrbisiKShcXHMqKSg9KSIsbmV4dDoiZnVuY3Rpb25fYXJndW1lbnRzIn0se3Rva2VuOlsic3RvcmFnZS50eXBlIiwicHVuY3R1YXRpb24ub3BlcmF0b3IiLCJlbnRpdHkubmFtZS5mdW5jdGlvbiIsInRleHQiLCJrZXl3b3JkLm9wZXJhdG9yIiwidGV4dCIsInN0b3JhZ2UudHlwZSIsInRleHQiLCJwYXJlbi5scGFyZW4iXSxyZWdleDoiKCIrbisiKShcXC4pKCIrbisiKShcXHMqKSg9KShcXHMqKShmdW5jdGlvbikoXFxzKikoXFwoKSIsbmV4dDoiZnVuY3Rpb25fYXJndW1lbnRzIn0se3Rva2VuOlsiZW50aXR5Lm5hbWUuZnVuY3Rpb24iLCJ0ZXh0Iiwia2V5d29yZC5vcGVyYXRvciIsInRleHQiLCJzdG9yYWdlLnR5cGUiLCJ0ZXh0IiwicGFyZW4ubHBhcmVuIl0scmVnZXg6IigiK24rIikoXFxzKikoPSkoXFxzKikoZnVuY3Rpb24pKFxccyopKFxcKCkiLG5leHQ6ImZ1bmN0aW9uX2FyZ3VtZW50cyJ9LHt0b2tlbjpbInN0b3JhZ2UudHlwZSIsInB1bmN0dWF0aW9uLm9wZXJhdG9yIiwiZW50aXR5Lm5hbWUuZnVuY3Rpb24iLCJ0ZXh0Iiwia2V5d29yZC5vcGVyYXRvciIsInRleHQiLCJzdG9yYWdlLnR5cGUiLCJ0ZXh0IiwiZW50aXR5Lm5hbWUuZnVuY3Rpb24iLCJ0ZXh0IiwicGFyZW4ubHBhcmVuIl0scmVnZXg6IigiK24rIikoXFwuKSgiK24rIikoXFxzKikoPSkoXFxzKikoZnVuY3Rpb24pKFxccyspKFxcdyspKFxccyopKFxcKCkiLG5leHQ6ImZ1bmN0aW9uX2FyZ3VtZW50cyJ9LHt0b2tlbjpbInN0b3JhZ2UudHlwZSIsInRleHQiLCJlbnRpdHkubmFtZS5mdW5jdGlvbiIsInRleHQiLCJwYXJlbi5scGFyZW4iXSxyZWdleDoiKGZ1bmN0aW9uKShcXHMrKSgiK24rIikoXFxzKikoXFwoKSIsbmV4dDoiZnVuY3Rpb25fYXJndW1lbnRzIn0se3Rva2VuOlsiZW50aXR5Lm5hbWUuZnVuY3Rpb24iLCJ0ZXh0IiwicHVuY3R1YXRpb24ub3BlcmF0b3IiLCJ0ZXh0Iiwic3RvcmFnZS50eXBlIiwidGV4dCIsInBhcmVuLmxwYXJlbiJdLHJlZ2V4OiIoIituKyIpKFxccyopKDopKFxccyopKGZ1bmN0aW9uKShcXHMqKShcXCgpIixuZXh0OiJmdW5jdGlvbl9hcmd1bWVudHMifSx7dG9rZW46WyJ0ZXh0IiwidGV4dCIsInN0b3JhZ2UudHlwZSIsInRleHQiLCJwYXJlbi5scGFyZW4iXSxyZWdleDoiKDopKFxccyopKGZ1bmN0aW9uKShcXHMqKShcXCgpIixuZXh0OiJmdW5jdGlvbl9hcmd1bWVudHMifSx7dG9rZW46ImtleXdvcmQiLHJlZ2V4OiIoPzoiK3QrIilcXGIiLG5leHQ6InN0YXJ0In0se3Rva2VuOlsicHVuY3R1YXRpb24ub3BlcmF0b3IiLCJzdXBwb3J0LmZ1bmN0aW9uIl0scmVnZXg6LyhcLikocyg/OmgoPzppZnR8b3coPzpNb2QoPzplbGVzc0RpYWxvZ3xhbERpYWxvZyl8SGVscCkpfGNyb2xsKD86WHxCeSg/OlBhZ2VzfExpbmVzKT98WXxUbyk/fHQoPzpvcHxyaWtlKXxpKD86bnx6ZVRvQ29udGVudHxkZWJhcnxnblRleHQpfG9ydHx1KD86cHxiKD86c3RyKD86aW5nKT8pPyl8cGxpKD86Y2V8dCl8ZSg/Om5kfHQoPzpSZSg/OnNpemFibGV8cXVlc3RIZWFkZXIpfE0oPzppKD86bnV0ZXN8bGxpc2Vjb25kcyl8b250aCl8U2Vjb25kc3xIbyg/OnRLZXlzfHVycyl8WWVhcnxDdXJzb3J8VGltZSg/Om91dCk/fEludGVydmFsfFpPcHRpb25zfERhdGV8VVRDKD86TSg/OmkoPzpudXRlc3xsbGlzZWNvbmRzKXxvbnRoKXxTZWNvbmRzfEhvdXJzfERhdGV8RnVsbFllYXIpfEZ1bGxZZWFyfEFjdGl2ZSl8YXJjaCl8cXJ0fGxpY2V8YXZlUHJlZmVyZW5jZXN8bWFsbCl8aCg/Om9tZXxhbmRsZUV2ZW50KXxuYXZpZ2F0ZXxjKD86aGFyKD86Q29kZUF0fEF0KXxvKD86c3xuKD86Y2F0fHRleHR1YWx8ZmlybSl8bXBpbGUpfGVpbHxsZWFyKD86VGltZW91dHxJbnRlcnZhbCk/fGEoPzpwdHVyZUV2ZW50c3xsbCl8cmVhdGUoPzpTdHlsZVNoZWV0fFBvcHVwfEV2ZW50T2JqZWN0KSl8dCg/Om8oPzpHTVRTdHJpbmd8Uyg/OnRyaW5nfG91cmNlKXxVKD86VENTdHJpbmd8cHBlckNhc2UpfExvKD86Y2FsZVN0cmluZ3x3ZXJDYXNlKSl8ZXN0fGEoPzpufGludCg/OkVuYWJsZWQpPykpfGkoPzpzKD86TmFOfEZpbml0ZSl8bmRleE9mfHRhbGljcyl8ZCg/OmlzYWJsZUV4dGVybmFsQ2FwdHVyZXx1bXB8ZXRhY2hFdmVudCl8dSg/Om4oPzpzaGlmdHx0YWludHxlc2NhcGV8d2F0Y2gpfHBkYXRlQ29tbWFuZHMpfGooPzpvaW58YXZhRW5hYmxlZCl8cCg/Om8oPzpwfHcpfHVzaHxsdWdpbnMucmVmcmVzaHxhKD86ZGRpbmdzfHJzZSg/OkludHxGbG9hdCk/KXxyKD86aW50fG9tcHR8ZWZlcmVuY2UpKXxlKD86c2NhcGV8bmFibGVFeHRlcm5hbENhcHR1cmV8dmFsfGxlbWVudEZyb21Qb2ludHx4KD86cHxlYyg/OlNjcmlwdHxDb21tYW5kKT8pKXx2YWx1ZU9mfFVUQ3xxdWVyeUNvbW1hbmQoPzpTdGF0ZXxJbmRldGVybXxFbmFibGVkfFZhbHVlKXxmKD86aSg/Om5kfGxlKD86TW9kaWZpZWREYXRlfFNpemV8Q3JlYXRlZERhdGV8VXBkYXRlZERhdGUpfHhlZCl8byg/Om50KD86c2l6ZXxjb2xvcil8cndhcmQpfGxvb3J8cm9tQ2hhckNvZGUpfHdhdGNofGwoPzppbmt8byg/OmFkfGcpfGFzdEluZGV4T2YpfGEoPzpzaW58bmNob3J8Y29zfHQoPzp0YWNoRXZlbnR8b2J8YW4oPzoyKT8pfHBwbHl8bGVydHxiKD86c3xvcnQpKXxyKD86b3UoPzpuZHx0ZUV2ZW50cyl8ZSg/OnNpemUoPzpCeXxUbyl8Y2FsY3x0dXJuVmFsdWV8cGxhY2V8dmVyc2V8bCg/Om9hZHxlYXNlKD86Q2FwdHVyZXxFdmVudHMpKSl8YW5kb20pfGcoPzpvfGV0KD86UmVzcG9uc2VIZWFkZXJ8TSg/OmkoPzpudXRlc3xsbGlzZWNvbmRzKXxvbnRoKXxTZSg/OmNvbmRzfGxlY3Rpb24pfEhvdXJzfFllYXJ8VGltZSg/OnpvbmVPZmZzZXQpP3xEYSg/Onl8dGUpfFVUQyg/Ok0oPzppKD86bnV0ZXN8bGxpc2Vjb25kcyl8b250aCl8U2Vjb25kc3xIb3Vyc3xEYSg/Onl8dGUpfEZ1bGxZZWFyKXxGdWxsWWVhcnxBKD86dHRlbnRpb258bGxSZXNwb25zZUhlYWRlcnMpKSl8bSg/OmlufG92ZSg/OkIoPzp5fGVsb3cpfFRvKD86QWJzb2x1dGUpP3xBYm92ZSl8ZXJnZUF0dHJpYnV0ZXN8YSg/OnRjaHxyZ2luc3x4KSl8Yig/OnRvYXxpZ3xvKD86bGR8cmRlcldpZHRocyl8bGlua3xhY2spKVxiKD89XCgpL30se3Rva2VuOlsicHVuY3R1YXRpb24ub3BlcmF0b3IiLCJzdXBwb3J0LmZ1bmN0aW9uLmRvbSJdLHJlZ2V4Oi8oXC4pKHMoPzp1Yig/OnN0cmluZ0RhdGF8bWl0KXxwbGl0VGV4dHxlKD86dCg/Ok5hbWVkSXRlbXxBdHRyaWJ1dGUoPzpOb2RlKT8pfGxlY3QpKXxoYXMoPzpDaGlsZE5vZGVzfEZlYXR1cmUpfG5hbWVkSXRlbXxjKD86bCg/Omlja3xvKD86c2V8bmVOb2RlKSl8cmVhdGUoPzpDKD86b21tZW50fERBVEFTZWN0aW9ufGFwdGlvbil8VCg/OkhlYWR8ZXh0Tm9kZXxGb290KXxEb2N1bWVudEZyYWdtZW50fFByb2Nlc3NpbmdJbnN0cnVjdGlvbnxFKD86bnRpdHlSZWZlcmVuY2V8bGVtZW50KXxBdHRyaWJ1dGUpKXx0YWJJbmRleHxpKD86bnNlcnQoPzpSb3d8QmVmb3JlfENlbGx8RGF0YSl8dGVtKXxvcGVufGRlbGV0ZSg/OlJvd3xDKD86ZWxsfGFwdGlvbil8VCg/OkhlYWR8Rm9vdCl8RGF0YSl8Zm9jdXN8d3JpdGUoPzpsbik/fGEoPzpkZHxwcGVuZCg/OkNoaWxkfERhdGEpKXxyZSg/OnNldHxwbGFjZSg/OkNoaWxkfERhdGEpfG1vdmUoPzpOYW1lZEl0ZW18Q2hpbGR8QXR0cmlidXRlKD86Tm9kZSk/KT8pfGdldCg/Ok5hbWVkSXRlbXxFbGVtZW50KD86c0J5KD86TmFtZXxUYWdOYW1lKXxCeUlkKXxBdHRyaWJ1dGUoPzpOb2RlKT8pfGJsdXIpXGIoPz1cKCkvfSx7dG9rZW46WyJwdW5jdHVhdGlvbi5vcGVyYXRvciIsInN1cHBvcnQuY29uc3RhbnQiXSxyZWdleDovKFwuKShzKD86eXN0ZW1MYW5ndWFnZXxjcig/OmlwdHN8b2xsYmFyc3xlZW4oPzpYfFl8VG9wfExlZnQpKXx0KD86eWxlKD86U2hlZXRzKT98YXR1cyg/OlRleHR8YmFyKT8pfGlibGluZyg/OkJlbG93fEFib3ZlKXxvdXJjZXx1ZmZpeGVzfGUoPzpjdXJpdHkoPzpQb2xpY3kpP3xsKD86ZWN0aW9ufGYpKSl8aCg/OmlzdG9yeXxvc3QoPzpuYW1lKT98YXMoPzpofEZvY3VzKSl8eXxYKD86TUxEb2N1bWVudHxTTERvY3VtZW50KXxuKD86ZXh0fGFtZSg/OnNwYWNlKD86c3xVUkkpfFByb3ApKXxNKD86SU5fVkFMVUV8QVhfVkFMVUUpfGMoPzpoYXJhY3RlclNldHxvKD86big/OnN0cnVjdG9yfHRyb2xsZXJzKXxva2llRW5hYmxlZHxsb3JEZXB0aHxtcCg/Om9uZW50c3xsZXRlKSl8dXJyZW50fHB1Q2xhc3N8bCg/OmkoPzpwKD86Ym9hcmREYXRhKT98ZW50SW5mb3JtYXRpb24pfG9zZWR8YXNzZXMpfGFsbGUoPzplfHIpfHJ5cHRvKXx0KD86byg/Om9sYmFyfHApfGV4dCg/OlRyYW5zZm9ybXxJbmRlbnR8RGVjb3JhdGlvbnxBbGlnbil8YWdzKXxTUVJUKD86MV8yfDIpfGkoPzpuKD86bmVyKD86SGVpZ2h0fFdpZHRoKXxwdXQpfGRzfGdub3JlQ2FzZSl8ekluZGV4fG8oPzpzY3B1fG4oPzpyZWFkeXN0YXRlY2hhbmdlfExpbmUpfHV0ZXIoPzpIZWlnaHR8V2lkdGgpfHAoPzpzUHJvZmlsZXxlbmVyKXxmZnNjcmVlbkJ1ZmZlcmluZyl8TkVHQVRJVkVfSU5GSU5JVFl8ZCg/OmkoPzpzcGxheXxhbG9nKD86SGVpZ2h0fFRvcHxXaWR0aHxMZWZ0fEFyZ3VtZW50cyl8cmVjdG9yaWVzKXxlKD86c2NyaXB0aW9ufGZhdWx0KD86U3RhdHVzfENoKD86ZWNrZWR8YXJzZXQpfFZpZXcpKSl8dSg/OnNlcig/OlByb2ZpbGV8TGFuZ3VhZ2V8QWdlbnQpfG4oPzppcXVlSUR8ZGVmaW5lZCl8cGRhdGVJbnRlcnZhbCl8X2NvbnRlbnR8cCg/Oml4ZWxEZXB0aHxvcnR8ZXJzb25hbGJhcnxrY3MxMXxsKD86dWdpbnN8YXRmb3JtKXxhKD86dGhuYW1lfGRkaW5nKD86UmlnaHR8Qm90dG9tfFRvcHxMZWZ0KXxyZW50KD86V2luZG93fExheWVyKT98Z2UoPzpYKD86T2Zmc2V0KT98WSg/Ok9mZnNldCk/KSl8cig/Om8oPzp0byg/OmNvbHx0eXBlKXxkdWN0KD86U3ViKT98bXB0ZXIpfGUoPzp2aW91c3xmaXgpKSl8ZSg/Om4oPzpjb2Rpbmd8YWJsZWRQbHVnaW4pfHgoPzp0ZXJuYWx8cGFuZG8pfG1iZWRzKXx2KD86aXNpYmlsaXR5fGVuZG9yKD86U3ViKT98TGlua2NvbG9yKXxVUkxVbmVuY29kZWR8UCg/Okl8T1NJVElWRV9JTkZJTklUWSl8Zig/OmlsZW5hbWV8byg/Om50KD86U2l6ZXxGYW1pbHl8V2VpZ2h0KXxybU5hbWUpfHJhbWUoPzpzfEVsZW1lbnQpfGdDb2xvcil8RXx3aGl0ZVNwYWNlfGwoPzppKD86c3RTdHlsZVR5cGV8big/OmVIZWlnaHR8a0NvbG9yKSl8byg/OmNhKD86dGlvbig/OmJhcik/fGxOYW1lKXx3c3JjKXxlKD86bmd0aHxmdCg/OkNvbnRleHQpPyl8YSg/OnN0KD86TSg/Om9kaWZpZWR8YXRjaCl8SW5kZXh8UGFyZW4pfHllcig/OnN8WCl8bmd1YWdlKSl8YSg/OnBwKD86TWlub3JWZXJzaW9ufE5hbWV8Q28oPzpkZU5hbWV8cmUpfFZlcnNpb24pfHZhaWwoPzpIZWlnaHR8VG9wfFdpZHRofExlZnQpfGxsfHIoPzppdHl8Z3VtZW50cyl8TGlua2NvbG9yfGJvdmUpfHIoPzppZ2h0KD86Q29udGV4dCk/fGUoPzpzcG9uc2UoPzpYTUx8VGV4dCl8YWR5U3RhdGUpKXxnbG9iYWx8eHxtKD86aW1lVHlwZXN8dWx0aWxpbmV8ZW51YmFyfGFyZ2luKD86UmlnaHR8Qm90dG9tfFRvcHxMZWZ0KSl8TCg/Ok4oPzoxMHwyKXxPRyg/OjEwRXwyRSkpfGIoPzpvKD86dHRvbXxyZGVyKD86V2lkdGh8UmlnaHRXaWR0aHxCb3R0b21XaWR0aHxTdHlsZXxDb2xvcnxUb3BXaWR0aHxMZWZ0V2lkdGgpKXx1ZmZlckRlcHRofGVsb3d8YWNrZ3JvdW5kKD86Q29sb3J8SW1hZ2UpKSlcYi99LHt0b2tlbjpbInN0b3JhZ2UudHlwZSIsInB1bmN0dWF0aW9uLm9wZXJhdG9yIiwic3VwcG9ydC5mdW5jdGlvbi5maXJlYnVnIl0scmVnZXg6Lyhjb25zb2xlKShcLikod2FybnxpbmZvfGxvZ3xlcnJvcnx0aW1lfHRpbWVFbmR8YXNzZXJ0KVxiL30se3Rva2VuOmUscmVnZXg6bn0se3Rva2VuOiJrZXl3b3JkLm9wZXJhdG9yIixyZWdleDovLS18XCtcK3xbISQlJiorXC1+XXw9PT18PT18PXwhPXwhPT18PD18Pj18PDw9fD4+PXw+Pj49fDw+fDx8PnwhfCYmfFx8XHx8XD9cOnxcKj18JT18XCs9fFwtPXwmPXxcXj0vLG5leHQ6InN0YXJ0In0se3Rva2VuOiJwdW5jdHVhdGlvbi5vcGVyYXRvciIscmVnZXg6L1w/fFw6fFwsfFw7fFwuLyxuZXh0OiJzdGFydCJ9LHt0b2tlbjoicGFyZW4ubHBhcmVuIixyZWdleDovW1xbKHtdLyxuZXh0OiJzdGFydCJ9LHt0b2tlbjoicGFyZW4ucnBhcmVuIixyZWdleDovW1xdKX1dL30se3Rva2VuOiJrZXl3b3JkLm9wZXJhdG9yIixyZWdleDovXC89Py8sbmV4dDoic3RhcnQifSx7dG9rZW46ImNvbW1lbnQiLHJlZ2V4Oi9eIyEuKiQvfV0sc3RhcnQ6W2kuZ2V0U3RhcnRSdWxlKCJkb2Mtc3RhcnQiKSx7dG9rZW46ImNvbW1lbnQiLHJlZ2V4OiJcXC9cXCoiLG5leHQ6ImNvbW1lbnRfcmVnZXhfYWxsb3dlZCJ9LHt0b2tlbjoiY29tbWVudCIscmVnZXg6IlxcL1xcLyIsbmV4dDoibGluZV9jb21tZW50X3JlZ2V4X2FsbG93ZWQifSx7dG9rZW46InN0cmluZy5yZWdleHAiLHJlZ2V4OiJcXC8iLG5leHQ6InJlZ2V4In0se3Rva2VuOiJ0ZXh0IixyZWdleDoiXFxzK3xeJCIsbmV4dDoic3RhcnQifSx7dG9rZW46ImVtcHR5IixyZWdleDoiIixuZXh0OiJub19yZWdleCJ9XSxyZWdleDpbe3Rva2VuOiJyZWdleHAua2V5d29yZC5vcGVyYXRvciIscmVnZXg6IlxcXFwoPzp1W1xcZGEtZkEtRl17NH18eFtcXGRhLWZBLUZdezJ9fC4pIn0se3Rva2VuOiJzdHJpbmcucmVnZXhwIixyZWdleDoiL1tzeG5naW15XSoiLG5leHQ6Im5vX3JlZ2V4In0se3Rva2VuOiJpbnZhbGlkIixyZWdleDovXHtcZCtcYiw/XGQqXH1bKypdfFsrKiReP11bKypdfFskXl1bP118XD97Myx9L30se3Rva2VuOiJjb25zdGFudC5sYW5ndWFnZS5lc2NhcGUiLHJlZ2V4Oi9cKFw/Wzo9IV18XCl8XHtcZCtcYiw/XGQqXH18WysqXVw/fFsoKSReKyo/Ll0vfSx7dG9rZW46ImNvbnN0YW50Lmxhbmd1YWdlLmRlbGltaXRlciIscmVnZXg6L1x8L30se3Rva2VuOiJjb25zdGFudC5sYW5ndWFnZS5lc2NhcGUiLHJlZ2V4Oi9cW1xePy8sbmV4dDoicmVnZXhfY2hhcmFjdGVyX2NsYXNzIn0se3Rva2VuOiJlbXB0eSIscmVnZXg6IiQiLG5leHQ6Im5vX3JlZ2V4In0se2RlZmF1bHRUb2tlbjoic3RyaW5nLnJlZ2V4cCJ9XSxyZWdleF9jaGFyYWN0ZXJfY2xhc3M6W3t0b2tlbjoicmVnZXhwLmtleXdvcmQub3BlcmF0b3IiLHJlZ2V4OiJcXFxcKD86dVtcXGRhLWZBLUZdezR9fHhbXFxkYS1mQS1GXXsyfXwuKSJ9LHt0b2tlbjoiY29uc3RhbnQubGFuZ3VhZ2UuZXNjYXBlIixyZWdleDoiXSIsbmV4dDoicmVnZXgifSx7dG9rZW46ImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZSIscmVnZXg6Ii0ifSx7dG9rZW46ImVtcHR5IixyZWdleDoiJCIsbmV4dDoibm9fcmVnZXgifSx7ZGVmYXVsdFRva2VuOiJzdHJpbmcucmVnZXhwLmNoYXJhY2h0ZXJjbGFzcyJ9XSxmdW5jdGlvbl9hcmd1bWVudHM6W3t0b2tlbjoidmFyaWFibGUucGFyYW1ldGVyIixyZWdleDpufSx7dG9rZW46InB1bmN0dWF0aW9uLm9wZXJhdG9yIixyZWdleDoiWywgXSsifSx7dG9rZW46InB1bmN0dWF0aW9uLm9wZXJhdG9yIixyZWdleDoiJCJ9LHt0b2tlbjoiZW1wdHkiLHJlZ2V4OiIiLG5leHQ6Im5vX3JlZ2V4In1dLGNvbW1lbnRfcmVnZXhfYWxsb3dlZDpbe3Rva2VuOiJjb21tZW50IixyZWdleDoiXFwqXFwvIixuZXh0OiJzdGFydCJ9LHtkZWZhdWx0VG9rZW46ImNvbW1lbnQifV0sY29tbWVudDpbe3Rva2VuOiJjb21tZW50IixyZWdleDoiXFwqXFwvIixuZXh0OiJub19yZWdleCJ9LHtkZWZhdWx0VG9rZW46ImNvbW1lbnQifV0sbGluZV9jb21tZW50X3JlZ2V4X2FsbG93ZWQ6W3t0b2tlbjoiY29tbWVudCIscmVnZXg6IiR8XiIsbmV4dDoic3RhcnQifSx7ZGVmYXVsdFRva2VuOiJjb21tZW50In1dLGxpbmVfY29tbWVudDpbe3Rva2VuOiJjb21tZW50IixyZWdleDoiJHxeIixuZXh0OiJub19yZWdleCJ9LHtkZWZhdWx0VG9rZW46ImNvbW1lbnQifV0scXFzdHJpbmc6W3t0b2tlbjoiY29uc3RhbnQubGFuZ3VhZ2UuZXNjYXBlIixyZWdleDpyfSx7dG9rZW46InN0cmluZyIscmVnZXg6IlxcXFwkIixuZXh0OiJxcXN0cmluZyJ9LHt0b2tlbjoic3RyaW5nIixyZWdleDonInwkJyxuZXh0OiJub19yZWdleCJ9LHtkZWZhdWx0VG9rZW46InN0cmluZyJ9XSxxc3RyaW5nOlt7dG9rZW46ImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZSIscmVnZXg6cn0se3Rva2VuOiJzdHJpbmciLHJlZ2V4OiJcXFxcJCIsbmV4dDoicXN0cmluZyJ9LHt0b2tlbjoic3RyaW5nIixyZWdleDoiJ3wkIixuZXh0OiJub19yZWdleCJ9LHtkZWZhdWx0VG9rZW46InN0cmluZyJ9XX0sdGhpcy5lbWJlZFJ1bGVzKGksImRvYy0iLFtpLmdldEVuZFJ1bGUoIm5vX3JlZ2V4IildKX07ci5pbmhlcml0cyhvLHMpLHQuSmF2YVNjcmlwdEhpZ2hsaWdodFJ1bGVzPW99KSxkZWZpbmUoImFjZS9tb2RlL2RvY19jb21tZW50X2hpZ2hsaWdodF9ydWxlcyIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL21vZGUvdGV4dF9oaWdobGlnaHRfcnVsZXMiXSxmdW5jdGlvbihlLHQpe3ZhciByPWUoIi4uL2xpYi9vb3AiKSxpPWUoIi4vdGV4dF9oaWdobGlnaHRfcnVsZXMiKS5UZXh0SGlnaGxpZ2h0UnVsZXMscz1mdW5jdGlvbigpe3RoaXMuJHJ1bGVzPXtzdGFydDpbe3Rva2VuOiJjb21tZW50LmRvYy50YWciLHJlZ2V4OiJAW1xcd1xcZF9dKyJ9LHt0b2tlbjoiY29tbWVudC5kb2MudGFnIixyZWdleDoiXFxiVE9ET1xcYiJ9LHtkZWZhdWx0VG9rZW46ImNvbW1lbnQuZG9jIn1dfX07ci5pbmhlcml0cyhzLGkpLHMuZ2V0U3RhcnRSdWxlPWZ1bmN0aW9uKGUpe3JldHVybnt0b2tlbjoiY29tbWVudC5kb2MiLHJlZ2V4OiJcXC9cXCooPz1cXCopIixuZXh0OmV9fSxzLmdldEVuZFJ1bGU9ZnVuY3Rpb24oZSl7cmV0dXJue3Rva2VuOiJjb21tZW50LmRvYyIscmVnZXg6IlxcKlxcLyIsbmV4dDplfX0sdC5Eb2NDb21tZW50SGlnaGxpZ2h0UnVsZXM9c30pLGRlZmluZSgiYWNlL21vZGUvbWF0Y2hpbmdfYnJhY2Vfb3V0ZGVudCIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9yYW5nZSJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSgiLi4vcmFuZ2UiKS5SYW5nZSxpPWZ1bmN0aW9uKCl7fTsoZnVuY3Rpb24oKXt0aGlzLmNoZWNrT3V0ZGVudD1mdW5jdGlvbihlLHQpe3JldHVybi9eXHMrJC8udGVzdChlKT8vXlxzKlx9Ly50ZXN0KHQpOiExfSx0aGlzLmF1dG9PdXRkZW50PWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5nZXRMaW5lKHQpLGk9bi5tYXRjaCgvXihccypcfSkvKTtpZighaSlyZXR1cm4gMDt2YXIgcz1pWzFdLmxlbmd0aCxvPWUuZmluZE1hdGNoaW5nQnJhY2tldCh7cm93OnQsY29sdW1uOnN9KTtpZighb3x8by5yb3c9PXQpcmV0dXJuIDA7dmFyIHU9dGhpcy4kZ2V0SW5kZW50KGUuZ2V0TGluZShvLnJvdykpO2UucmVwbGFjZShuZXcgcih0LDAsdCxzLTEpLHUpfSx0aGlzLiRnZXRJbmRlbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWF0Y2goL15ccyovKVswXX19KS5jYWxsKGkucHJvdG90eXBlKSx0Lk1hdGNoaW5nQnJhY2VPdXRkZW50PWl9KSxkZWZpbmUoImFjZS9tb2RlL2JlaGF2aW91ci9jc3R5bGUiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL29vcCIsImFjZS9tb2RlL2JlaGF2aW91ciIsImFjZS90b2tlbl9pdGVyYXRvciIsImFjZS9saWIvbGFuZyJdLGZ1bmN0aW9uKGUsdCl7dmFyIGYscj1lKCIuLi8uLi9saWIvb29wIiksaT1lKCIuLi9iZWhhdmlvdXIiKS5CZWhhdmlvdXIscz1lKCIuLi8uLi90b2tlbl9pdGVyYXRvciIpLlRva2VuSXRlcmF0b3Isbz1lKCIuLi8uLi9saWIvbGFuZyIpLHU9WyJ0ZXh0IiwicGFyZW4ucnBhcmVuIiwicHVuY3R1YXRpb24ub3BlcmF0b3IiXSxhPVsidGV4dCIsInBhcmVuLnJwYXJlbiIsInB1bmN0dWF0aW9uLm9wZXJhdG9yIiwiY29tbWVudCJdLGw9e30sYz1mdW5jdGlvbihlKXt2YXIgdD0tMTtyZXR1cm4gZS5tdWx0aVNlbGVjdCYmKHQ9ZS5zZWxlY3Rpb24uaWQsbC5yYW5nZUNvdW50IT1lLm11bHRpU2VsZWN0LnJhbmdlQ291bnQmJihsPXtyYW5nZUNvdW50OmUubXVsdGlTZWxlY3QucmFuZ2VDb3VudH0pKSxsW3RdP2Y9bFt0XTp2b2lkKGY9bFt0XT17YXV0b0luc2VydGVkQnJhY2tldHM6MCxhdXRvSW5zZXJ0ZWRSb3c6LTEsYXV0b0luc2VydGVkTGluZUVuZDoiIixtYXliZUluc2VydGVkQnJhY2tldHM6MCxtYXliZUluc2VydGVkUm93Oi0xLG1heWJlSW5zZXJ0ZWRMaW5lU3RhcnQ6IiIsbWF5YmVJbnNlcnRlZExpbmVFbmQ6IiJ9KX0saD1mdW5jdGlvbigpe3RoaXMuYWRkKCJicmFjZXMiLCJpbnNlcnRpb24iLGZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIHM9bi5nZXRDdXJzb3JQb3NpdGlvbigpLHU9ci5kb2MuZ2V0TGluZShzLnJvdyk7aWYoInsiPT1pKXtjKG4pO3ZhciBhPW4uZ2V0U2VsZWN0aW9uUmFuZ2UoKSxsPXIuZG9jLmdldFRleHRSYW5nZShhKTtpZigiIiE9PWwmJiJ7IiE9PWwmJm4uZ2V0V3JhcEJlaGF2aW91cnNFbmFibGVkKCkpcmV0dXJue3RleHQ6InsiK2wrIn0iLHNlbGVjdGlvbjohMX07aWYoaC5pc1NhbmVJbnNlcnRpb24obixyKSlyZXR1cm4vW1xdXH1cKV0vLnRlc3QodVtzLmNvbHVtbl0pfHxuLmluTXVsdGlTZWxlY3RNb2RlPyhoLnJlY29yZEF1dG9JbnNlcnQobixyLCJ9Iikse3RleHQ6Int9IixzZWxlY3Rpb246WzEsMV19KTooaC5yZWNvcmRNYXliZUluc2VydChuLHIsInsiKSx7dGV4dDoieyIsc2VsZWN0aW9uOlsxLDFdfSl9ZWxzZSBpZigifSI9PWkpe2Mobik7dmFyIHA9dS5zdWJzdHJpbmcocy5jb2x1bW4scy5jb2x1bW4rMSk7aWYoIn0iPT1wKXt2YXIgZD1yLiRmaW5kT3BlbmluZ0JyYWNrZXQoIn0iLHtjb2x1bW46cy5jb2x1bW4rMSxyb3c6cy5yb3d9KTtpZihudWxsIT09ZCYmaC5pc0F1dG9JbnNlcnRlZENsb3Npbmcocyx1LGkpKXJldHVybiBoLnBvcEF1dG9JbnNlcnRlZENsb3NpbmcoKSx7dGV4dDoiIixzZWxlY3Rpb246WzEsMV19fX1lbHNle2lmKCJcbiI9PWl8fCJcclxuIj09aSl7YyhuKTt2YXIgdj0iIjtoLmlzTWF5YmVJbnNlcnRlZENsb3Npbmcocyx1KSYmKHY9by5zdHJpbmdSZXBlYXQoIn0iLGYubWF5YmVJbnNlcnRlZEJyYWNrZXRzKSxoLmNsZWFyTWF5YmVJbnNlcnRlZENsb3NpbmcoKSk7dmFyIHA9dS5zdWJzdHJpbmcocy5jb2x1bW4scy5jb2x1bW4rMSk7aWYoIn0iPT09cCl7dmFyIG09ci5maW5kTWF0Y2hpbmdCcmFja2V0KHtyb3c6cy5yb3csY29sdW1uOnMuY29sdW1uKzF9LCJ9Iik7aWYoIW0pcmV0dXJuIG51bGw7dmFyIGc9dGhpcy4kZ2V0SW5kZW50KHIuZ2V0TGluZShtLnJvdykpfWVsc2V7aWYoIXYpcmV0dXJuIHZvaWQgaC5jbGVhck1heWJlSW5zZXJ0ZWRDbG9zaW5nKCk7dmFyIGc9dGhpcy4kZ2V0SW5kZW50KHUpfXZhciB5PWcrci5nZXRUYWJTdHJpbmcoKTtyZXR1cm57dGV4dDoiXG4iK3krIlxuIitnK3Ysc2VsZWN0aW9uOlsxLHkubGVuZ3RoLDEseS5sZW5ndGhdfX1oLmNsZWFyTWF5YmVJbnNlcnRlZENsb3NpbmcoKX19KSx0aGlzLmFkZCgiYnJhY2VzIiwiZGVsZXRpb24iLGZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIHM9ci5kb2MuZ2V0VGV4dFJhbmdlKGkpO2lmKCFpLmlzTXVsdGlMaW5lKCkmJiJ7Ij09cyl7YyhuKTt2YXIgbz1yLmRvYy5nZXRMaW5lKGkuc3RhcnQucm93KSx1PW8uc3Vic3RyaW5nKGkuZW5kLmNvbHVtbixpLmVuZC5jb2x1bW4rMSk7aWYoIn0iPT11KXJldHVybiBpLmVuZC5jb2x1bW4rKyxpO2YubWF5YmVJbnNlcnRlZEJyYWNrZXRzLS19fSksdGhpcy5hZGQoInBhcmVucyIsImluc2VydGlvbiIsZnVuY3Rpb24oZSx0LG4scixpKXtpZigiKCI9PWkpe2Mobik7dmFyIHM9bi5nZXRTZWxlY3Rpb25SYW5nZSgpLG89ci5kb2MuZ2V0VGV4dFJhbmdlKHMpO2lmKCIiIT09byYmbi5nZXRXcmFwQmVoYXZpb3Vyc0VuYWJsZWQoKSlyZXR1cm57dGV4dDoiKCIrbysiKSIsc2VsZWN0aW9uOiExfTtpZihoLmlzU2FuZUluc2VydGlvbihuLHIpKXJldHVybiBoLnJlY29yZEF1dG9JbnNlcnQobixyLCIpIikse3RleHQ6IigpIixzZWxlY3Rpb246WzEsMV19fWVsc2UgaWYoIikiPT1pKXtjKG4pO3ZhciB1PW4uZ2V0Q3Vyc29yUG9zaXRpb24oKSxhPXIuZG9jLmdldExpbmUodS5yb3cpLGY9YS5zdWJzdHJpbmcodS5jb2x1bW4sdS5jb2x1bW4rMSk7aWYoIikiPT1mKXt2YXIgbD1yLiRmaW5kT3BlbmluZ0JyYWNrZXQoIikiLHtjb2x1bW46dS5jb2x1bW4rMSxyb3c6dS5yb3d9KTtpZihudWxsIT09bCYmaC5pc0F1dG9JbnNlcnRlZENsb3NpbmcodSxhLGkpKXJldHVybiBoLnBvcEF1dG9JbnNlcnRlZENsb3NpbmcoKSx7dGV4dDoiIixzZWxlY3Rpb246WzEsMV19fX19KSx0aGlzLmFkZCgicGFyZW5zIiwiZGVsZXRpb24iLGZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIHM9ci5kb2MuZ2V0VGV4dFJhbmdlKGkpO2lmKCFpLmlzTXVsdGlMaW5lKCkmJiIoIj09cyl7YyhuKTt2YXIgbz1yLmRvYy5nZXRMaW5lKGkuc3RhcnQucm93KSx1PW8uc3Vic3RyaW5nKGkuc3RhcnQuY29sdW1uKzEsaS5zdGFydC5jb2x1bW4rMik7aWYoIikiPT11KXJldHVybiBpLmVuZC5jb2x1bW4rKyxpfX0pLHRoaXMuYWRkKCJicmFja2V0cyIsImluc2VydGlvbiIsZnVuY3Rpb24oZSx0LG4scixpKXtpZigiWyI9PWkpe2Mobik7dmFyIHM9bi5nZXRTZWxlY3Rpb25SYW5nZSgpLG89ci5kb2MuZ2V0VGV4dFJhbmdlKHMpO2lmKCIiIT09byYmbi5nZXRXcmFwQmVoYXZpb3Vyc0VuYWJsZWQoKSlyZXR1cm57dGV4dDoiWyIrbysiXSIsc2VsZWN0aW9uOiExfTtpZihoLmlzU2FuZUluc2VydGlvbihuLHIpKXJldHVybiBoLnJlY29yZEF1dG9JbnNlcnQobixyLCJdIikse3RleHQ6IltdIixzZWxlY3Rpb246WzEsMV19fWVsc2UgaWYoIl0iPT1pKXtjKG4pO3ZhciB1PW4uZ2V0Q3Vyc29yUG9zaXRpb24oKSxhPXIuZG9jLmdldExpbmUodS5yb3cpLGY9YS5zdWJzdHJpbmcodS5jb2x1bW4sdS5jb2x1bW4rMSk7aWYoIl0iPT1mKXt2YXIgbD1yLiRmaW5kT3BlbmluZ0JyYWNrZXQoIl0iLHtjb2x1bW46dS5jb2x1bW4rMSxyb3c6dS5yb3d9KTtpZihudWxsIT09bCYmaC5pc0F1dG9JbnNlcnRlZENsb3NpbmcodSxhLGkpKXJldHVybiBoLnBvcEF1dG9JbnNlcnRlZENsb3NpbmcoKSx7dGV4dDoiIixzZWxlY3Rpb246WzEsMV19fX19KSx0aGlzLmFkZCgiYnJhY2tldHMiLCJkZWxldGlvbiIsZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgcz1yLmRvYy5nZXRUZXh0UmFuZ2UoaSk7aWYoIWkuaXNNdWx0aUxpbmUoKSYmIlsiPT1zKXtjKG4pO3ZhciBvPXIuZG9jLmdldExpbmUoaS5zdGFydC5yb3cpLHU9by5zdWJzdHJpbmcoaS5zdGFydC5jb2x1bW4rMSxpLnN0YXJ0LmNvbHVtbisyKTtpZigiXSI9PXUpcmV0dXJuIGkuZW5kLmNvbHVtbisrLGl9fSksdGhpcy5hZGQoInN0cmluZ19kcXVvdGVzIiwiaW5zZXJ0aW9uIixmdW5jdGlvbihlLHQsbixyLGkpe2lmKCciJz09aXx8IiciPT1pKXtjKG4pO3ZhciBzPWksbz1uLmdldFNlbGVjdGlvblJhbmdlKCksdT1yLmRvYy5nZXRUZXh0UmFuZ2Uobyk7aWYoIiIhPT11JiYiJyIhPT11JiYnIichPXUmJm4uZ2V0V3JhcEJlaGF2aW91cnNFbmFibGVkKCkpcmV0dXJue3RleHQ6cyt1K3Msc2VsZWN0aW9uOiExfTt2YXIgYT1uLmdldEN1cnNvclBvc2l0aW9uKCksZj1yLmRvYy5nZXRMaW5lKGEucm93KSxsPWYuc3Vic3RyaW5nKGEuY29sdW1uLTEsYS5jb2x1bW4pO2lmKCJcXCI9PWwpcmV0dXJuIG51bGw7Zm9yKHZhciB2LHA9ci5nZXRUb2tlbnMoby5zdGFydC5yb3cpLGQ9MCxtPS0xLGc9MDtnPHAubGVuZ3RoJiYodj1wW2ddLCJzdHJpbmciPT12LnR5cGU/bT0tMTowPm0mJihtPXYudmFsdWUuaW5kZXhPZihzKSksISh2LnZhbHVlLmxlbmd0aCtkPm8uc3RhcnQuY29sdW1uKSk7ZysrKWQrPXBbZ10udmFsdWUubGVuZ3RoO2lmKCF2fHwwPm0mJiJjb21tZW50IiE9PXYudHlwZSYmKCJzdHJpbmciIT09di50eXBlfHxvLnN0YXJ0LmNvbHVtbiE9PXYudmFsdWUubGVuZ3RoK2QtMSYmdi52YWx1ZS5sYXN0SW5kZXhPZihzKT09PXYudmFsdWUubGVuZ3RoLTEpKXtpZighaC5pc1NhbmVJbnNlcnRpb24obixyKSlyZXR1cm47cmV0dXJue3RleHQ6cytzLHNlbGVjdGlvbjpbMSwxXX19aWYodiYmInN0cmluZyI9PT12LnR5cGUpe3ZhciB5PWYuc3Vic3RyaW5nKGEuY29sdW1uLGEuY29sdW1uKzEpO2lmKHk9PXMpcmV0dXJue3RleHQ6IiIsc2VsZWN0aW9uOlsxLDFdfX19fSksdGhpcy5hZGQoInN0cmluZ19kcXVvdGVzIiwiZGVsZXRpb24iLGZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIHM9ci5kb2MuZ2V0VGV4dFJhbmdlKGkpO2lmKCFpLmlzTXVsdGlMaW5lKCkmJignIic9PXN8fCInIj09cykpe2Mobik7dmFyIG89ci5kb2MuZ2V0TGluZShpLnN0YXJ0LnJvdyksdT1vLnN1YnN0cmluZyhpLnN0YXJ0LmNvbHVtbisxLGkuc3RhcnQuY29sdW1uKzIpO2lmKHU9PXMpcmV0dXJuIGkuZW5kLmNvbHVtbisrLGl9fSl9O2guaXNTYW5lSW5zZXJ0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5nZXRDdXJzb3JQb3NpdGlvbigpLHI9bmV3IHModCxuLnJvdyxuLmNvbHVtbik7aWYoIXRoaXMuJG1hdGNoVG9rZW5UeXBlKHIuZ2V0Q3VycmVudFRva2VuKCl8fCJ0ZXh0Iix1KSl7dmFyIGk9bmV3IHModCxuLnJvdyxuLmNvbHVtbisxKTtpZighdGhpcy4kbWF0Y2hUb2tlblR5cGUoaS5nZXRDdXJyZW50VG9rZW4oKXx8InRleHQiLHUpKXJldHVybiExfXJldHVybiByLnN0ZXBGb3J3YXJkKCksci5nZXRDdXJyZW50VG9rZW5Sb3coKSE9PW4ucm93fHx0aGlzLiRtYXRjaFRva2VuVHlwZShyLmdldEN1cnJlbnRUb2tlbigpfHwidGV4dCIsYSl9LGguJG1hdGNoVG9rZW5UeXBlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuaW5kZXhPZihlLnR5cGV8fGUpPi0xfSxoLnJlY29yZEF1dG9JbnNlcnQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUuZ2V0Q3Vyc29yUG9zaXRpb24oKSxpPXQuZG9jLmdldExpbmUoci5yb3cpO3RoaXMuaXNBdXRvSW5zZXJ0ZWRDbG9zaW5nKHIsaSxmLmF1dG9JbnNlcnRlZExpbmVFbmRbMF0pfHwoZi5hdXRvSW5zZXJ0ZWRCcmFja2V0cz0wKSxmLmF1dG9JbnNlcnRlZFJvdz1yLnJvdyxmLmF1dG9JbnNlcnRlZExpbmVFbmQ9bitpLnN1YnN0cihyLmNvbHVtbiksZi5hdXRvSW5zZXJ0ZWRCcmFja2V0cysrfSxoLnJlY29yZE1heWJlSW5zZXJ0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lLmdldEN1cnNvclBvc2l0aW9uKCksaT10LmRvYy5nZXRMaW5lKHIucm93KTt0aGlzLmlzTWF5YmVJbnNlcnRlZENsb3NpbmcocixpKXx8KGYubWF5YmVJbnNlcnRlZEJyYWNrZXRzPTApLGYubWF5YmVJbnNlcnRlZFJvdz1yLnJvdyxmLm1heWJlSW5zZXJ0ZWRMaW5lU3RhcnQ9aS5zdWJzdHIoMCxyLmNvbHVtbikrbixmLm1heWJlSW5zZXJ0ZWRMaW5lRW5kPWkuc3Vic3RyKHIuY29sdW1uKSxmLm1heWJlSW5zZXJ0ZWRCcmFja2V0cysrfSxoLmlzQXV0b0luc2VydGVkQ2xvc2luZz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGYuYXV0b0luc2VydGVkQnJhY2tldHM+MCYmZS5yb3c9PT1mLmF1dG9JbnNlcnRlZFJvdyYmbj09PWYuYXV0b0luc2VydGVkTGluZUVuZFswXSYmdC5zdWJzdHIoZS5jb2x1bW4pPT09Zi5hdXRvSW5zZXJ0ZWRMaW5lRW5kfSxoLmlzTWF5YmVJbnNlcnRlZENsb3Npbmc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZi5tYXliZUluc2VydGVkQnJhY2tldHM+MCYmZS5yb3c9PT1mLm1heWJlSW5zZXJ0ZWRSb3cmJnQuc3Vic3RyKGUuY29sdW1uKT09PWYubWF5YmVJbnNlcnRlZExpbmVFbmQmJnQuc3Vic3RyKDAsZS5jb2x1bW4pPT1mLm1heWJlSW5zZXJ0ZWRMaW5lU3RhcnR9LGgucG9wQXV0b0luc2VydGVkQ2xvc2luZz1mdW5jdGlvbigpe2YuYXV0b0luc2VydGVkTGluZUVuZD1mLmF1dG9JbnNlcnRlZExpbmVFbmQuc3Vic3RyKDEpLGYuYXV0b0luc2VydGVkQnJhY2tldHMtLX0saC5jbGVhck1heWJlSW5zZXJ0ZWRDbG9zaW5nPWZ1bmN0aW9uKCl7ZiYmKGYubWF5YmVJbnNlcnRlZEJyYWNrZXRzPTAsZi5tYXliZUluc2VydGVkUm93PS0xKX0sci5pbmhlcml0cyhoLGkpLHQuQ3N0eWxlQmVoYXZpb3VyPWh9KSxkZWZpbmUoImFjZS9tb2RlL2ZvbGRpbmcvY3N0eWxlIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9vb3AiLCJhY2UvcmFuZ2UiLCJhY2UvbW9kZS9mb2xkaW5nL2ZvbGRfbW9kZSJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSgiLi4vLi4vbGliL29vcCIpLGk9ZSgiLi4vLi4vcmFuZ2UiKS5SYW5nZSxzPWUoIi4vZm9sZF9tb2RlIikuRm9sZE1vZGUsbz10LkZvbGRNb2RlPWZ1bmN0aW9uKGUpe2UmJih0aGlzLmZvbGRpbmdTdGFydE1hcmtlcj1uZXcgUmVnRXhwKHRoaXMuZm9sZGluZ1N0YXJ0TWFya2VyLnNvdXJjZS5yZXBsYWNlKC9cfFtefF0qPyQvLCJ8IitlLnN0YXJ0KSksdGhpcy5mb2xkaW5nU3RvcE1hcmtlcj1uZXcgUmVnRXhwKHRoaXMuZm9sZGluZ1N0b3BNYXJrZXIuc291cmNlLnJlcGxhY2UoL1x8W158XSo/JC8sInwiK2UuZW5kKSkpfTtyLmluaGVyaXRzKG8scyksZnVuY3Rpb24oKXt0aGlzLmZvbGRpbmdTdGFydE1hcmtlcj0vKFx7fFxbKVteXH1cXV0qJHxeXHMqKFwvXCopLyx0aGlzLmZvbGRpbmdTdG9wTWFya2VyPS9eW15cW1x7XSooXH18XF0pfF5bXHNcKl0qKFwqXC8pLyx0aGlzLmdldEZvbGRXaWRnZXRSYW5nZT1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT1lLmdldExpbmUobikscz1pLm1hdGNoKHRoaXMuZm9sZGluZ1N0YXJ0TWFya2VyKTtpZihzKXt2YXIgbz1zLmluZGV4O2lmKHNbMV0pcmV0dXJuIHRoaXMub3BlbmluZ0JyYWNrZXRCbG9jayhlLHNbMV0sbixvKTt2YXIgdT1lLmdldENvbW1lbnRGb2xkUmFuZ2UobixvK3NbMF0ubGVuZ3RoLDEpO3JldHVybiB1JiYhdS5pc011bHRpTGluZSgpJiYocj91PXRoaXMuZ2V0U2VjdGlvblJhbmdlKGUsbik6ImFsbCIhPXQmJih1PW51bGwpKSx1fWlmKCJtYXJrYmVnaW4iIT09dCl7dmFyIHM9aS5tYXRjaCh0aGlzLmZvbGRpbmdTdG9wTWFya2VyKTtpZihzKXt2YXIgbz1zLmluZGV4K3NbMF0ubGVuZ3RoO3JldHVybiBzWzFdP3RoaXMuY2xvc2luZ0JyYWNrZXRCbG9jayhlLHNbMV0sbixvKTplLmdldENvbW1lbnRGb2xkUmFuZ2UobixvLC0xKX19fSx0aGlzLmdldFNlY3Rpb25SYW5nZT1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZ2V0TGluZSh0KSxyPW4uc2VhcmNoKC9cUy8pLHM9dCxvPW4ubGVuZ3RoO3QrPTE7Zm9yKHZhciB1PXQsYT1lLmdldExlbmd0aCgpOysrdDxhOyl7bj1lLmdldExpbmUodCk7dmFyIGY9bi5zZWFyY2goL1xTLyk7aWYoLTEhPT1mKXtpZihyPmYpYnJlYWs7dmFyIGw9dGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2UoZSwiYWxsIix0KTtpZihsKXtpZihsLnN0YXJ0LnJvdzw9cylicmVhaztpZihsLmlzTXVsdGlMaW5lKCkpdD1sLmVuZC5yb3c7ZWxzZSBpZihyPT1mKWJyZWFrfXU9dH19cmV0dXJuIG5ldyBpKHMsbyx1LGUuZ2V0TGluZSh1KS5sZW5ndGgpfX0uY2FsbChvLnByb3RvdHlwZSl9KSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSxlKTplKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cz9yZXF1aXJlKCJqcXVlcnkiKTpqUXVlcnkpfShmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtpZighZS5qc3RyZWUpe3ZhciBsLGgsaT0wLHM9ITEscj0hMSxuPSExLGE9W10sZD1lKCJzY3JpcHQ6bGFzdCIpLmF0dHIoInNyYyIpLG89ZG9jdW1lbnQsYz1vLmNyZWF0ZUVsZW1lbnQoIkxJIik7Yy5zZXRBdHRyaWJ1dGUoInJvbGUiLCJ0cmVlaXRlbSIpLGw9by5jcmVhdGVFbGVtZW50KCJJIiksbC5jbGFzc05hbWU9ImpzdHJlZS1pY29uIGpzdHJlZS1vY2wiLGMuYXBwZW5kQ2hpbGQobCksbD1vLmNyZWF0ZUVsZW1lbnQoIkEiKSxsLmNsYXNzTmFtZT0ianN0cmVlLWFuY2hvciIsbC5zZXRBdHRyaWJ1dGUoImhyZWYiLCIjIiksaD1vLmNyZWF0ZUVsZW1lbnQoIkkiKSxoLmNsYXNzTmFtZT0ianN0cmVlLWljb24ganN0cmVlLXRoZW1laWNvbiIsbC5hcHBlbmRDaGlsZChoKSxjLmFwcGVuZENoaWxkKGwpLGw9aD1udWxsLGUuanN0cmVlPXt2ZXJzaW9uOiIzLjAuNCIsZGVmYXVsdHM6e3BsdWdpbnM6W119LHBsdWdpbnM6e30scGF0aDpkJiYtMSE9PWQuaW5kZXhPZigiLyIpP2QucmVwbGFjZSgvXC9bXlwvXSskLywiIik6IiIsaWRyZWdleDovW1xcOiYhXnwoKVxbXF08PkAqJyt+IyI7Liw9XC0gXC8ke30lXS9nfSxlLmpzdHJlZS5jcmVhdGU9ZnVuY3Rpb24odCxzKXt2YXIgcj1uZXcgZS5qc3RyZWUuY29yZSgrK2kpLG49cztyZXR1cm4gcz1lLmV4dGVuZCghMCx7fSxlLmpzdHJlZS5kZWZhdWx0cyxzKSxuJiZuLnBsdWdpbnMmJihzLnBsdWdpbnM9bi5wbHVnaW5zKSxlLmVhY2gocy5wbHVnaW5zLGZ1bmN0aW9uKGUsdCl7ImNvcmUiIT09ZSYmKHI9ci5wbHVnaW4odCxzW3RdKSl9KSxyLmluaXQodCxzKSxyfSxlLmpzdHJlZS5kZXN0cm95PWZ1bmN0aW9uKCl7ZSgiLmpzdHJlZTpqc3RyZWUiKS5qc3RyZWUoImRlc3Ryb3kiKSxlKGRvY3VtZW50KS5vZmYoIi5qc3RyZWUiKX0sZS5qc3RyZWUuY29yZT1mdW5jdGlvbihlKXt0aGlzLl9pZD1lLHRoaXMuX2NudD0wLHRoaXMuX3dyaz1udWxsLHRoaXMuX2RhdGE9e2NvcmU6e3RoZW1lczp7bmFtZTohMSxkb3RzOiExLGljb25zOiExfSxzZWxlY3RlZDpbXSxsYXN0X2Vycm9yOnt9LHdvcmtpbmc6ITEsd29ya2VyX3F1ZXVlOltdLGZvY3VzZWQ6bnVsbH19fSxlLmpzdHJlZS5yZWZlcmVuY2U9ZnVuY3Rpb24oaSl7dmFyIHM9bnVsbCxyPW51bGw7aWYoaSYmaS5pZCYmKGk9aS5pZCksIXJ8fCFyLmxlbmd0aCl0cnl7cj1lKGkpfWNhdGNoKG4pe31pZighcnx8IXIubGVuZ3RoKXRyeXtyPWUoIiMiK2kucmVwbGFjZShlLmpzdHJlZS5pZHJlZ2V4LCJcXCQmIikpCn1jYXRjaChuKXt9cmV0dXJuIHImJnIubGVuZ3RoJiYocj1yLmNsb3Nlc3QoIi5qc3RyZWUiKSkubGVuZ3RoJiYocj1yLmRhdGEoImpzdHJlZSIpKT9zPXI6ZSgiLmpzdHJlZSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1lKHRoaXMpLmRhdGEoImpzdHJlZSIpO3JldHVybiByJiZyLl9tb2RlbC5kYXRhW2ldPyhzPXIsITEpOnR9KSxzfSxlLmZuLmpzdHJlZT1mdW5jdGlvbihpKXt2YXIgcz0ic3RyaW5nIj09dHlwZW9mIGkscj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksbj1udWxsO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYT1lLmpzdHJlZS5yZWZlcmVuY2UodGhpcyksZD1zJiZhP2FbaV06bnVsbDtyZXR1cm4gbj1zJiZkP2QuYXBwbHkoYSxyKTpudWxsLGF8fHN8fGkhPT10JiYhZS5pc1BsYWluT2JqZWN0KGkpfHxlKHRoaXMpLmRhdGEoImpzdHJlZSIsbmV3IGUuanN0cmVlLmNyZWF0ZSh0aGlzLGkpKSwoYSYmIXN8fGk9PT0hMCkmJihuPWF8fCExKSxudWxsIT09biYmbiE9PXQ/ITE6dH0pLG51bGwhPT1uJiZuIT09dD9uOnRoaXN9LGUuZXhwclsiOiJdLmpzdHJlZT1lLmV4cHIuY3JlYXRlUHNldWRvKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBlKGkpLmhhc0NsYXNzKCJqc3RyZWUiKSYmZShpKS5kYXRhKCJqc3RyZWUiKSE9PXR9fSksZS5qc3RyZWUuZGVmYXVsdHMuY29yZT17ZGF0YTohMSxzdHJpbmdzOiExLGNoZWNrX2NhbGxiYWNrOiExLGVycm9yOmUubm9vcCxhbmltYXRpb246MjAwLG11bHRpcGxlOiEwLHRoZW1lczp7bmFtZTohMSx1cmw6ITEsZGlyOiExLGRvdHM6ITAsaWNvbnM6ITAsc3RyaXBlczohMSx2YXJpYW50OiExLHJlc3BvbnNpdmU6ITF9LGV4cGFuZF9zZWxlY3RlZF9vbmxvYWQ6ITAsd29ya2VyOiEwLGZvcmNlX3RleHQ6ITF9LGUuanN0cmVlLmNvcmUucHJvdG90eXBlPXtwbHVnaW46ZnVuY3Rpb24odCxpKXt2YXIgcz1lLmpzdHJlZS5wbHVnaW5zW3RdO3JldHVybiBzPyh0aGlzLl9kYXRhW3RdPXt9LHMucHJvdG90eXBlPXRoaXMsbmV3IHMoaSx0aGlzKSk6dGhpc30saW5pdDpmdW5jdGlvbih0LGkpe3RoaXMuX21vZGVsPXtkYXRhOnsiIyI6e2lkOiIjIixwYXJlbnQ6bnVsbCxwYXJlbnRzOltdLGNoaWxkcmVuOltdLGNoaWxkcmVuX2Q6W10sc3RhdGU6e2xvYWRlZDohMX19fSxjaGFuZ2VkOltdLGZvcmNlX2Z1bGxfcmVkcmF3OiExLHJlZHJhd190aW1lb3V0OiExLGRlZmF1bHRfc3RhdGU6e2xvYWRlZDohMCxvcGVuZWQ6ITEsc2VsZWN0ZWQ6ITEsZGlzYWJsZWQ6ITF9fSx0aGlzLmVsZW1lbnQ9ZSh0KS5hZGRDbGFzcygianN0cmVlIGpzdHJlZS0iK3RoaXMuX2lkKSx0aGlzLnNldHRpbmdzPWksdGhpcy5lbGVtZW50LmJpbmQoImRlc3Ryb3llZCIsZS5wcm94eSh0aGlzLnRlYXJkb3duLHRoaXMpKSx0aGlzLl9kYXRhLmNvcmUucmVhZHk9ITEsdGhpcy5fZGF0YS5jb3JlLmxvYWRlZD0hMSx0aGlzLl9kYXRhLmNvcmUucnRsPSJydGwiPT09dGhpcy5lbGVtZW50LmNzcygiZGlyZWN0aW9uIiksdGhpcy5lbGVtZW50W3RoaXMuX2RhdGEuY29yZS5ydGw/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXSgianN0cmVlLXJ0bCIpLHRoaXMuZWxlbWVudC5hdHRyKCJyb2xlIiwidHJlZSIpLHRoaXMuYmluZCgpLHRoaXMudHJpZ2dlcigiaW5pdCIpLHRoaXMuX2RhdGEuY29yZS5vcmlnaW5hbF9jb250YWluZXJfaHRtbD10aGlzLmVsZW1lbnQuZmluZCgiID4gdWwgPiBsaSIpLmNsb25lKCEwKSx0aGlzLl9kYXRhLmNvcmUub3JpZ2luYWxfY29udGFpbmVyX2h0bWwuZmluZCgibGkiKS5hZGRCYWNrKCkuY29udGVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMz09PXRoaXMubm9kZVR5cGUmJighdGhpcy5ub2RlVmFsdWV8fC9eXHMrJC8udGVzdCh0aGlzLm5vZGVWYWx1ZSkpfSkucmVtb3ZlKCksdGhpcy5lbGVtZW50Lmh0bWwoIjx1bCBjbGFzcz0nanN0cmVlLWNvbnRhaW5lci11bCBqc3RyZWUtY2hpbGRyZW4nPjxsaSBjbGFzcz0nanN0cmVlLWluaXRpYWwtbm9kZSBqc3RyZWUtbG9hZGluZyBqc3RyZWUtbGVhZiBqc3RyZWUtbGFzdCc+PGkgY2xhc3M9J2pzdHJlZS1pY29uIGpzdHJlZS1vY2wnPjwvaT48YSBjbGFzcz0nanN0cmVlLWFuY2hvcicgaHJlZj0nIyc+PGkgY2xhc3M9J2pzdHJlZS1pY29uIGpzdHJlZS10aGVtZWljb24taGlkZGVuJz48L2k+Iit0aGlzLmdldF9zdHJpbmcoIkxvYWRpbmcgLi4uIikrIjwvYT48L2xpPjwvdWw+IiksdGhpcy5fZGF0YS5jb3JlLmxpX2hlaWdodD10aGlzLmdldF9jb250YWluZXJfdWwoKS5jaGlsZHJlbigibGk6ZXEoMCkiKS5oZWlnaHQoKXx8MjQsdGhpcy50cmlnZ2VyKCJsb2FkaW5nIiksdGhpcy5sb2FkX25vZGUoIiMiKX0sZGVzdHJveTpmdW5jdGlvbihlKXtlfHx0aGlzLmVsZW1lbnQuZW1wdHkoKSx0aGlzLmVsZW1lbnQudW5iaW5kKCJkZXN0cm95ZWQiLHRoaXMudGVhcmRvd24pLHRoaXMudGVhcmRvd24oKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt0aGlzLnVuYmluZCgpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygianN0cmVlIikucmVtb3ZlRGF0YSgianN0cmVlIikuZmluZCgiW2NsYXNzXj0nanN0cmVlJ10iKS5hZGRCYWNrKCkuYXR0cigiY2xhc3MiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xhc3NOYW1lLnJlcGxhY2UoL2pzdHJlZVteIF0qfCQvZ2ksIiIpfSksdGhpcy5lbGVtZW50PW51bGx9LGJpbmQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQub24oImRibGNsaWNrLmpzdHJlZSIsZnVuY3Rpb24oKXtpZihkb2N1bWVudC5zZWxlY3Rpb24mJmRvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSlkb2N1bWVudC5zZWxlY3Rpb24uZW1wdHkoKTtlbHNlIGlmKHdpbmRvdy5nZXRTZWxlY3Rpb24pe3ZhciBlPXdpbmRvdy5nZXRTZWxlY3Rpb24oKTt0cnl7ZS5yZW1vdmVBbGxSYW5nZXMoKSxlLmNvbGxhcHNlKCl9Y2F0Y2godCl7fX19KS5vbigiY2xpY2suanN0cmVlIiwiLmpzdHJlZS1vY2wiLGUucHJveHkoZnVuY3Rpb24oZSl7dGhpcy50b2dnbGVfbm9kZShlLnRhcmdldCl9LHRoaXMpKS5vbigiY2xpY2suanN0cmVlIiwiLmpzdHJlZS1hbmNob3IiLGUucHJveHkoZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpLHQuY3VycmVudFRhcmdldCE9PWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQmJmUodC5jdXJyZW50VGFyZ2V0KS5mb2N1cygpLHRoaXMuYWN0aXZhdGVfbm9kZSh0LmN1cnJlbnRUYXJnZXQsdCl9LHRoaXMpKS5vbigia2V5ZG93bi5qc3RyZWUiLCIuanN0cmVlLWFuY2hvciIsZS5wcm94eShmdW5jdGlvbih0KXtpZigiSU5QVVQiPT09dC50YXJnZXQudGFnTmFtZSlyZXR1cm4hMDt2YXIgaT1udWxsO3N3aXRjaCh0LndoaWNoKXtjYXNlIDEzOmNhc2UgMzI6dC50eXBlPSJjbGljayIsZSh0LmN1cnJlbnRUYXJnZXQpLnRyaWdnZXIodCk7YnJlYWs7Y2FzZSAzNzp0LnByZXZlbnREZWZhdWx0KCksdGhpcy5pc19vcGVuKHQuY3VycmVudFRhcmdldCk/dGhpcy5jbG9zZV9ub2RlKHQuY3VycmVudFRhcmdldCk6KGk9dGhpcy5nZXRfcHJldl9kb20odC5jdXJyZW50VGFyZ2V0KSxpJiZpLmxlbmd0aCYmaS5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5mb2N1cygpKTticmVhaztjYXNlIDM4OnQucHJldmVudERlZmF1bHQoKSxpPXRoaXMuZ2V0X3ByZXZfZG9tKHQuY3VycmVudFRhcmdldCksaSYmaS5sZW5ndGgmJmkuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuZm9jdXMoKTticmVhaztjYXNlIDM5OnQucHJldmVudERlZmF1bHQoKSx0aGlzLmlzX2Nsb3NlZCh0LmN1cnJlbnRUYXJnZXQpP3RoaXMub3Blbl9ub2RlKHQuY3VycmVudFRhcmdldCxmdW5jdGlvbihlKXt0aGlzLmdldF9ub2RlKGUsITApLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLmZvY3VzKCl9KTooaT10aGlzLmdldF9uZXh0X2RvbSh0LmN1cnJlbnRUYXJnZXQpLGkmJmkubGVuZ3RoJiZpLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLmZvY3VzKCkpO2JyZWFrO2Nhc2UgNDA6dC5wcmV2ZW50RGVmYXVsdCgpLGk9dGhpcy5nZXRfbmV4dF9kb20odC5jdXJyZW50VGFyZ2V0KSxpJiZpLmxlbmd0aCYmaS5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5mb2N1cygpO2JyZWFrO2Nhc2UgNDY6dC5wcmV2ZW50RGVmYXVsdCgpLGk9dGhpcy5nZXRfbm9kZSh0LmN1cnJlbnRUYXJnZXQpLGkmJmkuaWQmJiIjIiE9PWkuaWQmJihpPXRoaXMuaXNfc2VsZWN0ZWQoaSk/dGhpcy5nZXRfc2VsZWN0ZWQoKTppKTticmVhaztjYXNlIDExMzp0LnByZXZlbnREZWZhdWx0KCksaT10aGlzLmdldF9ub2RlKHQuY3VycmVudFRhcmdldCl9fSx0aGlzKSkub24oImxvYWRfbm9kZS5qc3RyZWUiLGUucHJveHkoZnVuY3Rpb24odCxpKXtpZihpLnN0YXR1cyYmKCIjIiE9PWkubm9kZS5pZHx8dGhpcy5fZGF0YS5jb3JlLmxvYWRlZHx8KHRoaXMuX2RhdGEuY29yZS5sb2FkZWQ9ITAsdGhpcy50cmlnZ2VyKCJsb2FkZWQiKSksIXRoaXMuX2RhdGEuY29yZS5yZWFkeSYmIXRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLmZpbmQoIi5qc3RyZWUtbG9hZGluZzplcSgwKSIpLmxlbmd0aCkpe2lmKHRoaXMuX2RhdGEuY29yZS5yZWFkeT0hMCx0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQubGVuZ3RoKXtpZih0aGlzLnNldHRpbmdzLmNvcmUuZXhwYW5kX3NlbGVjdGVkX29ubG9hZCl7dmFyIHIsbixzPVtdO2ZvcihyPTAsbj10aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQubGVuZ3RoO24+cjtyKyspcz1zLmNvbmNhdCh0aGlzLl9tb2RlbC5kYXRhW3RoaXMuX2RhdGEuY29yZS5zZWxlY3RlZFtyXV0ucGFyZW50cyk7Zm9yKHM9ZS52YWthdGEuYXJyYXlfdW5pcXVlKHMpLHI9MCxuPXMubGVuZ3RoO24+cjtyKyspdGhpcy5vcGVuX25vZGUoc1tyXSwhMSwwKX10aGlzLnRyaWdnZXIoImNoYW5nZWQiLHthY3Rpb246InJlYWR5IixzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWR9KX1zZXRUaW1lb3V0KGUucHJveHkoZnVuY3Rpb24oKXt0aGlzLnRyaWdnZXIoInJlYWR5Iil9LHRoaXMpLDApfX0sdGhpcykpLm9uKCJpbml0LmpzdHJlZSIsZS5wcm94eShmdW5jdGlvbigpe3ZhciBlPXRoaXMuc2V0dGluZ3MuY29yZS50aGVtZXM7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5kb3RzPWUuZG90cyx0aGlzLl9kYXRhLmNvcmUudGhlbWVzLnN0cmlwZXM9ZS5zdHJpcGVzLHRoaXMuX2RhdGEuY29yZS50aGVtZXMuaWNvbnM9ZS5pY29ucyx0aGlzLnNldF90aGVtZShlLm5hbWV8fCJkZWZhdWx0IixlLnVybCksdGhpcy5zZXRfdGhlbWVfdmFyaWFudChlLnZhcmlhbnQpfSx0aGlzKSkub24oImxvYWRpbmcuanN0cmVlIixlLnByb3h5KGZ1bmN0aW9uKCl7dGhpc1t0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmRvdHM/InNob3dfZG90cyI6ImhpZGVfZG90cyJdKCksdGhpc1t0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmljb25zPyJzaG93X2ljb25zIjoiaGlkZV9pY29ucyJdKCksdGhpc1t0aGlzLl9kYXRhLmNvcmUudGhlbWVzLnN0cmlwZXM/InNob3dfc3RyaXBlcyI6ImhpZGVfc3RyaXBlcyJdKCl9LHRoaXMpKS5vbigiYmx1ci5qc3RyZWUiLCIuanN0cmVlLWFuY2hvciIsZS5wcm94eShmdW5jdGlvbih0KXt0aGlzLl9kYXRhLmNvcmUuZm9jdXNlZD1udWxsLGUodC5jdXJyZW50VGFyZ2V0KS5maWx0ZXIoIi5qc3RyZWUtaG92ZXJlZCIpLm1vdXNlbGVhdmUoKX0sdGhpcykpLm9uKCJmb2N1cy5qc3RyZWUiLCIuanN0cmVlLWFuY2hvciIsZS5wcm94eShmdW5jdGlvbih0KXt2YXIgaT10aGlzLmdldF9ub2RlKHQuY3VycmVudFRhcmdldCk7aSYmaS5pZCYmKHRoaXMuX2RhdGEuY29yZS5mb2N1c2VkPWkuaWQpLHRoaXMuZWxlbWVudC5maW5kKCIuanN0cmVlLWhvdmVyZWQiKS5ub3QodC5jdXJyZW50VGFyZ2V0KS5tb3VzZWxlYXZlKCksZSh0LmN1cnJlbnRUYXJnZXQpLm1vdXNlZW50ZXIoKX0sdGhpcykpLm9uKCJtb3VzZWVudGVyLmpzdHJlZSIsIi5qc3RyZWUtYW5jaG9yIixlLnByb3h5KGZ1bmN0aW9uKGUpe3RoaXMuaG92ZXJfbm9kZShlLmN1cnJlbnRUYXJnZXQpfSx0aGlzKSkub24oIm1vdXNlbGVhdmUuanN0cmVlIiwiLmpzdHJlZS1hbmNob3IiLGUucHJveHkoZnVuY3Rpb24oZSl7dGhpcy5kZWhvdmVyX25vZGUoZS5jdXJyZW50VGFyZ2V0KX0sdGhpcykpfSx1bmJpbmQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQub2ZmKCIuanN0cmVlIiksZShkb2N1bWVudCkub2ZmKCIuanN0cmVlLSIrdGhpcy5faWQpfSx0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7dHx8KHQ9e30pLHQuaW5zdGFuY2U9dGhpcyx0aGlzLmVsZW1lbnQudHJpZ2dlckhhbmRsZXIoZS5yZXBsYWNlKCIuanN0cmVlIiwiIikrIi5qc3RyZWUiLHQpfSxnZXRfY29udGFpbmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudH0sZ2V0X2NvbnRhaW5lcl91bDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuY2hpbGRyZW4oIi5qc3RyZWUtY2hpbGRyZW46ZXEoMCkiKX0sZ2V0X3N0cmluZzpmdW5jdGlvbih0KXt2YXIgaT10aGlzLnNldHRpbmdzLmNvcmUuc3RyaW5ncztyZXR1cm4gZS5pc0Z1bmN0aW9uKGkpP2kuY2FsbCh0aGlzLHQpOmkmJmlbdF0/aVt0XTp0fSxfZmlyc3RDaGlsZDpmdW5jdGlvbihlKXtmb3IoZT1lP2UuZmlyc3RDaGlsZDpudWxsO251bGwhPT1lJiYxIT09ZS5ub2RlVHlwZTspZT1lLm5leHRTaWJsaW5nO3JldHVybiBlfSxfbmV4dFNpYmxpbmc6ZnVuY3Rpb24oZSl7Zm9yKGU9ZT9lLm5leHRTaWJsaW5nOm51bGw7bnVsbCE9PWUmJjEhPT1lLm5vZGVUeXBlOyllPWUubmV4dFNpYmxpbmc7cmV0dXJuIGV9LF9wcmV2aW91c1NpYmxpbmc6ZnVuY3Rpb24oZSl7Zm9yKGU9ZT9lLnByZXZpb3VzU2libGluZzpudWxsO251bGwhPT1lJiYxIT09ZS5ub2RlVHlwZTspZT1lLnByZXZpb3VzU2libGluZztyZXR1cm4gZX0sZ2V0X25vZGU6ZnVuY3Rpb24odCxpKXt0JiZ0LmlkJiYodD10LmlkKTt2YXIgczt0cnl7aWYodGhpcy5fbW9kZWwuZGF0YVt0XSl0PXRoaXMuX21vZGVsLmRhdGFbdF07ZWxzZSBpZigoKHM9ZSh0LHRoaXMuZWxlbWVudCkpLmxlbmd0aHx8KHM9ZSgiIyIrdC5yZXBsYWNlKGUuanN0cmVlLmlkcmVnZXgsIlxcJCYiKSx0aGlzLmVsZW1lbnQpKS5sZW5ndGgpJiZ0aGlzLl9tb2RlbC5kYXRhW3MuY2xvc2VzdCgiLmpzdHJlZS1ub2RlIikuYXR0cigiaWQiKV0pdD10aGlzLl9tb2RlbC5kYXRhW3MuY2xvc2VzdCgiLmpzdHJlZS1ub2RlIikuYXR0cigiaWQiKV07ZWxzZXtpZighKHM9ZSh0LHRoaXMuZWxlbWVudCkpLmxlbmd0aHx8IXMuaGFzQ2xhc3MoImpzdHJlZSIpKXJldHVybiExO3Q9dGhpcy5fbW9kZWwuZGF0YVsiIyJdfXJldHVybiBpJiYodD0iIyI9PT10LmlkP3RoaXMuZWxlbWVudDplKCIjIit0LmlkLnJlcGxhY2UoZS5qc3RyZWUuaWRyZWdleCwiXFwkJiIpLHRoaXMuZWxlbWVudCkpLHR9Y2F0Y2gocil7cmV0dXJuITF9fSxnZXRfcGF0aDpmdW5jdGlvbihlLHQsaSl7aWYoZT1lLnBhcmVudHM/ZTp0aGlzLmdldF9ub2RlKGUpLCFlfHwiIyI9PT1lLmlkfHwhZS5wYXJlbnRzKXJldHVybiExO3ZhciBzLHIsbj1bXTtmb3Iobi5wdXNoKGk/ZS5pZDplLnRleHQpLHM9MCxyPWUucGFyZW50cy5sZW5ndGg7cj5zO3MrKyluLnB1c2goaT9lLnBhcmVudHNbc106dGhpcy5nZXRfdGV4dChlLnBhcmVudHNbc10pKTtyZXR1cm4gbj1uLnJldmVyc2UoKS5zbGljZSgxKSx0P24uam9pbih0KTpufSxnZXRfbmV4dF9kb206ZnVuY3Rpb24odCxpKXt2YXIgcztpZih0PXRoaXMuZ2V0X25vZGUodCwhMCksdFswXT09PXRoaXMuZWxlbWVudFswXSl7Zm9yKHM9dGhpcy5fZmlyc3RDaGlsZCh0aGlzLmdldF9jb250YWluZXJfdWwoKVswXSk7cyYmMD09PXMub2Zmc2V0SGVpZ2h0OylzPXRoaXMuX25leHRTaWJsaW5nKHMpO3JldHVybiBzP2Uocyk6ITF9aWYoIXR8fCF0Lmxlbmd0aClyZXR1cm4hMTtpZihpKXtzPXRbMF07ZG8gcz10aGlzLl9uZXh0U2libGluZyhzKTt3aGlsZShzJiYwPT09cy5vZmZzZXRIZWlnaHQpO3JldHVybiBzP2Uocyk6ITF9aWYodC5oYXNDbGFzcygianN0cmVlLW9wZW4iKSl7Zm9yKHM9dGhpcy5fZmlyc3RDaGlsZCh0LmNoaWxkcmVuKCIuanN0cmVlLWNoaWxkcmVuIilbMF0pO3MmJjA9PT1zLm9mZnNldEhlaWdodDspcz10aGlzLl9uZXh0U2libGluZyhzKTtpZihudWxsIT09cylyZXR1cm4gZShzKX1zPXRbMF07ZG8gcz10aGlzLl9uZXh0U2libGluZyhzKTt3aGlsZShzJiYwPT09cy5vZmZzZXRIZWlnaHQpO3JldHVybiBudWxsIT09cz9lKHMpOnQucGFyZW50c1VudGlsKCIuanN0cmVlIiwiLmpzdHJlZS1ub2RlIikubmV4dCgiLmpzdHJlZS1ub2RlOnZpc2libGUiKS5lcSgwKX0sZ2V0X3ByZXZfZG9tOmZ1bmN0aW9uKHQsaSl7dmFyIHM7aWYodD10aGlzLmdldF9ub2RlKHQsITApLHRbMF09PT10aGlzLmVsZW1lbnRbMF0pe2ZvcihzPXRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpWzBdLmxhc3RDaGlsZDtzJiYwPT09cy5vZmZzZXRIZWlnaHQ7KXM9dGhpcy5fcHJldmlvdXNTaWJsaW5nKHMpO3JldHVybiBzP2Uocyk6ITF9aWYoIXR8fCF0Lmxlbmd0aClyZXR1cm4hMTtpZihpKXtzPXRbMF07ZG8gcz10aGlzLl9wcmV2aW91c1NpYmxpbmcocyk7d2hpbGUocyYmMD09PXMub2Zmc2V0SGVpZ2h0KTtyZXR1cm4gcz9lKHMpOiExfXM9dFswXTtkbyBzPXRoaXMuX3ByZXZpb3VzU2libGluZyhzKTt3aGlsZShzJiYwPT09cy5vZmZzZXRIZWlnaHQpO2lmKG51bGwhPT1zKXtmb3IodD1lKHMpO3QuaGFzQ2xhc3MoImpzdHJlZS1vcGVuIik7KXQ9dC5jaGlsZHJlbigiLmpzdHJlZS1jaGlsZHJlbjplcSgwKSIpLmNoaWxkcmVuKCIuanN0cmVlLW5vZGU6dmlzaWJsZTpsYXN0Iik7cmV0dXJuIHR9cmV0dXJuIHM9dFswXS5wYXJlbnROb2RlLnBhcmVudE5vZGUscyYmcy5jbGFzc05hbWUmJi0xIT09cy5jbGFzc05hbWUuaW5kZXhPZigianN0cmVlLW5vZGUiKT9lKHMpOiExfSxnZXRfcGFyZW50OmZ1bmN0aW9uKGUpe3JldHVybiBlPXRoaXMuZ2V0X25vZGUoZSksZSYmIiMiIT09ZS5pZD9lLnBhcmVudDohMX0sZ2V0X2NoaWxkcmVuX2RvbTpmdW5jdGlvbihlKXtyZXR1cm4gZT10aGlzLmdldF9ub2RlKGUsITApLGVbMF09PT10aGlzLmVsZW1lbnRbMF0/dGhpcy5nZXRfY29udGFpbmVyX3VsKCkuY2hpbGRyZW4oIi5qc3RyZWUtbm9kZSIpOmUmJmUubGVuZ3RoP2UuY2hpbGRyZW4oIi5qc3RyZWUtY2hpbGRyZW4iKS5jaGlsZHJlbigiLmpzdHJlZS1ub2RlIik6ITF9LGlzX3BhcmVudDpmdW5jdGlvbihlKXtyZXR1cm4gZT10aGlzLmdldF9ub2RlKGUpLGUmJihlLnN0YXRlLmxvYWRlZD09PSExfHxlLmNoaWxkcmVuLmxlbmd0aD4wKX0saXNfbG9hZGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlPXRoaXMuZ2V0X25vZGUoZSksZSYmZS5zdGF0ZS5sb2FkZWR9LGlzX2xvYWRpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9dGhpcy5nZXRfbm9kZShlKSxlJiZlLnN0YXRlJiZlLnN0YXRlLmxvYWRpbmd9LGlzX29wZW46ZnVuY3Rpb24oZSl7cmV0dXJuIGU9dGhpcy5nZXRfbm9kZShlKSxlJiZlLnN0YXRlLm9wZW5lZH0saXNfY2xvc2VkOmZ1bmN0aW9uKGUpe3JldHVybiBlPXRoaXMuZ2V0X25vZGUoZSksZSYmdGhpcy5pc19wYXJlbnQoZSkmJiFlLnN0YXRlLm9wZW5lZH0saXNfbGVhZjpmdW5jdGlvbihlKXtyZXR1cm4hdGhpcy5pc19wYXJlbnQoZSl9LGxvYWRfbm9kZTpmdW5jdGlvbih0LGkpe3ZhciBzLHIsbixhLGQ7aWYoZS5pc0FycmF5KHQpKXJldHVybiB0aGlzLl9sb2FkX25vZGVzKHQuc2xpY2UoKSxpKSwhMDtpZih0PXRoaXMuZ2V0X25vZGUodCksIXQpcmV0dXJuIGkmJmkuY2FsbCh0aGlzLHQsITEpLCExO2lmKHQuc3RhdGUubG9hZGVkKXtmb3IodC5zdGF0ZS5sb2FkZWQ9ITEscz0wLHI9dC5jaGlsZHJlbl9kLmxlbmd0aDtyPnM7cysrKXtmb3Iobj0wLGE9dC5wYXJlbnRzLmxlbmd0aDthPm47bisrKXRoaXMuX21vZGVsLmRhdGFbdC5wYXJlbnRzW25dXS5jaGlsZHJlbl9kPWUudmFrYXRhLmFycmF5X3JlbW92ZV9pdGVtKHRoaXMuX21vZGVsLmRhdGFbdC5wYXJlbnRzW25dXS5jaGlsZHJlbl9kLHQuY2hpbGRyZW5fZFtzXSk7dGhpcy5fbW9kZWwuZGF0YVt0LmNoaWxkcmVuX2Rbc11dLnN0YXRlLnNlbGVjdGVkJiYoZD0hMCx0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQ9ZS52YWthdGEuYXJyYXlfcmVtb3ZlX2l0ZW0odGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLHQuY2hpbGRyZW5fZFtzXSkpLGRlbGV0ZSB0aGlzLl9tb2RlbC5kYXRhW3QuY2hpbGRyZW5fZFtzXV19dC5jaGlsZHJlbj1bXSx0LmNoaWxkcmVuX2Q9W10sZCYmdGhpcy50cmlnZ2VyKCJjaGFuZ2VkIix7YWN0aW9uOiJsb2FkX25vZGUiLG5vZGU6dCxzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWR9KX1yZXR1cm4gdC5zdGF0ZS5sb2FkaW5nPSEwLHRoaXMuZ2V0X25vZGUodCwhMCkuYWRkQ2xhc3MoImpzdHJlZS1sb2FkaW5nIiksdGhpcy5fbG9hZF9ub2RlKHQsZS5wcm94eShmdW5jdGlvbihlKXt0PXRoaXMuX21vZGVsLmRhdGFbdC5pZF0sdC5zdGF0ZS5sb2FkaW5nPSExLHQuc3RhdGUubG9hZGVkPWU7dmFyIHM9dGhpcy5nZXRfbm9kZSh0LCEwKTt0LnN0YXRlLmxvYWRlZCYmIXQuY2hpbGRyZW4ubGVuZ3RoJiZzJiZzLmxlbmd0aCYmIXMuaGFzQ2xhc3MoImpzdHJlZS1sZWFmIikmJnMucmVtb3ZlQ2xhc3MoImpzdHJlZS1jbG9zZWQganN0cmVlLW9wZW4iKS5hZGRDbGFzcygianN0cmVlLWxlYWYiKSxzLnJlbW92ZUNsYXNzKCJqc3RyZWUtbG9hZGluZyIpLHRoaXMudHJpZ2dlcigibG9hZF9ub2RlIix7bm9kZTp0LHN0YXR1czplfSksaSYmaS5jYWxsKHRoaXMsdCxlKX0sdGhpcykpLCEwfSxfbG9hZF9ub2RlczpmdW5jdGlvbihlLHQsaSl7dmFyIGEsZCxzPSEwLHI9ZnVuY3Rpb24oKXt0aGlzLl9sb2FkX25vZGVzKGUsdCwhMCl9LG49dGhpcy5fbW9kZWwuZGF0YTtmb3IoYT0wLGQ9ZS5sZW5ndGg7ZD5hO2ErKykhbltlW2FdXXx8bltlW2FdXS5zdGF0ZS5sb2FkZWQmJml8fCh0aGlzLmlzX2xvYWRpbmcoZVthXSl8fHRoaXMubG9hZF9ub2RlKGVbYV0scikscz0hMSk7cyYmdCYmIXQuZG9uZSYmKHQuY2FsbCh0aGlzLGUpLHQuZG9uZT0hMCl9LF9sb2FkX25vZGU6ZnVuY3Rpb24odCxpKXt2YXIgcixzPXRoaXMuc2V0dGluZ3MuY29yZS5kYXRhO3JldHVybiBzP2UuaXNGdW5jdGlvbihzKT9zLmNhbGwodGhpcyx0LGUucHJveHkoZnVuY3Rpb24ocyl7cz09PSExJiZpLmNhbGwodGhpcywhMSksdGhpc1sic3RyaW5nIj09dHlwZW9mIHM/Il9hcHBlbmRfaHRtbF9kYXRhIjoiX2FwcGVuZF9qc29uX2RhdGEiXSh0LCJzdHJpbmciPT10eXBlb2Ygcz9lKHMpOnMsZnVuY3Rpb24oZSl7aS5jYWxsKHRoaXMsZSl9KX0sdGhpcykpOiJvYmplY3QiPT10eXBlb2Ygcz9zLnVybD8ocz1lLmV4dGVuZCghMCx7fSxzKSxlLmlzRnVuY3Rpb24ocy51cmwpJiYocy51cmw9cy51cmwuY2FsbCh0aGlzLHQpKSxlLmlzRnVuY3Rpb24ocy5kYXRhKSYmKHMuZGF0YT1zLmRhdGEuY2FsbCh0aGlzLHQpKSxlLmFqYXgocykuZG9uZShlLnByb3h5KGZ1bmN0aW9uKHMscixuKXt2YXIgYT1uLmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKTtyZXR1cm4tMSE9PWEuaW5kZXhPZigianNvbiIpfHwib2JqZWN0Ij09dHlwZW9mIHM/dGhpcy5fYXBwZW5kX2pzb25fZGF0YSh0LHMsZnVuY3Rpb24oZSl7aS5jYWxsKHRoaXMsZSl9KTotMSE9PWEuaW5kZXhPZigiaHRtbCIpfHwic3RyaW5nIj09dHlwZW9mIHM/dGhpcy5fYXBwZW5kX2h0bWxfZGF0YSh0LGUocyksZnVuY3Rpb24oZSl7aS5jYWxsKHRoaXMsZSl9KToodGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOiJhamF4IixwbHVnaW46ImNvcmUiLGlkOiJjb3JlXzA0IixyZWFzb246IkNvdWxkIG5vdCBsb2FkIG5vZGUiLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2lkOnQuaWQseGhyOm59KX0sdGhpcy5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvciksaS5jYWxsKHRoaXMsITEpKX0sdGhpcykpLmZhaWwoZS5wcm94eShmdW5jdGlvbihlKXtpLmNhbGwodGhpcywhMSksdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOiJhamF4IixwbHVnaW46ImNvcmUiLGlkOiJjb3JlXzA0IixyZWFzb246IkNvdWxkIG5vdCBsb2FkIG5vZGUiLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2lkOnQuaWQseGhyOmV9KX0sdGhpcy5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcil9LHRoaXMpKSk6KHI9ZS5pc0FycmF5KHMpfHxlLmlzUGxhaW5PYmplY3Qocyk/SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzKSk6cywiIyI9PT10LmlkP3RoaXMuX2FwcGVuZF9qc29uX2RhdGEodCxyLGZ1bmN0aW9uKGUpe2kuY2FsbCh0aGlzLGUpfSk6KHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjoibm9kYXRhIixwbHVnaW46ImNvcmUiLGlkOiJjb3JlXzA1IixyZWFzb246IkNvdWxkIG5vdCBsb2FkIG5vZGUiLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2lkOnQuaWR9KX0sdGhpcy5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvciksaS5jYWxsKHRoaXMsITEpKSk6InN0cmluZyI9PXR5cGVvZiBzPyIjIj09PXQuaWQ/dGhpcy5fYXBwZW5kX2h0bWxfZGF0YSh0LGUocyksZnVuY3Rpb24oZSl7aS5jYWxsKHRoaXMsZSl9KToodGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOiJub2RhdGEiLHBsdWdpbjoiY29yZSIsaWQ6ImNvcmVfMDYiLHJlYXNvbjoiQ291bGQgbm90IGxvYWQgbm9kZSIsZGF0YTpKU09OLnN0cmluZ2lmeSh7aWQ6dC5pZH0pfSx0aGlzLnNldHRpbmdzLmNvcmUuZXJyb3IuY2FsbCh0aGlzLHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yKSxpLmNhbGwodGhpcywhMSkpOmkuY2FsbCh0aGlzLCExKToiIyI9PT10LmlkP3RoaXMuX2FwcGVuZF9odG1sX2RhdGEodCx0aGlzLl9kYXRhLmNvcmUub3JpZ2luYWxfY29udGFpbmVyX2h0bWwuY2xvbmUoITApLGZ1bmN0aW9uKGUpe2kuY2FsbCh0aGlzLGUpfSk6aS5jYWxsKHRoaXMsITEpfSxfbm9kZV9jaGFuZ2VkOmZ1bmN0aW9uKGUpe2U9dGhpcy5nZXRfbm9kZShlKSxlJiZ0aGlzLl9tb2RlbC5jaGFuZ2VkLnB1c2goZS5pZCl9LF9hcHBlbmRfaHRtbF9kYXRhOmZ1bmN0aW9uKHQsaSxzKXt0PXRoaXMuZ2V0X25vZGUodCksdC5jaGlsZHJlbj1bXSx0LmNoaWxkcmVuX2Q9W107dmFyIGgsXyx1LHI9aS5pcygidWwiKT9pLmNoaWxkcmVuKCk6aSxuPXQuaWQsYT1bXSxkPVtdLG89dGhpcy5fbW9kZWwuZGF0YSxjPW9bbl0sbD10aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQubGVuZ3RoO2ZvcihyLmVhY2goZS5wcm94eShmdW5jdGlvbih0LGkpe2g9dGhpcy5fcGFyc2VfbW9kZWxfZnJvbV9odG1sKGUoaSksbixjLnBhcmVudHMuY29uY2F0KCkpLGgmJihhLnB1c2goaCksZC5wdXNoKGgpLG9baF0uY2hpbGRyZW5fZC5sZW5ndGgmJihkPWQuY29uY2F0KG9baF0uY2hpbGRyZW5fZCkpKX0sdGhpcykpLGMuY2hpbGRyZW49YSxjLmNoaWxkcmVuX2Q9ZCxfPTAsdT1jLnBhcmVudHMubGVuZ3RoO3U+XztfKyspb1tjLnBhcmVudHNbX11dLmNoaWxkcmVuX2Q9b1tjLnBhcmVudHNbX11dLmNoaWxkcmVuX2QuY29uY2F0KGQpO3RoaXMudHJpZ2dlcigibW9kZWwiLHtub2RlczpkLHBhcmVudDpufSksIiMiIT09bj8odGhpcy5fbm9kZV9jaGFuZ2VkKG4pLHRoaXMucmVkcmF3KCkpOih0aGlzLmdldF9jb250YWluZXJfdWwoKS5jaGlsZHJlbigiLmpzdHJlZS1pbml0aWFsLW5vZGUiKS5yZW1vdmUoKSx0aGlzLnJlZHJhdyghMCkpLHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5sZW5ndGghPT1sJiZ0aGlzLnRyaWdnZXIoImNoYW5nZWQiLHthY3Rpb246Im1vZGVsIixzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWR9KSxzLmNhbGwodGhpcywhMCl9LF9hcHBlbmRfanNvbl9kYXRhOmZ1bmN0aW9uKHQsaSxzLHIpe3Q9dGhpcy5nZXRfbm9kZSh0KSx0LmNoaWxkcmVuPVtdLHQuY2hpbGRyZW5fZD1bXSxpLmQmJihpPWkuZCwic3RyaW5nIj09dHlwZW9mIGkmJihpPUpTT04ucGFyc2UoaSkpKSxlLmlzQXJyYXkoaSl8fChpPVtpXSk7dmFyIG49bnVsbCxhPXtkZjp0aGlzLl9tb2RlbC5kZWZhdWx0X3N0YXRlLGRhdDppLHBhcjp0LmlkLG06dGhpcy5fbW9kZWwuZGF0YSx0X2lkOnRoaXMuX2lkLHRfY250OnRoaXMuX2NudCxzZWw6dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkfSxkPWZ1bmN0aW9uKGUsdCl7ZS5kYXRhJiYoZT1lLmRhdGEpO3ZhciB1LGcsZixwLGk9ZS5kYXQscz1lLnBhcixyPVtdLG49W10sYT1bXSxkPWUuZGYsbz1lLnRfaWQsYz1lLnRfY250LGw9ZS5tLGg9bFtzXSxfPWUuc2VsLG09ZnVuY3Rpb24oZSxpLHMpe3M9cz9zLmNvbmNhdCgpOltdLGkmJnMudW5zaGlmdChpKTt2YXIgbixvLGMsaCxyPSIiK2UuaWQsXz17aWQ6cix0ZXh0OmUudGV4dHx8IiIsaWNvbjplLmljb24hPT10P2UuaWNvbjohMCxwYXJlbnQ6aSxwYXJlbnRzOnMsY2hpbGRyZW46ZS5jaGlsZHJlbnx8W10sY2hpbGRyZW5fZDplLmNoaWxkcmVuX2R8fFtdLGRhdGE6ZS5kYXRhLHN0YXRlOnt9LGxpX2F0dHI6e2lkOiExfSxhX2F0dHI6e2hyZWY6IiMifSxvcmlnaW5hbDohMX07Zm9yKG4gaW4gZClkLmhhc093blByb3BlcnR5KG4pJiYoXy5zdGF0ZVtuXT1kW25dKTtpZihlJiZlLmRhdGEmJmUuZGF0YS5qc3RyZWUmJmUuZGF0YS5qc3RyZWUuaWNvbiYmKF8uaWNvbj1lLmRhdGEuanN0cmVlLmljb24pLGUmJmUuZGF0YSYmKF8uZGF0YT1lLmRhdGEsZS5kYXRhLmpzdHJlZSkpZm9yKG4gaW4gZS5kYXRhLmpzdHJlZSllLmRhdGEuanN0cmVlLmhhc093blByb3BlcnR5KG4pJiYoXy5zdGF0ZVtuXT1lLmRhdGEuanN0cmVlW25dKTtpZihlJiYib2JqZWN0Ij09dHlwZW9mIGUuc3RhdGUpZm9yKG4gaW4gZS5zdGF0ZSllLnN0YXRlLmhhc093blByb3BlcnR5KG4pJiYoXy5zdGF0ZVtuXT1lLnN0YXRlW25dKTtpZihlJiYib2JqZWN0Ij09dHlwZW9mIGUubGlfYXR0cilmb3IobiBpbiBlLmxpX2F0dHIpZS5saV9hdHRyLmhhc093blByb3BlcnR5KG4pJiYoXy5saV9hdHRyW25dPWUubGlfYXR0cltuXSk7aWYoXy5saV9hdHRyLmlkfHwoXy5saV9hdHRyLmlkPXIpLGUmJiJvYmplY3QiPT10eXBlb2YgZS5hX2F0dHIpZm9yKG4gaW4gZS5hX2F0dHIpZS5hX2F0dHIuaGFzT3duUHJvcGVydHkobikmJihfLmFfYXR0cltuXT1lLmFfYXR0cltuXSk7Zm9yKGUmJmUuY2hpbGRyZW4mJmUuY2hpbGRyZW49PT0hMCYmKF8uc3RhdGUubG9hZGVkPSExLF8uY2hpbGRyZW49W10sXy5jaGlsZHJlbl9kPVtdKSxsW18uaWRdPV8sbj0wLG89Xy5jaGlsZHJlbi5sZW5ndGg7bz5uO24rKyljPW0obFtfLmNoaWxkcmVuW25dXSxfLmlkLHMpLGg9bFtjXSxfLmNoaWxkcmVuX2QucHVzaChjKSxoLmNoaWxkcmVuX2QubGVuZ3RoJiYoXy5jaGlsZHJlbl9kPV8uY2hpbGRyZW5fZC5jb25jYXQoaC5jaGlsZHJlbl9kKSk7cmV0dXJuIGRlbGV0ZSBlLmRhdGEsZGVsZXRlIGUuY2hpbGRyZW4sbFtfLmlkXS5vcmlnaW5hbD1lLF8uc3RhdGUuc2VsZWN0ZWQmJmEucHVzaChfLmlkKSxfLmlkfSx2PWZ1bmN0aW9uKGUsaSxzKXtzPXM/cy5jb25jYXQoKTpbXSxpJiZzLnVuc2hpZnQoaSk7dmFyIG4saCxfLHUsZyxyPSExO2RvIHI9ImoiK28rIl8iKyArK2M7d2hpbGUobFtyXSk7Zz17aWQ6ITEsdGV4dDoic3RyaW5nIj09dHlwZW9mIGU/ZToiIixpY29uOiJvYmplY3QiPT10eXBlb2YgZSYmZS5pY29uIT09dD9lLmljb246ITAscGFyZW50OmkscGFyZW50czpzLGNoaWxkcmVuOltdLGNoaWxkcmVuX2Q6W10sZGF0YTpudWxsLHN0YXRlOnt9LGxpX2F0dHI6e2lkOiExfSxhX2F0dHI6e2hyZWY6IiMifSxvcmlnaW5hbDohMX07Zm9yKG4gaW4gZClkLmhhc093blByb3BlcnR5KG4pJiYoZy5zdGF0ZVtuXT1kW25dKTtpZihlJiZlLmlkJiYoZy5pZD0iIitlLmlkKSxlJiZlLnRleHQmJihnLnRleHQ9ZS50ZXh0KSxlJiZlLmRhdGEmJmUuZGF0YS5qc3RyZWUmJmUuZGF0YS5qc3RyZWUuaWNvbiYmKGcuaWNvbj1lLmRhdGEuanN0cmVlLmljb24pLGUmJmUuZGF0YSYmKGcuZGF0YT1lLmRhdGEsZS5kYXRhLmpzdHJlZSkpZm9yKG4gaW4gZS5kYXRhLmpzdHJlZSllLmRhdGEuanN0cmVlLmhhc093blByb3BlcnR5KG4pJiYoZy5zdGF0ZVtuXT1lLmRhdGEuanN0cmVlW25dKTtpZihlJiYib2JqZWN0Ij09dHlwZW9mIGUuc3RhdGUpZm9yKG4gaW4gZS5zdGF0ZSllLnN0YXRlLmhhc093blByb3BlcnR5KG4pJiYoZy5zdGF0ZVtuXT1lLnN0YXRlW25dKTtpZihlJiYib2JqZWN0Ij09dHlwZW9mIGUubGlfYXR0cilmb3IobiBpbiBlLmxpX2F0dHIpZS5saV9hdHRyLmhhc093blByb3BlcnR5KG4pJiYoZy5saV9hdHRyW25dPWUubGlfYXR0cltuXSk7aWYoZy5saV9hdHRyLmlkJiYhZy5pZCYmKGcuaWQ9IiIrZy5saV9hdHRyLmlkKSxnLmlkfHwoZy5pZD1yKSxnLmxpX2F0dHIuaWR8fChnLmxpX2F0dHIuaWQ9Zy5pZCksZSYmIm9iamVjdCI9PXR5cGVvZiBlLmFfYXR0cilmb3IobiBpbiBlLmFfYXR0cillLmFfYXR0ci5oYXNPd25Qcm9wZXJ0eShuKSYmKGcuYV9hdHRyW25dPWUuYV9hdHRyW25dKTtpZihlJiZlLmNoaWxkcmVuJiZlLmNoaWxkcmVuLmxlbmd0aCl7Zm9yKG49MCxoPWUuY2hpbGRyZW4ubGVuZ3RoO2g+bjtuKyspXz12KGUuY2hpbGRyZW5bbl0sZy5pZCxzKSx1PWxbX10sZy5jaGlsZHJlbi5wdXNoKF8pLHUuY2hpbGRyZW5fZC5sZW5ndGgmJihnLmNoaWxkcmVuX2Q9Zy5jaGlsZHJlbl9kLmNvbmNhdCh1LmNoaWxkcmVuX2QpKTtnLmNoaWxkcmVuX2Q9Zy5jaGlsZHJlbl9kLmNvbmNhdChnLmNoaWxkcmVuKX1yZXR1cm4gZSYmZS5jaGlsZHJlbiYmZS5jaGlsZHJlbj09PSEwJiYoZy5zdGF0ZS5sb2FkZWQ9ITEsZy5jaGlsZHJlbj1bXSxnLmNoaWxkcmVuX2Q9W10pLGRlbGV0ZSBlLmRhdGEsZGVsZXRlIGUuY2hpbGRyZW4sZy5vcmlnaW5hbD1lLGxbZy5pZF09ZyxnLnN0YXRlLnNlbGVjdGVkJiZhLnB1c2goZy5pZCksZy5pZH07aWYoaS5sZW5ndGgmJmlbMF0uaWQhPT10JiZpWzBdLnBhcmVudCE9PXQpe2ZvcihnPTAsZj1pLmxlbmd0aDtmPmc7ZysrKWlbZ10uY2hpbGRyZW58fChpW2ddLmNoaWxkcmVuPVtdKSxsWyIiK2lbZ10uaWRdPWlbZ107Zm9yKGc9MCxmPWkubGVuZ3RoO2Y+ZztnKyspbFsiIitpW2ddLnBhcmVudF0uY2hpbGRyZW4ucHVzaCgiIitpW2ddLmlkKSxoLmNoaWxkcmVuX2QucHVzaCgiIitpW2ddLmlkKTtmb3IoZz0wLGY9aC5jaGlsZHJlbi5sZW5ndGg7Zj5nO2crKyl1PW0obFtoLmNoaWxkcmVuW2ddXSxzLGgucGFyZW50cy5jb25jYXQoKSksbi5wdXNoKHUpLGxbdV0uY2hpbGRyZW5fZC5sZW5ndGgmJihuPW4uY29uY2F0KGxbdV0uY2hpbGRyZW5fZCkpO2ZvcihnPTAsZj1oLnBhcmVudHMubGVuZ3RoO2Y+ZztnKyspbFtoLnBhcmVudHNbZ11dLmNoaWxkcmVuX2Q9bFtoLnBhcmVudHNbZ11dLmNoaWxkcmVuX2QuY29uY2F0KG4pO3A9e2NudDpjLG1vZDpsLHNlbDpfLHBhcjpzLGRwYzpuLGFkZDphfX1lbHNle2ZvcihnPTAsZj1pLmxlbmd0aDtmPmc7ZysrKXU9dihpW2ddLHMsaC5wYXJlbnRzLmNvbmNhdCgpKSx1JiYoci5wdXNoKHUpLG4ucHVzaCh1KSxsW3VdLmNoaWxkcmVuX2QubGVuZ3RoJiYobj1uLmNvbmNhdChsW3VdLmNoaWxkcmVuX2QpKSk7Zm9yKGguY2hpbGRyZW49cixoLmNoaWxkcmVuX2Q9bixnPTAsZj1oLnBhcmVudHMubGVuZ3RoO2Y+ZztnKyspbFtoLnBhcmVudHNbZ11dLmNoaWxkcmVuX2Q9bFtoLnBhcmVudHNbZ11dLmNoaWxkcmVuX2QuY29uY2F0KG4pO3A9e2NudDpjLG1vZDpsLHNlbDpfLHBhcjpzLGRwYzpuLGFkZDphfX1yZXR1cm4gcH0sbz1mdW5jdGlvbih0LGkpe2lmKHRoaXMuX2NudD10LmNudCx0aGlzLl9tb2RlbC5kYXRhPXQubW9kLGkpe3ZhciByLG4sYT10LmFkZCxkPXQuc2VsLG89dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLnNsaWNlKCksYz10aGlzLl9tb2RlbC5kYXRhO2lmKGQubGVuZ3RoIT09by5sZW5ndGh8fGUudmFrYXRhLmFycmF5X3VuaXF1ZShkLmNvbmNhdChvKSkubGVuZ3RoIT09ZC5sZW5ndGgpe2ZvcihyPTAsbj1kLmxlbmd0aDtuPnI7cisrKS0xPT09ZS5pbkFycmF5KGRbcl0sYSkmJi0xPT09ZS5pbkFycmF5KGRbcl0sbykmJihjW2Rbcl1dLnN0YXRlLnNlbGVjdGVkPSExKTtmb3Iocj0wLG49by5sZW5ndGg7bj5yO3IrKyktMT09PWUuaW5BcnJheShvW3JdLGQpJiYoY1tvW3JdXS5zdGF0ZS5zZWxlY3RlZD0hMCl9fXQuYWRkLmxlbmd0aCYmKHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZD10aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQuY29uY2F0KHQuYWRkKSksdGhpcy50cmlnZ2VyKCJtb2RlbCIse25vZGVzOnQuZHBjLHBhcmVudDp0LnBhcn0pLCIjIiE9PXQucGFyPyh0aGlzLl9ub2RlX2NoYW5nZWQodC5wYXIpLHRoaXMucmVkcmF3KCkpOnRoaXMucmVkcmF3KCEwKSx0LmFkZC5sZW5ndGgmJnRoaXMudHJpZ2dlcigiY2hhbmdlZCIse2FjdGlvbjoibW9kZWwiLHNlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZH0pLHMuY2FsbCh0aGlzLCEwKX07aWYodGhpcy5zZXR0aW5ncy5jb3JlLndvcmtlciYmd2luZG93LkJsb2ImJndpbmRvdy5VUkwmJndpbmRvdy5Xb3JrZXIpdHJ5e251bGw9PT10aGlzLl93cmsmJih0aGlzLl93cms9d2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IHdpbmRvdy5CbG9iKFsic2VsZi5vbm1lc3NhZ2UgPSAiKygiIitkKS5yZXBsYWNlKC9yZXR1cm4gKFteO31dKylbXHM7fV0rJC8sInBvc3RNZXNzYWdlKCQxKTt9IildLHt0eXBlOiJ0ZXh0L2phdmFzY3JpcHQifSkpKSwhdGhpcy5fZGF0YS5jb3JlLndvcmtpbmd8fHI/KHRoaXMuX2RhdGEuY29yZS53b3JraW5nPSEwLG49bmV3IHdpbmRvdy5Xb3JrZXIodGhpcy5fd3JrKSxuLm9ubWVzc2FnZT1lLnByb3h5KGZ1bmN0aW9uKGUpe28uY2FsbCh0aGlzLGUuZGF0YSwhMCksdGhpcy5fZGF0YS5jb3JlLndvcmtlcl9xdWV1ZS5sZW5ndGg/dGhpcy5fYXBwZW5kX2pzb25fZGF0YS5hcHBseSh0aGlzLHRoaXMuX2RhdGEuY29yZS53b3JrZXJfcXVldWUuc2hpZnQoKSk6dGhpcy5fZGF0YS5jb3JlLndvcmtpbmc9ITF9LHRoaXMpLGEucGFyP24ucG9zdE1lc3NhZ2UoYSk6dGhpcy5fZGF0YS5jb3JlLndvcmtlcl9xdWV1ZS5sZW5ndGg/dGhpcy5fYXBwZW5kX2pzb25fZGF0YS5hcHBseSh0aGlzLHRoaXMuX2RhdGEuY29yZS53b3JrZXJfcXVldWUuc2hpZnQoKSk6dGhpcy5fZGF0YS5jb3JlLndvcmtpbmc9ITEpOnRoaXMuX2RhdGEuY29yZS53b3JrZXJfcXVldWUucHVzaChbdCxpLHMsITBdKX1jYXRjaChjKXtvLmNhbGwodGhpcyxkKGEpLCExKSx0aGlzLl9kYXRhLmNvcmUud29ya2VyX3F1ZXVlLmxlbmd0aD90aGlzLl9hcHBlbmRfanNvbl9kYXRhLmFwcGx5KHRoaXMsdGhpcy5fZGF0YS5jb3JlLndvcmtlcl9xdWV1ZS5zaGlmdCgpKTp0aGlzLl9kYXRhLmNvcmUud29ya2luZz0hMX1lbHNlIG8uY2FsbCh0aGlzLGQoYSksITEpfSxfcGFyc2VfbW9kZWxfZnJvbV9odG1sOmZ1bmN0aW9uKGkscyxyKXtyPXI/W10uY29uY2F0KHIpOltdLHMmJnIudW5zaGlmdChzKTt2YXIgbixhLGMsbCxoLGQ9dGhpcy5fbW9kZWwuZGF0YSxvPXtpZDohMSx0ZXh0OiExLGljb246ITAscGFyZW50OnMscGFyZW50czpyLGNoaWxkcmVuOltdLGNoaWxkcmVuX2Q6W10sZGF0YTpudWxsLHN0YXRlOnt9LGxpX2F0dHI6e2lkOiExfSxhX2F0dHI6e2hyZWY6IiMifSxvcmlnaW5hbDohMX07Zm9yKGMgaW4gdGhpcy5fbW9kZWwuZGVmYXVsdF9zdGF0ZSl0aGlzLl9tb2RlbC5kZWZhdWx0X3N0YXRlLmhhc093blByb3BlcnR5KGMpJiYoby5zdGF0ZVtjXT10aGlzLl9tb2RlbC5kZWZhdWx0X3N0YXRlW2NdKTtpZihsPWUudmFrYXRhLmF0dHJpYnV0ZXMoaSwhMCksZS5lYWNoKGwsZnVuY3Rpb24oaSxzKXtyZXR1cm4gcz1lLnRyaW0ocykscy5sZW5ndGg/KG8ubGlfYXR0cltpXT1zLCJpZCI9PT1pJiYoby5pZD0iIitzKSx0KTohMH0pLGw9aS5jaGlsZHJlbigiYSIpLmVxKDApLGwubGVuZ3RoJiYobD1lLnZha2F0YS5hdHRyaWJ1dGVzKGwsITApLGUuZWFjaChsLGZ1bmN0aW9uKHQsaSl7aT1lLnRyaW0oaSksaS5sZW5ndGgmJihvLmFfYXR0clt0XT1pKX0pKSxsPWkuY2hpbGRyZW4oImE6ZXEoMCkiKS5sZW5ndGg/aS5jaGlsZHJlbigiYTplcSgwKSIpLmNsb25lKCk6aS5jbG9uZSgpLGwuY2hpbGRyZW4oImlucywgaSwgdWwiKS5yZW1vdmUoKSxsPWwuaHRtbCgpLGw9ZSgiPGRpdiAvPiIpLmh0bWwobCksby50ZXh0PXRoaXMuc2V0dGluZ3MuY29yZS5mb3JjZV90ZXh0P2wudGV4dCgpOmwuaHRtbCgpLGw9aS5kYXRhKCksby5kYXRhPWw/ZS5leHRlbmQoITAse30sbCk6bnVsbCxvLnN0YXRlLm9wZW5lZD1pLmhhc0NsYXNzKCJqc3RyZWUtb3BlbiIpLG8uc3RhdGUuc2VsZWN0ZWQ9aS5jaGlsZHJlbigiYSIpLmhhc0NsYXNzKCJqc3RyZWUtY2xpY2tlZCIpLG8uc3RhdGUuZGlzYWJsZWQ9aS5jaGlsZHJlbigiYSIpLmhhc0NsYXNzKCJqc3RyZWUtZGlzYWJsZWQiKSxvLmRhdGEmJm8uZGF0YS5qc3RyZWUpZm9yKGMgaW4gby5kYXRhLmpzdHJlZSlvLmRhdGEuanN0cmVlLmhhc093blByb3BlcnR5KGMpJiYoby5zdGF0ZVtjXT1vLmRhdGEuanN0cmVlW2NdKTtsPWkuY2hpbGRyZW4oImEiKS5jaGlsZHJlbigiLmpzdHJlZS10aGVtZWljb24iKSxsLmxlbmd0aCYmKG8uaWNvbj1sLmhhc0NsYXNzKCJqc3RyZWUtdGhlbWVpY29uLWhpZGRlbiIpPyExOmwuYXR0cigicmVsIikpLG8uc3RhdGUuaWNvbiYmKG8uaWNvbj1vLnN0YXRlLmljb24pLGw9aS5jaGlsZHJlbigidWwiKS5jaGlsZHJlbigibGkiKTtkbyBoPSJqIit0aGlzLl9pZCsiXyIrICsrdGhpcy5fY250O3doaWxlKGRbaF0pO3JldHVybiBvLmlkPW8ubGlfYXR0ci5pZD8iIitvLmxpX2F0dHIuaWQ6aCxsLmxlbmd0aD8obC5lYWNoKGUucHJveHkoZnVuY3Rpb24odCxpKXtuPXRoaXMuX3BhcnNlX21vZGVsX2Zyb21faHRtbChlKGkpLG8uaWQsciksYT10aGlzLl9tb2RlbC5kYXRhW25dLG8uY2hpbGRyZW4ucHVzaChuKSxhLmNoaWxkcmVuX2QubGVuZ3RoJiYoby5jaGlsZHJlbl9kPW8uY2hpbGRyZW5fZC5jb25jYXQoYS5jaGlsZHJlbl9kKSl9LHRoaXMpKSxvLmNoaWxkcmVuX2Q9by5jaGlsZHJlbl9kLmNvbmNhdChvLmNoaWxkcmVuKSk6aS5oYXNDbGFzcygianN0cmVlLWNsb3NlZCIpJiYoby5zdGF0ZS5sb2FkZWQ9ITEpLG8ubGlfYXR0clsiY2xhc3MiXSYmKG8ubGlfYXR0clsiY2xhc3MiXT1vLmxpX2F0dHJbImNsYXNzIl0ucmVwbGFjZSgianN0cmVlLWNsb3NlZCIsIiIpLnJlcGxhY2UoImpzdHJlZS1vcGVuIiwiIikpLG8uYV9hdHRyWyJjbGFzcyJdJiYoby5hX2F0dHJbImNsYXNzIl09by5hX2F0dHJbImNsYXNzIl0ucmVwbGFjZSgianN0cmVlLWNsaWNrZWQiLCIiKS5yZXBsYWNlKCJqc3RyZWUtZGlzYWJsZWQiLCIiKSksZFtvLmlkXT1vLG8uc3RhdGUuc2VsZWN0ZWQmJnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5wdXNoKG8uaWQpLG8uaWR9LF9wYXJzZV9tb2RlbF9mcm9tX2ZsYXRfanNvbjpmdW5jdGlvbihlLGkscyl7cz1zP3MuY29uY2F0KCk6W10saSYmcy51bnNoaWZ0KGkpO3ZhciBkLG8sYyxsLHI9IiIrZS5pZCxuPXRoaXMuX21vZGVsLmRhdGEsYT10aGlzLl9tb2RlbC5kZWZhdWx0X3N0YXRlLGg9e2lkOnIsdGV4dDplLnRleHR8fCIiLGljb246ZS5pY29uIT09dD9lLmljb246ITAscGFyZW50OmkscGFyZW50czpzLGNoaWxkcmVuOmUuY2hpbGRyZW58fFtdLGNoaWxkcmVuX2Q6ZS5jaGlsZHJlbl9kfHxbXSxkYXRhOmUuZGF0YSxzdGF0ZTp7fSxsaV9hdHRyOntpZDohMX0sYV9hdHRyOntocmVmOiIjIn0sb3JpZ2luYWw6ITF9O2ZvcihkIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShkKSYmKGguc3RhdGVbZF09YVtkXSk7aWYoZSYmZS5kYXRhJiZlLmRhdGEuanN0cmVlJiZlLmRhdGEuanN0cmVlLmljb24mJihoLmljb249ZS5kYXRhLmpzdHJlZS5pY29uKSxlJiZlLmRhdGEmJihoLmRhdGE9ZS5kYXRhLGUuZGF0YS5qc3RyZWUpKWZvcihkIGluIGUuZGF0YS5qc3RyZWUpZS5kYXRhLmpzdHJlZS5oYXNPd25Qcm9wZXJ0eShkKSYmKGguc3RhdGVbZF09ZS5kYXRhLmpzdHJlZVtkXSk7aWYoZSYmIm9iamVjdCI9PXR5cGVvZiBlLnN0YXRlKWZvcihkIGluIGUuc3RhdGUpZS5zdGF0ZS5oYXNPd25Qcm9wZXJ0eShkKSYmKGguc3RhdGVbZF09ZS5zdGF0ZVtkXSk7aWYoZSYmIm9iamVjdCI9PXR5cGVvZiBlLmxpX2F0dHIpZm9yKGQgaW4gZS5saV9hdHRyKWUubGlfYXR0ci5oYXNPd25Qcm9wZXJ0eShkKSYmKGgubGlfYXR0cltkXT1lLmxpX2F0dHJbZF0pO2lmKGgubGlfYXR0ci5pZHx8KGgubGlfYXR0ci5pZD1yKSxlJiYib2JqZWN0Ij09dHlwZW9mIGUuYV9hdHRyKWZvcihkIGluIGUuYV9hdHRyKWUuYV9hdHRyLmhhc093blByb3BlcnR5KGQpJiYoaC5hX2F0dHJbZF09ZS5hX2F0dHJbZF0pO2ZvcihlJiZlLmNoaWxkcmVuJiZlLmNoaWxkcmVuPT09ITAmJihoLnN0YXRlLmxvYWRlZD0hMSxoLmNoaWxkcmVuPVtdLGguY2hpbGRyZW5fZD1bXSksbltoLmlkXT1oLGQ9MCxvPWguY2hpbGRyZW4ubGVuZ3RoO28+ZDtkKyspYz10aGlzLl9wYXJzZV9tb2RlbF9mcm9tX2ZsYXRfanNvbihuW2guY2hpbGRyZW5bZF1dLGguaWQscyksbD1uW2NdLGguY2hpbGRyZW5fZC5wdXNoKGMpLGwuY2hpbGRyZW5fZC5sZW5ndGgmJihoLmNoaWxkcmVuX2Q9aC5jaGlsZHJlbl9kLmNvbmNhdChsLmNoaWxkcmVuX2QpKTtyZXR1cm4gZGVsZXRlIGUuZGF0YSxkZWxldGUgZS5jaGlsZHJlbixuW2guaWRdLm9yaWdpbmFsPWUsaC5zdGF0ZS5zZWxlY3RlZCYmdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLnB1c2goaC5pZCksaC5pZH0sX3BhcnNlX21vZGVsX2Zyb21fanNvbjpmdW5jdGlvbihlLGkscyl7cz1zP3MuY29uY2F0KCk6W10saSYmcy51bnNoaWZ0KGkpO3ZhciBuLGEsZCxvLGgscj0hMSxjPXRoaXMuX21vZGVsLmRhdGEsbD10aGlzLl9tb2RlbC5kZWZhdWx0X3N0YXRlO2RvIHI9ImoiK3RoaXMuX2lkKyJfIisgKyt0aGlzLl9jbnQ7d2hpbGUoY1tyXSk7aD17aWQ6ITEsdGV4dDoic3RyaW5nIj09dHlwZW9mIGU/ZToiIixpY29uOiJvYmplY3QiPT10eXBlb2YgZSYmZS5pY29uIT09dD9lLmljb246ITAscGFyZW50OmkscGFyZW50czpzLGNoaWxkcmVuOltdLGNoaWxkcmVuX2Q6W10sZGF0YTpudWxsLHN0YXRlOnt9LGxpX2F0dHI6e2lkOiExfSxhX2F0dHI6e2hyZWY6IiMifSxvcmlnaW5hbDohMX07Zm9yKG4gaW4gbClsLmhhc093blByb3BlcnR5KG4pJiYoaC5zdGF0ZVtuXT1sW25dKTtpZihlJiZlLmlkJiYoaC5pZD0iIitlLmlkKSxlJiZlLnRleHQmJihoLnRleHQ9ZS50ZXh0KSxlJiZlLmRhdGEmJmUuZGF0YS5qc3RyZWUmJmUuZGF0YS5qc3RyZWUuaWNvbiYmKGguaWNvbj1lLmRhdGEuanN0cmVlLmljb24pLGUmJmUuZGF0YSYmKGguZGF0YT1lLmRhdGEsZS5kYXRhLmpzdHJlZSkpZm9yKG4gaW4gZS5kYXRhLmpzdHJlZSllLmRhdGEuanN0cmVlLmhhc093blByb3BlcnR5KG4pJiYoaC5zdGF0ZVtuXT1lLmRhdGEuanN0cmVlW25dKTtpZihlJiYib2JqZWN0Ij09dHlwZW9mIGUuc3RhdGUpZm9yKG4gaW4gZS5zdGF0ZSllLnN0YXRlLmhhc093blByb3BlcnR5KG4pJiYoaC5zdGF0ZVtuXT1lLnN0YXRlW25dKTtpZihlJiYib2JqZWN0Ij09dHlwZW9mIGUubGlfYXR0cilmb3IobiBpbiBlLmxpX2F0dHIpZS5saV9hdHRyLmhhc093blByb3BlcnR5KG4pJiYoaC5saV9hdHRyW25dPWUubGlfYXR0cltuXSk7aWYoaC5saV9hdHRyLmlkJiYhaC5pZCYmKGguaWQ9IiIraC5saV9hdHRyLmlkKSxoLmlkfHwoaC5pZD1yKSxoLmxpX2F0dHIuaWR8fChoLmxpX2F0dHIuaWQ9aC5pZCksZSYmIm9iamVjdCI9PXR5cGVvZiBlLmFfYXR0cilmb3IobiBpbiBlLmFfYXR0cillLmFfYXR0ci5oYXNPd25Qcm9wZXJ0eShuKSYmKGguYV9hdHRyW25dPWUuYV9hdHRyW25dKTtpZihlJiZlLmNoaWxkcmVuJiZlLmNoaWxkcmVuLmxlbmd0aCl7Zm9yKG49MCxhPWUuY2hpbGRyZW4ubGVuZ3RoO2E+bjtuKyspZD10aGlzLl9wYXJzZV9tb2RlbF9mcm9tX2pzb24oZS5jaGlsZHJlbltuXSxoLmlkLHMpLG89Y1tkXSxoLmNoaWxkcmVuLnB1c2goZCksby5jaGlsZHJlbl9kLmxlbmd0aCYmKGguY2hpbGRyZW5fZD1oLmNoaWxkcmVuX2QuY29uY2F0KG8uY2hpbGRyZW5fZCkpO2guY2hpbGRyZW5fZD1oLmNoaWxkcmVuX2QuY29uY2F0KGguY2hpbGRyZW4pfXJldHVybiBlJiZlLmNoaWxkcmVuJiZlLmNoaWxkcmVuPT09ITAmJihoLnN0YXRlLmxvYWRlZD0hMSxoLmNoaWxkcmVuPVtdLGguY2hpbGRyZW5fZD1bXSksZGVsZXRlIGUuZGF0YSxkZWxldGUgZS5jaGlsZHJlbixoLm9yaWdpbmFsPWUsY1toLmlkXT1oLGguc3RhdGUuc2VsZWN0ZWQmJnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5wdXNoKGguaWQpLGguaWR9LF9yZWRyYXc6ZnVuY3Rpb24oKXt2YXIgaSxzLHIsZT10aGlzLl9tb2RlbC5mb3JjZV9mdWxsX3JlZHJhdz90aGlzLl9tb2RlbC5kYXRhWyIjIl0uY2hpbGRyZW4uY29uY2F0KFtdKTp0aGlzLl9tb2RlbC5jaGFuZ2VkLmNvbmNhdChbXSksdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJVTCIpLG49dGhpcy5fZGF0YS5jb3JlLmZvY3VzZWQ7Zm9yKHM9MCxyPWUubGVuZ3RoO3I+cztzKyspaT10aGlzLnJlZHJhd19ub2RlKGVbc10sITAsdGhpcy5fbW9kZWwuZm9yY2VfZnVsbF9yZWRyYXcpLGkmJnRoaXMuX21vZGVsLmZvcmNlX2Z1bGxfcmVkcmF3JiZ0LmFwcGVuZENoaWxkKGkpO3RoaXMuX21vZGVsLmZvcmNlX2Z1bGxfcmVkcmF3JiYodC5jbGFzc05hbWU9dGhpcy5nZXRfY29udGFpbmVyX3VsKClbMF0uY2xhc3NOYW1lLHRoaXMuZWxlbWVudC5lbXB0eSgpLmFwcGVuZCh0KSksbnVsbCE9PW4mJihpPXRoaXMuZ2V0X25vZGUobiwhMCksaSYmaS5sZW5ndGgmJmkuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIilbMF0hPT1kb2N1bWVudC5hY3RpdmVFbGVtZW50P2kuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuZm9jdXMoKTp0aGlzLl9kYXRhLmNvcmUuZm9jdXNlZD1udWxsKSx0aGlzLl9tb2RlbC5mb3JjZV9mdWxsX3JlZHJhdz0hMSx0aGlzLl9tb2RlbC5jaGFuZ2VkPVtdLHRoaXMudHJpZ2dlcigicmVkcmF3Iix7bm9kZXM6ZX0pfSxyZWRyYXc6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX21vZGVsLmZvcmNlX2Z1bGxfcmVkcmF3PSEwKSx0aGlzLl9yZWRyYXcoKX0scmVkcmF3X25vZGU6ZnVuY3Rpb24odCxpLHMpe3ZhciByPXRoaXMuZ2V0X25vZGUodCksbj0hMSxhPSExLGQ9ITEsbz0hMSxsPSExLGg9ITEsXz0iIix1PWRvY3VtZW50LGc9dGhpcy5fbW9kZWwuZGF0YSxmPSExLHA9ITEsbT1udWxsO2lmKCFyKXJldHVybiExO2lmKCIjIj09PXIuaWQpcmV0dXJuIHRoaXMucmVkcmF3KCEwKTtpZihpPWl8fDA9PT1yLmNoaWxkcmVuLmxlbmd0aCx0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I/dGhpcy5lbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoIiMiKygtMSE9PSIwMTIzNDU2Nzg5Ii5pbmRleE9mKHIuaWRbMF0pPyJcXDMiK3IuaWRbMF0rIiAiK3IuaWQuc3Vic3RyKDEpLnJlcGxhY2UoZS5qc3RyZWUuaWRyZWdleCwiXFwkJiIpOnIuaWQucmVwbGFjZShlLmpzdHJlZS5pZHJlZ2V4LCJcXCQmIikpKTpkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyLmlkKSl0PWUodCksc3x8KG49dC5wYXJlbnQoKS5wYXJlbnQoKVswXSxuPT09dGhpcy5lbGVtZW50WzBdJiYobj1udWxsKSxhPXQuaW5kZXgoKSksaXx8IXIuY2hpbGRyZW4ubGVuZ3RofHx0LmNoaWxkcmVuKCIuanN0cmVlLWNoaWxkcmVuIikubGVuZ3RofHwoaT0hMCksaXx8KGQ9dC5jaGlsZHJlbigiLmpzdHJlZS1jaGlsZHJlbiIpWzBdKSxwPXQuYXR0cigiYXJpYS1zZWxlY3RlZCIpLGY9dC5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKVswXT09PWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQsdC5yZW1vdmUoKTtlbHNlIGlmKGk9ITAsIXMpe2lmKG49IiMiIT09ci5wYXJlbnQ/ZSgiIyIrci5wYXJlbnQucmVwbGFjZShlLmpzdHJlZS5pZHJlZ2V4LCJcXCQmIiksdGhpcy5lbGVtZW50KVswXTpudWxsLCEobnVsbD09PW58fG4mJmdbci5wYXJlbnRdLnN0YXRlLm9wZW5lZCkpcmV0dXJuITE7YT1lLmluQXJyYXkoci5pZCxudWxsPT09bj9nWyIjIl0uY2hpbGRyZW46Z1tyLnBhcmVudF0uY2hpbGRyZW4pfXQ9Yy5jbG9uZU5vZGUoITApLF89ImpzdHJlZS1ub2RlICI7Zm9yKG8gaW4gci5saV9hdHRyKWlmKHIubGlfYXR0ci5oYXNPd25Qcm9wZXJ0eShvKSl7aWYoImlkIj09PW8pY29udGludWU7ImNsYXNzIiE9PW8/dC5zZXRBdHRyaWJ1dGUobyxyLmxpX2F0dHJbb10pOl8rPXIubGlfYXR0cltvXX1wJiYiZmFsc2UiIT09cCYmdC5zZXRBdHRyaWJ1dGUoImFyaWEtc2VsZWN0ZWQiLCEwKSxyLnN0YXRlLmxvYWRlZCYmIXIuY2hpbGRyZW4ubGVuZ3RoP18rPSIganN0cmVlLWxlYWYiOihfKz1yLnN0YXRlLm9wZW5lZCYmci5zdGF0ZS5sb2FkZWQ/IiBqc3RyZWUtb3BlbiI6IiBqc3RyZWUtY2xvc2VkIix0LnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsci5zdGF0ZS5vcGVuZWQmJnIuc3RhdGUubG9hZGVkKSksbnVsbCE9PXIucGFyZW50JiZnW3IucGFyZW50XS5jaGlsZHJlbltnW3IucGFyZW50XS5jaGlsZHJlbi5sZW5ndGgtMV09PT1yLmlkJiYoXys9IiBqc3RyZWUtbGFzdCIpLHQuaWQ9ci5pZCx0LmNsYXNzTmFtZT1fLF89KHIuc3RhdGUuc2VsZWN0ZWQ/IiBqc3RyZWUtY2xpY2tlZCI6IiIpKyhyLnN0YXRlLmRpc2FibGVkPyIganN0cmVlLWRpc2FibGVkIjoiIik7Zm9yKGwgaW4gci5hX2F0dHIpaWYoci5hX2F0dHIuaGFzT3duUHJvcGVydHkobCkpe2lmKCJocmVmIj09PWwmJiIjIj09PXIuYV9hdHRyW2xdKWNvbnRpbnVlOyJjbGFzcyIhPT1sP3QuY2hpbGROb2Rlc1sxXS5zZXRBdHRyaWJ1dGUobCxyLmFfYXR0cltsXSk6Xys9IiAiK3IuYV9hdHRyW2xdfWlmKF8ubGVuZ3RoJiYodC5jaGlsZE5vZGVzWzFdLmNsYXNzTmFtZT0ianN0cmVlLWFuY2hvciAiK18pLChyLmljb24mJnIuaWNvbiE9PSEwfHxyLmljb249PT0hMSkmJihyLmljb249PT0hMT90LmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1swXS5jbGFzc05hbWUrPSIganN0cmVlLXRoZW1laWNvbi1oaWRkZW4iOi0xPT09ci5pY29uLmluZGV4T2YoIi8iKSYmLTE9PT1yLmljb24uaW5kZXhPZigiLiIpP3QuY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzBdLmNsYXNzTmFtZSs9IiAiK3IuaWNvbisiIGpzdHJlZS10aGVtZWljb24tY3VzdG9tIjoodC5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbMF0uc3R5bGUuYmFja2dyb3VuZEltYWdlPSJ1cmwoIityLmljb24rIikiLHQuY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzBdLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj0iY2VudGVyIGNlbnRlciIsdC5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbMF0uc3R5bGUuYmFja2dyb3VuZFNpemU9ImF1dG8iLHQuY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzBdLmNsYXNzTmFtZSs9IiBqc3RyZWUtdGhlbWVpY29uLWN1c3RvbSIpKSx0aGlzLnNldHRpbmdzLmNvcmUuZm9yY2VfdGV4dD90LmNoaWxkTm9kZXNbMV0uYXBwZW5kQ2hpbGQodS5jcmVhdGVUZXh0Tm9kZShyLnRleHQpKTp0LmNoaWxkTm9kZXNbMV0uaW5uZXJIVE1MKz1yLnRleHQsaSYmci5jaGlsZHJlbi5sZW5ndGgmJnIuc3RhdGUub3BlbmVkJiZyLnN0YXRlLmxvYWRlZCl7Zm9yKGg9dS5jcmVhdGVFbGVtZW50KCJVTCIpLGguc2V0QXR0cmlidXRlKCJyb2xlIiwiZ3JvdXAiKSxoLmNsYXNzTmFtZT0ianN0cmVlLWNoaWxkcmVuIixvPTAsbD1yLmNoaWxkcmVuLmxlbmd0aDtsPm87bysrKWguYXBwZW5kQ2hpbGQodGhpcy5yZWRyYXdfbm9kZShyLmNoaWxkcmVuW29dLGksITApKTt0LmFwcGVuZENoaWxkKGgpfWlmKGQmJnQuYXBwZW5kQ2hpbGQoZCksIXMpe2ZvcihufHwobj10aGlzLmVsZW1lbnRbMF0pLG89MCxsPW4uY2hpbGROb2Rlcy5sZW5ndGg7bD5vO28rKylpZihuLmNoaWxkTm9kZXNbb10mJm4uY2hpbGROb2Rlc1tvXS5jbGFzc05hbWUmJi0xIT09bi5jaGlsZE5vZGVzW29dLmNsYXNzTmFtZS5pbmRleE9mKCJqc3RyZWUtY2hpbGRyZW4iKSl7bT1uLmNoaWxkTm9kZXNbb107YnJlYWt9bXx8KG09dS5jcmVhdGVFbGVtZW50KCJVTCIpLG0uc2V0QXR0cmlidXRlKCJyb2xlIiwiZ3JvdXAiKSxtLmNsYXNzTmFtZT0ianN0cmVlLWNoaWxkcmVuIixuLmFwcGVuZENoaWxkKG0pKSxuPW0sbi5jaGlsZE5vZGVzLmxlbmd0aD5hP24uaW5zZXJ0QmVmb3JlKHQsbi5jaGlsZE5vZGVzW2FdKTpuLmFwcGVuZENoaWxkKHQpLGYmJnQuY2hpbGROb2Rlc1sxXS5mb2N1cygpfXJldHVybiByLnN0YXRlLm9wZW5lZCYmIXIuc3RhdGUubG9hZGVkJiYoci5zdGF0ZS5vcGVuZWQ9ITEsc2V0VGltZW91dChlLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5vcGVuX25vZGUoci5pZCwhMSwwKX0sdGhpcyksMCkpLHR9LG9wZW5fbm9kZTpmdW5jdGlvbihpLHMscil7dmFyIG4sYSxkLG87aWYoZS5pc0FycmF5KGkpKXtmb3IoaT1pLnNsaWNlKCksbj0wLGE9aS5sZW5ndGg7YT5uO24rKyl0aGlzLm9wZW5fbm9kZShpW25dLHMscik7cmV0dXJuITB9aWYoaT10aGlzLmdldF9ub2RlKGkpLCFpfHwiIyI9PT1pLmlkKXJldHVybiExO2lmKHI9cj09PXQ/dGhpcy5zZXR0aW5ncy5jb3JlLmFuaW1hdGlvbjpyLCF0aGlzLmlzX2Nsb3NlZChpKSlyZXR1cm4gcyYmcy5jYWxsKHRoaXMsaSwhMSksITE7aWYodGhpcy5pc19sb2FkZWQoaSkpZD10aGlzLmdldF9ub2RlKGksITApLG89dGhpcyxkLmxlbmd0aCYmKGkuY2hpbGRyZW4ubGVuZ3RoJiYhdGhpcy5fZmlyc3RDaGlsZChkLmNoaWxkcmVuKCIuanN0cmVlLWNoaWxkcmVuIilbMF0pJiYoaS5zdGF0ZS5vcGVuZWQ9ITAsdGhpcy5yZWRyYXdfbm9kZShpLCEwKSxkPXRoaXMuZ2V0X25vZGUoaSwhMCkpLHI/KHRoaXMudHJpZ2dlcigiYmVmb3JlX29wZW4iLHtub2RlOml9KSxkLmNoaWxkcmVuKCIuanN0cmVlLWNoaWxkcmVuIikuY3NzKCJkaXNwbGF5Iiwibm9uZSIpLmVuZCgpLnJlbW92ZUNsYXNzKCJqc3RyZWUtY2xvc2VkIikuYWRkQ2xhc3MoImpzdHJlZS1vcGVuIikuYXR0cigiYXJpYS1leHBhbmRlZCIsITApLmNoaWxkcmVuKCIuanN0cmVlLWNoaWxkcmVuIikuc3RvcCghMCwhMCkuc2xpZGVEb3duKHIsZnVuY3Rpb24oKXt0aGlzLnN0eWxlLmRpc3BsYXk9IiIsby50cmlnZ2VyKCJhZnRlcl9vcGVuIix7bm9kZTppfSl9KSk6KHRoaXMudHJpZ2dlcigiYmVmb3JlX29wZW4iLHtub2RlOml9KSxkWzBdLmNsYXNzTmFtZT1kWzBdLmNsYXNzTmFtZS5yZXBsYWNlKCJqc3RyZWUtY2xvc2VkIiwianN0cmVlLW9wZW4iKSxkWzBdLnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsITApKSksaS5zdGF0ZS5vcGVuZWQ9ITAscyYmcy5jYWxsKHRoaXMsaSwhMCksZC5sZW5ndGh8fHRoaXMudHJpZ2dlcigiYmVmb3JlX29wZW4iLHtub2RlOml9KSx0aGlzLnRyaWdnZXIoIm9wZW5fbm9kZSIse25vZGU6aX0pLHImJmQubGVuZ3RofHx0aGlzLnRyaWdnZXIoImFmdGVyX29wZW4iLHtub2RlOml9KTtlbHNle2lmKHRoaXMuaXNfbG9hZGluZyhpKSlyZXR1cm4gc2V0VGltZW91dChlLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5vcGVuX25vZGUoaSxzLHIpfSx0aGlzKSw1MDApO3RoaXMubG9hZF9ub2RlKGksZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD90aGlzLm9wZW5fbm9kZShlLHMscik6cz9zLmNhbGwodGhpcyxlLCExKTohMX0pfX0sX29wZW5fdG86ZnVuY3Rpb24odCl7aWYodD10aGlzLmdldF9ub2RlKHQpLCF0fHwiIyI9PT10LmlkKXJldHVybiExO3ZhciBpLHMscj10LnBhcmVudHM7Zm9yKGk9MCxzPXIubGVuZ3RoO3M+aTtpKz0xKSIjIiE9PWkmJnRoaXMub3Blbl9ub2RlKHJbaV0sITEsMCk7cmV0dXJuIGUoIiMiK3QuaWQucmVwbGFjZShlLmpzdHJlZS5pZHJlZ2V4LCJcXCQmIiksdGhpcy5lbGVtZW50KX0sY2xvc2Vfbm9kZTpmdW5jdGlvbihpLHMpe3ZhciByLG4sYSxkO2lmKGUuaXNBcnJheShpKSl7Zm9yKGk9aS5zbGljZSgpLHI9MCxuPWkubGVuZ3RoO24+cjtyKyspdGhpcy5jbG9zZV9ub2RlKGlbcl0scyk7cmV0dXJuITB9cmV0dXJuIGk9dGhpcy5nZXRfbm9kZShpKSxpJiYiIyIhPT1pLmlkP3RoaXMuaXNfY2xvc2VkKGkpPyExOihzPXM9PT10P3RoaXMuc2V0dGluZ3MuY29yZS5hbmltYXRpb246cyxhPXRoaXMsZD10aGlzLmdldF9ub2RlKGksITApLGQubGVuZ3RoJiYocz9kLmNoaWxkcmVuKCIuanN0cmVlLWNoaWxkcmVuIikuYXR0cigic3R5bGUiLCJkaXNwbGF5OmJsb2NrICFpbXBvcnRhbnQiKS5lbmQoKS5yZW1vdmVDbGFzcygianN0cmVlLW9wZW4iKS5hZGRDbGFzcygianN0cmVlLWNsb3NlZCIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCExKS5jaGlsZHJlbigiLmpzdHJlZS1jaGlsZHJlbiIpLnN0b3AoITAsITApLnNsaWRlVXAocyxmdW5jdGlvbigpe3RoaXMuc3R5bGUuZGlzcGxheT0iIixkLmNoaWxkcmVuKCIuanN0cmVlLWNoaWxkcmVuIikucmVtb3ZlKCksYS50cmlnZ2VyKCJhZnRlcl9jbG9zZSIse25vZGU6aX0pfSk6KGRbMF0uY2xhc3NOYW1lPWRbMF0uY2xhc3NOYW1lLnJlcGxhY2UoImpzdHJlZS1vcGVuIiwianN0cmVlLWNsb3NlZCIpLGQuYXR0cigiYXJpYS1leHBhbmRlZCIsITEpLmNoaWxkcmVuKCIuanN0cmVlLWNoaWxkcmVuIikucmVtb3ZlKCkpKSxpLnN0YXRlLm9wZW5lZD0hMSx0aGlzLnRyaWdnZXIoImNsb3NlX25vZGUiLHtub2RlOml9KSxzJiZkLmxlbmd0aHx8dGhpcy50cmlnZ2VyKCJhZnRlcl9jbG9zZSIse25vZGU6aX0pLHQpOiExfSx0b2dnbGVfbm9kZTpmdW5jdGlvbihpKXt2YXIgcyxyO2lmKGUuaXNBcnJheShpKSl7Zm9yKGk9aS5zbGljZSgpLHM9MCxyPWkubGVuZ3RoO3I+cztzKyspdGhpcy50b2dnbGVfbm9kZShpW3NdKTtyZXR1cm4hMH1yZXR1cm4gdGhpcy5pc19jbG9zZWQoaSk/dGhpcy5vcGVuX25vZGUoaSk6dGhpcy5pc19vcGVuKGkpP3RoaXMuY2xvc2Vfbm9kZShpKTp0fSxvcGVuX2FsbDpmdW5jdGlvbihlLHQsaSl7aWYoZXx8KGU9IiMiKSxlPXRoaXMuZ2V0X25vZGUoZSksIWUpcmV0dXJuITE7dmFyIHIsbixhLHM9IiMiPT09ZS5pZD90aGlzLmdldF9jb250YWluZXJfdWwoKTp0aGlzLmdldF9ub2RlKGUsITApO2lmKCFzLmxlbmd0aCl7Zm9yKHI9MCxuPWUuY2hpbGRyZW5fZC5sZW5ndGg7bj5yO3IrKyl0aGlzLmlzX2Nsb3NlZCh0aGlzLl9tb2RlbC5kYXRhW2UuY2hpbGRyZW5fZFtyXV0pJiYodGhpcy5fbW9kZWwuZGF0YVtlLmNoaWxkcmVuX2Rbcl1dLnN0YXRlLm9wZW5lZD0hMCk7cmV0dXJuIHRoaXMudHJpZ2dlcigib3Blbl9hbGwiLHtub2RlOmV9KX1pPWl8fHMsYT10aGlzLHM9dGhpcy5pc19jbG9zZWQoZSk/cy5maW5kKCIuanN0cmVlLWNsb3NlZCIpLmFkZEJhY2soKTpzLmZpbmQoIi5qc3RyZWUtY2xvc2VkIikscy5lYWNoKGZ1bmN0aW9uKCl7YS5vcGVuX25vZGUodGhpcyxmdW5jdGlvbihlLHMpe3MmJnRoaXMuaXNfcGFyZW50KGUpJiZ0aGlzLm9wZW5fYWxsKGUsdCxpKX0sdHx8MCl9KSwwPT09aS5maW5kKCIuanN0cmVlLWNsb3NlZCIpLmxlbmd0aCYmdGhpcy50cmlnZ2VyKCJvcGVuX2FsbCIse25vZGU6dGhpcy5nZXRfbm9kZShpKX0pfSxjbG9zZV9hbGw6ZnVuY3Rpb24odCxpKXtpZih0fHwodD0iIyIpLHQ9dGhpcy5nZXRfbm9kZSh0KSwhdClyZXR1cm4hMTt2YXIgbixhLHM9IiMiPT09dC5pZD90aGlzLmdldF9jb250YWluZXJfdWwoKTp0aGlzLmdldF9ub2RlKHQsITApLHI9dGhpcztpZighcy5sZW5ndGgpe2ZvcihuPTAsYT10LmNoaWxkcmVuX2QubGVuZ3RoO2E+bjtuKyspdGhpcy5fbW9kZWwuZGF0YVt0LmNoaWxkcmVuX2Rbbl1dLnN0YXRlLm9wZW5lZD0hMTtyZXR1cm4gdGhpcy50cmlnZ2VyKCJjbG9zZV9hbGwiLHtub2RlOnR9KX1zPXRoaXMuaXNfb3Blbih0KT9zLmZpbmQoIi5qc3RyZWUtb3BlbiIpLmFkZEJhY2soKTpzLmZpbmQoIi5qc3RyZWUtb3BlbiIpLGUocy5nZXQoKS5yZXZlcnNlKCkpLmVhY2goZnVuY3Rpb24oKXtyLmNsb3NlX25vZGUodGhpcyxpfHwwKX0pLHRoaXMudHJpZ2dlcigiY2xvc2VfYWxsIix7bm9kZTp0fSl9LGlzX2Rpc2FibGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlPXRoaXMuZ2V0X25vZGUoZSksZSYmZS5zdGF0ZSYmZS5zdGF0ZS5kaXNhYmxlZH0sZW5hYmxlX25vZGU6ZnVuY3Rpb24oaSl7dmFyIHMscjtpZihlLmlzQXJyYXkoaSkpe2ZvcihpPWkuc2xpY2UoKSxzPTAscj1pLmxlbmd0aDtyPnM7cysrKXRoaXMuZW5hYmxlX25vZGUoaVtzXSk7CnJldHVybiEwfXJldHVybiBpPXRoaXMuZ2V0X25vZGUoaSksaSYmIiMiIT09aS5pZD8oaS5zdGF0ZS5kaXNhYmxlZD0hMSx0aGlzLmdldF9ub2RlKGksITApLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLnJlbW92ZUNsYXNzKCJqc3RyZWUtZGlzYWJsZWQiKSx0aGlzLnRyaWdnZXIoImVuYWJsZV9ub2RlIix7bm9kZTppfSksdCk6ITF9LGRpc2FibGVfbm9kZTpmdW5jdGlvbihpKXt2YXIgcyxyO2lmKGUuaXNBcnJheShpKSl7Zm9yKGk9aS5zbGljZSgpLHM9MCxyPWkubGVuZ3RoO3I+cztzKyspdGhpcy5kaXNhYmxlX25vZGUoaVtzXSk7cmV0dXJuITB9cmV0dXJuIGk9dGhpcy5nZXRfbm9kZShpKSxpJiYiIyIhPT1pLmlkPyhpLnN0YXRlLmRpc2FibGVkPSEwLHRoaXMuZ2V0X25vZGUoaSwhMCkuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuYWRkQ2xhc3MoImpzdHJlZS1kaXNhYmxlZCIpLHRoaXMudHJpZ2dlcigiZGlzYWJsZV9ub2RlIix7bm9kZTppfSksdCk6ITF9LGFjdGl2YXRlX25vZGU6ZnVuY3Rpb24oZSxpKXtpZih0aGlzLmlzX2Rpc2FibGVkKGUpKXJldHVybiExO2lmKHRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQ9dGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZCYmdGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZC5pZCE9PXQ/dGhpcy5nZXRfbm9kZSh0aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkLmlkKTpudWxsLHRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQmJiF0aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkLnN0YXRlLnNlbGVjdGVkJiYodGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZD1udWxsKSwhdGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZCYmdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmxlbmd0aCYmKHRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQ9dGhpcy5nZXRfbm9kZSh0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWRbdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmxlbmd0aC0xXSkpLHRoaXMuc2V0dGluZ3MuY29yZS5tdWx0aXBsZSYmKGkubWV0YUtleXx8aS5jdHJsS2V5fHxpLnNoaWZ0S2V5KSYmKCFpLnNoaWZ0S2V5fHx0aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkJiZ0aGlzLmdldF9wYXJlbnQoZSkmJnRoaXMuZ2V0X3BhcmVudChlKT09PXRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQucGFyZW50KSlpZihpLnNoaWZ0S2V5KXt2YXIgZCxvLHM9dGhpcy5nZXRfbm9kZShlKS5pZCxyPXRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQuaWQsbj10aGlzLmdldF9ub2RlKHRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQucGFyZW50KS5jaGlsZHJlbixhPSExO2ZvcihkPTAsbz1uLmxlbmd0aDtvPmQ7ZCs9MSluW2RdPT09cyYmKGE9IWEpLG5bZF09PT1yJiYoYT0hYSksYXx8bltkXT09PXN8fG5bZF09PT1yP3RoaXMuc2VsZWN0X25vZGUobltkXSwhMSwhMSxpKTp0aGlzLmRlc2VsZWN0X25vZGUobltkXSwhMSxpKX1lbHNlIHRoaXMuaXNfc2VsZWN0ZWQoZSk/dGhpcy5kZXNlbGVjdF9ub2RlKGUsITEsaSk6dGhpcy5zZWxlY3Rfbm9kZShlLCExLCExLGkpO2Vsc2UhdGhpcy5zZXR0aW5ncy5jb3JlLm11bHRpcGxlJiYoaS5tZXRhS2V5fHxpLmN0cmxLZXl8fGkuc2hpZnRLZXkpJiZ0aGlzLmlzX3NlbGVjdGVkKGUpP3RoaXMuZGVzZWxlY3Rfbm9kZShlLCExLGkpOih0aGlzLmRlc2VsZWN0X2FsbCghMCksdGhpcy5zZWxlY3Rfbm9kZShlLCExLCExLGkpLHRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQ9dGhpcy5nZXRfbm9kZShlKSk7dGhpcy50cmlnZ2VyKCJhY3RpdmF0ZV9ub2RlIix7bm9kZTp0aGlzLmdldF9ub2RlKGUpfSl9LGhvdmVyX25vZGU6ZnVuY3Rpb24oZSl7aWYoZT10aGlzLmdldF9ub2RlKGUsITApLCFlfHwhZS5sZW5ndGh8fGUuY2hpbGRyZW4oIi5qc3RyZWUtaG92ZXJlZCIpLmxlbmd0aClyZXR1cm4hMTt2YXIgdD10aGlzLmVsZW1lbnQuZmluZCgiLmpzdHJlZS1ob3ZlcmVkIiksaT10aGlzLmVsZW1lbnQ7dCYmdC5sZW5ndGgmJnRoaXMuZGVob3Zlcl9ub2RlKHQpLGUuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuYWRkQ2xhc3MoImpzdHJlZS1ob3ZlcmVkIiksdGhpcy50cmlnZ2VyKCJob3Zlcl9ub2RlIix7bm9kZTp0aGlzLmdldF9ub2RlKGUpfSksc2V0VGltZW91dChmdW5jdGlvbigpe2kuYXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50IixlWzBdLmlkKSxlLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCEwKX0sMCl9LGRlaG92ZXJfbm9kZTpmdW5jdGlvbihlKXtyZXR1cm4gZT10aGlzLmdldF9ub2RlKGUsITApLGUmJmUubGVuZ3RoJiZlLmNoaWxkcmVuKCIuanN0cmVlLWhvdmVyZWQiKS5sZW5ndGg/KGUuYXR0cigiYXJpYS1zZWxlY3RlZCIsITEpLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLnJlbW92ZUNsYXNzKCJqc3RyZWUtaG92ZXJlZCIpLHRoaXMudHJpZ2dlcigiZGVob3Zlcl9ub2RlIix7bm9kZTp0aGlzLmdldF9ub2RlKGUpfSksdCk6ITF9LHNlbGVjdF9ub2RlOmZ1bmN0aW9uKGkscyxyLG4pe3ZhciBhLGQsbztpZihlLmlzQXJyYXkoaSkpe2ZvcihpPWkuc2xpY2UoKSxkPTAsbz1pLmxlbmd0aDtvPmQ7ZCsrKXRoaXMuc2VsZWN0X25vZGUoaVtkXSxzLHIsbik7cmV0dXJuITB9cmV0dXJuIGk9dGhpcy5nZXRfbm9kZShpKSxpJiYiIyIhPT1pLmlkPyhhPXRoaXMuZ2V0X25vZGUoaSwhMCksaS5zdGF0ZS5zZWxlY3RlZHx8KGkuc3RhdGUuc2VsZWN0ZWQ9ITAsdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLnB1c2goaS5pZCkscnx8KGE9dGhpcy5fb3Blbl90byhpKSksYSYmYS5sZW5ndGgmJmEuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuYWRkQ2xhc3MoImpzdHJlZS1jbGlja2VkIiksdGhpcy50cmlnZ2VyKCJzZWxlY3Rfbm9kZSIse25vZGU6aSxzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQsZXZlbnQ6bn0pLHN8fHRoaXMudHJpZ2dlcigiY2hhbmdlZCIse2FjdGlvbjoic2VsZWN0X25vZGUiLG5vZGU6aSxzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQsZXZlbnQ6bn0pKSx0KTohMX0sZGVzZWxlY3Rfbm9kZTpmdW5jdGlvbihpLHMscil7dmFyIG4sYSxkO2lmKGUuaXNBcnJheShpKSl7Zm9yKGk9aS5zbGljZSgpLG49MCxhPWkubGVuZ3RoO2E+bjtuKyspdGhpcy5kZXNlbGVjdF9ub2RlKGlbbl0scyxyKTtyZXR1cm4hMH1yZXR1cm4gaT10aGlzLmdldF9ub2RlKGkpLGkmJiIjIiE9PWkuaWQ/KGQ9dGhpcy5nZXRfbm9kZShpLCEwKSxpLnN0YXRlLnNlbGVjdGVkJiYoaS5zdGF0ZS5zZWxlY3RlZD0hMSx0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQ9ZS52YWthdGEuYXJyYXlfcmVtb3ZlX2l0ZW0odGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLGkuaWQpLGQubGVuZ3RoJiZkLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLnJlbW92ZUNsYXNzKCJqc3RyZWUtY2xpY2tlZCIpLHRoaXMudHJpZ2dlcigiZGVzZWxlY3Rfbm9kZSIse25vZGU6aSxzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQsZXZlbnQ6cn0pLHN8fHRoaXMudHJpZ2dlcigiY2hhbmdlZCIse2FjdGlvbjoiZGVzZWxlY3Rfbm9kZSIsbm9kZTppLHNlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCxldmVudDpyfSkpLHQpOiExfSxzZWxlY3RfYWxsOmZ1bmN0aW9uKGUpe3ZhciBpLHMsdD10aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQuY29uY2F0KFtdKTtmb3IodGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkPXRoaXMuX21vZGVsLmRhdGFbIiMiXS5jaGlsZHJlbl9kLmNvbmNhdCgpLGk9MCxzPXRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5sZW5ndGg7cz5pO2krKyl0aGlzLl9tb2RlbC5kYXRhW3RoaXMuX2RhdGEuY29yZS5zZWxlY3RlZFtpXV0mJih0aGlzLl9tb2RlbC5kYXRhW3RoaXMuX2RhdGEuY29yZS5zZWxlY3RlZFtpXV0uc3RhdGUuc2VsZWN0ZWQ9ITApO3RoaXMucmVkcmF3KCEwKSx0aGlzLnRyaWdnZXIoInNlbGVjdF9hbGwiLHtzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWR9KSxlfHx0aGlzLnRyaWdnZXIoImNoYW5nZWQiLHthY3Rpb246InNlbGVjdF9hbGwiLHNlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCxvbGRfc2VsZWN0aW9uOnR9KX0sZGVzZWxlY3RfYWxsOmZ1bmN0aW9uKGUpe3ZhciBpLHMsdD10aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQuY29uY2F0KFtdKTtmb3IoaT0wLHM9dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmxlbmd0aDtzPmk7aSsrKXRoaXMuX21vZGVsLmRhdGFbdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkW2ldXSYmKHRoaXMuX21vZGVsLmRhdGFbdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkW2ldXS5zdGF0ZS5zZWxlY3RlZD0hMSk7dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkPVtdLHRoaXMuZWxlbWVudC5maW5kKCIuanN0cmVlLWNsaWNrZWQiKS5yZW1vdmVDbGFzcygianN0cmVlLWNsaWNrZWQiKSx0aGlzLnRyaWdnZXIoImRlc2VsZWN0X2FsbCIse3NlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCxub2RlOnR9KSxlfHx0aGlzLnRyaWdnZXIoImNoYW5nZWQiLHthY3Rpb246ImRlc2VsZWN0X2FsbCIsc2VsZWN0ZWQ6dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLG9sZF9zZWxlY3Rpb246dH0pfSxpc19zZWxlY3RlZDpmdW5jdGlvbihlKXtyZXR1cm4gZT10aGlzLmdldF9ub2RlKGUpLGUmJiIjIiE9PWUuaWQ/ZS5zdGF0ZS5zZWxlY3RlZDohMX0sZ2V0X3NlbGVjdGVkOmZ1bmN0aW9uKHQpe3JldHVybiB0P2UubWFwKHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCxlLnByb3h5KGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldF9ub2RlKGUpfSx0aGlzKSk6dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLnNsaWNlKCl9LGdldF90b3Bfc2VsZWN0ZWQ6ZnVuY3Rpb24odCl7dmFyIHIsbixhLGQsaT10aGlzLmdldF9zZWxlY3RlZCghMCkscz17fTtmb3Iocj0wLG49aS5sZW5ndGg7bj5yO3IrKylzW2lbcl0uaWRdPWlbcl07Zm9yKHI9MCxuPWkubGVuZ3RoO24+cjtyKyspZm9yKGE9MCxkPWlbcl0uY2hpbGRyZW5fZC5sZW5ndGg7ZD5hO2ErKylzW2lbcl0uY2hpbGRyZW5fZFthXV0mJmRlbGV0ZSBzW2lbcl0uY2hpbGRyZW5fZFthXV07aT1bXTtmb3IociBpbiBzKXMuaGFzT3duUHJvcGVydHkocikmJmkucHVzaChyKTtyZXR1cm4gdD9lLm1hcChpLGUucHJveHkoZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0X25vZGUoZSl9LHRoaXMpKTppfSxnZXRfYm90dG9tX3NlbGVjdGVkOmZ1bmN0aW9uKHQpe3ZhciByLG4saT10aGlzLmdldF9zZWxlY3RlZCghMCkscz1bXTtmb3Iocj0wLG49aS5sZW5ndGg7bj5yO3IrKylpW3JdLmNoaWxkcmVuLmxlbmd0aHx8cy5wdXNoKGlbcl0uaWQpO3JldHVybiB0P2UubWFwKHMsZS5wcm94eShmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRfbm9kZShlKX0sdGhpcykpOnN9LGdldF9zdGF0ZTpmdW5jdGlvbigpe3ZhciB0LGU9e2NvcmU6e29wZW46W10sc2Nyb2xsOntsZWZ0OnRoaXMuZWxlbWVudC5zY3JvbGxMZWZ0KCksdG9wOnRoaXMuZWxlbWVudC5zY3JvbGxUb3AoKX0sc2VsZWN0ZWQ6W119fTtmb3IodCBpbiB0aGlzLl9tb2RlbC5kYXRhKXRoaXMuX21vZGVsLmRhdGEuaGFzT3duUHJvcGVydHkodCkmJiIjIiE9PXQmJih0aGlzLl9tb2RlbC5kYXRhW3RdLnN0YXRlLm9wZW5lZCYmZS5jb3JlLm9wZW4ucHVzaCh0KSx0aGlzLl9tb2RlbC5kYXRhW3RdLnN0YXRlLnNlbGVjdGVkJiZlLmNvcmUuc2VsZWN0ZWQucHVzaCh0KSk7cmV0dXJuIGV9LHNldF9zdGF0ZTpmdW5jdGlvbihpLHMpe2lmKGkpe2lmKGkuY29yZSl7dmFyIHIsbixhLGQ7aWYoaS5jb3JlLm9wZW4pcmV0dXJuIGUuaXNBcnJheShpLmNvcmUub3Blbik/KHI9ITAsbj0hMSxhPXRoaXMsZS5lYWNoKGkuY29yZS5vcGVuLmNvbmNhdChbXSksZnVuY3Rpb24odCxkKXtuPWEuZ2V0X25vZGUoZCksbiYmKGEuaXNfbG9hZGVkKGQpPyhhLmlzX2Nsb3NlZChkKSYmYS5vcGVuX25vZGUoZCwhMSwwKSxpJiZpLmNvcmUmJmkuY29yZS5vcGVuJiZlLnZha2F0YS5hcnJheV9yZW1vdmVfaXRlbShpLmNvcmUub3BlbixkKSk6KGEuaXNfbG9hZGluZyhkKXx8YS5vcGVuX25vZGUoZCxlLnByb3h5KGZ1bmN0aW9uKHQscil7IXImJmkmJmkuY29yZSYmaS5jb3JlLm9wZW4mJmUudmFrYXRhLmFycmF5X3JlbW92ZV9pdGVtKGkuY29yZS5vcGVuLHQuaWQpLHRoaXMuc2V0X3N0YXRlKGkscyl9LGEpLDApLHI9ITEpKX0pLHImJihkZWxldGUgaS5jb3JlLm9wZW4sdGhpcy5zZXRfc3RhdGUoaSxzKSksITEpOihkZWxldGUgaS5jb3JlLm9wZW4sdGhpcy5zZXRfc3RhdGUoaSxzKSwhMSk7aWYoaS5jb3JlLnNjcm9sbClyZXR1cm4gaS5jb3JlLnNjcm9sbCYmaS5jb3JlLnNjcm9sbC5sZWZ0IT09dCYmdGhpcy5lbGVtZW50LnNjcm9sbExlZnQoaS5jb3JlLnNjcm9sbC5sZWZ0KSxpLmNvcmUuc2Nyb2xsJiZpLmNvcmUuc2Nyb2xsLnRvcCE9PXQmJnRoaXMuZWxlbWVudC5zY3JvbGxUb3AoaS5jb3JlLnNjcm9sbC50b3ApLGRlbGV0ZSBpLmNvcmUuc2Nyb2xsLHRoaXMuc2V0X3N0YXRlKGkscyksITE7aWYoaS5jb3JlLnNlbGVjdGVkKXJldHVybiBkPXRoaXMsdGhpcy5kZXNlbGVjdF9hbGwoKSxlLmVhY2goaS5jb3JlLnNlbGVjdGVkLGZ1bmN0aW9uKGUsdCl7ZC5zZWxlY3Rfbm9kZSh0KX0pLGRlbGV0ZSBpLmNvcmUuc2VsZWN0ZWQsdGhpcy5zZXRfc3RhdGUoaSxzKSwhMTtpZihlLmlzRW1wdHlPYmplY3QoaS5jb3JlKSlyZXR1cm4gZGVsZXRlIGkuY29yZSx0aGlzLnNldF9zdGF0ZShpLHMpLCExfXJldHVybiBlLmlzRW1wdHlPYmplY3QoaSk/KGk9bnVsbCxzJiZzLmNhbGwodGhpcyksdGhpcy50cmlnZ2VyKCJzZXRfc3RhdGUiKSwhMSk6ITB9cmV0dXJuITF9LHJlZnJlc2g6ZnVuY3Rpb24odCxpKXt0aGlzLl9kYXRhLmNvcmUuc3RhdGU9aT09PSEwP3t9OnRoaXMuZ2V0X3N0YXRlKCksaSYmZS5pc0Z1bmN0aW9uKGkpJiYodGhpcy5fZGF0YS5jb3JlLnN0YXRlPWkuY2FsbCh0aGlzLHRoaXMuX2RhdGEuY29yZS5zdGF0ZSkpLHRoaXMuX2NudD0wLHRoaXMuX21vZGVsLmRhdGE9eyIjIjp7aWQ6IiMiLHBhcmVudDpudWxsLHBhcmVudHM6W10sY2hpbGRyZW46W10sY2hpbGRyZW5fZDpbXSxzdGF0ZTp7bG9hZGVkOiExfX19O3ZhciBzPXRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpWzBdLmNsYXNzTmFtZTt0fHx0aGlzLmVsZW1lbnQuaHRtbCgiPHVsIGNsYXNzPSciK3MrIic+PGxpIGNsYXNzPSdqc3RyZWUtaW5pdGlhbC1ub2RlIGpzdHJlZS1sb2FkaW5nIGpzdHJlZS1sZWFmIGpzdHJlZS1sYXN0Jz48aSBjbGFzcz0nanN0cmVlLWljb24ganN0cmVlLW9jbCc+PC9pPjxhIGNsYXNzPSdqc3RyZWUtYW5jaG9yJyBocmVmPScjJz48aSBjbGFzcz0nanN0cmVlLWljb24ganN0cmVlLXRoZW1laWNvbi1oaWRkZW4nPjwvaT4iK3RoaXMuZ2V0X3N0cmluZygiTG9hZGluZyAuLi4iKSsiPC9hPjwvbGk+PC91bD4iKSx0aGlzLmxvYWRfbm9kZSgiIyIsZnVuY3Rpb24odCxpKXtpJiYodGhpcy5nZXRfY29udGFpbmVyX3VsKClbMF0uY2xhc3NOYW1lPXMsdGhpcy5zZXRfc3RhdGUoZS5leHRlbmQoITAse30sdGhpcy5fZGF0YS5jb3JlLnN0YXRlKSxmdW5jdGlvbigpe3RoaXMudHJpZ2dlcigicmVmcmVzaCIpfSkpLHRoaXMuX2RhdGEuY29yZS5zdGF0ZT1udWxsfSl9LHJlZnJlc2hfbm9kZTpmdW5jdGlvbih0KXtpZih0PXRoaXMuZ2V0X25vZGUodCksIXR8fCIjIj09PXQuaWQpcmV0dXJuITE7e3ZhciBpPVtdLHM9W107dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmNvbmNhdChbXSl9cy5wdXNoKHQuaWQpLHQuc3RhdGUub3BlbmVkPT09ITAmJmkucHVzaCh0LmlkKSx0aGlzLmdldF9ub2RlKHQsITApLmZpbmQoIi5qc3RyZWUtb3BlbiIpLmVhY2goZnVuY3Rpb24oKXtpLnB1c2godGhpcy5pZCl9KSx0aGlzLl9sb2FkX25vZGVzKHMsZS5wcm94eShmdW5jdGlvbihlKXt0aGlzLm9wZW5fbm9kZShpLCExLDApLHRoaXMuc2VsZWN0X25vZGUodGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkKSx0aGlzLnRyaWdnZXIoInJlZnJlc2hfbm9kZSIse25vZGU6dCxub2RlczplfSl9LHRoaXMpKX0sc2V0X2lkOmZ1bmN0aW9uKHQsaSl7aWYodD10aGlzLmdldF9ub2RlKHQpLCF0fHwiIyI9PT10LmlkKXJldHVybiExO3ZhciBzLHIsbj10aGlzLl9tb2RlbC5kYXRhO2ZvcihpPSIiK2ksblt0LnBhcmVudF0uY2hpbGRyZW5bZS5pbkFycmF5KHQuaWQsblt0LnBhcmVudF0uY2hpbGRyZW4pXT1pLHM9MCxyPXQucGFyZW50cy5sZW5ndGg7cj5zO3MrKyluW3QucGFyZW50c1tzXV0uY2hpbGRyZW5fZFtlLmluQXJyYXkodC5pZCxuW3QucGFyZW50c1tzXV0uY2hpbGRyZW5fZCldPWk7Zm9yKHM9MCxyPXQuY2hpbGRyZW4ubGVuZ3RoO3I+cztzKyspblt0LmNoaWxkcmVuW3NdXS5wYXJlbnQ9aTtmb3Iocz0wLHI9dC5jaGlsZHJlbl9kLmxlbmd0aDtyPnM7cysrKW5bdC5jaGlsZHJlbl9kW3NdXS5wYXJlbnRzW2UuaW5BcnJheSh0LmlkLG5bdC5jaGlsZHJlbl9kW3NdXS5wYXJlbnRzKV09aTtyZXR1cm4gcz1lLmluQXJyYXkodC5pZCx0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQpLC0xIT09cyYmKHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZFtzXT1pKSxzPXRoaXMuZ2V0X25vZGUodC5pZCwhMCkscyYmcy5hdHRyKCJpZCIsaSksZGVsZXRlIG5bdC5pZF0sdC5pZD1pLG5baV09dCwhMH0sZ2V0X3RleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9dGhpcy5nZXRfbm9kZShlKSxlJiYiIyIhPT1lLmlkP2UudGV4dDohMX0sc2V0X3RleHQ6ZnVuY3Rpb24odCxpKXt2YXIgcyxyO2lmKGUuaXNBcnJheSh0KSl7Zm9yKHQ9dC5zbGljZSgpLHM9MCxyPXQubGVuZ3RoO3I+cztzKyspdGhpcy5zZXRfdGV4dCh0W3NdLGkpO3JldHVybiEwfXJldHVybiB0PXRoaXMuZ2V0X25vZGUodCksdCYmIiMiIT09dC5pZD8odC50ZXh0PWksdGhpcy5nZXRfbm9kZSh0LCEwKS5sZW5ndGgmJnRoaXMucmVkcmF3X25vZGUodC5pZCksdGhpcy50cmlnZ2VyKCJzZXRfdGV4dCIse29iajp0LHRleHQ6aX0pLCEwKTohMX0sZ2V0X2pzb246ZnVuY3Rpb24oZSx0LGkpe2lmKGU9dGhpcy5nZXRfbm9kZShlfHwiIyIpLCFlKXJldHVybiExO3QmJnQuZmxhdCYmIWkmJihpPVtdKTt2YXIgcixuLHM9e2lkOmUuaWQsdGV4dDplLnRleHQsaWNvbjp0aGlzLmdldF9pY29uKGUpLGxpX2F0dHI6ZS5saV9hdHRyLGFfYXR0cjplLmFfYXR0cixzdGF0ZTp7fSxkYXRhOnQmJnQubm9fZGF0YT8hMTplLmRhdGF9O2lmKHQmJnQuZmxhdD9zLnBhcmVudD1lLnBhcmVudDpzLmNoaWxkcmVuPVtdLCF0fHwhdC5ub19zdGF0ZSlmb3IociBpbiBlLnN0YXRlKWUuc3RhdGUuaGFzT3duUHJvcGVydHkocikmJihzLnN0YXRlW3JdPWUuc3RhdGVbcl0pO2lmKHQmJnQubm9faWQmJihkZWxldGUgcy5pZCxzLmxpX2F0dHImJnMubGlfYXR0ci5pZCYmZGVsZXRlIHMubGlfYXR0ci5pZCksdCYmdC5mbGF0JiYiIyIhPT1lLmlkJiZpLnB1c2gocyksIXR8fCF0Lm5vX2NoaWxkcmVuKWZvcihyPTAsbj1lLmNoaWxkcmVuLmxlbmd0aDtuPnI7cisrKXQmJnQuZmxhdD90aGlzLmdldF9qc29uKGUuY2hpbGRyZW5bcl0sdCxpKTpzLmNoaWxkcmVuLnB1c2godGhpcy5nZXRfanNvbihlLmNoaWxkcmVuW3JdLHQpKTtyZXR1cm4gdCYmdC5mbGF0P2k6IiMiPT09ZS5pZD9zLmNoaWxkcmVuOnN9LGNyZWF0ZV9ub2RlOmZ1bmN0aW9uKGkscyxyLG4sYSl7aWYobnVsbD09PWkmJihpPSIjIiksaT10aGlzLmdldF9ub2RlKGkpLCFpKXJldHVybiExO2lmKHI9cj09PXQ/Imxhc3QiOnIsISgiIityKS5tYXRjaCgvXihiZWZvcmV8YWZ0ZXIpJC8pJiYhYSYmIXRoaXMuaXNfbG9hZGVkKGkpKXJldHVybiB0aGlzLmxvYWRfbm9kZShpLGZ1bmN0aW9uKCl7dGhpcy5jcmVhdGVfbm9kZShpLHMscixuLCEwKX0pO3N8fChzPXt0ZXh0OnRoaXMuZ2V0X3N0cmluZygiTmV3IG5vZGUiKX0pLHMudGV4dD09PXQmJihzLnRleHQ9dGhpcy5nZXRfc3RyaW5nKCJOZXcgbm9kZSIpKTt2YXIgZCxvLGMsbDtzd2l0Y2goIiMiPT09aS5pZCYmKCJiZWZvcmUiPT09ciYmKHI9ImZpcnN0IiksImFmdGVyIj09PXImJihyPSJsYXN0IikpLHIpe2Nhc2UiYmVmb3JlIjpkPXRoaXMuZ2V0X25vZGUoaS5wYXJlbnQpLHI9ZS5pbkFycmF5KGkuaWQsZC5jaGlsZHJlbiksaT1kO2JyZWFrO2Nhc2UiYWZ0ZXIiOmQ9dGhpcy5nZXRfbm9kZShpLnBhcmVudCkscj1lLmluQXJyYXkoaS5pZCxkLmNoaWxkcmVuKSsxLGk9ZDticmVhaztjYXNlImluc2lkZSI6Y2FzZSJmaXJzdCI6cj0wO2JyZWFrO2Nhc2UibGFzdCI6cj1pLmNoaWxkcmVuLmxlbmd0aDticmVhaztkZWZhdWx0OnJ8fChyPTApfWlmKHI+aS5jaGlsZHJlbi5sZW5ndGgmJihyPWkuY2hpbGRyZW4ubGVuZ3RoKSxzLmlkfHwocy5pZD0hMCksIXRoaXMuY2hlY2soImNyZWF0ZV9ub2RlIixzLGkscikpcmV0dXJuIHRoaXMuc2V0dGluZ3MuY29yZS5lcnJvci5jYWxsKHRoaXMsdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3IpLCExO2lmKHMuaWQ9PT0hMCYmZGVsZXRlIHMuaWQscz10aGlzLl9wYXJzZV9tb2RlbF9mcm9tX2pzb24ocyxpLmlkLGkucGFyZW50cy5jb25jYXQoKSksIXMpcmV0dXJuITE7Zm9yKGQ9dGhpcy5nZXRfbm9kZShzKSxvPVtdLG8ucHVzaChzKSxvPW8uY29uY2F0KGQuY2hpbGRyZW5fZCksdGhpcy50cmlnZ2VyKCJtb2RlbCIse25vZGVzOm8scGFyZW50OmkuaWR9KSxpLmNoaWxkcmVuX2Q9aS5jaGlsZHJlbl9kLmNvbmNhdChvKSxjPTAsbD1pLnBhcmVudHMubGVuZ3RoO2w+YztjKyspdGhpcy5fbW9kZWwuZGF0YVtpLnBhcmVudHNbY11dLmNoaWxkcmVuX2Q9dGhpcy5fbW9kZWwuZGF0YVtpLnBhcmVudHNbY11dLmNoaWxkcmVuX2QuY29uY2F0KG8pO2ZvcihzPWQsZD1bXSxjPTAsbD1pLmNoaWxkcmVuLmxlbmd0aDtsPmM7YysrKWRbYz49cj9jKzE6Y109aS5jaGlsZHJlbltjXTtyZXR1cm4gZFtyXT1zLmlkLGkuY2hpbGRyZW49ZCx0aGlzLnJlZHJhd19ub2RlKGksITApLG4mJm4uY2FsbCh0aGlzLHRoaXMuZ2V0X25vZGUocykpLHRoaXMudHJpZ2dlcigiY3JlYXRlX25vZGUiLHtub2RlOnRoaXMuZ2V0X25vZGUocykscGFyZW50OmkuaWQscG9zaXRpb246cn0pLHMuaWR9LHJlbmFtZV9ub2RlOmZ1bmN0aW9uKHQsaSl7dmFyIHMscixuO2lmKGUuaXNBcnJheSh0KSl7Zm9yKHQ9dC5zbGljZSgpLHM9MCxyPXQubGVuZ3RoO3I+cztzKyspdGhpcy5yZW5hbWVfbm9kZSh0W3NdLGkpO3JldHVybiEwfXJldHVybiB0PXRoaXMuZ2V0X25vZGUodCksdCYmIiMiIT09dC5pZD8obj10LnRleHQsdGhpcy5jaGVjaygicmVuYW1lX25vZGUiLHQsdGhpcy5nZXRfcGFyZW50KHQpLGkpPyh0aGlzLnNldF90ZXh0KHQsaSksdGhpcy50cmlnZ2VyKCJyZW5hbWVfbm9kZSIse25vZGU6dCx0ZXh0Omksb2xkOm59KSwhMCk6KHRoaXMuc2V0dGluZ3MuY29yZS5lcnJvci5jYWxsKHRoaXMsdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3IpLCExKSk6ITF9LGRlbGV0ZV9ub2RlOmZ1bmN0aW9uKHQpe3ZhciBpLHMscixuLGEsZCxvLGMsbCxoO2lmKGUuaXNBcnJheSh0KSl7Zm9yKHQ9dC5zbGljZSgpLGk9MCxzPXQubGVuZ3RoO3M+aTtpKyspdGhpcy5kZWxldGVfbm9kZSh0W2ldKTtyZXR1cm4hMH1pZih0PXRoaXMuZ2V0X25vZGUodCksIXR8fCIjIj09PXQuaWQpcmV0dXJuITE7aWYocj10aGlzLmdldF9ub2RlKHQucGFyZW50KSxuPWUuaW5BcnJheSh0LmlkLHIuY2hpbGRyZW4pLGg9ITEsIXRoaXMuY2hlY2soImRlbGV0ZV9ub2RlIix0LHIsbikpcmV0dXJuIHRoaXMuc2V0dGluZ3MuY29yZS5lcnJvci5jYWxsKHRoaXMsdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3IpLCExO2ZvcigtMSE9PW4mJihyLmNoaWxkcmVuPWUudmFrYXRhLmFycmF5X3JlbW92ZShyLmNoaWxkcmVuLG4pKSxhPXQuY2hpbGRyZW5fZC5jb25jYXQoW10pLGEucHVzaCh0LmlkKSxjPTAsbD1hLmxlbmd0aDtsPmM7YysrKXtmb3IoZD0wLG89dC5wYXJlbnRzLmxlbmd0aDtvPmQ7ZCsrKW49ZS5pbkFycmF5KGFbY10sdGhpcy5fbW9kZWwuZGF0YVt0LnBhcmVudHNbZF1dLmNoaWxkcmVuX2QpLC0xIT09biYmKHRoaXMuX21vZGVsLmRhdGFbdC5wYXJlbnRzW2RdXS5jaGlsZHJlbl9kPWUudmFrYXRhLmFycmF5X3JlbW92ZSh0aGlzLl9tb2RlbC5kYXRhW3QucGFyZW50c1tkXV0uY2hpbGRyZW5fZCxuKSk7dGhpcy5fbW9kZWwuZGF0YVthW2NdXS5zdGF0ZS5zZWxlY3RlZCYmKGg9ITAsbj1lLmluQXJyYXkoYVtjXSx0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQpLC0xIT09biYmKHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZD1lLnZha2F0YS5hcnJheV9yZW1vdmUodGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLG4pKSl9Zm9yKHRoaXMudHJpZ2dlcigiZGVsZXRlX25vZGUiLHtub2RlOnQscGFyZW50OnIuaWR9KSxoJiZ0aGlzLnRyaWdnZXIoImNoYW5nZWQiLHthY3Rpb246ImRlbGV0ZV9ub2RlIixub2RlOnQsc2VsZWN0ZWQ6dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLHBhcmVudDpyLmlkfSksYz0wLGw9YS5sZW5ndGg7bD5jO2MrKylkZWxldGUgdGhpcy5fbW9kZWwuZGF0YVthW2NdXTtyZXR1cm4gdGhpcy5yZWRyYXdfbm9kZShyLCEwKSwhMH0sY2hlY2s6ZnVuY3Rpb24odCxpLHMscixuKXtpPWkmJmkuaWQ/aTp0aGlzLmdldF9ub2RlKGkpLHM9cyYmcy5pZD9zOnRoaXMuZ2V0X25vZGUocyk7dmFyIGE9dC5tYXRjaCgvXm1vdmVfbm9kZXxjb3B5X25vZGV8Y3JlYXRlX25vZGUkL2kpP3M6aSxkPXRoaXMuc2V0dGluZ3MuY29yZS5jaGVja19jYWxsYmFjaztyZXR1cm4ibW92ZV9ub2RlIiE9PXQmJiJjb3B5X25vZGUiIT09dHx8biYmbi5pc19tdWx0aXx8aS5pZCE9PXMuaWQmJmUuaW5BcnJheShpLmlkLHMuY2hpbGRyZW4pIT09ciYmLTE9PT1lLmluQXJyYXkocy5pZCxpLmNoaWxkcmVuX2QpPyhhJiZhLmRhdGEmJihhPWEuZGF0YSksYSYmYS5mdW5jdGlvbnMmJihhLmZ1bmN0aW9uc1t0XT09PSExfHxhLmZ1bmN0aW9uc1t0XT09PSEwKT8oYS5mdW5jdGlvbnNbdF09PT0hMSYmKHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjoiY2hlY2siLHBsdWdpbjoiY29yZSIsaWQ6ImNvcmVfMDIiLHJlYXNvbjoiTm9kZSBkYXRhIHByZXZlbnRzIGZ1bmN0aW9uOiAiK3QsZGF0YTpKU09OLnN0cmluZ2lmeSh7Y2hrOnQscG9zOnIsb2JqOmkmJmkuaWQ/aS5pZDohMSxwYXI6cyYmcy5pZD9zLmlkOiExfSl9KSxhLmZ1bmN0aW9uc1t0XSk6ZD09PSExfHxlLmlzRnVuY3Rpb24oZCkmJmQuY2FsbCh0aGlzLHQsaSxzLHIsbik9PT0hMXx8ZCYmZFt0XT09PSExPyh0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6ImNoZWNrIixwbHVnaW46ImNvcmUiLGlkOiJjb3JlXzAzIixyZWFzb246IlVzZXIgY29uZmlnIGZvciBjb3JlLmNoZWNrX2NhbGxiYWNrIHByZXZlbnRzIGZ1bmN0aW9uOiAiK3QsZGF0YTpKU09OLnN0cmluZ2lmeSh7Y2hrOnQscG9zOnIsb2JqOmkmJmkuaWQ/aS5pZDohMSxwYXI6cyYmcy5pZD9zLmlkOiExfSl9LCExKTohMCk6KHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjoiY2hlY2siLHBsdWdpbjoiY29yZSIsaWQ6ImNvcmVfMDEiLHJlYXNvbjoiTW92aW5nIHBhcmVudCBpbnNpZGUgY2hpbGQiLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2Noazp0LHBvczpyLG9iajppJiZpLmlkP2kuaWQ6ITEscGFyOnMmJnMuaWQ/cy5pZDohMX0pfSwhMSl9LGxhc3RfZXJyb3I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3J9LG1vdmVfbm9kZTpmdW5jdGlvbihpLHMscixuLGEpe3ZhciBkLG8sYyxsLGgsXyx1LGcsZixwLG0sdixqLGs7aWYocz10aGlzLmdldF9ub2RlKHMpLHI9cj09PXQ/MDpyLCFzKXJldHVybiExO2lmKCEoIiIrcikubWF0Y2goL14oYmVmb3JlfGFmdGVyKSQvKSYmIWEmJiF0aGlzLmlzX2xvYWRlZChzKSlyZXR1cm4gdGhpcy5sb2FkX25vZGUocyxmdW5jdGlvbigpe3RoaXMubW92ZV9ub2RlKGkscyxyLG4sITApfSk7aWYoZS5pc0FycmF5KGkpKXtmb3IoaT1pLnJldmVyc2UoKS5zbGljZSgpLGQ9MCxvPWkubGVuZ3RoO28+ZDtkKyspdGhpcy5tb3ZlX25vZGUoaVtkXSxzLHIsbixhKTtyZXR1cm4hMH1pZihpPWkmJmkuaWQ/aTp0aGlzLmdldF9ub2RlKGkpLCFpfHwiIyI9PT1pLmlkKXJldHVybiExO2lmKGM9IiIrKGkucGFyZW50fHwiIyIpLGg9KCIiK3IpLm1hdGNoKC9eKGJlZm9yZXxhZnRlcikkLykmJiIjIiE9PXMuaWQ/dGhpcy5nZXRfbm9kZShzLnBhcmVudCk6cyxfPWkuaW5zdGFuY2U/aS5pbnN0YW5jZTp0aGlzLl9tb2RlbC5kYXRhW2kuaWRdP3RoaXM6ZS5qc3RyZWUucmVmZXJlbmNlKGkuaWQpLHU9IV98fCFfLl9pZHx8dGhpcy5faWQhPT1fLl9pZCxsPV8mJl8uX2lkJiZjJiZfLl9tb2RlbC5kYXRhW2NdJiZfLl9tb2RlbC5kYXRhW2NdLmNoaWxkcmVuP2UuaW5BcnJheShpLmlkLF8uX21vZGVsLmRhdGFbY10uY2hpbGRyZW4pOi0xLHUpcmV0dXJuIHRoaXMuY29weV9ub2RlKGkscyxyLG4sYSk/KF8mJl8uZGVsZXRlX25vZGUoaSksITApOiExO3N3aXRjaCgiIyI9PT1oLmlkJiYoImJlZm9yZSI9PT1yJiYocj0iZmlyc3QiKSwiYWZ0ZXIiPT09ciYmKHI9Imxhc3QiKSkscil7Y2FzZSJiZWZvcmUiOnI9ZS5pbkFycmF5KHMuaWQsaC5jaGlsZHJlbik7YnJlYWs7Y2FzZSJhZnRlciI6cj1lLmluQXJyYXkocy5pZCxoLmNoaWxkcmVuKSsxO2JyZWFrO2Nhc2UiaW5zaWRlIjpjYXNlImZpcnN0IjpyPTA7YnJlYWs7Y2FzZSJsYXN0IjpyPWguY2hpbGRyZW4ubGVuZ3RoO2JyZWFrO2RlZmF1bHQ6cnx8KHI9MCl9aWYocj5oLmNoaWxkcmVuLmxlbmd0aCYmKHI9aC5jaGlsZHJlbi5sZW5ndGgpLCF0aGlzLmNoZWNrKCJtb3ZlX25vZGUiLGksaCxyLHtjb3JlOiEwLGlzX211bHRpOl8mJl8uX2lkJiZfLl9pZCE9PXRoaXMuX2lkLGlzX2ZvcmVpZ246IV98fCFfLl9pZH0pKXJldHVybiB0aGlzLnNldHRpbmdzLmNvcmUuZXJyb3IuY2FsbCh0aGlzLHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yKSwhMTtpZihpLnBhcmVudD09PWguaWQpe2ZvcihnPWguY2hpbGRyZW4uY29uY2F0KCksZj1lLmluQXJyYXkoaS5pZCxnKSwtMSE9PWYmJihnPWUudmFrYXRhLmFycmF5X3JlbW92ZShnLGYpLHI+ZiYmci0tKSxmPVtdLHA9MCxtPWcubGVuZ3RoO20+cDtwKyspZltwPj1yP3ArMTpwXT1nW3BdO2Zbcl09aS5pZCxoLmNoaWxkcmVuPWYsdGhpcy5fbm9kZV9jaGFuZ2VkKGguaWQpLHRoaXMucmVkcmF3KCIjIj09PWguaWQpfWVsc2V7Zm9yKGY9aS5jaGlsZHJlbl9kLmNvbmNhdCgpLGYucHVzaChpLmlkKSxwPTAsbT1pLnBhcmVudHMubGVuZ3RoO20+cDtwKyspe2ZvcihnPVtdLGs9Xy5fbW9kZWwuZGF0YVtpLnBhcmVudHNbcF1dLmNoaWxkcmVuX2Qsdj0wLGo9ay5sZW5ndGg7aj52O3YrKyktMT09PWUuaW5BcnJheShrW3ZdLGYpJiZnLnB1c2goa1t2XSk7Xy5fbW9kZWwuZGF0YVtpLnBhcmVudHNbcF1dLmNoaWxkcmVuX2Q9Z31mb3IoXy5fbW9kZWwuZGF0YVtjXS5jaGlsZHJlbj1lLnZha2F0YS5hcnJheV9yZW1vdmVfaXRlbShfLl9tb2RlbC5kYXRhW2NdLmNoaWxkcmVuLGkuaWQpLHA9MCxtPWgucGFyZW50cy5sZW5ndGg7bT5wO3ArKyl0aGlzLl9tb2RlbC5kYXRhW2gucGFyZW50c1twXV0uY2hpbGRyZW5fZD10aGlzLl9tb2RlbC5kYXRhW2gucGFyZW50c1twXV0uY2hpbGRyZW5fZC5jb25jYXQoZik7Zm9yKGc9W10scD0wLG09aC5jaGlsZHJlbi5sZW5ndGg7bT5wO3ArKylnW3A+PXI/cCsxOnBdPWguY2hpbGRyZW5bcF07Zm9yKGdbcl09aS5pZCxoLmNoaWxkcmVuPWcsaC5jaGlsZHJlbl9kLnB1c2goaS5pZCksaC5jaGlsZHJlbl9kPWguY2hpbGRyZW5fZC5jb25jYXQoaS5jaGlsZHJlbl9kKSxpLnBhcmVudD1oLmlkLGY9aC5wYXJlbnRzLmNvbmNhdCgpLGYudW5zaGlmdChoLmlkKSxrPWkucGFyZW50cy5sZW5ndGgsaS5wYXJlbnRzPWYsZj1mLmNvbmNhdCgpLHA9MCxtPWkuY2hpbGRyZW5fZC5sZW5ndGg7bT5wO3ArKyl0aGlzLl9tb2RlbC5kYXRhW2kuY2hpbGRyZW5fZFtwXV0ucGFyZW50cz10aGlzLl9tb2RlbC5kYXRhW2kuY2hpbGRyZW5fZFtwXV0ucGFyZW50cy5zbGljZSgwLC0xKmspLEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHRoaXMuX21vZGVsLmRhdGFbaS5jaGlsZHJlbl9kW3BdXS5wYXJlbnRzLGYpO3RoaXMuX25vZGVfY2hhbmdlZChjKSx0aGlzLl9ub2RlX2NoYW5nZWQoaC5pZCksdGhpcy5yZWRyYXcoIiMiPT09Y3x8IiMiPT09aC5pZCl9cmV0dXJuIG4mJm4uY2FsbCh0aGlzLGksaCxyKSx0aGlzLnRyaWdnZXIoIm1vdmVfbm9kZSIse25vZGU6aSxwYXJlbnQ6aC5pZCxwb3NpdGlvbjpyLG9sZF9wYXJlbnQ6YyxvbGRfcG9zaXRpb246bCxpc19tdWx0aTpfJiZfLl9pZCYmXy5faWQhPT10aGlzLl9pZCxpc19mb3JlaWduOiFffHwhXy5faWQsb2xkX2luc3RhbmNlOl8sbmV3X2luc3RhbmNlOnRoaXN9KSwhMH0sY29weV9ub2RlOmZ1bmN0aW9uKGkscyxyLG4sYSl7dmFyIGQsbyxjLGwsaCxfLHUsZyxmLHAsbTtpZihzPXRoaXMuZ2V0X25vZGUocykscj1yPT09dD8wOnIsIXMpcmV0dXJuITE7aWYoISgiIityKS5tYXRjaCgvXihiZWZvcmV8YWZ0ZXIpJC8pJiYhYSYmIXRoaXMuaXNfbG9hZGVkKHMpKXJldHVybiB0aGlzLmxvYWRfbm9kZShzLGZ1bmN0aW9uKCl7dGhpcy5jb3B5X25vZGUoaSxzLHIsbiwhMCl9KTtpZihlLmlzQXJyYXkoaSkpe2ZvcihpPWkucmV2ZXJzZSgpLnNsaWNlKCksZD0wLG89aS5sZW5ndGg7bz5kO2QrKyl0aGlzLmNvcHlfbm9kZShpW2RdLHMscixuLGEpO3JldHVybiEwfWlmKGk9aSYmaS5pZD9pOnRoaXMuZ2V0X25vZGUoaSksIWl8fCIjIj09PWkuaWQpcmV0dXJuITE7c3dpdGNoKGc9IiIrKGkucGFyZW50fHwiIyIpLGY9KCIiK3IpLm1hdGNoKC9eKGJlZm9yZXxhZnRlcikkLykmJiIjIiE9PXMuaWQ/dGhpcy5nZXRfbm9kZShzLnBhcmVudCk6cyxwPWkuaW5zdGFuY2U/aS5pbnN0YW5jZTp0aGlzLl9tb2RlbC5kYXRhW2kuaWRdP3RoaXM6ZS5qc3RyZWUucmVmZXJlbmNlKGkuaWQpLG09IXB8fCFwLl9pZHx8dGhpcy5faWQhPT1wLl9pZCwiIyI9PT1mLmlkJiYoImJlZm9yZSI9PT1yJiYocj0iZmlyc3QiKSwiYWZ0ZXIiPT09ciYmKHI9Imxhc3QiKSkscil7Y2FzZSJiZWZvcmUiOnI9ZS5pbkFycmF5KHMuaWQsZi5jaGlsZHJlbik7YnJlYWs7Y2FzZSJhZnRlciI6cj1lLmluQXJyYXkocy5pZCxmLmNoaWxkcmVuKSsxO2JyZWFrO2Nhc2UiaW5zaWRlIjpjYXNlImZpcnN0IjpyPTA7YnJlYWs7Y2FzZSJsYXN0IjpyPWYuY2hpbGRyZW4ubGVuZ3RoO2JyZWFrO2RlZmF1bHQ6cnx8KHI9MCl9aWYocj5mLmNoaWxkcmVuLmxlbmd0aCYmKHI9Zi5jaGlsZHJlbi5sZW5ndGgpLCF0aGlzLmNoZWNrKCJjb3B5X25vZGUiLGksZixyLHtjb3JlOiEwLGlzX211bHRpOnAmJnAuX2lkJiZwLl9pZCE9PXRoaXMuX2lkLGlzX2ZvcmVpZ246IXB8fCFwLl9pZH0pKXJldHVybiB0aGlzLnNldHRpbmdzLmNvcmUuZXJyb3IuY2FsbCh0aGlzLHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yKSwhMTtpZih1PXA/cC5nZXRfanNvbihpLHtub19pZDohMCxub19kYXRhOiEwLG5vX3N0YXRlOiEwfSk6aSwhdSlyZXR1cm4hMTtpZih1LmlkPT09ITAmJmRlbGV0ZSB1LmlkLHU9dGhpcy5fcGFyc2VfbW9kZWxfZnJvbV9qc29uKHUsZi5pZCxmLnBhcmVudHMuY29uY2F0KCkpLCF1KXJldHVybiExO2ZvcihsPXRoaXMuZ2V0X25vZGUodSksaSYmaS5zdGF0ZSYmaS5zdGF0ZS5sb2FkZWQ9PT0hMSYmKGwuc3RhdGUubG9hZGVkPSExKSxjPVtdLGMucHVzaCh1KSxjPWMuY29uY2F0KGwuY2hpbGRyZW5fZCksdGhpcy50cmlnZ2VyKCJtb2RlbCIse25vZGVzOmMscGFyZW50OmYuaWR9KSxoPTAsXz1mLnBhcmVudHMubGVuZ3RoO18+aDtoKyspdGhpcy5fbW9kZWwuZGF0YVtmLnBhcmVudHNbaF1dLmNoaWxkcmVuX2Q9dGhpcy5fbW9kZWwuZGF0YVtmLnBhcmVudHNbaF1dLmNoaWxkcmVuX2QuY29uY2F0KGMpO2ZvcihjPVtdLGg9MCxfPWYuY2hpbGRyZW4ubGVuZ3RoO18+aDtoKyspY1toPj1yP2grMTpoXT1mLmNoaWxkcmVuW2hdO3JldHVybiBjW3JdPWwuaWQsZi5jaGlsZHJlbj1jLGYuY2hpbGRyZW5fZC5wdXNoKGwuaWQpLGYuY2hpbGRyZW5fZD1mLmNoaWxkcmVuX2QuY29uY2F0KGwuY2hpbGRyZW5fZCksdGhpcy5fbm9kZV9jaGFuZ2VkKGYuaWQpLHRoaXMucmVkcmF3KCIjIj09PWYuaWQpLG4mJm4uY2FsbCh0aGlzLGwsZixyKSx0aGlzLnRyaWdnZXIoImNvcHlfbm9kZSIse25vZGU6bCxvcmlnaW5hbDppLHBhcmVudDpmLmlkLHBvc2l0aW9uOnIsb2xkX3BhcmVudDpnLG9sZF9wb3NpdGlvbjpwJiZwLl9pZCYmZyYmcC5fbW9kZWwuZGF0YVtnXSYmcC5fbW9kZWwuZGF0YVtnXS5jaGlsZHJlbj9lLmluQXJyYXkoaS5pZCxwLl9tb2RlbC5kYXRhW2ddLmNoaWxkcmVuKTotMSxpc19tdWx0aTpwJiZwLl9pZCYmcC5faWQhPT10aGlzLl9pZCxpc19mb3JlaWduOiFwfHwhcC5faWQsb2xkX2luc3RhbmNlOnAsbmV3X2luc3RhbmNlOnRoaXN9KSxsLmlkfSxjdXQ6ZnVuY3Rpb24oaSl7aWYoaXx8KGk9dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmNvbmNhdCgpKSxlLmlzQXJyYXkoaSl8fChpPVtpXSksIWkubGVuZ3RoKXJldHVybiExO3ZhciBkLG8sYyxhPVtdO2ZvcihvPTAsYz1pLmxlbmd0aDtjPm87bysrKWQ9dGhpcy5nZXRfbm9kZShpW29dKSxkJiZkLmlkJiYiIyIhPT1kLmlkJiZhLnB1c2goZCk7cmV0dXJuIGEubGVuZ3RoPyhzPWEsbj10aGlzLHI9Im1vdmVfbm9kZSIsdGhpcy50cmlnZ2VyKCJjdXQiLHtub2RlOml9KSx0KTohMX0sY29weTpmdW5jdGlvbihpKXtpZihpfHwoaT10aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQuY29uY2F0KCkpLGUuaXNBcnJheShpKXx8KGk9W2ldKSwhaS5sZW5ndGgpcmV0dXJuITE7dmFyIGQsbyxjLGE9W107Zm9yKG89MCxjPWkubGVuZ3RoO2M+bztvKyspZD10aGlzLmdldF9ub2RlKGlbb10pLGQmJmQuaWQmJiIjIiE9PWQuaWQmJmEucHVzaChkKTtyZXR1cm4gYS5sZW5ndGg/KHM9YSxuPXRoaXMscj0iY29weV9ub2RlIix0aGlzLnRyaWdnZXIoImNvcHkiLHtub2RlOml9KSx0KTohMX0sZ2V0X2J1ZmZlcjpmdW5jdGlvbigpe3JldHVybnttb2RlOnIsbm9kZTpzLGluc3Q6bn19LGNhbl9wYXN0ZTpmdW5jdGlvbigpe3JldHVybiByIT09ITEmJnMhPT0hMX0scGFzdGU6ZnVuY3Rpb24oZSxpKXtyZXR1cm4gZT10aGlzLmdldF9ub2RlKGUpLGUmJnImJnIubWF0Y2goL14oY29weV9ub2RlfG1vdmVfbm9kZSkkLykmJnM/KHRoaXNbcl0ocyxlLGkpJiZ0aGlzLnRyaWdnZXIoInBhc3RlIix7cGFyZW50OmUuaWQsbm9kZTpzLG1vZGU6cn0pLHM9ITEscj0hMSxuPSExLHQpOiExfSxlZGl0OmZ1bmN0aW9uKGkscyl7aWYoaT10aGlzLmdldF9ub2RlKGkpLCFpKXJldHVybiExO2lmKHRoaXMuc2V0dGluZ3MuY29yZS5jaGVja19jYWxsYmFjaz09PSExKXJldHVybiB0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6ImNoZWNrIixwbHVnaW46ImNvcmUiLGlkOiJjb3JlXzA3IixyZWFzb246IkNvdWxkIG5vdCBlZGl0IG5vZGUgYmVjYXVzZSBvZiBjaGVja19jYWxsYmFjayJ9LHRoaXMuc2V0dGluZ3MuY29yZS5lcnJvci5jYWxsKHRoaXMsdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3IpLCExO3M9InN0cmluZyI9PXR5cGVvZiBzP3M6aS50ZXh0LHRoaXMuc2V0X3RleHQoaSwiIiksaT10aGlzLl9vcGVuX3RvKGkpO3ZhciByPXRoaXMuX2RhdGEuY29yZS5ydGwsbj10aGlzLmVsZW1lbnQud2lkdGgoKSxhPWkuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIiksZD1lKCI8c3Bhbj4iKSxvPXMsYz1lKCI8ZGl2IC8+Iix7Y3NzOntwb3NpdGlvbjoiYWJzb2x1dGUiLHRvcDoiLTIwMHB4IixsZWZ0OnI/IjBweCI6Ii0xMDAwcHgiLHZpc2liaWxpdHk6ImhpZGRlbiJ9fSkuYXBwZW5kVG8oImJvZHkiKSxsPWUoIjxpbnB1dCAvPiIse3ZhbHVlOm8sImNsYXNzIjoianN0cmVlLXJlbmFtZS1pbnB1dCIsY3NzOntwYWRkaW5nOiIwIixib3JkZXI6IjFweCBzb2xpZCBzaWx2ZXIiLCJib3gtc2l6aW5nIjoiYm9yZGVyLWJveCIsZGlzcGxheToiaW5saW5lLWJsb2NrIixoZWlnaHQ6dGhpcy5fZGF0YS5jb3JlLmxpX2hlaWdodCsicHgiLGxpbmVIZWlnaHQ6dGhpcy5fZGF0YS5jb3JlLmxpX2hlaWdodCsicHgiLHdpZHRoOiIxNTBweCJ9LGJsdXI6ZS5wcm94eShmdW5jdGlvbigpe3ZhciB0PWQuY2hpbGRyZW4oIi5qc3RyZWUtcmVuYW1lLWlucHV0Iikscz10LnZhbCgpOyIiPT09cyYmKHM9byksYy5yZW1vdmUoKSxkLnJlcGxhY2VXaXRoKGEpLGQucmVtb3ZlKCksdGhpcy5zZXRfdGV4dChpLG8pLHRoaXMucmVuYW1lX25vZGUoaSxlKCI8ZGl2PjwvZGl2PiIpLnRleHQocylbdGhpcy5zZXR0aW5ncy5jb3JlLmZvcmNlX3RleHQ/InRleHQiOiJodG1sIl0oKSk9PT0hMSYmdGhpcy5zZXRfdGV4dChpLG8pfSx0aGlzKSxrZXlkb3duOmZ1bmN0aW9uKGUpe3ZhciB0PWUud2hpY2g7Mjc9PT10JiYodGhpcy52YWx1ZT1vKSwoMjc9PT10fHwxMz09PXR8fDM3PT09dHx8Mzg9PT10fHwzOT09PXR8fDQwPT09dHx8MzI9PT10KSYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwoMjc9PT10fHwxMz09PXQpJiYoZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuYmx1cigpKX0sY2xpY2s6ZnVuY3Rpb24oZSl7ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX0sbW91c2Vkb3duOmZ1bmN0aW9uKGUpe2Uuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCl9LGtleXVwOmZ1bmN0aW9uKCl7bC53aWR0aChNYXRoLm1pbihjLnRleHQoInBXIit0aGlzLnZhbHVlKS53aWR0aCgpLG4pKX0sa2V5cHJlc3M6ZnVuY3Rpb24oZSl7cmV0dXJuIDEzPT09ZS53aGljaD8hMTp0fX0pLGg9e2ZvbnRGYW1pbHk6YS5jc3MoImZvbnRGYW1pbHkiKXx8IiIsZm9udFNpemU6YS5jc3MoImZvbnRTaXplIil8fCIiLGZvbnRXZWlnaHQ6YS5jc3MoImZvbnRXZWlnaHQiKXx8IiIsZm9udFN0eWxlOmEuY3NzKCJmb250U3R5bGUiKXx8IiIsZm9udFN0cmV0Y2g6YS5jc3MoImZvbnRTdHJldGNoIil8fCIiLGZvbnRWYXJpYW50OmEuY3NzKCJmb250VmFyaWFudCIpfHwiIixsZXR0ZXJTcGFjaW5nOmEuY3NzKCJsZXR0ZXJTcGFjaW5nIil8fCIiLHdvcmRTcGFjaW5nOmEuY3NzKCJ3b3JkU3BhY2luZyIpfHwiIn07ZC5hdHRyKCJjbGFzcyIsYS5hdHRyKCJjbGFzcyIpKS5hcHBlbmQoYS5jb250ZW50cygpLmNsb25lKCkpLmFwcGVuZChsKSxhLnJlcGxhY2VXaXRoKGQpLGMuY3NzKGgpLGwuY3NzKGgpLndpZHRoKE1hdGgubWluKGMudGV4dCgicFciK2xbMF0udmFsdWUpLndpZHRoKCksbikpWzBdLnNlbGVjdCgpfSxzZXRfdGhlbWU6ZnVuY3Rpb24odCxpKXtpZighdClyZXR1cm4hMTtpZihpPT09ITApe3ZhciBzPXRoaXMuc2V0dGluZ3MuY29yZS50aGVtZXMuZGlyO3N8fChzPWUuanN0cmVlLnBhdGgrIi90aGVtZXMiKSxpPXMrIi8iK3QrIi9zdHlsZS5jc3MifWkmJi0xPT09ZS5pbkFycmF5KGksYSkmJihlKCJoZWFkIikuYXBwZW5kKCc8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9IicraSsnIiB0eXBlPSJ0ZXh0L2NzcyIgLz4nKSxhLnB1c2goaSkpLHRoaXMuX2RhdGEuY29yZS50aGVtZXMubmFtZSYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJqc3RyZWUtIit0aGlzLl9kYXRhLmNvcmUudGhlbWVzLm5hbWUpLHRoaXMuX2RhdGEuY29yZS50aGVtZXMubmFtZT10LHRoaXMuZWxlbWVudC5hZGRDbGFzcygianN0cmVlLSIrdCksdGhpcy5lbGVtZW50W3RoaXMuc2V0dGluZ3MuY29yZS50aGVtZXMucmVzcG9uc2l2ZT8iYWRkQ2xhc3MiOiJyZW1vdmVDbGFzcyJdKCJqc3RyZWUtIit0KyItcmVzcG9uc2l2ZSIpLHRoaXMudHJpZ2dlcigic2V0X3RoZW1lIix7dGhlbWU6dH0pfSxnZXRfdGhlbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5uYW1lfSxzZXRfdGhlbWVfdmFyaWFudDpmdW5jdGlvbihlKXt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLnZhcmlhbnQmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygianN0cmVlLSIrdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5uYW1lKyItIit0aGlzLl9kYXRhLmNvcmUudGhlbWVzLnZhcmlhbnQpLHRoaXMuX2RhdGEuY29yZS50aGVtZXMudmFyaWFudD1lLGUmJnRoaXMuZWxlbWVudC5hZGRDbGFzcygianN0cmVlLSIrdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5uYW1lKyItIit0aGlzLl9kYXRhLmNvcmUudGhlbWVzLnZhcmlhbnQpfSxnZXRfdGhlbWVfdmFyaWFudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLmNvcmUudGhlbWVzLnZhcmlhbnR9LHNob3dfc3RyaXBlczpmdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuc3RyaXBlcz0hMCx0aGlzLmdldF9jb250YWluZXJfdWwoKS5hZGRDbGFzcygianN0cmVlLXN0cmlwZWQiKX0saGlkZV9zdHJpcGVzOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5zdHJpcGVzPSExLHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLnJlbW92ZUNsYXNzKCJqc3RyZWUtc3RyaXBlZCIpfSx0b2dnbGVfc3RyaXBlczpmdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuc3RyaXBlcz90aGlzLmhpZGVfc3RyaXBlcygpOnRoaXMuc2hvd19zdHJpcGVzKCl9LHNob3dfZG90czpmdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuZG90cz0hMCx0aGlzLmdldF9jb250YWluZXJfdWwoKS5yZW1vdmVDbGFzcygianN0cmVlLW5vLWRvdHMiKX0saGlkZV9kb3RzOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5kb3RzPSExLHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLmFkZENsYXNzKCJqc3RyZWUtbm8tZG90cyIpfSx0b2dnbGVfZG90czpmdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuZG90cz90aGlzLmhpZGVfZG90cygpOnRoaXMuc2hvd19kb3RzKCl9LHNob3dfaWNvbnM6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmljb25zPSEwLHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLnJlbW92ZUNsYXNzKCJqc3RyZWUtbm8taWNvbnMiKX0saGlkZV9pY29uczpmdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuaWNvbnM9ITEsdGhpcy5nZXRfY29udGFpbmVyX3VsKCkuYWRkQ2xhc3MoImpzdHJlZS1uby1pY29ucyIpfSx0b2dnbGVfaWNvbnM6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmljb25zP3RoaXMuaGlkZV9pY29ucygpOnRoaXMuc2hvd19pY29ucygpfSxzZXRfaWNvbjpmdW5jdGlvbih0LGkpe3ZhciBzLHIsbixhO2lmKGUuaXNBcnJheSh0KSl7Zm9yKHQ9dC5zbGljZSgpLHM9MCxyPXQubGVuZ3RoO3I+cztzKyspdGhpcy5zZXRfaWNvbih0W3NdLGkpO3JldHVybiEwfXJldHVybiB0PXRoaXMuZ2V0X25vZGUodCksdCYmIiMiIT09dC5pZD8oYT10Lmljb24sdC5pY29uPWksbj10aGlzLmdldF9ub2RlKHQsITApLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLmNoaWxkcmVuKCIuanN0cmVlLXRoZW1laWNvbiIpLGk9PT0hMT90aGlzLmhpZGVfaWNvbih0KTppPT09ITA/bi5yZW1vdmVDbGFzcygianN0cmVlLXRoZW1laWNvbi1jdXN0b20gIithKS5jc3MoImJhY2tncm91bmQiLCIiKS5yZW1vdmVBdHRyKCJyZWwiKTotMT09PWkuaW5kZXhPZigiLyIpJiYtMT09PWkuaW5kZXhPZigiLiIpPyhuLnJlbW92ZUNsYXNzKGEpLmNzcygiYmFja2dyb3VuZCIsIiIpLG4uYWRkQ2xhc3MoaSsiIGpzdHJlZS10aGVtZWljb24tY3VzdG9tIikuYXR0cigicmVsIixpKSk6KG4ucmVtb3ZlQ2xhc3MoYSkuY3NzKCJiYWNrZ3JvdW5kIiwiIiksbi5hZGRDbGFzcygianN0cmVlLXRoZW1laWNvbi1jdXN0b20iKS5jc3MoImJhY2tncm91bmQiLCJ1cmwoJyIraSsiJykgY2VudGVyIGNlbnRlciBuby1yZXBlYXQiKS5hdHRyKCJyZWwiLGkpKSwhMCk6ITF9LGdldF9pY29uOmZ1bmN0aW9uKGUpe3JldHVybiBlPXRoaXMuZ2V0X25vZGUoZSksZSYmIiMiIT09ZS5pZD9lLmljb246ITF9LGhpZGVfaWNvbjpmdW5jdGlvbih0KXt2YXIgaSxzO2lmKGUuaXNBcnJheSh0KSl7Zm9yKHQ9dC5zbGljZSgpLGk9MCxzPXQubGVuZ3RoO3M+aTtpKyspdGhpcy5oaWRlX2ljb24odFtpXSk7cmV0dXJuITB9cmV0dXJuIHQ9dGhpcy5nZXRfbm9kZSh0KSx0JiYiIyIhPT10Pyh0Lmljb249ITEsdGhpcy5nZXRfbm9kZSh0LCEwKS5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5jaGlsZHJlbigiLmpzdHJlZS10aGVtZWljb24iKS5hZGRDbGFzcygianN0cmVlLXRoZW1laWNvbi1oaWRkZW4iKSwhMCk6ITF9LHNob3dfaWNvbjpmdW5jdGlvbih0KXt2YXIgaSxzLHI7aWYoZS5pc0FycmF5KHQpKXtmb3IodD10LnNsaWNlKCksaT0wLHM9dC5sZW5ndGg7cz5pO2krKyl0aGlzLnNob3dfaWNvbih0W2ldKTtyZXR1cm4hMH1yZXR1cm4gdD10aGlzLmdldF9ub2RlKHQpLHQmJiIjIiE9PXQ/KHI9dGhpcy5nZXRfbm9kZSh0LCEwKSx0Lmljb249ci5sZW5ndGg/ci5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5jaGlsZHJlbigiLmpzdHJlZS10aGVtZWljb24iKS5hdHRyKCJyZWwiKTohMCx0Lmljb258fCh0Lmljb249ITApLHIuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuY2hpbGRyZW4oIi5qc3RyZWUtdGhlbWVpY29uIikucmVtb3ZlQ2xhc3MoImpzdHJlZS10aGVtZWljb24taGlkZGVuIiksITApOiExfX0sZS52YWthdGE9e30sZS52YWthdGEuYXR0cmlidXRlcz1mdW5jdGlvbih0LGkpe3Q9ZSh0KVswXTt2YXIgcz1pP3t9OltdO3JldHVybiB0JiZ0LmF0dHJpYnV0ZXMmJmUuZWFjaCh0LmF0dHJpYnV0ZXMsZnVuY3Rpb24odCxyKXstMT09PWUuaW5BcnJheShyLm5hbWUudG9Mb3dlckNhc2UoKSxbInN0eWxlIiwiY29udGVudGVkaXRhYmxlIiwiaGFzZm9jdXMiLCJ0YWJpbmRleCJdKSYmbnVsbCE9PXIudmFsdWUmJiIiIT09ZS50cmltKHIudmFsdWUpJiYoaT9zW3IubmFtZV09ci52YWx1ZTpzLnB1c2goci5uYW1lKSl9KSxzfSxlLnZha2F0YS5hcnJheV91bmlxdWU9ZnVuY3Rpb24oZSl7dmFyIGkscyxyLHQ9W107Zm9yKGk9MCxyPWUubGVuZ3RoO3I+aTtpKyspe2ZvcihzPTA7aT49cyYmZVtpXSE9PWVbc107cysrKTtzPT09aSYmdC5wdXNoKGVbaV0pfXJldHVybiB0fSxlLnZha2F0YS5hcnJheV9yZW1vdmU9ZnVuY3Rpb24oZSx0LGkpe3ZhciBzPWUuc2xpY2UoKGl8fHQpKzF8fGUubGVuZ3RoKTtyZXR1cm4gZS5sZW5ndGg9MD50P2UubGVuZ3RoK3Q6dCxlLnB1c2guYXBwbHkoZSxzKSxlfSxlLnZha2F0YS5hcnJheV9yZW1vdmVfaXRlbT1mdW5jdGlvbih0LGkpe3ZhciBzPWUuaW5BcnJheShpLHQpO3JldHVybi0xIT09cz9lLnZha2F0YS5hcnJheV9yZW1vdmUodCxzKTp0fTt2YXIgXz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJJIik7Xy5jbGFzc05hbWU9ImpzdHJlZS1pY29uIGpzdHJlZS1jaGVja2JveCIsZS5qc3RyZWUuZGVmYXVsdHMuY2hlY2tib3g9e3Zpc2libGU6ITAsdGhyZWVfc3RhdGU6ITAsd2hvbGVfbm9kZTohMCxrZWVwX3NlbGVjdGVkX3N0eWxlOiEwLGNhc2NhZGU6IiIsdGllX3NlbGVjdGlvbjohMH0sZS5qc3RyZWUucGx1Z2lucy5jaGVja2JveD1mdW5jdGlvbihpLHMpe3RoaXMuYmluZD1mdW5jdGlvbigpe3MuYmluZC5jYWxsKHRoaXMpLHRoaXMuX2RhdGEuY2hlY2tib3gudXRvPSExLHRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQ9W10sdGhpcy5zZXR0aW5ncy5jaGVja2JveC50aHJlZV9zdGF0ZSYmKHRoaXMuc2V0dGluZ3MuY2hlY2tib3guY2FzY2FkZT0idXArZG93bit1bmRldGVybWluZWQiKSx0aGlzLmVsZW1lbnQub24oImluaXQuanN0cmVlIixlLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jaGVja2JveC52aXNpYmxlPXRoaXMuc2V0dGluZ3MuY2hlY2tib3gudmlzaWJsZSx0aGlzLnNldHRpbmdzLmNoZWNrYm94LmtlZXBfc2VsZWN0ZWRfc3R5bGV8fHRoaXMuZWxlbWVudC5hZGRDbGFzcygianN0cmVlLWNoZWNrYm94LW5vLWNsaWNrZWQiKSx0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24mJnRoaXMuZWxlbWVudC5hZGRDbGFzcygianN0cmVlLWNoZWNrYm94LXNlbGVjdGlvbiIpfSx0aGlzKSkub24oImxvYWRpbmcuanN0cmVlIixlLnByb3h5KGZ1bmN0aW9uKCl7dGhpc1t0aGlzLl9kYXRhLmNoZWNrYm94LnZpc2libGU/InNob3dfY2hlY2tib3hlcyI6ImhpZGVfY2hlY2tib3hlcyJdKCl9LHRoaXMpKSwtMSE9PXRoaXMuc2V0dGluZ3MuY2hlY2tib3guY2FzY2FkZS5pbmRleE9mKCJ1bmRldGVybWluZWQiKSYmdGhpcy5lbGVtZW50Lm9uKCJjaGFuZ2VkLmpzdHJlZSB1bmNoZWNrX25vZGUuanN0cmVlIGNoZWNrX25vZGUuanN0cmVlIHVuY2hlY2tfYWxsLmpzdHJlZSBjaGVja19hbGwuanN0cmVlIG1vdmVfbm9kZS5qc3RyZWUgY29weV9ub2RlLmpzdHJlZSByZWRyYXcuanN0cmVlIG9wZW5fbm9kZS5qc3RyZWUiLGUucHJveHkoZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNoZWNrYm94LnV0byYmY2xlYXJUaW1lb3V0KHRoaXMuX2RhdGEuY2hlY2tib3gudXRvKSx0aGlzLl9kYXRhLmNoZWNrYm94LnV0bz1zZXRUaW1lb3V0KGUucHJveHkodGhpcy5fdW5kZXRlcm1pbmVkLHRoaXMpLDUwKX0sdGhpcykpLHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbnx8dGhpcy5lbGVtZW50Lm9uKCJtb2RlbC5qc3RyZWUiLGUucHJveHkoZnVuY3Rpb24oZSx0KXt2YXIgbixhLGk9dGhpcy5fbW9kZWwuZGF0YSxyPShpW3QucGFyZW50XSx0Lm5vZGVzKTtmb3Iobj0wLGE9ci5sZW5ndGg7YT5uO24rKylpW3Jbbl1dLnN0YXRlLmNoZWNrZWQ9aVtyW25dXS5vcmlnaW5hbCYmaVtyW25dXS5vcmlnaW5hbC5zdGF0ZSYmaVtyW25dXS5vcmlnaW5hbC5zdGF0ZS5jaGVja2VkLGlbcltuXV0uc3RhdGUuY2hlY2tlZCYmdGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZC5wdXNoKHJbbl0pfSx0aGlzKSksKC0xIT09dGhpcy5zZXR0aW5ncy5jaGVja2JveC5jYXNjYWRlLmluZGV4T2YoInVwIil8fC0xIT09dGhpcy5zZXR0aW5ncy5jaGVja2JveC5jYXNjYWRlLmluZGV4T2YoImRvd24iKSkmJnRoaXMuZWxlbWVudC5vbigibW9kZWwuanN0cmVlIixlLnByb3h5KGZ1bmN0aW9uKHQsaSl7dmFyIGQsbyxjLGwsaCxfLHM9dGhpcy5fbW9kZWwuZGF0YSxyPXNbaS5wYXJlbnRdLG49aS5ub2RlcyxhPVtdLHU9dGhpcy5zZXR0aW5ncy5jaGVja2JveC5jYXNjYWRlLGc9dGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uO2lmKC0xIT09dS5pbmRleE9mKCJkb3duIikpaWYoci5zdGF0ZVtnPyJzZWxlY3RlZCI6ImNoZWNrZWQiXSl7Zm9yKG89MCxjPW4ubGVuZ3RoO2M+bztvKyspc1tuW29dXS5zdGF0ZVtnPyJzZWxlY3RlZCI6ImNoZWNrZWQiXT0hMDt0aGlzLl9kYXRhW2c/ImNvcmUiOiJjaGVja2JveCJdLnNlbGVjdGVkPXRoaXMuX2RhdGFbZz8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWQuY29uY2F0KG4pfWVsc2UgZm9yKG89MCxjPW4ubGVuZ3RoO2M+bztvKyspaWYoc1tuW29dXS5zdGF0ZVtnPyJzZWxlY3RlZCI6ImNoZWNrZWQiXSl7Zm9yKGw9MCxoPXNbbltvXV0uY2hpbGRyZW5fZC5sZW5ndGg7aD5sO2wrKylzW3NbbltvXV0uY2hpbGRyZW5fZFtsXV0uc3RhdGVbZz8ic2VsZWN0ZWQiOiJjaGVja2VkIl09ITA7dGhpcy5fZGF0YVtnPyJjb3JlIjoiY2hlY2tib3giXS5zZWxlY3RlZD10aGlzLl9kYXRhW2c/ImNvcmUiOiJjaGVja2JveCJdLnNlbGVjdGVkLmNvbmNhdChzW25bb11dLmNoaWxkcmVuX2QpfWlmKC0xIT09dS5pbmRleE9mKCJ1cCIpKXtmb3Iobz0wLGM9ci5jaGlsZHJlbl9kLmxlbmd0aDtjPm87bysrKXNbci5jaGlsZHJlbl9kW29dXS5jaGlsZHJlbi5sZW5ndGh8fGEucHVzaChzW3IuY2hpbGRyZW5fZFtvXV0ucGFyZW50KTtmb3IoYT1lLnZha2F0YS5hcnJheV91bmlxdWUoYSksbD0wLGg9YS5sZW5ndGg7aD5sO2wrKylmb3Iocj1zW2FbbF1dO3ImJiIjIiE9PXIuaWQ7KXtmb3IoZD0wLG89MCxjPXIuY2hpbGRyZW4ubGVuZ3RoO2M+bztvKyspZCs9c1tyLmNoaWxkcmVuW29dXS5zdGF0ZVtnPyJzZWxlY3RlZCI6ImNoZWNrZWQiXTtpZihkIT09YylicmVhaztyLnN0YXRlW2c/InNlbGVjdGVkIjoiY2hlY2tlZCJdPSEwLHRoaXMuX2RhdGFbZz8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWQucHVzaChyLmlkKSxfPXRoaXMuZ2V0X25vZGUociwhMCksXyYmXy5sZW5ndGgmJl8uY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuYWRkQ2xhc3MoZz8ianN0cmVlLWNsaWNrZWQiOiJqc3RyZWUtY2hlY2tlZCIpLHI9dGhpcy5nZXRfbm9kZShyLnBhcmVudCl9fXRoaXMuX2RhdGFbZz8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWQ9ZS52YWthdGEuYXJyYXlfdW5pcXVlKHRoaXMuX2RhdGFbZz8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWQpfSx0aGlzKSkub24odGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uPyJzZWxlY3Rfbm9kZS5qc3RyZWUiOiJjaGVja19ub2RlLmpzdHJlZSIsZS5wcm94eShmdW5jdGlvbih0LGkpe3ZhciBkLG8sYyxsLHM9aS5ub2RlLHI9dGhpcy5fbW9kZWwuZGF0YSxuPXRoaXMuZ2V0X25vZGUocy5wYXJlbnQpLGE9dGhpcy5nZXRfbm9kZShzLCEwKSxoPXRoaXMuc2V0dGluZ3MuY2hlY2tib3guY2FzY2FkZSxfPXRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbjtpZigtMSE9PWguaW5kZXhPZigiZG93biIpKWZvcih0aGlzLl9kYXRhW18/ImNvcmUiOiJjaGVja2JveCJdLnNlbGVjdGVkPWUudmFrYXRhLmFycmF5X3VuaXF1ZSh0aGlzLl9kYXRhW18/ImNvcmUiOiJjaGVja2JveCJdLnNlbGVjdGVkLmNvbmNhdChzLmNoaWxkcmVuX2QpKSxkPTAsbz1zLmNoaWxkcmVuX2QubGVuZ3RoO28+ZDtkKyspbD1yW3MuY2hpbGRyZW5fZFtkXV0sbC5zdGF0ZVtfPyJzZWxlY3RlZCI6ImNoZWNrZWQiXT0hMCxsJiZsLm9yaWdpbmFsJiZsLm9yaWdpbmFsLnN0YXRlJiZsLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZCYmKGwub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkPSExKTtpZigtMSE9PWguaW5kZXhPZigidXAiKSlmb3IoO24mJiIjIiE9PW4uaWQ7KXtmb3IoYz0wLGQ9MCxvPW4uY2hpbGRyZW4ubGVuZ3RoO28+ZDtkKyspYys9cltuLmNoaWxkcmVuW2RdXS5zdGF0ZVtfPyJzZWxlY3RlZCI6ImNoZWNrZWQiXTtpZihjIT09bylicmVhaztuLnN0YXRlW18/InNlbGVjdGVkIjoiY2hlY2tlZCJdPSEwLHRoaXMuX2RhdGFbXz8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWQucHVzaChuLmlkKSxsPXRoaXMuZ2V0X25vZGUobiwhMCksbCYmbC5sZW5ndGgmJmwuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuYWRkQ2xhc3MoXz8ianN0cmVlLWNsaWNrZWQiOiJqc3RyZWUtY2hlY2tlZCIpLG49dGhpcy5nZXRfbm9kZShuLnBhcmVudCl9LTEhPT1oLmluZGV4T2YoImRvd24iKSYmYS5sZW5ndGgmJmEuZmluZCgiLmpzdHJlZS1hbmNob3IiKS5hZGRDbGFzcyhfPyJqc3RyZWUtY2xpY2tlZCI6ImpzdHJlZS1jaGVja2VkIil9LHRoaXMpKS5vbih0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24/ImRlc2VsZWN0X2FsbC5qc3RyZWUiOiJ1bmNoZWNrX2FsbC5qc3RyZWUiLGUucHJveHkoZnVuY3Rpb24oKXt2YXIgcixuLGEsaT10aGlzLmdldF9ub2RlKCIjIikscz10aGlzLl9tb2RlbC5kYXRhO2ZvcihyPTAsbj1pLmNoaWxkcmVuX2QubGVuZ3RoO24+cjtyKyspYT1zW2kuY2hpbGRyZW5fZFtyXV0sYSYmYS5vcmlnaW5hbCYmYS5vcmlnaW5hbC5zdGF0ZSYmYS5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQmJihhLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZD0hMSl9LHRoaXMpKS5vbih0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24/ImRlc2VsZWN0X25vZGUuanN0cmVlIjoidW5jaGVja19ub2RlLmpzdHJlZSIsZS5wcm94eShmdW5jdGlvbih0LGkpe3ZhciBuLGEsZCxzPWkubm9kZSxyPXRoaXMuZ2V0X25vZGUocywhMCksbz10aGlzLnNldHRpbmdzLmNoZWNrYm94LmNhc2NhZGUsYz10aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb247aWYocyYmcy5vcmlnaW5hbCYmcy5vcmlnaW5hbC5zdGF0ZSYmcy5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQmJihzLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZD0hMSksLTEhPT1vLmluZGV4T2YoImRvd24iKSlmb3Iobj0wLGE9cy5jaGlsZHJlbl9kLmxlbmd0aDthPm47bisrKWQ9dGhpcy5fbW9kZWwuZGF0YVtzLmNoaWxkcmVuX2Rbbl1dLGQuc3RhdGVbYz8ic2VsZWN0ZWQiOiJjaGVja2VkIl09ITEsZCYmZC5vcmlnaW5hbCYmZC5vcmlnaW5hbC5zdGF0ZSYmZC5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQmJihkLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZD0hMSk7aWYoLTEhPT1vLmluZGV4T2YoInVwIikpZm9yKG49MCxhPXMucGFyZW50cy5sZW5ndGg7YT5uO24rKylkPXRoaXMuX21vZGVsLmRhdGFbcy5wYXJlbnRzW25dXSxkLnN0YXRlW2M/InNlbGVjdGVkIjoiY2hlY2tlZCJdPSExLGQmJmQub3JpZ2luYWwmJmQub3JpZ2luYWwuc3RhdGUmJmQub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkJiYoZC5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQ9ITEpLGQ9dGhpcy5nZXRfbm9kZShzLnBhcmVudHNbbl0sITApLGQmJmQubGVuZ3RoJiZkLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLnJlbW92ZUNsYXNzKGM/ImpzdHJlZS1jbGlja2VkIjoianN0cmVlLWNoZWNrZWQiKTtmb3IoZD1bXSxuPTAsYT10aGlzLl9kYXRhW2M/ImNvcmUiOiJjaGVja2JveCJdLnNlbGVjdGVkLmxlbmd0aDthPm47bisrKS0xIT09by5pbmRleE9mKCJkb3duIikmJi0xIT09ZS5pbkFycmF5KHRoaXMuX2RhdGFbYz8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWRbbl0scy5jaGlsZHJlbl9kKXx8LTEhPT1vLmluZGV4T2YoInVwIikmJi0xIT09ZS5pbkFycmF5KHRoaXMuX2RhdGFbYz8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWRbbl0scy5wYXJlbnRzKXx8ZC5wdXNoKHRoaXMuX2RhdGFbYz8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWRbbl0pO3RoaXMuX2RhdGFbYz8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWQ9ZS52YWthdGEuYXJyYXlfdW5pcXVlKGQpLC0xIT09by5pbmRleE9mKCJkb3duIikmJnIubGVuZ3RoJiZyLmZpbmQoIi5qc3RyZWUtYW5jaG9yIikucmVtb3ZlQ2xhc3MoYz8ianN0cmVlLWNsaWNrZWQiOiJqc3RyZWUtY2hlY2tlZCIpfSx0aGlzKSksLTEhPT10aGlzLnNldHRpbmdzLmNoZWNrYm94LmNhc2NhZGUuaW5kZXhPZigidXAiKSYmdGhpcy5lbGVtZW50Lm9uKCJkZWxldGVfbm9kZS5qc3RyZWUiLGUucHJveHkoZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsbixhLGQsaT10aGlzLmdldF9ub2RlKHQucGFyZW50KSxzPXRoaXMuX21vZGVsLmRhdGEsbz10aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb247aSYmIiMiIT09aS5pZDspe2ZvcihhPTAscj0wLG49aS5jaGlsZHJlbi5sZW5ndGg7bj5yO3IrKylhKz1zW2kuY2hpbGRyZW5bcl1dLnN0YXRlW28/InNlbGVjdGVkIjoiY2hlY2tlZCJdO2lmKGEhPT1uKWJyZWFrO2kuc3RhdGVbbz8ic2VsZWN0ZWQiOiJjaGVja2VkIl09ITAsdGhpcy5fZGF0YVtvPyJjb3JlIjoiY2hlY2tib3giXS5zZWxlY3RlZC5wdXNoKGkuaWQpLGQ9dGhpcy5nZXRfbm9kZShpLCEwKSxkJiZkLmxlbmd0aCYmZC5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5hZGRDbGFzcyhvPyJqc3RyZWUtY2xpY2tlZCI6ImpzdHJlZS1jaGVja2VkIiksaT10aGlzLmdldF9ub2RlKGkucGFyZW50KX19LHRoaXMpKS5vbigibW92ZV9ub2RlLmpzdHJlZSIsZS5wcm94eShmdW5jdGlvbih0LGkpe3ZhciBkLG8sYyxsLGgscz1pLmlzX211bHRpLHI9aS5vbGRfcGFyZW50LG49dGhpcy5nZXRfbm9kZShpLnBhcmVudCksYT10aGlzLl9tb2RlbC5kYXRhLF89dGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uO2lmKCFzKWZvcihkPXRoaXMuZ2V0X25vZGUocik7ZCYmIiMiIT09ZC5pZDspe2ZvcihvPTAsYz0wLGw9ZC5jaGlsZHJlbi5sZW5ndGg7bD5jO2MrKylvKz1hW2QuY2hpbGRyZW5bY11dLnN0YXRlW18/InNlbGVjdGVkIjoiY2hlY2tlZCJdO2lmKG8hPT1sKWJyZWFrO2Quc3RhdGVbXz8ic2VsZWN0ZWQiOiJjaGVja2VkIl09ITAsdGhpcy5fZGF0YVtfPyJjb3JlIjoiY2hlY2tib3giXS5zZWxlY3RlZC5wdXNoKGQuaWQpLGg9dGhpcy5nZXRfbm9kZShkLCEwKSxoJiZoLmxlbmd0aCYmaC5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5hZGRDbGFzcyhfPyJqc3RyZWUtY2xpY2tlZCI6ImpzdHJlZS1jaGVja2VkIiksZD10aGlzLmdldF9ub2RlKGQucGFyZW50KQp9Zm9yKGQ9bjtkJiYiIyIhPT1kLmlkOyl7Zm9yKG89MCxjPTAsbD1kLmNoaWxkcmVuLmxlbmd0aDtsPmM7YysrKW8rPWFbZC5jaGlsZHJlbltjXV0uc3RhdGVbXz8ic2VsZWN0ZWQiOiJjaGVja2VkIl07aWYobz09PWwpZC5zdGF0ZVtfPyJzZWxlY3RlZCI6ImNoZWNrZWQiXXx8KGQuc3RhdGVbXz8ic2VsZWN0ZWQiOiJjaGVja2VkIl09ITAsdGhpcy5fZGF0YVtfPyJjb3JlIjoiY2hlY2tib3giXS5zZWxlY3RlZC5wdXNoKGQuaWQpLGg9dGhpcy5nZXRfbm9kZShkLCEwKSxoJiZoLmxlbmd0aCYmaC5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5hZGRDbGFzcyhfPyJqc3RyZWUtY2xpY2tlZCI6ImpzdHJlZS1jaGVja2VkIikpO2Vsc2V7aWYoIWQuc3RhdGVbXz8ic2VsZWN0ZWQiOiJjaGVja2VkIl0pYnJlYWs7ZC5zdGF0ZVtfPyJzZWxlY3RlZCI6ImNoZWNrZWQiXT0hMSx0aGlzLl9kYXRhW18/ImNvcmUiOiJjaGVja2JveCJdLnNlbGVjdGVkPWUudmFrYXRhLmFycmF5X3JlbW92ZV9pdGVtKHRoaXMuX2RhdGFbXz8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWQsZC5pZCksaD10aGlzLmdldF9ub2RlKGQsITApLGgmJmgubGVuZ3RoJiZoLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLnJlbW92ZUNsYXNzKF8/ImpzdHJlZS1jbGlja2VkIjoianN0cmVlLWNoZWNrZWQiKX1kPXRoaXMuZ2V0X25vZGUoZC5wYXJlbnQpfX0sdGhpcykpfSx0aGlzLl91bmRldGVybWluZWQ9ZnVuY3Rpb24oKXt2YXIgdCxpLHM9dGhpcy5fbW9kZWwuZGF0YSxyPXRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbixuPXRoaXMuX2RhdGFbcj8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWQsYT1bXSxkPXRoaXM7Zm9yKHQ9MCxpPW4ubGVuZ3RoO2k+dDt0Kyspc1tuW3RdXSYmc1tuW3RdXS5wYXJlbnRzJiYoYT1hLmNvbmNhdChzW25bdF1dLnBhcmVudHMpKTtmb3IodGhpcy5lbGVtZW50LmZpbmQoIi5qc3RyZWUtY2xvc2VkIikubm90KCI6aGFzKC5qc3RyZWUtY2hpbGRyZW4pIikuZWFjaChmdW5jdGlvbigpe3ZhciByLGU9ZC5nZXRfbm9kZSh0aGlzKTtpZihlLnN0YXRlLmxvYWRlZClmb3IodD0wLGk9ZS5jaGlsZHJlbl9kLmxlbmd0aDtpPnQ7dCsrKXI9c1tlLmNoaWxkcmVuX2RbdF1dLCFyLnN0YXRlLmxvYWRlZCYmci5vcmlnaW5hbCYmci5vcmlnaW5hbC5zdGF0ZSYmci5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQmJnIub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkPT09ITAmJihhLnB1c2goci5pZCksYT1hLmNvbmNhdChyLnBhcmVudHMpKTtlbHNlIGUub3JpZ2luYWwmJmUub3JpZ2luYWwuc3RhdGUmJmUub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkJiZlLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZD09PSEwJiYoYS5wdXNoKGUuaWQpLGE9YS5jb25jYXQoZS5wYXJlbnRzKSl9KSxhPWUudmFrYXRhLmFycmF5X3VuaXF1ZShhKSxhPWUudmFrYXRhLmFycmF5X3JlbW92ZV9pdGVtKGEsIiMiKSx0aGlzLmVsZW1lbnQuZmluZCgiLmpzdHJlZS11bmRldGVybWluZWQiKS5yZW1vdmVDbGFzcygianN0cmVlLXVuZGV0ZXJtaW5lZCIpLHQ9MCxpPWEubGVuZ3RoO2k+dDt0Kyspc1thW3RdXS5zdGF0ZVtyPyJzZWxlY3RlZCI6ImNoZWNrZWQiXXx8KG49dGhpcy5nZXRfbm9kZShhW3RdLCEwKSxuJiZuLmxlbmd0aCYmbi5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5jaGlsZHJlbigiLmpzdHJlZS1jaGVja2JveCIpLmFkZENsYXNzKCJqc3RyZWUtdW5kZXRlcm1pbmVkIikpfSx0aGlzLnJlZHJhd19ub2RlPWZ1bmN0aW9uKHQsaSxyKXtpZih0PXMucmVkcmF3X25vZGUuY2FsbCh0aGlzLHQsaSxyKSl7dmFyIG4sYSxkPW51bGw7Zm9yKG49MCxhPXQuY2hpbGROb2Rlcy5sZW5ndGg7YT5uO24rKylpZih0LmNoaWxkTm9kZXNbbl0mJnQuY2hpbGROb2Rlc1tuXS5jbGFzc05hbWUmJi0xIT09dC5jaGlsZE5vZGVzW25dLmNsYXNzTmFtZS5pbmRleE9mKCJqc3RyZWUtYW5jaG9yIikpe2Q9dC5jaGlsZE5vZGVzW25dO2JyZWFrfWQmJighdGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uJiZ0aGlzLl9tb2RlbC5kYXRhW3QuaWRdLnN0YXRlLmNoZWNrZWQmJihkLmNsYXNzTmFtZSs9IiBqc3RyZWUtY2hlY2tlZCIpLGQuaW5zZXJ0QmVmb3JlKF8uY2xvbmVOb2RlKCExKSxkLmNoaWxkTm9kZXNbMF0pKX1yZXR1cm4gcnx8LTE9PT10aGlzLnNldHRpbmdzLmNoZWNrYm94LmNhc2NhZGUuaW5kZXhPZigidW5kZXRlcm1pbmVkIil8fCh0aGlzLl9kYXRhLmNoZWNrYm94LnV0byYmY2xlYXJUaW1lb3V0KHRoaXMuX2RhdGEuY2hlY2tib3gudXRvKSx0aGlzLl9kYXRhLmNoZWNrYm94LnV0bz1zZXRUaW1lb3V0KGUucHJveHkodGhpcy5fdW5kZXRlcm1pbmVkLHRoaXMpLDUwKSksdH0sdGhpcy5zaG93X2NoZWNrYm94ZXM9ZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmNoZWNrYm94ZXM9ITAsdGhpcy5nZXRfY29udGFpbmVyX3VsKCkucmVtb3ZlQ2xhc3MoImpzdHJlZS1uby1jaGVja2JveGVzIil9LHRoaXMuaGlkZV9jaGVja2JveGVzPWZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5jaGVja2JveGVzPSExLHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLmFkZENsYXNzKCJqc3RyZWUtbm8tY2hlY2tib3hlcyIpfSx0aGlzLnRvZ2dsZV9jaGVja2JveGVzPWZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5jaGVja2JveGVzP3RoaXMuaGlkZV9jaGVja2JveGVzKCk6dGhpcy5zaG93X2NoZWNrYm94ZXMoKX0sdGhpcy5pc191bmRldGVybWluZWQ9ZnVuY3Rpb24odCl7dD10aGlzLmdldF9ub2RlKHQpO3ZhciBzLHIsaT10aGlzLnNldHRpbmdzLmNoZWNrYm94LmNhc2NhZGUsbj10aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24sYT10aGlzLl9kYXRhW24/ImNvcmUiOiJjaGVja2JveCJdLnNlbGVjdGVkLGQ9dGhpcy5fbW9kZWwuZGF0YTtpZighdHx8dC5zdGF0ZVtuPyJzZWxlY3RlZCI6ImNoZWNrZWQiXT09PSEwfHwtMT09PWkuaW5kZXhPZigidW5kZXRlcm1pbmVkIil8fC0xPT09aS5pbmRleE9mKCJkb3duIikmJi0xPT09aS5pbmRleE9mKCJ1cCIpKXJldHVybiExO2lmKCF0LnN0YXRlLmxvYWRlZCYmdC5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQ9PT0hMClyZXR1cm4hMDtmb3Iocz0wLHI9dC5jaGlsZHJlbl9kLmxlbmd0aDtyPnM7cysrKWlmKC0xIT09ZS5pbkFycmF5KHQuY2hpbGRyZW5fZFtzXSxhKXx8IWRbdC5jaGlsZHJlbl9kW3NdXS5zdGF0ZS5sb2FkZWQmJmRbdC5jaGlsZHJlbl9kW3NdXS5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQpcmV0dXJuITA7cmV0dXJuITF9LHRoaXMuYWN0aXZhdGVfbm9kZT1mdW5jdGlvbihpLHIpe3JldHVybiB0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24mJih0aGlzLnNldHRpbmdzLmNoZWNrYm94Lndob2xlX25vZGV8fGUoci50YXJnZXQpLmhhc0NsYXNzKCJqc3RyZWUtY2hlY2tib3giKSkmJihyLmN0cmxLZXk9ITApLHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbnx8IXRoaXMuc2V0dGluZ3MuY2hlY2tib3gud2hvbGVfbm9kZSYmIWUoci50YXJnZXQpLmhhc0NsYXNzKCJqc3RyZWUtY2hlY2tib3giKT9zLmFjdGl2YXRlX25vZGUuY2FsbCh0aGlzLGkscik6KHRoaXMuaXNfY2hlY2tlZChpKT90aGlzLnVuY2hlY2tfbm9kZShpLHIpOnRoaXMuY2hlY2tfbm9kZShpLHIpLHRoaXMudHJpZ2dlcigiYWN0aXZhdGVfbm9kZSIse25vZGU6dGhpcy5nZXRfbm9kZShpKX0pLHQpfSx0aGlzLmNoZWNrX25vZGU9ZnVuY3Rpb24oaSxzKXtpZih0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24pcmV0dXJuIHRoaXMuc2VsZWN0X25vZGUoaSwhMSwhMCxzKTt2YXIgcixuLGE7aWYoZS5pc0FycmF5KGkpKXtmb3IoaT1pLnNsaWNlKCksbj0wLGE9aS5sZW5ndGg7YT5uO24rKyl0aGlzLmNoZWNrX25vZGUoaVtuXSxzKTtyZXR1cm4hMH1yZXR1cm4gaT10aGlzLmdldF9ub2RlKGkpLGkmJiIjIiE9PWkuaWQ/KHI9dGhpcy5nZXRfbm9kZShpLCEwKSxpLnN0YXRlLmNoZWNrZWR8fChpLnN0YXRlLmNoZWNrZWQ9ITAsdGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZC5wdXNoKGkuaWQpLHImJnIubGVuZ3RoJiZyLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLmFkZENsYXNzKCJqc3RyZWUtY2hlY2tlZCIpLHRoaXMudHJpZ2dlcigiY2hlY2tfbm9kZSIse25vZGU6aSxzZWxlY3RlZDp0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkLGV2ZW50OnN9KSksdCk6ITF9LHRoaXMudW5jaGVja19ub2RlPWZ1bmN0aW9uKGkscyl7aWYodGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uKXJldHVybiB0aGlzLmRlc2VsZWN0X25vZGUoaSwhMSxzKTt2YXIgcixuLGE7aWYoZS5pc0FycmF5KGkpKXtmb3IoaT1pLnNsaWNlKCkscj0wLG49aS5sZW5ndGg7bj5yO3IrKyl0aGlzLnVuY2hlY2tfbm9kZShpW3JdLHMpO3JldHVybiEwfXJldHVybiBpPXRoaXMuZ2V0X25vZGUoaSksaSYmIiMiIT09aS5pZD8oYT10aGlzLmdldF9ub2RlKGksITApLGkuc3RhdGUuY2hlY2tlZCYmKGkuc3RhdGUuY2hlY2tlZD0hMSx0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkPWUudmFrYXRhLmFycmF5X3JlbW92ZV9pdGVtKHRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQsaS5pZCksYS5sZW5ndGgmJmEuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikucmVtb3ZlQ2xhc3MoImpzdHJlZS1jaGVja2VkIiksdGhpcy50cmlnZ2VyKCJ1bmNoZWNrX25vZGUiLHtub2RlOmksc2VsZWN0ZWQ6dGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZCxldmVudDpzfSkpLHQpOiExfSx0aGlzLmNoZWNrX2FsbD1mdW5jdGlvbigpe2lmKHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbilyZXR1cm4gdGhpcy5zZWxlY3RfYWxsKCk7e3ZhciB0LGk7dGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZC5jb25jYXQoW10pfWZvcih0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkPXRoaXMuX21vZGVsLmRhdGFbIiMiXS5jaGlsZHJlbl9kLmNvbmNhdCgpLHQ9MCxpPXRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQubGVuZ3RoO2k+dDt0KyspdGhpcy5fbW9kZWwuZGF0YVt0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkW3RdXSYmKHRoaXMuX21vZGVsLmRhdGFbdGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZFt0XV0uc3RhdGUuY2hlY2tlZD0hMCk7dGhpcy5yZWRyYXcoITApLHRoaXMudHJpZ2dlcigiY2hlY2tfYWxsIix7c2VsZWN0ZWQ6dGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZH0pfSx0aGlzLnVuY2hlY2tfYWxsPWZ1bmN0aW9uKCl7aWYodGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uKXJldHVybiB0aGlzLmRlc2VsZWN0X2FsbCgpO3ZhciB0LGksZT10aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkLmNvbmNhdChbXSk7Zm9yKHQ9MCxpPXRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQubGVuZ3RoO2k+dDt0KyspdGhpcy5fbW9kZWwuZGF0YVt0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkW3RdXSYmKHRoaXMuX21vZGVsLmRhdGFbdGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZFt0XV0uc3RhdGUuY2hlY2tlZD0hMSk7dGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZD1bXSx0aGlzLmVsZW1lbnQuZmluZCgiLmpzdHJlZS1jaGVja2VkIikucmVtb3ZlQ2xhc3MoImpzdHJlZS1jaGVja2VkIiksdGhpcy50cmlnZ2VyKCJ1bmNoZWNrX2FsbCIse3NlbGVjdGVkOnRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQsbm9kZTplfSl9LHRoaXMuaXNfY2hlY2tlZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uP3RoaXMuaXNfc2VsZWN0ZWQoZSk6KGU9dGhpcy5nZXRfbm9kZShlKSxlJiYiIyIhPT1lLmlkP2Uuc3RhdGUuY2hlY2tlZDohMSl9LHRoaXMuZ2V0X2NoZWNrZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbj90aGlzLmdldF9zZWxlY3RlZCh0KTp0P2UubWFwKHRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQsZS5wcm94eShmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRfbm9kZShlKX0sdGhpcykpOnRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWR9LHRoaXMuZ2V0X3RvcF9jaGVja2VkPWZ1bmN0aW9uKHQpe2lmKHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbilyZXR1cm4gdGhpcy5nZXRfdG9wX3NlbGVjdGVkKHQpO3ZhciByLG4sYSxkLGk9dGhpcy5nZXRfY2hlY2tlZCghMCkscz17fTtmb3Iocj0wLG49aS5sZW5ndGg7bj5yO3IrKylzW2lbcl0uaWRdPWlbcl07Zm9yKHI9MCxuPWkubGVuZ3RoO24+cjtyKyspZm9yKGE9MCxkPWlbcl0uY2hpbGRyZW5fZC5sZW5ndGg7ZD5hO2ErKylzW2lbcl0uY2hpbGRyZW5fZFthXV0mJmRlbGV0ZSBzW2lbcl0uY2hpbGRyZW5fZFthXV07aT1bXTtmb3IociBpbiBzKXMuaGFzT3duUHJvcGVydHkocikmJmkucHVzaChyKTtyZXR1cm4gdD9lLm1hcChpLGUucHJveHkoZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0X25vZGUoZSl9LHRoaXMpKTppfSx0aGlzLmdldF9ib3R0b21fY2hlY2tlZD1mdW5jdGlvbih0KXtpZih0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24pcmV0dXJuIHRoaXMuZ2V0X2JvdHRvbV9zZWxlY3RlZCh0KTt2YXIgcixuLGk9dGhpcy5nZXRfY2hlY2tlZCghMCkscz1bXTtmb3Iocj0wLG49aS5sZW5ndGg7bj5yO3IrKylpW3JdLmNoaWxkcmVuLmxlbmd0aHx8cy5wdXNoKGlbcl0uaWQpO3JldHVybiB0P2UubWFwKHMsZS5wcm94eShmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRfbm9kZShlKX0sdGhpcykpOnN9fSxlLmpzdHJlZS5kZWZhdWx0cy5jb250ZXh0bWVudT17c2VsZWN0X25vZGU6ITAsc2hvd19hdF9ub2RlOiEwLGl0ZW1zOmZ1bmN0aW9uKCl7cmV0dXJue2NyZWF0ZTp7c2VwYXJhdG9yX2JlZm9yZTohMSxzZXBhcmF0b3JfYWZ0ZXI6ITAsX2Rpc2FibGVkOiExLGxhYmVsOiJDcmVhdGUiLGFjdGlvbjpmdW5jdGlvbih0KXt2YXIgaT1lLmpzdHJlZS5yZWZlcmVuY2UodC5yZWZlcmVuY2UpLHM9aS5nZXRfbm9kZSh0LnJlZmVyZW5jZSk7aS5jcmVhdGVfbm9kZShzLHt9LCJsYXN0IixmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5lZGl0KGUpfSwwKX0pfX0scmVuYW1lOntzZXBhcmF0b3JfYmVmb3JlOiExLHNlcGFyYXRvcl9hZnRlcjohMSxfZGlzYWJsZWQ6ITEsbGFiZWw6IlJlbmFtZSIsYWN0aW9uOmZ1bmN0aW9uKHQpe3ZhciBpPWUuanN0cmVlLnJlZmVyZW5jZSh0LnJlZmVyZW5jZSkscz1pLmdldF9ub2RlKHQucmVmZXJlbmNlKTtpLmVkaXQocyl9fSxyZW1vdmU6e3NlcGFyYXRvcl9iZWZvcmU6ITEsaWNvbjohMSxzZXBhcmF0b3JfYWZ0ZXI6ITEsX2Rpc2FibGVkOiExLGxhYmVsOiJEZWxldGUiLGFjdGlvbjpmdW5jdGlvbih0KXt2YXIgaT1lLmpzdHJlZS5yZWZlcmVuY2UodC5yZWZlcmVuY2UpLHM9aS5nZXRfbm9kZSh0LnJlZmVyZW5jZSk7aS5kZWxldGVfbm9kZShpLmlzX3NlbGVjdGVkKHMpP2kuZ2V0X3NlbGVjdGVkKCk6cyl9fSxjY3A6e3NlcGFyYXRvcl9iZWZvcmU6ITAsaWNvbjohMSxzZXBhcmF0b3JfYWZ0ZXI6ITEsbGFiZWw6IkVkaXQiLGFjdGlvbjohMSxzdWJtZW51OntjdXQ6e3NlcGFyYXRvcl9iZWZvcmU6ITEsc2VwYXJhdG9yX2FmdGVyOiExLGxhYmVsOiJDdXQiLGFjdGlvbjpmdW5jdGlvbih0KXt2YXIgaT1lLmpzdHJlZS5yZWZlcmVuY2UodC5yZWZlcmVuY2UpLHM9aS5nZXRfbm9kZSh0LnJlZmVyZW5jZSk7aS5jdXQoaS5pc19zZWxlY3RlZChzKT9pLmdldF9zZWxlY3RlZCgpOnMpfX0sY29weTp7c2VwYXJhdG9yX2JlZm9yZTohMSxpY29uOiExLHNlcGFyYXRvcl9hZnRlcjohMSxsYWJlbDoiQ29weSIsYWN0aW9uOmZ1bmN0aW9uKHQpe3ZhciBpPWUuanN0cmVlLnJlZmVyZW5jZSh0LnJlZmVyZW5jZSkscz1pLmdldF9ub2RlKHQucmVmZXJlbmNlKTtpLmNvcHkoaS5pc19zZWxlY3RlZChzKT9pLmdldF9zZWxlY3RlZCgpOnMpfX0scGFzdGU6e3NlcGFyYXRvcl9iZWZvcmU6ITEsaWNvbjohMSxfZGlzYWJsZWQ6ZnVuY3Rpb24odCl7cmV0dXJuIWUuanN0cmVlLnJlZmVyZW5jZSh0LnJlZmVyZW5jZSkuY2FuX3Bhc3RlKCl9LHNlcGFyYXRvcl9hZnRlcjohMSxsYWJlbDoiUGFzdGUiLGFjdGlvbjpmdW5jdGlvbih0KXt2YXIgaT1lLmpzdHJlZS5yZWZlcmVuY2UodC5yZWZlcmVuY2UpLHM9aS5nZXRfbm9kZSh0LnJlZmVyZW5jZSk7aS5wYXN0ZShzKX19fX19fX0sZS5qc3RyZWUucGx1Z2lucy5jb250ZXh0bWVudT1mdW5jdGlvbihpLHMpe3RoaXMuYmluZD1mdW5jdGlvbigpe3MuYmluZC5jYWxsKHRoaXMpO3ZhciB0PTA7dGhpcy5lbGVtZW50Lm9uKCJjb250ZXh0bWVudS5qc3RyZWUiLCIuanN0cmVlLWFuY2hvciIsZS5wcm94eShmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksdD1lLmN0cmxLZXk/ZS50aW1lU3RhbXA6MCx0aGlzLmlzX2xvYWRpbmcoZS5jdXJyZW50VGFyZ2V0KXx8dGhpcy5zaG93X2NvbnRleHRtZW51KGUuY3VycmVudFRhcmdldCxlLnBhZ2VYLGUucGFnZVksZSl9LHRoaXMpKS5vbigiY2xpY2suanN0cmVlIiwiLmpzdHJlZS1hbmNob3IiLGUucHJveHkoZnVuY3Rpb24oaSl7dGhpcy5fZGF0YS5jb250ZXh0bWVudS52aXNpYmxlJiYoIXR8fGkudGltZVN0YW1wLXQ+MjUwKSYmZS52YWthdGEuY29udGV4dC5oaWRlKCl9LHRoaXMpKSxlKGRvY3VtZW50KS5vbigiY29udGV4dF9oaWRlLnZha2F0YS5qc3RyZWUiLGUucHJveHkoZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvbnRleHRtZW51LnZpc2libGU9ITF9LHRoaXMpKX0sdGhpcy50ZWFyZG93bj1mdW5jdGlvbigpe3RoaXMuX2RhdGEuY29udGV4dG1lbnUudmlzaWJsZSYmZS52YWthdGEuY29udGV4dC5oaWRlKCkscy50ZWFyZG93bi5jYWxsKHRoaXMpfSx0aGlzLnNob3dfY29udGV4dG1lbnU9ZnVuY3Rpb24oaSxzLHIsbil7aWYoaT10aGlzLmdldF9ub2RlKGkpLCFpfHwiIyI9PT1pLmlkKXJldHVybiExO3ZhciBhPXRoaXMuc2V0dGluZ3MuY29udGV4dG1lbnUsZD10aGlzLmdldF9ub2RlKGksITApLG89ZC5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKSxjPSExLGw9ITE7KGEuc2hvd19hdF9ub2RlfHxzPT09dHx8cj09PXQpJiYoYz1vLm9mZnNldCgpLHM9Yy5sZWZ0LHI9Yy50b3ArdGhpcy5fZGF0YS5jb3JlLmxpX2hlaWdodCksdGhpcy5zZXR0aW5ncy5jb250ZXh0bWVudS5zZWxlY3Rfbm9kZSYmIXRoaXMuaXNfc2VsZWN0ZWQoaSkmJnRoaXMuYWN0aXZhdGVfbm9kZShpLG4pLGw9YS5pdGVtcyxlLmlzRnVuY3Rpb24obCkmJihsPWwuY2FsbCh0aGlzLGksZS5wcm94eShmdW5jdGlvbihlKXt0aGlzLl9zaG93X2NvbnRleHRtZW51KGkscyxyLGUpfSx0aGlzKSkpLGUuaXNQbGFpbk9iamVjdChsKSYmdGhpcy5fc2hvd19jb250ZXh0bWVudShpLHMscixsKX0sdGhpcy5fc2hvd19jb250ZXh0bWVudT1mdW5jdGlvbih0LGkscyxyKXt2YXIgbj10aGlzLmdldF9ub2RlKHQsITApLGE9bi5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKTtlKGRvY3VtZW50KS5vbmUoImNvbnRleHRfc2hvdy52YWthdGEuanN0cmVlIixlLnByb3h5KGZ1bmN0aW9uKHQsaSl7dmFyIHM9ImpzdHJlZS1jb250ZXh0bWVudSBqc3RyZWUtIit0aGlzLmdldF90aGVtZSgpKyItY29udGV4dG1lbnUiO2UoaS5lbGVtZW50KS5hZGRDbGFzcyhzKX0sdGhpcykpLHRoaXMuX2RhdGEuY29udGV4dG1lbnUudmlzaWJsZT0hMCxlLnZha2F0YS5jb250ZXh0LnNob3coYSx7eDppLHk6c30sciksdGhpcy50cmlnZ2VyKCJzaG93X2NvbnRleHRtZW51Iix7bm9kZTp0LHg6aSx5OnN9KX19LGZ1bmN0aW9uKGUpe3ZhciBpPSExLHM9e2VsZW1lbnQ6ITEscmVmZXJlbmNlOiExLHBvc2l0aW9uX3g6MCxwb3NpdGlvbl95OjAsaXRlbXM6W10saHRtbDoiIixpc192aXNpYmxlOiExfTtlLnZha2F0YS5jb250ZXh0PXtzZXR0aW5nczp7aGlkZV9vbm1vdXNlbGVhdmU6MCxpY29uczohMH0sX3RyaWdnZXI6ZnVuY3Rpb24odCl7ZShkb2N1bWVudCkudHJpZ2dlckhhbmRsZXIoImNvbnRleHRfIit0KyIudmFrYXRhIix7cmVmZXJlbmNlOnMucmVmZXJlbmNlLGVsZW1lbnQ6cy5lbGVtZW50LHBvc2l0aW9uOnt4OnMucG9zaXRpb25feCx5OnMucG9zaXRpb25feX19KX0sX2V4ZWN1dGU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9cy5pdGVtc1t0XSx0JiYoIXQuX2Rpc2FibGVkfHxlLmlzRnVuY3Rpb24odC5fZGlzYWJsZWQpJiYhdC5fZGlzYWJsZWQoe2l0ZW06dCxyZWZlcmVuY2U6cy5yZWZlcmVuY2UsZWxlbWVudDpzLmVsZW1lbnR9KSkmJnQuYWN0aW9uP3QuYWN0aW9uLmNhbGwobnVsbCx7aXRlbTp0LHJlZmVyZW5jZTpzLnJlZmVyZW5jZSxlbGVtZW50OnMuZWxlbWVudCxwb3NpdGlvbjp7eDpzLnBvc2l0aW9uX3gseTpzLnBvc2l0aW9uX3l9fSk6ITF9LF9wYXJzZTpmdW5jdGlvbihpLHIpe2lmKCFpKXJldHVybiExO3J8fChzLmh0bWw9IiIscy5pdGVtcz1bXSk7dmFyIGQsbj0iIixhPSExO3JldHVybiByJiYobis9Ijx1bD4iKSxlLmVhY2goaSxmdW5jdGlvbihpLHIpe3JldHVybiByPyhzLml0ZW1zLnB1c2gociksIWEmJnIuc2VwYXJhdG9yX2JlZm9yZSYmKG4rPSI8bGkgY2xhc3M9J3Zha2F0YS1jb250ZXh0LXNlcGFyYXRvcic+PGEgaHJlZj0nIycgIisoZS52YWthdGEuY29udGV4dC5zZXR0aW5ncy5pY29ucz8iIjonc3R5bGU9Im1hcmdpbi1sZWZ0OjBweDsiJykrIj4mIzE2MDs8L2E+PC9saT4iKSxhPSExLG4rPSI8bGkgY2xhc3M9JyIrKHIuX2NsYXNzfHwiIikrKHIuX2Rpc2FibGVkPT09ITB8fGUuaXNGdW5jdGlvbihyLl9kaXNhYmxlZCkmJnIuX2Rpc2FibGVkKHtpdGVtOnIscmVmZXJlbmNlOnMucmVmZXJlbmNlLGVsZW1lbnQ6cy5lbGVtZW50fSk/IiB2YWthdGEtY29udGV4dG1lbnUtZGlzYWJsZWQgIjoiIikrIicgIisoci5zaG9ydGN1dD8iIGRhdGEtc2hvcnRjdXQ9JyIrci5zaG9ydGN1dCsiJyAiOiIiKSsiPiIsbis9IjxhIGhyZWY9JyMnIHJlbD0nIisocy5pdGVtcy5sZW5ndGgtMSkrIic+IixlLnZha2F0YS5jb250ZXh0LnNldHRpbmdzLmljb25zJiYobis9IjxpICIsci5pY29uJiYobis9LTEhPT1yLmljb24uaW5kZXhPZigiLyIpfHwtMSE9PXIuaWNvbi5pbmRleE9mKCIuIik/IiBzdHlsZT0nYmFja2dyb3VuZDp1cmwoXCIiK3IuaWNvbisiXCIpIGNlbnRlciBjZW50ZXIgbm8tcmVwZWF0JyAiOiIgY2xhc3M9JyIrci5pY29uKyInICIpLG4rPSI+PC9pPjxzcGFuIGNsYXNzPSd2YWthdGEtY29udGV4dG1lbnUtc2VwJz4mIzE2MDs8L3NwYW4+Iiksbis9KGUuaXNGdW5jdGlvbihyLmxhYmVsKT9yLmxhYmVsKHtpdGVtOmkscmVmZXJlbmNlOnMucmVmZXJlbmNlLGVsZW1lbnQ6cy5lbGVtZW50fSk6ci5sYWJlbCkrKHIuc2hvcnRjdXQ/JyA8c3BhbiBjbGFzcz0idmFrYXRhLWNvbnRleHRtZW51LXNob3J0Y3V0IHZha2F0YS1jb250ZXh0bWVudS1zaG9ydGN1dC0nK3Iuc2hvcnRjdXQrJyI+Jysoci5zaG9ydGN1dF9sYWJlbHx8IiIpKyI8L3NwYW4+IjoiIikrIjwvYT4iLHIuc3VibWVudSYmKGQ9ZS52YWthdGEuY29udGV4dC5fcGFyc2Uoci5zdWJtZW51LCEwKSxkJiYobis9ZCkpLG4rPSI8L2xpPiIsci5zZXBhcmF0b3JfYWZ0ZXImJihuKz0iPGxpIGNsYXNzPSd2YWthdGEtY29udGV4dC1zZXBhcmF0b3InPjxhIGhyZWY9JyMnICIrKGUudmFrYXRhLmNvbnRleHQuc2V0dGluZ3MuaWNvbnM/IiI6J3N0eWxlPSJtYXJnaW4tbGVmdDowcHg7IicpKyI+JiMxNjA7PC9hPjwvbGk+IixhPSEwKSx0KTohMH0pLG49bi5yZXBsYWNlKC88bGkgY2xhc3NcPSd2YWthdGEtY29udGV4dC1zZXBhcmF0b3InXD48XC9saVw+JC8sIiIpLHImJihuKz0iPC91bD4iKSxyfHwocy5odG1sPW4sZS52YWthdGEuY29udGV4dC5fdHJpZ2dlcigicGFyc2UiKSksbi5sZW5ndGg+MTA/bjohMX0sX3Nob3dfc3VibWVudTpmdW5jdGlvbih0KXtpZih0PWUodCksdC5sZW5ndGgmJnQuY2hpbGRyZW4oInVsIikubGVuZ3RoKXt2YXIgcz10LmNoaWxkcmVuKCJ1bCIpLHI9dC5vZmZzZXQoKS5sZWZ0K3Qub3V0ZXJXaWR0aCgpLG49dC5vZmZzZXQoKS50b3AsYT1zLndpZHRoKCksZD1zLmhlaWdodCgpLG89ZSh3aW5kb3cpLndpZHRoKCkrZSh3aW5kb3cpLnNjcm9sbExlZnQoKSxjPWUod2luZG93KS5oZWlnaHQoKStlKHdpbmRvdykuc2Nyb2xsVG9wKCk7aT90WzA+ci0oYSsxMCt0Lm91dGVyV2lkdGgoKSk/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXSgidmFrYXRhLWNvbnRleHQtbGVmdCIpOnRbcithKzEwPm8/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXSgidmFrYXRhLWNvbnRleHQtcmlnaHQiKSxuK2QrMTA+YyYmcy5jc3MoImJvdHRvbSIsIi0xcHgiKSxzLnNob3coKX19LHNob3c6ZnVuY3Rpb24odCxyLG4pe3ZhciBhLGQsbyxjLGwsaCxfLHUsZz0hMDtzd2l0Y2gocy5lbGVtZW50JiZzLmVsZW1lbnQubGVuZ3RoJiZzLmVsZW1lbnQud2lkdGgoIiIpLGcpe2Nhc2UhciYmIXQ6cmV0dXJuITE7Y2FzZSEhciYmISF0OnMucmVmZXJlbmNlPXQscy5wb3NpdGlvbl94PXIueCxzLnBvc2l0aW9uX3k9ci55O2JyZWFrO2Nhc2UhciYmISF0OnMucmVmZXJlbmNlPXQsYT10Lm9mZnNldCgpLHMucG9zaXRpb25feD1hLmxlZnQrdC5vdXRlckhlaWdodCgpLHMucG9zaXRpb25feT1hLnRvcDticmVhaztjYXNlISFyJiYhdDpzLnBvc2l0aW9uX3g9ci54LHMucG9zaXRpb25feT1yLnl9dCYmIW4mJmUodCkuZGF0YSgidmFrYXRhX2NvbnRleHRtZW51IikmJihuPWUodCkuZGF0YSgidmFrYXRhX2NvbnRleHRtZW51IikpLGUudmFrYXRhLmNvbnRleHQuX3BhcnNlKG4pJiZzLmVsZW1lbnQuaHRtbChzLmh0bWwpLHMuaXRlbXMubGVuZ3RoJiYocy5lbGVtZW50LmFwcGVuZFRvKCJib2R5IiksZD1zLmVsZW1lbnQsbz1zLnBvc2l0aW9uX3gsYz1zLnBvc2l0aW9uX3ksbD1kLndpZHRoKCksaD1kLmhlaWdodCgpLF89ZSh3aW5kb3cpLndpZHRoKCkrZSh3aW5kb3cpLnNjcm9sbExlZnQoKSx1PWUod2luZG93KS5oZWlnaHQoKStlKHdpbmRvdykuc2Nyb2xsVG9wKCksaSYmKG8tPWQub3V0ZXJXaWR0aCgpLGUod2luZG93KS5zY3JvbGxMZWZ0KCkrMjA+byYmKG89ZSh3aW5kb3cpLnNjcm9sbExlZnQoKSsyMCkpLG8rbCsyMD5fJiYobz1fLShsKzIwKSksYytoKzIwPnUmJihjPXUtKGgrMjApKSxzLmVsZW1lbnQuY3NzKHtsZWZ0Om8sdG9wOmN9KS5zaG93KCkuZmluZCgiYTplcSgwKSIpLmZvY3VzKCkucGFyZW50KCkuYWRkQ2xhc3MoInZha2F0YS1jb250ZXh0LWhvdmVyIikscy5pc192aXNpYmxlPSEwLGUudmFrYXRhLmNvbnRleHQuX3RyaWdnZXIoInNob3ciKSl9LGhpZGU6ZnVuY3Rpb24oKXtzLmlzX3Zpc2libGUmJihzLmVsZW1lbnQuaGlkZSgpLmZpbmQoInVsIikuaGlkZSgpLmVuZCgpLmZpbmQoIjpmb2N1cyIpLmJsdXIoKS5lbmQoKS5kZXRhY2goKSxzLmlzX3Zpc2libGU9ITEsZS52YWthdGEuY29udGV4dC5fdHJpZ2dlcigiaGlkZSIpKX19LGUoZnVuY3Rpb24oKXtpPSJydGwiPT09ZSgiYm9keSIpLmNzcygiZGlyZWN0aW9uIik7dmFyIHQ9ITE7cy5lbGVtZW50PWUoIjx1bCBjbGFzcz0ndmFrYXRhLWNvbnRleHQnPjwvdWw+Iikscy5lbGVtZW50Lm9uKCJtb3VzZWVudGVyIiwibGkiLGZ1bmN0aW9uKGkpe2kuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksZS5jb250YWlucyh0aGlzLGkucmVsYXRlZFRhcmdldCl8fCh0JiZjbGVhclRpbWVvdXQodCkscy5lbGVtZW50LmZpbmQoIi52YWthdGEtY29udGV4dC1ob3ZlciIpLnJlbW92ZUNsYXNzKCJ2YWthdGEtY29udGV4dC1ob3ZlciIpLmVuZCgpLGUodGhpcykuc2libGluZ3MoKS5maW5kKCJ1bCIpLmhpZGUoKS5lbmQoKS5lbmQoKS5wYXJlbnRzVW50aWwoIi52YWthdGEtY29udGV4dCIsImxpIikuYWRkQmFjaygpLmFkZENsYXNzKCJ2YWthdGEtY29udGV4dC1ob3ZlciIpLGUudmFrYXRhLmNvbnRleHQuX3Nob3dfc3VibWVudSh0aGlzKSl9KS5vbigibW91c2VsZWF2ZSIsImxpIixmdW5jdGlvbih0KXtlLmNvbnRhaW5zKHRoaXMsdC5yZWxhdGVkVGFyZ2V0KXx8ZSh0aGlzKS5maW5kKCIudmFrYXRhLWNvbnRleHQtaG92ZXIiKS5hZGRCYWNrKCkucmVtb3ZlQ2xhc3MoInZha2F0YS1jb250ZXh0LWhvdmVyIil9KS5vbigibW91c2VsZWF2ZSIsZnVuY3Rpb24oKXtlKHRoaXMpLmZpbmQoIi52YWthdGEtY29udGV4dC1ob3ZlciIpLnJlbW92ZUNsYXNzKCJ2YWthdGEtY29udGV4dC1ob3ZlciIpLGUudmFrYXRhLmNvbnRleHQuc2V0dGluZ3MuaGlkZV9vbm1vdXNlbGVhdmUmJih0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXtlLnZha2F0YS5jb250ZXh0LmhpZGUoKX19KHRoaXMpLGUudmFrYXRhLmNvbnRleHQuc2V0dGluZ3MuaGlkZV9vbm1vdXNlbGVhdmUpKX0pLm9uKCJjbGljayIsImEiLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSxlKHRoaXMpLmJsdXIoKS5wYXJlbnQoKS5oYXNDbGFzcygidmFrYXRhLWNvbnRleHQtZGlzYWJsZWQiKXx8ZS52YWthdGEuY29udGV4dC5fZXhlY3V0ZShlKHRoaXMpLmF0dHIoInJlbCIpKT09PSExfHxlLnZha2F0YS5jb250ZXh0LmhpZGUoKX0pLm9uKCJrZXlkb3duIiwiYSIsZnVuY3Rpb24odCl7dmFyIGk9bnVsbDtzd2l0Y2godC53aGljaCl7Y2FzZSAxMzpjYXNlIDMyOnQudHlwZT0ibW91c2V1cCIsdC5wcmV2ZW50RGVmYXVsdCgpLGUodC5jdXJyZW50VGFyZ2V0KS50cmlnZ2VyKHQpO2JyZWFrO2Nhc2UgMzc6cy5pc192aXNpYmxlJiYocy5lbGVtZW50LmZpbmQoIi52YWthdGEtY29udGV4dC1ob3ZlciIpLmxhc3QoKS5wYXJlbnRzKCJsaTplcSgwKSIpLmZpbmQoInVsIikuaGlkZSgpLmZpbmQoIi52YWthdGEtY29udGV4dC1ob3ZlciIpLnJlbW92ZUNsYXNzKCJ2YWthdGEtY29udGV4dC1ob3ZlciIpLmVuZCgpLmVuZCgpLmNoaWxkcmVuKCJhIikuZm9jdXMoKSx0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHQucHJldmVudERlZmF1bHQoKSk7YnJlYWs7Y2FzZSAzODpzLmlzX3Zpc2libGUmJihpPXMuZWxlbWVudC5maW5kKCJ1bDp2aXNpYmxlIikuYWRkQmFjaygpLmxhc3QoKS5jaGlsZHJlbigiLnZha2F0YS1jb250ZXh0LWhvdmVyIikucmVtb3ZlQ2xhc3MoInZha2F0YS1jb250ZXh0LWhvdmVyIikucHJldkFsbCgibGk6bm90KC52YWthdGEtY29udGV4dC1zZXBhcmF0b3IpIikuZmlyc3QoKSxpLmxlbmd0aHx8KGk9cy5lbGVtZW50LmZpbmQoInVsOnZpc2libGUiKS5hZGRCYWNrKCkubGFzdCgpLmNoaWxkcmVuKCJsaTpub3QoLnZha2F0YS1jb250ZXh0LXNlcGFyYXRvcikiKS5sYXN0KCkpLGkuYWRkQ2xhc3MoInZha2F0YS1jb250ZXh0LWhvdmVyIikuY2hpbGRyZW4oImEiKS5mb2N1cygpLHQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdC5wcmV2ZW50RGVmYXVsdCgpKTticmVhaztjYXNlIDM5OnMuaXNfdmlzaWJsZSYmKHMuZWxlbWVudC5maW5kKCIudmFrYXRhLWNvbnRleHQtaG92ZXIiKS5sYXN0KCkuY2hpbGRyZW4oInVsIikuc2hvdygpLmNoaWxkcmVuKCJsaTpub3QoLnZha2F0YS1jb250ZXh0LXNlcGFyYXRvcikiKS5yZW1vdmVDbGFzcygidmFrYXRhLWNvbnRleHQtaG92ZXIiKS5maXJzdCgpLmFkZENsYXNzKCJ2YWthdGEtY29udGV4dC1ob3ZlciIpLmNoaWxkcmVuKCJhIikuZm9jdXMoKSx0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHQucHJldmVudERlZmF1bHQoKSk7YnJlYWs7Y2FzZSA0MDpzLmlzX3Zpc2libGUmJihpPXMuZWxlbWVudC5maW5kKCJ1bDp2aXNpYmxlIikuYWRkQmFjaygpLmxhc3QoKS5jaGlsZHJlbigiLnZha2F0YS1jb250ZXh0LWhvdmVyIikucmVtb3ZlQ2xhc3MoInZha2F0YS1jb250ZXh0LWhvdmVyIikubmV4dEFsbCgibGk6bm90KC52YWthdGEtY29udGV4dC1zZXBhcmF0b3IpIikuZmlyc3QoKSxpLmxlbmd0aHx8KGk9cy5lbGVtZW50LmZpbmQoInVsOnZpc2libGUiKS5hZGRCYWNrKCkubGFzdCgpLmNoaWxkcmVuKCJsaTpub3QoLnZha2F0YS1jb250ZXh0LXNlcGFyYXRvcikiKS5maXJzdCgpKSxpLmFkZENsYXNzKCJ2YWthdGEtY29udGV4dC1ob3ZlciIpLmNoaWxkcmVuKCJhIikuZm9jdXMoKSx0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHQucHJldmVudERlZmF1bHQoKSk7YnJlYWs7Y2FzZSAyNzplLnZha2F0YS5jb250ZXh0LmhpZGUoKSx0LnByZXZlbnREZWZhdWx0KCl9fSkub24oImtleWRvd24iLGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKTt2YXIgdD1zLmVsZW1lbnQuZmluZCgiLnZha2F0YS1jb250ZXh0bWVudS1zaG9ydGN1dC0iK2Uud2hpY2gpLnBhcmVudCgpO3QucGFyZW50KCkubm90KCIudmFrYXRhLWNvbnRleHQtZGlzYWJsZWQiKSYmdC5jbGljaygpfSksZShkb2N1bWVudCkub24oIm1vdXNlZG93bi52YWthdGEuanN0cmVlIixmdW5jdGlvbih0KXtzLmlzX3Zpc2libGUmJiFlLmNvbnRhaW5zKHMuZWxlbWVudFswXSx0LnRhcmdldCkmJmUudmFrYXRhLmNvbnRleHQuaGlkZSgpfSkub24oImNvbnRleHRfc2hvdy52YWthdGEuanN0cmVlIixmdW5jdGlvbigpe3MuZWxlbWVudC5maW5kKCJsaTpoYXModWwpIikuY2hpbGRyZW4oImEiKS5hZGRDbGFzcygidmFrYXRhLWNvbnRleHQtcGFyZW50IiksaSYmcy5lbGVtZW50LmFkZENsYXNzKCJ2YWthdGEtY29udGV4dC1ydGwiKS5jc3MoImRpcmVjdGlvbiIsInJ0bCIpLHMuZWxlbWVudC5maW5kKCJ1bCIpLmhpZGUoKS5lbmQoKX0pfSl9KGUpLGUuanN0cmVlLmRlZmF1bHRzLmRuZD17Y29weTohMCxvcGVuX3RpbWVvdXQ6NTAwLGlzX2RyYWdnYWJsZTohMCxjaGVja193aGlsZV9kcmFnZ2luZzohMCxhbHdheXNfY29weTohMSxpbnNpZGVfcG9zOjB9LGUuanN0cmVlLnBsdWdpbnMuZG5kPWZ1bmN0aW9uKGkscyl7dGhpcy5iaW5kPWZ1bmN0aW9uKCl7cy5iaW5kLmNhbGwodGhpcyksdGhpcy5lbGVtZW50Lm9uKCJtb3VzZWRvd24uanN0cmVlIHRvdWNoc3RhcnQuanN0cmVlIiwiLmpzdHJlZS1hbmNob3IiLGUucHJveHkoZnVuY3Rpb24oaSl7dmFyIHM9dGhpcy5nZXRfbm9kZShpLnRhcmdldCkscj10aGlzLmlzX3NlbGVjdGVkKHMpP3RoaXMuZ2V0X3NlbGVjdGVkKCkubGVuZ3RoOjE7cmV0dXJuIHMmJnMuaWQmJiIjIiE9PXMuaWQmJigxPT09aS53aGljaHx8InRvdWNoc3RhcnQiPT09aS50eXBlKSYmKHRoaXMuc2V0dGluZ3MuZG5kLmlzX2RyYWdnYWJsZT09PSEwfHxlLmlzRnVuY3Rpb24odGhpcy5zZXR0aW5ncy5kbmQuaXNfZHJhZ2dhYmxlKSYmdGhpcy5zZXR0aW5ncy5kbmQuaXNfZHJhZ2dhYmxlLmNhbGwodGhpcyxyPjE/dGhpcy5nZXRfc2VsZWN0ZWQoITApOltzXSkpPyh0aGlzLmVsZW1lbnQudHJpZ2dlcigibW91c2Vkb3duLmpzdHJlZSIpLGUudmFrYXRhLmRuZC5zdGFydChpLHtqc3RyZWU6ITAsb3JpZ2luOnRoaXMsb2JqOnRoaXMuZ2V0X25vZGUocywhMCksbm9kZXM6cj4xP3RoaXMuZ2V0X3NlbGVjdGVkKCk6W3MuaWRdfSwnPGRpdiBpZD0ianN0cmVlLWRuZCIgY2xhc3M9ImpzdHJlZS0nK3RoaXMuZ2V0X3RoZW1lKCkrKHRoaXMuc2V0dGluZ3MuY29yZS50aGVtZXMucmVzcG9uc2l2ZT8iIGpzdHJlZS1kbmQtcmVzcG9uc2l2ZSI6IiIpKyciPjxpIGNsYXNzPSJqc3RyZWUtaWNvbiBqc3RyZWUtZXIiPjwvaT4nKyhyPjE/cisiICIrdGhpcy5nZXRfc3RyaW5nKCJub2RlcyIpOnRoaXMuZ2V0X3RleHQoaS5jdXJyZW50VGFyZ2V0LCEwKSkrJzxpbnMgY2xhc3M9ImpzdHJlZS1jb3B5IiBzdHlsZT0iZGlzcGxheTpub25lOyI+KzwvaW5zPjwvZGl2PicpKTp0fSx0aGlzKSl9fSxlKGZ1bmN0aW9uKCl7dmFyIGk9ITEscz0hMSxyPSExLG49ZSgnPGRpdiBpZD0ianN0cmVlLW1hcmtlciI+JiMxNjA7PC9kaXY+JykuaGlkZSgpO2UoZG9jdW1lbnQpLm9uKCJkbmRfc3RhcnQudmFrYXRhLmpzdHJlZSIsZnVuY3Rpb24oZSx0KXtpPSExLHQmJnQuZGF0YSYmdC5kYXRhLmpzdHJlZSYmbi5hcHBlbmRUbygiYm9keSIpfSkub24oImRuZF9tb3ZlLnZha2F0YS5qc3RyZWUiLGZ1bmN0aW9uKGEsZCl7aWYociYmY2xlYXJUaW1lb3V0KHIpLGQmJmQuZGF0YSYmZC5kYXRhLmpzdHJlZSYmKCFkLmV2ZW50LnRhcmdldC5pZHx8ImpzdHJlZS1tYXJrZXIiIT09ZC5ldmVudC50YXJnZXQuaWQpKXt2YXIgXyx1LGcsZixwLG0sdixqLGsseSx4LGIsdyxDLG89ZS5qc3RyZWUucmVmZXJlbmNlKGQuZXZlbnQudGFyZ2V0KSxjPSExLGw9ITEsaD0hMTtpZihvJiZvLl9kYXRhJiZvLl9kYXRhLmRuZClpZihuLmF0dHIoImNsYXNzIiwianN0cmVlLSIrby5nZXRfdGhlbWUoKSsoby5zZXR0aW5ncy5jb3JlLnRoZW1lcy5yZXNwb25zaXZlPyIganN0cmVlLWRuZC1yZXNwb25zaXZlIjoiIikpLGQuaGVscGVyLmNoaWxkcmVuKCkuYXR0cigiY2xhc3MiLCJqc3RyZWUtIitvLmdldF90aGVtZSgpKyhvLnNldHRpbmdzLmNvcmUudGhlbWVzLnJlc3BvbnNpdmU/IiBqc3RyZWUtZG5kLXJlc3BvbnNpdmUiOiIiKSkuZmluZCgiLmpzdHJlZS1jb3B5OmVxKDApIilbZC5kYXRhLm9yaWdpbiYmKGQuZGF0YS5vcmlnaW4uc2V0dGluZ3MuZG5kLmFsd2F5c19jb3B5fHxkLmRhdGEub3JpZ2luLnNldHRpbmdzLmRuZC5jb3B5JiYoZC5ldmVudC5tZXRhS2V5fHxkLmV2ZW50LmN0cmxLZXkpKT8ic2hvdyI6ImhpZGUiXSgpLGQuZXZlbnQudGFyZ2V0IT09by5lbGVtZW50WzBdJiZkLmV2ZW50LnRhcmdldCE9PW8uZ2V0X2NvbnRhaW5lcl91bCgpWzBdfHwwIT09by5nZXRfY29udGFpbmVyX3VsKCkuY2hpbGRyZW4oKS5sZW5ndGgpe2lmKGM9ZShkLmV2ZW50LnRhcmdldCkuY2xvc2VzdCgiLmpzdHJlZS1hbmNob3IiKSxjJiZjLmxlbmd0aCYmYy5wYXJlbnQoKS5pcygiLmpzdHJlZS1jbG9zZWQsIC5qc3RyZWUtb3BlbiwgLmpzdHJlZS1sZWFmIikmJihsPWMub2Zmc2V0KCksaD1kLmV2ZW50LnBhZ2VZLWwudG9wLGc9Yy5oZWlnaHQoKSxtPWcvMz5oP1siYiIsImkiLCJhIl06aD5nLWcvMz9bImEiLCJpIiwiYiJdOmg+Zy8yP1siaSIsImEiLCJiIl06WyJpIiwiYiIsImEiXSxlLmVhY2gobSxmdW5jdGlvbihhLGgpe3N3aXRjaChoKXtjYXNlImIiOl89bC5sZWZ0LTYsdT1sLnRvcCxmPW8uZ2V0X3BhcmVudChjKSxwPWMucGFyZW50KCkuaW5kZXgoKTticmVhaztjYXNlImkiOnc9by5zZXR0aW5ncy5kbmQuaW5zaWRlX3BvcyxDPW8uZ2V0X25vZGUoYy5wYXJlbnQoKSksXz1sLmxlZnQtMix1PWwudG9wK2cvMisxLGY9Qy5pZCxwPSJmaXJzdCI9PT13PzA6Imxhc3QiPT09dz9DLmNoaWxkcmVuLmxlbmd0aDpNYXRoLm1pbih3LEMuY2hpbGRyZW4ubGVuZ3RoKTticmVhaztjYXNlImEiOl89bC5sZWZ0LTYsdT1sLnRvcCtnLGY9by5nZXRfcGFyZW50KGMpLHA9Yy5wYXJlbnQoKS5pbmRleCgpKzF9Zm9yKHY9ITAsaj0wLGs9ZC5kYXRhLm5vZGVzLmxlbmd0aDtrPmo7aisrKWlmKHk9ZC5kYXRhLm9yaWdpbiYmKGQuZGF0YS5vcmlnaW4uc2V0dGluZ3MuZG5kLmFsd2F5c19jb3B5fHxkLmRhdGEub3JpZ2luLnNldHRpbmdzLmRuZC5jb3B5JiYoZC5ldmVudC5tZXRhS2V5fHxkLmV2ZW50LmN0cmxLZXkpKT8iY29weV9ub2RlIjoibW92ZV9ub2RlIix4PXAsIm1vdmVfbm9kZSI9PT15JiYiYSI9PT1oJiZkLmRhdGEub3JpZ2luJiZkLmRhdGEub3JpZ2luPT09byYmZj09PW8uZ2V0X3BhcmVudChkLmRhdGEubm9kZXNbal0pJiYoYj1vLmdldF9ub2RlKGYpLHg+ZS5pbkFycmF5KGQuZGF0YS5ub2Rlc1tqXSxiLmNoaWxkcmVuKSYmKHgtPTEpKSx2PXYmJihvJiZvLnNldHRpbmdzJiZvLnNldHRpbmdzLmRuZCYmby5zZXR0aW5ncy5kbmQuY2hlY2tfd2hpbGVfZHJhZ2dpbmc9PT0hMXx8by5jaGVjayh5LGQuZGF0YS5vcmlnaW4mJmQuZGF0YS5vcmlnaW4hPT1vP2QuZGF0YS5vcmlnaW4uZ2V0X25vZGUoZC5kYXRhLm5vZGVzW2pdKTpkLmRhdGEubm9kZXNbal0sZix4LHtkbmQ6ITAscmVmOm8uZ2V0X25vZGUoYy5wYXJlbnQoKSkscG9zOmgsaXNfbXVsdGk6ZC5kYXRhLm9yaWdpbiYmZC5kYXRhLm9yaWdpbiE9PW8saXNfZm9yZWlnbjohZC5kYXRhLm9yaWdpbn0pKSwhdil7byYmby5sYXN0X2Vycm9yJiYocz1vLmxhc3RfZXJyb3IoKSk7YnJlYWt9cmV0dXJuIHY/KCJpIj09PWgmJmMucGFyZW50KCkuaXMoIi5qc3RyZWUtY2xvc2VkIikmJm8uc2V0dGluZ3MuZG5kLm9wZW5fdGltZW91dCYmKHI9c2V0VGltZW91dChmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbigpe2Uub3Blbl9ub2RlKHQpfX0obyxjKSxvLnNldHRpbmdzLmRuZC5vcGVuX3RpbWVvdXQpKSxpPXtpbnM6byxwYXI6Zixwb3M6ImkiIT09aHx8Imxhc3QiIT09d3x8MCE9PXB8fG8uaXNfbG9hZGVkKEMpP3A6Imxhc3QifSxuLmNzcyh7bGVmdDpfKyJweCIsdG9wOnUrInB4In0pLnNob3coKSxkLmhlbHBlci5maW5kKCIuanN0cmVlLWljb246ZXEoMCkiKS5yZW1vdmVDbGFzcygianN0cmVlLWVyIikuYWRkQ2xhc3MoImpzdHJlZS1vayIpLHM9e30sbT0hMCwhMSk6dH0pLG09PT0hMCkpcmV0dXJufWVsc2V7Zm9yKHY9ITAsaj0wLGs9ZC5kYXRhLm5vZGVzLmxlbmd0aDtrPmomJih2PXYmJm8uY2hlY2soZC5kYXRhLm9yaWdpbiYmKGQuZGF0YS5vcmlnaW4uc2V0dGluZ3MuZG5kLmFsd2F5c19jb3B5fHxkLmRhdGEub3JpZ2luLnNldHRpbmdzLmRuZC5jb3B5JiYoZC5ldmVudC5tZXRhS2V5fHxkLmV2ZW50LmN0cmxLZXkpKT8iY29weV9ub2RlIjoibW92ZV9ub2RlIixkLmRhdGEub3JpZ2luJiZkLmRhdGEub3JpZ2luIT09bz9kLmRhdGEub3JpZ2luLmdldF9ub2RlKGQuZGF0YS5ub2Rlc1tqXSk6ZC5kYXRhLm5vZGVzW2pdLCIjIiwibGFzdCIse2RuZDohMCxyZWY6by5nZXRfbm9kZSgiIyIpLHBvczoiaSIsaXNfbXVsdGk6ZC5kYXRhLm9yaWdpbiYmZC5kYXRhLm9yaWdpbiE9PW8saXNfZm9yZWlnbjohZC5kYXRhLm9yaWdpbn0pLHYpO2orKyk7aWYodilyZXR1cm4gaT17aW5zOm8scGFyOiIjIixwb3M6Imxhc3QifSxuLmhpZGUoKSxkLmhlbHBlci5maW5kKCIuanN0cmVlLWljb246ZXEoMCkiKS5yZW1vdmVDbGFzcygianN0cmVlLWVyIikuYWRkQ2xhc3MoImpzdHJlZS1vayIpLHR9aT0hMSxkLmhlbHBlci5maW5kKCIuanN0cmVlLWljb24iKS5yZW1vdmVDbGFzcygianN0cmVlLW9rIikuYWRkQ2xhc3MoImpzdHJlZS1lciIpLG4uaGlkZSgpfX0pLm9uKCJkbmRfc2Nyb2xsLnZha2F0YS5qc3RyZWUiLGZ1bmN0aW9uKGUsdCl7dCYmdC5kYXRhJiZ0LmRhdGEuanN0cmVlJiYobi5oaWRlKCksaT0hMSx0LmhlbHBlci5maW5kKCIuanN0cmVlLWljb246ZXEoMCkiKS5yZW1vdmVDbGFzcygianN0cmVlLW9rIikuYWRkQ2xhc3MoImpzdHJlZS1lciIpKX0pLm9uKCJkbmRfc3RvcC52YWthdGEuanN0cmVlIixmdW5jdGlvbih0LGEpe2lmKHImJmNsZWFyVGltZW91dChyKSxhJiZhLmRhdGEmJmEuZGF0YS5qc3RyZWUpe24uaGlkZSgpLmRldGFjaCgpO3ZhciBkLG8sYz1bXTtpZihpKXtmb3IoZD0wLG89YS5kYXRhLm5vZGVzLmxlbmd0aDtvPmQ7ZCsrKWNbZF09YS5kYXRhLm9yaWdpbj9hLmRhdGEub3JpZ2luLmdldF9ub2RlKGEuZGF0YS5ub2Rlc1tkXSk6YS5kYXRhLm5vZGVzW2RdLGEuZGF0YS5vcmlnaW4mJihjW2RdLmluc3RhbmNlPWEuZGF0YS5vcmlnaW4pO2ZvcihpLmluc1thLmRhdGEub3JpZ2luJiYoYS5kYXRhLm9yaWdpbi5zZXR0aW5ncy5kbmQuYWx3YXlzX2NvcHl8fGEuZGF0YS5vcmlnaW4uc2V0dGluZ3MuZG5kLmNvcHkmJihhLmV2ZW50Lm1ldGFLZXl8fGEuZXZlbnQuY3RybEtleSkpPyJjb3B5X25vZGUiOiJtb3ZlX25vZGUiXShjLGkucGFyLGkucG9zKSxkPTAsbz1jLmxlbmd0aDtvPmQ7ZCsrKWNbZF0uaW5zdGFuY2UmJihjW2RdLmluc3RhbmNlPW51bGwpfWVsc2UgZD1lKGEuZXZlbnQudGFyZ2V0KS5jbG9zZXN0KCIuanN0cmVlIiksZC5sZW5ndGgmJnMmJnMuZXJyb3ImJiJjaGVjayI9PT1zLmVycm9yJiYoZD1kLmpzdHJlZSghMCksZCYmZC5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyxzKSl9fSkub24oImtleXVwLmpzdHJlZSBrZXlkb3duLmpzdHJlZSIsZnVuY3Rpb24odCxpKXtpPWUudmFrYXRhLmRuZC5fZ2V0KCksaSYmaS5kYXRhJiZpLmRhdGEuanN0cmVlJiZpLmhlbHBlci5maW5kKCIuanN0cmVlLWNvcHk6ZXEoMCkiKVtpLmRhdGEub3JpZ2luJiYoaS5kYXRhLm9yaWdpbi5zZXR0aW5ncy5kbmQuYWx3YXlzX2NvcHl8fGkuZGF0YS5vcmlnaW4uc2V0dGluZ3MuZG5kLmNvcHkmJih0Lm1ldGFLZXl8fHQuY3RybEtleSkpPyJzaG93IjoiaGlkZSJdKCl9KX0pLGZ1bmN0aW9uKGUpe3ZhciBpPXtlbGVtZW50OiExLHRhcmdldDohMSxpc19kb3duOiExLGlzX2RyYWc6ITEsaGVscGVyOiExLGhlbHBlcl93OjAsZGF0YTohMSxpbml0X3g6MCxpbml0X3k6MCxzY3JvbGxfbDowLHNjcm9sbF90OjAsc2Nyb2xsX2U6ITEsc2Nyb2xsX2k6ITEsaXNfdG91Y2g6ITF9O2UudmFrYXRhLmRuZD17c2V0dGluZ3M6e3Njcm9sbF9zcGVlZDoxMCxzY3JvbGxfcHJveGltaXR5OjIwLGhlbHBlcl9sZWZ0OjUsaGVscGVyX3RvcDoxMCx0aHJlc2hvbGQ6NSx0aHJlc2hvbGRfdG91Y2g6NTB9LF90cmlnZ2VyOmZ1bmN0aW9uKHQsaSl7dmFyIHM9ZS52YWthdGEuZG5kLl9nZXQoKTtzLmV2ZW50PWksZShkb2N1bWVudCkudHJpZ2dlckhhbmRsZXIoImRuZF8iK3QrIi52YWthdGEiLHMpfSxfZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue2RhdGE6aS5kYXRhLGVsZW1lbnQ6aS5lbGVtZW50LGhlbHBlcjppLmhlbHBlcn19LF9jbGVhbjpmdW5jdGlvbigpe2kuaGVscGVyJiZpLmhlbHBlci5yZW1vdmUoKSxpLnNjcm9sbF9pJiYoY2xlYXJJbnRlcnZhbChpLnNjcm9sbF9pKSxpLnNjcm9sbF9pPSExKSxpPXtlbGVtZW50OiExLHRhcmdldDohMSxpc19kb3duOiExLGlzX2RyYWc6ITEsaGVscGVyOiExLGhlbHBlcl93OjAsZGF0YTohMSxpbml0X3g6MCxpbml0X3k6MCxzY3JvbGxfbDowLHNjcm9sbF90OjAsc2Nyb2xsX2U6ITEsc2Nyb2xsX2k6ITEsaXNfdG91Y2g6ITF9LGUoZG9jdW1lbnQpLm9mZigibW91c2Vtb3ZlLnZha2F0YS5qc3RyZWUgdG91Y2htb3ZlLnZha2F0YS5qc3RyZWUiLGUudmFrYXRhLmRuZC5kcmFnKSxlKGRvY3VtZW50KS5vZmYoIm1vdXNldXAudmFrYXRhLmpzdHJlZSB0b3VjaGVuZC52YWthdGEuanN0cmVlIixlLnZha2F0YS5kbmQuc3RvcCl9LF9zY3JvbGw6ZnVuY3Rpb24odCl7aWYoIWkuc2Nyb2xsX2V8fCFpLnNjcm9sbF9sJiYhaS5zY3JvbGxfdClyZXR1cm4gaS5zY3JvbGxfaSYmKGNsZWFySW50ZXJ2YWwoaS5zY3JvbGxfaSksaS5zY3JvbGxfaT0hMSksITE7aWYoIWkuc2Nyb2xsX2kpcmV0dXJuIGkuc2Nyb2xsX2k9c2V0SW50ZXJ2YWwoZS52YWthdGEuZG5kLl9zY3JvbGwsMTAwKSwhMTtpZih0PT09ITApcmV0dXJuITE7dmFyIHM9aS5zY3JvbGxfZS5zY3JvbGxUb3AoKSxyPWkuc2Nyb2xsX2Uuc2Nyb2xsTGVmdCgpO2kuc2Nyb2xsX2Uuc2Nyb2xsVG9wKHMraS5zY3JvbGxfdCplLnZha2F0YS5kbmQuc2V0dGluZ3Muc2Nyb2xsX3NwZWVkKSxpLnNjcm9sbF9lLnNjcm9sbExlZnQocitpLnNjcm9sbF9sKmUudmFrYXRhLmRuZC5zZXR0aW5ncy5zY3JvbGxfc3BlZWQpLChzIT09aS5zY3JvbGxfZS5zY3JvbGxUb3AoKXx8ciE9PWkuc2Nyb2xsX2Uuc2Nyb2xsTGVmdCgpKSYmZS52YWthdGEuZG5kLl90cmlnZ2VyKCJzY3JvbGwiLGkuc2Nyb2xsX2UpfSxzdGFydDpmdW5jdGlvbih0LHMscil7InRvdWNoc3RhcnQiPT09dC50eXBlJiZ0Lm9yaWdpbmFsRXZlbnQmJnQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlcyYmdC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdJiYodC5wYWdlWD10Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVgsdC5wYWdlWT10Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVksdC50YXJnZXQ9ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCh0Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVgtd2luZG93LnBhZ2VYT2Zmc2V0LHQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWS13aW5kb3cucGFnZVlPZmZzZXQpKSxpLmlzX2RyYWcmJmUudmFrYXRhLmRuZC5zdG9wKHt9KTt0cnl7dC5jdXJyZW50VGFyZ2V0LnVuc2VsZWN0YWJsZT0ib24iLHQuY3VycmVudFRhcmdldC5vbnNlbGVjdHN0YXJ0PWZ1bmN0aW9uKCl7cmV0dXJuITF9LHQuY3VycmVudFRhcmdldC5zdHlsZSYmKHQuY3VycmVudFRhcmdldC5zdHlsZS5Nb3pVc2VyU2VsZWN0PSJub25lIil9Y2F0Y2gobil7fXJldHVybiBpLmluaXRfeD10LnBhZ2VYLGkuaW5pdF95PXQucGFnZVksaS5kYXRhPXMsaS5pc19kb3duPSEwLGkuZWxlbWVudD10LmN1cnJlbnRUYXJnZXQsaS50YXJnZXQ9dC50YXJnZXQsaS5pc190b3VjaD0idG91Y2hzdGFydCI9PT10LnR5cGUsciE9PSExJiYoaS5oZWxwZXI9ZSgiPGRpdiBpZD0ndmFrYXRhLWRuZCc+PC9kaXY+IikuaHRtbChyKS5jc3Moe2Rpc3BsYXk6ImJsb2NrIixtYXJnaW46IjAiLHBhZGRpbmc6IjAiLHBvc2l0aW9uOiJhYnNvbHV0ZSIsdG9wOiItMjAwMHB4IixsaW5lSGVpZ2h0OiIxNnB4Iix6SW5kZXg6IjEwMDAwIn0pKSxlKGRvY3VtZW50KS5vbigibW91c2Vtb3ZlLnZha2F0YS5qc3RyZWUgdG91Y2htb3ZlLnZha2F0YS5qc3RyZWUiLGUudmFrYXRhLmRuZC5kcmFnKSxlKGRvY3VtZW50KS5vbigibW91c2V1cC52YWthdGEuanN0cmVlIHRvdWNoZW5kLnZha2F0YS5qc3RyZWUiLGUudmFrYXRhLmRuZC5zdG9wKSwhMX0sZHJhZzpmdW5jdGlvbihzKXtpZigidG91Y2htb3ZlIj09PXMudHlwZSYmcy5vcmlnaW5hbEV2ZW50JiZzLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXMmJnMub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXSYmKHMucGFnZVg9cy5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYLHMucGFnZVk9cy5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZLHMudGFyZ2V0PWRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQocy5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYLXdpbmRvdy5wYWdlWE9mZnNldCxzLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVktd2luZG93LnBhZ2VZT2Zmc2V0KSksaS5pc19kb3duKXtpZighaS5pc19kcmFnKXtpZighKE1hdGguYWJzKHMucGFnZVgtaS5pbml0X3gpPihpLmlzX3RvdWNoP2UudmFrYXRhLmRuZC5zZXR0aW5ncy50aHJlc2hvbGRfdG91Y2g6ZS52YWthdGEuZG5kLnNldHRpbmdzLnRocmVzaG9sZCl8fE1hdGguYWJzKHMucGFnZVktaS5pbml0X3kpPihpLmlzX3RvdWNoP2UudmFrYXRhLmRuZC5zZXR0aW5ncy50aHJlc2hvbGRfdG91Y2g6ZS52YWthdGEuZG5kLnNldHRpbmdzLnRocmVzaG9sZCkpKXJldHVybjtpLmhlbHBlciYmKGkuaGVscGVyLmFwcGVuZFRvKCJib2R5IiksaS5oZWxwZXJfdz1pLmhlbHBlci5vdXRlcldpZHRoKCkpLGkuaXNfZHJhZz0hMCxlLnZha2F0YS5kbmQuX3RyaWdnZXIoInN0YXJ0IixzKX12YXIgcj0hMSxuPSExLGE9ITEsZD0hMSxvPSExLGM9ITEsbD0hMSxoPSExLF89ITEsdT0hMTtyZXR1cm4gaS5zY3JvbGxfdD0wLGkuc2Nyb2xsX2w9MCxpLnNjcm9sbF9lPSExLGUoZShzLnRhcmdldCkucGFyZW50c1VudGlsKCJib2R5IikuYWRkQmFjaygpLmdldCgpLnJldmVyc2UoKSkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuL15hdXRvfHNjcm9sbCQvLnRlc3QoZSh0aGlzKS5jc3MoIm92ZXJmbG93IikpJiYodGhpcy5zY3JvbGxIZWlnaHQ+dGhpcy5vZmZzZXRIZWlnaHR8fHRoaXMuc2Nyb2xsV2lkdGg+dGhpcy5vZmZzZXRXaWR0aCl9KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHI9ZSh0aGlzKSxuPXIub2Zmc2V0KCk7cmV0dXJuIHRoaXMuc2Nyb2xsSGVpZ2h0PnRoaXMub2Zmc2V0SGVpZ2h0JiYobi50b3Arci5oZWlnaHQoKS1zLnBhZ2VZPGUudmFrYXRhLmRuZC5zZXR0aW5ncy5zY3JvbGxfcHJveGltaXR5JiYoaS5zY3JvbGxfdD0xKSxzLnBhZ2VZLW4udG9wPGUudmFrYXRhLmRuZC5zZXR0aW5ncy5zY3JvbGxfcHJveGltaXR5JiYoaS5zY3JvbGxfdD0tMSkpLHRoaXMuc2Nyb2xsV2lkdGg+dGhpcy5vZmZzZXRXaWR0aCYmKG4ubGVmdCtyLndpZHRoKCktcy5wYWdlWDxlLnZha2F0YS5kbmQuc2V0dGluZ3Muc2Nyb2xsX3Byb3hpbWl0eSYmKGkuc2Nyb2xsX2w9MSkscy5wYWdlWC1uLmxlZnQ8ZS52YWthdGEuZG5kLnNldHRpbmdzLnNjcm9sbF9wcm94aW1pdHkmJihpLnNjcm9sbF9sPS0xKSksaS5zY3JvbGxfdHx8aS5zY3JvbGxfbD8oaS5zY3JvbGxfZT1lKHRoaXMpLCExKTp0fSksaS5zY3JvbGxfZXx8KHI9ZShkb2N1bWVudCksbj1lKHdpbmRvdyksYT1yLmhlaWdodCgpLGQ9bi5oZWlnaHQoKSxvPXIud2lkdGgoKSxjPW4ud2lkdGgoKSxsPXIuc2Nyb2xsVG9wKCksaD1yLnNjcm9sbExlZnQoKSxhPmQmJnMucGFnZVktbDxlLnZha2F0YS5kbmQuc2V0dGluZ3Muc2Nyb2xsX3Byb3hpbWl0eSYmKGkuc2Nyb2xsX3Q9LTEpLGE+ZCYmZC0ocy5wYWdlWS1sKTxlLnZha2F0YS5kbmQuc2V0dGluZ3Muc2Nyb2xsX3Byb3hpbWl0eSYmKGkuc2Nyb2xsX3Q9MSksbz5jJiZzLnBhZ2VYLWg8ZS52YWthdGEuZG5kLnNldHRpbmdzLnNjcm9sbF9wcm94aW1pdHkmJihpLnNjcm9sbF9sPS0xKSxvPmMmJmMtKHMucGFnZVgtaCk8ZS52YWthdGEuZG5kLnNldHRpbmdzLnNjcm9sbF9wcm94aW1pdHkmJihpLnNjcm9sbF9sPTEpLChpLnNjcm9sbF90fHxpLnNjcm9sbF9sKSYmKGkuc2Nyb2xsX2U9cikpLGkuc2Nyb2xsX2UmJmUudmFrYXRhLmRuZC5fc2Nyb2xsKCEwKSxpLmhlbHBlciYmKF89cGFyc2VJbnQocy5wYWdlWStlLnZha2F0YS5kbmQuc2V0dGluZ3MuaGVscGVyX3RvcCwxMCksdT1wYXJzZUludChzLnBhZ2VYK2UudmFrYXRhLmRuZC5zZXR0aW5ncy5oZWxwZXJfbGVmdCwxMCksYSYmXysyNT5hJiYoXz1hLTUwKSxvJiZ1K2kuaGVscGVyX3c+byYmKHU9by0oaS5oZWxwZXJfdysyKSksaS5oZWxwZXIuY3NzKHtsZWZ0OnUrInB4Iix0b3A6XysicHgifSkpLGUudmFrYXRhLmRuZC5fdHJpZ2dlcigibW92ZSIscyksITF9fSxzdG9wOmZ1bmN0aW9uKHQpe2lmKCJ0b3VjaGVuZCI9PT10LnR5cGUmJnQub3JpZ2luYWxFdmVudCYmdC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzJiZ0Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0mJih0LnBhZ2VYPXQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCx0LnBhZ2VZPXQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWSx0LnRhcmdldD1kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWC13aW5kb3cucGFnZVhPZmZzZXQsdC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZLXdpbmRvdy5wYWdlWU9mZnNldCkpLGkuaXNfZHJhZyllLnZha2F0YS5kbmQuX3RyaWdnZXIoInN0b3AiLHQpO2Vsc2UgaWYoInRvdWNoZW5kIj09PXQudHlwZSYmdC50YXJnZXQ9PT1pLnRhcmdldCl7dmFyIHM9c2V0VGltZW91dChmdW5jdGlvbigpe2UodC50YXJnZXQpLmNsaWNrKCl9LDEwMCk7ZSh0LnRhcmdldCkub25lKCJjbGljayIsZnVuY3Rpb24oKXtzJiZjbGVhclRpbWVvdXQocyl9KX1yZXR1cm4gZS52YWthdGEuZG5kLl9jbGVhbigpLCExfX19KGUpLGUuanN0cmVlLmRlZmF1bHRzLnNlYXJjaD17YWpheDohMSxmdXp6eTohMSxjYXNlX3NlbnNpdGl2ZTohMSxzaG93X29ubHlfbWF0Y2hlczohMSxjbG9zZV9vcGVuZWRfb25jbGVhcjohMCxzZWFyY2hfbGVhdmVzX29ubHk6ITEsc2VhcmNoX2NhbGxiYWNrOiExfSxlLmpzdHJlZS5wbHVnaW5zLnNlYXJjaD1mdW5jdGlvbihpLHMpe3RoaXMuYmluZD1mdW5jdGlvbigpe3MuYmluZC5jYWxsKHRoaXMpLHRoaXMuX2RhdGEuc2VhcmNoLnN0cj0iIix0aGlzLl9kYXRhLnNlYXJjaC5kb209ZSgpLHRoaXMuX2RhdGEuc2VhcmNoLnJlcz1bXSx0aGlzLl9kYXRhLnNlYXJjaC5vcG49W10sdGhpcy5lbGVtZW50Lm9uKCJiZWZvcmVfb3Blbi5qc3RyZWUiLGUucHJveHkoZnVuY3Rpb24oKXt2YXIgcyxyLGE9dGhpcy5fZGF0YS5zZWFyY2gucmVzLGQ9W10sbz1lKCk7aWYoYSYmYS5sZW5ndGgmJih0aGlzLl9kYXRhLnNlYXJjaC5kb209ZSh0aGlzLmVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvckFsbCgiIyIrZS5tYXAoYSxmdW5jdGlvbih0KXtyZXR1cm4tMSE9PSIwMTIzNDU2Nzg5Ii5pbmRleE9mKHRbMF0pPyJcXDMiK3RbMF0rIiAiK3Quc3Vic3RyKDEpLnJlcGxhY2UoZS5qc3RyZWUuaWRyZWdleCwiXFwkJiIpOnQucmVwbGFjZShlLmpzdHJlZS5pZHJlZ2V4LCJcXCQmIil9KS5qb2luKCIsICMiKSkpLHRoaXMuX2RhdGEuc2VhcmNoLmRvbS5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5hZGRDbGFzcygianN0cmVlLXNlYXJjaCIpLHRoaXMuc2V0dGluZ3Muc2VhcmNoLnNob3dfb25seV9tYXRjaGVzJiZ0aGlzLl9kYXRhLnNlYXJjaC5yZXMubGVuZ3RoKSl7Zm9yKHM9MCxyPWEubGVuZ3RoO3I+cztzKyspZD1kLmNvbmNhdCh0aGlzLmdldF9ub2RlKGFbc10pLnBhcmVudHMpO2Q9ZS52YWthdGEuYXJyYXlfcmVtb3ZlX2l0ZW0oZS52YWthdGEuYXJyYXlfdW5pcXVlKGQpLCIjIiksbz1kLmxlbmd0aD9lKHRoaXMuZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yQWxsKCIjIitlLm1hcChkLGZ1bmN0aW9uKHQpe3JldHVybi0xIT09IjAxMjM0NTY3ODkiLmluZGV4T2YodFswXSk/IlxcMyIrdFswXSsiICIrdC5zdWJzdHIoMSkucmVwbGFjZShlLmpzdHJlZS5pZHJlZ2V4LCJcXCQmIik6dC5yZXBsYWNlKGUuanN0cmVlLmlkcmVnZXgsIlxcJCYiKX0pLmpvaW4oIiwgIyIpKSk6ZSgpLHRoaXMuZWxlbWVudC5maW5kKCIuanN0cmVlLW5vZGUiKS5oaWRlKCkuZmlsdGVyKCIuanN0cmVlLWxhc3QiKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZXh0U2libGluZ30pLnJlbW92ZUNsYXNzKCJqc3RyZWUtbGFzdCIpLG89by5hZGQodGhpcy5fZGF0YS5zZWFyY2guZG9tKSxvLnBhcmVudHNVbnRpbCgiLmpzdHJlZSIpLmFkZEJhY2soKS5zaG93KCkuZmlsdGVyKCIuanN0cmVlLWNoaWxkcmVuIikuZWFjaChmdW5jdGlvbigpe2UodGhpcykuY2hpbGRyZW4oIi5qc3RyZWUtbm9kZTp2aXNpYmxlIikuZXEoLTEpLmFkZENsYXNzKCJqc3RyZWUtbGFzdCIpfSl9fSx0aGlzKSksdGhpcy5zZXR0aW5ncy5zZWFyY2guc2hvd19vbmx5X21hdGNoZXMmJnRoaXMuZWxlbWVudC5vbigic2VhcmNoLmpzdHJlZSIsZnVuY3Rpb24odCxpKXtpLm5vZGVzLmxlbmd0aCYmKGUodGhpcykuZmluZCgiLmpzdHJlZS1ub2RlIikuaGlkZSgpLmZpbHRlcigiLmpzdHJlZS1sYXN0IikuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmV4dFNpYmxpbmd9KS5yZW1vdmVDbGFzcygianN0cmVlLWxhc3QiKSxpLm5vZGVzLnBhcmVudHNVbnRpbCgiLmpzdHJlZSIpLmFkZEJhY2soKS5zaG93KCkuZmlsdGVyKCIuanN0cmVlLWNoaWxkcmVuIikuZWFjaChmdW5jdGlvbigpe2UodGhpcykuY2hpbGRyZW4oIi5qc3RyZWUtbm9kZTp2aXNpYmxlIikuZXEoLTEpLmFkZENsYXNzKCJqc3RyZWUtbGFzdCIpfSkpfSkub24oImNsZWFyX3NlYXJjaC5qc3RyZWUiLGZ1bmN0aW9uKHQsaSl7aS5ub2Rlcy5sZW5ndGgmJmUodGhpcykuZmluZCgiLmpzdHJlZS1ub2RlIikuY3NzKCJkaXNwbGF5IiwiIikuZmlsdGVyKCIuanN0cmVlLWxhc3QiKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZXh0U2libGluZ30pLnJlbW92ZUNsYXNzKCJqc3RyZWUtbGFzdCIpfSl9LHRoaXMuc2VhcmNoPWZ1bmN0aW9uKGkscyl7aWYoaT09PSExfHwiIj09PWUudHJpbSgiIitpKSlyZXR1cm4gdGhpcy5jbGVhcl9zZWFyY2goKTtpPSIiK2k7dmFyIHI9dGhpcy5zZXR0aW5ncy5zZWFyY2gsbj1yLmFqYXg/ci5hamF4OiExLGE9bnVsbCxkPVtdLG89W107cmV0dXJuIHRoaXMuX2RhdGEuc2VhcmNoLnJlcy5sZW5ndGgmJnRoaXMuY2xlYXJfc2VhcmNoKCksc3x8bj09PSExPyh0aGlzLl9kYXRhLnNlYXJjaC5zdHI9aSx0aGlzLl9kYXRhLnNlYXJjaC5kb209ZSgpLHRoaXMuX2RhdGEuc2VhcmNoLnJlcz1bXSx0aGlzLl9kYXRhLnNlYXJjaC5vcG49W10sYT1uZXcgZS52YWthdGEuc2VhcmNoKGksITAse2Nhc2VTZW5zaXRpdmU6ci5jYXNlX3NlbnNpdGl2ZSxmdXp6eTpyLmZ1enp5fSksZS5lYWNoKHRoaXMuX21vZGVsLmRhdGEsZnVuY3Rpb24oZSx0KXt0LnRleHQmJihyLnNlYXJjaF9jYWxsYmFjayYmci5zZWFyY2hfY2FsbGJhY2suY2FsbCh0aGlzLGksdCl8fCFyLnNlYXJjaF9jYWxsYmFjayYmYS5zZWFyY2godC50ZXh0KS5pc01hdGNoKSYmKCFyLnNlYXJjaF9sZWF2ZXNfb25seXx8dC5zdGF0ZS5sb2FkZWQmJjA9PT10LmNoaWxkcmVuLmxlbmd0aCkmJihkLnB1c2goZSksbz1vLmNvbmNhdCh0LnBhcmVudHMpKX0pLGQubGVuZ3RoJiYobz1lLnZha2F0YS5hcnJheV91bmlxdWUobyksdGhpcy5fc2VhcmNoX29wZW4obyksdGhpcy5fZGF0YS5zZWFyY2guZG9tPWUodGhpcy5lbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3JBbGwoIiMiK2UubWFwKGQsZnVuY3Rpb24odCl7cmV0dXJuLTEhPT0iMDEyMzQ1Njc4OSIuaW5kZXhPZih0WzBdKT8iXFwzIit0WzBdKyIgIit0LnN1YnN0cigxKS5yZXBsYWNlKGUuanN0cmVlLmlkcmVnZXgsIlxcJCYiKTp0LnJlcGxhY2UoZS5qc3RyZWUuaWRyZWdleCwiXFwkJiIpfSkuam9pbigiLCAjIikpKSx0aGlzLl9kYXRhLnNlYXJjaC5yZXM9ZCx0aGlzLl9kYXRhLnNlYXJjaC5kb20uY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuYWRkQ2xhc3MoImpzdHJlZS1zZWFyY2giKSksdGhpcy50cmlnZ2VyKCJzZWFyY2giLHtub2Rlczp0aGlzLl9kYXRhLnNlYXJjaC5kb20sc3RyOmkscmVzOnRoaXMuX2RhdGEuc2VhcmNoLnJlc30pLHQpOmUuaXNGdW5jdGlvbihuKT9uLmNhbGwodGhpcyxpLGUucHJveHkoZnVuY3Rpb24odCl7dCYmdC5kJiYodD10LmQpLHRoaXMuX2xvYWRfbm9kZXMoZS5pc0FycmF5KHQpP2UudmFrYXRhLmFycmF5X3VuaXF1ZSh0KTpbXSxmdW5jdGlvbigpe3RoaXMuc2VhcmNoKGksITApfSwhMCl9LHRoaXMpKToobj1lLmV4dGVuZCh7fSxuKSxuLmRhdGF8fChuLmRhdGE9e30pLG4uZGF0YS5zdHI9aSxlLmFqYXgobikuZmFpbChlLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOiJhamF4IixwbHVnaW46InNlYXJjaCIsaWQ6InNlYXJjaF8wMSIscmVhc29uOiJDb3VsZCBub3QgbG9hZCBzZWFyY2ggcGFyZW50cyIsZGF0YTpKU09OLnN0cmluZ2lmeShuKX0sdGhpcy5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcil9LHRoaXMpKS5kb25lKGUucHJveHkoZnVuY3Rpb24odCl7dCYmdC5kJiYodD10LmQpLHRoaXMuX2xvYWRfbm9kZXMoZS5pc0FycmF5KHQpP2UudmFrYXRhLmFycmF5X3VuaXF1ZSh0KTpbXSxmdW5jdGlvbigpe3RoaXMuc2VhcmNoKGksITApfSwhMCl9LHRoaXMpKSl9LHRoaXMuY2xlYXJfc2VhcmNoPWZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5zZWFyY2guZG9tLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLnJlbW92ZUNsYXNzKCJqc3RyZWUtc2VhcmNoIiksdGhpcy5zZXR0aW5ncy5zZWFyY2guY2xvc2Vfb3BlbmVkX29uY2xlYXImJnRoaXMuY2xvc2Vfbm9kZSh0aGlzLl9kYXRhLnNlYXJjaC5vcG4sMCksdGhpcy50cmlnZ2VyKCJjbGVhcl9zZWFyY2giLHtub2Rlczp0aGlzLl9kYXRhLnNlYXJjaC5kb20sc3RyOnRoaXMuX2RhdGEuc2VhcmNoLnN0cixyZXM6dGhpcy5fZGF0YS5zZWFyY2gucmVzfSksdGhpcy5fZGF0YS5zZWFyY2guc3RyPSIiLHRoaXMuX2RhdGEuc2VhcmNoLnJlcz1bXSx0aGlzLl9kYXRhLnNlYXJjaC5vcG49W10sdGhpcy5fZGF0YS5zZWFyY2guZG9tPWUoKX0sdGhpcy5fc2VhcmNoX29wZW49ZnVuY3Rpb24odCl7dmFyIGk9dGhpcztlLmVhY2godC5jb25jYXQoW10pLGZ1bmN0aW9uKHMscil7aWYoIiMiPT09cilyZXR1cm4hMDt0cnl7cj1lKCIjIityLnJlcGxhY2UoZS5qc3RyZWUuaWRyZWdleCwiXFwkJiIpLGkuZWxlbWVudCl9Y2F0Y2gobil7fXImJnIubGVuZ3RoJiZpLmlzX2Nsb3NlZChyKSYmKGkuX2RhdGEuc2VhcmNoLm9wbi5wdXNoKHJbMF0uaWQpLGkub3Blbl9ub2RlKHIsZnVuY3Rpb24oKXtpLl9zZWFyY2hfb3Blbih0KQp9LDApKX0pfX0sZnVuY3Rpb24oZSl7ZS52YWthdGEuc2VhcmNoPWZ1bmN0aW9uKGUsdCxpKXtpPWl8fHt9LGkuZnV6enkhPT0hMSYmKGkuZnV6enk9ITApLGU9aS5jYXNlU2Vuc2l0aXZlP2U6ZS50b0xvd2VyQ2FzZSgpO3ZhciBkLG8sYyxsLHM9aS5sb2NhdGlvbnx8MCxyPWkuZGlzdGFuY2V8fDEwMCxuPWkudGhyZXNob2xkfHwuNixhPWUubGVuZ3RoO3JldHVybiBhPjMyJiYoaS5mdXp6eT0hMSksaS5mdXp6eSYmKGQ9MTw8YS0xLG89ZnVuY3Rpb24oKXt2YXIgdD17fSxpPTA7Zm9yKGk9MDthPmk7aSsrKXRbZS5jaGFyQXQoaSldPTA7Zm9yKGk9MDthPmk7aSsrKXRbZS5jaGFyQXQoaSldfD0xPDxhLWktMTtyZXR1cm4gdH0oKSxjPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZS9hLG49TWF0aC5hYnMocy10KTtyZXR1cm4gcj9pK24vcjpuPzE6aX0pLGw9ZnVuY3Rpb24odCl7aWYodD1pLmNhc2VTZW5zaXRpdmU/dDp0LnRvTG93ZXJDYXNlKCksZT09PXR8fC0xIT09dC5pbmRleE9mKGUpKXJldHVybntpc01hdGNoOiEwLHNjb3JlOjB9O2lmKCFpLmZ1enp5KXJldHVybntpc01hdGNoOiExLHNjb3JlOjF9O3ZhciByLGwsZyxmLG0sdixqLGsseSxoPXQubGVuZ3RoLF89bix1PXQuaW5kZXhPZihlLHMpLHA9YStoLHg9MSxiPVtdO2ZvcigtMSE9PXUmJihfPU1hdGgubWluKGMoMCx1KSxfKSx1PXQubGFzdEluZGV4T2YoZSxzK2EpLC0xIT09dSYmKF89TWF0aC5taW4oYygwLHUpLF8pKSksdT0tMSxyPTA7YT5yO3IrKyl7Zm9yKGc9MCxmPXA7Zj5nOylfPj1jKHIscytmKT9nPWY6cD1mLGY9TWF0aC5mbG9vcigocC1nKS8yK2cpO2ZvcihwPWYsdj1NYXRoLm1heCgxLHMtZisxKSxqPU1hdGgubWluKHMrZixoKSthLGs9QXJyYXkoaisyKSxrW2orMV09KDE8PHIpLTEsbD1qO2w+PXY7bC0tKWlmKHk9b1t0LmNoYXJBdChsLTEpXSxrW2xdPTA9PT1yPygxfGtbbCsxXTw8MSkmeTooMXxrW2wrMV08PDEpJnl8KDF8KG1bbCsxXXxtW2xdKTw8MSl8bVtsKzFdLGtbbF0mZCYmKHg9YyhyLGwtMSksXz49eCkpe2lmKF89eCx1PWwtMSxiLnB1c2godSksISh1PnMpKWJyZWFrO3Y9TWF0aC5tYXgoMSwyKnMtdSl9aWYoYyhyKzEscyk+XylicmVhazttPWt9cmV0dXJue2lzTWF0Y2g6dT49MCxzY29yZTp4fX0sdD09PSEwP3tzZWFyY2g6bH06bCh0KX19KGUpLGUuanN0cmVlLmRlZmF1bHRzLnNvcnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5nZXRfdGV4dChlKT50aGlzLmdldF90ZXh0KHQpPzE6LTF9LGUuanN0cmVlLnBsdWdpbnMuc29ydD1mdW5jdGlvbih0LGkpe3RoaXMuYmluZD1mdW5jdGlvbigpe2kuYmluZC5jYWxsKHRoaXMpLHRoaXMuZWxlbWVudC5vbigibW9kZWwuanN0cmVlIixlLnByb3h5KGZ1bmN0aW9uKGUsdCl7dGhpcy5zb3J0KHQucGFyZW50LCEwKX0sdGhpcykpLm9uKCJyZW5hbWVfbm9kZS5qc3RyZWUgY3JlYXRlX25vZGUuanN0cmVlIixlLnByb3h5KGZ1bmN0aW9uKGUsdCl7dGhpcy5zb3J0KHQucGFyZW50fHx0Lm5vZGUucGFyZW50LCExKSx0aGlzLnJlZHJhd19ub2RlKHQucGFyZW50fHx0Lm5vZGUucGFyZW50LCEwKX0sdGhpcykpLm9uKCJtb3ZlX25vZGUuanN0cmVlIGNvcHlfbm9kZS5qc3RyZWUiLGUucHJveHkoZnVuY3Rpb24oZSx0KXt0aGlzLnNvcnQodC5wYXJlbnQsITEpLHRoaXMucmVkcmF3X25vZGUodC5wYXJlbnQsITApfSx0aGlzKSl9LHRoaXMuc29ydD1mdW5jdGlvbih0LGkpe3ZhciBzLHI7aWYodD10aGlzLmdldF9ub2RlKHQpLHQmJnQuY2hpbGRyZW4mJnQuY2hpbGRyZW4ubGVuZ3RoJiYodC5jaGlsZHJlbi5zb3J0KGUucHJveHkodGhpcy5zZXR0aW5ncy5zb3J0LHRoaXMpKSxpKSlmb3Iocz0wLHI9dC5jaGlsZHJlbl9kLmxlbmd0aDtyPnM7cysrKXRoaXMuc29ydCh0LmNoaWxkcmVuX2Rbc10sITEpfX07dmFyIHU9ITE7ZS5qc3RyZWUuZGVmYXVsdHMuc3RhdGU9e2tleToianN0cmVlIixldmVudHM6ImNoYW5nZWQuanN0cmVlIG9wZW5fbm9kZS5qc3RyZWUgY2xvc2Vfbm9kZS5qc3RyZWUiLHR0bDohMSxmaWx0ZXI6ITF9LGUuanN0cmVlLnBsdWdpbnMuc3RhdGU9ZnVuY3Rpb24odCxpKXt0aGlzLmJpbmQ9ZnVuY3Rpb24oKXtpLmJpbmQuY2FsbCh0aGlzKTt2YXIgdD1lLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lm9uKHRoaXMuc2V0dGluZ3Muc3RhdGUuZXZlbnRzLGUucHJveHkoZnVuY3Rpb24oKXt1JiZjbGVhclRpbWVvdXQodSksdT1zZXRUaW1lb3V0KGUucHJveHkoZnVuY3Rpb24oKXt0aGlzLnNhdmVfc3RhdGUoKX0sdGhpcyksMTAwKX0sdGhpcykpfSx0aGlzKTt0aGlzLmVsZW1lbnQub24oInJlYWR5LmpzdHJlZSIsZS5wcm94eShmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5vbmUoInJlc3RvcmVfc3RhdGUuanN0cmVlIix0KSx0aGlzLnJlc3RvcmVfc3RhdGUoKXx8dCgpfSx0aGlzKSl9LHRoaXMuc2F2ZV9zdGF0ZT1mdW5jdGlvbigpe3ZhciB0PXtzdGF0ZTp0aGlzLmdldF9zdGF0ZSgpLHR0bDp0aGlzLnNldHRpbmdzLnN0YXRlLnR0bCxzZWM6K25ldyBEYXRlfTtlLnZha2F0YS5zdG9yYWdlLnNldCh0aGlzLnNldHRpbmdzLnN0YXRlLmtleSxKU09OLnN0cmluZ2lmeSh0KSl9LHRoaXMucmVzdG9yZV9zdGF0ZT1mdW5jdGlvbigpe3ZhciB0PWUudmFrYXRhLnN0b3JhZ2UuZ2V0KHRoaXMuc2V0dGluZ3Muc3RhdGUua2V5KTtpZih0KXRyeXt0PUpTT04ucGFyc2UodCl9Y2F0Y2goaSl7cmV0dXJuITF9cmV0dXJuIHQmJnQudHRsJiZ0LnNlYyYmK25ldyBEYXRlLXQuc2VjPnQudHRsPyExOih0JiZ0LnN0YXRlJiYodD10LnN0YXRlKSx0JiZlLmlzRnVuY3Rpb24odGhpcy5zZXR0aW5ncy5zdGF0ZS5maWx0ZXIpJiYodD10aGlzLnNldHRpbmdzLnN0YXRlLmZpbHRlci5jYWxsKHRoaXMsdCkpLHQ/KHRoaXMuZWxlbWVudC5vbmUoInNldF9zdGF0ZS5qc3RyZWUiLGZ1bmN0aW9uKGkscyl7cy5pbnN0YW5jZS50cmlnZ2VyKCJyZXN0b3JlX3N0YXRlIix7c3RhdGU6ZS5leHRlbmQoITAse30sdCl9KX0pLHRoaXMuc2V0X3N0YXRlKHQpLCEwKTohMSl9LHRoaXMuY2xlYXJfc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gZS52YWthdGEuc3RvcmFnZS5kZWwodGhpcy5zZXR0aW5ncy5zdGF0ZS5rZXkpfX0sZnVuY3Rpb24oZSl7ZS52YWthdGEuc3RvcmFnZT17c2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShlLHQpfSxnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKX0sZGVsOmZ1bmN0aW9uKGUpe3JldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oZSl9fX0oZSksZS5qc3RyZWUuZGVmYXVsdHMudHlwZXM9eyIjIjp7fSwiZGVmYXVsdCI6e319LGUuanN0cmVlLnBsdWdpbnMudHlwZXM9ZnVuY3Rpb24oaSxzKXt0aGlzLmluaXQ9ZnVuY3Rpb24oZSxpKXt2YXIgcixuO2lmKGkmJmkudHlwZXMmJmkudHlwZXNbImRlZmF1bHQiXSlmb3IociBpbiBpLnR5cGVzKWlmKCJkZWZhdWx0IiE9PXImJiIjIiE9PXImJmkudHlwZXMuaGFzT3duUHJvcGVydHkocikpZm9yKG4gaW4gaS50eXBlc1siZGVmYXVsdCJdKWkudHlwZXNbImRlZmF1bHQiXS5oYXNPd25Qcm9wZXJ0eShuKSYmaS50eXBlc1tyXVtuXT09PXQmJihpLnR5cGVzW3JdW25dPWkudHlwZXNbImRlZmF1bHQiXVtuXSk7cy5pbml0LmNhbGwodGhpcyxlLGkpLHRoaXMuX21vZGVsLmRhdGFbIiMiXS50eXBlPSIjIn0sdGhpcy5yZWZyZXNoPWZ1bmN0aW9uKGUsdCl7cy5yZWZyZXNoLmNhbGwodGhpcyxlLHQpLHRoaXMuX21vZGVsLmRhdGFbIiMiXS50eXBlPSIjIn0sdGhpcy5iaW5kPWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lm9uKCJtb2RlbC5qc3RyZWUiLGUucHJveHkoZnVuY3Rpb24oZSxpKXt2YXIgYSxkLHM9dGhpcy5fbW9kZWwuZGF0YSxyPWkubm9kZXMsbj10aGlzLnNldHRpbmdzLnR5cGVzLG89ImRlZmF1bHQiO2ZvcihhPTAsZD1yLmxlbmd0aDtkPmE7YSsrKW89ImRlZmF1bHQiLHNbclthXV0ub3JpZ2luYWwmJnNbclthXV0ub3JpZ2luYWwudHlwZSYmbltzW3JbYV1dLm9yaWdpbmFsLnR5cGVdJiYobz1zW3JbYV1dLm9yaWdpbmFsLnR5cGUpLHNbclthXV0uZGF0YSYmc1tyW2FdXS5kYXRhLmpzdHJlZSYmc1tyW2FdXS5kYXRhLmpzdHJlZS50eXBlJiZuW3NbclthXV0uZGF0YS5qc3RyZWUudHlwZV0mJihvPXNbclthXV0uZGF0YS5qc3RyZWUudHlwZSksc1tyW2FdXS50eXBlPW8sc1tyW2FdXS5pY29uPT09ITAmJm5bb10uaWNvbiE9PXQmJihzW3JbYV1dLmljb249bltvXS5pY29uKTtzWyIjIl0udHlwZT0iIyJ9LHRoaXMpKSxzLmJpbmQuY2FsbCh0aGlzKX0sdGhpcy5nZXRfanNvbj1mdW5jdGlvbih0LGkscil7dmFyIG4sYSxkPXRoaXMuX21vZGVsLmRhdGEsbz1pP2UuZXh0ZW5kKCEwLHt9LGkse25vX2lkOiExfSk6e30sYz1zLmdldF9qc29uLmNhbGwodGhpcyx0LG8scik7aWYoYz09PSExKXJldHVybiExO2lmKGUuaXNBcnJheShjKSlmb3Iobj0wLGE9Yy5sZW5ndGg7YT5uO24rKyljW25dLnR5cGU9Y1tuXS5pZCYmZFtjW25dLmlkXSYmZFtjW25dLmlkXS50eXBlP2RbY1tuXS5pZF0udHlwZToiZGVmYXVsdCIsaSYmaS5ub19pZCYmKGRlbGV0ZSBjW25dLmlkLGNbbl0ubGlfYXR0ciYmY1tuXS5saV9hdHRyLmlkJiZkZWxldGUgY1tuXS5saV9hdHRyLmlkKTtlbHNlIGMudHlwZT1jLmlkJiZkW2MuaWRdJiZkW2MuaWRdLnR5cGU/ZFtjLmlkXS50eXBlOiJkZWZhdWx0IixpJiZpLm5vX2lkJiYoYz10aGlzLl9kZWxldGVfaWRzKGMpKTtyZXR1cm4gY30sdGhpcy5fZGVsZXRlX2lkcz1mdW5jdGlvbih0KXtpZihlLmlzQXJyYXkodCkpe2Zvcih2YXIgaT0wLHM9dC5sZW5ndGg7cz5pO2krKyl0W2ldPXRoaXMuX2RlbGV0ZV9pZHModFtpXSk7cmV0dXJuIHR9cmV0dXJuIGRlbGV0ZSB0LmlkLHQubGlfYXR0ciYmdC5saV9hdHRyLmlkJiZkZWxldGUgdC5saV9hdHRyLmlkLHQuY2hpbGRyZW4mJmUuaXNBcnJheSh0LmNoaWxkcmVuKSYmKHQuY2hpbGRyZW49dGhpcy5fZGVsZXRlX2lkcyh0LmNoaWxkcmVuKSksdH0sdGhpcy5jaGVjaz1mdW5jdGlvbihpLHIsbixhLGQpe2lmKHMuY2hlY2suY2FsbCh0aGlzLGkscixuLGEsZCk9PT0hMSlyZXR1cm4hMTtyPXImJnIuaWQ/cjp0aGlzLmdldF9ub2RlKHIpLG49biYmbi5pZD9uOnRoaXMuZ2V0X25vZGUobik7dmFyIGMsbCxoLF8sbz1yJiZyLmlkP2UuanN0cmVlLnJlZmVyZW5jZShyLmlkKTpudWxsO3N3aXRjaChvPW8mJm8uX21vZGVsJiZvLl9tb2RlbC5kYXRhP28uX21vZGVsLmRhdGE6bnVsbCxpKXtjYXNlImNyZWF0ZV9ub2RlIjpjYXNlIm1vdmVfbm9kZSI6Y2FzZSJjb3B5X25vZGUiOmlmKCJtb3ZlX25vZGUiIT09aXx8LTE9PT1lLmluQXJyYXkoci5pZCxuLmNoaWxkcmVuKSl7aWYoYz10aGlzLmdldF9ydWxlcyhuKSxjLm1heF9jaGlsZHJlbiE9PXQmJi0xIT09Yy5tYXhfY2hpbGRyZW4mJmMubWF4X2NoaWxkcmVuPT09bi5jaGlsZHJlbi5sZW5ndGgpcmV0dXJuIHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjoiY2hlY2siLHBsdWdpbjoidHlwZXMiLGlkOiJ0eXBlc18wMSIscmVhc29uOiJtYXhfY2hpbGRyZW4gcHJldmVudHMgZnVuY3Rpb246ICIraSxkYXRhOkpTT04uc3RyaW5naWZ5KHtjaGs6aSxwb3M6YSxvYmo6ciYmci5pZD9yLmlkOiExLHBhcjpuJiZuLmlkP24uaWQ6ITF9KX0sITE7aWYoYy52YWxpZF9jaGlsZHJlbiE9PXQmJi0xIT09Yy52YWxpZF9jaGlsZHJlbiYmLTE9PT1lLmluQXJyYXkoci50eXBlLGMudmFsaWRfY2hpbGRyZW4pKXJldHVybiB0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6ImNoZWNrIixwbHVnaW46InR5cGVzIixpZDoidHlwZXNfMDIiLHJlYXNvbjoidmFsaWRfY2hpbGRyZW4gcHJldmVudHMgZnVuY3Rpb246ICIraSxkYXRhOkpTT04uc3RyaW5naWZ5KHtjaGs6aSxwb3M6YSxvYmo6ciYmci5pZD9yLmlkOiExLHBhcjpuJiZuLmlkP24uaWQ6ITF9KX0sITE7aWYobyYmci5jaGlsZHJlbl9kJiZyLnBhcmVudHMpe2ZvcihsPTAsaD0wLF89ci5jaGlsZHJlbl9kLmxlbmd0aDtfPmg7aCsrKWw9TWF0aC5tYXgobCxvW3IuY2hpbGRyZW5fZFtoXV0ucGFyZW50cy5sZW5ndGgpO2w9bC1yLnBhcmVudHMubGVuZ3RoKzF9KDA+PWx8fGw9PT10KSYmKGw9MSk7ZG97aWYoYy5tYXhfZGVwdGghPT10JiYtMSE9PWMubWF4X2RlcHRoJiZsPmMubWF4X2RlcHRoKXJldHVybiB0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6ImNoZWNrIixwbHVnaW46InR5cGVzIixpZDoidHlwZXNfMDMiLHJlYXNvbjoibWF4X2RlcHRoIHByZXZlbnRzIGZ1bmN0aW9uOiAiK2ksZGF0YTpKU09OLnN0cmluZ2lmeSh7Y2hrOmkscG9zOmEsb2JqOnImJnIuaWQ/ci5pZDohMSxwYXI6biYmbi5pZD9uLmlkOiExfSl9LCExO249dGhpcy5nZXRfbm9kZShuLnBhcmVudCksYz10aGlzLmdldF9ydWxlcyhuKSxsKyt9d2hpbGUobil9fXJldHVybiEwfSx0aGlzLmdldF9ydWxlcz1mdW5jdGlvbihlKXtpZihlPXRoaXMuZ2V0X25vZGUoZSksIWUpcmV0dXJuITE7dmFyIGk9dGhpcy5nZXRfdHlwZShlLCEwKTtyZXR1cm4gaS5tYXhfZGVwdGg9PT10JiYoaS5tYXhfZGVwdGg9LTEpLGkubWF4X2NoaWxkcmVuPT09dCYmKGkubWF4X2NoaWxkcmVuPS0xKSxpLnZhbGlkX2NoaWxkcmVuPT09dCYmKGkudmFsaWRfY2hpbGRyZW49LTEpLGl9LHRoaXMuZ2V0X3R5cGU9ZnVuY3Rpb24odCxpKXtyZXR1cm4gdD10aGlzLmdldF9ub2RlKHQpLHQ/aT9lLmV4dGVuZCh7dHlwZTp0LnR5cGV9LHRoaXMuc2V0dGluZ3MudHlwZXNbdC50eXBlXSk6dC50eXBlOiExfSx0aGlzLnNldF90eXBlPWZ1bmN0aW9uKGkscyl7dmFyIHIsbixhLGQsbztpZihlLmlzQXJyYXkoaSkpe2ZvcihpPWkuc2xpY2UoKSxuPTAsYT1pLmxlbmd0aDthPm47bisrKXRoaXMuc2V0X3R5cGUoaVtuXSxzKTtyZXR1cm4hMH1yZXR1cm4gcj10aGlzLnNldHRpbmdzLnR5cGVzLGk9dGhpcy5nZXRfbm9kZShpKSxyW3NdJiZpPyhkPWkudHlwZSxvPXRoaXMuZ2V0X2ljb24oaSksaS50eXBlPXMsKG89PT0hMHx8cltkXSYmcltkXS5pY29uJiZvPT09cltkXS5pY29uKSYmdGhpcy5zZXRfaWNvbihpLHJbc10uaWNvbiE9PXQ/cltzXS5pY29uOiEwKSwhMCk6ITF9fSxlLmpzdHJlZS5kZWZhdWx0cy51bmlxdWU9e2Nhc2Vfc2Vuc2l0aXZlOiExLGR1cGxpY2F0ZTpmdW5jdGlvbihlLHQpe3JldHVybiBlKyIgKCIrdCsiKSJ9fSxlLmpzdHJlZS5wbHVnaW5zLnVuaXF1ZT1mdW5jdGlvbihpLHMpe3RoaXMuY2hlY2s9ZnVuY3Rpb24odCxpLHIsbixhKXtpZihzLmNoZWNrLmNhbGwodGhpcyx0LGkscixuLGEpPT09ITEpcmV0dXJuITE7aWYoaT1pJiZpLmlkP2k6dGhpcy5nZXRfbm9kZShpKSxyPXImJnIuaWQ/cjp0aGlzLmdldF9ub2RlKHIpLCFyfHwhci5jaGlsZHJlbilyZXR1cm4hMDt2YXIgaCxfLGQ9InJlbmFtZV9ub2RlIj09PXQ/bjppLnRleHQsbz1bXSxjPXRoaXMuc2V0dGluZ3MudW5pcXVlLmNhc2Vfc2Vuc2l0aXZlLGw9dGhpcy5fbW9kZWwuZGF0YTtmb3IoaD0wLF89ci5jaGlsZHJlbi5sZW5ndGg7Xz5oO2grKylvLnB1c2goYz9sW3IuY2hpbGRyZW5baF1dLnRleHQ6bFtyLmNoaWxkcmVuW2hdXS50ZXh0LnRvTG93ZXJDYXNlKCkpO3N3aXRjaChjfHwoZD1kLnRvTG93ZXJDYXNlKCkpLHQpe2Nhc2UiZGVsZXRlX25vZGUiOnJldHVybiEwO2Nhc2UicmVuYW1lX25vZGUiOnJldHVybiBoPS0xPT09ZS5pbkFycmF5KGQsbyl8fGkudGV4dCYmaS50ZXh0W2M/InRvU3RyaW5nIjoidG9Mb3dlckNhc2UiXSgpPT09ZCxofHwodGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOiJjaGVjayIscGx1Z2luOiJ1bmlxdWUiLGlkOiJ1bmlxdWVfMDEiLHJlYXNvbjoiQ2hpbGQgd2l0aCBuYW1lICIrZCsiIGFscmVhZHkgZXhpc3RzLiBQcmV2ZW50aW5nOiAiK3QsZGF0YTpKU09OLnN0cmluZ2lmeSh7Y2hrOnQscG9zOm4sb2JqOmkmJmkuaWQ/aS5pZDohMSxwYXI6ciYmci5pZD9yLmlkOiExfSl9KSxoO2Nhc2UiY3JlYXRlX25vZGUiOnJldHVybiBoPS0xPT09ZS5pbkFycmF5KGQsbyksaHx8KHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjoiY2hlY2siLHBsdWdpbjoidW5pcXVlIixpZDoidW5pcXVlXzA0IixyZWFzb246IkNoaWxkIHdpdGggbmFtZSAiK2QrIiBhbHJlYWR5IGV4aXN0cy4gUHJldmVudGluZzogIit0LGRhdGE6SlNPTi5zdHJpbmdpZnkoe2Noazp0LHBvczpuLG9iajppJiZpLmlkP2kuaWQ6ITEscGFyOnImJnIuaWQ/ci5pZDohMX0pfSksaDtjYXNlImNvcHlfbm9kZSI6cmV0dXJuIGg9LTE9PT1lLmluQXJyYXkoZCxvKSxofHwodGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOiJjaGVjayIscGx1Z2luOiJ1bmlxdWUiLGlkOiJ1bmlxdWVfMDIiLHJlYXNvbjoiQ2hpbGQgd2l0aCBuYW1lICIrZCsiIGFscmVhZHkgZXhpc3RzLiBQcmV2ZW50aW5nOiAiK3QsZGF0YTpKU09OLnN0cmluZ2lmeSh7Y2hrOnQscG9zOm4sb2JqOmkmJmkuaWQ/aS5pZDohMSxwYXI6ciYmci5pZD9yLmlkOiExfSl9KSxoO2Nhc2UibW92ZV9ub2RlIjpyZXR1cm4gaD1pLnBhcmVudD09PXIuaWR8fC0xPT09ZS5pbkFycmF5KGQsbyksaHx8KHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjoiY2hlY2siLHBsdWdpbjoidW5pcXVlIixpZDoidW5pcXVlXzAzIixyZWFzb246IkNoaWxkIHdpdGggbmFtZSAiK2QrIiBhbHJlYWR5IGV4aXN0cy4gUHJldmVudGluZzogIit0LGRhdGE6SlNPTi5zdHJpbmdpZnkoe2Noazp0LHBvczpuLG9iajppJiZpLmlkP2kuaWQ6ITEscGFyOnImJnIuaWQ/ci5pZDohMX0pfSksaH1yZXR1cm4hMH0sdGhpcy5jcmVhdGVfbm9kZT1mdW5jdGlvbihpLHIsbixhLGQpe2lmKCFyfHxyLnRleHQ9PT10KXtpZihudWxsPT09aSYmKGk9IiMiKSxpPXRoaXMuZ2V0X25vZGUoaSksIWkpcmV0dXJuIHMuY3JlYXRlX25vZGUuY2FsbCh0aGlzLGkscixuLGEsZCk7aWYobj1uPT09dD8ibGFzdCI6biwhKCIiK24pLm1hdGNoKC9eKGJlZm9yZXxhZnRlcikkLykmJiFkJiYhdGhpcy5pc19sb2FkZWQoaSkpcmV0dXJuIHMuY3JlYXRlX25vZGUuY2FsbCh0aGlzLGkscixuLGEsZCk7cnx8KHI9e30pO3ZhciBvLGMsbCxoLF8sdT10aGlzLl9tb2RlbC5kYXRhLGc9dGhpcy5zZXR0aW5ncy51bmlxdWUuY2FzZV9zZW5zaXRpdmUsZj10aGlzLnNldHRpbmdzLnVuaXF1ZS5kdXBsaWNhdGU7Zm9yKGM9bz10aGlzLmdldF9zdHJpbmcoIk5ldyBub2RlIiksbD1bXSxoPTAsXz1pLmNoaWxkcmVuLmxlbmd0aDtfPmg7aCsrKWwucHVzaChnP3VbaS5jaGlsZHJlbltoXV0udGV4dDp1W2kuY2hpbGRyZW5baF1dLnRleHQudG9Mb3dlckNhc2UoKSk7Zm9yKGg9MTstMSE9PWUuaW5BcnJheShnP2M6Yy50b0xvd2VyQ2FzZSgpLGwpOyljPSIiK2YuY2FsbCh0aGlzLG8sKytoKTtyLnRleHQ9Y31yZXR1cm4gcy5jcmVhdGVfbm9kZS5jYWxsKHRoaXMsaSxyLG4sYSxkKX19O3ZhciBnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpO2cuc2V0QXR0cmlidXRlKCJ1bnNlbGVjdGFibGUiLCJvbiIpLGcuY2xhc3NOYW1lPSJqc3RyZWUtd2hvbGVyb3ciLGcuaW5uZXJIVE1MPSImIzE2MDsiLGUuanN0cmVlLnBsdWdpbnMud2hvbGVyb3c9ZnVuY3Rpb24odCxpKXt0aGlzLmJpbmQ9ZnVuY3Rpb24oKXtpLmJpbmQuY2FsbCh0aGlzKSx0aGlzLmVsZW1lbnQub24oInJlYWR5LmpzdHJlZSBzZXRfc3RhdGUuanN0cmVlIixlLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5oaWRlX2RvdHMoKX0sdGhpcykpLm9uKCJpbml0LmpzdHJlZSBsb2FkaW5nLmpzdHJlZSByZWFkeS5qc3RyZWUiLGUucHJveHkoZnVuY3Rpb24oKXt0aGlzLmdldF9jb250YWluZXJfdWwoKS5hZGRDbGFzcygianN0cmVlLXdob2xlcm93LXVsIil9LHRoaXMpKS5vbigiZGVzZWxlY3RfYWxsLmpzdHJlZSIsZS5wcm94eShmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5maW5kKCIuanN0cmVlLXdob2xlcm93LWNsaWNrZWQiKS5yZW1vdmVDbGFzcygianN0cmVlLXdob2xlcm93LWNsaWNrZWQiKX0sdGhpcykpLm9uKCJjaGFuZ2VkLmpzdHJlZSIsZS5wcm94eShmdW5jdGlvbihlLHQpe3RoaXMuZWxlbWVudC5maW5kKCIuanN0cmVlLXdob2xlcm93LWNsaWNrZWQiKS5yZW1vdmVDbGFzcygianN0cmVlLXdob2xlcm93LWNsaWNrZWQiKTt2YXIgcyxyLGk9ITE7Zm9yKHM9MCxyPXQuc2VsZWN0ZWQubGVuZ3RoO3I+cztzKyspaT10aGlzLmdldF9ub2RlKHQuc2VsZWN0ZWRbc10sITApLGkmJmkubGVuZ3RoJiZpLmNoaWxkcmVuKCIuanN0cmVlLXdob2xlcm93IikuYWRkQ2xhc3MoImpzdHJlZS13aG9sZXJvdy1jbGlja2VkIil9LHRoaXMpKS5vbigib3Blbl9ub2RlLmpzdHJlZSIsZS5wcm94eShmdW5jdGlvbihlLHQpe3RoaXMuZ2V0X25vZGUodC5ub2RlLCEwKS5maW5kKCIuanN0cmVlLWNsaWNrZWQiKS5wYXJlbnQoKS5jaGlsZHJlbigiLmpzdHJlZS13aG9sZXJvdyIpLmFkZENsYXNzKCJqc3RyZWUtd2hvbGVyb3ctY2xpY2tlZCIpfSx0aGlzKSkub24oImhvdmVyX25vZGUuanN0cmVlIGRlaG92ZXJfbm9kZS5qc3RyZWUiLGUucHJveHkoZnVuY3Rpb24oZSx0KXt0aGlzLmdldF9ub2RlKHQubm9kZSwhMCkuY2hpbGRyZW4oIi5qc3RyZWUtd2hvbGVyb3ciKVsiaG92ZXJfbm9kZSI9PT1lLnR5cGU/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXSgianN0cmVlLXdob2xlcm93LWhvdmVyZWQiKX0sdGhpcykpLm9uKCJjb250ZXh0bWVudS5qc3RyZWUiLCIuanN0cmVlLXdob2xlcm93IixlLnByb3h5KGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt2YXIgaT1lLkV2ZW50KCJjb250ZXh0bWVudSIse21ldGFLZXk6dC5tZXRhS2V5LGN0cmxLZXk6dC5jdHJsS2V5LGFsdEtleTp0LmFsdEtleSxzaGlmdEtleTp0LnNoaWZ0S2V5LHBhZ2VYOnQucGFnZVgscGFnZVk6dC5wYWdlWX0pO2UodC5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCIuanN0cmVlLW5vZGUiKS5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3I6ZXEoMCkiKS50cmlnZ2VyKGkpfSx0aGlzKSkub24oImNsaWNrLmpzdHJlZSIsIi5qc3RyZWUtd2hvbGVyb3ciLGZ1bmN0aW9uKHQpe3Quc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7dmFyIGk9ZS5FdmVudCgiY2xpY2siLHttZXRhS2V5OnQubWV0YUtleSxjdHJsS2V5OnQuY3RybEtleSxhbHRLZXk6dC5hbHRLZXksc2hpZnRLZXk6dC5zaGlmdEtleX0pO2UodC5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCIuanN0cmVlLW5vZGUiKS5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3I6ZXEoMCkiKS50cmlnZ2VyKGkpLmZvY3VzKCl9KS5vbigiY2xpY2suanN0cmVlIiwiLmpzdHJlZS1sZWFmID4gLmpzdHJlZS1vY2wiLGUucHJveHkoZnVuY3Rpb24odCl7dC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTt2YXIgaT1lLkV2ZW50KCJjbGljayIse21ldGFLZXk6dC5tZXRhS2V5LGN0cmxLZXk6dC5jdHJsS2V5LGFsdEtleTp0LmFsdEtleSxzaGlmdEtleTp0LnNoaWZ0S2V5fSk7ZSh0LmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoIi5qc3RyZWUtbm9kZSIpLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvcjplcSgwKSIpLnRyaWdnZXIoaSkuZm9jdXMoKX0sdGhpcykpLm9uKCJtb3VzZW92ZXIuanN0cmVlIiwiLmpzdHJlZS13aG9sZXJvdywgLmpzdHJlZS1pY29uIixlLnByb3h5KGZ1bmN0aW9uKGUpe3JldHVybiBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHRoaXMuaG92ZXJfbm9kZShlLmN1cnJlbnRUYXJnZXQpLCExfSx0aGlzKSkub24oIm1vdXNlbGVhdmUuanN0cmVlIiwiLmpzdHJlZS1ub2RlIixlLnByb3h5KGZ1bmN0aW9uKGUpe3RoaXMuZGVob3Zlcl9ub2RlKGUuY3VycmVudFRhcmdldCl9LHRoaXMpKX0sdGhpcy50ZWFyZG93bj1mdW5jdGlvbigpe3RoaXMuc2V0dGluZ3Mud2hvbGVyb3cmJnRoaXMuZWxlbWVudC5maW5kKCIuanN0cmVlLXdob2xlcm93IikucmVtb3ZlKCksaS50ZWFyZG93bi5jYWxsKHRoaXMpfSx0aGlzLnJlZHJhd19ub2RlPWZ1bmN0aW9uKHQscyxyKXtpZih0PWkucmVkcmF3X25vZGUuY2FsbCh0aGlzLHQscyxyKSl7dmFyIG49Zy5jbG9uZU5vZGUoITApOy0xIT09ZS5pbkFycmF5KHQuaWQsdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkKSYmKG4uY2xhc3NOYW1lKz0iIGpzdHJlZS13aG9sZXJvdy1jbGlja2VkIiksdC5pbnNlcnRCZWZvcmUobix0LmNoaWxkTm9kZXNbMF0pfXJldHVybiB0fX0sZnVuY3Rpb24oZSl7aWYoZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50KXt2YXIgdD1PYmplY3QuY3JlYXRlKEhUTUxFbGVtZW50LnByb3RvdHlwZSk7dC5jcmVhdGVkQ2FsbGJhY2s9ZnVuY3Rpb24oKXt2YXIgaSx0PXtjb3JlOnt9LHBsdWdpbnM6W119O2ZvcihpIGluIGUuanN0cmVlLnBsdWdpbnMpZS5qc3RyZWUucGx1Z2lucy5oYXNPd25Qcm9wZXJ0eShpKSYmdGhpcy5hdHRyaWJ1dGVzW2ldJiYodC5wbHVnaW5zLnB1c2goaSksdGhpcy5nZXRBdHRyaWJ1dGUoaSkmJkpTT04ucGFyc2UodGhpcy5nZXRBdHRyaWJ1dGUoaSkpJiYodFtpXT1KU09OLnBhcnNlKHRoaXMuZ2V0QXR0cmlidXRlKGkpKSkpO2ZvcihpIGluIGUuanN0cmVlLmRlZmF1bHRzLmNvcmUpZS5qc3RyZWUuZGVmYXVsdHMuY29yZS5oYXNPd25Qcm9wZXJ0eShpKSYmdGhpcy5hdHRyaWJ1dGVzW2ldJiYodC5jb3JlW2ldPUpTT04ucGFyc2UodGhpcy5nZXRBdHRyaWJ1dGUoaSkpfHx0aGlzLmdldEF0dHJpYnV0ZShpKSk7alF1ZXJ5KHRoaXMpLmpzdHJlZSh0KX0sZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50KCJ2YWthdGEtanN0cmVlIix7cHJvdG90eXBlOnR9KX19KGpRdWVyeSl9fSksZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fWZ1bmN0aW9uIHQoZSx0KXtmb3IodmFyIHI9ZS5sZW5ndGg7ci0tOylpZihlW3JdLmxpc3RlbmVyPT09dClyZXR1cm4gcjtyZXR1cm4tMX1mdW5jdGlvbiByKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzW2VdLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19dmFyIG49ZS5wcm90b3R5cGUscz10aGlzLGE9cy5FdmVudEVtaXR0ZXI7bi5nZXRMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7dmFyIHQscixuPXRoaXMuX2dldEV2ZW50cygpO2lmKGUgaW5zdGFuY2VvZiBSZWdFeHApe3Q9e307Zm9yKHIgaW4gbiluLmhhc093blByb3BlcnR5KHIpJiZlLnRlc3QocikmJih0W3JdPW5bcl0pfWVsc2UgdD1uW2VdfHwobltlXT1bXSk7cmV0dXJuIHR9LG4uZmxhdHRlbkxpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdCxyPVtdO2Zvcih0PTA7dDxlLmxlbmd0aDt0Kz0xKXIucHVzaChlW3RdLmxpc3RlbmVyKTtyZXR1cm4gcn0sbi5nZXRMaXN0ZW5lcnNBc09iamVjdD1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXMuZ2V0TGlzdGVuZXJzKGUpO3JldHVybiByIGluc3RhbmNlb2YgQXJyYXkmJih0PXt9LHRbZV09ciksdHx8cn0sbi5hZGRMaXN0ZW5lcj1mdW5jdGlvbihlLHIpe3ZhciBuLHM9dGhpcy5nZXRMaXN0ZW5lcnNBc09iamVjdChlKSxhPSJvYmplY3QiPT10eXBlb2Ygcjtmb3IobiBpbiBzKXMuaGFzT3duUHJvcGVydHkobikmJi0xPT09dChzW25dLHIpJiZzW25dLnB1c2goYT9yOntsaXN0ZW5lcjpyLG9uY2U6ITF9KTtyZXR1cm4gdGhpc30sbi5vbj1yKCJhZGRMaXN0ZW5lciIpLG4uYWRkT25jZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYWRkTGlzdGVuZXIoZSx7bGlzdGVuZXI6dCxvbmNlOiEwfSl9LG4ub25jZT1yKCJhZGRPbmNlTGlzdGVuZXIiKSxuLmRlZmluZUV2ZW50PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldExpc3RlbmVycyhlKSx0aGlzfSxuLmRlZmluZUV2ZW50cz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrPTEpdGhpcy5kZWZpbmVFdmVudChlW3RdKTtyZXR1cm4gdGhpc30sbi5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbihlLHIpe3ZhciBuLHMsYT10aGlzLmdldExpc3RlbmVyc0FzT2JqZWN0KGUpO2ZvcihzIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShzKSYmKG49dChhW3NdLHIpLC0xIT09biYmYVtzXS5zcGxpY2UobiwxKSk7cmV0dXJuIHRoaXN9LG4ub2ZmPXIoInJlbW92ZUxpc3RlbmVyIiksbi5hZGRMaXN0ZW5lcnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5tYW5pcHVsYXRlTGlzdGVuZXJzKCExLGUsdCl9LG4ucmVtb3ZlTGlzdGVuZXJzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubWFuaXB1bGF0ZUxpc3RlbmVycyghMCxlLHQpfSxuLm1hbmlwdWxhdGVMaXN0ZW5lcnM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuLHMsYT1lP3RoaXMucmVtb3ZlTGlzdGVuZXI6dGhpcy5hZGRMaXN0ZW5lcixpPWU/dGhpcy5yZW1vdmVMaXN0ZW5lcnM6dGhpcy5hZGRMaXN0ZW5lcnM7aWYoIm9iamVjdCIhPXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgUmVnRXhwKWZvcihuPXIubGVuZ3RoO24tLTspYS5jYWxsKHRoaXMsdCxyW25dKTtlbHNlIGZvcihuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKHM9dFtuXSkmJigiZnVuY3Rpb24iPT10eXBlb2Ygcz9hLmNhbGwodGhpcyxuLHMpOmkuY2FsbCh0aGlzLG4scykpO3JldHVybiB0aGlzfSxuLnJlbW92ZUV2ZW50PWZ1bmN0aW9uKGUpe3ZhciB0LHI9dHlwZW9mIGUsbj10aGlzLl9nZXRFdmVudHMoKTtpZigic3RyaW5nIj09PXIpZGVsZXRlIG5bZV07ZWxzZSBpZihlIGluc3RhbmNlb2YgUmVnRXhwKWZvcih0IGluIG4pbi5oYXNPd25Qcm9wZXJ0eSh0KSYmZS50ZXN0KHQpJiZkZWxldGUgblt0XTtlbHNlIGRlbGV0ZSB0aGlzLl9ldmVudHM7cmV0dXJuIHRoaXN9LG4ucmVtb3ZlQWxsTGlzdGVuZXJzPXIoInJlbW92ZUV2ZW50Iiksbi5lbWl0RXZlbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLHMsYSxpPXRoaXMuZ2V0TGlzdGVuZXJzQXNPYmplY3QoZSk7Zm9yKHMgaW4gaSlpZihpLmhhc093blByb3BlcnR5KHMpKWZvcihuPWlbc10ubGVuZ3RoO24tLTspcj1pW3NdW25dLHIub25jZT09PSEwJiZ0aGlzLnJlbW92ZUxpc3RlbmVyKGUsci5saXN0ZW5lciksYT1yLmxpc3RlbmVyLmFwcGx5KHRoaXMsdHx8W10pLGE9PT10aGlzLl9nZXRPbmNlUmV0dXJuVmFsdWUoKSYmdGhpcy5yZW1vdmVMaXN0ZW5lcihlLHIubGlzdGVuZXIpO3JldHVybiB0aGlzfSxuLnRyaWdnZXI9cigiZW1pdEV2ZW50Iiksbi5lbWl0PWZ1bmN0aW9uKGUpe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gdGhpcy5lbWl0RXZlbnQoZSx0KX0sbi5zZXRPbmNlUmV0dXJuVmFsdWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX29uY2VSZXR1cm5WYWx1ZT1lLHRoaXN9LG4uX2dldE9uY2VSZXR1cm5WYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc093blByb3BlcnR5KCJfb25jZVJldHVyblZhbHVlIik/dGhpcy5fb25jZVJldHVyblZhbHVlOiEwfSxuLl9nZXRFdmVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPXt9KX0sZS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHMuRXZlbnRFbWl0dGVyPWEsZX0sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoImV2ZW50RW1pdHRlci9FdmVudEVtaXR0ZXIiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIGV9KToib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZTp0aGlzLkV2ZW50RW1pdHRlcj1lfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIGU9e3NlcmlhbGl6ZTpmdW5jdGlvbihlLHIsbil7bj1ufHx7fTt2YXIgcz1uLmVuY29kZXx8dCxhPVtlKyI9IitzKHIpXTtpZihudWxsIT1uLm1heEFnZSl7dmFyIGk9bi5tYXhBZ2UtMDtpZihpc05hTihpKSl0aHJvdyBuZXcgRXJyb3IoIm1heEFnZSBzaG91bGQgYmUgYSBOdW1iZXIiKTthLnB1c2goIk1heC1BZ2U9IitpKX1yZXR1cm4gbi5kb21haW4mJmEucHVzaCgiRG9tYWluPSIrbi5kb21haW4pLG4ucGF0aCYmYS5wdXNoKCJQYXRoPSIrbi5wYXRoKSxuLmV4cGlyZXMmJmEucHVzaCgiRXhwaXJlcz0iK24uZXhwaXJlcy50b1VUQ1N0cmluZygpKSxuLmh0dHBPbmx5JiZhLnB1c2goIkh0dHBPbmx5Iiksbi5zZWN1cmUmJmEucHVzaCgiU2VjdXJlIiksYS5qb2luKCI7ICIpfSxwYXJzZTpmdW5jdGlvbihlLHQpe3Q9dHx8e307dmFyIG49e30scz1lLnNwbGl0KC87ICovKSxhPXQuZGVjb2RlfHxyO3JldHVybiBzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pbmRleE9mKCI9Iik7aWYoISgwPnQpKXt2YXIgcj1lLnN1YnN0cigwLHQpLnRyaW0oKSxzPWUuc3Vic3RyKCsrdCxlLmxlbmd0aCkudHJpbSgpO2lmKCciJz09c1swXSYmKHM9cy5zbGljZSgxLC0xKSksdm9pZCAwPT1uW3JdKXRyeXtuW3JdPWEocyl9Y2F0Y2goaSl7bltyXT1zfX19KSxufX0sdD1lbmNvZGVVUklDb21wb25lbnQscj1kZWNvZGVVUklDb21wb25lbnQ7InVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWU6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoImNvb2tpZS1qcy9jb29raWUiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIGV9KTp3aW5kb3cuY29va2llanM9ZX0oKSxmdW5jdGlvbihlLHQpeyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKCJhbmFseXRpY3MiLHQpOiJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9dCgpOmUuYW5hbHl0aWNzPXQoKX0odGhpcyxmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dmFyIHI9L14oYXxhbnxhbmR8YXN8YXR8YnV0fGJ5fGVufGZvcnxpZnxpbnxub3J8b2Z8b258b3J8cGVyfHRoZXx0b3x2cz9cLj98dmlhKSQvaTtyZXR1cm4gZT10KGUpLGUucmVwbGFjZSgvW0EtWmEtejAtOVx1MDBDMC1cdTAwRkZdK1teXHMtXSovZyxmdW5jdGlvbihlLHQsbil7cmV0dXJuIHQ+MCYmdCtlLmxlbmd0aCE9PW4ubGVuZ3RoJiZlLnNlYXJjaChyKT4tMSYmIjoiIT09bi5jaGFyQXQodC0yKSYmKCItIiE9PW4uY2hhckF0KHQrZS5sZW5ndGgpfHwiLSI9PT1uLmNoYXJBdCh0LTEpKSYmbi5jaGFyQXQodC0xKS5zZWFyY2goL1teXHMtXS8pPDA/ZS50b0xvd2VyQ2FzZSgpOmUuc3Vic3RyKDEpLnNlYXJjaCgvW0EtWl18XC4uLyk+LTE/ZTplLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Uuc3Vic3RyKDEpfSl9ZnVuY3Rpb24gdChlKXtyZXR1cm4gZS5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIil9ZnVuY3Rpb24gcihlKXtyZXR1cm4vW15AXStAW15AXSsvLnRlc3QoZSl9ZnVuY3Rpb24gbihlKXtjb25zb2xlLndhcm4oIlthbmFseXRpY3NdICIrZSl9ZnVuY3Rpb24gcyhlKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZ2Epe3ZhciB0PXtoaXRUeXBlOiJldmVudCIsZXZlbnRDYXRlZ29yeTpkLGV2ZW50QWN0aW9uOmUuYWN0aW9ufTtlLmxhYmVsJiYodC5ldmVudExhYmVsPWUubGFiZWwpLChlLnZhbHVlfHwwPT09ZS52YWx1ZSkmJih0LmV2ZW50VmFsdWU9ZS52YWx1ZSksZS5ub25JbnRlcmFjdGlvbj09PSEwJiYodC5ub25JbnRlcmFjdGlvbj0xKSxnYSgic2VuZCIsdCl9dmFyIHI9WyJfdHJhY2tFdmVudCIsZCxlLmFjdGlvbl07ZS5sYWJlbCYmKHJbM109ZS5sYWJlbCksKGUudmFsdWV8fDA9PT1lLnZhbHVlKSYmKHJbNF09ZS52YWx1ZSksZS5ub25JbnRlcmFjdGlvbj09PSEwJiYocls1XT0hMCksX2dhcS5wdXNoKHIpfWZ1bmN0aW9uIGEoYSxpKXtpPWl8fHt9O3ZhciBvPXt9LGw9aS5sYWJlbCxjPWkudmFsdWUsdT1pLm5vbmludGVyYWN0aW9ufHxpLm5vbkludGVyYWN0aW9uO3JldHVybiBhPyhyKGEpJiYobigiYGFjdGlvbmAgYXJnIGxvb2tzIGxpa2UgYW4gZW1haWwgYWRkcmVzcywgcmVkYWN0aW5nLiIpLGE9bSksby5hY3Rpb249ZShhKSxsJiYoInN0cmluZyIhPXR5cGVvZiBsP24oIkV4cGVjdGVkIGBsYWJlbGAgYXJnIHRvIGJlIGEgU3RyaW5nLiIpOihyKGwpJiYobigiYGxhYmVsYCBhcmcgbG9va3MgbGlrZSBhbiBlbWFpbCBhZGRyZXNzLCByZWRhY3RpbmcuIiksbD1tKSxvLmxhYmVsPXQobCkpKSwoY3x8MD09PWMpJiYoIm51bWJlciIhPXR5cGVvZiBjP24oIkV4cGVjdGVkIGB2YWx1ZWAgYXJnIHRvIGJlIGEgTnVtYmVyLiIpOm8udmFsdWU9MHxjKSx1JiYoImJvb2xlYW4iIT10eXBlb2YgdT9uKCJFeHBlY3RlZCBgbm9uaW50ZXJhY3Rpb25gIGFyZyB0byBiZSBhIEJvb2xlYW4uIik6by5ub25JbnRlcmFjdGlvbj11PT09ITApLHZvaWQgcyhvKSk6dm9pZCBuKCJFeHBlY3RlZCBgYWN0aW9uYCBhcmcuIil9ZnVuY3Rpb24gaShlKXtyZXR1cm4vXlwvdmlydHVhbFwvLy50ZXN0KGUpP2U6KGU9ZS5yZXBsYWNlKC9eWy9dPy8sIi8iKSwiL3ZpcnR1YWwiK2UpfWZ1bmN0aW9uIG8oZSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGdhKXt2YXIgdD17aGl0VHlwZToicGFnZXZpZXciLHBhZ2U6ZS52aXJ0dWFsUGFnZVBhdGh9O2dhKCJzZW5kIix0KX12YXIgcj1bIl90cmFja1BhZ2V2aWV3IixlLnZpcnR1YWxQYWdlUGF0aF07X2dhcS5wdXNoKHIpfWZ1bmN0aW9uIGwoZSl7aWYoIWUpcmV0dXJuIHZvaWQgbigiRXhwZWN0ZWQgYHZpcnR1YWxQYWdlUGF0aGAgYXJnLiIpO2U9dChlKTt2YXIgcj17fTtyLnZpcnR1YWxQYWdlUGF0aD1pKGUpLG8ocil9ZnVuY3Rpb24gYyhlKXt2YXIgdD1bInRyYWNrRXZlbnQiLGUuYWN0aW9uXTtpZihlLnJldmVudWUpe3ZhciByPXtyZXZlbnVlOmUucmV2ZW51ZX07dFsyXT1yfW9wdGltaXplbHkucHVzaCh0KX1mdW5jdGlvbiB1KGUscil7cj1yfHx7fTt2YXIgcz17fSxhPXIudmFsdWVJbkNlbnRzO3JldHVybiBlPyhzLmFjdGlvbj10KGUpLGEmJigibnVtYmVyIj09dHlwZW9mIGEmJmElMT09PTA/cy5yZXZlbnVlPWE6bigiRXhwZWN0ZWQgYHZhbHVlSW5DZW50c2AgYXJnIHRvIGJlIGFuIGludGVnZXIuIikpLHZvaWQgYyhzKSk6dm9pZCBuKCJFeHBlY3RlZCBgYWN0aW9uYCBhcmcuIil9dGhpcy5fZ2FxfHwodGhpcy5fZ2FxPVtdKSx0aGlzLm9wdGltaXplbHl8fCh0aGlzLm9wdGltaXplbHk9W10pO3ZhciBkPWxvY2F0aW9uLmhvc3RuYW1lLG09IlJFREFDVEVEIChQb3RlbnRpYWwgRW1haWwgQWRkcmVzcykiO3JldHVybntldmVudDphLHZpcnR1YWxQYWdldmlldzpsLGNvbnZlcnNpb25Hb2FsOnV9fSksZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4scyl7cmV0dXJuIGZ1bmN0aW9uKGEpe2UubG9jYWxTdG9yYWdlfHxjb25zb2xlLmVycm9yKCJMb2NhbCBzdG9yYWdlIG11c3QgYmUgc3VwcG9ydGVkIGZvciBpbnN0YW50IGxvZ2luLiIpO3ZhciBpPXRoaXMsbz17ZG9tYWluOmxvY2F0aW9uLmhvc3RuYW1lLnNwbGl0KCIuIikuc2xpY2UoLTIpLmpvaW4oIi4iKSxwYXRoOiIvIixzZWN1cmU6Imh0dHBzOiI9PT1sb2NhdGlvbi5wcm90b2NvbCxleHBpcmVzOm5ldyBEYXRlKERhdGUubm93KCkrNjA0OGU1KX0sbD0vcmVmPSgoPzpcd3wtKSspLy5leGVjKGUubG9jYXRpb24uc2VhcmNoKSxjPW4ucGFyc2UoZG9jdW1lbnQuY29va2llKS53ZWJtYWtlclJlZmVycmFsO2wmJihsPWxbMV0pLGE9YXx8e30sYS5wYXRocz1hLnBhdGhzfHx7fSxpLmVtaXR0ZXI9bmV3IHQsaS5ob3N0PWEuaG9zdHx8IiIsaS5wYXRocz1hLnBhdGhzfHx7fSxpLnBhdGhzLmF1dGhlbnRpY2F0ZT1hLnBhdGhzLmF1dGhlbnRpY2F0ZXx8Ii9hdXRoZW50aWNhdGUiLGkucGF0aHMuY3JlYXRlPWEucGF0aHMuY3JlYXRlfHwiL2NyZWF0ZSIsaS5wYXRocy52ZXJpZnk9YS5wYXRocy52ZXJpZnl8fCIvdmVyaWZ5IixpLnBhdGhzLmxvZ291dD1hLnBhdGhzLmxvZ291dHx8Ii9sb2dvdXQiLGkucGF0aHMuY2hlY2tVc2VybmFtZT1hLnBhdGhzLmNoZWNrVXNlcm5hbWV8fCIvY2hlY2stdXNlcm5hbWUiLGkudXJscz17YXV0aGVudGljYXRlOmkuaG9zdCtpLnBhdGhzLmF1dGhlbnRpY2F0ZSxjcmVhdGU6aS5ob3N0K2kucGF0aHMuY3JlYXRlLHZlcmlmeTppLmhvc3QraS5wYXRocy52ZXJpZnksbG9nb3V0OmkuaG9zdCtpLnBhdGhzLmxvZ291dCxjaGVja1VzZXJuYW1lOmkuaG9zdCtpLnBhdGhzLmNoZWNrVXNlcm5hbWV9LGkuYXVkaWVuY2U9YS5hdWRpZW5jZXx8ZS5sb2NhdGlvbi5wcm90b2NvbCsiLy8iK2UubG9jYXRpb24uaG9zdCxpLnByZWZpeD1hLnByZWZpeHx8IndlYm1ha2VyLSIsaS50aW1lb3V0PWEudGltZW91dHx8MTAsaS5sb2NhbFN0b3JhZ2VLZXk9aS5wcmVmaXgrImxvZ2luIixpLmNzcmZUb2tlbj1hLmNzcmZUb2tlbixpLndpdGhDcmVkZW50aWFscz1hLndpdGhDcmVkZW50aWFscz09PSExPyExOiEwLGwmJmMhPT1sJiYoZG9jdW1lbnQuY29va2llPW4uc2VyaWFsaXplKCJ3ZWJtYWtlclJlZmVycmFsIixsLG8pLGM9bCksaS5jbGVhclJlZmVycmVyQ29va2llPWZ1bmN0aW9uKCl7dmFyIGU9bztlLmV4cGlyZXM9bmV3IERhdGUoRGF0ZS5ub3coKS0xZTQpLGRvY3VtZW50LmNvb2tpZT1uLnNlcmlhbGl6ZSgid2VibWFrZXJSZWZlcnJhbCIsImV4cGlyZSIsZSl9LGkuaGFuZGxlTmV3VXNlclVJPWEuaGFuZGxlTmV3VXNlclVJPT09ITE/ITE6ITAsaS5hbmFseXRpY3M9e30saS5hbmFseXRpY3Mud2VibWFrZXJOZXdVc2VyQ2FuY2VsbGVkPWZ1bmN0aW9uKCl7cy5ldmVudCgiV2VibWFrZXIgTmV3IFVzZXIgQ2FuY2VsbGVkIil9LGkubW9kYWw9e30saS5tb2RhbC5lbGVtZW50PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ3ZWJtYWtlci1sb2dpbi1uZXctdXNlciIpLGkubW9kYWwuZGlzbWlzc1NlbGVjdG9yPSJbZGF0YS1kaXNtaXNzXSIsaS5tb2RhbC5jcmVhdGVTZWxlY3Rvcj0iLmNyZWF0ZS11c2VyIixpLm1vZGFsLmNyZWF0ZUJ0bk9uQ2xpY2s9ZnVuY3Rpb24oKXt9LGkubW9kYWwuY2hlY2tVc2VybmFtZU9uQ2hhbmdlPWZ1bmN0aW9uKCl7dmFyIGU9aS5tb2RhbC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIi51c2VybmFtZS10YWtlbi1lcnJvciIpLHQ9aS5tb2RhbC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIi51c2VybmFtZS1pbnZhbGlkLWVycm9yIikscj1pLm1vZGFsLmVsZW1lbnQucXVlcnlTZWxlY3RvcigiLnVzZXJuYW1lLXJlcXVpcmVkLWVycm9yIiksbj1pLm1vZGFsLmVsZW1lbnQucXVlcnlTZWxlY3RvcigiLnVzZXJuYW1lLWdyb3VwIikscz10aGlzLnZhbHVlO3JldHVybiBzP3ZvaWQgaS5jaGVja1VzZXJuYW1lKHMsZnVuY3Rpb24ocyxhKXtzJiYiVXNlcm5hbWUgdGFrZW4iPT09YT8obi5jbGFzc0xpc3QuYWRkKCJoYXMtZXJyb3IiKSxuLmNsYXNzTGlzdC5yZW1vdmUoImhhcy1zdWNjZXNzIiksZS5jbGFzc0xpc3QucmVtb3ZlKCJoaWRkZW4iKSxyLmNsYXNzTGlzdC5hZGQoImhpZGRlbiIpLHQuY2xhc3NMaXN0LmFkZCgiaGlkZGVuIikpOnMmJiJVc2VybmFtZSBpbnZhbGlkIj09PWE/KG4uY2xhc3NMaXN0LmFkZCgiaGFzLWVycm9yIiksbi5jbGFzc0xpc3QucmVtb3ZlKCJoYXMtc3VjY2VzcyIpLHQuY2xhc3NMaXN0LnJlbW92ZSgiaGlkZGVuIiksZS5jbGFzc0xpc3QuYWRkKCJoaWRkZW4iKSxyLmNsYXNzTGlzdC5hZGQoImhpZGRlbiIpKToobi5jbGFzc0xpc3QucmVtb3ZlKCJoYXMtZXJyb3IiKSxuLmNsYXNzTGlzdC5hZGQoImhhcy1zdWNjZXNzIiksZS5jbGFzc0xpc3QuYWRkKCJoaWRkZW4iKSxyLmNsYXNzTGlzdC5hZGQoImhpZGRlbiIpLHQuY2xhc3NMaXN0LmFkZCgiaGlkZGVuIikpfSk6KG4uY2xhc3NMaXN0LnJlbW92ZSgiaGFzLXN1Y2Nlc3MiKSxuLmNsYXNzTGlzdC5hZGQoImhhcy1lcnJvciIpLGUuY2xhc3NMaXN0LmFkZCgiaGlkZGVuIiksci5jbGFzc0xpc3QucmVtb3ZlKCJoaWRkZW4iKSx2b2lkIHQuY2xhc3NMaXN0LmFkZCgiaGlkZGVuIikpfSxpLm1vZGFsLnNldHVwPWZ1bmN0aW9uKGUpe3ZhciB0PWkubW9kYWwuZWxlbWVudC5xdWVyeVNlbGVjdG9yKGkubW9kYWwuY3JlYXRlU2VsZWN0b3IpLHI9aS5tb2RhbC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoaS5tb2RhbC5kaXNtaXNzU2VsZWN0b3IpLG49aS5tb2RhbC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIi51c2VybmFtZS1ncm91cCIpLHM9aS5tb2RhbC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIi5hZ3JlZS1ncm91cCIpLGE9aS5tb2RhbC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIi51c2VybmFtZS10YWtlbi1lcnJvciIpLG89aS5tb2RhbC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIi51c2VybmFtZS1yZXF1aXJlZC1lcnJvciIpLGw9aS5tb2RhbC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIi51c2VybmFtZS1pbnZhbGlkLWVycm9yIiksYz1pLm1vZGFsLmVsZW1lbnQucXVlcnlTZWxlY3RvcigiLmFncmVlLWVycm9yIiksdT1pLm1vZGFsLmVsZW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9InVzZXJuYW1lIl0nKSxkPWkubW9kYWwuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT0iYWdyZWVUb1Rlcm1zIl0nKSxtPWkubW9kYWwuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT0ibWFpbGluZ0xpc3QiXScpLGg9aS5tb2RhbC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIltuYW1lPXN1cHBvcnRlZExvY2FsZXNdIik7dC5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsaS5tb2RhbC5jcmVhdGVCdG5PbkNsaWNrLCExKSx1LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsaS5tb2RhbC5jaGVja1VzZXJuYW1lT25DaGFuZ2UsITEpLGkubW9kYWwuY3JlYXRlQnRuT25DbGljaz1mdW5jdGlvbigpe3ZhciB0PSExO2QuY2hlY2tlZHx8KHMuY2xhc3NMaXN0LmFkZCgiaGFzLWVycm9yIiksYy5jbGFzc0xpc3QucmVtb3ZlKCJoaWRkZW4iKSx0PSEwKSx1LnZhbHVlfHwobi5jbGFzc0xpc3QucmVtb3ZlKCJoYXMtc3VjY2VzcyIpLG4uY2xhc3NMaXN0LmFkZCgiaGFzLWVycm9yIiksYS5jbGFzc0xpc3QuYWRkKCJoaWRkZW4iKSxvLmNsYXNzTGlzdC5yZW1vdmUoImhpZGRlbiIpLGwuY2xhc3NMaXN0LmFkZCgiaGlkZGVuIiksdD0hMCksdHx8aS5jaGVja1VzZXJuYW1lKHUudmFsdWUsZnVuY3Rpb24odCxyKXt0JiYiVXNlcm5hbWUgdGFrZW4iPT09cj8obi5jbGFzc0xpc3QuYWRkKCJoYXMtZXJyb3IiKSxuLmNsYXNzTGlzdC5yZW1vdmUoImhhcy1zdWNjZXNzIiksYS5jbGFzc0xpc3QucmVtb3ZlKCJoaWRkZW4iKSxvLmNsYXNzTGlzdC5hZGQoImhpZGRlbiIpLGwuY2xhc3NMaXN0LmFkZCgiaGlkZGVuIikpOnQmJiJVc2VybmFtZSBpbnZhbGlkIj09PXI/KG4uY2xhc3NMaXN0LmFkZCgiaGFzLWVycm9yIiksbi5jbGFzc0xpc3QucmVtb3ZlKCJoYXMtc3VjY2VzcyIpLGwuY2xhc3NMaXN0LnJlbW92ZSgiaGlkZGVuIiksYS5jbGFzc0xpc3QuYWRkKCJoaWRkZW4iKSxvLmNsYXNzTGlzdC5hZGQoImhpZGRlbiIpKTppLmNyZWF0ZVVzZXIoe2Fzc2VydGlvbjplLHVzZXI6e3VzZXJuYW1lOnUudmFsdWUsbWFpbGluZ0xpc3Q6bS5jaGVja2VkLHByZWZMb2NhbGU6aC52YWx1ZX19LGZ1bmN0aW9uKGUpe3JldHVybiBlP3ZvaWQgY29uc29sZS5lcnJvcihlKTooYS5jbGFzc0xpc3QuYWRkKCJoaWRkZW4iKSxvLmNsYXNzTGlzdC5hZGQoImhpZGRlbiIpLGwuY2xhc3NMaXN0LmFkZCgiaGlkZGVuIiksYy5jbGFzc0xpc3QuYWRkKCJoaWRkZW4iKSxuLmNsYXNzTGlzdC5yZW1vdmUoImhhcy1lcnJvciIpLG4uY2xhc3NMaXN0LnJlbW92ZSgiaGFzLXN1Y2Nlc3MiKSxzLmNsYXNzTGlzdC5yZW1vdmUoImhhcy1lcnJvciIpLHZvaWQgaS5tb2RhbC5jbG9zZSgpKX0pfSl9O2Zvcih2YXIgdj0wO3Y8ci5sZW5ndGg7disrKXJbdl0ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xpY2siLGkubW9kYWwuY2xvc2UsITEpLHJbdl0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGkubW9kYWwuY2xvc2UsITEpO3QuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGkubW9kYWwuY3JlYXRlQnRuT25DbGljaywhMSl9LGkubW9kYWwub3Blbj1mdW5jdGlvbigpe2kubW9kYWwuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCJpbiIpLGkubW9kYWwuZWxlbWVudC5zdHlsZS5kaXNwbGF5PSJibG9jayIsaS5tb2RhbC5lbGVtZW50LnNldEF0dHJpYnV0ZSgiYXJpYS1oaWRkZW4iLCExKX0saS5tb2RhbC5jbG9zZT1mdW5jdGlvbihlKXtlJiZpLmFuYWx5dGljcy53ZWJtYWtlck5ld1VzZXJDYW5jZWxsZWQoKSxpLm1vZGFsLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgiaW4iKSxpLm1vZGFsLmVsZW1lbnQuc3R5bGUuZGlzcGxheT0ibm9uZSIsaS5tb2RhbC5lbGVtZW50LnNldEF0dHJpYnV0ZSgiYXJpYS1oaWRkZW4iLCEwKX0saS5vbj1mdW5jdGlvbihlLHQpe2kuZW1pdHRlci5hZGRMaXN0ZW5lcihlLHQpfSxpLm9mZj1mdW5jdGlvbihlLHQpe2kuZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihlLHQpfSxpLmNoZWNrVXNlcm5hbWU9ZnVuY3Rpb24oZSx0KXtpZighci50ZXN0KGUpKXJldHVybiB0KCEwLCJVc2VybmFtZSBpbnZhbGlkIik7dmFyIG49bmV3IFhNTEh0dHBSZXF1ZXN0LHM9SlNPTi5zdHJpbmdpZnkoe3VzZXJuYW1lOmV9KTtuLm9wZW4oIlBPU1QiLGkudXJscy5jaGVja1VzZXJuYW1lLCEwKSxuLndpdGhDcmVkZW50aWFscz1pLndpdGhDcmVkZW50aWFscyxuLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtdHlwZSIsImFwcGxpY2F0aW9uL2pzb24iKSxuLnNldFJlcXVlc3RIZWFkZXIoIlgtQ1NSRi1Ub2tlbiIsaS5jc3JmVG9rZW4pLG4ub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09PW4ucmVhZHlTdGF0ZSYmMjAwPT09bi5zdGF0dXMpe3ZhciBlPUpTT04ucGFyc2Uobi5yZXNwb25zZVRleHQpO2UuZXhpc3RzP3QoITAsIlVzZXJuYW1lIHRha2VuIik6dCghMSwiVXNlcm5hbWUgbm90IHRha2VuIil9ZWxzZSA0PT09bi5yZWFkeVN0YXRlJiZuLnN0YXR1cyYmKG4uc3RhdHVzPj00MDB8fG4uc3RhdHVzPDIwMCk/KGkuZW1pdHRlci5lbWl0RXZlbnQoImVycm9yIixbbi5yZXNwb25zZVRleHRdKSx0KCExLCJFcnJvciBjaGVja2luZyB1c2VybmFtZSIpKTo0PT09bi5yZWFkeVN0YXRlJiYoaS5lbWl0dGVyLmVtaXRFdmVudCgiZXJyb3IiLFsiTG9va3MgbGlrZSAiK2kudXJscy5jaGVja1VzZXJuYW1lKyIgaXMgbm90IHJlc3BvbmRpbmcuLi4iXSksdCghMSwiRXJyb3IgY2hlY2tpbmcgdXNlcm5hbWUiKSl9LG4uc2VuZChzKX0saS5jcmVhdGVVc2VyPWZ1bmN0aW9uKGUsdCl7ZS51c2VyLnJlZmVycmVyPWM7dmFyIHI9bmV3IFhNTEh0dHBSZXF1ZXN0LG49SlNPTi5zdHJpbmdpZnkoe2Fzc2VydGlvbjplLmFzc2VydGlvbixhdWRpZW5jZTppLmF1ZGllbmNlLHVzZXI6ZS51c2VyfSk7dD10fHxmdW5jdGlvbigpe30sci5vcGVuKCJQT1NUIixpLnVybHMuY3JlYXRlLCEwKSxyLndpdGhDcmVkZW50aWFscz1pLndpdGhDcmVkZW50aWFscyxyLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtdHlwZSIsImFwcGxpY2F0aW9uL2pzb24iKSxyLnNldFJlcXVlc3RIZWFkZXIoIlgtQ1NSRi1Ub2tlbiIsaS5jc3JmVG9rZW4pLHIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09PXIucmVhZHlTdGF0ZSYmMjAwPT09ci5zdGF0dXMpe3ZhciBlPUpTT04ucGFyc2Uoci5yZXNwb25zZVRleHQpO2UudXNlcj8oaS5zdG9yYWdlLnNldChlLnVzZXIpLGkuZW1pdHRlci5lbWl0RXZlbnQoImxvZ2luIixbZS51c2VyLCJ1c2VyIGNyZWF0ZWQiXSkscy5ldmVudCgiV2VibWFrZXIgTmV3IFVzZXIgQ3JlYXRlZCIse25vbkludGVyYWN0aW9uOiEwfSkscy5jb252ZXJzaW9uR29hbCgiV2VibWFrZXJOZXdVc2VyQ3JlYXRlZCIpLGkuY2xlYXJSZWZlcnJlckNvb2tpZSgpLHQobnVsbCxlLnVzZXIpKTooaS5lbWl0dGVyLmVtaXRFdmVudCgiZXJyb3IiLFtyLnJlc3BvbnNlVGV4dF0pLHQoci5yZXNwb25zZVRleHQpKX1lbHNlIDQ9PT1yLnJlYWR5U3RhdGUmJnIuc3RhdHVzJiYoci5zdGF0dXM+PTQwMHx8ci5zdGF0dXM8MjAwKT8oaS5lbWl0dGVyLmVtaXRFdmVudCgiZXJyb3IiLFtyLnJlc3BvbnNlVGV4dF0pLHQoci5yZXNwb25zZVRleHQpKTo0PT09ci5yZWFkeVN0YXRlJiYoaS5lbWl0dGVyLmVtaXRFdmVudCgiZXJyb3IiLFsiTG9va3MgbGlrZSAiK2kudXJscy5jcmVhdGUrIiBpcyBub3QgcmVzcG9uZGluZy4uLiJdKSx0KHIucmVzcG9uc2VUZXh0KSl9LHIuc2VuZChuKX0saS52ZXJpZnk9ZnVuY3Rpb24oKXtpLnN0b3JhZ2UuZ2V0KCkmJmkuZW1pdHRlci5lbWl0RXZlbnQoImxvZ2luIixbaS5zdG9yYWdlLmdldCgpLCJyZXN0b3JlZCJdKTt2YXIgZT1pLnN0b3JhZ2UuZ2V0KCJlbWFpbCIpLHQ9bmV3IFhNTEh0dHBSZXF1ZXN0O3Qub3BlbigiUE9TVCIsaS51cmxzLnZlcmlmeSwhMCksdC53aXRoQ3JlZGVudGlhbHM9aS53aXRoQ3JlZGVudGlhbHMsdC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LXR5cGUiLCJhcHBsaWNhdGlvbi9qc29uIiksdC5zZXRSZXF1ZXN0SGVhZGVyKCJYLUNTUkYtVG9rZW4iLGkuY3NyZlRva2VuKSx0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKDQ9PT10LnJlYWR5U3RhdGUmJjIwMD09PXQuc3RhdHVzKXt2YXIgcj1KU09OLnBhcnNlKHQucmVzcG9uc2VUZXh0KTtlJiZyLmVtYWlsPT09ZT8oaS5lbWl0dGVyLmVtaXRFdmVudCgibG9naW4iLFtyLnVzZXIsInZlcmlmaWVkIl0pLGkuc3RvcmFnZS5zZXQoci51c2VyKSk6ci51c2VyPyhpLmVtaXR0ZXIuZW1pdEV2ZW50KCJsb2dpbiIsW3IudXNlciwiZW1haWwgbWlzbWF0Y2giXSksaS5zdG9yYWdlLnNldChyLnVzZXIpKTooaS5lbWl0dGVyLmVtaXRFdmVudCgibG9nb3V0IiksaS5zdG9yYWdlLmNsZWFyKCkpfWVsc2UgND09PXQucmVhZHlTdGF0ZSYmdC5zdGF0dXMmJih0LnN0YXR1cz49NDAwfHx0LnN0YXR1czwyMDApP2kuZW1pdHRlci5lbWl0RXZlbnQoImVycm9yIixbdC5yZXNwb25zZVRleHRdKTo0PT09dC5yZWFkeVN0YXRlJiZpLmVtaXR0ZXIuZW1pdEV2ZW50KCJlcnJvciIsWyJMb29rcyBsaWtlICIraS51cmxzLnZlcmlmeSsiIGlzIG5vdCByZXNwb25kaW5nLi4uIl0pfSx0LnNlbmQoKX0saS5sb2dpbj1mdW5jdGlvbigpe3JldHVybiBlLm5hdmlnYXRvci5pZD8ocy5ldmVudCgiV2VibWFrZXIgTG9naW4gQ2xpY2tlZCIpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZm9jdXMiLGkudmVyaWZ5LCExKSx2b2lkIGUubmF2aWdhdG9yLmlkLmdldChmdW5jdGlvbih0KXtpZighdClyZXR1cm4gaS5lbWl0dGVyLmVtaXRFdmVudCgiZXJyb3IiLFsiTm8gYXNzZXJ0aW9uIHdhcyByZWNlaXZlZCJdKSx2b2lkIHMuZXZlbnQoIlBlcnNvbmEgTG9naW4gQ2FuY2VsbGVkIik7cy5ldmVudCgiUGVyc29uYSBMb2dpbiBTdWNjZWVkZWQiKTt2YXIgcj17cmVmZXJyZXI6Y30sbj1uZXcgWE1MSHR0cFJlcXVlc3QsYT1KU09OLnN0cmluZ2lmeSh7YXVkaWVuY2U6aS5hdWRpZW5jZSxhc3NlcnRpb246dCx1c2VyOnJ9KTtpZihpLnRpbWVvdXQpdmFyIG89c2V0VGltZW91dChmdW5jdGlvbigpe24uYWJvcnQoKSxpLmVtaXR0ZXIuZW1pdEV2ZW50KCJlcnJvciIsWyJUaGUgcmVxdWVzdCBmb3IgYSB0b2tlbiB0aW1lZCBvdXQgYWZ0ZXIgIitpLnRpbWVvdXQrIiBzZWNvbmRzIl0pfSwxZTMqaS50aW1lb3V0KTtuLm9wZW4oIlBPU1QiLGkudXJscy5hdXRoZW50aWNhdGUsITApLG4ud2l0aENyZWRlbnRpYWxzPWkud2l0aENyZWRlbnRpYWxzLG4uc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC10eXBlIiwiYXBwbGljYXRpb24vanNvbiIpLG4uc2V0UmVxdWVzdEhlYWRlcigiWC1DU1JGLVRva2VuIixpLmNzcmZUb2tlbiksbi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZihpLnRpbWVvdXQmJm8mJmNsZWFyVGltZW91dChvKSw0PT09bi5yZWFkeVN0YXRlJiYyMDA9PT1uLnN0YXR1cyl7dmFyIHI9SlNPTi5wYXJzZShuLnJlc3BvbnNlVGV4dCk7ci5lcnJvciYmaS5lbWl0dGVyLmVtaXRFdmVudCgiZXJyb3IiLFtyLmVycm9yXSksci51c2VyJiYoaS5zdG9yYWdlLnNldChyLnVzZXIpLGkuZW1pdHRlci5lbWl0RXZlbnQoImxvZ2luIixbci51c2VyXSkscy5ldmVudCgiV2VibWFrZXIgTG9naW4gU3VjY2VlZGVkIiksaS5jbGVhclJlZmVycmVyQ29va2llKCksZS5hZGRFdmVudExpc3RlbmVyKCJmb2N1cyIsaS52ZXJpZnksITEpKSxyLmVtYWlsJiYhci51c2VyJiYoaS5lbWl0dGVyLmVtaXRFdmVudCgibmV3dXNlciIsW3Qsci5lbWFpbF0pLHMuZXZlbnQoIldlYm1ha2VyIE5ldyBVc2VyIFN0YXJ0ZWQiKSxpLmhhbmRsZU5ld1VzZXJVSSYmKGkubW9kYWwuc2V0dXAodCxyLmVtYWlsKSxpLm1vZGFsLm9wZW4oKSkpLHIuZXJyJiZpLmVtaXR0ZXIuZW1pdEV2ZW50KCJlcnJvciIsW3IuZXJyXSl9ZWxzZSA0PT09bi5yZWFkeVN0YXRlJiZuLnN0YXR1cyYmKG4uc3RhdHVzPj00MDB8fG4uc3RhdHVzPDIwMCk/aS5lbWl0dGVyLmVtaXRFdmVudCgiZXJyb3IiLFtuLnJlc3BvbnNlVGV4dF0pOjQ9PT1uLnJlYWR5U3RhdGUmJmkuZW1pdHRlci5lbWl0RXZlbnQoImVycm9yIixbIkxvb2tzIGxpa2UgIitpLnVybHMuYXV0aGVudGljYXRlKyIgaXMgbm90IHJlc3BvbmRpbmcuLi4iXSl9LG4uc2VuZChhKX0se2JhY2tncm91bmRDb2xvcjoiI0UzRUFFRSIscHJpdmFjeVBvbGljeToiaHR0cHM6Ly93ZWJtYWtlci5vcmcvcHJpdmFjeSIsc2l0ZUxvZ286Imh0dHBzOi8vc3R1ZmYud2VibWFrZXIub3JnL3BlcnNvbmEtYXNzZXRzL2xvZ28td2VibWFrZXIucG5nIixzaXRlTmFtZToiTW96aWxsYSBXZWJtYWtlciIsdGVybXNPZlNlcnZpY2U6Imh0dHBzOi8vd2VibWFrZXIub3JnL3Rlcm1zIn0pKTp2b2lkIGNvbnNvbGUuZXJyb3IoIk5vIHBlcnNvbmEgZm91bmQuIERpZCB5b3UgaW5jbHVkZSBpbmNsdWRlLmpzPyIpfSxpLmxvZ291dD1mdW5jdGlvbigpe3MuZXZlbnQoIldlYm1ha2VyIExvZ291dCBDbGlja2VkIiksZS5yZW1vdmVFdmVudExpc3RlbmVyKCJmb2N1cyIsaS52ZXJpZnksITEpO3ZhciB0PW5ldyBYTUxIdHRwUmVxdWVzdDt0Lm9wZW4oIlBPU1QiLGkudXJscy5sb2dvdXQsITApLHQud2l0aENyZWRlbnRpYWxzPWkud2l0aENyZWRlbnRpYWxzLHQuc2V0UmVxdWVzdEhlYWRlcigiWC1DU1JGLVRva2VuIixpLmNzcmZUb2tlbiksdC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09dC5yZWFkeVN0YXRlJiYyMDA9PT10LnN0YXR1cz8oaS5lbWl0dGVyLmVtaXRFdmVudCgibG9nb3V0IiksaS5zdG9yYWdlLmNsZWFyKCksZS5hZGRFdmVudExpc3RlbmVyKCJmb2N1cyIsaS52ZXJpZnksITEpKTo0PT09dC5yZWFkeVN0YXRlJiZ0LnN0YXR1cyYmKHQuc3RhdHVzPj00MDB8fHQuc3RhdHVzPDIwMCk/aS5lbWl0dGVyLmVtaXRFdmVudCgiZXJyb3IiLFt0LnJlc3BvbnNlVGV4dF0pOjQ9PT10LnJlYWR5U3RhdGUmJmkuZW1pdHRlci5lbWl0RXZlbnQoImVycm9yIixbIkxvb2tzIGxpa2UgIitpLnVybHMubG9nb3V0KyIgaXMgbm90IHJlc3BvbmRpbmcuLi4iXSl9LHQuc2VuZChudWxsKX0saS5zdG9yYWdlPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShpLmxvY2FsU3RvcmFnZUtleSkpO3JldHVybiB0P2U/dFtlXTp0OnZvaWQgMH0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PUpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oaS5sb2NhbFN0b3JhZ2VLZXkpKXx8e307Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7bG9jYWxTdG9yYWdlLnNldEl0ZW0oaS5sb2NhbFN0b3JhZ2VLZXksSlNPTi5zdHJpbmdpZnkodCkpfSxjbGVhcjpmdW5jdGlvbigpe2RlbGV0ZSBsb2NhbFN0b3JhZ2VbaS5sb2NhbFN0b3JhZ2VLZXldfX19fXZhciByPS9eW2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVowMTIzNDU2Nzg5XC1dezEsMjB9JC87aWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoIndlYm1ha2VyLWF1dGgtY2xpZW50IixbImV2ZW50RW1pdHRlci9FdmVudEVtaXR0ZXIiLCJjb29raWUtanMvY29va2llIiwiYW5hbHl0aWNzIl0sdCk7ZWxzZSBpZigib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMpe3ZhciBuPXJlcXVpcmUoIi4vYm93ZXJfY29tcG9uZW50cy9ldmVudEVtaXR0ZXIvRXZlbnRFbWl0dGVyLm1pbi5qcyIpLHM9cmVxdWlyZSgiLi9ib3dlcl9jb21wb25lbnRzL2Nvb2tpZS1qcy9jb29raWUuanMiKSxhPXJlcXVpcmUoIi4vYm93ZXJfY29tcG9uZW50cy93ZWJtYWtlci1hbmFseXRpY3MvYW5hbHl0aWNzLmpzIik7bW9kdWxlLmV4cG9ydHM9dChuLHMsYSl9ZWxzZSBlLldlYm1ha2VyQXV0aENsaWVudD10KGUuRXZlbnRFbWl0dGVyLGUuY29va2llanMsZS5hbmFseXRpY3MpfSh3aW5kb3cpLGZ1bmN0aW9uKHJvb3QsZmFjdG9yeSl7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZnVuY3Rpb24oKXtyZXR1cm4gcm9vdC5maWxlckRpYWxvZ3M9ZmFjdG9yeSgpfSk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWZhY3RvcnkoKTpyb290LmZpbGVyRGlhbG9ncz1mYWN0b3J5KCl9KHRoaXMsZnVuY3Rpb24oKXtmdW5jdGlvbiBjcmVhdGVEaWFsb2coZGF0YSl7dmFyIGRpYWxvZ1dyYXBwZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ZGlhbG9nV3JhcHBlci5jbGFzc0xpc3QuYWRkKCJmaWxlLWRpYWxvZy13cmFwcGVyIik7dmFyIGRpYWxvZ0JhY2tkcm9wPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2RpYWxvZ0JhY2tkcm9wLmNsYXNzTGlzdC5hZGQoImZpbGUtZGlhbG9nLWJhY2tkcm9wIik7dmFyIGRpYWxvZ0lubmVyV3JhcHBlcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtkaWFsb2dJbm5lcldyYXBwZXIuY2xhc3NMaXN0LmFkZCgiZmlsZS1kaWFsb2ctaW5uZXItd3JhcHBlciIpO3ZhciBkaWFsb2c9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGRpYWxvZy5jbGFzc0xpc3QuYWRkKCJtYWtlZHJpdmUtZmlsZS1kaWFsb2ciKSxkaWFsb2dXcmFwcGVyLmFwcGVuZENoaWxkKGRpYWxvZ0lubmVyV3JhcHBlciksZGlhbG9nSW5uZXJXcmFwcGVyLmFwcGVuZENoaWxkKGRpYWxvZ0JhY2tkcm9wKSxkaWFsb2dJbm5lcldyYXBwZXIuYXBwZW5kQ2hpbGQoZGlhbG9nKSxkaWFsb2dTdHJpbmc9JyAgPGRpdiBjbGFzcz0iZmlsZS1kaWFsb2ctaGVhZGVyIj4gICAgPGgxIGNsYXNzPSJmaWxlLWRpYWxvZy10aXRsZSI+PC9oMT4nLGRhdGEuc2F2ZUFzJiYoZGlhbG9nU3RyaW5nKz0nICAgIDxkaXYgY2xhc3M9ImZpbGUtbmFtZS1jb250YWluZXIiPiAgICAgIDxzcGFuIGNsYXNzPSJpbnB1dC1sYWJlbCI+TmFtZSA8L3NwYW4+ICAgICAgPHNwYW4gY2xhc3M9ImZhLWZsb3BweS1vIGZhLWljb24gZmxvcHB5LWljb24iPjwvc3Bhbj4gICAgICA8aW5wdXQgY2xhc3M9ImZpbGUtbmFtZS1pbnB1dCIgdmFsdWU9IiI+ICAgIDwvZGl2PicpLGRpYWxvZ1N0cmluZys9JyAgICA8ZGl2IGNsYXNzPSJmaWxlLXBhdGgiPiAgICAgIDxzcGFuIGNsYXNzPSJpbnB1dC1sYWJlbCI+Rm9sZGVyIDwvc3Bhbj4gICAgICA8c3BhbiBjbGFzcz0iZmEtYXJyb3ctbGVmdCBmYS1pY29uIGJhY2stYnV0dG9uIj48L3NwYW4+ICAgICAgPGlucHV0IGNsYXNzPSJmb2xkZXItbmFtZSIgdmFsdWU9IiI+ICAgICAgPHNwYW4gY2xhc3M9ImZhLWNoZXZyb24tZG93biBmYS1pY29uIGRyb3AtZG93biI+PC9zcGFuPiAgICA8L2Rpdj4gIDwvZGl2PiAgPGRpdiBjbGFzcz0iZmlsZS1kaWFsb2ctYm9keSI+ICAgIDxkaXYgY2xhc3M9ImZpbGUtc2VsZWN0b3ItYm94Ij48L2Rpdj4gICAgPGRpdiBjbGFzcz0ib3Blbi1maWxlcy1jb250YWluZXIiPjwvZGl2PiAgPC9kaXY+ICA8ZGl2IGNsYXNzPSJmaWxlLWRpYWxvZy1mb290ZXIiPiAgICA8YnV0dG9uIGNsYXNzPSJjYW5jZWwtYnV0dG9uIiBkYXRhLWJ1dHRvbi1pZD0iY2FuY2VsIj48L2J1dHRvbj4gICAgPGJ1dHRvbiBjbGFzcz0ib3Blbi1idXR0b24iIGRhdGEtYnV0dG9uLWlkPSJkb25lIj48L2J1dHRvbj4gIDwvZGl2PicsZGlhbG9nLmlubmVySFRNTD1kaWFsb2dTdHJpbmcsZGlhbG9nLnF1ZXJ5U2VsZWN0b3IoIi5vcGVuLWJ1dHRvbiIpLnRleHRDb250ZW50PWRhdGEuZG9uZSxkaWFsb2cucXVlcnlTZWxlY3RvcigiLmNhbmNlbC1idXR0b24iKS50ZXh0Q29udGVudD1kYXRhLmNhbmNlbCxkaWFsb2cucXVlcnlTZWxlY3RvcigiLmZpbGUtZGlhbG9nLXRpdGxlIikudGV4dENvbnRlbnQ9ZGF0YS50aXRsZSxkaWFsb2dXcmFwcGVyfWZ1bmN0aW9uIGNyZWF0ZUljb24obmFtZSx0eXBlKXt2YXIgZmlsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIiksaWNvbkNvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxpY29uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKSxmaWxlTmFtZUNvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxmaWxlTmFtZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKcmV0dXJuIGZpbGUuY2xhc3NMaXN0LmFkZCgiZmlsZSIpLGljb24uY2xhc3NMaXN0LmFkZCh0eXBlKSxpY29uLmNsYXNzTGlzdC5hZGQoImZpbGUtaWNvbiIpLGZpbGVOYW1lQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoImZpbGUtbmFtZSIpLGZpbGVOYW1lLnRleHRDb250ZW50PW5hbWUsaWNvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChpY29uKSxmaWxlTmFtZUNvbnRhaW5lci5hcHBlbmRDaGlsZChmaWxlTmFtZSksZmlsZS5hcHBlbmRDaGlsZChpY29uQ29udGFpbmVyKSxmaWxlLmFwcGVuZENoaWxkKGZpbGVOYW1lQ29udGFpbmVyKSxmaWxlfWZ1bmN0aW9uIEZpbGVEaWFsb2coKXtmdW5jdGlvbiBlbmFibGVCdXR0b24oYnV0dG9uLGVuYWJsZSl7ZW5hYmxlPyhidXR0b24uY2xhc3NMaXN0LnJlbW92ZSgiZGlzYWJsZWQiKSxidXR0b24uZGlzYWJsZWQ9ITEpOihidXR0b24uY2xhc3NMaXN0LmFkZCgiZGlzYWJsZWQiKSxidXR0b24uZGlzYWJsZWQ9ITApfWZ1bmN0aW9uIGRpc3BsYXlGaWxlc0ZvckRpcihkaXIpe3NoLmNkKGRpcixmdW5jdGlvbihlcnIpe3JldHVybiBlcnI/dm9pZCBjb25zb2xlLmVycm9yKGVycik6dm9pZCBkaXNwbGF5RmlsZXMoKX0pfWZ1bmN0aW9uIGRpc3BsYXlGaWxlcygpe3NoLmxzKCIuIixmdW5jdGlvbihlcnIsZmlsZXMpe2lmKGVycilyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKGVycik7dmFyIGNvbnRhaW5lcj1kaWFsb2cucXVlcnlTZWxlY3RvcigiLm9wZW4tZmlsZXMtY29udGFpbmVyIik7Y29udGFpbmVyLmlubmVySFRNTD0iIjt2YXIgcGF0aElucHV0PWRpYWxvZy5xdWVyeVNlbGVjdG9yKCIuZm9sZGVyLW5hbWUiKTtwYXRoSW5wdXQudmFsdWU9c2gucHdkKCksd29ya2luZ0ZpbGVzPVtdLGZpbGVzLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7ZnVuY3Rpb24gb25TZWxlY3QoZXZlbnQpe3ZhciBzZWxlY3RlZD1jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgiLnNlbGVjdGVkIiksbmFtZUlucHV0PWRpYWxvZy5xdWVyeVNlbGVjdG9yKCIuZmlsZS1uYW1lLWlucHV0Iik7aWYobmFtZUlucHV0JiYiRElSRUNUT1JZIiE9PWl0ZW0udHlwZSYmKG5hbWVJbnB1dC52YWx1ZT1pdGVtLnBhdGgudHJpbSgpKSwhZXZlbnQuc2hpZnRLZXl8fCFvcGVuTXVsdGlwbGVzfHwiRElSRUNUT1JZIj09PWl0ZW0udHlwZSYmIW9wZW5EaXJlY3Rvcmllc3x8d29ya2luZ0ZpbGVzWzBdJiYiRElSRUNUT1JZIj09PXdvcmtpbmdGaWxlc1swXS50eXBlJiYhb3BlbkRpcmVjdG9yaWVzKXtpZihzZWxlY3RlZC5sZW5ndGgpZm9yKHZhciBpPTA7aTxzZWxlY3RlZC5sZW5ndGg7aSsrKXNlbGVjdGVkW2ldLmNsYXNzTGlzdC5yZW1vdmUoInNlbGVjdGVkIik7ZmlsZS5jbGFzc0xpc3QuYWRkKCJzZWxlY3RlZCIpLHdvcmtpbmdGaWxlcz1baXRlbV19ZWxzZSBmaWxlLmNsYXNzTGlzdC5hZGQoInNlbGVjdGVkIiksd29ya2luZ0ZpbGVzLnVuc2hpZnQoaXRlbSk7ZmlsZVNlbGVjdGVkKGl0ZW0pfXZhciB0eXBlO3R5cGU9IkRJUkVDVE9SWSI9PT1pdGVtLnR5cGU/ImZhLWZvbGRlciI6ImZhLWZpbGUtY29kZS1vIjt2YXIgZmlsZT1jcmVhdGVJY29uKGl0ZW0ucGF0aCx0eXBlKTtmaWxlLnF1ZXJ5U2VsZWN0b3IoIi5maWxlLWljb24iKS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLG9uU2VsZWN0KSxmaWxlLnF1ZXJ5U2VsZWN0b3IoIi5maWxlLW5hbWUiKS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLG9uU2VsZWN0KSxmaWxlLnF1ZXJ5U2VsZWN0b3IoIi5maWxlLWljb24iKS5hZGRFdmVudExpc3RlbmVyKCJkYmxjbGljayIsb25TZWxlY3Rpb24pLGNvbnRhaW5lci5hcHBlbmRDaGlsZChmaWxlKX0pfSl9ZnVuY3Rpb24gY2xvc2VNb2RhbCgpe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXlkb3duIixvbktleURvd24sITApLGRpYWxvZ1dyYXBwZXImJmRpYWxvZ1dyYXBwZXIucGFyZW50Tm9kZSYmZGlhbG9nV3JhcHBlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRpYWxvZ1dyYXBwZXIpfWZ1bmN0aW9uIG9uS2V5RG93bihldmVudCl7Mjc9PT1ldmVudC5rZXlDb2RlP2Nsb3NlTW9kYWwoKToxMz09PWV2ZW50LmtleUNvZGUmJm9uQWN0aW9uKCl9ZnVuY3Rpb24gc2V0dXBEaWFsb2coaW5pdGlhbFBhdGgsZGF0YSl7d2luZG93LmFwcHNoZWxsP01ha2VEcml2ZT1hcHBzaGVsbC5NYWtlRHJpdmU6d2luZG93Lk1ha2VEcml2ZSYmKE1ha2VEcml2ZT13aW5kb3cuTWFrZURyaXZlKSxmcz1NYWtlRHJpdmUuZnMoKSxzaD1mcy5TaGVsbCgpLFBhdGg9TWFrZURyaXZlLlBhdGgsaW5pdGlhbFBhdGg9aW5pdGlhbFBhdGh8fCIvIixkaWFsb2dXcmFwcGVyPWNyZWF0ZURpYWxvZyhkYXRhKSxkaWFsb2c9ZGlhbG9nV3JhcHBlci5xdWVyeVNlbGVjdG9yKCIubWFrZWRyaXZlLWZpbGUtZGlhbG9nIiksZG9uZUJ1dHRvbj1kaWFsb2cucXVlcnlTZWxlY3RvcigiLm9wZW4tYnV0dG9uW2RhdGEtYnV0dG9uLWlkPSdkb25lJ10iKSwkKCJib2R5IikuYXBwZW5kKGRpYWxvZ1dyYXBwZXIpLGRpYWxvZy5xdWVyeVNlbGVjdG9yKCIuY2FuY2VsLWJ1dHRvbltkYXRhLWJ1dHRvbi1pZD0nY2FuY2VsJ10iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsY2xvc2VNb2RhbCksZGlhbG9nLnF1ZXJ5U2VsZWN0b3IoIi5iYWNrLWJ1dHRvbiIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixmdW5jdGlvbigpe2Rpc3BsYXlGaWxlc0ZvckRpcigiLi4vIil9KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsb25LZXlEb3duLCEwKSxkaXNwbGF5RmlsZXNGb3JEaXIoaW5pdGlhbFBhdGgpfXZhciBkaWFsb2csZGlhbG9nV3JhcHBlcixkb25lQnV0dG9uLHNoLGZzLE1ha2VEcml2ZSxQYXRoLHdvcmtpbmdGaWxlcz1bXSxvcGVuTXVsdGlwbGVzPSExLG9wZW5EaXJlY3Rvcmllcz0hMSxvblNlbGVjdGlvbj1mdW5jdGlvbigpe30sb25BY3Rpb249ZnVuY3Rpb24oKXt9LGZpbGVTZWxlY3RlZD1mdW5jdGlvbigpe307cmV0dXJue3Nob3dTYXZlQXNEaWFsb2c6ZnVuY3Rpb24odGl0bGUsaW5pdGlhbFBhdGgsZGVmYXVsdE5hbWUsY2FsbGJhY2spe2NhbGxiYWNrPWNhbGxiYWNrfHxhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aC0xXSxzZXR1cERpYWxvZyhpbml0aWFsUGF0aCx7dGl0bGU6dGl0bGUsY2FuY2VsOiJDYW5jZWwiLGRvbmU6IlNhdmUiLHNhdmVBczohMH0pLG9uQWN0aW9uPWZ1bmN0aW9uKCl7dmFyIGZpbGVOYW1lPWRpYWxvZy5xdWVyeVNlbGVjdG9yKCIuZmlsZS1uYW1lLWlucHV0IikudmFsdWUudHJpbSgpO2ZpbGVOYW1lJiYoY2FsbGJhY2sobnVsbCxQYXRoLmpvaW4oc2gucHdkKCksZmlsZU5hbWUpKSxjbG9zZU1vZGFsKCkpfSxvblNlbGVjdGlvbj1mdW5jdGlvbigpe3ZhciB3b3JraW5nRmlsZT13b3JraW5nRmlsZXNbMF07IkRJUkVDVE9SWSI9PT13b3JraW5nRmlsZS50eXBlJiZkaXNwbGF5RmlsZXNGb3JEaXIod29ya2luZ0ZpbGUucGF0aCl9LGRvbmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLG9uQWN0aW9uKTt2YXIgbmFtZUlucHV0PWRpYWxvZy5xdWVyeVNlbGVjdG9yKCIuZmlsZS1uYW1lLWlucHV0Iik7bmFtZUlucHV0LmZvY3VzKCksZGVmYXVsdE5hbWU9ZGVmYXVsdE5hbWUudHJpbSgpLGVuYWJsZUJ1dHRvbihkb25lQnV0dG9uLGRlZmF1bHROYW1lKSxuYW1lSW5wdXQudmFsdWU9ZGVmYXVsdE5hbWV8fCIiLG5hbWVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsZnVuY3Rpb24oKXtuYW1lSW5wdXQudmFsdWUudHJpbSgpP2VuYWJsZUJ1dHRvbihkb25lQnV0dG9uLCEwKTplbmFibGVCdXR0b24oZG9uZUJ1dHRvbiwhMSl9KTt2YXIgcGF0aElucHV0PWRpYWxvZy5xdWVyeVNlbGVjdG9yKCIuZm9sZGVyLW5hbWUiKTtwYXRoSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIixmdW5jdGlvbigpe3ZhciBpbnB1dFZhbHVlPXBhdGhJbnB1dC52YWx1ZS50cmltKCk7ZnMuc3RhdChpbnB1dFZhbHVlLGZ1bmN0aW9uKGVycixzdGF0cyl7cmV0dXJuIGVycnx8IkRJUkVDVE9SWSIhPT1zdGF0cy50eXBlP3ZvaWQocGF0aElucHV0LnZhbHVlPXNoLnB3ZCgpKTp2b2lkIGRpc3BsYXlGaWxlc0ZvckRpcihpbnB1dFZhbHVlKX0pfSl9LHNob3dPcGVuRGlhbG9nOmZ1bmN0aW9uKGFsbG93TXVsdGlwbGVTZWxlY3Rpb24sY2hvb3NlRGlyZWN0b3JpZXMsdGl0bGUsaW5pdGlhbFBhdGgsZmlsZVR5cGVzLGNhbGxiYWNrKXtvcGVuRGlyZWN0b3JpZXM9Y2hvb3NlRGlyZWN0b3JpZXMsb3Blbk11bHRpcGxlcz1hbGxvd011bHRpcGxlU2VsZWN0aW9uLGNhbGxiYWNrPWNhbGxiYWNrfHxhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aC0xXSxvbkFjdGlvbj1mdW5jdGlvbigpe3ZhciBmaWxlc1RvT3Blbj1bXSxpc0RpcmVjdG9yeT0iRElSRUNUT1JZIj09PXdvcmtpbmdGaWxlc1swXS50eXBlO2lmKHdvcmtpbmdGaWxlcyYmd29ya2luZ0ZpbGVzLmxlbmd0aCYmKGlzRGlyZWN0b3J5JiZjaG9vc2VEaXJlY3Rvcmllc3x8IWlzRGlyZWN0b3J5JiYhY2hvb3NlRGlyZWN0b3JpZXMpKXtmb3IodmFyIGk9MDtpPHdvcmtpbmdGaWxlcy5sZW5ndGg7aSsrKWZpbGVzVG9PcGVuLnB1c2goUGF0aC5qb2luKHNoLnB3ZCgpLHdvcmtpbmdGaWxlc1tpXS5wYXRoKSk7Y2FsbGJhY2sobnVsbCxmaWxlc1RvT3BlbiksY2xvc2VNb2RhbCgpfX0sb25TZWxlY3Rpb249ZnVuY3Rpb24oKXt2YXIgd29ya2luZ0ZpbGU9d29ya2luZ0ZpbGVzWzBdO3JldHVybiBlbmFibGVCdXR0b24oZG9uZUJ1dHRvbiwhMSksIkRJUkVDVE9SWSI9PT13b3JraW5nRmlsZS50eXBlP3ZvaWQgZGlzcGxheUZpbGVzRm9yRGlyKHdvcmtpbmdGaWxlLnBhdGgpOnZvaWQgb25BY3Rpb24oKX0sZmlsZVNlbGVjdGVkPWZ1bmN0aW9uKGl0ZW0pe2Nob29zZURpcmVjdG9yaWVzP2VuYWJsZUJ1dHRvbihkb25lQnV0dG9uLCJESVJFQ1RPUlkiPT09aXRlbS50eXBlKTplbmFibGVCdXR0b24oZG9uZUJ1dHRvbiwiRElSRUNUT1JZIiE9PWl0ZW0udHlwZSl9LHNldHVwRGlhbG9nKGluaXRpYWxQYXRoLHt0aXRsZTp0aXRsZSxjYW5jZWw6IkNhbmNlbCIsZG9uZToiT3BlbiJ9KSxlbmFibGVCdXR0b24oZG9uZUJ1dHRvbiwhMSksZG9uZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsb25BY3Rpb24pO3ZhciBwYXRoSW5wdXQ9ZGlhbG9nLnF1ZXJ5U2VsZWN0b3IoIi5mb2xkZXItbmFtZSIpLGNvbnRhaW5lcj1kaWFsb2cucXVlcnlTZWxlY3RvcigiLm9wZW4tZmlsZXMtY29udGFpbmVyIik7cGF0aElucHV0LmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IixmdW5jdGlvbigpe3ZhciBpbnB1dFZhbHVlPXBhdGhJbnB1dC52YWx1ZS50cmltKCksc2VsZWN0ZWQ9Y29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoIi5zZWxlY3RlZCIpO3NlbGVjdGVkJiZzZWxlY3RlZC5jbGFzc0xpc3QucmVtb3ZlKCJzZWxlY3RlZCIpLHdvcmtpbmdGaWxlcz1bXSxmcy5zdGF0KGlucHV0VmFsdWUsZnVuY3Rpb24oZXJyLHN0YXRzKXtpZihlcnIpcmV0dXJuIHZvaWQgZW5hYmxlQnV0dG9uKGRvbmVCdXR0b24sITEpO2Nob29zZURpcmVjdG9yaWVzP2VuYWJsZUJ1dHRvbihkb25lQnV0dG9uLCJESVJFQ1RPUlkiPT09c3RhdHMudHlwZSk6ZW5hYmxlQnV0dG9uKGRvbmVCdXR0b24sIkRJUkVDVE9SWSIhPT1zdGF0cy50eXBlKX0pfSkscGF0aElucHV0LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsZnVuY3Rpb24oKXt2YXIgaW5wdXRWYWx1ZT1wYXRoSW5wdXQudmFsdWUudHJpbSgpO2ZzLnN0YXQoaW5wdXRWYWx1ZSxmdW5jdGlvbihlcnIsc3RhdHMpe2lmKGVycilyZXR1cm4gdm9pZChwYXRoSW5wdXQudmFsdWU9c2gucHdkKCkpO3ZhciBmaWxlTmFtZSxmaWxlUGF0aDsiRElSRUNUT1JZIj09PXN0YXRzLnR5cGUmJmNob29zZURpcmVjdG9yaWVzfHwiRElSRUNUT1JZIiE9PXN0YXRzLnR5cGUmJiFjaG9vc2VEaXJlY3Rvcmllcz8oZW5hYmxlQnV0dG9uKGRvbmVCdXR0b24sITApLGZpbGVQYXRoPVBhdGguZGlybmFtZShpbnB1dFZhbHVlKSxmaWxlTmFtZT1QYXRoLmJhc2VuYW1lKGlucHV0VmFsdWUpLHNoLmNkKGZpbGVQYXRoLGZ1bmN0aW9uKGVycil7cmV0dXJuIGVycj92b2lkIGNvbnNvbGUuZXJyb3IoZXJyKTood29ya2luZ0ZpbGVzPVt7cGF0aDpmaWxlTmFtZX1dLHZvaWQgb25TZWxlY3Rpb24oKSl9KSk6KGVuYWJsZUJ1dHRvbihkb25lQnV0dG9uLCExKSwiRElSRUNUT1JZIj09PXN0YXRzLnR5cGUmJmRpc3BsYXlGaWxlc0ZvckRpcihpbnB1dFZhbHVlKSl9KX0pfX19cmV0dXJue3Nob3dPcGVuRGlhbG9nOmZ1bmN0aW9uKCl7dmFyIGRpYWxvZz1uZXcgRmlsZURpYWxvZztkaWFsb2cuc2hvd09wZW5EaWFsb2cuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxzaG93U2F2ZUFzRGlhbG9nOmZ1bmN0aW9uKCl7dmFyIGRpYWxvZz1uZXcgRmlsZURpYWxvZztkaWFsb2cuc2hvd1NhdmVBc0RpYWxvZy5hcHBseShudWxsLGFyZ3VtZW50cyl9fX0pLGZ1bmN0aW9uKHdpbmRvdyxkb2N1bWVudCx1bmRlZmluZWQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBtaW5FcnIobW9kdWxlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbWVzc2FnZSxpLGNvZGU9YXJndW1lbnRzWzBdLHByZWZpeD0iWyIrKG1vZHVsZT9tb2R1bGUrIjoiOiIiKStjb2RlKyJdICIsdGVtcGxhdGU9YXJndW1lbnRzWzFdLHRlbXBsYXRlQXJncz1hcmd1bWVudHMsc3RyaW5naWZ5PWZ1bmN0aW9uKG9iail7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG9iaj9vYmoudG9TdHJpbmcoKS5yZXBsYWNlKC8gXHtbXHNcU10qJC8sIiIpOiJ1bmRlZmluZWQiPT10eXBlb2Ygb2JqPyJ1bmRlZmluZWQiOiJzdHJpbmciIT10eXBlb2Ygb2JqP0pTT04uc3RyaW5naWZ5KG9iaik6b2JqfTtmb3IobWVzc2FnZT1wcmVmaXgrdGVtcGxhdGUucmVwbGFjZSgvXHtcZCtcfS9nLGZ1bmN0aW9uKG1hdGNoKXt2YXIgYXJnLGluZGV4PSttYXRjaC5zbGljZSgxLC0xKTtyZXR1cm4gaW5kZXgrMjx0ZW1wbGF0ZUFyZ3MubGVuZ3RoPyhhcmc9dGVtcGxhdGVBcmdzW2luZGV4KzJdLCJmdW5jdGlvbiI9PXR5cGVvZiBhcmc/YXJnLnRvU3RyaW5nKCkucmVwbGFjZSgvID9ce1tcc1xTXSokLywiIik6InVuZGVmaW5lZCI9PXR5cGVvZiBhcmc/InVuZGVmaW5lZCI6InN0cmluZyIhPXR5cGVvZiBhcmc/dG9Kc29uKGFyZyk6YXJnKTptYXRjaH0pLG1lc3NhZ2U9bWVzc2FnZSsiXG5odHRwOi8vZXJyb3JzLmFuZ3VsYXJqcy5vcmcvMS4yLjI2LyIrKG1vZHVsZT9tb2R1bGUrIi8iOiIiKStjb2RlLGk9MjtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKW1lc3NhZ2U9bWVzc2FnZSsoMj09aT8iPyI6IiYiKSsicCIrKGktMikrIj0iK2VuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnkoYXJndW1lbnRzW2ldKSk7cmV0dXJuIG5ldyBFcnJvcihtZXNzYWdlKX19ZnVuY3Rpb24gaXNBcnJheUxpa2Uob2JqKXtpZihudWxsPT1vYmp8fGlzV2luZG93KG9iaikpcmV0dXJuITE7dmFyIGxlbmd0aD1vYmoubGVuZ3RoO3JldHVybiAxPT09b2JqLm5vZGVUeXBlJiZsZW5ndGg/ITA6aXNTdHJpbmcob2JqKXx8aXNBcnJheShvYmopfHwwPT09bGVuZ3RofHwibnVtYmVyIj09dHlwZW9mIGxlbmd0aCYmbGVuZ3RoPjAmJmxlbmd0aC0xIGluIG9ian1mdW5jdGlvbiBmb3JFYWNoKG9iaixpdGVyYXRvcixjb250ZXh0KXt2YXIga2V5O2lmKG9iailpZihpc0Z1bmN0aW9uKG9iaikpZm9yKGtleSBpbiBvYmopInByb3RvdHlwZSI9PWtleXx8Imxlbmd0aCI9PWtleXx8Im5hbWUiPT1rZXl8fG9iai5oYXNPd25Qcm9wZXJ0eSYmIW9iai5oYXNPd25Qcm9wZXJ0eShrZXkpfHxpdGVyYXRvci5jYWxsKGNvbnRleHQsb2JqW2tleV0sa2V5KTtlbHNlIGlmKGlzQXJyYXkob2JqKXx8aXNBcnJheUxpa2Uob2JqKSlmb3Ioa2V5PTA7a2V5PG9iai5sZW5ndGg7a2V5KyspaXRlcmF0b3IuY2FsbChjb250ZXh0LG9ialtrZXldLGtleSk7ZWxzZSBpZihvYmouZm9yRWFjaCYmb2JqLmZvckVhY2ghPT1mb3JFYWNoKW9iai5mb3JFYWNoKGl0ZXJhdG9yLGNvbnRleHQpO2Vsc2UgZm9yKGtleSBpbiBvYmopb2JqLmhhc093blByb3BlcnR5KGtleSkmJml0ZXJhdG9yLmNhbGwoY29udGV4dCxvYmpba2V5XSxrZXkpO3JldHVybiBvYmp9ZnVuY3Rpb24gc29ydGVkS2V5cyhvYmope3ZhciBrZXlzPVtdO2Zvcih2YXIga2V5IGluIG9iailvYmouaGFzT3duUHJvcGVydHkoa2V5KSYma2V5cy5wdXNoKGtleSk7cmV0dXJuIGtleXMuc29ydCgpfWZ1bmN0aW9uIGZvckVhY2hTb3J0ZWQob2JqLGl0ZXJhdG9yLGNvbnRleHQpe2Zvcih2YXIga2V5cz1zb3J0ZWRLZXlzKG9iaiksaT0wO2k8a2V5cy5sZW5ndGg7aSsrKWl0ZXJhdG9yLmNhbGwoY29udGV4dCxvYmpba2V5c1tpXV0sa2V5c1tpXSk7cmV0dXJuIGtleXN9ZnVuY3Rpb24gcmV2ZXJzZVBhcmFtcyhpdGVyYXRvckZuKXtyZXR1cm4gZnVuY3Rpb24odmFsdWUsa2V5KXtpdGVyYXRvckZuKGtleSx2YWx1ZSl9fWZ1bmN0aW9uIG5leHRVaWQoKXtmb3IodmFyIGRpZ2l0LGluZGV4PXVpZC5sZW5ndGg7aW5kZXg7KXtpZihpbmRleC0tLGRpZ2l0PXVpZFtpbmRleF0uY2hhckNvZGVBdCgwKSw1Nz09ZGlnaXQpcmV0dXJuIHVpZFtpbmRleF09IkEiLHVpZC5qb2luKCIiKTtpZig5MCE9ZGlnaXQpcmV0dXJuIHVpZFtpbmRleF09U3RyaW5nLmZyb21DaGFyQ29kZShkaWdpdCsxKSx1aWQuam9pbigiIik7dWlkW2luZGV4XT0iMCJ9cmV0dXJuIHVpZC51bnNoaWZ0KCIwIiksdWlkLmpvaW4oIiIpfWZ1bmN0aW9uIHNldEhhc2hLZXkob2JqLGgpe2g/b2JqLiQkaGFzaEtleT1oOmRlbGV0ZSBvYmouJCRoYXNoS2V5fWZ1bmN0aW9uIGV4dGVuZChkc3Qpe3ZhciBoPWRzdC4kJGhhc2hLZXk7cmV0dXJuIGZvckVhY2goYXJndW1lbnRzLGZ1bmN0aW9uKG9iail7b2JqIT09ZHN0JiZmb3JFYWNoKG9iaixmdW5jdGlvbih2YWx1ZSxrZXkpe2RzdFtrZXldPXZhbHVlfSl9KSxzZXRIYXNoS2V5KGRzdCxoKSxkc3R9ZnVuY3Rpb24gaW50KHN0cil7cmV0dXJuIHBhcnNlSW50KHN0ciwxMCl9ZnVuY3Rpb24gaW5oZXJpdChwYXJlbnQsZXh0cmEpe3JldHVybiBleHRlbmQobmV3KGV4dGVuZChmdW5jdGlvbigpe30se3Byb3RvdHlwZTpwYXJlbnR9KSksZXh0cmEpfWZ1bmN0aW9uIG5vb3AoKXt9ZnVuY3Rpb24gaWRlbnRpdHkoJCl7cmV0dXJuICR9ZnVuY3Rpb24gdmFsdWVGbih2YWx1ZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHZhbHVlfX1mdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSl7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiB2YWx1ZX1mdW5jdGlvbiBpc0RlZmluZWQodmFsdWUpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdmFsdWV9ZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpe3JldHVybiBudWxsIT12YWx1ZSYmIm9iamVjdCI9PXR5cGVvZiB2YWx1ZX1mdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB2YWx1ZX1mdW5jdGlvbiBpc051bWJlcih2YWx1ZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiB2YWx1ZX1mdW5jdGlvbiBpc0RhdGUodmFsdWUpe3JldHVybiJbb2JqZWN0IERhdGVdIj09PXRvU3RyaW5nLmNhbGwodmFsdWUpfWZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB2YWx1ZX1mdW5jdGlvbiBpc1JlZ0V4cCh2YWx1ZSl7cmV0dXJuIltvYmplY3QgUmVnRXhwXSI9PT10b1N0cmluZy5jYWxsKHZhbHVlKX1mdW5jdGlvbiBpc1dpbmRvdyhvYmope3JldHVybiBvYmomJm9iai5kb2N1bWVudCYmb2JqLmxvY2F0aW9uJiZvYmouYWxlcnQmJm9iai5zZXRJbnRlcnZhbH1mdW5jdGlvbiBpc1Njb3BlKG9iail7cmV0dXJuIG9iaiYmb2JqLiRldmFsQXN5bmMmJm9iai4kd2F0Y2h9ZnVuY3Rpb24gaXNGaWxlKG9iail7cmV0dXJuIltvYmplY3QgRmlsZV0iPT09dG9TdHJpbmcuY2FsbChvYmopfWZ1bmN0aW9uIGlzQmxvYihvYmope3JldHVybiJbb2JqZWN0IEJsb2JdIj09PXRvU3RyaW5nLmNhbGwob2JqKX1mdW5jdGlvbiBpc1Byb21pc2VMaWtlKG9iail7cmV0dXJuIG9iaiYmaXNGdW5jdGlvbihvYmoudGhlbil9ZnVuY3Rpb24gaXNFbGVtZW50KG5vZGUpe3JldHVybiEoIW5vZGV8fCEobm9kZS5ub2RlTmFtZXx8bm9kZS5wcm9wJiZub2RlLmF0dHImJm5vZGUuZmluZCkpfWZ1bmN0aW9uIG1hcChvYmosaXRlcmF0b3IsY29udGV4dCl7dmFyIHJlc3VsdHM9W107cmV0dXJuIGZvckVhY2gob2JqLGZ1bmN0aW9uKHZhbHVlLGluZGV4LGxpc3Qpe3Jlc3VsdHMucHVzaChpdGVyYXRvci5jYWxsKGNvbnRleHQsdmFsdWUsaW5kZXgsbGlzdCkpfSkscmVzdWx0c31mdW5jdGlvbiBpbmNsdWRlcyhhcnJheSxvYmope3JldHVybi0xIT1pbmRleE9mKGFycmF5LG9iail9ZnVuY3Rpb24gaW5kZXhPZihhcnJheSxvYmope2lmKGFycmF5LmluZGV4T2YpcmV0dXJuIGFycmF5LmluZGV4T2Yob2JqKTtmb3IodmFyIGk9MDtpPGFycmF5Lmxlbmd0aDtpKyspaWYob2JqPT09YXJyYXlbaV0pcmV0dXJuIGk7cmV0dXJuLTF9ZnVuY3Rpb24gYXJyYXlSZW1vdmUoYXJyYXksdmFsdWUpe3ZhciBpbmRleD1pbmRleE9mKGFycmF5LHZhbHVlKTtyZXR1cm4gaW5kZXg+PTAmJmFycmF5LnNwbGljZShpbmRleCwxKSx2YWx1ZX1mdW5jdGlvbiBjb3B5KHNvdXJjZSxkZXN0aW5hdGlvbixzdGFja1NvdXJjZSxzdGFja0Rlc3Qpe2lmKGlzV2luZG93KHNvdXJjZSl8fGlzU2NvcGUoc291cmNlKSl0aHJvdyBuZ01pbkVycigiY3B3cyIsIkNhbid0IGNvcHkhIE1ha2luZyBjb3BpZXMgb2YgV2luZG93IG9yIFNjb3BlIGluc3RhbmNlcyBpcyBub3Qgc3VwcG9ydGVkLiIpO2lmKGRlc3RpbmF0aW9uKXtpZihzb3VyY2U9PT1kZXN0aW5hdGlvbil0aHJvdyBuZ01pbkVycigiY3BpIiwiQ2FuJ3QgY29weSEgU291cmNlIGFuZCBkZXN0aW5hdGlvbiBhcmUgaWRlbnRpY2FsLiIpO2lmKHN0YWNrU291cmNlPXN0YWNrU291cmNlfHxbXSxzdGFja0Rlc3Q9c3RhY2tEZXN0fHxbXSxpc09iamVjdChzb3VyY2UpKXt2YXIgaW5kZXg9aW5kZXhPZihzdGFja1NvdXJjZSxzb3VyY2UpO2lmKC0xIT09aW5kZXgpcmV0dXJuIHN0YWNrRGVzdFtpbmRleF07c3RhY2tTb3VyY2UucHVzaChzb3VyY2UpLHN0YWNrRGVzdC5wdXNoKGRlc3RpbmF0aW9uKX12YXIgcmVzdWx0O2lmKGlzQXJyYXkoc291cmNlKSl7ZGVzdGluYXRpb24ubGVuZ3RoPTA7Zm9yKHZhciBpPTA7aTxzb3VyY2UubGVuZ3RoO2krKylyZXN1bHQ9Y29weShzb3VyY2VbaV0sbnVsbCxzdGFja1NvdXJjZSxzdGFja0Rlc3QpLGlzT2JqZWN0KHNvdXJjZVtpXSkmJihzdGFja1NvdXJjZS5wdXNoKHNvdXJjZVtpXSksc3RhY2tEZXN0LnB1c2gocmVzdWx0KSksZGVzdGluYXRpb24ucHVzaChyZXN1bHQpfWVsc2V7dmFyIGg9ZGVzdGluYXRpb24uJCRoYXNoS2V5O2lzQXJyYXkoZGVzdGluYXRpb24pP2Rlc3RpbmF0aW9uLmxlbmd0aD0wOmZvckVhY2goZGVzdGluYXRpb24sZnVuY3Rpb24odmFsdWUsa2V5KXtkZWxldGUgZGVzdGluYXRpb25ba2V5XX0pO2Zvcih2YXIga2V5IGluIHNvdXJjZSlyZXN1bHQ9Y29weShzb3VyY2Vba2V5XSxudWxsLHN0YWNrU291cmNlLHN0YWNrRGVzdCksaXNPYmplY3Qoc291cmNlW2tleV0pJiYoc3RhY2tTb3VyY2UucHVzaChzb3VyY2Vba2V5XSksc3RhY2tEZXN0LnB1c2gocmVzdWx0KSksZGVzdGluYXRpb25ba2V5XT1yZXN1bHQ7c2V0SGFzaEtleShkZXN0aW5hdGlvbixoKX19ZWxzZSBkZXN0aW5hdGlvbj1zb3VyY2Usc291cmNlJiYoaXNBcnJheShzb3VyY2UpP2Rlc3RpbmF0aW9uPWNvcHkoc291cmNlLFtdLHN0YWNrU291cmNlLHN0YWNrRGVzdCk6aXNEYXRlKHNvdXJjZSk/ZGVzdGluYXRpb249bmV3IERhdGUoc291cmNlLmdldFRpbWUoKSk6aXNSZWdFeHAoc291cmNlKT8oZGVzdGluYXRpb249bmV3IFJlZ0V4cChzb3VyY2Uuc291cmNlLHNvdXJjZS50b1N0cmluZygpLm1hdGNoKC9bXlwvXSokLylbMF0pLGRlc3RpbmF0aW9uLmxhc3RJbmRleD1zb3VyY2UubGFzdEluZGV4KTppc09iamVjdChzb3VyY2UpJiYoZGVzdGluYXRpb249Y29weShzb3VyY2Use30sc3RhY2tTb3VyY2Usc3RhY2tEZXN0KSkpO3JldHVybiBkZXN0aW5hdGlvbn1mdW5jdGlvbiBzaGFsbG93Q29weShzcmMsZHN0KXtpZihpc0FycmF5KHNyYykpe2RzdD1kc3R8fFtdO2Zvcih2YXIgaT0wO2k8c3JjLmxlbmd0aDtpKyspZHN0W2ldPXNyY1tpXX1lbHNlIGlmKGlzT2JqZWN0KHNyYykpe2RzdD1kc3R8fHt9O2Zvcih2YXIga2V5IGluIHNyYykhaGFzT3duUHJvcGVydHkuY2FsbChzcmMsa2V5KXx8IiQiPT09a2V5LmNoYXJBdCgwKSYmIiQiPT09a2V5LmNoYXJBdCgxKXx8KGRzdFtrZXldPXNyY1trZXldKX1yZXR1cm4gZHN0fHxzcmN9ZnVuY3Rpb24gZXF1YWxzKG8xLG8yKXtpZihvMT09PW8yKXJldHVybiEwO2lmKG51bGw9PT1vMXx8bnVsbD09PW8yKXJldHVybiExO2lmKG8xIT09bzEmJm8yIT09bzIpcmV0dXJuITA7dmFyIGxlbmd0aCxrZXksa2V5U2V0LHQxPXR5cGVvZiBvMSx0Mj10eXBlb2YgbzI7aWYodDE9PXQyJiYib2JqZWN0Ij09dDEpe2lmKCFpc0FycmF5KG8xKSl7aWYoaXNEYXRlKG8xKSlyZXR1cm4gaXNEYXRlKG8yKT9pc05hTihvMS5nZXRUaW1lKCkpJiZpc05hTihvMi5nZXRUaW1lKCkpfHxvMS5nZXRUaW1lKCk9PT1vMi5nZXRUaW1lKCk6ITE7aWYoaXNSZWdFeHAobzEpJiZpc1JlZ0V4cChvMikpcmV0dXJuIG8xLnRvU3RyaW5nKCk9PW8yLnRvU3RyaW5nKCk7aWYoaXNTY29wZShvMSl8fGlzU2NvcGUobzIpfHxpc1dpbmRvdyhvMSl8fGlzV2luZG93KG8yKXx8aXNBcnJheShvMikpcmV0dXJuITE7a2V5U2V0PXt9O2ZvcihrZXkgaW4gbzEpaWYoIiQiIT09a2V5LmNoYXJBdCgwKSYmIWlzRnVuY3Rpb24obzFba2V5XSkpe2lmKCFlcXVhbHMobzFba2V5XSxvMltrZXldKSlyZXR1cm4hMTtrZXlTZXRba2V5XT0hMH1mb3Ioa2V5IGluIG8yKWlmKCFrZXlTZXQuaGFzT3duUHJvcGVydHkoa2V5KSYmIiQiIT09a2V5LmNoYXJBdCgwKSYmbzJba2V5XSE9PXVuZGVmaW5lZCYmIWlzRnVuY3Rpb24obzJba2V5XSkpcmV0dXJuITE7cmV0dXJuITB9aWYoIWlzQXJyYXkobzIpKXJldHVybiExO2lmKChsZW5ndGg9bzEubGVuZ3RoKT09bzIubGVuZ3RoKXtmb3Ioa2V5PTA7bGVuZ3RoPmtleTtrZXkrKylpZighZXF1YWxzKG8xW2tleV0sbzJba2V5XSkpcmV0dXJuITE7cmV0dXJuITB9fXJldHVybiExfWZ1bmN0aW9uIGNvbmNhdChhcnJheTEsYXJyYXkyLGluZGV4KXtyZXR1cm4gYXJyYXkxLmNvbmNhdChzbGljZS5jYWxsKGFycmF5MixpbmRleCkpfWZ1bmN0aW9uIHNsaWNlQXJncyhhcmdzLHN0YXJ0SW5kZXgpe3JldHVybiBzbGljZS5jYWxsKGFyZ3Msc3RhcnRJbmRleHx8MCl9ZnVuY3Rpb24gYmluZChzZWxmLGZuKXt2YXIgY3VycnlBcmdzPWFyZ3VtZW50cy5sZW5ndGg+Mj9zbGljZUFyZ3MoYXJndW1lbnRzLDIpOltdO3JldHVybiFpc0Z1bmN0aW9uKGZuKXx8Zm4gaW5zdGFuY2VvZiBSZWdFeHA/Zm46Y3VycnlBcmdzLmxlbmd0aD9mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2ZuLmFwcGx5KHNlbGYsY3VycnlBcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cywwKSkpOmZuLmFwcGx5KHNlbGYsY3VycnlBcmdzKX06ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9mbi5hcHBseShzZWxmLGFyZ3VtZW50cyk6Zm4uY2FsbChzZWxmKX19ZnVuY3Rpb24gdG9Kc29uUmVwbGFjZXIoa2V5LHZhbHVlKXt2YXIgdmFsPXZhbHVlO3JldHVybiJzdHJpbmciPT10eXBlb2Yga2V5JiYiJCI9PT1rZXkuY2hhckF0KDApP3ZhbD11bmRlZmluZWQ6aXNXaW5kb3codmFsdWUpP3ZhbD0iJFdJTkRPVyI6dmFsdWUmJmRvY3VtZW50PT09dmFsdWU/dmFsPSIkRE9DVU1FTlQiOmlzU2NvcGUodmFsdWUpJiYodmFsPSIkU0NPUEUiKSx2YWx9ZnVuY3Rpb24gdG9Kc29uKG9iaixwcmV0dHkpe3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2Ygb2JqP3VuZGVmaW5lZDpKU09OLnN0cmluZ2lmeShvYmosdG9Kc29uUmVwbGFjZXIscHJldHR5PyIgICI6bnVsbCl9ZnVuY3Rpb24gZnJvbUpzb24oanNvbil7cmV0dXJuIGlzU3RyaW5nKGpzb24pP0pTT04ucGFyc2UoanNvbik6anNvbn1mdW5jdGlvbiB0b0Jvb2xlYW4odmFsdWUpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB2YWx1ZSl2YWx1ZT0hMDtlbHNlIGlmKHZhbHVlJiYwIT09dmFsdWUubGVuZ3RoKXt2YXIgdj1sb3dlcmNhc2UoIiIrdmFsdWUpO3ZhbHVlPSEoImYiPT12fHwiMCI9PXZ8fCJmYWxzZSI9PXZ8fCJubyI9PXZ8fCJuIj09dnx8IltdIj09dil9ZWxzZSB2YWx1ZT0hMTtyZXR1cm4gdmFsdWV9ZnVuY3Rpb24gc3RhcnRpbmdUYWcoZWxlbWVudCl7ZWxlbWVudD1qcUxpdGUoZWxlbWVudCkuY2xvbmUoKTt0cnl7ZWxlbWVudC5lbXB0eSgpfWNhdGNoKGUpe312YXIgVEVYVF9OT0RFPTMsZWxlbUh0bWw9anFMaXRlKCI8ZGl2PiIpLmFwcGVuZChlbGVtZW50KS5odG1sKCk7dHJ5e3JldHVybiBlbGVtZW50WzBdLm5vZGVUeXBlPT09VEVYVF9OT0RFP2xvd2VyY2FzZShlbGVtSHRtbCk6ZWxlbUh0bWwubWF0Y2goL14oPFtePl0rPikvKVsxXS5yZXBsYWNlKC9ePChbXHdcLV0rKS8sZnVuY3Rpb24obWF0Y2gsbm9kZU5hbWUpe3JldHVybiI8Iitsb3dlcmNhc2Uobm9kZU5hbWUpfSl9Y2F0Y2goZSl7cmV0dXJuIGxvd2VyY2FzZShlbGVtSHRtbCl9fWZ1bmN0aW9uIHRyeURlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpfWNhdGNoKGUpe319ZnVuY3Rpb24gcGFyc2VLZXlWYWx1ZShrZXlWYWx1ZSl7dmFyIGtleV92YWx1ZSxrZXksb2JqPXt9O3JldHVybiBmb3JFYWNoKChrZXlWYWx1ZXx8IiIpLnNwbGl0KCImIiksZnVuY3Rpb24oa2V5VmFsdWUpe2lmKGtleVZhbHVlJiYoa2V5X3ZhbHVlPWtleVZhbHVlLnJlcGxhY2UoL1wrL2csIiUyMCIpLnNwbGl0KCI9Iiksa2V5PXRyeURlY29kZVVSSUNvbXBvbmVudChrZXlfdmFsdWVbMF0pLGlzRGVmaW5lZChrZXkpKSl7dmFyIHZhbD1pc0RlZmluZWQoa2V5X3ZhbHVlWzFdKT90cnlEZWNvZGVVUklDb21wb25lbnQoa2V5X3ZhbHVlWzFdKTohMDtoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaixrZXkpP2lzQXJyYXkob2JqW2tleV0pP29ialtrZXldLnB1c2godmFsKTpvYmpba2V5XT1bb2JqW2tleV0sdmFsXTpvYmpba2V5XT12YWx9fSksb2JqfWZ1bmN0aW9uIHRvS2V5VmFsdWUob2JqKXt2YXIgcGFydHM9W107cmV0dXJuIGZvckVhY2gob2JqLGZ1bmN0aW9uKHZhbHVlLGtleSl7aXNBcnJheSh2YWx1ZSk/Zm9yRWFjaCh2YWx1ZSxmdW5jdGlvbihhcnJheVZhbHVlKXtwYXJ0cy5wdXNoKGVuY29kZVVyaVF1ZXJ5KGtleSwhMCkrKGFycmF5VmFsdWU9PT0hMD8iIjoiPSIrZW5jb2RlVXJpUXVlcnkoYXJyYXlWYWx1ZSwhMCkpKX0pOnBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkoa2V5LCEwKSsodmFsdWU9PT0hMD8iIjoiPSIrZW5jb2RlVXJpUXVlcnkodmFsdWUsITApKSl9KSxwYXJ0cy5sZW5ndGg/cGFydHMuam9pbigiJiIpOiIifWZ1bmN0aW9uIGVuY29kZVVyaVNlZ21lbnQodmFsKXtyZXR1cm4gZW5jb2RlVXJpUXVlcnkodmFsLCEwKS5yZXBsYWNlKC8lMjYvZ2ksIiYiKS5yZXBsYWNlKC8lM0QvZ2ksIj0iKS5yZXBsYWNlKC8lMkIvZ2ksIisiKX1mdW5jdGlvbiBlbmNvZGVVcmlRdWVyeSh2YWwscGN0RW5jb2RlU3BhY2VzKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkucmVwbGFjZSgvJTQwL2dpLCJAIikucmVwbGFjZSgvJTNBL2dpLCI6IikucmVwbGFjZSgvJTI0L2csIiQiKS5yZXBsYWNlKC8lMkMvZ2ksIiwiKS5yZXBsYWNlKC8lMjAvZyxwY3RFbmNvZGVTcGFjZXM/IiUyMCI6IisiKX1mdW5jdGlvbiBhbmd1bGFySW5pdChlbGVtZW50LGJvb3RzdHJhcCl7ZnVuY3Rpb24gYXBwZW5kKGVsZW1lbnQpe2VsZW1lbnQmJmVsZW1lbnRzLnB1c2goZWxlbWVudCl9dmFyIGFwcEVsZW1lbnQsbW9kdWxlLGVsZW1lbnRzPVtlbGVtZW50XSxuYW1lcz1bIm5nOmFwcCIsIm5nLWFwcCIsIngtbmctYXBwIiwiZGF0YS1uZy1hcHAiXSxOR19BUFBfQ0xBU1NfUkVHRVhQPS9cc25nWzpcLV1hcHAoOlxzKihbXHdcZF9dKyk7Pyk/XHMvO2ZvckVhY2gobmFtZXMsZnVuY3Rpb24obmFtZSl7bmFtZXNbbmFtZV09ITAsYXBwZW5kKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG5hbWUpKSxuYW1lPW5hbWUucmVwbGFjZSgiOiIsIlxcOiIpLGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCYmKGZvckVhY2goZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuIituYW1lKSxhcHBlbmQpLGZvckVhY2goZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuIituYW1lKyJcXDoiKSxhcHBlbmQpLGZvckVhY2goZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCJbIituYW1lKyJdIiksYXBwZW5kKSl9KSxmb3JFYWNoKGVsZW1lbnRzLGZ1bmN0aW9uKGVsZW1lbnQpe2lmKCFhcHBFbGVtZW50KXt2YXIgY2xhc3NOYW1lPSIgIitlbGVtZW50LmNsYXNzTmFtZSsiICIsbWF0Y2g9TkdfQVBQX0NMQVNTX1JFR0VYUC5leGVjKGNsYXNzTmFtZSk7bWF0Y2g/KGFwcEVsZW1lbnQ9ZWxlbWVudCxtb2R1bGU9KG1hdGNoWzJdfHwiIikucmVwbGFjZSgvXHMrL2csIiwiKSk6Zm9yRWFjaChlbGVtZW50LmF0dHJpYnV0ZXMsZnVuY3Rpb24oYXR0cil7IWFwcEVsZW1lbnQmJm5hbWVzW2F0dHIubmFtZV0mJihhcHBFbGVtZW50PWVsZW1lbnQsbW9kdWxlPWF0dHIudmFsdWUpfSl9fSksYXBwRWxlbWVudCYmYm9vdHN0cmFwKGFwcEVsZW1lbnQsbW9kdWxlP1ttb2R1bGVdOltdKX1mdW5jdGlvbiBib290c3RyYXAoZWxlbWVudCxtb2R1bGVzKXt2YXIgZG9Cb290c3RyYXA9ZnVuY3Rpb24oKXtpZihlbGVtZW50PWpxTGl0ZShlbGVtZW50KSxlbGVtZW50LmluamVjdG9yKCkpe3ZhciB0YWc9ZWxlbWVudFswXT09PWRvY3VtZW50PyJkb2N1bWVudCI6c3RhcnRpbmdUYWcoZWxlbWVudCk7dGhyb3cgbmdNaW5FcnIoImJ0c3RycGQiLCJBcHAgQWxyZWFkeSBCb290c3RyYXBwZWQgd2l0aCB0aGlzIEVsZW1lbnQgJ3swfSciLHRhZy5yZXBsYWNlKC88LywiJmx0OyIpLnJlcGxhY2UoLz4vLCImZ3Q7IikpfW1vZHVsZXM9bW9kdWxlc3x8W10sbW9kdWxlcy51bnNoaWZ0KFsiJHByb3ZpZGUiLGZ1bmN0aW9uKCRwcm92aWRlKXskcHJvdmlkZS52YWx1ZSgiJHJvb3RFbGVtZW50IixlbGVtZW50KX1dKSxtb2R1bGVzLnVuc2hpZnQoIm5nIik7dmFyIGluamVjdG9yPWNyZWF0ZUluamVjdG9yKG1vZHVsZXMpO3JldHVybiBpbmplY3Rvci5pbnZva2UoWyIkcm9vdFNjb3BlIiwiJHJvb3RFbGVtZW50IiwiJGNvbXBpbGUiLCIkaW5qZWN0b3IiLCIkYW5pbWF0ZSIsZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxjb21waWxlLGluamVjdG9yKXtzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtlbGVtZW50LmRhdGEoIiRpbmplY3RvciIsaW5qZWN0b3IpLGNvbXBpbGUoZWxlbWVudCkoc2NvcGUpfSl9XSksaW5qZWN0b3J9LE5HX0RFRkVSX0JPT1RTVFJBUD0vXk5HX0RFRkVSX0JPT1RTVFJBUCEvO3JldHVybiB3aW5kb3cmJiFOR19ERUZFUl9CT09UU1RSQVAudGVzdCh3aW5kb3cubmFtZSk/ZG9Cb290c3RyYXAoKTood2luZG93Lm5hbWU9d2luZG93Lm5hbWUucmVwbGFjZShOR19ERUZFUl9CT09UU1RSQVAsIiIpLHZvaWQoYW5ndWxhci5yZXN1bWVCb290c3RyYXA9ZnVuY3Rpb24oZXh0cmFNb2R1bGVzKXtmb3JFYWNoKGV4dHJhTW9kdWxlcyxmdW5jdGlvbihtb2R1bGUpe21vZHVsZXMucHVzaChtb2R1bGUpfSksZG9Cb290c3RyYXAoKX0pKX1mdW5jdGlvbiBzbmFrZV9jYXNlKG5hbWUsc2VwYXJhdG9yKXtyZXR1cm4gc2VwYXJhdG9yPXNlcGFyYXRvcnx8Il8iLG5hbWUucmVwbGFjZShTTkFLRV9DQVNFX1JFR0VYUCxmdW5jdGlvbihsZXR0ZXIscG9zKXtyZXR1cm4ocG9zP3NlcGFyYXRvcjoiIikrbGV0dGVyLnRvTG93ZXJDYXNlKCl9KX1mdW5jdGlvbiBiaW5kSlF1ZXJ5KCl7alF1ZXJ5PXdpbmRvdy5qUXVlcnksalF1ZXJ5JiZqUXVlcnkuZm4ub24/KGpxTGl0ZT1qUXVlcnksZXh0ZW5kKGpRdWVyeS5mbix7c2NvcGU6SlFMaXRlUHJvdG90eXBlLnNjb3BlLGlzb2xhdGVTY29wZTpKUUxpdGVQcm90b3R5cGUuaXNvbGF0ZVNjb3BlLGNvbnRyb2xsZXI6SlFMaXRlUHJvdG90eXBlLmNvbnRyb2xsZXIsaW5qZWN0b3I6SlFMaXRlUHJvdG90eXBlLmluamVjdG9yLGluaGVyaXRlZERhdGE6SlFMaXRlUHJvdG90eXBlLmluaGVyaXRlZERhdGF9KSxqcUxpdGVQYXRjaEpRdWVyeVJlbW92ZSgicmVtb3ZlIiwhMCwhMCwhMSksanFMaXRlUGF0Y2hKUXVlcnlSZW1vdmUoImVtcHR5IiwhMSwhMSwhMSksanFMaXRlUGF0Y2hKUXVlcnlSZW1vdmUoImh0bWwiLCExLCExLCEwKSk6anFMaXRlPUpRTGl0ZSxhbmd1bGFyLmVsZW1lbnQ9anFMaXRlfWZ1bmN0aW9uIGFzc2VydEFyZyhhcmcsbmFtZSxyZWFzb24pe2lmKCFhcmcpdGhyb3cgbmdNaW5FcnIoImFyZXEiLCJBcmd1bWVudCAnezB9JyBpcyB7MX0iLG5hbWV8fCI/IixyZWFzb258fCJyZXF1aXJlZCIpO3JldHVybiBhcmd9ZnVuY3Rpb24gYXNzZXJ0QXJnRm4oYXJnLG5hbWUsYWNjZXB0QXJyYXlBbm5vdGF0aW9uKXtyZXR1cm4gYWNjZXB0QXJyYXlBbm5vdGF0aW9uJiZpc0FycmF5KGFyZykmJihhcmc9YXJnW2FyZy5sZW5ndGgtMV0pLGFzc2VydEFyZyhpc0Z1bmN0aW9uKGFyZyksbmFtZSwibm90IGEgZnVuY3Rpb24sIGdvdCAiKyhhcmcmJiJvYmplY3QiPT10eXBlb2YgYXJnP2FyZy5jb25zdHJ1Y3Rvci5uYW1lfHwiT2JqZWN0Ijp0eXBlb2YgYXJnKSksYXJnfWZ1bmN0aW9uIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsY29udGV4dCl7aWYoImhhc093blByb3BlcnR5Ij09PW5hbWUpdGhyb3cgbmdNaW5FcnIoImJhZG5hbWUiLCJoYXNPd25Qcm9wZXJ0eSBpcyBub3QgYSB2YWxpZCB7MH0gbmFtZSIsY29udGV4dCl9ZnVuY3Rpb24gZ2V0dGVyKG9iaixwYXRoLGJpbmRGblRvU2NvcGUpe2lmKCFwYXRoKXJldHVybiBvYmo7Zm9yKHZhciBrZXksa2V5cz1wYXRoLnNwbGl0KCIuIiksbGFzdEluc3RhbmNlPW9iaixsZW49a2V5cy5sZW5ndGgsaT0wO2xlbj5pO2krKylrZXk9a2V5c1tpXSxvYmomJihvYmo9KGxhc3RJbnN0YW5jZT1vYmopW2tleV0pO3JldHVybiFiaW5kRm5Ub1Njb3BlJiZpc0Z1bmN0aW9uKG9iaik/YmluZChsYXN0SW5zdGFuY2Usb2JqKTpvYmp9ZnVuY3Rpb24gZ2V0QmxvY2tFbGVtZW50cyhub2Rlcyl7dmFyIHN0YXJ0Tm9kZT1ub2Rlc1swXSxlbmROb2RlPW5vZGVzW25vZGVzLmxlbmd0aC0xXTtpZihzdGFydE5vZGU9PT1lbmROb2RlKXJldHVybiBqcUxpdGUoc3RhcnROb2RlKTt2YXIgZWxlbWVudD1zdGFydE5vZGUsZWxlbWVudHM9W2VsZW1lbnRdO2Rve2lmKGVsZW1lbnQ9ZWxlbWVudC5uZXh0U2libGluZywhZWxlbWVudClicmVhaztlbGVtZW50cy5wdXNoKGVsZW1lbnQpfXdoaWxlKGVsZW1lbnQhPT1lbmROb2RlKTtyZXR1cm4ganFMaXRlKGVsZW1lbnRzKX1mdW5jdGlvbiBzZXR1cE1vZHVsZUxvYWRlcih3aW5kb3cpe2Z1bmN0aW9uIGVuc3VyZShvYmosbmFtZSxmYWN0b3J5KXtyZXR1cm4gb2JqW25hbWVdfHwob2JqW25hbWVdPWZhY3RvcnkoKSl9dmFyICRpbmplY3Rvck1pbkVycj1taW5FcnIoIiRpbmplY3RvciIpLG5nTWluRXJyPW1pbkVycigibmciKSxhbmd1bGFyPWVuc3VyZSh3aW5kb3csImFuZ3VsYXIiLE9iamVjdCk7cmV0dXJuIGFuZ3VsYXIuJCRtaW5FcnI9YW5ndWxhci4kJG1pbkVycnx8bWluRXJyLGVuc3VyZShhbmd1bGFyLCJtb2R1bGUiLGZ1bmN0aW9uKCl7dmFyIG1vZHVsZXM9e307cmV0dXJuIGZ1bmN0aW9uKG5hbWUscmVxdWlyZXMsY29uZmlnRm4pe3ZhciBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eT1mdW5jdGlvbihuYW1lLGNvbnRleHQpe2lmKCJoYXNPd25Qcm9wZXJ0eSI9PT1uYW1lKXRocm93IG5nTWluRXJyKCJiYWRuYW1lIiwiaGFzT3duUHJvcGVydHkgaXMgbm90IGEgdmFsaWQgezB9IG5hbWUiLGNvbnRleHQpfTtyZXR1cm4gYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwibW9kdWxlIikscmVxdWlyZXMmJm1vZHVsZXMuaGFzT3duUHJvcGVydHkobmFtZSkmJihtb2R1bGVzW25hbWVdPW51bGwpLGVuc3VyZShtb2R1bGVzLG5hbWUsZnVuY3Rpb24oKXtmdW5jdGlvbiBpbnZva2VMYXRlcihwcm92aWRlcixtZXRob2QsaW5zZXJ0TWV0aG9kKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gaW52b2tlUXVldWVbaW5zZXJ0TWV0aG9kfHwicHVzaCJdKFtwcm92aWRlcixtZXRob2QsYXJndW1lbnRzXSksbW9kdWxlSW5zdGFuY2V9fWlmKCFyZXF1aXJlcyl0aHJvdyAkaW5qZWN0b3JNaW5FcnIoIm5vbW9kIiwiTW9kdWxlICd7MH0nIGlzIG5vdCBhdmFpbGFibGUhIFlvdSBlaXRoZXIgbWlzc3BlbGxlZCB0aGUgbW9kdWxlIG5hbWUgb3IgZm9yZ290IHRvIGxvYWQgaXQuIElmIHJlZ2lzdGVyaW5nIGEgbW9kdWxlIGVuc3VyZSB0aGF0IHlvdSBzcGVjaWZ5IHRoZSBkZXBlbmRlbmNpZXMgYXMgdGhlIHNlY29uZCBhcmd1bWVudC4iLG5hbWUpO3ZhciBpbnZva2VRdWV1ZT1bXSxydW5CbG9ja3M9W10sY29uZmlnPWludm9rZUxhdGVyKCIkaW5qZWN0b3IiLCJpbnZva2UiKSxtb2R1bGVJbnN0YW5jZT17X2ludm9rZVF1ZXVlOmludm9rZVF1ZXVlLF9ydW5CbG9ja3M6cnVuQmxvY2tzLHJlcXVpcmVzOnJlcXVpcmVzLG5hbWU6bmFtZSxwcm92aWRlcjppbnZva2VMYXRlcigiJHByb3ZpZGUiLCJwcm92aWRlciIpLGZhY3Rvcnk6aW52b2tlTGF0ZXIoIiRwcm92aWRlIiwiZmFjdG9yeSIpLHNlcnZpY2U6aW52b2tlTGF0ZXIoIiRwcm92aWRlIiwic2VydmljZSIpLHZhbHVlOmludm9rZUxhdGVyKCIkcHJvdmlkZSIsInZhbHVlIiksY29uc3RhbnQ6aW52b2tlTGF0ZXIoIiRwcm92aWRlIiwiY29uc3RhbnQiLCJ1bnNoaWZ0IiksYW5pbWF0aW9uOmludm9rZUxhdGVyKCIkYW5pbWF0ZVByb3ZpZGVyIiwicmVnaXN0ZXIiKSxmaWx0ZXI6aW52b2tlTGF0ZXIoIiRmaWx0ZXJQcm92aWRlciIsInJlZ2lzdGVyIiksY29udHJvbGxlcjppbnZva2VMYXRlcigiJGNvbnRyb2xsZXJQcm92aWRlciIsInJlZ2lzdGVyIiksZGlyZWN0aXZlOmludm9rZUxhdGVyKCIkY29tcGlsZVByb3ZpZGVyIiwiZGlyZWN0aXZlIiksY29uZmlnOmNvbmZpZyxydW46ZnVuY3Rpb24oYmxvY2spe3JldHVybiBydW5CbG9ja3MucHVzaChibG9jayksdGhpc319O3JldHVybiBjb25maWdGbiYmY29uZmlnKGNvbmZpZ0ZuKSxtb2R1bGVJbnN0YW5jZX0pfX0pfWZ1bmN0aW9uIHB1Ymxpc2hFeHRlcm5hbEFQSShhbmd1bGFyKXtleHRlbmQoYW5ndWxhcix7Ym9vdHN0cmFwOmJvb3RzdHJhcCxjb3B5OmNvcHksZXh0ZW5kOmV4dGVuZCxlcXVhbHM6ZXF1YWxzLGVsZW1lbnQ6anFMaXRlLGZvckVhY2g6Zm9yRWFjaCxpbmplY3RvcjpjcmVhdGVJbmplY3Rvcixub29wOm5vb3AsYmluZDpiaW5kLHRvSnNvbjp0b0pzb24sZnJvbUpzb246ZnJvbUpzb24saWRlbnRpdHk6aWRlbnRpdHksaXNVbmRlZmluZWQ6aXNVbmRlZmluZWQsaXNEZWZpbmVkOmlzRGVmaW5lZCxpc1N0cmluZzppc1N0cmluZyxpc0Z1bmN0aW9uOmlzRnVuY3Rpb24saXNPYmplY3Q6aXNPYmplY3QsaXNOdW1iZXI6aXNOdW1iZXIsaXNFbGVtZW50OmlzRWxlbWVudCxpc0FycmF5OmlzQXJyYXksdmVyc2lvbjp2ZXJzaW9uLGlzRGF0ZTppc0RhdGUsbG93ZXJjYXNlOmxvd2VyY2FzZSx1cHBlcmNhc2U6dXBwZXJjYXNlLGNhbGxiYWNrczp7Y291bnRlcjowfSwkJG1pbkVycjptaW5FcnIsJCRjc3A6Y3NwfSksYW5ndWxhck1vZHVsZT1zZXR1cE1vZHVsZUxvYWRlcih3aW5kb3cpO3RyeXthbmd1bGFyTW9kdWxlKCJuZ0xvY2FsZSIpfWNhdGNoKGUpe2FuZ3VsYXJNb2R1bGUoIm5nTG9jYWxlIixbXSkucHJvdmlkZXIoIiRsb2NhbGUiLCRMb2NhbGVQcm92aWRlcil9YW5ndWxhck1vZHVsZSgibmciLFsibmdMb2NhbGUiXSxbIiRwcm92aWRlIixmdW5jdGlvbigkcHJvdmlkZSl7JHByb3ZpZGUucHJvdmlkZXIoeyQkc2FuaXRpemVVcmk6JCRTYW5pdGl6ZVVyaVByb3ZpZGVyfSksJHByb3ZpZGUucHJvdmlkZXIoIiRjb21waWxlIiwkQ29tcGlsZVByb3ZpZGVyKS5kaXJlY3RpdmUoe2E6aHRtbEFuY2hvckRpcmVjdGl2ZSxpbnB1dDppbnB1dERpcmVjdGl2ZSx0ZXh0YXJlYTppbnB1dERpcmVjdGl2ZSxmb3JtOmZvcm1EaXJlY3RpdmUsc2NyaXB0OnNjcmlwdERpcmVjdGl2ZSxzZWxlY3Q6c2VsZWN0RGlyZWN0aXZlLHN0eWxlOnN0eWxlRGlyZWN0aXZlLG9wdGlvbjpvcHRpb25EaXJlY3RpdmUsbmdCaW5kOm5nQmluZERpcmVjdGl2ZSxuZ0JpbmRIdG1sOm5nQmluZEh0bWxEaXJlY3RpdmUsbmdCaW5kVGVtcGxhdGU6bmdCaW5kVGVtcGxhdGVEaXJlY3RpdmUsbmdDbGFzczpuZ0NsYXNzRGlyZWN0aXZlLG5nQ2xhc3NFdmVuOm5nQ2xhc3NFdmVuRGlyZWN0aXZlLG5nQ2xhc3NPZGQ6bmdDbGFzc09kZERpcmVjdGl2ZSxuZ0Nsb2FrOm5nQ2xvYWtEaXJlY3RpdmUsbmdDb250cm9sbGVyOm5nQ29udHJvbGxlckRpcmVjdGl2ZSxuZ0Zvcm06bmdGb3JtRGlyZWN0aXZlLG5nSGlkZTpuZ0hpZGVEaXJlY3RpdmUsbmdJZjpuZ0lmRGlyZWN0aXZlLG5nSW5jbHVkZTpuZ0luY2x1ZGVEaXJlY3RpdmUsbmdJbml0Om5nSW5pdERpcmVjdGl2ZSxuZ05vbkJpbmRhYmxlOm5nTm9uQmluZGFibGVEaXJlY3RpdmUsbmdQbHVyYWxpemU6bmdQbHVyYWxpemVEaXJlY3RpdmUsbmdSZXBlYXQ6bmdSZXBlYXREaXJlY3RpdmUsbmdTaG93Om5nU2hvd0RpcmVjdGl2ZSxuZ1N0eWxlOm5nU3R5bGVEaXJlY3RpdmUsbmdTd2l0Y2g6bmdTd2l0Y2hEaXJlY3RpdmUsbmdTd2l0Y2hXaGVuOm5nU3dpdGNoV2hlbkRpcmVjdGl2ZSxuZ1N3aXRjaERlZmF1bHQ6bmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlLG5nT3B0aW9uczpuZ09wdGlvbnNEaXJlY3RpdmUsbmdUcmFuc2NsdWRlOm5nVHJhbnNjbHVkZURpcmVjdGl2ZSxuZ01vZGVsOm5nTW9kZWxEaXJlY3RpdmUsbmdMaXN0Om5nTGlzdERpcmVjdGl2ZSxuZ0NoYW5nZTpuZ0NoYW5nZURpcmVjdGl2ZSxyZXF1aXJlZDpyZXF1aXJlZERpcmVjdGl2ZSxuZ1JlcXVpcmVkOnJlcXVpcmVkRGlyZWN0aXZlLG5nVmFsdWU6bmdWYWx1ZURpcmVjdGl2ZX0pLmRpcmVjdGl2ZSh7bmdJbmNsdWRlOm5nSW5jbHVkZUZpbGxDb250ZW50RGlyZWN0aXZlfSkuZGlyZWN0aXZlKG5nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzKS5kaXJlY3RpdmUobmdFdmVudERpcmVjdGl2ZXMpLCRwcm92aWRlLnByb3ZpZGVyKHskYW5jaG9yU2Nyb2xsOiRBbmNob3JTY3JvbGxQcm92aWRlciwkYW5pbWF0ZTokQW5pbWF0ZVByb3ZpZGVyLCRicm93c2VyOiRCcm93c2VyUHJvdmlkZXIsJGNhY2hlRmFjdG9yeTokQ2FjaGVGYWN0b3J5UHJvdmlkZXIsJGNvbnRyb2xsZXI6JENvbnRyb2xsZXJQcm92aWRlciwkZG9jdW1lbnQ6JERvY3VtZW50UHJvdmlkZXIsJGV4Y2VwdGlvbkhhbmRsZXI6JEV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlciwkZmlsdGVyOiRGaWx0ZXJQcm92aWRlciwkaW50ZXJwb2xhdGU6JEludGVycG9sYXRlUHJvdmlkZXIsJGludGVydmFsOiRJbnRlcnZhbFByb3ZpZGVyLCRodHRwOiRIdHRwUHJvdmlkZXIsJGh0dHBCYWNrZW5kOiRIdHRwQmFja2VuZFByb3ZpZGVyLCRsb2NhdGlvbjokTG9jYXRpb25Qcm92aWRlciwkbG9nOiRMb2dQcm92aWRlciwkcGFyc2U6JFBhcnNlUHJvdmlkZXIsJHJvb3RTY29wZTokUm9vdFNjb3BlUHJvdmlkZXIsJHE6JFFQcm92aWRlciwkc2NlOiRTY2VQcm92aWRlciwkc2NlRGVsZWdhdGU6JFNjZURlbGVnYXRlUHJvdmlkZXIsJHNuaWZmZXI6JFNuaWZmZXJQcm92aWRlciwkdGVtcGxhdGVDYWNoZTokVGVtcGxhdGVDYWNoZVByb3ZpZGVyLCR0aW1lb3V0OiRUaW1lb3V0UHJvdmlkZXIsJHdpbmRvdzokV2luZG93UHJvdmlkZXIsJCRyQUY6JCRSQUZQcm92aWRlciwkJGFzeW5jQ2FsbGJhY2s6JCRBc3luY0NhbGxiYWNrUHJvdmlkZXJ9KX1dKX1mdW5jdGlvbiBqcU5leHRJZCgpe3JldHVybisranFJZH1mdW5jdGlvbiBjYW1lbENhc2UobmFtZSl7cmV0dXJuIG5hbWUucmVwbGFjZShTUEVDSUFMX0NIQVJTX1JFR0VYUCxmdW5jdGlvbihfLHNlcGFyYXRvcixsZXR0ZXIsb2Zmc2V0KXtyZXR1cm4gb2Zmc2V0P2xldHRlci50b1VwcGVyQ2FzZSgpOmxldHRlcn0pLnJlcGxhY2UoTU9aX0hBQ0tfUkVHRVhQLCJNb3okMSIpfWZ1bmN0aW9uIGpxTGl0ZVBhdGNoSlF1ZXJ5UmVtb3ZlKG5hbWUsZGlzcGF0Y2hUaGlzLGZpbHRlckVsZW1zLGdldHRlcklmTm9Bcmd1bWVudHMpe2Z1bmN0aW9uIHJlbW92ZVBhdGNoKHBhcmFtKXt2YXIgc2V0LHNldEluZGV4LHNldExlbmd0aCxlbGVtZW50LGNoaWxkSW5kZXgsY2hpbGRMZW5ndGgsY2hpbGRyZW4sbGlzdD1maWx0ZXJFbGVtcyYmcGFyYW0/W3RoaXMuZmlsdGVyKHBhcmFtKV06W3RoaXNdLGZpcmVFdmVudD1kaXNwYXRjaFRoaXM7aWYoIWdldHRlcklmTm9Bcmd1bWVudHN8fG51bGwhPXBhcmFtKWZvcig7bGlzdC5sZW5ndGg7KWZvcihzZXQ9bGlzdC5zaGlmdCgpLHNldEluZGV4PTAsc2V0TGVuZ3RoPXNldC5sZW5ndGg7c2V0TGVuZ3RoPnNldEluZGV4O3NldEluZGV4KyspZm9yKGVsZW1lbnQ9anFMaXRlKHNldFtzZXRJbmRleF0pLGZpcmVFdmVudD9lbGVtZW50LnRyaWdnZXJIYW5kbGVyKCIkZGVzdHJveSIpOmZpcmVFdmVudD0hZmlyZUV2ZW50LGNoaWxkSW5kZXg9MCxjaGlsZExlbmd0aD0oY2hpbGRyZW49ZWxlbWVudC5jaGlsZHJlbigpKS5sZW5ndGg7Y2hpbGRMZW5ndGg+Y2hpbGRJbmRleDtjaGlsZEluZGV4KyspbGlzdC5wdXNoKGpRdWVyeShjaGlsZHJlbltjaGlsZEluZGV4XSkpO3JldHVybiBvcmlnaW5hbEpxRm4uYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBvcmlnaW5hbEpxRm49alF1ZXJ5LmZuW25hbWVdO29yaWdpbmFsSnFGbj1vcmlnaW5hbEpxRm4uJG9yaWdpbmFsfHxvcmlnaW5hbEpxRm4scmVtb3ZlUGF0Y2guJG9yaWdpbmFsPW9yaWdpbmFsSnFGbixqUXVlcnkuZm5bbmFtZV09cmVtb3ZlUGF0Y2h9ZnVuY3Rpb24ganFMaXRlSXNUZXh0Tm9kZShodG1sKXtyZXR1cm4hSFRNTF9SRUdFWFAudGVzdChodG1sKX1mdW5jdGlvbiBqcUxpdGVCdWlsZEZyYWdtZW50KGh0bWwsY29udGV4dCl7dmFyIHRtcCx0YWcsd3JhcCxpLGosamosZnJhZ21lbnQ9Y29udGV4dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbm9kZXM9W107aWYoanFMaXRlSXNUZXh0Tm9kZShodG1sKSlub2Rlcy5wdXNoKGNvbnRleHQuY3JlYXRlVGV4dE5vZGUoaHRtbCkpO2Vsc2V7Zm9yKHRtcD1mcmFnbWVudC5hcHBlbmRDaGlsZChjb250ZXh0LmNyZWF0ZUVsZW1lbnQoImRpdiIpKSx0YWc9KFRBR19OQU1FX1JFR0VYUC5leGVjKGh0bWwpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLHdyYXA9d3JhcE1hcFt0YWddfHx3cmFwTWFwLl9kZWZhdWx0LHRtcC5pbm5lckhUTUw9IjxkaXY+JiMxNjA7PC9kaXY+Iit3cmFwWzFdK2h0bWwucmVwbGFjZShYSFRNTF9UQUdfUkVHRVhQLCI8JDE+PC8kMj4iKSt3cmFwWzJdLHRtcC5yZW1vdmVDaGlsZCh0bXAuZmlyc3RDaGlsZCksaT13cmFwWzBdO2ktLTspdG1wPXRtcC5sYXN0Q2hpbGQ7Zm9yKGo9MCxqaj10bXAuY2hpbGROb2Rlcy5sZW5ndGg7amo+ajsrK2opbm9kZXMucHVzaCh0bXAuY2hpbGROb2Rlc1tqXSk7dG1wPWZyYWdtZW50LmZpcnN0Q2hpbGQsdG1wLnRleHRDb250ZW50PSIifXJldHVybiBmcmFnbWVudC50ZXh0Q29udGVudD0iIixmcmFnbWVudC5pbm5lckhUTUw9IiIsbm9kZXN9ZnVuY3Rpb24ganFMaXRlUGFyc2VIVE1MKGh0bWwsY29udGV4dCl7Y29udGV4dD1jb250ZXh0fHxkb2N1bWVudDt2YXIgcGFyc2VkO3JldHVybihwYXJzZWQ9U0lOR0xFX1RBR19SRUdFWFAuZXhlYyhodG1sKSk/W2NvbnRleHQuY3JlYXRlRWxlbWVudChwYXJzZWRbMV0pXTpqcUxpdGVCdWlsZEZyYWdtZW50KGh0bWwsY29udGV4dCl9ZnVuY3Rpb24gSlFMaXRlKGVsZW1lbnQpe2lmKGVsZW1lbnQgaW5zdGFuY2VvZiBKUUxpdGUpcmV0dXJuIGVsZW1lbnQ7aWYoaXNTdHJpbmcoZWxlbWVudCkmJihlbGVtZW50PXRyaW0oZWxlbWVudCkpLCEodGhpcyBpbnN0YW5jZW9mIEpRTGl0ZSkpe2lmKGlzU3RyaW5nKGVsZW1lbnQpJiYiPCIhPWVsZW1lbnQuY2hhckF0KDApKXRocm93IGpxTGl0ZU1pbkVycigibm9zZWwiLCJMb29raW5nIHVwIGVsZW1lbnRzIHZpYSBzZWxlY3RvcnMgaXMgbm90IHN1cHBvcnRlZCBieSBqcUxpdGUhIFNlZTogaHR0cDovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvYW5ndWxhci5lbGVtZW50Iik7cmV0dXJuIG5ldyBKUUxpdGUoZWxlbWVudCl9aWYoaXNTdHJpbmcoZWxlbWVudCkpe2pxTGl0ZUFkZE5vZGVzKHRoaXMsanFMaXRlUGFyc2VIVE1MKGVsZW1lbnQpKTt2YXIgZnJhZ21lbnQ9anFMaXRlKGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7ZnJhZ21lbnQuYXBwZW5kKHRoaXMpfWVsc2UganFMaXRlQWRkTm9kZXModGhpcyxlbGVtZW50KX1mdW5jdGlvbiBqcUxpdGVDbG9uZShlbGVtZW50KXtyZXR1cm4gZWxlbWVudC5jbG9uZU5vZGUoITApfWZ1bmN0aW9uIGpxTGl0ZURlYWxvYyhlbGVtZW50KXtqcUxpdGVSZW1vdmVEYXRhKGVsZW1lbnQpO2Zvcih2YXIgaT0wLGNoaWxkcmVuPWVsZW1lbnQuY2hpbGROb2Rlc3x8W107aTxjaGlsZHJlbi5sZW5ndGg7aSsrKWpxTGl0ZURlYWxvYyhjaGlsZHJlbltpXSl9ZnVuY3Rpb24ganFMaXRlT2ZmKGVsZW1lbnQsdHlwZSxmbix1bnN1cHBvcnRlZCl7aWYoaXNEZWZpbmVkKHVuc3VwcG9ydGVkKSl0aHJvdyBqcUxpdGVNaW5FcnIoIm9mZmFyZ3MiLCJqcUxpdGUjb2ZmKCkgZG9lcyBub3Qgc3VwcG9ydCB0aGUgYHNlbGVjdG9yYCBhcmd1bWVudCIpO3ZhciBldmVudHM9anFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsImV2ZW50cyIpLGhhbmRsZT1qcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwiaGFuZGxlIik7aGFuZGxlJiYoaXNVbmRlZmluZWQodHlwZSk/Zm9yRWFjaChldmVudHMsZnVuY3Rpb24oZXZlbnRIYW5kbGVyLHR5cGUpe3JlbW92ZUV2ZW50TGlzdGVuZXJGbihlbGVtZW50LHR5cGUsZXZlbnRIYW5kbGVyKSxkZWxldGUgZXZlbnRzW3R5cGVdfSk6Zm9yRWFjaCh0eXBlLnNwbGl0KCIgIiksZnVuY3Rpb24odHlwZSl7aXNVbmRlZmluZWQoZm4pPyhyZW1vdmVFdmVudExpc3RlbmVyRm4oZWxlbWVudCx0eXBlLGV2ZW50c1t0eXBlXSksZGVsZXRlIGV2ZW50c1t0eXBlXSk6YXJyYXlSZW1vdmUoZXZlbnRzW3R5cGVdfHxbXSxmbil9KSl9ZnVuY3Rpb24ganFMaXRlUmVtb3ZlRGF0YShlbGVtZW50LG5hbWUpe3ZhciBleHBhbmRvSWQ9ZWxlbWVudC5uZzMzOSxleHBhbmRvU3RvcmU9anFDYWNoZVtleHBhbmRvSWRdO2lmKGV4cGFuZG9TdG9yZSl7aWYobmFtZSlyZXR1cm4gdm9pZCBkZWxldGUganFDYWNoZVtleHBhbmRvSWRdLmRhdGFbbmFtZV07ZXhwYW5kb1N0b3JlLmhhbmRsZSYmKGV4cGFuZG9TdG9yZS5ldmVudHMuJGRlc3Ryb3kmJmV4cGFuZG9TdG9yZS5oYW5kbGUoe30sIiRkZXN0cm95IiksanFMaXRlT2ZmKGVsZW1lbnQpKSxkZWxldGUganFDYWNoZVtleHBhbmRvSWRdLGVsZW1lbnQubmczMzk9dW5kZWZpbmVkfX1mdW5jdGlvbiBqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCxrZXksdmFsdWUpe3ZhciBleHBhbmRvSWQ9ZWxlbWVudC5uZzMzOSxleHBhbmRvU3RvcmU9anFDYWNoZVtleHBhbmRvSWR8fC0xXTtyZXR1cm4gaXNEZWZpbmVkKHZhbHVlKT8oZXhwYW5kb1N0b3JlfHwoZWxlbWVudC5uZzMzOT1leHBhbmRvSWQ9anFOZXh0SWQoKSxleHBhbmRvU3RvcmU9anFDYWNoZVtleHBhbmRvSWRdPXt9KSx2b2lkKGV4cGFuZG9TdG9yZVtrZXldPXZhbHVlKSk6ZXhwYW5kb1N0b3JlJiZleHBhbmRvU3RvcmVba2V5XX1mdW5jdGlvbiBqcUxpdGVEYXRhKGVsZW1lbnQsa2V5LHZhbHVlKXt2YXIgZGF0YT1qcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwiZGF0YSIpLGlzU2V0dGVyPWlzRGVmaW5lZCh2YWx1ZSksa2V5RGVmaW5lZD0haXNTZXR0ZXImJmlzRGVmaW5lZChrZXkpLGlzU2ltcGxlR2V0dGVyPWtleURlZmluZWQmJiFpc09iamVjdChrZXkpO2lmKGRhdGF8fGlzU2ltcGxlR2V0dGVyfHxqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwiZGF0YSIsZGF0YT17fSksaXNTZXR0ZXIpZGF0YVtrZXldPXZhbHVlO2Vsc2V7aWYoIWtleURlZmluZWQpcmV0dXJuIGRhdGE7aWYoaXNTaW1wbGVHZXR0ZXIpcmV0dXJuIGRhdGEmJmRhdGFba2V5XTtleHRlbmQoZGF0YSxrZXkpfX1mdW5jdGlvbiBqcUxpdGVIYXNDbGFzcyhlbGVtZW50LHNlbGVjdG9yKXtyZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGU/KCIgIisoZWxlbWVudC5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKSsiICIpLnJlcGxhY2UoL1tcblx0XS9nLCIgIikuaW5kZXhPZigiICIrc2VsZWN0b3IrIiAiKT4tMTohMX1mdW5jdGlvbiBqcUxpdGVSZW1vdmVDbGFzcyhlbGVtZW50LGNzc0NsYXNzZXMpe2Nzc0NsYXNzZXMmJmVsZW1lbnQuc2V0QXR0cmlidXRlJiZmb3JFYWNoKGNzc0NsYXNzZXMuc3BsaXQoIiAiKSxmdW5jdGlvbihjc3NDbGFzcyl7ZWxlbWVudC5zZXRBdHRyaWJ1dGUoImNsYXNzIix0cmltKCgiICIrKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIikrIiAiKS5yZXBsYWNlKC9bXG5cdF0vZywiICIpLnJlcGxhY2UoIiAiK3RyaW0oY3NzQ2xhc3MpKyIgIiwiICIpKSl9KX1mdW5jdGlvbiBqcUxpdGVBZGRDbGFzcyhlbGVtZW50LGNzc0NsYXNzZXMpe2lmKGNzc0NsYXNzZXMmJmVsZW1lbnQuc2V0QXR0cmlidXRlKXt2YXIgZXhpc3RpbmdDbGFzc2VzPSgiICIrKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIikrIiAiKS5yZXBsYWNlKC9bXG5cdF0vZywiICIpO2ZvckVhY2goY3NzQ2xhc3Nlcy5zcGxpdCgiICIpLGZ1bmN0aW9uKGNzc0NsYXNzKXtjc3NDbGFzcz10cmltKGNzc0NsYXNzKSwtMT09PWV4aXN0aW5nQ2xhc3Nlcy5pbmRleE9mKCIgIitjc3NDbGFzcysiICIpJiYoZXhpc3RpbmdDbGFzc2VzKz1jc3NDbGFzcysiICIpfSksZWxlbWVudC5zZXRBdHRyaWJ1dGUoImNsYXNzIix0cmltKGV4aXN0aW5nQ2xhc3NlcykpfX1mdW5jdGlvbiBqcUxpdGVBZGROb2Rlcyhyb290LGVsZW1lbnRzKXtpZihlbGVtZW50cyl7ZWxlbWVudHM9ZWxlbWVudHMubm9kZU5hbWV8fCFpc0RlZmluZWQoZWxlbWVudHMubGVuZ3RoKXx8aXNXaW5kb3coZWxlbWVudHMpP1tlbGVtZW50c106ZWxlbWVudHM7Zm9yKHZhciBpPTA7aTxlbGVtZW50cy5sZW5ndGg7aSsrKXJvb3QucHVzaChlbGVtZW50c1tpXSl9fWZ1bmN0aW9uIGpxTGl0ZUNvbnRyb2xsZXIoZWxlbWVudCxuYW1lKXtyZXR1cm4ganFMaXRlSW5oZXJpdGVkRGF0YShlbGVtZW50LCIkIisobmFtZXx8Im5nQ29udHJvbGxlciIpKyJDb250cm9sbGVyIil9ZnVuY3Rpb24ganFMaXRlSW5oZXJpdGVkRGF0YShlbGVtZW50LG5hbWUsdmFsdWUpezk9PWVsZW1lbnQubm9kZVR5cGUmJihlbGVtZW50PWVsZW1lbnQuZG9jdW1lbnRFbGVtZW50KTtmb3IodmFyIG5hbWVzPWlzQXJyYXkobmFtZSk/bmFtZTpbbmFtZV07ZWxlbWVudDspe2Zvcih2YXIgaT0wLGlpPW5hbWVzLmxlbmd0aDtpaT5pO2krKylpZigodmFsdWU9anFMaXRlLmRhdGEoZWxlbWVudCxuYW1lc1tpXSkpIT09dW5kZWZpbmVkKXJldHVybiB2YWx1ZTtlbGVtZW50PWVsZW1lbnQucGFyZW50Tm9kZXx8MTE9PT1lbGVtZW50Lm5vZGVUeXBlJiZlbGVtZW50Lmhvc3R9fWZ1bmN0aW9uIGpxTGl0ZUVtcHR5KGVsZW1lbnQpe2Zvcih2YXIgaT0wLGNoaWxkTm9kZXM9ZWxlbWVudC5jaGlsZE5vZGVzO2k8Y2hpbGROb2Rlcy5sZW5ndGg7aSsrKWpxTGl0ZURlYWxvYyhjaGlsZE5vZGVzW2ldKTtmb3IoO2VsZW1lbnQuZmlyc3RDaGlsZDspZWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50LmZpcnN0Q2hpbGQpfWZ1bmN0aW9uIGdldEJvb2xlYW5BdHRyTmFtZShlbGVtZW50LG5hbWUpe3ZhciBib29sZWFuQXR0cj1CT09MRUFOX0FUVFJbbmFtZS50b0xvd2VyQ2FzZSgpXTtyZXR1cm4gYm9vbGVhbkF0dHImJkJPT0xFQU5fRUxFTUVOVFNbZWxlbWVudC5ub2RlTmFtZV0mJmJvb2xlYW5BdHRyfWZ1bmN0aW9uIGNyZWF0ZUV2ZW50SGFuZGxlcihlbGVtZW50LGV2ZW50cyl7dmFyIGV2ZW50SGFuZGxlcj1mdW5jdGlvbihldmVudCx0eXBlKXtpZihldmVudC5wcmV2ZW50RGVmYXVsdHx8KGV2ZW50LnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7ZXZlbnQucmV0dXJuVmFsdWU9ITF9KSxldmVudC5zdG9wUHJvcGFnYXRpb258fChldmVudC5zdG9wUHJvcGFnYXRpb249ZnVuY3Rpb24oKXtldmVudC5jYW5jZWxCdWJibGU9ITB9KSxldmVudC50YXJnZXR8fChldmVudC50YXJnZXQ9ZXZlbnQuc3JjRWxlbWVudHx8ZG9jdW1lbnQpLGlzVW5kZWZpbmVkKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpKXt2YXIgcHJldmVudD1ldmVudC5wcmV2ZW50RGVmYXVsdDtldmVudC5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe2V2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ9ITAscHJldmVudC5jYWxsKGV2ZW50KX0sZXZlbnQuZGVmYXVsdFByZXZlbnRlZD0hMX1ldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZXZlbnQuZGVmYXVsdFByZXZlbnRlZHx8ZXZlbnQucmV0dXJuVmFsdWU9PT0hMX07dmFyIGV2ZW50SGFuZGxlcnNDb3B5PXNoYWxsb3dDb3B5KGV2ZW50c1t0eXBlfHxldmVudC50eXBlXXx8W10pO2ZvckVhY2goZXZlbnRIYW5kbGVyc0NvcHksZnVuY3Rpb24oZm4pe2ZuLmNhbGwoZWxlbWVudCxldmVudCl9KSw4Pj1tc2llPyhldmVudC5wcmV2ZW50RGVmYXVsdD1udWxsLGV2ZW50LnN0b3BQcm9wYWdhdGlvbj1udWxsLGV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZD1udWxsKTooZGVsZXRlIGV2ZW50LnByZXZlbnREZWZhdWx0LGRlbGV0ZSBldmVudC5zdG9wUHJvcGFnYXRpb24sZGVsZXRlIGV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCl9O3JldHVybiBldmVudEhhbmRsZXIuZWxlbT1lbGVtZW50LGV2ZW50SGFuZGxlcn1mdW5jdGlvbiBoYXNoS2V5KG9iaixuZXh0VWlkRm4pe3ZhciBrZXksb2JqVHlwZT10eXBlb2Ygb2JqO3JldHVybiJmdW5jdGlvbiI9PW9ialR5cGV8fCJvYmplY3QiPT1vYmpUeXBlJiZudWxsIT09b2JqPyJmdW5jdGlvbiI9PXR5cGVvZihrZXk9b2JqLiQkaGFzaEtleSk/a2V5PW9iai4kJGhhc2hLZXkoKTprZXk9PT11bmRlZmluZWQmJihrZXk9b2JqLiQkaGFzaEtleT0obmV4dFVpZEZufHxuZXh0VWlkKSgpKTprZXk9b2JqLG9ialR5cGUrIjoiK2tleX1mdW5jdGlvbiBIYXNoTWFwKGFycmF5LGlzb2xhdGVkVWlkKXtpZihpc29sYXRlZFVpZCl7dmFyIHVpZD0wO3RoaXMubmV4dFVpZD1mdW5jdGlvbigpe3JldHVybisrdWlkfX1mb3JFYWNoKGFycmF5LHRoaXMucHV0LHRoaXMpfWZ1bmN0aW9uIGFubm90YXRlKGZuKXt2YXIgJGluamVjdCxmblRleHQsYXJnRGVjbCxsYXN0O3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBmbj8oJGluamVjdD1mbi4kaW5qZWN0KXx8KCRpbmplY3Q9W10sZm4ubGVuZ3RoJiYoZm5UZXh0PWZuLnRvU3RyaW5nKCkucmVwbGFjZShTVFJJUF9DT01NRU5UUywiIiksYXJnRGVjbD1mblRleHQubWF0Y2goRk5fQVJHUyksZm9yRWFjaChhcmdEZWNsWzFdLnNwbGl0KEZOX0FSR19TUExJVCksZnVuY3Rpb24oYXJnKXthcmcucmVwbGFjZShGTl9BUkcsZnVuY3Rpb24oYWxsLHVuZGVyc2NvcmUsbmFtZSl7JGluamVjdC5wdXNoKG5hbWUpfSl9KSksZm4uJGluamVjdD0kaW5qZWN0KTppc0FycmF5KGZuKT8obGFzdD1mbi5sZW5ndGgtMSxhc3NlcnRBcmdGbihmbltsYXN0XSwiZm4iKSwkaW5qZWN0PWZuLnNsaWNlKDAsbGFzdCkpOmFzc2VydEFyZ0ZuKGZuLCJmbiIsITApLCRpbmplY3R9ZnVuY3Rpb24gY3JlYXRlSW5qZWN0b3IobW9kdWxlc1RvTG9hZCl7ZnVuY3Rpb24gc3VwcG9ydE9iamVjdChkZWxlZ2F0ZSl7cmV0dXJuIGZ1bmN0aW9uKGtleSx2YWx1ZSl7cmV0dXJuIGlzT2JqZWN0KGtleSk/dm9pZCBmb3JFYWNoKGtleSxyZXZlcnNlUGFyYW1zKGRlbGVnYXRlKSk6ZGVsZWdhdGUoa2V5LHZhbHVlKX19ZnVuY3Rpb24gcHJvdmlkZXIobmFtZSxwcm92aWRlcl8pe2lmKGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsInNlcnZpY2UiKSwoaXNGdW5jdGlvbihwcm92aWRlcl8pfHxpc0FycmF5KHByb3ZpZGVyXykpJiYocHJvdmlkZXJfPXByb3ZpZGVySW5qZWN0b3IuaW5zdGFudGlhdGUocHJvdmlkZXJfKSksIXByb3ZpZGVyXy4kZ2V0KXRocm93ICRpbmplY3Rvck1pbkVycigicGdldCIsIlByb3ZpZGVyICd7MH0nIG11c3QgZGVmaW5lICRnZXQgZmFjdG9yeSBtZXRob2QuIixuYW1lKTsKcmV0dXJuIHByb3ZpZGVyQ2FjaGVbbmFtZStwcm92aWRlclN1ZmZpeF09cHJvdmlkZXJffWZ1bmN0aW9uIGZhY3RvcnkobmFtZSxmYWN0b3J5Rm4pe3JldHVybiBwcm92aWRlcihuYW1lLHskZ2V0OmZhY3RvcnlGbn0pfWZ1bmN0aW9uIHNlcnZpY2UobmFtZSxjb25zdHJ1Y3Rvcil7cmV0dXJuIGZhY3RvcnkobmFtZSxbIiRpbmplY3RvciIsZnVuY3Rpb24oJGluamVjdG9yKXtyZXR1cm4gJGluamVjdG9yLmluc3RhbnRpYXRlKGNvbnN0cnVjdG9yKX1dKX1mdW5jdGlvbiB2YWx1ZShuYW1lLHZhbCl7cmV0dXJuIGZhY3RvcnkobmFtZSx2YWx1ZUZuKHZhbCkpfWZ1bmN0aW9uIGNvbnN0YW50KG5hbWUsdmFsdWUpe2Fzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsImNvbnN0YW50IikscHJvdmlkZXJDYWNoZVtuYW1lXT12YWx1ZSxpbnN0YW5jZUNhY2hlW25hbWVdPXZhbHVlfWZ1bmN0aW9uIGRlY29yYXRvcihzZXJ2aWNlTmFtZSxkZWNvckZuKXt2YXIgb3JpZ1Byb3ZpZGVyPXByb3ZpZGVySW5qZWN0b3IuZ2V0KHNlcnZpY2VOYW1lK3Byb3ZpZGVyU3VmZml4KSxvcmlnJGdldD1vcmlnUHJvdmlkZXIuJGdldDtvcmlnUHJvdmlkZXIuJGdldD1mdW5jdGlvbigpe3ZhciBvcmlnSW5zdGFuY2U9aW5zdGFuY2VJbmplY3Rvci5pbnZva2Uob3JpZyRnZXQsb3JpZ1Byb3ZpZGVyKTtyZXR1cm4gaW5zdGFuY2VJbmplY3Rvci5pbnZva2UoZGVjb3JGbixudWxsLHskZGVsZWdhdGU6b3JpZ0luc3RhbmNlfSl9fWZ1bmN0aW9uIGxvYWRNb2R1bGVzKG1vZHVsZXNUb0xvYWQpe3ZhciBtb2R1bGVGbixpbnZva2VRdWV1ZSxpLGlpLHJ1bkJsb2Nrcz1bXTtyZXR1cm4gZm9yRWFjaChtb2R1bGVzVG9Mb2FkLGZ1bmN0aW9uKG1vZHVsZSl7aWYoIWxvYWRlZE1vZHVsZXMuZ2V0KG1vZHVsZSkpe2xvYWRlZE1vZHVsZXMucHV0KG1vZHVsZSwhMCk7dHJ5e2lmKGlzU3RyaW5nKG1vZHVsZSkpZm9yKG1vZHVsZUZuPWFuZ3VsYXJNb2R1bGUobW9kdWxlKSxydW5CbG9ja3M9cnVuQmxvY2tzLmNvbmNhdChsb2FkTW9kdWxlcyhtb2R1bGVGbi5yZXF1aXJlcykpLmNvbmNhdChtb2R1bGVGbi5fcnVuQmxvY2tzKSxpbnZva2VRdWV1ZT1tb2R1bGVGbi5faW52b2tlUXVldWUsaT0wLGlpPWludm9rZVF1ZXVlLmxlbmd0aDtpaT5pO2krKyl7dmFyIGludm9rZUFyZ3M9aW52b2tlUXVldWVbaV0scHJvdmlkZXI9cHJvdmlkZXJJbmplY3Rvci5nZXQoaW52b2tlQXJnc1swXSk7cHJvdmlkZXJbaW52b2tlQXJnc1sxXV0uYXBwbHkocHJvdmlkZXIsaW52b2tlQXJnc1syXSl9ZWxzZSBpc0Z1bmN0aW9uKG1vZHVsZSk/cnVuQmxvY2tzLnB1c2gocHJvdmlkZXJJbmplY3Rvci5pbnZva2UobW9kdWxlKSk6aXNBcnJheShtb2R1bGUpP3J1bkJsb2Nrcy5wdXNoKHByb3ZpZGVySW5qZWN0b3IuaW52b2tlKG1vZHVsZSkpOmFzc2VydEFyZ0ZuKG1vZHVsZSwibW9kdWxlIil9Y2F0Y2goZSl7dGhyb3cgaXNBcnJheShtb2R1bGUpJiYobW9kdWxlPW1vZHVsZVttb2R1bGUubGVuZ3RoLTFdKSxlLm1lc3NhZ2UmJmUuc3RhY2smJi0xPT1lLnN0YWNrLmluZGV4T2YoZS5tZXNzYWdlKSYmKGU9ZS5tZXNzYWdlKyJcbiIrZS5zdGFjayksJGluamVjdG9yTWluRXJyKCJtb2R1bGVyciIsIkZhaWxlZCB0byBpbnN0YW50aWF0ZSBtb2R1bGUgezB9IGR1ZSB0bzpcbnsxfSIsbW9kdWxlLGUuc3RhY2t8fGUubWVzc2FnZXx8ZSl9fX0pLHJ1bkJsb2Nrc31mdW5jdGlvbiBjcmVhdGVJbnRlcm5hbEluamVjdG9yKGNhY2hlLGZhY3Rvcnkpe2Z1bmN0aW9uIGdldFNlcnZpY2Uoc2VydmljZU5hbWUpe2lmKGNhY2hlLmhhc093blByb3BlcnR5KHNlcnZpY2VOYW1lKSl7aWYoY2FjaGVbc2VydmljZU5hbWVdPT09SU5TVEFOVElBVElORyl0aHJvdyAkaW5qZWN0b3JNaW5FcnIoImNkZXAiLCJDaXJjdWxhciBkZXBlbmRlbmN5IGZvdW5kOiB7MH0iLHNlcnZpY2VOYW1lKyIgPC0gIitwYXRoLmpvaW4oIiA8LSAiKSk7cmV0dXJuIGNhY2hlW3NlcnZpY2VOYW1lXX10cnl7cmV0dXJuIHBhdGgudW5zaGlmdChzZXJ2aWNlTmFtZSksY2FjaGVbc2VydmljZU5hbWVdPUlOU1RBTlRJQVRJTkcsY2FjaGVbc2VydmljZU5hbWVdPWZhY3Rvcnkoc2VydmljZU5hbWUpfWNhdGNoKGVycil7dGhyb3cgY2FjaGVbc2VydmljZU5hbWVdPT09SU5TVEFOVElBVElORyYmZGVsZXRlIGNhY2hlW3NlcnZpY2VOYW1lXSxlcnJ9ZmluYWxseXtwYXRoLnNoaWZ0KCl9fWZ1bmN0aW9uIGludm9rZShmbixzZWxmLGxvY2Fscyl7dmFyIGxlbmd0aCxpLGtleSxhcmdzPVtdLCRpbmplY3Q9YW5ub3RhdGUoZm4pO2ZvcihpPTAsbGVuZ3RoPSRpbmplY3QubGVuZ3RoO2xlbmd0aD5pO2krKyl7aWYoa2V5PSRpbmplY3RbaV0sInN0cmluZyIhPXR5cGVvZiBrZXkpdGhyb3cgJGluamVjdG9yTWluRXJyKCJpdGtuIiwiSW5jb3JyZWN0IGluamVjdGlvbiB0b2tlbiEgRXhwZWN0ZWQgc2VydmljZSBuYW1lIGFzIHN0cmluZywgZ290IHswfSIsa2V5KTthcmdzLnB1c2gobG9jYWxzJiZsb2NhbHMuaGFzT3duUHJvcGVydHkoa2V5KT9sb2NhbHNba2V5XTpnZXRTZXJ2aWNlKGtleSkpfXJldHVybiBpc0FycmF5KGZuKSYmKGZuPWZuW2xlbmd0aF0pLGZuLmFwcGx5KHNlbGYsYXJncyl9ZnVuY3Rpb24gaW5zdGFudGlhdGUoVHlwZSxsb2NhbHMpe3ZhciBpbnN0YW5jZSxyZXR1cm5lZFZhbHVlLENvbnN0cnVjdG9yPWZ1bmN0aW9uKCl7fTtyZXR1cm4gQ29uc3RydWN0b3IucHJvdG90eXBlPShpc0FycmF5KFR5cGUpP1R5cGVbVHlwZS5sZW5ndGgtMV06VHlwZSkucHJvdG90eXBlLGluc3RhbmNlPW5ldyBDb25zdHJ1Y3RvcixyZXR1cm5lZFZhbHVlPWludm9rZShUeXBlLGluc3RhbmNlLGxvY2FscyksaXNPYmplY3QocmV0dXJuZWRWYWx1ZSl8fGlzRnVuY3Rpb24ocmV0dXJuZWRWYWx1ZSk/cmV0dXJuZWRWYWx1ZTppbnN0YW5jZX1yZXR1cm57aW52b2tlOmludm9rZSxpbnN0YW50aWF0ZTppbnN0YW50aWF0ZSxnZXQ6Z2V0U2VydmljZSxhbm5vdGF0ZTphbm5vdGF0ZSxoYXM6ZnVuY3Rpb24obmFtZSl7cmV0dXJuIHByb3ZpZGVyQ2FjaGUuaGFzT3duUHJvcGVydHkobmFtZStwcm92aWRlclN1ZmZpeCl8fGNhY2hlLmhhc093blByb3BlcnR5KG5hbWUpfX19dmFyIElOU1RBTlRJQVRJTkc9e30scHJvdmlkZXJTdWZmaXg9IlByb3ZpZGVyIixwYXRoPVtdLGxvYWRlZE1vZHVsZXM9bmV3IEhhc2hNYXAoW10sITApLHByb3ZpZGVyQ2FjaGU9eyRwcm92aWRlOntwcm92aWRlcjpzdXBwb3J0T2JqZWN0KHByb3ZpZGVyKSxmYWN0b3J5OnN1cHBvcnRPYmplY3QoZmFjdG9yeSksc2VydmljZTpzdXBwb3J0T2JqZWN0KHNlcnZpY2UpLHZhbHVlOnN1cHBvcnRPYmplY3QodmFsdWUpLGNvbnN0YW50OnN1cHBvcnRPYmplY3QoY29uc3RhbnQpLGRlY29yYXRvcjpkZWNvcmF0b3J9fSxwcm92aWRlckluamVjdG9yPXByb3ZpZGVyQ2FjaGUuJGluamVjdG9yPWNyZWF0ZUludGVybmFsSW5qZWN0b3IocHJvdmlkZXJDYWNoZSxmdW5jdGlvbigpe3Rocm93ICRpbmplY3Rvck1pbkVycigidW5wciIsIlVua25vd24gcHJvdmlkZXI6IHswfSIscGF0aC5qb2luKCIgPC0gIikpfSksaW5zdGFuY2VDYWNoZT17fSxpbnN0YW5jZUluamVjdG9yPWluc3RhbmNlQ2FjaGUuJGluamVjdG9yPWNyZWF0ZUludGVybmFsSW5qZWN0b3IoaW5zdGFuY2VDYWNoZSxmdW5jdGlvbihzZXJ2aWNlbmFtZSl7dmFyIHByb3ZpZGVyPXByb3ZpZGVySW5qZWN0b3IuZ2V0KHNlcnZpY2VuYW1lK3Byb3ZpZGVyU3VmZml4KTtyZXR1cm4gaW5zdGFuY2VJbmplY3Rvci5pbnZva2UocHJvdmlkZXIuJGdldCxwcm92aWRlcil9KTtyZXR1cm4gZm9yRWFjaChsb2FkTW9kdWxlcyhtb2R1bGVzVG9Mb2FkKSxmdW5jdGlvbihmbil7aW5zdGFuY2VJbmplY3Rvci5pbnZva2UoZm58fG5vb3ApfSksaW5zdGFuY2VJbmplY3Rvcn1mdW5jdGlvbiAkQW5jaG9yU2Nyb2xsUHJvdmlkZXIoKXt2YXIgYXV0b1Njcm9sbGluZ0VuYWJsZWQ9ITA7dGhpcy5kaXNhYmxlQXV0b1Njcm9sbGluZz1mdW5jdGlvbigpe2F1dG9TY3JvbGxpbmdFbmFibGVkPSExfSx0aGlzLiRnZXQ9WyIkd2luZG93IiwiJGxvY2F0aW9uIiwiJHJvb3RTY29wZSIsZnVuY3Rpb24oJHdpbmRvdywkbG9jYXRpb24sJHJvb3RTY29wZSl7ZnVuY3Rpb24gZ2V0Rmlyc3RBbmNob3IobGlzdCl7dmFyIHJlc3VsdD1udWxsO3JldHVybiBmb3JFYWNoKGxpc3QsZnVuY3Rpb24oZWxlbWVudCl7cmVzdWx0fHwiYSIhPT1sb3dlcmNhc2UoZWxlbWVudC5ub2RlTmFtZSl8fChyZXN1bHQ9ZWxlbWVudCl9KSxyZXN1bHR9ZnVuY3Rpb24gc2Nyb2xsKCl7dmFyIGVsbSxoYXNoPSRsb2NhdGlvbi5oYXNoKCk7aGFzaD8oZWxtPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhhc2gpKT9lbG0uc2Nyb2xsSW50b1ZpZXcoKTooZWxtPWdldEZpcnN0QW5jaG9yKGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKGhhc2gpKSk/ZWxtLnNjcm9sbEludG9WaWV3KCk6InRvcCI9PT1oYXNoJiYkd2luZG93LnNjcm9sbFRvKDAsMCk6JHdpbmRvdy5zY3JvbGxUbygwLDApfXZhciBkb2N1bWVudD0kd2luZG93LmRvY3VtZW50O3JldHVybiBhdXRvU2Nyb2xsaW5nRW5hYmxlZCYmJHJvb3RTY29wZS4kd2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4gJGxvY2F0aW9uLmhhc2goKX0sZnVuY3Rpb24oKXskcm9vdFNjb3BlLiRldmFsQXN5bmMoc2Nyb2xsKX0pLHNjcm9sbH1dfWZ1bmN0aW9uICQkQXN5bmNDYWxsYmFja1Byb3ZpZGVyKCl7dGhpcy4kZ2V0PVsiJCRyQUYiLCIkdGltZW91dCIsZnVuY3Rpb24oJCRyQUYsJHRpbWVvdXQpe3JldHVybiAkJHJBRi5zdXBwb3J0ZWQ/ZnVuY3Rpb24oZm4pe3JldHVybiAkJHJBRihmbil9OmZ1bmN0aW9uKGZuKXtyZXR1cm4gJHRpbWVvdXQoZm4sMCwhMSl9fV19ZnVuY3Rpb24gQnJvd3Nlcih3aW5kb3csZG9jdW1lbnQsJGxvZywkc25pZmZlcil7ZnVuY3Rpb24gY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QoZm4pe3RyeXtmbi5hcHBseShudWxsLHNsaWNlQXJncyhhcmd1bWVudHMsMSkpfWZpbmFsbHl7aWYob3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQtLSwwPT09b3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQpZm9yKDtvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MubGVuZ3RoOyl0cnl7b3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzLnBvcCgpKCl9Y2F0Y2goZSl7JGxvZy5lcnJvcihlKX19fWZ1bmN0aW9uIHN0YXJ0UG9sbGVyKGludGVydmFsLHNldFRpbWVvdXQpeyFmdW5jdGlvbiBjaGVjaygpe2ZvckVhY2gocG9sbEZucyxmdW5jdGlvbihwb2xsRm4pe3BvbGxGbigpfSkscG9sbFRpbWVvdXQ9c2V0VGltZW91dChjaGVjayxpbnRlcnZhbCl9KCl9ZnVuY3Rpb24gZmlyZVVybENoYW5nZSgpe25ld0xvY2F0aW9uPW51bGwsbGFzdEJyb3dzZXJVcmwhPXNlbGYudXJsKCkmJihsYXN0QnJvd3NlclVybD1zZWxmLnVybCgpLGZvckVhY2godXJsQ2hhbmdlTGlzdGVuZXJzLGZ1bmN0aW9uKGxpc3RlbmVyKXtsaXN0ZW5lcihzZWxmLnVybCgpKX0pKX12YXIgc2VsZj10aGlzLHJhd0RvY3VtZW50PWRvY3VtZW50WzBdLGxvY2F0aW9uPXdpbmRvdy5sb2NhdGlvbixoaXN0b3J5PXdpbmRvdy5oaXN0b3J5LHNldFRpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQsY2xlYXJUaW1lb3V0PXdpbmRvdy5jbGVhclRpbWVvdXQscGVuZGluZ0RlZmVySWRzPXt9O3NlbGYuaXNNb2NrPSExO3ZhciBvdXRzdGFuZGluZ1JlcXVlc3RDb3VudD0wLG91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcz1bXTtzZWxmLiQkY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3Q9Y29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3Qsc2VsZi4kJGluY091dHN0YW5kaW5nUmVxdWVzdENvdW50PWZ1bmN0aW9uKCl7b3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQrK30sc2VsZi5ub3RpZnlXaGVuTm9PdXRzdGFuZGluZ1JlcXVlc3RzPWZ1bmN0aW9uKGNhbGxiYWNrKXtmb3JFYWNoKHBvbGxGbnMsZnVuY3Rpb24ocG9sbEZuKXtwb2xsRm4oKX0pLDA9PT1vdXRzdGFuZGluZ1JlcXVlc3RDb3VudD9jYWxsYmFjaygpOm91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKX07dmFyIHBvbGxUaW1lb3V0LHBvbGxGbnM9W107c2VsZi5hZGRQb2xsRm49ZnVuY3Rpb24oZm4pe3JldHVybiBpc1VuZGVmaW5lZChwb2xsVGltZW91dCkmJnN0YXJ0UG9sbGVyKDEwMCxzZXRUaW1lb3V0KSxwb2xsRm5zLnB1c2goZm4pLGZufTt2YXIgbGFzdEJyb3dzZXJVcmw9bG9jYXRpb24uaHJlZixiYXNlRWxlbWVudD1kb2N1bWVudC5maW5kKCJiYXNlIiksbmV3TG9jYXRpb249bnVsbDtzZWxmLnVybD1mdW5jdGlvbih1cmwscmVwbGFjZSl7aWYobG9jYXRpb24hPT13aW5kb3cubG9jYXRpb24mJihsb2NhdGlvbj13aW5kb3cubG9jYXRpb24pLGhpc3RvcnkhPT13aW5kb3cuaGlzdG9yeSYmKGhpc3Rvcnk9d2luZG93Lmhpc3RvcnkpLHVybCl7aWYobGFzdEJyb3dzZXJVcmw9PXVybClyZXR1cm47cmV0dXJuIGxhc3RCcm93c2VyVXJsPXVybCwkc25pZmZlci5oaXN0b3J5P3JlcGxhY2U/aGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwiIix1cmwpOihoaXN0b3J5LnB1c2hTdGF0ZShudWxsLCIiLHVybCksYmFzZUVsZW1lbnQuYXR0cigiaHJlZiIsYmFzZUVsZW1lbnQuYXR0cigiaHJlZiIpKSk6KG5ld0xvY2F0aW9uPXVybCxyZXBsYWNlP2xvY2F0aW9uLnJlcGxhY2UodXJsKTpsb2NhdGlvbi5ocmVmPXVybCksc2VsZn1yZXR1cm4gbmV3TG9jYXRpb258fGxvY2F0aW9uLmhyZWYucmVwbGFjZSgvJTI3L2csIiciKX07dmFyIHVybENoYW5nZUxpc3RlbmVycz1bXSx1cmxDaGFuZ2VJbml0PSExO3NlbGYub25VcmxDaGFuZ2U9ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB1cmxDaGFuZ2VJbml0fHwoJHNuaWZmZXIuaGlzdG9yeSYmanFMaXRlKHdpbmRvdykub24oInBvcHN0YXRlIixmaXJlVXJsQ2hhbmdlKSwkc25pZmZlci5oYXNoY2hhbmdlP2pxTGl0ZSh3aW5kb3cpLm9uKCJoYXNoY2hhbmdlIixmaXJlVXJsQ2hhbmdlKTpzZWxmLmFkZFBvbGxGbihmaXJlVXJsQ2hhbmdlKSx1cmxDaGFuZ2VJbml0PSEwKSx1cmxDaGFuZ2VMaXN0ZW5lcnMucHVzaChjYWxsYmFjayksY2FsbGJhY2t9LHNlbGYuJCRjaGVja1VybENoYW5nZT1maXJlVXJsQ2hhbmdlLHNlbGYuYmFzZUhyZWY9ZnVuY3Rpb24oKXt2YXIgaHJlZj1iYXNlRWxlbWVudC5hdHRyKCJocmVmIik7cmV0dXJuIGhyZWY/aHJlZi5yZXBsYWNlKC9eKGh0dHBzP1w6KT9cL1wvW15cL10qLywiIik6IiJ9O3ZhciBsYXN0Q29va2llcz17fSxsYXN0Q29va2llU3RyaW5nPSIiLGNvb2tpZVBhdGg9c2VsZi5iYXNlSHJlZigpO3NlbGYuY29va2llcz1mdW5jdGlvbihuYW1lLHZhbHVlKXt2YXIgY29va2llTGVuZ3RoLGNvb2tpZUFycmF5LGNvb2tpZSxpLGluZGV4O2lmKCFuYW1lKXtpZihyYXdEb2N1bWVudC5jb29raWUhPT1sYXN0Q29va2llU3RyaW5nKWZvcihsYXN0Q29va2llU3RyaW5nPXJhd0RvY3VtZW50LmNvb2tpZSxjb29raWVBcnJheT1sYXN0Q29va2llU3RyaW5nLnNwbGl0KCI7ICIpLGxhc3RDb29raWVzPXt9LGk9MDtpPGNvb2tpZUFycmF5Lmxlbmd0aDtpKyspY29va2llPWNvb2tpZUFycmF5W2ldLGluZGV4PWNvb2tpZS5pbmRleE9mKCI9IiksaW5kZXg+MCYmKG5hbWU9dW5lc2NhcGUoY29va2llLnN1YnN0cmluZygwLGluZGV4KSksbGFzdENvb2tpZXNbbmFtZV09PT11bmRlZmluZWQmJihsYXN0Q29va2llc1tuYW1lXT11bmVzY2FwZShjb29raWUuc3Vic3RyaW5nKGluZGV4KzEpKSkpO3JldHVybiBsYXN0Q29va2llc312YWx1ZT09PXVuZGVmaW5lZD9yYXdEb2N1bWVudC5jb29raWU9ZXNjYXBlKG5hbWUpKyI9O3BhdGg9Iitjb29raWVQYXRoKyI7ZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIEdNVCI6aXNTdHJpbmcodmFsdWUpJiYoY29va2llTGVuZ3RoPShyYXdEb2N1bWVudC5jb29raWU9ZXNjYXBlKG5hbWUpKyI9Iitlc2NhcGUodmFsdWUpKyI7cGF0aD0iK2Nvb2tpZVBhdGgpLmxlbmd0aCsxLGNvb2tpZUxlbmd0aD40MDk2JiYkbG9nLndhcm4oIkNvb2tpZSAnIituYW1lKyInIHBvc3NpYmx5IG5vdCBzZXQgb3Igb3ZlcmZsb3dlZCBiZWNhdXNlIGl0IHdhcyB0b28gbGFyZ2UgKCIrY29va2llTGVuZ3RoKyIgPiA0MDk2IGJ5dGVzKSEiKSl9LHNlbGYuZGVmZXI9ZnVuY3Rpb24oZm4sZGVsYXkpe3ZhciB0aW1lb3V0SWQ7cmV0dXJuIG91dHN0YW5kaW5nUmVxdWVzdENvdW50KyssdGltZW91dElkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtkZWxldGUgcGVuZGluZ0RlZmVySWRzW3RpbWVvdXRJZF0sY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QoZm4pfSxkZWxheXx8MCkscGVuZGluZ0RlZmVySWRzW3RpbWVvdXRJZF09ITAsdGltZW91dElkfSxzZWxmLmRlZmVyLmNhbmNlbD1mdW5jdGlvbihkZWZlcklkKXtyZXR1cm4gcGVuZGluZ0RlZmVySWRzW2RlZmVySWRdPyhkZWxldGUgcGVuZGluZ0RlZmVySWRzW2RlZmVySWRdLGNsZWFyVGltZW91dChkZWZlcklkKSxjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdChub29wKSwhMCk6ITF9fWZ1bmN0aW9uICRCcm93c2VyUHJvdmlkZXIoKXt0aGlzLiRnZXQ9WyIkd2luZG93IiwiJGxvZyIsIiRzbmlmZmVyIiwiJGRvY3VtZW50IixmdW5jdGlvbigkd2luZG93LCRsb2csJHNuaWZmZXIsJGRvY3VtZW50KXtyZXR1cm4gbmV3IEJyb3dzZXIoJHdpbmRvdywkZG9jdW1lbnQsJGxvZywkc25pZmZlcil9XX1mdW5jdGlvbiAkQ2FjaGVGYWN0b3J5UHJvdmlkZXIoKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBjYWNoZUZhY3RvcnkoY2FjaGVJZCxvcHRpb25zKXtmdW5jdGlvbiByZWZyZXNoKGVudHJ5KXtlbnRyeSE9ZnJlc2hFbmQmJihzdGFsZUVuZD9zdGFsZUVuZD09ZW50cnkmJihzdGFsZUVuZD1lbnRyeS5uKTpzdGFsZUVuZD1lbnRyeSxsaW5rKGVudHJ5Lm4sZW50cnkucCksbGluayhlbnRyeSxmcmVzaEVuZCksZnJlc2hFbmQ9ZW50cnksZnJlc2hFbmQubj1udWxsKX1mdW5jdGlvbiBsaW5rKG5leHRFbnRyeSxwcmV2RW50cnkpe25leHRFbnRyeSE9cHJldkVudHJ5JiYobmV4dEVudHJ5JiYobmV4dEVudHJ5LnA9cHJldkVudHJ5KSxwcmV2RW50cnkmJihwcmV2RW50cnkubj1uZXh0RW50cnkpKX1pZihjYWNoZUlkIGluIGNhY2hlcyl0aHJvdyBtaW5FcnIoIiRjYWNoZUZhY3RvcnkiKSgiaWlkIiwiQ2FjaGVJZCAnezB9JyBpcyBhbHJlYWR5IHRha2VuISIsY2FjaGVJZCk7dmFyIHNpemU9MCxzdGF0cz1leHRlbmQoe30sb3B0aW9ucyx7aWQ6Y2FjaGVJZH0pLGRhdGE9e30sY2FwYWNpdHk9b3B0aW9ucyYmb3B0aW9ucy5jYXBhY2l0eXx8TnVtYmVyLk1BWF9WQUxVRSxscnVIYXNoPXt9LGZyZXNoRW5kPW51bGwsc3RhbGVFbmQ9bnVsbDtyZXR1cm4gY2FjaGVzW2NhY2hlSWRdPXtwdXQ6ZnVuY3Rpb24oa2V5LHZhbHVlKXtpZihjYXBhY2l0eTxOdW1iZXIuTUFYX1ZBTFVFKXt2YXIgbHJ1RW50cnk9bHJ1SGFzaFtrZXldfHwobHJ1SGFzaFtrZXldPXtrZXk6a2V5fSk7cmVmcmVzaChscnVFbnRyeSl9aWYoIWlzVW5kZWZpbmVkKHZhbHVlKSlyZXR1cm4ga2V5IGluIGRhdGF8fHNpemUrKyxkYXRhW2tleV09dmFsdWUsc2l6ZT5jYXBhY2l0eSYmdGhpcy5yZW1vdmUoc3RhbGVFbmQua2V5KSx2YWx1ZX0sZ2V0OmZ1bmN0aW9uKGtleSl7aWYoY2FwYWNpdHk8TnVtYmVyLk1BWF9WQUxVRSl7dmFyIGxydUVudHJ5PWxydUhhc2hba2V5XTtpZighbHJ1RW50cnkpcmV0dXJuO3JlZnJlc2gobHJ1RW50cnkpfXJldHVybiBkYXRhW2tleV19LHJlbW92ZTpmdW5jdGlvbihrZXkpe2lmKGNhcGFjaXR5PE51bWJlci5NQVhfVkFMVUUpe3ZhciBscnVFbnRyeT1scnVIYXNoW2tleV07aWYoIWxydUVudHJ5KXJldHVybjtscnVFbnRyeT09ZnJlc2hFbmQmJihmcmVzaEVuZD1scnVFbnRyeS5wKSxscnVFbnRyeT09c3RhbGVFbmQmJihzdGFsZUVuZD1scnVFbnRyeS5uKSxsaW5rKGxydUVudHJ5Lm4sbHJ1RW50cnkucCksZGVsZXRlIGxydUhhc2hba2V5XX1kZWxldGUgZGF0YVtrZXldLHNpemUtLX0scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7ZGF0YT17fSxzaXplPTAsbHJ1SGFzaD17fSxmcmVzaEVuZD1zdGFsZUVuZD1udWxsfSxkZXN0cm95OmZ1bmN0aW9uKCl7ZGF0YT1udWxsLHN0YXRzPW51bGwsbHJ1SGFzaD1udWxsLGRlbGV0ZSBjYWNoZXNbY2FjaGVJZF19LGluZm86ZnVuY3Rpb24oKXtyZXR1cm4gZXh0ZW5kKHt9LHN0YXRzLHtzaXplOnNpemV9KX19fXZhciBjYWNoZXM9e307cmV0dXJuIGNhY2hlRmFjdG9yeS5pbmZvPWZ1bmN0aW9uKCl7dmFyIGluZm89e307cmV0dXJuIGZvckVhY2goY2FjaGVzLGZ1bmN0aW9uKGNhY2hlLGNhY2hlSWQpe2luZm9bY2FjaGVJZF09Y2FjaGUuaW5mbygpfSksaW5mb30sY2FjaGVGYWN0b3J5LmdldD1mdW5jdGlvbihjYWNoZUlkKXtyZXR1cm4gY2FjaGVzW2NhY2hlSWRdfSxjYWNoZUZhY3Rvcnl9fWZ1bmN0aW9uICRUZW1wbGF0ZUNhY2hlUHJvdmlkZXIoKXt0aGlzLiRnZXQ9WyIkY2FjaGVGYWN0b3J5IixmdW5jdGlvbigkY2FjaGVGYWN0b3J5KXtyZXR1cm4gJGNhY2hlRmFjdG9yeSgidGVtcGxhdGVzIil9XX1mdW5jdGlvbiAkQ29tcGlsZVByb3ZpZGVyKCRwcm92aWRlLCQkc2FuaXRpemVVcmlQcm92aWRlcil7dmFyIGhhc0RpcmVjdGl2ZXM9e30sU3VmZml4PSJEaXJlY3RpdmUiLENPTU1FTlRfRElSRUNUSVZFX1JFR0VYUD0vXlxzKmRpcmVjdGl2ZVw6XHMqKFtcZFx3X1wtXSspXHMrKC4qKSQvLENMQVNTX0RJUkVDVElWRV9SRUdFWFA9LygoW1xkXHdfXC1dKykoPzpcOihbXjtdKykpPzs/KS8sRVZFTlRfSEFORExFUl9BVFRSX1JFR0VYUD0vXihvblthLXpdK3xmb3JtYWN0aW9uKSQvO3RoaXMuZGlyZWN0aXZlPWZ1bmN0aW9uIHJlZ2lzdGVyRGlyZWN0aXZlKG5hbWUsZGlyZWN0aXZlRmFjdG9yeSl7cmV0dXJuIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsImRpcmVjdGl2ZSIpLGlzU3RyaW5nKG5hbWUpPyhhc3NlcnRBcmcoZGlyZWN0aXZlRmFjdG9yeSwiZGlyZWN0aXZlRmFjdG9yeSIpLGhhc0RpcmVjdGl2ZXMuaGFzT3duUHJvcGVydHkobmFtZSl8fChoYXNEaXJlY3RpdmVzW25hbWVdPVtdLCRwcm92aWRlLmZhY3RvcnkobmFtZStTdWZmaXgsWyIkaW5qZWN0b3IiLCIkZXhjZXB0aW9uSGFuZGxlciIsZnVuY3Rpb24oJGluamVjdG9yLCRleGNlcHRpb25IYW5kbGVyKXt2YXIgZGlyZWN0aXZlcz1bXTtyZXR1cm4gZm9yRWFjaChoYXNEaXJlY3RpdmVzW25hbWVdLGZ1bmN0aW9uKGRpcmVjdGl2ZUZhY3RvcnksaW5kZXgpe3RyeXt2YXIgZGlyZWN0aXZlPSRpbmplY3Rvci5pbnZva2UoZGlyZWN0aXZlRmFjdG9yeSk7aXNGdW5jdGlvbihkaXJlY3RpdmUpP2RpcmVjdGl2ZT17Y29tcGlsZTp2YWx1ZUZuKGRpcmVjdGl2ZSl9OiFkaXJlY3RpdmUuY29tcGlsZSYmZGlyZWN0aXZlLmxpbmsmJihkaXJlY3RpdmUuY29tcGlsZT12YWx1ZUZuKGRpcmVjdGl2ZS5saW5rKSksZGlyZWN0aXZlLnByaW9yaXR5PWRpcmVjdGl2ZS5wcmlvcml0eXx8MCxkaXJlY3RpdmUuaW5kZXg9aW5kZXgsZGlyZWN0aXZlLm5hbWU9ZGlyZWN0aXZlLm5hbWV8fG5hbWUsZGlyZWN0aXZlLnJlcXVpcmU9ZGlyZWN0aXZlLnJlcXVpcmV8fGRpcmVjdGl2ZS5jb250cm9sbGVyJiZkaXJlY3RpdmUubmFtZSxkaXJlY3RpdmUucmVzdHJpY3Q9ZGlyZWN0aXZlLnJlc3RyaWN0fHwiQSIsZGlyZWN0aXZlcy5wdXNoKGRpcmVjdGl2ZSl9Y2F0Y2goZSl7JGV4Y2VwdGlvbkhhbmRsZXIoZSl9fSksZGlyZWN0aXZlc31dKSksaGFzRGlyZWN0aXZlc1tuYW1lXS5wdXNoKGRpcmVjdGl2ZUZhY3RvcnkpKTpmb3JFYWNoKG5hbWUscmV2ZXJzZVBhcmFtcyhyZWdpc3RlckRpcmVjdGl2ZSkpLHRoaXN9LHRoaXMuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3Q9ZnVuY3Rpb24ocmVnZXhwKXtyZXR1cm4gaXNEZWZpbmVkKHJlZ2V4cCk/KCQkc2FuaXRpemVVcmlQcm92aWRlci5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdChyZWdleHApLHRoaXMpOiQkc2FuaXRpemVVcmlQcm92aWRlci5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCgpfSx0aGlzLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdD1mdW5jdGlvbihyZWdleHApe3JldHVybiBpc0RlZmluZWQocmVnZXhwKT8oJCRzYW5pdGl6ZVVyaVByb3ZpZGVyLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdChyZWdleHApLHRoaXMpOiQkc2FuaXRpemVVcmlQcm92aWRlci5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QoKX0sdGhpcy4kZ2V0PVsiJGluamVjdG9yIiwiJGludGVycG9sYXRlIiwiJGV4Y2VwdGlvbkhhbmRsZXIiLCIkaHR0cCIsIiR0ZW1wbGF0ZUNhY2hlIiwiJHBhcnNlIiwiJGNvbnRyb2xsZXIiLCIkcm9vdFNjb3BlIiwiJGRvY3VtZW50IiwiJHNjZSIsIiRhbmltYXRlIiwiJCRzYW5pdGl6ZVVyaSIsZnVuY3Rpb24oJGluamVjdG9yLCRpbnRlcnBvbGF0ZSwkZXhjZXB0aW9uSGFuZGxlciwkaHR0cCwkdGVtcGxhdGVDYWNoZSwkcGFyc2UsJGNvbnRyb2xsZXIsJHJvb3RTY29wZSwkZG9jdW1lbnQsJHNjZSwkYW5pbWF0ZSwkJHNhbml0aXplVXJpKXtmdW5jdGlvbiBjb21waWxlKCRjb21waWxlTm9kZXMsdHJhbnNjbHVkZUZuLG1heFByaW9yaXR5LGlnbm9yZURpcmVjdGl2ZSxwcmV2aW91c0NvbXBpbGVDb250ZXh0KXskY29tcGlsZU5vZGVzIGluc3RhbmNlb2YganFMaXRlfHwoJGNvbXBpbGVOb2Rlcz1qcUxpdGUoJGNvbXBpbGVOb2RlcykpLGZvckVhY2goJGNvbXBpbGVOb2RlcyxmdW5jdGlvbihub2RlLGluZGV4KXszPT1ub2RlLm5vZGVUeXBlJiZub2RlLm5vZGVWYWx1ZS5tYXRjaCgvXFMrLykmJigkY29tcGlsZU5vZGVzW2luZGV4XT1ub2RlPWpxTGl0ZShub2RlKS53cmFwKCI8c3Bhbj48L3NwYW4+IikucGFyZW50KClbMF0pfSk7dmFyIGNvbXBvc2l0ZUxpbmtGbj1jb21waWxlTm9kZXMoJGNvbXBpbGVOb2Rlcyx0cmFuc2NsdWRlRm4sJGNvbXBpbGVOb2RlcyxtYXhQcmlvcml0eSxpZ25vcmVEaXJlY3RpdmUscHJldmlvdXNDb21waWxlQ29udGV4dCk7cmV0dXJuIHNhZmVBZGRDbGFzcygkY29tcGlsZU5vZGVzLCJuZy1zY29wZSIpLGZ1bmN0aW9uKHNjb3BlLGNsb25lQ29ubmVjdEZuLHRyYW5zY2x1ZGVDb250cm9sbGVycyxwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbil7YXNzZXJ0QXJnKHNjb3BlLCJzY29wZSIpO3ZhciAkbGlua05vZGU9Y2xvbmVDb25uZWN0Rm4/SlFMaXRlUHJvdG90eXBlLmNsb25lLmNhbGwoJGNvbXBpbGVOb2Rlcyk6JGNvbXBpbGVOb2Rlcztmb3JFYWNoKHRyYW5zY2x1ZGVDb250cm9sbGVycyxmdW5jdGlvbihpbnN0YW5jZSxuYW1lKXskbGlua05vZGUuZGF0YSgiJCIrbmFtZSsiQ29udHJvbGxlciIsaW5zdGFuY2UpfSk7Zm9yKHZhciBpPTAsaWk9JGxpbmtOb2RlLmxlbmd0aDtpaT5pO2krKyl7dmFyIG5vZGU9JGxpbmtOb2RlW2ldLG5vZGVUeXBlPW5vZGUubm9kZVR5cGU7KDE9PT1ub2RlVHlwZXx8OT09PW5vZGVUeXBlKSYmJGxpbmtOb2RlLmVxKGkpLmRhdGEoIiRzY29wZSIsc2NvcGUpfXJldHVybiBjbG9uZUNvbm5lY3RGbiYmY2xvbmVDb25uZWN0Rm4oJGxpbmtOb2RlLHNjb3BlKSxjb21wb3NpdGVMaW5rRm4mJmNvbXBvc2l0ZUxpbmtGbihzY29wZSwkbGlua05vZGUsJGxpbmtOb2RlLHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuKSwkbGlua05vZGV9fWZ1bmN0aW9uIHNhZmVBZGRDbGFzcygkZWxlbWVudCxjbGFzc05hbWUpe3RyeXskZWxlbWVudC5hZGRDbGFzcyhjbGFzc05hbWUpfWNhdGNoKGUpe319ZnVuY3Rpb24gY29tcGlsZU5vZGVzKG5vZGVMaXN0LHRyYW5zY2x1ZGVGbiwkcm9vdEVsZW1lbnQsbWF4UHJpb3JpdHksaWdub3JlRGlyZWN0aXZlLHByZXZpb3VzQ29tcGlsZUNvbnRleHQpe2Z1bmN0aW9uIGNvbXBvc2l0ZUxpbmtGbihzY29wZSxub2RlTGlzdCwkcm9vdEVsZW1lbnQscGFyZW50Qm91bmRUcmFuc2NsdWRlRm4pe3ZhciBub2RlTGlua0ZuLGNoaWxkTGlua0ZuLG5vZGUsY2hpbGRTY29wZSxpLGlpLG4sY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbixub2RlTGlzdExlbmd0aD1ub2RlTGlzdC5sZW5ndGgsc3RhYmxlTm9kZUxpc3Q9bmV3IEFycmF5KG5vZGVMaXN0TGVuZ3RoKTtmb3IoaT0wO25vZGVMaXN0TGVuZ3RoPmk7aSsrKXN0YWJsZU5vZGVMaXN0W2ldPW5vZGVMaXN0W2ldO2ZvcihpPTAsbj0wLGlpPWxpbmtGbnMubGVuZ3RoO2lpPmk7bisrKW5vZGU9c3RhYmxlTm9kZUxpc3Rbbl0sbm9kZUxpbmtGbj1saW5rRm5zW2krK10sY2hpbGRMaW5rRm49bGlua0Zuc1tpKytdLG5vZGVMaW5rRm4/KG5vZGVMaW5rRm4uc2NvcGU/KGNoaWxkU2NvcGU9c2NvcGUuJG5ldygpLGpxTGl0ZS5kYXRhKG5vZGUsIiRzY29wZSIsY2hpbGRTY29wZSkpOmNoaWxkU2NvcGU9c2NvcGUsY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbj1ub2RlTGlua0ZuLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50P2NyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLG5vZGVMaW5rRm4udHJhbnNjbHVkZSxwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbik6IW5vZGVMaW5rRm4udGVtcGxhdGVPblRoaXNFbGVtZW50JiZwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbj9wYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbjohcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4mJnRyYW5zY2x1ZGVGbj9jcmVhdGVCb3VuZFRyYW5zY2x1ZGVGbihzY29wZSx0cmFuc2NsdWRlRm4pOm51bGwsbm9kZUxpbmtGbihjaGlsZExpbmtGbixjaGlsZFNjb3BlLG5vZGUsJHJvb3RFbGVtZW50LGNoaWxkQm91bmRUcmFuc2NsdWRlRm4pKTpjaGlsZExpbmtGbiYmY2hpbGRMaW5rRm4oc2NvcGUsbm9kZS5jaGlsZE5vZGVzLHVuZGVmaW5lZCxwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbil9Zm9yKHZhciBhdHRycyxkaXJlY3RpdmVzLG5vZGVMaW5rRm4sY2hpbGROb2RlcyxjaGlsZExpbmtGbixsaW5rRm5Gb3VuZCxsaW5rRm5zPVtdLGk9MDtpPG5vZGVMaXN0Lmxlbmd0aDtpKyspYXR0cnM9bmV3IEF0dHJpYnV0ZXMsZGlyZWN0aXZlcz1jb2xsZWN0RGlyZWN0aXZlcyhub2RlTGlzdFtpXSxbXSxhdHRycywwPT09aT9tYXhQcmlvcml0eTp1bmRlZmluZWQsaWdub3JlRGlyZWN0aXZlKSxub2RlTGlua0ZuPWRpcmVjdGl2ZXMubGVuZ3RoP2FwcGx5RGlyZWN0aXZlc1RvTm9kZShkaXJlY3RpdmVzLG5vZGVMaXN0W2ldLGF0dHJzLHRyYW5zY2x1ZGVGbiwkcm9vdEVsZW1lbnQsbnVsbCxbXSxbXSxwcmV2aW91c0NvbXBpbGVDb250ZXh0KTpudWxsLG5vZGVMaW5rRm4mJm5vZGVMaW5rRm4uc2NvcGUmJnNhZmVBZGRDbGFzcyhhdHRycy4kJGVsZW1lbnQsIm5nLXNjb3BlIiksY2hpbGRMaW5rRm49bm9kZUxpbmtGbiYmbm9kZUxpbmtGbi50ZXJtaW5hbHx8IShjaGlsZE5vZGVzPW5vZGVMaXN0W2ldLmNoaWxkTm9kZXMpfHwhY2hpbGROb2Rlcy5sZW5ndGg/bnVsbDpjb21waWxlTm9kZXMoY2hpbGROb2Rlcyxub2RlTGlua0ZuPyhub2RlTGlua0ZuLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50fHwhbm9kZUxpbmtGbi50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQpJiZub2RlTGlua0ZuLnRyYW5zY2x1ZGU6dHJhbnNjbHVkZUZuKSxsaW5rRm5zLnB1c2gobm9kZUxpbmtGbixjaGlsZExpbmtGbiksbGlua0ZuRm91bmQ9bGlua0ZuRm91bmR8fG5vZGVMaW5rRm58fGNoaWxkTGlua0ZuLHByZXZpb3VzQ29tcGlsZUNvbnRleHQ9bnVsbDtyZXR1cm4gbGlua0ZuRm91bmQ/Y29tcG9zaXRlTGlua0ZuOm51bGx9ZnVuY3Rpb24gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsdHJhbnNjbHVkZUZuLHByZXZpb3VzQm91bmRUcmFuc2NsdWRlRm4pe3ZhciBib3VuZFRyYW5zY2x1ZGVGbj1mdW5jdGlvbih0cmFuc2NsdWRlZFNjb3BlLGNsb25lRm4sY29udHJvbGxlcnMpe3ZhciBzY29wZUNyZWF0ZWQ9ITE7dHJhbnNjbHVkZWRTY29wZXx8KHRyYW5zY2x1ZGVkU2NvcGU9c2NvcGUuJG5ldygpLHRyYW5zY2x1ZGVkU2NvcGUuJCR0cmFuc2NsdWRlZD0hMCxzY29wZUNyZWF0ZWQ9ITApO3ZhciBjbG9uZT10cmFuc2NsdWRlRm4odHJhbnNjbHVkZWRTY29wZSxjbG9uZUZuLGNvbnRyb2xsZXJzLHByZXZpb3VzQm91bmRUcmFuc2NsdWRlRm4pO3JldHVybiBzY29wZUNyZWF0ZWQmJmNsb25lLm9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXt0cmFuc2NsdWRlZFNjb3BlLiRkZXN0cm95KCl9KSxjbG9uZX07cmV0dXJuIGJvdW5kVHJhbnNjbHVkZUZufWZ1bmN0aW9uIGNvbGxlY3REaXJlY3RpdmVzKG5vZGUsZGlyZWN0aXZlcyxhdHRycyxtYXhQcmlvcml0eSxpZ25vcmVEaXJlY3RpdmUpe3ZhciBtYXRjaCxjbGFzc05hbWUsbm9kZVR5cGU9bm9kZS5ub2RlVHlwZSxhdHRyc01hcD1hdHRycy4kYXR0cjtzd2l0Y2gobm9kZVR5cGUpe2Nhc2UgMTphZGREaXJlY3RpdmUoZGlyZWN0aXZlcyxkaXJlY3RpdmVOb3JtYWxpemUobm9kZU5hbWVfKG5vZGUpLnRvTG93ZXJDYXNlKCkpLCJFIixtYXhQcmlvcml0eSxpZ25vcmVEaXJlY3RpdmUpO2Zvcih2YXIgYXR0cixuYW1lLG5OYW1lLG5nQXR0ck5hbWUsdmFsdWUsaXNOZ0F0dHIsbkF0dHJzPW5vZGUuYXR0cmlidXRlcyxqPTAsamo9bkF0dHJzJiZuQXR0cnMubGVuZ3RoO2pqPmo7aisrKXt2YXIgYXR0clN0YXJ0TmFtZT0hMSxhdHRyRW5kTmFtZT0hMTtpZihhdHRyPW5BdHRyc1tqXSwhbXNpZXx8bXNpZT49OHx8YXR0ci5zcGVjaWZpZWQpe25hbWU9YXR0ci5uYW1lLHZhbHVlPXRyaW0oYXR0ci52YWx1ZSksbmdBdHRyTmFtZT1kaXJlY3RpdmVOb3JtYWxpemUobmFtZSksKGlzTmdBdHRyPU5HX0FUVFJfQklORElORy50ZXN0KG5nQXR0ck5hbWUpKSYmKG5hbWU9c25ha2VfY2FzZShuZ0F0dHJOYW1lLnN1YnN0cig2KSwiLSIpKTt2YXIgZGlyZWN0aXZlTk5hbWU9bmdBdHRyTmFtZS5yZXBsYWNlKC8oU3RhcnR8RW5kKSQvLCIiKTtuZ0F0dHJOYW1lPT09ZGlyZWN0aXZlTk5hbWUrIlN0YXJ0IiYmKGF0dHJTdGFydE5hbWU9bmFtZSxhdHRyRW5kTmFtZT1uYW1lLnN1YnN0cigwLG5hbWUubGVuZ3RoLTUpKyJlbmQiLG5hbWU9bmFtZS5zdWJzdHIoMCxuYW1lLmxlbmd0aC02KSksbk5hbWU9ZGlyZWN0aXZlTm9ybWFsaXplKG5hbWUudG9Mb3dlckNhc2UoKSksYXR0cnNNYXBbbk5hbWVdPW5hbWUsKGlzTmdBdHRyfHwhYXR0cnMuaGFzT3duUHJvcGVydHkobk5hbWUpKSYmKGF0dHJzW25OYW1lXT12YWx1ZSxnZXRCb29sZWFuQXR0ck5hbWUobm9kZSxuTmFtZSkmJihhdHRyc1tuTmFtZV09ITApKSxhZGRBdHRySW50ZXJwb2xhdGVEaXJlY3RpdmUobm9kZSxkaXJlY3RpdmVzLHZhbHVlLG5OYW1lKSxhZGREaXJlY3RpdmUoZGlyZWN0aXZlcyxuTmFtZSwiQSIsbWF4UHJpb3JpdHksaWdub3JlRGlyZWN0aXZlLGF0dHJTdGFydE5hbWUsYXR0ckVuZE5hbWUpfX1pZihjbGFzc05hbWU9bm9kZS5jbGFzc05hbWUsaXNTdHJpbmcoY2xhc3NOYW1lKSYmIiIhPT1jbGFzc05hbWUpZm9yKDttYXRjaD1DTEFTU19ESVJFQ1RJVkVfUkVHRVhQLmV4ZWMoY2xhc3NOYW1lKTspbk5hbWU9ZGlyZWN0aXZlTm9ybWFsaXplKG1hdGNoWzJdKSxhZGREaXJlY3RpdmUoZGlyZWN0aXZlcyxuTmFtZSwiQyIsbWF4UHJpb3JpdHksaWdub3JlRGlyZWN0aXZlKSYmKGF0dHJzW25OYW1lXT10cmltKG1hdGNoWzNdKSksY2xhc3NOYW1lPWNsYXNzTmFtZS5zdWJzdHIobWF0Y2guaW5kZXgrbWF0Y2hbMF0ubGVuZ3RoKTticmVhaztjYXNlIDM6YWRkVGV4dEludGVycG9sYXRlRGlyZWN0aXZlKGRpcmVjdGl2ZXMsbm9kZS5ub2RlVmFsdWUpO2JyZWFrO2Nhc2UgODp0cnl7bWF0Y2g9Q09NTUVOVF9ESVJFQ1RJVkVfUkVHRVhQLmV4ZWMobm9kZS5ub2RlVmFsdWUpLG1hdGNoJiYobk5hbWU9ZGlyZWN0aXZlTm9ybWFsaXplKG1hdGNoWzFdKSxhZGREaXJlY3RpdmUoZGlyZWN0aXZlcyxuTmFtZSwiTSIsbWF4UHJpb3JpdHksaWdub3JlRGlyZWN0aXZlKSYmKGF0dHJzW25OYW1lXT10cmltKG1hdGNoWzJdKSkpfWNhdGNoKGUpe319cmV0dXJuIGRpcmVjdGl2ZXMuc29ydChieVByaW9yaXR5KSxkaXJlY3RpdmVzfWZ1bmN0aW9uIGdyb3VwU2Nhbihub2RlLGF0dHJTdGFydCxhdHRyRW5kKXt2YXIgbm9kZXM9W10sZGVwdGg9MDtpZihhdHRyU3RhcnQmJm5vZGUuaGFzQXR0cmlidXRlJiZub2RlLmhhc0F0dHJpYnV0ZShhdHRyU3RhcnQpKXtkb3tpZighbm9kZSl0aHJvdyAkY29tcGlsZU1pbkVycigidXRlcmRpciIsIlVudGVybWluYXRlZCBhdHRyaWJ1dGUsIGZvdW5kICd7MH0nIGJ1dCBubyBtYXRjaGluZyAnezF9JyBmb3VuZC4iLGF0dHJTdGFydCxhdHRyRW5kKTsxPT1ub2RlLm5vZGVUeXBlJiYobm9kZS5oYXNBdHRyaWJ1dGUoYXR0clN0YXJ0KSYmZGVwdGgrKyxub2RlLmhhc0F0dHJpYnV0ZShhdHRyRW5kKSYmZGVwdGgtLSksbm9kZXMucHVzaChub2RlKSxub2RlPW5vZGUubmV4dFNpYmxpbmd9d2hpbGUoZGVwdGg+MCl9ZWxzZSBub2Rlcy5wdXNoKG5vZGUpO3JldHVybiBqcUxpdGUobm9kZXMpfWZ1bmN0aW9uIGdyb3VwRWxlbWVudHNMaW5rRm5XcmFwcGVyKGxpbmtGbixhdHRyU3RhcnQsYXR0ckVuZCl7cmV0dXJuIGZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsY29udHJvbGxlcnMsdHJhbnNjbHVkZUZuKXtyZXR1cm4gZWxlbWVudD1ncm91cFNjYW4oZWxlbWVudFswXSxhdHRyU3RhcnQsYXR0ckVuZCksbGlua0ZuKHNjb3BlLGVsZW1lbnQsYXR0cnMsY29udHJvbGxlcnMsdHJhbnNjbHVkZUZuKX19ZnVuY3Rpb24gYXBwbHlEaXJlY3RpdmVzVG9Ob2RlKGRpcmVjdGl2ZXMsY29tcGlsZU5vZGUsdGVtcGxhdGVBdHRycyx0cmFuc2NsdWRlRm4sanFDb2xsZWN0aW9uLG9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSxwcmVMaW5rRm5zLHBvc3RMaW5rRm5zLHByZXZpb3VzQ29tcGlsZUNvbnRleHQpe2Z1bmN0aW9uIGFkZExpbmtGbnMocHJlLHBvc3QsYXR0clN0YXJ0LGF0dHJFbmQpe3ByZSYmKGF0dHJTdGFydCYmKHByZT1ncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlcihwcmUsYXR0clN0YXJ0LGF0dHJFbmQpKSxwcmUucmVxdWlyZT1kaXJlY3RpdmUucmVxdWlyZSxwcmUuZGlyZWN0aXZlTmFtZT1kaXJlY3RpdmVOYW1lLChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmU9PT1kaXJlY3RpdmV8fGRpcmVjdGl2ZS4kJGlzb2xhdGVTY29wZSkmJihwcmU9Y2xvbmVBbmRBbm5vdGF0ZUZuKHByZSx7aXNvbGF0ZVNjb3BlOiEwfSkpLHByZUxpbmtGbnMucHVzaChwcmUpKSxwb3N0JiYoYXR0clN0YXJ0JiYocG9zdD1ncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlcihwb3N0LGF0dHJTdGFydCxhdHRyRW5kKSkscG9zdC5yZXF1aXJlPWRpcmVjdGl2ZS5yZXF1aXJlLHBvc3QuZGlyZWN0aXZlTmFtZT1kaXJlY3RpdmVOYW1lLChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmU9PT1kaXJlY3RpdmV8fGRpcmVjdGl2ZS4kJGlzb2xhdGVTY29wZSkmJihwb3N0PWNsb25lQW5kQW5ub3RhdGVGbihwb3N0LHtpc29sYXRlU2NvcGU6ITB9KSkscG9zdExpbmtGbnMucHVzaChwb3N0KSl9ZnVuY3Rpb24gZ2V0Q29udHJvbGxlcnMoZGlyZWN0aXZlTmFtZSxyZXF1aXJlLCRlbGVtZW50LGVsZW1lbnRDb250cm9sbGVycyl7dmFyIHZhbHVlLHJldHJpZXZhbE1ldGhvZD0iZGF0YSIsb3B0aW9uYWw9ITE7aWYoaXNTdHJpbmcocmVxdWlyZSkpe2Zvcig7Il4iPT0odmFsdWU9cmVxdWlyZS5jaGFyQXQoMCkpfHwiPyI9PXZhbHVlOylyZXF1aXJlPXJlcXVpcmUuc3Vic3RyKDEpLCJeIj09dmFsdWUmJihyZXRyaWV2YWxNZXRob2Q9ImluaGVyaXRlZERhdGEiKSxvcHRpb25hbD1vcHRpb25hbHx8Ij8iPT12YWx1ZTtpZih2YWx1ZT1udWxsLGVsZW1lbnRDb250cm9sbGVycyYmImRhdGEiPT09cmV0cmlldmFsTWV0aG9kJiYodmFsdWU9ZWxlbWVudENvbnRyb2xsZXJzW3JlcXVpcmVdKSx2YWx1ZT12YWx1ZXx8JGVsZW1lbnRbcmV0cmlldmFsTWV0aG9kXSgiJCIrcmVxdWlyZSsiQ29udHJvbGxlciIpLCF2YWx1ZSYmIW9wdGlvbmFsKXRocm93ICRjb21waWxlTWluRXJyKCJjdHJlcSIsIkNvbnRyb2xsZXIgJ3swfScsIHJlcXVpcmVkIGJ5IGRpcmVjdGl2ZSAnezF9JywgY2FuJ3QgYmUgZm91bmQhIixyZXF1aXJlLGRpcmVjdGl2ZU5hbWUpO3JldHVybiB2YWx1ZX1yZXR1cm4gaXNBcnJheShyZXF1aXJlKSYmKHZhbHVlPVtdLGZvckVhY2gocmVxdWlyZSxmdW5jdGlvbihyZXF1aXJlKXt2YWx1ZS5wdXNoKGdldENvbnRyb2xsZXJzKGRpcmVjdGl2ZU5hbWUscmVxdWlyZSwkZWxlbWVudCxlbGVtZW50Q29udHJvbGxlcnMpKX0pKSx2YWx1ZX1mdW5jdGlvbiBub2RlTGlua0ZuKGNoaWxkTGlua0ZuLHNjb3BlLGxpbmtOb2RlLCRyb290RWxlbWVudCxib3VuZFRyYW5zY2x1ZGVGbil7ZnVuY3Rpb24gY29udHJvbGxlcnNCb3VuZFRyYW5zY2x1ZGUoc2NvcGUsY2xvbmVBdHRhY2hGbil7dmFyIHRyYW5zY2x1ZGVDb250cm9sbGVycztyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyJiYoY2xvbmVBdHRhY2hGbj1zY29wZSxzY29wZT11bmRlZmluZWQpLGhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlJiYodHJhbnNjbHVkZUNvbnRyb2xsZXJzPWVsZW1lbnRDb250cm9sbGVycyksYm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsY2xvbmVBdHRhY2hGbix0cmFuc2NsdWRlQ29udHJvbGxlcnMpfXZhciBhdHRycywkZWxlbWVudCxpLGlpLGxpbmtGbixjb250cm9sbGVyLGlzb2xhdGVTY29wZSx0cmFuc2NsdWRlRm4sZWxlbWVudENvbnRyb2xsZXJzPXt9O2lmKGF0dHJzPWNvbXBpbGVOb2RlPT09bGlua05vZGU/dGVtcGxhdGVBdHRyczpzaGFsbG93Q29weSh0ZW1wbGF0ZUF0dHJzLG5ldyBBdHRyaWJ1dGVzKGpxTGl0ZShsaW5rTm9kZSksdGVtcGxhdGVBdHRycy4kYXR0cikpLCRlbGVtZW50PWF0dHJzLiQkZWxlbWVudCxuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUpe3ZhciBMT0NBTF9SRUdFWFA9L15ccyooW0A9Jl0pKFw/PylccyooXHcqKVxzKiQvO2lzb2xhdGVTY29wZT1zY29wZS4kbmV3KCEwKSwhdGVtcGxhdGVEaXJlY3RpdmV8fHRlbXBsYXRlRGlyZWN0aXZlIT09bmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlJiZ0ZW1wbGF0ZURpcmVjdGl2ZSE9PW5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS4kJG9yaWdpbmFsRGlyZWN0aXZlPyRlbGVtZW50LmRhdGEoIiRpc29sYXRlU2NvcGVOb1RlbXBsYXRlIixpc29sYXRlU2NvcGUpOiRlbGVtZW50LmRhdGEoIiRpc29sYXRlU2NvcGUiLGlzb2xhdGVTY29wZSksc2FmZUFkZENsYXNzKCRlbGVtZW50LCJuZy1pc29sYXRlLXNjb3BlIiksZm9yRWFjaChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUuc2NvcGUsZnVuY3Rpb24oZGVmaW5pdGlvbixzY29wZU5hbWUpe3ZhciBsYXN0VmFsdWUscGFyZW50R2V0LHBhcmVudFNldCxjb21wYXJlLG1hdGNoPWRlZmluaXRpb24ubWF0Y2goTE9DQUxfUkVHRVhQKXx8W10sYXR0ck5hbWU9bWF0Y2hbM118fHNjb3BlTmFtZSxvcHRpb25hbD0iPyI9PW1hdGNoWzJdLG1vZGU9bWF0Y2hbMV07c3dpdGNoKGlzb2xhdGVTY29wZS4kJGlzb2xhdGVCaW5kaW5nc1tzY29wZU5hbWVdPW1vZGUrYXR0ck5hbWUsbW9kZSl7Y2FzZSJAIjphdHRycy4kb2JzZXJ2ZShhdHRyTmFtZSxmdW5jdGlvbih2YWx1ZSl7aXNvbGF0ZVNjb3BlW3Njb3BlTmFtZV09dmFsdWV9KSxhdHRycy4kJG9ic2VydmVyc1thdHRyTmFtZV0uJCRzY29wZT1zY29wZSxhdHRyc1thdHRyTmFtZV0mJihpc29sYXRlU2NvcGVbc2NvcGVOYW1lXT0kaW50ZXJwb2xhdGUoYXR0cnNbYXR0ck5hbWVdKShzY29wZSkpO2JyZWFrO2Nhc2UiPSI6aWYob3B0aW9uYWwmJiFhdHRyc1thdHRyTmFtZV0pcmV0dXJuO3BhcmVudEdldD0kcGFyc2UoYXR0cnNbYXR0ck5hbWVdKSxjb21wYXJlPXBhcmVudEdldC5saXRlcmFsP2VxdWFsczpmdW5jdGlvbihhLGIpe3JldHVybiBhPT09Ynx8YSE9PWEmJmIhPT1ifSxwYXJlbnRTZXQ9cGFyZW50R2V0LmFzc2lnbnx8ZnVuY3Rpb24oKXt0aHJvdyBsYXN0VmFsdWU9aXNvbGF0ZVNjb3BlW3Njb3BlTmFtZV09cGFyZW50R2V0KHNjb3BlKSwkY29tcGlsZU1pbkVycigibm9uYXNzaWduIiwiRXhwcmVzc2lvbiAnezB9JyB1c2VkIHdpdGggZGlyZWN0aXZlICd7MX0nIGlzIG5vbi1hc3NpZ25hYmxlISIsYXR0cnNbYXR0ck5hbWVdLG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS5uYW1lKX0sbGFzdFZhbHVlPWlzb2xhdGVTY29wZVtzY29wZU5hbWVdPXBhcmVudEdldChzY29wZSksaXNvbGF0ZVNjb3BlLiR3YXRjaChmdW5jdGlvbigpe3ZhciBwYXJlbnRWYWx1ZT1wYXJlbnRHZXQoc2NvcGUpO3JldHVybiBjb21wYXJlKHBhcmVudFZhbHVlLGlzb2xhdGVTY29wZVtzY29wZU5hbWVdKXx8KGNvbXBhcmUocGFyZW50VmFsdWUsbGFzdFZhbHVlKT9wYXJlbnRTZXQoc2NvcGUscGFyZW50VmFsdWU9aXNvbGF0ZVNjb3BlW3Njb3BlTmFtZV0pOmlzb2xhdGVTY29wZVtzY29wZU5hbWVdPXBhcmVudFZhbHVlKSxsYXN0VmFsdWU9cGFyZW50VmFsdWV9LG51bGwscGFyZW50R2V0LmxpdGVyYWwpO2JyZWFrO2Nhc2UiJiI6cGFyZW50R2V0PSRwYXJzZShhdHRyc1thdHRyTmFtZV0pLGlzb2xhdGVTY29wZVtzY29wZU5hbWVdPWZ1bmN0aW9uKGxvY2Fscyl7cmV0dXJuIHBhcmVudEdldChzY29wZSxsb2NhbHMpfTticmVhaztkZWZhdWx0OnRocm93ICRjb21waWxlTWluRXJyKCJpc2NwIiwiSW52YWxpZCBpc29sYXRlIHNjb3BlIGRlZmluaXRpb24gZm9yIGRpcmVjdGl2ZSAnezB9Jy4gRGVmaW5pdGlvbjogey4uLiB7MX06ICd7Mn0nIC4uLn0iLG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS5uYW1lLHNjb3BlTmFtZSxkZWZpbml0aW9uKX19KX1mb3IodHJhbnNjbHVkZUZuPWJvdW5kVHJhbnNjbHVkZUZuJiZjb250cm9sbGVyc0JvdW5kVHJhbnNjbHVkZSxjb250cm9sbGVyRGlyZWN0aXZlcyYmZm9yRWFjaChjb250cm9sbGVyRGlyZWN0aXZlcyxmdW5jdGlvbihkaXJlY3RpdmUpe3ZhciBjb250cm9sbGVySW5zdGFuY2UsbG9jYWxzPXskc2NvcGU6ZGlyZWN0aXZlPT09bmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlfHxkaXJlY3RpdmUuJCRpc29sYXRlU2NvcGU/aXNvbGF0ZVNjb3BlOnNjb3BlLCRlbGVtZW50OiRlbGVtZW50LCRhdHRyczphdHRycywkdHJhbnNjbHVkZTp0cmFuc2NsdWRlRm59O2NvbnRyb2xsZXI9ZGlyZWN0aXZlLmNvbnRyb2xsZXIsIkAiPT1jb250cm9sbGVyJiYoY29udHJvbGxlcj1hdHRyc1tkaXJlY3RpdmUubmFtZV0pLGNvbnRyb2xsZXJJbnN0YW5jZT0kY29udHJvbGxlcihjb250cm9sbGVyLGxvY2FscyksZWxlbWVudENvbnRyb2xsZXJzW2RpcmVjdGl2ZS5uYW1lXT1jb250cm9sbGVySW5zdGFuY2UsaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmV8fCRlbGVtZW50LmRhdGEoIiQiK2RpcmVjdGl2ZS5uYW1lKyJDb250cm9sbGVyIixjb250cm9sbGVySW5zdGFuY2UpLGRpcmVjdGl2ZS5jb250cm9sbGVyQXMmJihsb2NhbHMuJHNjb3BlW2RpcmVjdGl2ZS5jb250cm9sbGVyQXNdPWNvbnRyb2xsZXJJbnN0YW5jZSl9KSxpPTAsaWk9cHJlTGlua0Zucy5sZW5ndGg7aWk+aTtpKyspdHJ5e2xpbmtGbj1wcmVMaW5rRm5zW2ldLGxpbmtGbihsaW5rRm4uaXNvbGF0ZVNjb3BlP2lzb2xhdGVTY29wZTpzY29wZSwkZWxlbWVudCxhdHRycyxsaW5rRm4ucmVxdWlyZSYmZ2V0Q29udHJvbGxlcnMobGlua0ZuLmRpcmVjdGl2ZU5hbWUsbGlua0ZuLnJlcXVpcmUsJGVsZW1lbnQsZWxlbWVudENvbnRyb2xsZXJzKSx0cmFuc2NsdWRlRm4pfWNhdGNoKGUpeyRleGNlcHRpb25IYW5kbGVyKGUsc3RhcnRpbmdUYWcoJGVsZW1lbnQpKX12YXIgc2NvcGVUb0NoaWxkPXNjb3BlO2ZvcihuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUmJihuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUudGVtcGxhdGV8fG51bGw9PT1uZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUudGVtcGxhdGVVcmwpJiYoc2NvcGVUb0NoaWxkPWlzb2xhdGVTY29wZSksY2hpbGRMaW5rRm4mJmNoaWxkTGlua0ZuKHNjb3BlVG9DaGlsZCxsaW5rTm9kZS5jaGlsZE5vZGVzLHVuZGVmaW5lZCxib3VuZFRyYW5zY2x1ZGVGbiksaT1wb3N0TGlua0Zucy5sZW5ndGgtMTtpPj0wO2ktLSl0cnl7bGlua0ZuPXBvc3RMaW5rRm5zW2ldLGxpbmtGbihsaW5rRm4uaXNvbGF0ZVNjb3BlP2lzb2xhdGVTY29wZTpzY29wZSwkZWxlbWVudCxhdHRycyxsaW5rRm4ucmVxdWlyZSYmZ2V0Q29udHJvbGxlcnMobGlua0ZuLmRpcmVjdGl2ZU5hbWUsbGlua0ZuLnJlcXVpcmUsJGVsZW1lbnQsZWxlbWVudENvbnRyb2xsZXJzKSx0cmFuc2NsdWRlRm4pfWNhdGNoKGUpeyRleGNlcHRpb25IYW5kbGVyKGUsc3RhcnRpbmdUYWcoJGVsZW1lbnQpKX19cHJldmlvdXNDb21waWxlQ29udGV4dD1wcmV2aW91c0NvbXBpbGVDb250ZXh0fHx7fTtmb3IodmFyIG5ld1Njb3BlRGlyZWN0aXZlLGRpcmVjdGl2ZSxkaXJlY3RpdmVOYW1lLCR0ZW1wbGF0ZSxsaW5rRm4sZGlyZWN0aXZlVmFsdWUsdGVybWluYWxQcmlvcml0eT0tTnVtYmVyLk1BWF9WQUxVRSxjb250cm9sbGVyRGlyZWN0aXZlcz1wcmV2aW91c0NvbXBpbGVDb250ZXh0LmNvbnRyb2xsZXJEaXJlY3RpdmVzLG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZT1wcmV2aW91c0NvbXBpbGVDb250ZXh0Lm5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSx0ZW1wbGF0ZURpcmVjdGl2ZT1wcmV2aW91c0NvbXBpbGVDb250ZXh0LnRlbXBsYXRlRGlyZWN0aXZlLG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmU9cHJldmlvdXNDb21waWxlQ29udGV4dC5ub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlLGhhc1RyYW5zY2x1ZGVEaXJlY3RpdmU9ITEsaGFzVGVtcGxhdGU9ITEsaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmU9cHJldmlvdXNDb21waWxlQ29udGV4dC5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSwkY29tcGlsZU5vZGU9dGVtcGxhdGVBdHRycy4kJGVsZW1lbnQ9anFMaXRlKGNvbXBpbGVOb2RlKSxyZXBsYWNlRGlyZWN0aXZlPW9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSxjaGlsZFRyYW5zY2x1ZGVGbj10cmFuc2NsdWRlRm4saT0wLGlpPWRpcmVjdGl2ZXMubGVuZ3RoO2lpPmk7aSsrKXtkaXJlY3RpdmU9ZGlyZWN0aXZlc1tpXTt2YXIgYXR0clN0YXJ0PWRpcmVjdGl2ZS4kJHN0YXJ0LGF0dHJFbmQ9ZGlyZWN0aXZlLiQkZW5kO2lmKGF0dHJTdGFydCYmKCRjb21waWxlTm9kZT1ncm91cFNjYW4oY29tcGlsZU5vZGUsYXR0clN0YXJ0LGF0dHJFbmQpKSwkdGVtcGxhdGU9dW5kZWZpbmVkLHRlcm1pbmFsUHJpb3JpdHk+ZGlyZWN0aXZlLnByaW9yaXR5KWJyZWFrO2lmKChkaXJlY3RpdmVWYWx1ZT1kaXJlY3RpdmUuc2NvcGUpJiYobmV3U2NvcGVEaXJlY3RpdmU9bmV3U2NvcGVEaXJlY3RpdmV8fGRpcmVjdGl2ZSxkaXJlY3RpdmUudGVtcGxhdGVVcmx8fChhc3NlcnROb0R1cGxpY2F0ZSgibmV3L2lzb2xhdGVkIHNjb3BlIixuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUsZGlyZWN0aXZlLCRjb21waWxlTm9kZSksaXNPYmplY3QoZGlyZWN0aXZlVmFsdWUpJiYobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlPWRpcmVjdGl2ZSkpKSxkaXJlY3RpdmVOYW1lPWRpcmVjdGl2ZS5uYW1lLCFkaXJlY3RpdmUudGVtcGxhdGVVcmwmJmRpcmVjdGl2ZS5jb250cm9sbGVyJiYoZGlyZWN0aXZlVmFsdWU9ZGlyZWN0aXZlLmNvbnRyb2xsZXIsY29udHJvbGxlckRpcmVjdGl2ZXM9Y29udHJvbGxlckRpcmVjdGl2ZXN8fHt9LGFzc2VydE5vRHVwbGljYXRlKCInIitkaXJlY3RpdmVOYW1lKyInIGNvbnRyb2xsZXIiLGNvbnRyb2xsZXJEaXJlY3RpdmVzW2RpcmVjdGl2ZU5hbWVdLGRpcmVjdGl2ZSwkY29tcGlsZU5vZGUpLGNvbnRyb2xsZXJEaXJlY3RpdmVzW2RpcmVjdGl2ZU5hbWVdPWRpcmVjdGl2ZSksKGRpcmVjdGl2ZVZhbHVlPWRpcmVjdGl2ZS50cmFuc2NsdWRlKSYmKGhhc1RyYW5zY2x1ZGVEaXJlY3RpdmU9ITAsZGlyZWN0aXZlLiQkdGxifHwoYXNzZXJ0Tm9EdXBsaWNhdGUoInRyYW5zY2x1c2lvbiIsbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSxkaXJlY3RpdmUsJGNvbXBpbGVOb2RlKSxub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlPWRpcmVjdGl2ZSksImVsZW1lbnQiPT1kaXJlY3RpdmVWYWx1ZT8oaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmU9ITAsdGVybWluYWxQcmlvcml0eT1kaXJlY3RpdmUucHJpb3JpdHksJHRlbXBsYXRlPSRjb21waWxlTm9kZSwkY29tcGlsZU5vZGU9dGVtcGxhdGVBdHRycy4kJGVsZW1lbnQ9anFMaXRlKGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoIiAiK2RpcmVjdGl2ZU5hbWUrIjogIit0ZW1wbGF0ZUF0dHJzW2RpcmVjdGl2ZU5hbWVdKyIgIikpLGNvbXBpbGVOb2RlPSRjb21waWxlTm9kZVswXSxyZXBsYWNlV2l0aChqcUNvbGxlY3Rpb24sc2xpY2VBcmdzKCR0ZW1wbGF0ZSksY29tcGlsZU5vZGUpLGNoaWxkVHJhbnNjbHVkZUZuPWNvbXBpbGUoJHRlbXBsYXRlLHRyYW5zY2x1ZGVGbix0ZXJtaW5hbFByaW9yaXR5LHJlcGxhY2VEaXJlY3RpdmUmJnJlcGxhY2VEaXJlY3RpdmUubmFtZSx7bm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZTpub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlfSkpOigkdGVtcGxhdGU9anFMaXRlKGpxTGl0ZUNsb25lKGNvbXBpbGVOb2RlKSkuY29udGVudHMoKSwkY29tcGlsZU5vZGUuZW1wdHkoKSxjaGlsZFRyYW5zY2x1ZGVGbj1jb21waWxlKCR0ZW1wbGF0ZSx0cmFuc2NsdWRlRm4pKSksZGlyZWN0aXZlLnRlbXBsYXRlKWlmKGhhc1RlbXBsYXRlPSEwLGFzc2VydE5vRHVwbGljYXRlKCJ0ZW1wbGF0ZSIsdGVtcGxhdGVEaXJlY3RpdmUsZGlyZWN0aXZlLCRjb21waWxlTm9kZSksdGVtcGxhdGVEaXJlY3RpdmU9ZGlyZWN0aXZlLGRpcmVjdGl2ZVZhbHVlPWlzRnVuY3Rpb24oZGlyZWN0aXZlLnRlbXBsYXRlKT9kaXJlY3RpdmUudGVtcGxhdGUoJGNvbXBpbGVOb2RlLHRlbXBsYXRlQXR0cnMpOmRpcmVjdGl2ZS50ZW1wbGF0ZSxkaXJlY3RpdmVWYWx1ZT1kZW5vcm1hbGl6ZVRlbXBsYXRlKGRpcmVjdGl2ZVZhbHVlKSxkaXJlY3RpdmUucmVwbGFjZSl7aWYocmVwbGFjZURpcmVjdGl2ZT1kaXJlY3RpdmUsJHRlbXBsYXRlPWpxTGl0ZUlzVGV4dE5vZGUoZGlyZWN0aXZlVmFsdWUpP1tdOmpxTGl0ZSh0cmltKGRpcmVjdGl2ZVZhbHVlKSksY29tcGlsZU5vZGU9JHRlbXBsYXRlWzBdLDEhPSR0ZW1wbGF0ZS5sZW5ndGh8fDEhPT1jb21waWxlTm9kZS5ub2RlVHlwZSl0aHJvdyAkY29tcGlsZU1pbkVycigidHBscnQiLCJUZW1wbGF0ZSBmb3IgZGlyZWN0aXZlICd7MH0nIG11c3QgaGF2ZSBleGFjdGx5IG9uZSByb290IGVsZW1lbnQuIHsxfSIsZGlyZWN0aXZlTmFtZSwiIik7cmVwbGFjZVdpdGgoanFDb2xsZWN0aW9uLCRjb21waWxlTm9kZSxjb21waWxlTm9kZSk7dmFyIG5ld1RlbXBsYXRlQXR0cnM9eyRhdHRyOnt9fSx0ZW1wbGF0ZURpcmVjdGl2ZXM9Y29sbGVjdERpcmVjdGl2ZXMoY29tcGlsZU5vZGUsW10sbmV3VGVtcGxhdGVBdHRycyksdW5wcm9jZXNzZWREaXJlY3RpdmVzPWRpcmVjdGl2ZXMuc3BsaWNlKGkrMSxkaXJlY3RpdmVzLmxlbmd0aC0oaSsxKSk7bmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlJiZtYXJrRGlyZWN0aXZlc0FzSXNvbGF0ZSh0ZW1wbGF0ZURpcmVjdGl2ZXMpLGRpcmVjdGl2ZXM9ZGlyZWN0aXZlcy5jb25jYXQodGVtcGxhdGVEaXJlY3RpdmVzKS5jb25jYXQodW5wcm9jZXNzZWREaXJlY3RpdmVzKSxtZXJnZVRlbXBsYXRlQXR0cmlidXRlcyh0ZW1wbGF0ZUF0dHJzLG5ld1RlbXBsYXRlQXR0cnMpLGlpPWRpcmVjdGl2ZXMubGVuZ3RofWVsc2UgJGNvbXBpbGVOb2RlLmh0bWwoZGlyZWN0aXZlVmFsdWUpO2lmKGRpcmVjdGl2ZS50ZW1wbGF0ZVVybCloYXNUZW1wbGF0ZT0hMCxhc3NlcnROb0R1cGxpY2F0ZSgidGVtcGxhdGUiLHRlbXBsYXRlRGlyZWN0aXZlLGRpcmVjdGl2ZSwkY29tcGlsZU5vZGUpLHRlbXBsYXRlRGlyZWN0aXZlPWRpcmVjdGl2ZSxkaXJlY3RpdmUucmVwbGFjZSYmKHJlcGxhY2VEaXJlY3RpdmU9ZGlyZWN0aXZlKSxub2RlTGlua0ZuPWNvbXBpbGVUZW1wbGF0ZVVybChkaXJlY3RpdmVzLnNwbGljZShpLGRpcmVjdGl2ZXMubGVuZ3RoLWkpLCRjb21waWxlTm9kZSx0ZW1wbGF0ZUF0dHJzLGpxQ29sbGVjdGlvbixoYXNUcmFuc2NsdWRlRGlyZWN0aXZlJiZjaGlsZFRyYW5zY2x1ZGVGbixwcmVMaW5rRm5zLHBvc3RMaW5rRm5zLHtjb250cm9sbGVyRGlyZWN0aXZlczpjb250cm9sbGVyRGlyZWN0aXZlcyxuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmU6bmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLHRlbXBsYXRlRGlyZWN0aXZlOnRlbXBsYXRlRGlyZWN0aXZlLG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmU6bm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZX0pLGlpPWRpcmVjdGl2ZXMubGVuZ3RoO2Vsc2UgaWYoZGlyZWN0aXZlLmNvbXBpbGUpdHJ5e2xpbmtGbj1kaXJlY3RpdmUuY29tcGlsZSgkY29tcGlsZU5vZGUsdGVtcGxhdGVBdHRycyxjaGlsZFRyYW5zY2x1ZGVGbiksaXNGdW5jdGlvbihsaW5rRm4pP2FkZExpbmtGbnMobnVsbCxsaW5rRm4sYXR0clN0YXJ0LGF0dHJFbmQpOmxpbmtGbiYmYWRkTGlua0ZucyhsaW5rRm4ucHJlLGxpbmtGbi5wb3N0LGF0dHJTdGFydCxhdHRyRW5kKX1jYXRjaChlKXskZXhjZXB0aW9uSGFuZGxlcihlLHN0YXJ0aW5nVGFnKCRjb21waWxlTm9kZSkpfWRpcmVjdGl2ZS50ZXJtaW5hbCYmKG5vZGVMaW5rRm4udGVybWluYWw9ITAsdGVybWluYWxQcmlvcml0eT1NYXRoLm1heCh0ZXJtaW5hbFByaW9yaXR5LGRpcmVjdGl2ZS5wcmlvcml0eSkpfXJldHVybiBub2RlTGlua0ZuLnNjb3BlPW5ld1Njb3BlRGlyZWN0aXZlJiZuZXdTY29wZURpcmVjdGl2ZS5zY29wZT09PSEwLG5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQ9aGFzVHJhbnNjbHVkZURpcmVjdGl2ZSxub2RlTGlua0ZuLnRlbXBsYXRlT25UaGlzRWxlbWVudD1oYXNUZW1wbGF0ZSxub2RlTGlua0ZuLnRyYW5zY2x1ZGU9Y2hpbGRUcmFuc2NsdWRlRm4scHJldmlvdXNDb21waWxlQ29udGV4dC5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZT1oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSxub2RlTGlua0ZufWZ1bmN0aW9uIG1hcmtEaXJlY3RpdmVzQXNJc29sYXRlKGRpcmVjdGl2ZXMpe2Zvcih2YXIgaj0wLGpqPWRpcmVjdGl2ZXMubGVuZ3RoO2pqPmo7aisrKWRpcmVjdGl2ZXNbal09aW5oZXJpdChkaXJlY3RpdmVzW2pdLHskJGlzb2xhdGVTY29wZTohMH0pfWZ1bmN0aW9uIGFkZERpcmVjdGl2ZSh0RGlyZWN0aXZlcyxuYW1lLGxvY2F0aW9uLG1heFByaW9yaXR5LGlnbm9yZURpcmVjdGl2ZSxzdGFydEF0dHJOYW1lLGVuZEF0dHJOYW1lKXtpZihuYW1lPT09aWdub3JlRGlyZWN0aXZlKXJldHVybiBudWxsO3ZhciBtYXRjaD1udWxsO2lmKGhhc0RpcmVjdGl2ZXMuaGFzT3duUHJvcGVydHkobmFtZSkpZm9yKHZhciBkaXJlY3RpdmUsZGlyZWN0aXZlcz0kaW5qZWN0b3IuZ2V0KG5hbWUrU3VmZml4KSxpPTAsaWk9ZGlyZWN0aXZlcy5sZW5ndGg7aWk+aTtpKyspdHJ5e2RpcmVjdGl2ZT1kaXJlY3RpdmVzW2ldLChtYXhQcmlvcml0eT09PXVuZGVmaW5lZHx8bWF4UHJpb3JpdHk+ZGlyZWN0aXZlLnByaW9yaXR5KSYmLTEhPWRpcmVjdGl2ZS5yZXN0cmljdC5pbmRleE9mKGxvY2F0aW9uKSYmKHN0YXJ0QXR0ck5hbWUmJihkaXJlY3RpdmU9aW5oZXJpdChkaXJlY3RpdmUseyQkc3RhcnQ6c3RhcnRBdHRyTmFtZSwkJGVuZDplbmRBdHRyTmFtZX0pKSx0RGlyZWN0aXZlcy5wdXNoKGRpcmVjdGl2ZSksbWF0Y2g9ZGlyZWN0aXZlKX1jYXRjaChlKXskZXhjZXB0aW9uSGFuZGxlcihlKX1yZXR1cm4gbWF0Y2h9ZnVuY3Rpb24gbWVyZ2VUZW1wbGF0ZUF0dHJpYnV0ZXMoZHN0LHNyYyl7dmFyIHNyY0F0dHI9c3JjLiRhdHRyLGRzdEF0dHI9ZHN0LiRhdHRyLCRlbGVtZW50PWRzdC4kJGVsZW1lbnQ7Zm9yRWFjaChkc3QsZnVuY3Rpb24odmFsdWUsa2V5KXsiJCIhPWtleS5jaGFyQXQoMCkmJihzcmNba2V5XSYmc3JjW2tleV0hPT12YWx1ZSYmKHZhbHVlKz0oInN0eWxlIj09PWtleT8iOyI6IiAiKStzcmNba2V5XSksZHN0LiRzZXQoa2V5LHZhbHVlLCEwLHNyY0F0dHJba2V5XSkpfSksZm9yRWFjaChzcmMsZnVuY3Rpb24odmFsdWUsa2V5KXsiY2xhc3MiPT1rZXk/KHNhZmVBZGRDbGFzcygkZWxlbWVudCx2YWx1ZSksZHN0WyJjbGFzcyJdPShkc3RbImNsYXNzIl0/ZHN0WyJjbGFzcyJdKyIgIjoiIikrdmFsdWUpOiJzdHlsZSI9PWtleT8oJGVsZW1lbnQuYXR0cigic3R5bGUiLCRlbGVtZW50LmF0dHIoInN0eWxlIikrIjsiK3ZhbHVlKSxkc3Quc3R5bGU9KGRzdC5zdHlsZT9kc3Quc3R5bGUrIjsiOiIiKSt2YWx1ZSk6IiQiPT1rZXkuY2hhckF0KDApfHxkc3QuaGFzT3duUHJvcGVydHkoa2V5KXx8KGRzdFtrZXldPXZhbHVlLGRzdEF0dHJba2V5XT1zcmNBdHRyW2tleV0pfSl9ZnVuY3Rpb24gY29tcGlsZVRlbXBsYXRlVXJsKGRpcmVjdGl2ZXMsJGNvbXBpbGVOb2RlLHRBdHRycywkcm9vdEVsZW1lbnQsY2hpbGRUcmFuc2NsdWRlRm4scHJlTGlua0Zucyxwb3N0TGlua0ZucyxwcmV2aW91c0NvbXBpbGVDb250ZXh0KXt2YXIgYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4sYWZ0ZXJUZW1wbGF0ZUNoaWxkTGlua0ZuLGxpbmtRdWV1ZT1bXSxiZWZvcmVUZW1wbGF0ZUNvbXBpbGVOb2RlPSRjb21waWxlTm9kZVswXSxvcmlnQXN5bmNEaXJlY3RpdmU9ZGlyZWN0aXZlcy5zaGlmdCgpLGRlcml2ZWRTeW5jRGlyZWN0aXZlPWV4dGVuZCh7fSxvcmlnQXN5bmNEaXJlY3RpdmUse3RlbXBsYXRlVXJsOm51bGwsdHJhbnNjbHVkZTpudWxsLHJlcGxhY2U6bnVsbCwkJG9yaWdpbmFsRGlyZWN0aXZlOm9yaWdBc3luY0RpcmVjdGl2ZX0pLHRlbXBsYXRlVXJsPWlzRnVuY3Rpb24ob3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlVXJsKT9vcmlnQXN5bmNEaXJlY3RpdmUudGVtcGxhdGVVcmwoJGNvbXBpbGVOb2RlLHRBdHRycyk6b3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlVXJsO3JldHVybiAkY29tcGlsZU5vZGUuZW1wdHkoKSwkaHR0cC5nZXQoJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmwodGVtcGxhdGVVcmwpLHtjYWNoZTokdGVtcGxhdGVDYWNoZX0pLnN1Y2Nlc3MoZnVuY3Rpb24oY29udGVudCl7dmFyIGNvbXBpbGVOb2RlLHRlbXBUZW1wbGF0ZUF0dHJzLCR0ZW1wbGF0ZSxjaGlsZEJvdW5kVHJhbnNjbHVkZUZuO2lmKGNvbnRlbnQ9ZGVub3JtYWxpemVUZW1wbGF0ZShjb250ZW50KSxvcmlnQXN5bmNEaXJlY3RpdmUucmVwbGFjZSl7aWYoJHRlbXBsYXRlPWpxTGl0ZUlzVGV4dE5vZGUoY29udGVudCk/W106anFMaXRlKHRyaW0oY29udGVudCkpLGNvbXBpbGVOb2RlPSR0ZW1wbGF0ZVswXSwxIT0kdGVtcGxhdGUubGVuZ3RofHwxIT09Y29tcGlsZU5vZGUubm9kZVR5cGUpdGhyb3cgJGNvbXBpbGVNaW5FcnIoInRwbHJ0IiwiVGVtcGxhdGUgZm9yIGRpcmVjdGl2ZSAnezB9JyBtdXN0IGhhdmUgZXhhY3RseSBvbmUgcm9vdCBlbGVtZW50LiB7MX0iLG9yaWdBc3luY0RpcmVjdGl2ZS5uYW1lLHRlbXBsYXRlVXJsKTt0ZW1wVGVtcGxhdGVBdHRycz17JGF0dHI6e319LHJlcGxhY2VXaXRoKCRyb290RWxlbWVudCwkY29tcGlsZU5vZGUsY29tcGlsZU5vZGUpO3ZhciB0ZW1wbGF0ZURpcmVjdGl2ZXM9Y29sbGVjdERpcmVjdGl2ZXMoY29tcGlsZU5vZGUsW10sdGVtcFRlbXBsYXRlQXR0cnMpO2lzT2JqZWN0KG9yaWdBc3luY0RpcmVjdGl2ZS5zY29wZSkmJm1hcmtEaXJlY3RpdmVzQXNJc29sYXRlKHRlbXBsYXRlRGlyZWN0aXZlcyksZGlyZWN0aXZlcz10ZW1wbGF0ZURpcmVjdGl2ZXMuY29uY2F0KGRpcmVjdGl2ZXMpLG1lcmdlVGVtcGxhdGVBdHRyaWJ1dGVzKHRBdHRycyx0ZW1wVGVtcGxhdGVBdHRycyl9ZWxzZSBjb21waWxlTm9kZT1iZWZvcmVUZW1wbGF0ZUNvbXBpbGVOb2RlLCRjb21waWxlTm9kZS5odG1sKGNvbnRlbnQpO2ZvcihkaXJlY3RpdmVzLnVuc2hpZnQoZGVyaXZlZFN5bmNEaXJlY3RpdmUpLGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuPWFwcGx5RGlyZWN0aXZlc1RvTm9kZShkaXJlY3RpdmVzLGNvbXBpbGVOb2RlLHRBdHRycyxjaGlsZFRyYW5zY2x1ZGVGbiwkY29tcGlsZU5vZGUsb3JpZ0FzeW5jRGlyZWN0aXZlLHByZUxpbmtGbnMscG9zdExpbmtGbnMscHJldmlvdXNDb21waWxlQ29udGV4dCksZm9yRWFjaCgkcm9vdEVsZW1lbnQsZnVuY3Rpb24obm9kZSxpKXtub2RlPT1jb21waWxlTm9kZSYmKCRyb290RWxlbWVudFtpXT0kY29tcGlsZU5vZGVbMF0pfSksYWZ0ZXJUZW1wbGF0ZUNoaWxkTGlua0ZuPWNvbXBpbGVOb2RlcygkY29tcGlsZU5vZGVbMF0uY2hpbGROb2RlcyxjaGlsZFRyYW5zY2x1ZGVGbik7bGlua1F1ZXVlLmxlbmd0aDspe3ZhciBzY29wZT1saW5rUXVldWUuc2hpZnQoKSxiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlPWxpbmtRdWV1ZS5zaGlmdCgpLGxpbmtSb290RWxlbWVudD1saW5rUXVldWUuc2hpZnQoKSxib3VuZFRyYW5zY2x1ZGVGbj1saW5rUXVldWUuc2hpZnQoKSxsaW5rTm9kZT0kY29tcGlsZU5vZGVbMF07CmlmKGJlZm9yZVRlbXBsYXRlTGlua05vZGUhPT1iZWZvcmVUZW1wbGF0ZUNvbXBpbGVOb2RlKXt2YXIgb2xkQ2xhc3Nlcz1iZWZvcmVUZW1wbGF0ZUxpbmtOb2RlLmNsYXNzTmFtZTtwcmV2aW91c0NvbXBpbGVDb250ZXh0Lmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlJiZvcmlnQXN5bmNEaXJlY3RpdmUucmVwbGFjZXx8KGxpbmtOb2RlPWpxTGl0ZUNsb25lKGNvbXBpbGVOb2RlKSkscmVwbGFjZVdpdGgobGlua1Jvb3RFbGVtZW50LGpxTGl0ZShiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlKSxsaW5rTm9kZSksc2FmZUFkZENsYXNzKGpxTGl0ZShsaW5rTm9kZSksb2xkQ2xhc3Nlcyl9Y2hpbGRCb3VuZFRyYW5zY2x1ZGVGbj1hZnRlclRlbXBsYXRlTm9kZUxpbmtGbi50cmFuc2NsdWRlT25UaGlzRWxlbWVudD9jcmVhdGVCb3VuZFRyYW5zY2x1ZGVGbihzY29wZSxhZnRlclRlbXBsYXRlTm9kZUxpbmtGbi50cmFuc2NsdWRlLGJvdW5kVHJhbnNjbHVkZUZuKTpib3VuZFRyYW5zY2x1ZGVGbixhZnRlclRlbXBsYXRlTm9kZUxpbmtGbihhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4sc2NvcGUsbGlua05vZGUsJHJvb3RFbGVtZW50LGNoaWxkQm91bmRUcmFuc2NsdWRlRm4pfWxpbmtRdWV1ZT1udWxsfSkuZXJyb3IoZnVuY3Rpb24ocmVzcG9uc2UsY29kZSxoZWFkZXJzLGNvbmZpZyl7dGhyb3cgJGNvbXBpbGVNaW5FcnIoInRwbG9hZCIsIkZhaWxlZCB0byBsb2FkIHRlbXBsYXRlOiB7MH0iLGNvbmZpZy51cmwpfSksZnVuY3Rpb24oaWdub3JlQ2hpbGRMaW5rRm4sc2NvcGUsbm9kZSxyb290RWxlbWVudCxib3VuZFRyYW5zY2x1ZGVGbil7dmFyIGNoaWxkQm91bmRUcmFuc2NsdWRlRm49Ym91bmRUcmFuc2NsdWRlRm47bGlua1F1ZXVlPyhsaW5rUXVldWUucHVzaChzY29wZSksbGlua1F1ZXVlLnB1c2gobm9kZSksbGlua1F1ZXVlLnB1c2gocm9vdEVsZW1lbnQpLGxpbmtRdWV1ZS5wdXNoKGNoaWxkQm91bmRUcmFuc2NsdWRlRm4pKTooYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQmJihjaGlsZEJvdW5kVHJhbnNjbHVkZUZuPWNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGUsYm91bmRUcmFuc2NsdWRlRm4pKSxhZnRlclRlbXBsYXRlTm9kZUxpbmtGbihhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4sc2NvcGUsbm9kZSxyb290RWxlbWVudCxjaGlsZEJvdW5kVHJhbnNjbHVkZUZuKSl9fWZ1bmN0aW9uIGJ5UHJpb3JpdHkoYSxiKXt2YXIgZGlmZj1iLnByaW9yaXR5LWEucHJpb3JpdHk7cmV0dXJuIDAhPT1kaWZmP2RpZmY6YS5uYW1lIT09Yi5uYW1lP2EubmFtZTxiLm5hbWU/LTE6MTphLmluZGV4LWIuaW5kZXh9ZnVuY3Rpb24gYXNzZXJ0Tm9EdXBsaWNhdGUod2hhdCxwcmV2aW91c0RpcmVjdGl2ZSxkaXJlY3RpdmUsZWxlbWVudCl7aWYocHJldmlvdXNEaXJlY3RpdmUpdGhyb3cgJGNvbXBpbGVNaW5FcnIoIm11bHRpZGlyIiwiTXVsdGlwbGUgZGlyZWN0aXZlcyBbezB9LCB7MX1dIGFza2luZyBmb3IgezJ9IG9uOiB7M30iLHByZXZpb3VzRGlyZWN0aXZlLm5hbWUsZGlyZWN0aXZlLm5hbWUsd2hhdCxzdGFydGluZ1RhZyhlbGVtZW50KSl9ZnVuY3Rpb24gYWRkVGV4dEludGVycG9sYXRlRGlyZWN0aXZlKGRpcmVjdGl2ZXMsdGV4dCl7dmFyIGludGVycG9sYXRlRm49JGludGVycG9sYXRlKHRleHQsITApO2ludGVycG9sYXRlRm4mJmRpcmVjdGl2ZXMucHVzaCh7cHJpb3JpdHk6MCxjb21waWxlOmZ1bmN0aW9uKHRlbXBsYXRlTm9kZSl7dmFyIHBhcmVudD10ZW1wbGF0ZU5vZGUucGFyZW50KCksaGFzQ29tcGlsZVBhcmVudD1wYXJlbnQubGVuZ3RoO3JldHVybiBoYXNDb21waWxlUGFyZW50JiZzYWZlQWRkQ2xhc3ModGVtcGxhdGVOb2RlLnBhcmVudCgpLCJuZy1iaW5kaW5nIiksZnVuY3Rpb24oc2NvcGUsbm9kZSl7dmFyIHBhcmVudD1ub2RlLnBhcmVudCgpLGJpbmRpbmdzPXBhcmVudC5kYXRhKCIkYmluZGluZyIpfHxbXTtiaW5kaW5ncy5wdXNoKGludGVycG9sYXRlRm4pLHBhcmVudC5kYXRhKCIkYmluZGluZyIsYmluZGluZ3MpLGhhc0NvbXBpbGVQYXJlbnR8fHNhZmVBZGRDbGFzcyhwYXJlbnQsIm5nLWJpbmRpbmciKSxzY29wZS4kd2F0Y2goaW50ZXJwb2xhdGVGbixmdW5jdGlvbih2YWx1ZSl7bm9kZVswXS5ub2RlVmFsdWU9dmFsdWV9KX19fSl9ZnVuY3Rpb24gZ2V0VHJ1c3RlZENvbnRleHQobm9kZSxhdHRyTm9ybWFsaXplZE5hbWUpe2lmKCJzcmNkb2MiPT1hdHRyTm9ybWFsaXplZE5hbWUpcmV0dXJuICRzY2UuSFRNTDt2YXIgdGFnPW5vZGVOYW1lXyhub2RlKTtyZXR1cm4ieGxpbmtIcmVmIj09YXR0ck5vcm1hbGl6ZWROYW1lfHwiRk9STSI9PXRhZyYmImFjdGlvbiI9PWF0dHJOb3JtYWxpemVkTmFtZXx8IklNRyIhPXRhZyYmKCJzcmMiPT1hdHRyTm9ybWFsaXplZE5hbWV8fCJuZ1NyYyI9PWF0dHJOb3JtYWxpemVkTmFtZSk/JHNjZS5SRVNPVVJDRV9VUkw6dm9pZCAwfWZ1bmN0aW9uIGFkZEF0dHJJbnRlcnBvbGF0ZURpcmVjdGl2ZShub2RlLGRpcmVjdGl2ZXMsdmFsdWUsbmFtZSl7dmFyIGludGVycG9sYXRlRm49JGludGVycG9sYXRlKHZhbHVlLCEwKTtpZihpbnRlcnBvbGF0ZUZuKXtpZigibXVsdGlwbGUiPT09bmFtZSYmIlNFTEVDVCI9PT1ub2RlTmFtZV8obm9kZSkpdGhyb3cgJGNvbXBpbGVNaW5FcnIoInNlbG11bHRpIiwiQmluZGluZyB0byB0aGUgJ211bHRpcGxlJyBhdHRyaWJ1dGUgaXMgbm90IHN1cHBvcnRlZC4gRWxlbWVudDogezB9IixzdGFydGluZ1RhZyhub2RlKSk7ZGlyZWN0aXZlcy5wdXNoKHtwcmlvcml0eToxMDAsY29tcGlsZTpmdW5jdGlvbigpe3JldHVybntwcmU6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyKXt2YXIgJCRvYnNlcnZlcnM9YXR0ci4kJG9ic2VydmVyc3x8KGF0dHIuJCRvYnNlcnZlcnM9e30pO2lmKEVWRU5UX0hBTkRMRVJfQVRUUl9SRUdFWFAudGVzdChuYW1lKSl0aHJvdyAkY29tcGlsZU1pbkVycigibm9kb21ldmVudHMiLCJJbnRlcnBvbGF0aW9ucyBmb3IgSFRNTCBET00gZXZlbnQgYXR0cmlidXRlcyBhcmUgZGlzYWxsb3dlZC4gIFBsZWFzZSB1c2UgdGhlIG5nLSB2ZXJzaW9ucyAoc3VjaCBhcyBuZy1jbGljayBpbnN0ZWFkIG9mIG9uY2xpY2spIGluc3RlYWQuIik7aW50ZXJwb2xhdGVGbj0kaW50ZXJwb2xhdGUoYXR0cltuYW1lXSwhMCxnZXRUcnVzdGVkQ29udGV4dChub2RlLG5hbWUpKSxpbnRlcnBvbGF0ZUZuJiYoYXR0cltuYW1lXT1pbnRlcnBvbGF0ZUZuKHNjb3BlKSwoJCRvYnNlcnZlcnNbbmFtZV18fCgkJG9ic2VydmVyc1tuYW1lXT1bXSkpLiQkaW50ZXI9ITAsKGF0dHIuJCRvYnNlcnZlcnMmJmF0dHIuJCRvYnNlcnZlcnNbbmFtZV0uJCRzY29wZXx8c2NvcGUpLiR3YXRjaChpbnRlcnBvbGF0ZUZuLGZ1bmN0aW9uKG5ld1ZhbHVlLG9sZFZhbHVlKXsiY2xhc3MiPT09bmFtZSYmbmV3VmFsdWUhPW9sZFZhbHVlP2F0dHIuJHVwZGF0ZUNsYXNzKG5ld1ZhbHVlLG9sZFZhbHVlKTphdHRyLiRzZXQobmFtZSxuZXdWYWx1ZSl9KSl9fX19KX19ZnVuY3Rpb24gcmVwbGFjZVdpdGgoJHJvb3RFbGVtZW50LGVsZW1lbnRzVG9SZW1vdmUsbmV3Tm9kZSl7dmFyIGksaWksZmlyc3RFbGVtZW50VG9SZW1vdmU9ZWxlbWVudHNUb1JlbW92ZVswXSxyZW1vdmVDb3VudD1lbGVtZW50c1RvUmVtb3ZlLmxlbmd0aCxwYXJlbnQ9Zmlyc3RFbGVtZW50VG9SZW1vdmUucGFyZW50Tm9kZTtpZigkcm9vdEVsZW1lbnQpZm9yKGk9MCxpaT0kcm9vdEVsZW1lbnQubGVuZ3RoO2lpPmk7aSsrKWlmKCRyb290RWxlbWVudFtpXT09Zmlyc3RFbGVtZW50VG9SZW1vdmUpeyRyb290RWxlbWVudFtpKytdPW5ld05vZGU7Zm9yKHZhciBqPWksajI9aityZW1vdmVDb3VudC0xLGpqPSRyb290RWxlbWVudC5sZW5ndGg7amo+ajtqKyssajIrKylqaj5qMj8kcm9vdEVsZW1lbnRbal09JHJvb3RFbGVtZW50W2oyXTpkZWxldGUgJHJvb3RFbGVtZW50W2pdOyRyb290RWxlbWVudC5sZW5ndGgtPXJlbW92ZUNvdW50LTE7YnJlYWt9cGFyZW50JiZwYXJlbnQucmVwbGFjZUNoaWxkKG5ld05vZGUsZmlyc3RFbGVtZW50VG9SZW1vdmUpO3ZhciBmcmFnbWVudD1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7ZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZmlyc3RFbGVtZW50VG9SZW1vdmUpLG5ld05vZGVbanFMaXRlLmV4cGFuZG9dPWZpcnN0RWxlbWVudFRvUmVtb3ZlW2pxTGl0ZS5leHBhbmRvXTtmb3IodmFyIGs9MSxraz1lbGVtZW50c1RvUmVtb3ZlLmxlbmd0aDtraz5rO2srKyl7dmFyIGVsZW1lbnQ9ZWxlbWVudHNUb1JlbW92ZVtrXTtqcUxpdGUoZWxlbWVudCkucmVtb3ZlKCksZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCksZGVsZXRlIGVsZW1lbnRzVG9SZW1vdmVba119ZWxlbWVudHNUb1JlbW92ZVswXT1uZXdOb2RlLGVsZW1lbnRzVG9SZW1vdmUubGVuZ3RoPTF9ZnVuY3Rpb24gY2xvbmVBbmRBbm5vdGF0ZUZuKGZuLGFubm90YXRpb24pe3JldHVybiBleHRlbmQoZnVuY3Rpb24oKXtyZXR1cm4gZm4uYXBwbHkobnVsbCxhcmd1bWVudHMpfSxmbixhbm5vdGF0aW9uKX12YXIgQXR0cmlidXRlcz1mdW5jdGlvbihlbGVtZW50LGF0dHIpe3RoaXMuJCRlbGVtZW50PWVsZW1lbnQsdGhpcy4kYXR0cj1hdHRyfHx7fX07QXR0cmlidXRlcy5wcm90b3R5cGU9eyRub3JtYWxpemU6ZGlyZWN0aXZlTm9ybWFsaXplLCRhZGRDbGFzczpmdW5jdGlvbihjbGFzc1ZhbCl7Y2xhc3NWYWwmJmNsYXNzVmFsLmxlbmd0aD4wJiYkYW5pbWF0ZS5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCxjbGFzc1ZhbCl9LCRyZW1vdmVDbGFzczpmdW5jdGlvbihjbGFzc1ZhbCl7Y2xhc3NWYWwmJmNsYXNzVmFsLmxlbmd0aD4wJiYkYW5pbWF0ZS5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCxjbGFzc1ZhbCl9LCR1cGRhdGVDbGFzczpmdW5jdGlvbihuZXdDbGFzc2VzLG9sZENsYXNzZXMpe3ZhciB0b0FkZD10b2tlbkRpZmZlcmVuY2UobmV3Q2xhc3NlcyxvbGRDbGFzc2VzKSx0b1JlbW92ZT10b2tlbkRpZmZlcmVuY2Uob2xkQ2xhc3NlcyxuZXdDbGFzc2VzKTswPT09dG9BZGQubGVuZ3RoPyRhbmltYXRlLnJlbW92ZUNsYXNzKHRoaXMuJCRlbGVtZW50LHRvUmVtb3ZlKTowPT09dG9SZW1vdmUubGVuZ3RoPyRhbmltYXRlLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LHRvQWRkKTokYW5pbWF0ZS5zZXRDbGFzcyh0aGlzLiQkZWxlbWVudCx0b0FkZCx0b1JlbW92ZSl9LCRzZXQ6ZnVuY3Rpb24oa2V5LHZhbHVlLHdyaXRlQXR0cixhdHRyTmFtZSl7dmFyIG5vZGVOYW1lLGJvb2xlYW5LZXk9Z2V0Qm9vbGVhbkF0dHJOYW1lKHRoaXMuJCRlbGVtZW50WzBdLGtleSk7Ym9vbGVhbktleSYmKHRoaXMuJCRlbGVtZW50LnByb3Aoa2V5LHZhbHVlKSxhdHRyTmFtZT1ib29sZWFuS2V5KSx0aGlzW2tleV09dmFsdWUsYXR0ck5hbWU/dGhpcy4kYXR0cltrZXldPWF0dHJOYW1lOihhdHRyTmFtZT10aGlzLiRhdHRyW2tleV0sYXR0ck5hbWV8fCh0aGlzLiRhdHRyW2tleV09YXR0ck5hbWU9c25ha2VfY2FzZShrZXksIi0iKSkpLG5vZGVOYW1lPW5vZGVOYW1lXyh0aGlzLiQkZWxlbWVudCksKCJBIj09PW5vZGVOYW1lJiYiaHJlZiI9PT1rZXl8fCJJTUciPT09bm9kZU5hbWUmJiJzcmMiPT09a2V5KSYmKHRoaXNba2V5XT12YWx1ZT0kJHNhbml0aXplVXJpKHZhbHVlLCJzcmMiPT09a2V5KSksd3JpdGVBdHRyIT09ITEmJihudWxsPT09dmFsdWV8fHZhbHVlPT09dW5kZWZpbmVkP3RoaXMuJCRlbGVtZW50LnJlbW92ZUF0dHIoYXR0ck5hbWUpOnRoaXMuJCRlbGVtZW50LmF0dHIoYXR0ck5hbWUsdmFsdWUpKTt2YXIgJCRvYnNlcnZlcnM9dGhpcy4kJG9ic2VydmVyczskJG9ic2VydmVycyYmZm9yRWFjaCgkJG9ic2VydmVyc1trZXldLGZ1bmN0aW9uKGZuKXt0cnl7Zm4odmFsdWUpfWNhdGNoKGUpeyRleGNlcHRpb25IYW5kbGVyKGUpfX0pfSwkb2JzZXJ2ZTpmdW5jdGlvbihrZXksZm4pe3ZhciBhdHRycz10aGlzLCQkb2JzZXJ2ZXJzPWF0dHJzLiQkb2JzZXJ2ZXJzfHwoYXR0cnMuJCRvYnNlcnZlcnM9e30pLGxpc3RlbmVycz0kJG9ic2VydmVyc1trZXldfHwoJCRvYnNlcnZlcnNba2V5XT1bXSk7cmV0dXJuIGxpc3RlbmVycy5wdXNoKGZuKSwkcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKXtsaXN0ZW5lcnMuJCRpbnRlcnx8Zm4oYXR0cnNba2V5XSl9KSxmbn19O3ZhciBzdGFydFN5bWJvbD0kaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKSxlbmRTeW1ib2w9JGludGVycG9sYXRlLmVuZFN5bWJvbCgpLGRlbm9ybWFsaXplVGVtcGxhdGU9Int7Ij09c3RhcnRTeW1ib2x8fCJ9fSI9PWVuZFN5bWJvbD9pZGVudGl0eTpmdW5jdGlvbih0ZW1wbGF0ZSl7cmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UoL1x7XHsvZyxzdGFydFN5bWJvbCkucmVwbGFjZSgvfX0vZyxlbmRTeW1ib2wpfSxOR19BVFRSX0JJTkRJTkc9L15uZ0F0dHJbQS1aXS87cmV0dXJuIGNvbXBpbGV9XX1mdW5jdGlvbiBkaXJlY3RpdmVOb3JtYWxpemUobmFtZSl7cmV0dXJuIGNhbWVsQ2FzZShuYW1lLnJlcGxhY2UoUFJFRklYX1JFR0VYUCwiIikpfWZ1bmN0aW9uIHRva2VuRGlmZmVyZW5jZShzdHIxLHN0cjIpe3ZhciB2YWx1ZXM9IiIsdG9rZW5zMT1zdHIxLnNwbGl0KC9ccysvKSx0b2tlbnMyPXN0cjIuc3BsaXQoL1xzKy8pO291dGVyOmZvcih2YXIgaT0wO2k8dG9rZW5zMS5sZW5ndGg7aSsrKXtmb3IodmFyIHRva2VuPXRva2VuczFbaV0saj0wO2o8dG9rZW5zMi5sZW5ndGg7aisrKWlmKHRva2VuPT10b2tlbnMyW2pdKWNvbnRpbnVlIG91dGVyO3ZhbHVlcys9KHZhbHVlcy5sZW5ndGg+MD8iICI6IiIpK3Rva2VufXJldHVybiB2YWx1ZXN9ZnVuY3Rpb24gJENvbnRyb2xsZXJQcm92aWRlcigpe3ZhciBjb250cm9sbGVycz17fSxDTlRSTF9SRUc9L14oXFMrKShccythc1xzKyhcdyspKT8kLzt0aGlzLnJlZ2lzdGVyPWZ1bmN0aW9uKG5hbWUsY29uc3RydWN0b3Ipe2Fzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsImNvbnRyb2xsZXIiKSxpc09iamVjdChuYW1lKT9leHRlbmQoY29udHJvbGxlcnMsbmFtZSk6Y29udHJvbGxlcnNbbmFtZV09Y29uc3RydWN0b3J9LHRoaXMuJGdldD1bIiRpbmplY3RvciIsIiR3aW5kb3ciLGZ1bmN0aW9uKCRpbmplY3Rvciwkd2luZG93KXtyZXR1cm4gZnVuY3Rpb24oZXhwcmVzc2lvbixsb2NhbHMpe3ZhciBpbnN0YW5jZSxtYXRjaCxjb25zdHJ1Y3RvcixpZGVudGlmaWVyO2lmKGlzU3RyaW5nKGV4cHJlc3Npb24pJiYobWF0Y2g9ZXhwcmVzc2lvbi5tYXRjaChDTlRSTF9SRUcpLGNvbnN0cnVjdG9yPW1hdGNoWzFdLGlkZW50aWZpZXI9bWF0Y2hbM10sZXhwcmVzc2lvbj1jb250cm9sbGVycy5oYXNPd25Qcm9wZXJ0eShjb25zdHJ1Y3Rvcik/Y29udHJvbGxlcnNbY29uc3RydWN0b3JdOmdldHRlcihsb2NhbHMuJHNjb3BlLGNvbnN0cnVjdG9yLCEwKXx8Z2V0dGVyKCR3aW5kb3csY29uc3RydWN0b3IsITApLGFzc2VydEFyZ0ZuKGV4cHJlc3Npb24sY29uc3RydWN0b3IsITApKSxpbnN0YW5jZT0kaW5qZWN0b3IuaW5zdGFudGlhdGUoZXhwcmVzc2lvbixsb2NhbHMpLGlkZW50aWZpZXIpe2lmKCFsb2NhbHN8fCJvYmplY3QiIT10eXBlb2YgbG9jYWxzLiRzY29wZSl0aHJvdyBtaW5FcnIoIiRjb250cm9sbGVyIikoIm5vc2NwIiwiQ2Fubm90IGV4cG9ydCBjb250cm9sbGVyICd7MH0nIGFzICd7MX0nISBObyAkc2NvcGUgb2JqZWN0IHByb3ZpZGVkIHZpYSBgbG9jYWxzYC4iLGNvbnN0cnVjdG9yfHxleHByZXNzaW9uLm5hbWUsaWRlbnRpZmllcik7bG9jYWxzLiRzY29wZVtpZGVudGlmaWVyXT1pbnN0YW5jZX1yZXR1cm4gaW5zdGFuY2V9fV19ZnVuY3Rpb24gJERvY3VtZW50UHJvdmlkZXIoKXt0aGlzLiRnZXQ9WyIkd2luZG93IixmdW5jdGlvbih3aW5kb3cpe3JldHVybiBqcUxpdGUod2luZG93LmRvY3VtZW50KX1dfWZ1bmN0aW9uICRFeGNlcHRpb25IYW5kbGVyUHJvdmlkZXIoKXt0aGlzLiRnZXQ9WyIkbG9nIixmdW5jdGlvbigkbG9nKXtyZXR1cm4gZnVuY3Rpb24oKXskbG9nLmVycm9yLmFwcGx5KCRsb2csYXJndW1lbnRzKX19XX1mdW5jdGlvbiBwYXJzZUhlYWRlcnMoaGVhZGVycyl7dmFyIGtleSx2YWwsaSxwYXJzZWQ9e307cmV0dXJuIGhlYWRlcnM/KGZvckVhY2goaGVhZGVycy5zcGxpdCgiXG4iKSxmdW5jdGlvbihsaW5lKXtpPWxpbmUuaW5kZXhPZigiOiIpLGtleT1sb3dlcmNhc2UodHJpbShsaW5lLnN1YnN0cigwLGkpKSksdmFsPXRyaW0obGluZS5zdWJzdHIoaSsxKSksa2V5JiYocGFyc2VkW2tleV09cGFyc2VkW2tleV0/cGFyc2VkW2tleV0rIiwgIit2YWw6dmFsKX0pLHBhcnNlZCk6cGFyc2VkfWZ1bmN0aW9uIGhlYWRlcnNHZXR0ZXIoaGVhZGVycyl7dmFyIGhlYWRlcnNPYmo9aXNPYmplY3QoaGVhZGVycyk/aGVhZGVyczp1bmRlZmluZWQ7cmV0dXJuIGZ1bmN0aW9uKG5hbWUpe3JldHVybiBoZWFkZXJzT2JqfHwoaGVhZGVyc09iaj1wYXJzZUhlYWRlcnMoaGVhZGVycykpLG5hbWU/aGVhZGVyc09ialtsb3dlcmNhc2UobmFtZSldfHxudWxsOmhlYWRlcnNPYmp9fWZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZGF0YSxoZWFkZXJzLGZucyl7cmV0dXJuIGlzRnVuY3Rpb24oZm5zKT9mbnMoZGF0YSxoZWFkZXJzKTooZm9yRWFjaChmbnMsZnVuY3Rpb24oZm4pe2RhdGE9Zm4oZGF0YSxoZWFkZXJzKX0pLGRhdGEpfWZ1bmN0aW9uIGlzU3VjY2VzcyhzdGF0dXMpe3JldHVybiBzdGF0dXM+PTIwMCYmMzAwPnN0YXR1c31mdW5jdGlvbiAkSHR0cFByb3ZpZGVyKCl7dmFyIEpTT05fU1RBUlQ9L15ccyooXFt8XHtbXlx7XSkvLEpTT05fRU5EPS9bXH1cXV1ccyokLyxQUk9URUNUSU9OX1BSRUZJWD0vXlwpXF1cfScsP1xuLyxDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTj17IkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCJ9LGRlZmF1bHRzPXRoaXMuZGVmYXVsdHM9e3RyYW5zZm9ybVJlc3BvbnNlOltmdW5jdGlvbihkYXRhKXtyZXR1cm4gaXNTdHJpbmcoZGF0YSkmJihkYXRhPWRhdGEucmVwbGFjZShQUk9URUNUSU9OX1BSRUZJWCwiIiksSlNPTl9TVEFSVC50ZXN0KGRhdGEpJiZKU09OX0VORC50ZXN0KGRhdGEpJiYoZGF0YT1mcm9tSnNvbihkYXRhKSkpLGRhdGF9XSx0cmFuc2Zvcm1SZXF1ZXN0OltmdW5jdGlvbihkKXtyZXR1cm4haXNPYmplY3QoZCl8fGlzRmlsZShkKXx8aXNCbG9iKGQpP2Q6dG9Kc29uKGQpfV0saGVhZGVyczp7Y29tbW9uOntBY2NlcHQ6ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKiJ9LHBvc3Q6c2hhbGxvd0NvcHkoQ09OVEVOVF9UWVBFX0FQUExJQ0FUSU9OX0pTT04pLHB1dDpzaGFsbG93Q29weShDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTikscGF0Y2g6c2hhbGxvd0NvcHkoQ09OVEVOVF9UWVBFX0FQUExJQ0FUSU9OX0pTT04pfSx4c3JmQ29va2llTmFtZToiWFNSRi1UT0tFTiIseHNyZkhlYWRlck5hbWU6IlgtWFNSRi1UT0tFTiJ9LGludGVyY2VwdG9yRmFjdG9yaWVzPXRoaXMuaW50ZXJjZXB0b3JzPVtdLHJlc3BvbnNlSW50ZXJjZXB0b3JGYWN0b3JpZXM9dGhpcy5yZXNwb25zZUludGVyY2VwdG9ycz1bXTt0aGlzLiRnZXQ9WyIkaHR0cEJhY2tlbmQiLCIkYnJvd3NlciIsIiRjYWNoZUZhY3RvcnkiLCIkcm9vdFNjb3BlIiwiJHEiLCIkaW5qZWN0b3IiLGZ1bmN0aW9uKCRodHRwQmFja2VuZCwkYnJvd3NlciwkY2FjaGVGYWN0b3J5LCRyb290U2NvcGUsJHEsJGluamVjdG9yKXtmdW5jdGlvbiAkaHR0cChyZXF1ZXN0Q29uZmlnKXtmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShyZXNwb25zZSl7dmFyIHJlc3A9ZXh0ZW5kKHt9LHJlc3BvbnNlLHtkYXRhOnRyYW5zZm9ybURhdGEocmVzcG9uc2UuZGF0YSxyZXNwb25zZS5oZWFkZXJzLGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZSl9KTtyZXR1cm4gaXNTdWNjZXNzKHJlc3BvbnNlLnN0YXR1cyk/cmVzcDokcS5yZWplY3QocmVzcCl9ZnVuY3Rpb24gbWVyZ2VIZWFkZXJzKGNvbmZpZyl7ZnVuY3Rpb24gZXhlY0hlYWRlcnMoaGVhZGVycyl7dmFyIGhlYWRlckNvbnRlbnQ7Zm9yRWFjaChoZWFkZXJzLGZ1bmN0aW9uKGhlYWRlckZuLGhlYWRlcil7aXNGdW5jdGlvbihoZWFkZXJGbikmJihoZWFkZXJDb250ZW50PWhlYWRlckZuKCksbnVsbCE9aGVhZGVyQ29udGVudD9oZWFkZXJzW2hlYWRlcl09aGVhZGVyQ29udGVudDpkZWxldGUgaGVhZGVyc1toZWFkZXJdKX0pfXZhciBkZWZIZWFkZXJOYW1lLGxvd2VyY2FzZURlZkhlYWRlck5hbWUscmVxSGVhZGVyTmFtZSxkZWZIZWFkZXJzPWRlZmF1bHRzLmhlYWRlcnMscmVxSGVhZGVycz1leHRlbmQoe30sY29uZmlnLmhlYWRlcnMpO2RlZkhlYWRlcnM9ZXh0ZW5kKHt9LGRlZkhlYWRlcnMuY29tbW9uLGRlZkhlYWRlcnNbbG93ZXJjYXNlKGNvbmZpZy5tZXRob2QpXSk7ZGVmYXVsdEhlYWRlcnNJdGVyYXRpb246Zm9yKGRlZkhlYWRlck5hbWUgaW4gZGVmSGVhZGVycyl7bG93ZXJjYXNlRGVmSGVhZGVyTmFtZT1sb3dlcmNhc2UoZGVmSGVhZGVyTmFtZSk7Zm9yKHJlcUhlYWRlck5hbWUgaW4gcmVxSGVhZGVycylpZihsb3dlcmNhc2UocmVxSGVhZGVyTmFtZSk9PT1sb3dlcmNhc2VEZWZIZWFkZXJOYW1lKWNvbnRpbnVlIGRlZmF1bHRIZWFkZXJzSXRlcmF0aW9uO3JlcUhlYWRlcnNbZGVmSGVhZGVyTmFtZV09ZGVmSGVhZGVyc1tkZWZIZWFkZXJOYW1lXX1yZXR1cm4gZXhlY0hlYWRlcnMocmVxSGVhZGVycykscmVxSGVhZGVyc312YXIgY29uZmlnPXttZXRob2Q6ImdldCIsdHJhbnNmb3JtUmVxdWVzdDpkZWZhdWx0cy50cmFuc2Zvcm1SZXF1ZXN0LHRyYW5zZm9ybVJlc3BvbnNlOmRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlfSxoZWFkZXJzPW1lcmdlSGVhZGVycyhyZXF1ZXN0Q29uZmlnKTtleHRlbmQoY29uZmlnLHJlcXVlc3RDb25maWcpLGNvbmZpZy5oZWFkZXJzPWhlYWRlcnMsY29uZmlnLm1ldGhvZD11cHBlcmNhc2UoY29uZmlnLm1ldGhvZCk7dmFyIHNlcnZlclJlcXVlc3Q9ZnVuY3Rpb24oY29uZmlnKXtoZWFkZXJzPWNvbmZpZy5oZWFkZXJzO3ZhciByZXFEYXRhPXRyYW5zZm9ybURhdGEoY29uZmlnLmRhdGEsaGVhZGVyc0dldHRlcihoZWFkZXJzKSxjb25maWcudHJhbnNmb3JtUmVxdWVzdCk7cmV0dXJuIGlzVW5kZWZpbmVkKHJlcURhdGEpJiZmb3JFYWNoKGhlYWRlcnMsZnVuY3Rpb24odmFsdWUsaGVhZGVyKXsiY29udGVudC10eXBlIj09PWxvd2VyY2FzZShoZWFkZXIpJiZkZWxldGUgaGVhZGVyc1toZWFkZXJdfSksaXNVbmRlZmluZWQoY29uZmlnLndpdGhDcmVkZW50aWFscykmJiFpc1VuZGVmaW5lZChkZWZhdWx0cy53aXRoQ3JlZGVudGlhbHMpJiYoY29uZmlnLndpdGhDcmVkZW50aWFscz1kZWZhdWx0cy53aXRoQ3JlZGVudGlhbHMpLHNlbmRSZXEoY29uZmlnLHJlcURhdGEsaGVhZGVycykudGhlbih0cmFuc2Zvcm1SZXNwb25zZSx0cmFuc2Zvcm1SZXNwb25zZSl9LGNoYWluPVtzZXJ2ZXJSZXF1ZXN0LHVuZGVmaW5lZF0scHJvbWlzZT0kcS53aGVuKGNvbmZpZyk7Zm9yKGZvckVhY2gocmV2ZXJzZWRJbnRlcmNlcHRvcnMsZnVuY3Rpb24oaW50ZXJjZXB0b3IpeyhpbnRlcmNlcHRvci5yZXF1ZXN0fHxpbnRlcmNlcHRvci5yZXF1ZXN0RXJyb3IpJiZjaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLnJlcXVlc3QsaW50ZXJjZXB0b3IucmVxdWVzdEVycm9yKSwoaW50ZXJjZXB0b3IucmVzcG9uc2V8fGludGVyY2VwdG9yLnJlc3BvbnNlRXJyb3IpJiZjaGFpbi5wdXNoKGludGVyY2VwdG9yLnJlc3BvbnNlLGludGVyY2VwdG9yLnJlc3BvbnNlRXJyb3IpfSk7Y2hhaW4ubGVuZ3RoOyl7dmFyIHRoZW5Gbj1jaGFpbi5zaGlmdCgpLHJlamVjdEZuPWNoYWluLnNoaWZ0KCk7cHJvbWlzZT1wcm9taXNlLnRoZW4odGhlbkZuLHJlamVjdEZuKX1yZXR1cm4gcHJvbWlzZS5zdWNjZXNzPWZ1bmN0aW9uKGZuKXtyZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtmbihyZXNwb25zZS5kYXRhLHJlc3BvbnNlLnN0YXR1cyxyZXNwb25zZS5oZWFkZXJzLGNvbmZpZyl9KSxwcm9taXNlfSxwcm9taXNlLmVycm9yPWZ1bmN0aW9uKGZuKXtyZXR1cm4gcHJvbWlzZS50aGVuKG51bGwsZnVuY3Rpb24ocmVzcG9uc2Upe2ZuKHJlc3BvbnNlLmRhdGEscmVzcG9uc2Uuc3RhdHVzLHJlc3BvbnNlLmhlYWRlcnMsY29uZmlnKX0pLHByb21pc2V9LHByb21pc2V9ZnVuY3Rpb24gY3JlYXRlU2hvcnRNZXRob2RzKCl7Zm9yRWFjaChhcmd1bWVudHMsZnVuY3Rpb24obmFtZSl7JGh0dHBbbmFtZV09ZnVuY3Rpb24odXJsLGNvbmZpZyl7cmV0dXJuICRodHRwKGV4dGVuZChjb25maWd8fHt9LHttZXRob2Q6bmFtZSx1cmw6dXJsfSkpfX0pfWZ1bmN0aW9uIGNyZWF0ZVNob3J0TWV0aG9kc1dpdGhEYXRhKCl7Zm9yRWFjaChhcmd1bWVudHMsZnVuY3Rpb24obmFtZSl7JGh0dHBbbmFtZV09ZnVuY3Rpb24odXJsLGRhdGEsY29uZmlnKXtyZXR1cm4gJGh0dHAoZXh0ZW5kKGNvbmZpZ3x8e30se21ldGhvZDpuYW1lLHVybDp1cmwsZGF0YTpkYXRhfSkpfX0pfWZ1bmN0aW9uIHNlbmRSZXEoY29uZmlnLHJlcURhdGEscmVxSGVhZGVycyl7ZnVuY3Rpb24gZG9uZShzdGF0dXMscmVzcG9uc2UsaGVhZGVyc1N0cmluZyxzdGF0dXNUZXh0KXtjYWNoZSYmKGlzU3VjY2VzcyhzdGF0dXMpP2NhY2hlLnB1dCh1cmwsW3N0YXR1cyxyZXNwb25zZSxwYXJzZUhlYWRlcnMoaGVhZGVyc1N0cmluZyksc3RhdHVzVGV4dF0pOmNhY2hlLnJlbW92ZSh1cmwpKSxyZXNvbHZlUHJvbWlzZShyZXNwb25zZSxzdGF0dXMsaGVhZGVyc1N0cmluZyxzdGF0dXNUZXh0KSwkcm9vdFNjb3BlLiQkcGhhc2V8fCRyb290U2NvcGUuJGFwcGx5KCl9ZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UocmVzcG9uc2Usc3RhdHVzLGhlYWRlcnMsc3RhdHVzVGV4dCl7c3RhdHVzPU1hdGgubWF4KHN0YXR1cywwKSwoaXNTdWNjZXNzKHN0YXR1cyk/ZGVmZXJyZWQucmVzb2x2ZTpkZWZlcnJlZC5yZWplY3QpKHtkYXRhOnJlc3BvbnNlLHN0YXR1czpzdGF0dXMsaGVhZGVyczpoZWFkZXJzR2V0dGVyKGhlYWRlcnMpLGNvbmZpZzpjb25maWcsc3RhdHVzVGV4dDpzdGF0dXNUZXh0fSl9ZnVuY3Rpb24gcmVtb3ZlUGVuZGluZ1JlcSgpe3ZhciBpZHg9aW5kZXhPZigkaHR0cC5wZW5kaW5nUmVxdWVzdHMsY29uZmlnKTstMSE9PWlkeCYmJGh0dHAucGVuZGluZ1JlcXVlc3RzLnNwbGljZShpZHgsMSl9dmFyIGNhY2hlLGNhY2hlZFJlc3AsZGVmZXJyZWQ9JHEuZGVmZXIoKSxwcm9taXNlPWRlZmVycmVkLnByb21pc2UsdXJsPWJ1aWxkVXJsKGNvbmZpZy51cmwsY29uZmlnLnBhcmFtcyk7aWYoJGh0dHAucGVuZGluZ1JlcXVlc3RzLnB1c2goY29uZmlnKSxwcm9taXNlLnRoZW4ocmVtb3ZlUGVuZGluZ1JlcSxyZW1vdmVQZW5kaW5nUmVxKSwhY29uZmlnLmNhY2hlJiYhZGVmYXVsdHMuY2FjaGV8fGNvbmZpZy5jYWNoZT09PSExfHwiR0VUIiE9PWNvbmZpZy5tZXRob2QmJiJKU09OUCIhPT1jb25maWcubWV0aG9kfHwoY2FjaGU9aXNPYmplY3QoY29uZmlnLmNhY2hlKT9jb25maWcuY2FjaGU6aXNPYmplY3QoZGVmYXVsdHMuY2FjaGUpP2RlZmF1bHRzLmNhY2hlOmRlZmF1bHRDYWNoZSksY2FjaGUpaWYoY2FjaGVkUmVzcD1jYWNoZS5nZXQodXJsKSxpc0RlZmluZWQoY2FjaGVkUmVzcCkpe2lmKGlzUHJvbWlzZUxpa2UoY2FjaGVkUmVzcCkpcmV0dXJuIGNhY2hlZFJlc3AudGhlbihyZW1vdmVQZW5kaW5nUmVxLHJlbW92ZVBlbmRpbmdSZXEpLGNhY2hlZFJlc3A7aXNBcnJheShjYWNoZWRSZXNwKT9yZXNvbHZlUHJvbWlzZShjYWNoZWRSZXNwWzFdLGNhY2hlZFJlc3BbMF0sc2hhbGxvd0NvcHkoY2FjaGVkUmVzcFsyXSksY2FjaGVkUmVzcFszXSk6cmVzb2x2ZVByb21pc2UoY2FjaGVkUmVzcCwyMDAse30sIk9LIil9ZWxzZSBjYWNoZS5wdXQodXJsLHByb21pc2UpO2lmKGlzVW5kZWZpbmVkKGNhY2hlZFJlc3ApKXt2YXIgeHNyZlZhbHVlPXVybElzU2FtZU9yaWdpbihjb25maWcudXJsKT8kYnJvd3Nlci5jb29raWVzKClbY29uZmlnLnhzcmZDb29raWVOYW1lfHxkZWZhdWx0cy54c3JmQ29va2llTmFtZV06dW5kZWZpbmVkO3hzcmZWYWx1ZSYmKHJlcUhlYWRlcnNbY29uZmlnLnhzcmZIZWFkZXJOYW1lfHxkZWZhdWx0cy54c3JmSGVhZGVyTmFtZV09eHNyZlZhbHVlKSwkaHR0cEJhY2tlbmQoY29uZmlnLm1ldGhvZCx1cmwscmVxRGF0YSxkb25lLHJlcUhlYWRlcnMsY29uZmlnLnRpbWVvdXQsY29uZmlnLndpdGhDcmVkZW50aWFscyxjb25maWcucmVzcG9uc2VUeXBlKX1yZXR1cm4gcHJvbWlzZX1mdW5jdGlvbiBidWlsZFVybCh1cmwscGFyYW1zKXtpZighcGFyYW1zKXJldHVybiB1cmw7dmFyIHBhcnRzPVtdO3JldHVybiBmb3JFYWNoU29ydGVkKHBhcmFtcyxmdW5jdGlvbih2YWx1ZSxrZXkpe251bGw9PT12YWx1ZXx8aXNVbmRlZmluZWQodmFsdWUpfHwoaXNBcnJheSh2YWx1ZSl8fCh2YWx1ZT1bdmFsdWVdKSxmb3JFYWNoKHZhbHVlLGZ1bmN0aW9uKHYpe2lzT2JqZWN0KHYpJiYodj1pc0RhdGUodik/di50b0lTT1N0cmluZygpOnRvSnNvbih2KSkscGFydHMucHVzaChlbmNvZGVVcmlRdWVyeShrZXkpKyI9IitlbmNvZGVVcmlRdWVyeSh2KSl9KSl9KSxwYXJ0cy5sZW5ndGg+MCYmKHVybCs9KC0xPT11cmwuaW5kZXhPZigiPyIpPyI/IjoiJiIpK3BhcnRzLmpvaW4oIiYiKSksdXJsfXZhciBkZWZhdWx0Q2FjaGU9JGNhY2hlRmFjdG9yeSgiJGh0dHAiKSxyZXZlcnNlZEludGVyY2VwdG9ycz1bXTtyZXR1cm4gZm9yRWFjaChpbnRlcmNlcHRvckZhY3RvcmllcyxmdW5jdGlvbihpbnRlcmNlcHRvckZhY3Rvcnkpe3JldmVyc2VkSW50ZXJjZXB0b3JzLnVuc2hpZnQoaXNTdHJpbmcoaW50ZXJjZXB0b3JGYWN0b3J5KT8kaW5qZWN0b3IuZ2V0KGludGVyY2VwdG9yRmFjdG9yeSk6JGluamVjdG9yLmludm9rZShpbnRlcmNlcHRvckZhY3RvcnkpKX0pLGZvckVhY2gocmVzcG9uc2VJbnRlcmNlcHRvckZhY3RvcmllcyxmdW5jdGlvbihpbnRlcmNlcHRvckZhY3RvcnksaW5kZXgpe3ZhciByZXNwb25zZUZuPWlzU3RyaW5nKGludGVyY2VwdG9yRmFjdG9yeSk/JGluamVjdG9yLmdldChpbnRlcmNlcHRvckZhY3RvcnkpOiRpbmplY3Rvci5pbnZva2UoaW50ZXJjZXB0b3JGYWN0b3J5KTtyZXZlcnNlZEludGVyY2VwdG9ycy5zcGxpY2UoaW5kZXgsMCx7cmVzcG9uc2U6ZnVuY3Rpb24ocmVzcG9uc2Upe3JldHVybiByZXNwb25zZUZuKCRxLndoZW4ocmVzcG9uc2UpKX0scmVzcG9uc2VFcnJvcjpmdW5jdGlvbihyZXNwb25zZSl7cmV0dXJuIHJlc3BvbnNlRm4oJHEucmVqZWN0KHJlc3BvbnNlKSl9fSl9KSwkaHR0cC5wZW5kaW5nUmVxdWVzdHM9W10sY3JlYXRlU2hvcnRNZXRob2RzKCJnZXQiLCJkZWxldGUiLCJoZWFkIiwianNvbnAiKSxjcmVhdGVTaG9ydE1ldGhvZHNXaXRoRGF0YSgicG9zdCIsInB1dCIpLCRodHRwLmRlZmF1bHRzPWRlZmF1bHRzLCRodHRwfV19ZnVuY3Rpb24gY3JlYXRlWGhyKG1ldGhvZCl7aWYoOD49bXNpZSYmKCFtZXRob2QubWF0Y2goL14oZ2V0fHBvc3R8aGVhZHxwdXR8ZGVsZXRlfG9wdGlvbnMpJC9pKXx8IXdpbmRvdy5YTUxIdHRwUmVxdWVzdCkpcmV0dXJuIG5ldyB3aW5kb3cuQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKTtpZih3aW5kb3cuWE1MSHR0cFJlcXVlc3QpcmV0dXJuIG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3Q7dGhyb3cgbWluRXJyKCIkaHR0cEJhY2tlbmQiKSgibm94aHIiLCJUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBYTUxIdHRwUmVxdWVzdC4iKX1mdW5jdGlvbiAkSHR0cEJhY2tlbmRQcm92aWRlcigpe3RoaXMuJGdldD1bIiRicm93c2VyIiwiJHdpbmRvdyIsIiRkb2N1bWVudCIsZnVuY3Rpb24oJGJyb3dzZXIsJHdpbmRvdywkZG9jdW1lbnQpe3JldHVybiBjcmVhdGVIdHRwQmFja2VuZCgkYnJvd3NlcixjcmVhdGVYaHIsJGJyb3dzZXIuZGVmZXIsJHdpbmRvdy5hbmd1bGFyLmNhbGxiYWNrcywkZG9jdW1lbnRbMF0pfV19ZnVuY3Rpb24gY3JlYXRlSHR0cEJhY2tlbmQoJGJyb3dzZXIsY3JlYXRlWGhyLCRicm93c2VyRGVmZXIsY2FsbGJhY2tzLHJhd0RvY3VtZW50KXtmdW5jdGlvbiBqc29ucFJlcSh1cmwsY2FsbGJhY2tJZCxkb25lKXt2YXIgc2NyaXB0PXJhd0RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpLGNhbGxiYWNrPW51bGw7cmV0dXJuIHNjcmlwdC50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiLHNjcmlwdC5zcmM9dXJsLHNjcmlwdC5hc3luYz0hMCxjYWxsYmFjaz1mdW5jdGlvbihldmVudCl7cmVtb3ZlRXZlbnRMaXN0ZW5lckZuKHNjcmlwdCwibG9hZCIsY2FsbGJhY2spLHJlbW92ZUV2ZW50TGlzdGVuZXJGbihzY3JpcHQsImVycm9yIixjYWxsYmFjaykscmF3RG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JpcHQpLHNjcmlwdD1udWxsO3ZhciBzdGF0dXM9LTEsdGV4dD0idW5rbm93biI7ZXZlbnQmJigibG9hZCIhPT1ldmVudC50eXBlfHxjYWxsYmFja3NbY2FsbGJhY2tJZF0uY2FsbGVkfHwoZXZlbnQ9e3R5cGU6ImVycm9yIn0pLHRleHQ9ZXZlbnQudHlwZSxzdGF0dXM9ImVycm9yIj09PWV2ZW50LnR5cGU/NDA0OjIwMCksZG9uZSYmZG9uZShzdGF0dXMsdGV4dCl9LGFkZEV2ZW50TGlzdGVuZXJGbihzY3JpcHQsImxvYWQiLGNhbGxiYWNrKSxhZGRFdmVudExpc3RlbmVyRm4oc2NyaXB0LCJlcnJvciIsY2FsbGJhY2spLDg+PW1zaWUmJihzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aXNTdHJpbmcoc2NyaXB0LnJlYWR5U3RhdGUpJiYvbG9hZGVkfGNvbXBsZXRlLy50ZXN0KHNjcmlwdC5yZWFkeVN0YXRlKSYmKHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxjYWxsYmFjayh7dHlwZToibG9hZCJ9KSl9KSxyYXdEb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCksY2FsbGJhY2t9dmFyIEFCT1JURUQ9LTE7cmV0dXJuIGZ1bmN0aW9uKG1ldGhvZCx1cmwscG9zdCxjYWxsYmFjayxoZWFkZXJzLHRpbWVvdXQsd2l0aENyZWRlbnRpYWxzLHJlc3BvbnNlVHlwZSl7ZnVuY3Rpb24gdGltZW91dFJlcXVlc3QoKXtzdGF0dXM9QUJPUlRFRCxqc29ucERvbmUmJmpzb25wRG9uZSgpLHhociYmeGhyLmFib3J0KCl9ZnVuY3Rpb24gY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLHN0YXR1cyxyZXNwb25zZSxoZWFkZXJzU3RyaW5nLHN0YXR1c1RleHQpe3RpbWVvdXRJZCYmJGJyb3dzZXJEZWZlci5jYW5jZWwodGltZW91dElkKSxqc29ucERvbmU9eGhyPW51bGwsMD09PXN0YXR1cyYmKHN0YXR1cz1yZXNwb25zZT8yMDA6ImZpbGUiPT11cmxSZXNvbHZlKHVybCkucHJvdG9jb2w/NDA0OjApLHN0YXR1cz0xMjIzPT09c3RhdHVzPzIwNDpzdGF0dXMsc3RhdHVzVGV4dD1zdGF0dXNUZXh0fHwiIixjYWxsYmFjayhzdGF0dXMscmVzcG9uc2UsaGVhZGVyc1N0cmluZyxzdGF0dXNUZXh0KSwkYnJvd3Nlci4kJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KG5vb3ApfXZhciBzdGF0dXM7aWYoJGJyb3dzZXIuJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudCgpLHVybD11cmx8fCRicm93c2VyLnVybCgpLCJqc29ucCI9PWxvd2VyY2FzZShtZXRob2QpKXt2YXIgY2FsbGJhY2tJZD0iXyIrKGNhbGxiYWNrcy5jb3VudGVyKyspLnRvU3RyaW5nKDM2KTtjYWxsYmFja3NbY2FsbGJhY2tJZF09ZnVuY3Rpb24oZGF0YSl7Y2FsbGJhY2tzW2NhbGxiYWNrSWRdLmRhdGE9ZGF0YSxjYWxsYmFja3NbY2FsbGJhY2tJZF0uY2FsbGVkPSEwfTt2YXIganNvbnBEb25lPWpzb25wUmVxKHVybC5yZXBsYWNlKCJKU09OX0NBTExCQUNLIiwiYW5ndWxhci5jYWxsYmFja3MuIitjYWxsYmFja0lkKSxjYWxsYmFja0lkLGZ1bmN0aW9uKHN0YXR1cyx0ZXh0KXtjb21wbGV0ZVJlcXVlc3QoY2FsbGJhY2ssc3RhdHVzLGNhbGxiYWNrc1tjYWxsYmFja0lkXS5kYXRhLCIiLHRleHQpLGNhbGxiYWNrc1tjYWxsYmFja0lkXT1ub29wfSl9ZWxzZXt2YXIgeGhyPWNyZWF0ZVhocihtZXRob2QpO2lmKHhoci5vcGVuKG1ldGhvZCx1cmwsITApLGZvckVhY2goaGVhZGVycyxmdW5jdGlvbih2YWx1ZSxrZXkpe2lzRGVmaW5lZCh2YWx1ZSkmJnhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSx2YWx1ZSl9KSx4aHIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoeGhyJiY0PT14aHIucmVhZHlTdGF0ZSl7dmFyIHJlc3BvbnNlSGVhZGVycz1udWxsLHJlc3BvbnNlPW51bGwsc3RhdHVzVGV4dD0iIjtzdGF0dXMhPT1BQk9SVEVEJiYocmVzcG9uc2VIZWFkZXJzPXhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSxyZXNwb25zZT0icmVzcG9uc2UiaW4geGhyP3hoci5yZXNwb25zZTp4aHIucmVzcG9uc2VUZXh0KSxzdGF0dXM9PT1BQk9SVEVEJiYxMD5tc2llfHwoc3RhdHVzVGV4dD14aHIuc3RhdHVzVGV4dCksY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLHN0YXR1c3x8eGhyLnN0YXR1cyxyZXNwb25zZSxyZXNwb25zZUhlYWRlcnMsc3RhdHVzVGV4dCl9fSx3aXRoQ3JlZGVudGlhbHMmJih4aHIud2l0aENyZWRlbnRpYWxzPSEwKSxyZXNwb25zZVR5cGUpdHJ5e3hoci5yZXNwb25zZVR5cGU9cmVzcG9uc2VUeXBlfWNhdGNoKGUpe2lmKCJqc29uIiE9PXJlc3BvbnNlVHlwZSl0aHJvdyBlfXhoci5zZW5kKHBvc3R8fG51bGwpfWlmKHRpbWVvdXQ+MCl2YXIgdGltZW91dElkPSRicm93c2VyRGVmZXIodGltZW91dFJlcXVlc3QsdGltZW91dCk7ZWxzZSBpc1Byb21pc2VMaWtlKHRpbWVvdXQpJiZ0aW1lb3V0LnRoZW4odGltZW91dFJlcXVlc3QpfX1mdW5jdGlvbiAkSW50ZXJwb2xhdGVQcm92aWRlcigpe3ZhciBzdGFydFN5bWJvbD0ie3siLGVuZFN5bWJvbD0ifX0iO3RoaXMuc3RhcnRTeW1ib2w9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZT8oc3RhcnRTeW1ib2w9dmFsdWUsdGhpcyk6c3RhcnRTeW1ib2x9LHRoaXMuZW5kU3ltYm9sPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWU/KGVuZFN5bWJvbD12YWx1ZSx0aGlzKTplbmRTeW1ib2x9LHRoaXMuJGdldD1bIiRwYXJzZSIsIiRleGNlcHRpb25IYW5kbGVyIiwiJHNjZSIsZnVuY3Rpb24oJHBhcnNlLCRleGNlcHRpb25IYW5kbGVyLCRzY2Upe2Z1bmN0aW9uICRpbnRlcnBvbGF0ZSh0ZXh0LG11c3RIYXZlRXhwcmVzc2lvbix0cnVzdGVkQ29udGV4dCl7Zm9yKHZhciBzdGFydEluZGV4LGVuZEluZGV4LGZuLGV4cCxpbmRleD0wLHBhcnRzPVtdLGxlbmd0aD10ZXh0Lmxlbmd0aCxoYXNJbnRlcnBvbGF0aW9uPSExLGNvbmNhdD1bXTtsZW5ndGg+aW5kZXg7KS0xIT0oc3RhcnRJbmRleD10ZXh0LmluZGV4T2Yoc3RhcnRTeW1ib2wsaW5kZXgpKSYmLTEhPShlbmRJbmRleD10ZXh0LmluZGV4T2YoZW5kU3ltYm9sLHN0YXJ0SW5kZXgrc3RhcnRTeW1ib2xMZW5ndGgpKT8oaW5kZXghPXN0YXJ0SW5kZXgmJnBhcnRzLnB1c2godGV4dC5zdWJzdHJpbmcoaW5kZXgsc3RhcnRJbmRleCkpLHBhcnRzLnB1c2goZm49JHBhcnNlKGV4cD10ZXh0LnN1YnN0cmluZyhzdGFydEluZGV4K3N0YXJ0U3ltYm9sTGVuZ3RoLGVuZEluZGV4KSkpLGZuLmV4cD1leHAsaW5kZXg9ZW5kSW5kZXgrZW5kU3ltYm9sTGVuZ3RoLGhhc0ludGVycG9sYXRpb249ITApOihpbmRleCE9bGVuZ3RoJiZwYXJ0cy5wdXNoKHRleHQuc3Vic3RyaW5nKGluZGV4KSksaW5kZXg9bGVuZ3RoKTtpZigobGVuZ3RoPXBhcnRzLmxlbmd0aCl8fChwYXJ0cy5wdXNoKCIiKSxsZW5ndGg9MSksdHJ1c3RlZENvbnRleHQmJnBhcnRzLmxlbmd0aD4xKXRocm93ICRpbnRlcnBvbGF0ZU1pbkVycigibm9jb25jYXQiLCJFcnJvciB3aGlsZSBpbnRlcnBvbGF0aW5nOiB7MH1cblN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIGRpc2FsbG93cyBpbnRlcnBvbGF0aW9ucyB0aGF0IGNvbmNhdGVuYXRlIG11bHRpcGxlIGV4cHJlc3Npb25zIHdoZW4gYSB0cnVzdGVkIHZhbHVlIGlzIHJlcXVpcmVkLiAgU2VlIGh0dHA6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL25nLiRzY2UiLHRleHQpO3JldHVybiFtdXN0SGF2ZUV4cHJlc3Npb258fGhhc0ludGVycG9sYXRpb24/KGNvbmNhdC5sZW5ndGg9bGVuZ3RoLGZuPWZ1bmN0aW9uKGNvbnRleHQpe3RyeXtmb3IodmFyIHBhcnQsaT0wLGlpPWxlbmd0aDtpaT5pO2krKyl7aWYoImZ1bmN0aW9uIj09dHlwZW9mKHBhcnQ9cGFydHNbaV0pKWlmKHBhcnQ9cGFydChjb250ZXh0KSxwYXJ0PXRydXN0ZWRDb250ZXh0PyRzY2UuZ2V0VHJ1c3RlZCh0cnVzdGVkQ29udGV4dCxwYXJ0KTokc2NlLnZhbHVlT2YocGFydCksbnVsbD09cGFydClwYXJ0PSIiO2Vsc2Ugc3dpdGNoKHR5cGVvZiBwYXJ0KXtjYXNlInN0cmluZyI6YnJlYWs7Y2FzZSJudW1iZXIiOnBhcnQ9IiIrcGFydDticmVhaztkZWZhdWx0OnBhcnQ9dG9Kc29uKHBhcnQpfWNvbmNhdFtpXT1wYXJ0fXJldHVybiBjb25jYXQuam9pbigiIil9Y2F0Y2goZXJyKXt2YXIgbmV3RXJyPSRpbnRlcnBvbGF0ZU1pbkVycigiaW50ZXJyIiwiQ2FuJ3QgaW50ZXJwb2xhdGU6IHswfVxuezF9Iix0ZXh0LGVyci50b1N0cmluZygpKTskZXhjZXB0aW9uSGFuZGxlcihuZXdFcnIpfX0sZm4uZXhwPXRleHQsZm4ucGFydHM9cGFydHMsZm4pOnZvaWQgMH12YXIgc3RhcnRTeW1ib2xMZW5ndGg9c3RhcnRTeW1ib2wubGVuZ3RoLGVuZFN5bWJvbExlbmd0aD1lbmRTeW1ib2wubGVuZ3RoO3JldHVybiAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2w9ZnVuY3Rpb24oKXtyZXR1cm4gc3RhcnRTeW1ib2x9LCRpbnRlcnBvbGF0ZS5lbmRTeW1ib2w9ZnVuY3Rpb24oKXtyZXR1cm4gZW5kU3ltYm9sfSwkaW50ZXJwb2xhdGV9XX1mdW5jdGlvbiAkSW50ZXJ2YWxQcm92aWRlcigpe3RoaXMuJGdldD1bIiRyb290U2NvcGUiLCIkd2luZG93IiwiJHEiLGZ1bmN0aW9uKCRyb290U2NvcGUsJHdpbmRvdywkcSl7ZnVuY3Rpb24gaW50ZXJ2YWwoZm4sZGVsYXksY291bnQsaW52b2tlQXBwbHkpe3ZhciBzZXRJbnRlcnZhbD0kd2luZG93LnNldEludGVydmFsLGNsZWFySW50ZXJ2YWw9JHdpbmRvdy5jbGVhckludGVydmFsLGRlZmVycmVkPSRxLmRlZmVyKCkscHJvbWlzZT1kZWZlcnJlZC5wcm9taXNlLGl0ZXJhdGlvbj0wLHNraXBBcHBseT1pc0RlZmluZWQoaW52b2tlQXBwbHkpJiYhaW52b2tlQXBwbHk7cmV0dXJuIGNvdW50PWlzRGVmaW5lZChjb3VudCk/Y291bnQ6MCxwcm9taXNlLnRoZW4obnVsbCxudWxsLGZuKSxwcm9taXNlLiQkaW50ZXJ2YWxJZD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2RlZmVycmVkLm5vdGlmeShpdGVyYXRpb24rKyksY291bnQ+MCYmaXRlcmF0aW9uPj1jb3VudCYmKGRlZmVycmVkLnJlc29sdmUoaXRlcmF0aW9uKSxjbGVhckludGVydmFsKHByb21pc2UuJCRpbnRlcnZhbElkKSxkZWxldGUgaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXSksc2tpcEFwcGx5fHwkcm9vdFNjb3BlLiRhcHBseSgpfSxkZWxheSksaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXT1kZWZlcnJlZCxwcm9taXNlfXZhciBpbnRlcnZhbHM9e307cmV0dXJuIGludGVydmFsLmNhbmNlbD1mdW5jdGlvbihwcm9taXNlKXtyZXR1cm4gcHJvbWlzZSYmcHJvbWlzZS4kJGludGVydmFsSWQgaW4gaW50ZXJ2YWxzPyhpbnRlcnZhbHNbcHJvbWlzZS4kJGludGVydmFsSWRdLnJlamVjdCgiY2FuY2VsZWQiKSwkd2luZG93LmNsZWFySW50ZXJ2YWwocHJvbWlzZS4kJGludGVydmFsSWQpLGRlbGV0ZSBpbnRlcnZhbHNbcHJvbWlzZS4kJGludGVydmFsSWRdLCEwKTohMX0saW50ZXJ2YWx9XX1mdW5jdGlvbiAkTG9jYWxlUHJvdmlkZXIoKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtyZXR1cm57aWQ6ImVuLXVzIixOVU1CRVJfRk9STUFUUzp7REVDSU1BTF9TRVA6Ii4iLEdST1VQX1NFUDoiLCIsUEFUVEVSTlM6W3ttaW5JbnQ6MSxtaW5GcmFjOjAsbWF4RnJhYzozLHBvc1ByZToiIixwb3NTdWY6IiIsbmVnUHJlOiItIixuZWdTdWY6IiIsZ1NpemU6MyxsZ1NpemU6M30se21pbkludDoxLG1pbkZyYWM6MixtYXhGcmFjOjIscG9zUHJlOiLCpCIscG9zU3VmOiIiLG5lZ1ByZToiKMKkIixuZWdTdWY6IikiLGdTaXplOjMsbGdTaXplOjN9XSxDVVJSRU5DWV9TWU06IiQifSxEQVRFVElNRV9GT1JNQVRTOntNT05USDoiSmFudWFyeSxGZWJydWFyeSxNYXJjaCxBcHJpbCxNYXksSnVuZSxKdWx5LEF1Z3VzdCxTZXB0ZW1iZXIsT2N0b2JlcixOb3ZlbWJlcixEZWNlbWJlciIuc3BsaXQoIiwiKSxTSE9SVE1PTlRIOiJKYW4sRmViLE1hcixBcHIsTWF5LEp1bixKdWwsQXVnLFNlcCxPY3QsTm92LERlYyIuc3BsaXQoIiwiKSxEQVk6IlN1bmRheSxNb25kYXksVHVlc2RheSxXZWRuZXNkYXksVGh1cnNkYXksRnJpZGF5LFNhdHVyZGF5Ii5zcGxpdCgiLCIpLFNIT1JUREFZOiJTdW4sTW9uLFR1ZSxXZWQsVGh1LEZyaSxTYXQiLnNwbGl0KCIsIiksQU1QTVM6WyJBTSIsIlBNIl0sbWVkaXVtOiJNTU0gZCwgeSBoOm1tOnNzIGEiLCJzaG9ydCI6Ik0vZC95eSBoOm1tIGEiLGZ1bGxEYXRlOiJFRUVFLCBNTU1NIGQsIHkiLGxvbmdEYXRlOiJNTU1NIGQsIHkiLG1lZGl1bURhdGU6Ik1NTSBkLCB5IixzaG9ydERhdGU6Ik0vZC95eSIsbWVkaXVtVGltZToiaDptbTpzcyBhIixzaG9ydFRpbWU6Img6bW0gYSJ9LHBsdXJhbENhdDpmdW5jdGlvbihudW0pe3JldHVybiAxPT09bnVtPyJvbmUiOiJvdGhlciJ9fX19ZnVuY3Rpb24gZW5jb2RlUGF0aChwYXRoKXtmb3IodmFyIHNlZ21lbnRzPXBhdGguc3BsaXQoIi8iKSxpPXNlZ21lbnRzLmxlbmd0aDtpLS07KXNlZ21lbnRzW2ldPWVuY29kZVVyaVNlZ21lbnQoc2VnbWVudHNbaV0pO3JldHVybiBzZWdtZW50cy5qb2luKCIvIil9ZnVuY3Rpb24gcGFyc2VBYnNvbHV0ZVVybChhYnNvbHV0ZVVybCxsb2NhdGlvbk9iaixhcHBCYXNlKXt2YXIgcGFyc2VkVXJsPXVybFJlc29sdmUoYWJzb2x1dGVVcmwsYXBwQmFzZSk7bG9jYXRpb25PYmouJCRwcm90b2NvbD1wYXJzZWRVcmwucHJvdG9jb2wsbG9jYXRpb25PYmouJCRob3N0PXBhcnNlZFVybC5ob3N0bmFtZSxsb2NhdGlvbk9iai4kJHBvcnQ9aW50KHBhcnNlZFVybC5wb3J0KXx8REVGQVVMVF9QT1JUU1twYXJzZWRVcmwucHJvdG9jb2xdfHxudWxsfWZ1bmN0aW9uIHBhcnNlQXBwVXJsKHJlbGF0aXZlVXJsLGxvY2F0aW9uT2JqLGFwcEJhc2Upe3ZhciBwcmVmaXhlZD0iLyIhPT1yZWxhdGl2ZVVybC5jaGFyQXQoMCk7cHJlZml4ZWQmJihyZWxhdGl2ZVVybD0iLyIrcmVsYXRpdmVVcmwpO3ZhciBtYXRjaD11cmxSZXNvbHZlKHJlbGF0aXZlVXJsLGFwcEJhc2UpO2xvY2F0aW9uT2JqLiQkcGF0aD1kZWNvZGVVUklDb21wb25lbnQocHJlZml4ZWQmJiIvIj09PW1hdGNoLnBhdGhuYW1lLmNoYXJBdCgwKT9tYXRjaC5wYXRobmFtZS5zdWJzdHJpbmcoMSk6bWF0Y2gucGF0aG5hbWUpLGxvY2F0aW9uT2JqLiQkc2VhcmNoPXBhcnNlS2V5VmFsdWUobWF0Y2guc2VhcmNoKSxsb2NhdGlvbk9iai4kJGhhc2g9ZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoLmhhc2gpLGxvY2F0aW9uT2JqLiQkcGF0aCYmIi8iIT1sb2NhdGlvbk9iai4kJHBhdGguY2hhckF0KDApJiYobG9jYXRpb25PYmouJCRwYXRoPSIvIitsb2NhdGlvbk9iai4kJHBhdGgpfWZ1bmN0aW9uIGJlZ2luc1dpdGgoYmVnaW4sd2hvbGUpe3JldHVybiAwPT09d2hvbGUuaW5kZXhPZihiZWdpbik/d2hvbGUuc3Vic3RyKGJlZ2luLmxlbmd0aCk6dm9pZCAwfWZ1bmN0aW9uIHN0cmlwSGFzaCh1cmwpe3ZhciBpbmRleD11cmwuaW5kZXhPZigiIyIpO3JldHVybi0xPT1pbmRleD91cmw6dXJsLnN1YnN0cigwLGluZGV4KX1mdW5jdGlvbiBzdHJpcEZpbGUodXJsKXtyZXR1cm4gdXJsLnN1YnN0cigwLHN0cmlwSGFzaCh1cmwpLmxhc3RJbmRleE9mKCIvIikrMSl9ZnVuY3Rpb24gc2VydmVyQmFzZSh1cmwpe3JldHVybiB1cmwuc3Vic3RyaW5nKDAsdXJsLmluZGV4T2YoIi8iLHVybC5pbmRleE9mKCIvLyIpKzIpKX1mdW5jdGlvbiBMb2NhdGlvbkh0bWw1VXJsKGFwcEJhc2UsYmFzZVByZWZpeCl7dGhpcy4kJGh0bWw1PSEwLGJhc2VQcmVmaXg9YmFzZVByZWZpeHx8IiI7dmFyIGFwcEJhc2VOb0ZpbGU9c3RyaXBGaWxlKGFwcEJhc2UpO3BhcnNlQWJzb2x1dGVVcmwoYXBwQmFzZSx0aGlzLGFwcEJhc2UpLHRoaXMuJCRwYXJzZT1mdW5jdGlvbih1cmwpe3ZhciBwYXRoVXJsPWJlZ2luc1dpdGgoYXBwQmFzZU5vRmlsZSx1cmwpO2lmKCFpc1N0cmluZyhwYXRoVXJsKSl0aHJvdyAkbG9jYXRpb25NaW5FcnIoImlwdGhwcmZ4IiwnSW52YWxpZCB1cmwgInswfSIsIG1pc3NpbmcgcGF0aCBwcmVmaXggInsxfSIuJyx1cmwsYXBwQmFzZU5vRmlsZSk7cGFyc2VBcHBVcmwocGF0aFVybCx0aGlzLGFwcEJhc2UpLHRoaXMuJCRwYXRofHwodGhpcy4kJHBhdGg9Ii8iKSx0aGlzLiQkY29tcG9zZSgpfSx0aGlzLiQkY29tcG9zZT1mdW5jdGlvbigpe3ZhciBzZWFyY2g9dG9LZXlWYWx1ZSh0aGlzLiQkc2VhcmNoKSxoYXNoPXRoaXMuJCRoYXNoPyIjIitlbmNvZGVVcmlTZWdtZW50KHRoaXMuJCRoYXNoKToiIjt0aGlzLiQkdXJsPWVuY29kZVBhdGgodGhpcy4kJHBhdGgpKyhzZWFyY2g/Ij8iK3NlYXJjaDoiIikraGFzaCx0aGlzLiQkYWJzVXJsPWFwcEJhc2VOb0ZpbGUrdGhpcy4kJHVybC5zdWJzdHIoMSl9LHRoaXMuJCRyZXdyaXRlPWZ1bmN0aW9uKHVybCl7dmFyIGFwcFVybCxwcmV2QXBwVXJsO3JldHVybihhcHBVcmw9YmVnaW5zV2l0aChhcHBCYXNlLHVybCkpIT09dW5kZWZpbmVkPyhwcmV2QXBwVXJsPWFwcFVybCwoYXBwVXJsPWJlZ2luc1dpdGgoYmFzZVByZWZpeCxhcHBVcmwpKSE9PXVuZGVmaW5lZD9hcHBCYXNlTm9GaWxlKyhiZWdpbnNXaXRoKCIvIixhcHBVcmwpfHxhcHBVcmwpOmFwcEJhc2UrcHJldkFwcFVybCk6KGFwcFVybD1iZWdpbnNXaXRoKGFwcEJhc2VOb0ZpbGUsdXJsKSkhPT11bmRlZmluZWQ/YXBwQmFzZU5vRmlsZSthcHBVcmw6YXBwQmFzZU5vRmlsZT09dXJsKyIvIj9hcHBCYXNlTm9GaWxlOnZvaWQgMH19ZnVuY3Rpb24gTG9jYXRpb25IYXNoYmFuZ1VybChhcHBCYXNlLGhhc2hQcmVmaXgpe3ZhciBhcHBCYXNlTm9GaWxlPXN0cmlwRmlsZShhcHBCYXNlKTtwYXJzZUFic29sdXRlVXJsKGFwcEJhc2UsdGhpcyxhcHBCYXNlKSx0aGlzLiQkcGFyc2U9ZnVuY3Rpb24odXJsKXtmdW5jdGlvbiByZW1vdmVXaW5kb3dzRHJpdmVOYW1lKHBhdGgsdXJsLGJhc2Upe3ZhciBmaXJzdFBhdGhTZWdtZW50TWF0Y2gsd2luZG93c0ZpbGVQYXRoRXhwPS9eXC9bQS1aXTooXC8uKikvO3JldHVybiAwPT09dXJsLmluZGV4T2YoYmFzZSkmJih1cmw9dXJsLnJlcGxhY2UoYmFzZSwiIikpLHdpbmRvd3NGaWxlUGF0aEV4cC5leGVjKHVybCk/cGF0aDooZmlyc3RQYXRoU2VnbWVudE1hdGNoPXdpbmRvd3NGaWxlUGF0aEV4cC5leGVjKHBhdGgpLGZpcnN0UGF0aFNlZ21lbnRNYXRjaD9maXJzdFBhdGhTZWdtZW50TWF0Y2hbMV06cGF0aCl9dmFyIHdpdGhvdXRCYXNlVXJsPWJlZ2luc1dpdGgoYXBwQmFzZSx1cmwpfHxiZWdpbnNXaXRoKGFwcEJhc2VOb0ZpbGUsdXJsKSx3aXRob3V0SGFzaFVybD0iIyI9PXdpdGhvdXRCYXNlVXJsLmNoYXJBdCgwKT9iZWdpbnNXaXRoKGhhc2hQcmVmaXgsd2l0aG91dEJhc2VVcmwpOnRoaXMuJCRodG1sNT93aXRob3V0QmFzZVVybDoiIjtpZighaXNTdHJpbmcod2l0aG91dEhhc2hVcmwpKXRocm93ICRsb2NhdGlvbk1pbkVycigiaWhzaHByZngiLCdJbnZhbGlkIHVybCAiezB9IiwgbWlzc2luZyBoYXNoIHByZWZpeCAiezF9Ii4nLHVybCxoYXNoUHJlZml4KTtwYXJzZUFwcFVybCh3aXRob3V0SGFzaFVybCx0aGlzLGFwcEJhc2UpLHRoaXMuJCRwYXRoPXJlbW92ZVdpbmRvd3NEcml2ZU5hbWUodGhpcy4kJHBhdGgsd2l0aG91dEhhc2hVcmwsYXBwQmFzZSksdGhpcy4kJGNvbXBvc2UoKX0sdGhpcy4kJGNvbXBvc2U9ZnVuY3Rpb24oKXt2YXIgc2VhcmNoPXRvS2V5VmFsdWUodGhpcy4kJHNlYXJjaCksaGFzaD10aGlzLiQkaGFzaD8iIyIrZW5jb2RlVXJpU2VnbWVudCh0aGlzLiQkaGFzaCk6IiI7dGhpcy4kJHVybD1lbmNvZGVQYXRoKHRoaXMuJCRwYXRoKSsoc2VhcmNoPyI/IitzZWFyY2g6IiIpK2hhc2gsdGhpcy4kJGFic1VybD1hcHBCYXNlKyh0aGlzLiQkdXJsP2hhc2hQcmVmaXgrdGhpcy4kJHVybDoiIil9LHRoaXMuJCRyZXdyaXRlPWZ1bmN0aW9uKHVybCl7cmV0dXJuIHN0cmlwSGFzaChhcHBCYXNlKT09c3RyaXBIYXNoKHVybCk/dXJsOnZvaWQgMH19ZnVuY3Rpb24gTG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmwoYXBwQmFzZSxoYXNoUHJlZml4KXt0aGlzLiQkaHRtbDU9ITAsTG9jYXRpb25IYXNoYmFuZ1VybC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGFwcEJhc2VOb0ZpbGU9c3RyaXBGaWxlKGFwcEJhc2UpO3RoaXMuJCRyZXdyaXRlPWZ1bmN0aW9uKHVybCl7dmFyIGFwcFVybDtyZXR1cm4gYXBwQmFzZT09c3RyaXBIYXNoKHVybCk/dXJsOihhcHBVcmw9YmVnaW5zV2l0aChhcHBCYXNlTm9GaWxlLHVybCkpP2FwcEJhc2UraGFzaFByZWZpeCthcHBVcmw6YXBwQmFzZU5vRmlsZT09PXVybCsiLyI/YXBwQmFzZU5vRmlsZTp2b2lkIDB9LHRoaXMuJCRjb21wb3NlPWZ1bmN0aW9uKCl7dmFyIHNlYXJjaD10b0tleVZhbHVlKHRoaXMuJCRzZWFyY2gpLGhhc2g9dGhpcy4kJGhhc2g/IiMiK2VuY29kZVVyaVNlZ21lbnQodGhpcy4kJGhhc2gpOiIiO3RoaXMuJCR1cmw9ZW5jb2RlUGF0aCh0aGlzLiQkcGF0aCkrKHNlYXJjaD8iPyIrc2VhcmNoOiIiKStoYXNoLHRoaXMuJCRhYnNVcmw9YXBwQmFzZStoYXNoUHJlZml4K3RoaXMuJCR1cmx9fWZ1bmN0aW9uIGxvY2F0aW9uR2V0dGVyKHByb3BlcnR5KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1twcm9wZXJ0eV19fWZ1bmN0aW9uIGxvY2F0aW9uR2V0dGVyU2V0dGVyKHByb3BlcnR5LHByZXByb2Nlc3Mpe3JldHVybiBmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGlzVW5kZWZpbmVkKHZhbHVlKT90aGlzW3Byb3BlcnR5XToodGhpc1twcm9wZXJ0eV09cHJlcHJvY2Vzcyh2YWx1ZSksdGhpcy4kJGNvbXBvc2UoKSx0aGlzKX19ZnVuY3Rpb24gJExvY2F0aW9uUHJvdmlkZXIoKXt2YXIgaGFzaFByZWZpeD0iIixodG1sNU1vZGU9ITE7dGhpcy5oYXNoUHJlZml4PWZ1bmN0aW9uKHByZWZpeCl7cmV0dXJuIGlzRGVmaW5lZChwcmVmaXgpPyhoYXNoUHJlZml4PXByZWZpeCx0aGlzKTpoYXNoUHJlZml4fSx0aGlzLmh0bWw1TW9kZT1mdW5jdGlvbihtb2RlKXtyZXR1cm4gaXNEZWZpbmVkKG1vZGUpPyhodG1sNU1vZGU9bW9kZSx0aGlzKTpodG1sNU1vZGV9LHRoaXMuJGdldD1bIiRyb290U2NvcGUiLCIkYnJvd3NlciIsIiRzbmlmZmVyIiwiJHJvb3RFbGVtZW50IixmdW5jdGlvbigkcm9vdFNjb3BlLCRicm93c2VyLCRzbmlmZmVyLCRyb290RWxlbWVudCl7ZnVuY3Rpb24gYWZ0ZXJMb2NhdGlvbkNoYW5nZShvbGRVcmwpeyRyb290U2NvcGUuJGJyb2FkY2FzdCgiJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcyIsJGxvY2F0aW9uLmFic1VybCgpLG9sZFVybCl9dmFyICRsb2NhdGlvbixMb2NhdGlvbk1vZGUsYXBwQmFzZSxiYXNlSHJlZj0kYnJvd3Nlci5iYXNlSHJlZigpLGluaXRpYWxVcmw9JGJyb3dzZXIudXJsKCk7aHRtbDVNb2RlPyhhcHBCYXNlPXNlcnZlckJhc2UoaW5pdGlhbFVybCkrKGJhc2VIcmVmfHwiLyIpLExvY2F0aW9uTW9kZT0kc25pZmZlci5oaXN0b3J5P0xvY2F0aW9uSHRtbDVVcmw6TG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmwpOihhcHBCYXNlPXN0cmlwSGFzaChpbml0aWFsVXJsKSxMb2NhdGlvbk1vZGU9TG9jYXRpb25IYXNoYmFuZ1VybCksJGxvY2F0aW9uPW5ldyBMb2NhdGlvbk1vZGUoYXBwQmFzZSwiIyIraGFzaFByZWZpeCksJGxvY2F0aW9uLiQkcGFyc2UoJGxvY2F0aW9uLiQkcmV3cml0ZShpbml0aWFsVXJsKSk7dmFyIElHTk9SRV9VUklfUkVHRVhQPS9eXHMqKGphdmFzY3JpcHR8bWFpbHRvKTovaTskcm9vdEVsZW1lbnQub24oImNsaWNrIixmdW5jdGlvbihldmVudCl7aWYoIWV2ZW50LmN0cmxLZXkmJiFldmVudC5tZXRhS2V5JiYyIT1ldmVudC53aGljaCl7Zm9yKHZhciBlbG09anFMaXRlKGV2ZW50LnRhcmdldCk7ImEiIT09bG93ZXJjYXNlKGVsbVswXS5ub2RlTmFtZSk7KWlmKGVsbVswXT09PSRyb290RWxlbWVudFswXXx8IShlbG09ZWxtLnBhcmVudCgpKVswXSlyZXR1cm47dmFyIGFic0hyZWY9ZWxtLnByb3AoImhyZWYiKTtpZihpc09iamVjdChhYnNIcmVmKSYmIltvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddIj09PWFic0hyZWYudG9TdHJpbmcoKSYmKGFic0hyZWY9dXJsUmVzb2x2ZShhYnNIcmVmLmFuaW1WYWwpLmhyZWYpLCFJR05PUkVfVVJJX1JFR0VYUC50ZXN0KGFic0hyZWYpKXtpZihMb2NhdGlvbk1vZGU9PT1Mb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybCl7dmFyIGhyZWY9ZWxtLmF0dHIoImhyZWYiKXx8ZWxtLmF0dHIoInhsaW5rOmhyZWYiKTtpZihocmVmJiZocmVmLmluZGV4T2YoIjovLyIpPDApe3ZhciBwcmVmaXg9IiMiK2hhc2hQcmVmaXg7aWYoIi8iPT1ocmVmWzBdKWFic0hyZWY9YXBwQmFzZStwcmVmaXgraHJlZjtlbHNlIGlmKCIjIj09aHJlZlswXSlhYnNIcmVmPWFwcEJhc2UrcHJlZml4KygkbG9jYXRpb24ucGF0aCgpfHwiLyIpK2hyZWY7ZWxzZXt2YXIgc3RhY2s9JGxvY2F0aW9uLnBhdGgoKS5zcGxpdCgiLyIpLHBhcnRzPWhyZWYuc3BsaXQoIi8iKTsyIT09c3RhY2subGVuZ3RofHxzdGFja1sxXXx8KHN0YWNrLmxlbmd0aD0xKTtmb3IodmFyIGk9MDtpPHBhcnRzLmxlbmd0aDtpKyspIi4iIT1wYXJ0c1tpXSYmKCIuLiI9PXBhcnRzW2ldP3N0YWNrLnBvcCgpOnBhcnRzW2ldLmxlbmd0aCYmc3RhY2sucHVzaChwYXJ0c1tpXSkpO2Fic0hyZWY9YXBwQmFzZStwcmVmaXgrc3RhY2suam9pbigiLyIpfX19dmFyIHJld3JpdHRlblVybD0kbG9jYXRpb24uJCRyZXdyaXRlKGFic0hyZWYpO2Fic0hyZWYmJiFlbG0uYXR0cigidGFyZ2V0IikmJnJld3JpdHRlblVybCYmIWV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpJiYoZXZlbnQucHJldmVudERlZmF1bHQoKSxyZXdyaXR0ZW5VcmwhPSRicm93c2VyLnVybCgpJiYoJGxvY2F0aW9uLiQkcGFyc2UocmV3cml0dGVuVXJsKSwkcm9vdFNjb3BlLiRhcHBseSgpLHdpbmRvdy5hbmd1bGFyWyJmZi02ODQyMDgtcHJldmVudERlZmF1bHQiXT0hMCkpfX19KSwkbG9jYXRpb24uYWJzVXJsKCkhPWluaXRpYWxVcmwmJiRicm93c2VyLnVybCgkbG9jYXRpb24uYWJzVXJsKCksITApLCRicm93c2VyLm9uVXJsQ2hhbmdlKGZ1bmN0aW9uKG5ld1VybCl7JGxvY2F0aW9uLmFic1VybCgpIT1uZXdVcmwmJigkcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKXt2YXIgb2xkVXJsPSRsb2NhdGlvbi5hYnNVcmwoKTskbG9jYXRpb24uJCRwYXJzZShuZXdVcmwpLCRyb290U2NvcGUuJGJyb2FkY2FzdCgiJGxvY2F0aW9uQ2hhbmdlU3RhcnQiLG5ld1VybCxvbGRVcmwpLmRlZmF1bHRQcmV2ZW50ZWQ/KCRsb2NhdGlvbi4kJHBhcnNlKG9sZFVybCksJGJyb3dzZXIudXJsKG9sZFVybCkpOmFmdGVyTG9jYXRpb25DaGFuZ2Uob2xkVXJsKX0pLCRyb290U2NvcGUuJCRwaGFzZXx8JHJvb3RTY29wZS4kZGlnZXN0KCkpfSk7dmFyIGNoYW5nZUNvdW50ZXI9MDtyZXR1cm4gJHJvb3RTY29wZS4kd2F0Y2goZnVuY3Rpb24oKXt2YXIgb2xkVXJsPSRicm93c2VyLnVybCgpLGN1cnJlbnRSZXBsYWNlPSRsb2NhdGlvbi4kJHJlcGxhY2U7cmV0dXJuIGNoYW5nZUNvdW50ZXImJm9sZFVybD09JGxvY2F0aW9uLmFic1VybCgpfHwoY2hhbmdlQ291bnRlcisrLCRyb290U2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpeyRyb290U2NvcGUuJGJyb2FkY2FzdCgiJGxvY2F0aW9uQ2hhbmdlU3RhcnQiLCRsb2NhdGlvbi5hYnNVcmwoKSxvbGRVcmwpLmRlZmF1bHRQcmV2ZW50ZWQ/JGxvY2F0aW9uLiQkcGFyc2Uob2xkVXJsKTooJGJyb3dzZXIudXJsKCRsb2NhdGlvbi5hYnNVcmwoKSxjdXJyZW50UmVwbGFjZSksYWZ0ZXJMb2NhdGlvbkNoYW5nZShvbGRVcmwpKX0pKSwkbG9jYXRpb24uJCRyZXBsYWNlPSExLGNoYW5nZUNvdW50ZXJ9KSwkbG9jYXRpb259XX1mdW5jdGlvbiAkTG9nUHJvdmlkZXIoKXt2YXIgZGVidWc9ITAsc2VsZj10aGlzO3RoaXMuZGVidWdFbmFibGVkPWZ1bmN0aW9uKGZsYWcpe3JldHVybiBpc0RlZmluZWQoZmxhZyk/KGRlYnVnPWZsYWcsdGhpcyk6ZGVidWd9LHRoaXMuJGdldD1bIiR3aW5kb3ciLGZ1bmN0aW9uKCR3aW5kb3cpe2Z1bmN0aW9uIGZvcm1hdEVycm9yKGFyZyl7cmV0dXJuIGFyZyBpbnN0YW5jZW9mIEVycm9yJiYoYXJnLnN0YWNrP2FyZz1hcmcubWVzc2FnZSYmLTE9PT1hcmcuc3RhY2suaW5kZXhPZihhcmcubWVzc2FnZSk/IkVycm9yOiAiK2FyZy5tZXNzYWdlKyJcbiIrYXJnLnN0YWNrOmFyZy5zdGFjazphcmcuc291cmNlVVJMJiYoYXJnPWFyZy5tZXNzYWdlKyJcbiIrYXJnLnNvdXJjZVVSTCsiOiIrYXJnLmxpbmUpKSxhcmd9ZnVuY3Rpb24gY29uc29sZUxvZyh0eXBlKXt2YXIgY29uc29sZT0kd2luZG93LmNvbnNvbGV8fHt9LGxvZ0ZuPWNvbnNvbGVbdHlwZV18fGNvbnNvbGUubG9nfHxub29wLGhhc0FwcGx5PSExO3RyeXtoYXNBcHBseT0hIWxvZ0ZuLmFwcGx5fWNhdGNoKGUpe31yZXR1cm4gaGFzQXBwbHk/ZnVuY3Rpb24oKXt2YXIgYXJncz1bXTtyZXR1cm4gZm9yRWFjaChhcmd1bWVudHMsZnVuY3Rpb24oYXJnKXthcmdzLnB1c2goZm9ybWF0RXJyb3IoYXJnKSl9KSxsb2dGbi5hcHBseShjb25zb2xlLGFyZ3MpfTpmdW5jdGlvbihhcmcxLGFyZzIpe2xvZ0ZuKGFyZzEsbnVsbD09YXJnMj8iIjphcmcyKX19cmV0dXJue2xvZzpjb25zb2xlTG9nKCJsb2ciKSxpbmZvOmNvbnNvbGVMb2coImluZm8iKSx3YXJuOmNvbnNvbGVMb2coIndhcm4iKSxlcnJvcjpjb25zb2xlTG9nKCJlcnJvciIpLGRlYnVnOmZ1bmN0aW9uKCl7dmFyIGZuPWNvbnNvbGVMb2coImRlYnVnIik7cmV0dXJuIGZ1bmN0aW9uKCl7ZGVidWcmJmZuLmFwcGx5KHNlbGYsYXJndW1lbnRzKX19KCl9fV19ZnVuY3Rpb24gZW5zdXJlU2FmZU1lbWJlck5hbWUobmFtZSxmdWxsRXhwcmVzc2lvbil7aWYoIl9fZGVmaW5lR2V0dGVyX18iPT09bmFtZXx8Il9fZGVmaW5lU2V0dGVyX18iPT09bmFtZXx8Il9fbG9va3VwR2V0dGVyX18iPT09bmFtZXx8Il9fbG9va3VwU2V0dGVyX18iPT09bmFtZXx8Il9fcHJvdG9fXyI9PT1uYW1lKXRocm93ICRwYXJzZU1pbkVycigiaXNlY2ZsZCIsIkF0dGVtcHRpbmcgdG8gYWNjZXNzIGEgZGlzYWxsb3dlZCBmaWVsZCBpbiBBbmd1bGFyIGV4cHJlc3Npb25zISBFeHByZXNzaW9uOiB7MH0iLGZ1bGxFeHByZXNzaW9uKTtyZXR1cm4gbmFtZX1mdW5jdGlvbiBlbnN1cmVTYWZlT2JqZWN0KG9iaixmdWxsRXhwcmVzc2lvbil7aWYob2JqKXtpZihvYmouY29uc3RydWN0b3I9PT1vYmopdGhyb3cgJHBhcnNlTWluRXJyKCJpc2VjZm4iLCJSZWZlcmVuY2luZyBGdW5jdGlvbiBpbiBBbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRpc2FsbG93ZWQhIEV4cHJlc3Npb246IHswfSIsZnVsbEV4cHJlc3Npb24pO2lmKG9iai5kb2N1bWVudCYmb2JqLmxvY2F0aW9uJiZvYmouYWxlcnQmJm9iai5zZXRJbnRlcnZhbCl0aHJvdyAkcGFyc2VNaW5FcnIoImlzZWN3aW5kb3ciLCJSZWZlcmVuY2luZyB0aGUgV2luZG93IGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9IixmdWxsRXhwcmVzc2lvbik7aWYob2JqLmNoaWxkcmVuJiYob2JqLm5vZGVOYW1lfHxvYmoucHJvcCYmb2JqLmF0dHImJm9iai5maW5kKSl0aHJvdyAkcGFyc2VNaW5FcnIoImlzZWNkb20iLCJSZWZlcmVuY2luZyBET00gbm9kZXMgaW4gQW5ndWxhciBleHByZXNzaW9ucyBpcyBkaXNhbGxvd2VkISBFeHByZXNzaW9uOiB7MH0iLGZ1bGxFeHByZXNzaW9uKTtpZihvYmo9PT1PYmplY3QpdGhyb3cgJHBhcnNlTWluRXJyKCJpc2Vjb2JqIiwiUmVmZXJlbmNpbmcgT2JqZWN0IGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9IixmdWxsRXhwcmVzc2lvbil9cmV0dXJuIG9ian1mdW5jdGlvbiBlbnN1cmVTYWZlRnVuY3Rpb24ob2JqLGZ1bGxFeHByZXNzaW9uKXtpZihvYmope2lmKG9iai5jb25zdHJ1Y3Rvcj09PW9iail0aHJvdyAkcGFyc2VNaW5FcnIoImlzZWNmbiIsIlJlZmVyZW5jaW5nIEZ1bmN0aW9uIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9IixmdWxsRXhwcmVzc2lvbik7aWYob2JqPT09Q0FMTHx8b2JqPT09QVBQTFl8fEJJTkQmJm9iaj09PUJJTkQpdGhyb3cgJHBhcnNlTWluRXJyKCJpc2VjZmYiLCJSZWZlcmVuY2luZyBjYWxsLCBhcHBseSBvciBiaW5kIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9IixmdWxsRXhwcmVzc2lvbikKfX1mdW5jdGlvbiBzZXR0ZXIob2JqLHBhdGgsc2V0VmFsdWUsZnVsbEV4cCxvcHRpb25zKXtlbnN1cmVTYWZlT2JqZWN0KG9iaixmdWxsRXhwKSxvcHRpb25zPW9wdGlvbnN8fHt9O2Zvcih2YXIga2V5LGVsZW1lbnQ9cGF0aC5zcGxpdCgiLiIpLGk9MDtlbGVtZW50Lmxlbmd0aD4xO2krKyl7a2V5PWVuc3VyZVNhZmVNZW1iZXJOYW1lKGVsZW1lbnQuc2hpZnQoKSxmdWxsRXhwKTt2YXIgcHJvcGVydHlPYmo9ZW5zdXJlU2FmZU9iamVjdChvYmpba2V5XSxmdWxsRXhwKTtwcm9wZXJ0eU9ianx8KHByb3BlcnR5T2JqPXt9LG9ialtrZXldPXByb3BlcnR5T2JqKSxvYmo9cHJvcGVydHlPYmosb2JqLnRoZW4mJm9wdGlvbnMudW53cmFwUHJvbWlzZXMmJihwcm9taXNlV2FybmluZyhmdWxsRXhwKSwiJCR2ImluIG9ianx8IWZ1bmN0aW9uKHByb21pc2Upe3Byb21pc2UudGhlbihmdW5jdGlvbih2YWwpe3Byb21pc2UuJCR2PXZhbH0pfShvYmopLG9iai4kJHY9PT11bmRlZmluZWQmJihvYmouJCR2PXt9KSxvYmo9b2JqLiQkdil9cmV0dXJuIGtleT1lbnN1cmVTYWZlTWVtYmVyTmFtZShlbGVtZW50LnNoaWZ0KCksZnVsbEV4cCksZW5zdXJlU2FmZU9iamVjdChvYmpba2V5XSxmdWxsRXhwKSxvYmpba2V5XT1zZXRWYWx1ZSxzZXRWYWx1ZX1mdW5jdGlvbiBjc3BTYWZlR2V0dGVyRm4oa2V5MCxrZXkxLGtleTIsa2V5MyxrZXk0LGZ1bGxFeHAsb3B0aW9ucyl7cmV0dXJuIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGtleTAsZnVsbEV4cCksZW5zdXJlU2FmZU1lbWJlck5hbWUoa2V5MSxmdWxsRXhwKSxlbnN1cmVTYWZlTWVtYmVyTmFtZShrZXkyLGZ1bGxFeHApLGVuc3VyZVNhZmVNZW1iZXJOYW1lKGtleTMsZnVsbEV4cCksZW5zdXJlU2FmZU1lbWJlck5hbWUoa2V5NCxmdWxsRXhwKSxvcHRpb25zLnVud3JhcFByb21pc2VzP2Z1bmN0aW9uKHNjb3BlLGxvY2Fscyl7dmFyIHByb21pc2UscGF0aFZhbD1sb2NhbHMmJmxvY2Fscy5oYXNPd25Qcm9wZXJ0eShrZXkwKT9sb2NhbHM6c2NvcGU7cmV0dXJuIG51bGw9PXBhdGhWYWw/cGF0aFZhbDoocGF0aFZhbD1wYXRoVmFsW2tleTBdLHBhdGhWYWwmJnBhdGhWYWwudGhlbiYmKHByb21pc2VXYXJuaW5nKGZ1bGxFeHApLCIkJHYiaW4gcGF0aFZhbHx8KHByb21pc2U9cGF0aFZhbCxwcm9taXNlLiQkdj11bmRlZmluZWQscHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbCl7cHJvbWlzZS4kJHY9dmFsfSkpLHBhdGhWYWw9cGF0aFZhbC4kJHYpLGtleTE/bnVsbD09cGF0aFZhbD91bmRlZmluZWQ6KHBhdGhWYWw9cGF0aFZhbFtrZXkxXSxwYXRoVmFsJiZwYXRoVmFsLnRoZW4mJihwcm9taXNlV2FybmluZyhmdWxsRXhwKSwiJCR2ImluIHBhdGhWYWx8fChwcm9taXNlPXBhdGhWYWwscHJvbWlzZS4kJHY9dW5kZWZpbmVkLHByb21pc2UudGhlbihmdW5jdGlvbih2YWwpe3Byb21pc2UuJCR2PXZhbH0pKSxwYXRoVmFsPXBhdGhWYWwuJCR2KSxrZXkyP251bGw9PXBhdGhWYWw/dW5kZWZpbmVkOihwYXRoVmFsPXBhdGhWYWxba2V5Ml0scGF0aFZhbCYmcGF0aFZhbC50aGVuJiYocHJvbWlzZVdhcm5pbmcoZnVsbEV4cCksIiQkdiJpbiBwYXRoVmFsfHwocHJvbWlzZT1wYXRoVmFsLHByb21pc2UuJCR2PXVuZGVmaW5lZCxwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsKXtwcm9taXNlLiQkdj12YWx9KSkscGF0aFZhbD1wYXRoVmFsLiQkdiksa2V5Mz9udWxsPT1wYXRoVmFsP3VuZGVmaW5lZDoocGF0aFZhbD1wYXRoVmFsW2tleTNdLHBhdGhWYWwmJnBhdGhWYWwudGhlbiYmKHByb21pc2VXYXJuaW5nKGZ1bGxFeHApLCIkJHYiaW4gcGF0aFZhbHx8KHByb21pc2U9cGF0aFZhbCxwcm9taXNlLiQkdj11bmRlZmluZWQscHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbCl7cHJvbWlzZS4kJHY9dmFsfSkpLHBhdGhWYWw9cGF0aFZhbC4kJHYpLGtleTQ/bnVsbD09cGF0aFZhbD91bmRlZmluZWQ6KHBhdGhWYWw9cGF0aFZhbFtrZXk0XSxwYXRoVmFsJiZwYXRoVmFsLnRoZW4mJihwcm9taXNlV2FybmluZyhmdWxsRXhwKSwiJCR2ImluIHBhdGhWYWx8fChwcm9taXNlPXBhdGhWYWwscHJvbWlzZS4kJHY9dW5kZWZpbmVkLHByb21pc2UudGhlbihmdW5jdGlvbih2YWwpe3Byb21pc2UuJCR2PXZhbH0pKSxwYXRoVmFsPXBhdGhWYWwuJCR2KSxwYXRoVmFsKTpwYXRoVmFsKTpwYXRoVmFsKTpwYXRoVmFsKTpwYXRoVmFsKX06ZnVuY3Rpb24oc2NvcGUsbG9jYWxzKXt2YXIgcGF0aFZhbD1sb2NhbHMmJmxvY2Fscy5oYXNPd25Qcm9wZXJ0eShrZXkwKT9sb2NhbHM6c2NvcGU7cmV0dXJuIG51bGw9PXBhdGhWYWw/cGF0aFZhbDoocGF0aFZhbD1wYXRoVmFsW2tleTBdLGtleTE/bnVsbD09cGF0aFZhbD91bmRlZmluZWQ6KHBhdGhWYWw9cGF0aFZhbFtrZXkxXSxrZXkyP251bGw9PXBhdGhWYWw/dW5kZWZpbmVkOihwYXRoVmFsPXBhdGhWYWxba2V5Ml0sa2V5Mz9udWxsPT1wYXRoVmFsP3VuZGVmaW5lZDoocGF0aFZhbD1wYXRoVmFsW2tleTNdLGtleTQ/bnVsbD09cGF0aFZhbD91bmRlZmluZWQ6cGF0aFZhbD1wYXRoVmFsW2tleTRdOnBhdGhWYWwpOnBhdGhWYWwpOnBhdGhWYWwpOnBhdGhWYWwpfX1mdW5jdGlvbiBnZXR0ZXJGbihwYXRoLG9wdGlvbnMsZnVsbEV4cCl7aWYoZ2V0dGVyRm5DYWNoZS5oYXNPd25Qcm9wZXJ0eShwYXRoKSlyZXR1cm4gZ2V0dGVyRm5DYWNoZVtwYXRoXTt2YXIgZm4scGF0aEtleXM9cGF0aC5zcGxpdCgiLiIpLHBhdGhLZXlzTGVuZ3RoPXBhdGhLZXlzLmxlbmd0aDtpZihvcHRpb25zLmNzcClmbj02PnBhdGhLZXlzTGVuZ3RoP2NzcFNhZmVHZXR0ZXJGbihwYXRoS2V5c1swXSxwYXRoS2V5c1sxXSxwYXRoS2V5c1syXSxwYXRoS2V5c1szXSxwYXRoS2V5c1s0XSxmdWxsRXhwLG9wdGlvbnMpOmZ1bmN0aW9uKHNjb3BlLGxvY2Fscyl7dmFyIHZhbCxpPTA7ZG8gdmFsPWNzcFNhZmVHZXR0ZXJGbihwYXRoS2V5c1tpKytdLHBhdGhLZXlzW2krK10scGF0aEtleXNbaSsrXSxwYXRoS2V5c1tpKytdLHBhdGhLZXlzW2krK10sZnVsbEV4cCxvcHRpb25zKShzY29wZSxsb2NhbHMpLGxvY2Fscz11bmRlZmluZWQsc2NvcGU9dmFsO3doaWxlKHBhdGhLZXlzTGVuZ3RoPmkpO3JldHVybiB2YWx9O2Vsc2V7dmFyIGNvZGU9InZhciBwO1xuIjtmb3JFYWNoKHBhdGhLZXlzLGZ1bmN0aW9uKGtleSxpbmRleCl7ZW5zdXJlU2FmZU1lbWJlck5hbWUoa2V5LGZ1bGxFeHApLGNvZGUrPSJpZihzID09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7XG5zPSIrKGluZGV4PyJzIjonKChrJiZrLmhhc093blByb3BlcnR5KCInK2tleSsnIikpP2s6cyknKSsnWyInK2tleSsnIl07XG4nKyhvcHRpb25zLnVud3JhcFByb21pc2VzPydpZiAocyAmJiBzLnRoZW4pIHtcbiBwdygiJytmdWxsRXhwLnJlcGxhY2UoLyhbIlxyXG5dKS9nLCJcXCQxIikrJyIpO1xuIGlmICghKCIkJHYiIGluIHMpKSB7XG4gcD1zO1xuIHAuJCR2ID0gdW5kZWZpbmVkO1xuIHAudGhlbihmdW5jdGlvbih2KSB7cC4kJHY9djt9KTtcbn1cbiBzPXMuJCR2XG59XG4nOiIiKX0pLGNvZGUrPSJyZXR1cm4gczsiO3ZhciBldmFsZWRGbkdldHRlcj1uZXcgRnVuY3Rpb24oInMiLCJrIiwicHciLGNvZGUpO2V2YWxlZEZuR2V0dGVyLnRvU3RyaW5nPXZhbHVlRm4oY29kZSksZm49b3B0aW9ucy51bndyYXBQcm9taXNlcz9mdW5jdGlvbihzY29wZSxsb2NhbHMpe3JldHVybiBldmFsZWRGbkdldHRlcihzY29wZSxsb2NhbHMscHJvbWlzZVdhcm5pbmcpfTpldmFsZWRGbkdldHRlcn1yZXR1cm4iaGFzT3duUHJvcGVydHkiIT09cGF0aCYmKGdldHRlckZuQ2FjaGVbcGF0aF09Zm4pLGZufWZ1bmN0aW9uICRQYXJzZVByb3ZpZGVyKCl7dmFyIGNhY2hlPXt9LCRwYXJzZU9wdGlvbnM9e2NzcDohMSx1bndyYXBQcm9taXNlczohMSxsb2dQcm9taXNlV2FybmluZ3M6ITB9O3RoaXMudW53cmFwUHJvbWlzZXM9ZnVuY3Rpb24odmFsdWUpe3JldHVybiBpc0RlZmluZWQodmFsdWUpPygkcGFyc2VPcHRpb25zLnVud3JhcFByb21pc2VzPSEhdmFsdWUsdGhpcyk6JHBhcnNlT3B0aW9ucy51bndyYXBQcm9taXNlc30sdGhpcy5sb2dQcm9taXNlV2FybmluZ3M9ZnVuY3Rpb24odmFsdWUpe3JldHVybiBpc0RlZmluZWQodmFsdWUpPygkcGFyc2VPcHRpb25zLmxvZ1Byb21pc2VXYXJuaW5ncz12YWx1ZSx0aGlzKTokcGFyc2VPcHRpb25zLmxvZ1Byb21pc2VXYXJuaW5nc30sdGhpcy4kZ2V0PVsiJGZpbHRlciIsIiRzbmlmZmVyIiwiJGxvZyIsZnVuY3Rpb24oJGZpbHRlciwkc25pZmZlciwkbG9nKXtyZXR1cm4gJHBhcnNlT3B0aW9ucy5jc3A9JHNuaWZmZXIuY3NwLHByb21pc2VXYXJuaW5nPWZ1bmN0aW9uKGZ1bGxFeHApeyRwYXJzZU9wdGlvbnMubG9nUHJvbWlzZVdhcm5pbmdzJiYhcHJvbWlzZVdhcm5pbmdDYWNoZS5oYXNPd25Qcm9wZXJ0eShmdWxsRXhwKSYmKHByb21pc2VXYXJuaW5nQ2FjaGVbZnVsbEV4cF09ITAsJGxvZy53YXJuKCJbJHBhcnNlXSBQcm9taXNlIGZvdW5kIGluIHRoZSBleHByZXNzaW9uIGAiK2Z1bGxFeHArImAuIEF1dG9tYXRpYyB1bndyYXBwaW5nIG9mIHByb21pc2VzIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGVwcmVjYXRlZC4iKSl9LGZ1bmN0aW9uKGV4cCl7dmFyIHBhcnNlZEV4cHJlc3Npb247c3dpdGNoKHR5cGVvZiBleHApe2Nhc2Uic3RyaW5nIjppZihjYWNoZS5oYXNPd25Qcm9wZXJ0eShleHApKXJldHVybiBjYWNoZVtleHBdO3ZhciBsZXhlcj1uZXcgTGV4ZXIoJHBhcnNlT3B0aW9ucykscGFyc2VyPW5ldyBQYXJzZXIobGV4ZXIsJGZpbHRlciwkcGFyc2VPcHRpb25zKTtyZXR1cm4gcGFyc2VkRXhwcmVzc2lvbj1wYXJzZXIucGFyc2UoZXhwKSwiaGFzT3duUHJvcGVydHkiIT09ZXhwJiYoY2FjaGVbZXhwXT1wYXJzZWRFeHByZXNzaW9uKSxwYXJzZWRFeHByZXNzaW9uO2Nhc2UiZnVuY3Rpb24iOnJldHVybiBleHA7ZGVmYXVsdDpyZXR1cm4gbm9vcH19fV19ZnVuY3Rpb24gJFFQcm92aWRlcigpe3RoaXMuJGdldD1bIiRyb290U2NvcGUiLCIkZXhjZXB0aW9uSGFuZGxlciIsZnVuY3Rpb24oJHJvb3RTY29wZSwkZXhjZXB0aW9uSGFuZGxlcil7cmV0dXJuIHFGYWN0b3J5KGZ1bmN0aW9uKGNhbGxiYWNrKXskcm9vdFNjb3BlLiRldmFsQXN5bmMoY2FsbGJhY2spfSwkZXhjZXB0aW9uSGFuZGxlcil9XX1mdW5jdGlvbiBxRmFjdG9yeShuZXh0VGljayxleGNlcHRpb25IYW5kbGVyKXtmdW5jdGlvbiBkZWZhdWx0Q2FsbGJhY2sodmFsdWUpe3JldHVybiB2YWx1ZX1mdW5jdGlvbiBkZWZhdWx0RXJyYmFjayhyZWFzb24pe3JldHVybiByZWplY3QocmVhc29uKX1mdW5jdGlvbiBhbGwocHJvbWlzZXMpe3ZhciBkZWZlcnJlZD1kZWZlcigpLGNvdW50ZXI9MCxyZXN1bHRzPWlzQXJyYXkocHJvbWlzZXMpP1tdOnt9O3JldHVybiBmb3JFYWNoKHByb21pc2VzLGZ1bmN0aW9uKHByb21pc2Usa2V5KXtjb3VudGVyKysscmVmKHByb21pc2UpLnRoZW4oZnVuY3Rpb24odmFsdWUpe3Jlc3VsdHMuaGFzT3duUHJvcGVydHkoa2V5KXx8KHJlc3VsdHNba2V5XT12YWx1ZSwtLWNvdW50ZXJ8fGRlZmVycmVkLnJlc29sdmUocmVzdWx0cykpfSxmdW5jdGlvbihyZWFzb24pe3Jlc3VsdHMuaGFzT3duUHJvcGVydHkoa2V5KXx8ZGVmZXJyZWQucmVqZWN0KHJlYXNvbil9KX0pLDA9PT1jb3VudGVyJiZkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdHMpLGRlZmVycmVkLnByb21pc2V9dmFyIGRlZmVyPWZ1bmN0aW9uKCl7dmFyIHZhbHVlLGRlZmVycmVkLHBlbmRpbmc9W107cmV0dXJuIGRlZmVycmVkPXtyZXNvbHZlOmZ1bmN0aW9uKHZhbCl7aWYocGVuZGluZyl7dmFyIGNhbGxiYWNrcz1wZW5kaW5nO3BlbmRpbmc9dW5kZWZpbmVkLHZhbHVlPXJlZih2YWwpLGNhbGxiYWNrcy5sZW5ndGgmJm5leHRUaWNrKGZ1bmN0aW9uKCl7Zm9yKHZhciBjYWxsYmFjayxpPTAsaWk9Y2FsbGJhY2tzLmxlbmd0aDtpaT5pO2krKyljYWxsYmFjaz1jYWxsYmFja3NbaV0sdmFsdWUudGhlbihjYWxsYmFja1swXSxjYWxsYmFja1sxXSxjYWxsYmFja1syXSl9KX19LHJlamVjdDpmdW5jdGlvbihyZWFzb24pe2RlZmVycmVkLnJlc29sdmUoY3JlYXRlSW50ZXJuYWxSZWplY3RlZFByb21pc2UocmVhc29uKSl9LG5vdGlmeTpmdW5jdGlvbihwcm9ncmVzcyl7aWYocGVuZGluZyl7dmFyIGNhbGxiYWNrcz1wZW5kaW5nO3BlbmRpbmcubGVuZ3RoJiZuZXh0VGljayhmdW5jdGlvbigpe2Zvcih2YXIgY2FsbGJhY2ssaT0wLGlpPWNhbGxiYWNrcy5sZW5ndGg7aWk+aTtpKyspY2FsbGJhY2s9Y2FsbGJhY2tzW2ldLGNhbGxiYWNrWzJdKHByb2dyZXNzKX0pfX0scHJvbWlzZTp7dGhlbjpmdW5jdGlvbihjYWxsYmFjayxlcnJiYWNrLHByb2dyZXNzYmFjayl7dmFyIHJlc3VsdD1kZWZlcigpLHdyYXBwZWRDYWxsYmFjaz1mdW5jdGlvbih2YWx1ZSl7dHJ5e3Jlc3VsdC5yZXNvbHZlKChpc0Z1bmN0aW9uKGNhbGxiYWNrKT9jYWxsYmFjazpkZWZhdWx0Q2FsbGJhY2spKHZhbHVlKSl9Y2F0Y2goZSl7cmVzdWx0LnJlamVjdChlKSxleGNlcHRpb25IYW5kbGVyKGUpfX0sd3JhcHBlZEVycmJhY2s9ZnVuY3Rpb24ocmVhc29uKXt0cnl7cmVzdWx0LnJlc29sdmUoKGlzRnVuY3Rpb24oZXJyYmFjayk/ZXJyYmFjazpkZWZhdWx0RXJyYmFjaykocmVhc29uKSl9Y2F0Y2goZSl7cmVzdWx0LnJlamVjdChlKSxleGNlcHRpb25IYW5kbGVyKGUpfX0sd3JhcHBlZFByb2dyZXNzYmFjaz1mdW5jdGlvbihwcm9ncmVzcyl7dHJ5e3Jlc3VsdC5ub3RpZnkoKGlzRnVuY3Rpb24ocHJvZ3Jlc3NiYWNrKT9wcm9ncmVzc2JhY2s6ZGVmYXVsdENhbGxiYWNrKShwcm9ncmVzcykpfWNhdGNoKGUpe2V4Y2VwdGlvbkhhbmRsZXIoZSl9fTtyZXR1cm4gcGVuZGluZz9wZW5kaW5nLnB1c2goW3dyYXBwZWRDYWxsYmFjayx3cmFwcGVkRXJyYmFjayx3cmFwcGVkUHJvZ3Jlc3NiYWNrXSk6dmFsdWUudGhlbih3cmFwcGVkQ2FsbGJhY2ssd3JhcHBlZEVycmJhY2ssd3JhcHBlZFByb2dyZXNzYmFjaykscmVzdWx0LnByb21pc2V9LCJjYXRjaCI6ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB0aGlzLnRoZW4obnVsbCxjYWxsYmFjayl9LCJmaW5hbGx5IjpmdW5jdGlvbihjYWxsYmFjayl7ZnVuY3Rpb24gbWFrZVByb21pc2UodmFsdWUscmVzb2x2ZWQpe3ZhciByZXN1bHQ9ZGVmZXIoKTtyZXR1cm4gcmVzb2x2ZWQ/cmVzdWx0LnJlc29sdmUodmFsdWUpOnJlc3VsdC5yZWplY3QodmFsdWUpLHJlc3VsdC5wcm9taXNlfWZ1bmN0aW9uIGhhbmRsZUNhbGxiYWNrKHZhbHVlLGlzUmVzb2x2ZWQpe3ZhciBjYWxsYmFja091dHB1dD1udWxsO3RyeXtjYWxsYmFja091dHB1dD0oY2FsbGJhY2t8fGRlZmF1bHRDYWxsYmFjaykoKX1jYXRjaChlKXtyZXR1cm4gbWFrZVByb21pc2UoZSwhMSl9cmV0dXJuIGlzUHJvbWlzZUxpa2UoY2FsbGJhY2tPdXRwdXQpP2NhbGxiYWNrT3V0cHV0LnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbWFrZVByb21pc2UodmFsdWUsaXNSZXNvbHZlZCl9LGZ1bmN0aW9uKGVycm9yKXtyZXR1cm4gbWFrZVByb21pc2UoZXJyb3IsITEpfSk6bWFrZVByb21pc2UodmFsdWUsaXNSZXNvbHZlZCl9cmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGhhbmRsZUNhbGxiYWNrKHZhbHVlLCEwKX0sZnVuY3Rpb24oZXJyb3Ipe3JldHVybiBoYW5kbGVDYWxsYmFjayhlcnJvciwhMSl9KX19fX0scmVmPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gaXNQcm9taXNlTGlrZSh2YWx1ZSk/dmFsdWU6e3RoZW46ZnVuY3Rpb24oY2FsbGJhY2spe3ZhciByZXN1bHQ9ZGVmZXIoKTtyZXR1cm4gbmV4dFRpY2soZnVuY3Rpb24oKXtyZXN1bHQucmVzb2x2ZShjYWxsYmFjayh2YWx1ZSkpfSkscmVzdWx0LnByb21pc2V9fX0scmVqZWN0PWZ1bmN0aW9uKHJlYXNvbil7dmFyIHJlc3VsdD1kZWZlcigpO3JldHVybiByZXN1bHQucmVqZWN0KHJlYXNvbikscmVzdWx0LnByb21pc2V9LGNyZWF0ZUludGVybmFsUmVqZWN0ZWRQcm9taXNlPWZ1bmN0aW9uKHJlYXNvbil7cmV0dXJue3RoZW46ZnVuY3Rpb24oY2FsbGJhY2ssZXJyYmFjayl7dmFyIHJlc3VsdD1kZWZlcigpO3JldHVybiBuZXh0VGljayhmdW5jdGlvbigpe3RyeXtyZXN1bHQucmVzb2x2ZSgoaXNGdW5jdGlvbihlcnJiYWNrKT9lcnJiYWNrOmRlZmF1bHRFcnJiYWNrKShyZWFzb24pKX1jYXRjaChlKXtyZXN1bHQucmVqZWN0KGUpLGV4Y2VwdGlvbkhhbmRsZXIoZSl9fSkscmVzdWx0LnByb21pc2V9fX0sd2hlbj1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJiYWNrLHByb2dyZXNzYmFjayl7dmFyIGRvbmUscmVzdWx0PWRlZmVyKCksd3JhcHBlZENhbGxiYWNrPWZ1bmN0aW9uKHZhbHVlKXt0cnl7cmV0dXJuKGlzRnVuY3Rpb24oY2FsbGJhY2spP2NhbGxiYWNrOmRlZmF1bHRDYWxsYmFjaykodmFsdWUpfWNhdGNoKGUpe3JldHVybiBleGNlcHRpb25IYW5kbGVyKGUpLHJlamVjdChlKX19LHdyYXBwZWRFcnJiYWNrPWZ1bmN0aW9uKHJlYXNvbil7dHJ5e3JldHVybihpc0Z1bmN0aW9uKGVycmJhY2spP2VycmJhY2s6ZGVmYXVsdEVycmJhY2spKHJlYXNvbil9Y2F0Y2goZSl7cmV0dXJuIGV4Y2VwdGlvbkhhbmRsZXIoZSkscmVqZWN0KGUpfX0sd3JhcHBlZFByb2dyZXNzYmFjaz1mdW5jdGlvbihwcm9ncmVzcyl7dHJ5e3JldHVybihpc0Z1bmN0aW9uKHByb2dyZXNzYmFjayk/cHJvZ3Jlc3NiYWNrOmRlZmF1bHRDYWxsYmFjaykocHJvZ3Jlc3MpfWNhdGNoKGUpe2V4Y2VwdGlvbkhhbmRsZXIoZSl9fTtyZXR1cm4gbmV4dFRpY2soZnVuY3Rpb24oKXtyZWYodmFsdWUpLnRoZW4oZnVuY3Rpb24odmFsdWUpe2RvbmV8fChkb25lPSEwLHJlc3VsdC5yZXNvbHZlKHJlZih2YWx1ZSkudGhlbih3cmFwcGVkQ2FsbGJhY2ssd3JhcHBlZEVycmJhY2ssd3JhcHBlZFByb2dyZXNzYmFjaykpKX0sZnVuY3Rpb24ocmVhc29uKXtkb25lfHwoZG9uZT0hMCxyZXN1bHQucmVzb2x2ZSh3cmFwcGVkRXJyYmFjayhyZWFzb24pKSl9LGZ1bmN0aW9uKHByb2dyZXNzKXtkb25lfHxyZXN1bHQubm90aWZ5KHdyYXBwZWRQcm9ncmVzc2JhY2socHJvZ3Jlc3MpKX0pfSkscmVzdWx0LnByb21pc2V9O3JldHVybntkZWZlcjpkZWZlcixyZWplY3Q6cmVqZWN0LHdoZW46d2hlbixhbGw6YWxsfX1mdW5jdGlvbiAkJFJBRlByb3ZpZGVyKCl7dGhpcy4kZ2V0PVsiJHdpbmRvdyIsIiR0aW1lb3V0IixmdW5jdGlvbigkd2luZG93LCR0aW1lb3V0KXt2YXIgcmVxdWVzdEFuaW1hdGlvbkZyYW1lPSR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHwkd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8JHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUsY2FuY2VsQW5pbWF0aW9uRnJhbWU9JHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZXx8JHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZXx8JHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZXx8JHdpbmRvdy53ZWJraXRDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUscmFmU3VwcG9ydGVkPSEhcmVxdWVzdEFuaW1hdGlvbkZyYW1lLHJhZj1yYWZTdXBwb3J0ZWQ/ZnVuY3Rpb24oZm4pe3ZhciBpZD1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZm4pO3JldHVybiBmdW5jdGlvbigpe2NhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKX19OmZ1bmN0aW9uKGZuKXt2YXIgdGltZXI9JHRpbWVvdXQoZm4sMTYuNjYsITEpO3JldHVybiBmdW5jdGlvbigpeyR0aW1lb3V0LmNhbmNlbCh0aW1lcil9fTtyZXR1cm4gcmFmLnN1cHBvcnRlZD1yYWZTdXBwb3J0ZWQscmFmfV19ZnVuY3Rpb24gJFJvb3RTY29wZVByb3ZpZGVyKCl7dmFyIFRUTD0xMCwkcm9vdFNjb3BlTWluRXJyPW1pbkVycigiJHJvb3RTY29wZSIpLGxhc3REaXJ0eVdhdGNoPW51bGw7dGhpcy5kaWdlc3RUdGw9ZnVuY3Rpb24odmFsdWUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoJiYoVFRMPXZhbHVlKSxUVEx9LHRoaXMuJGdldD1bIiRpbmplY3RvciIsIiRleGNlcHRpb25IYW5kbGVyIiwiJHBhcnNlIiwiJGJyb3dzZXIiLGZ1bmN0aW9uKCRpbmplY3RvciwkZXhjZXB0aW9uSGFuZGxlciwkcGFyc2UsJGJyb3dzZXIpe2Z1bmN0aW9uIFNjb3BlKCl7dGhpcy4kaWQ9bmV4dFVpZCgpLHRoaXMuJCRwaGFzZT10aGlzLiRwYXJlbnQ9dGhpcy4kJHdhdGNoZXJzPXRoaXMuJCRuZXh0U2libGluZz10aGlzLiQkcHJldlNpYmxpbmc9dGhpcy4kJGNoaWxkSGVhZD10aGlzLiQkY2hpbGRUYWlsPW51bGwsdGhpc1sidGhpcyJdPXRoaXMuJHJvb3Q9dGhpcyx0aGlzLiQkZGVzdHJveWVkPSExLHRoaXMuJCRhc3luY1F1ZXVlPVtdLHRoaXMuJCRwb3N0RGlnZXN0UXVldWU9W10sdGhpcy4kJGxpc3RlbmVycz17fSx0aGlzLiQkbGlzdGVuZXJDb3VudD17fSx0aGlzLiQkaXNvbGF0ZUJpbmRpbmdzPXt9fWZ1bmN0aW9uIGJlZ2luUGhhc2UocGhhc2Upe2lmKCRyb290U2NvcGUuJCRwaGFzZSl0aHJvdyAkcm9vdFNjb3BlTWluRXJyKCJpbnByb2ciLCJ7MH0gYWxyZWFkeSBpbiBwcm9ncmVzcyIsJHJvb3RTY29wZS4kJHBoYXNlKTskcm9vdFNjb3BlLiQkcGhhc2U9cGhhc2V9ZnVuY3Rpb24gY2xlYXJQaGFzZSgpeyRyb290U2NvcGUuJCRwaGFzZT1udWxsfWZ1bmN0aW9uIGNvbXBpbGVUb0ZuKGV4cCxuYW1lKXt2YXIgZm49JHBhcnNlKGV4cCk7cmV0dXJuIGFzc2VydEFyZ0ZuKGZuLG5hbWUpLGZufWZ1bmN0aW9uIGRlY3JlbWVudExpc3RlbmVyQ291bnQoY3VycmVudCxjb3VudCxuYW1lKXtkbyBjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXS09Y291bnQsMD09PWN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdJiZkZWxldGUgY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV07d2hpbGUoY3VycmVudD1jdXJyZW50LiRwYXJlbnQpfWZ1bmN0aW9uIGluaXRXYXRjaFZhbCgpe31TY29wZS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlNjb3BlLCRuZXc6ZnVuY3Rpb24oaXNvbGF0ZSl7dmFyIGNoaWxkO3JldHVybiBpc29sYXRlPyhjaGlsZD1uZXcgU2NvcGUsY2hpbGQuJHJvb3Q9dGhpcy4kcm9vdCxjaGlsZC4kJGFzeW5jUXVldWU9dGhpcy4kJGFzeW5jUXVldWUsY2hpbGQuJCRwb3N0RGlnZXN0UXVldWU9dGhpcy4kJHBvc3REaWdlc3RRdWV1ZSk6KHRoaXMuJCRjaGlsZFNjb3BlQ2xhc3N8fCh0aGlzLiQkY2hpbGRTY29wZUNsYXNzPWZ1bmN0aW9uKCl7dGhpcy4kJHdhdGNoZXJzPXRoaXMuJCRuZXh0U2libGluZz10aGlzLiQkY2hpbGRIZWFkPXRoaXMuJCRjaGlsZFRhaWw9bnVsbCx0aGlzLiQkbGlzdGVuZXJzPXt9LHRoaXMuJCRsaXN0ZW5lckNvdW50PXt9LHRoaXMuJGlkPW5leHRVaWQoKSx0aGlzLiQkY2hpbGRTY29wZUNsYXNzPW51bGx9LHRoaXMuJCRjaGlsZFNjb3BlQ2xhc3MucHJvdG90eXBlPXRoaXMpLGNoaWxkPW5ldyB0aGlzLiQkY2hpbGRTY29wZUNsYXNzKSxjaGlsZFsidGhpcyJdPWNoaWxkLGNoaWxkLiRwYXJlbnQ9dGhpcyxjaGlsZC4kJHByZXZTaWJsaW5nPXRoaXMuJCRjaGlsZFRhaWwsdGhpcy4kJGNoaWxkSGVhZD8odGhpcy4kJGNoaWxkVGFpbC4kJG5leHRTaWJsaW5nPWNoaWxkLHRoaXMuJCRjaGlsZFRhaWw9Y2hpbGQpOnRoaXMuJCRjaGlsZEhlYWQ9dGhpcy4kJGNoaWxkVGFpbD1jaGlsZCxjaGlsZH0sJHdhdGNoOmZ1bmN0aW9uKHdhdGNoRXhwLGxpc3RlbmVyLG9iamVjdEVxdWFsaXR5KXt2YXIgc2NvcGU9dGhpcyxnZXQ9Y29tcGlsZVRvRm4od2F0Y2hFeHAsIndhdGNoIiksYXJyYXk9c2NvcGUuJCR3YXRjaGVycyx3YXRjaGVyPXtmbjpsaXN0ZW5lcixsYXN0OmluaXRXYXRjaFZhbCxnZXQ6Z2V0LGV4cDp3YXRjaEV4cCxlcTohIW9iamVjdEVxdWFsaXR5fTtpZihsYXN0RGlydHlXYXRjaD1udWxsLCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSl7dmFyIGxpc3RlbkZuPWNvbXBpbGVUb0ZuKGxpc3RlbmVyfHxub29wLCJsaXN0ZW5lciIpO3dhdGNoZXIuZm49ZnVuY3Rpb24obmV3VmFsLG9sZFZhbCxzY29wZSl7bGlzdGVuRm4oc2NvcGUpfX1pZigic3RyaW5nIj09dHlwZW9mIHdhdGNoRXhwJiZnZXQuY29uc3RhbnQpe3ZhciBvcmlnaW5hbEZuPXdhdGNoZXIuZm47d2F0Y2hlci5mbj1mdW5jdGlvbihuZXdWYWwsb2xkVmFsLHNjb3BlKXtvcmlnaW5hbEZuLmNhbGwodGhpcyxuZXdWYWwsb2xkVmFsLHNjb3BlKSxhcnJheVJlbW92ZShhcnJheSx3YXRjaGVyKX19cmV0dXJuIGFycmF5fHwoYXJyYXk9c2NvcGUuJCR3YXRjaGVycz1bXSksYXJyYXkudW5zaGlmdCh3YXRjaGVyKSxmdW5jdGlvbigpe2FycmF5UmVtb3ZlKGFycmF5LHdhdGNoZXIpLGxhc3REaXJ0eVdhdGNoPW51bGx9fSwkd2F0Y2hDb2xsZWN0aW9uOmZ1bmN0aW9uKG9iaixsaXN0ZW5lcil7ZnVuY3Rpb24gJHdhdGNoQ29sbGVjdGlvbldhdGNoKCl7bmV3VmFsdWU9b2JqR2V0dGVyKHNlbGYpO3ZhciBuZXdMZW5ndGgsa2V5LGJvdGhOYU47aWYoaXNPYmplY3QobmV3VmFsdWUpKWlmKGlzQXJyYXlMaWtlKG5ld1ZhbHVlKSl7b2xkVmFsdWUhPT1pbnRlcm5hbEFycmF5JiYob2xkVmFsdWU9aW50ZXJuYWxBcnJheSxvbGRMZW5ndGg9b2xkVmFsdWUubGVuZ3RoPTAsY2hhbmdlRGV0ZWN0ZWQrKyksbmV3TGVuZ3RoPW5ld1ZhbHVlLmxlbmd0aCxvbGRMZW5ndGghPT1uZXdMZW5ndGgmJihjaGFuZ2VEZXRlY3RlZCsrLG9sZFZhbHVlLmxlbmd0aD1vbGRMZW5ndGg9bmV3TGVuZ3RoKTtmb3IodmFyIGk9MDtuZXdMZW5ndGg+aTtpKyspYm90aE5hTj1vbGRWYWx1ZVtpXSE9PW9sZFZhbHVlW2ldJiZuZXdWYWx1ZVtpXSE9PW5ld1ZhbHVlW2ldLGJvdGhOYU58fG9sZFZhbHVlW2ldPT09bmV3VmFsdWVbaV18fChjaGFuZ2VEZXRlY3RlZCsrLG9sZFZhbHVlW2ldPW5ld1ZhbHVlW2ldKX1lbHNle29sZFZhbHVlIT09aW50ZXJuYWxPYmplY3QmJihvbGRWYWx1ZT1pbnRlcm5hbE9iamVjdD17fSxvbGRMZW5ndGg9MCxjaGFuZ2VEZXRlY3RlZCsrKSxuZXdMZW5ndGg9MDtmb3Ioa2V5IGluIG5ld1ZhbHVlKW5ld1ZhbHVlLmhhc093blByb3BlcnR5KGtleSkmJihuZXdMZW5ndGgrKyxvbGRWYWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpPyhib3RoTmFOPW9sZFZhbHVlW2tleV0hPT1vbGRWYWx1ZVtrZXldJiZuZXdWYWx1ZVtrZXldIT09bmV3VmFsdWVba2V5XSxib3RoTmFOfHxvbGRWYWx1ZVtrZXldPT09bmV3VmFsdWVba2V5XXx8KGNoYW5nZURldGVjdGVkKyssb2xkVmFsdWVba2V5XT1uZXdWYWx1ZVtrZXldKSk6KG9sZExlbmd0aCsrLG9sZFZhbHVlW2tleV09bmV3VmFsdWVba2V5XSxjaGFuZ2VEZXRlY3RlZCsrKSk7aWYob2xkTGVuZ3RoPm5ld0xlbmd0aCl7Y2hhbmdlRGV0ZWN0ZWQrKztmb3Ioa2V5IGluIG9sZFZhbHVlKW9sZFZhbHVlLmhhc093blByb3BlcnR5KGtleSkmJiFuZXdWYWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpJiYob2xkTGVuZ3RoLS0sZGVsZXRlIG9sZFZhbHVlW2tleV0pfX1lbHNlIG9sZFZhbHVlIT09bmV3VmFsdWUmJihvbGRWYWx1ZT1uZXdWYWx1ZSxjaGFuZ2VEZXRlY3RlZCsrKTtyZXR1cm4gY2hhbmdlRGV0ZWN0ZWR9ZnVuY3Rpb24gJHdhdGNoQ29sbGVjdGlvbkFjdGlvbigpe2lmKGluaXRSdW4/KGluaXRSdW49ITEsbGlzdGVuZXIobmV3VmFsdWUsbmV3VmFsdWUsc2VsZikpOmxpc3RlbmVyKG5ld1ZhbHVlLHZlcnlPbGRWYWx1ZSxzZWxmKSx0cmFja1ZlcnlPbGRWYWx1ZSlpZihpc09iamVjdChuZXdWYWx1ZSkpaWYoaXNBcnJheUxpa2UobmV3VmFsdWUpKXt2ZXJ5T2xkVmFsdWU9bmV3IEFycmF5KG5ld1ZhbHVlLmxlbmd0aCk7Zm9yKHZhciBpPTA7aTxuZXdWYWx1ZS5sZW5ndGg7aSsrKXZlcnlPbGRWYWx1ZVtpXT1uZXdWYWx1ZVtpXX1lbHNle3ZlcnlPbGRWYWx1ZT17fTtmb3IodmFyIGtleSBpbiBuZXdWYWx1ZSloYXNPd25Qcm9wZXJ0eS5jYWxsKG5ld1ZhbHVlLGtleSkmJih2ZXJ5T2xkVmFsdWVba2V5XT1uZXdWYWx1ZVtrZXldKX1lbHNlIHZlcnlPbGRWYWx1ZT1uZXdWYWx1ZX12YXIgbmV3VmFsdWUsb2xkVmFsdWUsdmVyeU9sZFZhbHVlLHNlbGY9dGhpcyx0cmFja1ZlcnlPbGRWYWx1ZT1saXN0ZW5lci5sZW5ndGg+MSxjaGFuZ2VEZXRlY3RlZD0wLG9iakdldHRlcj0kcGFyc2Uob2JqKSxpbnRlcm5hbEFycmF5PVtdLGludGVybmFsT2JqZWN0PXt9LGluaXRSdW49ITAsb2xkTGVuZ3RoPTA7cmV0dXJuIHRoaXMuJHdhdGNoKCR3YXRjaENvbGxlY3Rpb25XYXRjaCwkd2F0Y2hDb2xsZWN0aW9uQWN0aW9uKX0sJGRpZ2VzdDpmdW5jdGlvbigpe3ZhciB3YXRjaCx2YWx1ZSxsYXN0LHdhdGNoZXJzLGxlbmd0aCxkaXJ0eSxuZXh0LGN1cnJlbnQsbG9nSWR4LGxvZ01zZyxhc3luY1Rhc2ssYXN5bmNRdWV1ZT10aGlzLiQkYXN5bmNRdWV1ZSxwb3N0RGlnZXN0UXVldWU9dGhpcy4kJHBvc3REaWdlc3RRdWV1ZSx0dGw9VFRMLHRhcmdldD10aGlzLHdhdGNoTG9nPVtdO2JlZ2luUGhhc2UoIiRkaWdlc3QiKSwkYnJvd3Nlci4kJGNoZWNrVXJsQ2hhbmdlKCksbGFzdERpcnR5V2F0Y2g9bnVsbDtkb3tmb3IoZGlydHk9ITEsY3VycmVudD10YXJnZXQ7YXN5bmNRdWV1ZS5sZW5ndGg7KXt0cnl7YXN5bmNUYXNrPWFzeW5jUXVldWUuc2hpZnQoKSxhc3luY1Rhc2suc2NvcGUuJGV2YWwoYXN5bmNUYXNrLmV4cHJlc3Npb24pfWNhdGNoKGUpe2NsZWFyUGhhc2UoKSwkZXhjZXB0aW9uSGFuZGxlcihlKX1sYXN0RGlydHlXYXRjaD1udWxsfXRyYXZlcnNlU2NvcGVzTG9vcDpkb3tpZih3YXRjaGVycz1jdXJyZW50LiQkd2F0Y2hlcnMpZm9yKGxlbmd0aD13YXRjaGVycy5sZW5ndGg7bGVuZ3RoLS07KXRyeXtpZih3YXRjaD13YXRjaGVyc1tsZW5ndGhdKWlmKCh2YWx1ZT13YXRjaC5nZXQoY3VycmVudCkpPT09KGxhc3Q9d2F0Y2gubGFzdCl8fCh3YXRjaC5lcT9lcXVhbHModmFsdWUsbGFzdCk6Im51bWJlciI9PXR5cGVvZiB2YWx1ZSYmIm51bWJlciI9PXR5cGVvZiBsYXN0JiZpc05hTih2YWx1ZSkmJmlzTmFOKGxhc3QpKSl7aWYod2F0Y2g9PT1sYXN0RGlydHlXYXRjaCl7ZGlydHk9ITE7YnJlYWsgdHJhdmVyc2VTY29wZXNMb29wfX1lbHNlIGRpcnR5PSEwLGxhc3REaXJ0eVdhdGNoPXdhdGNoLHdhdGNoLmxhc3Q9d2F0Y2guZXE/Y29weSh2YWx1ZSxudWxsKTp2YWx1ZSx3YXRjaC5mbih2YWx1ZSxsYXN0PT09aW5pdFdhdGNoVmFsP3ZhbHVlOmxhc3QsY3VycmVudCksNT50dGwmJihsb2dJZHg9NC10dGwsd2F0Y2hMb2dbbG9nSWR4XXx8KHdhdGNoTG9nW2xvZ0lkeF09W10pLGxvZ01zZz1pc0Z1bmN0aW9uKHdhdGNoLmV4cCk/ImZuOiAiKyh3YXRjaC5leHAubmFtZXx8d2F0Y2guZXhwLnRvU3RyaW5nKCkpOndhdGNoLmV4cCxsb2dNc2crPSI7IG5ld1ZhbDogIit0b0pzb24odmFsdWUpKyI7IG9sZFZhbDogIit0b0pzb24obGFzdCksd2F0Y2hMb2dbbG9nSWR4XS5wdXNoKGxvZ01zZykpfWNhdGNoKGUpe2NsZWFyUGhhc2UoKSwkZXhjZXB0aW9uSGFuZGxlcihlKX1pZighKG5leHQ9Y3VycmVudC4kJGNoaWxkSGVhZHx8Y3VycmVudCE9PXRhcmdldCYmY3VycmVudC4kJG5leHRTaWJsaW5nKSlmb3IoO2N1cnJlbnQhPT10YXJnZXQmJiEobmV4dD1jdXJyZW50LiQkbmV4dFNpYmxpbmcpOyljdXJyZW50PWN1cnJlbnQuJHBhcmVudH13aGlsZShjdXJyZW50PW5leHQpO2lmKChkaXJ0eXx8YXN5bmNRdWV1ZS5sZW5ndGgpJiYhdHRsLS0pdGhyb3cgY2xlYXJQaGFzZSgpLCRyb290U2NvcGVNaW5FcnIoImluZmRpZyIsInswfSAkZGlnZXN0KCkgaXRlcmF0aW9ucyByZWFjaGVkLiBBYm9ydGluZyFcbldhdGNoZXJzIGZpcmVkIGluIHRoZSBsYXN0IDUgaXRlcmF0aW9uczogezF9IixUVEwsdG9Kc29uKHdhdGNoTG9nKSl9d2hpbGUoZGlydHl8fGFzeW5jUXVldWUubGVuZ3RoKTtmb3IoY2xlYXJQaGFzZSgpO3Bvc3REaWdlc3RRdWV1ZS5sZW5ndGg7KXRyeXtwb3N0RGlnZXN0UXVldWUuc2hpZnQoKSgpfWNhdGNoKGUpeyRleGNlcHRpb25IYW5kbGVyKGUpfX0sJGRlc3Ryb3k6ZnVuY3Rpb24oKXtpZighdGhpcy4kJGRlc3Ryb3llZCl7dmFyIHBhcmVudD10aGlzLiRwYXJlbnQ7dGhpcy4kYnJvYWRjYXN0KCIkZGVzdHJveSIpLHRoaXMuJCRkZXN0cm95ZWQ9ITAsdGhpcyE9PSRyb290U2NvcGUmJihmb3JFYWNoKHRoaXMuJCRsaXN0ZW5lckNvdW50LGJpbmQobnVsbCxkZWNyZW1lbnRMaXN0ZW5lckNvdW50LHRoaXMpKSxwYXJlbnQuJCRjaGlsZEhlYWQ9PXRoaXMmJihwYXJlbnQuJCRjaGlsZEhlYWQ9dGhpcy4kJG5leHRTaWJsaW5nKSxwYXJlbnQuJCRjaGlsZFRhaWw9PXRoaXMmJihwYXJlbnQuJCRjaGlsZFRhaWw9dGhpcy4kJHByZXZTaWJsaW5nKSx0aGlzLiQkcHJldlNpYmxpbmcmJih0aGlzLiQkcHJldlNpYmxpbmcuJCRuZXh0U2libGluZz10aGlzLiQkbmV4dFNpYmxpbmcpLHRoaXMuJCRuZXh0U2libGluZyYmKHRoaXMuJCRuZXh0U2libGluZy4kJHByZXZTaWJsaW5nPXRoaXMuJCRwcmV2U2libGluZyksdGhpcy4kcGFyZW50PXRoaXMuJCRuZXh0U2libGluZz10aGlzLiQkcHJldlNpYmxpbmc9dGhpcy4kJGNoaWxkSGVhZD10aGlzLiQkY2hpbGRUYWlsPXRoaXMuJHJvb3Q9bnVsbCx0aGlzLiQkbGlzdGVuZXJzPXt9LHRoaXMuJCR3YXRjaGVycz10aGlzLiQkYXN5bmNRdWV1ZT10aGlzLiQkcG9zdERpZ2VzdFF1ZXVlPVtdLHRoaXMuJGRlc3Ryb3k9dGhpcy4kZGlnZXN0PXRoaXMuJGFwcGx5PW5vb3AsdGhpcy4kb249dGhpcy4kd2F0Y2g9ZnVuY3Rpb24oKXtyZXR1cm4gbm9vcH0pfX0sJGV2YWw6ZnVuY3Rpb24oZXhwcixsb2NhbHMpe3JldHVybiAkcGFyc2UoZXhwcikodGhpcyxsb2NhbHMpfSwkZXZhbEFzeW5jOmZ1bmN0aW9uKGV4cHIpeyRyb290U2NvcGUuJCRwaGFzZXx8JHJvb3RTY29wZS4kJGFzeW5jUXVldWUubGVuZ3RofHwkYnJvd3Nlci5kZWZlcihmdW5jdGlvbigpeyRyb290U2NvcGUuJCRhc3luY1F1ZXVlLmxlbmd0aCYmJHJvb3RTY29wZS4kZGlnZXN0KCl9KSx0aGlzLiQkYXN5bmNRdWV1ZS5wdXNoKHtzY29wZTp0aGlzLGV4cHJlc3Npb246ZXhwcn0pfSwkJHBvc3REaWdlc3Q6ZnVuY3Rpb24oZm4pe3RoaXMuJCRwb3N0RGlnZXN0UXVldWUucHVzaChmbil9LCRhcHBseTpmdW5jdGlvbihleHByKXt0cnl7cmV0dXJuIGJlZ2luUGhhc2UoIiRhcHBseSIpLHRoaXMuJGV2YWwoZXhwcil9Y2F0Y2goZSl7JGV4Y2VwdGlvbkhhbmRsZXIoZSl9ZmluYWxseXtjbGVhclBoYXNlKCk7dHJ5eyRyb290U2NvcGUuJGRpZ2VzdCgpfWNhdGNoKGUpe3Rocm93ICRleGNlcHRpb25IYW5kbGVyKGUpLGV9fX0sJG9uOmZ1bmN0aW9uKG5hbWUsbGlzdGVuZXIpe3ZhciBuYW1lZExpc3RlbmVycz10aGlzLiQkbGlzdGVuZXJzW25hbWVdO25hbWVkTGlzdGVuZXJzfHwodGhpcy4kJGxpc3RlbmVyc1tuYW1lXT1uYW1lZExpc3RlbmVycz1bXSksbmFtZWRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7dmFyIGN1cnJlbnQ9dGhpcztkbyBjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXXx8KGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdPTApLGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdKys7d2hpbGUoY3VycmVudD1jdXJyZW50LiRwYXJlbnQpO3ZhciBzZWxmPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKCl7bmFtZWRMaXN0ZW5lcnNbaW5kZXhPZihuYW1lZExpc3RlbmVycyxsaXN0ZW5lcildPW51bGwsZGVjcmVtZW50TGlzdGVuZXJDb3VudChzZWxmLDEsbmFtZSl9fSwkZW1pdDpmdW5jdGlvbihuYW1lKXt2YXIgbmFtZWRMaXN0ZW5lcnMsaSxsZW5ndGgsZW1wdHk9W10sc2NvcGU9dGhpcyxzdG9wUHJvcGFnYXRpb249ITEsZXZlbnQ9e25hbWU6bmFtZSx0YXJnZXRTY29wZTpzY29wZSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXtzdG9wUHJvcGFnYXRpb249ITB9LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7ZXZlbnQuZGVmYXVsdFByZXZlbnRlZD0hMH0sZGVmYXVsdFByZXZlbnRlZDohMX0sbGlzdGVuZXJBcmdzPWNvbmNhdChbZXZlbnRdLGFyZ3VtZW50cywxKTtkb3tmb3IobmFtZWRMaXN0ZW5lcnM9c2NvcGUuJCRsaXN0ZW5lcnNbbmFtZV18fGVtcHR5LGV2ZW50LmN1cnJlbnRTY29wZT1zY29wZSxpPTAsbGVuZ3RoPW5hbWVkTGlzdGVuZXJzLmxlbmd0aDtsZW5ndGg+aTtpKyspaWYobmFtZWRMaXN0ZW5lcnNbaV0pdHJ5e25hbWVkTGlzdGVuZXJzW2ldLmFwcGx5KG51bGwsbGlzdGVuZXJBcmdzKX1jYXRjaChlKXskZXhjZXB0aW9uSGFuZGxlcihlKX1lbHNlIG5hbWVkTGlzdGVuZXJzLnNwbGljZShpLDEpLGktLSxsZW5ndGgtLTtpZihzdG9wUHJvcGFnYXRpb24pcmV0dXJuIGV2ZW50O3Njb3BlPXNjb3BlLiRwYXJlbnR9d2hpbGUoc2NvcGUpO3JldHVybiBldmVudH0sJGJyb2FkY2FzdDpmdW5jdGlvbihuYW1lKXtmb3IodmFyIGxpc3RlbmVycyxpLGxlbmd0aCx0YXJnZXQ9dGhpcyxjdXJyZW50PXRhcmdldCxuZXh0PXRhcmdldCxldmVudD17bmFtZTpuYW1lLHRhcmdldFNjb3BlOnRhcmdldCxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe2V2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ9ITB9LGRlZmF1bHRQcmV2ZW50ZWQ6ITF9LGxpc3RlbmVyQXJncz1jb25jYXQoW2V2ZW50XSxhcmd1bWVudHMsMSk7Y3VycmVudD1uZXh0Oyl7Zm9yKGV2ZW50LmN1cnJlbnRTY29wZT1jdXJyZW50LGxpc3RlbmVycz1jdXJyZW50LiQkbGlzdGVuZXJzW25hbWVdfHxbXSxpPTAsbGVuZ3RoPWxpc3RlbmVycy5sZW5ndGg7bGVuZ3RoPmk7aSsrKWlmKGxpc3RlbmVyc1tpXSl0cnl7bGlzdGVuZXJzW2ldLmFwcGx5KG51bGwsbGlzdGVuZXJBcmdzKX1jYXRjaChlKXskZXhjZXB0aW9uSGFuZGxlcihlKX1lbHNlIGxpc3RlbmVycy5zcGxpY2UoaSwxKSxpLS0sbGVuZ3RoLS07aWYoIShuZXh0PWN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdJiZjdXJyZW50LiQkY2hpbGRIZWFkfHxjdXJyZW50IT09dGFyZ2V0JiZjdXJyZW50LiQkbmV4dFNpYmxpbmcpKWZvcig7Y3VycmVudCE9PXRhcmdldCYmIShuZXh0PWN1cnJlbnQuJCRuZXh0U2libGluZyk7KWN1cnJlbnQ9Y3VycmVudC4kcGFyZW50fXJldHVybiBldmVudH19O3ZhciAkcm9vdFNjb3BlPW5ldyBTY29wZTtyZXR1cm4gJHJvb3RTY29wZX1dfWZ1bmN0aW9uICQkU2FuaXRpemVVcmlQcm92aWRlcigpe3ZhciBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdD0vXlxzKihodHRwcz98ZnRwfG1haWx0b3x0ZWx8ZmlsZSk6LyxpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3Q9L15ccyooKGh0dHBzP3xmdHB8ZmlsZSk6fGRhdGE6aW1hZ2VcLykvO3RoaXMuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3Q9ZnVuY3Rpb24ocmVnZXhwKXtyZXR1cm4gaXNEZWZpbmVkKHJlZ2V4cCk/KGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0PXJlZ2V4cCx0aGlzKTphSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdH0sdGhpcy5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3Q9ZnVuY3Rpb24ocmVnZXhwKXtyZXR1cm4gaXNEZWZpbmVkKHJlZ2V4cCk/KGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdD1yZWdleHAsdGhpcyk6aW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0fSx0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odXJpLGlzSW1hZ2Upe3ZhciBub3JtYWxpemVkVmFsLHJlZ2V4PWlzSW1hZ2U/aW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0OmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0O3JldHVybiBtc2llJiYhKG1zaWU+PTgpfHwobm9ybWFsaXplZFZhbD11cmxSZXNvbHZlKHVyaSkuaHJlZiwiIj09PW5vcm1hbGl6ZWRWYWx8fG5vcm1hbGl6ZWRWYWwubWF0Y2gocmVnZXgpKT91cmk6InVuc2FmZToiK25vcm1hbGl6ZWRWYWx9fX1mdW5jdGlvbiBlc2NhcGVGb3JSZWdleHAocyl7cmV0dXJuIHMucmVwbGFjZSgvKFstKClcW1xde30rPyouJFxefCw6IzwhXFxdKS9nLCJcXCQxIikucmVwbGFjZSgvXHgwOC9nLCJcXHgwOCIpfWZ1bmN0aW9uIGFkanVzdE1hdGNoZXIobWF0Y2hlcil7aWYoInNlbGYiPT09bWF0Y2hlcilyZXR1cm4gbWF0Y2hlcjtpZihpc1N0cmluZyhtYXRjaGVyKSl7aWYobWF0Y2hlci5pbmRleE9mKCIqKioiKT4tMSl0aHJvdyAkc2NlTWluRXJyKCJpd2NhcmQiLCJJbGxlZ2FsIHNlcXVlbmNlICoqKiBpbiBzdHJpbmcgbWF0Y2hlci4gIFN0cmluZzogezB9IixtYXRjaGVyKTtyZXR1cm4gbWF0Y2hlcj1lc2NhcGVGb3JSZWdleHAobWF0Y2hlcikucmVwbGFjZSgiXFwqXFwqIiwiLioiKS5yZXBsYWNlKCJcXCoiLCJbXjovLj8mO10qIiksbmV3IFJlZ0V4cCgiXiIrbWF0Y2hlcisiJCIpfWlmKGlzUmVnRXhwKG1hdGNoZXIpKXJldHVybiBuZXcgUmVnRXhwKCJeIittYXRjaGVyLnNvdXJjZSsiJCIpO3Rocm93ICRzY2VNaW5FcnIoImltYXRjaGVyIiwnTWF0Y2hlcnMgbWF5IG9ubHkgYmUgInNlbGYiLCBzdHJpbmcgcGF0dGVybnMgb3IgUmVnRXhwIG9iamVjdHMnKX1mdW5jdGlvbiBhZGp1c3RNYXRjaGVycyhtYXRjaGVycyl7dmFyIGFkanVzdGVkTWF0Y2hlcnM9W107cmV0dXJuIGlzRGVmaW5lZChtYXRjaGVycykmJmZvckVhY2gobWF0Y2hlcnMsZnVuY3Rpb24obWF0Y2hlcil7YWRqdXN0ZWRNYXRjaGVycy5wdXNoKGFkanVzdE1hdGNoZXIobWF0Y2hlcikpfSksYWRqdXN0ZWRNYXRjaGVyc31mdW5jdGlvbiAkU2NlRGVsZWdhdGVQcm92aWRlcigpe3RoaXMuU0NFX0NPTlRFWFRTPVNDRV9DT05URVhUUzt2YXIgcmVzb3VyY2VVcmxXaGl0ZWxpc3Q9WyJzZWxmIl0scmVzb3VyY2VVcmxCbGFja2xpc3Q9W107dGhpcy5yZXNvdXJjZVVybFdoaXRlbGlzdD1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgmJihyZXNvdXJjZVVybFdoaXRlbGlzdD1hZGp1c3RNYXRjaGVycyh2YWx1ZSkpLHJlc291cmNlVXJsV2hpdGVsaXN0fSx0aGlzLnJlc291cmNlVXJsQmxhY2tsaXN0PWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCYmKHJlc291cmNlVXJsQmxhY2tsaXN0PWFkanVzdE1hdGNoZXJzKHZhbHVlKSkscmVzb3VyY2VVcmxCbGFja2xpc3R9LHRoaXMuJGdldD1bIiRpbmplY3RvciIsZnVuY3Rpb24oJGluamVjdG9yKXtmdW5jdGlvbiBtYXRjaFVybChtYXRjaGVyLHBhcnNlZFVybCl7cmV0dXJuInNlbGYiPT09bWF0Y2hlcj91cmxJc1NhbWVPcmlnaW4ocGFyc2VkVXJsKTohIW1hdGNoZXIuZXhlYyhwYXJzZWRVcmwuaHJlZil9ZnVuY3Rpb24gaXNSZXNvdXJjZVVybEFsbG93ZWRCeVBvbGljeSh1cmwpe3ZhciBpLG4scGFyc2VkVXJsPXVybFJlc29sdmUodXJsLnRvU3RyaW5nKCkpLGFsbG93ZWQ9ITE7Zm9yKGk9MCxuPXJlc291cmNlVXJsV2hpdGVsaXN0Lmxlbmd0aDtuPmk7aSsrKWlmKG1hdGNoVXJsKHJlc291cmNlVXJsV2hpdGVsaXN0W2ldLHBhcnNlZFVybCkpe2FsbG93ZWQ9ITA7YnJlYWt9aWYoYWxsb3dlZClmb3IoaT0wLG49cmVzb3VyY2VVcmxCbGFja2xpc3QubGVuZ3RoO24+aTtpKyspaWYobWF0Y2hVcmwocmVzb3VyY2VVcmxCbGFja2xpc3RbaV0scGFyc2VkVXJsKSl7YWxsb3dlZD0hMTticmVha31yZXR1cm4gYWxsb3dlZH1mdW5jdGlvbiBnZW5lcmF0ZUhvbGRlclR5cGUoQmFzZSl7dmFyIGhvbGRlclR5cGU9ZnVuY3Rpb24odHJ1c3RlZFZhbHVlKXt0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRydXN0ZWRWYWx1ZX19O3JldHVybiBCYXNlJiYoaG9sZGVyVHlwZS5wcm90b3R5cGU9bmV3IEJhc2UpLGhvbGRlclR5cGUucHJvdG90eXBlLnZhbHVlT2Y9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpfSxob2xkZXJUeXBlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCkudG9TdHJpbmcoKX0saG9sZGVyVHlwZX1mdW5jdGlvbiB0cnVzdEFzKHR5cGUsdHJ1c3RlZFZhbHVlKXt2YXIgQ29uc3RydWN0b3I9YnlUeXBlLmhhc093blByb3BlcnR5KHR5cGUpP2J5VHlwZVt0eXBlXTpudWxsO2lmKCFDb25zdHJ1Y3Rvcil0aHJvdyAkc2NlTWluRXJyKCJpY29udGV4dCIsIkF0dGVtcHRlZCB0byB0cnVzdCBhIHZhbHVlIGluIGludmFsaWQgY29udGV4dC4gQ29udGV4dDogezB9OyBWYWx1ZTogezF9Iix0eXBlLHRydXN0ZWRWYWx1ZSk7aWYobnVsbD09PXRydXN0ZWRWYWx1ZXx8dHJ1c3RlZFZhbHVlPT09dW5kZWZpbmVkfHwiIj09PXRydXN0ZWRWYWx1ZSlyZXR1cm4gdHJ1c3RlZFZhbHVlO2lmKCJzdHJpbmciIT10eXBlb2YgdHJ1c3RlZFZhbHVlKXRocm93ICRzY2VNaW5FcnIoIml0eXBlIiwiQXR0ZW1wdGVkIHRvIHRydXN0IGEgbm9uLXN0cmluZyB2YWx1ZSBpbiBhIGNvbnRlbnQgcmVxdWlyaW5nIGEgc3RyaW5nOiBDb250ZXh0OiB7MH0iLHR5cGUpO3JldHVybiBuZXcgQ29uc3RydWN0b3IodHJ1c3RlZFZhbHVlKX1mdW5jdGlvbiB2YWx1ZU9mKG1heWJlVHJ1c3RlZCl7cmV0dXJuIG1heWJlVHJ1c3RlZCBpbnN0YW5jZW9mIHRydXN0ZWRWYWx1ZUhvbGRlckJhc2U/bWF5YmVUcnVzdGVkLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCk6bWF5YmVUcnVzdGVkfWZ1bmN0aW9uIGdldFRydXN0ZWQodHlwZSxtYXliZVRydXN0ZWQpe2lmKG51bGw9PT1tYXliZVRydXN0ZWR8fG1heWJlVHJ1c3RlZD09PXVuZGVmaW5lZHx8IiI9PT1tYXliZVRydXN0ZWQpcmV0dXJuIG1heWJlVHJ1c3RlZDt2YXIgY29uc3RydWN0b3I9YnlUeXBlLmhhc093blByb3BlcnR5KHR5cGUpP2J5VHlwZVt0eXBlXTpudWxsO2lmKGNvbnN0cnVjdG9yJiZtYXliZVRydXN0ZWQgaW5zdGFuY2VvZiBjb25zdHJ1Y3RvcilyZXR1cm4gbWF5YmVUcnVzdGVkLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCk7aWYodHlwZT09PVNDRV9DT05URVhUUy5SRVNPVVJDRV9VUkwpe2lmKGlzUmVzb3VyY2VVcmxBbGxvd2VkQnlQb2xpY3kobWF5YmVUcnVzdGVkKSlyZXR1cm4gbWF5YmVUcnVzdGVkO3Rocm93ICRzY2VNaW5FcnIoImluc2VjdXJsIiwiQmxvY2tlZCBsb2FkaW5nIHJlc291cmNlIGZyb20gdXJsIG5vdCBhbGxvd2VkIGJ5ICRzY2VEZWxlZ2F0ZSBwb2xpY3kuICBVUkw6IHswfSIsbWF5YmVUcnVzdGVkLnRvU3RyaW5nKCkpfWlmKHR5cGU9PT1TQ0VfQ09OVEVYVFMuSFRNTClyZXR1cm4gaHRtbFNhbml0aXplcihtYXliZVRydXN0ZWQpO3Rocm93ICRzY2VNaW5FcnIoInVuc2FmZSIsIkF0dGVtcHRpbmcgdG8gdXNlIGFuIHVuc2FmZSB2YWx1ZSBpbiBhIHNhZmUgY29udGV4dC4iKX12YXIgaHRtbFNhbml0aXplcj1mdW5jdGlvbigpe3Rocm93ICRzY2VNaW5FcnIoInVuc2FmZSIsIkF0dGVtcHRpbmcgdG8gdXNlIGFuIHVuc2FmZSB2YWx1ZSBpbiBhIHNhZmUgY29udGV4dC4iKX07JGluamVjdG9yLmhhcygiJHNhbml0aXplIikmJihodG1sU2FuaXRpemVyPSRpbmplY3Rvci5nZXQoIiRzYW5pdGl6ZSIpKTt2YXIgdHJ1c3RlZFZhbHVlSG9sZGVyQmFzZT1nZW5lcmF0ZUhvbGRlclR5cGUoKSxieVR5cGU9e307cmV0dXJuIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuSFRNTF09Z2VuZXJhdGVIb2xkZXJUeXBlKHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UpLGJ5VHlwZVtTQ0VfQ09OVEVYVFMuQ1NTXT1nZW5lcmF0ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSksYnlUeXBlW1NDRV9DT05URVhUUy5VUkxdPWdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKSxieVR5cGVbU0NFX0NPTlRFWFRTLkpTXT1nZW5lcmF0ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSksYnlUeXBlW1NDRV9DT05URVhUUy5SRVNPVVJDRV9VUkxdPWdlbmVyYXRlSG9sZGVyVHlwZShieVR5cGVbU0NFX0NPTlRFWFRTLlVSTF0pLHt0cnVzdEFzOnRydXN0QXMsZ2V0VHJ1c3RlZDpnZXRUcnVzdGVkLHZhbHVlT2Y6dmFsdWVPZn19XX1mdW5jdGlvbiAkU2NlUHJvdmlkZXIoKXt2YXIgZW5hYmxlZD0hMDt0aGlzLmVuYWJsZWQ9ZnVuY3Rpb24odmFsdWUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoJiYoZW5hYmxlZD0hIXZhbHVlKSxlbmFibGVkfSx0aGlzLiRnZXQ9WyIkcGFyc2UiLCIkc25pZmZlciIsIiRzY2VEZWxlZ2F0ZSIsZnVuY3Rpb24oJHBhcnNlLCRzbmlmZmVyLCRzY2VEZWxlZ2F0ZSl7aWYoZW5hYmxlZCYmJHNuaWZmZXIubXNpZSYmJHNuaWZmZXIubXNpZURvY3VtZW50TW9kZTw4KXRocm93ICRzY2VNaW5FcnIoImllcXVpcmtzIiwiU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgZG9lcyBub3Qgc3VwcG9ydCBJbnRlcm5ldCBFeHBsb3JlciB2ZXJzaW9uIDwgOSBpbiBxdWlya3MgbW9kZS4gIFlvdSBjYW4gZml4IHRoaXMgYnkgYWRkaW5nIHRoZSB0ZXh0IDwhZG9jdHlwZSBodG1sPiB0byB0aGUgdG9wIG9mIHlvdXIgSFRNTCBkb2N1bWVudC4gIFNlZSBodHRwOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZy4kc2NlIGZvciBtb3JlIGluZm9ybWF0aW9uLiIpO3ZhciBzY2U9c2hhbGxvd0NvcHkoU0NFX0NPTlRFWFRTKTtzY2UuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGVuYWJsZWR9LHNjZS50cnVzdEFzPSRzY2VEZWxlZ2F0ZS50cnVzdEFzLHNjZS5nZXRUcnVzdGVkPSRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkLHNjZS52YWx1ZU9mPSRzY2VEZWxlZ2F0ZS52YWx1ZU9mLGVuYWJsZWR8fChzY2UudHJ1c3RBcz1zY2UuZ2V0VHJ1c3RlZD1mdW5jdGlvbih0eXBlLHZhbHVlKXtyZXR1cm4gdmFsdWV9LHNjZS52YWx1ZU9mPWlkZW50aXR5KSxzY2UucGFyc2VBcz1mdW5jdGlvbih0eXBlLGV4cHIpe3ZhciBwYXJzZWQ9JHBhcnNlKGV4cHIpO3JldHVybiBwYXJzZWQubGl0ZXJhbCYmcGFyc2VkLmNvbnN0YW50P3BhcnNlZDpmdW5jdGlvbihzZWxmLGxvY2Fscyl7cmV0dXJuIHNjZS5nZXRUcnVzdGVkKHR5cGUscGFyc2VkKHNlbGYsbG9jYWxzKSl9fTt2YXIgcGFyc2U9c2NlLnBhcnNlQXMsZ2V0VHJ1c3RlZD1zY2UuZ2V0VHJ1c3RlZCx0cnVzdEFzPXNjZS50cnVzdEFzO3JldHVybiBmb3JFYWNoKFNDRV9DT05URVhUUyxmdW5jdGlvbihlbnVtVmFsdWUsbmFtZSl7dmFyIGxOYW1lPWxvd2VyY2FzZShuYW1lKTtzY2VbY2FtZWxDYXNlKCJwYXJzZV9hc18iK2xOYW1lKV09ZnVuY3Rpb24oZXhwcil7cmV0dXJuIHBhcnNlKGVudW1WYWx1ZSxleHByKX0sc2NlW2NhbWVsQ2FzZSgiZ2V0X3RydXN0ZWRfIitsTmFtZSldPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gZ2V0VHJ1c3RlZChlbnVtVmFsdWUsdmFsdWUpfSxzY2VbY2FtZWxDYXNlKCJ0cnVzdF9hc18iK2xOYW1lKV09ZnVuY3Rpb24odmFsdWUpe3JldHVybiB0cnVzdEFzKGVudW1WYWx1ZSx2YWx1ZSl9fSksc2NlfV19ZnVuY3Rpb24gJFNuaWZmZXJQcm92aWRlcigpe3RoaXMuJGdldD1bIiR3aW5kb3ciLCIkZG9jdW1lbnQiLGZ1bmN0aW9uKCR3aW5kb3csJGRvY3VtZW50KXt2YXIgdmVuZG9yUHJlZml4LG1hdGNoLGV2ZW50U3VwcG9ydD17fSxhbmRyb2lkPWludCgoL2FuZHJvaWQgKFxkKykvLmV4ZWMobG93ZXJjYXNlKCgkd2luZG93Lm5hdmlnYXRvcnx8e30pLnVzZXJBZ2VudCkpfHxbXSlbMV0pLGJveGVlPS9Cb3hlZS9pLnRlc3QoKCR3aW5kb3cubmF2aWdhdG9yfHx7fSkudXNlckFnZW50KSxkb2N1bWVudD0kZG9jdW1lbnRbMF18fHt9LGRvY3VtZW50TW9kZT1kb2N1bWVudC5kb2N1bWVudE1vZGUsdmVuZG9yUmVnZXg9L14oTW96fHdlYmtpdHxPfG1zKSg/PVtBLVpdKS8sYm9keVN0eWxlPWRvY3VtZW50LmJvZHkmJmRvY3VtZW50LmJvZHkuc3R5bGUsdHJhbnNpdGlvbnM9ITEsYW5pbWF0aW9ucz0hMTtpZihib2R5U3R5bGUpe2Zvcih2YXIgcHJvcCBpbiBib2R5U3R5bGUpaWYobWF0Y2g9dmVuZG9yUmVnZXguZXhlYyhwcm9wKSl7dmVuZG9yUHJlZml4PW1hdGNoWzBdLHZlbmRvclByZWZpeD12ZW5kb3JQcmVmaXguc3Vic3RyKDAsMSkudG9VcHBlckNhc2UoKSt2ZW5kb3JQcmVmaXguc3Vic3RyKDEpO2JyZWFrfXZlbmRvclByZWZpeHx8KHZlbmRvclByZWZpeD0iV2Via2l0T3BhY2l0eSJpbiBib2R5U3R5bGUmJiJ3ZWJraXQiKSx0cmFuc2l0aW9ucz0hISgidHJhbnNpdGlvbiJpbiBib2R5U3R5bGV8fHZlbmRvclByZWZpeCsiVHJhbnNpdGlvbiJpbiBib2R5U3R5bGUpLGFuaW1hdGlvbnM9ISEoImFuaW1hdGlvbiJpbiBib2R5U3R5bGV8fHZlbmRvclByZWZpeCsiQW5pbWF0aW9uImluIGJvZHlTdHlsZSksIWFuZHJvaWR8fHRyYW5zaXRpb25zJiZhbmltYXRpb25zfHwodHJhbnNpdGlvbnM9aXNTdHJpbmcoZG9jdW1lbnQuYm9keS5zdHlsZS53ZWJraXRUcmFuc2l0aW9uKSxhbmltYXRpb25zPWlzU3RyaW5nKGRvY3VtZW50LmJvZHkuc3R5bGUud2Via2l0QW5pbWF0aW9uKSl9cmV0dXJue2hpc3Rvcnk6ISghJHdpbmRvdy5oaXN0b3J5fHwhJHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZXx8ND5hbmRyb2lkfHxib3hlZSksaGFzaGNoYW5nZToib25oYXNoY2hhbmdlImluICR3aW5kb3cmJighZG9jdW1lbnRNb2RlfHxkb2N1bWVudE1vZGU+NyksaGFzRXZlbnQ6ZnVuY3Rpb24oZXZlbnQpe2lmKCJpbnB1dCI9PWV2ZW50JiY5PT1tc2llKXJldHVybiExO2lmKGlzVW5kZWZpbmVkKGV2ZW50U3VwcG9ydFtldmVudF0pKXt2YXIgZGl2RWxtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2V2ZW50U3VwcG9ydFtldmVudF09Im9uIitldmVudCBpbiBkaXZFbG19cmV0dXJuIGV2ZW50U3VwcG9ydFtldmVudF19LGNzcDpjc3AoKSx2ZW5kb3JQcmVmaXg6dmVuZG9yUHJlZml4LHRyYW5zaXRpb25zOnRyYW5zaXRpb25zLGFuaW1hdGlvbnM6YW5pbWF0aW9ucyxhbmRyb2lkOmFuZHJvaWQsbXNpZTptc2llLG1zaWVEb2N1bWVudE1vZGU6ZG9jdW1lbnRNb2RlfX1dfWZ1bmN0aW9uICRUaW1lb3V0UHJvdmlkZXIoKXt0aGlzLiRnZXQ9WyIkcm9vdFNjb3BlIiwiJGJyb3dzZXIiLCIkcSIsIiRleGNlcHRpb25IYW5kbGVyIixmdW5jdGlvbigkcm9vdFNjb3BlLCRicm93c2VyLCRxLCRleGNlcHRpb25IYW5kbGVyKXtmdW5jdGlvbiB0aW1lb3V0KGZuLGRlbGF5LGludm9rZUFwcGx5KXt2YXIgdGltZW91dElkLGRlZmVycmVkPSRxLmRlZmVyKCkscHJvbWlzZT1kZWZlcnJlZC5wcm9taXNlLHNraXBBcHBseT1pc0RlZmluZWQoaW52b2tlQXBwbHkpJiYhaW52b2tlQXBwbHk7cmV0dXJuIHRpbWVvdXRJZD0kYnJvd3Nlci5kZWZlcihmdW5jdGlvbigpe3RyeXtkZWZlcnJlZC5yZXNvbHZlKGZuKCkpfWNhdGNoKGUpe2RlZmVycmVkLnJlamVjdChlKSwkZXhjZXB0aW9uSGFuZGxlcihlKX1maW5hbGx5e2RlbGV0ZSBkZWZlcnJlZHNbcHJvbWlzZS4kJHRpbWVvdXRJZF19c2tpcEFwcGx5fHwkcm9vdFNjb3BlLiRhcHBseSgpfSxkZWxheSkscHJvbWlzZS4kJHRpbWVvdXRJZD10aW1lb3V0SWQsZGVmZXJyZWRzW3RpbWVvdXRJZF09ZGVmZXJyZWQscHJvbWlzZX12YXIgZGVmZXJyZWRzPXt9O3JldHVybiB0aW1lb3V0LmNhbmNlbD1mdW5jdGlvbihwcm9taXNlKXtyZXR1cm4gcHJvbWlzZSYmcHJvbWlzZS4kJHRpbWVvdXRJZCBpbiBkZWZlcnJlZHM/KGRlZmVycmVkc1twcm9taXNlLiQkdGltZW91dElkXS5yZWplY3QoImNhbmNlbGVkIiksZGVsZXRlIGRlZmVycmVkc1twcm9taXNlLiQkdGltZW91dElkXSwkYnJvd3Nlci5kZWZlci5jYW5jZWwocHJvbWlzZS4kJHRpbWVvdXRJZCkpOiExfSx0aW1lb3V0fV19ZnVuY3Rpb24gdXJsUmVzb2x2ZSh1cmwpe3ZhciBocmVmPXVybDtyZXR1cm4gbXNpZSYmKHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgiaHJlZiIsaHJlZiksaHJlZj11cmxQYXJzaW5nTm9kZS5ocmVmKSx1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoImhyZWYiLGhyZWYpLHtocmVmOnVybFBhcnNpbmdOb2RlLmhyZWYscHJvdG9jb2w6dXJsUGFyc2luZ05vZGUucHJvdG9jb2w/dXJsUGFyc2luZ05vZGUucHJvdG9jb2wucmVwbGFjZSgvOiQvLCIiKToiIixob3N0OnVybFBhcnNpbmdOb2RlLmhvc3Qsc2VhcmNoOnVybFBhcnNpbmdOb2RlLnNlYXJjaD91cmxQYXJzaW5nTm9kZS5zZWFyY2gucmVwbGFjZSgvXlw/LywiIik6IiIsaGFzaDp1cmxQYXJzaW5nTm9kZS5oYXNoP3VybFBhcnNpbmdOb2RlLmhhc2gucmVwbGFjZSgvXiMvLCIiKToiIixob3N0bmFtZTp1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxwb3J0OnVybFBhcnNpbmdOb2RlLnBvcnQscGF0aG5hbWU6Ii8iPT09dXJsUGFyc2luZ05vZGUucGF0aG5hbWUuY2hhckF0KDApP3VybFBhcnNpbmdOb2RlLnBhdGhuYW1lOiIvIit1cmxQYXJzaW5nTm9kZS5wYXRobmFtZX19ZnVuY3Rpb24gdXJsSXNTYW1lT3JpZ2luKHJlcXVlc3RVcmwpe3ZhciBwYXJzZWQ9aXNTdHJpbmcocmVxdWVzdFVybCk/dXJsUmVzb2x2ZShyZXF1ZXN0VXJsKTpyZXF1ZXN0VXJsO3JldHVybiBwYXJzZWQucHJvdG9jb2w9PT1vcmlnaW5VcmwucHJvdG9jb2wmJnBhcnNlZC5ob3N0PT09b3JpZ2luVXJsLmhvc3R9ZnVuY3Rpb24gJFdpbmRvd1Byb3ZpZGVyKCl7dGhpcy4kZ2V0PXZhbHVlRm4od2luZG93KX1mdW5jdGlvbiAkRmlsdGVyUHJvdmlkZXIoJHByb3ZpZGUpe2Z1bmN0aW9uIHJlZ2lzdGVyKG5hbWUsZmFjdG9yeSl7aWYoaXNPYmplY3QobmFtZSkpe3ZhciBmaWx0ZXJzPXt9O3JldHVybiBmb3JFYWNoKG5hbWUsZnVuY3Rpb24oZmlsdGVyLGtleSl7ZmlsdGVyc1trZXldPXJlZ2lzdGVyKGtleSxmaWx0ZXIpfSksZmlsdGVyc31yZXR1cm4gJHByb3ZpZGUuZmFjdG9yeShuYW1lK3N1ZmZpeCxmYWN0b3J5KX12YXIgc3VmZml4PSJGaWx0ZXIiO3RoaXMucmVnaXN0ZXI9cmVnaXN0ZXIsdGhpcy4kZ2V0PVsiJGluamVjdG9yIixmdW5jdGlvbigkaW5qZWN0b3Ipe3JldHVybiBmdW5jdGlvbihuYW1lKXtyZXR1cm4gJGluamVjdG9yLmdldChuYW1lK3N1ZmZpeCl9fV0scmVnaXN0ZXIoImN1cnJlbmN5IixjdXJyZW5jeUZpbHRlcikscmVnaXN0ZXIoImRhdGUiLGRhdGVGaWx0ZXIpLHJlZ2lzdGVyKCJmaWx0ZXIiLGZpbHRlckZpbHRlcikscmVnaXN0ZXIoImpzb24iLGpzb25GaWx0ZXIpLHJlZ2lzdGVyKCJsaW1pdFRvIixsaW1pdFRvRmlsdGVyKSxyZWdpc3RlcigibG93ZXJjYXNlIixsb3dlcmNhc2VGaWx0ZXIpLHJlZ2lzdGVyKCJudW1iZXIiLG51bWJlckZpbHRlcikscmVnaXN0ZXIoIm9yZGVyQnkiLG9yZGVyQnlGaWx0ZXIpLHJlZ2lzdGVyKCJ1cHBlcmNhc2UiLHVwcGVyY2FzZUZpbHRlcil9ZnVuY3Rpb24gZmlsdGVyRmlsdGVyKCl7cmV0dXJuIGZ1bmN0aW9uKGFycmF5LGV4cHJlc3Npb24sY29tcGFyYXRvcil7aWYoIWlzQXJyYXkoYXJyYXkpKXJldHVybiBhcnJheTt2YXIgY29tcGFyYXRvclR5cGU9dHlwZW9mIGNvbXBhcmF0b3IscHJlZGljYXRlcz1bXTtwcmVkaWNhdGVzLmNoZWNrPWZ1bmN0aW9uKHZhbHVlKXtmb3IodmFyIGo9MDtqPHByZWRpY2F0ZXMubGVuZ3RoO2orKylpZighcHJlZGljYXRlc1tqXSh2YWx1ZSkpcmV0dXJuITE7cmV0dXJuITB9LCJmdW5jdGlvbiIhPT1jb21wYXJhdG9yVHlwZSYmKGNvbXBhcmF0b3I9ImJvb2xlYW4iPT09Y29tcGFyYXRvclR5cGUmJmNvbXBhcmF0b3I/ZnVuY3Rpb24ob2JqLHRleHQpe3JldHVybiBhbmd1bGFyLmVxdWFscyhvYmosdGV4dCl9OmZ1bmN0aW9uKG9iaix0ZXh0KXtpZihvYmomJnRleHQmJiJvYmplY3QiPT10eXBlb2Ygb2JqJiYib2JqZWN0Ij09dHlwZW9mIHRleHQpe2Zvcih2YXIgb2JqS2V5IGluIG9iailpZigiJCIhPT1vYmpLZXkuY2hhckF0KDApJiZoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaixvYmpLZXkpJiZjb21wYXJhdG9yKG9ialtvYmpLZXldLHRleHRbb2JqS2V5XSkpcmV0dXJuITA7cmV0dXJuITF9cmV0dXJuIHRleHQ9KCIiK3RleHQpLnRvTG93ZXJDYXNlKCksKCIiK29iaikudG9Mb3dlckNhc2UoKS5pbmRleE9mKHRleHQpPi0xfSk7dmFyIHNlYXJjaD1mdW5jdGlvbihvYmosdGV4dCl7aWYoInN0cmluZyI9PXR5cGVvZiB0ZXh0JiYiISI9PT10ZXh0LmNoYXJBdCgwKSlyZXR1cm4hc2VhcmNoKG9iaix0ZXh0LnN1YnN0cigxKSk7c3dpdGNoKHR5cGVvZiBvYmope2Nhc2UiYm9vbGVhbiI6Y2FzZSJudW1iZXIiOmNhc2Uic3RyaW5nIjpyZXR1cm4gY29tcGFyYXRvcihvYmosdGV4dCk7Y2FzZSJvYmplY3QiOnN3aXRjaCh0eXBlb2YgdGV4dCl7Y2FzZSJvYmplY3QiOnJldHVybiBjb21wYXJhdG9yKG9iaix0ZXh0KTtkZWZhdWx0OmZvcih2YXIgb2JqS2V5IGluIG9iailpZigiJCIhPT1vYmpLZXkuY2hhckF0KDApJiZzZWFyY2gob2JqW29iaktleV0sdGV4dCkpcmV0dXJuITB9cmV0dXJuITE7Y2FzZSJhcnJheSI6Zm9yKHZhciBpPTA7aTxvYmoubGVuZ3RoO2krKylpZihzZWFyY2gob2JqW2ldLHRleHQpKXJldHVybiEwO3JldHVybiExO2RlZmF1bHQ6cmV0dXJuITF9fTtzd2l0Y2godHlwZW9mIGV4cHJlc3Npb24pe2Nhc2UiYm9vbGVhbiI6Y2FzZSJudW1iZXIiOmNhc2Uic3RyaW5nIjpleHByZXNzaW9uPXskOmV4cHJlc3Npb259O2Nhc2Uib2JqZWN0Ijpmb3IodmFyIGtleSBpbiBleHByZXNzaW9uKSFmdW5jdGlvbihwYXRoKXsidW5kZWZpbmVkIiE9dHlwZW9mIGV4cHJlc3Npb25bcGF0aF0mJnByZWRpY2F0ZXMucHVzaChmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHNlYXJjaCgiJCI9PXBhdGg/dmFsdWU6dmFsdWUmJnZhbHVlW3BhdGhdLGV4cHJlc3Npb25bcGF0aF0pfSl9KGtleSk7YnJlYWs7Y2FzZSJmdW5jdGlvbiI6cHJlZGljYXRlcy5wdXNoKGV4cHJlc3Npb24pO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIGFycmF5fWZvcih2YXIgZmlsdGVyZWQ9W10saj0wO2o8YXJyYXkubGVuZ3RoO2orKyl7dmFyIHZhbHVlPWFycmF5W2pdO3ByZWRpY2F0ZXMuY2hlY2sodmFsdWUpJiZmaWx0ZXJlZC5wdXNoKHZhbHVlKX1yZXR1cm4gZmlsdGVyZWR9fWZ1bmN0aW9uIGN1cnJlbmN5RmlsdGVyKCRsb2NhbGUpe3ZhciBmb3JtYXRzPSRsb2NhbGUuTlVNQkVSX0ZPUk1BVFM7cmV0dXJuIGZ1bmN0aW9uKGFtb3VudCxjdXJyZW5jeVN5bWJvbCl7cmV0dXJuIGlzVW5kZWZpbmVkKGN1cnJlbmN5U3ltYm9sKSYmKGN1cnJlbmN5U3ltYm9sPWZvcm1hdHMuQ1VSUkVOQ1lfU1lNKSxmb3JtYXROdW1iZXIoYW1vdW50LGZvcm1hdHMuUEFUVEVSTlNbMV0sZm9ybWF0cy5HUk9VUF9TRVAsZm9ybWF0cy5ERUNJTUFMX1NFUCwyKS5yZXBsYWNlKC9cdTAwQTQvZyxjdXJyZW5jeVN5bWJvbCl9fWZ1bmN0aW9uIG51bWJlckZpbHRlcigkbG9jYWxlKXt2YXIgZm9ybWF0cz0kbG9jYWxlLk5VTUJFUl9GT1JNQVRTO3JldHVybiBmdW5jdGlvbihudW1iZXIsZnJhY3Rpb25TaXplKXtyZXR1cm4gZm9ybWF0TnVtYmVyKG51bWJlcixmb3JtYXRzLlBBVFRFUk5TWzBdLGZvcm1hdHMuR1JPVVBfU0VQLGZvcm1hdHMuREVDSU1BTF9TRVAsZnJhY3Rpb25TaXplKX19ZnVuY3Rpb24gZm9ybWF0TnVtYmVyKG51bWJlcixwYXR0ZXJuLGdyb3VwU2VwLGRlY2ltYWxTZXAsZnJhY3Rpb25TaXplKXtpZihudWxsPT1udW1iZXJ8fCFpc0Zpbml0ZShudW1iZXIpfHxpc09iamVjdChudW1iZXIpKXJldHVybiIiO3ZhciBpc05lZ2F0aXZlPTA+bnVtYmVyO251bWJlcj1NYXRoLmFicyhudW1iZXIpO3ZhciBudW1TdHI9bnVtYmVyKyIiLGZvcm1hdGVkVGV4dD0iIixwYXJ0cz1bXSxoYXNFeHBvbmVudD0hMTtpZigtMSE9PW51bVN0ci5pbmRleE9mKCJlIikpe3ZhciBtYXRjaD1udW1TdHIubWF0Y2goLyhbXGRcLl0rKWUoLT8pKFxkKykvKTttYXRjaCYmIi0iPT1tYXRjaFsyXSYmbWF0Y2hbM10+ZnJhY3Rpb25TaXplKzE/KG51bVN0cj0iMCIsbnVtYmVyPTApOihmb3JtYXRlZFRleHQ9bnVtU3RyLGhhc0V4cG9uZW50PSEwKX1pZihoYXNFeHBvbmVudClmcmFjdGlvblNpemU+MCYmbnVtYmVyPi0xJiYxPm51bWJlciYmKGZvcm1hdGVkVGV4dD1udW1iZXIudG9GaXhlZChmcmFjdGlvblNpemUpKTtlbHNle3ZhciBmcmFjdGlvbkxlbj0obnVtU3RyLnNwbGl0KERFQ0lNQUxfU0VQKVsxXXx8IiIpLmxlbmd0aDtpc1VuZGVmaW5lZChmcmFjdGlvblNpemUpJiYoZnJhY3Rpb25TaXplPU1hdGgubWluKE1hdGgubWF4KHBhdHRlcm4ubWluRnJhYyxmcmFjdGlvbkxlbikscGF0dGVybi5tYXhGcmFjKSksbnVtYmVyPSsoTWF0aC5yb3VuZCgrKG51bWJlci50b1N0cmluZygpKyJlIitmcmFjdGlvblNpemUpKS50b1N0cmluZygpKyJlIistZnJhY3Rpb25TaXplKSwwPT09bnVtYmVyJiYoaXNOZWdhdGl2ZT0hMSk7dmFyIGZyYWN0aW9uPSgiIitudW1iZXIpLnNwbGl0KERFQ0lNQUxfU0VQKSx3aG9sZT1mcmFjdGlvblswXTtmcmFjdGlvbj1mcmFjdGlvblsxXXx8IiI7dmFyIGkscG9zPTAsbGdyb3VwPXBhdHRlcm4ubGdTaXplLGdyb3VwPXBhdHRlcm4uZ1NpemU7aWYod2hvbGUubGVuZ3RoPj1sZ3JvdXArZ3JvdXApZm9yKHBvcz13aG9sZS5sZW5ndGgtbGdyb3VwLGk9MDtwb3M+aTtpKyspKHBvcy1pKSVncm91cD09PTAmJjAhPT1pJiYoZm9ybWF0ZWRUZXh0Kz1ncm91cFNlcCksZm9ybWF0ZWRUZXh0Kz13aG9sZS5jaGFyQXQoaSk7Zm9yKGk9cG9zO2k8d2hvbGUubGVuZ3RoO2krKykod2hvbGUubGVuZ3RoLWkpJWxncm91cD09PTAmJjAhPT1pJiYoZm9ybWF0ZWRUZXh0Kz1ncm91cFNlcCksZm9ybWF0ZWRUZXh0Kz13aG9sZS5jaGFyQXQoaSk7CmZvcig7ZnJhY3Rpb24ubGVuZ3RoPGZyYWN0aW9uU2l6ZTspZnJhY3Rpb24rPSIwIjtmcmFjdGlvblNpemUmJiIwIiE9PWZyYWN0aW9uU2l6ZSYmKGZvcm1hdGVkVGV4dCs9ZGVjaW1hbFNlcCtmcmFjdGlvbi5zdWJzdHIoMCxmcmFjdGlvblNpemUpKX1yZXR1cm4gcGFydHMucHVzaChpc05lZ2F0aXZlP3BhdHRlcm4ubmVnUHJlOnBhdHRlcm4ucG9zUHJlKSxwYXJ0cy5wdXNoKGZvcm1hdGVkVGV4dCkscGFydHMucHVzaChpc05lZ2F0aXZlP3BhdHRlcm4ubmVnU3VmOnBhdHRlcm4ucG9zU3VmKSxwYXJ0cy5qb2luKCIiKX1mdW5jdGlvbiBwYWROdW1iZXIobnVtLGRpZ2l0cyx0cmltKXt2YXIgbmVnPSIiO2ZvcigwPm51bSYmKG5lZz0iLSIsbnVtPS1udW0pLG51bT0iIitudW07bnVtLmxlbmd0aDxkaWdpdHM7KW51bT0iMCIrbnVtO3JldHVybiB0cmltJiYobnVtPW51bS5zdWJzdHIobnVtLmxlbmd0aC1kaWdpdHMpKSxuZWcrbnVtfWZ1bmN0aW9uIGRhdGVHZXR0ZXIobmFtZSxzaXplLG9mZnNldCx0cmltKXtyZXR1cm4gb2Zmc2V0PW9mZnNldHx8MCxmdW5jdGlvbihkYXRlKXt2YXIgdmFsdWU9ZGF0ZVsiZ2V0IituYW1lXSgpO3JldHVybihvZmZzZXQ+MHx8dmFsdWU+LW9mZnNldCkmJih2YWx1ZSs9b2Zmc2V0KSwwPT09dmFsdWUmJi0xMj09b2Zmc2V0JiYodmFsdWU9MTIpLHBhZE51bWJlcih2YWx1ZSxzaXplLHRyaW0pfX1mdW5jdGlvbiBkYXRlU3RyR2V0dGVyKG5hbWUsc2hvcnRGb3JtKXtyZXR1cm4gZnVuY3Rpb24oZGF0ZSxmb3JtYXRzKXt2YXIgdmFsdWU9ZGF0ZVsiZ2V0IituYW1lXSgpLGdldD11cHBlcmNhc2Uoc2hvcnRGb3JtPyJTSE9SVCIrbmFtZTpuYW1lKTtyZXR1cm4gZm9ybWF0c1tnZXRdW3ZhbHVlXX19ZnVuY3Rpb24gdGltZVpvbmVHZXR0ZXIoZGF0ZSl7dmFyIHpvbmU9LTEqZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpLHBhZGRlZFpvbmU9em9uZT49MD8iKyI6IiI7cmV0dXJuIHBhZGRlZFpvbmUrPXBhZE51bWJlcihNYXRoW3pvbmU+MD8iZmxvb3IiOiJjZWlsIl0oem9uZS82MCksMikrcGFkTnVtYmVyKE1hdGguYWJzKHpvbmUlNjApLDIpfWZ1bmN0aW9uIGFtcG1HZXR0ZXIoZGF0ZSxmb3JtYXRzKXtyZXR1cm4gZGF0ZS5nZXRIb3VycygpPDEyP2Zvcm1hdHMuQU1QTVNbMF06Zm9ybWF0cy5BTVBNU1sxXX1mdW5jdGlvbiBkYXRlRmlsdGVyKCRsb2NhbGUpe2Z1bmN0aW9uIGpzb25TdHJpbmdUb0RhdGUoc3RyaW5nKXt2YXIgbWF0Y2g7aWYobWF0Y2g9c3RyaW5nLm1hdGNoKFJfSVNPODYwMV9TVFIpKXt2YXIgZGF0ZT1uZXcgRGF0ZSgwKSx0ekhvdXI9MCx0ek1pbj0wLGRhdGVTZXR0ZXI9bWF0Y2hbOF0/ZGF0ZS5zZXRVVENGdWxsWWVhcjpkYXRlLnNldEZ1bGxZZWFyLHRpbWVTZXR0ZXI9bWF0Y2hbOF0/ZGF0ZS5zZXRVVENIb3VyczpkYXRlLnNldEhvdXJzO21hdGNoWzldJiYodHpIb3VyPWludChtYXRjaFs5XSttYXRjaFsxMF0pLHR6TWluPWludChtYXRjaFs5XSttYXRjaFsxMV0pKSxkYXRlU2V0dGVyLmNhbGwoZGF0ZSxpbnQobWF0Y2hbMV0pLGludChtYXRjaFsyXSktMSxpbnQobWF0Y2hbM10pKTt2YXIgaD1pbnQobWF0Y2hbNF18fDApLXR6SG91cixtPWludChtYXRjaFs1XXx8MCktdHpNaW4scz1pbnQobWF0Y2hbNl18fDApLG1zPU1hdGgucm91bmQoMWUzKnBhcnNlRmxvYXQoIjAuIisobWF0Y2hbN118fDApKSk7cmV0dXJuIHRpbWVTZXR0ZXIuY2FsbChkYXRlLGgsbSxzLG1zKSxkYXRlfXJldHVybiBzdHJpbmd9dmFyIFJfSVNPODYwMV9TVFI9L14oXGR7NH0pLT8oXGRcZCktPyhcZFxkKSg/OlQoXGRcZCkoPzo6PyhcZFxkKSg/Ojo/KFxkXGQpKD86XC4oXGQrKSk/KT8pPyhafChbKy1dKShcZFxkKTo/KFxkXGQpKT8pPyQvO3JldHVybiBmdW5jdGlvbihkYXRlLGZvcm1hdCl7dmFyIGZuLG1hdGNoLHRleHQ9IiIscGFydHM9W107aWYoZm9ybWF0PWZvcm1hdHx8Im1lZGl1bURhdGUiLGZvcm1hdD0kbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFNbZm9ybWF0XXx8Zm9ybWF0LGlzU3RyaW5nKGRhdGUpJiYoZGF0ZT1OVU1CRVJfU1RSSU5HLnRlc3QoZGF0ZSk/aW50KGRhdGUpOmpzb25TdHJpbmdUb0RhdGUoZGF0ZSkpLGlzTnVtYmVyKGRhdGUpJiYoZGF0ZT1uZXcgRGF0ZShkYXRlKSksIWlzRGF0ZShkYXRlKSlyZXR1cm4gZGF0ZTtmb3IoO2Zvcm1hdDspbWF0Y2g9REFURV9GT1JNQVRTX1NQTElULmV4ZWMoZm9ybWF0KSxtYXRjaD8ocGFydHM9Y29uY2F0KHBhcnRzLG1hdGNoLDEpLGZvcm1hdD1wYXJ0cy5wb3AoKSk6KHBhcnRzLnB1c2goZm9ybWF0KSxmb3JtYXQ9bnVsbCk7cmV0dXJuIGZvckVhY2gocGFydHMsZnVuY3Rpb24odmFsdWUpe2ZuPURBVEVfRk9STUFUU1t2YWx1ZV0sdGV4dCs9Zm4/Zm4oZGF0ZSwkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMpOnZhbHVlLnJlcGxhY2UoLyheJ3wnJCkvZywiIikucmVwbGFjZSgvJycvZywiJyIpfSksdGV4dH19ZnVuY3Rpb24ganNvbkZpbHRlcigpe3JldHVybiBmdW5jdGlvbihvYmplY3Qpe3JldHVybiB0b0pzb24ob2JqZWN0LCEwKX19ZnVuY3Rpb24gbGltaXRUb0ZpbHRlcigpe3JldHVybiBmdW5jdGlvbihpbnB1dCxsaW1pdCl7aWYoIWlzQXJyYXkoaW5wdXQpJiYhaXNTdHJpbmcoaW5wdXQpKXJldHVybiBpbnB1dDtpZihsaW1pdD0xLzA9PT1NYXRoLmFicyhOdW1iZXIobGltaXQpKT9OdW1iZXIobGltaXQpOmludChsaW1pdCksaXNTdHJpbmcoaW5wdXQpKXJldHVybiBsaW1pdD9saW1pdD49MD9pbnB1dC5zbGljZSgwLGxpbWl0KTppbnB1dC5zbGljZShsaW1pdCxpbnB1dC5sZW5ndGgpOiIiO3ZhciBpLG4sb3V0PVtdO2ZvcihsaW1pdD5pbnB1dC5sZW5ndGg/bGltaXQ9aW5wdXQubGVuZ3RoOmxpbWl0PC1pbnB1dC5sZW5ndGgmJihsaW1pdD0taW5wdXQubGVuZ3RoKSxsaW1pdD4wPyhpPTAsbj1saW1pdCk6KGk9aW5wdXQubGVuZ3RoK2xpbWl0LG49aW5wdXQubGVuZ3RoKTtuPmk7aSsrKW91dC5wdXNoKGlucHV0W2ldKTtyZXR1cm4gb3V0fX1mdW5jdGlvbiBvcmRlckJ5RmlsdGVyKCRwYXJzZSl7cmV0dXJuIGZ1bmN0aW9uKGFycmF5LHNvcnRQcmVkaWNhdGUscmV2ZXJzZU9yZGVyKXtmdW5jdGlvbiBjb21wYXJhdG9yKG8xLG8yKXtmb3IodmFyIGk9MDtpPHNvcnRQcmVkaWNhdGUubGVuZ3RoO2krKyl7dmFyIGNvbXA9c29ydFByZWRpY2F0ZVtpXShvMSxvMik7aWYoMCE9PWNvbXApcmV0dXJuIGNvbXB9cmV0dXJuIDB9ZnVuY3Rpb24gcmV2ZXJzZUNvbXBhcmF0b3IoY29tcCxkZXNjZW5kaW5nKXtyZXR1cm4gdG9Cb29sZWFuKGRlc2NlbmRpbmcpP2Z1bmN0aW9uKGEsYil7cmV0dXJuIGNvbXAoYixhKX06Y29tcH1mdW5jdGlvbiBjb21wYXJlKHYxLHYyKXt2YXIgdDE9dHlwZW9mIHYxLHQyPXR5cGVvZiB2MjtyZXR1cm4gdDE9PXQyPyhpc0RhdGUodjEpJiZpc0RhdGUodjIpJiYodjE9djEudmFsdWVPZigpLHYyPXYyLnZhbHVlT2YoKSksInN0cmluZyI9PXQxJiYodjE9djEudG9Mb3dlckNhc2UoKSx2Mj12Mi50b0xvd2VyQ2FzZSgpKSx2MT09PXYyPzA6djI+djE/LTE6MSk6dDI+dDE/LTE6MX1pZighaXNBcnJheUxpa2UoYXJyYXkpKXJldHVybiBhcnJheTtpZighc29ydFByZWRpY2F0ZSlyZXR1cm4gYXJyYXk7c29ydFByZWRpY2F0ZT1pc0FycmF5KHNvcnRQcmVkaWNhdGUpP3NvcnRQcmVkaWNhdGU6W3NvcnRQcmVkaWNhdGVdLHNvcnRQcmVkaWNhdGU9bWFwKHNvcnRQcmVkaWNhdGUsZnVuY3Rpb24ocHJlZGljYXRlKXt2YXIgZGVzY2VuZGluZz0hMSxnZXQ9cHJlZGljYXRlfHxpZGVudGl0eTtpZihpc1N0cmluZyhwcmVkaWNhdGUpJiYoKCIrIj09cHJlZGljYXRlLmNoYXJBdCgwKXx8Ii0iPT1wcmVkaWNhdGUuY2hhckF0KDApKSYmKGRlc2NlbmRpbmc9Ii0iPT1wcmVkaWNhdGUuY2hhckF0KDApLHByZWRpY2F0ZT1wcmVkaWNhdGUuc3Vic3RyaW5nKDEpKSxnZXQ9JHBhcnNlKHByZWRpY2F0ZSksZ2V0LmNvbnN0YW50KSl7dmFyIGtleT1nZXQoKTtyZXR1cm4gcmV2ZXJzZUNvbXBhcmF0b3IoZnVuY3Rpb24oYSxiKXtyZXR1cm4gY29tcGFyZShhW2tleV0sYltrZXldKX0sZGVzY2VuZGluZyl9cmV0dXJuIHJldmVyc2VDb21wYXJhdG9yKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGNvbXBhcmUoZ2V0KGEpLGdldChiKSl9LGRlc2NlbmRpbmcpfSk7Zm9yKHZhciBhcnJheUNvcHk9W10saT0wO2k8YXJyYXkubGVuZ3RoO2krKylhcnJheUNvcHkucHVzaChhcnJheVtpXSk7cmV0dXJuIGFycmF5Q29weS5zb3J0KHJldmVyc2VDb21wYXJhdG9yKGNvbXBhcmF0b3IscmV2ZXJzZU9yZGVyKSl9fWZ1bmN0aW9uIG5nRGlyZWN0aXZlKGRpcmVjdGl2ZSl7cmV0dXJuIGlzRnVuY3Rpb24oZGlyZWN0aXZlKSYmKGRpcmVjdGl2ZT17bGluazpkaXJlY3RpdmV9KSxkaXJlY3RpdmUucmVzdHJpY3Q9ZGlyZWN0aXZlLnJlc3RyaWN0fHwiQUMiLHZhbHVlRm4oZGlyZWN0aXZlKX1mdW5jdGlvbiBGb3JtQ29udHJvbGxlcihlbGVtZW50LGF0dHJzLCRzY29wZSwkYW5pbWF0ZSl7ZnVuY3Rpb24gdG9nZ2xlVmFsaWRDc3MoaXNWYWxpZCx2YWxpZGF0aW9uRXJyb3JLZXkpe3ZhbGlkYXRpb25FcnJvcktleT12YWxpZGF0aW9uRXJyb3JLZXk/Ii0iK3NuYWtlX2Nhc2UodmFsaWRhdGlvbkVycm9yS2V5LCItIik6IiIsJGFuaW1hdGUuc2V0Q2xhc3MoZWxlbWVudCwoaXNWYWxpZD9WQUxJRF9DTEFTUzpJTlZBTElEX0NMQVNTKSt2YWxpZGF0aW9uRXJyb3JLZXksKGlzVmFsaWQ/SU5WQUxJRF9DTEFTUzpWQUxJRF9DTEFTUykrdmFsaWRhdGlvbkVycm9yS2V5KX12YXIgZm9ybT10aGlzLHBhcmVudEZvcm09ZWxlbWVudC5wYXJlbnQoKS5jb250cm9sbGVyKCJmb3JtIil8fG51bGxGb3JtQ3RybCxpbnZhbGlkQ291bnQ9MCxlcnJvcnM9Zm9ybS4kZXJyb3I9e30sY29udHJvbHM9W107Zm9ybS4kbmFtZT1hdHRycy5uYW1lfHxhdHRycy5uZ0Zvcm0sZm9ybS4kZGlydHk9ITEsZm9ybS4kcHJpc3RpbmU9ITAsZm9ybS4kdmFsaWQ9ITAsZm9ybS4kaW52YWxpZD0hMSxwYXJlbnRGb3JtLiRhZGRDb250cm9sKGZvcm0pLGVsZW1lbnQuYWRkQ2xhc3MoUFJJU1RJTkVfQ0xBU1MpLHRvZ2dsZVZhbGlkQ3NzKCEwKSxmb3JtLiRhZGRDb250cm9sPWZ1bmN0aW9uKGNvbnRyb2wpe2Fzc2VydE5vdEhhc093blByb3BlcnR5KGNvbnRyb2wuJG5hbWUsImlucHV0IiksY29udHJvbHMucHVzaChjb250cm9sKSxjb250cm9sLiRuYW1lJiYoZm9ybVtjb250cm9sLiRuYW1lXT1jb250cm9sKX0sZm9ybS4kcmVtb3ZlQ29udHJvbD1mdW5jdGlvbihjb250cm9sKXtjb250cm9sLiRuYW1lJiZmb3JtW2NvbnRyb2wuJG5hbWVdPT09Y29udHJvbCYmZGVsZXRlIGZvcm1bY29udHJvbC4kbmFtZV0sZm9yRWFjaChlcnJvcnMsZnVuY3Rpb24ocXVldWUsdmFsaWRhdGlvblRva2VuKXtmb3JtLiRzZXRWYWxpZGl0eSh2YWxpZGF0aW9uVG9rZW4sITAsY29udHJvbCl9KSxhcnJheVJlbW92ZShjb250cm9scyxjb250cm9sKX0sZm9ybS4kc2V0VmFsaWRpdHk9ZnVuY3Rpb24odmFsaWRhdGlvblRva2VuLGlzVmFsaWQsY29udHJvbCl7dmFyIHF1ZXVlPWVycm9yc1t2YWxpZGF0aW9uVG9rZW5dO2lmKGlzVmFsaWQpcXVldWUmJihhcnJheVJlbW92ZShxdWV1ZSxjb250cm9sKSxxdWV1ZS5sZW5ndGh8fChpbnZhbGlkQ291bnQtLSxpbnZhbGlkQ291bnR8fCh0b2dnbGVWYWxpZENzcyhpc1ZhbGlkKSxmb3JtLiR2YWxpZD0hMCxmb3JtLiRpbnZhbGlkPSExKSxlcnJvcnNbdmFsaWRhdGlvblRva2VuXT0hMSx0b2dnbGVWYWxpZENzcyghMCx2YWxpZGF0aW9uVG9rZW4pLHBhcmVudEZvcm0uJHNldFZhbGlkaXR5KHZhbGlkYXRpb25Ub2tlbiwhMCxmb3JtKSkpO2Vsc2V7aWYoaW52YWxpZENvdW50fHx0b2dnbGVWYWxpZENzcyhpc1ZhbGlkKSxxdWV1ZSl7aWYoaW5jbHVkZXMocXVldWUsY29udHJvbCkpcmV0dXJufWVsc2UgZXJyb3JzW3ZhbGlkYXRpb25Ub2tlbl09cXVldWU9W10saW52YWxpZENvdW50KyssdG9nZ2xlVmFsaWRDc3MoITEsdmFsaWRhdGlvblRva2VuKSxwYXJlbnRGb3JtLiRzZXRWYWxpZGl0eSh2YWxpZGF0aW9uVG9rZW4sITEsZm9ybSk7cXVldWUucHVzaChjb250cm9sKSxmb3JtLiR2YWxpZD0hMSxmb3JtLiRpbnZhbGlkPSEwfX0sZm9ybS4kc2V0RGlydHk9ZnVuY3Rpb24oKXskYW5pbWF0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LFBSSVNUSU5FX0NMQVNTKSwkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LERJUlRZX0NMQVNTKSxmb3JtLiRkaXJ0eT0hMCxmb3JtLiRwcmlzdGluZT0hMSxwYXJlbnRGb3JtLiRzZXREaXJ0eSgpfSxmb3JtLiRzZXRQcmlzdGluZT1mdW5jdGlvbigpeyRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsRElSVFlfQ0xBU1MpLCRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsUFJJU1RJTkVfQ0xBU1MpLGZvcm0uJGRpcnR5PSExLGZvcm0uJHByaXN0aW5lPSEwLGZvckVhY2goY29udHJvbHMsZnVuY3Rpb24oY29udHJvbCl7Y29udHJvbC4kc2V0UHJpc3RpbmUoKX0pfX1mdW5jdGlvbiB2YWxpZGF0ZShjdHJsLHZhbGlkYXRvck5hbWUsdmFsaWRpdHksdmFsdWUpe3JldHVybiBjdHJsLiRzZXRWYWxpZGl0eSh2YWxpZGF0b3JOYW1lLHZhbGlkaXR5KSx2YWxpZGl0eT92YWx1ZTp1bmRlZmluZWR9ZnVuY3Rpb24gdGVzdEZsYWdzKHZhbGlkaXR5LGZsYWdzKXt2YXIgaSxmbGFnO2lmKGZsYWdzKWZvcihpPTA7aTxmbGFncy5sZW5ndGg7KytpKWlmKGZsYWc9ZmxhZ3NbaV0sdmFsaWRpdHlbZmxhZ10pcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gYWRkTmF0aXZlSHRtbDVWYWxpZGF0b3JzKGN0cmwsdmFsaWRhdG9yTmFtZSxiYWRGbGFncyxpZ25vcmVGbGFncyx2YWxpZGl0eSl7aWYoaXNPYmplY3QodmFsaWRpdHkpKXtjdHJsLiQkaGFzTmF0aXZlVmFsaWRhdG9ycz0hMDt2YXIgdmFsaWRhdG9yPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gY3RybC4kZXJyb3JbdmFsaWRhdG9yTmFtZV18fHRlc3RGbGFncyh2YWxpZGl0eSxpZ25vcmVGbGFncyl8fCF0ZXN0RmxhZ3ModmFsaWRpdHksYmFkRmxhZ3MpP3ZhbHVlOnZvaWQgY3RybC4kc2V0VmFsaWRpdHkodmFsaWRhdG9yTmFtZSwhMSl9O2N0cmwuJHBhcnNlcnMucHVzaCh2YWxpZGF0b3IpfX1mdW5jdGlvbiB0ZXh0SW5wdXRUeXBlKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJsLCRzbmlmZmVyLCRicm93c2VyKXt2YXIgdmFsaWRpdHk9ZWxlbWVudC5wcm9wKFZBTElESVRZX1NUQVRFX1BST1BFUlRZKSxwbGFjZWhvbGRlcj1lbGVtZW50WzBdLnBsYWNlaG9sZGVyLG5vZXZlbnQ9e30sdHlwZT1sb3dlcmNhc2UoZWxlbWVudFswXS50eXBlKTtpZihjdHJsLiQkdmFsaWRpdHlTdGF0ZT12YWxpZGl0eSwhJHNuaWZmZXIuYW5kcm9pZCl7dmFyIGNvbXBvc2luZz0hMTtlbGVtZW50Lm9uKCJjb21wb3NpdGlvbnN0YXJ0IixmdW5jdGlvbigpe2NvbXBvc2luZz0hMH0pLGVsZW1lbnQub24oImNvbXBvc2l0aW9uZW5kIixmdW5jdGlvbigpe2NvbXBvc2luZz0hMSxsaXN0ZW5lcigpfSl9dmFyIGxpc3RlbmVyPWZ1bmN0aW9uKGV2KXtpZighY29tcG9zaW5nKXt2YXIgdmFsdWU9ZWxlbWVudC52YWwoKTtpZihtc2llJiYiaW5wdXQiPT09KGV2fHxub2V2ZW50KS50eXBlJiZlbGVtZW50WzBdLnBsYWNlaG9sZGVyIT09cGxhY2Vob2xkZXIpcmV0dXJuIHZvaWQocGxhY2Vob2xkZXI9ZWxlbWVudFswXS5wbGFjZWhvbGRlcik7InBhc3N3b3JkIiE9PXR5cGUmJnRvQm9vbGVhbihhdHRyLm5nVHJpbXx8IlQiKSYmKHZhbHVlPXRyaW0odmFsdWUpKTt2YXIgcmV2YWxpZGF0ZT12YWxpZGl0eSYmY3RybC4kJGhhc05hdGl2ZVZhbGlkYXRvcnM7KGN0cmwuJHZpZXdWYWx1ZSE9PXZhbHVlfHwiIj09PXZhbHVlJiZyZXZhbGlkYXRlKSYmKHNjb3BlLiRyb290LiQkcGhhc2U/Y3RybC4kc2V0Vmlld1ZhbHVlKHZhbHVlKTpzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtjdHJsLiRzZXRWaWV3VmFsdWUodmFsdWUpfSkpfX07aWYoJHNuaWZmZXIuaGFzRXZlbnQoImlucHV0IikpZWxlbWVudC5vbigiaW5wdXQiLGxpc3RlbmVyKTtlbHNle3ZhciB0aW1lb3V0LGRlZmVyTGlzdGVuZXI9ZnVuY3Rpb24oKXt0aW1lb3V0fHwodGltZW91dD0kYnJvd3Nlci5kZWZlcihmdW5jdGlvbigpe2xpc3RlbmVyKCksdGltZW91dD1udWxsfSkpfTtlbGVtZW50Lm9uKCJrZXlkb3duIixmdW5jdGlvbihldmVudCl7dmFyIGtleT1ldmVudC5rZXlDb2RlOzkxPT09a2V5fHxrZXk+MTUmJjE5PmtleXx8a2V5Pj0zNyYmNDA+PWtleXx8ZGVmZXJMaXN0ZW5lcigpfSksJHNuaWZmZXIuaGFzRXZlbnQoInBhc3RlIikmJmVsZW1lbnQub24oInBhc3RlIGN1dCIsZGVmZXJMaXN0ZW5lcil9ZWxlbWVudC5vbigiY2hhbmdlIixsaXN0ZW5lciksY3RybC4kcmVuZGVyPWZ1bmN0aW9uKCl7ZWxlbWVudC52YWwoY3RybC4kaXNFbXB0eShjdHJsLiR2aWV3VmFsdWUpPyIiOmN0cmwuJHZpZXdWYWx1ZSl9O3ZhciBwYXR0ZXJuVmFsaWRhdG9yLG1hdGNoLHBhdHRlcm49YXR0ci5uZ1BhdHRlcm47aWYocGF0dGVybil7dmFyIHZhbGlkYXRlUmVnZXg9ZnVuY3Rpb24ocmVnZXhwLHZhbHVlKXtyZXR1cm4gdmFsaWRhdGUoY3RybCwicGF0dGVybiIsY3RybC4kaXNFbXB0eSh2YWx1ZSl8fHJlZ2V4cC50ZXN0KHZhbHVlKSx2YWx1ZSl9O21hdGNoPXBhdHRlcm4ubWF0Y2goL15cLyguKilcLyhbZ2ltXSopJC8pLG1hdGNoPyhwYXR0ZXJuPW5ldyBSZWdFeHAobWF0Y2hbMV0sbWF0Y2hbMl0pLHBhdHRlcm5WYWxpZGF0b3I9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWxpZGF0ZVJlZ2V4KHBhdHRlcm4sdmFsdWUpfSk6cGF0dGVyblZhbGlkYXRvcj1mdW5jdGlvbih2YWx1ZSl7dmFyIHBhdHRlcm5PYmo9c2NvcGUuJGV2YWwocGF0dGVybik7aWYoIXBhdHRlcm5PYmp8fCFwYXR0ZXJuT2JqLnRlc3QpdGhyb3cgbWluRXJyKCJuZ1BhdHRlcm4iKSgibm9yZWdleHAiLCJFeHBlY3RlZCB7MH0gdG8gYmUgYSBSZWdFeHAgYnV0IHdhcyB7MX0uIEVsZW1lbnQ6IHsyfSIscGF0dGVybixwYXR0ZXJuT2JqLHN0YXJ0aW5nVGFnKGVsZW1lbnQpKTtyZXR1cm4gdmFsaWRhdGVSZWdleChwYXR0ZXJuT2JqLHZhbHVlKX0sY3RybC4kZm9ybWF0dGVycy5wdXNoKHBhdHRlcm5WYWxpZGF0b3IpLGN0cmwuJHBhcnNlcnMucHVzaChwYXR0ZXJuVmFsaWRhdG9yKX1pZihhdHRyLm5nTWlubGVuZ3RoKXt2YXIgbWlubGVuZ3RoPWludChhdHRyLm5nTWlubGVuZ3RoKSxtaW5MZW5ndGhWYWxpZGF0b3I9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWxpZGF0ZShjdHJsLCJtaW5sZW5ndGgiLGN0cmwuJGlzRW1wdHkodmFsdWUpfHx2YWx1ZS5sZW5ndGg+PW1pbmxlbmd0aCx2YWx1ZSl9O2N0cmwuJHBhcnNlcnMucHVzaChtaW5MZW5ndGhWYWxpZGF0b3IpLGN0cmwuJGZvcm1hdHRlcnMucHVzaChtaW5MZW5ndGhWYWxpZGF0b3IpfWlmKGF0dHIubmdNYXhsZW5ndGgpe3ZhciBtYXhsZW5ndGg9aW50KGF0dHIubmdNYXhsZW5ndGgpLG1heExlbmd0aFZhbGlkYXRvcj1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbGlkYXRlKGN0cmwsIm1heGxlbmd0aCIsY3RybC4kaXNFbXB0eSh2YWx1ZSl8fHZhbHVlLmxlbmd0aDw9bWF4bGVuZ3RoLHZhbHVlKX07Y3RybC4kcGFyc2Vycy5wdXNoKG1heExlbmd0aFZhbGlkYXRvciksY3RybC4kZm9ybWF0dGVycy5wdXNoKG1heExlbmd0aFZhbGlkYXRvcil9fWZ1bmN0aW9uIG51bWJlcklucHV0VHlwZShzY29wZSxlbGVtZW50LGF0dHIsY3RybCwkc25pZmZlciwkYnJvd3Nlcil7aWYodGV4dElucHV0VHlwZShzY29wZSxlbGVtZW50LGF0dHIsY3RybCwkc25pZmZlciwkYnJvd3NlciksY3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKXt2YXIgZW1wdHk9Y3RybC4kaXNFbXB0eSh2YWx1ZSk7cmV0dXJuIGVtcHR5fHxOVU1CRVJfUkVHRVhQLnRlc3QodmFsdWUpPyhjdHJsLiRzZXRWYWxpZGl0eSgibnVtYmVyIiwhMCksIiI9PT12YWx1ZT9udWxsOmVtcHR5P3ZhbHVlOnBhcnNlRmxvYXQodmFsdWUpKTooY3RybC4kc2V0VmFsaWRpdHkoIm51bWJlciIsITEpLHVuZGVmaW5lZCl9KSxhZGROYXRpdmVIdG1sNVZhbGlkYXRvcnMoY3RybCwibnVtYmVyIixudW1iZXJCYWRGbGFncyxudWxsLGN0cmwuJCR2YWxpZGl0eVN0YXRlKSxjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpe3JldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKT8iIjoiIit2YWx1ZX0pLGF0dHIubWluKXt2YXIgbWluVmFsaWRhdG9yPWZ1bmN0aW9uKHZhbHVlKXt2YXIgbWluPXBhcnNlRmxvYXQoYXR0ci5taW4pO3JldHVybiB2YWxpZGF0ZShjdHJsLCJtaW4iLGN0cmwuJGlzRW1wdHkodmFsdWUpfHx2YWx1ZT49bWluLHZhbHVlKX07Y3RybC4kcGFyc2Vycy5wdXNoKG1pblZhbGlkYXRvciksY3RybC4kZm9ybWF0dGVycy5wdXNoKG1pblZhbGlkYXRvcil9aWYoYXR0ci5tYXgpe3ZhciBtYXhWYWxpZGF0b3I9ZnVuY3Rpb24odmFsdWUpe3ZhciBtYXg9cGFyc2VGbG9hdChhdHRyLm1heCk7cmV0dXJuIHZhbGlkYXRlKGN0cmwsIm1heCIsY3RybC4kaXNFbXB0eSh2YWx1ZSl8fG1heD49dmFsdWUsdmFsdWUpfTtjdHJsLiRwYXJzZXJzLnB1c2gobWF4VmFsaWRhdG9yKSxjdHJsLiRmb3JtYXR0ZXJzLnB1c2gobWF4VmFsaWRhdG9yKX1jdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWxpZGF0ZShjdHJsLCJudW1iZXIiLGN0cmwuJGlzRW1wdHkodmFsdWUpfHxpc051bWJlcih2YWx1ZSksdmFsdWUpfSl9ZnVuY3Rpb24gdXJsSW5wdXRUeXBlKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJsLCRzbmlmZmVyLCRicm93c2VyKXt0ZXh0SW5wdXRUeXBlKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJsLCRzbmlmZmVyLCRicm93c2VyKTt2YXIgdXJsVmFsaWRhdG9yPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsaWRhdGUoY3RybCwidXJsIixjdHJsLiRpc0VtcHR5KHZhbHVlKXx8VVJMX1JFR0VYUC50ZXN0KHZhbHVlKSx2YWx1ZSl9O2N0cmwuJGZvcm1hdHRlcnMucHVzaCh1cmxWYWxpZGF0b3IpLGN0cmwuJHBhcnNlcnMucHVzaCh1cmxWYWxpZGF0b3IpfWZ1bmN0aW9uIGVtYWlsSW5wdXRUeXBlKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJsLCRzbmlmZmVyLCRicm93c2VyKXt0ZXh0SW5wdXRUeXBlKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJsLCRzbmlmZmVyLCRicm93c2VyKTt2YXIgZW1haWxWYWxpZGF0b3I9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWxpZGF0ZShjdHJsLCJlbWFpbCIsY3RybC4kaXNFbXB0eSh2YWx1ZSl8fEVNQUlMX1JFR0VYUC50ZXN0KHZhbHVlKSx2YWx1ZSl9O2N0cmwuJGZvcm1hdHRlcnMucHVzaChlbWFpbFZhbGlkYXRvciksY3RybC4kcGFyc2Vycy5wdXNoKGVtYWlsVmFsaWRhdG9yKX1mdW5jdGlvbiByYWRpb0lucHV0VHlwZShzY29wZSxlbGVtZW50LGF0dHIsY3RybCl7aXNVbmRlZmluZWQoYXR0ci5uYW1lKSYmZWxlbWVudC5hdHRyKCJuYW1lIixuZXh0VWlkKCkpLGVsZW1lbnQub24oImNsaWNrIixmdW5jdGlvbigpe2VsZW1lbnRbMF0uY2hlY2tlZCYmc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7Y3RybC4kc2V0Vmlld1ZhbHVlKGF0dHIudmFsdWUpfSl9KSxjdHJsLiRyZW5kZXI9ZnVuY3Rpb24oKXt2YXIgdmFsdWU9YXR0ci52YWx1ZTtlbGVtZW50WzBdLmNoZWNrZWQ9dmFsdWU9PWN0cmwuJHZpZXdWYWx1ZX0sYXR0ci4kb2JzZXJ2ZSgidmFsdWUiLGN0cmwuJHJlbmRlcil9ZnVuY3Rpb24gY2hlY2tib3hJbnB1dFR5cGUoc2NvcGUsZWxlbWVudCxhdHRyLGN0cmwpe3ZhciB0cnVlVmFsdWU9YXR0ci5uZ1RydWVWYWx1ZSxmYWxzZVZhbHVlPWF0dHIubmdGYWxzZVZhbHVlO2lzU3RyaW5nKHRydWVWYWx1ZSl8fCh0cnVlVmFsdWU9ITApLGlzU3RyaW5nKGZhbHNlVmFsdWUpfHwoZmFsc2VWYWx1ZT0hMSksZWxlbWVudC5vbigiY2xpY2siLGZ1bmN0aW9uKCl7c2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7Y3RybC4kc2V0Vmlld1ZhbHVlKGVsZW1lbnRbMF0uY2hlY2tlZCl9KX0pLGN0cmwuJHJlbmRlcj1mdW5jdGlvbigpe2VsZW1lbnRbMF0uY2hlY2tlZD1jdHJsLiR2aWV3VmFsdWV9LGN0cmwuJGlzRW1wdHk9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSE9PXRydWVWYWx1ZX0sY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWU9PT10cnVlVmFsdWV9KSxjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZT90cnVlVmFsdWU6ZmFsc2VWYWx1ZX0pfWZ1bmN0aW9uIGNsYXNzRGlyZWN0aXZlKG5hbWUsc2VsZWN0b3Ipe3JldHVybiBuYW1lPSJuZ0NsYXNzIituYW1lLFsiJGFuaW1hdGUiLGZ1bmN0aW9uKCRhbmltYXRlKXtmdW5jdGlvbiBhcnJheURpZmZlcmVuY2UodG9rZW5zMSx0b2tlbnMyKXt2YXIgdmFsdWVzPVtdO291dGVyOmZvcih2YXIgaT0wO2k8dG9rZW5zMS5sZW5ndGg7aSsrKXtmb3IodmFyIHRva2VuPXRva2VuczFbaV0saj0wO2o8dG9rZW5zMi5sZW5ndGg7aisrKWlmKHRva2VuPT10b2tlbnMyW2pdKWNvbnRpbnVlIG91dGVyO3ZhbHVlcy5wdXNoKHRva2VuKX1yZXR1cm4gdmFsdWVzfWZ1bmN0aW9uIGFycmF5Q2xhc3NlcyhjbGFzc1ZhbCl7aWYoaXNBcnJheShjbGFzc1ZhbCkpcmV0dXJuIGNsYXNzVmFsO2lmKGlzU3RyaW5nKGNsYXNzVmFsKSlyZXR1cm4gY2xhc3NWYWwuc3BsaXQoIiAiKTtpZihpc09iamVjdChjbGFzc1ZhbCkpe3ZhciBjbGFzc2VzPVtdO3JldHVybiBmb3JFYWNoKGNsYXNzVmFsLGZ1bmN0aW9uKHYsayl7diYmKGNsYXNzZXM9Y2xhc3Nlcy5jb25jYXQoay5zcGxpdCgiICIpKSl9KSxjbGFzc2VzfXJldHVybiBjbGFzc1ZhbH1yZXR1cm57cmVzdHJpY3Q6IkFDIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cil7ZnVuY3Rpb24gYWRkQ2xhc3NlcyhjbGFzc2VzKXt2YXIgbmV3Q2xhc3Nlcz1kaWdlc3RDbGFzc0NvdW50cyhjbGFzc2VzLDEpO2F0dHIuJGFkZENsYXNzKG5ld0NsYXNzZXMpfWZ1bmN0aW9uIHJlbW92ZUNsYXNzZXMoY2xhc3Nlcyl7dmFyIG5ld0NsYXNzZXM9ZGlnZXN0Q2xhc3NDb3VudHMoY2xhc3NlcywtMSk7YXR0ci4kcmVtb3ZlQ2xhc3MobmV3Q2xhc3Nlcyl9ZnVuY3Rpb24gZGlnZXN0Q2xhc3NDb3VudHMoY2xhc3Nlcyxjb3VudCl7dmFyIGNsYXNzQ291bnRzPWVsZW1lbnQuZGF0YSgiJGNsYXNzQ291bnRzIil8fHt9LGNsYXNzZXNUb1VwZGF0ZT1bXTtyZXR1cm4gZm9yRWFjaChjbGFzc2VzLGZ1bmN0aW9uKGNsYXNzTmFtZSl7KGNvdW50PjB8fGNsYXNzQ291bnRzW2NsYXNzTmFtZV0pJiYoY2xhc3NDb3VudHNbY2xhc3NOYW1lXT0oY2xhc3NDb3VudHNbY2xhc3NOYW1lXXx8MCkrY291bnQsY2xhc3NDb3VudHNbY2xhc3NOYW1lXT09PSsoY291bnQ+MCkmJmNsYXNzZXNUb1VwZGF0ZS5wdXNoKGNsYXNzTmFtZSkpfSksZWxlbWVudC5kYXRhKCIkY2xhc3NDb3VudHMiLGNsYXNzQ291bnRzKSxjbGFzc2VzVG9VcGRhdGUuam9pbigiICIpfWZ1bmN0aW9uIHVwZGF0ZUNsYXNzZXMob2xkQ2xhc3NlcyxuZXdDbGFzc2VzKXt2YXIgdG9BZGQ9YXJyYXlEaWZmZXJlbmNlKG5ld0NsYXNzZXMsb2xkQ2xhc3NlcyksdG9SZW1vdmU9YXJyYXlEaWZmZXJlbmNlKG9sZENsYXNzZXMsbmV3Q2xhc3Nlcyk7dG9SZW1vdmU9ZGlnZXN0Q2xhc3NDb3VudHModG9SZW1vdmUsLTEpLHRvQWRkPWRpZ2VzdENsYXNzQ291bnRzKHRvQWRkLDEpLDA9PT10b0FkZC5sZW5ndGg/JGFuaW1hdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCx0b1JlbW92ZSk6MD09PXRvUmVtb3ZlLmxlbmd0aD8kYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LHRvQWRkKTokYW5pbWF0ZS5zZXRDbGFzcyhlbGVtZW50LHRvQWRkLHRvUmVtb3ZlKX1mdW5jdGlvbiBuZ0NsYXNzV2F0Y2hBY3Rpb24obmV3VmFsKXtpZihzZWxlY3Rvcj09PSEwfHxzY29wZS4kaW5kZXglMj09PXNlbGVjdG9yKXt2YXIgbmV3Q2xhc3Nlcz1hcnJheUNsYXNzZXMobmV3VmFsfHxbXSk7aWYob2xkVmFsKXtpZighZXF1YWxzKG5ld1ZhbCxvbGRWYWwpKXt2YXIgb2xkQ2xhc3Nlcz1hcnJheUNsYXNzZXMob2xkVmFsKTt1cGRhdGVDbGFzc2VzKG9sZENsYXNzZXMsbmV3Q2xhc3Nlcyl9fWVsc2UgYWRkQ2xhc3NlcyhuZXdDbGFzc2VzKX1vbGRWYWw9c2hhbGxvd0NvcHkobmV3VmFsKX12YXIgb2xkVmFsO3Njb3BlLiR3YXRjaChhdHRyW25hbWVdLG5nQ2xhc3NXYXRjaEFjdGlvbiwhMCksYXR0ci4kb2JzZXJ2ZSgiY2xhc3MiLGZ1bmN0aW9uKCl7bmdDbGFzc1dhdGNoQWN0aW9uKHNjb3BlLiRldmFsKGF0dHJbbmFtZV0pKX0pLCJuZ0NsYXNzIiE9PW5hbWUmJnNjb3BlLiR3YXRjaCgiJGluZGV4IixmdW5jdGlvbigkaW5kZXgsb2xkJGluZGV4KXt2YXIgbW9kPTEmJGluZGV4O2lmKG1vZCE9PSgxJm9sZCRpbmRleCkpe3ZhciBjbGFzc2VzPWFycmF5Q2xhc3NlcyhzY29wZS4kZXZhbChhdHRyW25hbWVdKSk7bW9kPT09c2VsZWN0b3I/YWRkQ2xhc3NlcyhjbGFzc2VzKTpyZW1vdmVDbGFzc2VzKGNsYXNzZXMpfX0pfX19XX12YXIgVkFMSURJVFlfU1RBVEVfUFJPUEVSVFk9InZhbGlkaXR5Iixsb3dlcmNhc2U9ZnVuY3Rpb24oc3RyaW5nKXtyZXR1cm4gaXNTdHJpbmcoc3RyaW5nKT9zdHJpbmcudG9Mb3dlckNhc2UoKTpzdHJpbmd9LGhhc093blByb3BlcnR5PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksdXBwZXJjYXNlPWZ1bmN0aW9uKHN0cmluZyl7cmV0dXJuIGlzU3RyaW5nKHN0cmluZyk/c3RyaW5nLnRvVXBwZXJDYXNlKCk6c3RyaW5nfSxtYW51YWxMb3dlcmNhc2U9ZnVuY3Rpb24ocyl7cmV0dXJuIGlzU3RyaW5nKHMpP3MucmVwbGFjZSgvW0EtWl0vZyxmdW5jdGlvbihjaCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoMzJ8Y2guY2hhckNvZGVBdCgwKSl9KTpzfSxtYW51YWxVcHBlcmNhc2U9ZnVuY3Rpb24ocyl7cmV0dXJuIGlzU3RyaW5nKHMpP3MucmVwbGFjZSgvW2Etel0vZyxmdW5jdGlvbihjaCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoLTMzJmNoLmNoYXJDb2RlQXQoMCkpfSk6c307ImkiIT09IkkiLnRvTG93ZXJDYXNlKCkmJihsb3dlcmNhc2U9bWFudWFsTG93ZXJjYXNlLHVwcGVyY2FzZT1tYW51YWxVcHBlcmNhc2UpO3ZhciBtc2llLGpxTGl0ZSxqUXVlcnksYW5ndWxhck1vZHVsZSxub2RlTmFtZV8sc2xpY2U9W10uc2xpY2UscHVzaD1bXS5wdXNoLHRvU3RyaW5nPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsbmdNaW5FcnI9bWluRXJyKCJuZyIpLGFuZ3VsYXI9d2luZG93LmFuZ3VsYXJ8fCh3aW5kb3cuYW5ndWxhcj17fSksdWlkPVsiMCIsIjAiLCIwIl07bXNpZT1pbnQoKC9tc2llIChcZCspLy5leGVjKGxvd2VyY2FzZShuYXZpZ2F0b3IudXNlckFnZW50KSl8fFtdKVsxXSksaXNOYU4obXNpZSkmJihtc2llPWludCgoL3RyaWRlbnRcLy4qOyBydjooXGQrKS8uZXhlYyhsb3dlcmNhc2UobmF2aWdhdG9yLnVzZXJBZ2VudCkpfHxbXSlbMV0pKSxub29wLiRpbmplY3Q9W10saWRlbnRpdHkuJGluamVjdD1bXTt2YXIgaXNBcnJheT1mdW5jdGlvbigpe3JldHVybiBpc0Z1bmN0aW9uKEFycmF5LmlzQXJyYXkpP0FycmF5LmlzQXJyYXk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT10b1N0cmluZy5jYWxsKHZhbHVlKX19KCksdHJpbT1mdW5jdGlvbigpe3JldHVybiBTdHJpbmcucHJvdG90eXBlLnRyaW0/ZnVuY3Rpb24odmFsdWUpe3JldHVybiBpc1N0cmluZyh2YWx1ZSk/dmFsdWUudHJpbSgpOnZhbHVlfTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGlzU3RyaW5nKHZhbHVlKT92YWx1ZS5yZXBsYWNlKC9eXHNccyovLCIiKS5yZXBsYWNlKC9cc1xzKiQvLCIiKTp2YWx1ZX19KCk7bm9kZU5hbWVfPTk+bXNpZT9mdW5jdGlvbihlbGVtZW50KXtyZXR1cm4gZWxlbWVudD1lbGVtZW50Lm5vZGVOYW1lP2VsZW1lbnQ6ZWxlbWVudFswXSxlbGVtZW50LnNjb3BlTmFtZSYmIkhUTUwiIT1lbGVtZW50LnNjb3BlTmFtZT91cHBlcmNhc2UoZWxlbWVudC5zY29wZU5hbWUrIjoiK2VsZW1lbnQubm9kZU5hbWUpOmVsZW1lbnQubm9kZU5hbWV9OmZ1bmN0aW9uKGVsZW1lbnQpe3JldHVybiBlbGVtZW50Lm5vZGVOYW1lP2VsZW1lbnQubm9kZU5hbWU6ZWxlbWVudFswXS5ub2RlTmFtZX07dmFyIGNzcD1mdW5jdGlvbigpe2lmKGlzRGVmaW5lZChjc3AuaXNBY3RpdmVfKSlyZXR1cm4gY3NwLmlzQWN0aXZlXzt2YXIgYWN0aXZlPSEoIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIltuZy1jc3BdIikmJiFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJbZGF0YS1uZy1jc3BdIikpO2lmKCFhY3RpdmUpdHJ5e25ldyBGdW5jdGlvbigiIil9Y2F0Y2goZSl7YWN0aXZlPSEwfXJldHVybiBjc3AuaXNBY3RpdmVfPWFjdGl2ZX0sU05BS0VfQ0FTRV9SRUdFWFA9L1tBLVpdL2csdmVyc2lvbj17ZnVsbDoiMS4yLjI2IixtYWpvcjoxLG1pbm9yOjIsZG90OjI2LGNvZGVOYW1lOiJjYXB0aXZhdGluZy1kaXNpbnRlcmVzdCJ9O0pRTGl0ZS5leHBhbmRvPSJuZzMzOSI7dmFyIGpxQ2FjaGU9SlFMaXRlLmNhY2hlPXt9LGpxSWQ9MSxhZGRFdmVudExpc3RlbmVyRm49d2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oZWxlbWVudCx0eXBlLGZuKXtlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSxmbiwhMSl9OmZ1bmN0aW9uKGVsZW1lbnQsdHlwZSxmbil7ZWxlbWVudC5hdHRhY2hFdmVudCgib24iK3R5cGUsZm4pfSxyZW1vdmVFdmVudExpc3RlbmVyRm49d2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oZWxlbWVudCx0eXBlLGZuKXtlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSxmbiwhMSl9OmZ1bmN0aW9uKGVsZW1lbnQsdHlwZSxmbil7ZWxlbWVudC5kZXRhY2hFdmVudCgib24iK3R5cGUsZm4pfSxTUEVDSUFMX0NIQVJTX1JFR0VYUD0oSlFMaXRlLl9kYXRhPWZ1bmN0aW9uKG5vZGUpe3JldHVybiB0aGlzLmNhY2hlW25vZGVbdGhpcy5leHBhbmRvXV18fHt9fSwvKFtcOlwtXF9dKyguKSkvZyksTU9aX0hBQ0tfUkVHRVhQPS9ebW96KFtBLVpdKS8sanFMaXRlTWluRXJyPW1pbkVycigianFMaXRlIiksU0lOR0xFX1RBR19SRUdFWFA9L148KFx3KylccypcLz8+KD86PFwvXDE+fCkkLyxIVE1MX1JFR0VYUD0vPHwmIz9cdys7LyxUQUdfTkFNRV9SRUdFWFA9LzwoW1x3Ol0rKS8sWEhUTUxfVEFHX1JFR0VYUD0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXHc6XSspW14+XSopXC8+L2dpLHdyYXBNYXA9e29wdGlvbjpbMSwnPHNlbGVjdCBtdWx0aXBsZT0ibXVsdGlwbGUiPicsIjwvc2VsZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTt3cmFwTWFwLm9wdGdyb3VwPXdyYXBNYXAub3B0aW9uLHdyYXBNYXAudGJvZHk9d3JhcE1hcC50Zm9vdD13cmFwTWFwLmNvbGdyb3VwPXdyYXBNYXAuY2FwdGlvbj13cmFwTWFwLnRoZWFkLHdyYXBNYXAudGg9d3JhcE1hcC50ZDt2YXIgSlFMaXRlUHJvdG90eXBlPUpRTGl0ZS5wcm90b3R5cGU9e3JlYWR5OmZ1bmN0aW9uKGZuKXtmdW5jdGlvbiB0cmlnZ2VyKCl7ZmlyZWR8fChmaXJlZD0hMCxmbigpKX12YXIgZmlyZWQ9ITE7ImNvbXBsZXRlIj09PWRvY3VtZW50LnJlYWR5U3RhdGU/c2V0VGltZW91dCh0cmlnZ2VyKToodGhpcy5vbigiRE9NQ29udGVudExvYWRlZCIsdHJpZ2dlciksSlFMaXRlKHdpbmRvdykub24oImxvYWQiLHRyaWdnZXIpKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXt2YXIgdmFsdWU9W107cmV0dXJuIGZvckVhY2godGhpcyxmdW5jdGlvbihlKXt2YWx1ZS5wdXNoKCIiK2UpfSksIlsiK3ZhbHVlLmpvaW4oIiwgIikrIl0ifSxlcTpmdW5jdGlvbihpbmRleCl7cmV0dXJuIGpxTGl0ZShpbmRleD49MD90aGlzW2luZGV4XTp0aGlzW3RoaXMubGVuZ3RoK2luZGV4XSl9LGxlbmd0aDowLHB1c2g6cHVzaCxzb3J0OltdLnNvcnQsc3BsaWNlOltdLnNwbGljZX0sQk9PTEVBTl9BVFRSPXt9O2ZvckVhY2goIm11bHRpcGxlLHNlbGVjdGVkLGNoZWNrZWQsZGlzYWJsZWQscmVhZE9ubHkscmVxdWlyZWQsb3BlbiIuc3BsaXQoIiwiKSxmdW5jdGlvbih2YWx1ZSl7Qk9PTEVBTl9BVFRSW2xvd2VyY2FzZSh2YWx1ZSldPXZhbHVlfSk7dmFyIEJPT0xFQU5fRUxFTUVOVFM9e307Zm9yRWFjaCgiaW5wdXQsc2VsZWN0LG9wdGlvbix0ZXh0YXJlYSxidXR0b24sZm9ybSxkZXRhaWxzIi5zcGxpdCgiLCIpLGZ1bmN0aW9uKHZhbHVlKXtCT09MRUFOX0VMRU1FTlRTW3VwcGVyY2FzZSh2YWx1ZSldPSEwfSksZm9yRWFjaCh7ZGF0YTpqcUxpdGVEYXRhLHJlbW92ZURhdGE6anFMaXRlUmVtb3ZlRGF0YX0sZnVuY3Rpb24oZm4sbmFtZSl7SlFMaXRlW25hbWVdPWZufSksZm9yRWFjaCh7ZGF0YTpqcUxpdGVEYXRhLGluaGVyaXRlZERhdGE6anFMaXRlSW5oZXJpdGVkRGF0YSxzY29wZTpmdW5jdGlvbihlbGVtZW50KXtyZXR1cm4ganFMaXRlLmRhdGEoZWxlbWVudCwiJHNjb3BlIil8fGpxTGl0ZUluaGVyaXRlZERhdGEoZWxlbWVudC5wYXJlbnROb2RlfHxlbGVtZW50LFsiJGlzb2xhdGVTY29wZSIsIiRzY29wZSJdKX0saXNvbGF0ZVNjb3BlOmZ1bmN0aW9uKGVsZW1lbnQpe3JldHVybiBqcUxpdGUuZGF0YShlbGVtZW50LCIkaXNvbGF0ZVNjb3BlIil8fGpxTGl0ZS5kYXRhKGVsZW1lbnQsIiRpc29sYXRlU2NvcGVOb1RlbXBsYXRlIil9LGNvbnRyb2xsZXI6anFMaXRlQ29udHJvbGxlcixpbmplY3RvcjpmdW5jdGlvbihlbGVtZW50KXtyZXR1cm4ganFMaXRlSW5oZXJpdGVkRGF0YShlbGVtZW50LCIkaW5qZWN0b3IiKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlbGVtZW50LG5hbWUpe2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpfSxoYXNDbGFzczpqcUxpdGVIYXNDbGFzcyxjc3M6ZnVuY3Rpb24oZWxlbWVudCxuYW1lLHZhbHVlKXtpZihuYW1lPWNhbWVsQ2FzZShuYW1lKSwhaXNEZWZpbmVkKHZhbHVlKSl7dmFyIHZhbDtyZXR1cm4gOD49bXNpZSYmKHZhbD1lbGVtZW50LmN1cnJlbnRTdHlsZSYmZWxlbWVudC5jdXJyZW50U3R5bGVbbmFtZV0sIiI9PT12YWwmJih2YWw9ImF1dG8iKSksdmFsPXZhbHx8ZWxlbWVudC5zdHlsZVtuYW1lXSw4Pj1tc2llJiYodmFsPSIiPT09dmFsP3VuZGVmaW5lZDp2YWwpLHZhbH1lbGVtZW50LnN0eWxlW25hbWVdPXZhbHVlfSxhdHRyOmZ1bmN0aW9uKGVsZW1lbnQsbmFtZSx2YWx1ZSl7dmFyIGxvd2VyY2FzZWROYW1lPWxvd2VyY2FzZShuYW1lKTtpZihCT09MRUFOX0FUVFJbbG93ZXJjYXNlZE5hbWVdKXtpZighaXNEZWZpbmVkKHZhbHVlKSlyZXR1cm4gZWxlbWVudFtuYW1lXXx8KGVsZW1lbnQuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0obmFtZSl8fG5vb3ApLnNwZWNpZmllZD9sb3dlcmNhc2VkTmFtZTp1bmRlZmluZWQ7dmFsdWU/KGVsZW1lbnRbbmFtZV09ITAsZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSxsb3dlcmNhc2VkTmFtZSkpOihlbGVtZW50W25hbWVdPSExLGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGxvd2VyY2FzZWROYW1lKSl9ZWxzZSBpZihpc0RlZmluZWQodmFsdWUpKWVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsdmFsdWUpO2Vsc2UgaWYoZWxlbWVudC5nZXRBdHRyaWJ1dGUpe3ZhciByZXQ9ZWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZSwyKTtyZXR1cm4gbnVsbD09PXJldD91bmRlZmluZWQ6cmV0fX0scHJvcDpmdW5jdGlvbihlbGVtZW50LG5hbWUsdmFsdWUpe3JldHVybiBpc0RlZmluZWQodmFsdWUpP3ZvaWQoZWxlbWVudFtuYW1lXT12YWx1ZSk6ZWxlbWVudFtuYW1lXX0sdGV4dDpmdW5jdGlvbigpe2Z1bmN0aW9uIGdldFRleHQoZWxlbWVudCx2YWx1ZSl7dmFyIHRleHRQcm9wPU5PREVfVFlQRV9URVhUX1BST1BFUlRZW2VsZW1lbnQubm9kZVR5cGVdO3JldHVybiBpc1VuZGVmaW5lZCh2YWx1ZSk/dGV4dFByb3A/ZWxlbWVudFt0ZXh0UHJvcF06IiI6dm9pZChlbGVtZW50W3RleHRQcm9wXT12YWx1ZSl9dmFyIE5PREVfVFlQRV9URVhUX1BST1BFUlRZPVtdO3JldHVybiA5Pm1zaWU/KE5PREVfVFlQRV9URVhUX1BST1BFUlRZWzFdPSJpbm5lclRleHQiLE5PREVfVFlQRV9URVhUX1BST1BFUlRZWzNdPSJub2RlVmFsdWUiKTpOT0RFX1RZUEVfVEVYVF9QUk9QRVJUWVsxXT1OT0RFX1RZUEVfVEVYVF9QUk9QRVJUWVszXT0idGV4dENvbnRlbnQiLGdldFRleHQuJGR2PSIiLGdldFRleHR9KCksdmFsOmZ1bmN0aW9uKGVsZW1lbnQsdmFsdWUpe2lmKGlzVW5kZWZpbmVkKHZhbHVlKSl7aWYoIlNFTEVDVCI9PT1ub2RlTmFtZV8oZWxlbWVudCkmJmVsZW1lbnQubXVsdGlwbGUpe3ZhciByZXN1bHQ9W107cmV0dXJuIGZvckVhY2goZWxlbWVudC5vcHRpb25zLGZ1bmN0aW9uKG9wdGlvbil7b3B0aW9uLnNlbGVjdGVkJiZyZXN1bHQucHVzaChvcHRpb24udmFsdWV8fG9wdGlvbi50ZXh0KX0pLDA9PT1yZXN1bHQubGVuZ3RoP251bGw6cmVzdWx0fXJldHVybiBlbGVtZW50LnZhbHVlfWVsZW1lbnQudmFsdWU9dmFsdWV9LGh0bWw6ZnVuY3Rpb24oZWxlbWVudCx2YWx1ZSl7aWYoaXNVbmRlZmluZWQodmFsdWUpKXJldHVybiBlbGVtZW50LmlubmVySFRNTDtmb3IodmFyIGk9MCxjaGlsZE5vZGVzPWVsZW1lbnQuY2hpbGROb2RlcztpPGNoaWxkTm9kZXMubGVuZ3RoO2krKylqcUxpdGVEZWFsb2MoY2hpbGROb2Rlc1tpXSk7ZWxlbWVudC5pbm5lckhUTUw9dmFsdWV9LGVtcHR5OmpxTGl0ZUVtcHR5fSxmdW5jdGlvbihmbixuYW1lKXtKUUxpdGUucHJvdG90eXBlW25hbWVdPWZ1bmN0aW9uKGFyZzEsYXJnMil7dmFyIGksa2V5LG5vZGVDb3VudD10aGlzLmxlbmd0aDtpZihmbiE9PWpxTGl0ZUVtcHR5JiYoMj09Zm4ubGVuZ3RoJiZmbiE9PWpxTGl0ZUhhc0NsYXNzJiZmbiE9PWpxTGl0ZUNvbnRyb2xsZXI/YXJnMTphcmcyKT09PXVuZGVmaW5lZCl7aWYoaXNPYmplY3QoYXJnMSkpe2ZvcihpPTA7bm9kZUNvdW50Pmk7aSsrKWlmKGZuPT09anFMaXRlRGF0YSlmbih0aGlzW2ldLGFyZzEpO2Vsc2UgZm9yKGtleSBpbiBhcmcxKWZuKHRoaXNbaV0sa2V5LGFyZzFba2V5XSk7cmV0dXJuIHRoaXN9Zm9yKHZhciB2YWx1ZT1mbi4kZHYsamo9dmFsdWU9PT11bmRlZmluZWQ/TWF0aC5taW4obm9kZUNvdW50LDEpOm5vZGVDb3VudCxqPTA7amo+ajtqKyspe3ZhciBub2RlVmFsdWU9Zm4odGhpc1tqXSxhcmcxLGFyZzIpO3ZhbHVlPXZhbHVlP3ZhbHVlK25vZGVWYWx1ZTpub2RlVmFsdWV9cmV0dXJuIHZhbHVlfWZvcihpPTA7bm9kZUNvdW50Pmk7aSsrKWZuKHRoaXNbaV0sYXJnMSxhcmcyKTtyZXR1cm4gdGhpc319KSxmb3JFYWNoKHtyZW1vdmVEYXRhOmpxTGl0ZVJlbW92ZURhdGEsZGVhbG9jOmpxTGl0ZURlYWxvYyxvbjpmdW5jdGlvbiBvbkZuKGVsZW1lbnQsdHlwZSxmbix1bnN1cHBvcnRlZCl7aWYoaXNEZWZpbmVkKHVuc3VwcG9ydGVkKSl0aHJvdyBqcUxpdGVNaW5FcnIoIm9uYXJncyIsImpxTGl0ZSNvbigpIGRvZXMgbm90IHN1cHBvcnQgdGhlIGBzZWxlY3RvcmAgb3IgYGV2ZW50RGF0YWAgcGFyYW1ldGVycyIpO3ZhciBldmVudHM9anFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsImV2ZW50cyIpLGhhbmRsZT1qcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwiaGFuZGxlIik7ZXZlbnRzfHxqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwiZXZlbnRzIixldmVudHM9e30pLGhhbmRsZXx8anFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsImhhbmRsZSIsaGFuZGxlPWNyZWF0ZUV2ZW50SGFuZGxlcihlbGVtZW50LGV2ZW50cykpLGZvckVhY2godHlwZS5zcGxpdCgiICIpLGZ1bmN0aW9uKHR5cGUpe3ZhciBldmVudEZucz1ldmVudHNbdHlwZV07aWYoIWV2ZW50Rm5zKXtpZigibW91c2VlbnRlciI9PXR5cGV8fCJtb3VzZWxlYXZlIj09dHlwZSl7dmFyIGNvbnRhaW5zPWRvY3VtZW50LmJvZHkuY29udGFpbnN8fGRvY3VtZW50LmJvZHkuY29tcGFyZURvY3VtZW50UG9zaXRpb24/ZnVuY3Rpb24oYSxiKXt2YXIgYWRvd249OT09PWEubm9kZVR5cGU/YS5kb2N1bWVudEVsZW1lbnQ6YSxidXA9YiYmYi5wYXJlbnROb2RlO3JldHVybiBhPT09YnVwfHwhKCFidXB8fDEhPT1idXAubm9kZVR5cGV8fCEoYWRvd24uY29udGFpbnM/YWRvd24uY29udGFpbnMoYnVwKTphLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGJ1cCkpKX06ZnVuY3Rpb24oYSxiKXtpZihiKWZvcig7Yj1iLnBhcmVudE5vZGU7KWlmKGI9PT1hKXJldHVybiEwO3JldHVybiExfTtldmVudHNbdHlwZV09W107dmFyIGV2ZW50bWFwPXttb3VzZWxlYXZlOiJtb3VzZW91dCIsbW91c2VlbnRlcjoibW91c2VvdmVyIn07b25GbihlbGVtZW50LGV2ZW50bWFwW3R5cGVdLGZ1bmN0aW9uKGV2ZW50KXt2YXIgdGFyZ2V0PXRoaXMscmVsYXRlZD1ldmVudC5yZWxhdGVkVGFyZ2V0OyghcmVsYXRlZHx8cmVsYXRlZCE9PXRhcmdldCYmIWNvbnRhaW5zKHRhcmdldCxyZWxhdGVkKSkmJmhhbmRsZShldmVudCx0eXBlKX0pfWVsc2UgYWRkRXZlbnRMaXN0ZW5lckZuKGVsZW1lbnQsdHlwZSxoYW5kbGUpLGV2ZW50c1t0eXBlXT1bXTtldmVudEZucz1ldmVudHNbdHlwZV19ZXZlbnRGbnMucHVzaChmbil9KX0sb2ZmOmpxTGl0ZU9mZixvbmU6ZnVuY3Rpb24oZWxlbWVudCx0eXBlLGZuKXtlbGVtZW50PWpxTGl0ZShlbGVtZW50KSxlbGVtZW50Lm9uKHR5cGUsZnVuY3Rpb24gb25Gbigpe2VsZW1lbnQub2ZmKHR5cGUsZm4pLGVsZW1lbnQub2ZmKHR5cGUsb25Gbil9KSxlbGVtZW50Lm9uKHR5cGUsZm4pfSxyZXBsYWNlV2l0aDpmdW5jdGlvbihlbGVtZW50LHJlcGxhY2VOb2RlKXt2YXIgaW5kZXgscGFyZW50PWVsZW1lbnQucGFyZW50Tm9kZTtqcUxpdGVEZWFsb2MoZWxlbWVudCksZm9yRWFjaChuZXcgSlFMaXRlKHJlcGxhY2VOb2RlKSxmdW5jdGlvbihub2RlKXtpbmRleD9wYXJlbnQuaW5zZXJ0QmVmb3JlKG5vZGUsaW5kZXgubmV4dFNpYmxpbmcpOnBhcmVudC5yZXBsYWNlQ2hpbGQobm9kZSxlbGVtZW50KSxpbmRleD1ub2RlfSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGVsZW1lbnQpe3ZhciBjaGlsZHJlbj1bXTtyZXR1cm4gZm9yRWFjaChlbGVtZW50LmNoaWxkTm9kZXMsZnVuY3Rpb24oZWxlbWVudCl7MT09PWVsZW1lbnQubm9kZVR5cGUmJmNoaWxkcmVuLnB1c2goZWxlbWVudCl9KSxjaGlsZHJlbn0sY29udGVudHM6ZnVuY3Rpb24oZWxlbWVudCl7cmV0dXJuIGVsZW1lbnQuY29udGVudERvY3VtZW50fHxlbGVtZW50LmNoaWxkTm9kZXN8fFtdfSxhcHBlbmQ6ZnVuY3Rpb24oZWxlbWVudCxub2RlKXtmb3JFYWNoKG5ldyBKUUxpdGUobm9kZSksZnVuY3Rpb24oY2hpbGQpeygxPT09ZWxlbWVudC5ub2RlVHlwZXx8MTE9PT1lbGVtZW50Lm5vZGVUeXBlKSYmZWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZCl9KX0scHJlcGVuZDpmdW5jdGlvbihlbGVtZW50LG5vZGUpe2lmKDE9PT1lbGVtZW50Lm5vZGVUeXBlKXt2YXIgaW5kZXg9ZWxlbWVudC5maXJzdENoaWxkO2ZvckVhY2gobmV3IEpRTGl0ZShub2RlKSxmdW5jdGlvbihjaGlsZCl7ZWxlbWVudC5pbnNlcnRCZWZvcmUoY2hpbGQsaW5kZXgpfSl9fSx3cmFwOmZ1bmN0aW9uKGVsZW1lbnQsd3JhcE5vZGUpe3dyYXBOb2RlPWpxTGl0ZSh3cmFwTm9kZSlbMF07dmFyIHBhcmVudD1lbGVtZW50LnBhcmVudE5vZGU7cGFyZW50JiZwYXJlbnQucmVwbGFjZUNoaWxkKHdyYXBOb2RlLGVsZW1lbnQpLHdyYXBOb2RlLmFwcGVuZENoaWxkKGVsZW1lbnQpfSxyZW1vdmU6ZnVuY3Rpb24oZWxlbWVudCl7anFMaXRlRGVhbG9jKGVsZW1lbnQpO3ZhciBwYXJlbnQ9ZWxlbWVudC5wYXJlbnROb2RlO3BhcmVudCYmcGFyZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQpfSxhZnRlcjpmdW5jdGlvbihlbGVtZW50LG5ld0VsZW1lbnQpe3ZhciBpbmRleD1lbGVtZW50LHBhcmVudD1lbGVtZW50LnBhcmVudE5vZGU7Zm9yRWFjaChuZXcgSlFMaXRlKG5ld0VsZW1lbnQpLGZ1bmN0aW9uKG5vZGUpe3BhcmVudC5pbnNlcnRCZWZvcmUobm9kZSxpbmRleC5uZXh0U2libGluZyksaW5kZXg9bm9kZX0pfSxhZGRDbGFzczpqcUxpdGVBZGRDbGFzcyxyZW1vdmVDbGFzczpqcUxpdGVSZW1vdmVDbGFzcyx0b2dnbGVDbGFzczpmdW5jdGlvbihlbGVtZW50LHNlbGVjdG9yLGNvbmRpdGlvbil7c2VsZWN0b3ImJmZvckVhY2goc2VsZWN0b3Iuc3BsaXQoIiAiKSxmdW5jdGlvbihjbGFzc05hbWUpe3ZhciBjbGFzc0NvbmRpdGlvbj1jb25kaXRpb247aXNVbmRlZmluZWQoY2xhc3NDb25kaXRpb24pJiYoY2xhc3NDb25kaXRpb249IWpxTGl0ZUhhc0NsYXNzKGVsZW1lbnQsY2xhc3NOYW1lKSksKGNsYXNzQ29uZGl0aW9uP2pxTGl0ZUFkZENsYXNzOmpxTGl0ZVJlbW92ZUNsYXNzKShlbGVtZW50LGNsYXNzTmFtZSl9KX0scGFyZW50OmZ1bmN0aW9uKGVsZW1lbnQpe3ZhciBwYXJlbnQ9ZWxlbWVudC5wYXJlbnROb2RlO3JldHVybiBwYXJlbnQmJjExIT09cGFyZW50Lm5vZGVUeXBlP3BhcmVudDpudWxsfSxuZXh0OmZ1bmN0aW9uKGVsZW1lbnQpe2lmKGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nKXJldHVybiBlbGVtZW50Lm5leHRFbGVtZW50U2libGluZztmb3IodmFyIGVsbT1lbGVtZW50Lm5leHRTaWJsaW5nO251bGwhPWVsbSYmMSE9PWVsbS5ub2RlVHlwZTspZWxtPWVsbS5uZXh0U2libGluZztyZXR1cm4gZWxtfSxmaW5kOmZ1bmN0aW9uKGVsZW1lbnQsc2VsZWN0b3Ipe3JldHVybiBlbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lP2VsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoc2VsZWN0b3IpOltdfSxjbG9uZTpqcUxpdGVDbG9uZSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihlbGVtZW50LGV2ZW50LGV4dHJhUGFyYW1ldGVycyl7dmFyIGR1bW15RXZlbnQsZXZlbnRGbnNDb3B5LGhhbmRsZXJBcmdzLGV2ZW50TmFtZT1ldmVudC50eXBlfHxldmVudCxldmVudEZucz0oanFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsImV2ZW50cyIpfHx7fSlbZXZlbnROYW1lXTtldmVudEZucyYmKGR1bW15RXZlbnQ9e3ByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0UHJldmVudGVkPSEwfSxpc0RlZmF1bHRQcmV2ZW50ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWZhdWx0UHJldmVudGVkPT09ITB9LHN0b3BQcm9wYWdhdGlvbjpub29wLHR5cGU6ZXZlbnROYW1lLHRhcmdldDplbGVtZW50fSxldmVudC50eXBlJiYoZHVtbXlFdmVudD1leHRlbmQoZHVtbXlFdmVudCxldmVudCkpLGV2ZW50Rm5zQ29weT1zaGFsbG93Q29weShldmVudEZucyksaGFuZGxlckFyZ3M9ZXh0cmFQYXJhbWV0ZXJzP1tkdW1teUV2ZW50XS5jb25jYXQoZXh0cmFQYXJhbWV0ZXJzKTpbZHVtbXlFdmVudF0sZm9yRWFjaChldmVudEZuc0NvcHksZnVuY3Rpb24oZm4pe2ZuLmFwcGx5KGVsZW1lbnQsaGFuZGxlckFyZ3MpfSkpfX0sZnVuY3Rpb24oZm4sbmFtZSl7SlFMaXRlLnByb3RvdHlwZVtuYW1lXT1mdW5jdGlvbihhcmcxLGFyZzIsYXJnMyl7Zm9yKHZhciB2YWx1ZSxpPTA7aTx0aGlzLmxlbmd0aDtpKyspaXNVbmRlZmluZWQodmFsdWUpPyh2YWx1ZT1mbih0aGlzW2ldLGFyZzEsYXJnMixhcmczKSxpc0RlZmluZWQodmFsdWUpJiYodmFsdWU9anFMaXRlKHZhbHVlKSkpOmpxTGl0ZUFkZE5vZGVzKHZhbHVlLGZuKHRoaXNbaV0sYXJnMSxhcmcyLGFyZzMpKTtyZXR1cm4gaXNEZWZpbmVkKHZhbHVlKT92YWx1ZTp0aGlzfSxKUUxpdGUucHJvdG90eXBlLmJpbmQ9SlFMaXRlLnByb3RvdHlwZS5vbixKUUxpdGUucHJvdG90eXBlLnVuYmluZD1KUUxpdGUucHJvdG90eXBlLm9mZn0pLEhhc2hNYXAucHJvdG90eXBlPXtwdXQ6ZnVuY3Rpb24oa2V5LHZhbHVlKXt0aGlzW2hhc2hLZXkoa2V5LHRoaXMubmV4dFVpZCldPXZhbHVlfSxnZXQ6ZnVuY3Rpb24oa2V5KXtyZXR1cm4gdGhpc1toYXNoS2V5KGtleSx0aGlzLm5leHRVaWQpXX0scmVtb3ZlOmZ1bmN0aW9uKGtleSl7dmFyIHZhbHVlPXRoaXNba2V5PWhhc2hLZXkoa2V5LHRoaXMubmV4dFVpZCldO3JldHVybiBkZWxldGUgdGhpc1trZXldLHZhbHVlfX07dmFyIEZOX0FSR1M9L15mdW5jdGlvblxzKlteXChdKlwoXHMqKFteXCldKilcKS9tLEZOX0FSR19TUExJVD0vLC8sRk5fQVJHPS9eXHMqKF8/KShcUys/KVwxXHMqJC8sU1RSSVBfQ09NTUVOVFM9LygoXC9cLy4qJCl8KFwvXCpbXHNcU10qP1wqXC8pKS9nbSwkaW5qZWN0b3JNaW5FcnI9bWluRXJyKCIkaW5qZWN0b3IiKSwkYW5pbWF0ZU1pbkVycj1taW5FcnIoIiRhbmltYXRlIiksJEFuaW1hdGVQcm92aWRlcj1bIiRwcm92aWRlIixmdW5jdGlvbigkcHJvdmlkZSl7dGhpcy4kJHNlbGVjdG9ycz17fSx0aGlzLnJlZ2lzdGVyPWZ1bmN0aW9uKG5hbWUsZmFjdG9yeSl7dmFyIGtleT1uYW1lKyItYW5pbWF0aW9uIjtpZihuYW1lJiYiLiIhPW5hbWUuY2hhckF0KDApKXRocm93ICRhbmltYXRlTWluRXJyKCJub3Rjc2VsIiwiRXhwZWN0aW5nIGNsYXNzIHNlbGVjdG9yIHN0YXJ0aW5nIHdpdGggJy4nIGdvdCAnezB9Jy4iLG5hbWUpO3RoaXMuJCRzZWxlY3RvcnNbbmFtZS5zdWJzdHIoMSldPWtleSwkcHJvdmlkZS5mYWN0b3J5KGtleSxmYWN0b3J5KX0sdGhpcy5jbGFzc05hbWVGaWx0ZXI9ZnVuY3Rpb24oZXhwcmVzc2lvbil7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoJiYodGhpcy4kJGNsYXNzTmFtZUZpbHRlcj1leHByZXNzaW9uIGluc3RhbmNlb2YgUmVnRXhwP2V4cHJlc3Npb246bnVsbCksdGhpcy4kJGNsYXNzTmFtZUZpbHRlcn0sdGhpcy4kZ2V0PVsiJHRpbWVvdXQiLCIkJGFzeW5jQ2FsbGJhY2siLGZ1bmN0aW9uKCR0aW1lb3V0LCQkYXN5bmNDYWxsYmFjayl7ZnVuY3Rpb24gYXN5bmMoZm4pe2ZuJiYkJGFzeW5jQ2FsbGJhY2soZm4pfXJldHVybntlbnRlcjpmdW5jdGlvbihlbGVtZW50LHBhcmVudCxhZnRlcixkb25lKXthZnRlcj9hZnRlci5hZnRlcihlbGVtZW50KToocGFyZW50JiZwYXJlbnRbMF18fChwYXJlbnQ9YWZ0ZXIucGFyZW50KCkpLHBhcmVudC5hcHBlbmQoZWxlbWVudCkpLGFzeW5jKGRvbmUpfSxsZWF2ZTpmdW5jdGlvbihlbGVtZW50LGRvbmUpe2VsZW1lbnQucmVtb3ZlKCksYXN5bmMoZG9uZSl9LG1vdmU6ZnVuY3Rpb24oZWxlbWVudCxwYXJlbnQsYWZ0ZXIsZG9uZSl7dGhpcy5lbnRlcihlbGVtZW50LHBhcmVudCxhZnRlcixkb25lKX0sYWRkQ2xhc3M6ZnVuY3Rpb24oZWxlbWVudCxjbGFzc05hbWUsZG9uZSl7Y2xhc3NOYW1lPWlzU3RyaW5nKGNsYXNzTmFtZSk/Y2xhc3NOYW1lOmlzQXJyYXkoY2xhc3NOYW1lKT9jbGFzc05hbWUuam9pbigiICIpOiIiLGZvckVhY2goZWxlbWVudCxmdW5jdGlvbihlbGVtZW50KXtqcUxpdGVBZGRDbGFzcyhlbGVtZW50LGNsYXNzTmFtZSl9KSxhc3luYyhkb25lKX0scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oZWxlbWVudCxjbGFzc05hbWUsZG9uZSl7Y2xhc3NOYW1lPWlzU3RyaW5nKGNsYXNzTmFtZSk/Y2xhc3NOYW1lOmlzQXJyYXkoY2xhc3NOYW1lKT9jbGFzc05hbWUuam9pbigiICIpOiIiLGZvckVhY2goZWxlbWVudCxmdW5jdGlvbihlbGVtZW50KXtqcUxpdGVSZW1vdmVDbGFzcyhlbGVtZW50LGNsYXNzTmFtZSl9KSxhc3luYyhkb25lKX0sc2V0Q2xhc3M6ZnVuY3Rpb24oZWxlbWVudCxhZGQscmVtb3ZlLGRvbmUpe2ZvckVhY2goZWxlbWVudCxmdW5jdGlvbihlbGVtZW50KXtqcUxpdGVBZGRDbGFzcyhlbGVtZW50LGFkZCksanFMaXRlUmVtb3ZlQ2xhc3MoZWxlbWVudCxyZW1vdmUpfSksYXN5bmMoZG9uZSl9LGVuYWJsZWQ6bm9vcH19XX1dLCRjb21waWxlTWluRXJyPW1pbkVycigiJGNvbXBpbGUiKTskQ29tcGlsZVByb3ZpZGVyLiRpbmplY3Q9WyIkcHJvdmlkZSIsIiQkc2FuaXRpemVVcmlQcm92aWRlciJdO3ZhciBQUkVGSVhfUkVHRVhQPS9eKHhbXDpcLV9dfGRhdGFbXDpcLV9dKS9pLCRpbnRlcnBvbGF0ZU1pbkVycj1taW5FcnIoIiRpbnRlcnBvbGF0ZSIpLFBBVEhfTUFUQ0g9L14oW15cPyNdKikoXD8oW14jXSopKT8oIyguKikpPyQvLERFRkFVTFRfUE9SVFM9e2h0dHA6ODAsaHR0cHM6NDQzLGZ0cDoyMX0sJGxvY2F0aW9uTWluRXJyPW1pbkVycigiJGxvY2F0aW9uIik7TG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmwucHJvdG90eXBlPUxvY2F0aW9uSGFzaGJhbmdVcmwucHJvdG90eXBlPUxvY2F0aW9uSHRtbDVVcmwucHJvdG90eXBlPXskJGh0bWw1OiExLCQkcmVwbGFjZTohMSxhYnNVcmw6bG9jYXRpb25HZXR0ZXIoIiQkYWJzVXJsIiksdXJsOmZ1bmN0aW9uKHVybCl7aWYoaXNVbmRlZmluZWQodXJsKSlyZXR1cm4gdGhpcy4kJHVybDt2YXIgbWF0Y2g9UEFUSF9NQVRDSC5leGVjKHVybCk7cmV0dXJuIG1hdGNoWzFdJiZ0aGlzLnBhdGgoZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdKSksKG1hdGNoWzJdfHxtYXRjaFsxXSkmJnRoaXMuc2VhcmNoKG1hdGNoWzNdfHwiIiksdGhpcy5oYXNoKG1hdGNoWzVdfHwiIiksdGhpc30scHJvdG9jb2w6bG9jYXRpb25HZXR0ZXIoIiQkcHJvdG9jb2wiKSxob3N0OmxvY2F0aW9uR2V0dGVyKCIkJGhvc3QiKSxwb3J0OmxvY2F0aW9uR2V0dGVyKCIkJHBvcnQiKSxwYXRoOmxvY2F0aW9uR2V0dGVyU2V0dGVyKCIkJHBhdGgiLGZ1bmN0aW9uKHBhdGgpe3JldHVybiBwYXRoPXBhdGg/cGF0aC50b1N0cmluZygpOiIiLCIvIj09cGF0aC5jaGFyQXQoMCk/cGF0aDoiLyIrcGF0aH0pLHNlYXJjaDpmdW5jdGlvbihzZWFyY2gscGFyYW1WYWx1ZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gdGhpcy4kJHNlYXJjaDtjYXNlIDE6aWYoaXNTdHJpbmcoc2VhcmNoKXx8aXNOdW1iZXIoc2VhcmNoKSlzZWFyY2g9c2VhcmNoLnRvU3RyaW5nKCksdGhpcy4kJHNlYXJjaD1wYXJzZUtleVZhbHVlKHNlYXJjaCk7ZWxzZXtpZighaXNPYmplY3Qoc2VhcmNoKSl0aHJvdyAkbG9jYXRpb25NaW5FcnIoImlzcmNoYXJnIiwiVGhlIGZpcnN0IGFyZ3VtZW50IG9mIHRoZSBgJGxvY2F0aW9uI3NlYXJjaCgpYCBjYWxsIG11c3QgYmUgYSBzdHJpbmcgb3IgYW4gb2JqZWN0LiIpO2ZvckVhY2goc2VhcmNoLGZ1bmN0aW9uKHZhbHVlLGtleSl7bnVsbD09dmFsdWUmJmRlbGV0ZSBzZWFyY2hba2V5XX0pLHRoaXMuJCRzZWFyY2g9c2VhcmNofWJyZWFrO2RlZmF1bHQ6aXNVbmRlZmluZWQocGFyYW1WYWx1ZSl8fG51bGw9PT1wYXJhbVZhbHVlP2RlbGV0ZSB0aGlzLiQkc2VhcmNoW3NlYXJjaF06dGhpcy4kJHNlYXJjaFtzZWFyY2hdPXBhcmFtVmFsdWV9cmV0dXJuIHRoaXMuJCRjb21wb3NlKCksdGhpc30saGFzaDpsb2NhdGlvbkdldHRlclNldHRlcigiJCRoYXNoIixmdW5jdGlvbihoYXNoKXtyZXR1cm4gaGFzaD9oYXNoLnRvU3RyaW5nKCk6IiJ9KSxyZXBsYWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJCRyZXBsYWNlPSEwLHRoaXN9fTt2YXIgcHJvbWlzZVdhcm5pbmcsJHBhcnNlTWluRXJyPW1pbkVycigiJHBhcnNlIikscHJvbWlzZVdhcm5pbmdDYWNoZT17fSxDQUxMPUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLEFQUExZPUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSxCSU5EPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLE9QRVJBVE9SUz17Im51bGwiOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LCJ0cnVlIjpmdW5jdGlvbigpe3JldHVybiEwfSwiZmFsc2UiOmZ1bmN0aW9uKCl7cmV0dXJuITF9LHVuZGVmaW5lZDpub29wLCIrIjpmdW5jdGlvbihzZWxmLGxvY2FscyxhLGIpe3JldHVybiBhPWEoc2VsZixsb2NhbHMpLGI9YihzZWxmLGxvY2FscyksaXNEZWZpbmVkKGEpP2lzRGVmaW5lZChiKT9hK2I6YTppc0RlZmluZWQoYik/Yjp1bmRlZmluZWR9LCItIjpmdW5jdGlvbihzZWxmLGxvY2FscyxhLGIpe3JldHVybiBhPWEoc2VsZixsb2NhbHMpLGI9YihzZWxmLGxvY2FscyksKGlzRGVmaW5lZChhKT9hOjApLShpc0RlZmluZWQoYik/YjowKX0sIioiOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGEoc2VsZixsb2NhbHMpKmIoc2VsZixsb2NhbHMpfSwiLyI6ZnVuY3Rpb24oc2VsZixsb2NhbHMsYSxiKXtyZXR1cm4gYShzZWxmLGxvY2FscykvYihzZWxmLGxvY2Fscyl9LCIlIjpmdW5jdGlvbihzZWxmLGxvY2FscyxhLGIpe3JldHVybiBhKHNlbGYsbG9jYWxzKSViKHNlbGYsbG9jYWxzKX0sIl4iOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGEoc2VsZixsb2NhbHMpXmIoc2VsZixsb2NhbHMpfSwiPSI6bm9vcCwiPT09IjpmdW5jdGlvbihzZWxmLGxvY2FscyxhLGIpe3JldHVybiBhKHNlbGYsbG9jYWxzKT09PWIoc2VsZixsb2NhbHMpfSwiIT09IjpmdW5jdGlvbihzZWxmLGxvY2FscyxhLGIpe3JldHVybiBhKHNlbGYsbG9jYWxzKSE9PWIoc2VsZixsb2NhbHMpfSwiPT0iOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGEoc2VsZixsb2NhbHMpPT1iKHNlbGYsbG9jYWxzKX0sIiE9IjpmdW5jdGlvbihzZWxmLGxvY2FscyxhLGIpe3JldHVybiBhKHNlbGYsbG9jYWxzKSE9YihzZWxmLGxvY2Fscyl9LCI8IjpmdW5jdGlvbihzZWxmLGxvY2FscyxhLGIpe3JldHVybiBhKHNlbGYsbG9jYWxzKTxiKHNlbGYsbG9jYWxzKX0sIj4iOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGEoc2VsZixsb2NhbHMpPmIoc2VsZixsb2NhbHMpfSwiPD0iOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGEoc2VsZixsb2NhbHMpPD1iKHNlbGYsbG9jYWxzKX0sIj49IjpmdW5jdGlvbihzZWxmLGxvY2FscyxhLGIpe3JldHVybiBhKHNlbGYsbG9jYWxzKT49YihzZWxmLGxvY2Fscyl9LCImJiI6ZnVuY3Rpb24oc2VsZixsb2NhbHMsYSxiKXtyZXR1cm4gYShzZWxmLGxvY2FscykmJmIoc2VsZixsb2NhbHMpfSwifHwiOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGEoc2VsZixsb2NhbHMpfHxiKHNlbGYsbG9jYWxzKX0sIiYiOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGEoc2VsZixsb2NhbHMpJmIoc2VsZixsb2NhbHMpfSwifCI6ZnVuY3Rpb24oc2VsZixsb2NhbHMsYSxiKXtyZXR1cm4gYihzZWxmLGxvY2Fscykoc2VsZixsb2NhbHMsYShzZWxmLGxvY2FscykpfSwiISI6ZnVuY3Rpb24oc2VsZixsb2NhbHMsYSl7cmV0dXJuIWEoc2VsZixsb2NhbHMpfX0sRVNDQVBFPXtuOiJcbiIsZjoiXGYiLHI6IlxyIix0OiIJIix2OiILIiwiJyI6IiciLCciJzonIid9LExleGVyPWZ1bmN0aW9uKG9wdGlvbnMpe3RoaXMub3B0aW9ucz1vcHRpb25zfTtMZXhlci5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkxleGVyLGxleDpmdW5jdGlvbih0ZXh0KXtmb3IodGhpcy50ZXh0PXRleHQsdGhpcy5pbmRleD0wLHRoaXMuY2g9dW5kZWZpbmVkLHRoaXMubGFzdENoPSI6Iix0aGlzLnRva2Vucz1bXTt0aGlzLmluZGV4PHRoaXMudGV4dC5sZW5ndGg7KXtpZih0aGlzLmNoPXRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCksdGhpcy5pcygiXCInIikpdGhpcy5yZWFkU3RyaW5nKHRoaXMuY2gpO2Vsc2UgaWYodGhpcy5pc051bWJlcih0aGlzLmNoKXx8dGhpcy5pcygiLiIpJiZ0aGlzLmlzTnVtYmVyKHRoaXMucGVlaygpKSl0aGlzLnJlYWROdW1iZXIoKTtlbHNlIGlmKHRoaXMuaXNJZGVudCh0aGlzLmNoKSl0aGlzLnJlYWRJZGVudCgpO2Vsc2UgaWYodGhpcy5pcygiKCl7fVtdLiw7Oj8iKSl0aGlzLnRva2Vucy5wdXNoKHtpbmRleDp0aGlzLmluZGV4LHRleHQ6dGhpcy5jaH0pLHRoaXMuaW5kZXgrKztlbHNle2lmKHRoaXMuaXNXaGl0ZXNwYWNlKHRoaXMuY2gpKXt0aGlzLmluZGV4Kys7Y29udGludWV9dmFyIGNoMj10aGlzLmNoK3RoaXMucGVlaygpLGNoMz1jaDIrdGhpcy5wZWVrKDIpLGZuPU9QRVJBVE9SU1t0aGlzLmNoXSxmbjI9T1BFUkFUT1JTW2NoMl0sZm4zPU9QRVJBVE9SU1tjaDNdO2ZuMz8odGhpcy50b2tlbnMucHVzaCh7aW5kZXg6dGhpcy5pbmRleCx0ZXh0OmNoMyxmbjpmbjN9KSx0aGlzLmluZGV4Kz0zKTpmbjI/KHRoaXMudG9rZW5zLnB1c2goe2luZGV4OnRoaXMuaW5kZXgsdGV4dDpjaDIsZm46Zm4yfSksdGhpcy5pbmRleCs9Mik6Zm4/KHRoaXMudG9rZW5zLnB1c2goe2luZGV4OnRoaXMuaW5kZXgsdGV4dDp0aGlzLmNoLGZuOmZufSksdGhpcy5pbmRleCs9MSk6dGhpcy50aHJvd0Vycm9yKCJVbmV4cGVjdGVkIG5leHQgY2hhcmFjdGVyICIsdGhpcy5pbmRleCx0aGlzLmluZGV4KzEpfXRoaXMubGFzdENoPXRoaXMuY2h9cmV0dXJuIHRoaXMudG9rZW5zCn0saXM6ZnVuY3Rpb24oY2hhcnMpe3JldHVybi0xIT09Y2hhcnMuaW5kZXhPZih0aGlzLmNoKX0sd2FzOmZ1bmN0aW9uKGNoYXJzKXtyZXR1cm4tMSE9PWNoYXJzLmluZGV4T2YodGhpcy5sYXN0Q2gpfSxwZWVrOmZ1bmN0aW9uKGkpe3ZhciBudW09aXx8MTtyZXR1cm4gdGhpcy5pbmRleCtudW08dGhpcy50ZXh0Lmxlbmd0aD90aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgrbnVtKTohMX0saXNOdW1iZXI6ZnVuY3Rpb24oY2gpe3JldHVybiBjaD49IjAiJiYiOSI+PWNofSxpc1doaXRlc3BhY2U6ZnVuY3Rpb24oY2gpe3JldHVybiIgIj09PWNofHwiXHIiPT09Y2h8fCIJIj09PWNofHwiXG4iPT09Y2h8fCILIj09PWNofHwiwqAiPT09Y2h9LGlzSWRlbnQ6ZnVuY3Rpb24oY2gpe3JldHVybiBjaD49ImEiJiYieiI+PWNofHxjaD49IkEiJiYiWiI+PWNofHwiXyI9PT1jaHx8IiQiPT09Y2h9LGlzRXhwT3BlcmF0b3I6ZnVuY3Rpb24oY2gpe3JldHVybiItIj09PWNofHwiKyI9PT1jaHx8dGhpcy5pc051bWJlcihjaCl9LHRocm93RXJyb3I6ZnVuY3Rpb24oZXJyb3Isc3RhcnQsZW5kKXtlbmQ9ZW5kfHx0aGlzLmluZGV4O3ZhciBjb2xTdHI9aXNEZWZpbmVkKHN0YXJ0KT8icyAiK3N0YXJ0KyItIit0aGlzLmluZGV4KyIgWyIrdGhpcy50ZXh0LnN1YnN0cmluZyhzdGFydCxlbmQpKyJdIjoiICIrZW5kO3Rocm93ICRwYXJzZU1pbkVycigibGV4ZXJyIiwiTGV4ZXIgRXJyb3I6IHswfSBhdCBjb2x1bW57MX0gaW4gZXhwcmVzc2lvbiBbezJ9XS4iLGVycm9yLGNvbFN0cix0aGlzLnRleHQpfSxyZWFkTnVtYmVyOmZ1bmN0aW9uKCl7Zm9yKHZhciBudW1iZXI9IiIsc3RhcnQ9dGhpcy5pbmRleDt0aGlzLmluZGV4PHRoaXMudGV4dC5sZW5ndGg7KXt2YXIgY2g9bG93ZXJjYXNlKHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCkpO2lmKCIuIj09Y2h8fHRoaXMuaXNOdW1iZXIoY2gpKW51bWJlcis9Y2g7ZWxzZXt2YXIgcGVla0NoPXRoaXMucGVlaygpO2lmKCJlIj09Y2gmJnRoaXMuaXNFeHBPcGVyYXRvcihwZWVrQ2gpKW51bWJlcis9Y2g7ZWxzZSBpZih0aGlzLmlzRXhwT3BlcmF0b3IoY2gpJiZwZWVrQ2gmJnRoaXMuaXNOdW1iZXIocGVla0NoKSYmImUiPT1udW1iZXIuY2hhckF0KG51bWJlci5sZW5ndGgtMSkpbnVtYmVyKz1jaDtlbHNle2lmKCF0aGlzLmlzRXhwT3BlcmF0b3IoY2gpfHxwZWVrQ2gmJnRoaXMuaXNOdW1iZXIocGVla0NoKXx8ImUiIT1udW1iZXIuY2hhckF0KG51bWJlci5sZW5ndGgtMSkpYnJlYWs7dGhpcy50aHJvd0Vycm9yKCJJbnZhbGlkIGV4cG9uZW50Iil9fXRoaXMuaW5kZXgrK31udW1iZXI9MSpudW1iZXIsdGhpcy50b2tlbnMucHVzaCh7aW5kZXg6c3RhcnQsdGV4dDpudW1iZXIsbGl0ZXJhbDohMCxjb25zdGFudDohMCxmbjpmdW5jdGlvbigpe3JldHVybiBudW1iZXJ9fSl9LHJlYWRJZGVudDpmdW5jdGlvbigpe2Zvcih2YXIgbGFzdERvdCxwZWVrSW5kZXgsbWV0aG9kTmFtZSxjaCxwYXJzZXI9dGhpcyxpZGVudD0iIixzdGFydD10aGlzLmluZGV4O3RoaXMuaW5kZXg8dGhpcy50ZXh0Lmxlbmd0aCYmKGNoPXRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCksIi4iPT09Y2h8fHRoaXMuaXNJZGVudChjaCl8fHRoaXMuaXNOdW1iZXIoY2gpKTspIi4iPT09Y2gmJihsYXN0RG90PXRoaXMuaW5kZXgpLGlkZW50Kz1jaCx0aGlzLmluZGV4Kys7aWYobGFzdERvdClmb3IocGVla0luZGV4PXRoaXMuaW5kZXg7cGVla0luZGV4PHRoaXMudGV4dC5sZW5ndGg7KXtpZihjaD10aGlzLnRleHQuY2hhckF0KHBlZWtJbmRleCksIigiPT09Y2gpe21ldGhvZE5hbWU9aWRlbnQuc3Vic3RyKGxhc3REb3Qtc3RhcnQrMSksaWRlbnQ9aWRlbnQuc3Vic3RyKDAsbGFzdERvdC1zdGFydCksdGhpcy5pbmRleD1wZWVrSW5kZXg7YnJlYWt9aWYoIXRoaXMuaXNXaGl0ZXNwYWNlKGNoKSlicmVhaztwZWVrSW5kZXgrK312YXIgdG9rZW49e2luZGV4OnN0YXJ0LHRleHQ6aWRlbnR9O2lmKE9QRVJBVE9SUy5oYXNPd25Qcm9wZXJ0eShpZGVudCkpdG9rZW4uZm49T1BFUkFUT1JTW2lkZW50XSx0b2tlbi5saXRlcmFsPSEwLHRva2VuLmNvbnN0YW50PSEwO2Vsc2V7dmFyIGdldHRlcj1nZXR0ZXJGbihpZGVudCx0aGlzLm9wdGlvbnMsdGhpcy50ZXh0KTt0b2tlbi5mbj1leHRlbmQoZnVuY3Rpb24oc2VsZixsb2NhbHMpe3JldHVybiBnZXR0ZXIoc2VsZixsb2NhbHMpfSx7YXNzaWduOmZ1bmN0aW9uKHNlbGYsdmFsdWUpe3JldHVybiBzZXR0ZXIoc2VsZixpZGVudCx2YWx1ZSxwYXJzZXIudGV4dCxwYXJzZXIub3B0aW9ucyl9fSl9dGhpcy50b2tlbnMucHVzaCh0b2tlbiksbWV0aG9kTmFtZSYmKHRoaXMudG9rZW5zLnB1c2goe2luZGV4Omxhc3REb3QsdGV4dDoiLiJ9KSx0aGlzLnRva2Vucy5wdXNoKHtpbmRleDpsYXN0RG90KzEsdGV4dDptZXRob2ROYW1lfSkpfSxyZWFkU3RyaW5nOmZ1bmN0aW9uKHF1b3RlKXt2YXIgc3RhcnQ9dGhpcy5pbmRleDt0aGlzLmluZGV4Kys7Zm9yKHZhciBzdHJpbmc9IiIscmF3U3RyaW5nPXF1b3RlLGVzY2FwZT0hMTt0aGlzLmluZGV4PHRoaXMudGV4dC5sZW5ndGg7KXt2YXIgY2g9dGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KTtpZihyYXdTdHJpbmcrPWNoLGVzY2FwZSl7aWYoInUiPT09Y2gpe3ZhciBoZXg9dGhpcy50ZXh0LnN1YnN0cmluZyh0aGlzLmluZGV4KzEsdGhpcy5pbmRleCs1KTtoZXgubWF0Y2goL1tcZGEtZl17NH0vaSl8fHRoaXMudGhyb3dFcnJvcigiSW52YWxpZCB1bmljb2RlIGVzY2FwZSBbXFx1IitoZXgrIl0iKSx0aGlzLmluZGV4Kz00LHN0cmluZys9U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChoZXgsMTYpKX1lbHNle3ZhciByZXA9RVNDQVBFW2NoXTtzdHJpbmcrPXJlcHx8Y2h9ZXNjYXBlPSExfWVsc2UgaWYoIlxcIj09PWNoKWVzY2FwZT0hMDtlbHNle2lmKGNoPT09cXVvdGUpcmV0dXJuIHRoaXMuaW5kZXgrKyx2b2lkIHRoaXMudG9rZW5zLnB1c2goe2luZGV4OnN0YXJ0LHRleHQ6cmF3U3RyaW5nLHN0cmluZzpzdHJpbmcsbGl0ZXJhbDohMCxjb25zdGFudDohMCxmbjpmdW5jdGlvbigpe3JldHVybiBzdHJpbmd9fSk7c3RyaW5nKz1jaH10aGlzLmluZGV4Kyt9dGhpcy50aHJvd0Vycm9yKCJVbnRlcm1pbmF0ZWQgcXVvdGUiLHN0YXJ0KX19O3ZhciBQYXJzZXI9ZnVuY3Rpb24obGV4ZXIsJGZpbHRlcixvcHRpb25zKXt0aGlzLmxleGVyPWxleGVyLHRoaXMuJGZpbHRlcj0kZmlsdGVyLHRoaXMub3B0aW9ucz1vcHRpb25zfTtQYXJzZXIuWkVSTz1leHRlbmQoZnVuY3Rpb24oKXtyZXR1cm4gMH0se2NvbnN0YW50OiEwfSksUGFyc2VyLnByb3RvdHlwZT17Y29uc3RydWN0b3I6UGFyc2VyLHBhcnNlOmZ1bmN0aW9uKHRleHQpe3RoaXMudGV4dD10ZXh0LHRoaXMudG9rZW5zPXRoaXMubGV4ZXIubGV4KHRleHQpO3ZhciB2YWx1ZT10aGlzLnN0YXRlbWVudHMoKTtyZXR1cm4gMCE9PXRoaXMudG9rZW5zLmxlbmd0aCYmdGhpcy50aHJvd0Vycm9yKCJpcyBhbiB1bmV4cGVjdGVkIHRva2VuIix0aGlzLnRva2Vuc1swXSksdmFsdWUubGl0ZXJhbD0hIXZhbHVlLmxpdGVyYWwsdmFsdWUuY29uc3RhbnQ9ISF2YWx1ZS5jb25zdGFudCx2YWx1ZX0scHJpbWFyeTpmdW5jdGlvbigpe3ZhciBwcmltYXJ5O2lmKHRoaXMuZXhwZWN0KCIoIikpcHJpbWFyeT10aGlzLmZpbHRlckNoYWluKCksdGhpcy5jb25zdW1lKCIpIik7ZWxzZSBpZih0aGlzLmV4cGVjdCgiWyIpKXByaW1hcnk9dGhpcy5hcnJheURlY2xhcmF0aW9uKCk7ZWxzZSBpZih0aGlzLmV4cGVjdCgieyIpKXByaW1hcnk9dGhpcy5vYmplY3QoKTtlbHNle3ZhciB0b2tlbj10aGlzLmV4cGVjdCgpO3ByaW1hcnk9dG9rZW4uZm4scHJpbWFyeXx8dGhpcy50aHJvd0Vycm9yKCJub3QgYSBwcmltYXJ5IGV4cHJlc3Npb24iLHRva2VuKSxwcmltYXJ5LmxpdGVyYWw9ISF0b2tlbi5saXRlcmFsLHByaW1hcnkuY29uc3RhbnQ9ISF0b2tlbi5jb25zdGFudH1mb3IodmFyIG5leHQsY29udGV4dDtuZXh0PXRoaXMuZXhwZWN0KCIoIiwiWyIsIi4iKTspIigiPT09bmV4dC50ZXh0PyhwcmltYXJ5PXRoaXMuZnVuY3Rpb25DYWxsKHByaW1hcnksY29udGV4dCksY29udGV4dD1udWxsKToiWyI9PT1uZXh0LnRleHQ/KGNvbnRleHQ9cHJpbWFyeSxwcmltYXJ5PXRoaXMub2JqZWN0SW5kZXgocHJpbWFyeSkpOiIuIj09PW5leHQudGV4dD8oY29udGV4dD1wcmltYXJ5LHByaW1hcnk9dGhpcy5maWVsZEFjY2VzcyhwcmltYXJ5KSk6dGhpcy50aHJvd0Vycm9yKCJJTVBPU1NJQkxFIik7cmV0dXJuIHByaW1hcnl9LHRocm93RXJyb3I6ZnVuY3Rpb24obXNnLHRva2VuKXt0aHJvdyAkcGFyc2VNaW5FcnIoInN5bnRheCIsIlN5bnRheCBFcnJvcjogVG9rZW4gJ3swfScgezF9IGF0IGNvbHVtbiB7Mn0gb2YgdGhlIGV4cHJlc3Npb24gW3szfV0gc3RhcnRpbmcgYXQgW3s0fV0uIix0b2tlbi50ZXh0LG1zZyx0b2tlbi5pbmRleCsxLHRoaXMudGV4dCx0aGlzLnRleHQuc3Vic3RyaW5nKHRva2VuLmluZGV4KSl9LHBlZWtUb2tlbjpmdW5jdGlvbigpe2lmKDA9PT10aGlzLnRva2Vucy5sZW5ndGgpdGhyb3cgJHBhcnNlTWluRXJyKCJ1ZW9lIiwiVW5leHBlY3RlZCBlbmQgb2YgZXhwcmVzc2lvbjogezB9Iix0aGlzLnRleHQpO3JldHVybiB0aGlzLnRva2Vuc1swXX0scGVlazpmdW5jdGlvbihlMSxlMixlMyxlNCl7aWYodGhpcy50b2tlbnMubGVuZ3RoPjApe3ZhciB0b2tlbj10aGlzLnRva2Vuc1swXSx0PXRva2VuLnRleHQ7aWYodD09PWUxfHx0PT09ZTJ8fHQ9PT1lM3x8dD09PWU0fHwhZTEmJiFlMiYmIWUzJiYhZTQpcmV0dXJuIHRva2VufXJldHVybiExfSxleHBlY3Q6ZnVuY3Rpb24oZTEsZTIsZTMsZTQpe3ZhciB0b2tlbj10aGlzLnBlZWsoZTEsZTIsZTMsZTQpO3JldHVybiB0b2tlbj8odGhpcy50b2tlbnMuc2hpZnQoKSx0b2tlbik6ITF9LGNvbnN1bWU6ZnVuY3Rpb24oZTEpe3RoaXMuZXhwZWN0KGUxKXx8dGhpcy50aHJvd0Vycm9yKCJpcyB1bmV4cGVjdGVkLCBleHBlY3RpbmcgWyIrZTErIl0iLHRoaXMucGVlaygpKX0sdW5hcnlGbjpmdW5jdGlvbihmbixyaWdodCl7cmV0dXJuIGV4dGVuZChmdW5jdGlvbihzZWxmLGxvY2Fscyl7cmV0dXJuIGZuKHNlbGYsbG9jYWxzLHJpZ2h0KX0se2NvbnN0YW50OnJpZ2h0LmNvbnN0YW50fSl9LHRlcm5hcnlGbjpmdW5jdGlvbihsZWZ0LG1pZGRsZSxyaWdodCl7cmV0dXJuIGV4dGVuZChmdW5jdGlvbihzZWxmLGxvY2Fscyl7cmV0dXJuIGxlZnQoc2VsZixsb2NhbHMpP21pZGRsZShzZWxmLGxvY2Fscyk6cmlnaHQoc2VsZixsb2NhbHMpfSx7Y29uc3RhbnQ6bGVmdC5jb25zdGFudCYmbWlkZGxlLmNvbnN0YW50JiZyaWdodC5jb25zdGFudH0pfSxiaW5hcnlGbjpmdW5jdGlvbihsZWZ0LGZuLHJpZ2h0KXtyZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uKHNlbGYsbG9jYWxzKXtyZXR1cm4gZm4oc2VsZixsb2NhbHMsbGVmdCxyaWdodCl9LHtjb25zdGFudDpsZWZ0LmNvbnN0YW50JiZyaWdodC5jb25zdGFudH0pfSxzdGF0ZW1lbnRzOmZ1bmN0aW9uKCl7Zm9yKHZhciBzdGF0ZW1lbnRzPVtdOzspaWYodGhpcy50b2tlbnMubGVuZ3RoPjAmJiF0aGlzLnBlZWsoIn0iLCIpIiwiOyIsIl0iKSYmc3RhdGVtZW50cy5wdXNoKHRoaXMuZmlsdGVyQ2hhaW4oKSksIXRoaXMuZXhwZWN0KCI7IikpcmV0dXJuIDE9PT1zdGF0ZW1lbnRzLmxlbmd0aD9zdGF0ZW1lbnRzWzBdOmZ1bmN0aW9uKHNlbGYsbG9jYWxzKXtmb3IodmFyIHZhbHVlLGk9MDtpPHN0YXRlbWVudHMubGVuZ3RoO2krKyl7dmFyIHN0YXRlbWVudD1zdGF0ZW1lbnRzW2ldO3N0YXRlbWVudCYmKHZhbHVlPXN0YXRlbWVudChzZWxmLGxvY2FscykpfXJldHVybiB2YWx1ZX19LGZpbHRlckNoYWluOmZ1bmN0aW9uKCl7Zm9yKHZhciB0b2tlbixsZWZ0PXRoaXMuZXhwcmVzc2lvbigpOzspe2lmKCEodG9rZW49dGhpcy5leHBlY3QoInwiKSkpcmV0dXJuIGxlZnQ7bGVmdD10aGlzLmJpbmFyeUZuKGxlZnQsdG9rZW4uZm4sdGhpcy5maWx0ZXIoKSl9fSxmaWx0ZXI6ZnVuY3Rpb24oKXtmb3IodmFyIHRva2VuPXRoaXMuZXhwZWN0KCksZm49dGhpcy4kZmlsdGVyKHRva2VuLnRleHQpLGFyZ3NGbj1bXTs7KXtpZighKHRva2VuPXRoaXMuZXhwZWN0KCI6IikpKXt2YXIgZm5JbnZva2U9ZnVuY3Rpb24oc2VsZixsb2NhbHMsaW5wdXQpe2Zvcih2YXIgYXJncz1baW5wdXRdLGk9MDtpPGFyZ3NGbi5sZW5ndGg7aSsrKWFyZ3MucHVzaChhcmdzRm5baV0oc2VsZixsb2NhbHMpKTtyZXR1cm4gZm4uYXBwbHkoc2VsZixhcmdzKX07cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGZuSW52b2tlfX1hcmdzRm4ucHVzaCh0aGlzLmV4cHJlc3Npb24oKSl9fSxleHByZXNzaW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXNzaWdubWVudCgpfSxhc3NpZ25tZW50OmZ1bmN0aW9uKCl7dmFyIHJpZ2h0LHRva2VuLGxlZnQ9dGhpcy50ZXJuYXJ5KCk7cmV0dXJuKHRva2VuPXRoaXMuZXhwZWN0KCI9IikpPyhsZWZ0LmFzc2lnbnx8dGhpcy50aHJvd0Vycm9yKCJpbXBsaWVzIGFzc2lnbm1lbnQgYnV0IFsiK3RoaXMudGV4dC5zdWJzdHJpbmcoMCx0b2tlbi5pbmRleCkrIl0gY2FuIG5vdCBiZSBhc3NpZ25lZCB0byIsdG9rZW4pLHJpZ2h0PXRoaXMudGVybmFyeSgpLGZ1bmN0aW9uKHNjb3BlLGxvY2Fscyl7cmV0dXJuIGxlZnQuYXNzaWduKHNjb3BlLHJpZ2h0KHNjb3BlLGxvY2FscyksbG9jYWxzKX0pOmxlZnR9LHRlcm5hcnk6ZnVuY3Rpb24oKXt2YXIgbWlkZGxlLHRva2VuLGxlZnQ9dGhpcy5sb2dpY2FsT1IoKTtyZXR1cm4odG9rZW49dGhpcy5leHBlY3QoIj8iKSk/KG1pZGRsZT10aGlzLmFzc2lnbm1lbnQoKSwodG9rZW49dGhpcy5leHBlY3QoIjoiKSk/dGhpcy50ZXJuYXJ5Rm4obGVmdCxtaWRkbGUsdGhpcy5hc3NpZ25tZW50KCkpOnZvaWQgdGhpcy50aHJvd0Vycm9yKCJleHBlY3RlZCA6Iix0b2tlbikpOmxlZnR9LGxvZ2ljYWxPUjpmdW5jdGlvbigpe2Zvcih2YXIgdG9rZW4sbGVmdD10aGlzLmxvZ2ljYWxBTkQoKTs7KXtpZighKHRva2VuPXRoaXMuZXhwZWN0KCJ8fCIpKSlyZXR1cm4gbGVmdDtsZWZ0PXRoaXMuYmluYXJ5Rm4obGVmdCx0b2tlbi5mbix0aGlzLmxvZ2ljYWxBTkQoKSl9fSxsb2dpY2FsQU5EOmZ1bmN0aW9uKCl7dmFyIHRva2VuLGxlZnQ9dGhpcy5lcXVhbGl0eSgpO3JldHVybih0b2tlbj10aGlzLmV4cGVjdCgiJiYiKSkmJihsZWZ0PXRoaXMuYmluYXJ5Rm4obGVmdCx0b2tlbi5mbix0aGlzLmxvZ2ljYWxBTkQoKSkpLGxlZnR9LGVxdWFsaXR5OmZ1bmN0aW9uKCl7dmFyIHRva2VuLGxlZnQ9dGhpcy5yZWxhdGlvbmFsKCk7cmV0dXJuKHRva2VuPXRoaXMuZXhwZWN0KCI9PSIsIiE9IiwiPT09IiwiIT09IikpJiYobGVmdD10aGlzLmJpbmFyeUZuKGxlZnQsdG9rZW4uZm4sdGhpcy5lcXVhbGl0eSgpKSksbGVmdH0scmVsYXRpb25hbDpmdW5jdGlvbigpe3ZhciB0b2tlbixsZWZ0PXRoaXMuYWRkaXRpdmUoKTtyZXR1cm4odG9rZW49dGhpcy5leHBlY3QoIjwiLCI+IiwiPD0iLCI+PSIpKSYmKGxlZnQ9dGhpcy5iaW5hcnlGbihsZWZ0LHRva2VuLmZuLHRoaXMucmVsYXRpb25hbCgpKSksbGVmdH0sYWRkaXRpdmU6ZnVuY3Rpb24oKXtmb3IodmFyIHRva2VuLGxlZnQ9dGhpcy5tdWx0aXBsaWNhdGl2ZSgpO3Rva2VuPXRoaXMuZXhwZWN0KCIrIiwiLSIpOylsZWZ0PXRoaXMuYmluYXJ5Rm4obGVmdCx0b2tlbi5mbix0aGlzLm11bHRpcGxpY2F0aXZlKCkpO3JldHVybiBsZWZ0fSxtdWx0aXBsaWNhdGl2ZTpmdW5jdGlvbigpe2Zvcih2YXIgdG9rZW4sbGVmdD10aGlzLnVuYXJ5KCk7dG9rZW49dGhpcy5leHBlY3QoIioiLCIvIiwiJSIpOylsZWZ0PXRoaXMuYmluYXJ5Rm4obGVmdCx0b2tlbi5mbix0aGlzLnVuYXJ5KCkpO3JldHVybiBsZWZ0fSx1bmFyeTpmdW5jdGlvbigpe3ZhciB0b2tlbjtyZXR1cm4gdGhpcy5leHBlY3QoIisiKT90aGlzLnByaW1hcnkoKToodG9rZW49dGhpcy5leHBlY3QoIi0iKSk/dGhpcy5iaW5hcnlGbihQYXJzZXIuWkVSTyx0b2tlbi5mbix0aGlzLnVuYXJ5KCkpOih0b2tlbj10aGlzLmV4cGVjdCgiISIpKT90aGlzLnVuYXJ5Rm4odG9rZW4uZm4sdGhpcy51bmFyeSgpKTp0aGlzLnByaW1hcnkoKX0sZmllbGRBY2Nlc3M6ZnVuY3Rpb24ob2JqZWN0KXt2YXIgcGFyc2VyPXRoaXMsZmllbGQ9dGhpcy5leHBlY3QoKS50ZXh0LGdldHRlcj1nZXR0ZXJGbihmaWVsZCx0aGlzLm9wdGlvbnMsdGhpcy50ZXh0KTtyZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uKHNjb3BlLGxvY2FscyxzZWxmKXtyZXR1cm4gZ2V0dGVyKHNlbGZ8fG9iamVjdChzY29wZSxsb2NhbHMpKX0se2Fzc2lnbjpmdW5jdGlvbihzY29wZSx2YWx1ZSxsb2NhbHMpe3ZhciBvPW9iamVjdChzY29wZSxsb2NhbHMpO3JldHVybiBvfHxvYmplY3QuYXNzaWduKHNjb3BlLG89e30pLHNldHRlcihvLGZpZWxkLHZhbHVlLHBhcnNlci50ZXh0LHBhcnNlci5vcHRpb25zKX19KX0sb2JqZWN0SW5kZXg6ZnVuY3Rpb24ob2JqKXt2YXIgcGFyc2VyPXRoaXMsaW5kZXhGbj10aGlzLmV4cHJlc3Npb24oKTtyZXR1cm4gdGhpcy5jb25zdW1lKCJdIiksZXh0ZW5kKGZ1bmN0aW9uKHNlbGYsbG9jYWxzKXt2YXIgdixwLG89b2JqKHNlbGYsbG9jYWxzKSxpPWluZGV4Rm4oc2VsZixsb2NhbHMpO3JldHVybiBlbnN1cmVTYWZlTWVtYmVyTmFtZShpLHBhcnNlci50ZXh0KSxvPyh2PWVuc3VyZVNhZmVPYmplY3Qob1tpXSxwYXJzZXIudGV4dCksdiYmdi50aGVuJiZwYXJzZXIub3B0aW9ucy51bndyYXBQcm9taXNlcyYmKHA9diwiJCR2ImluIHZ8fChwLiQkdj11bmRlZmluZWQscC50aGVuKGZ1bmN0aW9uKHZhbCl7cC4kJHY9dmFsfSkpLHY9di4kJHYpLHYpOnVuZGVmaW5lZH0se2Fzc2lnbjpmdW5jdGlvbihzZWxmLHZhbHVlLGxvY2Fscyl7dmFyIGtleT1lbnN1cmVTYWZlTWVtYmVyTmFtZShpbmRleEZuKHNlbGYsbG9jYWxzKSxwYXJzZXIudGV4dCksbz1lbnN1cmVTYWZlT2JqZWN0KG9iaihzZWxmLGxvY2FscykscGFyc2VyLnRleHQpO3JldHVybiBvfHxvYmouYXNzaWduKHNlbGYsbz17fSksb1trZXldPXZhbHVlfX0pfSxmdW5jdGlvbkNhbGw6ZnVuY3Rpb24oZm4sY29udGV4dEdldHRlcil7dmFyIGFyZ3NGbj1bXTtpZigiKSIhPT10aGlzLnBlZWtUb2tlbigpLnRleHQpZG8gYXJnc0ZuLnB1c2godGhpcy5leHByZXNzaW9uKCkpO3doaWxlKHRoaXMuZXhwZWN0KCIsIikpO3RoaXMuY29uc3VtZSgiKSIpO3ZhciBwYXJzZXI9dGhpcztyZXR1cm4gZnVuY3Rpb24oc2NvcGUsbG9jYWxzKXtmb3IodmFyIGFyZ3M9W10sY29udGV4dD1jb250ZXh0R2V0dGVyP2NvbnRleHRHZXR0ZXIoc2NvcGUsbG9jYWxzKTpzY29wZSxpPTA7aTxhcmdzRm4ubGVuZ3RoO2krKylhcmdzLnB1c2goZW5zdXJlU2FmZU9iamVjdChhcmdzRm5baV0oc2NvcGUsbG9jYWxzKSxwYXJzZXIudGV4dCkpO3ZhciBmblB0cj1mbihzY29wZSxsb2NhbHMsY29udGV4dCl8fG5vb3A7ZW5zdXJlU2FmZU9iamVjdChjb250ZXh0LHBhcnNlci50ZXh0KSxlbnN1cmVTYWZlRnVuY3Rpb24oZm5QdHIscGFyc2VyLnRleHQpO3ZhciB2PWZuUHRyLmFwcGx5P2ZuUHRyLmFwcGx5KGNvbnRleHQsYXJncyk6Zm5QdHIoYXJnc1swXSxhcmdzWzFdLGFyZ3NbMl0sYXJnc1szXSxhcmdzWzRdKTtyZXR1cm4gZW5zdXJlU2FmZU9iamVjdCh2LHBhcnNlci50ZXh0KX19LGFycmF5RGVjbGFyYXRpb246ZnVuY3Rpb24oKXt2YXIgZWxlbWVudEZucz1bXSxhbGxDb25zdGFudD0hMDtpZigiXSIhPT10aGlzLnBlZWtUb2tlbigpLnRleHQpZG97aWYodGhpcy5wZWVrKCJdIikpYnJlYWs7dmFyIGVsZW1lbnRGbj10aGlzLmV4cHJlc3Npb24oKTtlbGVtZW50Rm5zLnB1c2goZWxlbWVudEZuKSxlbGVtZW50Rm4uY29uc3RhbnR8fChhbGxDb25zdGFudD0hMSl9d2hpbGUodGhpcy5leHBlY3QoIiwiKSk7cmV0dXJuIHRoaXMuY29uc3VtZSgiXSIpLGV4dGVuZChmdW5jdGlvbihzZWxmLGxvY2Fscyl7Zm9yKHZhciBhcnJheT1bXSxpPTA7aTxlbGVtZW50Rm5zLmxlbmd0aDtpKyspYXJyYXkucHVzaChlbGVtZW50Rm5zW2ldKHNlbGYsbG9jYWxzKSk7cmV0dXJuIGFycmF5fSx7bGl0ZXJhbDohMCxjb25zdGFudDphbGxDb25zdGFudH0pfSxvYmplY3Q6ZnVuY3Rpb24oKXt2YXIga2V5VmFsdWVzPVtdLGFsbENvbnN0YW50PSEwO2lmKCJ9IiE9PXRoaXMucGVla1Rva2VuKCkudGV4dClkb3tpZih0aGlzLnBlZWsoIn0iKSlicmVhazt2YXIgdG9rZW49dGhpcy5leHBlY3QoKSxrZXk9dG9rZW4uc3RyaW5nfHx0b2tlbi50ZXh0O3RoaXMuY29uc3VtZSgiOiIpO3ZhciB2YWx1ZT10aGlzLmV4cHJlc3Npb24oKTtrZXlWYWx1ZXMucHVzaCh7a2V5OmtleSx2YWx1ZTp2YWx1ZX0pLHZhbHVlLmNvbnN0YW50fHwoYWxsQ29uc3RhbnQ9ITEpfXdoaWxlKHRoaXMuZXhwZWN0KCIsIikpO3JldHVybiB0aGlzLmNvbnN1bWUoIn0iKSxleHRlbmQoZnVuY3Rpb24oc2VsZixsb2NhbHMpe2Zvcih2YXIgb2JqZWN0PXt9LGk9MDtpPGtleVZhbHVlcy5sZW5ndGg7aSsrKXt2YXIga2V5VmFsdWU9a2V5VmFsdWVzW2ldO29iamVjdFtrZXlWYWx1ZS5rZXldPWtleVZhbHVlLnZhbHVlKHNlbGYsbG9jYWxzKX1yZXR1cm4gb2JqZWN0fSx7bGl0ZXJhbDohMCxjb25zdGFudDphbGxDb25zdGFudH0pfX07dmFyIGdldHRlckZuQ2FjaGU9e30sJHNjZU1pbkVycj1taW5FcnIoIiRzY2UiKSxTQ0VfQ09OVEVYVFM9e0hUTUw6Imh0bWwiLENTUzoiY3NzIixVUkw6InVybCIsUkVTT1VSQ0VfVVJMOiJyZXNvdXJjZVVybCIsSlM6ImpzIn0sdXJsUGFyc2luZ05vZGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpLG9yaWdpblVybD11cmxSZXNvbHZlKHdpbmRvdy5sb2NhdGlvbi5ocmVmLCEwKTskRmlsdGVyUHJvdmlkZXIuJGluamVjdD1bIiRwcm92aWRlIl0sY3VycmVuY3lGaWx0ZXIuJGluamVjdD1bIiRsb2NhbGUiXSxudW1iZXJGaWx0ZXIuJGluamVjdD1bIiRsb2NhbGUiXTt2YXIgREVDSU1BTF9TRVA9Ii4iLERBVEVfRk9STUFUUz17eXl5eTpkYXRlR2V0dGVyKCJGdWxsWWVhciIsNCkseXk6ZGF0ZUdldHRlcigiRnVsbFllYXIiLDIsMCwhMCkseTpkYXRlR2V0dGVyKCJGdWxsWWVhciIsMSksTU1NTTpkYXRlU3RyR2V0dGVyKCJNb250aCIpLE1NTTpkYXRlU3RyR2V0dGVyKCJNb250aCIsITApLE1NOmRhdGVHZXR0ZXIoIk1vbnRoIiwyLDEpLE06ZGF0ZUdldHRlcigiTW9udGgiLDEsMSksZGQ6ZGF0ZUdldHRlcigiRGF0ZSIsMiksZDpkYXRlR2V0dGVyKCJEYXRlIiwxKSxISDpkYXRlR2V0dGVyKCJIb3VycyIsMiksSDpkYXRlR2V0dGVyKCJIb3VycyIsMSksaGg6ZGF0ZUdldHRlcigiSG91cnMiLDIsLTEyKSxoOmRhdGVHZXR0ZXIoIkhvdXJzIiwxLC0xMiksbW06ZGF0ZUdldHRlcigiTWludXRlcyIsMiksbTpkYXRlR2V0dGVyKCJNaW51dGVzIiwxKSxzczpkYXRlR2V0dGVyKCJTZWNvbmRzIiwyKSxzOmRhdGVHZXR0ZXIoIlNlY29uZHMiLDEpLHNzczpkYXRlR2V0dGVyKCJNaWxsaXNlY29uZHMiLDMpLEVFRUU6ZGF0ZVN0ckdldHRlcigiRGF5IiksRUVFOmRhdGVTdHJHZXR0ZXIoIkRheSIsITApLGE6YW1wbUdldHRlcixaOnRpbWVab25lR2V0dGVyfSxEQVRFX0ZPUk1BVFNfU1BMSVQ9LygoPzpbXnlNZEhobXNhWkUnXSspfCg/OicoPzpbXiddfCcnKSonKXwoPzpFK3x5K3xNK3xkK3xIK3xoK3xtK3xzK3xhfFopKSguKikvLE5VTUJFUl9TVFJJTkc9L15cLT9cZCskLztkYXRlRmlsdGVyLiRpbmplY3Q9WyIkbG9jYWxlIl07dmFyIGxvd2VyY2FzZUZpbHRlcj12YWx1ZUZuKGxvd2VyY2FzZSksdXBwZXJjYXNlRmlsdGVyPXZhbHVlRm4odXBwZXJjYXNlKTtvcmRlckJ5RmlsdGVyLiRpbmplY3Q9WyIkcGFyc2UiXTt2YXIgaHRtbEFuY2hvckRpcmVjdGl2ZT12YWx1ZUZuKHtyZXN0cmljdDoiRSIsY29tcGlsZTpmdW5jdGlvbihlbGVtZW50LGF0dHIpe3JldHVybiA4Pj1tc2llJiYoYXR0ci5ocmVmfHxhdHRyLm5hbWV8fGF0dHIuJHNldCgiaHJlZiIsIiIpLGVsZW1lbnQuYXBwZW5kKGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoIklFIGZpeCIpKSksYXR0ci5ocmVmfHxhdHRyLnhsaW5rSHJlZnx8YXR0ci5uYW1lP3ZvaWQgMDpmdW5jdGlvbihzY29wZSxlbGVtZW50KXt2YXIgaHJlZj0iW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ10iPT09dG9TdHJpbmcuY2FsbChlbGVtZW50LnByb3AoImhyZWYiKSk/InhsaW5rOmhyZWYiOiJocmVmIjtlbGVtZW50Lm9uKCJjbGljayIsZnVuY3Rpb24oZXZlbnQpe2VsZW1lbnQuYXR0cihocmVmKXx8ZXZlbnQucHJldmVudERlZmF1bHQoKX0pfX19KSxuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcz17fTtmb3JFYWNoKEJPT0xFQU5fQVRUUixmdW5jdGlvbihwcm9wTmFtZSxhdHRyTmFtZSl7aWYoIm11bHRpcGxlIiE9cHJvcE5hbWUpe3ZhciBub3JtYWxpemVkPWRpcmVjdGl2ZU5vcm1hbGl6ZSgibmctIithdHRyTmFtZSk7bmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXNbbm9ybWFsaXplZF09ZnVuY3Rpb24oKXtyZXR1cm57cHJpb3JpdHk6MTAwLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyKXtzY29wZS4kd2F0Y2goYXR0cltub3JtYWxpemVkXSxmdW5jdGlvbih2YWx1ZSl7YXR0ci4kc2V0KGF0dHJOYW1lLCEhdmFsdWUpfSl9fX19fSksZm9yRWFjaChbInNyYyIsInNyY3NldCIsImhyZWYiXSxmdW5jdGlvbihhdHRyTmFtZSl7dmFyIG5vcm1hbGl6ZWQ9ZGlyZWN0aXZlTm9ybWFsaXplKCJuZy0iK2F0dHJOYW1lKTtuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlc1tub3JtYWxpemVkXT1mdW5jdGlvbigpe3JldHVybntwcmlvcml0eTo5OSxsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cil7dmFyIHByb3BOYW1lPWF0dHJOYW1lLG5hbWU9YXR0ck5hbWU7ImhyZWYiPT09YXR0ck5hbWUmJiJbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXSI9PT10b1N0cmluZy5jYWxsKGVsZW1lbnQucHJvcCgiaHJlZiIpKSYmKG5hbWU9InhsaW5rSHJlZiIsYXR0ci4kYXR0cltuYW1lXT0ieGxpbms6aHJlZiIscHJvcE5hbWU9bnVsbCksYXR0ci4kb2JzZXJ2ZShub3JtYWxpemVkLGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWU/KGF0dHIuJHNldChuYW1lLHZhbHVlKSx2b2lkKG1zaWUmJnByb3BOYW1lJiZlbGVtZW50LnByb3AocHJvcE5hbWUsYXR0cltuYW1lXSkpKTp2b2lkKCJocmVmIj09PWF0dHJOYW1lJiZhdHRyLiRzZXQobmFtZSxudWxsKSl9KX19fX0pO3ZhciBudWxsRm9ybUN0cmw9eyRhZGRDb250cm9sOm5vb3AsJHJlbW92ZUNvbnRyb2w6bm9vcCwkc2V0VmFsaWRpdHk6bm9vcCwkc2V0RGlydHk6bm9vcCwkc2V0UHJpc3RpbmU6bm9vcH07Rm9ybUNvbnRyb2xsZXIuJGluamVjdD1bIiRlbGVtZW50IiwiJGF0dHJzIiwiJHNjb3BlIiwiJGFuaW1hdGUiXTt2YXIgZm9ybURpcmVjdGl2ZUZhY3Rvcnk9ZnVuY3Rpb24oaXNOZ0Zvcm0pe3JldHVyblsiJHRpbWVvdXQiLGZ1bmN0aW9uKCR0aW1lb3V0KXt2YXIgZm9ybURpcmVjdGl2ZT17bmFtZToiZm9ybSIscmVzdHJpY3Q6aXNOZ0Zvcm0/IkVBQyI6IkUiLGNvbnRyb2xsZXI6Rm9ybUNvbnRyb2xsZXIsY29tcGlsZTpmdW5jdGlvbigpe3JldHVybntwcmU6ZnVuY3Rpb24oc2NvcGUsZm9ybUVsZW1lbnQsYXR0cixjb250cm9sbGVyKXtpZighYXR0ci5hY3Rpb24pe3ZhciBwcmV2ZW50RGVmYXVsdExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50KXtldmVudC5wcmV2ZW50RGVmYXVsdD9ldmVudC5wcmV2ZW50RGVmYXVsdCgpOmV2ZW50LnJldHVyblZhbHVlPSExfTthZGRFdmVudExpc3RlbmVyRm4oZm9ybUVsZW1lbnRbMF0sInN1Ym1pdCIscHJldmVudERlZmF1bHRMaXN0ZW5lciksZm9ybUVsZW1lbnQub24oIiRkZXN0cm95IixmdW5jdGlvbigpeyR0aW1lb3V0KGZ1bmN0aW9uKCl7cmVtb3ZlRXZlbnRMaXN0ZW5lckZuKGZvcm1FbGVtZW50WzBdLCJzdWJtaXQiLHByZXZlbnREZWZhdWx0TGlzdGVuZXIpfSwwLCExKX0pfXZhciBwYXJlbnRGb3JtQ3RybD1mb3JtRWxlbWVudC5wYXJlbnQoKS5jb250cm9sbGVyKCJmb3JtIiksYWxpYXM9YXR0ci5uYW1lfHxhdHRyLm5nRm9ybTthbGlhcyYmc2V0dGVyKHNjb3BlLGFsaWFzLGNvbnRyb2xsZXIsYWxpYXMpLHBhcmVudEZvcm1DdHJsJiZmb3JtRWxlbWVudC5vbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7cGFyZW50Rm9ybUN0cmwuJHJlbW92ZUNvbnRyb2woY29udHJvbGxlciksYWxpYXMmJnNldHRlcihzY29wZSxhbGlhcyx1bmRlZmluZWQsYWxpYXMpLGV4dGVuZChjb250cm9sbGVyLG51bGxGb3JtQ3RybCl9KX19fX07cmV0dXJuIGZvcm1EaXJlY3RpdmV9XX0sZm9ybURpcmVjdGl2ZT1mb3JtRGlyZWN0aXZlRmFjdG9yeSgpLG5nRm9ybURpcmVjdGl2ZT1mb3JtRGlyZWN0aXZlRmFjdG9yeSghMCksVVJMX1JFR0VYUD0vXihmdHB8aHR0cHxodHRwcyk6XC9cLyhcdys6ezAsMX1cdypAKT8oXFMrKSg6WzAtOV0rKT8oXC98XC8oW1x3IyE6Lj8rPSYlQCFcLVwvXSkpPyQvLEVNQUlMX1JFR0VYUD0vXlthLXowLTkhIyQlJicqK1wvPT9eX2B7fH1+Li1dK0BbYS16MC05XShbYS16MC05LV0qW2EtejAtOV0pPyhcLlthLXowLTldKFthLXowLTktXSpbYS16MC05XSk/KSokL2ksTlVNQkVSX1JFR0VYUD0vXlxzKihcLXxcKyk/KFxkK3woXGQqKFwuXGQqKSkpXHMqJC8saW5wdXRUeXBlPXt0ZXh0OnRleHRJbnB1dFR5cGUsbnVtYmVyOm51bWJlcklucHV0VHlwZSx1cmw6dXJsSW5wdXRUeXBlLGVtYWlsOmVtYWlsSW5wdXRUeXBlLHJhZGlvOnJhZGlvSW5wdXRUeXBlLGNoZWNrYm94OmNoZWNrYm94SW5wdXRUeXBlLGhpZGRlbjpub29wLGJ1dHRvbjpub29wLHN1Ym1pdDpub29wLHJlc2V0Om5vb3AsZmlsZTpub29wfSxudW1iZXJCYWRGbGFncz1bImJhZElucHV0Il0saW5wdXREaXJlY3RpdmU9WyIkYnJvd3NlciIsIiRzbmlmZmVyIixmdW5jdGlvbigkYnJvd3Nlciwkc25pZmZlcil7cmV0dXJue3Jlc3RyaWN0OiJFIixyZXF1aXJlOiI/bmdNb2RlbCIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIsY3RybCl7Y3RybCYmKGlucHV0VHlwZVtsb3dlcmNhc2UoYXR0ci50eXBlKV18fGlucHV0VHlwZS50ZXh0KShzY29wZSxlbGVtZW50LGF0dHIsY3RybCwkc25pZmZlciwkYnJvd3Nlcil9fX1dLFZBTElEX0NMQVNTPSJuZy12YWxpZCIsSU5WQUxJRF9DTEFTUz0ibmctaW52YWxpZCIsUFJJU1RJTkVfQ0xBU1M9Im5nLXByaXN0aW5lIixESVJUWV9DTEFTUz0ibmctZGlydHkiLE5nTW9kZWxDb250cm9sbGVyPVsiJHNjb3BlIiwiJGV4Y2VwdGlvbkhhbmRsZXIiLCIkYXR0cnMiLCIkZWxlbWVudCIsIiRwYXJzZSIsIiRhbmltYXRlIixmdW5jdGlvbigkc2NvcGUsJGV4Y2VwdGlvbkhhbmRsZXIsJGF0dHIsJGVsZW1lbnQsJHBhcnNlLCRhbmltYXRlKXtmdW5jdGlvbiB0b2dnbGVWYWxpZENzcyhpc1ZhbGlkLHZhbGlkYXRpb25FcnJvcktleSl7dmFsaWRhdGlvbkVycm9yS2V5PXZhbGlkYXRpb25FcnJvcktleT8iLSIrc25ha2VfY2FzZSh2YWxpZGF0aW9uRXJyb3JLZXksIi0iKToiIiwkYW5pbWF0ZS5yZW1vdmVDbGFzcygkZWxlbWVudCwoaXNWYWxpZD9JTlZBTElEX0NMQVNTOlZBTElEX0NMQVNTKSt2YWxpZGF0aW9uRXJyb3JLZXkpLCRhbmltYXRlLmFkZENsYXNzKCRlbGVtZW50LChpc1ZhbGlkP1ZBTElEX0NMQVNTOklOVkFMSURfQ0xBU1MpK3ZhbGlkYXRpb25FcnJvcktleSl9dGhpcy4kdmlld1ZhbHVlPU51bWJlci5OYU4sdGhpcy4kbW9kZWxWYWx1ZT1OdW1iZXIuTmFOLHRoaXMuJHBhcnNlcnM9W10sdGhpcy4kZm9ybWF0dGVycz1bXSx0aGlzLiR2aWV3Q2hhbmdlTGlzdGVuZXJzPVtdLHRoaXMuJHByaXN0aW5lPSEwLHRoaXMuJGRpcnR5PSExLHRoaXMuJHZhbGlkPSEwLHRoaXMuJGludmFsaWQ9ITEsdGhpcy4kbmFtZT0kYXR0ci5uYW1lO3ZhciBuZ01vZGVsR2V0PSRwYXJzZSgkYXR0ci5uZ01vZGVsKSxuZ01vZGVsU2V0PW5nTW9kZWxHZXQuYXNzaWduO2lmKCFuZ01vZGVsU2V0KXRocm93IG1pbkVycigibmdNb2RlbCIpKCJub25hc3NpZ24iLCJFeHByZXNzaW9uICd7MH0nIGlzIG5vbi1hc3NpZ25hYmxlLiBFbGVtZW50OiB7MX0iLCRhdHRyLm5nTW9kZWwsc3RhcnRpbmdUYWcoJGVsZW1lbnQpKTt0aGlzLiRyZW5kZXI9bm9vcCx0aGlzLiRpc0VtcHR5PWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gaXNVbmRlZmluZWQodmFsdWUpfHwiIj09PXZhbHVlfHxudWxsPT09dmFsdWV8fHZhbHVlIT09dmFsdWV9O3ZhciBwYXJlbnRGb3JtPSRlbGVtZW50LmluaGVyaXRlZERhdGEoIiRmb3JtQ29udHJvbGxlciIpfHxudWxsRm9ybUN0cmwsaW52YWxpZENvdW50PTAsJGVycm9yPXRoaXMuJGVycm9yPXt9OyRlbGVtZW50LmFkZENsYXNzKFBSSVNUSU5FX0NMQVNTKSx0b2dnbGVWYWxpZENzcyghMCksdGhpcy4kc2V0VmFsaWRpdHk9ZnVuY3Rpb24odmFsaWRhdGlvbkVycm9yS2V5LGlzVmFsaWQpeyRlcnJvclt2YWxpZGF0aW9uRXJyb3JLZXldIT09IWlzVmFsaWQmJihpc1ZhbGlkPygkZXJyb3JbdmFsaWRhdGlvbkVycm9yS2V5XSYmaW52YWxpZENvdW50LS0saW52YWxpZENvdW50fHwodG9nZ2xlVmFsaWRDc3MoITApLHRoaXMuJHZhbGlkPSEwLHRoaXMuJGludmFsaWQ9ITEpKToodG9nZ2xlVmFsaWRDc3MoITEpLHRoaXMuJGludmFsaWQ9ITAsdGhpcy4kdmFsaWQ9ITEsaW52YWxpZENvdW50KyspLCRlcnJvclt2YWxpZGF0aW9uRXJyb3JLZXldPSFpc1ZhbGlkLHRvZ2dsZVZhbGlkQ3NzKGlzVmFsaWQsdmFsaWRhdGlvbkVycm9yS2V5KSxwYXJlbnRGb3JtLiRzZXRWYWxpZGl0eSh2YWxpZGF0aW9uRXJyb3JLZXksaXNWYWxpZCx0aGlzKSl9LHRoaXMuJHNldFByaXN0aW5lPWZ1bmN0aW9uKCl7dGhpcy4kZGlydHk9ITEsdGhpcy4kcHJpc3RpbmU9ITAsJGFuaW1hdGUucmVtb3ZlQ2xhc3MoJGVsZW1lbnQsRElSVFlfQ0xBU1MpLCRhbmltYXRlLmFkZENsYXNzKCRlbGVtZW50LFBSSVNUSU5FX0NMQVNTKX0sdGhpcy4kc2V0Vmlld1ZhbHVlPWZ1bmN0aW9uKHZhbHVlKXt0aGlzLiR2aWV3VmFsdWU9dmFsdWUsdGhpcy4kcHJpc3RpbmUmJih0aGlzLiRkaXJ0eT0hMCx0aGlzLiRwcmlzdGluZT0hMSwkYW5pbWF0ZS5yZW1vdmVDbGFzcygkZWxlbWVudCxQUklTVElORV9DTEFTUyksJGFuaW1hdGUuYWRkQ2xhc3MoJGVsZW1lbnQsRElSVFlfQ0xBU1MpLHBhcmVudEZvcm0uJHNldERpcnR5KCkpLGZvckVhY2godGhpcy4kcGFyc2VycyxmdW5jdGlvbihmbil7dmFsdWU9Zm4odmFsdWUpfSksdGhpcy4kbW9kZWxWYWx1ZSE9PXZhbHVlJiYodGhpcy4kbW9kZWxWYWx1ZT12YWx1ZSxuZ01vZGVsU2V0KCRzY29wZSx2YWx1ZSksZm9yRWFjaCh0aGlzLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLGZ1bmN0aW9uKGxpc3RlbmVyKXt0cnl7bGlzdGVuZXIoKX1jYXRjaChlKXskZXhjZXB0aW9uSGFuZGxlcihlKX19KSl9O3ZhciBjdHJsPXRoaXM7JHNjb3BlLiR3YXRjaChmdW5jdGlvbigpe3ZhciB2YWx1ZT1uZ01vZGVsR2V0KCRzY29wZSk7aWYoY3RybC4kbW9kZWxWYWx1ZSE9PXZhbHVlKXt2YXIgZm9ybWF0dGVycz1jdHJsLiRmb3JtYXR0ZXJzLGlkeD1mb3JtYXR0ZXJzLmxlbmd0aDtmb3IoY3RybC4kbW9kZWxWYWx1ZT12YWx1ZTtpZHgtLTspdmFsdWU9Zm9ybWF0dGVyc1tpZHhdKHZhbHVlKTtjdHJsLiR2aWV3VmFsdWUhPT12YWx1ZSYmKGN0cmwuJHZpZXdWYWx1ZT12YWx1ZSxjdHJsLiRyZW5kZXIoKSl9cmV0dXJuIHZhbHVlfSl9XSxuZ01vZGVsRGlyZWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJue3JlcXVpcmU6WyJuZ01vZGVsIiwiXj9mb3JtIl0sY29udHJvbGxlcjpOZ01vZGVsQ29udHJvbGxlcixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJscyl7dmFyIG1vZGVsQ3RybD1jdHJsc1swXSxmb3JtQ3RybD1jdHJsc1sxXXx8bnVsbEZvcm1DdHJsO2Zvcm1DdHJsLiRhZGRDb250cm9sKG1vZGVsQ3RybCksc2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtmb3JtQ3RybC4kcmVtb3ZlQ29udHJvbChtb2RlbEN0cmwpfSl9fX0sbmdDaGFuZ2VEaXJlY3RpdmU9dmFsdWVGbih7cmVxdWlyZToibmdNb2RlbCIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIsY3RybCl7Y3RybC4kdmlld0NoYW5nZUxpc3RlbmVycy5wdXNoKGZ1bmN0aW9uKCl7c2NvcGUuJGV2YWwoYXR0ci5uZ0NoYW5nZSl9KX19KSxyZXF1aXJlZERpcmVjdGl2ZT1mdW5jdGlvbigpe3JldHVybntyZXF1aXJlOiI/bmdNb2RlbCIsbGluazpmdW5jdGlvbihzY29wZSxlbG0sYXR0cixjdHJsKXtpZihjdHJsKXthdHRyLnJlcXVpcmVkPSEwO3ZhciB2YWxpZGF0b3I9ZnVuY3Rpb24odmFsdWUpe3JldHVybiBhdHRyLnJlcXVpcmVkJiZjdHJsLiRpc0VtcHR5KHZhbHVlKT92b2lkIGN0cmwuJHNldFZhbGlkaXR5KCJyZXF1aXJlZCIsITEpOihjdHJsLiRzZXRWYWxpZGl0eSgicmVxdWlyZWQiLCEwKSx2YWx1ZSl9O2N0cmwuJGZvcm1hdHRlcnMucHVzaCh2YWxpZGF0b3IpLGN0cmwuJHBhcnNlcnMudW5zaGlmdCh2YWxpZGF0b3IpLGF0dHIuJG9ic2VydmUoInJlcXVpcmVkIixmdW5jdGlvbigpe3ZhbGlkYXRvcihjdHJsLiR2aWV3VmFsdWUpfSl9fX19LG5nTGlzdERpcmVjdGl2ZT1mdW5jdGlvbigpe3JldHVybntyZXF1aXJlOiJuZ01vZGVsIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJsKXt2YXIgbWF0Y2g9L1wvKC4qKVwvLy5leGVjKGF0dHIubmdMaXN0KSxzZXBhcmF0b3I9bWF0Y2gmJm5ldyBSZWdFeHAobWF0Y2hbMV0pfHxhdHRyLm5nTGlzdHx8IiwiLHBhcnNlPWZ1bmN0aW9uKHZpZXdWYWx1ZSl7aWYoIWlzVW5kZWZpbmVkKHZpZXdWYWx1ZSkpe3ZhciBsaXN0PVtdO3JldHVybiB2aWV3VmFsdWUmJmZvckVhY2godmlld1ZhbHVlLnNwbGl0KHNlcGFyYXRvciksZnVuY3Rpb24odmFsdWUpe3ZhbHVlJiZsaXN0LnB1c2godHJpbSh2YWx1ZSkpfSksbGlzdH19O2N0cmwuJHBhcnNlcnMucHVzaChwYXJzZSksY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gaXNBcnJheSh2YWx1ZSk/dmFsdWUuam9pbigiLCAiKTp1bmRlZmluZWR9KSxjdHJsLiRpc0VtcHR5PWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4hdmFsdWV8fCF2YWx1ZS5sZW5ndGh9fX19LENPTlNUQU5UX1ZBTFVFX1JFR0VYUD0vXih0cnVlfGZhbHNlfFxkKykkLyxuZ1ZhbHVlRGlyZWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJue3ByaW9yaXR5OjEwMCxjb21waWxlOmZ1bmN0aW9uKHRwbCx0cGxBdHRyKXtyZXR1cm4gQ09OU1RBTlRfVkFMVUVfUkVHRVhQLnRlc3QodHBsQXR0ci5uZ1ZhbHVlKT9mdW5jdGlvbihzY29wZSxlbG0sYXR0cil7YXR0ci4kc2V0KCJ2YWx1ZSIsc2NvcGUuJGV2YWwoYXR0ci5uZ1ZhbHVlKSl9OmZ1bmN0aW9uKHNjb3BlLGVsbSxhdHRyKXtzY29wZS4kd2F0Y2goYXR0ci5uZ1ZhbHVlLGZ1bmN0aW9uKHZhbHVlKXthdHRyLiRzZXQoInZhbHVlIix2YWx1ZSl9KX19fX0sbmdCaW5kRGlyZWN0aXZlPW5nRGlyZWN0aXZlKHtjb21waWxlOmZ1bmN0aW9uKHRlbXBsYXRlRWxlbWVudCl7cmV0dXJuIHRlbXBsYXRlRWxlbWVudC5hZGRDbGFzcygibmctYmluZGluZyIpLGZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cil7ZWxlbWVudC5kYXRhKCIkYmluZGluZyIsYXR0ci5uZ0JpbmQpLHNjb3BlLiR3YXRjaChhdHRyLm5nQmluZCxmdW5jdGlvbih2YWx1ZSl7ZWxlbWVudC50ZXh0KHZhbHVlPT11bmRlZmluZWQ/IiI6dmFsdWUpfSl9fX0pLG5nQmluZFRlbXBsYXRlRGlyZWN0aXZlPVsiJGludGVycG9sYXRlIixmdW5jdGlvbigkaW50ZXJwb2xhdGUpe3JldHVybiBmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIpe3ZhciBpbnRlcnBvbGF0ZUZuPSRpbnRlcnBvbGF0ZShlbGVtZW50LmF0dHIoYXR0ci4kYXR0ci5uZ0JpbmRUZW1wbGF0ZSkpO2VsZW1lbnQuYWRkQ2xhc3MoIm5nLWJpbmRpbmciKS5kYXRhKCIkYmluZGluZyIsaW50ZXJwb2xhdGVGbiksYXR0ci4kb2JzZXJ2ZSgibmdCaW5kVGVtcGxhdGUiLGZ1bmN0aW9uKHZhbHVlKXtlbGVtZW50LnRleHQodmFsdWUpfSl9fV0sbmdCaW5kSHRtbERpcmVjdGl2ZT1bIiRzY2UiLCIkcGFyc2UiLGZ1bmN0aW9uKCRzY2UsJHBhcnNlKXtyZXR1cm57Y29tcGlsZTpmdW5jdGlvbih0RWxlbWVudCl7cmV0dXJuIHRFbGVtZW50LmFkZENsYXNzKCJuZy1iaW5kaW5nIiksZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyKXtmdW5jdGlvbiBnZXRTdHJpbmdWYWx1ZSgpe3JldHVybihwYXJzZWQoc2NvcGUpfHwiIikudG9TdHJpbmcoKX1lbGVtZW50LmRhdGEoIiRiaW5kaW5nIixhdHRyLm5nQmluZEh0bWwpO3ZhciBwYXJzZWQ9JHBhcnNlKGF0dHIubmdCaW5kSHRtbCk7c2NvcGUuJHdhdGNoKGdldFN0cmluZ1ZhbHVlLGZ1bmN0aW9uKCl7ZWxlbWVudC5odG1sKCRzY2UuZ2V0VHJ1c3RlZEh0bWwocGFyc2VkKHNjb3BlKSl8fCIiKX0pfX19fV0sbmdDbGFzc0RpcmVjdGl2ZT1jbGFzc0RpcmVjdGl2ZSgiIiwhMCksbmdDbGFzc09kZERpcmVjdGl2ZT1jbGFzc0RpcmVjdGl2ZSgiT2RkIiwwKSxuZ0NsYXNzRXZlbkRpcmVjdGl2ZT1jbGFzc0RpcmVjdGl2ZSgiRXZlbiIsMSksbmdDbG9ha0RpcmVjdGl2ZT1uZ0RpcmVjdGl2ZSh7Y29tcGlsZTpmdW5jdGlvbihlbGVtZW50LGF0dHIpe2F0dHIuJHNldCgibmdDbG9hayIsdW5kZWZpbmVkKSxlbGVtZW50LnJlbW92ZUNsYXNzKCJuZy1jbG9hayIpfX0pLG5nQ29udHJvbGxlckRpcmVjdGl2ZT1bZnVuY3Rpb24oKXtyZXR1cm57c2NvcGU6ITAsY29udHJvbGxlcjoiQCIscHJpb3JpdHk6NTAwfX1dLG5nRXZlbnREaXJlY3RpdmVzPXt9LGZvcmNlQXN5bmNFdmVudHM9e2JsdXI6ITAsZm9jdXM6ITB9O2ZvckVhY2goImNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZW1vdmUgbW91c2VlbnRlciBtb3VzZWxlYXZlIGtleWRvd24ga2V5dXAga2V5cHJlc3Mgc3VibWl0IGZvY3VzIGJsdXIgY29weSBjdXQgcGFzdGUiLnNwbGl0KCIgIiksZnVuY3Rpb24oZXZlbnROYW1lKXt2YXIgZGlyZWN0aXZlTmFtZT1kaXJlY3RpdmVOb3JtYWxpemUoIm5nLSIrZXZlbnROYW1lKTtuZ0V2ZW50RGlyZWN0aXZlc1tkaXJlY3RpdmVOYW1lXT1bIiRwYXJzZSIsIiRyb290U2NvcGUiLGZ1bmN0aW9uKCRwYXJzZSwkcm9vdFNjb3BlKXtyZXR1cm57Y29tcGlsZTpmdW5jdGlvbigkZWxlbWVudCxhdHRyKXt2YXIgZm49JHBhcnNlKGF0dHJbZGlyZWN0aXZlTmFtZV0pO3JldHVybiBmdW5jdGlvbihzY29wZSxlbGVtZW50KXtlbGVtZW50Lm9uKGV2ZW50TmFtZSxmdW5jdGlvbihldmVudCl7dmFyIGNhbGxiYWNrPWZ1bmN0aW9uKCl7Zm4oc2NvcGUseyRldmVudDpldmVudH0pfTtmb3JjZUFzeW5jRXZlbnRzW2V2ZW50TmFtZV0mJiRyb290U2NvcGUuJCRwaGFzZT9zY29wZS4kZXZhbEFzeW5jKGNhbGxiYWNrKTpzY29wZS4kYXBwbHkoY2FsbGJhY2spfSl9fX19XX0pO3ZhciBuZ0lmRGlyZWN0aXZlPVsiJGFuaW1hdGUiLGZ1bmN0aW9uKCRhbmltYXRlKXtyZXR1cm57dHJhbnNjbHVkZToiZWxlbWVudCIscHJpb3JpdHk6NjAwLHRlcm1pbmFsOiEwLHJlc3RyaWN0OiJBIiwkJHRsYjohMCxsaW5rOmZ1bmN0aW9uKCRzY29wZSwkZWxlbWVudCwkYXR0cixjdHJsLCR0cmFuc2NsdWRlKXt2YXIgYmxvY2ssY2hpbGRTY29wZSxwcmV2aW91c0VsZW1lbnRzOyRzY29wZS4kd2F0Y2goJGF0dHIubmdJZixmdW5jdGlvbih2YWx1ZSl7dG9Cb29sZWFuKHZhbHVlKT9jaGlsZFNjb3BlfHwoY2hpbGRTY29wZT0kc2NvcGUuJG5ldygpLCR0cmFuc2NsdWRlKGNoaWxkU2NvcGUsZnVuY3Rpb24oY2xvbmUpe2Nsb25lW2Nsb25lLmxlbmd0aCsrXT1kb2N1bWVudC5jcmVhdGVDb21tZW50KCIgZW5kIG5nSWY6ICIrJGF0dHIubmdJZisiICIpLGJsb2NrPXtjbG9uZTpjbG9uZX0sJGFuaW1hdGUuZW50ZXIoY2xvbmUsJGVsZW1lbnQucGFyZW50KCksJGVsZW1lbnQpfSkpOihwcmV2aW91c0VsZW1lbnRzJiYocHJldmlvdXNFbGVtZW50cy5yZW1vdmUoKSxwcmV2aW91c0VsZW1lbnRzPW51bGwpLGNoaWxkU2NvcGUmJihjaGlsZFNjb3BlLiRkZXN0cm95KCksY2hpbGRTY29wZT1udWxsKSxibG9jayYmKHByZXZpb3VzRWxlbWVudHM9Z2V0QmxvY2tFbGVtZW50cyhibG9jay5jbG9uZSksJGFuaW1hdGUubGVhdmUocHJldmlvdXNFbGVtZW50cyxmdW5jdGlvbigpe3ByZXZpb3VzRWxlbWVudHM9bnVsbH0pLGJsb2NrPW51bGwpKX0pfX19XSxuZ0luY2x1ZGVEaXJlY3RpdmU9WyIkaHR0cCIsIiR0ZW1wbGF0ZUNhY2hlIiwiJGFuY2hvclNjcm9sbCIsIiRhbmltYXRlIiwiJHNjZSIsZnVuY3Rpb24oJGh0dHAsJHRlbXBsYXRlQ2FjaGUsJGFuY2hvclNjcm9sbCwkYW5pbWF0ZSwkc2NlKXtyZXR1cm57cmVzdHJpY3Q6IkVDQSIscHJpb3JpdHk6NDAwLHRlcm1pbmFsOiEwLHRyYW5zY2x1ZGU6ImVsZW1lbnQiLGNvbnRyb2xsZXI6YW5ndWxhci5ub29wLGNvbXBpbGU6ZnVuY3Rpb24oZWxlbWVudCxhdHRyKXt2YXIgc3JjRXhwPWF0dHIubmdJbmNsdWRlfHxhdHRyLnNyYyxvbmxvYWRFeHA9YXR0ci5vbmxvYWR8fCIiLGF1dG9TY3JvbGxFeHA9YXR0ci5hdXRvc2Nyb2xsO3JldHVybiBmdW5jdGlvbihzY29wZSwkZWxlbWVudCwkYXR0cixjdHJsLCR0cmFuc2NsdWRlKXt2YXIgY3VycmVudFNjb3BlLHByZXZpb3VzRWxlbWVudCxjdXJyZW50RWxlbWVudCxjaGFuZ2VDb3VudGVyPTAsY2xlYW51cExhc3RJbmNsdWRlQ29udGVudD1mdW5jdGlvbigpe3ByZXZpb3VzRWxlbWVudCYmKHByZXZpb3VzRWxlbWVudC5yZW1vdmUoKSxwcmV2aW91c0VsZW1lbnQ9bnVsbCksY3VycmVudFNjb3BlJiYoY3VycmVudFNjb3BlLiRkZXN0cm95KCksY3VycmVudFNjb3BlPW51bGwpLGN1cnJlbnRFbGVtZW50JiYoJGFuaW1hdGUubGVhdmUoY3VycmVudEVsZW1lbnQsZnVuY3Rpb24oKXtwcmV2aW91c0VsZW1lbnQ9bnVsbH0pLHByZXZpb3VzRWxlbWVudD1jdXJyZW50RWxlbWVudCxjdXJyZW50RWxlbWVudD1udWxsKX07c2NvcGUuJHdhdGNoKCRzY2UucGFyc2VBc1Jlc291cmNlVXJsKHNyY0V4cCksZnVuY3Rpb24oc3JjKXt2YXIgYWZ0ZXJBbmltYXRpb249ZnVuY3Rpb24oKXshaXNEZWZpbmVkKGF1dG9TY3JvbGxFeHApfHxhdXRvU2Nyb2xsRXhwJiYhc2NvcGUuJGV2YWwoYXV0b1Njcm9sbEV4cCl8fCRhbmNob3JTY3JvbGwoKX0sdGhpc0NoYW5nZUlkPSsrY2hhbmdlQ291bnRlcjtzcmM/KCRodHRwLmdldChzcmMse2NhY2hlOiR0ZW1wbGF0ZUNhY2hlfSkuc3VjY2VzcyhmdW5jdGlvbihyZXNwb25zZSl7aWYodGhpc0NoYW5nZUlkPT09Y2hhbmdlQ291bnRlcil7dmFyIG5ld1Njb3BlPXNjb3BlLiRuZXcoKTtjdHJsLnRlbXBsYXRlPXJlc3BvbnNlO3ZhciBjbG9uZT0kdHJhbnNjbHVkZShuZXdTY29wZSxmdW5jdGlvbihjbG9uZSl7Y2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpLCRhbmltYXRlLmVudGVyKGNsb25lLG51bGwsJGVsZW1lbnQsYWZ0ZXJBbmltYXRpb24pfSk7Y3VycmVudFNjb3BlPW5ld1Njb3BlLGN1cnJlbnRFbGVtZW50PWNsb25lLGN1cnJlbnRTY29wZS4kZW1pdCgiJGluY2x1ZGVDb250ZW50TG9hZGVkIiksc2NvcGUuJGV2YWwob25sb2FkRXhwKX19KS5lcnJvcihmdW5jdGlvbigpe3RoaXNDaGFuZ2VJZD09PWNoYW5nZUNvdW50ZXImJmNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKX0pLHNjb3BlLiRlbWl0KCIkaW5jbHVkZUNvbnRlbnRSZXF1ZXN0ZWQiKSk6KGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKSxjdHJsLnRlbXBsYXRlPW51bGwpfSl9fX19XSxuZ0luY2x1ZGVGaWxsQ29udGVudERpcmVjdGl2ZT1bIiRjb21waWxlIixmdW5jdGlvbigkY29tcGlsZSl7cmV0dXJue3Jlc3RyaWN0OiJFQ0EiLHByaW9yaXR5Oi00MDAscmVxdWlyZToibmdJbmNsdWRlIixsaW5rOmZ1bmN0aW9uKHNjb3BlLCRlbGVtZW50LCRhdHRyLGN0cmwpeyRlbGVtZW50Lmh0bWwoY3RybC50ZW1wbGF0ZSksJGNvbXBpbGUoJGVsZW1lbnQuY29udGVudHMoKSkoc2NvcGUpfX19XSxuZ0luaXREaXJlY3RpdmU9bmdEaXJlY3RpdmUoe3ByaW9yaXR5OjQ1MCxjb21waWxlOmZ1bmN0aW9uKCl7cmV0dXJue3ByZTpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzKXtzY29wZS4kZXZhbChhdHRycy5uZ0luaXQpfX19fSksbmdOb25CaW5kYWJsZURpcmVjdGl2ZT1uZ0RpcmVjdGl2ZSh7dGVybWluYWw6ITAscHJpb3JpdHk6MWUzfSksbmdQbHVyYWxpemVEaXJlY3RpdmU9WyIkbG9jYWxlIiwiJGludGVycG9sYXRlIixmdW5jdGlvbigkbG9jYWxlLCRpbnRlcnBvbGF0ZSl7dmFyIEJSQUNFPS97fS9nO3JldHVybntyZXN0cmljdDoiRUEiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyKXt2YXIgbnVtYmVyRXhwPWF0dHIuY291bnQsd2hlbkV4cD1hdHRyLiRhdHRyLndoZW4mJmVsZW1lbnQuYXR0cihhdHRyLiRhdHRyLndoZW4pLG9mZnNldD1hdHRyLm9mZnNldHx8MCx3aGVucz1zY29wZS4kZXZhbCh3aGVuRXhwKXx8e30sd2hlbnNFeHBGbnM9e30sc3RhcnRTeW1ib2w9JGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCksZW5kU3ltYm9sPSRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKSxpc1doZW49L153aGVuKE1pbnVzKT8oLispJC87Zm9yRWFjaChhdHRyLGZ1bmN0aW9uKGV4cHJlc3Npb24sYXR0cmlidXRlTmFtZSl7aXNXaGVuLnRlc3QoYXR0cmlidXRlTmFtZSkmJih3aGVuc1tsb3dlcmNhc2UoYXR0cmlidXRlTmFtZS5yZXBsYWNlKCJ3aGVuIiwiIikucmVwbGFjZSgiTWludXMiLCItIikpXT1lbGVtZW50LmF0dHIoYXR0ci4kYXR0clthdHRyaWJ1dGVOYW1lXSkpfSksZm9yRWFjaCh3aGVucyxmdW5jdGlvbihleHByZXNzaW9uLGtleSl7d2hlbnNFeHBGbnNba2V5XT0kaW50ZXJwb2xhdGUoZXhwcmVzc2lvbi5yZXBsYWNlKEJSQUNFLHN0YXJ0U3ltYm9sK251bWJlckV4cCsiLSIrb2Zmc2V0K2VuZFN5bWJvbCkpfSksc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCl7dmFyIHZhbHVlPXBhcnNlRmxvYXQoc2NvcGUuJGV2YWwobnVtYmVyRXhwKSk7cmV0dXJuIGlzTmFOKHZhbHVlKT8iIjoodmFsdWUgaW4gd2hlbnN8fCh2YWx1ZT0kbG9jYWxlLnBsdXJhbENhdCh2YWx1ZS1vZmZzZXQpKSx3aGVuc0V4cEZuc1t2YWx1ZV0oc2NvcGUsZWxlbWVudCwhMCkpfSxmdW5jdGlvbihuZXdWYWwpe2VsZW1lbnQudGV4dChuZXdWYWwpfSl9fX1dLG5nUmVwZWF0RGlyZWN0aXZlPVsiJHBhcnNlIiwiJGFuaW1hdGUiLGZ1bmN0aW9uKCRwYXJzZSwkYW5pbWF0ZSl7ZnVuY3Rpb24gZ2V0QmxvY2tTdGFydChibG9jayl7cmV0dXJuIGJsb2NrLmNsb25lWzBdfWZ1bmN0aW9uIGdldEJsb2NrRW5kKGJsb2NrKXtyZXR1cm4gYmxvY2suY2xvbmVbYmxvY2suY2xvbmUubGVuZ3RoLTFdfXZhciBOR19SRU1PVkVEPSIkJE5HX1JFTU9WRUQiLG5nUmVwZWF0TWluRXJyPW1pbkVycigibmdSZXBlYXQiKTtyZXR1cm57dHJhbnNjbHVkZToiZWxlbWVudCIscHJpb3JpdHk6MWUzLHRlcm1pbmFsOiEwLCQkdGxiOiEwLGxpbms6ZnVuY3Rpb24oJHNjb3BlLCRlbGVtZW50LCRhdHRyLGN0cmwsJHRyYW5zY2x1ZGUpe3ZhciB0cmFja0J5RXhwLHRyYWNrQnlFeHBHZXR0ZXIsdHJhY2tCeUlkRXhwRm4sdHJhY2tCeUlkQXJyYXlGbix0cmFja0J5SWRPYmpGbixsaHMscmhzLHZhbHVlSWRlbnRpZmllcixrZXlJZGVudGlmaWVyLGV4cHJlc3Npb249JGF0dHIubmdSZXBlYXQsbWF0Y2g9ZXhwcmVzc2lvbi5tYXRjaCgvXlxzKihbXHNcU10rPylccytpblxzKyhbXHNcU10rPykoPzpccyt0cmFja1xzK2J5XHMrKFtcc1xTXSs/KSk/XHMqJC8pLGhhc2hGbkxvY2Fscz17JGlkOmhhc2hLZXl9O2lmKCFtYXRjaCl0aHJvdyBuZ1JlcGVhdE1pbkVycigiaWV4cCIsIkV4cGVjdGVkIGV4cHJlc3Npb24gaW4gZm9ybSBvZiAnX2l0ZW1fIGluIF9jb2xsZWN0aW9uX1sgdHJhY2sgYnkgX2lkX10nIGJ1dCBnb3QgJ3swfScuIixleHByZXNzaW9uKTtpZihsaHM9bWF0Y2hbMV0scmhzPW1hdGNoWzJdLHRyYWNrQnlFeHA9bWF0Y2hbM10sdHJhY2tCeUV4cD8odHJhY2tCeUV4cEdldHRlcj0kcGFyc2UodHJhY2tCeUV4cCksdHJhY2tCeUlkRXhwRm49ZnVuY3Rpb24oa2V5LHZhbHVlLGluZGV4KXtyZXR1cm4ga2V5SWRlbnRpZmllciYmKGhhc2hGbkxvY2Fsc1trZXlJZGVudGlmaWVyXT1rZXkpLGhhc2hGbkxvY2Fsc1t2YWx1ZUlkZW50aWZpZXJdPXZhbHVlLGhhc2hGbkxvY2Fscy4kaW5kZXg9aW5kZXgsdHJhY2tCeUV4cEdldHRlcigkc2NvcGUsaGFzaEZuTG9jYWxzKX0pOih0cmFja0J5SWRBcnJheUZuPWZ1bmN0aW9uKGtleSx2YWx1ZSl7cmV0dXJuIGhhc2hLZXkodmFsdWUpfSx0cmFja0J5SWRPYmpGbj1mdW5jdGlvbihrZXkpe3JldHVybiBrZXl9KSxtYXRjaD1saHMubWF0Y2goL14oPzooW1wkXHddKyl8XCgoW1wkXHddKylccyosXHMqKFtcJFx3XSspXCkpJC8pLCFtYXRjaCl0aHJvdyBuZ1JlcGVhdE1pbkVycigiaWlkZXhwIiwiJ19pdGVtXycgaW4gJ19pdGVtXyBpbiBfY29sbGVjdGlvbl8nIHNob3VsZCBiZSBhbiBpZGVudGlmaWVyIG9yICcoX2tleV8sIF92YWx1ZV8pJyBleHByZXNzaW9uLCBidXQgZ290ICd7MH0nLiIsbGhzKTt2YWx1ZUlkZW50aWZpZXI9bWF0Y2hbM118fG1hdGNoWzFdLGtleUlkZW50aWZpZXI9bWF0Y2hbMl07dmFyIGxhc3RCbG9ja01hcD17fTskc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihyaHMsZnVuY3Rpb24oY29sbGVjdGlvbil7dmFyIGluZGV4LGxlbmd0aCxuZXh0Tm9kZSxhcnJheUxlbmd0aCxjaGlsZFNjb3BlLGtleSx2YWx1ZSx0cmFja0J5SWQsdHJhY2tCeUlkRm4sY29sbGVjdGlvbktleXMsYmxvY2ssZWxlbWVudHNUb1JlbW92ZSxwcmV2aW91c05vZGU9JGVsZW1lbnRbMF0sbmV4dEJsb2NrTWFwPXt9LG5leHRCbG9ja09yZGVyPVtdO2lmKGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKWNvbGxlY3Rpb25LZXlzPWNvbGxlY3Rpb24sdHJhY2tCeUlkRm49dHJhY2tCeUlkRXhwRm58fHRyYWNrQnlJZEFycmF5Rm47ZWxzZXt0cmFja0J5SWRGbj10cmFja0J5SWRFeHBGbnx8dHJhY2tCeUlkT2JqRm4sY29sbGVjdGlvbktleXM9W107Zm9yKGtleSBpbiBjb2xsZWN0aW9uKWNvbGxlY3Rpb24uaGFzT3duUHJvcGVydHkoa2V5KSYmIiQiIT1rZXkuY2hhckF0KDApJiZjb2xsZWN0aW9uS2V5cy5wdXNoKGtleSk7Y29sbGVjdGlvbktleXMuc29ydCgpfWZvcihhcnJheUxlbmd0aD1jb2xsZWN0aW9uS2V5cy5sZW5ndGgsbGVuZ3RoPW5leHRCbG9ja09yZGVyLmxlbmd0aD1jb2xsZWN0aW9uS2V5cy5sZW5ndGgsaW5kZXg9MDtsZW5ndGg+aW5kZXg7aW5kZXgrKylpZihrZXk9Y29sbGVjdGlvbj09PWNvbGxlY3Rpb25LZXlzP2luZGV4OmNvbGxlY3Rpb25LZXlzW2luZGV4XSx2YWx1ZT1jb2xsZWN0aW9uW2tleV0sdHJhY2tCeUlkPXRyYWNrQnlJZEZuKGtleSx2YWx1ZSxpbmRleCksYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkodHJhY2tCeUlkLCJgdHJhY2sgYnlgIGlkIiksbGFzdEJsb2NrTWFwLmhhc093blByb3BlcnR5KHRyYWNrQnlJZCkpYmxvY2s9bGFzdEJsb2NrTWFwW3RyYWNrQnlJZF0sZGVsZXRlIGxhc3RCbG9ja01hcFt0cmFja0J5SWRdLG5leHRCbG9ja01hcFt0cmFja0J5SWRdPWJsb2NrLG5leHRCbG9ja09yZGVyW2luZGV4XT1ibG9jaztlbHNle2lmKG5leHRCbG9ja01hcC5oYXNPd25Qcm9wZXJ0eSh0cmFja0J5SWQpKXRocm93IGZvckVhY2gobmV4dEJsb2NrT3JkZXIsZnVuY3Rpb24oYmxvY2spe2Jsb2NrJiZibG9jay5zY29wZSYmKGxhc3RCbG9ja01hcFtibG9jay5pZF09YmxvY2spfSksbmdSZXBlYXRNaW5FcnIoImR1cGVzIiwiRHVwbGljYXRlcyBpbiBhIHJlcGVhdGVyIGFyZSBub3QgYWxsb3dlZC4gVXNlICd0cmFjayBieScgZXhwcmVzc2lvbiB0byBzcGVjaWZ5IHVuaXF1ZSBrZXlzLiBSZXBlYXRlcjogezB9LCBEdXBsaWNhdGUga2V5OiB7MX0sIER1cGxpY2F0ZSB2YWx1ZTogezJ9IixleHByZXNzaW9uLHRyYWNrQnlJZCx0b0pzb24odmFsdWUpKTtuZXh0QmxvY2tPcmRlcltpbmRleF09e2lkOnRyYWNrQnlJZH0sbmV4dEJsb2NrTWFwW3RyYWNrQnlJZF09ITF9Zm9yKGtleSBpbiBsYXN0QmxvY2tNYXApbGFzdEJsb2NrTWFwLmhhc093blByb3BlcnR5KGtleSkmJihibG9jaz1sYXN0QmxvY2tNYXBba2V5XSxlbGVtZW50c1RvUmVtb3ZlPWdldEJsb2NrRWxlbWVudHMoYmxvY2suY2xvbmUpLCRhbmltYXRlLmxlYXZlKGVsZW1lbnRzVG9SZW1vdmUpLGZvckVhY2goZWxlbWVudHNUb1JlbW92ZSxmdW5jdGlvbihlbGVtZW50KXtlbGVtZW50W05HX1JFTU9WRURdPSEwfSksYmxvY2suc2NvcGUuJGRlc3Ryb3koKSk7Zm9yKGluZGV4PTAsbGVuZ3RoPWNvbGxlY3Rpb25LZXlzLmxlbmd0aDtsZW5ndGg+aW5kZXg7aW5kZXgrKyl7aWYoa2V5PWNvbGxlY3Rpb249PT1jb2xsZWN0aW9uS2V5cz9pbmRleDpjb2xsZWN0aW9uS2V5c1tpbmRleF0sdmFsdWU9Y29sbGVjdGlvbltrZXldLGJsb2NrPW5leHRCbG9ja09yZGVyW2luZGV4XSxuZXh0QmxvY2tPcmRlcltpbmRleC0xXSYmKHByZXZpb3VzTm9kZT1nZXRCbG9ja0VuZChuZXh0QmxvY2tPcmRlcltpbmRleC0xXSkpLGJsb2NrLnNjb3BlKXtjaGlsZFNjb3BlPWJsb2NrLnNjb3BlLG5leHROb2RlPXByZXZpb3VzTm9kZTtkbyBuZXh0Tm9kZT1uZXh0Tm9kZS5uZXh0U2libGluZzt3aGlsZShuZXh0Tm9kZSYmbmV4dE5vZGVbTkdfUkVNT1ZFRF0pO2dldEJsb2NrU3RhcnQoYmxvY2spIT1uZXh0Tm9kZSYmJGFuaW1hdGUubW92ZShnZXRCbG9ja0VsZW1lbnRzKGJsb2NrLmNsb25lKSxudWxsLGpxTGl0ZShwcmV2aW91c05vZGUpKSxwcmV2aW91c05vZGU9Z2V0QmxvY2tFbmQoYmxvY2spfWVsc2UgY2hpbGRTY29wZT0kc2NvcGUuJG5ldygpO2NoaWxkU2NvcGVbdmFsdWVJZGVudGlmaWVyXT12YWx1ZSxrZXlJZGVudGlmaWVyJiYoY2hpbGRTY29wZVtrZXlJZGVudGlmaWVyXT1rZXkpLGNoaWxkU2NvcGUuJGluZGV4PWluZGV4LGNoaWxkU2NvcGUuJGZpcnN0PTA9PT1pbmRleCxjaGlsZFNjb3BlLiRsYXN0PWluZGV4PT09YXJyYXlMZW5ndGgtMSxjaGlsZFNjb3BlLiRtaWRkbGU9IShjaGlsZFNjb3BlLiRmaXJzdHx8Y2hpbGRTY29wZS4kbGFzdCksY2hpbGRTY29wZS4kb2RkPSEoY2hpbGRTY29wZS4kZXZlbj0wPT09KDEmaW5kZXgpKSxibG9jay5zY29wZXx8JHRyYW5zY2x1ZGUoY2hpbGRTY29wZSxmdW5jdGlvbihjbG9uZSl7Y2xvbmVbY2xvbmUubGVuZ3RoKytdPWRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoIiBlbmQgbmdSZXBlYXQ6ICIrZXhwcmVzc2lvbisiICIpLCRhbmltYXRlLmVudGVyKGNsb25lLG51bGwsanFMaXRlKHByZXZpb3VzTm9kZSkpLHByZXZpb3VzTm9kZT1jbG9uZSxibG9jay5zY29wZT1jaGlsZFNjb3BlLGJsb2NrLmNsb25lPWNsb25lLG5leHRCbG9ja01hcFtibG9jay5pZF09YmxvY2t9KX1sYXN0QmxvY2tNYXA9bmV4dEJsb2NrTWFwfSl9fX1dLG5nU2hvd0RpcmVjdGl2ZT1bIiRhbmltYXRlIixmdW5jdGlvbigkYW5pbWF0ZSl7cmV0dXJuIGZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cil7c2NvcGUuJHdhdGNoKGF0dHIubmdTaG93LGZ1bmN0aW9uKHZhbHVlKXskYW5pbWF0ZVt0b0Jvb2xlYW4odmFsdWUpPyJyZW1vdmVDbGFzcyI6ImFkZENsYXNzIl0oZWxlbWVudCwibmctaGlkZSIpfSl9fV0sbmdIaWRlRGlyZWN0aXZlPVsiJGFuaW1hdGUiLGZ1bmN0aW9uKCRhbmltYXRlKXtyZXR1cm4gZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyKXtzY29wZS4kd2F0Y2goYXR0ci5uZ0hpZGUsZnVuY3Rpb24odmFsdWUpeyRhbmltYXRlW3RvQm9vbGVhbih2YWx1ZSk/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXShlbGVtZW50LCJuZy1oaWRlIil9KX19XSxuZ1N0eWxlRGlyZWN0aXZlPW5nRGlyZWN0aXZlKGZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cil7c2NvcGUuJHdhdGNoKGF0dHIubmdTdHlsZSxmdW5jdGlvbihuZXdTdHlsZXMsb2xkU3R5bGVzKXtvbGRTdHlsZXMmJm5ld1N0eWxlcyE9PW9sZFN0eWxlcyYmZm9yRWFjaChvbGRTdHlsZXMsZnVuY3Rpb24odmFsLHN0eWxlKXtlbGVtZW50LmNzcyhzdHlsZSwiIil9KSxuZXdTdHlsZXMmJmVsZW1lbnQuY3NzKG5ld1N0eWxlcyl9LCEwKX0pLG5nU3dpdGNoRGlyZWN0aXZlPVsiJGFuaW1hdGUiLGZ1bmN0aW9uKCRhbmltYXRlKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXF1aXJlOiJuZ1N3aXRjaCIsY29udHJvbGxlcjpbIiRzY29wZSIsZnVuY3Rpb24oKXt0aGlzLmNhc2VzPXt9fV0sbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIsbmdTd2l0Y2hDb250cm9sbGVyKXt2YXIgd2F0Y2hFeHByPWF0dHIubmdTd2l0Y2h8fGF0dHIub24sc2VsZWN0ZWRUcmFuc2NsdWRlcz1bXSxzZWxlY3RlZEVsZW1lbnRzPVtdLHByZXZpb3VzRWxlbWVudHM9W10sc2VsZWN0ZWRTY29wZXM9W107c2NvcGUuJHdhdGNoKHdhdGNoRXhwcixmdW5jdGlvbih2YWx1ZSl7dmFyIGksaWk7Zm9yKGk9MCxpaT1wcmV2aW91c0VsZW1lbnRzLmxlbmd0aDtpaT5pOysraSlwcmV2aW91c0VsZW1lbnRzW2ldLnJlbW92ZSgpO2ZvcihwcmV2aW91c0VsZW1lbnRzLmxlbmd0aD0wLGk9MCxpaT1zZWxlY3RlZFNjb3Blcy5sZW5ndGg7aWk+aTsrK2kpe3ZhciBzZWxlY3RlZD1zZWxlY3RlZEVsZW1lbnRzW2ldO3NlbGVjdGVkU2NvcGVzW2ldLiRkZXN0cm95KCkscHJldmlvdXNFbGVtZW50c1tpXT1zZWxlY3RlZCwkYW5pbWF0ZS5sZWF2ZShzZWxlY3RlZCxmdW5jdGlvbigpe3ByZXZpb3VzRWxlbWVudHMuc3BsaWNlKGksMSl9KX1zZWxlY3RlZEVsZW1lbnRzLmxlbmd0aD0wLHNlbGVjdGVkU2NvcGVzLmxlbmd0aD0wLChzZWxlY3RlZFRyYW5zY2x1ZGVzPW5nU3dpdGNoQ29udHJvbGxlci5jYXNlc1siISIrdmFsdWVdfHxuZ1N3aXRjaENvbnRyb2xsZXIuY2FzZXNbIj8iXSkmJihzY29wZS4kZXZhbChhdHRyLmNoYW5nZSksZm9yRWFjaChzZWxlY3RlZFRyYW5zY2x1ZGVzLGZ1bmN0aW9uKHNlbGVjdGVkVHJhbnNjbHVkZSl7dmFyIHNlbGVjdGVkU2NvcGU9c2NvcGUuJG5ldygpO3NlbGVjdGVkU2NvcGVzLnB1c2goc2VsZWN0ZWRTY29wZSksc2VsZWN0ZWRUcmFuc2NsdWRlLnRyYW5zY2x1ZGUoc2VsZWN0ZWRTY29wZSxmdW5jdGlvbihjYXNlRWxlbWVudCl7dmFyIGFuY2hvcj1zZWxlY3RlZFRyYW5zY2x1ZGUuZWxlbWVudDtzZWxlY3RlZEVsZW1lbnRzLnB1c2goY2FzZUVsZW1lbnQpLCRhbmltYXRlLmVudGVyKGNhc2VFbGVtZW50LGFuY2hvci5wYXJlbnQoKSxhbmNob3IpfSl9KSl9KX19fV0sbmdTd2l0Y2hXaGVuRGlyZWN0aXZlPW5nRGlyZWN0aXZlKHt0cmFuc2NsdWRlOiJlbGVtZW50Iixwcmlvcml0eTo4MDAscmVxdWlyZToiXm5nU3dpdGNoIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsY3RybCwkdHJhbnNjbHVkZSl7Y3RybC5jYXNlc1siISIrYXR0cnMubmdTd2l0Y2hXaGVuXT1jdHJsLmNhc2VzWyIhIithdHRycy5uZ1N3aXRjaFdoZW5dfHxbXSxjdHJsLmNhc2VzWyIhIithdHRycy5uZ1N3aXRjaFdoZW5dLnB1c2goe3RyYW5zY2x1ZGU6JHRyYW5zY2x1ZGUsZWxlbWVudDplbGVtZW50fSl9fSksbmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlPW5nRGlyZWN0aXZlKHt0cmFuc2NsdWRlOiJlbGVtZW50Iixwcmlvcml0eTo4MDAscmVxdWlyZToiXm5nU3dpdGNoIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJsLCR0cmFuc2NsdWRlKXtjdHJsLmNhc2VzWyI/Il09Y3RybC5jYXNlc1siPyJdfHxbXSxjdHJsLmNhc2VzWyI/Il0ucHVzaCh7dHJhbnNjbHVkZTokdHJhbnNjbHVkZSxlbGVtZW50OmVsZW1lbnR9KX19KSxuZ1RyYW5zY2x1ZGVEaXJlY3RpdmU9bmdEaXJlY3RpdmUoe2xpbms6ZnVuY3Rpb24oJHNjb3BlLCRlbGVtZW50LCRhdHRycyxjb250cm9sbGVyLCR0cmFuc2NsdWRlKXtpZighJHRyYW5zY2x1ZGUpdGhyb3cgbWluRXJyKCJuZ1RyYW5zY2x1ZGUiKSgib3JwaGFuIiwiSWxsZWdhbCB1c2Ugb2YgbmdUcmFuc2NsdWRlIGRpcmVjdGl2ZSBpbiB0aGUgdGVtcGxhdGUhIE5vIHBhcmVudCBkaXJlY3RpdmUgdGhhdCByZXF1aXJlcyBhIHRyYW5zY2x1c2lvbiBmb3VuZC4gRWxlbWVudDogezB9IixzdGFydGluZ1RhZygkZWxlbWVudCkpOyR0cmFuc2NsdWRlKGZ1bmN0aW9uKGNsb25lKXskZWxlbWVudC5lbXB0eSgpLCRlbGVtZW50LmFwcGVuZChjbG9uZSl9KX19KSxzY3JpcHREaXJlY3RpdmU9WyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpe3JldHVybntyZXN0cmljdDoiRSIsdGVybWluYWw6ITAsY29tcGlsZTpmdW5jdGlvbihlbGVtZW50LGF0dHIpe2lmKCJ0ZXh0L25nLXRlbXBsYXRlIj09YXR0ci50eXBlKXt2YXIgdGVtcGxhdGVVcmw9YXR0ci5pZCx0ZXh0PWVsZW1lbnRbMF0udGV4dDsKJHRlbXBsYXRlQ2FjaGUucHV0KHRlbXBsYXRlVXJsLHRleHQpfX19fV0sbmdPcHRpb25zTWluRXJyPW1pbkVycigibmdPcHRpb25zIiksbmdPcHRpb25zRGlyZWN0aXZlPXZhbHVlRm4oe3Rlcm1pbmFsOiEwfSksc2VsZWN0RGlyZWN0aXZlPVsiJGNvbXBpbGUiLCIkcGFyc2UiLGZ1bmN0aW9uKCRjb21waWxlLCRwYXJzZSl7dmFyIE5HX09QVElPTlNfUkVHRVhQPS9eXHMqKFtcc1xTXSs/KSg/OlxzK2FzXHMrKFtcc1xTXSs/KSk/KD86XHMrZ3JvdXBccytieVxzKyhbXHNcU10rPykpP1xzK2ZvclxzKyg/OihbXCRcd11bXCRcd10qKXwoPzpcKFxzKihbXCRcd11bXCRcd10qKVxzKixccyooW1wkXHddW1wkXHddKilccypcKSkpXHMraW5ccysoW1xzXFNdKz8pKD86XHMrdHJhY2tccytieVxzKyhbXHNcU10rPykpPyQvLG51bGxNb2RlbEN0cmw9eyRzZXRWaWV3VmFsdWU6bm9vcH07cmV0dXJue3Jlc3RyaWN0OiJFIixyZXF1aXJlOlsic2VsZWN0IiwiP25nTW9kZWwiXSxjb250cm9sbGVyOlsiJGVsZW1lbnQiLCIkc2NvcGUiLCIkYXR0cnMiLGZ1bmN0aW9uKCRlbGVtZW50LCRzY29wZSwkYXR0cnMpe3ZhciBudWxsT3B0aW9uLHVua25vd25PcHRpb24sc2VsZj10aGlzLG9wdGlvbnNNYXA9e30sbmdNb2RlbEN0cmw9bnVsbE1vZGVsQ3RybDtzZWxmLmRhdGFib3VuZD0kYXR0cnMubmdNb2RlbCxzZWxmLmluaXQ9ZnVuY3Rpb24obmdNb2RlbEN0cmxfLG51bGxPcHRpb25fLHVua25vd25PcHRpb25fKXtuZ01vZGVsQ3RybD1uZ01vZGVsQ3RybF8sbnVsbE9wdGlvbj1udWxsT3B0aW9uXyx1bmtub3duT3B0aW9uPXVua25vd25PcHRpb25ffSxzZWxmLmFkZE9wdGlvbj1mdW5jdGlvbih2YWx1ZSl7YXNzZXJ0Tm90SGFzT3duUHJvcGVydHkodmFsdWUsJyJvcHRpb24gdmFsdWUiJyksb3B0aW9uc01hcFt2YWx1ZV09ITAsbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZT09dmFsdWUmJigkZWxlbWVudC52YWwodmFsdWUpLHVua25vd25PcHRpb24ucGFyZW50KCkmJnVua25vd25PcHRpb24ucmVtb3ZlKCkpfSxzZWxmLnJlbW92ZU9wdGlvbj1mdW5jdGlvbih2YWx1ZSl7dGhpcy5oYXNPcHRpb24odmFsdWUpJiYoZGVsZXRlIG9wdGlvbnNNYXBbdmFsdWVdLG5nTW9kZWxDdHJsLiR2aWV3VmFsdWU9PXZhbHVlJiZ0aGlzLnJlbmRlclVua25vd25PcHRpb24odmFsdWUpKX0sc2VsZi5yZW5kZXJVbmtub3duT3B0aW9uPWZ1bmN0aW9uKHZhbCl7dmFyIHVua25vd25WYWw9Ij8gIitoYXNoS2V5KHZhbCkrIiA/Ijt1bmtub3duT3B0aW9uLnZhbCh1bmtub3duVmFsKSwkZWxlbWVudC5wcmVwZW5kKHVua25vd25PcHRpb24pLCRlbGVtZW50LnZhbCh1bmtub3duVmFsKSx1bmtub3duT3B0aW9uLnByb3AoInNlbGVjdGVkIiwhMCl9LHNlbGYuaGFzT3B0aW9uPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gb3B0aW9uc01hcC5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSl9LCRzY29wZS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe3NlbGYucmVuZGVyVW5rbm93bk9wdGlvbj1ub29wfSl9XSxsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJscyl7ZnVuY3Rpb24gc2V0dXBBc1NpbmdsZShzY29wZSxzZWxlY3RFbGVtZW50LG5nTW9kZWxDdHJsLHNlbGVjdEN0cmwpe25nTW9kZWxDdHJsLiRyZW5kZXI9ZnVuY3Rpb24oKXt2YXIgdmlld1ZhbHVlPW5nTW9kZWxDdHJsLiR2aWV3VmFsdWU7c2VsZWN0Q3RybC5oYXNPcHRpb24odmlld1ZhbHVlKT8odW5rbm93bk9wdGlvbi5wYXJlbnQoKSYmdW5rbm93bk9wdGlvbi5yZW1vdmUoKSxzZWxlY3RFbGVtZW50LnZhbCh2aWV3VmFsdWUpLCIiPT09dmlld1ZhbHVlJiZlbXB0eU9wdGlvbi5wcm9wKCJzZWxlY3RlZCIsITApKTppc1VuZGVmaW5lZCh2aWV3VmFsdWUpJiZlbXB0eU9wdGlvbj9zZWxlY3RFbGVtZW50LnZhbCgiIik6c2VsZWN0Q3RybC5yZW5kZXJVbmtub3duT3B0aW9uKHZpZXdWYWx1ZSl9LHNlbGVjdEVsZW1lbnQub24oImNoYW5nZSIsZnVuY3Rpb24oKXtzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXt1bmtub3duT3B0aW9uLnBhcmVudCgpJiZ1bmtub3duT3B0aW9uLnJlbW92ZSgpLG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoc2VsZWN0RWxlbWVudC52YWwoKSl9KX0pfWZ1bmN0aW9uIHNldHVwQXNNdWx0aXBsZShzY29wZSxzZWxlY3RFbGVtZW50LGN0cmwpe3ZhciBsYXN0VmlldztjdHJsLiRyZW5kZXI9ZnVuY3Rpb24oKXt2YXIgaXRlbXM9bmV3IEhhc2hNYXAoY3RybC4kdmlld1ZhbHVlKTtmb3JFYWNoKHNlbGVjdEVsZW1lbnQuZmluZCgib3B0aW9uIiksZnVuY3Rpb24ob3B0aW9uKXtvcHRpb24uc2VsZWN0ZWQ9aXNEZWZpbmVkKGl0ZW1zLmdldChvcHRpb24udmFsdWUpKX0pfSxzY29wZS4kd2F0Y2goZnVuY3Rpb24oKXtlcXVhbHMobGFzdFZpZXcsY3RybC4kdmlld1ZhbHVlKXx8KGxhc3RWaWV3PXNoYWxsb3dDb3B5KGN0cmwuJHZpZXdWYWx1ZSksY3RybC4kcmVuZGVyKCkpfSksc2VsZWN0RWxlbWVudC5vbigiY2hhbmdlIixmdW5jdGlvbigpe3Njb3BlLiRhcHBseShmdW5jdGlvbigpe3ZhciBhcnJheT1bXTtmb3JFYWNoKHNlbGVjdEVsZW1lbnQuZmluZCgib3B0aW9uIiksZnVuY3Rpb24ob3B0aW9uKXtvcHRpb24uc2VsZWN0ZWQmJmFycmF5LnB1c2gob3B0aW9uLnZhbHVlKX0pLGN0cmwuJHNldFZpZXdWYWx1ZShhcnJheSl9KX0pfWZ1bmN0aW9uIHNldHVwQXNPcHRpb25zKHNjb3BlLHNlbGVjdEVsZW1lbnQsY3RybCl7ZnVuY3Rpb24gZ2V0U2VsZWN0ZWRTZXQoKXt2YXIgc2VsZWN0ZWRTZXQ9ITE7aWYobXVsdGlwbGUpe3ZhciBtb2RlbFZhbHVlPWN0cmwuJG1vZGVsVmFsdWU7aWYodHJhY2tGbiYmaXNBcnJheShtb2RlbFZhbHVlKSl7c2VsZWN0ZWRTZXQ9bmV3IEhhc2hNYXAoW10pO2Zvcih2YXIgbG9jYWxzPXt9LHRyYWNrSW5kZXg9MDt0cmFja0luZGV4PG1vZGVsVmFsdWUubGVuZ3RoO3RyYWNrSW5kZXgrKylsb2NhbHNbdmFsdWVOYW1lXT1tb2RlbFZhbHVlW3RyYWNrSW5kZXhdLHNlbGVjdGVkU2V0LnB1dCh0cmFja0ZuKHNjb3BlLGxvY2FscyksbW9kZWxWYWx1ZVt0cmFja0luZGV4XSl9ZWxzZSBzZWxlY3RlZFNldD1uZXcgSGFzaE1hcChtb2RlbFZhbHVlKX1yZXR1cm4gc2VsZWN0ZWRTZXR9ZnVuY3Rpb24gcmVuZGVyKCl7dmFyIG9wdGlvbkdyb3VwTmFtZSxvcHRpb25Hcm91cCxvcHRpb24sZXhpc3RpbmdQYXJlbnQsZXhpc3RpbmdPcHRpb25zLGV4aXN0aW5nT3B0aW9uLGtleSxncm91cExlbmd0aCxsZW5ndGgsZ3JvdXBJbmRleCxpbmRleCxzZWxlY3RlZCxsYXN0RWxlbWVudCxlbGVtZW50LGxhYmVsLG9wdGlvbkdyb3Vwcz17IiI6W119LG9wdGlvbkdyb3VwTmFtZXM9WyIiXSxtb2RlbFZhbHVlPWN0cmwuJG1vZGVsVmFsdWUsdmFsdWVzPXZhbHVlc0ZuKHNjb3BlKXx8W10sa2V5cz1rZXlOYW1lP3NvcnRlZEtleXModmFsdWVzKTp2YWx1ZXMsbG9jYWxzPXt9LHNlbGVjdGVkU2V0PWdldFNlbGVjdGVkU2V0KCk7Zm9yKGluZGV4PTA7bGVuZ3RoPWtleXMubGVuZ3RoLGxlbmd0aD5pbmRleDtpbmRleCsrKXtpZihrZXk9aW5kZXgsa2V5TmFtZSl7aWYoa2V5PWtleXNbaW5kZXhdLCIkIj09PWtleS5jaGFyQXQoMCkpY29udGludWU7bG9jYWxzW2tleU5hbWVdPWtleX1pZihsb2NhbHNbdmFsdWVOYW1lXT12YWx1ZXNba2V5XSxvcHRpb25Hcm91cE5hbWU9Z3JvdXBCeUZuKHNjb3BlLGxvY2Fscyl8fCIiLChvcHRpb25Hcm91cD1vcHRpb25Hcm91cHNbb3B0aW9uR3JvdXBOYW1lXSl8fChvcHRpb25Hcm91cD1vcHRpb25Hcm91cHNbb3B0aW9uR3JvdXBOYW1lXT1bXSxvcHRpb25Hcm91cE5hbWVzLnB1c2gob3B0aW9uR3JvdXBOYW1lKSksbXVsdGlwbGUpc2VsZWN0ZWQ9aXNEZWZpbmVkKHNlbGVjdGVkU2V0LnJlbW92ZSh0cmFja0ZuP3RyYWNrRm4oc2NvcGUsbG9jYWxzKTp2YWx1ZUZuKHNjb3BlLGxvY2FscykpKTtlbHNle2lmKHRyYWNrRm4pe3ZhciBtb2RlbENhc3Q9e307bW9kZWxDYXN0W3ZhbHVlTmFtZV09bW9kZWxWYWx1ZSxzZWxlY3RlZD10cmFja0ZuKHNjb3BlLG1vZGVsQ2FzdCk9PT10cmFja0ZuKHNjb3BlLGxvY2Fscyl9ZWxzZSBzZWxlY3RlZD1tb2RlbFZhbHVlPT09dmFsdWVGbihzY29wZSxsb2NhbHMpO3NlbGVjdGVkU2V0PXNlbGVjdGVkU2V0fHxzZWxlY3RlZH1sYWJlbD1kaXNwbGF5Rm4oc2NvcGUsbG9jYWxzKSxsYWJlbD1pc0RlZmluZWQobGFiZWwpP2xhYmVsOiIiLG9wdGlvbkdyb3VwLnB1c2goe2lkOnRyYWNrRm4/dHJhY2tGbihzY29wZSxsb2NhbHMpOmtleU5hbWU/a2V5c1tpbmRleF06aW5kZXgsbGFiZWw6bGFiZWwsc2VsZWN0ZWQ6c2VsZWN0ZWR9KX1mb3IobXVsdGlwbGV8fChudWxsT3B0aW9ufHxudWxsPT09bW9kZWxWYWx1ZT9vcHRpb25Hcm91cHNbIiJdLnVuc2hpZnQoe2lkOiIiLGxhYmVsOiIiLHNlbGVjdGVkOiFzZWxlY3RlZFNldH0pOnNlbGVjdGVkU2V0fHxvcHRpb25Hcm91cHNbIiJdLnVuc2hpZnQoe2lkOiI/IixsYWJlbDoiIixzZWxlY3RlZDohMH0pKSxncm91cEluZGV4PTAsZ3JvdXBMZW5ndGg9b3B0aW9uR3JvdXBOYW1lcy5sZW5ndGg7Z3JvdXBMZW5ndGg+Z3JvdXBJbmRleDtncm91cEluZGV4Kyspe2ZvcihvcHRpb25Hcm91cE5hbWU9b3B0aW9uR3JvdXBOYW1lc1tncm91cEluZGV4XSxvcHRpb25Hcm91cD1vcHRpb25Hcm91cHNbb3B0aW9uR3JvdXBOYW1lXSxvcHRpb25Hcm91cHNDYWNoZS5sZW5ndGg8PWdyb3VwSW5kZXg/KGV4aXN0aW5nUGFyZW50PXtlbGVtZW50Om9wdEdyb3VwVGVtcGxhdGUuY2xvbmUoKS5hdHRyKCJsYWJlbCIsb3B0aW9uR3JvdXBOYW1lKSxsYWJlbDpvcHRpb25Hcm91cC5sYWJlbH0sZXhpc3RpbmdPcHRpb25zPVtleGlzdGluZ1BhcmVudF0sb3B0aW9uR3JvdXBzQ2FjaGUucHVzaChleGlzdGluZ09wdGlvbnMpLHNlbGVjdEVsZW1lbnQuYXBwZW5kKGV4aXN0aW5nUGFyZW50LmVsZW1lbnQpKTooZXhpc3RpbmdPcHRpb25zPW9wdGlvbkdyb3Vwc0NhY2hlW2dyb3VwSW5kZXhdLGV4aXN0aW5nUGFyZW50PWV4aXN0aW5nT3B0aW9uc1swXSxleGlzdGluZ1BhcmVudC5sYWJlbCE9b3B0aW9uR3JvdXBOYW1lJiZleGlzdGluZ1BhcmVudC5lbGVtZW50LmF0dHIoImxhYmVsIixleGlzdGluZ1BhcmVudC5sYWJlbD1vcHRpb25Hcm91cE5hbWUpKSxsYXN0RWxlbWVudD1udWxsLGluZGV4PTAsbGVuZ3RoPW9wdGlvbkdyb3VwLmxlbmd0aDtsZW5ndGg+aW5kZXg7aW5kZXgrKylvcHRpb249b3B0aW9uR3JvdXBbaW5kZXhdLChleGlzdGluZ09wdGlvbj1leGlzdGluZ09wdGlvbnNbaW5kZXgrMV0pPyhsYXN0RWxlbWVudD1leGlzdGluZ09wdGlvbi5lbGVtZW50LGV4aXN0aW5nT3B0aW9uLmxhYmVsIT09b3B0aW9uLmxhYmVsJiZsYXN0RWxlbWVudC50ZXh0KGV4aXN0aW5nT3B0aW9uLmxhYmVsPW9wdGlvbi5sYWJlbCksZXhpc3RpbmdPcHRpb24uaWQhPT1vcHRpb24uaWQmJmxhc3RFbGVtZW50LnZhbChleGlzdGluZ09wdGlvbi5pZD1vcHRpb24uaWQpLGxhc3RFbGVtZW50WzBdLnNlbGVjdGVkIT09b3B0aW9uLnNlbGVjdGVkJiYobGFzdEVsZW1lbnQucHJvcCgic2VsZWN0ZWQiLGV4aXN0aW5nT3B0aW9uLnNlbGVjdGVkPW9wdGlvbi5zZWxlY3RlZCksbXNpZSYmbGFzdEVsZW1lbnQucHJvcCgic2VsZWN0ZWQiLGV4aXN0aW5nT3B0aW9uLnNlbGVjdGVkKSkpOigiIj09PW9wdGlvbi5pZCYmbnVsbE9wdGlvbj9lbGVtZW50PW51bGxPcHRpb246KGVsZW1lbnQ9b3B0aW9uVGVtcGxhdGUuY2xvbmUoKSkudmFsKG9wdGlvbi5pZCkucHJvcCgic2VsZWN0ZWQiLG9wdGlvbi5zZWxlY3RlZCkuYXR0cigic2VsZWN0ZWQiLG9wdGlvbi5zZWxlY3RlZCkudGV4dChvcHRpb24ubGFiZWwpLGV4aXN0aW5nT3B0aW9ucy5wdXNoKGV4aXN0aW5nT3B0aW9uPXtlbGVtZW50OmVsZW1lbnQsbGFiZWw6b3B0aW9uLmxhYmVsLGlkOm9wdGlvbi5pZCxzZWxlY3RlZDpvcHRpb24uc2VsZWN0ZWR9KSxzZWxlY3RDdHJsLmFkZE9wdGlvbihvcHRpb24ubGFiZWwsZWxlbWVudCksbGFzdEVsZW1lbnQ/bGFzdEVsZW1lbnQuYWZ0ZXIoZWxlbWVudCk6ZXhpc3RpbmdQYXJlbnQuZWxlbWVudC5hcHBlbmQoZWxlbWVudCksbGFzdEVsZW1lbnQ9ZWxlbWVudCk7Zm9yKGluZGV4Kys7ZXhpc3RpbmdPcHRpb25zLmxlbmd0aD5pbmRleDspb3B0aW9uPWV4aXN0aW5nT3B0aW9ucy5wb3AoKSxzZWxlY3RDdHJsLnJlbW92ZU9wdGlvbihvcHRpb24ubGFiZWwpLG9wdGlvbi5lbGVtZW50LnJlbW92ZSgpfWZvcig7b3B0aW9uR3JvdXBzQ2FjaGUubGVuZ3RoPmdyb3VwSW5kZXg7KW9wdGlvbkdyb3Vwc0NhY2hlLnBvcCgpWzBdLmVsZW1lbnQucmVtb3ZlKCl9dmFyIG1hdGNoO2lmKCEobWF0Y2g9b3B0aW9uc0V4cC5tYXRjaChOR19PUFRJT05TX1JFR0VYUCkpKXRocm93IG5nT3B0aW9uc01pbkVycigiaWV4cCIsIkV4cGVjdGVkIGV4cHJlc3Npb24gaW4gZm9ybSBvZiAnX3NlbGVjdF8gKGFzIF9sYWJlbF8pPyBmb3IgKF9rZXlfLCk/X3ZhbHVlXyBpbiBfY29sbGVjdGlvbl8nIGJ1dCBnb3QgJ3swfScuIEVsZW1lbnQ6IHsxfSIsb3B0aW9uc0V4cCxzdGFydGluZ1RhZyhzZWxlY3RFbGVtZW50KSk7dmFyIGRpc3BsYXlGbj0kcGFyc2UobWF0Y2hbMl18fG1hdGNoWzFdKSx2YWx1ZU5hbWU9bWF0Y2hbNF18fG1hdGNoWzZdLGtleU5hbWU9bWF0Y2hbNV0sZ3JvdXBCeUZuPSRwYXJzZShtYXRjaFszXXx8IiIpLHZhbHVlRm49JHBhcnNlKG1hdGNoWzJdP21hdGNoWzFdOnZhbHVlTmFtZSksdmFsdWVzRm49JHBhcnNlKG1hdGNoWzddKSx0cmFjaz1tYXRjaFs4XSx0cmFja0ZuPXRyYWNrPyRwYXJzZShtYXRjaFs4XSk6bnVsbCxvcHRpb25Hcm91cHNDYWNoZT1bW3tlbGVtZW50OnNlbGVjdEVsZW1lbnQsbGFiZWw6IiJ9XV07bnVsbE9wdGlvbiYmKCRjb21waWxlKG51bGxPcHRpb24pKHNjb3BlKSxudWxsT3B0aW9uLnJlbW92ZUNsYXNzKCJuZy1zY29wZSIpLG51bGxPcHRpb24ucmVtb3ZlKCkpLHNlbGVjdEVsZW1lbnQuZW1wdHkoKSxzZWxlY3RFbGVtZW50Lm9uKCJjaGFuZ2UiLGZ1bmN0aW9uKCl7c2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7dmFyIG9wdGlvbkdyb3VwLGtleSx2YWx1ZSxvcHRpb25FbGVtZW50LGluZGV4LGdyb3VwSW5kZXgsbGVuZ3RoLGdyb3VwTGVuZ3RoLHRyYWNrSW5kZXgsY29sbGVjdGlvbj12YWx1ZXNGbihzY29wZSl8fFtdLGxvY2Fscz17fTtpZihtdWx0aXBsZSl7Zm9yKHZhbHVlPVtdLGdyb3VwSW5kZXg9MCxncm91cExlbmd0aD1vcHRpb25Hcm91cHNDYWNoZS5sZW5ndGg7Z3JvdXBMZW5ndGg+Z3JvdXBJbmRleDtncm91cEluZGV4KyspZm9yKG9wdGlvbkdyb3VwPW9wdGlvbkdyb3Vwc0NhY2hlW2dyb3VwSW5kZXhdLGluZGV4PTEsbGVuZ3RoPW9wdGlvbkdyb3VwLmxlbmd0aDtsZW5ndGg+aW5kZXg7aW5kZXgrKylpZigob3B0aW9uRWxlbWVudD1vcHRpb25Hcm91cFtpbmRleF0uZWxlbWVudClbMF0uc2VsZWN0ZWQpe2lmKGtleT1vcHRpb25FbGVtZW50LnZhbCgpLGtleU5hbWUmJihsb2NhbHNba2V5TmFtZV09a2V5KSx0cmFja0ZuKWZvcih0cmFja0luZGV4PTA7dHJhY2tJbmRleDxjb2xsZWN0aW9uLmxlbmd0aCYmKGxvY2Fsc1t2YWx1ZU5hbWVdPWNvbGxlY3Rpb25bdHJhY2tJbmRleF0sdHJhY2tGbihzY29wZSxsb2NhbHMpIT1rZXkpO3RyYWNrSW5kZXgrKyk7ZWxzZSBsb2NhbHNbdmFsdWVOYW1lXT1jb2xsZWN0aW9uW2tleV07dmFsdWUucHVzaCh2YWx1ZUZuKHNjb3BlLGxvY2FscykpfX1lbHNlIGlmKGtleT1zZWxlY3RFbGVtZW50LnZhbCgpLCI/Ij09a2V5KXZhbHVlPXVuZGVmaW5lZDtlbHNlIGlmKCIiPT09a2V5KXZhbHVlPW51bGw7ZWxzZSBpZih0cmFja0ZuKXtmb3IodHJhY2tJbmRleD0wO3RyYWNrSW5kZXg8Y29sbGVjdGlvbi5sZW5ndGg7dHJhY2tJbmRleCsrKWlmKGxvY2Fsc1t2YWx1ZU5hbWVdPWNvbGxlY3Rpb25bdHJhY2tJbmRleF0sdHJhY2tGbihzY29wZSxsb2NhbHMpPT1rZXkpe3ZhbHVlPXZhbHVlRm4oc2NvcGUsbG9jYWxzKTticmVha319ZWxzZSBsb2NhbHNbdmFsdWVOYW1lXT1jb2xsZWN0aW9uW2tleV0sa2V5TmFtZSYmKGxvY2Fsc1trZXlOYW1lXT1rZXkpLHZhbHVlPXZhbHVlRm4oc2NvcGUsbG9jYWxzKTtjdHJsLiRzZXRWaWV3VmFsdWUodmFsdWUpLHJlbmRlcigpfSl9KSxjdHJsLiRyZW5kZXI9cmVuZGVyLHNjb3BlLiR3YXRjaENvbGxlY3Rpb24odmFsdWVzRm4scmVuZGVyKSxzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKGZ1bmN0aW9uKCl7dmFyIGxvY2Fscz17fSx2YWx1ZXM9dmFsdWVzRm4oc2NvcGUpO2lmKHZhbHVlcyl7Zm9yKHZhciB0b0Rpc3BsYXk9bmV3IEFycmF5KHZhbHVlcy5sZW5ndGgpLGk9MCxpaT12YWx1ZXMubGVuZ3RoO2lpPmk7aSsrKWxvY2Fsc1t2YWx1ZU5hbWVdPXZhbHVlc1tpXSx0b0Rpc3BsYXlbaV09ZGlzcGxheUZuKHNjb3BlLGxvY2Fscyk7cmV0dXJuIHRvRGlzcGxheX19LHJlbmRlciksbXVsdGlwbGUmJnNjb3BlLiR3YXRjaENvbGxlY3Rpb24oZnVuY3Rpb24oKXtyZXR1cm4gY3RybC4kbW9kZWxWYWx1ZX0scmVuZGVyKX1pZihjdHJsc1sxXSl7Zm9yKHZhciBlbXB0eU9wdGlvbixzZWxlY3RDdHJsPWN0cmxzWzBdLG5nTW9kZWxDdHJsPWN0cmxzWzFdLG11bHRpcGxlPWF0dHIubXVsdGlwbGUsb3B0aW9uc0V4cD1hdHRyLm5nT3B0aW9ucyxudWxsT3B0aW9uPSExLG9wdGlvblRlbXBsYXRlPWpxTGl0ZShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSksb3B0R3JvdXBUZW1wbGF0ZT1qcUxpdGUoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0Z3JvdXAiKSksdW5rbm93bk9wdGlvbj1vcHRpb25UZW1wbGF0ZS5jbG9uZSgpLGk9MCxjaGlsZHJlbj1lbGVtZW50LmNoaWxkcmVuKCksaWk9Y2hpbGRyZW4ubGVuZ3RoO2lpPmk7aSsrKWlmKCIiPT09Y2hpbGRyZW5baV0udmFsdWUpe2VtcHR5T3B0aW9uPW51bGxPcHRpb249Y2hpbGRyZW4uZXEoaSk7YnJlYWt9c2VsZWN0Q3RybC5pbml0KG5nTW9kZWxDdHJsLG51bGxPcHRpb24sdW5rbm93bk9wdGlvbiksbXVsdGlwbGUmJihuZ01vZGVsQ3RybC4kaXNFbXB0eT1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIXZhbHVlfHwwPT09dmFsdWUubGVuZ3RofSksb3B0aW9uc0V4cD9zZXR1cEFzT3B0aW9ucyhzY29wZSxlbGVtZW50LG5nTW9kZWxDdHJsKTptdWx0aXBsZT9zZXR1cEFzTXVsdGlwbGUoc2NvcGUsZWxlbWVudCxuZ01vZGVsQ3RybCk6c2V0dXBBc1NpbmdsZShzY29wZSxlbGVtZW50LG5nTW9kZWxDdHJsLHNlbGVjdEN0cmwpfX19fV0sb3B0aW9uRGlyZWN0aXZlPVsiJGludGVycG9sYXRlIixmdW5jdGlvbigkaW50ZXJwb2xhdGUpe3ZhciBudWxsU2VsZWN0Q3RybD17YWRkT3B0aW9uOm5vb3AscmVtb3ZlT3B0aW9uOm5vb3B9O3JldHVybntyZXN0cmljdDoiRSIscHJpb3JpdHk6MTAwLGNvbXBpbGU6ZnVuY3Rpb24oZWxlbWVudCxhdHRyKXtpZihpc1VuZGVmaW5lZChhdHRyLnZhbHVlKSl7dmFyIGludGVycG9sYXRlRm49JGludGVycG9sYXRlKGVsZW1lbnQudGV4dCgpLCEwKTtpbnRlcnBvbGF0ZUZufHxhdHRyLiRzZXQoInZhbHVlIixlbGVtZW50LnRleHQoKSl9cmV0dXJuIGZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cil7dmFyIHNlbGVjdEN0cmxOYW1lPSIkc2VsZWN0Q29udHJvbGxlciIscGFyZW50PWVsZW1lbnQucGFyZW50KCksc2VsZWN0Q3RybD1wYXJlbnQuZGF0YShzZWxlY3RDdHJsTmFtZSl8fHBhcmVudC5wYXJlbnQoKS5kYXRhKHNlbGVjdEN0cmxOYW1lKTtzZWxlY3RDdHJsJiZzZWxlY3RDdHJsLmRhdGFib3VuZD9lbGVtZW50LnByb3AoInNlbGVjdGVkIiwhMSk6c2VsZWN0Q3RybD1udWxsU2VsZWN0Q3RybCxpbnRlcnBvbGF0ZUZuP3Njb3BlLiR3YXRjaChpbnRlcnBvbGF0ZUZuLGZ1bmN0aW9uKG5ld1ZhbCxvbGRWYWwpe2F0dHIuJHNldCgidmFsdWUiLG5ld1ZhbCksbmV3VmFsIT09b2xkVmFsJiZzZWxlY3RDdHJsLnJlbW92ZU9wdGlvbihvbGRWYWwpLHNlbGVjdEN0cmwuYWRkT3B0aW9uKG5ld1ZhbCl9KTpzZWxlY3RDdHJsLmFkZE9wdGlvbihhdHRyLnZhbHVlKSxlbGVtZW50Lm9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtzZWxlY3RDdHJsLnJlbW92ZU9wdGlvbihhdHRyLnZhbHVlKX0pfX19fV0sc3R5bGVEaXJlY3RpdmU9dmFsdWVGbih7cmVzdHJpY3Q6IkUiLHRlcm1pbmFsOiEwfSk7cmV0dXJuIHdpbmRvdy5hbmd1bGFyLmJvb3RzdHJhcD92b2lkIGNvbnNvbGUubG9nKCJXQVJOSU5HOiBUcmllZCB0byBsb2FkIGFuZ3VsYXIgbW9yZSB0aGFuIG9uY2UuIik6KGJpbmRKUXVlcnkoKSxwdWJsaXNoRXh0ZXJuYWxBUEkoYW5ndWxhciksdm9pZCBqcUxpdGUoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7YW5ndWxhckluaXQoZG9jdW1lbnQsYm9vdHN0cmFwKX0pKX0od2luZG93LGRvY3VtZW50KSwhd2luZG93LmFuZ3VsYXIuJCRjc3AoKSYmd2luZG93LmFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkuZmluZCgiaGVhZCIpLnByZXBlbmQoJzxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+QGNoYXJzZXQgIlVURi04IjtbbmdcXDpjbG9ha10sW25nLWNsb2FrXSxbZGF0YS1uZy1jbG9ha10sW3gtbmctY2xvYWtdLC5uZy1jbG9haywueC1uZy1jbG9haywubmctaGlkZXtkaXNwbGF5Om5vbmUgIWltcG9ydGFudDt9bmdcXDpmb3Jte2Rpc3BsYXk6YmxvY2s7fS5uZy1hbmltYXRlLWJsb2NrLXRyYW5zaXRpb25ze3RyYW5zaXRpb246MHMgYWxsIWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb246MHMgYWxsIWltcG9ydGFudDt9Lm5nLWhpZGUtYWRkLWFjdGl2ZSwubmctaGlkZS1yZW1vdmV7ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7fTwvc3R5bGU+JyksZnVuY3Rpb24obixlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24geChzLGcsaCl7cmV0dXJue3Jlc3RyaWN0OiJFQ0EiLHRlcm1pbmFsOiEwLHByaW9yaXR5OjQwMCx0cmFuc2NsdWRlOiJlbGVtZW50IixsaW5rOmZ1bmN0aW9uKGEsYyxiLGYsdyl7ZnVuY3Rpb24geSgpe3AmJihwLnJlbW92ZSgpLHA9bnVsbCksayYmKGsuJGRlc3Ryb3koKSxrPW51bGwpLGwmJihoLmxlYXZlKGwsZnVuY3Rpb24oKXtwPW51bGx9KSxwPWwsbD1udWxsKX1mdW5jdGlvbiB2KCl7dmFyIGI9cy5jdXJyZW50JiZzLmN1cnJlbnQubG9jYWxzO2lmKGUuaXNEZWZpbmVkKGImJmIuJHRlbXBsYXRlKSl7dmFyIGI9YS4kbmV3KCksZD1zLmN1cnJlbnQ7bD13KGIsZnVuY3Rpb24oZCl7aC5lbnRlcihkLG51bGwsbHx8YyxmdW5jdGlvbigpeyFlLmlzRGVmaW5lZCh0KXx8dCYmIWEuJGV2YWwodCl8fGcoKX0pLHkoKX0pLGs9ZC5zY29wZT1iLGsuJGVtaXQoIiR2aWV3Q29udGVudExvYWRlZCIpLGsuJGV2YWwodSl9ZWxzZSB5KCl9dmFyIGssbCxwLHQ9Yi5hdXRvc2Nyb2xsLHU9Yi5vbmxvYWR8fCIiO2EuJG9uKCIkcm91dGVDaGFuZ2VTdWNjZXNzIix2KSx2KCl9fX1mdW5jdGlvbiB6KGUsZyxoKXtyZXR1cm57cmVzdHJpY3Q6IkVDQSIscHJpb3JpdHk6LTQwMCxsaW5rOmZ1bmN0aW9uKGEsYyl7dmFyIGI9aC5jdXJyZW50LGY9Yi5sb2NhbHM7Yy5odG1sKGYuJHRlbXBsYXRlKTt2YXIgdz1lKGMuY29udGVudHMoKSk7Yi5jb250cm9sbGVyJiYoZi4kc2NvcGU9YSxmPWcoYi5jb250cm9sbGVyLGYpLGIuY29udHJvbGxlckFzJiYoYVtiLmNvbnRyb2xsZXJBc109ZiksYy5kYXRhKCIkbmdDb250cm9sbGVyQ29udHJvbGxlciIsZiksYy5jaGlsZHJlbigpLmRhdGEoIiRuZ0NvbnRyb2xsZXJDb250cm9sbGVyIixmKSksdyhhKX19fW49ZS5tb2R1bGUoIm5nUm91dGUiLFsibmciXSkucHJvdmlkZXIoIiRyb3V0ZSIsZnVuY3Rpb24oKXtmdW5jdGlvbiBzKGEsYyl7cmV0dXJuIGUuZXh0ZW5kKG5ldyhlLmV4dGVuZChmdW5jdGlvbigpe30se3Byb3RvdHlwZTphfSkpLGMpfWZ1bmN0aW9uIGcoYSxlKXt2YXIgYj1lLmNhc2VJbnNlbnNpdGl2ZU1hdGNoLGY9e29yaWdpbmFsUGF0aDphLHJlZ2V4cDphfSxoPWYua2V5cz1bXTtyZXR1cm4gYT1hLnJlcGxhY2UoLyhbKCkuXSkvZywiXFwkMSIpLnJlcGxhY2UoLyhcLyk/OihcdyspKFtcP1wqXSk/L2csZnVuY3Rpb24oYSxlLGIsYyl7cmV0dXJuIGE9Ij8iPT09Yz9jOm51bGwsYz0iKiI9PT1jP2M6bnVsbCxoLnB1c2goe25hbWU6YixvcHRpb25hbDohIWF9KSxlPWV8fCIiLCIiKyhhPyIiOmUpKyIoPzoiKyhhP2U6IiIpKyhjJiYiKC4rPykifHwiKFteL10rKSIpKyhhfHwiIikrIikiKyhhfHwiIil9KS5yZXBsYWNlKC8oW1wvJFwqXSkvZywiXFwkMSIpLGYucmVnZXhwPVJlZ0V4cCgiXiIrYSsiJCIsYj8iaSI6IiIpLGZ9dmFyIGg9e307dGhpcy53aGVuPWZ1bmN0aW9uKGEsYyl7aWYoaFthXT1lLmV4dGVuZCh7cmVsb2FkT25TZWFyY2g6ITB9LGMsYSYmZyhhLGMpKSxhKXt2YXIgYj0iLyI9PWFbYS5sZW5ndGgtMV0/YS5zdWJzdHIoMCxhLmxlbmd0aC0xKTphKyIvIjtoW2JdPWUuZXh0ZW5kKHtyZWRpcmVjdFRvOmF9LGcoYixjKSl9cmV0dXJuIHRoaXN9LHRoaXMub3RoZXJ3aXNlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLndoZW4obnVsbCxhKSx0aGlzfSx0aGlzLiRnZXQ9WyIkcm9vdFNjb3BlIiwiJGxvY2F0aW9uIiwiJHJvdXRlUGFyYW1zIiwiJHEiLCIkaW5qZWN0b3IiLCIkaHR0cCIsIiR0ZW1wbGF0ZUNhY2hlIiwiJHNjZSIsZnVuY3Rpb24oYSxjLGIsZixnLG4sdixrKXtmdW5jdGlvbiBsKCl7dmFyIGQ9cCgpLG09ci5jdXJyZW50O2QmJm0mJmQuJCRyb3V0ZT09PW0uJCRyb3V0ZSYmZS5lcXVhbHMoZC5wYXRoUGFyYW1zLG0ucGF0aFBhcmFtcykmJiFkLnJlbG9hZE9uU2VhcmNoJiYhdT8obS5wYXJhbXM9ZC5wYXJhbXMsZS5jb3B5KG0ucGFyYW1zLGIpLGEuJGJyb2FkY2FzdCgiJHJvdXRlVXBkYXRlIixtKSk6KGR8fG0pJiYodT0hMSxhLiRicm9hZGNhc3QoIiRyb3V0ZUNoYW5nZVN0YXJ0IixkLG0pLChyLmN1cnJlbnQ9ZCkmJmQucmVkaXJlY3RUbyYmKGUuaXNTdHJpbmcoZC5yZWRpcmVjdFRvKT9jLnBhdGgodChkLnJlZGlyZWN0VG8sZC5wYXJhbXMpKS5zZWFyY2goZC5wYXJhbXMpLnJlcGxhY2UoKTpjLnVybChkLnJlZGlyZWN0VG8oZC5wYXRoUGFyYW1zLGMucGF0aCgpLGMuc2VhcmNoKCkpKS5yZXBsYWNlKCkpLGYud2hlbihkKS50aGVuKGZ1bmN0aW9uKCl7aWYoZCl7dmFyIGMsYixhPWUuZXh0ZW5kKHt9LGQucmVzb2x2ZSk7cmV0dXJuIGUuZm9yRWFjaChhLGZ1bmN0aW9uKGQsYyl7YVtjXT1lLmlzU3RyaW5nKGQpP2cuZ2V0KGQpOmcuaW52b2tlKGQpfSksZS5pc0RlZmluZWQoYz1kLnRlbXBsYXRlKT9lLmlzRnVuY3Rpb24oYykmJihjPWMoZC5wYXJhbXMpKTplLmlzRGVmaW5lZChiPWQudGVtcGxhdGVVcmwpJiYoZS5pc0Z1bmN0aW9uKGIpJiYoYj1iKGQucGFyYW1zKSksYj1rLmdldFRydXN0ZWRSZXNvdXJjZVVybChiKSxlLmlzRGVmaW5lZChiKSYmKGQubG9hZGVkVGVtcGxhdGVVcmw9YixjPW4uZ2V0KGIse2NhY2hlOnZ9KS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmRhdGF9KSkpLGUuaXNEZWZpbmVkKGMpJiYoYS4kdGVtcGxhdGU9YyksZi5hbGwoYSl9fSkudGhlbihmdW5jdGlvbihjKXtkPT1yLmN1cnJlbnQmJihkJiYoZC5sb2NhbHM9YyxlLmNvcHkoZC5wYXJhbXMsYikpLGEuJGJyb2FkY2FzdCgiJHJvdXRlQ2hhbmdlU3VjY2VzcyIsZCxtKSl9LGZ1bmN0aW9uKGMpe2Q9PXIuY3VycmVudCYmYS4kYnJvYWRjYXN0KCIkcm91dGVDaGFuZ2VFcnJvciIsZCxtLGMpfSkpfWZ1bmN0aW9uIHAoKXt2YXIgYSxiO3JldHVybiBlLmZvckVhY2goaCxmdW5jdGlvbihmKXt2YXIgcTtpZihxPSFiKXt2YXIgZz1jLnBhdGgoKTtxPWYua2V5czt2YXIgbD17fTtpZihmLnJlZ2V4cClpZihnPWYucmVnZXhwLmV4ZWMoZykpe2Zvcih2YXIgaz0xLHA9Zy5sZW5ndGg7cD5rOysrayl7dmFyIG49cVtrLTFdLHI9Z1trXTtuJiZyJiYobFtuLm5hbWVdPXIpfXE9bH1lbHNlIHE9bnVsbDtlbHNlIHE9bnVsbDtxPWE9cX1xJiYoYj1zKGYse3BhcmFtczplLmV4dGVuZCh7fSxjLnNlYXJjaCgpLGEpLHBhdGhQYXJhbXM6YX0pLGIuJCRyb3V0ZT1mKX0pLGJ8fGhbbnVsbF0mJnMoaFtudWxsXSx7cGFyYW1zOnt9LHBhdGhQYXJhbXM6e319KX1mdW5jdGlvbiB0KGEsYyl7dmFyIGI9W107cmV0dXJuIGUuZm9yRWFjaCgoYXx8IiIpLnNwbGl0KCI6IiksZnVuY3Rpb24oYSxkKXtpZigwPT09ZCliLnB1c2goYSk7ZWxzZXt2YXIgZT1hLm1hdGNoKC8oXHcrKSguKikvKSxmPWVbMV07Yi5wdXNoKGNbZl0pLGIucHVzaChlWzJdfHwiIiksZGVsZXRlIGNbZl19fSksYi5qb2luKCIiKX12YXIgdT0hMSxyPXtyb3V0ZXM6aCxyZWxvYWQ6ZnVuY3Rpb24oKXt1PSEwLGEuJGV2YWxBc3luYyhsKX19O3JldHVybiBhLiRvbigiJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcyIsbCkscn1dfSksbi5wcm92aWRlcigiJHJvdXRlUGFyYW1zIixmdW5jdGlvbigpe3RoaXMuJGdldD1mdW5jdGlvbigpe3JldHVybnt9fX0pLG4uZGlyZWN0aXZlKCJuZ1ZpZXciLHgpLG4uZGlyZWN0aXZlKCJuZ1ZpZXciLHopLHguJGluamVjdD1bIiRyb3V0ZSIsIiRhbmNob3JTY3JvbGwiLCIkYW5pbWF0ZSJdLHouJGluamVjdD1bIiRjb21waWxlIiwiJGNvbnRyb2xsZXIiLCIkcm91dGUiXX0od2luZG93LHdpbmRvdy5hbmd1bGFyKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwIixbInVpLmJvb3RzdHJhcC50cmFuc2l0aW9uIiwidWkuYm9vdHN0cmFwLmNvbGxhcHNlIiwidWkuYm9vdHN0cmFwLmFjY29yZGlvbiIsInVpLmJvb3RzdHJhcC5hbGVydCIsInVpLmJvb3RzdHJhcC5iaW5kSHRtbCIsInVpLmJvb3RzdHJhcC5idXR0b25zIiwidWkuYm9vdHN0cmFwLmNhcm91c2VsIiwidWkuYm9vdHN0cmFwLmRhdGVwYXJzZXIiLCJ1aS5ib290c3RyYXAucG9zaXRpb24iLCJ1aS5ib290c3RyYXAuZGF0ZXBpY2tlciIsInVpLmJvb3RzdHJhcC5kcm9wZG93biIsInVpLmJvb3RzdHJhcC5tb2RhbCIsInVpLmJvb3RzdHJhcC5wYWdpbmF0aW9uIiwidWkuYm9vdHN0cmFwLnRvb2x0aXAiLCJ1aS5ib290c3RyYXAucG9wb3ZlciIsInVpLmJvb3RzdHJhcC5wcm9ncmVzc2JhciIsInVpLmJvb3RzdHJhcC5yYXRpbmciLCJ1aS5ib290c3RyYXAudGFicyIsInVpLmJvb3RzdHJhcC50aW1lcGlja2VyIiwidWkuYm9vdHN0cmFwLnR5cGVhaGVhZCJdKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnRyYW5zaXRpb24iLFtdKS5mYWN0b3J5KCIkdHJhbnNpdGlvbiIsWyIkcSIsIiR0aW1lb3V0IiwiJHJvb3RTY29wZSIsZnVuY3Rpb24oJHEsJHRpbWVvdXQsJHJvb3RTY29wZSl7ZnVuY3Rpb24gZmluZEVuZEV2ZW50TmFtZShlbmRFdmVudE5hbWVzKXtmb3IodmFyIG5hbWUgaW4gZW5kRXZlbnROYW1lcylpZih2b2lkIDAhPT10cmFuc0VsZW1lbnQuc3R5bGVbbmFtZV0pcmV0dXJuIGVuZEV2ZW50TmFtZXNbbmFtZV19dmFyICR0cmFuc2l0aW9uPWZ1bmN0aW9uKGVsZW1lbnQsdHJpZ2dlcixvcHRpb25zKXtvcHRpb25zPW9wdGlvbnN8fHt9O3ZhciBkZWZlcnJlZD0kcS5kZWZlcigpLGVuZEV2ZW50TmFtZT0kdHJhbnNpdGlvbltvcHRpb25zLmFuaW1hdGlvbj8iYW5pbWF0aW9uRW5kRXZlbnROYW1lIjoidHJhbnNpdGlvbkVuZEV2ZW50TmFtZSJdLHRyYW5zaXRpb25FbmRIYW5kbGVyPWZ1bmN0aW9uKCl7JHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtlbGVtZW50LnVuYmluZChlbmRFdmVudE5hbWUsdHJhbnNpdGlvbkVuZEhhbmRsZXIpLGRlZmVycmVkLnJlc29sdmUoZWxlbWVudCl9KX07cmV0dXJuIGVuZEV2ZW50TmFtZSYmZWxlbWVudC5iaW5kKGVuZEV2ZW50TmFtZSx0cmFuc2l0aW9uRW5kSGFuZGxlciksJHRpbWVvdXQoZnVuY3Rpb24oKXthbmd1bGFyLmlzU3RyaW5nKHRyaWdnZXIpP2VsZW1lbnQuYWRkQ2xhc3ModHJpZ2dlcik6YW5ndWxhci5pc0Z1bmN0aW9uKHRyaWdnZXIpP3RyaWdnZXIoZWxlbWVudCk6YW5ndWxhci5pc09iamVjdCh0cmlnZ2VyKSYmZWxlbWVudC5jc3ModHJpZ2dlciksZW5kRXZlbnROYW1lfHxkZWZlcnJlZC5yZXNvbHZlKGVsZW1lbnQpfSksZGVmZXJyZWQucHJvbWlzZS5jYW5jZWw9ZnVuY3Rpb24oKXtlbmRFdmVudE5hbWUmJmVsZW1lbnQudW5iaW5kKGVuZEV2ZW50TmFtZSx0cmFuc2l0aW9uRW5kSGFuZGxlciksZGVmZXJyZWQucmVqZWN0KCJUcmFuc2l0aW9uIGNhbmNlbGxlZCIpfSxkZWZlcnJlZC5wcm9taXNlfSx0cmFuc0VsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHJhbnMiKSx0cmFuc2l0aW9uRW5kRXZlbnROYW1lcz17V2Via2l0VHJhbnNpdGlvbjoid2Via2l0VHJhbnNpdGlvbkVuZCIsTW96VHJhbnNpdGlvbjoidHJhbnNpdGlvbmVuZCIsT1RyYW5zaXRpb246Im9UcmFuc2l0aW9uRW5kIix0cmFuc2l0aW9uOiJ0cmFuc2l0aW9uZW5kIn0sYW5pbWF0aW9uRW5kRXZlbnROYW1lcz17V2Via2l0VHJhbnNpdGlvbjoid2Via2l0QW5pbWF0aW9uRW5kIixNb3pUcmFuc2l0aW9uOiJhbmltYXRpb25lbmQiLE9UcmFuc2l0aW9uOiJvQW5pbWF0aW9uRW5kIix0cmFuc2l0aW9uOiJhbmltYXRpb25lbmQifTtyZXR1cm4gJHRyYW5zaXRpb24udHJhbnNpdGlvbkVuZEV2ZW50TmFtZT1maW5kRW5kRXZlbnROYW1lKHRyYW5zaXRpb25FbmRFdmVudE5hbWVzKSwkdHJhbnNpdGlvbi5hbmltYXRpb25FbmRFdmVudE5hbWU9ZmluZEVuZEV2ZW50TmFtZShhbmltYXRpb25FbmRFdmVudE5hbWVzKSwkdHJhbnNpdGlvbn1dKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmNvbGxhcHNlIixbInVpLmJvb3RzdHJhcC50cmFuc2l0aW9uIl0pLmRpcmVjdGl2ZSgiY29sbGFwc2UiLFsiJHRyYW5zaXRpb24iLGZ1bmN0aW9uKCR0cmFuc2l0aW9uKXtyZXR1cm57bGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzKXtmdW5jdGlvbiBkb1RyYW5zaXRpb24oY2hhbmdlKXtmdW5jdGlvbiBuZXdUcmFuc2l0aW9uRG9uZSgpe2N1cnJlbnRUcmFuc2l0aW9uPT09bmV3VHJhbnNpdGlvbiYmKGN1cnJlbnRUcmFuc2l0aW9uPXZvaWQgMCl9dmFyIG5ld1RyYW5zaXRpb249JHRyYW5zaXRpb24oZWxlbWVudCxjaGFuZ2UpO3JldHVybiBjdXJyZW50VHJhbnNpdGlvbiYmY3VycmVudFRyYW5zaXRpb24uY2FuY2VsKCksY3VycmVudFRyYW5zaXRpb249bmV3VHJhbnNpdGlvbixuZXdUcmFuc2l0aW9uLnRoZW4obmV3VHJhbnNpdGlvbkRvbmUsbmV3VHJhbnNpdGlvbkRvbmUpLG5ld1RyYW5zaXRpb259ZnVuY3Rpb24gZXhwYW5kKCl7aW5pdGlhbEFuaW1Ta2lwPyhpbml0aWFsQW5pbVNraXA9ITEsZXhwYW5kRG9uZSgpKTooZWxlbWVudC5yZW1vdmVDbGFzcygiY29sbGFwc2UiKS5hZGRDbGFzcygiY29sbGFwc2luZyIpLGRvVHJhbnNpdGlvbih7aGVpZ2h0OmVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0KyJweCJ9KS50aGVuKGV4cGFuZERvbmUpKX1mdW5jdGlvbiBleHBhbmREb25lKCl7ZWxlbWVudC5yZW1vdmVDbGFzcygiY29sbGFwc2luZyIpLGVsZW1lbnQuYWRkQ2xhc3MoImNvbGxhcHNlIGluIiksZWxlbWVudC5jc3Moe2hlaWdodDoiYXV0byJ9KX1mdW5jdGlvbiBjb2xsYXBzZSgpe2lmKGluaXRpYWxBbmltU2tpcClpbml0aWFsQW5pbVNraXA9ITEsY29sbGFwc2VEb25lKCksZWxlbWVudC5jc3Moe2hlaWdodDowfSk7ZWxzZXtlbGVtZW50LmNzcyh7aGVpZ2h0OmVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0KyJweCJ9KTt7ZWxlbWVudFswXS5vZmZzZXRXaWR0aH1lbGVtZW50LnJlbW92ZUNsYXNzKCJjb2xsYXBzZSBpbiIpLmFkZENsYXNzKCJjb2xsYXBzaW5nIiksZG9UcmFuc2l0aW9uKHtoZWlnaHQ6MH0pLnRoZW4oY29sbGFwc2VEb25lKX19ZnVuY3Rpb24gY29sbGFwc2VEb25lKCl7ZWxlbWVudC5yZW1vdmVDbGFzcygiY29sbGFwc2luZyIpLGVsZW1lbnQuYWRkQ2xhc3MoImNvbGxhcHNlIil9dmFyIGN1cnJlbnRUcmFuc2l0aW9uLGluaXRpYWxBbmltU2tpcD0hMDtzY29wZS4kd2F0Y2goYXR0cnMuY29sbGFwc2UsZnVuY3Rpb24oc2hvdWxkQ29sbGFwc2Upe3Nob3VsZENvbGxhcHNlP2NvbGxhcHNlKCk6ZXhwYW5kKCl9KX19fV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuYWNjb3JkaW9uIixbInVpLmJvb3RzdHJhcC5jb2xsYXBzZSJdKS5jb25zdGFudCgiYWNjb3JkaW9uQ29uZmlnIix7Y2xvc2VPdGhlcnM6ITB9KS5jb250cm9sbGVyKCJBY2NvcmRpb25Db250cm9sbGVyIixbIiRzY29wZSIsIiRhdHRycyIsImFjY29yZGlvbkNvbmZpZyIsZnVuY3Rpb24oJHNjb3BlLCRhdHRycyxhY2NvcmRpb25Db25maWcpe3RoaXMuZ3JvdXBzPVtdLHRoaXMuY2xvc2VPdGhlcnM9ZnVuY3Rpb24ob3Blbkdyb3VwKXt2YXIgY2xvc2VPdGhlcnM9YW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmNsb3NlT3RoZXJzKT8kc2NvcGUuJGV2YWwoJGF0dHJzLmNsb3NlT3RoZXJzKTphY2NvcmRpb25Db25maWcuY2xvc2VPdGhlcnM7Y2xvc2VPdGhlcnMmJmFuZ3VsYXIuZm9yRWFjaCh0aGlzLmdyb3VwcyxmdW5jdGlvbihncm91cCl7Z3JvdXAhPT1vcGVuR3JvdXAmJihncm91cC5pc09wZW49ITEpfSl9LHRoaXMuYWRkR3JvdXA9ZnVuY3Rpb24oZ3JvdXBTY29wZSl7dmFyIHRoYXQ9dGhpczt0aGlzLmdyb3Vwcy5wdXNoKGdyb3VwU2NvcGUpLGdyb3VwU2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXt0aGF0LnJlbW92ZUdyb3VwKGdyb3VwU2NvcGUpfSl9LHRoaXMucmVtb3ZlR3JvdXA9ZnVuY3Rpb24oZ3JvdXApe3ZhciBpbmRleD10aGlzLmdyb3Vwcy5pbmRleE9mKGdyb3VwKTstMSE9PWluZGV4JiZ0aGlzLmdyb3Vwcy5zcGxpY2UoaW5kZXgsMSl9fV0pLmRpcmVjdGl2ZSgiYWNjb3JkaW9uIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLGNvbnRyb2xsZXI6IkFjY29yZGlvbkNvbnRyb2xsZXIiLHRyYW5zY2x1ZGU6ITAscmVwbGFjZTohMSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sIn19KS5kaXJlY3RpdmUoImFjY29yZGlvbkdyb3VwIixmdW5jdGlvbigpe3JldHVybntyZXF1aXJlOiJeYWNjb3JkaW9uIixyZXN0cmljdDoiRUEiLHRyYW5zY2x1ZGU6ITAscmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi1ncm91cC5odG1sIixzY29wZTp7aGVhZGluZzoiQCIsaXNPcGVuOiI9PyIsaXNEaXNhYmxlZDoiPT8ifSxjb250cm9sbGVyOmZ1bmN0aW9uKCl7dGhpcy5zZXRIZWFkaW5nPWZ1bmN0aW9uKGVsZW1lbnQpe3RoaXMuaGVhZGluZz1lbGVtZW50fX0sbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGFjY29yZGlvbkN0cmwpe2FjY29yZGlvbkN0cmwuYWRkR3JvdXAoc2NvcGUpLHNjb3BlLiR3YXRjaCgiaXNPcGVuIixmdW5jdGlvbih2YWx1ZSl7dmFsdWUmJmFjY29yZGlvbkN0cmwuY2xvc2VPdGhlcnMoc2NvcGUpfSksc2NvcGUudG9nZ2xlT3Blbj1mdW5jdGlvbigpe3Njb3BlLmlzRGlzYWJsZWR8fChzY29wZS5pc09wZW49IXNjb3BlLmlzT3Blbil9fX19KS5kaXJlY3RpdmUoImFjY29yZGlvbkhlYWRpbmciLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsdHJhbnNjbHVkZTohMCx0ZW1wbGF0ZToiIixyZXBsYWNlOiEwLHJlcXVpcmU6Il5hY2NvcmRpb25Hcm91cCIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIsYWNjb3JkaW9uR3JvdXBDdHJsLHRyYW5zY2x1ZGUpe2FjY29yZGlvbkdyb3VwQ3RybC5zZXRIZWFkaW5nKHRyYW5zY2x1ZGUoc2NvcGUsZnVuY3Rpb24oKXt9KSl9fX0pLmRpcmVjdGl2ZSgiYWNjb3JkaW9uVHJhbnNjbHVkZSIsZnVuY3Rpb24oKXtyZXR1cm57cmVxdWlyZToiXmFjY29yZGlvbkdyb3VwIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cixjb250cm9sbGVyKXtzY29wZS4kd2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4gY29udHJvbGxlclthdHRyLmFjY29yZGlvblRyYW5zY2x1ZGVdfSxmdW5jdGlvbihoZWFkaW5nKXtoZWFkaW5nJiYoZWxlbWVudC5odG1sKCIiKSxlbGVtZW50LmFwcGVuZChoZWFkaW5nKSl9KX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5hbGVydCIsW10pLmNvbnRyb2xsZXIoIkFsZXJ0Q29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLGZ1bmN0aW9uKCRzY29wZSwkYXR0cnMpeyRzY29wZS5jbG9zZWFibGU9ImNsb3NlImluICRhdHRyc31dKS5kaXJlY3RpdmUoImFsZXJ0IixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLGNvbnRyb2xsZXI6IkFsZXJ0Q29udHJvbGxlciIsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWwiLHRyYW5zY2x1ZGU6ITAscmVwbGFjZTohMCxzY29wZTp7dHlwZToiQCIsY2xvc2U6IiYifX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmJpbmRIdG1sIixbXSkuZGlyZWN0aXZlKCJiaW5kSHRtbFVuc2FmZSIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyKXtlbGVtZW50LmFkZENsYXNzKCJuZy1iaW5kaW5nIikuZGF0YSgiJGJpbmRpbmciLGF0dHIuYmluZEh0bWxVbnNhZmUpLHNjb3BlLiR3YXRjaChhdHRyLmJpbmRIdG1sVW5zYWZlLGZ1bmN0aW9uKHZhbHVlKXtlbGVtZW50Lmh0bWwodmFsdWV8fCIiKX0pfX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuYnV0dG9ucyIsW10pLmNvbnN0YW50KCJidXR0b25Db25maWciLHthY3RpdmVDbGFzczoiYWN0aXZlIix0b2dnbGVFdmVudDoiY2xpY2sifSkuY29udHJvbGxlcigiQnV0dG9uc0NvbnRyb2xsZXIiLFsiYnV0dG9uQ29uZmlnIixmdW5jdGlvbihidXR0b25Db25maWcpe3RoaXMuYWN0aXZlQ2xhc3M9YnV0dG9uQ29uZmlnLmFjdGl2ZUNsYXNzfHwiYWN0aXZlIix0aGlzLnRvZ2dsZUV2ZW50PWJ1dHRvbkNvbmZpZy50b2dnbGVFdmVudHx8ImNsaWNrIn1dKS5kaXJlY3RpdmUoImJ0blJhZGlvIixmdW5jdGlvbigpe3JldHVybntyZXF1aXJlOlsiYnRuUmFkaW8iLCJuZ01vZGVsIl0sY29udHJvbGxlcjoiQnV0dG9uc0NvbnRyb2xsZXIiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjdHJscyl7dmFyIGJ1dHRvbnNDdHJsPWN0cmxzWzBdLG5nTW9kZWxDdHJsPWN0cmxzWzFdO25nTW9kZWxDdHJsLiRyZW5kZXI9ZnVuY3Rpb24oKXtlbGVtZW50LnRvZ2dsZUNsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzLGFuZ3VsYXIuZXF1YWxzKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlLHNjb3BlLiRldmFsKGF0dHJzLmJ0blJhZGlvKSkpfSxlbGVtZW50LmJpbmQoYnV0dG9uc0N0cmwudG9nZ2xlRXZlbnQsZnVuY3Rpb24oKXt2YXIgaXNBY3RpdmU9ZWxlbWVudC5oYXNDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcyk7KCFpc0FjdGl2ZXx8YW5ndWxhci5pc0RlZmluZWQoYXR0cnMudW5jaGVja2FibGUpKSYmc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7bmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShpc0FjdGl2ZT9udWxsOnNjb3BlLiRldmFsKGF0dHJzLmJ0blJhZGlvKSksbmdNb2RlbEN0cmwuJHJlbmRlcigpfSl9KX19fSkuZGlyZWN0aXZlKCJidG5DaGVja2JveCIsZnVuY3Rpb24oKXtyZXR1cm57cmVxdWlyZTpbImJ0bkNoZWNrYm94IiwibmdNb2RlbCJdLGNvbnRyb2xsZXI6IkJ1dHRvbnNDb250cm9sbGVyIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsY3RybHMpe2Z1bmN0aW9uIGdldFRydWVWYWx1ZSgpe3JldHVybiBnZXRDaGVja2JveFZhbHVlKGF0dHJzLmJ0bkNoZWNrYm94VHJ1ZSwhMCl9ZnVuY3Rpb24gZ2V0RmFsc2VWYWx1ZSgpe3JldHVybiBnZXRDaGVja2JveFZhbHVlKGF0dHJzLmJ0bkNoZWNrYm94RmFsc2UsITEpfWZ1bmN0aW9uIGdldENoZWNrYm94VmFsdWUoYXR0cmlidXRlVmFsdWUsZGVmYXVsdFZhbHVlKXt2YXIgdmFsPXNjb3BlLiRldmFsKGF0dHJpYnV0ZVZhbHVlKTtyZXR1cm4gYW5ndWxhci5pc0RlZmluZWQodmFsKT92YWw6ZGVmYXVsdFZhbHVlfXZhciBidXR0b25zQ3RybD1jdHJsc1swXSxuZ01vZGVsQ3RybD1jdHJsc1sxXTtuZ01vZGVsQ3RybC4kcmVuZGVyPWZ1bmN0aW9uKCl7ZWxlbWVudC50b2dnbGVDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcyxhbmd1bGFyLmVxdWFscyhuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSxnZXRUcnVlVmFsdWUoKSkpfSxlbGVtZW50LmJpbmQoYnV0dG9uc0N0cmwudG9nZ2xlRXZlbnQsZnVuY3Rpb24oKXtzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKGVsZW1lbnQuaGFzQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MpP2dldEZhbHNlVmFsdWUoKTpnZXRUcnVlVmFsdWUoKSksbmdNb2RlbEN0cmwuJHJlbmRlcigpfSl9KX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5jYXJvdXNlbCIsWyJ1aS5ib290c3RyYXAudHJhbnNpdGlvbiJdKS5jb250cm9sbGVyKCJDYXJvdXNlbENvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJHRpbWVvdXQiLCIkdHJhbnNpdGlvbiIsZnVuY3Rpb24oJHNjb3BlLCR0aW1lb3V0LCR0cmFuc2l0aW9uKXtmdW5jdGlvbiByZXN0YXJ0VGltZXIoKXtyZXNldFRpbWVyKCk7dmFyIGludGVydmFsPSskc2NvcGUuaW50ZXJ2YWw7IWlzTmFOKGludGVydmFsKSYmaW50ZXJ2YWw+PTAmJihjdXJyZW50VGltZW91dD0kdGltZW91dCh0aW1lckZuLGludGVydmFsKSl9ZnVuY3Rpb24gcmVzZXRUaW1lcigpe2N1cnJlbnRUaW1lb3V0JiYoJHRpbWVvdXQuY2FuY2VsKGN1cnJlbnRUaW1lb3V0KSxjdXJyZW50VGltZW91dD1udWxsKX1mdW5jdGlvbiB0aW1lckZuKCl7aXNQbGF5aW5nPygkc2NvcGUubmV4dCgpLHJlc3RhcnRUaW1lcigpKTokc2NvcGUucGF1c2UoKX12YXIgY3VycmVudFRpbWVvdXQsaXNQbGF5aW5nLHNlbGY9dGhpcyxzbGlkZXM9c2VsZi5zbGlkZXM9JHNjb3BlLnNsaWRlcz1bXSxjdXJyZW50SW5kZXg9LTE7c2VsZi5jdXJyZW50U2xpZGU9bnVsbDt2YXIgZGVzdHJveWVkPSExO3NlbGYuc2VsZWN0PSRzY29wZS5zZWxlY3Q9ZnVuY3Rpb24obmV4dFNsaWRlLGRpcmVjdGlvbil7ZnVuY3Rpb24gZ29OZXh0KCl7aWYoIWRlc3Ryb3llZCl7aWYoc2VsZi5jdXJyZW50U2xpZGUmJmFuZ3VsYXIuaXNTdHJpbmcoZGlyZWN0aW9uKSYmISRzY29wZS5ub1RyYW5zaXRpb24mJm5leHRTbGlkZS4kZWxlbWVudCl7bmV4dFNsaWRlLiRlbGVtZW50LmFkZENsYXNzKGRpcmVjdGlvbik7e25leHRTbGlkZS4kZWxlbWVudFswXS5vZmZzZXRXaWR0aH1hbmd1bGFyLmZvckVhY2goc2xpZGVzLGZ1bmN0aW9uKHNsaWRlKXthbmd1bGFyLmV4dGVuZChzbGlkZSx7ZGlyZWN0aW9uOiIiLGVudGVyaW5nOiExLGxlYXZpbmc6ITEsYWN0aXZlOiExfSl9KSxhbmd1bGFyLmV4dGVuZChuZXh0U2xpZGUse2RpcmVjdGlvbjpkaXJlY3Rpb24sYWN0aXZlOiEwLGVudGVyaW5nOiEwfSksYW5ndWxhci5leHRlbmQoc2VsZi5jdXJyZW50U2xpZGV8fHt9LHtkaXJlY3Rpb246ZGlyZWN0aW9uLGxlYXZpbmc6ITB9KSwkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uPSR0cmFuc2l0aW9uKG5leHRTbGlkZS4kZWxlbWVudCx7fSksZnVuY3Rpb24obmV4dCxjdXJyZW50KXskc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uLnRoZW4oZnVuY3Rpb24oKXt0cmFuc2l0aW9uRG9uZShuZXh0LGN1cnJlbnQpfSxmdW5jdGlvbigpe3RyYW5zaXRpb25Eb25lKG5leHQsY3VycmVudCl9KX0obmV4dFNsaWRlLHNlbGYuY3VycmVudFNsaWRlKX1lbHNlIHRyYW5zaXRpb25Eb25lKG5leHRTbGlkZSxzZWxmLmN1cnJlbnRTbGlkZSk7c2VsZi5jdXJyZW50U2xpZGU9bmV4dFNsaWRlLGN1cnJlbnRJbmRleD1uZXh0SW5kZXgscmVzdGFydFRpbWVyKCl9fWZ1bmN0aW9uIHRyYW5zaXRpb25Eb25lKG5leHQsY3VycmVudCl7YW5ndWxhci5leHRlbmQobmV4dCx7ZGlyZWN0aW9uOiIiLGFjdGl2ZTohMCxsZWF2aW5nOiExLGVudGVyaW5nOiExfSksYW5ndWxhci5leHRlbmQoY3VycmVudHx8e30se2RpcmVjdGlvbjoiIixhY3RpdmU6ITEsbGVhdmluZzohMSxlbnRlcmluZzohMX0pLCRzY29wZS4kY3VycmVudFRyYW5zaXRpb249bnVsbH12YXIgbmV4dEluZGV4PXNsaWRlcy5pbmRleE9mKG5leHRTbGlkZSk7dm9pZCAwPT09ZGlyZWN0aW9uJiYoZGlyZWN0aW9uPW5leHRJbmRleD5jdXJyZW50SW5kZXg/Im5leHQiOiJwcmV2IiksbmV4dFNsaWRlJiZuZXh0U2xpZGUhPT1zZWxmLmN1cnJlbnRTbGlkZSYmKCRzY29wZS4kY3VycmVudFRyYW5zaXRpb24/KCRzY29wZS4kY3VycmVudFRyYW5zaXRpb24uY2FuY2VsKCksJHRpbWVvdXQoZ29OZXh0KSk6Z29OZXh0KCkpfSwkc2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtkZXN0cm95ZWQ9ITB9KSxzZWxmLmluZGV4T2ZTbGlkZT1mdW5jdGlvbihzbGlkZSl7cmV0dXJuIHNsaWRlcy5pbmRleE9mKHNsaWRlKX0sJHNjb3BlLm5leHQ9ZnVuY3Rpb24oKXt2YXIgbmV3SW5kZXg9KGN1cnJlbnRJbmRleCsxKSVzbGlkZXMubGVuZ3RoO3JldHVybiAkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uP3ZvaWQgMDpzZWxmLnNlbGVjdChzbGlkZXNbbmV3SW5kZXhdLCJuZXh0Iil9LCRzY29wZS5wcmV2PWZ1bmN0aW9uKCl7dmFyIG5ld0luZGV4PTA+Y3VycmVudEluZGV4LTE/c2xpZGVzLmxlbmd0aC0xOmN1cnJlbnRJbmRleC0xO3JldHVybiAkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uP3ZvaWQgMDpzZWxmLnNlbGVjdChzbGlkZXNbbmV3SW5kZXhdLCJwcmV2Iil9LCRzY29wZS5pc0FjdGl2ZT1mdW5jdGlvbihzbGlkZSl7cmV0dXJuIHNlbGYuY3VycmVudFNsaWRlPT09c2xpZGV9LCRzY29wZS4kd2F0Y2goImludGVydmFsIixyZXN0YXJ0VGltZXIpLCRzY29wZS4kb24oIiRkZXN0cm95IixyZXNldFRpbWVyKSwkc2NvcGUucGxheT1mdW5jdGlvbigpe2lzUGxheWluZ3x8KGlzUGxheWluZz0hMCxyZXN0YXJ0VGltZXIoKSl9LCRzY29wZS5wYXVzZT1mdW5jdGlvbigpeyRzY29wZS5ub1BhdXNlfHwoaXNQbGF5aW5nPSExLHJlc2V0VGltZXIoKSl9LHNlbGYuYWRkU2xpZGU9ZnVuY3Rpb24oc2xpZGUsZWxlbWVudCl7c2xpZGUuJGVsZW1lbnQ9ZWxlbWVudCxzbGlkZXMucHVzaChzbGlkZSksMT09PXNsaWRlcy5sZW5ndGh8fHNsaWRlLmFjdGl2ZT8oc2VsZi5zZWxlY3Qoc2xpZGVzW3NsaWRlcy5sZW5ndGgtMV0pLDE9PXNsaWRlcy5sZW5ndGgmJiRzY29wZS5wbGF5KCkpOnNsaWRlLmFjdGl2ZT0hMX0sc2VsZi5yZW1vdmVTbGlkZT1mdW5jdGlvbihzbGlkZSl7dmFyIGluZGV4PXNsaWRlcy5pbmRleE9mKHNsaWRlKTtzbGlkZXMuc3BsaWNlKGluZGV4LDEpLHNsaWRlcy5sZW5ndGg+MCYmc2xpZGUuYWN0aXZlP3NlbGYuc2VsZWN0KGluZGV4Pj1zbGlkZXMubGVuZ3RoP3NsaWRlc1tpbmRleC0xXTpzbGlkZXNbaW5kZXhdKTpjdXJyZW50SW5kZXg+aW5kZXgmJmN1cnJlbnRJbmRleC0tfX1dKS5kaXJlY3RpdmUoImNhcm91c2VsIixbZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIix0cmFuc2NsdWRlOiEwLHJlcGxhY2U6ITAsY29udHJvbGxlcjoiQ2Fyb3VzZWxDb250cm9sbGVyIixyZXF1aXJlOiJjYXJvdXNlbCIsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2Nhcm91c2VsL2Nhcm91c2VsLmh0bWwiLHNjb3BlOntpbnRlcnZhbDoiPSIsbm9UcmFuc2l0aW9uOiI9Iixub1BhdXNlOiI9In19fV0pLmRpcmVjdGl2ZSgic2xpZGUiLGZ1bmN0aW9uKCl7cmV0dXJue3JlcXVpcmU6Il5jYXJvdXNlbCIscmVzdHJpY3Q6IkVBIix0cmFuc2NsdWRlOiEwLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWwiLHNjb3BlOnthY3RpdmU6Ij0/In0sbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGNhcm91c2VsQ3RybCl7Y2Fyb3VzZWxDdHJsLmFkZFNsaWRlKHNjb3BlLGVsZW1lbnQpLHNjb3BlLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7Y2Fyb3VzZWxDdHJsLnJlbW92ZVNsaWRlKHNjb3BlKX0pLHNjb3BlLiR3YXRjaCgiYWN0aXZlIixmdW5jdGlvbihhY3RpdmUpe2FjdGl2ZSYmY2Fyb3VzZWxDdHJsLnNlbGVjdChzY29wZSl9KX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5kYXRlcGFyc2VyIixbXSkuc2VydmljZSgiZGF0ZVBhcnNlciIsWyIkbG9jYWxlIiwib3JkZXJCeUZpbHRlciIsZnVuY3Rpb24oJGxvY2FsZSxvcmRlckJ5RmlsdGVyKXtmdW5jdGlvbiBjcmVhdGVQYXJzZXIoZm9ybWF0KXt2YXIgbWFwPVtdLHJlZ2V4PWZvcm1hdC5zcGxpdCgiIik7cmV0dXJuIGFuZ3VsYXIuZm9yRWFjaChmb3JtYXRDb2RlVG9SZWdleCxmdW5jdGlvbihkYXRhLGNvZGUpe3ZhciBpbmRleD1mb3JtYXQuaW5kZXhPZihjb2RlKTtpZihpbmRleD4tMSl7Zm9ybWF0PWZvcm1hdC5zcGxpdCgiIikscmVnZXhbaW5kZXhdPSIoIitkYXRhLnJlZ2V4KyIpIixmb3JtYXRbaW5kZXhdPSIkIjtmb3IodmFyIGk9aW5kZXgrMSxuPWluZGV4K2NvZGUubGVuZ3RoO24+aTtpKyspcmVnZXhbaV09IiIsZm9ybWF0W2ldPSIkIjtmb3JtYXQ9Zm9ybWF0LmpvaW4oIiIpLG1hcC5wdXNoKHtpbmRleDppbmRleCxhcHBseTpkYXRhLmFwcGx5fSl9fSkse3JlZ2V4Om5ldyBSZWdFeHAoIl4iK3JlZ2V4LmpvaW4oIiIpKyIkIiksbWFwOm9yZGVyQnlGaWx0ZXIobWFwLCJpbmRleCIpfX1mdW5jdGlvbiBpc1ZhbGlkKHllYXIsbW9udGgsZGF0ZSl7cmV0dXJuIDE9PT1tb250aCYmZGF0ZT4yOD8yOT09PWRhdGUmJih5ZWFyJTQ9PT0wJiZ5ZWFyJTEwMCE9PTB8fHllYXIlNDAwPT09MCk6Mz09PW1vbnRofHw1PT09bW9udGh8fDg9PT1tb250aHx8MTA9PT1tb250aD8zMT5kYXRlOiEwfXRoaXMucGFyc2Vycz17fTt2YXIgZm9ybWF0Q29kZVRvUmVnZXg9e3l5eXk6e3JlZ2V4OiJcXGR7NH0iLGFwcGx5OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLnllYXI9K3ZhbHVlfX0seXk6e3JlZ2V4OiJcXGR7Mn0iLGFwcGx5OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLnllYXI9K3ZhbHVlKzJlM319LHk6e3JlZ2V4OiJcXGR7MSw0fSIsYXBwbHk6ZnVuY3Rpb24odmFsdWUpe3RoaXMueWVhcj0rdmFsdWV9fSxNTU1NOntyZWdleDokbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuTU9OVEguam9pbigifCIpLGFwcGx5OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLm1vbnRoPSRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5NT05USC5pbmRleE9mKHZhbHVlKX19LE1NTTp7cmVnZXg6JGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLlNIT1JUTU9OVEguam9pbigifCIpLGFwcGx5OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLm1vbnRoPSRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5TSE9SVE1PTlRILmluZGV4T2YodmFsdWUpfX0sTU06e3JlZ2V4OiIwWzEtOV18MVswLTJdIixhcHBseTpmdW5jdGlvbih2YWx1ZSl7dGhpcy5tb250aD12YWx1ZS0xfX0sTTp7cmVnZXg6IlsxLTldfDFbMC0yXSIsYXBwbHk6ZnVuY3Rpb24odmFsdWUpe3RoaXMubW9udGg9dmFsdWUtMX19LGRkOntyZWdleDoiWzAtMl1bMC05XXsxfXwzWzAtMV17MX0iLGFwcGx5OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLmRhdGU9K3ZhbHVlfX0sZDp7cmVnZXg6IlsxLTJdP1swLTldezF9fDNbMC0xXXsxfSIsYXBwbHk6ZnVuY3Rpb24odmFsdWUpe3RoaXMuZGF0ZT0rdmFsdWV9fSxFRUVFOntyZWdleDokbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuREFZLmpvaW4oInwiKX0sRUVFOntyZWdleDokbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuU0hPUlREQVkuam9pbigifCIpfX07dGhpcy5wYXJzZT1mdW5jdGlvbihpbnB1dCxmb3JtYXQpe2lmKCFhbmd1bGFyLmlzU3RyaW5nKGlucHV0KXx8IWZvcm1hdClyZXR1cm4gaW5wdXQ7Zm9ybWF0PSRsb2NhbGUuREFURVRJTUVfRk9STUFUU1tmb3JtYXRdfHxmb3JtYXQsdGhpcy5wYXJzZXJzW2Zvcm1hdF18fCh0aGlzLnBhcnNlcnNbZm9ybWF0XT1jcmVhdGVQYXJzZXIoZm9ybWF0KSk7dmFyIHBhcnNlcj10aGlzLnBhcnNlcnNbZm9ybWF0XSxyZWdleD1wYXJzZXIucmVnZXgsbWFwPXBhcnNlci5tYXAscmVzdWx0cz1pbnB1dC5tYXRjaChyZWdleCk7aWYocmVzdWx0cyYmcmVzdWx0cy5sZW5ndGgpe2Zvcih2YXIgZHQsZmllbGRzPXt5ZWFyOjE5MDAsbW9udGg6MCxkYXRlOjEsaG91cnM6MH0saT0xLG49cmVzdWx0cy5sZW5ndGg7bj5pO2krKyl7dmFyIG1hcHBlcj1tYXBbaS0xXTttYXBwZXIuYXBwbHkmJm1hcHBlci5hcHBseS5jYWxsKGZpZWxkcyxyZXN1bHRzW2ldKX1yZXR1cm4gaXNWYWxpZChmaWVsZHMueWVhcixmaWVsZHMubW9udGgsZmllbGRzLmRhdGUpJiYoZHQ9bmV3IERhdGUoZmllbGRzLnllYXIsZmllbGRzLm1vbnRoLGZpZWxkcy5kYXRlLGZpZWxkcy5ob3VycykpLGR0fX19XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5wb3NpdGlvbiIsW10pLmZhY3RvcnkoIiRwb3NpdGlvbiIsWyIkZG9jdW1lbnQiLCIkd2luZG93IixmdW5jdGlvbigkZG9jdW1lbnQsJHdpbmRvdyl7ZnVuY3Rpb24gZ2V0U3R5bGUoZWwsY3NzcHJvcCl7cmV0dXJuIGVsLmN1cnJlbnRTdHlsZT9lbC5jdXJyZW50U3R5bGVbY3NzcHJvcF06JHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlPyR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbClbY3NzcHJvcF06ZWwuc3R5bGVbY3NzcHJvcF19ZnVuY3Rpb24gaXNTdGF0aWNQb3NpdGlvbmVkKGVsZW1lbnQpe3JldHVybiJzdGF0aWMiPT09KGdldFN0eWxlKGVsZW1lbnQsInBvc2l0aW9uIil8fCJzdGF0aWMiKX12YXIgcGFyZW50T2Zmc2V0RWw9ZnVuY3Rpb24oZWxlbWVudCl7Zm9yKHZhciBkb2NEb21FbD0kZG9jdW1lbnRbMF0sb2Zmc2V0UGFyZW50PWVsZW1lbnQub2Zmc2V0UGFyZW50fHxkb2NEb21FbDtvZmZzZXRQYXJlbnQmJm9mZnNldFBhcmVudCE9PWRvY0RvbUVsJiZpc1N0YXRpY1Bvc2l0aW9uZWQob2Zmc2V0UGFyZW50KTspb2Zmc2V0UGFyZW50PW9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7cmV0dXJuIG9mZnNldFBhcmVudHx8ZG9jRG9tRWx9O3JldHVybntwb3NpdGlvbjpmdW5jdGlvbihlbGVtZW50KXt2YXIgZWxCQ1I9dGhpcy5vZmZzZXQoZWxlbWVudCksb2Zmc2V0UGFyZW50QkNSPXt0b3A6MCxsZWZ0OjB9LG9mZnNldFBhcmVudEVsPXBhcmVudE9mZnNldEVsKGVsZW1lbnRbMF0pO29mZnNldFBhcmVudEVsIT0kZG9jdW1lbnRbMF0mJihvZmZzZXRQYXJlbnRCQ1I9dGhpcy5vZmZzZXQoYW5ndWxhci5lbGVtZW50KG9mZnNldFBhcmVudEVsKSksb2Zmc2V0UGFyZW50QkNSLnRvcCs9b2Zmc2V0UGFyZW50RWwuY2xpZW50VG9wLW9mZnNldFBhcmVudEVsLnNjcm9sbFRvcCxvZmZzZXRQYXJlbnRCQ1IubGVmdCs9b2Zmc2V0UGFyZW50RWwuY2xpZW50TGVmdC1vZmZzZXRQYXJlbnRFbC5zY3JvbGxMZWZ0KTt2YXIgYm91bmRpbmdDbGllbnRSZWN0PWVsZW1lbnRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJue3dpZHRoOmJvdW5kaW5nQ2xpZW50UmVjdC53aWR0aHx8ZWxlbWVudC5wcm9wKCJvZmZzZXRXaWR0aCIpLGhlaWdodDpib3VuZGluZ0NsaWVudFJlY3QuaGVpZ2h0fHxlbGVtZW50LnByb3AoIm9mZnNldEhlaWdodCIpLHRvcDplbEJDUi50b3Atb2Zmc2V0UGFyZW50QkNSLnRvcCxsZWZ0OmVsQkNSLmxlZnQtb2Zmc2V0UGFyZW50QkNSLmxlZnR9fSxvZmZzZXQ6ZnVuY3Rpb24oZWxlbWVudCl7dmFyIGJvdW5kaW5nQ2xpZW50UmVjdD1lbGVtZW50WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybnt3aWR0aDpib3VuZGluZ0NsaWVudFJlY3Qud2lkdGh8fGVsZW1lbnQucHJvcCgib2Zmc2V0V2lkdGgiKSxoZWlnaHQ6Ym91bmRpbmdDbGllbnRSZWN0LmhlaWdodHx8ZWxlbWVudC5wcm9wKCJvZmZzZXRIZWlnaHQiKSx0b3A6Ym91bmRpbmdDbGllbnRSZWN0LnRvcCsoJHdpbmRvdy5wYWdlWU9mZnNldHx8JGRvY3VtZW50WzBdLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApLGxlZnQ6Ym91bmRpbmdDbGllbnRSZWN0LmxlZnQrKCR3aW5kb3cucGFnZVhPZmZzZXR8fCRkb2N1bWVudFswXS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCl9fSxwb3NpdGlvbkVsZW1lbnRzOmZ1bmN0aW9uKGhvc3RFbCx0YXJnZXRFbCxwb3NpdGlvblN0cixhcHBlbmRUb0JvZHkpe3ZhciBob3N0RWxQb3MsdGFyZ2V0RWxXaWR0aCx0YXJnZXRFbEhlaWdodCx0YXJnZXRFbFBvcyxwb3NpdGlvblN0clBhcnRzPXBvc2l0aW9uU3RyLnNwbGl0KCItIikscG9zMD1wb3NpdGlvblN0clBhcnRzWzBdLHBvczE9cG9zaXRpb25TdHJQYXJ0c1sxXXx8ImNlbnRlciI7aG9zdEVsUG9zPWFwcGVuZFRvQm9keT90aGlzLm9mZnNldChob3N0RWwpOnRoaXMucG9zaXRpb24oaG9zdEVsKSx0YXJnZXRFbFdpZHRoPXRhcmdldEVsLnByb3AoIm9mZnNldFdpZHRoIiksdGFyZ2V0RWxIZWlnaHQ9dGFyZ2V0RWwucHJvcCgib2Zmc2V0SGVpZ2h0Iik7dmFyIHNoaWZ0V2lkdGg9e2NlbnRlcjpmdW5jdGlvbigpe3JldHVybiBob3N0RWxQb3MubGVmdCtob3N0RWxQb3Mud2lkdGgvMi10YXJnZXRFbFdpZHRoLzJ9LGxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gaG9zdEVsUG9zLmxlZnR9LHJpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIGhvc3RFbFBvcy5sZWZ0K2hvc3RFbFBvcy53aWR0aH19LHNoaWZ0SGVpZ2h0PXtjZW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gaG9zdEVsUG9zLnRvcCtob3N0RWxQb3MuaGVpZ2h0LzItdGFyZ2V0RWxIZWlnaHQvMn0sdG9wOmZ1bmN0aW9uKCl7cmV0dXJuIGhvc3RFbFBvcy50b3B9LGJvdHRvbTpmdW5jdGlvbigpe3JldHVybiBob3N0RWxQb3MudG9wK2hvc3RFbFBvcy5oZWlnaHR9fTtzd2l0Y2gocG9zMCl7Y2FzZSJyaWdodCI6dGFyZ2V0RWxQb3M9e3RvcDpzaGlmdEhlaWdodFtwb3MxXSgpLGxlZnQ6c2hpZnRXaWR0aFtwb3MwXSgpfTticmVhaztjYXNlImxlZnQiOnRhcmdldEVsUG9zPXt0b3A6c2hpZnRIZWlnaHRbcG9zMV0oKSxsZWZ0Omhvc3RFbFBvcy5sZWZ0LXRhcmdldEVsV2lkdGh9O2JyZWFrO2Nhc2UiYm90dG9tIjp0YXJnZXRFbFBvcz17dG9wOnNoaWZ0SGVpZ2h0W3BvczBdKCksbGVmdDpzaGlmdFdpZHRoW3BvczFdKCl9O2JyZWFrO2RlZmF1bHQ6dGFyZ2V0RWxQb3M9e3RvcDpob3N0RWxQb3MudG9wLXRhcmdldEVsSGVpZ2h0LGxlZnQ6c2hpZnRXaWR0aFtwb3MxXSgpfX1yZXR1cm4gdGFyZ2V0RWxQb3N9fX1dKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmRhdGVwaWNrZXIiLFsidWkuYm9vdHN0cmFwLmRhdGVwYXJzZXIiLCJ1aS5ib290c3RyYXAucG9zaXRpb24iXSkuY29uc3RhbnQoImRhdGVwaWNrZXJDb25maWciLHtmb3JtYXREYXk6ImRkIixmb3JtYXRNb250aDoiTU1NTSIsZm9ybWF0WWVhcjoieXl5eSIsZm9ybWF0RGF5SGVhZGVyOiJFRUUiLGZvcm1hdERheVRpdGxlOiJNTU1NIHl5eXkiLGZvcm1hdE1vbnRoVGl0bGU6Inl5eXkiLGRhdGVwaWNrZXJNb2RlOiJkYXkiLG1pbk1vZGU6ImRheSIsbWF4TW9kZToieWVhciIsc2hvd1dlZWtzOiEwLHN0YXJ0aW5nRGF5OjAseWVhclJhbmdlOjIwLG1pbkRhdGU6bnVsbCxtYXhEYXRlOm51bGx9KS5jb250cm9sbGVyKCJEYXRlcGlja2VyQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLCIkcGFyc2UiLCIkaW50ZXJwb2xhdGUiLCIkdGltZW91dCIsIiRsb2ciLCJkYXRlRmlsdGVyIiwiZGF0ZXBpY2tlckNvbmZpZyIsZnVuY3Rpb24oJHNjb3BlLCRhdHRycywkcGFyc2UsJGludGVycG9sYXRlLCR0aW1lb3V0LCRsb2csZGF0ZUZpbHRlcixkYXRlcGlja2VyQ29uZmlnKXt2YXIgc2VsZj10aGlzLG5nTW9kZWxDdHJsPXskc2V0Vmlld1ZhbHVlOmFuZ3VsYXIubm9vcH07dGhpcy5tb2Rlcz1bImRheSIsIm1vbnRoIiwieWVhciJdLGFuZ3VsYXIuZm9yRWFjaChbImZvcm1hdERheSIsImZvcm1hdE1vbnRoIiwiZm9ybWF0WWVhciIsImZvcm1hdERheUhlYWRlciIsImZvcm1hdERheVRpdGxlIiwiZm9ybWF0TW9udGhUaXRsZSIsIm1pbk1vZGUiLCJtYXhNb2RlIiwic2hvd1dlZWtzIiwic3RhcnRpbmdEYXkiLCJ5ZWFyUmFuZ2UiXSxmdW5jdGlvbihrZXksaW5kZXgpe3NlbGZba2V5XT1hbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnNba2V5XSk/OD5pbmRleD8kaW50ZXJwb2xhdGUoJGF0dHJzW2tleV0pKCRzY29wZS4kcGFyZW50KTokc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnNba2V5XSk6ZGF0ZXBpY2tlckNvbmZpZ1trZXldfSksYW5ndWxhci5mb3JFYWNoKFsibWluRGF0ZSIsIm1heERhdGUiXSxmdW5jdGlvbihrZXkpeyRhdHRyc1trZXldPyRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzW2tleV0pLGZ1bmN0aW9uKHZhbHVlKXtzZWxmW2tleV09dmFsdWU/bmV3IERhdGUodmFsdWUpOm51bGwsc2VsZi5yZWZyZXNoVmlldygpfSk6c2VsZltrZXldPWRhdGVwaWNrZXJDb25maWdba2V5XT9uZXcgRGF0ZShkYXRlcGlja2VyQ29uZmlnW2tleV0pOm51bGx9KSwkc2NvcGUuZGF0ZXBpY2tlck1vZGU9JHNjb3BlLmRhdGVwaWNrZXJNb2RlfHxkYXRlcGlja2VyQ29uZmlnLmRhdGVwaWNrZXJNb2RlLCRzY29wZS51bmlxdWVJZD0iZGF0ZXBpY2tlci0iKyRzY29wZS4kaWQrIi0iK01hdGguZmxvb3IoMWU0Kk1hdGgucmFuZG9tKCkpLHRoaXMuYWN0aXZlRGF0ZT1hbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuaW5pdERhdGUpPyRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5pbml0RGF0ZSk6bmV3IERhdGUsJHNjb3BlLmlzQWN0aXZlPWZ1bmN0aW9uKGRhdGVPYmplY3Qpe3JldHVybiAwPT09c2VsZi5jb21wYXJlKGRhdGVPYmplY3QuZGF0ZSxzZWxmLmFjdGl2ZURhdGUpPygkc2NvcGUuYWN0aXZlRGF0ZUlkPWRhdGVPYmplY3QudWlkLCEwKTohMQp9LHRoaXMuaW5pdD1mdW5jdGlvbihuZ01vZGVsQ3RybF8pe25nTW9kZWxDdHJsPW5nTW9kZWxDdHJsXyxuZ01vZGVsQ3RybC4kcmVuZGVyPWZ1bmN0aW9uKCl7c2VsZi5yZW5kZXIoKX19LHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7aWYobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUpe3ZhciBkYXRlPW5ldyBEYXRlKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlKSxpc1ZhbGlkPSFpc05hTihkYXRlKTtpc1ZhbGlkP3RoaXMuYWN0aXZlRGF0ZT1kYXRlOiRsb2cuZXJyb3IoJ0RhdGVwaWNrZXIgZGlyZWN0aXZlOiAibmctbW9kZWwiIHZhbHVlIG11c3QgYmUgYSBEYXRlIG9iamVjdCwgYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIDAxLjAxLjE5NzAgb3IgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIFJGQzI4MjIgb3IgSVNPIDg2MDEgZGF0ZS4nKSxuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoImRhdGUiLGlzVmFsaWQpfXRoaXMucmVmcmVzaFZpZXcoKX0sdGhpcy5yZWZyZXNoVmlldz1mdW5jdGlvbigpe2lmKHRoaXMuZWxlbWVudCl7dGhpcy5fcmVmcmVzaFZpZXcoKTt2YXIgZGF0ZT1uZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZT9uZXcgRGF0ZShuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSk6bnVsbDtuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoImRhdGUtZGlzYWJsZWQiLCFkYXRlfHx0aGlzLmVsZW1lbnQmJiF0aGlzLmlzRGlzYWJsZWQoZGF0ZSkpfX0sdGhpcy5jcmVhdGVEYXRlT2JqZWN0PWZ1bmN0aW9uKGRhdGUsZm9ybWF0KXt2YXIgbW9kZWw9bmdNb2RlbEN0cmwuJG1vZGVsVmFsdWU/bmV3IERhdGUobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUpOm51bGw7cmV0dXJue2RhdGU6ZGF0ZSxsYWJlbDpkYXRlRmlsdGVyKGRhdGUsZm9ybWF0KSxzZWxlY3RlZDptb2RlbCYmMD09PXRoaXMuY29tcGFyZShkYXRlLG1vZGVsKSxkaXNhYmxlZDp0aGlzLmlzRGlzYWJsZWQoZGF0ZSksY3VycmVudDowPT09dGhpcy5jb21wYXJlKGRhdGUsbmV3IERhdGUpfX0sdGhpcy5pc0Rpc2FibGVkPWZ1bmN0aW9uKGRhdGUpe3JldHVybiB0aGlzLm1pbkRhdGUmJnRoaXMuY29tcGFyZShkYXRlLHRoaXMubWluRGF0ZSk8MHx8dGhpcy5tYXhEYXRlJiZ0aGlzLmNvbXBhcmUoZGF0ZSx0aGlzLm1heERhdGUpPjB8fCRhdHRycy5kYXRlRGlzYWJsZWQmJiRzY29wZS5kYXRlRGlzYWJsZWQoe2RhdGU6ZGF0ZSxtb2RlOiRzY29wZS5kYXRlcGlja2VyTW9kZX0pfSx0aGlzLnNwbGl0PWZ1bmN0aW9uKGFycixzaXplKXtmb3IodmFyIGFycmF5cz1bXTthcnIubGVuZ3RoPjA7KWFycmF5cy5wdXNoKGFyci5zcGxpY2UoMCxzaXplKSk7cmV0dXJuIGFycmF5c30sJHNjb3BlLnNlbGVjdD1mdW5jdGlvbihkYXRlKXtpZigkc2NvcGUuZGF0ZXBpY2tlck1vZGU9PT1zZWxmLm1pbk1vZGUpe3ZhciBkdD1uZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZT9uZXcgRGF0ZShuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSk6bmV3IERhdGUoMCwwLDAsMCwwLDAsMCk7ZHQuc2V0RnVsbFllYXIoZGF0ZS5nZXRGdWxsWWVhcigpLGRhdGUuZ2V0TW9udGgoKSxkYXRlLmdldERhdGUoKSksbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShkdCksbmdNb2RlbEN0cmwuJHJlbmRlcigpfWVsc2Ugc2VsZi5hY3RpdmVEYXRlPWRhdGUsJHNjb3BlLmRhdGVwaWNrZXJNb2RlPXNlbGYubW9kZXNbc2VsZi5tb2Rlcy5pbmRleE9mKCRzY29wZS5kYXRlcGlja2VyTW9kZSktMV19LCRzY29wZS5tb3ZlPWZ1bmN0aW9uKGRpcmVjdGlvbil7dmFyIHllYXI9c2VsZi5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkrZGlyZWN0aW9uKihzZWxmLnN0ZXAueWVhcnN8fDApLG1vbnRoPXNlbGYuYWN0aXZlRGF0ZS5nZXRNb250aCgpK2RpcmVjdGlvbiooc2VsZi5zdGVwLm1vbnRoc3x8MCk7c2VsZi5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKHllYXIsbW9udGgsMSksc2VsZi5yZWZyZXNoVmlldygpfSwkc2NvcGUudG9nZ2xlTW9kZT1mdW5jdGlvbihkaXJlY3Rpb24pe2RpcmVjdGlvbj1kaXJlY3Rpb258fDEsJHNjb3BlLmRhdGVwaWNrZXJNb2RlPT09c2VsZi5tYXhNb2RlJiYxPT09ZGlyZWN0aW9ufHwkc2NvcGUuZGF0ZXBpY2tlck1vZGU9PT1zZWxmLm1pbk1vZGUmJi0xPT09ZGlyZWN0aW9ufHwoJHNjb3BlLmRhdGVwaWNrZXJNb2RlPXNlbGYubW9kZXNbc2VsZi5tb2Rlcy5pbmRleE9mKCRzY29wZS5kYXRlcGlja2VyTW9kZSkrZGlyZWN0aW9uXSl9LCRzY29wZS5rZXlzPXsxMzoiZW50ZXIiLDMyOiJzcGFjZSIsMzM6InBhZ2V1cCIsMzQ6InBhZ2Vkb3duIiwzNToiZW5kIiwzNjoiaG9tZSIsMzc6ImxlZnQiLDM4OiJ1cCIsMzk6InJpZ2h0Iiw0MDoiZG93biJ9O3ZhciBmb2N1c0VsZW1lbnQ9ZnVuY3Rpb24oKXskdGltZW91dChmdW5jdGlvbigpe3NlbGYuZWxlbWVudFswXS5mb2N1cygpfSwwLCExKX07JHNjb3BlLiRvbigiZGF0ZXBpY2tlci5mb2N1cyIsZm9jdXNFbGVtZW50KSwkc2NvcGUua2V5ZG93bj1mdW5jdGlvbihldnQpe3ZhciBrZXk9JHNjb3BlLmtleXNbZXZ0LndoaWNoXTtpZihrZXkmJiFldnQuc2hpZnRLZXkmJiFldnQuYWx0S2V5KWlmKGV2dC5wcmV2ZW50RGVmYXVsdCgpLGV2dC5zdG9wUHJvcGFnYXRpb24oKSwiZW50ZXIiPT09a2V5fHwic3BhY2UiPT09a2V5KXtpZihzZWxmLmlzRGlzYWJsZWQoc2VsZi5hY3RpdmVEYXRlKSlyZXR1cm47JHNjb3BlLnNlbGVjdChzZWxmLmFjdGl2ZURhdGUpLGZvY3VzRWxlbWVudCgpfWVsc2UhZXZ0LmN0cmxLZXl8fCJ1cCIhPT1rZXkmJiJkb3duIiE9PWtleT8oc2VsZi5oYW5kbGVLZXlEb3duKGtleSxldnQpLHNlbGYucmVmcmVzaFZpZXcoKSk6KCRzY29wZS50b2dnbGVNb2RlKCJ1cCI9PT1rZXk/MTotMSksZm9jdXNFbGVtZW50KCkpfX1dKS5kaXJlY3RpdmUoImRhdGVwaWNrZXIiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWwiLHNjb3BlOntkYXRlcGlja2VyTW9kZToiPT8iLGRhdGVEaXNhYmxlZDoiJiJ9LHJlcXVpcmU6WyJkYXRlcGlja2VyIiwiP15uZ01vZGVsIl0sY29udHJvbGxlcjoiRGF0ZXBpY2tlckNvbnRyb2xsZXIiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjdHJscyl7dmFyIGRhdGVwaWNrZXJDdHJsPWN0cmxzWzBdLG5nTW9kZWxDdHJsPWN0cmxzWzFdO25nTW9kZWxDdHJsJiZkYXRlcGlja2VyQ3RybC5pbml0KG5nTW9kZWxDdHJsKX19fSkuZGlyZWN0aXZlKCJkYXlwaWNrZXIiLFsiZGF0ZUZpbHRlciIsZnVuY3Rpb24oZGF0ZUZpbHRlcil7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbCIscmVxdWlyZToiXmRhdGVwaWNrZXIiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjdHJsKXtmdW5jdGlvbiBnZXREYXlzSW5Nb250aCh5ZWFyLG1vbnRoKXtyZXR1cm4gMSE9PW1vbnRofHx5ZWFyJTQhPT0wfHx5ZWFyJTEwMD09PTAmJnllYXIlNDAwIT09MD9EQVlTX0lOX01PTlRIW21vbnRoXToyOX1mdW5jdGlvbiBnZXREYXRlcyhzdGFydERhdGUsbil7dmFyIGRhdGVzPW5ldyBBcnJheShuKSxjdXJyZW50PW5ldyBEYXRlKHN0YXJ0RGF0ZSksaT0wO2ZvcihjdXJyZW50LnNldEhvdXJzKDEyKTtuPmk7KWRhdGVzW2krK109bmV3IERhdGUoY3VycmVudCksY3VycmVudC5zZXREYXRlKGN1cnJlbnQuZ2V0RGF0ZSgpKzEpO3JldHVybiBkYXRlc31mdW5jdGlvbiBnZXRJU084NjAxV2Vla051bWJlcihkYXRlKXt2YXIgY2hlY2tEYXRlPW5ldyBEYXRlKGRhdGUpO2NoZWNrRGF0ZS5zZXREYXRlKGNoZWNrRGF0ZS5nZXREYXRlKCkrNC0oY2hlY2tEYXRlLmdldERheSgpfHw3KSk7dmFyIHRpbWU9Y2hlY2tEYXRlLmdldFRpbWUoKTtyZXR1cm4gY2hlY2tEYXRlLnNldE1vbnRoKDApLGNoZWNrRGF0ZS5zZXREYXRlKDEpLE1hdGguZmxvb3IoTWF0aC5yb3VuZCgodGltZS1jaGVja0RhdGUpLzg2NGU1KS83KSsxfXNjb3BlLnNob3dXZWVrcz1jdHJsLnNob3dXZWVrcyxjdHJsLnN0ZXA9e21vbnRoczoxfSxjdHJsLmVsZW1lbnQ9ZWxlbWVudDt2YXIgREFZU19JTl9NT05USD1bMzEsMjgsMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdO2N0cmwuX3JlZnJlc2hWaWV3PWZ1bmN0aW9uKCl7dmFyIHllYXI9Y3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksbW9udGg9Y3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCksZmlyc3REYXlPZk1vbnRoPW5ldyBEYXRlKHllYXIsbW9udGgsMSksZGlmZmVyZW5jZT1jdHJsLnN0YXJ0aW5nRGF5LWZpcnN0RGF5T2ZNb250aC5nZXREYXkoKSxudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aD1kaWZmZXJlbmNlPjA/Ny1kaWZmZXJlbmNlOi1kaWZmZXJlbmNlLGZpcnN0RGF0ZT1uZXcgRGF0ZShmaXJzdERheU9mTW9udGgpO251bURpc3BsYXllZEZyb21QcmV2aW91c01vbnRoPjAmJmZpcnN0RGF0ZS5zZXREYXRlKC1udW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCsxKTtmb3IodmFyIGRheXM9Z2V0RGF0ZXMoZmlyc3REYXRlLDQyKSxpPTA7NDI+aTtpKyspZGF5c1tpXT1hbmd1bGFyLmV4dGVuZChjdHJsLmNyZWF0ZURhdGVPYmplY3QoZGF5c1tpXSxjdHJsLmZvcm1hdERheSkse3NlY29uZGFyeTpkYXlzW2ldLmdldE1vbnRoKCkhPT1tb250aCx1aWQ6c2NvcGUudW5pcXVlSWQrIi0iK2l9KTtzY29wZS5sYWJlbHM9bmV3IEFycmF5KDcpO2Zvcih2YXIgaj0wOzc+ajtqKyspc2NvcGUubGFiZWxzW2pdPXthYmJyOmRhdGVGaWx0ZXIoZGF5c1tqXS5kYXRlLGN0cmwuZm9ybWF0RGF5SGVhZGVyKSxmdWxsOmRhdGVGaWx0ZXIoZGF5c1tqXS5kYXRlLCJFRUVFIil9O2lmKHNjb3BlLnRpdGxlPWRhdGVGaWx0ZXIoY3RybC5hY3RpdmVEYXRlLGN0cmwuZm9ybWF0RGF5VGl0bGUpLHNjb3BlLnJvd3M9Y3RybC5zcGxpdChkYXlzLDcpLHNjb3BlLnNob3dXZWVrcyl7c2NvcGUud2Vla051bWJlcnM9W107Zm9yKHZhciB3ZWVrTnVtYmVyPWdldElTTzg2MDFXZWVrTnVtYmVyKHNjb3BlLnJvd3NbMF1bMF0uZGF0ZSksbnVtV2Vla3M9c2NvcGUucm93cy5sZW5ndGg7c2NvcGUud2Vla051bWJlcnMucHVzaCh3ZWVrTnVtYmVyKyspPG51bVdlZWtzOyk7fX0sY3RybC5jb21wYXJlPWZ1bmN0aW9uKGRhdGUxLGRhdGUyKXtyZXR1cm4gbmV3IERhdGUoZGF0ZTEuZ2V0RnVsbFllYXIoKSxkYXRlMS5nZXRNb250aCgpLGRhdGUxLmdldERhdGUoKSktbmV3IERhdGUoZGF0ZTIuZ2V0RnVsbFllYXIoKSxkYXRlMi5nZXRNb250aCgpLGRhdGUyLmdldERhdGUoKSl9LGN0cmwuaGFuZGxlS2V5RG93bj1mdW5jdGlvbihrZXkpe3ZhciBkYXRlPWN0cmwuYWN0aXZlRGF0ZS5nZXREYXRlKCk7aWYoImxlZnQiPT09a2V5KWRhdGUtPTE7ZWxzZSBpZigidXAiPT09a2V5KWRhdGUtPTc7ZWxzZSBpZigicmlnaHQiPT09a2V5KWRhdGUrPTE7ZWxzZSBpZigiZG93biI9PT1rZXkpZGF0ZSs9NztlbHNlIGlmKCJwYWdldXAiPT09a2V5fHwicGFnZWRvd24iPT09a2V5KXt2YXIgbW9udGg9Y3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCkrKCJwYWdldXAiPT09a2V5Py0xOjEpO2N0cmwuYWN0aXZlRGF0ZS5zZXRNb250aChtb250aCwxKSxkYXRlPU1hdGgubWluKGdldERheXNJbk1vbnRoKGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpLGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpKSxkYXRlKX1lbHNlImhvbWUiPT09a2V5P2RhdGU9MToiZW5kIj09PWtleSYmKGRhdGU9Z2V0RGF5c0luTW9udGgoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCkpKTtjdHJsLmFjdGl2ZURhdGUuc2V0RGF0ZShkYXRlKX0sY3RybC5yZWZyZXNoVmlldygpfX19XSkuZGlyZWN0aXZlKCJtb250aHBpY2tlciIsWyJkYXRlRmlsdGVyIixmdW5jdGlvbihkYXRlRmlsdGVyKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWwiLHJlcXVpcmU6Il5kYXRlcGlja2VyIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsY3RybCl7Y3RybC5zdGVwPXt5ZWFyczoxfSxjdHJsLmVsZW1lbnQ9ZWxlbWVudCxjdHJsLl9yZWZyZXNoVmlldz1mdW5jdGlvbigpe2Zvcih2YXIgbW9udGhzPW5ldyBBcnJheSgxMikseWVhcj1jdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSxpPTA7MTI+aTtpKyspbW9udGhzW2ldPWFuZ3VsYXIuZXh0ZW5kKGN0cmwuY3JlYXRlRGF0ZU9iamVjdChuZXcgRGF0ZSh5ZWFyLGksMSksY3RybC5mb3JtYXRNb250aCkse3VpZDpzY29wZS51bmlxdWVJZCsiLSIraX0pO3Njb3BlLnRpdGxlPWRhdGVGaWx0ZXIoY3RybC5hY3RpdmVEYXRlLGN0cmwuZm9ybWF0TW9udGhUaXRsZSksc2NvcGUucm93cz1jdHJsLnNwbGl0KG1vbnRocywzKX0sY3RybC5jb21wYXJlPWZ1bmN0aW9uKGRhdGUxLGRhdGUyKXtyZXR1cm4gbmV3IERhdGUoZGF0ZTEuZ2V0RnVsbFllYXIoKSxkYXRlMS5nZXRNb250aCgpKS1uZXcgRGF0ZShkYXRlMi5nZXRGdWxsWWVhcigpLGRhdGUyLmdldE1vbnRoKCkpfSxjdHJsLmhhbmRsZUtleURvd249ZnVuY3Rpb24oa2V5KXt2YXIgZGF0ZT1jdHJsLmFjdGl2ZURhdGUuZ2V0TW9udGgoKTtpZigibGVmdCI9PT1rZXkpZGF0ZS09MTtlbHNlIGlmKCJ1cCI9PT1rZXkpZGF0ZS09MztlbHNlIGlmKCJyaWdodCI9PT1rZXkpZGF0ZSs9MTtlbHNlIGlmKCJkb3duIj09PWtleSlkYXRlKz0zO2Vsc2UgaWYoInBhZ2V1cCI9PT1rZXl8fCJwYWdlZG93biI9PT1rZXkpe3ZhciB5ZWFyPWN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpKygicGFnZXVwIj09PWtleT8tMToxKTtjdHJsLmFjdGl2ZURhdGUuc2V0RnVsbFllYXIoeWVhcil9ZWxzZSJob21lIj09PWtleT9kYXRlPTA6ImVuZCI9PT1rZXkmJihkYXRlPTExKTtjdHJsLmFjdGl2ZURhdGUuc2V0TW9udGgoZGF0ZSl9LGN0cmwucmVmcmVzaFZpZXcoKX19fV0pLmRpcmVjdGl2ZSgieWVhcnBpY2tlciIsWyJkYXRlRmlsdGVyIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sIixyZXF1aXJlOiJeZGF0ZXBpY2tlciIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGN0cmwpe2Z1bmN0aW9uIGdldFN0YXJ0aW5nWWVhcih5ZWFyKXtyZXR1cm4gcGFyc2VJbnQoKHllYXItMSkvcmFuZ2UsMTApKnJhbmdlKzF9dmFyIHJhbmdlPWN0cmwueWVhclJhbmdlO2N0cmwuc3RlcD17eWVhcnM6cmFuZ2V9LGN0cmwuZWxlbWVudD1lbGVtZW50LGN0cmwuX3JlZnJlc2hWaWV3PWZ1bmN0aW9uKCl7Zm9yKHZhciB5ZWFycz1uZXcgQXJyYXkocmFuZ2UpLGk9MCxzdGFydD1nZXRTdGFydGluZ1llYXIoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkpO3JhbmdlPmk7aSsrKXllYXJzW2ldPWFuZ3VsYXIuZXh0ZW5kKGN0cmwuY3JlYXRlRGF0ZU9iamVjdChuZXcgRGF0ZShzdGFydCtpLDAsMSksY3RybC5mb3JtYXRZZWFyKSx7dWlkOnNjb3BlLnVuaXF1ZUlkKyItIitpfSk7c2NvcGUudGl0bGU9W3llYXJzWzBdLmxhYmVsLHllYXJzW3JhbmdlLTFdLmxhYmVsXS5qb2luKCIgLSAiKSxzY29wZS5yb3dzPWN0cmwuc3BsaXQoeWVhcnMsNSl9LGN0cmwuY29tcGFyZT1mdW5jdGlvbihkYXRlMSxkYXRlMil7cmV0dXJuIGRhdGUxLmdldEZ1bGxZZWFyKCktZGF0ZTIuZ2V0RnVsbFllYXIoKX0sY3RybC5oYW5kbGVLZXlEb3duPWZ1bmN0aW9uKGtleSl7dmFyIGRhdGU9Y3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCk7ImxlZnQiPT09a2V5P2RhdGUtPTE6InVwIj09PWtleT9kYXRlLT01OiJyaWdodCI9PT1rZXk/ZGF0ZSs9MToiZG93biI9PT1rZXk/ZGF0ZSs9NToicGFnZXVwIj09PWtleXx8InBhZ2Vkb3duIj09PWtleT9kYXRlKz0oInBhZ2V1cCI9PT1rZXk/LTE6MSkqY3RybC5zdGVwLnllYXJzOiJob21lIj09PWtleT9kYXRlPWdldFN0YXJ0aW5nWWVhcihjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSk6ImVuZCI9PT1rZXkmJihkYXRlPWdldFN0YXJ0aW5nWWVhcihjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSkrcmFuZ2UtMSksY3RybC5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKGRhdGUpfSxjdHJsLnJlZnJlc2hWaWV3KCl9fX1dKS5jb25zdGFudCgiZGF0ZXBpY2tlclBvcHVwQ29uZmlnIix7ZGF0ZXBpY2tlclBvcHVwOiJ5eXl5LU1NLWRkIixjdXJyZW50VGV4dDoiVG9kYXkiLGNsZWFyVGV4dDoiQ2xlYXIiLGNsb3NlVGV4dDoiRG9uZSIsY2xvc2VPbkRhdGVTZWxlY3Rpb246ITAsYXBwZW5kVG9Cb2R5OiExLHNob3dCdXR0b25CYXI6ITB9KS5kaXJlY3RpdmUoImRhdGVwaWNrZXJQb3B1cCIsWyIkY29tcGlsZSIsIiRwYXJzZSIsIiRkb2N1bWVudCIsIiRwb3NpdGlvbiIsImRhdGVGaWx0ZXIiLCJkYXRlUGFyc2VyIiwiZGF0ZXBpY2tlclBvcHVwQ29uZmlnIixmdW5jdGlvbigkY29tcGlsZSwkcGFyc2UsJGRvY3VtZW50LCRwb3NpdGlvbixkYXRlRmlsdGVyLGRhdGVQYXJzZXIsZGF0ZXBpY2tlclBvcHVwQ29uZmlnKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXF1aXJlOiJuZ01vZGVsIixzY29wZTp7aXNPcGVuOiI9PyIsY3VycmVudFRleHQ6IkAiLGNsZWFyVGV4dDoiQCIsY2xvc2VUZXh0OiJAIixkYXRlRGlzYWJsZWQ6IiYifSxsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsbmdNb2RlbCl7ZnVuY3Rpb24gY2FtZWx0b0Rhc2goc3RyaW5nKXtyZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyhbQS1aXSkvZyxmdW5jdGlvbigkMSl7cmV0dXJuIi0iKyQxLnRvTG93ZXJDYXNlKCl9KX1mdW5jdGlvbiBwYXJzZURhdGUodmlld1ZhbHVlKXtpZih2aWV3VmFsdWUpe2lmKGFuZ3VsYXIuaXNEYXRlKHZpZXdWYWx1ZSkmJiFpc05hTih2aWV3VmFsdWUpKXJldHVybiBuZ01vZGVsLiRzZXRWYWxpZGl0eSgiZGF0ZSIsITApLHZpZXdWYWx1ZTtpZihhbmd1bGFyLmlzU3RyaW5nKHZpZXdWYWx1ZSkpe3ZhciBkYXRlPWRhdGVQYXJzZXIucGFyc2Uodmlld1ZhbHVlLGRhdGVGb3JtYXQpfHxuZXcgRGF0ZSh2aWV3VmFsdWUpO3JldHVybiBpc05hTihkYXRlKT92b2lkIG5nTW9kZWwuJHNldFZhbGlkaXR5KCJkYXRlIiwhMSk6KG5nTW9kZWwuJHNldFZhbGlkaXR5KCJkYXRlIiwhMCksZGF0ZSl9cmV0dXJuIHZvaWQgbmdNb2RlbC4kc2V0VmFsaWRpdHkoImRhdGUiLCExKX1yZXR1cm4gbmdNb2RlbC4kc2V0VmFsaWRpdHkoImRhdGUiLCEwKSxudWxsfXZhciBkYXRlRm9ybWF0LGNsb3NlT25EYXRlU2VsZWN0aW9uPWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmNsb3NlT25EYXRlU2VsZWN0aW9uKT9zY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmNsb3NlT25EYXRlU2VsZWN0aW9uKTpkYXRlcGlja2VyUG9wdXBDb25maWcuY2xvc2VPbkRhdGVTZWxlY3Rpb24sYXBwZW5kVG9Cb2R5PWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmRhdGVwaWNrZXJBcHBlbmRUb0JvZHkpP3Njb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuZGF0ZXBpY2tlckFwcGVuZFRvQm9keSk6ZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmFwcGVuZFRvQm9keTtzY29wZS5zaG93QnV0dG9uQmFyPWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnNob3dCdXR0b25CYXIpP3Njb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuc2hvd0J1dHRvbkJhcik6ZGF0ZXBpY2tlclBvcHVwQ29uZmlnLnNob3dCdXR0b25CYXIsc2NvcGUuZ2V0VGV4dD1mdW5jdGlvbihrZXkpe3JldHVybiBzY29wZVtrZXkrIlRleHQiXXx8ZGF0ZXBpY2tlclBvcHVwQ29uZmlnW2tleSsiVGV4dCJdfSxhdHRycy4kb2JzZXJ2ZSgiZGF0ZXBpY2tlclBvcHVwIixmdW5jdGlvbih2YWx1ZSl7ZGF0ZUZvcm1hdD12YWx1ZXx8ZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmRhdGVwaWNrZXJQb3B1cCxuZ01vZGVsLiRyZW5kZXIoKX0pO3ZhciBwb3B1cEVsPWFuZ3VsYXIuZWxlbWVudCgiPGRpdiBkYXRlcGlja2VyLXBvcHVwLXdyYXA+PGRpdiBkYXRlcGlja2VyPjwvZGl2PjwvZGl2PiIpO3BvcHVwRWwuYXR0cih7Im5nLW1vZGVsIjoiZGF0ZSIsIm5nLWNoYW5nZSI6ImRhdGVTZWxlY3Rpb24oKSJ9KTt2YXIgZGF0ZXBpY2tlckVsPWFuZ3VsYXIuZWxlbWVudChwb3B1cEVsLmNoaWxkcmVuKClbMF0pO2F0dHJzLmRhdGVwaWNrZXJPcHRpb25zJiZhbmd1bGFyLmZvckVhY2goc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5kYXRlcGlja2VyT3B0aW9ucyksZnVuY3Rpb24odmFsdWUsb3B0aW9uKXtkYXRlcGlja2VyRWwuYXR0cihjYW1lbHRvRGFzaChvcHRpb24pLHZhbHVlKX0pLHNjb3BlLndhdGNoRGF0YT17fSxhbmd1bGFyLmZvckVhY2goWyJtaW5EYXRlIiwibWF4RGF0ZSIsImRhdGVwaWNrZXJNb2RlIl0sZnVuY3Rpb24oa2V5KXtpZihhdHRyc1trZXldKXt2YXIgZ2V0QXR0cmlidXRlPSRwYXJzZShhdHRyc1trZXldKTtpZihzY29wZS4kcGFyZW50LiR3YXRjaChnZXRBdHRyaWJ1dGUsZnVuY3Rpb24odmFsdWUpe3Njb3BlLndhdGNoRGF0YVtrZXldPXZhbHVlfSksZGF0ZXBpY2tlckVsLmF0dHIoY2FtZWx0b0Rhc2goa2V5KSwid2F0Y2hEYXRhLiIra2V5KSwiZGF0ZXBpY2tlck1vZGUiPT09a2V5KXt2YXIgc2V0QXR0cmlidXRlPWdldEF0dHJpYnV0ZS5hc3NpZ247c2NvcGUuJHdhdGNoKCJ3YXRjaERhdGEuIitrZXksZnVuY3Rpb24odmFsdWUsb2xkdmFsdWUpe3ZhbHVlIT09b2xkdmFsdWUmJnNldEF0dHJpYnV0ZShzY29wZS4kcGFyZW50LHZhbHVlKX0pfX19KSxhdHRycy5kYXRlRGlzYWJsZWQmJmRhdGVwaWNrZXJFbC5hdHRyKCJkYXRlLWRpc2FibGVkIiwiZGF0ZURpc2FibGVkKHsgZGF0ZTogZGF0ZSwgbW9kZTogbW9kZSB9KSIpLG5nTW9kZWwuJHBhcnNlcnMudW5zaGlmdChwYXJzZURhdGUpLHNjb3BlLmRhdGVTZWxlY3Rpb249ZnVuY3Rpb24oZHQpe2FuZ3VsYXIuaXNEZWZpbmVkKGR0KSYmKHNjb3BlLmRhdGU9ZHQpLG5nTW9kZWwuJHNldFZpZXdWYWx1ZShzY29wZS5kYXRlKSxuZ01vZGVsLiRyZW5kZXIoKSxjbG9zZU9uRGF0ZVNlbGVjdGlvbiYmKHNjb3BlLmlzT3Blbj0hMSxlbGVtZW50WzBdLmZvY3VzKCkpfSxlbGVtZW50LmJpbmQoImlucHV0IGNoYW5nZSBrZXl1cCIsZnVuY3Rpb24oKXtzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtzY29wZS5kYXRlPW5nTW9kZWwuJG1vZGVsVmFsdWV9KX0pLG5nTW9kZWwuJHJlbmRlcj1mdW5jdGlvbigpe3ZhciBkYXRlPW5nTW9kZWwuJHZpZXdWYWx1ZT9kYXRlRmlsdGVyKG5nTW9kZWwuJHZpZXdWYWx1ZSxkYXRlRm9ybWF0KToiIjtlbGVtZW50LnZhbChkYXRlKSxzY29wZS5kYXRlPXBhcnNlRGF0ZShuZ01vZGVsLiRtb2RlbFZhbHVlKX07dmFyIGRvY3VtZW50Q2xpY2tCaW5kPWZ1bmN0aW9uKGV2ZW50KXtzY29wZS5pc09wZW4mJmV2ZW50LnRhcmdldCE9PWVsZW1lbnRbMF0mJnNjb3BlLiRhcHBseShmdW5jdGlvbigpe3Njb3BlLmlzT3Blbj0hMX0pfSxrZXlkb3duPWZ1bmN0aW9uKGV2dCl7c2NvcGUua2V5ZG93bihldnQpfTtlbGVtZW50LmJpbmQoImtleWRvd24iLGtleWRvd24pLHNjb3BlLmtleWRvd249ZnVuY3Rpb24oZXZ0KXsyNz09PWV2dC53aGljaD8oZXZ0LnByZXZlbnREZWZhdWx0KCksZXZ0LnN0b3BQcm9wYWdhdGlvbigpLHNjb3BlLmNsb3NlKCkpOjQwIT09ZXZ0LndoaWNofHxzY29wZS5pc09wZW58fChzY29wZS5pc09wZW49ITApfSxzY29wZS4kd2F0Y2goImlzT3BlbiIsZnVuY3Rpb24odmFsdWUpe3ZhbHVlPyhzY29wZS4kYnJvYWRjYXN0KCJkYXRlcGlja2VyLmZvY3VzIiksc2NvcGUucG9zaXRpb249YXBwZW5kVG9Cb2R5PyRwb3NpdGlvbi5vZmZzZXQoZWxlbWVudCk6JHBvc2l0aW9uLnBvc2l0aW9uKGVsZW1lbnQpLHNjb3BlLnBvc2l0aW9uLnRvcD1zY29wZS5wb3NpdGlvbi50b3ArZWxlbWVudC5wcm9wKCJvZmZzZXRIZWlnaHQiKSwkZG9jdW1lbnQuYmluZCgiY2xpY2siLGRvY3VtZW50Q2xpY2tCaW5kKSk6JGRvY3VtZW50LnVuYmluZCgiY2xpY2siLGRvY3VtZW50Q2xpY2tCaW5kKX0pLHNjb3BlLnNlbGVjdD1mdW5jdGlvbihkYXRlKXtpZigidG9kYXkiPT09ZGF0ZSl7dmFyIHRvZGF5PW5ldyBEYXRlO2FuZ3VsYXIuaXNEYXRlKG5nTW9kZWwuJG1vZGVsVmFsdWUpPyhkYXRlPW5ldyBEYXRlKG5nTW9kZWwuJG1vZGVsVmFsdWUpLGRhdGUuc2V0RnVsbFllYXIodG9kYXkuZ2V0RnVsbFllYXIoKSx0b2RheS5nZXRNb250aCgpLHRvZGF5LmdldERhdGUoKSkpOmRhdGU9bmV3IERhdGUodG9kYXkuc2V0SG91cnMoMCwwLDAsMCkpfXNjb3BlLmRhdGVTZWxlY3Rpb24oZGF0ZSl9LHNjb3BlLmNsb3NlPWZ1bmN0aW9uKCl7c2NvcGUuaXNPcGVuPSExLGVsZW1lbnRbMF0uZm9jdXMoKX07dmFyICRwb3B1cD0kY29tcGlsZShwb3B1cEVsKShzY29wZSk7cG9wdXBFbC5yZW1vdmUoKSxhcHBlbmRUb0JvZHk/JGRvY3VtZW50LmZpbmQoImJvZHkiKS5hcHBlbmQoJHBvcHVwKTplbGVtZW50LmFmdGVyKCRwb3B1cCksc2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXskcG9wdXAucmVtb3ZlKCksZWxlbWVudC51bmJpbmQoImtleWRvd24iLGtleWRvd24pLCRkb2N1bWVudC51bmJpbmQoImNsaWNrIixkb2N1bWVudENsaWNrQmluZCl9KX19fV0pLmRpcmVjdGl2ZSgiZGF0ZXBpY2tlclBvcHVwV3JhcCIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHRyYW5zY2x1ZGU6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbCIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50KXtlbGVtZW50LmJpbmQoImNsaWNrIixmdW5jdGlvbihldmVudCl7ZXZlbnQucHJldmVudERlZmF1bHQoKSxldmVudC5zdG9wUHJvcGFnYXRpb24oKX0pfX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmRyb3Bkb3duIixbXSkuY29uc3RhbnQoImRyb3Bkb3duQ29uZmlnIix7b3BlbkNsYXNzOiJvcGVuIn0pLnNlcnZpY2UoImRyb3Bkb3duU2VydmljZSIsWyIkZG9jdW1lbnQiLGZ1bmN0aW9uKCRkb2N1bWVudCl7dmFyIG9wZW5TY29wZT1udWxsO3RoaXMub3Blbj1mdW5jdGlvbihkcm9wZG93blNjb3BlKXtvcGVuU2NvcGV8fCgkZG9jdW1lbnQuYmluZCgiY2xpY2siLGNsb3NlRHJvcGRvd24pLCRkb2N1bWVudC5iaW5kKCJrZXlkb3duIixlc2NhcGVLZXlCaW5kKSksb3BlblNjb3BlJiZvcGVuU2NvcGUhPT1kcm9wZG93blNjb3BlJiYob3BlblNjb3BlLmlzT3Blbj0hMSksb3BlblNjb3BlPWRyb3Bkb3duU2NvcGV9LHRoaXMuY2xvc2U9ZnVuY3Rpb24oZHJvcGRvd25TY29wZSl7b3BlblNjb3BlPT09ZHJvcGRvd25TY29wZSYmKG9wZW5TY29wZT1udWxsLCRkb2N1bWVudC51bmJpbmQoImNsaWNrIixjbG9zZURyb3Bkb3duKSwkZG9jdW1lbnQudW5iaW5kKCJrZXlkb3duIixlc2NhcGVLZXlCaW5kKSl9O3ZhciBjbG9zZURyb3Bkb3duPWZ1bmN0aW9uKGV2dCl7dmFyIHRvZ2dsZUVsZW1lbnQ9b3BlblNjb3BlLmdldFRvZ2dsZUVsZW1lbnQoKTtldnQmJnRvZ2dsZUVsZW1lbnQmJnRvZ2dsZUVsZW1lbnRbMF0uY29udGFpbnMoZXZ0LnRhcmdldCl8fG9wZW5TY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtvcGVuU2NvcGUuaXNPcGVuPSExfSl9LGVzY2FwZUtleUJpbmQ9ZnVuY3Rpb24oZXZ0KXsyNz09PWV2dC53aGljaCYmKG9wZW5TY29wZS5mb2N1c1RvZ2dsZUVsZW1lbnQoKSxjbG9zZURyb3Bkb3duKCkpfX1dKS5jb250cm9sbGVyKCJEcm9wZG93bkNvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGF0dHJzIiwiJHBhcnNlIiwiZHJvcGRvd25Db25maWciLCJkcm9wZG93blNlcnZpY2UiLCIkYW5pbWF0ZSIsZnVuY3Rpb24oJHNjb3BlLCRhdHRycywkcGFyc2UsZHJvcGRvd25Db25maWcsZHJvcGRvd25TZXJ2aWNlLCRhbmltYXRlKXt2YXIgZ2V0SXNPcGVuLHNlbGY9dGhpcyxzY29wZT0kc2NvcGUuJG5ldygpLG9wZW5DbGFzcz1kcm9wZG93bkNvbmZpZy5vcGVuQ2xhc3Msc2V0SXNPcGVuPWFuZ3VsYXIubm9vcCx0b2dnbGVJbnZva2VyPSRhdHRycy5vblRvZ2dsZT8kcGFyc2UoJGF0dHJzLm9uVG9nZ2xlKTphbmd1bGFyLm5vb3A7dGhpcy5pbml0PWZ1bmN0aW9uKGVsZW1lbnQpe3NlbGYuJGVsZW1lbnQ9ZWxlbWVudCwkYXR0cnMuaXNPcGVuJiYoZ2V0SXNPcGVuPSRwYXJzZSgkYXR0cnMuaXNPcGVuKSxzZXRJc09wZW49Z2V0SXNPcGVuLmFzc2lnbiwkc2NvcGUuJHdhdGNoKGdldElzT3BlbixmdW5jdGlvbih2YWx1ZSl7c2NvcGUuaXNPcGVuPSEhdmFsdWV9KSl9LHRoaXMudG9nZ2xlPWZ1bmN0aW9uKG9wZW4pe3JldHVybiBzY29wZS5pc09wZW49YXJndW1lbnRzLmxlbmd0aD8hIW9wZW46IXNjb3BlLmlzT3Blbn0sdGhpcy5pc09wZW49ZnVuY3Rpb24oKXtyZXR1cm4gc2NvcGUuaXNPcGVufSxzY29wZS5nZXRUb2dnbGVFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHNlbGYudG9nZ2xlRWxlbWVudH0sc2NvcGUuZm9jdXNUb2dnbGVFbGVtZW50PWZ1bmN0aW9uKCl7c2VsZi50b2dnbGVFbGVtZW50JiZzZWxmLnRvZ2dsZUVsZW1lbnRbMF0uZm9jdXMoKX0sc2NvcGUuJHdhdGNoKCJpc09wZW4iLGZ1bmN0aW9uKGlzT3Blbix3YXNPcGVuKXskYW5pbWF0ZVtpc09wZW4/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXShzZWxmLiRlbGVtZW50LG9wZW5DbGFzcyksaXNPcGVuPyhzY29wZS5mb2N1c1RvZ2dsZUVsZW1lbnQoKSxkcm9wZG93blNlcnZpY2Uub3BlbihzY29wZSkpOmRyb3Bkb3duU2VydmljZS5jbG9zZShzY29wZSksc2V0SXNPcGVuKCRzY29wZSxpc09wZW4pLGFuZ3VsYXIuaXNEZWZpbmVkKGlzT3BlbikmJmlzT3BlbiE9PXdhc09wZW4mJnRvZ2dsZUludm9rZXIoJHNjb3BlLHtvcGVuOiEhaXNPcGVufSl9KSwkc2NvcGUuJG9uKCIkbG9jYXRpb25DaGFuZ2VTdWNjZXNzIixmdW5jdGlvbigpe3Njb3BlLmlzT3Blbj0hMX0pLCRzY29wZS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe3Njb3BlLiRkZXN0cm95KCl9KX1dKS5kaXJlY3RpdmUoImRyb3Bkb3duIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiQ0EiLGNvbnRyb2xsZXI6IkRyb3Bkb3duQ29udHJvbGxlciIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGRyb3Bkb3duQ3RybCl7ZHJvcGRvd25DdHJsLmluaXQoZWxlbWVudCl9fX0pLmRpcmVjdGl2ZSgiZHJvcGRvd25Ub2dnbGUiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJDQSIscmVxdWlyZToiP15kcm9wZG93biIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGRyb3Bkb3duQ3RybCl7aWYoZHJvcGRvd25DdHJsKXtkcm9wZG93bkN0cmwudG9nZ2xlRWxlbWVudD1lbGVtZW50O3ZhciB0b2dnbGVEcm9wZG93bj1mdW5jdGlvbihldmVudCl7ZXZlbnQucHJldmVudERlZmF1bHQoKSxlbGVtZW50Lmhhc0NsYXNzKCJkaXNhYmxlZCIpfHxhdHRycy5kaXNhYmxlZHx8c2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7ZHJvcGRvd25DdHJsLnRvZ2dsZSgpfSl9O2VsZW1lbnQuYmluZCgiY2xpY2siLHRvZ2dsZURyb3Bkb3duKSxlbGVtZW50LmF0dHIoeyJhcmlhLWhhc3BvcHVwIjohMCwiYXJpYS1leHBhbmRlZCI6ITF9KSxzY29wZS4kd2F0Y2goZHJvcGRvd25DdHJsLmlzT3BlbixmdW5jdGlvbihpc09wZW4pe2VsZW1lbnQuYXR0cigiYXJpYS1leHBhbmRlZCIsISFpc09wZW4pfSksc2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtlbGVtZW50LnVuYmluZCgiY2xpY2siLHRvZ2dsZURyb3Bkb3duKX0pfX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5tb2RhbCIsWyJ1aS5ib290c3RyYXAudHJhbnNpdGlvbiJdKS5mYWN0b3J5KCIkJHN0YWNrZWRNYXAiLGZ1bmN0aW9uKCl7cmV0dXJue2NyZWF0ZU5ldzpmdW5jdGlvbigpe3ZhciBzdGFjaz1bXTtyZXR1cm57YWRkOmZ1bmN0aW9uKGtleSx2YWx1ZSl7c3RhY2sucHVzaCh7a2V5OmtleSx2YWx1ZTp2YWx1ZX0pfSxnZXQ6ZnVuY3Rpb24oa2V5KXtmb3IodmFyIGk9MDtpPHN0YWNrLmxlbmd0aDtpKyspaWYoa2V5PT1zdGFja1tpXS5rZXkpcmV0dXJuIHN0YWNrW2ldfSxrZXlzOmZ1bmN0aW9uKCl7Zm9yKHZhciBrZXlzPVtdLGk9MDtpPHN0YWNrLmxlbmd0aDtpKyspa2V5cy5wdXNoKHN0YWNrW2ldLmtleSk7cmV0dXJuIGtleXN9LHRvcDpmdW5jdGlvbigpe3JldHVybiBzdGFja1tzdGFjay5sZW5ndGgtMV19LHJlbW92ZTpmdW5jdGlvbihrZXkpe2Zvcih2YXIgaWR4PS0xLGk9MDtpPHN0YWNrLmxlbmd0aDtpKyspaWYoa2V5PT1zdGFja1tpXS5rZXkpe2lkeD1pO2JyZWFrfXJldHVybiBzdGFjay5zcGxpY2UoaWR4LDEpWzBdfSxyZW1vdmVUb3A6ZnVuY3Rpb24oKXtyZXR1cm4gc3RhY2suc3BsaWNlKHN0YWNrLmxlbmd0aC0xLDEpWzBdfSxsZW5ndGg6ZnVuY3Rpb24oKXtyZXR1cm4gc3RhY2subGVuZ3RofX19fX0pLmRpcmVjdGl2ZSgibW9kYWxCYWNrZHJvcCIsWyIkdGltZW91dCIsZnVuY3Rpb24oJHRpbWVvdXQpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWwiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyl7c2NvcGUuYmFja2Ryb3BDbGFzcz1hdHRycy5iYWNrZHJvcENsYXNzfHwiIixzY29wZS5hbmltYXRlPSExLCR0aW1lb3V0KGZ1bmN0aW9uKCl7c2NvcGUuYW5pbWF0ZT0hMH0pfX19XSkuZGlyZWN0aXZlKCJtb2RhbFdpbmRvdyIsWyIkbW9kYWxTdGFjayIsIiR0aW1lb3V0IixmdW5jdGlvbigkbW9kYWxTdGFjaywkdGltZW91dCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsc2NvcGU6e2luZGV4OiJAIixhbmltYXRlOiI9In0scmVwbGFjZTohMCx0cmFuc2NsdWRlOiEwLHRlbXBsYXRlVXJsOmZ1bmN0aW9uKHRFbGVtZW50LHRBdHRycyl7cmV0dXJuIHRBdHRycy50ZW1wbGF0ZVVybHx8InRlbXBsYXRlL21vZGFsL3dpbmRvdy5odG1sIn0sbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzKXtlbGVtZW50LmFkZENsYXNzKGF0dHJzLndpbmRvd0NsYXNzfHwiIiksc2NvcGUuc2l6ZT1hdHRycy5zaXplLCR0aW1lb3V0KGZ1bmN0aW9uKCl7c2NvcGUuYW5pbWF0ZT0hMCxlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3JBbGwoIlthdXRvZm9jdXNdIikubGVuZ3RofHxlbGVtZW50WzBdLmZvY3VzKCl9KSxzY29wZS5jbG9zZT1mdW5jdGlvbihldnQpe3ZhciBtb2RhbD0kbW9kYWxTdGFjay5nZXRUb3AoKTttb2RhbCYmbW9kYWwudmFsdWUuYmFja2Ryb3AmJiJzdGF0aWMiIT1tb2RhbC52YWx1ZS5iYWNrZHJvcCYmZXZ0LnRhcmdldD09PWV2dC5jdXJyZW50VGFyZ2V0JiYoZXZ0LnByZXZlbnREZWZhdWx0KCksZXZ0LnN0b3BQcm9wYWdhdGlvbigpLCRtb2RhbFN0YWNrLmRpc21pc3MobW9kYWwua2V5LCJiYWNrZHJvcCBjbGljayIpKX19fX1dKS5kaXJlY3RpdmUoIm1vZGFsVHJhbnNjbHVkZSIsZnVuY3Rpb24oKXtyZXR1cm57bGluazpmdW5jdGlvbigkc2NvcGUsJGVsZW1lbnQsJGF0dHJzLGNvbnRyb2xsZXIsJHRyYW5zY2x1ZGUpeyR0cmFuc2NsdWRlKCRzY29wZS4kcGFyZW50LGZ1bmN0aW9uKGNsb25lKXskZWxlbWVudC5lbXB0eSgpLCRlbGVtZW50LmFwcGVuZChjbG9uZSl9KX19fSkuZmFjdG9yeSgiJG1vZGFsU3RhY2siLFsiJHRyYW5zaXRpb24iLCIkdGltZW91dCIsIiRkb2N1bWVudCIsIiRjb21waWxlIiwiJHJvb3RTY29wZSIsIiQkc3RhY2tlZE1hcCIsZnVuY3Rpb24oJHRyYW5zaXRpb24sJHRpbWVvdXQsJGRvY3VtZW50LCRjb21waWxlLCRyb290U2NvcGUsJCRzdGFja2VkTWFwKXtmdW5jdGlvbiBiYWNrZHJvcEluZGV4KCl7Zm9yKHZhciB0b3BCYWNrZHJvcEluZGV4PS0xLG9wZW5lZD1vcGVuZWRXaW5kb3dzLmtleXMoKSxpPTA7aTxvcGVuZWQubGVuZ3RoO2krKylvcGVuZWRXaW5kb3dzLmdldChvcGVuZWRbaV0pLnZhbHVlLmJhY2tkcm9wJiYodG9wQmFja2Ryb3BJbmRleD1pKTtyZXR1cm4gdG9wQmFja2Ryb3BJbmRleH1mdW5jdGlvbiByZW1vdmVNb2RhbFdpbmRvdyhtb2RhbEluc3RhbmNlKXt2YXIgYm9keT0kZG9jdW1lbnQuZmluZCgiYm9keSIpLmVxKDApLG1vZGFsV2luZG93PW9wZW5lZFdpbmRvd3MuZ2V0KG1vZGFsSW5zdGFuY2UpLnZhbHVlO29wZW5lZFdpbmRvd3MucmVtb3ZlKG1vZGFsSW5zdGFuY2UpLHJlbW92ZUFmdGVyQW5pbWF0ZShtb2RhbFdpbmRvdy5tb2RhbERvbUVsLG1vZGFsV2luZG93Lm1vZGFsU2NvcGUsMzAwLGZ1bmN0aW9uKCl7bW9kYWxXaW5kb3cubW9kYWxTY29wZS4kZGVzdHJveSgpLGJvZHkudG9nZ2xlQ2xhc3MoT1BFTkVEX01PREFMX0NMQVNTLG9wZW5lZFdpbmRvd3MubGVuZ3RoKCk+MCksY2hlY2tSZW1vdmVCYWNrZHJvcCgpfSl9ZnVuY3Rpb24gY2hlY2tSZW1vdmVCYWNrZHJvcCgpe2lmKGJhY2tkcm9wRG9tRWwmJi0xPT1iYWNrZHJvcEluZGV4KCkpe3ZhciBiYWNrZHJvcFNjb3BlUmVmPWJhY2tkcm9wU2NvcGU7cmVtb3ZlQWZ0ZXJBbmltYXRlKGJhY2tkcm9wRG9tRWwsYmFja2Ryb3BTY29wZSwxNTAsZnVuY3Rpb24oKXtiYWNrZHJvcFNjb3BlUmVmLiRkZXN0cm95KCksYmFja2Ryb3BTY29wZVJlZj1udWxsfSksYmFja2Ryb3BEb21FbD12b2lkIDAsYmFja2Ryb3BTY29wZT12b2lkIDB9fWZ1bmN0aW9uIHJlbW92ZUFmdGVyQW5pbWF0ZShkb21FbCxzY29wZSxlbXVsYXRlVGltZSxkb25lKXtmdW5jdGlvbiBhZnRlckFuaW1hdGluZygpe2FmdGVyQW5pbWF0aW5nLmRvbmV8fChhZnRlckFuaW1hdGluZy5kb25lPSEwLGRvbUVsLnJlbW92ZSgpLGRvbmUmJmRvbmUoKSl9c2NvcGUuYW5pbWF0ZT0hMTt2YXIgdHJhbnNpdGlvbkVuZEV2ZW50TmFtZT0kdHJhbnNpdGlvbi50cmFuc2l0aW9uRW5kRXZlbnROYW1lO2lmKHRyYW5zaXRpb25FbmRFdmVudE5hbWUpe3ZhciB0aW1lb3V0PSR0aW1lb3V0KGFmdGVyQW5pbWF0aW5nLGVtdWxhdGVUaW1lKTtkb21FbC5iaW5kKHRyYW5zaXRpb25FbmRFdmVudE5hbWUsZnVuY3Rpb24oKXskdGltZW91dC5jYW5jZWwodGltZW91dCksYWZ0ZXJBbmltYXRpbmcoKSxzY29wZS4kYXBwbHkoKX0pfWVsc2UgJHRpbWVvdXQoYWZ0ZXJBbmltYXRpbmcpfXZhciBiYWNrZHJvcERvbUVsLGJhY2tkcm9wU2NvcGUsT1BFTkVEX01PREFMX0NMQVNTPSJtb2RhbC1vcGVuIixvcGVuZWRXaW5kb3dzPSQkc3RhY2tlZE1hcC5jcmVhdGVOZXcoKSwkbW9kYWxTdGFjaz17fTtyZXR1cm4gJHJvb3RTY29wZS4kd2F0Y2goYmFja2Ryb3BJbmRleCxmdW5jdGlvbihuZXdCYWNrZHJvcEluZGV4KXtiYWNrZHJvcFNjb3BlJiYoYmFja2Ryb3BTY29wZS5pbmRleD1uZXdCYWNrZHJvcEluZGV4KX0pLCRkb2N1bWVudC5iaW5kKCJrZXlkb3duIixmdW5jdGlvbihldnQpe3ZhciBtb2RhbDsyNz09PWV2dC53aGljaCYmKG1vZGFsPW9wZW5lZFdpbmRvd3MudG9wKCksbW9kYWwmJm1vZGFsLnZhbHVlLmtleWJvYXJkJiYoZXZ0LnByZXZlbnREZWZhdWx0KCksJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24oKXskbW9kYWxTdGFjay5kaXNtaXNzKG1vZGFsLmtleSwiZXNjYXBlIGtleSBwcmVzcyIpfSkpKX0pLCRtb2RhbFN0YWNrLm9wZW49ZnVuY3Rpb24obW9kYWxJbnN0YW5jZSxtb2RhbCl7b3BlbmVkV2luZG93cy5hZGQobW9kYWxJbnN0YW5jZSx7ZGVmZXJyZWQ6bW9kYWwuZGVmZXJyZWQsbW9kYWxTY29wZTptb2RhbC5zY29wZSxiYWNrZHJvcDptb2RhbC5iYWNrZHJvcCxrZXlib2FyZDptb2RhbC5rZXlib2FyZH0pO3ZhciBib2R5PSRkb2N1bWVudC5maW5kKCJib2R5IikuZXEoMCksY3VyckJhY2tkcm9wSW5kZXg9YmFja2Ryb3BJbmRleCgpO2lmKGN1cnJCYWNrZHJvcEluZGV4Pj0wJiYhYmFja2Ryb3BEb21FbCl7YmFja2Ryb3BTY29wZT0kcm9vdFNjb3BlLiRuZXcoITApLGJhY2tkcm9wU2NvcGUuaW5kZXg9Y3VyckJhY2tkcm9wSW5kZXg7dmFyIGFuZ3VsYXJCYWNrZ3JvdW5kRG9tRWw9YW5ndWxhci5lbGVtZW50KCI8ZGl2IG1vZGFsLWJhY2tkcm9wPjwvZGl2PiIpO2FuZ3VsYXJCYWNrZ3JvdW5kRG9tRWwuYXR0cigiYmFja2Ryb3AtY2xhc3MiLG1vZGFsLmJhY2tkcm9wQ2xhc3MpLGJhY2tkcm9wRG9tRWw9JGNvbXBpbGUoYW5ndWxhckJhY2tncm91bmREb21FbCkoYmFja2Ryb3BTY29wZSksYm9keS5hcHBlbmQoYmFja2Ryb3BEb21FbCl9dmFyIGFuZ3VsYXJEb21FbD1hbmd1bGFyLmVsZW1lbnQoIjxkaXYgbW9kYWwtd2luZG93PjwvZGl2PiIpO2FuZ3VsYXJEb21FbC5hdHRyKHsidGVtcGxhdGUtdXJsIjptb2RhbC53aW5kb3dUZW1wbGF0ZVVybCwid2luZG93LWNsYXNzIjptb2RhbC53aW5kb3dDbGFzcyxzaXplOm1vZGFsLnNpemUsaW5kZXg6b3BlbmVkV2luZG93cy5sZW5ndGgoKS0xLGFuaW1hdGU6ImFuaW1hdGUifSkuaHRtbChtb2RhbC5jb250ZW50KTt2YXIgbW9kYWxEb21FbD0kY29tcGlsZShhbmd1bGFyRG9tRWwpKG1vZGFsLnNjb3BlKTtvcGVuZWRXaW5kb3dzLnRvcCgpLnZhbHVlLm1vZGFsRG9tRWw9bW9kYWxEb21FbCxib2R5LmFwcGVuZChtb2RhbERvbUVsKSxib2R5LmFkZENsYXNzKE9QRU5FRF9NT0RBTF9DTEFTUyl9LCRtb2RhbFN0YWNrLmNsb3NlPWZ1bmN0aW9uKG1vZGFsSW5zdGFuY2UscmVzdWx0KXt2YXIgbW9kYWxXaW5kb3c9b3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSk7bW9kYWxXaW5kb3cmJihtb2RhbFdpbmRvdy52YWx1ZS5kZWZlcnJlZC5yZXNvbHZlKHJlc3VsdCkscmVtb3ZlTW9kYWxXaW5kb3cobW9kYWxJbnN0YW5jZSkpfSwkbW9kYWxTdGFjay5kaXNtaXNzPWZ1bmN0aW9uKG1vZGFsSW5zdGFuY2UscmVhc29uKXt2YXIgbW9kYWxXaW5kb3c9b3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSk7bW9kYWxXaW5kb3cmJihtb2RhbFdpbmRvdy52YWx1ZS5kZWZlcnJlZC5yZWplY3QocmVhc29uKSxyZW1vdmVNb2RhbFdpbmRvdyhtb2RhbEluc3RhbmNlKSl9LCRtb2RhbFN0YWNrLmRpc21pc3NBbGw9ZnVuY3Rpb24ocmVhc29uKXtmb3IodmFyIHRvcE1vZGFsPXRoaXMuZ2V0VG9wKCk7dG9wTW9kYWw7KXRoaXMuZGlzbWlzcyh0b3BNb2RhbC5rZXkscmVhc29uKSx0b3BNb2RhbD10aGlzLmdldFRvcCgpfSwkbW9kYWxTdGFjay5nZXRUb3A9ZnVuY3Rpb24oKXtyZXR1cm4gb3BlbmVkV2luZG93cy50b3AoKX0sJG1vZGFsU3RhY2t9XSkucHJvdmlkZXIoIiRtb2RhbCIsZnVuY3Rpb24oKXt2YXIgJG1vZGFsUHJvdmlkZXI9e29wdGlvbnM6e2JhY2tkcm9wOiEwLGtleWJvYXJkOiEwfSwkZ2V0OlsiJGluamVjdG9yIiwiJHJvb3RTY29wZSIsIiRxIiwiJGh0dHAiLCIkdGVtcGxhdGVDYWNoZSIsIiRjb250cm9sbGVyIiwiJG1vZGFsU3RhY2siLGZ1bmN0aW9uKCRpbmplY3Rvciwkcm9vdFNjb3BlLCRxLCRodHRwLCR0ZW1wbGF0ZUNhY2hlLCRjb250cm9sbGVyLCRtb2RhbFN0YWNrKXtmdW5jdGlvbiBnZXRUZW1wbGF0ZVByb21pc2Uob3B0aW9ucyl7cmV0dXJuIG9wdGlvbnMudGVtcGxhdGU/JHEud2hlbihvcHRpb25zLnRlbXBsYXRlKTokaHR0cC5nZXQoYW5ndWxhci5pc0Z1bmN0aW9uKG9wdGlvbnMudGVtcGxhdGVVcmwpP29wdGlvbnMudGVtcGxhdGVVcmwoKTpvcHRpb25zLnRlbXBsYXRlVXJsLHtjYWNoZTokdGVtcGxhdGVDYWNoZX0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtyZXR1cm4gcmVzdWx0LmRhdGF9KX1mdW5jdGlvbiBnZXRSZXNvbHZlUHJvbWlzZXMocmVzb2x2ZXMpe3ZhciBwcm9taXNlc0Fycj1bXTtyZXR1cm4gYW5ndWxhci5mb3JFYWNoKHJlc29sdmVzLGZ1bmN0aW9uKHZhbHVlKXsoYW5ndWxhci5pc0Z1bmN0aW9uKHZhbHVlKXx8YW5ndWxhci5pc0FycmF5KHZhbHVlKSkmJnByb21pc2VzQXJyLnB1c2goJHEud2hlbigkaW5qZWN0b3IuaW52b2tlKHZhbHVlKSkpfSkscHJvbWlzZXNBcnJ9dmFyICRtb2RhbD17fTtyZXR1cm4gJG1vZGFsLm9wZW49ZnVuY3Rpb24obW9kYWxPcHRpb25zKXt2YXIgbW9kYWxSZXN1bHREZWZlcnJlZD0kcS5kZWZlcigpLG1vZGFsT3BlbmVkRGVmZXJyZWQ9JHEuZGVmZXIoKSxtb2RhbEluc3RhbmNlPXtyZXN1bHQ6bW9kYWxSZXN1bHREZWZlcnJlZC5wcm9taXNlLG9wZW5lZDptb2RhbE9wZW5lZERlZmVycmVkLnByb21pc2UsY2xvc2U6ZnVuY3Rpb24ocmVzdWx0KXskbW9kYWxTdGFjay5jbG9zZShtb2RhbEluc3RhbmNlLHJlc3VsdCl9LGRpc21pc3M6ZnVuY3Rpb24ocmVhc29uKXskbW9kYWxTdGFjay5kaXNtaXNzKG1vZGFsSW5zdGFuY2UscmVhc29uKX19O2lmKG1vZGFsT3B0aW9ucz1hbmd1bGFyLmV4dGVuZCh7fSwkbW9kYWxQcm92aWRlci5vcHRpb25zLG1vZGFsT3B0aW9ucyksbW9kYWxPcHRpb25zLnJlc29sdmU9bW9kYWxPcHRpb25zLnJlc29sdmV8fHt9LCFtb2RhbE9wdGlvbnMudGVtcGxhdGUmJiFtb2RhbE9wdGlvbnMudGVtcGxhdGVVcmwpdGhyb3cgbmV3IEVycm9yKCJPbmUgb2YgdGVtcGxhdGUgb3IgdGVtcGxhdGVVcmwgb3B0aW9ucyBpcyByZXF1aXJlZC4iKTt2YXIgdGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZT0kcS5hbGwoW2dldFRlbXBsYXRlUHJvbWlzZShtb2RhbE9wdGlvbnMpXS5jb25jYXQoZ2V0UmVzb2x2ZVByb21pc2VzKG1vZGFsT3B0aW9ucy5yZXNvbHZlKSkpO3JldHVybiB0ZW1wbGF0ZUFuZFJlc29sdmVQcm9taXNlLnRoZW4oZnVuY3Rpb24odHBsQW5kVmFycyl7dmFyIG1vZGFsU2NvcGU9KG1vZGFsT3B0aW9ucy5zY29wZXx8JHJvb3RTY29wZSkuJG5ldygpO21vZGFsU2NvcGUuJGNsb3NlPW1vZGFsSW5zdGFuY2UuY2xvc2UsbW9kYWxTY29wZS4kZGlzbWlzcz1tb2RhbEluc3RhbmNlLmRpc21pc3M7dmFyIGN0cmxJbnN0YW5jZSxjdHJsTG9jYWxzPXt9LHJlc29sdmVJdGVyPTE7bW9kYWxPcHRpb25zLmNvbnRyb2xsZXImJihjdHJsTG9jYWxzLiRzY29wZT1tb2RhbFNjb3BlLGN0cmxMb2NhbHMuJG1vZGFsSW5zdGFuY2U9bW9kYWxJbnN0YW5jZSxhbmd1bGFyLmZvckVhY2gobW9kYWxPcHRpb25zLnJlc29sdmUsZnVuY3Rpb24odmFsdWUsa2V5KXtjdHJsTG9jYWxzW2tleV09dHBsQW5kVmFyc1tyZXNvbHZlSXRlcisrXX0pLGN0cmxJbnN0YW5jZT0kY29udHJvbGxlcihtb2RhbE9wdGlvbnMuY29udHJvbGxlcixjdHJsTG9jYWxzKSxtb2RhbE9wdGlvbnMuY29udHJvbGxlckFzJiYobW9kYWxTY29wZVttb2RhbE9wdGlvbnMuY29udHJvbGxlckFzXT1jdHJsSW5zdGFuY2UpKSwkbW9kYWxTdGFjay5vcGVuKG1vZGFsSW5zdGFuY2Use3Njb3BlOm1vZGFsU2NvcGUsZGVmZXJyZWQ6bW9kYWxSZXN1bHREZWZlcnJlZCxjb250ZW50OnRwbEFuZFZhcnNbMF0sYmFja2Ryb3A6bW9kYWxPcHRpb25zLmJhY2tkcm9wLGtleWJvYXJkOm1vZGFsT3B0aW9ucy5rZXlib2FyZCxiYWNrZHJvcENsYXNzOm1vZGFsT3B0aW9ucy5iYWNrZHJvcENsYXNzLHdpbmRvd0NsYXNzOm1vZGFsT3B0aW9ucy53aW5kb3dDbGFzcyx3aW5kb3dUZW1wbGF0ZVVybDptb2RhbE9wdGlvbnMud2luZG93VGVtcGxhdGVVcmwsc2l6ZTptb2RhbE9wdGlvbnMuc2l6ZX0pfSxmdW5jdGlvbihyZWFzb24pe21vZGFsUmVzdWx0RGVmZXJyZWQucmVqZWN0KHJlYXNvbil9KSx0ZW1wbGF0ZUFuZFJlc29sdmVQcm9taXNlLnRoZW4oZnVuY3Rpb24oKXttb2RhbE9wZW5lZERlZmVycmVkLnJlc29sdmUoITApfSxmdW5jdGlvbigpe21vZGFsT3BlbmVkRGVmZXJyZWQucmVqZWN0KCExKX0pLG1vZGFsSW5zdGFuY2V9LCRtb2RhbH1dfTtyZXR1cm4gJG1vZGFsUHJvdmlkZXJ9KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnBhZ2luYXRpb24iLFtdKS5jb250cm9sbGVyKCJQYWdpbmF0aW9uQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLCIkcGFyc2UiLGZ1bmN0aW9uKCRzY29wZSwkYXR0cnMsJHBhcnNlKXt2YXIgc2VsZj10aGlzLG5nTW9kZWxDdHJsPXskc2V0Vmlld1ZhbHVlOmFuZ3VsYXIubm9vcH0sc2V0TnVtUGFnZXM9JGF0dHJzLm51bVBhZ2VzPyRwYXJzZSgkYXR0cnMubnVtUGFnZXMpLmFzc2lnbjphbmd1bGFyLm5vb3A7dGhpcy5pbml0PWZ1bmN0aW9uKG5nTW9kZWxDdHJsXyxjb25maWcpe25nTW9kZWxDdHJsPW5nTW9kZWxDdHJsXyx0aGlzLmNvbmZpZz1jb25maWcsbmdNb2RlbEN0cmwuJHJlbmRlcj1mdW5jdGlvbigpe3NlbGYucmVuZGVyKCl9LCRhdHRycy5pdGVtc1BlclBhZ2U/JHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMuaXRlbXNQZXJQYWdlKSxmdW5jdGlvbih2YWx1ZSl7c2VsZi5pdGVtc1BlclBhZ2U9cGFyc2VJbnQodmFsdWUsMTApLCRzY29wZS50b3RhbFBhZ2VzPXNlbGYuY2FsY3VsYXRlVG90YWxQYWdlcygpfSk6dGhpcy5pdGVtc1BlclBhZ2U9Y29uZmlnLml0ZW1zUGVyUGFnZX0sdGhpcy5jYWxjdWxhdGVUb3RhbFBhZ2VzPWZ1bmN0aW9uKCl7dmFyIHRvdGFsUGFnZXM9dGhpcy5pdGVtc1BlclBhZ2U8MT8xOk1hdGguY2VpbCgkc2NvcGUudG90YWxJdGVtcy90aGlzLml0ZW1zUGVyUGFnZSk7cmV0dXJuIE1hdGgubWF4KHRvdGFsUGFnZXN8fDAsMSl9LHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7JHNjb3BlLnBhZ2U9cGFyc2VJbnQobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSwxMCl8fDF9LCRzY29wZS5zZWxlY3RQYWdlPWZ1bmN0aW9uKHBhZ2UpeyRzY29wZS5wYWdlIT09cGFnZSYmcGFnZT4wJiZwYWdlPD0kc2NvcGUudG90YWxQYWdlcyYmKG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUocGFnZSksbmdNb2RlbEN0cmwuJHJlbmRlcigpKX0sJHNjb3BlLmdldFRleHQ9ZnVuY3Rpb24oa2V5KXtyZXR1cm4gJHNjb3BlW2tleSsiVGV4dCJdfHxzZWxmLmNvbmZpZ1trZXkrIlRleHQiXX0sJHNjb3BlLm5vUHJldmlvdXM9ZnVuY3Rpb24oKXtyZXR1cm4gMT09PSRzY29wZS5wYWdlfSwkc2NvcGUubm9OZXh0PWZ1bmN0aW9uKCl7cmV0dXJuICRzY29wZS5wYWdlPT09JHNjb3BlLnRvdGFsUGFnZXN9LCRzY29wZS4kd2F0Y2goInRvdGFsSXRlbXMiLGZ1bmN0aW9uKCl7JHNjb3BlLnRvdGFsUGFnZXM9c2VsZi5jYWxjdWxhdGVUb3RhbFBhZ2VzKCl9KSwkc2NvcGUuJHdhdGNoKCJ0b3RhbFBhZ2VzIixmdW5jdGlvbih2YWx1ZSl7c2V0TnVtUGFnZXMoJHNjb3BlLiRwYXJlbnQsdmFsdWUpLCRzY29wZS5wYWdlPnZhbHVlPyRzY29wZS5zZWxlY3RQYWdlKHZhbHVlKTpuZ01vZGVsQ3RybC4kcmVuZGVyKCl9KX1dKS5jb25zdGFudCgicGFnaW5hdGlvbkNvbmZpZyIse2l0ZW1zUGVyUGFnZToxMCxib3VuZGFyeUxpbmtzOiExLGRpcmVjdGlvbkxpbmtzOiEwLGZpcnN0VGV4dDoiRmlyc3QiLHByZXZpb3VzVGV4dDoiUHJldmlvdXMiLG5leHRUZXh0OiJOZXh0IixsYXN0VGV4dDoiTGFzdCIscm90YXRlOiEwfSkuZGlyZWN0aXZlKCJwYWdpbmF0aW9uIixbIiRwYXJzZSIsInBhZ2luYXRpb25Db25maWciLGZ1bmN0aW9uKCRwYXJzZSxwYWdpbmF0aW9uQ29uZmlnKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixzY29wZTp7dG90YWxJdGVtczoiPSIsZmlyc3RUZXh0OiJAIixwcmV2aW91c1RleHQ6IkAiLG5leHRUZXh0OiJAIixsYXN0VGV4dDoiQCJ9LHJlcXVpcmU6WyJwYWdpbmF0aW9uIiwiP25nTW9kZWwiXSxjb250cm9sbGVyOiJQYWdpbmF0aW9uQ29udHJvbGxlciIsdGVtcGxhdGVVcmw6InRlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sIixyZXBsYWNlOiEwLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjdHJscyl7ZnVuY3Rpb24gbWFrZVBhZ2UobnVtYmVyLHRleHQsaXNBY3RpdmUpe3JldHVybntudW1iZXI6bnVtYmVyLHRleHQ6dGV4dCxhY3RpdmU6aXNBY3RpdmV9fWZ1bmN0aW9uIGdldFBhZ2VzKGN1cnJlbnRQYWdlLHRvdGFsUGFnZXMpe3ZhciBwYWdlcz1bXSxzdGFydFBhZ2U9MSxlbmRQYWdlPXRvdGFsUGFnZXMsaXNNYXhTaXplZD1hbmd1bGFyLmlzRGVmaW5lZChtYXhTaXplKSYmdG90YWxQYWdlcz5tYXhTaXplO2lzTWF4U2l6ZWQmJihyb3RhdGU/KHN0YXJ0UGFnZT1NYXRoLm1heChjdXJyZW50UGFnZS1NYXRoLmZsb29yKG1heFNpemUvMiksMSksZW5kUGFnZT1zdGFydFBhZ2UrbWF4U2l6ZS0xLGVuZFBhZ2U+dG90YWxQYWdlcyYmKGVuZFBhZ2U9dG90YWxQYWdlcyxzdGFydFBhZ2U9ZW5kUGFnZS1tYXhTaXplKzEpKTooc3RhcnRQYWdlPShNYXRoLmNlaWwoY3VycmVudFBhZ2UvbWF4U2l6ZSktMSkqbWF4U2l6ZSsxLGVuZFBhZ2U9TWF0aC5taW4oc3RhcnRQYWdlK21heFNpemUtMSx0b3RhbFBhZ2VzKSkpO2Zvcih2YXIgbnVtYmVyPXN0YXJ0UGFnZTtlbmRQYWdlPj1udW1iZXI7bnVtYmVyKyspe3ZhciBwYWdlPW1ha2VQYWdlKG51bWJlcixudW1iZXIsbnVtYmVyPT09Y3VycmVudFBhZ2UpO3BhZ2VzLnB1c2gocGFnZSl9aWYoaXNNYXhTaXplZCYmIXJvdGF0ZSl7aWYoc3RhcnRQYWdlPjEpe3ZhciBwcmV2aW91c1BhZ2VTZXQ9bWFrZVBhZ2Uoc3RhcnRQYWdlLTEsIi4uLiIsITEpO3BhZ2VzLnVuc2hpZnQocHJldmlvdXNQYWdlU2V0KX1pZih0b3RhbFBhZ2VzPmVuZFBhZ2Upe3ZhciBuZXh0UGFnZVNldD1tYWtlUGFnZShlbmRQYWdlKzEsIi4uLiIsITEpO3BhZ2VzLnB1c2gobmV4dFBhZ2VTZXQpfX1yZXR1cm4gcGFnZXN9dmFyIHBhZ2luYXRpb25DdHJsPWN0cmxzWzBdLG5nTW9kZWxDdHJsPWN0cmxzWzFdO2lmKG5nTW9kZWxDdHJsKXt2YXIgbWF4U2l6ZT1hbmd1bGFyLmlzRGVmaW5lZChhdHRycy5tYXhTaXplKT9zY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLm1heFNpemUpOnBhZ2luYXRpb25Db25maWcubWF4U2l6ZSxyb3RhdGU9YW5ndWxhci5pc0RlZmluZWQoYXR0cnMucm90YXRlKT9zY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLnJvdGF0ZSk6cGFnaW5hdGlvbkNvbmZpZy5yb3RhdGU7c2NvcGUuYm91bmRhcnlMaW5rcz1hbmd1bGFyLmlzRGVmaW5lZChhdHRycy5ib3VuZGFyeUxpbmtzKT9zY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmJvdW5kYXJ5TGlua3MpOnBhZ2luYXRpb25Db25maWcuYm91bmRhcnlMaW5rcyxzY29wZS5kaXJlY3Rpb25MaW5rcz1hbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kaXJlY3Rpb25MaW5rcyk/c2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5kaXJlY3Rpb25MaW5rcyk6cGFnaW5hdGlvbkNvbmZpZy5kaXJlY3Rpb25MaW5rcyxwYWdpbmF0aW9uQ3RybC5pbml0KG5nTW9kZWxDdHJsLHBhZ2luYXRpb25Db25maWcpLGF0dHJzLm1heFNpemUmJnNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZShhdHRycy5tYXhTaXplKSxmdW5jdGlvbih2YWx1ZSl7bWF4U2l6ZT1wYXJzZUludCh2YWx1ZSwxMCkscGFnaW5hdGlvbkN0cmwucmVuZGVyKCl9KTt2YXIgb3JpZ2luYWxSZW5kZXI9cGFnaW5hdGlvbkN0cmwucmVuZGVyO3BhZ2luYXRpb25DdHJsLnJlbmRlcj1mdW5jdGlvbigpe29yaWdpbmFsUmVuZGVyKCksc2NvcGUucGFnZT4wJiZzY29wZS5wYWdlPD1zY29wZS50b3RhbFBhZ2VzJiYoc2NvcGUucGFnZXM9Z2V0UGFnZXMoc2NvcGUucGFnZSxzY29wZS50b3RhbFBhZ2VzKSl9fX19fV0pLmNvbnN0YW50KCJwYWdlckNvbmZpZyIse2l0ZW1zUGVyUGFnZToxMCxwcmV2aW91c1RleHQ6IsKrIFByZXZpb3VzIixuZXh0VGV4dDoiTmV4dCDCuyIsYWxpZ246ITB9KS5kaXJlY3RpdmUoInBhZ2VyIixbInBhZ2VyQ29uZmlnIixmdW5jdGlvbihwYWdlckNvbmZpZyl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsc2NvcGU6e3RvdGFsSXRlbXM6Ij0iLHByZXZpb3VzVGV4dDoiQCIsbmV4dFRleHQ6IkAifSxyZXF1aXJlOlsicGFnZXIiLCI/bmdNb2RlbCJdLGNvbnRyb2xsZXI6IlBhZ2luYXRpb25Db250cm9sbGVyIix0ZW1wbGF0ZVVybDoidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sIixyZXBsYWNlOiEwLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjdHJscyl7dmFyIHBhZ2luYXRpb25DdHJsPWN0cmxzWzBdLG5nTW9kZWxDdHJsPWN0cmxzWzFdO25nTW9kZWxDdHJsJiYoc2NvcGUuYWxpZ249YW5ndWxhci5pc0RlZmluZWQoYXR0cnMuYWxpZ24pP3Njb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuYWxpZ24pOnBhZ2VyQ29uZmlnLmFsaWduLHBhZ2luYXRpb25DdHJsLmluaXQobmdNb2RlbEN0cmwscGFnZXJDb25maWcpKX19fV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAudG9vbHRpcCIsWyJ1aS5ib290c3RyYXAucG9zaXRpb24iLCJ1aS5ib290c3RyYXAuYmluZEh0bWwiXSkucHJvdmlkZXIoIiR0b29sdGlwIixmdW5jdGlvbigpe2Z1bmN0aW9uIHNuYWtlX2Nhc2UobmFtZSl7dmFyIHJlZ2V4cD0vW0EtWl0vZyxzZXBhcmF0b3I9Ii0iO3JldHVybiBuYW1lLnJlcGxhY2UocmVnZXhwLGZ1bmN0aW9uKGxldHRlcixwb3Mpe3JldHVybihwb3M/c2VwYXJhdG9yOiIiKStsZXR0ZXIudG9Mb3dlckNhc2UoKX0pfXZhciBkZWZhdWx0T3B0aW9ucz17cGxhY2VtZW50OiJ0b3AiLGFuaW1hdGlvbjohMCxwb3B1cERlbGF5OjB9LHRyaWdnZXJNYXA9e21vdXNlZW50ZXI6Im1vdXNlbGVhdmUiLGNsaWNrOiJjbGljayIsZm9jdXM6ImJsdXIifSxnbG9iYWxPcHRpb25zPXt9O3RoaXMub3B0aW9ucz1mdW5jdGlvbih2YWx1ZSl7YW5ndWxhci5leHRlbmQoZ2xvYmFsT3B0aW9ucyx2YWx1ZSl9LHRoaXMuc2V0VHJpZ2dlcnM9ZnVuY3Rpb24odHJpZ2dlcnMpe2FuZ3VsYXIuZXh0ZW5kKHRyaWdnZXJNYXAsdHJpZ2dlcnMpfSx0aGlzLiRnZXQ9WyIkd2luZG93IiwiJGNvbXBpbGUiLCIkdGltZW91dCIsIiRwYXJzZSIsIiRkb2N1bWVudCIsIiRwb3NpdGlvbiIsIiRpbnRlcnBvbGF0ZSIsZnVuY3Rpb24oJHdpbmRvdywkY29tcGlsZSwkdGltZW91dCwkcGFyc2UsJGRvY3VtZW50LCRwb3NpdGlvbiwkaW50ZXJwb2xhdGUpe3JldHVybiBmdW5jdGlvbih0eXBlLHByZWZpeCxkZWZhdWx0VHJpZ2dlclNob3cpe2Z1bmN0aW9uIGdldFRyaWdnZXJzKHRyaWdnZXIpe3ZhciBzaG93PXRyaWdnZXJ8fG9wdGlvbnMudHJpZ2dlcnx8ZGVmYXVsdFRyaWdnZXJTaG93LGhpZGU9dHJpZ2dlck1hcFtzaG93XXx8c2hvdztyZXR1cm57c2hvdzpzaG93LGhpZGU6aGlkZX19dmFyIG9wdGlvbnM9YW5ndWxhci5leHRlbmQoe30sZGVmYXVsdE9wdGlvbnMsZ2xvYmFsT3B0aW9ucyksZGlyZWN0aXZlTmFtZT1zbmFrZV9jYXNlKHR5cGUpLHN0YXJ0U3ltPSRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCgpLGVuZFN5bT0kaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCksdGVtcGxhdGU9IjxkaXYgIitkaXJlY3RpdmVOYW1lKyctcG9wdXAgdGl0bGU9Iicrc3RhcnRTeW0rInR0X3RpdGxlIitlbmRTeW0rJyIgY29udGVudD0iJytzdGFydFN5bSsidHRfY29udGVudCIrZW5kU3ltKyciIHBsYWNlbWVudD0iJytzdGFydFN5bSsidHRfcGxhY2VtZW50IitlbmRTeW0rJyIgYW5pbWF0aW9uPSJ0dF9hbmltYXRpb24iIGlzLW9wZW49InR0X2lzT3BlbiI+PC9kaXY+JztyZXR1cm57cmVzdHJpY3Q6IkVBIixzY29wZTohMCxjb21waWxlOmZ1bmN0aW9uKCl7dmFyIHRvb2x0aXBMaW5rZXI9JGNvbXBpbGUodGVtcGxhdGUpO3JldHVybiBmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzKXtmdW5jdGlvbiB0b2dnbGVUb29sdGlwQmluZCgpe3Njb3BlLnR0X2lzT3Blbj9oaWRlVG9vbHRpcEJpbmQoKTpzaG93VG9vbHRpcEJpbmQoKX1mdW5jdGlvbiBzaG93VG9vbHRpcEJpbmQoKXsoIWhhc0VuYWJsZUV4cHx8c2NvcGUuJGV2YWwoYXR0cnNbcHJlZml4KyJFbmFibGUiXSkpJiYoc2NvcGUudHRfcG9wdXBEZWxheT9wb3B1cFRpbWVvdXR8fChwb3B1cFRpbWVvdXQ9JHRpbWVvdXQoc2hvdyxzY29wZS50dF9wb3B1cERlbGF5LCExKSxwb3B1cFRpbWVvdXQudGhlbihmdW5jdGlvbihyZXBvc2l0aW9uKXtyZXBvc2l0aW9uKCl9KSk6c2hvdygpKCkpfWZ1bmN0aW9uIGhpZGVUb29sdGlwQmluZCgpe3Njb3BlLiRhcHBseShmdW5jdGlvbigpe2hpZGUoKX0pfWZ1bmN0aW9uIHNob3coKXtyZXR1cm4gcG9wdXBUaW1lb3V0PW51bGwsdHJhbnNpdGlvblRpbWVvdXQmJigkdGltZW91dC5jYW5jZWwodHJhbnNpdGlvblRpbWVvdXQpLHRyYW5zaXRpb25UaW1lb3V0PW51bGwpLHNjb3BlLnR0X2NvbnRlbnQ/KGNyZWF0ZVRvb2x0aXAoKSx0b29sdGlwLmNzcyh7dG9wOjAsbGVmdDowLGRpc3BsYXk6ImJsb2NrIn0pLGFwcGVuZFRvQm9keT8kZG9jdW1lbnQuZmluZCgiYm9keSIpLmFwcGVuZCh0b29sdGlwKTplbGVtZW50LmFmdGVyKHRvb2x0aXApLHBvc2l0aW9uVG9vbHRpcCgpLHNjb3BlLnR0X2lzT3Blbj0hMCxzY29wZS4kZGlnZXN0KCkscG9zaXRpb25Ub29sdGlwKTphbmd1bGFyLm5vb3B9ZnVuY3Rpb24gaGlkZSgpe3Njb3BlLnR0X2lzT3Blbj0hMSwkdGltZW91dC5jYW5jZWwocG9wdXBUaW1lb3V0KSxwb3B1cFRpbWVvdXQ9bnVsbCxzY29wZS50dF9hbmltYXRpb24/dHJhbnNpdGlvblRpbWVvdXR8fCh0cmFuc2l0aW9uVGltZW91dD0kdGltZW91dChyZW1vdmVUb29sdGlwLDUwMCkpOnJlbW92ZVRvb2x0aXAoKX1mdW5jdGlvbiBjcmVhdGVUb29sdGlwKCl7dG9vbHRpcCYmcmVtb3ZlVG9vbHRpcCgpLHRvb2x0aXA9dG9vbHRpcExpbmtlcihzY29wZSxmdW5jdGlvbigpe30pLHNjb3BlLiRkaWdlc3QoKX1mdW5jdGlvbiByZW1vdmVUb29sdGlwKCl7dHJhbnNpdGlvblRpbWVvdXQ9bnVsbCx0b29sdGlwJiYodG9vbHRpcC5yZW1vdmUoKSx0b29sdGlwPW51bGwpfXZhciB0b29sdGlwLHRyYW5zaXRpb25UaW1lb3V0LHBvcHVwVGltZW91dCxhcHBlbmRUb0JvZHk9YW5ndWxhci5pc0RlZmluZWQob3B0aW9ucy5hcHBlbmRUb0JvZHkpP29wdGlvbnMuYXBwZW5kVG9Cb2R5OiExLHRyaWdnZXJzPWdldFRyaWdnZXJzKHZvaWQgMCksaGFzRW5hYmxlRXhwPWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzW3ByZWZpeCsiRW5hYmxlIl0pLHBvc2l0aW9uVG9vbHRpcD1mdW5jdGlvbigpe3ZhciB0dFBvc2l0aW9uPSRwb3NpdGlvbi5wb3NpdGlvbkVsZW1lbnRzKGVsZW1lbnQsdG9vbHRpcCxzY29wZS50dF9wbGFjZW1lbnQsYXBwZW5kVG9Cb2R5KTt0dFBvc2l0aW9uLnRvcCs9InB4Iix0dFBvc2l0aW9uLmxlZnQrPSJweCIsdG9vbHRpcC5jc3ModHRQb3NpdGlvbil9O3Njb3BlLnR0X2lzT3Blbj0hMSxhdHRycy4kb2JzZXJ2ZSh0eXBlLGZ1bmN0aW9uKHZhbCl7c2NvcGUudHRfY29udGVudD12YWwsIXZhbCYmc2NvcGUudHRfaXNPcGVuJiZoaWRlKCl9KSxhdHRycy4kb2JzZXJ2ZShwcmVmaXgrIlRpdGxlIixmdW5jdGlvbih2YWwpe3Njb3BlLnR0X3RpdGxlPXZhbH0pLGF0dHJzLiRvYnNlcnZlKHByZWZpeCsiUGxhY2VtZW50IixmdW5jdGlvbih2YWwpe3Njb3BlLnR0X3BsYWNlbWVudD1hbmd1bGFyLmlzRGVmaW5lZCh2YWwpP3ZhbDpvcHRpb25zLnBsYWNlbWVudH0pLGF0dHJzLiRvYnNlcnZlKHByZWZpeCsiUG9wdXBEZWxheSIsZnVuY3Rpb24odmFsKXt2YXIgZGVsYXk9cGFyc2VJbnQodmFsLDEwKTtzY29wZS50dF9wb3B1cERlbGF5PWlzTmFOKGRlbGF5KT9vcHRpb25zLnBvcHVwRGVsYXk6ZGVsYXl9KTt2YXIgdW5yZWdpc3RlclRyaWdnZXJzPWZ1bmN0aW9uKCl7ZWxlbWVudC51bmJpbmQodHJpZ2dlcnMuc2hvdyxzaG93VG9vbHRpcEJpbmQpLGVsZW1lbnQudW5iaW5kKHRyaWdnZXJzLmhpZGUsaGlkZVRvb2x0aXBCaW5kKX07YXR0cnMuJG9ic2VydmUocHJlZml4KyJUcmlnZ2VyIixmdW5jdGlvbih2YWwpe3VucmVnaXN0ZXJUcmlnZ2VycygpLHRyaWdnZXJzPWdldFRyaWdnZXJzKHZhbCksdHJpZ2dlcnMuc2hvdz09PXRyaWdnZXJzLmhpZGU/ZWxlbWVudC5iaW5kKHRyaWdnZXJzLnNob3csdG9nZ2xlVG9vbHRpcEJpbmQpOihlbGVtZW50LmJpbmQodHJpZ2dlcnMuc2hvdyxzaG93VG9vbHRpcEJpbmQpLGVsZW1lbnQuYmluZCh0cmlnZ2Vycy5oaWRlLGhpZGVUb29sdGlwQmluZCkpfSk7dmFyIGFuaW1hdGlvbj1zY29wZS4kZXZhbChhdHRyc1twcmVmaXgrIkFuaW1hdGlvbiJdKTtzY29wZS50dF9hbmltYXRpb249YW5ndWxhci5pc0RlZmluZWQoYW5pbWF0aW9uKT8hIWFuaW1hdGlvbjpvcHRpb25zLmFuaW1hdGlvbixhdHRycy4kb2JzZXJ2ZShwcmVmaXgrIkFwcGVuZFRvQm9keSIsZnVuY3Rpb24odmFsKXthcHBlbmRUb0JvZHk9YW5ndWxhci5pc0RlZmluZWQodmFsKT8kcGFyc2UodmFsKShzY29wZSk6YXBwZW5kVG9Cb2R5fSksYXBwZW5kVG9Cb2R5JiZzY29wZS4kb24oIiRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MiLGZ1bmN0aW9uKCl7c2NvcGUudHRfaXNPcGVuJiZoaWRlKCl9KSxzY29wZS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpeyR0aW1lb3V0LmNhbmNlbCh0cmFuc2l0aW9uVGltZW91dCksJHRpbWVvdXQuY2FuY2VsKHBvcHVwVGltZW91dCksdW5yZWdpc3RlclRyaWdnZXJzKCkscmVtb3ZlVG9vbHRpcCgpfSl9fX19fV19KS5kaXJlY3RpdmUoInRvb2x0aXBQb3B1cCIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHNjb3BlOntjb250ZW50OiJAIixwbGFjZW1lbnQ6IkAiLGFuaW1hdGlvbjoiJiIsaXNPcGVuOiImIn0sdGVtcGxhdGVVcmw6InRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sIn0KfSkuZGlyZWN0aXZlKCJ0b29sdGlwIixbIiR0b29sdGlwIixmdW5jdGlvbigkdG9vbHRpcCl7cmV0dXJuICR0b29sdGlwKCJ0b29sdGlwIiwidG9vbHRpcCIsIm1vdXNlZW50ZXIiKX1dKS5kaXJlY3RpdmUoInRvb2x0aXBIdG1sVW5zYWZlUG9wdXAiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCxzY29wZTp7Y29udGVudDoiQCIscGxhY2VtZW50OiJAIixhbmltYXRpb246IiYiLGlzT3BlbjoiJiJ9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC11bnNhZmUtcG9wdXAuaHRtbCJ9fSkuZGlyZWN0aXZlKCJ0b29sdGlwSHRtbFVuc2FmZSIsWyIkdG9vbHRpcCIsZnVuY3Rpb24oJHRvb2x0aXApe3JldHVybiAkdG9vbHRpcCgidG9vbHRpcEh0bWxVbnNhZmUiLCJ0b29sdGlwIiwibW91c2VlbnRlciIpfV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAucG9wb3ZlciIsWyJ1aS5ib290c3RyYXAudG9vbHRpcCJdKS5kaXJlY3RpdmUoInBvcG92ZXJQb3B1cCIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHNjb3BlOnt0aXRsZToiQCIsY29udGVudDoiQCIscGxhY2VtZW50OiJAIixhbmltYXRpb246IiYiLGlzT3BlbjoiJiJ9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXIuaHRtbCJ9fSkuZGlyZWN0aXZlKCJwb3BvdmVyIixbIiR0b29sdGlwIixmdW5jdGlvbigkdG9vbHRpcCl7cmV0dXJuICR0b29sdGlwKCJwb3BvdmVyIiwicG9wb3ZlciIsImNsaWNrIil9XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5wcm9ncmVzc2JhciIsW10pLmNvbnN0YW50KCJwcm9ncmVzc0NvbmZpZyIse2FuaW1hdGU6ITAsbWF4OjEwMH0pLmNvbnRyb2xsZXIoIlByb2dyZXNzQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLCJwcm9ncmVzc0NvbmZpZyIsZnVuY3Rpb24oJHNjb3BlLCRhdHRycyxwcm9ncmVzc0NvbmZpZyl7dmFyIHNlbGY9dGhpcyxhbmltYXRlPWFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5hbmltYXRlKT8kc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuYW5pbWF0ZSk6cHJvZ3Jlc3NDb25maWcuYW5pbWF0ZTt0aGlzLmJhcnM9W10sJHNjb3BlLm1heD1hbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubWF4KT8kc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMubWF4KTpwcm9ncmVzc0NvbmZpZy5tYXgsdGhpcy5hZGRCYXI9ZnVuY3Rpb24oYmFyLGVsZW1lbnQpe2FuaW1hdGV8fGVsZW1lbnQuY3NzKHt0cmFuc2l0aW9uOiJub25lIn0pLHRoaXMuYmFycy5wdXNoKGJhciksYmFyLiR3YXRjaCgidmFsdWUiLGZ1bmN0aW9uKHZhbHVlKXtiYXIucGVyY2VudD0rKDEwMCp2YWx1ZS8kc2NvcGUubWF4KS50b0ZpeGVkKDIpfSksYmFyLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7ZWxlbWVudD1udWxsLHNlbGYucmVtb3ZlQmFyKGJhcil9KX0sdGhpcy5yZW1vdmVCYXI9ZnVuY3Rpb24oYmFyKXt0aGlzLmJhcnMuc3BsaWNlKHRoaXMuYmFycy5pbmRleE9mKGJhciksMSl9fV0pLmRpcmVjdGl2ZSgicHJvZ3Jlc3MiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0cmFuc2NsdWRlOiEwLGNvbnRyb2xsZXI6IlByb2dyZXNzQ29udHJvbGxlciIscmVxdWlyZToicHJvZ3Jlc3MiLHNjb3BlOnt9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sIn19KS5kaXJlY3RpdmUoImJhciIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHRyYW5zY2x1ZGU6ITAscmVxdWlyZToiXnByb2dyZXNzIixzY29wZTp7dmFsdWU6Ij0iLHR5cGU6IkAifSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWwiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxwcm9ncmVzc0N0cmwpe3Byb2dyZXNzQ3RybC5hZGRCYXIoc2NvcGUsZWxlbWVudCl9fX0pLmRpcmVjdGl2ZSgicHJvZ3Jlc3NiYXIiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0cmFuc2NsdWRlOiEwLGNvbnRyb2xsZXI6IlByb2dyZXNzQ29udHJvbGxlciIsc2NvcGU6e3ZhbHVlOiI9Iix0eXBlOiJAIn0sdGVtcGxhdGVVcmw6InRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmh0bWwiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxwcm9ncmVzc0N0cmwpe3Byb2dyZXNzQ3RybC5hZGRCYXIoc2NvcGUsYW5ndWxhci5lbGVtZW50KGVsZW1lbnQuY2hpbGRyZW4oKVswXSkpfX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnJhdGluZyIsW10pLmNvbnN0YW50KCJyYXRpbmdDb25maWciLHttYXg6NSxzdGF0ZU9uOm51bGwsc3RhdGVPZmY6bnVsbH0pLmNvbnRyb2xsZXIoIlJhdGluZ0NvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGF0dHJzIiwicmF0aW5nQ29uZmlnIixmdW5jdGlvbigkc2NvcGUsJGF0dHJzLHJhdGluZ0NvbmZpZyl7dmFyIG5nTW9kZWxDdHJsPXskc2V0Vmlld1ZhbHVlOmFuZ3VsYXIubm9vcH07dGhpcy5pbml0PWZ1bmN0aW9uKG5nTW9kZWxDdHJsXyl7bmdNb2RlbEN0cmw9bmdNb2RlbEN0cmxfLG5nTW9kZWxDdHJsLiRyZW5kZXI9dGhpcy5yZW5kZXIsdGhpcy5zdGF0ZU9uPWFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5zdGF0ZU9uKT8kc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuc3RhdGVPbik6cmF0aW5nQ29uZmlnLnN0YXRlT24sdGhpcy5zdGF0ZU9mZj1hbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuc3RhdGVPZmYpPyRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5zdGF0ZU9mZik6cmF0aW5nQ29uZmlnLnN0YXRlT2ZmO3ZhciByYXRpbmdTdGF0ZXM9YW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnJhdGluZ1N0YXRlcyk/JHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnJhdGluZ1N0YXRlcyk6bmV3IEFycmF5KGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5tYXgpPyRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5tYXgpOnJhdGluZ0NvbmZpZy5tYXgpOyRzY29wZS5yYW5nZT10aGlzLmJ1aWxkVGVtcGxhdGVPYmplY3RzKHJhdGluZ1N0YXRlcyl9LHRoaXMuYnVpbGRUZW1wbGF0ZU9iamVjdHM9ZnVuY3Rpb24oc3RhdGVzKXtmb3IodmFyIGk9MCxuPXN0YXRlcy5sZW5ndGg7bj5pO2krKylzdGF0ZXNbaV09YW5ndWxhci5leHRlbmQoe2luZGV4Oml9LHtzdGF0ZU9uOnRoaXMuc3RhdGVPbixzdGF0ZU9mZjp0aGlzLnN0YXRlT2ZmfSxzdGF0ZXNbaV0pO3JldHVybiBzdGF0ZXN9LCRzY29wZS5yYXRlPWZ1bmN0aW9uKHZhbHVlKXshJHNjb3BlLnJlYWRvbmx5JiZ2YWx1ZT49MCYmdmFsdWU8PSRzY29wZS5yYW5nZS5sZW5ndGgmJihuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKHZhbHVlKSxuZ01vZGVsQ3RybC4kcmVuZGVyKCkpfSwkc2NvcGUuZW50ZXI9ZnVuY3Rpb24odmFsdWUpeyRzY29wZS5yZWFkb25seXx8KCRzY29wZS52YWx1ZT12YWx1ZSksJHNjb3BlLm9uSG92ZXIoe3ZhbHVlOnZhbHVlfSl9LCRzY29wZS5yZXNldD1mdW5jdGlvbigpeyRzY29wZS52YWx1ZT1uZ01vZGVsQ3RybC4kdmlld1ZhbHVlLCRzY29wZS5vbkxlYXZlKCl9LCRzY29wZS5vbktleWRvd249ZnVuY3Rpb24oZXZ0KXsvKDM3fDM4fDM5fDQwKS8udGVzdChldnQud2hpY2gpJiYoZXZ0LnByZXZlbnREZWZhdWx0KCksZXZ0LnN0b3BQcm9wYWdhdGlvbigpLCRzY29wZS5yYXRlKCRzY29wZS52YWx1ZSsoMzg9PT1ldnQud2hpY2h8fDM5PT09ZXZ0LndoaWNoPzE6LTEpKSl9LHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7JHNjb3BlLnZhbHVlPW5nTW9kZWxDdHJsLiR2aWV3VmFsdWV9fV0pLmRpcmVjdGl2ZSgicmF0aW5nIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcXVpcmU6WyJyYXRpbmciLCJuZ01vZGVsIl0sc2NvcGU6e3JlYWRvbmx5OiI9PyIsb25Ib3ZlcjoiJiIsb25MZWF2ZToiJiJ9LGNvbnRyb2xsZXI6IlJhdGluZ0NvbnRyb2xsZXIiLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9yYXRpbmcvcmF0aW5nLmh0bWwiLHJlcGxhY2U6ITAsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGN0cmxzKXt2YXIgcmF0aW5nQ3RybD1jdHJsc1swXSxuZ01vZGVsQ3RybD1jdHJsc1sxXTtuZ01vZGVsQ3RybCYmcmF0aW5nQ3RybC5pbml0KG5nTW9kZWxDdHJsKX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC50YWJzIixbXSkuY29udHJvbGxlcigiVGFic2V0Q29udHJvbGxlciIsWyIkc2NvcGUiLGZ1bmN0aW9uKCRzY29wZSl7dmFyIGN0cmw9dGhpcyx0YWJzPWN0cmwudGFicz0kc2NvcGUudGFicz1bXTtjdHJsLnNlbGVjdD1mdW5jdGlvbihzZWxlY3RlZFRhYil7YW5ndWxhci5mb3JFYWNoKHRhYnMsZnVuY3Rpb24odGFiKXt0YWIuYWN0aXZlJiZ0YWIhPT1zZWxlY3RlZFRhYiYmKHRhYi5hY3RpdmU9ITEsdGFiLm9uRGVzZWxlY3QoKSl9KSxzZWxlY3RlZFRhYi5hY3RpdmU9ITAsc2VsZWN0ZWRUYWIub25TZWxlY3QoKX0sY3RybC5hZGRUYWI9ZnVuY3Rpb24odGFiKXt0YWJzLnB1c2godGFiKSwxPT09dGFicy5sZW5ndGg/dGFiLmFjdGl2ZT0hMDp0YWIuYWN0aXZlJiZjdHJsLnNlbGVjdCh0YWIpfSxjdHJsLnJlbW92ZVRhYj1mdW5jdGlvbih0YWIpe3ZhciBpbmRleD10YWJzLmluZGV4T2YodGFiKTtpZih0YWIuYWN0aXZlJiZ0YWJzLmxlbmd0aD4xKXt2YXIgbmV3QWN0aXZlSW5kZXg9aW5kZXg9PXRhYnMubGVuZ3RoLTE/aW5kZXgtMTppbmRleCsxO2N0cmwuc2VsZWN0KHRhYnNbbmV3QWN0aXZlSW5kZXhdKX10YWJzLnNwbGljZShpbmRleCwxKX19XSkuZGlyZWN0aXZlKCJ0YWJzZXQiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsdHJhbnNjbHVkZTohMCxyZXBsYWNlOiEwLHNjb3BlOnt0eXBlOiJAIn0sY29udHJvbGxlcjoiVGFic2V0Q29udHJvbGxlciIsdGVtcGxhdGVVcmw6InRlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWwiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyl7c2NvcGUudmVydGljYWw9YW5ndWxhci5pc0RlZmluZWQoYXR0cnMudmVydGljYWwpP3Njb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMudmVydGljYWwpOiExLHNjb3BlLmp1c3RpZmllZD1hbmd1bGFyLmlzRGVmaW5lZChhdHRycy5qdXN0aWZpZWQpP3Njb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuanVzdGlmaWVkKTohMX19fSkuZGlyZWN0aXZlKCJ0YWIiLFsiJHBhcnNlIixmdW5jdGlvbigkcGFyc2Upe3JldHVybntyZXF1aXJlOiJedGFic2V0IixyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL3RhYnMvdGFiLmh0bWwiLHRyYW5zY2x1ZGU6ITAsc2NvcGU6e2FjdGl2ZToiPT8iLGhlYWRpbmc6IkAiLG9uU2VsZWN0OiImc2VsZWN0IixvbkRlc2VsZWN0OiImZGVzZWxlY3QifSxjb250cm9sbGVyOmZ1bmN0aW9uKCl7fSxjb21waWxlOmZ1bmN0aW9uKGVsbSxhdHRycyx0cmFuc2NsdWRlKXtyZXR1cm4gZnVuY3Rpb24oc2NvcGUsZWxtLGF0dHJzLHRhYnNldEN0cmwpe3Njb3BlLiR3YXRjaCgiYWN0aXZlIixmdW5jdGlvbihhY3RpdmUpe2FjdGl2ZSYmdGFic2V0Q3RybC5zZWxlY3Qoc2NvcGUpfSksc2NvcGUuZGlzYWJsZWQ9ITEsYXR0cnMuZGlzYWJsZWQmJnNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZShhdHRycy5kaXNhYmxlZCksZnVuY3Rpb24odmFsdWUpe3Njb3BlLmRpc2FibGVkPSEhdmFsdWV9KSxzY29wZS5zZWxlY3Q9ZnVuY3Rpb24oKXtzY29wZS5kaXNhYmxlZHx8KHNjb3BlLmFjdGl2ZT0hMCl9LHRhYnNldEN0cmwuYWRkVGFiKHNjb3BlKSxzY29wZS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe3RhYnNldEN0cmwucmVtb3ZlVGFiKHNjb3BlKX0pLHNjb3BlLiR0cmFuc2NsdWRlRm49dHJhbnNjbHVkZX19fX1dKS5kaXJlY3RpdmUoInRhYkhlYWRpbmdUcmFuc2NsdWRlIixbZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkEiLHJlcXVpcmU6Il50YWIiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxtKXtzY29wZS4kd2F0Y2goImhlYWRpbmdFbGVtZW50IixmdW5jdGlvbihoZWFkaW5nKXtoZWFkaW5nJiYoZWxtLmh0bWwoIiIpLGVsbS5hcHBlbmQoaGVhZGluZykpfSl9fX1dKS5kaXJlY3RpdmUoInRhYkNvbnRlbnRUcmFuc2NsdWRlIixmdW5jdGlvbigpe2Z1bmN0aW9uIGlzVGFiSGVhZGluZyhub2RlKXtyZXR1cm4gbm9kZS50YWdOYW1lJiYobm9kZS5oYXNBdHRyaWJ1dGUoInRhYi1oZWFkaW5nIil8fG5vZGUuaGFzQXR0cmlidXRlKCJkYXRhLXRhYi1oZWFkaW5nIil8fCJ0YWItaGVhZGluZyI9PT1ub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKXx8ImRhdGEtdGFiLWhlYWRpbmciPT09bm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpfXJldHVybntyZXN0cmljdDoiQSIscmVxdWlyZToiXnRhYnNldCIsbGluazpmdW5jdGlvbihzY29wZSxlbG0sYXR0cnMpe3ZhciB0YWI9c2NvcGUuJGV2YWwoYXR0cnMudGFiQ29udGVudFRyYW5zY2x1ZGUpO3RhYi4kdHJhbnNjbHVkZUZuKHRhYi4kcGFyZW50LGZ1bmN0aW9uKGNvbnRlbnRzKXthbmd1bGFyLmZvckVhY2goY29udGVudHMsZnVuY3Rpb24obm9kZSl7aXNUYWJIZWFkaW5nKG5vZGUpP3RhYi5oZWFkaW5nRWxlbWVudD1ub2RlOmVsbS5hcHBlbmQobm9kZSl9KX0pfX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnRpbWVwaWNrZXIiLFtdKS5jb25zdGFudCgidGltZXBpY2tlckNvbmZpZyIse2hvdXJTdGVwOjEsbWludXRlU3RlcDoxLHNob3dNZXJpZGlhbjohMCxtZXJpZGlhbnM6bnVsbCxyZWFkb25seUlucHV0OiExLG1vdXNld2hlZWw6ITB9KS5jb250cm9sbGVyKCJUaW1lcGlja2VyQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLCIkcGFyc2UiLCIkbG9nIiwiJGxvY2FsZSIsInRpbWVwaWNrZXJDb25maWciLGZ1bmN0aW9uKCRzY29wZSwkYXR0cnMsJHBhcnNlLCRsb2csJGxvY2FsZSx0aW1lcGlja2VyQ29uZmlnKXtmdW5jdGlvbiBnZXRIb3Vyc0Zyb21UZW1wbGF0ZSgpe3ZhciBob3Vycz1wYXJzZUludCgkc2NvcGUuaG91cnMsMTApLHZhbGlkPSRzY29wZS5zaG93TWVyaWRpYW4/aG91cnM+MCYmMTM+aG91cnM6aG91cnM+PTAmJjI0PmhvdXJzO3JldHVybiB2YWxpZD8oJHNjb3BlLnNob3dNZXJpZGlhbiYmKDEyPT09aG91cnMmJihob3Vycz0wKSwkc2NvcGUubWVyaWRpYW49PT1tZXJpZGlhbnNbMV0mJihob3Vycys9MTIpKSxob3Vycyk6dm9pZCAwfWZ1bmN0aW9uIGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKXt2YXIgbWludXRlcz1wYXJzZUludCgkc2NvcGUubWludXRlcywxMCk7cmV0dXJuIG1pbnV0ZXM+PTAmJjYwPm1pbnV0ZXM/bWludXRlczp2b2lkIDB9ZnVuY3Rpb24gcGFkKHZhbHVlKXtyZXR1cm4gYW5ndWxhci5pc0RlZmluZWQodmFsdWUpJiZ2YWx1ZS50b1N0cmluZygpLmxlbmd0aDwyPyIwIit2YWx1ZTp2YWx1ZX1mdW5jdGlvbiByZWZyZXNoKGtleWJvYXJkQ2hhbmdlKXttYWtlVmFsaWQoKSxuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKG5ldyBEYXRlKHNlbGVjdGVkKSksdXBkYXRlVGVtcGxhdGUoa2V5Ym9hcmRDaGFuZ2UpfWZ1bmN0aW9uIG1ha2VWYWxpZCgpe25nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgidGltZSIsITApLCRzY29wZS5pbnZhbGlkSG91cnM9ITEsJHNjb3BlLmludmFsaWRNaW51dGVzPSExfWZ1bmN0aW9uIHVwZGF0ZVRlbXBsYXRlKGtleWJvYXJkQ2hhbmdlKXt2YXIgaG91cnM9c2VsZWN0ZWQuZ2V0SG91cnMoKSxtaW51dGVzPXNlbGVjdGVkLmdldE1pbnV0ZXMoKTskc2NvcGUuc2hvd01lcmlkaWFuJiYoaG91cnM9MD09PWhvdXJzfHwxMj09PWhvdXJzPzEyOmhvdXJzJTEyKSwkc2NvcGUuaG91cnM9ImgiPT09a2V5Ym9hcmRDaGFuZ2U/aG91cnM6cGFkKGhvdXJzKSwkc2NvcGUubWludXRlcz0ibSI9PT1rZXlib2FyZENoYW5nZT9taW51dGVzOnBhZChtaW51dGVzKSwkc2NvcGUubWVyaWRpYW49c2VsZWN0ZWQuZ2V0SG91cnMoKTwxMj9tZXJpZGlhbnNbMF06bWVyaWRpYW5zWzFdfWZ1bmN0aW9uIGFkZE1pbnV0ZXMobWludXRlcyl7dmFyIGR0PW5ldyBEYXRlKHNlbGVjdGVkLmdldFRpbWUoKSs2ZTQqbWludXRlcyk7c2VsZWN0ZWQuc2V0SG91cnMoZHQuZ2V0SG91cnMoKSxkdC5nZXRNaW51dGVzKCkpLHJlZnJlc2goKX12YXIgc2VsZWN0ZWQ9bmV3IERhdGUsbmdNb2RlbEN0cmw9eyRzZXRWaWV3VmFsdWU6YW5ndWxhci5ub29wfSxtZXJpZGlhbnM9YW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLm1lcmlkaWFucyk/JHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLm1lcmlkaWFucyk6dGltZXBpY2tlckNvbmZpZy5tZXJpZGlhbnN8fCRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5BTVBNUzt0aGlzLmluaXQ9ZnVuY3Rpb24obmdNb2RlbEN0cmxfLGlucHV0cyl7bmdNb2RlbEN0cmw9bmdNb2RlbEN0cmxfLG5nTW9kZWxDdHJsLiRyZW5kZXI9dGhpcy5yZW5kZXI7dmFyIGhvdXJzSW5wdXRFbD1pbnB1dHMuZXEoMCksbWludXRlc0lucHV0RWw9aW5wdXRzLmVxKDEpLG1vdXNld2hlZWw9YW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLm1vdXNld2hlZWwpPyRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5tb3VzZXdoZWVsKTp0aW1lcGlja2VyQ29uZmlnLm1vdXNld2hlZWw7bW91c2V3aGVlbCYmdGhpcy5zZXR1cE1vdXNld2hlZWxFdmVudHMoaG91cnNJbnB1dEVsLG1pbnV0ZXNJbnB1dEVsKSwkc2NvcGUucmVhZG9ubHlJbnB1dD1hbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMucmVhZG9ubHlJbnB1dCk/JHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnJlYWRvbmx5SW5wdXQpOnRpbWVwaWNrZXJDb25maWcucmVhZG9ubHlJbnB1dCx0aGlzLnNldHVwSW5wdXRFdmVudHMoaG91cnNJbnB1dEVsLG1pbnV0ZXNJbnB1dEVsKX07dmFyIGhvdXJTdGVwPXRpbWVwaWNrZXJDb25maWcuaG91clN0ZXA7JGF0dHJzLmhvdXJTdGVwJiYkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5ob3VyU3RlcCksZnVuY3Rpb24odmFsdWUpe2hvdXJTdGVwPXBhcnNlSW50KHZhbHVlLDEwKX0pO3ZhciBtaW51dGVTdGVwPXRpbWVwaWNrZXJDb25maWcubWludXRlU3RlcDskYXR0cnMubWludXRlU3RlcCYmJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMubWludXRlU3RlcCksZnVuY3Rpb24odmFsdWUpe21pbnV0ZVN0ZXA9cGFyc2VJbnQodmFsdWUsMTApfSksJHNjb3BlLnNob3dNZXJpZGlhbj10aW1lcGlja2VyQ29uZmlnLnNob3dNZXJpZGlhbiwkYXR0cnMuc2hvd01lcmlkaWFuJiYkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5zaG93TWVyaWRpYW4pLGZ1bmN0aW9uKHZhbHVlKXtpZigkc2NvcGUuc2hvd01lcmlkaWFuPSEhdmFsdWUsbmdNb2RlbEN0cmwuJGVycm9yLnRpbWUpe3ZhciBob3Vycz1nZXRIb3Vyc0Zyb21UZW1wbGF0ZSgpLG1pbnV0ZXM9Z2V0TWludXRlc0Zyb21UZW1wbGF0ZSgpO2FuZ3VsYXIuaXNEZWZpbmVkKGhvdXJzKSYmYW5ndWxhci5pc0RlZmluZWQobWludXRlcykmJihzZWxlY3RlZC5zZXRIb3Vycyhob3VycykscmVmcmVzaCgpKX1lbHNlIHVwZGF0ZVRlbXBsYXRlKCl9KSx0aGlzLnNldHVwTW91c2V3aGVlbEV2ZW50cz1mdW5jdGlvbihob3Vyc0lucHV0RWwsbWludXRlc0lucHV0RWwpe3ZhciBpc1Njcm9sbGluZ1VwPWZ1bmN0aW9uKGUpe2Uub3JpZ2luYWxFdmVudCYmKGU9ZS5vcmlnaW5hbEV2ZW50KTt2YXIgZGVsdGE9ZS53aGVlbERlbHRhP2Uud2hlZWxEZWx0YTotZS5kZWx0YVk7cmV0dXJuIGUuZGV0YWlsfHxkZWx0YT4wfTtob3Vyc0lucHV0RWwuYmluZCgibW91c2V3aGVlbCB3aGVlbCIsZnVuY3Rpb24oZSl7JHNjb3BlLiRhcHBseShpc1Njcm9sbGluZ1VwKGUpPyRzY29wZS5pbmNyZW1lbnRIb3VycygpOiRzY29wZS5kZWNyZW1lbnRIb3VycygpKSxlLnByZXZlbnREZWZhdWx0KCl9KSxtaW51dGVzSW5wdXRFbC5iaW5kKCJtb3VzZXdoZWVsIHdoZWVsIixmdW5jdGlvbihlKXskc2NvcGUuJGFwcGx5KGlzU2Nyb2xsaW5nVXAoZSk/JHNjb3BlLmluY3JlbWVudE1pbnV0ZXMoKTokc2NvcGUuZGVjcmVtZW50TWludXRlcygpKSxlLnByZXZlbnREZWZhdWx0KCl9KX0sdGhpcy5zZXR1cElucHV0RXZlbnRzPWZ1bmN0aW9uKGhvdXJzSW5wdXRFbCxtaW51dGVzSW5wdXRFbCl7aWYoJHNjb3BlLnJlYWRvbmx5SW5wdXQpcmV0dXJuICRzY29wZS51cGRhdGVIb3Vycz1hbmd1bGFyLm5vb3Asdm9pZCgkc2NvcGUudXBkYXRlTWludXRlcz1hbmd1bGFyLm5vb3ApO3ZhciBpbnZhbGlkYXRlPWZ1bmN0aW9uKGludmFsaWRIb3VycyxpbnZhbGlkTWludXRlcyl7bmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShudWxsKSxuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoInRpbWUiLCExKSxhbmd1bGFyLmlzRGVmaW5lZChpbnZhbGlkSG91cnMpJiYoJHNjb3BlLmludmFsaWRIb3Vycz1pbnZhbGlkSG91cnMpLGFuZ3VsYXIuaXNEZWZpbmVkKGludmFsaWRNaW51dGVzKSYmKCRzY29wZS5pbnZhbGlkTWludXRlcz1pbnZhbGlkTWludXRlcyl9OyRzY29wZS51cGRhdGVIb3Vycz1mdW5jdGlvbigpe3ZhciBob3Vycz1nZXRIb3Vyc0Zyb21UZW1wbGF0ZSgpO2FuZ3VsYXIuaXNEZWZpbmVkKGhvdXJzKT8oc2VsZWN0ZWQuc2V0SG91cnMoaG91cnMpLHJlZnJlc2goImgiKSk6aW52YWxpZGF0ZSghMCl9LGhvdXJzSW5wdXRFbC5iaW5kKCJibHVyIixmdW5jdGlvbigpeyEkc2NvcGUuaW52YWxpZEhvdXJzJiYkc2NvcGUuaG91cnM8MTAmJiRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXskc2NvcGUuaG91cnM9cGFkKCRzY29wZS5ob3Vycyl9KX0pLCRzY29wZS51cGRhdGVNaW51dGVzPWZ1bmN0aW9uKCl7dmFyIG1pbnV0ZXM9Z2V0TWludXRlc0Zyb21UZW1wbGF0ZSgpO2FuZ3VsYXIuaXNEZWZpbmVkKG1pbnV0ZXMpPyhzZWxlY3RlZC5zZXRNaW51dGVzKG1pbnV0ZXMpLHJlZnJlc2goIm0iKSk6aW52YWxpZGF0ZSh2b2lkIDAsITApfSxtaW51dGVzSW5wdXRFbC5iaW5kKCJibHVyIixmdW5jdGlvbigpeyEkc2NvcGUuaW52YWxpZE1pbnV0ZXMmJiRzY29wZS5taW51dGVzPDEwJiYkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7JHNjb3BlLm1pbnV0ZXM9cGFkKCRzY29wZS5taW51dGVzKX0pfSl9LHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGRhdGU9bmdNb2RlbEN0cmwuJG1vZGVsVmFsdWU/bmV3IERhdGUobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUpOm51bGw7aXNOYU4oZGF0ZSk/KG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgidGltZSIsITEpLCRsb2cuZXJyb3IoJ1RpbWVwaWNrZXIgZGlyZWN0aXZlOiAibmctbW9kZWwiIHZhbHVlIG11c3QgYmUgYSBEYXRlIG9iamVjdCwgYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIDAxLjAxLjE5NzAgb3IgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIFJGQzI4MjIgb3IgSVNPIDg2MDEgZGF0ZS4nKSk6KGRhdGUmJihzZWxlY3RlZD1kYXRlKSxtYWtlVmFsaWQoKSx1cGRhdGVUZW1wbGF0ZSgpKX0sJHNjb3BlLmluY3JlbWVudEhvdXJzPWZ1bmN0aW9uKCl7YWRkTWludXRlcyg2MCpob3VyU3RlcCl9LCRzY29wZS5kZWNyZW1lbnRIb3Vycz1mdW5jdGlvbigpe2FkZE1pbnV0ZXMoNjAqLWhvdXJTdGVwKX0sJHNjb3BlLmluY3JlbWVudE1pbnV0ZXM9ZnVuY3Rpb24oKXthZGRNaW51dGVzKG1pbnV0ZVN0ZXApfSwkc2NvcGUuZGVjcmVtZW50TWludXRlcz1mdW5jdGlvbigpe2FkZE1pbnV0ZXMoLW1pbnV0ZVN0ZXApfSwkc2NvcGUudG9nZ2xlTWVyaWRpYW49ZnVuY3Rpb24oKXthZGRNaW51dGVzKDcyMCooc2VsZWN0ZWQuZ2V0SG91cnMoKTwxMj8xOi0xKSl9fV0pLmRpcmVjdGl2ZSgidGltZXBpY2tlciIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXF1aXJlOlsidGltZXBpY2tlciIsIj9ebmdNb2RlbCJdLGNvbnRyb2xsZXI6IlRpbWVwaWNrZXJDb250cm9sbGVyIixyZXBsYWNlOiEwLHNjb3BlOnt9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbCIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGN0cmxzKXt2YXIgdGltZXBpY2tlckN0cmw9Y3RybHNbMF0sbmdNb2RlbEN0cmw9Y3RybHNbMV07bmdNb2RlbEN0cmwmJnRpbWVwaWNrZXJDdHJsLmluaXQobmdNb2RlbEN0cmwsZWxlbWVudC5maW5kKCJpbnB1dCIpKX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC50eXBlYWhlYWQiLFsidWkuYm9vdHN0cmFwLnBvc2l0aW9uIiwidWkuYm9vdHN0cmFwLmJpbmRIdG1sIl0pLmZhY3RvcnkoInR5cGVhaGVhZFBhcnNlciIsWyIkcGFyc2UiLGZ1bmN0aW9uKCRwYXJzZSl7dmFyIFRZUEVBSEVBRF9SRUdFWFA9L15ccyooW1xzXFNdKz8pKD86XHMrYXNccysoW1xzXFNdKz8pKT9ccytmb3JccysoPzooW1wkXHddW1wkXHdcZF0qKSlccytpblxzKyhbXHNcU10rPykkLztyZXR1cm57cGFyc2U6ZnVuY3Rpb24oaW5wdXQpe3ZhciBtYXRjaD1pbnB1dC5tYXRjaChUWVBFQUhFQURfUkVHRVhQKTtpZighbWF0Y2gpdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0eXBlYWhlYWQgc3BlY2lmaWNhdGlvbiBpbiBmb3JtIG9mICJfbW9kZWxWYWx1ZV8gKGFzIF9sYWJlbF8pPyBmb3IgX2l0ZW1fIGluIF9jb2xsZWN0aW9uXyIgYnV0IGdvdCAiJytpbnB1dCsnIi4nKTtyZXR1cm57aXRlbU5hbWU6bWF0Y2hbM10sc291cmNlOiRwYXJzZShtYXRjaFs0XSksdmlld01hcHBlcjokcGFyc2UobWF0Y2hbMl18fG1hdGNoWzFdKSxtb2RlbE1hcHBlcjokcGFyc2UobWF0Y2hbMV0pfX19fV0pLmRpcmVjdGl2ZSgidHlwZWFoZWFkIixbIiRjb21waWxlIiwiJHBhcnNlIiwiJHEiLCIkdGltZW91dCIsIiRkb2N1bWVudCIsIiRwb3NpdGlvbiIsInR5cGVhaGVhZFBhcnNlciIsZnVuY3Rpb24oJGNvbXBpbGUsJHBhcnNlLCRxLCR0aW1lb3V0LCRkb2N1bWVudCwkcG9zaXRpb24sdHlwZWFoZWFkUGFyc2VyKXt2YXIgSE9UX0tFWVM9WzksMTMsMjcsMzgsNDBdO3JldHVybntyZXF1aXJlOiJuZ01vZGVsIixsaW5rOmZ1bmN0aW9uKG9yaWdpbmFsU2NvcGUsZWxlbWVudCxhdHRycyxtb2RlbEN0cmwpe3ZhciBoYXNGb2N1cyxtaW5TZWFyY2g9b3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRNaW5MZW5ndGgpfHwxLHdhaXRUaW1lPW9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkV2FpdE1zKXx8MCxpc0VkaXRhYmxlPW9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkRWRpdGFibGUpIT09ITEsaXNMb2FkaW5nU2V0dGVyPSRwYXJzZShhdHRycy50eXBlYWhlYWRMb2FkaW5nKS5hc3NpZ258fGFuZ3VsYXIubm9vcCxvblNlbGVjdENhbGxiYWNrPSRwYXJzZShhdHRycy50eXBlYWhlYWRPblNlbGVjdCksaW5wdXRGb3JtYXR0ZXI9YXR0cnMudHlwZWFoZWFkSW5wdXRGb3JtYXR0ZXI/JHBhcnNlKGF0dHJzLnR5cGVhaGVhZElucHV0Rm9ybWF0dGVyKTp2b2lkIDAsYXBwZW5kVG9Cb2R5PWF0dHJzLnR5cGVhaGVhZEFwcGVuZFRvQm9keT9vcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZEFwcGVuZFRvQm9keSk6ITEsJHNldE1vZGVsVmFsdWU9JHBhcnNlKGF0dHJzLm5nTW9kZWwpLmFzc2lnbixwYXJzZXJSZXN1bHQ9dHlwZWFoZWFkUGFyc2VyLnBhcnNlKGF0dHJzLnR5cGVhaGVhZCksc2NvcGU9b3JpZ2luYWxTY29wZS4kbmV3KCk7b3JpZ2luYWxTY29wZS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe3Njb3BlLiRkZXN0cm95KCl9KTt2YXIgcG9wdXBJZD0idHlwZWFoZWFkLSIrc2NvcGUuJGlkKyItIitNYXRoLmZsb29yKDFlNCpNYXRoLnJhbmRvbSgpKTtlbGVtZW50LmF0dHIoeyJhcmlhLWF1dG9jb21wbGV0ZSI6Imxpc3QiLCJhcmlhLWV4cGFuZGVkIjohMSwiYXJpYS1vd25zIjpwb3B1cElkfSk7dmFyIHBvcFVwRWw9YW5ndWxhci5lbGVtZW50KCI8ZGl2IHR5cGVhaGVhZC1wb3B1cD48L2Rpdj4iKTtwb3BVcEVsLmF0dHIoe2lkOnBvcHVwSWQsbWF0Y2hlczoibWF0Y2hlcyIsYWN0aXZlOiJhY3RpdmVJZHgiLHNlbGVjdDoic2VsZWN0KGFjdGl2ZUlkeCkiLHF1ZXJ5OiJxdWVyeSIscG9zaXRpb246InBvc2l0aW9uIn0pLGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnR5cGVhaGVhZFRlbXBsYXRlVXJsKSYmcG9wVXBFbC5hdHRyKCJ0ZW1wbGF0ZS11cmwiLGF0dHJzLnR5cGVhaGVhZFRlbXBsYXRlVXJsKTt2YXIgcmVzZXRNYXRjaGVzPWZ1bmN0aW9uKCl7c2NvcGUubWF0Y2hlcz1bXSxzY29wZS5hY3RpdmVJZHg9LTEsZWxlbWVudC5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMSl9LGdldE1hdGNoSWQ9ZnVuY3Rpb24oaW5kZXgpe3JldHVybiBwb3B1cElkKyItb3B0aW9uLSIraW5kZXh9O3Njb3BlLiR3YXRjaCgiYWN0aXZlSWR4IixmdW5jdGlvbihpbmRleCl7MD5pbmRleD9lbGVtZW50LnJlbW92ZUF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIpOmVsZW1lbnQuYXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50IixnZXRNYXRjaElkKGluZGV4KSl9KTt2YXIgZ2V0TWF0Y2hlc0FzeW5jPWZ1bmN0aW9uKGlucHV0VmFsdWUpe3ZhciBsb2NhbHM9eyR2aWV3VmFsdWU6aW5wdXRWYWx1ZX07aXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsITApLCRxLndoZW4ocGFyc2VyUmVzdWx0LnNvdXJjZShvcmlnaW5hbFNjb3BlLGxvY2FscykpLnRoZW4oZnVuY3Rpb24obWF0Y2hlcyl7dmFyIG9uQ3VycmVudFJlcXVlc3Q9aW5wdXRWYWx1ZT09PW1vZGVsQ3RybC4kdmlld1ZhbHVlO2lmKG9uQ3VycmVudFJlcXVlc3QmJmhhc0ZvY3VzKWlmKG1hdGNoZXMubGVuZ3RoPjApe3Njb3BlLmFjdGl2ZUlkeD0wLHNjb3BlLm1hdGNoZXMubGVuZ3RoPTA7Zm9yKHZhciBpPTA7aTxtYXRjaGVzLmxlbmd0aDtpKyspbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV09bWF0Y2hlc1tpXSxzY29wZS5tYXRjaGVzLnB1c2goe2lkOmdldE1hdGNoSWQoaSksbGFiZWw6cGFyc2VyUmVzdWx0LnZpZXdNYXBwZXIoc2NvcGUsbG9jYWxzKSxtb2RlbDptYXRjaGVzW2ldfSk7c2NvcGUucXVlcnk9aW5wdXRWYWx1ZSxzY29wZS5wb3NpdGlvbj1hcHBlbmRUb0JvZHk/JHBvc2l0aW9uLm9mZnNldChlbGVtZW50KTokcG9zaXRpb24ucG9zaXRpb24oZWxlbWVudCksc2NvcGUucG9zaXRpb24udG9wPXNjb3BlLnBvc2l0aW9uLnRvcCtlbGVtZW50LnByb3AoIm9mZnNldEhlaWdodCIpLGVsZW1lbnQuYXR0cigiYXJpYS1leHBhbmRlZCIsITApfWVsc2UgcmVzZXRNYXRjaGVzKCk7b25DdXJyZW50UmVxdWVzdCYmaXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsITEpfSxmdW5jdGlvbigpe3Jlc2V0TWF0Y2hlcygpLGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCExKX0pfTtyZXNldE1hdGNoZXMoKSxzY29wZS5xdWVyeT12b2lkIDA7dmFyIHRpbWVvdXRQcm9taXNlLHNjaGVkdWxlU2VhcmNoV2l0aFRpbWVvdXQ9ZnVuY3Rpb24oaW5wdXRWYWx1ZSl7dGltZW91dFByb21pc2U9JHRpbWVvdXQoZnVuY3Rpb24oKXtnZXRNYXRjaGVzQXN5bmMoaW5wdXRWYWx1ZSl9LHdhaXRUaW1lKX0sY2FuY2VsUHJldmlvdXNUaW1lb3V0PWZ1bmN0aW9uKCl7dGltZW91dFByb21pc2UmJiR0aW1lb3V0LmNhbmNlbCh0aW1lb3V0UHJvbWlzZSl9O21vZGVsQ3RybC4kcGFyc2Vycy51bnNoaWZ0KGZ1bmN0aW9uKGlucHV0VmFsdWUpe3JldHVybiBoYXNGb2N1cz0hMCxpbnB1dFZhbHVlJiZpbnB1dFZhbHVlLmxlbmd0aD49bWluU2VhcmNoP3dhaXRUaW1lPjA/KGNhbmNlbFByZXZpb3VzVGltZW91dCgpLHNjaGVkdWxlU2VhcmNoV2l0aFRpbWVvdXQoaW5wdXRWYWx1ZSkpOmdldE1hdGNoZXNBc3luYyhpbnB1dFZhbHVlKTooaXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsITEpLGNhbmNlbFByZXZpb3VzVGltZW91dCgpLHJlc2V0TWF0Y2hlcygpKSxpc0VkaXRhYmxlP2lucHV0VmFsdWU6aW5wdXRWYWx1ZT92b2lkIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoImVkaXRhYmxlIiwhMSk6KG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoImVkaXRhYmxlIiwhMCksaW5wdXRWYWx1ZSl9KSxtb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihtb2RlbFZhbHVlKXt2YXIgY2FuZGlkYXRlVmlld1ZhbHVlLGVtcHR5Vmlld1ZhbHVlLGxvY2Fscz17fTtyZXR1cm4gaW5wdXRGb3JtYXR0ZXI/KGxvY2Fscy4kbW9kZWw9bW9kZWxWYWx1ZSxpbnB1dEZvcm1hdHRlcihvcmlnaW5hbFNjb3BlLGxvY2FscykpOihsb2NhbHNbcGFyc2VyUmVzdWx0Lml0ZW1OYW1lXT1tb2RlbFZhbHVlLGNhbmRpZGF0ZVZpZXdWYWx1ZT1wYXJzZXJSZXN1bHQudmlld01hcHBlcihvcmlnaW5hbFNjb3BlLGxvY2FscyksbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV09dm9pZCAwLGVtcHR5Vmlld1ZhbHVlPXBhcnNlclJlc3VsdC52aWV3TWFwcGVyKG9yaWdpbmFsU2NvcGUsbG9jYWxzKSxjYW5kaWRhdGVWaWV3VmFsdWUhPT1lbXB0eVZpZXdWYWx1ZT9jYW5kaWRhdGVWaWV3VmFsdWU6bW9kZWxWYWx1ZSl9KSxzY29wZS5zZWxlY3Q9ZnVuY3Rpb24oYWN0aXZlSWR4KXt2YXIgbW9kZWwsaXRlbSxsb2NhbHM9e307bG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV09aXRlbT1zY29wZS5tYXRjaGVzW2FjdGl2ZUlkeF0ubW9kZWwsbW9kZWw9cGFyc2VyUmVzdWx0Lm1vZGVsTWFwcGVyKG9yaWdpbmFsU2NvcGUsbG9jYWxzKSwkc2V0TW9kZWxWYWx1ZShvcmlnaW5hbFNjb3BlLG1vZGVsKSxtb2RlbEN0cmwuJHNldFZhbGlkaXR5KCJlZGl0YWJsZSIsITApLG9uU2VsZWN0Q2FsbGJhY2sob3JpZ2luYWxTY29wZSx7JGl0ZW06aXRlbSwkbW9kZWw6bW9kZWwsJGxhYmVsOnBhcnNlclJlc3VsdC52aWV3TWFwcGVyKG9yaWdpbmFsU2NvcGUsbG9jYWxzKX0pLHJlc2V0TWF0Y2hlcygpLCR0aW1lb3V0KGZ1bmN0aW9uKCl7ZWxlbWVudFswXS5mb2N1cygpfSwwLCExKX0sZWxlbWVudC5iaW5kKCJrZXlkb3duIixmdW5jdGlvbihldnQpezAhPT1zY29wZS5tYXRjaGVzLmxlbmd0aCYmLTEhPT1IT1RfS0VZUy5pbmRleE9mKGV2dC53aGljaCkmJihldnQucHJldmVudERlZmF1bHQoKSw0MD09PWV2dC53aGljaD8oc2NvcGUuYWN0aXZlSWR4PShzY29wZS5hY3RpdmVJZHgrMSklc2NvcGUubWF0Y2hlcy5sZW5ndGgsc2NvcGUuJGRpZ2VzdCgpKTozOD09PWV2dC53aGljaD8oc2NvcGUuYWN0aXZlSWR4PShzY29wZS5hY3RpdmVJZHg/c2NvcGUuYWN0aXZlSWR4OnNjb3BlLm1hdGNoZXMubGVuZ3RoKS0xLHNjb3BlLiRkaWdlc3QoKSk6MTM9PT1ldnQud2hpY2h8fDk9PT1ldnQud2hpY2g/c2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7c2NvcGUuc2VsZWN0KHNjb3BlLmFjdGl2ZUlkeCl9KToyNz09PWV2dC53aGljaCYmKGV2dC5zdG9wUHJvcGFnYXRpb24oKSxyZXNldE1hdGNoZXMoKSxzY29wZS4kZGlnZXN0KCkpKX0pLGVsZW1lbnQuYmluZCgiYmx1ciIsZnVuY3Rpb24oKXtoYXNGb2N1cz0hMX0pO3ZhciBkaXNtaXNzQ2xpY2tIYW5kbGVyPWZ1bmN0aW9uKGV2dCl7ZWxlbWVudFswXSE9PWV2dC50YXJnZXQmJihyZXNldE1hdGNoZXMoKSxzY29wZS4kZGlnZXN0KCkpfTskZG9jdW1lbnQuYmluZCgiY2xpY2siLGRpc21pc3NDbGlja0hhbmRsZXIpLG9yaWdpbmFsU2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXskZG9jdW1lbnQudW5iaW5kKCJjbGljayIsZGlzbWlzc0NsaWNrSGFuZGxlcil9KTt2YXIgJHBvcHVwPSRjb21waWxlKHBvcFVwRWwpKHNjb3BlKTthcHBlbmRUb0JvZHk/JGRvY3VtZW50LmZpbmQoImJvZHkiKS5hcHBlbmQoJHBvcHVwKTplbGVtZW50LmFmdGVyKCRwb3B1cCl9fX1dKS5kaXJlY3RpdmUoInR5cGVhaGVhZFBvcHVwIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHNjb3BlOnttYXRjaGVzOiI9IixxdWVyeToiPSIsYWN0aXZlOiI9Iixwb3NpdGlvbjoiPSIsc2VsZWN0OiImIn0scmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMpe3Njb3BlLnRlbXBsYXRlVXJsPWF0dHJzLnRlbXBsYXRlVXJsLHNjb3BlLmlzT3Blbj1mdW5jdGlvbigpe3JldHVybiBzY29wZS5tYXRjaGVzLmxlbmd0aD4wfSxzY29wZS5pc0FjdGl2ZT1mdW5jdGlvbihtYXRjaElkeCl7cmV0dXJuIHNjb3BlLmFjdGl2ZT09bWF0Y2hJZHh9LHNjb3BlLnNlbGVjdEFjdGl2ZT1mdW5jdGlvbihtYXRjaElkeCl7c2NvcGUuYWN0aXZlPW1hdGNoSWR4fSxzY29wZS5zZWxlY3RNYXRjaD1mdW5jdGlvbihhY3RpdmVJZHgpe3Njb3BlLnNlbGVjdCh7YWN0aXZlSWR4OmFjdGl2ZUlkeH0pfX19fSkuZGlyZWN0aXZlKCJ0eXBlYWhlYWRNYXRjaCIsWyIkaHR0cCIsIiR0ZW1wbGF0ZUNhY2hlIiwiJGNvbXBpbGUiLCIkcGFyc2UiLGZ1bmN0aW9uKCRodHRwLCR0ZW1wbGF0ZUNhY2hlLCRjb21waWxlLCRwYXJzZSl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsc2NvcGU6e2luZGV4OiI9IixtYXRjaDoiPSIscXVlcnk6Ij0ifSxsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMpe3ZhciB0cGxVcmw9JHBhcnNlKGF0dHJzLnRlbXBsYXRlVXJsKShzY29wZS4kcGFyZW50KXx8InRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbCI7JGh0dHAuZ2V0KHRwbFVybCx7Y2FjaGU6JHRlbXBsYXRlQ2FjaGV9KS5zdWNjZXNzKGZ1bmN0aW9uKHRwbENvbnRlbnQpe2VsZW1lbnQucmVwbGFjZVdpdGgoJGNvbXBpbGUodHBsQ29udGVudC50cmltKCkpKHNjb3BlKSl9KX19fV0pLmZpbHRlcigidHlwZWFoZWFkSGlnaGxpZ2h0IixmdW5jdGlvbigpe2Z1bmN0aW9uIGVzY2FwZVJlZ2V4cChxdWVyeVRvRXNjYXBlKXtyZXR1cm4gcXVlcnlUb0VzY2FwZS5yZXBsYWNlKC8oWy4/KiteJFtcXVxcKCl7fXwtXSkvZywiXFwkMSIpfXJldHVybiBmdW5jdGlvbihtYXRjaEl0ZW0scXVlcnkpe3JldHVybiBxdWVyeT8oIiIrbWF0Y2hJdGVtKS5yZXBsYWNlKG5ldyBSZWdFeHAoZXNjYXBlUmVnZXhwKHF1ZXJ5KSwiZ2kiKSwiPHN0cm9uZz4kJjwvc3Ryb25nPiIpOm1hdGNoSXRlbX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwIixbInVpLmJvb3RzdHJhcC50cGxzIiwidWkuYm9vdHN0cmFwLnRyYW5zaXRpb24iLCJ1aS5ib290c3RyYXAuY29sbGFwc2UiLCJ1aS5ib290c3RyYXAuYWNjb3JkaW9uIiwidWkuYm9vdHN0cmFwLmFsZXJ0IiwidWkuYm9vdHN0cmFwLmJpbmRIdG1sIiwidWkuYm9vdHN0cmFwLmJ1dHRvbnMiLCJ1aS5ib290c3RyYXAuY2Fyb3VzZWwiLCJ1aS5ib290c3RyYXAuZGF0ZXBhcnNlciIsInVpLmJvb3RzdHJhcC5wb3NpdGlvbiIsInVpLmJvb3RzdHJhcC5kYXRlcGlja2VyIiwidWkuYm9vdHN0cmFwLmRyb3Bkb3duIiwidWkuYm9vdHN0cmFwLm1vZGFsIiwidWkuYm9vdHN0cmFwLnBhZ2luYXRpb24iLCJ1aS5ib290c3RyYXAudG9vbHRpcCIsInVpLmJvb3RzdHJhcC5wb3BvdmVyIiwidWkuYm9vdHN0cmFwLnByb2dyZXNzYmFyIiwidWkuYm9vdHN0cmFwLnJhdGluZyIsInVpLmJvb3RzdHJhcC50YWJzIiwidWkuYm9vdHN0cmFwLnRpbWVwaWNrZXIiLCJ1aS5ib290c3RyYXAudHlwZWFoZWFkIl0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAudHBscyIsWyJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWwiLCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLmh0bWwiLCJ0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sIiwidGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbCIsInRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWwiLCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbCIsInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF5Lmh0bWwiLCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWwiLCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWwiLCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbCIsInRlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWwiLCJ0ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbCIsInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnZXIuaHRtbCIsInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sIiwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWwiLCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbCIsInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sIiwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWwiLCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sIiwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbCIsInRlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbCIsInRlbXBsYXRlL3RhYnMvdGFiLmh0bWwiLCJ0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sIiwidGVtcGxhdGUvdGltZXBpY2tlci90aW1lcGlja2VyLmh0bWwiLCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWwiLCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWwiXSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC50cmFuc2l0aW9uIixbXSkuZmFjdG9yeSgiJHRyYW5zaXRpb24iLFsiJHEiLCIkdGltZW91dCIsIiRyb290U2NvcGUiLGZ1bmN0aW9uKCRxLCR0aW1lb3V0LCRyb290U2NvcGUpe2Z1bmN0aW9uIGZpbmRFbmRFdmVudE5hbWUoZW5kRXZlbnROYW1lcyl7Zm9yKHZhciBuYW1lIGluIGVuZEV2ZW50TmFtZXMpaWYodm9pZCAwIT09dHJhbnNFbGVtZW50LnN0eWxlW25hbWVdKXJldHVybiBlbmRFdmVudE5hbWVzW25hbWVdfXZhciAkdHJhbnNpdGlvbj1mdW5jdGlvbihlbGVtZW50LHRyaWdnZXIsb3B0aW9ucyl7b3B0aW9ucz1vcHRpb25zfHx7fTt2YXIgZGVmZXJyZWQ9JHEuZGVmZXIoKSxlbmRFdmVudE5hbWU9JHRyYW5zaXRpb25bb3B0aW9ucy5hbmltYXRpb24/ImFuaW1hdGlvbkVuZEV2ZW50TmFtZSI6InRyYW5zaXRpb25FbmRFdmVudE5hbWUiXSx0cmFuc2l0aW9uRW5kSGFuZGxlcj1mdW5jdGlvbigpeyRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7ZWxlbWVudC51bmJpbmQoZW5kRXZlbnROYW1lLHRyYW5zaXRpb25FbmRIYW5kbGVyKSxkZWZlcnJlZC5yZXNvbHZlKGVsZW1lbnQpfSl9O3JldHVybiBlbmRFdmVudE5hbWUmJmVsZW1lbnQuYmluZChlbmRFdmVudE5hbWUsdHJhbnNpdGlvbkVuZEhhbmRsZXIpLCR0aW1lb3V0KGZ1bmN0aW9uKCl7YW5ndWxhci5pc1N0cmluZyh0cmlnZ2VyKT9lbGVtZW50LmFkZENsYXNzKHRyaWdnZXIpOmFuZ3VsYXIuaXNGdW5jdGlvbih0cmlnZ2VyKT90cmlnZ2VyKGVsZW1lbnQpOmFuZ3VsYXIuaXNPYmplY3QodHJpZ2dlcikmJmVsZW1lbnQuY3NzKHRyaWdnZXIpLGVuZEV2ZW50TmFtZXx8ZGVmZXJyZWQucmVzb2x2ZShlbGVtZW50KX0pLGRlZmVycmVkLnByb21pc2UuY2FuY2VsPWZ1bmN0aW9uKCl7ZW5kRXZlbnROYW1lJiZlbGVtZW50LnVuYmluZChlbmRFdmVudE5hbWUsdHJhbnNpdGlvbkVuZEhhbmRsZXIpLGRlZmVycmVkLnJlamVjdCgiVHJhbnNpdGlvbiBjYW5jZWxsZWQiKX0sZGVmZXJyZWQucHJvbWlzZX0sdHJhbnNFbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyYW5zIiksdHJhbnNpdGlvbkVuZEV2ZW50TmFtZXM9e1dlYmtpdFRyYW5zaXRpb246IndlYmtpdFRyYW5zaXRpb25FbmQiLE1velRyYW5zaXRpb246InRyYW5zaXRpb25lbmQiLE9UcmFuc2l0aW9uOiJvVHJhbnNpdGlvbkVuZCIsdHJhbnNpdGlvbjoidHJhbnNpdGlvbmVuZCJ9LGFuaW1hdGlvbkVuZEV2ZW50TmFtZXM9e1dlYmtpdFRyYW5zaXRpb246IndlYmtpdEFuaW1hdGlvbkVuZCIsTW96VHJhbnNpdGlvbjoiYW5pbWF0aW9uZW5kIixPVHJhbnNpdGlvbjoib0FuaW1hdGlvbkVuZCIsdHJhbnNpdGlvbjoiYW5pbWF0aW9uZW5kIn07cmV0dXJuICR0cmFuc2l0aW9uLnRyYW5zaXRpb25FbmRFdmVudE5hbWU9ZmluZEVuZEV2ZW50TmFtZSh0cmFuc2l0aW9uRW5kRXZlbnROYW1lcyksJHRyYW5zaXRpb24uYW5pbWF0aW9uRW5kRXZlbnROYW1lPWZpbmRFbmRFdmVudE5hbWUoYW5pbWF0aW9uRW5kRXZlbnROYW1lcyksJHRyYW5zaXRpb259XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5jb2xsYXBzZSIsWyJ1aS5ib290c3RyYXAudHJhbnNpdGlvbiJdKS5kaXJlY3RpdmUoImNvbGxhcHNlIixbIiR0cmFuc2l0aW9uIixmdW5jdGlvbigkdHJhbnNpdGlvbil7cmV0dXJue2xpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyl7ZnVuY3Rpb24gZG9UcmFuc2l0aW9uKGNoYW5nZSl7ZnVuY3Rpb24gbmV3VHJhbnNpdGlvbkRvbmUoKXtjdXJyZW50VHJhbnNpdGlvbj09PW5ld1RyYW5zaXRpb24mJihjdXJyZW50VHJhbnNpdGlvbj12b2lkIDApfXZhciBuZXdUcmFuc2l0aW9uPSR0cmFuc2l0aW9uKGVsZW1lbnQsY2hhbmdlKTtyZXR1cm4gY3VycmVudFRyYW5zaXRpb24mJmN1cnJlbnRUcmFuc2l0aW9uLmNhbmNlbCgpLGN1cnJlbnRUcmFuc2l0aW9uPW5ld1RyYW5zaXRpb24sbmV3VHJhbnNpdGlvbi50aGVuKG5ld1RyYW5zaXRpb25Eb25lLG5ld1RyYW5zaXRpb25Eb25lKSxuZXdUcmFuc2l0aW9ufWZ1bmN0aW9uIGV4cGFuZCgpe2luaXRpYWxBbmltU2tpcD8oaW5pdGlhbEFuaW1Ta2lwPSExLGV4cGFuZERvbmUoKSk6KGVsZW1lbnQucmVtb3ZlQ2xhc3MoImNvbGxhcHNlIikuYWRkQ2xhc3MoImNvbGxhcHNpbmciKSxkb1RyYW5zaXRpb24oe2hlaWdodDplbGVtZW50WzBdLnNjcm9sbEhlaWdodCsicHgifSkudGhlbihleHBhbmREb25lKSl9ZnVuY3Rpb24gZXhwYW5kRG9uZSgpe2VsZW1lbnQucmVtb3ZlQ2xhc3MoImNvbGxhcHNpbmciKSxlbGVtZW50LmFkZENsYXNzKCJjb2xsYXBzZSBpbiIpLGVsZW1lbnQuY3NzKHtoZWlnaHQ6ImF1dG8ifSl9ZnVuY3Rpb24gY29sbGFwc2UoKXtpZihpbml0aWFsQW5pbVNraXApaW5pdGlhbEFuaW1Ta2lwPSExLGNvbGxhcHNlRG9uZSgpLGVsZW1lbnQuY3NzKHtoZWlnaHQ6MH0pO2Vsc2V7ZWxlbWVudC5jc3Moe2hlaWdodDplbGVtZW50WzBdLnNjcm9sbEhlaWdodCsicHgifSk7e2VsZW1lbnRbMF0ub2Zmc2V0V2lkdGh9ZWxlbWVudC5yZW1vdmVDbGFzcygiY29sbGFwc2UgaW4iKS5hZGRDbGFzcygiY29sbGFwc2luZyIpLGRvVHJhbnNpdGlvbih7aGVpZ2h0OjB9KS50aGVuKGNvbGxhcHNlRG9uZSl9fWZ1bmN0aW9uIGNvbGxhcHNlRG9uZSgpe2VsZW1lbnQucmVtb3ZlQ2xhc3MoImNvbGxhcHNpbmciKSxlbGVtZW50LmFkZENsYXNzKCJjb2xsYXBzZSIpfXZhciBjdXJyZW50VHJhbnNpdGlvbixpbml0aWFsQW5pbVNraXA9ITA7c2NvcGUuJHdhdGNoKGF0dHJzLmNvbGxhcHNlLGZ1bmN0aW9uKHNob3VsZENvbGxhcHNlKXtzaG91bGRDb2xsYXBzZT9jb2xsYXBzZSgpOmV4cGFuZCgpfSl9fX1dKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmFjY29yZGlvbiIsWyJ1aS5ib290c3RyYXAuY29sbGFwc2UiXSkuY29uc3RhbnQoImFjY29yZGlvbkNvbmZpZyIse2Nsb3NlT3RoZXJzOiEwfSkuY29udHJvbGxlcigiQWNjb3JkaW9uQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLCJhY2NvcmRpb25Db25maWciLGZ1bmN0aW9uKCRzY29wZSwkYXR0cnMsYWNjb3JkaW9uQ29uZmlnKXt0aGlzLmdyb3Vwcz1bXSx0aGlzLmNsb3NlT3RoZXJzPWZ1bmN0aW9uKG9wZW5Hcm91cCl7dmFyIGNsb3NlT3RoZXJzPWFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5jbG9zZU90aGVycyk/JHNjb3BlLiRldmFsKCRhdHRycy5jbG9zZU90aGVycyk6YWNjb3JkaW9uQ29uZmlnLmNsb3NlT3RoZXJzO2Nsb3NlT3RoZXJzJiZhbmd1bGFyLmZvckVhY2godGhpcy5ncm91cHMsZnVuY3Rpb24oZ3JvdXApe2dyb3VwIT09b3Blbkdyb3VwJiYoZ3JvdXAuaXNPcGVuPSExKX0pfSx0aGlzLmFkZEdyb3VwPWZ1bmN0aW9uKGdyb3VwU2NvcGUpe3ZhciB0aGF0PXRoaXM7dGhpcy5ncm91cHMucHVzaChncm91cFNjb3BlKSxncm91cFNjb3BlLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7dGhhdC5yZW1vdmVHcm91cChncm91cFNjb3BlKX0pfSx0aGlzLnJlbW92ZUdyb3VwPWZ1bmN0aW9uKGdyb3VwKXt2YXIgaW5kZXg9dGhpcy5ncm91cHMuaW5kZXhPZihncm91cCk7LTEhPT1pbmRleCYmdGhpcy5ncm91cHMuc3BsaWNlKGluZGV4LDEpfX1dKS5kaXJlY3RpdmUoImFjY29yZGlvbiIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixjb250cm9sbGVyOiJBY2NvcmRpb25Db250cm9sbGVyIix0cmFuc2NsdWRlOiEwLHJlcGxhY2U6ITEsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbCJ9fSkuZGlyZWN0aXZlKCJhY2NvcmRpb25Hcm91cCIsZnVuY3Rpb24oKXtyZXR1cm57cmVxdWlyZToiXmFjY29yZGlvbiIscmVzdHJpY3Q6IkVBIix0cmFuc2NsdWRlOiEwLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbCIsc2NvcGU6e2hlYWRpbmc6IkAiLGlzT3BlbjoiPT8iLGlzRGlzYWJsZWQ6Ij0/In0sY29udHJvbGxlcjpmdW5jdGlvbigpe3RoaXMuc2V0SGVhZGluZz1mdW5jdGlvbihlbGVtZW50KXt0aGlzLmhlYWRpbmc9ZWxlbWVudH19LGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxhY2NvcmRpb25DdHJsKXthY2NvcmRpb25DdHJsLmFkZEdyb3VwKHNjb3BlKSxzY29wZS4kd2F0Y2goImlzT3BlbiIsZnVuY3Rpb24odmFsdWUpe3ZhbHVlJiZhY2NvcmRpb25DdHJsLmNsb3NlT3RoZXJzKHNjb3BlKX0pLHNjb3BlLnRvZ2dsZU9wZW49ZnVuY3Rpb24oKXtzY29wZS5pc0Rpc2FibGVkfHwoc2NvcGUuaXNPcGVuPSFzY29wZS5pc09wZW4pfX19fSkuZGlyZWN0aXZlKCJhY2NvcmRpb25IZWFkaW5nIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHRyYW5zY2x1ZGU6ITAsdGVtcGxhdGU6IiIscmVwbGFjZTohMCxyZXF1aXJlOiJeYWNjb3JkaW9uR3JvdXAiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyLGFjY29yZGlvbkdyb3VwQ3RybCx0cmFuc2NsdWRlKXthY2NvcmRpb25Hcm91cEN0cmwuc2V0SGVhZGluZyh0cmFuc2NsdWRlKHNjb3BlLGZ1bmN0aW9uKCl7fSkpfX19KS5kaXJlY3RpdmUoImFjY29yZGlvblRyYW5zY2x1ZGUiLGZ1bmN0aW9uKCl7cmV0dXJue3JlcXVpcmU6Il5hY2NvcmRpb25Hcm91cCIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIsY29udHJvbGxlcil7c2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuIGNvbnRyb2xsZXJbYXR0ci5hY2NvcmRpb25UcmFuc2NsdWRlXX0sZnVuY3Rpb24oaGVhZGluZyl7aGVhZGluZyYmKGVsZW1lbnQuaHRtbCgiIiksZWxlbWVudC5hcHBlbmQoaGVhZGluZykpfSl9fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuYWxlcnQiLFtdKS5jb250cm9sbGVyKCJBbGVydENvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGF0dHJzIixmdW5jdGlvbigkc2NvcGUsJGF0dHJzKXskc2NvcGUuY2xvc2VhYmxlPSJjbG9zZSJpbiAkYXR0cnN9XSkuZGlyZWN0aXZlKCJhbGVydCIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixjb250cm9sbGVyOiJBbGVydENvbnRyb2xsZXIiLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sIix0cmFuc2NsdWRlOiEwLHJlcGxhY2U6ITAsc2NvcGU6e3R5cGU6IkAiLGNsb3NlOiImIn19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5iaW5kSHRtbCIsW10pLmRpcmVjdGl2ZSgiYmluZEh0bWxVbnNhZmUiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cil7ZWxlbWVudC5hZGRDbGFzcygibmctYmluZGluZyIpLmRhdGEoIiRiaW5kaW5nIixhdHRyLmJpbmRIdG1sVW5zYWZlKSxzY29wZS4kd2F0Y2goYXR0ci5iaW5kSHRtbFVuc2FmZSxmdW5jdGlvbih2YWx1ZSl7ZWxlbWVudC5odG1sKHZhbHVlfHwiIil9KX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmJ1dHRvbnMiLFtdKS5jb25zdGFudCgiYnV0dG9uQ29uZmlnIix7YWN0aXZlQ2xhc3M6ImFjdGl2ZSIsdG9nZ2xlRXZlbnQ6ImNsaWNrIn0pLmNvbnRyb2xsZXIoIkJ1dHRvbnNDb250cm9sbGVyIixbImJ1dHRvbkNvbmZpZyIsZnVuY3Rpb24oYnV0dG9uQ29uZmlnKXt0aGlzLmFjdGl2ZUNsYXNzPWJ1dHRvbkNvbmZpZy5hY3RpdmVDbGFzc3x8ImFjdGl2ZSIsdGhpcy50b2dnbGVFdmVudD1idXR0b25Db25maWcudG9nZ2xlRXZlbnR8fCJjbGljayJ9XSkuZGlyZWN0aXZlKCJidG5SYWRpbyIsZnVuY3Rpb24oKXtyZXR1cm57cmVxdWlyZTpbImJ0blJhZGlvIiwibmdNb2RlbCJdLGNvbnRyb2xsZXI6IkJ1dHRvbnNDb250cm9sbGVyIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsY3RybHMpe3ZhciBidXR0b25zQ3RybD1jdHJsc1swXSxuZ01vZGVsQ3RybD1jdHJsc1sxXTtuZ01vZGVsQ3RybC4kcmVuZGVyPWZ1bmN0aW9uKCl7ZWxlbWVudC50b2dnbGVDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcyxhbmd1bGFyLmVxdWFscyhuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSxzY29wZS4kZXZhbChhdHRycy5idG5SYWRpbykpKX0sZWxlbWVudC5iaW5kKGJ1dHRvbnNDdHJsLnRvZ2dsZUV2ZW50LGZ1bmN0aW9uKCl7dmFyIGlzQWN0aXZlPWVsZW1lbnQuaGFzQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MpOyghaXNBY3RpdmV8fGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnVuY2hlY2thYmxlKSkmJnNjb3BlLiRhcHBseShmdW5jdGlvbigpe25nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoaXNBY3RpdmU/bnVsbDpzY29wZS4kZXZhbChhdHRycy5idG5SYWRpbykpLG5nTW9kZWxDdHJsLiRyZW5kZXIoKX0pfSl9fX0pLmRpcmVjdGl2ZSgiYnRuQ2hlY2tib3giLGZ1bmN0aW9uKCl7cmV0dXJue3JlcXVpcmU6WyJidG5DaGVja2JveCIsIm5nTW9kZWwiXSxjb250cm9sbGVyOiJCdXR0b25zQ29udHJvbGxlciIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGN0cmxzKXtmdW5jdGlvbiBnZXRUcnVlVmFsdWUoKXtyZXR1cm4gZ2V0Q2hlY2tib3hWYWx1ZShhdHRycy5idG5DaGVja2JveFRydWUsITApfWZ1bmN0aW9uIGdldEZhbHNlVmFsdWUoKXtyZXR1cm4gZ2V0Q2hlY2tib3hWYWx1ZShhdHRycy5idG5DaGVja2JveEZhbHNlLCExKX1mdW5jdGlvbiBnZXRDaGVja2JveFZhbHVlKGF0dHJpYnV0ZVZhbHVlLGRlZmF1bHRWYWx1ZSl7dmFyIHZhbD1zY29wZS4kZXZhbChhdHRyaWJ1dGVWYWx1ZSk7cmV0dXJuIGFuZ3VsYXIuaXNEZWZpbmVkKHZhbCk/dmFsOmRlZmF1bHRWYWx1ZX12YXIgYnV0dG9uc0N0cmw9Y3RybHNbMF0sbmdNb2RlbEN0cmw9Y3RybHNbMV07bmdNb2RlbEN0cmwuJHJlbmRlcj1mdW5jdGlvbigpe2VsZW1lbnQudG9nZ2xlQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MsYW5ndWxhci5lcXVhbHMobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUsZ2V0VHJ1ZVZhbHVlKCkpKX0sZWxlbWVudC5iaW5kKGJ1dHRvbnNDdHJsLnRvZ2dsZUV2ZW50LGZ1bmN0aW9uKCl7c2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7bmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShlbGVtZW50Lmhhc0NsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzKT9nZXRGYWxzZVZhbHVlKCk6Z2V0VHJ1ZVZhbHVlKCkpLG5nTW9kZWxDdHJsLiRyZW5kZXIoKX0pfSl9fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuY2Fyb3VzZWwiLFsidWkuYm9vdHN0cmFwLnRyYW5zaXRpb24iXSkuY29udHJvbGxlcigiQ2Fyb3VzZWxDb250cm9sbGVyIixbIiRzY29wZSIsIiR0aW1lb3V0IiwiJHRyYW5zaXRpb24iLGZ1bmN0aW9uKCRzY29wZSwkdGltZW91dCwkdHJhbnNpdGlvbil7ZnVuY3Rpb24gcmVzdGFydFRpbWVyKCl7cmVzZXRUaW1lcigpO3ZhciBpbnRlcnZhbD0rJHNjb3BlLmludGVydmFsOyFpc05hTihpbnRlcnZhbCkmJmludGVydmFsPj0wJiYoY3VycmVudFRpbWVvdXQ9JHRpbWVvdXQodGltZXJGbixpbnRlcnZhbCkpfWZ1bmN0aW9uIHJlc2V0VGltZXIoKXtjdXJyZW50VGltZW91dCYmKCR0aW1lb3V0LmNhbmNlbChjdXJyZW50VGltZW91dCksY3VycmVudFRpbWVvdXQ9bnVsbCl9ZnVuY3Rpb24gdGltZXJGbigpe2lzUGxheWluZz8oJHNjb3BlLm5leHQoKSxyZXN0YXJ0VGltZXIoKSk6JHNjb3BlLnBhdXNlKCl9dmFyIGN1cnJlbnRUaW1lb3V0LGlzUGxheWluZyxzZWxmPXRoaXMsc2xpZGVzPXNlbGYuc2xpZGVzPSRzY29wZS5zbGlkZXM9W10sY3VycmVudEluZGV4PS0xO3NlbGYuY3VycmVudFNsaWRlPW51bGw7dmFyIGRlc3Ryb3llZD0hMTtzZWxmLnNlbGVjdD0kc2NvcGUuc2VsZWN0PWZ1bmN0aW9uKG5leHRTbGlkZSxkaXJlY3Rpb24pe2Z1bmN0aW9uIGdvTmV4dCgpe2lmKCFkZXN0cm95ZWQpe2lmKHNlbGYuY3VycmVudFNsaWRlJiZhbmd1bGFyLmlzU3RyaW5nKGRpcmVjdGlvbikmJiEkc2NvcGUubm9UcmFuc2l0aW9uJiZuZXh0U2xpZGUuJGVsZW1lbnQpe25leHRTbGlkZS4kZWxlbWVudC5hZGRDbGFzcyhkaXJlY3Rpb24pO3tuZXh0U2xpZGUuJGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGh9YW5ndWxhci5mb3JFYWNoKHNsaWRlcyxmdW5jdGlvbihzbGlkZSl7YW5ndWxhci5leHRlbmQoc2xpZGUse2RpcmVjdGlvbjoiIixlbnRlcmluZzohMSxsZWF2aW5nOiExLGFjdGl2ZTohMX0pfSksYW5ndWxhci5leHRlbmQobmV4dFNsaWRlLHtkaXJlY3Rpb246ZGlyZWN0aW9uLGFjdGl2ZTohMCxlbnRlcmluZzohMH0pLGFuZ3VsYXIuZXh0ZW5kKHNlbGYuY3VycmVudFNsaWRlfHx7fSx7ZGlyZWN0aW9uOmRpcmVjdGlvbixsZWF2aW5nOiEwfSksJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbj0kdHJhbnNpdGlvbihuZXh0U2xpZGUuJGVsZW1lbnQse30pLGZ1bmN0aW9uKG5leHQsY3VycmVudCl7JHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbi50aGVuKGZ1bmN0aW9uKCl7dHJhbnNpdGlvbkRvbmUobmV4dCxjdXJyZW50KX0sZnVuY3Rpb24oKXt0cmFuc2l0aW9uRG9uZShuZXh0LGN1cnJlbnQpfSl9KG5leHRTbGlkZSxzZWxmLmN1cnJlbnRTbGlkZSl9ZWxzZSB0cmFuc2l0aW9uRG9uZShuZXh0U2xpZGUsc2VsZi5jdXJyZW50U2xpZGUpO3NlbGYuY3VycmVudFNsaWRlPW5leHRTbGlkZSxjdXJyZW50SW5kZXg9bmV4dEluZGV4LHJlc3RhcnRUaW1lcigpfX1mdW5jdGlvbiB0cmFuc2l0aW9uRG9uZShuZXh0LGN1cnJlbnQpe2FuZ3VsYXIuZXh0ZW5kKG5leHQse2RpcmVjdGlvbjoiIixhY3RpdmU6ITAsbGVhdmluZzohMSxlbnRlcmluZzohMX0pLGFuZ3VsYXIuZXh0ZW5kKGN1cnJlbnR8fHt9LHtkaXJlY3Rpb246IiIsYWN0aXZlOiExLGxlYXZpbmc6ITEsZW50ZXJpbmc6ITF9KSwkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uPW51bGx9dmFyIG5leHRJbmRleD1zbGlkZXMuaW5kZXhPZihuZXh0U2xpZGUpO3ZvaWQgMD09PWRpcmVjdGlvbiYmKGRpcmVjdGlvbj1uZXh0SW5kZXg+Y3VycmVudEluZGV4PyJuZXh0IjoicHJldiIpLG5leHRTbGlkZSYmbmV4dFNsaWRlIT09c2VsZi5jdXJyZW50U2xpZGUmJigkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uPygkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uLmNhbmNlbCgpLCR0aW1lb3V0KGdvTmV4dCkpOmdvTmV4dCgpKX0sJHNjb3BlLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7ZGVzdHJveWVkPSEwfSksc2VsZi5pbmRleE9mU2xpZGU9ZnVuY3Rpb24oc2xpZGUpe3JldHVybiBzbGlkZXMuaW5kZXhPZihzbGlkZSl9LCRzY29wZS5uZXh0PWZ1bmN0aW9uKCl7dmFyIG5ld0luZGV4PShjdXJyZW50SW5kZXgrMSklc2xpZGVzLmxlbmd0aDtyZXR1cm4gJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbj92b2lkIDA6c2VsZi5zZWxlY3Qoc2xpZGVzW25ld0luZGV4XSwibmV4dCIpfSwkc2NvcGUucHJldj1mdW5jdGlvbigpe3ZhciBuZXdJbmRleD0wPmN1cnJlbnRJbmRleC0xP3NsaWRlcy5sZW5ndGgtMTpjdXJyZW50SW5kZXgtMTtyZXR1cm4gJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbj92b2lkIDA6c2VsZi5zZWxlY3Qoc2xpZGVzW25ld0luZGV4XSwicHJldiIpfSwkc2NvcGUuaXNBY3RpdmU9ZnVuY3Rpb24oc2xpZGUpe3JldHVybiBzZWxmLmN1cnJlbnRTbGlkZT09PXNsaWRlfSwkc2NvcGUuJHdhdGNoKCJpbnRlcnZhbCIscmVzdGFydFRpbWVyKSwkc2NvcGUuJG9uKCIkZGVzdHJveSIscmVzZXRUaW1lciksJHNjb3BlLnBsYXk9ZnVuY3Rpb24oKXtpc1BsYXlpbmd8fChpc1BsYXlpbmc9ITAscmVzdGFydFRpbWVyKCkpfSwkc2NvcGUucGF1c2U9ZnVuY3Rpb24oKXskc2NvcGUubm9QYXVzZXx8KGlzUGxheWluZz0hMSxyZXNldFRpbWVyKCkpfSxzZWxmLmFkZFNsaWRlPWZ1bmN0aW9uKHNsaWRlLGVsZW1lbnQpe3NsaWRlLiRlbGVtZW50PWVsZW1lbnQsc2xpZGVzLnB1c2goc2xpZGUpLDE9PT1zbGlkZXMubGVuZ3RofHxzbGlkZS5hY3RpdmU/KHNlbGYuc2VsZWN0KHNsaWRlc1tzbGlkZXMubGVuZ3RoLTFdKSwxPT1zbGlkZXMubGVuZ3RoJiYkc2NvcGUucGxheSgpKTpzbGlkZS5hY3RpdmU9ITF9LHNlbGYucmVtb3ZlU2xpZGU9ZnVuY3Rpb24oc2xpZGUpe3ZhciBpbmRleD1zbGlkZXMuaW5kZXhPZihzbGlkZSk7c2xpZGVzLnNwbGljZShpbmRleCwxKSxzbGlkZXMubGVuZ3RoPjAmJnNsaWRlLmFjdGl2ZT9zZWxmLnNlbGVjdChpbmRleD49c2xpZGVzLmxlbmd0aD9zbGlkZXNbaW5kZXgtMV06c2xpZGVzW2luZGV4XSk6Y3VycmVudEluZGV4PmluZGV4JiZjdXJyZW50SW5kZXgtLX19XSkuZGlyZWN0aXZlKCJjYXJvdXNlbCIsW2Z1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsdHJhbnNjbHVkZTohMCxyZXBsYWNlOiEwLGNvbnRyb2xsZXI6IkNhcm91c2VsQ29udHJvbGxlciIscmVxdWlyZToiY2Fyb3VzZWwiLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sIixzY29wZTp7aW50ZXJ2YWw6Ij0iLG5vVHJhbnNpdGlvbjoiPSIsbm9QYXVzZToiPSJ9fX1dKS5kaXJlY3RpdmUoInNsaWRlIixmdW5jdGlvbigpe3JldHVybntyZXF1aXJlOiJeY2Fyb3VzZWwiLHJlc3RyaWN0OiJFQSIsdHJhbnNjbHVkZTohMCxyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sIixzY29wZTp7YWN0aXZlOiI9PyJ9LGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjYXJvdXNlbEN0cmwpe2Nhcm91c2VsQ3RybC5hZGRTbGlkZShzY29wZSxlbGVtZW50KSxzY29wZS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe2Nhcm91c2VsQ3RybC5yZW1vdmVTbGlkZShzY29wZSl9KSxzY29wZS4kd2F0Y2goImFjdGl2ZSIsZnVuY3Rpb24oYWN0aXZlKXthY3RpdmUmJmNhcm91c2VsQ3RybC5zZWxlY3Qoc2NvcGUpfSl9fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuZGF0ZXBhcnNlciIsW10pLnNlcnZpY2UoImRhdGVQYXJzZXIiLFsiJGxvY2FsZSIsIm9yZGVyQnlGaWx0ZXIiLGZ1bmN0aW9uKCRsb2NhbGUsb3JkZXJCeUZpbHRlcil7ZnVuY3Rpb24gY3JlYXRlUGFyc2VyKGZvcm1hdCl7dmFyIG1hcD1bXSxyZWdleD1mb3JtYXQuc3BsaXQoIiIpO3JldHVybiBhbmd1bGFyLmZvckVhY2goZm9ybWF0Q29kZVRvUmVnZXgsZnVuY3Rpb24oZGF0YSxjb2RlKXt2YXIgaW5kZXg9Zm9ybWF0LmluZGV4T2YoY29kZSk7aWYoaW5kZXg+LTEpe2Zvcm1hdD1mb3JtYXQuc3BsaXQoIiIpLHJlZ2V4W2luZGV4XT0iKCIrZGF0YS5yZWdleCsiKSIsZm9ybWF0W2luZGV4XT0iJCI7Zm9yKHZhciBpPWluZGV4KzEsbj1pbmRleCtjb2RlLmxlbmd0aDtuPmk7aSsrKXJlZ2V4W2ldPSIiLGZvcm1hdFtpXT0iJCI7Zm9ybWF0PWZvcm1hdC5qb2luKCIiKSxtYXAucHVzaCh7aW5kZXg6aW5kZXgsYXBwbHk6ZGF0YS5hcHBseX0pfX0pLHtyZWdleDpuZXcgUmVnRXhwKCJeIityZWdleC5qb2luKCIiKSsiJCIpLG1hcDpvcmRlckJ5RmlsdGVyKG1hcCwiaW5kZXgiKX19ZnVuY3Rpb24gaXNWYWxpZCh5ZWFyLG1vbnRoLGRhdGUpe3JldHVybiAxPT09bW9udGgmJmRhdGU+Mjg/Mjk9PT1kYXRlJiYoeWVhciU0PT09MCYmeWVhciUxMDAhPT0wfHx5ZWFyJTQwMD09PTApOjM9PT1tb250aHx8NT09PW1vbnRofHw4PT09bW9udGh8fDEwPT09bW9udGg/MzE+ZGF0ZTohMH10aGlzLnBhcnNlcnM9e307dmFyIGZvcm1hdENvZGVUb1JlZ2V4PXt5eXl5OntyZWdleDoiXFxkezR9IixhcHBseTpmdW5jdGlvbih2YWx1ZSl7dGhpcy55ZWFyPSt2YWx1ZX19LHl5OntyZWdleDoiXFxkezJ9IixhcHBseTpmdW5jdGlvbih2YWx1ZSl7dGhpcy55ZWFyPSt2YWx1ZSsyZTN9fSx5OntyZWdleDoiXFxkezEsNH0iLGFwcGx5OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLnllYXI9K3ZhbHVlCn19LE1NTU06e3JlZ2V4OiRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5NT05USC5qb2luKCJ8IiksYXBwbHk6ZnVuY3Rpb24odmFsdWUpe3RoaXMubW9udGg9JGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLk1PTlRILmluZGV4T2YodmFsdWUpfX0sTU1NOntyZWdleDokbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuU0hPUlRNT05USC5qb2luKCJ8IiksYXBwbHk6ZnVuY3Rpb24odmFsdWUpe3RoaXMubW9udGg9JGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLlNIT1JUTU9OVEguaW5kZXhPZih2YWx1ZSl9fSxNTTp7cmVnZXg6IjBbMS05XXwxWzAtMl0iLGFwcGx5OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLm1vbnRoPXZhbHVlLTF9fSxNOntyZWdleDoiWzEtOV18MVswLTJdIixhcHBseTpmdW5jdGlvbih2YWx1ZSl7dGhpcy5tb250aD12YWx1ZS0xfX0sZGQ6e3JlZ2V4OiJbMC0yXVswLTldezF9fDNbMC0xXXsxfSIsYXBwbHk6ZnVuY3Rpb24odmFsdWUpe3RoaXMuZGF0ZT0rdmFsdWV9fSxkOntyZWdleDoiWzEtMl0/WzAtOV17MX18M1swLTFdezF9IixhcHBseTpmdW5jdGlvbih2YWx1ZSl7dGhpcy5kYXRlPSt2YWx1ZX19LEVFRUU6e3JlZ2V4OiRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5EQVkuam9pbigifCIpfSxFRUU6e3JlZ2V4OiRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5TSE9SVERBWS5qb2luKCJ8Iil9fTt0aGlzLnBhcnNlPWZ1bmN0aW9uKGlucHV0LGZvcm1hdCl7aWYoIWFuZ3VsYXIuaXNTdHJpbmcoaW5wdXQpfHwhZm9ybWF0KXJldHVybiBpbnB1dDtmb3JtYXQ9JGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTW2Zvcm1hdF18fGZvcm1hdCx0aGlzLnBhcnNlcnNbZm9ybWF0XXx8KHRoaXMucGFyc2Vyc1tmb3JtYXRdPWNyZWF0ZVBhcnNlcihmb3JtYXQpKTt2YXIgcGFyc2VyPXRoaXMucGFyc2Vyc1tmb3JtYXRdLHJlZ2V4PXBhcnNlci5yZWdleCxtYXA9cGFyc2VyLm1hcCxyZXN1bHRzPWlucHV0Lm1hdGNoKHJlZ2V4KTtpZihyZXN1bHRzJiZyZXN1bHRzLmxlbmd0aCl7Zm9yKHZhciBkdCxmaWVsZHM9e3llYXI6MTkwMCxtb250aDowLGRhdGU6MSxob3VyczowfSxpPTEsbj1yZXN1bHRzLmxlbmd0aDtuPmk7aSsrKXt2YXIgbWFwcGVyPW1hcFtpLTFdO21hcHBlci5hcHBseSYmbWFwcGVyLmFwcGx5LmNhbGwoZmllbGRzLHJlc3VsdHNbaV0pfXJldHVybiBpc1ZhbGlkKGZpZWxkcy55ZWFyLGZpZWxkcy5tb250aCxmaWVsZHMuZGF0ZSkmJihkdD1uZXcgRGF0ZShmaWVsZHMueWVhcixmaWVsZHMubW9udGgsZmllbGRzLmRhdGUsZmllbGRzLmhvdXJzKSksZHR9fX1dKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnBvc2l0aW9uIixbXSkuZmFjdG9yeSgiJHBvc2l0aW9uIixbIiRkb2N1bWVudCIsIiR3aW5kb3ciLGZ1bmN0aW9uKCRkb2N1bWVudCwkd2luZG93KXtmdW5jdGlvbiBnZXRTdHlsZShlbCxjc3Nwcm9wKXtyZXR1cm4gZWwuY3VycmVudFN0eWxlP2VsLmN1cnJlbnRTdHlsZVtjc3Nwcm9wXTokd2luZG93LmdldENvbXB1dGVkU3R5bGU/JHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKVtjc3Nwcm9wXTplbC5zdHlsZVtjc3Nwcm9wXX1mdW5jdGlvbiBpc1N0YXRpY1Bvc2l0aW9uZWQoZWxlbWVudCl7cmV0dXJuInN0YXRpYyI9PT0oZ2V0U3R5bGUoZWxlbWVudCwicG9zaXRpb24iKXx8InN0YXRpYyIpfXZhciBwYXJlbnRPZmZzZXRFbD1mdW5jdGlvbihlbGVtZW50KXtmb3IodmFyIGRvY0RvbUVsPSRkb2N1bWVudFswXSxvZmZzZXRQYXJlbnQ9ZWxlbWVudC5vZmZzZXRQYXJlbnR8fGRvY0RvbUVsO29mZnNldFBhcmVudCYmb2Zmc2V0UGFyZW50IT09ZG9jRG9tRWwmJmlzU3RhdGljUG9zaXRpb25lZChvZmZzZXRQYXJlbnQpOylvZmZzZXRQYXJlbnQ9b2Zmc2V0UGFyZW50Lm9mZnNldFBhcmVudDtyZXR1cm4gb2Zmc2V0UGFyZW50fHxkb2NEb21FbH07cmV0dXJue3Bvc2l0aW9uOmZ1bmN0aW9uKGVsZW1lbnQpe3ZhciBlbEJDUj10aGlzLm9mZnNldChlbGVtZW50KSxvZmZzZXRQYXJlbnRCQ1I9e3RvcDowLGxlZnQ6MH0sb2Zmc2V0UGFyZW50RWw9cGFyZW50T2Zmc2V0RWwoZWxlbWVudFswXSk7b2Zmc2V0UGFyZW50RWwhPSRkb2N1bWVudFswXSYmKG9mZnNldFBhcmVudEJDUj10aGlzLm9mZnNldChhbmd1bGFyLmVsZW1lbnQob2Zmc2V0UGFyZW50RWwpKSxvZmZzZXRQYXJlbnRCQ1IudG9wKz1vZmZzZXRQYXJlbnRFbC5jbGllbnRUb3Atb2Zmc2V0UGFyZW50RWwuc2Nyb2xsVG9wLG9mZnNldFBhcmVudEJDUi5sZWZ0Kz1vZmZzZXRQYXJlbnRFbC5jbGllbnRMZWZ0LW9mZnNldFBhcmVudEVsLnNjcm9sbExlZnQpO3ZhciBib3VuZGluZ0NsaWVudFJlY3Q9ZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm57d2lkdGg6Ym91bmRpbmdDbGllbnRSZWN0LndpZHRofHxlbGVtZW50LnByb3AoIm9mZnNldFdpZHRoIiksaGVpZ2h0OmJvdW5kaW5nQ2xpZW50UmVjdC5oZWlnaHR8fGVsZW1lbnQucHJvcCgib2Zmc2V0SGVpZ2h0IiksdG9wOmVsQkNSLnRvcC1vZmZzZXRQYXJlbnRCQ1IudG9wLGxlZnQ6ZWxCQ1IubGVmdC1vZmZzZXRQYXJlbnRCQ1IubGVmdH19LG9mZnNldDpmdW5jdGlvbihlbGVtZW50KXt2YXIgYm91bmRpbmdDbGllbnRSZWN0PWVsZW1lbnRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJue3dpZHRoOmJvdW5kaW5nQ2xpZW50UmVjdC53aWR0aHx8ZWxlbWVudC5wcm9wKCJvZmZzZXRXaWR0aCIpLGhlaWdodDpib3VuZGluZ0NsaWVudFJlY3QuaGVpZ2h0fHxlbGVtZW50LnByb3AoIm9mZnNldEhlaWdodCIpLHRvcDpib3VuZGluZ0NsaWVudFJlY3QudG9wKygkd2luZG93LnBhZ2VZT2Zmc2V0fHwkZG9jdW1lbnRbMF0uZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCksbGVmdDpib3VuZGluZ0NsaWVudFJlY3QubGVmdCsoJHdpbmRvdy5wYWdlWE9mZnNldHx8JGRvY3VtZW50WzBdLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0KX19LHBvc2l0aW9uRWxlbWVudHM6ZnVuY3Rpb24oaG9zdEVsLHRhcmdldEVsLHBvc2l0aW9uU3RyLGFwcGVuZFRvQm9keSl7dmFyIGhvc3RFbFBvcyx0YXJnZXRFbFdpZHRoLHRhcmdldEVsSGVpZ2h0LHRhcmdldEVsUG9zLHBvc2l0aW9uU3RyUGFydHM9cG9zaXRpb25TdHIuc3BsaXQoIi0iKSxwb3MwPXBvc2l0aW9uU3RyUGFydHNbMF0scG9zMT1wb3NpdGlvblN0clBhcnRzWzFdfHwiY2VudGVyIjtob3N0RWxQb3M9YXBwZW5kVG9Cb2R5P3RoaXMub2Zmc2V0KGhvc3RFbCk6dGhpcy5wb3NpdGlvbihob3N0RWwpLHRhcmdldEVsV2lkdGg9dGFyZ2V0RWwucHJvcCgib2Zmc2V0V2lkdGgiKSx0YXJnZXRFbEhlaWdodD10YXJnZXRFbC5wcm9wKCJvZmZzZXRIZWlnaHQiKTt2YXIgc2hpZnRXaWR0aD17Y2VudGVyOmZ1bmN0aW9uKCl7cmV0dXJuIGhvc3RFbFBvcy5sZWZ0K2hvc3RFbFBvcy53aWR0aC8yLXRhcmdldEVsV2lkdGgvMn0sbGVmdDpmdW5jdGlvbigpe3JldHVybiBob3N0RWxQb3MubGVmdH0scmlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gaG9zdEVsUG9zLmxlZnQraG9zdEVsUG9zLndpZHRofX0sc2hpZnRIZWlnaHQ9e2NlbnRlcjpmdW5jdGlvbigpe3JldHVybiBob3N0RWxQb3MudG9wK2hvc3RFbFBvcy5oZWlnaHQvMi10YXJnZXRFbEhlaWdodC8yfSx0b3A6ZnVuY3Rpb24oKXtyZXR1cm4gaG9zdEVsUG9zLnRvcH0sYm90dG9tOmZ1bmN0aW9uKCl7cmV0dXJuIGhvc3RFbFBvcy50b3AraG9zdEVsUG9zLmhlaWdodH19O3N3aXRjaChwb3MwKXtjYXNlInJpZ2h0Ijp0YXJnZXRFbFBvcz17dG9wOnNoaWZ0SGVpZ2h0W3BvczFdKCksbGVmdDpzaGlmdFdpZHRoW3BvczBdKCl9O2JyZWFrO2Nhc2UibGVmdCI6dGFyZ2V0RWxQb3M9e3RvcDpzaGlmdEhlaWdodFtwb3MxXSgpLGxlZnQ6aG9zdEVsUG9zLmxlZnQtdGFyZ2V0RWxXaWR0aH07YnJlYWs7Y2FzZSJib3R0b20iOnRhcmdldEVsUG9zPXt0b3A6c2hpZnRIZWlnaHRbcG9zMF0oKSxsZWZ0OnNoaWZ0V2lkdGhbcG9zMV0oKX07YnJlYWs7ZGVmYXVsdDp0YXJnZXRFbFBvcz17dG9wOmhvc3RFbFBvcy50b3AtdGFyZ2V0RWxIZWlnaHQsbGVmdDpzaGlmdFdpZHRoW3BvczFdKCl9fXJldHVybiB0YXJnZXRFbFBvc319fV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuZGF0ZXBpY2tlciIsWyJ1aS5ib290c3RyYXAuZGF0ZXBhcnNlciIsInVpLmJvb3RzdHJhcC5wb3NpdGlvbiJdKS5jb25zdGFudCgiZGF0ZXBpY2tlckNvbmZpZyIse2Zvcm1hdERheToiZGQiLGZvcm1hdE1vbnRoOiJNTU1NIixmb3JtYXRZZWFyOiJ5eXl5Iixmb3JtYXREYXlIZWFkZXI6IkVFRSIsZm9ybWF0RGF5VGl0bGU6Ik1NTU0geXl5eSIsZm9ybWF0TW9udGhUaXRsZToieXl5eSIsZGF0ZXBpY2tlck1vZGU6ImRheSIsbWluTW9kZToiZGF5IixtYXhNb2RlOiJ5ZWFyIixzaG93V2Vla3M6ITAsc3RhcnRpbmdEYXk6MCx5ZWFyUmFuZ2U6MjAsbWluRGF0ZTpudWxsLG1heERhdGU6bnVsbH0pLmNvbnRyb2xsZXIoIkRhdGVwaWNrZXJDb250cm9sbGVyIixbIiRzY29wZSIsIiRhdHRycyIsIiRwYXJzZSIsIiRpbnRlcnBvbGF0ZSIsIiR0aW1lb3V0IiwiJGxvZyIsImRhdGVGaWx0ZXIiLCJkYXRlcGlja2VyQ29uZmlnIixmdW5jdGlvbigkc2NvcGUsJGF0dHJzLCRwYXJzZSwkaW50ZXJwb2xhdGUsJHRpbWVvdXQsJGxvZyxkYXRlRmlsdGVyLGRhdGVwaWNrZXJDb25maWcpe3ZhciBzZWxmPXRoaXMsbmdNb2RlbEN0cmw9eyRzZXRWaWV3VmFsdWU6YW5ndWxhci5ub29wfTt0aGlzLm1vZGVzPVsiZGF5IiwibW9udGgiLCJ5ZWFyIl0sYW5ndWxhci5mb3JFYWNoKFsiZm9ybWF0RGF5IiwiZm9ybWF0TW9udGgiLCJmb3JtYXRZZWFyIiwiZm9ybWF0RGF5SGVhZGVyIiwiZm9ybWF0RGF5VGl0bGUiLCJmb3JtYXRNb250aFRpdGxlIiwibWluTW9kZSIsIm1heE1vZGUiLCJzaG93V2Vla3MiLCJzdGFydGluZ0RheSIsInllYXJSYW5nZSJdLGZ1bmN0aW9uKGtleSxpbmRleCl7c2VsZltrZXldPWFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRyc1trZXldKT84PmluZGV4PyRpbnRlcnBvbGF0ZSgkYXR0cnNba2V5XSkoJHNjb3BlLiRwYXJlbnQpOiRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRyc1trZXldKTpkYXRlcGlja2VyQ29uZmlnW2tleV19KSxhbmd1bGFyLmZvckVhY2goWyJtaW5EYXRlIiwibWF4RGF0ZSJdLGZ1bmN0aW9uKGtleSl7JGF0dHJzW2tleV0/JHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnNba2V5XSksZnVuY3Rpb24odmFsdWUpe3NlbGZba2V5XT12YWx1ZT9uZXcgRGF0ZSh2YWx1ZSk6bnVsbCxzZWxmLnJlZnJlc2hWaWV3KCl9KTpzZWxmW2tleV09ZGF0ZXBpY2tlckNvbmZpZ1trZXldP25ldyBEYXRlKGRhdGVwaWNrZXJDb25maWdba2V5XSk6bnVsbH0pLCRzY29wZS5kYXRlcGlja2VyTW9kZT0kc2NvcGUuZGF0ZXBpY2tlck1vZGV8fGRhdGVwaWNrZXJDb25maWcuZGF0ZXBpY2tlck1vZGUsJHNjb3BlLnVuaXF1ZUlkPSJkYXRlcGlja2VyLSIrJHNjb3BlLiRpZCsiLSIrTWF0aC5mbG9vcigxZTQqTWF0aC5yYW5kb20oKSksdGhpcy5hY3RpdmVEYXRlPWFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5pbml0RGF0ZSk/JHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLmluaXREYXRlKTpuZXcgRGF0ZSwkc2NvcGUuaXNBY3RpdmU9ZnVuY3Rpb24oZGF0ZU9iamVjdCl7cmV0dXJuIDA9PT1zZWxmLmNvbXBhcmUoZGF0ZU9iamVjdC5kYXRlLHNlbGYuYWN0aXZlRGF0ZSk/KCRzY29wZS5hY3RpdmVEYXRlSWQ9ZGF0ZU9iamVjdC51aWQsITApOiExfSx0aGlzLmluaXQ9ZnVuY3Rpb24obmdNb2RlbEN0cmxfKXtuZ01vZGVsQ3RybD1uZ01vZGVsQ3RybF8sbmdNb2RlbEN0cmwuJHJlbmRlcj1mdW5jdGlvbigpe3NlbGYucmVuZGVyKCl9fSx0aGlzLnJlbmRlcj1mdW5jdGlvbigpe2lmKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlKXt2YXIgZGF0ZT1uZXcgRGF0ZShuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSksaXNWYWxpZD0haXNOYU4oZGF0ZSk7aXNWYWxpZD90aGlzLmFjdGl2ZURhdGU9ZGF0ZTokbG9nLmVycm9yKCdEYXRlcGlja2VyIGRpcmVjdGl2ZTogIm5nLW1vZGVsIiB2YWx1ZSBtdXN0IGJlIGEgRGF0ZSBvYmplY3QsIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSAwMS4wMS4xOTcwIG9yIGEgc3RyaW5nIHJlcHJlc2VudGluZyBhbiBSRkMyODIyIG9yIElTTyA4NjAxIGRhdGUuJyksbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCJkYXRlIixpc1ZhbGlkKX10aGlzLnJlZnJlc2hWaWV3KCl9LHRoaXMucmVmcmVzaFZpZXc9ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1lbnQpe3RoaXMuX3JlZnJlc2hWaWV3KCk7dmFyIGRhdGU9bmdNb2RlbEN0cmwuJG1vZGVsVmFsdWU/bmV3IERhdGUobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUpOm51bGw7bmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCJkYXRlLWRpc2FibGVkIiwhZGF0ZXx8dGhpcy5lbGVtZW50JiYhdGhpcy5pc0Rpc2FibGVkKGRhdGUpKX19LHRoaXMuY3JlYXRlRGF0ZU9iamVjdD1mdW5jdGlvbihkYXRlLGZvcm1hdCl7dmFyIG1vZGVsPW5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlP25ldyBEYXRlKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlKTpudWxsO3JldHVybntkYXRlOmRhdGUsbGFiZWw6ZGF0ZUZpbHRlcihkYXRlLGZvcm1hdCksc2VsZWN0ZWQ6bW9kZWwmJjA9PT10aGlzLmNvbXBhcmUoZGF0ZSxtb2RlbCksZGlzYWJsZWQ6dGhpcy5pc0Rpc2FibGVkKGRhdGUpLGN1cnJlbnQ6MD09PXRoaXMuY29tcGFyZShkYXRlLG5ldyBEYXRlKX19LHRoaXMuaXNEaXNhYmxlZD1mdW5jdGlvbihkYXRlKXtyZXR1cm4gdGhpcy5taW5EYXRlJiZ0aGlzLmNvbXBhcmUoZGF0ZSx0aGlzLm1pbkRhdGUpPDB8fHRoaXMubWF4RGF0ZSYmdGhpcy5jb21wYXJlKGRhdGUsdGhpcy5tYXhEYXRlKT4wfHwkYXR0cnMuZGF0ZURpc2FibGVkJiYkc2NvcGUuZGF0ZURpc2FibGVkKHtkYXRlOmRhdGUsbW9kZTokc2NvcGUuZGF0ZXBpY2tlck1vZGV9KX0sdGhpcy5zcGxpdD1mdW5jdGlvbihhcnIsc2l6ZSl7Zm9yKHZhciBhcnJheXM9W107YXJyLmxlbmd0aD4wOylhcnJheXMucHVzaChhcnIuc3BsaWNlKDAsc2l6ZSkpO3JldHVybiBhcnJheXN9LCRzY29wZS5zZWxlY3Q9ZnVuY3Rpb24oZGF0ZSl7aWYoJHNjb3BlLmRhdGVwaWNrZXJNb2RlPT09c2VsZi5taW5Nb2RlKXt2YXIgZHQ9bmdNb2RlbEN0cmwuJG1vZGVsVmFsdWU/bmV3IERhdGUobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUpOm5ldyBEYXRlKDAsMCwwLDAsMCwwLDApO2R0LnNldEZ1bGxZZWFyKGRhdGUuZ2V0RnVsbFllYXIoKSxkYXRlLmdldE1vbnRoKCksZGF0ZS5nZXREYXRlKCkpLG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoZHQpLG5nTW9kZWxDdHJsLiRyZW5kZXIoKX1lbHNlIHNlbGYuYWN0aXZlRGF0ZT1kYXRlLCRzY29wZS5kYXRlcGlja2VyTW9kZT1zZWxmLm1vZGVzW3NlbGYubW9kZXMuaW5kZXhPZigkc2NvcGUuZGF0ZXBpY2tlck1vZGUpLTFdfSwkc2NvcGUubW92ZT1mdW5jdGlvbihkaXJlY3Rpb24pe3ZhciB5ZWFyPXNlbGYuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpK2RpcmVjdGlvbiooc2VsZi5zdGVwLnllYXJzfHwwKSxtb250aD1zZWxmLmFjdGl2ZURhdGUuZ2V0TW9udGgoKStkaXJlY3Rpb24qKHNlbGYuc3RlcC5tb250aHN8fDApO3NlbGYuYWN0aXZlRGF0ZS5zZXRGdWxsWWVhcih5ZWFyLG1vbnRoLDEpLHNlbGYucmVmcmVzaFZpZXcoKX0sJHNjb3BlLnRvZ2dsZU1vZGU9ZnVuY3Rpb24oZGlyZWN0aW9uKXtkaXJlY3Rpb249ZGlyZWN0aW9ufHwxLCRzY29wZS5kYXRlcGlja2VyTW9kZT09PXNlbGYubWF4TW9kZSYmMT09PWRpcmVjdGlvbnx8JHNjb3BlLmRhdGVwaWNrZXJNb2RlPT09c2VsZi5taW5Nb2RlJiYtMT09PWRpcmVjdGlvbnx8KCRzY29wZS5kYXRlcGlja2VyTW9kZT1zZWxmLm1vZGVzW3NlbGYubW9kZXMuaW5kZXhPZigkc2NvcGUuZGF0ZXBpY2tlck1vZGUpK2RpcmVjdGlvbl0pfSwkc2NvcGUua2V5cz17MTM6ImVudGVyIiwzMjoic3BhY2UiLDMzOiJwYWdldXAiLDM0OiJwYWdlZG93biIsMzU6ImVuZCIsMzY6ImhvbWUiLDM3OiJsZWZ0IiwzODoidXAiLDM5OiJyaWdodCIsNDA6ImRvd24ifTt2YXIgZm9jdXNFbGVtZW50PWZ1bmN0aW9uKCl7JHRpbWVvdXQoZnVuY3Rpb24oKXtzZWxmLmVsZW1lbnRbMF0uZm9jdXMoKX0sMCwhMSl9OyRzY29wZS4kb24oImRhdGVwaWNrZXIuZm9jdXMiLGZvY3VzRWxlbWVudCksJHNjb3BlLmtleWRvd249ZnVuY3Rpb24oZXZ0KXt2YXIga2V5PSRzY29wZS5rZXlzW2V2dC53aGljaF07aWYoa2V5JiYhZXZ0LnNoaWZ0S2V5JiYhZXZ0LmFsdEtleSlpZihldnQucHJldmVudERlZmF1bHQoKSxldnQuc3RvcFByb3BhZ2F0aW9uKCksImVudGVyIj09PWtleXx8InNwYWNlIj09PWtleSl7aWYoc2VsZi5pc0Rpc2FibGVkKHNlbGYuYWN0aXZlRGF0ZSkpcmV0dXJuOyRzY29wZS5zZWxlY3Qoc2VsZi5hY3RpdmVEYXRlKSxmb2N1c0VsZW1lbnQoKX1lbHNlIWV2dC5jdHJsS2V5fHwidXAiIT09a2V5JiYiZG93biIhPT1rZXk/KHNlbGYuaGFuZGxlS2V5RG93bihrZXksZXZ0KSxzZWxmLnJlZnJlc2hWaWV3KCkpOigkc2NvcGUudG9nZ2xlTW9kZSgidXAiPT09a2V5PzE6LTEpLGZvY3VzRWxlbWVudCgpKX19XSkuZGlyZWN0aXZlKCJkYXRlcGlja2VyIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sIixzY29wZTp7ZGF0ZXBpY2tlck1vZGU6Ij0/IixkYXRlRGlzYWJsZWQ6IiYifSxyZXF1aXJlOlsiZGF0ZXBpY2tlciIsIj9ebmdNb2RlbCJdLGNvbnRyb2xsZXI6IkRhdGVwaWNrZXJDb250cm9sbGVyIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsY3RybHMpe3ZhciBkYXRlcGlja2VyQ3RybD1jdHJsc1swXSxuZ01vZGVsQ3RybD1jdHJsc1sxXTtuZ01vZGVsQ3RybCYmZGF0ZXBpY2tlckN0cmwuaW5pdChuZ01vZGVsQ3RybCl9fX0pLmRpcmVjdGl2ZSgiZGF5cGlja2VyIixbImRhdGVGaWx0ZXIiLGZ1bmN0aW9uKGRhdGVGaWx0ZXIpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2RhdGVwaWNrZXIvZGF5Lmh0bWwiLHJlcXVpcmU6Il5kYXRlcGlja2VyIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsY3RybCl7ZnVuY3Rpb24gZ2V0RGF5c0luTW9udGgoeWVhcixtb250aCl7cmV0dXJuIDEhPT1tb250aHx8eWVhciU0IT09MHx8eWVhciUxMDA9PT0wJiZ5ZWFyJTQwMCE9PTA/REFZU19JTl9NT05USFttb250aF06Mjl9ZnVuY3Rpb24gZ2V0RGF0ZXMoc3RhcnREYXRlLG4pe3ZhciBkYXRlcz1uZXcgQXJyYXkobiksY3VycmVudD1uZXcgRGF0ZShzdGFydERhdGUpLGk9MDtmb3IoY3VycmVudC5zZXRIb3VycygxMik7bj5pOylkYXRlc1tpKytdPW5ldyBEYXRlKGN1cnJlbnQpLGN1cnJlbnQuc2V0RGF0ZShjdXJyZW50LmdldERhdGUoKSsxKTtyZXR1cm4gZGF0ZXN9ZnVuY3Rpb24gZ2V0SVNPODYwMVdlZWtOdW1iZXIoZGF0ZSl7dmFyIGNoZWNrRGF0ZT1uZXcgRGF0ZShkYXRlKTtjaGVja0RhdGUuc2V0RGF0ZShjaGVja0RhdGUuZ2V0RGF0ZSgpKzQtKGNoZWNrRGF0ZS5nZXREYXkoKXx8NykpO3ZhciB0aW1lPWNoZWNrRGF0ZS5nZXRUaW1lKCk7cmV0dXJuIGNoZWNrRGF0ZS5zZXRNb250aCgwKSxjaGVja0RhdGUuc2V0RGF0ZSgxKSxNYXRoLmZsb29yKE1hdGgucm91bmQoKHRpbWUtY2hlY2tEYXRlKS84NjRlNSkvNykrMX1zY29wZS5zaG93V2Vla3M9Y3RybC5zaG93V2Vla3MsY3RybC5zdGVwPXttb250aHM6MX0sY3RybC5lbGVtZW50PWVsZW1lbnQ7dmFyIERBWVNfSU5fTU9OVEg9WzMxLDI4LDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXTtjdHJsLl9yZWZyZXNoVmlldz1mdW5jdGlvbigpe3ZhciB5ZWFyPWN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpLG1vbnRoPWN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpLGZpcnN0RGF5T2ZNb250aD1uZXcgRGF0ZSh5ZWFyLG1vbnRoLDEpLGRpZmZlcmVuY2U9Y3RybC5zdGFydGluZ0RheS1maXJzdERheU9mTW9udGguZ2V0RGF5KCksbnVtRGlzcGxheWVkRnJvbVByZXZpb3VzTW9udGg9ZGlmZmVyZW5jZT4wPzctZGlmZmVyZW5jZTotZGlmZmVyZW5jZSxmaXJzdERhdGU9bmV3IERhdGUoZmlyc3REYXlPZk1vbnRoKTtudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aD4wJiZmaXJzdERhdGUuc2V0RGF0ZSgtbnVtRGlzcGxheWVkRnJvbVByZXZpb3VzTW9udGgrMSk7Zm9yKHZhciBkYXlzPWdldERhdGVzKGZpcnN0RGF0ZSw0MiksaT0wOzQyPmk7aSsrKWRheXNbaV09YW5ndWxhci5leHRlbmQoY3RybC5jcmVhdGVEYXRlT2JqZWN0KGRheXNbaV0sY3RybC5mb3JtYXREYXkpLHtzZWNvbmRhcnk6ZGF5c1tpXS5nZXRNb250aCgpIT09bW9udGgsdWlkOnNjb3BlLnVuaXF1ZUlkKyItIitpfSk7c2NvcGUubGFiZWxzPW5ldyBBcnJheSg3KTtmb3IodmFyIGo9MDs3Pmo7aisrKXNjb3BlLmxhYmVsc1tqXT17YWJicjpkYXRlRmlsdGVyKGRheXNbal0uZGF0ZSxjdHJsLmZvcm1hdERheUhlYWRlciksZnVsbDpkYXRlRmlsdGVyKGRheXNbal0uZGF0ZSwiRUVFRSIpfTtpZihzY29wZS50aXRsZT1kYXRlRmlsdGVyKGN0cmwuYWN0aXZlRGF0ZSxjdHJsLmZvcm1hdERheVRpdGxlKSxzY29wZS5yb3dzPWN0cmwuc3BsaXQoZGF5cyw3KSxzY29wZS5zaG93V2Vla3Mpe3Njb3BlLndlZWtOdW1iZXJzPVtdO2Zvcih2YXIgd2Vla051bWJlcj1nZXRJU084NjAxV2Vla051bWJlcihzY29wZS5yb3dzWzBdWzBdLmRhdGUpLG51bVdlZWtzPXNjb3BlLnJvd3MubGVuZ3RoO3Njb3BlLndlZWtOdW1iZXJzLnB1c2god2Vla051bWJlcisrKTxudW1XZWVrczspO319LGN0cmwuY29tcGFyZT1mdW5jdGlvbihkYXRlMSxkYXRlMil7cmV0dXJuIG5ldyBEYXRlKGRhdGUxLmdldEZ1bGxZZWFyKCksZGF0ZTEuZ2V0TW9udGgoKSxkYXRlMS5nZXREYXRlKCkpLW5ldyBEYXRlKGRhdGUyLmdldEZ1bGxZZWFyKCksZGF0ZTIuZ2V0TW9udGgoKSxkYXRlMi5nZXREYXRlKCkpfSxjdHJsLmhhbmRsZUtleURvd249ZnVuY3Rpb24oa2V5KXt2YXIgZGF0ZT1jdHJsLmFjdGl2ZURhdGUuZ2V0RGF0ZSgpO2lmKCJsZWZ0Ij09PWtleSlkYXRlLT0xO2Vsc2UgaWYoInVwIj09PWtleSlkYXRlLT03O2Vsc2UgaWYoInJpZ2h0Ij09PWtleSlkYXRlKz0xO2Vsc2UgaWYoImRvd24iPT09a2V5KWRhdGUrPTc7ZWxzZSBpZigicGFnZXVwIj09PWtleXx8InBhZ2Vkb3duIj09PWtleSl7dmFyIG1vbnRoPWN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpKygicGFnZXVwIj09PWtleT8tMToxKTtjdHJsLmFjdGl2ZURhdGUuc2V0TW9udGgobW9udGgsMSksZGF0ZT1NYXRoLm1pbihnZXREYXlzSW5Nb250aChjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSxjdHJsLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSksZGF0ZSl9ZWxzZSJob21lIj09PWtleT9kYXRlPTE6ImVuZCI9PT1rZXkmJihkYXRlPWdldERheXNJbk1vbnRoKGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpLGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpKSk7Y3RybC5hY3RpdmVEYXRlLnNldERhdGUoZGF0ZSl9LGN0cmwucmVmcmVzaFZpZXcoKX19fV0pLmRpcmVjdGl2ZSgibW9udGhwaWNrZXIiLFsiZGF0ZUZpbHRlciIsZnVuY3Rpb24oZGF0ZUZpbHRlcil7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sIixyZXF1aXJlOiJeZGF0ZXBpY2tlciIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGN0cmwpe2N0cmwuc3RlcD17eWVhcnM6MX0sY3RybC5lbGVtZW50PWVsZW1lbnQsY3RybC5fcmVmcmVzaFZpZXc9ZnVuY3Rpb24oKXtmb3IodmFyIG1vbnRocz1uZXcgQXJyYXkoMTIpLHllYXI9Y3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksaT0wOzEyPmk7aSsrKW1vbnRoc1tpXT1hbmd1bGFyLmV4dGVuZChjdHJsLmNyZWF0ZURhdGVPYmplY3QobmV3IERhdGUoeWVhcixpLDEpLGN0cmwuZm9ybWF0TW9udGgpLHt1aWQ6c2NvcGUudW5pcXVlSWQrIi0iK2l9KTtzY29wZS50aXRsZT1kYXRlRmlsdGVyKGN0cmwuYWN0aXZlRGF0ZSxjdHJsLmZvcm1hdE1vbnRoVGl0bGUpLHNjb3BlLnJvd3M9Y3RybC5zcGxpdChtb250aHMsMyl9LGN0cmwuY29tcGFyZT1mdW5jdGlvbihkYXRlMSxkYXRlMil7cmV0dXJuIG5ldyBEYXRlKGRhdGUxLmdldEZ1bGxZZWFyKCksZGF0ZTEuZ2V0TW9udGgoKSktbmV3IERhdGUoZGF0ZTIuZ2V0RnVsbFllYXIoKSxkYXRlMi5nZXRNb250aCgpKX0sY3RybC5oYW5kbGVLZXlEb3duPWZ1bmN0aW9uKGtleSl7dmFyIGRhdGU9Y3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCk7aWYoImxlZnQiPT09a2V5KWRhdGUtPTE7ZWxzZSBpZigidXAiPT09a2V5KWRhdGUtPTM7ZWxzZSBpZigicmlnaHQiPT09a2V5KWRhdGUrPTE7ZWxzZSBpZigiZG93biI9PT1rZXkpZGF0ZSs9MztlbHNlIGlmKCJwYWdldXAiPT09a2V5fHwicGFnZWRvd24iPT09a2V5KXt2YXIgeWVhcj1jdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSsoInBhZ2V1cCI9PT1rZXk/LTE6MSk7Y3RybC5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKHllYXIpfWVsc2UiaG9tZSI9PT1rZXk/ZGF0ZT0wOiJlbmQiPT09a2V5JiYoZGF0ZT0xMSk7Y3RybC5hY3RpdmVEYXRlLnNldE1vbnRoKGRhdGUpfSxjdHJsLnJlZnJlc2hWaWV3KCl9fX1dKS5kaXJlY3RpdmUoInllYXJwaWNrZXIiLFsiZGF0ZUZpbHRlciIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbCIscmVxdWlyZToiXmRhdGVwaWNrZXIiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjdHJsKXtmdW5jdGlvbiBnZXRTdGFydGluZ1llYXIoeWVhcil7cmV0dXJuIHBhcnNlSW50KCh5ZWFyLTEpL3JhbmdlLDEwKSpyYW5nZSsxfXZhciByYW5nZT1jdHJsLnllYXJSYW5nZTtjdHJsLnN0ZXA9e3llYXJzOnJhbmdlfSxjdHJsLmVsZW1lbnQ9ZWxlbWVudCxjdHJsLl9yZWZyZXNoVmlldz1mdW5jdGlvbigpe2Zvcih2YXIgeWVhcnM9bmV3IEFycmF5KHJhbmdlKSxpPTAsc3RhcnQ9Z2V0U3RhcnRpbmdZZWFyKGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpKTtyYW5nZT5pO2krKyl5ZWFyc1tpXT1hbmd1bGFyLmV4dGVuZChjdHJsLmNyZWF0ZURhdGVPYmplY3QobmV3IERhdGUoc3RhcnQraSwwLDEpLGN0cmwuZm9ybWF0WWVhcikse3VpZDpzY29wZS51bmlxdWVJZCsiLSIraX0pO3Njb3BlLnRpdGxlPVt5ZWFyc1swXS5sYWJlbCx5ZWFyc1tyYW5nZS0xXS5sYWJlbF0uam9pbigiIC0gIiksc2NvcGUucm93cz1jdHJsLnNwbGl0KHllYXJzLDUpfSxjdHJsLmNvbXBhcmU9ZnVuY3Rpb24oZGF0ZTEsZGF0ZTIpe3JldHVybiBkYXRlMS5nZXRGdWxsWWVhcigpLWRhdGUyLmdldEZ1bGxZZWFyKCl9LGN0cmwuaGFuZGxlS2V5RG93bj1mdW5jdGlvbihrZXkpe3ZhciBkYXRlPWN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpOyJsZWZ0Ij09PWtleT9kYXRlLT0xOiJ1cCI9PT1rZXk/ZGF0ZS09NToicmlnaHQiPT09a2V5P2RhdGUrPTE6ImRvd24iPT09a2V5P2RhdGUrPTU6InBhZ2V1cCI9PT1rZXl8fCJwYWdlZG93biI9PT1rZXk/ZGF0ZSs9KCJwYWdldXAiPT09a2V5Py0xOjEpKmN0cmwuc3RlcC55ZWFyczoiaG9tZSI9PT1rZXk/ZGF0ZT1nZXRTdGFydGluZ1llYXIoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkpOiJlbmQiPT09a2V5JiYoZGF0ZT1nZXRTdGFydGluZ1llYXIoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkpK3JhbmdlLTEpLGN0cmwuYWN0aXZlRGF0ZS5zZXRGdWxsWWVhcihkYXRlKX0sY3RybC5yZWZyZXNoVmlldygpfX19XSkuY29uc3RhbnQoImRhdGVwaWNrZXJQb3B1cENvbmZpZyIse2RhdGVwaWNrZXJQb3B1cDoieXl5eS1NTS1kZCIsY3VycmVudFRleHQ6IlRvZGF5IixjbGVhclRleHQ6IkNsZWFyIixjbG9zZVRleHQ6IkRvbmUiLGNsb3NlT25EYXRlU2VsZWN0aW9uOiEwLGFwcGVuZFRvQm9keTohMSxzaG93QnV0dG9uQmFyOiEwfSkuZGlyZWN0aXZlKCJkYXRlcGlja2VyUG9wdXAiLFsiJGNvbXBpbGUiLCIkcGFyc2UiLCIkZG9jdW1lbnQiLCIkcG9zaXRpb24iLCJkYXRlRmlsdGVyIiwiZGF0ZVBhcnNlciIsImRhdGVwaWNrZXJQb3B1cENvbmZpZyIsZnVuY3Rpb24oJGNvbXBpbGUsJHBhcnNlLCRkb2N1bWVudCwkcG9zaXRpb24sZGF0ZUZpbHRlcixkYXRlUGFyc2VyLGRhdGVwaWNrZXJQb3B1cENvbmZpZyl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVxdWlyZToibmdNb2RlbCIsc2NvcGU6e2lzT3BlbjoiPT8iLGN1cnJlbnRUZXh0OiJAIixjbGVhclRleHQ6IkAiLGNsb3NlVGV4dDoiQCIsZGF0ZURpc2FibGVkOiImIn0sbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLG5nTW9kZWwpe2Z1bmN0aW9uIGNhbWVsdG9EYXNoKHN0cmluZyl7cmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oW0EtWl0pL2csZnVuY3Rpb24oJDEpe3JldHVybiItIiskMS50b0xvd2VyQ2FzZSgpfSl9ZnVuY3Rpb24gcGFyc2VEYXRlKHZpZXdWYWx1ZSl7aWYodmlld1ZhbHVlKXtpZihhbmd1bGFyLmlzRGF0ZSh2aWV3VmFsdWUpJiYhaXNOYU4odmlld1ZhbHVlKSlyZXR1cm4gbmdNb2RlbC4kc2V0VmFsaWRpdHkoImRhdGUiLCEwKSx2aWV3VmFsdWU7aWYoYW5ndWxhci5pc1N0cmluZyh2aWV3VmFsdWUpKXt2YXIgZGF0ZT1kYXRlUGFyc2VyLnBhcnNlKHZpZXdWYWx1ZSxkYXRlRm9ybWF0KXx8bmV3IERhdGUodmlld1ZhbHVlKTtyZXR1cm4gaXNOYU4oZGF0ZSk/dm9pZCBuZ01vZGVsLiRzZXRWYWxpZGl0eSgiZGF0ZSIsITEpOihuZ01vZGVsLiRzZXRWYWxpZGl0eSgiZGF0ZSIsITApLGRhdGUpfXJldHVybiB2b2lkIG5nTW9kZWwuJHNldFZhbGlkaXR5KCJkYXRlIiwhMSl9cmV0dXJuIG5nTW9kZWwuJHNldFZhbGlkaXR5KCJkYXRlIiwhMCksbnVsbH12YXIgZGF0ZUZvcm1hdCxjbG9zZU9uRGF0ZVNlbGVjdGlvbj1hbmd1bGFyLmlzRGVmaW5lZChhdHRycy5jbG9zZU9uRGF0ZVNlbGVjdGlvbik/c2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5jbG9zZU9uRGF0ZVNlbGVjdGlvbik6ZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmNsb3NlT25EYXRlU2VsZWN0aW9uLGFwcGVuZFRvQm9keT1hbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kYXRlcGlja2VyQXBwZW5kVG9Cb2R5KT9zY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmRhdGVwaWNrZXJBcHBlbmRUb0JvZHkpOmRhdGVwaWNrZXJQb3B1cENvbmZpZy5hcHBlbmRUb0JvZHk7c2NvcGUuc2hvd0J1dHRvbkJhcj1hbmd1bGFyLmlzRGVmaW5lZChhdHRycy5zaG93QnV0dG9uQmFyKT9zY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLnNob3dCdXR0b25CYXIpOmRhdGVwaWNrZXJQb3B1cENvbmZpZy5zaG93QnV0dG9uQmFyLHNjb3BlLmdldFRleHQ9ZnVuY3Rpb24oa2V5KXtyZXR1cm4gc2NvcGVba2V5KyJUZXh0Il18fGRhdGVwaWNrZXJQb3B1cENvbmZpZ1trZXkrIlRleHQiXX0sYXR0cnMuJG9ic2VydmUoImRhdGVwaWNrZXJQb3B1cCIsZnVuY3Rpb24odmFsdWUpe2RhdGVGb3JtYXQ9dmFsdWV8fGRhdGVwaWNrZXJQb3B1cENvbmZpZy5kYXRlcGlja2VyUG9wdXAsbmdNb2RlbC4kcmVuZGVyKCl9KTt2YXIgcG9wdXBFbD1hbmd1bGFyLmVsZW1lbnQoIjxkaXYgZGF0ZXBpY2tlci1wb3B1cC13cmFwPjxkaXYgZGF0ZXBpY2tlcj48L2Rpdj48L2Rpdj4iKTtwb3B1cEVsLmF0dHIoeyJuZy1tb2RlbCI6ImRhdGUiLCJuZy1jaGFuZ2UiOiJkYXRlU2VsZWN0aW9uKCkifSk7dmFyIGRhdGVwaWNrZXJFbD1hbmd1bGFyLmVsZW1lbnQocG9wdXBFbC5jaGlsZHJlbigpWzBdKTthdHRycy5kYXRlcGlja2VyT3B0aW9ucyYmYW5ndWxhci5mb3JFYWNoKHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuZGF0ZXBpY2tlck9wdGlvbnMpLGZ1bmN0aW9uKHZhbHVlLG9wdGlvbil7ZGF0ZXBpY2tlckVsLmF0dHIoY2FtZWx0b0Rhc2gob3B0aW9uKSx2YWx1ZSl9KSxzY29wZS53YXRjaERhdGE9e30sYW5ndWxhci5mb3JFYWNoKFsibWluRGF0ZSIsIm1heERhdGUiLCJkYXRlcGlja2VyTW9kZSJdLGZ1bmN0aW9uKGtleSl7aWYoYXR0cnNba2V5XSl7dmFyIGdldEF0dHJpYnV0ZT0kcGFyc2UoYXR0cnNba2V5XSk7aWYoc2NvcGUuJHBhcmVudC4kd2F0Y2goZ2V0QXR0cmlidXRlLGZ1bmN0aW9uKHZhbHVlKXtzY29wZS53YXRjaERhdGFba2V5XT12YWx1ZX0pLGRhdGVwaWNrZXJFbC5hdHRyKGNhbWVsdG9EYXNoKGtleSksIndhdGNoRGF0YS4iK2tleSksImRhdGVwaWNrZXJNb2RlIj09PWtleSl7dmFyIHNldEF0dHJpYnV0ZT1nZXRBdHRyaWJ1dGUuYXNzaWduO3Njb3BlLiR3YXRjaCgid2F0Y2hEYXRhLiIra2V5LGZ1bmN0aW9uKHZhbHVlLG9sZHZhbHVlKXt2YWx1ZSE9PW9sZHZhbHVlJiZzZXRBdHRyaWJ1dGUoc2NvcGUuJHBhcmVudCx2YWx1ZSl9KX19fSksYXR0cnMuZGF0ZURpc2FibGVkJiZkYXRlcGlja2VyRWwuYXR0cigiZGF0ZS1kaXNhYmxlZCIsImRhdGVEaXNhYmxlZCh7IGRhdGU6IGRhdGUsIG1vZGU6IG1vZGUgfSkiKSxuZ01vZGVsLiRwYXJzZXJzLnVuc2hpZnQocGFyc2VEYXRlKSxzY29wZS5kYXRlU2VsZWN0aW9uPWZ1bmN0aW9uKGR0KXthbmd1bGFyLmlzRGVmaW5lZChkdCkmJihzY29wZS5kYXRlPWR0KSxuZ01vZGVsLiRzZXRWaWV3VmFsdWUoc2NvcGUuZGF0ZSksbmdNb2RlbC4kcmVuZGVyKCksY2xvc2VPbkRhdGVTZWxlY3Rpb24mJihzY29wZS5pc09wZW49ITEsZWxlbWVudFswXS5mb2N1cygpKX0sZWxlbWVudC5iaW5kKCJpbnB1dCBjaGFuZ2Uga2V5dXAiLGZ1bmN0aW9uKCl7c2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7c2NvcGUuZGF0ZT1uZ01vZGVsLiRtb2RlbFZhbHVlfSl9KSxuZ01vZGVsLiRyZW5kZXI9ZnVuY3Rpb24oKXt2YXIgZGF0ZT1uZ01vZGVsLiR2aWV3VmFsdWU/ZGF0ZUZpbHRlcihuZ01vZGVsLiR2aWV3VmFsdWUsZGF0ZUZvcm1hdCk6IiI7ZWxlbWVudC52YWwoZGF0ZSksc2NvcGUuZGF0ZT1wYXJzZURhdGUobmdNb2RlbC4kbW9kZWxWYWx1ZSl9O3ZhciBkb2N1bWVudENsaWNrQmluZD1mdW5jdGlvbihldmVudCl7c2NvcGUuaXNPcGVuJiZldmVudC50YXJnZXQhPT1lbGVtZW50WzBdJiZzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtzY29wZS5pc09wZW49ITF9KX0sa2V5ZG93bj1mdW5jdGlvbihldnQpe3Njb3BlLmtleWRvd24oZXZ0KX07ZWxlbWVudC5iaW5kKCJrZXlkb3duIixrZXlkb3duKSxzY29wZS5rZXlkb3duPWZ1bmN0aW9uKGV2dCl7Mjc9PT1ldnQud2hpY2g/KGV2dC5wcmV2ZW50RGVmYXVsdCgpLGV2dC5zdG9wUHJvcGFnYXRpb24oKSxzY29wZS5jbG9zZSgpKTo0MCE9PWV2dC53aGljaHx8c2NvcGUuaXNPcGVufHwoc2NvcGUuaXNPcGVuPSEwKX0sc2NvcGUuJHdhdGNoKCJpc09wZW4iLGZ1bmN0aW9uKHZhbHVlKXt2YWx1ZT8oc2NvcGUuJGJyb2FkY2FzdCgiZGF0ZXBpY2tlci5mb2N1cyIpLHNjb3BlLnBvc2l0aW9uPWFwcGVuZFRvQm9keT8kcG9zaXRpb24ub2Zmc2V0KGVsZW1lbnQpOiRwb3NpdGlvbi5wb3NpdGlvbihlbGVtZW50KSxzY29wZS5wb3NpdGlvbi50b3A9c2NvcGUucG9zaXRpb24udG9wK2VsZW1lbnQucHJvcCgib2Zmc2V0SGVpZ2h0IiksJGRvY3VtZW50LmJpbmQoImNsaWNrIixkb2N1bWVudENsaWNrQmluZCkpOiRkb2N1bWVudC51bmJpbmQoImNsaWNrIixkb2N1bWVudENsaWNrQmluZCl9KSxzY29wZS5zZWxlY3Q9ZnVuY3Rpb24oZGF0ZSl7aWYoInRvZGF5Ij09PWRhdGUpe3ZhciB0b2RheT1uZXcgRGF0ZTthbmd1bGFyLmlzRGF0ZShuZ01vZGVsLiRtb2RlbFZhbHVlKT8oZGF0ZT1uZXcgRGF0ZShuZ01vZGVsLiRtb2RlbFZhbHVlKSxkYXRlLnNldEZ1bGxZZWFyKHRvZGF5LmdldEZ1bGxZZWFyKCksdG9kYXkuZ2V0TW9udGgoKSx0b2RheS5nZXREYXRlKCkpKTpkYXRlPW5ldyBEYXRlKHRvZGF5LnNldEhvdXJzKDAsMCwwLDApKX1zY29wZS5kYXRlU2VsZWN0aW9uKGRhdGUpfSxzY29wZS5jbG9zZT1mdW5jdGlvbigpe3Njb3BlLmlzT3Blbj0hMSxlbGVtZW50WzBdLmZvY3VzKCl9O3ZhciAkcG9wdXA9JGNvbXBpbGUocG9wdXBFbCkoc2NvcGUpO3BvcHVwRWwucmVtb3ZlKCksYXBwZW5kVG9Cb2R5PyRkb2N1bWVudC5maW5kKCJib2R5IikuYXBwZW5kKCRwb3B1cCk6ZWxlbWVudC5hZnRlcigkcG9wdXApLHNjb3BlLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7JHBvcHVwLnJlbW92ZSgpLGVsZW1lbnQudW5iaW5kKCJrZXlkb3duIixrZXlkb3duKSwkZG9jdW1lbnQudW5iaW5kKCJjbGljayIsZG9jdW1lbnRDbGlja0JpbmQpfSl9fX1dKS5kaXJlY3RpdmUoImRhdGVwaWNrZXJQb3B1cFdyYXAiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0cmFuc2NsdWRlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWwiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCl7ZWxlbWVudC5iaW5kKCJjbGljayIsZnVuY3Rpb24oZXZlbnQpe2V2ZW50LnByZXZlbnREZWZhdWx0KCksZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCl9KX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5kcm9wZG93biIsW10pLmNvbnN0YW50KCJkcm9wZG93bkNvbmZpZyIse29wZW5DbGFzczoib3BlbiJ9KS5zZXJ2aWNlKCJkcm9wZG93blNlcnZpY2UiLFsiJGRvY3VtZW50IixmdW5jdGlvbigkZG9jdW1lbnQpe3ZhciBvcGVuU2NvcGU9bnVsbDt0aGlzLm9wZW49ZnVuY3Rpb24oZHJvcGRvd25TY29wZSl7b3BlblNjb3BlfHwoJGRvY3VtZW50LmJpbmQoImNsaWNrIixjbG9zZURyb3Bkb3duKSwkZG9jdW1lbnQuYmluZCgia2V5ZG93biIsZXNjYXBlS2V5QmluZCkpLG9wZW5TY29wZSYmb3BlblNjb3BlIT09ZHJvcGRvd25TY29wZSYmKG9wZW5TY29wZS5pc09wZW49ITEpLG9wZW5TY29wZT1kcm9wZG93blNjb3BlfSx0aGlzLmNsb3NlPWZ1bmN0aW9uKGRyb3Bkb3duU2NvcGUpe29wZW5TY29wZT09PWRyb3Bkb3duU2NvcGUmJihvcGVuU2NvcGU9bnVsbCwkZG9jdW1lbnQudW5iaW5kKCJjbGljayIsY2xvc2VEcm9wZG93biksJGRvY3VtZW50LnVuYmluZCgia2V5ZG93biIsZXNjYXBlS2V5QmluZCkpfTt2YXIgY2xvc2VEcm9wZG93bj1mdW5jdGlvbihldnQpe3ZhciB0b2dnbGVFbGVtZW50PW9wZW5TY29wZS5nZXRUb2dnbGVFbGVtZW50KCk7ZXZ0JiZ0b2dnbGVFbGVtZW50JiZ0b2dnbGVFbGVtZW50WzBdLmNvbnRhaW5zKGV2dC50YXJnZXQpfHxvcGVuU2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7b3BlblNjb3BlLmlzT3Blbj0hMX0pfSxlc2NhcGVLZXlCaW5kPWZ1bmN0aW9uKGV2dCl7Mjc9PT1ldnQud2hpY2gmJihvcGVuU2NvcGUuZm9jdXNUb2dnbGVFbGVtZW50KCksY2xvc2VEcm9wZG93bigpKX19XSkuY29udHJvbGxlcigiRHJvcGRvd25Db250cm9sbGVyIixbIiRzY29wZSIsIiRhdHRycyIsIiRwYXJzZSIsImRyb3Bkb3duQ29uZmlnIiwiZHJvcGRvd25TZXJ2aWNlIiwiJGFuaW1hdGUiLGZ1bmN0aW9uKCRzY29wZSwkYXR0cnMsJHBhcnNlLGRyb3Bkb3duQ29uZmlnLGRyb3Bkb3duU2VydmljZSwkYW5pbWF0ZSl7dmFyIGdldElzT3BlbixzZWxmPXRoaXMsc2NvcGU9JHNjb3BlLiRuZXcoKSxvcGVuQ2xhc3M9ZHJvcGRvd25Db25maWcub3BlbkNsYXNzLHNldElzT3Blbj1hbmd1bGFyLm5vb3AsdG9nZ2xlSW52b2tlcj0kYXR0cnMub25Ub2dnbGU/JHBhcnNlKCRhdHRycy5vblRvZ2dsZSk6YW5ndWxhci5ub29wO3RoaXMuaW5pdD1mdW5jdGlvbihlbGVtZW50KXtzZWxmLiRlbGVtZW50PWVsZW1lbnQsJGF0dHJzLmlzT3BlbiYmKGdldElzT3Blbj0kcGFyc2UoJGF0dHJzLmlzT3Blbiksc2V0SXNPcGVuPWdldElzT3Blbi5hc3NpZ24sJHNjb3BlLiR3YXRjaChnZXRJc09wZW4sZnVuY3Rpb24odmFsdWUpe3Njb3BlLmlzT3Blbj0hIXZhbHVlfSkpfSx0aGlzLnRvZ2dsZT1mdW5jdGlvbihvcGVuKXtyZXR1cm4gc2NvcGUuaXNPcGVuPWFyZ3VtZW50cy5sZW5ndGg/ISFvcGVuOiFzY29wZS5pc09wZW59LHRoaXMuaXNPcGVuPWZ1bmN0aW9uKCl7cmV0dXJuIHNjb3BlLmlzT3Blbn0sc2NvcGUuZ2V0VG9nZ2xlRWxlbWVudD1mdW5jdGlvbigpe3JldHVybiBzZWxmLnRvZ2dsZUVsZW1lbnR9LHNjb3BlLmZvY3VzVG9nZ2xlRWxlbWVudD1mdW5jdGlvbigpe3NlbGYudG9nZ2xlRWxlbWVudCYmc2VsZi50b2dnbGVFbGVtZW50WzBdLmZvY3VzKCl9LHNjb3BlLiR3YXRjaCgiaXNPcGVuIixmdW5jdGlvbihpc09wZW4sd2FzT3Blbil7JGFuaW1hdGVbaXNPcGVuPyJhZGRDbGFzcyI6InJlbW92ZUNsYXNzIl0oc2VsZi4kZWxlbWVudCxvcGVuQ2xhc3MpLGlzT3Blbj8oc2NvcGUuZm9jdXNUb2dnbGVFbGVtZW50KCksZHJvcGRvd25TZXJ2aWNlLm9wZW4oc2NvcGUpKTpkcm9wZG93blNlcnZpY2UuY2xvc2Uoc2NvcGUpLHNldElzT3Blbigkc2NvcGUsaXNPcGVuKSxhbmd1bGFyLmlzRGVmaW5lZChpc09wZW4pJiZpc09wZW4hPT13YXNPcGVuJiZ0b2dnbGVJbnZva2VyKCRzY29wZSx7b3BlbjohIWlzT3Blbn0pfSksJHNjb3BlLiRvbigiJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcyIsZnVuY3Rpb24oKXtzY29wZS5pc09wZW49ITF9KSwkc2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtzY29wZS4kZGVzdHJveSgpfSl9XSkuZGlyZWN0aXZlKCJkcm9wZG93biIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkNBIixjb250cm9sbGVyOiJEcm9wZG93bkNvbnRyb2xsZXIiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxkcm9wZG93bkN0cmwpe2Ryb3Bkb3duQ3RybC5pbml0KGVsZW1lbnQpfX19KS5kaXJlY3RpdmUoImRyb3Bkb3duVG9nZ2xlIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiQ0EiLHJlcXVpcmU6Ij9eZHJvcGRvd24iLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxkcm9wZG93bkN0cmwpe2lmKGRyb3Bkb3duQ3RybCl7ZHJvcGRvd25DdHJsLnRvZ2dsZUVsZW1lbnQ9ZWxlbWVudDt2YXIgdG9nZ2xlRHJvcGRvd249ZnVuY3Rpb24oZXZlbnQpe2V2ZW50LnByZXZlbnREZWZhdWx0KCksZWxlbWVudC5oYXNDbGFzcygiZGlzYWJsZWQiKXx8YXR0cnMuZGlzYWJsZWR8fHNjb3BlLiRhcHBseShmdW5jdGlvbigpe2Ryb3Bkb3duQ3RybC50b2dnbGUoKX0pfTtlbGVtZW50LmJpbmQoImNsaWNrIix0b2dnbGVEcm9wZG93biksZWxlbWVudC5hdHRyKHsiYXJpYS1oYXNwb3B1cCI6ITAsImFyaWEtZXhwYW5kZWQiOiExfSksc2NvcGUuJHdhdGNoKGRyb3Bkb3duQ3RybC5pc09wZW4sZnVuY3Rpb24oaXNPcGVuKXtlbGVtZW50LmF0dHIoImFyaWEtZXhwYW5kZWQiLCEhaXNPcGVuKX0pLHNjb3BlLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7ZWxlbWVudC51bmJpbmQoImNsaWNrIix0b2dnbGVEcm9wZG93bil9KX19fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAubW9kYWwiLFsidWkuYm9vdHN0cmFwLnRyYW5zaXRpb24iXSkuZmFjdG9yeSgiJCRzdGFja2VkTWFwIixmdW5jdGlvbigpe3JldHVybntjcmVhdGVOZXc6ZnVuY3Rpb24oKXt2YXIgc3RhY2s9W107cmV0dXJue2FkZDpmdW5jdGlvbihrZXksdmFsdWUpe3N0YWNrLnB1c2goe2tleTprZXksdmFsdWU6dmFsdWV9KX0sZ2V0OmZ1bmN0aW9uKGtleSl7Zm9yKHZhciBpPTA7aTxzdGFjay5sZW5ndGg7aSsrKWlmKGtleT09c3RhY2tbaV0ua2V5KXJldHVybiBzdGFja1tpXX0sa2V5czpmdW5jdGlvbigpe2Zvcih2YXIga2V5cz1bXSxpPTA7aTxzdGFjay5sZW5ndGg7aSsrKWtleXMucHVzaChzdGFja1tpXS5rZXkpO3JldHVybiBrZXlzfSx0b3A6ZnVuY3Rpb24oKXtyZXR1cm4gc3RhY2tbc3RhY2subGVuZ3RoLTFdfSxyZW1vdmU6ZnVuY3Rpb24oa2V5KXtmb3IodmFyIGlkeD0tMSxpPTA7aTxzdGFjay5sZW5ndGg7aSsrKWlmKGtleT09c3RhY2tbaV0ua2V5KXtpZHg9aTticmVha31yZXR1cm4gc3RhY2suc3BsaWNlKGlkeCwxKVswXX0scmVtb3ZlVG9wOmZ1bmN0aW9uKCl7cmV0dXJuIHN0YWNrLnNwbGljZShzdGFjay5sZW5ndGgtMSwxKVswXX0sbGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIHN0YWNrLmxlbmd0aH19fX19KS5kaXJlY3RpdmUoIm1vZGFsQmFja2Ryb3AiLFsiJHRpbWVvdXQiLGZ1bmN0aW9uKCR0aW1lb3V0KXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMpe3Njb3BlLmJhY2tkcm9wQ2xhc3M9YXR0cnMuYmFja2Ryb3BDbGFzc3x8IiIsc2NvcGUuYW5pbWF0ZT0hMSwkdGltZW91dChmdW5jdGlvbigpe3Njb3BlLmFuaW1hdGU9ITB9KX19fV0pLmRpcmVjdGl2ZSgibW9kYWxXaW5kb3ciLFsiJG1vZGFsU3RhY2siLCIkdGltZW91dCIsZnVuY3Rpb24oJG1vZGFsU3RhY2ssJHRpbWVvdXQpe3JldHVybntyZXN0cmljdDoiRUEiLHNjb3BlOntpbmRleDoiQCIsYW5pbWF0ZToiPSJ9LHJlcGxhY2U6ITAsdHJhbnNjbHVkZTohMCx0ZW1wbGF0ZVVybDpmdW5jdGlvbih0RWxlbWVudCx0QXR0cnMpe3JldHVybiB0QXR0cnMudGVtcGxhdGVVcmx8fCJ0ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbCJ9LGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyl7ZWxlbWVudC5hZGRDbGFzcyhhdHRycy53aW5kb3dDbGFzc3x8IiIpLHNjb3BlLnNpemU9YXR0cnMuc2l6ZSwkdGltZW91dChmdW5jdGlvbigpe3Njb3BlLmFuaW1hdGU9ITAsZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yQWxsKCJbYXV0b2ZvY3VzXSIpLmxlbmd0aHx8ZWxlbWVudFswXS5mb2N1cygpfSksc2NvcGUuY2xvc2U9ZnVuY3Rpb24oZXZ0KXt2YXIgbW9kYWw9JG1vZGFsU3RhY2suZ2V0VG9wKCk7bW9kYWwmJm1vZGFsLnZhbHVlLmJhY2tkcm9wJiYic3RhdGljIiE9bW9kYWwudmFsdWUuYmFja2Ryb3AmJmV2dC50YXJnZXQ9PT1ldnQuY3VycmVudFRhcmdldCYmKGV2dC5wcmV2ZW50RGVmYXVsdCgpLGV2dC5zdG9wUHJvcGFnYXRpb24oKSwkbW9kYWxTdGFjay5kaXNtaXNzKG1vZGFsLmtleSwiYmFja2Ryb3AgY2xpY2siKSl9fX19XSkuZGlyZWN0aXZlKCJtb2RhbFRyYW5zY2x1ZGUiLGZ1bmN0aW9uKCl7cmV0dXJue2xpbms6ZnVuY3Rpb24oJHNjb3BlLCRlbGVtZW50LCRhdHRycyxjb250cm9sbGVyLCR0cmFuc2NsdWRlKXskdHJhbnNjbHVkZSgkc2NvcGUuJHBhcmVudCxmdW5jdGlvbihjbG9uZSl7JGVsZW1lbnQuZW1wdHkoKSwkZWxlbWVudC5hcHBlbmQoY2xvbmUpfSl9fX0pLmZhY3RvcnkoIiRtb2RhbFN0YWNrIixbIiR0cmFuc2l0aW9uIiwiJHRpbWVvdXQiLCIkZG9jdW1lbnQiLCIkY29tcGlsZSIsIiRyb290U2NvcGUiLCIkJHN0YWNrZWRNYXAiLGZ1bmN0aW9uKCR0cmFuc2l0aW9uLCR0aW1lb3V0LCRkb2N1bWVudCwkY29tcGlsZSwkcm9vdFNjb3BlLCQkc3RhY2tlZE1hcCl7ZnVuY3Rpb24gYmFja2Ryb3BJbmRleCgpe2Zvcih2YXIgdG9wQmFja2Ryb3BJbmRleD0tMSxvcGVuZWQ9b3BlbmVkV2luZG93cy5rZXlzKCksaT0wO2k8b3BlbmVkLmxlbmd0aDtpKyspb3BlbmVkV2luZG93cy5nZXQob3BlbmVkW2ldKS52YWx1ZS5iYWNrZHJvcCYmKHRvcEJhY2tkcm9wSW5kZXg9aSk7cmV0dXJuIHRvcEJhY2tkcm9wSW5kZXh9ZnVuY3Rpb24gcmVtb3ZlTW9kYWxXaW5kb3cobW9kYWxJbnN0YW5jZSl7dmFyIGJvZHk9JGRvY3VtZW50LmZpbmQoImJvZHkiKS5lcSgwKSxtb2RhbFdpbmRvdz1vcGVuZWRXaW5kb3dzLmdldChtb2RhbEluc3RhbmNlKS52YWx1ZTtvcGVuZWRXaW5kb3dzLnJlbW92ZShtb2RhbEluc3RhbmNlKSxyZW1vdmVBZnRlckFuaW1hdGUobW9kYWxXaW5kb3cubW9kYWxEb21FbCxtb2RhbFdpbmRvdy5tb2RhbFNjb3BlLDMwMCxmdW5jdGlvbigpe21vZGFsV2luZG93Lm1vZGFsU2NvcGUuJGRlc3Ryb3koKSxib2R5LnRvZ2dsZUNsYXNzKE9QRU5FRF9NT0RBTF9DTEFTUyxvcGVuZWRXaW5kb3dzLmxlbmd0aCgpPjApLGNoZWNrUmVtb3ZlQmFja2Ryb3AoKX0pfWZ1bmN0aW9uIGNoZWNrUmVtb3ZlQmFja2Ryb3AoKXtpZihiYWNrZHJvcERvbUVsJiYtMT09YmFja2Ryb3BJbmRleCgpKXt2YXIgYmFja2Ryb3BTY29wZVJlZj1iYWNrZHJvcFNjb3BlO3JlbW92ZUFmdGVyQW5pbWF0ZShiYWNrZHJvcERvbUVsLGJhY2tkcm9wU2NvcGUsMTUwLGZ1bmN0aW9uKCl7YmFja2Ryb3BTY29wZVJlZi4kZGVzdHJveSgpLGJhY2tkcm9wU2NvcGVSZWY9bnVsbH0pLGJhY2tkcm9wRG9tRWw9dm9pZCAwLGJhY2tkcm9wU2NvcGU9dm9pZCAwfX1mdW5jdGlvbiByZW1vdmVBZnRlckFuaW1hdGUoZG9tRWwsc2NvcGUsZW11bGF0ZVRpbWUsZG9uZSl7ZnVuY3Rpb24gYWZ0ZXJBbmltYXRpbmcoKXthZnRlckFuaW1hdGluZy5kb25lfHwoYWZ0ZXJBbmltYXRpbmcuZG9uZT0hMCxkb21FbC5yZW1vdmUoKSxkb25lJiZkb25lKCkpfXNjb3BlLmFuaW1hdGU9ITE7dmFyIHRyYW5zaXRpb25FbmRFdmVudE5hbWU9JHRyYW5zaXRpb24udHJhbnNpdGlvbkVuZEV2ZW50TmFtZTtpZih0cmFuc2l0aW9uRW5kRXZlbnROYW1lKXt2YXIgdGltZW91dD0kdGltZW91dChhZnRlckFuaW1hdGluZyxlbXVsYXRlVGltZSk7ZG9tRWwuYmluZCh0cmFuc2l0aW9uRW5kRXZlbnROYW1lLGZ1bmN0aW9uKCl7JHRpbWVvdXQuY2FuY2VsKHRpbWVvdXQpLGFmdGVyQW5pbWF0aW5nKCksc2NvcGUuJGFwcGx5KCl9KX1lbHNlICR0aW1lb3V0KGFmdGVyQW5pbWF0aW5nKX12YXIgYmFja2Ryb3BEb21FbCxiYWNrZHJvcFNjb3BlLE9QRU5FRF9NT0RBTF9DTEFTUz0ibW9kYWwtb3BlbiIsb3BlbmVkV2luZG93cz0kJHN0YWNrZWRNYXAuY3JlYXRlTmV3KCksJG1vZGFsU3RhY2s9e307cmV0dXJuICRyb290U2NvcGUuJHdhdGNoKGJhY2tkcm9wSW5kZXgsZnVuY3Rpb24obmV3QmFja2Ryb3BJbmRleCl7YmFja2Ryb3BTY29wZSYmKGJhY2tkcm9wU2NvcGUuaW5kZXg9bmV3QmFja2Ryb3BJbmRleCl9KSwkZG9jdW1lbnQuYmluZCgia2V5ZG93biIsZnVuY3Rpb24oZXZ0KXt2YXIgbW9kYWw7Mjc9PT1ldnQud2hpY2gmJihtb2RhbD1vcGVuZWRXaW5kb3dzLnRvcCgpLG1vZGFsJiZtb2RhbC52YWx1ZS5rZXlib2FyZCYmKGV2dC5wcmV2ZW50RGVmYXVsdCgpLCRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7JG1vZGFsU3RhY2suZGlzbWlzcyhtb2RhbC5rZXksImVzY2FwZSBrZXkgcHJlc3MiKX0pKSl9KSwkbW9kYWxTdGFjay5vcGVuPWZ1bmN0aW9uKG1vZGFsSW5zdGFuY2UsbW9kYWwpe29wZW5lZFdpbmRvd3MuYWRkKG1vZGFsSW5zdGFuY2Use2RlZmVycmVkOm1vZGFsLmRlZmVycmVkLG1vZGFsU2NvcGU6bW9kYWwuc2NvcGUsYmFja2Ryb3A6bW9kYWwuYmFja2Ryb3Asa2V5Ym9hcmQ6bW9kYWwua2V5Ym9hcmR9KTt2YXIgYm9keT0kZG9jdW1lbnQuZmluZCgiYm9keSIpLmVxKDApLGN1cnJCYWNrZHJvcEluZGV4PWJhY2tkcm9wSW5kZXgoKTtpZihjdXJyQmFja2Ryb3BJbmRleD49MCYmIWJhY2tkcm9wRG9tRWwpe2JhY2tkcm9wU2NvcGU9JHJvb3RTY29wZS4kbmV3KCEwKSxiYWNrZHJvcFNjb3BlLmluZGV4PWN1cnJCYWNrZHJvcEluZGV4O3ZhciBhbmd1bGFyQmFja2dyb3VuZERvbUVsPWFuZ3VsYXIuZWxlbWVudCgiPGRpdiBtb2RhbC1iYWNrZHJvcD48L2Rpdj4iKTthbmd1bGFyQmFja2dyb3VuZERvbUVsLmF0dHIoImJhY2tkcm9wLWNsYXNzIixtb2RhbC5iYWNrZHJvcENsYXNzKSxiYWNrZHJvcERvbUVsPSRjb21waWxlKGFuZ3VsYXJCYWNrZ3JvdW5kRG9tRWwpKGJhY2tkcm9wU2NvcGUpLGJvZHkuYXBwZW5kKGJhY2tkcm9wRG9tRWwpfXZhciBhbmd1bGFyRG9tRWw9YW5ndWxhci5lbGVtZW50KCI8ZGl2IG1vZGFsLXdpbmRvdz48L2Rpdj4iKTthbmd1bGFyRG9tRWwuYXR0cih7InRlbXBsYXRlLXVybCI6bW9kYWwud2luZG93VGVtcGxhdGVVcmwsIndpbmRvdy1jbGFzcyI6bW9kYWwud2luZG93Q2xhc3Msc2l6ZTptb2RhbC5zaXplLGluZGV4Om9wZW5lZFdpbmRvd3MubGVuZ3RoKCktMSxhbmltYXRlOiJhbmltYXRlIn0pLmh0bWwobW9kYWwuY29udGVudCk7dmFyIG1vZGFsRG9tRWw9JGNvbXBpbGUoYW5ndWxhckRvbUVsKShtb2RhbC5zY29wZSk7b3BlbmVkV2luZG93cy50b3AoKS52YWx1ZS5tb2RhbERvbUVsPW1vZGFsRG9tRWwsYm9keS5hcHBlbmQobW9kYWxEb21FbCksYm9keS5hZGRDbGFzcyhPUEVORURfTU9EQUxfQ0xBU1MpfSwkbW9kYWxTdGFjay5jbG9zZT1mdW5jdGlvbihtb2RhbEluc3RhbmNlLHJlc3VsdCl7dmFyIG1vZGFsV2luZG93PW9wZW5lZFdpbmRvd3MuZ2V0KG1vZGFsSW5zdGFuY2UpO21vZGFsV2luZG93JiYobW9kYWxXaW5kb3cudmFsdWUuZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpLHJlbW92ZU1vZGFsV2luZG93KG1vZGFsSW5zdGFuY2UpKX0sJG1vZGFsU3RhY2suZGlzbWlzcz1mdW5jdGlvbihtb2RhbEluc3RhbmNlLHJlYXNvbil7dmFyIG1vZGFsV2luZG93PW9wZW5lZFdpbmRvd3MuZ2V0KG1vZGFsSW5zdGFuY2UpO21vZGFsV2luZG93JiYobW9kYWxXaW5kb3cudmFsdWUuZGVmZXJyZWQucmVqZWN0KHJlYXNvbikscmVtb3ZlTW9kYWxXaW5kb3cobW9kYWxJbnN0YW5jZSkpfSwkbW9kYWxTdGFjay5kaXNtaXNzQWxsPWZ1bmN0aW9uKHJlYXNvbil7Zm9yKHZhciB0b3BNb2RhbD10aGlzLmdldFRvcCgpO3RvcE1vZGFsOyl0aGlzLmRpc21pc3ModG9wTW9kYWwua2V5LHJlYXNvbiksdG9wTW9kYWw9dGhpcy5nZXRUb3AoKX0sJG1vZGFsU3RhY2suZ2V0VG9wPWZ1bmN0aW9uKCl7cmV0dXJuIG9wZW5lZFdpbmRvd3MudG9wKCl9LCRtb2RhbFN0YWNrfV0pLnByb3ZpZGVyKCIkbW9kYWwiLGZ1bmN0aW9uKCl7dmFyICRtb2RhbFByb3ZpZGVyPXtvcHRpb25zOntiYWNrZHJvcDohMCxrZXlib2FyZDohMH0sJGdldDpbIiRpbmplY3RvciIsIiRyb290U2NvcGUiLCIkcSIsIiRodHRwIiwiJHRlbXBsYXRlQ2FjaGUiLCIkY29udHJvbGxlciIsIiRtb2RhbFN0YWNrIixmdW5jdGlvbigkaW5qZWN0b3IsJHJvb3RTY29wZSwkcSwkaHR0cCwkdGVtcGxhdGVDYWNoZSwkY29udHJvbGxlciwkbW9kYWxTdGFjayl7ZnVuY3Rpb24gZ2V0VGVtcGxhdGVQcm9taXNlKG9wdGlvbnMpe3JldHVybiBvcHRpb25zLnRlbXBsYXRlPyRxLndoZW4ob3B0aW9ucy50ZW1wbGF0ZSk6JGh0dHAuZ2V0KGFuZ3VsYXIuaXNGdW5jdGlvbihvcHRpb25zLnRlbXBsYXRlVXJsKT9vcHRpb25zLnRlbXBsYXRlVXJsKCk6b3B0aW9ucy50ZW1wbGF0ZVVybCx7Y2FjaGU6JHRlbXBsYXRlQ2FjaGV9KS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7cmV0dXJuIHJlc3VsdC5kYXRhfSl9ZnVuY3Rpb24gZ2V0UmVzb2x2ZVByb21pc2VzKHJlc29sdmVzKXt2YXIgcHJvbWlzZXNBcnI9W107cmV0dXJuIGFuZ3VsYXIuZm9yRWFjaChyZXNvbHZlcyxmdW5jdGlvbih2YWx1ZSl7KGFuZ3VsYXIuaXNGdW5jdGlvbih2YWx1ZSl8fGFuZ3VsYXIuaXNBcnJheSh2YWx1ZSkpJiZwcm9taXNlc0Fyci5wdXNoKCRxLndoZW4oJGluamVjdG9yLmludm9rZSh2YWx1ZSkpKX0pLHByb21pc2VzQXJyfXZhciAkbW9kYWw9e307cmV0dXJuICRtb2RhbC5vcGVuPWZ1bmN0aW9uKG1vZGFsT3B0aW9ucyl7dmFyIG1vZGFsUmVzdWx0RGVmZXJyZWQ9JHEuZGVmZXIoKSxtb2RhbE9wZW5lZERlZmVycmVkPSRxLmRlZmVyKCksbW9kYWxJbnN0YW5jZT17cmVzdWx0Om1vZGFsUmVzdWx0RGVmZXJyZWQucHJvbWlzZSxvcGVuZWQ6bW9kYWxPcGVuZWREZWZlcnJlZC5wcm9taXNlLGNsb3NlOmZ1bmN0aW9uKHJlc3VsdCl7JG1vZGFsU3RhY2suY2xvc2UobW9kYWxJbnN0YW5jZSxyZXN1bHQpfSxkaXNtaXNzOmZ1bmN0aW9uKHJlYXNvbil7JG1vZGFsU3RhY2suZGlzbWlzcyhtb2RhbEluc3RhbmNlLHJlYXNvbil9fTtpZihtb2RhbE9wdGlvbnM9YW5ndWxhci5leHRlbmQoe30sJG1vZGFsUHJvdmlkZXIub3B0aW9ucyxtb2RhbE9wdGlvbnMpLG1vZGFsT3B0aW9ucy5yZXNvbHZlPW1vZGFsT3B0aW9ucy5yZXNvbHZlfHx7fSwhbW9kYWxPcHRpb25zLnRlbXBsYXRlJiYhbW9kYWxPcHRpb25zLnRlbXBsYXRlVXJsKXRocm93IG5ldyBFcnJvcigiT25lIG9mIHRlbXBsYXRlIG9yIHRlbXBsYXRlVXJsIG9wdGlvbnMgaXMgcmVxdWlyZWQuIik7dmFyIHRlbXBsYXRlQW5kUmVzb2x2ZVByb21pc2U9JHEuYWxsKFtnZXRUZW1wbGF0ZVByb21pc2UobW9kYWxPcHRpb25zKV0uY29uY2F0KGdldFJlc29sdmVQcm9taXNlcyhtb2RhbE9wdGlvbnMucmVzb2x2ZSkpKTtyZXR1cm4gdGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZS50aGVuKGZ1bmN0aW9uKHRwbEFuZFZhcnMpe3ZhciBtb2RhbFNjb3BlPShtb2RhbE9wdGlvbnMuc2NvcGV8fCRyb290U2NvcGUpLiRuZXcoKTttb2RhbFNjb3BlLiRjbG9zZT1tb2RhbEluc3RhbmNlLmNsb3NlLG1vZGFsU2NvcGUuJGRpc21pc3M9bW9kYWxJbnN0YW5jZS5kaXNtaXNzO3ZhciBjdHJsSW5zdGFuY2UsY3RybExvY2Fscz17fSxyZXNvbHZlSXRlcj0xO21vZGFsT3B0aW9ucy5jb250cm9sbGVyJiYoY3RybExvY2Fscy4kc2NvcGU9bW9kYWxTY29wZSxjdHJsTG9jYWxzLiRtb2RhbEluc3RhbmNlPW1vZGFsSW5zdGFuY2UsYW5ndWxhci5mb3JFYWNoKG1vZGFsT3B0aW9ucy5yZXNvbHZlLGZ1bmN0aW9uKHZhbHVlLGtleSl7Y3RybExvY2Fsc1trZXldPXRwbEFuZFZhcnNbcmVzb2x2ZUl0ZXIrK119KSxjdHJsSW5zdGFuY2U9JGNvbnRyb2xsZXIobW9kYWxPcHRpb25zLmNvbnRyb2xsZXIsY3RybExvY2FscyksbW9kYWxPcHRpb25zLmNvbnRyb2xsZXJBcyYmKG1vZGFsU2NvcGVbbW9kYWxPcHRpb25zLmNvbnRyb2xsZXJBc109Y3RybEluc3RhbmNlKSksJG1vZGFsU3RhY2sub3Blbihtb2RhbEluc3RhbmNlLHtzY29wZTptb2RhbFNjb3BlLGRlZmVycmVkOm1vZGFsUmVzdWx0RGVmZXJyZWQsY29udGVudDp0cGxBbmRWYXJzWzBdLGJhY2tkcm9wOm1vZGFsT3B0aW9ucy5iYWNrZHJvcCxrZXlib2FyZDptb2RhbE9wdGlvbnMua2V5Ym9hcmQsYmFja2Ryb3BDbGFzczptb2RhbE9wdGlvbnMuYmFja2Ryb3BDbGFzcyx3aW5kb3dDbGFzczptb2RhbE9wdGlvbnMud2luZG93Q2xhc3Msd2luZG93VGVtcGxhdGVVcmw6bW9kYWxPcHRpb25zLndpbmRvd1RlbXBsYXRlVXJsLHNpemU6bW9kYWxPcHRpb25zLnNpemV9KX0sZnVuY3Rpb24ocmVhc29uKXttb2RhbFJlc3VsdERlZmVycmVkLnJlamVjdChyZWFzb24pfSksdGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZS50aGVuKGZ1bmN0aW9uKCl7bW9kYWxPcGVuZWREZWZlcnJlZC5yZXNvbHZlKCEwKX0sZnVuY3Rpb24oKXttb2RhbE9wZW5lZERlZmVycmVkLnJlamVjdCghMSl9KSxtb2RhbEluc3RhbmNlfSwkbW9kYWx9XX07cmV0dXJuICRtb2RhbFByb3ZpZGVyfSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5wYWdpbmF0aW9uIixbXSkuY29udHJvbGxlcigiUGFnaW5hdGlvbkNvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGF0dHJzIiwiJHBhcnNlIixmdW5jdGlvbigkc2NvcGUsJGF0dHJzLCRwYXJzZSl7dmFyIHNlbGY9dGhpcyxuZ01vZGVsQ3RybD17JHNldFZpZXdWYWx1ZTphbmd1bGFyLm5vb3B9LHNldE51bVBhZ2VzPSRhdHRycy5udW1QYWdlcz8kcGFyc2UoJGF0dHJzLm51bVBhZ2VzKS5hc3NpZ246YW5ndWxhci5ub29wO3RoaXMuaW5pdD1mdW5jdGlvbihuZ01vZGVsQ3RybF8sY29uZmlnKXtuZ01vZGVsQ3RybD1uZ01vZGVsQ3RybF8sdGhpcy5jb25maWc9Y29uZmlnLG5nTW9kZWxDdHJsLiRyZW5kZXI9ZnVuY3Rpb24oKXtzZWxmLnJlbmRlcigpfSwkYXR0cnMuaXRlbXNQZXJQYWdlPyRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLml0ZW1zUGVyUGFnZSksZnVuY3Rpb24odmFsdWUpe3NlbGYuaXRlbXNQZXJQYWdlPXBhcnNlSW50KHZhbHVlLDEwKSwkc2NvcGUudG90YWxQYWdlcz1zZWxmLmNhbGN1bGF0ZVRvdGFsUGFnZXMoKX0pOnRoaXMuaXRlbXNQZXJQYWdlPWNvbmZpZy5pdGVtc1BlclBhZ2V9LHRoaXMuY2FsY3VsYXRlVG90YWxQYWdlcz1mdW5jdGlvbigpe3ZhciB0b3RhbFBhZ2VzPXRoaXMuaXRlbXNQZXJQYWdlPDE/MTpNYXRoLmNlaWwoJHNjb3BlLnRvdGFsSXRlbXMvdGhpcy5pdGVtc1BlclBhZ2UpO3JldHVybiBNYXRoLm1heCh0b3RhbFBhZ2VzfHwwLDEpfSx0aGlzLnJlbmRlcj1mdW5jdGlvbigpeyRzY29wZS5wYWdlPXBhcnNlSW50KG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUsMTApfHwxfSwkc2NvcGUuc2VsZWN0UGFnZT1mdW5jdGlvbihwYWdlKXskc2NvcGUucGFnZSE9PXBhZ2UmJnBhZ2U+MCYmcGFnZTw9JHNjb3BlLnRvdGFsUGFnZXMmJihuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKHBhZ2UpLG5nTW9kZWxDdHJsLiRyZW5kZXIoKSl9LCRzY29wZS5nZXRUZXh0PWZ1bmN0aW9uKGtleSl7cmV0dXJuICRzY29wZVtrZXkrIlRleHQiXXx8c2VsZi5jb25maWdba2V5KyJUZXh0Il19LCRzY29wZS5ub1ByZXZpb3VzPWZ1bmN0aW9uKCl7cmV0dXJuIDE9PT0kc2NvcGUucGFnZX0sJHNjb3BlLm5vTmV4dD1mdW5jdGlvbigpe3JldHVybiAkc2NvcGUucGFnZT09PSRzY29wZS50b3RhbFBhZ2VzfSwkc2NvcGUuJHdhdGNoKCJ0b3RhbEl0ZW1zIixmdW5jdGlvbigpeyRzY29wZS50b3RhbFBhZ2VzPXNlbGYuY2FsY3VsYXRlVG90YWxQYWdlcygpfSksJHNjb3BlLiR3YXRjaCgidG90YWxQYWdlcyIsZnVuY3Rpb24odmFsdWUpe3NldE51bVBhZ2VzKCRzY29wZS4kcGFyZW50LHZhbHVlKSwkc2NvcGUucGFnZT52YWx1ZT8kc2NvcGUuc2VsZWN0UGFnZSh2YWx1ZSk6bmdNb2RlbEN0cmwuJHJlbmRlcigpfSl9XSkuY29uc3RhbnQoInBhZ2luYXRpb25Db25maWciLHtpdGVtc1BlclBhZ2U6MTAsYm91bmRhcnlMaW5rczohMSxkaXJlY3Rpb25MaW5rczohMCxmaXJzdFRleHQ6IkZpcnN0IixwcmV2aW91c1RleHQ6IlByZXZpb3VzIixuZXh0VGV4dDoiTmV4dCIsbGFzdFRleHQ6Ikxhc3QiLHJvdGF0ZTohMH0pLmRpcmVjdGl2ZSgicGFnaW5hdGlvbiIsWyIkcGFyc2UiLCJwYWdpbmF0aW9uQ29uZmlnIixmdW5jdGlvbigkcGFyc2UscGFnaW5hdGlvbkNvbmZpZyl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsc2NvcGU6e3RvdGFsSXRlbXM6Ij0iLGZpcnN0VGV4dDoiQCIscHJldmlvdXNUZXh0OiJAIixuZXh0VGV4dDoiQCIsbGFzdFRleHQ6IkAifSxyZXF1aXJlOlsicGFnaW5hdGlvbiIsIj9uZ01vZGVsIl0sY29udHJvbGxlcjoiUGFnaW5hdGlvbkNvbnRyb2xsZXIiLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbCIscmVwbGFjZTohMCxsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsY3RybHMpe2Z1bmN0aW9uIG1ha2VQYWdlKG51bWJlcix0ZXh0LGlzQWN0aXZlKXtyZXR1cm57bnVtYmVyOm51bWJlcix0ZXh0OnRleHQsYWN0aXZlOmlzQWN0aXZlfX1mdW5jdGlvbiBnZXRQYWdlcyhjdXJyZW50UGFnZSx0b3RhbFBhZ2VzKXt2YXIgcGFnZXM9W10sc3RhcnRQYWdlPTEsZW5kUGFnZT10b3RhbFBhZ2VzLGlzTWF4U2l6ZWQ9YW5ndWxhci5pc0RlZmluZWQobWF4U2l6ZSkmJnRvdGFsUGFnZXM+bWF4U2l6ZTtpc01heFNpemVkJiYocm90YXRlPyhzdGFydFBhZ2U9TWF0aC5tYXgoY3VycmVudFBhZ2UtTWF0aC5mbG9vcihtYXhTaXplLzIpLDEpLGVuZFBhZ2U9c3RhcnRQYWdlK21heFNpemUtMSxlbmRQYWdlPnRvdGFsUGFnZXMmJihlbmRQYWdlPXRvdGFsUGFnZXMsc3RhcnRQYWdlPWVuZFBhZ2UtbWF4U2l6ZSsxKSk6KHN0YXJ0UGFnZT0oTWF0aC5jZWlsKGN1cnJlbnRQYWdlL21heFNpemUpLTEpKm1heFNpemUrMSxlbmRQYWdlPU1hdGgubWluKHN0YXJ0UGFnZSttYXhTaXplLTEsdG90YWxQYWdlcykpKTtmb3IodmFyIG51bWJlcj1zdGFydFBhZ2U7ZW5kUGFnZT49bnVtYmVyO251bWJlcisrKXt2YXIgcGFnZT1tYWtlUGFnZShudW1iZXIsbnVtYmVyLG51bWJlcj09PWN1cnJlbnRQYWdlKTtwYWdlcy5wdXNoKHBhZ2UpfWlmKGlzTWF4U2l6ZWQmJiFyb3RhdGUpe2lmKHN0YXJ0UGFnZT4xKXt2YXIgcHJldmlvdXNQYWdlU2V0PW1ha2VQYWdlKHN0YXJ0UGFnZS0xLCIuLi4iLCExKTtwYWdlcy51bnNoaWZ0KHByZXZpb3VzUGFnZVNldCl9aWYodG90YWxQYWdlcz5lbmRQYWdlKXt2YXIgbmV4dFBhZ2VTZXQ9bWFrZVBhZ2UoZW5kUGFnZSsxLCIuLi4iLCExKTtwYWdlcy5wdXNoKG5leHRQYWdlU2V0KX19cmV0dXJuIHBhZ2VzfXZhciBwYWdpbmF0aW9uQ3RybD1jdHJsc1swXSxuZ01vZGVsQ3RybD1jdHJsc1sxXTsKaWYobmdNb2RlbEN0cmwpe3ZhciBtYXhTaXplPWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLm1heFNpemUpP3Njb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMubWF4U2l6ZSk6cGFnaW5hdGlvbkNvbmZpZy5tYXhTaXplLHJvdGF0ZT1hbmd1bGFyLmlzRGVmaW5lZChhdHRycy5yb3RhdGUpP3Njb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMucm90YXRlKTpwYWdpbmF0aW9uQ29uZmlnLnJvdGF0ZTtzY29wZS5ib3VuZGFyeUxpbmtzPWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmJvdW5kYXJ5TGlua3MpP3Njb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuYm91bmRhcnlMaW5rcyk6cGFnaW5hdGlvbkNvbmZpZy5ib3VuZGFyeUxpbmtzLHNjb3BlLmRpcmVjdGlvbkxpbmtzPWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmRpcmVjdGlvbkxpbmtzKT9zY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmRpcmVjdGlvbkxpbmtzKTpwYWdpbmF0aW9uQ29uZmlnLmRpcmVjdGlvbkxpbmtzLHBhZ2luYXRpb25DdHJsLmluaXQobmdNb2RlbEN0cmwscGFnaW5hdGlvbkNvbmZpZyksYXR0cnMubWF4U2l6ZSYmc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKGF0dHJzLm1heFNpemUpLGZ1bmN0aW9uKHZhbHVlKXttYXhTaXplPXBhcnNlSW50KHZhbHVlLDEwKSxwYWdpbmF0aW9uQ3RybC5yZW5kZXIoKX0pO3ZhciBvcmlnaW5hbFJlbmRlcj1wYWdpbmF0aW9uQ3RybC5yZW5kZXI7cGFnaW5hdGlvbkN0cmwucmVuZGVyPWZ1bmN0aW9uKCl7b3JpZ2luYWxSZW5kZXIoKSxzY29wZS5wYWdlPjAmJnNjb3BlLnBhZ2U8PXNjb3BlLnRvdGFsUGFnZXMmJihzY29wZS5wYWdlcz1nZXRQYWdlcyhzY29wZS5wYWdlLHNjb3BlLnRvdGFsUGFnZXMpKX19fX19XSkuY29uc3RhbnQoInBhZ2VyQ29uZmlnIix7aXRlbXNQZXJQYWdlOjEwLHByZXZpb3VzVGV4dDoiwqsgUHJldmlvdXMiLG5leHRUZXh0OiJOZXh0IMK7IixhbGlnbjohMH0pLmRpcmVjdGl2ZSgicGFnZXIiLFsicGFnZXJDb25maWciLGZ1bmN0aW9uKHBhZ2VyQ29uZmlnKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixzY29wZTp7dG90YWxJdGVtczoiPSIscHJldmlvdXNUZXh0OiJAIixuZXh0VGV4dDoiQCJ9LHJlcXVpcmU6WyJwYWdlciIsIj9uZ01vZGVsIl0sY29udHJvbGxlcjoiUGFnaW5hdGlvbkNvbnRyb2xsZXIiLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2VyLmh0bWwiLHJlcGxhY2U6ITAsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGN0cmxzKXt2YXIgcGFnaW5hdGlvbkN0cmw9Y3RybHNbMF0sbmdNb2RlbEN0cmw9Y3RybHNbMV07bmdNb2RlbEN0cmwmJihzY29wZS5hbGlnbj1hbmd1bGFyLmlzRGVmaW5lZChhdHRycy5hbGlnbik/c2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5hbGlnbik6cGFnZXJDb25maWcuYWxpZ24scGFnaW5hdGlvbkN0cmwuaW5pdChuZ01vZGVsQ3RybCxwYWdlckNvbmZpZykpfX19XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC50b29sdGlwIixbInVpLmJvb3RzdHJhcC5wb3NpdGlvbiIsInVpLmJvb3RzdHJhcC5iaW5kSHRtbCJdKS5wcm92aWRlcigiJHRvb2x0aXAiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gc25ha2VfY2FzZShuYW1lKXt2YXIgcmVnZXhwPS9bQS1aXS9nLHNlcGFyYXRvcj0iLSI7cmV0dXJuIG5hbWUucmVwbGFjZShyZWdleHAsZnVuY3Rpb24obGV0dGVyLHBvcyl7cmV0dXJuKHBvcz9zZXBhcmF0b3I6IiIpK2xldHRlci50b0xvd2VyQ2FzZSgpfSl9dmFyIGRlZmF1bHRPcHRpb25zPXtwbGFjZW1lbnQ6InRvcCIsYW5pbWF0aW9uOiEwLHBvcHVwRGVsYXk6MH0sdHJpZ2dlck1hcD17bW91c2VlbnRlcjoibW91c2VsZWF2ZSIsY2xpY2s6ImNsaWNrIixmb2N1czoiYmx1ciJ9LGdsb2JhbE9wdGlvbnM9e307dGhpcy5vcHRpb25zPWZ1bmN0aW9uKHZhbHVlKXthbmd1bGFyLmV4dGVuZChnbG9iYWxPcHRpb25zLHZhbHVlKX0sdGhpcy5zZXRUcmlnZ2Vycz1mdW5jdGlvbih0cmlnZ2Vycyl7YW5ndWxhci5leHRlbmQodHJpZ2dlck1hcCx0cmlnZ2Vycyl9LHRoaXMuJGdldD1bIiR3aW5kb3ciLCIkY29tcGlsZSIsIiR0aW1lb3V0IiwiJHBhcnNlIiwiJGRvY3VtZW50IiwiJHBvc2l0aW9uIiwiJGludGVycG9sYXRlIixmdW5jdGlvbigkd2luZG93LCRjb21waWxlLCR0aW1lb3V0LCRwYXJzZSwkZG9jdW1lbnQsJHBvc2l0aW9uLCRpbnRlcnBvbGF0ZSl7cmV0dXJuIGZ1bmN0aW9uKHR5cGUscHJlZml4LGRlZmF1bHRUcmlnZ2VyU2hvdyl7ZnVuY3Rpb24gZ2V0VHJpZ2dlcnModHJpZ2dlcil7dmFyIHNob3c9dHJpZ2dlcnx8b3B0aW9ucy50cmlnZ2VyfHxkZWZhdWx0VHJpZ2dlclNob3csaGlkZT10cmlnZ2VyTWFwW3Nob3ddfHxzaG93O3JldHVybntzaG93OnNob3csaGlkZTpoaWRlfX12YXIgb3B0aW9ucz1hbmd1bGFyLmV4dGVuZCh7fSxkZWZhdWx0T3B0aW9ucyxnbG9iYWxPcHRpb25zKSxkaXJlY3RpdmVOYW1lPXNuYWtlX2Nhc2UodHlwZSksc3RhcnRTeW09JGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCksZW5kU3ltPSRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKSx0ZW1wbGF0ZT0iPGRpdiAiK2RpcmVjdGl2ZU5hbWUrJy1wb3B1cCB0aXRsZT0iJytzdGFydFN5bSsidHRfdGl0bGUiK2VuZFN5bSsnIiBjb250ZW50PSInK3N0YXJ0U3ltKyJ0dF9jb250ZW50IitlbmRTeW0rJyIgcGxhY2VtZW50PSInK3N0YXJ0U3ltKyJ0dF9wbGFjZW1lbnQiK2VuZFN5bSsnIiBhbmltYXRpb249InR0X2FuaW1hdGlvbiIgaXMtb3Blbj0idHRfaXNPcGVuIj48L2Rpdj4nO3JldHVybntyZXN0cmljdDoiRUEiLHNjb3BlOiEwLGNvbXBpbGU6ZnVuY3Rpb24oKXt2YXIgdG9vbHRpcExpbmtlcj0kY29tcGlsZSh0ZW1wbGF0ZSk7cmV0dXJuIGZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMpe2Z1bmN0aW9uIHRvZ2dsZVRvb2x0aXBCaW5kKCl7c2NvcGUudHRfaXNPcGVuP2hpZGVUb29sdGlwQmluZCgpOnNob3dUb29sdGlwQmluZCgpfWZ1bmN0aW9uIHNob3dUb29sdGlwQmluZCgpeyghaGFzRW5hYmxlRXhwfHxzY29wZS4kZXZhbChhdHRyc1twcmVmaXgrIkVuYWJsZSJdKSkmJihzY29wZS50dF9wb3B1cERlbGF5P3BvcHVwVGltZW91dHx8KHBvcHVwVGltZW91dD0kdGltZW91dChzaG93LHNjb3BlLnR0X3BvcHVwRGVsYXksITEpLHBvcHVwVGltZW91dC50aGVuKGZ1bmN0aW9uKHJlcG9zaXRpb24pe3JlcG9zaXRpb24oKX0pKTpzaG93KCkoKSl9ZnVuY3Rpb24gaGlkZVRvb2x0aXBCaW5kKCl7c2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7aGlkZSgpfSl9ZnVuY3Rpb24gc2hvdygpe3JldHVybiBwb3B1cFRpbWVvdXQ9bnVsbCx0cmFuc2l0aW9uVGltZW91dCYmKCR0aW1lb3V0LmNhbmNlbCh0cmFuc2l0aW9uVGltZW91dCksdHJhbnNpdGlvblRpbWVvdXQ9bnVsbCksc2NvcGUudHRfY29udGVudD8oY3JlYXRlVG9vbHRpcCgpLHRvb2x0aXAuY3NzKHt0b3A6MCxsZWZ0OjAsZGlzcGxheToiYmxvY2sifSksYXBwZW5kVG9Cb2R5PyRkb2N1bWVudC5maW5kKCJib2R5IikuYXBwZW5kKHRvb2x0aXApOmVsZW1lbnQuYWZ0ZXIodG9vbHRpcCkscG9zaXRpb25Ub29sdGlwKCksc2NvcGUudHRfaXNPcGVuPSEwLHNjb3BlLiRkaWdlc3QoKSxwb3NpdGlvblRvb2x0aXApOmFuZ3VsYXIubm9vcH1mdW5jdGlvbiBoaWRlKCl7c2NvcGUudHRfaXNPcGVuPSExLCR0aW1lb3V0LmNhbmNlbChwb3B1cFRpbWVvdXQpLHBvcHVwVGltZW91dD1udWxsLHNjb3BlLnR0X2FuaW1hdGlvbj90cmFuc2l0aW9uVGltZW91dHx8KHRyYW5zaXRpb25UaW1lb3V0PSR0aW1lb3V0KHJlbW92ZVRvb2x0aXAsNTAwKSk6cmVtb3ZlVG9vbHRpcCgpfWZ1bmN0aW9uIGNyZWF0ZVRvb2x0aXAoKXt0b29sdGlwJiZyZW1vdmVUb29sdGlwKCksdG9vbHRpcD10b29sdGlwTGlua2VyKHNjb3BlLGZ1bmN0aW9uKCl7fSksc2NvcGUuJGRpZ2VzdCgpfWZ1bmN0aW9uIHJlbW92ZVRvb2x0aXAoKXt0cmFuc2l0aW9uVGltZW91dD1udWxsLHRvb2x0aXAmJih0b29sdGlwLnJlbW92ZSgpLHRvb2x0aXA9bnVsbCl9dmFyIHRvb2x0aXAsdHJhbnNpdGlvblRpbWVvdXQscG9wdXBUaW1lb3V0LGFwcGVuZFRvQm9keT1hbmd1bGFyLmlzRGVmaW5lZChvcHRpb25zLmFwcGVuZFRvQm9keSk/b3B0aW9ucy5hcHBlbmRUb0JvZHk6ITEsdHJpZ2dlcnM9Z2V0VHJpZ2dlcnModm9pZCAwKSxoYXNFbmFibGVFeHA9YW5ndWxhci5pc0RlZmluZWQoYXR0cnNbcHJlZml4KyJFbmFibGUiXSkscG9zaXRpb25Ub29sdGlwPWZ1bmN0aW9uKCl7dmFyIHR0UG9zaXRpb249JHBvc2l0aW9uLnBvc2l0aW9uRWxlbWVudHMoZWxlbWVudCx0b29sdGlwLHNjb3BlLnR0X3BsYWNlbWVudCxhcHBlbmRUb0JvZHkpO3R0UG9zaXRpb24udG9wKz0icHgiLHR0UG9zaXRpb24ubGVmdCs9InB4Iix0b29sdGlwLmNzcyh0dFBvc2l0aW9uKX07c2NvcGUudHRfaXNPcGVuPSExLGF0dHJzLiRvYnNlcnZlKHR5cGUsZnVuY3Rpb24odmFsKXtzY29wZS50dF9jb250ZW50PXZhbCwhdmFsJiZzY29wZS50dF9pc09wZW4mJmhpZGUoKX0pLGF0dHJzLiRvYnNlcnZlKHByZWZpeCsiVGl0bGUiLGZ1bmN0aW9uKHZhbCl7c2NvcGUudHRfdGl0bGU9dmFsfSksYXR0cnMuJG9ic2VydmUocHJlZml4KyJQbGFjZW1lbnQiLGZ1bmN0aW9uKHZhbCl7c2NvcGUudHRfcGxhY2VtZW50PWFuZ3VsYXIuaXNEZWZpbmVkKHZhbCk/dmFsOm9wdGlvbnMucGxhY2VtZW50fSksYXR0cnMuJG9ic2VydmUocHJlZml4KyJQb3B1cERlbGF5IixmdW5jdGlvbih2YWwpe3ZhciBkZWxheT1wYXJzZUludCh2YWwsMTApO3Njb3BlLnR0X3BvcHVwRGVsYXk9aXNOYU4oZGVsYXkpP29wdGlvbnMucG9wdXBEZWxheTpkZWxheX0pO3ZhciB1bnJlZ2lzdGVyVHJpZ2dlcnM9ZnVuY3Rpb24oKXtlbGVtZW50LnVuYmluZCh0cmlnZ2Vycy5zaG93LHNob3dUb29sdGlwQmluZCksZWxlbWVudC51bmJpbmQodHJpZ2dlcnMuaGlkZSxoaWRlVG9vbHRpcEJpbmQpfTthdHRycy4kb2JzZXJ2ZShwcmVmaXgrIlRyaWdnZXIiLGZ1bmN0aW9uKHZhbCl7dW5yZWdpc3RlclRyaWdnZXJzKCksdHJpZ2dlcnM9Z2V0VHJpZ2dlcnModmFsKSx0cmlnZ2Vycy5zaG93PT09dHJpZ2dlcnMuaGlkZT9lbGVtZW50LmJpbmQodHJpZ2dlcnMuc2hvdyx0b2dnbGVUb29sdGlwQmluZCk6KGVsZW1lbnQuYmluZCh0cmlnZ2Vycy5zaG93LHNob3dUb29sdGlwQmluZCksZWxlbWVudC5iaW5kKHRyaWdnZXJzLmhpZGUsaGlkZVRvb2x0aXBCaW5kKSl9KTt2YXIgYW5pbWF0aW9uPXNjb3BlLiRldmFsKGF0dHJzW3ByZWZpeCsiQW5pbWF0aW9uIl0pO3Njb3BlLnR0X2FuaW1hdGlvbj1hbmd1bGFyLmlzRGVmaW5lZChhbmltYXRpb24pPyEhYW5pbWF0aW9uOm9wdGlvbnMuYW5pbWF0aW9uLGF0dHJzLiRvYnNlcnZlKHByZWZpeCsiQXBwZW5kVG9Cb2R5IixmdW5jdGlvbih2YWwpe2FwcGVuZFRvQm9keT1hbmd1bGFyLmlzRGVmaW5lZCh2YWwpPyRwYXJzZSh2YWwpKHNjb3BlKTphcHBlbmRUb0JvZHl9KSxhcHBlbmRUb0JvZHkmJnNjb3BlLiRvbigiJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcyIsZnVuY3Rpb24oKXtzY29wZS50dF9pc09wZW4mJmhpZGUoKX0pLHNjb3BlLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7JHRpbWVvdXQuY2FuY2VsKHRyYW5zaXRpb25UaW1lb3V0KSwkdGltZW91dC5jYW5jZWwocG9wdXBUaW1lb3V0KSx1bnJlZ2lzdGVyVHJpZ2dlcnMoKSxyZW1vdmVUb29sdGlwKCl9KX19fX19XX0pLmRpcmVjdGl2ZSgidG9vbHRpcFBvcHVwIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsc2NvcGU6e2NvbnRlbnQ6IkAiLHBsYWNlbWVudDoiQCIsYW5pbWF0aW9uOiImIixpc09wZW46IiYifSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXBvcHVwLmh0bWwifX0pLmRpcmVjdGl2ZSgidG9vbHRpcCIsWyIkdG9vbHRpcCIsZnVuY3Rpb24oJHRvb2x0aXApe3JldHVybiAkdG9vbHRpcCgidG9vbHRpcCIsInRvb2x0aXAiLCJtb3VzZWVudGVyIil9XSkuZGlyZWN0aXZlKCJ0b29sdGlwSHRtbFVuc2FmZVBvcHVwIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsc2NvcGU6e2NvbnRlbnQ6IkAiLHBsYWNlbWVudDoiQCIsYW5pbWF0aW9uOiImIixpc09wZW46IiYifSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWwifX0pLmRpcmVjdGl2ZSgidG9vbHRpcEh0bWxVbnNhZmUiLFsiJHRvb2x0aXAiLGZ1bmN0aW9uKCR0b29sdGlwKXtyZXR1cm4gJHRvb2x0aXAoInRvb2x0aXBIdG1sVW5zYWZlIiwidG9vbHRpcCIsIm1vdXNlZW50ZXIiKX1dKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnBvcG92ZXIiLFsidWkuYm9vdHN0cmFwLnRvb2x0aXAiXSkuZGlyZWN0aXZlKCJwb3BvdmVyUG9wdXAiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCxzY29wZTp7dGl0bGU6IkAiLGNvbnRlbnQ6IkAiLHBsYWNlbWVudDoiQCIsYW5pbWF0aW9uOiImIixpc09wZW46IiYifSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLmh0bWwifX0pLmRpcmVjdGl2ZSgicG9wb3ZlciIsWyIkdG9vbHRpcCIsZnVuY3Rpb24oJHRvb2x0aXApe3JldHVybiAkdG9vbHRpcCgicG9wb3ZlciIsInBvcG92ZXIiLCJjbGljayIpfV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAucHJvZ3Jlc3NiYXIiLFtdKS5jb25zdGFudCgicHJvZ3Jlc3NDb25maWciLHthbmltYXRlOiEwLG1heDoxMDB9KS5jb250cm9sbGVyKCJQcm9ncmVzc0NvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGF0dHJzIiwicHJvZ3Jlc3NDb25maWciLGZ1bmN0aW9uKCRzY29wZSwkYXR0cnMscHJvZ3Jlc3NDb25maWcpe3ZhciBzZWxmPXRoaXMsYW5pbWF0ZT1hbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuYW5pbWF0ZSk/JHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLmFuaW1hdGUpOnByb2dyZXNzQ29uZmlnLmFuaW1hdGU7dGhpcy5iYXJzPVtdLCRzY29wZS5tYXg9YW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLm1heCk/JHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLm1heCk6cHJvZ3Jlc3NDb25maWcubWF4LHRoaXMuYWRkQmFyPWZ1bmN0aW9uKGJhcixlbGVtZW50KXthbmltYXRlfHxlbGVtZW50LmNzcyh7dHJhbnNpdGlvbjoibm9uZSJ9KSx0aGlzLmJhcnMucHVzaChiYXIpLGJhci4kd2F0Y2goInZhbHVlIixmdW5jdGlvbih2YWx1ZSl7YmFyLnBlcmNlbnQ9KygxMDAqdmFsdWUvJHNjb3BlLm1heCkudG9GaXhlZCgyKX0pLGJhci4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe2VsZW1lbnQ9bnVsbCxzZWxmLnJlbW92ZUJhcihiYXIpfSl9LHRoaXMucmVtb3ZlQmFyPWZ1bmN0aW9uKGJhcil7dGhpcy5iYXJzLnNwbGljZSh0aGlzLmJhcnMuaW5kZXhPZihiYXIpLDEpfX1dKS5kaXJlY3RpdmUoInByb2dyZXNzIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdHJhbnNjbHVkZTohMCxjb250cm9sbGVyOiJQcm9ncmVzc0NvbnRyb2xsZXIiLHJlcXVpcmU6InByb2dyZXNzIixzY29wZTp7fSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbCJ9fSkuZGlyZWN0aXZlKCJiYXIiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0cmFuc2NsdWRlOiEwLHJlcXVpcmU6Il5wcm9ncmVzcyIsc2NvcGU6e3ZhbHVlOiI9Iix0eXBlOiJAIn0sdGVtcGxhdGVVcmw6InRlbXBsYXRlL3Byb2dyZXNzYmFyL2Jhci5odG1sIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMscHJvZ3Jlc3NDdHJsKXtwcm9ncmVzc0N0cmwuYWRkQmFyKHNjb3BlLGVsZW1lbnQpfX19KS5kaXJlY3RpdmUoInByb2dyZXNzYmFyIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdHJhbnNjbHVkZTohMCxjb250cm9sbGVyOiJQcm9ncmVzc0NvbnRyb2xsZXIiLHNjb3BlOnt2YWx1ZToiPSIsdHlwZToiQCJ9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMscHJvZ3Jlc3NDdHJsKXtwcm9ncmVzc0N0cmwuYWRkQmFyKHNjb3BlLGFuZ3VsYXIuZWxlbWVudChlbGVtZW50LmNoaWxkcmVuKClbMF0pKX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5yYXRpbmciLFtdKS5jb25zdGFudCgicmF0aW5nQ29uZmlnIix7bWF4OjUsc3RhdGVPbjpudWxsLHN0YXRlT2ZmOm51bGx9KS5jb250cm9sbGVyKCJSYXRpbmdDb250cm9sbGVyIixbIiRzY29wZSIsIiRhdHRycyIsInJhdGluZ0NvbmZpZyIsZnVuY3Rpb24oJHNjb3BlLCRhdHRycyxyYXRpbmdDb25maWcpe3ZhciBuZ01vZGVsQ3RybD17JHNldFZpZXdWYWx1ZTphbmd1bGFyLm5vb3B9O3RoaXMuaW5pdD1mdW5jdGlvbihuZ01vZGVsQ3RybF8pe25nTW9kZWxDdHJsPW5nTW9kZWxDdHJsXyxuZ01vZGVsQ3RybC4kcmVuZGVyPXRoaXMucmVuZGVyLHRoaXMuc3RhdGVPbj1hbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuc3RhdGVPbik/JHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnN0YXRlT24pOnJhdGluZ0NvbmZpZy5zdGF0ZU9uLHRoaXMuc3RhdGVPZmY9YW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnN0YXRlT2ZmKT8kc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuc3RhdGVPZmYpOnJhdGluZ0NvbmZpZy5zdGF0ZU9mZjt2YXIgcmF0aW5nU3RhdGVzPWFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5yYXRpbmdTdGF0ZXMpPyRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5yYXRpbmdTdGF0ZXMpOm5ldyBBcnJheShhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubWF4KT8kc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMubWF4KTpyYXRpbmdDb25maWcubWF4KTskc2NvcGUucmFuZ2U9dGhpcy5idWlsZFRlbXBsYXRlT2JqZWN0cyhyYXRpbmdTdGF0ZXMpfSx0aGlzLmJ1aWxkVGVtcGxhdGVPYmplY3RzPWZ1bmN0aW9uKHN0YXRlcyl7Zm9yKHZhciBpPTAsbj1zdGF0ZXMubGVuZ3RoO24+aTtpKyspc3RhdGVzW2ldPWFuZ3VsYXIuZXh0ZW5kKHtpbmRleDppfSx7c3RhdGVPbjp0aGlzLnN0YXRlT24sc3RhdGVPZmY6dGhpcy5zdGF0ZU9mZn0sc3RhdGVzW2ldKTtyZXR1cm4gc3RhdGVzfSwkc2NvcGUucmF0ZT1mdW5jdGlvbih2YWx1ZSl7ISRzY29wZS5yZWFkb25seSYmdmFsdWU+PTAmJnZhbHVlPD0kc2NvcGUucmFuZ2UubGVuZ3RoJiYobmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZSh2YWx1ZSksbmdNb2RlbEN0cmwuJHJlbmRlcigpKX0sJHNjb3BlLmVudGVyPWZ1bmN0aW9uKHZhbHVlKXskc2NvcGUucmVhZG9ubHl8fCgkc2NvcGUudmFsdWU9dmFsdWUpLCRzY29wZS5vbkhvdmVyKHt2YWx1ZTp2YWx1ZX0pfSwkc2NvcGUucmVzZXQ9ZnVuY3Rpb24oKXskc2NvcGUudmFsdWU9bmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSwkc2NvcGUub25MZWF2ZSgpfSwkc2NvcGUub25LZXlkb3duPWZ1bmN0aW9uKGV2dCl7LygzN3wzOHwzOXw0MCkvLnRlc3QoZXZ0LndoaWNoKSYmKGV2dC5wcmV2ZW50RGVmYXVsdCgpLGV2dC5zdG9wUHJvcGFnYXRpb24oKSwkc2NvcGUucmF0ZSgkc2NvcGUudmFsdWUrKDM4PT09ZXZ0LndoaWNofHwzOT09PWV2dC53aGljaD8xOi0xKSkpfSx0aGlzLnJlbmRlcj1mdW5jdGlvbigpeyRzY29wZS52YWx1ZT1uZ01vZGVsQ3RybC4kdmlld1ZhbHVlfX1dKS5kaXJlY3RpdmUoInJhdGluZyIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXF1aXJlOlsicmF0aW5nIiwibmdNb2RlbCJdLHNjb3BlOntyZWFkb25seToiPT8iLG9uSG92ZXI6IiYiLG9uTGVhdmU6IiYifSxjb250cm9sbGVyOiJSYXRpbmdDb250cm9sbGVyIix0ZW1wbGF0ZVVybDoidGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sIixyZXBsYWNlOiEwLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjdHJscyl7dmFyIHJhdGluZ0N0cmw9Y3RybHNbMF0sbmdNb2RlbEN0cmw9Y3RybHNbMV07bmdNb2RlbEN0cmwmJnJhdGluZ0N0cmwuaW5pdChuZ01vZGVsQ3RybCl9fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAudGFicyIsW10pLmNvbnRyb2xsZXIoIlRhYnNldENvbnRyb2xsZXIiLFsiJHNjb3BlIixmdW5jdGlvbigkc2NvcGUpe3ZhciBjdHJsPXRoaXMsdGFicz1jdHJsLnRhYnM9JHNjb3BlLnRhYnM9W107Y3RybC5zZWxlY3Q9ZnVuY3Rpb24oc2VsZWN0ZWRUYWIpe2FuZ3VsYXIuZm9yRWFjaCh0YWJzLGZ1bmN0aW9uKHRhYil7dGFiLmFjdGl2ZSYmdGFiIT09c2VsZWN0ZWRUYWImJih0YWIuYWN0aXZlPSExLHRhYi5vbkRlc2VsZWN0KCkpfSksc2VsZWN0ZWRUYWIuYWN0aXZlPSEwLHNlbGVjdGVkVGFiLm9uU2VsZWN0KCl9LGN0cmwuYWRkVGFiPWZ1bmN0aW9uKHRhYil7dGFicy5wdXNoKHRhYiksMT09PXRhYnMubGVuZ3RoP3RhYi5hY3RpdmU9ITA6dGFiLmFjdGl2ZSYmY3RybC5zZWxlY3QodGFiKX0sY3RybC5yZW1vdmVUYWI9ZnVuY3Rpb24odGFiKXt2YXIgaW5kZXg9dGFicy5pbmRleE9mKHRhYik7aWYodGFiLmFjdGl2ZSYmdGFicy5sZW5ndGg+MSl7dmFyIG5ld0FjdGl2ZUluZGV4PWluZGV4PT10YWJzLmxlbmd0aC0xP2luZGV4LTE6aW5kZXgrMTtjdHJsLnNlbGVjdCh0YWJzW25ld0FjdGl2ZUluZGV4XSl9dGFicy5zcGxpY2UoaW5kZXgsMSl9fV0pLmRpcmVjdGl2ZSgidGFic2V0IixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHRyYW5zY2x1ZGU6ITAscmVwbGFjZTohMCxzY29wZTp7dHlwZToiQCJ9LGNvbnRyb2xsZXI6IlRhYnNldENvbnRyb2xsZXIiLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMpe3Njb3BlLnZlcnRpY2FsPWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnZlcnRpY2FsKT9zY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLnZlcnRpY2FsKTohMSxzY29wZS5qdXN0aWZpZWQ9YW5ndWxhci5pc0RlZmluZWQoYXR0cnMuanVzdGlmaWVkKT9zY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmp1c3RpZmllZCk6ITF9fX0pLmRpcmVjdGl2ZSgidGFiIixbIiRwYXJzZSIsZnVuY3Rpb24oJHBhcnNlKXtyZXR1cm57cmVxdWlyZToiXnRhYnNldCIscmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS90YWJzL3RhYi5odG1sIix0cmFuc2NsdWRlOiEwLHNjb3BlOnthY3RpdmU6Ij0/IixoZWFkaW5nOiJAIixvblNlbGVjdDoiJnNlbGVjdCIsb25EZXNlbGVjdDoiJmRlc2VsZWN0In0sY29udHJvbGxlcjpmdW5jdGlvbigpe30sY29tcGlsZTpmdW5jdGlvbihlbG0sYXR0cnMsdHJhbnNjbHVkZSl7cmV0dXJuIGZ1bmN0aW9uKHNjb3BlLGVsbSxhdHRycyx0YWJzZXRDdHJsKXtzY29wZS4kd2F0Y2goImFjdGl2ZSIsZnVuY3Rpb24oYWN0aXZlKXthY3RpdmUmJnRhYnNldEN0cmwuc2VsZWN0KHNjb3BlKX0pLHNjb3BlLmRpc2FibGVkPSExLGF0dHJzLmRpc2FibGVkJiZzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoYXR0cnMuZGlzYWJsZWQpLGZ1bmN0aW9uKHZhbHVlKXtzY29wZS5kaXNhYmxlZD0hIXZhbHVlfSksc2NvcGUuc2VsZWN0PWZ1bmN0aW9uKCl7c2NvcGUuZGlzYWJsZWR8fChzY29wZS5hY3RpdmU9ITApfSx0YWJzZXRDdHJsLmFkZFRhYihzY29wZSksc2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXt0YWJzZXRDdHJsLnJlbW92ZVRhYihzY29wZSl9KSxzY29wZS4kdHJhbnNjbHVkZUZuPXRyYW5zY2x1ZGV9fX19XSkuZGlyZWN0aXZlKCJ0YWJIZWFkaW5nVHJhbnNjbHVkZSIsW2Z1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJBIixyZXF1aXJlOiJedGFiIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsbSl7c2NvcGUuJHdhdGNoKCJoZWFkaW5nRWxlbWVudCIsZnVuY3Rpb24oaGVhZGluZyl7aGVhZGluZyYmKGVsbS5odG1sKCIiKSxlbG0uYXBwZW5kKGhlYWRpbmcpKX0pfX19XSkuZGlyZWN0aXZlKCJ0YWJDb250ZW50VHJhbnNjbHVkZSIsZnVuY3Rpb24oKXtmdW5jdGlvbiBpc1RhYkhlYWRpbmcobm9kZSl7cmV0dXJuIG5vZGUudGFnTmFtZSYmKG5vZGUuaGFzQXR0cmlidXRlKCJ0YWItaGVhZGluZyIpfHxub2RlLmhhc0F0dHJpYnV0ZSgiZGF0YS10YWItaGVhZGluZyIpfHwidGFiLWhlYWRpbmciPT09bm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCl8fCJkYXRhLXRhYi1oZWFkaW5nIj09PW5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpKX1yZXR1cm57cmVzdHJpY3Q6IkEiLHJlcXVpcmU6Il50YWJzZXQiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxtLGF0dHJzKXt2YXIgdGFiPXNjb3BlLiRldmFsKGF0dHJzLnRhYkNvbnRlbnRUcmFuc2NsdWRlKTt0YWIuJHRyYW5zY2x1ZGVGbih0YWIuJHBhcmVudCxmdW5jdGlvbihjb250ZW50cyl7YW5ndWxhci5mb3JFYWNoKGNvbnRlbnRzLGZ1bmN0aW9uKG5vZGUpe2lzVGFiSGVhZGluZyhub2RlKT90YWIuaGVhZGluZ0VsZW1lbnQ9bm9kZTplbG0uYXBwZW5kKG5vZGUpfSl9KX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC50aW1lcGlja2VyIixbXSkuY29uc3RhbnQoInRpbWVwaWNrZXJDb25maWciLHtob3VyU3RlcDoxLG1pbnV0ZVN0ZXA6MSxzaG93TWVyaWRpYW46ITAsbWVyaWRpYW5zOm51bGwscmVhZG9ubHlJbnB1dDohMSxtb3VzZXdoZWVsOiEwfSkuY29udHJvbGxlcigiVGltZXBpY2tlckNvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGF0dHJzIiwiJHBhcnNlIiwiJGxvZyIsIiRsb2NhbGUiLCJ0aW1lcGlja2VyQ29uZmlnIixmdW5jdGlvbigkc2NvcGUsJGF0dHJzLCRwYXJzZSwkbG9nLCRsb2NhbGUsdGltZXBpY2tlckNvbmZpZyl7ZnVuY3Rpb24gZ2V0SG91cnNGcm9tVGVtcGxhdGUoKXt2YXIgaG91cnM9cGFyc2VJbnQoJHNjb3BlLmhvdXJzLDEwKSx2YWxpZD0kc2NvcGUuc2hvd01lcmlkaWFuP2hvdXJzPjAmJjEzPmhvdXJzOmhvdXJzPj0wJiYyND5ob3VycztyZXR1cm4gdmFsaWQ/KCRzY29wZS5zaG93TWVyaWRpYW4mJigxMj09PWhvdXJzJiYoaG91cnM9MCksJHNjb3BlLm1lcmlkaWFuPT09bWVyaWRpYW5zWzFdJiYoaG91cnMrPTEyKSksaG91cnMpOnZvaWQgMH1mdW5jdGlvbiBnZXRNaW51dGVzRnJvbVRlbXBsYXRlKCl7dmFyIG1pbnV0ZXM9cGFyc2VJbnQoJHNjb3BlLm1pbnV0ZXMsMTApO3JldHVybiBtaW51dGVzPj0wJiY2MD5taW51dGVzP21pbnV0ZXM6dm9pZCAwfWZ1bmN0aW9uIHBhZCh2YWx1ZSl7cmV0dXJuIGFuZ3VsYXIuaXNEZWZpbmVkKHZhbHVlKSYmdmFsdWUudG9TdHJpbmcoKS5sZW5ndGg8Mj8iMCIrdmFsdWU6dmFsdWV9ZnVuY3Rpb24gcmVmcmVzaChrZXlib2FyZENoYW5nZSl7bWFrZVZhbGlkKCksbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShuZXcgRGF0ZShzZWxlY3RlZCkpLHVwZGF0ZVRlbXBsYXRlKGtleWJvYXJkQ2hhbmdlKX1mdW5jdGlvbiBtYWtlVmFsaWQoKXtuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoInRpbWUiLCEwKSwkc2NvcGUuaW52YWxpZEhvdXJzPSExLCRzY29wZS5pbnZhbGlkTWludXRlcz0hMX1mdW5jdGlvbiB1cGRhdGVUZW1wbGF0ZShrZXlib2FyZENoYW5nZSl7dmFyIGhvdXJzPXNlbGVjdGVkLmdldEhvdXJzKCksbWludXRlcz1zZWxlY3RlZC5nZXRNaW51dGVzKCk7JHNjb3BlLnNob3dNZXJpZGlhbiYmKGhvdXJzPTA9PT1ob3Vyc3x8MTI9PT1ob3Vycz8xMjpob3VycyUxMiksJHNjb3BlLmhvdXJzPSJoIj09PWtleWJvYXJkQ2hhbmdlP2hvdXJzOnBhZChob3VycyksJHNjb3BlLm1pbnV0ZXM9Im0iPT09a2V5Ym9hcmRDaGFuZ2U/bWludXRlczpwYWQobWludXRlcyksJHNjb3BlLm1lcmlkaWFuPXNlbGVjdGVkLmdldEhvdXJzKCk8MTI/bWVyaWRpYW5zWzBdOm1lcmlkaWFuc1sxXX1mdW5jdGlvbiBhZGRNaW51dGVzKG1pbnV0ZXMpe3ZhciBkdD1uZXcgRGF0ZShzZWxlY3RlZC5nZXRUaW1lKCkrNmU0Km1pbnV0ZXMpO3NlbGVjdGVkLnNldEhvdXJzKGR0LmdldEhvdXJzKCksZHQuZ2V0TWludXRlcygpKSxyZWZyZXNoKCl9dmFyIHNlbGVjdGVkPW5ldyBEYXRlLG5nTW9kZWxDdHJsPXskc2V0Vmlld1ZhbHVlOmFuZ3VsYXIubm9vcH0sbWVyaWRpYW5zPWFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5tZXJpZGlhbnMpPyRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5tZXJpZGlhbnMpOnRpbWVwaWNrZXJDb25maWcubWVyaWRpYW5zfHwkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuQU1QTVM7dGhpcy5pbml0PWZ1bmN0aW9uKG5nTW9kZWxDdHJsXyxpbnB1dHMpe25nTW9kZWxDdHJsPW5nTW9kZWxDdHJsXyxuZ01vZGVsQ3RybC4kcmVuZGVyPXRoaXMucmVuZGVyO3ZhciBob3Vyc0lucHV0RWw9aW5wdXRzLmVxKDApLG1pbnV0ZXNJbnB1dEVsPWlucHV0cy5lcSgxKSxtb3VzZXdoZWVsPWFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5tb3VzZXdoZWVsKT8kc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMubW91c2V3aGVlbCk6dGltZXBpY2tlckNvbmZpZy5tb3VzZXdoZWVsO21vdXNld2hlZWwmJnRoaXMuc2V0dXBNb3VzZXdoZWVsRXZlbnRzKGhvdXJzSW5wdXRFbCxtaW51dGVzSW5wdXRFbCksJHNjb3BlLnJlYWRvbmx5SW5wdXQ9YW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnJlYWRvbmx5SW5wdXQpPyRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5yZWFkb25seUlucHV0KTp0aW1lcGlja2VyQ29uZmlnLnJlYWRvbmx5SW5wdXQsdGhpcy5zZXR1cElucHV0RXZlbnRzKGhvdXJzSW5wdXRFbCxtaW51dGVzSW5wdXRFbCl9O3ZhciBob3VyU3RlcD10aW1lcGlja2VyQ29uZmlnLmhvdXJTdGVwOyRhdHRycy5ob3VyU3RlcCYmJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMuaG91clN0ZXApLGZ1bmN0aW9uKHZhbHVlKXtob3VyU3RlcD1wYXJzZUludCh2YWx1ZSwxMCl9KTt2YXIgbWludXRlU3RlcD10aW1lcGlja2VyQ29uZmlnLm1pbnV0ZVN0ZXA7JGF0dHJzLm1pbnV0ZVN0ZXAmJiRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLm1pbnV0ZVN0ZXApLGZ1bmN0aW9uKHZhbHVlKXttaW51dGVTdGVwPXBhcnNlSW50KHZhbHVlLDEwKX0pLCRzY29wZS5zaG93TWVyaWRpYW49dGltZXBpY2tlckNvbmZpZy5zaG93TWVyaWRpYW4sJGF0dHJzLnNob3dNZXJpZGlhbiYmJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMuc2hvd01lcmlkaWFuKSxmdW5jdGlvbih2YWx1ZSl7aWYoJHNjb3BlLnNob3dNZXJpZGlhbj0hIXZhbHVlLG5nTW9kZWxDdHJsLiRlcnJvci50aW1lKXt2YXIgaG91cnM9Z2V0SG91cnNGcm9tVGVtcGxhdGUoKSxtaW51dGVzPWdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKTthbmd1bGFyLmlzRGVmaW5lZChob3VycykmJmFuZ3VsYXIuaXNEZWZpbmVkKG1pbnV0ZXMpJiYoc2VsZWN0ZWQuc2V0SG91cnMoaG91cnMpLHJlZnJlc2goKSl9ZWxzZSB1cGRhdGVUZW1wbGF0ZSgpfSksdGhpcy5zZXR1cE1vdXNld2hlZWxFdmVudHM9ZnVuY3Rpb24oaG91cnNJbnB1dEVsLG1pbnV0ZXNJbnB1dEVsKXt2YXIgaXNTY3JvbGxpbmdVcD1mdW5jdGlvbihlKXtlLm9yaWdpbmFsRXZlbnQmJihlPWUub3JpZ2luYWxFdmVudCk7dmFyIGRlbHRhPWUud2hlZWxEZWx0YT9lLndoZWVsRGVsdGE6LWUuZGVsdGFZO3JldHVybiBlLmRldGFpbHx8ZGVsdGE+MH07aG91cnNJbnB1dEVsLmJpbmQoIm1vdXNld2hlZWwgd2hlZWwiLGZ1bmN0aW9uKGUpeyRzY29wZS4kYXBwbHkoaXNTY3JvbGxpbmdVcChlKT8kc2NvcGUuaW5jcmVtZW50SG91cnMoKTokc2NvcGUuZGVjcmVtZW50SG91cnMoKSksZS5wcmV2ZW50RGVmYXVsdCgpfSksbWludXRlc0lucHV0RWwuYmluZCgibW91c2V3aGVlbCB3aGVlbCIsZnVuY3Rpb24oZSl7JHNjb3BlLiRhcHBseShpc1Njcm9sbGluZ1VwKGUpPyRzY29wZS5pbmNyZW1lbnRNaW51dGVzKCk6JHNjb3BlLmRlY3JlbWVudE1pbnV0ZXMoKSksZS5wcmV2ZW50RGVmYXVsdCgpfSl9LHRoaXMuc2V0dXBJbnB1dEV2ZW50cz1mdW5jdGlvbihob3Vyc0lucHV0RWwsbWludXRlc0lucHV0RWwpe2lmKCRzY29wZS5yZWFkb25seUlucHV0KXJldHVybiAkc2NvcGUudXBkYXRlSG91cnM9YW5ndWxhci5ub29wLHZvaWQoJHNjb3BlLnVwZGF0ZU1pbnV0ZXM9YW5ndWxhci5ub29wKTt2YXIgaW52YWxpZGF0ZT1mdW5jdGlvbihpbnZhbGlkSG91cnMsaW52YWxpZE1pbnV0ZXMpe25nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUobnVsbCksbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCJ0aW1lIiwhMSksYW5ndWxhci5pc0RlZmluZWQoaW52YWxpZEhvdXJzKSYmKCRzY29wZS5pbnZhbGlkSG91cnM9aW52YWxpZEhvdXJzKSxhbmd1bGFyLmlzRGVmaW5lZChpbnZhbGlkTWludXRlcykmJigkc2NvcGUuaW52YWxpZE1pbnV0ZXM9aW52YWxpZE1pbnV0ZXMpfTskc2NvcGUudXBkYXRlSG91cnM9ZnVuY3Rpb24oKXt2YXIgaG91cnM9Z2V0SG91cnNGcm9tVGVtcGxhdGUoKTthbmd1bGFyLmlzRGVmaW5lZChob3Vycyk/KHNlbGVjdGVkLnNldEhvdXJzKGhvdXJzKSxyZWZyZXNoKCJoIikpOmludmFsaWRhdGUoITApfSxob3Vyc0lucHV0RWwuYmluZCgiYmx1ciIsZnVuY3Rpb24oKXshJHNjb3BlLmludmFsaWRIb3VycyYmJHNjb3BlLmhvdXJzPDEwJiYkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7JHNjb3BlLmhvdXJzPXBhZCgkc2NvcGUuaG91cnMpfSl9KSwkc2NvcGUudXBkYXRlTWludXRlcz1mdW5jdGlvbigpe3ZhciBtaW51dGVzPWdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKTthbmd1bGFyLmlzRGVmaW5lZChtaW51dGVzKT8oc2VsZWN0ZWQuc2V0TWludXRlcyhtaW51dGVzKSxyZWZyZXNoKCJtIikpOmludmFsaWRhdGUodm9pZCAwLCEwKX0sbWludXRlc0lucHV0RWwuYmluZCgiYmx1ciIsZnVuY3Rpb24oKXshJHNjb3BlLmludmFsaWRNaW51dGVzJiYkc2NvcGUubWludXRlczwxMCYmJHNjb3BlLiRhcHBseShmdW5jdGlvbigpeyRzY29wZS5taW51dGVzPXBhZCgkc2NvcGUubWludXRlcyl9KX0pfSx0aGlzLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBkYXRlPW5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlP25ldyBEYXRlKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlKTpudWxsO2lzTmFOKGRhdGUpPyhuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoInRpbWUiLCExKSwkbG9nLmVycm9yKCdUaW1lcGlja2VyIGRpcmVjdGl2ZTogIm5nLW1vZGVsIiB2YWx1ZSBtdXN0IGJlIGEgRGF0ZSBvYmplY3QsIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSAwMS4wMS4xOTcwIG9yIGEgc3RyaW5nIHJlcHJlc2VudGluZyBhbiBSRkMyODIyIG9yIElTTyA4NjAxIGRhdGUuJykpOihkYXRlJiYoc2VsZWN0ZWQ9ZGF0ZSksbWFrZVZhbGlkKCksdXBkYXRlVGVtcGxhdGUoKSl9LCRzY29wZS5pbmNyZW1lbnRIb3Vycz1mdW5jdGlvbigpe2FkZE1pbnV0ZXMoNjAqaG91clN0ZXApfSwkc2NvcGUuZGVjcmVtZW50SG91cnM9ZnVuY3Rpb24oKXthZGRNaW51dGVzKDYwKi1ob3VyU3RlcCl9LCRzY29wZS5pbmNyZW1lbnRNaW51dGVzPWZ1bmN0aW9uKCl7YWRkTWludXRlcyhtaW51dGVTdGVwKX0sJHNjb3BlLmRlY3JlbWVudE1pbnV0ZXM9ZnVuY3Rpb24oKXthZGRNaW51dGVzKC1taW51dGVTdGVwKX0sJHNjb3BlLnRvZ2dsZU1lcmlkaWFuPWZ1bmN0aW9uKCl7YWRkTWludXRlcyg3MjAqKHNlbGVjdGVkLmdldEhvdXJzKCk8MTI/MTotMSkpfX1dKS5kaXJlY3RpdmUoInRpbWVwaWNrZXIiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVxdWlyZTpbInRpbWVwaWNrZXIiLCI/Xm5nTW9kZWwiXSxjb250cm9sbGVyOiJUaW1lcGlja2VyQ29udHJvbGxlciIscmVwbGFjZTohMCxzY29wZTp7fSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvdGltZXBpY2tlci90aW1lcGlja2VyLmh0bWwiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjdHJscyl7dmFyIHRpbWVwaWNrZXJDdHJsPWN0cmxzWzBdLG5nTW9kZWxDdHJsPWN0cmxzWzFdO25nTW9kZWxDdHJsJiZ0aW1lcGlja2VyQ3RybC5pbml0KG5nTW9kZWxDdHJsLGVsZW1lbnQuZmluZCgiaW5wdXQiKSl9fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAudHlwZWFoZWFkIixbInVpLmJvb3RzdHJhcC5wb3NpdGlvbiIsInVpLmJvb3RzdHJhcC5iaW5kSHRtbCJdKS5mYWN0b3J5KCJ0eXBlYWhlYWRQYXJzZXIiLFsiJHBhcnNlIixmdW5jdGlvbigkcGFyc2Upe3ZhciBUWVBFQUhFQURfUkVHRVhQPS9eXHMqKFtcc1xTXSs/KSg/OlxzK2FzXHMrKFtcc1xTXSs/KSk/XHMrZm9yXHMrKD86KFtcJFx3XVtcJFx3XGRdKikpXHMraW5ccysoW1xzXFNdKz8pJC87cmV0dXJue3BhcnNlOmZ1bmN0aW9uKGlucHV0KXt2YXIgbWF0Y2g9aW5wdXQubWF0Y2goVFlQRUFIRUFEX1JFR0VYUCk7aWYoIW1hdGNoKXRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdHlwZWFoZWFkIHNwZWNpZmljYXRpb24gaW4gZm9ybSBvZiAiX21vZGVsVmFsdWVfIChhcyBfbGFiZWxfKT8gZm9yIF9pdGVtXyBpbiBfY29sbGVjdGlvbl8iIGJ1dCBnb3QgIicraW5wdXQrJyIuJyk7cmV0dXJue2l0ZW1OYW1lOm1hdGNoWzNdLHNvdXJjZTokcGFyc2UobWF0Y2hbNF0pLHZpZXdNYXBwZXI6JHBhcnNlKG1hdGNoWzJdfHxtYXRjaFsxXSksbW9kZWxNYXBwZXI6JHBhcnNlKG1hdGNoWzFdKX19fX1dKS5kaXJlY3RpdmUoInR5cGVhaGVhZCIsWyIkY29tcGlsZSIsIiRwYXJzZSIsIiRxIiwiJHRpbWVvdXQiLCIkZG9jdW1lbnQiLCIkcG9zaXRpb24iLCJ0eXBlYWhlYWRQYXJzZXIiLGZ1bmN0aW9uKCRjb21waWxlLCRwYXJzZSwkcSwkdGltZW91dCwkZG9jdW1lbnQsJHBvc2l0aW9uLHR5cGVhaGVhZFBhcnNlcil7dmFyIEhPVF9LRVlTPVs5LDEzLDI3LDM4LDQwXTtyZXR1cm57cmVxdWlyZToibmdNb2RlbCIsbGluazpmdW5jdGlvbihvcmlnaW5hbFNjb3BlLGVsZW1lbnQsYXR0cnMsbW9kZWxDdHJsKXt2YXIgaGFzRm9jdXMsbWluU2VhcmNoPW9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkTWluTGVuZ3RoKXx8MSx3YWl0VGltZT1vcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZFdhaXRNcyl8fDAsaXNFZGl0YWJsZT1vcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZEVkaXRhYmxlKSE9PSExLGlzTG9hZGluZ1NldHRlcj0kcGFyc2UoYXR0cnMudHlwZWFoZWFkTG9hZGluZykuYXNzaWdufHxhbmd1bGFyLm5vb3Asb25TZWxlY3RDYWxsYmFjaz0kcGFyc2UoYXR0cnMudHlwZWFoZWFkT25TZWxlY3QpLGlucHV0Rm9ybWF0dGVyPWF0dHJzLnR5cGVhaGVhZElucHV0Rm9ybWF0dGVyPyRwYXJzZShhdHRycy50eXBlYWhlYWRJbnB1dEZvcm1hdHRlcik6dm9pZCAwLGFwcGVuZFRvQm9keT1hdHRycy50eXBlYWhlYWRBcHBlbmRUb0JvZHk/b3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRBcHBlbmRUb0JvZHkpOiExLCRzZXRNb2RlbFZhbHVlPSRwYXJzZShhdHRycy5uZ01vZGVsKS5hc3NpZ24scGFyc2VyUmVzdWx0PXR5cGVhaGVhZFBhcnNlci5wYXJzZShhdHRycy50eXBlYWhlYWQpLHNjb3BlPW9yaWdpbmFsU2NvcGUuJG5ldygpO29yaWdpbmFsU2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtzY29wZS4kZGVzdHJveSgpfSk7dmFyIHBvcHVwSWQ9InR5cGVhaGVhZC0iK3Njb3BlLiRpZCsiLSIrTWF0aC5mbG9vcigxZTQqTWF0aC5yYW5kb20oKSk7ZWxlbWVudC5hdHRyKHsiYXJpYS1hdXRvY29tcGxldGUiOiJsaXN0IiwiYXJpYS1leHBhbmRlZCI6ITEsImFyaWEtb3ducyI6cG9wdXBJZH0pO3ZhciBwb3BVcEVsPWFuZ3VsYXIuZWxlbWVudCgiPGRpdiB0eXBlYWhlYWQtcG9wdXA+PC9kaXY+Iik7cG9wVXBFbC5hdHRyKHtpZDpwb3B1cElkLG1hdGNoZXM6Im1hdGNoZXMiLGFjdGl2ZToiYWN0aXZlSWR4IixzZWxlY3Q6InNlbGVjdChhY3RpdmVJZHgpIixxdWVyeToicXVlcnkiLHBvc2l0aW9uOiJwb3NpdGlvbiJ9KSxhbmd1bGFyLmlzRGVmaW5lZChhdHRycy50eXBlYWhlYWRUZW1wbGF0ZVVybCkmJnBvcFVwRWwuYXR0cigidGVtcGxhdGUtdXJsIixhdHRycy50eXBlYWhlYWRUZW1wbGF0ZVVybCk7dmFyIHJlc2V0TWF0Y2hlcz1mdW5jdGlvbigpe3Njb3BlLm1hdGNoZXM9W10sc2NvcGUuYWN0aXZlSWR4PS0xLGVsZW1lbnQuYXR0cigiYXJpYS1leHBhbmRlZCIsITEpfSxnZXRNYXRjaElkPWZ1bmN0aW9uKGluZGV4KXtyZXR1cm4gcG9wdXBJZCsiLW9wdGlvbi0iK2luZGV4fTtzY29wZS4kd2F0Y2goImFjdGl2ZUlkeCIsZnVuY3Rpb24oaW5kZXgpezA+aW5kZXg/ZWxlbWVudC5yZW1vdmVBdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiKTplbGVtZW50LmF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIsZ2V0TWF0Y2hJZChpbmRleCkpfSk7dmFyIGdldE1hdGNoZXNBc3luYz1mdW5jdGlvbihpbnB1dFZhbHVlKXt2YXIgbG9jYWxzPXskdmlld1ZhbHVlOmlucHV0VmFsdWV9O2lzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCEwKSwkcS53aGVuKHBhcnNlclJlc3VsdC5zb3VyY2Uob3JpZ2luYWxTY29wZSxsb2NhbHMpKS50aGVuKGZ1bmN0aW9uKG1hdGNoZXMpe3ZhciBvbkN1cnJlbnRSZXF1ZXN0PWlucHV0VmFsdWU9PT1tb2RlbEN0cmwuJHZpZXdWYWx1ZTtpZihvbkN1cnJlbnRSZXF1ZXN0JiZoYXNGb2N1cylpZihtYXRjaGVzLmxlbmd0aD4wKXtzY29wZS5hY3RpdmVJZHg9MCxzY29wZS5tYXRjaGVzLmxlbmd0aD0wO2Zvcih2YXIgaT0wO2k8bWF0Y2hlcy5sZW5ndGg7aSsrKWxvY2Fsc1twYXJzZXJSZXN1bHQuaXRlbU5hbWVdPW1hdGNoZXNbaV0sc2NvcGUubWF0Y2hlcy5wdXNoKHtpZDpnZXRNYXRjaElkKGkpLGxhYmVsOnBhcnNlclJlc3VsdC52aWV3TWFwcGVyKHNjb3BlLGxvY2FscyksbW9kZWw6bWF0Y2hlc1tpXX0pO3Njb3BlLnF1ZXJ5PWlucHV0VmFsdWUsc2NvcGUucG9zaXRpb249YXBwZW5kVG9Cb2R5PyRwb3NpdGlvbi5vZmZzZXQoZWxlbWVudCk6JHBvc2l0aW9uLnBvc2l0aW9uKGVsZW1lbnQpLHNjb3BlLnBvc2l0aW9uLnRvcD1zY29wZS5wb3NpdGlvbi50b3ArZWxlbWVudC5wcm9wKCJvZmZzZXRIZWlnaHQiKSxlbGVtZW50LmF0dHIoImFyaWEtZXhwYW5kZWQiLCEwKX1lbHNlIHJlc2V0TWF0Y2hlcygpO29uQ3VycmVudFJlcXVlc3QmJmlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCExKX0sZnVuY3Rpb24oKXtyZXNldE1hdGNoZXMoKSxpc0xvYWRpbmdTZXR0ZXIob3JpZ2luYWxTY29wZSwhMSl9KX07cmVzZXRNYXRjaGVzKCksc2NvcGUucXVlcnk9dm9pZCAwO3ZhciB0aW1lb3V0UHJvbWlzZSxzY2hlZHVsZVNlYXJjaFdpdGhUaW1lb3V0PWZ1bmN0aW9uKGlucHV0VmFsdWUpe3RpbWVvdXRQcm9taXNlPSR0aW1lb3V0KGZ1bmN0aW9uKCl7Z2V0TWF0Y2hlc0FzeW5jKGlucHV0VmFsdWUpfSx3YWl0VGltZSl9LGNhbmNlbFByZXZpb3VzVGltZW91dD1mdW5jdGlvbigpe3RpbWVvdXRQcm9taXNlJiYkdGltZW91dC5jYW5jZWwodGltZW91dFByb21pc2UpfTttb2RlbEN0cmwuJHBhcnNlcnMudW5zaGlmdChmdW5jdGlvbihpbnB1dFZhbHVlKXtyZXR1cm4gaGFzRm9jdXM9ITAsaW5wdXRWYWx1ZSYmaW5wdXRWYWx1ZS5sZW5ndGg+PW1pblNlYXJjaD93YWl0VGltZT4wPyhjYW5jZWxQcmV2aW91c1RpbWVvdXQoKSxzY2hlZHVsZVNlYXJjaFdpdGhUaW1lb3V0KGlucHV0VmFsdWUpKTpnZXRNYXRjaGVzQXN5bmMoaW5wdXRWYWx1ZSk6KGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCExKSxjYW5jZWxQcmV2aW91c1RpbWVvdXQoKSxyZXNldE1hdGNoZXMoKSksaXNFZGl0YWJsZT9pbnB1dFZhbHVlOmlucHV0VmFsdWU/dm9pZCBtb2RlbEN0cmwuJHNldFZhbGlkaXR5KCJlZGl0YWJsZSIsITEpOihtb2RlbEN0cmwuJHNldFZhbGlkaXR5KCJlZGl0YWJsZSIsITApLGlucHV0VmFsdWUpfSksbW9kZWxDdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24obW9kZWxWYWx1ZSl7dmFyIGNhbmRpZGF0ZVZpZXdWYWx1ZSxlbXB0eVZpZXdWYWx1ZSxsb2NhbHM9e307cmV0dXJuIGlucHV0Rm9ybWF0dGVyPyhsb2NhbHMuJG1vZGVsPW1vZGVsVmFsdWUsaW5wdXRGb3JtYXR0ZXIob3JpZ2luYWxTY29wZSxsb2NhbHMpKToobG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV09bW9kZWxWYWx1ZSxjYW5kaWRhdGVWaWV3VmFsdWU9cGFyc2VyUmVzdWx0LnZpZXdNYXBwZXIob3JpZ2luYWxTY29wZSxsb2NhbHMpLGxvY2Fsc1twYXJzZXJSZXN1bHQuaXRlbU5hbWVdPXZvaWQgMCxlbXB0eVZpZXdWYWx1ZT1wYXJzZXJSZXN1bHQudmlld01hcHBlcihvcmlnaW5hbFNjb3BlLGxvY2FscyksY2FuZGlkYXRlVmlld1ZhbHVlIT09ZW1wdHlWaWV3VmFsdWU/Y2FuZGlkYXRlVmlld1ZhbHVlOm1vZGVsVmFsdWUpfSksc2NvcGUuc2VsZWN0PWZ1bmN0aW9uKGFjdGl2ZUlkeCl7dmFyIG1vZGVsLGl0ZW0sbG9jYWxzPXt9O2xvY2Fsc1twYXJzZXJSZXN1bHQuaXRlbU5hbWVdPWl0ZW09c2NvcGUubWF0Y2hlc1thY3RpdmVJZHhdLm1vZGVsLG1vZGVsPXBhcnNlclJlc3VsdC5tb2RlbE1hcHBlcihvcmlnaW5hbFNjb3BlLGxvY2FscyksJHNldE1vZGVsVmFsdWUob3JpZ2luYWxTY29wZSxtb2RlbCksbW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgiZWRpdGFibGUiLCEwKSxvblNlbGVjdENhbGxiYWNrKG9yaWdpbmFsU2NvcGUseyRpdGVtOml0ZW0sJG1vZGVsOm1vZGVsLCRsYWJlbDpwYXJzZXJSZXN1bHQudmlld01hcHBlcihvcmlnaW5hbFNjb3BlLGxvY2Fscyl9KSxyZXNldE1hdGNoZXMoKSwkdGltZW91dChmdW5jdGlvbigpe2VsZW1lbnRbMF0uZm9jdXMoKX0sMCwhMSl9LGVsZW1lbnQuYmluZCgia2V5ZG93biIsZnVuY3Rpb24oZXZ0KXswIT09c2NvcGUubWF0Y2hlcy5sZW5ndGgmJi0xIT09SE9UX0tFWVMuaW5kZXhPZihldnQud2hpY2gpJiYoZXZ0LnByZXZlbnREZWZhdWx0KCksNDA9PT1ldnQud2hpY2g/KHNjb3BlLmFjdGl2ZUlkeD0oc2NvcGUuYWN0aXZlSWR4KzEpJXNjb3BlLm1hdGNoZXMubGVuZ3RoLHNjb3BlLiRkaWdlc3QoKSk6Mzg9PT1ldnQud2hpY2g/KHNjb3BlLmFjdGl2ZUlkeD0oc2NvcGUuYWN0aXZlSWR4P3Njb3BlLmFjdGl2ZUlkeDpzY29wZS5tYXRjaGVzLmxlbmd0aCktMSxzY29wZS4kZGlnZXN0KCkpOjEzPT09ZXZ0LndoaWNofHw5PT09ZXZ0LndoaWNoP3Njb3BlLiRhcHBseShmdW5jdGlvbigpe3Njb3BlLnNlbGVjdChzY29wZS5hY3RpdmVJZHgpfSk6Mjc9PT1ldnQud2hpY2gmJihldnQuc3RvcFByb3BhZ2F0aW9uKCkscmVzZXRNYXRjaGVzKCksc2NvcGUuJGRpZ2VzdCgpKSl9KSxlbGVtZW50LmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7aGFzRm9jdXM9ITF9KTt2YXIgZGlzbWlzc0NsaWNrSGFuZGxlcj1mdW5jdGlvbihldnQpe2VsZW1lbnRbMF0hPT1ldnQudGFyZ2V0JiYocmVzZXRNYXRjaGVzKCksc2NvcGUuJGRpZ2VzdCgpKX07JGRvY3VtZW50LmJpbmQoImNsaWNrIixkaXNtaXNzQ2xpY2tIYW5kbGVyKSxvcmlnaW5hbFNjb3BlLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7JGRvY3VtZW50LnVuYmluZCgiY2xpY2siLGRpc21pc3NDbGlja0hhbmRsZXIpfSk7dmFyICRwb3B1cD0kY29tcGlsZShwb3BVcEVsKShzY29wZSk7YXBwZW5kVG9Cb2R5PyRkb2N1bWVudC5maW5kKCJib2R5IikuYXBwZW5kKCRwb3B1cCk6ZWxlbWVudC5hZnRlcigkcG9wdXApfX19XSkuZGlyZWN0aXZlKCJ0eXBlYWhlYWRQb3B1cCIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixzY29wZTp7bWF0Y2hlczoiPSIscXVlcnk6Ij0iLGFjdGl2ZToiPSIscG9zaXRpb246Ij0iLHNlbGVjdDoiJiJ9LHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbCIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzKXtzY29wZS50ZW1wbGF0ZVVybD1hdHRycy50ZW1wbGF0ZVVybCxzY29wZS5pc09wZW49ZnVuY3Rpb24oKXtyZXR1cm4gc2NvcGUubWF0Y2hlcy5sZW5ndGg+MH0sc2NvcGUuaXNBY3RpdmU9ZnVuY3Rpb24obWF0Y2hJZHgpe3JldHVybiBzY29wZS5hY3RpdmU9PW1hdGNoSWR4fSxzY29wZS5zZWxlY3RBY3RpdmU9ZnVuY3Rpb24obWF0Y2hJZHgpe3Njb3BlLmFjdGl2ZT1tYXRjaElkeH0sc2NvcGUuc2VsZWN0TWF0Y2g9ZnVuY3Rpb24oYWN0aXZlSWR4KXtzY29wZS5zZWxlY3Qoe2FjdGl2ZUlkeDphY3RpdmVJZHh9KX19fX0pLmRpcmVjdGl2ZSgidHlwZWFoZWFkTWF0Y2giLFsiJGh0dHAiLCIkdGVtcGxhdGVDYWNoZSIsIiRjb21waWxlIiwiJHBhcnNlIixmdW5jdGlvbigkaHR0cCwkdGVtcGxhdGVDYWNoZSwkY29tcGlsZSwkcGFyc2Upe3JldHVybntyZXN0cmljdDoiRUEiLHNjb3BlOntpbmRleDoiPSIsbWF0Y2g6Ij0iLHF1ZXJ5OiI9In0sbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzKXt2YXIgdHBsVXJsPSRwYXJzZShhdHRycy50ZW1wbGF0ZVVybCkoc2NvcGUuJHBhcmVudCl8fCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWwiOyRodHRwLmdldCh0cGxVcmwse2NhY2hlOiR0ZW1wbGF0ZUNhY2hlfSkuc3VjY2VzcyhmdW5jdGlvbih0cGxDb250ZW50KXtlbGVtZW50LnJlcGxhY2VXaXRoKCRjb21waWxlKHRwbENvbnRlbnQudHJpbSgpKShzY29wZSkpfSl9fX1dKS5maWx0ZXIoInR5cGVhaGVhZEhpZ2hsaWdodCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBlc2NhcGVSZWdleHAocXVlcnlUb0VzY2FwZSl7cmV0dXJuIHF1ZXJ5VG9Fc2NhcGUucmVwbGFjZSgvKFsuPyorXiRbXF1cXCgpe318LV0pL2csIlxcJDEiKX1yZXR1cm4gZnVuY3Rpb24obWF0Y2hJdGVtLHF1ZXJ5KXtyZXR1cm4gcXVlcnk/KCIiK21hdGNoSXRlbSkucmVwbGFjZShuZXcgUmVnRXhwKGVzY2FwZVJlZ2V4cChxdWVyeSksImdpIiksIjxzdHJvbmc+JCY8L3N0cm9uZz4iKTptYXRjaEl0ZW19fSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWwiLCc8ZGl2IGNsYXNzPSJwYW5lbCBwYW5lbC1kZWZhdWx0Ij5cbiAgPGRpdiBjbGFzcz0icGFuZWwtaGVhZGluZyI+XG4gICAgPGg0IGNsYXNzPSJwYW5lbC10aXRsZSI+XG4gICAgICA8YSBjbGFzcz0iYWNjb3JkaW9uLXRvZ2dsZSIgbmctY2xpY2s9InRvZ2dsZU9wZW4oKSIgYWNjb3JkaW9uLXRyYW5zY2x1ZGU9ImhlYWRpbmciPjxzcGFuIG5nLWNsYXNzPSJ7XCd0ZXh0LW11dGVkXCc6IGlzRGlzYWJsZWR9Ij57e2hlYWRpbmd9fTwvc3Bhbj48L2E+XG4gICAgPC9oND5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9InBhbmVsLWNvbGxhcHNlIiBjb2xsYXBzZT0iIWlzT3BlbiI+XG4JICA8ZGl2IGNsYXNzPSJwYW5lbC1ib2R5IiBuZy10cmFuc2NsdWRlPjwvZGl2PlxuICA8L2Rpdj5cbjwvZGl2PicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sIiwnPGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+Jyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvYWxlcnQvYWxlcnQuaHRtbCIsJzxkaXYgY2xhc3M9ImFsZXJ0IiBuZy1jbGFzcz0iW1wnYWxlcnQtXCcgKyAodHlwZSB8fCBcJ3dhcm5pbmdcJyksIGNsb3NlYWJsZSA/IFwnYWxlcnQtZGlzbWlzc2FibGVcJyA6IG51bGxdIiByb2xlPSJhbGVydCI+XG4gICAgPGJ1dHRvbiBuZy1zaG93PSJjbG9zZWFibGUiIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImNsb3NlIiBuZy1jbGljaz0iY2xvc2UoKSI+XG4gICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPSJ0cnVlIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz0ic3Itb25seSI+Q2xvc2U8L3NwYW4+XG4gICAgPC9idXR0b24+XG4gICAgPGRpdiBuZy10cmFuc2NsdWRlPjwvZGl2PlxuPC9kaXY+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sIiwnPGRpdiBuZy1tb3VzZWVudGVyPSJwYXVzZSgpIiBuZy1tb3VzZWxlYXZlPSJwbGF5KCkiIGNsYXNzPSJjYXJvdXNlbCIgbmctc3dpcGUtcmlnaHQ9InByZXYoKSIgbmctc3dpcGUtbGVmdD0ibmV4dCgpIj5cbiAgICA8b2wgY2xhc3M9ImNhcm91c2VsLWluZGljYXRvcnMiIG5nLXNob3c9InNsaWRlcy5sZW5ndGggPiAxIj5cbiAgICAgICAgPGxpIG5nLXJlcGVhdD0ic2xpZGUgaW4gc2xpZGVzIHRyYWNrIGJ5ICRpbmRleCIgbmctY2xhc3M9InthY3RpdmU6IGlzQWN0aXZlKHNsaWRlKX0iIG5nLWNsaWNrPSJzZWxlY3Qoc2xpZGUpIj48L2xpPlxuICAgIDwvb2w+XG4gICAgPGRpdiBjbGFzcz0iY2Fyb3VzZWwtaW5uZXIiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XG4gICAgPGEgY2xhc3M9ImxlZnQgY2Fyb3VzZWwtY29udHJvbCIgbmctY2xpY2s9InByZXYoKSIgbmctc2hvdz0ic2xpZGVzLmxlbmd0aCA+IDEiPjxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdCI+PC9zcGFuPjwvYT5cbiAgICA8YSBjbGFzcz0icmlnaHQgY2Fyb3VzZWwtY29udHJvbCIgbmctY2xpY2s9Im5leHQoKSIgbmctc2hvdz0ic2xpZGVzLmxlbmd0aCA+IDEiPjxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHQiPjwvc3Bhbj48L2E+XG48L2Rpdj5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWwiLCI8ZGl2IG5nLWNsYXNzPVwie1xuICAgICdhY3RpdmUnOiBsZWF2aW5nIHx8IChhY3RpdmUgJiYgIWVudGVyaW5nKSxcbiAgICAncHJldic6IChuZXh0IHx8IGFjdGl2ZSkgJiYgZGlyZWN0aW9uPT0ncHJldicsXG4gICAgJ25leHQnOiAobmV4dCB8fCBhY3RpdmUpICYmIGRpcmVjdGlvbj09J25leHQnLFxuICAgICdyaWdodCc6IGRpcmVjdGlvbj09J3ByZXYnLFxuICAgICdsZWZ0JzogZGlyZWN0aW9uPT0nbmV4dCdcbiAgfVwiIGNsYXNzPVwiaXRlbSB0ZXh0LWNlbnRlclwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XG4iKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWwiLCc8ZGl2IG5nLXN3aXRjaD0iZGF0ZXBpY2tlck1vZGUiIHJvbGU9ImFwcGxpY2F0aW9uIiBuZy1rZXlkb3duPSJrZXlkb3duKCRldmVudCkiPlxuICA8ZGF5cGlja2VyIG5nLXN3aXRjaC13aGVuPSJkYXkiIHRhYmluZGV4PSIwIj48L2RheXBpY2tlcj5cbiAgPG1vbnRocGlja2VyIG5nLXN3aXRjaC13aGVuPSJtb250aCIgdGFiaW5kZXg9IjAiPjwvbW9udGhwaWNrZXI+XG4gIDx5ZWFycGlja2VyIG5nLXN3aXRjaC13aGVuPSJ5ZWFyIiB0YWJpbmRleD0iMCI+PC95ZWFycGlja2VyPlxuPC9kaXY+Jyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF5Lmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbCIsJzx0YWJsZSByb2xlPSJncmlkIiBhcmlhLWxhYmVsbGVkYnk9Int7dW5pcXVlSWR9fS10aXRsZSIgYXJpYS1hY3RpdmVkZXNjZW5kYW50PSJ7e2FjdGl2ZURhdGVJZH19Ij5cbiAgPHRoZWFkPlxuICAgIDx0cj5cbiAgICAgIDx0aD48YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0IiBuZy1jbGljaz0ibW92ZSgtMSkiIHRhYmluZGV4PSItMSI+PGkgY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0Ij48L2k+PC9idXR0b24+PC90aD5cbiAgICAgIDx0aCBjb2xzcGFuPSJ7ezUgKyBzaG93V2Vla3N9fSI+PGJ1dHRvbiBpZD0ie3t1bmlxdWVJZH19LXRpdGxlIiByb2xlPSJoZWFkaW5nIiBhcmlhLWxpdmU9ImFzc2VydGl2ZSIgYXJpYS1hdG9taWM9InRydWUiIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBidG4tc20iIG5nLWNsaWNrPSJ0b2dnbGVNb2RlKCkiIHRhYmluZGV4PSItMSIgc3R5bGU9IndpZHRoOjEwMCU7Ij48c3Ryb25nPnt7dGl0bGV9fTwvc3Ryb25nPjwvYnV0dG9uPjwvdGg+XG4gICAgICA8dGg+PGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHQiIG5nLWNsaWNrPSJtb3ZlKDEpIiB0YWJpbmRleD0iLTEiPjxpIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHQiPjwvaT48L2J1dHRvbj48L3RoPlxuICAgIDwvdHI+XG4gICAgPHRyPlxuICAgICAgPHRoIG5nLXNob3c9InNob3dXZWVrcyIgY2xhc3M9InRleHQtY2VudGVyIj48L3RoPlxuICAgICAgPHRoIG5nLXJlcGVhdD0ibGFiZWwgaW4gbGFiZWxzIHRyYWNrIGJ5ICRpbmRleCIgY2xhc3M9InRleHQtY2VudGVyIj48c21hbGwgYXJpYS1sYWJlbD0ie3tsYWJlbC5mdWxsfX0iPnt7bGFiZWwuYWJicn19PC9zbWFsbD48L3RoPlxuICAgIDwvdHI+XG4gIDwvdGhlYWQ+XG4gIDx0Ym9keT5cbiAgICA8dHIgbmctcmVwZWF0PSJyb3cgaW4gcm93cyB0cmFjayBieSAkaW5kZXgiPlxuICAgICAgPHRkIG5nLXNob3c9InNob3dXZWVrcyIgY2xhc3M9InRleHQtY2VudGVyIGg2Ij48ZW0+e3sgd2Vla051bWJlcnNbJGluZGV4XSB9fTwvZW0+PC90ZD5cbiAgICAgIDx0ZCBuZy1yZXBlYXQ9ImR0IGluIHJvdyB0cmFjayBieSBkdC5kYXRlIiBjbGFzcz0idGV4dC1jZW50ZXIiIHJvbGU9ImdyaWRjZWxsIiBpZD0ie3tkdC51aWR9fSIgYXJpYS1kaXNhYmxlZD0ie3shIWR0LmRpc2FibGVkfX0iPlxuICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgc3R5bGU9IndpZHRoOjEwMCU7IiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSIgbmctY2xhc3M9IntcJ2J0bi1pbmZvXCc6IGR0LnNlbGVjdGVkLCBhY3RpdmU6IGlzQWN0aXZlKGR0KX0iIG5nLWNsaWNrPSJzZWxlY3QoZHQuZGF0ZSkiIG5nLWRpc2FibGVkPSJkdC5kaXNhYmxlZCIgdGFiaW5kZXg9Ii0xIj48c3BhbiBuZy1jbGFzcz0ie1wndGV4dC1tdXRlZFwnOiBkdC5zZWNvbmRhcnksIFwndGV4dC1pbmZvXCc6IGR0LmN1cnJlbnR9Ij57e2R0LmxhYmVsfX08L3NwYW4+PC9idXR0b24+XG4gICAgICA8L3RkPlxuICAgIDwvdHI+XG4gIDwvdGJvZHk+XG48L3RhYmxlPlxuJyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2RhdGVwaWNrZXIvbW9udGguaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWwiLCc8dGFibGUgcm9sZT0iZ3JpZCIgYXJpYS1sYWJlbGxlZGJ5PSJ7e3VuaXF1ZUlkfX0tdGl0bGUiIGFyaWEtYWN0aXZlZGVzY2VuZGFudD0ie3thY3RpdmVEYXRlSWR9fSI+XG4gIDx0aGVhZD5cbiAgICA8dHI+XG4gICAgICA8dGg+PGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdCIgbmctY2xpY2s9Im1vdmUoLTEpIiB0YWJpbmRleD0iLTEiPjxpIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdCI+PC9pPjwvYnV0dG9uPjwvdGg+XG4gICAgICA8dGg+PGJ1dHRvbiBpZD0ie3t1bmlxdWVJZH19LXRpdGxlIiByb2xlPSJoZWFkaW5nIiBhcmlhLWxpdmU9ImFzc2VydGl2ZSIgYXJpYS1hdG9taWM9InRydWUiIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBidG4tc20iIG5nLWNsaWNrPSJ0b2dnbGVNb2RlKCkiIHRhYmluZGV4PSItMSIgc3R5bGU9IndpZHRoOjEwMCU7Ij48c3Ryb25nPnt7dGl0bGV9fTwvc3Ryb25nPjwvYnV0dG9uPjwvdGg+XG4gICAgICA8dGg+PGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHQiIG5nLWNsaWNrPSJtb3ZlKDEpIiB0YWJpbmRleD0iLTEiPjxpIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHQiPjwvaT48L2J1dHRvbj48L3RoPlxuICAgIDwvdHI+XG4gIDwvdGhlYWQ+XG4gIDx0Ym9keT5cbiAgICA8dHIgbmctcmVwZWF0PSJyb3cgaW4gcm93cyB0cmFjayBieSAkaW5kZXgiPlxuICAgICAgPHRkIG5nLXJlcGVhdD0iZHQgaW4gcm93IHRyYWNrIGJ5IGR0LmRhdGUiIGNsYXNzPSJ0ZXh0LWNlbnRlciIgcm9sZT0iZ3JpZGNlbGwiIGlkPSJ7e2R0LnVpZH19IiBhcmlhLWRpc2FibGVkPSJ7eyEhZHQuZGlzYWJsZWR9fSI+XG4gICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBzdHlsZT0id2lkdGg6MTAwJTsiIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQiIG5nLWNsYXNzPSJ7XCdidG4taW5mb1wnOiBkdC5zZWxlY3RlZCwgYWN0aXZlOiBpc0FjdGl2ZShkdCl9IiBuZy1jbGljaz0ic2VsZWN0KGR0LmRhdGUpIiBuZy1kaXNhYmxlZD0iZHQuZGlzYWJsZWQiIHRhYmluZGV4PSItMSI+PHNwYW4gbmctY2xhc3M9IntcJ3RleHQtaW5mb1wnOiBkdC5jdXJyZW50fSI+e3tkdC5sYWJlbH19PC9zcGFuPjwvYnV0dG9uPlxuICAgICAgPC90ZD5cbiAgICA8L3RyPlxuICA8L3Rib2R5PlxuPC90YWJsZT5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvZGF0ZXBpY2tlci9wb3B1cC5odG1sIiwnPHVsIGNsYXNzPSJkcm9wZG93bi1tZW51IiBuZy1zdHlsZT0ie2Rpc3BsYXk6IChpc09wZW4gJiYgXCdibG9ja1wnKSB8fCBcJ25vbmVcJywgdG9wOiBwb3NpdGlvbi50b3ArXCdweFwnLCBsZWZ0OiBwb3NpdGlvbi5sZWZ0K1wncHhcJ30iIG5nLWtleWRvd249ImtleWRvd24oJGV2ZW50KSI+XG4JPGxpIG5nLXRyYW5zY2x1ZGU+PC9saT5cbgk8bGkgbmctaWY9InNob3dCdXR0b25CYXIiIHN0eWxlPSJwYWRkaW5nOjEwcHggOXB4IDJweCI+XG4JCTxzcGFuIGNsYXNzPSJidG4tZ3JvdXAiPlxuCQkJPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXNtIGJ0bi1pbmZvIiBuZy1jbGljaz0ic2VsZWN0KFwndG9kYXlcJykiPnt7IGdldFRleHQoXCdjdXJyZW50XCcpIH19PC9idXR0b24+XG4JCQk8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tc20gYnRuLWRhbmdlciIgbmctY2xpY2s9InNlbGVjdChudWxsKSI+e3sgZ2V0VGV4dChcJ2NsZWFyXCcpIH19PC9idXR0b24+XG4JCTwvc3Bhbj5cbgkJPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXNtIGJ0bi1zdWNjZXNzIHB1bGwtcmlnaHQiIG5nLWNsaWNrPSJjbG9zZSgpIj57eyBnZXRUZXh0KFwnY2xvc2VcJykgfX08L2J1dHRvbj5cbgk8L2xpPlxuPC91bD5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbCIsJzx0YWJsZSByb2xlPSJncmlkIiBhcmlhLWxhYmVsbGVkYnk9Int7dW5pcXVlSWR9fS10aXRsZSIgYXJpYS1hY3RpdmVkZXNjZW5kYW50PSJ7e2FjdGl2ZURhdGVJZH19Ij5cbiAgPHRoZWFkPlxuICAgIDx0cj5cbiAgICAgIDx0aD48YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0IiBuZy1jbGljaz0ibW92ZSgtMSkiIHRhYmluZGV4PSItMSI+PGkgY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0Ij48L2k+PC9idXR0b24+PC90aD5cbiAgICAgIDx0aCBjb2xzcGFuPSIzIj48YnV0dG9uIGlkPSJ7e3VuaXF1ZUlkfX0tdGl0bGUiIHJvbGU9ImhlYWRpbmciIGFyaWEtbGl2ZT0iYXNzZXJ0aXZlIiBhcmlhLWF0b21pYz0idHJ1ZSIgdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSIgbmctY2xpY2s9InRvZ2dsZU1vZGUoKSIgdGFiaW5kZXg9Ii0xIiBzdHlsZT0id2lkdGg6MTAwJTsiPjxzdHJvbmc+e3t0aXRsZX19PC9zdHJvbmc+PC9idXR0b24+PC90aD5cbiAgICAgIDx0aD48YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1yaWdodCIgbmctY2xpY2s9Im1vdmUoMSkiIHRhYmluZGV4PSItMSI+PGkgY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodCI+PC9pPjwvYnV0dG9uPjwvdGg+XG4gICAgPC90cj5cbiAgPC90aGVhZD5cbiAgPHRib2R5PlxuICAgIDx0ciBuZy1yZXBlYXQ9InJvdyBpbiByb3dzIHRyYWNrIGJ5ICRpbmRleCI+XG4gICAgICA8dGQgbmctcmVwZWF0PSJkdCBpbiByb3cgdHJhY2sgYnkgZHQuZGF0ZSIgY2xhc3M9InRleHQtY2VudGVyIiByb2xlPSJncmlkY2VsbCIgaWQ9Int7ZHQudWlkfX0iIGFyaWEtZGlzYWJsZWQ9Int7ISFkdC5kaXNhYmxlZH19Ij5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIHN0eWxlPSJ3aWR0aDoxMDAlOyIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCIgbmctY2xhc3M9IntcJ2J0bi1pbmZvXCc6IGR0LnNlbGVjdGVkLCBhY3RpdmU6IGlzQWN0aXZlKGR0KX0iIG5nLWNsaWNrPSJzZWxlY3QoZHQuZGF0ZSkiIG5nLWRpc2FibGVkPSJkdC5kaXNhYmxlZCIgdGFiaW5kZXg9Ii0xIj48c3BhbiBuZy1jbGFzcz0ie1wndGV4dC1pbmZvXCc6IGR0LmN1cnJlbnR9Ij57e2R0LmxhYmVsfX08L3NwYW4+PC9idXR0b24+XG4gICAgICA8L3RkPlxuICAgIDwvdHI+XG4gIDwvdGJvZHk+XG48L3RhYmxlPlxuJykKfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWwiLCc8ZGl2IGNsYXNzPSJtb2RhbC1iYWNrZHJvcCBmYWRlIHt7IGJhY2tkcm9wQ2xhc3MgfX0iXG4gICAgIG5nLWNsYXNzPSJ7aW46IGFuaW1hdGV9IlxuICAgICBuZy1zdHlsZT0ie1wnei1pbmRleFwnOiAxMDQwICsgKGluZGV4ICYmIDEgfHwgMCkgKyBpbmRleCoxMH0iXG4+PC9kaXY+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWwiLCc8ZGl2IHRhYmluZGV4PSItMSIgcm9sZT0iZGlhbG9nIiBjbGFzcz0ibW9kYWwgZmFkZSIgbmctY2xhc3M9IntpbjogYW5pbWF0ZX0iIG5nLXN0eWxlPSJ7XCd6LWluZGV4XCc6IDEwNTAgKyBpbmRleCoxMCwgZGlzcGxheTogXCdibG9ja1wnfSIgbmctY2xpY2s9ImNsb3NlKCRldmVudCkiPlxuICAgIDxkaXYgY2xhc3M9Im1vZGFsLWRpYWxvZyIgbmctY2xhc3M9IntcJ21vZGFsLXNtXCc6IHNpemUgPT0gXCdzbVwnLCBcJ21vZGFsLWxnXCc6IHNpemUgPT0gXCdsZ1wnfSI+PGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCIgbW9kYWwtdHJhbnNjbHVkZT48L2Rpdj48L2Rpdj5cbjwvZGl2PicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2VyLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sIiwnPHVsIGNsYXNzPSJwYWdlciI+XG4gIDxsaSBuZy1jbGFzcz0ie2Rpc2FibGVkOiBub1ByZXZpb3VzKCksIHByZXZpb3VzOiBhbGlnbn0iPjxhIGhyZWYgbmctY2xpY2s9InNlbGVjdFBhZ2UocGFnZSAtIDEpIj57e2dldFRleHQoXCdwcmV2aW91c1wnKX19PC9hPjwvbGk+XG4gIDxsaSBuZy1jbGFzcz0ie2Rpc2FibGVkOiBub05leHQoKSwgbmV4dDogYWxpZ259Ij48YSBocmVmIG5nLWNsaWNrPSJzZWxlY3RQYWdlKHBhZ2UgKyAxKSI+e3tnZXRUZXh0KFwnbmV4dFwnKX19PC9hPjwvbGk+XG48L3VsPicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbCIsJzx1bCBjbGFzcz0icGFnaW5hdGlvbiI+XG4gIDxsaSBuZy1pZj0iYm91bmRhcnlMaW5rcyIgbmctY2xhc3M9IntkaXNhYmxlZDogbm9QcmV2aW91cygpfSI+PGEgaHJlZiBuZy1jbGljaz0ic2VsZWN0UGFnZSgxKSI+e3tnZXRUZXh0KFwnZmlyc3RcJyl9fTwvYT48L2xpPlxuICA8bGkgbmctaWY9ImRpcmVjdGlvbkxpbmtzIiBuZy1jbGFzcz0ie2Rpc2FibGVkOiBub1ByZXZpb3VzKCl9Ij48YSBocmVmIG5nLWNsaWNrPSJzZWxlY3RQYWdlKHBhZ2UgLSAxKSI+e3tnZXRUZXh0KFwncHJldmlvdXNcJyl9fTwvYT48L2xpPlxuICA8bGkgbmctcmVwZWF0PSJwYWdlIGluIHBhZ2VzIHRyYWNrIGJ5ICRpbmRleCIgbmctY2xhc3M9InthY3RpdmU6IHBhZ2UuYWN0aXZlfSI+PGEgaHJlZiBuZy1jbGljaz0ic2VsZWN0UGFnZShwYWdlLm51bWJlcikiPnt7cGFnZS50ZXh0fX08L2E+PC9saT5cbiAgPGxpIG5nLWlmPSJkaXJlY3Rpb25MaW5rcyIgbmctY2xhc3M9IntkaXNhYmxlZDogbm9OZXh0KCl9Ij48YSBocmVmIG5nLWNsaWNrPSJzZWxlY3RQYWdlKHBhZ2UgKyAxKSI+e3tnZXRUZXh0KFwnbmV4dFwnKX19PC9hPjwvbGk+XG4gIDxsaSBuZy1pZj0iYm91bmRhcnlMaW5rcyIgbmctY2xhc3M9IntkaXNhYmxlZDogbm9OZXh0KCl9Ij48YSBocmVmIG5nLWNsaWNrPSJzZWxlY3RQYWdlKHRvdGFsUGFnZXMpIj57e2dldFRleHQoXCdsYXN0XCcpfX08L2E+PC9saT5cbjwvdWw+Jyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXVuc2FmZS1wb3B1cC5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXVuc2FmZS1wb3B1cC5odG1sIiwnPGRpdiBjbGFzcz0idG9vbHRpcCB7e3BsYWNlbWVudH19IiBuZy1jbGFzcz0ieyBpbjogaXNPcGVuKCksIGZhZGU6IGFuaW1hdGlvbigpIH0iPlxuICA8ZGl2IGNsYXNzPSJ0b29sdGlwLWFycm93Ij48L2Rpdj5cbiAgPGRpdiBjbGFzcz0idG9vbHRpcC1pbm5lciIgYmluZC1odG1sLXVuc2FmZT0iY29udGVudCI+PC9kaXY+XG48L2Rpdj5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbCIsJzxkaXYgY2xhc3M9InRvb2x0aXAge3twbGFjZW1lbnR9fSIgbmctY2xhc3M9InsgaW46IGlzT3BlbigpLCBmYWRlOiBhbmltYXRpb24oKSB9Ij5cbiAgPGRpdiBjbGFzcz0idG9vbHRpcC1hcnJvdyI+PC9kaXY+XG4gIDxkaXYgY2xhc3M9InRvb2x0aXAtaW5uZXIiIG5nLWJpbmQ9ImNvbnRlbnQiPjwvZGl2PlxuPC9kaXY+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLmh0bWwiLCc8ZGl2IGNsYXNzPSJwb3BvdmVyIHt7cGxhY2VtZW50fX0iIG5nLWNsYXNzPSJ7IGluOiBpc09wZW4oKSwgZmFkZTogYW5pbWF0aW9uKCkgfSI+XG4gIDxkaXYgY2xhc3M9ImFycm93Ij48L2Rpdj5cblxuICA8ZGl2IGNsYXNzPSJwb3BvdmVyLWlubmVyIj5cbiAgICAgIDxoMyBjbGFzcz0icG9wb3Zlci10aXRsZSIgbmctYmluZD0idGl0bGUiIG5nLXNob3c9InRpdGxlIj48L2gzPlxuICAgICAgPGRpdiBjbGFzcz0icG9wb3Zlci1jb250ZW50IiBuZy1iaW5kPSJjb250ZW50Ij48L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbCIsJzxkaXYgY2xhc3M9InByb2dyZXNzLWJhciIgbmctY2xhc3M9InR5cGUgJiYgXCdwcm9ncmVzcy1iYXItXCcgKyB0eXBlIiByb2xlPSJwcm9ncmVzc2JhciIgYXJpYS12YWx1ZW5vdz0ie3t2YWx1ZX19IiBhcmlhLXZhbHVlbWluPSIwIiBhcmlhLXZhbHVlbWF4PSJ7e21heH19IiBuZy1zdHlsZT0ie3dpZHRoOiBwZXJjZW50ICsgXCclXCd9IiBhcmlhLXZhbHVldGV4dD0ie3twZXJjZW50IHwgbnVtYmVyOjB9fSUiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+Jyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbCIsJzxkaXYgY2xhc3M9InByb2dyZXNzIiBuZy10cmFuc2NsdWRlPjwvZGl2PicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmh0bWwiLCc8ZGl2IGNsYXNzPSJwcm9ncmVzcyI+XG4gIDxkaXYgY2xhc3M9InByb2dyZXNzLWJhciIgbmctY2xhc3M9InR5cGUgJiYgXCdwcm9ncmVzcy1iYXItXCcgKyB0eXBlIiByb2xlPSJwcm9ncmVzc2JhciIgYXJpYS12YWx1ZW5vdz0ie3t2YWx1ZX19IiBhcmlhLXZhbHVlbWluPSIwIiBhcmlhLXZhbHVlbWF4PSJ7e21heH19IiBuZy1zdHlsZT0ie3dpZHRoOiBwZXJjZW50ICsgXCclXCd9IiBhcmlhLXZhbHVldGV4dD0ie3twZXJjZW50IHwgbnVtYmVyOjB9fSUiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XG48L2Rpdj4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbCIsJzxzcGFuIG5nLW1vdXNlbGVhdmU9InJlc2V0KCkiIG5nLWtleWRvd249Im9uS2V5ZG93bigkZXZlbnQpIiB0YWJpbmRleD0iMCIgcm9sZT0ic2xpZGVyIiBhcmlhLXZhbHVlbWluPSIwIiBhcmlhLXZhbHVlbWF4PSJ7e3JhbmdlLmxlbmd0aH19IiBhcmlhLXZhbHVlbm93PSJ7e3ZhbHVlfX0iPlxuICAgIDxpIG5nLXJlcGVhdD0iciBpbiByYW5nZSB0cmFjayBieSAkaW5kZXgiIG5nLW1vdXNlZW50ZXI9ImVudGVyKCRpbmRleCArIDEpIiBuZy1jbGljaz0icmF0ZSgkaW5kZXggKyAxKSIgY2xhc3M9ImdseXBoaWNvbiIgbmctY2xhc3M9IiRpbmRleCA8IHZhbHVlICYmIChyLnN0YXRlT24gfHwgXCdnbHlwaGljb24tc3RhclwnKSB8fCAoci5zdGF0ZU9mZiB8fCBcJ2dseXBoaWNvbi1zdGFyLWVtcHR5XCcpIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9InNyLW9ubHkiPih7eyAkaW5kZXggPCB2YWx1ZSA/IFwnKlwnIDogXCcgXCcgfX0pPC9zcGFuPlxuICAgIDwvaT5cbjwvc3Bhbj4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvdGFicy90YWIuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS90YWJzL3RhYi5odG1sIiwnPGxpIG5nLWNsYXNzPSJ7YWN0aXZlOiBhY3RpdmUsIGRpc2FibGVkOiBkaXNhYmxlZH0iPlxuICA8YSBuZy1jbGljaz0ic2VsZWN0KCkiIHRhYi1oZWFkaW5nLXRyYW5zY2x1ZGU+e3toZWFkaW5nfX08L2E+XG48L2xpPlxuJyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvdGFicy90YWJzZXQuaHRtbCIsJzxkaXY+XG4gIDx1bCBjbGFzcz0ibmF2IG5hdi17e3R5cGUgfHwgXCd0YWJzXCd9fSIgbmctY2xhc3M9IntcJ25hdi1zdGFja2VkXCc6IHZlcnRpY2FsLCBcJ25hdi1qdXN0aWZpZWRcJzoganVzdGlmaWVkfSIgbmctdHJhbnNjbHVkZT48L3VsPlxuICA8ZGl2IGNsYXNzPSJ0YWItY29udGVudCI+XG4gICAgPGRpdiBjbGFzcz0idGFiLXBhbmUiIFxuICAgICAgICAgbmctcmVwZWF0PSJ0YWIgaW4gdGFicyIgXG4gICAgICAgICBuZy1jbGFzcz0ie2FjdGl2ZTogdGFiLmFjdGl2ZX0iXG4gICAgICAgICB0YWItY29udGVudC10cmFuc2NsdWRlPSJ0YWIiPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvZGl2PlxuJyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3RpbWVwaWNrZXIvdGltZXBpY2tlci5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL3RpbWVwaWNrZXIvdGltZXBpY2tlci5odG1sIiwnPHRhYmxlPlxuCTx0Ym9keT5cbgkJPHRyIGNsYXNzPSJ0ZXh0LWNlbnRlciI+XG4JCQk8dGQ+PGEgbmctY2xpY2s9ImluY3JlbWVudEhvdXJzKCkiIGNsYXNzPSJidG4gYnRuLWxpbmsiPjxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tdXAiPjwvc3Bhbj48L2E+PC90ZD5cbgkJCTx0ZD4mbmJzcDs8L3RkPlxuCQkJPHRkPjxhIG5nLWNsaWNrPSJpbmNyZW1lbnRNaW51dGVzKCkiIGNsYXNzPSJidG4gYnRuLWxpbmsiPjxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tdXAiPjwvc3Bhbj48L2E+PC90ZD5cbgkJCTx0ZCBuZy1zaG93PSJzaG93TWVyaWRpYW4iPjwvdGQ+XG4JCTwvdHI+XG4JCTx0cj5cbgkJCTx0ZCBzdHlsZT0id2lkdGg6NTBweDsiIGNsYXNzPSJmb3JtLWdyb3VwIiBuZy1jbGFzcz0ie1wnaGFzLWVycm9yXCc6IGludmFsaWRIb3Vyc30iPlxuCQkJCTxpbnB1dCB0eXBlPSJ0ZXh0IiBuZy1tb2RlbD0iaG91cnMiIG5nLWNoYW5nZT0idXBkYXRlSG91cnMoKSIgY2xhc3M9ImZvcm0tY29udHJvbCB0ZXh0LWNlbnRlciIgbmctbW91c2V3aGVlbD0iaW5jcmVtZW50SG91cnMoKSIgbmctcmVhZG9ubHk9InJlYWRvbmx5SW5wdXQiIG1heGxlbmd0aD0iMiI+XG4JCQk8L3RkPlxuCQkJPHRkPjo8L3RkPlxuCQkJPHRkIHN0eWxlPSJ3aWR0aDo1MHB4OyIgY2xhc3M9ImZvcm0tZ3JvdXAiIG5nLWNsYXNzPSJ7XCdoYXMtZXJyb3JcJzogaW52YWxpZE1pbnV0ZXN9Ij5cbgkJCQk8aW5wdXQgdHlwZT0idGV4dCIgbmctbW9kZWw9Im1pbnV0ZXMiIG5nLWNoYW5nZT0idXBkYXRlTWludXRlcygpIiBjbGFzcz0iZm9ybS1jb250cm9sIHRleHQtY2VudGVyIiBuZy1yZWFkb25seT0icmVhZG9ubHlJbnB1dCIgbWF4bGVuZ3RoPSIyIj5cbgkJCTwvdGQ+XG4JCQk8dGQgbmctc2hvdz0ic2hvd01lcmlkaWFuIj48YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCB0ZXh0LWNlbnRlciIgbmctY2xpY2s9InRvZ2dsZU1lcmlkaWFuKCkiPnt7bWVyaWRpYW59fTwvYnV0dG9uPjwvdGQ+XG4JCTwvdHI+XG4JCTx0ciBjbGFzcz0idGV4dC1jZW50ZXIiPlxuCQkJPHRkPjxhIG5nLWNsaWNrPSJkZWNyZW1lbnRIb3VycygpIiBjbGFzcz0iYnRuIGJ0bi1saW5rIj48c3BhbiBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWRvd24iPjwvc3Bhbj48L2E+PC90ZD5cbgkJCTx0ZD4mbmJzcDs8L3RkPlxuCQkJPHRkPjxhIG5nLWNsaWNrPSJkZWNyZW1lbnRNaW51dGVzKCkiIGNsYXNzPSJidG4gYnRuLWxpbmsiPjxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tZG93biI+PC9zcGFuPjwvYT48L3RkPlxuCQkJPHRkIG5nLXNob3c9InNob3dNZXJpZGlhbiI+PC90ZD5cbgkJPC90cj5cbgk8L3Rib2R5PlxuPC90YWJsZT5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1tYXRjaC5odG1sIiwnPGEgdGFiaW5kZXg9Ii0xIiBiaW5kLWh0bWwtdW5zYWZlPSJtYXRjaC5sYWJlbCB8IHR5cGVhaGVhZEhpZ2hsaWdodDpxdWVyeSI+PC9hPicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sIiwnPHVsIGNsYXNzPSJkcm9wZG93bi1tZW51IiBuZy1zaG93PSJpc09wZW4oKSIgbmctc3R5bGU9Int0b3A6IHBvc2l0aW9uLnRvcCtcJ3B4XCcsIGxlZnQ6IHBvc2l0aW9uLmxlZnQrXCdweFwnfSIgc3R5bGU9ImRpc3BsYXk6IGJsb2NrOyIgcm9sZT0ibGlzdGJveCIgYXJpYS1oaWRkZW49Int7IWlzT3BlbigpfX0iPlxuICAgIDxsaSBuZy1yZXBlYXQ9Im1hdGNoIGluIG1hdGNoZXMgdHJhY2sgYnkgJGluZGV4IiBuZy1jbGFzcz0ie2FjdGl2ZTogaXNBY3RpdmUoJGluZGV4KSB9IiBuZy1tb3VzZWVudGVyPSJzZWxlY3RBY3RpdmUoJGluZGV4KSIgbmctY2xpY2s9InNlbGVjdE1hdGNoKCRpbmRleCkiIHJvbGU9Im9wdGlvbiIgaWQ9Int7bWF0Y2guaWR9fSI+XG4gICAgICAgIDxkaXYgdHlwZWFoZWFkLW1hdGNoIGluZGV4PSIkaW5kZXgiIG1hdGNoPSJtYXRjaCIgcXVlcnk9InF1ZXJ5IiB0ZW1wbGF0ZS11cmw9InRlbXBsYXRlVXJsIj48L2Rpdj5cbiAgICA8L2xpPlxuPC91bD5cbicpfV0pOwovLyMgc291cmNlTWFwcGluZ1VSTD1kZXBlbmRlbmNpZXMubWluLm1hcA==",
                "body": "LyohIG1ha2Vkcml2ZSAwLjAuNjcgMjAxNC0xMS0wNiAqLwoKIWZ1bmN0aW9uKGEsYil7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9YS5kb2N1bWVudD9iKGEsITApOmZ1bmN0aW9uKGEpe2lmKCFhLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiBiKGEpfTpiKGEpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIHMoYSl7dmFyIGI9YS5sZW5ndGgsYz1uLnR5cGUoYSk7cmV0dXJuImZ1bmN0aW9uIj09PWN8fG4uaXNXaW5kb3coYSk/ITE6MT09PWEubm9kZVR5cGUmJmI/ITA6ImFycmF5Ij09PWN8fDA9PT1ifHwibnVtYmVyIj09dHlwZW9mIGImJmI+MCYmYi0xIGluIGF9ZnVuY3Rpb24geChhLGIsYyl7aWYobi5pc0Z1bmN0aW9uKGIpKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhLGQpe3JldHVybiEhYi5jYWxsKGEsZCxhKSE9PWN9KTtpZihiLm5vZGVUeXBlKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gYT09PWIhPT1jfSk7aWYoInN0cmluZyI9PXR5cGVvZiBiKXtpZih3LnRlc3QoYikpcmV0dXJuIG4uZmlsdGVyKGIsYSxjKTtiPW4uZmlsdGVyKGIsYSl9cmV0dXJuIG4uZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBnLmNhbGwoYixhKT49MCE9PWN9KX1mdW5jdGlvbiBEKGEsYil7Zm9yKDsoYT1hW2JdKSYmMSE9PWEubm9kZVR5cGU7KTtyZXR1cm4gYX1mdW5jdGlvbiBHKGEpe3ZhciBiPUZbYV09e307cmV0dXJuIG4uZWFjaChhLm1hdGNoKEUpfHxbXSxmdW5jdGlvbihhLGMpe2JbY109ITB9KSxifWZ1bmN0aW9uIEkoKXtsLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEksITEpLGEucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsSSwhMSksbi5yZWFkeSgpfWZ1bmN0aW9uIEsoKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5jYWNoZT17fSwwLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57fX19KSx0aGlzLmV4cGFuZG89bi5leHBhbmRvK01hdGgucmFuZG9tKCl9ZnVuY3Rpb24gUChhLGIsYyl7dmFyIGQ7aWYodm9pZCAwPT09YyYmMT09PWEubm9kZVR5cGUpaWYoZD0iZGF0YS0iK2IucmVwbGFjZShPLCItJDEiKS50b0xvd2VyQ2FzZSgpLGM9YS5nZXRBdHRyaWJ1dGUoZCksInN0cmluZyI9PXR5cGVvZiBjKXt0cnl7Yz0idHJ1ZSI9PT1jPyEwOiJmYWxzZSI9PT1jPyExOiJudWxsIj09PWM/bnVsbDorYysiIj09PWM/K2M6Ti50ZXN0KGMpP24ucGFyc2VKU09OKGMpOmN9Y2F0Y2goZSl7fU0uc2V0KGEsYixjKX1lbHNlIGM9dm9pZCAwO3JldHVybiBjfWZ1bmN0aW9uIFooKXtyZXR1cm4hMH1mdW5jdGlvbiAkKCl7cmV0dXJuITF9ZnVuY3Rpb24gXygpe3RyeXtyZXR1cm4gbC5hY3RpdmVFbGVtZW50fWNhdGNoKGEpe319ZnVuY3Rpb24gamIoYSxiKXtyZXR1cm4gbi5ub2RlTmFtZShhLCJ0YWJsZSIpJiZuLm5vZGVOYW1lKDExIT09Yi5ub2RlVHlwZT9iOmIuZmlyc3RDaGlsZCwidHIiKT9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0Ym9keSIpWzBdfHxhLmFwcGVuZENoaWxkKGEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIpKTphfWZ1bmN0aW9uIGtiKGEpe3JldHVybiBhLnR5cGU9KG51bGwhPT1hLmdldEF0dHJpYnV0ZSgidHlwZSIpKSsiLyIrYS50eXBlLGF9ZnVuY3Rpb24gbGIoYSl7dmFyIGI9Z2IuZXhlYyhhLnR5cGUpO3JldHVybiBiP2EudHlwZT1iWzFdOmEucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksYX1mdW5jdGlvbiBtYihhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKylMLnNldChhW2NdLCJnbG9iYWxFdmFsIiwhYnx8TC5nZXQoYltjXSwiZ2xvYmFsRXZhbCIpKX1mdW5jdGlvbiBuYihhLGIpe3ZhciBjLGQsZSxmLGcsaCxpLGo7aWYoMT09PWIubm9kZVR5cGUpe2lmKEwuaGFzRGF0YShhKSYmKGY9TC5hY2Nlc3MoYSksZz1MLnNldChiLGYpLGo9Zi5ldmVudHMpKXtkZWxldGUgZy5oYW5kbGUsZy5ldmVudHM9e307Zm9yKGUgaW4gailmb3IoYz0wLGQ9altlXS5sZW5ndGg7ZD5jO2MrKyluLmV2ZW50LmFkZChiLGUsaltlXVtjXSl9TS5oYXNEYXRhKGEpJiYoaD1NLmFjY2VzcyhhKSxpPW4uZXh0ZW5kKHt9LGgpLE0uc2V0KGIsaSkpfX1mdW5jdGlvbiBvYihhLGIpe3ZhciBjPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWU/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShifHwiKiIpOmEucXVlcnlTZWxlY3RvckFsbD9hLnF1ZXJ5U2VsZWN0b3JBbGwoYnx8IioiKTpbXTtyZXR1cm4gdm9pZCAwPT09Ynx8YiYmbi5ub2RlTmFtZShhLGIpP24ubWVyZ2UoW2FdLGMpOmN9ZnVuY3Rpb24gcGIoYSxiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7ImlucHV0Ij09PWMmJlQudGVzdChhLnR5cGUpP2IuY2hlY2tlZD1hLmNoZWNrZWQ6KCJpbnB1dCI9PT1jfHwidGV4dGFyZWEiPT09YykmJihiLmRlZmF1bHRWYWx1ZT1hLmRlZmF1bHRWYWx1ZSl9ZnVuY3Rpb24gc2IoYixjKXt2YXIgZCxlPW4oYy5jcmVhdGVFbGVtZW50KGIpKS5hcHBlbmRUbyhjLmJvZHkpLGY9YS5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZSYmKGQ9YS5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZShlWzBdKSk/ZC5kaXNwbGF5Om4uY3NzKGVbMF0sImRpc3BsYXkiKTtyZXR1cm4gZS5kZXRhY2goKSxmfWZ1bmN0aW9uIHRiKGEpe3ZhciBiPWwsYz1yYlthXTtyZXR1cm4gY3x8KGM9c2IoYSxiKSwibm9uZSIhPT1jJiZjfHwocWI9KHFifHxuKCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+IikpLmFwcGVuZFRvKGIuZG9jdW1lbnRFbGVtZW50KSxiPXFiWzBdLmNvbnRlbnREb2N1bWVudCxiLndyaXRlKCksYi5jbG9zZSgpLGM9c2IoYSxiKSxxYi5kZXRhY2goKSkscmJbYV09YyksY31mdW5jdGlvbiB4YihhLGIsYyl7dmFyIGQsZSxmLGcsaD1hLnN0eWxlO3JldHVybiBjPWN8fHdiKGEpLGMmJihnPWMuZ2V0UHJvcGVydHlWYWx1ZShiKXx8Y1tiXSksYyYmKCIiIT09Z3x8bi5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSl8fChnPW4uc3R5bGUoYSxiKSksdmIudGVzdChnKSYmdWIudGVzdChiKSYmKGQ9aC53aWR0aCxlPWgubWluV2lkdGgsZj1oLm1heFdpZHRoLGgubWluV2lkdGg9aC5tYXhXaWR0aD1oLndpZHRoPWcsZz1jLndpZHRoLGgud2lkdGg9ZCxoLm1pbldpZHRoPWUsaC5tYXhXaWR0aD1mKSksdm9pZCAwIT09Zz9nKyIiOmd9ZnVuY3Rpb24geWIoYSxiKXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEoKT92b2lkIGRlbGV0ZSB0aGlzLmdldDoodGhpcy5nZXQ9YikuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19ZnVuY3Rpb24gRmIoYSxiKXtpZihiIGluIGEpcmV0dXJuIGI7Zm9yKHZhciBjPWJbMF0udG9VcHBlckNhc2UoKStiLnNsaWNlKDEpLGQ9YixlPUViLmxlbmd0aDtlLS07KWlmKGI9RWJbZV0rYyxiIGluIGEpcmV0dXJuIGI7cmV0dXJuIGR9ZnVuY3Rpb24gR2IoYSxiLGMpe3ZhciBkPUFiLmV4ZWMoYik7cmV0dXJuIGQ/TWF0aC5tYXgoMCxkWzFdLShjfHwwKSkrKGRbMl18fCJweCIpOmJ9ZnVuY3Rpb24gSGIoYSxiLGMsZCxlKXtmb3IodmFyIGY9Yz09PShkPyJib3JkZXIiOiJjb250ZW50Iik/NDoid2lkdGgiPT09Yj8xOjAsZz0wOzQ+ZjtmKz0yKSJtYXJnaW4iPT09YyYmKGcrPW4uY3NzKGEsYytSW2ZdLCEwLGUpKSxkPygiY29udGVudCI9PT1jJiYoZy09bi5jc3MoYSwicGFkZGluZyIrUltmXSwhMCxlKSksIm1hcmdpbiIhPT1jJiYoZy09bi5jc3MoYSwiYm9yZGVyIitSW2ZdKyJXaWR0aCIsITAsZSkpKTooZys9bi5jc3MoYSwicGFkZGluZyIrUltmXSwhMCxlKSwicGFkZGluZyIhPT1jJiYoZys9bi5jc3MoYSwiYm9yZGVyIitSW2ZdKyJXaWR0aCIsITAsZSkpKTtyZXR1cm4gZ31mdW5jdGlvbiBJYihhLGIsYyl7dmFyIGQ9ITAsZT0id2lkdGgiPT09Yj9hLm9mZnNldFdpZHRoOmEub2Zmc2V0SGVpZ2h0LGY9d2IoYSksZz0iYm9yZGVyLWJveCI9PT1uLmNzcyhhLCJib3hTaXppbmciLCExLGYpO2lmKDA+PWV8fG51bGw9PWUpe2lmKGU9eGIoYSxiLGYpLCgwPmV8fG51bGw9PWUpJiYoZT1hLnN0eWxlW2JdKSx2Yi50ZXN0KGUpKXJldHVybiBlO2Q9ZyYmKGsuYm94U2l6aW5nUmVsaWFibGUoKXx8ZT09PWEuc3R5bGVbYl0pLGU9cGFyc2VGbG9hdChlKXx8MH1yZXR1cm4gZStIYihhLGIsY3x8KGc/ImJvcmRlciI6ImNvbnRlbnQiKSxkLGYpKyJweCJ9ZnVuY3Rpb24gSmIoYSxiKXtmb3IodmFyIGMsZCxlLGY9W10sZz0wLGg9YS5sZW5ndGg7aD5nO2crKylkPWFbZ10sZC5zdHlsZSYmKGZbZ109TC5nZXQoZCwib2xkZGlzcGxheSIpLGM9ZC5zdHlsZS5kaXNwbGF5LGI/KGZbZ118fCJub25lIiE9PWN8fChkLnN0eWxlLmRpc3BsYXk9IiIpLCIiPT09ZC5zdHlsZS5kaXNwbGF5JiZTKGQpJiYoZltnXT1MLmFjY2VzcyhkLCJvbGRkaXNwbGF5Iix0YihkLm5vZGVOYW1lKSkpKTooZT1TKGQpLCJub25lIj09PWMmJmV8fEwuc2V0KGQsIm9sZGRpc3BsYXkiLGU/YzpuLmNzcyhkLCJkaXNwbGF5IikpKSk7Zm9yKGc9MDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoYiYmIm5vbmUiIT09ZC5zdHlsZS5kaXNwbGF5JiYiIiE9PWQuc3R5bGUuZGlzcGxheXx8KGQuc3R5bGUuZGlzcGxheT1iP2ZbZ118fCIiOiJub25lIikpO3JldHVybiBhfWZ1bmN0aW9uIEtiKGEsYixjLGQsZSl7cmV0dXJuIG5ldyBLYi5wcm90b3R5cGUuaW5pdChhLGIsYyxkLGUpfWZ1bmN0aW9uIFNiKCl7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtMYj12b2lkIDB9KSxMYj1uLm5vdygpfWZ1bmN0aW9uIFRiKGEsYil7dmFyIGMsZD0wLGU9e2hlaWdodDphfTtmb3IoYj1iPzE6MDs0PmQ7ZCs9Mi1iKWM9UltkXSxlWyJtYXJnaW4iK2NdPWVbInBhZGRpbmciK2NdPWE7cmV0dXJuIGImJihlLm9wYWNpdHk9ZS53aWR0aD1hKSxlfWZ1bmN0aW9uIFViKGEsYixjKXtmb3IodmFyIGQsZT0oUmJbYl18fFtdKS5jb25jYXQoUmJbIioiXSksZj0wLGc9ZS5sZW5ndGg7Zz5mO2YrKylpZihkPWVbZl0uY2FsbChjLGIsYSkpcmV0dXJuIGR9ZnVuY3Rpb24gVmIoYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGssbD10aGlzLG09e30sbz1hLnN0eWxlLHA9YS5ub2RlVHlwZSYmUyhhKSxxPUwuZ2V0KGEsImZ4c2hvdyIpO2MucXVldWV8fChoPW4uX3F1ZXVlSG9va3MoYSwiZngiKSxudWxsPT1oLnVucXVldWVkJiYoaC51bnF1ZXVlZD0wLGk9aC5lbXB0eS5maXJlLGguZW1wdHkuZmlyZT1mdW5jdGlvbigpe2gudW5xdWV1ZWR8fGkoKX0pLGgudW5xdWV1ZWQrKyxsLmFsd2F5cyhmdW5jdGlvbigpe2wuYWx3YXlzKGZ1bmN0aW9uKCl7aC51bnF1ZXVlZC0tLG4ucXVldWUoYSwiZngiKS5sZW5ndGh8fGguZW1wdHkuZmlyZSgpfSl9KSksMT09PWEubm9kZVR5cGUmJigiaGVpZ2h0ImluIGJ8fCJ3aWR0aCJpbiBiKSYmKGMub3ZlcmZsb3c9W28ub3ZlcmZsb3csby5vdmVyZmxvd1gsby5vdmVyZmxvd1ldLGo9bi5jc3MoYSwiZGlzcGxheSIpLGs9Im5vbmUiPT09aj9MLmdldChhLCJvbGRkaXNwbGF5Iil8fHRiKGEubm9kZU5hbWUpOmosImlubGluZSI9PT1rJiYibm9uZSI9PT1uLmNzcyhhLCJmbG9hdCIpJiYoby5kaXNwbGF5PSJpbmxpbmUtYmxvY2siKSksYy5vdmVyZmxvdyYmKG8ub3ZlcmZsb3c9ImhpZGRlbiIsbC5hbHdheXMoZnVuY3Rpb24oKXtvLm92ZXJmbG93PWMub3ZlcmZsb3dbMF0sby5vdmVyZmxvd1g9Yy5vdmVyZmxvd1sxXSxvLm92ZXJmbG93WT1jLm92ZXJmbG93WzJdfSkpO2ZvcihkIGluIGIpaWYoZT1iW2RdLE5iLmV4ZWMoZSkpe2lmKGRlbGV0ZSBiW2RdLGY9Znx8InRvZ2dsZSI9PT1lLGU9PT0ocD8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09ZXx8IXF8fHZvaWQgMD09PXFbZF0pY29udGludWU7cD0hMH1tW2RdPXEmJnFbZF18fG4uc3R5bGUoYSxkKX1lbHNlIGo9dm9pZCAwO2lmKG4uaXNFbXB0eU9iamVjdChtKSkiaW5saW5lIj09PSgibm9uZSI9PT1qP3RiKGEubm9kZU5hbWUpOmopJiYoby5kaXNwbGF5PWopO2Vsc2V7cT8iaGlkZGVuImluIHEmJihwPXEuaGlkZGVuKTpxPUwuYWNjZXNzKGEsImZ4c2hvdyIse30pLGYmJihxLmhpZGRlbj0hcCkscD9uKGEpLnNob3coKTpsLmRvbmUoZnVuY3Rpb24oKXtuKGEpLmhpZGUoKX0pLGwuZG9uZShmdW5jdGlvbigpe3ZhciBiO0wucmVtb3ZlKGEsImZ4c2hvdyIpO2ZvcihiIGluIG0pbi5zdHlsZShhLGIsbVtiXSl9KTtmb3IoZCBpbiBtKWc9VWIocD9xW2RdOjAsZCxsKSxkIGluIHF8fChxW2RdPWcuc3RhcnQscCYmKGcuZW5kPWcuc3RhcnQsZy5zdGFydD0id2lkdGgiPT09ZHx8ImhlaWdodCI9PT1kPzE6MCkpfX1mdW5jdGlvbiBXYihhLGIpe3ZhciBjLGQsZSxmLGc7Zm9yKGMgaW4gYSlpZihkPW4uY2FtZWxDYXNlKGMpLGU9YltkXSxmPWFbY10sbi5pc0FycmF5KGYpJiYoZT1mWzFdLGY9YVtjXT1mWzBdKSxjIT09ZCYmKGFbZF09ZixkZWxldGUgYVtjXSksZz1uLmNzc0hvb2tzW2RdLGcmJiJleHBhbmQiaW4gZyl7Zj1nLmV4cGFuZChmKSxkZWxldGUgYVtkXTtmb3IoYyBpbiBmKWMgaW4gYXx8KGFbY109ZltjXSxiW2NdPWUpfWVsc2UgYltkXT1lfWZ1bmN0aW9uIFhiKGEsYixjKXt2YXIgZCxlLGY9MCxnPVFiLmxlbmd0aCxoPW4uRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24oKXtkZWxldGUgaS5lbGVtfSksaT1mdW5jdGlvbigpe2lmKGUpcmV0dXJuITE7Zm9yKHZhciBiPUxifHxTYigpLGM9TWF0aC5tYXgoMCxqLnN0YXJ0VGltZStqLmR1cmF0aW9uLWIpLGQ9Yy9qLmR1cmF0aW9ufHwwLGY9MS1kLGc9MCxpPWoudHdlZW5zLmxlbmd0aDtpPmc7ZysrKWoudHdlZW5zW2ddLnJ1bihmKTtyZXR1cm4gaC5ub3RpZnlXaXRoKGEsW2osZixjXSksMT5mJiZpP2M6KGgucmVzb2x2ZVdpdGgoYSxbal0pLCExKX0saj1oLnByb21pc2Uoe2VsZW06YSxwcm9wczpuLmV4dGVuZCh7fSxiKSxvcHRzOm4uZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9fSxjKSxvcmlnaW5hbFByb3BlcnRpZXM6YixvcmlnaW5hbE9wdGlvbnM6YyxzdGFydFRpbWU6TGJ8fFNiKCksZHVyYXRpb246Yy5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24oYixjKXt2YXIgZD1uLlR3ZWVuKGEsai5vcHRzLGIsYyxqLm9wdHMuc3BlY2lhbEVhc2luZ1tiXXx8ai5vcHRzLmVhc2luZyk7cmV0dXJuIGoudHdlZW5zLnB1c2goZCksZH0sc3RvcDpmdW5jdGlvbihiKXt2YXIgYz0wLGQ9Yj9qLnR3ZWVucy5sZW5ndGg6MDtpZihlKXJldHVybiB0aGlzO2ZvcihlPSEwO2Q+YztjKyspai50d2VlbnNbY10ucnVuKDEpO3JldHVybiBiP2gucmVzb2x2ZVdpdGgoYSxbaixiXSk6aC5yZWplY3RXaXRoKGEsW2osYl0pLHRoaXN9fSksaz1qLnByb3BzO2ZvcihXYihrLGoub3B0cy5zcGVjaWFsRWFzaW5nKTtnPmY7ZisrKWlmKGQ9UWJbZl0uY2FsbChqLGEsayxqLm9wdHMpKXJldHVybiBkO3JldHVybiBuLm1hcChrLFViLGopLG4uaXNGdW5jdGlvbihqLm9wdHMuc3RhcnQpJiZqLm9wdHMuc3RhcnQuY2FsbChhLGopLG4uZngudGltZXIobi5leHRlbmQoaSx7ZWxlbTphLGFuaW06aixxdWV1ZTpqLm9wdHMucXVldWV9KSksai5wcm9ncmVzcyhqLm9wdHMucHJvZ3Jlc3MpLmRvbmUoai5vcHRzLmRvbmUsai5vcHRzLmNvbXBsZXRlKS5mYWlsKGoub3B0cy5mYWlsKS5hbHdheXMoai5vcHRzLmFsd2F5cyl9ZnVuY3Rpb24gcmMoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7InN0cmluZyIhPXR5cGVvZiBiJiYoYz1iLGI9IioiKTt2YXIgZCxlPTAsZj1iLnRvTG93ZXJDYXNlKCkubWF0Y2goRSl8fFtdO2lmKG4uaXNGdW5jdGlvbihjKSlmb3IoO2Q9ZltlKytdOykiKyI9PT1kWzBdPyhkPWQuc2xpY2UoMSl8fCIqIiwoYVtkXT1hW2RdfHxbXSkudW5zaGlmdChjKSk6KGFbZF09YVtkXXx8W10pLnB1c2goYyl9fWZ1bmN0aW9uIHNjKGEsYixjLGQpe2Z1bmN0aW9uIGcoaCl7dmFyIGk7cmV0dXJuIGVbaF09ITAsbi5lYWNoKGFbaF18fFtdLGZ1bmN0aW9uKGEsaCl7dmFyIGo9aChiLGMsZCk7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBqfHxmfHxlW2pdP2Y/IShpPWopOnZvaWQgMDooYi5kYXRhVHlwZXMudW5zaGlmdChqKSxnKGopLCExKX0pLGl9dmFyIGU9e30sZj1hPT09b2M7cmV0dXJuIGcoYi5kYXRhVHlwZXNbMF0pfHwhZVsiKiJdJiZnKCIqIil9ZnVuY3Rpb24gdGMoYSxiKXt2YXIgYyxkLGU9bi5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihjIGluIGIpdm9pZCAwIT09YltjXSYmKChlW2NdP2E6ZHx8KGQ9e30pKVtjXT1iW2NdKTtyZXR1cm4gZCYmbi5leHRlbmQoITAsYSxkKSxhfWZ1bmN0aW9uIHVjKGEsYixjKXtmb3IodmFyIGQsZSxmLGcsaD1hLmNvbnRlbnRzLGk9YS5kYXRhVHlwZXM7IioiPT09aVswXTspaS5zaGlmdCgpLHZvaWQgMD09PWQmJihkPWEubWltZVR5cGV8fGIuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTtpZihkKWZvcihlIGluIGgpaWYoaFtlXSYmaFtlXS50ZXN0KGQpKXtpLnVuc2hpZnQoZSk7YnJlYWt9aWYoaVswXWluIGMpZj1pWzBdO2Vsc2V7Zm9yKGUgaW4gYyl7aWYoIWlbMF18fGEuY29udmVydGVyc1tlKyIgIitpWzBdXSl7Zj1lO2JyZWFrfWd8fChnPWUpfWY9Znx8Z31yZXR1cm4gZj8oZiE9PWlbMF0mJmkudW5zaGlmdChmKSxjW2ZdKTp2b2lkIDB9ZnVuY3Rpb24gdmMoYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPXt9LGs9YS5kYXRhVHlwZXMuc2xpY2UoKTtpZihrWzFdKWZvcihnIGluIGEuY29udmVydGVycylqW2cudG9Mb3dlckNhc2UoKV09YS5jb252ZXJ0ZXJzW2ddO2ZvcihmPWsuc2hpZnQoKTtmOylpZihhLnJlc3BvbnNlRmllbGRzW2ZdJiYoY1thLnJlc3BvbnNlRmllbGRzW2ZdXT1iKSwhaSYmZCYmYS5kYXRhRmlsdGVyJiYoYj1hLmRhdGFGaWx0ZXIoYixhLmRhdGFUeXBlKSksaT1mLGY9ay5zaGlmdCgpKWlmKCIqIj09PWYpZj1pO2Vsc2UgaWYoIioiIT09aSYmaSE9PWYpe2lmKGc9altpKyIgIitmXXx8alsiKiAiK2ZdLCFnKWZvcihlIGluIGopaWYoaD1lLnNwbGl0KCIgIiksaFsxXT09PWYmJihnPWpbaSsiICIraFswXV18fGpbIiogIitoWzBdXSkpe2c9PT0hMD9nPWpbZV06altlXSE9PSEwJiYoZj1oWzBdLGsudW5zaGlmdChoWzFdKSk7YnJlYWt9aWYoZyE9PSEwKWlmKGcmJmFbInRocm93cyJdKWI9ZyhiKTtlbHNlIHRyeXtiPWcoYil9Y2F0Y2gobCl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6Zz9sOiJObyBjb252ZXJzaW9uIGZyb20gIitpKyIgdG8gIitmfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOmJ9fWZ1bmN0aW9uIEJjKGEsYixjLGQpe3ZhciBlO2lmKG4uaXNBcnJheShiKSluLmVhY2goYixmdW5jdGlvbihiLGUpe2N8fHhjLnRlc3QoYSk/ZChhLGUpOkJjKGErIlsiKygib2JqZWN0Ij09dHlwZW9mIGU/YjoiIikrIl0iLGUsYyxkKX0pO2Vsc2UgaWYoY3x8Im9iamVjdCIhPT1uLnR5cGUoYikpZChhLGIpO2Vsc2UgZm9yKGUgaW4gYilCYyhhKyJbIitlKyJdIixiW2VdLGMsZCl9ZnVuY3Rpb24gS2MoYSl7cmV0dXJuIG4uaXNXaW5kb3coYSk/YTo5PT09YS5ub2RlVHlwZSYmYS5kZWZhdWx0Vmlld312YXIgYz1bXSxkPWMuc2xpY2UsZT1jLmNvbmNhdCxmPWMucHVzaCxnPWMuaW5kZXhPZixoPXt9LGk9aC50b1N0cmluZyxqPWguaGFzT3duUHJvcGVydHksaz17fSxsPWEuZG9jdW1lbnQsbT0iMi4xLjEiLG49ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IG4uZm4uaW5pdChhLGIpfSxvPS9eW1xzXHVGRUZGXHhBMF0rfFtcc1x1RkVGRlx4QTBdKyQvZyxwPS9eLW1zLS8scT0vLShbXGRhLXpdKS9naSxyPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudG9VcHBlckNhc2UoKX07bi5mbj1uLnByb3RvdHlwZT17anF1ZXJ5Om0sY29uc3RydWN0b3I6bixzZWxlY3RvcjoiIixsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIGQuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hPzA+YT90aGlzW2ErdGhpcy5sZW5ndGhdOnRoaXNbYV06ZC5jYWxsKHRoaXMpfSxwdXNoU3RhY2s6ZnVuY3Rpb24oYSl7dmFyIGI9bi5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksYSk7cmV0dXJuIGIucHJldk9iamVjdD10aGlzLGIuY29udGV4dD10aGlzLmNvbnRleHQsYn0sZWFjaDpmdW5jdGlvbihhLGIpe3JldHVybiBuLmVhY2godGhpcyxhLGIpfSxtYXA6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4ubWFwKHRoaXMsZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5jYWxsKGIsYyxiKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxlcTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmxlbmd0aCxjPSthKygwPmE/YjowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soYz49MCYmYj5jP1t0aGlzW2NdXTpbXSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IobnVsbCl9LHB1c2g6Zixzb3J0OmMuc29ydCxzcGxpY2U6Yy5zcGxpY2V9LG4uZXh0ZW5kPW4uZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGc9YXJndW1lbnRzWzBdfHx7fSxoPTEsaT1hcmd1bWVudHMubGVuZ3RoLGo9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIGcmJihqPWcsZz1hcmd1bWVudHNbaF18fHt9LGgrKyksIm9iamVjdCI9PXR5cGVvZiBnfHxuLmlzRnVuY3Rpb24oZyl8fChnPXt9KSxoPT09aSYmKGc9dGhpcyxoLS0pO2k+aDtoKyspaWYobnVsbCE9KGE9YXJndW1lbnRzW2hdKSlmb3IoYiBpbiBhKWM9Z1tiXSxkPWFbYl0sZyE9PWQmJihqJiZkJiYobi5pc1BsYWluT2JqZWN0KGQpfHwoZT1uLmlzQXJyYXkoZCkpKT8oZT8oZT0hMSxmPWMmJm4uaXNBcnJheShjKT9jOltdKTpmPWMmJm4uaXNQbGFpbk9iamVjdChjKT9jOnt9LGdbYl09bi5leHRlbmQoaixmLGQpKTp2b2lkIDAhPT1kJiYoZ1tiXT1kKSk7cmV0dXJuIGd9LG4uZXh0ZW5kKHtleHBhbmRvOiJqUXVlcnkiKyhtK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xEL2csIiIpLGlzUmVhZHk6ITAsZXJyb3I6ZnVuY3Rpb24oYSl7dGhyb3cgbmV3IEVycm9yKGEpfSxub29wOmZ1bmN0aW9uKCl7fSxpc0Z1bmN0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiJmdW5jdGlvbiI9PT1uLnR5cGUoYSl9LGlzQXJyYXk6QXJyYXkuaXNBcnJheSxpc1dpbmRvdzpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmYT09PWEud2luZG93fSxpc051bWVyaWM6ZnVuY3Rpb24oYSl7cmV0dXJuIW4uaXNBcnJheShhKSYmYS1wYXJzZUZsb2F0KGEpPj0wfSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGEpe3JldHVybiJvYmplY3QiIT09bi50eXBlKGEpfHxhLm5vZGVUeXBlfHxuLmlzV2luZG93KGEpPyExOmEuY29uc3RydWN0b3ImJiFqLmNhbGwoYS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsImlzUHJvdG90eXBlT2YiKT8hMTohMH0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXJldHVybiExO3JldHVybiEwfSx0eXBlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP2ErIiI6Im9iamVjdCI9PXR5cGVvZiBhfHwiZnVuY3Rpb24iPT10eXBlb2YgYT9oW2kuY2FsbChhKV18fCJvYmplY3QiOnR5cGVvZiBhfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGEpe3ZhciBiLGM9ZXZhbDthPW4udHJpbShhKSxhJiYoMT09PWEuaW5kZXhPZigidXNlIHN0cmljdCIpPyhiPWwuY3JlYXRlRWxlbWVudCgic2NyaXB0IiksYi50ZXh0PWEsbC5oZWFkLmFwcGVuZENoaWxkKGIpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYikpOmMoYSkpfSxjYW1lbENhc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShwLCJtcy0iKS5yZXBsYWNlKHEscil9LG5vZGVOYW1lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWIudG9Mb3dlckNhc2UoKX0sZWFjaDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT0wLGY9YS5sZW5ndGgsZz1zKGEpO2lmKGMpe2lmKGcpZm9yKDtmPmUmJihkPWIuYXBwbHkoYVtlXSxjKSxkIT09ITEpO2UrKyk7ZWxzZSBmb3IoZSBpbiBhKWlmKGQ9Yi5hcHBseShhW2VdLGMpLGQ9PT0hMSlicmVha31lbHNlIGlmKGcpZm9yKDtmPmUmJihkPWIuY2FsbChhW2VdLGUsYVtlXSksZCE9PSExKTtlKyspO2Vsc2UgZm9yKGUgaW4gYSlpZihkPWIuY2FsbChhW2VdLGUsYVtlXSksZD09PSExKWJyZWFrO3JldHVybiBhfSx0cmltOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hPyIiOihhKyIiKS5yZXBsYWNlKG8sIiIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHxbXTtyZXR1cm4gbnVsbCE9YSYmKHMoT2JqZWN0KGEpKT9uLm1lcmdlKGMsInN0cmluZyI9PXR5cGVvZiBhP1thXTphKTpmLmNhbGwoYyxhKSksY30saW5BcnJheTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG51bGw9PWI/LTE6Zy5jYWxsKGIsYSxjKX0sbWVyZ2U6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9K2IubGVuZ3RoLGQ9MCxlPWEubGVuZ3RoO2M+ZDtkKyspYVtlKytdPWJbZF07cmV0dXJuIGEubGVuZ3RoPWUsYX0sZ3JlcDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkLGU9W10sZj0wLGc9YS5sZW5ndGgsaD0hYztnPmY7ZisrKWQ9IWIoYVtmXSxmKSxkIT09aCYmZS5wdXNoKGFbZl0pO3JldHVybiBlfSxtYXA6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGY9MCxnPWEubGVuZ3RoLGg9cyhhKSxpPVtdO2lmKGgpZm9yKDtnPmY7ZisrKWQ9YihhW2ZdLGYsYyksbnVsbCE9ZCYmaS5wdXNoKGQpO2Vsc2UgZm9yKGYgaW4gYSlkPWIoYVtmXSxmLGMpLG51bGwhPWQmJmkucHVzaChkKTtyZXR1cm4gZS5hcHBseShbXSxpKX0sZ3VpZDoxLHByb3h5OmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmO3JldHVybiJzdHJpbmciPT10eXBlb2YgYiYmKGM9YVtiXSxiPWEsYT1jKSxuLmlzRnVuY3Rpb24oYSk/KGU9ZC5jYWxsKGFyZ3VtZW50cywyKSxmPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYnx8dGhpcyxlLmNvbmNhdChkLmNhbGwoYXJndW1lbnRzKSkpfSxmLmd1aWQ9YS5ndWlkPWEuZ3VpZHx8bi5ndWlkKyssZik6dm9pZCAwfSxub3c6RGF0ZS5ub3csc3VwcG9ydDprfSksbi5lYWNoKCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7aFsiW29iamVjdCAiK2IrIl0iXT1iLnRvTG93ZXJDYXNlKCl9KTt2YXIgdD1mdW5jdGlvbihhKXtmdW5jdGlvbiBmYihhLGIsZCxlKXt2YXIgZixoLGosayxsLG8scixzLHcseDtpZigoYj9iLm93bmVyRG9jdW1lbnR8fGI6dikhPT1uJiZtKGIpLGI9Ynx8bixkPWR8fFtdLCFhfHwic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIGQ7aWYoMSE9PShrPWIubm9kZVR5cGUpJiY5IT09aylyZXR1cm5bXTtpZihwJiYhZSl7aWYoZj1fLmV4ZWMoYSkpaWYoaj1mWzFdKXtpZig5PT09ayl7aWYoaD1iLmdldEVsZW1lbnRCeUlkKGopLCFofHwhaC5wYXJlbnROb2RlKXJldHVybiBkO2lmKGguaWQ9PT1qKXJldHVybiBkLnB1c2goaCksZH1lbHNlIGlmKGIub3duZXJEb2N1bWVudCYmKGg9Yi5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGopKSYmdChiLGgpJiZoLmlkPT09ailyZXR1cm4gZC5wdXNoKGgpLGR9ZWxzZXtpZihmWzJdKXJldHVybiBJLmFwcGx5KGQsYi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKSksZDtpZigoaj1mWzNdKSYmYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIEkuYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoaikpLGR9aWYoYy5xc2EmJighcXx8IXEudGVzdChhKSkpe2lmKHM9cj11LHc9Yix4PTk9PT1rJiZhLDE9PT1rJiYib2JqZWN0IiE9PWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7Zm9yKG89ZyhhKSwocj1iLmdldEF0dHJpYnV0ZSgiaWQiKSk/cz1yLnJlcGxhY2UoYmIsIlxcJCYiKTpiLnNldEF0dHJpYnV0ZSgiaWQiLHMpLHM9IltpZD0nIitzKyInXSAiLGw9by5sZW5ndGg7bC0tOylvW2xdPXMrcWIob1tsXSk7dz1hYi50ZXN0KGEpJiZvYihiLnBhcmVudE5vZGUpfHxiLHg9by5qb2luKCIsIil9aWYoeCl0cnl7cmV0dXJuIEkuYXBwbHkoZCx3LnF1ZXJ5U2VsZWN0b3JBbGwoeCkpLGR9Y2F0Y2goeSl7fWZpbmFsbHl7cnx8Yi5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fX1yZXR1cm4gaShhLnJlcGxhY2UoUiwiJDEiKSxiLGQsZSl9ZnVuY3Rpb24gZ2IoKXtmdW5jdGlvbiBiKGMsZSl7cmV0dXJuIGEucHVzaChjKyIgIik+ZC5jYWNoZUxlbmd0aCYmZGVsZXRlIGJbYS5zaGlmdCgpXSxiW2MrIiAiXT1lfXZhciBhPVtdO3JldHVybiBifWZ1bmN0aW9uIGhiKGEpe3JldHVybiBhW3VdPSEwLGF9ZnVuY3Rpb24gaWIoYSl7dmFyIGI9bi5jcmVhdGVFbGVtZW50KCJkaXYiKTt0cnl7cmV0dXJuISFhKGIpfWNhdGNoKGMpe3JldHVybiExfWZpbmFsbHl7Yi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksYj1udWxsfX1mdW5jdGlvbiBqYihhLGIpe2Zvcih2YXIgYz1hLnNwbGl0KCJ8IiksZT1hLmxlbmd0aDtlLS07KWQuYXR0ckhhbmRsZVtjW2VdXT1ifWZ1bmN0aW9uIGtiKGEsYil7dmFyIGM9YiYmYSxkPWMmJjE9PT1hLm5vZGVUeXBlJiYxPT09Yi5ub2RlVHlwZSYmKH5iLnNvdXJjZUluZGV4fHxEKS0ofmEuc291cmNlSW5kZXh8fEQpO2lmKGQpcmV0dXJuIGQ7aWYoYylmb3IoO2M9Yy5uZXh0U2libGluZzspaWYoYz09PWIpcmV0dXJuLTE7cmV0dXJuIGE/MTotMX1mdW5jdGlvbiBsYihhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT1jJiZiLnR5cGU9PT1hfX1mdW5jdGlvbiBtYihhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybigiaW5wdXQiPT09Y3x8ImJ1dHRvbiI9PT1jKSYmYi50eXBlPT09YX19ZnVuY3Rpb24gbmIoYSl7cmV0dXJuIGhiKGZ1bmN0aW9uKGIpe3JldHVybiBiPStiLGhiKGZ1bmN0aW9uKGMsZCl7Zm9yKHZhciBlLGY9YShbXSxjLmxlbmd0aCxiKSxnPWYubGVuZ3RoO2ctLTspY1tlPWZbZ11dJiYoY1tlXT0hKGRbZV09Y1tlXSkpfSl9KX1mdW5jdGlvbiBvYihhKXtyZXR1cm4gYSYmdHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPT1DJiZhfWZ1bmN0aW9uIHBiKCl7fWZ1bmN0aW9uIHFiKGEpe2Zvcih2YXIgYj0wLGM9YS5sZW5ndGgsZD0iIjtjPmI7YisrKWQrPWFbYl0udmFsdWU7cmV0dXJuIGR9ZnVuY3Rpb24gcmIoYSxiLGMpe3ZhciBkPWIuZGlyLGU9YyYmInBhcmVudE5vZGUiPT09ZCxmPXgrKztyZXR1cm4gYi5maXJzdD9mdW5jdGlvbihiLGMsZil7Zm9yKDtiPWJbZF07KWlmKDE9PT1iLm5vZGVUeXBlfHxlKXJldHVybiBhKGIsYyxmKX06ZnVuY3Rpb24oYixjLGcpe3ZhciBoLGksaj1bdyxmXTtpZihnKXtmb3IoO2I9YltkXTspaWYoKDE9PT1iLm5vZGVUeXBlfHxlKSYmYShiLGMsZykpcmV0dXJuITB9ZWxzZSBmb3IoO2I9YltkXTspaWYoMT09PWIubm9kZVR5cGV8fGUpe2lmKGk9Ylt1XXx8KGJbdV09e30pLChoPWlbZF0pJiZoWzBdPT09dyYmaFsxXT09PWYpcmV0dXJuIGpbMl09aFsyXTtpZihpW2RdPWosalsyXT1hKGIsYyxnKSlyZXR1cm4hMH19fWZ1bmN0aW9uIHNiKGEpe3JldHVybiBhLmxlbmd0aD4xP2Z1bmN0aW9uKGIsYyxkKXtmb3IodmFyIGU9YS5sZW5ndGg7ZS0tOylpZighYVtlXShiLGMsZCkpcmV0dXJuITE7cmV0dXJuITB9OmFbMF19ZnVuY3Rpb24gdGIoYSxiLGMpe2Zvcih2YXIgZD0wLGU9Yi5sZW5ndGg7ZT5kO2QrKylmYihhLGJbZF0sYyk7cmV0dXJuIGN9ZnVuY3Rpb24gdWIoYSxiLGMsZCxlKXtmb3IodmFyIGYsZz1bXSxoPTAsaT1hLmxlbmd0aCxqPW51bGwhPWI7aT5oO2grKykoZj1hW2hdKSYmKCFjfHxjKGYsZCxlKSkmJihnLnB1c2goZiksaiYmYi5wdXNoKGgpKTtyZXR1cm4gZ31mdW5jdGlvbiB2YihhLGIsYyxkLGUsZil7cmV0dXJuIGQmJiFkW3VdJiYoZD12YihkKSksZSYmIWVbdV0mJihlPXZiKGUsZikpLGhiKGZ1bmN0aW9uKGYsZyxoLGkpe3ZhciBqLGssbCxtPVtdLG49W10sbz1nLmxlbmd0aCxwPWZ8fHRiKGJ8fCIqIixoLm5vZGVUeXBlP1toXTpoLFtdKSxxPSFhfHwhZiYmYj9wOnViKHAsbSxhLGgsaSkscj1jP2V8fChmP2E6b3x8ZCk/W106ZzpxO2lmKGMmJmMocSxyLGgsaSksZClmb3Ioaj11YihyLG4pLGQoaixbXSxoLGkpLGs9ai5sZW5ndGg7ay0tOykobD1qW2tdKSYmKHJbbltrXV09IShxW25ba11dPWwpKTtpZihmKXtpZihlfHxhKXtpZihlKXtmb3Ioaj1bXSxrPXIubGVuZ3RoO2stLTspKGw9cltrXSkmJmoucHVzaChxW2tdPWwpO2UobnVsbCxyPVtdLGosaSl9Zm9yKGs9ci5sZW5ndGg7ay0tOykobD1yW2tdKSYmKGo9ZT9LLmNhbGwoZixsKTptW2tdKT4tMSYmKGZbal09IShnW2pdPWwpKX19ZWxzZSByPXViKHI9PT1nP3Iuc3BsaWNlKG8sci5sZW5ndGgpOnIpLGU/ZShudWxsLGcscixpKTpJLmFwcGx5KGcscil9KX1mdW5jdGlvbiB3YihhKXtmb3IodmFyIGIsYyxlLGY9YS5sZW5ndGgsZz1kLnJlbGF0aXZlW2FbMF0udHlwZV0saD1nfHxkLnJlbGF0aXZlWyIgIl0saT1nPzE6MCxrPXJiKGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yn0saCwhMCksbD1yYihmdW5jdGlvbihhKXtyZXR1cm4gSy5jYWxsKGIsYSk+LTF9LGgsITApLG09W2Z1bmN0aW9uKGEsYyxkKXtyZXR1cm4hZyYmKGR8fGMhPT1qKXx8KChiPWMpLm5vZGVUeXBlP2soYSxjLGQpOmwoYSxjLGQpKX1dO2Y+aTtpKyspaWYoYz1kLnJlbGF0aXZlW2FbaV0udHlwZV0pbT1bcmIoc2IobSksYyldO2Vsc2V7aWYoYz1kLmZpbHRlclthW2ldLnR5cGVdLmFwcGx5KG51bGwsYVtpXS5tYXRjaGVzKSxjW3VdKXtmb3IoZT0rK2k7Zj5lJiYhZC5yZWxhdGl2ZVthW2VdLnR5cGVdO2UrKyk7cmV0dXJuIHZiKGk+MSYmc2IobSksaT4xJiZxYihhLnNsaWNlKDAsaS0xKS5jb25jYXQoe3ZhbHVlOiIgIj09PWFbaS0yXS50eXBlPyIqIjoiIn0pKS5yZXBsYWNlKFIsIiQxIiksYyxlPmkmJndiKGEuc2xpY2UoaSxlKSksZj5lJiZ3YihhPWEuc2xpY2UoZSkpLGY+ZSYmcWIoYSkpfW0ucHVzaChjKX1yZXR1cm4gc2IobSl9ZnVuY3Rpb24geGIoYSxiKXt2YXIgYz1iLmxlbmd0aD4wLGU9YS5sZW5ndGg+MCxmPWZ1bmN0aW9uKGYsZyxoLGksayl7dmFyIGwsbSxvLHA9MCxxPSIwIixyPWYmJltdLHM9W10sdD1qLHU9Znx8ZSYmZC5maW5kLlRBRygiKiIsayksdj13Kz1udWxsPT10PzE6TWF0aC5yYW5kb20oKXx8LjEseD11Lmxlbmd0aDtmb3IoayYmKGo9ZyE9PW4mJmcpO3EhPT14JiZudWxsIT0obD11W3FdKTtxKyspe2lmKGUmJmwpe2ZvcihtPTA7bz1hW20rK107KWlmKG8obCxnLGgpKXtpLnB1c2gobCk7YnJlYWt9ayYmKHc9dil9YyYmKChsPSFvJiZsKSYmcC0tLGYmJnIucHVzaChsKSl9aWYocCs9cSxjJiZxIT09cCl7Zm9yKG09MDtvPWJbbSsrXTspbyhyLHMsZyxoKTtpZihmKXtpZihwPjApZm9yKDtxLS07KXJbcV18fHNbcV18fChzW3FdPUcuY2FsbChpKSk7cz11YihzKX1JLmFwcGx5KGkscyksayYmIWYmJnMubGVuZ3RoPjAmJnArYi5sZW5ndGg+MSYmZmIudW5pcXVlU29ydChpKX1yZXR1cm4gayYmKHc9dixqPXQpLHJ9O3JldHVybiBjP2hiKGYpOmZ9dmFyIGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdT0ic2l6emxlIistbmV3IERhdGUsdj1hLmRvY3VtZW50LHc9MCx4PTAseT1nYigpLHo9Z2IoKSxBPWdiKCksQj1mdW5jdGlvbihhLGIpe3JldHVybiBhPT09YiYmKGw9ITApLDB9LEM9InVuZGVmaW5lZCIsRD0xPDwzMSxFPXt9Lmhhc093blByb3BlcnR5LEY9W10sRz1GLnBvcCxIPUYucHVzaCxJPUYucHVzaCxKPUYuc2xpY2UsSz1GLmluZGV4T2Z8fGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9dGhpcy5sZW5ndGg7Yz5iO2IrKylpZih0aGlzW2JdPT09YSlyZXR1cm4gYjtyZXR1cm4tMX0sTD0iY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLE09IltcXHgyMFxcdFxcclxcblxcZl0iLE49Iig/OlxcXFwufFtcXHctXXxbXlxceDAwLVxceGEwXSkrIixPPU4ucmVwbGFjZSgidyIsIncjIiksUD0iXFxbIitNKyIqKCIrTisiKSg/OiIrTSsiKihbKl4kfCF+XT89KSIrTSsiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiK08rIikpfCkiK00rIipcXF0iLFE9IjooIitOKyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitQKyIpKil8LiopXFwpfCkiLFI9bmV3IFJlZ0V4cCgiXiIrTSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitNKyIrJCIsImciKSxTPW5ldyBSZWdFeHAoIl4iK00rIiosIitNKyIqIiksVD1uZXcgUmVnRXhwKCJeIitNKyIqKFs+K35dfCIrTSsiKSIrTSsiKiIpLFU9bmV3IFJlZ0V4cCgiPSIrTSsiKihbXlxcXSdcIl0qPykiK00rIipcXF0iLCJnIiksVj1uZXcgUmVnRXhwKFEpLFc9bmV3IFJlZ0V4cCgiXiIrTysiJCIpLFg9e0lEOm5ldyBSZWdFeHAoIl4jKCIrTisiKSIpLENMQVNTOm5ldyBSZWdFeHAoIl5cXC4oIitOKyIpIiksVEFHOm5ldyBSZWdFeHAoIl4oIitOLnJlcGxhY2UoInciLCJ3KiIpKyIpIiksQVRUUjpuZXcgUmVnRXhwKCJeIitQKSxQU0VVRE86bmV3IFJlZ0V4cCgiXiIrUSksQ0hJTEQ6bmV3IFJlZ0V4cCgiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFwoIitNKyIqKGV2ZW58b2RkfCgoWystXXwpKFxcZCopbnwpIitNKyIqKD86KFsrLV18KSIrTSsiKihcXGQrKXwpKSIrTSsiKlxcKXwpIiwiaSIpLGJvb2w6bmV3IFJlZ0V4cCgiXig/OiIrTCsiKSQiLCJpIiksbmVlZHNDb250ZXh0Om5ldyBSZWdFeHAoIl4iK00rIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIrTSsiKigoPzotXFxkKT9cXGQqKSIrTSsiKlxcKXwpKD89W14tXXwkKSIsImkiKX0sWT0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFo9L15oXGQkL2ksJD0vXltee10rXHtccypcW25hdGl2ZSBcdy8sXz0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLGFiPS9bK35dLyxiYj0vJ3xcXC9nLGNiPW5ldyBSZWdFeHAoIlxcXFwoW1xcZGEtZl17MSw2fSIrTSsiP3woIitNKyIpfC4pIiwiaWciKSxkYj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9IjB4IitiLTY1NTM2O3JldHVybiBkIT09ZHx8Yz9iOjA+ZD9TdHJpbmcuZnJvbUNoYXJDb2RlKGQrNjU1MzYpOlN0cmluZy5mcm9tQ2hhckNvZGUoZD4+MTB8NTUyOTYsMTAyMyZkfDU2MzIwKX07dHJ5e0kuYXBwbHkoRj1KLmNhbGwodi5jaGlsZE5vZGVzKSx2LmNoaWxkTm9kZXMpLEZbdi5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZWIpe0k9e2FwcGx5OkYubGVuZ3RoP2Z1bmN0aW9uKGEsYil7SC5hcHBseShhLEouY2FsbChiKSl9OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWEubGVuZ3RoLGQ9MDthW2MrK109YltkKytdOyk7YS5sZW5ndGg9Yy0xfX19Yz1mYi5zdXBwb3J0PXt9LGY9ZmIuaXNYTUw9ZnVuY3Rpb24oYSl7dmFyIGI9YSYmKGEub3duZXJEb2N1bWVudHx8YSkuZG9jdW1lbnRFbGVtZW50O3JldHVybiBiPyJIVE1MIiE9PWIubm9kZU5hbWU6ITF9LG09ZmIuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oYSl7dmFyIGIsZT1hP2Eub3duZXJEb2N1bWVudHx8YTp2LGc9ZS5kZWZhdWx0VmlldztyZXR1cm4gZSE9PW4mJjk9PT1lLm5vZGVUeXBlJiZlLmRvY3VtZW50RWxlbWVudD8obj1lLG89ZS5kb2N1bWVudEVsZW1lbnQscD0hZihlKSxnJiZnIT09Zy50b3AmJihnLmFkZEV2ZW50TGlzdGVuZXI/Zy5hZGRFdmVudExpc3RlbmVyKCJ1bmxvYWQiLGZ1bmN0aW9uKCl7bSgpfSwhMSk6Zy5hdHRhY2hFdmVudCYmZy5hdHRhY2hFdmVudCgib251bmxvYWQiLGZ1bmN0aW9uKCl7bSgpfSkpLGMuYXR0cmlidXRlcz1pYihmdW5jdGlvbihhKXtyZXR1cm4gYS5jbGFzc05hbWU9ImkiLCFhLmdldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIil9KSxjLmdldEVsZW1lbnRzQnlUYWdOYW1lPWliKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFwcGVuZENoaWxkKGUuY3JlYXRlQ29tbWVudCgiIikpLCFhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RofSksYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPSQudGVzdChlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpJiZpYihmdW5jdGlvbihhKXtyZXR1cm4gYS5pbm5lckhUTUw9IjxkaXYgY2xhc3M9J2EnPjwvZGl2PjxkaXYgY2xhc3M9J2EgaSc+PC9kaXY+IixhLmZpcnN0Q2hpbGQuY2xhc3NOYW1lPSJpIiwyPT09YS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJpIikubGVuZ3RofSksYy5nZXRCeUlkPWliKGZ1bmN0aW9uKGEpe3JldHVybiBvLmFwcGVuZENoaWxkKGEpLmlkPXUsIWUuZ2V0RWxlbWVudHNCeU5hbWV8fCFlLmdldEVsZW1lbnRzQnlOYW1lKHUpLmxlbmd0aH0pLGMuZ2V0QnlJZD8oZC5maW5kLklEPWZ1bmN0aW9uKGEsYil7aWYodHlwZW9mIGIuZ2V0RWxlbWVudEJ5SWQhPT1DJiZwKXt2YXIgYz1iLmdldEVsZW1lbnRCeUlkKGEpO3JldHVybiBjJiZjLnBhcmVudE5vZGU/W2NdOltdfX0sZC5maWx0ZXIuSUQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKGNiLGRiKTtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKCJpZCIpPT09Yn19KTooZGVsZXRlIGQuZmluZC5JRCxkLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoY2IsZGIpO3JldHVybiBmdW5jdGlvbihhKXt2YXIgYz10eXBlb2YgYS5nZXRBdHRyaWJ1dGVOb2RlIT09QyYmYS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpO3JldHVybiBjJiZjLnZhbHVlPT09Yn19KSxkLmZpbmQuVEFHPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdHlwZW9mIGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPT1DP2IuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk6dm9pZCAwfTpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT0wLGY9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKTtpZigiKiI9PT1hKXtmb3IoO2M9ZltlKytdOykxPT09Yy5ub2RlVHlwZSYmZC5wdXNoKGMpO3JldHVybiBkfXJldHVybiBmfSxkLmZpbmQuQ0xBU1M9Yy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihhLGIpe3JldHVybiB0eXBlb2YgYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lIT09QyYmcD9iLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYSk6dm9pZCAwfSxyPVtdLHE9W10sKGMucXNhPSQudGVzdChlLnF1ZXJ5U2VsZWN0b3JBbGwpKSYmKGliKGZ1bmN0aW9uKGEpe2EuaW5uZXJIVE1MPSI8c2VsZWN0IG1zYWxsb3djbGlwPScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+IixhLnF1ZXJ5U2VsZWN0b3JBbGwoIlttc2FsbG93Y2xpcF49JyddIikubGVuZ3RoJiZxLnB1c2goIlsqXiRdPSIrTSsiKig/OicnfFwiXCIpIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJbc2VsZWN0ZWRdIikubGVuZ3RofHxxLnB1c2goIlxcWyIrTSsiKig/OnZhbHVlfCIrTCsiKSIpLGEucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGh8fHEucHVzaCgiOmNoZWNrZWQiKX0pLGliKGZ1bmN0aW9uKGEpe3ZhciBiPWUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtiLnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGEuYXBwZW5kQ2hpbGQoYikuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGEucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnEucHVzaCgibmFtZSIrTSsiKlsqXiR8IX5dPz0iKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RofHxxLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksYS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4IikscS5wdXNoKCIsLio6Iil9KSksKGMubWF0Y2hlc1NlbGVjdG9yPSQudGVzdChzPW8ubWF0Y2hlc3x8by53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fG8ubW96TWF0Y2hlc1NlbGVjdG9yfHxvLm9NYXRjaGVzU2VsZWN0b3J8fG8ubXNNYXRjaGVzU2VsZWN0b3IpKSYmaWIoZnVuY3Rpb24oYSl7Yy5kaXNjb25uZWN0ZWRNYXRjaD1zLmNhbGwoYSwiZGl2Iikscy5jYWxsKGEsIltzIT0nJ106eCIpLHIucHVzaCgiIT0iLFEpfSkscT1xLmxlbmd0aCYmbmV3IFJlZ0V4cChxLmpvaW4oInwiKSkscj1yLmxlbmd0aCYmbmV3IFJlZ0V4cChyLmpvaW4oInwiKSksYj0kLnRlc3Qoby5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksdD1ifHwkLnRlc3Qoby5jb250YWlucyk/ZnVuY3Rpb24oYSxiKXt2YXIgYz05PT09YS5ub2RlVHlwZT9hLmRvY3VtZW50RWxlbWVudDphLGQ9YiYmYi5wYXJlbnROb2RlO3JldHVybiBhPT09ZHx8ISghZHx8MSE9PWQubm9kZVR5cGV8fCEoYy5jb250YWlucz9jLmNvbnRhaW5zKGQpOmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZCkpKX06ZnVuY3Rpb24oYSxiKXtpZihiKWZvcig7Yj1iLnBhcmVudE5vZGU7KWlmKGI9PT1hKXJldHVybiEwO3JldHVybiExfSxCPWI/ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBkPSFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiBkP2Q6KGQ9KGEub3duZXJEb2N1bWVudHx8YSk9PT0oYi5vd25lckRvY3VtZW50fHxiKT9hLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpOjEsMSZkfHwhYy5zb3J0RGV0YWNoZWQmJmIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSk9PT1kP2E9PT1lfHxhLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYSk/LTE6Yj09PWV8fGIub3duZXJEb2N1bWVudD09PXYmJnQodixiKT8xOms/Sy5jYWxsKGssYSktSy5jYWxsKGssYik6MDo0JmQ/LTE6MSl9OmZ1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGw9ITAsMDt2YXIgYyxkPTAsZj1hLnBhcmVudE5vZGUsZz1iLnBhcmVudE5vZGUsaD1bYV0saT1bYl07aWYoIWZ8fCFnKXJldHVybiBhPT09ZT8tMTpiPT09ZT8xOmY/LTE6Zz8xOms/Sy5jYWxsKGssYSktSy5jYWxsKGssYik6MDtpZihmPT09ZylyZXR1cm4ga2IoYSxiKTtmb3IoYz1hO2M9Yy5wYXJlbnROb2RlOyloLnVuc2hpZnQoYyk7Zm9yKGM9YjtjPWMucGFyZW50Tm9kZTspaS51bnNoaWZ0KGMpO2Zvcig7aFtkXT09PWlbZF07KWQrKztyZXR1cm4gZD9rYihoW2RdLGlbZF0pOmhbZF09PT12Py0xOmlbZF09PT12PzE6MH0sZSk6bn0sZmIubWF0Y2hlcz1mdW5jdGlvbihhLGIpe3JldHVybiBmYihhLG51bGwsbnVsbCxiKX0sZmIubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGEsYil7aWYoKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLGI9Yi5yZXBsYWNlKFUsIj0nJDEnXSIpLCEoIWMubWF0Y2hlc1NlbGVjdG9yfHwhcHx8ciYmci50ZXN0KGIpfHxxJiZxLnRlc3QoYikpKXRyeXt2YXIgZD1zLmNhbGwoYSxiKTtpZihkfHxjLmRpc2Nvbm5lY3RlZE1hdGNofHxhLmRvY3VtZW50JiYxMSE9PWEuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIGR9Y2F0Y2goZSl7fXJldHVybiBmYihiLG4sbnVsbCxbYV0pLmxlbmd0aD4wfSxmYi5jb250YWlucz1mdW5jdGlvbihhLGIpe3JldHVybihhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSx0KGEsYil9LGZiLmF0dHI9ZnVuY3Rpb24oYSxiKXsoYS5vd25lckRvY3VtZW50fHxhKSE9PW4mJm0oYSk7dmFyIGU9ZC5hdHRySGFuZGxlW2IudG9Mb3dlckNhc2UoKV0sZj1lJiZFLmNhbGwoZC5hdHRySGFuZGxlLGIudG9Mb3dlckNhc2UoKSk/ZShhLGIsIXApOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09Zj9mOmMuYXR0cmlidXRlc3x8IXA/YS5nZXRBdHRyaWJ1dGUoYik6KGY9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZi5zcGVjaWZpZWQ/Zi52YWx1ZTpudWxsfSxmYi5lcnJvcj1mdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrYSl9LGZiLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oYSl7dmFyIGIsZD1bXSxlPTAsZj0wO2lmKGw9IWMuZGV0ZWN0RHVwbGljYXRlcyxrPSFjLnNvcnRTdGFibGUmJmEuc2xpY2UoMCksYS5zb3J0KEIpLGwpe2Zvcig7Yj1hW2YrK107KWI9PT1hW2ZdJiYoZT1kLnB1c2goZikpO2Zvcig7ZS0tOylhLnNwbGljZShkW2VdLDEpfXJldHVybiBrPW51bGwsYX0sZT1mYi5nZXRUZXh0PWZ1bmN0aW9uKGEpe3ZhciBiLGM9IiIsZD0wLGY9YS5ub2RlVHlwZTtpZihmKXtpZigxPT09Znx8OT09PWZ8fDExPT09Zil7aWYoInN0cmluZyI9PXR5cGVvZiBhLnRleHRDb250ZW50KXJldHVybiBhLnRleHRDb250ZW50O2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZyljKz1lKGEpfWVsc2UgaWYoMz09PWZ8fDQ9PT1mKXJldHVybiBhLm5vZGVWYWx1ZX1lbHNlIGZvcig7Yj1hW2QrK107KWMrPWUoYik7cmV0dXJuIGN9LGQ9ZmIuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86aGIsbWF0Y2g6WCxhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixmaXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oYSl7cmV0dXJuIGFbMV09YVsxXS5yZXBsYWNlKGNiLGRiKSxhWzNdPShhWzNdfHxhWzRdfHxhWzVdfHwiIikucmVwbGFjZShjYixkYiksIn49Ij09PWFbMl0mJihhWzNdPSIgIithWzNdKyIgIiksYS5zbGljZSgwLDQpfSxDSElMRDpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnRvTG93ZXJDYXNlKCksIm50aCI9PT1hWzFdLnNsaWNlKDAsMyk/KGFbM118fGZiLmVycm9yKGFbMF0pLGFbNF09KyhhWzRdP2FbNV0rKGFbNl18fDEpOjIqKCJldmVuIj09PWFbM118fCJvZGQiPT09YVszXSkpLGFbNV09KyhhWzddK2FbOF18fCJvZGQiPT09YVszXSkpOmFbM10mJmZiLmVycm9yKGFbMF0pLGF9LFBTRVVETzpmdW5jdGlvbihhKXt2YXIgYixjPSFhWzZdJiZhWzJdO3JldHVybiBYLkNISUxELnRlc3QoYVswXSk/bnVsbDooYVszXT9hWzJdPWFbNF18fGFbNV18fCIiOmMmJlYudGVzdChjKSYmKGI9ZyhjLCEwKSkmJihiPWMuaW5kZXhPZigiKSIsYy5sZW5ndGgtYiktYy5sZW5ndGgpJiYoYVswXT1hWzBdLnNsaWNlKDAsYiksYVsyXT1jLnNsaWNlKDAsYikpLGEuc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoY2IsZGIpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIioiPT09YT9mdW5jdGlvbigpe3JldHVybiEwfTpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yn19LENMQVNTOmZ1bmN0aW9uKGEpe3ZhciBiPXlbYSsiICJdO3JldHVybiBifHwoYj1uZXcgUmVnRXhwKCIoXnwiK00rIikiK2ErIigiK00rInwkKSIpKSYmeShhLGZ1bmN0aW9uKGEpe3JldHVybiBiLnRlc3QoInN0cmluZyI9PXR5cGVvZiBhLmNsYXNzTmFtZSYmYS5jbGFzc05hbWV8fHR5cGVvZiBhLmdldEF0dHJpYnV0ZSE9PUMmJmEuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIil9KX0sQVRUUjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBlPWZiLmF0dHIoZCxhKTtyZXR1cm4gbnVsbD09ZT8iIT0iPT09YjpiPyhlKz0iIiwiPSI9PT1iP2U9PT1jOiIhPSI9PT1iP2UhPT1jOiJePSI9PT1iP2MmJjA9PT1lLmluZGV4T2YoYyk6Iio9Ij09PWI/YyYmZS5pbmRleE9mKGMpPi0xOiIkPSI9PT1iP2MmJmUuc2xpY2UoLWMubGVuZ3RoKT09PWM6In49Ij09PWI/KCIgIitlKyIgIikuaW5kZXhPZihjKT4tMToifD0iPT09Yj9lPT09Y3x8ZS5zbGljZSgwLGMubGVuZ3RoKzEpPT09YysiLSI6ITEpOiEwfX0sQ0hJTEQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj0ibnRoIiE9PWEuc2xpY2UoMCwzKSxnPSJsYXN0IiE9PWEuc2xpY2UoLTQpLGg9Im9mLXR5cGUiPT09YjtyZXR1cm4gMT09PWQmJjA9PT1lP2Z1bmN0aW9uKGEpe3JldHVybiEhYS5wYXJlbnROb2RlfTpmdW5jdGlvbihiLGMsaSl7dmFyIGosayxsLG0sbixvLHA9ZiE9PWc/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixxPWIucGFyZW50Tm9kZSxyPWgmJmIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxzPSFpJiYhaDtpZihxKXtpZihmKXtmb3IoO3A7KXtmb3IobD1iO2w9bFtwXTspaWYoaD9sLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1sLm5vZGVUeXBlKXJldHVybiExO289cD0ib25seSI9PT1hJiYhbyYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZihvPVtnP3EuZmlyc3RDaGlsZDpxLmxhc3RDaGlsZF0sZyYmcyl7Zm9yKGs9cVt1XXx8KHFbdV09e30pLGo9a1thXXx8W10sbj1qWzBdPT09dyYmalsxXSxtPWpbMF09PT13JiZqWzJdLGw9biYmcS5jaGlsZE5vZGVzW25dO2w9KytuJiZsJiZsW3BdfHwobT1uPTApfHxvLnBvcCgpOylpZigxPT09bC5ub2RlVHlwZSYmKyttJiZsPT09Yil7a1thXT1bdyxuLG1dO2JyZWFrfX1lbHNlIGlmKHMmJihqPShiW3VdfHwoYlt1XT17fSkpW2FdKSYmalswXT09PXcpbT1qWzFdO2Vsc2UgZm9yKDsobD0rK24mJmwmJmxbcF18fChtPW49MCl8fG8ucG9wKCkpJiYoKGg/bC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09cjoxIT09bC5ub2RlVHlwZSl8fCErK218fChzJiYoKGxbdV18fChsW3VdPXt9KSlbYV09W3csbV0pLGwhPT1iKSk7KTtyZXR1cm4gbS09ZSxtPT09ZHx8bSVkPT09MCYmbS9kPj0wfX19LFBTRVVETzpmdW5jdGlvbihhLGIpe3ZhciBjLGU9ZC5wc2V1ZG9zW2FdfHxkLnNldEZpbHRlcnNbYS50b0xvd2VyQ2FzZSgpXXx8ZmIuZXJyb3IoInVuc3VwcG9ydGVkIHBzZXVkbzogIithKTtyZXR1cm4gZVt1XT9lKGIpOmUubGVuZ3RoPjE/KGM9W2EsYSwiIixiXSxkLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoYS50b0xvd2VyQ2FzZSgpKT9oYihmdW5jdGlvbihhLGMpe2Zvcih2YXIgZCxmPWUoYSxiKSxnPWYubGVuZ3RoO2ctLTspZD1LLmNhbGwoYSxmW2ddKSxhW2RdPSEoY1tkXT1mW2ddKX0pOmZ1bmN0aW9uKGEpe3JldHVybiBlKGEsMCxjKX0pOmV9fSxwc2V1ZG9zOntub3Q6aGIoZnVuY3Rpb24oYSl7dmFyIGI9W10sYz1bXSxkPWgoYS5yZXBsYWNlKFIsIiQxIikpO3JldHVybiBkW3VdP2hiKGZ1bmN0aW9uKGEsYixjLGUpe2Zvcih2YXIgZixnPWQoYSxudWxsLGUsW10pLGg9YS5sZW5ndGg7aC0tOykoZj1nW2hdKSYmKGFbaF09IShiW2hdPWYpKX0pOmZ1bmN0aW9uKGEsZSxmKXtyZXR1cm4gYlswXT1hLGQoYixudWxsLGYsYyksIWMucG9wKCl9fSksaGFzOmhiKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gZmIoYSxiKS5sZW5ndGg+MH19KSxjb250YWluczpoYihmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuKGIudGV4dENvbnRlbnR8fGIuaW5uZXJUZXh0fHxlKGIpKS5pbmRleE9mKGEpPi0xfX0pLGxhbmc6aGIoZnVuY3Rpb24oYSl7cmV0dXJuIFcudGVzdChhfHwiIil8fGZiLmVycm9yKCJ1bnN1cHBvcnRlZCBsYW5nOiAiK2EpLGE9YS5yZXBsYWNlKGNiLGRiKS50b0xvd2VyQ2FzZSgpLGZ1bmN0aW9uKGIpe3ZhciBjO2RvIGlmKGM9cD9iLmxhbmc6Yi5nZXRBdHRyaWJ1dGUoInhtbDpsYW5nIil8fGIuZ2V0QXR0cmlidXRlKCJsYW5nIikpcmV0dXJuIGM9Yy50b0xvd2VyQ2FzZSgpLGM9PT1hfHwwPT09Yy5pbmRleE9mKGErIi0iKTt3aGlsZSgoYj1iLnBhcmVudE5vZGUpJiYxPT09Yi5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGIpe3ZhciBjPWEubG9jYXRpb24mJmEubG9jYXRpb24uaGFzaDtyZXR1cm4gYyYmYy5zbGljZSgxKT09PWIuaWR9LHJvb3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1vfSxmb2N1czpmdW5jdGlvbihhKXtyZXR1cm4gYT09PW4uYWN0aXZlRWxlbWVudCYmKCFuLmhhc0ZvY3VzfHxuLmhhc0ZvY3VzKCkpJiYhIShhLnR5cGV8fGEuaHJlZnx8fmEudGFiSW5kZXgpfSxlbmFibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITF9LGRpc2FibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITB9LGNoZWNrZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT1iJiYhIWEuY2hlY2tlZHx8Im9wdGlvbiI9PT1iJiYhIWEuc2VsZWN0ZWR9LHNlbGVjdGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LGEuc2VsZWN0ZWQ9PT0hMH0sZW1wdHk6ZnVuY3Rpb24oYSl7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWlmKGEubm9kZVR5cGU8NilyZXR1cm4hMTtyZXR1cm4hMH0scGFyZW50OmZ1bmN0aW9uKGEpe3JldHVybiFkLnBzZXVkb3MuZW1wdHkoYSl9LGhlYWRlcjpmdW5jdGlvbihhKXtyZXR1cm4gWi50ZXN0KGEubm9kZU5hbWUpfSxpbnB1dDpmdW5jdGlvbihhKXtyZXR1cm4gWS50ZXN0KGEubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT1iJiYiYnV0dG9uIj09PWEudHlwZXx8ImJ1dHRvbiI9PT1ifSx0ZXh0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiJpbnB1dCI9PT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJiJ0ZXh0Ij09PWEudHlwZSYmKG51bGw9PShiPWEuZ2V0QXR0cmlidXRlKCJ0eXBlIikpfHwidGV4dCI9PT1iLnRvTG93ZXJDYXNlKCkpfSxmaXJzdDpuYihmdW5jdGlvbigpe3JldHVyblswXX0pLGxhc3Q6bmIoZnVuY3Rpb24oYSxiKXtyZXR1cm5bYi0xXX0pLGVxOm5iKGZ1bmN0aW9uKGEsYixjKXtyZXR1cm5bMD5jP2MrYjpjXX0pLGV2ZW46bmIoZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtiPmM7Yys9MilhLnB1c2goYyk7cmV0dXJuIGF9KSxvZGQ6bmIoZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MTtiPmM7Yys9MilhLnB1c2goYyk7cmV0dXJuIGF9KSxsdDpuYihmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA+Yz9jK2I6YzstLWQ+PTA7KWEucHVzaChkKTtyZXR1cm4gYX0pLGd0Om5iKGZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MD5jP2MrYjpjOysrZDxiOylhLnB1c2goZCk7cmV0dXJuIGF9KX19LGQucHNldWRvcy5udGg9ZC5wc2V1ZG9zLmVxO2ZvcihiIGlue3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KWQucHNldWRvc1tiXT1sYihiKTtmb3IoYiBpbntzdWJtaXQ6ITAscmVzZXQ6ITB9KWQucHNldWRvc1tiXT1tYihiKTtyZXR1cm4gcGIucHJvdG90eXBlPWQuZmlsdGVycz1kLnBzZXVkb3MsZC5zZXRGaWx0ZXJzPW5ldyBwYixnPWZiLnRva2VuaXplPWZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGcsaCxpLGosaz16W2ErIiAiXTtpZihrKXJldHVybiBiPzA6ay5zbGljZSgwKTtmb3IoaD1hLGk9W10saj1kLnByZUZpbHRlcjtoOyl7KCFjfHwoZT1TLmV4ZWMoaCkpKSYmKGUmJihoPWguc2xpY2UoZVswXS5sZW5ndGgpfHxoKSxpLnB1c2goZj1bXSkpLGM9ITEsKGU9VC5leGVjKGgpKSYmKGM9ZS5zaGlmdCgpLGYucHVzaCh7dmFsdWU6Yyx0eXBlOmVbMF0ucmVwbGFjZShSLCIgIil9KSxoPWguc2xpY2UoYy5sZW5ndGgpKTtmb3IoZyBpbiBkLmZpbHRlcikhKGU9WFtnXS5leGVjKGgpKXx8altnXSYmIShlPWpbZ10oZSkpfHwoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZyxtYXRjaGVzOmV9KSxoPWguc2xpY2UoYy5sZW5ndGgpKTtpZighYylicmVha31yZXR1cm4gYj9oLmxlbmd0aDpoP2ZiLmVycm9yKGEpOnooYSxpKS5zbGljZSgwKX0saD1mYi5jb21waWxlPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPVtdLGY9QVthKyIgIl07aWYoIWYpe2ZvcihifHwoYj1nKGEpKSxjPWIubGVuZ3RoO2MtLTspZj13YihiW2NdKSxmW3VdP2QucHVzaChmKTplLnB1c2goZik7Zj1BKGEseGIoZSxkKSksZi5zZWxlY3Rvcj1hfXJldHVybiBmfSxpPWZiLnNlbGVjdD1mdW5jdGlvbihhLGIsZSxmKXt2YXIgaSxqLGssbCxtLG49ImZ1bmN0aW9uIj09dHlwZW9mIGEmJmEsbz0hZiYmZyhhPW4uc2VsZWN0b3J8fGEpO2lmKGU9ZXx8W10sMT09PW8ubGVuZ3RoKXtpZihqPW9bMF09b1swXS5zbGljZSgwKSxqLmxlbmd0aD4yJiYiSUQiPT09KGs9alswXSkudHlwZSYmYy5nZXRCeUlkJiY5PT09Yi5ub2RlVHlwZSYmcCYmZC5yZWxhdGl2ZVtqWzFdLnR5cGVdKXtpZihiPShkLmZpbmQuSUQoay5tYXRjaGVzWzBdLnJlcGxhY2UoY2IsZGIpLGIpfHxbXSlbMF0sIWIpcmV0dXJuIGU7biYmKGI9Yi5wYXJlbnROb2RlKSxhPWEuc2xpY2Uoai5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9Zm9yKGk9WC5uZWVkc0NvbnRleHQudGVzdChhKT8wOmoubGVuZ3RoO2ktLSYmKGs9altpXSwhZC5yZWxhdGl2ZVtsPWsudHlwZV0pOylpZigobT1kLmZpbmRbbF0pJiYoZj1tKGsubWF0Y2hlc1swXS5yZXBsYWNlKGNiLGRiKSxhYi50ZXN0KGpbMF0udHlwZSkmJm9iKGIucGFyZW50Tm9kZSl8fGIpKSl7aWYoai5zcGxpY2UoaSwxKSxhPWYubGVuZ3RoJiZxYihqKSwhYSlyZXR1cm4gSS5hcHBseShlLGYpLGU7YnJlYWt9fXJldHVybihufHxoKGEsbykpKGYsYiwhcCxlLGFiLnRlc3QoYSkmJm9iKGIucGFyZW50Tm9kZSl8fGIpLGV9LGMuc29ydFN0YWJsZT11LnNwbGl0KCIiKS5zb3J0KEIpLmpvaW4oIiIpPT09dSxjLmRldGVjdER1cGxpY2F0ZXM9ISFsLG0oKSxjLnNvcnREZXRhY2hlZD1pYihmdW5jdGlvbihhKXtyZXR1cm4gMSZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG4uY3JlYXRlRWxlbWVudCgiZGl2IikpfSksaWIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPSI8YSBocmVmPScjJz48L2E+IiwiIyI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJocmVmIil9KXx8amIoInR5cGV8aHJlZnxoZWlnaHR8d2lkdGgiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYz92b2lkIDA6YS5nZXRBdHRyaWJ1dGUoYiwidHlwZSI9PT1iLnRvTG93ZXJDYXNlKCk/MToyKX0pLGMuYXR0cmlidXRlcyYmaWIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPSI8aW5wdXQvPiIsYS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKSwiIj09PWEuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoInZhbHVlIil9KXx8amIoInZhbHVlIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGN8fCJpbnB1dCIhPT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk/dm9pZCAwOmEuZGVmYXVsdFZhbHVlfSksaWIoZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWEuZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpfSl8fGpiKEwsZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBjP3ZvaWQgMDphW2JdPT09ITA/Yi50b0xvd2VyQ2FzZSgpOihkPWEuZ2V0QXR0cmlidXRlTm9kZShiKSkmJmQuc3BlY2lmaWVkP2QudmFsdWU6bnVsbH0pLGZifShhKTtuLmZpbmQ9dCxuLmV4cHI9dC5zZWxlY3RvcnMsbi5leHByWyI6Il09bi5leHByLnBzZXVkb3Msbi51bmlxdWU9dC51bmlxdWVTb3J0LG4udGV4dD10LmdldFRleHQsbi5pc1hNTERvYz10LmlzWE1MLG4uY29udGFpbnM9dC5jb250YWluczt2YXIgdT1uLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LHY9L148KFx3KylccypcLz8+KD86PFwvXDE+fCkkLyx3PS9eLlteOiNcW1wuLF0qJC87bi5maWx0ZXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWJbMF07cmV0dXJuIGMmJihhPSI6bm90KCIrYSsiKSIpLDE9PT1iLmxlbmd0aCYmMT09PWQubm9kZVR5cGU/bi5maW5kLm1hdGNoZXNTZWxlY3RvcihkLGEpP1tkXTpbXTpuLmZpbmQubWF0Y2hlcyhhLG4uZ3JlcChiLGZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5ub2RlVHlwZX0pKX0sbi5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzLmxlbmd0aCxkPVtdLGU9dGhpcztpZigic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIHRoaXMucHVzaFN0YWNrKG4oYSkuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKGI9MDtjPmI7YisrKWlmKG4uY29udGFpbnMoZVtiXSx0aGlzKSlyZXR1cm4hMAp9KSk7Zm9yKGI9MDtjPmI7YisrKW4uZmluZChhLGVbYl0sZCk7cmV0dXJuIGQ9dGhpcy5wdXNoU3RhY2soYz4xP24udW5pcXVlKGQpOmQpLGQuc2VsZWN0b3I9dGhpcy5zZWxlY3Rvcj90aGlzLnNlbGVjdG9yKyIgIithOmEsZH0sZmlsdGVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayh4KHRoaXMsYXx8W10sITEpKX0sbm90OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayh4KHRoaXMsYXx8W10sITApKX0saXM6ZnVuY3Rpb24oYSl7cmV0dXJuISF4KHRoaXMsInN0cmluZyI9PXR5cGVvZiBhJiZ1LnRlc3QoYSk/bihhKTphfHxbXSwhMSkubGVuZ3RofX0pO3ZhciB5LHo9L14oPzpccyooPFtcd1xXXSs+KVtePl0qfCMoW1x3LV0qKSkkLyxBPW4uZm4uaW5pdD1mdW5jdGlvbihhLGIpe3ZhciBjLGQ7aWYoIWEpcmV0dXJuIHRoaXM7aWYoInN0cmluZyI9PXR5cGVvZiBhKXtpZihjPSI8Ij09PWFbMF0mJiI+Ij09PWFbYS5sZW5ndGgtMV0mJmEubGVuZ3RoPj0zP1tudWxsLGEsbnVsbF06ei5leGVjKGEpLCFjfHwhY1sxXSYmYilyZXR1cm4hYnx8Yi5qcXVlcnk/KGJ8fHkpLmZpbmQoYSk6dGhpcy5jb25zdHJ1Y3RvcihiKS5maW5kKGEpO2lmKGNbMV0pe2lmKGI9YiBpbnN0YW5jZW9mIG4/YlswXTpiLG4ubWVyZ2UodGhpcyxuLnBhcnNlSFRNTChjWzFdLGImJmIubm9kZVR5cGU/Yi5vd25lckRvY3VtZW50fHxiOmwsITApKSx2LnRlc3QoY1sxXSkmJm4uaXNQbGFpbk9iamVjdChiKSlmb3IoYyBpbiBiKW4uaXNGdW5jdGlvbih0aGlzW2NdKT90aGlzW2NdKGJbY10pOnRoaXMuYXR0cihjLGJbY10pO3JldHVybiB0aGlzfXJldHVybiBkPWwuZ2V0RWxlbWVudEJ5SWQoY1syXSksZCYmZC5wYXJlbnROb2RlJiYodGhpcy5sZW5ndGg9MSx0aGlzWzBdPWQpLHRoaXMuY29udGV4dD1sLHRoaXMuc2VsZWN0b3I9YSx0aGlzfXJldHVybiBhLm5vZGVUeXBlPyh0aGlzLmNvbnRleHQ9dGhpc1swXT1hLHRoaXMubGVuZ3RoPTEsdGhpcyk6bi5pc0Z1bmN0aW9uKGEpPyJ1bmRlZmluZWQiIT10eXBlb2YgeS5yZWFkeT95LnJlYWR5KGEpOmEobik6KHZvaWQgMCE9PWEuc2VsZWN0b3ImJih0aGlzLnNlbGVjdG9yPWEuc2VsZWN0b3IsdGhpcy5jb250ZXh0PWEuY29udGV4dCksbi5tYWtlQXJyYXkoYSx0aGlzKSl9O0EucHJvdG90eXBlPW4uZm4seT1uKGwpO3ZhciBCPS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLEM9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07bi5leHRlbmQoe2RpcjpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPVtdLGU9dm9pZCAwIT09YzsoYT1hW2JdKSYmOSE9PWEubm9kZVR5cGU7KWlmKDE9PT1hLm5vZGVUeXBlKXtpZihlJiZuKGEpLmlzKGMpKWJyZWFrO2QucHVzaChhKX1yZXR1cm4gZH0sc2libGluZzpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXTthO2E9YS5uZXh0U2libGluZykxPT09YS5ub2RlVHlwZSYmYSE9PWImJmMucHVzaChhKTtyZXR1cm4gY319KSxuLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGEpe3ZhciBiPW4oYSx0aGlzKSxjPWIubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2M+YTthKyspaWYobi5jb250YWlucyh0aGlzLGJbYV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wLGU9dGhpcy5sZW5ndGgsZj1bXSxnPXUudGVzdChhKXx8InN0cmluZyIhPXR5cGVvZiBhP24oYSxifHx0aGlzLmNvbnRleHQpOjA7ZT5kO2QrKylmb3IoYz10aGlzW2RdO2MmJmMhPT1iO2M9Yy5wYXJlbnROb2RlKWlmKGMubm9kZVR5cGU8MTEmJihnP2cuaW5kZXgoYyk+LTE6MT09PWMubm9kZVR5cGUmJm4uZmluZC5tYXRjaGVzU2VsZWN0b3IoYyxhKSkpe2YucHVzaChjKTticmVha31yZXR1cm4gdGhpcy5wdXNoU3RhY2soZi5sZW5ndGg+MT9uLnVuaXF1ZShmKTpmKX0saW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/InN0cmluZyI9PXR5cGVvZiBhP2cuY2FsbChuKGEpLHRoaXNbMF0pOmcuY2FsbCh0aGlzLGEuanF1ZXJ5P2FbMF06YSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobi51bmlxdWUobi5tZXJnZSh0aGlzLmdldCgpLG4oYSxiKSkpKX0sYWRkQmFjazpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09YT90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihhKSl9fSksbi5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiYxMSE9PWIubm9kZVR5cGU/YjpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBuLmRpcihhLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG4uZGlyKGEsInBhcmVudE5vZGUiLGMpfSxuZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBEKGEsIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24oYSl7cmV0dXJuIEQoYSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZGlyKGEsIm5leHRTaWJsaW5nIil9LHByZXZBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZGlyKGEsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuLmRpcihhLCJuZXh0U2libGluZyIsYyl9LHByZXZVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG4uZGlyKGEsInByZXZpb3VzU2libGluZyIsYyl9LHNpYmxpbmdzOmZ1bmN0aW9uKGEpe3JldHVybiBuLnNpYmxpbmcoKGEucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsYSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGEpe3JldHVybiBuLnNpYmxpbmcoYS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGVudERvY3VtZW50fHxuLm1lcmdlKFtdLGEuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihhLGIpe24uZm5bYV09ZnVuY3Rpb24oYyxkKXt2YXIgZT1uLm1hcCh0aGlzLGIsYyk7cmV0dXJuIlVudGlsIiE9PWEuc2xpY2UoLTUpJiYoZD1jKSxkJiYic3RyaW5nIj09dHlwZW9mIGQmJihlPW4uZmlsdGVyKGQsZSkpLHRoaXMubGVuZ3RoPjEmJihDW2FdfHxuLnVuaXF1ZShlKSxCLnRlc3QoYSkmJmUucmV2ZXJzZSgpKSx0aGlzLnB1c2hTdGFjayhlKX19KTt2YXIgRT0vXFMrL2csRj17fTtuLkNhbGxiYWNrcz1mdW5jdGlvbihhKXthPSJzdHJpbmciPT10eXBlb2YgYT9GW2FdfHxHKGEpOm4uZXh0ZW5kKHt9LGEpO3ZhciBiLGMsZCxlLGYsZyxoPVtdLGk9IWEub25jZSYmW10saj1mdW5jdGlvbihsKXtmb3IoYj1hLm1lbW9yeSYmbCxjPSEwLGc9ZXx8MCxlPTAsZj1oLmxlbmd0aCxkPSEwO2gmJmY+ZztnKyspaWYoaFtnXS5hcHBseShsWzBdLGxbMV0pPT09ITEmJmEuc3RvcE9uRmFsc2Upe2I9ITE7YnJlYWt9ZD0hMSxoJiYoaT9pLmxlbmd0aCYmaihpLnNoaWZ0KCkpOmI/aD1bXTprLmRpc2FibGUoKSl9LGs9e2FkZDpmdW5jdGlvbigpe2lmKGgpe3ZhciBjPWgubGVuZ3RoOyFmdW5jdGlvbiBnKGIpe24uZWFjaChiLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9bi50eXBlKGMpOyJmdW5jdGlvbiI9PT1kP2EudW5pcXVlJiZrLmhhcyhjKXx8aC5wdXNoKGMpOmMmJmMubGVuZ3RoJiYic3RyaW5nIiE9PWQmJmcoYyl9KX0oYXJndW1lbnRzKSxkP2Y9aC5sZW5ndGg6YiYmKGU9YyxqKGIpKX1yZXR1cm4gdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIGgmJm4uZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM7KGM9bi5pbkFycmF5KGIsaCxjKSk+LTE7KWguc3BsaWNlKGMsMSksZCYmKGY+PWMmJmYtLSxnPj1jJiZnLS0pfSksdGhpc30saGFzOmZ1bmN0aW9uKGEpe3JldHVybiBhP24uaW5BcnJheShhLGgpPi0xOiEoIWh8fCFoLmxlbmd0aCl9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIGg9W10sZj0wLHRoaXN9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gaD1pPWI9dm9pZCAwLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIWh9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gaT12b2lkIDAsYnx8ay5kaXNhYmxlKCksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuIWl9LGZpcmVXaXRoOmZ1bmN0aW9uKGEsYil7cmV0dXJuIWh8fGMmJiFpfHwoYj1ifHxbXSxiPVthLGIuc2xpY2U/Yi5zbGljZSgpOmJdLGQ/aS5wdXNoKGIpOmooYikpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gay5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWN9fTtyZXR1cm4ga30sbi5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGEpe3ZhciBiPVtbInJlc29sdmUiLCJkb25lIixuLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwicmVzb2x2ZWQiXSxbInJlamVjdCIsImZhaWwiLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZWplY3RlZCJdLFsibm90aWZ5IiwicHJvZ3Jlc3MiLG4uQ2FsbGJhY2tzKCJtZW1vcnkiKV1dLGM9InBlbmRpbmciLGQ9e3N0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGN9LGFsd2F5czpmdW5jdGlvbigpe3JldHVybiBlLmRvbmUoYXJndW1lbnRzKS5mYWlsKGFyZ3VtZW50cyksdGhpc30sdGhlbjpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50cztyZXR1cm4gbi5EZWZlcnJlZChmdW5jdGlvbihjKXtuLmVhY2goYixmdW5jdGlvbihiLGYpe3ZhciBnPW4uaXNGdW5jdGlvbihhW2JdKSYmYVtiXTtlW2ZbMV1dKGZ1bmN0aW9uKCl7dmFyIGE9ZyYmZy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YSYmbi5pc0Z1bmN0aW9uKGEucHJvbWlzZSk/YS5wcm9taXNlKCkuZG9uZShjLnJlc29sdmUpLmZhaWwoYy5yZWplY3QpLnByb2dyZXNzKGMubm90aWZ5KTpjW2ZbMF0rIldpdGgiXSh0aGlzPT09ZD9jLnByb21pc2UoKTp0aGlzLGc/W2FdOmFyZ3VtZW50cyl9KX0pLGE9bnVsbH0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9uLmV4dGVuZChhLGQpOmR9fSxlPXt9O3JldHVybiBkLnBpcGU9ZC50aGVuLG4uZWFjaChiLGZ1bmN0aW9uKGEsZil7dmFyIGc9ZlsyXSxoPWZbM107ZFtmWzFdXT1nLmFkZCxoJiZnLmFkZChmdW5jdGlvbigpe2M9aH0sYlsxXmFdWzJdLmRpc2FibGUsYlsyXVsyXS5sb2NrKSxlW2ZbMF1dPWZ1bmN0aW9uKCl7cmV0dXJuIGVbZlswXSsiV2l0aCJdKHRoaXM9PT1lP2Q6dGhpcyxhcmd1bWVudHMpLHRoaXN9LGVbZlswXSsiV2l0aCJdPWcuZmlyZVdpdGh9KSxkLnByb21pc2UoZSksYSYmYS5jYWxsKGUsZSksZX0sd2hlbjpmdW5jdGlvbihhKXt2YXIgaSxqLGssYj0wLGM9ZC5jYWxsKGFyZ3VtZW50cyksZT1jLmxlbmd0aCxmPTEhPT1lfHxhJiZuLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9lOjAsZz0xPT09Zj9hOm4uRGVmZXJyZWQoKSxoPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZSl7YlthXT10aGlzLGNbYV09YXJndW1lbnRzLmxlbmd0aD4xP2QuY2FsbChhcmd1bWVudHMpOmUsYz09PWk/Zy5ub3RpZnlXaXRoKGIsYyk6LS1mfHxnLnJlc29sdmVXaXRoKGIsYyl9fTtpZihlPjEpZm9yKGk9bmV3IEFycmF5KGUpLGo9bmV3IEFycmF5KGUpLGs9bmV3IEFycmF5KGUpO2U+YjtiKyspY1tiXSYmbi5pc0Z1bmN0aW9uKGNbYl0ucHJvbWlzZSk/Y1tiXS5wcm9taXNlKCkuZG9uZShoKGIsayxjKSkuZmFpbChnLnJlamVjdCkucHJvZ3Jlc3MoaChiLGosaSkpOi0tZjtyZXR1cm4gZnx8Zy5yZXNvbHZlV2l0aChrLGMpLGcucHJvbWlzZSgpfX0pO3ZhciBIO24uZm4ucmVhZHk9ZnVuY3Rpb24oYSl7cmV0dXJuIG4ucmVhZHkucHJvbWlzZSgpLmRvbmUoYSksdGhpc30sbi5leHRlbmQoe2lzUmVhZHk6ITEscmVhZHlXYWl0OjEsaG9sZFJlYWR5OmZ1bmN0aW9uKGEpe2E/bi5yZWFkeVdhaXQrKzpuLnJlYWR5KCEwKX0scmVhZHk6ZnVuY3Rpb24oYSl7KGE9PT0hMD8tLW4ucmVhZHlXYWl0Om4uaXNSZWFkeSl8fChuLmlzUmVhZHk9ITAsYSE9PSEwJiYtLW4ucmVhZHlXYWl0PjB8fChILnJlc29sdmVXaXRoKGwsW25dKSxuLmZuLnRyaWdnZXJIYW5kbGVyJiYobihsKS50cmlnZ2VySGFuZGxlcigicmVhZHkiKSxuKGwpLm9mZigicmVhZHkiKSkpKX19KSxuLnJlYWR5LnByb21pc2U9ZnVuY3Rpb24oYil7cmV0dXJuIEh8fChIPW4uRGVmZXJyZWQoKSwiY29tcGxldGUiPT09bC5yZWFkeVN0YXRlP3NldFRpbWVvdXQobi5yZWFkeSk6KGwuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsSSwhMSksYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixJLCExKSkpLEgucHJvbWlzZShiKX0sbi5yZWFkeS5wcm9taXNlKCk7dmFyIEo9bi5hY2Nlc3M9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGg9MCxpPWEubGVuZ3RoLGo9bnVsbD09YztpZigib2JqZWN0Ij09PW4udHlwZShjKSl7ZT0hMDtmb3IoaCBpbiBjKW4uYWNjZXNzKGEsYixoLGNbaF0sITAsZixnKX1lbHNlIGlmKHZvaWQgMCE9PWQmJihlPSEwLG4uaXNGdW5jdGlvbihkKXx8KGc9ITApLGomJihnPyhiLmNhbGwoYSxkKSxiPW51bGwpOihqPWIsYj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGouY2FsbChuKGEpLGMpfSkpLGIpKWZvcig7aT5oO2grKyliKGFbaF0sYyxnP2Q6ZC5jYWxsKGFbaF0saCxiKGFbaF0sYykpKTtyZXR1cm4gZT9hOmo/Yi5jYWxsKGEpOmk/YihhWzBdLGMpOmZ9O24uYWNjZXB0RGF0YT1mdW5jdGlvbihhKXtyZXR1cm4gMT09PWEubm9kZVR5cGV8fDk9PT1hLm5vZGVUeXBlfHwhK2Eubm9kZVR5cGV9LEsudWlkPTEsSy5hY2NlcHRzPW4uYWNjZXB0RGF0YSxLLnByb3RvdHlwZT17a2V5OmZ1bmN0aW9uKGEpe2lmKCFLLmFjY2VwdHMoYSkpcmV0dXJuIDA7dmFyIGI9e30sYz1hW3RoaXMuZXhwYW5kb107aWYoIWMpe2M9Sy51aWQrKzt0cnl7Ylt0aGlzLmV4cGFuZG9dPXt2YWx1ZTpjfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhhLGIpfWNhdGNoKGQpe2JbdGhpcy5leHBhbmRvXT1jLG4uZXh0ZW5kKGEsYil9fXJldHVybiB0aGlzLmNhY2hlW2NdfHwodGhpcy5jYWNoZVtjXT17fSksY30sc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPXRoaXMua2V5KGEpLGY9dGhpcy5jYWNoZVtlXTtpZigic3RyaW5nIj09dHlwZW9mIGIpZltiXT1jO2Vsc2UgaWYobi5pc0VtcHR5T2JqZWN0KGYpKW4uZXh0ZW5kKHRoaXMuY2FjaGVbZV0sYik7ZWxzZSBmb3IoZCBpbiBiKWZbZF09YltkXTtyZXR1cm4gZn0sZ2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jYWNoZVt0aGlzLmtleShhKV07cmV0dXJuIHZvaWQgMD09PWI/YzpjW2JdfSxhY2Nlc3M6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiB2b2lkIDA9PT1ifHxiJiYic3RyaW5nIj09dHlwZW9mIGImJnZvaWQgMD09PWM/KGQ9dGhpcy5nZXQoYSxiKSx2b2lkIDAhPT1kP2Q6dGhpcy5nZXQoYSxuLmNhbWVsQ2FzZShiKSkpOih0aGlzLnNldChhLGIsYyksdm9pZCAwIT09Yz9jOmIpfSxyZW1vdmU6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZj10aGlzLmtleShhKSxnPXRoaXMuY2FjaGVbZl07aWYodm9pZCAwPT09Yil0aGlzLmNhY2hlW2ZdPXt9O2Vsc2V7bi5pc0FycmF5KGIpP2Q9Yi5jb25jYXQoYi5tYXAobi5jYW1lbENhc2UpKTooZT1uLmNhbWVsQ2FzZShiKSxiIGluIGc/ZD1bYixlXTooZD1lLGQ9ZCBpbiBnP1tkXTpkLm1hdGNoKEUpfHxbXSkpLGM9ZC5sZW5ndGg7Zm9yKDtjLS07KWRlbGV0ZSBnW2RbY11dfX0saGFzRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4hbi5pc0VtcHR5T2JqZWN0KHRoaXMuY2FjaGVbYVt0aGlzLmV4cGFuZG9dXXx8e30pfSxkaXNjYXJkOmZ1bmN0aW9uKGEpe2FbdGhpcy5leHBhbmRvXSYmZGVsZXRlIHRoaXMuY2FjaGVbYVt0aGlzLmV4cGFuZG9dXX19O3ZhciBMPW5ldyBLLE09bmV3IEssTj0vXig/Olx7W1x3XFddKlx9fFxbW1x3XFddKlxdKSQvLE89LyhbQS1aXSkvZztuLmV4dGVuZCh7aGFzRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gTS5oYXNEYXRhKGEpfHxMLmhhc0RhdGEoYSl9LGRhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBNLmFjY2VzcyhhLGIsYyl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtNLnJlbW92ZShhLGIpfSxfZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIEwuYWNjZXNzKGEsYixjKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtMLnJlbW92ZShhLGIpfX0pLG4uZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpc1swXSxnPWYmJmYuYXR0cmlidXRlcztpZih2b2lkIDA9PT1hKXtpZih0aGlzLmxlbmd0aCYmKGU9TS5nZXQoZiksMT09PWYubm9kZVR5cGUmJiFMLmdldChmLCJoYXNEYXRhQXR0cnMiKSkpe2ZvcihjPWcubGVuZ3RoO2MtLTspZ1tjXSYmKGQ9Z1tjXS5uYW1lLDA9PT1kLmluZGV4T2YoImRhdGEtIikmJihkPW4uY2FtZWxDYXNlKGQuc2xpY2UoNSkpLFAoZixkLGVbZF0pKSk7TC5zZXQoZiwiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIGV9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBhP3RoaXMuZWFjaChmdW5jdGlvbigpe00uc2V0KHRoaXMsYSl9KTpKKHRoaXMsZnVuY3Rpb24oYil7dmFyIGMsZD1uLmNhbWVsQ2FzZShhKTtpZihmJiZ2b2lkIDA9PT1iKXtpZihjPU0uZ2V0KGYsYSksdm9pZCAwIT09YylyZXR1cm4gYztpZihjPU0uZ2V0KGYsZCksdm9pZCAwIT09YylyZXR1cm4gYztpZihjPVAoZixkLHZvaWQgMCksdm9pZCAwIT09YylyZXR1cm4gY31lbHNlIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPU0uZ2V0KHRoaXMsZCk7TS5zZXQodGhpcyxkLGIpLC0xIT09YS5pbmRleE9mKCItIikmJnZvaWQgMCE9PWMmJk0uc2V0KHRoaXMsYSxiKX0pfSxudWxsLGIsYXJndW1lbnRzLmxlbmd0aD4xLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtNLnJlbW92ZSh0aGlzLGEpfSl9fSksbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYT8oYj0oYnx8ImZ4IikrInF1ZXVlIixkPUwuZ2V0KGEsYiksYyYmKCFkfHxuLmlzQXJyYXkoYyk/ZD1MLmFjY2VzcyhhLGIsbi5tYWtlQXJyYXkoYykpOmQucHVzaChjKSksZHx8W10pOnZvaWQgMH0sZGVxdWV1ZTpmdW5jdGlvbihhLGIpe2I9Ynx8ImZ4Ijt2YXIgYz1uLnF1ZXVlKGEsYiksZD1jLmxlbmd0aCxlPWMuc2hpZnQoKSxmPW4uX3F1ZXVlSG9va3MoYSxiKSxnPWZ1bmN0aW9uKCl7bi5kZXF1ZXVlKGEsYil9OyJpbnByb2dyZXNzIj09PWUmJihlPWMuc2hpZnQoKSxkLS0pLGUmJigiZngiPT09YiYmYy51bnNoaWZ0KCJpbnByb2dyZXNzIiksZGVsZXRlIGYuc3RvcCxlLmNhbGwoYSxnLGYpKSwhZCYmZiYmZi5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YisicXVldWVIb29rcyI7cmV0dXJuIEwuZ2V0KGEsYyl8fEwuYWNjZXNzKGEsYyx7ZW1wdHk6bi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7TC5yZW1vdmUoYSxbYisicXVldWUiLGNdKX0pfSl9fSksbi5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYil7dmFyIGM9MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGEmJihiPWEsYT0iZngiLGMtLSksYXJndW1lbnRzLmxlbmd0aDxjP24ucXVldWUodGhpc1swXSxhKTp2b2lkIDA9PT1iP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9bi5xdWV1ZSh0aGlzLGEsYik7bi5fcXVldWVIb29rcyh0aGlzLGEpLCJmeCI9PT1hJiYiaW5wcm9ncmVzcyIhPT1jWzBdJiZuLmRlcXVldWUodGhpcyxhKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLmRlcXVldWUodGhpcyxhKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnF1ZXVlKGF8fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD0xLGU9bi5EZWZlcnJlZCgpLGY9dGhpcyxnPXRoaXMubGVuZ3RoLGg9ZnVuY3Rpb24oKXstLWR8fGUucmVzb2x2ZVdpdGgoZixbZl0pfTtmb3IoInN0cmluZyIhPXR5cGVvZiBhJiYoYj1hLGE9dm9pZCAwKSxhPWF8fCJmeCI7Zy0tOyljPUwuZ2V0KGZbZ10sYSsicXVldWVIb29rcyIpLGMmJmMuZW1wdHkmJihkKyssYy5lbXB0eS5hZGQoaCkpO3JldHVybiBoKCksZS5wcm9taXNlKGIpfX0pO3ZhciBRPS9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLFI9WyJUb3AiLCJSaWdodCIsIkJvdHRvbSIsIkxlZnQiXSxTPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9Ynx8YSwibm9uZSI9PT1uLmNzcyhhLCJkaXNwbGF5Iil8fCFuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKX0sVD0vXig/OmNoZWNrYm94fHJhZGlvKSQvaTshZnVuY3Rpb24oKXt2YXIgYT1sLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxiPWEuYXBwZW5kQ2hpbGQobC5jcmVhdGVFbGVtZW50KCJkaXYiKSksYz1sLmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7Yy5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpLGMuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpLGMuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLGIuYXBwZW5kQ2hpbGQoYyksay5jaGVja0Nsb25lPWIuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGIuaW5uZXJIVE1MPSI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+IixrLm5vQ2xvbmVDaGVja2VkPSEhYi5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWV9KCk7dmFyIFU9InVuZGVmaW5lZCI7ay5mb2N1c2luQnViYmxlcz0ib25mb2N1c2luImluIGE7dmFyIFY9L15rZXkvLFc9L14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51KXxjbGljay8sWD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sWT0vXihbXi5dKikoPzpcLiguKyl8KSQvO24uZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG8scCxxLHI9TC5nZXQoYSk7aWYocilmb3IoYy5oYW5kbGVyJiYoZj1jLGM9Zi5oYW5kbGVyLGU9Zi5zZWxlY3RvciksYy5ndWlkfHwoYy5ndWlkPW4uZ3VpZCsrKSwoaT1yLmV2ZW50cyl8fChpPXIuZXZlbnRzPXt9KSwoZz1yLmhhbmRsZSl8fChnPXIuaGFuZGxlPWZ1bmN0aW9uKGIpe3JldHVybiB0eXBlb2YgbiE9PVUmJm4uZXZlbnQudHJpZ2dlcmVkIT09Yi50eXBlP24uZXZlbnQuZGlzcGF0Y2guYXBwbHkoYSxhcmd1bWVudHMpOnZvaWQgMH0pLGI9KGJ8fCIiKS5tYXRjaChFKXx8WyIiXSxqPWIubGVuZ3RoO2otLTspaD1ZLmV4ZWMoYltqXSl8fFtdLG89cT1oWzFdLHA9KGhbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxvJiYobD1uLmV2ZW50LnNwZWNpYWxbb118fHt9LG89KGU/bC5kZWxlZ2F0ZVR5cGU6bC5iaW5kVHlwZSl8fG8sbD1uLmV2ZW50LnNwZWNpYWxbb118fHt9LGs9bi5leHRlbmQoe3R5cGU6byxvcmlnVHlwZTpxLGRhdGE6ZCxoYW5kbGVyOmMsZ3VpZDpjLmd1aWQsc2VsZWN0b3I6ZSxuZWVkc0NvbnRleHQ6ZSYmbi5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGUpLG5hbWVzcGFjZTpwLmpvaW4oIi4iKX0sZiksKG09aVtvXSl8fChtPWlbb109W10sbS5kZWxlZ2F0ZUNvdW50PTAsbC5zZXR1cCYmbC5zZXR1cC5jYWxsKGEsZCxwLGcpIT09ITF8fGEuYWRkRXZlbnRMaXN0ZW5lciYmYS5hZGRFdmVudExpc3RlbmVyKG8sZywhMSkpLGwuYWRkJiYobC5hZGQuY2FsbChhLGspLGsuaGFuZGxlci5ndWlkfHwoay5oYW5kbGVyLmd1aWQ9Yy5ndWlkKSksZT9tLnNwbGljZShtLmRlbGVnYXRlQ291bnQrKywwLGspOm0ucHVzaChrKSxuLmV2ZW50Lmdsb2JhbFtvXT0hMCl9LHJlbW92ZTpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaCxpLGosayxsLG0sbyxwLHEscj1MLmhhc0RhdGEoYSkmJkwuZ2V0KGEpO2lmKHImJihpPXIuZXZlbnRzKSl7Zm9yKGI9KGJ8fCIiKS5tYXRjaChFKXx8WyIiXSxqPWIubGVuZ3RoO2otLTspaWYoaD1ZLmV4ZWMoYltqXSl8fFtdLG89cT1oWzFdLHA9KGhbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxvKXtmb3IobD1uLmV2ZW50LnNwZWNpYWxbb118fHt9LG89KGQ/bC5kZWxlZ2F0ZVR5cGU6bC5iaW5kVHlwZSl8fG8sbT1pW29dfHxbXSxoPWhbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK3Auam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksZz1mPW0ubGVuZ3RoO2YtLTspaz1tW2ZdLCFlJiZxIT09ay5vcmlnVHlwZXx8YyYmYy5ndWlkIT09ay5ndWlkfHxoJiYhaC50ZXN0KGsubmFtZXNwYWNlKXx8ZCYmZCE9PWsuc2VsZWN0b3ImJigiKioiIT09ZHx8IWsuc2VsZWN0b3IpfHwobS5zcGxpY2UoZiwxKSxrLnNlbGVjdG9yJiZtLmRlbGVnYXRlQ291bnQtLSxsLnJlbW92ZSYmbC5yZW1vdmUuY2FsbChhLGspKTtnJiYhbS5sZW5ndGgmJihsLnRlYXJkb3duJiZsLnRlYXJkb3duLmNhbGwoYSxwLHIuaGFuZGxlKSE9PSExfHxuLnJlbW92ZUV2ZW50KGEsbyxyLmhhbmRsZSksZGVsZXRlIGlbb10pfWVsc2UgZm9yKG8gaW4gaSluLmV2ZW50LnJlbW92ZShhLG8rYltqXSxjLGQsITApO24uaXNFbXB0eU9iamVjdChpKSYmKGRlbGV0ZSByLmhhbmRsZSxMLnJlbW92ZShhLCJldmVudHMiKSl9fSx0cmlnZ2VyOmZ1bmN0aW9uKGIsYyxkLGUpe3ZhciBmLGcsaCxpLGssbSxvLHA9W2R8fGxdLHE9ai5jYWxsKGIsInR5cGUiKT9iLnR5cGU6YixyPWouY2FsbChiLCJuYW1lc3BhY2UiKT9iLm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2lmKGc9aD1kPWR8fGwsMyE9PWQubm9kZVR5cGUmJjghPT1kLm5vZGVUeXBlJiYhWC50ZXN0KHErbi5ldmVudC50cmlnZ2VyZWQpJiYocS5pbmRleE9mKCIuIik+PTAmJihyPXEuc3BsaXQoIi4iKSxxPXIuc2hpZnQoKSxyLnNvcnQoKSksaz1xLmluZGV4T2YoIjoiKTwwJiYib24iK3EsYj1iW24uZXhwYW5kb10/YjpuZXcgbi5FdmVudChxLCJvYmplY3QiPT10eXBlb2YgYiYmYiksYi5pc1RyaWdnZXI9ZT8yOjMsYi5uYW1lc3BhY2U9ci5qb2luKCIuIiksYi5uYW1lc3BhY2VfcmU9Yi5uYW1lc3BhY2U/bmV3IFJlZ0V4cCgiKF58XFwuKSIrci5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKTpudWxsLGIucmVzdWx0PXZvaWQgMCxiLnRhcmdldHx8KGIudGFyZ2V0PWQpLGM9bnVsbD09Yz9bYl06bi5tYWtlQXJyYXkoYyxbYl0pLG89bi5ldmVudC5zcGVjaWFsW3FdfHx7fSxlfHwhby50cmlnZ2VyfHxvLnRyaWdnZXIuYXBwbHkoZCxjKSE9PSExKSl7aWYoIWUmJiFvLm5vQnViYmxlJiYhbi5pc1dpbmRvdyhkKSl7Zm9yKGk9by5kZWxlZ2F0ZVR5cGV8fHEsWC50ZXN0KGkrcSl8fChnPWcucGFyZW50Tm9kZSk7ZztnPWcucGFyZW50Tm9kZSlwLnB1c2goZyksaD1nO2g9PT0oZC5vd25lckRvY3VtZW50fHxsKSYmcC5wdXNoKGguZGVmYXVsdFZpZXd8fGgucGFyZW50V2luZG93fHxhKX1mb3IoZj0wOyhnPXBbZisrXSkmJiFiLmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KWIudHlwZT1mPjE/aTpvLmJpbmRUeXBlfHxxLG09KEwuZ2V0KGcsImV2ZW50cyIpfHx7fSlbYi50eXBlXSYmTC5nZXQoZywiaGFuZGxlIiksbSYmbS5hcHBseShnLGMpLG09ayYmZ1trXSxtJiZtLmFwcGx5JiZuLmFjY2VwdERhdGEoZykmJihiLnJlc3VsdD1tLmFwcGx5KGcsYyksYi5yZXN1bHQ9PT0hMSYmYi5wcmV2ZW50RGVmYXVsdCgpKTtyZXR1cm4gYi50eXBlPXEsZXx8Yi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8by5fZGVmYXVsdCYmby5fZGVmYXVsdC5hcHBseShwLnBvcCgpLGMpIT09ITF8fCFuLmFjY2VwdERhdGEoZCl8fGsmJm4uaXNGdW5jdGlvbihkW3FdKSYmIW4uaXNXaW5kb3coZCkmJihoPWRba10saCYmKGRba109bnVsbCksbi5ldmVudC50cmlnZ2VyZWQ9cSxkW3FdKCksbi5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGgmJihkW2tdPWgpKSxiLnJlc3VsdH19LGRpc3BhdGNoOmZ1bmN0aW9uKGEpe2E9bi5ldmVudC5maXgoYSk7dmFyIGIsYyxlLGYsZyxoPVtdLGk9ZC5jYWxsKGFyZ3VtZW50cyksaj0oTC5nZXQodGhpcywiZXZlbnRzIil8fHt9KVthLnR5cGVdfHxbXSxrPW4uZXZlbnQuc3BlY2lhbFthLnR5cGVdfHx7fTtpZihpWzBdPWEsYS5kZWxlZ2F0ZVRhcmdldD10aGlzLCFrLnByZURpc3BhdGNofHxrLnByZURpc3BhdGNoLmNhbGwodGhpcyxhKSE9PSExKXtmb3IoaD1uLmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyxhLGopLGI9MDsoZj1oW2IrK10pJiYhYS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpOylmb3IoYS5jdXJyZW50VGFyZ2V0PWYuZWxlbSxjPTA7KGc9Zi5oYW5kbGVyc1tjKytdKSYmIWEuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKTspKCFhLm5hbWVzcGFjZV9yZXx8YS5uYW1lc3BhY2VfcmUudGVzdChnLm5hbWVzcGFjZSkpJiYoYS5oYW5kbGVPYmo9ZyxhLmRhdGE9Zy5kYXRhLGU9KChuLmV2ZW50LnNwZWNpYWxbZy5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fGcuaGFuZGxlcikuYXBwbHkoZi5lbGVtLGkpLHZvaWQgMCE9PWUmJihhLnJlc3VsdD1lKT09PSExJiYoYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCkpKTtyZXR1cm4gay5wb3N0RGlzcGF0Y2gmJmsucG9zdERpc3BhdGNoLmNhbGwodGhpcyxhKSxhLnJlc3VsdH19LGhhbmRsZXJzOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGYsZz1bXSxoPWIuZGVsZWdhdGVDb3VudCxpPWEudGFyZ2V0O2lmKGgmJmkubm9kZVR5cGUmJighYS5idXR0b258fCJjbGljayIhPT1hLnR5cGUpKWZvcig7aSE9PXRoaXM7aT1pLnBhcmVudE5vZGV8fHRoaXMpaWYoaS5kaXNhYmxlZCE9PSEwfHwiY2xpY2siIT09YS50eXBlKXtmb3IoZD1bXSxjPTA7aD5jO2MrKylmPWJbY10sZT1mLnNlbGVjdG9yKyIgIix2b2lkIDA9PT1kW2VdJiYoZFtlXT1mLm5lZWRzQ29udGV4dD9uKGUsdGhpcykuaW5kZXgoaSk+PTA6bi5maW5kKGUsdGhpcyxudWxsLFtpXSkubGVuZ3RoKSxkW2VdJiZkLnB1c2goZik7ZC5sZW5ndGgmJmcucHVzaCh7ZWxlbTppLGhhbmRsZXJzOmR9KX1yZXR1cm4gaDxiLmxlbmd0aCYmZy5wdXNoKHtlbGVtOnRoaXMsaGFuZGxlcnM6Yi5zbGljZShoKX0pLGd9LHByb3BzOiJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2giLnNwbGl0KCIgIiksZml4SG9va3M6e30sa2V5SG9va3M6e3Byb3BzOiJjaGFyIGNoYXJDb2RlIGtleSBrZXlDb2RlIi5zcGxpdCgiICIpLGZpbHRlcjpmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1hLndoaWNoJiYoYS53aGljaD1udWxsIT1iLmNoYXJDb2RlP2IuY2hhckNvZGU6Yi5rZXlDb2RlKSxhfX0sbW91c2VIb29rczp7cHJvcHM6ImJ1dHRvbiBidXR0b25zIGNsaWVudFggY2xpZW50WSBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIHRvRWxlbWVudCIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZj1iLmJ1dHRvbjtyZXR1cm4gbnVsbD09YS5wYWdlWCYmbnVsbCE9Yi5jbGllbnRYJiYoYz1hLnRhcmdldC5vd25lckRvY3VtZW50fHxsLGQ9Yy5kb2N1bWVudEVsZW1lbnQsZT1jLmJvZHksYS5wYWdlWD1iLmNsaWVudFgrKGQmJmQuc2Nyb2xsTGVmdHx8ZSYmZS5zY3JvbGxMZWZ0fHwwKS0oZCYmZC5jbGllbnRMZWZ0fHxlJiZlLmNsaWVudExlZnR8fDApLGEucGFnZVk9Yi5jbGllbnRZKyhkJiZkLnNjcm9sbFRvcHx8ZSYmZS5zY3JvbGxUb3B8fDApLShkJiZkLmNsaWVudFRvcHx8ZSYmZS5jbGllbnRUb3B8fDApKSxhLndoaWNofHx2b2lkIDA9PT1mfHwoYS53aGljaD0xJmY/MToyJmY/Mzo0JmY/MjowKSxhfX0sZml4OmZ1bmN0aW9uKGEpe2lmKGFbbi5leHBhbmRvXSlyZXR1cm4gYTt2YXIgYixjLGQsZT1hLnR5cGUsZj1hLGc9dGhpcy5maXhIb29rc1tlXTtmb3IoZ3x8KHRoaXMuZml4SG9va3NbZV09Zz1XLnRlc3QoZSk/dGhpcy5tb3VzZUhvb2tzOlYudGVzdChlKT90aGlzLmtleUhvb2tzOnt9KSxkPWcucHJvcHM/dGhpcy5wcm9wcy5jb25jYXQoZy5wcm9wcyk6dGhpcy5wcm9wcyxhPW5ldyBuLkV2ZW50KGYpLGI9ZC5sZW5ndGg7Yi0tOyljPWRbYl0sYVtjXT1mW2NdO3JldHVybiBhLnRhcmdldHx8KGEudGFyZ2V0PWwpLDM9PT1hLnRhcmdldC5ub2RlVHlwZSYmKGEudGFyZ2V0PWEudGFyZ2V0LnBhcmVudE5vZGUpLGcuZmlsdGVyP2cuZmlsdGVyKGEsZik6YX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGZvY3VzOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMhPT1fKCkmJnRoaXMuZm9jdXM/KHRoaXMuZm9jdXMoKSwhMSk6dm9pZCAwfSxkZWxlZ2F0ZVR5cGU6ImZvY3VzaW4ifSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM9PT1fKCkmJnRoaXMuYmx1cj8odGhpcy5ibHVyKCksITEpOnZvaWQgMH0sZGVsZWdhdGVUeXBlOiJmb2N1c291dCJ9LGNsaWNrOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuImNoZWNrYm94Ij09PXRoaXMudHlwZSYmdGhpcy5jbGljayYmbi5ub2RlTmFtZSh0aGlzLCJpbnB1dCIpPyh0aGlzLmNsaWNrKCksITEpOnZvaWQgMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG4ubm9kZU5hbWUoYS50YXJnZXQsImEiKX19LGJlZm9yZXVubG9hZDp7cG9zdERpc3BhdGNoOmZ1bmN0aW9uKGEpe3ZvaWQgMCE9PWEucmVzdWx0JiZhLm9yaWdpbmFsRXZlbnQmJihhLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9YS5yZXN1bHQpfX19LHNpbXVsYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW4uZXh0ZW5kKG5ldyBuLkV2ZW50LGMse3R5cGU6YSxpc1NpbXVsYXRlZDohMCxvcmlnaW5hbEV2ZW50Ont9fSk7ZD9uLmV2ZW50LnRyaWdnZXIoZSxudWxsLGIpOm4uZXZlbnQuZGlzcGF0Y2guY2FsbChiLGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCkmJmMucHJldmVudERlZmF1bHQoKX19LG4ucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYywhMSl9LG4uRXZlbnQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIG4uRXZlbnQ/KGEmJmEudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWEsdGhpcy50eXBlPWEudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1hLmRlZmF1bHRQcmV2ZW50ZWR8fHZvaWQgMD09PWEuZGVmYXVsdFByZXZlbnRlZCYmYS5yZXR1cm5WYWx1ZT09PSExP1o6JCk6dGhpcy50eXBlPWEsYiYmbi5leHRlbmQodGhpcyxiKSx0aGlzLnRpbWVTdGFtcD1hJiZhLnRpbWVTdGFtcHx8bi5ub3coKSx2b2lkKHRoaXNbbi5leHBhbmRvXT0hMCkpOm5ldyBuLkV2ZW50KGEsYil9LG4uRXZlbnQucHJvdG90eXBlPXtpc0RlZmF1bHRQcmV2ZW50ZWQ6JCxpc1Byb3BhZ2F0aW9uU3RvcHBlZDokLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiQscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9WixhJiZhLnByZXZlbnREZWZhdWx0JiZhLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPVosYSYmYS5zdG9wUHJvcGFnYXRpb24mJmEuc3RvcFByb3BhZ2F0aW9uKCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPVosYSYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24mJmEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LG4uZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCIscG9pbnRlcmVudGVyOiJwb2ludGVyb3ZlciIscG9pbnRlcmxlYXZlOiJwb2ludGVyb3V0In0sZnVuY3Rpb24oYSxiKXtuLmV2ZW50LnNwZWNpYWxbYV09e2RlbGVnYXRlVHlwZTpiLGJpbmRUeXBlOmIsaGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcyxlPWEucmVsYXRlZFRhcmdldCxmPWEuaGFuZGxlT2JqO3JldHVybighZXx8ZSE9PWQmJiFuLmNvbnRhaW5zKGQsZSkpJiYoYS50eXBlPWYub3JpZ1R5cGUsYz1mLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGEudHlwZT1iKSxjfX19KSxrLmZvY3VzaW5CdWJibGVzfHxuLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oYSl7bi5ldmVudC5zaW11bGF0ZShiLGEudGFyZ2V0LG4uZXZlbnQuZml4KGEpLCEwKX07bi5ldmVudC5zcGVjaWFsW2JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPUwuYWNjZXNzKGQsYik7ZXx8ZC5hZGRFdmVudExpc3RlbmVyKGEsYywhMCksTC5hY2Nlc3MoZCxiLChlfHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1MLmFjY2VzcyhkLGIpLTE7ZT9MLmFjY2VzcyhkLGIsZSk6KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGMsITApLEwucmVtb3ZlKGQsYikpfX19KSxuLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7InN0cmluZyIhPXR5cGVvZiBiJiYoYz1jfHxiLGI9dm9pZCAwKTtmb3IoZyBpbiBhKXRoaXMub24oZyxiLGMsYVtnXSxlKTtyZXR1cm4gdGhpc31pZihudWxsPT1jJiZudWxsPT1kPyhkPWIsYz1iPXZvaWQgMCk6bnVsbD09ZCYmKCJzdHJpbmciPT10eXBlb2YgYj8oZD1jLGM9dm9pZCAwKTooZD1jLGM9YixiPXZvaWQgMCkpLGQ9PT0hMSlkPSQ7ZWxzZSBpZighZClyZXR1cm4gdGhpcztyZXR1cm4gMT09PWUmJihmPWQsZD1mdW5jdGlvbihhKXtyZXR1cm4gbigpLm9mZihhKSxmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZC5ndWlkPWYuZ3VpZHx8KGYuZ3VpZD1uLmd1aWQrKykpLHRoaXMuZWFjaChmdW5jdGlvbigpe24uZXZlbnQuYWRkKHRoaXMsYSxkLGMsYil9KX0sb25lOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLm9uKGEsYixjLGQsMSl9LG9mZjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihhJiZhLnByZXZlbnREZWZhdWx0JiZhLmhhbmRsZU9iailyZXR1cm4gZD1hLmhhbmRsZU9iaixuKGEuZGVsZWdhdGVUYXJnZXQpLm9mZihkLm5hbWVzcGFjZT9kLm9yaWdUeXBlKyIuIitkLm5hbWVzcGFjZTpkLm9yaWdUeXBlLGQuc2VsZWN0b3IsZC5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7Zm9yKGUgaW4gYSl0aGlzLm9mZihlLGIsYVtlXSk7cmV0dXJuIHRoaXN9cmV0dXJuKGI9PT0hMXx8ImZ1bmN0aW9uIj09dHlwZW9mIGIpJiYoYz1iLGI9dm9pZCAwKSxjPT09ITEmJihjPSQpLHRoaXMuZWFjaChmdW5jdGlvbigpe24uZXZlbnQucmVtb3ZlKHRoaXMsYSxjLGIpfSl9LHRyaWdnZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5ldmVudC50cmlnZ2VyKGEsYix0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXNbMF07cmV0dXJuIGM/bi5ldmVudC50cmlnZ2VyKGEsYixjLCEwKTp2b2lkIDB9fSk7dmFyIGFiPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzpdKylbXj5dKilcLz4vZ2ksYmI9LzwoW1x3Ol0rKS8sY2I9Lzx8JiM/XHcrOy8sZGI9LzwoPzpzY3JpcHR8c3R5bGV8bGluaykvaSxlYj0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxmYj0vXiR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksZ2I9L150cnVlXC8oLiopLyxoYj0vXlxzKjwhKD86XFtDREFUQVxbfC0tKXwoPzpcXVxdfC0tKT5ccyokL2csaWI9e29wdGlvbjpbMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtpYi5vcHRncm91cD1pYi5vcHRpb24saWIudGJvZHk9aWIudGZvb3Q9aWIuY29sZ3JvdXA9aWIuY2FwdGlvbj1pYi50aGVhZCxpYi50aD1pYi50ZCxuLmV4dGVuZCh7Y2xvbmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jbG9uZU5vZGUoITApLGk9bi5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSk7aWYoIShrLm5vQ2xvbmVDaGVja2VkfHwxIT09YS5ub2RlVHlwZSYmMTEhPT1hLm5vZGVUeXBlfHxuLmlzWE1MRG9jKGEpKSlmb3IoZz1vYihoKSxmPW9iKGEpLGQ9MCxlPWYubGVuZ3RoO2U+ZDtkKyspcGIoZltkXSxnW2RdKTtpZihiKWlmKGMpZm9yKGY9Znx8b2IoYSksZz1nfHxvYihoKSxkPTAsZT1mLmxlbmd0aDtlPmQ7ZCsrKW5iKGZbZF0sZ1tkXSk7ZWxzZSBuYihhLGgpO3JldHVybiBnPW9iKGgsInNjcmlwdCIpLGcubGVuZ3RoPjAmJm1iKGcsIWkmJm9iKGEsInNjcmlwdCIpKSxofSxidWlsZEZyYWdtZW50OmZ1bmN0aW9uKGEsYixjLGQpe2Zvcih2YXIgZSxmLGcsaCxpLGosaz1iLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxsPVtdLG09MCxvPWEubGVuZ3RoO28+bTttKyspaWYoZT1hW21dLGV8fDA9PT1lKWlmKCJvYmplY3QiPT09bi50eXBlKGUpKW4ubWVyZ2UobCxlLm5vZGVUeXBlP1tlXTplKTtlbHNlIGlmKGNiLnRlc3QoZSkpe2ZvcihmPWZ8fGsuYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KCJkaXYiKSksZz0oYmIuZXhlYyhlKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKSxoPWliW2ddfHxpYi5fZGVmYXVsdCxmLmlubmVySFRNTD1oWzFdK2UucmVwbGFjZShhYiwiPCQxPjwvJDI+IikraFsyXSxqPWhbMF07ai0tOylmPWYubGFzdENoaWxkO24ubWVyZ2UobCxmLmNoaWxkTm9kZXMpLGY9ay5maXJzdENoaWxkLGYudGV4dENvbnRlbnQ9IiJ9ZWxzZSBsLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShlKSk7Zm9yKGsudGV4dENvbnRlbnQ9IiIsbT0wO2U9bFttKytdOylpZigoIWR8fC0xPT09bi5pbkFycmF5KGUsZCkpJiYoaT1uLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKSxmPW9iKGsuYXBwZW5kQ2hpbGQoZSksInNjcmlwdCIpLGkmJm1iKGYpLGMpKWZvcihqPTA7ZT1mW2orK107KWZiLnRlc3QoZS50eXBlfHwiIikmJmMucHVzaChlKTtyZXR1cm4ga30sY2xlYW5EYXRhOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjLGQsZSxmPW4uZXZlbnQuc3BlY2lhbCxnPTA7dm9pZCAwIT09KGM9YVtnXSk7ZysrKXtpZihuLmFjY2VwdERhdGEoYykmJihlPWNbTC5leHBhbmRvXSxlJiYoYj1MLmNhY2hlW2VdKSkpe2lmKGIuZXZlbnRzKWZvcihkIGluIGIuZXZlbnRzKWZbZF0/bi5ldmVudC5yZW1vdmUoYyxkKTpuLnJlbW92ZUV2ZW50KGMsZCxiLmhhbmRsZSk7TC5jYWNoZVtlXSYmZGVsZXRlIEwuY2FjaGVbZV19ZGVsZXRlIE0uY2FjaGVbY1tNLmV4cGFuZG9dXX19fSksbi5mbi5leHRlbmQoe3RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEoodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT9uLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpJiYodGhpcy50ZXh0Q29udGVudD1hKX0pfSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LGFwcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihhKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIGI9amIodGhpcyxhKTtiLmFwcGVuZENoaWxkKGEpfX0pfSxwcmVwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj1qYih0aGlzLGEpO2IuaW5zZXJ0QmVmb3JlKGEsYi5maXJzdENoaWxkKX19KX0sYmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMpfSl9LGFmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMubmV4dFNpYmxpbmcpfSl9LHJlbW92ZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPWE/bi5maWx0ZXIoYSx0aGlzKTp0aGlzLGU9MDtudWxsIT0oYz1kW2VdKTtlKyspYnx8MSE9PWMubm9kZVR5cGV8fG4uY2xlYW5EYXRhKG9iKGMpKSxjLnBhcmVudE5vZGUmJihiJiZuLmNvbnRhaW5zKGMub3duZXJEb2N1bWVudCxjKSYmbWIob2IoYywic2NyaXB0IikpLGMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKSk7cmV0dXJuIHRoaXN9LGVtcHR5OmZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9MDtudWxsIT0oYT10aGlzW2JdKTtiKyspMT09PWEubm9kZVR5cGUmJihuLmNsZWFuRGF0YShvYihhLCExKSksYS50ZXh0Q29udGVudD0iIik7cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9bnVsbD09YT8hMTphLGI9bnVsbD09Yj9hOmIsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gbi5jbG9uZSh0aGlzLGEsYil9KX0saHRtbDpmdW5jdGlvbihhKXtyZXR1cm4gSih0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF18fHt9LGM9MCxkPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWEmJjE9PT1iLm5vZGVUeXBlKXJldHVybiBiLmlubmVySFRNTDtpZigic3RyaW5nIj09dHlwZW9mIGEmJiFkYi50ZXN0KGEpJiYhaWJbKGJiLmV4ZWMoYSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCldKXthPWEucmVwbGFjZShhYiwiPCQxPjwvJDI+Iik7dHJ5e2Zvcig7ZD5jO2MrKyliPXRoaXNbY118fHt9LDE9PT1iLm5vZGVUeXBlJiYobi5jbGVhbkRhdGEob2IoYiwhMSkpLGIuaW5uZXJIVE1MPWEpO2I9MH1jYXRjaChlKXt9fWImJnRoaXMuZW1wdHkoKS5hcHBlbmQoYSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGIpe2E9dGhpcy5wYXJlbnROb2RlLG4uY2xlYW5EYXRhKG9iKHRoaXMpKSxhJiZhLnJlcGxhY2VDaGlsZChiLHRoaXMpfSksYSYmKGEubGVuZ3RofHxhLm5vZGVUeXBlKT90aGlzOnRoaXMucmVtb3ZlKCl9LGRldGFjaDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZW1vdmUoYSwhMCl9LGRvbU1hbmlwOmZ1bmN0aW9uKGEsYil7YT1lLmFwcGx5KFtdLGEpO3ZhciBjLGQsZixnLGgsaSxqPTAsbD10aGlzLmxlbmd0aCxtPXRoaXMsbz1sLTEscD1hWzBdLHE9bi5pc0Z1bmN0aW9uKHApO2lmKHF8fGw+MSYmInN0cmluZyI9PXR5cGVvZiBwJiYhay5jaGVja0Nsb25lJiZlYi50ZXN0KHApKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYyl7dmFyIGQ9bS5lcShjKTtxJiYoYVswXT1wLmNhbGwodGhpcyxjLGQuaHRtbCgpKSksZC5kb21NYW5pcChhLGIpfSk7aWYobCYmKGM9bi5idWlsZEZyYWdtZW50KGEsdGhpc1swXS5vd25lckRvY3VtZW50LCExLHRoaXMpLGQ9Yy5maXJzdENoaWxkLDE9PT1jLmNoaWxkTm9kZXMubGVuZ3RoJiYoYz1kKSxkKSl7Zm9yKGY9bi5tYXAob2IoYywic2NyaXB0Iiksa2IpLGc9Zi5sZW5ndGg7bD5qO2orKyloPWMsaiE9PW8mJihoPW4uY2xvbmUoaCwhMCwhMCksZyYmbi5tZXJnZShmLG9iKGgsInNjcmlwdCIpKSksYi5jYWxsKHRoaXNbal0saCxqKTtpZihnKWZvcihpPWZbZi5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxuLm1hcChmLGxiKSxqPTA7Zz5qO2orKyloPWZbal0sZmIudGVzdChoLnR5cGV8fCIiKSYmIUwuYWNjZXNzKGgsImdsb2JhbEV2YWwiKSYmbi5jb250YWlucyhpLGgpJiYoaC5zcmM/bi5fZXZhbFVybCYmbi5fZXZhbFVybChoLnNyYyk6bi5nbG9iYWxFdmFsKGgudGV4dENvbnRlbnQucmVwbGFjZShoYiwiIikpKX1yZXR1cm4gdGhpc319KSxuLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihhLGIpe24uZm5bYV09ZnVuY3Rpb24oYSl7Zm9yKHZhciBjLGQ9W10sZT1uKGEpLGc9ZS5sZW5ndGgtMSxoPTA7Zz49aDtoKyspYz1oPT09Zz90aGlzOnRoaXMuY2xvbmUoITApLG4oZVtoXSlbYl0oYyksZi5hcHBseShkLGMuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhkKX19KTt2YXIgcWIscmI9e30sdWI9L15tYXJnaW4vLHZiPW5ldyBSZWdFeHAoIl4oIitRKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksd2I9ZnVuY3Rpb24oYSl7cmV0dXJuIGEub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGEsbnVsbCl9OyFmdW5jdGlvbigpe2Z1bmN0aW9uIGcoKXtmLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbi10b3A6MSU7dG9wOjElO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NHB4O3Bvc2l0aW9uOmFic29sdXRlIixmLmlubmVySFRNTD0iIixkLmFwcGVuZENoaWxkKGUpO3ZhciBnPWEuZ2V0Q29tcHV0ZWRTdHlsZShmLG51bGwpO2I9IjElIiE9PWcudG9wLGM9IjRweCI9PT1nLndpZHRoLGQucmVtb3ZlQ2hpbGQoZSl9dmFyIGIsYyxkPWwuZG9jdW1lbnRFbGVtZW50LGU9bC5jcmVhdGVFbGVtZW50KCJkaXYiKSxmPWwuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zi5zdHlsZSYmKGYuc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IixmLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9IiIsay5jbGVhckNsb25lU3R5bGU9ImNvbnRlbnQtYm94Ij09PWYuc3R5bGUuYmFja2dyb3VuZENsaXAsZS5zdHlsZS5jc3NUZXh0PSJib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweDttYXJnaW4tdG9wOjFweDtwb3NpdGlvbjphYnNvbHV0ZSIsZS5hcHBlbmRDaGlsZChmKSxhLmdldENvbXB1dGVkU3R5bGUmJm4uZXh0ZW5kKGsse3BpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gZygpLGJ9LGJveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWMmJmcoKSxjfSxyZWxpYWJsZU1hcmdpblJpZ2h0OmZ1bmN0aW9uKCl7dmFyIGIsYz1mLmFwcGVuZENoaWxkKGwuY3JlYXRlRWxlbWVudCgiZGl2IikpO3JldHVybiBjLnN0eWxlLmNzc1RleHQ9Zi5zdHlsZS5jc3NUZXh0PSItd2Via2l0LWJveC1zaXppbmc6Y29udGVudC1ib3g7LW1vei1ib3gtc2l6aW5nOmNvbnRlbnQtYm94O2JveC1zaXppbmc6Y29udGVudC1ib3g7ZGlzcGxheTpibG9jazttYXJnaW46MDtib3JkZXI6MDtwYWRkaW5nOjAiLGMuc3R5bGUubWFyZ2luUmlnaHQ9Yy5zdHlsZS53aWR0aD0iMCIsZi5zdHlsZS53aWR0aD0iMXB4IixkLmFwcGVuZENoaWxkKGUpLGI9IXBhcnNlRmxvYXQoYS5nZXRDb21wdXRlZFN0eWxlKGMsbnVsbCkubWFyZ2luUmlnaHQpLGQucmVtb3ZlQ2hpbGQoZSksYn19KSl9KCksbi5zd2FwPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZz17fTtmb3IoZiBpbiBiKWdbZl09YS5zdHlsZVtmXSxhLnN0eWxlW2ZdPWJbZl07ZT1jLmFwcGx5KGEsZHx8W10pO2ZvcihmIGluIGIpYS5zdHlsZVtmXT1nW2ZdO3JldHVybiBlfTt2YXIgemI9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLEFiPW5ldyBSZWdFeHAoIl4oIitRKyIpKC4qKSQiLCJpIiksQmI9bmV3IFJlZ0V4cCgiXihbKy1dKT0oIitRKyIpIiwiaSIpLENiPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxEYj17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn0sRWI9WyJXZWJraXQiLCJPIiwiTW96IiwibXMiXTtuLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBjPXhiKGEsIm9wYWNpdHkiKTtyZXR1cm4iIj09PWM/IjEiOmN9fX19LGNzc051bWJlcjp7Y29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6eyJmbG9hdCI6ImNzc0Zsb2F0In0sc3R5bGU6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYSYmMyE9PWEubm9kZVR5cGUmJjghPT1hLm5vZGVUeXBlJiZhLnN0eWxlKXt2YXIgZSxmLGcsaD1uLmNhbWVsQ2FzZShiKSxpPWEuc3R5bGU7cmV0dXJuIGI9bi5jc3NQcm9wc1toXXx8KG4uY3NzUHJvcHNbaF09RmIoaSxoKSksZz1uLmNzc0hvb2tzW2JdfHxuLmNzc0hvb2tzW2hdLHZvaWQgMD09PWM/ZyYmImdldCJpbiBnJiZ2b2lkIDAhPT0oZT1nLmdldChhLCExLGQpKT9lOmlbYl06KGY9dHlwZW9mIGMsInN0cmluZyI9PT1mJiYoZT1CYi5leGVjKGMpKSYmKGM9KGVbMV0rMSkqZVsyXStwYXJzZUZsb2F0KG4uY3NzKGEsYikpLGY9Im51bWJlciIpLHZvaWQobnVsbCE9YyYmYz09PWMmJigibnVtYmVyIiE9PWZ8fG4uY3NzTnVtYmVyW2hdfHwoYys9InB4Iiksay5jbGVhckNsb25lU3R5bGV8fCIiIT09Y3x8MCE9PWIuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwoaVtiXT0iaW5oZXJpdCIpLGcmJiJzZXQiaW4gZyYmdm9pZCAwPT09KGM9Zy5zZXQoYSxjLGQpKXx8KGlbYl09YykpKSl9fSxjc3M6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnLGg9bi5jYW1lbENhc2UoYik7cmV0dXJuIGI9bi5jc3NQcm9wc1toXXx8KG4uY3NzUHJvcHNbaF09RmIoYS5zdHlsZSxoKSksZz1uLmNzc0hvb2tzW2JdfHxuLmNzc0hvb2tzW2hdLGcmJiJnZXQiaW4gZyYmKGU9Zy5nZXQoYSwhMCxjKSksdm9pZCAwPT09ZSYmKGU9eGIoYSxiLGQpKSwibm9ybWFsIj09PWUmJmIgaW4gRGImJihlPURiW2JdKSwiIj09PWN8fGM/KGY9cGFyc2VGbG9hdChlKSxjPT09ITB8fG4uaXNOdW1lcmljKGYpP2Z8fDA6ZSk6ZX19KSxuLmVhY2goWyJoZWlnaHQiLCJ3aWR0aCJdLGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gYz96Yi50ZXN0KG4uY3NzKGEsImRpc3BsYXkiKSkmJjA9PT1hLm9mZnNldFdpZHRoP24uc3dhcChhLENiLGZ1bmN0aW9uKCl7cmV0dXJuIEliKGEsYixkKX0pOkliKGEsYixkKTp2b2lkIDB9LHNldDpmdW5jdGlvbihhLGMsZCl7dmFyIGU9ZCYmd2IoYSk7cmV0dXJuIEdiKGEsYyxkP0hiKGEsYixkLCJib3JkZXItYm94Ij09PW4uY3NzKGEsImJveFNpemluZyIsITEsZSksZSk6MCl9fX0pLG4uY3NzSG9va3MubWFyZ2luUmlnaHQ9eWIoay5yZWxpYWJsZU1hcmdpblJpZ2h0LGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/bi5zd2FwKGEse2Rpc3BsYXk6ImlubGluZS1ibG9jayJ9LHhiLFthLCJtYXJnaW5SaWdodCJdKTp2b2lkIDB9KSxuLmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihhLGIpe24uY3NzSG9va3NbYStiXT17ZXhwYW5kOmZ1bmN0aW9uKGMpe2Zvcih2YXIgZD0wLGU9e30sZj0ic3RyaW5nIj09dHlwZW9mIGM/Yy5zcGxpdCgiICIpOltjXTs0PmQ7ZCsrKWVbYStSW2RdK2JdPWZbZF18fGZbZC0yXXx8ZlswXTtyZXR1cm4gZX19LHViLnRlc3QoYSl8fChuLmNzc0hvb2tzW2ErYl0uc2V0PUdiKX0pLG4uZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSih0aGlzLGZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9e30sZz0wO2lmKG4uaXNBcnJheShiKSl7Zm9yKGQ9d2IoYSksZT1iLmxlbmd0aDtlPmc7ZysrKWZbYltnXV09bi5jc3MoYSxiW2ddLCExLGQpO3JldHVybiBmfXJldHVybiB2b2lkIDAhPT1jP24uc3R5bGUoYSxiLGMpOm4uY3NzKGEsYil9LGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxzaG93OmZ1bmN0aW9uKCl7cmV0dXJuIEpiKHRoaXMsITApfSxoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIEpiKHRoaXMpfSx0b2dnbGU6ZnVuY3Rpb24oYSl7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgYT9hP3RoaXMuc2hvdygpOnRoaXMuaGlkZSgpOnRoaXMuZWFjaChmdW5jdGlvbigpe1ModGhpcyk/bih0aGlzKS5zaG93KCk6bih0aGlzKS5oaWRlKCl9KX19KSxuLlR3ZWVuPUtiLEtiLnByb3RvdHlwZT17Y29uc3RydWN0b3I6S2IsaW5pdDpmdW5jdGlvbihhLGIsYyxkLGUsZil7dGhpcy5lbGVtPWEsdGhpcy5wcm9wPWMsdGhpcy5lYXNpbmc9ZXx8InN3aW5nIix0aGlzLm9wdGlvbnM9Yix0aGlzLnN0YXJ0PXRoaXMubm93PXRoaXMuY3VyKCksdGhpcy5lbmQ9ZCx0aGlzLnVuaXQ9Znx8KG4uY3NzTnVtYmVyW2NdPyIiOiJweCIpfSxjdXI6ZnVuY3Rpb24oKXt2YXIgYT1LYi5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gYSYmYS5nZXQ/YS5nZXQodGhpcyk6S2IucHJvcEhvb2tzLl9kZWZhdWx0LmdldCh0aGlzKX0scnVuOmZ1bmN0aW9uKGEpe3ZhciBiLGM9S2IucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIHRoaXMucG9zPWI9dGhpcy5vcHRpb25zLmR1cmF0aW9uP24uZWFzaW5nW3RoaXMuZWFzaW5nXShhLHRoaXMub3B0aW9ucy5kdXJhdGlvbiphLDAsMSx0aGlzLm9wdGlvbnMuZHVyYXRpb24pOmEsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKmIrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksYyYmYy5zZXQ/Yy5zZXQodGhpcyk6S2IucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0sS2IucHJvdG90eXBlLmluaXQucHJvdG90eXBlPUtiLnByb3RvdHlwZSxLYi5wcm9wSG9va3M9e19kZWZhdWx0OntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIG51bGw9PWEuZWxlbVthLnByb3BdfHxhLmVsZW0uc3R5bGUmJm51bGwhPWEuZWxlbS5zdHlsZVthLnByb3BdPyhiPW4uY3NzKGEuZWxlbSxhLnByb3AsIiIpLGImJiJhdXRvIiE9PWI/YjowKTphLmVsZW1bYS5wcm9wXX0sc2V0OmZ1bmN0aW9uKGEpe24uZnguc3RlcFthLnByb3BdP24uZnguc3RlcFthLnByb3BdKGEpOmEuZWxlbS5zdHlsZSYmKG51bGwhPWEuZWxlbS5zdHlsZVtuLmNzc1Byb3BzW2EucHJvcF1dfHxuLmNzc0hvb2tzW2EucHJvcF0pP24uc3R5bGUoYS5lbGVtLGEucHJvcCxhLm5vdythLnVuaXQpOmEuZWxlbVthLnByb3BdPWEubm93fX19LEtiLnByb3BIb29rcy5zY3JvbGxUb3A9S2IucHJvcEhvb2tzLnNjcm9sbExlZnQ9e3NldDpmdW5jdGlvbihhKXthLmVsZW0ubm9kZVR5cGUmJmEuZWxlbS5wYXJlbnROb2RlJiYoYS5lbGVtW2EucHJvcF09YS5ub3cpfX0sbi5lYXNpbmc9e2xpbmVhcjpmdW5jdGlvbihhKXtyZXR1cm4gYX0sc3dpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuLjUtTWF0aC5jb3MoYSpNYXRoLlBJKS8yfX0sbi5meD1LYi5wcm90b3R5cGUuaW5pdCxuLmZ4LnN0ZXA9e307dmFyIExiLE1iLE5iPS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxPYj1uZXcgUmVnRXhwKCJeKD86KFsrLV0pPXwpKCIrUSsiKShbYS16JV0qKSQiLCJpIiksUGI9L3F1ZXVlSG9va3MkLyxRYj1bVmJdLFJiPXsiKiI6W2Z1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jcmVhdGVUd2VlbihhLGIpLGQ9Yy5jdXIoKSxlPU9iLmV4ZWMoYiksZj1lJiZlWzNdfHwobi5jc3NOdW1iZXJbYV0/IiI6InB4IiksZz0obi5jc3NOdW1iZXJbYV18fCJweCIhPT1mJiYrZCkmJk9iLmV4ZWMobi5jc3MoYy5lbGVtLGEpKSxoPTEsaT0yMDtpZihnJiZnWzNdIT09Zil7Zj1mfHxnWzNdLGU9ZXx8W10sZz0rZHx8MTtkbyBoPWh8fCIuNSIsZy89aCxuLnN0eWxlKGMuZWxlbSxhLGcrZik7d2hpbGUoaCE9PShoPWMuY3VyKCkvZCkmJjEhPT1oJiYtLWkpfXJldHVybiBlJiYoZz1jLnN0YXJ0PStnfHwrZHx8MCxjLnVuaXQ9ZixjLmVuZD1lWzFdP2crKGVbMV0rMSkqZVsyXTorZVsyXSksY31dfTtuLkFuaW1hdGlvbj1uLmV4dGVuZChYYix7dHdlZW5lcjpmdW5jdGlvbihhLGIpe24uaXNGdW5jdGlvbihhKT8oYj1hLGE9WyIqIl0pOmE9YS5zcGxpdCgiICIpO2Zvcih2YXIgYyxkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKWM9YVtkXSxSYltjXT1SYltjXXx8W10sUmJbY10udW5zaGlmdChiKX0scHJlZmlsdGVyOmZ1bmN0aW9uKGEsYil7Yj9RYi51bnNoaWZ0KGEpOlFiLnB1c2goYSl9fSksbi5zcGVlZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSYmIm9iamVjdCI9PXR5cGVvZiBhP24uZXh0ZW5kKHt9LGEpOntjb21wbGV0ZTpjfHwhYyYmYnx8bi5pc0Z1bmN0aW9uKGEpJiZhLGR1cmF0aW9uOmEsZWFzaW5nOmMmJmJ8fGImJiFuLmlzRnVuY3Rpb24oYikmJmJ9O3JldHVybiBkLmR1cmF0aW9uPW4uZngub2ZmPzA6Im51bWJlciI9PXR5cGVvZiBkLmR1cmF0aW9uP2QuZHVyYXRpb246ZC5kdXJhdGlvbiBpbiBuLmZ4LnNwZWVkcz9uLmZ4LnNwZWVkc1tkLmR1cmF0aW9uXTpuLmZ4LnNwZWVkcy5fZGVmYXVsdCwobnVsbD09ZC5xdWV1ZXx8ZC5xdWV1ZT09PSEwKSYmKGQucXVldWU9ImZ4IiksZC5vbGQ9ZC5jb21wbGV0ZSxkLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bi5pc0Z1bmN0aW9uKGQub2xkKSYmZC5vbGQuY2FsbCh0aGlzKSxkLnF1ZXVlJiZuLmRlcXVldWUodGhpcyxkLnF1ZXVlKX0sZH0sbi5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5maWx0ZXIoUykuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTpifSxhLGMsZCl9LGFuaW1hdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bi5pc0VtcHR5T2JqZWN0KGEpLGY9bi5zcGVlZChiLGMsZCksZz1mdW5jdGlvbigpe3ZhciBiPVhiKHRoaXMsbi5leHRlbmQoe30sYSksZik7KGV8fEwuZ2V0KHRoaXMsImZpbmlzaCIpKSYmYi5zdG9wKCEwKX07cmV0dXJuIGcuZmluaXNoPWcsZXx8Zi5xdWV1ZT09PSExP3RoaXMuZWFjaChnKTp0aGlzLnF1ZXVlKGYucXVldWUsZyl9LHN0b3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGEpe3ZhciBiPWEuc3RvcDtkZWxldGUgYS5zdG9wLGIoYyl9O3JldHVybiJzdHJpbmciIT10eXBlb2YgYSYmKGM9YixiPWEsYT12b2lkIDApLGImJmEhPT0hMSYmdGhpcy5xdWV1ZShhfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj0hMCxlPW51bGwhPWEmJmErInF1ZXVlSG9va3MiLGY9bi50aW1lcnMsZz1MLmdldCh0aGlzKTtpZihlKWdbZV0mJmdbZV0uc3RvcCYmZChnW2VdKTtlbHNlIGZvcihlIGluIGcpZ1tlXSYmZ1tlXS5zdG9wJiZQYi50ZXN0KGUpJiZkKGdbZV0pO2ZvcihlPWYubGVuZ3RoO2UtLTspZltlXS5lbGVtIT09dGhpc3x8bnVsbCE9YSYmZltlXS5xdWV1ZSE9PWF8fChmW2VdLmFuaW0uc3RvcChjKSxiPSExLGYuc3BsaWNlKGUsMSkpOyhifHwhYykmJm4uZGVxdWV1ZSh0aGlzLGEpfSl9LGZpbmlzaDpmdW5jdGlvbihhKXtyZXR1cm4gYSE9PSExJiYoYT1hfHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYixjPUwuZ2V0KHRoaXMpLGQ9Y1thKyJxdWV1ZSJdLGU9Y1thKyJxdWV1ZUhvb2tzIl0sZj1uLnRpbWVycyxnPWQ/ZC5sZW5ndGg6MDtmb3IoYy5maW5pc2g9ITAsbi5xdWV1ZSh0aGlzLGEsW10pLGUmJmUuc3RvcCYmZS5zdG9wLmNhbGwodGhpcywhMCksYj1mLmxlbmd0aDtiLS07KWZbYl0uZWxlbT09PXRoaXMmJmZbYl0ucXVldWU9PT1hJiYoZltiXS5hbmltLnN0b3AoITApLGYuc3BsaWNlKGIsMSkpO2ZvcihiPTA7Zz5iO2IrKylkW2JdJiZkW2JdLmZpbmlzaCYmZFtiXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgYy5maW5pc2h9KX19KSxuLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGEsYil7dmFyIGM9bi5mbltiXTsKbi5mbltiXT1mdW5jdGlvbihhLGQsZSl7cmV0dXJuIG51bGw9PWF8fCJib29sZWFuIj09dHlwZW9mIGE/Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKFRiKGIsITApLGEsZCxlKX19KSxuLmVhY2goe3NsaWRlRG93bjpUYigic2hvdyIpLHNsaWRlVXA6VGIoImhpZGUiKSxzbGlkZVRvZ2dsZTpUYigidG9nZ2xlIiksZmFkZUluOntvcGFjaXR5OiJzaG93In0sZmFkZU91dDp7b3BhY2l0eToiaGlkZSJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6InRvZ2dsZSJ9fSxmdW5jdGlvbihhLGIpe24uZm5bYV09ZnVuY3Rpb24oYSxjLGQpe3JldHVybiB0aGlzLmFuaW1hdGUoYixhLGMsZCl9fSksbi50aW1lcnM9W10sbi5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIGEsYj0wLGM9bi50aW1lcnM7Zm9yKExiPW4ubm93KCk7YjxjLmxlbmd0aDtiKyspYT1jW2JdLGEoKXx8Y1tiXSE9PWF8fGMuc3BsaWNlKGItLSwxKTtjLmxlbmd0aHx8bi5meC5zdG9wKCksTGI9dm9pZCAwfSxuLmZ4LnRpbWVyPWZ1bmN0aW9uKGEpe24udGltZXJzLnB1c2goYSksYSgpP24uZnguc3RhcnQoKTpuLnRpbWVycy5wb3AoKX0sbi5meC5pbnRlcnZhbD0xMyxuLmZ4LnN0YXJ0PWZ1bmN0aW9uKCl7TWJ8fChNYj1zZXRJbnRlcnZhbChuLmZ4LnRpY2ssbi5meC5pbnRlcnZhbCkpfSxuLmZ4LnN0b3A9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKE1iKSxNYj1udWxsfSxuLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxuLmZuLmRlbGF5PWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9bi5meD9uLmZ4LnNwZWVkc1thXXx8YTphLGI9Ynx8ImZ4Iix0aGlzLnF1ZXVlKGIsZnVuY3Rpb24oYixjKXt2YXIgZD1zZXRUaW1lb3V0KGIsYSk7Yy5zdG9wPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGQpfX0pfSxmdW5jdGlvbigpe3ZhciBhPWwuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxiPWwuY3JlYXRlRWxlbWVudCgic2VsZWN0IiksYz1iLmFwcGVuZENoaWxkKGwuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpO2EudHlwZT0iY2hlY2tib3giLGsuY2hlY2tPbj0iIiE9PWEudmFsdWUsay5vcHRTZWxlY3RlZD1jLnNlbGVjdGVkLGIuZGlzYWJsZWQ9ITAsay5vcHREaXNhYmxlZD0hYy5kaXNhYmxlZCxhPWwuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxhLnZhbHVlPSJ0IixhLnR5cGU9InJhZGlvIixrLnJhZGlvVmFsdWU9InQiPT09YS52YWx1ZX0oKTt2YXIgWWIsWmIsJGI9bi5leHByLmF0dHJIYW5kbGU7bi5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSih0aGlzLG4uYXR0cixhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5yZW1vdmVBdHRyKHRoaXMsYSl9KX19KSxuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWEubm9kZVR5cGU7cmV0dXJuIGEmJjMhPT1mJiY4IT09ZiYmMiE9PWY/dHlwZW9mIGEuZ2V0QXR0cmlidXRlPT09VT9uLnByb3AoYSxiLGMpOigxPT09ZiYmbi5pc1hNTERvYyhhKXx8KGI9Yi50b0xvd2VyQ2FzZSgpLGQ9bi5hdHRySG9va3NbYl18fChuLmV4cHIubWF0Y2guYm9vbC50ZXN0KGIpP1piOlliKSksdm9pZCAwPT09Yz9kJiYiZ2V0ImluIGQmJm51bGwhPT0oZT1kLmdldChhLGIpKT9lOihlPW4uZmluZC5hdHRyKGEsYiksbnVsbD09ZT92b2lkIDA6ZSk6bnVsbCE9PWM/ZCYmInNldCJpbiBkJiZ2b2lkIDAhPT0oZT1kLnNldChhLGMsYikpP2U6KGEuc2V0QXR0cmlidXRlKGIsYysiIiksYyk6dm9pZCBuLnJlbW92ZUF0dHIoYSxiKSk6dm9pZCAwfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPTAsZj1iJiZiLm1hdGNoKEUpO2lmKGYmJjE9PT1hLm5vZGVUeXBlKWZvcig7Yz1mW2UrK107KWQ9bi5wcm9wRml4W2NdfHxjLG4uZXhwci5tYXRjaC5ib29sLnRlc3QoYykmJihhW2RdPSExKSxhLnJlbW92ZUF0dHJpYnV0ZShjKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oYSxiKXtpZighay5yYWRpb1ZhbHVlJiYicmFkaW8iPT09YiYmbi5ub2RlTmFtZShhLCJpbnB1dCIpKXt2YXIgYz1hLnZhbHVlO3JldHVybiBhLnNldEF0dHJpYnV0ZSgidHlwZSIsYiksYyYmKGEudmFsdWU9YyksYn19fX19KSxaYj17c2V0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYj09PSExP24ucmVtb3ZlQXR0cihhLGMpOmEuc2V0QXR0cmlidXRlKGMsYyksY319LG4uZWFjaChuLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihhLGIpe3ZhciBjPSRiW2JdfHxuLmZpbmQuYXR0cjskYltiXT1mdW5jdGlvbihhLGIsZCl7dmFyIGUsZjtyZXR1cm4gZHx8KGY9JGJbYl0sJGJbYl09ZSxlPW51bGwhPWMoYSxiLGQpP2IudG9Mb3dlckNhc2UoKTpudWxsLCRiW2JdPWYpLGV9fSk7dmFyIF9iPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2k7bi5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSih0aGlzLG4ucHJvcCxhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbbi5wcm9wRml4W2FdfHxhXX0pfX0pLG4uZXh0ZW5kKHtwcm9wRml4OnsiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIn0scHJvcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGc9YS5ub2RlVHlwZTtyZXR1cm4gYSYmMyE9PWcmJjghPT1nJiYyIT09Zz8oZj0xIT09Z3x8IW4uaXNYTUxEb2MoYSksZiYmKGI9bi5wcm9wRml4W2JdfHxiLGU9bi5wcm9wSG9va3NbYl0pLHZvaWQgMCE9PWM/ZSYmInNldCJpbiBlJiZ2b2lkIDAhPT0oZD1lLnNldChhLGMsYikpP2Q6YVtiXT1jOmUmJiJnZXQiaW4gZSYmbnVsbCE9PShkPWUuZ2V0KGEsYikpP2Q6YVtiXSk6dm9pZCAwfSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuaGFzQXR0cmlidXRlKCJ0YWJpbmRleCIpfHxfYi50ZXN0KGEubm9kZU5hbWUpfHxhLmhyZWY/YS50YWJJbmRleDotMX19fX0pLGsub3B0U2VsZWN0ZWR8fChuLnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxudWxsfX0pLG4uZWFjaChbInRhYkluZGV4IiwicmVhZE9ubHkiLCJtYXhMZW5ndGgiLCJjZWxsU3BhY2luZyIsImNlbGxQYWRkaW5nIiwicm93U3BhbiIsImNvbFNwYW4iLCJ1c2VNYXAiLCJmcmFtZUJvcmRlciIsImNvbnRlbnRFZGl0YWJsZSJdLGZ1bmN0aW9uKCl7bi5wcm9wRml4W3RoaXMudG9Mb3dlckNhc2UoKV09dGhpc30pO3ZhciBhYz0vW1x0XHJcblxmXS9nO24uZm4uZXh0ZW5kKHthZGRDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaD0ic3RyaW5nIj09dHlwZW9mIGEmJmEsaT0wLGo9dGhpcy5sZW5ndGg7aWYobi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS5hZGRDbGFzcyhhLmNhbGwodGhpcyxiLHRoaXMuY2xhc3NOYW1lKSl9KTtpZihoKWZvcihiPShhfHwiIikubWF0Y2goRSl8fFtdO2o+aTtpKyspaWYoYz10aGlzW2ldLGQ9MT09PWMubm9kZVR5cGUmJihjLmNsYXNzTmFtZT8oIiAiK2MuY2xhc3NOYW1lKyIgIikucmVwbGFjZShhYywiICIpOiIgIikpe2ZvcihmPTA7ZT1iW2YrK107KWQuaW5kZXhPZigiICIrZSsiICIpPDAmJihkKz1lKyIgIik7Zz1uLnRyaW0oZCksYy5jbGFzc05hbWUhPT1nJiYoYy5jbGFzc05hbWU9Zyl9cmV0dXJuIHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoPTA9PT1hcmd1bWVudHMubGVuZ3RofHwic3RyaW5nIj09dHlwZW9mIGEmJmEsaT0wLGo9dGhpcy5sZW5ndGg7aWYobi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS5yZW1vdmVDbGFzcyhhLmNhbGwodGhpcyxiLHRoaXMuY2xhc3NOYW1lKSl9KTtpZihoKWZvcihiPShhfHwiIikubWF0Y2goRSl8fFtdO2o+aTtpKyspaWYoYz10aGlzW2ldLGQ9MT09PWMubm9kZVR5cGUmJihjLmNsYXNzTmFtZT8oIiAiK2MuY2xhc3NOYW1lKyIgIikucmVwbGFjZShhYywiICIpOiIiKSl7Zm9yKGY9MDtlPWJbZisrXTspZm9yKDtkLmluZGV4T2YoIiAiK2UrIiAiKT49MDspZD1kLnJlcGxhY2UoIiAiK2UrIiAiLCIgIik7Zz1hP24udHJpbShkKToiIixjLmNsYXNzTmFtZSE9PWcmJihjLmNsYXNzTmFtZT1nKX1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYTtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBiJiYic3RyaW5nIj09PWM/Yj90aGlzLmFkZENsYXNzKGEpOnRoaXMucmVtb3ZlQ2xhc3MoYSk6dGhpcy5lYWNoKG4uaXNGdW5jdGlvbihhKT9mdW5jdGlvbihjKXtuKHRoaXMpLnRvZ2dsZUNsYXNzKGEuY2FsbCh0aGlzLGMsdGhpcy5jbGFzc05hbWUsYiksYil9OmZ1bmN0aW9uKCl7aWYoInN0cmluZyI9PT1jKWZvcih2YXIgYixkPTAsZT1uKHRoaXMpLGY9YS5tYXRjaChFKXx8W107Yj1mW2QrK107KWUuaGFzQ2xhc3MoYik/ZS5yZW1vdmVDbGFzcyhiKTplLmFkZENsYXNzKGIpO2Vsc2UoYz09PVV8fCJib29sZWFuIj09PWMpJiYodGhpcy5jbGFzc05hbWUmJkwuc2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iLHRoaXMuY2xhc3NOYW1lKSx0aGlzLmNsYXNzTmFtZT10aGlzLmNsYXNzTmFtZXx8YT09PSExPyIiOkwuZ2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiIpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0iICIrYSsiICIsYz0wLGQ9dGhpcy5sZW5ndGg7ZD5jO2MrKylpZigxPT09dGhpc1tjXS5ub2RlVHlwZSYmKCIgIit0aGlzW2NdLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UoYWMsIiAiKS5pbmRleE9mKGIpPj0wKXJldHVybiEwO3JldHVybiExfX0pO3ZhciBiYz0vXHIvZztuLmZuLmV4dGVuZCh7dmFsOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlPXRoaXNbMF07cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGQ9bi5pc0Z1bmN0aW9uKGEpLHRoaXMuZWFjaChmdW5jdGlvbihjKXt2YXIgZTsxPT09dGhpcy5ub2RlVHlwZSYmKGU9ZD9hLmNhbGwodGhpcyxjLG4odGhpcykudmFsKCkpOmEsbnVsbD09ZT9lPSIiOiJudW1iZXIiPT10eXBlb2YgZT9lKz0iIjpuLmlzQXJyYXkoZSkmJihlPW4ubWFwKGUsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/IiI6YSsiIn0pKSxiPW4udmFsSG9va3NbdGhpcy50eXBlXXx8bi52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJiJzZXQiaW4gYiYmdm9pZCAwIT09Yi5zZXQodGhpcyxlLCJ2YWx1ZSIpfHwodGhpcy52YWx1ZT1lKSl9KSk6ZT8oYj1uLnZhbEhvb2tzW2UudHlwZV18fG4udmFsSG9va3NbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiYiZ2V0ImluIGImJnZvaWQgMCE9PShjPWIuZ2V0KGUsInZhbHVlIikpP2M6KGM9ZS52YWx1ZSwic3RyaW5nIj09dHlwZW9mIGM/Yy5yZXBsYWNlKGJjLCIiKTpudWxsPT1jPyIiOmMpKTp2b2lkIDB9fSksbi5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihhKXt2YXIgYj1uLmZpbmQuYXR0cihhLCJ2YWx1ZSIpO3JldHVybiBudWxsIT1iP2I6bi50cmltKG4udGV4dChhKSl9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkPWEub3B0aW9ucyxlPWEuc2VsZWN0ZWRJbmRleCxmPSJzZWxlY3Qtb25lIj09PWEudHlwZXx8MD5lLGc9Zj9udWxsOltdLGg9Zj9lKzE6ZC5sZW5ndGgsaT0wPmU/aDpmP2U6MDtoPmk7aSsrKWlmKGM9ZFtpXSwhKCFjLnNlbGVjdGVkJiZpIT09ZXx8KGsub3B0RGlzYWJsZWQ/Yy5kaXNhYmxlZDpudWxsIT09Yy5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIikpfHxjLnBhcmVudE5vZGUuZGlzYWJsZWQmJm4ubm9kZU5hbWUoYy5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7aWYoYj1uKGMpLnZhbCgpLGYpcmV0dXJuIGI7Zy5wdXNoKGIpfXJldHVybiBnfSxzZXQ6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZCxlPWEub3B0aW9ucyxmPW4ubWFrZUFycmF5KGIpLGc9ZS5sZW5ndGg7Zy0tOylkPWVbZ10sKGQuc2VsZWN0ZWQ9bi5pbkFycmF5KGQudmFsdWUsZik+PTApJiYoYz0hMCk7cmV0dXJuIGN8fChhLnNlbGVjdGVkSW5kZXg9LTEpLGZ9fX19KSxuLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtuLnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbi5pc0FycmF5KGIpP2EuY2hlY2tlZD1uLmluQXJyYXkobihhKS52YWwoKSxiKT49MDp2b2lkIDB9fSxrLmNoZWNrT258fChuLnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09PWEuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpPyJvbiI6YS52YWx1ZX0pfSksbi5lYWNoKCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgbG9hZCByZXNpemUgc2Nyb2xsIHVubG9hZCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yIGNvbnRleHRtZW51Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7bi5mbltiXT1mdW5jdGlvbihhLGMpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjA/dGhpcy5vbihiLG51bGwsYSxjKTp0aGlzLnRyaWdnZXIoYil9fSksbi5mbi5leHRlbmQoe2hvdmVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMubW91c2VlbnRlcihhKS5tb3VzZWxlYXZlKGJ8fGEpfSxiaW5kOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5vbihhLG51bGwsYixjKX0sdW5iaW5kOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub2ZmKGEsbnVsbCxiKX0sZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMub24oYixhLGMsZCl9LHVuZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLm9mZihhLCIqKiIpOnRoaXMub2ZmKGIsYXx8IioqIixjKX19KTt2YXIgY2M9bi5ub3coKSxkYz0vXD8vO24ucGFyc2VKU09OPWZ1bmN0aW9uKGEpe3JldHVybiBKU09OLnBhcnNlKGErIiIpfSxuLnBhcnNlWE1MPWZ1bmN0aW9uKGEpe3ZhciBiLGM7aWYoIWF8fCJzdHJpbmciIT10eXBlb2YgYSlyZXR1cm4gbnVsbDt0cnl7Yz1uZXcgRE9NUGFyc2VyLGI9Yy5wYXJzZUZyb21TdHJpbmcoYSwidGV4dC94bWwiKX1jYXRjaChkKXtiPXZvaWQgMH1yZXR1cm4oIWJ8fGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIikubGVuZ3RoKSYmbi5lcnJvcigiSW52YWxpZCBYTUw6ICIrYSksYn07dmFyIGVjLGZjLGdjPS8jLiokLyxoYz0vKFs/Jl0pXz1bXiZdKi8saWM9L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxqYz0vXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxrYz0vXig/OkdFVHxIRUFEKSQvLGxjPS9eXC9cLy8sbWM9L14oW1x3ListXSs6KSg/OlwvXC8oPzpbXlwvPyNdKkB8KShbXlwvPyM6XSopKD86OihcZCspfCl8KS8sbmM9e30sb2M9e30scGM9IiovIi5jb25jYXQoIioiKTt0cnl7ZmM9bG9jYXRpb24uaHJlZn1jYXRjaChxYyl7ZmM9bC5jcmVhdGVFbGVtZW50KCJhIiksZmMuaHJlZj0iIixmYz1mYy5ocmVmfWVjPW1jLmV4ZWMoZmMudG9Mb3dlckNhc2UoKSl8fFtdLG4uZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fSxhamF4U2V0dGluZ3M6e3VybDpmYyx0eXBlOiJHRVQiLGlzTG9jYWw6amMudGVzdChlY1sxXSksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLGFjY2VwdHM6eyIqIjpwYyx0ZXh0OiJ0ZXh0L3BsYWluIixodG1sOiJ0ZXh0L2h0bWwiLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0In0sY29udGVudHM6e3htbDoveG1sLyxodG1sOi9odG1sLyxqc29uOi9qc29uL30scmVzcG9uc2VGaWVsZHM6e3htbDoicmVzcG9uc2VYTUwiLHRleHQ6InJlc3BvbnNlVGV4dCIsanNvbjoicmVzcG9uc2VKU09OIn0sY29udmVydGVyczp7IiogdGV4dCI6U3RyaW5nLCJ0ZXh0IGh0bWwiOiEwLCJ0ZXh0IGpzb24iOm4ucGFyc2VKU09OLCJ0ZXh0IHhtbCI6bi5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/dGModGMoYSxuLmFqYXhTZXR0aW5ncyksYik6dGMobi5hamF4U2V0dGluZ3MsYSl9LGFqYXhQcmVmaWx0ZXI6cmMobmMpLGFqYXhUcmFuc3BvcnQ6cmMob2MpLGFqYXg6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiB4KGEsYixmLGgpe3ZhciBqLHIscyx1LHcseD1iOzIhPT10JiYodD0yLGcmJmNsZWFyVGltZW91dChnKSxjPXZvaWQgMCxlPWh8fCIiLHYucmVhZHlTdGF0ZT1hPjA/NDowLGo9YT49MjAwJiYzMDA+YXx8MzA0PT09YSxmJiYodT11YyhrLHYsZikpLHU9dmMoayx1LHYsaiksaj8oay5pZk1vZGlmaWVkJiYodz12LmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIiksdyYmKG4ubGFzdE1vZGlmaWVkW2RdPXcpLHc9di5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpLHcmJihuLmV0YWdbZF09dykpLDIwND09PWF8fCJIRUFEIj09PWsudHlwZT94PSJub2NvbnRlbnQiOjMwND09PWE/eD0ibm90bW9kaWZpZWQiOih4PXUuc3RhdGUscj11LmRhdGEscz11LmVycm9yLGo9IXMpKToocz14LChhfHwheCkmJih4PSJlcnJvciIsMD5hJiYoYT0wKSkpLHYuc3RhdHVzPWEsdi5zdGF0dXNUZXh0PShifHx4KSsiIixqP28ucmVzb2x2ZVdpdGgobCxbcix4LHZdKTpvLnJlamVjdFdpdGgobCxbdix4LHNdKSx2LnN0YXR1c0NvZGUocSkscT12b2lkIDAsaSYmbS50cmlnZ2VyKGo/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbdixrLGo/cjpzXSkscC5maXJlV2l0aChsLFt2LHhdKSxpJiYobS50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFt2LGtdKSwtLW4uYWN0aXZlfHxuLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX0ib2JqZWN0Ij09dHlwZW9mIGEmJihiPWEsYT12b2lkIDApLGI9Ynx8e307dmFyIGMsZCxlLGYsZyxoLGksaixrPW4uYWpheFNldHVwKHt9LGIpLGw9ay5jb250ZXh0fHxrLG09ay5jb250ZXh0JiYobC5ub2RlVHlwZXx8bC5qcXVlcnkpP24obCk6bi5ldmVudCxvPW4uRGVmZXJyZWQoKSxwPW4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLHE9ay5zdGF0dXNDb2RlfHx7fSxyPXt9LHM9e30sdD0wLHU9ImNhbmNlbGVkIix2PXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoMj09PXQpe2lmKCFmKWZvcihmPXt9O2I9aWMuZXhlYyhlKTspZltiWzFdLnRvTG93ZXJDYXNlKCldPWJbMl07Yj1mW2EudG9Mb3dlckNhc2UoKV19cmV0dXJuIG51bGw9PWI/bnVsbDpifSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gMj09PXQ/ZTpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS50b0xvd2VyQ2FzZSgpO3JldHVybiB0fHwoYT1zW2NdPXNbY118fGEsclthXT1iKSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGEpe3JldHVybiB0fHwoay5taW1lVHlwZT1hKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKGEpaWYoMj50KWZvcihiIGluIGEpcVtiXT1bcVtiXSxhW2JdXTtlbHNlIHYuYWx3YXlzKGFbdi5zdGF0dXNdKTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YXx8dTtyZXR1cm4gYyYmYy5hYm9ydChiKSx4KDAsYiksdGhpc319O2lmKG8ucHJvbWlzZSh2KS5jb21wbGV0ZT1wLmFkZCx2LnN1Y2Nlc3M9di5kb25lLHYuZXJyb3I9di5mYWlsLGsudXJsPSgoYXx8ay51cmx8fGZjKSsiIikucmVwbGFjZShnYywiIikucmVwbGFjZShsYyxlY1sxXSsiLy8iKSxrLnR5cGU9Yi5tZXRob2R8fGIudHlwZXx8ay5tZXRob2R8fGsudHlwZSxrLmRhdGFUeXBlcz1uLnRyaW0oay5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKEUpfHxbIiJdLG51bGw9PWsuY3Jvc3NEb21haW4mJihoPW1jLmV4ZWMoay51cmwudG9Mb3dlckNhc2UoKSksay5jcm9zc0RvbWFpbj0hKCFofHxoWzFdPT09ZWNbMV0mJmhbMl09PT1lY1syXSYmKGhbM118fCgiaHR0cDoiPT09aFsxXT8iODAiOiI0NDMiKSk9PT0oZWNbM118fCgiaHR0cDoiPT09ZWNbMV0/IjgwIjoiNDQzIikpKSksay5kYXRhJiZrLnByb2Nlc3NEYXRhJiYic3RyaW5nIiE9dHlwZW9mIGsuZGF0YSYmKGsuZGF0YT1uLnBhcmFtKGsuZGF0YSxrLnRyYWRpdGlvbmFsKSksc2MobmMsayxiLHYpLDI9PT10KXJldHVybiB2O2k9ay5nbG9iYWwsaSYmMD09PW4uYWN0aXZlKysmJm4uZXZlbnQudHJpZ2dlcigiYWpheFN0YXJ0Iiksay50eXBlPWsudHlwZS50b1VwcGVyQ2FzZSgpLGsuaGFzQ29udGVudD0ha2MudGVzdChrLnR5cGUpLGQ9ay51cmwsay5oYXNDb250ZW50fHwoay5kYXRhJiYoZD1rLnVybCs9KGRjLnRlc3QoZCk/IiYiOiI/Iikray5kYXRhLGRlbGV0ZSBrLmRhdGEpLGsuY2FjaGU9PT0hMSYmKGsudXJsPWhjLnRlc3QoZCk/ZC5yZXBsYWNlKGhjLCIkMV89IitjYysrKTpkKyhkYy50ZXN0KGQpPyImIjoiPyIpKyJfPSIrY2MrKykpLGsuaWZNb2RpZmllZCYmKG4ubGFzdE1vZGlmaWVkW2RdJiZ2LnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixuLmxhc3RNb2RpZmllZFtkXSksbi5ldGFnW2RdJiZ2LnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLG4uZXRhZ1tkXSkpLChrLmRhdGEmJmsuaGFzQ29udGVudCYmay5jb250ZW50VHlwZSE9PSExfHxiLmNvbnRlbnRUeXBlKSYmdi5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLGsuY29udGVudFR5cGUpLHYuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IixrLmRhdGFUeXBlc1swXSYmay5hY2NlcHRzW2suZGF0YVR5cGVzWzBdXT9rLmFjY2VwdHNbay5kYXRhVHlwZXNbMF1dKygiKiIhPT1rLmRhdGFUeXBlc1swXT8iLCAiK3BjKyI7IHE9MC4wMSI6IiIpOmsuYWNjZXB0c1siKiJdKTtmb3IoaiBpbiBrLmhlYWRlcnMpdi5zZXRSZXF1ZXN0SGVhZGVyKGosay5oZWFkZXJzW2pdKTtpZihrLmJlZm9yZVNlbmQmJihrLmJlZm9yZVNlbmQuY2FsbChsLHYsayk9PT0hMXx8Mj09PXQpKXJldHVybiB2LmFib3J0KCk7dT0iYWJvcnQiO2ZvcihqIGlue3N1Y2Nlc3M6MSxlcnJvcjoxLGNvbXBsZXRlOjF9KXZbal0oa1tqXSk7aWYoYz1zYyhvYyxrLGIsdikpe3YucmVhZHlTdGF0ZT0xLGkmJm0udHJpZ2dlcigiYWpheFNlbmQiLFt2LGtdKSxrLmFzeW5jJiZrLnRpbWVvdXQ+MCYmKGc9c2V0VGltZW91dChmdW5jdGlvbigpe3YuYWJvcnQoInRpbWVvdXQiKX0say50aW1lb3V0KSk7dHJ5e3Q9MSxjLnNlbmQocix4KX1jYXRjaCh3KXtpZighKDI+dCkpdGhyb3cgdzt4KC0xLHcpfX1lbHNlIHgoLTEsIk5vIFRyYW5zcG9ydCIpO3JldHVybiB2fSxnZXRKU09OOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbi5nZXQoYSxiLGMsImpzb24iKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG4uZ2V0KGEsdm9pZCAwLGIsInNjcmlwdCIpfX0pLG4uZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihhLGIpe25bYl09ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIG4uaXNGdW5jdGlvbihjKSYmKGU9ZXx8ZCxkPWMsYz12b2lkIDApLG4uYWpheCh7dXJsOmEsdHlwZTpiLGRhdGFUeXBlOmUsZGF0YTpjLHN1Y2Nlc3M6ZH0pfX0pLG4uZWFjaChbImFqYXhTdGFydCIsImFqYXhTdG9wIiwiYWpheENvbXBsZXRlIiwiYWpheEVycm9yIiwiYWpheFN1Y2Nlc3MiLCJhamF4U2VuZCJdLGZ1bmN0aW9uKGEsYil7bi5mbltiXT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vbihiLGEpfX0pLG4uX2V2YWxVcmw9ZnVuY3Rpb24oYSl7cmV0dXJuIG4uYWpheCh7dXJsOmEsdHlwZToiR0VUIixkYXRhVHlwZToic2NyaXB0Iixhc3luYzohMSxnbG9iYWw6ITEsInRocm93cyI6ITB9KX0sbi5mbi5leHRlbmQoe3dyYXBBbGw6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIG4uaXNGdW5jdGlvbihhKT90aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS53cmFwQWxsKGEuY2FsbCh0aGlzLGIpKX0pOih0aGlzWzBdJiYoYj1uKGEsdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCksdGhpc1swXS5wYXJlbnROb2RlJiZiLmluc2VydEJlZm9yZSh0aGlzWzBdKSxiLm1hcChmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzO2EuZmlyc3RFbGVtZW50Q2hpbGQ7KWE9YS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gYX0pLmFwcGVuZCh0aGlzKSksdGhpcyl9LHdyYXBJbm5lcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKG4uaXNGdW5jdGlvbihhKT9mdW5jdGlvbihiKXtuKHRoaXMpLndyYXBJbm5lcihhLmNhbGwodGhpcyxiKSl9OmZ1bmN0aW9uKCl7dmFyIGI9bih0aGlzKSxjPWIuY29udGVudHMoKTtjLmxlbmd0aD9jLndyYXBBbGwoYSk6Yi5hcHBlbmQoYSl9KX0sd3JhcDpmdW5jdGlvbihhKXt2YXIgYj1uLmlzRnVuY3Rpb24oYSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihjKXtuKHRoaXMpLndyYXBBbGwoYj9hLmNhbGwodGhpcyxjKTphKX0pfSx1bndyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQoKS5lYWNoKGZ1bmN0aW9uKCl7bi5ub2RlTmFtZSh0aGlzLCJib2R5Iil8fG4odGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLmVuZCgpfX0pLG4uZXhwci5maWx0ZXJzLmhpZGRlbj1mdW5jdGlvbihhKXtyZXR1cm4gYS5vZmZzZXRXaWR0aDw9MCYmYS5vZmZzZXRIZWlnaHQ8PTB9LG4uZXhwci5maWx0ZXJzLnZpc2libGU9ZnVuY3Rpb24oYSl7cmV0dXJuIW4uZXhwci5maWx0ZXJzLmhpZGRlbihhKX07dmFyIHdjPS8lMjAvZyx4Yz0vXFtcXSQvLHljPS9ccj9cbi9nLHpjPS9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxBYz0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7bi5wYXJhbT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT1mdW5jdGlvbihhLGIpe2I9bi5pc0Z1bmN0aW9uKGIpP2IoKTpudWxsPT1iPyIiOmIsZFtkLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGEpKyI9IitlbmNvZGVVUklDb21wb25lbnQoYil9O2lmKHZvaWQgMD09PWImJihiPW4uYWpheFNldHRpbmdzJiZuLmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCksbi5pc0FycmF5KGEpfHxhLmpxdWVyeSYmIW4uaXNQbGFpbk9iamVjdChhKSluLmVhY2goYSxmdW5jdGlvbigpe2UodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IoYyBpbiBhKUJjKGMsYVtjXSxiLGUpO3JldHVybiBkLmpvaW4oIiYiKS5yZXBsYWNlKHdjLCIrIil9LG4uZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPW4ucHJvcCh0aGlzLCJlbGVtZW50cyIpO3JldHVybiBhP24ubWFrZUFycmF5KGEpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgYT10aGlzLnR5cGU7cmV0dXJuIHRoaXMubmFtZSYmIW4odGhpcykuaXMoIjpkaXNhYmxlZCIpJiZBYy50ZXN0KHRoaXMubm9kZU5hbWUpJiYhemMudGVzdChhKSYmKHRoaXMuY2hlY2tlZHx8IVQudGVzdChhKSl9KS5tYXAoZnVuY3Rpb24oYSxiKXt2YXIgYz1uKHRoaXMpLnZhbCgpO3JldHVybiBudWxsPT1jP251bGw6bi5pc0FycmF5KGMpP24ubWFwKGMsZnVuY3Rpb24oYSl7cmV0dXJue25hbWU6Yi5uYW1lLHZhbHVlOmEucmVwbGFjZSh5YywiXHJcbiIpfX0pOntuYW1lOmIubmFtZSx2YWx1ZTpjLnJlcGxhY2UoeWMsIlxyXG4iKX19KS5nZXQoKX19KSxuLmFqYXhTZXR0aW5ncy54aHI9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdH1jYXRjaChhKXt9fTt2YXIgQ2M9MCxEYz17fSxFYz17MDoyMDAsMTIyMzoyMDR9LEZjPW4uYWpheFNldHRpbmdzLnhocigpO2EuQWN0aXZlWE9iamVjdCYmbihhKS5vbigidW5sb2FkIixmdW5jdGlvbigpe2Zvcih2YXIgYSBpbiBEYylEY1thXSgpfSksay5jb3JzPSEhRmMmJiJ3aXRoQ3JlZGVudGlhbHMiaW4gRmMsay5hamF4PUZjPSEhRmMsbi5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiBrLmNvcnN8fEZjJiYhYS5jcm9zc0RvbWFpbj97c2VuZDpmdW5jdGlvbihjLGQpe3ZhciBlLGY9YS54aHIoKSxnPSsrQ2M7aWYoZi5vcGVuKGEudHlwZSxhLnVybCxhLmFzeW5jLGEudXNlcm5hbWUsYS5wYXNzd29yZCksYS54aHJGaWVsZHMpZm9yKGUgaW4gYS54aHJGaWVsZHMpZltlXT1hLnhockZpZWxkc1tlXTthLm1pbWVUeXBlJiZmLm92ZXJyaWRlTWltZVR5cGUmJmYub3ZlcnJpZGVNaW1lVHlwZShhLm1pbWVUeXBlKSxhLmNyb3NzRG9tYWlufHxjWyJYLVJlcXVlc3RlZC1XaXRoIl18fChjWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0Iik7Zm9yKGUgaW4gYylmLnNldFJlcXVlc3RIZWFkZXIoZSxjW2VdKTtiPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe2ImJihkZWxldGUgRGNbZ10sYj1mLm9ubG9hZD1mLm9uZXJyb3I9bnVsbCwiYWJvcnQiPT09YT9mLmFib3J0KCk6ImVycm9yIj09PWE/ZChmLnN0YXR1cyxmLnN0YXR1c1RleHQpOmQoRWNbZi5zdGF0dXNdfHxmLnN0YXR1cyxmLnN0YXR1c1RleHQsInN0cmluZyI9PXR5cGVvZiBmLnJlc3BvbnNlVGV4dD97dGV4dDpmLnJlc3BvbnNlVGV4dH06dm9pZCAwLGYuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKX19LGYub25sb2FkPWIoKSxmLm9uZXJyb3I9YigiZXJyb3IiKSxiPURjW2ddPWIoImFib3J0Iik7dHJ5e2Yuc2VuZChhLmhhc0NvbnRlbnQmJmEuZGF0YXx8bnVsbCl9Y2F0Y2goaCl7aWYoYil0aHJvdyBofX0sYWJvcnQ6ZnVuY3Rpb24oKXtiJiZiKCl9fTp2b2lkIDB9KSxuLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6Lyg/OmphdmF8ZWNtYSlzY3JpcHQvfSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKGEpe3JldHVybiBuLmdsb2JhbEV2YWwoYSksYX19fSksbi5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEuY2FjaGUmJihhLmNhY2hlPSExKSxhLmNyb3NzRG9tYWluJiYoYS50eXBlPSJHRVQiKX0pLG4uYWpheFRyYW5zcG9ydCgic2NyaXB0IixmdW5jdGlvbihhKXtpZihhLmNyb3NzRG9tYWluKXt2YXIgYixjO3JldHVybntzZW5kOmZ1bmN0aW9uKGQsZSl7Yj1uKCI8c2NyaXB0PiIpLnByb3Aoe2FzeW5jOiEwLGNoYXJzZXQ6YS5zY3JpcHRDaGFyc2V0LHNyYzphLnVybH0pLm9uKCJsb2FkIGVycm9yIixjPWZ1bmN0aW9uKGEpe2IucmVtb3ZlKCksYz1udWxsLGEmJmUoImVycm9yIj09PWEudHlwZT80MDQ6MjAwLGEudHlwZSl9KSxsLmhlYWQuYXBwZW5kQ2hpbGQoYlswXSl9LGFib3J0OmZ1bmN0aW9uKCl7YyYmYygpfX19fSk7dmFyIEdjPVtdLEhjPS8oPSlcPyg/PSZ8JCl8XD9cPy87bi5hamF4U2V0dXAoe2pzb25wOiJjYWxsYmFjayIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3ZhciBhPUdjLnBvcCgpfHxuLmV4cGFuZG8rIl8iK2NjKys7cmV0dXJuIHRoaXNbYV09ITAsYX19KSxuLmFqYXhQcmVmaWx0ZXIoImpzb24ganNvbnAiLGZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmLGcsaD1iLmpzb25wIT09ITEmJihIYy50ZXN0KGIudXJsKT8idXJsIjoic3RyaW5nIj09dHlwZW9mIGIuZGF0YSYmIShiLmNvbnRlbnRUeXBlfHwiIikuaW5kZXhPZigiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIikmJkhjLnRlc3QoYi5kYXRhKSYmImRhdGEiKTtyZXR1cm4gaHx8Impzb25wIj09PWIuZGF0YVR5cGVzWzBdPyhlPWIuanNvbnBDYWxsYmFjaz1uLmlzRnVuY3Rpb24oYi5qc29ucENhbGxiYWNrKT9iLmpzb25wQ2FsbGJhY2soKTpiLmpzb25wQ2FsbGJhY2ssaD9iW2hdPWJbaF0ucmVwbGFjZShIYywiJDEiK2UpOmIuanNvbnAhPT0hMSYmKGIudXJsKz0oZGMudGVzdChiLnVybCk/IiYiOiI/IikrYi5qc29ucCsiPSIrZSksYi5jb252ZXJ0ZXJzWyJzY3JpcHQganNvbiJdPWZ1bmN0aW9uKCl7cmV0dXJuIGd8fG4uZXJyb3IoZSsiIHdhcyBub3QgY2FsbGVkIiksZ1swXX0sYi5kYXRhVHlwZXNbMF09Impzb24iLGY9YVtlXSxhW2VdPWZ1bmN0aW9uKCl7Zz1hcmd1bWVudHN9LGQuYWx3YXlzKGZ1bmN0aW9uKCl7YVtlXT1mLGJbZV0mJihiLmpzb25wQ2FsbGJhY2s9Yy5qc29ucENhbGxiYWNrLEdjLnB1c2goZSkpLGcmJm4uaXNGdW5jdGlvbihmKSYmZihnWzBdKSxnPWY9dm9pZCAwfSksInNjcmlwdCIpOnZvaWQgMH0pLG4ucGFyc2VIVE1MPWZ1bmN0aW9uKGEsYixjKXtpZighYXx8InN0cmluZyIhPXR5cGVvZiBhKXJldHVybiBudWxsOyJib29sZWFuIj09dHlwZW9mIGImJihjPWIsYj0hMSksYj1ifHxsO3ZhciBkPXYuZXhlYyhhKSxlPSFjJiZbXTtyZXR1cm4gZD9bYi5jcmVhdGVFbGVtZW50KGRbMV0pXTooZD1uLmJ1aWxkRnJhZ21lbnQoW2FdLGIsZSksZSYmZS5sZW5ndGgmJm4oZSkucmVtb3ZlKCksbi5tZXJnZShbXSxkLmNoaWxkTm9kZXMpKX07dmFyIEljPW4uZm4ubG9hZDtuLmZuLmxvYWQ9ZnVuY3Rpb24oYSxiLGMpe2lmKCJzdHJpbmciIT10eXBlb2YgYSYmSWMpcmV0dXJuIEljLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZCxlLGYsZz10aGlzLGg9YS5pbmRleE9mKCIgIik7cmV0dXJuIGg+PTAmJihkPW4udHJpbShhLnNsaWNlKGgpKSxhPWEuc2xpY2UoMCxoKSksbi5pc0Z1bmN0aW9uKGIpPyhjPWIsYj12b2lkIDApOmImJiJvYmplY3QiPT10eXBlb2YgYiYmKGU9IlBPU1QiKSxnLmxlbmd0aD4wJiZuLmFqYXgoe3VybDphLHR5cGU6ZSxkYXRhVHlwZToiaHRtbCIsZGF0YTpifSkuZG9uZShmdW5jdGlvbihhKXtmPWFyZ3VtZW50cyxnLmh0bWwoZD9uKCI8ZGl2PiIpLmFwcGVuZChuLnBhcnNlSFRNTChhKSkuZmluZChkKTphKX0pLmNvbXBsZXRlKGMmJmZ1bmN0aW9uKGEsYil7Zy5lYWNoKGMsZnx8W2EucmVzcG9uc2VUZXh0LGIsYV0pfSksdGhpc30sbi5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZ3JlcChuLnRpbWVycyxmdW5jdGlvbihiKXtyZXR1cm4gYT09PWIuZWxlbX0pLmxlbmd0aH07dmFyIEpjPWEuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O24ub2Zmc2V0PXtzZXRPZmZzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGs9bi5jc3MoYSwicG9zaXRpb24iKSxsPW4oYSksbT17fTsic3RhdGljIj09PWsmJihhLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIpLGg9bC5vZmZzZXQoKSxmPW4uY3NzKGEsInRvcCIpLGk9bi5jc3MoYSwibGVmdCIpLGo9KCJhYnNvbHV0ZSI9PT1rfHwiZml4ZWQiPT09aykmJihmK2kpLmluZGV4T2YoImF1dG8iKT4tMSxqPyhkPWwucG9zaXRpb24oKSxnPWQudG9wLGU9ZC5sZWZ0KTooZz1wYXJzZUZsb2F0KGYpfHwwLGU9cGFyc2VGbG9hdChpKXx8MCksbi5pc0Z1bmN0aW9uKGIpJiYoYj1iLmNhbGwoYSxjLGgpKSxudWxsIT1iLnRvcCYmKG0udG9wPWIudG9wLWgudG9wK2cpLG51bGwhPWIubGVmdCYmKG0ubGVmdD1iLmxlZnQtaC5sZWZ0K2UpLCJ1c2luZyJpbiBiP2IudXNpbmcuY2FsbChhLG0pOmwuY3NzKG0pfX0sbi5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbihhKXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT1hP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24ub2Zmc2V0LnNldE9mZnNldCh0aGlzLGEsYil9KTt2YXIgYixjLGQ9dGhpc1swXSxlPXt0b3A6MCxsZWZ0OjB9LGY9ZCYmZC5vd25lckRvY3VtZW50O3JldHVybiBmPyhiPWYuZG9jdW1lbnRFbGVtZW50LG4uY29udGFpbnMoYixkKT8odHlwZW9mIGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0IT09VSYmKGU9ZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksYz1LYyhmKSx7dG9wOmUudG9wK2MucGFnZVlPZmZzZXQtYi5jbGllbnRUb3AsbGVmdDplLmxlZnQrYy5wYWdlWE9mZnNldC1iLmNsaWVudExlZnR9KTplKTp2b2lkIDB9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGEsYixjPXRoaXNbMF0sZD17dG9wOjAsbGVmdDowfTtyZXR1cm4iZml4ZWQiPT09bi5jc3MoYywicG9zaXRpb24iKT9iPWMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6KGE9dGhpcy5vZmZzZXRQYXJlbnQoKSxiPXRoaXMub2Zmc2V0KCksbi5ub2RlTmFtZShhWzBdLCJodG1sIil8fChkPWEub2Zmc2V0KCkpLGQudG9wKz1uLmNzcyhhWzBdLCJib3JkZXJUb3BXaWR0aCIsITApLGQubGVmdCs9bi5jc3MoYVswXSwiYm9yZGVyTGVmdFdpZHRoIiwhMCkpLHt0b3A6Yi50b3AtZC50b3Atbi5jc3MoYywibWFyZ2luVG9wIiwhMCksbGVmdDpiLmxlZnQtZC5sZWZ0LW4uY3NzKGMsIm1hcmdpbkxlZnQiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5vZmZzZXRQYXJlbnR8fEpjO2EmJiFuLm5vZGVOYW1lKGEsImh0bWwiKSYmInN0YXRpYyI9PT1uLmNzcyhhLCJwb3NpdGlvbiIpOylhPWEub2Zmc2V0UGFyZW50O3JldHVybiBhfHxKY30pfX0pLG4uZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihiLGMpe3ZhciBkPSJwYWdlWU9mZnNldCI9PT1jO24uZm5bYl09ZnVuY3Rpb24oZSl7cmV0dXJuIEoodGhpcyxmdW5jdGlvbihiLGUsZil7dmFyIGc9S2MoYik7cmV0dXJuIHZvaWQgMD09PWY/Zz9nW2NdOmJbZV06dm9pZChnP2cuc2Nyb2xsVG8oZD9hLnBhZ2VYT2Zmc2V0OmYsZD9mOmEucGFnZVlPZmZzZXQpOmJbZV09Zil9LGIsZSxhcmd1bWVudHMubGVuZ3RoLG51bGwpfX0pLG4uZWFjaChbInRvcCIsImxlZnQiXSxmdW5jdGlvbihhLGIpe24uY3NzSG9va3NbYl09eWIoay5waXhlbFBvc2l0aW9uLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGM/KGM9eGIoYSxiKSx2Yi50ZXN0KGMpP24oYSkucG9zaXRpb24oKVtiXSsicHgiOmMpOnZvaWQgMH0pfSksbi5lYWNoKHtIZWlnaHQ6ImhlaWdodCIsV2lkdGg6IndpZHRoIn0sZnVuY3Rpb24oYSxiKXtuLmVhY2goe3BhZGRpbmc6ImlubmVyIithLGNvbnRlbnQ6YiwiIjoib3V0ZXIiK2F9LGZ1bmN0aW9uKGMsZCl7bi5mbltkXT1mdW5jdGlvbihkLGUpe3ZhciBmPWFyZ3VtZW50cy5sZW5ndGgmJihjfHwiYm9vbGVhbiIhPXR5cGVvZiBkKSxnPWN8fChkPT09ITB8fGU9PT0hMD8ibWFyZ2luIjoiYm9yZGVyIik7cmV0dXJuIEoodGhpcyxmdW5jdGlvbihiLGMsZCl7dmFyIGU7cmV0dXJuIG4uaXNXaW5kb3coYik/Yi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrYV06OT09PWIubm9kZVR5cGU/KGU9Yi5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgoYi5ib2R5WyJzY3JvbGwiK2FdLGVbInNjcm9sbCIrYV0sYi5ib2R5WyJvZmZzZXQiK2FdLGVbIm9mZnNldCIrYV0sZVsiY2xpZW50IithXSkpOnZvaWQgMD09PWQ/bi5jc3MoYixjLGcpOm4uc3R5bGUoYixjLGQsZyl9LGIsZj9kOnZvaWQgMCxmLG51bGwpfX0pfSksbi5mbi5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RofSxuLmZuLmFuZFNlbGY9bi5mbi5hZGRCYWNrLCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZSgianF1ZXJ5IixbXSxmdW5jdGlvbigpe3JldHVybiBufSk7dmFyIExjPWEualF1ZXJ5LE1jPWEuJDtyZXR1cm4gbi5ub0NvbmZsaWN0PWZ1bmN0aW9uKGIpe3JldHVybiBhLiQ9PT1uJiYoYS4kPU1jKSxiJiZhLmpRdWVyeT09PW4mJihhLmpRdWVyeT1MYyksbn0sdHlwZW9mIGI9PT1VJiYoYS5qUXVlcnk9YS4kPW4pLG59KSxmdW5jdGlvbigpe2Z1bmN0aW9uIG8oZSl7dmFyIGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcigiIixlLHQpfSxzPXQ7ZSYmKHRbZV18fCh0W2VdPXt9KSxzPXRbZV0pLHMuZGVmaW5lJiZzLmRlZmluZS5wYWNrYWdlZHx8KG4ub3JpZ2luYWw9cy5kZWZpbmUscy5kZWZpbmU9bixzLmRlZmluZS5wYWNrYWdlZD0hMCkscy5yZXF1aXJlJiZzLnJlcXVpcmUucGFja2FnZWR8fChyLm9yaWdpbmFsPXMucmVxdWlyZSxzLnJlcXVpcmU9aSxzLnJlcXVpcmUucGFja2FnZWQ9ITApfXZhciBlPSIiLHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTtpZihlfHwidW5kZWZpbmVkIj09dHlwZW9mIHJlcXVpcmVqcyl7dmFyIG49ZnVuY3Rpb24oZSx0LHIpe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT92b2lkKG4ub3JpZ2luYWw/bi5vcmlnaW5hbC5hcHBseSh3aW5kb3csYXJndW1lbnRzKTooY29uc29sZS5lcnJvcigiZHJvcHBpbmcgbW9kdWxlIGJlY2F1c2UgZGVmaW5lIHdhc24ndCBhIHN0cmluZy4iKSxjb25zb2xlLnRyYWNlKCkpKTooMj09YXJndW1lbnRzLmxlbmd0aCYmKHI9dCksbi5tb2R1bGVzfHwobi5tb2R1bGVzPXt9LG4ucGF5bG9hZHM9e30pLG4ucGF5bG9hZHNbZV09cixuLm1vZHVsZXNbZV09bnVsbCx2b2lkIDApfSxyPWZ1bmN0aW9uKGUsdCxuKXtpZigiW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXtmb3IodmFyIGk9W10sbz0wLHU9dC5sZW5ndGg7dT5vOysrbyl7dmFyIGE9cyhlLHRbb10pO2lmKCFhJiZyLm9yaWdpbmFsKXJldHVybiByLm9yaWdpbmFsLmFwcGx5KHdpbmRvdyxhcmd1bWVudHMpO2kucHVzaChhKX1uJiZuLmFwcGx5KG51bGwsaSl9ZWxzZXtpZigic3RyaW5nIj09dHlwZW9mIHQpe3ZhciBmPXMoZSx0KTtyZXR1cm4hZiYmci5vcmlnaW5hbD9yLm9yaWdpbmFsLmFwcGx5KHdpbmRvdyxhcmd1bWVudHMpOihuJiZuKCksZil9aWYoci5vcmlnaW5hbClyZXR1cm4gci5vcmlnaW5hbC5hcHBseSh3aW5kb3csYXJndW1lbnRzKX19LGk9ZnVuY3Rpb24oZSx0KXtpZigtMSE9PXQuaW5kZXhPZigiISIpKXt2YXIgbj10LnNwbGl0KCIhIik7cmV0dXJuIGkoZSxuWzBdKSsiISIraShlLG5bMV0pfWlmKCIuIj09dC5jaGFyQXQoMCkpe3ZhciByPWUuc3BsaXQoIi8iKS5zbGljZSgwLC0xKS5qb2luKCIvIik7Zm9yKHQ9cisiLyIrdDstMSE9PXQuaW5kZXhPZigiLiIpJiZzIT10Oyl7dmFyIHM9dDt0PXQucmVwbGFjZSgvXC9cLlwvLywiLyIpLnJlcGxhY2UoL1teXC9dK1wvXC5cLlwvLywiIil9fXJldHVybiB0fSxzPWZ1bmN0aW9uKGUsdCl7dD1pKGUsdCk7dmFyIHM9bi5tb2R1bGVzW3RdO2lmKCFzKXtpZihzPW4ucGF5bG9hZHNbdF0sImZ1bmN0aW9uIj09dHlwZW9mIHMpe3ZhciBvPXt9LHU9e2lkOnQsdXJpOiIiLGV4cG9ydHM6byxwYWNrYWdlZDohMH0sYT1mdW5jdGlvbihlLG4pe3JldHVybiByKHQsZSxuKX0sZj1zKGEsbyx1KTtvPWZ8fHUuZXhwb3J0cyxuLm1vZHVsZXNbdF09byxkZWxldGUgbi5wYXlsb2Fkc1t0XX1zPW4ubW9kdWxlc1t0XT1vfHxzfXJldHVybiBzfTtvKGUpfX0oKSxkZWZpbmUoImFjZS9hY2UiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL2ZpeG9sZGJyb3dzZXJzIiwiYWNlL2xpYi9kb20iLCJhY2UvbGliL2V2ZW50IiwiYWNlL2VkaXRvciIsImFjZS9lZGl0X3Nlc3Npb24iLCJhY2UvdW5kb21hbmFnZXIiLCJhY2UvdmlydHVhbF9yZW5kZXJlciIsImFjZS9tdWx0aV9zZWxlY3QiLCJhY2Uvd29ya2VyL3dvcmtlcl9jbGllbnQiLCJhY2Uva2V5Ym9hcmQvaGFzaF9oYW5kbGVyIiwiYWNlL3BsYWNlaG9sZGVyIiwiYWNlL21vZGUvZm9sZGluZy9mb2xkX21vZGUiLCJhY2UvdGhlbWUvdGV4dG1hdGUiLCJhY2UvZXh0L2Vycm9yX21hcmtlciIsImFjZS9jb25maWciXSxmdW5jdGlvbihlLHQpe2UoIi4vbGliL2ZpeG9sZGJyb3dzZXJzIik7dmFyIHI9ZSgiLi9saWIvZG9tIiksaT1lKCIuL2xpYi9ldmVudCIpLHM9ZSgiLi9lZGl0b3IiKS5FZGl0b3Isbz1lKCIuL2VkaXRfc2Vzc2lvbiIpLkVkaXRTZXNzaW9uLHU9ZSgiLi91bmRvbWFuYWdlciIpLlVuZG9NYW5hZ2VyLGE9ZSgiLi92aXJ0dWFsX3JlbmRlcmVyIikuVmlydHVhbFJlbmRlcmVyLGY9ZSgiLi9tdWx0aV9zZWxlY3QiKS5NdWx0aVNlbGVjdDtlKCIuL3dvcmtlci93b3JrZXJfY2xpZW50IiksZSgiLi9rZXlib2FyZC9oYXNoX2hhbmRsZXIiKSxlKCIuL3BsYWNlaG9sZGVyIiksZSgiLi9tb2RlL2ZvbGRpbmcvZm9sZF9tb2RlIiksZSgiLi90aGVtZS90ZXh0bWF0ZSIpLGUoIi4vZXh0L2Vycm9yX21hcmtlciIpLHQuY29uZmlnPWUoIi4vY29uZmlnIiksdC5yZXF1aXJlPWUsdC5lZGl0PWZ1bmN0aW9uKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSl7dmFyIG49ZSxlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG4pO2lmKCFlKXRocm93IG5ldyBFcnJvcigiYWNlLmVkaXQgY2FuJ3QgZmluZCBkaXYgIyIrbil9aWYoZS5lbnYmJmUuZW52LmVkaXRvciBpbnN0YW5jZW9mIHMpcmV0dXJuIGUuZW52LmVkaXRvcjt2YXIgbz10LmNyZWF0ZUVkaXRTZXNzaW9uKHIuZ2V0SW5uZXJUZXh0KGUpKTtlLmlubmVySFRNTD0iIjt2YXIgdT1uZXcgcyhuZXcgYShlKSk7bmV3IGYodSksdS5zZXRTZXNzaW9uKG8pO3ZhciBsPXtkb2N1bWVudDpvLGVkaXRvcjp1LG9uUmVzaXplOnUucmVzaXplLmJpbmQodSxudWxsKX07cmV0dXJuIGkuYWRkTGlzdGVuZXIod2luZG93LCJyZXNpemUiLGwub25SZXNpemUpLHUub24oImRlc3Ryb3kiLGZ1bmN0aW9uKCl7aS5yZW1vdmVMaXN0ZW5lcih3aW5kb3csInJlc2l6ZSIsbC5vblJlc2l6ZSl9KSxlLmVudj11LmVudj1sLHV9LHQuY3JlYXRlRWRpdFNlc3Npb249ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgbyhlLHQpO3JldHVybiBuLnNldFVuZG9NYW5hZ2VyKG5ldyB1KSxufSx0LkVkaXRTZXNzaW9uPW8sdC5VbmRvTWFuYWdlcj11fSksZGVmaW5lKCJhY2UvbW9kZS9iZWhhdmlvdXIiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiXSxmdW5jdGlvbihlLHQpe3ZhciByPWZ1bmN0aW9uKCl7dGhpcy4kYmVoYXZpb3Vycz17fX07KGZ1bmN0aW9uKCl7dGhpcy5hZGQ9ZnVuY3Rpb24oZSx0LG4pe3N3aXRjaCh2b2lkIDApe2Nhc2UgdGhpcy4kYmVoYXZpb3Vyczp0aGlzLiRiZWhhdmlvdXJzPXt9O2Nhc2UgdGhpcy4kYmVoYXZpb3Vyc1tlXTp0aGlzLiRiZWhhdmlvdXJzW2VdPXt9fXRoaXMuJGJlaGF2aW91cnNbZV1bdF09bn0sdGhpcy5hZGRCZWhhdmlvdXJzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKWZvcih2YXIgbiBpbiBlW3RdKXRoaXMuYWRkKHQsbixlW3RdW25dKX0sdGhpcy5yZW1vdmU9ZnVuY3Rpb24oZSl7dGhpcy4kYmVoYXZpb3VycyYmdGhpcy4kYmVoYXZpb3Vyc1tlXSYmZGVsZXRlIHRoaXMuJGJlaGF2aW91cnNbZV19LHRoaXMuaW5oZXJpdD1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlKXZhciBuPShuZXcgZSkuZ2V0QmVoYXZpb3Vycyh0KTtlbHNlIHZhciBuPWUuZ2V0QmVoYXZpb3Vycyh0KTt0aGlzLmFkZEJlaGF2aW91cnMobil9LHRoaXMuZ2V0QmVoYXZpb3Vycz1mdW5jdGlvbihlKXtpZighZSlyZXR1cm4gdGhpcy4kYmVoYXZpb3Vycztmb3IodmFyIHQ9e30sbj0wO248ZS5sZW5ndGg7bisrKXRoaXMuJGJlaGF2aW91cnNbZVtuXV0mJih0W2Vbbl1dPXRoaXMuJGJlaGF2aW91cnNbZVtuXV0pO3JldHVybiB0fX0pLmNhbGwoci5wcm90b3R5cGUpLHQuQmVoYXZpb3VyPXJ9KSxkZWZpbmUoImFjZS91bmljb2RlIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKGUpe3ZhciBuPS9cd3s0fS9nO2Zvcih2YXIgciBpbiBlKXQucGFja2FnZXNbcl09ZVtyXS5yZXBsYWNlKG4sIlxcdSQmIil9dC5wYWNrYWdlcz17fSxyKHtMOiIwMDQxLTAwNUEwMDYxLTAwN0EwMEFBMDBCNTAwQkEwMEMwLTAwRDYwMEQ4LTAwRjYwMEY4LTAyQzEwMkM2LTAyRDEwMkUwLTAyRTQwMkVDMDJFRTAzNzAtMDM3NDAzNzYwMzc3MDM3QS0wMzdEMDM4NjAzODgtMDM4QTAzOEMwMzhFLTAzQTEwM0EzLTAzRjUwM0Y3LTA0ODEwNDhBLTA1MjUwNTMxLTA1NTYwNTU5MDU2MS0wNTg3MDVEMC0wNUVBMDVGMC0wNUYyMDYyMS0wNjRBMDY2RTA2NkYwNjcxLTA2RDMwNkQ1MDZFNTA2RTYwNkVFMDZFRjA2RkEtMDZGQzA2RkYwNzEwMDcxMi0wNzJGMDc0RC0wN0E1MDdCMTA3Q0EtMDdFQTA3RjQwN0Y1MDdGQTA4MDAtMDgxNTA4MUEwODI0MDgyODA5MDQtMDkzOTA5M0QwOTUwMDk1OC0wOTYxMDk3MTA5NzIwOTc5LTA5N0YwOTg1LTA5OEMwOThGMDk5MDA5OTMtMDlBODA5QUEtMDlCMDA5QjIwOUI2LTA5QjkwOUJEMDlDRTA5REMwOUREMDlERi0wOUUxMDlGMDA5RjEwQTA1LTBBMEEwQTBGMEExMDBBMTMtMEEyODBBMkEtMEEzMDBBMzIwQTMzMEEzNTBBMzYwQTM4MEEzOTBBNTktMEE1QzBBNUUwQTcyLTBBNzQwQTg1LTBBOEQwQThGLTBBOTEwQTkzLTBBQTgwQUFBLTBBQjAwQUIyMEFCMzBBQjUtMEFCOTBBQkQwQUQwMEFFMDBBRTEwQjA1LTBCMEMwQjBGMEIxMDBCMTMtMEIyODBCMkEtMEIzMDBCMzIwQjMzMEIzNS0wQjM5MEIzRDBCNUMwQjVEMEI1Ri0wQjYxMEI3MTBCODMwQjg1LTBCOEEwQjhFLTBCOTAwQjkyLTBCOTUwQjk5MEI5QTBCOUMwQjlFMEI5RjBCQTMwQkE0MEJBOC0wQkFBMEJBRS0wQkI5MEJEMDBDMDUtMEMwQzBDMEUtMEMxMDBDMTItMEMyODBDMkEtMEMzMzBDMzUtMEMzOTBDM0QwQzU4MEM1OTBDNjAwQzYxMEM4NS0wQzhDMEM4RS0wQzkwMEM5Mi0wQ0E4MENBQS0wQ0IzMENCNS0wQ0I5MENCRDBDREUwQ0UwMENFMTBEMDUtMEQwQzBEMEUtMEQxMDBEMTItMEQyODBEMkEtMEQzOTBEM0QwRDYwMEQ2MTBEN0EtMEQ3RjBEODUtMEQ5NjBEOUEtMERCMTBEQjMtMERCQjBEQkQwREMwLTBEQzYwRTAxLTBFMzAwRTMyMEUzMzBFNDAtMEU0NjBFODEwRTgyMEU4NDBFODcwRTg4MEU4QTBFOEQwRTk0LTBFOTcwRTk5LTBFOUYwRUExLTBFQTMwRUE1MEVBNzBFQUEwRUFCMEVBRC0wRUIwMEVCMjBFQjMwRUJEMEVDMC0wRUM0MEVDNjBFREMwRUREMEYwMDBGNDAtMEY0NzBGNDktMEY2QzBGODgtMEY4QjEwMDAtMTAyQTEwM0YxMDUwLTEwNTUxMDVBLTEwNUQxMDYxMTA2NTEwNjYxMDZFLTEwNzAxMDc1LTEwODExMDhFMTBBMC0xMEM1MTBEMC0xMEZBMTBGQzExMDAtMTI0ODEyNEEtMTI0RDEyNTAtMTI1NjEyNTgxMjVBLTEyNUQxMjYwLTEyODgxMjhBLTEyOEQxMjkwLTEyQjAxMkIyLTEyQjUxMkI4LTEyQkUxMkMwMTJDMi0xMkM1MTJDOC0xMkQ2MTJEOC0xMzEwMTMxMi0xMzE1MTMxOC0xMzVBMTM4MC0xMzhGMTNBMC0xM0Y0MTQwMS0xNjZDMTY2Ri0xNjdGMTY4MS0xNjlBMTZBMC0xNkVBMTcwMC0xNzBDMTcwRS0xNzExMTcyMC0xNzMxMTc0MC0xNzUxMTc2MC0xNzZDMTc2RS0xNzcwMTc4MC0xN0IzMTdENzE3REMxODIwLTE4NzcxODgwLTE4QTgxOEFBMThCMC0xOEY1MTkwMC0xOTFDMTk1MC0xOTZEMTk3MC0xOTc0MTk4MC0xOUFCMTlDMS0xOUM3MUEwMC0xQTE2MUEyMC0xQTU0MUFBNzFCMDUtMUIzMzFCNDUtMUI0QjFCODMtMUJBMDFCQUUxQkFGMUMwMC0xQzIzMUM0RC0xQzRGMUM1QS0xQzdEMUNFOS0xQ0VDMUNFRS0xQ0YxMUQwMC0xREJGMUUwMC0xRjE1MUYxOC0xRjFEMUYyMC0xRjQ1MUY0OC0xRjREMUY1MC0xRjU3MUY1OTFGNUIxRjVEMUY1Ri0xRjdEMUY4MC0xRkI0MUZCNi0xRkJDMUZCRTFGQzItMUZDNDFGQzYtMUZDQzFGRDAtMUZEMzFGRDYtMUZEQjFGRTAtMUZFQzFGRjItMUZGNDFGRjYtMUZGQzIwNzEyMDdGMjA5MC0yMDk0MjEwMjIxMDcyMTBBLTIxMTMyMTE1MjExOS0yMTFEMjEyNDIxMjYyMTI4MjEyQS0yMTJEMjEyRi0yMTM5MjEzQy0yMTNGMjE0NS0yMTQ5MjE0RTIxODMyMTg0MkMwMC0yQzJFMkMzMC0yQzVFMkM2MC0yQ0U0MkNFQi0yQ0VFMkQwMC0yRDI1MkQzMC0yRDY1MkQ2RjJEODAtMkQ5NjJEQTAtMkRBNjJEQTgtMkRBRTJEQjAtMkRCNjJEQjgtMkRCRTJEQzAtMkRDNjJEQzgtMkRDRTJERDAtMkRENjJERDgtMkRERTJFMkYzMDA1MzAwNjMwMzEtMzAzNTMwM0IzMDNDMzA0MS0zMDk2MzA5RC0zMDlGMzBBMS0zMEZBMzBGQy0zMEZGMzEwNS0zMTJEMzEzMS0zMThFMzFBMC0zMUI3MzFGMC0zMUZGMzQwMC00REI1NEUwMC05RkNCQTAwMC1BNDhDQTREMC1BNEZEQTUwMC1BNjBDQTYxMC1BNjFGQTYyQUE2MkJBNjQwLUE2NUZBNjYyLUE2NkVBNjdGLUE2OTdBNkEwLUE2RTVBNzE3LUE3MUZBNzIyLUE3ODhBNzhCQTc4Q0E3RkItQTgwMUE4MDMtQTgwNUE4MDctQTgwQUE4MEMtQTgyMkE4NDAtQTg3M0E4ODItQThCM0E4RjItQThGN0E4RkJBOTBBLUE5MjVBOTMwLUE5NDZBOTYwLUE5N0NBOTg0LUE5QjJBOUNGQUEwMC1BQTI4QUE0MC1BQTQyQUE0NC1BQTRCQUE2MC1BQTc2QUE3QUFBODAtQUFBRkFBQjFBQUI1QUFCNkFBQjktQUFCREFBQzBBQUMyQUFEQi1BQUREQUJDMC1BQkUyQUMwMC1EN0EzRDdCMC1EN0M2RDdDQi1EN0ZCRjkwMC1GQTJERkEzMC1GQTZERkE3MC1GQUQ5RkIwMC1GQjA2RkIxMy1GQjE3RkIxREZCMUYtRkIyOEZCMkEtRkIzNkZCMzgtRkIzQ0ZCM0VGQjQwRkI0MUZCNDNGQjQ0RkI0Ni1GQkIxRkJEMy1GRDNERkQ1MC1GRDhGRkQ5Mi1GREM3RkRGMC1GREZCRkU3MC1GRTc0RkU3Ni1GRUZDRkYyMS1GRjNBRkY0MS1GRjVBRkY2Ni1GRkJFRkZDMi1GRkM3RkZDQS1GRkNGRkZEMi1GRkQ3RkZEQS1GRkRDIixMbDoiMDA2MS0wMDdBMDBBQTAwQjUwMEJBMDBERi0wMEY2MDBGOC0wMEZGMDEwMTAxMDMwMTA1MDEwNzAxMDkwMTBCMDEwRDAxMEYwMTExMDExMzAxMTUwMTE3MDExOTAxMUIwMTFEMDExRjAxMjEwMTIzMDEyNTAxMjcwMTI5MDEyQjAxMkQwMTJGMDEzMTAxMzMwMTM1MDEzNzAxMzgwMTNBMDEzQzAxM0UwMTQwMDE0MjAxNDQwMTQ2MDE0ODAxNDkwMTRCMDE0RDAxNEYwMTUxMDE1MzAxNTUwMTU3MDE1OTAxNUIwMTVEMDE1RjAxNjEwMTYzMDE2NTAxNjcwMTY5MDE2QjAxNkQwMTZGMDE3MTAxNzMwMTc1MDE3NzAxN0EwMTdDMDE3RS0wMTgwMDE4MzAxODUwMTg4MDE4QzAxOEQwMTkyMDE5NTAxOTktMDE5QjAxOUUwMUExMDFBMzAxQTUwMUE4MDFBQTAxQUIwMUFEMDFCMDAxQjQwMUI2MDFCOTAxQkEwMUJELTAxQkYwMUM2MDFDOTAxQ0MwMUNFMDFEMDAxRDIwMUQ0MDFENjAxRDgwMURBMDFEQzAxREQwMURGMDFFMTAxRTMwMUU1MDFFNzAxRTkwMUVCMDFFRDAxRUYwMUYwMDFGMzAxRjUwMUY5MDFGQjAxRkQwMUZGMDIwMTAyMDMwMjA1MDIwNzAyMDkwMjBCMDIwRDAyMEYwMjExMDIxMzAyMTUwMjE3MDIxOTAyMUIwMjFEMDIxRjAyMjEwMjIzMDIyNTAyMjcwMjI5MDIyQjAyMkQwMjJGMDIzMTAyMzMtMDIzOTAyM0MwMjNGMDI0MDAyNDIwMjQ3MDI0OTAyNEIwMjREMDI0Ri0wMjkzMDI5NS0wMkFGMDM3MTAzNzMwMzc3MDM3Qi0wMzdEMDM5MDAzQUMtMDNDRTAzRDAwM0QxMDNENS0wM0Q3MDNEOTAzREIwM0REMDNERjAzRTEwM0UzMDNFNTAzRTcwM0U5MDNFQjAzRUQwM0VGLTAzRjMwM0Y1MDNGODAzRkIwM0ZDMDQzMC0wNDVGMDQ2MTA0NjMwNDY1MDQ2NzA0NjkwNDZCMDQ2RDA0NkYwNDcxMDQ3MzA0NzUwNDc3MDQ3OTA0N0IwNDdEMDQ3RjA0ODEwNDhCMDQ4RDA0OEYwNDkxMDQ5MzA0OTUwNDk3MDQ5OTA0OUIwNDlEMDQ5RjA0QTEwNEEzMDRBNTA0QTcwNEE5MDRBQjA0QUQwNEFGMDRCMTA0QjMwNEI1MDRCNzA0QjkwNEJCMDRCRDA0QkYwNEMyMDRDNDA0QzYwNEM4MDRDQTA0Q0MwNENFMDRDRjA0RDEwNEQzMDRENTA0RDcwNEQ5MDREQjA0REQwNERGMDRFMTA0RTMwNEU1MDRFNzA0RTkwNEVCMDRFRDA0RUYwNEYxMDRGMzA0RjUwNEY3MDRGOTA0RkIwNEZEMDRGRjA1MDEwNTAzMDUwNTA1MDcwNTA5MDUwQjA1MEQwNTBGMDUxMTA1MTMwNTE1MDUxNzA1MTkwNTFCMDUxRDA1MUYwNTIxMDUyMzA1MjUwNTYxLTA1ODcxRDAwLTFEMkIxRDYyLTFENzcxRDc5LTFEOUExRTAxMUUwMzFFMDUxRTA3MUUwOTFFMEIxRTBEMUUwRjFFMTExRTEzMUUxNTFFMTcxRTE5MUUxQjFFMUQxRTFGMUUyMTFFMjMxRTI1MUUyNzFFMjkxRTJCMUUyRDFFMkYxRTMxMUUzMzFFMzUxRTM3MUUzOTFFM0IxRTNEMUUzRjFFNDExRTQzMUU0NTFFNDcxRTQ5MUU0QjFFNEQxRTRGMUU1MTFFNTMxRTU1MUU1NzFFNTkxRTVCMUU1RDFFNUYxRTYxMUU2MzFFNjUxRTY3MUU2OTFFNkIxRTZEMUU2RjFFNzExRTczMUU3NTFFNzcxRTc5MUU3QjFFN0QxRTdGMUU4MTFFODMxRTg1MUU4NzFFODkxRThCMUU4RDFFOEYxRTkxMUU5MzFFOTUtMUU5RDFFOUYxRUExMUVBMzFFQTUxRUE3MUVBOTFFQUIxRUFEMUVBRjFFQjExRUIzMUVCNTFFQjcxRUI5MUVCQjFFQkQxRUJGMUVDMTFFQzMxRUM1MUVDNzFFQzkxRUNCMUVDRDFFQ0YxRUQxMUVEMzFFRDUxRUQ3MUVEOTFFREIxRUREMUVERjFFRTExRUUzMUVFNTFFRTcxRUU5MUVFQjFFRUQxRUVGMUVGMTFFRjMxRUY1MUVGNzFFRjkxRUZCMUVGRDFFRkYtMUYwNzFGMTAtMUYxNTFGMjAtMUYyNzFGMzAtMUYzNzFGNDAtMUY0NTFGNTAtMUY1NzFGNjAtMUY2NzFGNzAtMUY3RDFGODAtMUY4NzFGOTAtMUY5NzFGQTAtMUZBNzFGQjAtMUZCNDFGQjYxRkI3MUZCRTFGQzItMUZDNDFGQzYxRkM3MUZEMC0xRkQzMUZENjFGRDcxRkUwLTFGRTcxRkYyLTFGRjQxRkY2MUZGNzIxMEEyMTBFMjEwRjIxMTMyMTJGMjEzNDIxMzkyMTNDMjEzRDIxNDYtMjE0OTIxNEUyMTg0MkMzMC0yQzVFMkM2MTJDNjUyQzY2MkM2ODJDNkEyQzZDMkM3MTJDNzMyQzc0MkM3Ni0yQzdDMkM4MTJDODMyQzg1MkM4NzJDODkyQzhCMkM4RDJDOEYyQzkxMkM5MzJDOTUyQzk3MkM5OTJDOUIyQzlEMkM5RjJDQTEyQ0EzMkNBNTJDQTcyQ0E5MkNBQjJDQUQyQ0FGMkNCMTJDQjMyQ0I1MkNCNzJDQjkyQ0JCMkNCRDJDQkYyQ0MxMkNDMzJDQzUyQ0M3MkNDOTJDQ0IyQ0NEMkNDRjJDRDEyQ0QzMkNENTJDRDcyQ0Q5MkNEQjJDREQyQ0RGMkNFMTJDRTMyQ0U0MkNFQzJDRUUyRDAwLTJEMjVBNjQxQTY0M0E2NDVBNjQ3QTY0OUE2NEJBNjREQTY0RkE2NTFBNjUzQTY1NUE2NTdBNjU5QTY1QkE2NURBNjVGQTY2M0E2NjVBNjY3QTY2OUE2NkJBNjZEQTY4MUE2ODNBNjg1QTY4N0E2ODlBNjhCQTY4REE2OEZBNjkxQTY5M0E2OTVBNjk3QTcyM0E3MjVBNzI3QTcyOUE3MkJBNzJEQTcyRi1BNzMxQTczM0E3MzVBNzM3QTczOUE3M0JBNzNEQTczRkE3NDFBNzQzQTc0NUE3NDdBNzQ5QTc0QkE3NERBNzRGQTc1MUE3NTNBNzU1QTc1N0E3NTlBNzVCQTc1REE3NUZBNzYxQTc2M0E3NjVBNzY3QTc2OUE3NkJBNzZEQTc2RkE3NzEtQTc3OEE3N0FBNzdDQTc3RkE3ODFBNzgzQTc4NUE3ODdBNzhDRkIwMC1GQjA2RkIxMy1GQjE3RkY0MS1GRjVBIixMdToiMDA0MS0wMDVBMDBDMC0wMEQ2MDBEOC0wMERFMDEwMDAxMDIwMTA0MDEwNjAxMDgwMTBBMDEwQzAxMEUwMTEwMDExMjAxMTQwMTE2MDExODAxMUEwMTFDMDExRTAxMjAwMTIyMDEyNDAxMjYwMTI4MDEyQTAxMkMwMTJFMDEzMDAxMzIwMTM0MDEzNjAxMzkwMTNCMDEzRDAxM0YwMTQxMDE0MzAxNDUwMTQ3MDE0QTAxNEMwMTRFMDE1MDAxNTIwMTU0MDE1NjAxNTgwMTVBMDE1QzAxNUUwMTYwMDE2MjAxNjQwMTY2MDE2ODAxNkEwMTZDMDE2RTAxNzAwMTcyMDE3NDAxNzYwMTc4MDE3OTAxN0IwMTdEMDE4MTAxODIwMTg0MDE4NjAxODcwMTg5LTAxOEIwMThFLTAxOTEwMTkzMDE5NDAxOTYtMDE5ODAxOUMwMTlEMDE5RjAxQTAwMUEyMDFBNDAxQTYwMUE3MDFBOTAxQUMwMUFFMDFBRjAxQjEtMDFCMzAxQjUwMUI3MDFCODAxQkMwMUM0MDFDNzAxQ0EwMUNEMDFDRjAxRDEwMUQzMDFENTAxRDcwMUQ5MDFEQjAxREUwMUUwMDFFMjAxRTQwMUU2MDFFODAxRUEwMUVDMDFFRTAxRjEwMUY0MDFGNi0wMUY4MDFGQTAxRkMwMUZFMDIwMDAyMDIwMjA0MDIwNjAyMDgwMjBBMDIwQzAyMEUwMjEwMDIxMjAyMTQwMjE2MDIxODAyMUEwMjFDMDIxRTAyMjAwMjIyMDIyNDAyMjYwMjI4MDIyQTAyMkMwMjJFMDIzMDAyMzIwMjNBMDIzQjAyM0QwMjNFMDI0MTAyNDMtMDI0NjAyNDgwMjRBMDI0QzAyNEUwMzcwMDM3MjAzNzYwMzg2MDM4OC0wMzhBMDM4QzAzOEUwMzhGMDM5MS0wM0ExMDNBMy0wM0FCMDNDRjAzRDItMDNENDAzRDgwM0RBMDNEQzAzREUwM0UwMDNFMjAzRTQwM0U2MDNFODAzRUEwM0VDMDNFRTAzRjQwM0Y3MDNGOTAzRkEwM0ZELTA0MkYwNDYwMDQ2MjA0NjQwNDY2MDQ2ODA0NkEwNDZDMDQ2RTA0NzAwNDcyMDQ3NDA0NzYwNDc4MDQ3QTA0N0MwNDdFMDQ4MDA0OEEwNDhDMDQ4RTA0OTAwNDkyMDQ5NDA0OTYwNDk4MDQ5QTA0OUMwNDlFMDRBMDA0QTIwNEE0MDRBNjA0QTgwNEFBMDRBQzA0QUUwNEIwMDRCMjA0QjQwNEI2MDRCODA0QkEwNEJDMDRCRTA0QzAwNEMxMDRDMzA0QzUwNEM3MDRDOTA0Q0IwNENEMDREMDA0RDIwNEQ0MDRENjA0RDgwNERBMDREQzA0REUwNEUwMDRFMjA0RTQwNEU2MDRFODA0RUEwNEVDMDRFRTA0RjAwNEYyMDRGNDA0RjYwNEY4MDRGQTA0RkMwNEZFMDUwMDA1MDIwNTA0MDUwNjA1MDgwNTBBMDUwQzA1MEUwNTEwMDUxMjA1MTQwNTE2MDUxODA1MUEwNTFDMDUxRTA1MjAwNTIyMDUyNDA1MzEtMDU1NjEwQTAtMTBDNTFFMDAxRTAyMUUwNDFFMDYxRTA4MUUwQTFFMEMxRTBFMUUxMDFFMTIxRTE0MUUxNjFFMTgxRTFBMUUxQzFFMUUxRTIwMUUyMjFFMjQxRTI2MUUyODFFMkExRTJDMUUyRTFFMzAxRTMyMUUzNDFFMzYxRTM4MUUzQTFFM0MxRTNFMUU0MDFFNDIxRTQ0MUU0NjFFNDgxRTRBMUU0QzFFNEUxRTUwMUU1MjFFNTQxRTU2MUU1ODFFNUExRTVDMUU1RTFFNjAxRTYyMUU2NDFFNjYxRTY4MUU2QTFFNkMxRTZFMUU3MDFFNzIxRTc0MUU3NjFFNzgxRTdBMUU3QzFFN0UxRTgwMUU4MjFFODQxRTg2MUU4ODFFOEExRThDMUU4RTFFOTAxRTkyMUU5NDFFOUUxRUEwMUVBMjFFQTQxRUE2MUVBODFFQUExRUFDMUVBRTFFQjAxRUIyMUVCNDFFQjYxRUI4MUVCQTFFQkMxRUJFMUVDMDFFQzIxRUM0MUVDNjFFQzgxRUNBMUVDQzFFQ0UxRUQwMUVEMjFFRDQxRUQ2MUVEODFFREExRURDMUVERTFFRTAxRUUyMUVFNDFFRTYxRUU4MUVFQTFFRUMxRUVFMUVGMDFFRjIxRUY0MUVGNjFFRjgxRUZBMUVGQzFFRkUxRjA4LTFGMEYxRjE4LTFGMUQxRjI4LTFGMkYxRjM4LTFGM0YxRjQ4LTFGNEQxRjU5MUY1QjFGNUQxRjVGMUY2OC0xRjZGMUZCOC0xRkJCMUZDOC0xRkNCMUZEOC0xRkRCMUZFOC0xRkVDMUZGOC0xRkZCMjEwMjIxMDcyMTBCLTIxMEQyMTEwLTIxMTIyMTE1MjExOS0yMTFEMjEyNDIxMjYyMTI4MjEyQS0yMTJEMjEzMC0yMTMzMjEzRTIxM0YyMTQ1MjE4MzJDMDAtMkMyRTJDNjAyQzYyLTJDNjQyQzY3MkM2OTJDNkIyQzZELTJDNzAyQzcyMkM3NTJDN0UtMkM4MDJDODIyQzg0MkM4NjJDODgyQzhBMkM4QzJDOEUyQzkwMkM5MjJDOTQyQzk2MkM5ODJDOUEyQzlDMkM5RTJDQTAyQ0EyMkNBNDJDQTYyQ0E4MkNBQTJDQUMyQ0FFMkNCMDJDQjIyQ0I0MkNCNjJDQjgyQ0JBMkNCQzJDQkUyQ0MwMkNDMjJDQzQyQ0M2MkNDODJDQ0EyQ0NDMkNDRTJDRDAyQ0QyMkNENDJDRDYyQ0Q4MkNEQTJDREMyQ0RFMkNFMDJDRTIyQ0VCMkNFREE2NDBBNjQyQTY0NEE2NDZBNjQ4QTY0QUE2NENBNjRFQTY1MEE2NTJBNjU0QTY1NkE2NThBNjVBQTY1Q0E2NUVBNjYyQTY2NEE2NjZBNjY4QTY2QUE2NkNBNjgwQTY4MkE2ODRBNjg2QTY4OEE2OEFBNjhDQTY4RUE2OTBBNjkyQTY5NEE2OTZBNzIyQTcyNEE3MjZBNzI4QTcyQUE3MkNBNzJFQTczMkE3MzRBNzM2QTczOEE3M0FBNzNDQTczRUE3NDBBNzQyQTc0NEE3NDZBNzQ4QTc0QUE3NENBNzRFQTc1MEE3NTJBNzU0QTc1NkE3NThBNzVBQTc1Q0E3NUVBNzYwQTc2MkE3NjRBNzY2QTc2OEE3NkFBNzZDQTc2RUE3NzlBNzdCQTc3REE3N0VBNzgwQTc4MkE3ODRBNzg2QTc4QkZGMjEtRkYzQSIsTHQ6IjAxQzUwMUM4MDFDQjAxRjIxRjg4LTFGOEYxRjk4LTFGOUYxRkE4LTFGQUYxRkJDMUZDQzFGRkMiLExtOiIwMkIwLTAyQzEwMkM2LTAyRDEwMkUwLTAyRTQwMkVDMDJFRTAzNzQwMzdBMDU1OTA2NDAwNkU1MDZFNjA3RjQwN0Y1MDdGQTA4MUEwODI0MDgyODA5NzEwRTQ2MEVDNjEwRkMxN0Q3MTg0MzFBQTcxQzc4LTFDN0QxRDJDLTFENjExRDc4MUQ5Qi0xREJGMjA3MTIwN0YyMDkwLTIwOTQyQzdEMkQ2RjJFMkYzMDA1MzAzMS0zMDM1MzAzQjMwOUQzMDlFMzBGQy0zMEZFQTAxNUE0RjgtQTRGREE2MENBNjdGQTcxNy1BNzFGQTc3MEE3ODhBOUNGQUE3MEFBRERGRjcwRkY5RUZGOUYiLExvOiIwMUJCMDFDMC0wMUMzMDI5NDA1RDAtMDVFQTA1RjAtMDVGMjA2MjEtMDYzRjA2NDEtMDY0QTA2NkUwNjZGMDY3MS0wNkQzMDZENTA2RUUwNkVGMDZGQS0wNkZDMDZGRjA3MTAwNzEyLTA3MkYwNzRELTA3QTUwN0IxMDdDQS0wN0VBMDgwMC0wODE1MDkwNC0wOTM5MDkzRDA5NTAwOTU4LTA5NjEwOTcyMDk3OS0wOTdGMDk4NS0wOThDMDk4RjA5OTAwOTkzLTA5QTgwOUFBLTA5QjAwOUIyMDlCNi0wOUI5MDlCRDA5Q0UwOURDMDlERDA5REYtMDlFMTA5RjAwOUYxMEEwNS0wQTBBMEEwRjBBMTAwQTEzLTBBMjgwQTJBLTBBMzAwQTMyMEEzMzBBMzUwQTM2MEEzODBBMzkwQTU5LTBBNUMwQTVFMEE3Mi0wQTc0MEE4NS0wQThEMEE4Ri0wQTkxMEE5My0wQUE4MEFBQS0wQUIwMEFCMjBBQjMwQUI1LTBBQjkwQUJEMEFEMDBBRTAwQUUxMEIwNS0wQjBDMEIwRjBCMTAwQjEzLTBCMjgwQjJBLTBCMzAwQjMyMEIzMzBCMzUtMEIzOTBCM0QwQjVDMEI1RDBCNUYtMEI2MTBCNzEwQjgzMEI4NS0wQjhBMEI4RS0wQjkwMEI5Mi0wQjk1MEI5OTBCOUEwQjlDMEI5RTBCOUYwQkEzMEJBNDBCQTgtMEJBQTBCQUUtMEJCOTBCRDAwQzA1LTBDMEMwQzBFLTBDMTAwQzEyLTBDMjgwQzJBLTBDMzMwQzM1LTBDMzkwQzNEMEM1ODBDNTkwQzYwMEM2MTBDODUtMEM4QzBDOEUtMEM5MDBDOTItMENBODBDQUEtMENCMzBDQjUtMENCOTBDQkQwQ0RFMENFMDBDRTEwRDA1LTBEMEMwRDBFLTBEMTAwRDEyLTBEMjgwRDJBLTBEMzkwRDNEMEQ2MDBENjEwRDdBLTBEN0YwRDg1LTBEOTYwRDlBLTBEQjEwREIzLTBEQkIwREJEMERDMC0wREM2MEUwMS0wRTMwMEUzMjBFMzMwRTQwLTBFNDUwRTgxMEU4MjBFODQwRTg3MEU4ODBFOEEwRThEMEU5NC0wRTk3MEU5OS0wRTlGMEVBMS0wRUEzMEVBNTBFQTcwRUFBMEVBQjBFQUQtMEVCMDBFQjIwRUIzMEVCRDBFQzAtMEVDNDBFREMwRUREMEYwMDBGNDAtMEY0NzBGNDktMEY2QzBGODgtMEY4QjEwMDAtMTAyQTEwM0YxMDUwLTEwNTUxMDVBLTEwNUQxMDYxMTA2NTEwNjYxMDZFLTEwNzAxMDc1LTEwODExMDhFMTBEMC0xMEZBMTEwMC0xMjQ4MTI0QS0xMjREMTI1MC0xMjU2MTI1ODEyNUEtMTI1RDEyNjAtMTI4ODEyOEEtMTI4RDEyOTAtMTJCMDEyQjItMTJCNTEyQjgtMTJCRTEyQzAxMkMyLTEyQzUxMkM4LTEyRDYxMkQ4LTEzMTAxMzEyLTEzMTUxMzE4LTEzNUExMzgwLTEzOEYxM0EwLTEzRjQxNDAxLTE2NkMxNjZGLTE2N0YxNjgxLTE2OUExNkEwLTE2RUExNzAwLTE3MEMxNzBFLTE3MTExNzIwLTE3MzExNzQwLTE3NTExNzYwLTE3NkMxNzZFLTE3NzAxNzgwLTE3QjMxN0RDMTgyMC0xODQyMTg0NC0xODc3MTg4MC0xOEE4MThBQTE4QjAtMThGNTE5MDAtMTkxQzE5NTAtMTk2RDE5NzAtMTk3NDE5ODAtMTlBQjE5QzEtMTlDNzFBMDAtMUExNjFBMjAtMUE1NDFCMDUtMUIzMzFCNDUtMUI0QjFCODMtMUJBMDFCQUUxQkFGMUMwMC0xQzIzMUM0RC0xQzRGMUM1QS0xQzc3MUNFOS0xQ0VDMUNFRS0xQ0YxMjEzNS0yMTM4MkQzMC0yRDY1MkQ4MC0yRDk2MkRBMC0yREE2MkRBOC0yREFFMkRCMC0yREI2MkRCOC0yREJFMkRDMC0yREM2MkRDOC0yRENFMkREMC0yREQ2MkREOC0yRERFMzAwNjMwM0MzMDQxLTMwOTYzMDlGMzBBMS0zMEZBMzBGRjMxMDUtMzEyRDMxMzEtMzE4RTMxQTAtMzFCNzMxRjAtMzFGRjM0MDAtNERCNTRFMDAtOUZDQkEwMDAtQTAxNEEwMTYtQTQ4Q0E0RDAtQTRGN0E1MDAtQTYwQkE2MTAtQTYxRkE2MkFBNjJCQTY2RUE2QTAtQTZFNUE3RkItQTgwMUE4MDMtQTgwNUE4MDctQTgwQUE4MEMtQTgyMkE4NDAtQTg3M0E4ODItQThCM0E4RjItQThGN0E4RkJBOTBBLUE5MjVBOTMwLUE5NDZBOTYwLUE5N0NBOTg0LUE5QjJBQTAwLUFBMjhBQTQwLUFBNDJBQTQ0LUFBNEJBQTYwLUFBNkZBQTcxLUFBNzZBQTdBQUE4MC1BQUFGQUFCMUFBQjVBQUI2QUFCOS1BQUJEQUFDMEFBQzJBQURCQUFEQ0FCQzAtQUJFMkFDMDAtRDdBM0Q3QjAtRDdDNkQ3Q0ItRDdGQkY5MDAtRkEyREZBMzAtRkE2REZBNzAtRkFEOUZCMURGQjFGLUZCMjhGQjJBLUZCMzZGQjM4LUZCM0NGQjNFRkI0MEZCNDFGQjQzRkI0NEZCNDYtRkJCMUZCRDMtRkQzREZENTAtRkQ4RkZEOTItRkRDN0ZERjAtRkRGQkZFNzAtRkU3NEZFNzYtRkVGQ0ZGNjYtRkY2RkZGNzEtRkY5REZGQTAtRkZCRUZGQzItRkZDN0ZGQ0EtRkZDRkZGRDItRkZEN0ZGREEtRkZEQyIsTToiMDMwMC0wMzZGMDQ4My0wNDg5MDU5MS0wNUJEMDVCRjA1QzEwNUMyMDVDNDA1QzUwNUM3MDYxMC0wNjFBMDY0Qi0wNjVFMDY3MDA2RDYtMDZEQzA2REUtMDZFNDA2RTcwNkU4MDZFQS0wNkVEMDcxMTA3MzAtMDc0QTA3QTYtMDdCMDA3RUItMDdGMzA4MTYtMDgxOTA4MUItMDgyMzA4MjUtMDgyNzA4MjktMDgyRDA5MDAtMDkwMzA5M0MwOTNFLTA5NEUwOTUxLTA5NTUwOTYyMDk2MzA5ODEtMDk4MzA5QkMwOUJFLTA5QzQwOUM3MDlDODA5Q0ItMDlDRDA5RDcwOUUyMDlFMzBBMDEtMEEwMzBBM0MwQTNFLTBBNDIwQTQ3MEE0ODBBNEItMEE0RDBBNTEwQTcwMEE3MTBBNzUwQTgxLTBBODMwQUJDMEFCRS0wQUM1MEFDNy0wQUM5MEFDQi0wQUNEMEFFMjBBRTMwQjAxLTBCMDMwQjNDMEIzRS0wQjQ0MEI0NzBCNDgwQjRCLTBCNEQwQjU2MEI1NzBCNjIwQjYzMEI4MjBCQkUtMEJDMjBCQzYtMEJDODBCQ0EtMEJDRDBCRDcwQzAxLTBDMDMwQzNFLTBDNDQwQzQ2LTBDNDgwQzRBLTBDNEQwQzU1MEM1NjBDNjIwQzYzMEM4MjBDODMwQ0JDMENCRS0wQ0M0MENDNi0wQ0M4MENDQS0wQ0NEMENENTBDRDYwQ0UyMENFMzBEMDIwRDAzMEQzRS0wRDQ0MEQ0Ni0wRDQ4MEQ0QS0wRDREMEQ1NzBENjIwRDYzMEQ4MjBEODMwRENBMERDRi0wREQ0MERENjBERDgtMERERjBERjIwREYzMEUzMTBFMzQtMEUzQTBFNDctMEU0RTBFQjEwRUI0LTBFQjkwRUJCMEVCQzBFQzgtMEVDRDBGMTgwRjE5MEYzNTBGMzcwRjM5MEYzRTBGM0YwRjcxLTBGODQwRjg2MEY4NzBGOTAtMEY5NzBGOTktMEZCQzBGQzYxMDJCLTEwM0UxMDU2LTEwNTkxMDVFLTEwNjAxMDYyLTEwNjQxMDY3LTEwNkQxMDcxLTEwNzQxMDgyLTEwOEQxMDhGMTA5QS0xMDlEMTM1RjE3MTItMTcxNDE3MzItMTczNDE3NTIxNzUzMTc3MjE3NzMxN0I2LTE3RDMxN0REMTgwQi0xODBEMThBOTE5MjAtMTkyQjE5MzAtMTkzQjE5QjAtMTlDMDE5QzgxOUM5MUExNy0xQTFCMUE1NS0xQTVFMUE2MC0xQTdDMUE3RjFCMDAtMUIwNDFCMzQtMUI0NDFCNkItMUI3MzFCODAtMUI4MjFCQTEtMUJBQTFDMjQtMUMzNzFDRDAtMUNEMjFDRDQtMUNFODFDRUQxQ0YyMURDMC0xREU2MURGRC0xREZGMjBEMC0yMEYwMkNFRi0yQ0YxMkRFMC0yREZGMzAyQS0zMDJGMzA5OTMwOUFBNjZGLUE2NzJBNjdDQTY3REE2RjBBNkYxQTgwMkE4MDZBODBCQTgyMy1BODI3QTg4MEE4ODFBOEI0LUE4QzRBOEUwLUE4RjFBOTI2LUE5MkRBOTQ3LUE5NTNBOTgwLUE5ODNBOUIzLUE5QzBBQTI5LUFBMzZBQTQzQUE0Q0FBNERBQTdCQUFCMEFBQjItQUFCNEFBQjdBQUI4QUFCRUFBQkZBQUMxQUJFMy1BQkVBQUJFQ0FCRURGQjFFRkUwMC1GRTBGRkUyMC1GRTI2IixNbjoiMDMwMC0wMzZGMDQ4My0wNDg3MDU5MS0wNUJEMDVCRjA1QzEwNUMyMDVDNDA1QzUwNUM3MDYxMC0wNjFBMDY0Qi0wNjVFMDY3MDA2RDYtMDZEQzA2REYtMDZFNDA2RTcwNkU4MDZFQS0wNkVEMDcxMTA3MzAtMDc0QTA3QTYtMDdCMDA3RUItMDdGMzA4MTYtMDgxOTA4MUItMDgyMzA4MjUtMDgyNzA4MjktMDgyRDA5MDAtMDkwMjA5M0MwOTQxLTA5NDgwOTREMDk1MS0wOTU1MDk2MjA5NjMwOTgxMDlCQzA5QzEtMDlDNDA5Q0QwOUUyMDlFMzBBMDEwQTAyMEEzQzBBNDEwQTQyMEE0NzBBNDgwQTRCLTBBNEQwQTUxMEE3MDBBNzEwQTc1MEE4MTBBODIwQUJDMEFDMS0wQUM1MEFDNzBBQzgwQUNEMEFFMjBBRTMwQjAxMEIzQzBCM0YwQjQxLTBCNDQwQjREMEI1NjBCNjIwQjYzMEI4MjBCQzAwQkNEMEMzRS0wQzQwMEM0Ni0wQzQ4MEM0QS0wQzREMEM1NTBDNTYwQzYyMEM2MzBDQkMwQ0JGMENDNjBDQ0MwQ0NEMENFMjBDRTMwRDQxLTBENDQwRDREMEQ2MjBENjMwRENBMEREMi0wREQ0MERENjBFMzEwRTM0LTBFM0EwRTQ3LTBFNEUwRUIxMEVCNC0wRUI5MEVCQjBFQkMwRUM4LTBFQ0QwRjE4MEYxOTBGMzUwRjM3MEYzOTBGNzEtMEY3RTBGODAtMEY4NDBGODYwRjg3MEY5MC0wRjk3MEY5OS0wRkJDMEZDNjEwMkQtMTAzMDEwMzItMTAzNzEwMzkxMDNBMTAzRDEwM0UxMDU4MTA1OTEwNUUtMTA2MDEwNzEtMTA3NDEwODIxMDg1MTA4NjEwOEQxMDlEMTM1RjE3MTItMTcxNDE3MzItMTczNDE3NTIxNzUzMTc3MjE3NzMxN0I3LTE3QkQxN0M2MTdDOS0xN0QzMTdERDE4MEItMTgwRDE4QTkxOTIwLTE5MjIxOTI3MTkyODE5MzIxOTM5LTE5M0IxQTE3MUExODFBNTYxQTU4LTFBNUUxQTYwMUE2MjFBNjUtMUE2QzFBNzMtMUE3QzFBN0YxQjAwLTFCMDMxQjM0MUIzNi0xQjNBMUIzQzFCNDIxQjZCLTFCNzMxQjgwMUI4MTFCQTItMUJBNTFCQTgxQkE5MUMyQy0xQzMzMUMzNjFDMzcxQ0QwLTFDRDIxQ0Q0LTFDRTAxQ0UyLTFDRTgxQ0VEMURDMC0xREU2MURGRC0xREZGMjBEMC0yMERDMjBFMTIwRTUtMjBGMDJDRUYtMkNGMTJERTAtMkRGRjMwMkEtMzAyRjMwOTkzMDlBQTY2RkE2N0NBNjdEQTZGMEE2RjFBODAyQTgwNkE4MEJBODI1QTgyNkE4QzRBOEUwLUE4RjFBOTI2LUE5MkRBOTQ3LUE5NTFBOTgwLUE5ODJBOUIzQTlCNi1BOUI5QTlCQ0FBMjktQUEyRUFBMzFBQTMyQUEzNUFBMzZBQTQzQUE0Q0FBQjBBQUIyLUFBQjRBQUI3QUFCOEFBQkVBQUJGQUFDMUFCRTVBQkU4QUJFREZCMUVGRTAwLUZFMEZGRTIwLUZFMjYiLE1jOiIwOTAzMDkzRS0wOTQwMDk0OS0wOTRDMDk0RTA5ODIwOTgzMDlCRS0wOUMwMDlDNzA5QzgwOUNCMDlDQzA5RDcwQTAzMEEzRS0wQTQwMEE4MzBBQkUtMEFDMDBBQzkwQUNCMEFDQzBCMDIwQjAzMEIzRTBCNDAwQjQ3MEI0ODBCNEIwQjRDMEI1NzBCQkUwQkJGMEJDMTBCQzIwQkM2LTBCQzgwQkNBLTBCQ0MwQkQ3MEMwMS0wQzAzMEM0MS0wQzQ0MEM4MjBDODMwQ0JFMENDMC0wQ0M0MENDNzBDQzgwQ0NBMENDQjBDRDUwQ0Q2MEQwMjBEMDMwRDNFLTBENDAwRDQ2LTBENDgwRDRBLTBENEMwRDU3MEQ4MjBEODMwRENGLTBERDEwREQ4LTBEREYwREYyMERGMzBGM0UwRjNGMEY3RjEwMkIxMDJDMTAzMTEwMzgxMDNCMTAzQzEwNTYxMDU3MTA2Mi0xMDY0MTA2Ny0xMDZEMTA4MzEwODQxMDg3LTEwOEMxMDhGMTA5QS0xMDlDMTdCNjE3QkUtMTdDNTE3QzcxN0M4MTkyMy0xOTI2MTkyOS0xOTJCMTkzMDE5MzExOTMzLTE5MzgxOUIwLTE5QzAxOUM4MTlDOTFBMTktMUExQjFBNTUxQTU3MUE2MTFBNjMxQTY0MUE2RC0xQTcyMUIwNDFCMzUxQjNCMUIzRC0xQjQxMUI0MzFCNDQxQjgyMUJBMTFCQTYxQkE3MUJBQTFDMjQtMUMyQjFDMzQxQzM1MUNFMTFDRjJBODIzQTgyNEE4MjdBODgwQTg4MUE4QjQtQThDM0E5NTJBOTUzQTk4M0E5QjRBOUI1QTlCQUE5QkJBOUJELUE5QzBBQTJGQUEzMEFBMzNBQTM0QUE0REFBN0JBQkUzQUJFNEFCRTZBQkU3QUJFOUFCRUFBQkVDIixNZToiMDQ4ODA0ODkwNkRFMjBERC0yMEUwMjBFMi0yMEU0QTY3MC1BNjcyIixOOiIwMDMwLTAwMzkwMEIyMDBCMzAwQjkwMEJDLTAwQkUwNjYwLTA2NjkwNkYwLTA2RjkwN0MwLTA3QzkwOTY2LTA5NkYwOUU2LTA5RUYwOUY0LTA5RjkwQTY2LTBBNkYwQUU2LTBBRUYwQjY2LTBCNkYwQkU2LTBCRjIwQzY2LTBDNkYwQzc4LTBDN0UwQ0U2LTBDRUYwRDY2LTBENzUwRTUwLTBFNTkwRUQwLTBFRDkwRjIwLTBGMzMxMDQwLTEwNDkxMDkwLTEwOTkxMzY5LTEzN0MxNkVFLTE2RjAxN0UwLTE3RTkxN0YwLTE3RjkxODEwLTE4MTkxOTQ2LTE5NEYxOUQwLTE5REExQTgwLTFBODkxQTkwLTFBOTkxQjUwLTFCNTkxQkIwLTFCQjkxQzQwLTFDNDkxQzUwLTFDNTkyMDcwMjA3NC0yMDc5MjA4MC0yMDg5MjE1MC0yMTgyMjE4NS0yMTg5MjQ2MC0yNDlCMjRFQS0yNEZGMjc3Ni0yNzkzMkNGRDMwMDczMDIxLTMwMjkzMDM4LTMwM0EzMTkyLTMxOTUzMjIwLTMyMjkzMjUxLTMyNUYzMjgwLTMyODkzMkIxLTMyQkZBNjIwLUE2MjlBNkU2LUE2RUZBODMwLUE4MzVBOEQwLUE4RDlBOTAwLUE5MDlBOUQwLUE5RDlBQTUwLUFBNTlBQkYwLUFCRjlGRjEwLUZGMTkiLE5kOiIwMDMwLTAwMzkwNjYwLTA2NjkwNkYwLTA2RjkwN0MwLTA3QzkwOTY2LTA5NkYwOUU2LTA5RUYwQTY2LTBBNkYwQUU2LTBBRUYwQjY2LTBCNkYwQkU2LTBCRUYwQzY2LTBDNkYwQ0U2LTBDRUYwRDY2LTBENkYwRTUwLTBFNTkwRUQwLTBFRDkwRjIwLTBGMjkxMDQwLTEwNDkxMDkwLTEwOTkxN0UwLTE3RTkxODEwLTE4MTkxOTQ2LTE5NEYxOUQwLTE5REExQTgwLTFBODkxQTkwLTFBOTkxQjUwLTFCNTkxQkIwLTFCQjkxQzQwLTFDNDkxQzUwLTFDNTlBNjIwLUE2MjlBOEQwLUE4RDlBOTAwLUE5MDlBOUQwLUE5RDlBQTUwLUFBNTlBQkYwLUFCRjlGRjEwLUZGMTkiLE5sOiIxNkVFLTE2RjAyMTYwLTIxODIyMTg1LTIxODgzMDA3MzAyMS0zMDI5MzAzOC0zMDNBQTZFNi1BNkVGIixObzoiMDBCMjAwQjMwMEI5MDBCQy0wMEJFMDlGNC0wOUY5MEJGMC0wQkYyMEM3OC0wQzdFMEQ3MC0wRDc1MEYyQS0wRjMzMTM2OS0xMzdDMTdGMC0xN0Y5MjA3MDIwNzQtMjA3OTIwODAtMjA4OTIxNTAtMjE1RjIxODkyNDYwLTI0OUIyNEVBLTI0RkYyNzc2LTI3OTMyQ0ZEMzE5Mi0zMTk1MzIyMC0zMjI5MzI1MS0zMjVGMzI4MC0zMjg5MzJCMS0zMkJGQTgzMC1BODM1IixQOiIwMDIxLTAwMjMwMDI1LTAwMkEwMDJDLTAwMkYwMDNBMDAzQjAwM0YwMDQwMDA1Qi0wMDVEMDA1RjAwN0IwMDdEMDBBMTAwQUIwMEI3MDBCQjAwQkYwMzdFMDM4NzA1NUEtMDU1RjA1ODkwNThBMDVCRTA1QzAwNUMzMDVDNjA1RjMwNUY0MDYwOTA2MEEwNjBDMDYwRDA2MUIwNjFFMDYxRjA2NkEtMDY2RDA2RDQwNzAwLTA3MEQwN0Y3LTA3RjkwODMwLTA4M0UwOTY0MDk2NTA5NzAwREY0MEU0RjBFNUEwRTVCMEYwNC0wRjEyMEYzQS0wRjNEMEY4NTBGRDAtMEZENDEwNEEtMTA0RjEwRkIxMzYxLTEzNjgxNDAwMTY2RDE2NkUxNjlCMTY5QzE2RUItMTZFRDE3MzUxNzM2MTdENC0xN0Q2MTdEOC0xN0RBMTgwMC0xODBBMTk0NDE5NDUxOURFMTlERjFBMUUxQTFGMUFBMC0xQUE2MUFBOC0xQUFEMUI1QS0xQjYwMUMzQi0xQzNGMUM3RTFDN0YxQ0QzMjAxMC0yMDI3MjAzMC0yMDQzMjA0NS0yMDUxMjA1My0yMDVFMjA3RDIwN0UyMDhEMjA4RTIzMjkyMzJBMjc2OC0yNzc1MjdDNTI3QzYyN0U2LTI3RUYyOTgzLTI5OTgyOUQ4LTI5REIyOUZDMjlGRDJDRjktMkNGQzJDRkUyQ0ZGMkUwMC0yRTJFMkUzMDJFMzEzMDAxLTMwMDMzMDA4LTMwMTEzMDE0LTMwMUYzMDMwMzAzRDMwQTAzMEZCQTRGRUE0RkZBNjBELUE2MEZBNjczQTY3RUE2RjItQTZGN0E4NzQtQTg3N0E4Q0VBOENGQThGOC1BOEZBQTkyRUE5MkZBOTVGQTlDMS1BOUNEQTlERUE5REZBQTVDLUFBNUZBQURFQUFERkFCRUJGRDNFRkQzRkZFMTAtRkUxOUZFMzAtRkU1MkZFNTQtRkU2MUZFNjNGRTY4RkU2QUZFNkJGRjAxLUZGMDNGRjA1LUZGMEFGRjBDLUZGMEZGRjFBRkYxQkZGMUZGRjIwRkYzQi1GRjNERkYzRkZGNUJGRjVERkY1Ri1GRjY1IixQZDoiMDAyRDA1OEEwNUJFMTQwMDE4MDYyMDEwLTIwMTUyRTE3MkUxQTMwMUMzMDMwMzBBMEZFMzFGRTMyRkU1OEZFNjNGRjBEIixQczoiMDAyODAwNUIwMDdCMEYzQTBGM0MxNjlCMjAxQTIwMUUyMDQ1MjA3RDIwOEQyMzI5Mjc2ODI3NkEyNzZDMjc2RTI3NzAyNzcyMjc3NDI3QzUyN0U2MjdFODI3RUEyN0VDMjdFRTI5ODMyOTg1Mjk4NzI5ODkyOThCMjk4RDI5OEYyOTkxMjk5MzI5OTUyOTk3MjlEODI5REEyOUZDMkUyMjJFMjQyRTI2MkUyODMwMDgzMDBBMzAwQzMwMEUzMDEwMzAxNDMwMTYzMDE4MzAxQTMwMURGRDNFRkUxN0ZFMzVGRTM3RkUzOUZFM0JGRTNERkUzRkZFNDFGRTQzRkU0N0ZFNTlGRTVCRkU1REZGMDhGRjNCRkY1QkZGNUZGRjYyIixQZToiMDAyOTAwNUQwMDdEMEYzQjBGM0QxNjlDMjA0NjIwN0UyMDhFMjMyQTI3NjkyNzZCMjc2RDI3NkYyNzcxMjc3MzI3NzUyN0M2MjdFNzI3RTkyN0VCMjdFRDI3RUYyOTg0Mjk4NjI5ODgyOThBMjk4QzI5OEUyOTkwMjk5MjI5OTQyOTk2Mjk5ODI5RDkyOURCMjlGRDJFMjMyRTI1MkUyNzJFMjkzMDA5MzAwQjMwMEQzMDBGMzAxMTMwMTUzMDE3MzAxOTMwMUIzMDFFMzAxRkZEM0ZGRTE4RkUzNkZFMzhGRTNBRkUzQ0ZFM0VGRTQwRkU0MkZFNDRGRTQ4RkU1QUZFNUNGRTVFRkYwOUZGM0RGRjVERkY2MEZGNjMiLFBpOiIwMEFCMjAxODIwMUIyMDFDMjAxRjIwMzkyRTAyMkUwNDJFMDkyRTBDMkUxQzJFMjAiLFBmOiIwMEJCMjAxOTIwMUQyMDNBMkUwMzJFMDUyRTBBMkUwRDJFMUQyRTIxIixQYzoiMDA1RjIwM0YyMDQwMjA1NEZFMzNGRTM0RkU0RC1GRTRGRkYzRiIsUG86IjAwMjEtMDAyMzAwMjUtMDAyNzAwMkEwMDJDMDAyRTAwMkYwMDNBMDAzQjAwM0YwMDQwMDA1QzAwQTEwMEI3MDBCRjAzN0UwMzg3MDU1QS0wNTVGMDU4OTA1QzAwNUMzMDVDNjA1RjMwNUY0MDYwOTA2MEEwNjBDMDYwRDA2MUIwNjFFMDYxRjA2NkEtMDY2RDA2RDQwNzAwLTA3MEQwN0Y3LTA3RjkwODMwLTA4M0UwOTY0MDk2NTA5NzAwREY0MEU0RjBFNUEwRTVCMEYwNC0wRjEyMEY4NTBGRDAtMEZENDEwNEEtMTA0RjEwRkIxMzYxLTEzNjgxNjZEMTY2RTE2RUItMTZFRDE3MzUxNzM2MTdENC0xN0Q2MTdEOC0xN0RBMTgwMC0xODA1MTgwNy0xODBBMTk0NDE5NDUxOURFMTlERjFBMUUxQTFGMUFBMC0xQUE2MUFBOC0xQUFEMUI1QS0xQjYwMUMzQi0xQzNGMUM3RTFDN0YxQ0QzMjAxNjIwMTcyMDIwLTIwMjcyMDMwLTIwMzgyMDNCLTIwM0UyMDQxLTIwNDMyMDQ3LTIwNTEyMDUzMjA1NS0yMDVFMkNGOS0yQ0ZDMkNGRTJDRkYyRTAwMkUwMTJFMDYtMkUwODJFMEIyRTBFLTJFMTYyRTE4MkUxOTJFMUIyRTFFMkUxRjJFMkEtMkUyRTJFMzAyRTMxMzAwMS0zMDAzMzAzRDMwRkJBNEZFQTRGRkE2MEQtQTYwRkE2NzNBNjdFQTZGMi1BNkY3QTg3NC1BODc3QThDRUE4Q0ZBOEY4LUE4RkFBOTJFQTkyRkE5NUZBOUMxLUE5Q0RBOURFQTlERkFBNUMtQUE1RkFBREVBQURGQUJFQkZFMTAtRkUxNkZFMTlGRTMwRkU0NUZFNDZGRTQ5LUZFNENGRTUwLUZFNTJGRTU0LUZFNTdGRTVGLUZFNjFGRTY4RkU2QUZFNkJGRjAxLUZGMDNGRjA1LUZGMDdGRjBBRkYwQ0ZGMEVGRjBGRkYxQUZGMUJGRjFGRkYyMEZGM0NGRjYxRkY2NEZGNjUiLFM6IjAwMjQwMDJCMDAzQy0wMDNFMDA1RTAwNjAwMDdDMDA3RTAwQTItMDBBOTAwQUMwMEFFLTAwQjEwMEI0MDBCNjAwQjgwMEQ3MDBGNzAyQzItMDJDNTAyRDItMDJERjAyRTUtMDJFQjAyRUQwMkVGLTAyRkYwMzc1MDM4NDAzODUwM0Y2MDQ4MjA2MDYtMDYwODA2MEIwNjBFMDYwRjA2RTkwNkZEMDZGRTA3RjYwOUYyMDlGMzA5RkEwOUZCMEFGMTBCNzAwQkYzLTBCRkEwQzdGMENGMTBDRjIwRDc5MEUzRjBGMDEtMEYwMzBGMTMtMEYxNzBGMUEtMEYxRjBGMzQwRjM2MEYzODBGQkUtMEZDNTBGQzctMEZDQzBGQ0UwRkNGMEZENS0wRkQ4MTA5RTEwOUYxMzYwMTM5MC0xMzk5MTdEQjE5NDAxOUUwLTE5RkYxQjYxLTFCNkExQjc0LTFCN0MxRkJEMUZCRi0xRkMxMUZDRC0xRkNGMUZERC0xRkRGMUZFRC0xRkVGMUZGRDFGRkUyMDQ0MjA1MjIwN0EtMjA3QzIwOEEtMjA4QzIwQTAtMjBCODIxMDAyMTAxMjEwMy0yMTA2MjEwODIxMDkyMTE0MjExNi0yMTE4MjExRS0yMTIzMjEyNTIxMjcyMTI5MjEyRTIxM0EyMTNCMjE0MC0yMTQ0MjE0QS0yMTREMjE0RjIxOTAtMjMyODIzMkItMjNFODI0MDAtMjQyNjI0NDAtMjQ0QTI0OUMtMjRFOTI1MDAtMjZDRDI2Q0YtMjZFMTI2RTMyNkU4LTI2RkYyNzAxLTI3MDQyNzA2LTI3MDkyNzBDLTI3MjcyNzI5LTI3NEIyNzREMjc0Ri0yNzUyMjc1Ni0yNzVFMjc2MS0yNzY3Mjc5NDI3OTgtMjdBRjI3QjEtMjdCRTI3QzAtMjdDNDI3QzctMjdDQTI3Q0MyN0QwLTI3RTUyN0YwLTI5ODIyOTk5LTI5RDcyOURDLTI5RkIyOUZFLTJCNEMyQjUwLTJCNTkyQ0U1LTJDRUEyRTgwLTJFOTkyRTlCLTJFRjMyRjAwLTJGRDUyRkYwLTJGRkIzMDA0MzAxMjMwMTMzMDIwMzAzNjMwMzczMDNFMzAzRjMwOUIzMDlDMzE5MDMxOTEzMTk2LTMxOUYzMUMwLTMxRTMzMjAwLTMyMUUzMjJBLTMyNTAzMjYwLTMyN0YzMjhBLTMyQjAzMkMwLTMyRkUzMzAwLTMzRkY0REMwLTRERkZBNDkwLUE0QzZBNzAwLUE3MTZBNzIwQTcyMUE3ODlBNzhBQTgyOC1BODJCQTgzNi1BODM5QUE3Ny1BQTc5RkIyOUZERkNGREZERkU2MkZFNjQtRkU2NkZFNjlGRjA0RkYwQkZGMUMtRkYxRUZGM0VGRjQwRkY1Q0ZGNUVGRkUwLUZGRTZGRkU4LUZGRUVGRkZDRkZGRCIsU206IjAwMkIwMDNDLTAwM0UwMDdDMDA3RTAwQUMwMEIxMDBENzAwRjcwM0Y2MDYwNi0wNjA4MjA0NDIwNTIyMDdBLTIwN0MyMDhBLTIwOEMyMTQwLTIxNDQyMTRCMjE5MC0yMTk0MjE5QTIxOUIyMUEwMjFBMzIxQTYyMUFFMjFDRTIxQ0YyMUQyMjFENDIxRjQtMjJGRjIzMDgtMjMwQjIzMjAyMzIxMjM3QzIzOUItMjNCMzIzREMtMjNFMTI1QjcyNUMxMjVGOC0yNUZGMjY2RjI3QzAtMjdDNDI3QzctMjdDQTI3Q0MyN0QwLTI3RTUyN0YwLTI3RkYyOTAwLTI5ODIyOTk5LTI5RDcyOURDLTI5RkIyOUZFLTJBRkYyQjMwLTJCNDQyQjQ3LTJCNENGQjI5RkU2MkZFNjQtRkU2NkZGMEJGRjFDLUZGMUVGRjVDRkY1RUZGRTJGRkU5LUZGRUMiLFNjOiIwMDI0MDBBMi0wMEE1MDYwQjA5RjIwOUYzMDlGQjBBRjEwQkY5MEUzRjE3REIyMEEwLTIwQjhBODM4RkRGQ0ZFNjlGRjA0RkZFMEZGRTFGRkU1RkZFNiIsU2s6IjAwNUUwMDYwMDBBODAwQUYwMEI0MDBCODAyQzItMDJDNTAyRDItMDJERjAyRTUtMDJFQjAyRUQwMkVGLTAyRkYwMzc1MDM4NDAzODUxRkJEMUZCRi0xRkMxMUZDRC0xRkNGMUZERC0xRkRGMUZFRC0xRkVGMUZGRDFGRkUzMDlCMzA5Q0E3MDAtQTcxNkE3MjBBNzIxQTc4OUE3OEFGRjNFRkY0MEZGRTMiLFNvOiIwMEE2MDBBNzAwQTkwMEFFMDBCMDAwQjYwNDgyMDYwRTA2MEYwNkU5MDZGRDA2RkUwN0Y2MDlGQTBCNzAwQkYzLTBCRjgwQkZBMEM3RjBDRjEwQ0YyMEQ3OTBGMDEtMEYwMzBGMTMtMEYxNzBGMUEtMEYxRjBGMzQwRjM2MEYzODBGQkUtMEZDNTBGQzctMEZDQzBGQ0UwRkNGMEZENS0wRkQ4MTA5RTEwOUYxMzYwMTM5MC0xMzk5MTk0MDE5RTAtMTlGRjFCNjEtMUI2QTFCNzQtMUI3QzIxMDAyMTAxMjEwMy0yMTA2MjEwODIxMDkyMTE0MjExNi0yMTE4MjExRS0yMTIzMjEyNTIxMjcyMTI5MjEyRTIxM0EyMTNCMjE0QTIxNEMyMTREMjE0RjIxOTUtMjE5OTIxOUMtMjE5RjIxQTEyMUEyMjFBNDIxQTUyMUE3LTIxQUQyMUFGLTIxQ0QyMUQwMjFEMTIxRDMyMUQ1LTIxRjMyMzAwLTIzMDcyMzBDLTIzMUYyMzIyLTIzMjgyMzJCLTIzN0IyMzdELTIzOUEyM0I0LTIzREIyM0UyLTIzRTgyNDAwLTI0MjYyNDQwLTI0NEEyNDlDLTI0RTkyNTAwLTI1QjYyNUI4LTI1QzAyNUMyLTI1RjcyNjAwLTI2NkUyNjcwLTI2Q0QyNkNGLTI2RTEyNkUzMjZFOC0yNkZGMjcwMS0yNzA0MjcwNi0yNzA5MjcwQy0yNzI3MjcyOS0yNzRCMjc0RDI3NEYtMjc1MjI3NTYtMjc1RTI3NjEtMjc2NzI3OTQyNzk4LTI3QUYyN0IxLTI3QkUyODAwLTI4RkYyQjAwLTJCMkYyQjQ1MkI0NjJCNTAtMkI1OTJDRTUtMkNFQTJFODAtMkU5OTJFOUItMkVGMzJGMDAtMkZENTJGRjAtMkZGQjMwMDQzMDEyMzAxMzMwMjAzMDM2MzAzNzMwM0UzMDNGMzE5MDMxOTEzMTk2LTMxOUYzMUMwLTMxRTMzMjAwLTMyMUUzMjJBLTMyNTAzMjYwLTMyN0YzMjhBLTMyQjAzMkMwLTMyRkUzMzAwLTMzRkY0REMwLTRERkZBNDkwLUE0QzZBODI4LUE4MkJBODM2QTgzN0E4MzlBQTc3LUFBNzlGREZERkZFNEZGRThGRkVERkZFRUZGRkNGRkZEIixaOiIwMDIwMDBBMDE2ODAxODBFMjAwMC0yMDBBMjAyODIwMjkyMDJGMjA1RjMwMDAiLFpzOiIwMDIwMDBBMDE2ODAxODBFMjAwMC0yMDBBMjAyRjIwNUYzMDAwIixabDoiMjAyOCIsWnA6IjIwMjkiLEM6IjAwMDAtMDAxRjAwN0YtMDA5RjAwQUQwMzc4MDM3OTAzN0YtMDM4MzAzOEIwMzhEMDNBMjA1MjYtMDUzMDA1NTcwNTU4MDU2MDA1ODgwNThCLTA1OTAwNUM4LTA1Q0YwNUVCLTA1RUYwNUY1LTA2MDUwNjFDMDYxRDA2MjAwNjVGMDZERDA3MEUwNzBGMDc0QjA3NEMwN0IyLTA3QkYwN0ZCLTA3RkYwODJFMDgyRjA4M0YtMDhGRjA5M0EwOTNCMDk0RjA5NTYwOTU3MDk3My0wOTc4MDk4MDA5ODQwOThEMDk4RTA5OTEwOTkyMDlBOTA5QjEwOUIzLTA5QjUwOUJBMDlCQjA5QzUwOUM2MDlDOTA5Q0EwOUNGLTA5RDYwOUQ4LTA5REIwOURFMDlFNDA5RTUwOUZDLTBBMDAwQTA0MEEwQi0wQTBFMEExMTBBMTIwQTI5MEEzMTBBMzQwQTM3MEEzQTBBM0IwQTNEMEE0My0wQTQ2MEE0OTBBNEEwQTRFLTBBNTAwQTUyLTBBNTgwQTVEMEE1Ri0wQTY1MEE3Ni0wQTgwMEE4NDBBOEUwQTkyMEFBOTBBQjEwQUI0MEFCQTBBQkIwQUM2MEFDQTBBQ0UwQUNGMEFEMS0wQURGMEFFNDBBRTUwQUYwMEFGMi0wQjAwMEIwNDBCMEQwQjBFMEIxMTBCMTIwQjI5MEIzMTBCMzQwQjNBMEIzQjBCNDUwQjQ2MEI0OTBCNEEwQjRFLTBCNTUwQjU4LTBCNUIwQjVFMEI2NDBCNjUwQjcyLTBCODEwQjg0MEI4Qi0wQjhEMEI5MTBCOTYtMEI5ODBCOUIwQjlEMEJBMC0wQkEyMEJBNS0wQkE3MEJBQi0wQkFEMEJCQS0wQkJEMEJDMy0wQkM1MEJDOTBCQ0UwQkNGMEJEMS0wQkQ2MEJEOC0wQkU1MEJGQi0wQzAwMEMwNDBDMEQwQzExMEMyOTBDMzQwQzNBLTBDM0MwQzQ1MEM0OTBDNEUtMEM1NDBDNTcwQzVBLTBDNUYwQzY0MEM2NTBDNzAtMEM3NzBDODAwQzgxMEM4NDBDOEQwQzkxMENBOTBDQjQwQ0JBMENCQjBDQzUwQ0M5MENDRS0wQ0Q0MENENy0wQ0REMENERjBDRTQwQ0U1MENGMDBDRjMtMEQwMTBEMDQwRDBEMEQxMTBEMjkwRDNBLTBEM0MwRDQ1MEQ0OTBENEUtMEQ1NjBENTgtMEQ1RjBENjQwRDY1MEQ3Ni0wRDc4MEQ4MDBEODEwRDg0MEQ5Ny0wRDk5MERCMjBEQkMwREJFMERCRjBEQzctMERDOTBEQ0ItMERDRTBERDUwREQ3MERFMC0wREYxMERGNS0wRTAwMEUzQi0wRTNFMEU1Qy0wRTgwMEU4MzBFODUwRTg2MEU4OTBFOEIwRThDMEU4RS0wRTkzMEU5ODBFQTAwRUE0MEVBNjBFQTgwRUE5MEVBQzBFQkEwRUJFMEVCRjBFQzUwRUM3MEVDRTBFQ0YwRURBMEVEQjBFREUtMEVGRjBGNDgwRjZELTBGNzAwRjhDLTBGOEYwRjk4MEZCRDBGQ0QwRkQ5LTBGRkYxMEM2LTEwQ0YxMEZELTEwRkYxMjQ5MTI0RTEyNEYxMjU3MTI1OTEyNUUxMjVGMTI4OTEyOEUxMjhGMTJCMTEyQjYxMkI3MTJCRjEyQzExMkM2MTJDNzEyRDcxMzExMTMxNjEzMTcxMzVCLTEzNUUxMzdELTEzN0YxMzlBLTEzOUYxM0Y1LTEzRkYxNjlELTE2OUYxNkYxLTE2RkYxNzBEMTcxNS0xNzFGMTczNy0xNzNGMTc1NC0xNzVGMTc2RDE3NzExNzc0LTE3N0YxN0I0MTdCNTE3REUxN0RGMTdFQS0xN0VGMTdGQS0xN0ZGMTgwRjE4MUEtMTgxRjE4NzgtMTg3RjE4QUItMThBRjE4RjYtMThGRjE5MUQtMTkxRjE5MkMtMTkyRjE5M0MtMTkzRjE5NDEtMTk0MzE5NkUxOTZGMTk3NS0xOTdGMTlBQy0xOUFGMTlDQS0xOUNGMTlEQi0xOUREMUExQzFBMUQxQTVGMUE3RDFBN0UxQThBLTFBOEYxQTlBLTFBOUYxQUFFLTFBRkYxQjRDLTFCNEYxQjdELTFCN0YxQkFCLTFCQUQxQkJBLTFCRkYxQzM4LTFDM0ExQzRBLTFDNEMxQzgwLTFDQ0YxQ0YzLTFDRkYxREU3LTFERkMxRjE2MUYxNzFGMUUxRjFGMUY0NjFGNDcxRjRFMUY0RjFGNTgxRjVBMUY1QzFGNUUxRjdFMUY3RjFGQjUxRkM1MUZENDFGRDUxRkRDMUZGMDFGRjExRkY1MUZGRjIwMEItMjAwRjIwMkEtMjAyRTIwNjAtMjA2RjIwNzIyMDczMjA4RjIwOTUtMjA5RjIwQjktMjBDRjIwRjEtMjBGRjIxOEEtMjE4RjIzRTktMjNGRjI0MjctMjQzRjI0NEItMjQ1RjI2Q0UyNkUyMjZFNC0yNkU3MjcwMDI3MDUyNzBBMjcwQjI3MjgyNzRDMjc0RTI3NTMtMjc1NTI3NUYyNzYwMjc5NS0yNzk3MjdCMDI3QkYyN0NCMjdDRC0yN0NGMkI0RC0yQjRGMkI1QS0yQkZGMkMyRjJDNUYyQ0YyLTJDRjgyRDI2LTJEMkYyRDY2LTJENkUyRDcwLTJEN0YyRDk3LTJEOUYyREE3MkRBRjJEQjcyREJGMkRDNzJEQ0YyREQ3MkRERjJFMzItMkU3RjJFOUEyRUY0LTJFRkYyRkQ2LTJGRUYyRkZDLTJGRkYzMDQwMzA5NzMwOTgzMTAwLTMxMDQzMTJFLTMxMzAzMThGMzFCOC0zMUJGMzFFNC0zMUVGMzIxRjMyRkY0REI2LTREQkY5RkNDLTlGRkZBNDhELUE0OEZBNEM3LUE0Q0ZBNjJDLUE2M0ZBNjYwQTY2MUE2NzQtQTY3QkE2OTgtQTY5RkE2RjgtQTZGRkE3OEQtQTdGQUE4MkMtQTgyRkE4M0EtQTgzRkE4NzgtQTg3RkE4QzUtQThDREE4REEtQThERkE4RkMtQThGRkE5NTQtQTk1RUE5N0QtQTk3RkE5Q0VBOURBLUE5RERBOUUwLUE5RkZBQTM3LUFBM0ZBQTRFQUE0RkFBNUFBQTVCQUE3Qy1BQTdGQUFDMy1BQURBQUFFMC1BQkJGQUJFRUFCRUZBQkZBLUFCRkZEN0E0LUQ3QUZEN0M3LUQ3Q0FEN0ZDLUY4RkZGQTJFRkEyRkZBNkVGQTZGRkFEQS1GQUZGRkIwNy1GQjEyRkIxOC1GQjFDRkIzN0ZCM0RGQjNGRkI0MkZCNDVGQkIyLUZCRDJGRDQwLUZENEZGRDkwRkQ5MUZEQzgtRkRFRkZERkVGREZGRkUxQS1GRTFGRkUyNy1GRTJGRkU1M0ZFNjdGRTZDLUZFNkZGRTc1RkVGRC1GRjAwRkZCRi1GRkMxRkZDOEZGQzlGRkQwRkZEMUZGRDhGRkQ5RkZERC1GRkRGRkZFN0ZGRUYtRkZGQkZGRkVGRkZGIixDYzoiMDAwMC0wMDFGMDA3Ri0wMDlGIixDZjoiMDBBRDA2MDAtMDYwMzA2REQwNzBGMTdCNDE3QjUyMDBCLTIwMEYyMDJBLTIwMkUyMDYwLTIwNjQyMDZBLTIwNkZGRUZGRkZGOS1GRkZCIixDbzoiRTAwMC1GOEZGIixDczoiRDgwMC1ERkZGIixDbjoiMDM3ODAzNzkwMzdGLTAzODMwMzhCMDM4RDAzQTIwNTI2LTA1MzAwNTU3MDU1ODA1NjAwNTg4MDU4Qi0wNTkwMDVDOC0wNUNGMDVFQi0wNUVGMDVGNS0wNUZGMDYwNDA2MDUwNjFDMDYxRDA2MjAwNjVGMDcwRTA3NEIwNzRDMDdCMi0wN0JGMDdGQi0wN0ZGMDgyRTA4MkYwODNGLTA4RkYwOTNBMDkzQjA5NEYwOTU2MDk1NzA5NzMtMDk3ODA5ODAwOTg0MDk4RDA5OEUwOTkxMDk5MjA5QTkwOUIxMDlCMy0wOUI1MDlCQTA5QkIwOUM1MDlDNjA5QzkwOUNBMDlDRi0wOUQ2MDlEOC0wOURCMDlERTA5RTQwOUU1MDlGQy0wQTAwMEEwNDBBMEItMEEwRTBBMTEwQTEyMEEyOTBBMzEwQTM0MEEzNzBBM0EwQTNCMEEzRDBBNDMtMEE0NjBBNDkwQTRBMEE0RS0wQTUwMEE1Mi0wQTU4MEE1RDBBNUYtMEE2NTBBNzYtMEE4MDBBODQwQThFMEE5MjBBQTkwQUIxMEFCNDBBQkEwQUJCMEFDNjBBQ0EwQUNFMEFDRjBBRDEtMEFERjBBRTQwQUU1MEFGMDBBRjItMEIwMDBCMDQwQjBEMEIwRTBCMTEwQjEyMEIyOTBCMzEwQjM0MEIzQTBCM0IwQjQ1MEI0NjBCNDkwQjRBMEI0RS0wQjU1MEI1OC0wQjVCMEI1RTBCNjQwQjY1MEI3Mi0wQjgxMEI4NDBCOEItMEI4RDBCOTEwQjk2LTBCOTgwQjlCMEI5RDBCQTAtMEJBMjBCQTUtMEJBNzBCQUItMEJBRDBCQkEtMEJCRDBCQzMtMEJDNTBCQzkwQkNFMEJDRjBCRDEtMEJENjBCRDgtMEJFNTBCRkItMEMwMDBDMDQwQzBEMEMxMTBDMjkwQzM0MEMzQS0wQzNDMEM0NTBDNDkwQzRFLTBDNTQwQzU3MEM1QS0wQzVGMEM2NDBDNjUwQzcwLTBDNzcwQzgwMEM4MTBDODQwQzhEMEM5MTBDQTkwQ0I0MENCQTBDQkIwQ0M1MENDOTBDQ0UtMENENDBDRDctMENERDBDREYwQ0U0MENFNTBDRjAwQ0YzLTBEMDEwRDA0MEQwRDBEMTEwRDI5MEQzQS0wRDNDMEQ0NTBENDkwRDRFLTBENTYwRDU4LTBENUYwRDY0MEQ2NTBENzYtMEQ3ODBEODAwRDgxMEQ4NDBEOTctMEQ5OTBEQjIwREJDMERCRTBEQkYwREM3LTBEQzkwRENCLTBEQ0UwREQ1MERENzBERTAtMERGMTBERjUtMEUwMDBFM0ItMEUzRTBFNUMtMEU4MDBFODMwRTg1MEU4NjBFODkwRThCMEU4QzBFOEUtMEU5MzBFOTgwRUEwMEVBNDBFQTYwRUE4MEVBOTBFQUMwRUJBMEVCRTBFQkYwRUM1MEVDNzBFQ0UwRUNGMEVEQTBFREIwRURFLTBFRkYwRjQ4MEY2RC0wRjcwMEY4Qy0wRjhGMEY5ODBGQkQwRkNEMEZEOS0wRkZGMTBDNi0xMENGMTBGRC0xMEZGMTI0OTEyNEUxMjRGMTI1NzEyNTkxMjVFMTI1RjEyODkxMjhFMTI4RjEyQjExMkI2MTJCNzEyQkYxMkMxMTJDNjEyQzcxMkQ3MTMxMTEzMTYxMzE3MTM1Qi0xMzVFMTM3RC0xMzdGMTM5QS0xMzlGMTNGNS0xM0ZGMTY5RC0xNjlGMTZGMS0xNkZGMTcwRDE3MTUtMTcxRjE3MzctMTczRjE3NTQtMTc1RjE3NkQxNzcxMTc3NC0xNzdGMTdERTE3REYxN0VBLTE3RUYxN0ZBLTE3RkYxODBGMTgxQS0xODFGMTg3OC0xODdGMThBQi0xOEFGMThGNi0xOEZGMTkxRC0xOTFGMTkyQy0xOTJGMTkzQy0xOTNGMTk0MS0xOTQzMTk2RTE5NkYxOTc1LTE5N0YxOUFDLTE5QUYxOUNBLTE5Q0YxOURCLTE5REQxQTFDMUExRDFBNUYxQTdEMUE3RTFBOEEtMUE4RjFBOUEtMUE5RjFBQUUtMUFGRjFCNEMtMUI0RjFCN0QtMUI3RjFCQUItMUJBRDFCQkEtMUJGRjFDMzgtMUMzQTFDNEEtMUM0QzFDODAtMUNDRjFDRjMtMUNGRjFERTctMURGQzFGMTYxRjE3MUYxRTFGMUYxRjQ2MUY0NzFGNEUxRjRGMUY1ODFGNUExRjVDMUY1RTFGN0UxRjdGMUZCNTFGQzUxRkQ0MUZENTFGREMxRkYwMUZGMTFGRjUxRkZGMjA2NS0yMDY5MjA3MjIwNzMyMDhGMjA5NS0yMDlGMjBCOS0yMENGMjBGMS0yMEZGMjE4QS0yMThGMjNFOS0yM0ZGMjQyNy0yNDNGMjQ0Qi0yNDVGMjZDRTI2RTIyNkU0LTI2RTcyNzAwMjcwNTI3MEEyNzBCMjcyODI3NEMyNzRFMjc1My0yNzU1Mjc1RjI3NjAyNzk1LTI3OTcyN0IwMjdCRjI3Q0IyN0NELTI3Q0YyQjRELTJCNEYyQjVBLTJCRkYyQzJGMkM1RjJDRjItMkNGODJEMjYtMkQyRjJENjYtMkQ2RTJENzAtMkQ3RjJEOTctMkQ5RjJEQTcyREFGMkRCNzJEQkYyREM3MkRDRjJERDcyRERGMkUzMi0yRTdGMkU5QTJFRjQtMkVGRjJGRDYtMkZFRjJGRkMtMkZGRjMwNDAzMDk3MzA5ODMxMDAtMzEwNDMxMkUtMzEzMDMxOEYzMUI4LTMxQkYzMUU0LTMxRUYzMjFGMzJGRjREQjYtNERCRjlGQ0MtOUZGRkE0OEQtQTQ4RkE0QzctQTRDRkE2MkMtQTYzRkE2NjBBNjYxQTY3NC1BNjdCQTY5OC1BNjlGQTZGOC1BNkZGQTc4RC1BN0ZBQTgyQy1BODJGQTgzQS1BODNGQTg3OC1BODdGQThDNS1BOENEQThEQS1BOERGQThGQy1BOEZGQTk1NC1BOTVFQTk3RC1BOTdGQTlDRUE5REEtQTlEREE5RTAtQTlGRkFBMzctQUEzRkFBNEVBQTRGQUE1QUFBNUJBQTdDLUFBN0ZBQUMzLUFBREFBQUUwLUFCQkZBQkVFQUJFRkFCRkEtQUJGRkQ3QTQtRDdBRkQ3QzctRDdDQUQ3RkMtRDdGRkZBMkVGQTJGRkE2RUZBNkZGQURBLUZBRkZGQjA3LUZCMTJGQjE4LUZCMUNGQjM3RkIzREZCM0ZGQjQyRkI0NUZCQjItRkJEMkZENDAtRkQ0RkZEOTBGRDkxRkRDOC1GREVGRkRGRUZERkZGRTFBLUZFMUZGRTI3LUZFMkZGRTUzRkU2N0ZFNkMtRkU2RkZFNzVGRUZERkVGRUZGMDBGRkJGLUZGQzFGRkM4RkZDOUZGRDBGRkQxRkZEOEZGRDlGRkRELUZGREZGRkU3RkZFRi1GRkY4RkZGRUZGRkYifSkKfSksZGVmaW5lKCJhY2UvdG9rZW5faXRlcmF0b3IiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiXSxmdW5jdGlvbihlLHQpe3ZhciByPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLiRzZXNzaW9uPWUsdGhpcy4kcm93PXQsdGhpcy4kcm93VG9rZW5zPWUuZ2V0VG9rZW5zKHQpO3ZhciByPWUuZ2V0VG9rZW5BdCh0LG4pO3RoaXMuJHRva2VuSW5kZXg9cj9yLmluZGV4Oi0xfTsoZnVuY3Rpb24oKXt0aGlzLnN0ZXBCYWNrd2FyZD1mdW5jdGlvbigpe2Zvcih0aGlzLiR0b2tlbkluZGV4LT0xO3RoaXMuJHRva2VuSW5kZXg8MDspe2lmKHRoaXMuJHJvdy09MSx0aGlzLiRyb3c8MClyZXR1cm4gdGhpcy4kcm93PTAsbnVsbDt0aGlzLiRyb3dUb2tlbnM9dGhpcy4kc2Vzc2lvbi5nZXRUb2tlbnModGhpcy4kcm93KSx0aGlzLiR0b2tlbkluZGV4PXRoaXMuJHJvd1Rva2Vucy5sZW5ndGgtMX1yZXR1cm4gdGhpcy4kcm93VG9rZW5zW3RoaXMuJHRva2VuSW5kZXhdfSx0aGlzLnN0ZXBGb3J3YXJkPWZ1bmN0aW9uKCl7dGhpcy4kdG9rZW5JbmRleCs9MTtmb3IodmFyIGU7dGhpcy4kdG9rZW5JbmRleD49dGhpcy4kcm93VG9rZW5zLmxlbmd0aDspe2lmKHRoaXMuJHJvdys9MSxlfHwoZT10aGlzLiRzZXNzaW9uLmdldExlbmd0aCgpKSx0aGlzLiRyb3c+PWUpcmV0dXJuIHRoaXMuJHJvdz1lLTEsbnVsbDt0aGlzLiRyb3dUb2tlbnM9dGhpcy4kc2Vzc2lvbi5nZXRUb2tlbnModGhpcy4kcm93KSx0aGlzLiR0b2tlbkluZGV4PTB9cmV0dXJuIHRoaXMuJHJvd1Rva2Vuc1t0aGlzLiR0b2tlbkluZGV4XX0sdGhpcy5nZXRDdXJyZW50VG9rZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kcm93VG9rZW5zW3RoaXMuJHRva2VuSW5kZXhdfSx0aGlzLmdldEN1cnJlbnRUb2tlblJvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRyb3d9LHRoaXMuZ2V0Q3VycmVudFRva2VuQ29sdW1uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy4kcm93VG9rZW5zLHQ9dGhpcy4kdG9rZW5JbmRleCxuPWVbdF0uc3RhcnQ7aWYodm9pZCAwIT09bilyZXR1cm4gbjtmb3Iobj0wO3Q+MDspdC09MSxuKz1lW3RdLnZhbHVlLmxlbmd0aDtyZXR1cm4gbn19KS5jYWxsKHIucHJvdG90eXBlKSx0LlRva2VuSXRlcmF0b3I9cn0pLGRlZmluZSgiYWNlL21vZGUvdGV4dF9oaWdobGlnaHRfcnVsZXMiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL2xhbmciXSxmdW5jdGlvbihlLHQpe3ZhciByPWUoIi4uL2xpYi9sYW5nIiksaT1mdW5jdGlvbigpe3RoaXMuJHJ1bGVzPXtzdGFydDpbe3Rva2VuOiJlbXB0eV9saW5lIixyZWdleDoiXiQifSx7ZGVmYXVsdFRva2VuOiJ0ZXh0In1dfX07KGZ1bmN0aW9uKCl7dGhpcy5hZGRSdWxlcz1mdW5jdGlvbihlLHQpe2lmKHQpZm9yKHZhciBuIGluIGUpe2Zvcih2YXIgcj1lW25dLGk9MDtpPHIubGVuZ3RoO2krKyl7dmFyIHM9cltpXTtzLm5leHQmJigic3RyaW5nIiE9dHlwZW9mIHMubmV4dD9zLm5leHRTdGF0ZSYmMCE9PXMubmV4dFN0YXRlLmluZGV4T2YodCkmJihzLm5leHRTdGF0ZT10K3MubmV4dFN0YXRlKTowIT09cy5uZXh0LmluZGV4T2YodCkmJihzLm5leHQ9dCtzLm5leHQpKX10aGlzLiRydWxlc1t0K25dPXJ9ZWxzZSBmb3IodmFyIG4gaW4gZSl0aGlzLiRydWxlc1tuXT1lW25dfSx0aGlzLmdldFJ1bGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHJ1bGVzfSx0aGlzLmVtYmVkUnVsZXM9ZnVuY3Rpb24oZSx0LG4saSxzKXt2YXIgbz0iZnVuY3Rpb24iPT10eXBlb2YgZT8obmV3IGUpLmdldFJ1bGVzKCk6ZTtpZihpKWZvcih2YXIgdT0wO3U8aS5sZW5ndGg7dSsrKWlbdV09dCtpW3VdO2Vsc2V7aT1bXTtmb3IodmFyIGEgaW4gbylpLnB1c2godCthKX1pZih0aGlzLmFkZFJ1bGVzKG8sdCksbilmb3IodmFyIGY9QXJyYXkucHJvdG90eXBlW3M/InB1c2giOiJ1bnNoaWZ0Il0sdT0wO3U8aS5sZW5ndGg7dSsrKWYuYXBwbHkodGhpcy4kcnVsZXNbaVt1XV0sci5kZWVwQ29weShuKSk7dGhpcy4kZW1iZWRzfHwodGhpcy4kZW1iZWRzPVtdKSx0aGlzLiRlbWJlZHMucHVzaCh0KX0sdGhpcy5nZXRFbWJlZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZW1iZWRzfTt2YXIgZT1mdW5jdGlvbihlLHQpe3JldHVybigic3RhcnQiIT1lfHx0Lmxlbmd0aCkmJnQudW5zaGlmdCh0aGlzLm5leHRTdGF0ZSxlKSx0aGlzLm5leHRTdGF0ZX0sdD1mdW5jdGlvbihlLHQpe3JldHVybiB0LnNoaWZ0KCksdC5zaGlmdCgpfHwic3RhcnQifTt0aGlzLm5vcm1hbGl6ZVJ1bGVzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShzKXt2YXIgbz1yW3NdO28ucHJvY2Vzc2VkPSEwO2Zvcih2YXIgdT0wO3U8by5sZW5ndGg7dSsrKXt2YXIgYT1vW3VdOyFhLnJlZ2V4JiZhLnN0YXJ0JiYoYS5yZWdleD1hLnN0YXJ0LGEubmV4dHx8KGEubmV4dD1bXSksYS5uZXh0LnB1c2goe2RlZmF1bHRUb2tlbjphLnRva2VufSx7dG9rZW46YS50b2tlbisiLmVuZCIscmVnZXg6YS5lbmR8fGEuc3RhcnQsbmV4dDoicG9wIn0pLGEudG9rZW49YS50b2tlbisiLnN0YXJ0IixhLnB1c2g9ITApO3ZhciBmPWEubmV4dHx8YS5wdXNoO2lmKGYmJkFycmF5LmlzQXJyYXkoZikpe3ZhciBsPWEuc3RhdGVOYW1lO2x8fChsPWEudG9rZW4sInN0cmluZyIhPXR5cGVvZiBsJiYobD1sWzBdfHwiIikscltsXSYmKGwrPW4rKykpLHJbbF09ZixhLm5leHQ9bCxpKGwpfWVsc2UicG9wIj09ZiYmKGEubmV4dD10KTtpZihhLnB1c2gmJihhLm5leHRTdGF0ZT1hLm5leHR8fGEucHVzaCxhLm5leHQ9ZSxkZWxldGUgYS5wdXNoKSxhLnJ1bGVzKWZvcih2YXIgYyBpbiBhLnJ1bGVzKXJbY10/cltjXS5wdXNoJiZyW2NdLnB1c2guYXBwbHkocltjXSxhLnJ1bGVzW2NdKTpyW2NdPWEucnVsZXNbY107aWYoYS5pbmNsdWRlfHwic3RyaW5nIj09dHlwZW9mIGEpdmFyIGg9YS5pbmNsdWRlfHxhLHA9cltoXTtlbHNlIEFycmF5LmlzQXJyYXkoYSkmJihwPWEpO2lmKHApe3ZhciBkPVt1LDFdLmNvbmNhdChwKTthLm5vRXNjYXBlJiYoZD1kLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hZS5uZXh0fSkpLG8uc3BsaWNlLmFwcGx5KG8sZCksdS0tLHA9bnVsbH1hLmtleXdvcmRNYXAmJihhLnRva2VuPXRoaXMuY3JlYXRlS2V5d29yZE1hcHBlcihhLmtleXdvcmRNYXAsYS5kZWZhdWx0VG9rZW58fCJ0ZXh0IixhLmNhc2VJbnNlbnNpdGl2ZSksZGVsZXRlIGEuZGVmYXVsdFRva2VuKX19dmFyIG49MCxyPXRoaXMuJHJ1bGVzO09iamVjdC5rZXlzKHIpLmZvckVhY2goaSx0aGlzKX0sdGhpcy5jcmVhdGVLZXl3b3JkTWFwcGVyPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHM9ZVt0XTtuJiYocz1zLnRvTG93ZXJDYXNlKCkpO2Zvcih2YXIgbz1zLnNwbGl0KHJ8fCJ8IiksdT1vLmxlbmd0aDt1LS07KWlbb1t1XV09dH0pLE9iamVjdC5nZXRQcm90b3R5cGVPZihpKSYmKGkuX19wcm90b19fPW51bGwpLHRoaXMuJGtleXdvcmRMaXN0PU9iamVjdC5rZXlzKGkpLGU9bnVsbCxuP2Z1bmN0aW9uKGUpe3JldHVybiBpW2UudG9Mb3dlckNhc2UoKV18fHR9OmZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHx0fX0sdGhpcy5nZXRLZXl3b3Jkcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRrZXl3b3Jkc319KS5jYWxsKGkucHJvdG90eXBlKSx0LlRleHRIaWdobGlnaHRSdWxlcz1pfSksZGVmaW5lKCJhY2UvYW5jaG9yIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9vb3AiLCJhY2UvbGliL2V2ZW50X2VtaXR0ZXIiXSxmdW5jdGlvbihlLHQpe3ZhciByPWUoIi4vbGliL29vcCIpLGk9ZSgiLi9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcixzPXQuQW5jaG9yPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLiRvbkNoYW5nZT10aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyksdGhpcy5hdHRhY2goZSksInVuZGVmaW5lZCI9PXR5cGVvZiBuP3RoaXMuc2V0UG9zaXRpb24odC5yb3csdC5jb2x1bW4pOnRoaXMuc2V0UG9zaXRpb24odCxuKX07KGZ1bmN0aW9uKCl7ci5pbXBsZW1lbnQodGhpcyxpKSx0aGlzLmdldFBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQodGhpcy5yb3csdGhpcy5jb2x1bW4pfSx0aGlzLmdldERvY3VtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jdW1lbnR9LHRoaXMuJGluc2VydFJpZ2h0PSExLHRoaXMub25DaGFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kYXRhLG49dC5yYW5nZTtpZigobi5zdGFydC5yb3chPW4uZW5kLnJvd3x8bi5zdGFydC5yb3c9PXRoaXMucm93KSYmIShuLnN0YXJ0LnJvdz50aGlzLnJvd3x8bi5zdGFydC5yb3c9PXRoaXMucm93JiZuLnN0YXJ0LmNvbHVtbj50aGlzLmNvbHVtbikpe3ZhciByPXRoaXMucm93LGk9dGhpcy5jb2x1bW4scz1uLnN0YXJ0LG89bi5lbmQ7Imluc2VydFRleHQiPT09dC5hY3Rpb24/cy5yb3c9PT1yJiZzLmNvbHVtbjw9aT9zLmNvbHVtbj09PWkmJnRoaXMuJGluc2VydFJpZ2h0fHwocy5yb3c9PT1vLnJvdz9pKz1vLmNvbHVtbi1zLmNvbHVtbjooaS09cy5jb2x1bW4scis9by5yb3ctcy5yb3cpKTpzLnJvdyE9PW8ucm93JiZzLnJvdzxyJiYocis9by5yb3ctcy5yb3cpOiJpbnNlcnRMaW5lcyI9PT10LmFjdGlvbj9zLnJvdzw9ciYmKHIrPW8ucm93LXMucm93KToicmVtb3ZlVGV4dCI9PT10LmFjdGlvbj9zLnJvdz09PXImJnMuY29sdW1uPGk/aT1vLmNvbHVtbj49aT9zLmNvbHVtbjpNYXRoLm1heCgwLGktKG8uY29sdW1uLXMuY29sdW1uKSk6cy5yb3chPT1vLnJvdyYmcy5yb3c8cj8oby5yb3c9PT1yJiYoaT1NYXRoLm1heCgwLGktby5jb2x1bW4pK3MuY29sdW1uKSxyLT1vLnJvdy1zLnJvdyk6by5yb3c9PT1yJiYoci09by5yb3ctcy5yb3csaT1NYXRoLm1heCgwLGktby5jb2x1bW4pK3MuY29sdW1uKToicmVtb3ZlTGluZXMiPT10LmFjdGlvbiYmcy5yb3c8PXImJihvLnJvdzw9cj9yLT1vLnJvdy1zLnJvdzoocj1zLnJvdyxpPTApKSx0aGlzLnNldFBvc2l0aW9uKHIsaSwhMCl9fSx0aGlzLnNldFBvc2l0aW9uPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZihyPW4/e3JvdzplLGNvbHVtbjp0fTp0aGlzLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50KGUsdCksdGhpcy5yb3chPXIucm93fHx0aGlzLmNvbHVtbiE9ci5jb2x1bW4pe3ZhciBpPXtyb3c6dGhpcy5yb3csY29sdW1uOnRoaXMuY29sdW1ufTt0aGlzLnJvdz1yLnJvdyx0aGlzLmNvbHVtbj1yLmNvbHVtbix0aGlzLl9zaWduYWwoImNoYW5nZSIse29sZDppLHZhbHVlOnJ9KX19LHRoaXMuZGV0YWNoPWZ1bmN0aW9uKCl7dGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJjaGFuZ2UiLHRoaXMuJG9uQ2hhbmdlKX0sdGhpcy5hdHRhY2g9ZnVuY3Rpb24oZSl7dGhpcy5kb2N1bWVudD1lfHx0aGlzLmRvY3VtZW50LHRoaXMuZG9jdW1lbnQub24oImNoYW5nZSIsdGhpcy4kb25DaGFuZ2UpfSx0aGlzLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuIGU+PXRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCk/KG4ucm93PU1hdGgubWF4KDAsdGhpcy5kb2N1bWVudC5nZXRMZW5ndGgoKS0xKSxuLmNvbHVtbj10aGlzLmRvY3VtZW50LmdldExpbmUobi5yb3cpLmxlbmd0aCk6MD5lPyhuLnJvdz0wLG4uY29sdW1uPTApOihuLnJvdz1lLG4uY29sdW1uPU1hdGgubWluKHRoaXMuZG9jdW1lbnQuZ2V0TGluZShuLnJvdykubGVuZ3RoLE1hdGgubWF4KDAsdCkpKSwwPnQmJihuLmNvbHVtbj0wKSxufX0pLmNhbGwocy5wcm90b3R5cGUpfSksZGVmaW5lKCJhY2UvYmFja2dyb3VuZF90b2tlbml6ZXIiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL29vcCIsImFjZS9saWIvZXZlbnRfZW1pdHRlciJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSgiLi9saWIvb29wIiksaT1lKCIuL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyLHM9ZnVuY3Rpb24oZSl7dGhpcy5ydW5uaW5nPSExLHRoaXMubGluZXM9W10sdGhpcy5zdGF0ZXM9W10sdGhpcy5jdXJyZW50TGluZT0wLHRoaXMudG9rZW5pemVyPWU7dmFyIG49dGhpczt0aGlzLiR3b3JrZXI9ZnVuY3Rpb24oKXtpZihuLnJ1bm5pbmcpe2Zvcih2YXIgZT1uZXcgRGF0ZSx0PW4uY3VycmVudExpbmUscj0tMSxpPW4uZG9jO24ubGluZXNbdF07KXQrKzt2YXIgcz10LG89aS5nZXRMZW5ndGgoKSx1PTA7Zm9yKG4ucnVubmluZz0hMTtvPnQ7KXtuLiR0b2tlbml6ZVJvdyh0KSxyPXQ7ZG8gdCsrO3doaWxlKG4ubGluZXNbdF0pO2lmKHUrKyx1JTU9PTAmJm5ldyBEYXRlLWU+MjApcmV0dXJuIG4ucnVubmluZz1zZXRUaW1lb3V0KG4uJHdvcmtlciwyMCksdm9pZChuLmN1cnJlbnRMaW5lPXQpfW4uY3VycmVudExpbmU9dCxyPj1zJiZuLmZpcmVVcGRhdGVFdmVudChzLHIpfX19OyhmdW5jdGlvbigpe3IuaW1wbGVtZW50KHRoaXMsaSksdGhpcy5zZXRUb2tlbml6ZXI9ZnVuY3Rpb24oZSl7dGhpcy50b2tlbml6ZXI9ZSx0aGlzLmxpbmVzPVtdLHRoaXMuc3RhdGVzPVtdLHRoaXMuc3RhcnQoMCl9LHRoaXMuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dGhpcy5kb2M9ZSx0aGlzLmxpbmVzPVtdLHRoaXMuc3RhdGVzPVtdLHRoaXMuc3RvcCgpfSx0aGlzLmZpcmVVcGRhdGVFdmVudD1mdW5jdGlvbihlLHQpe3ZhciBuPXtmaXJzdDplLGxhc3Q6dH07dGhpcy5fc2lnbmFsKCJ1cGRhdGUiLHtkYXRhOm59KX0sdGhpcy5zdGFydD1mdW5jdGlvbihlKXt0aGlzLmN1cnJlbnRMaW5lPU1hdGgubWluKGV8fDAsdGhpcy5jdXJyZW50TGluZSx0aGlzLmRvYy5nZXRMZW5ndGgoKSksdGhpcy5saW5lcy5zcGxpY2UodGhpcy5jdXJyZW50TGluZSx0aGlzLmxpbmVzLmxlbmd0aCksdGhpcy5zdGF0ZXMuc3BsaWNlKHRoaXMuY3VycmVudExpbmUsdGhpcy5zdGF0ZXMubGVuZ3RoKSx0aGlzLnN0b3AoKSx0aGlzLnJ1bm5pbmc9c2V0VGltZW91dCh0aGlzLiR3b3JrZXIsNzAwKX0sdGhpcy5zY2hlZHVsZVN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5ydW5uaW5nfHwodGhpcy5ydW5uaW5nPXNldFRpbWVvdXQodGhpcy4kd29ya2VyLDcwMCkpfSx0aGlzLiR1cGRhdGVPbkNoYW5nZT1mdW5jdGlvbihlKXt2YXIgdD1lLnJhbmdlLG49dC5zdGFydC5yb3cscj10LmVuZC5yb3ctbjtpZigwPT09cil0aGlzLmxpbmVzW25dPW51bGw7ZWxzZSBpZigicmVtb3ZlVGV4dCI9PWUuYWN0aW9ufHwicmVtb3ZlTGluZXMiPT1lLmFjdGlvbil0aGlzLmxpbmVzLnNwbGljZShuLHIrMSxudWxsKSx0aGlzLnN0YXRlcy5zcGxpY2UobixyKzEsbnVsbCk7ZWxzZXt2YXIgaT1BcnJheShyKzEpO2kudW5zaGlmdChuLDEpLHRoaXMubGluZXMuc3BsaWNlLmFwcGx5KHRoaXMubGluZXMsaSksdGhpcy5zdGF0ZXMuc3BsaWNlLmFwcGx5KHRoaXMuc3RhdGVzLGkpfXRoaXMuY3VycmVudExpbmU9TWF0aC5taW4obix0aGlzLmN1cnJlbnRMaW5lLHRoaXMuZG9jLmdldExlbmd0aCgpKSx0aGlzLnN0b3AoKX0sdGhpcy5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5ydW5uaW5nJiZjbGVhclRpbWVvdXQodGhpcy5ydW5uaW5nKSx0aGlzLnJ1bm5pbmc9ITF9LHRoaXMuZ2V0VG9rZW5zPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmxpbmVzW2VdfHx0aGlzLiR0b2tlbml6ZVJvdyhlKX0sdGhpcy5nZXRTdGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jdXJyZW50TGluZT09ZSYmdGhpcy4kdG9rZW5pemVSb3coZSksdGhpcy5zdGF0ZXNbZV18fCJzdGFydCJ9LHRoaXMuJHRva2VuaXplUm93PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZG9jLmdldExpbmUoZSksbj10aGlzLnN0YXRlc1tlLTFdLHI9dGhpcy50b2tlbml6ZXIuZ2V0TGluZVRva2Vucyh0LG4sZSk7cmV0dXJuIHRoaXMuc3RhdGVzW2VdKyIiIT1yLnN0YXRlKyIiPyh0aGlzLnN0YXRlc1tlXT1yLnN0YXRlLHRoaXMubGluZXNbZSsxXT1udWxsLHRoaXMuY3VycmVudExpbmU+ZSsxJiYodGhpcy5jdXJyZW50TGluZT1lKzEpKTp0aGlzLmN1cnJlbnRMaW5lPT1lJiYodGhpcy5jdXJyZW50TGluZT1lKzEpLHRoaXMubGluZXNbZV09ci50b2tlbnN9fSkuY2FsbChzLnByb3RvdHlwZSksdC5CYWNrZ3JvdW5kVG9rZW5pemVyPXN9KSxkZWZpbmUoImFjZS9zZWFyY2hfaGlnaGxpZ2h0IixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9sYW5nIiwiYWNlL2xpYi9vb3AiLCJhY2UvcmFuZ2UiXSxmdW5jdGlvbihlLHQpe3ZhciByPWUoIi4vbGliL2xhbmciKSxzPShlKCIuL2xpYi9vb3AiKSxlKCIuL3JhbmdlIikuUmFuZ2UpLG89ZnVuY3Rpb24oZSx0LG4pe3RoaXMuc2V0UmVnZXhwKGUpLHRoaXMuY2xheno9dCx0aGlzLnR5cGU9bnx8InRleHQifTsoZnVuY3Rpb24oKXt0aGlzLk1BWF9SQU5HRVM9NTAwLHRoaXMuc2V0UmVnZXhwPWZ1bmN0aW9uKGUpe3RoaXMucmVnRXhwKyIiIT1lKyIiJiYodGhpcy5yZWdFeHA9ZSx0aGlzLmNhY2hlPVtdKX0sdGhpcy51cGRhdGU9ZnVuY3Rpb24oZSx0LG4saSl7aWYodGhpcy5yZWdFeHApZm9yKHZhciBvPWkuZmlyc3RSb3csdT1pLmxhc3RSb3csYT1vO3U+PWE7YSsrKXt2YXIgZj10aGlzLmNhY2hlW2FdO251bGw9PWYmJihmPXIuZ2V0TWF0Y2hPZmZzZXRzKG4uZ2V0TGluZShhKSx0aGlzLnJlZ0V4cCksZi5sZW5ndGg+dGhpcy5NQVhfUkFOR0VTJiYoZj1mLnNsaWNlKDAsdGhpcy5NQVhfUkFOR0VTKSksZj1mLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IHMoYSxlLm9mZnNldCxhLGUub2Zmc2V0K2UubGVuZ3RoKX0pLHRoaXMuY2FjaGVbYV09Zi5sZW5ndGg/ZjoiIik7Zm9yKHZhciBsPWYubGVuZ3RoO2wtLTspdC5kcmF3U2luZ2xlTGluZU1hcmtlcihlLGZbbF0udG9TY3JlZW5SYW5nZShuKSx0aGlzLmNsYXp6LGkpfX19KS5jYWxsKG8ucHJvdG90eXBlKSx0LlNlYXJjaEhpZ2hsaWdodD1vfSksZGVmaW5lKCJhY2UvZWRpdF9zZXNzaW9uL2ZvbGRpbmciLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvcmFuZ2UiLCJhY2UvZWRpdF9zZXNzaW9uL2ZvbGRfbGluZSIsImFjZS9lZGl0X3Nlc3Npb24vZm9sZCIsImFjZS90b2tlbl9pdGVyYXRvciJdLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gdSgpe3RoaXMuZ2V0Rm9sZEF0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLmdldEZvbGRMaW5lKGUpO2lmKCFyKXJldHVybiBudWxsO2Zvcih2YXIgaT1yLmZvbGRzLHM9MDtzPGkubGVuZ3RoO3MrKyl7dmFyIG89aVtzXTtpZihvLnJhbmdlLmNvbnRhaW5zKGUsdCkpe2lmKDE9PW4mJm8ucmFuZ2UuaXNFbmQoZSx0KSljb250aW51ZTtpZigtMT09biYmby5yYW5nZS5pc1N0YXJ0KGUsdCkpY29udGludWU7cmV0dXJuIG99fX0sdGhpcy5nZXRGb2xkc0luUmFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGFydCxuPWUuZW5kLHI9dGhpcy4kZm9sZERhdGEsaT1bXTt0LmNvbHVtbis9MSxuLmNvbHVtbi09MTtmb3IodmFyIHM9MDtzPHIubGVuZ3RoO3MrKyl7dmFyIG89cltzXS5yYW5nZS5jb21wYXJlUmFuZ2UoZSk7aWYoMiE9byl7aWYoLTI9PW8pYnJlYWs7Zm9yKHZhciB1PXJbc10uZm9sZHMsYT0wO2E8dS5sZW5ndGg7YSsrKXt2YXIgZj11W2FdO2lmKG89Zi5yYW5nZS5jb21wYXJlUmFuZ2UoZSksLTI9PW8pYnJlYWs7aWYoMiE9byl7aWYoNDI9PW8pYnJlYWs7aS5wdXNoKGYpfX19fXJldHVybiB0LmNvbHVtbi09MSxuLmNvbHVtbis9MSxpfSx0aGlzLmdldEZvbGRzSW5SYW5nZUxpc3Q9ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSl7dmFyIHQ9W107ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Q9dC5jb25jYXQodGhpcy5nZXRGb2xkc0luUmFuZ2UoZSkpfSx0aGlzKX1lbHNlIHZhciB0PXRoaXMuZ2V0Rm9sZHNJblJhbmdlKGUpO3JldHVybiB0fSx0aGlzLmdldEFsbEZvbGRzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9dGhpcy4kZm9sZERhdGEsbj0wO248dC5sZW5ndGg7bisrKWZvcih2YXIgcj0wO3I8dFtuXS5mb2xkcy5sZW5ndGg7cisrKWUucHVzaCh0W25dLmZvbGRzW3JdKTtyZXR1cm4gZX0sdGhpcy5nZXRGb2xkU3RyaW5nQXQ9ZnVuY3Rpb24oZSx0LG4scil7aWYocj1yfHx0aGlzLmdldEZvbGRMaW5lKGUpLCFyKXJldHVybiBudWxsO2Zvcih2YXIgcyxvLGk9e2VuZDp7Y29sdW1uOjB9fSx1PTA7dTxyLmZvbGRzLmxlbmd0aDt1Kyspe289ci5mb2xkc1t1XTt2YXIgYT1vLnJhbmdlLmNvbXBhcmVFbmQoZSx0KTtpZigtMT09YSl7cz10aGlzLmdldExpbmUoby5zdGFydC5yb3cpLnN1YnN0cmluZyhpLmVuZC5jb2x1bW4sby5zdGFydC5jb2x1bW4pO2JyZWFrfWlmKDA9PT1hKXJldHVybiBudWxsO2k9b31yZXR1cm4gc3x8KHM9dGhpcy5nZXRMaW5lKG8uc3RhcnQucm93KS5zdWJzdHJpbmcoaS5lbmQuY29sdW1uKSksLTE9PW4/cy5zdWJzdHJpbmcoMCx0LWkuZW5kLmNvbHVtbik6MT09bj9zLnN1YnN0cmluZyh0LWkuZW5kLmNvbHVtbik6c30sdGhpcy5nZXRGb2xkTGluZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuJGZvbGREYXRhLHI9MDtmb3IodCYmKHI9bi5pbmRleE9mKHQpKSwtMT09ciYmKHI9MCkscjtyPG4ubGVuZ3RoO3IrKyl7dmFyIGk9bltyXTtpZihpLnN0YXJ0LnJvdzw9ZSYmaS5lbmQucm93Pj1lKXJldHVybiBpO2lmKGkuZW5kLnJvdz5lKXJldHVybiBudWxsfXJldHVybiBudWxsfSx0aGlzLmdldE5leHRGb2xkTGluZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuJGZvbGREYXRhLHI9MDtmb3IodCYmKHI9bi5pbmRleE9mKHQpKSwtMT09ciYmKHI9MCkscjtyPG4ubGVuZ3RoO3IrKyl7dmFyIGk9bltyXTtpZihpLmVuZC5yb3c+PWUpcmV0dXJuIGl9cmV0dXJuIG51bGx9LHRoaXMuZ2V0Rm9sZGVkUm93Q291bnQ9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dGhpcy4kZm9sZERhdGEscj10LWUrMSxpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciBzPW5baV0sbz1zLmVuZC5yb3csdT1zLnN0YXJ0LnJvdztpZihvPj10KXt0PnUmJih1Pj1lP3ItPXQtdTpyPTApO2JyZWFrfW8+PWUmJihyLT11Pj1lP28tdTpvLWUrMSl9cmV0dXJuIHJ9LHRoaXMuJGFkZEZvbGRMaW5lPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLiRmb2xkRGF0YS5wdXNoKGUpLHRoaXMuJGZvbGREYXRhLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zdGFydC5yb3ctdC5zdGFydC5yb3d9KSxlfSx0aGlzLmFkZEZvbGQ9ZnVuY3Rpb24oZSx0KXt2YXIgbyxuPXRoaXMuJGZvbGREYXRhLHI9ITE7ZSBpbnN0YW5jZW9mIHM/bz1lOihvPW5ldyBzKHQsZSksby5jb2xsYXBzZUNoaWxkcmVuPXQuY29sbGFwc2VDaGlsZHJlbiksdGhpcy4kY2xpcFJhbmdlVG9Eb2N1bWVudChvLnJhbmdlKTt2YXIgdT1vLnN0YXJ0LnJvdyxhPW8uc3RhcnQuY29sdW1uLGY9by5lbmQucm93LGw9by5lbmQuY29sdW1uO2lmKGY+dXx8dT09ZiYmbC0yPj1hKXt2YXIgYz10aGlzLmdldEZvbGRBdCh1LGEsMSksaD10aGlzLmdldEZvbGRBdChmLGwsLTEpO2lmKGMmJmg9PWMpcmV0dXJuIGMuYWRkU3ViRm9sZChvKTtpZihjJiYhYy5yYW5nZS5pc1N0YXJ0KHUsYSl8fGgmJiFoLnJhbmdlLmlzRW5kKGYsbCkpdGhyb3cgbmV3IEVycm9yKCJBIGZvbGQgY2FuJ3QgaW50ZXJzZWN0IGFscmVhZHkgZXhpc3RpbmcgZm9sZCIrby5yYW5nZStjLnJhbmdlKTt2YXIgcD10aGlzLmdldEZvbGRzSW5SYW5nZShvLnJhbmdlKTtwLmxlbmd0aD4wJiYodGhpcy5yZW1vdmVGb2xkcyhwKSxwLmZvckVhY2goZnVuY3Rpb24oZSl7by5hZGRTdWJGb2xkKGUpfSkpO2Zvcih2YXIgZD0wO2Q8bi5sZW5ndGg7ZCsrKXt2YXIgdj1uW2RdO2lmKGY9PXYuc3RhcnQucm93KXt2LmFkZEZvbGQobykscj0hMDticmVha31pZih1PT12LmVuZC5yb3cpe2lmKHYuYWRkRm9sZChvKSxyPSEwLCFvLnNhbWVSb3cpe3ZhciBtPW5bZCsxXTtpZihtJiZtLnN0YXJ0LnJvdz09Zil7di5tZXJnZShtKTticmVha319YnJlYWt9aWYoZjw9di5zdGFydC5yb3cpYnJlYWt9cmV0dXJuIHJ8fCh2PXRoaXMuJGFkZEZvbGRMaW5lKG5ldyBpKHRoaXMuJGZvbGREYXRhLG8pKSksdGhpcy4kdXNlV3JhcE1vZGU/dGhpcy4kdXBkYXRlV3JhcERhdGEodi5zdGFydC5yb3csdi5zdGFydC5yb3cpOnRoaXMuJHVwZGF0ZVJvd0xlbmd0aENhY2hlKHYuc3RhcnQucm93LHYuc3RhcnQucm93KSx0aGlzLiRtb2RpZmllZD0hMCx0aGlzLl9lbWl0KCJjaGFuZ2VGb2xkIix7ZGF0YTpvLGFjdGlvbjoiYWRkIn0pLG99dGhyb3cgbmV3IEVycm9yKCJUaGUgcmFuZ2UgaGFzIHRvIGJlIGF0IGxlYXN0IDIgY2hhcmFjdGVycyB3aWR0aCIpfSx0aGlzLmFkZEZvbGRzPWZ1bmN0aW9uKGUpe2UuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLmFkZEZvbGQoZSl9LHRoaXMpfSx0aGlzLnJlbW92ZUZvbGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5mb2xkTGluZSxuPXQuc3RhcnQucm93LHI9dC5lbmQucm93LGk9dGhpcy4kZm9sZERhdGEscz10LmZvbGRzO2lmKDE9PXMubGVuZ3RoKWkuc3BsaWNlKGkuaW5kZXhPZih0KSwxKTtlbHNlIGlmKHQucmFuZ2UuaXNFbmQoZS5lbmQucm93LGUuZW5kLmNvbHVtbikpcy5wb3AoKSx0LmVuZC5yb3c9c1tzLmxlbmd0aC0xXS5lbmQucm93LHQuZW5kLmNvbHVtbj1zW3MubGVuZ3RoLTFdLmVuZC5jb2x1bW47ZWxzZSBpZih0LnJhbmdlLmlzU3RhcnQoZS5zdGFydC5yb3csZS5zdGFydC5jb2x1bW4pKXMuc2hpZnQoKSx0LnN0YXJ0LnJvdz1zWzBdLnN0YXJ0LnJvdyx0LnN0YXJ0LmNvbHVtbj1zWzBdLnN0YXJ0LmNvbHVtbjtlbHNlIGlmKGUuc2FtZVJvdylzLnNwbGljZShzLmluZGV4T2YoZSksMSk7ZWxzZXt2YXIgbz10LnNwbGl0KGUuc3RhcnQucm93LGUuc3RhcnQuY29sdW1uKTtzPW8uZm9sZHMscy5zaGlmdCgpLG8uc3RhcnQucm93PXNbMF0uc3RhcnQucm93LG8uc3RhcnQuY29sdW1uPXNbMF0uc3RhcnQuY29sdW1ufXRoaXMuJHVwZGF0aW5nfHwodGhpcy4kdXNlV3JhcE1vZGU/dGhpcy4kdXBkYXRlV3JhcERhdGEobixyKTp0aGlzLiR1cGRhdGVSb3dMZW5ndGhDYWNoZShuLHIpKSx0aGlzLiRtb2RpZmllZD0hMCx0aGlzLl9lbWl0KCJjaGFuZ2VGb2xkIix7ZGF0YTplLGFjdGlvbjoicmVtb3ZlIn0pfSx0aGlzLnJlbW92ZUZvbGRzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTA7bjxlLmxlbmd0aDtuKyspdC5wdXNoKGVbbl0pO3QuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLnJlbW92ZUZvbGQoZSl9LHRoaXMpLHRoaXMuJG1vZGlmaWVkPSEwfSx0aGlzLmV4cGFuZEZvbGQ9ZnVuY3Rpb24oZSl7dGhpcy5yZW1vdmVGb2xkKGUpLGUuc3ViRm9sZHMuZm9yRWFjaChmdW5jdGlvbih0KXtlLnJlc3RvcmVSYW5nZSh0KSx0aGlzLmFkZEZvbGQodCl9LHRoaXMpLGUuY29sbGFwc2VDaGlsZHJlbj4wJiZ0aGlzLmZvbGRBbGwoZS5zdGFydC5yb3crMSxlLmVuZC5yb3csZS5jb2xsYXBzZUNoaWxkcmVuLTEpLGUuc3ViRm9sZHM9W119LHRoaXMuZXhwYW5kRm9sZHM9ZnVuY3Rpb24oZSl7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RoaXMuZXhwYW5kRm9sZChlKX0sdGhpcyl9LHRoaXMudW5mb2xkPWZ1bmN0aW9uKGUsdCl7dmFyIG4saTtpZihudWxsPT1lPyhuPW5ldyByKDAsMCx0aGlzLmdldExlbmd0aCgpLDApLHQ9ITApOm49Im51bWJlciI9PXR5cGVvZiBlP25ldyByKGUsMCxlLHRoaXMuZ2V0TGluZShlKS5sZW5ndGgpOiJyb3ciaW4gZT9yLmZyb21Qb2ludHMoZSxlKTplLGk9dGhpcy5nZXRGb2xkc0luUmFuZ2VMaXN0KG4pLHQpdGhpcy5yZW1vdmVGb2xkcyhpKTtlbHNlIGZvcih2YXIgcz1pO3MubGVuZ3RoOyl0aGlzLmV4cGFuZEZvbGRzKHMpLHM9dGhpcy5nZXRGb2xkc0luUmFuZ2VMaXN0KG4pO3JldHVybiBpLmxlbmd0aD9pOnZvaWQgMH0sdGhpcy5pc1Jvd0ZvbGRlZD1mdW5jdGlvbihlLHQpe3JldHVybiEhdGhpcy5nZXRGb2xkTGluZShlLHQpfSx0aGlzLmdldFJvd0ZvbGRFbmQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmdldEZvbGRMaW5lKGUsdCk7cmV0dXJuIG4/bi5lbmQucm93OmV9LHRoaXMuZ2V0Um93Rm9sZFN0YXJ0PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5nZXRGb2xkTGluZShlLHQpO3JldHVybiBuP24uc3RhcnQucm93OmV9LHRoaXMuZ2V0Rm9sZERpc3BsYXlMaW5lPWZ1bmN0aW9uKGUsdCxuLHIsaSl7bnVsbD09ciYmKHI9ZS5zdGFydC5yb3csaT0wKSxudWxsPT10JiYodD1lLmVuZC5yb3csbj10aGlzLmdldExpbmUodCkubGVuZ3RoKTt2YXIgcz10aGlzLmRvYyxvPSIiO3JldHVybiBlLndhbGsoZnVuY3Rpb24oZSx0LG4sdSl7aWYoIShyPnQpKXtpZih0PT1yKXtpZihpPm4pcmV0dXJuO3U9TWF0aC5tYXgoaSx1KX1vKz1udWxsIT1lP2U6cy5nZXRMaW5lKHQpLnN1YnN0cmluZyh1LG4pfX0sdCxuKSxvfSx0aGlzLmdldERpc3BsYXlMaW5lPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXRoaXMuZ2V0Rm9sZExpbmUoZSk7aWYoIWkpe3ZhciBzO3JldHVybiBzPXRoaXMuZG9jLmdldExpbmUoZSkscy5zdWJzdHJpbmcocnx8MCx0fHxzLmxlbmd0aCl9cmV0dXJuIHRoaXMuZ2V0Rm9sZERpc3BsYXlMaW5lKGksZSx0LG4scil9LHRoaXMuJGNsb25lRm9sZERhdGE9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gZT10aGlzLiRmb2xkRGF0YS5tYXAoZnVuY3Rpb24odCl7dmFyIG49dC5mb2xkcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xvbmUoKX0pO3JldHVybiBuZXcgaShlLG4pfSl9LHRoaXMudG9nZ2xlRm9sZD1mdW5jdGlvbihlKXt2YXIgcixpLHQ9dGhpcy5zZWxlY3Rpb24sbj10LmdldFJhbmdlKCk7aWYobi5pc0VtcHR5KCkpe3ZhciBzPW4uc3RhcnQ7aWYocj10aGlzLmdldEZvbGRBdChzLnJvdyxzLmNvbHVtbikpcmV0dXJuIHZvaWQgdGhpcy5leHBhbmRGb2xkKHIpOyhpPXRoaXMuZmluZE1hdGNoaW5nQnJhY2tldChzKSk/MT09bi5jb21wYXJlUG9pbnQoaSk/bi5lbmQ9aToobi5zdGFydD1pLG4uc3RhcnQuY29sdW1uKyssbi5lbmQuY29sdW1uLS0pOihpPXRoaXMuZmluZE1hdGNoaW5nQnJhY2tldCh7cm93OnMucm93LGNvbHVtbjpzLmNvbHVtbisxfSkpPygxPT1uLmNvbXBhcmVQb2ludChpKT9uLmVuZD1pOm4uc3RhcnQ9aSxuLnN0YXJ0LmNvbHVtbisrKTpuPXRoaXMuZ2V0Q29tbWVudEZvbGRSYW5nZShzLnJvdyxzLmNvbHVtbil8fG59ZWxzZXt2YXIgbz10aGlzLmdldEZvbGRzSW5SYW5nZShuKTtpZihlJiZvLmxlbmd0aClyZXR1cm4gdm9pZCB0aGlzLmV4cGFuZEZvbGRzKG8pOzE9PW8ubGVuZ3RoJiYocj1vWzBdKX1pZihyfHwocj10aGlzLmdldEZvbGRBdChuLnN0YXJ0LnJvdyxuLnN0YXJ0LmNvbHVtbikpLHImJnIucmFuZ2UudG9TdHJpbmcoKT09bi50b1N0cmluZygpKXJldHVybiB2b2lkIHRoaXMuZXhwYW5kRm9sZChyKTt2YXIgdT0iLi4uIjtpZighbi5pc011bHRpTGluZSgpKXtpZih1PXRoaXMuZ2V0VGV4dFJhbmdlKG4pLHUubGVuZ3RoPDQpcmV0dXJuO3U9dS50cmltKCkuc3Vic3RyaW5nKDAsMikrIi4uIn10aGlzLmFkZEZvbGQodSxuKX0sdGhpcy5nZXRDb21tZW50Rm9sZFJhbmdlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uZXcgbyh0aGlzLGUsdCkscz1pLmdldEN1cnJlbnRUb2tlbigpO2lmKHMmJi9eY29tbWVudHxzdHJpbmcvLnRlc3Qocy50eXBlKSl7dmFyIHU9bmV3IHIsYT1uZXcgUmVnRXhwKHMudHlwZS5yZXBsYWNlKC9cLi4qLywiXFwuIikpO2lmKDEhPW4pe2RvIHM9aS5zdGVwQmFja3dhcmQoKTt3aGlsZShzJiZhLnRlc3Qocy50eXBlKSk7aS5zdGVwRm9yd2FyZCgpfWlmKHUuc3RhcnQucm93PWkuZ2V0Q3VycmVudFRva2VuUm93KCksdS5zdGFydC5jb2x1bW49aS5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKSsyLGk9bmV3IG8odGhpcyxlLHQpLC0xIT1uKXtkbyBzPWkuc3RlcEZvcndhcmQoKTt3aGlsZShzJiZhLnRlc3Qocy50eXBlKSk7cz1pLnN0ZXBCYWNrd2FyZCgpfWVsc2Ugcz1pLmdldEN1cnJlbnRUb2tlbigpO3JldHVybiB1LmVuZC5yb3c9aS5nZXRDdXJyZW50VG9rZW5Sb3coKSx1LmVuZC5jb2x1bW49aS5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKStzLnZhbHVlLmxlbmd0aC0yLHV9fSx0aGlzLmZvbGRBbGw9ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09biYmKG49MWU1KTt2YXIgcj10aGlzLmZvbGRXaWRnZXRzO2lmKHIpe3Q9dHx8dGhpcy5nZXRMZW5ndGgoKSxlPWV8fDA7Zm9yKHZhciBpPWU7dD5pO2krKylpZihudWxsPT1yW2ldJiYocltpXT10aGlzLmdldEZvbGRXaWRnZXQoaSkpLCJzdGFydCI9PXJbaV0pe3ZhciBzPXRoaXMuZ2V0Rm9sZFdpZGdldFJhbmdlKGkpO2lmKHMmJnMuaXNNdWx0aUxpbmUoKSYmcy5lbmQucm93PD10JiZzLnN0YXJ0LnJvdz49ZSl7aT1zLmVuZC5yb3c7dHJ5e3ZhciBvPXRoaXMuYWRkRm9sZCgiLi4uIixzKTtvJiYoby5jb2xsYXBzZUNoaWxkcmVuPW4pfWNhdGNoKHUpe319fX19LHRoaXMuJGZvbGRTdHlsZXM9e21hbnVhbDoxLG1hcmtiZWdpbjoxLG1hcmtiZWdpbmVuZDoxfSx0aGlzLiRmb2xkU3R5bGU9Im1hcmtiZWdpbiIsdGhpcy5zZXRGb2xkU3R5bGU9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuJGZvbGRTdHlsZXNbZV0pdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIGZvbGQgc3R5bGU6ICIrZSsiWyIrT2JqZWN0LmtleXModGhpcy4kZm9sZFN0eWxlcykuam9pbigiLCAiKSsiXSIpO2lmKHRoaXMuJGZvbGRTdHlsZSE9ZSl7dGhpcy4kZm9sZFN0eWxlPWUsIm1hbnVhbCI9PWUmJnRoaXMudW5mb2xkKCk7dmFyIHQ9dGhpcy4kZm9sZE1vZGU7dGhpcy4kc2V0Rm9sZGluZyhudWxsKSx0aGlzLiRzZXRGb2xkaW5nKHQpfX0sdGhpcy4kc2V0Rm9sZGluZz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy4kZm9sZE1vZGUhPWU/KHRoaXMuJGZvbGRNb2RlPWUsdGhpcy5yZW1vdmVMaXN0ZW5lcigiY2hhbmdlIix0aGlzLiR1cGRhdGVGb2xkV2lkZ2V0cyksdGhpcy5fZW1pdCgiY2hhbmdlQW5ub3RhdGlvbiIpLGUmJiJtYW51YWwiIT10aGlzLiRmb2xkU3R5bGU/KHRoaXMuZm9sZFdpZGdldHM9W10sdGhpcy5nZXRGb2xkV2lkZ2V0PWUuZ2V0Rm9sZFdpZGdldC5iaW5kKGUsdGhpcyx0aGlzLiRmb2xkU3R5bGUpLHRoaXMuZ2V0Rm9sZFdpZGdldFJhbmdlPWUuZ2V0Rm9sZFdpZGdldFJhbmdlLmJpbmQoZSx0aGlzLHRoaXMuJGZvbGRTdHlsZSksdGhpcy4kdXBkYXRlRm9sZFdpZGdldHM9dGhpcy51cGRhdGVGb2xkV2lkZ2V0cy5iaW5kKHRoaXMpLHRoaXMub24oImNoYW5nZSIsdGhpcy4kdXBkYXRlRm9sZFdpZGdldHMpLHZvaWQgMCk6dm9pZCh0aGlzLmZvbGRXaWRnZXRzPW51bGwpKTp2b2lkIDB9LHRoaXMuZ2V0UGFyZW50Rm9sZFJhbmdlRGF0YT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZm9sZFdpZGdldHM7aWYoIW58fHQmJm5bZV0pcmV0dXJue307Zm9yKHZhciBpLHI9ZS0xO3I+PTA7KXt2YXIgcz1uW3JdO2lmKG51bGw9PXMmJihzPW5bcl09dGhpcy5nZXRGb2xkV2lkZ2V0KHIpKSwic3RhcnQiPT1zKXt2YXIgbz10aGlzLmdldEZvbGRXaWRnZXRSYW5nZShyKTtpZihpfHwoaT1vKSxvJiZvLmVuZC5yb3c+PWUpYnJlYWt9ci0tfXJldHVybntyYW5nZTotMSE9PXImJm8sZmlyc3RSYW5nZTppfX0sdGhpcy5vbkZvbGRXaWRnZXRDbGljaz1mdW5jdGlvbihlLHQpe3Q9dC5kb21FdmVudDt2YXIgbj17Y2hpbGRyZW46dC5zaGlmdEtleSxhbGw6dC5jdHJsS2V5fHx0Lm1ldGFLZXksc2libGluZ3M6dC5hbHRLZXl9LHI9dGhpcy4kdG9nZ2xlRm9sZFdpZGdldChlLG4pO2lmKCFyKXt2YXIgaT10LnRhcmdldHx8dC5zcmNFbGVtZW50O2kmJi9hY2VfZm9sZC13aWRnZXQvLnRlc3QoaS5jbGFzc05hbWUpJiYoaS5jbGFzc05hbWUrPSIgYWNlX2ludmFsaWQiKX19LHRoaXMuJHRvZ2dsZUZvbGRXaWRnZXQ9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmdldEZvbGRXaWRnZXQpe3ZhciBuPXRoaXMuZ2V0Rm9sZFdpZGdldChlKSxyPXRoaXMuZ2V0TGluZShlKSxpPSJlbmQiPT09bj8tMToxLHM9dGhpcy5nZXRGb2xkQXQoZSwtMT09PWk/MDpyLmxlbmd0aCxpKTtpZihzKXJldHVybiB2b2lkKHQuY2hpbGRyZW58fHQuYWxsP3RoaXMucmVtb3ZlRm9sZChzKTp0aGlzLmV4cGFuZEZvbGQocykpO3ZhciBvPXRoaXMuZ2V0Rm9sZFdpZGdldFJhbmdlKGUsITApO2lmKG8mJiFvLmlzTXVsdGlMaW5lKCkmJihzPXRoaXMuZ2V0Rm9sZEF0KG8uc3RhcnQucm93LG8uc3RhcnQuY29sdW1uLDEpLHMmJm8uaXNFcXVhbChzLnJhbmdlKSkpcmV0dXJuIHZvaWQgdGhpcy5yZW1vdmVGb2xkKHMpO2lmKHQuc2libGluZ3Mpe3ZhciB1PXRoaXMuZ2V0UGFyZW50Rm9sZFJhbmdlRGF0YShlKTtpZih1LnJhbmdlKXZhciBhPXUucmFuZ2Uuc3RhcnQucm93KzEsZj11LnJhbmdlLmVuZC5yb3c7dGhpcy5mb2xkQWxsKGEsZix0LmFsbD8xZTQ6MCl9ZWxzZSB0LmNoaWxkcmVuPyhmPW8/by5lbmQucm93OnRoaXMuZ2V0TGVuZ3RoKCksdGhpcy5mb2xkQWxsKGUrMSxvLmVuZC5yb3csdC5hbGw/MWU0OjApKTpvJiYodC5hbGwmJihvLmNvbGxhcHNlQ2hpbGRyZW49MWU0KSx0aGlzLmFkZEZvbGQoIi4uLiIsbykpO3JldHVybiBvfX0sdGhpcy50b2dnbGVGb2xkV2lkZ2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zZWxlY3Rpb24uZ2V0Q3Vyc29yKCkucm93O3Q9dGhpcy5nZXRSb3dGb2xkU3RhcnQodCk7dmFyIG49dGhpcy4kdG9nZ2xlRm9sZFdpZGdldCh0LHt9KTtpZighbil7dmFyIHI9dGhpcy5nZXRQYXJlbnRGb2xkUmFuZ2VEYXRhKHQsITApO2lmKG49ci5yYW5nZXx8ci5maXJzdFJhbmdlKXt0PW4uc3RhcnQucm93O3ZhciBpPXRoaXMuZ2V0Rm9sZEF0KHQsdGhpcy5nZXRMaW5lKHQpLmxlbmd0aCwxKTtpP3RoaXMucmVtb3ZlRm9sZChpKTp0aGlzLmFkZEZvbGQoIi4uLiIsbil9fX0sdGhpcy51cGRhdGVGb2xkV2lkZ2V0cz1mdW5jdGlvbihlKXt2YXIgdD1lLmRhdGEsbj10LnJhbmdlLHI9bi5zdGFydC5yb3csaT1uLmVuZC5yb3ctcjtpZigwPT09aSl0aGlzLmZvbGRXaWRnZXRzW3JdPW51bGw7ZWxzZSBpZigicmVtb3ZlVGV4dCI9PXQuYWN0aW9ufHwicmVtb3ZlTGluZXMiPT10LmFjdGlvbil0aGlzLmZvbGRXaWRnZXRzLnNwbGljZShyLGkrMSxudWxsKTtlbHNle3ZhciBzPUFycmF5KGkrMSk7cy51bnNoaWZ0KHIsMSksdGhpcy5mb2xkV2lkZ2V0cy5zcGxpY2UuYXBwbHkodGhpcy5mb2xkV2lkZ2V0cyxzKX19fXZhciByPWUoIi4uL3JhbmdlIikuUmFuZ2UsaT1lKCIuL2ZvbGRfbGluZSIpLkZvbGRMaW5lLHM9ZSgiLi9mb2xkIikuRm9sZCxvPWUoIi4uL3Rva2VuX2l0ZXJhdG9yIikuVG9rZW5JdGVyYXRvcjt0LkZvbGRpbmc9dX0pLGRlZmluZSgiYWNlL2VkaXRfc2Vzc2lvbi9mb2xkX2xpbmUiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvcmFuZ2UiXSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIGkoZSx0KXt0aGlzLmZvbGREYXRhPWUsQXJyYXkuaXNBcnJheSh0KT90aGlzLmZvbGRzPXQ6dD10aGlzLmZvbGRzPVt0XTt2YXIgbj10W3QubGVuZ3RoLTFdO3RoaXMucmFuZ2U9bmV3IHIodFswXS5zdGFydC5yb3csdFswXS5zdGFydC5jb2x1bW4sbi5lbmQucm93LG4uZW5kLmNvbHVtbiksdGhpcy5zdGFydD10aGlzLnJhbmdlLnN0YXJ0LHRoaXMuZW5kPXRoaXMucmFuZ2UuZW5kLHRoaXMuZm9sZHMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnNldEZvbGRMaW5lKHRoaXMpfSx0aGlzKX12YXIgcj1lKCIuLi9yYW5nZSIpLlJhbmdlOyhmdW5jdGlvbigpe3RoaXMuc2hpZnRSb3c9ZnVuY3Rpb24oZSl7dGhpcy5zdGFydC5yb3crPWUsdGhpcy5lbmQucm93Kz1lLHRoaXMuZm9sZHMuZm9yRWFjaChmdW5jdGlvbih0KXt0LnN0YXJ0LnJvdys9ZSx0LmVuZC5yb3crPWV9KX0sdGhpcy5hZGRGb2xkPWZ1bmN0aW9uKGUpe2lmKGUuc2FtZVJvdyl7aWYoZS5zdGFydC5yb3c8dGhpcy5zdGFydFJvd3x8ZS5lbmRSb3c+dGhpcy5lbmRSb3cpdGhyb3cgbmV3IEVycm9yKCJDYW4ndCBhZGQgYSBmb2xkIHRvIHRoaXMgRm9sZExpbmUgYXMgaXQgaGFzIG5vIGNvbm5lY3Rpb24iKTt0aGlzLmZvbGRzLnB1c2goZSksdGhpcy5mb2xkcy5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuLWUucmFuZ2UuY29tcGFyZUVuZCh0LnN0YXJ0LnJvdyx0LnN0YXJ0LmNvbHVtbil9KSx0aGlzLnJhbmdlLmNvbXBhcmVFbmQoZS5zdGFydC5yb3csZS5zdGFydC5jb2x1bW4pPjA/KHRoaXMuZW5kLnJvdz1lLmVuZC5yb3csdGhpcy5lbmQuY29sdW1uPWUuZW5kLmNvbHVtbik6dGhpcy5yYW5nZS5jb21wYXJlU3RhcnQoZS5lbmQucm93LGUuZW5kLmNvbHVtbik8MCYmKHRoaXMuc3RhcnQucm93PWUuc3RhcnQucm93LHRoaXMuc3RhcnQuY29sdW1uPWUuc3RhcnQuY29sdW1uKX1lbHNlIGlmKGUuc3RhcnQucm93PT10aGlzLmVuZC5yb3cpdGhpcy5mb2xkcy5wdXNoKGUpLHRoaXMuZW5kLnJvdz1lLmVuZC5yb3csdGhpcy5lbmQuY29sdW1uPWUuZW5kLmNvbHVtbjtlbHNle2lmKGUuZW5kLnJvdyE9dGhpcy5zdGFydC5yb3cpdGhyb3cgbmV3IEVycm9yKCJUcnlpbmcgdG8gYWRkIGZvbGQgdG8gRm9sZFJvdyB0aGF0IGRvZXNuJ3QgaGF2ZSBhIG1hdGNoaW5nIHJvdyIpO3RoaXMuZm9sZHMudW5zaGlmdChlKSx0aGlzLnN0YXJ0LnJvdz1lLnN0YXJ0LnJvdyx0aGlzLnN0YXJ0LmNvbHVtbj1lLnN0YXJ0LmNvbHVtbn1lLmZvbGRMaW5lPXRoaXN9LHRoaXMuY29udGFpbnNSb3c9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+PXRoaXMuc3RhcnQucm93JiZlPD10aGlzLmVuZC5yb3d9LHRoaXMud2Fsaz1mdW5jdGlvbihlLHQsbil7dmFyIHMsbyx1LHI9MCxpPXRoaXMuZm9sZHMsYT0hMDtudWxsPT10JiYodD10aGlzLmVuZC5yb3csbj10aGlzLmVuZC5jb2x1bW4pO2Zvcih2YXIgZj0wO2Y8aS5sZW5ndGg7ZisrKXtpZihzPWlbZl0sbz1zLnJhbmdlLmNvbXBhcmVTdGFydCh0LG4pLC0xPT1vKXJldHVybiB2b2lkIGUobnVsbCx0LG4scixhKTtpZih1PWUobnVsbCxzLnN0YXJ0LnJvdyxzLnN0YXJ0LmNvbHVtbixyLGEpLHU9IXUmJmUocy5wbGFjZWhvbGRlcixzLnN0YXJ0LnJvdyxzLnN0YXJ0LmNvbHVtbixyKSx1fHwwPT1vKXJldHVybjthPSFzLnNhbWVSb3cscj1zLmVuZC5jb2x1bW59ZShudWxsLHQsbixyLGEpfSx0aGlzLmdldE5leHRGb2xkVG89ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scixpPTA7aTx0aGlzLmZvbGRzLmxlbmd0aDtpKyspe2lmKG49dGhpcy5mb2xkc1tpXSxyPW4ucmFuZ2UuY29tcGFyZUVuZChlLHQpLC0xPT1yKXJldHVybntmb2xkOm4sa2luZDoiYWZ0ZXIifTtpZigwPT1yKXJldHVybntmb2xkOm4sa2luZDoiaW5zaWRlIn19cmV0dXJuIG51bGx9LHRoaXMuYWRkUmVtb3ZlQ2hhcnM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHMscj10aGlzLmdldE5leHRGb2xkVG8oZSx0KTtpZihyKWlmKGk9ci5mb2xkLCJpbnNpZGUiPT1yLmtpbmQmJmkuc3RhcnQuY29sdW1uIT10JiZpLnN0YXJ0LnJvdyE9ZSl3aW5kb3cuY29uc29sZSYmd2luZG93LmNvbnNvbGUubG9nKGUsdCxpKTtlbHNlIGlmKGkuc3RhcnQucm93PT1lKXtzPXRoaXMuZm9sZHM7dmFyIG89cy5pbmRleE9mKGkpO2ZvcigwPT1vJiYodGhpcy5zdGFydC5jb2x1bW4rPW4pLG87bzxzLmxlbmd0aDtvKyspe2lmKGk9c1tvXSxpLnN0YXJ0LmNvbHVtbis9biwhaS5zYW1lUm93KXJldHVybjtpLmVuZC5jb2x1bW4rPW59dGhpcy5lbmQuY29sdW1uKz1ufX0sdGhpcy5zcGxpdD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZ2V0TmV4dEZvbGRUbyhlLHQpLmZvbGQscj10aGlzLmZvbGRzLHM9dGhpcy5mb2xkRGF0YTtpZighbilyZXR1cm4gbnVsbDt2YXIgbz1yLmluZGV4T2YobiksdT1yW28tMV07dGhpcy5lbmQucm93PXUuZW5kLnJvdyx0aGlzLmVuZC5jb2x1bW49dS5lbmQuY29sdW1uLHI9ci5zcGxpY2UobyxyLmxlbmd0aC1vKTt2YXIgYT1uZXcgaShzLHIpO3JldHVybiBzLnNwbGljZShzLmluZGV4T2YodGhpcykrMSwwLGEpLGF9LHRoaXMubWVyZ2U9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuZm9sZHMsbj0wO248dC5sZW5ndGg7bisrKXRoaXMuYWRkRm9sZCh0W25dKTt2YXIgcj10aGlzLmZvbGREYXRhO3Iuc3BsaWNlKHIuaW5kZXhPZihlKSwxKX0sdGhpcy50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBlPVt0aGlzLnJhbmdlLnRvU3RyaW5nKCkrIjogWyJdO3JldHVybiB0aGlzLmZvbGRzLmZvckVhY2goZnVuY3Rpb24odCl7ZS5wdXNoKCIgICIrdC50b1N0cmluZygpKX0pLGUucHVzaCgiXSIpLGUuam9pbigiXG4iKX0sdGhpcy5pZHhUb1Bvc2l0aW9uPWZ1bmN0aW9uKGUpe2Zvcih2YXIgbix0PTAscj0wO3I8dGhpcy5mb2xkcy5sZW5ndGg7cisrKXt2YXIgbj10aGlzLmZvbGRzW3JdO2lmKGUtPW4uc3RhcnQuY29sdW1uLXQsMD5lKXJldHVybntyb3c6bi5zdGFydC5yb3csY29sdW1uOm4uc3RhcnQuY29sdW1uK2V9O2lmKGUtPW4ucGxhY2Vob2xkZXIubGVuZ3RoLDA+ZSlyZXR1cm4gbi5zdGFydDt0PW4uZW5kLmNvbHVtbn1yZXR1cm57cm93OnRoaXMuZW5kLnJvdyxjb2x1bW46dGhpcy5lbmQuY29sdW1uK2V9fX0pLmNhbGwoaS5wcm90b3R5cGUpLHQuRm9sZExpbmU9aX0pLGRlZmluZSgiYWNlL3Rva2VuaXplciIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9MWUzLGk9ZnVuY3Rpb24oZSl7dGhpcy5zdGF0ZXM9ZSx0aGlzLnJlZ0V4cHM9e30sdGhpcy5tYXRjaE1hcHBpbmdzPXt9O2Zvcih2YXIgdCBpbiB0aGlzLnN0YXRlcyl7Zm9yKHZhciBuPXRoaXMuc3RhdGVzW3RdLHI9W10saT0wLHM9dGhpcy5tYXRjaE1hcHBpbmdzW3RdPXtkZWZhdWx0VG9rZW46InRleHQifSxvPSJnIix1PVtdLGE9MDthPG4ubGVuZ3RoO2ErKyl7dmFyIGY9blthXTtpZihmLmRlZmF1bHRUb2tlbiYmKHMuZGVmYXVsdFRva2VuPWYuZGVmYXVsdFRva2VuKSxmLmNhc2VJbnNlbnNpdGl2ZSYmKG89ImdpIiksbnVsbCE9Zi5yZWdleCl7Zi5yZWdleCBpbnN0YW5jZW9mIFJlZ0V4cCYmKGYucmVnZXg9Zi5yZWdleC50b1N0cmluZygpLnNsaWNlKDEsLTEpKTt2YXIgbD1mLnJlZ2V4LGM9bmV3IFJlZ0V4cCgiKD86KCIrbCsiKXwoLikpIikuZXhlYygiYSIpLmxlbmd0aC0yO2lmKEFycmF5LmlzQXJyYXkoZi50b2tlbikpaWYoMT09Zi50b2tlbi5sZW5ndGh8fDE9PWMpZi50b2tlbj1mLnRva2VuWzBdO2Vsc2V7aWYoYy0xIT1mLnRva2VuLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIm51bWJlciBvZiBjbGFzc2VzIGFuZCByZWdleHAgZ3JvdXBzIGluICciK2YudG9rZW4rIidcbiciK2YucmVnZXgrIicgZG9lc24ndCBtYXRjaFxuIisoYy0xKSsiIT0iK2YudG9rZW4ubGVuZ3RoKTtmLnRva2VuQXJyYXk9Zi50b2tlbixmLnRva2VuPW51bGwsZi5vbk1hdGNoPXRoaXMuJGFycmF5VG9rZW5zfWVsc2UiZnVuY3Rpb24iPT10eXBlb2YgZi50b2tlbiYmIWYub25NYXRjaCYmKGYub25NYXRjaD1jPjE/dGhpcy4kYXBwbHlUb2tlbjpmLnRva2VuKTtjPjEmJigvXFxcZC8udGVzdChmLnJlZ2V4KT9sPWYucmVnZXgucmVwbGFjZSgvXFwoWzAtOV0rKS9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIlxcIisocGFyc2VJbnQodCwxMCkraSsxKX0pOihjPTEsbD10aGlzLnJlbW92ZUNhcHR1cmluZ0dyb3VwcyhmLnJlZ2V4KSksIWYuc3BsaXRSZWdleCYmInN0cmluZyIhPXR5cGVvZiBmLnRva2VuJiZ1LnB1c2goZikpLHNbaV09YSxpKz1jLHIucHVzaChsKSxmLm9uTWF0Y2h8fChmLm9uTWF0Y2g9bnVsbCksZi5fX3Byb3RvX189bnVsbH19dS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Uuc3BsaXRSZWdleD10aGlzLmNyZWF0ZVNwbGl0dGVyUmVnZXhwKGUucmVnZXgsbyl9LHRoaXMpLHRoaXMucmVnRXhwc1t0XT1uZXcgUmVnRXhwKCIoIityLmpvaW4oIil8KCIpKyIpfCgkKSIsbyl9fTsoZnVuY3Rpb24oKXt0aGlzLiRzZXRNYXhUb2tlbkNvdW50PWZ1bmN0aW9uKGUpe3I9MHxlfSx0aGlzLiRhcHBseVRva2VuPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc3BsaXRSZWdleC5leGVjKGUpLnNsaWNlKDEpLG49dGhpcy50b2tlbi5hcHBseSh0aGlzLHQpO2lmKCJzdHJpbmciPT10eXBlb2YgbilyZXR1cm5be3R5cGU6bix2YWx1ZTplfV07Zm9yKHZhciByPVtdLGk9MCxzPW4ubGVuZ3RoO3M+aTtpKyspdFtpXSYmKHJbci5sZW5ndGhdPXt0eXBlOm5baV0sdmFsdWU6dFtpXX0pO3JldHVybiByfSx0aGlzLiRhcnJheVRva2Vucz1mdW5jdGlvbihlKXtpZighZSlyZXR1cm5bXTt2YXIgdD10aGlzLnNwbGl0UmVnZXguZXhlYyhlKTtpZighdClyZXR1cm4idGV4dCI7Zm9yKHZhciBuPVtdLHI9dGhpcy50b2tlbkFycmF5LGk9MCxzPXIubGVuZ3RoO3M+aTtpKyspdFtpKzFdJiYobltuLmxlbmd0aF09e3R5cGU6cltpXSx2YWx1ZTp0W2krMV19KTtyZXR1cm4gbn0sdGhpcy5yZW1vdmVDYXB0dXJpbmdHcm91cHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKC9cWyg/OlxcLnxbXlxdXSkqP1xdfFxcLnxcKFw/Wzo9IV18KFwoKS9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/Iig/OiI6ZX0pO3JldHVybiB0fSx0aGlzLmNyZWF0ZVNwbGl0dGVyUmVnZXhwPWZ1bmN0aW9uKGUsdCl7aWYoLTEhPWUuaW5kZXhPZigiKD89Iikpe3ZhciBuPTAscj0hMSxpPXt9O2UucmVwbGFjZSgvKFxcLil8KFwoKD86XD9bPSFdKT8pfChcKSl8KFtcW1xdXSkvZyxmdW5jdGlvbihlLHQscyxvLHUsYSl7cmV0dXJuIHI/cj0iXSIhPXU6dT9yPSEwOm8/KG49PWkuc3RhY2smJihpLmVuZD1hKzEsaS5zdGFjaz0tMSksbi0tKTpzJiYobisrLDEhPXMubGVuZ3RoJiYoaS5zdGFjaz1uLGkuc3RhcnQ9YSkpLGV9KSxudWxsIT1pLmVuZCYmL15cKSokLy50ZXN0KGUuc3Vic3RyKGkuZW5kKSkmJihlPWUuc3Vic3RyaW5nKDAsaS5zdGFydCkrZS5zdWJzdHIoaS5lbmQpKX1yZXR1cm4gbmV3IFJlZ0V4cChlLCh0fHwiIikucmVwbGFjZSgiZyIsIiIpKX0sdGhpcy5nZXRMaW5lVG9rZW5zPWZ1bmN0aW9uKGUsdCl7aWYodCYmInN0cmluZyIhPXR5cGVvZiB0KXt2YXIgbj10LnNsaWNlKDApO3Q9blswXX1lbHNlIHZhciBuPVtdO3ZhciBpPXR8fCJzdGFydCIscz10aGlzLnN0YXRlc1tpXTtzfHwoaT0ic3RhcnQiLHM9dGhpcy5zdGF0ZXNbaV0pO3ZhciBvPXRoaXMubWF0Y2hNYXBwaW5nc1tpXSx1PXRoaXMucmVnRXhwc1tpXTt1Lmxhc3RJbmRleD0wO2Zvcih2YXIgYSxmPVtdLGw9MCxjPXt0eXBlOm51bGwsdmFsdWU6IiJ9O2E9dS5leGVjKGUpOyl7dmFyIGg9by5kZWZhdWx0VG9rZW4scD1udWxsLGQ9YVswXSx2PXUubGFzdEluZGV4O2lmKHYtZC5sZW5ndGg+bCl7dmFyIG09ZS5zdWJzdHJpbmcobCx2LWQubGVuZ3RoKTtjLnR5cGU9PWg/Yy52YWx1ZSs9bTooYy50eXBlJiZmLnB1c2goYyksYz17dHlwZTpoLHZhbHVlOm19KX1mb3IodmFyIGc9MDtnPGEubGVuZ3RoLTI7ZysrKWlmKHZvaWQgMCE9PWFbZysxXSl7cD1zW29bZ11dLGg9cC5vbk1hdGNoP3Aub25NYXRjaChkLGksbik6cC50b2tlbixwLm5leHQmJihpPSJzdHJpbmciPT10eXBlb2YgcC5uZXh0P3AubmV4dDpwLm5leHQoaSxuKSxzPXRoaXMuc3RhdGVzW2ldLHN8fCh3aW5kb3cuY29uc29sZSYmY29uc29sZS5lcnJvciYmY29uc29sZS5lcnJvcihpLCJkb2Vzbid0IGV4aXN0IiksaT0ic3RhcnQiLHM9dGhpcy5zdGF0ZXNbaV0pLG89dGhpcy5tYXRjaE1hcHBpbmdzW2ldLGw9dix1PXRoaXMucmVnRXhwc1tpXSx1Lmxhc3RJbmRleD12KTticmVha31pZihkKWlmKCJzdHJpbmciPT10eXBlb2YgaClwJiZwLm1lcmdlPT09ITF8fGMudHlwZSE9PWg/KGMudHlwZSYmZi5wdXNoKGMpLGM9e3R5cGU6aCx2YWx1ZTpkfSk6Yy52YWx1ZSs9ZDtlbHNlIGlmKGgpe2MudHlwZSYmZi5wdXNoKGMpLGM9e3R5cGU6bnVsbCx2YWx1ZToiIn07Zm9yKHZhciBnPTA7ZzxoLmxlbmd0aDtnKyspZi5wdXNoKGhbZ10pfWlmKGw9PWUubGVuZ3RoKWJyZWFrO2lmKGw9dixmLmxlbmd0aD5yKXtmb3IoO2w8ZS5sZW5ndGg7KWMudHlwZSYmZi5wdXNoKGMpLGM9e3ZhbHVlOmUuc3Vic3RyaW5nKGwsbCs9MmUzKSx0eXBlOiJvdmVyZmxvdyJ9O2k9InN0YXJ0IixuPVtdO2JyZWFrfX1yZXR1cm4gYy50eXBlJiZmLnB1c2goYyksbi5sZW5ndGg+MSYmblswXSE9PWkmJm4udW5zaGlmdChpKSx7dG9rZW5zOmYsc3RhdGU6bi5sZW5ndGg/bjppfX19KS5jYWxsKGkucHJvdG90eXBlKSx0LlRva2VuaXplcj1pfSksZGVmaW5lKCJhY2UvZWRpdF9zZXNzaW9uL2ZvbGQiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvcmFuZ2UiLCJhY2UvcmFuZ2VfbGlzdCIsImFjZS9saWIvb29wIl0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiB1KGUsdCl7ZS5yb3ctPXQucm93LDA9PWUucm93JiYoZS5jb2x1bW4tPXQuY29sdW1uKX1mdW5jdGlvbiBhKGUsdCl7dShlLnN0YXJ0LHQpLHUoZS5lbmQsdCl9ZnVuY3Rpb24gZihlLHQpezA9PWUucm93JiYoZS5jb2x1bW4rPXQuY29sdW1uKSxlLnJvdys9dC5yb3d9ZnVuY3Rpb24gbChlLHQpe2YoZS5zdGFydCx0KSxmKGUuZW5kLHQpfXZhciBpPShlKCIuLi9yYW5nZSIpLlJhbmdlLGUoIi4uL3JhbmdlX2xpc3QiKS5SYW5nZUxpc3QpLHM9ZSgiLi4vbGliL29vcCIpLG89dC5Gb2xkPWZ1bmN0aW9uKGUsdCl7dGhpcy5mb2xkTGluZT1udWxsLHRoaXMucGxhY2Vob2xkZXI9dCx0aGlzLnJhbmdlPWUsdGhpcy5zdGFydD1lLnN0YXJ0LHRoaXMuZW5kPWUuZW5kLHRoaXMuc2FtZVJvdz1lLnN0YXJ0LnJvdz09ZS5lbmQucm93LHRoaXMuc3ViRm9sZHM9dGhpcy5yYW5nZXM9W119O3MuaW5oZXJpdHMobyxpKSxmdW5jdGlvbigpe3RoaXMudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4nIicrdGhpcy5wbGFjZWhvbGRlcisnIiAnK3RoaXMucmFuZ2UudG9TdHJpbmcoKX0sdGhpcy5zZXRGb2xkTGluZT1mdW5jdGlvbihlKXt0aGlzLmZvbGRMaW5lPWUsdGhpcy5zdWJGb2xkcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3Quc2V0Rm9sZExpbmUoZSl9KX0sdGhpcy5jbG9uZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMucmFuZ2UuY2xvbmUoKSx0PW5ldyBvKGUsdGhpcy5wbGFjZWhvbGRlcik7cmV0dXJuIHRoaXMuc3ViRm9sZHMuZm9yRWFjaChmdW5jdGlvbihlKXt0LnN1YkZvbGRzLnB1c2goZS5jbG9uZSgpKX0pLHQuY29sbGFwc2VDaGlsZHJlbj10aGlzLmNvbGxhcHNlQ2hpbGRyZW4sdH0sdGhpcy5hZGRTdWJGb2xkPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLnJhbmdlLmlzRXF1YWwoZSkpe2lmKCF0aGlzLnJhbmdlLmNvbnRhaW5zUmFuZ2UoZSkpdGhyb3cgbmV3IEVycm9yKCJBIGZvbGQgY2FuJ3QgaW50ZXJzZWN0IGFscmVhZHkgZXhpc3RpbmcgZm9sZCIrZS5yYW5nZSt0aGlzLnJhbmdlKTthKGUsdGhpcy5zdGFydCk7Zm9yKHZhciB0PWUuc3RhcnQucm93LG49ZS5zdGFydC5jb2x1bW4scj0wLGk9LTE7cjx0aGlzLnN1YkZvbGRzLmxlbmd0aCYmKGk9dGhpcy5zdWJGb2xkc1tyXS5yYW5nZS5jb21wYXJlKHQsbiksMT09aSk7cisrKTt2YXIgcz10aGlzLnN1YkZvbGRzW3JdO2lmKDA9PWkpcmV0dXJuIHMuYWRkU3ViRm9sZChlKTtmb3IodmFyIHQ9ZS5yYW5nZS5lbmQucm93LG49ZS5yYW5nZS5lbmQuY29sdW1uLG89cixpPS0xO288dGhpcy5zdWJGb2xkcy5sZW5ndGgmJihpPXRoaXMuc3ViRm9sZHNbb10ucmFuZ2UuY29tcGFyZSh0LG4pLDE9PWkpO28rKyk7e3RoaXMuc3ViRm9sZHNbb119aWYoMD09aSl0aHJvdyBuZXcgRXJyb3IoIkEgZm9sZCBjYW4ndCBpbnRlcnNlY3QgYWxyZWFkeSBleGlzdGluZyBmb2xkIitlLnJhbmdlK3RoaXMucmFuZ2UpO3t0aGlzLnN1YkZvbGRzLnNwbGljZShyLG8tcixlKX1yZXR1cm4gZS5zZXRGb2xkTGluZSh0aGlzLmZvbGRMaW5lKSxlfX0sdGhpcy5yZXN0b3JlUmFuZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGwoZSx0aGlzLnN0YXJ0KX19LmNhbGwoby5wcm90b3R5cGUpfSksZGVmaW5lKCJhY2UvbW9kZS90ZXh0IixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL3Rva2VuaXplciIsImFjZS9tb2RlL3RleHRfaGlnaGxpZ2h0X3J1bGVzIiwiYWNlL21vZGUvYmVoYXZpb3VyIiwiYWNlL3VuaWNvZGUiLCJhY2UvbGliL2xhbmciLCJhY2UvdG9rZW5faXRlcmF0b3IiLCJhY2UvcmFuZ2UiXSxmdW5jdGlvbihlLHQpe3ZhciByPWUoIi4uL3Rva2VuaXplciIpLlRva2VuaXplcixpPWUoIi4vdGV4dF9oaWdobGlnaHRfcnVsZXMiKS5UZXh0SGlnaGxpZ2h0UnVsZXMscz1lKCIuL2JlaGF2aW91ciIpLkJlaGF2aW91cixvPWUoIi4uL3VuaWNvZGUiKSx1PWUoIi4uL2xpYi9sYW5nIiksYT1lKCIuLi90b2tlbl9pdGVyYXRvciIpLlRva2VuSXRlcmF0b3IsZj1lKCIuLi9yYW5nZSIpLlJhbmdlLGw9ZnVuY3Rpb24oKXt0aGlzLkhpZ2hsaWdodFJ1bGVzPWksdGhpcy4kYmVoYXZpb3VyPW5ldyBzfTsoZnVuY3Rpb24oKXt0aGlzLnRva2VuUmU9bmV3IFJlZ0V4cCgiXlsiK28ucGFja2FnZXMuTCtvLnBhY2thZ2VzLk1uK28ucGFja2FnZXMuTWMrby5wYWNrYWdlcy5OZCtvLnBhY2thZ2VzLlBjKyJcXCRfXSsiLCJnIiksdGhpcy5ub25Ub2tlblJlPW5ldyBSZWdFeHAoIl4oPzpbXiIrby5wYWNrYWdlcy5MK28ucGFja2FnZXMuTW4rby5wYWNrYWdlcy5NYytvLnBhY2thZ2VzLk5kK28ucGFja2FnZXMuUGMrIlxcJF9dfFxcc10pKyIsImciKSx0aGlzLmdldFRva2VuaXplcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLiR0b2tlbml6ZXJ8fCh0aGlzLiRoaWdobGlnaHRSdWxlcz1uZXcgdGhpcy5IaWdobGlnaHRSdWxlcyx0aGlzLiR0b2tlbml6ZXI9bmV3IHIodGhpcy4kaGlnaGxpZ2h0UnVsZXMuZ2V0UnVsZXMoKSkpLHRoaXMuJHRva2VuaXplcn0sdGhpcy5saW5lQ29tbWVudFN0YXJ0PSIiLHRoaXMuYmxvY2tDb21tZW50PSIiLHRoaXMudG9nZ2xlQ29tbWVudExpbmVzPWZ1bmN0aW9uKGUsdCxuLHIpe2Z1bmN0aW9uIHcoZSl7Zm9yKHZhciB0PW47cj49dDt0KyspZShpLmdldExpbmUodCksdCl9dmFyIGk9dC5kb2Mscz0hMCxvPSEwLGE9MS8wLGY9dC5nZXRUYWJTaXplKCksbD0hMTtpZih0aGlzLmxpbmVDb21tZW50U3RhcnQpe2lmKEFycmF5LmlzQXJyYXkodGhpcy5saW5lQ29tbWVudFN0YXJ0KSl2YXIgcD10aGlzLmxpbmVDb21tZW50U3RhcnQubWFwKHUuZXNjYXBlUmVnRXhwKS5qb2luKCJ8IiksYz10aGlzLmxpbmVDb21tZW50U3RhcnRbMF07ZWxzZSB2YXIgcD11LmVzY2FwZVJlZ0V4cCh0aGlzLmxpbmVDb21tZW50U3RhcnQpLGM9dGhpcy5saW5lQ29tbWVudFN0YXJ0O3A9bmV3IFJlZ0V4cCgiXihcXHMqKSg/OiIrcCsiKSA/IiksbD10LmdldFVzZVNvZnRUYWJzKCk7dmFyIG09ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLm1hdGNoKHApO2lmKG4pe3ZhciByPW5bMV0ubGVuZ3RoLHM9blswXS5sZW5ndGg7IWIoZSxyLHMpJiYiICI9PW5bMF1bcy0xXSYmcy0tLGkucmVtb3ZlSW5MaW5lKHQscixzKX19LHk9YysiICIsdj1mdW5jdGlvbihlLHQpeyghc3x8L1xTLy50ZXN0KGUpKSYmKGIoZSxhLGEpP2kuaW5zZXJ0SW5MaW5lKHtyb3c6dCxjb2x1bW46YX0seSk6aS5pbnNlcnRJbkxpbmUoe3Jvdzp0LGNvbHVtbjphfSxjKSl9LGc9ZnVuY3Rpb24oZSl7cmV0dXJuIHAudGVzdChlKX0sYj1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTA7dC0tJiYiICI9PWUuY2hhckF0KHQpOylyKys7aWYociVmIT0wKXJldHVybiExO2Zvcih2YXIgcj0wOyIgIj09ZS5jaGFyQXQobisrKTspcisrO3JldHVybiBmPjI/ciVmIT1mLTE6ciVmPT0wfX1lbHNle2lmKCF0aGlzLmJsb2NrQ29tbWVudClyZXR1cm4hMTt2YXIgYz10aGlzLmJsb2NrQ29tbWVudC5zdGFydCxoPXRoaXMuYmxvY2tDb21tZW50LmVuZCxwPW5ldyBSZWdFeHAoIl4oXFxzKikoPzoiK3UuZXNjYXBlUmVnRXhwKGMpKyIpIiksZD1uZXcgUmVnRXhwKCIoPzoiK3UuZXNjYXBlUmVnRXhwKGgpKyIpXFxzKiQiKSx2PWZ1bmN0aW9uKGUsdCl7ZyhlLHQpfHwoIXN8fC9cUy8udGVzdChlKSkmJihpLmluc2VydEluTGluZSh7cm93OnQsY29sdW1uOmUubGVuZ3RofSxoKSxpLmluc2VydEluTGluZSh7cm93OnQsY29sdW1uOmF9LGMpKX0sbT1mdW5jdGlvbihlLHQpe3ZhciBuOyhuPWUubWF0Y2goZCkpJiZpLnJlbW92ZUluTGluZSh0LGUubGVuZ3RoLW5bMF0ubGVuZ3RoLGUubGVuZ3RoKSwobj1lLm1hdGNoKHApKSYmaS5yZW1vdmVJbkxpbmUodCxuWzFdLmxlbmd0aCxuWzBdLmxlbmd0aCl9LGc9ZnVuY3Rpb24oZSxuKXtpZihwLnRlc3QoZSkpcmV0dXJuITA7Zm9yKHZhciByPXQuZ2V0VG9rZW5zKG4pLGk9MDtpPHIubGVuZ3RoO2krKylpZigiY29tbWVudCI9PT1yW2ldLnR5cGUpcmV0dXJuITB9fXZhciBFPTEvMDt3KGZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5zZWFyY2goL1xTLyk7LTEhPT1uPyhhPm4mJihhPW4pLG8mJiFnKGUsdCkmJihvPSExKSk6RT5lLmxlbmd0aCYmKEU9ZS5sZW5ndGgpfSksMS8wPT1hJiYoYT1FLHM9ITEsbz0hMSksbCYmYSVmIT0wJiYoYT1NYXRoLmZsb29yKGEvZikqZiksdyhvP206dil9LHRoaXMudG9nZ2xlQmxvY2tDb21tZW50PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXRoaXMuYmxvY2tDb21tZW50O2lmKGkpeyFpLnN0YXJ0JiZpWzBdJiYoaT1pWzBdKTt2YXIgYyxoLHM9bmV3IGEodCxyLnJvdyxyLmNvbHVtbiksbz1zLmdldEN1cnJlbnRUb2tlbigpLGw9KHQuc2VsZWN0aW9uLHQuc2VsZWN0aW9uLnRvT3JpZW50ZWRSYW5nZSgpKTtpZihvJiYvY29tbWVudC8udGVzdChvLnR5cGUpKXtmb3IodmFyIHAsZDtvJiYvY29tbWVudC8udGVzdChvLnR5cGUpOyl7dmFyIHY9by52YWx1ZS5pbmRleE9mKGkuc3RhcnQpO2lmKC0xIT12KXt2YXIgbT1zLmdldEN1cnJlbnRUb2tlblJvdygpLGc9cy5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKSt2O3A9bmV3IGYobSxnLG0sZytpLnN0YXJ0Lmxlbmd0aCk7YnJlYWt9bz1zLnN0ZXBCYWNrd2FyZCgpfWZvcih2YXIgcz1uZXcgYSh0LHIucm93LHIuY29sdW1uKSxvPXMuZ2V0Q3VycmVudFRva2VuKCk7byYmL2NvbW1lbnQvLnRlc3Qoby50eXBlKTspe3ZhciB2PW8udmFsdWUuaW5kZXhPZihpLmVuZCk7aWYoLTEhPXYpe3ZhciBtPXMuZ2V0Q3VycmVudFRva2VuUm93KCksZz1zLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpK3Y7ZD1uZXcgZihtLGcsbSxnK2kuZW5kLmxlbmd0aCk7YnJlYWt9bz1zLnN0ZXBGb3J3YXJkKCl9ZCYmdC5yZW1vdmUoZCkscCYmKHQucmVtb3ZlKHApLGM9cC5zdGFydC5yb3csaD0taS5zdGFydC5sZW5ndGgpfWVsc2UgaD1pLnN0YXJ0Lmxlbmd0aCxjPW4uc3RhcnQucm93LHQuaW5zZXJ0KG4uZW5kLGkuZW5kKSx0Lmluc2VydChuLnN0YXJ0LGkuc3RhcnQpO2wuc3RhcnQucm93PT1jJiYobC5zdGFydC5jb2x1bW4rPWgpLGwuZW5kLnJvdz09YyYmKGwuZW5kLmNvbHVtbis9aCksdC5zZWxlY3Rpb24uZnJvbU9yaWVudGVkUmFuZ2UobCl9fSx0aGlzLmdldE5leHRMaW5lSW5kZW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuJGdldEluZGVudCh0KX0sdGhpcy5jaGVja091dGRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdGhpcy5hdXRvT3V0ZGVudD1mdW5jdGlvbigpe30sdGhpcy4kZ2V0SW5kZW50PWZ1bmN0aW9uKGUpe3JldHVybiBlLm1hdGNoKC9eXHMqLylbMF19LHRoaXMuY3JlYXRlV29ya2VyPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHRoaXMuY3JlYXRlTW9kZURlbGVnYXRlcz1mdW5jdGlvbihlKXt0aGlzLiRlbWJlZHM9W10sdGhpcy4kbW9kZXM9e307Zm9yKHZhciB0IGluIGUpZVt0XSYmKHRoaXMuJGVtYmVkcy5wdXNoKHQpLHRoaXMuJG1vZGVzW3RdPW5ldyBlW3RdKTtmb3IodmFyIG49WyJ0b2dnbGVCbG9ja0NvbW1lbnQiLCJ0b2dnbGVDb21tZW50TGluZXMiLCJnZXROZXh0TGluZUluZGVudCIsImNoZWNrT3V0ZGVudCIsImF1dG9PdXRkZW50IiwidHJhbnNmb3JtQWN0aW9uIiwiZ2V0Q29tcGxldGlvbnMiXSx0PTA7dDxuLmxlbmd0aDt0KyspKGZ1bmN0aW9uKGUpe3ZhciByPW5bdF0saT1lW3JdO2Vbblt0XV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZGVsZWdhdG9yKHIsYXJndW1lbnRzLGkpfX0pKHRoaXMpfSx0aGlzLiRkZWxlZ2F0b3I9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRbMF07InN0cmluZyIhPXR5cGVvZiByJiYocj1yWzBdKTtmb3IodmFyIGk9MDtpPHRoaXMuJGVtYmVkcy5sZW5ndGg7aSsrKWlmKHRoaXMuJG1vZGVzW3RoaXMuJGVtYmVkc1tpXV0pe3ZhciBzPXIuc3BsaXQodGhpcy4kZW1iZWRzW2ldKTtpZighc1swXSYmc1sxXSl7dFswXT1zWzFdO3ZhciBvPXRoaXMuJG1vZGVzW3RoaXMuJGVtYmVkc1tpXV07cmV0dXJuIG9bZV0uYXBwbHkobyx0KX19dmFyIHU9bi5hcHBseSh0aGlzLHQpO3JldHVybiBuP3U6dm9pZCAwfSx0aGlzLnRyYW5zZm9ybUFjdGlvbj1mdW5jdGlvbihlLHQpe2lmKHRoaXMuJGJlaGF2aW91cil7dmFyIHM9dGhpcy4kYmVoYXZpb3VyLmdldEJlaGF2aW91cnMoKTsKZm9yKHZhciBvIGluIHMpaWYoc1tvXVt0XSl7dmFyIHU9c1tvXVt0XS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYodSlyZXR1cm4gdX19fSx0aGlzLmdldEtleXdvcmRzPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLmNvbXBsZXRpb25LZXl3b3Jkcyl7dmFyIHQ9dGhpcy4kdG9rZW5pemVyLnJ1bGVzLG49W107Zm9yKHZhciByIGluIHQpZm9yKHZhciBpPXRbcl0scz0wLG89aS5sZW5ndGg7bz5zO3MrKylpZigic3RyaW5nIj09dHlwZW9mIGlbc10udG9rZW4pL2tleXdvcmR8c3VwcG9ydHxzdG9yYWdlLy50ZXN0KGlbc10udG9rZW4pJiZuLnB1c2goaVtzXS5yZWdleCk7ZWxzZSBpZigib2JqZWN0Ij09dHlwZW9mIGlbc10udG9rZW4pZm9yKHZhciB1PTAsYT1pW3NdLnRva2VuLmxlbmd0aDthPnU7dSsrKWlmKC9rZXl3b3JkfHN1cHBvcnR8c3RvcmFnZS8udGVzdChpW3NdLnRva2VuW3VdKSl7dmFyIHI9aVtzXS5yZWdleC5tYXRjaCgvXCguKz9cKS9nKVt1XTtuLnB1c2goci5zdWJzdHIoMSxyLmxlbmd0aC0yKSl9dGhpcy5jb21wbGV0aW9uS2V5d29yZHM9bn1yZXR1cm4gZT9uLmNvbmNhdCh0aGlzLiRrZXl3b3JkTGlzdHx8W10pOnRoaXMuJGtleXdvcmRMaXN0fSx0aGlzLiRjcmVhdGVLZXl3b3JkTGlzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRoaWdobGlnaHRSdWxlc3x8dGhpcy5nZXRUb2tlbml6ZXIoKSx0aGlzLiRrZXl3b3JkTGlzdD10aGlzLiRoaWdobGlnaHRSdWxlcy4ka2V5d29yZExpc3R8fFtdfSx0aGlzLmdldENvbXBsZXRpb25zPWZ1bmN0aW9uKCl7dmFyIGk9dGhpcy4ka2V5d29yZExpc3R8fHRoaXMuJGNyZWF0ZUtleXdvcmRMaXN0KCk7cmV0dXJuIGkubWFwKGZ1bmN0aW9uKGUpe3JldHVybntuYW1lOmUsdmFsdWU6ZSxzY29yZTowLG1ldGE6ImtleXdvcmQifX0pfSx0aGlzLiRpZD0iYWNlL21vZGUvdGV4dCJ9KS5jYWxsKGwucHJvdG90eXBlKSx0Lk1vZGU9bH0pLGRlZmluZSgiYWNlL3JhbmdlX2xpc3QiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvcmFuZ2UiXSxmdW5jdGlvbihlLHQpe3ZhciByPWUoIi4vcmFuZ2UiKS5SYW5nZSxpPXIuY29tcGFyZVBvaW50cyxzPWZ1bmN0aW9uKCl7dGhpcy5yYW5nZXM9W119OyhmdW5jdGlvbigpe3RoaXMuY29tcGFyZVBvaW50cz1pLHRoaXMucG9pbnRJbmRleD1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPXRoaXMucmFuZ2VzLHM9bnx8MDtzPHIubGVuZ3RoO3MrKyl7dmFyIG89cltzXSx1PWkoZSxvLmVuZCk7aWYoISh1PjApKXt2YXIgYT1pKGUsby5zdGFydCk7cmV0dXJuIDA9PT11P3QmJjAhPT1hPy1zLTI6czphPjB8fDA9PT1hJiYhdD9zOi1zLTF9fXJldHVybi1zLTF9LHRoaXMuYWRkPWZ1bmN0aW9uKGUpe3ZhciB0PSFlLmlzRW1wdHkoKSxuPXRoaXMucG9pbnRJbmRleChlLnN0YXJ0LHQpOzA+biYmKG49LW4tMSk7dmFyIHI9dGhpcy5wb2ludEluZGV4KGUuZW5kLHQsbik7cmV0dXJuIDA+cj9yPS1yLTE6cisrLHRoaXMucmFuZ2VzLnNwbGljZShuLHItbixlKX0sdGhpcy5hZGRMaXN0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPWUubGVuZ3RoO24tLTspdC5wdXNoLmNhbGwodCx0aGlzLmFkZChlW25dKSk7cmV0dXJuIHR9LHRoaXMuc3Vic3RyYWN0UG9pbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5wb2ludEluZGV4KGUpO3JldHVybiB0Pj0wP3RoaXMucmFuZ2VzLnNwbGljZSh0LDEpOnZvaWQgMH0sdGhpcy5tZXJnZT1mdW5jdGlvbigpe3ZhciBlPVtdLHQ9dGhpcy5yYW5nZXM7dD10LnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gaShlLnN0YXJ0LHQuc3RhcnQpfSk7Zm9yKHZhciByLG49dFswXSxzPTE7czx0Lmxlbmd0aDtzKyspe3I9bixuPXRbc107dmFyIG89aShyLmVuZCxuLnN0YXJ0KTswPm98fCgwIT1vfHxyLmlzRW1wdHkoKXx8bi5pc0VtcHR5KCkpJiYoaShyLmVuZCxuLmVuZCk8MCYmKHIuZW5kLnJvdz1uLmVuZC5yb3csci5lbmQuY29sdW1uPW4uZW5kLmNvbHVtbiksdC5zcGxpY2UocywxKSxlLnB1c2gobiksbj1yLHMtLSl9cmV0dXJuIHRoaXMucmFuZ2VzPXQsZX0sdGhpcy5jb250YWlucz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnBvaW50SW5kZXgoe3JvdzplLGNvbHVtbjp0fSk+PTB9LHRoaXMuY29udGFpbnNQb2ludD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wb2ludEluZGV4KGUpPj0wfSx0aGlzLnJhbmdlQXRQb2ludD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnBvaW50SW5kZXgoZSk7cmV0dXJuIHQ+PTA/dGhpcy5yYW5nZXNbdF06dm9pZCAwfSx0aGlzLmNsaXBSb3dzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5yYW5nZXM7aWYoblswXS5zdGFydC5yb3c+dHx8bltuLmxlbmd0aC0xXS5zdGFydC5yb3c8ZSlyZXR1cm5bXTt2YXIgcj10aGlzLnBvaW50SW5kZXgoe3JvdzplLGNvbHVtbjowfSk7MD5yJiYocj0tci0xKTt2YXIgaT10aGlzLnBvaW50SW5kZXgoe3Jvdzp0LGNvbHVtbjowfSxyKTswPmkmJihpPS1pLTEpO2Zvcih2YXIgcz1bXSxvPXI7aT5vO28rKylzLnB1c2gobltvXSk7cmV0dXJuIHN9LHRoaXMucmVtb3ZlQWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmFuZ2VzLnNwbGljZSgwLHRoaXMucmFuZ2VzLmxlbmd0aCl9LHRoaXMuYXR0YWNoPWZ1bmN0aW9uKGUpe3RoaXMuc2Vzc2lvbiYmdGhpcy5kZXRhY2goKSx0aGlzLnNlc3Npb249ZSx0aGlzLm9uQ2hhbmdlPXRoaXMuJG9uQ2hhbmdlLmJpbmQodGhpcyksdGhpcy5zZXNzaW9uLm9uKCJjaGFuZ2UiLHRoaXMub25DaGFuZ2UpfSx0aGlzLmRldGFjaD1mdW5jdGlvbigpe3RoaXMuc2Vzc2lvbiYmKHRoaXMuc2Vzc2lvbi5yZW1vdmVMaXN0ZW5lcigiY2hhbmdlIix0aGlzLm9uQ2hhbmdlKSx0aGlzLnNlc3Npb249bnVsbCl9LHRoaXMuJG9uQ2hhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZGF0YS5yYW5nZTtpZigiaSI9PWUuZGF0YS5hY3Rpb25bMF0pdmFyIG49dC5zdGFydCxyPXQuZW5kO2Vsc2UgdmFyIHI9dC5zdGFydCxuPXQuZW5kO2Zvcih2YXIgaT1uLnJvdyxzPXIucm93LG89cy1pLHU9LW4uY29sdW1uK3IuY29sdW1uLGE9dGhpcy5yYW5nZXMsZj0wLGw9YS5sZW5ndGg7bD5mO2YrKyl7dmFyIGM9YVtmXTtpZighKGMuZW5kLnJvdzxpKSl7aWYoYy5zdGFydC5yb3c+aSlicmVhaztpZihjLnN0YXJ0LnJvdz09aSYmYy5zdGFydC5jb2x1bW4+PW4uY29sdW1uJiYoYy5zdGFydC5jb2x1bW4hPW4uY29sdW1ufHwhdGhpcy4kaW5zZXJ0UmlnaHQpJiYoYy5zdGFydC5jb2x1bW4rPXUsYy5zdGFydC5yb3crPW8pLGMuZW5kLnJvdz09aSYmYy5lbmQuY29sdW1uPj1uLmNvbHVtbil7aWYoYy5lbmQuY29sdW1uPT1uLmNvbHVtbiYmdGhpcy4kaW5zZXJ0UmlnaHQpY29udGludWU7Yy5lbmQuY29sdW1uPT1uLmNvbHVtbiYmdT4wJiZsLTE+ZiYmYy5lbmQuY29sdW1uPmMuc3RhcnQuY29sdW1uJiZjLmVuZC5jb2x1bW49PWFbZisxXS5zdGFydC5jb2x1bW4mJihjLmVuZC5jb2x1bW4tPXUpLGMuZW5kLmNvbHVtbis9dSxjLmVuZC5yb3crPW99fX1pZigwIT1vJiZsPmYpZm9yKDtsPmY7ZisrKXt2YXIgYz1hW2ZdO2Muc3RhcnQucm93Kz1vLGMuZW5kLnJvdys9b319fSkuY2FsbChzLnByb3RvdHlwZSksdC5SYW5nZUxpc3Q9c30pLGRlZmluZSgiYWNlL3JhbmdlIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oZSx0KXt2YXIgcj1mdW5jdGlvbihlLHQpe3JldHVybiBlLnJvdy10LnJvd3x8ZS5jb2x1bW4tdC5jb2x1bW59LGk9ZnVuY3Rpb24oZSx0LG4scil7dGhpcy5zdGFydD17cm93OmUsY29sdW1uOnR9LHRoaXMuZW5kPXtyb3c6bixjb2x1bW46cn19OyhmdW5jdGlvbigpe3RoaXMuaXNFcXVhbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zdGFydC5yb3c9PT1lLnN0YXJ0LnJvdyYmdGhpcy5lbmQucm93PT09ZS5lbmQucm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09PWUuc3RhcnQuY29sdW1uJiZ0aGlzLmVuZC5jb2x1bW49PT1lLmVuZC5jb2x1bW59LHRoaXMudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iUmFuZ2U6IFsiK3RoaXMuc3RhcnQucm93KyIvIit0aGlzLnN0YXJ0LmNvbHVtbisiXSAtPiBbIit0aGlzLmVuZC5yb3crIi8iK3RoaXMuZW5kLmNvbHVtbisiXSJ9LHRoaXMuY29udGFpbnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKGUsdCl9LHRoaXMuY29tcGFyZVJhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5lbmQscj1lLnN0YXJ0O3JldHVybiB0PXRoaXMuY29tcGFyZShuLnJvdyxuLmNvbHVtbiksMT09dD8odD10aGlzLmNvbXBhcmUoci5yb3csci5jb2x1bW4pLDE9PXQ/MjowPT10PzE6MCk6LTE9PXQ/LTI6KHQ9dGhpcy5jb21wYXJlKHIucm93LHIuY29sdW1uKSwtMT09dD8tMToxPT10PzQyOjApfSx0aGlzLmNvbXBhcmVQb2ludD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb21wYXJlKGUucm93LGUuY29sdW1uKX0sdGhpcy5jb250YWluc1JhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiAwPT10aGlzLmNvbXBhcmVQb2ludChlLnN0YXJ0KSYmMD09dGhpcy5jb21wYXJlUG9pbnQoZS5lbmQpfSx0aGlzLmludGVyc2VjdHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jb21wYXJlUmFuZ2UoZSk7cmV0dXJuLTE9PXR8fDA9PXR8fDE9PXR9LHRoaXMuaXNFbmQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmQucm93PT1lJiZ0aGlzLmVuZC5jb2x1bW49PXR9LHRoaXMuaXNTdGFydD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnN0YXJ0LnJvdz09ZSYmdGhpcy5zdGFydC5jb2x1bW49PXR9LHRoaXMuc2V0U3RhcnQ9ZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGU/KHRoaXMuc3RhcnQuY29sdW1uPWUuY29sdW1uLHRoaXMuc3RhcnQucm93PWUucm93KToodGhpcy5zdGFydC5yb3c9ZSx0aGlzLnN0YXJ0LmNvbHVtbj10KX0sdGhpcy5zZXRFbmQ9ZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGU/KHRoaXMuZW5kLmNvbHVtbj1lLmNvbHVtbix0aGlzLmVuZC5yb3c9ZS5yb3cpOih0aGlzLmVuZC5yb3c9ZSx0aGlzLmVuZC5jb2x1bW49dCl9LHRoaXMuaW5zaWRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA9PXRoaXMuY29tcGFyZShlLHQpP3RoaXMuaXNFbmQoZSx0KXx8dGhpcy5pc1N0YXJ0KGUsdCk/ITE6ITA6ITF9LHRoaXMuaW5zaWRlU3RhcnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKGUsdCk/dGhpcy5pc0VuZChlLHQpPyExOiEwOiExfSx0aGlzLmluc2lkZUVuZD1mdW5jdGlvbihlLHQpe3JldHVybiAwPT10aGlzLmNvbXBhcmUoZSx0KT90aGlzLmlzU3RhcnQoZSx0KT8hMTohMDohMX0sdGhpcy5jb21wYXJlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuaXNNdWx0aUxpbmUoKXx8ZSE9PXRoaXMuc3RhcnQucm93P2U8dGhpcy5zdGFydC5yb3c/LTE6ZT50aGlzLmVuZC5yb3c/MTp0aGlzLnN0YXJ0LnJvdz09PWU/dD49dGhpcy5zdGFydC5jb2x1bW4/MDotMTp0aGlzLmVuZC5yb3c9PT1lP3Q8PXRoaXMuZW5kLmNvbHVtbj8wOjE6MDp0PHRoaXMuc3RhcnQuY29sdW1uPy0xOnQ+dGhpcy5lbmQuY29sdW1uPzE6MH0sdGhpcy5jb21wYXJlU3RhcnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zdGFydC5yb3c9PWUmJnRoaXMuc3RhcnQuY29sdW1uPT10Py0xOnRoaXMuY29tcGFyZShlLHQpfSx0aGlzLmNvbXBhcmVFbmQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmQucm93PT1lJiZ0aGlzLmVuZC5jb2x1bW49PXQ/MTp0aGlzLmNvbXBhcmUoZSx0KX0sdGhpcy5jb21wYXJlSW5zaWRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5kLnJvdz09ZSYmdGhpcy5lbmQuY29sdW1uPT10PzE6dGhpcy5zdGFydC5yb3c9PWUmJnRoaXMuc3RhcnQuY29sdW1uPT10Py0xOnRoaXMuY29tcGFyZShlLHQpfSx0aGlzLmNsaXBSb3dzPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5lbmQucm93PnQpdmFyIG49e3Jvdzp0KzEsY29sdW1uOjB9O2Vsc2UgaWYodGhpcy5lbmQucm93PGUpdmFyIG49e3JvdzplLGNvbHVtbjowfTtpZih0aGlzLnN0YXJ0LnJvdz50KXZhciByPXtyb3c6dCsxLGNvbHVtbjowfTtlbHNlIGlmKHRoaXMuc3RhcnQucm93PGUpdmFyIHI9e3JvdzplLGNvbHVtbjowfTtyZXR1cm4gaS5mcm9tUG9pbnRzKHJ8fHRoaXMuc3RhcnQsbnx8dGhpcy5lbmQpfSx0aGlzLmV4dGVuZD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuY29tcGFyZShlLHQpO2lmKDA9PW4pcmV0dXJuIHRoaXM7aWYoLTE9PW4pdmFyIHI9e3JvdzplLGNvbHVtbjp0fTtlbHNlIHZhciBzPXtyb3c6ZSxjb2x1bW46dH07cmV0dXJuIGkuZnJvbVBvaW50cyhyfHx0aGlzLnN0YXJ0LHN8fHRoaXMuZW5kKX0sdGhpcy5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnQucm93PT09dGhpcy5lbmQucm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09PXRoaXMuZW5kLmNvbHVtbn0sdGhpcy5pc011bHRpTGluZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0LnJvdyE9PXRoaXMuZW5kLnJvd30sdGhpcy5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBpLmZyb21Qb2ludHModGhpcy5zdGFydCx0aGlzLmVuZCl9LHRoaXMuY29sbGFwc2VSb3dzPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PXRoaXMuZW5kLmNvbHVtbj9uZXcgaSh0aGlzLnN0YXJ0LnJvdywwLE1hdGgubWF4KHRoaXMuc3RhcnQucm93LHRoaXMuZW5kLnJvdy0xKSwwKTpuZXcgaSh0aGlzLnN0YXJ0LnJvdywwLHRoaXMuZW5kLnJvdywwKX0sdGhpcy50b1NjcmVlblJhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuc3RhcnQpLG49ZS5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24odGhpcy5lbmQpO3JldHVybiBuZXcgaSh0LnJvdyx0LmNvbHVtbixuLnJvdyxuLmNvbHVtbil9LHRoaXMubW92ZUJ5PWZ1bmN0aW9uKGUsdCl7dGhpcy5zdGFydC5yb3crPWUsdGhpcy5zdGFydC5jb2x1bW4rPXQsdGhpcy5lbmQucm93Kz1lLHRoaXMuZW5kLmNvbHVtbis9dH19KS5jYWxsKGkucHJvdG90eXBlKSxpLmZyb21Qb2ludHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGkoZS5yb3csZS5jb2x1bW4sdC5yb3csdC5jb2x1bW4pfSxpLmNvbXBhcmVQb2ludHM9cixpLmNvbXBhcmVQb2ludHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5yb3ctdC5yb3d8fGUuY29sdW1uLXQuY29sdW1ufSx0LlJhbmdlPWl9KSxkZWZpbmUoImFjZS9lZGl0X3Nlc3Npb24vYnJhY2tldF9tYXRjaCIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS90b2tlbl9pdGVyYXRvciIsImFjZS9yYW5nZSJdLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcygpe3RoaXMuZmluZE1hdGNoaW5nQnJhY2tldD1mdW5jdGlvbihlLHQpe2lmKDA9PWUuY29sdW1uKXJldHVybiBudWxsO3ZhciBuPXR8fHRoaXMuZ2V0TGluZShlLnJvdykuY2hhckF0KGUuY29sdW1uLTEpO2lmKCIiPT1uKXJldHVybiBudWxsO3ZhciByPW4ubWF0Y2goLyhbXChcW1x7XSl8KFtcKVxdXH1dKS8pO3JldHVybiByP3JbMV0/dGhpcy4kZmluZENsb3NpbmdCcmFja2V0KHJbMV0sZSk6dGhpcy4kZmluZE9wZW5pbmdCcmFja2V0KHJbMl0sZSk6bnVsbH0sdGhpcy5nZXRCcmFja2V0UmFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHIsdD10aGlzLmdldExpbmUoZS5yb3cpLG49ITAscz10LmNoYXJBdChlLmNvbHVtbi0xKSxvPXMmJnMubWF0Y2goLyhbXChcW1x7XSl8KFtcKVxdXH1dKS8pO2lmKG98fChzPXQuY2hhckF0KGUuY29sdW1uKSxlPXtyb3c6ZS5yb3csY29sdW1uOmUuY29sdW1uKzF9LG89cyYmcy5tYXRjaCgvKFtcKFxbXHtdKXwoW1wpXF1cfV0pLyksbj0hMSksIW8pcmV0dXJuIG51bGw7aWYob1sxXSl7dmFyIHU9dGhpcy4kZmluZENsb3NpbmdCcmFja2V0KG9bMV0sZSk7aWYoIXUpcmV0dXJuIG51bGw7cj1pLmZyb21Qb2ludHMoZSx1KSxufHwoci5lbmQuY29sdW1uKyssci5zdGFydC5jb2x1bW4tLSksci5jdXJzb3I9ci5lbmR9ZWxzZXt2YXIgdT10aGlzLiRmaW5kT3BlbmluZ0JyYWNrZXQob1syXSxlKTtpZighdSlyZXR1cm4gbnVsbDtyPWkuZnJvbVBvaW50cyh1LGUpLG58fChyLnN0YXJ0LmNvbHVtbisrLHIuZW5kLmNvbHVtbi0tKSxyLmN1cnNvcj1yLnN0YXJ0fXJldHVybiByfSx0aGlzLiRicmFja2V0cz17IikiOiIoIiwiKCI6IikiLCJdIjoiWyIsIlsiOiJdIiwieyI6In0iLCJ9IjoieyJ9LHRoaXMuJGZpbmRPcGVuaW5nQnJhY2tldD1mdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcy4kYnJhY2tldHNbZV0scz0xLG89bmV3IHIodGhpcyx0LnJvdyx0LmNvbHVtbiksdT1vLmdldEN1cnJlbnRUb2tlbigpO2lmKHV8fCh1PW8uc3RlcEZvcndhcmQoKSksdSl7bnx8KG49bmV3IFJlZ0V4cCgiKFxcLj8iK3UudHlwZS5yZXBsYWNlKCIuIiwiXFwuIikucmVwbGFjZSgicnBhcmVuIiwiLnBhcmVuIikrIikrIikpO2Zvcih2YXIgYT10LmNvbHVtbi1vLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpLTIsZj11LnZhbHVlOzspe2Zvcig7YT49MDspe3ZhciBsPWYuY2hhckF0KGEpO2lmKGw9PWkpe2lmKHMtPTEsMD09cylyZXR1cm57cm93Om8uZ2V0Q3VycmVudFRva2VuUm93KCksY29sdW1uOmErby5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKX19ZWxzZSBsPT1lJiYocys9MSk7YS09MX1kbyB1PW8uc3RlcEJhY2t3YXJkKCk7d2hpbGUodSYmIW4udGVzdCh1LnR5cGUpKTtpZihudWxsPT11KWJyZWFrO2Y9dS52YWx1ZSxhPWYubGVuZ3RoLTF9cmV0dXJuIG51bGx9fSx0aGlzLiRmaW5kQ2xvc2luZ0JyYWNrZXQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXMuJGJyYWNrZXRzW2VdLHM9MSxvPW5ldyByKHRoaXMsdC5yb3csdC5jb2x1bW4pLHU9by5nZXRDdXJyZW50VG9rZW4oKTtpZih1fHwodT1vLnN0ZXBGb3J3YXJkKCkpLHUpe258fChuPW5ldyBSZWdFeHAoIihcXC4/Iit1LnR5cGUucmVwbGFjZSgiLiIsIlxcLiIpLnJlcGxhY2UoImxwYXJlbiIsIi5wYXJlbiIpKyIpKyIpKTtmb3IodmFyIGE9dC5jb2x1bW4tby5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKTs7KXtmb3IodmFyIGY9dS52YWx1ZSxsPWYubGVuZ3RoO2w+YTspe3ZhciBjPWYuY2hhckF0KGEpO2lmKGM9PWkpe2lmKHMtPTEsMD09cylyZXR1cm57cm93Om8uZ2V0Q3VycmVudFRva2VuUm93KCksY29sdW1uOmErby5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKX19ZWxzZSBjPT1lJiYocys9MSk7YSs9MX1kbyB1PW8uc3RlcEZvcndhcmQoKTt3aGlsZSh1JiYhbi50ZXN0KHUudHlwZSkpO2lmKG51bGw9PXUpYnJlYWs7YT0wfXJldHVybiBudWxsfX19dmFyIHI9ZSgiLi4vdG9rZW5faXRlcmF0b3IiKS5Ub2tlbkl0ZXJhdG9yLGk9ZSgiLi4vcmFuZ2UiKS5SYW5nZTt0LkJyYWNrZXRNYXRjaD1zfSksZGVmaW5lKCJhY2Uvc2VsZWN0aW9uIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9vb3AiLCJhY2UvbGliL2xhbmciLCJhY2UvbGliL2V2ZW50X2VtaXR0ZXIiLCJhY2UvcmFuZ2UiXSxmdW5jdGlvbihlLHQpe3ZhciByPWUoIi4vbGliL29vcCIpLGk9ZSgiLi9saWIvbGFuZyIpLHM9ZSgiLi9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcixvPWUoIi4vcmFuZ2UiKS5SYW5nZSx1PWZ1bmN0aW9uKGUpe3RoaXMuc2Vzc2lvbj1lLHRoaXMuZG9jPWUuZ2V0RG9jdW1lbnQoKSx0aGlzLmNsZWFyU2VsZWN0aW9uKCksdGhpcy5sZWFkPXRoaXMuc2VsZWN0aW9uTGVhZD10aGlzLmRvYy5jcmVhdGVBbmNob3IoMCwwKSx0aGlzLmFuY2hvcj10aGlzLnNlbGVjdGlvbkFuY2hvcj10aGlzLmRvYy5jcmVhdGVBbmNob3IoMCwwKTt2YXIgdD10aGlzO3RoaXMubGVhZC5vbigiY2hhbmdlIixmdW5jdGlvbihlKXt0Ll9lbWl0KCJjaGFuZ2VDdXJzb3IiKSx0LiRpc0VtcHR5fHx0Ll9lbWl0KCJjaGFuZ2VTZWxlY3Rpb24iKSwhdC4ka2VlcERlc2lyZWRDb2x1bW5PbkNoYW5nZSYmZS5vbGQuY29sdW1uIT1lLnZhbHVlLmNvbHVtbiYmKHQuJGRlc2lyZWRDb2x1bW49bnVsbCl9KSx0aGlzLnNlbGVjdGlvbkFuY2hvci5vbigiY2hhbmdlIixmdW5jdGlvbigpe3QuJGlzRW1wdHl8fHQuX2VtaXQoImNoYW5nZVNlbGVjdGlvbiIpfSl9OyhmdW5jdGlvbigpe3IuaW1wbGVtZW50KHRoaXMscyksdGhpcy5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGlzRW1wdHl8fHRoaXMuYW5jaG9yLnJvdz09dGhpcy5sZWFkLnJvdyYmdGhpcy5hbmNob3IuY29sdW1uPT10aGlzLmxlYWQuY29sdW1ufSx0aGlzLmlzTXVsdGlMaW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNFbXB0eSgpPyExOnRoaXMuZ2V0UmFuZ2UoKS5pc011bHRpTGluZSgpfSx0aGlzLmdldEN1cnNvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlYWQuZ2V0UG9zaXRpb24oKX0sdGhpcy5zZXRTZWxlY3Rpb25BbmNob3I9ZnVuY3Rpb24oZSx0KXt0aGlzLmFuY2hvci5zZXRQb3NpdGlvbihlLHQpLHRoaXMuJGlzRW1wdHkmJih0aGlzLiRpc0VtcHR5PSExLHRoaXMuX2VtaXQoImNoYW5nZVNlbGVjdGlvbiIpKX0sdGhpcy5nZXRTZWxlY3Rpb25BbmNob3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kaXNFbXB0eT90aGlzLmdldFNlbGVjdGlvbkxlYWQoKTp0aGlzLmFuY2hvci5nZXRQb3NpdGlvbigpfSx0aGlzLmdldFNlbGVjdGlvbkxlYWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZWFkLmdldFBvc2l0aW9uKCl9LHRoaXMuc2hpZnRTZWxlY3Rpb249ZnVuY3Rpb24oZSl7aWYodGhpcy4kaXNFbXB0eSlyZXR1cm4gdm9pZCB0aGlzLm1vdmVDdXJzb3JUbyh0aGlzLmxlYWQucm93LHRoaXMubGVhZC5jb2x1bW4rZSk7dmFyIHQ9dGhpcy5nZXRTZWxlY3Rpb25BbmNob3IoKSxuPXRoaXMuZ2V0U2VsZWN0aW9uTGVhZCgpLHI9dGhpcy5pc0JhY2t3YXJkcygpOyghcnx8MCE9PXQuY29sdW1uKSYmdGhpcy5zZXRTZWxlY3Rpb25BbmNob3IodC5yb3csdC5jb2x1bW4rZSksKHJ8fDAhPT1uLmNvbHVtbikmJnRoaXMuJG1vdmVTZWxlY3Rpb24oZnVuY3Rpb24oKXt0aGlzLm1vdmVDdXJzb3JUbyhuLnJvdyxuLmNvbHVtbitlKX0pfSx0aGlzLmlzQmFja3dhcmRzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5hbmNob3IsdD10aGlzLmxlYWQ7cmV0dXJuIGUucm93PnQucm93fHxlLnJvdz09dC5yb3cmJmUuY29sdW1uPnQuY29sdW1ufSx0aGlzLmdldFJhbmdlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5hbmNob3IsdD10aGlzLmxlYWQ7cmV0dXJuIHRoaXMuaXNFbXB0eSgpP28uZnJvbVBvaW50cyh0LHQpOnRoaXMuaXNCYWNrd2FyZHMoKT9vLmZyb21Qb2ludHModCxlKTpvLmZyb21Qb2ludHMoZSx0KX0sdGhpcy5jbGVhclNlbGVjdGlvbj1mdW5jdGlvbigpe3RoaXMuJGlzRW1wdHl8fCh0aGlzLiRpc0VtcHR5PSEwLHRoaXMuX2VtaXQoImNoYW5nZVNlbGVjdGlvbiIpKX0sdGhpcy5zZWxlY3RBbGw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRvYy5nZXRMZW5ndGgoKS0xO3RoaXMuc2V0U2VsZWN0aW9uQW5jaG9yKDAsMCksdGhpcy5tb3ZlQ3Vyc29yVG8oZSx0aGlzLmRvYy5nZXRMaW5lKGUpLmxlbmd0aCl9LHRoaXMuc2V0UmFuZ2U9dGhpcy5zZXRTZWxlY3Rpb25SYW5nZT1mdW5jdGlvbihlLHQpe3Q/KHRoaXMuc2V0U2VsZWN0aW9uQW5jaG9yKGUuZW5kLnJvdyxlLmVuZC5jb2x1bW4pLHRoaXMuc2VsZWN0VG8oZS5zdGFydC5yb3csZS5zdGFydC5jb2x1bW4pKToodGhpcy5zZXRTZWxlY3Rpb25BbmNob3IoZS5zdGFydC5yb3csZS5zdGFydC5jb2x1bW4pLHRoaXMuc2VsZWN0VG8oZS5lbmQucm93LGUuZW5kLmNvbHVtbikpLHRoaXMuZ2V0UmFuZ2UoKS5pc0VtcHR5KCkmJih0aGlzLiRpc0VtcHR5PSEwKSx0aGlzLiRkZXNpcmVkQ29sdW1uPW51bGx9LHRoaXMuJG1vdmVTZWxlY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZWFkO3RoaXMuJGlzRW1wdHkmJnRoaXMuc2V0U2VsZWN0aW9uQW5jaG9yKHQucm93LHQuY29sdW1uKSxlLmNhbGwodGhpcyl9LHRoaXMuc2VsZWN0VG89ZnVuY3Rpb24oZSx0KXt0aGlzLiRtb3ZlU2VsZWN0aW9uKGZ1bmN0aW9uKCl7dGhpcy5tb3ZlQ3Vyc29yVG8oZSx0KX0pfSx0aGlzLnNlbGVjdFRvUG9zaXRpb249ZnVuY3Rpb24oZSl7dGhpcy4kbW92ZVNlbGVjdGlvbihmdW5jdGlvbigpe3RoaXMubW92ZUN1cnNvclRvUG9zaXRpb24oZSl9KX0sdGhpcy5tb3ZlVG89ZnVuY3Rpb24oZSx0KXt0aGlzLmNsZWFyU2VsZWN0aW9uKCksdGhpcy5tb3ZlQ3Vyc29yVG8oZSx0KX0sdGhpcy5tb3ZlVG9Qb3NpdGlvbj1mdW5jdGlvbihlKXt0aGlzLmNsZWFyU2VsZWN0aW9uKCksdGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihlKX0sdGhpcy5zZWxlY3RVcD1mdW5jdGlvbigpe3RoaXMuJG1vdmVTZWxlY3Rpb24odGhpcy5tb3ZlQ3Vyc29yVXApfSx0aGlzLnNlbGVjdERvd249ZnVuY3Rpb24oKXt0aGlzLiRtb3ZlU2VsZWN0aW9uKHRoaXMubW92ZUN1cnNvckRvd24pfSx0aGlzLnNlbGVjdFJpZ2h0PWZ1bmN0aW9uKCl7dGhpcy4kbW92ZVNlbGVjdGlvbih0aGlzLm1vdmVDdXJzb3JSaWdodCl9LHRoaXMuc2VsZWN0TGVmdD1mdW5jdGlvbigpe3RoaXMuJG1vdmVTZWxlY3Rpb24odGhpcy5tb3ZlQ3Vyc29yTGVmdCl9LHRoaXMuc2VsZWN0TGluZVN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy4kbW92ZVNlbGVjdGlvbih0aGlzLm1vdmVDdXJzb3JMaW5lU3RhcnQpfSx0aGlzLnNlbGVjdExpbmVFbmQ9ZnVuY3Rpb24oKXt0aGlzLiRtb3ZlU2VsZWN0aW9uKHRoaXMubW92ZUN1cnNvckxpbmVFbmQpfSx0aGlzLnNlbGVjdEZpbGVFbmQ9ZnVuY3Rpb24oKXt0aGlzLiRtb3ZlU2VsZWN0aW9uKHRoaXMubW92ZUN1cnNvckZpbGVFbmQpfSx0aGlzLnNlbGVjdEZpbGVTdGFydD1mdW5jdGlvbigpe3RoaXMuJG1vdmVTZWxlY3Rpb24odGhpcy5tb3ZlQ3Vyc29yRmlsZVN0YXJ0KX0sdGhpcy5zZWxlY3RXb3JkUmlnaHQ9ZnVuY3Rpb24oKXt0aGlzLiRtb3ZlU2VsZWN0aW9uKHRoaXMubW92ZUN1cnNvcldvcmRSaWdodCl9LHRoaXMuc2VsZWN0V29yZExlZnQ9ZnVuY3Rpb24oKXt0aGlzLiRtb3ZlU2VsZWN0aW9uKHRoaXMubW92ZUN1cnNvcldvcmRMZWZ0KX0sdGhpcy5nZXRXb3JkUmFuZ2U9ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIj09dHlwZW9mIHQpe3ZhciBuPWV8fHRoaXMubGVhZDtlPW4ucm93LHQ9bi5jb2x1bW59cmV0dXJuIHRoaXMuc2Vzc2lvbi5nZXRXb3JkUmFuZ2UoZSx0KX0sdGhpcy5zZWxlY3RXb3JkPWZ1bmN0aW9uKCl7dGhpcy5zZXRTZWxlY3Rpb25SYW5nZSh0aGlzLmdldFdvcmRSYW5nZSgpKX0sdGhpcy5zZWxlY3RBV29yZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Q3Vyc29yKCksdD10aGlzLnNlc3Npb24uZ2V0QVdvcmRSYW5nZShlLnJvdyxlLmNvbHVtbik7dGhpcy5zZXRTZWxlY3Rpb25SYW5nZSh0KX0sdGhpcy5nZXRMaW5lUmFuZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgcixuPSJudW1iZXIiPT10eXBlb2YgZT9lOnRoaXMubGVhZC5yb3csaT10aGlzLnNlc3Npb24uZ2V0Rm9sZExpbmUobik7cmV0dXJuIGk/KG49aS5zdGFydC5yb3cscj1pLmVuZC5yb3cpOnI9bix0PT09ITA/bmV3IG8obiwwLHIsdGhpcy5zZXNzaW9uLmdldExpbmUocikubGVuZ3RoKTpuZXcgbyhuLDAscisxLDApfSx0aGlzLnNlbGVjdExpbmU9ZnVuY3Rpb24oKXt0aGlzLnNldFNlbGVjdGlvblJhbmdlKHRoaXMuZ2V0TGluZVJhbmdlKCkpfSx0aGlzLm1vdmVDdXJzb3JVcD1mdW5jdGlvbigpe3RoaXMubW92ZUN1cnNvckJ5KC0xLDApfSx0aGlzLm1vdmVDdXJzb3JEb3duPWZ1bmN0aW9uKCl7dGhpcy5tb3ZlQ3Vyc29yQnkoMSwwKX0sdGhpcy5tb3ZlQ3Vyc29yTGVmdD1mdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5sZWFkLmdldFBvc2l0aW9uKCk7aWYodD10aGlzLnNlc3Npb24uZ2V0Rm9sZEF0KGUucm93LGUuY29sdW1uLC0xKSl0aGlzLm1vdmVDdXJzb3JUbyh0LnN0YXJ0LnJvdyx0LnN0YXJ0LmNvbHVtbik7ZWxzZSBpZigwPT1lLmNvbHVtbillLnJvdz4wJiZ0aGlzLm1vdmVDdXJzb3JUbyhlLnJvdy0xLHRoaXMuZG9jLmdldExpbmUoZS5yb3ctMSkubGVuZ3RoKTtlbHNle3ZhciBuPXRoaXMuc2Vzc2lvbi5nZXRUYWJTaXplKCk7dGhpcy5zZXNzaW9uLmlzVGFiU3RvcChlKSYmdGhpcy5kb2MuZ2V0TGluZShlLnJvdykuc2xpY2UoZS5jb2x1bW4tbixlLmNvbHVtbikuc3BsaXQoIiAiKS5sZW5ndGgtMT09bj90aGlzLm1vdmVDdXJzb3JCeSgwLC1uKTp0aGlzLm1vdmVDdXJzb3JCeSgwLC0xKX19LHRoaXMubW92ZUN1cnNvclJpZ2h0PWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLmxlYWQuZ2V0UG9zaXRpb24oKTtpZih0PXRoaXMuc2Vzc2lvbi5nZXRGb2xkQXQoZS5yb3csZS5jb2x1bW4sMSkpdGhpcy5tb3ZlQ3Vyc29yVG8odC5lbmQucm93LHQuZW5kLmNvbHVtbik7ZWxzZSBpZih0aGlzLmxlYWQuY29sdW1uPT10aGlzLmRvYy5nZXRMaW5lKHRoaXMubGVhZC5yb3cpLmxlbmd0aCl0aGlzLmxlYWQucm93PHRoaXMuZG9jLmdldExlbmd0aCgpLTEmJnRoaXMubW92ZUN1cnNvclRvKHRoaXMubGVhZC5yb3crMSwwKTtlbHNle3ZhciBuPXRoaXMuc2Vzc2lvbi5nZXRUYWJTaXplKCksZT10aGlzLmxlYWQ7dGhpcy5zZXNzaW9uLmlzVGFiU3RvcChlKSYmdGhpcy5kb2MuZ2V0TGluZShlLnJvdykuc2xpY2UoZS5jb2x1bW4sZS5jb2x1bW4rbikuc3BsaXQoIiAiKS5sZW5ndGgtMT09bj90aGlzLm1vdmVDdXJzb3JCeSgwLG4pOnRoaXMubW92ZUN1cnNvckJ5KDAsMSl9fSx0aGlzLm1vdmVDdXJzb3JMaW5lU3RhcnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlYWQucm93LHQ9dGhpcy5sZWFkLmNvbHVtbixuPXRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUm93KGUsdCkscj10aGlzLnNlc3Npb24uc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uKG4sMCksaT10aGlzLnNlc3Npb24uZ2V0RGlzcGxheUxpbmUoZSxudWxsLHIucm93LHIuY29sdW1uKSxzPWkubWF0Y2goL15ccyovKTtzWzBdLmxlbmd0aCE9dCYmIXRoaXMuc2Vzc2lvbi4kdXNlRW1hY3NTdHlsZUxpbmVTdGFydCYmKHIuY29sdW1uKz1zWzBdLmxlbmd0aCksdGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihyKX0sdGhpcy5tb3ZlQ3Vyc29yTGluZUVuZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVhZCx0PXRoaXMuc2Vzc2lvbi5nZXREb2N1bWVudExhc3RSb3dDb2x1bW5Qb3NpdGlvbihlLnJvdyxlLmNvbHVtbik7aWYodGhpcy5sZWFkLmNvbHVtbj09dC5jb2x1bW4pe3ZhciBuPXRoaXMuc2Vzc2lvbi5nZXRMaW5lKHQucm93KTtpZih0LmNvbHVtbj09bi5sZW5ndGgpe3ZhciByPW4uc2VhcmNoKC9ccyskLyk7cj4wJiYodC5jb2x1bW49cil9fXRoaXMubW92ZUN1cnNvclRvKHQucm93LHQuY29sdW1uKX0sdGhpcy5tb3ZlQ3Vyc29yRmlsZUVuZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZG9jLmdldExlbmd0aCgpLTEsdD10aGlzLmRvYy5nZXRMaW5lKGUpLmxlbmd0aDt0aGlzLm1vdmVDdXJzb3JUbyhlLHQpfSx0aGlzLm1vdmVDdXJzb3JGaWxlU3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLm1vdmVDdXJzb3JUbygwLDApfSx0aGlzLm1vdmVDdXJzb3JMb25nV29yZFJpZ2h0PWZ1bmN0aW9uKCl7dmFyIGksZT10aGlzLmxlYWQucm93LHQ9dGhpcy5sZWFkLmNvbHVtbixuPXRoaXMuZG9jLmdldExpbmUoZSkscj1uLnN1YnN0cmluZyh0KTt0aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5sYXN0SW5kZXg9MCx0aGlzLnNlc3Npb24udG9rZW5SZS5sYXN0SW5kZXg9MDt2YXIgcz10aGlzLnNlc3Npb24uZ2V0Rm9sZEF0KGUsdCwxKTtyZXR1cm4gcz92b2lkIHRoaXMubW92ZUN1cnNvclRvKHMuZW5kLnJvdyxzLmVuZC5jb2x1bW4pOigoaT10aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5leGVjKHIpKSYmKHQrPXRoaXMuc2Vzc2lvbi5ub25Ub2tlblJlLmxhc3RJbmRleCx0aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5sYXN0SW5kZXg9MCxyPW4uc3Vic3RyaW5nKHQpKSx0Pj1uLmxlbmd0aD8odGhpcy5tb3ZlQ3Vyc29yVG8oZSxuLmxlbmd0aCksdGhpcy5tb3ZlQ3Vyc29yUmlnaHQoKSxlPHRoaXMuZG9jLmdldExlbmd0aCgpLTEmJnRoaXMubW92ZUN1cnNvcldvcmRSaWdodCgpLHZvaWQgMCk6KChpPXRoaXMuc2Vzc2lvbi50b2tlblJlLmV4ZWMocikpJiYodCs9dGhpcy5zZXNzaW9uLnRva2VuUmUubGFzdEluZGV4LHRoaXMuc2Vzc2lvbi50b2tlblJlLmxhc3RJbmRleD0wKSx2b2lkIHRoaXMubW92ZUN1cnNvclRvKGUsdCkpKX0sdGhpcy5tb3ZlQ3Vyc29yTG9uZ1dvcmRMZWZ0PWZ1bmN0aW9uKCl7dmFyIG4sZT10aGlzLmxlYWQucm93LHQ9dGhpcy5sZWFkLmNvbHVtbjtpZihuPXRoaXMuc2Vzc2lvbi5nZXRGb2xkQXQoZSx0LC0xKSlyZXR1cm4gdm9pZCB0aGlzLm1vdmVDdXJzb3JUbyhuLnN0YXJ0LnJvdyxuLnN0YXJ0LmNvbHVtbik7dmFyIHI9dGhpcy5zZXNzaW9uLmdldEZvbGRTdHJpbmdBdChlLHQsLTEpO251bGw9PXImJihyPXRoaXMuZG9jLmdldExpbmUoZSkuc3Vic3RyaW5nKDAsdCkpO3ZhciBvLHM9aS5zdHJpbmdSZXZlcnNlKHIpO3JldHVybiB0aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5sYXN0SW5kZXg9MCx0aGlzLnNlc3Npb24udG9rZW5SZS5sYXN0SW5kZXg9MCwobz10aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5leGVjKHMpKSYmKHQtPXRoaXMuc2Vzc2lvbi5ub25Ub2tlblJlLmxhc3RJbmRleCxzPXMuc2xpY2UodGhpcy5zZXNzaW9uLm5vblRva2VuUmUubGFzdEluZGV4KSx0aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5sYXN0SW5kZXg9MCksMD49dD8odGhpcy5tb3ZlQ3Vyc29yVG8oZSwwKSx0aGlzLm1vdmVDdXJzb3JMZWZ0KCksZT4wJiZ0aGlzLm1vdmVDdXJzb3JXb3JkTGVmdCgpLHZvaWQgMCk6KChvPXRoaXMuc2Vzc2lvbi50b2tlblJlLmV4ZWMocykpJiYodC09dGhpcy5zZXNzaW9uLnRva2VuUmUubGFzdEluZGV4LHRoaXMuc2Vzc2lvbi50b2tlblJlLmxhc3RJbmRleD0wKSx2b2lkIHRoaXMubW92ZUN1cnNvclRvKGUsdCkpfSx0aGlzLiRzaG9ydFdvcmRFbmRJbmRleD1mdW5jdGlvbihlKXt2YXIgdCxyLG49MCxpPS9ccy8scz10aGlzLnNlc3Npb24udG9rZW5SZTtpZihzLmxhc3RJbmRleD0wLHQ9dGhpcy5zZXNzaW9uLnRva2VuUmUuZXhlYyhlKSluPXRoaXMuc2Vzc2lvbi50b2tlblJlLmxhc3RJbmRleDtlbHNle2Zvcig7KHI9ZVtuXSkmJmkudGVzdChyKTspbisrO2lmKDE+bilmb3Iocy5sYXN0SW5kZXg9MDsocj1lW25dKSYmIXMudGVzdChyKTspaWYocy5sYXN0SW5kZXg9MCxuKyssaS50ZXN0KHIpKXtpZihuPjIpe24tLTticmVha31mb3IoOyhyPWVbbl0pJiZpLnRlc3Qocik7KW4rKztpZihuPjIpYnJlYWt9fXJldHVybiBzLmxhc3RJbmRleD0wLG59LHRoaXMubW92ZUN1cnNvclNob3J0V29yZFJpZ2h0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZWFkLnJvdyx0PXRoaXMubGVhZC5jb2x1bW4sbj10aGlzLmRvYy5nZXRMaW5lKGUpLHI9bi5zdWJzdHJpbmcodCksaT10aGlzLnNlc3Npb24uZ2V0Rm9sZEF0KGUsdCwxKTtpZihpKXJldHVybiB0aGlzLm1vdmVDdXJzb3JUbyhpLmVuZC5yb3csaS5lbmQuY29sdW1uKTtpZih0PT1uLmxlbmd0aCl7dmFyIHM9dGhpcy5kb2MuZ2V0TGVuZ3RoKCk7ZG8gZSsrLHI9dGhpcy5kb2MuZ2V0TGluZShlKTt3aGlsZShzPmUmJi9eXHMqJC8udGVzdChyKSk7L15ccysvLnRlc3Qocil8fChyPSIiKSx0PTB9dmFyIG89dGhpcy4kc2hvcnRXb3JkRW5kSW5kZXgocik7dGhpcy5tb3ZlQ3Vyc29yVG8oZSx0K28pfSx0aGlzLm1vdmVDdXJzb3JTaG9ydFdvcmRMZWZ0PWZ1bmN0aW9uKCl7dmFyIG4sZT10aGlzLmxlYWQucm93LHQ9dGhpcy5sZWFkLmNvbHVtbjtpZihuPXRoaXMuc2Vzc2lvbi5nZXRGb2xkQXQoZSx0LC0xKSlyZXR1cm4gdGhpcy5tb3ZlQ3Vyc29yVG8obi5zdGFydC5yb3csbi5zdGFydC5jb2x1bW4pO3ZhciByPXRoaXMuc2Vzc2lvbi5nZXRMaW5lKGUpLnN1YnN0cmluZygwLHQpO2lmKDA9PXQpe2RvIGUtLSxyPXRoaXMuZG9jLmdldExpbmUoZSk7d2hpbGUoZT4wJiYvXlxzKiQvLnRlc3QocikpO3Q9ci5sZW5ndGgsL1xzKyQvLnRlc3Qocil8fChyPSIiKX12YXIgcz1pLnN0cmluZ1JldmVyc2Uociksbz10aGlzLiRzaG9ydFdvcmRFbmRJbmRleChzKTtyZXR1cm4gdGhpcy5tb3ZlQ3Vyc29yVG8oZSx0LW8pfSx0aGlzLm1vdmVDdXJzb3JXb3JkUmlnaHQ9ZnVuY3Rpb24oKXt0aGlzLnNlc3Npb24uJHNlbGVjdExvbmdXb3Jkcz90aGlzLm1vdmVDdXJzb3JMb25nV29yZFJpZ2h0KCk6dGhpcy5tb3ZlQ3Vyc29yU2hvcnRXb3JkUmlnaHQoKX0sdGhpcy5tb3ZlQ3Vyc29yV29yZExlZnQ9ZnVuY3Rpb24oKXt0aGlzLnNlc3Npb24uJHNlbGVjdExvbmdXb3Jkcz90aGlzLm1vdmVDdXJzb3JMb25nV29yZExlZnQoKTp0aGlzLm1vdmVDdXJzb3JTaG9ydFdvcmRMZWZ0KCl9LHRoaXMubW92ZUN1cnNvckJ5PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLmxlYWQucm93LHRoaXMubGVhZC5jb2x1bW4pOzA9PT10JiYodGhpcy4kZGVzaXJlZENvbHVtbj9uLmNvbHVtbj10aGlzLiRkZXNpcmVkQ29sdW1uOnRoaXMuJGRlc2lyZWRDb2x1bW49bi5jb2x1bW4pO3ZhciByPXRoaXMuc2Vzc2lvbi5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24obi5yb3crZSxuLmNvbHVtbik7MCE9PWUmJjA9PT10JiZyLnJvdz09PXRoaXMubGVhZC5yb3cmJnIuY29sdW1uPT09dGhpcy5sZWFkLmNvbHVtbiYmdGhpcy5zZXNzaW9uLmxpbmVXaWRnZXRzJiZ0aGlzLnNlc3Npb24ubGluZVdpZGdldHNbci5yb3ddJiZyLnJvdysrLHRoaXMubW92ZUN1cnNvclRvKHIucm93LHIuY29sdW1uK3QsMD09PXQpfSx0aGlzLm1vdmVDdXJzb3JUb1Bvc2l0aW9uPWZ1bmN0aW9uKGUpe3RoaXMubW92ZUN1cnNvclRvKGUucm93LGUuY29sdW1uKX0sdGhpcy5tb3ZlQ3Vyc29yVG89ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuc2Vzc2lvbi5nZXRGb2xkQXQoZSx0LDEpO3ImJihlPXIuc3RhcnQucm93LHQ9ci5zdGFydC5jb2x1bW4pLHRoaXMuJGtlZXBEZXNpcmVkQ29sdW1uT25DaGFuZ2U9ITAsdGhpcy5sZWFkLnNldFBvc2l0aW9uKGUsdCksdGhpcy4ka2VlcERlc2lyZWRDb2x1bW5PbkNoYW5nZT0hMSxufHwodGhpcy4kZGVzaXJlZENvbHVtbj1udWxsKX0sdGhpcy5tb3ZlQ3Vyc29yVG9TY3JlZW49ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuc2Vzc2lvbi5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24oZSx0KTt0aGlzLm1vdmVDdXJzb3JUbyhyLnJvdyxyLmNvbHVtbixuKX0sdGhpcy5kZXRhY2g9ZnVuY3Rpb24oKXt0aGlzLmxlYWQuZGV0YWNoKCksdGhpcy5hbmNob3IuZGV0YWNoKCksdGhpcy5zZXNzaW9uPXRoaXMuZG9jPW51bGx9LHRoaXMuZnJvbU9yaWVudGVkUmFuZ2U9ZnVuY3Rpb24oZSl7dGhpcy5zZXRTZWxlY3Rpb25SYW5nZShlLGUuY3Vyc29yPT1lLnN0YXJ0KSx0aGlzLiRkZXNpcmVkQ29sdW1uPWUuZGVzaXJlZENvbHVtbnx8dGhpcy4kZGVzaXJlZENvbHVtbn0sdGhpcy50b09yaWVudGVkUmFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRSYW5nZSgpO3JldHVybiBlPyhlLnN0YXJ0LmNvbHVtbj10LnN0YXJ0LmNvbHVtbixlLnN0YXJ0LnJvdz10LnN0YXJ0LnJvdyxlLmVuZC5jb2x1bW49dC5lbmQuY29sdW1uLGUuZW5kLnJvdz10LmVuZC5yb3cpOmU9dCxlLmN1cnNvcj10aGlzLmlzQmFja3dhcmRzKCk/ZS5zdGFydDplLmVuZCxlLmRlc2lyZWRDb2x1bW49dGhpcy4kZGVzaXJlZENvbHVtbixlfSx0aGlzLnRvSlNPTj1mdW5jdGlvbigpe2lmKHRoaXMucmFuZ2VDb3VudCl2YXIgZT10aGlzLnJhbmdlcy5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jbG9uZSgpO3JldHVybiB0LmlzQmFja3dhcmRzPWUuY3Vyc29yPT1lLnN0YXJ0LHR9KTtlbHNle3ZhciBlPXRoaXMuZ2V0UmFuZ2UoKTtlLmlzQmFja3dhcmRzPXRoaXMuaXNCYWNrd2FyZHMoKX1yZXR1cm4gZX0sdGhpcy5mcm9tSlNPTj1mdW5jdGlvbihlKXtpZih2b2lkIDA9PWUuc3RhcnQpe2lmKHRoaXMucmFuZ2VMaXN0KXt0aGlzLnRvU2luZ2xlUmFuZ2UoZVswXSk7Zm9yKHZhciB0PWUubGVuZ3RoO3QtLTspe3ZhciBuPW8uZnJvbVBvaW50cyhlW3RdLnN0YXJ0LGVbdF0uZW5kKTtlLmlzQmFja3dhcmRzJiYobi5jdXJzb3I9bi5zdGFydCksdGhpcy5hZGRSYW5nZShuLCEwKX1yZXR1cm59ZT1lWzBdfXRoaXMucmFuZ2VMaXN0JiZ0aGlzLnRvU2luZ2xlUmFuZ2UoZSksdGhpcy5zZXRTZWxlY3Rpb25SYW5nZShlLGUuaXNCYWNrd2FyZHMpfSx0aGlzLmlzRXF1YWw9ZnVuY3Rpb24oZSl7aWYoKGUubGVuZ3RofHx0aGlzLnJhbmdlQ291bnQpJiZlLmxlbmd0aCE9dGhpcy5yYW5nZUNvdW50KXJldHVybiExO2lmKCFlLmxlbmd0aHx8IXRoaXMucmFuZ2VzKXJldHVybiB0aGlzLmdldFJhbmdlKCkuaXNFcXVhbChlKTtmb3IodmFyIHQ9dGhpcy5yYW5nZXMubGVuZ3RoO3QtLTspaWYoIXRoaXMucmFuZ2VzW3RdLmlzRXF1YWwoZVt0XSkpcmV0dXJuITE7cmV0dXJuITB9fSkuY2FsbCh1LnByb3RvdHlwZSksdC5TZWxlY3Rpb249dX0pLGRlZmluZSgiYWNlL3NlYXJjaCIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvbGFuZyIsImFjZS9saWIvb29wIiwiYWNlL3JhbmdlIl0sZnVuY3Rpb24oZSx0KXt2YXIgcj1lKCIuL2xpYi9sYW5nIiksaT1lKCIuL2xpYi9vb3AiKSxzPWUoIi4vcmFuZ2UiKS5SYW5nZSxvPWZ1bmN0aW9uKCl7dGhpcy4kb3B0aW9ucz17fX07KGZ1bmN0aW9uKCl7dGhpcy5zZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGkubWl4aW4odGhpcy4kb3B0aW9ucyxlKSx0aGlzfSx0aGlzLmdldE9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gci5jb3B5T2JqZWN0KHRoaXMuJG9wdGlvbnMpfSx0aGlzLnNldE9wdGlvbnM9ZnVuY3Rpb24oZSl7dGhpcy4kb3B0aW9ucz1lfSx0aGlzLmZpbmQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy4kbWF0Y2hJdGVyYXRvcihlLHRoaXMuJG9wdGlvbnMpO2lmKCF0KXJldHVybiExO3ZhciBuPW51bGw7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbihlLHQscil7aWYoZS5zdGFydCluPWU7ZWxzZXt2YXIgaT1lLm9mZnNldCsocnx8MCk7bj1uZXcgcyh0LGksdCxpK2UubGVuZ3RoKX1yZXR1cm4hMH0pLG59LHRoaXMuZmluZEFsbD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLiRvcHRpb25zO2lmKCF0Lm5lZWRsZSlyZXR1cm5bXTt0aGlzLiRhc3NlbWJsZVJlZ0V4cCh0KTt2YXIgbj10LnJhbmdlLGk9bj9lLmdldExpbmVzKG4uc3RhcnQucm93LG4uZW5kLnJvdyk6ZS5kb2MuZ2V0QWxsTGluZXMoKSxvPVtdLHU9dC5yZTtpZih0LiRpc011bHRpTGluZSl7dmFyIGwsYT11Lmxlbmd0aCxmPWkubGVuZ3RoLWE7ZTpmb3IodmFyIGM9dS5vZmZzZXR8fDA7Zj49YztjKyspe2Zvcih2YXIgaD0wO2E+aDtoKyspaWYoLTE9PWlbYytoXS5zZWFyY2godVtoXSkpY29udGludWUgZTt2YXIgcD1pW2NdLGQ9aVtjK2EtMV0sdj1wLmxlbmd0aC1wLm1hdGNoKHVbMF0pWzBdLmxlbmd0aCxtPWQubWF0Y2godVthLTFdKVswXS5sZW5ndGg7bCYmbC5lbmQucm93PT09YyYmbC5lbmQuY29sdW1uPnZ8fChvLnB1c2gobD1uZXcgcyhjLHYsYythLTEsbSkpLGE+MiYmKGM9YythLTIpKX19ZWxzZSBmb3IodmFyIGc9MDtnPGkubGVuZ3RoO2crKylmb3IodmFyIHk9ci5nZXRNYXRjaE9mZnNldHMoaVtnXSx1KSxoPTA7aDx5Lmxlbmd0aDtoKyspe3ZhciBiPXlbaF07by5wdXNoKG5ldyBzKGcsYi5vZmZzZXQsZyxiLm9mZnNldCtiLmxlbmd0aCkpfWlmKG4pe2Zvcih2YXIgdz1uLnN0YXJ0LmNvbHVtbixFPW4uc3RhcnQuY29sdW1uLGc9MCxoPW8ubGVuZ3RoLTE7aD5nJiZvW2ddLnN0YXJ0LmNvbHVtbjx3JiZvW2ddLnN0YXJ0LnJvdz09bi5zdGFydC5yb3c7KWcrKztmb3IoO2g+ZyYmb1toXS5lbmQuY29sdW1uPkUmJm9baF0uZW5kLnJvdz09bi5lbmQucm93OyloLS07Zm9yKG89by5zbGljZShnLGgrMSksZz0wLGg9by5sZW5ndGg7aD5nO2crKylvW2ddLnN0YXJ0LnJvdys9bi5zdGFydC5yb3csb1tnXS5lbmQucm93Kz1uLnN0YXJ0LnJvd31yZXR1cm4gb30sdGhpcy5yZXBsYWNlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy4kb3B0aW9ucyxyPXRoaXMuJGFzc2VtYmxlUmVnRXhwKG4pO2lmKG4uJGlzTXVsdGlMaW5lKXJldHVybiB0O2lmKHIpe3ZhciBpPXIuZXhlYyhlKTtpZighaXx8aVswXS5sZW5ndGghPWUubGVuZ3RoKXJldHVybiBudWxsO2lmKHQ9ZS5yZXBsYWNlKHIsdCksbi5wcmVzZXJ2ZUNhc2Upe3Q9dC5zcGxpdCgiIik7Zm9yKHZhciBzPU1hdGgubWluKGUubGVuZ3RoLGUubGVuZ3RoKTtzLS07KXt2YXIgbz1lW3NdO3Rbc109byYmby50b0xvd2VyQ2FzZSgpIT1vP3Rbc10udG9VcHBlckNhc2UoKTp0W3NdLnRvTG93ZXJDYXNlKCl9dD10LmpvaW4oIiIpfXJldHVybiB0fX0sdGhpcy4kbWF0Y2hJdGVyYXRvcj1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuJGFzc2VtYmxlUmVnRXhwKHQpO2lmKCFuKXJldHVybiExO3ZhciBvLGk9dGhpcyx1PXQuYmFja3dhcmRzO2lmKHQuJGlzTXVsdGlMaW5lKXZhciBhPW4ubGVuZ3RoLGY9ZnVuY3Rpb24odCxyLGkpe3ZhciB1PXQuc2VhcmNoKG5bMF0pO2lmKC0xIT11KXtmb3IodmFyIGY9MTthPmY7ZisrKWlmKHQ9ZS5nZXRMaW5lKHIrZiksLTE9PXQuc2VhcmNoKG5bZl0pKXJldHVybjt2YXIgbD10Lm1hdGNoKG5bYS0xXSlbMF0ubGVuZ3RoLGM9bmV3IHMocix1LHIrYS0xLGwpO3JldHVybiAxPT1uLm9mZnNldD8oYy5zdGFydC5yb3ctLSxjLnN0YXJ0LmNvbHVtbj1OdW1iZXIuTUFYX1ZBTFVFKTppJiYoYy5zdGFydC5jb2x1bW4rPWkpLG8oYyk/ITA6dm9pZCAwfX07ZWxzZSBpZih1KXZhciBmPWZ1bmN0aW9uKGUsdCxpKXtmb3IodmFyIHM9ci5nZXRNYXRjaE9mZnNldHMoZSxuKSx1PXMubGVuZ3RoLTE7dT49MDt1LS0paWYobyhzW3VdLHQsaSkpcmV0dXJuITB9O2Vsc2UgdmFyIGY9ZnVuY3Rpb24oZSx0LGkpe2Zvcih2YXIgcz1yLmdldE1hdGNoT2Zmc2V0cyhlLG4pLHU9MDt1PHMubGVuZ3RoO3UrKylpZihvKHNbdV0sdCxpKSlyZXR1cm4hMH07cmV0dXJue2ZvckVhY2g6ZnVuY3Rpb24obil7bz1uLGkuJGxpbmVJdGVyYXRvcihlLHQpLmZvckVhY2goZil9fX0sdGhpcy4kYXNzZW1ibGVSZWdFeHA9ZnVuY3Rpb24oZSx0KXtpZihlLm5lZWRsZSBpbnN0YW5jZW9mIFJlZ0V4cClyZXR1cm4gZS5yZT1lLm5lZWRsZTt2YXIgbj1lLm5lZWRsZTtpZighZS5uZWVkbGUpcmV0dXJuIGUucmU9ITE7ZS5yZWdFeHB8fChuPXIuZXNjYXBlUmVnRXhwKG4pKSxlLndob2xlV29yZCYmKG49IlxcYiIrbisiXFxiIik7dmFyIGk9ZS5jYXNlU2Vuc2l0aXZlPyJnIjoiZ2kiO2lmKGUuJGlzTXVsdGlMaW5lPSF0JiYvW1xuXHJdLy50ZXN0KG4pLGUuJGlzTXVsdGlMaW5lKXJldHVybiBlLnJlPXRoaXMuJGFzc2VtYmxlTXVsdGlsaW5lUmVnRXhwKG4saSk7dHJ5e3ZhciBzPW5ldyBSZWdFeHAobixpKX1jYXRjaChvKXtzPSExfXJldHVybiBlLnJlPXN9LHRoaXMuJGFzc2VtYmxlTXVsdGlsaW5lUmVnRXhwPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWUucmVwbGFjZSgvXHJcbnxccnxcbi9nLCIkXG5eIikuc3BsaXQoIlxuIikscj1bXSxpPTA7aTxuLmxlbmd0aDtpKyspdHJ5e3IucHVzaChuZXcgUmVnRXhwKG5baV0sdCkpfWNhdGNoKHMpe3JldHVybiExfXJldHVybiIiPT1uWzBdPyhyLnNoaWZ0KCksci5vZmZzZXQ9MSk6ci5vZmZzZXQ9MCxyfSx0aGlzLiRsaW5lSXRlcmF0b3I9ZnVuY3Rpb24oZSx0KXt2YXIgbj0xPT10LmJhY2t3YXJkcyxyPTAhPXQuc2tpcEN1cnJlbnQsaT10LnJhbmdlLHM9dC5zdGFydDtzfHwocz1pP2lbbj8iZW5kIjoic3RhcnQiXTplLnNlbGVjdGlvbi5nZXRSYW5nZSgpKSxzLnN0YXJ0JiYocz1zW3IhPW4/ImVuZCI6InN0YXJ0Il0pO3ZhciBvPWk/aS5zdGFydC5yb3c6MCx1PWk/aS5lbmQucm93OmUuZ2V0TGVuZ3RoKCktMSxhPW4/ZnVuY3Rpb24obil7dmFyIHI9cy5yb3csaT1lLmdldExpbmUocikuc3Vic3RyaW5nKDAscy5jb2x1bW4pO2lmKCFuKGkscikpe2ZvcihyLS07cj49bztyLS0paWYobihlLmdldExpbmUocikscikpcmV0dXJuO2lmKDAhPXQud3JhcClmb3Iocj11LG89cy5yb3c7cj49bztyLS0paWYobihlLmdldExpbmUocikscikpcmV0dXJufX06ZnVuY3Rpb24obil7dmFyIHI9cy5yb3csaT1lLmdldExpbmUocikuc3Vic3RyKHMuY29sdW1uKTtpZighbihpLHIscy5jb2x1bW4pKXtmb3Iocis9MTt1Pj1yO3IrKylpZihuKGUuZ2V0TGluZShyKSxyKSlyZXR1cm47aWYoMCE9dC53cmFwKWZvcihyPW8sdT1zLnJvdzt1Pj1yO3IrKylpZihuKGUuZ2V0TGluZShyKSxyKSlyZXR1cm59fTtyZXR1cm57Zm9yRWFjaDphfX19KS5jYWxsKG8ucHJvdG90eXBlKSx0LlNlYXJjaD1vfSksZGVmaW5lKCJhY2UvZWRpdF9zZXNzaW9uIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9vb3AiLCJhY2UvbGliL2xhbmciLCJhY2UvY29uZmlnIiwiYWNlL2xpYi9ldmVudF9lbWl0dGVyIiwiYWNlL3NlbGVjdGlvbiIsImFjZS9tb2RlL3RleHQiLCJhY2UvcmFuZ2UiLCJhY2UvZG9jdW1lbnQiLCJhY2UvYmFja2dyb3VuZF90b2tlbml6ZXIiLCJhY2Uvc2VhcmNoX2hpZ2hsaWdodCIsImFjZS9lZGl0X3Nlc3Npb24vZm9sZGluZyIsImFjZS9lZGl0X3Nlc3Npb24vYnJhY2tldF9tYXRjaCJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSgiLi9saWIvb29wIiksaT1lKCIuL2xpYi9sYW5nIikscz1lKCIuL2NvbmZpZyIpLG89ZSgiLi9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcix1PWUoIi4vc2VsZWN0aW9uIikuU2VsZWN0aW9uLGE9ZSgiLi9tb2RlL3RleHQiKS5Nb2RlLGY9ZSgiLi9yYW5nZSIpLlJhbmdlLGw9ZSgiLi9kb2N1bWVudCIpLkRvY3VtZW50LGM9ZSgiLi9iYWNrZ3JvdW5kX3Rva2VuaXplciIpLkJhY2tncm91bmRUb2tlbml6ZXIsaD1lKCIuL3NlYXJjaF9oaWdobGlnaHQiKS5TZWFyY2hIaWdobGlnaHQscD1mdW5jdGlvbihlLHQpe3RoaXMuJGJyZWFrcG9pbnRzPVtdLHRoaXMuJGRlY29yYXRpb25zPVtdLHRoaXMuJGZyb250TWFya2Vycz17fSx0aGlzLiRiYWNrTWFya2Vycz17fSx0aGlzLiRtYXJrZXJJZD0xLHRoaXMuJHVuZG9TZWxlY3Q9ITAsdGhpcy4kZm9sZERhdGE9W10sdGhpcy4kZm9sZERhdGEudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qb2luKCJcbiIpfSx0aGlzLm9uKCJjaGFuZ2VGb2xkIix0aGlzLm9uQ2hhbmdlRm9sZC5iaW5kKHRoaXMpKSx0aGlzLiRvbkNoYW5nZT10aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyksIm9iamVjdCI9PXR5cGVvZiBlJiZlLmdldExpbmV8fChlPW5ldyBsKGUpKSx0aGlzLnNldERvY3VtZW50KGUpLHRoaXMuc2VsZWN0aW9uPW5ldyB1KHRoaXMpLHMucmVzZXRPcHRpb25zKHRoaXMpLHRoaXMuc2V0TW9kZSh0KSxzLl9zaWduYWwoInNlc3Npb24iLHRoaXMpfTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBnKGUpe3JldHVybiA0MzUyPmU/ITE6ZT49NDM1MiYmNDQ0Nz49ZXx8ZT49NDUxNSYmNDUxOT49ZXx8ZT49NDYwMiYmNDYwNz49ZXx8ZT49OTAwMSYmOTAwMj49ZXx8ZT49MTE5MDQmJjExOTI5Pj1lfHxlPj0xMTkzMSYmMTIwMTk+PWV8fGU+PTEyMDMyJiYxMjI0NT49ZXx8ZT49MTIyNzImJjEyMjgzPj1lfHxlPj0xMjI4OCYmMTIzNTA+PWV8fGU+PTEyMzUzJiYxMjQzOD49ZXx8ZT49MTI0NDEmJjEyNTQzPj1lfHxlPj0xMjU0OSYmMTI1ODk+PWV8fGU+PTEyNTkzJiYxMjY4Nj49ZXx8ZT49MTI2ODgmJjEyNzMwPj1lfHxlPj0xMjczNiYmMTI3NzE+PWV8fGU+PTEyNzg0JiYxMjgzMD49ZXx8ZT49MTI4MzImJjEyODcxPj1lfHxlPj0xMjg4MCYmMTMwNTQ+PWV8fGU+PTEzMDU2JiYxOTkwMz49ZXx8ZT49MTk5NjgmJjQyMTI0Pj1lfHxlPj00MjEyOCYmNDIxODI+PWV8fGU+PTQzMzYwJiY0MzM4OD49ZXx8ZT49NDQwMzImJjU1MjAzPj1lfHxlPj01NTIxNiYmNTUyMzg+PWV8fGU+PTU1MjQzJiY1NTI5MT49ZXx8ZT49NjM3NDQmJjY0MjU1Pj1lfHxlPj02NTA0MCYmNjUwNDk+PWV8fGU+PTY1MDcyJiY2NTEwNj49ZXx8ZT49NjUxMDgmJjY1MTI2Pj1lfHxlPj02NTEyOCYmNjUxMzE+PWV8fGU+PTY1MjgxJiY2NTM3Nj49ZXx8ZT49NjU1MDQmJjY1NTEwPj1lfXIuaW1wbGVtZW50KHRoaXMsbyksdGhpcy5zZXREb2N1bWVudD1mdW5jdGlvbihlKXt0aGlzLmRvYyYmdGhpcy5kb2MucmVtb3ZlTGlzdGVuZXIoImNoYW5nZSIsdGhpcy4kb25DaGFuZ2UpLHRoaXMuZG9jPWUsZS5vbigiY2hhbmdlIix0aGlzLiRvbkNoYW5nZSksdGhpcy5iZ1Rva2VuaXplciYmdGhpcy5iZ1Rva2VuaXplci5zZXREb2N1bWVudCh0aGlzLmdldERvY3VtZW50KCkpLHRoaXMucmVzZXRDYWNoZXMoKX0sdGhpcy5nZXREb2N1bWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRvY30sdGhpcy4kcmVzZXRSb3dDYWNoZT1mdW5jdGlvbihlKXtpZighZSlyZXR1cm4gdGhpcy4kZG9jUm93Q2FjaGU9W10sdm9pZCh0aGlzLiRzY3JlZW5Sb3dDYWNoZT1bXSk7dmFyIHQ9dGhpcy4kZG9jUm93Q2FjaGUubGVuZ3RoLG49dGhpcy4kZ2V0Um93Q2FjaGVJbmRleCh0aGlzLiRkb2NSb3dDYWNoZSxlKSsxO3Q+biYmKHRoaXMuJGRvY1Jvd0NhY2hlLnNwbGljZShuLHQpLHRoaXMuJHNjcmVlblJvd0NhY2hlLnNwbGljZShuLHQpKX0sdGhpcy4kZ2V0Um93Q2FjaGVJbmRleD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGgtMTtyPj1uOyl7dmFyIGk9bityPj4xLHM9ZVtpXTtpZih0PnMpbj1pKzE7ZWxzZXtpZighKHM+dCkpcmV0dXJuIGk7cj1pLTF9fXJldHVybiBuLTF9LHRoaXMucmVzZXRDYWNoZXM9ZnVuY3Rpb24oKXt0aGlzLiRtb2RpZmllZD0hMCx0aGlzLiR3cmFwRGF0YT1bXSx0aGlzLiRyb3dMZW5ndGhDYWNoZT1bXSx0aGlzLiRyZXNldFJvd0NhY2hlKDApLHRoaXMuYmdUb2tlbml6ZXImJnRoaXMuYmdUb2tlbml6ZXIuc3RhcnQoMCl9LHRoaXMub25DaGFuZ2VGb2xkPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZGF0YTt0aGlzLiRyZXNldFJvd0NhY2hlKHQuc3RhcnQucm93KX0sdGhpcy5vbkNoYW5nZT1mdW5jdGlvbihlKXt2YXIgdD1lLmRhdGE7dGhpcy4kbW9kaWZpZWQ9ITAsdGhpcy4kcmVzZXRSb3dDYWNoZSh0LnJhbmdlLnN0YXJ0LnJvdyk7dmFyIG49dGhpcy4kdXBkYXRlSW50ZXJuYWxEYXRhT25DaGFuZ2UoZSk7IXRoaXMuJGZyb21VbmRvJiZ0aGlzLiR1bmRvTWFuYWdlciYmIXQuaWdub3JlJiYodGhpcy4kZGVsdGFzRG9jLnB1c2godCksbiYmMCE9bi5sZW5ndGgmJnRoaXMuJGRlbHRhc0ZvbGQucHVzaCh7YWN0aW9uOiJyZW1vdmVGb2xkcyIsZm9sZHM6bn0pLHRoaXMuJGluZm9ybVVuZG9NYW5hZ2VyLnNjaGVkdWxlKCkpLHRoaXMuYmdUb2tlbml6ZXIuJHVwZGF0ZU9uQ2hhbmdlKHQpLHRoaXMuX3NpZ25hbCgiY2hhbmdlIixlKX0sdGhpcy5zZXRWYWx1ZT1mdW5jdGlvbihlKXt0aGlzLmRvYy5zZXRWYWx1ZShlKSx0aGlzLnNlbGVjdGlvbi5tb3ZlVG8oMCwwKSx0aGlzLiRyZXNldFJvd0NhY2hlKDApLHRoaXMuJGRlbHRhcz1bXSx0aGlzLiRkZWx0YXNEb2M9W10sdGhpcy4kZGVsdGFzRm9sZD1bXSx0aGlzLnNldFVuZG9NYW5hZ2VyKHRoaXMuJHVuZG9NYW5hZ2VyKSx0aGlzLmdldFVuZG9NYW5hZ2VyKCkucmVzZXQoKX0sdGhpcy5nZXRWYWx1ZT10aGlzLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jLmdldFZhbHVlKCl9LHRoaXMuZ2V0U2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9ufSx0aGlzLmdldFN0YXRlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmJnVG9rZW5pemVyLmdldFN0YXRlKGUpfSx0aGlzLmdldFRva2Vucz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5iZ1Rva2VuaXplci5nZXRUb2tlbnMoZSl9LHRoaXMuZ2V0VG9rZW5BdD1mdW5jdGlvbihlLHQpe3ZhciByLG49dGhpcy5iZ1Rva2VuaXplci5nZXRUb2tlbnMoZSksaT0wO2lmKG51bGw9PXQpcz1uLmxlbmd0aC0xLGk9dGhpcy5nZXRMaW5lKGUpLmxlbmd0aDtlbHNlIGZvcih2YXIgcz0wO3M8bi5sZW5ndGgmJihpKz1uW3NdLnZhbHVlLmxlbmd0aCwhKGk+PXQpKTtzKyspO3JldHVybiByPW5bc10scj8oci5pbmRleD1zLHIuc3RhcnQ9aS1yLnZhbHVlLmxlbmd0aCxyKTpudWxsfSx0aGlzLnNldFVuZG9NYW5hZ2VyPWZ1bmN0aW9uKGUpe2lmKHRoaXMuJHVuZG9NYW5hZ2VyPWUsdGhpcy4kZGVsdGFzPVtdLHRoaXMuJGRlbHRhc0RvYz1bXSx0aGlzLiRkZWx0YXNGb2xkPVtdLHRoaXMuJGluZm9ybVVuZG9NYW5hZ2VyJiZ0aGlzLiRpbmZvcm1VbmRvTWFuYWdlci5jYW5jZWwoKSxlKXt2YXIgdD10aGlzO3RoaXMuJHN5bmNJbmZvcm1VbmRvTWFuYWdlcj1mdW5jdGlvbigpe3QuJGluZm9ybVVuZG9NYW5hZ2VyLmNhbmNlbCgpLHQuJGRlbHRhc0ZvbGQubGVuZ3RoJiYodC4kZGVsdGFzLnB1c2goe2dyb3VwOiJmb2xkIixkZWx0YXM6dC4kZGVsdGFzRm9sZH0pLHQuJGRlbHRhc0ZvbGQ9W10pLHQuJGRlbHRhc0RvYy5sZW5ndGgmJih0LiRkZWx0YXMucHVzaCh7Z3JvdXA6ImRvYyIsZGVsdGFzOnQuJGRlbHRhc0RvY30pLHQuJGRlbHRhc0RvYz1bXSksdC4kZGVsdGFzLmxlbmd0aD4wJiZlLmV4ZWN1dGUoe2FjdGlvbjoiYWNldXBkYXRlIixhcmdzOlt0LiRkZWx0YXMsdF0sbWVyZ2U6dC5tZXJnZVVuZG9EZWx0YXN9KSx0Lm1lcmdlVW5kb0RlbHRhcz0hMSx0LiRkZWx0YXM9W119LHRoaXMuJGluZm9ybVVuZG9NYW5hZ2VyPWkuZGVsYXllZENhbGwodGhpcy4kc3luY0luZm9ybVVuZG9NYW5hZ2VyKX19LHRoaXMubWFya1VuZG9Hcm91cD1mdW5jdGlvbigpe3RoaXMuJHN5bmNJbmZvcm1VbmRvTWFuYWdlciYmdGhpcy4kc3luY0luZm9ybVVuZG9NYW5hZ2VyKCl9LHRoaXMuJGRlZmF1bHRVbmRvTWFuYWdlcj17dW5kbzpmdW5jdGlvbigpe30scmVkbzpmdW5jdGlvbigpe30scmVzZXQ6ZnVuY3Rpb24oKXt9fSx0aGlzLmdldFVuZG9NYW5hZ2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHVuZG9NYW5hZ2VyfHx0aGlzLiRkZWZhdWx0VW5kb01hbmFnZXJ9LHRoaXMuZ2V0VGFiU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VXNlU29mdFRhYnMoKT9pLnN0cmluZ1JlcGVhdCgiICIsdGhpcy5nZXRUYWJTaXplKCkpOiIJIn0sdGhpcy5zZXRVc2VTb2Z0VGFicz1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbigidXNlU29mdFRhYnMiLGUpfSx0aGlzLmdldFVzZVNvZnRUYWJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHVzZVNvZnRUYWJzJiYhdGhpcy4kbW9kZS4kaW5kZW50V2l0aFRhYnN9LHRoaXMuc2V0VGFiU2l6ZT1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbigidGFiU2l6ZSIsZSl9LHRoaXMuZ2V0VGFiU2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLiR0YWJTaXplfSx0aGlzLmlzVGFiU3RvcD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy4kdXNlU29mdFRhYnMmJmUuY29sdW1uJXRoaXMuJHRhYlNpemU9PT0wfSx0aGlzLiRvdmVyd3JpdGU9ITEsdGhpcy5zZXRPdmVyd3JpdGU9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oIm92ZXJ3cml0ZSIsZSl9LHRoaXMuZ2V0T3ZlcndyaXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJG92ZXJ3cml0ZX0sdGhpcy50b2dnbGVPdmVyd3JpdGU9ZnVuY3Rpb24oKXt0aGlzLnNldE92ZXJ3cml0ZSghdGhpcy4kb3ZlcndyaXRlKX0sdGhpcy5hZGRHdXR0ZXJEZWNvcmF0aW9uPWZ1bmN0aW9uKGUsdCl7dGhpcy4kZGVjb3JhdGlvbnNbZV18fCh0aGlzLiRkZWNvcmF0aW9uc1tlXT0iIiksdGhpcy4kZGVjb3JhdGlvbnNbZV0rPSIgIit0LHRoaXMuX3NpZ25hbCgiY2hhbmdlQnJlYWtwb2ludCIse30pfSx0aGlzLnJlbW92ZUd1dHRlckRlY29yYXRpb249ZnVuY3Rpb24oZSx0KXt0aGlzLiRkZWNvcmF0aW9uc1tlXT0odGhpcy4kZGVjb3JhdGlvbnNbZV18fCIiKS5yZXBsYWNlKCIgIit0LCIiKSx0aGlzLl9zaWduYWwoImNoYW5nZUJyZWFrcG9pbnQiLHt9KX0sdGhpcy5nZXRCcmVha3BvaW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRicmVha3BvaW50c30sdGhpcy5zZXRCcmVha3BvaW50cz1mdW5jdGlvbihlKXt0aGlzLiRicmVha3BvaW50cz1bXTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl0aGlzLiRicmVha3BvaW50c1tlW3RdXT0iYWNlX2JyZWFrcG9pbnQiO3RoaXMuX3NpZ25hbCgiY2hhbmdlQnJlYWtwb2ludCIse30pfSx0aGlzLmNsZWFyQnJlYWtwb2ludHM9ZnVuY3Rpb24oKXt0aGlzLiRicmVha3BvaW50cz1bXSx0aGlzLl9zaWduYWwoImNoYW5nZUJyZWFrcG9pbnQiLHt9KX0sdGhpcy5zZXRCcmVha3BvaW50PWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dCYmKHQ9ImFjZV9icmVha3BvaW50IiksdD90aGlzLiRicmVha3BvaW50c1tlXT10OmRlbGV0ZSB0aGlzLiRicmVha3BvaW50c1tlXSx0aGlzLl9zaWduYWwoImNoYW5nZUJyZWFrcG9pbnQiLHt9KX0sdGhpcy5jbGVhckJyZWFrcG9pbnQ9ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuJGJyZWFrcG9pbnRzW2VdLHRoaXMuX3NpZ25hbCgiY2hhbmdlQnJlYWtwb2ludCIse30pfSx0aGlzLmFkZE1hcmtlcj1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT10aGlzLiRtYXJrZXJJZCsrLHM9e3JhbmdlOmUsdHlwZTpufHwibGluZSIscmVuZGVyZXI6ImZ1bmN0aW9uIj09dHlwZW9mIG4/bjpudWxsLGNsYXp6OnQsaW5Gcm9udDohIXIsaWQ6aX07cmV0dXJuIHI/KHRoaXMuJGZyb250TWFya2Vyc1tpXT1zLHRoaXMuX3NpZ25hbCgiY2hhbmdlRnJvbnRNYXJrZXIiKSk6KHRoaXMuJGJhY2tNYXJrZXJzW2ldPXMsdGhpcy5fc2lnbmFsKCJjaGFuZ2VCYWNrTWFya2VyIikpLGl9LHRoaXMuYWRkRHluYW1pY01hcmtlcj1mdW5jdGlvbihlLHQpe2lmKGUudXBkYXRlKXt2YXIgbj10aGlzLiRtYXJrZXJJZCsrO3JldHVybiBlLmlkPW4sZS5pbkZyb250PSEhdCx0Pyh0aGlzLiRmcm9udE1hcmtlcnNbbl09ZSx0aGlzLl9zaWduYWwoImNoYW5nZUZyb250TWFya2VyIikpOih0aGlzLiRiYWNrTWFya2Vyc1tuXT1lLHRoaXMuX3NpZ25hbCgiY2hhbmdlQmFja01hcmtlciIpKSxlfX0sdGhpcy5yZW1vdmVNYXJrZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy4kZnJvbnRNYXJrZXJzW2VdfHx0aGlzLiRiYWNrTWFya2Vyc1tlXTtpZih0KXt2YXIgbj10LmluRnJvbnQ/dGhpcy4kZnJvbnRNYXJrZXJzOnRoaXMuJGJhY2tNYXJrZXJzO3QmJihkZWxldGUgbltlXSx0aGlzLl9zaWduYWwodC5pbkZyb250PyJjaGFuZ2VGcm9udE1hcmtlciI6ImNoYW5nZUJhY2tNYXJrZXIiKSl9fSx0aGlzLmdldE1hcmtlcnM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/dGhpcy4kZnJvbnRNYXJrZXJzOnRoaXMuJGJhY2tNYXJrZXJzfSx0aGlzLmhpZ2hsaWdodD1mdW5jdGlvbihlKXtpZighdGhpcy4kc2VhcmNoSGlnaGxpZ2h0KXt2YXIgdD1uZXcgaChudWxsLCJhY2Vfc2VsZWN0ZWQtd29yZCIsInRleHQiKTt0aGlzLiRzZWFyY2hIaWdobGlnaHQ9dGhpcy5hZGREeW5hbWljTWFya2VyKHQpfXRoaXMuJHNlYXJjaEhpZ2hsaWdodC5zZXRSZWdleHAoZSl9LHRoaXMuaGlnaGxpZ2h0TGluZXM9ZnVuY3Rpb24oZSx0LG4scil7Im51bWJlciIhPXR5cGVvZiB0JiYobj10LHQ9ZSksbnx8KG49ImFjZV9zdGVwIik7dmFyIGk9bmV3IGYoZSwwLHQsMS8wKTtyZXR1cm4gaS5pZD10aGlzLmFkZE1hcmtlcihpLG4sImZ1bGxMaW5lIixyKSxpfSx0aGlzLnNldEFubm90YXRpb25zPWZ1bmN0aW9uKGUpe3RoaXMuJGFubm90YXRpb25zPWUsdGhpcy5fc2lnbmFsKCJjaGFuZ2VBbm5vdGF0aW9uIix7fSl9LHRoaXMuZ2V0QW5ub3RhdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kYW5ub3RhdGlvbnN8fFtdfSx0aGlzLmNsZWFyQW5ub3RhdGlvbnM9ZnVuY3Rpb24oKXt0aGlzLnNldEFubm90YXRpb25zKFtdKX0sdGhpcy4kZGV0ZWN0TmV3TGluZT1mdW5jdGlvbihlKXt2YXIgdD1lLm1hdGNoKC9eLio/KFxyP1xuKS9tKTt0aGlzLiRhdXRvTmV3TGluZT10P3RbMV06IlxuIn0sdGhpcy5nZXRXb3JkUmFuZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmdldExpbmUoZSkscj0hMTtpZih0PjAmJihyPSEhbi5jaGFyQXQodC0xKS5tYXRjaCh0aGlzLnRva2VuUmUpKSxyfHwocj0hIW4uY2hhckF0KHQpLm1hdGNoKHRoaXMudG9rZW5SZSkpLHIpdmFyIGk9dGhpcy50b2tlblJlO2Vsc2UgaWYoL15ccyskLy50ZXN0KG4uc2xpY2UodC0xLHQrMSkpKXZhciBpPS9ccy87ZWxzZSB2YXIgaT10aGlzLm5vblRva2VuUmU7dmFyIHM9dDtpZihzPjApe2RvIHMtLTt3aGlsZShzPj0wJiZuLmNoYXJBdChzKS5tYXRjaChpKSk7cysrfWZvcih2YXIgbz10O288bi5sZW5ndGgmJm4uY2hhckF0KG8pLm1hdGNoKGkpOylvKys7CnJldHVybiBuZXcgZihlLHMsZSxvKX0sdGhpcy5nZXRBV29yZFJhbmdlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMuZ2V0V29yZFJhbmdlKGUsdCkscj10aGlzLmdldExpbmUobi5lbmQucm93KTtyLmNoYXJBdChuLmVuZC5jb2x1bW4pLm1hdGNoKC9bIFx0XS8pOyluLmVuZC5jb2x1bW4rPTE7cmV0dXJuIG59LHRoaXMuc2V0TmV3TGluZU1vZGU9ZnVuY3Rpb24oZSl7dGhpcy5kb2Muc2V0TmV3TGluZU1vZGUoZSl9LHRoaXMuZ2V0TmV3TGluZU1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb2MuZ2V0TmV3TGluZU1vZGUoKX0sdGhpcy5zZXRVc2VXb3JrZXI9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oInVzZVdvcmtlciIsZSl9LHRoaXMuZ2V0VXNlV29ya2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHVzZVdvcmtlcn0sdGhpcy5vblJlbG9hZFRva2VuaXplcj1mdW5jdGlvbihlKXt2YXIgdD1lLmRhdGE7dGhpcy5iZ1Rva2VuaXplci5zdGFydCh0LmZpcnN0KSx0aGlzLl9zaWduYWwoInRva2VuaXplclVwZGF0ZSIsZSl9LHRoaXMuJG1vZGVzPXt9LHRoaXMuJG1vZGU9bnVsbCx0aGlzLiRtb2RlSWQ9bnVsbCx0aGlzLnNldE1vZGU9ZnVuY3Rpb24oZSx0KXtpZihlJiYib2JqZWN0Ij09dHlwZW9mIGUpe2lmKGUuZ2V0VG9rZW5pemVyKXJldHVybiB0aGlzLiRvbkNoYW5nZU1vZGUoZSk7dmFyIG49ZSxyPW4ucGF0aH1lbHNlIHI9ZXx8ImFjZS9tb2RlL3RleHQiO3JldHVybiB0aGlzLiRtb2Rlc1siYWNlL21vZGUvdGV4dCJdfHwodGhpcy4kbW9kZXNbImFjZS9tb2RlL3RleHQiXT1uZXcgYSksdGhpcy4kbW9kZXNbcl0mJiFuPyh0aGlzLiRvbkNoYW5nZU1vZGUodGhpcy4kbW9kZXNbcl0pLHZvaWQodCYmdCgpKSk6KHRoaXMuJG1vZGVJZD1yLHMubG9hZE1vZHVsZShbIm1vZGUiLHJdLGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLiRtb2RlSWQhPT1yP3QmJnQoKTp0aGlzLiRtb2Rlc1tyXSYmIW4/dGhpcy4kb25DaGFuZ2VNb2RlKHRoaXMuJG1vZGVzW3JdKTp2b2lkKGUmJmUuTW9kZSYmKGU9bmV3IGUuTW9kZShuKSxufHwodGhpcy4kbW9kZXNbcl09ZSxlLiRpZD1yKSx0aGlzLiRvbkNoYW5nZU1vZGUoZSksdCYmdCgpKSl9LmJpbmQodGhpcykpLHRoaXMuJG1vZGV8fHRoaXMuJG9uQ2hhbmdlTW9kZSh0aGlzLiRtb2Rlc1siYWNlL21vZGUvdGV4dCJdLCEwKSx2b2lkIDApfSx0aGlzLiRvbkNoYW5nZU1vZGU9ZnVuY3Rpb24oZSx0KXtpZih0fHwodGhpcy4kbW9kZUlkPWUuJGlkKSx0aGlzLiRtb2RlIT09ZSl7dGhpcy4kbW9kZT1lLHRoaXMuJHN0b3BXb3JrZXIoKSx0aGlzLiR1c2VXb3JrZXImJnRoaXMuJHN0YXJ0V29ya2VyKCk7dmFyIG49ZS5nZXRUb2tlbml6ZXIoKTtpZih2b2lkIDAhPT1uLmFkZEV2ZW50TGlzdGVuZXIpe3ZhciByPXRoaXMub25SZWxvYWRUb2tlbml6ZXIuYmluZCh0aGlzKTtuLmFkZEV2ZW50TGlzdGVuZXIoInVwZGF0ZSIscil9aWYodGhpcy5iZ1Rva2VuaXplcil0aGlzLmJnVG9rZW5pemVyLnNldFRva2VuaXplcihuKTtlbHNle3RoaXMuYmdUb2tlbml6ZXI9bmV3IGMobik7dmFyIGk9dGhpczt0aGlzLmJnVG9rZW5pemVyLmFkZEV2ZW50TGlzdGVuZXIoInVwZGF0ZSIsZnVuY3Rpb24oZSl7aS5fc2lnbmFsKCJ0b2tlbml6ZXJVcGRhdGUiLGUpfSl9dGhpcy5iZ1Rva2VuaXplci5zZXREb2N1bWVudCh0aGlzLmdldERvY3VtZW50KCkpLHRoaXMudG9rZW5SZT1lLnRva2VuUmUsdGhpcy5ub25Ub2tlblJlPWUubm9uVG9rZW5SZSx0fHwodGhpcy4kb3B0aW9ucy53cmFwTWV0aG9kLnNldC5jYWxsKHRoaXMsdGhpcy4kd3JhcE1ldGhvZCksdGhpcy4kc2V0Rm9sZGluZyhlLmZvbGRpbmdSdWxlcyksdGhpcy5iZ1Rva2VuaXplci5zdGFydCgwKSx0aGlzLl9lbWl0KCJjaGFuZ2VNb2RlIikpfX0sdGhpcy4kc3RvcFdvcmtlcj1mdW5jdGlvbigpe3RoaXMuJHdvcmtlciYmdGhpcy4kd29ya2VyLnRlcm1pbmF0ZSgpLHRoaXMuJHdvcmtlcj1udWxsfSx0aGlzLiRzdGFydFdvcmtlcj1mdW5jdGlvbigpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgV29ya2VyfHxlLm5vV29ya2VyKXRoaXMuJHdvcmtlcj1udWxsO2Vsc2UgdHJ5e3RoaXMuJHdvcmtlcj10aGlzLiRtb2RlLmNyZWF0ZVdvcmtlcih0aGlzKX1jYXRjaCh0KXtjb25zb2xlLmxvZygiQ291bGQgbm90IGxvYWQgd29ya2VyIiksY29uc29sZS5sb2codCksdGhpcy4kd29ya2VyPW51bGx9fSx0aGlzLmdldE1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kbW9kZX0sdGhpcy4kc2Nyb2xsVG9wPTAsdGhpcy5zZXRTY3JvbGxUb3A9ZnVuY3Rpb24oZSl7dGhpcy4kc2Nyb2xsVG9wPT09ZXx8aXNOYU4oZSl8fCh0aGlzLiRzY3JvbGxUb3A9ZSx0aGlzLl9zaWduYWwoImNoYW5nZVNjcm9sbFRvcCIsZSkpfSx0aGlzLmdldFNjcm9sbFRvcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRzY3JvbGxUb3B9LHRoaXMuJHNjcm9sbExlZnQ9MCx0aGlzLnNldFNjcm9sbExlZnQ9ZnVuY3Rpb24oZSl7dGhpcy4kc2Nyb2xsTGVmdD09PWV8fGlzTmFOKGUpfHwodGhpcy4kc2Nyb2xsTGVmdD1lLHRoaXMuX3NpZ25hbCgiY2hhbmdlU2Nyb2xsTGVmdCIsZSkpfSx0aGlzLmdldFNjcm9sbExlZnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kc2Nyb2xsTGVmdH0sdGhpcy5nZXRTY3JlZW5XaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRjb21wdXRlV2lkdGgoKSx0aGlzLmxpbmVXaWRnZXRzP01hdGgubWF4KHRoaXMuZ2V0TGluZVdpZGdldE1heFdpZHRoKCksdGhpcy5zY3JlZW5XaWR0aCk6dGhpcy5zY3JlZW5XaWR0aH0sdGhpcy5nZXRMaW5lV2lkZ2V0TWF4V2lkdGg9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLmxpbmVXaWRnZXRzV2lkdGgpcmV0dXJuIHRoaXMubGluZVdpZGdldHNXaWR0aDt2YXIgZT0wO3JldHVybiB0aGlzLmxpbmVXaWRnZXRzLmZvckVhY2goZnVuY3Rpb24odCl7dCYmdC5zY3JlZW5XaWR0aD5lJiYoZT10LnNjcmVlbldpZHRoKX0pLHRoaXMubGluZVdpZGdldFdpZHRoPWV9LHRoaXMuJGNvbXB1dGVXaWR0aD1mdW5jdGlvbihlKXtpZih0aGlzLiRtb2RpZmllZHx8ZSl7aWYodGhpcy4kbW9kaWZpZWQ9ITEsdGhpcy4kdXNlV3JhcE1vZGUpcmV0dXJuIHRoaXMuc2NyZWVuV2lkdGg9dGhpcy4kd3JhcExpbWl0O2Zvcih2YXIgdD10aGlzLmRvYy5nZXRBbGxMaW5lcygpLG49dGhpcy4kcm93TGVuZ3RoQ2FjaGUscj0wLGk9MCxzPXRoaXMuJGZvbGREYXRhW2ldLG89cz9zLnN0YXJ0LnJvdzoxLzAsdT10Lmxlbmd0aCxhPTA7dT5hO2ErKyl7aWYoYT5vKXtpZihhPXMuZW5kLnJvdysxLGE+PXUpYnJlYWs7cz10aGlzLiRmb2xkRGF0YVtpKytdLG89cz9zLnN0YXJ0LnJvdzoxLzB9bnVsbD09blthXSYmKG5bYV09dGhpcy4kZ2V0U3RyaW5nU2NyZWVuV2lkdGgodFthXSlbMF0pLG5bYV0+ciYmKHI9blthXSl9dGhpcy5zY3JlZW5XaWR0aD1yfX0sdGhpcy5nZXRMaW5lPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRvYy5nZXRMaW5lKGUpfSx0aGlzLmdldExpbmVzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZG9jLmdldExpbmVzKGUsdCl9LHRoaXMuZ2V0TGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jLmdldExlbmd0aCgpfSx0aGlzLmdldFRleHRSYW5nZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kb2MuZ2V0VGV4dFJhbmdlKGV8fHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCkpfSx0aGlzLmluc2VydD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmRvYy5pbnNlcnQoZSx0KX0sdGhpcy5yZW1vdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZG9jLnJlbW92ZShlKX0sdGhpcy51bmRvQ2hhbmdlcz1mdW5jdGlvbihlLHQpe2lmKGUubGVuZ3RoKXt0aGlzLiRmcm9tVW5kbz0hMDtmb3IodmFyIG49bnVsbCxyPWUubGVuZ3RoLTE7LTEhPXI7ci0tKXt2YXIgaT1lW3JdOyJkb2MiPT1pLmdyb3VwPyh0aGlzLmRvYy5yZXZlcnREZWx0YXMoaS5kZWx0YXMpLG49dGhpcy4kZ2V0VW5kb1NlbGVjdGlvbihpLmRlbHRhcywhMCxuKSk6aS5kZWx0YXMuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLmFkZEZvbGRzKGUuZm9sZHMpfSx0aGlzKX1yZXR1cm4gdGhpcy4kZnJvbVVuZG89ITEsbiYmdGhpcy4kdW5kb1NlbGVjdCYmIXQmJnRoaXMuc2VsZWN0aW9uLnNldFNlbGVjdGlvblJhbmdlKG4pLG59fSx0aGlzLnJlZG9DaGFuZ2VzPWZ1bmN0aW9uKGUsdCl7aWYoZS5sZW5ndGgpe3RoaXMuJGZyb21VbmRvPSEwO2Zvcih2YXIgbj1udWxsLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIGk9ZVtyXTsiZG9jIj09aS5ncm91cCYmKHRoaXMuZG9jLmFwcGx5RGVsdGFzKGkuZGVsdGFzKSxuPXRoaXMuJGdldFVuZG9TZWxlY3Rpb24oaS5kZWx0YXMsITEsbikpfXJldHVybiB0aGlzLiRmcm9tVW5kbz0hMSxuJiZ0aGlzLiR1bmRvU2VsZWN0JiYhdCYmdGhpcy5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uUmFuZ2Uobiksbn19LHRoaXMuc2V0VW5kb1NlbGVjdD1mdW5jdGlvbihlKXt0aGlzLiR1bmRvU2VsZWN0PWV9LHRoaXMuJGdldFVuZG9TZWxlY3Rpb249ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoZSl7dmFyIG49Imluc2VydFRleHQiPT09ZS5hY3Rpb258fCJpbnNlcnRMaW5lcyI9PT1lLmFjdGlvbjtyZXR1cm4gdD8hbjpufXZhciBzLG8saT1lWzBdLHU9ITE7cihpKT8ocz1mLmZyb21Qb2ludHMoaS5yYW5nZS5zdGFydCxpLnJhbmdlLmVuZCksdT0hMCk6KHM9Zi5mcm9tUG9pbnRzKGkucmFuZ2Uuc3RhcnQsaS5yYW5nZS5zdGFydCksdT0hMSk7Zm9yKHZhciBhPTE7YTxlLmxlbmd0aDthKyspaT1lW2FdLHIoaSk/KG89aS5yYW5nZS5zdGFydCwtMT09cy5jb21wYXJlKG8ucm93LG8uY29sdW1uKSYmcy5zZXRTdGFydChpLnJhbmdlLnN0YXJ0KSxvPWkucmFuZ2UuZW5kLDE9PXMuY29tcGFyZShvLnJvdyxvLmNvbHVtbikmJnMuc2V0RW5kKGkucmFuZ2UuZW5kKSx1PSEwKToobz1pLnJhbmdlLnN0YXJ0LC0xPT1zLmNvbXBhcmUoby5yb3csby5jb2x1bW4pJiYocz1mLmZyb21Qb2ludHMoaS5yYW5nZS5zdGFydCxpLnJhbmdlLnN0YXJ0KSksdT0hMSk7aWYobnVsbCE9bil7MD09PWYuY29tcGFyZVBvaW50cyhuLnN0YXJ0LHMuc3RhcnQpJiYobi5zdGFydC5jb2x1bW4rPXMuZW5kLmNvbHVtbi1zLnN0YXJ0LmNvbHVtbixuLmVuZC5jb2x1bW4rPXMuZW5kLmNvbHVtbi1zLnN0YXJ0LmNvbHVtbik7dmFyIGw9bi5jb21wYXJlUmFuZ2Uocyk7MT09bD9zLnNldFN0YXJ0KG4uc3RhcnQpOi0xPT1sJiZzLnNldEVuZChuLmVuZCl9cmV0dXJuIHN9LHRoaXMucmVwbGFjZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmRvYy5yZXBsYWNlKGUsdCl9LHRoaXMubW92ZVRleHQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuZ2V0VGV4dFJhbmdlKGUpLGk9dGhpcy5nZXRGb2xkc0luUmFuZ2UoZSkscz1mLmZyb21Qb2ludHModCx0KTtpZighbil7dGhpcy5yZW1vdmUoZSk7dmFyIG89ZS5zdGFydC5yb3ctZS5lbmQucm93LHU9bz8tZS5lbmQuY29sdW1uOmUuc3RhcnQuY29sdW1uLWUuZW5kLmNvbHVtbjt1JiYocy5zdGFydC5yb3c9PWUuZW5kLnJvdyYmcy5zdGFydC5jb2x1bW4+ZS5lbmQuY29sdW1uJiYocy5zdGFydC5jb2x1bW4rPXUpLHMuZW5kLnJvdz09ZS5lbmQucm93JiZzLmVuZC5jb2x1bW4+ZS5lbmQuY29sdW1uJiYocy5lbmQuY29sdW1uKz11KSksbyYmcy5zdGFydC5yb3c+PWUuZW5kLnJvdyYmKHMuc3RhcnQucm93Kz1vLHMuZW5kLnJvdys9byl9aWYocy5lbmQ9dGhpcy5pbnNlcnQocy5zdGFydCxyKSxpLmxlbmd0aCl7dmFyIGE9ZS5zdGFydCxsPXMuc3RhcnQsbz1sLnJvdy1hLnJvdyx1PWwuY29sdW1uLWEuY29sdW1uO3RoaXMuYWRkRm9sZHMoaS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZS5jbG9uZSgpLGUuc3RhcnQucm93PT1hLnJvdyYmKGUuc3RhcnQuY29sdW1uKz11KSxlLmVuZC5yb3c9PWEucm93JiYoZS5lbmQuY29sdW1uKz11KSxlLnN0YXJ0LnJvdys9byxlLmVuZC5yb3crPW8sZX0pKX1yZXR1cm4gc30sdGhpcy5pbmRlbnRSb3dzPWZ1bmN0aW9uKGUsdCxuKXtuPW4ucmVwbGFjZSgvXHQvZyx0aGlzLmdldFRhYlN0cmluZygpKTtmb3IodmFyIHI9ZTt0Pj1yO3IrKyl0aGlzLmluc2VydCh7cm93OnIsY29sdW1uOjB9LG4pfSx0aGlzLm91dGRlbnRSb3dzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmNvbGxhcHNlUm93cygpLG49bmV3IGYoMCwwLDAsMCkscj10aGlzLmdldFRhYlNpemUoKSxpPXQuc3RhcnQucm93O2k8PXQuZW5kLnJvdzsrK2kpe3ZhciBzPXRoaXMuZ2V0TGluZShpKTtuLnN0YXJ0LnJvdz1pLG4uZW5kLnJvdz1pO2Zvcih2YXIgbz0wO3I+byYmIiAiPT1zLmNoYXJBdChvKTsrK28pO3I+byYmIgkiPT1zLmNoYXJBdChvKT8obi5zdGFydC5jb2x1bW49byxuLmVuZC5jb2x1bW49bysxKToobi5zdGFydC5jb2x1bW49MCxuLmVuZC5jb2x1bW49byksdGhpcy5yZW1vdmUobil9fSx0aGlzLiRtb3ZlTGluZXM9ZnVuY3Rpb24oZSx0LG4pe2lmKGU9dGhpcy5nZXRSb3dGb2xkU3RhcnQoZSksdD10aGlzLmdldFJvd0ZvbGRFbmQodCksMD5uKXt2YXIgcj10aGlzLmdldFJvd0ZvbGRTdGFydChlK24pO2lmKDA+cilyZXR1cm4gMDt2YXIgaT1yLWV9ZWxzZSBpZihuPjApe3ZhciByPXRoaXMuZ2V0Um93Rm9sZEVuZCh0K24pO2lmKHI+dGhpcy5kb2MuZ2V0TGVuZ3RoKCktMSlyZXR1cm4gMDt2YXIgaT1yLXR9ZWxzZXtlPXRoaXMuJGNsaXBSb3dUb0RvY3VtZW50KGUpLHQ9dGhpcy4kY2xpcFJvd1RvRG9jdW1lbnQodCk7dmFyIGk9dC1lKzF9dmFyIHM9bmV3IGYoZSwwLHQsTnVtYmVyLk1BWF9WQUxVRSksbz10aGlzLmdldEZvbGRzSW5SYW5nZShzKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZS5jbG9uZSgpLGUuc3RhcnQucm93Kz1pLGUuZW5kLnJvdys9aSxlfSksdT0wPT1uP3RoaXMuZG9jLmdldExpbmVzKGUsdCk6dGhpcy5kb2MucmVtb3ZlTGluZXMoZSx0KTtyZXR1cm4gdGhpcy5kb2MuaW5zZXJ0TGluZXMoZStpLHUpLG8ubGVuZ3RoJiZ0aGlzLmFkZEZvbGRzKG8pLGl9LHRoaXMubW92ZUxpbmVzVXA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy4kbW92ZUxpbmVzKGUsdCwtMSl9LHRoaXMubW92ZUxpbmVzRG93bj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLiRtb3ZlTGluZXMoZSx0LDEpfSx0aGlzLmR1cGxpY2F0ZUxpbmVzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuJG1vdmVMaW5lcyhlLHQsMCl9LHRoaXMuJGNsaXBSb3dUb0RvY3VtZW50PWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLm1heCgwLE1hdGgubWluKGUsdGhpcy5kb2MuZ2V0TGVuZ3RoKCktMSkpfSx0aGlzLiRjbGlwQ29sdW1uVG9Sb3c9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMD50PzA6TWF0aC5taW4odGhpcy5kb2MuZ2V0TGluZShlKS5sZW5ndGgsdCl9LHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQ9ZnVuY3Rpb24oZSx0KXtpZih0PU1hdGgubWF4KDAsdCksMD5lKWU9MCx0PTA7ZWxzZXt2YXIgbj10aGlzLmRvYy5nZXRMZW5ndGgoKTtlPj1uPyhlPW4tMSx0PXRoaXMuZG9jLmdldExpbmUobi0xKS5sZW5ndGgpOnQ9TWF0aC5taW4odGhpcy5kb2MuZ2V0TGluZShlKS5sZW5ndGgsdCl9cmV0dXJue3JvdzplLGNvbHVtbjp0fX0sdGhpcy4kY2xpcFJhbmdlVG9Eb2N1bWVudD1mdW5jdGlvbihlKXtlLnN0YXJ0LnJvdzwwPyhlLnN0YXJ0LnJvdz0wLGUuc3RhcnQuY29sdW1uPTApOmUuc3RhcnQuY29sdW1uPXRoaXMuJGNsaXBDb2x1bW5Ub1JvdyhlLnN0YXJ0LnJvdyxlLnN0YXJ0LmNvbHVtbik7dmFyIHQ9dGhpcy5kb2MuZ2V0TGVuZ3RoKCktMTtyZXR1cm4gZS5lbmQucm93PnQ/KGUuZW5kLnJvdz10LGUuZW5kLmNvbHVtbj10aGlzLmRvYy5nZXRMaW5lKHQpLmxlbmd0aCk6ZS5lbmQuY29sdW1uPXRoaXMuJGNsaXBDb2x1bW5Ub1JvdyhlLmVuZC5yb3csZS5lbmQuY29sdW1uKSxlfSx0aGlzLiR3cmFwTGltaXQ9ODAsdGhpcy4kdXNlV3JhcE1vZGU9ITEsdGhpcy4kd3JhcExpbWl0UmFuZ2U9e21pbjpudWxsLG1heDpudWxsfSx0aGlzLnNldFVzZVdyYXBNb2RlPWZ1bmN0aW9uKGUpe2lmKGUhPXRoaXMuJHVzZVdyYXBNb2RlKXtpZih0aGlzLiR1c2VXcmFwTW9kZT1lLHRoaXMuJG1vZGlmaWVkPSEwLHRoaXMuJHJlc2V0Um93Q2FjaGUoMCksZSl7dmFyIHQ9dGhpcy5nZXRMZW5ndGgoKTt0aGlzLiR3cmFwRGF0YT1BcnJheSh0KSx0aGlzLiR1cGRhdGVXcmFwRGF0YSgwLHQtMSl9dGhpcy5fc2lnbmFsKCJjaGFuZ2VXcmFwTW9kZSIpfX0sdGhpcy5nZXRVc2VXcmFwTW9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLiR1c2VXcmFwTW9kZX0sdGhpcy5zZXRXcmFwTGltaXRSYW5nZT1mdW5jdGlvbihlLHQpeyh0aGlzLiR3cmFwTGltaXRSYW5nZS5taW4hPT1lfHx0aGlzLiR3cmFwTGltaXRSYW5nZS5tYXghPT10KSYmKHRoaXMuJHdyYXBMaW1pdFJhbmdlPXttaW46ZSxtYXg6dH0sdGhpcy4kbW9kaWZpZWQ9ITAsdGhpcy5fc2lnbmFsKCJjaGFuZ2VXcmFwTW9kZSIpKX0sdGhpcy5hZGp1c3RXcmFwTGltaXQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLiR3cmFwTGltaXRSYW5nZTtuLm1heDwwJiYobj17bWluOnQsbWF4OnR9KTt2YXIgcj10aGlzLiRjb25zdHJhaW5XcmFwTGltaXQoZSxuLm1pbixuLm1heCk7cmV0dXJuIHIhPXRoaXMuJHdyYXBMaW1pdCYmcj4xPyh0aGlzLiR3cmFwTGltaXQ9cix0aGlzLiRtb2RpZmllZD0hMCx0aGlzLiR1c2VXcmFwTW9kZSYmKHRoaXMuJHVwZGF0ZVdyYXBEYXRhKDAsdGhpcy5nZXRMZW5ndGgoKS0xKSx0aGlzLiRyZXNldFJvd0NhY2hlKDApLHRoaXMuX3NpZ25hbCgiY2hhbmdlV3JhcExpbWl0IikpLCEwKTohMX0sdGhpcy4kY29uc3RyYWluV3JhcExpbWl0PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdCYmKGU9TWF0aC5tYXgodCxlKSksbiYmKGU9TWF0aC5taW4obixlKSksZX0sdGhpcy5nZXRXcmFwTGltaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kd3JhcExpbWl0fSx0aGlzLnNldFdyYXBMaW1pdD1mdW5jdGlvbihlKXt0aGlzLnNldFdyYXBMaW1pdFJhbmdlKGUsZSl9LHRoaXMuZ2V0V3JhcExpbWl0UmFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm57bWluOnRoaXMuJHdyYXBMaW1pdFJhbmdlLm1pbixtYXg6dGhpcy4kd3JhcExpbWl0UmFuZ2UubWF4fX0sdGhpcy4kdXBkYXRlSW50ZXJuYWxEYXRhT25DaGFuZ2U9ZnVuY3Rpb24oZSl7dmFyIG4sdD10aGlzLiR1c2VXcmFwTW9kZSxyPWUuZGF0YS5hY3Rpb24saT1lLmRhdGEucmFuZ2Uuc3RhcnQucm93LHM9ZS5kYXRhLnJhbmdlLmVuZC5yb3csbz1lLmRhdGEucmFuZ2Uuc3RhcnQsdT1lLmRhdGEucmFuZ2UuZW5kLGE9bnVsbDtpZigtMSE9ci5pbmRleE9mKCJMaW5lcyIpPyhzPSJpbnNlcnRMaW5lcyI9PXI/aStlLmRhdGEubGluZXMubGVuZ3RoOmksbj1lLmRhdGEubGluZXM/ZS5kYXRhLmxpbmVzLmxlbmd0aDpzLWkpOm49cy1pLHRoaXMuJHVwZGF0aW5nPSEwLDAhPW4paWYoLTEhPXIuaW5kZXhPZigicmVtb3ZlIikpe3RoaXNbdD8iJHdyYXBEYXRhIjoiJHJvd0xlbmd0aENhY2hlIl0uc3BsaWNlKGksbik7dmFyIGY9dGhpcy4kZm9sZERhdGE7YT10aGlzLmdldEZvbGRzSW5SYW5nZShlLmRhdGEucmFuZ2UpLHRoaXMucmVtb3ZlRm9sZHMoYSk7dmFyIGw9dGhpcy5nZXRGb2xkTGluZSh1LnJvdyksYz0wO2lmKGwpe2wuYWRkUmVtb3ZlQ2hhcnModS5yb3csdS5jb2x1bW4sby5jb2x1bW4tdS5jb2x1bW4pLGwuc2hpZnRSb3coLW4pO3ZhciBoPXRoaXMuZ2V0Rm9sZExpbmUoaSk7aCYmaCE9PWwmJihoLm1lcmdlKGwpLGw9aCksYz1mLmluZGV4T2YobCkrMX1mb3IoYztjPGYubGVuZ3RoO2MrKyl7dmFyIGw9ZltjXTtsLnN0YXJ0LnJvdz49dS5yb3cmJmwuc2hpZnRSb3coLW4pfXM9aX1lbHNle3ZhciBwPUFycmF5KG4pO3AudW5zaGlmdChpLDApO3ZhciBkPXQ/dGhpcy4kd3JhcERhdGE6dGhpcy4kcm93TGVuZ3RoQ2FjaGU7ZC5zcGxpY2UuYXBwbHkoZCxwKTt2YXIgZj10aGlzLiRmb2xkRGF0YSxsPXRoaXMuZ2V0Rm9sZExpbmUoaSksYz0wO2lmKGwpe3ZhciB2PWwucmFuZ2UuY29tcGFyZUluc2lkZShvLnJvdyxvLmNvbHVtbik7MD09dj8obD1sLnNwbGl0KG8ucm93LG8uY29sdW1uKSxsLnNoaWZ0Um93KG4pLGwuYWRkUmVtb3ZlQ2hhcnMocywwLHUuY29sdW1uLW8uY29sdW1uKSk6LTE9PXYmJihsLmFkZFJlbW92ZUNoYXJzKGksMCx1LmNvbHVtbi1vLmNvbHVtbiksbC5zaGlmdFJvdyhuKSksYz1mLmluZGV4T2YobCkrMX1mb3IoYztjPGYubGVuZ3RoO2MrKyl7dmFyIGw9ZltjXTtsLnN0YXJ0LnJvdz49aSYmbC5zaGlmdFJvdyhuKX19ZWxzZXtuPU1hdGguYWJzKGUuZGF0YS5yYW5nZS5zdGFydC5jb2x1bW4tZS5kYXRhLnJhbmdlLmVuZC5jb2x1bW4pLC0xIT1yLmluZGV4T2YoInJlbW92ZSIpJiYoYT10aGlzLmdldEZvbGRzSW5SYW5nZShlLmRhdGEucmFuZ2UpLHRoaXMucmVtb3ZlRm9sZHMoYSksbj0tbik7dmFyIGw9dGhpcy5nZXRGb2xkTGluZShpKTtsJiZsLmFkZFJlbW92ZUNoYXJzKGksby5jb2x1bW4sbil9cmV0dXJuIHQmJnRoaXMuJHdyYXBEYXRhLmxlbmd0aCE9dGhpcy5kb2MuZ2V0TGVuZ3RoKCkmJmNvbnNvbGUuZXJyb3IoImRvYy5nZXRMZW5ndGgoKSBhbmQgJHdyYXBEYXRhLmxlbmd0aCBoYXZlIHRvIGJlIHRoZSBzYW1lISIpLHRoaXMuJHVwZGF0aW5nPSExLHQ/dGhpcy4kdXBkYXRlV3JhcERhdGEoaSxzKTp0aGlzLiR1cGRhdGVSb3dMZW5ndGhDYWNoZShpLHMpLGF9LHRoaXMuJHVwZGF0ZVJvd0xlbmd0aENhY2hlPWZ1bmN0aW9uKGUsdCl7dGhpcy4kcm93TGVuZ3RoQ2FjaGVbZV09bnVsbCx0aGlzLiRyb3dMZW5ndGhDYWNoZVt0XT1udWxsfSx0aGlzLiR1cGRhdGVXcmFwRGF0YT1mdW5jdGlvbihlLHQpe3ZhciBvLGEsbj10aGlzLmRvYy5nZXRBbGxMaW5lcygpLHI9dGhpcy5nZXRUYWJTaXplKCksaT10aGlzLiR3cmFwRGF0YSxzPXRoaXMuJHdyYXBMaW1pdCxmPWU7Zm9yKHQ9TWF0aC5taW4odCxuLmxlbmd0aC0xKTt0Pj1mOylhPXRoaXMuZ2V0Rm9sZExpbmUoZixhKSxhPyhvPVtdLGEud2FsayhmdW5jdGlvbihlLHQscixpKXt2YXIgcztpZihudWxsIT1lKXtzPXRoaXMuJGdldERpc3BsYXlUb2tlbnMoZSxvLmxlbmd0aCksc1swXT11O2Zvcih2YXIgYT0xO2E8cy5sZW5ndGg7YSsrKXNbYV09bH1lbHNlIHM9dGhpcy4kZ2V0RGlzcGxheVRva2VucyhuW3RdLnN1YnN0cmluZyhpLHIpLG8ubGVuZ3RoKTtvPW8uY29uY2F0KHMpfS5iaW5kKHRoaXMpLGEuZW5kLnJvdyxuW2EuZW5kLnJvd10ubGVuZ3RoKzEpLGlbYS5zdGFydC5yb3ddPXRoaXMuJGNvbXB1dGVXcmFwU3BsaXRzKG8scyxyKSxmPWEuZW5kLnJvdysxKToobz10aGlzLiRnZXREaXNwbGF5VG9rZW5zKG5bZl0pLGlbZl09dGhpcy4kY29tcHV0ZVdyYXBTcGxpdHMobyxzLHIpLGYrKyl9O3ZhciB0PTEsbj0yLHU9MyxsPTQscD05LGQ9MTAsdj0xMSxtPTEyO3RoaXMuJGNvbXB1dGVXcmFwU3BsaXRzPWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gYSh0KXt2YXIgcj1lLnNsaWNlKGksdCksbz1yLmxlbmd0aDtyLmpvaW4oIiIpLnJlcGxhY2UoLzEyL2csZnVuY3Rpb24oKXtvLT0xfSkucmVwbGFjZSgvMi9nLGZ1bmN0aW9uKCl7by09MX0pLHMrPW8sbi5wdXNoKHMpLGk9dH1pZigwPT1lLmxlbmd0aClyZXR1cm5bXTtmb3IodmFyIG49W10scj1lLmxlbmd0aCxpPTAscz0wLG89dGhpcy4kd3JhcEFzQ29kZTtyLWk+dDspe3ZhciBmPWkrdDtpZihlW2YtMV0+PWQmJmVbZl0+PWQpYShmKTtlbHNlIGlmKGVbZl0hPXUmJmVbZl0hPWwpe2Zvcih2YXIgYz1NYXRoLm1heChmLShvPzEwOnQtKHQ+PjIpKSxpLTEpO2Y+YyYmZVtmXTx1OylmLS07aWYobyl7Zm9yKDtmPmMmJmVbZl08dTspZi0tO2Zvcig7Zj5jJiZlW2ZdPT1wOylmLS19ZWxzZSBmb3IoO2Y+YyYmZVtmXTxkOylmLS07Zj5jP2EoKytmKTooZj1pK3QsYShmKSl9ZWxzZXtmb3IoZjtmIT1pLTEmJmVbZl0hPXU7Zi0tKTtpZihmPmkpe2EoZik7Y29udGludWV9Zm9yKGY9aSt0O2Y8ZS5sZW5ndGgmJmVbZl09PWw7ZisrKTtpZihmPT1lLmxlbmd0aClicmVhazthKGYpfX1yZXR1cm4gbn0sdGhpcy4kZ2V0RGlzcGxheVRva2Vucz1mdW5jdGlvbihlLHIpe3ZhciBzLGk9W107cj1yfHwwO2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKXt2YXIgdT1lLmNoYXJDb2RlQXQobyk7aWYoOT09dSl7cz10aGlzLmdldFNjcmVlblRhYlNpemUoaS5sZW5ndGgrciksaS5wdXNoKHYpO2Zvcih2YXIgYT0xO3M+YTthKyspaS5wdXNoKG0pfWVsc2UgMzI9PXU/aS5wdXNoKGQpOnU+MzkmJjQ4PnV8fHU+NTcmJjY0PnU/aS5wdXNoKHApOnU+PTQzNTImJmcodSk/aS5wdXNoKHQsbik6aS5wdXNoKHQpfXJldHVybiBpfSx0aGlzLiRnZXRTdHJpbmdTY3JlZW5XaWR0aD1mdW5jdGlvbihlLHQsbil7aWYoMD09dClyZXR1cm5bMCwwXTtudWxsPT10JiYodD0xLzApLG49bnx8MDt2YXIgcixpO2ZvcihpPTA7aTxlLmxlbmd0aCYmKHI9ZS5jaGFyQ29kZUF0KGkpLG4rPTk9PXI/dGhpcy5nZXRTY3JlZW5UYWJTaXplKG4pOnI+PTQzNTImJmcocik/MjoxLCEobj50KSk7aSsrKTtyZXR1cm5bbixpXX0sdGhpcy5saW5lV2lkZ2V0cz1udWxsLHRoaXMuZ2V0Um93TGVuZ3RoPWZ1bmN0aW9uKGUpe2lmKHRoaXMubGluZVdpZGdldHMpdmFyIHQ9dGhpcy5saW5lV2lkZ2V0c1tlXSYmdGhpcy5saW5lV2lkZ2V0c1tlXS5yb3dDb3VudHx8MDtlbHNlIHQ9MDtyZXR1cm4gdGhpcy4kdXNlV3JhcE1vZGUmJnRoaXMuJHdyYXBEYXRhW2VdP3RoaXMuJHdyYXBEYXRhW2VdLmxlbmd0aCsxK3Q6MSt0fSx0aGlzLmdldFJvd0xpbmVDb3VudD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy4kdXNlV3JhcE1vZGUmJnRoaXMuJHdyYXBEYXRhW2VdP3RoaXMuJHdyYXBEYXRhW2VdLmxlbmd0aCsxOjF9LHRoaXMuZ2V0U2NyZWVuTGFzdFJvd0NvbHVtbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnNjcmVlblRvRG9jdW1lbnRQb3NpdGlvbihlLE51bWJlci5NQVhfVkFMVUUpO3JldHVybiB0aGlzLmRvY3VtZW50VG9TY3JlZW5Db2x1bW4odC5yb3csdC5jb2x1bW4pfSx0aGlzLmdldERvY3VtZW50TGFzdFJvd0NvbHVtbj1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZG9jdW1lbnRUb1NjcmVlblJvdyhlLHQpO3JldHVybiB0aGlzLmdldFNjcmVlbkxhc3RSb3dDb2x1bW4obil9LHRoaXMuZ2V0RG9jdW1lbnRMYXN0Um93Q29sdW1uUG9zaXRpb249ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmRvY3VtZW50VG9TY3JlZW5Sb3coZSx0KTtyZXR1cm4gdGhpcy5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24obixOdW1iZXIuTUFYX1ZBTFVFLzEwKX0sdGhpcy5nZXRSb3dTcGxpdERhdGE9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuJHVzZVdyYXBNb2RlP3RoaXMuJHdyYXBEYXRhW2VdOnZvaWQgMH0sdGhpcy5nZXRTY3JlZW5UYWJTaXplPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLiR0YWJTaXplLWUldGhpcy4kdGFiU2l6ZX0sdGhpcy5zY3JlZW5Ub0RvY3VtZW50Um93PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uKGUsdCkucm93fSx0aGlzLnNjcmVlblRvRG9jdW1lbnRDb2x1bW49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24oZSx0KS5jb2x1bW59LHRoaXMuc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uPWZ1bmN0aW9uKGUsdCl7aWYoMD5lKXJldHVybntyb3c6MCxjb2x1bW46MH07dmFyIG4scyxyPTAsaT0wLG89MCx1PTAsYT10aGlzLiRzY3JlZW5Sb3dDYWNoZSxmPXRoaXMuJGdldFJvd0NhY2hlSW5kZXgoYSxlKSxsPWEubGVuZ3RoO2lmKGwmJmY+PTApdmFyIG89YVtmXSxyPXRoaXMuJGRvY1Jvd0NhY2hlW2ZdLGM9ZT5hW2wtMV07ZWxzZSB2YXIgYz0hbDtmb3IodmFyIGg9dGhpcy5nZXRMZW5ndGgoKS0xLHA9dGhpcy5nZXROZXh0Rm9sZExpbmUociksZD1wP3Auc3RhcnQucm93OjEvMDtlPj1vJiYodT10aGlzLmdldFJvd0xlbmd0aChyKSwhKG8rdT5lfHxyPj1oKSk7KW8rPXUscisrLHI+ZCYmKHI9cC5lbmQucm93KzEscD10aGlzLmdldE5leHRGb2xkTGluZShyLHApLGQ9cD9wLnN0YXJ0LnJvdzoxLzApLGMmJih0aGlzLiRkb2NSb3dDYWNoZS5wdXNoKHIpLHRoaXMuJHNjcmVlblJvd0NhY2hlLnB1c2gobykpO2lmKHAmJnAuc3RhcnQucm93PD1yKW49dGhpcy5nZXRGb2xkRGlzcGxheUxpbmUocCkscj1wLnN0YXJ0LnJvdztlbHNle2lmKGU+PW8rdXx8cj5oKXJldHVybntyb3c6aCxjb2x1bW46dGhpcy5nZXRMaW5lKGgpLmxlbmd0aH07bj10aGlzLmdldExpbmUocikscD1udWxsfWlmKHRoaXMuJHVzZVdyYXBNb2RlKXt2YXIgdj10aGlzLiR3cmFwRGF0YVtyXTtpZih2KXt2YXIgbT1NYXRoLmZsb29yKGUtbyk7cz12W21dLG0+MCYmdi5sZW5ndGgmJihpPXZbbS0xXXx8dlt2Lmxlbmd0aC0xXSxuPW4uc3Vic3RyaW5nKGkpKX19cmV0dXJuIGkrPXRoaXMuJGdldFN0cmluZ1NjcmVlbldpZHRoKG4sdClbMV0sdGhpcy4kdXNlV3JhcE1vZGUmJmk+PXMmJihpPXMtMSkscD9wLmlkeFRvUG9zaXRpb24oaSk6e3JvdzpyLGNvbHVtbjppfX0sdGhpcy5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb249ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIj09dHlwZW9mIHQpdmFyIG49dGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudChlLnJvdyxlLmNvbHVtbik7ZWxzZSBuPXRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQoZSx0KTtlPW4ucm93LHQ9bi5jb2x1bW47dmFyIHI9MCxpPW51bGwscz1udWxsO3M9dGhpcy5nZXRGb2xkQXQoZSx0LDEpLHMmJihlPXMuc3RhcnQucm93LHQ9cy5zdGFydC5jb2x1bW4pO3ZhciBvLHU9MCxhPXRoaXMuJGRvY1Jvd0NhY2hlLGY9dGhpcy4kZ2V0Um93Q2FjaGVJbmRleChhLGUpLGw9YS5sZW5ndGg7aWYobCYmZj49MCl2YXIgdT1hW2ZdLHI9dGhpcy4kc2NyZWVuUm93Q2FjaGVbZl0sYz1lPmFbbC0xXTtlbHNlIHZhciBjPSFsO2Zvcih2YXIgaD10aGlzLmdldE5leHRGb2xkTGluZSh1KSxwPWg/aC5zdGFydC5yb3c6MS8wO2U+dTspe2lmKHU+PXApe2lmKG89aC5lbmQucm93KzEsbz5lKWJyZWFrO2g9dGhpcy5nZXROZXh0Rm9sZExpbmUobyxoKSxwPWg/aC5zdGFydC5yb3c6MS8wfWVsc2Ugbz11KzE7cis9dGhpcy5nZXRSb3dMZW5ndGgodSksdT1vLGMmJih0aGlzLiRkb2NSb3dDYWNoZS5wdXNoKHUpLHRoaXMuJHNjcmVlblJvd0NhY2hlLnB1c2gocikpfXZhciBkPSIiO2lmKGgmJnU+PXA/KGQ9dGhpcy5nZXRGb2xkRGlzcGxheUxpbmUoaCxlLHQpLGk9aC5zdGFydC5yb3cpOihkPXRoaXMuZ2V0TGluZShlKS5zdWJzdHJpbmcoMCx0KSxpPWUpLHRoaXMuJHVzZVdyYXBNb2RlKXt2YXIgdj10aGlzLiR3cmFwRGF0YVtpXTtpZih2KXtmb3IodmFyIG09MDtkLmxlbmd0aD49dlttXTspcisrLG0rKztkPWQuc3Vic3RyaW5nKHZbbS0xXXx8MCxkLmxlbmd0aCl9fXJldHVybntyb3c6cixjb2x1bW46dGhpcy4kZ2V0U3RyaW5nU2NyZWVuV2lkdGgoZClbMF19fSx0aGlzLmRvY3VtZW50VG9TY3JlZW5Db2x1bW49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24oZSx0KS5jb2x1bW59LHRoaXMuZG9jdW1lbnRUb1NjcmVlblJvdz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbihlLHQpLnJvd30sdGhpcy5nZXRTY3JlZW5MZW5ndGg9ZnVuY3Rpb24oKXt2YXIgZT0wLHQ9bnVsbDtpZih0aGlzLiR1c2VXcmFwTW9kZSlmb3IodmFyIGk9dGhpcy4kd3JhcERhdGEubGVuZ3RoLHM9MCxyPTAsdD10aGlzLiRmb2xkRGF0YVtyKytdLG89dD90LnN0YXJ0LnJvdzoxLzA7aT5zOyl7dmFyIHU9dGhpcy4kd3JhcERhdGFbc107ZSs9dT91Lmxlbmd0aCsxOjEscysrLHM+byYmKHM9dC5lbmQucm93KzEsdD10aGlzLiRmb2xkRGF0YVtyKytdLG89dD90LnN0YXJ0LnJvdzoxLzApfWVsc2V7ZT10aGlzLmdldExlbmd0aCgpO2Zvcih2YXIgbj10aGlzLiRmb2xkRGF0YSxyPTA7cjxuLmxlbmd0aDtyKyspdD1uW3JdLGUtPXQuZW5kLnJvdy10LnN0YXJ0LnJvd31yZXR1cm4gdGhpcy5saW5lV2lkZ2V0cyYmKGUrPXRoaXMuJGdldFdpZGdldFNjcmVlbkxlbmd0aCgpKSxlfSx0aGlzLiRzZXRGb250TWV0cmljcz1mdW5jdGlvbigpe319KS5jYWxsKHAucHJvdG90eXBlKSxlKCIuL2VkaXRfc2Vzc2lvbi9mb2xkaW5nIikuRm9sZGluZy5jYWxsKHAucHJvdG90eXBlKSxlKCIuL2VkaXRfc2Vzc2lvbi9icmFja2V0X21hdGNoIikuQnJhY2tldE1hdGNoLmNhbGwocC5wcm90b3R5cGUpLHMuZGVmaW5lT3B0aW9ucyhwLnByb3RvdHlwZSwic2Vzc2lvbiIse3dyYXA6e3NldDpmdW5jdGlvbihlKXtpZihlJiYib2ZmIiE9ZT8iZnJlZSI9PWU/ZT0hMDoicHJpbnRNYXJnaW4iPT1lP2U9LTE6InN0cmluZyI9PXR5cGVvZiBlJiYoZT1wYXJzZUludChlLDEwKXx8ITEpOmU9ITEsdGhpcy4kd3JhcCE9ZSl7aWYoZSl7dmFyIHQ9Im51bWJlciI9PXR5cGVvZiBlP2U6bnVsbDt0aGlzLnNldFdyYXBMaW1pdFJhbmdlKHQsdCksdGhpcy5zZXRVc2VXcmFwTW9kZSghMCl9ZWxzZSB0aGlzLnNldFVzZVdyYXBNb2RlKCExKTt0aGlzLiR3cmFwPWV9fSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRVc2VXcmFwTW9kZSgpPy0xPT10aGlzLiR3cmFwPyJwcmludE1hcmdpbiI6dGhpcy5nZXRXcmFwTGltaXRSYW5nZSgpLm1pbj90aGlzLiR3cmFwOiJmcmVlIjoib2ZmIn0saGFuZGxlc1NldDohMH0sd3JhcE1ldGhvZDp7c2V0OmZ1bmN0aW9uKGUpe2U9ImF1dG8iPT1lPyJ0ZXh0IiE9dGhpcy4kbW9kZS50eXBlOiJ0ZXh0IiE9ZSxlIT10aGlzLiR3cmFwQXNDb2RlJiYodGhpcy4kd3JhcEFzQ29kZT1lLHRoaXMuJHVzZVdyYXBNb2RlJiYodGhpcy4kbW9kaWZpZWQ9ITAsdGhpcy4kcmVzZXRSb3dDYWNoZSgwKSx0aGlzLiR1cGRhdGVXcmFwRGF0YSgwLHRoaXMuZ2V0TGVuZ3RoKCktMSkpKX0saW5pdGlhbFZhbHVlOiJhdXRvIn0sZmlyc3RMaW5lTnVtYmVyOntzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9zaWduYWwoImNoYW5nZUJyZWFrcG9pbnQiKX0saW5pdGlhbFZhbHVlOjF9LHVzZVdvcmtlcjp7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuJHVzZVdvcmtlcj1lLHRoaXMuJHN0b3BXb3JrZXIoKSxlJiZ0aGlzLiRzdGFydFdvcmtlcigpfSxpbml0aWFsVmFsdWU6ITB9LHVzZVNvZnRUYWJzOntpbml0aWFsVmFsdWU6ITB9LHRhYlNpemU6e3NldDpmdW5jdGlvbihlKXtpc05hTihlKXx8dGhpcy4kdGFiU2l6ZT09PWV8fCh0aGlzLiRtb2RpZmllZD0hMCx0aGlzLiRyb3dMZW5ndGhDYWNoZT1bXSx0aGlzLiR0YWJTaXplPWUsdGhpcy5fc2lnbmFsKCJjaGFuZ2VUYWJTaXplIikpfSxpbml0aWFsVmFsdWU6NCxoYW5kbGVzU2V0OiEwfSxvdmVyd3JpdGU6e3NldDpmdW5jdGlvbigpe3RoaXMuX3NpZ25hbCgiY2hhbmdlT3ZlcndyaXRlIil9LGluaXRpYWxWYWx1ZTohMX0sbmV3TGluZU1vZGU6e3NldDpmdW5jdGlvbihlKXt0aGlzLmRvYy5zZXROZXdMaW5lTW9kZShlKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jLmdldE5ld0xpbmVNb2RlKCl9LGhhbmRsZXNTZXQ6ITB9LG1vZGU6e3NldDpmdW5jdGlvbihlKXt0aGlzLnNldE1vZGUoZSl9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRtb2RlSWR9fX0pLHQuRWRpdFNlc3Npb249cH0pLGRlZmluZSgiYWNlL2NvbW1hbmRzL2NvbW1hbmRfbWFuYWdlciIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL2tleWJvYXJkL2hhc2hfaGFuZGxlciIsImFjZS9saWIvZXZlbnRfZW1pdHRlciJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSgiLi4vbGliL29vcCIpLGk9ZSgiLi4va2V5Ym9hcmQvaGFzaF9oYW5kbGVyIikuSGFzaEhhbmRsZXIscz1lKCIuLi9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcixvPWZ1bmN0aW9uKGUsdCl7aS5jYWxsKHRoaXMsdCxlKSx0aGlzLmJ5TmFtZT10aGlzLmNvbW1hbmRzLHRoaXMuc2V0RGVmYXVsdEhhbmRsZXIoImV4ZWMiLGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbW1hbmQuZXhlYyhlLmVkaXRvcixlLmFyZ3N8fHt9KX0pfTtyLmluaGVyaXRzKG8saSksZnVuY3Rpb24oKXtyLmltcGxlbWVudCh0aGlzLHMpLHRoaXMuZXhlYz1mdW5jdGlvbihlLHQsbil7aWYoInN0cmluZyI9PXR5cGVvZiBlJiYoZT10aGlzLmNvbW1hbmRzW2VdKSwhZSlyZXR1cm4hMTtpZih0JiZ0LiRyZWFkT25seSYmIWUucmVhZE9ubHkpcmV0dXJuITE7dmFyIHI9e2VkaXRvcjp0LGNvbW1hbmQ6ZSxhcmdzOm59LGk9dGhpcy5fZW1pdCgiZXhlYyIscik7cmV0dXJuIHRoaXMuX3NpZ25hbCgiYWZ0ZXJFeGVjIixyKSxpPT09ITE/ITE6ITB9LHRoaXMudG9nZ2xlUmVjb3JkaW5nPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLiRpblJlcGxheT92b2lkIDA6KGUmJmUuX2VtaXQoImNoYW5nZVN0YXR1cyIpLHRoaXMucmVjb3JkaW5nPyh0aGlzLm1hY3JvLnBvcCgpLHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZXhlYyIsdGhpcy4kYWRkQ29tbWFuZFRvTWFjcm8pLHRoaXMubWFjcm8ubGVuZ3RofHwodGhpcy5tYWNybz10aGlzLm9sZE1hY3JvKSx0aGlzLnJlY29yZGluZz0hMSk6KHRoaXMuJGFkZENvbW1hbmRUb01hY3JvfHwodGhpcy4kYWRkQ29tbWFuZFRvTWFjcm89ZnVuY3Rpb24oZSl7dGhpcy5tYWNyby5wdXNoKFtlLmNvbW1hbmQsZS5hcmdzXSl9LmJpbmQodGhpcykpLHRoaXMub2xkTWFjcm89dGhpcy5tYWNybyx0aGlzLm1hY3JvPVtdLHRoaXMub24oImV4ZWMiLHRoaXMuJGFkZENvbW1hbmRUb01hY3JvKSx0aGlzLnJlY29yZGluZz0hMCkpfSx0aGlzLnJlcGxheT1mdW5jdGlvbihlKXtpZighdGhpcy4kaW5SZXBsYXkmJnRoaXMubWFjcm8pe2lmKHRoaXMucmVjb3JkaW5nKXJldHVybiB0aGlzLnRvZ2dsZVJlY29yZGluZyhlKTt0cnl7dGhpcy4kaW5SZXBsYXk9ITAsdGhpcy5tYWNyby5mb3JFYWNoKGZ1bmN0aW9uKHQpeyJzdHJpbmciPT10eXBlb2YgdD90aGlzLmV4ZWModCxlKTp0aGlzLmV4ZWModFswXSxlLHRbMV0pfSx0aGlzKX1maW5hbGx5e3RoaXMuJGluUmVwbGF5PSExfX19LHRoaXMudHJpbU1hY3JvPWZ1bmN0aW9uKGUpe3JldHVybiBlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGVbMF0mJihlWzBdPWVbMF0ubmFtZSksZVsxXXx8KGU9ZVswXSksZX0pfX0uY2FsbChvLnByb3RvdHlwZSksdC5Db21tYW5kTWFuYWdlcj1vfSksZGVmaW5lKCJhY2Uva2V5Ym9hcmQva2V5YmluZGluZyIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIva2V5cyIsImFjZS9saWIvZXZlbnQiXSxmdW5jdGlvbihlLHQpe3ZhciByPWUoIi4uL2xpYi9rZXlzIiksaT1lKCIuLi9saWIvZXZlbnQiKSxzPWZ1bmN0aW9uKGUpe3RoaXMuJGVkaXRvcj1lLHRoaXMuJGRhdGE9e30sdGhpcy4kaGFuZGxlcnM9W10sdGhpcy5zZXREZWZhdWx0SGFuZGxlcihlLmNvbW1hbmRzKX07KGZ1bmN0aW9uKCl7dGhpcy5zZXREZWZhdWx0SGFuZGxlcj1mdW5jdGlvbihlKXt0aGlzLnJlbW92ZUtleWJvYXJkSGFuZGxlcih0aGlzLiRkZWZhdWx0SGFuZGxlciksdGhpcy4kZGVmYXVsdEhhbmRsZXI9ZSx0aGlzLmFkZEtleWJvYXJkSGFuZGxlcihlLDApLHRoaXMuJGRhdGE9e2VkaXRvcjp0aGlzLiRlZGl0b3J9fSx0aGlzLnNldEtleWJvYXJkSGFuZGxlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLiRoYW5kbGVycztpZih0W3QubGVuZ3RoLTFdIT1lKXtmb3IoO3RbdC5sZW5ndGgtMV0mJnRbdC5sZW5ndGgtMV0hPXRoaXMuJGRlZmF1bHRIYW5kbGVyOyl0aGlzLnJlbW92ZUtleWJvYXJkSGFuZGxlcih0W3QubGVuZ3RoLTFdKTt0aGlzLmFkZEtleWJvYXJkSGFuZGxlcihlLDEpfX0sdGhpcy5hZGRLZXlib2FyZEhhbmRsZXI9ZnVuY3Rpb24oZSx0KXtpZihlKXsiZnVuY3Rpb24iPT10eXBlb2YgZSYmIWUuaGFuZGxlS2V5Ym9hcmQmJihlLmhhbmRsZUtleWJvYXJkPWUpO3ZhciBuPXRoaXMuJGhhbmRsZXJzLmluZGV4T2YoZSk7LTEhPW4mJnRoaXMuJGhhbmRsZXJzLnNwbGljZShuLDEpLHZvaWQgMD09dD90aGlzLiRoYW5kbGVycy5wdXNoKGUpOnRoaXMuJGhhbmRsZXJzLnNwbGljZSh0LDAsZSksLTE9PW4mJmUuYXR0YWNoJiZlLmF0dGFjaCh0aGlzLiRlZGl0b3IpfX0sdGhpcy5yZW1vdmVLZXlib2FyZEhhbmRsZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy4kaGFuZGxlcnMuaW5kZXhPZihlKTtyZXR1cm4tMT09dD8hMToodGhpcy4kaGFuZGxlcnMuc3BsaWNlKHQsMSksZS5kZXRhY2gmJmUuZGV0YWNoKHRoaXMuJGVkaXRvciksITApfSx0aGlzLmdldEtleWJvYXJkSGFuZGxlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRoYW5kbGVyc1t0aGlzLiRoYW5kbGVycy5sZW5ndGgtMV19LHRoaXMuJGNhbGxLZXlib2FyZEhhbmRsZXJzPWZ1bmN0aW9uKGUsdCxuLHIpe2Zvcih2YXIgcyxvPSExLHU9dGhpcy4kZWRpdG9yLmNvbW1hbmRzLGE9dGhpcy4kaGFuZGxlcnMubGVuZ3RoO2EtLSYmKHM9dGhpcy4kaGFuZGxlcnNbYV0uaGFuZGxlS2V5Ym9hcmQodGhpcy4kZGF0YSxlLHQsbixyKSwhKHMmJnMuY29tbWFuZCYmKG89Im51bGwiPT1zLmNvbW1hbmQ/ITA6dS5leGVjKHMuY29tbWFuZCx0aGlzLiRlZGl0b3Iscy5hcmdzLHIpLG8mJnImJi0xIT1lJiYxIT1zLnBhc3NFdmVudCYmMSE9cy5jb21tYW5kLnBhc3NFdmVudCYmaS5zdG9wRXZlbnQociksbykpKTspO3JldHVybiBvfSx0aGlzLm9uQ29tbWFuZEtleT1mdW5jdGlvbihlLHQsbil7dmFyIGk9ci5rZXlDb2RlVG9TdHJpbmcobik7dGhpcy4kY2FsbEtleWJvYXJkSGFuZGxlcnModCxpLG4sZSl9LHRoaXMub25UZXh0SW5wdXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy4kY2FsbEtleWJvYXJkSGFuZGxlcnMoLTEsZSk7dHx8dGhpcy4kZWRpdG9yLmNvbW1hbmRzLmV4ZWMoImluc2VydHN0cmluZyIsdGhpcy4kZWRpdG9yLGUpfX0pLmNhbGwocy5wcm90b3R5cGUpLHQuS2V5QmluZGluZz1zfSksZGVmaW5lKCJhY2Uva2V5Ym9hcmQvaGFzaF9oYW5kbGVyIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9rZXlzIiwiYWNlL2xpYi91c2VyYWdlbnQiXSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHMoZSx0KXtpZih0aGlzLnBsYXRmb3JtPXR8fChpLmlzTWFjPyJtYWMiOiJ3aW4iKSx0aGlzLmNvbW1hbmRzPXt9LHRoaXMuY29tbWFuZEtleUJpbmRpbmc9e30sdGhpcy5fX2RlZmluZUdldHRlcl9fJiZ0aGlzLl9fZGVmaW5lU2V0dGVyX18mJiJ1bmRlZmluZWQiIT10eXBlb2YgY29uc29sZSYmY29uc29sZS5lcnJvcil7dmFyIG49ITEscj1mdW5jdGlvbigpe258fChuPSEwLGNvbnNvbGUuZXJyb3IoImNvbW1tYW5kS2V5QmluZGluZyBoYXMgdG9vIG1hbnkgbSdzLiB1c2UgY29tbWFuZEtleUJpbmRpbmciKSl9O3RoaXMuX19kZWZpbmVHZXR0ZXJfXygiY29tbW1hbmRLZXlCaW5kaW5nIixmdW5jdGlvbigpe3JldHVybiByKCksdGhpcy5jb21tYW5kS2V5QmluZGluZ30pLHRoaXMuX19kZWZpbmVTZXR0ZXJfXygiY29tbW1hbmRLZXlCaW5kaW5nIixmdW5jdGlvbihlKXtyZXR1cm4gcigpLHRoaXMuY29tbWFuZEtleUJpbmRpbmc9ZX0pfWVsc2UgdGhpcy5jb21tbWFuZEtleUJpbmRpbmc9dGhpcy5jb21tYW5kS2V5QmluZGluZzt0aGlzLmFkZENvbW1hbmRzKGUpfXZhciByPWUoIi4uL2xpYi9rZXlzIiksaT1lKCIuLi9saWIvdXNlcmFnZW50Iik7KGZ1bmN0aW9uKCl7dGhpcy5hZGRDb21tYW5kPWZ1bmN0aW9uKGUpe3RoaXMuY29tbWFuZHNbZS5uYW1lXSYmdGhpcy5yZW1vdmVDb21tYW5kKGUpLHRoaXMuY29tbWFuZHNbZS5uYW1lXT1lLGUuYmluZEtleSYmdGhpcy5fYnVpbGRLZXlIYXNoKGUpfSx0aGlzLnJlbW92ZUNvbW1hbmQ9ZnVuY3Rpb24oZSl7dmFyIHQ9InN0cmluZyI9PXR5cGVvZiBlP2U6ZS5uYW1lO2U9dGhpcy5jb21tYW5kc1t0XSxkZWxldGUgdGhpcy5jb21tYW5kc1t0XTt2YXIgbj10aGlzLmNvbW1hbmRLZXlCaW5kaW5nO2Zvcih2YXIgciBpbiBuKWZvcih2YXIgaSBpbiBuW3JdKW5bcl1baV09PWUmJmRlbGV0ZSBuW3JdW2ldfSx0aGlzLmJpbmRLZXk9ZnVuY3Rpb24oZSx0KXtpZihlKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgdClyZXR1cm4gdm9pZCB0aGlzLmFkZENvbW1hbmQoe2V4ZWM6dCxiaW5kS2V5OmUsbmFtZTp0Lm5hbWV8fGV9KTt2YXIgbj10aGlzLmNvbW1hbmRLZXlCaW5kaW5nO2Uuc3BsaXQoInwiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXRoaXMucGFyc2VLZXlzKGUsdCksaT1yLmhhc2hJZDsobltpXXx8KG5baV09e30pKVtyLmtleV09dH0sdGhpcyl9fSx0aGlzLmFkZENvbW1hbmRzPWZ1bmN0aW9uKGUpe2UmJk9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG49ZVt0XTtpZihuKXtpZigic3RyaW5nIj09dHlwZW9mIG4pcmV0dXJuIHRoaXMuYmluZEtleShuLHQpOyJmdW5jdGlvbiI9PXR5cGVvZiBuJiYobj17ZXhlYzpufSksIm9iamVjdCI9PXR5cGVvZiBuJiYobi5uYW1lfHwobi5uYW1lPXQpLHRoaXMuYWRkQ29tbWFuZChuKSl9fSx0aGlzKX0sdGhpcy5yZW1vdmVDb21tYW5kcz1mdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3RoaXMucmVtb3ZlQ29tbWFuZChlW3RdKX0sdGhpcyl9LHRoaXMuYmluZEtleXM9ZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbih0KXt0aGlzLmJpbmRLZXkodCxlW3RdKX0sdGhpcyl9LHRoaXMuX2J1aWxkS2V5SGFzaD1mdW5jdGlvbihlKXt2YXIgdD1lLmJpbmRLZXk7aWYodCl7dmFyIG49InN0cmluZyI9PXR5cGVvZiB0P3Q6dFt0aGlzLnBsYXRmb3JtXTt0aGlzLmJpbmRLZXkobixlKX19LHRoaXMucGFyc2VLZXlzPWZ1bmN0aW9uKGUpey0xIT1lLmluZGV4T2YoIiAiKSYmKGU9ZS5zcGxpdCgvXHMrLykucG9wKCkpO3ZhciB0PWUudG9Mb3dlckNhc2UoKS5zcGxpdCgvW1wtXCtdKFtcLVwrXSk/LykuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlfSksbj10LnBvcCgpLGk9cltuXTtpZihyLkZVTkNUSU9OX0tFWVNbaV0pbj1yLkZVTkNUSU9OX0tFWVNbaV0udG9Mb3dlckNhc2UoKTtlbHNle2lmKCF0Lmxlbmd0aClyZXR1cm57a2V5Om4saGFzaElkOi0xfTtpZigxPT10Lmxlbmd0aCYmInNoaWZ0Ij09dFswXSlyZXR1cm57a2V5Om4udG9VcHBlckNhc2UoKSxoYXNoSWQ6LTF9fWZvcih2YXIgcz0wLG89dC5sZW5ndGg7by0tOyl7dmFyIHU9ci5LRVlfTU9EU1t0W29dXTtpZihudWxsPT11KXJldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgY29uc29sZSYmY29uc29sZS5lcnJvcigiaW52YWxpZCBtb2RpZmllciAiK3Rbb10rIiBpbiAiK2UpLCExO3N8PXV9cmV0dXJue2tleTpuLGhhc2hJZDpzfX0sdGhpcy5maW5kS2V5Q29tbWFuZD1mdW5jdGlvbih0LG4pe3ZhciByPXRoaXMuY29tbWFuZEtleUJpbmRpbmc7cmV0dXJuIHJbdF0mJnJbdF1bbl19LHRoaXMuaGFuZGxlS2V5Ym9hcmQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybntjb21tYW5kOnRoaXMuZmluZEtleUNvbW1hbmQodCxuKX19fSkuY2FsbChzLnByb3RvdHlwZSksdC5IYXNoSGFuZGxlcj1zfSksZGVmaW5lKCJhY2UvbW91c2UvZm9sZF9oYW5kbGVyIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKGUpe2Uub24oImNsaWNrIixmdW5jdGlvbih0KXt2YXIgbj10LmdldERvY3VtZW50UG9zaXRpb24oKSxyPWUuc2Vzc2lvbixpPXIuZ2V0Rm9sZEF0KG4ucm93LG4uY29sdW1uLDEpO2kmJih0LmdldEFjY2VsS2V5KCk/ci5yZW1vdmVGb2xkKGkpOnIuZXhwYW5kRm9sZChpKSx0LnN0b3AoKSl9KSxlLm9uKCJndXR0ZXJjbGljayIsZnVuY3Rpb24odCl7dmFyIG49ZS5yZW5kZXJlci4kZ3V0dGVyTGF5ZXIuZ2V0UmVnaW9uKHQpO2lmKCJmb2xkV2lkZ2V0cyI9PW4pe3ZhciByPXQuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLnJvdyxpPWUuc2Vzc2lvbjtpLmZvbGRXaWRnZXRzJiZpLmZvbGRXaWRnZXRzW3JdJiZlLnNlc3Npb24ub25Gb2xkV2lkZ2V0Q2xpY2socix0KSxlLmlzRm9jdXNlZCgpfHxlLmZvY3VzKCksdC5zdG9wKCl9fSksZS5vbigiZ3V0dGVyZGJsY2xpY2siLGZ1bmN0aW9uKHQpe3ZhciBuPWUucmVuZGVyZXIuJGd1dHRlckxheWVyLmdldFJlZ2lvbih0KTtpZigiZm9sZFdpZGdldHMiPT1uKXt2YXIgcj10LmdldERvY3VtZW50UG9zaXRpb24oKS5yb3csaT1lLnNlc3Npb24scz1pLmdldFBhcmVudEZvbGRSYW5nZURhdGEociwhMCksbz1zLnJhbmdlfHxzLmZpcnN0UmFuZ2U7aWYobyl7cj1vLnN0YXJ0LnJvdzt2YXIgdT1pLmdldEZvbGRBdChyLGkuZ2V0TGluZShyKS5sZW5ndGgsMSk7dT9pLnJlbW92ZUZvbGQodSk6KGkuYWRkRm9sZCgiLi4uIixvKSxlLnJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KHtyb3c6by5zdGFydC5yb3csY29sdW1uOjB9KSl9dC5zdG9wKCl9fSl9dC5Gb2xkSGFuZGxlcj1yfSksZGVmaW5lKCJhY2UvY29tbWFuZHMvZGVmYXVsdF9jb21tYW5kcyIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvbGFuZyIsImFjZS9jb25maWciXSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHMoZSx0KXtyZXR1cm57d2luOmUsbWFjOnR9fXZhciByPWUoIi4uL2xpYi9sYW5nIiksaT1lKCIuLi9jb25maWciKTt0LmNvbW1hbmRzPVt7bmFtZToic2hvd1NldHRpbmdzTWVudSIsYmluZEtleTpzKCJDdHJsLSwiLCJDb21tYW5kLSwiKSxleGVjOmZ1bmN0aW9uKGUpe2kubG9hZE1vZHVsZSgiYWNlL2V4dC9zZXR0aW5nc19tZW51IixmdW5jdGlvbih0KXt0LmluaXQoZSksZS5zaG93U2V0dGluZ3NNZW51KCl9KX0scmVhZE9ubHk6ITB9LHtuYW1lOiJnb1RvTmV4dEVycm9yIixiaW5kS2V5OnMoIkFsdC1FIiwiQ3RybC1FIiksZXhlYzpmdW5jdGlvbihlKXtpLmxvYWRNb2R1bGUoImFjZS9leHQvZXJyb3JfbWFya2VyIixmdW5jdGlvbih0KXt0LnNob3dFcnJvck1hcmtlcihlLDEpfSl9LHNjcm9sbEludG9WaWV3OiJhbmltYXRlIixyZWFkT25seTohMH0se25hbWU6ImdvVG9QcmV2aW91c0Vycm9yIixiaW5kS2V5OnMoIkFsdC1TaGlmdC1FIiwiQ3RybC1TaGlmdC1FIiksZXhlYzpmdW5jdGlvbihlKXtpLmxvYWRNb2R1bGUoImFjZS9leHQvZXJyb3JfbWFya2VyIixmdW5jdGlvbih0KXt0LnNob3dFcnJvck1hcmtlcihlLC0xKX0pfSxzY3JvbGxJbnRvVmlldzoiYW5pbWF0ZSIscmVhZE9ubHk6ITB9LHtuYW1lOiJzZWxlY3RhbGwiLGJpbmRLZXk6cygiQ3RybC1BIiwiQ29tbWFuZC1BIiksZXhlYzpmdW5jdGlvbihlKXtlLnNlbGVjdEFsbCgpfSxyZWFkT25seTohMH0se25hbWU6ImNlbnRlcnNlbGVjdGlvbiIsYmluZEtleTpzKG51bGwsIkN0cmwtTCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5jZW50ZXJTZWxlY3Rpb24oKX0scmVhZE9ubHk6ITB9LHtuYW1lOiJnb3RvbGluZSIsYmluZEtleTpzKCJDdHJsLUwiLCJDb21tYW5kLUwiKSxleGVjOmZ1bmN0aW9uKGUpe3ZhciB0PXBhcnNlSW50KHByb21wdCgiRW50ZXIgbGluZSBudW1iZXI6IiksMTApO2lzTmFOKHQpfHxlLmdvdG9MaW5lKHQpfSxyZWFkT25seTohMH0se25hbWU6ImZvbGQiLGJpbmRLZXk6cygiQWx0LUx8Q3RybC1GMSIsIkNvbW1hbmQtQWx0LUx8Q29tbWFuZC1GMSIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zZXNzaW9uLnRvZ2dsZUZvbGQoITEpfSxzY3JvbGxJbnRvVmlldzoiY2VudGVyIixyZWFkT25seTohMH0se25hbWU6InVuZm9sZCIsYmluZEtleTpzKCJBbHQtU2hpZnQtTHxDdHJsLVNoaWZ0LUYxIiwiQ29tbWFuZC1BbHQtU2hpZnQtTHxDb21tYW5kLVNoaWZ0LUYxIiksZXhlYzpmdW5jdGlvbihlKXtlLnNlc3Npb24udG9nZ2xlRm9sZCghMCl9LHNjcm9sbEludG9WaWV3OiJjZW50ZXIiLHJlYWRPbmx5OiEwfSx7bmFtZToidG9nZ2xlRm9sZFdpZGdldCIsYmluZEtleTpzKCJGMiIsIkYyIiksZXhlYzpmdW5jdGlvbihlKXtlLnNlc3Npb24udG9nZ2xlRm9sZFdpZGdldCgpfSxzY3JvbGxJbnRvVmlldzoiY2VudGVyIixyZWFkT25seTohMH0se25hbWU6InRvZ2dsZVBhcmVudEZvbGRXaWRnZXQiLGJpbmRLZXk6cygiQWx0LUYyIiwiQWx0LUYyIiksZXhlYzpmdW5jdGlvbihlKXtlLnNlc3Npb24udG9nZ2xlRm9sZFdpZGdldCghMCl9LHNjcm9sbEludG9WaWV3OiJjZW50ZXIiLHJlYWRPbmx5OiEwfSx7bmFtZToiZm9sZGFsbCIsYmluZEtleTpzKCJDdHJsLUFsdC0wIiwiQ3RybC1Db21tYW5kLU9wdGlvbi0wIiksZXhlYzpmdW5jdGlvbihlKXtlLnNlc3Npb24uZm9sZEFsbCgpfSxzY3JvbGxJbnRvVmlldzoiY2VudGVyIixyZWFkT25seTohMH0se25hbWU6ImZvbGRPdGhlciIsYmluZEtleTpzKCJBbHQtMCIsIkNvbW1hbmQtT3B0aW9uLTAiKSxleGVjOmZ1bmN0aW9uKGUpe2Uuc2Vzc2lvbi5mb2xkQWxsKCksZS5zZXNzaW9uLnVuZm9sZChlLnNlbGVjdGlvbi5nZXRBbGxSYW5nZXMoKSl9LHNjcm9sbEludG9WaWV3OiJjZW50ZXIiLHJlYWRPbmx5OiEwfSx7bmFtZToidW5mb2xkYWxsIixiaW5kS2V5OnMoIkFsdC1TaGlmdC0wIiwiQ29tbWFuZC1PcHRpb24tU2hpZnQtMCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zZXNzaW9uLnVuZm9sZCgpfSxzY3JvbGxJbnRvVmlldzoiY2VudGVyIixyZWFkT25seTohMH0se25hbWU6ImZpbmRuZXh0IixiaW5kS2V5OnMoIkN0cmwtSyIsIkNvbW1hbmQtRyIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5maW5kTmV4dCgpfSxyZWFkT25seTohMH0se25hbWU6ImZpbmRwcmV2aW91cyIsYmluZEtleTpzKCJDdHJsLVNoaWZ0LUsiLCJDb21tYW5kLVNoaWZ0LUciKSxleGVjOmZ1bmN0aW9uKGUpe2UuZmluZFByZXZpb3VzKCl9LHJlYWRPbmx5OiEwfSx7bmFtZToic2VsZWN0T3JGaW5kTmV4dCIsYmluZEtleTpzKCJBTHQtSyIsIkN0cmwtRyIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zZWxlY3Rpb24uaXNFbXB0eSgpP2Uuc2VsZWN0aW9uLnNlbGVjdFdvcmQoKTplLmZpbmROZXh0KCl9LHJlYWRPbmx5OiEwfSx7bmFtZToic2VsZWN0T3JGaW5kUHJldmlvdXMiLGJpbmRLZXk6cygiQWx0LVNoaWZ0LUsiLCJDdHJsLVNoaWZ0LUciKSxleGVjOmZ1bmN0aW9uKGUpe2Uuc2VsZWN0aW9uLmlzRW1wdHkoKT9lLnNlbGVjdGlvbi5zZWxlY3RXb3JkKCk6ZS5maW5kUHJldmlvdXMoKX0scmVhZE9ubHk6ITB9LHtuYW1lOiJmaW5kIixiaW5kS2V5OnMoIkN0cmwtRiIsIkNvbW1hbmQtRiIpLGV4ZWM6ZnVuY3Rpb24oZSl7aS5sb2FkTW9kdWxlKCJhY2UvZXh0L3NlYXJjaGJveCIsZnVuY3Rpb24odCl7dC5TZWFyY2goZSl9KX0scmVhZE9ubHk6ITB9LHtuYW1lOiJvdmVyd3JpdGUiLGJpbmRLZXk6Ikluc2VydCIsZXhlYzpmdW5jdGlvbihlKXtlLnRvZ2dsZU92ZXJ3cml0ZSgpfSxyZWFkT25seTohMH0se25hbWU6InNlbGVjdHRvc3RhcnQiLGJpbmRLZXk6cygiQ3RybC1TaGlmdC1Ib21lIiwiQ29tbWFuZC1TaGlmdC1VcCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RGaWxlU3RhcnQoKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHJlYWRPbmx5OiEwLHNjcm9sbEludG9WaWV3OiJhbmltYXRlIixhY2VDb21tYW5kR3JvdXA6ImZpbGVKdW1wIn0se25hbWU6ImdvdG9zdGFydCIsYmluZEtleTpzKCJDdHJsLUhvbWUiLCJDb21tYW5kLUhvbWV8Q29tbWFuZC1VcCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5uYXZpZ2F0ZUZpbGVTdGFydCgpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaCIscmVhZE9ubHk6ITAsc2Nyb2xsSW50b1ZpZXc6ImFuaW1hdGUiLGFjZUNvbW1hbmRHcm91cDoiZmlsZUp1bXAifSx7bmFtZToic2VsZWN0dXAiLGJpbmRLZXk6cygiU2hpZnQtVXAiLCJTaGlmdC1VcCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RVcCgpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaCIscmVhZE9ubHk6ITB9LHtuYW1lOiJnb2xpbmV1cCIsYmluZEtleTpzKCJVcCIsIlVwfEN0cmwtUCIpLGV4ZWM6ZnVuY3Rpb24oZSx0KXtlLm5hdmlnYXRlVXAodC50aW1lcyl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixyZWFkT25seTohMH0se25hbWU6InNlbGVjdHRvZW5kIixiaW5kS2V5OnMoIkN0cmwtU2hpZnQtRW5kIiwiQ29tbWFuZC1TaGlmdC1Eb3duIiksZXhlYzpmdW5jdGlvbihlKXtlLmdldFNlbGVjdGlvbigpLnNlbGVjdEZpbGVFbmQoKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHJlYWRPbmx5OiEwLHNjcm9sbEludG9WaWV3OiJhbmltYXRlIixhY2VDb21tYW5kR3JvdXA6ImZpbGVKdW1wIn0se25hbWU6ImdvdG9lbmQiLGJpbmRLZXk6cygiQ3RybC1FbmQiLCJDb21tYW5kLUVuZHxDb21tYW5kLURvd24iKSxleGVjOmZ1bmN0aW9uKGUpe2UubmF2aWdhdGVGaWxlRW5kKCl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixyZWFkT25seTohMCxzY3JvbGxJbnRvVmlldzoiYW5pbWF0ZSIsYWNlQ29tbWFuZEdyb3VwOiJmaWxlSnVtcCJ9LHtuYW1lOiJzZWxlY3Rkb3duIixiaW5kS2V5OnMoIlNoaWZ0LURvd24iLCJTaGlmdC1Eb3duIiksZXhlYzpmdW5jdGlvbihlKXtlLmdldFNlbGVjdGlvbigpLnNlbGVjdERvd24oKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHNjcm9sbEludG9WaWV3OiJjdXJzb3IiLHJlYWRPbmx5OiEwfSx7bmFtZToiZ29saW5lZG93biIsYmluZEtleTpzKCJEb3duIiwiRG93bnxDdHJsLU4iKSxleGVjOmZ1bmN0aW9uKGUsdCl7ZS5uYXZpZ2F0ZURvd24odC50aW1lcyl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixzY3JvbGxJbnRvVmlldzoiY3Vyc29yIixyZWFkT25seTohMH0se25hbWU6InNlbGVjdHdvcmRsZWZ0IixiaW5kS2V5OnMoIkN0cmwtU2hpZnQtTGVmdCIsIk9wdGlvbi1TaGlmdC1MZWZ0IiksZXhlYzpmdW5jdGlvbihlKXtlLmdldFNlbGVjdGlvbigpLnNlbGVjdFdvcmRMZWZ0KCl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixzY3JvbGxJbnRvVmlldzoiY3Vyc29yIixyZWFkT25seTohMH0se25hbWU6ImdvdG93b3JkbGVmdCIsYmluZEtleTpzKCJDdHJsLUxlZnQiLCJPcHRpb24tTGVmdCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5uYXZpZ2F0ZVdvcmRMZWZ0KCl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixzY3JvbGxJbnRvVmlldzoiY3Vyc29yIixyZWFkT25seTohMH0se25hbWU6InNlbGVjdHRvbGluZXN0YXJ0IixiaW5kS2V5OnMoIkFsdC1TaGlmdC1MZWZ0IiwiQ29tbWFuZC1TaGlmdC1MZWZ0IiksZXhlYzpmdW5jdGlvbihlKXtlLmdldFNlbGVjdGlvbigpLnNlbGVjdExpbmVTdGFydCgpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaCIsc2Nyb2xsSW50b1ZpZXc6ImN1cnNvciIscmVhZE9ubHk6ITB9LHtuYW1lOiJnb3RvbGluZXN0YXJ0IixiaW5kS2V5OnMoIkFsdC1MZWZ0fEhvbWUiLCJDb21tYW5kLUxlZnR8SG9tZXxDdHJsLUEiKSxleGVjOmZ1bmN0aW9uKGUpe2UubmF2aWdhdGVMaW5lU3RhcnQoKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHNjcm9sbEludG9WaWV3OiJjdXJzb3IiLHJlYWRPbmx5OiEwfSx7bmFtZToic2VsZWN0bGVmdCIsYmluZEtleTpzKCJTaGlmdC1MZWZ0IiwiU2hpZnQtTGVmdCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RMZWZ0KCl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixzY3JvbGxJbnRvVmlldzoiY3Vyc29yIixyZWFkT25seTohMH0se25hbWU6ImdvdG9sZWZ0IixiaW5kS2V5OnMoIkxlZnQiLCJMZWZ0fEN0cmwtQiIpLGV4ZWM6ZnVuY3Rpb24oZSx0KXtlLm5hdmlnYXRlTGVmdCh0LnRpbWVzKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHNjcm9sbEludG9WaWV3OiJjdXJzb3IiLHJlYWRPbmx5OiEwfSx7bmFtZToic2VsZWN0d29yZHJpZ2h0IixiaW5kS2V5OnMoIkN0cmwtU2hpZnQtUmlnaHQiLCJPcHRpb24tU2hpZnQtUmlnaHQiKSxleGVjOmZ1bmN0aW9uKGUpe2UuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0V29yZFJpZ2h0KCl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixzY3JvbGxJbnRvVmlldzoiY3Vyc29yIixyZWFkT25seTohMH0se25hbWU6ImdvdG93b3JkcmlnaHQiLGJpbmRLZXk6cygiQ3RybC1SaWdodCIsIk9wdGlvbi1SaWdodCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5uYXZpZ2F0ZVdvcmRSaWdodCgpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaCIsc2Nyb2xsSW50b1ZpZXc6ImN1cnNvciIscmVhZE9ubHk6ITB9LHtuYW1lOiJzZWxlY3R0b2xpbmVlbmQiLGJpbmRLZXk6cygiQWx0LVNoaWZ0LVJpZ2h0IiwiQ29tbWFuZC1TaGlmdC1SaWdodCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RMaW5lRW5kKCl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixzY3JvbGxJbnRvVmlldzoiY3Vyc29yIixyZWFkT25seTohMH0se25hbWU6ImdvdG9saW5lZW5kIixiaW5kS2V5OnMoIkFsdC1SaWdodHxFbmQiLCJDb21tYW5kLVJpZ2h0fEVuZHxDdHJsLUUiKSxleGVjOmZ1bmN0aW9uKGUpe2UubmF2aWdhdGVMaW5lRW5kKCl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixzY3JvbGxJbnRvVmlldzoiY3Vyc29yIixyZWFkT25seTohMH0se25hbWU6InNlbGVjdHJpZ2h0IixiaW5kS2V5OnMoIlNoaWZ0LVJpZ2h0IiwiU2hpZnQtUmlnaHQiKSxleGVjOmZ1bmN0aW9uKGUpe2UuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmlnaHQoKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHNjcm9sbEludG9WaWV3OiJjdXJzb3IiLHJlYWRPbmx5OiEwfSx7bmFtZToiZ290b3JpZ2h0IixiaW5kS2V5OnMoIlJpZ2h0IiwiUmlnaHR8Q3RybC1GIiksZXhlYzpmdW5jdGlvbihlLHQpe2UubmF2aWdhdGVSaWdodCh0LnRpbWVzKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHNjcm9sbEludG9WaWV3OiJjdXJzb3IiLHJlYWRPbmx5OiEwfSx7bmFtZToic2VsZWN0cGFnZWRvd24iLGJpbmRLZXk6IlNoaWZ0LVBhZ2VEb3duIixleGVjOmZ1bmN0aW9uKGUpe2Uuc2VsZWN0UGFnZURvd24oKX0scmVhZE9ubHk6ITB9LHtuYW1lOiJwYWdlZG93biIsYmluZEtleTpzKG51bGwsIk9wdGlvbi1QYWdlRG93biIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zY3JvbGxQYWdlRG93bigpfSxyZWFkT25seTohMH0se25hbWU6ImdvdG9wYWdlZG93biIsYmluZEtleTpzKCJQYWdlRG93biIsIlBhZ2VEb3dufEN0cmwtViIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5nb3RvUGFnZURvd24oKX0scmVhZE9ubHk6ITB9LHtuYW1lOiJzZWxlY3RwYWdldXAiLGJpbmRLZXk6IlNoaWZ0LVBhZ2VVcCIsZXhlYzpmdW5jdGlvbihlKXtlLnNlbGVjdFBhZ2VVcCgpfSxyZWFkT25seTohMH0se25hbWU6InBhZ2V1cCIsYmluZEtleTpzKG51bGwsIk9wdGlvbi1QYWdlVXAiKSxleGVjOmZ1bmN0aW9uKGUpe2Uuc2Nyb2xsUGFnZVVwKCl9LHJlYWRPbmx5OiEwfSx7bmFtZToiZ290b3BhZ2V1cCIsYmluZEtleToiUGFnZVVwIixleGVjOmZ1bmN0aW9uKGUpe2UuZ290b1BhZ2VVcCgpfSxyZWFkT25seTohMH0se25hbWU6InNjcm9sbHVwIixiaW5kS2V5OnMoIkN0cmwtVXAiLG51bGwpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5yZW5kZXJlci5zY3JvbGxCeSgwLC0yKmUucmVuZGVyZXIubGF5ZXJDb25maWcubGluZUhlaWdodCl9LHJlYWRPbmx5OiEwfSx7bmFtZToic2Nyb2xsZG93biIsYmluZEtleTpzKCJDdHJsLURvd24iLG51bGwpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5yZW5kZXJlci5zY3JvbGxCeSgwLDIqZS5yZW5kZXJlci5sYXllckNvbmZpZy5saW5lSGVpZ2h0KX0scmVhZE9ubHk6ITB9LHtuYW1lOiJzZWxlY3RsaW5lc3RhcnQiLGJpbmRLZXk6IlNoaWZ0LUhvbWUiLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RMaW5lU3RhcnQoKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHNjcm9sbEludG9WaWV3OiJjdXJzb3IiLHJlYWRPbmx5OiEwfSx7bmFtZToic2VsZWN0bGluZWVuZCIsYmluZEtleToiU2hpZnQtRW5kIixleGVjOmZ1bmN0aW9uKGUpe2UuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0TGluZUVuZCgpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaCIsc2Nyb2xsSW50b1ZpZXc6ImN1cnNvciIscmVhZE9ubHk6ITB9LHtuYW1lOiJ0b2dnbGVyZWNvcmRpbmciLGJpbmRLZXk6cygiQ3RybC1BbHQtRSIsIkNvbW1hbmQtT3B0aW9uLUUiKSxleGVjOmZ1bmN0aW9uKGUpe2UuY29tbWFuZHMudG9nZ2xlUmVjb3JkaW5nKGUpfSxyZWFkT25seTohMH0se25hbWU6InJlcGxheW1hY3JvIixiaW5kS2V5OnMoIkN0cmwtU2hpZnQtRSIsIkNvbW1hbmQtU2hpZnQtRSIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5jb21tYW5kcy5yZXBsYXkoZSkKfSxyZWFkT25seTohMH0se25hbWU6Imp1bXB0b21hdGNoaW5nIixiaW5kS2V5OnMoIkN0cmwtUCIsIkN0cmwtU2hpZnQtUCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5qdW1wVG9NYXRjaGluZygpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaCIscmVhZE9ubHk6ITB9LHtuYW1lOiJzZWxlY3R0b21hdGNoaW5nIixiaW5kS2V5OnMoIkN0cmwtU2hpZnQtUCIsbnVsbCksZXhlYzpmdW5jdGlvbihlKXtlLmp1bXBUb01hdGNoaW5nKCEwKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHJlYWRPbmx5OiEwfSx7bmFtZToiY3V0IixleGVjOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtlLl9lbWl0KCJjdXQiLHQpLGUuc2VsZWN0aW9uLmlzRW1wdHkoKXx8KGUuc2Vzc2lvbi5yZW1vdmUodCksZS5jbGVhclNlbGVjdGlvbigpKX0sc2Nyb2xsSW50b1ZpZXc6ImN1cnNvciIsbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2gifSx7bmFtZToicmVtb3ZlbGluZSIsYmluZEtleTpzKCJDdHJsLUQiLCJDb21tYW5kLUQiKSxleGVjOmZ1bmN0aW9uKGUpe2UucmVtb3ZlTGluZXMoKX0sc2Nyb2xsSW50b1ZpZXc6ImN1cnNvciIsbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2hMaW5lIn0se25hbWU6ImR1cGxpY2F0ZVNlbGVjdGlvbiIsYmluZEtleTpzKCJDdHJsLVNoaWZ0LUQiLCJDb21tYW5kLVNoaWZ0LUQiKSxleGVjOmZ1bmN0aW9uKGUpe2UuZHVwbGljYXRlU2VsZWN0aW9uKCl9LHNjcm9sbEludG9WaWV3OiJjdXJzb3IiLG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIn0se25hbWU6InNvcnRsaW5lcyIsYmluZEtleTpzKCJDdHJsLUFsdC1TIiwiQ29tbWFuZC1BbHQtUyIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zb3J0TGluZXMoKX0sc2Nyb2xsSW50b1ZpZXc6InNlbGVjdGlvbiIsbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2hMaW5lIn0se25hbWU6InRvZ2dsZWNvbW1lbnQiLGJpbmRLZXk6cygiQ3RybC0vIiwiQ29tbWFuZC0vIiksZXhlYzpmdW5jdGlvbihlKXtlLnRvZ2dsZUNvbW1lbnRMaW5lcygpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaExpbmUiLHNjcm9sbEludG9WaWV3OiJzZWxlY3Rpb25QYXJ0In0se25hbWU6InRvZ2dsZUJsb2NrQ29tbWVudCIsYmluZEtleTpzKCJDdHJsLVNoaWZ0LS8iLCJDb21tYW5kLVNoaWZ0LS8iKSxleGVjOmZ1bmN0aW9uKGUpe2UudG9nZ2xlQmxvY2tDb21tZW50KCl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixzY3JvbGxJbnRvVmlldzoic2VsZWN0aW9uUGFydCJ9LHtuYW1lOiJtb2RpZnlOdW1iZXJVcCIsYmluZEtleTpzKCJDdHJsLVNoaWZ0LVVwIiwiQWx0LVNoaWZ0LVVwIiksZXhlYzpmdW5jdGlvbihlKXtlLm1vZGlmeU51bWJlcigxKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2gifSx7bmFtZToibW9kaWZ5TnVtYmVyRG93biIsYmluZEtleTpzKCJDdHJsLVNoaWZ0LURvd24iLCJBbHQtU2hpZnQtRG93biIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5tb2RpZnlOdW1iZXIoLTEpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaCJ9LHtuYW1lOiJyZXBsYWNlIixiaW5kS2V5OnMoIkN0cmwtSCIsIkNvbW1hbmQtT3B0aW9uLUYiKSxleGVjOmZ1bmN0aW9uKGUpe2kubG9hZE1vZHVsZSgiYWNlL2V4dC9zZWFyY2hib3giLGZ1bmN0aW9uKHQpe3QuU2VhcmNoKGUsITApfSl9fSx7bmFtZToidW5kbyIsYmluZEtleTpzKCJDdHJsLVoiLCJDb21tYW5kLVoiKSxleGVjOmZ1bmN0aW9uKGUpe2UudW5kbygpfX0se25hbWU6InJlZG8iLGJpbmRLZXk6cygiQ3RybC1TaGlmdC1afEN0cmwtWSIsIkNvbW1hbmQtU2hpZnQtWnxDb21tYW5kLVkiKSxleGVjOmZ1bmN0aW9uKGUpe2UucmVkbygpfX0se25hbWU6ImNvcHlsaW5lc3VwIixiaW5kS2V5OnMoIkFsdC1TaGlmdC1VcCIsIkNvbW1hbmQtT3B0aW9uLVVwIiksZXhlYzpmdW5jdGlvbihlKXtlLmNvcHlMaW5lc1VwKCl9LHNjcm9sbEludG9WaWV3OiJjdXJzb3IifSx7bmFtZToibW92ZWxpbmVzdXAiLGJpbmRLZXk6cygiQWx0LVVwIiwiT3B0aW9uLVVwIiksZXhlYzpmdW5jdGlvbihlKXtlLm1vdmVMaW5lc1VwKCl9LHNjcm9sbEludG9WaWV3OiJjdXJzb3IifSx7bmFtZToiY29weWxpbmVzZG93biIsYmluZEtleTpzKCJBbHQtU2hpZnQtRG93biIsIkNvbW1hbmQtT3B0aW9uLURvd24iKSxleGVjOmZ1bmN0aW9uKGUpe2UuY29weUxpbmVzRG93bigpfSxzY3JvbGxJbnRvVmlldzoiY3Vyc29yIn0se25hbWU6Im1vdmVsaW5lc2Rvd24iLGJpbmRLZXk6cygiQWx0LURvd24iLCJPcHRpb24tRG93biIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5tb3ZlTGluZXNEb3duKCl9LHNjcm9sbEludG9WaWV3OiJjdXJzb3IifSx7bmFtZToiZGVsIixiaW5kS2V5OnMoIkRlbGV0ZSIsIkRlbGV0ZXxDdHJsLUR8U2hpZnQtRGVsZXRlIiksZXhlYzpmdW5jdGlvbihlKXtlLnJlbW92ZSgicmlnaHQiKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHNjcm9sbEludG9WaWV3OiJjdXJzb3IifSx7bmFtZToiYmFja3NwYWNlIixiaW5kS2V5OnMoIlNoaWZ0LUJhY2tzcGFjZXxCYWNrc3BhY2UiLCJDdHJsLUJhY2tzcGFjZXxTaGlmdC1CYWNrc3BhY2V8QmFja3NwYWNlfEN0cmwtSCIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5yZW1vdmUoImxlZnQiKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHNjcm9sbEludG9WaWV3OiJjdXJzb3IifSx7bmFtZToiY3V0X29yX2RlbGV0ZSIsYmluZEtleTpzKCJTaGlmdC1EZWxldGUiLG51bGwpLGV4ZWM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2VsZWN0aW9uLmlzRW1wdHkoKT92b2lkIGUucmVtb3ZlKCJsZWZ0Iik6ITF9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixzY3JvbGxJbnRvVmlldzoiY3Vyc29yIn0se25hbWU6InJlbW92ZXRvbGluZXN0YXJ0IixiaW5kS2V5OnMoIkFsdC1CYWNrc3BhY2UiLCJDb21tYW5kLUJhY2tzcGFjZSIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5yZW1vdmVUb0xpbmVTdGFydCgpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaCIsc2Nyb2xsSW50b1ZpZXc6ImN1cnNvciJ9LHtuYW1lOiJyZW1vdmV0b2xpbmVlbmQiLGJpbmRLZXk6cygiQWx0LURlbGV0ZSIsIkN0cmwtSyIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5yZW1vdmVUb0xpbmVFbmQoKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHNjcm9sbEludG9WaWV3OiJjdXJzb3IifSx7bmFtZToicmVtb3Zld29yZGxlZnQiLGJpbmRLZXk6cygiQ3RybC1CYWNrc3BhY2UiLCJBbHQtQmFja3NwYWNlfEN0cmwtQWx0LUJhY2tzcGFjZSIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5yZW1vdmVXb3JkTGVmdCgpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaCIsc2Nyb2xsSW50b1ZpZXc6ImN1cnNvciJ9LHtuYW1lOiJyZW1vdmV3b3JkcmlnaHQiLGJpbmRLZXk6cygiQ3RybC1EZWxldGUiLCJBbHQtRGVsZXRlIiksZXhlYzpmdW5jdGlvbihlKXtlLnJlbW92ZVdvcmRSaWdodCgpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaCIsc2Nyb2xsSW50b1ZpZXc6ImN1cnNvciJ9LHtuYW1lOiJvdXRkZW50IixiaW5kS2V5OnMoIlNoaWZ0LVRhYiIsIlNoaWZ0LVRhYiIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5ibG9ja091dGRlbnQoKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHNjcm9sbEludG9WaWV3OiJzZWxlY3Rpb25QYXJ0In0se25hbWU6ImluZGVudCIsYmluZEtleTpzKCJUYWIiLCJUYWIiKSxleGVjOmZ1bmN0aW9uKGUpe2UuaW5kZW50KCl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixzY3JvbGxJbnRvVmlldzoic2VsZWN0aW9uUGFydCJ9LHtuYW1lOiJibG9ja291dGRlbnQiLGJpbmRLZXk6cygiQ3RybC1bIiwiQ3RybC1bIiksZXhlYzpmdW5jdGlvbihlKXtlLmJsb2NrT3V0ZGVudCgpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaExpbmUiLHNjcm9sbEludG9WaWV3OiJzZWxlY3Rpb25QYXJ0In0se25hbWU6ImJsb2NraW5kZW50IixiaW5kS2V5OnMoIkN0cmwtXSIsIkN0cmwtXSIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5ibG9ja0luZGVudCgpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaExpbmUiLHNjcm9sbEludG9WaWV3OiJzZWxlY3Rpb25QYXJ0In0se25hbWU6Imluc2VydHN0cmluZyIsZXhlYzpmdW5jdGlvbihlLHQpe2UuaW5zZXJ0KHQpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaCIsc2Nyb2xsSW50b1ZpZXc6ImN1cnNvciJ9LHtuYW1lOiJpbnNlcnR0ZXh0IixleGVjOmZ1bmN0aW9uKGUsdCl7ZS5pbnNlcnQoci5zdHJpbmdSZXBlYXQodC50ZXh0fHwiIix0LnRpbWVzfHwxKSl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixzY3JvbGxJbnRvVmlldzoiY3Vyc29yIn0se25hbWU6InNwbGl0bGluZSIsYmluZEtleTpzKG51bGwsIkN0cmwtTyIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zcGxpdExpbmUoKX0sbXVsdGlTZWxlY3RBY3Rpb246ImZvckVhY2giLHNjcm9sbEludG9WaWV3OiJjdXJzb3IifSx7bmFtZToidHJhbnNwb3NlbGV0dGVycyIsYmluZEtleTpzKCJDdHJsLVQiLCJDdHJsLVQiKSxleGVjOmZ1bmN0aW9uKGUpe2UudHJhbnNwb3NlTGV0dGVycygpfSxtdWx0aVNlbGVjdEFjdGlvbjpmdW5jdGlvbihlKXtlLnRyYW5zcG9zZVNlbGVjdGlvbnMoMSl9LHNjcm9sbEludG9WaWV3OiJjdXJzb3IifSx7bmFtZToidG91cHBlcmNhc2UiLGJpbmRLZXk6cygiQ3RybC1VIiwiQ3RybC1VIiksZXhlYzpmdW5jdGlvbihlKXtlLnRvVXBwZXJDYXNlKCl9LG11bHRpU2VsZWN0QWN0aW9uOiJmb3JFYWNoIixzY3JvbGxJbnRvVmlldzoiY3Vyc29yIn0se25hbWU6InRvbG93ZXJjYXNlIixiaW5kS2V5OnMoIkN0cmwtU2hpZnQtVSIsIkN0cmwtU2hpZnQtVSIpLGV4ZWM6ZnVuY3Rpb24oZSl7ZS50b0xvd2VyQ2FzZSgpfSxtdWx0aVNlbGVjdEFjdGlvbjoiZm9yRWFjaCIsc2Nyb2xsSW50b1ZpZXc6ImN1cnNvciJ9XX0pLGRlZmluZSgiYWNlL2xpYi9ldmVudF9lbWl0dGVyIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oZSx0KXt2YXIgcj17fSxpPWZ1bmN0aW9uKCl7dGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ9ITB9LHM9ZnVuY3Rpb24oKXt0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITB9O3IuX2VtaXQ9ci5fZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihlLHQpe3RoaXMuX2V2ZW50UmVnaXN0cnl8fCh0aGlzLl9ldmVudFJlZ2lzdHJ5PXt9KSx0aGlzLl9kZWZhdWx0SGFuZGxlcnN8fCh0aGlzLl9kZWZhdWx0SGFuZGxlcnM9e30pO3ZhciBuPXRoaXMuX2V2ZW50UmVnaXN0cnlbZV18fFtdLHI9dGhpcy5fZGVmYXVsdEhhbmRsZXJzW2VdO2lmKG4ubGVuZ3RofHxyKXsib2JqZWN0Ij09dHlwZW9mIHQmJnR8fCh0PXt9KSx0LnR5cGV8fCh0LnR5cGU9ZSksdC5zdG9wUHJvcGFnYXRpb258fCh0LnN0b3BQcm9wYWdhdGlvbj1pKSx0LnByZXZlbnREZWZhdWx0fHwodC5wcmV2ZW50RGVmYXVsdD1zKSxuPW4uc2xpY2UoKTtmb3IodmFyIG89MDtvPG4ubGVuZ3RoJiYobltvXSh0LHRoaXMpLCF0LnByb3BhZ2F0aW9uU3RvcHBlZCk7bysrKTtyZXR1cm4gciYmIXQuZGVmYXVsdFByZXZlbnRlZD9yKHQsdGhpcyk6dm9pZCAwfX0sci5fc2lnbmFsPWZ1bmN0aW9uKGUsdCl7dmFyIG49KHRoaXMuX2V2ZW50UmVnaXN0cnl8fHt9KVtlXTtpZihuKXtuPW4uc2xpY2UoKTtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyluW3JdKHQsdGhpcyl9fSxyLm9uY2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3QmJnRoaXMuYWRkRXZlbnRMaXN0ZW5lcihlLGZ1bmN0aW9uIHIoKXtuLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxyKSx0LmFwcGx5KG51bGwsYXJndW1lbnRzKX0pfSxyLnNldERlZmF1bHRIYW5kbGVyPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5fZGVmYXVsdEhhbmRsZXJzO2lmKG58fChuPXRoaXMuX2RlZmF1bHRIYW5kbGVycz17X2Rpc2FibGVkXzp7fX0pLG5bZV0pe3ZhciByPW5bZV0saT1uLl9kaXNhYmxlZF9bZV07aXx8KG4uX2Rpc2FibGVkX1tlXT1pPVtdKSxpLnB1c2gocik7dmFyIHM9aS5pbmRleE9mKHQpOy0xIT1zJiZpLnNwbGljZShzLDEpfW5bZV09dH0sci5yZW1vdmVEZWZhdWx0SGFuZGxlcj1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX2RlZmF1bHRIYW5kbGVycztpZihuKXt2YXIgcj1uLl9kaXNhYmxlZF9bZV07aWYobltlXT09dCl7e25bZV19ciYmdGhpcy5zZXREZWZhdWx0SGFuZGxlcihlLHIucG9wKCkpfWVsc2UgaWYocil7dmFyIHM9ci5pbmRleE9mKHQpOy0xIT1zJiZyLnNwbGljZShzLDEpfX19LHIub249ci5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLl9ldmVudFJlZ2lzdHJ5PXRoaXMuX2V2ZW50UmVnaXN0cnl8fHt9O3ZhciByPXRoaXMuX2V2ZW50UmVnaXN0cnlbZV07cmV0dXJuIHJ8fChyPXRoaXMuX2V2ZW50UmVnaXN0cnlbZV09W10pLC0xPT1yLmluZGV4T2YodCkmJnJbbj8idW5zaGlmdCI6InB1c2giXSh0KSx0fSxyLm9mZj1yLnJlbW92ZUxpc3RlbmVyPXIucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3RoaXMuX2V2ZW50UmVnaXN0cnk9dGhpcy5fZXZlbnRSZWdpc3RyeXx8e307dmFyIG49dGhpcy5fZXZlbnRSZWdpc3RyeVtlXTtpZihuKXt2YXIgcj1uLmluZGV4T2YodCk7LTEhPT1yJiZuLnNwbGljZShyLDEpfX0sci5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7dGhpcy5fZXZlbnRSZWdpc3RyeSYmKHRoaXMuX2V2ZW50UmVnaXN0cnlbZV09W10pfSx0LkV2ZW50RW1pdHRlcj1yfSksZGVmaW5lKCJhY2UvdW5kb21hbmFnZXIiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiXSxmdW5jdGlvbihlLHQpe3ZhciByPWZ1bmN0aW9uKCl7dGhpcy5yZXNldCgpfTsoZnVuY3Rpb24oKXt0aGlzLmV4ZWN1dGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hcmdzWzBdO3RoaXMuJGRvYz1lLmFyZ3NbMV0sZS5tZXJnZSYmdGhpcy5oYXNVbmRvKCkmJih0aGlzLmRpcnR5Q291bnRlci0tLHQ9dGhpcy4kdW5kb1N0YWNrLnBvcCgpLmNvbmNhdCh0KSksdGhpcy4kdW5kb1N0YWNrLnB1c2godCksdGhpcy4kcmVkb1N0YWNrPVtdLHRoaXMuZGlydHlDb3VudGVyPDAmJih0aGlzLmRpcnR5Q291bnRlcj0wLzApLHRoaXMuZGlydHlDb3VudGVyKyt9LHRoaXMudW5kbz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLiR1bmRvU3RhY2sucG9wKCksbj1udWxsO3JldHVybiB0JiYobj10aGlzLiRkb2MudW5kb0NoYW5nZXModCxlKSx0aGlzLiRyZWRvU3RhY2sucHVzaCh0KSx0aGlzLmRpcnR5Q291bnRlci0tKSxufSx0aGlzLnJlZG89ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy4kcmVkb1N0YWNrLnBvcCgpLG49bnVsbDtyZXR1cm4gdCYmKG49dGhpcy4kZG9jLnJlZG9DaGFuZ2VzKHQsZSksdGhpcy4kdW5kb1N0YWNrLnB1c2godCksdGhpcy5kaXJ0eUNvdW50ZXIrKyksbn0sdGhpcy5yZXNldD1mdW5jdGlvbigpe3RoaXMuJHVuZG9TdGFjaz1bXSx0aGlzLiRyZWRvU3RhY2s9W10sdGhpcy5kaXJ0eUNvdW50ZXI9MH0sdGhpcy5oYXNVbmRvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHVuZG9TdGFjay5sZW5ndGg+MH0sdGhpcy5oYXNSZWRvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHJlZG9TdGFjay5sZW5ndGg+MH0sdGhpcy5tYXJrQ2xlYW49ZnVuY3Rpb24oKXt0aGlzLmRpcnR5Q291bnRlcj0wfSx0aGlzLmlzQ2xlYW49ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuZGlydHlDb3VudGVyfX0pLmNhbGwoci5wcm90b3R5cGUpLHQuVW5kb01hbmFnZXI9cn0pLGRlZmluZSgiYWNlL2xpYi9uZXQiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL2RvbSJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSgiLi9kb20iKTt0LmdldD1mdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBYTUxIdHRwUmVxdWVzdDtuLm9wZW4oIkdFVCIsZSwhMCksbi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09bi5yZWFkeVN0YXRlJiZ0KG4ucmVzcG9uc2VUZXh0KX0sbi5zZW5kKG51bGwpfSx0LmxvYWRTY3JpcHQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj1yLmdldERvY3VtZW50SGVhZCgpLGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7aS5zcmM9ZSxuLmFwcGVuZENoaWxkKGkpLGkub25sb2FkPWkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKGUsbil7KG58fCFpLnJlYWR5U3RhdGV8fCJsb2FkZWQiPT1pLnJlYWR5U3RhdGV8fCJjb21wbGV0ZSI9PWkucmVhZHlTdGF0ZSkmJihpPWkub25sb2FkPWkub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsbnx8dCgpKX19fSksZGVmaW5lKCJhY2UvdmlydHVhbF9yZW5kZXJlciIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL2xpYi9kb20iLCJhY2UvY29uZmlnIiwiYWNlL2xheWVyL2d1dHRlciIsImFjZS9sYXllci9tYXJrZXIiLCJhY2UvbGF5ZXIvdGV4dCIsImFjZS9sYXllci9jdXJzb3IiLCJhY2Uvc2Nyb2xsYmFyIiwiYWNlL3JlbmRlcmxvb3AiLCJhY2UvbGF5ZXIvZm9udF9tZXRyaWNzIiwiYWNlL2xpYi9ldmVudF9lbWl0dGVyIl0sZnVuY3Rpb24oZSx0KXt2YXIgcj1lKCIuL2xpYi9vb3AiKSxpPWUoIi4vbGliL2RvbSIpLHM9ZSgiLi9jb25maWciKSxvPWUoIi4vbGF5ZXIvZ3V0dGVyIikuR3V0dGVyLHU9ZSgiLi9sYXllci9tYXJrZXIiKS5NYXJrZXIsYT1lKCIuL2xheWVyL3RleHQiKS5UZXh0LGY9ZSgiLi9sYXllci9jdXJzb3IiKS5DdXJzb3IsbD1lKCIuL3Njcm9sbGJhciIpLkhTY3JvbGxCYXIsYz1lKCIuL3Njcm9sbGJhciIpLlZTY3JvbGxCYXIsaD1lKCIuL3JlbmRlcmxvb3AiKS5SZW5kZXJMb29wLHA9ZSgiLi9sYXllci9mb250X21ldHJpY3MiKS5Gb250TWV0cmljcyxkPWUoIi4vbGliL2V2ZW50X2VtaXR0ZXIiKS5FdmVudEVtaXR0ZXIsdj0nLmFjZV9lZGl0b3Ige3Bvc2l0aW9uOiByZWxhdGl2ZTtvdmVyZmxvdzogaGlkZGVuO2ZvbnQtZmFtaWx5OiBcJ01vbmFjb1wnLCBcJ01lbmxvXCcsIFwnVWJ1bnR1IE1vbm9cJywgXCdDb25zb2xhc1wnLCBcJ3NvdXJjZS1jb2RlLXByb1wnLCBtb25vc3BhY2U7Zm9udC1zaXplOiAxMnB4O2xpbmUtaGVpZ2h0OiBub3JtYWw7ZGlyZWN0aW9uOiBsdHI7fS5hY2Vfc2Nyb2xsZXIge3Bvc2l0aW9uOiBhYnNvbHV0ZTtvdmVyZmxvdzogaGlkZGVuO3RvcDogMDtib3R0b206IDA7YmFja2dyb3VuZC1jb2xvcjogaW5oZXJpdDstbXMtdXNlci1zZWxlY3Q6IG5vbmU7LW1vei11c2VyLXNlbGVjdDogbm9uZTstd2Via2l0LXVzZXItc2VsZWN0OiBub25lO3VzZXItc2VsZWN0OiBub25lO30uYWNlX2NvbnRlbnQge3Bvc2l0aW9uOiBhYnNvbHV0ZTstbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7LXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O2JveC1zaXppbmc6IGJvcmRlci1ib3g7Y3Vyc29yOiB0ZXh0O21pbi13aWR0aDogMTAwJTt9LmFjZV9kcmFnZ2luZywgLmFjZV9kcmFnZ2luZyAqIHtjdXJzb3I6IG1vdmUgIWltcG9ydGFudDt9LmFjZV9kcmFnZ2luZyAuYWNlX3Njcm9sbGVyOmJlZm9yZXtwb3NpdGlvbjogYWJzb2x1dGU7dG9wOiAwO2xlZnQ6IDA7cmlnaHQ6IDA7Ym90dG9tOiAwO2NvbnRlbnQ6IFwnXCc7YmFja2dyb3VuZDogcmdiYSgyNTAsIDI1MCwgMjUwLCAwLjAxKTt6LWluZGV4OiAxMDAwO30uYWNlX2RyYWdnaW5nLmFjZV9kYXJrIC5hY2Vfc2Nyb2xsZXI6YmVmb3Jle2JhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4wMSk7fS5hY2Vfc2VsZWN0aW5nLCAuYWNlX3NlbGVjdGluZyAqIHtjdXJzb3I6IHRleHQgIWltcG9ydGFudDt9LmFjZV9ndXR0ZXIge3Bvc2l0aW9uOiBhYnNvbHV0ZTtvdmVyZmxvdyA6IGhpZGRlbjt3aWR0aDogYXV0bzt0b3A6IDA7Ym90dG9tOiAwO2xlZnQ6IDA7Y3Vyc29yOiBkZWZhdWx0O3otaW5kZXg6IDQ7LW1zLXVzZXItc2VsZWN0OiBub25lOy1tb3otdXNlci1zZWxlY3Q6IG5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTt1c2VyLXNlbGVjdDogbm9uZTt9LmFjZV9ndXR0ZXItYWN0aXZlLWxpbmUge3Bvc2l0aW9uOiBhYnNvbHV0ZTtsZWZ0OiAwO3JpZ2h0OiAwO30uYWNlX3Njcm9sbGVyLmFjZV9zY3JvbGwtbGVmdCB7Ym94LXNoYWRvdzogMTdweCAwIDE2cHggLTE2cHggcmdiYSgwLCAwLCAwLCAwLjQpIGluc2V0O30uYWNlX2d1dHRlci1jZWxsIHtwYWRkaW5nLWxlZnQ6IDE5cHg7cGFkZGluZy1yaWdodDogNnB4O2JhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7fS5hY2VfZ3V0dGVyLWNlbGwuYWNlX2Vycm9yIHtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBTUFBQUFvTFE5VEFBQUJPRkJNVkVYLy8vLy8vLy8vUVJzd0ZBYi9VaTR3RkFZd0ZBWXdGQWFXR0FmRFJ5bXpPU0gvUHhzd0ZBYi9TaVV3RkFZd0ZBYlVQUnZqUWlEbGxvZzVIaEhkUnlic1RpMy9UeXY5VGlyK1N5ai9VQzMvLy8vWHVyZWJNQkl3RkFiL1JTSGJQeC9nVXpmZHdMM2t6TWl2S0JBd0ZBYmJ2Ym5oUHg2Nk5ob3dGQVl3RkFhWkpnOHdGQWF4S0JEWnVyZi9SQjZtTXhiL1NDTXdGQVl3RkFieFFCMytSQjR3RkFiL1FoeTRPaCs0UWlmYk5SY3dGQVl3RkFZd0ZBYi9RUnpkTmhnd0ZBWXdGQWJhdjd2L1V5N29hRTY4TUJLNUx4TGV3ci9yMk5YZXdMc3dGQWF4Snc0d0ZBYmtQUnkyUHlZd0ZBYXhLaExtMXRNd0ZBYXpQaVF3RkFhVUdBYi9RQnJmT3gzYnZydi9WQy9tYUU0d0ZBYlJQQnE2TVJPOFF5bmV3OERwMnRqZndiMHdGQWJ4NmVqdTUrYnk2dW5zNHVIOS9mMzYrdnIvR2tIakFBQUFZblJTVGxNQUd0KzY0cm5XdS9ibzhlQUE0SW5IMytEd29ON2o0ZUxpNHhQOTlOZmc0K2IrL3U5Qi9lRHMxTUQxbU83KzRQSGcyTVhhMzQ3Zzd2RGl6TUxONGVHK1B2N2k1ZXZzL3Y3OXl1N1MzL0RWNy80OThZdjI0ZUgrNHVmUTNPenUvdjcreTEzc1Jxd0FBQURMU1VSQlZIamFaYy9YRHNGZ0dJQmh0RHJzaGxpdG1rMklyYkhGcUwycHZYZi8rNzhEUG9rajcrRno5cXBVLzlVWEpJbGhtUGFUYVE2UVBhejBtbSs1Z3drZ292Y1Y2R1p6ZDVKdENRd2dzeG9IT3ZKTzE1a2xlUkxBbk1nSEZJRVNVRVBtYXdCOW5nbWVsVHRpcHd3ZkFTaWx4T0x5aVY1VVZVeVZBZmJHMGNDUEhpZytHQmt6QUVOSFMwQXN0VkY2YmFjWklPemdMbXhzSGJ0Mk9lY05nSkM4M0pFUm1lUFVZcThBUkdrSng2WHRGc2RkZEJRZ1pFMm5QUjZDSUNaaGF3akE0RmIvY2h2KzM5OWtmUitNTU1ER09RQUFBQUJKUlU1RXJrSmdnZz09Iik7YmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOiAycHggY2VudGVyO30uYWNlX2d1dHRlci1jZWxsLmFjZV93YXJuaW5nIHtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBTUFBQUFvTFE5VEFBQUFtVkJNVkVYLy8vOEFBQUQvLy84QUFBQUFBQUJQU3piLzVzQUFBQUIvYmxILzczei91bGtBQUFBQUFBRDg1cGtBQUFBQUFBQUNBZ1Avdkd6L3JrRGVyR2JHclY3L3BrUUlDQWYvLy8vZTBJc0FBQUQvb0VEL3FUdmhyblVBQUFEL3lIRC9uamNBQUFEdXYyci9uei8vb1RqL3AwNjRvR2YvekhBQUFBQTlOaXIvdEZJQUFBRC90bFRpdVdmL3RrSUFBQUN5blhFQUFBQUFBQUF0SVJXN3pCcEJBQUFBTTNSU1RsTUFBQlIxbTdSWE84TG4zMVozNnpUK25lWGU1T3pvb1JEZm4rVFo0cDNoMmhUZjR0M2szdWN5ck4xSzUrWGFrczUyU2ZzOUNYZ3JBQUFBamtsRVFWUjQybzNQYlErQ0lCUUZZRXdib1BoU1lnb1l1bklxcUxuNi96OHVZZEg4Vm1kbnU5dno0V3dYZ04veFRQUkQyK3NnT2NaanNnZS93aFhaZ1VhWVl2VDhRbnVKYVVyanJIVVFyZUdjenVFYWZRQ08vU0pUdWZUYnJvV3NQZ3NsbFZocTN3SkVrMmpVU3pYM0NVRURKQzg0NzA3ZGpSYzVNVEFReG9MZ3VwV1J3VzZVQjVmUysrTlY4QWJPWmduc0M3QnBFQUFBQUFCSlJVNUVya0pnZ2c9PSIpO2JhY2tncm91bmQtcG9zaXRpb246IDJweCBjZW50ZXI7fS5hY2VfZ3V0dGVyLWNlbGwuYWNlX2luZm8ge2JhY2tncm91bmQtaW1hZ2U6IHVybCgiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQ0FBQUFBQTZtS0M5QUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUFBSjBVazVUQUFCMms4MDRBQUFBUGtsRVFWUVkwMk5nSUI2OFF1TzN0aUx6bmpBd3BLVGdOeURiTWVnd2lzQ0haVUVUVVpWMFpxT3F1QnBYajJydG5wU0pUMUFFbm5SbUwyT2dHZ0FBSUtrUlFhcDJodGdBQUFBQVNVVk9SSzVDWUlJPSIpO2JhY2tncm91bmQtcG9zaXRpb246IDJweCBjZW50ZXI7fS5hY2VfZGFyayAuYWNlX2d1dHRlci1jZWxsLmFjZV9pbmZvIHtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUJBTUFBQUR0M2VKU0FBQUFKRkJNVkVVQUFBQ2hvYUdBZ0lBcUtpcSt2cjZ0cmExWldWbVVsSlNibTVzOFBEeHVibTU2ZW5yZGd6ZzNBQUFBQVhSU1RsTUFRT2JZWmdBQUFDbEpSRUZVZU5wallNQVBkc01ZSGVneUpaRlFCbHNVbE1GVkNXVVlLa0FaTXhaQUdkeGxETVFCQUcrVEJQNEI2UnlKQUFBQUFFbEZUa1N1UW1DQyIpO30uYWNlX3Njcm9sbGJhciB7cG9zaXRpb246IGFic29sdXRlO3JpZ2h0OiAwO2JvdHRvbTogMDt6LWluZGV4OiA2O30uYWNlX3Njcm9sbGJhci1pbm5lciB7cG9zaXRpb246IGFic29sdXRlO2N1cnNvcjogdGV4dDtsZWZ0OiAwO3RvcDogMDt9LmFjZV9zY3JvbGxiYXItdntvdmVyZmxvdy14OiBoaWRkZW47b3ZlcmZsb3cteTogc2Nyb2xsO3RvcDogMDt9LmFjZV9zY3JvbGxiYXItaCB7b3ZlcmZsb3cteDogc2Nyb2xsO292ZXJmbG93LXk6IGhpZGRlbjtsZWZ0OiAwO30uYWNlX3ByaW50LW1hcmdpbiB7cG9zaXRpb246IGFic29sdXRlO2hlaWdodDogMTAwJTt9LmFjZV90ZXh0LWlucHV0IHtwb3NpdGlvbjogYWJzb2x1dGU7ei1pbmRleDogMDt3aWR0aDogMC41ZW07aGVpZ2h0OiAxZW07b3BhY2l0eTogMDtiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDstbW96LWFwcGVhcmFuY2U6IG5vbmU7YXBwZWFyYW5jZTogbm9uZTtib3JkZXI6IG5vbmU7cmVzaXplOiBub25lO291dGxpbmU6IG5vbmU7b3ZlcmZsb3c6IGhpZGRlbjtmb250OiBpbmhlcml0O3BhZGRpbmc6IDAgMXB4O21hcmdpbjogMCAtMXB4O3RleHQtaW5kZW50OiAtMWVtOy1tcy11c2VyLXNlbGVjdDogdGV4dDstbW96LXVzZXItc2VsZWN0OiB0ZXh0Oy13ZWJraXQtdXNlci1zZWxlY3Q6IHRleHQ7dXNlci1zZWxlY3Q6IHRleHQ7fS5hY2VfdGV4dC1pbnB1dC5hY2VfY29tcG9zaXRpb24ge2JhY2tncm91bmQ6ICNmOGY4Zjg7Y29sb3I6ICMxMTE7ei1pbmRleDogMTAwMDtvcGFjaXR5OiAxO3RleHQtaW5kZW50OiAwO30uYWNlX2xheWVyIHt6LWluZGV4OiAxO3Bvc2l0aW9uOiBhYnNvbHV0ZTtvdmVyZmxvdzogaGlkZGVuO3doaXRlLXNwYWNlOiBwcmU7aGVpZ2h0OiAxMDAlO3dpZHRoOiAxMDAlOy1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDstd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7Ym94LXNpemluZzogYm9yZGVyLWJveDsvKiBzZXR0aW5nIHBvaW50ZXItZXZlbnRzOiBhdXRvOyBvbiBub2RlIHVuZGVyIHRoZSBtb3VzZSwgd2hpY2ggY2hhbmdlc2R1cmluZyBzY3JvbGwsIHdpbGwgYnJlYWsgbW91c2Ugd2hlZWwgc2Nyb2xsaW5nIGluIFNhZmFyaSAqL3BvaW50ZXItZXZlbnRzOiBub25lO30uYWNlX2d1dHRlci1sYXllciB7cG9zaXRpb246IHJlbGF0aXZlO3dpZHRoOiBhdXRvO3RleHQtYWxpZ246IHJpZ2h0O3BvaW50ZXItZXZlbnRzOiBhdXRvO30uYWNlX3RleHQtbGF5ZXIge2ZvbnQ6IGluaGVyaXQgIWltcG9ydGFudDt9LmFjZV9jamsge2Rpc3BsYXk6IGlubGluZS1ibG9jazt0ZXh0LWFsaWduOiBjZW50ZXI7fS5hY2VfY3Vyc29yLWxheWVyIHt6LWluZGV4OiA0O30uYWNlX2N1cnNvciB7ei1pbmRleDogNDtwb3NpdGlvbjogYWJzb2x1dGU7LW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94Oy13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtib3gtc2l6aW5nOiBib3JkZXItYm94O2JvcmRlci1sZWZ0OiAycHggc29saWR9LmFjZV9zbGltLWN1cnNvcnMgLmFjZV9jdXJzb3Ige2JvcmRlci1sZWZ0LXdpZHRoOiAxcHg7fS5hY2Vfb3ZlcndyaXRlLWN1cnNvcnMgLmFjZV9jdXJzb3Ige2JvcmRlci1sZWZ0LXdpZHRoOiAwcHg7Ym9yZGVyLWJvdHRvbTogMXB4IHNvbGlkO30uYWNlX2hpZGRlbi1jdXJzb3JzIC5hY2VfY3Vyc29yIHtvcGFjaXR5OiAwLjI7fS5hY2Vfc21vb3RoLWJsaW5raW5nIC5hY2VfY3Vyc29yIHstbW96LXRyYW5zaXRpb246IG9wYWNpdHkgMC4xOHM7LXdlYmtpdC10cmFuc2l0aW9uOiBvcGFjaXR5IDAuMThzOy1vLXRyYW5zaXRpb246IG9wYWNpdHkgMC4xOHM7LW1zLXRyYW5zaXRpb246IG9wYWNpdHkgMC4xOHM7dHJhbnNpdGlvbjogb3BhY2l0eSAwLjE4czt9LmFjZV9lZGl0b3IuYWNlX211bHRpc2VsZWN0IC5hY2VfY3Vyc29yIHtib3JkZXItbGVmdC13aWR0aDogMXB4O30uYWNlX21hcmtlci1sYXllciAuYWNlX3N0ZXAsIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc3RhY2sge3Bvc2l0aW9uOiBhYnNvbHV0ZTt6LWluZGV4OiAzO30uYWNlX21hcmtlci1sYXllciAuYWNlX3NlbGVjdGlvbiB7cG9zaXRpb246IGFic29sdXRlO3otaW5kZXg6IDU7fS5hY2VfbWFya2VyLWxheWVyIC5hY2VfYnJhY2tldCB7cG9zaXRpb246IGFic29sdXRlO3otaW5kZXg6IDY7fS5hY2VfbWFya2VyLWxheWVyIC5hY2VfYWN0aXZlLWxpbmUge3Bvc2l0aW9uOiBhYnNvbHV0ZTt6LWluZGV4OiAyO30uYWNlX21hcmtlci1sYXllciAuYWNlX3NlbGVjdGVkLXdvcmQge3Bvc2l0aW9uOiBhYnNvbHV0ZTt6LWluZGV4OiA0Oy1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDstd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7Ym94LXNpemluZzogYm9yZGVyLWJveDt9LmFjZV9saW5lIC5hY2VfZm9sZCB7LW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94Oy13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtib3gtc2l6aW5nOiBib3JkZXItYm94O2Rpc3BsYXk6IGlubGluZS1ibG9jaztoZWlnaHQ6IDExcHg7bWFyZ2luLXRvcDogLTJweDt2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO2JhY2tncm91bmQtaW1hZ2U6dXJsKCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJFQUFBQUpDQVlBQUFEVTZNY01BQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQUpwSlJFRlVlTnBpL1AvL1B3T2xnQVhHWUdSa2xBVlNva0Q4R21qd1kxd2FzS2xqUXBZQUN0cENGZUFEY0hWUWZReU1RQXd6d0FaSTN3Skt2Q0xrZktCYU1TQ2xCbFI3Qk9RaWtDRkdRRUVySUgwVnFrYWJpR0NBcXdVYWRBelpKUnhRci8wZ3dpWElhbDh6UVFQbk5WVGdKMVRkYXdMMFQ1Z0JJUDFNVUpOaEJ2MkhLb1FISGpxTnJBNFdPNHpZMGdseU5LTFQyS0lmSU1BQVFzZGdHaVh2Z25ZQUFBQUFTVVZPUks1Q1lJST0iKSx1cmwoImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBM0NBWUFBQUROTmlBNUFBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBQ0pKUkVGVWVOcGkrUC8vZnhnVEF3UERCeER4RDA3OFJTWCtZZUV5REZNQ0lNQUFJM0lObVhpd2YyWUFBQUFBU1VWT1JLNUNZSUk9Iik7YmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdCwgcmVwZWF0LXg7YmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIGNlbnRlciwgdG9wIGxlZnQ7Y29sb3I6IHRyYW5zcGFyZW50O2JvcmRlcjogMXB4IHNvbGlkIGJsYWNrOy1tb3otYm9yZGVyLXJhZGl1czogMnB4Oy13ZWJraXQtYm9yZGVyLXJhZGl1czogMnB4O2JvcmRlci1yYWRpdXM6IDJweDtjdXJzb3I6IHBvaW50ZXI7cG9pbnRlci1ldmVudHM6IGF1dG87fS5hY2VfZGFyayAuYWNlX2ZvbGQge30uYWNlX2ZvbGQ6aG92ZXJ7YmFja2dyb3VuZC1pbWFnZTp1cmwoImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkVBQUFBSkNBWUFBQURVNk1jTUFBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBSnBKUkVGVWVOcGkvUC8vUHdPbGdBWEdZR1JrbEFWU29rRDhHbWp3WTF3YXNLbGpRcFlBQ3RwQ0ZlQURjSFZRZlF5TVFBd3p3QVpJM3dKS3ZDTGtmS0JhTVNDbEJsUjdCT1Fpa0NGR1FFRXJJSDBWcWthYmlHQ0Fxd1VhZEF6WkpSeFFyLzBnd2lYSWFsOHpRUVBuTlZUZ0oxVGRhd0wwVDVnQklQMU1VSk5oQnYySEtvUUhIanFOckE0V080elkwZ2x5TktMVDJLSWZJTUFBUXNkZ0dpWHZnbllBQUFBQVNVVk9SSzVDWUlJPSIpLHVybCgiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUEzQ0FZQUFBRE5OaUE1QUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUFDQkpSRUZVZU5waStQLy9mejRUQXdQRFp4RHhENVg0aTVmTE1Fd0pnQUFEQUVQVkRiak53ODdaQUFBQUFFbEZUa1N1UW1DQyIpO30uYWNlX3Rvb2x0aXAge2JhY2tncm91bmQtY29sb3I6ICNGRkY7YmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCB0cmFuc3BhcmVudCwgcmdiYSgwLCAwLCAwLCAwLjEpKTtiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCB0cmFuc3BhcmVudCwgcmdiYSgwLCAwLCAwLCAwLjEpKTtib3JkZXI6IDFweCBzb2xpZCBncmF5O2JvcmRlci1yYWRpdXM6IDFweDtib3gtc2hhZG93OiAwIDFweCAycHggcmdiYSgwLCAwLCAwLCAwLjMpO2NvbG9yOiBibGFjaztkaXNwbGF5OiBibG9jazttYXgtd2lkdGg6IDEwMCU7cGFkZGluZzogM3B4IDRweDtwb3NpdGlvbjogZml4ZWQ7ei1pbmRleDogOTk5OTk5Oy1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDstd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7Ym94LXNpemluZzogYm9yZGVyLWJveDtjdXJzb3I6IGRlZmF1bHQ7d2hpdGUtc3BhY2U6IHByZTt3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7bGluZS1oZWlnaHQ6IG5vcm1hbDtmb250LXN0eWxlOiBub3JtYWw7Zm9udC13ZWlnaHQ6IG5vcm1hbDtsZXR0ZXItc3BhY2luZzogbm9ybWFsO3BvaW50ZXItZXZlbnRzOiBub25lO30uYWNlX2ZvbGRpbmctZW5hYmxlZCA+IC5hY2VfZ3V0dGVyLWNlbGwge3BhZGRpbmctcmlnaHQ6IDEzcHg7fS5hY2VfZm9sZC13aWRnZXQgey1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDstd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7Ym94LXNpemluZzogYm9yZGVyLWJveDttYXJnaW46IDAgLTEycHggMCAxcHg7ZGlzcGxheTogbm9uZTt3aWR0aDogMTFweDt2ZXJ0aWNhbC1hbGlnbjogdG9wO2JhY2tncm91bmQtaW1hZ2U6IHVybCgiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBVUFBQUFGQ0FZQUFBQ05ieWJsQUFBQU5FbEVRVlI0Mm1XS3NRMEFNQXpDOGl4TGxyelFqem1CaUVqcDBBNld3QkNTUGdLQVhvTGtxU290N25OM3lNd1I3cFozMk56cEtrVm9EQlV4S0FBQUFBQkpSVTVFcmtKZ2dnPT0iKTtiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O2JhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtib3JkZXItcmFkaXVzOiAzcHg7Ym9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7Y3Vyc29yOiBwb2ludGVyO30uYWNlX2ZvbGRpbmctZW5hYmxlZCAuYWNlX2ZvbGQtd2lkZ2V0IHtkaXNwbGF5OiBpbmxpbmUtYmxvY2s7ICAgfS5hY2VfZm9sZC13aWRnZXQuYWNlX2VuZCB7YmFja2dyb3VuZC1pbWFnZTogdXJsKCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFVQUFBQUZDQVlBQUFDTmJ5YmxBQUFBTkVsRVFWUjQybTNId1FrQU1BaEQwWXpzUmNoRktJN3NBaWtlV2tyeHdTY0VCMG5oNWU3S1RQV2ltWmtpNHRZZlZiWCtNTmw0cHlaWGVqVU8xUUFBQUFCSlJVNUVya0pnZ2c9PSIpO30uYWNlX2ZvbGQtd2lkZ2V0LmFjZV9jbG9zZWQge2JhY2tncm91bmQtaW1hZ2U6IHVybCgiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBTUFBQUFHQ0FZQUFBQUc1U1FNQUFBQU9VbEVRVlI0MmpYS3dRa0FNQWdEd0t3cUtENEV3UTI2c1NPa1ZXamdJSUhBelBpQ2dhcWlxbkpIWm5LSUNCRVJITjE5NE81Yjl2Ykx1QVZSTCtsMFlXblpBQUFBQUVsRlRrU3VRbUNDWEE9PSIpO30uYWNlX2ZvbGQtd2lkZ2V0OmhvdmVyIHtib3JkZXI6IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMyk7YmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpOy1tb3otYm94LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KTstd2Via2l0LWJveC1zaGFkb3c6IDAgMXB4IDFweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNyk7Ym94LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KTt9LmFjZV9mb2xkLXdpZGdldDphY3RpdmUge2JvcmRlcjogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC40KTtiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMDUpOy1tb3otYm94LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KTstd2Via2l0LWJveC1zaGFkb3c6IDAgMXB4IDFweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCk7Ym94LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KTt9LyoqKiBEYXJrIHZlcnNpb24gZm9yIGZvbGQgd2lkZ2V0cyovLmFjZV9kYXJrIC5hY2VfZm9sZC13aWRnZXQge2JhY2tncm91bmQtaW1hZ2U6IHVybCgiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBVUFBQUFGQ0FZQUFBQ05ieWJsQUFBQUhrbEVRVlFJVzJQNC8vOC9Bem9HRVE3b0dDYUxMQWhXaVN3QjE0NkJBUUNTVFBZb2NxVDBBQUFBQUVsRlRrU3VRbUNDIik7fS5hY2VfZGFyayAuYWNlX2ZvbGQtd2lkZ2V0LmFjZV9lbmQge2JhY2tncm91bmQtaW1hZ2U6IHVybCgiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBVUFBQUFGQ0FZQUFBQ05ieWJsQUFBQUgwbEVRVlFJVzJQNC8vOC9BeFE3d05qSUFqRE1nQzRBeGpDVktCaXJJQUFGMGt6MnJsaHhwQUFBQUFCSlJVNUVya0pnZ2c9PSIpO30uYWNlX2RhcmsgLmFjZV9mb2xkLXdpZGdldC5hY2VfY2xvc2VkIHtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQU1BQUFBRkNBWUFBQUNBY1ZhaUFBQUFIRWxFUVZRSVcyUDQvLysvQXhBemdEQURsT09Bem5IQUtnUFdBd0FSamk4VUlEVGZRUUFBQUFCSlJVNUVya0pnZ2c9PSIpO30uYWNlX2RhcmsgLmFjZV9mb2xkLXdpZGdldDpob3ZlciB7Ym94LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7fS5hY2VfZGFyayAuYWNlX2ZvbGQtd2lkZ2V0OmFjdGl2ZSB7LW1vei1ib3gtc2hhZG93OiAwIDFweCAxcHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpOy13ZWJraXQtYm94LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtib3gtc2hhZG93OiAwIDFweCAxcHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO30uYWNlX2ZvbGQtd2lkZ2V0LmFjZV9pbnZhbGlkIHtiYWNrZ3JvdW5kLWNvbG9yOiAjRkZCNEI0O2JvcmRlci1jb2xvcjogI0RFNTU1NTt9LmFjZV9mYWRlLWZvbGQtd2lkZ2V0cyAuYWNlX2ZvbGQtd2lkZ2V0IHstbW96LXRyYW5zaXRpb246IG9wYWNpdHkgMC40cyBlYXNlIDAuMDVzOy13ZWJraXQtdHJhbnNpdGlvbjogb3BhY2l0eSAwLjRzIGVhc2UgMC4wNXM7LW8tdHJhbnNpdGlvbjogb3BhY2l0eSAwLjRzIGVhc2UgMC4wNXM7LW1zLXRyYW5zaXRpb246IG9wYWNpdHkgMC40cyBlYXNlIDAuMDVzO3RyYW5zaXRpb246IG9wYWNpdHkgMC40cyBlYXNlIDAuMDVzO29wYWNpdHk6IDA7fS5hY2VfZmFkZS1mb2xkLXdpZGdldHM6aG92ZXIgLmFjZV9mb2xkLXdpZGdldCB7LW1vei10cmFuc2l0aW9uOiBvcGFjaXR5IDAuMDVzIGVhc2UgMC4wNXM7LXdlYmtpdC10cmFuc2l0aW9uOiBvcGFjaXR5IDAuMDVzIGVhc2UgMC4wNXM7LW8tdHJhbnNpdGlvbjogb3BhY2l0eSAwLjA1cyBlYXNlIDAuMDVzOy1tcy10cmFuc2l0aW9uOiBvcGFjaXR5IDAuMDVzIGVhc2UgMC4wNXM7dHJhbnNpdGlvbjogb3BhY2l0eSAwLjA1cyBlYXNlIDAuMDVzO29wYWNpdHk6MTt9LmFjZV91bmRlcmxpbmUge3RleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO30uYWNlX2JvbGQge2ZvbnQtd2VpZ2h0OiBib2xkO30uYWNlX25vYm9sZCAuYWNlX2JvbGQge2ZvbnQtd2VpZ2h0OiBub3JtYWw7fS5hY2VfaXRhbGljIHtmb250LXN0eWxlOiBpdGFsaWM7fS5hY2VfZXJyb3ItbWFya2VyIHtiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMCwgMCwwLjIpO3Bvc2l0aW9uOiBhYnNvbHV0ZTt6LWluZGV4OiA5O30uYWNlX2hpZ2hsaWdodC1tYXJrZXIge2JhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDAsMC4yKTtwb3NpdGlvbjogYWJzb2x1dGU7ei1pbmRleDogODt9JztpLmltcG9ydENzc1N0cmluZyh2LCJhY2VfZWRpdG9yIik7dmFyIG09ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3RoaXMuY29udGFpbmVyPWV8fGkuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy4ka2VlcFRleHRBcmVhQXRDdXJzb3I9ITAsaS5hZGRDc3NDbGFzcyh0aGlzLmNvbnRhaW5lciwiYWNlX2VkaXRvciIpLHRoaXMuc2V0VGhlbWUodCksdGhpcy4kZ3V0dGVyPWkuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy4kZ3V0dGVyLmNsYXNzTmFtZT0iYWNlX2d1dHRlciIsdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy4kZ3V0dGVyKSx0aGlzLnNjcm9sbGVyPWkuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5zY3JvbGxlci5jbGFzc05hbWU9ImFjZV9zY3JvbGxlciIsdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5zY3JvbGxlciksdGhpcy5jb250ZW50PWkuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5jb250ZW50LmNsYXNzTmFtZT0iYWNlX2NvbnRlbnQiLHRoaXMuc2Nyb2xsZXIuYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50KSx0aGlzLiRndXR0ZXJMYXllcj1uZXcgbyh0aGlzLiRndXR0ZXIpLHRoaXMuJGd1dHRlckxheWVyLm9uKCJjaGFuZ2VHdXR0ZXJXaWR0aCIsdGhpcy5vbkd1dHRlclJlc2l6ZS5iaW5kKHRoaXMpKSx0aGlzLiRtYXJrZXJCYWNrPW5ldyB1KHRoaXMuY29udGVudCk7dmFyIHI9dGhpcy4kdGV4dExheWVyPW5ldyBhKHRoaXMuY29udGVudCk7dGhpcy5jYW52YXM9ci5lbGVtZW50LHRoaXMuJG1hcmtlckZyb250PW5ldyB1KHRoaXMuY29udGVudCksdGhpcy4kY3Vyc29yTGF5ZXI9bmV3IGYodGhpcy5jb250ZW50KSx0aGlzLiRob3JpelNjcm9sbD0hMSx0aGlzLiR2U2Nyb2xsPSExLHRoaXMuc2Nyb2xsQmFyPXRoaXMuc2Nyb2xsQmFyVj1uZXcgYyh0aGlzLmNvbnRhaW5lcix0aGlzKSx0aGlzLnNjcm9sbEJhckg9bmV3IGwodGhpcy5jb250YWluZXIsdGhpcyksdGhpcy5zY3JvbGxCYXJWLmFkZEV2ZW50TGlzdGVuZXIoInNjcm9sbCIsZnVuY3Rpb24oZSl7bi4kc2Nyb2xsQW5pbWF0aW9ufHxuLnNlc3Npb24uc2V0U2Nyb2xsVG9wKGUuZGF0YS1uLnNjcm9sbE1hcmdpbi50b3ApfSksdGhpcy5zY3JvbGxCYXJILmFkZEV2ZW50TGlzdGVuZXIoInNjcm9sbCIsZnVuY3Rpb24oZSl7bi4kc2Nyb2xsQW5pbWF0aW9ufHxuLnNlc3Npb24uc2V0U2Nyb2xsTGVmdChlLmRhdGEtbi5zY3JvbGxNYXJnaW4ubGVmdCl9KSx0aGlzLnNjcm9sbFRvcD0wLHRoaXMuc2Nyb2xsTGVmdD0wLHRoaXMuY3Vyc29yUG9zPXtyb3c6MCxjb2x1bW46MH0sdGhpcy4kZm9udE1ldHJpY3M9bmV3IHAodGhpcy5jb250YWluZXIsNTAwKSx0aGlzLiR0ZXh0TGF5ZXIuJHNldEZvbnRNZXRyaWNzKHRoaXMuJGZvbnRNZXRyaWNzKSx0aGlzLiR0ZXh0TGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlQ2hhcmFjdGVyU2l6ZSIsZnVuY3Rpb24oZSl7bi51cGRhdGVDaGFyYWN0ZXJTaXplKCksbi5vblJlc2l6ZSghMCxuLmd1dHRlcldpZHRoLG4uJHNpemUud2lkdGgsbi4kc2l6ZS5oZWlnaHQpLG4uX3NpZ25hbCgiY2hhbmdlQ2hhcmFjdGVyU2l6ZSIsZSl9KSx0aGlzLiRzaXplPXt3aWR0aDowLGhlaWdodDowLHNjcm9sbGVySGVpZ2h0OjAsc2Nyb2xsZXJXaWR0aDowLCRkaXJ0eTohMH0sdGhpcy5sYXllckNvbmZpZz17d2lkdGg6MSxwYWRkaW5nOjAsZmlyc3RSb3c6MCxmaXJzdFJvd1NjcmVlbjowLGxhc3RSb3c6MCxsaW5lSGVpZ2h0OjAsY2hhcmFjdGVyV2lkdGg6MCxtaW5IZWlnaHQ6MSxtYXhIZWlnaHQ6MSxvZmZzZXQ6MCxoZWlnaHQ6MSxndXR0ZXJPZmZzZXQ6MX0sdGhpcy5zY3JvbGxNYXJnaW49e2xlZnQ6MCxyaWdodDowLHRvcDowLGJvdHRvbTowLHY6MCxoOjB9LHRoaXMuJGxvb3A9bmV3IGgodGhpcy4kcmVuZGVyQ2hhbmdlcy5iaW5kKHRoaXMpLHRoaXMuY29udGFpbmVyLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpLHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfRlVMTCksdGhpcy51cGRhdGVDaGFyYWN0ZXJTaXplKCksdGhpcy5zZXRQYWRkaW5nKDQpLHMucmVzZXRPcHRpb25zKHRoaXMpLHMuX2VtaXQoInJlbmRlcmVyIix0aGlzKX07KGZ1bmN0aW9uKCl7dGhpcy5DSEFOR0VfQ1VSU09SPTEsdGhpcy5DSEFOR0VfTUFSS0VSPTIsdGhpcy5DSEFOR0VfR1VUVEVSPTQsdGhpcy5DSEFOR0VfU0NST0xMPTgsdGhpcy5DSEFOR0VfTElORVM9MTYsdGhpcy5DSEFOR0VfVEVYVD0zMix0aGlzLkNIQU5HRV9TSVpFPTY0LHRoaXMuQ0hBTkdFX01BUktFUl9CQUNLPTEyOCx0aGlzLkNIQU5HRV9NQVJLRVJfRlJPTlQ9MjU2LHRoaXMuQ0hBTkdFX0ZVTEw9NTEyLHRoaXMuQ0hBTkdFX0hfU0NST0xMPTEwMjQsci5pbXBsZW1lbnQodGhpcyxkKSx0aGlzLnVwZGF0ZUNoYXJhY3RlclNpemU9ZnVuY3Rpb24oKXt0aGlzLiR0ZXh0TGF5ZXIuYWxsb3dCb2xkRm9udHMhPXRoaXMuJGFsbG93Qm9sZEZvbnRzJiYodGhpcy4kYWxsb3dCb2xkRm9udHM9dGhpcy4kdGV4dExheWVyLmFsbG93Qm9sZEZvbnRzLHRoaXMuc2V0U3R5bGUoImFjZV9ub2JvbGQiLCF0aGlzLiRhbGxvd0JvbGRGb250cykpLHRoaXMubGF5ZXJDb25maWcuY2hhcmFjdGVyV2lkdGg9dGhpcy5jaGFyYWN0ZXJXaWR0aD10aGlzLiR0ZXh0TGF5ZXIuZ2V0Q2hhcmFjdGVyV2lkdGgoKSx0aGlzLmxheWVyQ29uZmlnLmxpbmVIZWlnaHQ9dGhpcy5saW5lSGVpZ2h0PXRoaXMuJHRleHRMYXllci5nZXRMaW5lSGVpZ2h0KCksdGhpcy4kdXBkYXRlUHJpbnRNYXJnaW4oKX0sdGhpcy5zZXRTZXNzaW9uPWZ1bmN0aW9uKGUpe3RoaXMuc2Vzc2lvbiYmdGhpcy5zZXNzaW9uLmRvYy5vZmYoImNoYW5nZU5ld0xpbmVNb2RlIix0aGlzLm9uQ2hhbmdlTmV3TGluZU1vZGUpLHRoaXMuc2Vzc2lvbj1lLGUmJih0aGlzLnNjcm9sbE1hcmdpbi50b3AmJmUuZ2V0U2Nyb2xsVG9wKCk8PTAmJmUuc2V0U2Nyb2xsVG9wKC10aGlzLnNjcm9sbE1hcmdpbi50b3ApLHRoaXMuJGN1cnNvckxheWVyLnNldFNlc3Npb24oZSksdGhpcy4kbWFya2VyQmFjay5zZXRTZXNzaW9uKGUpLHRoaXMuJG1hcmtlckZyb250LnNldFNlc3Npb24oZSksdGhpcy4kZ3V0dGVyTGF5ZXIuc2V0U2Vzc2lvbihlKSx0aGlzLiR0ZXh0TGF5ZXIuc2V0U2Vzc2lvbihlKSx0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0ZVTEwpLHRoaXMuc2Vzc2lvbi4kc2V0Rm9udE1ldHJpY3ModGhpcy4kZm9udE1ldHJpY3MpLHRoaXMub25DaGFuZ2VOZXdMaW5lTW9kZT10aGlzLm9uQ2hhbmdlTmV3TGluZU1vZGUuYmluZCh0aGlzKSx0aGlzLm9uQ2hhbmdlTmV3TGluZU1vZGUoKSx0aGlzLnNlc3Npb24uZG9jLm9uKCJjaGFuZ2VOZXdMaW5lTW9kZSIsdGhpcy5vbkNoYW5nZU5ld0xpbmVNb2RlKSl9LHRoaXMudXBkYXRlTGluZXM9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD0xLzApLHRoaXMuJGNoYW5nZWRMaW5lcz8odGhpcy4kY2hhbmdlZExpbmVzLmZpcnN0Um93PmUmJih0aGlzLiRjaGFuZ2VkTGluZXMuZmlyc3RSb3c9ZSksdGhpcy4kY2hhbmdlZExpbmVzLmxhc3RSb3c8dCYmKHRoaXMuJGNoYW5nZWRMaW5lcy5sYXN0Um93PXQpKTp0aGlzLiRjaGFuZ2VkTGluZXM9e2ZpcnN0Um93OmUsbGFzdFJvdzp0fSx0aGlzLiRjaGFuZ2VkTGluZXMuZmlyc3RSb3c+dGhpcy5sYXllckNvbmZpZy5sYXN0Um93fHx0aGlzLiRjaGFuZ2VkTGluZXMubGFzdFJvdzx0aGlzLmxheWVyQ29uZmlnLmZpcnN0Um93fHx0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0xJTkVTKX0sdGhpcy5vbkNoYW5nZU5ld0xpbmVNb2RlPWZ1bmN0aW9uKCl7dGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9URVhUKSx0aGlzLiR0ZXh0TGF5ZXIuJHVwZGF0ZUVvbENoYXIoKX0sdGhpcy5vbkNoYW5nZVRhYlNpemU9ZnVuY3Rpb24oKXt0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX1RFWFR8dGhpcy5DSEFOR0VfTUFSS0VSKSx0aGlzLiR0ZXh0TGF5ZXIub25DaGFuZ2VUYWJTaXplKCl9LHRoaXMudXBkYXRlVGV4dD1mdW5jdGlvbigpe3RoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfVEVYVCl9LHRoaXMudXBkYXRlRnVsbD1mdW5jdGlvbihlKXtlP3RoaXMuJHJlbmRlckNoYW5nZXModGhpcy5DSEFOR0VfRlVMTCwhMCk6dGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9GVUxMKX0sdGhpcy51cGRhdGVGb250U2l6ZT1mdW5jdGlvbigpe3RoaXMuJHRleHRMYXllci5jaGVja0ZvclNpemVDaGFuZ2VzKCl9LHRoaXMuJGNoYW5nZXM9MCx0aGlzLiR1cGRhdGVTaXplQXN5bmM9ZnVuY3Rpb24oKXt0aGlzLiRsb29wLnBlbmRpbmc/dGhpcy4kc2l6ZS4kZGlydHk9ITA6dGhpcy5vblJlc2l6ZSgpfSx0aGlzLm9uUmVzaXplPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKCEodGhpcy5yZXNpemluZz4yKSl7dGhpcy5yZXNpemluZz4wP3RoaXMucmVzaXppbmcrKzp0aGlzLnJlc2l6aW5nPWU/MTowO3ZhciBpPXRoaXMuY29udGFpbmVyO3J8fChyPWkuY2xpZW50SGVpZ2h0fHxpLnNjcm9sbEhlaWdodCksbnx8KG49aS5jbGllbnRXaWR0aHx8aS5zY3JvbGxXaWR0aCk7dmFyIHM9dGhpcy4kdXBkYXRlQ2FjaGVkU2l6ZShlLHQsbixyKTtyZXR1cm4gdGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodCYmKG58fHIpPyhlJiYodGhpcy4kZ3V0dGVyTGF5ZXIuJHBhZGRpbmc9bnVsbCksZT90aGlzLiRyZW5kZXJDaGFuZ2VzKHN8dGhpcy4kY2hhbmdlcywhMCk6dGhpcy4kbG9vcC5zY2hlZHVsZShzfHRoaXMuJGNoYW5nZXMpLHRoaXMucmVzaXppbmcmJih0aGlzLnJlc2l6aW5nPTApLHZvaWQgMCk6dGhpcy5yZXNpemluZz0wfX0sdGhpcy4kdXBkYXRlQ2FjaGVkU2l6ZT1mdW5jdGlvbihlLHQsbixyKXtyLT10aGlzLiRleHRyYUhlaWdodHx8MDt2YXIgaT0wLHM9dGhpcy4kc2l6ZSxvPXt3aWR0aDpzLndpZHRoLGhlaWdodDpzLmhlaWdodCxzY3JvbGxlckhlaWdodDpzLnNjcm9sbGVySGVpZ2h0LHNjcm9sbGVyV2lkdGg6cy5zY3JvbGxlcldpZHRofTtyZXR1cm4gciYmKGV8fHMuaGVpZ2h0IT1yKSYmKHMuaGVpZ2h0PXIsaXw9dGhpcy5DSEFOR0VfU0laRSxzLnNjcm9sbGVySGVpZ2h0PXMuaGVpZ2h0LHRoaXMuJGhvcml6U2Nyb2xsJiYocy5zY3JvbGxlckhlaWdodC09dGhpcy5zY3JvbGxCYXJILmdldEhlaWdodCgpKSx0aGlzLnNjcm9sbEJhclYuZWxlbWVudC5zdHlsZS5ib3R0b209dGhpcy5zY3JvbGxCYXJILmdldEhlaWdodCgpKyJweCIsaXw9dGhpcy5DSEFOR0VfU0NST0xMKSxuJiYoZXx8cy53aWR0aCE9bikmJihpfD10aGlzLkNIQU5HRV9TSVpFLHMud2lkdGg9bixudWxsPT10JiYodD10aGlzLiRzaG93R3V0dGVyP3RoaXMuJGd1dHRlci5vZmZzZXRXaWR0aDowKSx0aGlzLmd1dHRlcldpZHRoPXQsdGhpcy5zY3JvbGxCYXJILmVsZW1lbnQuc3R5bGUubGVmdD10aGlzLnNjcm9sbGVyLnN0eWxlLmxlZnQ9dCsicHgiLHMuc2Nyb2xsZXJXaWR0aD1NYXRoLm1heCgwLG4tdC10aGlzLnNjcm9sbEJhclYuZ2V0V2lkdGgoKSksdGhpcy5zY3JvbGxCYXJILmVsZW1lbnQuc3R5bGUucmlnaHQ9dGhpcy5zY3JvbGxlci5zdHlsZS5yaWdodD10aGlzLnNjcm9sbEJhclYuZ2V0V2lkdGgoKSsicHgiLHRoaXMuc2Nyb2xsZXIuc3R5bGUuYm90dG9tPXRoaXMuc2Nyb2xsQmFySC5nZXRIZWlnaHQoKSsicHgiLCh0aGlzLnNlc3Npb24mJnRoaXMuc2Vzc2lvbi5nZXRVc2VXcmFwTW9kZSgpJiZ0aGlzLmFkanVzdFdyYXBMaW1pdCgpfHxlKSYmKGl8PXRoaXMuQ0hBTkdFX0ZVTEwpKSxzLiRkaXJ0eT0hbnx8IXIsaSYmdGhpcy5fc2lnbmFsKCJyZXNpemUiLG8pLGl9LHRoaXMub25HdXR0ZXJSZXNpemU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLiRzaG93R3V0dGVyP3RoaXMuJGd1dHRlci5vZmZzZXRXaWR0aDowO2UhPXRoaXMuZ3V0dGVyV2lkdGgmJih0aGlzLiRjaGFuZ2VzfD10aGlzLiR1cGRhdGVDYWNoZWRTaXplKCEwLGUsdGhpcy4kc2l6ZS53aWR0aCx0aGlzLiRzaXplLmhlaWdodCkpLHRoaXMuc2Vzc2lvbi5nZXRVc2VXcmFwTW9kZSgpJiZ0aGlzLmFkanVzdFdyYXBMaW1pdCgpP3RoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfRlVMTCk6dGhpcy4kc2l6ZS4kZGlydHk/dGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9GVUxMKToodGhpcy4kY29tcHV0ZUxheWVyQ29uZmlnKCksdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9NQVJLRVIpKX0sdGhpcy5hZGp1c3RXcmFwTGltaXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLiRzaXplLnNjcm9sbGVyV2lkdGgtMip0aGlzLiRwYWRkaW5nLHQ9TWF0aC5mbG9vcihlL3RoaXMuY2hhcmFjdGVyV2lkdGgpO3JldHVybiB0aGlzLnNlc3Npb24uYWRqdXN0V3JhcExpbWl0KHQsdGhpcy4kc2hvd1ByaW50TWFyZ2luJiZ0aGlzLiRwcmludE1hcmdpbkNvbHVtbil9LHRoaXMuc2V0QW5pbWF0ZWRTY3JvbGw9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oImFuaW1hdGVkU2Nyb2xsIixlKX0sdGhpcy5nZXRBbmltYXRlZFNjcm9sbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRhbmltYXRlZFNjcm9sbH0sdGhpcy5zZXRTaG93SW52aXNpYmxlcz1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbigic2hvd0ludmlzaWJsZXMiLGUpfSx0aGlzLmdldFNob3dJbnZpc2libGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0T3B0aW9uKCJzaG93SW52aXNpYmxlcyIpfSx0aGlzLmdldERpc3BsYXlJbmRlbnRHdWlkZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRPcHRpb24oImRpc3BsYXlJbmRlbnRHdWlkZXMiKX0sdGhpcy5zZXREaXNwbGF5SW5kZW50R3VpZGVzPWZ1bmN0aW9uKGUpe3RoaXMuc2V0T3B0aW9uKCJkaXNwbGF5SW5kZW50R3VpZGVzIixlKX0sdGhpcy5zZXRTaG93UHJpbnRNYXJnaW49ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oInNob3dQcmludE1hcmdpbiIsZSl9LHRoaXMuZ2V0U2hvd1ByaW50TWFyZ2luPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0T3B0aW9uKCJzaG93UHJpbnRNYXJnaW4iKX0sdGhpcy5zZXRQcmludE1hcmdpbkNvbHVtbj1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbigicHJpbnRNYXJnaW5Db2x1bW4iLGUpfSx0aGlzLmdldFByaW50TWFyZ2luQ29sdW1uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0T3B0aW9uKCJwcmludE1hcmdpbkNvbHVtbiIpfSx0aGlzLmdldFNob3dHdXR0ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRPcHRpb24oInNob3dHdXR0ZXIiKX0sdGhpcy5zZXRTaG93R3V0dGVyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNldE9wdGlvbigic2hvd0d1dHRlciIsZSl9LHRoaXMuZ2V0RmFkZUZvbGRXaWRnZXRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0T3B0aW9uKCJmYWRlRm9sZFdpZGdldHMiKX0sdGhpcy5zZXRGYWRlRm9sZFdpZGdldHM9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oImZhZGVGb2xkV2lkZ2V0cyIsZSl9LHRoaXMuc2V0SGlnaGxpZ2h0R3V0dGVyTGluZT1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbigiaGlnaGxpZ2h0R3V0dGVyTGluZSIsZSl9LHRoaXMuZ2V0SGlnaGxpZ2h0R3V0dGVyTGluZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE9wdGlvbigiaGlnaGxpZ2h0R3V0dGVyTGluZSIpfSx0aGlzLiR1cGRhdGVHdXR0ZXJMaW5lSGlnaGxpZ2h0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy4kY3Vyc29yTGF5ZXIuJHBpeGVsUG9zLHQ9dGhpcy5sYXllckNvbmZpZy5saW5lSGVpZ2h0O2lmKHRoaXMuc2Vzc2lvbi5nZXRVc2VXcmFwTW9kZSgpKXt2YXIgbj10aGlzLnNlc3Npb24uc2VsZWN0aW9uLmdldEN1cnNvcigpO24uY29sdW1uPTAsZT10aGlzLiRjdXJzb3JMYXllci5nZXRQaXhlbFBvc2l0aW9uKG4sITApLHQqPXRoaXMuc2Vzc2lvbi5nZXRSb3dMZW5ndGgobi5yb3cpfXRoaXMuJGd1dHRlckxpbmVIaWdobGlnaHQuc3R5bGUudG9wPWUudG9wLXRoaXMubGF5ZXJDb25maWcub2Zmc2V0KyJweCIsdGhpcy4kZ3V0dGVyTGluZUhpZ2hsaWdodC5zdHlsZS5oZWlnaHQ9dCsicHgifSx0aGlzLiR1cGRhdGVQcmludE1hcmdpbj1mdW5jdGlvbigpe2lmKHRoaXMuJHNob3dQcmludE1hcmdpbnx8dGhpcy4kcHJpbnRNYXJnaW5FbCl7aWYoIXRoaXMuJHByaW50TWFyZ2luRWwpe3ZhciBlPWkuY3JlYXRlRWxlbWVudCgiZGl2Iik7ZS5jbGFzc05hbWU9ImFjZV9sYXllciBhY2VfcHJpbnQtbWFyZ2luLWxheWVyIix0aGlzLiRwcmludE1hcmdpbkVsPWkuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy4kcHJpbnRNYXJnaW5FbC5jbGFzc05hbWU9ImFjZV9wcmludC1tYXJnaW4iLGUuYXBwZW5kQ2hpbGQodGhpcy4kcHJpbnRNYXJnaW5FbCksdGhpcy5jb250ZW50Lmluc2VydEJlZm9yZShlLHRoaXMuY29udGVudC5maXJzdENoaWxkKX12YXIgdD10aGlzLiRwcmludE1hcmdpbkVsLnN0eWxlO3QubGVmdD10aGlzLmNoYXJhY3RlcldpZHRoKnRoaXMuJHByaW50TWFyZ2luQ29sdW1uK3RoaXMuJHBhZGRpbmcrInB4Iix0LnZpc2liaWxpdHk9dGhpcy4kc2hvd1ByaW50TWFyZ2luPyJ2aXNpYmxlIjoiaGlkZGVuIix0aGlzLnNlc3Npb24mJi0xPT10aGlzLnNlc3Npb24uJHdyYXAmJnRoaXMuYWRqdXN0V3JhcExpbWl0KCl9fSx0aGlzLmdldENvbnRhaW5lckVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250YWluZXJ9LHRoaXMuZ2V0TW91c2VFdmVudFRhcmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnR9LHRoaXMuZ2V0VGV4dEFyZWFDb250YWluZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250YWluZXJ9LHRoaXMuJG1vdmVUZXh0QXJlYVRvQ3Vyc29yPWZ1bmN0aW9uKCl7aWYodGhpcy4ka2VlcFRleHRBcmVhQXRDdXJzb3Ipe3ZhciBlPXRoaXMubGF5ZXJDb25maWcsdD10aGlzLiRjdXJzb3JMYXllci4kcGl4ZWxQb3MudG9wLG49dGhpcy4kY3Vyc29yTGF5ZXIuJHBpeGVsUG9zLmxlZnQ7dC09ZS5vZmZzZXQ7dmFyIHI9dGhpcy5saW5lSGVpZ2h0O2lmKCEoMD50fHx0PmUuaGVpZ2h0LXIpKXt2YXIgaT10aGlzLmNoYXJhY3RlcldpZHRoO2lmKHRoaXMuJGNvbXBvc2l0aW9uKXt2YXIgcz10aGlzLnRleHRhcmVhLnZhbHVlLnJlcGxhY2UoL15ceDAxKy8sIiIpO2kqPXRoaXMuc2Vzc2lvbi4kZ2V0U3RyaW5nU2NyZWVuV2lkdGgocylbMF0rMixyKz0yLHQtPTF9bi09dGhpcy5zY3JvbGxMZWZ0LG4+dGhpcy4kc2l6ZS5zY3JvbGxlcldpZHRoLWkmJihuPXRoaXMuJHNpemUuc2Nyb2xsZXJXaWR0aC1pKSxuLT10aGlzLnNjcm9sbEJhci53aWR0aCx0aGlzLnRleHRhcmVhLnN0eWxlLmhlaWdodD1yKyJweCIsdGhpcy50ZXh0YXJlYS5zdHlsZS53aWR0aD1pKyJweCIsdGhpcy50ZXh0YXJlYS5zdHlsZS5yaWdodD1NYXRoLm1heCgwLHRoaXMuJHNpemUuc2Nyb2xsZXJXaWR0aC1uLWkpKyJweCIsdGhpcy50ZXh0YXJlYS5zdHlsZS5ib3R0b209TWF0aC5tYXgoMCx0aGlzLiRzaXplLmhlaWdodC10LXIpKyJweCJ9fX0sdGhpcy5nZXRGaXJzdFZpc2libGVSb3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYXllckNvbmZpZy5maXJzdFJvd30sdGhpcy5nZXRGaXJzdEZ1bGx5VmlzaWJsZVJvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxheWVyQ29uZmlnLmZpcnN0Um93KygwPT09dGhpcy5sYXllckNvbmZpZy5vZmZzZXQ/MDoxKX0sdGhpcy5nZXRMYXN0RnVsbHlWaXNpYmxlUm93PWZ1bmN0aW9uKCl7dmFyIGU9TWF0aC5mbG9vcigodGhpcy5sYXllckNvbmZpZy5oZWlnaHQrdGhpcy5sYXllckNvbmZpZy5vZmZzZXQpL3RoaXMubGF5ZXJDb25maWcubGluZUhlaWdodCk7cmV0dXJuIHRoaXMubGF5ZXJDb25maWcuZmlyc3RSb3ctMStlfSx0aGlzLmdldExhc3RWaXNpYmxlUm93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGF5ZXJDb25maWcubGFzdFJvd30sdGhpcy4kcGFkZGluZz1udWxsLHRoaXMuc2V0UGFkZGluZz1mdW5jdGlvbihlKXt0aGlzLiRwYWRkaW5nPWUsdGhpcy4kdGV4dExheWVyLnNldFBhZGRpbmcoZSksdGhpcy4kY3Vyc29yTGF5ZXIuc2V0UGFkZGluZyhlKSx0aGlzLiRtYXJrZXJGcm9udC5zZXRQYWRkaW5nKGUpLHRoaXMuJG1hcmtlckJhY2suc2V0UGFkZGluZyhlKSx0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0ZVTEwpLHRoaXMuJHVwZGF0ZVByaW50TWFyZ2luKCl9LHRoaXMuc2V0U2Nyb2xsTWFyZ2luPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXRoaXMuc2Nyb2xsTWFyZ2luO2kudG9wPTB8ZSxpLmJvdHRvbT0wfHQsaS5yaWdodD0wfHIsaS5sZWZ0PTB8bixpLnY9aS50b3AraS5ib3R0b20saS5oPWkubGVmdCtpLnJpZ2h0LGkudG9wJiZ0aGlzLnNjcm9sbFRvcDw9MCYmdGhpcy5zZXNzaW9uJiZ0aGlzLnNlc3Npb24uc2V0U2Nyb2xsVG9wKC1pLnRvcCksdGhpcy51cGRhdGVGdWxsKCl9LHRoaXMuZ2V0SFNjcm9sbEJhckFsd2F5c1Zpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kaFNjcm9sbEJhckFsd2F5c1Zpc2libGV9LHRoaXMuc2V0SFNjcm9sbEJhckFsd2F5c1Zpc2libGU9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oImhTY3JvbGxCYXJBbHdheXNWaXNpYmxlIixlKX0sdGhpcy5nZXRWU2Nyb2xsQmFyQWx3YXlzVmlzaWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRoU2Nyb2xsQmFyQWx3YXlzVmlzaWJsZX0sdGhpcy5zZXRWU2Nyb2xsQmFyQWx3YXlzVmlzaWJsZT1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbigidlNjcm9sbEJhckFsd2F5c1Zpc2libGUiLGUpfSx0aGlzLiR1cGRhdGVTY3JvbGxCYXJWPWZ1bmN0aW9uKCl7dGhpcy5zY3JvbGxCYXJWLnNldFNjcm9sbEhlaWdodCh0aGlzLmxheWVyQ29uZmlnLm1heEhlaWdodCt0aGlzLnNjcm9sbE1hcmdpbi52KSx0aGlzLnNjcm9sbEJhclYuc2V0U2Nyb2xsVG9wKHRoaXMuc2Nyb2xsVG9wK3RoaXMuc2Nyb2xsTWFyZ2luLnRvcCl9LHRoaXMuJHVwZGF0ZVNjcm9sbEJhckg9ZnVuY3Rpb24oKXt0aGlzLnNjcm9sbEJhckguc2V0U2Nyb2xsV2lkdGgodGhpcy5sYXllckNvbmZpZy53aWR0aCsyKnRoaXMuJHBhZGRpbmcrdGhpcy5zY3JvbGxNYXJnaW4uaCksdGhpcy5zY3JvbGxCYXJILnNldFNjcm9sbExlZnQodGhpcy5zY3JvbGxMZWZ0K3RoaXMuc2Nyb2xsTWFyZ2luLmxlZnQpfSx0aGlzLiRmcm96ZW49ITEsdGhpcy5mcmVlemU9ZnVuY3Rpb24oKXt0aGlzLiRmcm96ZW49ITB9LHRoaXMudW5mcmVlemU9ZnVuY3Rpb24oKXt0aGlzLiRmcm96ZW49ITF9LHRoaXMuJHJlbmRlckNoYW5nZXM9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLiRjaGFuZ2VzJiYoZXw9dGhpcy4kY2hhbmdlcyx0aGlzLiRjaGFuZ2VzPTApLCF0aGlzLnNlc3Npb258fCF0aGlzLmNvbnRhaW5lci5vZmZzZXRXaWR0aHx8dGhpcy4kZnJvemVufHwhZSYmIXQpcmV0dXJuIHZvaWQodGhpcy4kY2hhbmdlc3w9ZSk7aWYodGhpcy4kc2l6ZS4kZGlydHkpcmV0dXJuIHRoaXMuJGNoYW5nZXN8PWUsdGhpcy5vblJlc2l6ZSghMCk7dGhpcy5saW5lSGVpZ2h0fHx0aGlzLiR0ZXh0TGF5ZXIuY2hlY2tGb3JTaXplQ2hhbmdlcygpLHRoaXMuX3NpZ25hbCgiYmVmb3JlUmVuZGVyIik7CnZhciBuPXRoaXMubGF5ZXJDb25maWc7cmV0dXJuKGUmdGhpcy5DSEFOR0VfRlVMTHx8ZSZ0aGlzLkNIQU5HRV9TSVpFfHxlJnRoaXMuQ0hBTkdFX1RFWFR8fGUmdGhpcy5DSEFOR0VfTElORVN8fGUmdGhpcy5DSEFOR0VfU0NST0xMfHxlJnRoaXMuQ0hBTkdFX0hfU0NST0xMKSYmKGV8PXRoaXMuJGNvbXB1dGVMYXllckNvbmZpZygpLG49dGhpcy5sYXllckNvbmZpZyx0aGlzLiR1cGRhdGVTY3JvbGxCYXJWKCksZSZ0aGlzLkNIQU5HRV9IX1NDUk9MTCYmdGhpcy4kdXBkYXRlU2Nyb2xsQmFySCgpLHRoaXMuJGd1dHRlckxheWVyLmVsZW1lbnQuc3R5bGUubWFyZ2luVG9wPS1uLm9mZnNldCsicHgiLHRoaXMuY29udGVudC5zdHlsZS5tYXJnaW5Ub3A9LW4ub2Zmc2V0KyJweCIsdGhpcy5jb250ZW50LnN0eWxlLndpZHRoPW4ud2lkdGgrMip0aGlzLiRwYWRkaW5nKyJweCIsdGhpcy5jb250ZW50LnN0eWxlLmhlaWdodD1uLm1pbkhlaWdodCsicHgiKSxlJnRoaXMuQ0hBTkdFX0hfU0NST0xMJiYodGhpcy5jb250ZW50LnN0eWxlLm1hcmdpbkxlZnQ9LXRoaXMuc2Nyb2xsTGVmdCsicHgiLHRoaXMuc2Nyb2xsZXIuY2xhc3NOYW1lPXRoaXMuc2Nyb2xsTGVmdDw9MD8iYWNlX3Njcm9sbGVyIjoiYWNlX3Njcm9sbGVyIGFjZV9zY3JvbGwtbGVmdCIpLGUmdGhpcy5DSEFOR0VfRlVMTD8odGhpcy4kdGV4dExheWVyLnVwZGF0ZShuKSx0aGlzLiRzaG93R3V0dGVyJiZ0aGlzLiRndXR0ZXJMYXllci51cGRhdGUobiksdGhpcy4kbWFya2VyQmFjay51cGRhdGUobiksdGhpcy4kbWFya2VyRnJvbnQudXBkYXRlKG4pLHRoaXMuJGN1cnNvckxheWVyLnVwZGF0ZShuKSx0aGlzLiRtb3ZlVGV4dEFyZWFUb0N1cnNvcigpLHRoaXMuJGhpZ2hsaWdodEd1dHRlckxpbmUmJnRoaXMuJHVwZGF0ZUd1dHRlckxpbmVIaWdobGlnaHQoKSx0aGlzLl9zaWduYWwoImFmdGVyUmVuZGVyIiksdm9pZCAwKTplJnRoaXMuQ0hBTkdFX1NDUk9MTD8oZSZ0aGlzLkNIQU5HRV9URVhUfHxlJnRoaXMuQ0hBTkdFX0xJTkVTP3RoaXMuJHRleHRMYXllci51cGRhdGUobik6dGhpcy4kdGV4dExheWVyLnNjcm9sbExpbmVzKG4pLHRoaXMuJHNob3dHdXR0ZXImJnRoaXMuJGd1dHRlckxheWVyLnVwZGF0ZShuKSx0aGlzLiRtYXJrZXJCYWNrLnVwZGF0ZShuKSx0aGlzLiRtYXJrZXJGcm9udC51cGRhdGUobiksdGhpcy4kY3Vyc29yTGF5ZXIudXBkYXRlKG4pLHRoaXMuJGhpZ2hsaWdodEd1dHRlckxpbmUmJnRoaXMuJHVwZGF0ZUd1dHRlckxpbmVIaWdobGlnaHQoKSx0aGlzLiRtb3ZlVGV4dEFyZWFUb0N1cnNvcigpLHRoaXMuX3NpZ25hbCgiYWZ0ZXJSZW5kZXIiKSx2b2lkIDApOihlJnRoaXMuQ0hBTkdFX1RFWFQ/KHRoaXMuJHRleHRMYXllci51cGRhdGUobiksdGhpcy4kc2hvd0d1dHRlciYmdGhpcy4kZ3V0dGVyTGF5ZXIudXBkYXRlKG4pKTplJnRoaXMuQ0hBTkdFX0xJTkVTPyh0aGlzLiR1cGRhdGVMaW5lcygpfHxlJnRoaXMuQ0hBTkdFX0dVVFRFUiYmdGhpcy4kc2hvd0d1dHRlcikmJnRoaXMuJGd1dHRlckxheWVyLnVwZGF0ZShuKTooZSZ0aGlzLkNIQU5HRV9URVhUfHxlJnRoaXMuQ0hBTkdFX0dVVFRFUikmJnRoaXMuJHNob3dHdXR0ZXImJnRoaXMuJGd1dHRlckxheWVyLnVwZGF0ZShuKSxlJnRoaXMuQ0hBTkdFX0NVUlNPUiYmKHRoaXMuJGN1cnNvckxheWVyLnVwZGF0ZShuKSx0aGlzLiRtb3ZlVGV4dEFyZWFUb0N1cnNvcigpLHRoaXMuJGhpZ2hsaWdodEd1dHRlckxpbmUmJnRoaXMuJHVwZGF0ZUd1dHRlckxpbmVIaWdobGlnaHQoKSksZSYodGhpcy5DSEFOR0VfTUFSS0VSfHRoaXMuQ0hBTkdFX01BUktFUl9GUk9OVCkmJnRoaXMuJG1hcmtlckZyb250LnVwZGF0ZShuKSxlJih0aGlzLkNIQU5HRV9NQVJLRVJ8dGhpcy5DSEFOR0VfTUFSS0VSX0JBQ0spJiZ0aGlzLiRtYXJrZXJCYWNrLnVwZGF0ZShuKSx0aGlzLl9zaWduYWwoImFmdGVyUmVuZGVyIiksdm9pZCAwKX0sdGhpcy4kYXV0b3NpemU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNlc3Npb24uZ2V0U2NyZWVuTGVuZ3RoKCkqdGhpcy5saW5lSGVpZ2h0LHQ9dGhpcy4kbWF4TGluZXMqdGhpcy5saW5lSGVpZ2h0LG49TWF0aC5tYXgoKHRoaXMuJG1pbkxpbmVzfHwxKSp0aGlzLmxpbmVIZWlnaHQsTWF0aC5taW4odCxlKSkrdGhpcy5zY3JvbGxNYXJnaW4udisodGhpcy4kZXh0cmFIZWlnaHR8fDApLHI9ZT50O2lmKG4hPXRoaXMuZGVzaXJlZEhlaWdodHx8dGhpcy4kc2l6ZS5oZWlnaHQhPXRoaXMuZGVzaXJlZEhlaWdodHx8ciE9dGhpcy4kdlNjcm9sbCl7ciE9dGhpcy4kdlNjcm9sbCYmKHRoaXMuJHZTY3JvbGw9cix0aGlzLnNjcm9sbEJhclYuc2V0VmlzaWJsZShyKSk7dmFyIGk9dGhpcy5jb250YWluZXIuY2xpZW50V2lkdGg7dGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0PW4rInB4Iix0aGlzLiR1cGRhdGVDYWNoZWRTaXplKCEwLHRoaXMuJGd1dHRlcldpZHRoLGksbiksdGhpcy5kZXNpcmVkSGVpZ2h0PW59fSx0aGlzLiRjb21wdXRlTGF5ZXJDb25maWc9ZnVuY3Rpb24oKXt0aGlzLiRtYXhMaW5lcyYmdGhpcy5saW5lSGVpZ2h0PjEmJnRoaXMuJGF1dG9zaXplKCk7dmFyIGU9dGhpcy5zZXNzaW9uLHQ9dGhpcy4kc2l6ZSxuPXQuaGVpZ2h0PD0yKnRoaXMubGluZUhlaWdodCxyPXRoaXMuc2Vzc2lvbi5nZXRTY3JlZW5MZW5ndGgoKSxpPXIqdGhpcy5saW5lSGVpZ2h0LHM9dGhpcy5zY3JvbGxUb3AldGhpcy5saW5lSGVpZ2h0LG89dC5zY3JvbGxlckhlaWdodCt0aGlzLmxpbmVIZWlnaHQsdT10aGlzLiRnZXRMb25nZXN0TGluZSgpLGE9IW4mJih0aGlzLiRoU2Nyb2xsQmFyQWx3YXlzVmlzaWJsZXx8dC5zY3JvbGxlcldpZHRoLXUtMip0aGlzLiRwYWRkaW5nPDApLGY9dGhpcy4kaG9yaXpTY3JvbGwhPT1hO2YmJih0aGlzLiRob3JpelNjcm9sbD1hLHRoaXMuc2Nyb2xsQmFySC5zZXRWaXNpYmxlKGEpKSwhdGhpcy4kbWF4TGluZXMmJnRoaXMuJHNjcm9sbFBhc3RFbmQmJnRoaXMuc2Nyb2xsVG9wPmktdC5zY3JvbGxlckhlaWdodCYmKGkrPU1hdGgubWluKCh0LnNjcm9sbGVySGVpZ2h0LXRoaXMubGluZUhlaWdodCkqdGhpcy4kc2Nyb2xsUGFzdEVuZCx0aGlzLnNjcm9sbFRvcC1pK3Quc2Nyb2xsZXJIZWlnaHQpKTt2YXIgbD0hbiYmKHRoaXMuJHZTY3JvbGxCYXJBbHdheXNWaXNpYmxlfHx0LnNjcm9sbGVySGVpZ2h0LWk8MCksYz10aGlzLiR2U2Nyb2xsIT09bDtjJiYodGhpcy4kdlNjcm9sbD1sLHRoaXMuc2Nyb2xsQmFyVi5zZXRWaXNpYmxlKGwpKSx0aGlzLnNlc3Npb24uc2V0U2Nyb2xsVG9wKE1hdGgubWF4KC10aGlzLnNjcm9sbE1hcmdpbi50b3AsTWF0aC5taW4odGhpcy5zY3JvbGxUb3AsaS10LnNjcm9sbGVySGVpZ2h0K3RoaXMuc2Nyb2xsTWFyZ2luLmJvdHRvbSkpKSx0aGlzLnNlc3Npb24uc2V0U2Nyb2xsTGVmdChNYXRoLm1heCgtdGhpcy5zY3JvbGxNYXJnaW4ubGVmdCxNYXRoLm1pbih0aGlzLnNjcm9sbExlZnQsdSsyKnRoaXMuJHBhZGRpbmctdC5zY3JvbGxlcldpZHRoK3RoaXMuc2Nyb2xsTWFyZ2luLnJpZ2h0KSkpO3ZhciB2LG0saD1NYXRoLmNlaWwoby90aGlzLmxpbmVIZWlnaHQpLTEscD1NYXRoLm1heCgwLE1hdGgucm91bmQoKHRoaXMuc2Nyb2xsVG9wLXMpL3RoaXMubGluZUhlaWdodCkpLGQ9cCtoLGc9dGhpcy5saW5lSGVpZ2h0O3A9ZS5zY3JlZW5Ub0RvY3VtZW50Um93KHAsMCk7dmFyIHk9ZS5nZXRGb2xkTGluZShwKTt5JiYocD15LnN0YXJ0LnJvdyksdj1lLmRvY3VtZW50VG9TY3JlZW5Sb3cocCwwKSxtPWUuZ2V0Um93TGVuZ3RoKHApKmcsZD1NYXRoLm1pbihlLnNjcmVlblRvRG9jdW1lbnRSb3coZCwwKSxlLmdldExlbmd0aCgpLTEpLG89dC5zY3JvbGxlckhlaWdodCtlLmdldFJvd0xlbmd0aChkKSpnK20scz10aGlzLnNjcm9sbFRvcC12Kmc7dmFyIGI9MDtyZXR1cm4gdGhpcy5sYXllckNvbmZpZy53aWR0aCE9dSYmKGI9dGhpcy5DSEFOR0VfSF9TQ1JPTEwpLChmfHxjKSYmKGI9dGhpcy4kdXBkYXRlQ2FjaGVkU2l6ZSghMCx0aGlzLmd1dHRlcldpZHRoLHQud2lkdGgsdC5oZWlnaHQpLHRoaXMuX3NpZ25hbCgic2Nyb2xsYmFyVmlzaWJpbGl0eUNoYW5nZWQiKSxjJiYodT10aGlzLiRnZXRMb25nZXN0TGluZSgpKSksdGhpcy5sYXllckNvbmZpZz17d2lkdGg6dSxwYWRkaW5nOnRoaXMuJHBhZGRpbmcsZmlyc3RSb3c6cCxmaXJzdFJvd1NjcmVlbjp2LGxhc3RSb3c6ZCxsaW5lSGVpZ2h0OmcsY2hhcmFjdGVyV2lkdGg6dGhpcy5jaGFyYWN0ZXJXaWR0aCxtaW5IZWlnaHQ6byxtYXhIZWlnaHQ6aSxvZmZzZXQ6cyxndXR0ZXJPZmZzZXQ6TWF0aC5tYXgoMCxNYXRoLmNlaWwoKHMrdC5oZWlnaHQtdC5zY3JvbGxlckhlaWdodCkvZykpLGhlaWdodDp0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0fSxifSx0aGlzLiR1cGRhdGVMaW5lcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuJGNoYW5nZWRMaW5lcy5maXJzdFJvdyx0PXRoaXMuJGNoYW5nZWRMaW5lcy5sYXN0Um93O3RoaXMuJGNoYW5nZWRMaW5lcz1udWxsO3ZhciBuPXRoaXMubGF5ZXJDb25maWc7aWYoIShlPm4ubGFzdFJvdysxfHx0PG4uZmlyc3RSb3cpKXJldHVybiAxLzA9PT10Pyh0aGlzLiRzaG93R3V0dGVyJiZ0aGlzLiRndXR0ZXJMYXllci51cGRhdGUobiksdm9pZCB0aGlzLiR0ZXh0TGF5ZXIudXBkYXRlKG4pKToodGhpcy4kdGV4dExheWVyLnVwZGF0ZUxpbmVzKG4sZSx0KSwhMCl9LHRoaXMuJGdldExvbmdlc3RMaW5lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZXNzaW9uLmdldFNjcmVlbldpZHRoKCk7cmV0dXJuIHRoaXMuc2hvd0ludmlzaWJsZXMmJiF0aGlzLnNlc3Npb24uJHVzZVdyYXBNb2RlJiYoZSs9MSksTWF0aC5tYXgodGhpcy4kc2l6ZS5zY3JvbGxlcldpZHRoLTIqdGhpcy4kcGFkZGluZyxNYXRoLnJvdW5kKGUqdGhpcy5jaGFyYWN0ZXJXaWR0aCkpfSx0aGlzLnVwZGF0ZUZyb250TWFya2Vycz1mdW5jdGlvbigpe3RoaXMuJG1hcmtlckZyb250LnNldE1hcmtlcnModGhpcy5zZXNzaW9uLmdldE1hcmtlcnMoITApKSx0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX01BUktFUl9GUk9OVCl9LHRoaXMudXBkYXRlQmFja01hcmtlcnM9ZnVuY3Rpb24oKXt0aGlzLiRtYXJrZXJCYWNrLnNldE1hcmtlcnModGhpcy5zZXNzaW9uLmdldE1hcmtlcnMoKSksdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9NQVJLRVJfQkFDSyl9LHRoaXMuYWRkR3V0dGVyRGVjb3JhdGlvbj1mdW5jdGlvbihlLHQpe3RoaXMuJGd1dHRlckxheWVyLmFkZEd1dHRlckRlY29yYXRpb24oZSx0KX0sdGhpcy5yZW1vdmVHdXR0ZXJEZWNvcmF0aW9uPWZ1bmN0aW9uKGUsdCl7dGhpcy4kZ3V0dGVyTGF5ZXIucmVtb3ZlR3V0dGVyRGVjb3JhdGlvbihlLHQpfSx0aGlzLnVwZGF0ZUJyZWFrcG9pbnRzPWZ1bmN0aW9uKCl7dGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9HVVRURVIpfSx0aGlzLnNldEFubm90YXRpb25zPWZ1bmN0aW9uKGUpe3RoaXMuJGd1dHRlckxheWVyLnNldEFubm90YXRpb25zKGUpLHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfR1VUVEVSKX0sdGhpcy51cGRhdGVDdXJzb3I9ZnVuY3Rpb24oKXt0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0NVUlNPUil9LHRoaXMuaGlkZUN1cnNvcj1mdW5jdGlvbigpe3RoaXMuJGN1cnNvckxheWVyLmhpZGVDdXJzb3IoKX0sdGhpcy5zaG93Q3Vyc29yPWZ1bmN0aW9uKCl7dGhpcy4kY3Vyc29yTGF5ZXIuc2hvd0N1cnNvcigpfSx0aGlzLnNjcm9sbFNlbGVjdGlvbkludG9WaWV3PWZ1bmN0aW9uKGUsdCxuKXt0aGlzLnNjcm9sbEN1cnNvckludG9WaWV3KGUsbiksdGhpcy5zY3JvbGxDdXJzb3JJbnRvVmlldyh0LG4pfSx0aGlzLnNjcm9sbEN1cnNvckludG9WaWV3PWZ1bmN0aW9uKGUsdCxuKXtpZigwIT09dGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodCl7dmFyIHI9dGhpcy4kY3Vyc29yTGF5ZXIuZ2V0UGl4ZWxQb3NpdGlvbihlKSxpPXIubGVmdCxzPXIudG9wLG89biYmbi50b3B8fDAsdT1uJiZuLmJvdHRvbXx8MCxhPXRoaXMuJHNjcm9sbEFuaW1hdGlvbj90aGlzLnNlc3Npb24uZ2V0U2Nyb2xsVG9wKCk6dGhpcy5zY3JvbGxUb3A7YStvPnM/KHQmJihzLT10KnRoaXMuJHNpemUuc2Nyb2xsZXJIZWlnaHQpLDA9PT1zJiYocz0tdGhpcy5zY3JvbGxNYXJnaW4udG9wKSx0aGlzLnNlc3Npb24uc2V0U2Nyb2xsVG9wKHMpKTphK3RoaXMuJHNpemUuc2Nyb2xsZXJIZWlnaHQtdTxzK3RoaXMubGluZUhlaWdodCYmKHQmJihzKz10KnRoaXMuJHNpemUuc2Nyb2xsZXJIZWlnaHQpLHRoaXMuc2Vzc2lvbi5zZXRTY3JvbGxUb3Aocyt0aGlzLmxpbmVIZWlnaHQtdGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodCkpO3ZhciBmPXRoaXMuc2Nyb2xsTGVmdDtmPmk/KGk8dGhpcy4kcGFkZGluZysyKnRoaXMubGF5ZXJDb25maWcuY2hhcmFjdGVyV2lkdGgmJihpPS10aGlzLnNjcm9sbE1hcmdpbi5sZWZ0KSx0aGlzLnNlc3Npb24uc2V0U2Nyb2xsTGVmdChpKSk6Zit0aGlzLiRzaXplLnNjcm9sbGVyV2lkdGg8aSt0aGlzLmNoYXJhY3RlcldpZHRoP3RoaXMuc2Vzc2lvbi5zZXRTY3JvbGxMZWZ0KE1hdGgucm91bmQoaSt0aGlzLmNoYXJhY3RlcldpZHRoLXRoaXMuJHNpemUuc2Nyb2xsZXJXaWR0aCkpOmY8PXRoaXMuJHBhZGRpbmcmJmktZjx0aGlzLmNoYXJhY3RlcldpZHRoJiZ0aGlzLnNlc3Npb24uc2V0U2Nyb2xsTGVmdCgwKX19LHRoaXMuZ2V0U2Nyb2xsVG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2Vzc2lvbi5nZXRTY3JvbGxUb3AoKX0sdGhpcy5nZXRTY3JvbGxMZWZ0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2Vzc2lvbi5nZXRTY3JvbGxMZWZ0KCl9LHRoaXMuZ2V0U2Nyb2xsVG9wUm93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2Nyb2xsVG9wL3RoaXMubGluZUhlaWdodH0sdGhpcy5nZXRTY3JvbGxCb3R0b21Sb3c9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5tYXgoMCxNYXRoLmZsb29yKCh0aGlzLnNjcm9sbFRvcCt0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0KS90aGlzLmxpbmVIZWlnaHQpLTEpfSx0aGlzLnNjcm9sbFRvUm93PWZ1bmN0aW9uKGUpe3RoaXMuc2Vzc2lvbi5zZXRTY3JvbGxUb3AoZSp0aGlzLmxpbmVIZWlnaHQpfSx0aGlzLmFsaWduQ3Vyc29yPWZ1bmN0aW9uKGUsdCl7Im51bWJlciI9PXR5cGVvZiBlJiYoZT17cm93OmUsY29sdW1uOjB9KTt2YXIgbj10aGlzLiRjdXJzb3JMYXllci5nZXRQaXhlbFBvc2l0aW9uKGUpLHI9dGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodC10aGlzLmxpbmVIZWlnaHQsaT1uLnRvcC1yKih0fHwwKTtyZXR1cm4gdGhpcy5zZXNzaW9uLnNldFNjcm9sbFRvcChpKSxpfSx0aGlzLlNURVBTPTgsdGhpcy4kY2FsY1N0ZXBzPWZ1bmN0aW9uKGUsdCl7dmFyIG49MCxyPXRoaXMuU1RFUFMsaT1bXSxzPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbiooTWF0aC5wb3coZS0xLDMpKzEpK3R9O2ZvcihuPTA7cj5uOysrbilpLnB1c2gocyhuL3RoaXMuU1RFUFMsZSx0LWUpKTtyZXR1cm4gaX0sdGhpcy5zY3JvbGxUb0xpbmU9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9dGhpcy4kY3Vyc29yTGF5ZXIuZ2V0UGl4ZWxQb3NpdGlvbih7cm93OmUsY29sdW1uOjB9KSxzPWkudG9wO3QmJihzLT10aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0LzIpO3ZhciBvPXRoaXMuc2Nyb2xsVG9wO3RoaXMuc2Vzc2lvbi5zZXRTY3JvbGxUb3AocyksbiE9PSExJiZ0aGlzLmFuaW1hdGVTY3JvbGxpbmcobyxyKX0sdGhpcy5hbmltYXRlU2Nyb2xsaW5nPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5zY3JvbGxUb3A7aWYodGhpcy4kYW5pbWF0ZWRTY3JvbGwpe3ZhciByPXRoaXM7aWYoZSE9bil7aWYodGhpcy4kc2Nyb2xsQW5pbWF0aW9uKXt2YXIgaT10aGlzLiRzY3JvbGxBbmltYXRpb24uc3RlcHM7aWYoaS5sZW5ndGgmJihlPWlbMF0sZT09bikpcmV0dXJufXZhciBzPXIuJGNhbGNTdGVwcyhlLG4pO3RoaXMuJHNjcm9sbEFuaW1hdGlvbj17ZnJvbTplLHRvOm4sc3RlcHM6c30sY2xlYXJJbnRlcnZhbCh0aGlzLiR0aW1lciksci5zZXNzaW9uLnNldFNjcm9sbFRvcChzLnNoaWZ0KCkpLHIuc2Vzc2lvbi4kc2Nyb2xsVG9wPW4sdGhpcy4kdGltZXI9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtzLmxlbmd0aD8oci5zZXNzaW9uLnNldFNjcm9sbFRvcChzLnNoaWZ0KCkpLHIuc2Vzc2lvbi4kc2Nyb2xsVG9wPW4pOm51bGwhPW4/KHIuc2Vzc2lvbi4kc2Nyb2xsVG9wPS0xLHIuc2Vzc2lvbi5zZXRTY3JvbGxUb3Aobiksbj1udWxsKTooci4kdGltZXI9Y2xlYXJJbnRlcnZhbChyLiR0aW1lciksci4kc2Nyb2xsQW5pbWF0aW9uPW51bGwsdCYmdCgpKX0sMTApfX19LHRoaXMuc2Nyb2xsVG9ZPWZ1bmN0aW9uKGUpe3RoaXMuc2Nyb2xsVG9wIT09ZSYmKHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfU0NST0xMKSx0aGlzLnNjcm9sbFRvcD1lKX0sdGhpcy5zY3JvbGxUb1g9ZnVuY3Rpb24oZSl7dGhpcy5zY3JvbGxMZWZ0IT09ZSYmKHRoaXMuc2Nyb2xsTGVmdD1lKSx0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0hfU0NST0xMKX0sdGhpcy5zY3JvbGxUbz1mdW5jdGlvbihlLHQpe3RoaXMuc2Vzc2lvbi5zZXRTY3JvbGxUb3AodCksdGhpcy5zZXNzaW9uLnNldFNjcm9sbExlZnQodCl9LHRoaXMuc2Nyb2xsQnk9ZnVuY3Rpb24oZSx0KXt0JiZ0aGlzLnNlc3Npb24uc2V0U2Nyb2xsVG9wKHRoaXMuc2Vzc2lvbi5nZXRTY3JvbGxUb3AoKSt0KSxlJiZ0aGlzLnNlc3Npb24uc2V0U2Nyb2xsTGVmdCh0aGlzLnNlc3Npb24uZ2V0U2Nyb2xsTGVmdCgpK2UpfSx0aGlzLmlzU2Nyb2xsYWJsZUJ5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA+dCYmdGhpcy5zZXNzaW9uLmdldFNjcm9sbFRvcCgpPj0xLXRoaXMuc2Nyb2xsTWFyZ2luLnRvcD8hMDp0PjAmJnRoaXMuc2Vzc2lvbi5nZXRTY3JvbGxUb3AoKSt0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0LXRoaXMubGF5ZXJDb25maWcubWF4SGVpZ2h0LSh0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0LXRoaXMubGluZUhlaWdodCkqdGhpcy4kc2Nyb2xsUGFzdEVuZDwtMSt0aGlzLnNjcm9sbE1hcmdpbi5ib3R0b20/ITA6MD5lJiZ0aGlzLnNlc3Npb24uZ2V0U2Nyb2xsTGVmdCgpPj0xLXRoaXMuc2Nyb2xsTWFyZ2luLmxlZnQ/ITA6ZT4wJiZ0aGlzLnNlc3Npb24uZ2V0U2Nyb2xsTGVmdCgpK3RoaXMuJHNpemUuc2Nyb2xsZXJXaWR0aC10aGlzLmxheWVyQ29uZmlnLndpZHRoPC0xK3RoaXMuc2Nyb2xsTWFyZ2luLnJpZ2h0PyEwOnZvaWQgMH0sdGhpcy5waXhlbFRvU2NyZWVuQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLnNjcm9sbGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHI9KGUrdGhpcy5zY3JvbGxMZWZ0LW4ubGVmdC10aGlzLiRwYWRkaW5nKS90aGlzLmNoYXJhY3RlcldpZHRoLGk9TWF0aC5mbG9vcigodCt0aGlzLnNjcm9sbFRvcC1uLnRvcCkvdGhpcy5saW5lSGVpZ2h0KSxzPU1hdGgucm91bmQocik7cmV0dXJue3JvdzppLGNvbHVtbjpzLHNpZGU6ci1zPjA/MTotMX19LHRoaXMuc2NyZWVuVG9UZXh0Q29vcmRpbmF0ZXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLnNjcm9sbGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHI9TWF0aC5yb3VuZCgoZSt0aGlzLnNjcm9sbExlZnQtbi5sZWZ0LXRoaXMuJHBhZGRpbmcpL3RoaXMuY2hhcmFjdGVyV2lkdGgpLGk9KHQrdGhpcy5zY3JvbGxUb3Atbi50b3ApL3RoaXMubGluZUhlaWdodDtyZXR1cm4gdGhpcy5zZXNzaW9uLnNjcmVlblRvRG9jdW1lbnRQb3NpdGlvbihpLE1hdGgubWF4KHIsMCkpfSx0aGlzLnRleHRUb1NjcmVlbkNvb3JkaW5hdGVzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5zY3JvbGxlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxyPXRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24oZSx0KSxpPXRoaXMuJHBhZGRpbmcrTWF0aC5yb3VuZChyLmNvbHVtbip0aGlzLmNoYXJhY3RlcldpZHRoKSxzPXIucm93KnRoaXMubGluZUhlaWdodDtyZXR1cm57cGFnZVg6bi5sZWZ0K2ktdGhpcy5zY3JvbGxMZWZ0LHBhZ2VZOm4udG9wK3MtdGhpcy5zY3JvbGxUb3B9fSx0aGlzLnZpc3VhbGl6ZUZvY3VzPWZ1bmN0aW9uKCl7aS5hZGRDc3NDbGFzcyh0aGlzLmNvbnRhaW5lciwiYWNlX2ZvY3VzIil9LHRoaXMudmlzdWFsaXplQmx1cj1mdW5jdGlvbigpe2kucmVtb3ZlQ3NzQ2xhc3ModGhpcy5jb250YWluZXIsImFjZV9mb2N1cyIpfSx0aGlzLnNob3dDb21wb3NpdGlvbj1mdW5jdGlvbigpe3RoaXMuJGNvbXBvc2l0aW9ufHwodGhpcy4kY29tcG9zaXRpb249e2tlZXBUZXh0QXJlYUF0Q3Vyc29yOnRoaXMuJGtlZXBUZXh0QXJlYUF0Q3Vyc29yLGNzc1RleHQ6dGhpcy50ZXh0YXJlYS5zdHlsZS5jc3NUZXh0fSksdGhpcy4ka2VlcFRleHRBcmVhQXRDdXJzb3I9ITAsaS5hZGRDc3NDbGFzcyh0aGlzLnRleHRhcmVhLCJhY2VfY29tcG9zaXRpb24iKSx0aGlzLnRleHRhcmVhLnN0eWxlLmNzc1RleHQ9IiIsdGhpcy4kbW92ZVRleHRBcmVhVG9DdXJzb3IoKX0sdGhpcy5zZXRDb21wb3NpdGlvblRleHQ9ZnVuY3Rpb24oKXt0aGlzLiRtb3ZlVGV4dEFyZWFUb0N1cnNvcigpfSx0aGlzLmhpZGVDb21wb3NpdGlvbj1mdW5jdGlvbigpe3RoaXMuJGNvbXBvc2l0aW9uJiYoaS5yZW1vdmVDc3NDbGFzcyh0aGlzLnRleHRhcmVhLCJhY2VfY29tcG9zaXRpb24iKSx0aGlzLiRrZWVwVGV4dEFyZWFBdEN1cnNvcj10aGlzLiRjb21wb3NpdGlvbi5rZWVwVGV4dEFyZWFBdEN1cnNvcix0aGlzLnRleHRhcmVhLnN0eWxlLmNzc1RleHQ9dGhpcy4kY29tcG9zaXRpb24uY3NzVGV4dCx0aGlzLiRjb21wb3NpdGlvbj1udWxsKX0sdGhpcy5zZXRUaGVtZT1mdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG8ocil7aWYobi4kdGhlbWVJZCE9ZSlyZXR1cm4gdCYmdCgpO2lmKHIuY3NzQ2xhc3Mpe2kuaW1wb3J0Q3NzU3RyaW5nKHIuY3NzVGV4dCxyLmNzc0NsYXNzLG4uY29udGFpbmVyLm93bmVyRG9jdW1lbnQpLG4udGhlbWUmJmkucmVtb3ZlQ3NzQ2xhc3Mobi5jb250YWluZXIsbi50aGVtZS5jc3NDbGFzcyk7dmFyIHM9InBhZGRpbmciaW4gcj9yLnBhZGRpbmc6InBhZGRpbmciaW4obi50aGVtZXx8e30pPzQ6bi4kcGFkZGluZztuLiRwYWRkaW5nJiZzIT1uLiRwYWRkaW5nJiZuLnNldFBhZGRpbmcocyksbi4kdGhlbWU9ci5jc3NDbGFzcyxuLnRoZW1lPXIsaS5hZGRDc3NDbGFzcyhuLmNvbnRhaW5lcixyLmNzc0NsYXNzKSxpLnNldENzc0NsYXNzKG4uY29udGFpbmVyLCJhY2VfZGFyayIsci5pc0RhcmspLG4uJHNpemUmJihuLiRzaXplLndpZHRoPTAsbi4kdXBkYXRlU2l6ZUFzeW5jKCkpLG4uX2Rpc3BhdGNoRXZlbnQoInRoZW1lTG9hZGVkIix7dGhlbWU6cn0pLHQmJnQoKX19dmFyIG49dGhpcztpZih0aGlzLiR0aGVtZUlkPWUsbi5fZGlzcGF0Y2hFdmVudCgidGhlbWVDaGFuZ2UiLHt0aGVtZTplfSksZSYmInN0cmluZyIhPXR5cGVvZiBlKW8oZSk7ZWxzZXt2YXIgcj1lfHx0aGlzLiRvcHRpb25zLnRoZW1lLmluaXRpYWxWYWx1ZTtzLmxvYWRNb2R1bGUoWyJ0aGVtZSIscl0sbyl9fSx0aGlzLmdldFRoZW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHRoZW1lSWR9LHRoaXMuc2V0U3R5bGU9ZnVuY3Rpb24oZSx0KXtpLnNldENzc0NsYXNzKHRoaXMuY29udGFpbmVyLGUsdCE9PSExKX0sdGhpcy51bnNldFN0eWxlPWZ1bmN0aW9uKGUpe2kucmVtb3ZlQ3NzQ2xhc3ModGhpcy5jb250YWluZXIsZSl9LHRoaXMuc2V0Q3Vyc29yU3R5bGU9ZnVuY3Rpb24oZSl7dGhpcy5jb250ZW50LnN0eWxlLmN1cnNvciE9ZSYmKHRoaXMuY29udGVudC5zdHlsZS5jdXJzb3I9ZSl9LHRoaXMuc2V0TW91c2VDdXJzb3I9ZnVuY3Rpb24oZSl7dGhpcy5jb250ZW50LnN0eWxlLmN1cnNvcj1lfSx0aGlzLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLiR0ZXh0TGF5ZXIuZGVzdHJveSgpLHRoaXMuJGN1cnNvckxheWVyLmRlc3Ryb3koKX19KS5jYWxsKG0ucHJvdG90eXBlKSxzLmRlZmluZU9wdGlvbnMobS5wcm90b3R5cGUsInJlbmRlcmVyIix7YW5pbWF0ZWRTY3JvbGw6e2luaXRpYWxWYWx1ZTohMX0sc2hvd0ludmlzaWJsZXM6e3NldDpmdW5jdGlvbihlKXt0aGlzLiR0ZXh0TGF5ZXIuc2V0U2hvd0ludmlzaWJsZXMoZSkmJnRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfVEVYVCl9LGluaXRpYWxWYWx1ZTohMX0sc2hvd1ByaW50TWFyZ2luOntzZXQ6ZnVuY3Rpb24oKXt0aGlzLiR1cGRhdGVQcmludE1hcmdpbigpfSxpbml0aWFsVmFsdWU6ITB9LHByaW50TWFyZ2luQ29sdW1uOntzZXQ6ZnVuY3Rpb24oKXt0aGlzLiR1cGRhdGVQcmludE1hcmdpbigpfSxpbml0aWFsVmFsdWU6ODB9LHByaW50TWFyZ2luOntzZXQ6ZnVuY3Rpb24oZSl7Im51bWJlciI9PXR5cGVvZiBlJiYodGhpcy4kcHJpbnRNYXJnaW5Db2x1bW49ZSksdGhpcy4kc2hvd1ByaW50TWFyZ2luPSEhZSx0aGlzLiR1cGRhdGVQcmludE1hcmdpbigpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kc2hvd1ByaW50TWFyZ2luJiZ0aGlzLiRwcmludE1hcmdpbkNvbHVtbn19LHNob3dHdXR0ZXI6e3NldDpmdW5jdGlvbihlKXt0aGlzLiRndXR0ZXIuc3R5bGUuZGlzcGxheT1lPyJibG9jayI6Im5vbmUiLHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfRlVMTCksdGhpcy5vbkd1dHRlclJlc2l6ZSgpfSxpbml0aWFsVmFsdWU6ITB9LGZhZGVGb2xkV2lkZ2V0czp7c2V0OmZ1bmN0aW9uKGUpe2kuc2V0Q3NzQ2xhc3ModGhpcy4kZ3V0dGVyLCJhY2VfZmFkZS1mb2xkLXdpZGdldHMiLGUpfSxpbml0aWFsVmFsdWU6ITF9LHNob3dGb2xkV2lkZ2V0czp7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuJGd1dHRlckxheWVyLnNldFNob3dGb2xkV2lkZ2V0cyhlKX0saW5pdGlhbFZhbHVlOiEwfSxzaG93TGluZU51bWJlcnM6e3NldDpmdW5jdGlvbihlKXt0aGlzLiRndXR0ZXJMYXllci5zZXRTaG93TGluZU51bWJlcnMoZSksdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9HVVRURVIpfSxpbml0aWFsVmFsdWU6ITB9LGRpc3BsYXlJbmRlbnRHdWlkZXM6e3NldDpmdW5jdGlvbihlKXt0aGlzLiR0ZXh0TGF5ZXIuc2V0RGlzcGxheUluZGVudEd1aWRlcyhlKSYmdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9URVhUKX0saW5pdGlhbFZhbHVlOiEwfSxoaWdobGlnaHRHdXR0ZXJMaW5lOntzZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuJGd1dHRlckxpbmVIaWdobGlnaHQ/KHRoaXMuJGd1dHRlckxpbmVIaWdobGlnaHQuc3R5bGUuZGlzcGxheT1lPyIiOiJub25lIix2b2lkKHRoaXMuJGN1cnNvckxheWVyLiRwaXhlbFBvcyYmdGhpcy4kdXBkYXRlR3V0dGVyTGluZUhpZ2hsaWdodCgpKSk6KHRoaXMuJGd1dHRlckxpbmVIaWdobGlnaHQ9aS5jcmVhdGVFbGVtZW50KCJkaXYiKSx0aGlzLiRndXR0ZXJMaW5lSGlnaGxpZ2h0LmNsYXNzTmFtZT0iYWNlX2d1dHRlci1hY3RpdmUtbGluZSIsdGhpcy4kZ3V0dGVyLmFwcGVuZENoaWxkKHRoaXMuJGd1dHRlckxpbmVIaWdobGlnaHQpLHZvaWQgMCl9LGluaXRpYWxWYWx1ZTohMSx2YWx1ZTohMH0saFNjcm9sbEJhckFsd2F5c1Zpc2libGU6e3NldDpmdW5jdGlvbigpeyghdGhpcy4kaFNjcm9sbEJhckFsd2F5c1Zpc2libGV8fCF0aGlzLiRob3JpelNjcm9sbCkmJnRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfU0NST0xMKX0saW5pdGlhbFZhbHVlOiExfSx2U2Nyb2xsQmFyQWx3YXlzVmlzaWJsZTp7c2V0OmZ1bmN0aW9uKCl7KCF0aGlzLiR2U2Nyb2xsQmFyQWx3YXlzVmlzaWJsZXx8IXRoaXMuJHZTY3JvbGwpJiZ0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX1NDUk9MTCl9LGluaXRpYWxWYWx1ZTohMX0sZm9udFNpemU6e3NldDpmdW5jdGlvbihlKXsibnVtYmVyIj09dHlwZW9mIGUmJihlKz0icHgiKSx0aGlzLmNvbnRhaW5lci5zdHlsZS5mb250U2l6ZT1lLHRoaXMudXBkYXRlRm9udFNpemUoKX0saW5pdGlhbFZhbHVlOjEyfSxmb250RmFtaWx5OntzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5jb250YWluZXIuc3R5bGUuZm9udEZhbWlseT1lLHRoaXMudXBkYXRlRm9udFNpemUoKX19LG1heExpbmVzOntzZXQ6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZUZ1bGwoKX19LG1pbkxpbmVzOntzZXQ6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZUZ1bGwoKX19LHNjcm9sbFBhc3RFbmQ6e3NldDpmdW5jdGlvbihlKXtlPStlfHwwLHRoaXMuJHNjcm9sbFBhc3RFbmQhPWUmJih0aGlzLiRzY3JvbGxQYXN0RW5kPWUsdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9TQ1JPTEwpKX0saW5pdGlhbFZhbHVlOjAsaGFuZGxlc1NldDohMH0sZml4ZWRXaWR0aEd1dHRlcjp7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuJGd1dHRlckxheWVyLiRmaXhlZFdpZHRoPSEhZSx0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0dVVFRFUil9fSx0aGVtZTp7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuc2V0VGhlbWUoZSl9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiR0aGVtZUlkfHx0aGlzLnRoZW1lfSxpbml0aWFsVmFsdWU6Ii4vdGhlbWUvdGV4dG1hdGUiLGhhbmRsZXNTZXQ6ITB9fSksdC5WaXJ0dWFsUmVuZGVyZXI9bX0pLGRlZmluZSgiYWNlL2NvbmZpZyIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvbGFuZyIsImFjZS9saWIvb29wIiwiYWNlL2xpYi9uZXQiLCJhY2UvbGliL2V2ZW50X2VtaXR0ZXIiXSxmdW5jdGlvbihlLHQsbil7Im5vIHVzZSBzdHJpY3QiO2Z1bmN0aW9uIGYocil7aWYoYS5wYWNrYWdlZD1yfHxlLnBhY2thZ2VkfHxuLnBhY2thZ2VkfHx1LmRlZmluZSYmZGVmaW5lLnBhY2thZ2VkLCF1LmRvY3VtZW50KXJldHVybiIiO2Zvcih2YXIgaT17fSxzPSIiLG89ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLGY9MDtmPG8ubGVuZ3RoO2YrKyl7dmFyIGM9b1tmXSxoPWMuc3JjfHxjLmdldEF0dHJpYnV0ZSgic3JjIik7aWYoaCl7Zm9yKHZhciBwPWMuYXR0cmlidXRlcyxkPTAsdj1wLmxlbmd0aDt2PmQ7ZCsrKXt2YXIgbT1wW2RdOzA9PT1tLm5hbWUuaW5kZXhPZigiZGF0YS1hY2UtIikmJihpW2wobS5uYW1lLnJlcGxhY2UoL15kYXRhLWFjZS0vLCIiKSldPW0udmFsdWUpfXZhciBnPWgubWF0Y2goL14oLiopXC9hY2UoXC1cdyspP1wuanMoXD98JCkvKTtnJiYocz1nWzFdKX19cyYmKGkuYmFzZT1pLmJhc2V8fHMsaS5wYWNrYWdlZD0hMCksaS5iYXNlUGF0aD1pLmJhc2UsaS53b3JrZXJQYXRoPWkud29ya2VyUGF0aHx8aS5iYXNlLGkubW9kZVBhdGg9aS5tb2RlUGF0aHx8aS5iYXNlLGkudGhlbWVQYXRoPWkudGhlbWVQYXRofHxpLmJhc2UsZGVsZXRlIGkuYmFzZTtmb3IodmFyIHkgaW4gaSkidW5kZWZpbmVkIiE9dHlwZW9mIGlbeV0mJnQuc2V0KHksaVt5XSl9ZnVuY3Rpb24gbChlKXtyZXR1cm4gZS5yZXBsYWNlKC8tKC4pL2csZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfSl9dmFyIHI9ZSgiLi9saWIvbGFuZyIpLGk9ZSgiLi9saWIvb29wIikscz1lKCIuL2xpYi9uZXQiKSxvPWUoIi4vbGliL2V2ZW50X2VtaXR0ZXIiKS5FdmVudEVtaXR0ZXIsdT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpLGE9e3BhY2thZ2VkOiExLHdvcmtlclBhdGg6bnVsbCxtb2RlUGF0aDpudWxsLHRoZW1lUGF0aDpudWxsLGJhc2VQYXRoOiIiLHN1ZmZpeDoiLmpzIiwkbW9kdWxlVXJsczp7fX07dC5nZXQ9ZnVuY3Rpb24oZSl7aWYoIWEuaGFzT3duUHJvcGVydHkoZSkpdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGNvbmZpZyBrZXk6ICIrZSk7cmV0dXJuIGFbZV19LHQuc2V0PWZ1bmN0aW9uKGUsdCl7aWYoIWEuaGFzT3duUHJvcGVydHkoZSkpdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGNvbmZpZyBrZXk6ICIrZSk7YVtlXT10fSx0LmFsbD1mdW5jdGlvbigpe3JldHVybiByLmNvcHlPYmplY3QoYSl9LGkuaW1wbGVtZW50KHQsbyksdC5tb2R1bGVVcmw9ZnVuY3Rpb24oZSx0KXtpZihhLiRtb2R1bGVVcmxzW2VdKXJldHVybiBhLiRtb2R1bGVVcmxzW2VdO3ZhciBuPWUuc3BsaXQoIi8iKTt0PXR8fG5bbi5sZW5ndGgtMl18fCIiO3ZhciByPSJzbmlwcGV0cyI9PXQ/Ii8iOiItIixpPW5bbi5sZW5ndGgtMV07aWYoIi0iPT1yKXt2YXIgcz1uZXcgUmVnRXhwKCJeIit0KyJbXFwtX118W1xcLV9dIit0KyIkIiwiZyIpO2k9aS5yZXBsYWNlKHMsIiIpfSghaXx8aT09dCkmJm4ubGVuZ3RoPjEmJihpPW5bbi5sZW5ndGgtMl0pO3ZhciBvPWFbdCsiUGF0aCJdO3JldHVybiBudWxsPT1vP289YS5iYXNlUGF0aDoiLyI9PXImJih0PXI9IiIpLG8mJiIvIiE9by5zbGljZSgtMSkmJihvKz0iLyIpLG8rdCtyK2krdGhpcy5nZXQoInN1ZmZpeCIpfSx0LnNldE1vZHVsZVVybD1mdW5jdGlvbihlLHQpe3JldHVybiBhLiRtb2R1bGVVcmxzW2VdPXR9LHQuJGxvYWRpbmc9e30sdC5sb2FkTW9kdWxlPWZ1bmN0aW9uKG4scil7dmFyIGksbztBcnJheS5pc0FycmF5KG4pJiYobz1uWzBdLG49blsxXSk7dHJ5e2k9ZShuKX1jYXRjaCh1KXt9aWYoaSYmIXQuJGxvYWRpbmdbbl0pcmV0dXJuIHImJnIoaSk7aWYodC4kbG9hZGluZ1tuXXx8KHQuJGxvYWRpbmdbbl09W10pLHQuJGxvYWRpbmdbbl0ucHVzaChyKSwhKHQuJGxvYWRpbmdbbl0ubGVuZ3RoPjEpKXt2YXIgYT1mdW5jdGlvbigpe2UoW25dLGZ1bmN0aW9uKGUpe3QuX2VtaXQoImxvYWQubW9kdWxlIix7bmFtZTpuLG1vZHVsZTplfSk7dmFyIHI9dC4kbG9hZGluZ1tuXTt0LiRsb2FkaW5nW25dPW51bGwsci5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QmJnQoZSl9KX0pfTtyZXR1cm4gdC5nZXQoInBhY2thZ2VkIik/dm9pZCBzLmxvYWRTY3JpcHQodC5tb2R1bGVVcmwobixvKSxhKTphKCl9fSxmKCEwKSx0LmluaXQ9Zjt2YXIgYz17c2V0T3B0aW9uczpmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3RoaXMuc2V0T3B0aW9uKHQsZVt0XSl9LHRoaXMpfSxnZXRPcHRpb25zOmZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBlP0FycmF5LmlzQXJyYXkoZSl8fCh0PWUsZT1PYmplY3Qua2V5cyh0KSk6ZT1PYmplY3Qua2V5cyh0aGlzLiRvcHRpb25zKSxlLmZvckVhY2goZnVuY3Rpb24oZSl7dFtlXT10aGlzLmdldE9wdGlvbihlKX0sdGhpcyksdH0sc2V0T3B0aW9uOmZ1bmN0aW9uKGUsdCl7aWYodGhpc1siJCIrZV0hPT10KXt2YXIgbj10aGlzLiRvcHRpb25zW2VdO3JldHVybiBuP24uZm9yd2FyZFRvP3RoaXNbbi5mb3J3YXJkVG9dJiZ0aGlzW24uZm9yd2FyZFRvXS5zZXRPcHRpb24oZSx0KToobi5oYW5kbGVzU2V0fHwodGhpc1siJCIrZV09dCksdm9pZChuJiZuLnNldCYmbi5zZXQuY2FsbCh0aGlzLHQpKSk6dm9pZCgidW5kZWZpbmVkIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKCdtaXNzcGVsbGVkIG9wdGlvbiAiJytlKyciJykpfX0sZ2V0T3B0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuJG9wdGlvbnNbZV07cmV0dXJuIHQ/dC5mb3J3YXJkVG8/dGhpc1t0LmZvcndhcmRUb10mJnRoaXNbdC5mb3J3YXJkVG9dLmdldE9wdGlvbihlKTp0JiZ0LmdldD90LmdldC5jYWxsKHRoaXMpOnRoaXNbIiQiK2VdOnZvaWQoInVuZGVmaW5lZCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybignbWlzc3BlbGxlZCBvcHRpb24gIicrZSsnIicpKX19LGg9e307dC5kZWZpbmVPcHRpb25zPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZS4kb3B0aW9uc3x8KGhbdF09ZS4kb3B0aW9ucz17fSksT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgcj1uW3RdOyJzdHJpbmciPT10eXBlb2YgciYmKHI9e2ZvcndhcmRUbzpyfSksci5uYW1lfHwoci5uYW1lPXQpLGUuJG9wdGlvbnNbci5uYW1lXT1yLCJpbml0aWFsVmFsdWUiaW4gciYmKGVbIiQiK3IubmFtZV09ci5pbml0aWFsVmFsdWUpfSksaS5pbXBsZW1lbnQoZSxjKSx0aGlzfSx0LnJlc2V0T3B0aW9ucz1mdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlLiRvcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPWUuJG9wdGlvbnNbdF07InZhbHVlImluIG4mJmUuc2V0T3B0aW9uKHQsbi52YWx1ZSl9KX0sdC5zZXREZWZhdWx0VmFsdWU9ZnVuY3Rpb24oZSxuLHIpe3ZhciBpPWhbZV18fChoW2VdPXt9KTtpW25dJiYoaS5mb3J3YXJkVG8/dC5zZXREZWZhdWx0VmFsdWUoaS5mb3J3YXJkVG8sbixyKTppW25dLnZhbHVlPXIpfSx0LnNldERlZmF1bHRWYWx1ZXM9ZnVuY3Rpb24oZSxuKXtPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3Quc2V0RGVmYXVsdFZhbHVlKGUscixuW3JdKX0pfX0pLGRlZmluZSgiYWNlL2xheWVyL2d1dHRlciIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvZG9tIiwiYWNlL2xpYi9vb3AiLCJhY2UvbGliL2xhbmciLCJhY2UvbGliL2V2ZW50X2VtaXR0ZXIiXSxmdW5jdGlvbihlLHQpe3ZhciByPWUoIi4uL2xpYi9kb20iKSxpPWUoIi4uL2xpYi9vb3AiKSxzPWUoIi4uL2xpYi9sYW5nIiksbz1lKCIuLi9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcix1PWZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudD1yLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuZWxlbWVudC5jbGFzc05hbWU9ImFjZV9sYXllciBhY2VfZ3V0dGVyLWxheWVyIixlLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCksdGhpcy5zZXRTaG93Rm9sZFdpZGdldHModGhpcy4kc2hvd0ZvbGRXaWRnZXRzKSx0aGlzLmd1dHRlcldpZHRoPTAsdGhpcy4kYW5ub3RhdGlvbnM9W10sdGhpcy4kdXBkYXRlQW5ub3RhdGlvbnM9dGhpcy4kdXBkYXRlQW5ub3RhdGlvbnMuYmluZCh0aGlzKSx0aGlzLiRjZWxscz1bXX07KGZ1bmN0aW9uKCl7aS5pbXBsZW1lbnQodGhpcyxvKSx0aGlzLnNldFNlc3Npb249ZnVuY3Rpb24oZSl7dGhpcy5zZXNzaW9uJiZ0aGlzLnNlc3Npb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2hhbmdlIix0aGlzLiR1cGRhdGVBbm5vdGF0aW9ucyksdGhpcy5zZXNzaW9uPWUsZS5vbigiY2hhbmdlIix0aGlzLiR1cGRhdGVBbm5vdGF0aW9ucyl9LHRoaXMuYWRkR3V0dGVyRGVjb3JhdGlvbj1mdW5jdGlvbihlLHQpe3dpbmRvdy5jb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybigiZGVwcmVjYXRlZCB1c2Ugc2Vzc2lvbi5hZGRHdXR0ZXJEZWNvcmF0aW9uIiksdGhpcy5zZXNzaW9uLmFkZEd1dHRlckRlY29yYXRpb24oZSx0KX0sdGhpcy5yZW1vdmVHdXR0ZXJEZWNvcmF0aW9uPWZ1bmN0aW9uKGUsdCl7d2luZG93LmNvbnNvbGUmJmNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKCJkZXByZWNhdGVkIHVzZSBzZXNzaW9uLnJlbW92ZUd1dHRlckRlY29yYXRpb24iKSx0aGlzLnNlc3Npb24ucmVtb3ZlR3V0dGVyRGVjb3JhdGlvbihlLHQpfSx0aGlzLnNldEFubm90YXRpb25zPWZ1bmN0aW9uKGUpe3RoaXMuJGFubm90YXRpb25zPVtdO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdLHI9bi5yb3csaT10aGlzLiRhbm5vdGF0aW9uc1tyXTtpfHwoaT10aGlzLiRhbm5vdGF0aW9uc1tyXT17dGV4dDpbXX0pO3ZhciBvPW4udGV4dDtvPW8/cy5lc2NhcGVIVE1MKG8pOm4uaHRtbHx8IiIsLTE9PT1pLnRleHQuaW5kZXhPZihvKSYmaS50ZXh0LnB1c2gobyk7dmFyIHU9bi50eXBlOyJlcnJvciI9PXU/aS5jbGFzc05hbWU9IiBhY2VfZXJyb3IiOiJ3YXJuaW5nIj09dSYmIiBhY2VfZXJyb3IiIT1pLmNsYXNzTmFtZT9pLmNsYXNzTmFtZT0iIGFjZV93YXJuaW5nIjoiaW5mbyI9PXUmJiFpLmNsYXNzTmFtZSYmKGkuY2xhc3NOYW1lPSIgYWNlX2luZm8iKX19LHRoaXMuJHVwZGF0ZUFubm90YXRpb25zPWZ1bmN0aW9uKGUpe2lmKHRoaXMuJGFubm90YXRpb25zLmxlbmd0aCl7dmFyIHQ9ZS5kYXRhLG49dC5yYW5nZSxyPW4uc3RhcnQucm93LGk9bi5lbmQucm93LXI7aWYoMCE9PWkpaWYoInJlbW92ZVRleHQiPT10LmFjdGlvbnx8InJlbW92ZUxpbmVzIj09dC5hY3Rpb24pdGhpcy4kYW5ub3RhdGlvbnMuc3BsaWNlKHIsaSsxLG51bGwpO2Vsc2V7dmFyIHM9bmV3IEFycmF5KGkrMSk7cy51bnNoaWZ0KHIsMSksdGhpcy4kYW5ub3RhdGlvbnMuc3BsaWNlLmFwcGx5KHRoaXMuJGFubm90YXRpb25zLHMpfX19LHRoaXMudXBkYXRlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnNlc3Npb24sbj1lLmZpcnN0Um93LGk9TWF0aC5taW4oZS5sYXN0Um93K2UuZ3V0dGVyT2Zmc2V0LHQuZ2V0TGVuZ3RoKCktMSkscz10LmdldE5leHRGb2xkTGluZShuKSxvPXM/cy5zdGFydC5yb3c6MS8wLHU9dGhpcy4kc2hvd0ZvbGRXaWRnZXRzJiZ0LmZvbGRXaWRnZXRzLGE9dC4kYnJlYWtwb2ludHMsZj10LiRkZWNvcmF0aW9ucyxsPXQuJGZpcnN0TGluZU51bWJlcixjPTAsaD10Lmd1dHRlclJlbmRlcmVyfHx0aGlzLiRyZW5kZXJlcixwPW51bGwsZD0tMSx2PW47Oyl7aWYodj5vJiYodj1zLmVuZC5yb3crMSxzPXQuZ2V0TmV4dEZvbGRMaW5lKHYscyksbz1zP3Muc3RhcnQucm93OjEvMCksdj5pKXtmb3IoO3RoaXMuJGNlbGxzLmxlbmd0aD5kKzE7KXA9dGhpcy4kY2VsbHMucG9wKCksdGhpcy5lbGVtZW50LnJlbW92ZUNoaWxkKHAuZWxlbWVudCk7YnJlYWt9cD10aGlzLiRjZWxsc1srK2RdLHB8fChwPXtlbGVtZW50Om51bGwsdGV4dE5vZGU6bnVsbCxmb2xkV2lkZ2V0Om51bGx9LHAuZWxlbWVudD1yLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHAudGV4dE5vZGU9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpLHAuZWxlbWVudC5hcHBlbmRDaGlsZChwLnRleHROb2RlKSx0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQocC5lbGVtZW50KSx0aGlzLiRjZWxsc1tkXT1wKTt2YXIgbT0iYWNlX2d1dHRlci1jZWxsICI7YVt2XSYmKG0rPWFbdl0pLGZbdl0mJihtKz1mW3ZdKSx0aGlzLiRhbm5vdGF0aW9uc1t2XSYmKG0rPXRoaXMuJGFubm90YXRpb25zW3ZdLmNsYXNzTmFtZSkscC5lbGVtZW50LmNsYXNzTmFtZSE9bSYmKHAuZWxlbWVudC5jbGFzc05hbWU9bSk7dmFyIGc9dC5nZXRSb3dMZW5ndGgodikqZS5saW5lSGVpZ2h0KyJweCI7aWYoZyE9cC5lbGVtZW50LnN0eWxlLmhlaWdodCYmKHAuZWxlbWVudC5zdHlsZS5oZWlnaHQ9ZyksdSl7dmFyIHk9dVt2XTtudWxsPT15JiYoeT11W3ZdPXQuZ2V0Rm9sZFdpZGdldCh2KSl9aWYoeSl7cC5mb2xkV2lkZ2V0fHwocC5mb2xkV2lkZ2V0PXIuY3JlYXRlRWxlbWVudCgic3BhbiIpLHAuZWxlbWVudC5hcHBlbmRDaGlsZChwLmZvbGRXaWRnZXQpKTt2YXIgbT0iYWNlX2ZvbGQtd2lkZ2V0IGFjZV8iK3k7bSs9InN0YXJ0Ij09eSYmdj09byYmdjxzLmVuZC5yb3c/IiBhY2VfY2xvc2VkIjoiIGFjZV9vcGVuIixwLmZvbGRXaWRnZXQuY2xhc3NOYW1lIT1tJiYocC5mb2xkV2lkZ2V0LmNsYXNzTmFtZT1tKTt2YXIgZz1lLmxpbmVIZWlnaHQrInB4IjtwLmZvbGRXaWRnZXQuc3R5bGUuaGVpZ2h0IT1nJiYocC5mb2xkV2lkZ2V0LnN0eWxlLmhlaWdodD1nKX1lbHNlIHAuZm9sZFdpZGdldCYmKHAuZWxlbWVudC5yZW1vdmVDaGlsZChwLmZvbGRXaWRnZXQpLHAuZm9sZFdpZGdldD1udWxsKTt2YXIgYj1jPWg/aC5nZXRUZXh0KHQsdik6ditsO2IhPXAudGV4dE5vZGUuZGF0YSYmKHAudGV4dE5vZGUuZGF0YT1iKSx2Kyt9dGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodD1lLm1pbkhlaWdodCsicHgiLCh0aGlzLiRmaXhlZFdpZHRofHx0LiR1c2VXcmFwTW9kZSkmJihjPXQuZ2V0TGVuZ3RoKCkrbCk7dmFyIHc9aD9oLmdldFdpZHRoKHQsYyxlKTpjLnRvU3RyaW5nKCkubGVuZ3RoKmUuY2hhcmFjdGVyV2lkdGgsRT10aGlzLiRwYWRkaW5nfHx0aGlzLiRjb21wdXRlUGFkZGluZygpO3crPUUubGVmdCtFLnJpZ2h0LHchPT10aGlzLmd1dHRlcldpZHRoJiYhaXNOYU4odykmJih0aGlzLmd1dHRlcldpZHRoPXcsdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoPU1hdGguY2VpbCh0aGlzLmd1dHRlcldpZHRoKSsicHgiLHRoaXMuX2VtaXQoImNoYW5nZUd1dHRlcldpZHRoIix3KSl9LHRoaXMuJGZpeGVkV2lkdGg9ITEsdGhpcy4kc2hvd0xpbmVOdW1iZXJzPSEwLHRoaXMuJHJlbmRlcmVyPSIiLHRoaXMuc2V0U2hvd0xpbmVOdW1iZXJzPWZ1bmN0aW9uKGUpe3RoaXMuJHJlbmRlcmVyPSFlJiZ7Z2V0V2lkdGg6ZnVuY3Rpb24oKXtyZXR1cm4iIn0sZ2V0VGV4dDpmdW5jdGlvbigpe3JldHVybiIifX19LHRoaXMuZ2V0U2hvd0xpbmVOdW1iZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHNob3dMaW5lTnVtYmVyc30sdGhpcy4kc2hvd0ZvbGRXaWRnZXRzPSEwLHRoaXMuc2V0U2hvd0ZvbGRXaWRnZXRzPWZ1bmN0aW9uKGUpe2U/ci5hZGRDc3NDbGFzcyh0aGlzLmVsZW1lbnQsImFjZV9mb2xkaW5nLWVuYWJsZWQiKTpyLnJlbW92ZUNzc0NsYXNzKHRoaXMuZWxlbWVudCwiYWNlX2ZvbGRpbmctZW5hYmxlZCIpLHRoaXMuJHNob3dGb2xkV2lkZ2V0cz1lLHRoaXMuJHBhZGRpbmc9bnVsbH0sdGhpcy5nZXRTaG93Rm9sZFdpZGdldHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kc2hvd0ZvbGRXaWRnZXRzfSx0aGlzLiRjb21wdXRlUGFkZGluZz1mdW5jdGlvbigpe2lmKCF0aGlzLmVsZW1lbnQuZmlyc3RDaGlsZClyZXR1cm57bGVmdDowLHJpZ2h0OjB9O3ZhciBlPXIuY29tcHV0ZWRTdHlsZSh0aGlzLmVsZW1lbnQuZmlyc3RDaGlsZCk7cmV0dXJuIHRoaXMuJHBhZGRpbmc9e30sdGhpcy4kcGFkZGluZy5sZWZ0PXBhcnNlSW50KGUucGFkZGluZ0xlZnQpKzF8fDAsdGhpcy4kcGFkZGluZy5yaWdodD1wYXJzZUludChlLnBhZGRpbmdSaWdodCl8fDAsdGhpcy4kcGFkZGluZ30sdGhpcy5nZXRSZWdpb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy4kcGFkZGluZ3x8dGhpcy4kY29tcHV0ZVBhZGRpbmcoKSxuPXRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gZS54PHQubGVmdCtuLmxlZnQ/Im1hcmtlcnMiOnRoaXMuJHNob3dGb2xkV2lkZ2V0cyYmZS54Pm4ucmlnaHQtdC5yaWdodD8iZm9sZFdpZGdldHMiOnZvaWQgMH19KS5jYWxsKHUucHJvdG90eXBlKSx0Lkd1dHRlcj11fSksZGVmaW5lKCJhY2UvbW91c2UvZHJhZ2Ryb3BfaGFuZGxlciIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvZG9tIiwiYWNlL2xpYi9ldmVudCIsImFjZS9saWIvdXNlcmFnZW50Il0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBmKGUpe2Z1bmN0aW9uIFQoZSxuKXt2YXIgcj1EYXRlLm5vdygpLGk9IW58fGUucm93IT1uLnJvdyxzPSFufHxlLmNvbHVtbiE9bi5jb2x1bW47aWYoIVN8fGl8fHMpdC4kYmxvY2tTY3JvbGxpbmcrPTEsdC5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihlKSx0LiRibG9ja1Njcm9sbGluZy09MSxTPXIseD17eDpwLHk6ZH07ZWxzZXt2YXIgbz1sKHgueCx4LnkscCxkKTtvPmE/Uz1udWxsOnItUz49dSYmKHQucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcoKSxTPW51bGwpfX1mdW5jdGlvbiBOKGUsbil7dmFyIHI9RGF0ZS5ub3coKSxpPXQucmVuZGVyZXIubGF5ZXJDb25maWcubGluZUhlaWdodCxzPXQucmVuZGVyZXIubGF5ZXJDb25maWcuY2hhcmFjdGVyV2lkdGgsdT10LnJlbmRlcmVyLnNjcm9sbGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGE9e3g6e2xlZnQ6cC11LmxlZnQscmlnaHQ6dS5yaWdodC1wfSx5Ont0b3A6ZC11LnRvcCxib3R0b206dS5ib3R0b20tZH19LGY9TWF0aC5taW4oYS54LmxlZnQsYS54LnJpZ2h0KSxsPU1hdGgubWluKGEueS50b3AsYS55LmJvdHRvbSksYz17cm93OmUucm93LGNvbHVtbjplLmNvbHVtbn07Mj49Zi9zJiYoYy5jb2x1bW4rPWEueC5sZWZ0PGEueC5yaWdodD8tMzoyKSwxPj1sL2kmJihjLnJvdys9YS55LnRvcDxhLnkuYm90dG9tPy0xOjEpO3ZhciBoPWUucm93IT1jLnJvdyx2PWUuY29sdW1uIT1jLmNvbHVtbixtPSFufHxlLnJvdyE9bi5yb3c7aHx8diYmIW0/RT9yLUU+PW8mJnQucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcoYyk6RT1yOkU9bnVsbH1mdW5jdGlvbiBDKCl7dmFyIGU9ZztnPXQucmVuZGVyZXIuc2NyZWVuVG9UZXh0Q29vcmRpbmF0ZXMocCxkKSxUKGcsZSksTihnLGUpfWZ1bmN0aW9uIGsoKXttPXQuc2VsZWN0aW9uLnRvT3JpZW50ZWRSYW5nZSgpLGg9dC5zZXNzaW9uLmFkZE1hcmtlcihtLCJhY2Vfc2VsZWN0aW9uIix0LmdldFNlbGVjdGlvblN0eWxlKCkpLHQuY2xlYXJTZWxlY3Rpb24oKSx0LmlzRm9jdXNlZCgpJiZ0LnJlbmRlcmVyLiRjdXJzb3JMYXllci5zZXRCbGlua2luZyghMSksY2xlYXJJbnRlcnZhbCh2KSx2PXNldEludGVydmFsKEMsMjApLHk9MCxpLmFkZExpc3RlbmVyKGRvY3VtZW50LCJtb3VzZW1vdmUiLE8pfWZ1bmN0aW9uIEwoKXtjbGVhckludGVydmFsKHYpLHQuc2Vzc2lvbi5yZW1vdmVNYXJrZXIoaCksaD1udWxsLHQuJGJsb2NrU2Nyb2xsaW5nKz0xLHQuc2VsZWN0aW9uLmZyb21PcmllbnRlZFJhbmdlKG0pLHQuJGJsb2NrU2Nyb2xsaW5nLT0xLHQuaXNGb2N1c2VkKCkmJiF3JiZ0LnJlbmRlcmVyLiRjdXJzb3JMYXllci5zZXRCbGlua2luZyghdC5nZXRSZWFkT25seSgpKSxtPW51bGwseT0wLEU9bnVsbCxTPW51bGwsaS5yZW1vdmVMaXN0ZW5lcihkb2N1bWVudCwibW91c2Vtb3ZlIixPKX1mdW5jdGlvbiBPKCl7bnVsbD09QSYmKEE9c2V0VGltZW91dChmdW5jdGlvbigpe251bGwhPUEmJmgmJkwoKX0sMjApKX1mdW5jdGlvbiBNKGUpe3ZhciB0PWUudHlwZXM7cmV0dXJuIXR8fEFycmF5LnByb3RvdHlwZS5zb21lLmNhbGwodCxmdW5jdGlvbihlKXtyZXR1cm4idGV4dC9wbGFpbiI9PWV8fCJUZXh0Ij09ZX0pfWZ1bmN0aW9uIF8oZSl7dmFyIHQ9WyJjb3B5IiwiY29weW1vdmUiLCJhbGwiLCJ1bmluaXRpYWxpemVkIl0sbj1bIm1vdmUiLCJjb3B5bW92ZSIsImxpbmttb3ZlIiwiYWxsIiwidW5pbml0aWFsaXplZCJdLHI9cy5pc01hYz9lLmFsdEtleTplLmN0cmxLZXksaT0idW5pbml0aWFsaXplZCI7dHJ5e2k9ZS5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZC50b0xvd2VyQ2FzZSgpfWNhdGNoKGUpe312YXIgbz0ibm9uZSI7cmV0dXJuIHImJnQuaW5kZXhPZihpKT49MD9vPSJjb3B5IjpuLmluZGV4T2YoaSk+PTA/bz0ibW92ZSI6dC5pbmRleE9mKGkpPj0wJiYobz0iY29weSIpLG99dmFyIHQ9ZS5lZGl0b3Isbj1yLmNyZWF0ZUVsZW1lbnQoImltZyIpO24uc3JjPSJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUFBQUFDSDVCQUVLQUFFQUxBQUFBQUFCQUFFQUFBSUNUQUVBT3c9PSIscy5pc09wZXJhJiYobi5zdHlsZS5jc3NUZXh0PSJ3aWR0aDoxcHg7aGVpZ2h0OjFweDtwb3NpdGlvbjpmaXhlZDt0b3A6MDtsZWZ0OjA7ei1pbmRleDoyMTQ3NDgzNjQ3O29wYWNpdHk6MDsiKTt2YXIgZj1bImRyYWdXYWl0IiwiZHJhZ1dhaXRFbmQiLCJzdGFydERyYWciLCJkcmFnUmVhZHlFbmQiLCJvbk1vdXNlRHJhZyJdO2YuZm9yRWFjaChmdW5jdGlvbih0KXtlW3RdPXRoaXNbdF19LHRoaXMpLHQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIix0aGlzLm9uTW91c2VEb3duLmJpbmQoZSkpO3ZhciBoLHAsZCx2LG0sZyxiLHcsRSxTLHgsYz10LmNvbnRhaW5lcix5PTA7dGhpcy5vbkRyYWdTdGFydD1mdW5jdGlvbihlKXtpZih0aGlzLmNhbmNlbERyYWd8fCFjLmRyYWdnYWJsZSl7dmFyIHI9dGhpcztyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3Iuc3RhcnRTZWxlY3QoKSxyLmNhcHR1cmVNb3VzZShlKX0sMCksZS5wcmV2ZW50RGVmYXVsdCgpfW09dC5nZXRTZWxlY3Rpb25SYW5nZSgpO3ZhciBpPWUuZGF0YVRyYW5zZmVyO2kuZWZmZWN0QWxsb3dlZD10LmdldFJlYWRPbmx5KCk/ImNvcHkiOiJjb3B5TW92ZSIscy5pc09wZXJhJiYodC5jb250YWluZXIuYXBwZW5kQ2hpbGQobiksbi5fdG9wPW4ub2Zmc2V0VG9wKSxpLnNldERyYWdJbWFnZSYmaS5zZXREcmFnSW1hZ2UobiwwLDApLHMuaXNPcGVyYSYmdC5jb250YWluZXIucmVtb3ZlQ2hpbGQobiksaS5jbGVhckRhdGEoKSxpLnNldERhdGEoIlRleHQiLHQuc2Vzc2lvbi5nZXRUZXh0UmFuZ2UoKSksdz0hMCx0aGlzLnNldFN0YXRlKCJkcmFnIil9LHRoaXMub25EcmFnRW5kPWZ1bmN0aW9uKGUpe2lmKGMuZHJhZ2dhYmxlPSExLHc9ITEsdGhpcy5zZXRTdGF0ZShudWxsKSwhdC5nZXRSZWFkT25seSgpKXt2YXIgbj1lLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0OyFiJiYibW92ZSI9PW4mJnQuc2Vzc2lvbi5yZW1vdmUodC5nZXRTZWxlY3Rpb25SYW5nZSgpKSx0LnJlbmRlcmVyLiRjdXJzb3JMYXllci5zZXRCbGlua2luZyghMCl9dGhpcy5lZGl0b3IudW5zZXRTdHlsZSgiYWNlX2RyYWdnaW5nIil9LHRoaXMub25EcmFnRW50ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIXQuZ2V0UmVhZE9ubHkoKSYmTShlLmRhdGFUcmFuc2Zlcik/KGh8fGsoKSx5KyssZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdD1iPV8oZSksaS5wcmV2ZW50RGVmYXVsdChlKSk6dm9pZCAwfSx0aGlzLm9uRHJhZ092ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIXQuZ2V0UmVhZE9ubHkoKSYmTShlLmRhdGFUcmFuc2Zlcik/KGh8fChrKCkseSsrKSxudWxsIT09QSYmKEE9bnVsbCkscD1lLmNsaWVudFgsZD1lLmNsaWVudFksZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdD1iPV8oZSksaS5wcmV2ZW50RGVmYXVsdChlKSk6dm9pZCAwfSx0aGlzLm9uRHJhZ0xlYXZlPWZ1bmN0aW9uKGUpe3JldHVybiB5LS0sMD49eSYmaD8oTCgpLGI9bnVsbCxpLnByZXZlbnREZWZhdWx0KGUpKTp2b2lkIDB9LHRoaXMub25Ecm9wPWZ1bmN0aW9uKGUpe2lmKGgpe3ZhciBuPWUuZGF0YVRyYW5zZmVyO2lmKHcpc3dpdGNoKGIpe2Nhc2UibW92ZSI6bT1tLmNvbnRhaW5zKGcucm93LGcuY29sdW1uKT97c3RhcnQ6ZyxlbmQ6Z306dC5tb3ZlVGV4dChtLGcpO2JyZWFrO2Nhc2UiY29weSI6bT10Lm1vdmVUZXh0KG0sZywhMCl9ZWxzZXt2YXIgcj1uLmdldERhdGEoIlRleHQiKTttPXtzdGFydDpnLGVuZDp0LnNlc3Npb24uaW5zZXJ0KGcscil9LHQuZm9jdXMoKSxiPW51bGx9cmV0dXJuIEwoKSxpLnByZXZlbnREZWZhdWx0KGUpfX0saS5hZGRMaXN0ZW5lcihjLCJkcmFnc3RhcnQiLHRoaXMub25EcmFnU3RhcnQuYmluZChlKSksaS5hZGRMaXN0ZW5lcihjLCJkcmFnZW5kIix0aGlzLm9uRHJhZ0VuZC5iaW5kKGUpKSxpLmFkZExpc3RlbmVyKGMsImRyYWdlbnRlciIsdGhpcy5vbkRyYWdFbnRlci5iaW5kKGUpKSxpLmFkZExpc3RlbmVyKGMsImRyYWdvdmVyIix0aGlzLm9uRHJhZ092ZXIuYmluZChlKSksaS5hZGRMaXN0ZW5lcihjLCJkcmFnbGVhdmUiLHRoaXMub25EcmFnTGVhdmUuYmluZChlKSksaS5hZGRMaXN0ZW5lcihjLCJkcm9wIix0aGlzLm9uRHJvcC5iaW5kKGUpKTt2YXIgQT1udWxsfWZ1bmN0aW9uIGwoZSx0LG4scil7cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhuLWUsMikrTWF0aC5wb3coci10LDIpKX12YXIgcj1lKCIuLi9saWIvZG9tIiksaT1lKCIuLi9saWIvZXZlbnQiKSxzPWUoIi4uL2xpYi91c2VyYWdlbnQiKSxvPTIwMCx1PTIwMCxhPTU7KGZ1bmN0aW9uKCl7dGhpcy5kcmFnV2FpdD1mdW5jdGlvbigpe3ZhciBlPURhdGUubm93KCktdGhpcy5tb3VzZWRvd25FdmVudC50aW1lO2U+dGhpcy5lZGl0b3IuZ2V0RHJhZ0RlbGF5KCkmJnRoaXMuc3RhcnREcmFnKCl9LHRoaXMuZHJhZ1dhaXRFbmQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVkaXRvci5jb250YWluZXI7ZS5kcmFnZ2FibGU9ITEsdGhpcy5zdGFydFNlbGVjdCh0aGlzLm1vdXNlZG93bkV2ZW50LmdldERvY3VtZW50UG9zaXRpb24oKSksdGhpcy5zZWxlY3RFbmQoKX0sdGhpcy5kcmFnUmVhZHlFbmQ9ZnVuY3Rpb24oKXt0aGlzLmVkaXRvci5yZW5kZXJlci4kY3Vyc29yTGF5ZXIuc2V0QmxpbmtpbmcoIXRoaXMuZWRpdG9yLmdldFJlYWRPbmx5KCkpLHRoaXMuZWRpdG9yLnVuc2V0U3R5bGUoImFjZV9kcmFnZ2luZyIpLHRoaXMuZHJhZ1dhaXRFbmQoKX0sdGhpcy5zdGFydERyYWc9ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbERyYWc9ITE7dmFyIGU9dGhpcy5lZGl0b3IuY29udGFpbmVyO2UuZHJhZ2dhYmxlPSEwLHRoaXMuZWRpdG9yLnJlbmRlcmVyLiRjdXJzb3JMYXllci5zZXRCbGlua2luZyghMSksdGhpcy5lZGl0b3Iuc2V0U3R5bGUoImFjZV9kcmFnZ2luZyIpLHRoaXMuc2V0U3RhdGUoImRyYWdSZWFkeSIpfSx0aGlzLm9uTW91c2VEcmFnPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lZGl0b3IuY29udGFpbmVyO2lmKHMuaXNJRSYmImRyYWdSZWFkeSI9PXRoaXMuc3RhdGUpe3ZhciBuPWwodGhpcy5tb3VzZWRvd25FdmVudC54LHRoaXMubW91c2Vkb3duRXZlbnQueSx0aGlzLngsdGhpcy55KTtuPjMmJnQuZHJhZ0Ryb3AoKX1pZigiZHJhZ1dhaXQiPT09dGhpcy5zdGF0ZSl7dmFyIG49bCh0aGlzLm1vdXNlZG93bkV2ZW50LngsdGhpcy5tb3VzZWRvd25FdmVudC55LHRoaXMueCx0aGlzLnkpO24+MCYmKHQuZHJhZ2dhYmxlPSExLHRoaXMuc3RhcnRTZWxlY3QodGhpcy5tb3VzZWRvd25FdmVudC5nZXREb2N1bWVudFBvc2l0aW9uKCkpKX19LHRoaXMub25Nb3VzZURvd249ZnVuY3Rpb24oZSl7aWYodGhpcy4kZHJhZ0VuYWJsZWQpe3RoaXMubW91c2Vkb3duRXZlbnQ9ZTt2YXIgdD10aGlzLmVkaXRvcixuPWUuaW5TZWxlY3Rpb24oKSxyPWUuZ2V0QnV0dG9uKCksaT1lLmRvbUV2ZW50LmRldGFpbHx8MTtpZigxPT09aSYmMD09PXImJm4pe2lmKGUuZWRpdG9yLmluTXVsdGlTZWxlY3RNb2RlJiYoZS5nZXRBY2NlbEtleSgpfHxlLmdldFNoaWZ0S2V5KCkpKXJldHVybjt0aGlzLm1vdXNlZG93bkV2ZW50LnRpbWU9RGF0ZS5ub3coKTt2YXIgbz1lLmRvbUV2ZW50LnRhcmdldHx8ZS5kb21FdmVudC5zcmNFbGVtZW50O2lmKCJ1bnNlbGVjdGFibGUiaW4gbyYmKG8udW5zZWxlY3RhYmxlPSJvbiIpLHQuZ2V0RHJhZ0RlbGF5KCkpe2lmKHMuaXNXZWJLaXQpe3RoaXMuY2FuY2VsRHJhZz0hMDt2YXIgdT10LmNvbnRhaW5lcjt1LmRyYWdnYWJsZT0hMH10aGlzLnNldFN0YXRlKCJkcmFnV2FpdCIpfWVsc2UgdGhpcy5zdGFydERyYWcoKTt0aGlzLmNhcHR1cmVNb3VzZShlLHRoaXMub25Nb3VzZURyYWcuYmluZCh0aGlzKSksZS5kZWZhdWx0UHJldmVudGVkPSEwfX19fSkuY2FsbChmLnByb3RvdHlwZSksdC5EcmFnZHJvcEhhbmRsZXI9Zn0pLGRlZmluZSgiYWNlL2xheWVyL21hcmtlciIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9yYW5nZSIsImFjZS9saWIvZG9tIl0sZnVuY3Rpb24oZSx0KXt2YXIgcj1lKCIuLi9yYW5nZSIpLlJhbmdlLGk9ZSgiLi4vbGliL2RvbSIpLHM9ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50PWkuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5lbGVtZW50LmNsYXNzTmFtZT0iYWNlX2xheWVyIGFjZV9tYXJrZXItbGF5ZXIiLGUuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KX07KGZ1bmN0aW9uKCl7dGhpcy4kcGFkZGluZz0wLHRoaXMuc2V0UGFkZGluZz1mdW5jdGlvbihlKXt0aGlzLiRwYWRkaW5nPWV9LHRoaXMuc2V0U2Vzc2lvbj1mdW5jdGlvbihlKXt0aGlzLnNlc3Npb249ZX0sdGhpcy5zZXRNYXJrZXJzPWZ1bmN0aW9uKGUpe3RoaXMubWFya2Vycz1lfSx0aGlzLnVwZGF0ZT1mdW5jdGlvbihlKXt2YXIgZT1lfHx0aGlzLmNvbmZpZztpZihlKXt0aGlzLmNvbmZpZz1lO3ZhciB0PVtdO2Zvcih2YXIgbiBpbiB0aGlzLm1hcmtlcnMpe3ZhciByPXRoaXMubWFya2Vyc1tuXTtpZihyLnJhbmdlKXt2YXIgcz1yLnJhbmdlLmNsaXBSb3dzKGUuZmlyc3RSb3csZS5sYXN0Um93KTtpZighcy5pc0VtcHR5KCkpaWYocz1zLnRvU2NyZWVuUmFuZ2UodGhpcy5zZXNzaW9uKSxyLnJlbmRlcmVyKXt2YXIgbz10aGlzLiRnZXRUb3Aocy5zdGFydC5yb3csZSksdT10aGlzLiRwYWRkaW5nK3Muc3RhcnQuY29sdW1uKmUuY2hhcmFjdGVyV2lkdGg7ci5yZW5kZXJlcih0LHMsdSxvLGUpfWVsc2UiZnVsbExpbmUiPT1yLnR5cGU/dGhpcy5kcmF3RnVsbExpbmVNYXJrZXIodCxzLHIuY2xhenosZSk6InNjcmVlbkxpbmUiPT1yLnR5cGU/dGhpcy5kcmF3U2NyZWVuTGluZU1hcmtlcih0LHMsci5jbGF6eixlKTpzLmlzTXVsdGlMaW5lKCk/InRleHQiPT1yLnR5cGU/dGhpcy5kcmF3VGV4dE1hcmtlcih0LHMsci5jbGF6eixlKTp0aGlzLmRyYXdNdWx0aUxpbmVNYXJrZXIodCxzLHIuY2xhenosZSk6dGhpcy5kcmF3U2luZ2xlTGluZU1hcmtlcih0LHMsci5jbGF6eisiIGFjZV9zdGFydCIsZSl9ZWxzZSByLnVwZGF0ZSh0LHRoaXMsdGhpcy5zZXNzaW9uLGUpfXRoaXMuZWxlbWVudD1pLnNldElubmVySHRtbCh0aGlzLmVsZW1lbnQsdC5qb2luKCIiKSl9fSx0aGlzLiRnZXRUb3A9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZS10LmZpcnN0Um93U2NyZWVuKSp0LmxpbmVIZWlnaHR9LHRoaXMuZHJhd1RleHRNYXJrZXI9ZnVuY3Rpb24oZSx0LG4saSxzKXt2YXIgbz10LnN0YXJ0LnJvdyx1PW5ldyByKG8sdC5zdGFydC5jb2x1bW4sbyx0aGlzLnNlc3Npb24uZ2V0U2NyZWVuTGFzdFJvd0NvbHVtbihvKSk7Zm9yKHRoaXMuZHJhd1NpbmdsZUxpbmVNYXJrZXIoZSx1LG4rIiBhY2Vfc3RhcnQiLGksMSxzKSxvPXQuZW5kLnJvdyx1PW5ldyByKG8sMCxvLHQuZW5kLmNvbHVtbiksdGhpcy5kcmF3U2luZ2xlTGluZU1hcmtlcihlLHUsbixpLDAscyksbz10LnN0YXJ0LnJvdysxO288dC5lbmQucm93O28rKyl1LnN0YXJ0LnJvdz1vLHUuZW5kLnJvdz1vLHUuZW5kLmNvbHVtbj10aGlzLnNlc3Npb24uZ2V0U2NyZWVuTGFzdFJvd0NvbHVtbihvKSx0aGlzLmRyYXdTaW5nbGVMaW5lTWFya2VyKGUsdSxuLGksMSxzKX0sdGhpcy5kcmF3TXVsdGlMaW5lTWFya2VyPWZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIHM9dGhpcy4kcGFkZGluZyxvPXIubGluZUhlaWdodCx1PXRoaXMuJGdldFRvcCh0LnN0YXJ0LnJvdyxyKSxhPXMrdC5zdGFydC5jb2x1bW4qci5jaGFyYWN0ZXJXaWR0aDtpPWl8fCIiLGUucHVzaCgiPGRpdiBjbGFzcz0nIixuLCIgYWNlX3N0YXJ0JyBzdHlsZT0nIiwiaGVpZ2h0OiIsbywicHg7IiwicmlnaHQ6MDsiLCJ0b3A6Iix1LCJweDsiLCJsZWZ0OiIsYSwicHg7IixpLCInPjwvZGl2PiIpLHU9dGhpcy4kZ2V0VG9wKHQuZW5kLnJvdyxyKTt2YXIgZj10LmVuZC5jb2x1bW4qci5jaGFyYWN0ZXJXaWR0aDtlLnB1c2goIjxkaXYgY2xhc3M9JyIsbiwiJyBzdHlsZT0nIiwiaGVpZ2h0OiIsbywicHg7Iiwid2lkdGg6IixmLCJweDsiLCJ0b3A6Iix1LCJweDsiLCJsZWZ0OiIscywicHg7IixpLCInPjwvZGl2PiIpLG89KHQuZW5kLnJvdy10LnN0YXJ0LnJvdy0xKSpyLmxpbmVIZWlnaHQsMD5vfHwodT10aGlzLiRnZXRUb3AodC5zdGFydC5yb3crMSxyKSxlLnB1c2goIjxkaXYgY2xhc3M9JyIsbiwiJyBzdHlsZT0nIiwiaGVpZ2h0OiIsbywicHg7IiwicmlnaHQ6MDsiLCJ0b3A6Iix1LCJweDsiLCJsZWZ0OiIscywicHg7IixpLCInPjwvZGl2PiIpKX0sdGhpcy5kcmF3U2luZ2xlTGluZU1hcmtlcj1mdW5jdGlvbihlLHQsbixyLGkscyl7dmFyIG89ci5saW5lSGVpZ2h0LHU9KHQuZW5kLmNvbHVtbisoaXx8MCktdC5zdGFydC5jb2x1bW4pKnIuY2hhcmFjdGVyV2lkdGgsYT10aGlzLiRnZXRUb3AodC5zdGFydC5yb3csciksZj10aGlzLiRwYWRkaW5nK3Quc3RhcnQuY29sdW1uKnIuY2hhcmFjdGVyV2lkdGg7ZS5wdXNoKCI8ZGl2IGNsYXNzPSciLG4sIicgc3R5bGU9JyIsImhlaWdodDoiLG8sInB4OyIsIndpZHRoOiIsdSwicHg7IiwidG9wOiIsYSwicHg7IiwibGVmdDoiLGYsInB4OyIsc3x8IiIsIic+PC9kaXY+Iil9LHRoaXMuZHJhd0Z1bGxMaW5lTWFya2VyPWZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIHM9dGhpcy4kZ2V0VG9wKHQuc3RhcnQucm93LHIpLG89ci5saW5lSGVpZ2h0O3Quc3RhcnQucm93IT10LmVuZC5yb3cmJihvKz10aGlzLiRnZXRUb3AodC5lbmQucm93LHIpLXMpLGUucHVzaCgiPGRpdiBjbGFzcz0nIixuLCInIHN0eWxlPSciLCJoZWlnaHQ6IixvLCJweDsiLCJ0b3A6IixzLCJweDsiLCJsZWZ0OjA7cmlnaHQ6MDsiLGl8fCIiLCInPjwvZGl2PiIpfSx0aGlzLmRyYXdTY3JlZW5MaW5lTWFya2VyPWZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIHM9dGhpcy4kZ2V0VG9wKHQuc3RhcnQucm93LHIpLG89ci5saW5lSGVpZ2h0O2UucHVzaCgiPGRpdiBjbGFzcz0nIixuLCInIHN0eWxlPSciLCJoZWlnaHQ6IixvLCJweDsiLCJ0b3A6IixzLCJweDsiLCJsZWZ0OjA7cmlnaHQ6MDsiLGl8fCIiLCInPjwvZGl2PiIpfX0pLmNhbGwocy5wcm90b3R5cGUpLHQuTWFya2VyPXN9KSxkZWZpbmUoImFjZS9tb3VzZS9tb3VzZV9ldmVudCIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvZXZlbnQiLCJhY2UvbGliL3VzZXJhZ2VudCJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSgiLi4vbGliL2V2ZW50IiksaT1lKCIuLi9saWIvdXNlcmFnZW50Iikscz10Lk1vdXNlRXZlbnQ9ZnVuY3Rpb24oZSx0KXt0aGlzLmRvbUV2ZW50PWUsdGhpcy5lZGl0b3I9dCx0aGlzLng9dGhpcy5jbGllbnRYPWUuY2xpZW50WCx0aGlzLnk9dGhpcy5jbGllbnRZPWUuY2xpZW50WSx0aGlzLiRwb3M9bnVsbCx0aGlzLiRpblNlbGVjdGlvbj1udWxsLHRoaXMucHJvcGFnYXRpb25TdG9wcGVkPSExLHRoaXMuZGVmYXVsdFByZXZlbnRlZD0hMQp9OyhmdW5jdGlvbigpe3RoaXMuc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7ci5zdG9wUHJvcGFnYXRpb24odGhpcy5kb21FdmVudCksdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ9ITB9LHRoaXMucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtyLnByZXZlbnREZWZhdWx0KHRoaXMuZG9tRXZlbnQpLHRoaXMuZGVmYXVsdFByZXZlbnRlZD0hMH0sdGhpcy5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLnByZXZlbnREZWZhdWx0KCl9LHRoaXMuZ2V0RG9jdW1lbnRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRwb3M/dGhpcy4kcG9zOih0aGlzLiRwb3M9dGhpcy5lZGl0b3IucmVuZGVyZXIuc2NyZWVuVG9UZXh0Q29vcmRpbmF0ZXModGhpcy5jbGllbnRYLHRoaXMuY2xpZW50WSksdGhpcy4kcG9zKX0sdGhpcy5pblNlbGVjdGlvbj1mdW5jdGlvbigpe2lmKG51bGwhPT10aGlzLiRpblNlbGVjdGlvbilyZXR1cm4gdGhpcy4kaW5TZWxlY3Rpb247dmFyIGU9dGhpcy5lZGl0b3IsdD1lLmdldFNlbGVjdGlvblJhbmdlKCk7aWYodC5pc0VtcHR5KCkpdGhpcy4kaW5TZWxlY3Rpb249ITE7ZWxzZXt2YXIgbj10aGlzLmdldERvY3VtZW50UG9zaXRpb24oKTt0aGlzLiRpblNlbGVjdGlvbj10LmNvbnRhaW5zKG4ucm93LG4uY29sdW1uKX1yZXR1cm4gdGhpcy4kaW5TZWxlY3Rpb259LHRoaXMuZ2V0QnV0dG9uPWZ1bmN0aW9uKCl7cmV0dXJuIHIuZ2V0QnV0dG9uKHRoaXMuZG9tRXZlbnQpfSx0aGlzLmdldFNoaWZ0S2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tRXZlbnQuc2hpZnRLZXl9LHRoaXMuZ2V0QWNjZWxLZXk9aS5pc01hYz9mdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbUV2ZW50Lm1ldGFLZXl9OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tRXZlbnQuY3RybEtleX19KS5jYWxsKHMucHJvdG90eXBlKX0pLGRlZmluZSgiYWNlL2xheWVyL3RleHQiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL29vcCIsImFjZS9saWIvZG9tIiwiYWNlL2xpYi9sYW5nIiwiYWNlL2xpYi91c2VyYWdlbnQiLCJhY2UvbGliL2V2ZW50X2VtaXR0ZXIiXSxmdW5jdGlvbihlLHQpe3ZhciByPWUoIi4uL2xpYi9vb3AiKSxpPWUoIi4uL2xpYi9kb20iKSxzPWUoIi4uL2xpYi9sYW5nIiksdT0oZSgiLi4vbGliL3VzZXJhZ2VudCIpLGUoIi4uL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyKSxhPWZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudD1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuZWxlbWVudC5jbGFzc05hbWU9ImFjZV9sYXllciBhY2VfdGV4dC1sYXllciIsZS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpLHRoaXMuJHVwZGF0ZUVvbENoYXI9dGhpcy4kdXBkYXRlRW9sQ2hhci5iaW5kKHRoaXMpfTsoZnVuY3Rpb24oKXtyLmltcGxlbWVudCh0aGlzLHUpLHRoaXMuRU9GX0NIQVI9IsK2Iix0aGlzLkVPTF9DSEFSX0xGPSLCrCIsdGhpcy5FT0xfQ0hBUl9DUkxGPSLCpCIsdGhpcy5FT0xfQ0hBUj10aGlzLkVPTF9DSEFSX0xGLHRoaXMuVEFCX0NIQVI9IuKGkiIsdGhpcy5TUEFDRV9DSEFSPSLCtyIsdGhpcy4kcGFkZGluZz0wLHRoaXMuJHVwZGF0ZUVvbENoYXI9ZnVuY3Rpb24oKXt2YXIgZT0iXG4iPT10aGlzLnNlc3Npb24uZG9jLmdldE5ld0xpbmVDaGFyYWN0ZXIoKT90aGlzLkVPTF9DSEFSX0xGOnRoaXMuRU9MX0NIQVJfQ1JMRjtyZXR1cm4gdGhpcy5FT0xfQ0hBUiE9ZT8odGhpcy5FT0xfQ0hBUj1lLCEwKTp2b2lkIDB9LHRoaXMuc2V0UGFkZGluZz1mdW5jdGlvbihlKXt0aGlzLiRwYWRkaW5nPWUsdGhpcy5lbGVtZW50LnN0eWxlLnBhZGRpbmc9IjAgIitlKyJweCJ9LHRoaXMuZ2V0TGluZUhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRmb250TWV0cmljcy4kY2hhcmFjdGVyU2l6ZS5oZWlnaHR8fDB9LHRoaXMuZ2V0Q2hhcmFjdGVyV2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZm9udE1ldHJpY3MuJGNoYXJhY3RlclNpemUud2lkdGh8fDB9LHRoaXMuJHNldEZvbnRNZXRyaWNzPWZ1bmN0aW9uKGUpe3RoaXMuJGZvbnRNZXRyaWNzPWUsdGhpcy4kZm9udE1ldHJpY3Mub24oImNoYW5nZUNoYXJhY3RlclNpemUiLGZ1bmN0aW9uKGUpe3RoaXMuX3NpZ25hbCgiY2hhbmdlQ2hhcmFjdGVyU2l6ZSIsZSl9LmJpbmQodGhpcykpLHRoaXMuJHBvbGxTaXplQ2hhbmdlcygpfSx0aGlzLmNoZWNrRm9yU2l6ZUNoYW5nZXM9ZnVuY3Rpb24oKXt0aGlzLiRmb250TWV0cmljcy5jaGVja0ZvclNpemVDaGFuZ2VzKCl9LHRoaXMuJHBvbGxTaXplQ2hhbmdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRwb2xsU2l6ZUNoYW5nZXNUaW1lcj10aGlzLiRmb250TWV0cmljcy4kcG9sbFNpemVDaGFuZ2VzKCl9LHRoaXMuc2V0U2Vzc2lvbj1mdW5jdGlvbihlKXt0aGlzLnNlc3Npb249ZSx0aGlzLiRjb21wdXRlVGFiU3RyaW5nKCl9LHRoaXMuc2hvd0ludmlzaWJsZXM9ITEsdGhpcy5zZXRTaG93SW52aXNpYmxlcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zaG93SW52aXNpYmxlcz09ZT8hMToodGhpcy5zaG93SW52aXNpYmxlcz1lLHRoaXMuJGNvbXB1dGVUYWJTdHJpbmcoKSwhMCl9LHRoaXMuZGlzcGxheUluZGVudEd1aWRlcz0hMCx0aGlzLnNldERpc3BsYXlJbmRlbnRHdWlkZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGlzcGxheUluZGVudEd1aWRlcz09ZT8hMToodGhpcy5kaXNwbGF5SW5kZW50R3VpZGVzPWUsdGhpcy4kY29tcHV0ZVRhYlN0cmluZygpLCEwKX0sdGhpcy4kdGFiU3RyaW5ncz1bXSx0aGlzLm9uQ2hhbmdlVGFiU2l6ZT10aGlzLiRjb21wdXRlVGFiU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZXNzaW9uLmdldFRhYlNpemUoKTt0aGlzLnRhYlNpemU9ZTtmb3IodmFyIHQ9dGhpcy4kdGFiU3RyaW5ncz1bMF0sbj0xO2UrMT5uO24rKyl0LnB1c2godGhpcy5zaG93SW52aXNpYmxlcz8iPHNwYW4gY2xhc3M9J2FjZV9pbnZpc2libGUnPiIrdGhpcy5UQUJfQ0hBUitzLnN0cmluZ1JlcGVhdCgiwqAiLG4tMSkrIjwvc3Bhbj4iOnMuc3RyaW5nUmVwZWF0KCLCoCIsbikpO2lmKHRoaXMuZGlzcGxheUluZGVudEd1aWRlcyl7dGhpcy4kaW5kZW50R3VpZGVSZT0vXHNcU3wgXHR8XHQgfFxzJC87dmFyIHI9ImFjZV9pbmRlbnQtZ3VpZGUiO2lmKHRoaXMuc2hvd0ludmlzaWJsZXMpe3IrPSIgYWNlX2ludmlzaWJsZSI7dmFyIGk9cy5zdHJpbmdSZXBlYXQodGhpcy5TUEFDRV9DSEFSLHRoaXMudGFiU2l6ZSksbz10aGlzLlRBQl9DSEFSK3Muc3RyaW5nUmVwZWF0KCLCoCIsdGhpcy50YWJTaXplLTEpfWVsc2UgdmFyIGk9cy5zdHJpbmdSZXBlYXQoIsKgIix0aGlzLnRhYlNpemUpLG89aTt0aGlzLiR0YWJTdHJpbmdzWyIgIl09IjxzcGFuIGNsYXNzPSciK3IrIic+IitpKyI8L3NwYW4+Iix0aGlzLiR0YWJTdHJpbmdzWyIJIl09IjxzcGFuIGNsYXNzPSciK3IrIic+IitvKyI8L3NwYW4+In19LHRoaXMudXBkYXRlTGluZXM9ZnVuY3Rpb24oZSx0LG4peyh0aGlzLmNvbmZpZy5sYXN0Um93IT1lLmxhc3RSb3d8fHRoaXMuY29uZmlnLmZpcnN0Um93IT1lLmZpcnN0Um93KSYmdGhpcy5zY3JvbGxMaW5lcyhlKSx0aGlzLmNvbmZpZz1lO2Zvcih2YXIgcj1NYXRoLm1heCh0LGUuZmlyc3RSb3cpLHM9TWF0aC5taW4obixlLmxhc3RSb3cpLG89dGhpcy5lbGVtZW50LmNoaWxkTm9kZXMsdT0wLGE9ZS5maXJzdFJvdztyPmE7YSsrKXt2YXIgZj10aGlzLnNlc3Npb24uZ2V0Rm9sZExpbmUoYSk7aWYoZil7aWYoZi5jb250YWluc1JvdyhyKSl7cj1mLnN0YXJ0LnJvdzticmVha31hPWYuZW5kLnJvd311Kyt9Zm9yKHZhciBhPXIsZj10aGlzLnNlc3Npb24uZ2V0TmV4dEZvbGRMaW5lKGEpLGw9Zj9mLnN0YXJ0LnJvdzoxLzA7YT5sJiYoYT1mLmVuZC5yb3crMSxmPXRoaXMuc2Vzc2lvbi5nZXROZXh0Rm9sZExpbmUoYSxmKSxsPWY/Zi5zdGFydC5yb3c6MS8wKSwhKGE+cyk7KXt2YXIgYz1vW3UrK107aWYoYyl7dmFyIGg9W107dGhpcy4kcmVuZGVyTGluZShoLGEsIXRoaXMuJHVzZUxpbmVHcm91cHMoKSxhPT1sP2Y6ITEpLGMuc3R5bGUuaGVpZ2h0PWUubGluZUhlaWdodCp0aGlzLnNlc3Npb24uZ2V0Um93TGVuZ3RoKGEpKyJweCIsaS5zZXRJbm5lckh0bWwoYyxoLmpvaW4oIiIpKX1hKyt9fSx0aGlzLnNjcm9sbExpbmVzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY29uZmlnO2lmKHRoaXMuY29uZmlnPWUsIXR8fHQubGFzdFJvdzxlLmZpcnN0Um93KXJldHVybiB0aGlzLnVwZGF0ZShlKTtpZihlLmxhc3RSb3c8dC5maXJzdFJvdylyZXR1cm4gdGhpcy51cGRhdGUoZSk7dmFyIG49dGhpcy5lbGVtZW50O2lmKHQuZmlyc3RSb3c8ZS5maXJzdFJvdylmb3IodmFyIHI9dGhpcy5zZXNzaW9uLmdldEZvbGRlZFJvd0NvdW50KHQuZmlyc3RSb3csZS5maXJzdFJvdy0xKTtyPjA7ci0tKW4ucmVtb3ZlQ2hpbGQobi5maXJzdENoaWxkKTtpZih0Lmxhc3RSb3c+ZS5sYXN0Um93KWZvcih2YXIgcj10aGlzLnNlc3Npb24uZ2V0Rm9sZGVkUm93Q291bnQoZS5sYXN0Um93KzEsdC5sYXN0Um93KTtyPjA7ci0tKW4ucmVtb3ZlQ2hpbGQobi5sYXN0Q2hpbGQpO2lmKGUuZmlyc3RSb3c8dC5maXJzdFJvdyl7dmFyIGk9dGhpcy4kcmVuZGVyTGluZXNGcmFnbWVudChlLGUuZmlyc3RSb3csdC5maXJzdFJvdy0xKTtuLmZpcnN0Q2hpbGQ/bi5pbnNlcnRCZWZvcmUoaSxuLmZpcnN0Q2hpbGQpOm4uYXBwZW5kQ2hpbGQoaSl9aWYoZS5sYXN0Um93PnQubGFzdFJvdyl7dmFyIGk9dGhpcy4kcmVuZGVyTGluZXNGcmFnbWVudChlLHQubGFzdFJvdysxLGUubGFzdFJvdyk7bi5hcHBlbmRDaGlsZChpKX19LHRoaXMuJHJlbmRlckxpbmVzRnJhZ21lbnQ9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj10aGlzLmVsZW1lbnQub3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscz10LG89dGhpcy5zZXNzaW9uLmdldE5leHRGb2xkTGluZShzKSx1PW8/by5zdGFydC5yb3c6MS8wO3M+dSYmKHM9by5lbmQucm93KzEsbz10aGlzLnNlc3Npb24uZ2V0TmV4dEZvbGRMaW5lKHMsbyksdT1vP28uc3RhcnQucm93OjEvMCksIShzPm4pOyl7dmFyIGE9aS5jcmVhdGVFbGVtZW50KCJkaXYiKSxmPVtdO2lmKHRoaXMuJHJlbmRlckxpbmUoZixzLCExLHM9PXU/bzohMSksYS5pbm5lckhUTUw9Zi5qb2luKCIiKSx0aGlzLiR1c2VMaW5lR3JvdXBzKCkpYS5jbGFzc05hbWU9ImFjZV9saW5lX2dyb3VwIixyLmFwcGVuZENoaWxkKGEpLGEuc3R5bGUuaGVpZ2h0PWUubGluZUhlaWdodCp0aGlzLnNlc3Npb24uZ2V0Um93TGVuZ3RoKHMpKyJweCI7ZWxzZSBmb3IoO2EuZmlyc3RDaGlsZDspci5hcHBlbmRDaGlsZChhLmZpcnN0Q2hpbGQpO3MrK31yZXR1cm4gcn0sdGhpcy51cGRhdGU9ZnVuY3Rpb24oZSl7dGhpcy5jb25maWc9ZTtmb3IodmFyIHQ9W10sbj1lLmZpcnN0Um93LHI9ZS5sYXN0Um93LHM9bixvPXRoaXMuc2Vzc2lvbi5nZXROZXh0Rm9sZExpbmUocyksdT1vP28uc3RhcnQucm93OjEvMDtzPnUmJihzPW8uZW5kLnJvdysxLG89dGhpcy5zZXNzaW9uLmdldE5leHRGb2xkTGluZShzLG8pLHU9bz9vLnN0YXJ0LnJvdzoxLzApLCEocz5yKTspdGhpcy4kdXNlTGluZUdyb3VwcygpJiZ0LnB1c2goIjxkaXYgY2xhc3M9J2FjZV9saW5lX2dyb3VwJyBzdHlsZT0naGVpZ2h0OiIsZS5saW5lSGVpZ2h0KnRoaXMuc2Vzc2lvbi5nZXRSb3dMZW5ndGgocyksInB4Jz4iKSx0aGlzLiRyZW5kZXJMaW5lKHQscywhMSxzPT11P286ITEpLHRoaXMuJHVzZUxpbmVHcm91cHMoKSYmdC5wdXNoKCI8L2Rpdj4iKSxzKys7dGhpcy5lbGVtZW50PWkuc2V0SW5uZXJIdG1sKHRoaXMuZWxlbWVudCx0LmpvaW4oIiIpKX0sdGhpcy4kdGV4dFRva2VuPXt0ZXh0OiEwLHJwYXJlbjohMCxscGFyZW46ITB9LHRoaXMuJHJlbmRlclRva2VuPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXRoaXMsbz0vXHR8Jnw8fCggKyl8KFtceDAwLVx4MWZceDgwLVx4YTBcdTE2ODBcdTE4MEVcdTIwMDAtXHUyMDBmXHUyMDI4XHUyMDI5XHUyMDJGXHUyMDVGXHUzMDAwXHVGRUZGXSl8W1x1MTEwMC1cdTExNUZcdTExQTMtXHUxMUE3XHUxMUZBLVx1MTFGRlx1MjMyOS1cdTIzMkFcdTJFODAtXHUyRTk5XHUyRTlCLVx1MkVGM1x1MkYwMC1cdTJGRDVcdTJGRjAtXHUyRkZCXHUzMDAwLVx1MzAzRVx1MzA0MS1cdTMwOTZcdTMwOTktXHUzMEZGXHUzMTA1LVx1MzEyRFx1MzEzMS1cdTMxOEVcdTMxOTAtXHUzMUJBXHUzMUMwLVx1MzFFM1x1MzFGMC1cdTMyMUVcdTMyMjAtXHUzMjQ3XHUzMjUwLVx1MzJGRVx1MzMwMC1cdTREQkZcdTRFMDAtXHVBNDhDXHVBNDkwLVx1QTRDNlx1QTk2MC1cdUE5N0NcdUFDMDAtXHVEN0EzXHVEN0IwLVx1RDdDNlx1RDdDQi1cdUQ3RkJcdUY5MDAtXHVGQUZGXHVGRTEwLVx1RkUxOVx1RkUzMC1cdUZFNTJcdUZFNTQtXHVGRTY2XHVGRTY4LVx1RkU2Qlx1RkYwMS1cdUZGNjBcdUZGRTAtXHVGRkU2XS9nLHU9ZnVuY3Rpb24oZSxuLHIsbyl7aWYobilyZXR1cm4gaS5zaG93SW52aXNpYmxlcz8iPHNwYW4gY2xhc3M9J2FjZV9pbnZpc2libGUnPiIrcy5zdHJpbmdSZXBlYXQoaS5TUEFDRV9DSEFSLGUubGVuZ3RoKSsiPC9zcGFuPiI6cy5zdHJpbmdSZXBlYXQoIsKgIixlLmxlbmd0aCk7aWYoIiYiPT1lKXJldHVybiImIzM4OyI7aWYoIjwiPT1lKXJldHVybiImIzYwOyI7aWYoIgkiPT1lKXt2YXIgYT1pLnNlc3Npb24uZ2V0U2NyZWVuVGFiU2l6ZSh0K28pO3JldHVybiB0Kz1hLTEsaS4kdGFiU3RyaW5nc1thXX1pZigi44CAIj09ZSl7dmFyIGY9aS5zaG93SW52aXNpYmxlcz8iYWNlX2NqayBhY2VfaW52aXNpYmxlIjoiYWNlX2NqayIsbD1pLnNob3dJbnZpc2libGVzP2kuU1BBQ0VfQ0hBUjoiIjtyZXR1cm4gdCs9MSwiPHNwYW4gY2xhc3M9JyIrZisiJyBzdHlsZT0nd2lkdGg6IisyKmkuY29uZmlnLmNoYXJhY3RlcldpZHRoKyJweCc+IitsKyI8L3NwYW4+In1yZXR1cm4gcj8iPHNwYW4gY2xhc3M9J2FjZV9pbnZpc2libGUgYWNlX2ludmFsaWQnPiIraS5TUEFDRV9DSEFSKyI8L3NwYW4+IjoodCs9MSwiPHNwYW4gY2xhc3M9J2FjZV9jamsnIHN0eWxlPSd3aWR0aDoiKzIqaS5jb25maWcuY2hhcmFjdGVyV2lkdGgrInB4Jz4iK2UrIjwvc3Bhbj4iKX0sYT1yLnJlcGxhY2Uobyx1KTtpZih0aGlzLiR0ZXh0VG9rZW5bbi50eXBlXSllLnB1c2goYSk7ZWxzZXt2YXIgZj0iYWNlXyIrbi50eXBlLnJlcGxhY2UoL1wuL2csIiBhY2VfIiksbD0iIjsiZm9sZCI9PW4udHlwZSYmKGw9IiBzdHlsZT0nd2lkdGg6IituLnZhbHVlLmxlbmd0aCp0aGlzLmNvbmZpZy5jaGFyYWN0ZXJXaWR0aCsicHg7JyAiKSxlLnB1c2goIjxzcGFuIGNsYXNzPSciLGYsIiciLGwsIj4iLGEsIjwvc3Bhbj4iKX1yZXR1cm4gdCtyLmxlbmd0aH0sdGhpcy5yZW5kZXJJbmRlbnRHdWlkZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9dC5zZWFyY2godGhpcy4kaW5kZW50R3VpZGVSZSk7cmV0dXJuIDA+PXJ8fHI+PW4/dDoiICI9PXRbMF0/KHItPXIldGhpcy50YWJTaXplLGUucHVzaChzLnN0cmluZ1JlcGVhdCh0aGlzLiR0YWJTdHJpbmdzWyIgIl0sci90aGlzLnRhYlNpemUpKSx0LnN1YnN0cihyKSk6IgkiPT10WzBdPyhlLnB1c2gocy5zdHJpbmdSZXBlYXQodGhpcy4kdGFiU3RyaW5nc1siCSJdLHIpKSx0LnN1YnN0cihyKSk6dH0sdGhpcy4kcmVuZGVyV3JhcHBlZExpbmU9ZnVuY3Rpb24oZSx0LG4scil7Zm9yKHZhciBpPTAscz0wLG89blswXSx1PTAsYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgZj10W2FdLGw9Zi52YWx1ZTtpZigwPT1hJiZ0aGlzLmRpc3BsYXlJbmRlbnRHdWlkZXMpe2lmKGk9bC5sZW5ndGgsbD10aGlzLnJlbmRlckluZGVudEd1aWRlKGUsbCxvKSwhbCljb250aW51ZTtpLT1sLmxlbmd0aH1pZihpK2wubGVuZ3RoPG8pdT10aGlzLiRyZW5kZXJUb2tlbihlLHUsZixsKSxpKz1sLmxlbmd0aDtlbHNle2Zvcig7aStsLmxlbmd0aD49bzspdT10aGlzLiRyZW5kZXJUb2tlbihlLHUsZixsLnN1YnN0cmluZygwLG8taSkpLGw9bC5zdWJzdHJpbmcoby1pKSxpPW8scnx8ZS5wdXNoKCI8L2Rpdj4iLCI8ZGl2IGNsYXNzPSdhY2VfbGluZScgc3R5bGU9J2hlaWdodDoiLHRoaXMuY29uZmlnLmxpbmVIZWlnaHQsInB4Jz4iKSxzKyssdT0wLG89bltzXXx8TnVtYmVyLk1BWF9WQUxVRTswIT1sLmxlbmd0aCYmKGkrPWwubGVuZ3RoLHU9dGhpcy4kcmVuZGVyVG9rZW4oZSx1LGYsbCkpfX19LHRoaXMuJHJlbmRlclNpbXBsZUxpbmU9ZnVuY3Rpb24oZSx0KXt2YXIgbj0wLHI9dFswXSxpPXIudmFsdWU7dGhpcy5kaXNwbGF5SW5kZW50R3VpZGVzJiYoaT10aGlzLnJlbmRlckluZGVudEd1aWRlKGUsaSkpLGkmJihuPXRoaXMuJHJlbmRlclRva2VuKGUsbixyLGkpKTtmb3IodmFyIHM9MTtzPHQubGVuZ3RoO3MrKylyPXRbc10saT1yLnZhbHVlLG49dGhpcy4kcmVuZGVyVG9rZW4oZSxuLHIsaSl9LHRoaXMuJHJlbmRlckxpbmU9ZnVuY3Rpb24oZSx0LG4scil7aWYoIXImJjAhPXImJihyPXRoaXMuc2Vzc2lvbi5nZXRGb2xkTGluZSh0KSkscil2YXIgaT10aGlzLiRnZXRGb2xkTGluZVRva2Vucyh0LHIpO2Vsc2UgdmFyIGk9dGhpcy5zZXNzaW9uLmdldFRva2Vucyh0KTtpZihufHxlLnB1c2goIjxkaXYgY2xhc3M9J2FjZV9saW5lJyBzdHlsZT0naGVpZ2h0OiIsdGhpcy5jb25maWcubGluZUhlaWdodCoodGhpcy4kdXNlTGluZUdyb3VwcygpPzE6dGhpcy5zZXNzaW9uLmdldFJvd0xlbmd0aCh0KSksInB4Jz4iKSxpLmxlbmd0aCl7dmFyIHM9dGhpcy5zZXNzaW9uLmdldFJvd1NwbGl0RGF0YSh0KTtzJiZzLmxlbmd0aD90aGlzLiRyZW5kZXJXcmFwcGVkTGluZShlLGkscyxuKTp0aGlzLiRyZW5kZXJTaW1wbGVMaW5lKGUsaSl9dGhpcy5zaG93SW52aXNpYmxlcyYmKHImJih0PXIuZW5kLnJvdyksZS5wdXNoKCI8c3BhbiBjbGFzcz0nYWNlX2ludmlzaWJsZSc+Iix0PT10aGlzLnNlc3Npb24uZ2V0TGVuZ3RoKCktMT90aGlzLkVPRl9DSEFSOnRoaXMuRU9MX0NIQVIsIjwvc3Bhbj4iKSksbnx8ZS5wdXNoKCI8L2Rpdj4iKX0sdGhpcy4kZ2V0Rm9sZExpbmVUb2tlbnM9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBpKGUsdCxuKXtmb3IodmFyIGk9MCxzPTA7cytlW2ldLnZhbHVlLmxlbmd0aDx0OylpZihzKz1lW2ldLnZhbHVlLmxlbmd0aCxpKyssaT09ZS5sZW5ndGgpcmV0dXJuO2lmKHMhPXQpe3ZhciBvPWVbaV0udmFsdWUuc3Vic3RyaW5nKHQtcyk7by5sZW5ndGg+bi10JiYobz1vLnN1YnN0cmluZygwLG4tdCkpLHIucHVzaCh7dHlwZTplW2ldLnR5cGUsdmFsdWU6b30pLHM9dCtvLmxlbmd0aCxpKz0xfWZvcig7bj5zJiZpPGUubGVuZ3RoOyl7dmFyIG89ZVtpXS52YWx1ZTtyLnB1c2goby5sZW5ndGgrcz5uP3t0eXBlOmVbaV0udHlwZSx2YWx1ZTpvLnN1YnN0cmluZygwLG4tcyl9OmVbaV0pLHMrPW8ubGVuZ3RoLGkrPTF9fXZhciBuPXRoaXMuc2Vzc2lvbixyPVtdLHM9bi5nZXRUb2tlbnMoZSk7cmV0dXJuIHQud2FsayhmdW5jdGlvbihlLHQsbyx1LGEpe251bGwhPWU/ci5wdXNoKHt0eXBlOiJmb2xkIix2YWx1ZTplfSk6KGEmJihzPW4uZ2V0VG9rZW5zKHQpKSxzLmxlbmd0aCYmaShzLHUsbykpfSx0LmVuZC5yb3csdGhpcy5zZXNzaW9uLmdldExpbmUodC5lbmQucm93KS5sZW5ndGgpLHJ9LHRoaXMuJHVzZUxpbmVHcm91cHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXNzaW9uLmdldFVzZVdyYXBNb2RlKCl9LHRoaXMuZGVzdHJveT1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwodGhpcy4kcG9sbFNpemVDaGFuZ2VzVGltZXIpLHRoaXMuJG1lYXN1cmVOb2RlJiZ0aGlzLiRtZWFzdXJlTm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuJG1lYXN1cmVOb2RlKSxkZWxldGUgdGhpcy4kbWVhc3VyZU5vZGV9fSkuY2FsbChhLnByb3RvdHlwZSksdC5UZXh0PWF9KSxkZWZpbmUoImFjZS90b29sdGlwIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9vb3AiLCJhY2UvbGliL2RvbSJdLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcyhlKXt0aGlzLmlzT3Blbj0hMSx0aGlzLiRlbGVtZW50PW51bGwsdGhpcy4kcGFyZW50Tm9kZT1lfXZhciBpPShlKCIuL2xpYi9vb3AiKSxlKCIuL2xpYi9kb20iKSk7KGZ1bmN0aW9uKCl7dGhpcy4kaW5pdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRlbGVtZW50PWkuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy4kZWxlbWVudC5jbGFzc05hbWU9ImFjZV90b29sdGlwIix0aGlzLiRlbGVtZW50LnN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMuJHBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy4kZWxlbWVudCksdGhpcy4kZWxlbWVudH0sdGhpcy5nZXRFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVsZW1lbnR8fHRoaXMuJGluaXQoKX0sdGhpcy5zZXRUZXh0PWZ1bmN0aW9uKGUpe2kuc2V0SW5uZXJUZXh0KHRoaXMuZ2V0RWxlbWVudCgpLGUpfSx0aGlzLnNldEh0bWw9ZnVuY3Rpb24oZSl7dGhpcy5nZXRFbGVtZW50KCkuaW5uZXJIVE1MPWV9LHRoaXMuc2V0UG9zaXRpb249ZnVuY3Rpb24oZSx0KXt0aGlzLmdldEVsZW1lbnQoKS5zdHlsZS5sZWZ0PWUrInB4Iix0aGlzLmdldEVsZW1lbnQoKS5zdHlsZS50b3A9dCsicHgifSx0aGlzLnNldENsYXNzTmFtZT1mdW5jdGlvbihlKXtpLmFkZENzc0NsYXNzKHRoaXMuZ2V0RWxlbWVudCgpLGUpfSx0aGlzLnNob3c9ZnVuY3Rpb24oZSx0LG4pe251bGwhPWUmJnRoaXMuc2V0VGV4dChlKSxudWxsIT10JiZudWxsIT1uJiZ0aGlzLnNldFBvc2l0aW9uKHQsbiksdGhpcy5pc09wZW58fCh0aGlzLmdldEVsZW1lbnQoKS5zdHlsZS5kaXNwbGF5PSJibG9jayIsdGhpcy5pc09wZW49ITApfSx0aGlzLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLmlzT3BlbiYmKHRoaXMuZ2V0RWxlbWVudCgpLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMuaXNPcGVuPSExKX0sdGhpcy5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRFbGVtZW50KCkub2Zmc2V0SGVpZ2h0fSx0aGlzLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RWxlbWVudCgpLm9mZnNldFdpZHRofX0pLmNhbGwocy5wcm90b3R5cGUpLHQuVG9vbHRpcD1zfSksZGVmaW5lKCJhY2UvbGF5ZXIvY3Vyc29yIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9kb20iXSxmdW5jdGlvbihlLHQpe3ZhciBpLHI9ZSgiLi4vbGliL2RvbSIpLHM9ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50PXIuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5lbGVtZW50LmNsYXNzTmFtZT0iYWNlX2xheWVyIGFjZV9jdXJzb3ItbGF5ZXIiLGUuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KSx2b2lkIDA9PT1pJiYoaT0ib3BhY2l0eSJpbiB0aGlzLmVsZW1lbnQpLHRoaXMuaXNWaXNpYmxlPSExLHRoaXMuaXNCbGlua2luZz0hMCx0aGlzLmJsaW5rSW50ZXJ2YWw9MWUzLHRoaXMuc21vb3RoQmxpbmtpbmc9ITEsdGhpcy5jdXJzb3JzPVtdLHRoaXMuY3Vyc29yPXRoaXMuYWRkQ3Vyc29yKCksci5hZGRDc3NDbGFzcyh0aGlzLmVsZW1lbnQsImFjZV9oaWRkZW4tY3Vyc29ycyIpLHRoaXMuJHVwZGF0ZUN1cnNvcnM9dGhpcy4kdXBkYXRlVmlzaWJpbGl0eS5iaW5kKHRoaXMpfTsoZnVuY3Rpb24oKXt0aGlzLiR1cGRhdGVWaXNpYmlsaXR5PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLmN1cnNvcnMsbj10Lmxlbmd0aDtuLS07KXRbbl0uc3R5bGUudmlzaWJpbGl0eT1lPyIiOiJoaWRkZW4ifSx0aGlzLiR1cGRhdGVPcGFjaXR5PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLmN1cnNvcnMsbj10Lmxlbmd0aDtuLS07KXRbbl0uc3R5bGUub3BhY2l0eT1lPyIiOiIwIn0sdGhpcy4kcGFkZGluZz0wLHRoaXMuc2V0UGFkZGluZz1mdW5jdGlvbihlKXt0aGlzLiRwYWRkaW5nPWV9LHRoaXMuc2V0U2Vzc2lvbj1mdW5jdGlvbihlKXt0aGlzLnNlc3Npb249ZX0sdGhpcy5zZXRCbGlua2luZz1mdW5jdGlvbihlKXtlIT10aGlzLmlzQmxpbmtpbmcmJih0aGlzLmlzQmxpbmtpbmc9ZSx0aGlzLnJlc3RhcnRUaW1lcigpKX0sdGhpcy5zZXRCbGlua0ludGVydmFsPWZ1bmN0aW9uKGUpe2UhPXRoaXMuYmxpbmtJbnRlcnZhbCYmKHRoaXMuYmxpbmtJbnRlcnZhbD1lLHRoaXMucmVzdGFydFRpbWVyKCkpfSx0aGlzLnNldFNtb290aEJsaW5raW5nPWZ1bmN0aW9uKGUpe2UhPXRoaXMuc21vb3RoQmxpbmtpbmcmJiFpJiYodGhpcy5zbW9vdGhCbGlua2luZz1lLHIuc2V0Q3NzQ2xhc3ModGhpcy5lbGVtZW50LCJhY2Vfc21vb3RoLWJsaW5raW5nIixlKSx0aGlzLiR1cGRhdGVDdXJzb3JzKCEwKSx0aGlzLiR1cGRhdGVDdXJzb3JzPShlP3RoaXMuJHVwZGF0ZU9wYWNpdHk6dGhpcy4kdXBkYXRlVmlzaWJpbGl0eSkuYmluZCh0aGlzKSx0aGlzLnJlc3RhcnRUaW1lcigpKX0sdGhpcy5hZGRDdXJzb3I9ZnVuY3Rpb24oKXt2YXIgZT1yLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBlLmNsYXNzTmFtZT0iYWNlX2N1cnNvciIsdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGUpLHRoaXMuY3Vyc29ycy5wdXNoKGUpLGV9LHRoaXMucmVtb3ZlQ3Vyc29yPWZ1bmN0aW9uKCl7aWYodGhpcy5jdXJzb3JzLmxlbmd0aD4xKXt2YXIgZT10aGlzLmN1cnNvcnMucG9wKCk7cmV0dXJuIGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSxlfX0sdGhpcy5oaWRlQ3Vyc29yPWZ1bmN0aW9uKCl7dGhpcy5pc1Zpc2libGU9ITEsci5hZGRDc3NDbGFzcyh0aGlzLmVsZW1lbnQsImFjZV9oaWRkZW4tY3Vyc29ycyIpLHRoaXMucmVzdGFydFRpbWVyKCl9LHRoaXMuc2hvd0N1cnNvcj1mdW5jdGlvbigpe3RoaXMuaXNWaXNpYmxlPSEwLHIucmVtb3ZlQ3NzQ2xhc3ModGhpcy5lbGVtZW50LCJhY2VfaGlkZGVuLWN1cnNvcnMiKSx0aGlzLnJlc3RhcnRUaW1lcigpfSx0aGlzLnJlc3RhcnRUaW1lcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuJHVwZGF0ZUN1cnNvcnM7aWYoY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpLGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRJZCksdGhpcy5zbW9vdGhCbGlua2luZyYmci5yZW1vdmVDc3NDbGFzcyh0aGlzLmVsZW1lbnQsImFjZV9zbW9vdGgtYmxpbmtpbmciKSxlKCEwKSx0aGlzLmlzQmxpbmtpbmcmJnRoaXMuYmxpbmtJbnRlcnZhbCYmdGhpcy5pc1Zpc2libGUpe3RoaXMuc21vb3RoQmxpbmtpbmcmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLmFkZENzc0NsYXNzKHRoaXMuZWxlbWVudCwiYWNlX3Ntb290aC1ibGlua2luZyIpfS5iaW5kKHRoaXMpKTt2YXIgdD1mdW5jdGlvbigpe3RoaXMudGltZW91dElkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKCExKX0sLjYqdGhpcy5ibGlua0ludGVydmFsKX0uYmluZCh0aGlzKTt0aGlzLmludGVydmFsSWQ9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtlKCEwKSx0KCl9LHRoaXMuYmxpbmtJbnRlcnZhbCksdCgpfX0sdGhpcy5nZXRQaXhlbFBvc2l0aW9uPWZ1bmN0aW9uKGUsdCl7aWYoIXRoaXMuY29uZmlnfHwhdGhpcy5zZXNzaW9uKXJldHVybntsZWZ0OjAsdG9wOjB9O2V8fChlPXRoaXMuc2Vzc2lvbi5zZWxlY3Rpb24uZ2V0Q3Vyc29yKCkpO3ZhciBuPXRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24oZSkscj10aGlzLiRwYWRkaW5nK24uY29sdW1uKnRoaXMuY29uZmlnLmNoYXJhY3RlcldpZHRoLGk9KG4ucm93LSh0P3RoaXMuY29uZmlnLmZpcnN0Um93U2NyZWVuOjApKSp0aGlzLmNvbmZpZy5saW5lSGVpZ2h0O3JldHVybntsZWZ0OnIsdG9wOml9fSx0aGlzLnVwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLmNvbmZpZz1lO3ZhciB0PXRoaXMuc2Vzc2lvbi4kc2VsZWN0aW9uTWFya2VycyxuPTAscj0wOyh2b2lkIDA9PT10fHwwPT09dC5sZW5ndGgpJiYodD1be2N1cnNvcjpudWxsfV0pO2Zvcih2YXIgbj0wLGk9dC5sZW5ndGg7aT5uO24rKyl7dmFyIHM9dGhpcy5nZXRQaXhlbFBvc2l0aW9uKHRbbl0uY3Vyc29yLCEwKTtpZighKChzLnRvcD5lLmhlaWdodCtlLm9mZnNldHx8cy50b3A8MCkmJm4+MSkpe3ZhciBvPSh0aGlzLmN1cnNvcnNbcisrXXx8dGhpcy5hZGRDdXJzb3IoKSkuc3R5bGU7by5sZWZ0PXMubGVmdCsicHgiLG8udG9wPXMudG9wKyJweCIsby53aWR0aD1lLmNoYXJhY3RlcldpZHRoKyJweCIsby5oZWlnaHQ9ZS5saW5lSGVpZ2h0KyJweCJ9fWZvcig7dGhpcy5jdXJzb3JzLmxlbmd0aD5yOyl0aGlzLnJlbW92ZUN1cnNvcigpO3ZhciB1PXRoaXMuc2Vzc2lvbi5nZXRPdmVyd3JpdGUoKTt0aGlzLiRzZXRPdmVyd3JpdGUodSksdGhpcy4kcGl4ZWxQb3M9cyx0aGlzLnJlc3RhcnRUaW1lcigpfSx0aGlzLiRzZXRPdmVyd3JpdGU9ZnVuY3Rpb24oZSl7ZSE9dGhpcy5vdmVyd3JpdGUmJih0aGlzLm92ZXJ3cml0ZT1lLGU/ci5hZGRDc3NDbGFzcyh0aGlzLmVsZW1lbnQsImFjZV9vdmVyd3JpdGUtY3Vyc29ycyIpOnIucmVtb3ZlQ3NzQ2xhc3ModGhpcy5lbGVtZW50LCJhY2Vfb3ZlcndyaXRlLWN1cnNvcnMiKSl9LHRoaXMuZGVzdHJveT1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbElkKSxjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SWQpfX0pLmNhbGwocy5wcm90b3R5cGUpLHQuQ3Vyc29yPXN9KSxkZWZpbmUoImFjZS9tb3VzZS9kZWZhdWx0X2d1dHRlcl9oYW5kbGVyIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9kb20iLCJhY2UvbGliL29vcCIsImFjZS9saWIvZXZlbnQiLCJhY2UvdG9vbHRpcCJdLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gdShlKXtmdW5jdGlvbiBsKCl7dmFyIHI9dS5nZXREb2N1bWVudFBvc2l0aW9uKCkucm93LHM9bi4kYW5ub3RhdGlvbnNbcl07aWYoIXMpcmV0dXJuIGMoKTt2YXIgbz10LnNlc3Npb24uZ2V0TGVuZ3RoKCk7aWYocj09byl7dmFyIGE9dC5yZW5kZXJlci5waXhlbFRvU2NyZWVuQ29vcmRpbmF0ZXMoMCx1LnkpLnJvdyxsPXUuJHBvcztpZihhPnQuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUm93KGwucm93LGwuY29sdW1uKSlyZXR1cm4gYygpfWlmKGYhPXMpaWYoZj1zLnRleHQuam9pbigiPGJyLz4iKSxpLnNldEh0bWwoZiksaS5zaG93KCksdC5vbigibW91c2V3aGVlbCIsYyksZS4kdG9vbHRpcEZvbGxvd3NNb3VzZSloKHUpO2Vsc2V7dmFyIHA9bi4kY2VsbHNbcl0uZWxlbWVudCxkPXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdj1pLmdldEVsZW1lbnQoKS5zdHlsZTt2LmxlZnQ9ZC5yaWdodCsicHgiLHYudG9wPWQuYm90dG9tKyJweCJ9fWZ1bmN0aW9uIGMoKXtvJiYobz1jbGVhclRpbWVvdXQobykpLGYmJihpLmhpZGUoKSxmPW51bGwsdC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZXdoZWVsIixjKSl9ZnVuY3Rpb24gaChlKXtpLnNldFBvc2l0aW9uKGUueCxlLnkpfXZhciB0PWUuZWRpdG9yLG49dC5yZW5kZXJlci4kZ3V0dGVyTGF5ZXIsaT1uZXcgYSh0LmNvbnRhaW5lcik7ZS5lZGl0b3Iuc2V0RGVmYXVsdEhhbmRsZXIoImd1dHRlcm1vdXNlZG93biIsZnVuY3Rpb24ocil7aWYodC5pc0ZvY3VzZWQoKSYmMD09ci5nZXRCdXR0b24oKSl7dmFyIGk9bi5nZXRSZWdpb24ocik7aWYoImZvbGRXaWRnZXRzIiE9aSl7dmFyIHM9ci5nZXREb2N1bWVudFBvc2l0aW9uKCkucm93LG89dC5zZXNzaW9uLnNlbGVjdGlvbjtpZihyLmdldFNoaWZ0S2V5KCkpby5zZWxlY3RUbyhzLDApO2Vsc2V7aWYoMj09ci5kb21FdmVudC5kZXRhaWwpcmV0dXJuIHQuc2VsZWN0QWxsKCksci5wcmV2ZW50RGVmYXVsdCgpO2UuJGNsaWNrU2VsZWN0aW9uPXQuc2VsZWN0aW9uLmdldExpbmVSYW5nZShzKX1yZXR1cm4gZS5zZXRTdGF0ZSgic2VsZWN0QnlMaW5lcyIpLGUuY2FwdHVyZU1vdXNlKHIpLHIucHJldmVudERlZmF1bHQoKX19fSk7dmFyIG8sdSxmO2UuZWRpdG9yLnNldERlZmF1bHRIYW5kbGVyKCJndXR0ZXJtb3VzZW1vdmUiLGZ1bmN0aW9uKHQpe3ZhciBuPXQuZG9tRXZlbnQudGFyZ2V0fHx0LmRvbUV2ZW50LnNyY0VsZW1lbnQ7cmV0dXJuIHIuaGFzQ3NzQ2xhc3MobiwiYWNlX2ZvbGQtd2lkZ2V0Iik/YygpOihmJiZlLiR0b29sdGlwRm9sbG93c01vdXNlJiZoKHQpLHU9dCx2b2lkKG98fChvPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtvPW51bGwsdSYmIWUuaXNNb3VzZVByZXNzZWQ/bCgpOmMoKX0sNTApKSkpfSkscy5hZGRMaXN0ZW5lcih0LnJlbmRlcmVyLiRndXR0ZXIsIm1vdXNlb3V0IixmdW5jdGlvbigpe3U9bnVsbCxmJiYhbyYmKG89c2V0VGltZW91dChmdW5jdGlvbigpe289bnVsbCxjKCl9LDUwKSl9KSx0Lm9uKCJjaGFuZ2VTZXNzaW9uIixjKX1mdW5jdGlvbiBhKGUpe28uY2FsbCh0aGlzLGUpfXZhciByPWUoIi4uL2xpYi9kb20iKSxpPWUoIi4uL2xpYi9vb3AiKSxzPWUoIi4uL2xpYi9ldmVudCIpLG89ZSgiLi4vdG9vbHRpcCIpLlRvb2x0aXA7aS5pbmhlcml0cyhhLG8pLGZ1bmN0aW9uKCl7dGhpcy5zZXRQb3NpdGlvbj1mdW5jdGlvbihlLHQpe3ZhciBuPXdpbmRvdy5pbm5lcldpZHRofHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgscj13aW5kb3cuaW5uZXJIZWlnaHR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsaT10aGlzLmdldFdpZHRoKCkscz10aGlzLmdldEhlaWdodCgpO2UrPTE1LHQrPTE1LGUraT5uJiYoZS09ZStpLW4pLHQrcz5yJiYodC09MjArcyksby5wcm90b3R5cGUuc2V0UG9zaXRpb24uY2FsbCh0aGlzLGUsdCl9fS5jYWxsKGEucHJvdG90eXBlKSx0Lkd1dHRlckhhbmRsZXI9dX0pLGRlZmluZSgiYWNlL3Njcm9sbGJhciIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL2xpYi9kb20iLCJhY2UvbGliL2V2ZW50IiwiYWNlL2xpYi9ldmVudF9lbWl0dGVyIl0sZnVuY3Rpb24oZSx0KXt2YXIgcj1lKCIuL2xpYi9vb3AiKSxpPWUoIi4vbGliL2RvbSIpLHM9ZSgiLi9saWIvZXZlbnQiKSxvPWUoIi4vbGliL2V2ZW50X2VtaXR0ZXIiKS5FdmVudEVtaXR0ZXIsdT1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnQ9aS5jcmVhdGVFbGVtZW50KCJkaXYiKSx0aGlzLmVsZW1lbnQuY2xhc3NOYW1lPSJhY2Vfc2Nyb2xsYmFyIGFjZV9zY3JvbGxiYXIiK3RoaXMuY2xhc3NTdWZmaXgsdGhpcy5pbm5lcj1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuaW5uZXIuY2xhc3NOYW1lPSJhY2Vfc2Nyb2xsYmFyLWlubmVyIix0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5pbm5lciksZS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpLHRoaXMuc2V0VmlzaWJsZSghMSksdGhpcy5za2lwRXZlbnQ9ITEscy5hZGRMaXN0ZW5lcih0aGlzLmVsZW1lbnQsInNjcm9sbCIsdGhpcy5vblNjcm9sbC5iaW5kKHRoaXMpKSxzLmFkZExpc3RlbmVyKHRoaXMuZWxlbWVudCwibW91c2Vkb3duIixzLnByZXZlbnREZWZhdWx0KX07KGZ1bmN0aW9uKCl7ci5pbXBsZW1lbnQodGhpcyxvKSx0aGlzLnNldFZpc2libGU9ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXk9ZT8iIjoibm9uZSIsdGhpcy5pc1Zpc2libGU9ZX19KS5jYWxsKHUucHJvdG90eXBlKTt2YXIgYT1mdW5jdGlvbihlLHQpe3UuY2FsbCh0aGlzLGUpLHRoaXMuc2Nyb2xsVG9wPTAsdC4kc2Nyb2xsYmFyV2lkdGg9dGhpcy53aWR0aD1pLnNjcm9sbGJhcldpZHRoKGUub3duZXJEb2N1bWVudCksdGhpcy5pbm5lci5zdHlsZS53aWR0aD10aGlzLmVsZW1lbnQuc3R5bGUud2lkdGg9KHRoaXMud2lkdGh8fDE1KSs1KyJweCJ9O3IuaW5oZXJpdHMoYSx1KSxmdW5jdGlvbigpe3RoaXMuY2xhc3NTdWZmaXg9Ii12Iix0aGlzLm9uU2Nyb2xsPWZ1bmN0aW9uKCl7dGhpcy5za2lwRXZlbnR8fCh0aGlzLnNjcm9sbFRvcD10aGlzLmVsZW1lbnQuc2Nyb2xsVG9wLHRoaXMuX2VtaXQoInNjcm9sbCIse2RhdGE6dGhpcy5zY3JvbGxUb3B9KSksdGhpcy5za2lwRXZlbnQ9ITF9LHRoaXMuZ2V0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1Zpc2libGU/dGhpcy53aWR0aDowfSx0aGlzLnNldEhlaWdodD1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnQuc3R5bGUuaGVpZ2h0PWUrInB4In0sdGhpcy5zZXRJbm5lckhlaWdodD1mdW5jdGlvbihlKXt0aGlzLmlubmVyLnN0eWxlLmhlaWdodD1lKyJweCJ9LHRoaXMuc2V0U2Nyb2xsSGVpZ2h0PWZ1bmN0aW9uKGUpe3RoaXMuaW5uZXIuc3R5bGUuaGVpZ2h0PWUrInB4In0sdGhpcy5zZXRTY3JvbGxUb3A9ZnVuY3Rpb24oZSl7dGhpcy5zY3JvbGxUb3AhPWUmJih0aGlzLnNraXBFdmVudD0hMCx0aGlzLnNjcm9sbFRvcD10aGlzLmVsZW1lbnQuc2Nyb2xsVG9wPWUpfX0uY2FsbChhLnByb3RvdHlwZSk7dmFyIGY9ZnVuY3Rpb24oZSx0KXt1LmNhbGwodGhpcyxlKSx0aGlzLnNjcm9sbExlZnQ9MCx0aGlzLmhlaWdodD10LiRzY3JvbGxiYXJXaWR0aCx0aGlzLmlubmVyLnN0eWxlLmhlaWdodD10aGlzLmVsZW1lbnQuc3R5bGUuaGVpZ2h0PSh0aGlzLmhlaWdodHx8MTUpKzUrInB4In07ci5pbmhlcml0cyhmLHUpLGZ1bmN0aW9uKCl7dGhpcy5jbGFzc1N1ZmZpeD0iLWgiLHRoaXMub25TY3JvbGw9ZnVuY3Rpb24oKXt0aGlzLnNraXBFdmVudHx8KHRoaXMuc2Nyb2xsTGVmdD10aGlzLmVsZW1lbnQuc2Nyb2xsTGVmdCx0aGlzLl9lbWl0KCJzY3JvbGwiLHtkYXRhOnRoaXMuc2Nyb2xsTGVmdH0pKSx0aGlzLnNraXBFdmVudD0hMX0sdGhpcy5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1Zpc2libGU/dGhpcy5oZWlnaHQ6MH0sdGhpcy5zZXRXaWR0aD1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGg9ZSsicHgifSx0aGlzLnNldElubmVyV2lkdGg9ZnVuY3Rpb24oZSl7dGhpcy5pbm5lci5zdHlsZS53aWR0aD1lKyJweCJ9LHRoaXMuc2V0U2Nyb2xsV2lkdGg9ZnVuY3Rpb24oZSl7dGhpcy5pbm5lci5zdHlsZS53aWR0aD1lKyJweCJ9LHRoaXMuc2V0U2Nyb2xsTGVmdD1mdW5jdGlvbihlKXt0aGlzLnNjcm9sbExlZnQhPWUmJih0aGlzLnNraXBFdmVudD0hMCx0aGlzLnNjcm9sbExlZnQ9dGhpcy5lbGVtZW50LnNjcm9sbExlZnQ9ZSl9fS5jYWxsKGYucHJvdG90eXBlKSx0LlNjcm9sbEJhcj1hLHQuU2Nyb2xsQmFyVj1hLHQuU2Nyb2xsQmFySD1mLHQuVlNjcm9sbEJhcj1hLHQuSFNjcm9sbEJhcj1mfSksZGVmaW5lKCJhY2UvbW91c2UvZGVmYXVsdF9oYW5kbGVycyIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvZG9tIiwiYWNlL2xpYi9ldmVudCIsImFjZS9saWIvdXNlcmFnZW50Il0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiB1KGUpe2UuJGNsaWNrU2VsZWN0aW9uPW51bGw7dmFyIHQ9ZS5lZGl0b3I7dC5zZXREZWZhdWx0SGFuZGxlcigibW91c2Vkb3duIix0aGlzLm9uTW91c2VEb3duLmJpbmQoZSkpLHQuc2V0RGVmYXVsdEhhbmRsZXIoImRibGNsaWNrIix0aGlzLm9uRG91YmxlQ2xpY2suYmluZChlKSksdC5zZXREZWZhdWx0SGFuZGxlcigidHJpcGxlY2xpY2siLHRoaXMub25UcmlwbGVDbGljay5iaW5kKGUpKSx0LnNldERlZmF1bHRIYW5kbGVyKCJxdWFkY2xpY2siLHRoaXMub25RdWFkQ2xpY2suYmluZChlKSksdC5zZXREZWZhdWx0SGFuZGxlcigibW91c2V3aGVlbCIsdGhpcy5vbk1vdXNlV2hlZWwuYmluZChlKSk7dmFyIG49WyJzZWxlY3QiLCJzdGFydFNlbGVjdCIsInNlbGVjdEVuZCIsInNlbGVjdEFsbEVuZCIsInNlbGVjdEJ5V29yZHNFbmQiLCJzZWxlY3RCeUxpbmVzRW5kIiwiZHJhZ1dhaXQiLCJkcmFnV2FpdEVuZCIsImZvY3VzV2FpdCJdO24uZm9yRWFjaChmdW5jdGlvbih0KXtlW3RdPXRoaXNbdF19LHRoaXMpLGUuc2VsZWN0QnlMaW5lcz10aGlzLmV4dGVuZFNlbGVjdGlvbkJ5LmJpbmQoZSwiZ2V0TGluZVJhbmdlIiksZS5zZWxlY3RCeVdvcmRzPXRoaXMuZXh0ZW5kU2VsZWN0aW9uQnkuYmluZChlLCJnZXRXb3JkUmFuZ2UiKX1mdW5jdGlvbiBhKGUsdCxuLHIpe3JldHVybiBNYXRoLnNxcnQoTWF0aC5wb3cobi1lLDIpK01hdGgucG93KHItdCwyKSl9ZnVuY3Rpb24gZihlLHQpe2lmKGUuc3RhcnQucm93PT1lLmVuZC5yb3cpdmFyIG49Mip0LmNvbHVtbi1lLnN0YXJ0LmNvbHVtbi1lLmVuZC5jb2x1bW47ZWxzZSBpZihlLnN0YXJ0LnJvdyE9ZS5lbmQucm93LTF8fGUuc3RhcnQuY29sdW1ufHxlLmVuZC5jb2x1bW4pdmFyIG49Mip0LnJvdy1lLnN0YXJ0LnJvdy1lLmVuZC5yb3c7ZWxzZSB2YXIgbj10LmNvbHVtbi00O3JldHVybiAwPm4/e2N1cnNvcjplLnN0YXJ0LGFuY2hvcjplLmVuZH06e2N1cnNvcjplLmVuZCxhbmNob3I6ZS5zdGFydH19dmFyIG89KGUoIi4uL2xpYi9kb20iKSxlKCIuLi9saWIvZXZlbnQiKSxlKCIuLi9saWIvdXNlcmFnZW50IiksMCk7KGZ1bmN0aW9uKCl7dGhpcy5vbk1vdXNlRG93bj1mdW5jdGlvbihlKXt2YXIgdD1lLmluU2VsZWN0aW9uKCksbj1lLmdldERvY3VtZW50UG9zaXRpb24oKTt0aGlzLm1vdXNlZG93bkV2ZW50PWU7dmFyIHI9dGhpcy5lZGl0b3IsaT1lLmdldEJ1dHRvbigpO2lmKDAhPT1pKXt2YXIgcz1yLmdldFNlbGVjdGlvblJhbmdlKCksbz1zLmlzRW1wdHkoKTtyZXR1cm4gbyYmci5zZWxlY3Rpb24ubW92ZVRvUG9zaXRpb24obiksdm9pZCByLnRleHRJbnB1dC5vbkNvbnRleHRNZW51KGUuZG9tRXZlbnQpfXJldHVybiF0fHxyLmlzRm9jdXNlZCgpfHwoci5mb2N1cygpLCF0aGlzLiRmb2N1c1RpbW91dHx8dGhpcy4kY2xpY2tTZWxlY3Rpb258fHIuaW5NdWx0aVNlbGVjdE1vZGUpPyh0aGlzLmNhcHR1cmVNb3VzZShlKSwhdHx8dGhpcy4kY2xpY2tTZWxlY3Rpb258fGUuZ2V0U2hpZnRLZXkoKXx8ci5pbk11bHRpU2VsZWN0TW9kZT90aGlzLnN0YXJ0U2VsZWN0KG4pOnQmJih0aGlzLm1vdXNlZG93bkV2ZW50LnRpbWU9RGF0ZS5ub3coKSx0aGlzLnN0YXJ0U2VsZWN0KG4pKSxlLnByZXZlbnREZWZhdWx0KCkpOih0aGlzLm1vdXNlZG93bkV2ZW50LnRpbWU9RGF0ZS5ub3coKSx0aGlzLnNldFN0YXRlKCJmb2N1c1dhaXQiKSx0aGlzLmNhcHR1cmVNb3VzZShlKSx2b2lkIDApfSx0aGlzLnN0YXJ0U2VsZWN0PWZ1bmN0aW9uKGUpe2U9ZXx8dGhpcy5lZGl0b3IucmVuZGVyZXIuc2NyZWVuVG9UZXh0Q29vcmRpbmF0ZXModGhpcy54LHRoaXMueSk7dmFyIHQ9dGhpcy5lZGl0b3Isbj10aGlzLm1vdXNlZG93bkV2ZW50LmdldFNoaWZ0S2V5KCk7bj90LnNlbGVjdGlvbi5zZWxlY3RUb1Bvc2l0aW9uKGUpOnRoaXMuJGNsaWNrU2VsZWN0aW9ufHx0LnNlbGVjdGlvbi5tb3ZlVG9Qb3NpdGlvbihlKSx0LnJlbmRlcmVyLnNjcm9sbGVyLnNldENhcHR1cmUmJnQucmVuZGVyZXIuc2Nyb2xsZXIuc2V0Q2FwdHVyZSgpLHQuc2V0U3R5bGUoImFjZV9zZWxlY3RpbmciKSx0aGlzLnNldFN0YXRlKCJzZWxlY3QiKX0sdGhpcy5zZWxlY3Q9ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuZWRpdG9yLG49dC5yZW5kZXJlci5zY3JlZW5Ub1RleHRDb29yZGluYXRlcyh0aGlzLngsdGhpcy55KTtpZih0aGlzLiRjbGlja1NlbGVjdGlvbil7dmFyIHI9dGhpcy4kY2xpY2tTZWxlY3Rpb24uY29tcGFyZVBvaW50KG4pO2lmKC0xPT1yKWU9dGhpcy4kY2xpY2tTZWxlY3Rpb24uZW5kO2Vsc2UgaWYoMT09cillPXRoaXMuJGNsaWNrU2VsZWN0aW9uLnN0YXJ0O2Vsc2V7dmFyIGk9Zih0aGlzLiRjbGlja1NlbGVjdGlvbixuKTtuPWkuY3Vyc29yLGU9aS5hbmNob3J9dC5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uQW5jaG9yKGUucm93LGUuY29sdW1uKX10LnNlbGVjdGlvbi5zZWxlY3RUb1Bvc2l0aW9uKG4pLHQucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcoKX0sdGhpcy5leHRlbmRTZWxlY3Rpb25CeT1mdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMuZWRpdG9yLHI9bi5yZW5kZXJlci5zY3JlZW5Ub1RleHRDb29yZGluYXRlcyh0aGlzLngsdGhpcy55KSxpPW4uc2VsZWN0aW9uW2VdKHIucm93LHIuY29sdW1uKTtpZih0aGlzLiRjbGlja1NlbGVjdGlvbil7dmFyIHM9dGhpcy4kY2xpY2tTZWxlY3Rpb24uY29tcGFyZVBvaW50KGkuc3RhcnQpLG89dGhpcy4kY2xpY2tTZWxlY3Rpb24uY29tcGFyZVBvaW50KGkuZW5kKTtpZigtMT09cyYmMD49byl0PXRoaXMuJGNsaWNrU2VsZWN0aW9uLmVuZCwoaS5lbmQucm93IT1yLnJvd3x8aS5lbmQuY29sdW1uIT1yLmNvbHVtbikmJihyPWkuc3RhcnQpO2Vsc2UgaWYoMT09byYmcz49MCl0PXRoaXMuJGNsaWNrU2VsZWN0aW9uLnN0YXJ0LChpLnN0YXJ0LnJvdyE9ci5yb3d8fGkuc3RhcnQuY29sdW1uIT1yLmNvbHVtbikmJihyPWkuZW5kKTtlbHNlIGlmKC0xPT1zJiYxPT1vKXI9aS5lbmQsdD1pLnN0YXJ0O2Vsc2V7dmFyIHU9Zih0aGlzLiRjbGlja1NlbGVjdGlvbixyKTtyPXUuY3Vyc29yLHQ9dS5hbmNob3J9bi5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uQW5jaG9yKHQucm93LHQuY29sdW1uKX1uLnNlbGVjdGlvbi5zZWxlY3RUb1Bvc2l0aW9uKHIpLG4ucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcoKX0sdGhpcy5zZWxlY3RFbmQ9dGhpcy5zZWxlY3RBbGxFbmQ9dGhpcy5zZWxlY3RCeVdvcmRzRW5kPXRoaXMuc2VsZWN0QnlMaW5lc0VuZD1mdW5jdGlvbigpe3RoaXMuZWRpdG9yLnVuc2V0U3R5bGUoImFjZV9zZWxlY3RpbmciKSx0aGlzLmVkaXRvci5yZW5kZXJlci5zY3JvbGxlci5yZWxlYXNlQ2FwdHVyZSYmdGhpcy5lZGl0b3IucmVuZGVyZXIuc2Nyb2xsZXIucmVsZWFzZUNhcHR1cmUoKX0sdGhpcy5mb2N1c1dhaXQ9ZnVuY3Rpb24oKXt2YXIgZT1hKHRoaXMubW91c2Vkb3duRXZlbnQueCx0aGlzLm1vdXNlZG93bkV2ZW50LnksdGhpcy54LHRoaXMueSksdD1EYXRlLm5vdygpOyhlPm98fHQtdGhpcy5tb3VzZWRvd25FdmVudC50aW1lPnRoaXMuJGZvY3VzVGltb3V0KSYmdGhpcy5zdGFydFNlbGVjdCh0aGlzLm1vdXNlZG93bkV2ZW50LmdldERvY3VtZW50UG9zaXRpb24oKSl9LHRoaXMub25Eb3VibGVDbGljaz1mdW5jdGlvbihlKXt2YXIgdD1lLmdldERvY3VtZW50UG9zaXRpb24oKSxuPXRoaXMuZWRpdG9yLHI9bi5zZXNzaW9uLGk9ci5nZXRCcmFja2V0UmFuZ2UodCk7aT8oaS5pc0VtcHR5KCkmJihpLnN0YXJ0LmNvbHVtbi0tLGkuZW5kLmNvbHVtbisrKSx0aGlzLnNldFN0YXRlKCJzZWxlY3QiKSk6KGk9bi5zZWxlY3Rpb24uZ2V0V29yZFJhbmdlKHQucm93LHQuY29sdW1uKSx0aGlzLnNldFN0YXRlKCJzZWxlY3RCeVdvcmRzIikpLHRoaXMuJGNsaWNrU2VsZWN0aW9uPWksdGhpc1t0aGlzLnN0YXRlXSYmdGhpc1t0aGlzLnN0YXRlXShlKX0sdGhpcy5vblRyaXBsZUNsaWNrPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLG49dGhpcy5lZGl0b3I7dGhpcy5zZXRTdGF0ZSgic2VsZWN0QnlMaW5lcyIpLHRoaXMuJGNsaWNrU2VsZWN0aW9uPW4uc2VsZWN0aW9uLmdldExpbmVSYW5nZSh0LnJvdyksdGhpc1t0aGlzLnN0YXRlXSYmdGhpc1t0aGlzLnN0YXRlXShlKX0sdGhpcy5vblF1YWRDbGljaz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZWRpdG9yO3Quc2VsZWN0QWxsKCksdGhpcy4kY2xpY2tTZWxlY3Rpb249dC5nZXRTZWxlY3Rpb25SYW5nZSgpLHRoaXMuc2V0U3RhdGUoInNlbGVjdEFsbCIpfSx0aGlzLm9uTW91c2VXaGVlbD1mdW5jdGlvbihlKXtpZighZS5nZXRBY2NlbEtleSgpKXtlLmdldFNoaWZ0S2V5KCkmJmUud2hlZWxZJiYhZS53aGVlbFgmJihlLndoZWVsWD1lLndoZWVsWSxlLndoZWVsWT0wKTt2YXIgdD1lLmRvbUV2ZW50LnRpbWVTdGFtcCxuPXQtKHRoaXMuJGxhc3RTY3JvbGxUaW1lfHwwKSxyPXRoaXMuZWRpdG9yLGk9ci5yZW5kZXJlci5pc1Njcm9sbGFibGVCeShlLndoZWVsWCplLnNwZWVkLGUud2hlZWxZKmUuc3BlZWQpO3JldHVybiBpfHwyMDA+bj8odGhpcy4kbGFzdFNjcm9sbFRpbWU9dCxyLnJlbmRlcmVyLnNjcm9sbEJ5KGUud2hlZWxYKmUuc3BlZWQsZS53aGVlbFkqZS5zcGVlZCksZS5zdG9wKCkpOnZvaWQgMH19fSkuY2FsbCh1LnByb3RvdHlwZSksdC5EZWZhdWx0SGFuZGxlcnM9dX0pLGRlZmluZSgiYWNlL3JlbmRlcmxvb3AiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL2V2ZW50Il0sZnVuY3Rpb24oZSx0KXt2YXIgcj1lKCIuL2xpYi9ldmVudCIpLGk9ZnVuY3Rpb24oZSx0KXt0aGlzLm9uUmVuZGVyPWUsdGhpcy5wZW5kaW5nPSExLHRoaXMuY2hhbmdlcz0wLHRoaXMud2luZG93PXR8fHdpbmRvd307KGZ1bmN0aW9uKCl7dGhpcy5zY2hlZHVsZT1mdW5jdGlvbihlKXtpZih0aGlzLmNoYW5nZXM9dGhpcy5jaGFuZ2VzfGUsIXRoaXMucGVuZGluZyYmdGhpcy5jaGFuZ2VzKXt0aGlzLnBlbmRpbmc9ITA7dmFyIHQ9dGhpcztyLm5leHRGcmFtZShmdW5jdGlvbigpe3QucGVuZGluZz0hMTtmb3IodmFyIGU7ZT10LmNoYW5nZXM7KXQuY2hhbmdlcz0wLHQub25SZW5kZXIoZSl9LHRoaXMud2luZG93KX19fSkuY2FsbChpLnByb3RvdHlwZSksdC5SZW5kZXJMb29wPWl9KSxkZWZpbmUoImFjZS9tb3VzZS9tb3VzZV9oYW5kbGVyIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9ldmVudCIsImFjZS9saWIvdXNlcmFnZW50IiwiYWNlL21vdXNlL2RlZmF1bHRfaGFuZGxlcnMiLCJhY2UvbW91c2UvZGVmYXVsdF9ndXR0ZXJfaGFuZGxlciIsImFjZS9tb3VzZS9tb3VzZV9ldmVudCIsImFjZS9tb3VzZS9kcmFnZHJvcF9oYW5kbGVyIiwiYWNlL2NvbmZpZyJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSgiLi4vbGliL2V2ZW50IiksaT1lKCIuLi9saWIvdXNlcmFnZW50Iikscz1lKCIuL2RlZmF1bHRfaGFuZGxlcnMiKS5EZWZhdWx0SGFuZGxlcnMsbz1lKCIuL2RlZmF1bHRfZ3V0dGVyX2hhbmRsZXIiKS5HdXR0ZXJIYW5kbGVyLHU9ZSgiLi9tb3VzZV9ldmVudCIpLk1vdXNlRXZlbnQsYT1lKCIuL2RyYWdkcm9wX2hhbmRsZXIiKS5EcmFnZHJvcEhhbmRsZXIsZj1lKCIuLi9jb25maWciKSxsPWZ1bmN0aW9uKGUpe3RoaXMuZWRpdG9yPWUsbmV3IHModGhpcyksbmV3IG8odGhpcyksbmV3IGEodGhpcyk7dmFyIHQ9ZS5yZW5kZXJlci5nZXRNb3VzZUV2ZW50VGFyZ2V0KCk7ci5hZGRMaXN0ZW5lcih0LCJjbGljayIsdGhpcy5vbk1vdXNlRXZlbnQuYmluZCh0aGlzLCJjbGljayIpKSxyLmFkZExpc3RlbmVyKHQsIm1vdXNlbW92ZSIsdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMsIm1vdXNlbW92ZSIpKSxyLmFkZE11bHRpTW91c2VEb3duTGlzdGVuZXIodCxbMzAwLDMwMCwyNTBdLHRoaXMsIm9uTW91c2VFdmVudCIpLGUucmVuZGVyZXIuc2Nyb2xsQmFyViYmKHIuYWRkTXVsdGlNb3VzZURvd25MaXN0ZW5lcihlLnJlbmRlcmVyLnNjcm9sbEJhclYuaW5uZXIsWzMwMCwzMDAsMjUwXSx0aGlzLCJvbk1vdXNlRXZlbnQiKSxyLmFkZE11bHRpTW91c2VEb3duTGlzdGVuZXIoZS5yZW5kZXJlci5zY3JvbGxCYXJILmlubmVyLFszMDAsMzAwLDI1MF0sdGhpcywib25Nb3VzZUV2ZW50IikpLHIuYWRkTW91c2VXaGVlbExpc3RlbmVyKGUuY29udGFpbmVyLHRoaXMub25Nb3VzZVdoZWVsLmJpbmQodGhpcywibW91c2V3aGVlbCIpKTt2YXIgbj1lLnJlbmRlcmVyLiRndXR0ZXI7ci5hZGRMaXN0ZW5lcihuLCJtb3VzZWRvd24iLHRoaXMub25Nb3VzZUV2ZW50LmJpbmQodGhpcywiZ3V0dGVybW91c2Vkb3duIikpLHIuYWRkTGlzdGVuZXIobiwiY2xpY2siLHRoaXMub25Nb3VzZUV2ZW50LmJpbmQodGhpcywiZ3V0dGVyY2xpY2siKSksci5hZGRMaXN0ZW5lcihuLCJkYmxjbGljayIsdGhpcy5vbk1vdXNlRXZlbnQuYmluZCh0aGlzLCJndXR0ZXJkYmxjbGljayIpKSxyLmFkZExpc3RlbmVyKG4sIm1vdXNlbW92ZSIsdGhpcy5vbk1vdXNlRXZlbnQuYmluZCh0aGlzLCJndXR0ZXJtb3VzZW1vdmUiKSksci5hZGRMaXN0ZW5lcih0LCJtb3VzZWRvd24iLGZ1bmN0aW9uKCl7ZS5mb2N1cygpfSksci5hZGRMaXN0ZW5lcihuLCJtb3VzZWRvd24iLGZ1bmN0aW9uKHQpe3JldHVybiBlLmZvY3VzKCksci5wcmV2ZW50RGVmYXVsdCh0KX0pfTsoZnVuY3Rpb24oKXt0aGlzLm9uTW91c2VFdmVudD1mdW5jdGlvbihlLHQpe3RoaXMuZWRpdG9yLl9lbWl0KGUsbmV3IHUodCx0aGlzLmVkaXRvcikpfSx0aGlzLm9uTW91c2VNb3ZlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5lZGl0b3IuX2V2ZW50UmVnaXN0cnkmJnRoaXMuZWRpdG9yLl9ldmVudFJlZ2lzdHJ5Lm1vdXNlbW92ZTtuJiZuLmxlbmd0aCYmdGhpcy5lZGl0b3IuX2VtaXQoZSxuZXcgdSh0LHRoaXMuZWRpdG9yKSl9LHRoaXMub25Nb3VzZVdoZWVsPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IHUodCx0aGlzLmVkaXRvcik7bi5zcGVlZD0yKnRoaXMuJHNjcm9sbFNwZWVkLG4ud2hlZWxYPXQud2hlZWxYLG4ud2hlZWxZPXQud2hlZWxZLHRoaXMuZWRpdG9yLl9lbWl0KGUsbil9LHRoaXMuc2V0U3RhdGU9ZnVuY3Rpb24oZSl7dGhpcy5zdGF0ZT1lfSx0aGlzLmNhcHR1cmVNb3VzZT1mdW5jdGlvbihlLHQpe3RoaXMueD1lLngsdGhpcy55PWUueSx0aGlzLmlzTW91c2VQcmVzc2VkPSEwO3ZhciBuPXRoaXMuZWRpdG9yLnJlbmRlcmVyO24uJGtlZXBUZXh0QXJlYUF0Q3Vyc29yJiYobi4ka2VlcFRleHRBcmVhQXRDdXJzb3I9bnVsbCk7dmFyIHM9dGhpcyxvPWZ1bmN0aW9uKGUpe3MueD1lLmNsaWVudFgscy55PWUuY2xpZW50WSx0JiZ0KGUpLHMubW91c2VFdmVudD1uZXcgdShlLHMuZWRpdG9yKSxzLiRtb3VzZU1vdmVkPSEwfSxhPWZ1bmN0aW9uKGUpe2NsZWFySW50ZXJ2YWwobCksZigpLHNbcy5zdGF0ZSsiRW5kIl0mJnNbcy5zdGF0ZSsiRW5kIl0oZSkscy4kY2xpY2tTZWxlY3Rpb249bnVsbCxudWxsPT1uLiRrZWVwVGV4dEFyZWFBdEN1cnNvciYmKG4uJGtlZXBUZXh0QXJlYUF0Q3Vyc29yPSEwLG4uJG1vdmVUZXh0QXJlYVRvQ3Vyc29yKCkpLHMuaXNNb3VzZVByZXNzZWQ9ITEscy4kb25DYXB0dXJlTW91c2VNb3ZlPXMucmVsZWFzZU1vdXNlPW51bGwscy5vbk1vdXNlRXZlbnQoIm1vdXNldXAiLGUpfSxmPWZ1bmN0aW9uKCl7c1tzLnN0YXRlXSYmc1tzLnN0YXRlXSgpLHMuJG1vdXNlTW92ZWQ9ITF9O2lmKGkuaXNPbGRJRSYmImRibGNsaWNrIj09ZS5kb21FdmVudC50eXBlKXJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YShlKX0pO3MuJG9uQ2FwdHVyZU1vdXNlTW92ZT1vLHMucmVsZWFzZU1vdXNlPXIuY2FwdHVyZSh0aGlzLmVkaXRvci5jb250YWluZXIsbyxhKTt2YXIgbD1zZXRJbnRlcnZhbChmLDIwKX0sdGhpcy5yZWxlYXNlTW91c2U9bnVsbH0pLmNhbGwobC5wcm90b3R5cGUpLGYuZGVmaW5lT3B0aW9ucyhsLnByb3RvdHlwZSwibW91c2VIYW5kbGVyIix7c2Nyb2xsU3BlZWQ6e2luaXRpYWxWYWx1ZToyfSxkcmFnRGVsYXk6e2luaXRpYWxWYWx1ZToxNTB9LGRyYWdFbmFibGVkOntpbml0aWFsVmFsdWU6ITB9LGZvY3VzVGltb3V0Ontpbml0aWFsVmFsdWU6MH0sdG9vbHRpcEZvbGxvd3NNb3VzZTp7aW5pdGlhbFZhbHVlOiEwfX0pLHQuTW91c2VIYW5kbGVyPWx9KSxkZWZpbmUoImFjZS9sYXllci9mb250X21ldHJpY3MiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL29vcCIsImFjZS9saWIvZG9tIiwiYWNlL2xpYi9sYW5nIiwiYWNlL2xpYi9ldmVudF9lbWl0dGVyIl0sZnVuY3Rpb24oZSx0KXt2YXIgcj1lKCIuLi9saWIvb29wIiksaT1lKCIuLi9saWIvZG9tIikscz1lKCIuLi9saWIvbGFuZyIpLG89ZSgiLi4vbGliL2V2ZW50X2VtaXR0ZXIiKS5FdmVudEVtaXR0ZXIsdT0wLGE9dC5Gb250TWV0cmljcz1mdW5jdGlvbihlKXt0aGlzLmVsPWkuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy4kc2V0TWVhc3VyZU5vZGVTdHlsZXModGhpcy5lbC5zdHlsZSwhMCksdGhpcy4kbWFpbj1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuJHNldE1lYXN1cmVOb2RlU3R5bGVzKHRoaXMuJG1haW4uc3R5bGUpLHRoaXMuJG1lYXN1cmVOb2RlPWkuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy4kc2V0TWVhc3VyZU5vZGVTdHlsZXModGhpcy4kbWVhc3VyZU5vZGUuc3R5bGUpLHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy4kbWFpbiksdGhpcy5lbC5hcHBlbmRDaGlsZCh0aGlzLiRtZWFzdXJlTm9kZSksZS5hcHBlbmRDaGlsZCh0aGlzLmVsKSx1fHx0aGlzLiR0ZXN0RnJhY3Rpb25hbFJlY3QoKSx0aGlzLiRtZWFzdXJlTm9kZS50ZXh0Q29udGVudD1zLnN0cmluZ1JlcGVhdCgiWCIsdSksdGhpcy4kY2hhcmFjdGVyU2l6ZT17d2lkdGg6MCxoZWlnaHQ6MH0sdGhpcy5jaGVja0ZvclNpemVDaGFuZ2VzKCl9OyhmdW5jdGlvbigpe3IuaW1wbGVtZW50KHRoaXMsbyksdGhpcy4kY2hhcmFjdGVyU2l6ZT17d2lkdGg6MCxoZWlnaHQ6MH0sdGhpcy4kdGVzdEZyYWN0aW9uYWxSZWN0PWZ1bmN0aW9uKCl7dmFyIGU9aS5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLiRzZXRNZWFzdXJlTm9kZVN0eWxlcyhlLnN0eWxlKSxlLnN0eWxlLndpZHRoPSIwLjJweCIsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGUpO3ZhciB0PWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7dT10PjAmJjE+dD8xOjEwMCxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSl9LHRoaXMuJHNldE1lYXN1cmVOb2RlU3R5bGVzPWZ1bmN0aW9uKGUsdCl7ZS53aWR0aD1lLmhlaWdodD0iYXV0byIsZS5sZWZ0PWUudG9wPSItMTAwcHgiLGUudmlzaWJpbGl0eT0iaGlkZGVuIixlLnBvc2l0aW9uPSJmaXhlZCIsZS53aGl0ZVNwYWNlPSJwcmUiLGUuZm9udD0iaW5oZXJpdCIsZS5vdmVyZmxvdz10PyJoaWRkZW4iOiJ2aXNpYmxlIn0sdGhpcy5jaGVja0ZvclNpemVDaGFuZ2VzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy4kbWVhc3VyZVNpemVzKCk7aWYoZSYmKHRoaXMuJGNoYXJhY3RlclNpemUud2lkdGghPT1lLndpZHRofHx0aGlzLiRjaGFyYWN0ZXJTaXplLmhlaWdodCE9PWUuaGVpZ2h0KSl7dGhpcy4kbWVhc3VyZU5vZGUuc3R5bGUuZm9udFdlaWdodD0iYm9sZCI7dmFyIHQ9dGhpcy4kbWVhc3VyZVNpemVzKCk7dGhpcy4kbWVhc3VyZU5vZGUuc3R5bGUuZm9udFdlaWdodD0iIix0aGlzLiRjaGFyYWN0ZXJTaXplPWUsdGhpcy5jaGFyU2l6ZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLmFsbG93Qm9sZEZvbnRzPXQmJnQud2lkdGg9PT1lLndpZHRoJiZ0LmhlaWdodD09PWUuaGVpZ2h0LHRoaXMuX2VtaXQoImNoYW5nZUNoYXJhY3RlclNpemUiLHtkYXRhOmV9KX19LHRoaXMuJHBvbGxTaXplQ2hhbmdlcz1mdW5jdGlvbigpe2lmKHRoaXMuJHBvbGxTaXplQ2hhbmdlc1RpbWVyKXJldHVybiB0aGlzLiRwb2xsU2l6ZUNoYW5nZXNUaW1lcjt2YXIgZT10aGlzO3JldHVybiB0aGlzLiRwb2xsU2l6ZUNoYW5nZXNUaW1lcj1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2UuY2hlY2tGb3JTaXplQ2hhbmdlcygpfSw1MDApfSx0aGlzLnNldFBvbGxpbmc9ZnVuY3Rpb24oZSl7ZT90aGlzLiRwb2xsU2l6ZUNoYW5nZXMoKTp0aGlzLiRwb2xsU2l6ZUNoYW5nZXNUaW1lciYmdGhpcy4kcG9sbFNpemVDaGFuZ2VzVGltZXJ9LHRoaXMuJG1lYXN1cmVTaXplcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuJG1lYXN1cmVOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHQ9e2hlaWdodDplLmhlaWdodCx3aWR0aDplLndpZHRoL3V9O3JldHVybiAwPT09dC53aWR0aHx8MD09PXQuaGVpZ2h0P251bGw6dH0sdGhpcy4kbWVhc3VyZUNoYXJXaWR0aD1mdW5jdGlvbihlKXt0aGlzLiRtYWluLnRleHRDb250ZW50PXMuc3RyaW5nUmVwZWF0KGUsdSk7dmFyIHQ9dGhpcy4kbWFpbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gdC53aWR0aC91fSx0aGlzLmdldENoYXJhY3RlcldpZHRoPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY2hhclNpemVzW2VdO3JldHVybiB2b2lkIDA9PT10JiYodGhpcy5jaGFyU2l6ZXNbZV09dGhpcy4kbWVhc3VyZUNoYXJXaWR0aChlKS90aGlzLiRjaGFyYWN0ZXJTaXplLndpZHRoKSx0fSx0aGlzLmRlc3Ryb3k9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKHRoaXMuJHBvbGxTaXplQ2hhbmdlc1RpbWVyKSx0aGlzLmVsJiZ0aGlzLmVsLnBhcmVudE5vZGUmJnRoaXMuZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsKX19KS5jYWxsKGEucHJvdG90eXBlKX0pLGRlZmluZSgiYWNlL2tleWJvYXJkL3RleHRpbnB1dCIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvZXZlbnQiLCJhY2UvbGliL3VzZXJhZ2VudCIsImFjZS9saWIvZG9tIiwiYWNlL2xpYi9sYW5nIl0sZnVuY3Rpb24oZSx0KXt2YXIgcj1lKCIuLi9saWIvZXZlbnQiKSxpPWUoIi4uL2xpYi91c2VyYWdlbnQiKSxzPWUoIi4uL2xpYi9kb20iKSxvPWUoIi4uL2xpYi9sYW5nIiksdT1pLmlzQ2hyb21lPDE4LGE9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBiKGUpe2lmKCFoKXtpZihrKXQ9MCxyPWU/MDpuLnZhbHVlLmxlbmd0aC0xO2Vsc2UgdmFyIHQ9ZT8yOjEscj0yO3RyeXtuLnNldFNlbGVjdGlvblJhbmdlKHQscil9Y2F0Y2goaSl7fX19ZnVuY3Rpb24gdygpe2h8fChuLnZhbHVlPWEsaS5pc1dlYktpdCYmeS5zY2hlZHVsZSgpKX1mdW5jdGlvbiBGKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3AmJihuLnN0eWxlLmNzc1RleHQ9cCxwPSIiKSxudWxsPT10LnJlbmRlcmVyLiRrZWVwVGV4dEFyZWFBdEN1cnNvciYmKHQucmVuZGVyZXIuJGtlZXBUZXh0QXJlYUF0Q3Vyc29yPSEwLHQucmVuZGVyZXIuJG1vdmVUZXh0QXJlYVRvQ3Vyc29yKCkpfSwwKX12YXIgbj1zLmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIik7bi5jbGFzc05hbWU9ImFjZV90ZXh0LWlucHV0IixpLmlzVG91Y2hQYWQmJm4uc2V0QXR0cmlidXRlKCJ4LXBhbG0tZGlzYWJsZS1hdXRvLWNhcCIsITApLG4ud3JhcD0ib2ZmIixuLmF1dG9jb3JyZWN0PSJvZmYiLG4uYXV0b2NhcGl0YWxpemU9Im9mZiIsbi5zcGVsbGNoZWNrPSExLG4uc3R5bGUub3BhY2l0eT0iMCIsZS5pbnNlcnRCZWZvcmUobixlLmZpcnN0Q2hpbGQpO3ZhciBhPSIBASIsZj0hMSxsPSExLGM9ITEsaD0hMSxwPSIiLGQ9ITA7dHJ5e3ZhciB2PWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ9PT1ufWNhdGNoKG0pe31yLmFkZExpc3RlbmVyKG4sImJsdXIiLGZ1bmN0aW9uKCl7dC5vbkJsdXIoKSx2PSExfSksci5hZGRMaXN0ZW5lcihuLCJmb2N1cyIsZnVuY3Rpb24oKXt2PSEwLHQub25Gb2N1cygpLGIoKX0pLHRoaXMuZm9jdXM9ZnVuY3Rpb24oKXtuLmZvY3VzKCl9LHRoaXMuYmx1cj1mdW5jdGlvbigpe24uYmx1cigpfSx0aGlzLmlzRm9jdXNlZD1mdW5jdGlvbigpe3JldHVybiB2fTt2YXIgZz1vLmRlbGF5ZWRDYWxsKGZ1bmN0aW9uKCl7diYmYihkKX0pLHk9by5kZWxheWVkQ2FsbChmdW5jdGlvbigpe2h8fChuLnZhbHVlPWEsdiYmYigpKX0pO2kuaXNXZWJLaXR8fHQuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlU2VsZWN0aW9uIixmdW5jdGlvbigpe3Quc2VsZWN0aW9uLmlzRW1wdHkoKSE9ZCYmKGQ9IWQsZy5zY2hlZHVsZSgpKX0pLHcoKSx2JiZ0Lm9uRm9jdXMoKTt2YXIgRT1mdW5jdGlvbihlKXtyZXR1cm4gMD09PWUuc2VsZWN0aW9uU3RhcnQmJmUuc2VsZWN0aW9uRW5kPT09ZS52YWx1ZS5sZW5ndGh9O2lmKCFuLnNldFNlbGVjdGlvblJhbmdlJiZuLmNyZWF0ZVRleHRSYW5nZSYmKG4uc2V0U2VsZWN0aW9uUmFuZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVRleHRSYW5nZSgpO24uY29sbGFwc2UoITApLG4ubW92ZVN0YXJ0KCJjaGFyYWN0ZXIiLGUpLG4ubW92ZUVuZCgiY2hhcmFjdGVyIix0KSxuLnNlbGVjdCgpfSxFPWZ1bmN0aW9uKGUpe3RyeXt2YXIgdD1lLm93bmVyRG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCl9Y2F0Y2gobil7fXJldHVybiB0JiZ0LnBhcmVudEVsZW1lbnQoKT09ZT90LnRleHQ9PWUudmFsdWU6ITF9KSxpLmlzT2xkSUUpe3ZhciBTPSExLHg9ZnVuY3Rpb24oZSl7aWYoIVMpe3ZhciB0PW4udmFsdWU7aWYoIWgmJnQmJnQhPWEpcmV0dXJuIGUmJnQ9PWFbMF0/VC5zY2hlZHVsZSgpOihBKHQpLFM9ITAsdygpLFM9ITEsdm9pZCAwKX19LFQ9by5kZWxheWVkQ2FsbCh4KTtyLmFkZExpc3RlbmVyKG4sInByb3BlcnR5Y2hhbmdlIix4KTt2YXIgTj17MTM6MSwyNzoxfTtyLmFkZExpc3RlbmVyKG4sImtleXVwIixmdW5jdGlvbihlKXtyZXR1cm4gaCYmKCFuLnZhbHVlfHxOW2Uua2V5Q29kZV0pJiZzZXRUaW1lb3V0KEIsMCksKG4udmFsdWUuY2hhckNvZGVBdCgwKXx8MCk8MTI5P1QuY2FsbCgpOnZvaWQoaD9IKCk6UCgpKX0pLHIuYWRkTGlzdGVuZXIobiwia2V5ZG93biIsZnVuY3Rpb24oKXtULnNjaGVkdWxlKDUwKX0pfXZhciBDPWZ1bmN0aW9uKCl7Zj9mPSExOmw/bD0hMTpFKG4pPyh0LnNlbGVjdEFsbCgpLGIoKSk6ayYmYih0LnNlbGVjdGlvbi5pc0VtcHR5KCkpCn0saz1udWxsO3RoaXMuc2V0SW5wdXRIYW5kbGVyPWZ1bmN0aW9uKGUpe2s9ZX0sdGhpcy5nZXRJbnB1dEhhbmRsZXI9ZnVuY3Rpb24oKXtyZXR1cm4ga307dmFyIEw9ITEsQT1mdW5jdGlvbihlKXtrJiYoZT1rKGUpLGs9bnVsbCksYz8oYigpLGUmJnQub25QYXN0ZShlKSxjPSExKTplPT1hLmNoYXJBdCgwKT9MP3QuZXhlY0NvbW1hbmQoImRlbCIse3NvdXJjZToiYWNlIn0pOnQuZXhlY0NvbW1hbmQoImJhY2tzcGFjZSIse3NvdXJjZToiYWNlIn0pOihlLnN1YnN0cmluZygwLDIpPT1hP2U9ZS5zdWJzdHIoMik6ZS5jaGFyQXQoMCk9PWEuY2hhckF0KDApP2U9ZS5zdWJzdHIoMSk6ZS5jaGFyQXQoZS5sZW5ndGgtMSk9PWEuY2hhckF0KDApJiYoZT1lLnNsaWNlKDAsLTEpKSxlLmNoYXJBdChlLmxlbmd0aC0xKT09YS5jaGFyQXQoMCkmJihlPWUuc2xpY2UoMCwtMSkpLGUmJnQub25UZXh0SW5wdXQoZSkpLEwmJihMPSExKX0sTz1mdW5jdGlvbigpe2lmKCFoKXt2YXIgdD1uLnZhbHVlO0EodCksdygpfX0sTT1mdW5jdGlvbihlKXt2YXIgaT10LmdldENvcHlUZXh0KCk7aWYoIWkpcmV0dXJuIHZvaWQgci5wcmV2ZW50RGVmYXVsdChlKTt2YXIgcz1lLmNsaXBib2FyZERhdGF8fHdpbmRvdy5jbGlwYm9hcmREYXRhO2lmKHMmJiF1KXt2YXIgbz1zLnNldERhdGEoIlRleHQiLGkpO28mJih0Lm9uQ3V0KCksci5wcmV2ZW50RGVmYXVsdChlKSl9b3x8KGY9ITAsbi52YWx1ZT1pLG4uc2VsZWN0KCksc2V0VGltZW91dChmdW5jdGlvbigpe2Y9ITEsdygpLGIoKSx0Lm9uQ3V0KCl9KSl9LF89ZnVuY3Rpb24oZSl7dmFyIGk9dC5nZXRDb3B5VGV4dCgpO2lmKCFpKXJldHVybiB2b2lkIHIucHJldmVudERlZmF1bHQoZSk7dmFyIHM9ZS5jbGlwYm9hcmREYXRhfHx3aW5kb3cuY2xpcGJvYXJkRGF0YTtpZihzJiYhdSl7dmFyIG89cy5zZXREYXRhKCJUZXh0IixpKTtvJiYodC5vbkNvcHkoKSxyLnByZXZlbnREZWZhdWx0KGUpKX1vfHwobD0hMCxuLnZhbHVlPWksbi5zZWxlY3QoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bD0hMSx3KCksYigpLHQub25Db3B5KCl9KSl9LEQ9ZnVuY3Rpb24oZSl7dmFyIHM9ZS5jbGlwYm9hcmREYXRhfHx3aW5kb3cuY2xpcGJvYXJkRGF0YTtpZihzKXt2YXIgbz1zLmdldERhdGEoIlRleHQiKTtvJiZ0Lm9uUGFzdGUobyksaS5pc0lFJiZzZXRUaW1lb3V0KGIpLHIucHJldmVudERlZmF1bHQoZSl9ZWxzZSBuLnZhbHVlPSIiLGM9ITB9O3IuYWRkQ29tbWFuZEtleUxpc3RlbmVyKG4sdC5vbkNvbW1hbmRLZXkuYmluZCh0KSksci5hZGRMaXN0ZW5lcihuLCJzZWxlY3QiLEMpLHIuYWRkTGlzdGVuZXIobiwiaW5wdXQiLE8pLHIuYWRkTGlzdGVuZXIobiwiY3V0IixNKSxyLmFkZExpc3RlbmVyKG4sImNvcHkiLF8pLHIuYWRkTGlzdGVuZXIobiwicGFzdGUiLEQpLCEoIm9uY3V0ImluIG4mJiJvbmNvcHkiaW4gbiYmIm9ucGFzdGUiaW4gbnx8IXIuYWRkTGlzdGVuZXIoZSwia2V5ZG93biIsZnVuY3Rpb24oZSl7aWYoKCFpLmlzTWFjfHxlLm1ldGFLZXkpJiZlLmN0cmxLZXkpc3dpdGNoKGUua2V5Q29kZSl7Y2FzZSA2NzpfKGUpO2JyZWFrO2Nhc2UgODY6RChlKTticmVhaztjYXNlIDg4Ok0oZSl9fSkpO3ZhciBQPWZ1bmN0aW9uKCl7IWgmJnQub25Db21wb3NpdGlvblN0YXJ0JiYoaD17fSx0Lm9uQ29tcG9zaXRpb25TdGFydCgpLHNldFRpbWVvdXQoSCwwKSx0Lm9uKCJtb3VzZWRvd24iLEIpLHQuc2VsZWN0aW9uLmlzRW1wdHkoKXx8KHQuaW5zZXJ0KCIiKSx0LnNlc3Npb24ubWFya1VuZG9Hcm91cCgpLHQuc2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKCkpLHQuc2Vzc2lvbi5tYXJrVW5kb0dyb3VwKCkpfSxIPWZ1bmN0aW9uKCl7aWYoaCYmdC5vbkNvbXBvc2l0aW9uVXBkYXRlKXt2YXIgZT1uLnZhbHVlLnJlcGxhY2UoL1x4MDEvZywiIik7aWYoaC5sYXN0VmFsdWUhPT1lJiYodC5vbkNvbXBvc2l0aW9uVXBkYXRlKGUpLGgubGFzdFZhbHVlJiZ0LnVuZG8oKSxoLmxhc3RWYWx1ZT1lLGgubGFzdFZhbHVlKSl7dmFyIHI9dC5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTt0Lmluc2VydChoLmxhc3RWYWx1ZSksdC5zZXNzaW9uLm1hcmtVbmRvR3JvdXAoKSxoLnJhbmdlPXQuc2VsZWN0aW9uLmdldFJhbmdlKCksdC5zZWxlY3Rpb24uc2V0UmFuZ2UociksdC5zZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oKX19fSxCPWZ1bmN0aW9uKGUpe2lmKHQub25Db21wb3NpdGlvbkVuZCl7dmFyIHI9aDtoPSExO3ZhciBpPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpPW51bGw7dmFyIGU9bi52YWx1ZS5yZXBsYWNlKC9ceDAxL2csIiIpO2h8fChlPT1yLmxhc3RWYWx1ZT93KCk6IXIubGFzdFZhbHVlJiZlJiYodygpLEEoZSkpKX0pO2s9ZnVuY3Rpb24obil7cmV0dXJuIGkmJmNsZWFyVGltZW91dChpKSxuPW4ucmVwbGFjZSgvXHgwMS9nLCIiKSxuPT1yLmxhc3RWYWx1ZT8iIjooci5sYXN0VmFsdWUmJmkmJnQudW5kbygpLG4pfSx0Lm9uQ29tcG9zaXRpb25FbmQoKSx0LnJlbW92ZUxpc3RlbmVyKCJtb3VzZWRvd24iLEIpLCJjb21wb3NpdGlvbmVuZCI9PWUudHlwZSYmci5yYW5nZSYmdC5zZWxlY3Rpb24uc2V0UmFuZ2Uoci5yYW5nZSl9fSxqPW8uZGVsYXllZENhbGwoSCw1MCk7aWYoci5hZGRMaXN0ZW5lcihuLCJjb21wb3NpdGlvbnN0YXJ0IixQKSxpLmlzR2Vja28/ci5hZGRMaXN0ZW5lcihuLCJ0ZXh0IixmdW5jdGlvbigpe2ouc2NoZWR1bGUoKX0pOihyLmFkZExpc3RlbmVyKG4sImtleXVwIixmdW5jdGlvbigpe2ouc2NoZWR1bGUoKX0pLHIuYWRkTGlzdGVuZXIobiwia2V5ZG93biIsZnVuY3Rpb24oKXtqLnNjaGVkdWxlKCl9KSksci5hZGRMaXN0ZW5lcihuLCJjb21wb3NpdGlvbmVuZCIsQiksdGhpcy5nZXRFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIG59LHRoaXMuc2V0UmVhZE9ubHk9ZnVuY3Rpb24oZSl7bi5yZWFkT25seT1lfSx0aGlzLm9uQ29udGV4dE1lbnU9ZnVuY3Rpb24oZSl7TD0hMCxwfHwocD1uLnN0eWxlLmNzc1RleHQpLG4uc3R5bGUuY3NzVGV4dD0iei1pbmRleDoxMDAwMDA7IisoaS5pc0lFPyJvcGFjaXR5OjAuMTsiOiIiKSxiKHQuc2VsZWN0aW9uLmlzRW1wdHkoKSksdC5fZW1pdCgibmF0aXZlY29udGV4dG1lbnUiLHt0YXJnZXQ6dCxkb21FdmVudDplfSk7dmFyIG89dC5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdT1zLmNvbXB1dGVkU3R5bGUodC5jb250YWluZXIpLGE9by50b3ArKHBhcnNlSW50KHUuYm9yZGVyVG9wV2lkdGgpfHwwKSxmPW8ubGVmdCsocGFyc2VJbnQoby5ib3JkZXJMZWZ0V2lkdGgpfHwwKSxsPW8uYm90dG9tLWEtbi5jbGllbnRIZWlnaHQsYz1mdW5jdGlvbihlKXtuLnN0eWxlLmxlZnQ9ZS5jbGllbnRYLWYtMisicHgiLG4uc3R5bGUudG9wPU1hdGgubWluKGUuY2xpZW50WS1hLTIsbCkrInB4In07YyhlKSwibW91c2Vkb3duIj09ZS50eXBlJiYodC5yZW5kZXJlci4ka2VlcFRleHRBcmVhQXRDdXJzb3ImJih0LnJlbmRlcmVyLiRrZWVwVGV4dEFyZWFBdEN1cnNvcj1udWxsKSxpLmlzV2luJiZyLmNhcHR1cmUodC5jb250YWluZXIsYyxGKSl9LHRoaXMub25Db250ZXh0TWVudUNsb3NlPUYsIWkuaXNHZWNrb3x8aS5pc01hYyl7dmFyIEk9ZnVuY3Rpb24oZSl7dC50ZXh0SW5wdXQub25Db250ZXh0TWVudShlKSxGKCl9O3IuYWRkTGlzdGVuZXIodC5yZW5kZXJlci5zY3JvbGxlciwiY29udGV4dG1lbnUiLEkpLHIuYWRkTGlzdGVuZXIobiwiY29udGV4dG1lbnUiLEkpfX07dC5UZXh0SW5wdXQ9YX0pLGRlZmluZSgiYWNlL2xpYi9sYW5nIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oZSx0KXt0Lmxhc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5sZW5ndGgtMV19LHQuc3RyaW5nUmV2ZXJzZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5zcGxpdCgiIikucmV2ZXJzZSgpLmpvaW4oIiIpfSx0LnN0cmluZ1JlcGVhdD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0iIjt0PjA7KTEmdCYmKG4rPWUpLCh0Pj49MSkmJihlKz1lKTtyZXR1cm4gbn07dmFyIHI9L15cc1xzKi8saT0vXHNccyokLzt0LnN0cmluZ1RyaW1MZWZ0PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UociwiIil9LHQuc3RyaW5nVHJpbVJpZ2h0PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoaSwiIil9LHQuY29weU9iamVjdD1mdW5jdGlvbihlKXt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSl0W25dPWVbbl07cmV0dXJuIHR9LHQuY29weUFycmF5PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTAscj1lLmxlbmd0aDtyPm47bisrKXRbbl09ZVtuXSYmIm9iamVjdCI9PXR5cGVvZiBlW25dP3RoaXMuY29weU9iamVjdChlW25dKTplW25dO3JldHVybiB0fSx0LmRlZXBDb3B5PWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiIT10eXBlb2YgZXx8IWUpcmV0dXJuIGU7dmFyIG49ZS5jb25zdHJ1Y3RvcjtpZihuPT09UmVnRXhwKXJldHVybiBlO3ZhciByPW4oKTtmb3IodmFyIGkgaW4gZSlyW2ldPSJvYmplY3QiPT10eXBlb2YgZVtpXT90LmRlZXBDb3B5KGVbaV0pOmVbaV07cmV0dXJuIHJ9LHQuYXJyYXlUb01hcD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9e30sbj0wO248ZS5sZW5ndGg7bisrKXRbZVtuXV09MTtyZXR1cm4gdH0sdC5jcmVhdGVNYXA9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IodmFyIG4gaW4gZSl0W25dPWVbbl07cmV0dXJuIHR9LHQuYXJyYXlSZW1vdmU9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPD1lLmxlbmd0aDtuKyspdD09PWVbbl0mJmUuc3BsaWNlKG4sMSl9LHQuZXNjYXBlUmVnRXhwPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLyhbLiorP14ke30oKXxbXF1cL1xcXSkvZywiXFwkMSIpfSx0LmVzY2FwZUhUTUw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvJi9nLCImIzM4OyIpLnJlcGxhY2UoLyIvZywiJiMzNDsiKS5yZXBsYWNlKC8nL2csIiYjMzk7IikucmVwbGFjZSgvPC9nLCImIzYwOyIpfSx0LmdldE1hdGNoT2Zmc2V0cz1mdW5jdGlvbihlLHQpe3ZhciBuPVtdO3JldHVybiBlLnJlcGxhY2UodCxmdW5jdGlvbihlKXtuLnB1c2goe29mZnNldDphcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aC0yXSxsZW5ndGg6ZS5sZW5ndGh9KX0pLG59LHQuZGVmZXJyZWRDYWxsPWZ1bmN0aW9uKGUpe3ZhciB0PW51bGwsbj1mdW5jdGlvbigpe3Q9bnVsbCxlKCl9LHI9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuY2FuY2VsKCksdD1zZXRUaW1lb3V0KG4sZXx8MCkscn07cmV0dXJuIHIuc2NoZWR1bGU9cixyLmNhbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW5jZWwoKSxlKCkscn0sci5jYW5jZWw9ZnVuY3Rpb24oKXtyZXR1cm4gY2xlYXJUaW1lb3V0KHQpLHQ9bnVsbCxyfSxyLmlzUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiB0fSxyfSx0LmRlbGF5ZWRDYWxsPWZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbCxyPWZ1bmN0aW9uKCl7bj1udWxsLGUoKX0saT1mdW5jdGlvbihlKXtudWxsPT1uJiYobj1zZXRUaW1lb3V0KHIsZXx8dCkpfTtyZXR1cm4gaS5kZWxheT1mdW5jdGlvbihlKXtuJiZjbGVhclRpbWVvdXQobiksbj1zZXRUaW1lb3V0KHIsZXx8dCl9LGkuc2NoZWR1bGU9aSxpLmNhbGw9ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbCgpLGUoKX0saS5jYW5jZWw9ZnVuY3Rpb24oKXtuJiZjbGVhclRpbWVvdXQobiksbj1udWxsfSxpLmlzUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiBufSxpfX0pLGRlZmluZSgiYWNlL211bHRpX3NlbGVjdCIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9yYW5nZV9saXN0IiwiYWNlL3JhbmdlIiwiYWNlL3NlbGVjdGlvbiIsImFjZS9tb3VzZS9tdWx0aV9zZWxlY3RfaGFuZGxlciIsImFjZS9saWIvZXZlbnQiLCJhY2UvbGliL2xhbmciLCJhY2UvY29tbWFuZHMvbXVsdGlfc2VsZWN0X2NvbW1hbmRzIiwiYWNlL3NlYXJjaCIsImFjZS9lZGl0X3Nlc3Npb24iLCJhY2UvZWRpdG9yIiwiYWNlL2NvbmZpZyJdLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gaChlLHQsbil7cmV0dXJuIGMuJG9wdGlvbnMud3JhcD0hMCxjLiRvcHRpb25zLm5lZWRsZT10LGMuJG9wdGlvbnMuYmFja3dhcmRzPS0xPT1uLGMuZmluZChlKX1mdW5jdGlvbiB2KGUsdCl7cmV0dXJuIGUucm93PT10LnJvdyYmZS5jb2x1bW49PXQuY29sdW1ufWZ1bmN0aW9uIG0oZSl7ZS4kbXVsdGlzZWxlY3RPblNlc3Npb25DaGFuZ2V8fChlLiRvbkFkZFJhbmdlPWUuJG9uQWRkUmFuZ2UuYmluZChlKSxlLiRvblJlbW92ZVJhbmdlPWUuJG9uUmVtb3ZlUmFuZ2UuYmluZChlKSxlLiRvbk11bHRpU2VsZWN0PWUuJG9uTXVsdGlTZWxlY3QuYmluZChlKSxlLiRvblNpbmdsZVNlbGVjdD1lLiRvblNpbmdsZVNlbGVjdC5iaW5kKGUpLGUuJG11bHRpc2VsZWN0T25TZXNzaW9uQ2hhbmdlPXQub25TZXNzaW9uQ2hhbmdlLmJpbmQoZSksZS4kbXVsdGlzZWxlY3RPblNlc3Npb25DaGFuZ2UoZSksZS5vbigiY2hhbmdlU2Vzc2lvbiIsZS4kbXVsdGlzZWxlY3RPblNlc3Npb25DaGFuZ2UpLGUub24oIm1vdXNlZG93biIsbyksZS5jb21tYW5kcy5hZGRDb21tYW5kcyhmLmRlZmF1bHRDb21tYW5kcyksZyhlKSl9ZnVuY3Rpb24gZyhlKXtmdW5jdGlvbiByKCl7biYmKGUucmVuZGVyZXIuc2V0TW91c2VDdXJzb3IoIiIpLG49ITEpfXZhciB0PWUudGV4dElucHV0LmdldEVsZW1lbnQoKSxuPSExO3UuYWRkTGlzdGVuZXIodCwia2V5ZG93biIsZnVuY3Rpb24odCl7MTghPXQua2V5Q29kZXx8dC5jdHJsS2V5fHx0LnNoaWZ0S2V5fHx0Lm1ldGFLZXk/biYmcigpOm58fChlLnJlbmRlcmVyLnNldE1vdXNlQ3Vyc29yKCJjcm9zc2hhaXIiKSxuPSEwKX0pLHUuYWRkTGlzdGVuZXIodCwia2V5dXAiLHIpLHUuYWRkTGlzdGVuZXIodCwiYmx1ciIscil9dmFyIHI9ZSgiLi9yYW5nZV9saXN0IikuUmFuZ2VMaXN0LGk9ZSgiLi9yYW5nZSIpLlJhbmdlLHM9ZSgiLi9zZWxlY3Rpb24iKS5TZWxlY3Rpb24sbz1lKCIuL21vdXNlL211bHRpX3NlbGVjdF9oYW5kbGVyIikub25Nb3VzZURvd24sdT1lKCIuL2xpYi9ldmVudCIpLGE9ZSgiLi9saWIvbGFuZyIpLGY9ZSgiLi9jb21tYW5kcy9tdWx0aV9zZWxlY3RfY29tbWFuZHMiKTt0LmNvbW1hbmRzPWYuZGVmYXVsdENvbW1hbmRzLmNvbmNhdChmLm11bHRpU2VsZWN0Q29tbWFuZHMpO3ZhciBsPWUoIi4vc2VhcmNoIikuU2VhcmNoLGM9bmV3IGwscD1lKCIuL2VkaXRfc2Vzc2lvbiIpLkVkaXRTZXNzaW9uOyhmdW5jdGlvbigpe3RoaXMuZ2V0U2VsZWN0aW9uTWFya2Vycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRzZWxlY3Rpb25NYXJrZXJzfX0pLmNhbGwocC5wcm90b3R5cGUpLGZ1bmN0aW9uKCl7dGhpcy5yYW5nZXM9bnVsbCx0aGlzLnJhbmdlTGlzdD1udWxsLHRoaXMuYWRkUmFuZ2U9ZnVuY3Rpb24oZSx0KXtpZihlKXtpZighdGhpcy5pbk11bHRpU2VsZWN0TW9kZSYmMD09dGhpcy5yYW5nZUNvdW50KXt2YXIgbj10aGlzLnRvT3JpZW50ZWRSYW5nZSgpO2lmKHRoaXMucmFuZ2VMaXN0LmFkZChuKSx0aGlzLnJhbmdlTGlzdC5hZGQoZSksMiE9dGhpcy5yYW5nZUxpc3QucmFuZ2VzLmxlbmd0aClyZXR1cm4gdGhpcy5yYW5nZUxpc3QucmVtb3ZlQWxsKCksdHx8dGhpcy5mcm9tT3JpZW50ZWRSYW5nZShlKTt0aGlzLnJhbmdlTGlzdC5yZW1vdmVBbGwoKSx0aGlzLnJhbmdlTGlzdC5hZGQobiksdGhpcy4kb25BZGRSYW5nZShuKX1lLmN1cnNvcnx8KGUuY3Vyc29yPWUuZW5kKTt2YXIgcj10aGlzLnJhbmdlTGlzdC5hZGQoZSk7cmV0dXJuIHRoaXMuJG9uQWRkUmFuZ2UoZSksci5sZW5ndGgmJnRoaXMuJG9uUmVtb3ZlUmFuZ2UociksdGhpcy5yYW5nZUNvdW50PjEmJiF0aGlzLmluTXVsdGlTZWxlY3RNb2RlJiYodGhpcy5fc2lnbmFsKCJtdWx0aVNlbGVjdCIpLHRoaXMuaW5NdWx0aVNlbGVjdE1vZGU9ITAsdGhpcy5zZXNzaW9uLiR1bmRvU2VsZWN0PSExLHRoaXMucmFuZ2VMaXN0LmF0dGFjaCh0aGlzLnNlc3Npb24pKSx0fHx0aGlzLmZyb21PcmllbnRlZFJhbmdlKGUpfX0sdGhpcy50b1NpbmdsZVJhbmdlPWZ1bmN0aW9uKGUpe2U9ZXx8dGhpcy5yYW5nZXNbMF07dmFyIHQ9dGhpcy5yYW5nZUxpc3QucmVtb3ZlQWxsKCk7dC5sZW5ndGgmJnRoaXMuJG9uUmVtb3ZlUmFuZ2UodCksZSYmdGhpcy5mcm9tT3JpZW50ZWRSYW5nZShlKX0sdGhpcy5zdWJzdHJhY3RQb2ludD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnJhbmdlTGlzdC5zdWJzdHJhY3RQb2ludChlKTtyZXR1cm4gdD8odGhpcy4kb25SZW1vdmVSYW5nZSh0KSx0WzBdKTp2b2lkIDB9LHRoaXMubWVyZ2VPdmVybGFwcGluZ1Jhbmdlcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMucmFuZ2VMaXN0Lm1lcmdlKCk7ZS5sZW5ndGg/dGhpcy4kb25SZW1vdmVSYW5nZShlKTp0aGlzLnJhbmdlc1swXSYmdGhpcy5mcm9tT3JpZW50ZWRSYW5nZSh0aGlzLnJhbmdlc1swXSl9LHRoaXMuJG9uQWRkUmFuZ2U9ZnVuY3Rpb24oZSl7dGhpcy5yYW5nZUNvdW50PXRoaXMucmFuZ2VMaXN0LnJhbmdlcy5sZW5ndGgsdGhpcy5yYW5nZXMudW5zaGlmdChlKSx0aGlzLl9zaWduYWwoImFkZFJhbmdlIix7cmFuZ2U6ZX0pfSx0aGlzLiRvblJlbW92ZVJhbmdlPWZ1bmN0aW9uKGUpe2lmKHRoaXMucmFuZ2VDb3VudD10aGlzLnJhbmdlTGlzdC5yYW5nZXMubGVuZ3RoLDE9PXRoaXMucmFuZ2VDb3VudCYmdGhpcy5pbk11bHRpU2VsZWN0TW9kZSl7dmFyIHQ9dGhpcy5yYW5nZUxpc3QucmFuZ2VzLnBvcCgpO2UucHVzaCh0KSx0aGlzLnJhbmdlQ291bnQ9MH1mb3IodmFyIG49ZS5sZW5ndGg7bi0tOyl7dmFyIHI9dGhpcy5yYW5nZXMuaW5kZXhPZihlW25dKTt0aGlzLnJhbmdlcy5zcGxpY2UociwxKX10aGlzLl9zaWduYWwoInJlbW92ZVJhbmdlIix7cmFuZ2VzOmV9KSwwPT10aGlzLnJhbmdlQ291bnQmJnRoaXMuaW5NdWx0aVNlbGVjdE1vZGUmJih0aGlzLmluTXVsdGlTZWxlY3RNb2RlPSExLHRoaXMuX3NpZ25hbCgic2luZ2xlU2VsZWN0IiksdGhpcy5zZXNzaW9uLiR1bmRvU2VsZWN0PSEwLHRoaXMucmFuZ2VMaXN0LmRldGFjaCh0aGlzLnNlc3Npb24pKSx0PXR8fHRoaXMucmFuZ2VzWzBdLHQmJiF0LmlzRXF1YWwodGhpcy5nZXRSYW5nZSgpKSYmdGhpcy5mcm9tT3JpZW50ZWRSYW5nZSh0KX0sdGhpcy4kaW5pdFJhbmdlTGlzdD1mdW5jdGlvbigpe3RoaXMucmFuZ2VMaXN0fHwodGhpcy5yYW5nZUxpc3Q9bmV3IHIsdGhpcy5yYW5nZXM9W10sdGhpcy5yYW5nZUNvdW50PTApfSx0aGlzLmdldEFsbFJhbmdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJhbmdlQ291bnQ/dGhpcy5yYW5nZUxpc3QucmFuZ2VzLmNvbmNhdCgpOlt0aGlzLmdldFJhbmdlKCldfSx0aGlzLnNwbGl0SW50b0xpbmVzPWZ1bmN0aW9uKCl7aWYodGhpcy5yYW5nZUNvdW50PjEpe3ZhciBlPXRoaXMucmFuZ2VMaXN0LnJhbmdlcyx0PWVbZS5sZW5ndGgtMV0sbj1pLmZyb21Qb2ludHMoZVswXS5zdGFydCx0LmVuZCk7dGhpcy50b1NpbmdsZVJhbmdlKCksdGhpcy5zZXRTZWxlY3Rpb25SYW5nZShuLHQuY3Vyc29yPT10LnN0YXJ0KX1lbHNle3ZhciBuPXRoaXMuZ2V0UmFuZ2UoKSxyPXRoaXMuaXNCYWNrd2FyZHMoKSxzPW4uc3RhcnQucm93LG89bi5lbmQucm93O2lmKHM9PW8pe2lmKHIpdmFyIHU9bi5lbmQsYT1uLnN0YXJ0O2Vsc2UgdmFyIHU9bi5zdGFydCxhPW4uZW5kO3JldHVybiB0aGlzLmFkZFJhbmdlKGkuZnJvbVBvaW50cyhhLGEpKSx2b2lkIHRoaXMuYWRkUmFuZ2UoaS5mcm9tUG9pbnRzKHUsdSkpfXZhciBmPVtdLGw9dGhpcy5nZXRMaW5lUmFuZ2UocywhMCk7bC5zdGFydC5jb2x1bW49bi5zdGFydC5jb2x1bW4sZi5wdXNoKGwpO2Zvcih2YXIgYz1zKzE7bz5jO2MrKylmLnB1c2godGhpcy5nZXRMaW5lUmFuZ2UoYywhMCkpO2w9dGhpcy5nZXRMaW5lUmFuZ2UobywhMCksbC5lbmQuY29sdW1uPW4uZW5kLmNvbHVtbixmLnB1c2gobCksZi5mb3JFYWNoKHRoaXMuYWRkUmFuZ2UsdGhpcyl9fSx0aGlzLnRvZ2dsZUJsb2NrU2VsZWN0aW9uPWZ1bmN0aW9uKCl7aWYodGhpcy5yYW5nZUNvdW50PjEpe3ZhciBlPXRoaXMucmFuZ2VMaXN0LnJhbmdlcyx0PWVbZS5sZW5ndGgtMV0sbj1pLmZyb21Qb2ludHMoZVswXS5zdGFydCx0LmVuZCk7dGhpcy50b1NpbmdsZVJhbmdlKCksdGhpcy5zZXRTZWxlY3Rpb25SYW5nZShuLHQuY3Vyc29yPT10LnN0YXJ0KX1lbHNle3ZhciByPXRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24odGhpcy5zZWxlY3Rpb25MZWFkKSxzPXRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24odGhpcy5zZWxlY3Rpb25BbmNob3IpLG89dGhpcy5yZWN0YW5ndWxhclJhbmdlQmxvY2socixzKTtvLmZvckVhY2godGhpcy5hZGRSYW5nZSx0aGlzKX19LHRoaXMucmVjdGFuZ3VsYXJSYW5nZUJsb2NrPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1bXSxzPWUuY29sdW1uPHQuY29sdW1uO2lmKHMpdmFyIG89ZS5jb2x1bW4sdT10LmNvbHVtbjtlbHNlIHZhciBvPXQuY29sdW1uLHU9ZS5jb2x1bW47dmFyIGE9ZS5yb3c8dC5yb3c7aWYoYSl2YXIgZj1lLnJvdyxsPXQucm93O2Vsc2UgdmFyIGY9dC5yb3csbD1lLnJvdzswPm8mJihvPTApLDA+ZiYmKGY9MCksZj09bCYmKG49ITApO2Zvcih2YXIgYz1mO2w+PWM7YysrKXt2YXIgaD1pLmZyb21Qb2ludHModGhpcy5zZXNzaW9uLnNjcmVlblRvRG9jdW1lbnRQb3NpdGlvbihjLG8pLHRoaXMuc2Vzc2lvbi5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24oYyx1KSk7aWYoaC5pc0VtcHR5KCkpe2lmKHAmJnYoaC5lbmQscCkpYnJlYWs7dmFyIHA9aC5lbmR9aC5jdXJzb3I9cz9oLnN0YXJ0OmguZW5kLHIucHVzaChoKX1pZihhJiZyLnJldmVyc2UoKSwhbil7Zm9yKHZhciBkPXIubGVuZ3RoLTE7cltkXS5pc0VtcHR5KCkmJmQ+MDspZC0tO2lmKGQ+MClmb3IodmFyIG09MDtyW21dLmlzRW1wdHkoKTspbSsrO2Zvcih2YXIgZz1kO2c+PW07Zy0tKXJbZ10uaXNFbXB0eSgpJiZyLnNwbGljZShnLDEpfXJldHVybiByfX0uY2FsbChzLnByb3RvdHlwZSk7dmFyIGQ9ZSgiLi9lZGl0b3IiKS5FZGl0b3I7KGZ1bmN0aW9uKCl7dGhpcy51cGRhdGVTZWxlY3Rpb25NYXJrZXJzPWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci51cGRhdGVDdXJzb3IoKSx0aGlzLnJlbmRlcmVyLnVwZGF0ZUJhY2tNYXJrZXJzKCl9LHRoaXMuYWRkU2VsZWN0aW9uTWFya2VyPWZ1bmN0aW9uKGUpe2UuY3Vyc29yfHwoZS5jdXJzb3I9ZS5lbmQpO3ZhciB0PXRoaXMuZ2V0U2VsZWN0aW9uU3R5bGUoKTtyZXR1cm4gZS5tYXJrZXI9dGhpcy5zZXNzaW9uLmFkZE1hcmtlcihlLCJhY2Vfc2VsZWN0aW9uIix0KSx0aGlzLnNlc3Npb24uJHNlbGVjdGlvbk1hcmtlcnMucHVzaChlKSx0aGlzLnNlc3Npb24uc2VsZWN0aW9uTWFya2VyQ291bnQ9dGhpcy5zZXNzaW9uLiRzZWxlY3Rpb25NYXJrZXJzLmxlbmd0aCxlfSx0aGlzLnJlbW92ZVNlbGVjdGlvbk1hcmtlcj1mdW5jdGlvbihlKXtpZihlLm1hcmtlcil7dGhpcy5zZXNzaW9uLnJlbW92ZU1hcmtlcihlLm1hcmtlcik7dmFyIHQ9dGhpcy5zZXNzaW9uLiRzZWxlY3Rpb25NYXJrZXJzLmluZGV4T2YoZSk7LTEhPXQmJnRoaXMuc2Vzc2lvbi4kc2VsZWN0aW9uTWFya2Vycy5zcGxpY2UodCwxKSx0aGlzLnNlc3Npb24uc2VsZWN0aW9uTWFya2VyQ291bnQ9dGhpcy5zZXNzaW9uLiRzZWxlY3Rpb25NYXJrZXJzLmxlbmd0aH19LHRoaXMucmVtb3ZlU2VsZWN0aW9uTWFya2Vycz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5zZXNzaW9uLiRzZWxlY3Rpb25NYXJrZXJzLG49ZS5sZW5ndGg7bi0tOyl7dmFyIHI9ZVtuXTtpZihyLm1hcmtlcil7dGhpcy5zZXNzaW9uLnJlbW92ZU1hcmtlcihyLm1hcmtlcik7dmFyIGk9dC5pbmRleE9mKHIpOy0xIT1pJiZ0LnNwbGljZShpLDEpfX10aGlzLnNlc3Npb24uc2VsZWN0aW9uTWFya2VyQ291bnQ9dC5sZW5ndGh9LHRoaXMuJG9uQWRkUmFuZ2U9ZnVuY3Rpb24oZSl7dGhpcy5hZGRTZWxlY3Rpb25NYXJrZXIoZS5yYW5nZSksdGhpcy5yZW5kZXJlci51cGRhdGVDdXJzb3IoKSx0aGlzLnJlbmRlcmVyLnVwZGF0ZUJhY2tNYXJrZXJzKCl9LHRoaXMuJG9uUmVtb3ZlUmFuZ2U9ZnVuY3Rpb24oZSl7dGhpcy5yZW1vdmVTZWxlY3Rpb25NYXJrZXJzKGUucmFuZ2VzKSx0aGlzLnJlbmRlcmVyLnVwZGF0ZUN1cnNvcigpLHRoaXMucmVuZGVyZXIudXBkYXRlQmFja01hcmtlcnMoKX0sdGhpcy4kb25NdWx0aVNlbGVjdD1mdW5jdGlvbigpe3RoaXMuaW5NdWx0aVNlbGVjdE1vZGV8fCh0aGlzLmluTXVsdGlTZWxlY3RNb2RlPSEwLHRoaXMuc2V0U3R5bGUoImFjZV9tdWx0aXNlbGVjdCIpLHRoaXMua2V5QmluZGluZy5hZGRLZXlib2FyZEhhbmRsZXIoZi5rZXlib2FyZEhhbmRsZXIpLHRoaXMuY29tbWFuZHMuc2V0RGVmYXVsdEhhbmRsZXIoImV4ZWMiLHRoaXMuJG9uTXVsdGlTZWxlY3RFeGVjKSx0aGlzLnJlbmRlcmVyLnVwZGF0ZUN1cnNvcigpLHRoaXMucmVuZGVyZXIudXBkYXRlQmFja01hcmtlcnMoKSl9LHRoaXMuJG9uU2luZ2xlU2VsZWN0PWZ1bmN0aW9uKCl7dGhpcy5zZXNzaW9uLm11bHRpU2VsZWN0LmluVmlydHVhbE1vZGV8fCh0aGlzLmluTXVsdGlTZWxlY3RNb2RlPSExLHRoaXMudW5zZXRTdHlsZSgiYWNlX211bHRpc2VsZWN0IiksdGhpcy5rZXlCaW5kaW5nLnJlbW92ZUtleWJvYXJkSGFuZGxlcihmLmtleWJvYXJkSGFuZGxlciksdGhpcy5jb21tYW5kcy5yZW1vdmVEZWZhdWx0SGFuZGxlcigiZXhlYyIsdGhpcy4kb25NdWx0aVNlbGVjdEV4ZWMpLHRoaXMucmVuZGVyZXIudXBkYXRlQ3Vyc29yKCksdGhpcy5yZW5kZXJlci51cGRhdGVCYWNrTWFya2VycygpLHRoaXMuX2VtaXQoImNoYW5nZVNlbGVjdGlvbiIpKX0sdGhpcy4kb25NdWx0aVNlbGVjdEV4ZWM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb21tYW5kLG49ZS5lZGl0b3I7aWYobi5tdWx0aVNlbGVjdCl7aWYodC5tdWx0aVNlbGVjdEFjdGlvbikiZm9yRWFjaCI9PXQubXVsdGlTZWxlY3RBY3Rpb24/cj1uLmZvckVhY2hTZWxlY3Rpb24odCxlLmFyZ3MpOiJmb3JFYWNoTGluZSI9PXQubXVsdGlTZWxlY3RBY3Rpb24/cj1uLmZvckVhY2hTZWxlY3Rpb24odCxlLmFyZ3MsITApOiJzaW5nbGUiPT10Lm11bHRpU2VsZWN0QWN0aW9uPyhuLmV4aXRNdWx0aVNlbGVjdE1vZGUoKSxyPXQuZXhlYyhuLGUuYXJnc3x8e30pKTpyPXQubXVsdGlTZWxlY3RBY3Rpb24obixlLmFyZ3N8fHt9KTtlbHNle3ZhciByPXQuZXhlYyhuLGUuYXJnc3x8e30pO24ubXVsdGlTZWxlY3QuYWRkUmFuZ2Uobi5tdWx0aVNlbGVjdC50b09yaWVudGVkUmFuZ2UoKSksbi5tdWx0aVNlbGVjdC5tZXJnZU92ZXJsYXBwaW5nUmFuZ2VzKCl9cmV0dXJuIHJ9fSx0aGlzLmZvckVhY2hTZWxlY3Rpb249ZnVuY3Rpb24oZSx0LG4pe2lmKCF0aGlzLmluVmlydHVhbFNlbGVjdGlvbk1vZGUpe3ZhciB1LHI9dGhpcy5zZXNzaW9uLGk9dGhpcy5zZWxlY3Rpb24sbz1pLnJhbmdlTGlzdCxhPWkuX2V2ZW50UmVnaXN0cnk7aS5fZXZlbnRSZWdpc3RyeT17fTt2YXIgZj1uZXcgcyhyKTt0aGlzLmluVmlydHVhbFNlbGVjdGlvbk1vZGU9ITA7Zm9yKHZhciBsPW8ucmFuZ2VzLmxlbmd0aDtsLS07KXtpZihuKWZvcig7bD4wJiZvLnJhbmdlc1tsXS5zdGFydC5yb3c9PW8ucmFuZ2VzW2wtMV0uZW5kLnJvdzspbC0tO2YuZnJvbU9yaWVudGVkUmFuZ2Uoby5yYW5nZXNbbF0pLGYuaWQ9by5yYW5nZXNbbF0ubWFya2VyLHRoaXMuc2VsZWN0aW9uPXIuc2VsZWN0aW9uPWY7dmFyIGM9ZS5leGVjKHRoaXMsdHx8e30pO3ZvaWQgMCE9PXUmJih1PWMpLGYudG9PcmllbnRlZFJhbmdlKG8ucmFuZ2VzW2xdKX1mLmRldGFjaCgpLHRoaXMuc2VsZWN0aW9uPXIuc2VsZWN0aW9uPWksdGhpcy5pblZpcnR1YWxTZWxlY3Rpb25Nb2RlPSExLGkuX2V2ZW50UmVnaXN0cnk9YSxpLm1lcmdlT3ZlcmxhcHBpbmdSYW5nZXMoKTt2YXIgaD10aGlzLnJlbmRlcmVyLiRzY3JvbGxBbmltYXRpb247cmV0dXJuIHRoaXMub25DdXJzb3JDaGFuZ2UoKSx0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlKCksaCYmaC5mcm9tPT1oLnRvJiZ0aGlzLnJlbmRlcmVyLmFuaW1hdGVTY3JvbGxpbmcoaC5mcm9tKSx1fX0sdGhpcy5leGl0TXVsdGlTZWxlY3RNb2RlPWZ1bmN0aW9uKCl7dGhpcy5pbk11bHRpU2VsZWN0TW9kZSYmIXRoaXMuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSYmdGhpcy5tdWx0aVNlbGVjdC50b1NpbmdsZVJhbmdlKCl9LHRoaXMuZ2V0U2VsZWN0ZWRUZXh0PWZ1bmN0aW9uKCl7dmFyIGU9IiI7aWYodGhpcy5pbk11bHRpU2VsZWN0TW9kZSYmIXRoaXMuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSl7Zm9yKHZhciB0PXRoaXMubXVsdGlTZWxlY3QucmFuZ2VMaXN0LnJhbmdlcyxuPVtdLHI9MDtyPHQubGVuZ3RoO3IrKyluLnB1c2godGhpcy5zZXNzaW9uLmdldFRleHRSYW5nZSh0W3JdKSk7dmFyIGk9dGhpcy5zZXNzaW9uLmdldERvY3VtZW50KCkuZ2V0TmV3TGluZUNoYXJhY3RlcigpO2U9bi5qb2luKGkpLGUubGVuZ3RoPT0obi5sZW5ndGgtMSkqaS5sZW5ndGgmJihlPSIiKX1lbHNlIHRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKXx8KGU9dGhpcy5zZXNzaW9uLmdldFRleHRSYW5nZSh0aGlzLmdldFNlbGVjdGlvblJhbmdlKCkpKTtyZXR1cm4gZX0sdGhpcy5vblBhc3RlPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLiRyZWFkT25seSl7dmFyIHQ9e3RleHQ6ZX07aWYodGhpcy5fc2lnbmFsKCJwYXN0ZSIsdCksZT10LnRleHQsIXRoaXMuaW5NdWx0aVNlbGVjdE1vZGV8fHRoaXMuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSlyZXR1cm4gdGhpcy5pbnNlcnQoZSk7dmFyIG49ZS5zcGxpdCgvXHJcbnxccnxcbi8pLHI9dGhpcy5zZWxlY3Rpb24ucmFuZ2VMaXN0LnJhbmdlcztpZihuLmxlbmd0aD5yLmxlbmd0aHx8bi5sZW5ndGg8Mnx8IW5bMV0pcmV0dXJuIHRoaXMuY29tbWFuZHMuZXhlYygiaW5zZXJ0c3RyaW5nIix0aGlzLGUpO2Zvcih2YXIgaT1yLmxlbmd0aDtpLS07KXt2YXIgcz1yW2ldO3MuaXNFbXB0eSgpfHx0aGlzLnNlc3Npb24ucmVtb3ZlKHMpLHRoaXMuc2Vzc2lvbi5pbnNlcnQocy5zdGFydCxuW2ldKX19fSx0aGlzLmZpbmRBbGw9ZnVuY3Rpb24oZSx0LG4pe3Q9dHx8e30sdC5uZWVkbGU9ZXx8dC5uZWVkbGUsdGhpcy4kc2VhcmNoLnNldCh0KTt2YXIgcj10aGlzLiRzZWFyY2guZmluZEFsbCh0aGlzLnNlc3Npb24pO2lmKCFyLmxlbmd0aClyZXR1cm4gMDt0aGlzLiRibG9ja1Njcm9sbGluZys9MTt2YXIgaT10aGlzLm11bHRpU2VsZWN0O258fGkudG9TaW5nbGVSYW5nZShyWzBdKTtmb3IodmFyIHM9ci5sZW5ndGg7cy0tOylpLmFkZFJhbmdlKHJbc10sITApO3JldHVybiB0aGlzLiRibG9ja1Njcm9sbGluZy09MSxyLmxlbmd0aH0sdGhpcy5zZWxlY3RNb3JlTGluZXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLnNlbGVjdGlvbi50b09yaWVudGVkUmFuZ2UoKSxyPW4uY3Vyc29yPT1uLmVuZCxzPXRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24obi5jdXJzb3IpO3RoaXMuc2VsZWN0aW9uLiRkZXNpcmVkQ29sdW1uJiYocy5jb2x1bW49dGhpcy5zZWxlY3Rpb24uJGRlc2lyZWRDb2x1bW4pO3ZhciBvPXRoaXMuc2Vzc2lvbi5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24ocy5yb3crZSxzLmNvbHVtbik7aWYobi5pc0VtcHR5KCkpdmFyIGE9bztlbHNlIHZhciB1PXRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24ocj9uLmVuZDpuLnN0YXJ0KSxhPXRoaXMuc2Vzc2lvbi5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24odS5yb3crZSx1LmNvbHVtbik7aWYocil7dmFyIGY9aS5mcm9tUG9pbnRzKG8sYSk7Zi5jdXJzb3I9Zi5zdGFydH1lbHNle3ZhciBmPWkuZnJvbVBvaW50cyhhLG8pO2YuY3Vyc29yPWYuZW5kfWlmKGYuZGVzaXJlZENvbHVtbj1zLmNvbHVtbix0aGlzLnNlbGVjdGlvbi5pbk11bHRpU2VsZWN0TW9kZSl7aWYodCl2YXIgbD1uLmN1cnNvcn1lbHNlIHRoaXMuc2VsZWN0aW9uLmFkZFJhbmdlKG4pO3RoaXMuc2VsZWN0aW9uLmFkZFJhbmdlKGYpLGwmJnRoaXMuc2VsZWN0aW9uLnN1YnN0cmFjdFBvaW50KGwpfSx0aGlzLnRyYW5zcG9zZVNlbGVjdGlvbnM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuc2Vzc2lvbixuPXQubXVsdGlTZWxlY3Qscj1uLnJhbmdlcyxpPXIubGVuZ3RoO2ktLTspe3ZhciBzPXJbaV07aWYocy5pc0VtcHR5KCkpe3ZhciBvPXQuZ2V0V29yZFJhbmdlKHMuc3RhcnQucm93LHMuc3RhcnQuY29sdW1uKTtzLnN0YXJ0LnJvdz1vLnN0YXJ0LnJvdyxzLnN0YXJ0LmNvbHVtbj1vLnN0YXJ0LmNvbHVtbixzLmVuZC5yb3c9by5lbmQucm93LHMuZW5kLmNvbHVtbj1vLmVuZC5jb2x1bW59fW4ubWVyZ2VPdmVybGFwcGluZ1JhbmdlcygpO2Zvcih2YXIgdT1bXSxpPXIubGVuZ3RoO2ktLTspe3ZhciBzPXJbaV07dS51bnNoaWZ0KHQuZ2V0VGV4dFJhbmdlKHMpKX0wPmU/dS51bnNoaWZ0KHUucG9wKCkpOnUucHVzaCh1LnNoaWZ0KCkpO2Zvcih2YXIgaT1yLmxlbmd0aDtpLS07KXt2YXIgcz1yW2ldLG89cy5jbG9uZSgpO3QucmVwbGFjZShzLHVbaV0pLHMuc3RhcnQucm93PW8uc3RhcnQucm93LHMuc3RhcnQuY29sdW1uPW8uc3RhcnQuY29sdW1ufX0sdGhpcy5zZWxlY3RNb3JlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5zZXNzaW9uLHI9bi5tdWx0aVNlbGVjdCxpPXIudG9PcmllbnRlZFJhbmdlKCk7aS5pc0VtcHR5KCkmJihpPW4uZ2V0V29yZFJhbmdlKGkuc3RhcnQucm93LGkuc3RhcnQuY29sdW1uKSxpLmN1cnNvcj0tMT09ZT9pLnN0YXJ0OmkuZW5kLHRoaXMubXVsdGlTZWxlY3QuYWRkUmFuZ2UoaSkpO3ZhciBzPW4uZ2V0VGV4dFJhbmdlKGkpLG89aChuLHMsZSk7byYmKG8uY3Vyc29yPS0xPT1lP28uc3RhcnQ6by5lbmQsdGhpcy4kYmxvY2tTY3JvbGxpbmcrPTEsdGhpcy5zZXNzaW9uLnVuZm9sZChvKSx0aGlzLm11bHRpU2VsZWN0LmFkZFJhbmdlKG8pLHRoaXMuJGJsb2NrU2Nyb2xsaW5nLT0xLHRoaXMucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcobnVsbCwuNSkpLHQmJnRoaXMubXVsdGlTZWxlY3Quc3Vic3RyYWN0UG9pbnQoaS5jdXJzb3IpfSx0aGlzLmFsaWduQ3Vyc29ycz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc2Vzc2lvbix0PWUubXVsdGlTZWxlY3Qsbj10LnJhbmdlcztpZihuLmxlbmd0aCl7dmFyIGg9LTEscD1uLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5jdXJzb3Iucm93PT1oPyEwOnZvaWQoaD1lLmN1cnNvci5yb3cpfSk7dC4kb25SZW1vdmVSYW5nZShwKTt2YXIgZD0wLHY9MS8wLG09bi5tYXAoZnVuY3Rpb24odCl7dmFyIG49dC5jdXJzb3Iscj1lLmdldExpbmUobi5yb3cpLGk9ci5zdWJzdHIobi5jb2x1bW4pLnNlYXJjaCgvXFMvZyk7cmV0dXJuLTE9PWkmJihpPTApLG4uY29sdW1uPmQmJihkPW4uY29sdW1uKSx2PmkmJih2PWkpLGl9KTtuLmZvckVhY2goZnVuY3Rpb24odCxuKXt2YXIgcj10LmN1cnNvcixzPWQtci5jb2x1bW4sbz1tW25dLXY7cz5vP2UuaW5zZXJ0KHIsYS5zdHJpbmdSZXBlYXQoIiAiLHMtbykpOmUucmVtb3ZlKG5ldyBpKHIucm93LHIuY29sdW1uLHIucm93LHIuY29sdW1uLXMrbykpLHQuc3RhcnQuY29sdW1uPXQuZW5kLmNvbHVtbj1kLHQuc3RhcnQucm93PXQuZW5kLnJvdz1yLnJvdyx0LmN1cnNvcj10LmVuZH0pLHQuZnJvbU9yaWVudGVkUmFuZ2UoblswXSksdGhpcy5yZW5kZXJlci51cGRhdGVDdXJzb3IoKSx0aGlzLnJlbmRlcmVyLnVwZGF0ZUJhY2tNYXJrZXJzKCl9ZWxzZXt2YXIgcj10aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLHM9ci5zdGFydC5yb3csbz1yLmVuZC5yb3csdT1zPT1vO2lmKHUpe3ZhciBsLGY9dGhpcy5zZXNzaW9uLmdldExlbmd0aCgpO2RvIGw9dGhpcy5zZXNzaW9uLmdldExpbmUobyk7d2hpbGUoL1s9Ol0vLnRlc3QobCkmJisrbzxmKTtkbyBsPXRoaXMuc2Vzc2lvbi5nZXRMaW5lKHMpO3doaWxlKC9bPTpdLy50ZXN0KGwpJiYtLXM+MCk7MD5zJiYocz0wKSxvPj1mJiYobz1mLTEpfXZhciBjPXRoaXMuc2Vzc2lvbi5kb2MucmVtb3ZlTGluZXMocyxvKTtjPXRoaXMuJHJlQWxpZ25UZXh0KGMsdSksdGhpcy5zZXNzaW9uLmRvYy5pbnNlcnQoe3JvdzpzLGNvbHVtbjowfSxjLmpvaW4oIlxuIikrIlxuIiksdXx8KHIuc3RhcnQuY29sdW1uPTAsci5lbmQuY29sdW1uPWNbYy5sZW5ndGgtMV0ubGVuZ3RoKSx0aGlzLnNlbGVjdGlvbi5zZXRSYW5nZShyKX19LHRoaXMuJHJlQWxpZ25UZXh0PWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gdShlKXtyZXR1cm4gYS5zdHJpbmdSZXBlYXQoIiAiLGUpfWZ1bmN0aW9uIGYoZSl7cmV0dXJuIGVbMl0/dShpKStlWzJdK3Uocy1lWzJdLmxlbmd0aCtvKStlWzRdLnJlcGxhY2UoL14oWz06XSlccysvLCIkMSAiKTplWzBdfWZ1bmN0aW9uIGwoZSl7cmV0dXJuIGVbMl0/dShpK3MtZVsyXS5sZW5ndGgpK2VbMl0rdShvLCIgIikrZVs0XS5yZXBsYWNlKC9eKFs9Ol0pXHMrLywiJDEgIik6ZVswXX1mdW5jdGlvbiBjKGUpe3JldHVybiBlWzJdP3UoaSkrZVsyXSt1KG8pK2VbNF0ucmVwbGFjZSgvXihbPTpdKVxzKy8sIiQxICIpOmVbMF19dmFyIGkscyxvLG49ITAscj0hMDtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tYXRjaCgvKFxzKikoLio/KShccyopKFs9Ol0uKikvKTtyZXR1cm4gdD9udWxsPT1pPyhpPXRbMV0ubGVuZ3RoLHM9dFsyXS5sZW5ndGgsbz10WzNdLmxlbmd0aCx0KTooaStzK28hPXRbMV0ubGVuZ3RoK3RbMl0ubGVuZ3RoK3RbM10ubGVuZ3RoJiYocj0hMSksaSE9dFsxXS5sZW5ndGgmJihuPSExKSxpPnRbMV0ubGVuZ3RoJiYoaT10WzFdLmxlbmd0aCksczx0WzJdLmxlbmd0aCYmKHM9dFsyXS5sZW5ndGgpLG8+dFszXS5sZW5ndGgmJihvPXRbM10ubGVuZ3RoKSx0KTpbZV19KS5tYXAodD9mOm4/cj9sOmY6Yyl9fSkuY2FsbChkLnByb3RvdHlwZSksdC5vblNlc3Npb25DaGFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZXNzaW9uO3QubXVsdGlTZWxlY3R8fCh0LiRzZWxlY3Rpb25NYXJrZXJzPVtdLHQuc2VsZWN0aW9uLiRpbml0UmFuZ2VMaXN0KCksdC5tdWx0aVNlbGVjdD10LnNlbGVjdGlvbiksdGhpcy5tdWx0aVNlbGVjdD10Lm11bHRpU2VsZWN0O3ZhciBuPWUub2xkU2Vzc2lvbjtuJiYobi5tdWx0aVNlbGVjdC5yZW1vdmVFdmVudExpc3RlbmVyKCJhZGRSYW5nZSIsdGhpcy4kb25BZGRSYW5nZSksbi5tdWx0aVNlbGVjdC5yZW1vdmVFdmVudExpc3RlbmVyKCJyZW1vdmVSYW5nZSIsdGhpcy4kb25SZW1vdmVSYW5nZSksbi5tdWx0aVNlbGVjdC5yZW1vdmVFdmVudExpc3RlbmVyKCJtdWx0aVNlbGVjdCIsdGhpcy4kb25NdWx0aVNlbGVjdCksbi5tdWx0aVNlbGVjdC5yZW1vdmVFdmVudExpc3RlbmVyKCJzaW5nbGVTZWxlY3QiLHRoaXMuJG9uU2luZ2xlU2VsZWN0KSksdC5tdWx0aVNlbGVjdC5vbigiYWRkUmFuZ2UiLHRoaXMuJG9uQWRkUmFuZ2UpLHQubXVsdGlTZWxlY3Qub24oInJlbW92ZVJhbmdlIix0aGlzLiRvblJlbW92ZVJhbmdlKSx0Lm11bHRpU2VsZWN0Lm9uKCJtdWx0aVNlbGVjdCIsdGhpcy4kb25NdWx0aVNlbGVjdCksdC5tdWx0aVNlbGVjdC5vbigic2luZ2xlU2VsZWN0Iix0aGlzLiRvblNpbmdsZVNlbGVjdCksdGhpcy5pbk11bHRpU2VsZWN0TW9kZSE9dC5zZWxlY3Rpb24uaW5NdWx0aVNlbGVjdE1vZGUmJih0LnNlbGVjdGlvbi5pbk11bHRpU2VsZWN0TW9kZT90aGlzLiRvbk11bHRpU2VsZWN0KCk6dGhpcy4kb25TaW5nbGVTZWxlY3QoKSl9LHQuTXVsdGlTZWxlY3Q9bSxlKCIuL2NvbmZpZyIpLmRlZmluZU9wdGlvbnMoZC5wcm90b3R5cGUsImVkaXRvciIse2VuYWJsZU11bHRpc2VsZWN0OntzZXQ6ZnVuY3Rpb24oZSl7bSh0aGlzKSxlPyh0aGlzLm9uKCJjaGFuZ2VTZXNzaW9uIix0aGlzLiRtdWx0aXNlbGVjdE9uU2Vzc2lvbkNoYW5nZSksdGhpcy5vbigibW91c2Vkb3duIixvKSk6KHRoaXMub2ZmKCJjaGFuZ2VTZXNzaW9uIix0aGlzLiRtdWx0aXNlbGVjdE9uU2Vzc2lvbkNoYW5nZSksdGhpcy5vZmYoIm1vdXNlZG93biIsbykpfSx2YWx1ZTohMH19KX0pLGRlZmluZSgiYWNlL2VkaXRvciIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvZml4b2xkYnJvd3NlcnMiLCJhY2UvbGliL29vcCIsImFjZS9saWIvZG9tIiwiYWNlL2xpYi9sYW5nIiwiYWNlL2xpYi91c2VyYWdlbnQiLCJhY2Uva2V5Ym9hcmQvdGV4dGlucHV0IiwiYWNlL21vdXNlL21vdXNlX2hhbmRsZXIiLCJhY2UvbW91c2UvZm9sZF9oYW5kbGVyIiwiYWNlL2tleWJvYXJkL2tleWJpbmRpbmciLCJhY2UvZWRpdF9zZXNzaW9uIiwiYWNlL3NlYXJjaCIsImFjZS9yYW5nZSIsImFjZS9saWIvZXZlbnRfZW1pdHRlciIsImFjZS9jb21tYW5kcy9jb21tYW5kX21hbmFnZXIiLCJhY2UvY29tbWFuZHMvZGVmYXVsdF9jb21tYW5kcyIsImFjZS9jb25maWciXSxmdW5jdGlvbihlLHQpe2UoIi4vbGliL2ZpeG9sZGJyb3dzZXJzIik7dmFyIHI9ZSgiLi9saWIvb29wIiksaT1lKCIuL2xpYi9kb20iKSxzPWUoIi4vbGliL2xhbmciKSxvPWUoIi4vbGliL3VzZXJhZ2VudCIpLHU9ZSgiLi9rZXlib2FyZC90ZXh0aW5wdXQiKS5UZXh0SW5wdXQsYT1lKCIuL21vdXNlL21vdXNlX2hhbmRsZXIiKS5Nb3VzZUhhbmRsZXIsZj1lKCIuL21vdXNlL2ZvbGRfaGFuZGxlciIpLkZvbGRIYW5kbGVyLGw9ZSgiLi9rZXlib2FyZC9rZXliaW5kaW5nIikuS2V5QmluZGluZyxjPWUoIi4vZWRpdF9zZXNzaW9uIikuRWRpdFNlc3Npb24saD1lKCIuL3NlYXJjaCIpLlNlYXJjaCxwPWUoIi4vcmFuZ2UiKS5SYW5nZSxkPWUoIi4vbGliL2V2ZW50X2VtaXR0ZXIiKS5FdmVudEVtaXR0ZXIsdj1lKCIuL2NvbW1hbmRzL2NvbW1hbmRfbWFuYWdlciIpLkNvbW1hbmRNYW5hZ2VyLG09ZSgiLi9jb21tYW5kcy9kZWZhdWx0X2NvbW1hbmRzIikuY29tbWFuZHMsZz1lKCIuL2NvbmZpZyIpLHk9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmdldENvbnRhaW5lckVsZW1lbnQoKTt0aGlzLmNvbnRhaW5lcj1uLHRoaXMucmVuZGVyZXI9ZSx0aGlzLmNvbW1hbmRzPW5ldyB2KG8uaXNNYWM/Im1hYyI6IndpbiIsbSksdGhpcy50ZXh0SW5wdXQ9bmV3IHUoZS5nZXRUZXh0QXJlYUNvbnRhaW5lcigpLHRoaXMpLHRoaXMucmVuZGVyZXIudGV4dGFyZWE9dGhpcy50ZXh0SW5wdXQuZ2V0RWxlbWVudCgpLHRoaXMua2V5QmluZGluZz1uZXcgbCh0aGlzKSx0aGlzLiRtb3VzZUhhbmRsZXI9bmV3IGEodGhpcyksbmV3IGYodGhpcyksdGhpcy4kYmxvY2tTY3JvbGxpbmc9MCx0aGlzLiRzZWFyY2g9KG5ldyBoKS5zZXQoe3dyYXA6ITB9KSx0aGlzLiRoaXN0b3J5VHJhY2tlcj10aGlzLiRoaXN0b3J5VHJhY2tlci5iaW5kKHRoaXMpLHRoaXMuY29tbWFuZHMub24oImV4ZWMiLHRoaXMuJGhpc3RvcnlUcmFja2VyKSx0aGlzLiRpbml0T3BlcmF0aW9uTGlzdGVuZXJzKCksdGhpcy5fJGVtaXRJbnB1dEV2ZW50PXMuZGVsYXllZENhbGwoZnVuY3Rpb24oKXt0aGlzLl9zaWduYWwoImlucHV0Iix7fSksdGhpcy5zZXNzaW9uLmJnVG9rZW5pemVyJiZ0aGlzLnNlc3Npb24uYmdUb2tlbml6ZXIuc2NoZWR1bGVTdGFydCgpfS5iaW5kKHRoaXMpKSx0aGlzLm9uKCJjaGFuZ2UiLGZ1bmN0aW9uKGUsdCl7dC5fJGVtaXRJbnB1dEV2ZW50LnNjaGVkdWxlKDMxKX0pLHRoaXMuc2V0U2Vzc2lvbih0fHxuZXcgYygiIikpLGcucmVzZXRPcHRpb25zKHRoaXMpLGcuX3NpZ25hbCgiZWRpdG9yIix0aGlzKX07KGZ1bmN0aW9uKCl7ci5pbXBsZW1lbnQodGhpcyxkKSx0aGlzLiRpbml0T3BlcmF0aW9uTGlzdGVuZXJzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gZVtlLmxlbmd0aC0xXX10aGlzLnNlbGVjdGlvbnM9W10sdGhpcy5jb21tYW5kcy5vbigiZXhlYyIsZnVuY3Rpb24odCl7dGhpcy5zdGFydE9wZXJhdGlvbih0KTt2YXIgbj10LmNvbW1hbmQ7aWYoImZpbGVKdW1wIj09bi5hY2VDb21tYW5kR3JvdXApe3ZhciByPXRoaXMucHJldk9wO3ImJiJmaWxlSnVtcCI9PXIuY29tbWFuZC5hY2VDb21tYW5kR3JvdXB8fCh0aGlzLmxhc3RGaWxlSnVtcFBvcz1lKHRoaXMuc2VsZWN0aW9ucykpfWVsc2UgdGhpcy5sYXN0RmlsZUp1bXBQb3M9bnVsbH0uYmluZCh0aGlzKSwhMCksdGhpcy5jb21tYW5kcy5vbigiYWZ0ZXJFeGVjIixmdW5jdGlvbihlKXt2YXIgdD1lLmNvbW1hbmQ7ImZpbGVKdW1wIj09dC5hY2VDb21tYW5kR3JvdXAmJnRoaXMubGFzdEZpbGVKdW1wUG9zJiYhdGhpcy5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkJiZ0aGlzLnNlbGVjdGlvbi5mcm9tSlNPTih0aGlzLmxhc3RGaWxlSnVtcFBvcyksdGhpcy5lbmRPcGVyYXRpb24oZSl9LmJpbmQodGhpcyksITApLHRoaXMuJG9wUmVzZXRUaW1lcj1zLmRlbGF5ZWRDYWxsKHRoaXMuZW5kT3BlcmF0aW9uLmJpbmQodGhpcykpLHRoaXMub24oImNoYW5nZSIsZnVuY3Rpb24oKXt0aGlzLmN1ck9wfHx0aGlzLnN0YXJ0T3BlcmF0aW9uKCksdGhpcy5jdXJPcC5kb2NDaGFuZ2VkPSEwfS5iaW5kKHRoaXMpLCEwKSx0aGlzLm9uKCJjaGFuZ2VTZWxlY3Rpb24iLGZ1bmN0aW9uKCl7dGhpcy5jdXJPcHx8dGhpcy5zdGFydE9wZXJhdGlvbigpLHRoaXMuY3VyT3Auc2VsZWN0aW9uQ2hhbmdlZD0hMH0uYmluZCh0aGlzKSwhMCl9LHRoaXMuY3VyT3A9bnVsbCx0aGlzLnByZXZPcD17fSx0aGlzLnN0YXJ0T3BlcmF0aW9uPWZ1bmN0aW9uKGUpe2lmKHRoaXMuY3VyT3Ape2lmKCFlfHx0aGlzLmN1ck9wLmNvbW1hbmQpcmV0dXJuO3RoaXMucHJldk9wPXRoaXMuY3VyT3B9ZXx8KHRoaXMucHJldmlvdXNDb21tYW5kPW51bGwsZT17fSksdGhpcy4kb3BSZXNldFRpbWVyLnNjaGVkdWxlKCksdGhpcy5jdXJPcD17Y29tbWFuZDplLmNvbW1hbmR8fHt9LGFyZ3M6ZS5hcmdzLHNjcm9sbFRvcDp0aGlzLnJlbmRlcmVyLnNjcm9sbFRvcH07dmFyIHQ9dGhpcy5jdXJPcC5jb21tYW5kO3QmJnQuc2Nyb2xsSW50b1ZpZXcmJnRoaXMuJGJsb2NrU2Nyb2xsaW5nKyssdGhpcy5zZWxlY3Rpb25zLnB1c2godGhpcy5zZWxlY3Rpb24udG9KU09OKCkpfSx0aGlzLmVuZE9wZXJhdGlvbj1mdW5jdGlvbigpe2lmKHRoaXMuY3VyT3Ape3ZhciBlPXRoaXMuY3VyT3AuY29tbWFuZDtpZihlJiZlLnNjcm9sbEludG9WaWV3KXtzd2l0Y2godGhpcy4kYmxvY2tTY3JvbGxpbmctLSxlLnNjcm9sbEludG9WaWV3KXtjYXNlImNlbnRlciI6dGhpcy5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldyhudWxsLC41KTticmVhaztjYXNlImFuaW1hdGUiOmNhc2UiY3Vyc29yIjp0aGlzLnJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KCk7YnJlYWs7Y2FzZSJzZWxlY3Rpb25QYXJ0Ijp2YXIgdD10aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLG49dGhpcy5yZW5kZXJlci5sYXllckNvbmZpZzsodC5zdGFydC5yb3c+PW4ubGFzdFJvd3x8dC5lbmQucm93PD1uLmZpcnN0Um93KSYmdGhpcy5yZW5kZXJlci5zY3JvbGxTZWxlY3Rpb25JbnRvVmlldyh0aGlzLnNlbGVjdGlvbi5hbmNob3IsdGhpcy5zZWxlY3Rpb24ubGVhZCl9ImFuaW1hdGUiPT1lLnNjcm9sbEludG9WaWV3JiZ0aGlzLnJlbmRlcmVyLmFuaW1hdGVTY3JvbGxpbmcodGhpcy5jdXJPcC5zY3JvbGxUb3ApfXRoaXMucHJldk9wPXRoaXMuY3VyT3AsdGhpcy5jdXJPcD1udWxsfX0sdGhpcy4kaGlzdG9yeVRyYWNrZXI9ZnVuY3Rpb24oZSl7aWYodGhpcy4kbWVyZ2VVbmRvRGVsdGFzKXt2YXIgdD10aGlzLnByZXZPcCxuPVsiYmFja3NwYWNlIiwiZGVsIiwiaW5zZXJ0c3RyaW5nIl0scj10LmNvbW1hbmQmJmUuY29tbWFuZC5uYW1lPT10LmNvbW1hbmQubmFtZTtpZigiaW5zZXJ0c3RyaW5nIj09ZS5jb21tYW5kLm5hbWUpe3ZhciBpPWUuYXJnczt2b2lkIDA9PT10aGlzLm1lcmdlTmV4dENvbW1hbmQmJih0aGlzLm1lcmdlTmV4dENvbW1hbmQ9ITApLHI9ciYmdGhpcy5tZXJnZU5leHRDb21tYW5kJiYoIS9ccy8udGVzdChpKXx8L1xzLy50ZXN0KHQuYXJncykpLHRoaXMubWVyZ2VOZXh0Q29tbWFuZD0hMH1lbHNlIHI9ciYmLTEhPT1uLmluZGV4T2YoZS5jb21tYW5kLm5hbWUpOyJhbHdheXMiIT10aGlzLiRtZXJnZVVuZG9EZWx0YXMmJkRhdGUubm93KCktdGhpcy5zZXF1ZW5jZVN0YXJ0VGltZT4yZTMmJihyPSExKSxyP3RoaXMuc2Vzc2lvbi5tZXJnZVVuZG9EZWx0YXM9ITA6LTEhPT1uLmluZGV4T2YoZS5jb21tYW5kLm5hbWUpJiYodGhpcy5zZXF1ZW5jZVN0YXJ0VGltZT1EYXRlLm5vdygpKX19LHRoaXMuc2V0S2V5Ym9hcmRIYW5kbGVyPWZ1bmN0aW9uKGUpe2lmKGUpaWYoInN0cmluZyI9PXR5cGVvZiBlKXt0aGlzLiRrZXliaW5kaW5nSWQ9ZTt2YXIgdD10aGlzO2cubG9hZE1vZHVsZShbImtleWJpbmRpbmciLGVdLGZ1bmN0aW9uKG4pe3QuJGtleWJpbmRpbmdJZD09ZSYmdC5rZXlCaW5kaW5nLnNldEtleWJvYXJkSGFuZGxlcihuJiZuLmhhbmRsZXIpfSl9ZWxzZSB0aGlzLiRrZXliaW5kaW5nSWQ9bnVsbCx0aGlzLmtleUJpbmRpbmcuc2V0S2V5Ym9hcmRIYW5kbGVyKGUpO2Vsc2UgdGhpcy5rZXlCaW5kaW5nLnNldEtleWJvYXJkSGFuZGxlcihudWxsKX0sdGhpcy5nZXRLZXlib2FyZEhhbmRsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5rZXlCaW5kaW5nLmdldEtleWJvYXJkSGFuZGxlcigpfSx0aGlzLnNldFNlc3Npb249ZnVuY3Rpb24oZSl7aWYodGhpcy5zZXNzaW9uIT1lKXt2YXIgdD10aGlzLnNlc3Npb247aWYodCl7dGhpcy5zZXNzaW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNoYW5nZSIsdGhpcy4kb25Eb2N1bWVudENoYW5nZSksdGhpcy5zZXNzaW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNoYW5nZU1vZGUiLHRoaXMuJG9uQ2hhbmdlTW9kZSksdGhpcy5zZXNzaW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoInRva2VuaXplclVwZGF0ZSIsdGhpcy4kb25Ub2tlbml6ZXJVcGRhdGUpLHRoaXMuc2Vzc2lvbi5yZW1vdmVFdmVudExpc3RlbmVyKCJjaGFuZ2VUYWJTaXplIix0aGlzLiRvbkNoYW5nZVRhYlNpemUpLHRoaXMuc2Vzc2lvbi5yZW1vdmVFdmVudExpc3RlbmVyKCJjaGFuZ2VXcmFwTGltaXQiLHRoaXMuJG9uQ2hhbmdlV3JhcExpbWl0KSx0aGlzLnNlc3Npb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2hhbmdlV3JhcE1vZGUiLHRoaXMuJG9uQ2hhbmdlV3JhcE1vZGUpLHRoaXMuc2Vzc2lvbi5yZW1vdmVFdmVudExpc3RlbmVyKCJvbkNoYW5nZUZvbGQiLHRoaXMuJG9uQ2hhbmdlRm9sZCksdGhpcy5zZXNzaW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNoYW5nZUZyb250TWFya2VyIix0aGlzLiRvbkNoYW5nZUZyb250TWFya2VyKSx0aGlzLnNlc3Npb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2hhbmdlQmFja01hcmtlciIsdGhpcy4kb25DaGFuZ2VCYWNrTWFya2VyKSx0aGlzLnNlc3Npb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2hhbmdlQnJlYWtwb2ludCIsdGhpcy4kb25DaGFuZ2VCcmVha3BvaW50KSx0aGlzLnNlc3Npb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2hhbmdlQW5ub3RhdGlvbiIsdGhpcy4kb25DaGFuZ2VBbm5vdGF0aW9uKSx0aGlzLnNlc3Npb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2hhbmdlT3ZlcndyaXRlIix0aGlzLiRvbkN1cnNvckNoYW5nZSksdGhpcy5zZXNzaW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNoYW5nZVNjcm9sbFRvcCIsdGhpcy4kb25TY3JvbGxUb3BDaGFuZ2UpLHRoaXMuc2Vzc2lvbi5yZW1vdmVFdmVudExpc3RlbmVyKCJjaGFuZ2VTY3JvbGxMZWZ0Iix0aGlzLiRvblNjcm9sbExlZnRDaGFuZ2UpO3ZhciBuPXRoaXMuc2Vzc2lvbi5nZXRTZWxlY3Rpb24oKTtuLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNoYW5nZUN1cnNvciIsdGhpcy4kb25DdXJzb3JDaGFuZ2UpLG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2hhbmdlU2VsZWN0aW9uIix0aGlzLiRvblNlbGVjdGlvbkNoYW5nZSl9dGhpcy5zZXNzaW9uPWUsZSYmKHRoaXMuJG9uRG9jdW1lbnRDaGFuZ2U9dGhpcy5vbkRvY3VtZW50Q2hhbmdlLmJpbmQodGhpcyksZS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLHRoaXMuJG9uRG9jdW1lbnRDaGFuZ2UpLHRoaXMucmVuZGVyZXIuc2V0U2Vzc2lvbihlKSx0aGlzLiRvbkNoYW5nZU1vZGU9dGhpcy5vbkNoYW5nZU1vZGUuYmluZCh0aGlzKSxlLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZU1vZGUiLHRoaXMuJG9uQ2hhbmdlTW9kZSksdGhpcy4kb25Ub2tlbml6ZXJVcGRhdGU9dGhpcy5vblRva2VuaXplclVwZGF0ZS5iaW5kKHRoaXMpLGUuYWRkRXZlbnRMaXN0ZW5lcigidG9rZW5pemVyVXBkYXRlIix0aGlzLiRvblRva2VuaXplclVwZGF0ZSksdGhpcy4kb25DaGFuZ2VUYWJTaXplPXRoaXMucmVuZGVyZXIub25DaGFuZ2VUYWJTaXplLmJpbmQodGhpcy5yZW5kZXJlciksZS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2VUYWJTaXplIix0aGlzLiRvbkNoYW5nZVRhYlNpemUpLHRoaXMuJG9uQ2hhbmdlV3JhcExpbWl0PXRoaXMub25DaGFuZ2VXcmFwTGltaXQuYmluZCh0aGlzKSxlLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZVdyYXBMaW1pdCIsdGhpcy4kb25DaGFuZ2VXcmFwTGltaXQpLHRoaXMuJG9uQ2hhbmdlV3JhcE1vZGU9dGhpcy5vbkNoYW5nZVdyYXBNb2RlLmJpbmQodGhpcyksZS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2VXcmFwTW9kZSIsdGhpcy4kb25DaGFuZ2VXcmFwTW9kZSksdGhpcy4kb25DaGFuZ2VGb2xkPXRoaXMub25DaGFuZ2VGb2xkLmJpbmQodGhpcyksZS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2VGb2xkIix0aGlzLiRvbkNoYW5nZUZvbGQpLHRoaXMuJG9uQ2hhbmdlRnJvbnRNYXJrZXI9dGhpcy5vbkNoYW5nZUZyb250TWFya2VyLmJpbmQodGhpcyksdGhpcy5zZXNzaW9uLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZUZyb250TWFya2VyIix0aGlzLiRvbkNoYW5nZUZyb250TWFya2VyKSx0aGlzLiRvbkNoYW5nZUJhY2tNYXJrZXI9dGhpcy5vbkNoYW5nZUJhY2tNYXJrZXIuYmluZCh0aGlzKSx0aGlzLnNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlQmFja01hcmtlciIsdGhpcy4kb25DaGFuZ2VCYWNrTWFya2VyKSx0aGlzLiRvbkNoYW5nZUJyZWFrcG9pbnQ9dGhpcy5vbkNoYW5nZUJyZWFrcG9pbnQuYmluZCh0aGlzKSx0aGlzLnNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlQnJlYWtwb2ludCIsdGhpcy4kb25DaGFuZ2VCcmVha3BvaW50KSx0aGlzLiRvbkNoYW5nZUFubm90YXRpb249dGhpcy5vbkNoYW5nZUFubm90YXRpb24uYmluZCh0aGlzKSx0aGlzLnNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlQW5ub3RhdGlvbiIsdGhpcy4kb25DaGFuZ2VBbm5vdGF0aW9uKSx0aGlzLiRvbkN1cnNvckNoYW5nZT10aGlzLm9uQ3Vyc29yQ2hhbmdlLmJpbmQodGhpcyksdGhpcy5zZXNzaW9uLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZU92ZXJ3cml0ZSIsdGhpcy4kb25DdXJzb3JDaGFuZ2UpLHRoaXMuJG9uU2Nyb2xsVG9wQ2hhbmdlPXRoaXMub25TY3JvbGxUb3BDaGFuZ2UuYmluZCh0aGlzKSx0aGlzLnNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlU2Nyb2xsVG9wIix0aGlzLiRvblNjcm9sbFRvcENoYW5nZSksdGhpcy4kb25TY3JvbGxMZWZ0Q2hhbmdlPXRoaXMub25TY3JvbGxMZWZ0Q2hhbmdlLmJpbmQodGhpcyksdGhpcy5zZXNzaW9uLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZVNjcm9sbExlZnQiLHRoaXMuJG9uU2Nyb2xsTGVmdENoYW5nZSksdGhpcy5zZWxlY3Rpb249ZS5nZXRTZWxlY3Rpb24oKSx0aGlzLnNlbGVjdGlvbi5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2VDdXJzb3IiLHRoaXMuJG9uQ3Vyc29yQ2hhbmdlKSx0aGlzLiRvblNlbGVjdGlvbkNoYW5nZT10aGlzLm9uU2VsZWN0aW9uQ2hhbmdlLmJpbmQodGhpcyksdGhpcy5zZWxlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlU2VsZWN0aW9uIix0aGlzLiRvblNlbGVjdGlvbkNoYW5nZSksdGhpcy5vbkNoYW5nZU1vZGUoKSx0aGlzLiRibG9ja1Njcm9sbGluZys9MSx0aGlzLm9uQ3Vyc29yQ2hhbmdlKCksdGhpcy4kYmxvY2tTY3JvbGxpbmctPTEsdGhpcy5vblNjcm9sbFRvcENoYW5nZSgpLHRoaXMub25TY3JvbGxMZWZ0Q2hhbmdlKCksdGhpcy5vblNlbGVjdGlvbkNoYW5nZSgpLHRoaXMub25DaGFuZ2VGcm9udE1hcmtlcigpLHRoaXMub25DaGFuZ2VCYWNrTWFya2VyKCksdGhpcy5vbkNoYW5nZUJyZWFrcG9pbnQoKSx0aGlzLm9uQ2hhbmdlQW5ub3RhdGlvbigpLHRoaXMuc2Vzc2lvbi5nZXRVc2VXcmFwTW9kZSgpJiZ0aGlzLnJlbmRlcmVyLmFkanVzdFdyYXBMaW1pdCgpLHRoaXMucmVuZGVyZXIudXBkYXRlRnVsbCgpKSx0aGlzLl9zaWduYWwoImNoYW5nZVNlc3Npb24iLHtzZXNzaW9uOmUsb2xkU2Vzc2lvbjp0fSksdCYmdC5fc2lnbmFsKCJjaGFuZ2VFZGl0b3IiLHtvbGRFZGl0b3I6dGhpc30pLGUmJmUuX3NpZ25hbCgiY2hhbmdlRWRpdG9yIix7ZWRpdG9yOnRoaXN9KX19LHRoaXMuZ2V0U2Vzc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlc3Npb259LHRoaXMuc2V0VmFsdWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zZXNzaW9uLmRvYy5zZXRWYWx1ZShlKSx0PzE9PXQ/dGhpcy5uYXZpZ2F0ZUZpbGVFbmQoKTotMT09dCYmdGhpcy5uYXZpZ2F0ZUZpbGVTdGFydCgpOnRoaXMuc2VsZWN0QWxsKCksZX0sdGhpcy5nZXRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlc3Npb24uZ2V0VmFsdWUoKX0sdGhpcy5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3Rpb259LHRoaXMucmVzaXplPWZ1bmN0aW9uKGUpe3RoaXMucmVuZGVyZXIub25SZXNpemUoZSl9LHRoaXMuc2V0VGhlbWU9ZnVuY3Rpb24oZSx0KXt0aGlzLnJlbmRlcmVyLnNldFRoZW1lKGUsdCl9LHRoaXMuZ2V0VGhlbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW5kZXJlci5nZXRUaGVtZSgpfSx0aGlzLnNldFN0eWxlPWZ1bmN0aW9uKGUpe3RoaXMucmVuZGVyZXIuc2V0U3R5bGUoZSl9LHRoaXMudW5zZXRTdHlsZT1mdW5jdGlvbihlKXt0aGlzLnJlbmRlcmVyLnVuc2V0U3R5bGUoZSl9LHRoaXMuZ2V0Rm9udFNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRPcHRpb24oImZvbnRTaXplIil8fGkuY29tcHV0ZWRTdHlsZSh0aGlzLmNvbnRhaW5lciwiZm9udFNpemUiKX0sdGhpcy5zZXRGb250U2l6ZT1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbigiZm9udFNpemUiLGUpfSx0aGlzLiRoaWdobGlnaHRCcmFja2V0cz1mdW5jdGlvbigpe2lmKHRoaXMuc2Vzc2lvbi4kYnJhY2tldEhpZ2hsaWdodCYmKHRoaXMuc2Vzc2lvbi5yZW1vdmVNYXJrZXIodGhpcy5zZXNzaW9uLiRicmFja2V0SGlnaGxpZ2h0KSx0aGlzLnNlc3Npb24uJGJyYWNrZXRIaWdobGlnaHQ9bnVsbCksIXRoaXMuJGhpZ2hsaWdodFBlbmRpbmcpe3ZhciBlPXRoaXM7dGhpcy4kaGlnaGxpZ2h0UGVuZGluZz0hMCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS4kaGlnaGxpZ2h0UGVuZGluZz0hMTt2YXIgdD1lLnNlc3Npb24uZmluZE1hdGNoaW5nQnJhY2tldChlLmdldEN1cnNvclBvc2l0aW9uKCkpO2lmKHQpdmFyIG49bmV3IHAodC5yb3csdC5jb2x1bW4sdC5yb3csdC5jb2x1bW4rMSk7ZWxzZSBpZihlLnNlc3Npb24uJG1vZGUuZ2V0TWF0Y2hpbmcpdmFyIG49ZS5zZXNzaW9uLiRtb2RlLmdldE1hdGNoaW5nKGUuc2Vzc2lvbik7biYmKGUuc2Vzc2lvbi4kYnJhY2tldEhpZ2hsaWdodD1lLnNlc3Npb24uYWRkTWFya2VyKG4sImFjZV9icmFja2V0IiwidGV4dCIpKX0sNTApfX0sdGhpcy5mb2N1cz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2UudGV4dElucHV0LmZvY3VzKCl9KSx0aGlzLnRleHRJbnB1dC5mb2N1cygpfSx0aGlzLmlzRm9jdXNlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHRJbnB1dC5pc0ZvY3VzZWQoKX0sdGhpcy5ibHVyPWZ1bmN0aW9uKCl7dGhpcy50ZXh0SW5wdXQuYmx1cigpfSx0aGlzLm9uRm9jdXM9ZnVuY3Rpb24oKXt0aGlzLiRpc0ZvY3VzZWR8fCh0aGlzLiRpc0ZvY3VzZWQ9ITAsdGhpcy5yZW5kZXJlci5zaG93Q3Vyc29yKCksdGhpcy5yZW5kZXJlci52aXN1YWxpemVGb2N1cygpLHRoaXMuX2VtaXQoImZvY3VzIikpfSx0aGlzLm9uQmx1cj1mdW5jdGlvbigpe3RoaXMuJGlzRm9jdXNlZCYmKHRoaXMuJGlzRm9jdXNlZD0hMSx0aGlzLnJlbmRlcmVyLmhpZGVDdXJzb3IoKSx0aGlzLnJlbmRlcmVyLnZpc3VhbGl6ZUJsdXIoKSx0aGlzLl9lbWl0KCJibHVyIikpfSx0aGlzLiRjdXJzb3JDaGFuZ2U9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLnVwZGF0ZUN1cnNvcigpfSx0aGlzLm9uRG9jdW1lbnRDaGFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHIsdD1lLmRhdGEsbj10LnJhbmdlO3I9bi5zdGFydC5yb3c9PW4uZW5kLnJvdyYmImluc2VydExpbmVzIiE9dC5hY3Rpb24mJiJyZW1vdmVMaW5lcyIhPXQuYWN0aW9uP24uZW5kLnJvdzoxLzAsdGhpcy5yZW5kZXJlci51cGRhdGVMaW5lcyhuLnN0YXJ0LnJvdyxyKSx0aGlzLl9zaWduYWwoImNoYW5nZSIsZSksdGhpcy4kY3Vyc29yQ2hhbmdlKCl9LHRoaXMub25Ub2tlbml6ZXJVcGRhdGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kYXRhO3RoaXMucmVuZGVyZXIudXBkYXRlTGluZXModC5maXJzdCx0Lmxhc3QpfSx0aGlzLm9uU2Nyb2xsVG9wQ2hhbmdlPWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci5zY3JvbGxUb1kodGhpcy5zZXNzaW9uLmdldFNjcm9sbFRvcCgpKX0sdGhpcy5vblNjcm9sbExlZnRDaGFuZ2U9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLnNjcm9sbFRvWCh0aGlzLnNlc3Npb24uZ2V0U2Nyb2xsTGVmdCgpKX0sdGhpcy5vbkN1cnNvckNoYW5nZT1mdW5jdGlvbigpe3RoaXMuJGN1cnNvckNoYW5nZSgpLHRoaXMuJGJsb2NrU2Nyb2xsaW5nfHx0aGlzLnJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KCksdGhpcy4kaGlnaGxpZ2h0QnJhY2tldHMoKSx0aGlzLiR1cGRhdGVIaWdobGlnaHRBY3RpdmVMaW5lKCksdGhpcy5fc2lnbmFsKCJjaGFuZ2VTZWxlY3Rpb24iKX0sdGhpcy4kdXBkYXRlSGlnaGxpZ2h0QWN0aXZlTGluZT1mdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5nZXRTZXNzaW9uKCk7aWYodGhpcy4kaGlnaGxpZ2h0QWN0aXZlTGluZSYmKCJsaW5lIj09dGhpcy4kc2VsZWN0aW9uU3R5bGUmJnRoaXMuc2VsZWN0aW9uLmlzTXVsdGlMaW5lKCl8fCh0PXRoaXMuZ2V0Q3Vyc29yUG9zaXRpb24oKSksdGhpcy5yZW5kZXJlci4kbWF4TGluZXMmJjE9PT10aGlzLnNlc3Npb24uZ2V0TGVuZ3RoKCkmJiEodGhpcy5yZW5kZXJlci4kbWluTGluZXM+MSkmJih0PSExKSksZS4kaGlnaGxpZ2h0TGluZU1hcmtlciYmIXQpZS5yZW1vdmVNYXJrZXIoZS4kaGlnaGxpZ2h0TGluZU1hcmtlci5pZCksZS4kaGlnaGxpZ2h0TGluZU1hcmtlcj1udWxsO2Vsc2UgaWYoIWUuJGhpZ2hsaWdodExpbmVNYXJrZXImJnQpe3ZhciBuPW5ldyBwKHQucm93LHQuY29sdW1uLHQucm93LDEvMCk7bi5pZD1lLmFkZE1hcmtlcihuLCJhY2VfYWN0aXZlLWxpbmUiLCJzY3JlZW5MaW5lIiksZS4kaGlnaGxpZ2h0TGluZU1hcmtlcj1ufWVsc2UgdCYmKGUuJGhpZ2hsaWdodExpbmVNYXJrZXIuc3RhcnQucm93PXQucm93LGUuJGhpZ2hsaWdodExpbmVNYXJrZXIuZW5kLnJvdz10LnJvdyxlLiRoaWdobGlnaHRMaW5lTWFya2VyLnN0YXJ0LmNvbHVtbj10LmNvbHVtbixlLl9zaWduYWwoImNoYW5nZUJhY2tNYXJrZXIiKSl9LHRoaXMub25TZWxlY3Rpb25DaGFuZ2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnNlc3Npb247aWYodC4kc2VsZWN0aW9uTWFya2VyJiZ0LnJlbW92ZU1hcmtlcih0LiRzZWxlY3Rpb25NYXJrZXIpLHQuJHNlbGVjdGlvbk1hcmtlcj1udWxsLHRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSl0aGlzLiR1cGRhdGVIaWdobGlnaHRBY3RpdmVMaW5lKCk7ZWxzZXt2YXIgbj10aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLHI9dGhpcy5nZXRTZWxlY3Rpb25TdHlsZSgpO3QuJHNlbGVjdGlvbk1hcmtlcj10LmFkZE1hcmtlcihuLCJhY2Vfc2VsZWN0aW9uIixyKX12YXIgaT10aGlzLiRoaWdobGlnaHRTZWxlY3RlZFdvcmQmJnRoaXMuJGdldFNlbGVjdGlvbkhpZ2hMaWdodFJlZ2V4cCgpO3RoaXMuc2Vzc2lvbi5oaWdobGlnaHQoaSksdGhpcy5fc2lnbmFsKCJjaGFuZ2VTZWxlY3Rpb24iKX0sdGhpcy4kZ2V0U2VsZWN0aW9uSGlnaExpZ2h0UmVnZXhwPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZXNzaW9uLHQ9dGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpO2lmKCF0LmlzRW1wdHkoKSYmIXQuaXNNdWx0aUxpbmUoKSl7dmFyIG49dC5zdGFydC5jb2x1bW4tMSxyPXQuZW5kLmNvbHVtbisxLGk9ZS5nZXRMaW5lKHQuc3RhcnQucm93KSxzPWkubGVuZ3RoLG89aS5zdWJzdHJpbmcoTWF0aC5tYXgobiwwKSxNYXRoLm1pbihyLHMpKTsKaWYoIShuPj0wJiYvXltcd1xkXS8udGVzdChvKXx8cz49ciYmL1tcd1xkXSQvLnRlc3QobykpJiYobz1pLnN1YnN0cmluZyh0LnN0YXJ0LmNvbHVtbix0LmVuZC5jb2x1bW4pLC9eW1x3XGRdKyQvLnRlc3QobykpKXt2YXIgdT10aGlzLiRzZWFyY2guJGFzc2VtYmxlUmVnRXhwKHt3aG9sZVdvcmQ6ITAsY2FzZVNlbnNpdGl2ZTohMCxuZWVkbGU6b30pO3JldHVybiB1fX19LHRoaXMub25DaGFuZ2VGcm9udE1hcmtlcj1mdW5jdGlvbigpe3RoaXMucmVuZGVyZXIudXBkYXRlRnJvbnRNYXJrZXJzKCl9LHRoaXMub25DaGFuZ2VCYWNrTWFya2VyPWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci51cGRhdGVCYWNrTWFya2VycygpfSx0aGlzLm9uQ2hhbmdlQnJlYWtwb2ludD1mdW5jdGlvbigpe3RoaXMucmVuZGVyZXIudXBkYXRlQnJlYWtwb2ludHMoKX0sdGhpcy5vbkNoYW5nZUFubm90YXRpb249ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLnNldEFubm90YXRpb25zKHRoaXMuc2Vzc2lvbi5nZXRBbm5vdGF0aW9ucygpKX0sdGhpcy5vbkNoYW5nZU1vZGU9ZnVuY3Rpb24oZSl7dGhpcy5yZW5kZXJlci51cGRhdGVUZXh0KCksdGhpcy5fZW1pdCgiY2hhbmdlTW9kZSIsZSl9LHRoaXMub25DaGFuZ2VXcmFwTGltaXQ9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLnVwZGF0ZUZ1bGwoKX0sdGhpcy5vbkNoYW5nZVdyYXBNb2RlPWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci5vblJlc2l6ZSghMCl9LHRoaXMub25DaGFuZ2VGb2xkPWZ1bmN0aW9uKCl7dGhpcy4kdXBkYXRlSGlnaGxpZ2h0QWN0aXZlTGluZSgpLHRoaXMucmVuZGVyZXIudXBkYXRlRnVsbCgpfSx0aGlzLmdldFNlbGVjdGVkVGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlc3Npb24uZ2V0VGV4dFJhbmdlKHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKSl9LHRoaXMuZ2V0Q29weVRleHQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFNlbGVjdGVkVGV4dCgpO3JldHVybiB0aGlzLl9zaWduYWwoImNvcHkiLGUpLGV9LHRoaXMub25Db3B5PWZ1bmN0aW9uKCl7dGhpcy5jb21tYW5kcy5leGVjKCJjb3B5Iix0aGlzKX0sdGhpcy5vbkN1dD1mdW5jdGlvbigpe3RoaXMuY29tbWFuZHMuZXhlYygiY3V0Iix0aGlzKX0sdGhpcy5vblBhc3RlPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLiRyZWFkT25seSl7dmFyIHQ9e3RleHQ6ZX07dGhpcy5fc2lnbmFsKCJwYXN0ZSIsdCksdGhpcy5pbnNlcnQodC50ZXh0LCEwKX19LHRoaXMuZXhlY0NvbW1hbmQ9ZnVuY3Rpb24oZSx0KXt0aGlzLmNvbW1hbmRzLmV4ZWMoZSx0aGlzLHQpfSx0aGlzLmluc2VydD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuc2Vzc2lvbixyPW4uZ2V0TW9kZSgpLGk9dGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpO2lmKHRoaXMuZ2V0QmVoYXZpb3Vyc0VuYWJsZWQoKSYmIXQpe3ZhciBzPXIudHJhbnNmb3JtQWN0aW9uKG4uZ2V0U3RhdGUoaS5yb3cpLCJpbnNlcnRpb24iLHRoaXMsbixlKTtzJiYoZSE9PXMudGV4dCYmKHRoaXMuc2Vzc2lvbi5tZXJnZVVuZG9EZWx0YXM9ITEsdGhpcy4kbWVyZ2VOZXh0Q29tbWFuZD0hMSksZT1zLnRleHQpfWlmKCIJIj09ZSYmKGU9dGhpcy5zZXNzaW9uLmdldFRhYlN0cmluZygpKSx0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkpe2lmKHRoaXMuc2Vzc2lvbi5nZXRPdmVyd3JpdGUoKSl7dmFyIG89bmV3IHAuZnJvbVBvaW50cyhpLGkpO28uZW5kLmNvbHVtbis9ZS5sZW5ndGgsdGhpcy5zZXNzaW9uLnJlbW92ZShvKX19ZWxzZXt2YXIgbz10aGlzLmdldFNlbGVjdGlvblJhbmdlKCk7aT10aGlzLnNlc3Npb24ucmVtb3ZlKG8pLHRoaXMuY2xlYXJTZWxlY3Rpb24oKX1pZigiXG4iPT1lfHwiXHJcbiI9PWUpe3ZhciB1PW4uZ2V0TGluZShpLnJvdyk7aWYoaS5jb2x1bW4+dS5zZWFyY2goL1xTfCQvKSl7dmFyIGE9dS5zdWJzdHIoaS5jb2x1bW4pLnNlYXJjaCgvXFN8JC8pO24uZG9jLnJlbW92ZUluTGluZShpLnJvdyxpLmNvbHVtbixpLmNvbHVtbithKX19dGhpcy5jbGVhclNlbGVjdGlvbigpO3t2YXIgZj1pLmNvbHVtbixsPW4uZ2V0U3RhdGUoaS5yb3cpLHU9bi5nZXRMaW5lKGkucm93KSxjPXIuY2hlY2tPdXRkZW50KGwsdSxlKTtuLmluc2VydChpLGUpfWlmKHMmJnMuc2VsZWN0aW9uJiZ0aGlzLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25SYW5nZSgyPT1zLnNlbGVjdGlvbi5sZW5ndGg/bmV3IHAoaS5yb3csZitzLnNlbGVjdGlvblswXSxpLnJvdyxmK3Muc2VsZWN0aW9uWzFdKTpuZXcgcChpLnJvdytzLnNlbGVjdGlvblswXSxzLnNlbGVjdGlvblsxXSxpLnJvdytzLnNlbGVjdGlvblsyXSxzLnNlbGVjdGlvblszXSkpLG4uZ2V0RG9jdW1lbnQoKS5pc05ld0xpbmUoZSkpe3ZhciBkPXIuZ2V0TmV4dExpbmVJbmRlbnQobCx1LnNsaWNlKDAsaS5jb2x1bW4pLG4uZ2V0VGFiU3RyaW5nKCkpO24uaW5zZXJ0KHtyb3c6aS5yb3crMSxjb2x1bW46MH0sZCl9YyYmci5hdXRvT3V0ZGVudChsLG4saS5yb3cpfSx0aGlzLm9uVGV4dElucHV0PWZ1bmN0aW9uKGUpe3RoaXMua2V5QmluZGluZy5vblRleHRJbnB1dChlKX0sdGhpcy5vbkNvbW1hbmRLZXk9ZnVuY3Rpb24oZSx0LG4pe3RoaXMua2V5QmluZGluZy5vbkNvbW1hbmRLZXkoZSx0LG4pfSx0aGlzLnNldE92ZXJ3cml0ZT1mdW5jdGlvbihlKXt0aGlzLnNlc3Npb24uc2V0T3ZlcndyaXRlKGUpfSx0aGlzLmdldE92ZXJ3cml0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlc3Npb24uZ2V0T3ZlcndyaXRlKCl9LHRoaXMudG9nZ2xlT3ZlcndyaXRlPWZ1bmN0aW9uKCl7dGhpcy5zZXNzaW9uLnRvZ2dsZU92ZXJ3cml0ZSgpfSx0aGlzLnNldFNjcm9sbFNwZWVkPWZ1bmN0aW9uKGUpe3RoaXMuc2V0T3B0aW9uKCJzY3JvbGxTcGVlZCIsZSl9LHRoaXMuZ2V0U2Nyb2xsU3BlZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRPcHRpb24oInNjcm9sbFNwZWVkIil9LHRoaXMuc2V0RHJhZ0RlbGF5PWZ1bmN0aW9uKGUpe3RoaXMuc2V0T3B0aW9uKCJkcmFnRGVsYXkiLGUpfSx0aGlzLmdldERyYWdEZWxheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE9wdGlvbigiZHJhZ0RlbGF5Iil9LHRoaXMuc2V0U2VsZWN0aW9uU3R5bGU9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oInNlbGVjdGlvblN0eWxlIixlKX0sdGhpcy5nZXRTZWxlY3Rpb25TdHlsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE9wdGlvbigic2VsZWN0aW9uU3R5bGUiKX0sdGhpcy5zZXRIaWdobGlnaHRBY3RpdmVMaW5lPWZ1bmN0aW9uKGUpe3RoaXMuc2V0T3B0aW9uKCJoaWdobGlnaHRBY3RpdmVMaW5lIixlKX0sdGhpcy5nZXRIaWdobGlnaHRBY3RpdmVMaW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0T3B0aW9uKCJoaWdobGlnaHRBY3RpdmVMaW5lIil9LHRoaXMuc2V0SGlnaGxpZ2h0R3V0dGVyTGluZT1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbigiaGlnaGxpZ2h0R3V0dGVyTGluZSIsZSl9LHRoaXMuZ2V0SGlnaGxpZ2h0R3V0dGVyTGluZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE9wdGlvbigiaGlnaGxpZ2h0R3V0dGVyTGluZSIpfSx0aGlzLnNldEhpZ2hsaWdodFNlbGVjdGVkV29yZD1mdW5jdGlvbihlKXt0aGlzLnNldE9wdGlvbigiaGlnaGxpZ2h0U2VsZWN0ZWRXb3JkIixlKX0sdGhpcy5nZXRIaWdobGlnaHRTZWxlY3RlZFdvcmQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kaGlnaGxpZ2h0U2VsZWN0ZWRXb3JkfSx0aGlzLnNldEFuaW1hdGVkU2Nyb2xsPWZ1bmN0aW9uKGUpe3RoaXMucmVuZGVyZXIuc2V0QW5pbWF0ZWRTY3JvbGwoZSl9LHRoaXMuZ2V0QW5pbWF0ZWRTY3JvbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW5kZXJlci5nZXRBbmltYXRlZFNjcm9sbCgpfSx0aGlzLnNldFNob3dJbnZpc2libGVzPWZ1bmN0aW9uKGUpe3RoaXMucmVuZGVyZXIuc2V0U2hvd0ludmlzaWJsZXMoZSl9LHRoaXMuZ2V0U2hvd0ludmlzaWJsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW5kZXJlci5nZXRTaG93SW52aXNpYmxlcygpfSx0aGlzLnNldERpc3BsYXlJbmRlbnRHdWlkZXM9ZnVuY3Rpb24oZSl7dGhpcy5yZW5kZXJlci5zZXREaXNwbGF5SW5kZW50R3VpZGVzKGUpfSx0aGlzLmdldERpc3BsYXlJbmRlbnRHdWlkZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW5kZXJlci5nZXREaXNwbGF5SW5kZW50R3VpZGVzKCl9LHRoaXMuc2V0U2hvd1ByaW50TWFyZ2luPWZ1bmN0aW9uKGUpe3RoaXMucmVuZGVyZXIuc2V0U2hvd1ByaW50TWFyZ2luKGUpfSx0aGlzLmdldFNob3dQcmludE1hcmdpbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbmRlcmVyLmdldFNob3dQcmludE1hcmdpbigpfSx0aGlzLnNldFByaW50TWFyZ2luQ29sdW1uPWZ1bmN0aW9uKGUpe3RoaXMucmVuZGVyZXIuc2V0UHJpbnRNYXJnaW5Db2x1bW4oZSl9LHRoaXMuZ2V0UHJpbnRNYXJnaW5Db2x1bW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW5kZXJlci5nZXRQcmludE1hcmdpbkNvbHVtbigpfSx0aGlzLnNldFJlYWRPbmx5PWZ1bmN0aW9uKGUpe3RoaXMuc2V0T3B0aW9uKCJyZWFkT25seSIsZSl9LHRoaXMuZ2V0UmVhZE9ubHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRPcHRpb24oInJlYWRPbmx5Iil9LHRoaXMuc2V0QmVoYXZpb3Vyc0VuYWJsZWQ9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oImJlaGF2aW91cnNFbmFibGVkIixlKX0sdGhpcy5nZXRCZWhhdmlvdXJzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE9wdGlvbigiYmVoYXZpb3Vyc0VuYWJsZWQiKX0sdGhpcy5zZXRXcmFwQmVoYXZpb3Vyc0VuYWJsZWQ9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oIndyYXBCZWhhdmlvdXJzRW5hYmxlZCIsZSl9LHRoaXMuZ2V0V3JhcEJlaGF2aW91cnNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0T3B0aW9uKCJ3cmFwQmVoYXZpb3Vyc0VuYWJsZWQiKX0sdGhpcy5zZXRTaG93Rm9sZFdpZGdldHM9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oInNob3dGb2xkV2lkZ2V0cyIsZSl9LHRoaXMuZ2V0U2hvd0ZvbGRXaWRnZXRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0T3B0aW9uKCJzaG93Rm9sZFdpZGdldHMiKX0sdGhpcy5zZXRGYWRlRm9sZFdpZGdldHM9ZnVuY3Rpb24oZSl7dGhpcy5zZXRPcHRpb24oImZhZGVGb2xkV2lkZ2V0cyIsZSl9LHRoaXMuZ2V0RmFkZUZvbGRXaWRnZXRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0T3B0aW9uKCJmYWRlRm9sZFdpZGdldHMiKX0sdGhpcy5yZW1vdmU9ZnVuY3Rpb24oZSl7dGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpJiYoImxlZnQiPT1lP3RoaXMuc2VsZWN0aW9uLnNlbGVjdExlZnQoKTp0aGlzLnNlbGVjdGlvbi5zZWxlY3RSaWdodCgpKTt2YXIgdD10aGlzLmdldFNlbGVjdGlvblJhbmdlKCk7aWYodGhpcy5nZXRCZWhhdmlvdXJzRW5hYmxlZCgpKXt2YXIgbj10aGlzLnNlc3Npb24scj1uLmdldFN0YXRlKHQuc3RhcnQucm93KSxpPW4uZ2V0TW9kZSgpLnRyYW5zZm9ybUFjdGlvbihyLCJkZWxldGlvbiIsdGhpcyxuLHQpO2lmKDA9PT10LmVuZC5jb2x1bW4pe3ZhciBzPW4uZ2V0VGV4dFJhbmdlKHQpO2lmKCJcbiI9PXNbcy5sZW5ndGgtMV0pe3ZhciBvPW4uZ2V0TGluZSh0LmVuZC5yb3cpOy9eXHMrJC8udGVzdChvKSYmKHQuZW5kLmNvbHVtbj1vLmxlbmd0aCl9fWkmJih0PWkpfXRoaXMuc2Vzc2lvbi5yZW1vdmUodCksdGhpcy5jbGVhclNlbGVjdGlvbigpfSx0aGlzLnJlbW92ZVdvcmRSaWdodD1mdW5jdGlvbigpe3RoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSYmdGhpcy5zZWxlY3Rpb24uc2VsZWN0V29yZFJpZ2h0KCksdGhpcy5zZXNzaW9uLnJlbW92ZSh0aGlzLmdldFNlbGVjdGlvblJhbmdlKCkpLHRoaXMuY2xlYXJTZWxlY3Rpb24oKX0sdGhpcy5yZW1vdmVXb3JkTGVmdD1mdW5jdGlvbigpe3RoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSYmdGhpcy5zZWxlY3Rpb24uc2VsZWN0V29yZExlZnQoKSx0aGlzLnNlc3Npb24ucmVtb3ZlKHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKSksdGhpcy5jbGVhclNlbGVjdGlvbigpfSx0aGlzLnJlbW92ZVRvTGluZVN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpJiZ0aGlzLnNlbGVjdGlvbi5zZWxlY3RMaW5lU3RhcnQoKSx0aGlzLnNlc3Npb24ucmVtb3ZlKHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKSksdGhpcy5jbGVhclNlbGVjdGlvbigpfSx0aGlzLnJlbW92ZVRvTGluZUVuZD1mdW5jdGlvbigpe3RoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSYmdGhpcy5zZWxlY3Rpb24uc2VsZWN0TGluZUVuZCgpO3ZhciBlPXRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtlLnN0YXJ0LmNvbHVtbj09ZS5lbmQuY29sdW1uJiZlLnN0YXJ0LnJvdz09ZS5lbmQucm93JiYoZS5lbmQuY29sdW1uPTAsZS5lbmQucm93KyspLHRoaXMuc2Vzc2lvbi5yZW1vdmUoZSksdGhpcy5jbGVhclNlbGVjdGlvbigpfSx0aGlzLnNwbGl0TGluZT1mdW5jdGlvbigpe3RoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKXx8KHRoaXMuc2Vzc2lvbi5yZW1vdmUodGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpKSx0aGlzLmNsZWFyU2VsZWN0aW9uKCkpO3ZhciBlPXRoaXMuZ2V0Q3Vyc29yUG9zaXRpb24oKTt0aGlzLmluc2VydCgiXG4iKSx0aGlzLm1vdmVDdXJzb3JUb1Bvc2l0aW9uKGUpfSx0aGlzLnRyYW5zcG9zZUxldHRlcnM9ZnVuY3Rpb24oKXtpZih0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkpe3ZhciBlPXRoaXMuZ2V0Q3Vyc29yUG9zaXRpb24oKSx0PWUuY29sdW1uO2lmKDAhPT10KXt2YXIgcixpLG49dGhpcy5zZXNzaW9uLmdldExpbmUoZS5yb3cpO3Q8bi5sZW5ndGg/KHI9bi5jaGFyQXQodCkrbi5jaGFyQXQodC0xKSxpPW5ldyBwKGUucm93LHQtMSxlLnJvdyx0KzEpKToocj1uLmNoYXJBdCh0LTEpK24uY2hhckF0KHQtMiksaT1uZXcgcChlLnJvdyx0LTIsZS5yb3csdCkpLHRoaXMuc2Vzc2lvbi5yZXBsYWNlKGkscil9fX0sdGhpcy50b0xvd2VyQ2FzZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKTt0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkmJnRoaXMuc2VsZWN0aW9uLnNlbGVjdFdvcmQoKTt2YXIgdD10aGlzLmdldFNlbGVjdGlvblJhbmdlKCksbj10aGlzLnNlc3Npb24uZ2V0VGV4dFJhbmdlKHQpO3RoaXMuc2Vzc2lvbi5yZXBsYWNlKHQsbi50b0xvd2VyQ2FzZSgpKSx0aGlzLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25SYW5nZShlKX0sdGhpcy50b1VwcGVyQ2FzZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKTt0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkmJnRoaXMuc2VsZWN0aW9uLnNlbGVjdFdvcmQoKTt2YXIgdD10aGlzLmdldFNlbGVjdGlvblJhbmdlKCksbj10aGlzLnNlc3Npb24uZ2V0VGV4dFJhbmdlKHQpO3RoaXMuc2Vzc2lvbi5yZXBsYWNlKHQsbi50b1VwcGVyQ2FzZSgpKSx0aGlzLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25SYW5nZShlKX0sdGhpcy5pbmRlbnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNlc3Npb24sdD10aGlzLmdldFNlbGVjdGlvblJhbmdlKCk7aWYodC5zdGFydC5yb3c8dC5lbmQucm93KXt2YXIgbj10aGlzLiRnZXRTZWxlY3RlZFJvd3MoKTtyZXR1cm4gdm9pZCBlLmluZGVudFJvd3Mobi5maXJzdCxuLmxhc3QsIgkiKX1pZih0LnN0YXJ0LmNvbHVtbjx0LmVuZC5jb2x1bW4pe3ZhciByPWUuZ2V0VGV4dFJhbmdlKHQpO2lmKCEvXlxzKyQvLnRlc3Qocikpe3ZhciBuPXRoaXMuJGdldFNlbGVjdGVkUm93cygpO3JldHVybiB2b2lkIGUuaW5kZW50Um93cyhuLmZpcnN0LG4ubGFzdCwiCSIpfX12YXIgaT1lLmdldExpbmUodC5zdGFydC5yb3cpLG89dC5zdGFydCx1PWUuZ2V0VGFiU2l6ZSgpLGE9ZS5kb2N1bWVudFRvU2NyZWVuQ29sdW1uKG8ucm93LG8uY29sdW1uKTtpZih0aGlzLnNlc3Npb24uZ2V0VXNlU29mdFRhYnMoKSl2YXIgZj11LWEldSxsPXMuc3RyaW5nUmVwZWF0KCIgIixmKTtlbHNle2Zvcih2YXIgZj1hJXU7IiAiPT1pW3Quc3RhcnQuY29sdW1uXSYmZjspdC5zdGFydC5jb2x1bW4tLSxmLS07dGhpcy5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uUmFuZ2UodCksbD0iCSJ9cmV0dXJuIHRoaXMuaW5zZXJ0KGwpfSx0aGlzLmJsb2NrSW5kZW50PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy4kZ2V0U2VsZWN0ZWRSb3dzKCk7dGhpcy5zZXNzaW9uLmluZGVudFJvd3MoZS5maXJzdCxlLmxhc3QsIgkiKX0sdGhpcy5ibG9ja091dGRlbnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNlc3Npb24uZ2V0U2VsZWN0aW9uKCk7dGhpcy5zZXNzaW9uLm91dGRlbnRSb3dzKGUuZ2V0UmFuZ2UoKSl9LHRoaXMuc29ydExpbmVzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy4kZ2V0U2VsZWN0ZWRSb3dzKCksdD10aGlzLnNlc3Npb24sbj1bXTtmb3IoaT1lLmZpcnN0O2k8PWUubGFzdDtpKyspbi5wdXNoKHQuZ2V0TGluZShpKSk7bi5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudG9Mb3dlckNhc2UoKTx0LnRvTG93ZXJDYXNlKCk/LTE6ZS50b0xvd2VyQ2FzZSgpPnQudG9Mb3dlckNhc2UoKT8xOjB9KTtmb3IodmFyIHI9bmV3IHAoMCwwLDAsMCksaT1lLmZpcnN0O2k8PWUubGFzdDtpKyspe3ZhciBzPXQuZ2V0TGluZShpKTtyLnN0YXJ0LnJvdz1pLHIuZW5kLnJvdz1pLHIuZW5kLmNvbHVtbj1zLmxlbmd0aCx0LnJlcGxhY2UocixuW2ktZS5maXJzdF0pfX0sdGhpcy50b2dnbGVDb21tZW50TGluZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNlc3Npb24uZ2V0U3RhdGUodGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpLnJvdyksdD10aGlzLiRnZXRTZWxlY3RlZFJvd3MoKTt0aGlzLnNlc3Npb24uZ2V0TW9kZSgpLnRvZ2dsZUNvbW1lbnRMaW5lcyhlLHRoaXMuc2Vzc2lvbix0LmZpcnN0LHQubGFzdCl9LHRoaXMudG9nZ2xlQmxvY2tDb21tZW50PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpLHQ9dGhpcy5zZXNzaW9uLmdldFN0YXRlKGUucm93KSxuPXRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKTt0aGlzLnNlc3Npb24uZ2V0TW9kZSgpLnRvZ2dsZUJsb2NrQ29tbWVudCh0LHRoaXMuc2Vzc2lvbixuLGUpfSx0aGlzLmdldE51bWJlckF0PWZ1bmN0aW9uKGUsdCl7dmFyIG49L1tcLV0/WzAtOV0rKD86XC5bMC05XSspPy9nO24ubGFzdEluZGV4PTA7Zm9yKHZhciByPXRoaXMuc2Vzc2lvbi5nZXRMaW5lKGUpO24ubGFzdEluZGV4PHQ7KXt2YXIgaT1uLmV4ZWMocik7aWYoaS5pbmRleDw9dCYmaS5pbmRleCtpWzBdLmxlbmd0aD49dCl7dmFyIHM9e3ZhbHVlOmlbMF0sc3RhcnQ6aS5pbmRleCxlbmQ6aS5pbmRleCtpWzBdLmxlbmd0aH07cmV0dXJuIHN9fXJldHVybiBudWxsfSx0aGlzLm1vZGlmeU51bWJlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnNlbGVjdGlvbi5nZXRDdXJzb3IoKS5yb3csbj10aGlzLnNlbGVjdGlvbi5nZXRDdXJzb3IoKS5jb2x1bW4scj1uZXcgcCh0LG4tMSx0LG4pLGk9dGhpcy5zZXNzaW9uLmdldFRleHRSYW5nZShyKTtpZighaXNOYU4ocGFyc2VGbG9hdChpKSkmJmlzRmluaXRlKGkpKXt2YXIgcz10aGlzLmdldE51bWJlckF0KHQsbik7aWYocyl7dmFyIG89cy52YWx1ZS5pbmRleE9mKCIuIik+PTA/cy5zdGFydCtzLnZhbHVlLmluZGV4T2YoIi4iKSsxOnMuZW5kLHU9cy5zdGFydCtzLnZhbHVlLmxlbmd0aC1vLGE9cGFyc2VGbG9hdChzLnZhbHVlKTthKj1NYXRoLnBvdygxMCx1KSxlKj1vIT09cy5lbmQmJm8+bj9NYXRoLnBvdygxMCxzLmVuZC1uLTEpOk1hdGgucG93KDEwLHMuZW5kLW4pLGErPWUsYS89TWF0aC5wb3coMTAsdSk7dmFyIGY9YS50b0ZpeGVkKHUpLGw9bmV3IHAodCxzLnN0YXJ0LHQscy5lbmQpO3RoaXMuc2Vzc2lvbi5yZXBsYWNlKGwsZiksdGhpcy5tb3ZlQ3Vyc29yVG8odCxNYXRoLm1heChzLnN0YXJ0KzEsbitmLmxlbmd0aC1zLnZhbHVlLmxlbmd0aCkpfX19LHRoaXMucmVtb3ZlTGluZXM9ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuJGdldFNlbGVjdGVkUm93cygpO3Q9MD09PWUuZmlyc3R8fGUubGFzdCsxPHRoaXMuc2Vzc2lvbi5nZXRMZW5ndGgoKT9uZXcgcChlLmZpcnN0LDAsZS5sYXN0KzEsMCk6bmV3IHAoZS5maXJzdC0xLHRoaXMuc2Vzc2lvbi5nZXRMaW5lKGUuZmlyc3QtMSkubGVuZ3RoLGUubGFzdCx0aGlzLnNlc3Npb24uZ2V0TGluZShlLmxhc3QpLmxlbmd0aCksdGhpcy5zZXNzaW9uLnJlbW92ZSh0KSx0aGlzLmNsZWFyU2VsZWN0aW9uKCl9LHRoaXMuZHVwbGljYXRlU2VsZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZWxlY3Rpb24sdD10aGlzLnNlc3Npb24sbj1lLmdldFJhbmdlKCkscj1lLmlzQmFja3dhcmRzKCk7aWYobi5pc0VtcHR5KCkpe3ZhciBpPW4uc3RhcnQucm93O3QuZHVwbGljYXRlTGluZXMoaSxpKX1lbHNle3ZhciBzPXI/bi5zdGFydDpuLmVuZCxvPXQuaW5zZXJ0KHMsdC5nZXRUZXh0UmFuZ2UobiksITEpO24uc3RhcnQ9cyxuLmVuZD1vLGUuc2V0U2VsZWN0aW9uUmFuZ2UobixyKX19LHRoaXMubW92ZUxpbmVzRG93bj1mdW5jdGlvbigpe3RoaXMuJG1vdmVMaW5lcyhmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnNlc3Npb24ubW92ZUxpbmVzRG93bihlLHQpfSl9LHRoaXMubW92ZUxpbmVzVXA9ZnVuY3Rpb24oKXt0aGlzLiRtb3ZlTGluZXMoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zZXNzaW9uLm1vdmVMaW5lc1VwKGUsdCl9KX0sdGhpcy5tb3ZlVGV4dD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuc2Vzc2lvbi5tb3ZlVGV4dChlLHQsbil9LHRoaXMuY29weUxpbmVzVXA9ZnVuY3Rpb24oKXt0aGlzLiRtb3ZlTGluZXMoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zZXNzaW9uLmR1cGxpY2F0ZUxpbmVzKGUsdCksMH0pfSx0aGlzLmNvcHlMaW5lc0Rvd249ZnVuY3Rpb24oKXt0aGlzLiRtb3ZlTGluZXMoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zZXNzaW9uLmR1cGxpY2F0ZUxpbmVzKGUsdCl9KX0sdGhpcy4kbW92ZUxpbmVzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc2VsZWN0aW9uO2lmKCF0LmluTXVsdGlTZWxlY3RNb2RlfHx0aGlzLmluVmlydHVhbFNlbGVjdGlvbk1vZGUpe3ZhciBuPXQudG9PcmllbnRlZFJhbmdlKCkscj10aGlzLiRnZXRTZWxlY3RlZFJvd3MobiksaT1lLmNhbGwodGhpcyxyLmZpcnN0LHIubGFzdCk7bi5tb3ZlQnkoaSwwKSx0LmZyb21PcmllbnRlZFJhbmdlKG4pfWVsc2V7dmFyIHM9dC5yYW5nZUxpc3QucmFuZ2VzO3QucmFuZ2VMaXN0LmRldGFjaCh0aGlzLnNlc3Npb24pO2Zvcih2YXIgbz1zLmxlbmd0aDtvLS07KXtmb3IodmFyIHU9byxyPXNbb10uY29sbGFwc2VSb3dzKCksYT1yLmVuZC5yb3csZj1yLnN0YXJ0LnJvdztvLS0mJihyPXNbb10uY29sbGFwc2VSb3dzKCksZi1yLmVuZC5yb3c8PTEpOylmPXIuZW5kLnJvdztvKys7Zm9yKHZhciBpPWUuY2FsbCh0aGlzLGYsYSk7dT49bzspc1t1XS5tb3ZlQnkoaSwwKSx1LS19dC5mcm9tT3JpZW50ZWRSYW5nZSh0LnJhbmdlc1swXSksdC5yYW5nZUxpc3QuYXR0YWNoKHRoaXMuc2Vzc2lvbil9fSx0aGlzLiRnZXRTZWxlY3RlZFJvd3M9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFNlbGVjdGlvblJhbmdlKCkuY29sbGFwc2VSb3dzKCk7cmV0dXJue2ZpcnN0OnRoaXMuc2Vzc2lvbi5nZXRSb3dGb2xkU3RhcnQoZS5zdGFydC5yb3cpLGxhc3Q6dGhpcy5zZXNzaW9uLmdldFJvd0ZvbGRFbmQoZS5lbmQucm93KX19LHRoaXMub25Db21wb3NpdGlvblN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci5zaG93Q29tcG9zaXRpb24odGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpKX0sdGhpcy5vbkNvbXBvc2l0aW9uVXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMucmVuZGVyZXIuc2V0Q29tcG9zaXRpb25UZXh0KGUpfSx0aGlzLm9uQ29tcG9zaXRpb25FbmQ9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLmhpZGVDb21wb3NpdGlvbigpfSx0aGlzLmdldEZpcnN0VmlzaWJsZVJvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbmRlcmVyLmdldEZpcnN0VmlzaWJsZVJvdygpfSx0aGlzLmdldExhc3RWaXNpYmxlUm93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVuZGVyZXIuZ2V0TGFzdFZpc2libGVSb3coKX0sdGhpcy5pc1Jvd1Zpc2libGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+PXRoaXMuZ2V0Rmlyc3RWaXNpYmxlUm93KCkmJmU8PXRoaXMuZ2V0TGFzdFZpc2libGVSb3coKX0sdGhpcy5pc1Jvd0Z1bGx5VmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4gZT49dGhpcy5yZW5kZXJlci5nZXRGaXJzdEZ1bGx5VmlzaWJsZVJvdygpJiZlPD10aGlzLnJlbmRlcmVyLmdldExhc3RGdWxseVZpc2libGVSb3coKX0sdGhpcy4kZ2V0VmlzaWJsZVJvd0NvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVuZGVyZXIuZ2V0U2Nyb2xsQm90dG9tUm93KCktdGhpcy5yZW5kZXJlci5nZXRTY3JvbGxUb3BSb3coKSsxfSx0aGlzLiRtb3ZlQnlQYWdlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5yZW5kZXJlcixyPXRoaXMucmVuZGVyZXIubGF5ZXJDb25maWcsaT1lKk1hdGguZmxvb3Ioci5oZWlnaHQvci5saW5lSGVpZ2h0KTt0aGlzLiRibG9ja1Njcm9sbGluZysrLHQ9PT0hMD90aGlzLnNlbGVjdGlvbi4kbW92ZVNlbGVjdGlvbihmdW5jdGlvbigpe3RoaXMubW92ZUN1cnNvckJ5KGksMCl9KTp0PT09ITEmJih0aGlzLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yQnkoaSwwKSx0aGlzLnNlbGVjdGlvbi5jbGVhclNlbGVjdGlvbigpKSx0aGlzLiRibG9ja1Njcm9sbGluZy0tO3ZhciBzPW4uc2Nyb2xsVG9wO24uc2Nyb2xsQnkoMCxpKnIubGluZUhlaWdodCksbnVsbCE9dCYmbi5zY3JvbGxDdXJzb3JJbnRvVmlldyhudWxsLC41KSxuLmFuaW1hdGVTY3JvbGxpbmcocyl9LHRoaXMuc2VsZWN0UGFnZURvd249ZnVuY3Rpb24oKXt0aGlzLiRtb3ZlQnlQYWdlKDEsITApfSx0aGlzLnNlbGVjdFBhZ2VVcD1mdW5jdGlvbigpe3RoaXMuJG1vdmVCeVBhZ2UoLTEsITApfSx0aGlzLmdvdG9QYWdlRG93bj1mdW5jdGlvbigpe3RoaXMuJG1vdmVCeVBhZ2UoMSwhMSl9LHRoaXMuZ290b1BhZ2VVcD1mdW5jdGlvbigpe3RoaXMuJG1vdmVCeVBhZ2UoLTEsITEpfSx0aGlzLnNjcm9sbFBhZ2VEb3duPWZ1bmN0aW9uKCl7dGhpcy4kbW92ZUJ5UGFnZSgxKX0sdGhpcy5zY3JvbGxQYWdlVXA9ZnVuY3Rpb24oKXt0aGlzLiRtb3ZlQnlQYWdlKC0xKX0sdGhpcy5zY3JvbGxUb1Jvdz1mdW5jdGlvbihlKXt0aGlzLnJlbmRlcmVyLnNjcm9sbFRvUm93KGUpfSx0aGlzLnNjcm9sbFRvTGluZT1mdW5jdGlvbihlLHQsbixyKXt0aGlzLnJlbmRlcmVyLnNjcm9sbFRvTGluZShlLHQsbixyKX0sdGhpcy5jZW50ZXJTZWxlY3Rpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFNlbGVjdGlvblJhbmdlKCksdD17cm93Ok1hdGguZmxvb3IoZS5zdGFydC5yb3crKGUuZW5kLnJvdy1lLnN0YXJ0LnJvdykvMiksY29sdW1uOk1hdGguZmxvb3IoZS5zdGFydC5jb2x1bW4rKGUuZW5kLmNvbHVtbi1lLnN0YXJ0LmNvbHVtbikvMil9O3RoaXMucmVuZGVyZXIuYWxpZ25DdXJzb3IodCwuNSl9LHRoaXMuZ2V0Q3Vyc29yUG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3Rpb24uZ2V0Q3Vyc29yKCl9LHRoaXMuZ2V0Q3Vyc29yUG9zaXRpb25TY3JlZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLmdldEN1cnNvclBvc2l0aW9uKCkpfSx0aGlzLmdldFNlbGVjdGlvblJhbmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCl9LHRoaXMuc2VsZWN0QWxsPWZ1bmN0aW9uKCl7dGhpcy4kYmxvY2tTY3JvbGxpbmcrPTEsdGhpcy5zZWxlY3Rpb24uc2VsZWN0QWxsKCksdGhpcy4kYmxvY2tTY3JvbGxpbmctPTF9LHRoaXMuY2xlYXJTZWxlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGlvbi5jbGVhclNlbGVjdGlvbigpfSx0aGlzLm1vdmVDdXJzb3JUbz1mdW5jdGlvbihlLHQpe3RoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JUbyhlLHQpfSx0aGlzLm1vdmVDdXJzb3JUb1Bvc2l0aW9uPWZ1bmN0aW9uKGUpe3RoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JUb1Bvc2l0aW9uKGUpfSx0aGlzLmp1bXBUb01hdGNoaW5nPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0Q3Vyc29yUG9zaXRpb24oKSxuPXRoaXMuc2Vzc2lvbi5nZXRCcmFja2V0UmFuZ2UodCk7aWYoIW4pe2lmKG49dGhpcy5maW5kKHtuZWVkbGU6L1t7fSgpXFtcXV0vZyxwcmV2ZW50U2Nyb2xsOiEwLHN0YXJ0Ontyb3c6dC5yb3csY29sdW1uOnQuY29sdW1uLTF9fSksIW4pcmV0dXJuO3ZhciByPW4uc3RhcnQ7ci5yb3c9PXQucm93JiZNYXRoLmFicyhyLmNvbHVtbi10LmNvbHVtbik8MiYmKG49dGhpcy5zZXNzaW9uLmdldEJyYWNrZXRSYW5nZShyKSl9cj1uJiZuLmN1cnNvcnx8cixyJiYoZT9uJiZuLmlzRXF1YWwodGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpKT90aGlzLmNsZWFyU2VsZWN0aW9uKCk6dGhpcy5zZWxlY3Rpb24uc2VsZWN0VG8oci5yb3csci5jb2x1bW4pOnRoaXMuc2VsZWN0aW9uLm1vdmVUbyhyLnJvdyxyLmNvbHVtbikpfSx0aGlzLmdvdG9MaW5lPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLnNlbGVjdGlvbi5jbGVhclNlbGVjdGlvbigpLHRoaXMuc2Vzc2lvbi51bmZvbGQoe3JvdzplLTEsY29sdW1uOnR8fDB9KSx0aGlzLiRibG9ja1Njcm9sbGluZys9MSx0aGlzLmV4aXRNdWx0aVNlbGVjdE1vZGUmJnRoaXMuZXhpdE11bHRpU2VsZWN0TW9kZSgpLHRoaXMubW92ZUN1cnNvclRvKGUtMSx0fHwwKSx0aGlzLiRibG9ja1Njcm9sbGluZy09MSx0aGlzLmlzUm93RnVsbHlWaXNpYmxlKGUtMSl8fHRoaXMuc2Nyb2xsVG9MaW5lKGUtMSwhMCxuKX0sdGhpcy5uYXZpZ2F0ZVRvPWZ1bmN0aW9uKGUsdCl7dGhpcy5zZWxlY3Rpb24ubW92ZVRvKGUsdCl9LHRoaXMubmF2aWdhdGVVcD1mdW5jdGlvbihlKXtpZih0aGlzLnNlbGVjdGlvbi5pc011bHRpTGluZSgpJiYhdGhpcy5zZWxlY3Rpb24uaXNCYWNrd2FyZHMoKSl7dmFyIHQ9dGhpcy5zZWxlY3Rpb24uYW5jaG9yLmdldFBvc2l0aW9uKCk7cmV0dXJuIHRoaXMubW92ZUN1cnNvclRvUG9zaXRpb24odCl9dGhpcy5zZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oKSx0aGlzLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yQnkoLWV8fC0xLDApfSx0aGlzLm5hdmlnYXRlRG93bj1mdW5jdGlvbihlKXtpZih0aGlzLnNlbGVjdGlvbi5pc011bHRpTGluZSgpJiZ0aGlzLnNlbGVjdGlvbi5pc0JhY2t3YXJkcygpKXt2YXIgdD10aGlzLnNlbGVjdGlvbi5hbmNob3IuZ2V0UG9zaXRpb24oKTtyZXR1cm4gdGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbih0KX10aGlzLnNlbGVjdGlvbi5jbGVhclNlbGVjdGlvbigpLHRoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JCeShlfHwxLDApfSx0aGlzLm5hdmlnYXRlTGVmdD1mdW5jdGlvbihlKXtpZih0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkpZm9yKGU9ZXx8MTtlLS07KXRoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JMZWZ0KCk7ZWxzZXt2YXIgdD10aGlzLmdldFNlbGVjdGlvblJhbmdlKCkuc3RhcnQ7dGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbih0KX10aGlzLmNsZWFyU2VsZWN0aW9uKCl9LHRoaXMubmF2aWdhdGVSaWdodD1mdW5jdGlvbihlKXtpZih0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkpZm9yKGU9ZXx8MTtlLS07KXRoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JSaWdodCgpO2Vsc2V7dmFyIHQ9dGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpLmVuZDt0aGlzLm1vdmVDdXJzb3JUb1Bvc2l0aW9uKHQpfXRoaXMuY2xlYXJTZWxlY3Rpb24oKX0sdGhpcy5uYXZpZ2F0ZUxpbmVTdGFydD1mdW5jdGlvbigpe3RoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JMaW5lU3RhcnQoKSx0aGlzLmNsZWFyU2VsZWN0aW9uKCl9LHRoaXMubmF2aWdhdGVMaW5lRW5kPWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvckxpbmVFbmQoKSx0aGlzLmNsZWFyU2VsZWN0aW9uKCl9LHRoaXMubmF2aWdhdGVGaWxlRW5kPWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvckZpbGVFbmQoKSx0aGlzLmNsZWFyU2VsZWN0aW9uKCl9LHRoaXMubmF2aWdhdGVGaWxlU3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yRmlsZVN0YXJ0KCksdGhpcy5jbGVhclNlbGVjdGlvbigpfSx0aGlzLm5hdmlnYXRlV29yZFJpZ2h0PWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvcldvcmRSaWdodCgpLHRoaXMuY2xlYXJTZWxlY3Rpb24oKX0sdGhpcy5uYXZpZ2F0ZVdvcmRMZWZ0PWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvcldvcmRMZWZ0KCksdGhpcy5jbGVhclNlbGVjdGlvbigpfSx0aGlzLnJlcGxhY2U9ZnVuY3Rpb24oZSx0KXt0JiZ0aGlzLiRzZWFyY2guc2V0KHQpO3ZhciBuPXRoaXMuJHNlYXJjaC5maW5kKHRoaXMuc2Vzc2lvbikscj0wO3JldHVybiBuPyh0aGlzLiR0cnlSZXBsYWNlKG4sZSkmJihyPTEpLG51bGwhPT1uJiYodGhpcy5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uUmFuZ2UobiksdGhpcy5yZW5kZXJlci5zY3JvbGxTZWxlY3Rpb25JbnRvVmlldyhuLnN0YXJ0LG4uZW5kKSkscik6cn0sdGhpcy5yZXBsYWNlQWxsPWZ1bmN0aW9uKGUsdCl7dCYmdGhpcy4kc2VhcmNoLnNldCh0KTt2YXIgbj10aGlzLiRzZWFyY2guZmluZEFsbCh0aGlzLnNlc3Npb24pLHI9MDtpZighbi5sZW5ndGgpcmV0dXJuIHI7dGhpcy4kYmxvY2tTY3JvbGxpbmcrPTE7dmFyIGk9dGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpO3RoaXMuc2VsZWN0aW9uLm1vdmVUbygwLDApO2Zvcih2YXIgcz1uLmxlbmd0aC0xO3M+PTA7LS1zKXRoaXMuJHRyeVJlcGxhY2UobltzXSxlKSYmcisrO3JldHVybiB0aGlzLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25SYW5nZShpKSx0aGlzLiRibG9ja1Njcm9sbGluZy09MSxyfSx0aGlzLiR0cnlSZXBsYWNlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5zZXNzaW9uLmdldFRleHRSYW5nZShlKTtyZXR1cm4gdD10aGlzLiRzZWFyY2gucmVwbGFjZShuLHQpLG51bGwhPT10PyhlLmVuZD10aGlzLnNlc3Npb24ucmVwbGFjZShlLHQpLGUpOm51bGx9LHRoaXMuZ2V0TGFzdFNlYXJjaE9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kc2VhcmNoLmdldE9wdGlvbnMoKX0sdGhpcy5maW5kPWZ1bmN0aW9uKGUsdCxuKXt0fHwodD17fSksInN0cmluZyI9PXR5cGVvZiBlfHxlIGluc3RhbmNlb2YgUmVnRXhwP3QubmVlZGxlPWU6Im9iamVjdCI9PXR5cGVvZiBlJiZyLm1peGluKHQsZSk7dmFyIGk9dGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtudWxsPT10Lm5lZWRsZSYmKGU9dGhpcy5zZXNzaW9uLmdldFRleHRSYW5nZShpKXx8dGhpcy4kc2VhcmNoLiRvcHRpb25zLm5lZWRsZSxlfHwoaT10aGlzLnNlc3Npb24uZ2V0V29yZFJhbmdlKGkuc3RhcnQucm93LGkuc3RhcnQuY29sdW1uKSxlPXRoaXMuc2Vzc2lvbi5nZXRUZXh0UmFuZ2UoaSkpLHRoaXMuJHNlYXJjaC5zZXQoe25lZWRsZTplfSkpLHRoaXMuJHNlYXJjaC5zZXQodCksdC5zdGFydHx8dGhpcy4kc2VhcmNoLnNldCh7c3RhcnQ6aX0pO3ZhciBzPXRoaXMuJHNlYXJjaC5maW5kKHRoaXMuc2Vzc2lvbik7cmV0dXJuIHQucHJldmVudFNjcm9sbD9zOnM/KHRoaXMucmV2ZWFsUmFuZ2UocyxuKSxzKToodC5iYWNrd2FyZHM/aS5zdGFydD1pLmVuZDppLmVuZD1pLnN0YXJ0LHZvaWQgdGhpcy5zZWxlY3Rpb24uc2V0UmFuZ2UoaSkpfSx0aGlzLmZpbmROZXh0PWZ1bmN0aW9uKGUsdCl7dGhpcy5maW5kKHtza2lwQ3VycmVudDohMCxiYWNrd2FyZHM6ITF9LGUsdCl9LHRoaXMuZmluZFByZXZpb3VzPWZ1bmN0aW9uKGUsdCl7dGhpcy5maW5kKGUse3NraXBDdXJyZW50OiEwLGJhY2t3YXJkczohMH0sdCl9LHRoaXMucmV2ZWFsUmFuZ2U9ZnVuY3Rpb24oZSx0KXt0aGlzLiRibG9ja1Njcm9sbGluZys9MSx0aGlzLnNlc3Npb24udW5mb2xkKGUpLHRoaXMuc2VsZWN0aW9uLnNldFNlbGVjdGlvblJhbmdlKGUpLHRoaXMuJGJsb2NrU2Nyb2xsaW5nLT0xO3ZhciBuPXRoaXMucmVuZGVyZXIuc2Nyb2xsVG9wO3RoaXMucmVuZGVyZXIuc2Nyb2xsU2VsZWN0aW9uSW50b1ZpZXcoZS5zdGFydCxlLmVuZCwuNSksdCE9PSExJiZ0aGlzLnJlbmRlcmVyLmFuaW1hdGVTY3JvbGxpbmcobil9LHRoaXMudW5kbz1mdW5jdGlvbigpe3RoaXMuJGJsb2NrU2Nyb2xsaW5nKyssdGhpcy5zZXNzaW9uLmdldFVuZG9NYW5hZ2VyKCkudW5kbygpLHRoaXMuJGJsb2NrU2Nyb2xsaW5nLS0sdGhpcy5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldyhudWxsLC41KX0sdGhpcy5yZWRvPWZ1bmN0aW9uKCl7dGhpcy4kYmxvY2tTY3JvbGxpbmcrKyx0aGlzLnNlc3Npb24uZ2V0VW5kb01hbmFnZXIoKS5yZWRvKCksdGhpcy4kYmxvY2tTY3JvbGxpbmctLSx0aGlzLnJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KG51bGwsLjUpfSx0aGlzLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLmRlc3Ryb3koKSx0aGlzLl9zaWduYWwoImRlc3Ryb3kiLHRoaXMpfSx0aGlzLnNldEF1dG9TY3JvbGxFZGl0b3JJbnRvVmlldz1mdW5jdGlvbihlKXtpZihlKXt2YXIgdCxuPXRoaXMscj0hMTt0aGlzLiRzY3JvbGxBbmNob3J8fCh0aGlzLiRzY3JvbGxBbmNob3I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikpO3ZhciBpPXRoaXMuJHNjcm9sbEFuY2hvcjtpLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlIix0aGlzLmNvbnRhaW5lci5pbnNlcnRCZWZvcmUoaSx0aGlzLmNvbnRhaW5lci5maXJzdENoaWxkKTt2YXIgcz10aGlzLm9uKCJjaGFuZ2VTZWxlY3Rpb24iLGZ1bmN0aW9uKCl7cj0hMH0pLG89dGhpcy5yZW5kZXJlci5vbigiYmVmb3JlUmVuZGVyIixmdW5jdGlvbigpe3ImJih0PW4ucmVuZGVyZXIuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKX0pLHU9dGhpcy5yZW5kZXJlci5vbigiYWZ0ZXJSZW5kZXIiLGZ1bmN0aW9uKCl7aWYociYmdCYmbi5pc0ZvY3VzZWQoKSl7dmFyIGU9bi5yZW5kZXJlcixzPWUuJGN1cnNvckxheWVyLiRwaXhlbFBvcyxvPWUubGF5ZXJDb25maWcsdT1zLnRvcC1vLm9mZnNldDtyPXMudG9wPj0wJiZ1K3QudG9wPDA/ITA6cy50b3A8by5oZWlnaHQmJnMudG9wK3QudG9wK28ubGluZUhlaWdodD53aW5kb3cuaW5uZXJIZWlnaHQ/ITE6bnVsbCxudWxsIT1yJiYoaS5zdHlsZS50b3A9dSsicHgiLGkuc3R5bGUubGVmdD1zLmxlZnQrInB4IixpLnN0eWxlLmhlaWdodD1vLmxpbmVIZWlnaHQrInB4IixpLnNjcm9sbEludG9WaWV3KHIpKSxyPXQ9bnVsbH19KTt0aGlzLnNldEF1dG9TY3JvbGxFZGl0b3JJbnRvVmlldz1mdW5jdGlvbihlKXtlfHwoZGVsZXRlIHRoaXMuc2V0QXV0b1Njcm9sbEVkaXRvckludG9WaWV3LHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2hhbmdlU2VsZWN0aW9uIixzKSx0aGlzLnJlbmRlcmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoImFmdGVyUmVuZGVyIix1KSx0aGlzLnJlbmRlcmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoImJlZm9yZVJlbmRlciIsbykpfX19LHRoaXMuJHJlc2V0Q3Vyc29yU3R5bGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLiRjdXJzb3JTdHlsZXx8ImFjZSIsdD10aGlzLnJlbmRlcmVyLiRjdXJzb3JMYXllcjt0JiYodC5zZXRTbW9vdGhCbGlua2luZygic21vb3RoIj09ZSksdC5pc0JsaW5raW5nPSF0aGlzLiRyZWFkT25seSYmIndpZGUiIT1lKX19KS5jYWxsKHkucHJvdG90eXBlKSxnLmRlZmluZU9wdGlvbnMoeS5wcm90b3R5cGUsImVkaXRvciIse3NlbGVjdGlvblN0eWxlOntzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5vblNlbGVjdGlvbkNoYW5nZSgpLHRoaXMuX3NpZ25hbCgiY2hhbmdlU2VsZWN0aW9uU3R5bGUiLHtkYXRhOmV9KX0saW5pdGlhbFZhbHVlOiJsaW5lIn0saGlnaGxpZ2h0QWN0aXZlTGluZTp7c2V0OmZ1bmN0aW9uKCl7dGhpcy4kdXBkYXRlSGlnaGxpZ2h0QWN0aXZlTGluZSgpfSxpbml0aWFsVmFsdWU6ITB9LGhpZ2hsaWdodFNlbGVjdGVkV29yZDp7c2V0OmZ1bmN0aW9uKCl7dGhpcy4kb25TZWxlY3Rpb25DaGFuZ2UoKX0saW5pdGlhbFZhbHVlOiEwfSxyZWFkT25seTp7c2V0OmZ1bmN0aW9uKGUpe3RoaXMudGV4dElucHV0LnNldFJlYWRPbmx5KGUpLHRoaXMuJHJlc2V0Q3Vyc29yU3R5bGUoKX0saW5pdGlhbFZhbHVlOiExfSxjdXJzb3JTdHlsZTp7c2V0OmZ1bmN0aW9uKCl7dGhpcy4kcmVzZXRDdXJzb3JTdHlsZSgpfSx2YWx1ZXM6WyJhY2UiLCJzbGltIiwic21vb3RoIiwid2lkZSJdLGluaXRpYWxWYWx1ZToiYWNlIn0sbWVyZ2VVbmRvRGVsdGFzOnt2YWx1ZXM6WyExLCEwLCJhbHdheXMiXSxpbml0aWFsVmFsdWU6ITB9LGJlaGF2aW91cnNFbmFibGVkOntpbml0aWFsVmFsdWU6ITB9LHdyYXBCZWhhdmlvdXJzRW5hYmxlZDp7aW5pdGlhbFZhbHVlOiEwfSxhdXRvU2Nyb2xsRWRpdG9ySW50b1ZpZXc6e3NldDpmdW5jdGlvbihlKXt0aGlzLnNldEF1dG9TY3JvbGxFZGl0b3JJbnRvVmlldyhlKX19LGhTY3JvbGxCYXJBbHdheXNWaXNpYmxlOiJyZW5kZXJlciIsdlNjcm9sbEJhckFsd2F5c1Zpc2libGU6InJlbmRlcmVyIixoaWdobGlnaHRHdXR0ZXJMaW5lOiJyZW5kZXJlciIsYW5pbWF0ZWRTY3JvbGw6InJlbmRlcmVyIixzaG93SW52aXNpYmxlczoicmVuZGVyZXIiLHNob3dQcmludE1hcmdpbjoicmVuZGVyZXIiLHByaW50TWFyZ2luQ29sdW1uOiJyZW5kZXJlciIscHJpbnRNYXJnaW46InJlbmRlcmVyIixmYWRlRm9sZFdpZGdldHM6InJlbmRlcmVyIixzaG93Rm9sZFdpZGdldHM6InJlbmRlcmVyIixzaG93TGluZU51bWJlcnM6InJlbmRlcmVyIixzaG93R3V0dGVyOiJyZW5kZXJlciIsZGlzcGxheUluZGVudEd1aWRlczoicmVuZGVyZXIiLGZvbnRTaXplOiJyZW5kZXJlciIsZm9udEZhbWlseToicmVuZGVyZXIiLG1heExpbmVzOiJyZW5kZXJlciIsbWluTGluZXM6InJlbmRlcmVyIixzY3JvbGxQYXN0RW5kOiJyZW5kZXJlciIsZml4ZWRXaWR0aEd1dHRlcjoicmVuZGVyZXIiLHRoZW1lOiJyZW5kZXJlciIsc2Nyb2xsU3BlZWQ6IiRtb3VzZUhhbmRsZXIiLGRyYWdEZWxheToiJG1vdXNlSGFuZGxlciIsZHJhZ0VuYWJsZWQ6IiRtb3VzZUhhbmRsZXIiLGZvY3VzVGltb3V0OiIkbW91c2VIYW5kbGVyIix0b29sdGlwRm9sbG93c01vdXNlOiIkbW91c2VIYW5kbGVyIixmaXJzdExpbmVOdW1iZXI6InNlc3Npb24iLG92ZXJ3cml0ZToic2Vzc2lvbiIsbmV3TGluZU1vZGU6InNlc3Npb24iLHVzZVdvcmtlcjoic2Vzc2lvbiIsdXNlU29mdFRhYnM6InNlc3Npb24iLHRhYlNpemU6InNlc3Npb24iLHdyYXA6InNlc3Npb24iLGZvbGRTdHlsZToic2Vzc2lvbiIsbW9kZToic2Vzc2lvbiJ9KSx0LkVkaXRvcj15fSksZGVmaW5lKCJhY2UvbW91c2UvbXVsdGlfc2VsZWN0X2hhbmRsZXIiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL2V2ZW50Il0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBpKGUsdCl7cmV0dXJuIGUucm93PT10LnJvdyYmZS5jb2x1bW49PXQuY29sdW1ufWZ1bmN0aW9uIHMoZSl7dmFyIHQ9ZS5kb21FdmVudCxuPXQuYWx0S2V5LHM9dC5zaGlmdEtleSxvPWUuZ2V0QWNjZWxLZXkoKSx1PWUuZ2V0QnV0dG9uKCk7aWYoZS5lZGl0b3IuaW5NdWx0aVNlbGVjdE1vZGUmJjI9PXUpcmV0dXJuIHZvaWQgZS5lZGl0b3IudGV4dElucHV0Lm9uQ29udGV4dE1lbnUoZS5kb21FdmVudCk7aWYoIW8mJiFuKXJldHVybiB2b2lkKDA9PT11JiZlLmVkaXRvci5pbk11bHRpU2VsZWN0TW9kZSYmZS5lZGl0b3IuZXhpdE11bHRpU2VsZWN0TW9kZSgpKTt2YXIgYT1lLmVkaXRvcixmPWEuc2VsZWN0aW9uLGw9YS5pbk11bHRpU2VsZWN0TW9kZSxjPWUuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLGg9Zi5nZXRDdXJzb3IoKSxwPWUuaW5TZWxlY3Rpb24oKXx8Zi5pc0VtcHR5KCkmJmkoYyxoKSxkPWUueCx2PWUueSxtPWZ1bmN0aW9uKGUpe2Q9ZS5jbGllbnRYLHY9ZS5jbGllbnRZfSxnPWZ1bmN0aW9uKCl7dmFyIGU9YS5yZW5kZXJlci5waXhlbFRvU2NyZWVuQ29vcmRpbmF0ZXMoZCx2KSx0PXkuc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uKGUucm93LGUuY29sdW1uKTtpKHcsZSkmJmkodCxmLnNlbGVjdGlvbkxlYWQpfHwodz1lLGEuc2VsZWN0aW9uLm1vdmVUb1Bvc2l0aW9uKHQpLGEucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcoKSxhLnJlbW92ZVNlbGVjdGlvbk1hcmtlcnMoeCkseD1mLnJlY3Rhbmd1bGFyUmFuZ2VCbG9jayh3LGIpLHguZm9yRWFjaChhLmFkZFNlbGVjdGlvbk1hcmtlcixhKSxhLnVwZGF0ZVNlbGVjdGlvbk1hcmtlcnMoKSl9LHk9YS5zZXNzaW9uLGI9YS5yZW5kZXJlci5waXhlbFRvU2NyZWVuQ29vcmRpbmF0ZXMoZCx2KSx3PWI7aWYoIW98fG58fHN8fDAhPT11KXtpZihuJiYwPT09dSl7ZS5zdG9wKCksbCYmIW8/Zi50b1NpbmdsZVJhbmdlKCk6IWwmJm8mJmYuYWRkUmFuZ2UoKTt2YXIgeD1bXTtzPyhiPXkuZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKGYubGVhZCksZygpKTpmLm1vdmVUb1Bvc2l0aW9uKGMpO3ZhciBUPWZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbChDKSxhLnJlbW92ZVNlbGVjdGlvbk1hcmtlcnMoeCk7Zm9yKHZhciB0PTA7dDx4Lmxlbmd0aDt0KyspZi5hZGRSYW5nZSh4W3RdKX0sTj1nO3IuY2FwdHVyZShhLmNvbnRhaW5lcixtLFQpO3ZhciBDPXNldEludGVydmFsKGZ1bmN0aW9uKCl7TigpfSwyMCk7cmV0dXJuIGUucHJldmVudERlZmF1bHQoKX19ZWxzZXtpZighbCYmcClyZXR1cm47aWYoIWwpe3ZhciBFPWYudG9PcmllbnRlZFJhbmdlKCk7YS5hZGRTZWxlY3Rpb25NYXJrZXIoRSl9dmFyIFM9Zi5yYW5nZUxpc3QucmFuZ2VBdFBvaW50KGMpO2EuJGJsb2NrU2Nyb2xsaW5nKyssYS5vbmNlKCJtb3VzZXVwIixmdW5jdGlvbigpe3ZhciBlPWYudG9PcmllbnRlZFJhbmdlKCk7UyYmZS5pc0VtcHR5KCkmJmkoUy5jdXJzb3IsZS5jdXJzb3IpP2Yuc3Vic3RyYWN0UG9pbnQoZS5jdXJzb3IpOihFJiYoYS5yZW1vdmVTZWxlY3Rpb25NYXJrZXIoRSksZi5hZGRSYW5nZShFKSksZi5hZGRSYW5nZShlKSksYS4kYmxvY2tTY3JvbGxpbmctLX0pfX12YXIgcj1lKCIuLi9saWIvZXZlbnQiKTt0Lm9uTW91c2VEb3duPXN9KSxkZWZpbmUoImFjZS9saWIvdXNlcmFnZW50IixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oZSx0KXtpZih0Lk9TPXtMSU5VWDoiTElOVVgiLE1BQzoiTUFDIixXSU5ET1dTOiJXSU5ET1dTIn0sdC5nZXRPUz1mdW5jdGlvbigpe3JldHVybiB0LmlzTWFjP3QuT1MuTUFDOnQuaXNMaW51eD90Lk9TLkxJTlVYOnQuT1MuV0lORE9XU30sIm9iamVjdCI9PXR5cGVvZiBuYXZpZ2F0b3Ipe3ZhciByPShuYXZpZ2F0b3IucGxhdGZvcm0ubWF0Y2goL21hY3x3aW58bGludXgvaSl8fFsib3RoZXIiXSlbMF0udG9Mb3dlckNhc2UoKSxpPW5hdmlnYXRvci51c2VyQWdlbnQ7dC5pc1dpbj0id2luIj09cix0LmlzTWFjPSJtYWMiPT1yLHQuaXNMaW51eD0ibGludXgiPT1yLHQuaXNJRT0oIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlciI9PW5hdmlnYXRvci5hcHBOYW1lfHxuYXZpZ2F0b3IuYXBwTmFtZS5pbmRleE9mKCJNU0FwcEhvc3QiKT49MCkmJnBhcnNlRmxvYXQobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvKD86VHJpZGVudFwvWzAtOV0rW1wuMC05XSs7Lipydjp8TVNJRSApKFswLTldK1tcLjAtOV0rKS8pWzFdKSx0LmlzT2xkSUU9dC5pc0lFJiZ0LmlzSUU8OSx0LmlzR2Vja289dC5pc01vemlsbGE9d2luZG93LmNvbnRyb2xsZXJzJiYiR2Vja28iPT09d2luZG93Lm5hdmlnYXRvci5wcm9kdWN0LHQuaXNPbGRHZWNrbz10LmlzR2Vja28mJnBhcnNlSW50KChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9ydlw6KFxkKykvKXx8W10pWzFdLDEwKTw0LHQuaXNPcGVyYT13aW5kb3cub3BlcmEmJiJbb2JqZWN0IE9wZXJhXSI9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3aW5kb3cub3BlcmEpLHQuaXNXZWJLaXQ9cGFyc2VGbG9hdChpLnNwbGl0KCJXZWJLaXQvIilbMV0pfHx2b2lkIDAsdC5pc0Nocm9tZT1wYXJzZUZsb2F0KGkuc3BsaXQoIiBDaHJvbWUvIilbMV0pfHx2b2lkIDAsdC5pc0FJUj1pLmluZGV4T2YoIkFkb2JlQUlSIik+PTAsdC5pc0lQYWQ9aS5pbmRleE9mKCJpUGFkIik+PTAsdC5pc1RvdWNoUGFkPWkuaW5kZXhPZigiVG91Y2hQYWQiKT49MH19KSxkZWZpbmUoImFjZS9jb21tYW5kcy9tdWx0aV9zZWxlY3RfY29tbWFuZHMiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2Uva2V5Ym9hcmQvaGFzaF9oYW5kbGVyIl0sZnVuY3Rpb24oZSx0KXt0LmRlZmF1bHRDb21tYW5kcz1be25hbWU6ImFkZEN1cnNvckFib3ZlIixleGVjOmZ1bmN0aW9uKGUpe2Uuc2VsZWN0TW9yZUxpbmVzKC0xKX0sYmluZEtleTp7d2luOiJDdHJsLUFsdC1VcCIsbWFjOiJDdHJsLUFsdC1VcCJ9LHJlYWRvbmx5OiEwfSx7bmFtZToiYWRkQ3Vyc29yQmVsb3ciLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zZWxlY3RNb3JlTGluZXMoMSl9LGJpbmRLZXk6e3dpbjoiQ3RybC1BbHQtRG93biIsbWFjOiJDdHJsLUFsdC1Eb3duIn0scmVhZG9ubHk6ITB9LHtuYW1lOiJhZGRDdXJzb3JBYm92ZVNraXBDdXJyZW50IixleGVjOmZ1bmN0aW9uKGUpe2Uuc2VsZWN0TW9yZUxpbmVzKC0xLCEwKX0sYmluZEtleTp7d2luOiJDdHJsLUFsdC1TaGlmdC1VcCIsbWFjOiJDdHJsLUFsdC1TaGlmdC1VcCJ9LHJlYWRvbmx5OiEwfSx7bmFtZToiYWRkQ3Vyc29yQmVsb3dTa2lwQ3VycmVudCIsZXhlYzpmdW5jdGlvbihlKXtlLnNlbGVjdE1vcmVMaW5lcygxLCEwKX0sYmluZEtleTp7d2luOiJDdHJsLUFsdC1TaGlmdC1Eb3duIixtYWM6IkN0cmwtQWx0LVNoaWZ0LURvd24ifSxyZWFkb25seTohMH0se25hbWU6InNlbGVjdE1vcmVCZWZvcmUiLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zZWxlY3RNb3JlKC0xKX0sYmluZEtleTp7d2luOiJDdHJsLUFsdC1MZWZ0IixtYWM6IkN0cmwtQWx0LUxlZnQifSxyZWFkb25seTohMH0se25hbWU6InNlbGVjdE1vcmVBZnRlciIsZXhlYzpmdW5jdGlvbihlKXtlLnNlbGVjdE1vcmUoMSl9LGJpbmRLZXk6e3dpbjoiQ3RybC1BbHQtUmlnaHQiLG1hYzoiQ3RybC1BbHQtUmlnaHQifSxyZWFkb25seTohMH0se25hbWU6InNlbGVjdE5leHRCZWZvcmUiLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5zZWxlY3RNb3JlKC0xLCEwKX0sYmluZEtleTp7d2luOiJDdHJsLUFsdC1TaGlmdC1MZWZ0IixtYWM6IkN0cmwtQWx0LVNoaWZ0LUxlZnQifSxyZWFkb25seTohMH0se25hbWU6InNlbGVjdE5leHRBZnRlciIsZXhlYzpmdW5jdGlvbihlKXtlLnNlbGVjdE1vcmUoMSwhMCl9LGJpbmRLZXk6e3dpbjoiQ3RybC1BbHQtU2hpZnQtUmlnaHQiLG1hYzoiQ3RybC1BbHQtU2hpZnQtUmlnaHQifSxyZWFkb25seTohMH0se25hbWU6InNwbGl0SW50b0xpbmVzIixleGVjOmZ1bmN0aW9uKGUpe2UubXVsdGlTZWxlY3Quc3BsaXRJbnRvTGluZXMoKX0sYmluZEtleTp7d2luOiJDdHJsLUFsdC1MIixtYWM6IkN0cmwtQWx0LUwifSxyZWFkb25seTohMH0se25hbWU6ImFsaWduQ3Vyc29ycyIsZXhlYzpmdW5jdGlvbihlKXtlLmFsaWduQ3Vyc29ycygpfSxiaW5kS2V5Ont3aW46IkN0cmwtQWx0LUEiLG1hYzoiQ3RybC1BbHQtQSJ9fV0sdC5tdWx0aVNlbGVjdENvbW1hbmRzPVt7bmFtZToic2luZ2xlU2VsZWN0aW9uIixiaW5kS2V5OiJlc2MiLGV4ZWM6ZnVuY3Rpb24oZSl7ZS5leGl0TXVsdGlTZWxlY3RNb2RlKCl9LHJlYWRvbmx5OiEwLGlzQXZhaWxhYmxlOmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmluTXVsdGlTZWxlY3RNb2RlfX1dO3ZhciByPWUoIi4uL2tleWJvYXJkL2hhc2hfaGFuZGxlciIpLkhhc2hIYW5kbGVyO3Qua2V5Ym9hcmRIYW5kbGVyPW5ldyByKHQubXVsdGlTZWxlY3RDb21tYW5kcyl9KSxkZWZpbmUoImFjZS9saWIvb29wIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oZSx0KXt0LmluaGVyaXRzPWZ1bmN0aW9uKGUsdCl7ZS5zdXBlcl89dCxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KX0sdC5taXhpbj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KWVbbl09dFtuXTtyZXR1cm4gZX0sdC5pbXBsZW1lbnQ9ZnVuY3Rpb24oZSxuKXt0Lm1peGluKGUsbil9fSksZGVmaW5lKCJhY2Uvd29ya2VyL3dvcmtlcl9jbGllbnQiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL29vcCIsImFjZS9saWIvZXZlbnRfZW1pdHRlciIsImFjZS9jb25maWciXSxmdW5jdGlvbihlLHQpe3ZhciByPWUoIi4uL2xpYi9vb3AiKSxpPWUoIi4uL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyLHM9ZSgiLi4vY29uZmlnIiksbz1mdW5jdGlvbih0LG4scixpKXtpZih0aGlzLiRzZW5kRGVsdGFRdWV1ZT10aGlzLiRzZW5kRGVsdGFRdWV1ZS5iaW5kKHRoaXMpLHRoaXMuY2hhbmdlTGlzdGVuZXI9dGhpcy5jaGFuZ2VMaXN0ZW5lci5iaW5kKHRoaXMpLHRoaXMub25NZXNzYWdlPXRoaXMub25NZXNzYWdlLmJpbmQodGhpcyksZS5uYW1lVG9VcmwmJiFlLnRvVXJsJiYoZS50b1VybD1lLm5hbWVUb1VybCkscy5nZXQoInBhY2thZ2VkIil8fCFlLnRvVXJsKWk9aXx8cy5tb2R1bGVVcmwobiwid29ya2VyIik7ZWxzZXt2YXIgbz10aGlzLiRub3JtYWxpemVQYXRoO2k9aXx8byhlLnRvVXJsKCJhY2Uvd29ya2VyL3dvcmtlci5qcyIsbnVsbCwiXyIpKTt2YXIgdT17fTt0LmZvckVhY2goZnVuY3Rpb24odCl7dVt0XT1vKGUudG9VcmwodCxudWxsLCJfIikucmVwbGFjZSgvKFwuanMpPyhcPy4qKT8kLywiIikpfSl9dHJ5e3RoaXMuJHdvcmtlcj1uZXcgV29ya2VyKGkpfWNhdGNoKGEpe2lmKCEoYSBpbnN0YW5jZW9mIHdpbmRvdy5ET01FeGNlcHRpb24pKXRocm93IGE7dmFyIGY9dGhpcy4kd29ya2VyQmxvYihpKSxsPXdpbmRvdy5VUkx8fHdpbmRvdy53ZWJraXRVUkwsYz1sLmNyZWF0ZU9iamVjdFVSTChmKTt0aGlzLiR3b3JrZXI9bmV3IFdvcmtlcihjKSxsLnJldm9rZU9iamVjdFVSTChjKX10aGlzLiR3b3JrZXIucG9zdE1lc3NhZ2Uoe2luaXQ6ITAsdGxuczp1LG1vZHVsZTpuLGNsYXNzbmFtZTpyfSksdGhpcy5jYWxsYmFja0lkPTEsdGhpcy5jYWxsYmFja3M9e30sdGhpcy4kd29ya2VyLm9ubWVzc2FnZT10aGlzLm9uTWVzc2FnZX07KGZ1bmN0aW9uKCl7ci5pbXBsZW1lbnQodGhpcyxpKSx0aGlzLm9uTWVzc2FnZT1mdW5jdGlvbihlKXt2YXIgdD1lLmRhdGE7c3dpdGNoKHQudHlwZSl7Y2FzZSJsb2ciOndpbmRvdy5jb25zb2xlJiZjb25zb2xlLmxvZyYmY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSx0LmRhdGEpO2JyZWFrO2Nhc2UiZXZlbnQiOnRoaXMuX3NpZ25hbCh0Lm5hbWUse2RhdGE6dC5kYXRhfSk7YnJlYWs7Y2FzZSJjYWxsIjp2YXIgbj10aGlzLmNhbGxiYWNrc1t0LmlkXTtuJiYobih0LmRhdGEpLGRlbGV0ZSB0aGlzLmNhbGxiYWNrc1t0LmlkXSl9fSx0aGlzLiRub3JtYWxpemVQYXRoPWZ1bmN0aW9uKGUpe3JldHVybiBsb2NhdGlvbi5ob3N0PyhlPWUucmVwbGFjZSgvXlthLXpdKzpcL1wvW15cL10rLywiIiksZT1sb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrKCIvIj09ZS5jaGFyQXQoMCk/IiI6bG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXC9bXlwvXSokLywiIikpKyIvIitlLnJlcGxhY2UoL15bXC9dKy8sIiIpKTplfSx0aGlzLnRlcm1pbmF0ZT1mdW5jdGlvbigpe3RoaXMuX3NpZ25hbCgidGVybWluYXRlIix7fSksdGhpcy5kZWx0YVF1ZXVlPW51bGwsdGhpcy4kd29ya2VyLnRlcm1pbmF0ZSgpLHRoaXMuJHdvcmtlcj1udWxsLHRoaXMuJGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCJjaGFuZ2UiLHRoaXMuY2hhbmdlTGlzdGVuZXIpLHRoaXMuJGRvYz1udWxsfSx0aGlzLnNlbmQ9ZnVuY3Rpb24oZSx0KXt0aGlzLiR3b3JrZXIucG9zdE1lc3NhZ2Uoe2NvbW1hbmQ6ZSxhcmdzOnR9KX0sdGhpcy5jYWxsPWZ1bmN0aW9uKGUsdCxuKXtpZihuKXt2YXIgcj10aGlzLmNhbGxiYWNrSWQrKzt0aGlzLmNhbGxiYWNrc1tyXT1uLHQucHVzaChyKX10aGlzLnNlbmQoZSx0KX0sdGhpcy5lbWl0PWZ1bmN0aW9uKGUsdCl7dHJ5e3RoaXMuJHdvcmtlci5wb3N0TWVzc2FnZSh7ZXZlbnQ6ZSxkYXRhOntkYXRhOnQuZGF0YX19KX1jYXRjaChuKXt9fSx0aGlzLmF0dGFjaFRvRG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dGhpcy4kZG9jJiZ0aGlzLnRlcm1pbmF0ZSgpLHRoaXMuJGRvYz1lLHRoaXMuY2FsbCgic2V0VmFsdWUiLFtlLmdldFZhbHVlKCldKSxlLm9uKCJjaGFuZ2UiLHRoaXMuY2hhbmdlTGlzdGVuZXIpfSx0aGlzLmNoYW5nZUxpc3RlbmVyPWZ1bmN0aW9uKGUpe3RoaXMuZGVsdGFRdWV1ZT90aGlzLmRlbHRhUXVldWUucHVzaChlLmRhdGEpOih0aGlzLmRlbHRhUXVldWU9W2UuZGF0YV0sc2V0VGltZW91dCh0aGlzLiRzZW5kRGVsdGFRdWV1ZSwwKSl9LHRoaXMuJHNlbmREZWx0YVF1ZXVlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kZWx0YVF1ZXVlO2UmJih0aGlzLmRlbHRhUXVldWU9bnVsbCxlLmxlbmd0aD4yMCYmZS5sZW5ndGg+dGhpcy4kZG9jLmdldExlbmd0aCgpPj4xP3RoaXMuY2FsbCgic2V0VmFsdWUiLFt0aGlzLiRkb2MuZ2V0VmFsdWUoKV0pOnRoaXMuZW1pdCgiY2hhbmdlIix7ZGF0YTplfSkpfSx0aGlzLiR3b3JrZXJCbG9iPWZ1bmN0aW9uKGUpe3ZhciB0PSJpbXBvcnRTY3JpcHRzKCciK2UrIicpOyI7dHJ5e3JldHVybiBuZXcgQmxvYihbdF0se3R5cGU6ImFwcGxpY2F0aW9uL2phdmFzY3JpcHQifSl9Y2F0Y2gobil7dmFyIHI9d2luZG93LkJsb2JCdWlsZGVyfHx3aW5kb3cuV2ViS2l0QmxvYkJ1aWxkZXJ8fHdpbmRvdy5Nb3pCbG9iQnVpbGRlcixpPW5ldyByO3JldHVybiBpLmFwcGVuZCh0KSxpLmdldEJsb2IoImFwcGxpY2F0aW9uL2phdmFzY3JpcHQiKX19fSkuY2FsbChvLnByb3RvdHlwZSk7dmFyIHU9ZnVuY3Rpb24oZSx0LG4pe3RoaXMuJHNlbmREZWx0YVF1ZXVlPXRoaXMuJHNlbmREZWx0YVF1ZXVlLmJpbmQodGhpcyksdGhpcy5jaGFuZ2VMaXN0ZW5lcj10aGlzLmNoYW5nZUxpc3RlbmVyLmJpbmQodGhpcyksdGhpcy5jYWxsYmFja0lkPTEsdGhpcy5jYWxsYmFja3M9e30sdGhpcy5tZXNzYWdlQnVmZmVyPVtdO3ZhciByPW51bGwsbz0hMSx1PU9iamVjdC5jcmVhdGUoaSksYT10aGlzO3RoaXMuJHdvcmtlcj17fSx0aGlzLiR3b3JrZXIudGVybWluYXRlPWZ1bmN0aW9uKCl7fSx0aGlzLiR3b3JrZXIucG9zdE1lc3NhZ2U9ZnVuY3Rpb24oZSl7YS5tZXNzYWdlQnVmZmVyLnB1c2goZSksciYmKG8/c2V0VGltZW91dChmKTpmKCkpfSx0aGlzLnNldEVtaXRTeW5jPWZ1bmN0aW9uKGUpe289ZX07dmFyIGY9ZnVuY3Rpb24oKXt2YXIgZT1hLm1lc3NhZ2VCdWZmZXIuc2hpZnQoKTtlLmNvbW1hbmQ/cltlLmNvbW1hbmRdLmFwcGx5KHIsZS5hcmdzKTplLmV2ZW50JiZ1Ll9zaWduYWwoZS5ldmVudCxlLmRhdGEpfTt1LnBvc3RNZXNzYWdlPWZ1bmN0aW9uKGUpe2Eub25NZXNzYWdlKHtkYXRhOmV9KX0sdS5jYWxsYmFjaz1mdW5jdGlvbihlLHQpe3RoaXMucG9zdE1lc3NhZ2Uoe3R5cGU6ImNhbGwiLGlkOnQsZGF0YTplfSl9LHUuZW1pdD1mdW5jdGlvbihlLHQpe3RoaXMucG9zdE1lc3NhZ2Uoe3R5cGU6ImV2ZW50IixuYW1lOmUsZGF0YTp0fSl9LHMubG9hZE1vZHVsZShbIndvcmtlciIsdF0sZnVuY3Rpb24oZSl7Zm9yKHI9bmV3IGVbbl0odSk7YS5tZXNzYWdlQnVmZmVyLmxlbmd0aDspZigpfSl9O3UucHJvdG90eXBlPW8ucHJvdG90eXBlLHQuVUlXb3JrZXJDbGllbnQ9dSx0LldvcmtlckNsaWVudD1vfSksZGVmaW5lKCJhY2UvbGliL2tleXMiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL29vcCJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSgiLi9vb3AiKSxpPWZ1bmN0aW9uKCl7dmFyIHQsbixlPXtNT0RJRklFUl9LRVlTOnsxNjoiU2hpZnQiLDE3OiJDdHJsIiwxODoiQWx0IiwyMjQ6Ik1ldGEifSxLRVlfTU9EUzp7Y3RybDoxLGFsdDoyLG9wdGlvbjoyLHNoaWZ0OjQsInN1cGVyIjo4LG1ldGE6OCxjb21tYW5kOjgsY21kOjh9LEZVTkNUSU9OX0tFWVM6ezg6IkJhY2tzcGFjZSIsOToiVGFiIiwxMzoiUmV0dXJuIiwxOToiUGF1c2UiLDI3OiJFc2MiLDMyOiJTcGFjZSIsMzM6IlBhZ2VVcCIsMzQ6IlBhZ2VEb3duIiwzNToiRW5kIiwzNjoiSG9tZSIsMzc6IkxlZnQiLDM4OiJVcCIsMzk6IlJpZ2h0Iiw0MDoiRG93biIsNDQ6IlByaW50Iiw0NToiSW5zZXJ0Iiw0NjoiRGVsZXRlIiw5NjoiTnVtcGFkMCIsOTc6Ik51bXBhZDEiLDk4OiJOdW1wYWQyIiw5OToiTnVtcGFkMyIsMTAwOiJOdW1wYWQ0IiwxMDE6Ik51bXBhZDUiLDEwMjoiTnVtcGFkNiIsMTAzOiJOdW1wYWQ3IiwxMDQ6Ik51bXBhZDgiLDEwNToiTnVtcGFkOSIsIi0xMyI6Ik51bXBhZEVudGVyIiwxMTI6IkYxIiwxMTM6IkYyIiwxMTQ6IkYzIiwxMTU6IkY0IiwxMTY6IkY1IiwxMTc6IkY2IiwxMTg6IkY3IiwxMTk6IkY4IiwxMjA6IkY5IiwxMjE6IkYxMCIsMTIyOiJGMTEiLDEyMzoiRjEyIiwxNDQ6Ik51bWxvY2siLDE0NToiU2Nyb2xsbG9jayJ9LFBSSU5UQUJMRV9LRVlTOnszMjoiICIsNDg6IjAiLDQ5OiIxIiw1MDoiMiIsNTE6IjMiLDUyOiI0Iiw1MzoiNSIsNTQ6IjYiLDU1OiI3Iiw1NjoiOCIsNTc6IjkiLDU5OiI7Iiw2MToiPSIsNjU6ImEiLDY2OiJiIiw2NzoiYyIsNjg6ImQiLDY5OiJlIiw3MDoiZiIsNzE6ImciLDcyOiJoIiw3MzoiaSIsNzQ6ImoiLDc1OiJrIiw3NjoibCIsNzc6Im0iLDc4OiJuIiw3OToibyIsODA6InAiLDgxOiJxIiw4MjoiciIsODM6InMiLDg0OiJ0Iiw4NToidSIsODY6InYiLDg3OiJ3Iiw4ODoieCIsODk6InkiLDkwOiJ6IiwxMDc6IisiLDEwOToiLSIsMTEwOiIuIiwxODg6IiwiLDE5MDoiLiIsMTkxOiIvIiwxOTI6ImAiLDIxOToiWyIsMjIwOiJcXCIsMjIxOiJdIiwyMjI6IicifX07Zm9yKG4gaW4gZS5GVU5DVElPTl9LRVlTKXQ9ZS5GVU5DVElPTl9LRVlTW25dLnRvTG93ZXJDYXNlKCksZVt0XT1wYXJzZUludChuLDEwKTtmb3IobiBpbiBlLlBSSU5UQUJMRV9LRVlTKXQ9ZS5QUklOVEFCTEVfS0VZU1tuXS50b0xvd2VyQ2FzZSgpLGVbdF09cGFyc2VJbnQobiwxMCk7cmV0dXJuIHIubWl4aW4oZSxlLk1PRElGSUVSX0tFWVMpLHIubWl4aW4oZSxlLlBSSU5UQUJMRV9LRVlTKSxyLm1peGluKGUsZS5GVU5DVElPTl9LRVlTKSxlLmVudGVyPWVbInJldHVybiJdLGUuZXNjYXBlPWUuZXNjLGUuZGVsPWVbImRlbGV0ZSJdLGVbMTczXT0iLSIsZnVuY3Rpb24oKXtmb3IodmFyIHQ9WyJjbWQiLCJjdHJsIiwiYWx0Iiwic2hpZnQiXSxuPU1hdGgucG93KDIsdC5sZW5ndGgpO24tLTspZS5LRVlfTU9EU1tuXT10LmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gbiZlLktFWV9NT0RTW3RdfSkuam9pbigiLSIpKyItIn0oKSxlfSgpO3IubWl4aW4odCxpKSx0LmtleUNvZGVUb1N0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4oaVtlXXx8U3RyaW5nLmZyb21DaGFyQ29kZShlKSkudG9Mb3dlckNhc2UoKX19KSxkZWZpbmUoImFjZS9wbGFjZWhvbGRlciIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9yYW5nZSIsImFjZS9saWIvZXZlbnRfZW1pdHRlciIsImFjZS9saWIvb29wIl0sZnVuY3Rpb24oZSx0KXt2YXIgcj1lKCIuL3JhbmdlIikuUmFuZ2UsaT1lKCIuL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyLHM9ZSgiLi9saWIvb29wIiksbz1mdW5jdGlvbihlLHQsbixyLGkscyl7dmFyIG89dGhpczt0aGlzLmxlbmd0aD10LHRoaXMuc2Vzc2lvbj1lLHRoaXMuZG9jPWUuZ2V0RG9jdW1lbnQoKSx0aGlzLm1haW5DbGFzcz1pLHRoaXMub3RoZXJzQ2xhc3M9cyx0aGlzLiRvblVwZGF0ZT10aGlzLm9uVXBkYXRlLmJpbmQodGhpcyksdGhpcy5kb2Mub24oImNoYW5nZSIsdGhpcy4kb25VcGRhdGUpLHRoaXMuJG90aGVycz1yLHRoaXMuJG9uQ3Vyc29yQ2hhbmdlPWZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe28ub25DdXJzb3JDaGFuZ2UoKX0pfSx0aGlzLiRwb3M9bjt2YXIgdT1lLmdldFVuZG9NYW5hZ2VyKCkuJHVuZG9TdGFja3x8ZS5nZXRVbmRvTWFuYWdlcigpLiR1bmRvc3RhY2t8fHtsZW5ndGg6LTF9O3RoaXMuJHVuZG9TdGFja0RlcHRoPXUubGVuZ3RoLHRoaXMuc2V0dXAoKSxlLnNlbGVjdGlvbi5vbigiY2hhbmdlQ3Vyc29yIix0aGlzLiRvbkN1cnNvckNoYW5nZSkKfTsoZnVuY3Rpb24oKXtzLmltcGxlbWVudCh0aGlzLGkpLHRoaXMuc2V0dXA9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5kb2Msbj10aGlzLnNlc3Npb24saT10aGlzLiRwb3M7dGhpcy5wb3M9dC5jcmVhdGVBbmNob3IoaS5yb3csaS5jb2x1bW4pLHRoaXMubWFya2VySWQ9bi5hZGRNYXJrZXIobmV3IHIoaS5yb3csaS5jb2x1bW4saS5yb3csaS5jb2x1bW4rdGhpcy5sZW5ndGgpLHRoaXMubWFpbkNsYXNzLG51bGwsITEpLHRoaXMucG9zLm9uKCJjaGFuZ2UiLGZ1bmN0aW9uKHQpe24ucmVtb3ZlTWFya2VyKGUubWFya2VySWQpLGUubWFya2VySWQ9bi5hZGRNYXJrZXIobmV3IHIodC52YWx1ZS5yb3csdC52YWx1ZS5jb2x1bW4sdC52YWx1ZS5yb3csdC52YWx1ZS5jb2x1bW4rZS5sZW5ndGgpLGUubWFpbkNsYXNzLG51bGwsITEpfSksdGhpcy5vdGhlcnM9W10sdGhpcy4kb3RoZXJzLmZvckVhY2goZnVuY3Rpb24obil7dmFyIHI9dC5jcmVhdGVBbmNob3Iobi5yb3csbi5jb2x1bW4pO2Uub3RoZXJzLnB1c2gocil9KSxuLnNldFVuZG9TZWxlY3QoITEpfSx0aGlzLnNob3dPdGhlck1hcmtlcnM9ZnVuY3Rpb24oKXtpZighdGhpcy5vdGhlcnNBY3RpdmUpe3ZhciBlPXRoaXMuc2Vzc2lvbix0PXRoaXM7dGhpcy5vdGhlcnNBY3RpdmU9ITAsdGhpcy5vdGhlcnMuZm9yRWFjaChmdW5jdGlvbihuKXtuLm1hcmtlcklkPWUuYWRkTWFya2VyKG5ldyByKG4ucm93LG4uY29sdW1uLG4ucm93LG4uY29sdW1uK3QubGVuZ3RoKSx0Lm90aGVyc0NsYXNzLG51bGwsITEpLG4ub24oImNoYW5nZSIsZnVuY3Rpb24oaSl7ZS5yZW1vdmVNYXJrZXIobi5tYXJrZXJJZCksbi5tYXJrZXJJZD1lLmFkZE1hcmtlcihuZXcgcihpLnZhbHVlLnJvdyxpLnZhbHVlLmNvbHVtbixpLnZhbHVlLnJvdyxpLnZhbHVlLmNvbHVtbit0Lmxlbmd0aCksdC5vdGhlcnNDbGFzcyxudWxsLCExKX0pfSl9fSx0aGlzLmhpZGVPdGhlck1hcmtlcnM9ZnVuY3Rpb24oKXtpZih0aGlzLm90aGVyc0FjdGl2ZSl7dGhpcy5vdGhlcnNBY3RpdmU9ITE7Zm9yKHZhciBlPTA7ZTx0aGlzLm90aGVycy5sZW5ndGg7ZSsrKXRoaXMuc2Vzc2lvbi5yZW1vdmVNYXJrZXIodGhpcy5vdGhlcnNbZV0ubWFya2VySWQpfX0sdGhpcy5vblVwZGF0ZT1mdW5jdGlvbihlKXt2YXIgdD1lLmRhdGEsbj10LnJhbmdlO2lmKG4uc3RhcnQucm93PT09bi5lbmQucm93JiZuLnN0YXJ0LnJvdz09PXRoaXMucG9zLnJvdyYmIXRoaXMuJHVwZGF0aW5nKXt0aGlzLiR1cGRhdGluZz0hMDt2YXIgaT0iaW5zZXJ0VGV4dCI9PT10LmFjdGlvbj9uLmVuZC5jb2x1bW4tbi5zdGFydC5jb2x1bW46bi5zdGFydC5jb2x1bW4tbi5lbmQuY29sdW1uO2lmKG4uc3RhcnQuY29sdW1uPj10aGlzLnBvcy5jb2x1bW4mJm4uc3RhcnQuY29sdW1uPD10aGlzLnBvcy5jb2x1bW4rdGhpcy5sZW5ndGgrMSl7dmFyIHM9bi5zdGFydC5jb2x1bW4tdGhpcy5wb3MuY29sdW1uO2lmKHRoaXMubGVuZ3RoKz1pLCF0aGlzLnNlc3Npb24uJGZyb21VbmRvKXtpZigiaW5zZXJ0VGV4dCI9PT10LmFjdGlvbilmb3IodmFyIG89dGhpcy5vdGhlcnMubGVuZ3RoLTE7bz49MDtvLS0pe3ZhciB1PXRoaXMub3RoZXJzW29dLGE9e3Jvdzp1LnJvdyxjb2x1bW46dS5jb2x1bW4rc307dS5yb3c9PT1uLnN0YXJ0LnJvdyYmbi5zdGFydC5jb2x1bW48dS5jb2x1bW4mJihhLmNvbHVtbis9aSksdGhpcy5kb2MuaW5zZXJ0KGEsdC50ZXh0KX1lbHNlIGlmKCJyZW1vdmVUZXh0Ij09PXQuYWN0aW9uKWZvcih2YXIgbz10aGlzLm90aGVycy5sZW5ndGgtMTtvPj0wO28tLSl7dmFyIHU9dGhpcy5vdGhlcnNbb10sYT17cm93OnUucm93LGNvbHVtbjp1LmNvbHVtbitzfTt1LnJvdz09PW4uc3RhcnQucm93JiZuLnN0YXJ0LmNvbHVtbjx1LmNvbHVtbiYmKGEuY29sdW1uKz1pKSx0aGlzLmRvYy5yZW1vdmUobmV3IHIoYS5yb3csYS5jb2x1bW4sYS5yb3csYS5jb2x1bW4taSkpfW4uc3RhcnQuY29sdW1uPT09dGhpcy5wb3MuY29sdW1uJiYiaW5zZXJ0VGV4dCI9PT10LmFjdGlvbj9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5wb3Muc2V0UG9zaXRpb24odGhpcy5wb3Mucm93LHRoaXMucG9zLmNvbHVtbi1pKTtmb3IodmFyIGU9MDtlPHRoaXMub3RoZXJzLmxlbmd0aDtlKyspe3ZhciB0PXRoaXMub3RoZXJzW2VdLHI9e3Jvdzp0LnJvdyxjb2x1bW46dC5jb2x1bW4taX07dC5yb3c9PT1uLnN0YXJ0LnJvdyYmbi5zdGFydC5jb2x1bW48dC5jb2x1bW4mJihyLmNvbHVtbis9aSksdC5zZXRQb3NpdGlvbihyLnJvdyxyLmNvbHVtbil9fS5iaW5kKHRoaXMpLDApOm4uc3RhcnQuY29sdW1uPT09dGhpcy5wb3MuY29sdW1uJiYicmVtb3ZlVGV4dCI9PT10LmFjdGlvbiYmc2V0VGltZW91dChmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dGhpcy5vdGhlcnMubGVuZ3RoO2UrKyl7dmFyIHQ9dGhpcy5vdGhlcnNbZV07dC5yb3c9PT1uLnN0YXJ0LnJvdyYmbi5zdGFydC5jb2x1bW48dC5jb2x1bW4mJnQuc2V0UG9zaXRpb24odC5yb3csdC5jb2x1bW4taSl9fS5iaW5kKHRoaXMpLDApfXRoaXMucG9zLl9lbWl0KCJjaGFuZ2UiLHt2YWx1ZTp0aGlzLnBvc30pO2Zvcih2YXIgbz0wO288dGhpcy5vdGhlcnMubGVuZ3RoO28rKyl0aGlzLm90aGVyc1tvXS5fZW1pdCgiY2hhbmdlIix7dmFsdWU6dGhpcy5vdGhlcnNbb119KX10aGlzLiR1cGRhdGluZz0hMX19LHRoaXMub25DdXJzb3JDaGFuZ2U9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuJHVwZGF0aW5nKXt2YXIgdD10aGlzLnNlc3Npb24uc2VsZWN0aW9uLmdldEN1cnNvcigpO3Qucm93PT09dGhpcy5wb3Mucm93JiZ0LmNvbHVtbj49dGhpcy5wb3MuY29sdW1uJiZ0LmNvbHVtbjw9dGhpcy5wb3MuY29sdW1uK3RoaXMubGVuZ3RoPyh0aGlzLnNob3dPdGhlck1hcmtlcnMoKSx0aGlzLl9lbWl0KCJjdXJzb3JFbnRlciIsZSkpOih0aGlzLmhpZGVPdGhlck1hcmtlcnMoKSx0aGlzLl9lbWl0KCJjdXJzb3JMZWF2ZSIsZSkpfX0sdGhpcy5kZXRhY2g9ZnVuY3Rpb24oKXt0aGlzLnNlc3Npb24ucmVtb3ZlTWFya2VyKHRoaXMubWFya2VySWQpLHRoaXMuaGlkZU90aGVyTWFya2VycygpLHRoaXMuZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNoYW5nZSIsdGhpcy4kb25VcGRhdGUpLHRoaXMuc2Vzc2lvbi5zZWxlY3Rpb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2hhbmdlQ3Vyc29yIix0aGlzLiRvbkN1cnNvckNoYW5nZSksdGhpcy5wb3MuZGV0YWNoKCk7Zm9yKHZhciBlPTA7ZTx0aGlzLm90aGVycy5sZW5ndGg7ZSsrKXRoaXMub3RoZXJzW2VdLmRldGFjaCgpO3RoaXMuc2Vzc2lvbi5zZXRVbmRvU2VsZWN0KCEwKX0sdGhpcy5jYW5jZWw9ZnVuY3Rpb24oKXtpZigtMT09PXRoaXMuJHVuZG9TdGFja0RlcHRoKXRocm93IEVycm9yKCJDYW5jZWxpbmcgcGxhY2Vob2xkZXJzIG9ubHkgc3VwcG9ydGVkIHdpdGggdW5kbyBtYW5hZ2VyIGF0dGFjaGVkIHRvIHNlc3Npb24uIik7Zm9yKHZhciBlPXRoaXMuc2Vzc2lvbi5nZXRVbmRvTWFuYWdlcigpLHQ9KGUuJHVuZG9TdGFja3x8ZS4kdW5kb3N0YWNrKS5sZW5ndGgtdGhpcy4kdW5kb1N0YWNrRGVwdGgsbj0wO3Q+bjtuKyspZS51bmRvKCEwKX19KS5jYWxsKG8ucHJvdG90eXBlKSx0LlBsYWNlSG9sZGVyPW99KSxkZWZpbmUoImFjZS9saWIvZXZlbnQiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL2tleXMiLCJhY2UvbGliL3VzZXJhZ2VudCJdLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbyhlLHQsbil7dmFyIG89cyh0KTtpZighaS5pc01hYyYmdSl7aWYoKHVbOTFdfHx1WzkyXSkmJihvfD04KSx1LmFsdEdyKXtpZigzPT0oMyZvKSlyZXR1cm47dS5hbHRHcj0wfWlmKDE4PT09bnx8MTc9PT1uKXt2YXIgZj10LmxvY2F0aW9ufHx0LmtleUxvY2F0aW9uO2lmKDE3PT09biYmMT09PWYpYT10LnRpbWVTdGFtcDtlbHNlIGlmKDE4PT09biYmMz09PW8mJjI9PT1mKXt2YXIgbD0tYTthPXQudGltZVN0YW1wLGwrPWEsMz5sJiYodS5hbHRHcj0hMCl9fX1pZihuIGluIHIuTU9ESUZJRVJfS0VZUyl7c3dpdGNoKHIuTU9ESUZJRVJfS0VZU1tuXSl7Y2FzZSJBbHQiOm89MjticmVhaztjYXNlIlNoaWZ0IjpvPTQ7YnJlYWs7Y2FzZSJDdHJsIjpvPTE7YnJlYWs7ZGVmYXVsdDpvPTh9bj0tMX1yZXR1cm4gOCZvJiYoOTE9PT1ufHw5Mz09PW4pJiYobj0tMSksb3x8MTMhPT1ufHwhdC5sb2NhdGlvbiYmMyE9PXQua2V5TG9jYXRpb258fChlKHQsbywtbiksIXQuZGVmYXVsdFByZXZlbnRlZCk/b3x8biBpbiByLkZVTkNUSU9OX0tFWVN8fG4gaW4gci5QUklOVEFCTEVfS0VZUz9lKHQsbyxuKTohMTp2b2lkIDB9dmFyIHI9ZSgiLi9rZXlzIiksaT1lKCIuL3VzZXJhZ2VudCIpO3QuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oZSx0LG4pe2lmKGUuYWRkRXZlbnRMaXN0ZW5lcilyZXR1cm4gZS5hZGRFdmVudExpc3RlbmVyKHQsbiwhMSk7aWYoZS5hdHRhY2hFdmVudCl7dmFyIHI9ZnVuY3Rpb24oKXtuLmNhbGwoZSx3aW5kb3cuZXZlbnQpfTtuLl93cmFwcGVyPXIsZS5hdHRhY2hFdmVudCgib24iK3Qscil9fSx0LnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZS5yZW1vdmVFdmVudExpc3RlbmVyP2UucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4sITEpOnZvaWQoZS5kZXRhY2hFdmVudCYmZS5kZXRhY2hFdmVudCgib24iK3Qsbi5fd3JhcHBlcnx8bikpfSx0LnN0b3BFdmVudD1mdW5jdGlvbihlKXtyZXR1cm4gdC5zdG9wUHJvcGFnYXRpb24oZSksdC5wcmV2ZW50RGVmYXVsdChlKSwhMX0sdC5zdG9wUHJvcGFnYXRpb249ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24/ZS5zdG9wUHJvcGFnYXRpb24oKTplLmNhbmNlbEJ1YmJsZT0hMH0sdC5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0P2UucHJldmVudERlZmF1bHQoKTplLnJldHVyblZhbHVlPSExfSx0LmdldEJ1dHRvbj1mdW5jdGlvbihlKXtyZXR1cm4iZGJsY2xpY2siPT1lLnR5cGU/MDoiY29udGV4dG1lbnUiPT1lLnR5cGV8fGUuY3RybEtleSYmaS5pc01hYz8yOmUucHJldmVudERlZmF1bHQ/ZS5idXR0b246ezE6MCwyOjIsNDoxfVtlLmJ1dHRvbl19LHQuY2FwdHVyZT1mdW5jdGlvbihlLG4scil7ZnVuY3Rpb24gaShlKXtuJiZuKGUpLHImJnIoZSksdC5yZW1vdmVMaXN0ZW5lcihkb2N1bWVudCwibW91c2Vtb3ZlIixuLCEwKSx0LnJlbW92ZUxpc3RlbmVyKGRvY3VtZW50LCJtb3VzZXVwIixpLCEwKSx0LnJlbW92ZUxpc3RlbmVyKGRvY3VtZW50LCJkcmFnc3RhcnQiLGksITApfXJldHVybiB0LmFkZExpc3RlbmVyKGRvY3VtZW50LCJtb3VzZW1vdmUiLG4sITApLHQuYWRkTGlzdGVuZXIoZG9jdW1lbnQsIm1vdXNldXAiLGksITApLHQuYWRkTGlzdGVuZXIoZG9jdW1lbnQsImRyYWdzdGFydCIsaSwhMCksaX0sdC5hZGRNb3VzZVdoZWVsTGlzdGVuZXI9ZnVuY3Rpb24oZSxuKXsib25tb3VzZXdoZWVsImluIGU/dC5hZGRMaXN0ZW5lcihlLCJtb3VzZXdoZWVsIixmdW5jdGlvbihlKXt2YXIgdD04O3ZvaWQgMCE9PWUud2hlZWxEZWx0YVg/KGUud2hlZWxYPS1lLndoZWVsRGVsdGFYL3QsZS53aGVlbFk9LWUud2hlZWxEZWx0YVkvdCk6KGUud2hlZWxYPTAsZS53aGVlbFk9LWUud2hlZWxEZWx0YS90KSxuKGUpfSk6Im9ud2hlZWwiaW4gZT90LmFkZExpc3RlbmVyKGUsIndoZWVsIixmdW5jdGlvbihlKXt2YXIgdD0uMzU7c3dpdGNoKGUuZGVsdGFNb2RlKXtjYXNlIGUuRE9NX0RFTFRBX1BJWEVMOmUud2hlZWxYPWUuZGVsdGFYKnR8fDAsZS53aGVlbFk9ZS5kZWx0YVkqdHx8MDticmVhaztjYXNlIGUuRE9NX0RFTFRBX0xJTkU6Y2FzZSBlLkRPTV9ERUxUQV9QQUdFOmUud2hlZWxYPTUqKGUuZGVsdGFYfHwwKSxlLndoZWVsWT01KihlLmRlbHRhWXx8MCl9bihlKX0pOnQuYWRkTGlzdGVuZXIoZSwiRE9NTW91c2VTY3JvbGwiLGZ1bmN0aW9uKGUpe2UuYXhpcyYmZS5heGlzPT1lLkhPUklaT05UQUxfQVhJUz8oZS53aGVlbFg9NSooZS5kZXRhaWx8fDApLGUud2hlZWxZPTApOihlLndoZWVsWD0wLGUud2hlZWxZPTUqKGUuZGV0YWlsfHwwKSksbihlKX0pfSx0LmFkZE11bHRpTW91c2VEb3duTGlzdGVuZXI9ZnVuY3Rpb24oZSxuLHIscyl7dmFyIHUsYSxmLG89MCxsPXsyOiJkYmxjbGljayIsMzoidHJpcGxlY2xpY2siLDQ6InF1YWRjbGljayJ9O3QuYWRkTGlzdGVuZXIoZSwibW91c2Vkb3duIixmdW5jdGlvbihlKXtpZigwIT09dC5nZXRCdXR0b24oZSk/bz0wOmUuZGV0YWlsPjE/KG8rKyxvPjQmJihvPTEpKTpvPTEsaS5pc0lFKXt2YXIgbj1NYXRoLmFicyhlLmNsaWVudFgtdSk+NXx8TWF0aC5hYnMoZS5jbGllbnRZLWEpPjU7biYmKG89MSksMT09byYmKHU9ZS5jbGllbnRYLGE9ZS5jbGllbnRZKX1pZihyW3NdKCJtb3VzZWRvd24iLGUpLG8+NClvPTA7ZWxzZSBpZihvPjEpcmV0dXJuIHJbc10obFtvXSxlKX0pLGkuaXNPbGRJRSYmdC5hZGRMaXN0ZW5lcihlLCJkYmxjbGljayIsZnVuY3Rpb24oZSl7bz0yLGYmJmNsZWFyVGltZW91dChmKSxmPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtmPW51bGx9LG5bby0xXXx8NjAwKSxyW3NdKCJtb3VzZWRvd24iLGUpLHJbc10obFtvXSxlKX0pfTt2YXIgcz0haS5pc01hY3x8IWkuaXNPcGVyYXx8IktleWJvYXJkRXZlbnQiaW4gd2luZG93P2Z1bmN0aW9uKGUpe3JldHVybiAwfChlLmN0cmxLZXk/MTowKXwoZS5hbHRLZXk/MjowKXwoZS5zaGlmdEtleT80OjApfChlLm1ldGFLZXk/ODowKX06ZnVuY3Rpb24oZSl7cmV0dXJuIDB8KGUubWV0YUtleT8xOjApfChlLmFsdEtleT8yOjApfChlLnNoaWZ0S2V5PzQ6MCl8KGUuY3RybEtleT84OjApfTt0LmdldE1vZGlmaWVyU3RyaW5nPWZ1bmN0aW9uKGUpe3JldHVybiByLktFWV9NT0RTW3MoZSldfTt2YXIgdT1udWxsLGE9MDtpZih0LmFkZENvbW1hbmRLZXlMaXN0ZW5lcj1mdW5jdGlvbihlLG4pe3ZhciByPXQuYWRkTGlzdGVuZXI7aWYoaS5pc09sZEdlY2tvfHxpLmlzT3BlcmEmJiEoIktleWJvYXJkRXZlbnQiaW4gd2luZG93KSl7dmFyIHM9bnVsbDtyKGUsImtleWRvd24iLGZ1bmN0aW9uKGUpe3M9ZS5rZXlDb2RlfSkscihlLCJrZXlwcmVzcyIsZnVuY3Rpb24oZSl7cmV0dXJuIG8obixlLHMpfSl9ZWxzZXt2YXIgYT1udWxsO3IoZSwia2V5ZG93biIsZnVuY3Rpb24oZSl7dVtlLmtleUNvZGVdPSEwO3ZhciB0PW8obixlLGUua2V5Q29kZSk7cmV0dXJuIGE9ZS5kZWZhdWx0UHJldmVudGVkLHR9KSxyKGUsImtleXByZXNzIixmdW5jdGlvbihlKXthJiYoZS5jdHJsS2V5fHxlLmFsdEtleXx8ZS5zaGlmdEtleXx8ZS5tZXRhS2V5KSYmKHQuc3RvcEV2ZW50KGUpLGE9bnVsbCl9KSxyKGUsImtleXVwIixmdW5jdGlvbihlKXt1W2Uua2V5Q29kZV09bnVsbH0pLHV8fCh1PU9iamVjdC5jcmVhdGUobnVsbCkscih3aW5kb3csImZvY3VzIixmdW5jdGlvbigpe3U9T2JqZWN0LmNyZWF0ZShudWxsKX0pKX19LHdpbmRvdy5wb3N0TWVzc2FnZSYmIWkuaXNPbGRJRSl7dmFyIGY9MTt0Lm5leHRUaWNrPWZ1bmN0aW9uKGUsbil7bj1ufHx3aW5kb3c7dmFyIHI9Inplcm8tdGltZW91dC1tZXNzYWdlLSIrZjt0LmFkZExpc3RlbmVyKG4sIm1lc3NhZ2UiLGZ1bmN0aW9uIGkocyl7cy5kYXRhPT1yJiYodC5zdG9wUHJvcGFnYXRpb24ocyksdC5yZW1vdmVMaXN0ZW5lcihuLCJtZXNzYWdlIixpKSxlKCkpfSksbi5wb3N0TWVzc2FnZShyLCIqIil9fXQubmV4dEZyYW1lPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUsdC5uZXh0RnJhbWU9dC5uZXh0RnJhbWU/dC5uZXh0RnJhbWUuYmluZCh3aW5kb3cpOmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoZSwxNyl9fSksZGVmaW5lKCJhY2UvbW9kZS9mb2xkaW5nL2ZvbGRfbW9kZSIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9yYW5nZSJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSgiLi4vLi4vcmFuZ2UiKS5SYW5nZSxpPXQuRm9sZE1vZGU9ZnVuY3Rpb24oKXt9OyhmdW5jdGlvbigpe3RoaXMuZm9sZGluZ1N0YXJ0TWFya2VyPW51bGwsdGhpcy5mb2xkaW5nU3RvcE1hcmtlcj1udWxsLHRoaXMuZ2V0Rm9sZFdpZGdldD1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5nZXRMaW5lKG4pO3JldHVybiB0aGlzLmZvbGRpbmdTdGFydE1hcmtlci50ZXN0KHIpPyJzdGFydCI6Im1hcmtiZWdpbmVuZCI9PXQmJnRoaXMuZm9sZGluZ1N0b3BNYXJrZXImJnRoaXMuZm9sZGluZ1N0b3BNYXJrZXIudGVzdChyKT8iZW5kIjoiIn0sdGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sdGhpcy5pbmRlbnRhdGlvbkJsb2NrPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT0vXFMvLHM9ZS5nZXRMaW5lKHQpLG89cy5zZWFyY2goaSk7aWYoLTEhPW8pe2Zvcih2YXIgdT1ufHxzLmxlbmd0aCxhPWUuZ2V0TGVuZ3RoKCksZj10LGw9dDsrK3Q8YTspe3ZhciBjPWUuZ2V0TGluZSh0KS5zZWFyY2goaSk7aWYoLTEhPWMpe2lmKG8+PWMpYnJlYWs7bD10fX1pZihsPmYpe3ZhciBoPWUuZ2V0TGluZShsKS5sZW5ndGg7cmV0dXJuIG5ldyByKGYsdSxsLGgpfX19LHRoaXMub3BlbmluZ0JyYWNrZXRCbG9jaz1mdW5jdGlvbihlLHQsbixpLHMpe3ZhciBvPXtyb3c6bixjb2x1bW46aSsxfSx1PWUuJGZpbmRDbG9zaW5nQnJhY2tldCh0LG8scyk7aWYodSl7dmFyIGE9ZS5mb2xkV2lkZ2V0c1t1LnJvd107cmV0dXJuIG51bGw9PWEmJihhPWUuZ2V0Rm9sZFdpZGdldCh1LnJvdykpLCJzdGFydCI9PWEmJnUucm93Pm8ucm93JiYodS5yb3ctLSx1LmNvbHVtbj1lLmdldExpbmUodS5yb3cpLmxlbmd0aCksci5mcm9tUG9pbnRzKG8sdSl9fSx0aGlzLmNsb3NpbmdCcmFja2V0QmxvY2s9ZnVuY3Rpb24oZSx0LG4saSl7dmFyIG89e3JvdzpuLGNvbHVtbjppfSx1PWUuJGZpbmRPcGVuaW5nQnJhY2tldCh0LG8pO2lmKHUpcmV0dXJuIHUuY29sdW1uKyssby5jb2x1bW4tLSxyLmZyb21Qb2ludHModSxvKX19KS5jYWxsKGkucHJvdG90eXBlKX0pLGRlZmluZSgiYWNlL2xpYi9kb20iLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiXSxmdW5jdGlvbihlLHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQpe3ZhciByPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIjt0LmdldERvY3VtZW50SGVhZD1mdW5jdGlvbihlKXtyZXR1cm4gZXx8KGU9ZG9jdW1lbnQpLGUuaGVhZHx8ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdfHxlLmRvY3VtZW50RWxlbWVudH0sdC5jcmVhdGVFbGVtZW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUz9kb2N1bWVudC5jcmVhdGVFbGVtZW50TlModHx8cixlKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpfSx0Lmhhc0Nzc0NsYXNzPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5jbGFzc05hbWUuc3BsaXQoL1xzKy9nKTtyZXR1cm4tMSE9PW4uaW5kZXhPZih0KX0sdC5hZGRDc3NDbGFzcz1mdW5jdGlvbihlLG4pe3QuaGFzQ3NzQ2xhc3MoZSxuKXx8KGUuY2xhc3NOYW1lKz0iICIrbil9LHQucmVtb3ZlQ3NzQ2xhc3M9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ZS5jbGFzc05hbWUuc3BsaXQoL1xzKy9nKTs7KXt2YXIgcj1uLmluZGV4T2YodCk7aWYoLTE9PXIpYnJlYWs7bi5zcGxpY2UociwxKX1lLmNsYXNzTmFtZT1uLmpvaW4oIiAiKX0sdC50b2dnbGVDc3NDbGFzcz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLmNsYXNzTmFtZS5zcGxpdCgvXHMrL2cpLHI9ITA7Oyl7dmFyIGk9bi5pbmRleE9mKHQpO2lmKC0xPT1pKWJyZWFrO3I9ITEsbi5zcGxpY2UoaSwxKX1yZXR1cm4gciYmbi5wdXNoKHQpLGUuY2xhc3NOYW1lPW4uam9pbigiICIpLHJ9LHQuc2V0Q3NzQ2xhc3M9ZnVuY3Rpb24oZSxuLHIpe3I/dC5hZGRDc3NDbGFzcyhlLG4pOnQucmVtb3ZlQ3NzQ2xhc3MoZSxuKX0sdC5oYXNDc3NTdHJpbmc9ZnVuY3Rpb24oZSx0KXt2YXIgcixuPTA7aWYodD10fHxkb2N1bWVudCx0LmNyZWF0ZVN0eWxlU2hlZXQmJihyPXQuc3R5bGVTaGVldHMpKXtmb3IoO248ci5sZW5ndGg7KWlmKHJbbisrXS5vd25pbmdFbGVtZW50LmlkPT09ZSlyZXR1cm4hMH1lbHNlIGlmKHI9dC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic3R5bGUiKSlmb3IoO248ci5sZW5ndGg7KWlmKHJbbisrXS5pZD09PWUpcmV0dXJuITA7cmV0dXJuITF9LHQuaW1wb3J0Q3NzU3RyaW5nPWZ1bmN0aW9uKG4saSxzKXtpZihzPXN8fGRvY3VtZW50LGkmJnQuaGFzQ3NzU3RyaW5nKGkscykpcmV0dXJuIG51bGw7dmFyIG87cy5jcmVhdGVTdHlsZVNoZWV0PyhvPXMuY3JlYXRlU3R5bGVTaGVldCgpLG8uY3NzVGV4dD1uLGkmJihvLm93bmluZ0VsZW1lbnQuaWQ9aSkpOihvPXMuY3JlYXRlRWxlbWVudE5TP3MuY3JlYXRlRWxlbWVudE5TKHIsInN0eWxlIik6cy5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLG8uYXBwZW5kQ2hpbGQocy5jcmVhdGVUZXh0Tm9kZShuKSksaSYmKG8uaWQ9aSksdC5nZXREb2N1bWVudEhlYWQocykuYXBwZW5kQ2hpbGQobykpfSx0LmltcG9ydENzc1N0eWxzaGVldD1mdW5jdGlvbihlLG4pe2lmKG4uY3JlYXRlU3R5bGVTaGVldCluLmNyZWF0ZVN0eWxlU2hlZXQoZSk7ZWxzZXt2YXIgcj10LmNyZWF0ZUVsZW1lbnQoImxpbmsiKTtyLnJlbD0ic3R5bGVzaGVldCIsci5ocmVmPWUsdC5nZXREb2N1bWVudEhlYWQobikuYXBwZW5kQ2hpbGQocil9fSx0LmdldElubmVyV2lkdGg9ZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlSW50KHQuY29tcHV0ZWRTdHlsZShlLCJwYWRkaW5nTGVmdCIpLDEwKStwYXJzZUludCh0LmNvbXB1dGVkU3R5bGUoZSwicGFkZGluZ1JpZ2h0IiksMTApK2UuY2xpZW50V2lkdGh9LHQuZ2V0SW5uZXJIZWlnaHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlSW50KHQuY29tcHV0ZWRTdHlsZShlLCJwYWRkaW5nVG9wIiksMTApK3BhcnNlSW50KHQuY29tcHV0ZWRTdHlsZShlLCJwYWRkaW5nQm90dG9tIiksMTApK2UuY2xpZW50SGVpZ2h0fSx2b2lkIDAhPT13aW5kb3cucGFnZVlPZmZzZXQ/KHQuZ2V0UGFnZVNjcm9sbFRvcD1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cucGFnZVlPZmZzZXR9LHQuZ2V0UGFnZVNjcm9sbExlZnQ9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LnBhZ2VYT2Zmc2V0fSk6KHQuZ2V0UGFnZVNjcm9sbFRvcD1mdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcH0sdC5nZXRQYWdlU2Nyb2xsTGVmdD1mdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnR9KSx0LmNvbXB1dGVkU3R5bGU9d2luZG93LmdldENvbXB1dGVkU3R5bGU/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8od2luZG93LmdldENvbXB1dGVkU3R5bGUoZSwiIil8fHt9KVt0XXx8IiI6d2luZG93LmdldENvbXB1dGVkU3R5bGUoZSwiIil8fHt9fTpmdW5jdGlvbihlLHQpe3JldHVybiB0P2UuY3VycmVudFN0eWxlW3RdOmUuY3VycmVudFN0eWxlfSx0LnNjcm9sbGJhcldpZHRoPWZ1bmN0aW9uKGUpe3ZhciBuPXQuY3JlYXRlRWxlbWVudCgiYWNlX2lubmVyIik7bi5zdHlsZS53aWR0aD0iMTAwJSIsbi5zdHlsZS5taW5XaWR0aD0iMHB4IixuLnN0eWxlLmhlaWdodD0iMjAwcHgiLG4uc3R5bGUuZGlzcGxheT0iYmxvY2siO3ZhciByPXQuY3JlYXRlRWxlbWVudCgiYWNlX291dGVyIiksaT1yLnN0eWxlO2kucG9zaXRpb249ImFic29sdXRlIixpLmxlZnQ9Ii0xMDAwMHB4IixpLm92ZXJmbG93PSJoaWRkZW4iLGkud2lkdGg9IjIwMHB4IixpLm1pbldpZHRoPSIwcHgiLGkuaGVpZ2h0PSIxNTBweCIsaS5kaXNwbGF5PSJibG9jayIsci5hcHBlbmRDaGlsZChuKTt2YXIgcz1lLmRvY3VtZW50RWxlbWVudDtzLmFwcGVuZENoaWxkKHIpO3ZhciBvPW4ub2Zmc2V0V2lkdGg7aS5vdmVyZmxvdz0ic2Nyb2xsIjt2YXIgdT1uLm9mZnNldFdpZHRoO3JldHVybiBvPT11JiYodT1yLmNsaWVudFdpZHRoKSxzLnJlbW92ZUNoaWxkKHIpLG8tdX0sdC5zZXRJbm5lckh0bWw9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmNsb25lTm9kZSghMSk7cmV0dXJuIG4uaW5uZXJIVE1MPXQsZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChuLGUpLG59LCJ0ZXh0Q29udGVudCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ/KHQuc2V0SW5uZXJUZXh0PWZ1bmN0aW9uKGUsdCl7ZS50ZXh0Q29udGVudD10fSx0LmdldElubmVyVGV4dD1mdW5jdGlvbihlKXtyZXR1cm4gZS50ZXh0Q29udGVudH0pOih0LnNldElubmVyVGV4dD1mdW5jdGlvbihlLHQpe2UuaW5uZXJUZXh0PXR9LHQuZ2V0SW5uZXJUZXh0PWZ1bmN0aW9uKGUpe3JldHVybiBlLmlubmVyVGV4dH0pLHQuZ2V0UGFyZW50V2luZG93PWZ1bmN0aW9uKGUpe3JldHVybiBlLmRlZmF1bHRWaWV3fHxlLnBhcmVudFdpbmRvd319fSksZGVmaW5lKCJhY2UvdGhlbWUvdGV4dG1hdGUiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL2RvbSJdLGZ1bmN0aW9uKGUsdCl7dC5pc0Rhcms9ITEsdC5jc3NDbGFzcz0iYWNlLXRtIix0LmNzc1RleHQ9Jy5hY2UtdG0gLmFjZV9ndXR0ZXIge2JhY2tncm91bmQ6ICNmMGYwZjA7Y29sb3I6ICMzMzM7fS5hY2UtdG0gLmFjZV9wcmludC1tYXJnaW4ge3dpZHRoOiAxcHg7YmFja2dyb3VuZDogI2U4ZThlODt9LmFjZS10bSAuYWNlX2ZvbGQge2JhY2tncm91bmQtY29sb3I6ICM2QjcyRTY7fS5hY2UtdG0ge2JhY2tncm91bmQtY29sb3I6ICNGRkZGRkY7Y29sb3I6IGJsYWNrO30uYWNlLXRtIC5hY2VfY3Vyc29yIHtjb2xvcjogYmxhY2s7fS5hY2UtdG0gLmFjZV9pbnZpc2libGUge2NvbG9yOiByZ2IoMTkxLCAxOTEsIDE5MSk7fS5hY2UtdG0gLmFjZV9zdG9yYWdlLC5hY2UtdG0gLmFjZV9rZXl3b3JkIHtjb2xvcjogYmx1ZTt9LmFjZS10bSAuYWNlX2NvbnN0YW50IHtjb2xvcjogcmdiKDE5NywgNiwgMTEpO30uYWNlLXRtIC5hY2VfY29uc3RhbnQuYWNlX2J1aWxkaW4ge2NvbG9yOiByZ2IoODgsIDcyLCAyNDYpO30uYWNlLXRtIC5hY2VfY29uc3RhbnQuYWNlX2xhbmd1YWdlIHtjb2xvcjogcmdiKDg4LCA5MiwgMjQ2KTt9LmFjZS10bSAuYWNlX2NvbnN0YW50LmFjZV9saWJyYXJ5IHtjb2xvcjogcmdiKDYsIDE1MCwgMTQpO30uYWNlLXRtIC5hY2VfaW52YWxpZCB7YmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDAsIDAsIDAuMSk7Y29sb3I6IHJlZDt9LmFjZS10bSAuYWNlX3N1cHBvcnQuYWNlX2Z1bmN0aW9uIHtjb2xvcjogcmdiKDYwLCA3NiwgMTE0KTt9LmFjZS10bSAuYWNlX3N1cHBvcnQuYWNlX2NvbnN0YW50IHtjb2xvcjogcmdiKDYsIDE1MCwgMTQpO30uYWNlLXRtIC5hY2Vfc3VwcG9ydC5hY2VfdHlwZSwuYWNlLXRtIC5hY2Vfc3VwcG9ydC5hY2VfY2xhc3Mge2NvbG9yOiByZ2IoMTA5LCAxMjEsIDIyMik7fS5hY2UtdG0gLmFjZV9rZXl3b3JkLmFjZV9vcGVyYXRvciB7Y29sb3I6IHJnYigxMDQsIDExOCwgMTM1KTt9LmFjZS10bSAuYWNlX3N0cmluZyB7Y29sb3I6IHJnYigzLCAxMDYsIDcpO30uYWNlLXRtIC5hY2VfY29tbWVudCB7Y29sb3I6IHJnYig3NiwgMTM2LCAxMDcpO30uYWNlLXRtIC5hY2VfY29tbWVudC5hY2VfZG9jIHtjb2xvcjogcmdiKDAsIDEwMiwgMjU1KTt9LmFjZS10bSAuYWNlX2NvbW1lbnQuYWNlX2RvYy5hY2VfdGFnIHtjb2xvcjogcmdiKDEyOCwgMTU5LCAxOTEpO30uYWNlLXRtIC5hY2VfY29uc3RhbnQuYWNlX251bWVyaWMge2NvbG9yOiByZ2IoMCwgMCwgMjA1KTt9LmFjZS10bSAuYWNlX3ZhcmlhYmxlIHtjb2xvcjogcmdiKDQ5LCAxMzIsIDE0OSk7fS5hY2UtdG0gLmFjZV94bWwtcGUge2NvbG9yOiByZ2IoMTA0LCAxMDQsIDkxKTt9LmFjZS10bSAuYWNlX2VudGl0eS5hY2VfbmFtZS5hY2VfZnVuY3Rpb24ge2NvbG9yOiAjMDAwMEEyO30uYWNlLXRtIC5hY2VfaGVhZGluZyB7Y29sb3I6IHJnYigxMiwgNywgMjU1KTt9LmFjZS10bSAuYWNlX2xpc3Qge2NvbG9yOnJnYigxODUsIDYsIDE0NCk7fS5hY2UtdG0gLmFjZV9tZXRhLmFjZV90YWcge2NvbG9yOnJnYigwLCAyMiwgMTQyKTt9LmFjZS10bSAuYWNlX3N0cmluZy5hY2VfcmVnZXgge2NvbG9yOiByZ2IoMjU1LCAwLCAwKX0uYWNlLXRtIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0aW9uIHtiYWNrZ3JvdW5kOiByZ2IoMTgxLCAyMTMsIDI1NSk7fS5hY2UtdG0uYWNlX211bHRpc2VsZWN0IC5hY2Vfc2VsZWN0aW9uLmFjZV9zdGFydCB7Ym94LXNoYWRvdzogMCAwIDNweCAwcHggd2hpdGU7Ym9yZGVyLXJhZGl1czogMnB4O30uYWNlLXRtIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc3RlcCB7YmFja2dyb3VuZDogcmdiKDI1MiwgMjU1LCAwKTt9LmFjZS10bSAuYWNlX21hcmtlci1sYXllciAuYWNlX3N0YWNrIHtiYWNrZ3JvdW5kOiByZ2IoMTY0LCAyMjksIDEwMSk7fS5hY2UtdG0gLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9icmFja2V0IHttYXJnaW46IC0xcHggMCAwIC0xcHg7Ym9yZGVyOiAxcHggc29saWQgcmdiKDE5MiwgMTkyLCAxOTIpO30uYWNlLXRtIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYWN0aXZlLWxpbmUge2JhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4wNyk7fS5hY2UtdG0gLmFjZV9ndXR0ZXItYWN0aXZlLWxpbmUge2JhY2tncm91bmQtY29sb3IgOiAjZGNkY2RjO30uYWNlLXRtIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0ZWQtd29yZCB7YmFja2dyb3VuZDogcmdiKDI1MCwgMjUwLCAyNTUpO2JvcmRlcjogMXB4IHNvbGlkIHJnYigyMDAsIDIwMCwgMjUwKTt9LmFjZS10bSAuYWNlX2luZGVudC1ndWlkZSB7YmFja2dyb3VuZDogdXJsKCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUNDQVlBQUFDWmdiWW5BQUFBRTBsRVFWUUltV1A0Ly8vL2Y0YkxseS8vQndBbVZnZDEvdzExL2dBQUFBQkpSVTVFcmtKZ2dnPT0iKSByaWdodCByZXBlYXQteTt9Jzt2YXIgcj1lKCIuLi9saWIvZG9tIik7ci5pbXBvcnRDc3NTdHJpbmcodC5jc3NUZXh0LHQuY3NzQ2xhc3MpfSksZGVmaW5lKCJhY2UvbGliL2VzNS1zaGltIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oKXtmdW5jdGlvbiByKCl7fWZ1bmN0aW9uIHcoZSl7dHJ5e3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwic2VudGluZWwiLHt9KSwic2VudGluZWwiaW4gZX1jYXRjaCh0KXt9fWZ1bmN0aW9uIEgoZSl7cmV0dXJuIGU9K2UsZSE9PWU/ZT0wOjAhPT1lJiZlIT09MS8wJiZlIT09LTEvMCYmKGU9KGU+MHx8LTEpKk1hdGguZmxvb3IoTWF0aC5hYnMoZSkpKSxlfUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHwoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24odCl7dmFyIG49dGhpcztpZigiZnVuY3Rpb24iIT10eXBlb2Ygbil0aHJvdyBuZXcgVHlwZUVycm9yKCJGdW5jdGlvbi5wcm90b3R5cGUuYmluZCBjYWxsZWQgb24gaW5jb21wYXRpYmxlICIrbik7dmFyIGk9dS5jYWxsKGFyZ3VtZW50cywxKSxzPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIHMpe3ZhciBlPW4uYXBwbHkodGhpcyxpLmNvbmNhdCh1LmNhbGwoYXJndW1lbnRzKSkpO3JldHVybiBPYmplY3QoZSk9PT1lP2U6dGhpc31yZXR1cm4gbi5hcHBseSh0LGkuY29uY2F0KHUuY2FsbChhcmd1bWVudHMpKSl9O3JldHVybiBuLnByb3RvdHlwZSYmKHIucHJvdG90eXBlPW4ucHJvdG90eXBlLHMucHJvdG90eXBlPW5ldyByLHIucHJvdG90eXBlPW51bGwpLHN9KTt2YXIgbCxjLGgscCxkLGk9RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwscz1BcnJheS5wcm90b3R5cGUsbz1PYmplY3QucHJvdG90eXBlLHU9cy5zbGljZSxhPWkuYmluZChvLnRvU3RyaW5nKSxmPWkuYmluZChvLmhhc093blByb3BlcnR5KTtpZigoZD1mKG8sIl9fZGVmaW5lR2V0dGVyX18iKSkmJihsPWkuYmluZChvLl9fZGVmaW5lR2V0dGVyX18pLGM9aS5iaW5kKG8uX19kZWZpbmVTZXR0ZXJfXyksaD1pLmJpbmQoby5fX2xvb2t1cEdldHRlcl9fKSxwPWkuYmluZChvLl9fbG9va3VwU2V0dGVyX18pKSwyIT1bMSwyXS5zcGxpY2UoMCkubGVuZ3RoKWlmKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt2YXIgdD1uZXcgQXJyYXkoZSsyKTtyZXR1cm4gdFswXT10WzFdPTAsdH12YXIgbix0PVtdO3JldHVybiB0LnNwbGljZS5hcHBseSh0LGUoMjApKSx0LnNwbGljZS5hcHBseSh0LGUoMjYpKSxuPXQubGVuZ3RoLHQuc3BsaWNlKDUsMCwiWFhYIiksbisxPT10Lmxlbmd0aCxuKzE9PXQubGVuZ3RoPyEwOnZvaWQgMH0oKSl7dmFyIHY9QXJyYXkucHJvdG90eXBlLnNwbGljZTtBcnJheS5wcm90b3R5cGUuc3BsaWNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/di5hcHBseSh0aGlzLFt2b2lkIDA9PT1lPzA6ZSx2b2lkIDA9PT10P3RoaXMubGVuZ3RoLWU6dF0uY29uY2F0KHUuY2FsbChhcmd1bWVudHMsMikpKTpbXX19ZWxzZSBBcnJheS5wcm90b3R5cGUuc3BsaWNlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5sZW5ndGg7ZT4wP2U+biYmKGU9bik6dm9pZCAwPT1lP2U9MDowPmUmJihlPU1hdGgubWF4KG4rZSwwKSksbj5lK3R8fCh0PW4tZSk7dmFyIHI9dGhpcy5zbGljZShlLGUrdCksaT11LmNhbGwoYXJndW1lbnRzLDIpLHM9aS5sZW5ndGg7aWYoZT09PW4pcyYmdGhpcy5wdXNoLmFwcGx5KHRoaXMsaSk7ZWxzZXt2YXIgbz1NYXRoLm1pbih0LG4tZSksYT1lK28sZj1hK3MtbyxsPW4tYSxjPW4tbztpZihhPmYpZm9yKHZhciBoPTA7bD5oOysraCl0aGlzW2YraF09dGhpc1thK2hdO2Vsc2UgaWYoZj5hKWZvcihoPWw7aC0tOyl0aGlzW2YraF09dGhpc1thK2hdO2lmKHMmJmU9PT1jKXRoaXMubGVuZ3RoPWMsdGhpcy5wdXNoLmFwcGx5KHRoaXMsaSk7ZWxzZSBmb3IodGhpcy5sZW5ndGg9YytzLGg9MDtzPmg7KytoKXRoaXNbZStoXT1pW2hdfXJldHVybiByfTtBcnJheS5pc0FycmF5fHwoQXJyYXkuaXNBcnJheT1mdW5jdGlvbih0KXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT1hKHQpfSk7dmFyIG09T2JqZWN0KCJhIiksZz0iYSIhPW1bMF18fCEoMCBpbiBtKTtpZihBcnJheS5wcm90b3R5cGUuZm9yRWFjaHx8KEFycmF5LnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKHQpe3ZhciBuPUYodGhpcykscj1nJiYiW29iamVjdCBTdHJpbmddIj09YSh0aGlzKT90aGlzLnNwbGl0KCIiKTpuLGk9YXJndW1lbnRzWzFdLHM9LTEsbz1yLmxlbmd0aD4+PjA7aWYoIltvYmplY3QgRnVuY3Rpb25dIiE9YSh0KSl0aHJvdyBuZXcgVHlwZUVycm9yO2Zvcig7KytzPG87KXMgaW4gciYmdC5jYWxsKGkscltzXSxzLG4pfSksQXJyYXkucHJvdG90eXBlLm1hcHx8KEFycmF5LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7dmFyIG49Rih0aGlzKSxyPWcmJiJbb2JqZWN0IFN0cmluZ10iPT1hKHRoaXMpP3RoaXMuc3BsaXQoIiIpOm4saT1yLmxlbmd0aD4+PjAscz1BcnJheShpKSxvPWFyZ3VtZW50c1sxXTtpZigiW29iamVjdCBGdW5jdGlvbl0iIT1hKHQpKXRocm93IG5ldyBUeXBlRXJyb3IodCsiIGlzIG5vdCBhIGZ1bmN0aW9uIik7Zm9yKHZhciB1PTA7aT51O3UrKyl1IGluIHImJihzW3VdPXQuY2FsbChvLHJbdV0sdSxuKSk7cmV0dXJuIHN9KSxBcnJheS5wcm90b3R5cGUuZmlsdGVyfHwoQXJyYXkucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbih0KXt2YXIgbyxuPUYodGhpcykscj1nJiYiW29iamVjdCBTdHJpbmddIj09YSh0aGlzKT90aGlzLnNwbGl0KCIiKTpuLGk9ci5sZW5ndGg+Pj4wLHM9W10sdT1hcmd1bWVudHNbMV07aWYoIltvYmplY3QgRnVuY3Rpb25dIiE9YSh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKHQrIiBpcyBub3QgYSBmdW5jdGlvbiIpO2Zvcih2YXIgZj0wO2k+ZjtmKyspZiBpbiByJiYobz1yW2ZdLHQuY2FsbCh1LG8sZixuKSYmcy5wdXNoKG8pKTtyZXR1cm4gc30pLEFycmF5LnByb3RvdHlwZS5ldmVyeXx8KEFycmF5LnByb3RvdHlwZS5ldmVyeT1mdW5jdGlvbih0KXt2YXIgbj1GKHRoaXMpLHI9ZyYmIltvYmplY3QgU3RyaW5nXSI9PWEodGhpcyk/dGhpcy5zcGxpdCgiIik6bixpPXIubGVuZ3RoPj4+MCxzPWFyZ3VtZW50c1sxXTtpZigiW29iamVjdCBGdW5jdGlvbl0iIT1hKHQpKXRocm93IG5ldyBUeXBlRXJyb3IodCsiIGlzIG5vdCBhIGZ1bmN0aW9uIik7Zm9yKHZhciBvPTA7aT5vO28rKylpZihvIGluIHImJiF0LmNhbGwocyxyW29dLG8sbikpcmV0dXJuITE7cmV0dXJuITB9KSxBcnJheS5wcm90b3R5cGUuc29tZXx8KEFycmF5LnByb3RvdHlwZS5zb21lPWZ1bmN0aW9uKHQpe3ZhciBuPUYodGhpcykscj1nJiYiW29iamVjdCBTdHJpbmddIj09YSh0aGlzKT90aGlzLnNwbGl0KCIiKTpuLGk9ci5sZW5ndGg+Pj4wLHM9YXJndW1lbnRzWzFdO2lmKCJbb2JqZWN0IEZ1bmN0aW9uXSIhPWEodCkpdGhyb3cgbmV3IFR5cGVFcnJvcih0KyIgaXMgbm90IGEgZnVuY3Rpb24iKTtmb3IodmFyIG89MDtpPm87bysrKWlmKG8gaW4gciYmdC5jYWxsKHMscltvXSxvLG4pKXJldHVybiEwO3JldHVybiExfSksQXJyYXkucHJvdG90eXBlLnJlZHVjZXx8KEFycmF5LnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCl7dmFyIG49Rih0aGlzKSxyPWcmJiJbb2JqZWN0IFN0cmluZ10iPT1hKHRoaXMpP3RoaXMuc3BsaXQoIiIpOm4saT1yLmxlbmd0aD4+PjA7aWYoIltvYmplY3QgRnVuY3Rpb25dIiE9YSh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKHQrIiBpcyBub3QgYSBmdW5jdGlvbiIpO2lmKCFpJiYxPT1hcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBUeXBlRXJyb3IoInJlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWUiKTt2YXIgbyxzPTA7aWYoYXJndW1lbnRzLmxlbmd0aD49MilvPWFyZ3VtZW50c1sxXTtlbHNlIGZvcig7Oyl7aWYocyBpbiByKXtvPXJbcysrXTticmVha31pZigrK3M+PWkpdGhyb3cgbmV3IFR5cGVFcnJvcigicmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZSIpfWZvcig7aT5zO3MrKylzIGluIHImJihvPXQuY2FsbCh2b2lkIDAsbyxyW3NdLHMsbikpO3JldHVybiBvfSksQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0fHwoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0PWZ1bmN0aW9uKHQpe3ZhciBuPUYodGhpcykscj1nJiYiW29iamVjdCBTdHJpbmddIj09YSh0aGlzKT90aGlzLnNwbGl0KCIiKTpuLGk9ci5sZW5ndGg+Pj4wO2lmKCJbb2JqZWN0IEZ1bmN0aW9uXSIhPWEodCkpdGhyb3cgbmV3IFR5cGVFcnJvcih0KyIgaXMgbm90IGEgZnVuY3Rpb24iKTtpZighaSYmMT09YXJndW1lbnRzLmxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKCJyZWR1Y2VSaWdodCBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWUiKTt2YXIgcyxvPWktMTtpZihhcmd1bWVudHMubGVuZ3RoPj0yKXM9YXJndW1lbnRzWzFdO2Vsc2UgZm9yKDs7KXtpZihvIGluIHIpe3M9cltvLS1dO2JyZWFrfWlmKC0tbzwwKXRocm93IG5ldyBUeXBlRXJyb3IoInJlZHVjZVJpZ2h0IG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZSIpfWRvIG8gaW4gdGhpcyYmKHM9dC5jYWxsKHZvaWQgMCxzLHJbb10sbyxuKSk7d2hpbGUoby0tKTtyZXR1cm4gc30pLEFycmF5LnByb3RvdHlwZS5pbmRleE9mJiYtMT09WzAsMV0uaW5kZXhPZigxLDIpfHwoQXJyYXkucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24odCl7dmFyIG49ZyYmIltvYmplY3QgU3RyaW5nXSI9PWEodGhpcyk/dGhpcy5zcGxpdCgiIik6Rih0aGlzKSxyPW4ubGVuZ3RoPj4+MDtpZighcilyZXR1cm4tMTt2YXIgaT0wO2Zvcihhcmd1bWVudHMubGVuZ3RoPjEmJihpPUgoYXJndW1lbnRzWzFdKSksaT1pPj0wP2k6TWF0aC5tYXgoMCxyK2kpO3I+aTtpKyspaWYoaSBpbiBuJiZuW2ldPT09dClyZXR1cm4gaTtyZXR1cm4tMX0pLEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZiYmLTE9PVswLDFdLmxhc3RJbmRleE9mKDAsLTMpfHwoQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mPWZ1bmN0aW9uKHQpe3ZhciBuPWcmJiJbb2JqZWN0IFN0cmluZ10iPT1hKHRoaXMpP3RoaXMuc3BsaXQoIiIpOkYodGhpcykscj1uLmxlbmd0aD4+PjA7aWYoIXIpcmV0dXJuLTE7dmFyIGk9ci0xO2Zvcihhcmd1bWVudHMubGVuZ3RoPjEmJihpPU1hdGgubWluKGksSChhcmd1bWVudHNbMV0pKSksaT1pPj0wP2k6ci1NYXRoLmFicyhpKTtpPj0wO2ktLSlpZihpIGluIG4mJnQ9PT1uW2ldKXJldHVybiBpO3JldHVybi0xfSksT2JqZWN0LmdldFByb3RvdHlwZU9mfHwoT2JqZWN0LmdldFByb3RvdHlwZU9mPWZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8KHQuY29uc3RydWN0b3I/dC5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6byl9KSwhT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcil7dmFyIHk9Ik9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgY2FsbGVkIG9uIGEgbm9uLW9iamVjdDogIjtPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yPWZ1bmN0aW9uKHQsbil7aWYoIm9iamVjdCIhPXR5cGVvZiB0JiYiZnVuY3Rpb24iIT10eXBlb2YgdHx8bnVsbD09PXQpdGhyb3cgbmV3IFR5cGVFcnJvcih5K3QpO2lmKGYodCxuKSl7dmFyIHIsaSxzO2lmKHI9e2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSxkKXt2YXIgdT10Ll9fcHJvdG9fXzt0Ll9fcHJvdG9fXz1vO3ZhciBpPWgodCxuKSxzPXAodCxuKTtpZih0Ll9fcHJvdG9fXz11LGl8fHMpcmV0dXJuIGkmJihyLmdldD1pKSxzJiYoci5zZXQ9cykscn1yZXR1cm4gci52YWx1ZT10W25dLHJ9fX1pZihPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8KE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qua2V5cyh0KX0pLCFPYmplY3QuY3JlYXRlKXt2YXIgYjtiPW51bGw9PT1PYmplY3QucHJvdG90eXBlLl9fcHJvdG9fXz9mdW5jdGlvbigpe3JldHVybntfX3Byb3RvX186bnVsbH19OmZ1bmN0aW9uKCl7dmFyIGU9e307Zm9yKHZhciB0IGluIGUpZVt0XT1udWxsO3JldHVybiBlLmNvbnN0cnVjdG9yPWUuaGFzT3duUHJvcGVydHk9ZS5wcm9wZXJ0eUlzRW51bWVyYWJsZT1lLmlzUHJvdG90eXBlT2Y9ZS50b0xvY2FsZVN0cmluZz1lLnRvU3RyaW5nPWUudmFsdWVPZj1lLl9fcHJvdG9fXz1udWxsLGV9LE9iamVjdC5jcmVhdGU9ZnVuY3Rpb24odCxuKXt2YXIgcjtpZihudWxsPT09dClyPWIoKTtlbHNle2lmKCJvYmplY3QiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJ0eXBlb2YgcHJvdG90eXBlWyIrdHlwZW9mIHQrIl0gIT0gJ29iamVjdCciKTt2YXIgaT1mdW5jdGlvbigpe307aS5wcm90b3R5cGU9dCxyPW5ldyBpLHIuX19wcm90b19fPXR9cmV0dXJuIHZvaWQgMCE9PW4mJk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHIsbikscn19aWYoT2JqZWN0LmRlZmluZVByb3BlcnR5KXt2YXIgRT13KHt9KSxTPSJ1bmRlZmluZWQiPT10eXBlb2YgZG9jdW1lbnR8fHcoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikpO2lmKCFFfHwhUyl2YXIgeD1PYmplY3QuZGVmaW5lUHJvcGVydHl9aWYoIU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8eCl7dmFyIFQ9IlByb3BlcnR5IGRlc2NyaXB0aW9uIG11c3QgYmUgYW4gb2JqZWN0OiAiLE49Ik9iamVjdC5kZWZpbmVQcm9wZXJ0eSBjYWxsZWQgb24gbm9uLW9iamVjdDogIixDPSJnZXR0ZXJzICYgc2V0dGVycyBjYW4gbm90IGJlIGRlZmluZWQgb24gdGhpcyBqYXZhc2NyaXB0IGVuZ2luZSI7T2JqZWN0LmRlZmluZVByb3BlcnR5PWZ1bmN0aW9uKHQsbixyKXtpZigib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0fHxudWxsPT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKE4rdCk7aWYoIm9iamVjdCIhPXR5cGVvZiByJiYiZnVuY3Rpb24iIT10eXBlb2Ygcnx8bnVsbD09PXIpdGhyb3cgbmV3IFR5cGVFcnJvcihUK3IpO2lmKHgpdHJ5e3JldHVybiB4LmNhbGwoT2JqZWN0LHQsbixyKX1jYXRjaChpKXt9aWYoZihyLCJ2YWx1ZSIpKWlmKGQmJihoKHQsbil8fHAodCxuKSkpe3ZhciBzPXQuX19wcm90b19fO3QuX19wcm90b19fPW8sZGVsZXRlIHRbbl0sdFtuXT1yLnZhbHVlLHQuX19wcm90b19fPXN9ZWxzZSB0W25dPXIudmFsdWU7ZWxzZXtpZighZCl0aHJvdyBuZXcgVHlwZUVycm9yKEMpO2YociwiZ2V0IikmJmwodCxuLHIuZ2V0KSxmKHIsInNldCIpJiZjKHQsbixyLnNldCl9cmV0dXJuIHR9fU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzfHwoT2JqZWN0LmRlZmluZVByb3BlcnRpZXM9ZnVuY3Rpb24odCxuKXtmb3IodmFyIHIgaW4gbilmKG4scikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIsbltyXSk7cmV0dXJuIHR9KSxPYmplY3Quc2VhbHx8KE9iamVjdC5zZWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0fSksT2JqZWN0LmZyZWV6ZXx8KE9iamVjdC5mcmVlemU9ZnVuY3Rpb24odCl7cmV0dXJuIHR9KTt0cnl7T2JqZWN0LmZyZWV6ZShmdW5jdGlvbigpe30pfWNhdGNoKGspe09iamVjdC5mcmVlemU9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBuP246dChuKX19KE9iamVjdC5mcmVlemUpfWlmKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9uc3x8KE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucz1mdW5jdGlvbih0KXtyZXR1cm4gdH0pLE9iamVjdC5pc1NlYWxlZHx8KE9iamVjdC5pc1NlYWxlZD1mdW5jdGlvbigpe3JldHVybiExfSksT2JqZWN0LmlzRnJvemVufHwoT2JqZWN0LmlzRnJvemVuPWZ1bmN0aW9uKCl7cmV0dXJuITF9KSxPYmplY3QuaXNFeHRlbnNpYmxlfHwoT2JqZWN0LmlzRXh0ZW5zaWJsZT1mdW5jdGlvbih0KXtpZihPYmplY3QodCk9PT10KXRocm93IG5ldyBUeXBlRXJyb3I7Zm9yKHZhciBuPSIiO2YodCxuKTspbis9Ij8iO3Rbbl09ITA7dmFyIHI9Zih0LG4pO3JldHVybiBkZWxldGUgdFtuXSxyfSksIU9iamVjdC5rZXlzKXt2YXIgTD0hMCxBPVsidG9TdHJpbmciLCJ0b0xvY2FsZVN0cmluZyIsInZhbHVlT2YiLCJoYXNPd25Qcm9wZXJ0eSIsImlzUHJvdG90eXBlT2YiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsImNvbnN0cnVjdG9yIl0sTz1BLmxlbmd0aDtmb3IodmFyIE0gaW57dG9TdHJpbmc6bnVsbH0pTD0hMTtPYmplY3Qua2V5cz1mdW5jdGlvbiBJKGUpe2lmKCJvYmplY3QiIT10eXBlb2YgZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGV8fG51bGw9PT1lKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5rZXlzIGNhbGxlZCBvbiBhIG5vbi1vYmplY3QiKTt2YXIgST1bXTtmb3IodmFyIHQgaW4gZSlmKGUsdCkmJkkucHVzaCh0KTtpZihMKWZvcih2YXIgbj0wLHI9TztyPm47bisrKXt2YXIgaT1BW25dO2YoZSxpKSYmSS5wdXNoKGkpfXJldHVybiBJfX1EYXRlLm5vd3x8KERhdGUubm93PWZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9KTt2YXIgXz0iCVxuC1xmXHIgwqDhmoDhoI7igIDigIHigILigIPigITigIXigIbigIfigIjigInigIrigK/igZ/jgIBcdTIwMjhcdTIwMjnvu78iO2lmKCFTdHJpbmcucHJvdG90eXBlLnRyaW18fF8udHJpbSgpKXtfPSJbIitfKyJdIjt2YXIgRD1uZXcgUmVnRXhwKCJeIitfK18rIioiKSxQPW5ldyBSZWdFeHAoXytfKyIqJCIpO1N0cmluZy5wcm90b3R5cGUudHJpbT1mdW5jdGlvbigpe3JldHVybiBTdHJpbmcodGhpcykucmVwbGFjZShELCIiKS5yZXBsYWNlKFAsIiIpfX12YXIgRj1mdW5jdGlvbihlKXtpZihudWxsPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoImNhbid0IGNvbnZlcnQgIitlKyIgdG8gb2JqZWN0Iik7cmV0dXJuIE9iamVjdChlKX19KSxkZWZpbmUoImFjZS9saWIvcmVnZXhwIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oKXtmdW5jdGlvbiBvKGUpe3JldHVybihlLmdsb2JhbD8iZyI6IiIpKyhlLmlnbm9yZUNhc2U/ImkiOiIiKSsoZS5tdWx0aWxpbmU/Im0iOiIiKSsoZS5leHRlbmRlZD8ieCI6IiIpKyhlLnN0aWNreT8ieSI6IiIpfWZ1bmN0aW9uIHUoZSx0LG4pe2lmKEFycmF5LnByb3RvdHlwZS5pbmRleE9mKXJldHVybiBlLmluZGV4T2YodCxuKTtmb3IodmFyIHI9bnx8MDtyPGUubGVuZ3RoO3IrKylpZihlW3JdPT09dClyZXR1cm4gcjtyZXR1cm4tMX12YXIgcj17ZXhlYzpSZWdFeHAucHJvdG90eXBlLmV4ZWMsdGVzdDpSZWdFeHAucHJvdG90eXBlLnRlc3QsbWF0Y2g6U3RyaW5nLnByb3RvdHlwZS5tYXRjaCxyZXBsYWNlOlN0cmluZy5wcm90b3R5cGUucmVwbGFjZSxzcGxpdDpTdHJpbmcucHJvdG90eXBlLnNwbGl0fSxpPXZvaWQgMD09PXIuZXhlYy5jYWxsKC8oKT8/LywiIilbMV0scz1mdW5jdGlvbigpe3ZhciBlPS9eL2c7cmV0dXJuIHIudGVzdC5jYWxsKGUsIiIpLCFlLmxhc3RJbmRleH0oKTtzJiZpfHwoUmVnRXhwLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKGUpe3ZhciBuLGEsdD1yLmV4ZWMuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKCJzdHJpbmciPT10eXBlb2YgZSYmdCl7aWYoIWkmJnQubGVuZ3RoPjEmJnUodCwiIik+LTEmJihhPVJlZ0V4cCh0aGlzLnNvdXJjZSxyLnJlcGxhY2UuY2FsbChvKHRoaXMpLCJnIiwiIikpLHIucmVwbGFjZS5jYWxsKGUuc2xpY2UodC5pbmRleCksYSxmdW5jdGlvbigpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aC0yO2UrKyl2b2lkIDA9PT1hcmd1bWVudHNbZV0mJih0W2VdPXZvaWQgMCl9KSksdGhpcy5feHJlZ2V4cCYmdGhpcy5feHJlZ2V4cC5jYXB0dXJlTmFtZXMpZm9yKHZhciBmPTE7Zjx0Lmxlbmd0aDtmKyspbj10aGlzLl94cmVnZXhwLmNhcHR1cmVOYW1lc1tmLTFdLG4mJih0W25dPXRbZl0pOyFzJiZ0aGlzLmdsb2JhbCYmIXRbMF0ubGVuZ3RoJiZ0aGlzLmxhc3RJbmRleD50LmluZGV4JiZ0aGlzLmxhc3RJbmRleC0tfXJldHVybiB0fSxzfHwoUmVnRXhwLnByb3RvdHlwZS50ZXN0PWZ1bmN0aW9uKGUpe3ZhciB0PXIuZXhlYy5jYWxsKHRoaXMsZSk7cmV0dXJuIHQmJnRoaXMuZ2xvYmFsJiYhdFswXS5sZW5ndGgmJnRoaXMubGFzdEluZGV4PnQuaW5kZXgmJnRoaXMubGFzdEluZGV4LS0sISF0fSkpfSksZGVmaW5lKCJhY2UvZXh0L2Vycm9yX21hcmtlciIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saW5lX3dpZGdldHMiLCJhY2UvbGliL2RvbSIsImFjZS9yYW5nZSJdLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbyhlLHQsbil7Zm9yKHZhciByPTAsaT1lLmxlbmd0aC0xO2k+PXI7KXt2YXIgcz1yK2k+PjEsbz1uKHQsZVtzXSk7aWYobz4wKXI9cysxO2Vsc2V7aWYoISgwPm8pKXJldHVybiBzO2k9cy0xfX1yZXR1cm4tKHIrMSl9ZnVuY3Rpb24gdShlLHQsbil7dmFyIHI9ZS5nZXRBbm5vdGF0aW9ucygpLnNvcnQocy5jb21wYXJlUG9pbnRzKTtpZihyLmxlbmd0aCl7dmFyIGk9byhyLHtyb3c6dCxjb2x1bW46LTF9LHMuY29tcGFyZVBvaW50cyk7MD5pJiYoaT0taS0xKSxpPj1yLmxlbmd0aC0xP2k9bj4wPzA6ci5sZW5ndGgtMTowPT09aSYmMD5uJiYoaT1yLmxlbmd0aC0xKTt2YXIgdT1yW2ldO2lmKHUmJm4pe2lmKHUucm93PT09dCl7ZG8gdT1yW2krPW5dO3doaWxlKHUmJnUucm93PT09dCk7aWYoIXUpcmV0dXJuIHIuc2xpY2UoKX12YXIgYT1bXTt0PXUucm93O2RvIGFbMD5uPyJ1bnNoaWZ0IjoicHVzaCJdKHUpLHU9cltpKz1uXTt3aGlsZSh1JiZ1LnJvdz09dCk7cmV0dXJuIGEubGVuZ3RoJiZhfX19dmFyIHI9ZSgiYWNlL2xpbmVfd2lkZ2V0cyIpLkxpbmVXaWRnZXRzLGk9ZSgiYWNlL2xpYi9kb20iKSxzPWUoImFjZS9yYW5nZSIpLlJhbmdlO3Quc2hvd0Vycm9yTWFya2VyPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5zZXNzaW9uO24ud2lkZ2V0TWFuYWdlcnx8KG4ud2lkZ2V0TWFuYWdlcj1uZXcgcihuKSxuLndpZGdldE1hbmFnZXIuYXR0YWNoKGUpKTt2YXIgcz1lLmdldEN1cnNvclBvc2l0aW9uKCksbz1zLnJvdyxhPW4ubGluZVdpZGdldHMmJm4ubGluZVdpZGdldHNbb107YT9hLmRlc3Ryb3koKTpvLT10O3ZhciBsLGY9dShuLG8sdCk7aWYoZil7dmFyIGM9ZlswXTtzLmNvbHVtbj0oYy5wb3MmJiJudW1iZXIiIT10eXBlb2YgYy5jb2x1bW4/Yy5wb3Muc2M6Yy5jb2x1bW4pfHwwLHMucm93PWMucm93LGw9ZS5yZW5kZXJlci4kZ3V0dGVyTGF5ZXIuJGFubm90YXRpb25zW3Mucm93XX1lbHNle2lmKGEpcmV0dXJuO2w9e3RleHQ6WyJMb29rcyBnb29kISJdLGNsYXNzTmFtZToiYWNlX29rIn19ZS5zZXNzaW9uLnVuZm9sZChzLnJvdyksZS5zZWxlY3Rpb24ubW92ZVRvUG9zaXRpb24ocyk7dmFyIGg9e3JvdzpzLnJvdyxmaXhlZFdpZHRoOiEwLGNvdmVyR3V0dGVyOiEwLGVsOmkuY3JlYXRlRWxlbWVudCgiZGl2Iil9LHA9aC5lbC5hcHBlbmRDaGlsZChpLmNyZWF0ZUVsZW1lbnQoImRpdiIpKSxkPWguZWwuYXBwZW5kQ2hpbGQoaS5jcmVhdGVFbGVtZW50KCJkaXYiKSk7ZC5jbGFzc05hbWU9ImVycm9yX3dpZGdldF9hcnJvdyAiK2wuY2xhc3NOYW1lO3ZhciB2PWUucmVuZGVyZXIuJGN1cnNvckxheWVyLmdldFBpeGVsUG9zaXRpb24ocykubGVmdDtkLnN0eWxlLmxlZnQ9ditlLnJlbmRlcmVyLmd1dHRlcldpZHRoLTUrInB4IixoLmVsLmNsYXNzTmFtZT0iZXJyb3Jfd2lkZ2V0X3dyYXBwZXIiLHAuY2xhc3NOYW1lPSJlcnJvcl93aWRnZXQgIitsLmNsYXNzTmFtZSxwLmlubmVySFRNTD1sLnRleHQuam9pbigiPGJyPiIpLHAuYXBwZW5kQ2hpbGQoaS5jcmVhdGVFbGVtZW50KCJkaXYiKSk7dmFyIG09ZnVuY3Rpb24oZSx0LG4pe3JldHVybiAwIT09dHx8ImVzYyIhPT1uJiYicmV0dXJuIiE9PW4/dm9pZCAwOihoLmRlc3Ryb3koKSx7Y29tbWFuZDoibnVsbCJ9KX07aC5kZXN0cm95PWZ1bmN0aW9uKCl7ZS4kbW91c2VIYW5kbGVyLmlzTW91c2VQcmVzc2VkfHwoZS5rZXlCaW5kaW5nLnJlbW92ZUtleWJvYXJkSGFuZGxlcihtKSxuLndpZGdldE1hbmFnZXIucmVtb3ZlTGluZVdpZGdldChoKSxlLm9mZigiY2hhbmdlU2VsZWN0aW9uIixoLmRlc3Ryb3kpLGUub2ZmKCJjaGFuZ2VTZXNzaW9uIixoLmRlc3Ryb3kpLGUub2ZmKCJtb3VzZXVwIixoLmRlc3Ryb3kpLGUub2ZmKCJjaGFuZ2UiLGguZGVzdHJveSkpfSxlLmtleUJpbmRpbmcuYWRkS2V5Ym9hcmRIYW5kbGVyKG0pLGUub24oImNoYW5nZVNlbGVjdGlvbiIsaC5kZXN0cm95KSxlLm9uKCJjaGFuZ2VTZXNzaW9uIixoLmRlc3Ryb3kpLGUub24oIm1vdXNldXAiLGguZGVzdHJveSksZS5vbigiY2hhbmdlIixoLmRlc3Ryb3kpLGUuc2Vzc2lvbi53aWRnZXRNYW5hZ2VyLmFkZExpbmVXaWRnZXQoaCksaC5lbC5vbm1vdXNlZG93bj1lLmZvY3VzLmJpbmQoZSksZS5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldyhudWxsLC41LHtib3R0b206aC5lbC5vZmZzZXRIZWlnaHR9KX0saS5pbXBvcnRDc3NTdHJpbmcoIiAgICAuZXJyb3Jfd2lkZ2V0X3dyYXBwZXIgeyAgICAgICAgYmFja2dyb3VuZDogaW5oZXJpdDsgICAgICAgIGNvbG9yOiBpbmhlcml0OyAgICAgICAgYm9yZGVyOm5vbmUgICAgfSAgICAuZXJyb3Jfd2lkZ2V0IHsgICAgICAgIGJvcmRlci10b3A6IHNvbGlkIDJweDsgICAgICAgIGJvcmRlci1ib3R0b206IHNvbGlkIDJweDsgICAgICAgIG1hcmdpbjogNXB4IDA7ICAgICAgICBwYWRkaW5nOiAxMHB4IDQwcHg7ICAgICAgICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7ICAgIH0gICAgLmVycm9yX3dpZGdldC5hY2VfZXJyb3IsIC5lcnJvcl93aWRnZXRfYXJyb3cuYWNlX2Vycm9yeyAgICAgICAgYm9yZGVyLWNvbG9yOiAjZmY1YTVhICAgIH0gICAgLmVycm9yX3dpZGdldC5hY2Vfd2FybmluZywgLmVycm9yX3dpZGdldF9hcnJvdy5hY2Vfd2FybmluZ3sgICAgICAgIGJvcmRlci1jb2xvcjogI0YxRDgxNyAgICB9ICAgIC5lcnJvcl93aWRnZXQuYWNlX2luZm8sIC5lcnJvcl93aWRnZXRfYXJyb3cuYWNlX2luZm97ICAgICAgICBib3JkZXItY29sb3I6ICM1YTVhNWEgICAgfSAgICAuZXJyb3Jfd2lkZ2V0LmFjZV9vaywgLmVycm9yX3dpZGdldF9hcnJvdy5hY2Vfb2t7ICAgICAgICBib3JkZXItY29sb3I6ICM1YWFhNWEgICAgfSAgICAuZXJyb3Jfd2lkZ2V0X2Fycm93IHsgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsgICAgICAgIGJvcmRlcjogc29saWQgNXB4OyAgICAgICAgYm9yZGVyLXRvcC1jb2xvcjogdHJhbnNwYXJlbnQhaW1wb3J0YW50OyAgICAgICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudCFpbXBvcnRhbnQ7ICAgICAgICBib3JkZXItbGVmdC1jb2xvcjogdHJhbnNwYXJlbnQhaW1wb3J0YW50OyAgICAgICAgdG9wOiAtNXB4OyAgICB9IiwiIil9KSxkZWZpbmUoImFjZS9saWIvZml4b2xkYnJvd3NlcnMiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL3JlZ2V4cCIsImFjZS9saWIvZXM1LXNoaW0iXSxmdW5jdGlvbihlKXtlKCIuL3JlZ2V4cCIpLGUoIi4vZXM1LXNoaW0iKX0pLGRlZmluZSgiYWNlL2xpbmVfd2lkZ2V0cyIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL2xpYi9kb20iLCJhY2UvcmFuZ2UiXSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG8oZSl7dGhpcy5zZXNzaW9uPWUsdGhpcy5zZXNzaW9uLndpZGdldE1hbmFnZXI9dGhpcyx0aGlzLnNlc3Npb24uZ2V0Um93TGVuZ3RoPXRoaXMuZ2V0Um93TGVuZ3RoLHRoaXMuc2Vzc2lvbi4kZ2V0V2lkZ2V0U2NyZWVuTGVuZ3RoPXRoaXMuJGdldFdpZGdldFNjcmVlbkxlbmd0aCx0aGlzLnVwZGF0ZU9uQ2hhbmdlPXRoaXMudXBkYXRlT25DaGFuZ2UuYmluZCh0aGlzKSx0aGlzLnJlbmRlcldpZGdldHM9dGhpcy5yZW5kZXJXaWRnZXRzLmJpbmQodGhpcyksdGhpcy5tZWFzdXJlV2lkZ2V0cz10aGlzLm1lYXN1cmVXaWRnZXRzLmJpbmQodGhpcyksdGhpcy5zZXNzaW9uLl9jaGFuZ2VkV2lkZ2V0cz1bXSx0aGlzLmRldGFjaD10aGlzLmRldGFjaC5iaW5kKHRoaXMpLHRoaXMuc2Vzc2lvbi5vbigiY2hhbmdlIix0aGlzLnVwZGF0ZU9uQ2hhbmdlKX17dmFyIGk9KGUoIi4vbGliL29vcCIpLGUoIi4vbGliL2RvbSIpKTtlKCIuL3JhbmdlIikuUmFuZ2V9KGZ1bmN0aW9uKCl7dGhpcy5nZXRSb3dMZW5ndGg9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHQ9dGhpcy5saW5lV2lkZ2V0cz90aGlzLmxpbmVXaWRnZXRzW2VdJiZ0aGlzLmxpbmVXaWRnZXRzW2VdLnJvd0NvdW50fHwwOjAsdGhpcy4kdXNlV3JhcE1vZGUmJnRoaXMuJHdyYXBEYXRhW2VdP3RoaXMuJHdyYXBEYXRhW2VdLmxlbmd0aCsxK3Q6MSt0fSx0aGlzLiRnZXRXaWRnZXRTY3JlZW5MZW5ndGg9ZnVuY3Rpb24oKXt2YXIgZT0wO3JldHVybiB0aGlzLmxpbmVXaWRnZXRzLmZvckVhY2goZnVuY3Rpb24odCl7dCYmdC5yb3dDb3VudCYmKGUrPXQucm93Q291bnQpfSksZX0sdGhpcy5hdHRhY2g9ZnVuY3Rpb24oZSl7ZS53aWRnZXRNYW5hZ2VyJiZlLndpZGdldE1hbmFnZXIhPXRoaXMmJmUud2lkZ2V0TWFuYWdlci5kZXRhY2goKSx0aGlzLmVkaXRvciE9ZSYmKHRoaXMuZGV0YWNoKCksdGhpcy5lZGl0b3I9ZSx0aGlzLmVkaXRvci5vbigiY2hhbmdlU2Vzc2lvbiIsdGhpcy5kZXRhY2gpLGUud2lkZ2V0TWFuYWdlcj10aGlzLGUuc2V0T3B0aW9uKCJlbmFibGVMaW5lV2lkZ2V0cyIsITApLGUucmVuZGVyZXIub24oImJlZm9yZVJlbmRlciIsdGhpcy5tZWFzdXJlV2lkZ2V0cyksZS5yZW5kZXJlci5vbigiYWZ0ZXJSZW5kZXIiLHRoaXMucmVuZGVyV2lkZ2V0cykpfSx0aGlzLmRldGFjaD1mdW5jdGlvbihlKXtpZighZXx8ZS5zZXNzaW9uIT10aGlzLnNlc3Npb24pe3ZhciB0PXRoaXMuZWRpdG9yO2lmKHQpe3Qub2ZmKCJjaGFuZ2VTZXNzaW9uIix0aGlzLmRldGFjaCksdGhpcy5lZGl0b3I9bnVsbCx0LndpZGdldE1hbmFnZXI9bnVsbCx0LnJlbmRlcmVyLm9mZigiYmVmb3JlUmVuZGVyIix0aGlzLm1lYXN1cmVXaWRnZXRzKSx0LnJlbmRlcmVyLm9mZigiYWZ0ZXJSZW5kZXIiLHRoaXMucmVuZGVyV2lkZ2V0cyk7dmFyIG49dGhpcy5zZXNzaW9uLmxpbmVXaWRnZXRzO24mJm4uZm9yRWFjaChmdW5jdGlvbihlKXtlJiZlLmVsJiZlLmVsLnBhcmVudE5vZGUmJihlLl9pbkRvY3VtZW50PSExLGUuZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlLmVsKSl9KX19fSx0aGlzLnVwZGF0ZU9uQ2hhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0cztpZih0KXt2YXIgbj1lLmRhdGEscj1uLnJhbmdlLGk9ci5zdGFydC5yb3cscz1yLmVuZC5yb3ctaTtpZigwIT09cylpZigicmVtb3ZlVGV4dCI9PW4uYWN0aW9ufHwicmVtb3ZlTGluZXMiPT1uLmFjdGlvbil7dmFyIG89dC5zcGxpY2UoaSsxLHMpO28uZm9yRWFjaChmdW5jdGlvbihlKXtlJiZ0aGlzLnJlbW92ZUxpbmVXaWRnZXQoZSl9LHRoaXMpLHRoaXMuJHVwZGF0ZVJvd3MoKX1lbHNle3ZhciB1PW5ldyBBcnJheShzKTt1LnVuc2hpZnQoaSwwKSx0LnNwbGljZS5hcHBseSh0LHUpLHRoaXMuJHVwZGF0ZVJvd3MoKX19fSx0aGlzLiR1cGRhdGVSb3dzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZXNzaW9uLmxpbmVXaWRnZXRzO2lmKGUpe3ZhciB0PSEwO2UuZm9yRWFjaChmdW5jdGlvbihlLG4pe2UmJih0PSExLGUucm93PW4pfSksdCYmKHRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0cz1udWxsKX19LHRoaXMuYWRkTGluZVdpZGdldD1mdW5jdGlvbihlKXt0aGlzLnNlc3Npb24ubGluZVdpZGdldHN8fCh0aGlzLnNlc3Npb24ubGluZVdpZGdldHM9bmV3IEFycmF5KHRoaXMuc2Vzc2lvbi5nZXRMZW5ndGgoKSkpLHRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0c1tlLnJvd109ZTt2YXIgdD10aGlzLmVkaXRvci5yZW5kZXJlcjtyZXR1cm4gZS5odG1sJiYhZS5lbCYmKGUuZWw9aS5jcmVhdGVFbGVtZW50KCJkaXYiKSxlLmVsLmlubmVySFRNTD1lLmh0bWwpLGUuZWwmJihpLmFkZENzc0NsYXNzKGUuZWwsImFjZV9saW5lV2lkZ2V0Q29udGFpbmVyIiksZS5lbC5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLGUuZWwuc3R5bGUuekluZGV4PTUsdC5jb250YWluZXIuYXBwZW5kQ2hpbGQoZS5lbCksZS5faW5Eb2N1bWVudD0hMCksZS5jb3Zlckd1dHRlcnx8KGUuZWwuc3R5bGUuekluZGV4PTMpLGUucGl4ZWxIZWlnaHR8fChlLnBpeGVsSGVpZ2h0PWUuZWwub2Zmc2V0SGVpZ2h0KSxudWxsPT1lLnJvd0NvdW50JiYoZS5yb3dDb3VudD1lLnBpeGVsSGVpZ2h0L3QubGF5ZXJDb25maWcubGluZUhlaWdodCksdGhpcy5zZXNzaW9uLl9lbWl0KCJjaGFuZ2VGb2xkIix7ZGF0YTp7c3RhcnQ6e3JvdzplLnJvd319fSksdGhpcy4kdXBkYXRlUm93cygpLHRoaXMucmVuZGVyV2lkZ2V0cyhudWxsLHQpLGV9LHRoaXMucmVtb3ZlTGluZVdpZGdldD1mdW5jdGlvbihlKXtpZihlLl9pbkRvY3VtZW50PSExLGUuZWwmJmUuZWwucGFyZW50Tm9kZSYmZS5lbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUuZWwpLGUuZWRpdG9yJiZlLmVkaXRvci5kZXN0cm95KXRyeXtlLmVkaXRvci5kZXN0cm95KCl9Y2F0Y2godCl7fXRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0cyYmKHRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0c1tlLnJvd109dm9pZCAwKSx0aGlzLnNlc3Npb24uX2VtaXQoImNoYW5nZUZvbGQiLHtkYXRhOntzdGFydDp7cm93OmUucm93fX19KSx0aGlzLiR1cGRhdGVSb3dzKCl9LHRoaXMub25XaWRnZXRDaGFuZ2VkPWZ1bmN0aW9uKGUpe3RoaXMuc2Vzc2lvbi5fY2hhbmdlZFdpZGdldHMucHVzaChlKSx0aGlzLmVkaXRvciYmdGhpcy5lZGl0b3IucmVuZGVyZXIudXBkYXRlRnVsbCgpfSx0aGlzLm1lYXN1cmVXaWRnZXRzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5zZXNzaW9uLl9jaGFuZ2VkV2lkZ2V0cyxyPXQubGF5ZXJDb25maWc7aWYobiYmbi5sZW5ndGgpe2Zvcih2YXIgaT0xLzAscz0wO3M8bi5sZW5ndGg7cysrKXt2YXIgbz1uW3NdO28uX2luRG9jdW1lbnR8fChvLl9pbkRvY3VtZW50PSEwLHQuY29udGFpbmVyLmFwcGVuZENoaWxkKG8uZWwpKSxvLmg9by5lbC5vZmZzZXRIZWlnaHQsby5maXhlZFdpZHRofHwoby53PW8uZWwub2Zmc2V0V2lkdGgsby5zY3JlZW5XaWR0aD1NYXRoLmNlaWwoby53L3IuY2hhcmFjdGVyV2lkdGgpKTt2YXIgdT1vLmgvci5saW5lSGVpZ2h0O28uY292ZXJMaW5lJiYodS09dGhpcy5zZXNzaW9uLmdldFJvd0xpbmVDb3VudChvLnJvdyksMD51JiYodT0wKSksby5yb3dDb3VudCE9dSYmKG8ucm93Q291bnQ9dSxvLnJvdzxpJiYoaT1vLnJvdykpfTEvMCE9aSYmKHRoaXMuc2Vzc2lvbi5fZW1pdCgiY2hhbmdlRm9sZCIse2RhdGE6e3N0YXJ0Ontyb3c6aX19fSksdGhpcy5zZXNzaW9uLmxpbmVXaWRnZXRXaWR0aD1udWxsKSx0aGlzLnNlc3Npb24uX2NoYW5nZWRXaWRnZXRzPVtdCn19LHRoaXMucmVuZGVyV2lkZ2V0cz1mdW5jdGlvbihlLHQpe3ZhciBuPXQubGF5ZXJDb25maWcscj10aGlzLnNlc3Npb24ubGluZVdpZGdldHM7aWYocil7Zm9yKHZhciBpPU1hdGgubWluKHRoaXMuZmlyc3RSb3csbi5maXJzdFJvdykscz1NYXRoLm1heCh0aGlzLmxhc3RSb3csbi5sYXN0Um93LHIubGVuZ3RoKTtpPjAmJiFyW2ldOylpLS07dGhpcy5maXJzdFJvdz1uLmZpcnN0Um93LHRoaXMubGFzdFJvdz1uLmxhc3RSb3csdC4kY3Vyc29yTGF5ZXIuY29uZmlnPW47Zm9yKHZhciBvPWk7cz49bztvKyspe3ZhciB1PXJbb107aWYodSYmdS5lbCl7dS5faW5Eb2N1bWVudHx8KHUuX2luRG9jdW1lbnQ9ITAsdC5jb250YWluZXIuYXBwZW5kQ2hpbGQodS5lbCkpO3ZhciBhPXQuJGN1cnNvckxheWVyLmdldFBpeGVsUG9zaXRpb24oe3JvdzpvLGNvbHVtbjowfSwhMCkudG9wO3UuY292ZXJMaW5lfHwoYSs9bi5saW5lSGVpZ2h0KnRoaXMuc2Vzc2lvbi5nZXRSb3dMaW5lQ291bnQodS5yb3cpKSx1LmVsLnN0eWxlLnRvcD1hLW4ub2Zmc2V0KyJweCI7dmFyIGY9dS5jb3Zlckd1dHRlcj8wOnQuZ3V0dGVyV2lkdGg7dS5maXhlZFdpZHRofHwoZi09dC5zY3JvbGxMZWZ0KSx1LmVsLnN0eWxlLmxlZnQ9ZisicHgiLHUuZWwuc3R5bGUucmlnaHQ9dS5maXhlZFdpZHRoP3Quc2Nyb2xsQmFyLmdldFdpZHRoKCkrInB4IjoiIn19fX19KS5jYWxsKG8ucHJvdG90eXBlKSx0LkxpbmVXaWRnZXRzPW99KSxkZWZpbmUoImFjZS9kb2N1bWVudCIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL2xpYi9ldmVudF9lbWl0dGVyIiwiYWNlL3JhbmdlIiwiYWNlL2FuY2hvciJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSgiLi9saWIvb29wIiksaT1lKCIuL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyLHM9ZSgiLi9yYW5nZSIpLlJhbmdlLG89ZSgiLi9hbmNob3IiKS5BbmNob3IsdT1mdW5jdGlvbihlKXt0aGlzLiRsaW5lcz1bXSwwPT09ZS5sZW5ndGg/dGhpcy4kbGluZXM9WyIiXTpBcnJheS5pc0FycmF5KGUpP3RoaXMuX2luc2VydExpbmVzKDAsZSk6dGhpcy5pbnNlcnQoe3JvdzowLGNvbHVtbjowfSxlKX07KGZ1bmN0aW9uKCl7ci5pbXBsZW1lbnQodGhpcyxpKSx0aGlzLnNldFZhbHVlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0TGVuZ3RoKCk7dGhpcy5yZW1vdmUobmV3IHMoMCwwLHQsdGhpcy5nZXRMaW5lKHQtMSkubGVuZ3RoKSksdGhpcy5pbnNlcnQoe3JvdzowLGNvbHVtbjowfSxlKX0sdGhpcy5nZXRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEFsbExpbmVzKCkuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSl9LHRoaXMuY3JlYXRlQW5jaG9yPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBvKHRoaXMsZSx0KX0sdGhpcy4kc3BsaXQ9MD09PSJhYWEiLnNwbGl0KC9hLykubGVuZ3RoP2Z1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1xyXG58XHIvZywiXG4iKS5zcGxpdCgiXG4iKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3BsaXQoL1xyXG58XHJ8XG4vKX0sdGhpcy4kZGV0ZWN0TmV3TGluZT1mdW5jdGlvbihlKXt2YXIgdD1lLm1hdGNoKC9eLio/KFxyXG58XHJ8XG4pL20pO3RoaXMuJGF1dG9OZXdMaW5lPXQ/dFsxXToiXG4iLHRoaXMuX3NpZ25hbCgiY2hhbmdlTmV3TGluZU1vZGUiKX0sdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyPWZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuJG5ld0xpbmVNb2RlKXtjYXNlIndpbmRvd3MiOnJldHVybiJcclxuIjtjYXNlInVuaXgiOnJldHVybiJcbiI7ZGVmYXVsdDpyZXR1cm4gdGhpcy4kYXV0b05ld0xpbmV8fCJcbiJ9fSx0aGlzLiRhdXRvTmV3TGluZT0iIix0aGlzLiRuZXdMaW5lTW9kZT0iYXV0byIsdGhpcy5zZXROZXdMaW5lTW9kZT1mdW5jdGlvbihlKXt0aGlzLiRuZXdMaW5lTW9kZSE9PWUmJih0aGlzLiRuZXdMaW5lTW9kZT1lLHRoaXMuX3NpZ25hbCgiY2hhbmdlTmV3TGluZU1vZGUiKSl9LHRoaXMuZ2V0TmV3TGluZU1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kbmV3TGluZU1vZGV9LHRoaXMuaXNOZXdMaW5lPWZ1bmN0aW9uKGUpe3JldHVybiJcclxuIj09ZXx8IlxyIj09ZXx8IlxuIj09ZX0sdGhpcy5nZXRMaW5lPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLiRsaW5lc1tlXXx8IiJ9LHRoaXMuZ2V0TGluZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy4kbGluZXMuc2xpY2UoZSx0KzEpfSx0aGlzLmdldEFsbExpbmVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TGluZXMoMCx0aGlzLmdldExlbmd0aCgpKX0sdGhpcy5nZXRMZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kbGluZXMubGVuZ3RofSx0aGlzLmdldFRleHRSYW5nZT1mdW5jdGlvbihlKXtpZihlLnN0YXJ0LnJvdz09ZS5lbmQucm93KXJldHVybiB0aGlzLmdldExpbmUoZS5zdGFydC5yb3cpLnN1YnN0cmluZyhlLnN0YXJ0LmNvbHVtbixlLmVuZC5jb2x1bW4pO3ZhciB0PXRoaXMuZ2V0TGluZXMoZS5zdGFydC5yb3csZS5lbmQucm93KTt0WzBdPSh0WzBdfHwiIikuc3Vic3RyaW5nKGUuc3RhcnQuY29sdW1uKTt2YXIgbj10Lmxlbmd0aC0xO3JldHVybiBlLmVuZC5yb3ctZS5zdGFydC5yb3c9PW4mJih0W25dPXRbbl0uc3Vic3RyaW5nKDAsZS5lbmQuY29sdW1uKSksdC5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKX0sdGhpcy4kY2xpcFBvc2l0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0TGVuZ3RoKCk7cmV0dXJuIGUucm93Pj10PyhlLnJvdz1NYXRoLm1heCgwLHQtMSksZS5jb2x1bW49dGhpcy5nZXRMaW5lKHQtMSkubGVuZ3RoKTplLnJvdzwwJiYoZS5yb3c9MCksZX0sdGhpcy5pbnNlcnQ9ZnVuY3Rpb24oZSx0KXtpZighdHx8MD09PXQubGVuZ3RoKXJldHVybiBlO2U9dGhpcy4kY2xpcFBvc2l0aW9uKGUpLHRoaXMuZ2V0TGVuZ3RoKCk8PTEmJnRoaXMuJGRldGVjdE5ld0xpbmUodCk7dmFyIG49dGhpcy4kc3BsaXQodCkscj1uLnNwbGljZSgwLDEpWzBdLGk9MD09bi5sZW5ndGg/bnVsbDpuLnNwbGljZShuLmxlbmd0aC0xLDEpWzBdO3JldHVybiBlPXRoaXMuaW5zZXJ0SW5MaW5lKGUsciksbnVsbCE9PWkmJihlPXRoaXMuaW5zZXJ0TmV3TGluZShlKSxlPXRoaXMuX2luc2VydExpbmVzKGUucm93LG4pLGU9dGhpcy5pbnNlcnRJbkxpbmUoZSxpfHwiIikpLGV9LHRoaXMuaW5zZXJ0TGluZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT49dGhpcy5nZXRMZW5ndGgoKT90aGlzLmluc2VydCh7cm93OmUsY29sdW1uOjB9LCJcbiIrdC5qb2luKCJcbiIpKTp0aGlzLl9pbnNlcnRMaW5lcyhNYXRoLm1heChlLDApLHQpfSx0aGlzLl9pbnNlcnRMaW5lcz1mdW5jdGlvbihlLHQpe2lmKDA9PXQubGVuZ3RoKXJldHVybntyb3c6ZSxjb2x1bW46MH07Zm9yKDt0Lmxlbmd0aD42MTQ0MDspe3ZhciBuPXRoaXMuX2luc2VydExpbmVzKGUsdC5zbGljZSgwLDYxNDQwKSk7dD10LnNsaWNlKDYxNDQwKSxlPW4ucm93fXZhciByPVtlLDBdO3IucHVzaC5hcHBseShyLHQpLHRoaXMuJGxpbmVzLnNwbGljZS5hcHBseSh0aGlzLiRsaW5lcyxyKTt2YXIgaT1uZXcgcyhlLDAsZSt0Lmxlbmd0aCwwKSxvPXthY3Rpb246Imluc2VydExpbmVzIixyYW5nZTppLGxpbmVzOnR9O3JldHVybiB0aGlzLl9zaWduYWwoImNoYW5nZSIse2RhdGE6b30pLGkuZW5kfSx0aGlzLmluc2VydE5ld0xpbmU9ZnVuY3Rpb24oZSl7ZT10aGlzLiRjbGlwUG9zaXRpb24oZSk7dmFyIHQ9dGhpcy4kbGluZXNbZS5yb3ddfHwiIjt0aGlzLiRsaW5lc1tlLnJvd109dC5zdWJzdHJpbmcoMCxlLmNvbHVtbiksdGhpcy4kbGluZXMuc3BsaWNlKGUucm93KzEsMCx0LnN1YnN0cmluZyhlLmNvbHVtbix0Lmxlbmd0aCkpO3ZhciBuPXtyb3c6ZS5yb3crMSxjb2x1bW46MH0scj17YWN0aW9uOiJpbnNlcnRUZXh0IixyYW5nZTpzLmZyb21Qb2ludHMoZSxuKSx0ZXh0OnRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpfTtyZXR1cm4gdGhpcy5fc2lnbmFsKCJjaGFuZ2UiLHtkYXRhOnJ9KSxufSx0aGlzLmluc2VydEluTGluZT1mdW5jdGlvbihlLHQpe2lmKDA9PXQubGVuZ3RoKXJldHVybiBlO3ZhciBuPXRoaXMuJGxpbmVzW2Uucm93XXx8IiI7dGhpcy4kbGluZXNbZS5yb3ddPW4uc3Vic3RyaW5nKDAsZS5jb2x1bW4pK3Qrbi5zdWJzdHJpbmcoZS5jb2x1bW4pO3ZhciByPXtyb3c6ZS5yb3csY29sdW1uOmUuY29sdW1uK3QubGVuZ3RofSxpPXthY3Rpb246Imluc2VydFRleHQiLHJhbmdlOnMuZnJvbVBvaW50cyhlLHIpLHRleHQ6dH07cmV0dXJuIHRoaXMuX3NpZ25hbCgiY2hhbmdlIix7ZGF0YTppfSkscn0sdGhpcy5yZW1vdmU9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHN8fChlPXMuZnJvbVBvaW50cyhlLnN0YXJ0LGUuZW5kKSksZS5zdGFydD10aGlzLiRjbGlwUG9zaXRpb24oZS5zdGFydCksZS5lbmQ9dGhpcy4kY2xpcFBvc2l0aW9uKGUuZW5kKSxlLmlzRW1wdHkoKSlyZXR1cm4gZS5zdGFydDt2YXIgdD1lLnN0YXJ0LnJvdyxuPWUuZW5kLnJvdztpZihlLmlzTXVsdGlMaW5lKCkpe3ZhciByPTA9PWUuc3RhcnQuY29sdW1uP3Q6dCsxLGk9bi0xO2UuZW5kLmNvbHVtbj4wJiZ0aGlzLnJlbW92ZUluTGluZShuLDAsZS5lbmQuY29sdW1uKSxpPj1yJiZ0aGlzLl9yZW1vdmVMaW5lcyhyLGkpLHIhPXQmJih0aGlzLnJlbW92ZUluTGluZSh0LGUuc3RhcnQuY29sdW1uLHRoaXMuZ2V0TGluZSh0KS5sZW5ndGgpLHRoaXMucmVtb3ZlTmV3TGluZShlLnN0YXJ0LnJvdykpfWVsc2UgdGhpcy5yZW1vdmVJbkxpbmUodCxlLnN0YXJ0LmNvbHVtbixlLmVuZC5jb2x1bW4pO3JldHVybiBlLnN0YXJ0fSx0aGlzLnJlbW92ZUluTGluZT1mdW5jdGlvbihlLHQsbil7aWYodCE9bil7dmFyIHI9bmV3IHMoZSx0LGUsbiksaT10aGlzLmdldExpbmUoZSksbz1pLnN1YnN0cmluZyh0LG4pLHU9aS5zdWJzdHJpbmcoMCx0KStpLnN1YnN0cmluZyhuLGkubGVuZ3RoKTt0aGlzLiRsaW5lcy5zcGxpY2UoZSwxLHUpO3ZhciBhPXthY3Rpb246InJlbW92ZVRleHQiLHJhbmdlOnIsdGV4dDpvfTtyZXR1cm4gdGhpcy5fc2lnbmFsKCJjaGFuZ2UiLHtkYXRhOmF9KSxyLnN0YXJ0fX0sdGhpcy5yZW1vdmVMaW5lcz1mdW5jdGlvbihlLHQpe3JldHVybiAwPmV8fHQ+PXRoaXMuZ2V0TGVuZ3RoKCk/dGhpcy5yZW1vdmUobmV3IHMoZSwwLHQrMSwwKSk6dGhpcy5fcmVtb3ZlTGluZXMoZSx0KX0sdGhpcy5fcmVtb3ZlTGluZXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgcyhlLDAsdCsxLDApLHI9dGhpcy4kbGluZXMuc3BsaWNlKGUsdC1lKzEpLGk9e2FjdGlvbjoicmVtb3ZlTGluZXMiLHJhbmdlOm4sbmw6dGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCksbGluZXM6cn07cmV0dXJuIHRoaXMuX3NpZ25hbCgiY2hhbmdlIix7ZGF0YTppfSkscn0sdGhpcy5yZW1vdmVOZXdMaW5lPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0TGluZShlKSxuPXRoaXMuZ2V0TGluZShlKzEpLHI9bmV3IHMoZSx0Lmxlbmd0aCxlKzEsMCksaT10K247dGhpcy4kbGluZXMuc3BsaWNlKGUsMixpKTt2YXIgbz17YWN0aW9uOiJyZW1vdmVUZXh0IixyYW5nZTpyLHRleHQ6dGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCl9O3RoaXMuX3NpZ25hbCgiY2hhbmdlIix7ZGF0YTpvfSl9LHRoaXMucmVwbGFjZT1mdW5jdGlvbihlLHQpe2lmKGUgaW5zdGFuY2VvZiBzfHwoZT1zLmZyb21Qb2ludHMoZS5zdGFydCxlLmVuZCkpLDA9PXQubGVuZ3RoJiZlLmlzRW1wdHkoKSlyZXR1cm4gZS5zdGFydDtpZih0PT10aGlzLmdldFRleHRSYW5nZShlKSlyZXR1cm4gZS5lbmQ7aWYodGhpcy5yZW1vdmUoZSksdCl2YXIgbj10aGlzLmluc2VydChlLnN0YXJ0LHQpO2Vsc2Ugbj1lLnN0YXJ0O3JldHVybiBufSx0aGlzLmFwcGx5RGVsdGFzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdLHI9cy5mcm9tUG9pbnRzKG4ucmFuZ2Uuc3RhcnQsbi5yYW5nZS5lbmQpOyJpbnNlcnRMaW5lcyI9PW4uYWN0aW9uP3RoaXMuaW5zZXJ0TGluZXMoci5zdGFydC5yb3csbi5saW5lcyk6Imluc2VydFRleHQiPT1uLmFjdGlvbj90aGlzLmluc2VydChyLnN0YXJ0LG4udGV4dCk6InJlbW92ZUxpbmVzIj09bi5hY3Rpb24/dGhpcy5fcmVtb3ZlTGluZXMoci5zdGFydC5yb3csci5lbmQucm93LTEpOiJyZW1vdmVUZXh0Ij09bi5hY3Rpb24mJnRoaXMucmVtb3ZlKHIpfX0sdGhpcy5yZXZlcnREZWx0YXM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUubGVuZ3RoLTE7dD49MDt0LS0pe3ZhciBuPWVbdF0scj1zLmZyb21Qb2ludHMobi5yYW5nZS5zdGFydCxuLnJhbmdlLmVuZCk7Imluc2VydExpbmVzIj09bi5hY3Rpb24/dGhpcy5fcmVtb3ZlTGluZXMoci5zdGFydC5yb3csci5lbmQucm93LTEpOiJpbnNlcnRUZXh0Ij09bi5hY3Rpb24/dGhpcy5yZW1vdmUocik6InJlbW92ZUxpbmVzIj09bi5hY3Rpb24/dGhpcy5faW5zZXJ0TGluZXMoci5zdGFydC5yb3csbi5saW5lcyk6InJlbW92ZVRleHQiPT1uLmFjdGlvbiYmdGhpcy5pbnNlcnQoci5zdGFydCxuLnRleHQpfX0sdGhpcy5pbmRleFRvUG9zaXRpb249ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dGhpcy4kbGluZXN8fHRoaXMuZ2V0QWxsTGluZXMoKSxyPXRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aCxpPXR8fDAscz1uLmxlbmd0aDtzPmk7aSsrKWlmKGUtPW5baV0ubGVuZ3RoK3IsMD5lKXJldHVybntyb3c6aSxjb2x1bW46ZStuW2ldLmxlbmd0aCtyfTtyZXR1cm57cm93OnMtMSxjb2x1bW46bltzLTFdLmxlbmd0aH19LHRoaXMucG9zaXRpb25Ub0luZGV4PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMuJGxpbmVzfHx0aGlzLmdldEFsbExpbmVzKCkscj10aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKS5sZW5ndGgsaT0wLHM9TWF0aC5taW4oZS5yb3csbi5sZW5ndGgpLG89dHx8MDtzPm87KytvKWkrPW5bb10ubGVuZ3RoK3I7cmV0dXJuIGkrZS5jb2x1bW59fSkuY2FsbCh1LnByb3RvdHlwZSksdC5Eb2N1bWVudD11fSksZnVuY3Rpb24oKXt3aW5kb3cucmVxdWlyZShbImFjZS9hY2UiXSxmdW5jdGlvbihlKXtlJiZlLmNvbmZpZy5pbml0KCEwKSx3aW5kb3cuYWNlfHwod2luZG93LmFjZT1lKTtmb3IodmFyIHQgaW4gZSllLmhhc093blByb3BlcnR5KHQpJiYoYWNlW3RdPWVbdF0pfSl9KCksZGVmaW5lKCJhY2UvdGhlbWUvbW9ub2thaSIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvZG9tIl0sZnVuY3Rpb24oZSx0KXt0LmlzRGFyaz0hMCx0LmNzc0NsYXNzPSJhY2UtbW9ub2thaSIsdC5jc3NUZXh0PSIuYWNlLW1vbm9rYWkgLmFjZV9ndXR0ZXIge2JhY2tncm91bmQ6ICMyRjMxMjk7Y29sb3I6ICM4RjkwOEF9LmFjZS1tb25va2FpIC5hY2VfcHJpbnQtbWFyZ2luIHt3aWR0aDogMXB4O2JhY2tncm91bmQ6ICM1NTU2NTF9LmFjZS1tb25va2FpIHtiYWNrZ3JvdW5kLWNvbG9yOiAjMjcyODIyO2NvbG9yOiAjRjhGOEYyfS5hY2UtbW9ub2thaSAuYWNlX2N1cnNvciB7Y29sb3I6ICNGOEY4RjB9LmFjZS1tb25va2FpIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0aW9uIHtiYWNrZ3JvdW5kOiAjNDk0ODNFfS5hY2UtbW9ub2thaS5hY2VfbXVsdGlzZWxlY3QgLmFjZV9zZWxlY3Rpb24uYWNlX3N0YXJ0IHtib3gtc2hhZG93OiAwIDAgM3B4IDBweCAjMjcyODIyO2JvcmRlci1yYWRpdXM6IDJweH0uYWNlLW1vbm9rYWkgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zdGVwIHtiYWNrZ3JvdW5kOiByZ2IoMTAyLCA4MiwgMCl9LmFjZS1tb25va2FpIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYnJhY2tldCB7bWFyZ2luOiAtMXB4IDAgMCAtMXB4O2JvcmRlcjogMXB4IHNvbGlkICM0OTQ4M0V9LmFjZS1tb25va2FpIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYWN0aXZlLWxpbmUge2JhY2tncm91bmQ6ICMyMDIwMjB9LmFjZS1tb25va2FpIC5hY2VfZ3V0dGVyLWFjdGl2ZS1saW5lIHtiYWNrZ3JvdW5kLWNvbG9yOiAjMjcyNzI3fS5hY2UtbW9ub2thaSAuYWNlX21hcmtlci1sYXllciAuYWNlX3NlbGVjdGVkLXdvcmQge2JvcmRlcjogMXB4IHNvbGlkICM0OTQ4M0V9LmFjZS1tb25va2FpIC5hY2VfaW52aXNpYmxlIHtjb2xvcjogIzUyNTI0ZH0uYWNlLW1vbm9rYWkgLmFjZV9lbnRpdHkuYWNlX25hbWUuYWNlX3RhZywuYWNlLW1vbm9rYWkgLmFjZV9rZXl3b3JkLC5hY2UtbW9ub2thaSAuYWNlX21ldGEuYWNlX3RhZywuYWNlLW1vbm9rYWkgLmFjZV9zdG9yYWdlIHtjb2xvcjogI0Y5MjY3Mn0uYWNlLW1vbm9rYWkgLmFjZV9wdW5jdHVhdGlvbiwuYWNlLW1vbm9rYWkgLmFjZV9wdW5jdHVhdGlvbi5hY2VfdGFnIHtjb2xvcjogI2ZmZn0uYWNlLW1vbm9rYWkgLmFjZV9jb25zdGFudC5hY2VfY2hhcmFjdGVyLC5hY2UtbW9ub2thaSAuYWNlX2NvbnN0YW50LmFjZV9sYW5ndWFnZSwuYWNlLW1vbm9rYWkgLmFjZV9jb25zdGFudC5hY2VfbnVtZXJpYywuYWNlLW1vbm9rYWkgLmFjZV9jb25zdGFudC5hY2Vfb3RoZXIge2NvbG9yOiAjQUU4MUZGfS5hY2UtbW9ub2thaSAuYWNlX2ludmFsaWQge2NvbG9yOiAjRjhGOEYwO2JhY2tncm91bmQtY29sb3I6ICNGOTI2NzJ9LmFjZS1tb25va2FpIC5hY2VfaW52YWxpZC5hY2VfZGVwcmVjYXRlZCB7Y29sb3I6ICNGOEY4RjA7YmFja2dyb3VuZC1jb2xvcjogI0FFODFGRn0uYWNlLW1vbm9rYWkgLmFjZV9zdXBwb3J0LmFjZV9jb25zdGFudCwuYWNlLW1vbm9rYWkgLmFjZV9zdXBwb3J0LmFjZV9mdW5jdGlvbiB7Y29sb3I6ICM2NkQ5RUZ9LmFjZS1tb25va2FpIC5hY2VfZm9sZCB7YmFja2dyb3VuZC1jb2xvcjogI0E2RTIyRTtib3JkZXItY29sb3I6ICNGOEY4RjJ9LmFjZS1tb25va2FpIC5hY2Vfc3RvcmFnZS5hY2VfdHlwZSwuYWNlLW1vbm9rYWkgLmFjZV9zdXBwb3J0LmFjZV9jbGFzcywuYWNlLW1vbm9rYWkgLmFjZV9zdXBwb3J0LmFjZV90eXBlIHtmb250LXN0eWxlOiBpdGFsaWM7Y29sb3I6ICM2NkQ5RUZ9LmFjZS1tb25va2FpIC5hY2VfZW50aXR5LmFjZV9uYW1lLmFjZV9mdW5jdGlvbiwuYWNlLW1vbm9rYWkgLmFjZV9lbnRpdHkuYWNlX290aGVyLC5hY2UtbW9ub2thaSAuYWNlX2VudGl0eS5hY2Vfb3RoZXIuYWNlX2F0dHJpYnV0ZS1uYW1lLC5hY2UtbW9ub2thaSAuYWNlX3ZhcmlhYmxlIHtjb2xvcjogI0E2RTIyRX0uYWNlLW1vbm9rYWkgLmFjZV92YXJpYWJsZS5hY2VfcGFyYW1ldGVyIHtmb250LXN0eWxlOiBpdGFsaWM7Y29sb3I6ICNGRDk3MUZ9LmFjZS1tb25va2FpIC5hY2Vfc3RyaW5nIHtjb2xvcjogI0U2REI3NH0uYWNlLW1vbm9rYWkgLmFjZV9jb21tZW50IHtjb2xvcjogIzc1NzE1RX0uYWNlLW1vbm9rYWkgLmFjZV9pbmRlbnQtZ3VpZGUge2JhY2tncm91bmQ6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUNDQVlBQUFDWmdiWW5BQUFBRWtsRVFWUUltV1BRMEZEMFpYQnpkL3dQQUFqVkFveGVTZ05lQUFBQUFFbEZUa1N1UW1DQykgcmlnaHQgcmVwZWF0LXl9Ijt2YXIgcj1lKCIuLi9saWIvZG9tIik7ci5pbXBvcnRDc3NTdHJpbmcodC5jc3NUZXh0LHQuY3NzQ2xhc3MpfSksZGVmaW5lKCJhY2UvbW9kZS9qYXZhc2NyaXB0IixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9vb3AiLCJhY2UvbW9kZS90ZXh0IiwiYWNlL3Rva2VuaXplciIsImFjZS9tb2RlL2phdmFzY3JpcHRfaGlnaGxpZ2h0X3J1bGVzIiwiYWNlL21vZGUvbWF0Y2hpbmdfYnJhY2Vfb3V0ZGVudCIsImFjZS9yYW5nZSIsImFjZS93b3JrZXIvd29ya2VyX2NsaWVudCIsImFjZS9tb2RlL2JlaGF2aW91ci9jc3R5bGUiLCJhY2UvbW9kZS9mb2xkaW5nL2NzdHlsZSJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSgiLi4vbGliL29vcCIpLGk9ZSgiLi90ZXh0IikuTW9kZSxvPShlKCIuLi90b2tlbml6ZXIiKS5Ub2tlbml6ZXIsZSgiLi9qYXZhc2NyaXB0X2hpZ2hsaWdodF9ydWxlcyIpLkphdmFTY3JpcHRIaWdobGlnaHRSdWxlcyksdT1lKCIuL21hdGNoaW5nX2JyYWNlX291dGRlbnQiKS5NYXRjaGluZ0JyYWNlT3V0ZGVudCxmPShlKCIuLi9yYW5nZSIpLlJhbmdlLGUoIi4uL3dvcmtlci93b3JrZXJfY2xpZW50IikuV29ya2VyQ2xpZW50KSxsPWUoIi4vYmVoYXZpb3VyL2NzdHlsZSIpLkNzdHlsZUJlaGF2aW91cixjPWUoIi4vZm9sZGluZy9jc3R5bGUiKS5Gb2xkTW9kZSxoPWZ1bmN0aW9uKCl7dGhpcy5IaWdobGlnaHRSdWxlcz1vLHRoaXMuJG91dGRlbnQ9bmV3IHUsdGhpcy4kYmVoYXZpb3VyPW5ldyBsLHRoaXMuZm9sZGluZ1J1bGVzPW5ldyBjfTtyLmluaGVyaXRzKGgsaSksZnVuY3Rpb24oKXt0aGlzLmxpbmVDb21tZW50U3RhcnQ9Ii8vIix0aGlzLmJsb2NrQ29tbWVudD17c3RhcnQ6Ii8qIixlbmQ6IiovIn0sdGhpcy5nZXROZXh0TGluZUluZGVudD1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy4kZ2V0SW5kZW50KHQpLGk9dGhpcy5nZXRUb2tlbml6ZXIoKS5nZXRMaW5lVG9rZW5zKHQsZSkscz1pLnRva2VucyxvPWkuc3RhdGU7aWYocy5sZW5ndGgmJiJjb21tZW50Ij09c1tzLmxlbmd0aC0xXS50eXBlKXJldHVybiByO2lmKCJzdGFydCI9PWV8fCJub19yZWdleCI9PWUpe3ZhciB1PXQubWF0Y2goL14uKig/OlxiY2FzZVxiLipcOnxbXHtcKFxbXSlccyokLyk7dSYmKHIrPW4pfWVsc2UgaWYoImRvYy1zdGFydCI9PWUpe2lmKCJzdGFydCI9PW98fCJub19yZWdleCI9PW8pcmV0dXJuIiI7dmFyIHU9dC5tYXRjaCgvXlxzKihcLz8pXCovKTt1JiYodVsxXSYmKHIrPSIgIikscis9IiogIil9cmV0dXJuIHJ9LHRoaXMuY2hlY2tPdXRkZW50PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy4kb3V0ZGVudC5jaGVja091dGRlbnQodCxuKX0sdGhpcy5hdXRvT3V0ZGVudD1mdW5jdGlvbihlLHQsbil7dGhpcy4kb3V0ZGVudC5hdXRvT3V0ZGVudCh0LG4pfSx0aGlzLmNyZWF0ZVdvcmtlcj1mdW5jdGlvbihlKXt2YXIgdD1uZXcgZihbImFjZSJdLCJhY2UvbW9kZS9qYXZhc2NyaXB0X3dvcmtlciIsIkphdmFTY3JpcHRXb3JrZXIiKTtyZXR1cm4gdC5hdHRhY2hUb0RvY3VtZW50KGUuZ2V0RG9jdW1lbnQoKSksdC5vbigianNsaW50IixmdW5jdGlvbih0KXtlLnNldEFubm90YXRpb25zKHQuZGF0YSl9KSx0Lm9uKCJ0ZXJtaW5hdGUiLGZ1bmN0aW9uKCl7ZS5jbGVhckFubm90YXRpb25zKCl9KSx0fSx0aGlzLiRpZD0iYWNlL21vZGUvamF2YXNjcmlwdCJ9LmNhbGwoaC5wcm90b3R5cGUpLHQuTW9kZT1ofSksZGVmaW5lKCJhY2UvbW9kZS9qYXZhc2NyaXB0X2hpZ2hsaWdodF9ydWxlcyIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL21vZGUvZG9jX2NvbW1lbnRfaGlnaGxpZ2h0X3J1bGVzIiwiYWNlL21vZGUvdGV4dF9oaWdobGlnaHRfcnVsZXMiXSxmdW5jdGlvbihlLHQpe3ZhciByPWUoIi4uL2xpYi9vb3AiKSxpPWUoIi4vZG9jX2NvbW1lbnRfaGlnaGxpZ2h0X3J1bGVzIikuRG9jQ29tbWVudEhpZ2hsaWdodFJ1bGVzLHM9ZSgiLi90ZXh0X2hpZ2hsaWdodF9ydWxlcyIpLlRleHRIaWdobGlnaHRSdWxlcyxvPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jcmVhdGVLZXl3b3JkTWFwcGVyKHsidmFyaWFibGUubGFuZ3VhZ2UiOiJBcnJheXxCb29sZWFufERhdGV8RnVuY3Rpb258SXRlcmF0b3J8TnVtYmVyfE9iamVjdHxSZWdFeHB8U3RyaW5nfFByb3h5fE5hbWVzcGFjZXxRTmFtZXxYTUx8WE1MTGlzdHxBcnJheUJ1ZmZlcnxGbG9hdDMyQXJyYXl8RmxvYXQ2NEFycmF5fEludDE2QXJyYXl8SW50MzJBcnJheXxJbnQ4QXJyYXl8VWludDE2QXJyYXl8VWludDMyQXJyYXl8VWludDhBcnJheXxVaW50OENsYW1wZWRBcnJheXxFcnJvcnxFdmFsRXJyb3J8SW50ZXJuYWxFcnJvcnxSYW5nZUVycm9yfFJlZmVyZW5jZUVycm9yfFN0b3BJdGVyYXRpb258U3ludGF4RXJyb3J8VHlwZUVycm9yfFVSSUVycm9yfGRlY29kZVVSSXxkZWNvZGVVUklDb21wb25lbnR8ZW5jb2RlVVJJfGVuY29kZVVSSUNvbXBvbmVudHxldmFsfGlzRmluaXRlfGlzTmFOfHBhcnNlRmxvYXR8cGFyc2VJbnR8SlNPTnxNYXRofHRoaXN8YXJndW1lbnRzfHByb3RvdHlwZXx3aW5kb3d8ZG9jdW1lbnQiLGtleXdvcmQ6ImNvbnN0fHlpZWxkfGltcG9ydHxnZXR8c2V0fGJyZWFrfGNhc2V8Y2F0Y2h8Y29udGludWV8ZGVmYXVsdHxkZWxldGV8ZG98ZWxzZXxmaW5hbGx5fGZvcnxmdW5jdGlvbnxpZnxpbnxpbnN0YW5jZW9mfG5ld3xyZXR1cm58c3dpdGNofHRocm93fHRyeXx0eXBlb2Z8bGV0fHZhcnx3aGlsZXx3aXRofGRlYnVnZ2VyfF9fcGFyZW50X198X19jb3VudF9ffGVzY2FwZXx1bmVzY2FwZXx3aXRofF9fcHJvdG9fX3xjbGFzc3xlbnVtfGV4dGVuZHN8c3VwZXJ8ZXhwb3J0fGltcGxlbWVudHN8cHJpdmF0ZXxwdWJsaWN8aW50ZXJmYWNlfHBhY2thZ2V8cHJvdGVjdGVkfHN0YXRpYyIsInN0b3JhZ2UudHlwZSI6ImNvbnN0fGxldHx2YXJ8ZnVuY3Rpb24iLCJjb25zdGFudC5sYW5ndWFnZSI6Im51bGx8SW5maW5pdHl8TmFOfHVuZGVmaW5lZCIsInN1cHBvcnQuZnVuY3Rpb24iOiJhbGVydCIsImNvbnN0YW50Lmxhbmd1YWdlLmJvb2xlYW4iOiJ0cnVlfGZhbHNlIn0sImlkZW50aWZpZXIiKSx0PSJjYXNlfGRvfGVsc2V8ZmluYWxseXxpbnxpbnN0YW5jZW9mfHJldHVybnx0aHJvd3x0cnl8dHlwZW9mfHlpZWxkfHZvaWQiLG49IlthLXpBLVpcXCRfwqEt77+/XVthLXpBLVpcXGRcXCRfwqEt77+/XSpcXGIiLHI9IlxcXFwoPzp4WzAtOWEtZkEtRl17Mn18dVswLTlhLWZBLUZdezR9fFswLTJdWzAtN117MCwyfXwzWzAtNl1bMC03XT98MzdbMC03XT98WzQtN11bMC03XT98LikiO3RoaXMuJHJ1bGVzPXtub19yZWdleDpbe3Rva2VuOiJjb21tZW50IixyZWdleDoiXFwvXFwvIixuZXh0OiJsaW5lX2NvbW1lbnQifSxpLmdldFN0YXJ0UnVsZSgiZG9jLXN0YXJ0Iikse3Rva2VuOiJjb21tZW50IixyZWdleDovXC9cKi8sbmV4dDoiY29tbWVudCJ9LHt0b2tlbjoic3RyaW5nIixyZWdleDoiJyg/PS4pIixuZXh0OiJxc3RyaW5nIn0se3Rva2VuOiJzdHJpbmciLHJlZ2V4OiciKD89LiknLG5leHQ6InFxc3RyaW5nIn0se3Rva2VuOiJjb25zdGFudC5udW1lcmljIixyZWdleDovMFt4WF1bMC05YS1mQS1GXStcYi99LHt0b2tlbjoiY29uc3RhbnQubnVtZXJpYyIscmVnZXg6L1srLV0/XGQrKD86KD86XC5cZCopPyg/OltlRV1bKy1dP1xkKyk/KT9cYi99LHt0b2tlbjpbInN0b3JhZ2UudHlwZSIsInB1bmN0dWF0aW9uLm9wZXJhdG9yIiwic3VwcG9ydC5mdW5jdGlvbiIsInB1bmN0dWF0aW9uLm9wZXJhdG9yIiwiZW50aXR5Lm5hbWUuZnVuY3Rpb24iLCJ0ZXh0Iiwia2V5d29yZC5vcGVyYXRvciJdLHJlZ2V4OiIoIituKyIpKFxcLikocHJvdG90eXBlKShcXC4pKCIrbisiKShcXHMqKSg9KSIsbmV4dDoiZnVuY3Rpb25fYXJndW1lbnRzIn0se3Rva2VuOlsic3RvcmFnZS50eXBlIiwicHVuY3R1YXRpb24ub3BlcmF0b3IiLCJlbnRpdHkubmFtZS5mdW5jdGlvbiIsInRleHQiLCJrZXl3b3JkLm9wZXJhdG9yIiwidGV4dCIsInN0b3JhZ2UudHlwZSIsInRleHQiLCJwYXJlbi5scGFyZW4iXSxyZWdleDoiKCIrbisiKShcXC4pKCIrbisiKShcXHMqKSg9KShcXHMqKShmdW5jdGlvbikoXFxzKikoXFwoKSIsbmV4dDoiZnVuY3Rpb25fYXJndW1lbnRzIn0se3Rva2VuOlsiZW50aXR5Lm5hbWUuZnVuY3Rpb24iLCJ0ZXh0Iiwia2V5d29yZC5vcGVyYXRvciIsInRleHQiLCJzdG9yYWdlLnR5cGUiLCJ0ZXh0IiwicGFyZW4ubHBhcmVuIl0scmVnZXg6IigiK24rIikoXFxzKikoPSkoXFxzKikoZnVuY3Rpb24pKFxccyopKFxcKCkiLG5leHQ6ImZ1bmN0aW9uX2FyZ3VtZW50cyJ9LHt0b2tlbjpbInN0b3JhZ2UudHlwZSIsInB1bmN0dWF0aW9uLm9wZXJhdG9yIiwiZW50aXR5Lm5hbWUuZnVuY3Rpb24iLCJ0ZXh0Iiwia2V5d29yZC5vcGVyYXRvciIsInRleHQiLCJzdG9yYWdlLnR5cGUiLCJ0ZXh0IiwiZW50aXR5Lm5hbWUuZnVuY3Rpb24iLCJ0ZXh0IiwicGFyZW4ubHBhcmVuIl0scmVnZXg6IigiK24rIikoXFwuKSgiK24rIikoXFxzKikoPSkoXFxzKikoZnVuY3Rpb24pKFxccyspKFxcdyspKFxccyopKFxcKCkiLG5leHQ6ImZ1bmN0aW9uX2FyZ3VtZW50cyJ9LHt0b2tlbjpbInN0b3JhZ2UudHlwZSIsInRleHQiLCJlbnRpdHkubmFtZS5mdW5jdGlvbiIsInRleHQiLCJwYXJlbi5scGFyZW4iXSxyZWdleDoiKGZ1bmN0aW9uKShcXHMrKSgiK24rIikoXFxzKikoXFwoKSIsbmV4dDoiZnVuY3Rpb25fYXJndW1lbnRzIn0se3Rva2VuOlsiZW50aXR5Lm5hbWUuZnVuY3Rpb24iLCJ0ZXh0IiwicHVuY3R1YXRpb24ub3BlcmF0b3IiLCJ0ZXh0Iiwic3RvcmFnZS50eXBlIiwidGV4dCIsInBhcmVuLmxwYXJlbiJdLHJlZ2V4OiIoIituKyIpKFxccyopKDopKFxccyopKGZ1bmN0aW9uKShcXHMqKShcXCgpIixuZXh0OiJmdW5jdGlvbl9hcmd1bWVudHMifSx7dG9rZW46WyJ0ZXh0IiwidGV4dCIsInN0b3JhZ2UudHlwZSIsInRleHQiLCJwYXJlbi5scGFyZW4iXSxyZWdleDoiKDopKFxccyopKGZ1bmN0aW9uKShcXHMqKShcXCgpIixuZXh0OiJmdW5jdGlvbl9hcmd1bWVudHMifSx7dG9rZW46ImtleXdvcmQiLHJlZ2V4OiIoPzoiK3QrIilcXGIiLG5leHQ6InN0YXJ0In0se3Rva2VuOlsicHVuY3R1YXRpb24ub3BlcmF0b3IiLCJzdXBwb3J0LmZ1bmN0aW9uIl0scmVnZXg6LyhcLikocyg/OmgoPzppZnR8b3coPzpNb2QoPzplbGVzc0RpYWxvZ3xhbERpYWxvZyl8SGVscCkpfGNyb2xsKD86WHxCeSg/OlBhZ2VzfExpbmVzKT98WXxUbyk/fHQoPzpvcHxyaWtlKXxpKD86bnx6ZVRvQ29udGVudHxkZWJhcnxnblRleHQpfG9ydHx1KD86cHxiKD86c3RyKD86aW5nKT8pPyl8cGxpKD86Y2V8dCl8ZSg/Om5kfHQoPzpSZSg/OnNpemFibGV8cXVlc3RIZWFkZXIpfE0oPzppKD86bnV0ZXN8bGxpc2Vjb25kcyl8b250aCl8U2Vjb25kc3xIbyg/OnRLZXlzfHVycyl8WWVhcnxDdXJzb3J8VGltZSg/Om91dCk/fEludGVydmFsfFpPcHRpb25zfERhdGV8VVRDKD86TSg/OmkoPzpudXRlc3xsbGlzZWNvbmRzKXxvbnRoKXxTZWNvbmRzfEhvdXJzfERhdGV8RnVsbFllYXIpfEZ1bGxZZWFyfEFjdGl2ZSl8YXJjaCl8cXJ0fGxpY2V8YXZlUHJlZmVyZW5jZXN8bWFsbCl8aCg/Om9tZXxhbmRsZUV2ZW50KXxuYXZpZ2F0ZXxjKD86aGFyKD86Q29kZUF0fEF0KXxvKD86c3xuKD86Y2F0fHRleHR1YWx8ZmlybSl8bXBpbGUpfGVpbHxsZWFyKD86VGltZW91dHxJbnRlcnZhbCk/fGEoPzpwdHVyZUV2ZW50c3xsbCl8cmVhdGUoPzpTdHlsZVNoZWV0fFBvcHVwfEV2ZW50T2JqZWN0KSl8dCg/Om8oPzpHTVRTdHJpbmd8Uyg/OnRyaW5nfG91cmNlKXxVKD86VENTdHJpbmd8cHBlckNhc2UpfExvKD86Y2FsZVN0cmluZ3x3ZXJDYXNlKSl8ZXN0fGEoPzpufGludCg/OkVuYWJsZWQpPykpfGkoPzpzKD86TmFOfEZpbml0ZSl8bmRleE9mfHRhbGljcyl8ZCg/OmlzYWJsZUV4dGVybmFsQ2FwdHVyZXx1bXB8ZXRhY2hFdmVudCl8dSg/Om4oPzpzaGlmdHx0YWludHxlc2NhcGV8d2F0Y2gpfHBkYXRlQ29tbWFuZHMpfGooPzpvaW58YXZhRW5hYmxlZCl8cCg/Om8oPzpwfHcpfHVzaHxsdWdpbnMucmVmcmVzaHxhKD86ZGRpbmdzfHJzZSg/OkludHxGbG9hdCk/KXxyKD86aW50fG9tcHR8ZWZlcmVuY2UpKXxlKD86c2NhcGV8bmFibGVFeHRlcm5hbENhcHR1cmV8dmFsfGxlbWVudEZyb21Qb2ludHx4KD86cHxlYyg/OlNjcmlwdHxDb21tYW5kKT8pKXx2YWx1ZU9mfFVUQ3xxdWVyeUNvbW1hbmQoPzpTdGF0ZXxJbmRldGVybXxFbmFibGVkfFZhbHVlKXxmKD86aSg/Om5kfGxlKD86TW9kaWZpZWREYXRlfFNpemV8Q3JlYXRlZERhdGV8VXBkYXRlZERhdGUpfHhlZCl8byg/Om50KD86c2l6ZXxjb2xvcil8cndhcmQpfGxvb3J8cm9tQ2hhckNvZGUpfHdhdGNofGwoPzppbmt8byg/OmFkfGcpfGFzdEluZGV4T2YpfGEoPzpzaW58bmNob3J8Y29zfHQoPzp0YWNoRXZlbnR8b2J8YW4oPzoyKT8pfHBwbHl8bGVydHxiKD86c3xvcnQpKXxyKD86b3UoPzpuZHx0ZUV2ZW50cyl8ZSg/OnNpemUoPzpCeXxUbyl8Y2FsY3x0dXJuVmFsdWV8cGxhY2V8dmVyc2V8bCg/Om9hZHxlYXNlKD86Q2FwdHVyZXxFdmVudHMpKSl8YW5kb20pfGcoPzpvfGV0KD86UmVzcG9uc2VIZWFkZXJ8TSg/OmkoPzpudXRlc3xsbGlzZWNvbmRzKXxvbnRoKXxTZSg/OmNvbmRzfGxlY3Rpb24pfEhvdXJzfFllYXJ8VGltZSg/OnpvbmVPZmZzZXQpP3xEYSg/Onl8dGUpfFVUQyg/Ok0oPzppKD86bnV0ZXN8bGxpc2Vjb25kcyl8b250aCl8U2Vjb25kc3xIb3Vyc3xEYSg/Onl8dGUpfEZ1bGxZZWFyKXxGdWxsWWVhcnxBKD86dHRlbnRpb258bGxSZXNwb25zZUhlYWRlcnMpKSl8bSg/OmlufG92ZSg/OkIoPzp5fGVsb3cpfFRvKD86QWJzb2x1dGUpP3xBYm92ZSl8ZXJnZUF0dHJpYnV0ZXN8YSg/OnRjaHxyZ2luc3x4KSl8Yig/OnRvYXxpZ3xvKD86bGR8cmRlcldpZHRocyl8bGlua3xhY2spKVxiKD89XCgpL30se3Rva2VuOlsicHVuY3R1YXRpb24ub3BlcmF0b3IiLCJzdXBwb3J0LmZ1bmN0aW9uLmRvbSJdLHJlZ2V4Oi8oXC4pKHMoPzp1Yig/OnN0cmluZ0RhdGF8bWl0KXxwbGl0VGV4dHxlKD86dCg/Ok5hbWVkSXRlbXxBdHRyaWJ1dGUoPzpOb2RlKT8pfGxlY3QpKXxoYXMoPzpDaGlsZE5vZGVzfEZlYXR1cmUpfG5hbWVkSXRlbXxjKD86bCg/Omlja3xvKD86c2V8bmVOb2RlKSl8cmVhdGUoPzpDKD86b21tZW50fERBVEFTZWN0aW9ufGFwdGlvbil8VCg/OkhlYWR8ZXh0Tm9kZXxGb290KXxEb2N1bWVudEZyYWdtZW50fFByb2Nlc3NpbmdJbnN0cnVjdGlvbnxFKD86bnRpdHlSZWZlcmVuY2V8bGVtZW50KXxBdHRyaWJ1dGUpKXx0YWJJbmRleHxpKD86bnNlcnQoPzpSb3d8QmVmb3JlfENlbGx8RGF0YSl8dGVtKXxvcGVufGRlbGV0ZSg/OlJvd3xDKD86ZWxsfGFwdGlvbil8VCg/OkhlYWR8Rm9vdCl8RGF0YSl8Zm9jdXN8d3JpdGUoPzpsbik/fGEoPzpkZHxwcGVuZCg/OkNoaWxkfERhdGEpKXxyZSg/OnNldHxwbGFjZSg/OkNoaWxkfERhdGEpfG1vdmUoPzpOYW1lZEl0ZW18Q2hpbGR8QXR0cmlidXRlKD86Tm9kZSk/KT8pfGdldCg/Ok5hbWVkSXRlbXxFbGVtZW50KD86c0J5KD86TmFtZXxUYWdOYW1lKXxCeUlkKXxBdHRyaWJ1dGUoPzpOb2RlKT8pfGJsdXIpXGIoPz1cKCkvfSx7dG9rZW46WyJwdW5jdHVhdGlvbi5vcGVyYXRvciIsInN1cHBvcnQuY29uc3RhbnQiXSxyZWdleDovKFwuKShzKD86eXN0ZW1MYW5ndWFnZXxjcig/OmlwdHN8b2xsYmFyc3xlZW4oPzpYfFl8VG9wfExlZnQpKXx0KD86eWxlKD86U2hlZXRzKT98YXR1cyg/OlRleHR8YmFyKT8pfGlibGluZyg/OkJlbG93fEFib3ZlKXxvdXJjZXx1ZmZpeGVzfGUoPzpjdXJpdHkoPzpQb2xpY3kpP3xsKD86ZWN0aW9ufGYpKSl8aCg/OmlzdG9yeXxvc3QoPzpuYW1lKT98YXMoPzpofEZvY3VzKSl8eXxYKD86TUxEb2N1bWVudHxTTERvY3VtZW50KXxuKD86ZXh0fGFtZSg/OnNwYWNlKD86c3xVUkkpfFByb3ApKXxNKD86SU5fVkFMVUV8QVhfVkFMVUUpfGMoPzpoYXJhY3RlclNldHxvKD86big/OnN0cnVjdG9yfHRyb2xsZXJzKXxva2llRW5hYmxlZHxsb3JEZXB0aHxtcCg/Om9uZW50c3xsZXRlKSl8dXJyZW50fHB1Q2xhc3N8bCg/OmkoPzpwKD86Ym9hcmREYXRhKT98ZW50SW5mb3JtYXRpb24pfG9zZWR8YXNzZXMpfGFsbGUoPzplfHIpfHJ5cHRvKXx0KD86byg/Om9sYmFyfHApfGV4dCg/OlRyYW5zZm9ybXxJbmRlbnR8RGVjb3JhdGlvbnxBbGlnbil8YWdzKXxTUVJUKD86MV8yfDIpfGkoPzpuKD86bmVyKD86SGVpZ2h0fFdpZHRoKXxwdXQpfGRzfGdub3JlQ2FzZSl8ekluZGV4fG8oPzpzY3B1fG4oPzpyZWFkeXN0YXRlY2hhbmdlfExpbmUpfHV0ZXIoPzpIZWlnaHR8V2lkdGgpfHAoPzpzUHJvZmlsZXxlbmVyKXxmZnNjcmVlbkJ1ZmZlcmluZyl8TkVHQVRJVkVfSU5GSU5JVFl8ZCg/OmkoPzpzcGxheXxhbG9nKD86SGVpZ2h0fFRvcHxXaWR0aHxMZWZ0fEFyZ3VtZW50cyl8cmVjdG9yaWVzKXxlKD86c2NyaXB0aW9ufGZhdWx0KD86U3RhdHVzfENoKD86ZWNrZWR8YXJzZXQpfFZpZXcpKSl8dSg/OnNlcig/OlByb2ZpbGV8TGFuZ3VhZ2V8QWdlbnQpfG4oPzppcXVlSUR8ZGVmaW5lZCl8cGRhdGVJbnRlcnZhbCl8X2NvbnRlbnR8cCg/Oml4ZWxEZXB0aHxvcnR8ZXJzb25hbGJhcnxrY3MxMXxsKD86dWdpbnN8YXRmb3JtKXxhKD86dGhuYW1lfGRkaW5nKD86UmlnaHR8Qm90dG9tfFRvcHxMZWZ0KXxyZW50KD86V2luZG93fExheWVyKT98Z2UoPzpYKD86T2Zmc2V0KT98WSg/Ok9mZnNldCk/KSl8cig/Om8oPzp0byg/OmNvbHx0eXBlKXxkdWN0KD86U3ViKT98bXB0ZXIpfGUoPzp2aW91c3xmaXgpKSl8ZSg/Om4oPzpjb2Rpbmd8YWJsZWRQbHVnaW4pfHgoPzp0ZXJuYWx8cGFuZG8pfG1iZWRzKXx2KD86aXNpYmlsaXR5fGVuZG9yKD86U3ViKT98TGlua2NvbG9yKXxVUkxVbmVuY29kZWR8UCg/Okl8T1NJVElWRV9JTkZJTklUWSl8Zig/OmlsZW5hbWV8byg/Om50KD86U2l6ZXxGYW1pbHl8V2VpZ2h0KXxybU5hbWUpfHJhbWUoPzpzfEVsZW1lbnQpfGdDb2xvcil8RXx3aGl0ZVNwYWNlfGwoPzppKD86c3RTdHlsZVR5cGV8big/OmVIZWlnaHR8a0NvbG9yKSl8byg/OmNhKD86dGlvbig/OmJhcik/fGxOYW1lKXx3c3JjKXxlKD86bmd0aHxmdCg/OkNvbnRleHQpPyl8YSg/OnN0KD86TSg/Om9kaWZpZWR8YXRjaCl8SW5kZXh8UGFyZW4pfHllcig/OnN8WCl8bmd1YWdlKSl8YSg/OnBwKD86TWlub3JWZXJzaW9ufE5hbWV8Q28oPzpkZU5hbWV8cmUpfFZlcnNpb24pfHZhaWwoPzpIZWlnaHR8VG9wfFdpZHRofExlZnQpfGxsfHIoPzppdHl8Z3VtZW50cyl8TGlua2NvbG9yfGJvdmUpfHIoPzppZ2h0KD86Q29udGV4dCk/fGUoPzpzcG9uc2UoPzpYTUx8VGV4dCl8YWR5U3RhdGUpKXxnbG9iYWx8eHxtKD86aW1lVHlwZXN8dWx0aWxpbmV8ZW51YmFyfGFyZ2luKD86UmlnaHR8Qm90dG9tfFRvcHxMZWZ0KSl8TCg/Ok4oPzoxMHwyKXxPRyg/OjEwRXwyRSkpfGIoPzpvKD86dHRvbXxyZGVyKD86V2lkdGh8UmlnaHRXaWR0aHxCb3R0b21XaWR0aHxTdHlsZXxDb2xvcnxUb3BXaWR0aHxMZWZ0V2lkdGgpKXx1ZmZlckRlcHRofGVsb3d8YWNrZ3JvdW5kKD86Q29sb3J8SW1hZ2UpKSlcYi99LHt0b2tlbjpbInN0b3JhZ2UudHlwZSIsInB1bmN0dWF0aW9uLm9wZXJhdG9yIiwic3VwcG9ydC5mdW5jdGlvbi5maXJlYnVnIl0scmVnZXg6Lyhjb25zb2xlKShcLikod2FybnxpbmZvfGxvZ3xlcnJvcnx0aW1lfHRpbWVFbmR8YXNzZXJ0KVxiL30se3Rva2VuOmUscmVnZXg6bn0se3Rva2VuOiJrZXl3b3JkLm9wZXJhdG9yIixyZWdleDovLS18XCtcK3xbISQlJiorXC1+XXw9PT18PT18PXwhPXwhPT18PD18Pj18PDw9fD4+PXw+Pj49fDw+fDx8PnwhfCYmfFx8XHx8XD9cOnxcKj18JT18XCs9fFwtPXwmPXxcXj0vLG5leHQ6InN0YXJ0In0se3Rva2VuOiJwdW5jdHVhdGlvbi5vcGVyYXRvciIscmVnZXg6L1w/fFw6fFwsfFw7fFwuLyxuZXh0OiJzdGFydCJ9LHt0b2tlbjoicGFyZW4ubHBhcmVuIixyZWdleDovW1xbKHtdLyxuZXh0OiJzdGFydCJ9LHt0b2tlbjoicGFyZW4ucnBhcmVuIixyZWdleDovW1xdKX1dL30se3Rva2VuOiJrZXl3b3JkLm9wZXJhdG9yIixyZWdleDovXC89Py8sbmV4dDoic3RhcnQifSx7dG9rZW46ImNvbW1lbnQiLHJlZ2V4Oi9eIyEuKiQvfV0sc3RhcnQ6W2kuZ2V0U3RhcnRSdWxlKCJkb2Mtc3RhcnQiKSx7dG9rZW46ImNvbW1lbnQiLHJlZ2V4OiJcXC9cXCoiLG5leHQ6ImNvbW1lbnRfcmVnZXhfYWxsb3dlZCJ9LHt0b2tlbjoiY29tbWVudCIscmVnZXg6IlxcL1xcLyIsbmV4dDoibGluZV9jb21tZW50X3JlZ2V4X2FsbG93ZWQifSx7dG9rZW46InN0cmluZy5yZWdleHAiLHJlZ2V4OiJcXC8iLG5leHQ6InJlZ2V4In0se3Rva2VuOiJ0ZXh0IixyZWdleDoiXFxzK3xeJCIsbmV4dDoic3RhcnQifSx7dG9rZW46ImVtcHR5IixyZWdleDoiIixuZXh0OiJub19yZWdleCJ9XSxyZWdleDpbe3Rva2VuOiJyZWdleHAua2V5d29yZC5vcGVyYXRvciIscmVnZXg6IlxcXFwoPzp1W1xcZGEtZkEtRl17NH18eFtcXGRhLWZBLUZdezJ9fC4pIn0se3Rva2VuOiJzdHJpbmcucmVnZXhwIixyZWdleDoiL1tzeG5naW15XSoiLG5leHQ6Im5vX3JlZ2V4In0se3Rva2VuOiJpbnZhbGlkIixyZWdleDovXHtcZCtcYiw/XGQqXH1bKypdfFsrKiReP11bKypdfFskXl1bP118XD97Myx9L30se3Rva2VuOiJjb25zdGFudC5sYW5ndWFnZS5lc2NhcGUiLHJlZ2V4Oi9cKFw/Wzo9IV18XCl8XHtcZCtcYiw/XGQqXH18WysqXVw/fFsoKSReKyo/Ll0vfSx7dG9rZW46ImNvbnN0YW50Lmxhbmd1YWdlLmRlbGltaXRlciIscmVnZXg6L1x8L30se3Rva2VuOiJjb25zdGFudC5sYW5ndWFnZS5lc2NhcGUiLHJlZ2V4Oi9cW1xePy8sbmV4dDoicmVnZXhfY2hhcmFjdGVyX2NsYXNzIn0se3Rva2VuOiJlbXB0eSIscmVnZXg6IiQiLG5leHQ6Im5vX3JlZ2V4In0se2RlZmF1bHRUb2tlbjoic3RyaW5nLnJlZ2V4cCJ9XSxyZWdleF9jaGFyYWN0ZXJfY2xhc3M6W3t0b2tlbjoicmVnZXhwLmtleXdvcmQub3BlcmF0b3IiLHJlZ2V4OiJcXFxcKD86dVtcXGRhLWZBLUZdezR9fHhbXFxkYS1mQS1GXXsyfXwuKSJ9LHt0b2tlbjoiY29uc3RhbnQubGFuZ3VhZ2UuZXNjYXBlIixyZWdleDoiXSIsbmV4dDoicmVnZXgifSx7dG9rZW46ImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZSIscmVnZXg6Ii0ifSx7dG9rZW46ImVtcHR5IixyZWdleDoiJCIsbmV4dDoibm9fcmVnZXgifSx7ZGVmYXVsdFRva2VuOiJzdHJpbmcucmVnZXhwLmNoYXJhY2h0ZXJjbGFzcyJ9XSxmdW5jdGlvbl9hcmd1bWVudHM6W3t0b2tlbjoidmFyaWFibGUucGFyYW1ldGVyIixyZWdleDpufSx7dG9rZW46InB1bmN0dWF0aW9uLm9wZXJhdG9yIixyZWdleDoiWywgXSsifSx7dG9rZW46InB1bmN0dWF0aW9uLm9wZXJhdG9yIixyZWdleDoiJCJ9LHt0b2tlbjoiZW1wdHkiLHJlZ2V4OiIiLG5leHQ6Im5vX3JlZ2V4In1dLGNvbW1lbnRfcmVnZXhfYWxsb3dlZDpbe3Rva2VuOiJjb21tZW50IixyZWdleDoiXFwqXFwvIixuZXh0OiJzdGFydCJ9LHtkZWZhdWx0VG9rZW46ImNvbW1lbnQifV0sY29tbWVudDpbe3Rva2VuOiJjb21tZW50IixyZWdleDoiXFwqXFwvIixuZXh0OiJub19yZWdleCJ9LHtkZWZhdWx0VG9rZW46ImNvbW1lbnQifV0sbGluZV9jb21tZW50X3JlZ2V4X2FsbG93ZWQ6W3t0b2tlbjoiY29tbWVudCIscmVnZXg6IiR8XiIsbmV4dDoic3RhcnQifSx7ZGVmYXVsdFRva2VuOiJjb21tZW50In1dLGxpbmVfY29tbWVudDpbe3Rva2VuOiJjb21tZW50IixyZWdleDoiJHxeIixuZXh0OiJub19yZWdleCJ9LHtkZWZhdWx0VG9rZW46ImNvbW1lbnQifV0scXFzdHJpbmc6W3t0b2tlbjoiY29uc3RhbnQubGFuZ3VhZ2UuZXNjYXBlIixyZWdleDpyfSx7dG9rZW46InN0cmluZyIscmVnZXg6IlxcXFwkIixuZXh0OiJxcXN0cmluZyJ9LHt0b2tlbjoic3RyaW5nIixyZWdleDonInwkJyxuZXh0OiJub19yZWdleCJ9LHtkZWZhdWx0VG9rZW46InN0cmluZyJ9XSxxc3RyaW5nOlt7dG9rZW46ImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZSIscmVnZXg6cn0se3Rva2VuOiJzdHJpbmciLHJlZ2V4OiJcXFxcJCIsbmV4dDoicXN0cmluZyJ9LHt0b2tlbjoic3RyaW5nIixyZWdleDoiJ3wkIixuZXh0OiJub19yZWdleCJ9LHtkZWZhdWx0VG9rZW46InN0cmluZyJ9XX0sdGhpcy5lbWJlZFJ1bGVzKGksImRvYy0iLFtpLmdldEVuZFJ1bGUoIm5vX3JlZ2V4IildKX07ci5pbmhlcml0cyhvLHMpLHQuSmF2YVNjcmlwdEhpZ2hsaWdodFJ1bGVzPW99KSxkZWZpbmUoImFjZS9tb2RlL2RvY19jb21tZW50X2hpZ2hsaWdodF9ydWxlcyIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL21vZGUvdGV4dF9oaWdobGlnaHRfcnVsZXMiXSxmdW5jdGlvbihlLHQpe3ZhciByPWUoIi4uL2xpYi9vb3AiKSxpPWUoIi4vdGV4dF9oaWdobGlnaHRfcnVsZXMiKS5UZXh0SGlnaGxpZ2h0UnVsZXMscz1mdW5jdGlvbigpe3RoaXMuJHJ1bGVzPXtzdGFydDpbe3Rva2VuOiJjb21tZW50LmRvYy50YWciLHJlZ2V4OiJAW1xcd1xcZF9dKyJ9LHt0b2tlbjoiY29tbWVudC5kb2MudGFnIixyZWdleDoiXFxiVE9ET1xcYiJ9LHtkZWZhdWx0VG9rZW46ImNvbW1lbnQuZG9jIn1dfX07ci5pbmhlcml0cyhzLGkpLHMuZ2V0U3RhcnRSdWxlPWZ1bmN0aW9uKGUpe3JldHVybnt0b2tlbjoiY29tbWVudC5kb2MiLHJlZ2V4OiJcXC9cXCooPz1cXCopIixuZXh0OmV9fSxzLmdldEVuZFJ1bGU9ZnVuY3Rpb24oZSl7cmV0dXJue3Rva2VuOiJjb21tZW50LmRvYyIscmVnZXg6IlxcKlxcLyIsbmV4dDplfX0sdC5Eb2NDb21tZW50SGlnaGxpZ2h0UnVsZXM9c30pLGRlZmluZSgiYWNlL21vZGUvbWF0Y2hpbmdfYnJhY2Vfb3V0ZGVudCIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9yYW5nZSJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSgiLi4vcmFuZ2UiKS5SYW5nZSxpPWZ1bmN0aW9uKCl7fTsoZnVuY3Rpb24oKXt0aGlzLmNoZWNrT3V0ZGVudD1mdW5jdGlvbihlLHQpe3JldHVybi9eXHMrJC8udGVzdChlKT8vXlxzKlx9Ly50ZXN0KHQpOiExfSx0aGlzLmF1dG9PdXRkZW50PWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5nZXRMaW5lKHQpLGk9bi5tYXRjaCgvXihccypcfSkvKTtpZighaSlyZXR1cm4gMDt2YXIgcz1pWzFdLmxlbmd0aCxvPWUuZmluZE1hdGNoaW5nQnJhY2tldCh7cm93OnQsY29sdW1uOnN9KTtpZighb3x8by5yb3c9PXQpcmV0dXJuIDA7dmFyIHU9dGhpcy4kZ2V0SW5kZW50KGUuZ2V0TGluZShvLnJvdykpO2UucmVwbGFjZShuZXcgcih0LDAsdCxzLTEpLHUpfSx0aGlzLiRnZXRJbmRlbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWF0Y2goL15ccyovKVswXX19KS5jYWxsKGkucHJvdG90eXBlKSx0Lk1hdGNoaW5nQnJhY2VPdXRkZW50PWl9KSxkZWZpbmUoImFjZS9tb2RlL2JlaGF2aW91ci9jc3R5bGUiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL29vcCIsImFjZS9tb2RlL2JlaGF2aW91ciIsImFjZS90b2tlbl9pdGVyYXRvciIsImFjZS9saWIvbGFuZyJdLGZ1bmN0aW9uKGUsdCl7dmFyIGYscj1lKCIuLi8uLi9saWIvb29wIiksaT1lKCIuLi9iZWhhdmlvdXIiKS5CZWhhdmlvdXIscz1lKCIuLi8uLi90b2tlbl9pdGVyYXRvciIpLlRva2VuSXRlcmF0b3Isbz1lKCIuLi8uLi9saWIvbGFuZyIpLHU9WyJ0ZXh0IiwicGFyZW4ucnBhcmVuIiwicHVuY3R1YXRpb24ub3BlcmF0b3IiXSxhPVsidGV4dCIsInBhcmVuLnJwYXJlbiIsInB1bmN0dWF0aW9uLm9wZXJhdG9yIiwiY29tbWVudCJdLGw9e30sYz1mdW5jdGlvbihlKXt2YXIgdD0tMTtyZXR1cm4gZS5tdWx0aVNlbGVjdCYmKHQ9ZS5zZWxlY3Rpb24uaWQsbC5yYW5nZUNvdW50IT1lLm11bHRpU2VsZWN0LnJhbmdlQ291bnQmJihsPXtyYW5nZUNvdW50OmUubXVsdGlTZWxlY3QucmFuZ2VDb3VudH0pKSxsW3RdP2Y9bFt0XTp2b2lkKGY9bFt0XT17YXV0b0luc2VydGVkQnJhY2tldHM6MCxhdXRvSW5zZXJ0ZWRSb3c6LTEsYXV0b0luc2VydGVkTGluZUVuZDoiIixtYXliZUluc2VydGVkQnJhY2tldHM6MCxtYXliZUluc2VydGVkUm93Oi0xLG1heWJlSW5zZXJ0ZWRMaW5lU3RhcnQ6IiIsbWF5YmVJbnNlcnRlZExpbmVFbmQ6IiJ9KX0saD1mdW5jdGlvbigpe3RoaXMuYWRkKCJicmFjZXMiLCJpbnNlcnRpb24iLGZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIHM9bi5nZXRDdXJzb3JQb3NpdGlvbigpLHU9ci5kb2MuZ2V0TGluZShzLnJvdyk7aWYoInsiPT1pKXtjKG4pO3ZhciBhPW4uZ2V0U2VsZWN0aW9uUmFuZ2UoKSxsPXIuZG9jLmdldFRleHRSYW5nZShhKTtpZigiIiE9PWwmJiJ7IiE9PWwmJm4uZ2V0V3JhcEJlaGF2aW91cnNFbmFibGVkKCkpcmV0dXJue3RleHQ6InsiK2wrIn0iLHNlbGVjdGlvbjohMX07aWYoaC5pc1NhbmVJbnNlcnRpb24obixyKSlyZXR1cm4vW1xdXH1cKV0vLnRlc3QodVtzLmNvbHVtbl0pfHxuLmluTXVsdGlTZWxlY3RNb2RlPyhoLnJlY29yZEF1dG9JbnNlcnQobixyLCJ9Iikse3RleHQ6Int9IixzZWxlY3Rpb246WzEsMV19KTooaC5yZWNvcmRNYXliZUluc2VydChuLHIsInsiKSx7dGV4dDoieyIsc2VsZWN0aW9uOlsxLDFdfSl9ZWxzZSBpZigifSI9PWkpe2Mobik7dmFyIHA9dS5zdWJzdHJpbmcocy5jb2x1bW4scy5jb2x1bW4rMSk7aWYoIn0iPT1wKXt2YXIgZD1yLiRmaW5kT3BlbmluZ0JyYWNrZXQoIn0iLHtjb2x1bW46cy5jb2x1bW4rMSxyb3c6cy5yb3d9KTtpZihudWxsIT09ZCYmaC5pc0F1dG9JbnNlcnRlZENsb3Npbmcocyx1LGkpKXJldHVybiBoLnBvcEF1dG9JbnNlcnRlZENsb3NpbmcoKSx7dGV4dDoiIixzZWxlY3Rpb246WzEsMV19fX1lbHNle2lmKCJcbiI9PWl8fCJcclxuIj09aSl7YyhuKTt2YXIgdj0iIjtoLmlzTWF5YmVJbnNlcnRlZENsb3Npbmcocyx1KSYmKHY9by5zdHJpbmdSZXBlYXQoIn0iLGYubWF5YmVJbnNlcnRlZEJyYWNrZXRzKSxoLmNsZWFyTWF5YmVJbnNlcnRlZENsb3NpbmcoKSk7dmFyIHA9dS5zdWJzdHJpbmcocy5jb2x1bW4scy5jb2x1bW4rMSk7aWYoIn0iPT09cCl7dmFyIG09ci5maW5kTWF0Y2hpbmdCcmFja2V0KHtyb3c6cy5yb3csY29sdW1uOnMuY29sdW1uKzF9LCJ9Iik7aWYoIW0pcmV0dXJuIG51bGw7dmFyIGc9dGhpcy4kZ2V0SW5kZW50KHIuZ2V0TGluZShtLnJvdykpfWVsc2V7aWYoIXYpcmV0dXJuIHZvaWQgaC5jbGVhck1heWJlSW5zZXJ0ZWRDbG9zaW5nKCk7dmFyIGc9dGhpcy4kZ2V0SW5kZW50KHUpfXZhciB5PWcrci5nZXRUYWJTdHJpbmcoKTtyZXR1cm57dGV4dDoiXG4iK3krIlxuIitnK3Ysc2VsZWN0aW9uOlsxLHkubGVuZ3RoLDEseS5sZW5ndGhdfX1oLmNsZWFyTWF5YmVJbnNlcnRlZENsb3NpbmcoKX19KSx0aGlzLmFkZCgiYnJhY2VzIiwiZGVsZXRpb24iLGZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIHM9ci5kb2MuZ2V0VGV4dFJhbmdlKGkpO2lmKCFpLmlzTXVsdGlMaW5lKCkmJiJ7Ij09cyl7YyhuKTt2YXIgbz1yLmRvYy5nZXRMaW5lKGkuc3RhcnQucm93KSx1PW8uc3Vic3RyaW5nKGkuZW5kLmNvbHVtbixpLmVuZC5jb2x1bW4rMSk7aWYoIn0iPT11KXJldHVybiBpLmVuZC5jb2x1bW4rKyxpO2YubWF5YmVJbnNlcnRlZEJyYWNrZXRzLS19fSksdGhpcy5hZGQoInBhcmVucyIsImluc2VydGlvbiIsZnVuY3Rpb24oZSx0LG4scixpKXtpZigiKCI9PWkpe2Mobik7dmFyIHM9bi5nZXRTZWxlY3Rpb25SYW5nZSgpLG89ci5kb2MuZ2V0VGV4dFJhbmdlKHMpO2lmKCIiIT09byYmbi5nZXRXcmFwQmVoYXZpb3Vyc0VuYWJsZWQoKSlyZXR1cm57dGV4dDoiKCIrbysiKSIsc2VsZWN0aW9uOiExfTtpZihoLmlzU2FuZUluc2VydGlvbihuLHIpKXJldHVybiBoLnJlY29yZEF1dG9JbnNlcnQobixyLCIpIikse3RleHQ6IigpIixzZWxlY3Rpb246WzEsMV19fWVsc2UgaWYoIikiPT1pKXtjKG4pO3ZhciB1PW4uZ2V0Q3Vyc29yUG9zaXRpb24oKSxhPXIuZG9jLmdldExpbmUodS5yb3cpLGY9YS5zdWJzdHJpbmcodS5jb2x1bW4sdS5jb2x1bW4rMSk7aWYoIikiPT1mKXt2YXIgbD1yLiRmaW5kT3BlbmluZ0JyYWNrZXQoIikiLHtjb2x1bW46dS5jb2x1bW4rMSxyb3c6dS5yb3d9KTtpZihudWxsIT09bCYmaC5pc0F1dG9JbnNlcnRlZENsb3NpbmcodSxhLGkpKXJldHVybiBoLnBvcEF1dG9JbnNlcnRlZENsb3NpbmcoKSx7dGV4dDoiIixzZWxlY3Rpb246WzEsMV19fX19KSx0aGlzLmFkZCgicGFyZW5zIiwiZGVsZXRpb24iLGZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIHM9ci5kb2MuZ2V0VGV4dFJhbmdlKGkpO2lmKCFpLmlzTXVsdGlMaW5lKCkmJiIoIj09cyl7YyhuKTt2YXIgbz1yLmRvYy5nZXRMaW5lKGkuc3RhcnQucm93KSx1PW8uc3Vic3RyaW5nKGkuc3RhcnQuY29sdW1uKzEsaS5zdGFydC5jb2x1bW4rMik7aWYoIikiPT11KXJldHVybiBpLmVuZC5jb2x1bW4rKyxpfX0pLHRoaXMuYWRkKCJicmFja2V0cyIsImluc2VydGlvbiIsZnVuY3Rpb24oZSx0LG4scixpKXtpZigiWyI9PWkpe2Mobik7dmFyIHM9bi5nZXRTZWxlY3Rpb25SYW5nZSgpLG89ci5kb2MuZ2V0VGV4dFJhbmdlKHMpO2lmKCIiIT09byYmbi5nZXRXcmFwQmVoYXZpb3Vyc0VuYWJsZWQoKSlyZXR1cm57dGV4dDoiWyIrbysiXSIsc2VsZWN0aW9uOiExfTtpZihoLmlzU2FuZUluc2VydGlvbihuLHIpKXJldHVybiBoLnJlY29yZEF1dG9JbnNlcnQobixyLCJdIikse3RleHQ6IltdIixzZWxlY3Rpb246WzEsMV19fWVsc2UgaWYoIl0iPT1pKXtjKG4pO3ZhciB1PW4uZ2V0Q3Vyc29yUG9zaXRpb24oKSxhPXIuZG9jLmdldExpbmUodS5yb3cpLGY9YS5zdWJzdHJpbmcodS5jb2x1bW4sdS5jb2x1bW4rMSk7aWYoIl0iPT1mKXt2YXIgbD1yLiRmaW5kT3BlbmluZ0JyYWNrZXQoIl0iLHtjb2x1bW46dS5jb2x1bW4rMSxyb3c6dS5yb3d9KTtpZihudWxsIT09bCYmaC5pc0F1dG9JbnNlcnRlZENsb3NpbmcodSxhLGkpKXJldHVybiBoLnBvcEF1dG9JbnNlcnRlZENsb3NpbmcoKSx7dGV4dDoiIixzZWxlY3Rpb246WzEsMV19fX19KSx0aGlzLmFkZCgiYnJhY2tldHMiLCJkZWxldGlvbiIsZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgcz1yLmRvYy5nZXRUZXh0UmFuZ2UoaSk7aWYoIWkuaXNNdWx0aUxpbmUoKSYmIlsiPT1zKXtjKG4pO3ZhciBvPXIuZG9jLmdldExpbmUoaS5zdGFydC5yb3cpLHU9by5zdWJzdHJpbmcoaS5zdGFydC5jb2x1bW4rMSxpLnN0YXJ0LmNvbHVtbisyKTtpZigiXSI9PXUpcmV0dXJuIGkuZW5kLmNvbHVtbisrLGl9fSksdGhpcy5hZGQoInN0cmluZ19kcXVvdGVzIiwiaW5zZXJ0aW9uIixmdW5jdGlvbihlLHQsbixyLGkpe2lmKCciJz09aXx8IiciPT1pKXtjKG4pO3ZhciBzPWksbz1uLmdldFNlbGVjdGlvblJhbmdlKCksdT1yLmRvYy5nZXRUZXh0UmFuZ2Uobyk7aWYoIiIhPT11JiYiJyIhPT11JiYnIichPXUmJm4uZ2V0V3JhcEJlaGF2aW91cnNFbmFibGVkKCkpcmV0dXJue3RleHQ6cyt1K3Msc2VsZWN0aW9uOiExfTt2YXIgYT1uLmdldEN1cnNvclBvc2l0aW9uKCksZj1yLmRvYy5nZXRMaW5lKGEucm93KSxsPWYuc3Vic3RyaW5nKGEuY29sdW1uLTEsYS5jb2x1bW4pO2lmKCJcXCI9PWwpcmV0dXJuIG51bGw7Zm9yKHZhciB2LHA9ci5nZXRUb2tlbnMoby5zdGFydC5yb3cpLGQ9MCxtPS0xLGc9MDtnPHAubGVuZ3RoJiYodj1wW2ddLCJzdHJpbmciPT12LnR5cGU/bT0tMTowPm0mJihtPXYudmFsdWUuaW5kZXhPZihzKSksISh2LnZhbHVlLmxlbmd0aCtkPm8uc3RhcnQuY29sdW1uKSk7ZysrKWQrPXBbZ10udmFsdWUubGVuZ3RoO2lmKCF2fHwwPm0mJiJjb21tZW50IiE9PXYudHlwZSYmKCJzdHJpbmciIT09di50eXBlfHxvLnN0YXJ0LmNvbHVtbiE9PXYudmFsdWUubGVuZ3RoK2QtMSYmdi52YWx1ZS5sYXN0SW5kZXhPZihzKT09PXYudmFsdWUubGVuZ3RoLTEpKXtpZighaC5pc1NhbmVJbnNlcnRpb24obixyKSlyZXR1cm47cmV0dXJue3RleHQ6cytzLHNlbGVjdGlvbjpbMSwxXX19aWYodiYmInN0cmluZyI9PT12LnR5cGUpe3ZhciB5PWYuc3Vic3RyaW5nKGEuY29sdW1uLGEuY29sdW1uKzEpO2lmKHk9PXMpcmV0dXJue3RleHQ6IiIsc2VsZWN0aW9uOlsxLDFdfX19fSksdGhpcy5hZGQoInN0cmluZ19kcXVvdGVzIiwiZGVsZXRpb24iLGZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIHM9ci5kb2MuZ2V0VGV4dFJhbmdlKGkpO2lmKCFpLmlzTXVsdGlMaW5lKCkmJignIic9PXN8fCInIj09cykpe2Mobik7dmFyIG89ci5kb2MuZ2V0TGluZShpLnN0YXJ0LnJvdyksdT1vLnN1YnN0cmluZyhpLnN0YXJ0LmNvbHVtbisxLGkuc3RhcnQuY29sdW1uKzIpO2lmKHU9PXMpcmV0dXJuIGkuZW5kLmNvbHVtbisrLGl9fSl9O2guaXNTYW5lSW5zZXJ0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5nZXRDdXJzb3JQb3NpdGlvbigpLHI9bmV3IHModCxuLnJvdyxuLmNvbHVtbik7aWYoIXRoaXMuJG1hdGNoVG9rZW5UeXBlKHIuZ2V0Q3VycmVudFRva2VuKCl8fCJ0ZXh0Iix1KSl7dmFyIGk9bmV3IHModCxuLnJvdyxuLmNvbHVtbisxKTtpZighdGhpcy4kbWF0Y2hUb2tlblR5cGUoaS5nZXRDdXJyZW50VG9rZW4oKXx8InRleHQiLHUpKXJldHVybiExfXJldHVybiByLnN0ZXBGb3J3YXJkKCksci5nZXRDdXJyZW50VG9rZW5Sb3coKSE9PW4ucm93fHx0aGlzLiRtYXRjaFRva2VuVHlwZShyLmdldEN1cnJlbnRUb2tlbigpfHwidGV4dCIsYSl9LGguJG1hdGNoVG9rZW5UeXBlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuaW5kZXhPZihlLnR5cGV8fGUpPi0xfSxoLnJlY29yZEF1dG9JbnNlcnQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUuZ2V0Q3Vyc29yUG9zaXRpb24oKSxpPXQuZG9jLmdldExpbmUoci5yb3cpO3RoaXMuaXNBdXRvSW5zZXJ0ZWRDbG9zaW5nKHIsaSxmLmF1dG9JbnNlcnRlZExpbmVFbmRbMF0pfHwoZi5hdXRvSW5zZXJ0ZWRCcmFja2V0cz0wKSxmLmF1dG9JbnNlcnRlZFJvdz1yLnJvdyxmLmF1dG9JbnNlcnRlZExpbmVFbmQ9bitpLnN1YnN0cihyLmNvbHVtbiksZi5hdXRvSW5zZXJ0ZWRCcmFja2V0cysrfSxoLnJlY29yZE1heWJlSW5zZXJ0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lLmdldEN1cnNvclBvc2l0aW9uKCksaT10LmRvYy5nZXRMaW5lKHIucm93KTt0aGlzLmlzTWF5YmVJbnNlcnRlZENsb3NpbmcocixpKXx8KGYubWF5YmVJbnNlcnRlZEJyYWNrZXRzPTApLGYubWF5YmVJbnNlcnRlZFJvdz1yLnJvdyxmLm1heWJlSW5zZXJ0ZWRMaW5lU3RhcnQ9aS5zdWJzdHIoMCxyLmNvbHVtbikrbixmLm1heWJlSW5zZXJ0ZWRMaW5lRW5kPWkuc3Vic3RyKHIuY29sdW1uKSxmLm1heWJlSW5zZXJ0ZWRCcmFja2V0cysrfSxoLmlzQXV0b0luc2VydGVkQ2xvc2luZz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGYuYXV0b0luc2VydGVkQnJhY2tldHM+MCYmZS5yb3c9PT1mLmF1dG9JbnNlcnRlZFJvdyYmbj09PWYuYXV0b0luc2VydGVkTGluZUVuZFswXSYmdC5zdWJzdHIoZS5jb2x1bW4pPT09Zi5hdXRvSW5zZXJ0ZWRMaW5lRW5kfSxoLmlzTWF5YmVJbnNlcnRlZENsb3Npbmc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZi5tYXliZUluc2VydGVkQnJhY2tldHM+MCYmZS5yb3c9PT1mLm1heWJlSW5zZXJ0ZWRSb3cmJnQuc3Vic3RyKGUuY29sdW1uKT09PWYubWF5YmVJbnNlcnRlZExpbmVFbmQmJnQuc3Vic3RyKDAsZS5jb2x1bW4pPT1mLm1heWJlSW5zZXJ0ZWRMaW5lU3RhcnR9LGgucG9wQXV0b0luc2VydGVkQ2xvc2luZz1mdW5jdGlvbigpe2YuYXV0b0luc2VydGVkTGluZUVuZD1mLmF1dG9JbnNlcnRlZExpbmVFbmQuc3Vic3RyKDEpLGYuYXV0b0luc2VydGVkQnJhY2tldHMtLX0saC5jbGVhck1heWJlSW5zZXJ0ZWRDbG9zaW5nPWZ1bmN0aW9uKCl7ZiYmKGYubWF5YmVJbnNlcnRlZEJyYWNrZXRzPTAsZi5tYXliZUluc2VydGVkUm93PS0xKX0sci5pbmhlcml0cyhoLGkpLHQuQ3N0eWxlQmVoYXZpb3VyPWh9KSxkZWZpbmUoImFjZS9tb2RlL2ZvbGRpbmcvY3N0eWxlIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9vb3AiLCJhY2UvcmFuZ2UiLCJhY2UvbW9kZS9mb2xkaW5nL2ZvbGRfbW9kZSJdLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSgiLi4vLi4vbGliL29vcCIpLGk9ZSgiLi4vLi4vcmFuZ2UiKS5SYW5nZSxzPWUoIi4vZm9sZF9tb2RlIikuRm9sZE1vZGUsbz10LkZvbGRNb2RlPWZ1bmN0aW9uKGUpe2UmJih0aGlzLmZvbGRpbmdTdGFydE1hcmtlcj1uZXcgUmVnRXhwKHRoaXMuZm9sZGluZ1N0YXJ0TWFya2VyLnNvdXJjZS5yZXBsYWNlKC9cfFtefF0qPyQvLCJ8IitlLnN0YXJ0KSksdGhpcy5mb2xkaW5nU3RvcE1hcmtlcj1uZXcgUmVnRXhwKHRoaXMuZm9sZGluZ1N0b3BNYXJrZXIuc291cmNlLnJlcGxhY2UoL1x8W158XSo/JC8sInwiK2UuZW5kKSkpfTtyLmluaGVyaXRzKG8scyksZnVuY3Rpb24oKXt0aGlzLmZvbGRpbmdTdGFydE1hcmtlcj0vKFx7fFxbKVteXH1cXV0qJHxeXHMqKFwvXCopLyx0aGlzLmZvbGRpbmdTdG9wTWFya2VyPS9eW15cW1x7XSooXH18XF0pfF5bXHNcKl0qKFwqXC8pLyx0aGlzLmdldEZvbGRXaWRnZXRSYW5nZT1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT1lLmdldExpbmUobikscz1pLm1hdGNoKHRoaXMuZm9sZGluZ1N0YXJ0TWFya2VyKTtpZihzKXt2YXIgbz1zLmluZGV4O2lmKHNbMV0pcmV0dXJuIHRoaXMub3BlbmluZ0JyYWNrZXRCbG9jayhlLHNbMV0sbixvKTt2YXIgdT1lLmdldENvbW1lbnRGb2xkUmFuZ2UobixvK3NbMF0ubGVuZ3RoLDEpO3JldHVybiB1JiYhdS5pc011bHRpTGluZSgpJiYocj91PXRoaXMuZ2V0U2VjdGlvblJhbmdlKGUsbik6ImFsbCIhPXQmJih1PW51bGwpKSx1fWlmKCJtYXJrYmVnaW4iIT09dCl7dmFyIHM9aS5tYXRjaCh0aGlzLmZvbGRpbmdTdG9wTWFya2VyKTtpZihzKXt2YXIgbz1zLmluZGV4K3NbMF0ubGVuZ3RoO3JldHVybiBzWzFdP3RoaXMuY2xvc2luZ0JyYWNrZXRCbG9jayhlLHNbMV0sbixvKTplLmdldENvbW1lbnRGb2xkUmFuZ2UobixvLC0xKX19fSx0aGlzLmdldFNlY3Rpb25SYW5nZT1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZ2V0TGluZSh0KSxyPW4uc2VhcmNoKC9cUy8pLHM9dCxvPW4ubGVuZ3RoO3QrPTE7Zm9yKHZhciB1PXQsYT1lLmdldExlbmd0aCgpOysrdDxhOyl7bj1lLmdldExpbmUodCk7dmFyIGY9bi5zZWFyY2goL1xTLyk7aWYoLTEhPT1mKXtpZihyPmYpYnJlYWs7dmFyIGw9dGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2UoZSwiYWxsIix0KTtpZihsKXtpZihsLnN0YXJ0LnJvdzw9cylicmVhaztpZihsLmlzTXVsdGlMaW5lKCkpdD1sLmVuZC5yb3c7ZWxzZSBpZihyPT1mKWJyZWFrfXU9dH19cmV0dXJuIG5ldyBpKHMsbyx1LGUuZ2V0TGluZSh1KS5sZW5ndGgpfX0uY2FsbChvLnByb3RvdHlwZSl9KSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSxlKTplKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cz9yZXF1aXJlKCJqcXVlcnkiKTpqUXVlcnkpfShmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtpZighZS5qc3RyZWUpe3ZhciBsLGgsaT0wLHM9ITEscj0hMSxuPSExLGE9W10sZD1lKCJzY3JpcHQ6bGFzdCIpLmF0dHIoInNyYyIpLG89ZG9jdW1lbnQsYz1vLmNyZWF0ZUVsZW1lbnQoIkxJIik7Yy5zZXRBdHRyaWJ1dGUoInJvbGUiLCJ0cmVlaXRlbSIpLGw9by5jcmVhdGVFbGVtZW50KCJJIiksbC5jbGFzc05hbWU9ImpzdHJlZS1pY29uIGpzdHJlZS1vY2wiLGMuYXBwZW5kQ2hpbGQobCksbD1vLmNyZWF0ZUVsZW1lbnQoIkEiKSxsLmNsYXNzTmFtZT0ianN0cmVlLWFuY2hvciIsbC5zZXRBdHRyaWJ1dGUoImhyZWYiLCIjIiksaD1vLmNyZWF0ZUVsZW1lbnQoIkkiKSxoLmNsYXNzTmFtZT0ianN0cmVlLWljb24ganN0cmVlLXRoZW1laWNvbiIsbC5hcHBlbmRDaGlsZChoKSxjLmFwcGVuZENoaWxkKGwpLGw9aD1udWxsLGUuanN0cmVlPXt2ZXJzaW9uOiIzLjAuNCIsZGVmYXVsdHM6e3BsdWdpbnM6W119LHBsdWdpbnM6e30scGF0aDpkJiYtMSE9PWQuaW5kZXhPZigiLyIpP2QucmVwbGFjZSgvXC9bXlwvXSskLywiIik6IiIsaWRyZWdleDovW1xcOiYhXnwoKVxbXF08PkAqJyt+IyI7Liw9XC0gXC8ke30lXS9nfSxlLmpzdHJlZS5jcmVhdGU9ZnVuY3Rpb24odCxzKXt2YXIgcj1uZXcgZS5qc3RyZWUuY29yZSgrK2kpLG49cztyZXR1cm4gcz1lLmV4dGVuZCghMCx7fSxlLmpzdHJlZS5kZWZhdWx0cyxzKSxuJiZuLnBsdWdpbnMmJihzLnBsdWdpbnM9bi5wbHVnaW5zKSxlLmVhY2gocy5wbHVnaW5zLGZ1bmN0aW9uKGUsdCl7ImNvcmUiIT09ZSYmKHI9ci5wbHVnaW4odCxzW3RdKSl9KSxyLmluaXQodCxzKSxyfSxlLmpzdHJlZS5kZXN0cm95PWZ1bmN0aW9uKCl7ZSgiLmpzdHJlZTpqc3RyZWUiKS5qc3RyZWUoImRlc3Ryb3kiKSxlKGRvY3VtZW50KS5vZmYoIi5qc3RyZWUiKX0sZS5qc3RyZWUuY29yZT1mdW5jdGlvbihlKXt0aGlzLl9pZD1lLHRoaXMuX2NudD0wLHRoaXMuX3dyaz1udWxsLHRoaXMuX2RhdGE9e2NvcmU6e3RoZW1lczp7bmFtZTohMSxkb3RzOiExLGljb25zOiExfSxzZWxlY3RlZDpbXSxsYXN0X2Vycm9yOnt9LHdvcmtpbmc6ITEsd29ya2VyX3F1ZXVlOltdLGZvY3VzZWQ6bnVsbH19fSxlLmpzdHJlZS5yZWZlcmVuY2U9ZnVuY3Rpb24oaSl7dmFyIHM9bnVsbCxyPW51bGw7aWYoaSYmaS5pZCYmKGk9aS5pZCksIXJ8fCFyLmxlbmd0aCl0cnl7cj1lKGkpfWNhdGNoKG4pe31pZighcnx8IXIubGVuZ3RoKXRyeXtyPWUoIiMiK2kucmVwbGFjZShlLmpzdHJlZS5pZHJlZ2V4LCJcXCQmIikpCn1jYXRjaChuKXt9cmV0dXJuIHImJnIubGVuZ3RoJiYocj1yLmNsb3Nlc3QoIi5qc3RyZWUiKSkubGVuZ3RoJiYocj1yLmRhdGEoImpzdHJlZSIpKT9zPXI6ZSgiLmpzdHJlZSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1lKHRoaXMpLmRhdGEoImpzdHJlZSIpO3JldHVybiByJiZyLl9tb2RlbC5kYXRhW2ldPyhzPXIsITEpOnR9KSxzfSxlLmZuLmpzdHJlZT1mdW5jdGlvbihpKXt2YXIgcz0ic3RyaW5nIj09dHlwZW9mIGkscj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksbj1udWxsO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYT1lLmpzdHJlZS5yZWZlcmVuY2UodGhpcyksZD1zJiZhP2FbaV06bnVsbDtyZXR1cm4gbj1zJiZkP2QuYXBwbHkoYSxyKTpudWxsLGF8fHN8fGkhPT10JiYhZS5pc1BsYWluT2JqZWN0KGkpfHxlKHRoaXMpLmRhdGEoImpzdHJlZSIsbmV3IGUuanN0cmVlLmNyZWF0ZSh0aGlzLGkpKSwoYSYmIXN8fGk9PT0hMCkmJihuPWF8fCExKSxudWxsIT09biYmbiE9PXQ/ITE6dH0pLG51bGwhPT1uJiZuIT09dD9uOnRoaXN9LGUuZXhwclsiOiJdLmpzdHJlZT1lLmV4cHIuY3JlYXRlUHNldWRvKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBlKGkpLmhhc0NsYXNzKCJqc3RyZWUiKSYmZShpKS5kYXRhKCJqc3RyZWUiKSE9PXR9fSksZS5qc3RyZWUuZGVmYXVsdHMuY29yZT17ZGF0YTohMSxzdHJpbmdzOiExLGNoZWNrX2NhbGxiYWNrOiExLGVycm9yOmUubm9vcCxhbmltYXRpb246MjAwLG11bHRpcGxlOiEwLHRoZW1lczp7bmFtZTohMSx1cmw6ITEsZGlyOiExLGRvdHM6ITAsaWNvbnM6ITAsc3RyaXBlczohMSx2YXJpYW50OiExLHJlc3BvbnNpdmU6ITF9LGV4cGFuZF9zZWxlY3RlZF9vbmxvYWQ6ITAsd29ya2VyOiEwLGZvcmNlX3RleHQ6ITF9LGUuanN0cmVlLmNvcmUucHJvdG90eXBlPXtwbHVnaW46ZnVuY3Rpb24odCxpKXt2YXIgcz1lLmpzdHJlZS5wbHVnaW5zW3RdO3JldHVybiBzPyh0aGlzLl9kYXRhW3RdPXt9LHMucHJvdG90eXBlPXRoaXMsbmV3IHMoaSx0aGlzKSk6dGhpc30saW5pdDpmdW5jdGlvbih0LGkpe3RoaXMuX21vZGVsPXtkYXRhOnsiIyI6e2lkOiIjIixwYXJlbnQ6bnVsbCxwYXJlbnRzOltdLGNoaWxkcmVuOltdLGNoaWxkcmVuX2Q6W10sc3RhdGU6e2xvYWRlZDohMX19fSxjaGFuZ2VkOltdLGZvcmNlX2Z1bGxfcmVkcmF3OiExLHJlZHJhd190aW1lb3V0OiExLGRlZmF1bHRfc3RhdGU6e2xvYWRlZDohMCxvcGVuZWQ6ITEsc2VsZWN0ZWQ6ITEsZGlzYWJsZWQ6ITF9fSx0aGlzLmVsZW1lbnQ9ZSh0KS5hZGRDbGFzcygianN0cmVlIGpzdHJlZS0iK3RoaXMuX2lkKSx0aGlzLnNldHRpbmdzPWksdGhpcy5lbGVtZW50LmJpbmQoImRlc3Ryb3llZCIsZS5wcm94eSh0aGlzLnRlYXJkb3duLHRoaXMpKSx0aGlzLl9kYXRhLmNvcmUucmVhZHk9ITEsdGhpcy5fZGF0YS5jb3JlLmxvYWRlZD0hMSx0aGlzLl9kYXRhLmNvcmUucnRsPSJydGwiPT09dGhpcy5lbGVtZW50LmNzcygiZGlyZWN0aW9uIiksdGhpcy5lbGVtZW50W3RoaXMuX2RhdGEuY29yZS5ydGw/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXSgianN0cmVlLXJ0bCIpLHRoaXMuZWxlbWVudC5hdHRyKCJyb2xlIiwidHJlZSIpLHRoaXMuYmluZCgpLHRoaXMudHJpZ2dlcigiaW5pdCIpLHRoaXMuX2RhdGEuY29yZS5vcmlnaW5hbF9jb250YWluZXJfaHRtbD10aGlzLmVsZW1lbnQuZmluZCgiID4gdWwgPiBsaSIpLmNsb25lKCEwKSx0aGlzLl9kYXRhLmNvcmUub3JpZ2luYWxfY29udGFpbmVyX2h0bWwuZmluZCgibGkiKS5hZGRCYWNrKCkuY29udGVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMz09PXRoaXMubm9kZVR5cGUmJighdGhpcy5ub2RlVmFsdWV8fC9eXHMrJC8udGVzdCh0aGlzLm5vZGVWYWx1ZSkpfSkucmVtb3ZlKCksdGhpcy5lbGVtZW50Lmh0bWwoIjx1bCBjbGFzcz0nanN0cmVlLWNvbnRhaW5lci11bCBqc3RyZWUtY2hpbGRyZW4nPjxsaSBjbGFzcz0nanN0cmVlLWluaXRpYWwtbm9kZSBqc3RyZWUtbG9hZGluZyBqc3RyZWUtbGVhZiBqc3RyZWUtbGFzdCc+PGkgY2xhc3M9J2pzdHJlZS1pY29uIGpzdHJlZS1vY2wnPjwvaT48YSBjbGFzcz0nanN0cmVlLWFuY2hvcicgaHJlZj0nIyc+PGkgY2xhc3M9J2pzdHJlZS1pY29uIGpzdHJlZS10aGVtZWljb24taGlkZGVuJz48L2k+Iit0aGlzLmdldF9zdHJpbmcoIkxvYWRpbmcgLi4uIikrIjwvYT48L2xpPjwvdWw+IiksdGhpcy5fZGF0YS5jb3JlLmxpX2hlaWdodD10aGlzLmdldF9jb250YWluZXJfdWwoKS5jaGlsZHJlbigibGk6ZXEoMCkiKS5oZWlnaHQoKXx8MjQsdGhpcy50cmlnZ2VyKCJsb2FkaW5nIiksdGhpcy5sb2FkX25vZGUoIiMiKX0sZGVzdHJveTpmdW5jdGlvbihlKXtlfHx0aGlzLmVsZW1lbnQuZW1wdHkoKSx0aGlzLmVsZW1lbnQudW5iaW5kKCJkZXN0cm95ZWQiLHRoaXMudGVhcmRvd24pLHRoaXMudGVhcmRvd24oKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt0aGlzLnVuYmluZCgpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygianN0cmVlIikucmVtb3ZlRGF0YSgianN0cmVlIikuZmluZCgiW2NsYXNzXj0nanN0cmVlJ10iKS5hZGRCYWNrKCkuYXR0cigiY2xhc3MiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xhc3NOYW1lLnJlcGxhY2UoL2pzdHJlZVteIF0qfCQvZ2ksIiIpfSksdGhpcy5lbGVtZW50PW51bGx9LGJpbmQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQub24oImRibGNsaWNrLmpzdHJlZSIsZnVuY3Rpb24oKXtpZihkb2N1bWVudC5zZWxlY3Rpb24mJmRvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSlkb2N1bWVudC5zZWxlY3Rpb24uZW1wdHkoKTtlbHNlIGlmKHdpbmRvdy5nZXRTZWxlY3Rpb24pe3ZhciBlPXdpbmRvdy5nZXRTZWxlY3Rpb24oKTt0cnl7ZS5yZW1vdmVBbGxSYW5nZXMoKSxlLmNvbGxhcHNlKCl9Y2F0Y2godCl7fX19KS5vbigiY2xpY2suanN0cmVlIiwiLmpzdHJlZS1vY2wiLGUucHJveHkoZnVuY3Rpb24oZSl7dGhpcy50b2dnbGVfbm9kZShlLnRhcmdldCl9LHRoaXMpKS5vbigiY2xpY2suanN0cmVlIiwiLmpzdHJlZS1hbmNob3IiLGUucHJveHkoZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpLHQuY3VycmVudFRhcmdldCE9PWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQmJmUodC5jdXJyZW50VGFyZ2V0KS5mb2N1cygpLHRoaXMuYWN0aXZhdGVfbm9kZSh0LmN1cnJlbnRUYXJnZXQsdCl9LHRoaXMpKS5vbigia2V5ZG93bi5qc3RyZWUiLCIuanN0cmVlLWFuY2hvciIsZS5wcm94eShmdW5jdGlvbih0KXtpZigiSU5QVVQiPT09dC50YXJnZXQudGFnTmFtZSlyZXR1cm4hMDt2YXIgaT1udWxsO3N3aXRjaCh0LndoaWNoKXtjYXNlIDEzOmNhc2UgMzI6dC50eXBlPSJjbGljayIsZSh0LmN1cnJlbnRUYXJnZXQpLnRyaWdnZXIodCk7YnJlYWs7Y2FzZSAzNzp0LnByZXZlbnREZWZhdWx0KCksdGhpcy5pc19vcGVuKHQuY3VycmVudFRhcmdldCk/dGhpcy5jbG9zZV9ub2RlKHQuY3VycmVudFRhcmdldCk6KGk9dGhpcy5nZXRfcHJldl9kb20odC5jdXJyZW50VGFyZ2V0KSxpJiZpLmxlbmd0aCYmaS5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5mb2N1cygpKTticmVhaztjYXNlIDM4OnQucHJldmVudERlZmF1bHQoKSxpPXRoaXMuZ2V0X3ByZXZfZG9tKHQuY3VycmVudFRhcmdldCksaSYmaS5sZW5ndGgmJmkuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuZm9jdXMoKTticmVhaztjYXNlIDM5OnQucHJldmVudERlZmF1bHQoKSx0aGlzLmlzX2Nsb3NlZCh0LmN1cnJlbnRUYXJnZXQpP3RoaXMub3Blbl9ub2RlKHQuY3VycmVudFRhcmdldCxmdW5jdGlvbihlKXt0aGlzLmdldF9ub2RlKGUsITApLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLmZvY3VzKCl9KTooaT10aGlzLmdldF9uZXh0X2RvbSh0LmN1cnJlbnRUYXJnZXQpLGkmJmkubGVuZ3RoJiZpLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLmZvY3VzKCkpO2JyZWFrO2Nhc2UgNDA6dC5wcmV2ZW50RGVmYXVsdCgpLGk9dGhpcy5nZXRfbmV4dF9kb20odC5jdXJyZW50VGFyZ2V0KSxpJiZpLmxlbmd0aCYmaS5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5mb2N1cygpO2JyZWFrO2Nhc2UgNDY6dC5wcmV2ZW50RGVmYXVsdCgpLGk9dGhpcy5nZXRfbm9kZSh0LmN1cnJlbnRUYXJnZXQpLGkmJmkuaWQmJiIjIiE9PWkuaWQmJihpPXRoaXMuaXNfc2VsZWN0ZWQoaSk/dGhpcy5nZXRfc2VsZWN0ZWQoKTppKTticmVhaztjYXNlIDExMzp0LnByZXZlbnREZWZhdWx0KCksaT10aGlzLmdldF9ub2RlKHQuY3VycmVudFRhcmdldCl9fSx0aGlzKSkub24oImxvYWRfbm9kZS5qc3RyZWUiLGUucHJveHkoZnVuY3Rpb24odCxpKXtpZihpLnN0YXR1cyYmKCIjIiE9PWkubm9kZS5pZHx8dGhpcy5fZGF0YS5jb3JlLmxvYWRlZHx8KHRoaXMuX2RhdGEuY29yZS5sb2FkZWQ9ITAsdGhpcy50cmlnZ2VyKCJsb2FkZWQiKSksIXRoaXMuX2RhdGEuY29yZS5yZWFkeSYmIXRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLmZpbmQoIi5qc3RyZWUtbG9hZGluZzplcSgwKSIpLmxlbmd0aCkpe2lmKHRoaXMuX2RhdGEuY29yZS5yZWFkeT0hMCx0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQubGVuZ3RoKXtpZih0aGlzLnNldHRpbmdzLmNvcmUuZXhwYW5kX3NlbGVjdGVkX29ubG9hZCl7dmFyIHIsbixzPVtdO2ZvcihyPTAsbj10aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQubGVuZ3RoO24+cjtyKyspcz1zLmNvbmNhdCh0aGlzLl9tb2RlbC5kYXRhW3RoaXMuX2RhdGEuY29yZS5zZWxlY3RlZFtyXV0ucGFyZW50cyk7Zm9yKHM9ZS52YWthdGEuYXJyYXlfdW5pcXVlKHMpLHI9MCxuPXMubGVuZ3RoO24+cjtyKyspdGhpcy5vcGVuX25vZGUoc1tyXSwhMSwwKX10aGlzLnRyaWdnZXIoImNoYW5nZWQiLHthY3Rpb246InJlYWR5IixzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWR9KX1zZXRUaW1lb3V0KGUucHJveHkoZnVuY3Rpb24oKXt0aGlzLnRyaWdnZXIoInJlYWR5Iil9LHRoaXMpLDApfX0sdGhpcykpLm9uKCJpbml0LmpzdHJlZSIsZS5wcm94eShmdW5jdGlvbigpe3ZhciBlPXRoaXMuc2V0dGluZ3MuY29yZS50aGVtZXM7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5kb3RzPWUuZG90cyx0aGlzLl9kYXRhLmNvcmUudGhlbWVzLnN0cmlwZXM9ZS5zdHJpcGVzLHRoaXMuX2RhdGEuY29yZS50aGVtZXMuaWNvbnM9ZS5pY29ucyx0aGlzLnNldF90aGVtZShlLm5hbWV8fCJkZWZhdWx0IixlLnVybCksdGhpcy5zZXRfdGhlbWVfdmFyaWFudChlLnZhcmlhbnQpfSx0aGlzKSkub24oImxvYWRpbmcuanN0cmVlIixlLnByb3h5KGZ1bmN0aW9uKCl7dGhpc1t0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmRvdHM/InNob3dfZG90cyI6ImhpZGVfZG90cyJdKCksdGhpc1t0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmljb25zPyJzaG93X2ljb25zIjoiaGlkZV9pY29ucyJdKCksdGhpc1t0aGlzLl9kYXRhLmNvcmUudGhlbWVzLnN0cmlwZXM/InNob3dfc3RyaXBlcyI6ImhpZGVfc3RyaXBlcyJdKCl9LHRoaXMpKS5vbigiYmx1ci5qc3RyZWUiLCIuanN0cmVlLWFuY2hvciIsZS5wcm94eShmdW5jdGlvbih0KXt0aGlzLl9kYXRhLmNvcmUuZm9jdXNlZD1udWxsLGUodC5jdXJyZW50VGFyZ2V0KS5maWx0ZXIoIi5qc3RyZWUtaG92ZXJlZCIpLm1vdXNlbGVhdmUoKX0sdGhpcykpLm9uKCJmb2N1cy5qc3RyZWUiLCIuanN0cmVlLWFuY2hvciIsZS5wcm94eShmdW5jdGlvbih0KXt2YXIgaT10aGlzLmdldF9ub2RlKHQuY3VycmVudFRhcmdldCk7aSYmaS5pZCYmKHRoaXMuX2RhdGEuY29yZS5mb2N1c2VkPWkuaWQpLHRoaXMuZWxlbWVudC5maW5kKCIuanN0cmVlLWhvdmVyZWQiKS5ub3QodC5jdXJyZW50VGFyZ2V0KS5tb3VzZWxlYXZlKCksZSh0LmN1cnJlbnRUYXJnZXQpLm1vdXNlZW50ZXIoKX0sdGhpcykpLm9uKCJtb3VzZWVudGVyLmpzdHJlZSIsIi5qc3RyZWUtYW5jaG9yIixlLnByb3h5KGZ1bmN0aW9uKGUpe3RoaXMuaG92ZXJfbm9kZShlLmN1cnJlbnRUYXJnZXQpfSx0aGlzKSkub24oIm1vdXNlbGVhdmUuanN0cmVlIiwiLmpzdHJlZS1hbmNob3IiLGUucHJveHkoZnVuY3Rpb24oZSl7dGhpcy5kZWhvdmVyX25vZGUoZS5jdXJyZW50VGFyZ2V0KX0sdGhpcykpfSx1bmJpbmQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQub2ZmKCIuanN0cmVlIiksZShkb2N1bWVudCkub2ZmKCIuanN0cmVlLSIrdGhpcy5faWQpfSx0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7dHx8KHQ9e30pLHQuaW5zdGFuY2U9dGhpcyx0aGlzLmVsZW1lbnQudHJpZ2dlckhhbmRsZXIoZS5yZXBsYWNlKCIuanN0cmVlIiwiIikrIi5qc3RyZWUiLHQpfSxnZXRfY29udGFpbmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudH0sZ2V0X2NvbnRhaW5lcl91bDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuY2hpbGRyZW4oIi5qc3RyZWUtY2hpbGRyZW46ZXEoMCkiKX0sZ2V0X3N0cmluZzpmdW5jdGlvbih0KXt2YXIgaT10aGlzLnNldHRpbmdzLmNvcmUuc3RyaW5ncztyZXR1cm4gZS5pc0Z1bmN0aW9uKGkpP2kuY2FsbCh0aGlzLHQpOmkmJmlbdF0/aVt0XTp0fSxfZmlyc3RDaGlsZDpmdW5jdGlvbihlKXtmb3IoZT1lP2UuZmlyc3RDaGlsZDpudWxsO251bGwhPT1lJiYxIT09ZS5ub2RlVHlwZTspZT1lLm5leHRTaWJsaW5nO3JldHVybiBlfSxfbmV4dFNpYmxpbmc6ZnVuY3Rpb24oZSl7Zm9yKGU9ZT9lLm5leHRTaWJsaW5nOm51bGw7bnVsbCE9PWUmJjEhPT1lLm5vZGVUeXBlOyllPWUubmV4dFNpYmxpbmc7cmV0dXJuIGV9LF9wcmV2aW91c1NpYmxpbmc6ZnVuY3Rpb24oZSl7Zm9yKGU9ZT9lLnByZXZpb3VzU2libGluZzpudWxsO251bGwhPT1lJiYxIT09ZS5ub2RlVHlwZTspZT1lLnByZXZpb3VzU2libGluZztyZXR1cm4gZX0sZ2V0X25vZGU6ZnVuY3Rpb24odCxpKXt0JiZ0LmlkJiYodD10LmlkKTt2YXIgczt0cnl7aWYodGhpcy5fbW9kZWwuZGF0YVt0XSl0PXRoaXMuX21vZGVsLmRhdGFbdF07ZWxzZSBpZigoKHM9ZSh0LHRoaXMuZWxlbWVudCkpLmxlbmd0aHx8KHM9ZSgiIyIrdC5yZXBsYWNlKGUuanN0cmVlLmlkcmVnZXgsIlxcJCYiKSx0aGlzLmVsZW1lbnQpKS5sZW5ndGgpJiZ0aGlzLl9tb2RlbC5kYXRhW3MuY2xvc2VzdCgiLmpzdHJlZS1ub2RlIikuYXR0cigiaWQiKV0pdD10aGlzLl9tb2RlbC5kYXRhW3MuY2xvc2VzdCgiLmpzdHJlZS1ub2RlIikuYXR0cigiaWQiKV07ZWxzZXtpZighKHM9ZSh0LHRoaXMuZWxlbWVudCkpLmxlbmd0aHx8IXMuaGFzQ2xhc3MoImpzdHJlZSIpKXJldHVybiExO3Q9dGhpcy5fbW9kZWwuZGF0YVsiIyJdfXJldHVybiBpJiYodD0iIyI9PT10LmlkP3RoaXMuZWxlbWVudDplKCIjIit0LmlkLnJlcGxhY2UoZS5qc3RyZWUuaWRyZWdleCwiXFwkJiIpLHRoaXMuZWxlbWVudCkpLHR9Y2F0Y2gocil7cmV0dXJuITF9fSxnZXRfcGF0aDpmdW5jdGlvbihlLHQsaSl7aWYoZT1lLnBhcmVudHM/ZTp0aGlzLmdldF9ub2RlKGUpLCFlfHwiIyI9PT1lLmlkfHwhZS5wYXJlbnRzKXJldHVybiExO3ZhciBzLHIsbj1bXTtmb3Iobi5wdXNoKGk/ZS5pZDplLnRleHQpLHM9MCxyPWUucGFyZW50cy5sZW5ndGg7cj5zO3MrKyluLnB1c2goaT9lLnBhcmVudHNbc106dGhpcy5nZXRfdGV4dChlLnBhcmVudHNbc10pKTtyZXR1cm4gbj1uLnJldmVyc2UoKS5zbGljZSgxKSx0P24uam9pbih0KTpufSxnZXRfbmV4dF9kb206ZnVuY3Rpb24odCxpKXt2YXIgcztpZih0PXRoaXMuZ2V0X25vZGUodCwhMCksdFswXT09PXRoaXMuZWxlbWVudFswXSl7Zm9yKHM9dGhpcy5fZmlyc3RDaGlsZCh0aGlzLmdldF9jb250YWluZXJfdWwoKVswXSk7cyYmMD09PXMub2Zmc2V0SGVpZ2h0OylzPXRoaXMuX25leHRTaWJsaW5nKHMpO3JldHVybiBzP2Uocyk6ITF9aWYoIXR8fCF0Lmxlbmd0aClyZXR1cm4hMTtpZihpKXtzPXRbMF07ZG8gcz10aGlzLl9uZXh0U2libGluZyhzKTt3aGlsZShzJiYwPT09cy5vZmZzZXRIZWlnaHQpO3JldHVybiBzP2Uocyk6ITF9aWYodC5oYXNDbGFzcygianN0cmVlLW9wZW4iKSl7Zm9yKHM9dGhpcy5fZmlyc3RDaGlsZCh0LmNoaWxkcmVuKCIuanN0cmVlLWNoaWxkcmVuIilbMF0pO3MmJjA9PT1zLm9mZnNldEhlaWdodDspcz10aGlzLl9uZXh0U2libGluZyhzKTtpZihudWxsIT09cylyZXR1cm4gZShzKX1zPXRbMF07ZG8gcz10aGlzLl9uZXh0U2libGluZyhzKTt3aGlsZShzJiYwPT09cy5vZmZzZXRIZWlnaHQpO3JldHVybiBudWxsIT09cz9lKHMpOnQucGFyZW50c1VudGlsKCIuanN0cmVlIiwiLmpzdHJlZS1ub2RlIikubmV4dCgiLmpzdHJlZS1ub2RlOnZpc2libGUiKS5lcSgwKX0sZ2V0X3ByZXZfZG9tOmZ1bmN0aW9uKHQsaSl7dmFyIHM7aWYodD10aGlzLmdldF9ub2RlKHQsITApLHRbMF09PT10aGlzLmVsZW1lbnRbMF0pe2ZvcihzPXRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpWzBdLmxhc3RDaGlsZDtzJiYwPT09cy5vZmZzZXRIZWlnaHQ7KXM9dGhpcy5fcHJldmlvdXNTaWJsaW5nKHMpO3JldHVybiBzP2Uocyk6ITF9aWYoIXR8fCF0Lmxlbmd0aClyZXR1cm4hMTtpZihpKXtzPXRbMF07ZG8gcz10aGlzLl9wcmV2aW91c1NpYmxpbmcocyk7d2hpbGUocyYmMD09PXMub2Zmc2V0SGVpZ2h0KTtyZXR1cm4gcz9lKHMpOiExfXM9dFswXTtkbyBzPXRoaXMuX3ByZXZpb3VzU2libGluZyhzKTt3aGlsZShzJiYwPT09cy5vZmZzZXRIZWlnaHQpO2lmKG51bGwhPT1zKXtmb3IodD1lKHMpO3QuaGFzQ2xhc3MoImpzdHJlZS1vcGVuIik7KXQ9dC5jaGlsZHJlbigiLmpzdHJlZS1jaGlsZHJlbjplcSgwKSIpLmNoaWxkcmVuKCIuanN0cmVlLW5vZGU6dmlzaWJsZTpsYXN0Iik7cmV0dXJuIHR9cmV0dXJuIHM9dFswXS5wYXJlbnROb2RlLnBhcmVudE5vZGUscyYmcy5jbGFzc05hbWUmJi0xIT09cy5jbGFzc05hbWUuaW5kZXhPZigianN0cmVlLW5vZGUiKT9lKHMpOiExfSxnZXRfcGFyZW50OmZ1bmN0aW9uKGUpe3JldHVybiBlPXRoaXMuZ2V0X25vZGUoZSksZSYmIiMiIT09ZS5pZD9lLnBhcmVudDohMX0sZ2V0X2NoaWxkcmVuX2RvbTpmdW5jdGlvbihlKXtyZXR1cm4gZT10aGlzLmdldF9ub2RlKGUsITApLGVbMF09PT10aGlzLmVsZW1lbnRbMF0/dGhpcy5nZXRfY29udGFpbmVyX3VsKCkuY2hpbGRyZW4oIi5qc3RyZWUtbm9kZSIpOmUmJmUubGVuZ3RoP2UuY2hpbGRyZW4oIi5qc3RyZWUtY2hpbGRyZW4iKS5jaGlsZHJlbigiLmpzdHJlZS1ub2RlIik6ITF9LGlzX3BhcmVudDpmdW5jdGlvbihlKXtyZXR1cm4gZT10aGlzLmdldF9ub2RlKGUpLGUmJihlLnN0YXRlLmxvYWRlZD09PSExfHxlLmNoaWxkcmVuLmxlbmd0aD4wKX0saXNfbG9hZGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlPXRoaXMuZ2V0X25vZGUoZSksZSYmZS5zdGF0ZS5sb2FkZWR9LGlzX2xvYWRpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9dGhpcy5nZXRfbm9kZShlKSxlJiZlLnN0YXRlJiZlLnN0YXRlLmxvYWRpbmd9LGlzX29wZW46ZnVuY3Rpb24oZSl7cmV0dXJuIGU9dGhpcy5nZXRfbm9kZShlKSxlJiZlLnN0YXRlLm9wZW5lZH0saXNfY2xvc2VkOmZ1bmN0aW9uKGUpe3JldHVybiBlPXRoaXMuZ2V0X25vZGUoZSksZSYmdGhpcy5pc19wYXJlbnQoZSkmJiFlLnN0YXRlLm9wZW5lZH0saXNfbGVhZjpmdW5jdGlvbihlKXtyZXR1cm4hdGhpcy5pc19wYXJlbnQoZSl9LGxvYWRfbm9kZTpmdW5jdGlvbih0LGkpe3ZhciBzLHIsbixhLGQ7aWYoZS5pc0FycmF5KHQpKXJldHVybiB0aGlzLl9sb2FkX25vZGVzKHQuc2xpY2UoKSxpKSwhMDtpZih0PXRoaXMuZ2V0X25vZGUodCksIXQpcmV0dXJuIGkmJmkuY2FsbCh0aGlzLHQsITEpLCExO2lmKHQuc3RhdGUubG9hZGVkKXtmb3IodC5zdGF0ZS5sb2FkZWQ9ITEscz0wLHI9dC5jaGlsZHJlbl9kLmxlbmd0aDtyPnM7cysrKXtmb3Iobj0wLGE9dC5wYXJlbnRzLmxlbmd0aDthPm47bisrKXRoaXMuX21vZGVsLmRhdGFbdC5wYXJlbnRzW25dXS5jaGlsZHJlbl9kPWUudmFrYXRhLmFycmF5X3JlbW92ZV9pdGVtKHRoaXMuX21vZGVsLmRhdGFbdC5wYXJlbnRzW25dXS5jaGlsZHJlbl9kLHQuY2hpbGRyZW5fZFtzXSk7dGhpcy5fbW9kZWwuZGF0YVt0LmNoaWxkcmVuX2Rbc11dLnN0YXRlLnNlbGVjdGVkJiYoZD0hMCx0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQ9ZS52YWthdGEuYXJyYXlfcmVtb3ZlX2l0ZW0odGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLHQuY2hpbGRyZW5fZFtzXSkpLGRlbGV0ZSB0aGlzLl9tb2RlbC5kYXRhW3QuY2hpbGRyZW5fZFtzXV19dC5jaGlsZHJlbj1bXSx0LmNoaWxkcmVuX2Q9W10sZCYmdGhpcy50cmlnZ2VyKCJjaGFuZ2VkIix7YWN0aW9uOiJsb2FkX25vZGUiLG5vZGU6dCxzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWR9KX1yZXR1cm4gdC5zdGF0ZS5sb2FkaW5nPSEwLHRoaXMuZ2V0X25vZGUodCwhMCkuYWRkQ2xhc3MoImpzdHJlZS1sb2FkaW5nIiksdGhpcy5fbG9hZF9ub2RlKHQsZS5wcm94eShmdW5jdGlvbihlKXt0PXRoaXMuX21vZGVsLmRhdGFbdC5pZF0sdC5zdGF0ZS5sb2FkaW5nPSExLHQuc3RhdGUubG9hZGVkPWU7dmFyIHM9dGhpcy5nZXRfbm9kZSh0LCEwKTt0LnN0YXRlLmxvYWRlZCYmIXQuY2hpbGRyZW4ubGVuZ3RoJiZzJiZzLmxlbmd0aCYmIXMuaGFzQ2xhc3MoImpzdHJlZS1sZWFmIikmJnMucmVtb3ZlQ2xhc3MoImpzdHJlZS1jbG9zZWQganN0cmVlLW9wZW4iKS5hZGRDbGFzcygianN0cmVlLWxlYWYiKSxzLnJlbW92ZUNsYXNzKCJqc3RyZWUtbG9hZGluZyIpLHRoaXMudHJpZ2dlcigibG9hZF9ub2RlIix7bm9kZTp0LHN0YXR1czplfSksaSYmaS5jYWxsKHRoaXMsdCxlKX0sdGhpcykpLCEwfSxfbG9hZF9ub2RlczpmdW5jdGlvbihlLHQsaSl7dmFyIGEsZCxzPSEwLHI9ZnVuY3Rpb24oKXt0aGlzLl9sb2FkX25vZGVzKGUsdCwhMCl9LG49dGhpcy5fbW9kZWwuZGF0YTtmb3IoYT0wLGQ9ZS5sZW5ndGg7ZD5hO2ErKykhbltlW2FdXXx8bltlW2FdXS5zdGF0ZS5sb2FkZWQmJml8fCh0aGlzLmlzX2xvYWRpbmcoZVthXSl8fHRoaXMubG9hZF9ub2RlKGVbYV0scikscz0hMSk7cyYmdCYmIXQuZG9uZSYmKHQuY2FsbCh0aGlzLGUpLHQuZG9uZT0hMCl9LF9sb2FkX25vZGU6ZnVuY3Rpb24odCxpKXt2YXIgcixzPXRoaXMuc2V0dGluZ3MuY29yZS5kYXRhO3JldHVybiBzP2UuaXNGdW5jdGlvbihzKT9zLmNhbGwodGhpcyx0LGUucHJveHkoZnVuY3Rpb24ocyl7cz09PSExJiZpLmNhbGwodGhpcywhMSksdGhpc1sic3RyaW5nIj09dHlwZW9mIHM/Il9hcHBlbmRfaHRtbF9kYXRhIjoiX2FwcGVuZF9qc29uX2RhdGEiXSh0LCJzdHJpbmciPT10eXBlb2Ygcz9lKHMpOnMsZnVuY3Rpb24oZSl7aS5jYWxsKHRoaXMsZSl9KX0sdGhpcykpOiJvYmplY3QiPT10eXBlb2Ygcz9zLnVybD8ocz1lLmV4dGVuZCghMCx7fSxzKSxlLmlzRnVuY3Rpb24ocy51cmwpJiYocy51cmw9cy51cmwuY2FsbCh0aGlzLHQpKSxlLmlzRnVuY3Rpb24ocy5kYXRhKSYmKHMuZGF0YT1zLmRhdGEuY2FsbCh0aGlzLHQpKSxlLmFqYXgocykuZG9uZShlLnByb3h5KGZ1bmN0aW9uKHMscixuKXt2YXIgYT1uLmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKTtyZXR1cm4tMSE9PWEuaW5kZXhPZigianNvbiIpfHwib2JqZWN0Ij09dHlwZW9mIHM/dGhpcy5fYXBwZW5kX2pzb25fZGF0YSh0LHMsZnVuY3Rpb24oZSl7aS5jYWxsKHRoaXMsZSl9KTotMSE9PWEuaW5kZXhPZigiaHRtbCIpfHwic3RyaW5nIj09dHlwZW9mIHM/dGhpcy5fYXBwZW5kX2h0bWxfZGF0YSh0LGUocyksZnVuY3Rpb24oZSl7aS5jYWxsKHRoaXMsZSl9KToodGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOiJhamF4IixwbHVnaW46ImNvcmUiLGlkOiJjb3JlXzA0IixyZWFzb246IkNvdWxkIG5vdCBsb2FkIG5vZGUiLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2lkOnQuaWQseGhyOm59KX0sdGhpcy5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvciksaS5jYWxsKHRoaXMsITEpKX0sdGhpcykpLmZhaWwoZS5wcm94eShmdW5jdGlvbihlKXtpLmNhbGwodGhpcywhMSksdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOiJhamF4IixwbHVnaW46ImNvcmUiLGlkOiJjb3JlXzA0IixyZWFzb246IkNvdWxkIG5vdCBsb2FkIG5vZGUiLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2lkOnQuaWQseGhyOmV9KX0sdGhpcy5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcil9LHRoaXMpKSk6KHI9ZS5pc0FycmF5KHMpfHxlLmlzUGxhaW5PYmplY3Qocyk/SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzKSk6cywiIyI9PT10LmlkP3RoaXMuX2FwcGVuZF9qc29uX2RhdGEodCxyLGZ1bmN0aW9uKGUpe2kuY2FsbCh0aGlzLGUpfSk6KHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjoibm9kYXRhIixwbHVnaW46ImNvcmUiLGlkOiJjb3JlXzA1IixyZWFzb246IkNvdWxkIG5vdCBsb2FkIG5vZGUiLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2lkOnQuaWR9KX0sdGhpcy5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvciksaS5jYWxsKHRoaXMsITEpKSk6InN0cmluZyI9PXR5cGVvZiBzPyIjIj09PXQuaWQ/dGhpcy5fYXBwZW5kX2h0bWxfZGF0YSh0LGUocyksZnVuY3Rpb24oZSl7aS5jYWxsKHRoaXMsZSl9KToodGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOiJub2RhdGEiLHBsdWdpbjoiY29yZSIsaWQ6ImNvcmVfMDYiLHJlYXNvbjoiQ291bGQgbm90IGxvYWQgbm9kZSIsZGF0YTpKU09OLnN0cmluZ2lmeSh7aWQ6dC5pZH0pfSx0aGlzLnNldHRpbmdzLmNvcmUuZXJyb3IuY2FsbCh0aGlzLHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yKSxpLmNhbGwodGhpcywhMSkpOmkuY2FsbCh0aGlzLCExKToiIyI9PT10LmlkP3RoaXMuX2FwcGVuZF9odG1sX2RhdGEodCx0aGlzLl9kYXRhLmNvcmUub3JpZ2luYWxfY29udGFpbmVyX2h0bWwuY2xvbmUoITApLGZ1bmN0aW9uKGUpe2kuY2FsbCh0aGlzLGUpfSk6aS5jYWxsKHRoaXMsITEpfSxfbm9kZV9jaGFuZ2VkOmZ1bmN0aW9uKGUpe2U9dGhpcy5nZXRfbm9kZShlKSxlJiZ0aGlzLl9tb2RlbC5jaGFuZ2VkLnB1c2goZS5pZCl9LF9hcHBlbmRfaHRtbF9kYXRhOmZ1bmN0aW9uKHQsaSxzKXt0PXRoaXMuZ2V0X25vZGUodCksdC5jaGlsZHJlbj1bXSx0LmNoaWxkcmVuX2Q9W107dmFyIGgsXyx1LHI9aS5pcygidWwiKT9pLmNoaWxkcmVuKCk6aSxuPXQuaWQsYT1bXSxkPVtdLG89dGhpcy5fbW9kZWwuZGF0YSxjPW9bbl0sbD10aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQubGVuZ3RoO2ZvcihyLmVhY2goZS5wcm94eShmdW5jdGlvbih0LGkpe2g9dGhpcy5fcGFyc2VfbW9kZWxfZnJvbV9odG1sKGUoaSksbixjLnBhcmVudHMuY29uY2F0KCkpLGgmJihhLnB1c2goaCksZC5wdXNoKGgpLG9baF0uY2hpbGRyZW5fZC5sZW5ndGgmJihkPWQuY29uY2F0KG9baF0uY2hpbGRyZW5fZCkpKX0sdGhpcykpLGMuY2hpbGRyZW49YSxjLmNoaWxkcmVuX2Q9ZCxfPTAsdT1jLnBhcmVudHMubGVuZ3RoO3U+XztfKyspb1tjLnBhcmVudHNbX11dLmNoaWxkcmVuX2Q9b1tjLnBhcmVudHNbX11dLmNoaWxkcmVuX2QuY29uY2F0KGQpO3RoaXMudHJpZ2dlcigibW9kZWwiLHtub2RlczpkLHBhcmVudDpufSksIiMiIT09bj8odGhpcy5fbm9kZV9jaGFuZ2VkKG4pLHRoaXMucmVkcmF3KCkpOih0aGlzLmdldF9jb250YWluZXJfdWwoKS5jaGlsZHJlbigiLmpzdHJlZS1pbml0aWFsLW5vZGUiKS5yZW1vdmUoKSx0aGlzLnJlZHJhdyghMCkpLHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5sZW5ndGghPT1sJiZ0aGlzLnRyaWdnZXIoImNoYW5nZWQiLHthY3Rpb246Im1vZGVsIixzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWR9KSxzLmNhbGwodGhpcywhMCl9LF9hcHBlbmRfanNvbl9kYXRhOmZ1bmN0aW9uKHQsaSxzLHIpe3Q9dGhpcy5nZXRfbm9kZSh0KSx0LmNoaWxkcmVuPVtdLHQuY2hpbGRyZW5fZD1bXSxpLmQmJihpPWkuZCwic3RyaW5nIj09dHlwZW9mIGkmJihpPUpTT04ucGFyc2UoaSkpKSxlLmlzQXJyYXkoaSl8fChpPVtpXSk7dmFyIG49bnVsbCxhPXtkZjp0aGlzLl9tb2RlbC5kZWZhdWx0X3N0YXRlLGRhdDppLHBhcjp0LmlkLG06dGhpcy5fbW9kZWwuZGF0YSx0X2lkOnRoaXMuX2lkLHRfY250OnRoaXMuX2NudCxzZWw6dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkfSxkPWZ1bmN0aW9uKGUsdCl7ZS5kYXRhJiYoZT1lLmRhdGEpO3ZhciB1LGcsZixwLGk9ZS5kYXQscz1lLnBhcixyPVtdLG49W10sYT1bXSxkPWUuZGYsbz1lLnRfaWQsYz1lLnRfY250LGw9ZS5tLGg9bFtzXSxfPWUuc2VsLG09ZnVuY3Rpb24oZSxpLHMpe3M9cz9zLmNvbmNhdCgpOltdLGkmJnMudW5zaGlmdChpKTt2YXIgbixvLGMsaCxyPSIiK2UuaWQsXz17aWQ6cix0ZXh0OmUudGV4dHx8IiIsaWNvbjplLmljb24hPT10P2UuaWNvbjohMCxwYXJlbnQ6aSxwYXJlbnRzOnMsY2hpbGRyZW46ZS5jaGlsZHJlbnx8W10sY2hpbGRyZW5fZDplLmNoaWxkcmVuX2R8fFtdLGRhdGE6ZS5kYXRhLHN0YXRlOnt9LGxpX2F0dHI6e2lkOiExfSxhX2F0dHI6e2hyZWY6IiMifSxvcmlnaW5hbDohMX07Zm9yKG4gaW4gZClkLmhhc093blByb3BlcnR5KG4pJiYoXy5zdGF0ZVtuXT1kW25dKTtpZihlJiZlLmRhdGEmJmUuZGF0YS5qc3RyZWUmJmUuZGF0YS5qc3RyZWUuaWNvbiYmKF8uaWNvbj1lLmRhdGEuanN0cmVlLmljb24pLGUmJmUuZGF0YSYmKF8uZGF0YT1lLmRhdGEsZS5kYXRhLmpzdHJlZSkpZm9yKG4gaW4gZS5kYXRhLmpzdHJlZSllLmRhdGEuanN0cmVlLmhhc093blByb3BlcnR5KG4pJiYoXy5zdGF0ZVtuXT1lLmRhdGEuanN0cmVlW25dKTtpZihlJiYib2JqZWN0Ij09dHlwZW9mIGUuc3RhdGUpZm9yKG4gaW4gZS5zdGF0ZSllLnN0YXRlLmhhc093blByb3BlcnR5KG4pJiYoXy5zdGF0ZVtuXT1lLnN0YXRlW25dKTtpZihlJiYib2JqZWN0Ij09dHlwZW9mIGUubGlfYXR0cilmb3IobiBpbiBlLmxpX2F0dHIpZS5saV9hdHRyLmhhc093blByb3BlcnR5KG4pJiYoXy5saV9hdHRyW25dPWUubGlfYXR0cltuXSk7aWYoXy5saV9hdHRyLmlkfHwoXy5saV9hdHRyLmlkPXIpLGUmJiJvYmplY3QiPT10eXBlb2YgZS5hX2F0dHIpZm9yKG4gaW4gZS5hX2F0dHIpZS5hX2F0dHIuaGFzT3duUHJvcGVydHkobikmJihfLmFfYXR0cltuXT1lLmFfYXR0cltuXSk7Zm9yKGUmJmUuY2hpbGRyZW4mJmUuY2hpbGRyZW49PT0hMCYmKF8uc3RhdGUubG9hZGVkPSExLF8uY2hpbGRyZW49W10sXy5jaGlsZHJlbl9kPVtdKSxsW18uaWRdPV8sbj0wLG89Xy5jaGlsZHJlbi5sZW5ndGg7bz5uO24rKyljPW0obFtfLmNoaWxkcmVuW25dXSxfLmlkLHMpLGg9bFtjXSxfLmNoaWxkcmVuX2QucHVzaChjKSxoLmNoaWxkcmVuX2QubGVuZ3RoJiYoXy5jaGlsZHJlbl9kPV8uY2hpbGRyZW5fZC5jb25jYXQoaC5jaGlsZHJlbl9kKSk7cmV0dXJuIGRlbGV0ZSBlLmRhdGEsZGVsZXRlIGUuY2hpbGRyZW4sbFtfLmlkXS5vcmlnaW5hbD1lLF8uc3RhdGUuc2VsZWN0ZWQmJmEucHVzaChfLmlkKSxfLmlkfSx2PWZ1bmN0aW9uKGUsaSxzKXtzPXM/cy5jb25jYXQoKTpbXSxpJiZzLnVuc2hpZnQoaSk7dmFyIG4saCxfLHUsZyxyPSExO2RvIHI9ImoiK28rIl8iKyArK2M7d2hpbGUobFtyXSk7Zz17aWQ6ITEsdGV4dDoic3RyaW5nIj09dHlwZW9mIGU/ZToiIixpY29uOiJvYmplY3QiPT10eXBlb2YgZSYmZS5pY29uIT09dD9lLmljb246ITAscGFyZW50OmkscGFyZW50czpzLGNoaWxkcmVuOltdLGNoaWxkcmVuX2Q6W10sZGF0YTpudWxsLHN0YXRlOnt9LGxpX2F0dHI6e2lkOiExfSxhX2F0dHI6e2hyZWY6IiMifSxvcmlnaW5hbDohMX07Zm9yKG4gaW4gZClkLmhhc093blByb3BlcnR5KG4pJiYoZy5zdGF0ZVtuXT1kW25dKTtpZihlJiZlLmlkJiYoZy5pZD0iIitlLmlkKSxlJiZlLnRleHQmJihnLnRleHQ9ZS50ZXh0KSxlJiZlLmRhdGEmJmUuZGF0YS5qc3RyZWUmJmUuZGF0YS5qc3RyZWUuaWNvbiYmKGcuaWNvbj1lLmRhdGEuanN0cmVlLmljb24pLGUmJmUuZGF0YSYmKGcuZGF0YT1lLmRhdGEsZS5kYXRhLmpzdHJlZSkpZm9yKG4gaW4gZS5kYXRhLmpzdHJlZSllLmRhdGEuanN0cmVlLmhhc093blByb3BlcnR5KG4pJiYoZy5zdGF0ZVtuXT1lLmRhdGEuanN0cmVlW25dKTtpZihlJiYib2JqZWN0Ij09dHlwZW9mIGUuc3RhdGUpZm9yKG4gaW4gZS5zdGF0ZSllLnN0YXRlLmhhc093blByb3BlcnR5KG4pJiYoZy5zdGF0ZVtuXT1lLnN0YXRlW25dKTtpZihlJiYib2JqZWN0Ij09dHlwZW9mIGUubGlfYXR0cilmb3IobiBpbiBlLmxpX2F0dHIpZS5saV9hdHRyLmhhc093blByb3BlcnR5KG4pJiYoZy5saV9hdHRyW25dPWUubGlfYXR0cltuXSk7aWYoZy5saV9hdHRyLmlkJiYhZy5pZCYmKGcuaWQ9IiIrZy5saV9hdHRyLmlkKSxnLmlkfHwoZy5pZD1yKSxnLmxpX2F0dHIuaWR8fChnLmxpX2F0dHIuaWQ9Zy5pZCksZSYmIm9iamVjdCI9PXR5cGVvZiBlLmFfYXR0cilmb3IobiBpbiBlLmFfYXR0cillLmFfYXR0ci5oYXNPd25Qcm9wZXJ0eShuKSYmKGcuYV9hdHRyW25dPWUuYV9hdHRyW25dKTtpZihlJiZlLmNoaWxkcmVuJiZlLmNoaWxkcmVuLmxlbmd0aCl7Zm9yKG49MCxoPWUuY2hpbGRyZW4ubGVuZ3RoO2g+bjtuKyspXz12KGUuY2hpbGRyZW5bbl0sZy5pZCxzKSx1PWxbX10sZy5jaGlsZHJlbi5wdXNoKF8pLHUuY2hpbGRyZW5fZC5sZW5ndGgmJihnLmNoaWxkcmVuX2Q9Zy5jaGlsZHJlbl9kLmNvbmNhdCh1LmNoaWxkcmVuX2QpKTtnLmNoaWxkcmVuX2Q9Zy5jaGlsZHJlbl9kLmNvbmNhdChnLmNoaWxkcmVuKX1yZXR1cm4gZSYmZS5jaGlsZHJlbiYmZS5jaGlsZHJlbj09PSEwJiYoZy5zdGF0ZS5sb2FkZWQ9ITEsZy5jaGlsZHJlbj1bXSxnLmNoaWxkcmVuX2Q9W10pLGRlbGV0ZSBlLmRhdGEsZGVsZXRlIGUuY2hpbGRyZW4sZy5vcmlnaW5hbD1lLGxbZy5pZF09ZyxnLnN0YXRlLnNlbGVjdGVkJiZhLnB1c2goZy5pZCksZy5pZH07aWYoaS5sZW5ndGgmJmlbMF0uaWQhPT10JiZpWzBdLnBhcmVudCE9PXQpe2ZvcihnPTAsZj1pLmxlbmd0aDtmPmc7ZysrKWlbZ10uY2hpbGRyZW58fChpW2ddLmNoaWxkcmVuPVtdKSxsWyIiK2lbZ10uaWRdPWlbZ107Zm9yKGc9MCxmPWkubGVuZ3RoO2Y+ZztnKyspbFsiIitpW2ddLnBhcmVudF0uY2hpbGRyZW4ucHVzaCgiIitpW2ddLmlkKSxoLmNoaWxkcmVuX2QucHVzaCgiIitpW2ddLmlkKTtmb3IoZz0wLGY9aC5jaGlsZHJlbi5sZW5ndGg7Zj5nO2crKyl1PW0obFtoLmNoaWxkcmVuW2ddXSxzLGgucGFyZW50cy5jb25jYXQoKSksbi5wdXNoKHUpLGxbdV0uY2hpbGRyZW5fZC5sZW5ndGgmJihuPW4uY29uY2F0KGxbdV0uY2hpbGRyZW5fZCkpO2ZvcihnPTAsZj1oLnBhcmVudHMubGVuZ3RoO2Y+ZztnKyspbFtoLnBhcmVudHNbZ11dLmNoaWxkcmVuX2Q9bFtoLnBhcmVudHNbZ11dLmNoaWxkcmVuX2QuY29uY2F0KG4pO3A9e2NudDpjLG1vZDpsLHNlbDpfLHBhcjpzLGRwYzpuLGFkZDphfX1lbHNle2ZvcihnPTAsZj1pLmxlbmd0aDtmPmc7ZysrKXU9dihpW2ddLHMsaC5wYXJlbnRzLmNvbmNhdCgpKSx1JiYoci5wdXNoKHUpLG4ucHVzaCh1KSxsW3VdLmNoaWxkcmVuX2QubGVuZ3RoJiYobj1uLmNvbmNhdChsW3VdLmNoaWxkcmVuX2QpKSk7Zm9yKGguY2hpbGRyZW49cixoLmNoaWxkcmVuX2Q9bixnPTAsZj1oLnBhcmVudHMubGVuZ3RoO2Y+ZztnKyspbFtoLnBhcmVudHNbZ11dLmNoaWxkcmVuX2Q9bFtoLnBhcmVudHNbZ11dLmNoaWxkcmVuX2QuY29uY2F0KG4pO3A9e2NudDpjLG1vZDpsLHNlbDpfLHBhcjpzLGRwYzpuLGFkZDphfX1yZXR1cm4gcH0sbz1mdW5jdGlvbih0LGkpe2lmKHRoaXMuX2NudD10LmNudCx0aGlzLl9tb2RlbC5kYXRhPXQubW9kLGkpe3ZhciByLG4sYT10LmFkZCxkPXQuc2VsLG89dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLnNsaWNlKCksYz10aGlzLl9tb2RlbC5kYXRhO2lmKGQubGVuZ3RoIT09by5sZW5ndGh8fGUudmFrYXRhLmFycmF5X3VuaXF1ZShkLmNvbmNhdChvKSkubGVuZ3RoIT09ZC5sZW5ndGgpe2ZvcihyPTAsbj1kLmxlbmd0aDtuPnI7cisrKS0xPT09ZS5pbkFycmF5KGRbcl0sYSkmJi0xPT09ZS5pbkFycmF5KGRbcl0sbykmJihjW2Rbcl1dLnN0YXRlLnNlbGVjdGVkPSExKTtmb3Iocj0wLG49by5sZW5ndGg7bj5yO3IrKyktMT09PWUuaW5BcnJheShvW3JdLGQpJiYoY1tvW3JdXS5zdGF0ZS5zZWxlY3RlZD0hMCl9fXQuYWRkLmxlbmd0aCYmKHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZD10aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQuY29uY2F0KHQuYWRkKSksdGhpcy50cmlnZ2VyKCJtb2RlbCIse25vZGVzOnQuZHBjLHBhcmVudDp0LnBhcn0pLCIjIiE9PXQucGFyPyh0aGlzLl9ub2RlX2NoYW5nZWQodC5wYXIpLHRoaXMucmVkcmF3KCkpOnRoaXMucmVkcmF3KCEwKSx0LmFkZC5sZW5ndGgmJnRoaXMudHJpZ2dlcigiY2hhbmdlZCIse2FjdGlvbjoibW9kZWwiLHNlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZH0pLHMuY2FsbCh0aGlzLCEwKX07aWYodGhpcy5zZXR0aW5ncy5jb3JlLndvcmtlciYmd2luZG93LkJsb2ImJndpbmRvdy5VUkwmJndpbmRvdy5Xb3JrZXIpdHJ5e251bGw9PT10aGlzLl93cmsmJih0aGlzLl93cms9d2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IHdpbmRvdy5CbG9iKFsic2VsZi5vbm1lc3NhZ2UgPSAiKygiIitkKS5yZXBsYWNlKC9yZXR1cm4gKFteO31dKylbXHM7fV0rJC8sInBvc3RNZXNzYWdlKCQxKTt9IildLHt0eXBlOiJ0ZXh0L2phdmFzY3JpcHQifSkpKSwhdGhpcy5fZGF0YS5jb3JlLndvcmtpbmd8fHI/KHRoaXMuX2RhdGEuY29yZS53b3JraW5nPSEwLG49bmV3IHdpbmRvdy5Xb3JrZXIodGhpcy5fd3JrKSxuLm9ubWVzc2FnZT1lLnByb3h5KGZ1bmN0aW9uKGUpe28uY2FsbCh0aGlzLGUuZGF0YSwhMCksdGhpcy5fZGF0YS5jb3JlLndvcmtlcl9xdWV1ZS5sZW5ndGg/dGhpcy5fYXBwZW5kX2pzb25fZGF0YS5hcHBseSh0aGlzLHRoaXMuX2RhdGEuY29yZS53b3JrZXJfcXVldWUuc2hpZnQoKSk6dGhpcy5fZGF0YS5jb3JlLndvcmtpbmc9ITF9LHRoaXMpLGEucGFyP24ucG9zdE1lc3NhZ2UoYSk6dGhpcy5fZGF0YS5jb3JlLndvcmtlcl9xdWV1ZS5sZW5ndGg/dGhpcy5fYXBwZW5kX2pzb25fZGF0YS5hcHBseSh0aGlzLHRoaXMuX2RhdGEuY29yZS53b3JrZXJfcXVldWUuc2hpZnQoKSk6dGhpcy5fZGF0YS5jb3JlLndvcmtpbmc9ITEpOnRoaXMuX2RhdGEuY29yZS53b3JrZXJfcXVldWUucHVzaChbdCxpLHMsITBdKX1jYXRjaChjKXtvLmNhbGwodGhpcyxkKGEpLCExKSx0aGlzLl9kYXRhLmNvcmUud29ya2VyX3F1ZXVlLmxlbmd0aD90aGlzLl9hcHBlbmRfanNvbl9kYXRhLmFwcGx5KHRoaXMsdGhpcy5fZGF0YS5jb3JlLndvcmtlcl9xdWV1ZS5zaGlmdCgpKTp0aGlzLl9kYXRhLmNvcmUud29ya2luZz0hMX1lbHNlIG8uY2FsbCh0aGlzLGQoYSksITEpfSxfcGFyc2VfbW9kZWxfZnJvbV9odG1sOmZ1bmN0aW9uKGkscyxyKXtyPXI/W10uY29uY2F0KHIpOltdLHMmJnIudW5zaGlmdChzKTt2YXIgbixhLGMsbCxoLGQ9dGhpcy5fbW9kZWwuZGF0YSxvPXtpZDohMSx0ZXh0OiExLGljb246ITAscGFyZW50OnMscGFyZW50czpyLGNoaWxkcmVuOltdLGNoaWxkcmVuX2Q6W10sZGF0YTpudWxsLHN0YXRlOnt9LGxpX2F0dHI6e2lkOiExfSxhX2F0dHI6e2hyZWY6IiMifSxvcmlnaW5hbDohMX07Zm9yKGMgaW4gdGhpcy5fbW9kZWwuZGVmYXVsdF9zdGF0ZSl0aGlzLl9tb2RlbC5kZWZhdWx0X3N0YXRlLmhhc093blByb3BlcnR5KGMpJiYoby5zdGF0ZVtjXT10aGlzLl9tb2RlbC5kZWZhdWx0X3N0YXRlW2NdKTtpZihsPWUudmFrYXRhLmF0dHJpYnV0ZXMoaSwhMCksZS5lYWNoKGwsZnVuY3Rpb24oaSxzKXtyZXR1cm4gcz1lLnRyaW0ocykscy5sZW5ndGg/KG8ubGlfYXR0cltpXT1zLCJpZCI9PT1pJiYoby5pZD0iIitzKSx0KTohMH0pLGw9aS5jaGlsZHJlbigiYSIpLmVxKDApLGwubGVuZ3RoJiYobD1lLnZha2F0YS5hdHRyaWJ1dGVzKGwsITApLGUuZWFjaChsLGZ1bmN0aW9uKHQsaSl7aT1lLnRyaW0oaSksaS5sZW5ndGgmJihvLmFfYXR0clt0XT1pKX0pKSxsPWkuY2hpbGRyZW4oImE6ZXEoMCkiKS5sZW5ndGg/aS5jaGlsZHJlbigiYTplcSgwKSIpLmNsb25lKCk6aS5jbG9uZSgpLGwuY2hpbGRyZW4oImlucywgaSwgdWwiKS5yZW1vdmUoKSxsPWwuaHRtbCgpLGw9ZSgiPGRpdiAvPiIpLmh0bWwobCksby50ZXh0PXRoaXMuc2V0dGluZ3MuY29yZS5mb3JjZV90ZXh0P2wudGV4dCgpOmwuaHRtbCgpLGw9aS5kYXRhKCksby5kYXRhPWw/ZS5leHRlbmQoITAse30sbCk6bnVsbCxvLnN0YXRlLm9wZW5lZD1pLmhhc0NsYXNzKCJqc3RyZWUtb3BlbiIpLG8uc3RhdGUuc2VsZWN0ZWQ9aS5jaGlsZHJlbigiYSIpLmhhc0NsYXNzKCJqc3RyZWUtY2xpY2tlZCIpLG8uc3RhdGUuZGlzYWJsZWQ9aS5jaGlsZHJlbigiYSIpLmhhc0NsYXNzKCJqc3RyZWUtZGlzYWJsZWQiKSxvLmRhdGEmJm8uZGF0YS5qc3RyZWUpZm9yKGMgaW4gby5kYXRhLmpzdHJlZSlvLmRhdGEuanN0cmVlLmhhc093blByb3BlcnR5KGMpJiYoby5zdGF0ZVtjXT1vLmRhdGEuanN0cmVlW2NdKTtsPWkuY2hpbGRyZW4oImEiKS5jaGlsZHJlbigiLmpzdHJlZS10aGVtZWljb24iKSxsLmxlbmd0aCYmKG8uaWNvbj1sLmhhc0NsYXNzKCJqc3RyZWUtdGhlbWVpY29uLWhpZGRlbiIpPyExOmwuYXR0cigicmVsIikpLG8uc3RhdGUuaWNvbiYmKG8uaWNvbj1vLnN0YXRlLmljb24pLGw9aS5jaGlsZHJlbigidWwiKS5jaGlsZHJlbigibGkiKTtkbyBoPSJqIit0aGlzLl9pZCsiXyIrICsrdGhpcy5fY250O3doaWxlKGRbaF0pO3JldHVybiBvLmlkPW8ubGlfYXR0ci5pZD8iIitvLmxpX2F0dHIuaWQ6aCxsLmxlbmd0aD8obC5lYWNoKGUucHJveHkoZnVuY3Rpb24odCxpKXtuPXRoaXMuX3BhcnNlX21vZGVsX2Zyb21faHRtbChlKGkpLG8uaWQsciksYT10aGlzLl9tb2RlbC5kYXRhW25dLG8uY2hpbGRyZW4ucHVzaChuKSxhLmNoaWxkcmVuX2QubGVuZ3RoJiYoby5jaGlsZHJlbl9kPW8uY2hpbGRyZW5fZC5jb25jYXQoYS5jaGlsZHJlbl9kKSl9LHRoaXMpKSxvLmNoaWxkcmVuX2Q9by5jaGlsZHJlbl9kLmNvbmNhdChvLmNoaWxkcmVuKSk6aS5oYXNDbGFzcygianN0cmVlLWNsb3NlZCIpJiYoby5zdGF0ZS5sb2FkZWQ9ITEpLG8ubGlfYXR0clsiY2xhc3MiXSYmKG8ubGlfYXR0clsiY2xhc3MiXT1vLmxpX2F0dHJbImNsYXNzIl0ucmVwbGFjZSgianN0cmVlLWNsb3NlZCIsIiIpLnJlcGxhY2UoImpzdHJlZS1vcGVuIiwiIikpLG8uYV9hdHRyWyJjbGFzcyJdJiYoby5hX2F0dHJbImNsYXNzIl09by5hX2F0dHJbImNsYXNzIl0ucmVwbGFjZSgianN0cmVlLWNsaWNrZWQiLCIiKS5yZXBsYWNlKCJqc3RyZWUtZGlzYWJsZWQiLCIiKSksZFtvLmlkXT1vLG8uc3RhdGUuc2VsZWN0ZWQmJnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5wdXNoKG8uaWQpLG8uaWR9LF9wYXJzZV9tb2RlbF9mcm9tX2ZsYXRfanNvbjpmdW5jdGlvbihlLGkscyl7cz1zP3MuY29uY2F0KCk6W10saSYmcy51bnNoaWZ0KGkpO3ZhciBkLG8sYyxsLHI9IiIrZS5pZCxuPXRoaXMuX21vZGVsLmRhdGEsYT10aGlzLl9tb2RlbC5kZWZhdWx0X3N0YXRlLGg9e2lkOnIsdGV4dDplLnRleHR8fCIiLGljb246ZS5pY29uIT09dD9lLmljb246ITAscGFyZW50OmkscGFyZW50czpzLGNoaWxkcmVuOmUuY2hpbGRyZW58fFtdLGNoaWxkcmVuX2Q6ZS5jaGlsZHJlbl9kfHxbXSxkYXRhOmUuZGF0YSxzdGF0ZTp7fSxsaV9hdHRyOntpZDohMX0sYV9hdHRyOntocmVmOiIjIn0sb3JpZ2luYWw6ITF9O2ZvcihkIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShkKSYmKGguc3RhdGVbZF09YVtkXSk7aWYoZSYmZS5kYXRhJiZlLmRhdGEuanN0cmVlJiZlLmRhdGEuanN0cmVlLmljb24mJihoLmljb249ZS5kYXRhLmpzdHJlZS5pY29uKSxlJiZlLmRhdGEmJihoLmRhdGE9ZS5kYXRhLGUuZGF0YS5qc3RyZWUpKWZvcihkIGluIGUuZGF0YS5qc3RyZWUpZS5kYXRhLmpzdHJlZS5oYXNPd25Qcm9wZXJ0eShkKSYmKGguc3RhdGVbZF09ZS5kYXRhLmpzdHJlZVtkXSk7aWYoZSYmIm9iamVjdCI9PXR5cGVvZiBlLnN0YXRlKWZvcihkIGluIGUuc3RhdGUpZS5zdGF0ZS5oYXNPd25Qcm9wZXJ0eShkKSYmKGguc3RhdGVbZF09ZS5zdGF0ZVtkXSk7aWYoZSYmIm9iamVjdCI9PXR5cGVvZiBlLmxpX2F0dHIpZm9yKGQgaW4gZS5saV9hdHRyKWUubGlfYXR0ci5oYXNPd25Qcm9wZXJ0eShkKSYmKGgubGlfYXR0cltkXT1lLmxpX2F0dHJbZF0pO2lmKGgubGlfYXR0ci5pZHx8KGgubGlfYXR0ci5pZD1yKSxlJiYib2JqZWN0Ij09dHlwZW9mIGUuYV9hdHRyKWZvcihkIGluIGUuYV9hdHRyKWUuYV9hdHRyLmhhc093blByb3BlcnR5KGQpJiYoaC5hX2F0dHJbZF09ZS5hX2F0dHJbZF0pO2ZvcihlJiZlLmNoaWxkcmVuJiZlLmNoaWxkcmVuPT09ITAmJihoLnN0YXRlLmxvYWRlZD0hMSxoLmNoaWxkcmVuPVtdLGguY2hpbGRyZW5fZD1bXSksbltoLmlkXT1oLGQ9MCxvPWguY2hpbGRyZW4ubGVuZ3RoO28+ZDtkKyspYz10aGlzLl9wYXJzZV9tb2RlbF9mcm9tX2ZsYXRfanNvbihuW2guY2hpbGRyZW5bZF1dLGguaWQscyksbD1uW2NdLGguY2hpbGRyZW5fZC5wdXNoKGMpLGwuY2hpbGRyZW5fZC5sZW5ndGgmJihoLmNoaWxkcmVuX2Q9aC5jaGlsZHJlbl9kLmNvbmNhdChsLmNoaWxkcmVuX2QpKTtyZXR1cm4gZGVsZXRlIGUuZGF0YSxkZWxldGUgZS5jaGlsZHJlbixuW2guaWRdLm9yaWdpbmFsPWUsaC5zdGF0ZS5zZWxlY3RlZCYmdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLnB1c2goaC5pZCksaC5pZH0sX3BhcnNlX21vZGVsX2Zyb21fanNvbjpmdW5jdGlvbihlLGkscyl7cz1zP3MuY29uY2F0KCk6W10saSYmcy51bnNoaWZ0KGkpO3ZhciBuLGEsZCxvLGgscj0hMSxjPXRoaXMuX21vZGVsLmRhdGEsbD10aGlzLl9tb2RlbC5kZWZhdWx0X3N0YXRlO2RvIHI9ImoiK3RoaXMuX2lkKyJfIisgKyt0aGlzLl9jbnQ7d2hpbGUoY1tyXSk7aD17aWQ6ITEsdGV4dDoic3RyaW5nIj09dHlwZW9mIGU/ZToiIixpY29uOiJvYmplY3QiPT10eXBlb2YgZSYmZS5pY29uIT09dD9lLmljb246ITAscGFyZW50OmkscGFyZW50czpzLGNoaWxkcmVuOltdLGNoaWxkcmVuX2Q6W10sZGF0YTpudWxsLHN0YXRlOnt9LGxpX2F0dHI6e2lkOiExfSxhX2F0dHI6e2hyZWY6IiMifSxvcmlnaW5hbDohMX07Zm9yKG4gaW4gbClsLmhhc093blByb3BlcnR5KG4pJiYoaC5zdGF0ZVtuXT1sW25dKTtpZihlJiZlLmlkJiYoaC5pZD0iIitlLmlkKSxlJiZlLnRleHQmJihoLnRleHQ9ZS50ZXh0KSxlJiZlLmRhdGEmJmUuZGF0YS5qc3RyZWUmJmUuZGF0YS5qc3RyZWUuaWNvbiYmKGguaWNvbj1lLmRhdGEuanN0cmVlLmljb24pLGUmJmUuZGF0YSYmKGguZGF0YT1lLmRhdGEsZS5kYXRhLmpzdHJlZSkpZm9yKG4gaW4gZS5kYXRhLmpzdHJlZSllLmRhdGEuanN0cmVlLmhhc093blByb3BlcnR5KG4pJiYoaC5zdGF0ZVtuXT1lLmRhdGEuanN0cmVlW25dKTtpZihlJiYib2JqZWN0Ij09dHlwZW9mIGUuc3RhdGUpZm9yKG4gaW4gZS5zdGF0ZSllLnN0YXRlLmhhc093blByb3BlcnR5KG4pJiYoaC5zdGF0ZVtuXT1lLnN0YXRlW25dKTtpZihlJiYib2JqZWN0Ij09dHlwZW9mIGUubGlfYXR0cilmb3IobiBpbiBlLmxpX2F0dHIpZS5saV9hdHRyLmhhc093blByb3BlcnR5KG4pJiYoaC5saV9hdHRyW25dPWUubGlfYXR0cltuXSk7aWYoaC5saV9hdHRyLmlkJiYhaC5pZCYmKGguaWQ9IiIraC5saV9hdHRyLmlkKSxoLmlkfHwoaC5pZD1yKSxoLmxpX2F0dHIuaWR8fChoLmxpX2F0dHIuaWQ9aC5pZCksZSYmIm9iamVjdCI9PXR5cGVvZiBlLmFfYXR0cilmb3IobiBpbiBlLmFfYXR0cillLmFfYXR0ci5oYXNPd25Qcm9wZXJ0eShuKSYmKGguYV9hdHRyW25dPWUuYV9hdHRyW25dKTtpZihlJiZlLmNoaWxkcmVuJiZlLmNoaWxkcmVuLmxlbmd0aCl7Zm9yKG49MCxhPWUuY2hpbGRyZW4ubGVuZ3RoO2E+bjtuKyspZD10aGlzLl9wYXJzZV9tb2RlbF9mcm9tX2pzb24oZS5jaGlsZHJlbltuXSxoLmlkLHMpLG89Y1tkXSxoLmNoaWxkcmVuLnB1c2goZCksby5jaGlsZHJlbl9kLmxlbmd0aCYmKGguY2hpbGRyZW5fZD1oLmNoaWxkcmVuX2QuY29uY2F0KG8uY2hpbGRyZW5fZCkpO2guY2hpbGRyZW5fZD1oLmNoaWxkcmVuX2QuY29uY2F0KGguY2hpbGRyZW4pfXJldHVybiBlJiZlLmNoaWxkcmVuJiZlLmNoaWxkcmVuPT09ITAmJihoLnN0YXRlLmxvYWRlZD0hMSxoLmNoaWxkcmVuPVtdLGguY2hpbGRyZW5fZD1bXSksZGVsZXRlIGUuZGF0YSxkZWxldGUgZS5jaGlsZHJlbixoLm9yaWdpbmFsPWUsY1toLmlkXT1oLGguc3RhdGUuc2VsZWN0ZWQmJnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5wdXNoKGguaWQpLGguaWR9LF9yZWRyYXc6ZnVuY3Rpb24oKXt2YXIgaSxzLHIsZT10aGlzLl9tb2RlbC5mb3JjZV9mdWxsX3JlZHJhdz90aGlzLl9tb2RlbC5kYXRhWyIjIl0uY2hpbGRyZW4uY29uY2F0KFtdKTp0aGlzLl9tb2RlbC5jaGFuZ2VkLmNvbmNhdChbXSksdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJVTCIpLG49dGhpcy5fZGF0YS5jb3JlLmZvY3VzZWQ7Zm9yKHM9MCxyPWUubGVuZ3RoO3I+cztzKyspaT10aGlzLnJlZHJhd19ub2RlKGVbc10sITAsdGhpcy5fbW9kZWwuZm9yY2VfZnVsbF9yZWRyYXcpLGkmJnRoaXMuX21vZGVsLmZvcmNlX2Z1bGxfcmVkcmF3JiZ0LmFwcGVuZENoaWxkKGkpO3RoaXMuX21vZGVsLmZvcmNlX2Z1bGxfcmVkcmF3JiYodC5jbGFzc05hbWU9dGhpcy5nZXRfY29udGFpbmVyX3VsKClbMF0uY2xhc3NOYW1lLHRoaXMuZWxlbWVudC5lbXB0eSgpLmFwcGVuZCh0KSksbnVsbCE9PW4mJihpPXRoaXMuZ2V0X25vZGUobiwhMCksaSYmaS5sZW5ndGgmJmkuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIilbMF0hPT1kb2N1bWVudC5hY3RpdmVFbGVtZW50P2kuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuZm9jdXMoKTp0aGlzLl9kYXRhLmNvcmUuZm9jdXNlZD1udWxsKSx0aGlzLl9tb2RlbC5mb3JjZV9mdWxsX3JlZHJhdz0hMSx0aGlzLl9tb2RlbC5jaGFuZ2VkPVtdLHRoaXMudHJpZ2dlcigicmVkcmF3Iix7bm9kZXM6ZX0pfSxyZWRyYXc6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX21vZGVsLmZvcmNlX2Z1bGxfcmVkcmF3PSEwKSx0aGlzLl9yZWRyYXcoKX0scmVkcmF3X25vZGU6ZnVuY3Rpb24odCxpLHMpe3ZhciByPXRoaXMuZ2V0X25vZGUodCksbj0hMSxhPSExLGQ9ITEsbz0hMSxsPSExLGg9ITEsXz0iIix1PWRvY3VtZW50LGc9dGhpcy5fbW9kZWwuZGF0YSxmPSExLHA9ITEsbT1udWxsO2lmKCFyKXJldHVybiExO2lmKCIjIj09PXIuaWQpcmV0dXJuIHRoaXMucmVkcmF3KCEwKTtpZihpPWl8fDA9PT1yLmNoaWxkcmVuLmxlbmd0aCx0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I/dGhpcy5lbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoIiMiKygtMSE9PSIwMTIzNDU2Nzg5Ii5pbmRleE9mKHIuaWRbMF0pPyJcXDMiK3IuaWRbMF0rIiAiK3IuaWQuc3Vic3RyKDEpLnJlcGxhY2UoZS5qc3RyZWUuaWRyZWdleCwiXFwkJiIpOnIuaWQucmVwbGFjZShlLmpzdHJlZS5pZHJlZ2V4LCJcXCQmIikpKTpkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyLmlkKSl0PWUodCksc3x8KG49dC5wYXJlbnQoKS5wYXJlbnQoKVswXSxuPT09dGhpcy5lbGVtZW50WzBdJiYobj1udWxsKSxhPXQuaW5kZXgoKSksaXx8IXIuY2hpbGRyZW4ubGVuZ3RofHx0LmNoaWxkcmVuKCIuanN0cmVlLWNoaWxkcmVuIikubGVuZ3RofHwoaT0hMCksaXx8KGQ9dC5jaGlsZHJlbigiLmpzdHJlZS1jaGlsZHJlbiIpWzBdKSxwPXQuYXR0cigiYXJpYS1zZWxlY3RlZCIpLGY9dC5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKVswXT09PWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQsdC5yZW1vdmUoKTtlbHNlIGlmKGk9ITAsIXMpe2lmKG49IiMiIT09ci5wYXJlbnQ/ZSgiIyIrci5wYXJlbnQucmVwbGFjZShlLmpzdHJlZS5pZHJlZ2V4LCJcXCQmIiksdGhpcy5lbGVtZW50KVswXTpudWxsLCEobnVsbD09PW58fG4mJmdbci5wYXJlbnRdLnN0YXRlLm9wZW5lZCkpcmV0dXJuITE7YT1lLmluQXJyYXkoci5pZCxudWxsPT09bj9nWyIjIl0uY2hpbGRyZW46Z1tyLnBhcmVudF0uY2hpbGRyZW4pfXQ9Yy5jbG9uZU5vZGUoITApLF89ImpzdHJlZS1ub2RlICI7Zm9yKG8gaW4gci5saV9hdHRyKWlmKHIubGlfYXR0ci5oYXNPd25Qcm9wZXJ0eShvKSl7aWYoImlkIj09PW8pY29udGludWU7ImNsYXNzIiE9PW8/dC5zZXRBdHRyaWJ1dGUobyxyLmxpX2F0dHJbb10pOl8rPXIubGlfYXR0cltvXX1wJiYiZmFsc2UiIT09cCYmdC5zZXRBdHRyaWJ1dGUoImFyaWEtc2VsZWN0ZWQiLCEwKSxyLnN0YXRlLmxvYWRlZCYmIXIuY2hpbGRyZW4ubGVuZ3RoP18rPSIganN0cmVlLWxlYWYiOihfKz1yLnN0YXRlLm9wZW5lZCYmci5zdGF0ZS5sb2FkZWQ/IiBqc3RyZWUtb3BlbiI6IiBqc3RyZWUtY2xvc2VkIix0LnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsci5zdGF0ZS5vcGVuZWQmJnIuc3RhdGUubG9hZGVkKSksbnVsbCE9PXIucGFyZW50JiZnW3IucGFyZW50XS5jaGlsZHJlbltnW3IucGFyZW50XS5jaGlsZHJlbi5sZW5ndGgtMV09PT1yLmlkJiYoXys9IiBqc3RyZWUtbGFzdCIpLHQuaWQ9ci5pZCx0LmNsYXNzTmFtZT1fLF89KHIuc3RhdGUuc2VsZWN0ZWQ/IiBqc3RyZWUtY2xpY2tlZCI6IiIpKyhyLnN0YXRlLmRpc2FibGVkPyIganN0cmVlLWRpc2FibGVkIjoiIik7Zm9yKGwgaW4gci5hX2F0dHIpaWYoci5hX2F0dHIuaGFzT3duUHJvcGVydHkobCkpe2lmKCJocmVmIj09PWwmJiIjIj09PXIuYV9hdHRyW2xdKWNvbnRpbnVlOyJjbGFzcyIhPT1sP3QuY2hpbGROb2Rlc1sxXS5zZXRBdHRyaWJ1dGUobCxyLmFfYXR0cltsXSk6Xys9IiAiK3IuYV9hdHRyW2xdfWlmKF8ubGVuZ3RoJiYodC5jaGlsZE5vZGVzWzFdLmNsYXNzTmFtZT0ianN0cmVlLWFuY2hvciAiK18pLChyLmljb24mJnIuaWNvbiE9PSEwfHxyLmljb249PT0hMSkmJihyLmljb249PT0hMT90LmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1swXS5jbGFzc05hbWUrPSIganN0cmVlLXRoZW1laWNvbi1oaWRkZW4iOi0xPT09ci5pY29uLmluZGV4T2YoIi8iKSYmLTE9PT1yLmljb24uaW5kZXhPZigiLiIpP3QuY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzBdLmNsYXNzTmFtZSs9IiAiK3IuaWNvbisiIGpzdHJlZS10aGVtZWljb24tY3VzdG9tIjoodC5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbMF0uc3R5bGUuYmFja2dyb3VuZEltYWdlPSJ1cmwoIityLmljb24rIikiLHQuY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzBdLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj0iY2VudGVyIGNlbnRlciIsdC5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbMF0uc3R5bGUuYmFja2dyb3VuZFNpemU9ImF1dG8iLHQuY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzBdLmNsYXNzTmFtZSs9IiBqc3RyZWUtdGhlbWVpY29uLWN1c3RvbSIpKSx0aGlzLnNldHRpbmdzLmNvcmUuZm9yY2VfdGV4dD90LmNoaWxkTm9kZXNbMV0uYXBwZW5kQ2hpbGQodS5jcmVhdGVUZXh0Tm9kZShyLnRleHQpKTp0LmNoaWxkTm9kZXNbMV0uaW5uZXJIVE1MKz1yLnRleHQsaSYmci5jaGlsZHJlbi5sZW5ndGgmJnIuc3RhdGUub3BlbmVkJiZyLnN0YXRlLmxvYWRlZCl7Zm9yKGg9dS5jcmVhdGVFbGVtZW50KCJVTCIpLGguc2V0QXR0cmlidXRlKCJyb2xlIiwiZ3JvdXAiKSxoLmNsYXNzTmFtZT0ianN0cmVlLWNoaWxkcmVuIixvPTAsbD1yLmNoaWxkcmVuLmxlbmd0aDtsPm87bysrKWguYXBwZW5kQ2hpbGQodGhpcy5yZWRyYXdfbm9kZShyLmNoaWxkcmVuW29dLGksITApKTt0LmFwcGVuZENoaWxkKGgpfWlmKGQmJnQuYXBwZW5kQ2hpbGQoZCksIXMpe2ZvcihufHwobj10aGlzLmVsZW1lbnRbMF0pLG89MCxsPW4uY2hpbGROb2Rlcy5sZW5ndGg7bD5vO28rKylpZihuLmNoaWxkTm9kZXNbb10mJm4uY2hpbGROb2Rlc1tvXS5jbGFzc05hbWUmJi0xIT09bi5jaGlsZE5vZGVzW29dLmNsYXNzTmFtZS5pbmRleE9mKCJqc3RyZWUtY2hpbGRyZW4iKSl7bT1uLmNoaWxkTm9kZXNbb107YnJlYWt9bXx8KG09dS5jcmVhdGVFbGVtZW50KCJVTCIpLG0uc2V0QXR0cmlidXRlKCJyb2xlIiwiZ3JvdXAiKSxtLmNsYXNzTmFtZT0ianN0cmVlLWNoaWxkcmVuIixuLmFwcGVuZENoaWxkKG0pKSxuPW0sbi5jaGlsZE5vZGVzLmxlbmd0aD5hP24uaW5zZXJ0QmVmb3JlKHQsbi5jaGlsZE5vZGVzW2FdKTpuLmFwcGVuZENoaWxkKHQpLGYmJnQuY2hpbGROb2Rlc1sxXS5mb2N1cygpfXJldHVybiByLnN0YXRlLm9wZW5lZCYmIXIuc3RhdGUubG9hZGVkJiYoci5zdGF0ZS5vcGVuZWQ9ITEsc2V0VGltZW91dChlLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5vcGVuX25vZGUoci5pZCwhMSwwKX0sdGhpcyksMCkpLHR9LG9wZW5fbm9kZTpmdW5jdGlvbihpLHMscil7dmFyIG4sYSxkLG87aWYoZS5pc0FycmF5KGkpKXtmb3IoaT1pLnNsaWNlKCksbj0wLGE9aS5sZW5ndGg7YT5uO24rKyl0aGlzLm9wZW5fbm9kZShpW25dLHMscik7cmV0dXJuITB9aWYoaT10aGlzLmdldF9ub2RlKGkpLCFpfHwiIyI9PT1pLmlkKXJldHVybiExO2lmKHI9cj09PXQ/dGhpcy5zZXR0aW5ncy5jb3JlLmFuaW1hdGlvbjpyLCF0aGlzLmlzX2Nsb3NlZChpKSlyZXR1cm4gcyYmcy5jYWxsKHRoaXMsaSwhMSksITE7aWYodGhpcy5pc19sb2FkZWQoaSkpZD10aGlzLmdldF9ub2RlKGksITApLG89dGhpcyxkLmxlbmd0aCYmKGkuY2hpbGRyZW4ubGVuZ3RoJiYhdGhpcy5fZmlyc3RDaGlsZChkLmNoaWxkcmVuKCIuanN0cmVlLWNoaWxkcmVuIilbMF0pJiYoaS5zdGF0ZS5vcGVuZWQ9ITAsdGhpcy5yZWRyYXdfbm9kZShpLCEwKSxkPXRoaXMuZ2V0X25vZGUoaSwhMCkpLHI/KHRoaXMudHJpZ2dlcigiYmVmb3JlX29wZW4iLHtub2RlOml9KSxkLmNoaWxkcmVuKCIuanN0cmVlLWNoaWxkcmVuIikuY3NzKCJkaXNwbGF5Iiwibm9uZSIpLmVuZCgpLnJlbW92ZUNsYXNzKCJqc3RyZWUtY2xvc2VkIikuYWRkQ2xhc3MoImpzdHJlZS1vcGVuIikuYXR0cigiYXJpYS1leHBhbmRlZCIsITApLmNoaWxkcmVuKCIuanN0cmVlLWNoaWxkcmVuIikuc3RvcCghMCwhMCkuc2xpZGVEb3duKHIsZnVuY3Rpb24oKXt0aGlzLnN0eWxlLmRpc3BsYXk9IiIsby50cmlnZ2VyKCJhZnRlcl9vcGVuIix7bm9kZTppfSl9KSk6KHRoaXMudHJpZ2dlcigiYmVmb3JlX29wZW4iLHtub2RlOml9KSxkWzBdLmNsYXNzTmFtZT1kWzBdLmNsYXNzTmFtZS5yZXBsYWNlKCJqc3RyZWUtY2xvc2VkIiwianN0cmVlLW9wZW4iKSxkWzBdLnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsITApKSksaS5zdGF0ZS5vcGVuZWQ9ITAscyYmcy5jYWxsKHRoaXMsaSwhMCksZC5sZW5ndGh8fHRoaXMudHJpZ2dlcigiYmVmb3JlX29wZW4iLHtub2RlOml9KSx0aGlzLnRyaWdnZXIoIm9wZW5fbm9kZSIse25vZGU6aX0pLHImJmQubGVuZ3RofHx0aGlzLnRyaWdnZXIoImFmdGVyX29wZW4iLHtub2RlOml9KTtlbHNle2lmKHRoaXMuaXNfbG9hZGluZyhpKSlyZXR1cm4gc2V0VGltZW91dChlLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5vcGVuX25vZGUoaSxzLHIpfSx0aGlzKSw1MDApO3RoaXMubG9hZF9ub2RlKGksZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD90aGlzLm9wZW5fbm9kZShlLHMscik6cz9zLmNhbGwodGhpcyxlLCExKTohMX0pfX0sX29wZW5fdG86ZnVuY3Rpb24odCl7aWYodD10aGlzLmdldF9ub2RlKHQpLCF0fHwiIyI9PT10LmlkKXJldHVybiExO3ZhciBpLHMscj10LnBhcmVudHM7Zm9yKGk9MCxzPXIubGVuZ3RoO3M+aTtpKz0xKSIjIiE9PWkmJnRoaXMub3Blbl9ub2RlKHJbaV0sITEsMCk7cmV0dXJuIGUoIiMiK3QuaWQucmVwbGFjZShlLmpzdHJlZS5pZHJlZ2V4LCJcXCQmIiksdGhpcy5lbGVtZW50KX0sY2xvc2Vfbm9kZTpmdW5jdGlvbihpLHMpe3ZhciByLG4sYSxkO2lmKGUuaXNBcnJheShpKSl7Zm9yKGk9aS5zbGljZSgpLHI9MCxuPWkubGVuZ3RoO24+cjtyKyspdGhpcy5jbG9zZV9ub2RlKGlbcl0scyk7cmV0dXJuITB9cmV0dXJuIGk9dGhpcy5nZXRfbm9kZShpKSxpJiYiIyIhPT1pLmlkP3RoaXMuaXNfY2xvc2VkKGkpPyExOihzPXM9PT10P3RoaXMuc2V0dGluZ3MuY29yZS5hbmltYXRpb246cyxhPXRoaXMsZD10aGlzLmdldF9ub2RlKGksITApLGQubGVuZ3RoJiYocz9kLmNoaWxkcmVuKCIuanN0cmVlLWNoaWxkcmVuIikuYXR0cigic3R5bGUiLCJkaXNwbGF5OmJsb2NrICFpbXBvcnRhbnQiKS5lbmQoKS5yZW1vdmVDbGFzcygianN0cmVlLW9wZW4iKS5hZGRDbGFzcygianN0cmVlLWNsb3NlZCIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCExKS5jaGlsZHJlbigiLmpzdHJlZS1jaGlsZHJlbiIpLnN0b3AoITAsITApLnNsaWRlVXAocyxmdW5jdGlvbigpe3RoaXMuc3R5bGUuZGlzcGxheT0iIixkLmNoaWxkcmVuKCIuanN0cmVlLWNoaWxkcmVuIikucmVtb3ZlKCksYS50cmlnZ2VyKCJhZnRlcl9jbG9zZSIse25vZGU6aX0pfSk6KGRbMF0uY2xhc3NOYW1lPWRbMF0uY2xhc3NOYW1lLnJlcGxhY2UoImpzdHJlZS1vcGVuIiwianN0cmVlLWNsb3NlZCIpLGQuYXR0cigiYXJpYS1leHBhbmRlZCIsITEpLmNoaWxkcmVuKCIuanN0cmVlLWNoaWxkcmVuIikucmVtb3ZlKCkpKSxpLnN0YXRlLm9wZW5lZD0hMSx0aGlzLnRyaWdnZXIoImNsb3NlX25vZGUiLHtub2RlOml9KSxzJiZkLmxlbmd0aHx8dGhpcy50cmlnZ2VyKCJhZnRlcl9jbG9zZSIse25vZGU6aX0pLHQpOiExfSx0b2dnbGVfbm9kZTpmdW5jdGlvbihpKXt2YXIgcyxyO2lmKGUuaXNBcnJheShpKSl7Zm9yKGk9aS5zbGljZSgpLHM9MCxyPWkubGVuZ3RoO3I+cztzKyspdGhpcy50b2dnbGVfbm9kZShpW3NdKTtyZXR1cm4hMH1yZXR1cm4gdGhpcy5pc19jbG9zZWQoaSk/dGhpcy5vcGVuX25vZGUoaSk6dGhpcy5pc19vcGVuKGkpP3RoaXMuY2xvc2Vfbm9kZShpKTp0fSxvcGVuX2FsbDpmdW5jdGlvbihlLHQsaSl7aWYoZXx8KGU9IiMiKSxlPXRoaXMuZ2V0X25vZGUoZSksIWUpcmV0dXJuITE7dmFyIHIsbixhLHM9IiMiPT09ZS5pZD90aGlzLmdldF9jb250YWluZXJfdWwoKTp0aGlzLmdldF9ub2RlKGUsITApO2lmKCFzLmxlbmd0aCl7Zm9yKHI9MCxuPWUuY2hpbGRyZW5fZC5sZW5ndGg7bj5yO3IrKyl0aGlzLmlzX2Nsb3NlZCh0aGlzLl9tb2RlbC5kYXRhW2UuY2hpbGRyZW5fZFtyXV0pJiYodGhpcy5fbW9kZWwuZGF0YVtlLmNoaWxkcmVuX2Rbcl1dLnN0YXRlLm9wZW5lZD0hMCk7cmV0dXJuIHRoaXMudHJpZ2dlcigib3Blbl9hbGwiLHtub2RlOmV9KX1pPWl8fHMsYT10aGlzLHM9dGhpcy5pc19jbG9zZWQoZSk/cy5maW5kKCIuanN0cmVlLWNsb3NlZCIpLmFkZEJhY2soKTpzLmZpbmQoIi5qc3RyZWUtY2xvc2VkIikscy5lYWNoKGZ1bmN0aW9uKCl7YS5vcGVuX25vZGUodGhpcyxmdW5jdGlvbihlLHMpe3MmJnRoaXMuaXNfcGFyZW50KGUpJiZ0aGlzLm9wZW5fYWxsKGUsdCxpKX0sdHx8MCl9KSwwPT09aS5maW5kKCIuanN0cmVlLWNsb3NlZCIpLmxlbmd0aCYmdGhpcy50cmlnZ2VyKCJvcGVuX2FsbCIse25vZGU6dGhpcy5nZXRfbm9kZShpKX0pfSxjbG9zZV9hbGw6ZnVuY3Rpb24odCxpKXtpZih0fHwodD0iIyIpLHQ9dGhpcy5nZXRfbm9kZSh0KSwhdClyZXR1cm4hMTt2YXIgbixhLHM9IiMiPT09dC5pZD90aGlzLmdldF9jb250YWluZXJfdWwoKTp0aGlzLmdldF9ub2RlKHQsITApLHI9dGhpcztpZighcy5sZW5ndGgpe2ZvcihuPTAsYT10LmNoaWxkcmVuX2QubGVuZ3RoO2E+bjtuKyspdGhpcy5fbW9kZWwuZGF0YVt0LmNoaWxkcmVuX2Rbbl1dLnN0YXRlLm9wZW5lZD0hMTtyZXR1cm4gdGhpcy50cmlnZ2VyKCJjbG9zZV9hbGwiLHtub2RlOnR9KX1zPXRoaXMuaXNfb3Blbih0KT9zLmZpbmQoIi5qc3RyZWUtb3BlbiIpLmFkZEJhY2soKTpzLmZpbmQoIi5qc3RyZWUtb3BlbiIpLGUocy5nZXQoKS5yZXZlcnNlKCkpLmVhY2goZnVuY3Rpb24oKXtyLmNsb3NlX25vZGUodGhpcyxpfHwwKX0pLHRoaXMudHJpZ2dlcigiY2xvc2VfYWxsIix7bm9kZTp0fSl9LGlzX2Rpc2FibGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlPXRoaXMuZ2V0X25vZGUoZSksZSYmZS5zdGF0ZSYmZS5zdGF0ZS5kaXNhYmxlZH0sZW5hYmxlX25vZGU6ZnVuY3Rpb24oaSl7dmFyIHMscjtpZihlLmlzQXJyYXkoaSkpe2ZvcihpPWkuc2xpY2UoKSxzPTAscj1pLmxlbmd0aDtyPnM7cysrKXRoaXMuZW5hYmxlX25vZGUoaVtzXSk7CnJldHVybiEwfXJldHVybiBpPXRoaXMuZ2V0X25vZGUoaSksaSYmIiMiIT09aS5pZD8oaS5zdGF0ZS5kaXNhYmxlZD0hMSx0aGlzLmdldF9ub2RlKGksITApLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLnJlbW92ZUNsYXNzKCJqc3RyZWUtZGlzYWJsZWQiKSx0aGlzLnRyaWdnZXIoImVuYWJsZV9ub2RlIix7bm9kZTppfSksdCk6ITF9LGRpc2FibGVfbm9kZTpmdW5jdGlvbihpKXt2YXIgcyxyO2lmKGUuaXNBcnJheShpKSl7Zm9yKGk9aS5zbGljZSgpLHM9MCxyPWkubGVuZ3RoO3I+cztzKyspdGhpcy5kaXNhYmxlX25vZGUoaVtzXSk7cmV0dXJuITB9cmV0dXJuIGk9dGhpcy5nZXRfbm9kZShpKSxpJiYiIyIhPT1pLmlkPyhpLnN0YXRlLmRpc2FibGVkPSEwLHRoaXMuZ2V0X25vZGUoaSwhMCkuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuYWRkQ2xhc3MoImpzdHJlZS1kaXNhYmxlZCIpLHRoaXMudHJpZ2dlcigiZGlzYWJsZV9ub2RlIix7bm9kZTppfSksdCk6ITF9LGFjdGl2YXRlX25vZGU6ZnVuY3Rpb24oZSxpKXtpZih0aGlzLmlzX2Rpc2FibGVkKGUpKXJldHVybiExO2lmKHRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQ9dGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZCYmdGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZC5pZCE9PXQ/dGhpcy5nZXRfbm9kZSh0aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkLmlkKTpudWxsLHRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQmJiF0aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkLnN0YXRlLnNlbGVjdGVkJiYodGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZD1udWxsKSwhdGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZCYmdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmxlbmd0aCYmKHRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQ9dGhpcy5nZXRfbm9kZSh0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWRbdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmxlbmd0aC0xXSkpLHRoaXMuc2V0dGluZ3MuY29yZS5tdWx0aXBsZSYmKGkubWV0YUtleXx8aS5jdHJsS2V5fHxpLnNoaWZ0S2V5KSYmKCFpLnNoaWZ0S2V5fHx0aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkJiZ0aGlzLmdldF9wYXJlbnQoZSkmJnRoaXMuZ2V0X3BhcmVudChlKT09PXRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQucGFyZW50KSlpZihpLnNoaWZ0S2V5KXt2YXIgZCxvLHM9dGhpcy5nZXRfbm9kZShlKS5pZCxyPXRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQuaWQsbj10aGlzLmdldF9ub2RlKHRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQucGFyZW50KS5jaGlsZHJlbixhPSExO2ZvcihkPTAsbz1uLmxlbmd0aDtvPmQ7ZCs9MSluW2RdPT09cyYmKGE9IWEpLG5bZF09PT1yJiYoYT0hYSksYXx8bltkXT09PXN8fG5bZF09PT1yP3RoaXMuc2VsZWN0X25vZGUobltkXSwhMSwhMSxpKTp0aGlzLmRlc2VsZWN0X25vZGUobltkXSwhMSxpKX1lbHNlIHRoaXMuaXNfc2VsZWN0ZWQoZSk/dGhpcy5kZXNlbGVjdF9ub2RlKGUsITEsaSk6dGhpcy5zZWxlY3Rfbm9kZShlLCExLCExLGkpO2Vsc2UhdGhpcy5zZXR0aW5ncy5jb3JlLm11bHRpcGxlJiYoaS5tZXRhS2V5fHxpLmN0cmxLZXl8fGkuc2hpZnRLZXkpJiZ0aGlzLmlzX3NlbGVjdGVkKGUpP3RoaXMuZGVzZWxlY3Rfbm9kZShlLCExLGkpOih0aGlzLmRlc2VsZWN0X2FsbCghMCksdGhpcy5zZWxlY3Rfbm9kZShlLCExLCExLGkpLHRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQ9dGhpcy5nZXRfbm9kZShlKSk7dGhpcy50cmlnZ2VyKCJhY3RpdmF0ZV9ub2RlIix7bm9kZTp0aGlzLmdldF9ub2RlKGUpfSl9LGhvdmVyX25vZGU6ZnVuY3Rpb24oZSl7aWYoZT10aGlzLmdldF9ub2RlKGUsITApLCFlfHwhZS5sZW5ndGh8fGUuY2hpbGRyZW4oIi5qc3RyZWUtaG92ZXJlZCIpLmxlbmd0aClyZXR1cm4hMTt2YXIgdD10aGlzLmVsZW1lbnQuZmluZCgiLmpzdHJlZS1ob3ZlcmVkIiksaT10aGlzLmVsZW1lbnQ7dCYmdC5sZW5ndGgmJnRoaXMuZGVob3Zlcl9ub2RlKHQpLGUuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuYWRkQ2xhc3MoImpzdHJlZS1ob3ZlcmVkIiksdGhpcy50cmlnZ2VyKCJob3Zlcl9ub2RlIix7bm9kZTp0aGlzLmdldF9ub2RlKGUpfSksc2V0VGltZW91dChmdW5jdGlvbigpe2kuYXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50IixlWzBdLmlkKSxlLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCEwKX0sMCl9LGRlaG92ZXJfbm9kZTpmdW5jdGlvbihlKXtyZXR1cm4gZT10aGlzLmdldF9ub2RlKGUsITApLGUmJmUubGVuZ3RoJiZlLmNoaWxkcmVuKCIuanN0cmVlLWhvdmVyZWQiKS5sZW5ndGg/KGUuYXR0cigiYXJpYS1zZWxlY3RlZCIsITEpLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLnJlbW92ZUNsYXNzKCJqc3RyZWUtaG92ZXJlZCIpLHRoaXMudHJpZ2dlcigiZGVob3Zlcl9ub2RlIix7bm9kZTp0aGlzLmdldF9ub2RlKGUpfSksdCk6ITF9LHNlbGVjdF9ub2RlOmZ1bmN0aW9uKGkscyxyLG4pe3ZhciBhLGQsbztpZihlLmlzQXJyYXkoaSkpe2ZvcihpPWkuc2xpY2UoKSxkPTAsbz1pLmxlbmd0aDtvPmQ7ZCsrKXRoaXMuc2VsZWN0X25vZGUoaVtkXSxzLHIsbik7cmV0dXJuITB9cmV0dXJuIGk9dGhpcy5nZXRfbm9kZShpKSxpJiYiIyIhPT1pLmlkPyhhPXRoaXMuZ2V0X25vZGUoaSwhMCksaS5zdGF0ZS5zZWxlY3RlZHx8KGkuc3RhdGUuc2VsZWN0ZWQ9ITAsdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLnB1c2goaS5pZCkscnx8KGE9dGhpcy5fb3Blbl90byhpKSksYSYmYS5sZW5ndGgmJmEuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuYWRkQ2xhc3MoImpzdHJlZS1jbGlja2VkIiksdGhpcy50cmlnZ2VyKCJzZWxlY3Rfbm9kZSIse25vZGU6aSxzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQsZXZlbnQ6bn0pLHN8fHRoaXMudHJpZ2dlcigiY2hhbmdlZCIse2FjdGlvbjoic2VsZWN0X25vZGUiLG5vZGU6aSxzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQsZXZlbnQ6bn0pKSx0KTohMX0sZGVzZWxlY3Rfbm9kZTpmdW5jdGlvbihpLHMscil7dmFyIG4sYSxkO2lmKGUuaXNBcnJheShpKSl7Zm9yKGk9aS5zbGljZSgpLG49MCxhPWkubGVuZ3RoO2E+bjtuKyspdGhpcy5kZXNlbGVjdF9ub2RlKGlbbl0scyxyKTtyZXR1cm4hMH1yZXR1cm4gaT10aGlzLmdldF9ub2RlKGkpLGkmJiIjIiE9PWkuaWQ/KGQ9dGhpcy5nZXRfbm9kZShpLCEwKSxpLnN0YXRlLnNlbGVjdGVkJiYoaS5zdGF0ZS5zZWxlY3RlZD0hMSx0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQ9ZS52YWthdGEuYXJyYXlfcmVtb3ZlX2l0ZW0odGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLGkuaWQpLGQubGVuZ3RoJiZkLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLnJlbW92ZUNsYXNzKCJqc3RyZWUtY2xpY2tlZCIpLHRoaXMudHJpZ2dlcigiZGVzZWxlY3Rfbm9kZSIse25vZGU6aSxzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQsZXZlbnQ6cn0pLHN8fHRoaXMudHJpZ2dlcigiY2hhbmdlZCIse2FjdGlvbjoiZGVzZWxlY3Rfbm9kZSIsbm9kZTppLHNlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCxldmVudDpyfSkpLHQpOiExfSxzZWxlY3RfYWxsOmZ1bmN0aW9uKGUpe3ZhciBpLHMsdD10aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQuY29uY2F0KFtdKTtmb3IodGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkPXRoaXMuX21vZGVsLmRhdGFbIiMiXS5jaGlsZHJlbl9kLmNvbmNhdCgpLGk9MCxzPXRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5sZW5ndGg7cz5pO2krKyl0aGlzLl9tb2RlbC5kYXRhW3RoaXMuX2RhdGEuY29yZS5zZWxlY3RlZFtpXV0mJih0aGlzLl9tb2RlbC5kYXRhW3RoaXMuX2RhdGEuY29yZS5zZWxlY3RlZFtpXV0uc3RhdGUuc2VsZWN0ZWQ9ITApO3RoaXMucmVkcmF3KCEwKSx0aGlzLnRyaWdnZXIoInNlbGVjdF9hbGwiLHtzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWR9KSxlfHx0aGlzLnRyaWdnZXIoImNoYW5nZWQiLHthY3Rpb246InNlbGVjdF9hbGwiLHNlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCxvbGRfc2VsZWN0aW9uOnR9KX0sZGVzZWxlY3RfYWxsOmZ1bmN0aW9uKGUpe3ZhciBpLHMsdD10aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQuY29uY2F0KFtdKTtmb3IoaT0wLHM9dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmxlbmd0aDtzPmk7aSsrKXRoaXMuX21vZGVsLmRhdGFbdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkW2ldXSYmKHRoaXMuX21vZGVsLmRhdGFbdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkW2ldXS5zdGF0ZS5zZWxlY3RlZD0hMSk7dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkPVtdLHRoaXMuZWxlbWVudC5maW5kKCIuanN0cmVlLWNsaWNrZWQiKS5yZW1vdmVDbGFzcygianN0cmVlLWNsaWNrZWQiKSx0aGlzLnRyaWdnZXIoImRlc2VsZWN0X2FsbCIse3NlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCxub2RlOnR9KSxlfHx0aGlzLnRyaWdnZXIoImNoYW5nZWQiLHthY3Rpb246ImRlc2VsZWN0X2FsbCIsc2VsZWN0ZWQ6dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLG9sZF9zZWxlY3Rpb246dH0pfSxpc19zZWxlY3RlZDpmdW5jdGlvbihlKXtyZXR1cm4gZT10aGlzLmdldF9ub2RlKGUpLGUmJiIjIiE9PWUuaWQ/ZS5zdGF0ZS5zZWxlY3RlZDohMX0sZ2V0X3NlbGVjdGVkOmZ1bmN0aW9uKHQpe3JldHVybiB0P2UubWFwKHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCxlLnByb3h5KGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldF9ub2RlKGUpfSx0aGlzKSk6dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLnNsaWNlKCl9LGdldF90b3Bfc2VsZWN0ZWQ6ZnVuY3Rpb24odCl7dmFyIHIsbixhLGQsaT10aGlzLmdldF9zZWxlY3RlZCghMCkscz17fTtmb3Iocj0wLG49aS5sZW5ndGg7bj5yO3IrKylzW2lbcl0uaWRdPWlbcl07Zm9yKHI9MCxuPWkubGVuZ3RoO24+cjtyKyspZm9yKGE9MCxkPWlbcl0uY2hpbGRyZW5fZC5sZW5ndGg7ZD5hO2ErKylzW2lbcl0uY2hpbGRyZW5fZFthXV0mJmRlbGV0ZSBzW2lbcl0uY2hpbGRyZW5fZFthXV07aT1bXTtmb3IociBpbiBzKXMuaGFzT3duUHJvcGVydHkocikmJmkucHVzaChyKTtyZXR1cm4gdD9lLm1hcChpLGUucHJveHkoZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0X25vZGUoZSl9LHRoaXMpKTppfSxnZXRfYm90dG9tX3NlbGVjdGVkOmZ1bmN0aW9uKHQpe3ZhciByLG4saT10aGlzLmdldF9zZWxlY3RlZCghMCkscz1bXTtmb3Iocj0wLG49aS5sZW5ndGg7bj5yO3IrKylpW3JdLmNoaWxkcmVuLmxlbmd0aHx8cy5wdXNoKGlbcl0uaWQpO3JldHVybiB0P2UubWFwKHMsZS5wcm94eShmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRfbm9kZShlKX0sdGhpcykpOnN9LGdldF9zdGF0ZTpmdW5jdGlvbigpe3ZhciB0LGU9e2NvcmU6e29wZW46W10sc2Nyb2xsOntsZWZ0OnRoaXMuZWxlbWVudC5zY3JvbGxMZWZ0KCksdG9wOnRoaXMuZWxlbWVudC5zY3JvbGxUb3AoKX0sc2VsZWN0ZWQ6W119fTtmb3IodCBpbiB0aGlzLl9tb2RlbC5kYXRhKXRoaXMuX21vZGVsLmRhdGEuaGFzT3duUHJvcGVydHkodCkmJiIjIiE9PXQmJih0aGlzLl9tb2RlbC5kYXRhW3RdLnN0YXRlLm9wZW5lZCYmZS5jb3JlLm9wZW4ucHVzaCh0KSx0aGlzLl9tb2RlbC5kYXRhW3RdLnN0YXRlLnNlbGVjdGVkJiZlLmNvcmUuc2VsZWN0ZWQucHVzaCh0KSk7cmV0dXJuIGV9LHNldF9zdGF0ZTpmdW5jdGlvbihpLHMpe2lmKGkpe2lmKGkuY29yZSl7dmFyIHIsbixhLGQ7aWYoaS5jb3JlLm9wZW4pcmV0dXJuIGUuaXNBcnJheShpLmNvcmUub3Blbik/KHI9ITAsbj0hMSxhPXRoaXMsZS5lYWNoKGkuY29yZS5vcGVuLmNvbmNhdChbXSksZnVuY3Rpb24odCxkKXtuPWEuZ2V0X25vZGUoZCksbiYmKGEuaXNfbG9hZGVkKGQpPyhhLmlzX2Nsb3NlZChkKSYmYS5vcGVuX25vZGUoZCwhMSwwKSxpJiZpLmNvcmUmJmkuY29yZS5vcGVuJiZlLnZha2F0YS5hcnJheV9yZW1vdmVfaXRlbShpLmNvcmUub3BlbixkKSk6KGEuaXNfbG9hZGluZyhkKXx8YS5vcGVuX25vZGUoZCxlLnByb3h5KGZ1bmN0aW9uKHQscil7IXImJmkmJmkuY29yZSYmaS5jb3JlLm9wZW4mJmUudmFrYXRhLmFycmF5X3JlbW92ZV9pdGVtKGkuY29yZS5vcGVuLHQuaWQpLHRoaXMuc2V0X3N0YXRlKGkscyl9LGEpLDApLHI9ITEpKX0pLHImJihkZWxldGUgaS5jb3JlLm9wZW4sdGhpcy5zZXRfc3RhdGUoaSxzKSksITEpOihkZWxldGUgaS5jb3JlLm9wZW4sdGhpcy5zZXRfc3RhdGUoaSxzKSwhMSk7aWYoaS5jb3JlLnNjcm9sbClyZXR1cm4gaS5jb3JlLnNjcm9sbCYmaS5jb3JlLnNjcm9sbC5sZWZ0IT09dCYmdGhpcy5lbGVtZW50LnNjcm9sbExlZnQoaS5jb3JlLnNjcm9sbC5sZWZ0KSxpLmNvcmUuc2Nyb2xsJiZpLmNvcmUuc2Nyb2xsLnRvcCE9PXQmJnRoaXMuZWxlbWVudC5zY3JvbGxUb3AoaS5jb3JlLnNjcm9sbC50b3ApLGRlbGV0ZSBpLmNvcmUuc2Nyb2xsLHRoaXMuc2V0X3N0YXRlKGkscyksITE7aWYoaS5jb3JlLnNlbGVjdGVkKXJldHVybiBkPXRoaXMsdGhpcy5kZXNlbGVjdF9hbGwoKSxlLmVhY2goaS5jb3JlLnNlbGVjdGVkLGZ1bmN0aW9uKGUsdCl7ZC5zZWxlY3Rfbm9kZSh0KX0pLGRlbGV0ZSBpLmNvcmUuc2VsZWN0ZWQsdGhpcy5zZXRfc3RhdGUoaSxzKSwhMTtpZihlLmlzRW1wdHlPYmplY3QoaS5jb3JlKSlyZXR1cm4gZGVsZXRlIGkuY29yZSx0aGlzLnNldF9zdGF0ZShpLHMpLCExfXJldHVybiBlLmlzRW1wdHlPYmplY3QoaSk/KGk9bnVsbCxzJiZzLmNhbGwodGhpcyksdGhpcy50cmlnZ2VyKCJzZXRfc3RhdGUiKSwhMSk6ITB9cmV0dXJuITF9LHJlZnJlc2g6ZnVuY3Rpb24odCxpKXt0aGlzLl9kYXRhLmNvcmUuc3RhdGU9aT09PSEwP3t9OnRoaXMuZ2V0X3N0YXRlKCksaSYmZS5pc0Z1bmN0aW9uKGkpJiYodGhpcy5fZGF0YS5jb3JlLnN0YXRlPWkuY2FsbCh0aGlzLHRoaXMuX2RhdGEuY29yZS5zdGF0ZSkpLHRoaXMuX2NudD0wLHRoaXMuX21vZGVsLmRhdGE9eyIjIjp7aWQ6IiMiLHBhcmVudDpudWxsLHBhcmVudHM6W10sY2hpbGRyZW46W10sY2hpbGRyZW5fZDpbXSxzdGF0ZTp7bG9hZGVkOiExfX19O3ZhciBzPXRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpWzBdLmNsYXNzTmFtZTt0fHx0aGlzLmVsZW1lbnQuaHRtbCgiPHVsIGNsYXNzPSciK3MrIic+PGxpIGNsYXNzPSdqc3RyZWUtaW5pdGlhbC1ub2RlIGpzdHJlZS1sb2FkaW5nIGpzdHJlZS1sZWFmIGpzdHJlZS1sYXN0Jz48aSBjbGFzcz0nanN0cmVlLWljb24ganN0cmVlLW9jbCc+PC9pPjxhIGNsYXNzPSdqc3RyZWUtYW5jaG9yJyBocmVmPScjJz48aSBjbGFzcz0nanN0cmVlLWljb24ganN0cmVlLXRoZW1laWNvbi1oaWRkZW4nPjwvaT4iK3RoaXMuZ2V0X3N0cmluZygiTG9hZGluZyAuLi4iKSsiPC9hPjwvbGk+PC91bD4iKSx0aGlzLmxvYWRfbm9kZSgiIyIsZnVuY3Rpb24odCxpKXtpJiYodGhpcy5nZXRfY29udGFpbmVyX3VsKClbMF0uY2xhc3NOYW1lPXMsdGhpcy5zZXRfc3RhdGUoZS5leHRlbmQoITAse30sdGhpcy5fZGF0YS5jb3JlLnN0YXRlKSxmdW5jdGlvbigpe3RoaXMudHJpZ2dlcigicmVmcmVzaCIpfSkpLHRoaXMuX2RhdGEuY29yZS5zdGF0ZT1udWxsfSl9LHJlZnJlc2hfbm9kZTpmdW5jdGlvbih0KXtpZih0PXRoaXMuZ2V0X25vZGUodCksIXR8fCIjIj09PXQuaWQpcmV0dXJuITE7e3ZhciBpPVtdLHM9W107dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmNvbmNhdChbXSl9cy5wdXNoKHQuaWQpLHQuc3RhdGUub3BlbmVkPT09ITAmJmkucHVzaCh0LmlkKSx0aGlzLmdldF9ub2RlKHQsITApLmZpbmQoIi5qc3RyZWUtb3BlbiIpLmVhY2goZnVuY3Rpb24oKXtpLnB1c2godGhpcy5pZCl9KSx0aGlzLl9sb2FkX25vZGVzKHMsZS5wcm94eShmdW5jdGlvbihlKXt0aGlzLm9wZW5fbm9kZShpLCExLDApLHRoaXMuc2VsZWN0X25vZGUodGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkKSx0aGlzLnRyaWdnZXIoInJlZnJlc2hfbm9kZSIse25vZGU6dCxub2RlczplfSl9LHRoaXMpKX0sc2V0X2lkOmZ1bmN0aW9uKHQsaSl7aWYodD10aGlzLmdldF9ub2RlKHQpLCF0fHwiIyI9PT10LmlkKXJldHVybiExO3ZhciBzLHIsbj10aGlzLl9tb2RlbC5kYXRhO2ZvcihpPSIiK2ksblt0LnBhcmVudF0uY2hpbGRyZW5bZS5pbkFycmF5KHQuaWQsblt0LnBhcmVudF0uY2hpbGRyZW4pXT1pLHM9MCxyPXQucGFyZW50cy5sZW5ndGg7cj5zO3MrKyluW3QucGFyZW50c1tzXV0uY2hpbGRyZW5fZFtlLmluQXJyYXkodC5pZCxuW3QucGFyZW50c1tzXV0uY2hpbGRyZW5fZCldPWk7Zm9yKHM9MCxyPXQuY2hpbGRyZW4ubGVuZ3RoO3I+cztzKyspblt0LmNoaWxkcmVuW3NdXS5wYXJlbnQ9aTtmb3Iocz0wLHI9dC5jaGlsZHJlbl9kLmxlbmd0aDtyPnM7cysrKW5bdC5jaGlsZHJlbl9kW3NdXS5wYXJlbnRzW2UuaW5BcnJheSh0LmlkLG5bdC5jaGlsZHJlbl9kW3NdXS5wYXJlbnRzKV09aTtyZXR1cm4gcz1lLmluQXJyYXkodC5pZCx0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQpLC0xIT09cyYmKHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZFtzXT1pKSxzPXRoaXMuZ2V0X25vZGUodC5pZCwhMCkscyYmcy5hdHRyKCJpZCIsaSksZGVsZXRlIG5bdC5pZF0sdC5pZD1pLG5baV09dCwhMH0sZ2V0X3RleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9dGhpcy5nZXRfbm9kZShlKSxlJiYiIyIhPT1lLmlkP2UudGV4dDohMX0sc2V0X3RleHQ6ZnVuY3Rpb24odCxpKXt2YXIgcyxyO2lmKGUuaXNBcnJheSh0KSl7Zm9yKHQ9dC5zbGljZSgpLHM9MCxyPXQubGVuZ3RoO3I+cztzKyspdGhpcy5zZXRfdGV4dCh0W3NdLGkpO3JldHVybiEwfXJldHVybiB0PXRoaXMuZ2V0X25vZGUodCksdCYmIiMiIT09dC5pZD8odC50ZXh0PWksdGhpcy5nZXRfbm9kZSh0LCEwKS5sZW5ndGgmJnRoaXMucmVkcmF3X25vZGUodC5pZCksdGhpcy50cmlnZ2VyKCJzZXRfdGV4dCIse29iajp0LHRleHQ6aX0pLCEwKTohMX0sZ2V0X2pzb246ZnVuY3Rpb24oZSx0LGkpe2lmKGU9dGhpcy5nZXRfbm9kZShlfHwiIyIpLCFlKXJldHVybiExO3QmJnQuZmxhdCYmIWkmJihpPVtdKTt2YXIgcixuLHM9e2lkOmUuaWQsdGV4dDplLnRleHQsaWNvbjp0aGlzLmdldF9pY29uKGUpLGxpX2F0dHI6ZS5saV9hdHRyLGFfYXR0cjplLmFfYXR0cixzdGF0ZTp7fSxkYXRhOnQmJnQubm9fZGF0YT8hMTplLmRhdGF9O2lmKHQmJnQuZmxhdD9zLnBhcmVudD1lLnBhcmVudDpzLmNoaWxkcmVuPVtdLCF0fHwhdC5ub19zdGF0ZSlmb3IociBpbiBlLnN0YXRlKWUuc3RhdGUuaGFzT3duUHJvcGVydHkocikmJihzLnN0YXRlW3JdPWUuc3RhdGVbcl0pO2lmKHQmJnQubm9faWQmJihkZWxldGUgcy5pZCxzLmxpX2F0dHImJnMubGlfYXR0ci5pZCYmZGVsZXRlIHMubGlfYXR0ci5pZCksdCYmdC5mbGF0JiYiIyIhPT1lLmlkJiZpLnB1c2gocyksIXR8fCF0Lm5vX2NoaWxkcmVuKWZvcihyPTAsbj1lLmNoaWxkcmVuLmxlbmd0aDtuPnI7cisrKXQmJnQuZmxhdD90aGlzLmdldF9qc29uKGUuY2hpbGRyZW5bcl0sdCxpKTpzLmNoaWxkcmVuLnB1c2godGhpcy5nZXRfanNvbihlLmNoaWxkcmVuW3JdLHQpKTtyZXR1cm4gdCYmdC5mbGF0P2k6IiMiPT09ZS5pZD9zLmNoaWxkcmVuOnN9LGNyZWF0ZV9ub2RlOmZ1bmN0aW9uKGkscyxyLG4sYSl7aWYobnVsbD09PWkmJihpPSIjIiksaT10aGlzLmdldF9ub2RlKGkpLCFpKXJldHVybiExO2lmKHI9cj09PXQ/Imxhc3QiOnIsISgiIityKS5tYXRjaCgvXihiZWZvcmV8YWZ0ZXIpJC8pJiYhYSYmIXRoaXMuaXNfbG9hZGVkKGkpKXJldHVybiB0aGlzLmxvYWRfbm9kZShpLGZ1bmN0aW9uKCl7dGhpcy5jcmVhdGVfbm9kZShpLHMscixuLCEwKX0pO3N8fChzPXt0ZXh0OnRoaXMuZ2V0X3N0cmluZygiTmV3IG5vZGUiKX0pLHMudGV4dD09PXQmJihzLnRleHQ9dGhpcy5nZXRfc3RyaW5nKCJOZXcgbm9kZSIpKTt2YXIgZCxvLGMsbDtzd2l0Y2goIiMiPT09aS5pZCYmKCJiZWZvcmUiPT09ciYmKHI9ImZpcnN0IiksImFmdGVyIj09PXImJihyPSJsYXN0IikpLHIpe2Nhc2UiYmVmb3JlIjpkPXRoaXMuZ2V0X25vZGUoaS5wYXJlbnQpLHI9ZS5pbkFycmF5KGkuaWQsZC5jaGlsZHJlbiksaT1kO2JyZWFrO2Nhc2UiYWZ0ZXIiOmQ9dGhpcy5nZXRfbm9kZShpLnBhcmVudCkscj1lLmluQXJyYXkoaS5pZCxkLmNoaWxkcmVuKSsxLGk9ZDticmVhaztjYXNlImluc2lkZSI6Y2FzZSJmaXJzdCI6cj0wO2JyZWFrO2Nhc2UibGFzdCI6cj1pLmNoaWxkcmVuLmxlbmd0aDticmVhaztkZWZhdWx0OnJ8fChyPTApfWlmKHI+aS5jaGlsZHJlbi5sZW5ndGgmJihyPWkuY2hpbGRyZW4ubGVuZ3RoKSxzLmlkfHwocy5pZD0hMCksIXRoaXMuY2hlY2soImNyZWF0ZV9ub2RlIixzLGkscikpcmV0dXJuIHRoaXMuc2V0dGluZ3MuY29yZS5lcnJvci5jYWxsKHRoaXMsdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3IpLCExO2lmKHMuaWQ9PT0hMCYmZGVsZXRlIHMuaWQscz10aGlzLl9wYXJzZV9tb2RlbF9mcm9tX2pzb24ocyxpLmlkLGkucGFyZW50cy5jb25jYXQoKSksIXMpcmV0dXJuITE7Zm9yKGQ9dGhpcy5nZXRfbm9kZShzKSxvPVtdLG8ucHVzaChzKSxvPW8uY29uY2F0KGQuY2hpbGRyZW5fZCksdGhpcy50cmlnZ2VyKCJtb2RlbCIse25vZGVzOm8scGFyZW50OmkuaWR9KSxpLmNoaWxkcmVuX2Q9aS5jaGlsZHJlbl9kLmNvbmNhdChvKSxjPTAsbD1pLnBhcmVudHMubGVuZ3RoO2w+YztjKyspdGhpcy5fbW9kZWwuZGF0YVtpLnBhcmVudHNbY11dLmNoaWxkcmVuX2Q9dGhpcy5fbW9kZWwuZGF0YVtpLnBhcmVudHNbY11dLmNoaWxkcmVuX2QuY29uY2F0KG8pO2ZvcihzPWQsZD1bXSxjPTAsbD1pLmNoaWxkcmVuLmxlbmd0aDtsPmM7YysrKWRbYz49cj9jKzE6Y109aS5jaGlsZHJlbltjXTtyZXR1cm4gZFtyXT1zLmlkLGkuY2hpbGRyZW49ZCx0aGlzLnJlZHJhd19ub2RlKGksITApLG4mJm4uY2FsbCh0aGlzLHRoaXMuZ2V0X25vZGUocykpLHRoaXMudHJpZ2dlcigiY3JlYXRlX25vZGUiLHtub2RlOnRoaXMuZ2V0X25vZGUocykscGFyZW50OmkuaWQscG9zaXRpb246cn0pLHMuaWR9LHJlbmFtZV9ub2RlOmZ1bmN0aW9uKHQsaSl7dmFyIHMscixuO2lmKGUuaXNBcnJheSh0KSl7Zm9yKHQ9dC5zbGljZSgpLHM9MCxyPXQubGVuZ3RoO3I+cztzKyspdGhpcy5yZW5hbWVfbm9kZSh0W3NdLGkpO3JldHVybiEwfXJldHVybiB0PXRoaXMuZ2V0X25vZGUodCksdCYmIiMiIT09dC5pZD8obj10LnRleHQsdGhpcy5jaGVjaygicmVuYW1lX25vZGUiLHQsdGhpcy5nZXRfcGFyZW50KHQpLGkpPyh0aGlzLnNldF90ZXh0KHQsaSksdGhpcy50cmlnZ2VyKCJyZW5hbWVfbm9kZSIse25vZGU6dCx0ZXh0Omksb2xkOm59KSwhMCk6KHRoaXMuc2V0dGluZ3MuY29yZS5lcnJvci5jYWxsKHRoaXMsdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3IpLCExKSk6ITF9LGRlbGV0ZV9ub2RlOmZ1bmN0aW9uKHQpe3ZhciBpLHMscixuLGEsZCxvLGMsbCxoO2lmKGUuaXNBcnJheSh0KSl7Zm9yKHQ9dC5zbGljZSgpLGk9MCxzPXQubGVuZ3RoO3M+aTtpKyspdGhpcy5kZWxldGVfbm9kZSh0W2ldKTtyZXR1cm4hMH1pZih0PXRoaXMuZ2V0X25vZGUodCksIXR8fCIjIj09PXQuaWQpcmV0dXJuITE7aWYocj10aGlzLmdldF9ub2RlKHQucGFyZW50KSxuPWUuaW5BcnJheSh0LmlkLHIuY2hpbGRyZW4pLGg9ITEsIXRoaXMuY2hlY2soImRlbGV0ZV9ub2RlIix0LHIsbikpcmV0dXJuIHRoaXMuc2V0dGluZ3MuY29yZS5lcnJvci5jYWxsKHRoaXMsdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3IpLCExO2ZvcigtMSE9PW4mJihyLmNoaWxkcmVuPWUudmFrYXRhLmFycmF5X3JlbW92ZShyLmNoaWxkcmVuLG4pKSxhPXQuY2hpbGRyZW5fZC5jb25jYXQoW10pLGEucHVzaCh0LmlkKSxjPTAsbD1hLmxlbmd0aDtsPmM7YysrKXtmb3IoZD0wLG89dC5wYXJlbnRzLmxlbmd0aDtvPmQ7ZCsrKW49ZS5pbkFycmF5KGFbY10sdGhpcy5fbW9kZWwuZGF0YVt0LnBhcmVudHNbZF1dLmNoaWxkcmVuX2QpLC0xIT09biYmKHRoaXMuX21vZGVsLmRhdGFbdC5wYXJlbnRzW2RdXS5jaGlsZHJlbl9kPWUudmFrYXRhLmFycmF5X3JlbW92ZSh0aGlzLl9tb2RlbC5kYXRhW3QucGFyZW50c1tkXV0uY2hpbGRyZW5fZCxuKSk7dGhpcy5fbW9kZWwuZGF0YVthW2NdXS5zdGF0ZS5zZWxlY3RlZCYmKGg9ITAsbj1lLmluQXJyYXkoYVtjXSx0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQpLC0xIT09biYmKHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZD1lLnZha2F0YS5hcnJheV9yZW1vdmUodGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLG4pKSl9Zm9yKHRoaXMudHJpZ2dlcigiZGVsZXRlX25vZGUiLHtub2RlOnQscGFyZW50OnIuaWR9KSxoJiZ0aGlzLnRyaWdnZXIoImNoYW5nZWQiLHthY3Rpb246ImRlbGV0ZV9ub2RlIixub2RlOnQsc2VsZWN0ZWQ6dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLHBhcmVudDpyLmlkfSksYz0wLGw9YS5sZW5ndGg7bD5jO2MrKylkZWxldGUgdGhpcy5fbW9kZWwuZGF0YVthW2NdXTtyZXR1cm4gdGhpcy5yZWRyYXdfbm9kZShyLCEwKSwhMH0sY2hlY2s6ZnVuY3Rpb24odCxpLHMscixuKXtpPWkmJmkuaWQ/aTp0aGlzLmdldF9ub2RlKGkpLHM9cyYmcy5pZD9zOnRoaXMuZ2V0X25vZGUocyk7dmFyIGE9dC5tYXRjaCgvXm1vdmVfbm9kZXxjb3B5X25vZGV8Y3JlYXRlX25vZGUkL2kpP3M6aSxkPXRoaXMuc2V0dGluZ3MuY29yZS5jaGVja19jYWxsYmFjaztyZXR1cm4ibW92ZV9ub2RlIiE9PXQmJiJjb3B5X25vZGUiIT09dHx8biYmbi5pc19tdWx0aXx8aS5pZCE9PXMuaWQmJmUuaW5BcnJheShpLmlkLHMuY2hpbGRyZW4pIT09ciYmLTE9PT1lLmluQXJyYXkocy5pZCxpLmNoaWxkcmVuX2QpPyhhJiZhLmRhdGEmJihhPWEuZGF0YSksYSYmYS5mdW5jdGlvbnMmJihhLmZ1bmN0aW9uc1t0XT09PSExfHxhLmZ1bmN0aW9uc1t0XT09PSEwKT8oYS5mdW5jdGlvbnNbdF09PT0hMSYmKHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjoiY2hlY2siLHBsdWdpbjoiY29yZSIsaWQ6ImNvcmVfMDIiLHJlYXNvbjoiTm9kZSBkYXRhIHByZXZlbnRzIGZ1bmN0aW9uOiAiK3QsZGF0YTpKU09OLnN0cmluZ2lmeSh7Y2hrOnQscG9zOnIsb2JqOmkmJmkuaWQ/aS5pZDohMSxwYXI6cyYmcy5pZD9zLmlkOiExfSl9KSxhLmZ1bmN0aW9uc1t0XSk6ZD09PSExfHxlLmlzRnVuY3Rpb24oZCkmJmQuY2FsbCh0aGlzLHQsaSxzLHIsbik9PT0hMXx8ZCYmZFt0XT09PSExPyh0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6ImNoZWNrIixwbHVnaW46ImNvcmUiLGlkOiJjb3JlXzAzIixyZWFzb246IlVzZXIgY29uZmlnIGZvciBjb3JlLmNoZWNrX2NhbGxiYWNrIHByZXZlbnRzIGZ1bmN0aW9uOiAiK3QsZGF0YTpKU09OLnN0cmluZ2lmeSh7Y2hrOnQscG9zOnIsb2JqOmkmJmkuaWQ/aS5pZDohMSxwYXI6cyYmcy5pZD9zLmlkOiExfSl9LCExKTohMCk6KHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjoiY2hlY2siLHBsdWdpbjoiY29yZSIsaWQ6ImNvcmVfMDEiLHJlYXNvbjoiTW92aW5nIHBhcmVudCBpbnNpZGUgY2hpbGQiLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2Noazp0LHBvczpyLG9iajppJiZpLmlkP2kuaWQ6ITEscGFyOnMmJnMuaWQ/cy5pZDohMX0pfSwhMSl9LGxhc3RfZXJyb3I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3J9LG1vdmVfbm9kZTpmdW5jdGlvbihpLHMscixuLGEpe3ZhciBkLG8sYyxsLGgsXyx1LGcsZixwLG0sdixqLGs7aWYocz10aGlzLmdldF9ub2RlKHMpLHI9cj09PXQ/MDpyLCFzKXJldHVybiExO2lmKCEoIiIrcikubWF0Y2goL14oYmVmb3JlfGFmdGVyKSQvKSYmIWEmJiF0aGlzLmlzX2xvYWRlZChzKSlyZXR1cm4gdGhpcy5sb2FkX25vZGUocyxmdW5jdGlvbigpe3RoaXMubW92ZV9ub2RlKGkscyxyLG4sITApfSk7aWYoZS5pc0FycmF5KGkpKXtmb3IoaT1pLnJldmVyc2UoKS5zbGljZSgpLGQ9MCxvPWkubGVuZ3RoO28+ZDtkKyspdGhpcy5tb3ZlX25vZGUoaVtkXSxzLHIsbixhKTtyZXR1cm4hMH1pZihpPWkmJmkuaWQ/aTp0aGlzLmdldF9ub2RlKGkpLCFpfHwiIyI9PT1pLmlkKXJldHVybiExO2lmKGM9IiIrKGkucGFyZW50fHwiIyIpLGg9KCIiK3IpLm1hdGNoKC9eKGJlZm9yZXxhZnRlcikkLykmJiIjIiE9PXMuaWQ/dGhpcy5nZXRfbm9kZShzLnBhcmVudCk6cyxfPWkuaW5zdGFuY2U/aS5pbnN0YW5jZTp0aGlzLl9tb2RlbC5kYXRhW2kuaWRdP3RoaXM6ZS5qc3RyZWUucmVmZXJlbmNlKGkuaWQpLHU9IV98fCFfLl9pZHx8dGhpcy5faWQhPT1fLl9pZCxsPV8mJl8uX2lkJiZjJiZfLl9tb2RlbC5kYXRhW2NdJiZfLl9tb2RlbC5kYXRhW2NdLmNoaWxkcmVuP2UuaW5BcnJheShpLmlkLF8uX21vZGVsLmRhdGFbY10uY2hpbGRyZW4pOi0xLHUpcmV0dXJuIHRoaXMuY29weV9ub2RlKGkscyxyLG4sYSk/KF8mJl8uZGVsZXRlX25vZGUoaSksITApOiExO3N3aXRjaCgiIyI9PT1oLmlkJiYoImJlZm9yZSI9PT1yJiYocj0iZmlyc3QiKSwiYWZ0ZXIiPT09ciYmKHI9Imxhc3QiKSkscil7Y2FzZSJiZWZvcmUiOnI9ZS5pbkFycmF5KHMuaWQsaC5jaGlsZHJlbik7YnJlYWs7Y2FzZSJhZnRlciI6cj1lLmluQXJyYXkocy5pZCxoLmNoaWxkcmVuKSsxO2JyZWFrO2Nhc2UiaW5zaWRlIjpjYXNlImZpcnN0IjpyPTA7YnJlYWs7Y2FzZSJsYXN0IjpyPWguY2hpbGRyZW4ubGVuZ3RoO2JyZWFrO2RlZmF1bHQ6cnx8KHI9MCl9aWYocj5oLmNoaWxkcmVuLmxlbmd0aCYmKHI9aC5jaGlsZHJlbi5sZW5ndGgpLCF0aGlzLmNoZWNrKCJtb3ZlX25vZGUiLGksaCxyLHtjb3JlOiEwLGlzX211bHRpOl8mJl8uX2lkJiZfLl9pZCE9PXRoaXMuX2lkLGlzX2ZvcmVpZ246IV98fCFfLl9pZH0pKXJldHVybiB0aGlzLnNldHRpbmdzLmNvcmUuZXJyb3IuY2FsbCh0aGlzLHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yKSwhMTtpZihpLnBhcmVudD09PWguaWQpe2ZvcihnPWguY2hpbGRyZW4uY29uY2F0KCksZj1lLmluQXJyYXkoaS5pZCxnKSwtMSE9PWYmJihnPWUudmFrYXRhLmFycmF5X3JlbW92ZShnLGYpLHI+ZiYmci0tKSxmPVtdLHA9MCxtPWcubGVuZ3RoO20+cDtwKyspZltwPj1yP3ArMTpwXT1nW3BdO2Zbcl09aS5pZCxoLmNoaWxkcmVuPWYsdGhpcy5fbm9kZV9jaGFuZ2VkKGguaWQpLHRoaXMucmVkcmF3KCIjIj09PWguaWQpfWVsc2V7Zm9yKGY9aS5jaGlsZHJlbl9kLmNvbmNhdCgpLGYucHVzaChpLmlkKSxwPTAsbT1pLnBhcmVudHMubGVuZ3RoO20+cDtwKyspe2ZvcihnPVtdLGs9Xy5fbW9kZWwuZGF0YVtpLnBhcmVudHNbcF1dLmNoaWxkcmVuX2Qsdj0wLGo9ay5sZW5ndGg7aj52O3YrKyktMT09PWUuaW5BcnJheShrW3ZdLGYpJiZnLnB1c2goa1t2XSk7Xy5fbW9kZWwuZGF0YVtpLnBhcmVudHNbcF1dLmNoaWxkcmVuX2Q9Z31mb3IoXy5fbW9kZWwuZGF0YVtjXS5jaGlsZHJlbj1lLnZha2F0YS5hcnJheV9yZW1vdmVfaXRlbShfLl9tb2RlbC5kYXRhW2NdLmNoaWxkcmVuLGkuaWQpLHA9MCxtPWgucGFyZW50cy5sZW5ndGg7bT5wO3ArKyl0aGlzLl9tb2RlbC5kYXRhW2gucGFyZW50c1twXV0uY2hpbGRyZW5fZD10aGlzLl9tb2RlbC5kYXRhW2gucGFyZW50c1twXV0uY2hpbGRyZW5fZC5jb25jYXQoZik7Zm9yKGc9W10scD0wLG09aC5jaGlsZHJlbi5sZW5ndGg7bT5wO3ArKylnW3A+PXI/cCsxOnBdPWguY2hpbGRyZW5bcF07Zm9yKGdbcl09aS5pZCxoLmNoaWxkcmVuPWcsaC5jaGlsZHJlbl9kLnB1c2goaS5pZCksaC5jaGlsZHJlbl9kPWguY2hpbGRyZW5fZC5jb25jYXQoaS5jaGlsZHJlbl9kKSxpLnBhcmVudD1oLmlkLGY9aC5wYXJlbnRzLmNvbmNhdCgpLGYudW5zaGlmdChoLmlkKSxrPWkucGFyZW50cy5sZW5ndGgsaS5wYXJlbnRzPWYsZj1mLmNvbmNhdCgpLHA9MCxtPWkuY2hpbGRyZW5fZC5sZW5ndGg7bT5wO3ArKyl0aGlzLl9tb2RlbC5kYXRhW2kuY2hpbGRyZW5fZFtwXV0ucGFyZW50cz10aGlzLl9tb2RlbC5kYXRhW2kuY2hpbGRyZW5fZFtwXV0ucGFyZW50cy5zbGljZSgwLC0xKmspLEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHRoaXMuX21vZGVsLmRhdGFbaS5jaGlsZHJlbl9kW3BdXS5wYXJlbnRzLGYpO3RoaXMuX25vZGVfY2hhbmdlZChjKSx0aGlzLl9ub2RlX2NoYW5nZWQoaC5pZCksdGhpcy5yZWRyYXcoIiMiPT09Y3x8IiMiPT09aC5pZCl9cmV0dXJuIG4mJm4uY2FsbCh0aGlzLGksaCxyKSx0aGlzLnRyaWdnZXIoIm1vdmVfbm9kZSIse25vZGU6aSxwYXJlbnQ6aC5pZCxwb3NpdGlvbjpyLG9sZF9wYXJlbnQ6YyxvbGRfcG9zaXRpb246bCxpc19tdWx0aTpfJiZfLl9pZCYmXy5faWQhPT10aGlzLl9pZCxpc19mb3JlaWduOiFffHwhXy5faWQsb2xkX2luc3RhbmNlOl8sbmV3X2luc3RhbmNlOnRoaXN9KSwhMH0sY29weV9ub2RlOmZ1bmN0aW9uKGkscyxyLG4sYSl7dmFyIGQsbyxjLGwsaCxfLHUsZyxmLHAsbTtpZihzPXRoaXMuZ2V0X25vZGUocykscj1yPT09dD8wOnIsIXMpcmV0dXJuITE7aWYoISgiIityKS5tYXRjaCgvXihiZWZvcmV8YWZ0ZXIpJC8pJiYhYSYmIXRoaXMuaXNfbG9hZGVkKHMpKXJldHVybiB0aGlzLmxvYWRfbm9kZShzLGZ1bmN0aW9uKCl7dGhpcy5jb3B5X25vZGUoaSxzLHIsbiwhMCl9KTtpZihlLmlzQXJyYXkoaSkpe2ZvcihpPWkucmV2ZXJzZSgpLnNsaWNlKCksZD0wLG89aS5sZW5ndGg7bz5kO2QrKyl0aGlzLmNvcHlfbm9kZShpW2RdLHMscixuLGEpO3JldHVybiEwfWlmKGk9aSYmaS5pZD9pOnRoaXMuZ2V0X25vZGUoaSksIWl8fCIjIj09PWkuaWQpcmV0dXJuITE7c3dpdGNoKGc9IiIrKGkucGFyZW50fHwiIyIpLGY9KCIiK3IpLm1hdGNoKC9eKGJlZm9yZXxhZnRlcikkLykmJiIjIiE9PXMuaWQ/dGhpcy5nZXRfbm9kZShzLnBhcmVudCk6cyxwPWkuaW5zdGFuY2U/aS5pbnN0YW5jZTp0aGlzLl9tb2RlbC5kYXRhW2kuaWRdP3RoaXM6ZS5qc3RyZWUucmVmZXJlbmNlKGkuaWQpLG09IXB8fCFwLl9pZHx8dGhpcy5faWQhPT1wLl9pZCwiIyI9PT1mLmlkJiYoImJlZm9yZSI9PT1yJiYocj0iZmlyc3QiKSwiYWZ0ZXIiPT09ciYmKHI9Imxhc3QiKSkscil7Y2FzZSJiZWZvcmUiOnI9ZS5pbkFycmF5KHMuaWQsZi5jaGlsZHJlbik7YnJlYWs7Y2FzZSJhZnRlciI6cj1lLmluQXJyYXkocy5pZCxmLmNoaWxkcmVuKSsxO2JyZWFrO2Nhc2UiaW5zaWRlIjpjYXNlImZpcnN0IjpyPTA7YnJlYWs7Y2FzZSJsYXN0IjpyPWYuY2hpbGRyZW4ubGVuZ3RoO2JyZWFrO2RlZmF1bHQ6cnx8KHI9MCl9aWYocj5mLmNoaWxkcmVuLmxlbmd0aCYmKHI9Zi5jaGlsZHJlbi5sZW5ndGgpLCF0aGlzLmNoZWNrKCJjb3B5X25vZGUiLGksZixyLHtjb3JlOiEwLGlzX211bHRpOnAmJnAuX2lkJiZwLl9pZCE9PXRoaXMuX2lkLGlzX2ZvcmVpZ246IXB8fCFwLl9pZH0pKXJldHVybiB0aGlzLnNldHRpbmdzLmNvcmUuZXJyb3IuY2FsbCh0aGlzLHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yKSwhMTtpZih1PXA/cC5nZXRfanNvbihpLHtub19pZDohMCxub19kYXRhOiEwLG5vX3N0YXRlOiEwfSk6aSwhdSlyZXR1cm4hMTtpZih1LmlkPT09ITAmJmRlbGV0ZSB1LmlkLHU9dGhpcy5fcGFyc2VfbW9kZWxfZnJvbV9qc29uKHUsZi5pZCxmLnBhcmVudHMuY29uY2F0KCkpLCF1KXJldHVybiExO2ZvcihsPXRoaXMuZ2V0X25vZGUodSksaSYmaS5zdGF0ZSYmaS5zdGF0ZS5sb2FkZWQ9PT0hMSYmKGwuc3RhdGUubG9hZGVkPSExKSxjPVtdLGMucHVzaCh1KSxjPWMuY29uY2F0KGwuY2hpbGRyZW5fZCksdGhpcy50cmlnZ2VyKCJtb2RlbCIse25vZGVzOmMscGFyZW50OmYuaWR9KSxoPTAsXz1mLnBhcmVudHMubGVuZ3RoO18+aDtoKyspdGhpcy5fbW9kZWwuZGF0YVtmLnBhcmVudHNbaF1dLmNoaWxkcmVuX2Q9dGhpcy5fbW9kZWwuZGF0YVtmLnBhcmVudHNbaF1dLmNoaWxkcmVuX2QuY29uY2F0KGMpO2ZvcihjPVtdLGg9MCxfPWYuY2hpbGRyZW4ubGVuZ3RoO18+aDtoKyspY1toPj1yP2grMTpoXT1mLmNoaWxkcmVuW2hdO3JldHVybiBjW3JdPWwuaWQsZi5jaGlsZHJlbj1jLGYuY2hpbGRyZW5fZC5wdXNoKGwuaWQpLGYuY2hpbGRyZW5fZD1mLmNoaWxkcmVuX2QuY29uY2F0KGwuY2hpbGRyZW5fZCksdGhpcy5fbm9kZV9jaGFuZ2VkKGYuaWQpLHRoaXMucmVkcmF3KCIjIj09PWYuaWQpLG4mJm4uY2FsbCh0aGlzLGwsZixyKSx0aGlzLnRyaWdnZXIoImNvcHlfbm9kZSIse25vZGU6bCxvcmlnaW5hbDppLHBhcmVudDpmLmlkLHBvc2l0aW9uOnIsb2xkX3BhcmVudDpnLG9sZF9wb3NpdGlvbjpwJiZwLl9pZCYmZyYmcC5fbW9kZWwuZGF0YVtnXSYmcC5fbW9kZWwuZGF0YVtnXS5jaGlsZHJlbj9lLmluQXJyYXkoaS5pZCxwLl9tb2RlbC5kYXRhW2ddLmNoaWxkcmVuKTotMSxpc19tdWx0aTpwJiZwLl9pZCYmcC5faWQhPT10aGlzLl9pZCxpc19mb3JlaWduOiFwfHwhcC5faWQsb2xkX2luc3RhbmNlOnAsbmV3X2luc3RhbmNlOnRoaXN9KSxsLmlkfSxjdXQ6ZnVuY3Rpb24oaSl7aWYoaXx8KGk9dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmNvbmNhdCgpKSxlLmlzQXJyYXkoaSl8fChpPVtpXSksIWkubGVuZ3RoKXJldHVybiExO3ZhciBkLG8sYyxhPVtdO2ZvcihvPTAsYz1pLmxlbmd0aDtjPm87bysrKWQ9dGhpcy5nZXRfbm9kZShpW29dKSxkJiZkLmlkJiYiIyIhPT1kLmlkJiZhLnB1c2goZCk7cmV0dXJuIGEubGVuZ3RoPyhzPWEsbj10aGlzLHI9Im1vdmVfbm9kZSIsdGhpcy50cmlnZ2VyKCJjdXQiLHtub2RlOml9KSx0KTohMX0sY29weTpmdW5jdGlvbihpKXtpZihpfHwoaT10aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQuY29uY2F0KCkpLGUuaXNBcnJheShpKXx8KGk9W2ldKSwhaS5sZW5ndGgpcmV0dXJuITE7dmFyIGQsbyxjLGE9W107Zm9yKG89MCxjPWkubGVuZ3RoO2M+bztvKyspZD10aGlzLmdldF9ub2RlKGlbb10pLGQmJmQuaWQmJiIjIiE9PWQuaWQmJmEucHVzaChkKTtyZXR1cm4gYS5sZW5ndGg/KHM9YSxuPXRoaXMscj0iY29weV9ub2RlIix0aGlzLnRyaWdnZXIoImNvcHkiLHtub2RlOml9KSx0KTohMX0sZ2V0X2J1ZmZlcjpmdW5jdGlvbigpe3JldHVybnttb2RlOnIsbm9kZTpzLGluc3Q6bn19LGNhbl9wYXN0ZTpmdW5jdGlvbigpe3JldHVybiByIT09ITEmJnMhPT0hMX0scGFzdGU6ZnVuY3Rpb24oZSxpKXtyZXR1cm4gZT10aGlzLmdldF9ub2RlKGUpLGUmJnImJnIubWF0Y2goL14oY29weV9ub2RlfG1vdmVfbm9kZSkkLykmJnM/KHRoaXNbcl0ocyxlLGkpJiZ0aGlzLnRyaWdnZXIoInBhc3RlIix7cGFyZW50OmUuaWQsbm9kZTpzLG1vZGU6cn0pLHM9ITEscj0hMSxuPSExLHQpOiExfSxlZGl0OmZ1bmN0aW9uKGkscyl7aWYoaT10aGlzLmdldF9ub2RlKGkpLCFpKXJldHVybiExO2lmKHRoaXMuc2V0dGluZ3MuY29yZS5jaGVja19jYWxsYmFjaz09PSExKXJldHVybiB0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6ImNoZWNrIixwbHVnaW46ImNvcmUiLGlkOiJjb3JlXzA3IixyZWFzb246IkNvdWxkIG5vdCBlZGl0IG5vZGUgYmVjYXVzZSBvZiBjaGVja19jYWxsYmFjayJ9LHRoaXMuc2V0dGluZ3MuY29yZS5lcnJvci5jYWxsKHRoaXMsdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3IpLCExO3M9InN0cmluZyI9PXR5cGVvZiBzP3M6aS50ZXh0LHRoaXMuc2V0X3RleHQoaSwiIiksaT10aGlzLl9vcGVuX3RvKGkpO3ZhciByPXRoaXMuX2RhdGEuY29yZS5ydGwsbj10aGlzLmVsZW1lbnQud2lkdGgoKSxhPWkuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIiksZD1lKCI8c3Bhbj4iKSxvPXMsYz1lKCI8ZGl2IC8+Iix7Y3NzOntwb3NpdGlvbjoiYWJzb2x1dGUiLHRvcDoiLTIwMHB4IixsZWZ0OnI/IjBweCI6Ii0xMDAwcHgiLHZpc2liaWxpdHk6ImhpZGRlbiJ9fSkuYXBwZW5kVG8oImJvZHkiKSxsPWUoIjxpbnB1dCAvPiIse3ZhbHVlOm8sImNsYXNzIjoianN0cmVlLXJlbmFtZS1pbnB1dCIsY3NzOntwYWRkaW5nOiIwIixib3JkZXI6IjFweCBzb2xpZCBzaWx2ZXIiLCJib3gtc2l6aW5nIjoiYm9yZGVyLWJveCIsZGlzcGxheToiaW5saW5lLWJsb2NrIixoZWlnaHQ6dGhpcy5fZGF0YS5jb3JlLmxpX2hlaWdodCsicHgiLGxpbmVIZWlnaHQ6dGhpcy5fZGF0YS5jb3JlLmxpX2hlaWdodCsicHgiLHdpZHRoOiIxNTBweCJ9LGJsdXI6ZS5wcm94eShmdW5jdGlvbigpe3ZhciB0PWQuY2hpbGRyZW4oIi5qc3RyZWUtcmVuYW1lLWlucHV0Iikscz10LnZhbCgpOyIiPT09cyYmKHM9byksYy5yZW1vdmUoKSxkLnJlcGxhY2VXaXRoKGEpLGQucmVtb3ZlKCksdGhpcy5zZXRfdGV4dChpLG8pLHRoaXMucmVuYW1lX25vZGUoaSxlKCI8ZGl2PjwvZGl2PiIpLnRleHQocylbdGhpcy5zZXR0aW5ncy5jb3JlLmZvcmNlX3RleHQ/InRleHQiOiJodG1sIl0oKSk9PT0hMSYmdGhpcy5zZXRfdGV4dChpLG8pfSx0aGlzKSxrZXlkb3duOmZ1bmN0aW9uKGUpe3ZhciB0PWUud2hpY2g7Mjc9PT10JiYodGhpcy52YWx1ZT1vKSwoMjc9PT10fHwxMz09PXR8fDM3PT09dHx8Mzg9PT10fHwzOT09PXR8fDQwPT09dHx8MzI9PT10KSYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwoMjc9PT10fHwxMz09PXQpJiYoZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuYmx1cigpKX0sY2xpY2s6ZnVuY3Rpb24oZSl7ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX0sbW91c2Vkb3duOmZ1bmN0aW9uKGUpe2Uuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCl9LGtleXVwOmZ1bmN0aW9uKCl7bC53aWR0aChNYXRoLm1pbihjLnRleHQoInBXIit0aGlzLnZhbHVlKS53aWR0aCgpLG4pKX0sa2V5cHJlc3M6ZnVuY3Rpb24oZSl7cmV0dXJuIDEzPT09ZS53aGljaD8hMTp0fX0pLGg9e2ZvbnRGYW1pbHk6YS5jc3MoImZvbnRGYW1pbHkiKXx8IiIsZm9udFNpemU6YS5jc3MoImZvbnRTaXplIil8fCIiLGZvbnRXZWlnaHQ6YS5jc3MoImZvbnRXZWlnaHQiKXx8IiIsZm9udFN0eWxlOmEuY3NzKCJmb250U3R5bGUiKXx8IiIsZm9udFN0cmV0Y2g6YS5jc3MoImZvbnRTdHJldGNoIil8fCIiLGZvbnRWYXJpYW50OmEuY3NzKCJmb250VmFyaWFudCIpfHwiIixsZXR0ZXJTcGFjaW5nOmEuY3NzKCJsZXR0ZXJTcGFjaW5nIil8fCIiLHdvcmRTcGFjaW5nOmEuY3NzKCJ3b3JkU3BhY2luZyIpfHwiIn07ZC5hdHRyKCJjbGFzcyIsYS5hdHRyKCJjbGFzcyIpKS5hcHBlbmQoYS5jb250ZW50cygpLmNsb25lKCkpLmFwcGVuZChsKSxhLnJlcGxhY2VXaXRoKGQpLGMuY3NzKGgpLGwuY3NzKGgpLndpZHRoKE1hdGgubWluKGMudGV4dCgicFciK2xbMF0udmFsdWUpLndpZHRoKCksbikpWzBdLnNlbGVjdCgpfSxzZXRfdGhlbWU6ZnVuY3Rpb24odCxpKXtpZighdClyZXR1cm4hMTtpZihpPT09ITApe3ZhciBzPXRoaXMuc2V0dGluZ3MuY29yZS50aGVtZXMuZGlyO3N8fChzPWUuanN0cmVlLnBhdGgrIi90aGVtZXMiKSxpPXMrIi8iK3QrIi9zdHlsZS5jc3MifWkmJi0xPT09ZS5pbkFycmF5KGksYSkmJihlKCJoZWFkIikuYXBwZW5kKCc8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9IicraSsnIiB0eXBlPSJ0ZXh0L2NzcyIgLz4nKSxhLnB1c2goaSkpLHRoaXMuX2RhdGEuY29yZS50aGVtZXMubmFtZSYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJqc3RyZWUtIit0aGlzLl9kYXRhLmNvcmUudGhlbWVzLm5hbWUpLHRoaXMuX2RhdGEuY29yZS50aGVtZXMubmFtZT10LHRoaXMuZWxlbWVudC5hZGRDbGFzcygianN0cmVlLSIrdCksdGhpcy5lbGVtZW50W3RoaXMuc2V0dGluZ3MuY29yZS50aGVtZXMucmVzcG9uc2l2ZT8iYWRkQ2xhc3MiOiJyZW1vdmVDbGFzcyJdKCJqc3RyZWUtIit0KyItcmVzcG9uc2l2ZSIpLHRoaXMudHJpZ2dlcigic2V0X3RoZW1lIix7dGhlbWU6dH0pfSxnZXRfdGhlbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5uYW1lfSxzZXRfdGhlbWVfdmFyaWFudDpmdW5jdGlvbihlKXt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLnZhcmlhbnQmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygianN0cmVlLSIrdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5uYW1lKyItIit0aGlzLl9kYXRhLmNvcmUudGhlbWVzLnZhcmlhbnQpLHRoaXMuX2RhdGEuY29yZS50aGVtZXMudmFyaWFudD1lLGUmJnRoaXMuZWxlbWVudC5hZGRDbGFzcygianN0cmVlLSIrdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5uYW1lKyItIit0aGlzLl9kYXRhLmNvcmUudGhlbWVzLnZhcmlhbnQpfSxnZXRfdGhlbWVfdmFyaWFudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLmNvcmUudGhlbWVzLnZhcmlhbnR9LHNob3dfc3RyaXBlczpmdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuc3RyaXBlcz0hMCx0aGlzLmdldF9jb250YWluZXJfdWwoKS5hZGRDbGFzcygianN0cmVlLXN0cmlwZWQiKX0saGlkZV9zdHJpcGVzOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5zdHJpcGVzPSExLHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLnJlbW92ZUNsYXNzKCJqc3RyZWUtc3RyaXBlZCIpfSx0b2dnbGVfc3RyaXBlczpmdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuc3RyaXBlcz90aGlzLmhpZGVfc3RyaXBlcygpOnRoaXMuc2hvd19zdHJpcGVzKCl9LHNob3dfZG90czpmdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuZG90cz0hMCx0aGlzLmdldF9jb250YWluZXJfdWwoKS5yZW1vdmVDbGFzcygianN0cmVlLW5vLWRvdHMiKX0saGlkZV9kb3RzOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5kb3RzPSExLHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLmFkZENsYXNzKCJqc3RyZWUtbm8tZG90cyIpfSx0b2dnbGVfZG90czpmdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuZG90cz90aGlzLmhpZGVfZG90cygpOnRoaXMuc2hvd19kb3RzKCl9LHNob3dfaWNvbnM6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmljb25zPSEwLHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLnJlbW92ZUNsYXNzKCJqc3RyZWUtbm8taWNvbnMiKX0saGlkZV9pY29uczpmdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuaWNvbnM9ITEsdGhpcy5nZXRfY29udGFpbmVyX3VsKCkuYWRkQ2xhc3MoImpzdHJlZS1uby1pY29ucyIpfSx0b2dnbGVfaWNvbnM6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmljb25zP3RoaXMuaGlkZV9pY29ucygpOnRoaXMuc2hvd19pY29ucygpfSxzZXRfaWNvbjpmdW5jdGlvbih0LGkpe3ZhciBzLHIsbixhO2lmKGUuaXNBcnJheSh0KSl7Zm9yKHQ9dC5zbGljZSgpLHM9MCxyPXQubGVuZ3RoO3I+cztzKyspdGhpcy5zZXRfaWNvbih0W3NdLGkpO3JldHVybiEwfXJldHVybiB0PXRoaXMuZ2V0X25vZGUodCksdCYmIiMiIT09dC5pZD8oYT10Lmljb24sdC5pY29uPWksbj10aGlzLmdldF9ub2RlKHQsITApLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLmNoaWxkcmVuKCIuanN0cmVlLXRoZW1laWNvbiIpLGk9PT0hMT90aGlzLmhpZGVfaWNvbih0KTppPT09ITA/bi5yZW1vdmVDbGFzcygianN0cmVlLXRoZW1laWNvbi1jdXN0b20gIithKS5jc3MoImJhY2tncm91bmQiLCIiKS5yZW1vdmVBdHRyKCJyZWwiKTotMT09PWkuaW5kZXhPZigiLyIpJiYtMT09PWkuaW5kZXhPZigiLiIpPyhuLnJlbW92ZUNsYXNzKGEpLmNzcygiYmFja2dyb3VuZCIsIiIpLG4uYWRkQ2xhc3MoaSsiIGpzdHJlZS10aGVtZWljb24tY3VzdG9tIikuYXR0cigicmVsIixpKSk6KG4ucmVtb3ZlQ2xhc3MoYSkuY3NzKCJiYWNrZ3JvdW5kIiwiIiksbi5hZGRDbGFzcygianN0cmVlLXRoZW1laWNvbi1jdXN0b20iKS5jc3MoImJhY2tncm91bmQiLCJ1cmwoJyIraSsiJykgY2VudGVyIGNlbnRlciBuby1yZXBlYXQiKS5hdHRyKCJyZWwiLGkpKSwhMCk6ITF9LGdldF9pY29uOmZ1bmN0aW9uKGUpe3JldHVybiBlPXRoaXMuZ2V0X25vZGUoZSksZSYmIiMiIT09ZS5pZD9lLmljb246ITF9LGhpZGVfaWNvbjpmdW5jdGlvbih0KXt2YXIgaSxzO2lmKGUuaXNBcnJheSh0KSl7Zm9yKHQ9dC5zbGljZSgpLGk9MCxzPXQubGVuZ3RoO3M+aTtpKyspdGhpcy5oaWRlX2ljb24odFtpXSk7cmV0dXJuITB9cmV0dXJuIHQ9dGhpcy5nZXRfbm9kZSh0KSx0JiYiIyIhPT10Pyh0Lmljb249ITEsdGhpcy5nZXRfbm9kZSh0LCEwKS5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5jaGlsZHJlbigiLmpzdHJlZS10aGVtZWljb24iKS5hZGRDbGFzcygianN0cmVlLXRoZW1laWNvbi1oaWRkZW4iKSwhMCk6ITF9LHNob3dfaWNvbjpmdW5jdGlvbih0KXt2YXIgaSxzLHI7aWYoZS5pc0FycmF5KHQpKXtmb3IodD10LnNsaWNlKCksaT0wLHM9dC5sZW5ndGg7cz5pO2krKyl0aGlzLnNob3dfaWNvbih0W2ldKTtyZXR1cm4hMH1yZXR1cm4gdD10aGlzLmdldF9ub2RlKHQpLHQmJiIjIiE9PXQ/KHI9dGhpcy5nZXRfbm9kZSh0LCEwKSx0Lmljb249ci5sZW5ndGg/ci5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5jaGlsZHJlbigiLmpzdHJlZS10aGVtZWljb24iKS5hdHRyKCJyZWwiKTohMCx0Lmljb258fCh0Lmljb249ITApLHIuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuY2hpbGRyZW4oIi5qc3RyZWUtdGhlbWVpY29uIikucmVtb3ZlQ2xhc3MoImpzdHJlZS10aGVtZWljb24taGlkZGVuIiksITApOiExfX0sZS52YWthdGE9e30sZS52YWthdGEuYXR0cmlidXRlcz1mdW5jdGlvbih0LGkpe3Q9ZSh0KVswXTt2YXIgcz1pP3t9OltdO3JldHVybiB0JiZ0LmF0dHJpYnV0ZXMmJmUuZWFjaCh0LmF0dHJpYnV0ZXMsZnVuY3Rpb24odCxyKXstMT09PWUuaW5BcnJheShyLm5hbWUudG9Mb3dlckNhc2UoKSxbInN0eWxlIiwiY29udGVudGVkaXRhYmxlIiwiaGFzZm9jdXMiLCJ0YWJpbmRleCJdKSYmbnVsbCE9PXIudmFsdWUmJiIiIT09ZS50cmltKHIudmFsdWUpJiYoaT9zW3IubmFtZV09ci52YWx1ZTpzLnB1c2goci5uYW1lKSl9KSxzfSxlLnZha2F0YS5hcnJheV91bmlxdWU9ZnVuY3Rpb24oZSl7dmFyIGkscyxyLHQ9W107Zm9yKGk9MCxyPWUubGVuZ3RoO3I+aTtpKyspe2ZvcihzPTA7aT49cyYmZVtpXSE9PWVbc107cysrKTtzPT09aSYmdC5wdXNoKGVbaV0pfXJldHVybiB0fSxlLnZha2F0YS5hcnJheV9yZW1vdmU9ZnVuY3Rpb24oZSx0LGkpe3ZhciBzPWUuc2xpY2UoKGl8fHQpKzF8fGUubGVuZ3RoKTtyZXR1cm4gZS5sZW5ndGg9MD50P2UubGVuZ3RoK3Q6dCxlLnB1c2guYXBwbHkoZSxzKSxlfSxlLnZha2F0YS5hcnJheV9yZW1vdmVfaXRlbT1mdW5jdGlvbih0LGkpe3ZhciBzPWUuaW5BcnJheShpLHQpO3JldHVybi0xIT09cz9lLnZha2F0YS5hcnJheV9yZW1vdmUodCxzKTp0fTt2YXIgXz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJJIik7Xy5jbGFzc05hbWU9ImpzdHJlZS1pY29uIGpzdHJlZS1jaGVja2JveCIsZS5qc3RyZWUuZGVmYXVsdHMuY2hlY2tib3g9e3Zpc2libGU6ITAsdGhyZWVfc3RhdGU6ITAsd2hvbGVfbm9kZTohMCxrZWVwX3NlbGVjdGVkX3N0eWxlOiEwLGNhc2NhZGU6IiIsdGllX3NlbGVjdGlvbjohMH0sZS5qc3RyZWUucGx1Z2lucy5jaGVja2JveD1mdW5jdGlvbihpLHMpe3RoaXMuYmluZD1mdW5jdGlvbigpe3MuYmluZC5jYWxsKHRoaXMpLHRoaXMuX2RhdGEuY2hlY2tib3gudXRvPSExLHRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQ9W10sdGhpcy5zZXR0aW5ncy5jaGVja2JveC50aHJlZV9zdGF0ZSYmKHRoaXMuc2V0dGluZ3MuY2hlY2tib3guY2FzY2FkZT0idXArZG93bit1bmRldGVybWluZWQiKSx0aGlzLmVsZW1lbnQub24oImluaXQuanN0cmVlIixlLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jaGVja2JveC52aXNpYmxlPXRoaXMuc2V0dGluZ3MuY2hlY2tib3gudmlzaWJsZSx0aGlzLnNldHRpbmdzLmNoZWNrYm94LmtlZXBfc2VsZWN0ZWRfc3R5bGV8fHRoaXMuZWxlbWVudC5hZGRDbGFzcygianN0cmVlLWNoZWNrYm94LW5vLWNsaWNrZWQiKSx0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24mJnRoaXMuZWxlbWVudC5hZGRDbGFzcygianN0cmVlLWNoZWNrYm94LXNlbGVjdGlvbiIpfSx0aGlzKSkub24oImxvYWRpbmcuanN0cmVlIixlLnByb3h5KGZ1bmN0aW9uKCl7dGhpc1t0aGlzLl9kYXRhLmNoZWNrYm94LnZpc2libGU/InNob3dfY2hlY2tib3hlcyI6ImhpZGVfY2hlY2tib3hlcyJdKCl9LHRoaXMpKSwtMSE9PXRoaXMuc2V0dGluZ3MuY2hlY2tib3guY2FzY2FkZS5pbmRleE9mKCJ1bmRldGVybWluZWQiKSYmdGhpcy5lbGVtZW50Lm9uKCJjaGFuZ2VkLmpzdHJlZSB1bmNoZWNrX25vZGUuanN0cmVlIGNoZWNrX25vZGUuanN0cmVlIHVuY2hlY2tfYWxsLmpzdHJlZSBjaGVja19hbGwuanN0cmVlIG1vdmVfbm9kZS5qc3RyZWUgY29weV9ub2RlLmpzdHJlZSByZWRyYXcuanN0cmVlIG9wZW5fbm9kZS5qc3RyZWUiLGUucHJveHkoZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNoZWNrYm94LnV0byYmY2xlYXJUaW1lb3V0KHRoaXMuX2RhdGEuY2hlY2tib3gudXRvKSx0aGlzLl9kYXRhLmNoZWNrYm94LnV0bz1zZXRUaW1lb3V0KGUucHJveHkodGhpcy5fdW5kZXRlcm1pbmVkLHRoaXMpLDUwKX0sdGhpcykpLHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbnx8dGhpcy5lbGVtZW50Lm9uKCJtb2RlbC5qc3RyZWUiLGUucHJveHkoZnVuY3Rpb24oZSx0KXt2YXIgbixhLGk9dGhpcy5fbW9kZWwuZGF0YSxyPShpW3QucGFyZW50XSx0Lm5vZGVzKTtmb3Iobj0wLGE9ci5sZW5ndGg7YT5uO24rKylpW3Jbbl1dLnN0YXRlLmNoZWNrZWQ9aVtyW25dXS5vcmlnaW5hbCYmaVtyW25dXS5vcmlnaW5hbC5zdGF0ZSYmaVtyW25dXS5vcmlnaW5hbC5zdGF0ZS5jaGVja2VkLGlbcltuXV0uc3RhdGUuY2hlY2tlZCYmdGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZC5wdXNoKHJbbl0pfSx0aGlzKSksKC0xIT09dGhpcy5zZXR0aW5ncy5jaGVja2JveC5jYXNjYWRlLmluZGV4T2YoInVwIil8fC0xIT09dGhpcy5zZXR0aW5ncy5jaGVja2JveC5jYXNjYWRlLmluZGV4T2YoImRvd24iKSkmJnRoaXMuZWxlbWVudC5vbigibW9kZWwuanN0cmVlIixlLnByb3h5KGZ1bmN0aW9uKHQsaSl7dmFyIGQsbyxjLGwsaCxfLHM9dGhpcy5fbW9kZWwuZGF0YSxyPXNbaS5wYXJlbnRdLG49aS5ub2RlcyxhPVtdLHU9dGhpcy5zZXR0aW5ncy5jaGVja2JveC5jYXNjYWRlLGc9dGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uO2lmKC0xIT09dS5pbmRleE9mKCJkb3duIikpaWYoci5zdGF0ZVtnPyJzZWxlY3RlZCI6ImNoZWNrZWQiXSl7Zm9yKG89MCxjPW4ubGVuZ3RoO2M+bztvKyspc1tuW29dXS5zdGF0ZVtnPyJzZWxlY3RlZCI6ImNoZWNrZWQiXT0hMDt0aGlzLl9kYXRhW2c/ImNvcmUiOiJjaGVja2JveCJdLnNlbGVjdGVkPXRoaXMuX2RhdGFbZz8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWQuY29uY2F0KG4pfWVsc2UgZm9yKG89MCxjPW4ubGVuZ3RoO2M+bztvKyspaWYoc1tuW29dXS5zdGF0ZVtnPyJzZWxlY3RlZCI6ImNoZWNrZWQiXSl7Zm9yKGw9MCxoPXNbbltvXV0uY2hpbGRyZW5fZC5sZW5ndGg7aD5sO2wrKylzW3NbbltvXV0uY2hpbGRyZW5fZFtsXV0uc3RhdGVbZz8ic2VsZWN0ZWQiOiJjaGVja2VkIl09ITA7dGhpcy5fZGF0YVtnPyJjb3JlIjoiY2hlY2tib3giXS5zZWxlY3RlZD10aGlzLl9kYXRhW2c/ImNvcmUiOiJjaGVja2JveCJdLnNlbGVjdGVkLmNvbmNhdChzW25bb11dLmNoaWxkcmVuX2QpfWlmKC0xIT09dS5pbmRleE9mKCJ1cCIpKXtmb3Iobz0wLGM9ci5jaGlsZHJlbl9kLmxlbmd0aDtjPm87bysrKXNbci5jaGlsZHJlbl9kW29dXS5jaGlsZHJlbi5sZW5ndGh8fGEucHVzaChzW3IuY2hpbGRyZW5fZFtvXV0ucGFyZW50KTtmb3IoYT1lLnZha2F0YS5hcnJheV91bmlxdWUoYSksbD0wLGg9YS5sZW5ndGg7aD5sO2wrKylmb3Iocj1zW2FbbF1dO3ImJiIjIiE9PXIuaWQ7KXtmb3IoZD0wLG89MCxjPXIuY2hpbGRyZW4ubGVuZ3RoO2M+bztvKyspZCs9c1tyLmNoaWxkcmVuW29dXS5zdGF0ZVtnPyJzZWxlY3RlZCI6ImNoZWNrZWQiXTtpZihkIT09YylicmVhaztyLnN0YXRlW2c/InNlbGVjdGVkIjoiY2hlY2tlZCJdPSEwLHRoaXMuX2RhdGFbZz8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWQucHVzaChyLmlkKSxfPXRoaXMuZ2V0X25vZGUociwhMCksXyYmXy5sZW5ndGgmJl8uY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuYWRkQ2xhc3MoZz8ianN0cmVlLWNsaWNrZWQiOiJqc3RyZWUtY2hlY2tlZCIpLHI9dGhpcy5nZXRfbm9kZShyLnBhcmVudCl9fXRoaXMuX2RhdGFbZz8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWQ9ZS52YWthdGEuYXJyYXlfdW5pcXVlKHRoaXMuX2RhdGFbZz8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWQpfSx0aGlzKSkub24odGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uPyJzZWxlY3Rfbm9kZS5qc3RyZWUiOiJjaGVja19ub2RlLmpzdHJlZSIsZS5wcm94eShmdW5jdGlvbih0LGkpe3ZhciBkLG8sYyxsLHM9aS5ub2RlLHI9dGhpcy5fbW9kZWwuZGF0YSxuPXRoaXMuZ2V0X25vZGUocy5wYXJlbnQpLGE9dGhpcy5nZXRfbm9kZShzLCEwKSxoPXRoaXMuc2V0dGluZ3MuY2hlY2tib3guY2FzY2FkZSxfPXRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbjtpZigtMSE9PWguaW5kZXhPZigiZG93biIpKWZvcih0aGlzLl9kYXRhW18/ImNvcmUiOiJjaGVja2JveCJdLnNlbGVjdGVkPWUudmFrYXRhLmFycmF5X3VuaXF1ZSh0aGlzLl9kYXRhW18/ImNvcmUiOiJjaGVja2JveCJdLnNlbGVjdGVkLmNvbmNhdChzLmNoaWxkcmVuX2QpKSxkPTAsbz1zLmNoaWxkcmVuX2QubGVuZ3RoO28+ZDtkKyspbD1yW3MuY2hpbGRyZW5fZFtkXV0sbC5zdGF0ZVtfPyJzZWxlY3RlZCI6ImNoZWNrZWQiXT0hMCxsJiZsLm9yaWdpbmFsJiZsLm9yaWdpbmFsLnN0YXRlJiZsLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZCYmKGwub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkPSExKTtpZigtMSE9PWguaW5kZXhPZigidXAiKSlmb3IoO24mJiIjIiE9PW4uaWQ7KXtmb3IoYz0wLGQ9MCxvPW4uY2hpbGRyZW4ubGVuZ3RoO28+ZDtkKyspYys9cltuLmNoaWxkcmVuW2RdXS5zdGF0ZVtfPyJzZWxlY3RlZCI6ImNoZWNrZWQiXTtpZihjIT09bylicmVhaztuLnN0YXRlW18/InNlbGVjdGVkIjoiY2hlY2tlZCJdPSEwLHRoaXMuX2RhdGFbXz8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWQucHVzaChuLmlkKSxsPXRoaXMuZ2V0X25vZGUobiwhMCksbCYmbC5sZW5ndGgmJmwuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuYWRkQ2xhc3MoXz8ianN0cmVlLWNsaWNrZWQiOiJqc3RyZWUtY2hlY2tlZCIpLG49dGhpcy5nZXRfbm9kZShuLnBhcmVudCl9LTEhPT1oLmluZGV4T2YoImRvd24iKSYmYS5sZW5ndGgmJmEuZmluZCgiLmpzdHJlZS1hbmNob3IiKS5hZGRDbGFzcyhfPyJqc3RyZWUtY2xpY2tlZCI6ImpzdHJlZS1jaGVja2VkIil9LHRoaXMpKS5vbih0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24/ImRlc2VsZWN0X2FsbC5qc3RyZWUiOiJ1bmNoZWNrX2FsbC5qc3RyZWUiLGUucHJveHkoZnVuY3Rpb24oKXt2YXIgcixuLGEsaT10aGlzLmdldF9ub2RlKCIjIikscz10aGlzLl9tb2RlbC5kYXRhO2ZvcihyPTAsbj1pLmNoaWxkcmVuX2QubGVuZ3RoO24+cjtyKyspYT1zW2kuY2hpbGRyZW5fZFtyXV0sYSYmYS5vcmlnaW5hbCYmYS5vcmlnaW5hbC5zdGF0ZSYmYS5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQmJihhLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZD0hMSl9LHRoaXMpKS5vbih0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24/ImRlc2VsZWN0X25vZGUuanN0cmVlIjoidW5jaGVja19ub2RlLmpzdHJlZSIsZS5wcm94eShmdW5jdGlvbih0LGkpe3ZhciBuLGEsZCxzPWkubm9kZSxyPXRoaXMuZ2V0X25vZGUocywhMCksbz10aGlzLnNldHRpbmdzLmNoZWNrYm94LmNhc2NhZGUsYz10aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb247aWYocyYmcy5vcmlnaW5hbCYmcy5vcmlnaW5hbC5zdGF0ZSYmcy5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQmJihzLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZD0hMSksLTEhPT1vLmluZGV4T2YoImRvd24iKSlmb3Iobj0wLGE9cy5jaGlsZHJlbl9kLmxlbmd0aDthPm47bisrKWQ9dGhpcy5fbW9kZWwuZGF0YVtzLmNoaWxkcmVuX2Rbbl1dLGQuc3RhdGVbYz8ic2VsZWN0ZWQiOiJjaGVja2VkIl09ITEsZCYmZC5vcmlnaW5hbCYmZC5vcmlnaW5hbC5zdGF0ZSYmZC5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQmJihkLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZD0hMSk7aWYoLTEhPT1vLmluZGV4T2YoInVwIikpZm9yKG49MCxhPXMucGFyZW50cy5sZW5ndGg7YT5uO24rKylkPXRoaXMuX21vZGVsLmRhdGFbcy5wYXJlbnRzW25dXSxkLnN0YXRlW2M/InNlbGVjdGVkIjoiY2hlY2tlZCJdPSExLGQmJmQub3JpZ2luYWwmJmQub3JpZ2luYWwuc3RhdGUmJmQub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkJiYoZC5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQ9ITEpLGQ9dGhpcy5nZXRfbm9kZShzLnBhcmVudHNbbl0sITApLGQmJmQubGVuZ3RoJiZkLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLnJlbW92ZUNsYXNzKGM/ImpzdHJlZS1jbGlja2VkIjoianN0cmVlLWNoZWNrZWQiKTtmb3IoZD1bXSxuPTAsYT10aGlzLl9kYXRhW2M/ImNvcmUiOiJjaGVja2JveCJdLnNlbGVjdGVkLmxlbmd0aDthPm47bisrKS0xIT09by5pbmRleE9mKCJkb3duIikmJi0xIT09ZS5pbkFycmF5KHRoaXMuX2RhdGFbYz8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWRbbl0scy5jaGlsZHJlbl9kKXx8LTEhPT1vLmluZGV4T2YoInVwIikmJi0xIT09ZS5pbkFycmF5KHRoaXMuX2RhdGFbYz8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWRbbl0scy5wYXJlbnRzKXx8ZC5wdXNoKHRoaXMuX2RhdGFbYz8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWRbbl0pO3RoaXMuX2RhdGFbYz8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWQ9ZS52YWthdGEuYXJyYXlfdW5pcXVlKGQpLC0xIT09by5pbmRleE9mKCJkb3duIikmJnIubGVuZ3RoJiZyLmZpbmQoIi5qc3RyZWUtYW5jaG9yIikucmVtb3ZlQ2xhc3MoYz8ianN0cmVlLWNsaWNrZWQiOiJqc3RyZWUtY2hlY2tlZCIpfSx0aGlzKSksLTEhPT10aGlzLnNldHRpbmdzLmNoZWNrYm94LmNhc2NhZGUuaW5kZXhPZigidXAiKSYmdGhpcy5lbGVtZW50Lm9uKCJkZWxldGVfbm9kZS5qc3RyZWUiLGUucHJveHkoZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsbixhLGQsaT10aGlzLmdldF9ub2RlKHQucGFyZW50KSxzPXRoaXMuX21vZGVsLmRhdGEsbz10aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb247aSYmIiMiIT09aS5pZDspe2ZvcihhPTAscj0wLG49aS5jaGlsZHJlbi5sZW5ndGg7bj5yO3IrKylhKz1zW2kuY2hpbGRyZW5bcl1dLnN0YXRlW28/InNlbGVjdGVkIjoiY2hlY2tlZCJdO2lmKGEhPT1uKWJyZWFrO2kuc3RhdGVbbz8ic2VsZWN0ZWQiOiJjaGVja2VkIl09ITAsdGhpcy5fZGF0YVtvPyJjb3JlIjoiY2hlY2tib3giXS5zZWxlY3RlZC5wdXNoKGkuaWQpLGQ9dGhpcy5nZXRfbm9kZShpLCEwKSxkJiZkLmxlbmd0aCYmZC5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5hZGRDbGFzcyhvPyJqc3RyZWUtY2xpY2tlZCI6ImpzdHJlZS1jaGVja2VkIiksaT10aGlzLmdldF9ub2RlKGkucGFyZW50KX19LHRoaXMpKS5vbigibW92ZV9ub2RlLmpzdHJlZSIsZS5wcm94eShmdW5jdGlvbih0LGkpe3ZhciBkLG8sYyxsLGgscz1pLmlzX211bHRpLHI9aS5vbGRfcGFyZW50LG49dGhpcy5nZXRfbm9kZShpLnBhcmVudCksYT10aGlzLl9tb2RlbC5kYXRhLF89dGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uO2lmKCFzKWZvcihkPXRoaXMuZ2V0X25vZGUocik7ZCYmIiMiIT09ZC5pZDspe2ZvcihvPTAsYz0wLGw9ZC5jaGlsZHJlbi5sZW5ndGg7bD5jO2MrKylvKz1hW2QuY2hpbGRyZW5bY11dLnN0YXRlW18/InNlbGVjdGVkIjoiY2hlY2tlZCJdO2lmKG8hPT1sKWJyZWFrO2Quc3RhdGVbXz8ic2VsZWN0ZWQiOiJjaGVja2VkIl09ITAsdGhpcy5fZGF0YVtfPyJjb3JlIjoiY2hlY2tib3giXS5zZWxlY3RlZC5wdXNoKGQuaWQpLGg9dGhpcy5nZXRfbm9kZShkLCEwKSxoJiZoLmxlbmd0aCYmaC5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5hZGRDbGFzcyhfPyJqc3RyZWUtY2xpY2tlZCI6ImpzdHJlZS1jaGVja2VkIiksZD10aGlzLmdldF9ub2RlKGQucGFyZW50KQp9Zm9yKGQ9bjtkJiYiIyIhPT1kLmlkOyl7Zm9yKG89MCxjPTAsbD1kLmNoaWxkcmVuLmxlbmd0aDtsPmM7YysrKW8rPWFbZC5jaGlsZHJlbltjXV0uc3RhdGVbXz8ic2VsZWN0ZWQiOiJjaGVja2VkIl07aWYobz09PWwpZC5zdGF0ZVtfPyJzZWxlY3RlZCI6ImNoZWNrZWQiXXx8KGQuc3RhdGVbXz8ic2VsZWN0ZWQiOiJjaGVja2VkIl09ITAsdGhpcy5fZGF0YVtfPyJjb3JlIjoiY2hlY2tib3giXS5zZWxlY3RlZC5wdXNoKGQuaWQpLGg9dGhpcy5nZXRfbm9kZShkLCEwKSxoJiZoLmxlbmd0aCYmaC5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5hZGRDbGFzcyhfPyJqc3RyZWUtY2xpY2tlZCI6ImpzdHJlZS1jaGVja2VkIikpO2Vsc2V7aWYoIWQuc3RhdGVbXz8ic2VsZWN0ZWQiOiJjaGVja2VkIl0pYnJlYWs7ZC5zdGF0ZVtfPyJzZWxlY3RlZCI6ImNoZWNrZWQiXT0hMSx0aGlzLl9kYXRhW18/ImNvcmUiOiJjaGVja2JveCJdLnNlbGVjdGVkPWUudmFrYXRhLmFycmF5X3JlbW92ZV9pdGVtKHRoaXMuX2RhdGFbXz8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWQsZC5pZCksaD10aGlzLmdldF9ub2RlKGQsITApLGgmJmgubGVuZ3RoJiZoLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLnJlbW92ZUNsYXNzKF8/ImpzdHJlZS1jbGlja2VkIjoianN0cmVlLWNoZWNrZWQiKX1kPXRoaXMuZ2V0X25vZGUoZC5wYXJlbnQpfX0sdGhpcykpfSx0aGlzLl91bmRldGVybWluZWQ9ZnVuY3Rpb24oKXt2YXIgdCxpLHM9dGhpcy5fbW9kZWwuZGF0YSxyPXRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbixuPXRoaXMuX2RhdGFbcj8iY29yZSI6ImNoZWNrYm94Il0uc2VsZWN0ZWQsYT1bXSxkPXRoaXM7Zm9yKHQ9MCxpPW4ubGVuZ3RoO2k+dDt0Kyspc1tuW3RdXSYmc1tuW3RdXS5wYXJlbnRzJiYoYT1hLmNvbmNhdChzW25bdF1dLnBhcmVudHMpKTtmb3IodGhpcy5lbGVtZW50LmZpbmQoIi5qc3RyZWUtY2xvc2VkIikubm90KCI6aGFzKC5qc3RyZWUtY2hpbGRyZW4pIikuZWFjaChmdW5jdGlvbigpe3ZhciByLGU9ZC5nZXRfbm9kZSh0aGlzKTtpZihlLnN0YXRlLmxvYWRlZClmb3IodD0wLGk9ZS5jaGlsZHJlbl9kLmxlbmd0aDtpPnQ7dCsrKXI9c1tlLmNoaWxkcmVuX2RbdF1dLCFyLnN0YXRlLmxvYWRlZCYmci5vcmlnaW5hbCYmci5vcmlnaW5hbC5zdGF0ZSYmci5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQmJnIub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkPT09ITAmJihhLnB1c2goci5pZCksYT1hLmNvbmNhdChyLnBhcmVudHMpKTtlbHNlIGUub3JpZ2luYWwmJmUub3JpZ2luYWwuc3RhdGUmJmUub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkJiZlLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZD09PSEwJiYoYS5wdXNoKGUuaWQpLGE9YS5jb25jYXQoZS5wYXJlbnRzKSl9KSxhPWUudmFrYXRhLmFycmF5X3VuaXF1ZShhKSxhPWUudmFrYXRhLmFycmF5X3JlbW92ZV9pdGVtKGEsIiMiKSx0aGlzLmVsZW1lbnQuZmluZCgiLmpzdHJlZS11bmRldGVybWluZWQiKS5yZW1vdmVDbGFzcygianN0cmVlLXVuZGV0ZXJtaW5lZCIpLHQ9MCxpPWEubGVuZ3RoO2k+dDt0Kyspc1thW3RdXS5zdGF0ZVtyPyJzZWxlY3RlZCI6ImNoZWNrZWQiXXx8KG49dGhpcy5nZXRfbm9kZShhW3RdLCEwKSxuJiZuLmxlbmd0aCYmbi5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5jaGlsZHJlbigiLmpzdHJlZS1jaGVja2JveCIpLmFkZENsYXNzKCJqc3RyZWUtdW5kZXRlcm1pbmVkIikpfSx0aGlzLnJlZHJhd19ub2RlPWZ1bmN0aW9uKHQsaSxyKXtpZih0PXMucmVkcmF3X25vZGUuY2FsbCh0aGlzLHQsaSxyKSl7dmFyIG4sYSxkPW51bGw7Zm9yKG49MCxhPXQuY2hpbGROb2Rlcy5sZW5ndGg7YT5uO24rKylpZih0LmNoaWxkTm9kZXNbbl0mJnQuY2hpbGROb2Rlc1tuXS5jbGFzc05hbWUmJi0xIT09dC5jaGlsZE5vZGVzW25dLmNsYXNzTmFtZS5pbmRleE9mKCJqc3RyZWUtYW5jaG9yIikpe2Q9dC5jaGlsZE5vZGVzW25dO2JyZWFrfWQmJighdGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uJiZ0aGlzLl9tb2RlbC5kYXRhW3QuaWRdLnN0YXRlLmNoZWNrZWQmJihkLmNsYXNzTmFtZSs9IiBqc3RyZWUtY2hlY2tlZCIpLGQuaW5zZXJ0QmVmb3JlKF8uY2xvbmVOb2RlKCExKSxkLmNoaWxkTm9kZXNbMF0pKX1yZXR1cm4gcnx8LTE9PT10aGlzLnNldHRpbmdzLmNoZWNrYm94LmNhc2NhZGUuaW5kZXhPZigidW5kZXRlcm1pbmVkIil8fCh0aGlzLl9kYXRhLmNoZWNrYm94LnV0byYmY2xlYXJUaW1lb3V0KHRoaXMuX2RhdGEuY2hlY2tib3gudXRvKSx0aGlzLl9kYXRhLmNoZWNrYm94LnV0bz1zZXRUaW1lb3V0KGUucHJveHkodGhpcy5fdW5kZXRlcm1pbmVkLHRoaXMpLDUwKSksdH0sdGhpcy5zaG93X2NoZWNrYm94ZXM9ZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmNoZWNrYm94ZXM9ITAsdGhpcy5nZXRfY29udGFpbmVyX3VsKCkucmVtb3ZlQ2xhc3MoImpzdHJlZS1uby1jaGVja2JveGVzIil9LHRoaXMuaGlkZV9jaGVja2JveGVzPWZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5jaGVja2JveGVzPSExLHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLmFkZENsYXNzKCJqc3RyZWUtbm8tY2hlY2tib3hlcyIpfSx0aGlzLnRvZ2dsZV9jaGVja2JveGVzPWZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5jaGVja2JveGVzP3RoaXMuaGlkZV9jaGVja2JveGVzKCk6dGhpcy5zaG93X2NoZWNrYm94ZXMoKX0sdGhpcy5pc191bmRldGVybWluZWQ9ZnVuY3Rpb24odCl7dD10aGlzLmdldF9ub2RlKHQpO3ZhciBzLHIsaT10aGlzLnNldHRpbmdzLmNoZWNrYm94LmNhc2NhZGUsbj10aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24sYT10aGlzLl9kYXRhW24/ImNvcmUiOiJjaGVja2JveCJdLnNlbGVjdGVkLGQ9dGhpcy5fbW9kZWwuZGF0YTtpZighdHx8dC5zdGF0ZVtuPyJzZWxlY3RlZCI6ImNoZWNrZWQiXT09PSEwfHwtMT09PWkuaW5kZXhPZigidW5kZXRlcm1pbmVkIil8fC0xPT09aS5pbmRleE9mKCJkb3duIikmJi0xPT09aS5pbmRleE9mKCJ1cCIpKXJldHVybiExO2lmKCF0LnN0YXRlLmxvYWRlZCYmdC5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQ9PT0hMClyZXR1cm4hMDtmb3Iocz0wLHI9dC5jaGlsZHJlbl9kLmxlbmd0aDtyPnM7cysrKWlmKC0xIT09ZS5pbkFycmF5KHQuY2hpbGRyZW5fZFtzXSxhKXx8IWRbdC5jaGlsZHJlbl9kW3NdXS5zdGF0ZS5sb2FkZWQmJmRbdC5jaGlsZHJlbl9kW3NdXS5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQpcmV0dXJuITA7cmV0dXJuITF9LHRoaXMuYWN0aXZhdGVfbm9kZT1mdW5jdGlvbihpLHIpe3JldHVybiB0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24mJih0aGlzLnNldHRpbmdzLmNoZWNrYm94Lndob2xlX25vZGV8fGUoci50YXJnZXQpLmhhc0NsYXNzKCJqc3RyZWUtY2hlY2tib3giKSkmJihyLmN0cmxLZXk9ITApLHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbnx8IXRoaXMuc2V0dGluZ3MuY2hlY2tib3gud2hvbGVfbm9kZSYmIWUoci50YXJnZXQpLmhhc0NsYXNzKCJqc3RyZWUtY2hlY2tib3giKT9zLmFjdGl2YXRlX25vZGUuY2FsbCh0aGlzLGkscik6KHRoaXMuaXNfY2hlY2tlZChpKT90aGlzLnVuY2hlY2tfbm9kZShpLHIpOnRoaXMuY2hlY2tfbm9kZShpLHIpLHRoaXMudHJpZ2dlcigiYWN0aXZhdGVfbm9kZSIse25vZGU6dGhpcy5nZXRfbm9kZShpKX0pLHQpfSx0aGlzLmNoZWNrX25vZGU9ZnVuY3Rpb24oaSxzKXtpZih0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24pcmV0dXJuIHRoaXMuc2VsZWN0X25vZGUoaSwhMSwhMCxzKTt2YXIgcixuLGE7aWYoZS5pc0FycmF5KGkpKXtmb3IoaT1pLnNsaWNlKCksbj0wLGE9aS5sZW5ndGg7YT5uO24rKyl0aGlzLmNoZWNrX25vZGUoaVtuXSxzKTtyZXR1cm4hMH1yZXR1cm4gaT10aGlzLmdldF9ub2RlKGkpLGkmJiIjIiE9PWkuaWQ/KHI9dGhpcy5nZXRfbm9kZShpLCEwKSxpLnN0YXRlLmNoZWNrZWR8fChpLnN0YXRlLmNoZWNrZWQ9ITAsdGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZC5wdXNoKGkuaWQpLHImJnIubGVuZ3RoJiZyLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLmFkZENsYXNzKCJqc3RyZWUtY2hlY2tlZCIpLHRoaXMudHJpZ2dlcigiY2hlY2tfbm9kZSIse25vZGU6aSxzZWxlY3RlZDp0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkLGV2ZW50OnN9KSksdCk6ITF9LHRoaXMudW5jaGVja19ub2RlPWZ1bmN0aW9uKGkscyl7aWYodGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uKXJldHVybiB0aGlzLmRlc2VsZWN0X25vZGUoaSwhMSxzKTt2YXIgcixuLGE7aWYoZS5pc0FycmF5KGkpKXtmb3IoaT1pLnNsaWNlKCkscj0wLG49aS5sZW5ndGg7bj5yO3IrKyl0aGlzLnVuY2hlY2tfbm9kZShpW3JdLHMpO3JldHVybiEwfXJldHVybiBpPXRoaXMuZ2V0X25vZGUoaSksaSYmIiMiIT09aS5pZD8oYT10aGlzLmdldF9ub2RlKGksITApLGkuc3RhdGUuY2hlY2tlZCYmKGkuc3RhdGUuY2hlY2tlZD0hMSx0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkPWUudmFrYXRhLmFycmF5X3JlbW92ZV9pdGVtKHRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQsaS5pZCksYS5sZW5ndGgmJmEuY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikucmVtb3ZlQ2xhc3MoImpzdHJlZS1jaGVja2VkIiksdGhpcy50cmlnZ2VyKCJ1bmNoZWNrX25vZGUiLHtub2RlOmksc2VsZWN0ZWQ6dGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZCxldmVudDpzfSkpLHQpOiExfSx0aGlzLmNoZWNrX2FsbD1mdW5jdGlvbigpe2lmKHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbilyZXR1cm4gdGhpcy5zZWxlY3RfYWxsKCk7e3ZhciB0LGk7dGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZC5jb25jYXQoW10pfWZvcih0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkPXRoaXMuX21vZGVsLmRhdGFbIiMiXS5jaGlsZHJlbl9kLmNvbmNhdCgpLHQ9MCxpPXRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQubGVuZ3RoO2k+dDt0KyspdGhpcy5fbW9kZWwuZGF0YVt0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkW3RdXSYmKHRoaXMuX21vZGVsLmRhdGFbdGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZFt0XV0uc3RhdGUuY2hlY2tlZD0hMCk7dGhpcy5yZWRyYXcoITApLHRoaXMudHJpZ2dlcigiY2hlY2tfYWxsIix7c2VsZWN0ZWQ6dGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZH0pfSx0aGlzLnVuY2hlY2tfYWxsPWZ1bmN0aW9uKCl7aWYodGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uKXJldHVybiB0aGlzLmRlc2VsZWN0X2FsbCgpO3ZhciB0LGksZT10aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkLmNvbmNhdChbXSk7Zm9yKHQ9MCxpPXRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQubGVuZ3RoO2k+dDt0KyspdGhpcy5fbW9kZWwuZGF0YVt0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkW3RdXSYmKHRoaXMuX21vZGVsLmRhdGFbdGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZFt0XV0uc3RhdGUuY2hlY2tlZD0hMSk7dGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZD1bXSx0aGlzLmVsZW1lbnQuZmluZCgiLmpzdHJlZS1jaGVja2VkIikucmVtb3ZlQ2xhc3MoImpzdHJlZS1jaGVja2VkIiksdGhpcy50cmlnZ2VyKCJ1bmNoZWNrX2FsbCIse3NlbGVjdGVkOnRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQsbm9kZTplfSl9LHRoaXMuaXNfY2hlY2tlZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uP3RoaXMuaXNfc2VsZWN0ZWQoZSk6KGU9dGhpcy5nZXRfbm9kZShlKSxlJiYiIyIhPT1lLmlkP2Uuc3RhdGUuY2hlY2tlZDohMSl9LHRoaXMuZ2V0X2NoZWNrZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbj90aGlzLmdldF9zZWxlY3RlZCh0KTp0P2UubWFwKHRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQsZS5wcm94eShmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRfbm9kZShlKX0sdGhpcykpOnRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWR9LHRoaXMuZ2V0X3RvcF9jaGVja2VkPWZ1bmN0aW9uKHQpe2lmKHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbilyZXR1cm4gdGhpcy5nZXRfdG9wX3NlbGVjdGVkKHQpO3ZhciByLG4sYSxkLGk9dGhpcy5nZXRfY2hlY2tlZCghMCkscz17fTtmb3Iocj0wLG49aS5sZW5ndGg7bj5yO3IrKylzW2lbcl0uaWRdPWlbcl07Zm9yKHI9MCxuPWkubGVuZ3RoO24+cjtyKyspZm9yKGE9MCxkPWlbcl0uY2hpbGRyZW5fZC5sZW5ndGg7ZD5hO2ErKylzW2lbcl0uY2hpbGRyZW5fZFthXV0mJmRlbGV0ZSBzW2lbcl0uY2hpbGRyZW5fZFthXV07aT1bXTtmb3IociBpbiBzKXMuaGFzT3duUHJvcGVydHkocikmJmkucHVzaChyKTtyZXR1cm4gdD9lLm1hcChpLGUucHJveHkoZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0X25vZGUoZSl9LHRoaXMpKTppfSx0aGlzLmdldF9ib3R0b21fY2hlY2tlZD1mdW5jdGlvbih0KXtpZih0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24pcmV0dXJuIHRoaXMuZ2V0X2JvdHRvbV9zZWxlY3RlZCh0KTt2YXIgcixuLGk9dGhpcy5nZXRfY2hlY2tlZCghMCkscz1bXTtmb3Iocj0wLG49aS5sZW5ndGg7bj5yO3IrKylpW3JdLmNoaWxkcmVuLmxlbmd0aHx8cy5wdXNoKGlbcl0uaWQpO3JldHVybiB0P2UubWFwKHMsZS5wcm94eShmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRfbm9kZShlKX0sdGhpcykpOnN9fSxlLmpzdHJlZS5kZWZhdWx0cy5jb250ZXh0bWVudT17c2VsZWN0X25vZGU6ITAsc2hvd19hdF9ub2RlOiEwLGl0ZW1zOmZ1bmN0aW9uKCl7cmV0dXJue2NyZWF0ZTp7c2VwYXJhdG9yX2JlZm9yZTohMSxzZXBhcmF0b3JfYWZ0ZXI6ITAsX2Rpc2FibGVkOiExLGxhYmVsOiJDcmVhdGUiLGFjdGlvbjpmdW5jdGlvbih0KXt2YXIgaT1lLmpzdHJlZS5yZWZlcmVuY2UodC5yZWZlcmVuY2UpLHM9aS5nZXRfbm9kZSh0LnJlZmVyZW5jZSk7aS5jcmVhdGVfbm9kZShzLHt9LCJsYXN0IixmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5lZGl0KGUpfSwwKX0pfX0scmVuYW1lOntzZXBhcmF0b3JfYmVmb3JlOiExLHNlcGFyYXRvcl9hZnRlcjohMSxfZGlzYWJsZWQ6ITEsbGFiZWw6IlJlbmFtZSIsYWN0aW9uOmZ1bmN0aW9uKHQpe3ZhciBpPWUuanN0cmVlLnJlZmVyZW5jZSh0LnJlZmVyZW5jZSkscz1pLmdldF9ub2RlKHQucmVmZXJlbmNlKTtpLmVkaXQocyl9fSxyZW1vdmU6e3NlcGFyYXRvcl9iZWZvcmU6ITEsaWNvbjohMSxzZXBhcmF0b3JfYWZ0ZXI6ITEsX2Rpc2FibGVkOiExLGxhYmVsOiJEZWxldGUiLGFjdGlvbjpmdW5jdGlvbih0KXt2YXIgaT1lLmpzdHJlZS5yZWZlcmVuY2UodC5yZWZlcmVuY2UpLHM9aS5nZXRfbm9kZSh0LnJlZmVyZW5jZSk7aS5kZWxldGVfbm9kZShpLmlzX3NlbGVjdGVkKHMpP2kuZ2V0X3NlbGVjdGVkKCk6cyl9fSxjY3A6e3NlcGFyYXRvcl9iZWZvcmU6ITAsaWNvbjohMSxzZXBhcmF0b3JfYWZ0ZXI6ITEsbGFiZWw6IkVkaXQiLGFjdGlvbjohMSxzdWJtZW51OntjdXQ6e3NlcGFyYXRvcl9iZWZvcmU6ITEsc2VwYXJhdG9yX2FmdGVyOiExLGxhYmVsOiJDdXQiLGFjdGlvbjpmdW5jdGlvbih0KXt2YXIgaT1lLmpzdHJlZS5yZWZlcmVuY2UodC5yZWZlcmVuY2UpLHM9aS5nZXRfbm9kZSh0LnJlZmVyZW5jZSk7aS5jdXQoaS5pc19zZWxlY3RlZChzKT9pLmdldF9zZWxlY3RlZCgpOnMpfX0sY29weTp7c2VwYXJhdG9yX2JlZm9yZTohMSxpY29uOiExLHNlcGFyYXRvcl9hZnRlcjohMSxsYWJlbDoiQ29weSIsYWN0aW9uOmZ1bmN0aW9uKHQpe3ZhciBpPWUuanN0cmVlLnJlZmVyZW5jZSh0LnJlZmVyZW5jZSkscz1pLmdldF9ub2RlKHQucmVmZXJlbmNlKTtpLmNvcHkoaS5pc19zZWxlY3RlZChzKT9pLmdldF9zZWxlY3RlZCgpOnMpfX0scGFzdGU6e3NlcGFyYXRvcl9iZWZvcmU6ITEsaWNvbjohMSxfZGlzYWJsZWQ6ZnVuY3Rpb24odCl7cmV0dXJuIWUuanN0cmVlLnJlZmVyZW5jZSh0LnJlZmVyZW5jZSkuY2FuX3Bhc3RlKCl9LHNlcGFyYXRvcl9hZnRlcjohMSxsYWJlbDoiUGFzdGUiLGFjdGlvbjpmdW5jdGlvbih0KXt2YXIgaT1lLmpzdHJlZS5yZWZlcmVuY2UodC5yZWZlcmVuY2UpLHM9aS5nZXRfbm9kZSh0LnJlZmVyZW5jZSk7aS5wYXN0ZShzKX19fX19fX0sZS5qc3RyZWUucGx1Z2lucy5jb250ZXh0bWVudT1mdW5jdGlvbihpLHMpe3RoaXMuYmluZD1mdW5jdGlvbigpe3MuYmluZC5jYWxsKHRoaXMpO3ZhciB0PTA7dGhpcy5lbGVtZW50Lm9uKCJjb250ZXh0bWVudS5qc3RyZWUiLCIuanN0cmVlLWFuY2hvciIsZS5wcm94eShmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksdD1lLmN0cmxLZXk/ZS50aW1lU3RhbXA6MCx0aGlzLmlzX2xvYWRpbmcoZS5jdXJyZW50VGFyZ2V0KXx8dGhpcy5zaG93X2NvbnRleHRtZW51KGUuY3VycmVudFRhcmdldCxlLnBhZ2VYLGUucGFnZVksZSl9LHRoaXMpKS5vbigiY2xpY2suanN0cmVlIiwiLmpzdHJlZS1hbmNob3IiLGUucHJveHkoZnVuY3Rpb24oaSl7dGhpcy5fZGF0YS5jb250ZXh0bWVudS52aXNpYmxlJiYoIXR8fGkudGltZVN0YW1wLXQ+MjUwKSYmZS52YWthdGEuY29udGV4dC5oaWRlKCl9LHRoaXMpKSxlKGRvY3VtZW50KS5vbigiY29udGV4dF9oaWRlLnZha2F0YS5qc3RyZWUiLGUucHJveHkoZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvbnRleHRtZW51LnZpc2libGU9ITF9LHRoaXMpKX0sdGhpcy50ZWFyZG93bj1mdW5jdGlvbigpe3RoaXMuX2RhdGEuY29udGV4dG1lbnUudmlzaWJsZSYmZS52YWthdGEuY29udGV4dC5oaWRlKCkscy50ZWFyZG93bi5jYWxsKHRoaXMpfSx0aGlzLnNob3dfY29udGV4dG1lbnU9ZnVuY3Rpb24oaSxzLHIsbil7aWYoaT10aGlzLmdldF9ub2RlKGkpLCFpfHwiIyI9PT1pLmlkKXJldHVybiExO3ZhciBhPXRoaXMuc2V0dGluZ3MuY29udGV4dG1lbnUsZD10aGlzLmdldF9ub2RlKGksITApLG89ZC5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKSxjPSExLGw9ITE7KGEuc2hvd19hdF9ub2RlfHxzPT09dHx8cj09PXQpJiYoYz1vLm9mZnNldCgpLHM9Yy5sZWZ0LHI9Yy50b3ArdGhpcy5fZGF0YS5jb3JlLmxpX2hlaWdodCksdGhpcy5zZXR0aW5ncy5jb250ZXh0bWVudS5zZWxlY3Rfbm9kZSYmIXRoaXMuaXNfc2VsZWN0ZWQoaSkmJnRoaXMuYWN0aXZhdGVfbm9kZShpLG4pLGw9YS5pdGVtcyxlLmlzRnVuY3Rpb24obCkmJihsPWwuY2FsbCh0aGlzLGksZS5wcm94eShmdW5jdGlvbihlKXt0aGlzLl9zaG93X2NvbnRleHRtZW51KGkscyxyLGUpfSx0aGlzKSkpLGUuaXNQbGFpbk9iamVjdChsKSYmdGhpcy5fc2hvd19jb250ZXh0bWVudShpLHMscixsKX0sdGhpcy5fc2hvd19jb250ZXh0bWVudT1mdW5jdGlvbih0LGkscyxyKXt2YXIgbj10aGlzLmdldF9ub2RlKHQsITApLGE9bi5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKTtlKGRvY3VtZW50KS5vbmUoImNvbnRleHRfc2hvdy52YWthdGEuanN0cmVlIixlLnByb3h5KGZ1bmN0aW9uKHQsaSl7dmFyIHM9ImpzdHJlZS1jb250ZXh0bWVudSBqc3RyZWUtIit0aGlzLmdldF90aGVtZSgpKyItY29udGV4dG1lbnUiO2UoaS5lbGVtZW50KS5hZGRDbGFzcyhzKX0sdGhpcykpLHRoaXMuX2RhdGEuY29udGV4dG1lbnUudmlzaWJsZT0hMCxlLnZha2F0YS5jb250ZXh0LnNob3coYSx7eDppLHk6c30sciksdGhpcy50cmlnZ2VyKCJzaG93X2NvbnRleHRtZW51Iix7bm9kZTp0LHg6aSx5OnN9KX19LGZ1bmN0aW9uKGUpe3ZhciBpPSExLHM9e2VsZW1lbnQ6ITEscmVmZXJlbmNlOiExLHBvc2l0aW9uX3g6MCxwb3NpdGlvbl95OjAsaXRlbXM6W10saHRtbDoiIixpc192aXNpYmxlOiExfTtlLnZha2F0YS5jb250ZXh0PXtzZXR0aW5nczp7aGlkZV9vbm1vdXNlbGVhdmU6MCxpY29uczohMH0sX3RyaWdnZXI6ZnVuY3Rpb24odCl7ZShkb2N1bWVudCkudHJpZ2dlckhhbmRsZXIoImNvbnRleHRfIit0KyIudmFrYXRhIix7cmVmZXJlbmNlOnMucmVmZXJlbmNlLGVsZW1lbnQ6cy5lbGVtZW50LHBvc2l0aW9uOnt4OnMucG9zaXRpb25feCx5OnMucG9zaXRpb25feX19KX0sX2V4ZWN1dGU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9cy5pdGVtc1t0XSx0JiYoIXQuX2Rpc2FibGVkfHxlLmlzRnVuY3Rpb24odC5fZGlzYWJsZWQpJiYhdC5fZGlzYWJsZWQoe2l0ZW06dCxyZWZlcmVuY2U6cy5yZWZlcmVuY2UsZWxlbWVudDpzLmVsZW1lbnR9KSkmJnQuYWN0aW9uP3QuYWN0aW9uLmNhbGwobnVsbCx7aXRlbTp0LHJlZmVyZW5jZTpzLnJlZmVyZW5jZSxlbGVtZW50OnMuZWxlbWVudCxwb3NpdGlvbjp7eDpzLnBvc2l0aW9uX3gseTpzLnBvc2l0aW9uX3l9fSk6ITF9LF9wYXJzZTpmdW5jdGlvbihpLHIpe2lmKCFpKXJldHVybiExO3J8fChzLmh0bWw9IiIscy5pdGVtcz1bXSk7dmFyIGQsbj0iIixhPSExO3JldHVybiByJiYobis9Ijx1bD4iKSxlLmVhY2goaSxmdW5jdGlvbihpLHIpe3JldHVybiByPyhzLml0ZW1zLnB1c2gociksIWEmJnIuc2VwYXJhdG9yX2JlZm9yZSYmKG4rPSI8bGkgY2xhc3M9J3Zha2F0YS1jb250ZXh0LXNlcGFyYXRvcic+PGEgaHJlZj0nIycgIisoZS52YWthdGEuY29udGV4dC5zZXR0aW5ncy5pY29ucz8iIjonc3R5bGU9Im1hcmdpbi1sZWZ0OjBweDsiJykrIj4mIzE2MDs8L2E+PC9saT4iKSxhPSExLG4rPSI8bGkgY2xhc3M9JyIrKHIuX2NsYXNzfHwiIikrKHIuX2Rpc2FibGVkPT09ITB8fGUuaXNGdW5jdGlvbihyLl9kaXNhYmxlZCkmJnIuX2Rpc2FibGVkKHtpdGVtOnIscmVmZXJlbmNlOnMucmVmZXJlbmNlLGVsZW1lbnQ6cy5lbGVtZW50fSk/IiB2YWthdGEtY29udGV4dG1lbnUtZGlzYWJsZWQgIjoiIikrIicgIisoci5zaG9ydGN1dD8iIGRhdGEtc2hvcnRjdXQ9JyIrci5zaG9ydGN1dCsiJyAiOiIiKSsiPiIsbis9IjxhIGhyZWY9JyMnIHJlbD0nIisocy5pdGVtcy5sZW5ndGgtMSkrIic+IixlLnZha2F0YS5jb250ZXh0LnNldHRpbmdzLmljb25zJiYobis9IjxpICIsci5pY29uJiYobis9LTEhPT1yLmljb24uaW5kZXhPZigiLyIpfHwtMSE9PXIuaWNvbi5pbmRleE9mKCIuIik/IiBzdHlsZT0nYmFja2dyb3VuZDp1cmwoXCIiK3IuaWNvbisiXCIpIGNlbnRlciBjZW50ZXIgbm8tcmVwZWF0JyAiOiIgY2xhc3M9JyIrci5pY29uKyInICIpLG4rPSI+PC9pPjxzcGFuIGNsYXNzPSd2YWthdGEtY29udGV4dG1lbnUtc2VwJz4mIzE2MDs8L3NwYW4+Iiksbis9KGUuaXNGdW5jdGlvbihyLmxhYmVsKT9yLmxhYmVsKHtpdGVtOmkscmVmZXJlbmNlOnMucmVmZXJlbmNlLGVsZW1lbnQ6cy5lbGVtZW50fSk6ci5sYWJlbCkrKHIuc2hvcnRjdXQ/JyA8c3BhbiBjbGFzcz0idmFrYXRhLWNvbnRleHRtZW51LXNob3J0Y3V0IHZha2F0YS1jb250ZXh0bWVudS1zaG9ydGN1dC0nK3Iuc2hvcnRjdXQrJyI+Jysoci5zaG9ydGN1dF9sYWJlbHx8IiIpKyI8L3NwYW4+IjoiIikrIjwvYT4iLHIuc3VibWVudSYmKGQ9ZS52YWthdGEuY29udGV4dC5fcGFyc2Uoci5zdWJtZW51LCEwKSxkJiYobis9ZCkpLG4rPSI8L2xpPiIsci5zZXBhcmF0b3JfYWZ0ZXImJihuKz0iPGxpIGNsYXNzPSd2YWthdGEtY29udGV4dC1zZXBhcmF0b3InPjxhIGhyZWY9JyMnICIrKGUudmFrYXRhLmNvbnRleHQuc2V0dGluZ3MuaWNvbnM/IiI6J3N0eWxlPSJtYXJnaW4tbGVmdDowcHg7IicpKyI+JiMxNjA7PC9hPjwvbGk+IixhPSEwKSx0KTohMH0pLG49bi5yZXBsYWNlKC88bGkgY2xhc3NcPSd2YWthdGEtY29udGV4dC1zZXBhcmF0b3InXD48XC9saVw+JC8sIiIpLHImJihuKz0iPC91bD4iKSxyfHwocy5odG1sPW4sZS52YWthdGEuY29udGV4dC5fdHJpZ2dlcigicGFyc2UiKSksbi5sZW5ndGg+MTA/bjohMX0sX3Nob3dfc3VibWVudTpmdW5jdGlvbih0KXtpZih0PWUodCksdC5sZW5ndGgmJnQuY2hpbGRyZW4oInVsIikubGVuZ3RoKXt2YXIgcz10LmNoaWxkcmVuKCJ1bCIpLHI9dC5vZmZzZXQoKS5sZWZ0K3Qub3V0ZXJXaWR0aCgpLG49dC5vZmZzZXQoKS50b3AsYT1zLndpZHRoKCksZD1zLmhlaWdodCgpLG89ZSh3aW5kb3cpLndpZHRoKCkrZSh3aW5kb3cpLnNjcm9sbExlZnQoKSxjPWUod2luZG93KS5oZWlnaHQoKStlKHdpbmRvdykuc2Nyb2xsVG9wKCk7aT90WzA+ci0oYSsxMCt0Lm91dGVyV2lkdGgoKSk/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXSgidmFrYXRhLWNvbnRleHQtbGVmdCIpOnRbcithKzEwPm8/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXSgidmFrYXRhLWNvbnRleHQtcmlnaHQiKSxuK2QrMTA+YyYmcy5jc3MoImJvdHRvbSIsIi0xcHgiKSxzLnNob3coKX19LHNob3c6ZnVuY3Rpb24odCxyLG4pe3ZhciBhLGQsbyxjLGwsaCxfLHUsZz0hMDtzd2l0Y2gocy5lbGVtZW50JiZzLmVsZW1lbnQubGVuZ3RoJiZzLmVsZW1lbnQud2lkdGgoIiIpLGcpe2Nhc2UhciYmIXQ6cmV0dXJuITE7Y2FzZSEhciYmISF0OnMucmVmZXJlbmNlPXQscy5wb3NpdGlvbl94PXIueCxzLnBvc2l0aW9uX3k9ci55O2JyZWFrO2Nhc2UhciYmISF0OnMucmVmZXJlbmNlPXQsYT10Lm9mZnNldCgpLHMucG9zaXRpb25feD1hLmxlZnQrdC5vdXRlckhlaWdodCgpLHMucG9zaXRpb25feT1hLnRvcDticmVhaztjYXNlISFyJiYhdDpzLnBvc2l0aW9uX3g9ci54LHMucG9zaXRpb25feT1yLnl9dCYmIW4mJmUodCkuZGF0YSgidmFrYXRhX2NvbnRleHRtZW51IikmJihuPWUodCkuZGF0YSgidmFrYXRhX2NvbnRleHRtZW51IikpLGUudmFrYXRhLmNvbnRleHQuX3BhcnNlKG4pJiZzLmVsZW1lbnQuaHRtbChzLmh0bWwpLHMuaXRlbXMubGVuZ3RoJiYocy5lbGVtZW50LmFwcGVuZFRvKCJib2R5IiksZD1zLmVsZW1lbnQsbz1zLnBvc2l0aW9uX3gsYz1zLnBvc2l0aW9uX3ksbD1kLndpZHRoKCksaD1kLmhlaWdodCgpLF89ZSh3aW5kb3cpLndpZHRoKCkrZSh3aW5kb3cpLnNjcm9sbExlZnQoKSx1PWUod2luZG93KS5oZWlnaHQoKStlKHdpbmRvdykuc2Nyb2xsVG9wKCksaSYmKG8tPWQub3V0ZXJXaWR0aCgpLGUod2luZG93KS5zY3JvbGxMZWZ0KCkrMjA+byYmKG89ZSh3aW5kb3cpLnNjcm9sbExlZnQoKSsyMCkpLG8rbCsyMD5fJiYobz1fLShsKzIwKSksYytoKzIwPnUmJihjPXUtKGgrMjApKSxzLmVsZW1lbnQuY3NzKHtsZWZ0Om8sdG9wOmN9KS5zaG93KCkuZmluZCgiYTplcSgwKSIpLmZvY3VzKCkucGFyZW50KCkuYWRkQ2xhc3MoInZha2F0YS1jb250ZXh0LWhvdmVyIikscy5pc192aXNpYmxlPSEwLGUudmFrYXRhLmNvbnRleHQuX3RyaWdnZXIoInNob3ciKSl9LGhpZGU6ZnVuY3Rpb24oKXtzLmlzX3Zpc2libGUmJihzLmVsZW1lbnQuaGlkZSgpLmZpbmQoInVsIikuaGlkZSgpLmVuZCgpLmZpbmQoIjpmb2N1cyIpLmJsdXIoKS5lbmQoKS5kZXRhY2goKSxzLmlzX3Zpc2libGU9ITEsZS52YWthdGEuY29udGV4dC5fdHJpZ2dlcigiaGlkZSIpKX19LGUoZnVuY3Rpb24oKXtpPSJydGwiPT09ZSgiYm9keSIpLmNzcygiZGlyZWN0aW9uIik7dmFyIHQ9ITE7cy5lbGVtZW50PWUoIjx1bCBjbGFzcz0ndmFrYXRhLWNvbnRleHQnPjwvdWw+Iikscy5lbGVtZW50Lm9uKCJtb3VzZWVudGVyIiwibGkiLGZ1bmN0aW9uKGkpe2kuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksZS5jb250YWlucyh0aGlzLGkucmVsYXRlZFRhcmdldCl8fCh0JiZjbGVhclRpbWVvdXQodCkscy5lbGVtZW50LmZpbmQoIi52YWthdGEtY29udGV4dC1ob3ZlciIpLnJlbW92ZUNsYXNzKCJ2YWthdGEtY29udGV4dC1ob3ZlciIpLmVuZCgpLGUodGhpcykuc2libGluZ3MoKS5maW5kKCJ1bCIpLmhpZGUoKS5lbmQoKS5lbmQoKS5wYXJlbnRzVW50aWwoIi52YWthdGEtY29udGV4dCIsImxpIikuYWRkQmFjaygpLmFkZENsYXNzKCJ2YWthdGEtY29udGV4dC1ob3ZlciIpLGUudmFrYXRhLmNvbnRleHQuX3Nob3dfc3VibWVudSh0aGlzKSl9KS5vbigibW91c2VsZWF2ZSIsImxpIixmdW5jdGlvbih0KXtlLmNvbnRhaW5zKHRoaXMsdC5yZWxhdGVkVGFyZ2V0KXx8ZSh0aGlzKS5maW5kKCIudmFrYXRhLWNvbnRleHQtaG92ZXIiKS5hZGRCYWNrKCkucmVtb3ZlQ2xhc3MoInZha2F0YS1jb250ZXh0LWhvdmVyIil9KS5vbigibW91c2VsZWF2ZSIsZnVuY3Rpb24oKXtlKHRoaXMpLmZpbmQoIi52YWthdGEtY29udGV4dC1ob3ZlciIpLnJlbW92ZUNsYXNzKCJ2YWthdGEtY29udGV4dC1ob3ZlciIpLGUudmFrYXRhLmNvbnRleHQuc2V0dGluZ3MuaGlkZV9vbm1vdXNlbGVhdmUmJih0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXtlLnZha2F0YS5jb250ZXh0LmhpZGUoKX19KHRoaXMpLGUudmFrYXRhLmNvbnRleHQuc2V0dGluZ3MuaGlkZV9vbm1vdXNlbGVhdmUpKX0pLm9uKCJjbGljayIsImEiLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSxlKHRoaXMpLmJsdXIoKS5wYXJlbnQoKS5oYXNDbGFzcygidmFrYXRhLWNvbnRleHQtZGlzYWJsZWQiKXx8ZS52YWthdGEuY29udGV4dC5fZXhlY3V0ZShlKHRoaXMpLmF0dHIoInJlbCIpKT09PSExfHxlLnZha2F0YS5jb250ZXh0LmhpZGUoKX0pLm9uKCJrZXlkb3duIiwiYSIsZnVuY3Rpb24odCl7dmFyIGk9bnVsbDtzd2l0Y2godC53aGljaCl7Y2FzZSAxMzpjYXNlIDMyOnQudHlwZT0ibW91c2V1cCIsdC5wcmV2ZW50RGVmYXVsdCgpLGUodC5jdXJyZW50VGFyZ2V0KS50cmlnZ2VyKHQpO2JyZWFrO2Nhc2UgMzc6cy5pc192aXNpYmxlJiYocy5lbGVtZW50LmZpbmQoIi52YWthdGEtY29udGV4dC1ob3ZlciIpLmxhc3QoKS5wYXJlbnRzKCJsaTplcSgwKSIpLmZpbmQoInVsIikuaGlkZSgpLmZpbmQoIi52YWthdGEtY29udGV4dC1ob3ZlciIpLnJlbW92ZUNsYXNzKCJ2YWthdGEtY29udGV4dC1ob3ZlciIpLmVuZCgpLmVuZCgpLmNoaWxkcmVuKCJhIikuZm9jdXMoKSx0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHQucHJldmVudERlZmF1bHQoKSk7YnJlYWs7Y2FzZSAzODpzLmlzX3Zpc2libGUmJihpPXMuZWxlbWVudC5maW5kKCJ1bDp2aXNpYmxlIikuYWRkQmFjaygpLmxhc3QoKS5jaGlsZHJlbigiLnZha2F0YS1jb250ZXh0LWhvdmVyIikucmVtb3ZlQ2xhc3MoInZha2F0YS1jb250ZXh0LWhvdmVyIikucHJldkFsbCgibGk6bm90KC52YWthdGEtY29udGV4dC1zZXBhcmF0b3IpIikuZmlyc3QoKSxpLmxlbmd0aHx8KGk9cy5lbGVtZW50LmZpbmQoInVsOnZpc2libGUiKS5hZGRCYWNrKCkubGFzdCgpLmNoaWxkcmVuKCJsaTpub3QoLnZha2F0YS1jb250ZXh0LXNlcGFyYXRvcikiKS5sYXN0KCkpLGkuYWRkQ2xhc3MoInZha2F0YS1jb250ZXh0LWhvdmVyIikuY2hpbGRyZW4oImEiKS5mb2N1cygpLHQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdC5wcmV2ZW50RGVmYXVsdCgpKTticmVhaztjYXNlIDM5OnMuaXNfdmlzaWJsZSYmKHMuZWxlbWVudC5maW5kKCIudmFrYXRhLWNvbnRleHQtaG92ZXIiKS5sYXN0KCkuY2hpbGRyZW4oInVsIikuc2hvdygpLmNoaWxkcmVuKCJsaTpub3QoLnZha2F0YS1jb250ZXh0LXNlcGFyYXRvcikiKS5yZW1vdmVDbGFzcygidmFrYXRhLWNvbnRleHQtaG92ZXIiKS5maXJzdCgpLmFkZENsYXNzKCJ2YWthdGEtY29udGV4dC1ob3ZlciIpLmNoaWxkcmVuKCJhIikuZm9jdXMoKSx0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHQucHJldmVudERlZmF1bHQoKSk7YnJlYWs7Y2FzZSA0MDpzLmlzX3Zpc2libGUmJihpPXMuZWxlbWVudC5maW5kKCJ1bDp2aXNpYmxlIikuYWRkQmFjaygpLmxhc3QoKS5jaGlsZHJlbigiLnZha2F0YS1jb250ZXh0LWhvdmVyIikucmVtb3ZlQ2xhc3MoInZha2F0YS1jb250ZXh0LWhvdmVyIikubmV4dEFsbCgibGk6bm90KC52YWthdGEtY29udGV4dC1zZXBhcmF0b3IpIikuZmlyc3QoKSxpLmxlbmd0aHx8KGk9cy5lbGVtZW50LmZpbmQoInVsOnZpc2libGUiKS5hZGRCYWNrKCkubGFzdCgpLmNoaWxkcmVuKCJsaTpub3QoLnZha2F0YS1jb250ZXh0LXNlcGFyYXRvcikiKS5maXJzdCgpKSxpLmFkZENsYXNzKCJ2YWthdGEtY29udGV4dC1ob3ZlciIpLmNoaWxkcmVuKCJhIikuZm9jdXMoKSx0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHQucHJldmVudERlZmF1bHQoKSk7YnJlYWs7Y2FzZSAyNzplLnZha2F0YS5jb250ZXh0LmhpZGUoKSx0LnByZXZlbnREZWZhdWx0KCl9fSkub24oImtleWRvd24iLGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKTt2YXIgdD1zLmVsZW1lbnQuZmluZCgiLnZha2F0YS1jb250ZXh0bWVudS1zaG9ydGN1dC0iK2Uud2hpY2gpLnBhcmVudCgpO3QucGFyZW50KCkubm90KCIudmFrYXRhLWNvbnRleHQtZGlzYWJsZWQiKSYmdC5jbGljaygpfSksZShkb2N1bWVudCkub24oIm1vdXNlZG93bi52YWthdGEuanN0cmVlIixmdW5jdGlvbih0KXtzLmlzX3Zpc2libGUmJiFlLmNvbnRhaW5zKHMuZWxlbWVudFswXSx0LnRhcmdldCkmJmUudmFrYXRhLmNvbnRleHQuaGlkZSgpfSkub24oImNvbnRleHRfc2hvdy52YWthdGEuanN0cmVlIixmdW5jdGlvbigpe3MuZWxlbWVudC5maW5kKCJsaTpoYXModWwpIikuY2hpbGRyZW4oImEiKS5hZGRDbGFzcygidmFrYXRhLWNvbnRleHQtcGFyZW50IiksaSYmcy5lbGVtZW50LmFkZENsYXNzKCJ2YWthdGEtY29udGV4dC1ydGwiKS5jc3MoImRpcmVjdGlvbiIsInJ0bCIpLHMuZWxlbWVudC5maW5kKCJ1bCIpLmhpZGUoKS5lbmQoKX0pfSl9KGUpLGUuanN0cmVlLmRlZmF1bHRzLmRuZD17Y29weTohMCxvcGVuX3RpbWVvdXQ6NTAwLGlzX2RyYWdnYWJsZTohMCxjaGVja193aGlsZV9kcmFnZ2luZzohMCxhbHdheXNfY29weTohMSxpbnNpZGVfcG9zOjB9LGUuanN0cmVlLnBsdWdpbnMuZG5kPWZ1bmN0aW9uKGkscyl7dGhpcy5iaW5kPWZ1bmN0aW9uKCl7cy5iaW5kLmNhbGwodGhpcyksdGhpcy5lbGVtZW50Lm9uKCJtb3VzZWRvd24uanN0cmVlIHRvdWNoc3RhcnQuanN0cmVlIiwiLmpzdHJlZS1hbmNob3IiLGUucHJveHkoZnVuY3Rpb24oaSl7dmFyIHM9dGhpcy5nZXRfbm9kZShpLnRhcmdldCkscj10aGlzLmlzX3NlbGVjdGVkKHMpP3RoaXMuZ2V0X3NlbGVjdGVkKCkubGVuZ3RoOjE7cmV0dXJuIHMmJnMuaWQmJiIjIiE9PXMuaWQmJigxPT09aS53aGljaHx8InRvdWNoc3RhcnQiPT09aS50eXBlKSYmKHRoaXMuc2V0dGluZ3MuZG5kLmlzX2RyYWdnYWJsZT09PSEwfHxlLmlzRnVuY3Rpb24odGhpcy5zZXR0aW5ncy5kbmQuaXNfZHJhZ2dhYmxlKSYmdGhpcy5zZXR0aW5ncy5kbmQuaXNfZHJhZ2dhYmxlLmNhbGwodGhpcyxyPjE/dGhpcy5nZXRfc2VsZWN0ZWQoITApOltzXSkpPyh0aGlzLmVsZW1lbnQudHJpZ2dlcigibW91c2Vkb3duLmpzdHJlZSIpLGUudmFrYXRhLmRuZC5zdGFydChpLHtqc3RyZWU6ITAsb3JpZ2luOnRoaXMsb2JqOnRoaXMuZ2V0X25vZGUocywhMCksbm9kZXM6cj4xP3RoaXMuZ2V0X3NlbGVjdGVkKCk6W3MuaWRdfSwnPGRpdiBpZD0ianN0cmVlLWRuZCIgY2xhc3M9ImpzdHJlZS0nK3RoaXMuZ2V0X3RoZW1lKCkrKHRoaXMuc2V0dGluZ3MuY29yZS50aGVtZXMucmVzcG9uc2l2ZT8iIGpzdHJlZS1kbmQtcmVzcG9uc2l2ZSI6IiIpKyciPjxpIGNsYXNzPSJqc3RyZWUtaWNvbiBqc3RyZWUtZXIiPjwvaT4nKyhyPjE/cisiICIrdGhpcy5nZXRfc3RyaW5nKCJub2RlcyIpOnRoaXMuZ2V0X3RleHQoaS5jdXJyZW50VGFyZ2V0LCEwKSkrJzxpbnMgY2xhc3M9ImpzdHJlZS1jb3B5IiBzdHlsZT0iZGlzcGxheTpub25lOyI+KzwvaW5zPjwvZGl2PicpKTp0fSx0aGlzKSl9fSxlKGZ1bmN0aW9uKCl7dmFyIGk9ITEscz0hMSxyPSExLG49ZSgnPGRpdiBpZD0ianN0cmVlLW1hcmtlciI+JiMxNjA7PC9kaXY+JykuaGlkZSgpO2UoZG9jdW1lbnQpLm9uKCJkbmRfc3RhcnQudmFrYXRhLmpzdHJlZSIsZnVuY3Rpb24oZSx0KXtpPSExLHQmJnQuZGF0YSYmdC5kYXRhLmpzdHJlZSYmbi5hcHBlbmRUbygiYm9keSIpfSkub24oImRuZF9tb3ZlLnZha2F0YS5qc3RyZWUiLGZ1bmN0aW9uKGEsZCl7aWYociYmY2xlYXJUaW1lb3V0KHIpLGQmJmQuZGF0YSYmZC5kYXRhLmpzdHJlZSYmKCFkLmV2ZW50LnRhcmdldC5pZHx8ImpzdHJlZS1tYXJrZXIiIT09ZC5ldmVudC50YXJnZXQuaWQpKXt2YXIgXyx1LGcsZixwLG0sdixqLGsseSx4LGIsdyxDLG89ZS5qc3RyZWUucmVmZXJlbmNlKGQuZXZlbnQudGFyZ2V0KSxjPSExLGw9ITEsaD0hMTtpZihvJiZvLl9kYXRhJiZvLl9kYXRhLmRuZClpZihuLmF0dHIoImNsYXNzIiwianN0cmVlLSIrby5nZXRfdGhlbWUoKSsoby5zZXR0aW5ncy5jb3JlLnRoZW1lcy5yZXNwb25zaXZlPyIganN0cmVlLWRuZC1yZXNwb25zaXZlIjoiIikpLGQuaGVscGVyLmNoaWxkcmVuKCkuYXR0cigiY2xhc3MiLCJqc3RyZWUtIitvLmdldF90aGVtZSgpKyhvLnNldHRpbmdzLmNvcmUudGhlbWVzLnJlc3BvbnNpdmU/IiBqc3RyZWUtZG5kLXJlc3BvbnNpdmUiOiIiKSkuZmluZCgiLmpzdHJlZS1jb3B5OmVxKDApIilbZC5kYXRhLm9yaWdpbiYmKGQuZGF0YS5vcmlnaW4uc2V0dGluZ3MuZG5kLmFsd2F5c19jb3B5fHxkLmRhdGEub3JpZ2luLnNldHRpbmdzLmRuZC5jb3B5JiYoZC5ldmVudC5tZXRhS2V5fHxkLmV2ZW50LmN0cmxLZXkpKT8ic2hvdyI6ImhpZGUiXSgpLGQuZXZlbnQudGFyZ2V0IT09by5lbGVtZW50WzBdJiZkLmV2ZW50LnRhcmdldCE9PW8uZ2V0X2NvbnRhaW5lcl91bCgpWzBdfHwwIT09by5nZXRfY29udGFpbmVyX3VsKCkuY2hpbGRyZW4oKS5sZW5ndGgpe2lmKGM9ZShkLmV2ZW50LnRhcmdldCkuY2xvc2VzdCgiLmpzdHJlZS1hbmNob3IiKSxjJiZjLmxlbmd0aCYmYy5wYXJlbnQoKS5pcygiLmpzdHJlZS1jbG9zZWQsIC5qc3RyZWUtb3BlbiwgLmpzdHJlZS1sZWFmIikmJihsPWMub2Zmc2V0KCksaD1kLmV2ZW50LnBhZ2VZLWwudG9wLGc9Yy5oZWlnaHQoKSxtPWcvMz5oP1siYiIsImkiLCJhIl06aD5nLWcvMz9bImEiLCJpIiwiYiJdOmg+Zy8yP1siaSIsImEiLCJiIl06WyJpIiwiYiIsImEiXSxlLmVhY2gobSxmdW5jdGlvbihhLGgpe3N3aXRjaChoKXtjYXNlImIiOl89bC5sZWZ0LTYsdT1sLnRvcCxmPW8uZ2V0X3BhcmVudChjKSxwPWMucGFyZW50KCkuaW5kZXgoKTticmVhaztjYXNlImkiOnc9by5zZXR0aW5ncy5kbmQuaW5zaWRlX3BvcyxDPW8uZ2V0X25vZGUoYy5wYXJlbnQoKSksXz1sLmxlZnQtMix1PWwudG9wK2cvMisxLGY9Qy5pZCxwPSJmaXJzdCI9PT13PzA6Imxhc3QiPT09dz9DLmNoaWxkcmVuLmxlbmd0aDpNYXRoLm1pbih3LEMuY2hpbGRyZW4ubGVuZ3RoKTticmVhaztjYXNlImEiOl89bC5sZWZ0LTYsdT1sLnRvcCtnLGY9by5nZXRfcGFyZW50KGMpLHA9Yy5wYXJlbnQoKS5pbmRleCgpKzF9Zm9yKHY9ITAsaj0wLGs9ZC5kYXRhLm5vZGVzLmxlbmd0aDtrPmo7aisrKWlmKHk9ZC5kYXRhLm9yaWdpbiYmKGQuZGF0YS5vcmlnaW4uc2V0dGluZ3MuZG5kLmFsd2F5c19jb3B5fHxkLmRhdGEub3JpZ2luLnNldHRpbmdzLmRuZC5jb3B5JiYoZC5ldmVudC5tZXRhS2V5fHxkLmV2ZW50LmN0cmxLZXkpKT8iY29weV9ub2RlIjoibW92ZV9ub2RlIix4PXAsIm1vdmVfbm9kZSI9PT15JiYiYSI9PT1oJiZkLmRhdGEub3JpZ2luJiZkLmRhdGEub3JpZ2luPT09byYmZj09PW8uZ2V0X3BhcmVudChkLmRhdGEubm9kZXNbal0pJiYoYj1vLmdldF9ub2RlKGYpLHg+ZS5pbkFycmF5KGQuZGF0YS5ub2Rlc1tqXSxiLmNoaWxkcmVuKSYmKHgtPTEpKSx2PXYmJihvJiZvLnNldHRpbmdzJiZvLnNldHRpbmdzLmRuZCYmby5zZXR0aW5ncy5kbmQuY2hlY2tfd2hpbGVfZHJhZ2dpbmc9PT0hMXx8by5jaGVjayh5LGQuZGF0YS5vcmlnaW4mJmQuZGF0YS5vcmlnaW4hPT1vP2QuZGF0YS5vcmlnaW4uZ2V0X25vZGUoZC5kYXRhLm5vZGVzW2pdKTpkLmRhdGEubm9kZXNbal0sZix4LHtkbmQ6ITAscmVmOm8uZ2V0X25vZGUoYy5wYXJlbnQoKSkscG9zOmgsaXNfbXVsdGk6ZC5kYXRhLm9yaWdpbiYmZC5kYXRhLm9yaWdpbiE9PW8saXNfZm9yZWlnbjohZC5kYXRhLm9yaWdpbn0pKSwhdil7byYmby5sYXN0X2Vycm9yJiYocz1vLmxhc3RfZXJyb3IoKSk7YnJlYWt9cmV0dXJuIHY/KCJpIj09PWgmJmMucGFyZW50KCkuaXMoIi5qc3RyZWUtY2xvc2VkIikmJm8uc2V0dGluZ3MuZG5kLm9wZW5fdGltZW91dCYmKHI9c2V0VGltZW91dChmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbigpe2Uub3Blbl9ub2RlKHQpfX0obyxjKSxvLnNldHRpbmdzLmRuZC5vcGVuX3RpbWVvdXQpKSxpPXtpbnM6byxwYXI6Zixwb3M6ImkiIT09aHx8Imxhc3QiIT09d3x8MCE9PXB8fG8uaXNfbG9hZGVkKEMpP3A6Imxhc3QifSxuLmNzcyh7bGVmdDpfKyJweCIsdG9wOnUrInB4In0pLnNob3coKSxkLmhlbHBlci5maW5kKCIuanN0cmVlLWljb246ZXEoMCkiKS5yZW1vdmVDbGFzcygianN0cmVlLWVyIikuYWRkQ2xhc3MoImpzdHJlZS1vayIpLHM9e30sbT0hMCwhMSk6dH0pLG09PT0hMCkpcmV0dXJufWVsc2V7Zm9yKHY9ITAsaj0wLGs9ZC5kYXRhLm5vZGVzLmxlbmd0aDtrPmomJih2PXYmJm8uY2hlY2soZC5kYXRhLm9yaWdpbiYmKGQuZGF0YS5vcmlnaW4uc2V0dGluZ3MuZG5kLmFsd2F5c19jb3B5fHxkLmRhdGEub3JpZ2luLnNldHRpbmdzLmRuZC5jb3B5JiYoZC5ldmVudC5tZXRhS2V5fHxkLmV2ZW50LmN0cmxLZXkpKT8iY29weV9ub2RlIjoibW92ZV9ub2RlIixkLmRhdGEub3JpZ2luJiZkLmRhdGEub3JpZ2luIT09bz9kLmRhdGEub3JpZ2luLmdldF9ub2RlKGQuZGF0YS5ub2Rlc1tqXSk6ZC5kYXRhLm5vZGVzW2pdLCIjIiwibGFzdCIse2RuZDohMCxyZWY6by5nZXRfbm9kZSgiIyIpLHBvczoiaSIsaXNfbXVsdGk6ZC5kYXRhLm9yaWdpbiYmZC5kYXRhLm9yaWdpbiE9PW8saXNfZm9yZWlnbjohZC5kYXRhLm9yaWdpbn0pLHYpO2orKyk7aWYodilyZXR1cm4gaT17aW5zOm8scGFyOiIjIixwb3M6Imxhc3QifSxuLmhpZGUoKSxkLmhlbHBlci5maW5kKCIuanN0cmVlLWljb246ZXEoMCkiKS5yZW1vdmVDbGFzcygianN0cmVlLWVyIikuYWRkQ2xhc3MoImpzdHJlZS1vayIpLHR9aT0hMSxkLmhlbHBlci5maW5kKCIuanN0cmVlLWljb24iKS5yZW1vdmVDbGFzcygianN0cmVlLW9rIikuYWRkQ2xhc3MoImpzdHJlZS1lciIpLG4uaGlkZSgpfX0pLm9uKCJkbmRfc2Nyb2xsLnZha2F0YS5qc3RyZWUiLGZ1bmN0aW9uKGUsdCl7dCYmdC5kYXRhJiZ0LmRhdGEuanN0cmVlJiYobi5oaWRlKCksaT0hMSx0LmhlbHBlci5maW5kKCIuanN0cmVlLWljb246ZXEoMCkiKS5yZW1vdmVDbGFzcygianN0cmVlLW9rIikuYWRkQ2xhc3MoImpzdHJlZS1lciIpKX0pLm9uKCJkbmRfc3RvcC52YWthdGEuanN0cmVlIixmdW5jdGlvbih0LGEpe2lmKHImJmNsZWFyVGltZW91dChyKSxhJiZhLmRhdGEmJmEuZGF0YS5qc3RyZWUpe24uaGlkZSgpLmRldGFjaCgpO3ZhciBkLG8sYz1bXTtpZihpKXtmb3IoZD0wLG89YS5kYXRhLm5vZGVzLmxlbmd0aDtvPmQ7ZCsrKWNbZF09YS5kYXRhLm9yaWdpbj9hLmRhdGEub3JpZ2luLmdldF9ub2RlKGEuZGF0YS5ub2Rlc1tkXSk6YS5kYXRhLm5vZGVzW2RdLGEuZGF0YS5vcmlnaW4mJihjW2RdLmluc3RhbmNlPWEuZGF0YS5vcmlnaW4pO2ZvcihpLmluc1thLmRhdGEub3JpZ2luJiYoYS5kYXRhLm9yaWdpbi5zZXR0aW5ncy5kbmQuYWx3YXlzX2NvcHl8fGEuZGF0YS5vcmlnaW4uc2V0dGluZ3MuZG5kLmNvcHkmJihhLmV2ZW50Lm1ldGFLZXl8fGEuZXZlbnQuY3RybEtleSkpPyJjb3B5X25vZGUiOiJtb3ZlX25vZGUiXShjLGkucGFyLGkucG9zKSxkPTAsbz1jLmxlbmd0aDtvPmQ7ZCsrKWNbZF0uaW5zdGFuY2UmJihjW2RdLmluc3RhbmNlPW51bGwpfWVsc2UgZD1lKGEuZXZlbnQudGFyZ2V0KS5jbG9zZXN0KCIuanN0cmVlIiksZC5sZW5ndGgmJnMmJnMuZXJyb3ImJiJjaGVjayI9PT1zLmVycm9yJiYoZD1kLmpzdHJlZSghMCksZCYmZC5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyxzKSl9fSkub24oImtleXVwLmpzdHJlZSBrZXlkb3duLmpzdHJlZSIsZnVuY3Rpb24odCxpKXtpPWUudmFrYXRhLmRuZC5fZ2V0KCksaSYmaS5kYXRhJiZpLmRhdGEuanN0cmVlJiZpLmhlbHBlci5maW5kKCIuanN0cmVlLWNvcHk6ZXEoMCkiKVtpLmRhdGEub3JpZ2luJiYoaS5kYXRhLm9yaWdpbi5zZXR0aW5ncy5kbmQuYWx3YXlzX2NvcHl8fGkuZGF0YS5vcmlnaW4uc2V0dGluZ3MuZG5kLmNvcHkmJih0Lm1ldGFLZXl8fHQuY3RybEtleSkpPyJzaG93IjoiaGlkZSJdKCl9KX0pLGZ1bmN0aW9uKGUpe3ZhciBpPXtlbGVtZW50OiExLHRhcmdldDohMSxpc19kb3duOiExLGlzX2RyYWc6ITEsaGVscGVyOiExLGhlbHBlcl93OjAsZGF0YTohMSxpbml0X3g6MCxpbml0X3k6MCxzY3JvbGxfbDowLHNjcm9sbF90OjAsc2Nyb2xsX2U6ITEsc2Nyb2xsX2k6ITEsaXNfdG91Y2g6ITF9O2UudmFrYXRhLmRuZD17c2V0dGluZ3M6e3Njcm9sbF9zcGVlZDoxMCxzY3JvbGxfcHJveGltaXR5OjIwLGhlbHBlcl9sZWZ0OjUsaGVscGVyX3RvcDoxMCx0aHJlc2hvbGQ6NSx0aHJlc2hvbGRfdG91Y2g6NTB9LF90cmlnZ2VyOmZ1bmN0aW9uKHQsaSl7dmFyIHM9ZS52YWthdGEuZG5kLl9nZXQoKTtzLmV2ZW50PWksZShkb2N1bWVudCkudHJpZ2dlckhhbmRsZXIoImRuZF8iK3QrIi52YWthdGEiLHMpfSxfZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue2RhdGE6aS5kYXRhLGVsZW1lbnQ6aS5lbGVtZW50LGhlbHBlcjppLmhlbHBlcn19LF9jbGVhbjpmdW5jdGlvbigpe2kuaGVscGVyJiZpLmhlbHBlci5yZW1vdmUoKSxpLnNjcm9sbF9pJiYoY2xlYXJJbnRlcnZhbChpLnNjcm9sbF9pKSxpLnNjcm9sbF9pPSExKSxpPXtlbGVtZW50OiExLHRhcmdldDohMSxpc19kb3duOiExLGlzX2RyYWc6ITEsaGVscGVyOiExLGhlbHBlcl93OjAsZGF0YTohMSxpbml0X3g6MCxpbml0X3k6MCxzY3JvbGxfbDowLHNjcm9sbF90OjAsc2Nyb2xsX2U6ITEsc2Nyb2xsX2k6ITEsaXNfdG91Y2g6ITF9LGUoZG9jdW1lbnQpLm9mZigibW91c2Vtb3ZlLnZha2F0YS5qc3RyZWUgdG91Y2htb3ZlLnZha2F0YS5qc3RyZWUiLGUudmFrYXRhLmRuZC5kcmFnKSxlKGRvY3VtZW50KS5vZmYoIm1vdXNldXAudmFrYXRhLmpzdHJlZSB0b3VjaGVuZC52YWthdGEuanN0cmVlIixlLnZha2F0YS5kbmQuc3RvcCl9LF9zY3JvbGw6ZnVuY3Rpb24odCl7aWYoIWkuc2Nyb2xsX2V8fCFpLnNjcm9sbF9sJiYhaS5zY3JvbGxfdClyZXR1cm4gaS5zY3JvbGxfaSYmKGNsZWFySW50ZXJ2YWwoaS5zY3JvbGxfaSksaS5zY3JvbGxfaT0hMSksITE7aWYoIWkuc2Nyb2xsX2kpcmV0dXJuIGkuc2Nyb2xsX2k9c2V0SW50ZXJ2YWwoZS52YWthdGEuZG5kLl9zY3JvbGwsMTAwKSwhMTtpZih0PT09ITApcmV0dXJuITE7dmFyIHM9aS5zY3JvbGxfZS5zY3JvbGxUb3AoKSxyPWkuc2Nyb2xsX2Uuc2Nyb2xsTGVmdCgpO2kuc2Nyb2xsX2Uuc2Nyb2xsVG9wKHMraS5zY3JvbGxfdCplLnZha2F0YS5kbmQuc2V0dGluZ3Muc2Nyb2xsX3NwZWVkKSxpLnNjcm9sbF9lLnNjcm9sbExlZnQocitpLnNjcm9sbF9sKmUudmFrYXRhLmRuZC5zZXR0aW5ncy5zY3JvbGxfc3BlZWQpLChzIT09aS5zY3JvbGxfZS5zY3JvbGxUb3AoKXx8ciE9PWkuc2Nyb2xsX2Uuc2Nyb2xsTGVmdCgpKSYmZS52YWthdGEuZG5kLl90cmlnZ2VyKCJzY3JvbGwiLGkuc2Nyb2xsX2UpfSxzdGFydDpmdW5jdGlvbih0LHMscil7InRvdWNoc3RhcnQiPT09dC50eXBlJiZ0Lm9yaWdpbmFsRXZlbnQmJnQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlcyYmdC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdJiYodC5wYWdlWD10Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVgsdC5wYWdlWT10Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVksdC50YXJnZXQ9ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCh0Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVgtd2luZG93LnBhZ2VYT2Zmc2V0LHQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWS13aW5kb3cucGFnZVlPZmZzZXQpKSxpLmlzX2RyYWcmJmUudmFrYXRhLmRuZC5zdG9wKHt9KTt0cnl7dC5jdXJyZW50VGFyZ2V0LnVuc2VsZWN0YWJsZT0ib24iLHQuY3VycmVudFRhcmdldC5vbnNlbGVjdHN0YXJ0PWZ1bmN0aW9uKCl7cmV0dXJuITF9LHQuY3VycmVudFRhcmdldC5zdHlsZSYmKHQuY3VycmVudFRhcmdldC5zdHlsZS5Nb3pVc2VyU2VsZWN0PSJub25lIil9Y2F0Y2gobil7fXJldHVybiBpLmluaXRfeD10LnBhZ2VYLGkuaW5pdF95PXQucGFnZVksaS5kYXRhPXMsaS5pc19kb3duPSEwLGkuZWxlbWVudD10LmN1cnJlbnRUYXJnZXQsaS50YXJnZXQ9dC50YXJnZXQsaS5pc190b3VjaD0idG91Y2hzdGFydCI9PT10LnR5cGUsciE9PSExJiYoaS5oZWxwZXI9ZSgiPGRpdiBpZD0ndmFrYXRhLWRuZCc+PC9kaXY+IikuaHRtbChyKS5jc3Moe2Rpc3BsYXk6ImJsb2NrIixtYXJnaW46IjAiLHBhZGRpbmc6IjAiLHBvc2l0aW9uOiJhYnNvbHV0ZSIsdG9wOiItMjAwMHB4IixsaW5lSGVpZ2h0OiIxNnB4Iix6SW5kZXg6IjEwMDAwIn0pKSxlKGRvY3VtZW50KS5vbigibW91c2Vtb3ZlLnZha2F0YS5qc3RyZWUgdG91Y2htb3ZlLnZha2F0YS5qc3RyZWUiLGUudmFrYXRhLmRuZC5kcmFnKSxlKGRvY3VtZW50KS5vbigibW91c2V1cC52YWthdGEuanN0cmVlIHRvdWNoZW5kLnZha2F0YS5qc3RyZWUiLGUudmFrYXRhLmRuZC5zdG9wKSwhMX0sZHJhZzpmdW5jdGlvbihzKXtpZigidG91Y2htb3ZlIj09PXMudHlwZSYmcy5vcmlnaW5hbEV2ZW50JiZzLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXMmJnMub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXSYmKHMucGFnZVg9cy5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYLHMucGFnZVk9cy5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZLHMudGFyZ2V0PWRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQocy5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYLXdpbmRvdy5wYWdlWE9mZnNldCxzLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVktd2luZG93LnBhZ2VZT2Zmc2V0KSksaS5pc19kb3duKXtpZighaS5pc19kcmFnKXtpZighKE1hdGguYWJzKHMucGFnZVgtaS5pbml0X3gpPihpLmlzX3RvdWNoP2UudmFrYXRhLmRuZC5zZXR0aW5ncy50aHJlc2hvbGRfdG91Y2g6ZS52YWthdGEuZG5kLnNldHRpbmdzLnRocmVzaG9sZCl8fE1hdGguYWJzKHMucGFnZVktaS5pbml0X3kpPihpLmlzX3RvdWNoP2UudmFrYXRhLmRuZC5zZXR0aW5ncy50aHJlc2hvbGRfdG91Y2g6ZS52YWthdGEuZG5kLnNldHRpbmdzLnRocmVzaG9sZCkpKXJldHVybjtpLmhlbHBlciYmKGkuaGVscGVyLmFwcGVuZFRvKCJib2R5IiksaS5oZWxwZXJfdz1pLmhlbHBlci5vdXRlcldpZHRoKCkpLGkuaXNfZHJhZz0hMCxlLnZha2F0YS5kbmQuX3RyaWdnZXIoInN0YXJ0IixzKX12YXIgcj0hMSxuPSExLGE9ITEsZD0hMSxvPSExLGM9ITEsbD0hMSxoPSExLF89ITEsdT0hMTtyZXR1cm4gaS5zY3JvbGxfdD0wLGkuc2Nyb2xsX2w9MCxpLnNjcm9sbF9lPSExLGUoZShzLnRhcmdldCkucGFyZW50c1VudGlsKCJib2R5IikuYWRkQmFjaygpLmdldCgpLnJldmVyc2UoKSkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuL15hdXRvfHNjcm9sbCQvLnRlc3QoZSh0aGlzKS5jc3MoIm92ZXJmbG93IikpJiYodGhpcy5zY3JvbGxIZWlnaHQ+dGhpcy5vZmZzZXRIZWlnaHR8fHRoaXMuc2Nyb2xsV2lkdGg+dGhpcy5vZmZzZXRXaWR0aCl9KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHI9ZSh0aGlzKSxuPXIub2Zmc2V0KCk7cmV0dXJuIHRoaXMuc2Nyb2xsSGVpZ2h0PnRoaXMub2Zmc2V0SGVpZ2h0JiYobi50b3Arci5oZWlnaHQoKS1zLnBhZ2VZPGUudmFrYXRhLmRuZC5zZXR0aW5ncy5zY3JvbGxfcHJveGltaXR5JiYoaS5zY3JvbGxfdD0xKSxzLnBhZ2VZLW4udG9wPGUudmFrYXRhLmRuZC5zZXR0aW5ncy5zY3JvbGxfcHJveGltaXR5JiYoaS5zY3JvbGxfdD0tMSkpLHRoaXMuc2Nyb2xsV2lkdGg+dGhpcy5vZmZzZXRXaWR0aCYmKG4ubGVmdCtyLndpZHRoKCktcy5wYWdlWDxlLnZha2F0YS5kbmQuc2V0dGluZ3Muc2Nyb2xsX3Byb3hpbWl0eSYmKGkuc2Nyb2xsX2w9MSkscy5wYWdlWC1uLmxlZnQ8ZS52YWthdGEuZG5kLnNldHRpbmdzLnNjcm9sbF9wcm94aW1pdHkmJihpLnNjcm9sbF9sPS0xKSksaS5zY3JvbGxfdHx8aS5zY3JvbGxfbD8oaS5zY3JvbGxfZT1lKHRoaXMpLCExKTp0fSksaS5zY3JvbGxfZXx8KHI9ZShkb2N1bWVudCksbj1lKHdpbmRvdyksYT1yLmhlaWdodCgpLGQ9bi5oZWlnaHQoKSxvPXIud2lkdGgoKSxjPW4ud2lkdGgoKSxsPXIuc2Nyb2xsVG9wKCksaD1yLnNjcm9sbExlZnQoKSxhPmQmJnMucGFnZVktbDxlLnZha2F0YS5kbmQuc2V0dGluZ3Muc2Nyb2xsX3Byb3hpbWl0eSYmKGkuc2Nyb2xsX3Q9LTEpLGE+ZCYmZC0ocy5wYWdlWS1sKTxlLnZha2F0YS5kbmQuc2V0dGluZ3Muc2Nyb2xsX3Byb3hpbWl0eSYmKGkuc2Nyb2xsX3Q9MSksbz5jJiZzLnBhZ2VYLWg8ZS52YWthdGEuZG5kLnNldHRpbmdzLnNjcm9sbF9wcm94aW1pdHkmJihpLnNjcm9sbF9sPS0xKSxvPmMmJmMtKHMucGFnZVgtaCk8ZS52YWthdGEuZG5kLnNldHRpbmdzLnNjcm9sbF9wcm94aW1pdHkmJihpLnNjcm9sbF9sPTEpLChpLnNjcm9sbF90fHxpLnNjcm9sbF9sKSYmKGkuc2Nyb2xsX2U9cikpLGkuc2Nyb2xsX2UmJmUudmFrYXRhLmRuZC5fc2Nyb2xsKCEwKSxpLmhlbHBlciYmKF89cGFyc2VJbnQocy5wYWdlWStlLnZha2F0YS5kbmQuc2V0dGluZ3MuaGVscGVyX3RvcCwxMCksdT1wYXJzZUludChzLnBhZ2VYK2UudmFrYXRhLmRuZC5zZXR0aW5ncy5oZWxwZXJfbGVmdCwxMCksYSYmXysyNT5hJiYoXz1hLTUwKSxvJiZ1K2kuaGVscGVyX3c+byYmKHU9by0oaS5oZWxwZXJfdysyKSksaS5oZWxwZXIuY3NzKHtsZWZ0OnUrInB4Iix0b3A6XysicHgifSkpLGUudmFrYXRhLmRuZC5fdHJpZ2dlcigibW92ZSIscyksITF9fSxzdG9wOmZ1bmN0aW9uKHQpe2lmKCJ0b3VjaGVuZCI9PT10LnR5cGUmJnQub3JpZ2luYWxFdmVudCYmdC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzJiZ0Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0mJih0LnBhZ2VYPXQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCx0LnBhZ2VZPXQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWSx0LnRhcmdldD1kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWC13aW5kb3cucGFnZVhPZmZzZXQsdC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZLXdpbmRvdy5wYWdlWU9mZnNldCkpLGkuaXNfZHJhZyllLnZha2F0YS5kbmQuX3RyaWdnZXIoInN0b3AiLHQpO2Vsc2UgaWYoInRvdWNoZW5kIj09PXQudHlwZSYmdC50YXJnZXQ9PT1pLnRhcmdldCl7dmFyIHM9c2V0VGltZW91dChmdW5jdGlvbigpe2UodC50YXJnZXQpLmNsaWNrKCl9LDEwMCk7ZSh0LnRhcmdldCkub25lKCJjbGljayIsZnVuY3Rpb24oKXtzJiZjbGVhclRpbWVvdXQocyl9KX1yZXR1cm4gZS52YWthdGEuZG5kLl9jbGVhbigpLCExfX19KGUpLGUuanN0cmVlLmRlZmF1bHRzLnNlYXJjaD17YWpheDohMSxmdXp6eTohMSxjYXNlX3NlbnNpdGl2ZTohMSxzaG93X29ubHlfbWF0Y2hlczohMSxjbG9zZV9vcGVuZWRfb25jbGVhcjohMCxzZWFyY2hfbGVhdmVzX29ubHk6ITEsc2VhcmNoX2NhbGxiYWNrOiExfSxlLmpzdHJlZS5wbHVnaW5zLnNlYXJjaD1mdW5jdGlvbihpLHMpe3RoaXMuYmluZD1mdW5jdGlvbigpe3MuYmluZC5jYWxsKHRoaXMpLHRoaXMuX2RhdGEuc2VhcmNoLnN0cj0iIix0aGlzLl9kYXRhLnNlYXJjaC5kb209ZSgpLHRoaXMuX2RhdGEuc2VhcmNoLnJlcz1bXSx0aGlzLl9kYXRhLnNlYXJjaC5vcG49W10sdGhpcy5lbGVtZW50Lm9uKCJiZWZvcmVfb3Blbi5qc3RyZWUiLGUucHJveHkoZnVuY3Rpb24oKXt2YXIgcyxyLGE9dGhpcy5fZGF0YS5zZWFyY2gucmVzLGQ9W10sbz1lKCk7aWYoYSYmYS5sZW5ndGgmJih0aGlzLl9kYXRhLnNlYXJjaC5kb209ZSh0aGlzLmVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvckFsbCgiIyIrZS5tYXAoYSxmdW5jdGlvbih0KXtyZXR1cm4tMSE9PSIwMTIzNDU2Nzg5Ii5pbmRleE9mKHRbMF0pPyJcXDMiK3RbMF0rIiAiK3Quc3Vic3RyKDEpLnJlcGxhY2UoZS5qc3RyZWUuaWRyZWdleCwiXFwkJiIpOnQucmVwbGFjZShlLmpzdHJlZS5pZHJlZ2V4LCJcXCQmIil9KS5qb2luKCIsICMiKSkpLHRoaXMuX2RhdGEuc2VhcmNoLmRvbS5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3IiKS5hZGRDbGFzcygianN0cmVlLXNlYXJjaCIpLHRoaXMuc2V0dGluZ3Muc2VhcmNoLnNob3dfb25seV9tYXRjaGVzJiZ0aGlzLl9kYXRhLnNlYXJjaC5yZXMubGVuZ3RoKSl7Zm9yKHM9MCxyPWEubGVuZ3RoO3I+cztzKyspZD1kLmNvbmNhdCh0aGlzLmdldF9ub2RlKGFbc10pLnBhcmVudHMpO2Q9ZS52YWthdGEuYXJyYXlfcmVtb3ZlX2l0ZW0oZS52YWthdGEuYXJyYXlfdW5pcXVlKGQpLCIjIiksbz1kLmxlbmd0aD9lKHRoaXMuZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yQWxsKCIjIitlLm1hcChkLGZ1bmN0aW9uKHQpe3JldHVybi0xIT09IjAxMjM0NTY3ODkiLmluZGV4T2YodFswXSk/IlxcMyIrdFswXSsiICIrdC5zdWJzdHIoMSkucmVwbGFjZShlLmpzdHJlZS5pZHJlZ2V4LCJcXCQmIik6dC5yZXBsYWNlKGUuanN0cmVlLmlkcmVnZXgsIlxcJCYiKX0pLmpvaW4oIiwgIyIpKSk6ZSgpLHRoaXMuZWxlbWVudC5maW5kKCIuanN0cmVlLW5vZGUiKS5oaWRlKCkuZmlsdGVyKCIuanN0cmVlLWxhc3QiKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZXh0U2libGluZ30pLnJlbW92ZUNsYXNzKCJqc3RyZWUtbGFzdCIpLG89by5hZGQodGhpcy5fZGF0YS5zZWFyY2guZG9tKSxvLnBhcmVudHNVbnRpbCgiLmpzdHJlZSIpLmFkZEJhY2soKS5zaG93KCkuZmlsdGVyKCIuanN0cmVlLWNoaWxkcmVuIikuZWFjaChmdW5jdGlvbigpe2UodGhpcykuY2hpbGRyZW4oIi5qc3RyZWUtbm9kZTp2aXNpYmxlIikuZXEoLTEpLmFkZENsYXNzKCJqc3RyZWUtbGFzdCIpfSl9fSx0aGlzKSksdGhpcy5zZXR0aW5ncy5zZWFyY2guc2hvd19vbmx5X21hdGNoZXMmJnRoaXMuZWxlbWVudC5vbigic2VhcmNoLmpzdHJlZSIsZnVuY3Rpb24odCxpKXtpLm5vZGVzLmxlbmd0aCYmKGUodGhpcykuZmluZCgiLmpzdHJlZS1ub2RlIikuaGlkZSgpLmZpbHRlcigiLmpzdHJlZS1sYXN0IikuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmV4dFNpYmxpbmd9KS5yZW1vdmVDbGFzcygianN0cmVlLWxhc3QiKSxpLm5vZGVzLnBhcmVudHNVbnRpbCgiLmpzdHJlZSIpLmFkZEJhY2soKS5zaG93KCkuZmlsdGVyKCIuanN0cmVlLWNoaWxkcmVuIikuZWFjaChmdW5jdGlvbigpe2UodGhpcykuY2hpbGRyZW4oIi5qc3RyZWUtbm9kZTp2aXNpYmxlIikuZXEoLTEpLmFkZENsYXNzKCJqc3RyZWUtbGFzdCIpfSkpfSkub24oImNsZWFyX3NlYXJjaC5qc3RyZWUiLGZ1bmN0aW9uKHQsaSl7aS5ub2Rlcy5sZW5ndGgmJmUodGhpcykuZmluZCgiLmpzdHJlZS1ub2RlIikuY3NzKCJkaXNwbGF5IiwiIikuZmlsdGVyKCIuanN0cmVlLWxhc3QiKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZXh0U2libGluZ30pLnJlbW92ZUNsYXNzKCJqc3RyZWUtbGFzdCIpfSl9LHRoaXMuc2VhcmNoPWZ1bmN0aW9uKGkscyl7aWYoaT09PSExfHwiIj09PWUudHJpbSgiIitpKSlyZXR1cm4gdGhpcy5jbGVhcl9zZWFyY2goKTtpPSIiK2k7dmFyIHI9dGhpcy5zZXR0aW5ncy5zZWFyY2gsbj1yLmFqYXg/ci5hamF4OiExLGE9bnVsbCxkPVtdLG89W107cmV0dXJuIHRoaXMuX2RhdGEuc2VhcmNoLnJlcy5sZW5ndGgmJnRoaXMuY2xlYXJfc2VhcmNoKCksc3x8bj09PSExPyh0aGlzLl9kYXRhLnNlYXJjaC5zdHI9aSx0aGlzLl9kYXRhLnNlYXJjaC5kb209ZSgpLHRoaXMuX2RhdGEuc2VhcmNoLnJlcz1bXSx0aGlzLl9kYXRhLnNlYXJjaC5vcG49W10sYT1uZXcgZS52YWthdGEuc2VhcmNoKGksITAse2Nhc2VTZW5zaXRpdmU6ci5jYXNlX3NlbnNpdGl2ZSxmdXp6eTpyLmZ1enp5fSksZS5lYWNoKHRoaXMuX21vZGVsLmRhdGEsZnVuY3Rpb24oZSx0KXt0LnRleHQmJihyLnNlYXJjaF9jYWxsYmFjayYmci5zZWFyY2hfY2FsbGJhY2suY2FsbCh0aGlzLGksdCl8fCFyLnNlYXJjaF9jYWxsYmFjayYmYS5zZWFyY2godC50ZXh0KS5pc01hdGNoKSYmKCFyLnNlYXJjaF9sZWF2ZXNfb25seXx8dC5zdGF0ZS5sb2FkZWQmJjA9PT10LmNoaWxkcmVuLmxlbmd0aCkmJihkLnB1c2goZSksbz1vLmNvbmNhdCh0LnBhcmVudHMpKX0pLGQubGVuZ3RoJiYobz1lLnZha2F0YS5hcnJheV91bmlxdWUobyksdGhpcy5fc2VhcmNoX29wZW4obyksdGhpcy5fZGF0YS5zZWFyY2guZG9tPWUodGhpcy5lbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3JBbGwoIiMiK2UubWFwKGQsZnVuY3Rpb24odCl7cmV0dXJuLTEhPT0iMDEyMzQ1Njc4OSIuaW5kZXhPZih0WzBdKT8iXFwzIit0WzBdKyIgIit0LnN1YnN0cigxKS5yZXBsYWNlKGUuanN0cmVlLmlkcmVnZXgsIlxcJCYiKTp0LnJlcGxhY2UoZS5qc3RyZWUuaWRyZWdleCwiXFwkJiIpfSkuam9pbigiLCAjIikpKSx0aGlzLl9kYXRhLnNlYXJjaC5yZXM9ZCx0aGlzLl9kYXRhLnNlYXJjaC5kb20uY2hpbGRyZW4oIi5qc3RyZWUtYW5jaG9yIikuYWRkQ2xhc3MoImpzdHJlZS1zZWFyY2giKSksdGhpcy50cmlnZ2VyKCJzZWFyY2giLHtub2Rlczp0aGlzLl9kYXRhLnNlYXJjaC5kb20sc3RyOmkscmVzOnRoaXMuX2RhdGEuc2VhcmNoLnJlc30pLHQpOmUuaXNGdW5jdGlvbihuKT9uLmNhbGwodGhpcyxpLGUucHJveHkoZnVuY3Rpb24odCl7dCYmdC5kJiYodD10LmQpLHRoaXMuX2xvYWRfbm9kZXMoZS5pc0FycmF5KHQpP2UudmFrYXRhLmFycmF5X3VuaXF1ZSh0KTpbXSxmdW5jdGlvbigpe3RoaXMuc2VhcmNoKGksITApfSwhMCl9LHRoaXMpKToobj1lLmV4dGVuZCh7fSxuKSxuLmRhdGF8fChuLmRhdGE9e30pLG4uZGF0YS5zdHI9aSxlLmFqYXgobikuZmFpbChlLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOiJhamF4IixwbHVnaW46InNlYXJjaCIsaWQ6InNlYXJjaF8wMSIscmVhc29uOiJDb3VsZCBub3QgbG9hZCBzZWFyY2ggcGFyZW50cyIsZGF0YTpKU09OLnN0cmluZ2lmeShuKX0sdGhpcy5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcil9LHRoaXMpKS5kb25lKGUucHJveHkoZnVuY3Rpb24odCl7dCYmdC5kJiYodD10LmQpLHRoaXMuX2xvYWRfbm9kZXMoZS5pc0FycmF5KHQpP2UudmFrYXRhLmFycmF5X3VuaXF1ZSh0KTpbXSxmdW5jdGlvbigpe3RoaXMuc2VhcmNoKGksITApfSwhMCl9LHRoaXMpKSl9LHRoaXMuY2xlYXJfc2VhcmNoPWZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5zZWFyY2guZG9tLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvciIpLnJlbW92ZUNsYXNzKCJqc3RyZWUtc2VhcmNoIiksdGhpcy5zZXR0aW5ncy5zZWFyY2guY2xvc2Vfb3BlbmVkX29uY2xlYXImJnRoaXMuY2xvc2Vfbm9kZSh0aGlzLl9kYXRhLnNlYXJjaC5vcG4sMCksdGhpcy50cmlnZ2VyKCJjbGVhcl9zZWFyY2giLHtub2Rlczp0aGlzLl9kYXRhLnNlYXJjaC5kb20sc3RyOnRoaXMuX2RhdGEuc2VhcmNoLnN0cixyZXM6dGhpcy5fZGF0YS5zZWFyY2gucmVzfSksdGhpcy5fZGF0YS5zZWFyY2guc3RyPSIiLHRoaXMuX2RhdGEuc2VhcmNoLnJlcz1bXSx0aGlzLl9kYXRhLnNlYXJjaC5vcG49W10sdGhpcy5fZGF0YS5zZWFyY2guZG9tPWUoKX0sdGhpcy5fc2VhcmNoX29wZW49ZnVuY3Rpb24odCl7dmFyIGk9dGhpcztlLmVhY2godC5jb25jYXQoW10pLGZ1bmN0aW9uKHMscil7aWYoIiMiPT09cilyZXR1cm4hMDt0cnl7cj1lKCIjIityLnJlcGxhY2UoZS5qc3RyZWUuaWRyZWdleCwiXFwkJiIpLGkuZWxlbWVudCl9Y2F0Y2gobil7fXImJnIubGVuZ3RoJiZpLmlzX2Nsb3NlZChyKSYmKGkuX2RhdGEuc2VhcmNoLm9wbi5wdXNoKHJbMF0uaWQpLGkub3Blbl9ub2RlKHIsZnVuY3Rpb24oKXtpLl9zZWFyY2hfb3Blbih0KQp9LDApKX0pfX0sZnVuY3Rpb24oZSl7ZS52YWthdGEuc2VhcmNoPWZ1bmN0aW9uKGUsdCxpKXtpPWl8fHt9LGkuZnV6enkhPT0hMSYmKGkuZnV6enk9ITApLGU9aS5jYXNlU2Vuc2l0aXZlP2U6ZS50b0xvd2VyQ2FzZSgpO3ZhciBkLG8sYyxsLHM9aS5sb2NhdGlvbnx8MCxyPWkuZGlzdGFuY2V8fDEwMCxuPWkudGhyZXNob2xkfHwuNixhPWUubGVuZ3RoO3JldHVybiBhPjMyJiYoaS5mdXp6eT0hMSksaS5mdXp6eSYmKGQ9MTw8YS0xLG89ZnVuY3Rpb24oKXt2YXIgdD17fSxpPTA7Zm9yKGk9MDthPmk7aSsrKXRbZS5jaGFyQXQoaSldPTA7Zm9yKGk9MDthPmk7aSsrKXRbZS5jaGFyQXQoaSldfD0xPDxhLWktMTtyZXR1cm4gdH0oKSxjPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZS9hLG49TWF0aC5hYnMocy10KTtyZXR1cm4gcj9pK24vcjpuPzE6aX0pLGw9ZnVuY3Rpb24odCl7aWYodD1pLmNhc2VTZW5zaXRpdmU/dDp0LnRvTG93ZXJDYXNlKCksZT09PXR8fC0xIT09dC5pbmRleE9mKGUpKXJldHVybntpc01hdGNoOiEwLHNjb3JlOjB9O2lmKCFpLmZ1enp5KXJldHVybntpc01hdGNoOiExLHNjb3JlOjF9O3ZhciByLGwsZyxmLG0sdixqLGsseSxoPXQubGVuZ3RoLF89bix1PXQuaW5kZXhPZihlLHMpLHA9YStoLHg9MSxiPVtdO2ZvcigtMSE9PXUmJihfPU1hdGgubWluKGMoMCx1KSxfKSx1PXQubGFzdEluZGV4T2YoZSxzK2EpLC0xIT09dSYmKF89TWF0aC5taW4oYygwLHUpLF8pKSksdT0tMSxyPTA7YT5yO3IrKyl7Zm9yKGc9MCxmPXA7Zj5nOylfPj1jKHIscytmKT9nPWY6cD1mLGY9TWF0aC5mbG9vcigocC1nKS8yK2cpO2ZvcihwPWYsdj1NYXRoLm1heCgxLHMtZisxKSxqPU1hdGgubWluKHMrZixoKSthLGs9QXJyYXkoaisyKSxrW2orMV09KDE8PHIpLTEsbD1qO2w+PXY7bC0tKWlmKHk9b1t0LmNoYXJBdChsLTEpXSxrW2xdPTA9PT1yPygxfGtbbCsxXTw8MSkmeTooMXxrW2wrMV08PDEpJnl8KDF8KG1bbCsxXXxtW2xdKTw8MSl8bVtsKzFdLGtbbF0mZCYmKHg9YyhyLGwtMSksXz49eCkpe2lmKF89eCx1PWwtMSxiLnB1c2godSksISh1PnMpKWJyZWFrO3Y9TWF0aC5tYXgoMSwyKnMtdSl9aWYoYyhyKzEscyk+XylicmVhazttPWt9cmV0dXJue2lzTWF0Y2g6dT49MCxzY29yZTp4fX0sdD09PSEwP3tzZWFyY2g6bH06bCh0KX19KGUpLGUuanN0cmVlLmRlZmF1bHRzLnNvcnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5nZXRfdGV4dChlKT50aGlzLmdldF90ZXh0KHQpPzE6LTF9LGUuanN0cmVlLnBsdWdpbnMuc29ydD1mdW5jdGlvbih0LGkpe3RoaXMuYmluZD1mdW5jdGlvbigpe2kuYmluZC5jYWxsKHRoaXMpLHRoaXMuZWxlbWVudC5vbigibW9kZWwuanN0cmVlIixlLnByb3h5KGZ1bmN0aW9uKGUsdCl7dGhpcy5zb3J0KHQucGFyZW50LCEwKX0sdGhpcykpLm9uKCJyZW5hbWVfbm9kZS5qc3RyZWUgY3JlYXRlX25vZGUuanN0cmVlIixlLnByb3h5KGZ1bmN0aW9uKGUsdCl7dGhpcy5zb3J0KHQucGFyZW50fHx0Lm5vZGUucGFyZW50LCExKSx0aGlzLnJlZHJhd19ub2RlKHQucGFyZW50fHx0Lm5vZGUucGFyZW50LCEwKX0sdGhpcykpLm9uKCJtb3ZlX25vZGUuanN0cmVlIGNvcHlfbm9kZS5qc3RyZWUiLGUucHJveHkoZnVuY3Rpb24oZSx0KXt0aGlzLnNvcnQodC5wYXJlbnQsITEpLHRoaXMucmVkcmF3X25vZGUodC5wYXJlbnQsITApfSx0aGlzKSl9LHRoaXMuc29ydD1mdW5jdGlvbih0LGkpe3ZhciBzLHI7aWYodD10aGlzLmdldF9ub2RlKHQpLHQmJnQuY2hpbGRyZW4mJnQuY2hpbGRyZW4ubGVuZ3RoJiYodC5jaGlsZHJlbi5zb3J0KGUucHJveHkodGhpcy5zZXR0aW5ncy5zb3J0LHRoaXMpKSxpKSlmb3Iocz0wLHI9dC5jaGlsZHJlbl9kLmxlbmd0aDtyPnM7cysrKXRoaXMuc29ydCh0LmNoaWxkcmVuX2Rbc10sITEpfX07dmFyIHU9ITE7ZS5qc3RyZWUuZGVmYXVsdHMuc3RhdGU9e2tleToianN0cmVlIixldmVudHM6ImNoYW5nZWQuanN0cmVlIG9wZW5fbm9kZS5qc3RyZWUgY2xvc2Vfbm9kZS5qc3RyZWUiLHR0bDohMSxmaWx0ZXI6ITF9LGUuanN0cmVlLnBsdWdpbnMuc3RhdGU9ZnVuY3Rpb24odCxpKXt0aGlzLmJpbmQ9ZnVuY3Rpb24oKXtpLmJpbmQuY2FsbCh0aGlzKTt2YXIgdD1lLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lm9uKHRoaXMuc2V0dGluZ3Muc3RhdGUuZXZlbnRzLGUucHJveHkoZnVuY3Rpb24oKXt1JiZjbGVhclRpbWVvdXQodSksdT1zZXRUaW1lb3V0KGUucHJveHkoZnVuY3Rpb24oKXt0aGlzLnNhdmVfc3RhdGUoKX0sdGhpcyksMTAwKX0sdGhpcykpfSx0aGlzKTt0aGlzLmVsZW1lbnQub24oInJlYWR5LmpzdHJlZSIsZS5wcm94eShmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5vbmUoInJlc3RvcmVfc3RhdGUuanN0cmVlIix0KSx0aGlzLnJlc3RvcmVfc3RhdGUoKXx8dCgpfSx0aGlzKSl9LHRoaXMuc2F2ZV9zdGF0ZT1mdW5jdGlvbigpe3ZhciB0PXtzdGF0ZTp0aGlzLmdldF9zdGF0ZSgpLHR0bDp0aGlzLnNldHRpbmdzLnN0YXRlLnR0bCxzZWM6K25ldyBEYXRlfTtlLnZha2F0YS5zdG9yYWdlLnNldCh0aGlzLnNldHRpbmdzLnN0YXRlLmtleSxKU09OLnN0cmluZ2lmeSh0KSl9LHRoaXMucmVzdG9yZV9zdGF0ZT1mdW5jdGlvbigpe3ZhciB0PWUudmFrYXRhLnN0b3JhZ2UuZ2V0KHRoaXMuc2V0dGluZ3Muc3RhdGUua2V5KTtpZih0KXRyeXt0PUpTT04ucGFyc2UodCl9Y2F0Y2goaSl7cmV0dXJuITF9cmV0dXJuIHQmJnQudHRsJiZ0LnNlYyYmK25ldyBEYXRlLXQuc2VjPnQudHRsPyExOih0JiZ0LnN0YXRlJiYodD10LnN0YXRlKSx0JiZlLmlzRnVuY3Rpb24odGhpcy5zZXR0aW5ncy5zdGF0ZS5maWx0ZXIpJiYodD10aGlzLnNldHRpbmdzLnN0YXRlLmZpbHRlci5jYWxsKHRoaXMsdCkpLHQ/KHRoaXMuZWxlbWVudC5vbmUoInNldF9zdGF0ZS5qc3RyZWUiLGZ1bmN0aW9uKGkscyl7cy5pbnN0YW5jZS50cmlnZ2VyKCJyZXN0b3JlX3N0YXRlIix7c3RhdGU6ZS5leHRlbmQoITAse30sdCl9KX0pLHRoaXMuc2V0X3N0YXRlKHQpLCEwKTohMSl9LHRoaXMuY2xlYXJfc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gZS52YWthdGEuc3RvcmFnZS5kZWwodGhpcy5zZXR0aW5ncy5zdGF0ZS5rZXkpfX0sZnVuY3Rpb24oZSl7ZS52YWthdGEuc3RvcmFnZT17c2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShlLHQpfSxnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKX0sZGVsOmZ1bmN0aW9uKGUpe3JldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oZSl9fX0oZSksZS5qc3RyZWUuZGVmYXVsdHMudHlwZXM9eyIjIjp7fSwiZGVmYXVsdCI6e319LGUuanN0cmVlLnBsdWdpbnMudHlwZXM9ZnVuY3Rpb24oaSxzKXt0aGlzLmluaXQ9ZnVuY3Rpb24oZSxpKXt2YXIgcixuO2lmKGkmJmkudHlwZXMmJmkudHlwZXNbImRlZmF1bHQiXSlmb3IociBpbiBpLnR5cGVzKWlmKCJkZWZhdWx0IiE9PXImJiIjIiE9PXImJmkudHlwZXMuaGFzT3duUHJvcGVydHkocikpZm9yKG4gaW4gaS50eXBlc1siZGVmYXVsdCJdKWkudHlwZXNbImRlZmF1bHQiXS5oYXNPd25Qcm9wZXJ0eShuKSYmaS50eXBlc1tyXVtuXT09PXQmJihpLnR5cGVzW3JdW25dPWkudHlwZXNbImRlZmF1bHQiXVtuXSk7cy5pbml0LmNhbGwodGhpcyxlLGkpLHRoaXMuX21vZGVsLmRhdGFbIiMiXS50eXBlPSIjIn0sdGhpcy5yZWZyZXNoPWZ1bmN0aW9uKGUsdCl7cy5yZWZyZXNoLmNhbGwodGhpcyxlLHQpLHRoaXMuX21vZGVsLmRhdGFbIiMiXS50eXBlPSIjIn0sdGhpcy5iaW5kPWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lm9uKCJtb2RlbC5qc3RyZWUiLGUucHJveHkoZnVuY3Rpb24oZSxpKXt2YXIgYSxkLHM9dGhpcy5fbW9kZWwuZGF0YSxyPWkubm9kZXMsbj10aGlzLnNldHRpbmdzLnR5cGVzLG89ImRlZmF1bHQiO2ZvcihhPTAsZD1yLmxlbmd0aDtkPmE7YSsrKW89ImRlZmF1bHQiLHNbclthXV0ub3JpZ2luYWwmJnNbclthXV0ub3JpZ2luYWwudHlwZSYmbltzW3JbYV1dLm9yaWdpbmFsLnR5cGVdJiYobz1zW3JbYV1dLm9yaWdpbmFsLnR5cGUpLHNbclthXV0uZGF0YSYmc1tyW2FdXS5kYXRhLmpzdHJlZSYmc1tyW2FdXS5kYXRhLmpzdHJlZS50eXBlJiZuW3NbclthXV0uZGF0YS5qc3RyZWUudHlwZV0mJihvPXNbclthXV0uZGF0YS5qc3RyZWUudHlwZSksc1tyW2FdXS50eXBlPW8sc1tyW2FdXS5pY29uPT09ITAmJm5bb10uaWNvbiE9PXQmJihzW3JbYV1dLmljb249bltvXS5pY29uKTtzWyIjIl0udHlwZT0iIyJ9LHRoaXMpKSxzLmJpbmQuY2FsbCh0aGlzKX0sdGhpcy5nZXRfanNvbj1mdW5jdGlvbih0LGkscil7dmFyIG4sYSxkPXRoaXMuX21vZGVsLmRhdGEsbz1pP2UuZXh0ZW5kKCEwLHt9LGkse25vX2lkOiExfSk6e30sYz1zLmdldF9qc29uLmNhbGwodGhpcyx0LG8scik7aWYoYz09PSExKXJldHVybiExO2lmKGUuaXNBcnJheShjKSlmb3Iobj0wLGE9Yy5sZW5ndGg7YT5uO24rKyljW25dLnR5cGU9Y1tuXS5pZCYmZFtjW25dLmlkXSYmZFtjW25dLmlkXS50eXBlP2RbY1tuXS5pZF0udHlwZToiZGVmYXVsdCIsaSYmaS5ub19pZCYmKGRlbGV0ZSBjW25dLmlkLGNbbl0ubGlfYXR0ciYmY1tuXS5saV9hdHRyLmlkJiZkZWxldGUgY1tuXS5saV9hdHRyLmlkKTtlbHNlIGMudHlwZT1jLmlkJiZkW2MuaWRdJiZkW2MuaWRdLnR5cGU/ZFtjLmlkXS50eXBlOiJkZWZhdWx0IixpJiZpLm5vX2lkJiYoYz10aGlzLl9kZWxldGVfaWRzKGMpKTtyZXR1cm4gY30sdGhpcy5fZGVsZXRlX2lkcz1mdW5jdGlvbih0KXtpZihlLmlzQXJyYXkodCkpe2Zvcih2YXIgaT0wLHM9dC5sZW5ndGg7cz5pO2krKyl0W2ldPXRoaXMuX2RlbGV0ZV9pZHModFtpXSk7cmV0dXJuIHR9cmV0dXJuIGRlbGV0ZSB0LmlkLHQubGlfYXR0ciYmdC5saV9hdHRyLmlkJiZkZWxldGUgdC5saV9hdHRyLmlkLHQuY2hpbGRyZW4mJmUuaXNBcnJheSh0LmNoaWxkcmVuKSYmKHQuY2hpbGRyZW49dGhpcy5fZGVsZXRlX2lkcyh0LmNoaWxkcmVuKSksdH0sdGhpcy5jaGVjaz1mdW5jdGlvbihpLHIsbixhLGQpe2lmKHMuY2hlY2suY2FsbCh0aGlzLGkscixuLGEsZCk9PT0hMSlyZXR1cm4hMTtyPXImJnIuaWQ/cjp0aGlzLmdldF9ub2RlKHIpLG49biYmbi5pZD9uOnRoaXMuZ2V0X25vZGUobik7dmFyIGMsbCxoLF8sbz1yJiZyLmlkP2UuanN0cmVlLnJlZmVyZW5jZShyLmlkKTpudWxsO3N3aXRjaChvPW8mJm8uX21vZGVsJiZvLl9tb2RlbC5kYXRhP28uX21vZGVsLmRhdGE6bnVsbCxpKXtjYXNlImNyZWF0ZV9ub2RlIjpjYXNlIm1vdmVfbm9kZSI6Y2FzZSJjb3B5X25vZGUiOmlmKCJtb3ZlX25vZGUiIT09aXx8LTE9PT1lLmluQXJyYXkoci5pZCxuLmNoaWxkcmVuKSl7aWYoYz10aGlzLmdldF9ydWxlcyhuKSxjLm1heF9jaGlsZHJlbiE9PXQmJi0xIT09Yy5tYXhfY2hpbGRyZW4mJmMubWF4X2NoaWxkcmVuPT09bi5jaGlsZHJlbi5sZW5ndGgpcmV0dXJuIHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjoiY2hlY2siLHBsdWdpbjoidHlwZXMiLGlkOiJ0eXBlc18wMSIscmVhc29uOiJtYXhfY2hpbGRyZW4gcHJldmVudHMgZnVuY3Rpb246ICIraSxkYXRhOkpTT04uc3RyaW5naWZ5KHtjaGs6aSxwb3M6YSxvYmo6ciYmci5pZD9yLmlkOiExLHBhcjpuJiZuLmlkP24uaWQ6ITF9KX0sITE7aWYoYy52YWxpZF9jaGlsZHJlbiE9PXQmJi0xIT09Yy52YWxpZF9jaGlsZHJlbiYmLTE9PT1lLmluQXJyYXkoci50eXBlLGMudmFsaWRfY2hpbGRyZW4pKXJldHVybiB0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6ImNoZWNrIixwbHVnaW46InR5cGVzIixpZDoidHlwZXNfMDIiLHJlYXNvbjoidmFsaWRfY2hpbGRyZW4gcHJldmVudHMgZnVuY3Rpb246ICIraSxkYXRhOkpTT04uc3RyaW5naWZ5KHtjaGs6aSxwb3M6YSxvYmo6ciYmci5pZD9yLmlkOiExLHBhcjpuJiZuLmlkP24uaWQ6ITF9KX0sITE7aWYobyYmci5jaGlsZHJlbl9kJiZyLnBhcmVudHMpe2ZvcihsPTAsaD0wLF89ci5jaGlsZHJlbl9kLmxlbmd0aDtfPmg7aCsrKWw9TWF0aC5tYXgobCxvW3IuY2hpbGRyZW5fZFtoXV0ucGFyZW50cy5sZW5ndGgpO2w9bC1yLnBhcmVudHMubGVuZ3RoKzF9KDA+PWx8fGw9PT10KSYmKGw9MSk7ZG97aWYoYy5tYXhfZGVwdGghPT10JiYtMSE9PWMubWF4X2RlcHRoJiZsPmMubWF4X2RlcHRoKXJldHVybiB0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6ImNoZWNrIixwbHVnaW46InR5cGVzIixpZDoidHlwZXNfMDMiLHJlYXNvbjoibWF4X2RlcHRoIHByZXZlbnRzIGZ1bmN0aW9uOiAiK2ksZGF0YTpKU09OLnN0cmluZ2lmeSh7Y2hrOmkscG9zOmEsb2JqOnImJnIuaWQ/ci5pZDohMSxwYXI6biYmbi5pZD9uLmlkOiExfSl9LCExO249dGhpcy5nZXRfbm9kZShuLnBhcmVudCksYz10aGlzLmdldF9ydWxlcyhuKSxsKyt9d2hpbGUobil9fXJldHVybiEwfSx0aGlzLmdldF9ydWxlcz1mdW5jdGlvbihlKXtpZihlPXRoaXMuZ2V0X25vZGUoZSksIWUpcmV0dXJuITE7dmFyIGk9dGhpcy5nZXRfdHlwZShlLCEwKTtyZXR1cm4gaS5tYXhfZGVwdGg9PT10JiYoaS5tYXhfZGVwdGg9LTEpLGkubWF4X2NoaWxkcmVuPT09dCYmKGkubWF4X2NoaWxkcmVuPS0xKSxpLnZhbGlkX2NoaWxkcmVuPT09dCYmKGkudmFsaWRfY2hpbGRyZW49LTEpLGl9LHRoaXMuZ2V0X3R5cGU9ZnVuY3Rpb24odCxpKXtyZXR1cm4gdD10aGlzLmdldF9ub2RlKHQpLHQ/aT9lLmV4dGVuZCh7dHlwZTp0LnR5cGV9LHRoaXMuc2V0dGluZ3MudHlwZXNbdC50eXBlXSk6dC50eXBlOiExfSx0aGlzLnNldF90eXBlPWZ1bmN0aW9uKGkscyl7dmFyIHIsbixhLGQsbztpZihlLmlzQXJyYXkoaSkpe2ZvcihpPWkuc2xpY2UoKSxuPTAsYT1pLmxlbmd0aDthPm47bisrKXRoaXMuc2V0X3R5cGUoaVtuXSxzKTtyZXR1cm4hMH1yZXR1cm4gcj10aGlzLnNldHRpbmdzLnR5cGVzLGk9dGhpcy5nZXRfbm9kZShpKSxyW3NdJiZpPyhkPWkudHlwZSxvPXRoaXMuZ2V0X2ljb24oaSksaS50eXBlPXMsKG89PT0hMHx8cltkXSYmcltkXS5pY29uJiZvPT09cltkXS5pY29uKSYmdGhpcy5zZXRfaWNvbihpLHJbc10uaWNvbiE9PXQ/cltzXS5pY29uOiEwKSwhMCk6ITF9fSxlLmpzdHJlZS5kZWZhdWx0cy51bmlxdWU9e2Nhc2Vfc2Vuc2l0aXZlOiExLGR1cGxpY2F0ZTpmdW5jdGlvbihlLHQpe3JldHVybiBlKyIgKCIrdCsiKSJ9fSxlLmpzdHJlZS5wbHVnaW5zLnVuaXF1ZT1mdW5jdGlvbihpLHMpe3RoaXMuY2hlY2s9ZnVuY3Rpb24odCxpLHIsbixhKXtpZihzLmNoZWNrLmNhbGwodGhpcyx0LGkscixuLGEpPT09ITEpcmV0dXJuITE7aWYoaT1pJiZpLmlkP2k6dGhpcy5nZXRfbm9kZShpKSxyPXImJnIuaWQ/cjp0aGlzLmdldF9ub2RlKHIpLCFyfHwhci5jaGlsZHJlbilyZXR1cm4hMDt2YXIgaCxfLGQ9InJlbmFtZV9ub2RlIj09PXQ/bjppLnRleHQsbz1bXSxjPXRoaXMuc2V0dGluZ3MudW5pcXVlLmNhc2Vfc2Vuc2l0aXZlLGw9dGhpcy5fbW9kZWwuZGF0YTtmb3IoaD0wLF89ci5jaGlsZHJlbi5sZW5ndGg7Xz5oO2grKylvLnB1c2goYz9sW3IuY2hpbGRyZW5baF1dLnRleHQ6bFtyLmNoaWxkcmVuW2hdXS50ZXh0LnRvTG93ZXJDYXNlKCkpO3N3aXRjaChjfHwoZD1kLnRvTG93ZXJDYXNlKCkpLHQpe2Nhc2UiZGVsZXRlX25vZGUiOnJldHVybiEwO2Nhc2UicmVuYW1lX25vZGUiOnJldHVybiBoPS0xPT09ZS5pbkFycmF5KGQsbyl8fGkudGV4dCYmaS50ZXh0W2M/InRvU3RyaW5nIjoidG9Mb3dlckNhc2UiXSgpPT09ZCxofHwodGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOiJjaGVjayIscGx1Z2luOiJ1bmlxdWUiLGlkOiJ1bmlxdWVfMDEiLHJlYXNvbjoiQ2hpbGQgd2l0aCBuYW1lICIrZCsiIGFscmVhZHkgZXhpc3RzLiBQcmV2ZW50aW5nOiAiK3QsZGF0YTpKU09OLnN0cmluZ2lmeSh7Y2hrOnQscG9zOm4sb2JqOmkmJmkuaWQ/aS5pZDohMSxwYXI6ciYmci5pZD9yLmlkOiExfSl9KSxoO2Nhc2UiY3JlYXRlX25vZGUiOnJldHVybiBoPS0xPT09ZS5pbkFycmF5KGQsbyksaHx8KHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjoiY2hlY2siLHBsdWdpbjoidW5pcXVlIixpZDoidW5pcXVlXzA0IixyZWFzb246IkNoaWxkIHdpdGggbmFtZSAiK2QrIiBhbHJlYWR5IGV4aXN0cy4gUHJldmVudGluZzogIit0LGRhdGE6SlNPTi5zdHJpbmdpZnkoe2Noazp0LHBvczpuLG9iajppJiZpLmlkP2kuaWQ6ITEscGFyOnImJnIuaWQ/ci5pZDohMX0pfSksaDtjYXNlImNvcHlfbm9kZSI6cmV0dXJuIGg9LTE9PT1lLmluQXJyYXkoZCxvKSxofHwodGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOiJjaGVjayIscGx1Z2luOiJ1bmlxdWUiLGlkOiJ1bmlxdWVfMDIiLHJlYXNvbjoiQ2hpbGQgd2l0aCBuYW1lICIrZCsiIGFscmVhZHkgZXhpc3RzLiBQcmV2ZW50aW5nOiAiK3QsZGF0YTpKU09OLnN0cmluZ2lmeSh7Y2hrOnQscG9zOm4sb2JqOmkmJmkuaWQ/aS5pZDohMSxwYXI6ciYmci5pZD9yLmlkOiExfSl9KSxoO2Nhc2UibW92ZV9ub2RlIjpyZXR1cm4gaD1pLnBhcmVudD09PXIuaWR8fC0xPT09ZS5pbkFycmF5KGQsbyksaHx8KHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjoiY2hlY2siLHBsdWdpbjoidW5pcXVlIixpZDoidW5pcXVlXzAzIixyZWFzb246IkNoaWxkIHdpdGggbmFtZSAiK2QrIiBhbHJlYWR5IGV4aXN0cy4gUHJldmVudGluZzogIit0LGRhdGE6SlNPTi5zdHJpbmdpZnkoe2Noazp0LHBvczpuLG9iajppJiZpLmlkP2kuaWQ6ITEscGFyOnImJnIuaWQ/ci5pZDohMX0pfSksaH1yZXR1cm4hMH0sdGhpcy5jcmVhdGVfbm9kZT1mdW5jdGlvbihpLHIsbixhLGQpe2lmKCFyfHxyLnRleHQ9PT10KXtpZihudWxsPT09aSYmKGk9IiMiKSxpPXRoaXMuZ2V0X25vZGUoaSksIWkpcmV0dXJuIHMuY3JlYXRlX25vZGUuY2FsbCh0aGlzLGkscixuLGEsZCk7aWYobj1uPT09dD8ibGFzdCI6biwhKCIiK24pLm1hdGNoKC9eKGJlZm9yZXxhZnRlcikkLykmJiFkJiYhdGhpcy5pc19sb2FkZWQoaSkpcmV0dXJuIHMuY3JlYXRlX25vZGUuY2FsbCh0aGlzLGkscixuLGEsZCk7cnx8KHI9e30pO3ZhciBvLGMsbCxoLF8sdT10aGlzLl9tb2RlbC5kYXRhLGc9dGhpcy5zZXR0aW5ncy51bmlxdWUuY2FzZV9zZW5zaXRpdmUsZj10aGlzLnNldHRpbmdzLnVuaXF1ZS5kdXBsaWNhdGU7Zm9yKGM9bz10aGlzLmdldF9zdHJpbmcoIk5ldyBub2RlIiksbD1bXSxoPTAsXz1pLmNoaWxkcmVuLmxlbmd0aDtfPmg7aCsrKWwucHVzaChnP3VbaS5jaGlsZHJlbltoXV0udGV4dDp1W2kuY2hpbGRyZW5baF1dLnRleHQudG9Mb3dlckNhc2UoKSk7Zm9yKGg9MTstMSE9PWUuaW5BcnJheShnP2M6Yy50b0xvd2VyQ2FzZSgpLGwpOyljPSIiK2YuY2FsbCh0aGlzLG8sKytoKTtyLnRleHQ9Y31yZXR1cm4gcy5jcmVhdGVfbm9kZS5jYWxsKHRoaXMsaSxyLG4sYSxkKX19O3ZhciBnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpO2cuc2V0QXR0cmlidXRlKCJ1bnNlbGVjdGFibGUiLCJvbiIpLGcuY2xhc3NOYW1lPSJqc3RyZWUtd2hvbGVyb3ciLGcuaW5uZXJIVE1MPSImIzE2MDsiLGUuanN0cmVlLnBsdWdpbnMud2hvbGVyb3c9ZnVuY3Rpb24odCxpKXt0aGlzLmJpbmQ9ZnVuY3Rpb24oKXtpLmJpbmQuY2FsbCh0aGlzKSx0aGlzLmVsZW1lbnQub24oInJlYWR5LmpzdHJlZSBzZXRfc3RhdGUuanN0cmVlIixlLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5oaWRlX2RvdHMoKX0sdGhpcykpLm9uKCJpbml0LmpzdHJlZSBsb2FkaW5nLmpzdHJlZSByZWFkeS5qc3RyZWUiLGUucHJveHkoZnVuY3Rpb24oKXt0aGlzLmdldF9jb250YWluZXJfdWwoKS5hZGRDbGFzcygianN0cmVlLXdob2xlcm93LXVsIil9LHRoaXMpKS5vbigiZGVzZWxlY3RfYWxsLmpzdHJlZSIsZS5wcm94eShmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5maW5kKCIuanN0cmVlLXdob2xlcm93LWNsaWNrZWQiKS5yZW1vdmVDbGFzcygianN0cmVlLXdob2xlcm93LWNsaWNrZWQiKX0sdGhpcykpLm9uKCJjaGFuZ2VkLmpzdHJlZSIsZS5wcm94eShmdW5jdGlvbihlLHQpe3RoaXMuZWxlbWVudC5maW5kKCIuanN0cmVlLXdob2xlcm93LWNsaWNrZWQiKS5yZW1vdmVDbGFzcygianN0cmVlLXdob2xlcm93LWNsaWNrZWQiKTt2YXIgcyxyLGk9ITE7Zm9yKHM9MCxyPXQuc2VsZWN0ZWQubGVuZ3RoO3I+cztzKyspaT10aGlzLmdldF9ub2RlKHQuc2VsZWN0ZWRbc10sITApLGkmJmkubGVuZ3RoJiZpLmNoaWxkcmVuKCIuanN0cmVlLXdob2xlcm93IikuYWRkQ2xhc3MoImpzdHJlZS13aG9sZXJvdy1jbGlja2VkIil9LHRoaXMpKS5vbigib3Blbl9ub2RlLmpzdHJlZSIsZS5wcm94eShmdW5jdGlvbihlLHQpe3RoaXMuZ2V0X25vZGUodC5ub2RlLCEwKS5maW5kKCIuanN0cmVlLWNsaWNrZWQiKS5wYXJlbnQoKS5jaGlsZHJlbigiLmpzdHJlZS13aG9sZXJvdyIpLmFkZENsYXNzKCJqc3RyZWUtd2hvbGVyb3ctY2xpY2tlZCIpfSx0aGlzKSkub24oImhvdmVyX25vZGUuanN0cmVlIGRlaG92ZXJfbm9kZS5qc3RyZWUiLGUucHJveHkoZnVuY3Rpb24oZSx0KXt0aGlzLmdldF9ub2RlKHQubm9kZSwhMCkuY2hpbGRyZW4oIi5qc3RyZWUtd2hvbGVyb3ciKVsiaG92ZXJfbm9kZSI9PT1lLnR5cGU/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXSgianN0cmVlLXdob2xlcm93LWhvdmVyZWQiKX0sdGhpcykpLm9uKCJjb250ZXh0bWVudS5qc3RyZWUiLCIuanN0cmVlLXdob2xlcm93IixlLnByb3h5KGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt2YXIgaT1lLkV2ZW50KCJjb250ZXh0bWVudSIse21ldGFLZXk6dC5tZXRhS2V5LGN0cmxLZXk6dC5jdHJsS2V5LGFsdEtleTp0LmFsdEtleSxzaGlmdEtleTp0LnNoaWZ0S2V5LHBhZ2VYOnQucGFnZVgscGFnZVk6dC5wYWdlWX0pO2UodC5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCIuanN0cmVlLW5vZGUiKS5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3I6ZXEoMCkiKS50cmlnZ2VyKGkpfSx0aGlzKSkub24oImNsaWNrLmpzdHJlZSIsIi5qc3RyZWUtd2hvbGVyb3ciLGZ1bmN0aW9uKHQpe3Quc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7dmFyIGk9ZS5FdmVudCgiY2xpY2siLHttZXRhS2V5OnQubWV0YUtleSxjdHJsS2V5OnQuY3RybEtleSxhbHRLZXk6dC5hbHRLZXksc2hpZnRLZXk6dC5zaGlmdEtleX0pO2UodC5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCIuanN0cmVlLW5vZGUiKS5jaGlsZHJlbigiLmpzdHJlZS1hbmNob3I6ZXEoMCkiKS50cmlnZ2VyKGkpLmZvY3VzKCl9KS5vbigiY2xpY2suanN0cmVlIiwiLmpzdHJlZS1sZWFmID4gLmpzdHJlZS1vY2wiLGUucHJveHkoZnVuY3Rpb24odCl7dC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTt2YXIgaT1lLkV2ZW50KCJjbGljayIse21ldGFLZXk6dC5tZXRhS2V5LGN0cmxLZXk6dC5jdHJsS2V5LGFsdEtleTp0LmFsdEtleSxzaGlmdEtleTp0LnNoaWZ0S2V5fSk7ZSh0LmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoIi5qc3RyZWUtbm9kZSIpLmNoaWxkcmVuKCIuanN0cmVlLWFuY2hvcjplcSgwKSIpLnRyaWdnZXIoaSkuZm9jdXMoKX0sdGhpcykpLm9uKCJtb3VzZW92ZXIuanN0cmVlIiwiLmpzdHJlZS13aG9sZXJvdywgLmpzdHJlZS1pY29uIixlLnByb3h5KGZ1bmN0aW9uKGUpe3JldHVybiBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHRoaXMuaG92ZXJfbm9kZShlLmN1cnJlbnRUYXJnZXQpLCExfSx0aGlzKSkub24oIm1vdXNlbGVhdmUuanN0cmVlIiwiLmpzdHJlZS1ub2RlIixlLnByb3h5KGZ1bmN0aW9uKGUpe3RoaXMuZGVob3Zlcl9ub2RlKGUuY3VycmVudFRhcmdldCl9LHRoaXMpKX0sdGhpcy50ZWFyZG93bj1mdW5jdGlvbigpe3RoaXMuc2V0dGluZ3Mud2hvbGVyb3cmJnRoaXMuZWxlbWVudC5maW5kKCIuanN0cmVlLXdob2xlcm93IikucmVtb3ZlKCksaS50ZWFyZG93bi5jYWxsKHRoaXMpfSx0aGlzLnJlZHJhd19ub2RlPWZ1bmN0aW9uKHQscyxyKXtpZih0PWkucmVkcmF3X25vZGUuY2FsbCh0aGlzLHQscyxyKSl7dmFyIG49Zy5jbG9uZU5vZGUoITApOy0xIT09ZS5pbkFycmF5KHQuaWQsdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkKSYmKG4uY2xhc3NOYW1lKz0iIGpzdHJlZS13aG9sZXJvdy1jbGlja2VkIiksdC5pbnNlcnRCZWZvcmUobix0LmNoaWxkTm9kZXNbMF0pfXJldHVybiB0fX0sZnVuY3Rpb24oZSl7aWYoZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50KXt2YXIgdD1PYmplY3QuY3JlYXRlKEhUTUxFbGVtZW50LnByb3RvdHlwZSk7dC5jcmVhdGVkQ2FsbGJhY2s9ZnVuY3Rpb24oKXt2YXIgaSx0PXtjb3JlOnt9LHBsdWdpbnM6W119O2ZvcihpIGluIGUuanN0cmVlLnBsdWdpbnMpZS5qc3RyZWUucGx1Z2lucy5oYXNPd25Qcm9wZXJ0eShpKSYmdGhpcy5hdHRyaWJ1dGVzW2ldJiYodC5wbHVnaW5zLnB1c2goaSksdGhpcy5nZXRBdHRyaWJ1dGUoaSkmJkpTT04ucGFyc2UodGhpcy5nZXRBdHRyaWJ1dGUoaSkpJiYodFtpXT1KU09OLnBhcnNlKHRoaXMuZ2V0QXR0cmlidXRlKGkpKSkpO2ZvcihpIGluIGUuanN0cmVlLmRlZmF1bHRzLmNvcmUpZS5qc3RyZWUuZGVmYXVsdHMuY29yZS5oYXNPd25Qcm9wZXJ0eShpKSYmdGhpcy5hdHRyaWJ1dGVzW2ldJiYodC5jb3JlW2ldPUpTT04ucGFyc2UodGhpcy5nZXRBdHRyaWJ1dGUoaSkpfHx0aGlzLmdldEF0dHJpYnV0ZShpKSk7alF1ZXJ5KHRoaXMpLmpzdHJlZSh0KX0sZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50KCJ2YWthdGEtanN0cmVlIix7cHJvdG90eXBlOnR9KX19KGpRdWVyeSl9fSksZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fWZ1bmN0aW9uIHQoZSx0KXtmb3IodmFyIHI9ZS5sZW5ndGg7ci0tOylpZihlW3JdLmxpc3RlbmVyPT09dClyZXR1cm4gcjtyZXR1cm4tMX1mdW5jdGlvbiByKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzW2VdLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19dmFyIG49ZS5wcm90b3R5cGUscz10aGlzLGE9cy5FdmVudEVtaXR0ZXI7bi5nZXRMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7dmFyIHQscixuPXRoaXMuX2dldEV2ZW50cygpO2lmKGUgaW5zdGFuY2VvZiBSZWdFeHApe3Q9e307Zm9yKHIgaW4gbiluLmhhc093blByb3BlcnR5KHIpJiZlLnRlc3QocikmJih0W3JdPW5bcl0pfWVsc2UgdD1uW2VdfHwobltlXT1bXSk7cmV0dXJuIHR9LG4uZmxhdHRlbkxpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdCxyPVtdO2Zvcih0PTA7dDxlLmxlbmd0aDt0Kz0xKXIucHVzaChlW3RdLmxpc3RlbmVyKTtyZXR1cm4gcn0sbi5nZXRMaXN0ZW5lcnNBc09iamVjdD1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXMuZ2V0TGlzdGVuZXJzKGUpO3JldHVybiByIGluc3RhbmNlb2YgQXJyYXkmJih0PXt9LHRbZV09ciksdHx8cn0sbi5hZGRMaXN0ZW5lcj1mdW5jdGlvbihlLHIpe3ZhciBuLHM9dGhpcy5nZXRMaXN0ZW5lcnNBc09iamVjdChlKSxhPSJvYmplY3QiPT10eXBlb2Ygcjtmb3IobiBpbiBzKXMuaGFzT3duUHJvcGVydHkobikmJi0xPT09dChzW25dLHIpJiZzW25dLnB1c2goYT9yOntsaXN0ZW5lcjpyLG9uY2U6ITF9KTtyZXR1cm4gdGhpc30sbi5vbj1yKCJhZGRMaXN0ZW5lciIpLG4uYWRkT25jZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYWRkTGlzdGVuZXIoZSx7bGlzdGVuZXI6dCxvbmNlOiEwfSl9LG4ub25jZT1yKCJhZGRPbmNlTGlzdGVuZXIiKSxuLmRlZmluZUV2ZW50PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldExpc3RlbmVycyhlKSx0aGlzfSxuLmRlZmluZUV2ZW50cz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrPTEpdGhpcy5kZWZpbmVFdmVudChlW3RdKTtyZXR1cm4gdGhpc30sbi5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbihlLHIpe3ZhciBuLHMsYT10aGlzLmdldExpc3RlbmVyc0FzT2JqZWN0KGUpO2ZvcihzIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShzKSYmKG49dChhW3NdLHIpLC0xIT09biYmYVtzXS5zcGxpY2UobiwxKSk7cmV0dXJuIHRoaXN9LG4ub2ZmPXIoInJlbW92ZUxpc3RlbmVyIiksbi5hZGRMaXN0ZW5lcnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5tYW5pcHVsYXRlTGlzdGVuZXJzKCExLGUsdCl9LG4ucmVtb3ZlTGlzdGVuZXJzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubWFuaXB1bGF0ZUxpc3RlbmVycyghMCxlLHQpfSxuLm1hbmlwdWxhdGVMaXN0ZW5lcnM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuLHMsYT1lP3RoaXMucmVtb3ZlTGlzdGVuZXI6dGhpcy5hZGRMaXN0ZW5lcixpPWU/dGhpcy5yZW1vdmVMaXN0ZW5lcnM6dGhpcy5hZGRMaXN0ZW5lcnM7aWYoIm9iamVjdCIhPXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgUmVnRXhwKWZvcihuPXIubGVuZ3RoO24tLTspYS5jYWxsKHRoaXMsdCxyW25dKTtlbHNlIGZvcihuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKHM9dFtuXSkmJigiZnVuY3Rpb24iPT10eXBlb2Ygcz9hLmNhbGwodGhpcyxuLHMpOmkuY2FsbCh0aGlzLG4scykpO3JldHVybiB0aGlzfSxuLnJlbW92ZUV2ZW50PWZ1bmN0aW9uKGUpe3ZhciB0LHI9dHlwZW9mIGUsbj10aGlzLl9nZXRFdmVudHMoKTtpZigic3RyaW5nIj09PXIpZGVsZXRlIG5bZV07ZWxzZSBpZihlIGluc3RhbmNlb2YgUmVnRXhwKWZvcih0IGluIG4pbi5oYXNPd25Qcm9wZXJ0eSh0KSYmZS50ZXN0KHQpJiZkZWxldGUgblt0XTtlbHNlIGRlbGV0ZSB0aGlzLl9ldmVudHM7cmV0dXJuIHRoaXN9LG4ucmVtb3ZlQWxsTGlzdGVuZXJzPXIoInJlbW92ZUV2ZW50Iiksbi5lbWl0RXZlbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLHMsYSxpPXRoaXMuZ2V0TGlzdGVuZXJzQXNPYmplY3QoZSk7Zm9yKHMgaW4gaSlpZihpLmhhc093blByb3BlcnR5KHMpKWZvcihuPWlbc10ubGVuZ3RoO24tLTspcj1pW3NdW25dLHIub25jZT09PSEwJiZ0aGlzLnJlbW92ZUxpc3RlbmVyKGUsci5saXN0ZW5lciksYT1yLmxpc3RlbmVyLmFwcGx5KHRoaXMsdHx8W10pLGE9PT10aGlzLl9nZXRPbmNlUmV0dXJuVmFsdWUoKSYmdGhpcy5yZW1vdmVMaXN0ZW5lcihlLHIubGlzdGVuZXIpO3JldHVybiB0aGlzfSxuLnRyaWdnZXI9cigiZW1pdEV2ZW50Iiksbi5lbWl0PWZ1bmN0aW9uKGUpe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gdGhpcy5lbWl0RXZlbnQoZSx0KX0sbi5zZXRPbmNlUmV0dXJuVmFsdWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX29uY2VSZXR1cm5WYWx1ZT1lLHRoaXN9LG4uX2dldE9uY2VSZXR1cm5WYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc093blByb3BlcnR5KCJfb25jZVJldHVyblZhbHVlIik/dGhpcy5fb25jZVJldHVyblZhbHVlOiEwfSxuLl9nZXRFdmVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPXt9KX0sZS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHMuRXZlbnRFbWl0dGVyPWEsZX0sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoImV2ZW50RW1pdHRlci9FdmVudEVtaXR0ZXIiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIGV9KToib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZTp0aGlzLkV2ZW50RW1pdHRlcj1lfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKCl7dmFyIGU9e3NlcmlhbGl6ZTpmdW5jdGlvbihlLHIsbil7bj1ufHx7fTt2YXIgcz1uLmVuY29kZXx8dCxhPVtlKyI9IitzKHIpXTtpZihudWxsIT1uLm1heEFnZSl7dmFyIGk9bi5tYXhBZ2UtMDtpZihpc05hTihpKSl0aHJvdyBuZXcgRXJyb3IoIm1heEFnZSBzaG91bGQgYmUgYSBOdW1iZXIiKTthLnB1c2goIk1heC1BZ2U9IitpKX1yZXR1cm4gbi5kb21haW4mJmEucHVzaCgiRG9tYWluPSIrbi5kb21haW4pLG4ucGF0aCYmYS5wdXNoKCJQYXRoPSIrbi5wYXRoKSxuLmV4cGlyZXMmJmEucHVzaCgiRXhwaXJlcz0iK24uZXhwaXJlcy50b1VUQ1N0cmluZygpKSxuLmh0dHBPbmx5JiZhLnB1c2goIkh0dHBPbmx5Iiksbi5zZWN1cmUmJmEucHVzaCgiU2VjdXJlIiksYS5qb2luKCI7ICIpfSxwYXJzZTpmdW5jdGlvbihlLHQpe3Q9dHx8e307dmFyIG49e30scz1lLnNwbGl0KC87ICovKSxhPXQuZGVjb2RlfHxyO3JldHVybiBzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pbmRleE9mKCI9Iik7aWYoISgwPnQpKXt2YXIgcj1lLnN1YnN0cigwLHQpLnRyaW0oKSxzPWUuc3Vic3RyKCsrdCxlLmxlbmd0aCkudHJpbSgpO2lmKCciJz09c1swXSYmKHM9cy5zbGljZSgxLC0xKSksdm9pZCAwPT1uW3JdKXRyeXtuW3JdPWEocyl9Y2F0Y2goaSl7bltyXT1zfX19KSxufX0sdD1lbmNvZGVVUklDb21wb25lbnQscj1kZWNvZGVVUklDb21wb25lbnQ7InVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWU6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoImNvb2tpZS1qcy9jb29raWUiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIGV9KTp3aW5kb3cuY29va2llanM9ZX0oKSxmdW5jdGlvbihlLHQpeyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKCJhbmFseXRpY3MiLHQpOiJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9dCgpOmUuYW5hbHl0aWNzPXQoKX0odGhpcyxmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dmFyIHI9L14oYXxhbnxhbmR8YXN8YXR8YnV0fGJ5fGVufGZvcnxpZnxpbnxub3J8b2Z8b258b3J8cGVyfHRoZXx0b3x2cz9cLj98dmlhKSQvaTtyZXR1cm4gZT10KGUpLGUucmVwbGFjZSgvW0EtWmEtejAtOVx1MDBDMC1cdTAwRkZdK1teXHMtXSovZyxmdW5jdGlvbihlLHQsbil7cmV0dXJuIHQ+MCYmdCtlLmxlbmd0aCE9PW4ubGVuZ3RoJiZlLnNlYXJjaChyKT4tMSYmIjoiIT09bi5jaGFyQXQodC0yKSYmKCItIiE9PW4uY2hhckF0KHQrZS5sZW5ndGgpfHwiLSI9PT1uLmNoYXJBdCh0LTEpKSYmbi5jaGFyQXQodC0xKS5zZWFyY2goL1teXHMtXS8pPDA/ZS50b0xvd2VyQ2FzZSgpOmUuc3Vic3RyKDEpLnNlYXJjaCgvW0EtWl18XC4uLyk+LTE/ZTplLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Uuc3Vic3RyKDEpfSl9ZnVuY3Rpb24gdChlKXtyZXR1cm4gZS5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIil9ZnVuY3Rpb24gcihlKXtyZXR1cm4vW15AXStAW15AXSsvLnRlc3QoZSl9ZnVuY3Rpb24gbihlKXtjb25zb2xlLndhcm4oIlthbmFseXRpY3NdICIrZSl9ZnVuY3Rpb24gcyhlKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZ2Epe3ZhciB0PXtoaXRUeXBlOiJldmVudCIsZXZlbnRDYXRlZ29yeTpkLGV2ZW50QWN0aW9uOmUuYWN0aW9ufTtlLmxhYmVsJiYodC5ldmVudExhYmVsPWUubGFiZWwpLChlLnZhbHVlfHwwPT09ZS52YWx1ZSkmJih0LmV2ZW50VmFsdWU9ZS52YWx1ZSksZS5ub25JbnRlcmFjdGlvbj09PSEwJiYodC5ub25JbnRlcmFjdGlvbj0xKSxnYSgic2VuZCIsdCl9dmFyIHI9WyJfdHJhY2tFdmVudCIsZCxlLmFjdGlvbl07ZS5sYWJlbCYmKHJbM109ZS5sYWJlbCksKGUudmFsdWV8fDA9PT1lLnZhbHVlKSYmKHJbNF09ZS52YWx1ZSksZS5ub25JbnRlcmFjdGlvbj09PSEwJiYocls1XT0hMCksX2dhcS5wdXNoKHIpfWZ1bmN0aW9uIGEoYSxpKXtpPWl8fHt9O3ZhciBvPXt9LGw9aS5sYWJlbCxjPWkudmFsdWUsdT1pLm5vbmludGVyYWN0aW9ufHxpLm5vbkludGVyYWN0aW9uO3JldHVybiBhPyhyKGEpJiYobigiYGFjdGlvbmAgYXJnIGxvb2tzIGxpa2UgYW4gZW1haWwgYWRkcmVzcywgcmVkYWN0aW5nLiIpLGE9bSksby5hY3Rpb249ZShhKSxsJiYoInN0cmluZyIhPXR5cGVvZiBsP24oIkV4cGVjdGVkIGBsYWJlbGAgYXJnIHRvIGJlIGEgU3RyaW5nLiIpOihyKGwpJiYobigiYGxhYmVsYCBhcmcgbG9va3MgbGlrZSBhbiBlbWFpbCBhZGRyZXNzLCByZWRhY3RpbmcuIiksbD1tKSxvLmxhYmVsPXQobCkpKSwoY3x8MD09PWMpJiYoIm51bWJlciIhPXR5cGVvZiBjP24oIkV4cGVjdGVkIGB2YWx1ZWAgYXJnIHRvIGJlIGEgTnVtYmVyLiIpOm8udmFsdWU9MHxjKSx1JiYoImJvb2xlYW4iIT10eXBlb2YgdT9uKCJFeHBlY3RlZCBgbm9uaW50ZXJhY3Rpb25gIGFyZyB0byBiZSBhIEJvb2xlYW4uIik6by5ub25JbnRlcmFjdGlvbj11PT09ITApLHZvaWQgcyhvKSk6dm9pZCBuKCJFeHBlY3RlZCBgYWN0aW9uYCBhcmcuIil9ZnVuY3Rpb24gaShlKXtyZXR1cm4vXlwvdmlydHVhbFwvLy50ZXN0KGUpP2U6KGU9ZS5yZXBsYWNlKC9eWy9dPy8sIi8iKSwiL3ZpcnR1YWwiK2UpfWZ1bmN0aW9uIG8oZSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGdhKXt2YXIgdD17aGl0VHlwZToicGFnZXZpZXciLHBhZ2U6ZS52aXJ0dWFsUGFnZVBhdGh9O2dhKCJzZW5kIix0KX12YXIgcj1bIl90cmFja1BhZ2V2aWV3IixlLnZpcnR1YWxQYWdlUGF0aF07X2dhcS5wdXNoKHIpfWZ1bmN0aW9uIGwoZSl7aWYoIWUpcmV0dXJuIHZvaWQgbigiRXhwZWN0ZWQgYHZpcnR1YWxQYWdlUGF0aGAgYXJnLiIpO2U9dChlKTt2YXIgcj17fTtyLnZpcnR1YWxQYWdlUGF0aD1pKGUpLG8ocil9ZnVuY3Rpb24gYyhlKXt2YXIgdD1bInRyYWNrRXZlbnQiLGUuYWN0aW9uXTtpZihlLnJldmVudWUpe3ZhciByPXtyZXZlbnVlOmUucmV2ZW51ZX07dFsyXT1yfW9wdGltaXplbHkucHVzaCh0KX1mdW5jdGlvbiB1KGUscil7cj1yfHx7fTt2YXIgcz17fSxhPXIudmFsdWVJbkNlbnRzO3JldHVybiBlPyhzLmFjdGlvbj10KGUpLGEmJigibnVtYmVyIj09dHlwZW9mIGEmJmElMT09PTA/cy5yZXZlbnVlPWE6bigiRXhwZWN0ZWQgYHZhbHVlSW5DZW50c2AgYXJnIHRvIGJlIGFuIGludGVnZXIuIikpLHZvaWQgYyhzKSk6dm9pZCBuKCJFeHBlY3RlZCBgYWN0aW9uYCBhcmcuIil9dGhpcy5fZ2FxfHwodGhpcy5fZ2FxPVtdKSx0aGlzLm9wdGltaXplbHl8fCh0aGlzLm9wdGltaXplbHk9W10pO3ZhciBkPWxvY2F0aW9uLmhvc3RuYW1lLG09IlJFREFDVEVEIChQb3RlbnRpYWwgRW1haWwgQWRkcmVzcykiO3JldHVybntldmVudDphLHZpcnR1YWxQYWdldmlldzpsLGNvbnZlcnNpb25Hb2FsOnV9fSksZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4scyl7cmV0dXJuIGZ1bmN0aW9uKGEpe2UubG9jYWxTdG9yYWdlfHxjb25zb2xlLmVycm9yKCJMb2NhbCBzdG9yYWdlIG11c3QgYmUgc3VwcG9ydGVkIGZvciBpbnN0YW50IGxvZ2luLiIpO3ZhciBpPXRoaXMsbz17ZG9tYWluOmxvY2F0aW9uLmhvc3RuYW1lLnNwbGl0KCIuIikuc2xpY2UoLTIpLmpvaW4oIi4iKSxwYXRoOiIvIixzZWN1cmU6Imh0dHBzOiI9PT1sb2NhdGlvbi5wcm90b2NvbCxleHBpcmVzOm5ldyBEYXRlKERhdGUubm93KCkrNjA0OGU1KX0sbD0vcmVmPSgoPzpcd3wtKSspLy5leGVjKGUubG9jYXRpb24uc2VhcmNoKSxjPW4ucGFyc2UoZG9jdW1lbnQuY29va2llKS53ZWJtYWtlclJlZmVycmFsO2wmJihsPWxbMV0pLGE9YXx8e30sYS5wYXRocz1hLnBhdGhzfHx7fSxpLmVtaXR0ZXI9bmV3IHQsaS5ob3N0PWEuaG9zdHx8IiIsaS5wYXRocz1hLnBhdGhzfHx7fSxpLnBhdGhzLmF1dGhlbnRpY2F0ZT1hLnBhdGhzLmF1dGhlbnRpY2F0ZXx8Ii9hdXRoZW50aWNhdGUiLGkucGF0aHMuY3JlYXRlPWEucGF0aHMuY3JlYXRlfHwiL2NyZWF0ZSIsaS5wYXRocy52ZXJpZnk9YS5wYXRocy52ZXJpZnl8fCIvdmVyaWZ5IixpLnBhdGhzLmxvZ291dD1hLnBhdGhzLmxvZ291dHx8Ii9sb2dvdXQiLGkucGF0aHMuY2hlY2tVc2VybmFtZT1hLnBhdGhzLmNoZWNrVXNlcm5hbWV8fCIvY2hlY2stdXNlcm5hbWUiLGkudXJscz17YXV0aGVudGljYXRlOmkuaG9zdCtpLnBhdGhzLmF1dGhlbnRpY2F0ZSxjcmVhdGU6aS5ob3N0K2kucGF0aHMuY3JlYXRlLHZlcmlmeTppLmhvc3QraS5wYXRocy52ZXJpZnksbG9nb3V0OmkuaG9zdCtpLnBhdGhzLmxvZ291dCxjaGVja1VzZXJuYW1lOmkuaG9zdCtpLnBhdGhzLmNoZWNrVXNlcm5hbWV9LGkuYXVkaWVuY2U9YS5hdWRpZW5jZXx8ZS5sb2NhdGlvbi5wcm90b2NvbCsiLy8iK2UubG9jYXRpb24uaG9zdCxpLnByZWZpeD1hLnByZWZpeHx8IndlYm1ha2VyLSIsaS50aW1lb3V0PWEudGltZW91dHx8MTAsaS5sb2NhbFN0b3JhZ2VLZXk9aS5wcmVmaXgrImxvZ2luIixpLmNzcmZUb2tlbj1hLmNzcmZUb2tlbixpLndpdGhDcmVkZW50aWFscz1hLndpdGhDcmVkZW50aWFscz09PSExPyExOiEwLGwmJmMhPT1sJiYoZG9jdW1lbnQuY29va2llPW4uc2VyaWFsaXplKCJ3ZWJtYWtlclJlZmVycmFsIixsLG8pLGM9bCksaS5jbGVhclJlZmVycmVyQ29va2llPWZ1bmN0aW9uKCl7dmFyIGU9bztlLmV4cGlyZXM9bmV3IERhdGUoRGF0ZS5ub3coKS0xZTQpLGRvY3VtZW50LmNvb2tpZT1uLnNlcmlhbGl6ZSgid2VibWFrZXJSZWZlcnJhbCIsImV4cGlyZSIsZSl9LGkuaGFuZGxlTmV3VXNlclVJPWEuaGFuZGxlTmV3VXNlclVJPT09ITE/ITE6ITAsaS5hbmFseXRpY3M9e30saS5hbmFseXRpY3Mud2VibWFrZXJOZXdVc2VyQ2FuY2VsbGVkPWZ1bmN0aW9uKCl7cy5ldmVudCgiV2VibWFrZXIgTmV3IFVzZXIgQ2FuY2VsbGVkIil9LGkubW9kYWw9e30saS5tb2RhbC5lbGVtZW50PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ3ZWJtYWtlci1sb2dpbi1uZXctdXNlciIpLGkubW9kYWwuZGlzbWlzc1NlbGVjdG9yPSJbZGF0YS1kaXNtaXNzXSIsaS5tb2RhbC5jcmVhdGVTZWxlY3Rvcj0iLmNyZWF0ZS11c2VyIixpLm1vZGFsLmNyZWF0ZUJ0bk9uQ2xpY2s9ZnVuY3Rpb24oKXt9LGkubW9kYWwuY2hlY2tVc2VybmFtZU9uQ2hhbmdlPWZ1bmN0aW9uKCl7dmFyIGU9aS5tb2RhbC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIi51c2VybmFtZS10YWtlbi1lcnJvciIpLHQ9aS5tb2RhbC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIi51c2VybmFtZS1pbnZhbGlkLWVycm9yIikscj1pLm1vZGFsLmVsZW1lbnQucXVlcnlTZWxlY3RvcigiLnVzZXJuYW1lLXJlcXVpcmVkLWVycm9yIiksbj1pLm1vZGFsLmVsZW1lbnQucXVlcnlTZWxlY3RvcigiLnVzZXJuYW1lLWdyb3VwIikscz10aGlzLnZhbHVlO3JldHVybiBzP3ZvaWQgaS5jaGVja1VzZXJuYW1lKHMsZnVuY3Rpb24ocyxhKXtzJiYiVXNlcm5hbWUgdGFrZW4iPT09YT8obi5jbGFzc0xpc3QuYWRkKCJoYXMtZXJyb3IiKSxuLmNsYXNzTGlzdC5yZW1vdmUoImhhcy1zdWNjZXNzIiksZS5jbGFzc0xpc3QucmVtb3ZlKCJoaWRkZW4iKSxyLmNsYXNzTGlzdC5hZGQoImhpZGRlbiIpLHQuY2xhc3NMaXN0LmFkZCgiaGlkZGVuIikpOnMmJiJVc2VybmFtZSBpbnZhbGlkIj09PWE/KG4uY2xhc3NMaXN0LmFkZCgiaGFzLWVycm9yIiksbi5jbGFzc0xpc3QucmVtb3ZlKCJoYXMtc3VjY2VzcyIpLHQuY2xhc3NMaXN0LnJlbW92ZSgiaGlkZGVuIiksZS5jbGFzc0xpc3QuYWRkKCJoaWRkZW4iKSxyLmNsYXNzTGlzdC5hZGQoImhpZGRlbiIpKToobi5jbGFzc0xpc3QucmVtb3ZlKCJoYXMtZXJyb3IiKSxuLmNsYXNzTGlzdC5hZGQoImhhcy1zdWNjZXNzIiksZS5jbGFzc0xpc3QuYWRkKCJoaWRkZW4iKSxyLmNsYXNzTGlzdC5hZGQoImhpZGRlbiIpLHQuY2xhc3NMaXN0LmFkZCgiaGlkZGVuIikpfSk6KG4uY2xhc3NMaXN0LnJlbW92ZSgiaGFzLXN1Y2Nlc3MiKSxuLmNsYXNzTGlzdC5hZGQoImhhcy1lcnJvciIpLGUuY2xhc3NMaXN0LmFkZCgiaGlkZGVuIiksci5jbGFzc0xpc3QucmVtb3ZlKCJoaWRkZW4iKSx2b2lkIHQuY2xhc3NMaXN0LmFkZCgiaGlkZGVuIikpfSxpLm1vZGFsLnNldHVwPWZ1bmN0aW9uKGUpe3ZhciB0PWkubW9kYWwuZWxlbWVudC5xdWVyeVNlbGVjdG9yKGkubW9kYWwuY3JlYXRlU2VsZWN0b3IpLHI9aS5tb2RhbC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoaS5tb2RhbC5kaXNtaXNzU2VsZWN0b3IpLG49aS5tb2RhbC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIi51c2VybmFtZS1ncm91cCIpLHM9aS5tb2RhbC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIi5hZ3JlZS1ncm91cCIpLGE9aS5tb2RhbC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIi51c2VybmFtZS10YWtlbi1lcnJvciIpLG89aS5tb2RhbC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIi51c2VybmFtZS1yZXF1aXJlZC1lcnJvciIpLGw9aS5tb2RhbC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIi51c2VybmFtZS1pbnZhbGlkLWVycm9yIiksYz1pLm1vZGFsLmVsZW1lbnQucXVlcnlTZWxlY3RvcigiLmFncmVlLWVycm9yIiksdT1pLm1vZGFsLmVsZW1lbnQucXVlcnlTZWxlY3RvcignW25hbWU9InVzZXJuYW1lIl0nKSxkPWkubW9kYWwuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT0iYWdyZWVUb1Rlcm1zIl0nKSxtPWkubW9kYWwuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT0ibWFpbGluZ0xpc3QiXScpLGg9aS5tb2RhbC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIltuYW1lPXN1cHBvcnRlZExvY2FsZXNdIik7dC5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsaS5tb2RhbC5jcmVhdGVCdG5PbkNsaWNrLCExKSx1LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsaS5tb2RhbC5jaGVja1VzZXJuYW1lT25DaGFuZ2UsITEpLGkubW9kYWwuY3JlYXRlQnRuT25DbGljaz1mdW5jdGlvbigpe3ZhciB0PSExO2QuY2hlY2tlZHx8KHMuY2xhc3NMaXN0LmFkZCgiaGFzLWVycm9yIiksYy5jbGFzc0xpc3QucmVtb3ZlKCJoaWRkZW4iKSx0PSEwKSx1LnZhbHVlfHwobi5jbGFzc0xpc3QucmVtb3ZlKCJoYXMtc3VjY2VzcyIpLG4uY2xhc3NMaXN0LmFkZCgiaGFzLWVycm9yIiksYS5jbGFzc0xpc3QuYWRkKCJoaWRkZW4iKSxvLmNsYXNzTGlzdC5yZW1vdmUoImhpZGRlbiIpLGwuY2xhc3NMaXN0LmFkZCgiaGlkZGVuIiksdD0hMCksdHx8aS5jaGVja1VzZXJuYW1lKHUudmFsdWUsZnVuY3Rpb24odCxyKXt0JiYiVXNlcm5hbWUgdGFrZW4iPT09cj8obi5jbGFzc0xpc3QuYWRkKCJoYXMtZXJyb3IiKSxuLmNsYXNzTGlzdC5yZW1vdmUoImhhcy1zdWNjZXNzIiksYS5jbGFzc0xpc3QucmVtb3ZlKCJoaWRkZW4iKSxvLmNsYXNzTGlzdC5hZGQoImhpZGRlbiIpLGwuY2xhc3NMaXN0LmFkZCgiaGlkZGVuIikpOnQmJiJVc2VybmFtZSBpbnZhbGlkIj09PXI/KG4uY2xhc3NMaXN0LmFkZCgiaGFzLWVycm9yIiksbi5jbGFzc0xpc3QucmVtb3ZlKCJoYXMtc3VjY2VzcyIpLGwuY2xhc3NMaXN0LnJlbW92ZSgiaGlkZGVuIiksYS5jbGFzc0xpc3QuYWRkKCJoaWRkZW4iKSxvLmNsYXNzTGlzdC5hZGQoImhpZGRlbiIpKTppLmNyZWF0ZVVzZXIoe2Fzc2VydGlvbjplLHVzZXI6e3VzZXJuYW1lOnUudmFsdWUsbWFpbGluZ0xpc3Q6bS5jaGVja2VkLHByZWZMb2NhbGU6aC52YWx1ZX19LGZ1bmN0aW9uKGUpe3JldHVybiBlP3ZvaWQgY29uc29sZS5lcnJvcihlKTooYS5jbGFzc0xpc3QuYWRkKCJoaWRkZW4iKSxvLmNsYXNzTGlzdC5hZGQoImhpZGRlbiIpLGwuY2xhc3NMaXN0LmFkZCgiaGlkZGVuIiksYy5jbGFzc0xpc3QuYWRkKCJoaWRkZW4iKSxuLmNsYXNzTGlzdC5yZW1vdmUoImhhcy1lcnJvciIpLG4uY2xhc3NMaXN0LnJlbW92ZSgiaGFzLXN1Y2Nlc3MiKSxzLmNsYXNzTGlzdC5yZW1vdmUoImhhcy1lcnJvciIpLHZvaWQgaS5tb2RhbC5jbG9zZSgpKX0pfSl9O2Zvcih2YXIgdj0wO3Y8ci5sZW5ndGg7disrKXJbdl0ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xpY2siLGkubW9kYWwuY2xvc2UsITEpLHJbdl0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGkubW9kYWwuY2xvc2UsITEpO3QuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGkubW9kYWwuY3JlYXRlQnRuT25DbGljaywhMSl9LGkubW9kYWwub3Blbj1mdW5jdGlvbigpe2kubW9kYWwuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCJpbiIpLGkubW9kYWwuZWxlbWVudC5zdHlsZS5kaXNwbGF5PSJibG9jayIsaS5tb2RhbC5lbGVtZW50LnNldEF0dHJpYnV0ZSgiYXJpYS1oaWRkZW4iLCExKX0saS5tb2RhbC5jbG9zZT1mdW5jdGlvbihlKXtlJiZpLmFuYWx5dGljcy53ZWJtYWtlck5ld1VzZXJDYW5jZWxsZWQoKSxpLm1vZGFsLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgiaW4iKSxpLm1vZGFsLmVsZW1lbnQuc3R5bGUuZGlzcGxheT0ibm9uZSIsaS5tb2RhbC5lbGVtZW50LnNldEF0dHJpYnV0ZSgiYXJpYS1oaWRkZW4iLCEwKX0saS5vbj1mdW5jdGlvbihlLHQpe2kuZW1pdHRlci5hZGRMaXN0ZW5lcihlLHQpfSxpLm9mZj1mdW5jdGlvbihlLHQpe2kuZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihlLHQpfSxpLmNoZWNrVXNlcm5hbWU9ZnVuY3Rpb24oZSx0KXtpZighci50ZXN0KGUpKXJldHVybiB0KCEwLCJVc2VybmFtZSBpbnZhbGlkIik7dmFyIG49bmV3IFhNTEh0dHBSZXF1ZXN0LHM9SlNPTi5zdHJpbmdpZnkoe3VzZXJuYW1lOmV9KTtuLm9wZW4oIlBPU1QiLGkudXJscy5jaGVja1VzZXJuYW1lLCEwKSxuLndpdGhDcmVkZW50aWFscz1pLndpdGhDcmVkZW50aWFscyxuLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtdHlwZSIsImFwcGxpY2F0aW9uL2pzb24iKSxuLnNldFJlcXVlc3RIZWFkZXIoIlgtQ1NSRi1Ub2tlbiIsaS5jc3JmVG9rZW4pLG4ub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09PW4ucmVhZHlTdGF0ZSYmMjAwPT09bi5zdGF0dXMpe3ZhciBlPUpTT04ucGFyc2Uobi5yZXNwb25zZVRleHQpO2UuZXhpc3RzP3QoITAsIlVzZXJuYW1lIHRha2VuIik6dCghMSwiVXNlcm5hbWUgbm90IHRha2VuIil9ZWxzZSA0PT09bi5yZWFkeVN0YXRlJiZuLnN0YXR1cyYmKG4uc3RhdHVzPj00MDB8fG4uc3RhdHVzPDIwMCk/KGkuZW1pdHRlci5lbWl0RXZlbnQoImVycm9yIixbbi5yZXNwb25zZVRleHRdKSx0KCExLCJFcnJvciBjaGVja2luZyB1c2VybmFtZSIpKTo0PT09bi5yZWFkeVN0YXRlJiYoaS5lbWl0dGVyLmVtaXRFdmVudCgiZXJyb3IiLFsiTG9va3MgbGlrZSAiK2kudXJscy5jaGVja1VzZXJuYW1lKyIgaXMgbm90IHJlc3BvbmRpbmcuLi4iXSksdCghMSwiRXJyb3IgY2hlY2tpbmcgdXNlcm5hbWUiKSl9LG4uc2VuZChzKX0saS5jcmVhdGVVc2VyPWZ1bmN0aW9uKGUsdCl7ZS51c2VyLnJlZmVycmVyPWM7dmFyIHI9bmV3IFhNTEh0dHBSZXF1ZXN0LG49SlNPTi5zdHJpbmdpZnkoe2Fzc2VydGlvbjplLmFzc2VydGlvbixhdWRpZW5jZTppLmF1ZGllbmNlLHVzZXI6ZS51c2VyfSk7dD10fHxmdW5jdGlvbigpe30sci5vcGVuKCJQT1NUIixpLnVybHMuY3JlYXRlLCEwKSxyLndpdGhDcmVkZW50aWFscz1pLndpdGhDcmVkZW50aWFscyxyLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtdHlwZSIsImFwcGxpY2F0aW9uL2pzb24iKSxyLnNldFJlcXVlc3RIZWFkZXIoIlgtQ1NSRi1Ub2tlbiIsaS5jc3JmVG9rZW4pLHIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09PXIucmVhZHlTdGF0ZSYmMjAwPT09ci5zdGF0dXMpe3ZhciBlPUpTT04ucGFyc2Uoci5yZXNwb25zZVRleHQpO2UudXNlcj8oaS5zdG9yYWdlLnNldChlLnVzZXIpLGkuZW1pdHRlci5lbWl0RXZlbnQoImxvZ2luIixbZS51c2VyLCJ1c2VyIGNyZWF0ZWQiXSkscy5ldmVudCgiV2VibWFrZXIgTmV3IFVzZXIgQ3JlYXRlZCIse25vbkludGVyYWN0aW9uOiEwfSkscy5jb252ZXJzaW9uR29hbCgiV2VibWFrZXJOZXdVc2VyQ3JlYXRlZCIpLGkuY2xlYXJSZWZlcnJlckNvb2tpZSgpLHQobnVsbCxlLnVzZXIpKTooaS5lbWl0dGVyLmVtaXRFdmVudCgiZXJyb3IiLFtyLnJlc3BvbnNlVGV4dF0pLHQoci5yZXNwb25zZVRleHQpKX1lbHNlIDQ9PT1yLnJlYWR5U3RhdGUmJnIuc3RhdHVzJiYoci5zdGF0dXM+PTQwMHx8ci5zdGF0dXM8MjAwKT8oaS5lbWl0dGVyLmVtaXRFdmVudCgiZXJyb3IiLFtyLnJlc3BvbnNlVGV4dF0pLHQoci5yZXNwb25zZVRleHQpKTo0PT09ci5yZWFkeVN0YXRlJiYoaS5lbWl0dGVyLmVtaXRFdmVudCgiZXJyb3IiLFsiTG9va3MgbGlrZSAiK2kudXJscy5jcmVhdGUrIiBpcyBub3QgcmVzcG9uZGluZy4uLiJdKSx0KHIucmVzcG9uc2VUZXh0KSl9LHIuc2VuZChuKX0saS52ZXJpZnk9ZnVuY3Rpb24oKXtpLnN0b3JhZ2UuZ2V0KCkmJmkuZW1pdHRlci5lbWl0RXZlbnQoImxvZ2luIixbaS5zdG9yYWdlLmdldCgpLCJyZXN0b3JlZCJdKTt2YXIgZT1pLnN0b3JhZ2UuZ2V0KCJlbWFpbCIpLHQ9bmV3IFhNTEh0dHBSZXF1ZXN0O3Qub3BlbigiUE9TVCIsaS51cmxzLnZlcmlmeSwhMCksdC53aXRoQ3JlZGVudGlhbHM9aS53aXRoQ3JlZGVudGlhbHMsdC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LXR5cGUiLCJhcHBsaWNhdGlvbi9qc29uIiksdC5zZXRSZXF1ZXN0SGVhZGVyKCJYLUNTUkYtVG9rZW4iLGkuY3NyZlRva2VuKSx0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKDQ9PT10LnJlYWR5U3RhdGUmJjIwMD09PXQuc3RhdHVzKXt2YXIgcj1KU09OLnBhcnNlKHQucmVzcG9uc2VUZXh0KTtlJiZyLmVtYWlsPT09ZT8oaS5lbWl0dGVyLmVtaXRFdmVudCgibG9naW4iLFtyLnVzZXIsInZlcmlmaWVkIl0pLGkuc3RvcmFnZS5zZXQoci51c2VyKSk6ci51c2VyPyhpLmVtaXR0ZXIuZW1pdEV2ZW50KCJsb2dpbiIsW3IudXNlciwiZW1haWwgbWlzbWF0Y2giXSksaS5zdG9yYWdlLnNldChyLnVzZXIpKTooaS5lbWl0dGVyLmVtaXRFdmVudCgibG9nb3V0IiksaS5zdG9yYWdlLmNsZWFyKCkpfWVsc2UgND09PXQucmVhZHlTdGF0ZSYmdC5zdGF0dXMmJih0LnN0YXR1cz49NDAwfHx0LnN0YXR1czwyMDApP2kuZW1pdHRlci5lbWl0RXZlbnQoImVycm9yIixbdC5yZXNwb25zZVRleHRdKTo0PT09dC5yZWFkeVN0YXRlJiZpLmVtaXR0ZXIuZW1pdEV2ZW50KCJlcnJvciIsWyJMb29rcyBsaWtlICIraS51cmxzLnZlcmlmeSsiIGlzIG5vdCByZXNwb25kaW5nLi4uIl0pfSx0LnNlbmQoKX0saS5sb2dpbj1mdW5jdGlvbigpe3JldHVybiBlLm5hdmlnYXRvci5pZD8ocy5ldmVudCgiV2VibWFrZXIgTG9naW4gQ2xpY2tlZCIpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZm9jdXMiLGkudmVyaWZ5LCExKSx2b2lkIGUubmF2aWdhdG9yLmlkLmdldChmdW5jdGlvbih0KXtpZighdClyZXR1cm4gaS5lbWl0dGVyLmVtaXRFdmVudCgiZXJyb3IiLFsiTm8gYXNzZXJ0aW9uIHdhcyByZWNlaXZlZCJdKSx2b2lkIHMuZXZlbnQoIlBlcnNvbmEgTG9naW4gQ2FuY2VsbGVkIik7cy5ldmVudCgiUGVyc29uYSBMb2dpbiBTdWNjZWVkZWQiKTt2YXIgcj17cmVmZXJyZXI6Y30sbj1uZXcgWE1MSHR0cFJlcXVlc3QsYT1KU09OLnN0cmluZ2lmeSh7YXVkaWVuY2U6aS5hdWRpZW5jZSxhc3NlcnRpb246dCx1c2VyOnJ9KTtpZihpLnRpbWVvdXQpdmFyIG89c2V0VGltZW91dChmdW5jdGlvbigpe24uYWJvcnQoKSxpLmVtaXR0ZXIuZW1pdEV2ZW50KCJlcnJvciIsWyJUaGUgcmVxdWVzdCBmb3IgYSB0b2tlbiB0aW1lZCBvdXQgYWZ0ZXIgIitpLnRpbWVvdXQrIiBzZWNvbmRzIl0pfSwxZTMqaS50aW1lb3V0KTtuLm9wZW4oIlBPU1QiLGkudXJscy5hdXRoZW50aWNhdGUsITApLG4ud2l0aENyZWRlbnRpYWxzPWkud2l0aENyZWRlbnRpYWxzLG4uc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC10eXBlIiwiYXBwbGljYXRpb24vanNvbiIpLG4uc2V0UmVxdWVzdEhlYWRlcigiWC1DU1JGLVRva2VuIixpLmNzcmZUb2tlbiksbi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZihpLnRpbWVvdXQmJm8mJmNsZWFyVGltZW91dChvKSw0PT09bi5yZWFkeVN0YXRlJiYyMDA9PT1uLnN0YXR1cyl7dmFyIHI9SlNPTi5wYXJzZShuLnJlc3BvbnNlVGV4dCk7ci5lcnJvciYmaS5lbWl0dGVyLmVtaXRFdmVudCgiZXJyb3IiLFtyLmVycm9yXSksci51c2VyJiYoaS5zdG9yYWdlLnNldChyLnVzZXIpLGkuZW1pdHRlci5lbWl0RXZlbnQoImxvZ2luIixbci51c2VyXSkscy5ldmVudCgiV2VibWFrZXIgTG9naW4gU3VjY2VlZGVkIiksaS5jbGVhclJlZmVycmVyQ29va2llKCksZS5hZGRFdmVudExpc3RlbmVyKCJmb2N1cyIsaS52ZXJpZnksITEpKSxyLmVtYWlsJiYhci51c2VyJiYoaS5lbWl0dGVyLmVtaXRFdmVudCgibmV3dXNlciIsW3Qsci5lbWFpbF0pLHMuZXZlbnQoIldlYm1ha2VyIE5ldyBVc2VyIFN0YXJ0ZWQiKSxpLmhhbmRsZU5ld1VzZXJVSSYmKGkubW9kYWwuc2V0dXAodCxyLmVtYWlsKSxpLm1vZGFsLm9wZW4oKSkpLHIuZXJyJiZpLmVtaXR0ZXIuZW1pdEV2ZW50KCJlcnJvciIsW3IuZXJyXSl9ZWxzZSA0PT09bi5yZWFkeVN0YXRlJiZuLnN0YXR1cyYmKG4uc3RhdHVzPj00MDB8fG4uc3RhdHVzPDIwMCk/aS5lbWl0dGVyLmVtaXRFdmVudCgiZXJyb3IiLFtuLnJlc3BvbnNlVGV4dF0pOjQ9PT1uLnJlYWR5U3RhdGUmJmkuZW1pdHRlci5lbWl0RXZlbnQoImVycm9yIixbIkxvb2tzIGxpa2UgIitpLnVybHMuYXV0aGVudGljYXRlKyIgaXMgbm90IHJlc3BvbmRpbmcuLi4iXSl9LG4uc2VuZChhKX0se2JhY2tncm91bmRDb2xvcjoiI0UzRUFFRSIscHJpdmFjeVBvbGljeToiaHR0cHM6Ly93ZWJtYWtlci5vcmcvcHJpdmFjeSIsc2l0ZUxvZ286Imh0dHBzOi8vc3R1ZmYud2VibWFrZXIub3JnL3BlcnNvbmEtYXNzZXRzL2xvZ28td2VibWFrZXIucG5nIixzaXRlTmFtZToiTW96aWxsYSBXZWJtYWtlciIsdGVybXNPZlNlcnZpY2U6Imh0dHBzOi8vd2VibWFrZXIub3JnL3Rlcm1zIn0pKTp2b2lkIGNvbnNvbGUuZXJyb3IoIk5vIHBlcnNvbmEgZm91bmQuIERpZCB5b3UgaW5jbHVkZSBpbmNsdWRlLmpzPyIpfSxpLmxvZ291dD1mdW5jdGlvbigpe3MuZXZlbnQoIldlYm1ha2VyIExvZ291dCBDbGlja2VkIiksZS5yZW1vdmVFdmVudExpc3RlbmVyKCJmb2N1cyIsaS52ZXJpZnksITEpO3ZhciB0PW5ldyBYTUxIdHRwUmVxdWVzdDt0Lm9wZW4oIlBPU1QiLGkudXJscy5sb2dvdXQsITApLHQud2l0aENyZWRlbnRpYWxzPWkud2l0aENyZWRlbnRpYWxzLHQuc2V0UmVxdWVzdEhlYWRlcigiWC1DU1JGLVRva2VuIixpLmNzcmZUb2tlbiksdC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09dC5yZWFkeVN0YXRlJiYyMDA9PT10LnN0YXR1cz8oaS5lbWl0dGVyLmVtaXRFdmVudCgibG9nb3V0IiksaS5zdG9yYWdlLmNsZWFyKCksZS5hZGRFdmVudExpc3RlbmVyKCJmb2N1cyIsaS52ZXJpZnksITEpKTo0PT09dC5yZWFkeVN0YXRlJiZ0LnN0YXR1cyYmKHQuc3RhdHVzPj00MDB8fHQuc3RhdHVzPDIwMCk/aS5lbWl0dGVyLmVtaXRFdmVudCgiZXJyb3IiLFt0LnJlc3BvbnNlVGV4dF0pOjQ9PT10LnJlYWR5U3RhdGUmJmkuZW1pdHRlci5lbWl0RXZlbnQoImVycm9yIixbIkxvb2tzIGxpa2UgIitpLnVybHMubG9nb3V0KyIgaXMgbm90IHJlc3BvbmRpbmcuLi4iXSl9LHQuc2VuZChudWxsKX0saS5zdG9yYWdlPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShpLmxvY2FsU3RvcmFnZUtleSkpO3JldHVybiB0P2U/dFtlXTp0OnZvaWQgMH0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PUpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oaS5sb2NhbFN0b3JhZ2VLZXkpKXx8e307Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7bG9jYWxTdG9yYWdlLnNldEl0ZW0oaS5sb2NhbFN0b3JhZ2VLZXksSlNPTi5zdHJpbmdpZnkodCkpfSxjbGVhcjpmdW5jdGlvbigpe2RlbGV0ZSBsb2NhbFN0b3JhZ2VbaS5sb2NhbFN0b3JhZ2VLZXldfX19fXZhciByPS9eW2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVowMTIzNDU2Nzg5XC1dezEsMjB9JC87aWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoIndlYm1ha2VyLWF1dGgtY2xpZW50IixbImV2ZW50RW1pdHRlci9FdmVudEVtaXR0ZXIiLCJjb29raWUtanMvY29va2llIiwiYW5hbHl0aWNzIl0sdCk7ZWxzZSBpZigib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMpe3ZhciBuPXJlcXVpcmUoIi4vYm93ZXJfY29tcG9uZW50cy9ldmVudEVtaXR0ZXIvRXZlbnRFbWl0dGVyLm1pbi5qcyIpLHM9cmVxdWlyZSgiLi9ib3dlcl9jb21wb25lbnRzL2Nvb2tpZS1qcy9jb29raWUuanMiKSxhPXJlcXVpcmUoIi4vYm93ZXJfY29tcG9uZW50cy93ZWJtYWtlci1hbmFseXRpY3MvYW5hbHl0aWNzLmpzIik7bW9kdWxlLmV4cG9ydHM9dChuLHMsYSl9ZWxzZSBlLldlYm1ha2VyQXV0aENsaWVudD10KGUuRXZlbnRFbWl0dGVyLGUuY29va2llanMsZS5hbmFseXRpY3MpfSh3aW5kb3cpLGZ1bmN0aW9uKHJvb3QsZmFjdG9yeSl7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZnVuY3Rpb24oKXtyZXR1cm4gcm9vdC5maWxlckRpYWxvZ3M9ZmFjdG9yeSgpfSk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWZhY3RvcnkoKTpyb290LmZpbGVyRGlhbG9ncz1mYWN0b3J5KCl9KHRoaXMsZnVuY3Rpb24oKXtmdW5jdGlvbiBjcmVhdGVEaWFsb2coZGF0YSl7dmFyIGRpYWxvZ1dyYXBwZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ZGlhbG9nV3JhcHBlci5jbGFzc0xpc3QuYWRkKCJmaWxlLWRpYWxvZy13cmFwcGVyIik7dmFyIGRpYWxvZ0JhY2tkcm9wPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2RpYWxvZ0JhY2tkcm9wLmNsYXNzTGlzdC5hZGQoImZpbGUtZGlhbG9nLWJhY2tkcm9wIik7dmFyIGRpYWxvZ0lubmVyV3JhcHBlcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtkaWFsb2dJbm5lcldyYXBwZXIuY2xhc3NMaXN0LmFkZCgiZmlsZS1kaWFsb2ctaW5uZXItd3JhcHBlciIpO3ZhciBkaWFsb2c9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGRpYWxvZy5jbGFzc0xpc3QuYWRkKCJtYWtlZHJpdmUtZmlsZS1kaWFsb2ciKSxkaWFsb2dXcmFwcGVyLmFwcGVuZENoaWxkKGRpYWxvZ0lubmVyV3JhcHBlciksZGlhbG9nSW5uZXJXcmFwcGVyLmFwcGVuZENoaWxkKGRpYWxvZ0JhY2tkcm9wKSxkaWFsb2dJbm5lcldyYXBwZXIuYXBwZW5kQ2hpbGQoZGlhbG9nKSxkaWFsb2dTdHJpbmc9JyAgPGRpdiBjbGFzcz0iZmlsZS1kaWFsb2ctaGVhZGVyIj4gICAgPGgxIGNsYXNzPSJmaWxlLWRpYWxvZy10aXRsZSI+PC9oMT4nLGRhdGEuc2F2ZUFzJiYoZGlhbG9nU3RyaW5nKz0nICAgIDxkaXYgY2xhc3M9ImZpbGUtbmFtZS1jb250YWluZXIiPiAgICAgIDxzcGFuIGNsYXNzPSJpbnB1dC1sYWJlbCI+TmFtZSA8L3NwYW4+ICAgICAgPHNwYW4gY2xhc3M9ImZhLWZsb3BweS1vIGZhLWljb24gZmxvcHB5LWljb24iPjwvc3Bhbj4gICAgICA8aW5wdXQgY2xhc3M9ImZpbGUtbmFtZS1pbnB1dCIgdmFsdWU9IiI+ICAgIDwvZGl2PicpLGRpYWxvZ1N0cmluZys9JyAgICA8ZGl2IGNsYXNzPSJmaWxlLXBhdGgiPiAgICAgIDxzcGFuIGNsYXNzPSJpbnB1dC1sYWJlbCI+Rm9sZGVyIDwvc3Bhbj4gICAgICA8c3BhbiBjbGFzcz0iZmEtYXJyb3ctbGVmdCBmYS1pY29uIGJhY2stYnV0dG9uIj48L3NwYW4+ICAgICAgPGlucHV0IGNsYXNzPSJmb2xkZXItbmFtZSIgdmFsdWU9IiI+ICAgICAgPHNwYW4gY2xhc3M9ImZhLWNoZXZyb24tZG93biBmYS1pY29uIGRyb3AtZG93biI+PC9zcGFuPiAgICA8L2Rpdj4gIDwvZGl2PiAgPGRpdiBjbGFzcz0iZmlsZS1kaWFsb2ctYm9keSI+ICAgIDxkaXYgY2xhc3M9ImZpbGUtc2VsZWN0b3ItYm94Ij48L2Rpdj4gICAgPGRpdiBjbGFzcz0ib3Blbi1maWxlcy1jb250YWluZXIiPjwvZGl2PiAgPC9kaXY+ICA8ZGl2IGNsYXNzPSJmaWxlLWRpYWxvZy1mb290ZXIiPiAgICA8YnV0dG9uIGNsYXNzPSJjYW5jZWwtYnV0dG9uIiBkYXRhLWJ1dHRvbi1pZD0iY2FuY2VsIj48L2J1dHRvbj4gICAgPGJ1dHRvbiBjbGFzcz0ib3Blbi1idXR0b24iIGRhdGEtYnV0dG9uLWlkPSJkb25lIj48L2J1dHRvbj4gIDwvZGl2PicsZGlhbG9nLmlubmVySFRNTD1kaWFsb2dTdHJpbmcsZGlhbG9nLnF1ZXJ5U2VsZWN0b3IoIi5vcGVuLWJ1dHRvbiIpLnRleHRDb250ZW50PWRhdGEuZG9uZSxkaWFsb2cucXVlcnlTZWxlY3RvcigiLmNhbmNlbC1idXR0b24iKS50ZXh0Q29udGVudD1kYXRhLmNhbmNlbCxkaWFsb2cucXVlcnlTZWxlY3RvcigiLmZpbGUtZGlhbG9nLXRpdGxlIikudGV4dENvbnRlbnQ9ZGF0YS50aXRsZSxkaWFsb2dXcmFwcGVyfWZ1bmN0aW9uIGNyZWF0ZUljb24obmFtZSx0eXBlKXt2YXIgZmlsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIiksaWNvbkNvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxpY29uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKSxmaWxlTmFtZUNvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxmaWxlTmFtZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKcmV0dXJuIGZpbGUuY2xhc3NMaXN0LmFkZCgiZmlsZSIpLGljb24uY2xhc3NMaXN0LmFkZCh0eXBlKSxpY29uLmNsYXNzTGlzdC5hZGQoImZpbGUtaWNvbiIpLGZpbGVOYW1lQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoImZpbGUtbmFtZSIpLGZpbGVOYW1lLnRleHRDb250ZW50PW5hbWUsaWNvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChpY29uKSxmaWxlTmFtZUNvbnRhaW5lci5hcHBlbmRDaGlsZChmaWxlTmFtZSksZmlsZS5hcHBlbmRDaGlsZChpY29uQ29udGFpbmVyKSxmaWxlLmFwcGVuZENoaWxkKGZpbGVOYW1lQ29udGFpbmVyKSxmaWxlfWZ1bmN0aW9uIEZpbGVEaWFsb2coKXtmdW5jdGlvbiBlbmFibGVCdXR0b24oYnV0dG9uLGVuYWJsZSl7ZW5hYmxlPyhidXR0b24uY2xhc3NMaXN0LnJlbW92ZSgiZGlzYWJsZWQiKSxidXR0b24uZGlzYWJsZWQ9ITEpOihidXR0b24uY2xhc3NMaXN0LmFkZCgiZGlzYWJsZWQiKSxidXR0b24uZGlzYWJsZWQ9ITApfWZ1bmN0aW9uIGRpc3BsYXlGaWxlc0ZvckRpcihkaXIpe3NoLmNkKGRpcixmdW5jdGlvbihlcnIpe3JldHVybiBlcnI/dm9pZCBjb25zb2xlLmVycm9yKGVycik6dm9pZCBkaXNwbGF5RmlsZXMoKX0pfWZ1bmN0aW9uIGRpc3BsYXlGaWxlcygpe3NoLmxzKCIuIixmdW5jdGlvbihlcnIsZmlsZXMpe2lmKGVycilyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKGVycik7dmFyIGNvbnRhaW5lcj1kaWFsb2cucXVlcnlTZWxlY3RvcigiLm9wZW4tZmlsZXMtY29udGFpbmVyIik7Y29udGFpbmVyLmlubmVySFRNTD0iIjt2YXIgcGF0aElucHV0PWRpYWxvZy5xdWVyeVNlbGVjdG9yKCIuZm9sZGVyLW5hbWUiKTtwYXRoSW5wdXQudmFsdWU9c2gucHdkKCksd29ya2luZ0ZpbGVzPVtdLGZpbGVzLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7ZnVuY3Rpb24gb25TZWxlY3QoZXZlbnQpe3ZhciBzZWxlY3RlZD1jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgiLnNlbGVjdGVkIiksbmFtZUlucHV0PWRpYWxvZy5xdWVyeVNlbGVjdG9yKCIuZmlsZS1uYW1lLWlucHV0Iik7aWYobmFtZUlucHV0JiYiRElSRUNUT1JZIiE9PWl0ZW0udHlwZSYmKG5hbWVJbnB1dC52YWx1ZT1pdGVtLnBhdGgudHJpbSgpKSwhZXZlbnQuc2hpZnRLZXl8fCFvcGVuTXVsdGlwbGVzfHwiRElSRUNUT1JZIj09PWl0ZW0udHlwZSYmIW9wZW5EaXJlY3Rvcmllc3x8d29ya2luZ0ZpbGVzWzBdJiYiRElSRUNUT1JZIj09PXdvcmtpbmdGaWxlc1swXS50eXBlJiYhb3BlbkRpcmVjdG9yaWVzKXtpZihzZWxlY3RlZC5sZW5ndGgpZm9yKHZhciBpPTA7aTxzZWxlY3RlZC5sZW5ndGg7aSsrKXNlbGVjdGVkW2ldLmNsYXNzTGlzdC5yZW1vdmUoInNlbGVjdGVkIik7ZmlsZS5jbGFzc0xpc3QuYWRkKCJzZWxlY3RlZCIpLHdvcmtpbmdGaWxlcz1baXRlbV19ZWxzZSBmaWxlLmNsYXNzTGlzdC5hZGQoInNlbGVjdGVkIiksd29ya2luZ0ZpbGVzLnVuc2hpZnQoaXRlbSk7ZmlsZVNlbGVjdGVkKGl0ZW0pfXZhciB0eXBlO3R5cGU9IkRJUkVDVE9SWSI9PT1pdGVtLnR5cGU/ImZhLWZvbGRlciI6ImZhLWZpbGUtY29kZS1vIjt2YXIgZmlsZT1jcmVhdGVJY29uKGl0ZW0ucGF0aCx0eXBlKTtmaWxlLnF1ZXJ5U2VsZWN0b3IoIi5maWxlLWljb24iKS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLG9uU2VsZWN0KSxmaWxlLnF1ZXJ5U2VsZWN0b3IoIi5maWxlLW5hbWUiKS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLG9uU2VsZWN0KSxmaWxlLnF1ZXJ5U2VsZWN0b3IoIi5maWxlLWljb24iKS5hZGRFdmVudExpc3RlbmVyKCJkYmxjbGljayIsb25TZWxlY3Rpb24pLGNvbnRhaW5lci5hcHBlbmRDaGlsZChmaWxlKX0pfSl9ZnVuY3Rpb24gY2xvc2VNb2RhbCgpe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXlkb3duIixvbktleURvd24sITApLGRpYWxvZ1dyYXBwZXImJmRpYWxvZ1dyYXBwZXIucGFyZW50Tm9kZSYmZGlhbG9nV3JhcHBlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRpYWxvZ1dyYXBwZXIpfWZ1bmN0aW9uIG9uS2V5RG93bihldmVudCl7Mjc9PT1ldmVudC5rZXlDb2RlP2Nsb3NlTW9kYWwoKToxMz09PWV2ZW50LmtleUNvZGUmJm9uQWN0aW9uKCl9ZnVuY3Rpb24gc2V0dXBEaWFsb2coaW5pdGlhbFBhdGgsZGF0YSl7d2luZG93LmFwcHNoZWxsP01ha2VEcml2ZT1hcHBzaGVsbC5NYWtlRHJpdmU6d2luZG93Lk1ha2VEcml2ZSYmKE1ha2VEcml2ZT13aW5kb3cuTWFrZURyaXZlKSxmcz1NYWtlRHJpdmUuZnMoKSxzaD1mcy5TaGVsbCgpLFBhdGg9TWFrZURyaXZlLlBhdGgsaW5pdGlhbFBhdGg9aW5pdGlhbFBhdGh8fCIvIixkaWFsb2dXcmFwcGVyPWNyZWF0ZURpYWxvZyhkYXRhKSxkaWFsb2c9ZGlhbG9nV3JhcHBlci5xdWVyeVNlbGVjdG9yKCIubWFrZWRyaXZlLWZpbGUtZGlhbG9nIiksZG9uZUJ1dHRvbj1kaWFsb2cucXVlcnlTZWxlY3RvcigiLm9wZW4tYnV0dG9uW2RhdGEtYnV0dG9uLWlkPSdkb25lJ10iKSwkKCJib2R5IikuYXBwZW5kKGRpYWxvZ1dyYXBwZXIpLGRpYWxvZy5xdWVyeVNlbGVjdG9yKCIuY2FuY2VsLWJ1dHRvbltkYXRhLWJ1dHRvbi1pZD0nY2FuY2VsJ10iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsY2xvc2VNb2RhbCksZGlhbG9nLnF1ZXJ5U2VsZWN0b3IoIi5iYWNrLWJ1dHRvbiIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixmdW5jdGlvbigpe2Rpc3BsYXlGaWxlc0ZvckRpcigiLi4vIil9KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsb25LZXlEb3duLCEwKSxkaXNwbGF5RmlsZXNGb3JEaXIoaW5pdGlhbFBhdGgpfXZhciBkaWFsb2csZGlhbG9nV3JhcHBlcixkb25lQnV0dG9uLHNoLGZzLE1ha2VEcml2ZSxQYXRoLHdvcmtpbmdGaWxlcz1bXSxvcGVuTXVsdGlwbGVzPSExLG9wZW5EaXJlY3Rvcmllcz0hMSxvblNlbGVjdGlvbj1mdW5jdGlvbigpe30sb25BY3Rpb249ZnVuY3Rpb24oKXt9LGZpbGVTZWxlY3RlZD1mdW5jdGlvbigpe307cmV0dXJue3Nob3dTYXZlQXNEaWFsb2c6ZnVuY3Rpb24odGl0bGUsaW5pdGlhbFBhdGgsZGVmYXVsdE5hbWUsY2FsbGJhY2spe2NhbGxiYWNrPWNhbGxiYWNrfHxhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aC0xXSxzZXR1cERpYWxvZyhpbml0aWFsUGF0aCx7dGl0bGU6dGl0bGUsY2FuY2VsOiJDYW5jZWwiLGRvbmU6IlNhdmUiLHNhdmVBczohMH0pLG9uQWN0aW9uPWZ1bmN0aW9uKCl7dmFyIGZpbGVOYW1lPWRpYWxvZy5xdWVyeVNlbGVjdG9yKCIuZmlsZS1uYW1lLWlucHV0IikudmFsdWUudHJpbSgpO2ZpbGVOYW1lJiYoY2FsbGJhY2sobnVsbCxQYXRoLmpvaW4oc2gucHdkKCksZmlsZU5hbWUpKSxjbG9zZU1vZGFsKCkpfSxvblNlbGVjdGlvbj1mdW5jdGlvbigpe3ZhciB3b3JraW5nRmlsZT13b3JraW5nRmlsZXNbMF07IkRJUkVDVE9SWSI9PT13b3JraW5nRmlsZS50eXBlJiZkaXNwbGF5RmlsZXNGb3JEaXIod29ya2luZ0ZpbGUucGF0aCl9LGRvbmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLG9uQWN0aW9uKTt2YXIgbmFtZUlucHV0PWRpYWxvZy5xdWVyeVNlbGVjdG9yKCIuZmlsZS1uYW1lLWlucHV0Iik7bmFtZUlucHV0LmZvY3VzKCksZGVmYXVsdE5hbWU9ZGVmYXVsdE5hbWUudHJpbSgpLGVuYWJsZUJ1dHRvbihkb25lQnV0dG9uLGRlZmF1bHROYW1lKSxuYW1lSW5wdXQudmFsdWU9ZGVmYXVsdE5hbWV8fCIiLG5hbWVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsZnVuY3Rpb24oKXtuYW1lSW5wdXQudmFsdWUudHJpbSgpP2VuYWJsZUJ1dHRvbihkb25lQnV0dG9uLCEwKTplbmFibGVCdXR0b24oZG9uZUJ1dHRvbiwhMSl9KTt2YXIgcGF0aElucHV0PWRpYWxvZy5xdWVyeVNlbGVjdG9yKCIuZm9sZGVyLW5hbWUiKTtwYXRoSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIixmdW5jdGlvbigpe3ZhciBpbnB1dFZhbHVlPXBhdGhJbnB1dC52YWx1ZS50cmltKCk7ZnMuc3RhdChpbnB1dFZhbHVlLGZ1bmN0aW9uKGVycixzdGF0cyl7cmV0dXJuIGVycnx8IkRJUkVDVE9SWSIhPT1zdGF0cy50eXBlP3ZvaWQocGF0aElucHV0LnZhbHVlPXNoLnB3ZCgpKTp2b2lkIGRpc3BsYXlGaWxlc0ZvckRpcihpbnB1dFZhbHVlKX0pfSl9LHNob3dPcGVuRGlhbG9nOmZ1bmN0aW9uKGFsbG93TXVsdGlwbGVTZWxlY3Rpb24sY2hvb3NlRGlyZWN0b3JpZXMsdGl0bGUsaW5pdGlhbFBhdGgsZmlsZVR5cGVzLGNhbGxiYWNrKXtvcGVuRGlyZWN0b3JpZXM9Y2hvb3NlRGlyZWN0b3JpZXMsb3Blbk11bHRpcGxlcz1hbGxvd011bHRpcGxlU2VsZWN0aW9uLGNhbGxiYWNrPWNhbGxiYWNrfHxhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aC0xXSxvbkFjdGlvbj1mdW5jdGlvbigpe3ZhciBmaWxlc1RvT3Blbj1bXSxpc0RpcmVjdG9yeT0iRElSRUNUT1JZIj09PXdvcmtpbmdGaWxlc1swXS50eXBlO2lmKHdvcmtpbmdGaWxlcyYmd29ya2luZ0ZpbGVzLmxlbmd0aCYmKGlzRGlyZWN0b3J5JiZjaG9vc2VEaXJlY3Rvcmllc3x8IWlzRGlyZWN0b3J5JiYhY2hvb3NlRGlyZWN0b3JpZXMpKXtmb3IodmFyIGk9MDtpPHdvcmtpbmdGaWxlcy5sZW5ndGg7aSsrKWZpbGVzVG9PcGVuLnB1c2goUGF0aC5qb2luKHNoLnB3ZCgpLHdvcmtpbmdGaWxlc1tpXS5wYXRoKSk7Y2FsbGJhY2sobnVsbCxmaWxlc1RvT3BlbiksY2xvc2VNb2RhbCgpfX0sb25TZWxlY3Rpb249ZnVuY3Rpb24oKXt2YXIgd29ya2luZ0ZpbGU9d29ya2luZ0ZpbGVzWzBdO3JldHVybiBlbmFibGVCdXR0b24oZG9uZUJ1dHRvbiwhMSksIkRJUkVDVE9SWSI9PT13b3JraW5nRmlsZS50eXBlP3ZvaWQgZGlzcGxheUZpbGVzRm9yRGlyKHdvcmtpbmdGaWxlLnBhdGgpOnZvaWQgb25BY3Rpb24oKX0sZmlsZVNlbGVjdGVkPWZ1bmN0aW9uKGl0ZW0pe2Nob29zZURpcmVjdG9yaWVzP2VuYWJsZUJ1dHRvbihkb25lQnV0dG9uLCJESVJFQ1RPUlkiPT09aXRlbS50eXBlKTplbmFibGVCdXR0b24oZG9uZUJ1dHRvbiwiRElSRUNUT1JZIiE9PWl0ZW0udHlwZSl9LHNldHVwRGlhbG9nKGluaXRpYWxQYXRoLHt0aXRsZTp0aXRsZSxjYW5jZWw6IkNhbmNlbCIsZG9uZToiT3BlbiJ9KSxlbmFibGVCdXR0b24oZG9uZUJ1dHRvbiwhMSksZG9uZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsb25BY3Rpb24pO3ZhciBwYXRoSW5wdXQ9ZGlhbG9nLnF1ZXJ5U2VsZWN0b3IoIi5mb2xkZXItbmFtZSIpLGNvbnRhaW5lcj1kaWFsb2cucXVlcnlTZWxlY3RvcigiLm9wZW4tZmlsZXMtY29udGFpbmVyIik7cGF0aElucHV0LmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IixmdW5jdGlvbigpe3ZhciBpbnB1dFZhbHVlPXBhdGhJbnB1dC52YWx1ZS50cmltKCksc2VsZWN0ZWQ9Y29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoIi5zZWxlY3RlZCIpO3NlbGVjdGVkJiZzZWxlY3RlZC5jbGFzc0xpc3QucmVtb3ZlKCJzZWxlY3RlZCIpLHdvcmtpbmdGaWxlcz1bXSxmcy5zdGF0KGlucHV0VmFsdWUsZnVuY3Rpb24oZXJyLHN0YXRzKXtpZihlcnIpcmV0dXJuIHZvaWQgZW5hYmxlQnV0dG9uKGRvbmVCdXR0b24sITEpO2Nob29zZURpcmVjdG9yaWVzP2VuYWJsZUJ1dHRvbihkb25lQnV0dG9uLCJESVJFQ1RPUlkiPT09c3RhdHMudHlwZSk6ZW5hYmxlQnV0dG9uKGRvbmVCdXR0b24sIkRJUkVDVE9SWSIhPT1zdGF0cy50eXBlKX0pfSkscGF0aElucHV0LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsZnVuY3Rpb24oKXt2YXIgaW5wdXRWYWx1ZT1wYXRoSW5wdXQudmFsdWUudHJpbSgpO2ZzLnN0YXQoaW5wdXRWYWx1ZSxmdW5jdGlvbihlcnIsc3RhdHMpe2lmKGVycilyZXR1cm4gdm9pZChwYXRoSW5wdXQudmFsdWU9c2gucHdkKCkpO3ZhciBmaWxlTmFtZSxmaWxlUGF0aDsiRElSRUNUT1JZIj09PXN0YXRzLnR5cGUmJmNob29zZURpcmVjdG9yaWVzfHwiRElSRUNUT1JZIiE9PXN0YXRzLnR5cGUmJiFjaG9vc2VEaXJlY3Rvcmllcz8oZW5hYmxlQnV0dG9uKGRvbmVCdXR0b24sITApLGZpbGVQYXRoPVBhdGguZGlybmFtZShpbnB1dFZhbHVlKSxmaWxlTmFtZT1QYXRoLmJhc2VuYW1lKGlucHV0VmFsdWUpLHNoLmNkKGZpbGVQYXRoLGZ1bmN0aW9uKGVycil7cmV0dXJuIGVycj92b2lkIGNvbnNvbGUuZXJyb3IoZXJyKTood29ya2luZ0ZpbGVzPVt7cGF0aDpmaWxlTmFtZX1dLHZvaWQgb25TZWxlY3Rpb24oKSl9KSk6KGVuYWJsZUJ1dHRvbihkb25lQnV0dG9uLCExKSwiRElSRUNUT1JZIj09PXN0YXRzLnR5cGUmJmRpc3BsYXlGaWxlc0ZvckRpcihpbnB1dFZhbHVlKSl9KX0pfX19cmV0dXJue3Nob3dPcGVuRGlhbG9nOmZ1bmN0aW9uKCl7dmFyIGRpYWxvZz1uZXcgRmlsZURpYWxvZztkaWFsb2cuc2hvd09wZW5EaWFsb2cuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxzaG93U2F2ZUFzRGlhbG9nOmZ1bmN0aW9uKCl7dmFyIGRpYWxvZz1uZXcgRmlsZURpYWxvZztkaWFsb2cuc2hvd1NhdmVBc0RpYWxvZy5hcHBseShudWxsLGFyZ3VtZW50cyl9fX0pLGZ1bmN0aW9uKHdpbmRvdyxkb2N1bWVudCx1bmRlZmluZWQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBtaW5FcnIobW9kdWxlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbWVzc2FnZSxpLGNvZGU9YXJndW1lbnRzWzBdLHByZWZpeD0iWyIrKG1vZHVsZT9tb2R1bGUrIjoiOiIiKStjb2RlKyJdICIsdGVtcGxhdGU9YXJndW1lbnRzWzFdLHRlbXBsYXRlQXJncz1hcmd1bWVudHMsc3RyaW5naWZ5PWZ1bmN0aW9uKG9iail7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG9iaj9vYmoudG9TdHJpbmcoKS5yZXBsYWNlKC8gXHtbXHNcU10qJC8sIiIpOiJ1bmRlZmluZWQiPT10eXBlb2Ygb2JqPyJ1bmRlZmluZWQiOiJzdHJpbmciIT10eXBlb2Ygb2JqP0pTT04uc3RyaW5naWZ5KG9iaik6b2JqfTtmb3IobWVzc2FnZT1wcmVmaXgrdGVtcGxhdGUucmVwbGFjZSgvXHtcZCtcfS9nLGZ1bmN0aW9uKG1hdGNoKXt2YXIgYXJnLGluZGV4PSttYXRjaC5zbGljZSgxLC0xKTtyZXR1cm4gaW5kZXgrMjx0ZW1wbGF0ZUFyZ3MubGVuZ3RoPyhhcmc9dGVtcGxhdGVBcmdzW2luZGV4KzJdLCJmdW5jdGlvbiI9PXR5cGVvZiBhcmc/YXJnLnRvU3RyaW5nKCkucmVwbGFjZSgvID9ce1tcc1xTXSokLywiIik6InVuZGVmaW5lZCI9PXR5cGVvZiBhcmc/InVuZGVmaW5lZCI6InN0cmluZyIhPXR5cGVvZiBhcmc/dG9Kc29uKGFyZyk6YXJnKTptYXRjaH0pLG1lc3NhZ2U9bWVzc2FnZSsiXG5odHRwOi8vZXJyb3JzLmFuZ3VsYXJqcy5vcmcvMS4yLjI2LyIrKG1vZHVsZT9tb2R1bGUrIi8iOiIiKStjb2RlLGk9MjtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKW1lc3NhZ2U9bWVzc2FnZSsoMj09aT8iPyI6IiYiKSsicCIrKGktMikrIj0iK2VuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnkoYXJndW1lbnRzW2ldKSk7cmV0dXJuIG5ldyBFcnJvcihtZXNzYWdlKX19ZnVuY3Rpb24gaXNBcnJheUxpa2Uob2JqKXtpZihudWxsPT1vYmp8fGlzV2luZG93KG9iaikpcmV0dXJuITE7dmFyIGxlbmd0aD1vYmoubGVuZ3RoO3JldHVybiAxPT09b2JqLm5vZGVUeXBlJiZsZW5ndGg/ITA6aXNTdHJpbmcob2JqKXx8aXNBcnJheShvYmopfHwwPT09bGVuZ3RofHwibnVtYmVyIj09dHlwZW9mIGxlbmd0aCYmbGVuZ3RoPjAmJmxlbmd0aC0xIGluIG9ian1mdW5jdGlvbiBmb3JFYWNoKG9iaixpdGVyYXRvcixjb250ZXh0KXt2YXIga2V5O2lmKG9iailpZihpc0Z1bmN0aW9uKG9iaikpZm9yKGtleSBpbiBvYmopInByb3RvdHlwZSI9PWtleXx8Imxlbmd0aCI9PWtleXx8Im5hbWUiPT1rZXl8fG9iai5oYXNPd25Qcm9wZXJ0eSYmIW9iai5oYXNPd25Qcm9wZXJ0eShrZXkpfHxpdGVyYXRvci5jYWxsKGNvbnRleHQsb2JqW2tleV0sa2V5KTtlbHNlIGlmKGlzQXJyYXkob2JqKXx8aXNBcnJheUxpa2Uob2JqKSlmb3Ioa2V5PTA7a2V5PG9iai5sZW5ndGg7a2V5KyspaXRlcmF0b3IuY2FsbChjb250ZXh0LG9ialtrZXldLGtleSk7ZWxzZSBpZihvYmouZm9yRWFjaCYmb2JqLmZvckVhY2ghPT1mb3JFYWNoKW9iai5mb3JFYWNoKGl0ZXJhdG9yLGNvbnRleHQpO2Vsc2UgZm9yKGtleSBpbiBvYmopb2JqLmhhc093blByb3BlcnR5KGtleSkmJml0ZXJhdG9yLmNhbGwoY29udGV4dCxvYmpba2V5XSxrZXkpO3JldHVybiBvYmp9ZnVuY3Rpb24gc29ydGVkS2V5cyhvYmope3ZhciBrZXlzPVtdO2Zvcih2YXIga2V5IGluIG9iailvYmouaGFzT3duUHJvcGVydHkoa2V5KSYma2V5cy5wdXNoKGtleSk7cmV0dXJuIGtleXMuc29ydCgpfWZ1bmN0aW9uIGZvckVhY2hTb3J0ZWQob2JqLGl0ZXJhdG9yLGNvbnRleHQpe2Zvcih2YXIga2V5cz1zb3J0ZWRLZXlzKG9iaiksaT0wO2k8a2V5cy5sZW5ndGg7aSsrKWl0ZXJhdG9yLmNhbGwoY29udGV4dCxvYmpba2V5c1tpXV0sa2V5c1tpXSk7cmV0dXJuIGtleXN9ZnVuY3Rpb24gcmV2ZXJzZVBhcmFtcyhpdGVyYXRvckZuKXtyZXR1cm4gZnVuY3Rpb24odmFsdWUsa2V5KXtpdGVyYXRvckZuKGtleSx2YWx1ZSl9fWZ1bmN0aW9uIG5leHRVaWQoKXtmb3IodmFyIGRpZ2l0LGluZGV4PXVpZC5sZW5ndGg7aW5kZXg7KXtpZihpbmRleC0tLGRpZ2l0PXVpZFtpbmRleF0uY2hhckNvZGVBdCgwKSw1Nz09ZGlnaXQpcmV0dXJuIHVpZFtpbmRleF09IkEiLHVpZC5qb2luKCIiKTtpZig5MCE9ZGlnaXQpcmV0dXJuIHVpZFtpbmRleF09U3RyaW5nLmZyb21DaGFyQ29kZShkaWdpdCsxKSx1aWQuam9pbigiIik7dWlkW2luZGV4XT0iMCJ9cmV0dXJuIHVpZC51bnNoaWZ0KCIwIiksdWlkLmpvaW4oIiIpfWZ1bmN0aW9uIHNldEhhc2hLZXkob2JqLGgpe2g/b2JqLiQkaGFzaEtleT1oOmRlbGV0ZSBvYmouJCRoYXNoS2V5fWZ1bmN0aW9uIGV4dGVuZChkc3Qpe3ZhciBoPWRzdC4kJGhhc2hLZXk7cmV0dXJuIGZvckVhY2goYXJndW1lbnRzLGZ1bmN0aW9uKG9iail7b2JqIT09ZHN0JiZmb3JFYWNoKG9iaixmdW5jdGlvbih2YWx1ZSxrZXkpe2RzdFtrZXldPXZhbHVlfSl9KSxzZXRIYXNoS2V5KGRzdCxoKSxkc3R9ZnVuY3Rpb24gaW50KHN0cil7cmV0dXJuIHBhcnNlSW50KHN0ciwxMCl9ZnVuY3Rpb24gaW5oZXJpdChwYXJlbnQsZXh0cmEpe3JldHVybiBleHRlbmQobmV3KGV4dGVuZChmdW5jdGlvbigpe30se3Byb3RvdHlwZTpwYXJlbnR9KSksZXh0cmEpfWZ1bmN0aW9uIG5vb3AoKXt9ZnVuY3Rpb24gaWRlbnRpdHkoJCl7cmV0dXJuICR9ZnVuY3Rpb24gdmFsdWVGbih2YWx1ZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHZhbHVlfX1mdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSl7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiB2YWx1ZX1mdW5jdGlvbiBpc0RlZmluZWQodmFsdWUpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdmFsdWV9ZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpe3JldHVybiBudWxsIT12YWx1ZSYmIm9iamVjdCI9PXR5cGVvZiB2YWx1ZX1mdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB2YWx1ZX1mdW5jdGlvbiBpc051bWJlcih2YWx1ZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiB2YWx1ZX1mdW5jdGlvbiBpc0RhdGUodmFsdWUpe3JldHVybiJbb2JqZWN0IERhdGVdIj09PXRvU3RyaW5nLmNhbGwodmFsdWUpfWZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB2YWx1ZX1mdW5jdGlvbiBpc1JlZ0V4cCh2YWx1ZSl7cmV0dXJuIltvYmplY3QgUmVnRXhwXSI9PT10b1N0cmluZy5jYWxsKHZhbHVlKX1mdW5jdGlvbiBpc1dpbmRvdyhvYmope3JldHVybiBvYmomJm9iai5kb2N1bWVudCYmb2JqLmxvY2F0aW9uJiZvYmouYWxlcnQmJm9iai5zZXRJbnRlcnZhbH1mdW5jdGlvbiBpc1Njb3BlKG9iail7cmV0dXJuIG9iaiYmb2JqLiRldmFsQXN5bmMmJm9iai4kd2F0Y2h9ZnVuY3Rpb24gaXNGaWxlKG9iail7cmV0dXJuIltvYmplY3QgRmlsZV0iPT09dG9TdHJpbmcuY2FsbChvYmopfWZ1bmN0aW9uIGlzQmxvYihvYmope3JldHVybiJbb2JqZWN0IEJsb2JdIj09PXRvU3RyaW5nLmNhbGwob2JqKX1mdW5jdGlvbiBpc1Byb21pc2VMaWtlKG9iail7cmV0dXJuIG9iaiYmaXNGdW5jdGlvbihvYmoudGhlbil9ZnVuY3Rpb24gaXNFbGVtZW50KG5vZGUpe3JldHVybiEoIW5vZGV8fCEobm9kZS5ub2RlTmFtZXx8bm9kZS5wcm9wJiZub2RlLmF0dHImJm5vZGUuZmluZCkpfWZ1bmN0aW9uIG1hcChvYmosaXRlcmF0b3IsY29udGV4dCl7dmFyIHJlc3VsdHM9W107cmV0dXJuIGZvckVhY2gob2JqLGZ1bmN0aW9uKHZhbHVlLGluZGV4LGxpc3Qpe3Jlc3VsdHMucHVzaChpdGVyYXRvci5jYWxsKGNvbnRleHQsdmFsdWUsaW5kZXgsbGlzdCkpfSkscmVzdWx0c31mdW5jdGlvbiBpbmNsdWRlcyhhcnJheSxvYmope3JldHVybi0xIT1pbmRleE9mKGFycmF5LG9iail9ZnVuY3Rpb24gaW5kZXhPZihhcnJheSxvYmope2lmKGFycmF5LmluZGV4T2YpcmV0dXJuIGFycmF5LmluZGV4T2Yob2JqKTtmb3IodmFyIGk9MDtpPGFycmF5Lmxlbmd0aDtpKyspaWYob2JqPT09YXJyYXlbaV0pcmV0dXJuIGk7cmV0dXJuLTF9ZnVuY3Rpb24gYXJyYXlSZW1vdmUoYXJyYXksdmFsdWUpe3ZhciBpbmRleD1pbmRleE9mKGFycmF5LHZhbHVlKTtyZXR1cm4gaW5kZXg+PTAmJmFycmF5LnNwbGljZShpbmRleCwxKSx2YWx1ZX1mdW5jdGlvbiBjb3B5KHNvdXJjZSxkZXN0aW5hdGlvbixzdGFja1NvdXJjZSxzdGFja0Rlc3Qpe2lmKGlzV2luZG93KHNvdXJjZSl8fGlzU2NvcGUoc291cmNlKSl0aHJvdyBuZ01pbkVycigiY3B3cyIsIkNhbid0IGNvcHkhIE1ha2luZyBjb3BpZXMgb2YgV2luZG93IG9yIFNjb3BlIGluc3RhbmNlcyBpcyBub3Qgc3VwcG9ydGVkLiIpO2lmKGRlc3RpbmF0aW9uKXtpZihzb3VyY2U9PT1kZXN0aW5hdGlvbil0aHJvdyBuZ01pbkVycigiY3BpIiwiQ2FuJ3QgY29weSEgU291cmNlIGFuZCBkZXN0aW5hdGlvbiBhcmUgaWRlbnRpY2FsLiIpO2lmKHN0YWNrU291cmNlPXN0YWNrU291cmNlfHxbXSxzdGFja0Rlc3Q9c3RhY2tEZXN0fHxbXSxpc09iamVjdChzb3VyY2UpKXt2YXIgaW5kZXg9aW5kZXhPZihzdGFja1NvdXJjZSxzb3VyY2UpO2lmKC0xIT09aW5kZXgpcmV0dXJuIHN0YWNrRGVzdFtpbmRleF07c3RhY2tTb3VyY2UucHVzaChzb3VyY2UpLHN0YWNrRGVzdC5wdXNoKGRlc3RpbmF0aW9uKX12YXIgcmVzdWx0O2lmKGlzQXJyYXkoc291cmNlKSl7ZGVzdGluYXRpb24ubGVuZ3RoPTA7Zm9yKHZhciBpPTA7aTxzb3VyY2UubGVuZ3RoO2krKylyZXN1bHQ9Y29weShzb3VyY2VbaV0sbnVsbCxzdGFja1NvdXJjZSxzdGFja0Rlc3QpLGlzT2JqZWN0KHNvdXJjZVtpXSkmJihzdGFja1NvdXJjZS5wdXNoKHNvdXJjZVtpXSksc3RhY2tEZXN0LnB1c2gocmVzdWx0KSksZGVzdGluYXRpb24ucHVzaChyZXN1bHQpfWVsc2V7dmFyIGg9ZGVzdGluYXRpb24uJCRoYXNoS2V5O2lzQXJyYXkoZGVzdGluYXRpb24pP2Rlc3RpbmF0aW9uLmxlbmd0aD0wOmZvckVhY2goZGVzdGluYXRpb24sZnVuY3Rpb24odmFsdWUsa2V5KXtkZWxldGUgZGVzdGluYXRpb25ba2V5XX0pO2Zvcih2YXIga2V5IGluIHNvdXJjZSlyZXN1bHQ9Y29weShzb3VyY2Vba2V5XSxudWxsLHN0YWNrU291cmNlLHN0YWNrRGVzdCksaXNPYmplY3Qoc291cmNlW2tleV0pJiYoc3RhY2tTb3VyY2UucHVzaChzb3VyY2Vba2V5XSksc3RhY2tEZXN0LnB1c2gocmVzdWx0KSksZGVzdGluYXRpb25ba2V5XT1yZXN1bHQ7c2V0SGFzaEtleShkZXN0aW5hdGlvbixoKX19ZWxzZSBkZXN0aW5hdGlvbj1zb3VyY2Usc291cmNlJiYoaXNBcnJheShzb3VyY2UpP2Rlc3RpbmF0aW9uPWNvcHkoc291cmNlLFtdLHN0YWNrU291cmNlLHN0YWNrRGVzdCk6aXNEYXRlKHNvdXJjZSk/ZGVzdGluYXRpb249bmV3IERhdGUoc291cmNlLmdldFRpbWUoKSk6aXNSZWdFeHAoc291cmNlKT8oZGVzdGluYXRpb249bmV3IFJlZ0V4cChzb3VyY2Uuc291cmNlLHNvdXJjZS50b1N0cmluZygpLm1hdGNoKC9bXlwvXSokLylbMF0pLGRlc3RpbmF0aW9uLmxhc3RJbmRleD1zb3VyY2UubGFzdEluZGV4KTppc09iamVjdChzb3VyY2UpJiYoZGVzdGluYXRpb249Y29weShzb3VyY2Use30sc3RhY2tTb3VyY2Usc3RhY2tEZXN0KSkpO3JldHVybiBkZXN0aW5hdGlvbn1mdW5jdGlvbiBzaGFsbG93Q29weShzcmMsZHN0KXtpZihpc0FycmF5KHNyYykpe2RzdD1kc3R8fFtdO2Zvcih2YXIgaT0wO2k8c3JjLmxlbmd0aDtpKyspZHN0W2ldPXNyY1tpXX1lbHNlIGlmKGlzT2JqZWN0KHNyYykpe2RzdD1kc3R8fHt9O2Zvcih2YXIga2V5IGluIHNyYykhaGFzT3duUHJvcGVydHkuY2FsbChzcmMsa2V5KXx8IiQiPT09a2V5LmNoYXJBdCgwKSYmIiQiPT09a2V5LmNoYXJBdCgxKXx8KGRzdFtrZXldPXNyY1trZXldKX1yZXR1cm4gZHN0fHxzcmN9ZnVuY3Rpb24gZXF1YWxzKG8xLG8yKXtpZihvMT09PW8yKXJldHVybiEwO2lmKG51bGw9PT1vMXx8bnVsbD09PW8yKXJldHVybiExO2lmKG8xIT09bzEmJm8yIT09bzIpcmV0dXJuITA7dmFyIGxlbmd0aCxrZXksa2V5U2V0LHQxPXR5cGVvZiBvMSx0Mj10eXBlb2YgbzI7aWYodDE9PXQyJiYib2JqZWN0Ij09dDEpe2lmKCFpc0FycmF5KG8xKSl7aWYoaXNEYXRlKG8xKSlyZXR1cm4gaXNEYXRlKG8yKT9pc05hTihvMS5nZXRUaW1lKCkpJiZpc05hTihvMi5nZXRUaW1lKCkpfHxvMS5nZXRUaW1lKCk9PT1vMi5nZXRUaW1lKCk6ITE7aWYoaXNSZWdFeHAobzEpJiZpc1JlZ0V4cChvMikpcmV0dXJuIG8xLnRvU3RyaW5nKCk9PW8yLnRvU3RyaW5nKCk7aWYoaXNTY29wZShvMSl8fGlzU2NvcGUobzIpfHxpc1dpbmRvdyhvMSl8fGlzV2luZG93KG8yKXx8aXNBcnJheShvMikpcmV0dXJuITE7a2V5U2V0PXt9O2ZvcihrZXkgaW4gbzEpaWYoIiQiIT09a2V5LmNoYXJBdCgwKSYmIWlzRnVuY3Rpb24obzFba2V5XSkpe2lmKCFlcXVhbHMobzFba2V5XSxvMltrZXldKSlyZXR1cm4hMTtrZXlTZXRba2V5XT0hMH1mb3Ioa2V5IGluIG8yKWlmKCFrZXlTZXQuaGFzT3duUHJvcGVydHkoa2V5KSYmIiQiIT09a2V5LmNoYXJBdCgwKSYmbzJba2V5XSE9PXVuZGVmaW5lZCYmIWlzRnVuY3Rpb24obzJba2V5XSkpcmV0dXJuITE7cmV0dXJuITB9aWYoIWlzQXJyYXkobzIpKXJldHVybiExO2lmKChsZW5ndGg9bzEubGVuZ3RoKT09bzIubGVuZ3RoKXtmb3Ioa2V5PTA7bGVuZ3RoPmtleTtrZXkrKylpZighZXF1YWxzKG8xW2tleV0sbzJba2V5XSkpcmV0dXJuITE7cmV0dXJuITB9fXJldHVybiExfWZ1bmN0aW9uIGNvbmNhdChhcnJheTEsYXJyYXkyLGluZGV4KXtyZXR1cm4gYXJyYXkxLmNvbmNhdChzbGljZS5jYWxsKGFycmF5MixpbmRleCkpfWZ1bmN0aW9uIHNsaWNlQXJncyhhcmdzLHN0YXJ0SW5kZXgpe3JldHVybiBzbGljZS5jYWxsKGFyZ3Msc3RhcnRJbmRleHx8MCl9ZnVuY3Rpb24gYmluZChzZWxmLGZuKXt2YXIgY3VycnlBcmdzPWFyZ3VtZW50cy5sZW5ndGg+Mj9zbGljZUFyZ3MoYXJndW1lbnRzLDIpOltdO3JldHVybiFpc0Z1bmN0aW9uKGZuKXx8Zm4gaW5zdGFuY2VvZiBSZWdFeHA/Zm46Y3VycnlBcmdzLmxlbmd0aD9mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2ZuLmFwcGx5KHNlbGYsY3VycnlBcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cywwKSkpOmZuLmFwcGx5KHNlbGYsY3VycnlBcmdzKX06ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9mbi5hcHBseShzZWxmLGFyZ3VtZW50cyk6Zm4uY2FsbChzZWxmKX19ZnVuY3Rpb24gdG9Kc29uUmVwbGFjZXIoa2V5LHZhbHVlKXt2YXIgdmFsPXZhbHVlO3JldHVybiJzdHJpbmciPT10eXBlb2Yga2V5JiYiJCI9PT1rZXkuY2hhckF0KDApP3ZhbD11bmRlZmluZWQ6aXNXaW5kb3codmFsdWUpP3ZhbD0iJFdJTkRPVyI6dmFsdWUmJmRvY3VtZW50PT09dmFsdWU/dmFsPSIkRE9DVU1FTlQiOmlzU2NvcGUodmFsdWUpJiYodmFsPSIkU0NPUEUiKSx2YWx9ZnVuY3Rpb24gdG9Kc29uKG9iaixwcmV0dHkpe3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2Ygb2JqP3VuZGVmaW5lZDpKU09OLnN0cmluZ2lmeShvYmosdG9Kc29uUmVwbGFjZXIscHJldHR5PyIgICI6bnVsbCl9ZnVuY3Rpb24gZnJvbUpzb24oanNvbil7cmV0dXJuIGlzU3RyaW5nKGpzb24pP0pTT04ucGFyc2UoanNvbik6anNvbn1mdW5jdGlvbiB0b0Jvb2xlYW4odmFsdWUpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB2YWx1ZSl2YWx1ZT0hMDtlbHNlIGlmKHZhbHVlJiYwIT09dmFsdWUubGVuZ3RoKXt2YXIgdj1sb3dlcmNhc2UoIiIrdmFsdWUpO3ZhbHVlPSEoImYiPT12fHwiMCI9PXZ8fCJmYWxzZSI9PXZ8fCJubyI9PXZ8fCJuIj09dnx8IltdIj09dil9ZWxzZSB2YWx1ZT0hMTtyZXR1cm4gdmFsdWV9ZnVuY3Rpb24gc3RhcnRpbmdUYWcoZWxlbWVudCl7ZWxlbWVudD1qcUxpdGUoZWxlbWVudCkuY2xvbmUoKTt0cnl7ZWxlbWVudC5lbXB0eSgpfWNhdGNoKGUpe312YXIgVEVYVF9OT0RFPTMsZWxlbUh0bWw9anFMaXRlKCI8ZGl2PiIpLmFwcGVuZChlbGVtZW50KS5odG1sKCk7dHJ5e3JldHVybiBlbGVtZW50WzBdLm5vZGVUeXBlPT09VEVYVF9OT0RFP2xvd2VyY2FzZShlbGVtSHRtbCk6ZWxlbUh0bWwubWF0Y2goL14oPFtePl0rPikvKVsxXS5yZXBsYWNlKC9ePChbXHdcLV0rKS8sZnVuY3Rpb24obWF0Y2gsbm9kZU5hbWUpe3JldHVybiI8Iitsb3dlcmNhc2Uobm9kZU5hbWUpfSl9Y2F0Y2goZSl7cmV0dXJuIGxvd2VyY2FzZShlbGVtSHRtbCl9fWZ1bmN0aW9uIHRyeURlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpfWNhdGNoKGUpe319ZnVuY3Rpb24gcGFyc2VLZXlWYWx1ZShrZXlWYWx1ZSl7dmFyIGtleV92YWx1ZSxrZXksb2JqPXt9O3JldHVybiBmb3JFYWNoKChrZXlWYWx1ZXx8IiIpLnNwbGl0KCImIiksZnVuY3Rpb24oa2V5VmFsdWUpe2lmKGtleVZhbHVlJiYoa2V5X3ZhbHVlPWtleVZhbHVlLnJlcGxhY2UoL1wrL2csIiUyMCIpLnNwbGl0KCI9Iiksa2V5PXRyeURlY29kZVVSSUNvbXBvbmVudChrZXlfdmFsdWVbMF0pLGlzRGVmaW5lZChrZXkpKSl7dmFyIHZhbD1pc0RlZmluZWQoa2V5X3ZhbHVlWzFdKT90cnlEZWNvZGVVUklDb21wb25lbnQoa2V5X3ZhbHVlWzFdKTohMDtoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaixrZXkpP2lzQXJyYXkob2JqW2tleV0pP29ialtrZXldLnB1c2godmFsKTpvYmpba2V5XT1bb2JqW2tleV0sdmFsXTpvYmpba2V5XT12YWx9fSksb2JqfWZ1bmN0aW9uIHRvS2V5VmFsdWUob2JqKXt2YXIgcGFydHM9W107cmV0dXJuIGZvckVhY2gob2JqLGZ1bmN0aW9uKHZhbHVlLGtleSl7aXNBcnJheSh2YWx1ZSk/Zm9yRWFjaCh2YWx1ZSxmdW5jdGlvbihhcnJheVZhbHVlKXtwYXJ0cy5wdXNoKGVuY29kZVVyaVF1ZXJ5KGtleSwhMCkrKGFycmF5VmFsdWU9PT0hMD8iIjoiPSIrZW5jb2RlVXJpUXVlcnkoYXJyYXlWYWx1ZSwhMCkpKX0pOnBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkoa2V5LCEwKSsodmFsdWU9PT0hMD8iIjoiPSIrZW5jb2RlVXJpUXVlcnkodmFsdWUsITApKSl9KSxwYXJ0cy5sZW5ndGg/cGFydHMuam9pbigiJiIpOiIifWZ1bmN0aW9uIGVuY29kZVVyaVNlZ21lbnQodmFsKXtyZXR1cm4gZW5jb2RlVXJpUXVlcnkodmFsLCEwKS5yZXBsYWNlKC8lMjYvZ2ksIiYiKS5yZXBsYWNlKC8lM0QvZ2ksIj0iKS5yZXBsYWNlKC8lMkIvZ2ksIisiKX1mdW5jdGlvbiBlbmNvZGVVcmlRdWVyeSh2YWwscGN0RW5jb2RlU3BhY2VzKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkucmVwbGFjZSgvJTQwL2dpLCJAIikucmVwbGFjZSgvJTNBL2dpLCI6IikucmVwbGFjZSgvJTI0L2csIiQiKS5yZXBsYWNlKC8lMkMvZ2ksIiwiKS5yZXBsYWNlKC8lMjAvZyxwY3RFbmNvZGVTcGFjZXM/IiUyMCI6IisiKX1mdW5jdGlvbiBhbmd1bGFySW5pdChlbGVtZW50LGJvb3RzdHJhcCl7ZnVuY3Rpb24gYXBwZW5kKGVsZW1lbnQpe2VsZW1lbnQmJmVsZW1lbnRzLnB1c2goZWxlbWVudCl9dmFyIGFwcEVsZW1lbnQsbW9kdWxlLGVsZW1lbnRzPVtlbGVtZW50XSxuYW1lcz1bIm5nOmFwcCIsIm5nLWFwcCIsIngtbmctYXBwIiwiZGF0YS1uZy1hcHAiXSxOR19BUFBfQ0xBU1NfUkVHRVhQPS9cc25nWzpcLV1hcHAoOlxzKihbXHdcZF9dKyk7Pyk/XHMvO2ZvckVhY2gobmFtZXMsZnVuY3Rpb24obmFtZSl7bmFtZXNbbmFtZV09ITAsYXBwZW5kKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG5hbWUpKSxuYW1lPW5hbWUucmVwbGFjZSgiOiIsIlxcOiIpLGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCYmKGZvckVhY2goZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuIituYW1lKSxhcHBlbmQpLGZvckVhY2goZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuIituYW1lKyJcXDoiKSxhcHBlbmQpLGZvckVhY2goZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCJbIituYW1lKyJdIiksYXBwZW5kKSl9KSxmb3JFYWNoKGVsZW1lbnRzLGZ1bmN0aW9uKGVsZW1lbnQpe2lmKCFhcHBFbGVtZW50KXt2YXIgY2xhc3NOYW1lPSIgIitlbGVtZW50LmNsYXNzTmFtZSsiICIsbWF0Y2g9TkdfQVBQX0NMQVNTX1JFR0VYUC5leGVjKGNsYXNzTmFtZSk7bWF0Y2g/KGFwcEVsZW1lbnQ9ZWxlbWVudCxtb2R1bGU9KG1hdGNoWzJdfHwiIikucmVwbGFjZSgvXHMrL2csIiwiKSk6Zm9yRWFjaChlbGVtZW50LmF0dHJpYnV0ZXMsZnVuY3Rpb24oYXR0cil7IWFwcEVsZW1lbnQmJm5hbWVzW2F0dHIubmFtZV0mJihhcHBFbGVtZW50PWVsZW1lbnQsbW9kdWxlPWF0dHIudmFsdWUpfSl9fSksYXBwRWxlbWVudCYmYm9vdHN0cmFwKGFwcEVsZW1lbnQsbW9kdWxlP1ttb2R1bGVdOltdKX1mdW5jdGlvbiBib290c3RyYXAoZWxlbWVudCxtb2R1bGVzKXt2YXIgZG9Cb290c3RyYXA9ZnVuY3Rpb24oKXtpZihlbGVtZW50PWpxTGl0ZShlbGVtZW50KSxlbGVtZW50LmluamVjdG9yKCkpe3ZhciB0YWc9ZWxlbWVudFswXT09PWRvY3VtZW50PyJkb2N1bWVudCI6c3RhcnRpbmdUYWcoZWxlbWVudCk7dGhyb3cgbmdNaW5FcnIoImJ0c3RycGQiLCJBcHAgQWxyZWFkeSBCb290c3RyYXBwZWQgd2l0aCB0aGlzIEVsZW1lbnQgJ3swfSciLHRhZy5yZXBsYWNlKC88LywiJmx0OyIpLnJlcGxhY2UoLz4vLCImZ3Q7IikpfW1vZHVsZXM9bW9kdWxlc3x8W10sbW9kdWxlcy51bnNoaWZ0KFsiJHByb3ZpZGUiLGZ1bmN0aW9uKCRwcm92aWRlKXskcHJvdmlkZS52YWx1ZSgiJHJvb3RFbGVtZW50IixlbGVtZW50KX1dKSxtb2R1bGVzLnVuc2hpZnQoIm5nIik7dmFyIGluamVjdG9yPWNyZWF0ZUluamVjdG9yKG1vZHVsZXMpO3JldHVybiBpbmplY3Rvci5pbnZva2UoWyIkcm9vdFNjb3BlIiwiJHJvb3RFbGVtZW50IiwiJGNvbXBpbGUiLCIkaW5qZWN0b3IiLCIkYW5pbWF0ZSIsZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxjb21waWxlLGluamVjdG9yKXtzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtlbGVtZW50LmRhdGEoIiRpbmplY3RvciIsaW5qZWN0b3IpLGNvbXBpbGUoZWxlbWVudCkoc2NvcGUpfSl9XSksaW5qZWN0b3J9LE5HX0RFRkVSX0JPT1RTVFJBUD0vXk5HX0RFRkVSX0JPT1RTVFJBUCEvO3JldHVybiB3aW5kb3cmJiFOR19ERUZFUl9CT09UU1RSQVAudGVzdCh3aW5kb3cubmFtZSk/ZG9Cb290c3RyYXAoKTood2luZG93Lm5hbWU9d2luZG93Lm5hbWUucmVwbGFjZShOR19ERUZFUl9CT09UU1RSQVAsIiIpLHZvaWQoYW5ndWxhci5yZXN1bWVCb290c3RyYXA9ZnVuY3Rpb24oZXh0cmFNb2R1bGVzKXtmb3JFYWNoKGV4dHJhTW9kdWxlcyxmdW5jdGlvbihtb2R1bGUpe21vZHVsZXMucHVzaChtb2R1bGUpfSksZG9Cb290c3RyYXAoKX0pKX1mdW5jdGlvbiBzbmFrZV9jYXNlKG5hbWUsc2VwYXJhdG9yKXtyZXR1cm4gc2VwYXJhdG9yPXNlcGFyYXRvcnx8Il8iLG5hbWUucmVwbGFjZShTTkFLRV9DQVNFX1JFR0VYUCxmdW5jdGlvbihsZXR0ZXIscG9zKXtyZXR1cm4ocG9zP3NlcGFyYXRvcjoiIikrbGV0dGVyLnRvTG93ZXJDYXNlKCl9KX1mdW5jdGlvbiBiaW5kSlF1ZXJ5KCl7alF1ZXJ5PXdpbmRvdy5qUXVlcnksalF1ZXJ5JiZqUXVlcnkuZm4ub24/KGpxTGl0ZT1qUXVlcnksZXh0ZW5kKGpRdWVyeS5mbix7c2NvcGU6SlFMaXRlUHJvdG90eXBlLnNjb3BlLGlzb2xhdGVTY29wZTpKUUxpdGVQcm90b3R5cGUuaXNvbGF0ZVNjb3BlLGNvbnRyb2xsZXI6SlFMaXRlUHJvdG90eXBlLmNvbnRyb2xsZXIsaW5qZWN0b3I6SlFMaXRlUHJvdG90eXBlLmluamVjdG9yLGluaGVyaXRlZERhdGE6SlFMaXRlUHJvdG90eXBlLmluaGVyaXRlZERhdGF9KSxqcUxpdGVQYXRjaEpRdWVyeVJlbW92ZSgicmVtb3ZlIiwhMCwhMCwhMSksanFMaXRlUGF0Y2hKUXVlcnlSZW1vdmUoImVtcHR5IiwhMSwhMSwhMSksanFMaXRlUGF0Y2hKUXVlcnlSZW1vdmUoImh0bWwiLCExLCExLCEwKSk6anFMaXRlPUpRTGl0ZSxhbmd1bGFyLmVsZW1lbnQ9anFMaXRlfWZ1bmN0aW9uIGFzc2VydEFyZyhhcmcsbmFtZSxyZWFzb24pe2lmKCFhcmcpdGhyb3cgbmdNaW5FcnIoImFyZXEiLCJBcmd1bWVudCAnezB9JyBpcyB7MX0iLG5hbWV8fCI/IixyZWFzb258fCJyZXF1aXJlZCIpO3JldHVybiBhcmd9ZnVuY3Rpb24gYXNzZXJ0QXJnRm4oYXJnLG5hbWUsYWNjZXB0QXJyYXlBbm5vdGF0aW9uKXtyZXR1cm4gYWNjZXB0QXJyYXlBbm5vdGF0aW9uJiZpc0FycmF5KGFyZykmJihhcmc9YXJnW2FyZy5sZW5ndGgtMV0pLGFzc2VydEFyZyhpc0Z1bmN0aW9uKGFyZyksbmFtZSwibm90IGEgZnVuY3Rpb24sIGdvdCAiKyhhcmcmJiJvYmplY3QiPT10eXBlb2YgYXJnP2FyZy5jb25zdHJ1Y3Rvci5uYW1lfHwiT2JqZWN0Ijp0eXBlb2YgYXJnKSksYXJnfWZ1bmN0aW9uIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsY29udGV4dCl7aWYoImhhc093blByb3BlcnR5Ij09PW5hbWUpdGhyb3cgbmdNaW5FcnIoImJhZG5hbWUiLCJoYXNPd25Qcm9wZXJ0eSBpcyBub3QgYSB2YWxpZCB7MH0gbmFtZSIsY29udGV4dCl9ZnVuY3Rpb24gZ2V0dGVyKG9iaixwYXRoLGJpbmRGblRvU2NvcGUpe2lmKCFwYXRoKXJldHVybiBvYmo7Zm9yKHZhciBrZXksa2V5cz1wYXRoLnNwbGl0KCIuIiksbGFzdEluc3RhbmNlPW9iaixsZW49a2V5cy5sZW5ndGgsaT0wO2xlbj5pO2krKylrZXk9a2V5c1tpXSxvYmomJihvYmo9KGxhc3RJbnN0YW5jZT1vYmopW2tleV0pO3JldHVybiFiaW5kRm5Ub1Njb3BlJiZpc0Z1bmN0aW9uKG9iaik/YmluZChsYXN0SW5zdGFuY2Usb2JqKTpvYmp9ZnVuY3Rpb24gZ2V0QmxvY2tFbGVtZW50cyhub2Rlcyl7dmFyIHN0YXJ0Tm9kZT1ub2Rlc1swXSxlbmROb2RlPW5vZGVzW25vZGVzLmxlbmd0aC0xXTtpZihzdGFydE5vZGU9PT1lbmROb2RlKXJldHVybiBqcUxpdGUoc3RhcnROb2RlKTt2YXIgZWxlbWVudD1zdGFydE5vZGUsZWxlbWVudHM9W2VsZW1lbnRdO2Rve2lmKGVsZW1lbnQ9ZWxlbWVudC5uZXh0U2libGluZywhZWxlbWVudClicmVhaztlbGVtZW50cy5wdXNoKGVsZW1lbnQpfXdoaWxlKGVsZW1lbnQhPT1lbmROb2RlKTtyZXR1cm4ganFMaXRlKGVsZW1lbnRzKX1mdW5jdGlvbiBzZXR1cE1vZHVsZUxvYWRlcih3aW5kb3cpe2Z1bmN0aW9uIGVuc3VyZShvYmosbmFtZSxmYWN0b3J5KXtyZXR1cm4gb2JqW25hbWVdfHwob2JqW25hbWVdPWZhY3RvcnkoKSl9dmFyICRpbmplY3Rvck1pbkVycj1taW5FcnIoIiRpbmplY3RvciIpLG5nTWluRXJyPW1pbkVycigibmciKSxhbmd1bGFyPWVuc3VyZSh3aW5kb3csImFuZ3VsYXIiLE9iamVjdCk7cmV0dXJuIGFuZ3VsYXIuJCRtaW5FcnI9YW5ndWxhci4kJG1pbkVycnx8bWluRXJyLGVuc3VyZShhbmd1bGFyLCJtb2R1bGUiLGZ1bmN0aW9uKCl7dmFyIG1vZHVsZXM9e307cmV0dXJuIGZ1bmN0aW9uKG5hbWUscmVxdWlyZXMsY29uZmlnRm4pe3ZhciBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eT1mdW5jdGlvbihuYW1lLGNvbnRleHQpe2lmKCJoYXNPd25Qcm9wZXJ0eSI9PT1uYW1lKXRocm93IG5nTWluRXJyKCJiYWRuYW1lIiwiaGFzT3duUHJvcGVydHkgaXMgbm90IGEgdmFsaWQgezB9IG5hbWUiLGNvbnRleHQpfTtyZXR1cm4gYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwibW9kdWxlIikscmVxdWlyZXMmJm1vZHVsZXMuaGFzT3duUHJvcGVydHkobmFtZSkmJihtb2R1bGVzW25hbWVdPW51bGwpLGVuc3VyZShtb2R1bGVzLG5hbWUsZnVuY3Rpb24oKXtmdW5jdGlvbiBpbnZva2VMYXRlcihwcm92aWRlcixtZXRob2QsaW5zZXJ0TWV0aG9kKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gaW52b2tlUXVldWVbaW5zZXJ0TWV0aG9kfHwicHVzaCJdKFtwcm92aWRlcixtZXRob2QsYXJndW1lbnRzXSksbW9kdWxlSW5zdGFuY2V9fWlmKCFyZXF1aXJlcyl0aHJvdyAkaW5qZWN0b3JNaW5FcnIoIm5vbW9kIiwiTW9kdWxlICd7MH0nIGlzIG5vdCBhdmFpbGFibGUhIFlvdSBlaXRoZXIgbWlzc3BlbGxlZCB0aGUgbW9kdWxlIG5hbWUgb3IgZm9yZ290IHRvIGxvYWQgaXQuIElmIHJlZ2lzdGVyaW5nIGEgbW9kdWxlIGVuc3VyZSB0aGF0IHlvdSBzcGVjaWZ5IHRoZSBkZXBlbmRlbmNpZXMgYXMgdGhlIHNlY29uZCBhcmd1bWVudC4iLG5hbWUpO3ZhciBpbnZva2VRdWV1ZT1bXSxydW5CbG9ja3M9W10sY29uZmlnPWludm9rZUxhdGVyKCIkaW5qZWN0b3IiLCJpbnZva2UiKSxtb2R1bGVJbnN0YW5jZT17X2ludm9rZVF1ZXVlOmludm9rZVF1ZXVlLF9ydW5CbG9ja3M6cnVuQmxvY2tzLHJlcXVpcmVzOnJlcXVpcmVzLG5hbWU6bmFtZSxwcm92aWRlcjppbnZva2VMYXRlcigiJHByb3ZpZGUiLCJwcm92aWRlciIpLGZhY3Rvcnk6aW52b2tlTGF0ZXIoIiRwcm92aWRlIiwiZmFjdG9yeSIpLHNlcnZpY2U6aW52b2tlTGF0ZXIoIiRwcm92aWRlIiwic2VydmljZSIpLHZhbHVlOmludm9rZUxhdGVyKCIkcHJvdmlkZSIsInZhbHVlIiksY29uc3RhbnQ6aW52b2tlTGF0ZXIoIiRwcm92aWRlIiwiY29uc3RhbnQiLCJ1bnNoaWZ0IiksYW5pbWF0aW9uOmludm9rZUxhdGVyKCIkYW5pbWF0ZVByb3ZpZGVyIiwicmVnaXN0ZXIiKSxmaWx0ZXI6aW52b2tlTGF0ZXIoIiRmaWx0ZXJQcm92aWRlciIsInJlZ2lzdGVyIiksY29udHJvbGxlcjppbnZva2VMYXRlcigiJGNvbnRyb2xsZXJQcm92aWRlciIsInJlZ2lzdGVyIiksZGlyZWN0aXZlOmludm9rZUxhdGVyKCIkY29tcGlsZVByb3ZpZGVyIiwiZGlyZWN0aXZlIiksY29uZmlnOmNvbmZpZyxydW46ZnVuY3Rpb24oYmxvY2spe3JldHVybiBydW5CbG9ja3MucHVzaChibG9jayksdGhpc319O3JldHVybiBjb25maWdGbiYmY29uZmlnKGNvbmZpZ0ZuKSxtb2R1bGVJbnN0YW5jZX0pfX0pfWZ1bmN0aW9uIHB1Ymxpc2hFeHRlcm5hbEFQSShhbmd1bGFyKXtleHRlbmQoYW5ndWxhcix7Ym9vdHN0cmFwOmJvb3RzdHJhcCxjb3B5OmNvcHksZXh0ZW5kOmV4dGVuZCxlcXVhbHM6ZXF1YWxzLGVsZW1lbnQ6anFMaXRlLGZvckVhY2g6Zm9yRWFjaCxpbmplY3RvcjpjcmVhdGVJbmplY3Rvcixub29wOm5vb3AsYmluZDpiaW5kLHRvSnNvbjp0b0pzb24sZnJvbUpzb246ZnJvbUpzb24saWRlbnRpdHk6aWRlbnRpdHksaXNVbmRlZmluZWQ6aXNVbmRlZmluZWQsaXNEZWZpbmVkOmlzRGVmaW5lZCxpc1N0cmluZzppc1N0cmluZyxpc0Z1bmN0aW9uOmlzRnVuY3Rpb24saXNPYmplY3Q6aXNPYmplY3QsaXNOdW1iZXI6aXNOdW1iZXIsaXNFbGVtZW50OmlzRWxlbWVudCxpc0FycmF5OmlzQXJyYXksdmVyc2lvbjp2ZXJzaW9uLGlzRGF0ZTppc0RhdGUsbG93ZXJjYXNlOmxvd2VyY2FzZSx1cHBlcmNhc2U6dXBwZXJjYXNlLGNhbGxiYWNrczp7Y291bnRlcjowfSwkJG1pbkVycjptaW5FcnIsJCRjc3A6Y3NwfSksYW5ndWxhck1vZHVsZT1zZXR1cE1vZHVsZUxvYWRlcih3aW5kb3cpO3RyeXthbmd1bGFyTW9kdWxlKCJuZ0xvY2FsZSIpfWNhdGNoKGUpe2FuZ3VsYXJNb2R1bGUoIm5nTG9jYWxlIixbXSkucHJvdmlkZXIoIiRsb2NhbGUiLCRMb2NhbGVQcm92aWRlcil9YW5ndWxhck1vZHVsZSgibmciLFsibmdMb2NhbGUiXSxbIiRwcm92aWRlIixmdW5jdGlvbigkcHJvdmlkZSl7JHByb3ZpZGUucHJvdmlkZXIoeyQkc2FuaXRpemVVcmk6JCRTYW5pdGl6ZVVyaVByb3ZpZGVyfSksJHByb3ZpZGUucHJvdmlkZXIoIiRjb21waWxlIiwkQ29tcGlsZVByb3ZpZGVyKS5kaXJlY3RpdmUoe2E6aHRtbEFuY2hvckRpcmVjdGl2ZSxpbnB1dDppbnB1dERpcmVjdGl2ZSx0ZXh0YXJlYTppbnB1dERpcmVjdGl2ZSxmb3JtOmZvcm1EaXJlY3RpdmUsc2NyaXB0OnNjcmlwdERpcmVjdGl2ZSxzZWxlY3Q6c2VsZWN0RGlyZWN0aXZlLHN0eWxlOnN0eWxlRGlyZWN0aXZlLG9wdGlvbjpvcHRpb25EaXJlY3RpdmUsbmdCaW5kOm5nQmluZERpcmVjdGl2ZSxuZ0JpbmRIdG1sOm5nQmluZEh0bWxEaXJlY3RpdmUsbmdCaW5kVGVtcGxhdGU6bmdCaW5kVGVtcGxhdGVEaXJlY3RpdmUsbmdDbGFzczpuZ0NsYXNzRGlyZWN0aXZlLG5nQ2xhc3NFdmVuOm5nQ2xhc3NFdmVuRGlyZWN0aXZlLG5nQ2xhc3NPZGQ6bmdDbGFzc09kZERpcmVjdGl2ZSxuZ0Nsb2FrOm5nQ2xvYWtEaXJlY3RpdmUsbmdDb250cm9sbGVyOm5nQ29udHJvbGxlckRpcmVjdGl2ZSxuZ0Zvcm06bmdGb3JtRGlyZWN0aXZlLG5nSGlkZTpuZ0hpZGVEaXJlY3RpdmUsbmdJZjpuZ0lmRGlyZWN0aXZlLG5nSW5jbHVkZTpuZ0luY2x1ZGVEaXJlY3RpdmUsbmdJbml0Om5nSW5pdERpcmVjdGl2ZSxuZ05vbkJpbmRhYmxlOm5nTm9uQmluZGFibGVEaXJlY3RpdmUsbmdQbHVyYWxpemU6bmdQbHVyYWxpemVEaXJlY3RpdmUsbmdSZXBlYXQ6bmdSZXBlYXREaXJlY3RpdmUsbmdTaG93Om5nU2hvd0RpcmVjdGl2ZSxuZ1N0eWxlOm5nU3R5bGVEaXJlY3RpdmUsbmdTd2l0Y2g6bmdTd2l0Y2hEaXJlY3RpdmUsbmdTd2l0Y2hXaGVuOm5nU3dpdGNoV2hlbkRpcmVjdGl2ZSxuZ1N3aXRjaERlZmF1bHQ6bmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlLG5nT3B0aW9uczpuZ09wdGlvbnNEaXJlY3RpdmUsbmdUcmFuc2NsdWRlOm5nVHJhbnNjbHVkZURpcmVjdGl2ZSxuZ01vZGVsOm5nTW9kZWxEaXJlY3RpdmUsbmdMaXN0Om5nTGlzdERpcmVjdGl2ZSxuZ0NoYW5nZTpuZ0NoYW5nZURpcmVjdGl2ZSxyZXF1aXJlZDpyZXF1aXJlZERpcmVjdGl2ZSxuZ1JlcXVpcmVkOnJlcXVpcmVkRGlyZWN0aXZlLG5nVmFsdWU6bmdWYWx1ZURpcmVjdGl2ZX0pLmRpcmVjdGl2ZSh7bmdJbmNsdWRlOm5nSW5jbHVkZUZpbGxDb250ZW50RGlyZWN0aXZlfSkuZGlyZWN0aXZlKG5nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzKS5kaXJlY3RpdmUobmdFdmVudERpcmVjdGl2ZXMpLCRwcm92aWRlLnByb3ZpZGVyKHskYW5jaG9yU2Nyb2xsOiRBbmNob3JTY3JvbGxQcm92aWRlciwkYW5pbWF0ZTokQW5pbWF0ZVByb3ZpZGVyLCRicm93c2VyOiRCcm93c2VyUHJvdmlkZXIsJGNhY2hlRmFjdG9yeTokQ2FjaGVGYWN0b3J5UHJvdmlkZXIsJGNvbnRyb2xsZXI6JENvbnRyb2xsZXJQcm92aWRlciwkZG9jdW1lbnQ6JERvY3VtZW50UHJvdmlkZXIsJGV4Y2VwdGlvbkhhbmRsZXI6JEV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlciwkZmlsdGVyOiRGaWx0ZXJQcm92aWRlciwkaW50ZXJwb2xhdGU6JEludGVycG9sYXRlUHJvdmlkZXIsJGludGVydmFsOiRJbnRlcnZhbFByb3ZpZGVyLCRodHRwOiRIdHRwUHJvdmlkZXIsJGh0dHBCYWNrZW5kOiRIdHRwQmFja2VuZFByb3ZpZGVyLCRsb2NhdGlvbjokTG9jYXRpb25Qcm92aWRlciwkbG9nOiRMb2dQcm92aWRlciwkcGFyc2U6JFBhcnNlUHJvdmlkZXIsJHJvb3RTY29wZTokUm9vdFNjb3BlUHJvdmlkZXIsJHE6JFFQcm92aWRlciwkc2NlOiRTY2VQcm92aWRlciwkc2NlRGVsZWdhdGU6JFNjZURlbGVnYXRlUHJvdmlkZXIsJHNuaWZmZXI6JFNuaWZmZXJQcm92aWRlciwkdGVtcGxhdGVDYWNoZTokVGVtcGxhdGVDYWNoZVByb3ZpZGVyLCR0aW1lb3V0OiRUaW1lb3V0UHJvdmlkZXIsJHdpbmRvdzokV2luZG93UHJvdmlkZXIsJCRyQUY6JCRSQUZQcm92aWRlciwkJGFzeW5jQ2FsbGJhY2s6JCRBc3luY0NhbGxiYWNrUHJvdmlkZXJ9KX1dKX1mdW5jdGlvbiBqcU5leHRJZCgpe3JldHVybisranFJZH1mdW5jdGlvbiBjYW1lbENhc2UobmFtZSl7cmV0dXJuIG5hbWUucmVwbGFjZShTUEVDSUFMX0NIQVJTX1JFR0VYUCxmdW5jdGlvbihfLHNlcGFyYXRvcixsZXR0ZXIsb2Zmc2V0KXtyZXR1cm4gb2Zmc2V0P2xldHRlci50b1VwcGVyQ2FzZSgpOmxldHRlcn0pLnJlcGxhY2UoTU9aX0hBQ0tfUkVHRVhQLCJNb3okMSIpfWZ1bmN0aW9uIGpxTGl0ZVBhdGNoSlF1ZXJ5UmVtb3ZlKG5hbWUsZGlzcGF0Y2hUaGlzLGZpbHRlckVsZW1zLGdldHRlcklmTm9Bcmd1bWVudHMpe2Z1bmN0aW9uIHJlbW92ZVBhdGNoKHBhcmFtKXt2YXIgc2V0LHNldEluZGV4LHNldExlbmd0aCxlbGVtZW50LGNoaWxkSW5kZXgsY2hpbGRMZW5ndGgsY2hpbGRyZW4sbGlzdD1maWx0ZXJFbGVtcyYmcGFyYW0/W3RoaXMuZmlsdGVyKHBhcmFtKV06W3RoaXNdLGZpcmVFdmVudD1kaXNwYXRjaFRoaXM7aWYoIWdldHRlcklmTm9Bcmd1bWVudHN8fG51bGwhPXBhcmFtKWZvcig7bGlzdC5sZW5ndGg7KWZvcihzZXQ9bGlzdC5zaGlmdCgpLHNldEluZGV4PTAsc2V0TGVuZ3RoPXNldC5sZW5ndGg7c2V0TGVuZ3RoPnNldEluZGV4O3NldEluZGV4KyspZm9yKGVsZW1lbnQ9anFMaXRlKHNldFtzZXRJbmRleF0pLGZpcmVFdmVudD9lbGVtZW50LnRyaWdnZXJIYW5kbGVyKCIkZGVzdHJveSIpOmZpcmVFdmVudD0hZmlyZUV2ZW50LGNoaWxkSW5kZXg9MCxjaGlsZExlbmd0aD0oY2hpbGRyZW49ZWxlbWVudC5jaGlsZHJlbigpKS5sZW5ndGg7Y2hpbGRMZW5ndGg+Y2hpbGRJbmRleDtjaGlsZEluZGV4KyspbGlzdC5wdXNoKGpRdWVyeShjaGlsZHJlbltjaGlsZEluZGV4XSkpO3JldHVybiBvcmlnaW5hbEpxRm4uYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBvcmlnaW5hbEpxRm49alF1ZXJ5LmZuW25hbWVdO29yaWdpbmFsSnFGbj1vcmlnaW5hbEpxRm4uJG9yaWdpbmFsfHxvcmlnaW5hbEpxRm4scmVtb3ZlUGF0Y2guJG9yaWdpbmFsPW9yaWdpbmFsSnFGbixqUXVlcnkuZm5bbmFtZV09cmVtb3ZlUGF0Y2h9ZnVuY3Rpb24ganFMaXRlSXNUZXh0Tm9kZShodG1sKXtyZXR1cm4hSFRNTF9SRUdFWFAudGVzdChodG1sKX1mdW5jdGlvbiBqcUxpdGVCdWlsZEZyYWdtZW50KGh0bWwsY29udGV4dCl7dmFyIHRtcCx0YWcsd3JhcCxpLGosamosZnJhZ21lbnQ9Y29udGV4dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbm9kZXM9W107aWYoanFMaXRlSXNUZXh0Tm9kZShodG1sKSlub2Rlcy5wdXNoKGNvbnRleHQuY3JlYXRlVGV4dE5vZGUoaHRtbCkpO2Vsc2V7Zm9yKHRtcD1mcmFnbWVudC5hcHBlbmRDaGlsZChjb250ZXh0LmNyZWF0ZUVsZW1lbnQoImRpdiIpKSx0YWc9KFRBR19OQU1FX1JFR0VYUC5leGVjKGh0bWwpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLHdyYXA9d3JhcE1hcFt0YWddfHx3cmFwTWFwLl9kZWZhdWx0LHRtcC5pbm5lckhUTUw9IjxkaXY+JiMxNjA7PC9kaXY+Iit3cmFwWzFdK2h0bWwucmVwbGFjZShYSFRNTF9UQUdfUkVHRVhQLCI8JDE+PC8kMj4iKSt3cmFwWzJdLHRtcC5yZW1vdmVDaGlsZCh0bXAuZmlyc3RDaGlsZCksaT13cmFwWzBdO2ktLTspdG1wPXRtcC5sYXN0Q2hpbGQ7Zm9yKGo9MCxqaj10bXAuY2hpbGROb2Rlcy5sZW5ndGg7amo+ajsrK2opbm9kZXMucHVzaCh0bXAuY2hpbGROb2Rlc1tqXSk7dG1wPWZyYWdtZW50LmZpcnN0Q2hpbGQsdG1wLnRleHRDb250ZW50PSIifXJldHVybiBmcmFnbWVudC50ZXh0Q29udGVudD0iIixmcmFnbWVudC5pbm5lckhUTUw9IiIsbm9kZXN9ZnVuY3Rpb24ganFMaXRlUGFyc2VIVE1MKGh0bWwsY29udGV4dCl7Y29udGV4dD1jb250ZXh0fHxkb2N1bWVudDt2YXIgcGFyc2VkO3JldHVybihwYXJzZWQ9U0lOR0xFX1RBR19SRUdFWFAuZXhlYyhodG1sKSk/W2NvbnRleHQuY3JlYXRlRWxlbWVudChwYXJzZWRbMV0pXTpqcUxpdGVCdWlsZEZyYWdtZW50KGh0bWwsY29udGV4dCl9ZnVuY3Rpb24gSlFMaXRlKGVsZW1lbnQpe2lmKGVsZW1lbnQgaW5zdGFuY2VvZiBKUUxpdGUpcmV0dXJuIGVsZW1lbnQ7aWYoaXNTdHJpbmcoZWxlbWVudCkmJihlbGVtZW50PXRyaW0oZWxlbWVudCkpLCEodGhpcyBpbnN0YW5jZW9mIEpRTGl0ZSkpe2lmKGlzU3RyaW5nKGVsZW1lbnQpJiYiPCIhPWVsZW1lbnQuY2hhckF0KDApKXRocm93IGpxTGl0ZU1pbkVycigibm9zZWwiLCJMb29raW5nIHVwIGVsZW1lbnRzIHZpYSBzZWxlY3RvcnMgaXMgbm90IHN1cHBvcnRlZCBieSBqcUxpdGUhIFNlZTogaHR0cDovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvYW5ndWxhci5lbGVtZW50Iik7cmV0dXJuIG5ldyBKUUxpdGUoZWxlbWVudCl9aWYoaXNTdHJpbmcoZWxlbWVudCkpe2pxTGl0ZUFkZE5vZGVzKHRoaXMsanFMaXRlUGFyc2VIVE1MKGVsZW1lbnQpKTt2YXIgZnJhZ21lbnQ9anFMaXRlKGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7ZnJhZ21lbnQuYXBwZW5kKHRoaXMpfWVsc2UganFMaXRlQWRkTm9kZXModGhpcyxlbGVtZW50KX1mdW5jdGlvbiBqcUxpdGVDbG9uZShlbGVtZW50KXtyZXR1cm4gZWxlbWVudC5jbG9uZU5vZGUoITApfWZ1bmN0aW9uIGpxTGl0ZURlYWxvYyhlbGVtZW50KXtqcUxpdGVSZW1vdmVEYXRhKGVsZW1lbnQpO2Zvcih2YXIgaT0wLGNoaWxkcmVuPWVsZW1lbnQuY2hpbGROb2Rlc3x8W107aTxjaGlsZHJlbi5sZW5ndGg7aSsrKWpxTGl0ZURlYWxvYyhjaGlsZHJlbltpXSl9ZnVuY3Rpb24ganFMaXRlT2ZmKGVsZW1lbnQsdHlwZSxmbix1bnN1cHBvcnRlZCl7aWYoaXNEZWZpbmVkKHVuc3VwcG9ydGVkKSl0aHJvdyBqcUxpdGVNaW5FcnIoIm9mZmFyZ3MiLCJqcUxpdGUjb2ZmKCkgZG9lcyBub3Qgc3VwcG9ydCB0aGUgYHNlbGVjdG9yYCBhcmd1bWVudCIpO3ZhciBldmVudHM9anFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsImV2ZW50cyIpLGhhbmRsZT1qcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwiaGFuZGxlIik7aGFuZGxlJiYoaXNVbmRlZmluZWQodHlwZSk/Zm9yRWFjaChldmVudHMsZnVuY3Rpb24oZXZlbnRIYW5kbGVyLHR5cGUpe3JlbW92ZUV2ZW50TGlzdGVuZXJGbihlbGVtZW50LHR5cGUsZXZlbnRIYW5kbGVyKSxkZWxldGUgZXZlbnRzW3R5cGVdfSk6Zm9yRWFjaCh0eXBlLnNwbGl0KCIgIiksZnVuY3Rpb24odHlwZSl7aXNVbmRlZmluZWQoZm4pPyhyZW1vdmVFdmVudExpc3RlbmVyRm4oZWxlbWVudCx0eXBlLGV2ZW50c1t0eXBlXSksZGVsZXRlIGV2ZW50c1t0eXBlXSk6YXJyYXlSZW1vdmUoZXZlbnRzW3R5cGVdfHxbXSxmbil9KSl9ZnVuY3Rpb24ganFMaXRlUmVtb3ZlRGF0YShlbGVtZW50LG5hbWUpe3ZhciBleHBhbmRvSWQ9ZWxlbWVudC5uZzMzOSxleHBhbmRvU3RvcmU9anFDYWNoZVtleHBhbmRvSWRdO2lmKGV4cGFuZG9TdG9yZSl7aWYobmFtZSlyZXR1cm4gdm9pZCBkZWxldGUganFDYWNoZVtleHBhbmRvSWRdLmRhdGFbbmFtZV07ZXhwYW5kb1N0b3JlLmhhbmRsZSYmKGV4cGFuZG9TdG9yZS5ldmVudHMuJGRlc3Ryb3kmJmV4cGFuZG9TdG9yZS5oYW5kbGUoe30sIiRkZXN0cm95IiksanFMaXRlT2ZmKGVsZW1lbnQpKSxkZWxldGUganFDYWNoZVtleHBhbmRvSWRdLGVsZW1lbnQubmczMzk9dW5kZWZpbmVkfX1mdW5jdGlvbiBqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCxrZXksdmFsdWUpe3ZhciBleHBhbmRvSWQ9ZWxlbWVudC5uZzMzOSxleHBhbmRvU3RvcmU9anFDYWNoZVtleHBhbmRvSWR8fC0xXTtyZXR1cm4gaXNEZWZpbmVkKHZhbHVlKT8oZXhwYW5kb1N0b3JlfHwoZWxlbWVudC5uZzMzOT1leHBhbmRvSWQ9anFOZXh0SWQoKSxleHBhbmRvU3RvcmU9anFDYWNoZVtleHBhbmRvSWRdPXt9KSx2b2lkKGV4cGFuZG9TdG9yZVtrZXldPXZhbHVlKSk6ZXhwYW5kb1N0b3JlJiZleHBhbmRvU3RvcmVba2V5XX1mdW5jdGlvbiBqcUxpdGVEYXRhKGVsZW1lbnQsa2V5LHZhbHVlKXt2YXIgZGF0YT1qcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwiZGF0YSIpLGlzU2V0dGVyPWlzRGVmaW5lZCh2YWx1ZSksa2V5RGVmaW5lZD0haXNTZXR0ZXImJmlzRGVmaW5lZChrZXkpLGlzU2ltcGxlR2V0dGVyPWtleURlZmluZWQmJiFpc09iamVjdChrZXkpO2lmKGRhdGF8fGlzU2ltcGxlR2V0dGVyfHxqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwiZGF0YSIsZGF0YT17fSksaXNTZXR0ZXIpZGF0YVtrZXldPXZhbHVlO2Vsc2V7aWYoIWtleURlZmluZWQpcmV0dXJuIGRhdGE7aWYoaXNTaW1wbGVHZXR0ZXIpcmV0dXJuIGRhdGEmJmRhdGFba2V5XTtleHRlbmQoZGF0YSxrZXkpfX1mdW5jdGlvbiBqcUxpdGVIYXNDbGFzcyhlbGVtZW50LHNlbGVjdG9yKXtyZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGU/KCIgIisoZWxlbWVudC5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKSsiICIpLnJlcGxhY2UoL1tcblx0XS9nLCIgIikuaW5kZXhPZigiICIrc2VsZWN0b3IrIiAiKT4tMTohMX1mdW5jdGlvbiBqcUxpdGVSZW1vdmVDbGFzcyhlbGVtZW50LGNzc0NsYXNzZXMpe2Nzc0NsYXNzZXMmJmVsZW1lbnQuc2V0QXR0cmlidXRlJiZmb3JFYWNoKGNzc0NsYXNzZXMuc3BsaXQoIiAiKSxmdW5jdGlvbihjc3NDbGFzcyl7ZWxlbWVudC5zZXRBdHRyaWJ1dGUoImNsYXNzIix0cmltKCgiICIrKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIikrIiAiKS5yZXBsYWNlKC9bXG5cdF0vZywiICIpLnJlcGxhY2UoIiAiK3RyaW0oY3NzQ2xhc3MpKyIgIiwiICIpKSl9KX1mdW5jdGlvbiBqcUxpdGVBZGRDbGFzcyhlbGVtZW50LGNzc0NsYXNzZXMpe2lmKGNzc0NsYXNzZXMmJmVsZW1lbnQuc2V0QXR0cmlidXRlKXt2YXIgZXhpc3RpbmdDbGFzc2VzPSgiICIrKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIikrIiAiKS5yZXBsYWNlKC9bXG5cdF0vZywiICIpO2ZvckVhY2goY3NzQ2xhc3Nlcy5zcGxpdCgiICIpLGZ1bmN0aW9uKGNzc0NsYXNzKXtjc3NDbGFzcz10cmltKGNzc0NsYXNzKSwtMT09PWV4aXN0aW5nQ2xhc3Nlcy5pbmRleE9mKCIgIitjc3NDbGFzcysiICIpJiYoZXhpc3RpbmdDbGFzc2VzKz1jc3NDbGFzcysiICIpfSksZWxlbWVudC5zZXRBdHRyaWJ1dGUoImNsYXNzIix0cmltKGV4aXN0aW5nQ2xhc3NlcykpfX1mdW5jdGlvbiBqcUxpdGVBZGROb2Rlcyhyb290LGVsZW1lbnRzKXtpZihlbGVtZW50cyl7ZWxlbWVudHM9ZWxlbWVudHMubm9kZU5hbWV8fCFpc0RlZmluZWQoZWxlbWVudHMubGVuZ3RoKXx8aXNXaW5kb3coZWxlbWVudHMpP1tlbGVtZW50c106ZWxlbWVudHM7Zm9yKHZhciBpPTA7aTxlbGVtZW50cy5sZW5ndGg7aSsrKXJvb3QucHVzaChlbGVtZW50c1tpXSl9fWZ1bmN0aW9uIGpxTGl0ZUNvbnRyb2xsZXIoZWxlbWVudCxuYW1lKXtyZXR1cm4ganFMaXRlSW5oZXJpdGVkRGF0YShlbGVtZW50LCIkIisobmFtZXx8Im5nQ29udHJvbGxlciIpKyJDb250cm9sbGVyIil9ZnVuY3Rpb24ganFMaXRlSW5oZXJpdGVkRGF0YShlbGVtZW50LG5hbWUsdmFsdWUpezk9PWVsZW1lbnQubm9kZVR5cGUmJihlbGVtZW50PWVsZW1lbnQuZG9jdW1lbnRFbGVtZW50KTtmb3IodmFyIG5hbWVzPWlzQXJyYXkobmFtZSk/bmFtZTpbbmFtZV07ZWxlbWVudDspe2Zvcih2YXIgaT0wLGlpPW5hbWVzLmxlbmd0aDtpaT5pO2krKylpZigodmFsdWU9anFMaXRlLmRhdGEoZWxlbWVudCxuYW1lc1tpXSkpIT09dW5kZWZpbmVkKXJldHVybiB2YWx1ZTtlbGVtZW50PWVsZW1lbnQucGFyZW50Tm9kZXx8MTE9PT1lbGVtZW50Lm5vZGVUeXBlJiZlbGVtZW50Lmhvc3R9fWZ1bmN0aW9uIGpxTGl0ZUVtcHR5KGVsZW1lbnQpe2Zvcih2YXIgaT0wLGNoaWxkTm9kZXM9ZWxlbWVudC5jaGlsZE5vZGVzO2k8Y2hpbGROb2Rlcy5sZW5ndGg7aSsrKWpxTGl0ZURlYWxvYyhjaGlsZE5vZGVzW2ldKTtmb3IoO2VsZW1lbnQuZmlyc3RDaGlsZDspZWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50LmZpcnN0Q2hpbGQpfWZ1bmN0aW9uIGdldEJvb2xlYW5BdHRyTmFtZShlbGVtZW50LG5hbWUpe3ZhciBib29sZWFuQXR0cj1CT09MRUFOX0FUVFJbbmFtZS50b0xvd2VyQ2FzZSgpXTtyZXR1cm4gYm9vbGVhbkF0dHImJkJPT0xFQU5fRUxFTUVOVFNbZWxlbWVudC5ub2RlTmFtZV0mJmJvb2xlYW5BdHRyfWZ1bmN0aW9uIGNyZWF0ZUV2ZW50SGFuZGxlcihlbGVtZW50LGV2ZW50cyl7dmFyIGV2ZW50SGFuZGxlcj1mdW5jdGlvbihldmVudCx0eXBlKXtpZihldmVudC5wcmV2ZW50RGVmYXVsdHx8KGV2ZW50LnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7ZXZlbnQucmV0dXJuVmFsdWU9ITF9KSxldmVudC5zdG9wUHJvcGFnYXRpb258fChldmVudC5zdG9wUHJvcGFnYXRpb249ZnVuY3Rpb24oKXtldmVudC5jYW5jZWxCdWJibGU9ITB9KSxldmVudC50YXJnZXR8fChldmVudC50YXJnZXQ9ZXZlbnQuc3JjRWxlbWVudHx8ZG9jdW1lbnQpLGlzVW5kZWZpbmVkKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpKXt2YXIgcHJldmVudD1ldmVudC5wcmV2ZW50RGVmYXVsdDtldmVudC5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe2V2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ9ITAscHJldmVudC5jYWxsKGV2ZW50KX0sZXZlbnQuZGVmYXVsdFByZXZlbnRlZD0hMX1ldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZXZlbnQuZGVmYXVsdFByZXZlbnRlZHx8ZXZlbnQucmV0dXJuVmFsdWU9PT0hMX07dmFyIGV2ZW50SGFuZGxlcnNDb3B5PXNoYWxsb3dDb3B5KGV2ZW50c1t0eXBlfHxldmVudC50eXBlXXx8W10pO2ZvckVhY2goZXZlbnRIYW5kbGVyc0NvcHksZnVuY3Rpb24oZm4pe2ZuLmNhbGwoZWxlbWVudCxldmVudCl9KSw4Pj1tc2llPyhldmVudC5wcmV2ZW50RGVmYXVsdD1udWxsLGV2ZW50LnN0b3BQcm9wYWdhdGlvbj1udWxsLGV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZD1udWxsKTooZGVsZXRlIGV2ZW50LnByZXZlbnREZWZhdWx0LGRlbGV0ZSBldmVudC5zdG9wUHJvcGFnYXRpb24sZGVsZXRlIGV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCl9O3JldHVybiBldmVudEhhbmRsZXIuZWxlbT1lbGVtZW50LGV2ZW50SGFuZGxlcn1mdW5jdGlvbiBoYXNoS2V5KG9iaixuZXh0VWlkRm4pe3ZhciBrZXksb2JqVHlwZT10eXBlb2Ygb2JqO3JldHVybiJmdW5jdGlvbiI9PW9ialR5cGV8fCJvYmplY3QiPT1vYmpUeXBlJiZudWxsIT09b2JqPyJmdW5jdGlvbiI9PXR5cGVvZihrZXk9b2JqLiQkaGFzaEtleSk/a2V5PW9iai4kJGhhc2hLZXkoKTprZXk9PT11bmRlZmluZWQmJihrZXk9b2JqLiQkaGFzaEtleT0obmV4dFVpZEZufHxuZXh0VWlkKSgpKTprZXk9b2JqLG9ialR5cGUrIjoiK2tleX1mdW5jdGlvbiBIYXNoTWFwKGFycmF5LGlzb2xhdGVkVWlkKXtpZihpc29sYXRlZFVpZCl7dmFyIHVpZD0wO3RoaXMubmV4dFVpZD1mdW5jdGlvbigpe3JldHVybisrdWlkfX1mb3JFYWNoKGFycmF5LHRoaXMucHV0LHRoaXMpfWZ1bmN0aW9uIGFubm90YXRlKGZuKXt2YXIgJGluamVjdCxmblRleHQsYXJnRGVjbCxsYXN0O3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBmbj8oJGluamVjdD1mbi4kaW5qZWN0KXx8KCRpbmplY3Q9W10sZm4ubGVuZ3RoJiYoZm5UZXh0PWZuLnRvU3RyaW5nKCkucmVwbGFjZShTVFJJUF9DT01NRU5UUywiIiksYXJnRGVjbD1mblRleHQubWF0Y2goRk5fQVJHUyksZm9yRWFjaChhcmdEZWNsWzFdLnNwbGl0KEZOX0FSR19TUExJVCksZnVuY3Rpb24oYXJnKXthcmcucmVwbGFjZShGTl9BUkcsZnVuY3Rpb24oYWxsLHVuZGVyc2NvcmUsbmFtZSl7JGluamVjdC5wdXNoKG5hbWUpfSl9KSksZm4uJGluamVjdD0kaW5qZWN0KTppc0FycmF5KGZuKT8obGFzdD1mbi5sZW5ndGgtMSxhc3NlcnRBcmdGbihmbltsYXN0XSwiZm4iKSwkaW5qZWN0PWZuLnNsaWNlKDAsbGFzdCkpOmFzc2VydEFyZ0ZuKGZuLCJmbiIsITApLCRpbmplY3R9ZnVuY3Rpb24gY3JlYXRlSW5qZWN0b3IobW9kdWxlc1RvTG9hZCl7ZnVuY3Rpb24gc3VwcG9ydE9iamVjdChkZWxlZ2F0ZSl7cmV0dXJuIGZ1bmN0aW9uKGtleSx2YWx1ZSl7cmV0dXJuIGlzT2JqZWN0KGtleSk/dm9pZCBmb3JFYWNoKGtleSxyZXZlcnNlUGFyYW1zKGRlbGVnYXRlKSk6ZGVsZWdhdGUoa2V5LHZhbHVlKX19ZnVuY3Rpb24gcHJvdmlkZXIobmFtZSxwcm92aWRlcl8pe2lmKGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsInNlcnZpY2UiKSwoaXNGdW5jdGlvbihwcm92aWRlcl8pfHxpc0FycmF5KHByb3ZpZGVyXykpJiYocHJvdmlkZXJfPXByb3ZpZGVySW5qZWN0b3IuaW5zdGFudGlhdGUocHJvdmlkZXJfKSksIXByb3ZpZGVyXy4kZ2V0KXRocm93ICRpbmplY3Rvck1pbkVycigicGdldCIsIlByb3ZpZGVyICd7MH0nIG11c3QgZGVmaW5lICRnZXQgZmFjdG9yeSBtZXRob2QuIixuYW1lKTsKcmV0dXJuIHByb3ZpZGVyQ2FjaGVbbmFtZStwcm92aWRlclN1ZmZpeF09cHJvdmlkZXJffWZ1bmN0aW9uIGZhY3RvcnkobmFtZSxmYWN0b3J5Rm4pe3JldHVybiBwcm92aWRlcihuYW1lLHskZ2V0OmZhY3RvcnlGbn0pfWZ1bmN0aW9uIHNlcnZpY2UobmFtZSxjb25zdHJ1Y3Rvcil7cmV0dXJuIGZhY3RvcnkobmFtZSxbIiRpbmplY3RvciIsZnVuY3Rpb24oJGluamVjdG9yKXtyZXR1cm4gJGluamVjdG9yLmluc3RhbnRpYXRlKGNvbnN0cnVjdG9yKX1dKX1mdW5jdGlvbiB2YWx1ZShuYW1lLHZhbCl7cmV0dXJuIGZhY3RvcnkobmFtZSx2YWx1ZUZuKHZhbCkpfWZ1bmN0aW9uIGNvbnN0YW50KG5hbWUsdmFsdWUpe2Fzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsImNvbnN0YW50IikscHJvdmlkZXJDYWNoZVtuYW1lXT12YWx1ZSxpbnN0YW5jZUNhY2hlW25hbWVdPXZhbHVlfWZ1bmN0aW9uIGRlY29yYXRvcihzZXJ2aWNlTmFtZSxkZWNvckZuKXt2YXIgb3JpZ1Byb3ZpZGVyPXByb3ZpZGVySW5qZWN0b3IuZ2V0KHNlcnZpY2VOYW1lK3Byb3ZpZGVyU3VmZml4KSxvcmlnJGdldD1vcmlnUHJvdmlkZXIuJGdldDtvcmlnUHJvdmlkZXIuJGdldD1mdW5jdGlvbigpe3ZhciBvcmlnSW5zdGFuY2U9aW5zdGFuY2VJbmplY3Rvci5pbnZva2Uob3JpZyRnZXQsb3JpZ1Byb3ZpZGVyKTtyZXR1cm4gaW5zdGFuY2VJbmplY3Rvci5pbnZva2UoZGVjb3JGbixudWxsLHskZGVsZWdhdGU6b3JpZ0luc3RhbmNlfSl9fWZ1bmN0aW9uIGxvYWRNb2R1bGVzKG1vZHVsZXNUb0xvYWQpe3ZhciBtb2R1bGVGbixpbnZva2VRdWV1ZSxpLGlpLHJ1bkJsb2Nrcz1bXTtyZXR1cm4gZm9yRWFjaChtb2R1bGVzVG9Mb2FkLGZ1bmN0aW9uKG1vZHVsZSl7aWYoIWxvYWRlZE1vZHVsZXMuZ2V0KG1vZHVsZSkpe2xvYWRlZE1vZHVsZXMucHV0KG1vZHVsZSwhMCk7dHJ5e2lmKGlzU3RyaW5nKG1vZHVsZSkpZm9yKG1vZHVsZUZuPWFuZ3VsYXJNb2R1bGUobW9kdWxlKSxydW5CbG9ja3M9cnVuQmxvY2tzLmNvbmNhdChsb2FkTW9kdWxlcyhtb2R1bGVGbi5yZXF1aXJlcykpLmNvbmNhdChtb2R1bGVGbi5fcnVuQmxvY2tzKSxpbnZva2VRdWV1ZT1tb2R1bGVGbi5faW52b2tlUXVldWUsaT0wLGlpPWludm9rZVF1ZXVlLmxlbmd0aDtpaT5pO2krKyl7dmFyIGludm9rZUFyZ3M9aW52b2tlUXVldWVbaV0scHJvdmlkZXI9cHJvdmlkZXJJbmplY3Rvci5nZXQoaW52b2tlQXJnc1swXSk7cHJvdmlkZXJbaW52b2tlQXJnc1sxXV0uYXBwbHkocHJvdmlkZXIsaW52b2tlQXJnc1syXSl9ZWxzZSBpc0Z1bmN0aW9uKG1vZHVsZSk/cnVuQmxvY2tzLnB1c2gocHJvdmlkZXJJbmplY3Rvci5pbnZva2UobW9kdWxlKSk6aXNBcnJheShtb2R1bGUpP3J1bkJsb2Nrcy5wdXNoKHByb3ZpZGVySW5qZWN0b3IuaW52b2tlKG1vZHVsZSkpOmFzc2VydEFyZ0ZuKG1vZHVsZSwibW9kdWxlIil9Y2F0Y2goZSl7dGhyb3cgaXNBcnJheShtb2R1bGUpJiYobW9kdWxlPW1vZHVsZVttb2R1bGUubGVuZ3RoLTFdKSxlLm1lc3NhZ2UmJmUuc3RhY2smJi0xPT1lLnN0YWNrLmluZGV4T2YoZS5tZXNzYWdlKSYmKGU9ZS5tZXNzYWdlKyJcbiIrZS5zdGFjayksJGluamVjdG9yTWluRXJyKCJtb2R1bGVyciIsIkZhaWxlZCB0byBpbnN0YW50aWF0ZSBtb2R1bGUgezB9IGR1ZSB0bzpcbnsxfSIsbW9kdWxlLGUuc3RhY2t8fGUubWVzc2FnZXx8ZSl9fX0pLHJ1bkJsb2Nrc31mdW5jdGlvbiBjcmVhdGVJbnRlcm5hbEluamVjdG9yKGNhY2hlLGZhY3Rvcnkpe2Z1bmN0aW9uIGdldFNlcnZpY2Uoc2VydmljZU5hbWUpe2lmKGNhY2hlLmhhc093blByb3BlcnR5KHNlcnZpY2VOYW1lKSl7aWYoY2FjaGVbc2VydmljZU5hbWVdPT09SU5TVEFOVElBVElORyl0aHJvdyAkaW5qZWN0b3JNaW5FcnIoImNkZXAiLCJDaXJjdWxhciBkZXBlbmRlbmN5IGZvdW5kOiB7MH0iLHNlcnZpY2VOYW1lKyIgPC0gIitwYXRoLmpvaW4oIiA8LSAiKSk7cmV0dXJuIGNhY2hlW3NlcnZpY2VOYW1lXX10cnl7cmV0dXJuIHBhdGgudW5zaGlmdChzZXJ2aWNlTmFtZSksY2FjaGVbc2VydmljZU5hbWVdPUlOU1RBTlRJQVRJTkcsY2FjaGVbc2VydmljZU5hbWVdPWZhY3Rvcnkoc2VydmljZU5hbWUpfWNhdGNoKGVycil7dGhyb3cgY2FjaGVbc2VydmljZU5hbWVdPT09SU5TVEFOVElBVElORyYmZGVsZXRlIGNhY2hlW3NlcnZpY2VOYW1lXSxlcnJ9ZmluYWxseXtwYXRoLnNoaWZ0KCl9fWZ1bmN0aW9uIGludm9rZShmbixzZWxmLGxvY2Fscyl7dmFyIGxlbmd0aCxpLGtleSxhcmdzPVtdLCRpbmplY3Q9YW5ub3RhdGUoZm4pO2ZvcihpPTAsbGVuZ3RoPSRpbmplY3QubGVuZ3RoO2xlbmd0aD5pO2krKyl7aWYoa2V5PSRpbmplY3RbaV0sInN0cmluZyIhPXR5cGVvZiBrZXkpdGhyb3cgJGluamVjdG9yTWluRXJyKCJpdGtuIiwiSW5jb3JyZWN0IGluamVjdGlvbiB0b2tlbiEgRXhwZWN0ZWQgc2VydmljZSBuYW1lIGFzIHN0cmluZywgZ290IHswfSIsa2V5KTthcmdzLnB1c2gobG9jYWxzJiZsb2NhbHMuaGFzT3duUHJvcGVydHkoa2V5KT9sb2NhbHNba2V5XTpnZXRTZXJ2aWNlKGtleSkpfXJldHVybiBpc0FycmF5KGZuKSYmKGZuPWZuW2xlbmd0aF0pLGZuLmFwcGx5KHNlbGYsYXJncyl9ZnVuY3Rpb24gaW5zdGFudGlhdGUoVHlwZSxsb2NhbHMpe3ZhciBpbnN0YW5jZSxyZXR1cm5lZFZhbHVlLENvbnN0cnVjdG9yPWZ1bmN0aW9uKCl7fTtyZXR1cm4gQ29uc3RydWN0b3IucHJvdG90eXBlPShpc0FycmF5KFR5cGUpP1R5cGVbVHlwZS5sZW5ndGgtMV06VHlwZSkucHJvdG90eXBlLGluc3RhbmNlPW5ldyBDb25zdHJ1Y3RvcixyZXR1cm5lZFZhbHVlPWludm9rZShUeXBlLGluc3RhbmNlLGxvY2FscyksaXNPYmplY3QocmV0dXJuZWRWYWx1ZSl8fGlzRnVuY3Rpb24ocmV0dXJuZWRWYWx1ZSk/cmV0dXJuZWRWYWx1ZTppbnN0YW5jZX1yZXR1cm57aW52b2tlOmludm9rZSxpbnN0YW50aWF0ZTppbnN0YW50aWF0ZSxnZXQ6Z2V0U2VydmljZSxhbm5vdGF0ZTphbm5vdGF0ZSxoYXM6ZnVuY3Rpb24obmFtZSl7cmV0dXJuIHByb3ZpZGVyQ2FjaGUuaGFzT3duUHJvcGVydHkobmFtZStwcm92aWRlclN1ZmZpeCl8fGNhY2hlLmhhc093blByb3BlcnR5KG5hbWUpfX19dmFyIElOU1RBTlRJQVRJTkc9e30scHJvdmlkZXJTdWZmaXg9IlByb3ZpZGVyIixwYXRoPVtdLGxvYWRlZE1vZHVsZXM9bmV3IEhhc2hNYXAoW10sITApLHByb3ZpZGVyQ2FjaGU9eyRwcm92aWRlOntwcm92aWRlcjpzdXBwb3J0T2JqZWN0KHByb3ZpZGVyKSxmYWN0b3J5OnN1cHBvcnRPYmplY3QoZmFjdG9yeSksc2VydmljZTpzdXBwb3J0T2JqZWN0KHNlcnZpY2UpLHZhbHVlOnN1cHBvcnRPYmplY3QodmFsdWUpLGNvbnN0YW50OnN1cHBvcnRPYmplY3QoY29uc3RhbnQpLGRlY29yYXRvcjpkZWNvcmF0b3J9fSxwcm92aWRlckluamVjdG9yPXByb3ZpZGVyQ2FjaGUuJGluamVjdG9yPWNyZWF0ZUludGVybmFsSW5qZWN0b3IocHJvdmlkZXJDYWNoZSxmdW5jdGlvbigpe3Rocm93ICRpbmplY3Rvck1pbkVycigidW5wciIsIlVua25vd24gcHJvdmlkZXI6IHswfSIscGF0aC5qb2luKCIgPC0gIikpfSksaW5zdGFuY2VDYWNoZT17fSxpbnN0YW5jZUluamVjdG9yPWluc3RhbmNlQ2FjaGUuJGluamVjdG9yPWNyZWF0ZUludGVybmFsSW5qZWN0b3IoaW5zdGFuY2VDYWNoZSxmdW5jdGlvbihzZXJ2aWNlbmFtZSl7dmFyIHByb3ZpZGVyPXByb3ZpZGVySW5qZWN0b3IuZ2V0KHNlcnZpY2VuYW1lK3Byb3ZpZGVyU3VmZml4KTtyZXR1cm4gaW5zdGFuY2VJbmplY3Rvci5pbnZva2UocHJvdmlkZXIuJGdldCxwcm92aWRlcil9KTtyZXR1cm4gZm9yRWFjaChsb2FkTW9kdWxlcyhtb2R1bGVzVG9Mb2FkKSxmdW5jdGlvbihmbil7aW5zdGFuY2VJbmplY3Rvci5pbnZva2UoZm58fG5vb3ApfSksaW5zdGFuY2VJbmplY3Rvcn1mdW5jdGlvbiAkQW5jaG9yU2Nyb2xsUHJvdmlkZXIoKXt2YXIgYXV0b1Njcm9sbGluZ0VuYWJsZWQ9ITA7dGhpcy5kaXNhYmxlQXV0b1Njcm9sbGluZz1mdW5jdGlvbigpe2F1dG9TY3JvbGxpbmdFbmFibGVkPSExfSx0aGlzLiRnZXQ9WyIkd2luZG93IiwiJGxvY2F0aW9uIiwiJHJvb3RTY29wZSIsZnVuY3Rpb24oJHdpbmRvdywkbG9jYXRpb24sJHJvb3RTY29wZSl7ZnVuY3Rpb24gZ2V0Rmlyc3RBbmNob3IobGlzdCl7dmFyIHJlc3VsdD1udWxsO3JldHVybiBmb3JFYWNoKGxpc3QsZnVuY3Rpb24oZWxlbWVudCl7cmVzdWx0fHwiYSIhPT1sb3dlcmNhc2UoZWxlbWVudC5ub2RlTmFtZSl8fChyZXN1bHQ9ZWxlbWVudCl9KSxyZXN1bHR9ZnVuY3Rpb24gc2Nyb2xsKCl7dmFyIGVsbSxoYXNoPSRsb2NhdGlvbi5oYXNoKCk7aGFzaD8oZWxtPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhhc2gpKT9lbG0uc2Nyb2xsSW50b1ZpZXcoKTooZWxtPWdldEZpcnN0QW5jaG9yKGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKGhhc2gpKSk/ZWxtLnNjcm9sbEludG9WaWV3KCk6InRvcCI9PT1oYXNoJiYkd2luZG93LnNjcm9sbFRvKDAsMCk6JHdpbmRvdy5zY3JvbGxUbygwLDApfXZhciBkb2N1bWVudD0kd2luZG93LmRvY3VtZW50O3JldHVybiBhdXRvU2Nyb2xsaW5nRW5hYmxlZCYmJHJvb3RTY29wZS4kd2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4gJGxvY2F0aW9uLmhhc2goKX0sZnVuY3Rpb24oKXskcm9vdFNjb3BlLiRldmFsQXN5bmMoc2Nyb2xsKX0pLHNjcm9sbH1dfWZ1bmN0aW9uICQkQXN5bmNDYWxsYmFja1Byb3ZpZGVyKCl7dGhpcy4kZ2V0PVsiJCRyQUYiLCIkdGltZW91dCIsZnVuY3Rpb24oJCRyQUYsJHRpbWVvdXQpe3JldHVybiAkJHJBRi5zdXBwb3J0ZWQ/ZnVuY3Rpb24oZm4pe3JldHVybiAkJHJBRihmbil9OmZ1bmN0aW9uKGZuKXtyZXR1cm4gJHRpbWVvdXQoZm4sMCwhMSl9fV19ZnVuY3Rpb24gQnJvd3Nlcih3aW5kb3csZG9jdW1lbnQsJGxvZywkc25pZmZlcil7ZnVuY3Rpb24gY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QoZm4pe3RyeXtmbi5hcHBseShudWxsLHNsaWNlQXJncyhhcmd1bWVudHMsMSkpfWZpbmFsbHl7aWYob3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQtLSwwPT09b3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQpZm9yKDtvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MubGVuZ3RoOyl0cnl7b3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzLnBvcCgpKCl9Y2F0Y2goZSl7JGxvZy5lcnJvcihlKX19fWZ1bmN0aW9uIHN0YXJ0UG9sbGVyKGludGVydmFsLHNldFRpbWVvdXQpeyFmdW5jdGlvbiBjaGVjaygpe2ZvckVhY2gocG9sbEZucyxmdW5jdGlvbihwb2xsRm4pe3BvbGxGbigpfSkscG9sbFRpbWVvdXQ9c2V0VGltZW91dChjaGVjayxpbnRlcnZhbCl9KCl9ZnVuY3Rpb24gZmlyZVVybENoYW5nZSgpe25ld0xvY2F0aW9uPW51bGwsbGFzdEJyb3dzZXJVcmwhPXNlbGYudXJsKCkmJihsYXN0QnJvd3NlclVybD1zZWxmLnVybCgpLGZvckVhY2godXJsQ2hhbmdlTGlzdGVuZXJzLGZ1bmN0aW9uKGxpc3RlbmVyKXtsaXN0ZW5lcihzZWxmLnVybCgpKX0pKX12YXIgc2VsZj10aGlzLHJhd0RvY3VtZW50PWRvY3VtZW50WzBdLGxvY2F0aW9uPXdpbmRvdy5sb2NhdGlvbixoaXN0b3J5PXdpbmRvdy5oaXN0b3J5LHNldFRpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQsY2xlYXJUaW1lb3V0PXdpbmRvdy5jbGVhclRpbWVvdXQscGVuZGluZ0RlZmVySWRzPXt9O3NlbGYuaXNNb2NrPSExO3ZhciBvdXRzdGFuZGluZ1JlcXVlc3RDb3VudD0wLG91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcz1bXTtzZWxmLiQkY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3Q9Y29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3Qsc2VsZi4kJGluY091dHN0YW5kaW5nUmVxdWVzdENvdW50PWZ1bmN0aW9uKCl7b3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQrK30sc2VsZi5ub3RpZnlXaGVuTm9PdXRzdGFuZGluZ1JlcXVlc3RzPWZ1bmN0aW9uKGNhbGxiYWNrKXtmb3JFYWNoKHBvbGxGbnMsZnVuY3Rpb24ocG9sbEZuKXtwb2xsRm4oKX0pLDA9PT1vdXRzdGFuZGluZ1JlcXVlc3RDb3VudD9jYWxsYmFjaygpOm91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKX07dmFyIHBvbGxUaW1lb3V0LHBvbGxGbnM9W107c2VsZi5hZGRQb2xsRm49ZnVuY3Rpb24oZm4pe3JldHVybiBpc1VuZGVmaW5lZChwb2xsVGltZW91dCkmJnN0YXJ0UG9sbGVyKDEwMCxzZXRUaW1lb3V0KSxwb2xsRm5zLnB1c2goZm4pLGZufTt2YXIgbGFzdEJyb3dzZXJVcmw9bG9jYXRpb24uaHJlZixiYXNlRWxlbWVudD1kb2N1bWVudC5maW5kKCJiYXNlIiksbmV3TG9jYXRpb249bnVsbDtzZWxmLnVybD1mdW5jdGlvbih1cmwscmVwbGFjZSl7aWYobG9jYXRpb24hPT13aW5kb3cubG9jYXRpb24mJihsb2NhdGlvbj13aW5kb3cubG9jYXRpb24pLGhpc3RvcnkhPT13aW5kb3cuaGlzdG9yeSYmKGhpc3Rvcnk9d2luZG93Lmhpc3RvcnkpLHVybCl7aWYobGFzdEJyb3dzZXJVcmw9PXVybClyZXR1cm47cmV0dXJuIGxhc3RCcm93c2VyVXJsPXVybCwkc25pZmZlci5oaXN0b3J5P3JlcGxhY2U/aGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwiIix1cmwpOihoaXN0b3J5LnB1c2hTdGF0ZShudWxsLCIiLHVybCksYmFzZUVsZW1lbnQuYXR0cigiaHJlZiIsYmFzZUVsZW1lbnQuYXR0cigiaHJlZiIpKSk6KG5ld0xvY2F0aW9uPXVybCxyZXBsYWNlP2xvY2F0aW9uLnJlcGxhY2UodXJsKTpsb2NhdGlvbi5ocmVmPXVybCksc2VsZn1yZXR1cm4gbmV3TG9jYXRpb258fGxvY2F0aW9uLmhyZWYucmVwbGFjZSgvJTI3L2csIiciKX07dmFyIHVybENoYW5nZUxpc3RlbmVycz1bXSx1cmxDaGFuZ2VJbml0PSExO3NlbGYub25VcmxDaGFuZ2U9ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB1cmxDaGFuZ2VJbml0fHwoJHNuaWZmZXIuaGlzdG9yeSYmanFMaXRlKHdpbmRvdykub24oInBvcHN0YXRlIixmaXJlVXJsQ2hhbmdlKSwkc25pZmZlci5oYXNoY2hhbmdlP2pxTGl0ZSh3aW5kb3cpLm9uKCJoYXNoY2hhbmdlIixmaXJlVXJsQ2hhbmdlKTpzZWxmLmFkZFBvbGxGbihmaXJlVXJsQ2hhbmdlKSx1cmxDaGFuZ2VJbml0PSEwKSx1cmxDaGFuZ2VMaXN0ZW5lcnMucHVzaChjYWxsYmFjayksY2FsbGJhY2t9LHNlbGYuJCRjaGVja1VybENoYW5nZT1maXJlVXJsQ2hhbmdlLHNlbGYuYmFzZUhyZWY9ZnVuY3Rpb24oKXt2YXIgaHJlZj1iYXNlRWxlbWVudC5hdHRyKCJocmVmIik7cmV0dXJuIGhyZWY/aHJlZi5yZXBsYWNlKC9eKGh0dHBzP1w6KT9cL1wvW15cL10qLywiIik6IiJ9O3ZhciBsYXN0Q29va2llcz17fSxsYXN0Q29va2llU3RyaW5nPSIiLGNvb2tpZVBhdGg9c2VsZi5iYXNlSHJlZigpO3NlbGYuY29va2llcz1mdW5jdGlvbihuYW1lLHZhbHVlKXt2YXIgY29va2llTGVuZ3RoLGNvb2tpZUFycmF5LGNvb2tpZSxpLGluZGV4O2lmKCFuYW1lKXtpZihyYXdEb2N1bWVudC5jb29raWUhPT1sYXN0Q29va2llU3RyaW5nKWZvcihsYXN0Q29va2llU3RyaW5nPXJhd0RvY3VtZW50LmNvb2tpZSxjb29raWVBcnJheT1sYXN0Q29va2llU3RyaW5nLnNwbGl0KCI7ICIpLGxhc3RDb29raWVzPXt9LGk9MDtpPGNvb2tpZUFycmF5Lmxlbmd0aDtpKyspY29va2llPWNvb2tpZUFycmF5W2ldLGluZGV4PWNvb2tpZS5pbmRleE9mKCI9IiksaW5kZXg+MCYmKG5hbWU9dW5lc2NhcGUoY29va2llLnN1YnN0cmluZygwLGluZGV4KSksbGFzdENvb2tpZXNbbmFtZV09PT11bmRlZmluZWQmJihsYXN0Q29va2llc1tuYW1lXT11bmVzY2FwZShjb29raWUuc3Vic3RyaW5nKGluZGV4KzEpKSkpO3JldHVybiBsYXN0Q29va2llc312YWx1ZT09PXVuZGVmaW5lZD9yYXdEb2N1bWVudC5jb29raWU9ZXNjYXBlKG5hbWUpKyI9O3BhdGg9Iitjb29raWVQYXRoKyI7ZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIEdNVCI6aXNTdHJpbmcodmFsdWUpJiYoY29va2llTGVuZ3RoPShyYXdEb2N1bWVudC5jb29raWU9ZXNjYXBlKG5hbWUpKyI9Iitlc2NhcGUodmFsdWUpKyI7cGF0aD0iK2Nvb2tpZVBhdGgpLmxlbmd0aCsxLGNvb2tpZUxlbmd0aD40MDk2JiYkbG9nLndhcm4oIkNvb2tpZSAnIituYW1lKyInIHBvc3NpYmx5IG5vdCBzZXQgb3Igb3ZlcmZsb3dlZCBiZWNhdXNlIGl0IHdhcyB0b28gbGFyZ2UgKCIrY29va2llTGVuZ3RoKyIgPiA0MDk2IGJ5dGVzKSEiKSl9LHNlbGYuZGVmZXI9ZnVuY3Rpb24oZm4sZGVsYXkpe3ZhciB0aW1lb3V0SWQ7cmV0dXJuIG91dHN0YW5kaW5nUmVxdWVzdENvdW50KyssdGltZW91dElkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtkZWxldGUgcGVuZGluZ0RlZmVySWRzW3RpbWVvdXRJZF0sY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QoZm4pfSxkZWxheXx8MCkscGVuZGluZ0RlZmVySWRzW3RpbWVvdXRJZF09ITAsdGltZW91dElkfSxzZWxmLmRlZmVyLmNhbmNlbD1mdW5jdGlvbihkZWZlcklkKXtyZXR1cm4gcGVuZGluZ0RlZmVySWRzW2RlZmVySWRdPyhkZWxldGUgcGVuZGluZ0RlZmVySWRzW2RlZmVySWRdLGNsZWFyVGltZW91dChkZWZlcklkKSxjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdChub29wKSwhMCk6ITF9fWZ1bmN0aW9uICRCcm93c2VyUHJvdmlkZXIoKXt0aGlzLiRnZXQ9WyIkd2luZG93IiwiJGxvZyIsIiRzbmlmZmVyIiwiJGRvY3VtZW50IixmdW5jdGlvbigkd2luZG93LCRsb2csJHNuaWZmZXIsJGRvY3VtZW50KXtyZXR1cm4gbmV3IEJyb3dzZXIoJHdpbmRvdywkZG9jdW1lbnQsJGxvZywkc25pZmZlcil9XX1mdW5jdGlvbiAkQ2FjaGVGYWN0b3J5UHJvdmlkZXIoKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBjYWNoZUZhY3RvcnkoY2FjaGVJZCxvcHRpb25zKXtmdW5jdGlvbiByZWZyZXNoKGVudHJ5KXtlbnRyeSE9ZnJlc2hFbmQmJihzdGFsZUVuZD9zdGFsZUVuZD09ZW50cnkmJihzdGFsZUVuZD1lbnRyeS5uKTpzdGFsZUVuZD1lbnRyeSxsaW5rKGVudHJ5Lm4sZW50cnkucCksbGluayhlbnRyeSxmcmVzaEVuZCksZnJlc2hFbmQ9ZW50cnksZnJlc2hFbmQubj1udWxsKX1mdW5jdGlvbiBsaW5rKG5leHRFbnRyeSxwcmV2RW50cnkpe25leHRFbnRyeSE9cHJldkVudHJ5JiYobmV4dEVudHJ5JiYobmV4dEVudHJ5LnA9cHJldkVudHJ5KSxwcmV2RW50cnkmJihwcmV2RW50cnkubj1uZXh0RW50cnkpKX1pZihjYWNoZUlkIGluIGNhY2hlcyl0aHJvdyBtaW5FcnIoIiRjYWNoZUZhY3RvcnkiKSgiaWlkIiwiQ2FjaGVJZCAnezB9JyBpcyBhbHJlYWR5IHRha2VuISIsY2FjaGVJZCk7dmFyIHNpemU9MCxzdGF0cz1leHRlbmQoe30sb3B0aW9ucyx7aWQ6Y2FjaGVJZH0pLGRhdGE9e30sY2FwYWNpdHk9b3B0aW9ucyYmb3B0aW9ucy5jYXBhY2l0eXx8TnVtYmVyLk1BWF9WQUxVRSxscnVIYXNoPXt9LGZyZXNoRW5kPW51bGwsc3RhbGVFbmQ9bnVsbDtyZXR1cm4gY2FjaGVzW2NhY2hlSWRdPXtwdXQ6ZnVuY3Rpb24oa2V5LHZhbHVlKXtpZihjYXBhY2l0eTxOdW1iZXIuTUFYX1ZBTFVFKXt2YXIgbHJ1RW50cnk9bHJ1SGFzaFtrZXldfHwobHJ1SGFzaFtrZXldPXtrZXk6a2V5fSk7cmVmcmVzaChscnVFbnRyeSl9aWYoIWlzVW5kZWZpbmVkKHZhbHVlKSlyZXR1cm4ga2V5IGluIGRhdGF8fHNpemUrKyxkYXRhW2tleV09dmFsdWUsc2l6ZT5jYXBhY2l0eSYmdGhpcy5yZW1vdmUoc3RhbGVFbmQua2V5KSx2YWx1ZX0sZ2V0OmZ1bmN0aW9uKGtleSl7aWYoY2FwYWNpdHk8TnVtYmVyLk1BWF9WQUxVRSl7dmFyIGxydUVudHJ5PWxydUhhc2hba2V5XTtpZighbHJ1RW50cnkpcmV0dXJuO3JlZnJlc2gobHJ1RW50cnkpfXJldHVybiBkYXRhW2tleV19LHJlbW92ZTpmdW5jdGlvbihrZXkpe2lmKGNhcGFjaXR5PE51bWJlci5NQVhfVkFMVUUpe3ZhciBscnVFbnRyeT1scnVIYXNoW2tleV07aWYoIWxydUVudHJ5KXJldHVybjtscnVFbnRyeT09ZnJlc2hFbmQmJihmcmVzaEVuZD1scnVFbnRyeS5wKSxscnVFbnRyeT09c3RhbGVFbmQmJihzdGFsZUVuZD1scnVFbnRyeS5uKSxsaW5rKGxydUVudHJ5Lm4sbHJ1RW50cnkucCksZGVsZXRlIGxydUhhc2hba2V5XX1kZWxldGUgZGF0YVtrZXldLHNpemUtLX0scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7ZGF0YT17fSxzaXplPTAsbHJ1SGFzaD17fSxmcmVzaEVuZD1zdGFsZUVuZD1udWxsfSxkZXN0cm95OmZ1bmN0aW9uKCl7ZGF0YT1udWxsLHN0YXRzPW51bGwsbHJ1SGFzaD1udWxsLGRlbGV0ZSBjYWNoZXNbY2FjaGVJZF19LGluZm86ZnVuY3Rpb24oKXtyZXR1cm4gZXh0ZW5kKHt9LHN0YXRzLHtzaXplOnNpemV9KX19fXZhciBjYWNoZXM9e307cmV0dXJuIGNhY2hlRmFjdG9yeS5pbmZvPWZ1bmN0aW9uKCl7dmFyIGluZm89e307cmV0dXJuIGZvckVhY2goY2FjaGVzLGZ1bmN0aW9uKGNhY2hlLGNhY2hlSWQpe2luZm9bY2FjaGVJZF09Y2FjaGUuaW5mbygpfSksaW5mb30sY2FjaGVGYWN0b3J5LmdldD1mdW5jdGlvbihjYWNoZUlkKXtyZXR1cm4gY2FjaGVzW2NhY2hlSWRdfSxjYWNoZUZhY3Rvcnl9fWZ1bmN0aW9uICRUZW1wbGF0ZUNhY2hlUHJvdmlkZXIoKXt0aGlzLiRnZXQ9WyIkY2FjaGVGYWN0b3J5IixmdW5jdGlvbigkY2FjaGVGYWN0b3J5KXtyZXR1cm4gJGNhY2hlRmFjdG9yeSgidGVtcGxhdGVzIil9XX1mdW5jdGlvbiAkQ29tcGlsZVByb3ZpZGVyKCRwcm92aWRlLCQkc2FuaXRpemVVcmlQcm92aWRlcil7dmFyIGhhc0RpcmVjdGl2ZXM9e30sU3VmZml4PSJEaXJlY3RpdmUiLENPTU1FTlRfRElSRUNUSVZFX1JFR0VYUD0vXlxzKmRpcmVjdGl2ZVw6XHMqKFtcZFx3X1wtXSspXHMrKC4qKSQvLENMQVNTX0RJUkVDVElWRV9SRUdFWFA9LygoW1xkXHdfXC1dKykoPzpcOihbXjtdKykpPzs/KS8sRVZFTlRfSEFORExFUl9BVFRSX1JFR0VYUD0vXihvblthLXpdK3xmb3JtYWN0aW9uKSQvO3RoaXMuZGlyZWN0aXZlPWZ1bmN0aW9uIHJlZ2lzdGVyRGlyZWN0aXZlKG5hbWUsZGlyZWN0aXZlRmFjdG9yeSl7cmV0dXJuIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsImRpcmVjdGl2ZSIpLGlzU3RyaW5nKG5hbWUpPyhhc3NlcnRBcmcoZGlyZWN0aXZlRmFjdG9yeSwiZGlyZWN0aXZlRmFjdG9yeSIpLGhhc0RpcmVjdGl2ZXMuaGFzT3duUHJvcGVydHkobmFtZSl8fChoYXNEaXJlY3RpdmVzW25hbWVdPVtdLCRwcm92aWRlLmZhY3RvcnkobmFtZStTdWZmaXgsWyIkaW5qZWN0b3IiLCIkZXhjZXB0aW9uSGFuZGxlciIsZnVuY3Rpb24oJGluamVjdG9yLCRleGNlcHRpb25IYW5kbGVyKXt2YXIgZGlyZWN0aXZlcz1bXTtyZXR1cm4gZm9yRWFjaChoYXNEaXJlY3RpdmVzW25hbWVdLGZ1bmN0aW9uKGRpcmVjdGl2ZUZhY3RvcnksaW5kZXgpe3RyeXt2YXIgZGlyZWN0aXZlPSRpbmplY3Rvci5pbnZva2UoZGlyZWN0aXZlRmFjdG9yeSk7aXNGdW5jdGlvbihkaXJlY3RpdmUpP2RpcmVjdGl2ZT17Y29tcGlsZTp2YWx1ZUZuKGRpcmVjdGl2ZSl9OiFkaXJlY3RpdmUuY29tcGlsZSYmZGlyZWN0aXZlLmxpbmsmJihkaXJlY3RpdmUuY29tcGlsZT12YWx1ZUZuKGRpcmVjdGl2ZS5saW5rKSksZGlyZWN0aXZlLnByaW9yaXR5PWRpcmVjdGl2ZS5wcmlvcml0eXx8MCxkaXJlY3RpdmUuaW5kZXg9aW5kZXgsZGlyZWN0aXZlLm5hbWU9ZGlyZWN0aXZlLm5hbWV8fG5hbWUsZGlyZWN0aXZlLnJlcXVpcmU9ZGlyZWN0aXZlLnJlcXVpcmV8fGRpcmVjdGl2ZS5jb250cm9sbGVyJiZkaXJlY3RpdmUubmFtZSxkaXJlY3RpdmUucmVzdHJpY3Q9ZGlyZWN0aXZlLnJlc3RyaWN0fHwiQSIsZGlyZWN0aXZlcy5wdXNoKGRpcmVjdGl2ZSl9Y2F0Y2goZSl7JGV4Y2VwdGlvbkhhbmRsZXIoZSl9fSksZGlyZWN0aXZlc31dKSksaGFzRGlyZWN0aXZlc1tuYW1lXS5wdXNoKGRpcmVjdGl2ZUZhY3RvcnkpKTpmb3JFYWNoKG5hbWUscmV2ZXJzZVBhcmFtcyhyZWdpc3RlckRpcmVjdGl2ZSkpLHRoaXN9LHRoaXMuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3Q9ZnVuY3Rpb24ocmVnZXhwKXtyZXR1cm4gaXNEZWZpbmVkKHJlZ2V4cCk/KCQkc2FuaXRpemVVcmlQcm92aWRlci5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdChyZWdleHApLHRoaXMpOiQkc2FuaXRpemVVcmlQcm92aWRlci5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCgpfSx0aGlzLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdD1mdW5jdGlvbihyZWdleHApe3JldHVybiBpc0RlZmluZWQocmVnZXhwKT8oJCRzYW5pdGl6ZVVyaVByb3ZpZGVyLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdChyZWdleHApLHRoaXMpOiQkc2FuaXRpemVVcmlQcm92aWRlci5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QoKX0sdGhpcy4kZ2V0PVsiJGluamVjdG9yIiwiJGludGVycG9sYXRlIiwiJGV4Y2VwdGlvbkhhbmRsZXIiLCIkaHR0cCIsIiR0ZW1wbGF0ZUNhY2hlIiwiJHBhcnNlIiwiJGNvbnRyb2xsZXIiLCIkcm9vdFNjb3BlIiwiJGRvY3VtZW50IiwiJHNjZSIsIiRhbmltYXRlIiwiJCRzYW5pdGl6ZVVyaSIsZnVuY3Rpb24oJGluamVjdG9yLCRpbnRlcnBvbGF0ZSwkZXhjZXB0aW9uSGFuZGxlciwkaHR0cCwkdGVtcGxhdGVDYWNoZSwkcGFyc2UsJGNvbnRyb2xsZXIsJHJvb3RTY29wZSwkZG9jdW1lbnQsJHNjZSwkYW5pbWF0ZSwkJHNhbml0aXplVXJpKXtmdW5jdGlvbiBjb21waWxlKCRjb21waWxlTm9kZXMsdHJhbnNjbHVkZUZuLG1heFByaW9yaXR5LGlnbm9yZURpcmVjdGl2ZSxwcmV2aW91c0NvbXBpbGVDb250ZXh0KXskY29tcGlsZU5vZGVzIGluc3RhbmNlb2YganFMaXRlfHwoJGNvbXBpbGVOb2Rlcz1qcUxpdGUoJGNvbXBpbGVOb2RlcykpLGZvckVhY2goJGNvbXBpbGVOb2RlcyxmdW5jdGlvbihub2RlLGluZGV4KXszPT1ub2RlLm5vZGVUeXBlJiZub2RlLm5vZGVWYWx1ZS5tYXRjaCgvXFMrLykmJigkY29tcGlsZU5vZGVzW2luZGV4XT1ub2RlPWpxTGl0ZShub2RlKS53cmFwKCI8c3Bhbj48L3NwYW4+IikucGFyZW50KClbMF0pfSk7dmFyIGNvbXBvc2l0ZUxpbmtGbj1jb21waWxlTm9kZXMoJGNvbXBpbGVOb2Rlcyx0cmFuc2NsdWRlRm4sJGNvbXBpbGVOb2RlcyxtYXhQcmlvcml0eSxpZ25vcmVEaXJlY3RpdmUscHJldmlvdXNDb21waWxlQ29udGV4dCk7cmV0dXJuIHNhZmVBZGRDbGFzcygkY29tcGlsZU5vZGVzLCJuZy1zY29wZSIpLGZ1bmN0aW9uKHNjb3BlLGNsb25lQ29ubmVjdEZuLHRyYW5zY2x1ZGVDb250cm9sbGVycyxwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbil7YXNzZXJ0QXJnKHNjb3BlLCJzY29wZSIpO3ZhciAkbGlua05vZGU9Y2xvbmVDb25uZWN0Rm4/SlFMaXRlUHJvdG90eXBlLmNsb25lLmNhbGwoJGNvbXBpbGVOb2Rlcyk6JGNvbXBpbGVOb2Rlcztmb3JFYWNoKHRyYW5zY2x1ZGVDb250cm9sbGVycyxmdW5jdGlvbihpbnN0YW5jZSxuYW1lKXskbGlua05vZGUuZGF0YSgiJCIrbmFtZSsiQ29udHJvbGxlciIsaW5zdGFuY2UpfSk7Zm9yKHZhciBpPTAsaWk9JGxpbmtOb2RlLmxlbmd0aDtpaT5pO2krKyl7dmFyIG5vZGU9JGxpbmtOb2RlW2ldLG5vZGVUeXBlPW5vZGUubm9kZVR5cGU7KDE9PT1ub2RlVHlwZXx8OT09PW5vZGVUeXBlKSYmJGxpbmtOb2RlLmVxKGkpLmRhdGEoIiRzY29wZSIsc2NvcGUpfXJldHVybiBjbG9uZUNvbm5lY3RGbiYmY2xvbmVDb25uZWN0Rm4oJGxpbmtOb2RlLHNjb3BlKSxjb21wb3NpdGVMaW5rRm4mJmNvbXBvc2l0ZUxpbmtGbihzY29wZSwkbGlua05vZGUsJGxpbmtOb2RlLHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuKSwkbGlua05vZGV9fWZ1bmN0aW9uIHNhZmVBZGRDbGFzcygkZWxlbWVudCxjbGFzc05hbWUpe3RyeXskZWxlbWVudC5hZGRDbGFzcyhjbGFzc05hbWUpfWNhdGNoKGUpe319ZnVuY3Rpb24gY29tcGlsZU5vZGVzKG5vZGVMaXN0LHRyYW5zY2x1ZGVGbiwkcm9vdEVsZW1lbnQsbWF4UHJpb3JpdHksaWdub3JlRGlyZWN0aXZlLHByZXZpb3VzQ29tcGlsZUNvbnRleHQpe2Z1bmN0aW9uIGNvbXBvc2l0ZUxpbmtGbihzY29wZSxub2RlTGlzdCwkcm9vdEVsZW1lbnQscGFyZW50Qm91bmRUcmFuc2NsdWRlRm4pe3ZhciBub2RlTGlua0ZuLGNoaWxkTGlua0ZuLG5vZGUsY2hpbGRTY29wZSxpLGlpLG4sY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbixub2RlTGlzdExlbmd0aD1ub2RlTGlzdC5sZW5ndGgsc3RhYmxlTm9kZUxpc3Q9bmV3IEFycmF5KG5vZGVMaXN0TGVuZ3RoKTtmb3IoaT0wO25vZGVMaXN0TGVuZ3RoPmk7aSsrKXN0YWJsZU5vZGVMaXN0W2ldPW5vZGVMaXN0W2ldO2ZvcihpPTAsbj0wLGlpPWxpbmtGbnMubGVuZ3RoO2lpPmk7bisrKW5vZGU9c3RhYmxlTm9kZUxpc3Rbbl0sbm9kZUxpbmtGbj1saW5rRm5zW2krK10sY2hpbGRMaW5rRm49bGlua0Zuc1tpKytdLG5vZGVMaW5rRm4/KG5vZGVMaW5rRm4uc2NvcGU/KGNoaWxkU2NvcGU9c2NvcGUuJG5ldygpLGpxTGl0ZS5kYXRhKG5vZGUsIiRzY29wZSIsY2hpbGRTY29wZSkpOmNoaWxkU2NvcGU9c2NvcGUsY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbj1ub2RlTGlua0ZuLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50P2NyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLG5vZGVMaW5rRm4udHJhbnNjbHVkZSxwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbik6IW5vZGVMaW5rRm4udGVtcGxhdGVPblRoaXNFbGVtZW50JiZwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbj9wYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbjohcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4mJnRyYW5zY2x1ZGVGbj9jcmVhdGVCb3VuZFRyYW5zY2x1ZGVGbihzY29wZSx0cmFuc2NsdWRlRm4pOm51bGwsbm9kZUxpbmtGbihjaGlsZExpbmtGbixjaGlsZFNjb3BlLG5vZGUsJHJvb3RFbGVtZW50LGNoaWxkQm91bmRUcmFuc2NsdWRlRm4pKTpjaGlsZExpbmtGbiYmY2hpbGRMaW5rRm4oc2NvcGUsbm9kZS5jaGlsZE5vZGVzLHVuZGVmaW5lZCxwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbil9Zm9yKHZhciBhdHRycyxkaXJlY3RpdmVzLG5vZGVMaW5rRm4sY2hpbGROb2RlcyxjaGlsZExpbmtGbixsaW5rRm5Gb3VuZCxsaW5rRm5zPVtdLGk9MDtpPG5vZGVMaXN0Lmxlbmd0aDtpKyspYXR0cnM9bmV3IEF0dHJpYnV0ZXMsZGlyZWN0aXZlcz1jb2xsZWN0RGlyZWN0aXZlcyhub2RlTGlzdFtpXSxbXSxhdHRycywwPT09aT9tYXhQcmlvcml0eTp1bmRlZmluZWQsaWdub3JlRGlyZWN0aXZlKSxub2RlTGlua0ZuPWRpcmVjdGl2ZXMubGVuZ3RoP2FwcGx5RGlyZWN0aXZlc1RvTm9kZShkaXJlY3RpdmVzLG5vZGVMaXN0W2ldLGF0dHJzLHRyYW5zY2x1ZGVGbiwkcm9vdEVsZW1lbnQsbnVsbCxbXSxbXSxwcmV2aW91c0NvbXBpbGVDb250ZXh0KTpudWxsLG5vZGVMaW5rRm4mJm5vZGVMaW5rRm4uc2NvcGUmJnNhZmVBZGRDbGFzcyhhdHRycy4kJGVsZW1lbnQsIm5nLXNjb3BlIiksY2hpbGRMaW5rRm49bm9kZUxpbmtGbiYmbm9kZUxpbmtGbi50ZXJtaW5hbHx8IShjaGlsZE5vZGVzPW5vZGVMaXN0W2ldLmNoaWxkTm9kZXMpfHwhY2hpbGROb2Rlcy5sZW5ndGg/bnVsbDpjb21waWxlTm9kZXMoY2hpbGROb2Rlcyxub2RlTGlua0ZuPyhub2RlTGlua0ZuLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50fHwhbm9kZUxpbmtGbi50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQpJiZub2RlTGlua0ZuLnRyYW5zY2x1ZGU6dHJhbnNjbHVkZUZuKSxsaW5rRm5zLnB1c2gobm9kZUxpbmtGbixjaGlsZExpbmtGbiksbGlua0ZuRm91bmQ9bGlua0ZuRm91bmR8fG5vZGVMaW5rRm58fGNoaWxkTGlua0ZuLHByZXZpb3VzQ29tcGlsZUNvbnRleHQ9bnVsbDtyZXR1cm4gbGlua0ZuRm91bmQ/Y29tcG9zaXRlTGlua0ZuOm51bGx9ZnVuY3Rpb24gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsdHJhbnNjbHVkZUZuLHByZXZpb3VzQm91bmRUcmFuc2NsdWRlRm4pe3ZhciBib3VuZFRyYW5zY2x1ZGVGbj1mdW5jdGlvbih0cmFuc2NsdWRlZFNjb3BlLGNsb25lRm4sY29udHJvbGxlcnMpe3ZhciBzY29wZUNyZWF0ZWQ9ITE7dHJhbnNjbHVkZWRTY29wZXx8KHRyYW5zY2x1ZGVkU2NvcGU9c2NvcGUuJG5ldygpLHRyYW5zY2x1ZGVkU2NvcGUuJCR0cmFuc2NsdWRlZD0hMCxzY29wZUNyZWF0ZWQ9ITApO3ZhciBjbG9uZT10cmFuc2NsdWRlRm4odHJhbnNjbHVkZWRTY29wZSxjbG9uZUZuLGNvbnRyb2xsZXJzLHByZXZpb3VzQm91bmRUcmFuc2NsdWRlRm4pO3JldHVybiBzY29wZUNyZWF0ZWQmJmNsb25lLm9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXt0cmFuc2NsdWRlZFNjb3BlLiRkZXN0cm95KCl9KSxjbG9uZX07cmV0dXJuIGJvdW5kVHJhbnNjbHVkZUZufWZ1bmN0aW9uIGNvbGxlY3REaXJlY3RpdmVzKG5vZGUsZGlyZWN0aXZlcyxhdHRycyxtYXhQcmlvcml0eSxpZ25vcmVEaXJlY3RpdmUpe3ZhciBtYXRjaCxjbGFzc05hbWUsbm9kZVR5cGU9bm9kZS5ub2RlVHlwZSxhdHRyc01hcD1hdHRycy4kYXR0cjtzd2l0Y2gobm9kZVR5cGUpe2Nhc2UgMTphZGREaXJlY3RpdmUoZGlyZWN0aXZlcyxkaXJlY3RpdmVOb3JtYWxpemUobm9kZU5hbWVfKG5vZGUpLnRvTG93ZXJDYXNlKCkpLCJFIixtYXhQcmlvcml0eSxpZ25vcmVEaXJlY3RpdmUpO2Zvcih2YXIgYXR0cixuYW1lLG5OYW1lLG5nQXR0ck5hbWUsdmFsdWUsaXNOZ0F0dHIsbkF0dHJzPW5vZGUuYXR0cmlidXRlcyxqPTAsamo9bkF0dHJzJiZuQXR0cnMubGVuZ3RoO2pqPmo7aisrKXt2YXIgYXR0clN0YXJ0TmFtZT0hMSxhdHRyRW5kTmFtZT0hMTtpZihhdHRyPW5BdHRyc1tqXSwhbXNpZXx8bXNpZT49OHx8YXR0ci5zcGVjaWZpZWQpe25hbWU9YXR0ci5uYW1lLHZhbHVlPXRyaW0oYXR0ci52YWx1ZSksbmdBdHRyTmFtZT1kaXJlY3RpdmVOb3JtYWxpemUobmFtZSksKGlzTmdBdHRyPU5HX0FUVFJfQklORElORy50ZXN0KG5nQXR0ck5hbWUpKSYmKG5hbWU9c25ha2VfY2FzZShuZ0F0dHJOYW1lLnN1YnN0cig2KSwiLSIpKTt2YXIgZGlyZWN0aXZlTk5hbWU9bmdBdHRyTmFtZS5yZXBsYWNlKC8oU3RhcnR8RW5kKSQvLCIiKTtuZ0F0dHJOYW1lPT09ZGlyZWN0aXZlTk5hbWUrIlN0YXJ0IiYmKGF0dHJTdGFydE5hbWU9bmFtZSxhdHRyRW5kTmFtZT1uYW1lLnN1YnN0cigwLG5hbWUubGVuZ3RoLTUpKyJlbmQiLG5hbWU9bmFtZS5zdWJzdHIoMCxuYW1lLmxlbmd0aC02KSksbk5hbWU9ZGlyZWN0aXZlTm9ybWFsaXplKG5hbWUudG9Mb3dlckNhc2UoKSksYXR0cnNNYXBbbk5hbWVdPW5hbWUsKGlzTmdBdHRyfHwhYXR0cnMuaGFzT3duUHJvcGVydHkobk5hbWUpKSYmKGF0dHJzW25OYW1lXT12YWx1ZSxnZXRCb29sZWFuQXR0ck5hbWUobm9kZSxuTmFtZSkmJihhdHRyc1tuTmFtZV09ITApKSxhZGRBdHRySW50ZXJwb2xhdGVEaXJlY3RpdmUobm9kZSxkaXJlY3RpdmVzLHZhbHVlLG5OYW1lKSxhZGREaXJlY3RpdmUoZGlyZWN0aXZlcyxuTmFtZSwiQSIsbWF4UHJpb3JpdHksaWdub3JlRGlyZWN0aXZlLGF0dHJTdGFydE5hbWUsYXR0ckVuZE5hbWUpfX1pZihjbGFzc05hbWU9bm9kZS5jbGFzc05hbWUsaXNTdHJpbmcoY2xhc3NOYW1lKSYmIiIhPT1jbGFzc05hbWUpZm9yKDttYXRjaD1DTEFTU19ESVJFQ1RJVkVfUkVHRVhQLmV4ZWMoY2xhc3NOYW1lKTspbk5hbWU9ZGlyZWN0aXZlTm9ybWFsaXplKG1hdGNoWzJdKSxhZGREaXJlY3RpdmUoZGlyZWN0aXZlcyxuTmFtZSwiQyIsbWF4UHJpb3JpdHksaWdub3JlRGlyZWN0aXZlKSYmKGF0dHJzW25OYW1lXT10cmltKG1hdGNoWzNdKSksY2xhc3NOYW1lPWNsYXNzTmFtZS5zdWJzdHIobWF0Y2guaW5kZXgrbWF0Y2hbMF0ubGVuZ3RoKTticmVhaztjYXNlIDM6YWRkVGV4dEludGVycG9sYXRlRGlyZWN0aXZlKGRpcmVjdGl2ZXMsbm9kZS5ub2RlVmFsdWUpO2JyZWFrO2Nhc2UgODp0cnl7bWF0Y2g9Q09NTUVOVF9ESVJFQ1RJVkVfUkVHRVhQLmV4ZWMobm9kZS5ub2RlVmFsdWUpLG1hdGNoJiYobk5hbWU9ZGlyZWN0aXZlTm9ybWFsaXplKG1hdGNoWzFdKSxhZGREaXJlY3RpdmUoZGlyZWN0aXZlcyxuTmFtZSwiTSIsbWF4UHJpb3JpdHksaWdub3JlRGlyZWN0aXZlKSYmKGF0dHJzW25OYW1lXT10cmltKG1hdGNoWzJdKSkpfWNhdGNoKGUpe319cmV0dXJuIGRpcmVjdGl2ZXMuc29ydChieVByaW9yaXR5KSxkaXJlY3RpdmVzfWZ1bmN0aW9uIGdyb3VwU2Nhbihub2RlLGF0dHJTdGFydCxhdHRyRW5kKXt2YXIgbm9kZXM9W10sZGVwdGg9MDtpZihhdHRyU3RhcnQmJm5vZGUuaGFzQXR0cmlidXRlJiZub2RlLmhhc0F0dHJpYnV0ZShhdHRyU3RhcnQpKXtkb3tpZighbm9kZSl0aHJvdyAkY29tcGlsZU1pbkVycigidXRlcmRpciIsIlVudGVybWluYXRlZCBhdHRyaWJ1dGUsIGZvdW5kICd7MH0nIGJ1dCBubyBtYXRjaGluZyAnezF9JyBmb3VuZC4iLGF0dHJTdGFydCxhdHRyRW5kKTsxPT1ub2RlLm5vZGVUeXBlJiYobm9kZS5oYXNBdHRyaWJ1dGUoYXR0clN0YXJ0KSYmZGVwdGgrKyxub2RlLmhhc0F0dHJpYnV0ZShhdHRyRW5kKSYmZGVwdGgtLSksbm9kZXMucHVzaChub2RlKSxub2RlPW5vZGUubmV4dFNpYmxpbmd9d2hpbGUoZGVwdGg+MCl9ZWxzZSBub2Rlcy5wdXNoKG5vZGUpO3JldHVybiBqcUxpdGUobm9kZXMpfWZ1bmN0aW9uIGdyb3VwRWxlbWVudHNMaW5rRm5XcmFwcGVyKGxpbmtGbixhdHRyU3RhcnQsYXR0ckVuZCl7cmV0dXJuIGZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsY29udHJvbGxlcnMsdHJhbnNjbHVkZUZuKXtyZXR1cm4gZWxlbWVudD1ncm91cFNjYW4oZWxlbWVudFswXSxhdHRyU3RhcnQsYXR0ckVuZCksbGlua0ZuKHNjb3BlLGVsZW1lbnQsYXR0cnMsY29udHJvbGxlcnMsdHJhbnNjbHVkZUZuKX19ZnVuY3Rpb24gYXBwbHlEaXJlY3RpdmVzVG9Ob2RlKGRpcmVjdGl2ZXMsY29tcGlsZU5vZGUsdGVtcGxhdGVBdHRycyx0cmFuc2NsdWRlRm4sanFDb2xsZWN0aW9uLG9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSxwcmVMaW5rRm5zLHBvc3RMaW5rRm5zLHByZXZpb3VzQ29tcGlsZUNvbnRleHQpe2Z1bmN0aW9uIGFkZExpbmtGbnMocHJlLHBvc3QsYXR0clN0YXJ0LGF0dHJFbmQpe3ByZSYmKGF0dHJTdGFydCYmKHByZT1ncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlcihwcmUsYXR0clN0YXJ0LGF0dHJFbmQpKSxwcmUucmVxdWlyZT1kaXJlY3RpdmUucmVxdWlyZSxwcmUuZGlyZWN0aXZlTmFtZT1kaXJlY3RpdmVOYW1lLChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmU9PT1kaXJlY3RpdmV8fGRpcmVjdGl2ZS4kJGlzb2xhdGVTY29wZSkmJihwcmU9Y2xvbmVBbmRBbm5vdGF0ZUZuKHByZSx7aXNvbGF0ZVNjb3BlOiEwfSkpLHByZUxpbmtGbnMucHVzaChwcmUpKSxwb3N0JiYoYXR0clN0YXJ0JiYocG9zdD1ncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlcihwb3N0LGF0dHJTdGFydCxhdHRyRW5kKSkscG9zdC5yZXF1aXJlPWRpcmVjdGl2ZS5yZXF1aXJlLHBvc3QuZGlyZWN0aXZlTmFtZT1kaXJlY3RpdmVOYW1lLChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmU9PT1kaXJlY3RpdmV8fGRpcmVjdGl2ZS4kJGlzb2xhdGVTY29wZSkmJihwb3N0PWNsb25lQW5kQW5ub3RhdGVGbihwb3N0LHtpc29sYXRlU2NvcGU6ITB9KSkscG9zdExpbmtGbnMucHVzaChwb3N0KSl9ZnVuY3Rpb24gZ2V0Q29udHJvbGxlcnMoZGlyZWN0aXZlTmFtZSxyZXF1aXJlLCRlbGVtZW50LGVsZW1lbnRDb250cm9sbGVycyl7dmFyIHZhbHVlLHJldHJpZXZhbE1ldGhvZD0iZGF0YSIsb3B0aW9uYWw9ITE7aWYoaXNTdHJpbmcocmVxdWlyZSkpe2Zvcig7Il4iPT0odmFsdWU9cmVxdWlyZS5jaGFyQXQoMCkpfHwiPyI9PXZhbHVlOylyZXF1aXJlPXJlcXVpcmUuc3Vic3RyKDEpLCJeIj09dmFsdWUmJihyZXRyaWV2YWxNZXRob2Q9ImluaGVyaXRlZERhdGEiKSxvcHRpb25hbD1vcHRpb25hbHx8Ij8iPT12YWx1ZTtpZih2YWx1ZT1udWxsLGVsZW1lbnRDb250cm9sbGVycyYmImRhdGEiPT09cmV0cmlldmFsTWV0aG9kJiYodmFsdWU9ZWxlbWVudENvbnRyb2xsZXJzW3JlcXVpcmVdKSx2YWx1ZT12YWx1ZXx8JGVsZW1lbnRbcmV0cmlldmFsTWV0aG9kXSgiJCIrcmVxdWlyZSsiQ29udHJvbGxlciIpLCF2YWx1ZSYmIW9wdGlvbmFsKXRocm93ICRjb21waWxlTWluRXJyKCJjdHJlcSIsIkNvbnRyb2xsZXIgJ3swfScsIHJlcXVpcmVkIGJ5IGRpcmVjdGl2ZSAnezF9JywgY2FuJ3QgYmUgZm91bmQhIixyZXF1aXJlLGRpcmVjdGl2ZU5hbWUpO3JldHVybiB2YWx1ZX1yZXR1cm4gaXNBcnJheShyZXF1aXJlKSYmKHZhbHVlPVtdLGZvckVhY2gocmVxdWlyZSxmdW5jdGlvbihyZXF1aXJlKXt2YWx1ZS5wdXNoKGdldENvbnRyb2xsZXJzKGRpcmVjdGl2ZU5hbWUscmVxdWlyZSwkZWxlbWVudCxlbGVtZW50Q29udHJvbGxlcnMpKX0pKSx2YWx1ZX1mdW5jdGlvbiBub2RlTGlua0ZuKGNoaWxkTGlua0ZuLHNjb3BlLGxpbmtOb2RlLCRyb290RWxlbWVudCxib3VuZFRyYW5zY2x1ZGVGbil7ZnVuY3Rpb24gY29udHJvbGxlcnNCb3VuZFRyYW5zY2x1ZGUoc2NvcGUsY2xvbmVBdHRhY2hGbil7dmFyIHRyYW5zY2x1ZGVDb250cm9sbGVycztyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyJiYoY2xvbmVBdHRhY2hGbj1zY29wZSxzY29wZT11bmRlZmluZWQpLGhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlJiYodHJhbnNjbHVkZUNvbnRyb2xsZXJzPWVsZW1lbnRDb250cm9sbGVycyksYm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsY2xvbmVBdHRhY2hGbix0cmFuc2NsdWRlQ29udHJvbGxlcnMpfXZhciBhdHRycywkZWxlbWVudCxpLGlpLGxpbmtGbixjb250cm9sbGVyLGlzb2xhdGVTY29wZSx0cmFuc2NsdWRlRm4sZWxlbWVudENvbnRyb2xsZXJzPXt9O2lmKGF0dHJzPWNvbXBpbGVOb2RlPT09bGlua05vZGU/dGVtcGxhdGVBdHRyczpzaGFsbG93Q29weSh0ZW1wbGF0ZUF0dHJzLG5ldyBBdHRyaWJ1dGVzKGpxTGl0ZShsaW5rTm9kZSksdGVtcGxhdGVBdHRycy4kYXR0cikpLCRlbGVtZW50PWF0dHJzLiQkZWxlbWVudCxuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUpe3ZhciBMT0NBTF9SRUdFWFA9L15ccyooW0A9Jl0pKFw/PylccyooXHcqKVxzKiQvO2lzb2xhdGVTY29wZT1zY29wZS4kbmV3KCEwKSwhdGVtcGxhdGVEaXJlY3RpdmV8fHRlbXBsYXRlRGlyZWN0aXZlIT09bmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlJiZ0ZW1wbGF0ZURpcmVjdGl2ZSE9PW5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS4kJG9yaWdpbmFsRGlyZWN0aXZlPyRlbGVtZW50LmRhdGEoIiRpc29sYXRlU2NvcGVOb1RlbXBsYXRlIixpc29sYXRlU2NvcGUpOiRlbGVtZW50LmRhdGEoIiRpc29sYXRlU2NvcGUiLGlzb2xhdGVTY29wZSksc2FmZUFkZENsYXNzKCRlbGVtZW50LCJuZy1pc29sYXRlLXNjb3BlIiksZm9yRWFjaChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUuc2NvcGUsZnVuY3Rpb24oZGVmaW5pdGlvbixzY29wZU5hbWUpe3ZhciBsYXN0VmFsdWUscGFyZW50R2V0LHBhcmVudFNldCxjb21wYXJlLG1hdGNoPWRlZmluaXRpb24ubWF0Y2goTE9DQUxfUkVHRVhQKXx8W10sYXR0ck5hbWU9bWF0Y2hbM118fHNjb3BlTmFtZSxvcHRpb25hbD0iPyI9PW1hdGNoWzJdLG1vZGU9bWF0Y2hbMV07c3dpdGNoKGlzb2xhdGVTY29wZS4kJGlzb2xhdGVCaW5kaW5nc1tzY29wZU5hbWVdPW1vZGUrYXR0ck5hbWUsbW9kZSl7Y2FzZSJAIjphdHRycy4kb2JzZXJ2ZShhdHRyTmFtZSxmdW5jdGlvbih2YWx1ZSl7aXNvbGF0ZVNjb3BlW3Njb3BlTmFtZV09dmFsdWV9KSxhdHRycy4kJG9ic2VydmVyc1thdHRyTmFtZV0uJCRzY29wZT1zY29wZSxhdHRyc1thdHRyTmFtZV0mJihpc29sYXRlU2NvcGVbc2NvcGVOYW1lXT0kaW50ZXJwb2xhdGUoYXR0cnNbYXR0ck5hbWVdKShzY29wZSkpO2JyZWFrO2Nhc2UiPSI6aWYob3B0aW9uYWwmJiFhdHRyc1thdHRyTmFtZV0pcmV0dXJuO3BhcmVudEdldD0kcGFyc2UoYXR0cnNbYXR0ck5hbWVdKSxjb21wYXJlPXBhcmVudEdldC5saXRlcmFsP2VxdWFsczpmdW5jdGlvbihhLGIpe3JldHVybiBhPT09Ynx8YSE9PWEmJmIhPT1ifSxwYXJlbnRTZXQ9cGFyZW50R2V0LmFzc2lnbnx8ZnVuY3Rpb24oKXt0aHJvdyBsYXN0VmFsdWU9aXNvbGF0ZVNjb3BlW3Njb3BlTmFtZV09cGFyZW50R2V0KHNjb3BlKSwkY29tcGlsZU1pbkVycigibm9uYXNzaWduIiwiRXhwcmVzc2lvbiAnezB9JyB1c2VkIHdpdGggZGlyZWN0aXZlICd7MX0nIGlzIG5vbi1hc3NpZ25hYmxlISIsYXR0cnNbYXR0ck5hbWVdLG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS5uYW1lKX0sbGFzdFZhbHVlPWlzb2xhdGVTY29wZVtzY29wZU5hbWVdPXBhcmVudEdldChzY29wZSksaXNvbGF0ZVNjb3BlLiR3YXRjaChmdW5jdGlvbigpe3ZhciBwYXJlbnRWYWx1ZT1wYXJlbnRHZXQoc2NvcGUpO3JldHVybiBjb21wYXJlKHBhcmVudFZhbHVlLGlzb2xhdGVTY29wZVtzY29wZU5hbWVdKXx8KGNvbXBhcmUocGFyZW50VmFsdWUsbGFzdFZhbHVlKT9wYXJlbnRTZXQoc2NvcGUscGFyZW50VmFsdWU9aXNvbGF0ZVNjb3BlW3Njb3BlTmFtZV0pOmlzb2xhdGVTY29wZVtzY29wZU5hbWVdPXBhcmVudFZhbHVlKSxsYXN0VmFsdWU9cGFyZW50VmFsdWV9LG51bGwscGFyZW50R2V0LmxpdGVyYWwpO2JyZWFrO2Nhc2UiJiI6cGFyZW50R2V0PSRwYXJzZShhdHRyc1thdHRyTmFtZV0pLGlzb2xhdGVTY29wZVtzY29wZU5hbWVdPWZ1bmN0aW9uKGxvY2Fscyl7cmV0dXJuIHBhcmVudEdldChzY29wZSxsb2NhbHMpfTticmVhaztkZWZhdWx0OnRocm93ICRjb21waWxlTWluRXJyKCJpc2NwIiwiSW52YWxpZCBpc29sYXRlIHNjb3BlIGRlZmluaXRpb24gZm9yIGRpcmVjdGl2ZSAnezB9Jy4gRGVmaW5pdGlvbjogey4uLiB7MX06ICd7Mn0nIC4uLn0iLG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS5uYW1lLHNjb3BlTmFtZSxkZWZpbml0aW9uKX19KX1mb3IodHJhbnNjbHVkZUZuPWJvdW5kVHJhbnNjbHVkZUZuJiZjb250cm9sbGVyc0JvdW5kVHJhbnNjbHVkZSxjb250cm9sbGVyRGlyZWN0aXZlcyYmZm9yRWFjaChjb250cm9sbGVyRGlyZWN0aXZlcyxmdW5jdGlvbihkaXJlY3RpdmUpe3ZhciBjb250cm9sbGVySW5zdGFuY2UsbG9jYWxzPXskc2NvcGU6ZGlyZWN0aXZlPT09bmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlfHxkaXJlY3RpdmUuJCRpc29sYXRlU2NvcGU/aXNvbGF0ZVNjb3BlOnNjb3BlLCRlbGVtZW50OiRlbGVtZW50LCRhdHRyczphdHRycywkdHJhbnNjbHVkZTp0cmFuc2NsdWRlRm59O2NvbnRyb2xsZXI9ZGlyZWN0aXZlLmNvbnRyb2xsZXIsIkAiPT1jb250cm9sbGVyJiYoY29udHJvbGxlcj1hdHRyc1tkaXJlY3RpdmUubmFtZV0pLGNvbnRyb2xsZXJJbnN0YW5jZT0kY29udHJvbGxlcihjb250cm9sbGVyLGxvY2FscyksZWxlbWVudENvbnRyb2xsZXJzW2RpcmVjdGl2ZS5uYW1lXT1jb250cm9sbGVySW5zdGFuY2UsaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmV8fCRlbGVtZW50LmRhdGEoIiQiK2RpcmVjdGl2ZS5uYW1lKyJDb250cm9sbGVyIixjb250cm9sbGVySW5zdGFuY2UpLGRpcmVjdGl2ZS5jb250cm9sbGVyQXMmJihsb2NhbHMuJHNjb3BlW2RpcmVjdGl2ZS5jb250cm9sbGVyQXNdPWNvbnRyb2xsZXJJbnN0YW5jZSl9KSxpPTAsaWk9cHJlTGlua0Zucy5sZW5ndGg7aWk+aTtpKyspdHJ5e2xpbmtGbj1wcmVMaW5rRm5zW2ldLGxpbmtGbihsaW5rRm4uaXNvbGF0ZVNjb3BlP2lzb2xhdGVTY29wZTpzY29wZSwkZWxlbWVudCxhdHRycyxsaW5rRm4ucmVxdWlyZSYmZ2V0Q29udHJvbGxlcnMobGlua0ZuLmRpcmVjdGl2ZU5hbWUsbGlua0ZuLnJlcXVpcmUsJGVsZW1lbnQsZWxlbWVudENvbnRyb2xsZXJzKSx0cmFuc2NsdWRlRm4pfWNhdGNoKGUpeyRleGNlcHRpb25IYW5kbGVyKGUsc3RhcnRpbmdUYWcoJGVsZW1lbnQpKX12YXIgc2NvcGVUb0NoaWxkPXNjb3BlO2ZvcihuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUmJihuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUudGVtcGxhdGV8fG51bGw9PT1uZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUudGVtcGxhdGVVcmwpJiYoc2NvcGVUb0NoaWxkPWlzb2xhdGVTY29wZSksY2hpbGRMaW5rRm4mJmNoaWxkTGlua0ZuKHNjb3BlVG9DaGlsZCxsaW5rTm9kZS5jaGlsZE5vZGVzLHVuZGVmaW5lZCxib3VuZFRyYW5zY2x1ZGVGbiksaT1wb3N0TGlua0Zucy5sZW5ndGgtMTtpPj0wO2ktLSl0cnl7bGlua0ZuPXBvc3RMaW5rRm5zW2ldLGxpbmtGbihsaW5rRm4uaXNvbGF0ZVNjb3BlP2lzb2xhdGVTY29wZTpzY29wZSwkZWxlbWVudCxhdHRycyxsaW5rRm4ucmVxdWlyZSYmZ2V0Q29udHJvbGxlcnMobGlua0ZuLmRpcmVjdGl2ZU5hbWUsbGlua0ZuLnJlcXVpcmUsJGVsZW1lbnQsZWxlbWVudENvbnRyb2xsZXJzKSx0cmFuc2NsdWRlRm4pfWNhdGNoKGUpeyRleGNlcHRpb25IYW5kbGVyKGUsc3RhcnRpbmdUYWcoJGVsZW1lbnQpKX19cHJldmlvdXNDb21waWxlQ29udGV4dD1wcmV2aW91c0NvbXBpbGVDb250ZXh0fHx7fTtmb3IodmFyIG5ld1Njb3BlRGlyZWN0aXZlLGRpcmVjdGl2ZSxkaXJlY3RpdmVOYW1lLCR0ZW1wbGF0ZSxsaW5rRm4sZGlyZWN0aXZlVmFsdWUsdGVybWluYWxQcmlvcml0eT0tTnVtYmVyLk1BWF9WQUxVRSxjb250cm9sbGVyRGlyZWN0aXZlcz1wcmV2aW91c0NvbXBpbGVDb250ZXh0LmNvbnRyb2xsZXJEaXJlY3RpdmVzLG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZT1wcmV2aW91c0NvbXBpbGVDb250ZXh0Lm5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSx0ZW1wbGF0ZURpcmVjdGl2ZT1wcmV2aW91c0NvbXBpbGVDb250ZXh0LnRlbXBsYXRlRGlyZWN0aXZlLG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmU9cHJldmlvdXNDb21waWxlQ29udGV4dC5ub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlLGhhc1RyYW5zY2x1ZGVEaXJlY3RpdmU9ITEsaGFzVGVtcGxhdGU9ITEsaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmU9cHJldmlvdXNDb21waWxlQ29udGV4dC5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSwkY29tcGlsZU5vZGU9dGVtcGxhdGVBdHRycy4kJGVsZW1lbnQ9anFMaXRlKGNvbXBpbGVOb2RlKSxyZXBsYWNlRGlyZWN0aXZlPW9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSxjaGlsZFRyYW5zY2x1ZGVGbj10cmFuc2NsdWRlRm4saT0wLGlpPWRpcmVjdGl2ZXMubGVuZ3RoO2lpPmk7aSsrKXtkaXJlY3RpdmU9ZGlyZWN0aXZlc1tpXTt2YXIgYXR0clN0YXJ0PWRpcmVjdGl2ZS4kJHN0YXJ0LGF0dHJFbmQ9ZGlyZWN0aXZlLiQkZW5kO2lmKGF0dHJTdGFydCYmKCRjb21waWxlTm9kZT1ncm91cFNjYW4oY29tcGlsZU5vZGUsYXR0clN0YXJ0LGF0dHJFbmQpKSwkdGVtcGxhdGU9dW5kZWZpbmVkLHRlcm1pbmFsUHJpb3JpdHk+ZGlyZWN0aXZlLnByaW9yaXR5KWJyZWFrO2lmKChkaXJlY3RpdmVWYWx1ZT1kaXJlY3RpdmUuc2NvcGUpJiYobmV3U2NvcGVEaXJlY3RpdmU9bmV3U2NvcGVEaXJlY3RpdmV8fGRpcmVjdGl2ZSxkaXJlY3RpdmUudGVtcGxhdGVVcmx8fChhc3NlcnROb0R1cGxpY2F0ZSgibmV3L2lzb2xhdGVkIHNjb3BlIixuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUsZGlyZWN0aXZlLCRjb21waWxlTm9kZSksaXNPYmplY3QoZGlyZWN0aXZlVmFsdWUpJiYobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlPWRpcmVjdGl2ZSkpKSxkaXJlY3RpdmVOYW1lPWRpcmVjdGl2ZS5uYW1lLCFkaXJlY3RpdmUudGVtcGxhdGVVcmwmJmRpcmVjdGl2ZS5jb250cm9sbGVyJiYoZGlyZWN0aXZlVmFsdWU9ZGlyZWN0aXZlLmNvbnRyb2xsZXIsY29udHJvbGxlckRpcmVjdGl2ZXM9Y29udHJvbGxlckRpcmVjdGl2ZXN8fHt9LGFzc2VydE5vRHVwbGljYXRlKCInIitkaXJlY3RpdmVOYW1lKyInIGNvbnRyb2xsZXIiLGNvbnRyb2xsZXJEaXJlY3RpdmVzW2RpcmVjdGl2ZU5hbWVdLGRpcmVjdGl2ZSwkY29tcGlsZU5vZGUpLGNvbnRyb2xsZXJEaXJlY3RpdmVzW2RpcmVjdGl2ZU5hbWVdPWRpcmVjdGl2ZSksKGRpcmVjdGl2ZVZhbHVlPWRpcmVjdGl2ZS50cmFuc2NsdWRlKSYmKGhhc1RyYW5zY2x1ZGVEaXJlY3RpdmU9ITAsZGlyZWN0aXZlLiQkdGxifHwoYXNzZXJ0Tm9EdXBsaWNhdGUoInRyYW5zY2x1c2lvbiIsbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSxkaXJlY3RpdmUsJGNvbXBpbGVOb2RlKSxub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlPWRpcmVjdGl2ZSksImVsZW1lbnQiPT1kaXJlY3RpdmVWYWx1ZT8oaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmU9ITAsdGVybWluYWxQcmlvcml0eT1kaXJlY3RpdmUucHJpb3JpdHksJHRlbXBsYXRlPSRjb21waWxlTm9kZSwkY29tcGlsZU5vZGU9dGVtcGxhdGVBdHRycy4kJGVsZW1lbnQ9anFMaXRlKGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoIiAiK2RpcmVjdGl2ZU5hbWUrIjogIit0ZW1wbGF0ZUF0dHJzW2RpcmVjdGl2ZU5hbWVdKyIgIikpLGNvbXBpbGVOb2RlPSRjb21waWxlTm9kZVswXSxyZXBsYWNlV2l0aChqcUNvbGxlY3Rpb24sc2xpY2VBcmdzKCR0ZW1wbGF0ZSksY29tcGlsZU5vZGUpLGNoaWxkVHJhbnNjbHVkZUZuPWNvbXBpbGUoJHRlbXBsYXRlLHRyYW5zY2x1ZGVGbix0ZXJtaW5hbFByaW9yaXR5LHJlcGxhY2VEaXJlY3RpdmUmJnJlcGxhY2VEaXJlY3RpdmUubmFtZSx7bm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZTpub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlfSkpOigkdGVtcGxhdGU9anFMaXRlKGpxTGl0ZUNsb25lKGNvbXBpbGVOb2RlKSkuY29udGVudHMoKSwkY29tcGlsZU5vZGUuZW1wdHkoKSxjaGlsZFRyYW5zY2x1ZGVGbj1jb21waWxlKCR0ZW1wbGF0ZSx0cmFuc2NsdWRlRm4pKSksZGlyZWN0aXZlLnRlbXBsYXRlKWlmKGhhc1RlbXBsYXRlPSEwLGFzc2VydE5vRHVwbGljYXRlKCJ0ZW1wbGF0ZSIsdGVtcGxhdGVEaXJlY3RpdmUsZGlyZWN0aXZlLCRjb21waWxlTm9kZSksdGVtcGxhdGVEaXJlY3RpdmU9ZGlyZWN0aXZlLGRpcmVjdGl2ZVZhbHVlPWlzRnVuY3Rpb24oZGlyZWN0aXZlLnRlbXBsYXRlKT9kaXJlY3RpdmUudGVtcGxhdGUoJGNvbXBpbGVOb2RlLHRlbXBsYXRlQXR0cnMpOmRpcmVjdGl2ZS50ZW1wbGF0ZSxkaXJlY3RpdmVWYWx1ZT1kZW5vcm1hbGl6ZVRlbXBsYXRlKGRpcmVjdGl2ZVZhbHVlKSxkaXJlY3RpdmUucmVwbGFjZSl7aWYocmVwbGFjZURpcmVjdGl2ZT1kaXJlY3RpdmUsJHRlbXBsYXRlPWpxTGl0ZUlzVGV4dE5vZGUoZGlyZWN0aXZlVmFsdWUpP1tdOmpxTGl0ZSh0cmltKGRpcmVjdGl2ZVZhbHVlKSksY29tcGlsZU5vZGU9JHRlbXBsYXRlWzBdLDEhPSR0ZW1wbGF0ZS5sZW5ndGh8fDEhPT1jb21waWxlTm9kZS5ub2RlVHlwZSl0aHJvdyAkY29tcGlsZU1pbkVycigidHBscnQiLCJUZW1wbGF0ZSBmb3IgZGlyZWN0aXZlICd7MH0nIG11c3QgaGF2ZSBleGFjdGx5IG9uZSByb290IGVsZW1lbnQuIHsxfSIsZGlyZWN0aXZlTmFtZSwiIik7cmVwbGFjZVdpdGgoanFDb2xsZWN0aW9uLCRjb21waWxlTm9kZSxjb21waWxlTm9kZSk7dmFyIG5ld1RlbXBsYXRlQXR0cnM9eyRhdHRyOnt9fSx0ZW1wbGF0ZURpcmVjdGl2ZXM9Y29sbGVjdERpcmVjdGl2ZXMoY29tcGlsZU5vZGUsW10sbmV3VGVtcGxhdGVBdHRycyksdW5wcm9jZXNzZWREaXJlY3RpdmVzPWRpcmVjdGl2ZXMuc3BsaWNlKGkrMSxkaXJlY3RpdmVzLmxlbmd0aC0oaSsxKSk7bmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlJiZtYXJrRGlyZWN0aXZlc0FzSXNvbGF0ZSh0ZW1wbGF0ZURpcmVjdGl2ZXMpLGRpcmVjdGl2ZXM9ZGlyZWN0aXZlcy5jb25jYXQodGVtcGxhdGVEaXJlY3RpdmVzKS5jb25jYXQodW5wcm9jZXNzZWREaXJlY3RpdmVzKSxtZXJnZVRlbXBsYXRlQXR0cmlidXRlcyh0ZW1wbGF0ZUF0dHJzLG5ld1RlbXBsYXRlQXR0cnMpLGlpPWRpcmVjdGl2ZXMubGVuZ3RofWVsc2UgJGNvbXBpbGVOb2RlLmh0bWwoZGlyZWN0aXZlVmFsdWUpO2lmKGRpcmVjdGl2ZS50ZW1wbGF0ZVVybCloYXNUZW1wbGF0ZT0hMCxhc3NlcnROb0R1cGxpY2F0ZSgidGVtcGxhdGUiLHRlbXBsYXRlRGlyZWN0aXZlLGRpcmVjdGl2ZSwkY29tcGlsZU5vZGUpLHRlbXBsYXRlRGlyZWN0aXZlPWRpcmVjdGl2ZSxkaXJlY3RpdmUucmVwbGFjZSYmKHJlcGxhY2VEaXJlY3RpdmU9ZGlyZWN0aXZlKSxub2RlTGlua0ZuPWNvbXBpbGVUZW1wbGF0ZVVybChkaXJlY3RpdmVzLnNwbGljZShpLGRpcmVjdGl2ZXMubGVuZ3RoLWkpLCRjb21waWxlTm9kZSx0ZW1wbGF0ZUF0dHJzLGpxQ29sbGVjdGlvbixoYXNUcmFuc2NsdWRlRGlyZWN0aXZlJiZjaGlsZFRyYW5zY2x1ZGVGbixwcmVMaW5rRm5zLHBvc3RMaW5rRm5zLHtjb250cm9sbGVyRGlyZWN0aXZlczpjb250cm9sbGVyRGlyZWN0aXZlcyxuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmU6bmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLHRlbXBsYXRlRGlyZWN0aXZlOnRlbXBsYXRlRGlyZWN0aXZlLG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmU6bm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZX0pLGlpPWRpcmVjdGl2ZXMubGVuZ3RoO2Vsc2UgaWYoZGlyZWN0aXZlLmNvbXBpbGUpdHJ5e2xpbmtGbj1kaXJlY3RpdmUuY29tcGlsZSgkY29tcGlsZU5vZGUsdGVtcGxhdGVBdHRycyxjaGlsZFRyYW5zY2x1ZGVGbiksaXNGdW5jdGlvbihsaW5rRm4pP2FkZExpbmtGbnMobnVsbCxsaW5rRm4sYXR0clN0YXJ0LGF0dHJFbmQpOmxpbmtGbiYmYWRkTGlua0ZucyhsaW5rRm4ucHJlLGxpbmtGbi5wb3N0LGF0dHJTdGFydCxhdHRyRW5kKX1jYXRjaChlKXskZXhjZXB0aW9uSGFuZGxlcihlLHN0YXJ0aW5nVGFnKCRjb21waWxlTm9kZSkpfWRpcmVjdGl2ZS50ZXJtaW5hbCYmKG5vZGVMaW5rRm4udGVybWluYWw9ITAsdGVybWluYWxQcmlvcml0eT1NYXRoLm1heCh0ZXJtaW5hbFByaW9yaXR5LGRpcmVjdGl2ZS5wcmlvcml0eSkpfXJldHVybiBub2RlTGlua0ZuLnNjb3BlPW5ld1Njb3BlRGlyZWN0aXZlJiZuZXdTY29wZURpcmVjdGl2ZS5zY29wZT09PSEwLG5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQ9aGFzVHJhbnNjbHVkZURpcmVjdGl2ZSxub2RlTGlua0ZuLnRlbXBsYXRlT25UaGlzRWxlbWVudD1oYXNUZW1wbGF0ZSxub2RlTGlua0ZuLnRyYW5zY2x1ZGU9Y2hpbGRUcmFuc2NsdWRlRm4scHJldmlvdXNDb21waWxlQ29udGV4dC5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZT1oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSxub2RlTGlua0ZufWZ1bmN0aW9uIG1hcmtEaXJlY3RpdmVzQXNJc29sYXRlKGRpcmVjdGl2ZXMpe2Zvcih2YXIgaj0wLGpqPWRpcmVjdGl2ZXMubGVuZ3RoO2pqPmo7aisrKWRpcmVjdGl2ZXNbal09aW5oZXJpdChkaXJlY3RpdmVzW2pdLHskJGlzb2xhdGVTY29wZTohMH0pfWZ1bmN0aW9uIGFkZERpcmVjdGl2ZSh0RGlyZWN0aXZlcyxuYW1lLGxvY2F0aW9uLG1heFByaW9yaXR5LGlnbm9yZURpcmVjdGl2ZSxzdGFydEF0dHJOYW1lLGVuZEF0dHJOYW1lKXtpZihuYW1lPT09aWdub3JlRGlyZWN0aXZlKXJldHVybiBudWxsO3ZhciBtYXRjaD1udWxsO2lmKGhhc0RpcmVjdGl2ZXMuaGFzT3duUHJvcGVydHkobmFtZSkpZm9yKHZhciBkaXJlY3RpdmUsZGlyZWN0aXZlcz0kaW5qZWN0b3IuZ2V0KG5hbWUrU3VmZml4KSxpPTAsaWk9ZGlyZWN0aXZlcy5sZW5ndGg7aWk+aTtpKyspdHJ5e2RpcmVjdGl2ZT1kaXJlY3RpdmVzW2ldLChtYXhQcmlvcml0eT09PXVuZGVmaW5lZHx8bWF4UHJpb3JpdHk+ZGlyZWN0aXZlLnByaW9yaXR5KSYmLTEhPWRpcmVjdGl2ZS5yZXN0cmljdC5pbmRleE9mKGxvY2F0aW9uKSYmKHN0YXJ0QXR0ck5hbWUmJihkaXJlY3RpdmU9aW5oZXJpdChkaXJlY3RpdmUseyQkc3RhcnQ6c3RhcnRBdHRyTmFtZSwkJGVuZDplbmRBdHRyTmFtZX0pKSx0RGlyZWN0aXZlcy5wdXNoKGRpcmVjdGl2ZSksbWF0Y2g9ZGlyZWN0aXZlKX1jYXRjaChlKXskZXhjZXB0aW9uSGFuZGxlcihlKX1yZXR1cm4gbWF0Y2h9ZnVuY3Rpb24gbWVyZ2VUZW1wbGF0ZUF0dHJpYnV0ZXMoZHN0LHNyYyl7dmFyIHNyY0F0dHI9c3JjLiRhdHRyLGRzdEF0dHI9ZHN0LiRhdHRyLCRlbGVtZW50PWRzdC4kJGVsZW1lbnQ7Zm9yRWFjaChkc3QsZnVuY3Rpb24odmFsdWUsa2V5KXsiJCIhPWtleS5jaGFyQXQoMCkmJihzcmNba2V5XSYmc3JjW2tleV0hPT12YWx1ZSYmKHZhbHVlKz0oInN0eWxlIj09PWtleT8iOyI6IiAiKStzcmNba2V5XSksZHN0LiRzZXQoa2V5LHZhbHVlLCEwLHNyY0F0dHJba2V5XSkpfSksZm9yRWFjaChzcmMsZnVuY3Rpb24odmFsdWUsa2V5KXsiY2xhc3MiPT1rZXk/KHNhZmVBZGRDbGFzcygkZWxlbWVudCx2YWx1ZSksZHN0WyJjbGFzcyJdPShkc3RbImNsYXNzIl0/ZHN0WyJjbGFzcyJdKyIgIjoiIikrdmFsdWUpOiJzdHlsZSI9PWtleT8oJGVsZW1lbnQuYXR0cigic3R5bGUiLCRlbGVtZW50LmF0dHIoInN0eWxlIikrIjsiK3ZhbHVlKSxkc3Quc3R5bGU9KGRzdC5zdHlsZT9kc3Quc3R5bGUrIjsiOiIiKSt2YWx1ZSk6IiQiPT1rZXkuY2hhckF0KDApfHxkc3QuaGFzT3duUHJvcGVydHkoa2V5KXx8KGRzdFtrZXldPXZhbHVlLGRzdEF0dHJba2V5XT1zcmNBdHRyW2tleV0pfSl9ZnVuY3Rpb24gY29tcGlsZVRlbXBsYXRlVXJsKGRpcmVjdGl2ZXMsJGNvbXBpbGVOb2RlLHRBdHRycywkcm9vdEVsZW1lbnQsY2hpbGRUcmFuc2NsdWRlRm4scHJlTGlua0Zucyxwb3N0TGlua0ZucyxwcmV2aW91c0NvbXBpbGVDb250ZXh0KXt2YXIgYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4sYWZ0ZXJUZW1wbGF0ZUNoaWxkTGlua0ZuLGxpbmtRdWV1ZT1bXSxiZWZvcmVUZW1wbGF0ZUNvbXBpbGVOb2RlPSRjb21waWxlTm9kZVswXSxvcmlnQXN5bmNEaXJlY3RpdmU9ZGlyZWN0aXZlcy5zaGlmdCgpLGRlcml2ZWRTeW5jRGlyZWN0aXZlPWV4dGVuZCh7fSxvcmlnQXN5bmNEaXJlY3RpdmUse3RlbXBsYXRlVXJsOm51bGwsdHJhbnNjbHVkZTpudWxsLHJlcGxhY2U6bnVsbCwkJG9yaWdpbmFsRGlyZWN0aXZlOm9yaWdBc3luY0RpcmVjdGl2ZX0pLHRlbXBsYXRlVXJsPWlzRnVuY3Rpb24ob3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlVXJsKT9vcmlnQXN5bmNEaXJlY3RpdmUudGVtcGxhdGVVcmwoJGNvbXBpbGVOb2RlLHRBdHRycyk6b3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlVXJsO3JldHVybiAkY29tcGlsZU5vZGUuZW1wdHkoKSwkaHR0cC5nZXQoJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmwodGVtcGxhdGVVcmwpLHtjYWNoZTokdGVtcGxhdGVDYWNoZX0pLnN1Y2Nlc3MoZnVuY3Rpb24oY29udGVudCl7dmFyIGNvbXBpbGVOb2RlLHRlbXBUZW1wbGF0ZUF0dHJzLCR0ZW1wbGF0ZSxjaGlsZEJvdW5kVHJhbnNjbHVkZUZuO2lmKGNvbnRlbnQ9ZGVub3JtYWxpemVUZW1wbGF0ZShjb250ZW50KSxvcmlnQXN5bmNEaXJlY3RpdmUucmVwbGFjZSl7aWYoJHRlbXBsYXRlPWpxTGl0ZUlzVGV4dE5vZGUoY29udGVudCk/W106anFMaXRlKHRyaW0oY29udGVudCkpLGNvbXBpbGVOb2RlPSR0ZW1wbGF0ZVswXSwxIT0kdGVtcGxhdGUubGVuZ3RofHwxIT09Y29tcGlsZU5vZGUubm9kZVR5cGUpdGhyb3cgJGNvbXBpbGVNaW5FcnIoInRwbHJ0IiwiVGVtcGxhdGUgZm9yIGRpcmVjdGl2ZSAnezB9JyBtdXN0IGhhdmUgZXhhY3RseSBvbmUgcm9vdCBlbGVtZW50LiB7MX0iLG9yaWdBc3luY0RpcmVjdGl2ZS5uYW1lLHRlbXBsYXRlVXJsKTt0ZW1wVGVtcGxhdGVBdHRycz17JGF0dHI6e319LHJlcGxhY2VXaXRoKCRyb290RWxlbWVudCwkY29tcGlsZU5vZGUsY29tcGlsZU5vZGUpO3ZhciB0ZW1wbGF0ZURpcmVjdGl2ZXM9Y29sbGVjdERpcmVjdGl2ZXMoY29tcGlsZU5vZGUsW10sdGVtcFRlbXBsYXRlQXR0cnMpO2lzT2JqZWN0KG9yaWdBc3luY0RpcmVjdGl2ZS5zY29wZSkmJm1hcmtEaXJlY3RpdmVzQXNJc29sYXRlKHRlbXBsYXRlRGlyZWN0aXZlcyksZGlyZWN0aXZlcz10ZW1wbGF0ZURpcmVjdGl2ZXMuY29uY2F0KGRpcmVjdGl2ZXMpLG1lcmdlVGVtcGxhdGVBdHRyaWJ1dGVzKHRBdHRycyx0ZW1wVGVtcGxhdGVBdHRycyl9ZWxzZSBjb21waWxlTm9kZT1iZWZvcmVUZW1wbGF0ZUNvbXBpbGVOb2RlLCRjb21waWxlTm9kZS5odG1sKGNvbnRlbnQpO2ZvcihkaXJlY3RpdmVzLnVuc2hpZnQoZGVyaXZlZFN5bmNEaXJlY3RpdmUpLGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuPWFwcGx5RGlyZWN0aXZlc1RvTm9kZShkaXJlY3RpdmVzLGNvbXBpbGVOb2RlLHRBdHRycyxjaGlsZFRyYW5zY2x1ZGVGbiwkY29tcGlsZU5vZGUsb3JpZ0FzeW5jRGlyZWN0aXZlLHByZUxpbmtGbnMscG9zdExpbmtGbnMscHJldmlvdXNDb21waWxlQ29udGV4dCksZm9yRWFjaCgkcm9vdEVsZW1lbnQsZnVuY3Rpb24obm9kZSxpKXtub2RlPT1jb21waWxlTm9kZSYmKCRyb290RWxlbWVudFtpXT0kY29tcGlsZU5vZGVbMF0pfSksYWZ0ZXJUZW1wbGF0ZUNoaWxkTGlua0ZuPWNvbXBpbGVOb2RlcygkY29tcGlsZU5vZGVbMF0uY2hpbGROb2RlcyxjaGlsZFRyYW5zY2x1ZGVGbik7bGlua1F1ZXVlLmxlbmd0aDspe3ZhciBzY29wZT1saW5rUXVldWUuc2hpZnQoKSxiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlPWxpbmtRdWV1ZS5zaGlmdCgpLGxpbmtSb290RWxlbWVudD1saW5rUXVldWUuc2hpZnQoKSxib3VuZFRyYW5zY2x1ZGVGbj1saW5rUXVldWUuc2hpZnQoKSxsaW5rTm9kZT0kY29tcGlsZU5vZGVbMF07CmlmKGJlZm9yZVRlbXBsYXRlTGlua05vZGUhPT1iZWZvcmVUZW1wbGF0ZUNvbXBpbGVOb2RlKXt2YXIgb2xkQ2xhc3Nlcz1iZWZvcmVUZW1wbGF0ZUxpbmtOb2RlLmNsYXNzTmFtZTtwcmV2aW91c0NvbXBpbGVDb250ZXh0Lmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlJiZvcmlnQXN5bmNEaXJlY3RpdmUucmVwbGFjZXx8KGxpbmtOb2RlPWpxTGl0ZUNsb25lKGNvbXBpbGVOb2RlKSkscmVwbGFjZVdpdGgobGlua1Jvb3RFbGVtZW50LGpxTGl0ZShiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlKSxsaW5rTm9kZSksc2FmZUFkZENsYXNzKGpxTGl0ZShsaW5rTm9kZSksb2xkQ2xhc3Nlcyl9Y2hpbGRCb3VuZFRyYW5zY2x1ZGVGbj1hZnRlclRlbXBsYXRlTm9kZUxpbmtGbi50cmFuc2NsdWRlT25UaGlzRWxlbWVudD9jcmVhdGVCb3VuZFRyYW5zY2x1ZGVGbihzY29wZSxhZnRlclRlbXBsYXRlTm9kZUxpbmtGbi50cmFuc2NsdWRlLGJvdW5kVHJhbnNjbHVkZUZuKTpib3VuZFRyYW5zY2x1ZGVGbixhZnRlclRlbXBsYXRlTm9kZUxpbmtGbihhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4sc2NvcGUsbGlua05vZGUsJHJvb3RFbGVtZW50LGNoaWxkQm91bmRUcmFuc2NsdWRlRm4pfWxpbmtRdWV1ZT1udWxsfSkuZXJyb3IoZnVuY3Rpb24ocmVzcG9uc2UsY29kZSxoZWFkZXJzLGNvbmZpZyl7dGhyb3cgJGNvbXBpbGVNaW5FcnIoInRwbG9hZCIsIkZhaWxlZCB0byBsb2FkIHRlbXBsYXRlOiB7MH0iLGNvbmZpZy51cmwpfSksZnVuY3Rpb24oaWdub3JlQ2hpbGRMaW5rRm4sc2NvcGUsbm9kZSxyb290RWxlbWVudCxib3VuZFRyYW5zY2x1ZGVGbil7dmFyIGNoaWxkQm91bmRUcmFuc2NsdWRlRm49Ym91bmRUcmFuc2NsdWRlRm47bGlua1F1ZXVlPyhsaW5rUXVldWUucHVzaChzY29wZSksbGlua1F1ZXVlLnB1c2gobm9kZSksbGlua1F1ZXVlLnB1c2gocm9vdEVsZW1lbnQpLGxpbmtRdWV1ZS5wdXNoKGNoaWxkQm91bmRUcmFuc2NsdWRlRm4pKTooYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQmJihjaGlsZEJvdW5kVHJhbnNjbHVkZUZuPWNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGUsYm91bmRUcmFuc2NsdWRlRm4pKSxhZnRlclRlbXBsYXRlTm9kZUxpbmtGbihhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4sc2NvcGUsbm9kZSxyb290RWxlbWVudCxjaGlsZEJvdW5kVHJhbnNjbHVkZUZuKSl9fWZ1bmN0aW9uIGJ5UHJpb3JpdHkoYSxiKXt2YXIgZGlmZj1iLnByaW9yaXR5LWEucHJpb3JpdHk7cmV0dXJuIDAhPT1kaWZmP2RpZmY6YS5uYW1lIT09Yi5uYW1lP2EubmFtZTxiLm5hbWU/LTE6MTphLmluZGV4LWIuaW5kZXh9ZnVuY3Rpb24gYXNzZXJ0Tm9EdXBsaWNhdGUod2hhdCxwcmV2aW91c0RpcmVjdGl2ZSxkaXJlY3RpdmUsZWxlbWVudCl7aWYocHJldmlvdXNEaXJlY3RpdmUpdGhyb3cgJGNvbXBpbGVNaW5FcnIoIm11bHRpZGlyIiwiTXVsdGlwbGUgZGlyZWN0aXZlcyBbezB9LCB7MX1dIGFza2luZyBmb3IgezJ9IG9uOiB7M30iLHByZXZpb3VzRGlyZWN0aXZlLm5hbWUsZGlyZWN0aXZlLm5hbWUsd2hhdCxzdGFydGluZ1RhZyhlbGVtZW50KSl9ZnVuY3Rpb24gYWRkVGV4dEludGVycG9sYXRlRGlyZWN0aXZlKGRpcmVjdGl2ZXMsdGV4dCl7dmFyIGludGVycG9sYXRlRm49JGludGVycG9sYXRlKHRleHQsITApO2ludGVycG9sYXRlRm4mJmRpcmVjdGl2ZXMucHVzaCh7cHJpb3JpdHk6MCxjb21waWxlOmZ1bmN0aW9uKHRlbXBsYXRlTm9kZSl7dmFyIHBhcmVudD10ZW1wbGF0ZU5vZGUucGFyZW50KCksaGFzQ29tcGlsZVBhcmVudD1wYXJlbnQubGVuZ3RoO3JldHVybiBoYXNDb21waWxlUGFyZW50JiZzYWZlQWRkQ2xhc3ModGVtcGxhdGVOb2RlLnBhcmVudCgpLCJuZy1iaW5kaW5nIiksZnVuY3Rpb24oc2NvcGUsbm9kZSl7dmFyIHBhcmVudD1ub2RlLnBhcmVudCgpLGJpbmRpbmdzPXBhcmVudC5kYXRhKCIkYmluZGluZyIpfHxbXTtiaW5kaW5ncy5wdXNoKGludGVycG9sYXRlRm4pLHBhcmVudC5kYXRhKCIkYmluZGluZyIsYmluZGluZ3MpLGhhc0NvbXBpbGVQYXJlbnR8fHNhZmVBZGRDbGFzcyhwYXJlbnQsIm5nLWJpbmRpbmciKSxzY29wZS4kd2F0Y2goaW50ZXJwb2xhdGVGbixmdW5jdGlvbih2YWx1ZSl7bm9kZVswXS5ub2RlVmFsdWU9dmFsdWV9KX19fSl9ZnVuY3Rpb24gZ2V0VHJ1c3RlZENvbnRleHQobm9kZSxhdHRyTm9ybWFsaXplZE5hbWUpe2lmKCJzcmNkb2MiPT1hdHRyTm9ybWFsaXplZE5hbWUpcmV0dXJuICRzY2UuSFRNTDt2YXIgdGFnPW5vZGVOYW1lXyhub2RlKTtyZXR1cm4ieGxpbmtIcmVmIj09YXR0ck5vcm1hbGl6ZWROYW1lfHwiRk9STSI9PXRhZyYmImFjdGlvbiI9PWF0dHJOb3JtYWxpemVkTmFtZXx8IklNRyIhPXRhZyYmKCJzcmMiPT1hdHRyTm9ybWFsaXplZE5hbWV8fCJuZ1NyYyI9PWF0dHJOb3JtYWxpemVkTmFtZSk/JHNjZS5SRVNPVVJDRV9VUkw6dm9pZCAwfWZ1bmN0aW9uIGFkZEF0dHJJbnRlcnBvbGF0ZURpcmVjdGl2ZShub2RlLGRpcmVjdGl2ZXMsdmFsdWUsbmFtZSl7dmFyIGludGVycG9sYXRlRm49JGludGVycG9sYXRlKHZhbHVlLCEwKTtpZihpbnRlcnBvbGF0ZUZuKXtpZigibXVsdGlwbGUiPT09bmFtZSYmIlNFTEVDVCI9PT1ub2RlTmFtZV8obm9kZSkpdGhyb3cgJGNvbXBpbGVNaW5FcnIoInNlbG11bHRpIiwiQmluZGluZyB0byB0aGUgJ211bHRpcGxlJyBhdHRyaWJ1dGUgaXMgbm90IHN1cHBvcnRlZC4gRWxlbWVudDogezB9IixzdGFydGluZ1RhZyhub2RlKSk7ZGlyZWN0aXZlcy5wdXNoKHtwcmlvcml0eToxMDAsY29tcGlsZTpmdW5jdGlvbigpe3JldHVybntwcmU6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyKXt2YXIgJCRvYnNlcnZlcnM9YXR0ci4kJG9ic2VydmVyc3x8KGF0dHIuJCRvYnNlcnZlcnM9e30pO2lmKEVWRU5UX0hBTkRMRVJfQVRUUl9SRUdFWFAudGVzdChuYW1lKSl0aHJvdyAkY29tcGlsZU1pbkVycigibm9kb21ldmVudHMiLCJJbnRlcnBvbGF0aW9ucyBmb3IgSFRNTCBET00gZXZlbnQgYXR0cmlidXRlcyBhcmUgZGlzYWxsb3dlZC4gIFBsZWFzZSB1c2UgdGhlIG5nLSB2ZXJzaW9ucyAoc3VjaCBhcyBuZy1jbGljayBpbnN0ZWFkIG9mIG9uY2xpY2spIGluc3RlYWQuIik7aW50ZXJwb2xhdGVGbj0kaW50ZXJwb2xhdGUoYXR0cltuYW1lXSwhMCxnZXRUcnVzdGVkQ29udGV4dChub2RlLG5hbWUpKSxpbnRlcnBvbGF0ZUZuJiYoYXR0cltuYW1lXT1pbnRlcnBvbGF0ZUZuKHNjb3BlKSwoJCRvYnNlcnZlcnNbbmFtZV18fCgkJG9ic2VydmVyc1tuYW1lXT1bXSkpLiQkaW50ZXI9ITAsKGF0dHIuJCRvYnNlcnZlcnMmJmF0dHIuJCRvYnNlcnZlcnNbbmFtZV0uJCRzY29wZXx8c2NvcGUpLiR3YXRjaChpbnRlcnBvbGF0ZUZuLGZ1bmN0aW9uKG5ld1ZhbHVlLG9sZFZhbHVlKXsiY2xhc3MiPT09bmFtZSYmbmV3VmFsdWUhPW9sZFZhbHVlP2F0dHIuJHVwZGF0ZUNsYXNzKG5ld1ZhbHVlLG9sZFZhbHVlKTphdHRyLiRzZXQobmFtZSxuZXdWYWx1ZSl9KSl9fX19KX19ZnVuY3Rpb24gcmVwbGFjZVdpdGgoJHJvb3RFbGVtZW50LGVsZW1lbnRzVG9SZW1vdmUsbmV3Tm9kZSl7dmFyIGksaWksZmlyc3RFbGVtZW50VG9SZW1vdmU9ZWxlbWVudHNUb1JlbW92ZVswXSxyZW1vdmVDb3VudD1lbGVtZW50c1RvUmVtb3ZlLmxlbmd0aCxwYXJlbnQ9Zmlyc3RFbGVtZW50VG9SZW1vdmUucGFyZW50Tm9kZTtpZigkcm9vdEVsZW1lbnQpZm9yKGk9MCxpaT0kcm9vdEVsZW1lbnQubGVuZ3RoO2lpPmk7aSsrKWlmKCRyb290RWxlbWVudFtpXT09Zmlyc3RFbGVtZW50VG9SZW1vdmUpeyRyb290RWxlbWVudFtpKytdPW5ld05vZGU7Zm9yKHZhciBqPWksajI9aityZW1vdmVDb3VudC0xLGpqPSRyb290RWxlbWVudC5sZW5ndGg7amo+ajtqKyssajIrKylqaj5qMj8kcm9vdEVsZW1lbnRbal09JHJvb3RFbGVtZW50W2oyXTpkZWxldGUgJHJvb3RFbGVtZW50W2pdOyRyb290RWxlbWVudC5sZW5ndGgtPXJlbW92ZUNvdW50LTE7YnJlYWt9cGFyZW50JiZwYXJlbnQucmVwbGFjZUNoaWxkKG5ld05vZGUsZmlyc3RFbGVtZW50VG9SZW1vdmUpO3ZhciBmcmFnbWVudD1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7ZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZmlyc3RFbGVtZW50VG9SZW1vdmUpLG5ld05vZGVbanFMaXRlLmV4cGFuZG9dPWZpcnN0RWxlbWVudFRvUmVtb3ZlW2pxTGl0ZS5leHBhbmRvXTtmb3IodmFyIGs9MSxraz1lbGVtZW50c1RvUmVtb3ZlLmxlbmd0aDtraz5rO2srKyl7dmFyIGVsZW1lbnQ9ZWxlbWVudHNUb1JlbW92ZVtrXTtqcUxpdGUoZWxlbWVudCkucmVtb3ZlKCksZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCksZGVsZXRlIGVsZW1lbnRzVG9SZW1vdmVba119ZWxlbWVudHNUb1JlbW92ZVswXT1uZXdOb2RlLGVsZW1lbnRzVG9SZW1vdmUubGVuZ3RoPTF9ZnVuY3Rpb24gY2xvbmVBbmRBbm5vdGF0ZUZuKGZuLGFubm90YXRpb24pe3JldHVybiBleHRlbmQoZnVuY3Rpb24oKXtyZXR1cm4gZm4uYXBwbHkobnVsbCxhcmd1bWVudHMpfSxmbixhbm5vdGF0aW9uKX12YXIgQXR0cmlidXRlcz1mdW5jdGlvbihlbGVtZW50LGF0dHIpe3RoaXMuJCRlbGVtZW50PWVsZW1lbnQsdGhpcy4kYXR0cj1hdHRyfHx7fX07QXR0cmlidXRlcy5wcm90b3R5cGU9eyRub3JtYWxpemU6ZGlyZWN0aXZlTm9ybWFsaXplLCRhZGRDbGFzczpmdW5jdGlvbihjbGFzc1ZhbCl7Y2xhc3NWYWwmJmNsYXNzVmFsLmxlbmd0aD4wJiYkYW5pbWF0ZS5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCxjbGFzc1ZhbCl9LCRyZW1vdmVDbGFzczpmdW5jdGlvbihjbGFzc1ZhbCl7Y2xhc3NWYWwmJmNsYXNzVmFsLmxlbmd0aD4wJiYkYW5pbWF0ZS5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCxjbGFzc1ZhbCl9LCR1cGRhdGVDbGFzczpmdW5jdGlvbihuZXdDbGFzc2VzLG9sZENsYXNzZXMpe3ZhciB0b0FkZD10b2tlbkRpZmZlcmVuY2UobmV3Q2xhc3NlcyxvbGRDbGFzc2VzKSx0b1JlbW92ZT10b2tlbkRpZmZlcmVuY2Uob2xkQ2xhc3NlcyxuZXdDbGFzc2VzKTswPT09dG9BZGQubGVuZ3RoPyRhbmltYXRlLnJlbW92ZUNsYXNzKHRoaXMuJCRlbGVtZW50LHRvUmVtb3ZlKTowPT09dG9SZW1vdmUubGVuZ3RoPyRhbmltYXRlLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LHRvQWRkKTokYW5pbWF0ZS5zZXRDbGFzcyh0aGlzLiQkZWxlbWVudCx0b0FkZCx0b1JlbW92ZSl9LCRzZXQ6ZnVuY3Rpb24oa2V5LHZhbHVlLHdyaXRlQXR0cixhdHRyTmFtZSl7dmFyIG5vZGVOYW1lLGJvb2xlYW5LZXk9Z2V0Qm9vbGVhbkF0dHJOYW1lKHRoaXMuJCRlbGVtZW50WzBdLGtleSk7Ym9vbGVhbktleSYmKHRoaXMuJCRlbGVtZW50LnByb3Aoa2V5LHZhbHVlKSxhdHRyTmFtZT1ib29sZWFuS2V5KSx0aGlzW2tleV09dmFsdWUsYXR0ck5hbWU/dGhpcy4kYXR0cltrZXldPWF0dHJOYW1lOihhdHRyTmFtZT10aGlzLiRhdHRyW2tleV0sYXR0ck5hbWV8fCh0aGlzLiRhdHRyW2tleV09YXR0ck5hbWU9c25ha2VfY2FzZShrZXksIi0iKSkpLG5vZGVOYW1lPW5vZGVOYW1lXyh0aGlzLiQkZWxlbWVudCksKCJBIj09PW5vZGVOYW1lJiYiaHJlZiI9PT1rZXl8fCJJTUciPT09bm9kZU5hbWUmJiJzcmMiPT09a2V5KSYmKHRoaXNba2V5XT12YWx1ZT0kJHNhbml0aXplVXJpKHZhbHVlLCJzcmMiPT09a2V5KSksd3JpdGVBdHRyIT09ITEmJihudWxsPT09dmFsdWV8fHZhbHVlPT09dW5kZWZpbmVkP3RoaXMuJCRlbGVtZW50LnJlbW92ZUF0dHIoYXR0ck5hbWUpOnRoaXMuJCRlbGVtZW50LmF0dHIoYXR0ck5hbWUsdmFsdWUpKTt2YXIgJCRvYnNlcnZlcnM9dGhpcy4kJG9ic2VydmVyczskJG9ic2VydmVycyYmZm9yRWFjaCgkJG9ic2VydmVyc1trZXldLGZ1bmN0aW9uKGZuKXt0cnl7Zm4odmFsdWUpfWNhdGNoKGUpeyRleGNlcHRpb25IYW5kbGVyKGUpfX0pfSwkb2JzZXJ2ZTpmdW5jdGlvbihrZXksZm4pe3ZhciBhdHRycz10aGlzLCQkb2JzZXJ2ZXJzPWF0dHJzLiQkb2JzZXJ2ZXJzfHwoYXR0cnMuJCRvYnNlcnZlcnM9e30pLGxpc3RlbmVycz0kJG9ic2VydmVyc1trZXldfHwoJCRvYnNlcnZlcnNba2V5XT1bXSk7cmV0dXJuIGxpc3RlbmVycy5wdXNoKGZuKSwkcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKXtsaXN0ZW5lcnMuJCRpbnRlcnx8Zm4oYXR0cnNba2V5XSl9KSxmbn19O3ZhciBzdGFydFN5bWJvbD0kaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKSxlbmRTeW1ib2w9JGludGVycG9sYXRlLmVuZFN5bWJvbCgpLGRlbm9ybWFsaXplVGVtcGxhdGU9Int7Ij09c3RhcnRTeW1ib2x8fCJ9fSI9PWVuZFN5bWJvbD9pZGVudGl0eTpmdW5jdGlvbih0ZW1wbGF0ZSl7cmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UoL1x7XHsvZyxzdGFydFN5bWJvbCkucmVwbGFjZSgvfX0vZyxlbmRTeW1ib2wpfSxOR19BVFRSX0JJTkRJTkc9L15uZ0F0dHJbQS1aXS87cmV0dXJuIGNvbXBpbGV9XX1mdW5jdGlvbiBkaXJlY3RpdmVOb3JtYWxpemUobmFtZSl7cmV0dXJuIGNhbWVsQ2FzZShuYW1lLnJlcGxhY2UoUFJFRklYX1JFR0VYUCwiIikpfWZ1bmN0aW9uIHRva2VuRGlmZmVyZW5jZShzdHIxLHN0cjIpe3ZhciB2YWx1ZXM9IiIsdG9rZW5zMT1zdHIxLnNwbGl0KC9ccysvKSx0b2tlbnMyPXN0cjIuc3BsaXQoL1xzKy8pO291dGVyOmZvcih2YXIgaT0wO2k8dG9rZW5zMS5sZW5ndGg7aSsrKXtmb3IodmFyIHRva2VuPXRva2VuczFbaV0saj0wO2o8dG9rZW5zMi5sZW5ndGg7aisrKWlmKHRva2VuPT10b2tlbnMyW2pdKWNvbnRpbnVlIG91dGVyO3ZhbHVlcys9KHZhbHVlcy5sZW5ndGg+MD8iICI6IiIpK3Rva2VufXJldHVybiB2YWx1ZXN9ZnVuY3Rpb24gJENvbnRyb2xsZXJQcm92aWRlcigpe3ZhciBjb250cm9sbGVycz17fSxDTlRSTF9SRUc9L14oXFMrKShccythc1xzKyhcdyspKT8kLzt0aGlzLnJlZ2lzdGVyPWZ1bmN0aW9uKG5hbWUsY29uc3RydWN0b3Ipe2Fzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsImNvbnRyb2xsZXIiKSxpc09iamVjdChuYW1lKT9leHRlbmQoY29udHJvbGxlcnMsbmFtZSk6Y29udHJvbGxlcnNbbmFtZV09Y29uc3RydWN0b3J9LHRoaXMuJGdldD1bIiRpbmplY3RvciIsIiR3aW5kb3ciLGZ1bmN0aW9uKCRpbmplY3Rvciwkd2luZG93KXtyZXR1cm4gZnVuY3Rpb24oZXhwcmVzc2lvbixsb2NhbHMpe3ZhciBpbnN0YW5jZSxtYXRjaCxjb25zdHJ1Y3RvcixpZGVudGlmaWVyO2lmKGlzU3RyaW5nKGV4cHJlc3Npb24pJiYobWF0Y2g9ZXhwcmVzc2lvbi5tYXRjaChDTlRSTF9SRUcpLGNvbnN0cnVjdG9yPW1hdGNoWzFdLGlkZW50aWZpZXI9bWF0Y2hbM10sZXhwcmVzc2lvbj1jb250cm9sbGVycy5oYXNPd25Qcm9wZXJ0eShjb25zdHJ1Y3Rvcik/Y29udHJvbGxlcnNbY29uc3RydWN0b3JdOmdldHRlcihsb2NhbHMuJHNjb3BlLGNvbnN0cnVjdG9yLCEwKXx8Z2V0dGVyKCR3aW5kb3csY29uc3RydWN0b3IsITApLGFzc2VydEFyZ0ZuKGV4cHJlc3Npb24sY29uc3RydWN0b3IsITApKSxpbnN0YW5jZT0kaW5qZWN0b3IuaW5zdGFudGlhdGUoZXhwcmVzc2lvbixsb2NhbHMpLGlkZW50aWZpZXIpe2lmKCFsb2NhbHN8fCJvYmplY3QiIT10eXBlb2YgbG9jYWxzLiRzY29wZSl0aHJvdyBtaW5FcnIoIiRjb250cm9sbGVyIikoIm5vc2NwIiwiQ2Fubm90IGV4cG9ydCBjb250cm9sbGVyICd7MH0nIGFzICd7MX0nISBObyAkc2NvcGUgb2JqZWN0IHByb3ZpZGVkIHZpYSBgbG9jYWxzYC4iLGNvbnN0cnVjdG9yfHxleHByZXNzaW9uLm5hbWUsaWRlbnRpZmllcik7bG9jYWxzLiRzY29wZVtpZGVudGlmaWVyXT1pbnN0YW5jZX1yZXR1cm4gaW5zdGFuY2V9fV19ZnVuY3Rpb24gJERvY3VtZW50UHJvdmlkZXIoKXt0aGlzLiRnZXQ9WyIkd2luZG93IixmdW5jdGlvbih3aW5kb3cpe3JldHVybiBqcUxpdGUod2luZG93LmRvY3VtZW50KX1dfWZ1bmN0aW9uICRFeGNlcHRpb25IYW5kbGVyUHJvdmlkZXIoKXt0aGlzLiRnZXQ9WyIkbG9nIixmdW5jdGlvbigkbG9nKXtyZXR1cm4gZnVuY3Rpb24oKXskbG9nLmVycm9yLmFwcGx5KCRsb2csYXJndW1lbnRzKX19XX1mdW5jdGlvbiBwYXJzZUhlYWRlcnMoaGVhZGVycyl7dmFyIGtleSx2YWwsaSxwYXJzZWQ9e307cmV0dXJuIGhlYWRlcnM/KGZvckVhY2goaGVhZGVycy5zcGxpdCgiXG4iKSxmdW5jdGlvbihsaW5lKXtpPWxpbmUuaW5kZXhPZigiOiIpLGtleT1sb3dlcmNhc2UodHJpbShsaW5lLnN1YnN0cigwLGkpKSksdmFsPXRyaW0obGluZS5zdWJzdHIoaSsxKSksa2V5JiYocGFyc2VkW2tleV09cGFyc2VkW2tleV0/cGFyc2VkW2tleV0rIiwgIit2YWw6dmFsKX0pLHBhcnNlZCk6cGFyc2VkfWZ1bmN0aW9uIGhlYWRlcnNHZXR0ZXIoaGVhZGVycyl7dmFyIGhlYWRlcnNPYmo9aXNPYmplY3QoaGVhZGVycyk/aGVhZGVyczp1bmRlZmluZWQ7cmV0dXJuIGZ1bmN0aW9uKG5hbWUpe3JldHVybiBoZWFkZXJzT2JqfHwoaGVhZGVyc09iaj1wYXJzZUhlYWRlcnMoaGVhZGVycykpLG5hbWU/aGVhZGVyc09ialtsb3dlcmNhc2UobmFtZSldfHxudWxsOmhlYWRlcnNPYmp9fWZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZGF0YSxoZWFkZXJzLGZucyl7cmV0dXJuIGlzRnVuY3Rpb24oZm5zKT9mbnMoZGF0YSxoZWFkZXJzKTooZm9yRWFjaChmbnMsZnVuY3Rpb24oZm4pe2RhdGE9Zm4oZGF0YSxoZWFkZXJzKX0pLGRhdGEpfWZ1bmN0aW9uIGlzU3VjY2VzcyhzdGF0dXMpe3JldHVybiBzdGF0dXM+PTIwMCYmMzAwPnN0YXR1c31mdW5jdGlvbiAkSHR0cFByb3ZpZGVyKCl7dmFyIEpTT05fU1RBUlQ9L15ccyooXFt8XHtbXlx7XSkvLEpTT05fRU5EPS9bXH1cXV1ccyokLyxQUk9URUNUSU9OX1BSRUZJWD0vXlwpXF1cfScsP1xuLyxDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTj17IkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCJ9LGRlZmF1bHRzPXRoaXMuZGVmYXVsdHM9e3RyYW5zZm9ybVJlc3BvbnNlOltmdW5jdGlvbihkYXRhKXtyZXR1cm4gaXNTdHJpbmcoZGF0YSkmJihkYXRhPWRhdGEucmVwbGFjZShQUk9URUNUSU9OX1BSRUZJWCwiIiksSlNPTl9TVEFSVC50ZXN0KGRhdGEpJiZKU09OX0VORC50ZXN0KGRhdGEpJiYoZGF0YT1mcm9tSnNvbihkYXRhKSkpLGRhdGF9XSx0cmFuc2Zvcm1SZXF1ZXN0OltmdW5jdGlvbihkKXtyZXR1cm4haXNPYmplY3QoZCl8fGlzRmlsZShkKXx8aXNCbG9iKGQpP2Q6dG9Kc29uKGQpfV0saGVhZGVyczp7Y29tbW9uOntBY2NlcHQ6ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKiJ9LHBvc3Q6c2hhbGxvd0NvcHkoQ09OVEVOVF9UWVBFX0FQUExJQ0FUSU9OX0pTT04pLHB1dDpzaGFsbG93Q29weShDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTikscGF0Y2g6c2hhbGxvd0NvcHkoQ09OVEVOVF9UWVBFX0FQUExJQ0FUSU9OX0pTT04pfSx4c3JmQ29va2llTmFtZToiWFNSRi1UT0tFTiIseHNyZkhlYWRlck5hbWU6IlgtWFNSRi1UT0tFTiJ9LGludGVyY2VwdG9yRmFjdG9yaWVzPXRoaXMuaW50ZXJjZXB0b3JzPVtdLHJlc3BvbnNlSW50ZXJjZXB0b3JGYWN0b3JpZXM9dGhpcy5yZXNwb25zZUludGVyY2VwdG9ycz1bXTt0aGlzLiRnZXQ9WyIkaHR0cEJhY2tlbmQiLCIkYnJvd3NlciIsIiRjYWNoZUZhY3RvcnkiLCIkcm9vdFNjb3BlIiwiJHEiLCIkaW5qZWN0b3IiLGZ1bmN0aW9uKCRodHRwQmFja2VuZCwkYnJvd3NlciwkY2FjaGVGYWN0b3J5LCRyb290U2NvcGUsJHEsJGluamVjdG9yKXtmdW5jdGlvbiAkaHR0cChyZXF1ZXN0Q29uZmlnKXtmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShyZXNwb25zZSl7dmFyIHJlc3A9ZXh0ZW5kKHt9LHJlc3BvbnNlLHtkYXRhOnRyYW5zZm9ybURhdGEocmVzcG9uc2UuZGF0YSxyZXNwb25zZS5oZWFkZXJzLGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZSl9KTtyZXR1cm4gaXNTdWNjZXNzKHJlc3BvbnNlLnN0YXR1cyk/cmVzcDokcS5yZWplY3QocmVzcCl9ZnVuY3Rpb24gbWVyZ2VIZWFkZXJzKGNvbmZpZyl7ZnVuY3Rpb24gZXhlY0hlYWRlcnMoaGVhZGVycyl7dmFyIGhlYWRlckNvbnRlbnQ7Zm9yRWFjaChoZWFkZXJzLGZ1bmN0aW9uKGhlYWRlckZuLGhlYWRlcil7aXNGdW5jdGlvbihoZWFkZXJGbikmJihoZWFkZXJDb250ZW50PWhlYWRlckZuKCksbnVsbCE9aGVhZGVyQ29udGVudD9oZWFkZXJzW2hlYWRlcl09aGVhZGVyQ29udGVudDpkZWxldGUgaGVhZGVyc1toZWFkZXJdKX0pfXZhciBkZWZIZWFkZXJOYW1lLGxvd2VyY2FzZURlZkhlYWRlck5hbWUscmVxSGVhZGVyTmFtZSxkZWZIZWFkZXJzPWRlZmF1bHRzLmhlYWRlcnMscmVxSGVhZGVycz1leHRlbmQoe30sY29uZmlnLmhlYWRlcnMpO2RlZkhlYWRlcnM9ZXh0ZW5kKHt9LGRlZkhlYWRlcnMuY29tbW9uLGRlZkhlYWRlcnNbbG93ZXJjYXNlKGNvbmZpZy5tZXRob2QpXSk7ZGVmYXVsdEhlYWRlcnNJdGVyYXRpb246Zm9yKGRlZkhlYWRlck5hbWUgaW4gZGVmSGVhZGVycyl7bG93ZXJjYXNlRGVmSGVhZGVyTmFtZT1sb3dlcmNhc2UoZGVmSGVhZGVyTmFtZSk7Zm9yKHJlcUhlYWRlck5hbWUgaW4gcmVxSGVhZGVycylpZihsb3dlcmNhc2UocmVxSGVhZGVyTmFtZSk9PT1sb3dlcmNhc2VEZWZIZWFkZXJOYW1lKWNvbnRpbnVlIGRlZmF1bHRIZWFkZXJzSXRlcmF0aW9uO3JlcUhlYWRlcnNbZGVmSGVhZGVyTmFtZV09ZGVmSGVhZGVyc1tkZWZIZWFkZXJOYW1lXX1yZXR1cm4gZXhlY0hlYWRlcnMocmVxSGVhZGVycykscmVxSGVhZGVyc312YXIgY29uZmlnPXttZXRob2Q6ImdldCIsdHJhbnNmb3JtUmVxdWVzdDpkZWZhdWx0cy50cmFuc2Zvcm1SZXF1ZXN0LHRyYW5zZm9ybVJlc3BvbnNlOmRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlfSxoZWFkZXJzPW1lcmdlSGVhZGVycyhyZXF1ZXN0Q29uZmlnKTtleHRlbmQoY29uZmlnLHJlcXVlc3RDb25maWcpLGNvbmZpZy5oZWFkZXJzPWhlYWRlcnMsY29uZmlnLm1ldGhvZD11cHBlcmNhc2UoY29uZmlnLm1ldGhvZCk7dmFyIHNlcnZlclJlcXVlc3Q9ZnVuY3Rpb24oY29uZmlnKXtoZWFkZXJzPWNvbmZpZy5oZWFkZXJzO3ZhciByZXFEYXRhPXRyYW5zZm9ybURhdGEoY29uZmlnLmRhdGEsaGVhZGVyc0dldHRlcihoZWFkZXJzKSxjb25maWcudHJhbnNmb3JtUmVxdWVzdCk7cmV0dXJuIGlzVW5kZWZpbmVkKHJlcURhdGEpJiZmb3JFYWNoKGhlYWRlcnMsZnVuY3Rpb24odmFsdWUsaGVhZGVyKXsiY29udGVudC10eXBlIj09PWxvd2VyY2FzZShoZWFkZXIpJiZkZWxldGUgaGVhZGVyc1toZWFkZXJdfSksaXNVbmRlZmluZWQoY29uZmlnLndpdGhDcmVkZW50aWFscykmJiFpc1VuZGVmaW5lZChkZWZhdWx0cy53aXRoQ3JlZGVudGlhbHMpJiYoY29uZmlnLndpdGhDcmVkZW50aWFscz1kZWZhdWx0cy53aXRoQ3JlZGVudGlhbHMpLHNlbmRSZXEoY29uZmlnLHJlcURhdGEsaGVhZGVycykudGhlbih0cmFuc2Zvcm1SZXNwb25zZSx0cmFuc2Zvcm1SZXNwb25zZSl9LGNoYWluPVtzZXJ2ZXJSZXF1ZXN0LHVuZGVmaW5lZF0scHJvbWlzZT0kcS53aGVuKGNvbmZpZyk7Zm9yKGZvckVhY2gocmV2ZXJzZWRJbnRlcmNlcHRvcnMsZnVuY3Rpb24oaW50ZXJjZXB0b3IpeyhpbnRlcmNlcHRvci5yZXF1ZXN0fHxpbnRlcmNlcHRvci5yZXF1ZXN0RXJyb3IpJiZjaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLnJlcXVlc3QsaW50ZXJjZXB0b3IucmVxdWVzdEVycm9yKSwoaW50ZXJjZXB0b3IucmVzcG9uc2V8fGludGVyY2VwdG9yLnJlc3BvbnNlRXJyb3IpJiZjaGFpbi5wdXNoKGludGVyY2VwdG9yLnJlc3BvbnNlLGludGVyY2VwdG9yLnJlc3BvbnNlRXJyb3IpfSk7Y2hhaW4ubGVuZ3RoOyl7dmFyIHRoZW5Gbj1jaGFpbi5zaGlmdCgpLHJlamVjdEZuPWNoYWluLnNoaWZ0KCk7cHJvbWlzZT1wcm9taXNlLnRoZW4odGhlbkZuLHJlamVjdEZuKX1yZXR1cm4gcHJvbWlzZS5zdWNjZXNzPWZ1bmN0aW9uKGZuKXtyZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtmbihyZXNwb25zZS5kYXRhLHJlc3BvbnNlLnN0YXR1cyxyZXNwb25zZS5oZWFkZXJzLGNvbmZpZyl9KSxwcm9taXNlfSxwcm9taXNlLmVycm9yPWZ1bmN0aW9uKGZuKXtyZXR1cm4gcHJvbWlzZS50aGVuKG51bGwsZnVuY3Rpb24ocmVzcG9uc2Upe2ZuKHJlc3BvbnNlLmRhdGEscmVzcG9uc2Uuc3RhdHVzLHJlc3BvbnNlLmhlYWRlcnMsY29uZmlnKX0pLHByb21pc2V9LHByb21pc2V9ZnVuY3Rpb24gY3JlYXRlU2hvcnRNZXRob2RzKCl7Zm9yRWFjaChhcmd1bWVudHMsZnVuY3Rpb24obmFtZSl7JGh0dHBbbmFtZV09ZnVuY3Rpb24odXJsLGNvbmZpZyl7cmV0dXJuICRodHRwKGV4dGVuZChjb25maWd8fHt9LHttZXRob2Q6bmFtZSx1cmw6dXJsfSkpfX0pfWZ1bmN0aW9uIGNyZWF0ZVNob3J0TWV0aG9kc1dpdGhEYXRhKCl7Zm9yRWFjaChhcmd1bWVudHMsZnVuY3Rpb24obmFtZSl7JGh0dHBbbmFtZV09ZnVuY3Rpb24odXJsLGRhdGEsY29uZmlnKXtyZXR1cm4gJGh0dHAoZXh0ZW5kKGNvbmZpZ3x8e30se21ldGhvZDpuYW1lLHVybDp1cmwsZGF0YTpkYXRhfSkpfX0pfWZ1bmN0aW9uIHNlbmRSZXEoY29uZmlnLHJlcURhdGEscmVxSGVhZGVycyl7ZnVuY3Rpb24gZG9uZShzdGF0dXMscmVzcG9uc2UsaGVhZGVyc1N0cmluZyxzdGF0dXNUZXh0KXtjYWNoZSYmKGlzU3VjY2VzcyhzdGF0dXMpP2NhY2hlLnB1dCh1cmwsW3N0YXR1cyxyZXNwb25zZSxwYXJzZUhlYWRlcnMoaGVhZGVyc1N0cmluZyksc3RhdHVzVGV4dF0pOmNhY2hlLnJlbW92ZSh1cmwpKSxyZXNvbHZlUHJvbWlzZShyZXNwb25zZSxzdGF0dXMsaGVhZGVyc1N0cmluZyxzdGF0dXNUZXh0KSwkcm9vdFNjb3BlLiQkcGhhc2V8fCRyb290U2NvcGUuJGFwcGx5KCl9ZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UocmVzcG9uc2Usc3RhdHVzLGhlYWRlcnMsc3RhdHVzVGV4dCl7c3RhdHVzPU1hdGgubWF4KHN0YXR1cywwKSwoaXNTdWNjZXNzKHN0YXR1cyk/ZGVmZXJyZWQucmVzb2x2ZTpkZWZlcnJlZC5yZWplY3QpKHtkYXRhOnJlc3BvbnNlLHN0YXR1czpzdGF0dXMsaGVhZGVyczpoZWFkZXJzR2V0dGVyKGhlYWRlcnMpLGNvbmZpZzpjb25maWcsc3RhdHVzVGV4dDpzdGF0dXNUZXh0fSl9ZnVuY3Rpb24gcmVtb3ZlUGVuZGluZ1JlcSgpe3ZhciBpZHg9aW5kZXhPZigkaHR0cC5wZW5kaW5nUmVxdWVzdHMsY29uZmlnKTstMSE9PWlkeCYmJGh0dHAucGVuZGluZ1JlcXVlc3RzLnNwbGljZShpZHgsMSl9dmFyIGNhY2hlLGNhY2hlZFJlc3AsZGVmZXJyZWQ9JHEuZGVmZXIoKSxwcm9taXNlPWRlZmVycmVkLnByb21pc2UsdXJsPWJ1aWxkVXJsKGNvbmZpZy51cmwsY29uZmlnLnBhcmFtcyk7aWYoJGh0dHAucGVuZGluZ1JlcXVlc3RzLnB1c2goY29uZmlnKSxwcm9taXNlLnRoZW4ocmVtb3ZlUGVuZGluZ1JlcSxyZW1vdmVQZW5kaW5nUmVxKSwhY29uZmlnLmNhY2hlJiYhZGVmYXVsdHMuY2FjaGV8fGNvbmZpZy5jYWNoZT09PSExfHwiR0VUIiE9PWNvbmZpZy5tZXRob2QmJiJKU09OUCIhPT1jb25maWcubWV0aG9kfHwoY2FjaGU9aXNPYmplY3QoY29uZmlnLmNhY2hlKT9jb25maWcuY2FjaGU6aXNPYmplY3QoZGVmYXVsdHMuY2FjaGUpP2RlZmF1bHRzLmNhY2hlOmRlZmF1bHRDYWNoZSksY2FjaGUpaWYoY2FjaGVkUmVzcD1jYWNoZS5nZXQodXJsKSxpc0RlZmluZWQoY2FjaGVkUmVzcCkpe2lmKGlzUHJvbWlzZUxpa2UoY2FjaGVkUmVzcCkpcmV0dXJuIGNhY2hlZFJlc3AudGhlbihyZW1vdmVQZW5kaW5nUmVxLHJlbW92ZVBlbmRpbmdSZXEpLGNhY2hlZFJlc3A7aXNBcnJheShjYWNoZWRSZXNwKT9yZXNvbHZlUHJvbWlzZShjYWNoZWRSZXNwWzFdLGNhY2hlZFJlc3BbMF0sc2hhbGxvd0NvcHkoY2FjaGVkUmVzcFsyXSksY2FjaGVkUmVzcFszXSk6cmVzb2x2ZVByb21pc2UoY2FjaGVkUmVzcCwyMDAse30sIk9LIil9ZWxzZSBjYWNoZS5wdXQodXJsLHByb21pc2UpO2lmKGlzVW5kZWZpbmVkKGNhY2hlZFJlc3ApKXt2YXIgeHNyZlZhbHVlPXVybElzU2FtZU9yaWdpbihjb25maWcudXJsKT8kYnJvd3Nlci5jb29raWVzKClbY29uZmlnLnhzcmZDb29raWVOYW1lfHxkZWZhdWx0cy54c3JmQ29va2llTmFtZV06dW5kZWZpbmVkO3hzcmZWYWx1ZSYmKHJlcUhlYWRlcnNbY29uZmlnLnhzcmZIZWFkZXJOYW1lfHxkZWZhdWx0cy54c3JmSGVhZGVyTmFtZV09eHNyZlZhbHVlKSwkaHR0cEJhY2tlbmQoY29uZmlnLm1ldGhvZCx1cmwscmVxRGF0YSxkb25lLHJlcUhlYWRlcnMsY29uZmlnLnRpbWVvdXQsY29uZmlnLndpdGhDcmVkZW50aWFscyxjb25maWcucmVzcG9uc2VUeXBlKX1yZXR1cm4gcHJvbWlzZX1mdW5jdGlvbiBidWlsZFVybCh1cmwscGFyYW1zKXtpZighcGFyYW1zKXJldHVybiB1cmw7dmFyIHBhcnRzPVtdO3JldHVybiBmb3JFYWNoU29ydGVkKHBhcmFtcyxmdW5jdGlvbih2YWx1ZSxrZXkpe251bGw9PT12YWx1ZXx8aXNVbmRlZmluZWQodmFsdWUpfHwoaXNBcnJheSh2YWx1ZSl8fCh2YWx1ZT1bdmFsdWVdKSxmb3JFYWNoKHZhbHVlLGZ1bmN0aW9uKHYpe2lzT2JqZWN0KHYpJiYodj1pc0RhdGUodik/di50b0lTT1N0cmluZygpOnRvSnNvbih2KSkscGFydHMucHVzaChlbmNvZGVVcmlRdWVyeShrZXkpKyI9IitlbmNvZGVVcmlRdWVyeSh2KSl9KSl9KSxwYXJ0cy5sZW5ndGg+MCYmKHVybCs9KC0xPT11cmwuaW5kZXhPZigiPyIpPyI/IjoiJiIpK3BhcnRzLmpvaW4oIiYiKSksdXJsfXZhciBkZWZhdWx0Q2FjaGU9JGNhY2hlRmFjdG9yeSgiJGh0dHAiKSxyZXZlcnNlZEludGVyY2VwdG9ycz1bXTtyZXR1cm4gZm9yRWFjaChpbnRlcmNlcHRvckZhY3RvcmllcyxmdW5jdGlvbihpbnRlcmNlcHRvckZhY3Rvcnkpe3JldmVyc2VkSW50ZXJjZXB0b3JzLnVuc2hpZnQoaXNTdHJpbmcoaW50ZXJjZXB0b3JGYWN0b3J5KT8kaW5qZWN0b3IuZ2V0KGludGVyY2VwdG9yRmFjdG9yeSk6JGluamVjdG9yLmludm9rZShpbnRlcmNlcHRvckZhY3RvcnkpKX0pLGZvckVhY2gocmVzcG9uc2VJbnRlcmNlcHRvckZhY3RvcmllcyxmdW5jdGlvbihpbnRlcmNlcHRvckZhY3RvcnksaW5kZXgpe3ZhciByZXNwb25zZUZuPWlzU3RyaW5nKGludGVyY2VwdG9yRmFjdG9yeSk/JGluamVjdG9yLmdldChpbnRlcmNlcHRvckZhY3RvcnkpOiRpbmplY3Rvci5pbnZva2UoaW50ZXJjZXB0b3JGYWN0b3J5KTtyZXZlcnNlZEludGVyY2VwdG9ycy5zcGxpY2UoaW5kZXgsMCx7cmVzcG9uc2U6ZnVuY3Rpb24ocmVzcG9uc2Upe3JldHVybiByZXNwb25zZUZuKCRxLndoZW4ocmVzcG9uc2UpKX0scmVzcG9uc2VFcnJvcjpmdW5jdGlvbihyZXNwb25zZSl7cmV0dXJuIHJlc3BvbnNlRm4oJHEucmVqZWN0KHJlc3BvbnNlKSl9fSl9KSwkaHR0cC5wZW5kaW5nUmVxdWVzdHM9W10sY3JlYXRlU2hvcnRNZXRob2RzKCJnZXQiLCJkZWxldGUiLCJoZWFkIiwianNvbnAiKSxjcmVhdGVTaG9ydE1ldGhvZHNXaXRoRGF0YSgicG9zdCIsInB1dCIpLCRodHRwLmRlZmF1bHRzPWRlZmF1bHRzLCRodHRwfV19ZnVuY3Rpb24gY3JlYXRlWGhyKG1ldGhvZCl7aWYoOD49bXNpZSYmKCFtZXRob2QubWF0Y2goL14oZ2V0fHBvc3R8aGVhZHxwdXR8ZGVsZXRlfG9wdGlvbnMpJC9pKXx8IXdpbmRvdy5YTUxIdHRwUmVxdWVzdCkpcmV0dXJuIG5ldyB3aW5kb3cuQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKTtpZih3aW5kb3cuWE1MSHR0cFJlcXVlc3QpcmV0dXJuIG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3Q7dGhyb3cgbWluRXJyKCIkaHR0cEJhY2tlbmQiKSgibm94aHIiLCJUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBYTUxIdHRwUmVxdWVzdC4iKX1mdW5jdGlvbiAkSHR0cEJhY2tlbmRQcm92aWRlcigpe3RoaXMuJGdldD1bIiRicm93c2VyIiwiJHdpbmRvdyIsIiRkb2N1bWVudCIsZnVuY3Rpb24oJGJyb3dzZXIsJHdpbmRvdywkZG9jdW1lbnQpe3JldHVybiBjcmVhdGVIdHRwQmFja2VuZCgkYnJvd3NlcixjcmVhdGVYaHIsJGJyb3dzZXIuZGVmZXIsJHdpbmRvdy5hbmd1bGFyLmNhbGxiYWNrcywkZG9jdW1lbnRbMF0pfV19ZnVuY3Rpb24gY3JlYXRlSHR0cEJhY2tlbmQoJGJyb3dzZXIsY3JlYXRlWGhyLCRicm93c2VyRGVmZXIsY2FsbGJhY2tzLHJhd0RvY3VtZW50KXtmdW5jdGlvbiBqc29ucFJlcSh1cmwsY2FsbGJhY2tJZCxkb25lKXt2YXIgc2NyaXB0PXJhd0RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpLGNhbGxiYWNrPW51bGw7cmV0dXJuIHNjcmlwdC50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiLHNjcmlwdC5zcmM9dXJsLHNjcmlwdC5hc3luYz0hMCxjYWxsYmFjaz1mdW5jdGlvbihldmVudCl7cmVtb3ZlRXZlbnRMaXN0ZW5lckZuKHNjcmlwdCwibG9hZCIsY2FsbGJhY2spLHJlbW92ZUV2ZW50TGlzdGVuZXJGbihzY3JpcHQsImVycm9yIixjYWxsYmFjaykscmF3RG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JpcHQpLHNjcmlwdD1udWxsO3ZhciBzdGF0dXM9LTEsdGV4dD0idW5rbm93biI7ZXZlbnQmJigibG9hZCIhPT1ldmVudC50eXBlfHxjYWxsYmFja3NbY2FsbGJhY2tJZF0uY2FsbGVkfHwoZXZlbnQ9e3R5cGU6ImVycm9yIn0pLHRleHQ9ZXZlbnQudHlwZSxzdGF0dXM9ImVycm9yIj09PWV2ZW50LnR5cGU/NDA0OjIwMCksZG9uZSYmZG9uZShzdGF0dXMsdGV4dCl9LGFkZEV2ZW50TGlzdGVuZXJGbihzY3JpcHQsImxvYWQiLGNhbGxiYWNrKSxhZGRFdmVudExpc3RlbmVyRm4oc2NyaXB0LCJlcnJvciIsY2FsbGJhY2spLDg+PW1zaWUmJihzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aXNTdHJpbmcoc2NyaXB0LnJlYWR5U3RhdGUpJiYvbG9hZGVkfGNvbXBsZXRlLy50ZXN0KHNjcmlwdC5yZWFkeVN0YXRlKSYmKHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxjYWxsYmFjayh7dHlwZToibG9hZCJ9KSl9KSxyYXdEb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCksY2FsbGJhY2t9dmFyIEFCT1JURUQ9LTE7cmV0dXJuIGZ1bmN0aW9uKG1ldGhvZCx1cmwscG9zdCxjYWxsYmFjayxoZWFkZXJzLHRpbWVvdXQsd2l0aENyZWRlbnRpYWxzLHJlc3BvbnNlVHlwZSl7ZnVuY3Rpb24gdGltZW91dFJlcXVlc3QoKXtzdGF0dXM9QUJPUlRFRCxqc29ucERvbmUmJmpzb25wRG9uZSgpLHhociYmeGhyLmFib3J0KCl9ZnVuY3Rpb24gY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLHN0YXR1cyxyZXNwb25zZSxoZWFkZXJzU3RyaW5nLHN0YXR1c1RleHQpe3RpbWVvdXRJZCYmJGJyb3dzZXJEZWZlci5jYW5jZWwodGltZW91dElkKSxqc29ucERvbmU9eGhyPW51bGwsMD09PXN0YXR1cyYmKHN0YXR1cz1yZXNwb25zZT8yMDA6ImZpbGUiPT11cmxSZXNvbHZlKHVybCkucHJvdG9jb2w/NDA0OjApLHN0YXR1cz0xMjIzPT09c3RhdHVzPzIwNDpzdGF0dXMsc3RhdHVzVGV4dD1zdGF0dXNUZXh0fHwiIixjYWxsYmFjayhzdGF0dXMscmVzcG9uc2UsaGVhZGVyc1N0cmluZyxzdGF0dXNUZXh0KSwkYnJvd3Nlci4kJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KG5vb3ApfXZhciBzdGF0dXM7aWYoJGJyb3dzZXIuJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudCgpLHVybD11cmx8fCRicm93c2VyLnVybCgpLCJqc29ucCI9PWxvd2VyY2FzZShtZXRob2QpKXt2YXIgY2FsbGJhY2tJZD0iXyIrKGNhbGxiYWNrcy5jb3VudGVyKyspLnRvU3RyaW5nKDM2KTtjYWxsYmFja3NbY2FsbGJhY2tJZF09ZnVuY3Rpb24oZGF0YSl7Y2FsbGJhY2tzW2NhbGxiYWNrSWRdLmRhdGE9ZGF0YSxjYWxsYmFja3NbY2FsbGJhY2tJZF0uY2FsbGVkPSEwfTt2YXIganNvbnBEb25lPWpzb25wUmVxKHVybC5yZXBsYWNlKCJKU09OX0NBTExCQUNLIiwiYW5ndWxhci5jYWxsYmFja3MuIitjYWxsYmFja0lkKSxjYWxsYmFja0lkLGZ1bmN0aW9uKHN0YXR1cyx0ZXh0KXtjb21wbGV0ZVJlcXVlc3QoY2FsbGJhY2ssc3RhdHVzLGNhbGxiYWNrc1tjYWxsYmFja0lkXS5kYXRhLCIiLHRleHQpLGNhbGxiYWNrc1tjYWxsYmFja0lkXT1ub29wfSl9ZWxzZXt2YXIgeGhyPWNyZWF0ZVhocihtZXRob2QpO2lmKHhoci5vcGVuKG1ldGhvZCx1cmwsITApLGZvckVhY2goaGVhZGVycyxmdW5jdGlvbih2YWx1ZSxrZXkpe2lzRGVmaW5lZCh2YWx1ZSkmJnhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSx2YWx1ZSl9KSx4aHIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoeGhyJiY0PT14aHIucmVhZHlTdGF0ZSl7dmFyIHJlc3BvbnNlSGVhZGVycz1udWxsLHJlc3BvbnNlPW51bGwsc3RhdHVzVGV4dD0iIjtzdGF0dXMhPT1BQk9SVEVEJiYocmVzcG9uc2VIZWFkZXJzPXhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSxyZXNwb25zZT0icmVzcG9uc2UiaW4geGhyP3hoci5yZXNwb25zZTp4aHIucmVzcG9uc2VUZXh0KSxzdGF0dXM9PT1BQk9SVEVEJiYxMD5tc2llfHwoc3RhdHVzVGV4dD14aHIuc3RhdHVzVGV4dCksY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLHN0YXR1c3x8eGhyLnN0YXR1cyxyZXNwb25zZSxyZXNwb25zZUhlYWRlcnMsc3RhdHVzVGV4dCl9fSx3aXRoQ3JlZGVudGlhbHMmJih4aHIud2l0aENyZWRlbnRpYWxzPSEwKSxyZXNwb25zZVR5cGUpdHJ5e3hoci5yZXNwb25zZVR5cGU9cmVzcG9uc2VUeXBlfWNhdGNoKGUpe2lmKCJqc29uIiE9PXJlc3BvbnNlVHlwZSl0aHJvdyBlfXhoci5zZW5kKHBvc3R8fG51bGwpfWlmKHRpbWVvdXQ+MCl2YXIgdGltZW91dElkPSRicm93c2VyRGVmZXIodGltZW91dFJlcXVlc3QsdGltZW91dCk7ZWxzZSBpc1Byb21pc2VMaWtlKHRpbWVvdXQpJiZ0aW1lb3V0LnRoZW4odGltZW91dFJlcXVlc3QpfX1mdW5jdGlvbiAkSW50ZXJwb2xhdGVQcm92aWRlcigpe3ZhciBzdGFydFN5bWJvbD0ie3siLGVuZFN5bWJvbD0ifX0iO3RoaXMuc3RhcnRTeW1ib2w9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZT8oc3RhcnRTeW1ib2w9dmFsdWUsdGhpcyk6c3RhcnRTeW1ib2x9LHRoaXMuZW5kU3ltYm9sPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWU/KGVuZFN5bWJvbD12YWx1ZSx0aGlzKTplbmRTeW1ib2x9LHRoaXMuJGdldD1bIiRwYXJzZSIsIiRleGNlcHRpb25IYW5kbGVyIiwiJHNjZSIsZnVuY3Rpb24oJHBhcnNlLCRleGNlcHRpb25IYW5kbGVyLCRzY2Upe2Z1bmN0aW9uICRpbnRlcnBvbGF0ZSh0ZXh0LG11c3RIYXZlRXhwcmVzc2lvbix0cnVzdGVkQ29udGV4dCl7Zm9yKHZhciBzdGFydEluZGV4LGVuZEluZGV4LGZuLGV4cCxpbmRleD0wLHBhcnRzPVtdLGxlbmd0aD10ZXh0Lmxlbmd0aCxoYXNJbnRlcnBvbGF0aW9uPSExLGNvbmNhdD1bXTtsZW5ndGg+aW5kZXg7KS0xIT0oc3RhcnRJbmRleD10ZXh0LmluZGV4T2Yoc3RhcnRTeW1ib2wsaW5kZXgpKSYmLTEhPShlbmRJbmRleD10ZXh0LmluZGV4T2YoZW5kU3ltYm9sLHN0YXJ0SW5kZXgrc3RhcnRTeW1ib2xMZW5ndGgpKT8oaW5kZXghPXN0YXJ0SW5kZXgmJnBhcnRzLnB1c2godGV4dC5zdWJzdHJpbmcoaW5kZXgsc3RhcnRJbmRleCkpLHBhcnRzLnB1c2goZm49JHBhcnNlKGV4cD10ZXh0LnN1YnN0cmluZyhzdGFydEluZGV4K3N0YXJ0U3ltYm9sTGVuZ3RoLGVuZEluZGV4KSkpLGZuLmV4cD1leHAsaW5kZXg9ZW5kSW5kZXgrZW5kU3ltYm9sTGVuZ3RoLGhhc0ludGVycG9sYXRpb249ITApOihpbmRleCE9bGVuZ3RoJiZwYXJ0cy5wdXNoKHRleHQuc3Vic3RyaW5nKGluZGV4KSksaW5kZXg9bGVuZ3RoKTtpZigobGVuZ3RoPXBhcnRzLmxlbmd0aCl8fChwYXJ0cy5wdXNoKCIiKSxsZW5ndGg9MSksdHJ1c3RlZENvbnRleHQmJnBhcnRzLmxlbmd0aD4xKXRocm93ICRpbnRlcnBvbGF0ZU1pbkVycigibm9jb25jYXQiLCJFcnJvciB3aGlsZSBpbnRlcnBvbGF0aW5nOiB7MH1cblN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIGRpc2FsbG93cyBpbnRlcnBvbGF0aW9ucyB0aGF0IGNvbmNhdGVuYXRlIG11bHRpcGxlIGV4cHJlc3Npb25zIHdoZW4gYSB0cnVzdGVkIHZhbHVlIGlzIHJlcXVpcmVkLiAgU2VlIGh0dHA6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL25nLiRzY2UiLHRleHQpO3JldHVybiFtdXN0SGF2ZUV4cHJlc3Npb258fGhhc0ludGVycG9sYXRpb24/KGNvbmNhdC5sZW5ndGg9bGVuZ3RoLGZuPWZ1bmN0aW9uKGNvbnRleHQpe3RyeXtmb3IodmFyIHBhcnQsaT0wLGlpPWxlbmd0aDtpaT5pO2krKyl7aWYoImZ1bmN0aW9uIj09dHlwZW9mKHBhcnQ9cGFydHNbaV0pKWlmKHBhcnQ9cGFydChjb250ZXh0KSxwYXJ0PXRydXN0ZWRDb250ZXh0PyRzY2UuZ2V0VHJ1c3RlZCh0cnVzdGVkQ29udGV4dCxwYXJ0KTokc2NlLnZhbHVlT2YocGFydCksbnVsbD09cGFydClwYXJ0PSIiO2Vsc2Ugc3dpdGNoKHR5cGVvZiBwYXJ0KXtjYXNlInN0cmluZyI6YnJlYWs7Y2FzZSJudW1iZXIiOnBhcnQ9IiIrcGFydDticmVhaztkZWZhdWx0OnBhcnQ9dG9Kc29uKHBhcnQpfWNvbmNhdFtpXT1wYXJ0fXJldHVybiBjb25jYXQuam9pbigiIil9Y2F0Y2goZXJyKXt2YXIgbmV3RXJyPSRpbnRlcnBvbGF0ZU1pbkVycigiaW50ZXJyIiwiQ2FuJ3QgaW50ZXJwb2xhdGU6IHswfVxuezF9Iix0ZXh0LGVyci50b1N0cmluZygpKTskZXhjZXB0aW9uSGFuZGxlcihuZXdFcnIpfX0sZm4uZXhwPXRleHQsZm4ucGFydHM9cGFydHMsZm4pOnZvaWQgMH12YXIgc3RhcnRTeW1ib2xMZW5ndGg9c3RhcnRTeW1ib2wubGVuZ3RoLGVuZFN5bWJvbExlbmd0aD1lbmRTeW1ib2wubGVuZ3RoO3JldHVybiAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2w9ZnVuY3Rpb24oKXtyZXR1cm4gc3RhcnRTeW1ib2x9LCRpbnRlcnBvbGF0ZS5lbmRTeW1ib2w9ZnVuY3Rpb24oKXtyZXR1cm4gZW5kU3ltYm9sfSwkaW50ZXJwb2xhdGV9XX1mdW5jdGlvbiAkSW50ZXJ2YWxQcm92aWRlcigpe3RoaXMuJGdldD1bIiRyb290U2NvcGUiLCIkd2luZG93IiwiJHEiLGZ1bmN0aW9uKCRyb290U2NvcGUsJHdpbmRvdywkcSl7ZnVuY3Rpb24gaW50ZXJ2YWwoZm4sZGVsYXksY291bnQsaW52b2tlQXBwbHkpe3ZhciBzZXRJbnRlcnZhbD0kd2luZG93LnNldEludGVydmFsLGNsZWFySW50ZXJ2YWw9JHdpbmRvdy5jbGVhckludGVydmFsLGRlZmVycmVkPSRxLmRlZmVyKCkscHJvbWlzZT1kZWZlcnJlZC5wcm9taXNlLGl0ZXJhdGlvbj0wLHNraXBBcHBseT1pc0RlZmluZWQoaW52b2tlQXBwbHkpJiYhaW52b2tlQXBwbHk7cmV0dXJuIGNvdW50PWlzRGVmaW5lZChjb3VudCk/Y291bnQ6MCxwcm9taXNlLnRoZW4obnVsbCxudWxsLGZuKSxwcm9taXNlLiQkaW50ZXJ2YWxJZD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2RlZmVycmVkLm5vdGlmeShpdGVyYXRpb24rKyksY291bnQ+MCYmaXRlcmF0aW9uPj1jb3VudCYmKGRlZmVycmVkLnJlc29sdmUoaXRlcmF0aW9uKSxjbGVhckludGVydmFsKHByb21pc2UuJCRpbnRlcnZhbElkKSxkZWxldGUgaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXSksc2tpcEFwcGx5fHwkcm9vdFNjb3BlLiRhcHBseSgpfSxkZWxheSksaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXT1kZWZlcnJlZCxwcm9taXNlfXZhciBpbnRlcnZhbHM9e307cmV0dXJuIGludGVydmFsLmNhbmNlbD1mdW5jdGlvbihwcm9taXNlKXtyZXR1cm4gcHJvbWlzZSYmcHJvbWlzZS4kJGludGVydmFsSWQgaW4gaW50ZXJ2YWxzPyhpbnRlcnZhbHNbcHJvbWlzZS4kJGludGVydmFsSWRdLnJlamVjdCgiY2FuY2VsZWQiKSwkd2luZG93LmNsZWFySW50ZXJ2YWwocHJvbWlzZS4kJGludGVydmFsSWQpLGRlbGV0ZSBpbnRlcnZhbHNbcHJvbWlzZS4kJGludGVydmFsSWRdLCEwKTohMX0saW50ZXJ2YWx9XX1mdW5jdGlvbiAkTG9jYWxlUHJvdmlkZXIoKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtyZXR1cm57aWQ6ImVuLXVzIixOVU1CRVJfRk9STUFUUzp7REVDSU1BTF9TRVA6Ii4iLEdST1VQX1NFUDoiLCIsUEFUVEVSTlM6W3ttaW5JbnQ6MSxtaW5GcmFjOjAsbWF4RnJhYzozLHBvc1ByZToiIixwb3NTdWY6IiIsbmVnUHJlOiItIixuZWdTdWY6IiIsZ1NpemU6MyxsZ1NpemU6M30se21pbkludDoxLG1pbkZyYWM6MixtYXhGcmFjOjIscG9zUHJlOiLCpCIscG9zU3VmOiIiLG5lZ1ByZToiKMKkIixuZWdTdWY6IikiLGdTaXplOjMsbGdTaXplOjN9XSxDVVJSRU5DWV9TWU06IiQifSxEQVRFVElNRV9GT1JNQVRTOntNT05USDoiSmFudWFyeSxGZWJydWFyeSxNYXJjaCxBcHJpbCxNYXksSnVuZSxKdWx5LEF1Z3VzdCxTZXB0ZW1iZXIsT2N0b2JlcixOb3ZlbWJlcixEZWNlbWJlciIuc3BsaXQoIiwiKSxTSE9SVE1PTlRIOiJKYW4sRmViLE1hcixBcHIsTWF5LEp1bixKdWwsQXVnLFNlcCxPY3QsTm92LERlYyIuc3BsaXQoIiwiKSxEQVk6IlN1bmRheSxNb25kYXksVHVlc2RheSxXZWRuZXNkYXksVGh1cnNkYXksRnJpZGF5LFNhdHVyZGF5Ii5zcGxpdCgiLCIpLFNIT1JUREFZOiJTdW4sTW9uLFR1ZSxXZWQsVGh1LEZyaSxTYXQiLnNwbGl0KCIsIiksQU1QTVM6WyJBTSIsIlBNIl0sbWVkaXVtOiJNTU0gZCwgeSBoOm1tOnNzIGEiLCJzaG9ydCI6Ik0vZC95eSBoOm1tIGEiLGZ1bGxEYXRlOiJFRUVFLCBNTU1NIGQsIHkiLGxvbmdEYXRlOiJNTU1NIGQsIHkiLG1lZGl1bURhdGU6Ik1NTSBkLCB5IixzaG9ydERhdGU6Ik0vZC95eSIsbWVkaXVtVGltZToiaDptbTpzcyBhIixzaG9ydFRpbWU6Img6bW0gYSJ9LHBsdXJhbENhdDpmdW5jdGlvbihudW0pe3JldHVybiAxPT09bnVtPyJvbmUiOiJvdGhlciJ9fX19ZnVuY3Rpb24gZW5jb2RlUGF0aChwYXRoKXtmb3IodmFyIHNlZ21lbnRzPXBhdGguc3BsaXQoIi8iKSxpPXNlZ21lbnRzLmxlbmd0aDtpLS07KXNlZ21lbnRzW2ldPWVuY29kZVVyaVNlZ21lbnQoc2VnbWVudHNbaV0pO3JldHVybiBzZWdtZW50cy5qb2luKCIvIil9ZnVuY3Rpb24gcGFyc2VBYnNvbHV0ZVVybChhYnNvbHV0ZVVybCxsb2NhdGlvbk9iaixhcHBCYXNlKXt2YXIgcGFyc2VkVXJsPXVybFJlc29sdmUoYWJzb2x1dGVVcmwsYXBwQmFzZSk7bG9jYXRpb25PYmouJCRwcm90b2NvbD1wYXJzZWRVcmwucHJvdG9jb2wsbG9jYXRpb25PYmouJCRob3N0PXBhcnNlZFVybC5ob3N0bmFtZSxsb2NhdGlvbk9iai4kJHBvcnQ9aW50KHBhcnNlZFVybC5wb3J0KXx8REVGQVVMVF9QT1JUU1twYXJzZWRVcmwucHJvdG9jb2xdfHxudWxsfWZ1bmN0aW9uIHBhcnNlQXBwVXJsKHJlbGF0aXZlVXJsLGxvY2F0aW9uT2JqLGFwcEJhc2Upe3ZhciBwcmVmaXhlZD0iLyIhPT1yZWxhdGl2ZVVybC5jaGFyQXQoMCk7cHJlZml4ZWQmJihyZWxhdGl2ZVVybD0iLyIrcmVsYXRpdmVVcmwpO3ZhciBtYXRjaD11cmxSZXNvbHZlKHJlbGF0aXZlVXJsLGFwcEJhc2UpO2xvY2F0aW9uT2JqLiQkcGF0aD1kZWNvZGVVUklDb21wb25lbnQocHJlZml4ZWQmJiIvIj09PW1hdGNoLnBhdGhuYW1lLmNoYXJBdCgwKT9tYXRjaC5wYXRobmFtZS5zdWJzdHJpbmcoMSk6bWF0Y2gucGF0aG5hbWUpLGxvY2F0aW9uT2JqLiQkc2VhcmNoPXBhcnNlS2V5VmFsdWUobWF0Y2guc2VhcmNoKSxsb2NhdGlvbk9iai4kJGhhc2g9ZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoLmhhc2gpLGxvY2F0aW9uT2JqLiQkcGF0aCYmIi8iIT1sb2NhdGlvbk9iai4kJHBhdGguY2hhckF0KDApJiYobG9jYXRpb25PYmouJCRwYXRoPSIvIitsb2NhdGlvbk9iai4kJHBhdGgpfWZ1bmN0aW9uIGJlZ2luc1dpdGgoYmVnaW4sd2hvbGUpe3JldHVybiAwPT09d2hvbGUuaW5kZXhPZihiZWdpbik/d2hvbGUuc3Vic3RyKGJlZ2luLmxlbmd0aCk6dm9pZCAwfWZ1bmN0aW9uIHN0cmlwSGFzaCh1cmwpe3ZhciBpbmRleD11cmwuaW5kZXhPZigiIyIpO3JldHVybi0xPT1pbmRleD91cmw6dXJsLnN1YnN0cigwLGluZGV4KX1mdW5jdGlvbiBzdHJpcEZpbGUodXJsKXtyZXR1cm4gdXJsLnN1YnN0cigwLHN0cmlwSGFzaCh1cmwpLmxhc3RJbmRleE9mKCIvIikrMSl9ZnVuY3Rpb24gc2VydmVyQmFzZSh1cmwpe3JldHVybiB1cmwuc3Vic3RyaW5nKDAsdXJsLmluZGV4T2YoIi8iLHVybC5pbmRleE9mKCIvLyIpKzIpKX1mdW5jdGlvbiBMb2NhdGlvbkh0bWw1VXJsKGFwcEJhc2UsYmFzZVByZWZpeCl7dGhpcy4kJGh0bWw1PSEwLGJhc2VQcmVmaXg9YmFzZVByZWZpeHx8IiI7dmFyIGFwcEJhc2VOb0ZpbGU9c3RyaXBGaWxlKGFwcEJhc2UpO3BhcnNlQWJzb2x1dGVVcmwoYXBwQmFzZSx0aGlzLGFwcEJhc2UpLHRoaXMuJCRwYXJzZT1mdW5jdGlvbih1cmwpe3ZhciBwYXRoVXJsPWJlZ2luc1dpdGgoYXBwQmFzZU5vRmlsZSx1cmwpO2lmKCFpc1N0cmluZyhwYXRoVXJsKSl0aHJvdyAkbG9jYXRpb25NaW5FcnIoImlwdGhwcmZ4IiwnSW52YWxpZCB1cmwgInswfSIsIG1pc3NpbmcgcGF0aCBwcmVmaXggInsxfSIuJyx1cmwsYXBwQmFzZU5vRmlsZSk7cGFyc2VBcHBVcmwocGF0aFVybCx0aGlzLGFwcEJhc2UpLHRoaXMuJCRwYXRofHwodGhpcy4kJHBhdGg9Ii8iKSx0aGlzLiQkY29tcG9zZSgpfSx0aGlzLiQkY29tcG9zZT1mdW5jdGlvbigpe3ZhciBzZWFyY2g9dG9LZXlWYWx1ZSh0aGlzLiQkc2VhcmNoKSxoYXNoPXRoaXMuJCRoYXNoPyIjIitlbmNvZGVVcmlTZWdtZW50KHRoaXMuJCRoYXNoKToiIjt0aGlzLiQkdXJsPWVuY29kZVBhdGgodGhpcy4kJHBhdGgpKyhzZWFyY2g/Ij8iK3NlYXJjaDoiIikraGFzaCx0aGlzLiQkYWJzVXJsPWFwcEJhc2VOb0ZpbGUrdGhpcy4kJHVybC5zdWJzdHIoMSl9LHRoaXMuJCRyZXdyaXRlPWZ1bmN0aW9uKHVybCl7dmFyIGFwcFVybCxwcmV2QXBwVXJsO3JldHVybihhcHBVcmw9YmVnaW5zV2l0aChhcHBCYXNlLHVybCkpIT09dW5kZWZpbmVkPyhwcmV2QXBwVXJsPWFwcFVybCwoYXBwVXJsPWJlZ2luc1dpdGgoYmFzZVByZWZpeCxhcHBVcmwpKSE9PXVuZGVmaW5lZD9hcHBCYXNlTm9GaWxlKyhiZWdpbnNXaXRoKCIvIixhcHBVcmwpfHxhcHBVcmwpOmFwcEJhc2UrcHJldkFwcFVybCk6KGFwcFVybD1iZWdpbnNXaXRoKGFwcEJhc2VOb0ZpbGUsdXJsKSkhPT11bmRlZmluZWQ/YXBwQmFzZU5vRmlsZSthcHBVcmw6YXBwQmFzZU5vRmlsZT09dXJsKyIvIj9hcHBCYXNlTm9GaWxlOnZvaWQgMH19ZnVuY3Rpb24gTG9jYXRpb25IYXNoYmFuZ1VybChhcHBCYXNlLGhhc2hQcmVmaXgpe3ZhciBhcHBCYXNlTm9GaWxlPXN0cmlwRmlsZShhcHBCYXNlKTtwYXJzZUFic29sdXRlVXJsKGFwcEJhc2UsdGhpcyxhcHBCYXNlKSx0aGlzLiQkcGFyc2U9ZnVuY3Rpb24odXJsKXtmdW5jdGlvbiByZW1vdmVXaW5kb3dzRHJpdmVOYW1lKHBhdGgsdXJsLGJhc2Upe3ZhciBmaXJzdFBhdGhTZWdtZW50TWF0Y2gsd2luZG93c0ZpbGVQYXRoRXhwPS9eXC9bQS1aXTooXC8uKikvO3JldHVybiAwPT09dXJsLmluZGV4T2YoYmFzZSkmJih1cmw9dXJsLnJlcGxhY2UoYmFzZSwiIikpLHdpbmRvd3NGaWxlUGF0aEV4cC5leGVjKHVybCk/cGF0aDooZmlyc3RQYXRoU2VnbWVudE1hdGNoPXdpbmRvd3NGaWxlUGF0aEV4cC5leGVjKHBhdGgpLGZpcnN0UGF0aFNlZ21lbnRNYXRjaD9maXJzdFBhdGhTZWdtZW50TWF0Y2hbMV06cGF0aCl9dmFyIHdpdGhvdXRCYXNlVXJsPWJlZ2luc1dpdGgoYXBwQmFzZSx1cmwpfHxiZWdpbnNXaXRoKGFwcEJhc2VOb0ZpbGUsdXJsKSx3aXRob3V0SGFzaFVybD0iIyI9PXdpdGhvdXRCYXNlVXJsLmNoYXJBdCgwKT9iZWdpbnNXaXRoKGhhc2hQcmVmaXgsd2l0aG91dEJhc2VVcmwpOnRoaXMuJCRodG1sNT93aXRob3V0QmFzZVVybDoiIjtpZighaXNTdHJpbmcod2l0aG91dEhhc2hVcmwpKXRocm93ICRsb2NhdGlvbk1pbkVycigiaWhzaHByZngiLCdJbnZhbGlkIHVybCAiezB9IiwgbWlzc2luZyBoYXNoIHByZWZpeCAiezF9Ii4nLHVybCxoYXNoUHJlZml4KTtwYXJzZUFwcFVybCh3aXRob3V0SGFzaFVybCx0aGlzLGFwcEJhc2UpLHRoaXMuJCRwYXRoPXJlbW92ZVdpbmRvd3NEcml2ZU5hbWUodGhpcy4kJHBhdGgsd2l0aG91dEhhc2hVcmwsYXBwQmFzZSksdGhpcy4kJGNvbXBvc2UoKX0sdGhpcy4kJGNvbXBvc2U9ZnVuY3Rpb24oKXt2YXIgc2VhcmNoPXRvS2V5VmFsdWUodGhpcy4kJHNlYXJjaCksaGFzaD10aGlzLiQkaGFzaD8iIyIrZW5jb2RlVXJpU2VnbWVudCh0aGlzLiQkaGFzaCk6IiI7dGhpcy4kJHVybD1lbmNvZGVQYXRoKHRoaXMuJCRwYXRoKSsoc2VhcmNoPyI/IitzZWFyY2g6IiIpK2hhc2gsdGhpcy4kJGFic1VybD1hcHBCYXNlKyh0aGlzLiQkdXJsP2hhc2hQcmVmaXgrdGhpcy4kJHVybDoiIil9LHRoaXMuJCRyZXdyaXRlPWZ1bmN0aW9uKHVybCl7cmV0dXJuIHN0cmlwSGFzaChhcHBCYXNlKT09c3RyaXBIYXNoKHVybCk/dXJsOnZvaWQgMH19ZnVuY3Rpb24gTG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmwoYXBwQmFzZSxoYXNoUHJlZml4KXt0aGlzLiQkaHRtbDU9ITAsTG9jYXRpb25IYXNoYmFuZ1VybC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGFwcEJhc2VOb0ZpbGU9c3RyaXBGaWxlKGFwcEJhc2UpO3RoaXMuJCRyZXdyaXRlPWZ1bmN0aW9uKHVybCl7dmFyIGFwcFVybDtyZXR1cm4gYXBwQmFzZT09c3RyaXBIYXNoKHVybCk/dXJsOihhcHBVcmw9YmVnaW5zV2l0aChhcHBCYXNlTm9GaWxlLHVybCkpP2FwcEJhc2UraGFzaFByZWZpeCthcHBVcmw6YXBwQmFzZU5vRmlsZT09PXVybCsiLyI/YXBwQmFzZU5vRmlsZTp2b2lkIDB9LHRoaXMuJCRjb21wb3NlPWZ1bmN0aW9uKCl7dmFyIHNlYXJjaD10b0tleVZhbHVlKHRoaXMuJCRzZWFyY2gpLGhhc2g9dGhpcy4kJGhhc2g/IiMiK2VuY29kZVVyaVNlZ21lbnQodGhpcy4kJGhhc2gpOiIiO3RoaXMuJCR1cmw9ZW5jb2RlUGF0aCh0aGlzLiQkcGF0aCkrKHNlYXJjaD8iPyIrc2VhcmNoOiIiKStoYXNoLHRoaXMuJCRhYnNVcmw9YXBwQmFzZStoYXNoUHJlZml4K3RoaXMuJCR1cmx9fWZ1bmN0aW9uIGxvY2F0aW9uR2V0dGVyKHByb3BlcnR5KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1twcm9wZXJ0eV19fWZ1bmN0aW9uIGxvY2F0aW9uR2V0dGVyU2V0dGVyKHByb3BlcnR5LHByZXByb2Nlc3Mpe3JldHVybiBmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGlzVW5kZWZpbmVkKHZhbHVlKT90aGlzW3Byb3BlcnR5XToodGhpc1twcm9wZXJ0eV09cHJlcHJvY2Vzcyh2YWx1ZSksdGhpcy4kJGNvbXBvc2UoKSx0aGlzKX19ZnVuY3Rpb24gJExvY2F0aW9uUHJvdmlkZXIoKXt2YXIgaGFzaFByZWZpeD0iIixodG1sNU1vZGU9ITE7dGhpcy5oYXNoUHJlZml4PWZ1bmN0aW9uKHByZWZpeCl7cmV0dXJuIGlzRGVmaW5lZChwcmVmaXgpPyhoYXNoUHJlZml4PXByZWZpeCx0aGlzKTpoYXNoUHJlZml4fSx0aGlzLmh0bWw1TW9kZT1mdW5jdGlvbihtb2RlKXtyZXR1cm4gaXNEZWZpbmVkKG1vZGUpPyhodG1sNU1vZGU9bW9kZSx0aGlzKTpodG1sNU1vZGV9LHRoaXMuJGdldD1bIiRyb290U2NvcGUiLCIkYnJvd3NlciIsIiRzbmlmZmVyIiwiJHJvb3RFbGVtZW50IixmdW5jdGlvbigkcm9vdFNjb3BlLCRicm93c2VyLCRzbmlmZmVyLCRyb290RWxlbWVudCl7ZnVuY3Rpb24gYWZ0ZXJMb2NhdGlvbkNoYW5nZShvbGRVcmwpeyRyb290U2NvcGUuJGJyb2FkY2FzdCgiJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcyIsJGxvY2F0aW9uLmFic1VybCgpLG9sZFVybCl9dmFyICRsb2NhdGlvbixMb2NhdGlvbk1vZGUsYXBwQmFzZSxiYXNlSHJlZj0kYnJvd3Nlci5iYXNlSHJlZigpLGluaXRpYWxVcmw9JGJyb3dzZXIudXJsKCk7aHRtbDVNb2RlPyhhcHBCYXNlPXNlcnZlckJhc2UoaW5pdGlhbFVybCkrKGJhc2VIcmVmfHwiLyIpLExvY2F0aW9uTW9kZT0kc25pZmZlci5oaXN0b3J5P0xvY2F0aW9uSHRtbDVVcmw6TG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmwpOihhcHBCYXNlPXN0cmlwSGFzaChpbml0aWFsVXJsKSxMb2NhdGlvbk1vZGU9TG9jYXRpb25IYXNoYmFuZ1VybCksJGxvY2F0aW9uPW5ldyBMb2NhdGlvbk1vZGUoYXBwQmFzZSwiIyIraGFzaFByZWZpeCksJGxvY2F0aW9uLiQkcGFyc2UoJGxvY2F0aW9uLiQkcmV3cml0ZShpbml0aWFsVXJsKSk7dmFyIElHTk9SRV9VUklfUkVHRVhQPS9eXHMqKGphdmFzY3JpcHR8bWFpbHRvKTovaTskcm9vdEVsZW1lbnQub24oImNsaWNrIixmdW5jdGlvbihldmVudCl7aWYoIWV2ZW50LmN0cmxLZXkmJiFldmVudC5tZXRhS2V5JiYyIT1ldmVudC53aGljaCl7Zm9yKHZhciBlbG09anFMaXRlKGV2ZW50LnRhcmdldCk7ImEiIT09bG93ZXJjYXNlKGVsbVswXS5ub2RlTmFtZSk7KWlmKGVsbVswXT09PSRyb290RWxlbWVudFswXXx8IShlbG09ZWxtLnBhcmVudCgpKVswXSlyZXR1cm47dmFyIGFic0hyZWY9ZWxtLnByb3AoImhyZWYiKTtpZihpc09iamVjdChhYnNIcmVmKSYmIltvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddIj09PWFic0hyZWYudG9TdHJpbmcoKSYmKGFic0hyZWY9dXJsUmVzb2x2ZShhYnNIcmVmLmFuaW1WYWwpLmhyZWYpLCFJR05PUkVfVVJJX1JFR0VYUC50ZXN0KGFic0hyZWYpKXtpZihMb2NhdGlvbk1vZGU9PT1Mb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybCl7dmFyIGhyZWY9ZWxtLmF0dHIoImhyZWYiKXx8ZWxtLmF0dHIoInhsaW5rOmhyZWYiKTtpZihocmVmJiZocmVmLmluZGV4T2YoIjovLyIpPDApe3ZhciBwcmVmaXg9IiMiK2hhc2hQcmVmaXg7aWYoIi8iPT1ocmVmWzBdKWFic0hyZWY9YXBwQmFzZStwcmVmaXgraHJlZjtlbHNlIGlmKCIjIj09aHJlZlswXSlhYnNIcmVmPWFwcEJhc2UrcHJlZml4KygkbG9jYXRpb24ucGF0aCgpfHwiLyIpK2hyZWY7ZWxzZXt2YXIgc3RhY2s9JGxvY2F0aW9uLnBhdGgoKS5zcGxpdCgiLyIpLHBhcnRzPWhyZWYuc3BsaXQoIi8iKTsyIT09c3RhY2subGVuZ3RofHxzdGFja1sxXXx8KHN0YWNrLmxlbmd0aD0xKTtmb3IodmFyIGk9MDtpPHBhcnRzLmxlbmd0aDtpKyspIi4iIT1wYXJ0c1tpXSYmKCIuLiI9PXBhcnRzW2ldP3N0YWNrLnBvcCgpOnBhcnRzW2ldLmxlbmd0aCYmc3RhY2sucHVzaChwYXJ0c1tpXSkpO2Fic0hyZWY9YXBwQmFzZStwcmVmaXgrc3RhY2suam9pbigiLyIpfX19dmFyIHJld3JpdHRlblVybD0kbG9jYXRpb24uJCRyZXdyaXRlKGFic0hyZWYpO2Fic0hyZWYmJiFlbG0uYXR0cigidGFyZ2V0IikmJnJld3JpdHRlblVybCYmIWV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpJiYoZXZlbnQucHJldmVudERlZmF1bHQoKSxyZXdyaXR0ZW5VcmwhPSRicm93c2VyLnVybCgpJiYoJGxvY2F0aW9uLiQkcGFyc2UocmV3cml0dGVuVXJsKSwkcm9vdFNjb3BlLiRhcHBseSgpLHdpbmRvdy5hbmd1bGFyWyJmZi02ODQyMDgtcHJldmVudERlZmF1bHQiXT0hMCkpfX19KSwkbG9jYXRpb24uYWJzVXJsKCkhPWluaXRpYWxVcmwmJiRicm93c2VyLnVybCgkbG9jYXRpb24uYWJzVXJsKCksITApLCRicm93c2VyLm9uVXJsQ2hhbmdlKGZ1bmN0aW9uKG5ld1VybCl7JGxvY2F0aW9uLmFic1VybCgpIT1uZXdVcmwmJigkcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKXt2YXIgb2xkVXJsPSRsb2NhdGlvbi5hYnNVcmwoKTskbG9jYXRpb24uJCRwYXJzZShuZXdVcmwpLCRyb290U2NvcGUuJGJyb2FkY2FzdCgiJGxvY2F0aW9uQ2hhbmdlU3RhcnQiLG5ld1VybCxvbGRVcmwpLmRlZmF1bHRQcmV2ZW50ZWQ/KCRsb2NhdGlvbi4kJHBhcnNlKG9sZFVybCksJGJyb3dzZXIudXJsKG9sZFVybCkpOmFmdGVyTG9jYXRpb25DaGFuZ2Uob2xkVXJsKX0pLCRyb290U2NvcGUuJCRwaGFzZXx8JHJvb3RTY29wZS4kZGlnZXN0KCkpfSk7dmFyIGNoYW5nZUNvdW50ZXI9MDtyZXR1cm4gJHJvb3RTY29wZS4kd2F0Y2goZnVuY3Rpb24oKXt2YXIgb2xkVXJsPSRicm93c2VyLnVybCgpLGN1cnJlbnRSZXBsYWNlPSRsb2NhdGlvbi4kJHJlcGxhY2U7cmV0dXJuIGNoYW5nZUNvdW50ZXImJm9sZFVybD09JGxvY2F0aW9uLmFic1VybCgpfHwoY2hhbmdlQ291bnRlcisrLCRyb290U2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpeyRyb290U2NvcGUuJGJyb2FkY2FzdCgiJGxvY2F0aW9uQ2hhbmdlU3RhcnQiLCRsb2NhdGlvbi5hYnNVcmwoKSxvbGRVcmwpLmRlZmF1bHRQcmV2ZW50ZWQ/JGxvY2F0aW9uLiQkcGFyc2Uob2xkVXJsKTooJGJyb3dzZXIudXJsKCRsb2NhdGlvbi5hYnNVcmwoKSxjdXJyZW50UmVwbGFjZSksYWZ0ZXJMb2NhdGlvbkNoYW5nZShvbGRVcmwpKX0pKSwkbG9jYXRpb24uJCRyZXBsYWNlPSExLGNoYW5nZUNvdW50ZXJ9KSwkbG9jYXRpb259XX1mdW5jdGlvbiAkTG9nUHJvdmlkZXIoKXt2YXIgZGVidWc9ITAsc2VsZj10aGlzO3RoaXMuZGVidWdFbmFibGVkPWZ1bmN0aW9uKGZsYWcpe3JldHVybiBpc0RlZmluZWQoZmxhZyk/KGRlYnVnPWZsYWcsdGhpcyk6ZGVidWd9LHRoaXMuJGdldD1bIiR3aW5kb3ciLGZ1bmN0aW9uKCR3aW5kb3cpe2Z1bmN0aW9uIGZvcm1hdEVycm9yKGFyZyl7cmV0dXJuIGFyZyBpbnN0YW5jZW9mIEVycm9yJiYoYXJnLnN0YWNrP2FyZz1hcmcubWVzc2FnZSYmLTE9PT1hcmcuc3RhY2suaW5kZXhPZihhcmcubWVzc2FnZSk/IkVycm9yOiAiK2FyZy5tZXNzYWdlKyJcbiIrYXJnLnN0YWNrOmFyZy5zdGFjazphcmcuc291cmNlVVJMJiYoYXJnPWFyZy5tZXNzYWdlKyJcbiIrYXJnLnNvdXJjZVVSTCsiOiIrYXJnLmxpbmUpKSxhcmd9ZnVuY3Rpb24gY29uc29sZUxvZyh0eXBlKXt2YXIgY29uc29sZT0kd2luZG93LmNvbnNvbGV8fHt9LGxvZ0ZuPWNvbnNvbGVbdHlwZV18fGNvbnNvbGUubG9nfHxub29wLGhhc0FwcGx5PSExO3RyeXtoYXNBcHBseT0hIWxvZ0ZuLmFwcGx5fWNhdGNoKGUpe31yZXR1cm4gaGFzQXBwbHk/ZnVuY3Rpb24oKXt2YXIgYXJncz1bXTtyZXR1cm4gZm9yRWFjaChhcmd1bWVudHMsZnVuY3Rpb24oYXJnKXthcmdzLnB1c2goZm9ybWF0RXJyb3IoYXJnKSl9KSxsb2dGbi5hcHBseShjb25zb2xlLGFyZ3MpfTpmdW5jdGlvbihhcmcxLGFyZzIpe2xvZ0ZuKGFyZzEsbnVsbD09YXJnMj8iIjphcmcyKX19cmV0dXJue2xvZzpjb25zb2xlTG9nKCJsb2ciKSxpbmZvOmNvbnNvbGVMb2coImluZm8iKSx3YXJuOmNvbnNvbGVMb2coIndhcm4iKSxlcnJvcjpjb25zb2xlTG9nKCJlcnJvciIpLGRlYnVnOmZ1bmN0aW9uKCl7dmFyIGZuPWNvbnNvbGVMb2coImRlYnVnIik7cmV0dXJuIGZ1bmN0aW9uKCl7ZGVidWcmJmZuLmFwcGx5KHNlbGYsYXJndW1lbnRzKX19KCl9fV19ZnVuY3Rpb24gZW5zdXJlU2FmZU1lbWJlck5hbWUobmFtZSxmdWxsRXhwcmVzc2lvbil7aWYoIl9fZGVmaW5lR2V0dGVyX18iPT09bmFtZXx8Il9fZGVmaW5lU2V0dGVyX18iPT09bmFtZXx8Il9fbG9va3VwR2V0dGVyX18iPT09bmFtZXx8Il9fbG9va3VwU2V0dGVyX18iPT09bmFtZXx8Il9fcHJvdG9fXyI9PT1uYW1lKXRocm93ICRwYXJzZU1pbkVycigiaXNlY2ZsZCIsIkF0dGVtcHRpbmcgdG8gYWNjZXNzIGEgZGlzYWxsb3dlZCBmaWVsZCBpbiBBbmd1bGFyIGV4cHJlc3Npb25zISBFeHByZXNzaW9uOiB7MH0iLGZ1bGxFeHByZXNzaW9uKTtyZXR1cm4gbmFtZX1mdW5jdGlvbiBlbnN1cmVTYWZlT2JqZWN0KG9iaixmdWxsRXhwcmVzc2lvbil7aWYob2JqKXtpZihvYmouY29uc3RydWN0b3I9PT1vYmopdGhyb3cgJHBhcnNlTWluRXJyKCJpc2VjZm4iLCJSZWZlcmVuY2luZyBGdW5jdGlvbiBpbiBBbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRpc2FsbG93ZWQhIEV4cHJlc3Npb246IHswfSIsZnVsbEV4cHJlc3Npb24pO2lmKG9iai5kb2N1bWVudCYmb2JqLmxvY2F0aW9uJiZvYmouYWxlcnQmJm9iai5zZXRJbnRlcnZhbCl0aHJvdyAkcGFyc2VNaW5FcnIoImlzZWN3aW5kb3ciLCJSZWZlcmVuY2luZyB0aGUgV2luZG93IGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9IixmdWxsRXhwcmVzc2lvbik7aWYob2JqLmNoaWxkcmVuJiYob2JqLm5vZGVOYW1lfHxvYmoucHJvcCYmb2JqLmF0dHImJm9iai5maW5kKSl0aHJvdyAkcGFyc2VNaW5FcnIoImlzZWNkb20iLCJSZWZlcmVuY2luZyBET00gbm9kZXMgaW4gQW5ndWxhciBleHByZXNzaW9ucyBpcyBkaXNhbGxvd2VkISBFeHByZXNzaW9uOiB7MH0iLGZ1bGxFeHByZXNzaW9uKTtpZihvYmo9PT1PYmplY3QpdGhyb3cgJHBhcnNlTWluRXJyKCJpc2Vjb2JqIiwiUmVmZXJlbmNpbmcgT2JqZWN0IGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9IixmdWxsRXhwcmVzc2lvbil9cmV0dXJuIG9ian1mdW5jdGlvbiBlbnN1cmVTYWZlRnVuY3Rpb24ob2JqLGZ1bGxFeHByZXNzaW9uKXtpZihvYmope2lmKG9iai5jb25zdHJ1Y3Rvcj09PW9iail0aHJvdyAkcGFyc2VNaW5FcnIoImlzZWNmbiIsIlJlZmVyZW5jaW5nIEZ1bmN0aW9uIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9IixmdWxsRXhwcmVzc2lvbik7aWYob2JqPT09Q0FMTHx8b2JqPT09QVBQTFl8fEJJTkQmJm9iaj09PUJJTkQpdGhyb3cgJHBhcnNlTWluRXJyKCJpc2VjZmYiLCJSZWZlcmVuY2luZyBjYWxsLCBhcHBseSBvciBiaW5kIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9IixmdWxsRXhwcmVzc2lvbikKfX1mdW5jdGlvbiBzZXR0ZXIob2JqLHBhdGgsc2V0VmFsdWUsZnVsbEV4cCxvcHRpb25zKXtlbnN1cmVTYWZlT2JqZWN0KG9iaixmdWxsRXhwKSxvcHRpb25zPW9wdGlvbnN8fHt9O2Zvcih2YXIga2V5LGVsZW1lbnQ9cGF0aC5zcGxpdCgiLiIpLGk9MDtlbGVtZW50Lmxlbmd0aD4xO2krKyl7a2V5PWVuc3VyZVNhZmVNZW1iZXJOYW1lKGVsZW1lbnQuc2hpZnQoKSxmdWxsRXhwKTt2YXIgcHJvcGVydHlPYmo9ZW5zdXJlU2FmZU9iamVjdChvYmpba2V5XSxmdWxsRXhwKTtwcm9wZXJ0eU9ianx8KHByb3BlcnR5T2JqPXt9LG9ialtrZXldPXByb3BlcnR5T2JqKSxvYmo9cHJvcGVydHlPYmosb2JqLnRoZW4mJm9wdGlvbnMudW53cmFwUHJvbWlzZXMmJihwcm9taXNlV2FybmluZyhmdWxsRXhwKSwiJCR2ImluIG9ianx8IWZ1bmN0aW9uKHByb21pc2Upe3Byb21pc2UudGhlbihmdW5jdGlvbih2YWwpe3Byb21pc2UuJCR2PXZhbH0pfShvYmopLG9iai4kJHY9PT11bmRlZmluZWQmJihvYmouJCR2PXt9KSxvYmo9b2JqLiQkdil9cmV0dXJuIGtleT1lbnN1cmVTYWZlTWVtYmVyTmFtZShlbGVtZW50LnNoaWZ0KCksZnVsbEV4cCksZW5zdXJlU2FmZU9iamVjdChvYmpba2V5XSxmdWxsRXhwKSxvYmpba2V5XT1zZXRWYWx1ZSxzZXRWYWx1ZX1mdW5jdGlvbiBjc3BTYWZlR2V0dGVyRm4oa2V5MCxrZXkxLGtleTIsa2V5MyxrZXk0LGZ1bGxFeHAsb3B0aW9ucyl7cmV0dXJuIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGtleTAsZnVsbEV4cCksZW5zdXJlU2FmZU1lbWJlck5hbWUoa2V5MSxmdWxsRXhwKSxlbnN1cmVTYWZlTWVtYmVyTmFtZShrZXkyLGZ1bGxFeHApLGVuc3VyZVNhZmVNZW1iZXJOYW1lKGtleTMsZnVsbEV4cCksZW5zdXJlU2FmZU1lbWJlck5hbWUoa2V5NCxmdWxsRXhwKSxvcHRpb25zLnVud3JhcFByb21pc2VzP2Z1bmN0aW9uKHNjb3BlLGxvY2Fscyl7dmFyIHByb21pc2UscGF0aFZhbD1sb2NhbHMmJmxvY2Fscy5oYXNPd25Qcm9wZXJ0eShrZXkwKT9sb2NhbHM6c2NvcGU7cmV0dXJuIG51bGw9PXBhdGhWYWw/cGF0aFZhbDoocGF0aFZhbD1wYXRoVmFsW2tleTBdLHBhdGhWYWwmJnBhdGhWYWwudGhlbiYmKHByb21pc2VXYXJuaW5nKGZ1bGxFeHApLCIkJHYiaW4gcGF0aFZhbHx8KHByb21pc2U9cGF0aFZhbCxwcm9taXNlLiQkdj11bmRlZmluZWQscHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbCl7cHJvbWlzZS4kJHY9dmFsfSkpLHBhdGhWYWw9cGF0aFZhbC4kJHYpLGtleTE/bnVsbD09cGF0aFZhbD91bmRlZmluZWQ6KHBhdGhWYWw9cGF0aFZhbFtrZXkxXSxwYXRoVmFsJiZwYXRoVmFsLnRoZW4mJihwcm9taXNlV2FybmluZyhmdWxsRXhwKSwiJCR2ImluIHBhdGhWYWx8fChwcm9taXNlPXBhdGhWYWwscHJvbWlzZS4kJHY9dW5kZWZpbmVkLHByb21pc2UudGhlbihmdW5jdGlvbih2YWwpe3Byb21pc2UuJCR2PXZhbH0pKSxwYXRoVmFsPXBhdGhWYWwuJCR2KSxrZXkyP251bGw9PXBhdGhWYWw/dW5kZWZpbmVkOihwYXRoVmFsPXBhdGhWYWxba2V5Ml0scGF0aFZhbCYmcGF0aFZhbC50aGVuJiYocHJvbWlzZVdhcm5pbmcoZnVsbEV4cCksIiQkdiJpbiBwYXRoVmFsfHwocHJvbWlzZT1wYXRoVmFsLHByb21pc2UuJCR2PXVuZGVmaW5lZCxwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsKXtwcm9taXNlLiQkdj12YWx9KSkscGF0aFZhbD1wYXRoVmFsLiQkdiksa2V5Mz9udWxsPT1wYXRoVmFsP3VuZGVmaW5lZDoocGF0aFZhbD1wYXRoVmFsW2tleTNdLHBhdGhWYWwmJnBhdGhWYWwudGhlbiYmKHByb21pc2VXYXJuaW5nKGZ1bGxFeHApLCIkJHYiaW4gcGF0aFZhbHx8KHByb21pc2U9cGF0aFZhbCxwcm9taXNlLiQkdj11bmRlZmluZWQscHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbCl7cHJvbWlzZS4kJHY9dmFsfSkpLHBhdGhWYWw9cGF0aFZhbC4kJHYpLGtleTQ/bnVsbD09cGF0aFZhbD91bmRlZmluZWQ6KHBhdGhWYWw9cGF0aFZhbFtrZXk0XSxwYXRoVmFsJiZwYXRoVmFsLnRoZW4mJihwcm9taXNlV2FybmluZyhmdWxsRXhwKSwiJCR2ImluIHBhdGhWYWx8fChwcm9taXNlPXBhdGhWYWwscHJvbWlzZS4kJHY9dW5kZWZpbmVkLHByb21pc2UudGhlbihmdW5jdGlvbih2YWwpe3Byb21pc2UuJCR2PXZhbH0pKSxwYXRoVmFsPXBhdGhWYWwuJCR2KSxwYXRoVmFsKTpwYXRoVmFsKTpwYXRoVmFsKTpwYXRoVmFsKTpwYXRoVmFsKX06ZnVuY3Rpb24oc2NvcGUsbG9jYWxzKXt2YXIgcGF0aFZhbD1sb2NhbHMmJmxvY2Fscy5oYXNPd25Qcm9wZXJ0eShrZXkwKT9sb2NhbHM6c2NvcGU7cmV0dXJuIG51bGw9PXBhdGhWYWw/cGF0aFZhbDoocGF0aFZhbD1wYXRoVmFsW2tleTBdLGtleTE/bnVsbD09cGF0aFZhbD91bmRlZmluZWQ6KHBhdGhWYWw9cGF0aFZhbFtrZXkxXSxrZXkyP251bGw9PXBhdGhWYWw/dW5kZWZpbmVkOihwYXRoVmFsPXBhdGhWYWxba2V5Ml0sa2V5Mz9udWxsPT1wYXRoVmFsP3VuZGVmaW5lZDoocGF0aFZhbD1wYXRoVmFsW2tleTNdLGtleTQ/bnVsbD09cGF0aFZhbD91bmRlZmluZWQ6cGF0aFZhbD1wYXRoVmFsW2tleTRdOnBhdGhWYWwpOnBhdGhWYWwpOnBhdGhWYWwpOnBhdGhWYWwpfX1mdW5jdGlvbiBnZXR0ZXJGbihwYXRoLG9wdGlvbnMsZnVsbEV4cCl7aWYoZ2V0dGVyRm5DYWNoZS5oYXNPd25Qcm9wZXJ0eShwYXRoKSlyZXR1cm4gZ2V0dGVyRm5DYWNoZVtwYXRoXTt2YXIgZm4scGF0aEtleXM9cGF0aC5zcGxpdCgiLiIpLHBhdGhLZXlzTGVuZ3RoPXBhdGhLZXlzLmxlbmd0aDtpZihvcHRpb25zLmNzcClmbj02PnBhdGhLZXlzTGVuZ3RoP2NzcFNhZmVHZXR0ZXJGbihwYXRoS2V5c1swXSxwYXRoS2V5c1sxXSxwYXRoS2V5c1syXSxwYXRoS2V5c1szXSxwYXRoS2V5c1s0XSxmdWxsRXhwLG9wdGlvbnMpOmZ1bmN0aW9uKHNjb3BlLGxvY2Fscyl7dmFyIHZhbCxpPTA7ZG8gdmFsPWNzcFNhZmVHZXR0ZXJGbihwYXRoS2V5c1tpKytdLHBhdGhLZXlzW2krK10scGF0aEtleXNbaSsrXSxwYXRoS2V5c1tpKytdLHBhdGhLZXlzW2krK10sZnVsbEV4cCxvcHRpb25zKShzY29wZSxsb2NhbHMpLGxvY2Fscz11bmRlZmluZWQsc2NvcGU9dmFsO3doaWxlKHBhdGhLZXlzTGVuZ3RoPmkpO3JldHVybiB2YWx9O2Vsc2V7dmFyIGNvZGU9InZhciBwO1xuIjtmb3JFYWNoKHBhdGhLZXlzLGZ1bmN0aW9uKGtleSxpbmRleCl7ZW5zdXJlU2FmZU1lbWJlck5hbWUoa2V5LGZ1bGxFeHApLGNvZGUrPSJpZihzID09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7XG5zPSIrKGluZGV4PyJzIjonKChrJiZrLmhhc093blByb3BlcnR5KCInK2tleSsnIikpP2s6cyknKSsnWyInK2tleSsnIl07XG4nKyhvcHRpb25zLnVud3JhcFByb21pc2VzPydpZiAocyAmJiBzLnRoZW4pIHtcbiBwdygiJytmdWxsRXhwLnJlcGxhY2UoLyhbIlxyXG5dKS9nLCJcXCQxIikrJyIpO1xuIGlmICghKCIkJHYiIGluIHMpKSB7XG4gcD1zO1xuIHAuJCR2ID0gdW5kZWZpbmVkO1xuIHAudGhlbihmdW5jdGlvbih2KSB7cC4kJHY9djt9KTtcbn1cbiBzPXMuJCR2XG59XG4nOiIiKX0pLGNvZGUrPSJyZXR1cm4gczsiO3ZhciBldmFsZWRGbkdldHRlcj1uZXcgRnVuY3Rpb24oInMiLCJrIiwicHciLGNvZGUpO2V2YWxlZEZuR2V0dGVyLnRvU3RyaW5nPXZhbHVlRm4oY29kZSksZm49b3B0aW9ucy51bndyYXBQcm9taXNlcz9mdW5jdGlvbihzY29wZSxsb2NhbHMpe3JldHVybiBldmFsZWRGbkdldHRlcihzY29wZSxsb2NhbHMscHJvbWlzZVdhcm5pbmcpfTpldmFsZWRGbkdldHRlcn1yZXR1cm4iaGFzT3duUHJvcGVydHkiIT09cGF0aCYmKGdldHRlckZuQ2FjaGVbcGF0aF09Zm4pLGZufWZ1bmN0aW9uICRQYXJzZVByb3ZpZGVyKCl7dmFyIGNhY2hlPXt9LCRwYXJzZU9wdGlvbnM9e2NzcDohMSx1bndyYXBQcm9taXNlczohMSxsb2dQcm9taXNlV2FybmluZ3M6ITB9O3RoaXMudW53cmFwUHJvbWlzZXM9ZnVuY3Rpb24odmFsdWUpe3JldHVybiBpc0RlZmluZWQodmFsdWUpPygkcGFyc2VPcHRpb25zLnVud3JhcFByb21pc2VzPSEhdmFsdWUsdGhpcyk6JHBhcnNlT3B0aW9ucy51bndyYXBQcm9taXNlc30sdGhpcy5sb2dQcm9taXNlV2FybmluZ3M9ZnVuY3Rpb24odmFsdWUpe3JldHVybiBpc0RlZmluZWQodmFsdWUpPygkcGFyc2VPcHRpb25zLmxvZ1Byb21pc2VXYXJuaW5ncz12YWx1ZSx0aGlzKTokcGFyc2VPcHRpb25zLmxvZ1Byb21pc2VXYXJuaW5nc30sdGhpcy4kZ2V0PVsiJGZpbHRlciIsIiRzbmlmZmVyIiwiJGxvZyIsZnVuY3Rpb24oJGZpbHRlciwkc25pZmZlciwkbG9nKXtyZXR1cm4gJHBhcnNlT3B0aW9ucy5jc3A9JHNuaWZmZXIuY3NwLHByb21pc2VXYXJuaW5nPWZ1bmN0aW9uKGZ1bGxFeHApeyRwYXJzZU9wdGlvbnMubG9nUHJvbWlzZVdhcm5pbmdzJiYhcHJvbWlzZVdhcm5pbmdDYWNoZS5oYXNPd25Qcm9wZXJ0eShmdWxsRXhwKSYmKHByb21pc2VXYXJuaW5nQ2FjaGVbZnVsbEV4cF09ITAsJGxvZy53YXJuKCJbJHBhcnNlXSBQcm9taXNlIGZvdW5kIGluIHRoZSBleHByZXNzaW9uIGAiK2Z1bGxFeHArImAuIEF1dG9tYXRpYyB1bndyYXBwaW5nIG9mIHByb21pc2VzIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGVwcmVjYXRlZC4iKSl9LGZ1bmN0aW9uKGV4cCl7dmFyIHBhcnNlZEV4cHJlc3Npb247c3dpdGNoKHR5cGVvZiBleHApe2Nhc2Uic3RyaW5nIjppZihjYWNoZS5oYXNPd25Qcm9wZXJ0eShleHApKXJldHVybiBjYWNoZVtleHBdO3ZhciBsZXhlcj1uZXcgTGV4ZXIoJHBhcnNlT3B0aW9ucykscGFyc2VyPW5ldyBQYXJzZXIobGV4ZXIsJGZpbHRlciwkcGFyc2VPcHRpb25zKTtyZXR1cm4gcGFyc2VkRXhwcmVzc2lvbj1wYXJzZXIucGFyc2UoZXhwKSwiaGFzT3duUHJvcGVydHkiIT09ZXhwJiYoY2FjaGVbZXhwXT1wYXJzZWRFeHByZXNzaW9uKSxwYXJzZWRFeHByZXNzaW9uO2Nhc2UiZnVuY3Rpb24iOnJldHVybiBleHA7ZGVmYXVsdDpyZXR1cm4gbm9vcH19fV19ZnVuY3Rpb24gJFFQcm92aWRlcigpe3RoaXMuJGdldD1bIiRyb290U2NvcGUiLCIkZXhjZXB0aW9uSGFuZGxlciIsZnVuY3Rpb24oJHJvb3RTY29wZSwkZXhjZXB0aW9uSGFuZGxlcil7cmV0dXJuIHFGYWN0b3J5KGZ1bmN0aW9uKGNhbGxiYWNrKXskcm9vdFNjb3BlLiRldmFsQXN5bmMoY2FsbGJhY2spfSwkZXhjZXB0aW9uSGFuZGxlcil9XX1mdW5jdGlvbiBxRmFjdG9yeShuZXh0VGljayxleGNlcHRpb25IYW5kbGVyKXtmdW5jdGlvbiBkZWZhdWx0Q2FsbGJhY2sodmFsdWUpe3JldHVybiB2YWx1ZX1mdW5jdGlvbiBkZWZhdWx0RXJyYmFjayhyZWFzb24pe3JldHVybiByZWplY3QocmVhc29uKX1mdW5jdGlvbiBhbGwocHJvbWlzZXMpe3ZhciBkZWZlcnJlZD1kZWZlcigpLGNvdW50ZXI9MCxyZXN1bHRzPWlzQXJyYXkocHJvbWlzZXMpP1tdOnt9O3JldHVybiBmb3JFYWNoKHByb21pc2VzLGZ1bmN0aW9uKHByb21pc2Usa2V5KXtjb3VudGVyKysscmVmKHByb21pc2UpLnRoZW4oZnVuY3Rpb24odmFsdWUpe3Jlc3VsdHMuaGFzT3duUHJvcGVydHkoa2V5KXx8KHJlc3VsdHNba2V5XT12YWx1ZSwtLWNvdW50ZXJ8fGRlZmVycmVkLnJlc29sdmUocmVzdWx0cykpfSxmdW5jdGlvbihyZWFzb24pe3Jlc3VsdHMuaGFzT3duUHJvcGVydHkoa2V5KXx8ZGVmZXJyZWQucmVqZWN0KHJlYXNvbil9KX0pLDA9PT1jb3VudGVyJiZkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdHMpLGRlZmVycmVkLnByb21pc2V9dmFyIGRlZmVyPWZ1bmN0aW9uKCl7dmFyIHZhbHVlLGRlZmVycmVkLHBlbmRpbmc9W107cmV0dXJuIGRlZmVycmVkPXtyZXNvbHZlOmZ1bmN0aW9uKHZhbCl7aWYocGVuZGluZyl7dmFyIGNhbGxiYWNrcz1wZW5kaW5nO3BlbmRpbmc9dW5kZWZpbmVkLHZhbHVlPXJlZih2YWwpLGNhbGxiYWNrcy5sZW5ndGgmJm5leHRUaWNrKGZ1bmN0aW9uKCl7Zm9yKHZhciBjYWxsYmFjayxpPTAsaWk9Y2FsbGJhY2tzLmxlbmd0aDtpaT5pO2krKyljYWxsYmFjaz1jYWxsYmFja3NbaV0sdmFsdWUudGhlbihjYWxsYmFja1swXSxjYWxsYmFja1sxXSxjYWxsYmFja1syXSl9KX19LHJlamVjdDpmdW5jdGlvbihyZWFzb24pe2RlZmVycmVkLnJlc29sdmUoY3JlYXRlSW50ZXJuYWxSZWplY3RlZFByb21pc2UocmVhc29uKSl9LG5vdGlmeTpmdW5jdGlvbihwcm9ncmVzcyl7aWYocGVuZGluZyl7dmFyIGNhbGxiYWNrcz1wZW5kaW5nO3BlbmRpbmcubGVuZ3RoJiZuZXh0VGljayhmdW5jdGlvbigpe2Zvcih2YXIgY2FsbGJhY2ssaT0wLGlpPWNhbGxiYWNrcy5sZW5ndGg7aWk+aTtpKyspY2FsbGJhY2s9Y2FsbGJhY2tzW2ldLGNhbGxiYWNrWzJdKHByb2dyZXNzKX0pfX0scHJvbWlzZTp7dGhlbjpmdW5jdGlvbihjYWxsYmFjayxlcnJiYWNrLHByb2dyZXNzYmFjayl7dmFyIHJlc3VsdD1kZWZlcigpLHdyYXBwZWRDYWxsYmFjaz1mdW5jdGlvbih2YWx1ZSl7dHJ5e3Jlc3VsdC5yZXNvbHZlKChpc0Z1bmN0aW9uKGNhbGxiYWNrKT9jYWxsYmFjazpkZWZhdWx0Q2FsbGJhY2spKHZhbHVlKSl9Y2F0Y2goZSl7cmVzdWx0LnJlamVjdChlKSxleGNlcHRpb25IYW5kbGVyKGUpfX0sd3JhcHBlZEVycmJhY2s9ZnVuY3Rpb24ocmVhc29uKXt0cnl7cmVzdWx0LnJlc29sdmUoKGlzRnVuY3Rpb24oZXJyYmFjayk/ZXJyYmFjazpkZWZhdWx0RXJyYmFjaykocmVhc29uKSl9Y2F0Y2goZSl7cmVzdWx0LnJlamVjdChlKSxleGNlcHRpb25IYW5kbGVyKGUpfX0sd3JhcHBlZFByb2dyZXNzYmFjaz1mdW5jdGlvbihwcm9ncmVzcyl7dHJ5e3Jlc3VsdC5ub3RpZnkoKGlzRnVuY3Rpb24ocHJvZ3Jlc3NiYWNrKT9wcm9ncmVzc2JhY2s6ZGVmYXVsdENhbGxiYWNrKShwcm9ncmVzcykpfWNhdGNoKGUpe2V4Y2VwdGlvbkhhbmRsZXIoZSl9fTtyZXR1cm4gcGVuZGluZz9wZW5kaW5nLnB1c2goW3dyYXBwZWRDYWxsYmFjayx3cmFwcGVkRXJyYmFjayx3cmFwcGVkUHJvZ3Jlc3NiYWNrXSk6dmFsdWUudGhlbih3cmFwcGVkQ2FsbGJhY2ssd3JhcHBlZEVycmJhY2ssd3JhcHBlZFByb2dyZXNzYmFjaykscmVzdWx0LnByb21pc2V9LCJjYXRjaCI6ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB0aGlzLnRoZW4obnVsbCxjYWxsYmFjayl9LCJmaW5hbGx5IjpmdW5jdGlvbihjYWxsYmFjayl7ZnVuY3Rpb24gbWFrZVByb21pc2UodmFsdWUscmVzb2x2ZWQpe3ZhciByZXN1bHQ9ZGVmZXIoKTtyZXR1cm4gcmVzb2x2ZWQ/cmVzdWx0LnJlc29sdmUodmFsdWUpOnJlc3VsdC5yZWplY3QodmFsdWUpLHJlc3VsdC5wcm9taXNlfWZ1bmN0aW9uIGhhbmRsZUNhbGxiYWNrKHZhbHVlLGlzUmVzb2x2ZWQpe3ZhciBjYWxsYmFja091dHB1dD1udWxsO3RyeXtjYWxsYmFja091dHB1dD0oY2FsbGJhY2t8fGRlZmF1bHRDYWxsYmFjaykoKX1jYXRjaChlKXtyZXR1cm4gbWFrZVByb21pc2UoZSwhMSl9cmV0dXJuIGlzUHJvbWlzZUxpa2UoY2FsbGJhY2tPdXRwdXQpP2NhbGxiYWNrT3V0cHV0LnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbWFrZVByb21pc2UodmFsdWUsaXNSZXNvbHZlZCl9LGZ1bmN0aW9uKGVycm9yKXtyZXR1cm4gbWFrZVByb21pc2UoZXJyb3IsITEpfSk6bWFrZVByb21pc2UodmFsdWUsaXNSZXNvbHZlZCl9cmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGhhbmRsZUNhbGxiYWNrKHZhbHVlLCEwKX0sZnVuY3Rpb24oZXJyb3Ipe3JldHVybiBoYW5kbGVDYWxsYmFjayhlcnJvciwhMSl9KX19fX0scmVmPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gaXNQcm9taXNlTGlrZSh2YWx1ZSk/dmFsdWU6e3RoZW46ZnVuY3Rpb24oY2FsbGJhY2spe3ZhciByZXN1bHQ9ZGVmZXIoKTtyZXR1cm4gbmV4dFRpY2soZnVuY3Rpb24oKXtyZXN1bHQucmVzb2x2ZShjYWxsYmFjayh2YWx1ZSkpfSkscmVzdWx0LnByb21pc2V9fX0scmVqZWN0PWZ1bmN0aW9uKHJlYXNvbil7dmFyIHJlc3VsdD1kZWZlcigpO3JldHVybiByZXN1bHQucmVqZWN0KHJlYXNvbikscmVzdWx0LnByb21pc2V9LGNyZWF0ZUludGVybmFsUmVqZWN0ZWRQcm9taXNlPWZ1bmN0aW9uKHJlYXNvbil7cmV0dXJue3RoZW46ZnVuY3Rpb24oY2FsbGJhY2ssZXJyYmFjayl7dmFyIHJlc3VsdD1kZWZlcigpO3JldHVybiBuZXh0VGljayhmdW5jdGlvbigpe3RyeXtyZXN1bHQucmVzb2x2ZSgoaXNGdW5jdGlvbihlcnJiYWNrKT9lcnJiYWNrOmRlZmF1bHRFcnJiYWNrKShyZWFzb24pKX1jYXRjaChlKXtyZXN1bHQucmVqZWN0KGUpLGV4Y2VwdGlvbkhhbmRsZXIoZSl9fSkscmVzdWx0LnByb21pc2V9fX0sd2hlbj1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJiYWNrLHByb2dyZXNzYmFjayl7dmFyIGRvbmUscmVzdWx0PWRlZmVyKCksd3JhcHBlZENhbGxiYWNrPWZ1bmN0aW9uKHZhbHVlKXt0cnl7cmV0dXJuKGlzRnVuY3Rpb24oY2FsbGJhY2spP2NhbGxiYWNrOmRlZmF1bHRDYWxsYmFjaykodmFsdWUpfWNhdGNoKGUpe3JldHVybiBleGNlcHRpb25IYW5kbGVyKGUpLHJlamVjdChlKX19LHdyYXBwZWRFcnJiYWNrPWZ1bmN0aW9uKHJlYXNvbil7dHJ5e3JldHVybihpc0Z1bmN0aW9uKGVycmJhY2spP2VycmJhY2s6ZGVmYXVsdEVycmJhY2spKHJlYXNvbil9Y2F0Y2goZSl7cmV0dXJuIGV4Y2VwdGlvbkhhbmRsZXIoZSkscmVqZWN0KGUpfX0sd3JhcHBlZFByb2dyZXNzYmFjaz1mdW5jdGlvbihwcm9ncmVzcyl7dHJ5e3JldHVybihpc0Z1bmN0aW9uKHByb2dyZXNzYmFjayk/cHJvZ3Jlc3NiYWNrOmRlZmF1bHRDYWxsYmFjaykocHJvZ3Jlc3MpfWNhdGNoKGUpe2V4Y2VwdGlvbkhhbmRsZXIoZSl9fTtyZXR1cm4gbmV4dFRpY2soZnVuY3Rpb24oKXtyZWYodmFsdWUpLnRoZW4oZnVuY3Rpb24odmFsdWUpe2RvbmV8fChkb25lPSEwLHJlc3VsdC5yZXNvbHZlKHJlZih2YWx1ZSkudGhlbih3cmFwcGVkQ2FsbGJhY2ssd3JhcHBlZEVycmJhY2ssd3JhcHBlZFByb2dyZXNzYmFjaykpKX0sZnVuY3Rpb24ocmVhc29uKXtkb25lfHwoZG9uZT0hMCxyZXN1bHQucmVzb2x2ZSh3cmFwcGVkRXJyYmFjayhyZWFzb24pKSl9LGZ1bmN0aW9uKHByb2dyZXNzKXtkb25lfHxyZXN1bHQubm90aWZ5KHdyYXBwZWRQcm9ncmVzc2JhY2socHJvZ3Jlc3MpKX0pfSkscmVzdWx0LnByb21pc2V9O3JldHVybntkZWZlcjpkZWZlcixyZWplY3Q6cmVqZWN0LHdoZW46d2hlbixhbGw6YWxsfX1mdW5jdGlvbiAkJFJBRlByb3ZpZGVyKCl7dGhpcy4kZ2V0PVsiJHdpbmRvdyIsIiR0aW1lb3V0IixmdW5jdGlvbigkd2luZG93LCR0aW1lb3V0KXt2YXIgcmVxdWVzdEFuaW1hdGlvbkZyYW1lPSR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHwkd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8JHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUsY2FuY2VsQW5pbWF0aW9uRnJhbWU9JHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZXx8JHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZXx8JHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZXx8JHdpbmRvdy53ZWJraXRDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUscmFmU3VwcG9ydGVkPSEhcmVxdWVzdEFuaW1hdGlvbkZyYW1lLHJhZj1yYWZTdXBwb3J0ZWQ/ZnVuY3Rpb24oZm4pe3ZhciBpZD1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZm4pO3JldHVybiBmdW5jdGlvbigpe2NhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKX19OmZ1bmN0aW9uKGZuKXt2YXIgdGltZXI9JHRpbWVvdXQoZm4sMTYuNjYsITEpO3JldHVybiBmdW5jdGlvbigpeyR0aW1lb3V0LmNhbmNlbCh0aW1lcil9fTtyZXR1cm4gcmFmLnN1cHBvcnRlZD1yYWZTdXBwb3J0ZWQscmFmfV19ZnVuY3Rpb24gJFJvb3RTY29wZVByb3ZpZGVyKCl7dmFyIFRUTD0xMCwkcm9vdFNjb3BlTWluRXJyPW1pbkVycigiJHJvb3RTY29wZSIpLGxhc3REaXJ0eVdhdGNoPW51bGw7dGhpcy5kaWdlc3RUdGw9ZnVuY3Rpb24odmFsdWUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoJiYoVFRMPXZhbHVlKSxUVEx9LHRoaXMuJGdldD1bIiRpbmplY3RvciIsIiRleGNlcHRpb25IYW5kbGVyIiwiJHBhcnNlIiwiJGJyb3dzZXIiLGZ1bmN0aW9uKCRpbmplY3RvciwkZXhjZXB0aW9uSGFuZGxlciwkcGFyc2UsJGJyb3dzZXIpe2Z1bmN0aW9uIFNjb3BlKCl7dGhpcy4kaWQ9bmV4dFVpZCgpLHRoaXMuJCRwaGFzZT10aGlzLiRwYXJlbnQ9dGhpcy4kJHdhdGNoZXJzPXRoaXMuJCRuZXh0U2libGluZz10aGlzLiQkcHJldlNpYmxpbmc9dGhpcy4kJGNoaWxkSGVhZD10aGlzLiQkY2hpbGRUYWlsPW51bGwsdGhpc1sidGhpcyJdPXRoaXMuJHJvb3Q9dGhpcyx0aGlzLiQkZGVzdHJveWVkPSExLHRoaXMuJCRhc3luY1F1ZXVlPVtdLHRoaXMuJCRwb3N0RGlnZXN0UXVldWU9W10sdGhpcy4kJGxpc3RlbmVycz17fSx0aGlzLiQkbGlzdGVuZXJDb3VudD17fSx0aGlzLiQkaXNvbGF0ZUJpbmRpbmdzPXt9fWZ1bmN0aW9uIGJlZ2luUGhhc2UocGhhc2Upe2lmKCRyb290U2NvcGUuJCRwaGFzZSl0aHJvdyAkcm9vdFNjb3BlTWluRXJyKCJpbnByb2ciLCJ7MH0gYWxyZWFkeSBpbiBwcm9ncmVzcyIsJHJvb3RTY29wZS4kJHBoYXNlKTskcm9vdFNjb3BlLiQkcGhhc2U9cGhhc2V9ZnVuY3Rpb24gY2xlYXJQaGFzZSgpeyRyb290U2NvcGUuJCRwaGFzZT1udWxsfWZ1bmN0aW9uIGNvbXBpbGVUb0ZuKGV4cCxuYW1lKXt2YXIgZm49JHBhcnNlKGV4cCk7cmV0dXJuIGFzc2VydEFyZ0ZuKGZuLG5hbWUpLGZufWZ1bmN0aW9uIGRlY3JlbWVudExpc3RlbmVyQ291bnQoY3VycmVudCxjb3VudCxuYW1lKXtkbyBjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXS09Y291bnQsMD09PWN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdJiZkZWxldGUgY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV07d2hpbGUoY3VycmVudD1jdXJyZW50LiRwYXJlbnQpfWZ1bmN0aW9uIGluaXRXYXRjaFZhbCgpe31TY29wZS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlNjb3BlLCRuZXc6ZnVuY3Rpb24oaXNvbGF0ZSl7dmFyIGNoaWxkO3JldHVybiBpc29sYXRlPyhjaGlsZD1uZXcgU2NvcGUsY2hpbGQuJHJvb3Q9dGhpcy4kcm9vdCxjaGlsZC4kJGFzeW5jUXVldWU9dGhpcy4kJGFzeW5jUXVldWUsY2hpbGQuJCRwb3N0RGlnZXN0UXVldWU9dGhpcy4kJHBvc3REaWdlc3RRdWV1ZSk6KHRoaXMuJCRjaGlsZFNjb3BlQ2xhc3N8fCh0aGlzLiQkY2hpbGRTY29wZUNsYXNzPWZ1bmN0aW9uKCl7dGhpcy4kJHdhdGNoZXJzPXRoaXMuJCRuZXh0U2libGluZz10aGlzLiQkY2hpbGRIZWFkPXRoaXMuJCRjaGlsZFRhaWw9bnVsbCx0aGlzLiQkbGlzdGVuZXJzPXt9LHRoaXMuJCRsaXN0ZW5lckNvdW50PXt9LHRoaXMuJGlkPW5leHRVaWQoKSx0aGlzLiQkY2hpbGRTY29wZUNsYXNzPW51bGx9LHRoaXMuJCRjaGlsZFNjb3BlQ2xhc3MucHJvdG90eXBlPXRoaXMpLGNoaWxkPW5ldyB0aGlzLiQkY2hpbGRTY29wZUNsYXNzKSxjaGlsZFsidGhpcyJdPWNoaWxkLGNoaWxkLiRwYXJlbnQ9dGhpcyxjaGlsZC4kJHByZXZTaWJsaW5nPXRoaXMuJCRjaGlsZFRhaWwsdGhpcy4kJGNoaWxkSGVhZD8odGhpcy4kJGNoaWxkVGFpbC4kJG5leHRTaWJsaW5nPWNoaWxkLHRoaXMuJCRjaGlsZFRhaWw9Y2hpbGQpOnRoaXMuJCRjaGlsZEhlYWQ9dGhpcy4kJGNoaWxkVGFpbD1jaGlsZCxjaGlsZH0sJHdhdGNoOmZ1bmN0aW9uKHdhdGNoRXhwLGxpc3RlbmVyLG9iamVjdEVxdWFsaXR5KXt2YXIgc2NvcGU9dGhpcyxnZXQ9Y29tcGlsZVRvRm4od2F0Y2hFeHAsIndhdGNoIiksYXJyYXk9c2NvcGUuJCR3YXRjaGVycyx3YXRjaGVyPXtmbjpsaXN0ZW5lcixsYXN0OmluaXRXYXRjaFZhbCxnZXQ6Z2V0LGV4cDp3YXRjaEV4cCxlcTohIW9iamVjdEVxdWFsaXR5fTtpZihsYXN0RGlydHlXYXRjaD1udWxsLCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSl7dmFyIGxpc3RlbkZuPWNvbXBpbGVUb0ZuKGxpc3RlbmVyfHxub29wLCJsaXN0ZW5lciIpO3dhdGNoZXIuZm49ZnVuY3Rpb24obmV3VmFsLG9sZFZhbCxzY29wZSl7bGlzdGVuRm4oc2NvcGUpfX1pZigic3RyaW5nIj09dHlwZW9mIHdhdGNoRXhwJiZnZXQuY29uc3RhbnQpe3ZhciBvcmlnaW5hbEZuPXdhdGNoZXIuZm47d2F0Y2hlci5mbj1mdW5jdGlvbihuZXdWYWwsb2xkVmFsLHNjb3BlKXtvcmlnaW5hbEZuLmNhbGwodGhpcyxuZXdWYWwsb2xkVmFsLHNjb3BlKSxhcnJheVJlbW92ZShhcnJheSx3YXRjaGVyKX19cmV0dXJuIGFycmF5fHwoYXJyYXk9c2NvcGUuJCR3YXRjaGVycz1bXSksYXJyYXkudW5zaGlmdCh3YXRjaGVyKSxmdW5jdGlvbigpe2FycmF5UmVtb3ZlKGFycmF5LHdhdGNoZXIpLGxhc3REaXJ0eVdhdGNoPW51bGx9fSwkd2F0Y2hDb2xsZWN0aW9uOmZ1bmN0aW9uKG9iaixsaXN0ZW5lcil7ZnVuY3Rpb24gJHdhdGNoQ29sbGVjdGlvbldhdGNoKCl7bmV3VmFsdWU9b2JqR2V0dGVyKHNlbGYpO3ZhciBuZXdMZW5ndGgsa2V5LGJvdGhOYU47aWYoaXNPYmplY3QobmV3VmFsdWUpKWlmKGlzQXJyYXlMaWtlKG5ld1ZhbHVlKSl7b2xkVmFsdWUhPT1pbnRlcm5hbEFycmF5JiYob2xkVmFsdWU9aW50ZXJuYWxBcnJheSxvbGRMZW5ndGg9b2xkVmFsdWUubGVuZ3RoPTAsY2hhbmdlRGV0ZWN0ZWQrKyksbmV3TGVuZ3RoPW5ld1ZhbHVlLmxlbmd0aCxvbGRMZW5ndGghPT1uZXdMZW5ndGgmJihjaGFuZ2VEZXRlY3RlZCsrLG9sZFZhbHVlLmxlbmd0aD1vbGRMZW5ndGg9bmV3TGVuZ3RoKTtmb3IodmFyIGk9MDtuZXdMZW5ndGg+aTtpKyspYm90aE5hTj1vbGRWYWx1ZVtpXSE9PW9sZFZhbHVlW2ldJiZuZXdWYWx1ZVtpXSE9PW5ld1ZhbHVlW2ldLGJvdGhOYU58fG9sZFZhbHVlW2ldPT09bmV3VmFsdWVbaV18fChjaGFuZ2VEZXRlY3RlZCsrLG9sZFZhbHVlW2ldPW5ld1ZhbHVlW2ldKX1lbHNle29sZFZhbHVlIT09aW50ZXJuYWxPYmplY3QmJihvbGRWYWx1ZT1pbnRlcm5hbE9iamVjdD17fSxvbGRMZW5ndGg9MCxjaGFuZ2VEZXRlY3RlZCsrKSxuZXdMZW5ndGg9MDtmb3Ioa2V5IGluIG5ld1ZhbHVlKW5ld1ZhbHVlLmhhc093blByb3BlcnR5KGtleSkmJihuZXdMZW5ndGgrKyxvbGRWYWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpPyhib3RoTmFOPW9sZFZhbHVlW2tleV0hPT1vbGRWYWx1ZVtrZXldJiZuZXdWYWx1ZVtrZXldIT09bmV3VmFsdWVba2V5XSxib3RoTmFOfHxvbGRWYWx1ZVtrZXldPT09bmV3VmFsdWVba2V5XXx8KGNoYW5nZURldGVjdGVkKyssb2xkVmFsdWVba2V5XT1uZXdWYWx1ZVtrZXldKSk6KG9sZExlbmd0aCsrLG9sZFZhbHVlW2tleV09bmV3VmFsdWVba2V5XSxjaGFuZ2VEZXRlY3RlZCsrKSk7aWYob2xkTGVuZ3RoPm5ld0xlbmd0aCl7Y2hhbmdlRGV0ZWN0ZWQrKztmb3Ioa2V5IGluIG9sZFZhbHVlKW9sZFZhbHVlLmhhc093blByb3BlcnR5KGtleSkmJiFuZXdWYWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpJiYob2xkTGVuZ3RoLS0sZGVsZXRlIG9sZFZhbHVlW2tleV0pfX1lbHNlIG9sZFZhbHVlIT09bmV3VmFsdWUmJihvbGRWYWx1ZT1uZXdWYWx1ZSxjaGFuZ2VEZXRlY3RlZCsrKTtyZXR1cm4gY2hhbmdlRGV0ZWN0ZWR9ZnVuY3Rpb24gJHdhdGNoQ29sbGVjdGlvbkFjdGlvbigpe2lmKGluaXRSdW4/KGluaXRSdW49ITEsbGlzdGVuZXIobmV3VmFsdWUsbmV3VmFsdWUsc2VsZikpOmxpc3RlbmVyKG5ld1ZhbHVlLHZlcnlPbGRWYWx1ZSxzZWxmKSx0cmFja1ZlcnlPbGRWYWx1ZSlpZihpc09iamVjdChuZXdWYWx1ZSkpaWYoaXNBcnJheUxpa2UobmV3VmFsdWUpKXt2ZXJ5T2xkVmFsdWU9bmV3IEFycmF5KG5ld1ZhbHVlLmxlbmd0aCk7Zm9yKHZhciBpPTA7aTxuZXdWYWx1ZS5sZW5ndGg7aSsrKXZlcnlPbGRWYWx1ZVtpXT1uZXdWYWx1ZVtpXX1lbHNle3ZlcnlPbGRWYWx1ZT17fTtmb3IodmFyIGtleSBpbiBuZXdWYWx1ZSloYXNPd25Qcm9wZXJ0eS5jYWxsKG5ld1ZhbHVlLGtleSkmJih2ZXJ5T2xkVmFsdWVba2V5XT1uZXdWYWx1ZVtrZXldKX1lbHNlIHZlcnlPbGRWYWx1ZT1uZXdWYWx1ZX12YXIgbmV3VmFsdWUsb2xkVmFsdWUsdmVyeU9sZFZhbHVlLHNlbGY9dGhpcyx0cmFja1ZlcnlPbGRWYWx1ZT1saXN0ZW5lci5sZW5ndGg+MSxjaGFuZ2VEZXRlY3RlZD0wLG9iakdldHRlcj0kcGFyc2Uob2JqKSxpbnRlcm5hbEFycmF5PVtdLGludGVybmFsT2JqZWN0PXt9LGluaXRSdW49ITAsb2xkTGVuZ3RoPTA7cmV0dXJuIHRoaXMuJHdhdGNoKCR3YXRjaENvbGxlY3Rpb25XYXRjaCwkd2F0Y2hDb2xsZWN0aW9uQWN0aW9uKX0sJGRpZ2VzdDpmdW5jdGlvbigpe3ZhciB3YXRjaCx2YWx1ZSxsYXN0LHdhdGNoZXJzLGxlbmd0aCxkaXJ0eSxuZXh0LGN1cnJlbnQsbG9nSWR4LGxvZ01zZyxhc3luY1Rhc2ssYXN5bmNRdWV1ZT10aGlzLiQkYXN5bmNRdWV1ZSxwb3N0RGlnZXN0UXVldWU9dGhpcy4kJHBvc3REaWdlc3RRdWV1ZSx0dGw9VFRMLHRhcmdldD10aGlzLHdhdGNoTG9nPVtdO2JlZ2luUGhhc2UoIiRkaWdlc3QiKSwkYnJvd3Nlci4kJGNoZWNrVXJsQ2hhbmdlKCksbGFzdERpcnR5V2F0Y2g9bnVsbDtkb3tmb3IoZGlydHk9ITEsY3VycmVudD10YXJnZXQ7YXN5bmNRdWV1ZS5sZW5ndGg7KXt0cnl7YXN5bmNUYXNrPWFzeW5jUXVldWUuc2hpZnQoKSxhc3luY1Rhc2suc2NvcGUuJGV2YWwoYXN5bmNUYXNrLmV4cHJlc3Npb24pfWNhdGNoKGUpe2NsZWFyUGhhc2UoKSwkZXhjZXB0aW9uSGFuZGxlcihlKX1sYXN0RGlydHlXYXRjaD1udWxsfXRyYXZlcnNlU2NvcGVzTG9vcDpkb3tpZih3YXRjaGVycz1jdXJyZW50LiQkd2F0Y2hlcnMpZm9yKGxlbmd0aD13YXRjaGVycy5sZW5ndGg7bGVuZ3RoLS07KXRyeXtpZih3YXRjaD13YXRjaGVyc1tsZW5ndGhdKWlmKCh2YWx1ZT13YXRjaC5nZXQoY3VycmVudCkpPT09KGxhc3Q9d2F0Y2gubGFzdCl8fCh3YXRjaC5lcT9lcXVhbHModmFsdWUsbGFzdCk6Im51bWJlciI9PXR5cGVvZiB2YWx1ZSYmIm51bWJlciI9PXR5cGVvZiBsYXN0JiZpc05hTih2YWx1ZSkmJmlzTmFOKGxhc3QpKSl7aWYod2F0Y2g9PT1sYXN0RGlydHlXYXRjaCl7ZGlydHk9ITE7YnJlYWsgdHJhdmVyc2VTY29wZXNMb29wfX1lbHNlIGRpcnR5PSEwLGxhc3REaXJ0eVdhdGNoPXdhdGNoLHdhdGNoLmxhc3Q9d2F0Y2guZXE/Y29weSh2YWx1ZSxudWxsKTp2YWx1ZSx3YXRjaC5mbih2YWx1ZSxsYXN0PT09aW5pdFdhdGNoVmFsP3ZhbHVlOmxhc3QsY3VycmVudCksNT50dGwmJihsb2dJZHg9NC10dGwsd2F0Y2hMb2dbbG9nSWR4XXx8KHdhdGNoTG9nW2xvZ0lkeF09W10pLGxvZ01zZz1pc0Z1bmN0aW9uKHdhdGNoLmV4cCk/ImZuOiAiKyh3YXRjaC5leHAubmFtZXx8d2F0Y2guZXhwLnRvU3RyaW5nKCkpOndhdGNoLmV4cCxsb2dNc2crPSI7IG5ld1ZhbDogIit0b0pzb24odmFsdWUpKyI7IG9sZFZhbDogIit0b0pzb24obGFzdCksd2F0Y2hMb2dbbG9nSWR4XS5wdXNoKGxvZ01zZykpfWNhdGNoKGUpe2NsZWFyUGhhc2UoKSwkZXhjZXB0aW9uSGFuZGxlcihlKX1pZighKG5leHQ9Y3VycmVudC4kJGNoaWxkSGVhZHx8Y3VycmVudCE9PXRhcmdldCYmY3VycmVudC4kJG5leHRTaWJsaW5nKSlmb3IoO2N1cnJlbnQhPT10YXJnZXQmJiEobmV4dD1jdXJyZW50LiQkbmV4dFNpYmxpbmcpOyljdXJyZW50PWN1cnJlbnQuJHBhcmVudH13aGlsZShjdXJyZW50PW5leHQpO2lmKChkaXJ0eXx8YXN5bmNRdWV1ZS5sZW5ndGgpJiYhdHRsLS0pdGhyb3cgY2xlYXJQaGFzZSgpLCRyb290U2NvcGVNaW5FcnIoImluZmRpZyIsInswfSAkZGlnZXN0KCkgaXRlcmF0aW9ucyByZWFjaGVkLiBBYm9ydGluZyFcbldhdGNoZXJzIGZpcmVkIGluIHRoZSBsYXN0IDUgaXRlcmF0aW9uczogezF9IixUVEwsdG9Kc29uKHdhdGNoTG9nKSl9d2hpbGUoZGlydHl8fGFzeW5jUXVldWUubGVuZ3RoKTtmb3IoY2xlYXJQaGFzZSgpO3Bvc3REaWdlc3RRdWV1ZS5sZW5ndGg7KXRyeXtwb3N0RGlnZXN0UXVldWUuc2hpZnQoKSgpfWNhdGNoKGUpeyRleGNlcHRpb25IYW5kbGVyKGUpfX0sJGRlc3Ryb3k6ZnVuY3Rpb24oKXtpZighdGhpcy4kJGRlc3Ryb3llZCl7dmFyIHBhcmVudD10aGlzLiRwYXJlbnQ7dGhpcy4kYnJvYWRjYXN0KCIkZGVzdHJveSIpLHRoaXMuJCRkZXN0cm95ZWQ9ITAsdGhpcyE9PSRyb290U2NvcGUmJihmb3JFYWNoKHRoaXMuJCRsaXN0ZW5lckNvdW50LGJpbmQobnVsbCxkZWNyZW1lbnRMaXN0ZW5lckNvdW50LHRoaXMpKSxwYXJlbnQuJCRjaGlsZEhlYWQ9PXRoaXMmJihwYXJlbnQuJCRjaGlsZEhlYWQ9dGhpcy4kJG5leHRTaWJsaW5nKSxwYXJlbnQuJCRjaGlsZFRhaWw9PXRoaXMmJihwYXJlbnQuJCRjaGlsZFRhaWw9dGhpcy4kJHByZXZTaWJsaW5nKSx0aGlzLiQkcHJldlNpYmxpbmcmJih0aGlzLiQkcHJldlNpYmxpbmcuJCRuZXh0U2libGluZz10aGlzLiQkbmV4dFNpYmxpbmcpLHRoaXMuJCRuZXh0U2libGluZyYmKHRoaXMuJCRuZXh0U2libGluZy4kJHByZXZTaWJsaW5nPXRoaXMuJCRwcmV2U2libGluZyksdGhpcy4kcGFyZW50PXRoaXMuJCRuZXh0U2libGluZz10aGlzLiQkcHJldlNpYmxpbmc9dGhpcy4kJGNoaWxkSGVhZD10aGlzLiQkY2hpbGRUYWlsPXRoaXMuJHJvb3Q9bnVsbCx0aGlzLiQkbGlzdGVuZXJzPXt9LHRoaXMuJCR3YXRjaGVycz10aGlzLiQkYXN5bmNRdWV1ZT10aGlzLiQkcG9zdERpZ2VzdFF1ZXVlPVtdLHRoaXMuJGRlc3Ryb3k9dGhpcy4kZGlnZXN0PXRoaXMuJGFwcGx5PW5vb3AsdGhpcy4kb249dGhpcy4kd2F0Y2g9ZnVuY3Rpb24oKXtyZXR1cm4gbm9vcH0pfX0sJGV2YWw6ZnVuY3Rpb24oZXhwcixsb2NhbHMpe3JldHVybiAkcGFyc2UoZXhwcikodGhpcyxsb2NhbHMpfSwkZXZhbEFzeW5jOmZ1bmN0aW9uKGV4cHIpeyRyb290U2NvcGUuJCRwaGFzZXx8JHJvb3RTY29wZS4kJGFzeW5jUXVldWUubGVuZ3RofHwkYnJvd3Nlci5kZWZlcihmdW5jdGlvbigpeyRyb290U2NvcGUuJCRhc3luY1F1ZXVlLmxlbmd0aCYmJHJvb3RTY29wZS4kZGlnZXN0KCl9KSx0aGlzLiQkYXN5bmNRdWV1ZS5wdXNoKHtzY29wZTp0aGlzLGV4cHJlc3Npb246ZXhwcn0pfSwkJHBvc3REaWdlc3Q6ZnVuY3Rpb24oZm4pe3RoaXMuJCRwb3N0RGlnZXN0UXVldWUucHVzaChmbil9LCRhcHBseTpmdW5jdGlvbihleHByKXt0cnl7cmV0dXJuIGJlZ2luUGhhc2UoIiRhcHBseSIpLHRoaXMuJGV2YWwoZXhwcil9Y2F0Y2goZSl7JGV4Y2VwdGlvbkhhbmRsZXIoZSl9ZmluYWxseXtjbGVhclBoYXNlKCk7dHJ5eyRyb290U2NvcGUuJGRpZ2VzdCgpfWNhdGNoKGUpe3Rocm93ICRleGNlcHRpb25IYW5kbGVyKGUpLGV9fX0sJG9uOmZ1bmN0aW9uKG5hbWUsbGlzdGVuZXIpe3ZhciBuYW1lZExpc3RlbmVycz10aGlzLiQkbGlzdGVuZXJzW25hbWVdO25hbWVkTGlzdGVuZXJzfHwodGhpcy4kJGxpc3RlbmVyc1tuYW1lXT1uYW1lZExpc3RlbmVycz1bXSksbmFtZWRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7dmFyIGN1cnJlbnQ9dGhpcztkbyBjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXXx8KGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdPTApLGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdKys7d2hpbGUoY3VycmVudD1jdXJyZW50LiRwYXJlbnQpO3ZhciBzZWxmPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKCl7bmFtZWRMaXN0ZW5lcnNbaW5kZXhPZihuYW1lZExpc3RlbmVycyxsaXN0ZW5lcildPW51bGwsZGVjcmVtZW50TGlzdGVuZXJDb3VudChzZWxmLDEsbmFtZSl9fSwkZW1pdDpmdW5jdGlvbihuYW1lKXt2YXIgbmFtZWRMaXN0ZW5lcnMsaSxsZW5ndGgsZW1wdHk9W10sc2NvcGU9dGhpcyxzdG9wUHJvcGFnYXRpb249ITEsZXZlbnQ9e25hbWU6bmFtZSx0YXJnZXRTY29wZTpzY29wZSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXtzdG9wUHJvcGFnYXRpb249ITB9LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7ZXZlbnQuZGVmYXVsdFByZXZlbnRlZD0hMH0sZGVmYXVsdFByZXZlbnRlZDohMX0sbGlzdGVuZXJBcmdzPWNvbmNhdChbZXZlbnRdLGFyZ3VtZW50cywxKTtkb3tmb3IobmFtZWRMaXN0ZW5lcnM9c2NvcGUuJCRsaXN0ZW5lcnNbbmFtZV18fGVtcHR5LGV2ZW50LmN1cnJlbnRTY29wZT1zY29wZSxpPTAsbGVuZ3RoPW5hbWVkTGlzdGVuZXJzLmxlbmd0aDtsZW5ndGg+aTtpKyspaWYobmFtZWRMaXN0ZW5lcnNbaV0pdHJ5e25hbWVkTGlzdGVuZXJzW2ldLmFwcGx5KG51bGwsbGlzdGVuZXJBcmdzKX1jYXRjaChlKXskZXhjZXB0aW9uSGFuZGxlcihlKX1lbHNlIG5hbWVkTGlzdGVuZXJzLnNwbGljZShpLDEpLGktLSxsZW5ndGgtLTtpZihzdG9wUHJvcGFnYXRpb24pcmV0dXJuIGV2ZW50O3Njb3BlPXNjb3BlLiRwYXJlbnR9d2hpbGUoc2NvcGUpO3JldHVybiBldmVudH0sJGJyb2FkY2FzdDpmdW5jdGlvbihuYW1lKXtmb3IodmFyIGxpc3RlbmVycyxpLGxlbmd0aCx0YXJnZXQ9dGhpcyxjdXJyZW50PXRhcmdldCxuZXh0PXRhcmdldCxldmVudD17bmFtZTpuYW1lLHRhcmdldFNjb3BlOnRhcmdldCxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe2V2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ9ITB9LGRlZmF1bHRQcmV2ZW50ZWQ6ITF9LGxpc3RlbmVyQXJncz1jb25jYXQoW2V2ZW50XSxhcmd1bWVudHMsMSk7Y3VycmVudD1uZXh0Oyl7Zm9yKGV2ZW50LmN1cnJlbnRTY29wZT1jdXJyZW50LGxpc3RlbmVycz1jdXJyZW50LiQkbGlzdGVuZXJzW25hbWVdfHxbXSxpPTAsbGVuZ3RoPWxpc3RlbmVycy5sZW5ndGg7bGVuZ3RoPmk7aSsrKWlmKGxpc3RlbmVyc1tpXSl0cnl7bGlzdGVuZXJzW2ldLmFwcGx5KG51bGwsbGlzdGVuZXJBcmdzKX1jYXRjaChlKXskZXhjZXB0aW9uSGFuZGxlcihlKX1lbHNlIGxpc3RlbmVycy5zcGxpY2UoaSwxKSxpLS0sbGVuZ3RoLS07aWYoIShuZXh0PWN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdJiZjdXJyZW50LiQkY2hpbGRIZWFkfHxjdXJyZW50IT09dGFyZ2V0JiZjdXJyZW50LiQkbmV4dFNpYmxpbmcpKWZvcig7Y3VycmVudCE9PXRhcmdldCYmIShuZXh0PWN1cnJlbnQuJCRuZXh0U2libGluZyk7KWN1cnJlbnQ9Y3VycmVudC4kcGFyZW50fXJldHVybiBldmVudH19O3ZhciAkcm9vdFNjb3BlPW5ldyBTY29wZTtyZXR1cm4gJHJvb3RTY29wZX1dfWZ1bmN0aW9uICQkU2FuaXRpemVVcmlQcm92aWRlcigpe3ZhciBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdD0vXlxzKihodHRwcz98ZnRwfG1haWx0b3x0ZWx8ZmlsZSk6LyxpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3Q9L15ccyooKGh0dHBzP3xmdHB8ZmlsZSk6fGRhdGE6aW1hZ2VcLykvO3RoaXMuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3Q9ZnVuY3Rpb24ocmVnZXhwKXtyZXR1cm4gaXNEZWZpbmVkKHJlZ2V4cCk/KGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0PXJlZ2V4cCx0aGlzKTphSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdH0sdGhpcy5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3Q9ZnVuY3Rpb24ocmVnZXhwKXtyZXR1cm4gaXNEZWZpbmVkKHJlZ2V4cCk/KGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdD1yZWdleHAsdGhpcyk6aW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0fSx0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odXJpLGlzSW1hZ2Upe3ZhciBub3JtYWxpemVkVmFsLHJlZ2V4PWlzSW1hZ2U/aW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0OmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0O3JldHVybiBtc2llJiYhKG1zaWU+PTgpfHwobm9ybWFsaXplZFZhbD11cmxSZXNvbHZlKHVyaSkuaHJlZiwiIj09PW5vcm1hbGl6ZWRWYWx8fG5vcm1hbGl6ZWRWYWwubWF0Y2gocmVnZXgpKT91cmk6InVuc2FmZToiK25vcm1hbGl6ZWRWYWx9fX1mdW5jdGlvbiBlc2NhcGVGb3JSZWdleHAocyl7cmV0dXJuIHMucmVwbGFjZSgvKFstKClcW1xde30rPyouJFxefCw6IzwhXFxdKS9nLCJcXCQxIikucmVwbGFjZSgvXHgwOC9nLCJcXHgwOCIpfWZ1bmN0aW9uIGFkanVzdE1hdGNoZXIobWF0Y2hlcil7aWYoInNlbGYiPT09bWF0Y2hlcilyZXR1cm4gbWF0Y2hlcjtpZihpc1N0cmluZyhtYXRjaGVyKSl7aWYobWF0Y2hlci5pbmRleE9mKCIqKioiKT4tMSl0aHJvdyAkc2NlTWluRXJyKCJpd2NhcmQiLCJJbGxlZ2FsIHNlcXVlbmNlICoqKiBpbiBzdHJpbmcgbWF0Y2hlci4gIFN0cmluZzogezB9IixtYXRjaGVyKTtyZXR1cm4gbWF0Y2hlcj1lc2NhcGVGb3JSZWdleHAobWF0Y2hlcikucmVwbGFjZSgiXFwqXFwqIiwiLioiKS5yZXBsYWNlKCJcXCoiLCJbXjovLj8mO10qIiksbmV3IFJlZ0V4cCgiXiIrbWF0Y2hlcisiJCIpfWlmKGlzUmVnRXhwKG1hdGNoZXIpKXJldHVybiBuZXcgUmVnRXhwKCJeIittYXRjaGVyLnNvdXJjZSsiJCIpO3Rocm93ICRzY2VNaW5FcnIoImltYXRjaGVyIiwnTWF0Y2hlcnMgbWF5IG9ubHkgYmUgInNlbGYiLCBzdHJpbmcgcGF0dGVybnMgb3IgUmVnRXhwIG9iamVjdHMnKX1mdW5jdGlvbiBhZGp1c3RNYXRjaGVycyhtYXRjaGVycyl7dmFyIGFkanVzdGVkTWF0Y2hlcnM9W107cmV0dXJuIGlzRGVmaW5lZChtYXRjaGVycykmJmZvckVhY2gobWF0Y2hlcnMsZnVuY3Rpb24obWF0Y2hlcil7YWRqdXN0ZWRNYXRjaGVycy5wdXNoKGFkanVzdE1hdGNoZXIobWF0Y2hlcikpfSksYWRqdXN0ZWRNYXRjaGVyc31mdW5jdGlvbiAkU2NlRGVsZWdhdGVQcm92aWRlcigpe3RoaXMuU0NFX0NPTlRFWFRTPVNDRV9DT05URVhUUzt2YXIgcmVzb3VyY2VVcmxXaGl0ZWxpc3Q9WyJzZWxmIl0scmVzb3VyY2VVcmxCbGFja2xpc3Q9W107dGhpcy5yZXNvdXJjZVVybFdoaXRlbGlzdD1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgmJihyZXNvdXJjZVVybFdoaXRlbGlzdD1hZGp1c3RNYXRjaGVycyh2YWx1ZSkpLHJlc291cmNlVXJsV2hpdGVsaXN0fSx0aGlzLnJlc291cmNlVXJsQmxhY2tsaXN0PWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCYmKHJlc291cmNlVXJsQmxhY2tsaXN0PWFkanVzdE1hdGNoZXJzKHZhbHVlKSkscmVzb3VyY2VVcmxCbGFja2xpc3R9LHRoaXMuJGdldD1bIiRpbmplY3RvciIsZnVuY3Rpb24oJGluamVjdG9yKXtmdW5jdGlvbiBtYXRjaFVybChtYXRjaGVyLHBhcnNlZFVybCl7cmV0dXJuInNlbGYiPT09bWF0Y2hlcj91cmxJc1NhbWVPcmlnaW4ocGFyc2VkVXJsKTohIW1hdGNoZXIuZXhlYyhwYXJzZWRVcmwuaHJlZil9ZnVuY3Rpb24gaXNSZXNvdXJjZVVybEFsbG93ZWRCeVBvbGljeSh1cmwpe3ZhciBpLG4scGFyc2VkVXJsPXVybFJlc29sdmUodXJsLnRvU3RyaW5nKCkpLGFsbG93ZWQ9ITE7Zm9yKGk9MCxuPXJlc291cmNlVXJsV2hpdGVsaXN0Lmxlbmd0aDtuPmk7aSsrKWlmKG1hdGNoVXJsKHJlc291cmNlVXJsV2hpdGVsaXN0W2ldLHBhcnNlZFVybCkpe2FsbG93ZWQ9ITA7YnJlYWt9aWYoYWxsb3dlZClmb3IoaT0wLG49cmVzb3VyY2VVcmxCbGFja2xpc3QubGVuZ3RoO24+aTtpKyspaWYobWF0Y2hVcmwocmVzb3VyY2VVcmxCbGFja2xpc3RbaV0scGFyc2VkVXJsKSl7YWxsb3dlZD0hMTticmVha31yZXR1cm4gYWxsb3dlZH1mdW5jdGlvbiBnZW5lcmF0ZUhvbGRlclR5cGUoQmFzZSl7dmFyIGhvbGRlclR5cGU9ZnVuY3Rpb24odHJ1c3RlZFZhbHVlKXt0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRydXN0ZWRWYWx1ZX19O3JldHVybiBCYXNlJiYoaG9sZGVyVHlwZS5wcm90b3R5cGU9bmV3IEJhc2UpLGhvbGRlclR5cGUucHJvdG90eXBlLnZhbHVlT2Y9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpfSxob2xkZXJUeXBlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCkudG9TdHJpbmcoKX0saG9sZGVyVHlwZX1mdW5jdGlvbiB0cnVzdEFzKHR5cGUsdHJ1c3RlZFZhbHVlKXt2YXIgQ29uc3RydWN0b3I9YnlUeXBlLmhhc093blByb3BlcnR5KHR5cGUpP2J5VHlwZVt0eXBlXTpudWxsO2lmKCFDb25zdHJ1Y3Rvcil0aHJvdyAkc2NlTWluRXJyKCJpY29udGV4dCIsIkF0dGVtcHRlZCB0byB0cnVzdCBhIHZhbHVlIGluIGludmFsaWQgY29udGV4dC4gQ29udGV4dDogezB9OyBWYWx1ZTogezF9Iix0eXBlLHRydXN0ZWRWYWx1ZSk7aWYobnVsbD09PXRydXN0ZWRWYWx1ZXx8dHJ1c3RlZFZhbHVlPT09dW5kZWZpbmVkfHwiIj09PXRydXN0ZWRWYWx1ZSlyZXR1cm4gdHJ1c3RlZFZhbHVlO2lmKCJzdHJpbmciIT10eXBlb2YgdHJ1c3RlZFZhbHVlKXRocm93ICRzY2VNaW5FcnIoIml0eXBlIiwiQXR0ZW1wdGVkIHRvIHRydXN0IGEgbm9uLXN0cmluZyB2YWx1ZSBpbiBhIGNvbnRlbnQgcmVxdWlyaW5nIGEgc3RyaW5nOiBDb250ZXh0OiB7MH0iLHR5cGUpO3JldHVybiBuZXcgQ29uc3RydWN0b3IodHJ1c3RlZFZhbHVlKX1mdW5jdGlvbiB2YWx1ZU9mKG1heWJlVHJ1c3RlZCl7cmV0dXJuIG1heWJlVHJ1c3RlZCBpbnN0YW5jZW9mIHRydXN0ZWRWYWx1ZUhvbGRlckJhc2U/bWF5YmVUcnVzdGVkLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCk6bWF5YmVUcnVzdGVkfWZ1bmN0aW9uIGdldFRydXN0ZWQodHlwZSxtYXliZVRydXN0ZWQpe2lmKG51bGw9PT1tYXliZVRydXN0ZWR8fG1heWJlVHJ1c3RlZD09PXVuZGVmaW5lZHx8IiI9PT1tYXliZVRydXN0ZWQpcmV0dXJuIG1heWJlVHJ1c3RlZDt2YXIgY29uc3RydWN0b3I9YnlUeXBlLmhhc093blByb3BlcnR5KHR5cGUpP2J5VHlwZVt0eXBlXTpudWxsO2lmKGNvbnN0cnVjdG9yJiZtYXliZVRydXN0ZWQgaW5zdGFuY2VvZiBjb25zdHJ1Y3RvcilyZXR1cm4gbWF5YmVUcnVzdGVkLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCk7aWYodHlwZT09PVNDRV9DT05URVhUUy5SRVNPVVJDRV9VUkwpe2lmKGlzUmVzb3VyY2VVcmxBbGxvd2VkQnlQb2xpY3kobWF5YmVUcnVzdGVkKSlyZXR1cm4gbWF5YmVUcnVzdGVkO3Rocm93ICRzY2VNaW5FcnIoImluc2VjdXJsIiwiQmxvY2tlZCBsb2FkaW5nIHJlc291cmNlIGZyb20gdXJsIG5vdCBhbGxvd2VkIGJ5ICRzY2VEZWxlZ2F0ZSBwb2xpY3kuICBVUkw6IHswfSIsbWF5YmVUcnVzdGVkLnRvU3RyaW5nKCkpfWlmKHR5cGU9PT1TQ0VfQ09OVEVYVFMuSFRNTClyZXR1cm4gaHRtbFNhbml0aXplcihtYXliZVRydXN0ZWQpO3Rocm93ICRzY2VNaW5FcnIoInVuc2FmZSIsIkF0dGVtcHRpbmcgdG8gdXNlIGFuIHVuc2FmZSB2YWx1ZSBpbiBhIHNhZmUgY29udGV4dC4iKX12YXIgaHRtbFNhbml0aXplcj1mdW5jdGlvbigpe3Rocm93ICRzY2VNaW5FcnIoInVuc2FmZSIsIkF0dGVtcHRpbmcgdG8gdXNlIGFuIHVuc2FmZSB2YWx1ZSBpbiBhIHNhZmUgY29udGV4dC4iKX07JGluamVjdG9yLmhhcygiJHNhbml0aXplIikmJihodG1sU2FuaXRpemVyPSRpbmplY3Rvci5nZXQoIiRzYW5pdGl6ZSIpKTt2YXIgdHJ1c3RlZFZhbHVlSG9sZGVyQmFzZT1nZW5lcmF0ZUhvbGRlclR5cGUoKSxieVR5cGU9e307cmV0dXJuIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuSFRNTF09Z2VuZXJhdGVIb2xkZXJUeXBlKHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UpLGJ5VHlwZVtTQ0VfQ09OVEVYVFMuQ1NTXT1nZW5lcmF0ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSksYnlUeXBlW1NDRV9DT05URVhUUy5VUkxdPWdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKSxieVR5cGVbU0NFX0NPTlRFWFRTLkpTXT1nZW5lcmF0ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSksYnlUeXBlW1NDRV9DT05URVhUUy5SRVNPVVJDRV9VUkxdPWdlbmVyYXRlSG9sZGVyVHlwZShieVR5cGVbU0NFX0NPTlRFWFRTLlVSTF0pLHt0cnVzdEFzOnRydXN0QXMsZ2V0VHJ1c3RlZDpnZXRUcnVzdGVkLHZhbHVlT2Y6dmFsdWVPZn19XX1mdW5jdGlvbiAkU2NlUHJvdmlkZXIoKXt2YXIgZW5hYmxlZD0hMDt0aGlzLmVuYWJsZWQ9ZnVuY3Rpb24odmFsdWUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoJiYoZW5hYmxlZD0hIXZhbHVlKSxlbmFibGVkfSx0aGlzLiRnZXQ9WyIkcGFyc2UiLCIkc25pZmZlciIsIiRzY2VEZWxlZ2F0ZSIsZnVuY3Rpb24oJHBhcnNlLCRzbmlmZmVyLCRzY2VEZWxlZ2F0ZSl7aWYoZW5hYmxlZCYmJHNuaWZmZXIubXNpZSYmJHNuaWZmZXIubXNpZURvY3VtZW50TW9kZTw4KXRocm93ICRzY2VNaW5FcnIoImllcXVpcmtzIiwiU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgZG9lcyBub3Qgc3VwcG9ydCBJbnRlcm5ldCBFeHBsb3JlciB2ZXJzaW9uIDwgOSBpbiBxdWlya3MgbW9kZS4gIFlvdSBjYW4gZml4IHRoaXMgYnkgYWRkaW5nIHRoZSB0ZXh0IDwhZG9jdHlwZSBodG1sPiB0byB0aGUgdG9wIG9mIHlvdXIgSFRNTCBkb2N1bWVudC4gIFNlZSBodHRwOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZy4kc2NlIGZvciBtb3JlIGluZm9ybWF0aW9uLiIpO3ZhciBzY2U9c2hhbGxvd0NvcHkoU0NFX0NPTlRFWFRTKTtzY2UuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGVuYWJsZWR9LHNjZS50cnVzdEFzPSRzY2VEZWxlZ2F0ZS50cnVzdEFzLHNjZS5nZXRUcnVzdGVkPSRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkLHNjZS52YWx1ZU9mPSRzY2VEZWxlZ2F0ZS52YWx1ZU9mLGVuYWJsZWR8fChzY2UudHJ1c3RBcz1zY2UuZ2V0VHJ1c3RlZD1mdW5jdGlvbih0eXBlLHZhbHVlKXtyZXR1cm4gdmFsdWV9LHNjZS52YWx1ZU9mPWlkZW50aXR5KSxzY2UucGFyc2VBcz1mdW5jdGlvbih0eXBlLGV4cHIpe3ZhciBwYXJzZWQ9JHBhcnNlKGV4cHIpO3JldHVybiBwYXJzZWQubGl0ZXJhbCYmcGFyc2VkLmNvbnN0YW50P3BhcnNlZDpmdW5jdGlvbihzZWxmLGxvY2Fscyl7cmV0dXJuIHNjZS5nZXRUcnVzdGVkKHR5cGUscGFyc2VkKHNlbGYsbG9jYWxzKSl9fTt2YXIgcGFyc2U9c2NlLnBhcnNlQXMsZ2V0VHJ1c3RlZD1zY2UuZ2V0VHJ1c3RlZCx0cnVzdEFzPXNjZS50cnVzdEFzO3JldHVybiBmb3JFYWNoKFNDRV9DT05URVhUUyxmdW5jdGlvbihlbnVtVmFsdWUsbmFtZSl7dmFyIGxOYW1lPWxvd2VyY2FzZShuYW1lKTtzY2VbY2FtZWxDYXNlKCJwYXJzZV9hc18iK2xOYW1lKV09ZnVuY3Rpb24oZXhwcil7cmV0dXJuIHBhcnNlKGVudW1WYWx1ZSxleHByKX0sc2NlW2NhbWVsQ2FzZSgiZ2V0X3RydXN0ZWRfIitsTmFtZSldPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gZ2V0VHJ1c3RlZChlbnVtVmFsdWUsdmFsdWUpfSxzY2VbY2FtZWxDYXNlKCJ0cnVzdF9hc18iK2xOYW1lKV09ZnVuY3Rpb24odmFsdWUpe3JldHVybiB0cnVzdEFzKGVudW1WYWx1ZSx2YWx1ZSl9fSksc2NlfV19ZnVuY3Rpb24gJFNuaWZmZXJQcm92aWRlcigpe3RoaXMuJGdldD1bIiR3aW5kb3ciLCIkZG9jdW1lbnQiLGZ1bmN0aW9uKCR3aW5kb3csJGRvY3VtZW50KXt2YXIgdmVuZG9yUHJlZml4LG1hdGNoLGV2ZW50U3VwcG9ydD17fSxhbmRyb2lkPWludCgoL2FuZHJvaWQgKFxkKykvLmV4ZWMobG93ZXJjYXNlKCgkd2luZG93Lm5hdmlnYXRvcnx8e30pLnVzZXJBZ2VudCkpfHxbXSlbMV0pLGJveGVlPS9Cb3hlZS9pLnRlc3QoKCR3aW5kb3cubmF2aWdhdG9yfHx7fSkudXNlckFnZW50KSxkb2N1bWVudD0kZG9jdW1lbnRbMF18fHt9LGRvY3VtZW50TW9kZT1kb2N1bWVudC5kb2N1bWVudE1vZGUsdmVuZG9yUmVnZXg9L14oTW96fHdlYmtpdHxPfG1zKSg/PVtBLVpdKS8sYm9keVN0eWxlPWRvY3VtZW50LmJvZHkmJmRvY3VtZW50LmJvZHkuc3R5bGUsdHJhbnNpdGlvbnM9ITEsYW5pbWF0aW9ucz0hMTtpZihib2R5U3R5bGUpe2Zvcih2YXIgcHJvcCBpbiBib2R5U3R5bGUpaWYobWF0Y2g9dmVuZG9yUmVnZXguZXhlYyhwcm9wKSl7dmVuZG9yUHJlZml4PW1hdGNoWzBdLHZlbmRvclByZWZpeD12ZW5kb3JQcmVmaXguc3Vic3RyKDAsMSkudG9VcHBlckNhc2UoKSt2ZW5kb3JQcmVmaXguc3Vic3RyKDEpO2JyZWFrfXZlbmRvclByZWZpeHx8KHZlbmRvclByZWZpeD0iV2Via2l0T3BhY2l0eSJpbiBib2R5U3R5bGUmJiJ3ZWJraXQiKSx0cmFuc2l0aW9ucz0hISgidHJhbnNpdGlvbiJpbiBib2R5U3R5bGV8fHZlbmRvclByZWZpeCsiVHJhbnNpdGlvbiJpbiBib2R5U3R5bGUpLGFuaW1hdGlvbnM9ISEoImFuaW1hdGlvbiJpbiBib2R5U3R5bGV8fHZlbmRvclByZWZpeCsiQW5pbWF0aW9uImluIGJvZHlTdHlsZSksIWFuZHJvaWR8fHRyYW5zaXRpb25zJiZhbmltYXRpb25zfHwodHJhbnNpdGlvbnM9aXNTdHJpbmcoZG9jdW1lbnQuYm9keS5zdHlsZS53ZWJraXRUcmFuc2l0aW9uKSxhbmltYXRpb25zPWlzU3RyaW5nKGRvY3VtZW50LmJvZHkuc3R5bGUud2Via2l0QW5pbWF0aW9uKSl9cmV0dXJue2hpc3Rvcnk6ISghJHdpbmRvdy5oaXN0b3J5fHwhJHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZXx8ND5hbmRyb2lkfHxib3hlZSksaGFzaGNoYW5nZToib25oYXNoY2hhbmdlImluICR3aW5kb3cmJighZG9jdW1lbnRNb2RlfHxkb2N1bWVudE1vZGU+NyksaGFzRXZlbnQ6ZnVuY3Rpb24oZXZlbnQpe2lmKCJpbnB1dCI9PWV2ZW50JiY5PT1tc2llKXJldHVybiExO2lmKGlzVW5kZWZpbmVkKGV2ZW50U3VwcG9ydFtldmVudF0pKXt2YXIgZGl2RWxtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2V2ZW50U3VwcG9ydFtldmVudF09Im9uIitldmVudCBpbiBkaXZFbG19cmV0dXJuIGV2ZW50U3VwcG9ydFtldmVudF19LGNzcDpjc3AoKSx2ZW5kb3JQcmVmaXg6dmVuZG9yUHJlZml4LHRyYW5zaXRpb25zOnRyYW5zaXRpb25zLGFuaW1hdGlvbnM6YW5pbWF0aW9ucyxhbmRyb2lkOmFuZHJvaWQsbXNpZTptc2llLG1zaWVEb2N1bWVudE1vZGU6ZG9jdW1lbnRNb2RlfX1dfWZ1bmN0aW9uICRUaW1lb3V0UHJvdmlkZXIoKXt0aGlzLiRnZXQ9WyIkcm9vdFNjb3BlIiwiJGJyb3dzZXIiLCIkcSIsIiRleGNlcHRpb25IYW5kbGVyIixmdW5jdGlvbigkcm9vdFNjb3BlLCRicm93c2VyLCRxLCRleGNlcHRpb25IYW5kbGVyKXtmdW5jdGlvbiB0aW1lb3V0KGZuLGRlbGF5LGludm9rZUFwcGx5KXt2YXIgdGltZW91dElkLGRlZmVycmVkPSRxLmRlZmVyKCkscHJvbWlzZT1kZWZlcnJlZC5wcm9taXNlLHNraXBBcHBseT1pc0RlZmluZWQoaW52b2tlQXBwbHkpJiYhaW52b2tlQXBwbHk7cmV0dXJuIHRpbWVvdXRJZD0kYnJvd3Nlci5kZWZlcihmdW5jdGlvbigpe3RyeXtkZWZlcnJlZC5yZXNvbHZlKGZuKCkpfWNhdGNoKGUpe2RlZmVycmVkLnJlamVjdChlKSwkZXhjZXB0aW9uSGFuZGxlcihlKX1maW5hbGx5e2RlbGV0ZSBkZWZlcnJlZHNbcHJvbWlzZS4kJHRpbWVvdXRJZF19c2tpcEFwcGx5fHwkcm9vdFNjb3BlLiRhcHBseSgpfSxkZWxheSkscHJvbWlzZS4kJHRpbWVvdXRJZD10aW1lb3V0SWQsZGVmZXJyZWRzW3RpbWVvdXRJZF09ZGVmZXJyZWQscHJvbWlzZX12YXIgZGVmZXJyZWRzPXt9O3JldHVybiB0aW1lb3V0LmNhbmNlbD1mdW5jdGlvbihwcm9taXNlKXtyZXR1cm4gcHJvbWlzZSYmcHJvbWlzZS4kJHRpbWVvdXRJZCBpbiBkZWZlcnJlZHM/KGRlZmVycmVkc1twcm9taXNlLiQkdGltZW91dElkXS5yZWplY3QoImNhbmNlbGVkIiksZGVsZXRlIGRlZmVycmVkc1twcm9taXNlLiQkdGltZW91dElkXSwkYnJvd3Nlci5kZWZlci5jYW5jZWwocHJvbWlzZS4kJHRpbWVvdXRJZCkpOiExfSx0aW1lb3V0fV19ZnVuY3Rpb24gdXJsUmVzb2x2ZSh1cmwpe3ZhciBocmVmPXVybDtyZXR1cm4gbXNpZSYmKHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgiaHJlZiIsaHJlZiksaHJlZj11cmxQYXJzaW5nTm9kZS5ocmVmKSx1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoImhyZWYiLGhyZWYpLHtocmVmOnVybFBhcnNpbmdOb2RlLmhyZWYscHJvdG9jb2w6dXJsUGFyc2luZ05vZGUucHJvdG9jb2w/dXJsUGFyc2luZ05vZGUucHJvdG9jb2wucmVwbGFjZSgvOiQvLCIiKToiIixob3N0OnVybFBhcnNpbmdOb2RlLmhvc3Qsc2VhcmNoOnVybFBhcnNpbmdOb2RlLnNlYXJjaD91cmxQYXJzaW5nTm9kZS5zZWFyY2gucmVwbGFjZSgvXlw/LywiIik6IiIsaGFzaDp1cmxQYXJzaW5nTm9kZS5oYXNoP3VybFBhcnNpbmdOb2RlLmhhc2gucmVwbGFjZSgvXiMvLCIiKToiIixob3N0bmFtZTp1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxwb3J0OnVybFBhcnNpbmdOb2RlLnBvcnQscGF0aG5hbWU6Ii8iPT09dXJsUGFyc2luZ05vZGUucGF0aG5hbWUuY2hhckF0KDApP3VybFBhcnNpbmdOb2RlLnBhdGhuYW1lOiIvIit1cmxQYXJzaW5nTm9kZS5wYXRobmFtZX19ZnVuY3Rpb24gdXJsSXNTYW1lT3JpZ2luKHJlcXVlc3RVcmwpe3ZhciBwYXJzZWQ9aXNTdHJpbmcocmVxdWVzdFVybCk/dXJsUmVzb2x2ZShyZXF1ZXN0VXJsKTpyZXF1ZXN0VXJsO3JldHVybiBwYXJzZWQucHJvdG9jb2w9PT1vcmlnaW5VcmwucHJvdG9jb2wmJnBhcnNlZC5ob3N0PT09b3JpZ2luVXJsLmhvc3R9ZnVuY3Rpb24gJFdpbmRvd1Byb3ZpZGVyKCl7dGhpcy4kZ2V0PXZhbHVlRm4od2luZG93KX1mdW5jdGlvbiAkRmlsdGVyUHJvdmlkZXIoJHByb3ZpZGUpe2Z1bmN0aW9uIHJlZ2lzdGVyKG5hbWUsZmFjdG9yeSl7aWYoaXNPYmplY3QobmFtZSkpe3ZhciBmaWx0ZXJzPXt9O3JldHVybiBmb3JFYWNoKG5hbWUsZnVuY3Rpb24oZmlsdGVyLGtleSl7ZmlsdGVyc1trZXldPXJlZ2lzdGVyKGtleSxmaWx0ZXIpfSksZmlsdGVyc31yZXR1cm4gJHByb3ZpZGUuZmFjdG9yeShuYW1lK3N1ZmZpeCxmYWN0b3J5KX12YXIgc3VmZml4PSJGaWx0ZXIiO3RoaXMucmVnaXN0ZXI9cmVnaXN0ZXIsdGhpcy4kZ2V0PVsiJGluamVjdG9yIixmdW5jdGlvbigkaW5qZWN0b3Ipe3JldHVybiBmdW5jdGlvbihuYW1lKXtyZXR1cm4gJGluamVjdG9yLmdldChuYW1lK3N1ZmZpeCl9fV0scmVnaXN0ZXIoImN1cnJlbmN5IixjdXJyZW5jeUZpbHRlcikscmVnaXN0ZXIoImRhdGUiLGRhdGVGaWx0ZXIpLHJlZ2lzdGVyKCJmaWx0ZXIiLGZpbHRlckZpbHRlcikscmVnaXN0ZXIoImpzb24iLGpzb25GaWx0ZXIpLHJlZ2lzdGVyKCJsaW1pdFRvIixsaW1pdFRvRmlsdGVyKSxyZWdpc3RlcigibG93ZXJjYXNlIixsb3dlcmNhc2VGaWx0ZXIpLHJlZ2lzdGVyKCJudW1iZXIiLG51bWJlckZpbHRlcikscmVnaXN0ZXIoIm9yZGVyQnkiLG9yZGVyQnlGaWx0ZXIpLHJlZ2lzdGVyKCJ1cHBlcmNhc2UiLHVwcGVyY2FzZUZpbHRlcil9ZnVuY3Rpb24gZmlsdGVyRmlsdGVyKCl7cmV0dXJuIGZ1bmN0aW9uKGFycmF5LGV4cHJlc3Npb24sY29tcGFyYXRvcil7aWYoIWlzQXJyYXkoYXJyYXkpKXJldHVybiBhcnJheTt2YXIgY29tcGFyYXRvclR5cGU9dHlwZW9mIGNvbXBhcmF0b3IscHJlZGljYXRlcz1bXTtwcmVkaWNhdGVzLmNoZWNrPWZ1bmN0aW9uKHZhbHVlKXtmb3IodmFyIGo9MDtqPHByZWRpY2F0ZXMubGVuZ3RoO2orKylpZighcHJlZGljYXRlc1tqXSh2YWx1ZSkpcmV0dXJuITE7cmV0dXJuITB9LCJmdW5jdGlvbiIhPT1jb21wYXJhdG9yVHlwZSYmKGNvbXBhcmF0b3I9ImJvb2xlYW4iPT09Y29tcGFyYXRvclR5cGUmJmNvbXBhcmF0b3I/ZnVuY3Rpb24ob2JqLHRleHQpe3JldHVybiBhbmd1bGFyLmVxdWFscyhvYmosdGV4dCl9OmZ1bmN0aW9uKG9iaix0ZXh0KXtpZihvYmomJnRleHQmJiJvYmplY3QiPT10eXBlb2Ygb2JqJiYib2JqZWN0Ij09dHlwZW9mIHRleHQpe2Zvcih2YXIgb2JqS2V5IGluIG9iailpZigiJCIhPT1vYmpLZXkuY2hhckF0KDApJiZoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaixvYmpLZXkpJiZjb21wYXJhdG9yKG9ialtvYmpLZXldLHRleHRbb2JqS2V5XSkpcmV0dXJuITA7cmV0dXJuITF9cmV0dXJuIHRleHQ9KCIiK3RleHQpLnRvTG93ZXJDYXNlKCksKCIiK29iaikudG9Mb3dlckNhc2UoKS5pbmRleE9mKHRleHQpPi0xfSk7dmFyIHNlYXJjaD1mdW5jdGlvbihvYmosdGV4dCl7aWYoInN0cmluZyI9PXR5cGVvZiB0ZXh0JiYiISI9PT10ZXh0LmNoYXJBdCgwKSlyZXR1cm4hc2VhcmNoKG9iaix0ZXh0LnN1YnN0cigxKSk7c3dpdGNoKHR5cGVvZiBvYmope2Nhc2UiYm9vbGVhbiI6Y2FzZSJudW1iZXIiOmNhc2Uic3RyaW5nIjpyZXR1cm4gY29tcGFyYXRvcihvYmosdGV4dCk7Y2FzZSJvYmplY3QiOnN3aXRjaCh0eXBlb2YgdGV4dCl7Y2FzZSJvYmplY3QiOnJldHVybiBjb21wYXJhdG9yKG9iaix0ZXh0KTtkZWZhdWx0OmZvcih2YXIgb2JqS2V5IGluIG9iailpZigiJCIhPT1vYmpLZXkuY2hhckF0KDApJiZzZWFyY2gob2JqW29iaktleV0sdGV4dCkpcmV0dXJuITB9cmV0dXJuITE7Y2FzZSJhcnJheSI6Zm9yKHZhciBpPTA7aTxvYmoubGVuZ3RoO2krKylpZihzZWFyY2gob2JqW2ldLHRleHQpKXJldHVybiEwO3JldHVybiExO2RlZmF1bHQ6cmV0dXJuITF9fTtzd2l0Y2godHlwZW9mIGV4cHJlc3Npb24pe2Nhc2UiYm9vbGVhbiI6Y2FzZSJudW1iZXIiOmNhc2Uic3RyaW5nIjpleHByZXNzaW9uPXskOmV4cHJlc3Npb259O2Nhc2Uib2JqZWN0Ijpmb3IodmFyIGtleSBpbiBleHByZXNzaW9uKSFmdW5jdGlvbihwYXRoKXsidW5kZWZpbmVkIiE9dHlwZW9mIGV4cHJlc3Npb25bcGF0aF0mJnByZWRpY2F0ZXMucHVzaChmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHNlYXJjaCgiJCI9PXBhdGg/dmFsdWU6dmFsdWUmJnZhbHVlW3BhdGhdLGV4cHJlc3Npb25bcGF0aF0pfSl9KGtleSk7YnJlYWs7Y2FzZSJmdW5jdGlvbiI6cHJlZGljYXRlcy5wdXNoKGV4cHJlc3Npb24pO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIGFycmF5fWZvcih2YXIgZmlsdGVyZWQ9W10saj0wO2o8YXJyYXkubGVuZ3RoO2orKyl7dmFyIHZhbHVlPWFycmF5W2pdO3ByZWRpY2F0ZXMuY2hlY2sodmFsdWUpJiZmaWx0ZXJlZC5wdXNoKHZhbHVlKX1yZXR1cm4gZmlsdGVyZWR9fWZ1bmN0aW9uIGN1cnJlbmN5RmlsdGVyKCRsb2NhbGUpe3ZhciBmb3JtYXRzPSRsb2NhbGUuTlVNQkVSX0ZPUk1BVFM7cmV0dXJuIGZ1bmN0aW9uKGFtb3VudCxjdXJyZW5jeVN5bWJvbCl7cmV0dXJuIGlzVW5kZWZpbmVkKGN1cnJlbmN5U3ltYm9sKSYmKGN1cnJlbmN5U3ltYm9sPWZvcm1hdHMuQ1VSUkVOQ1lfU1lNKSxmb3JtYXROdW1iZXIoYW1vdW50LGZvcm1hdHMuUEFUVEVSTlNbMV0sZm9ybWF0cy5HUk9VUF9TRVAsZm9ybWF0cy5ERUNJTUFMX1NFUCwyKS5yZXBsYWNlKC9cdTAwQTQvZyxjdXJyZW5jeVN5bWJvbCl9fWZ1bmN0aW9uIG51bWJlckZpbHRlcigkbG9jYWxlKXt2YXIgZm9ybWF0cz0kbG9jYWxlLk5VTUJFUl9GT1JNQVRTO3JldHVybiBmdW5jdGlvbihudW1iZXIsZnJhY3Rpb25TaXplKXtyZXR1cm4gZm9ybWF0TnVtYmVyKG51bWJlcixmb3JtYXRzLlBBVFRFUk5TWzBdLGZvcm1hdHMuR1JPVVBfU0VQLGZvcm1hdHMuREVDSU1BTF9TRVAsZnJhY3Rpb25TaXplKX19ZnVuY3Rpb24gZm9ybWF0TnVtYmVyKG51bWJlcixwYXR0ZXJuLGdyb3VwU2VwLGRlY2ltYWxTZXAsZnJhY3Rpb25TaXplKXtpZihudWxsPT1udW1iZXJ8fCFpc0Zpbml0ZShudW1iZXIpfHxpc09iamVjdChudW1iZXIpKXJldHVybiIiO3ZhciBpc05lZ2F0aXZlPTA+bnVtYmVyO251bWJlcj1NYXRoLmFicyhudW1iZXIpO3ZhciBudW1TdHI9bnVtYmVyKyIiLGZvcm1hdGVkVGV4dD0iIixwYXJ0cz1bXSxoYXNFeHBvbmVudD0hMTtpZigtMSE9PW51bVN0ci5pbmRleE9mKCJlIikpe3ZhciBtYXRjaD1udW1TdHIubWF0Y2goLyhbXGRcLl0rKWUoLT8pKFxkKykvKTttYXRjaCYmIi0iPT1tYXRjaFsyXSYmbWF0Y2hbM10+ZnJhY3Rpb25TaXplKzE/KG51bVN0cj0iMCIsbnVtYmVyPTApOihmb3JtYXRlZFRleHQ9bnVtU3RyLGhhc0V4cG9uZW50PSEwKX1pZihoYXNFeHBvbmVudClmcmFjdGlvblNpemU+MCYmbnVtYmVyPi0xJiYxPm51bWJlciYmKGZvcm1hdGVkVGV4dD1udW1iZXIudG9GaXhlZChmcmFjdGlvblNpemUpKTtlbHNle3ZhciBmcmFjdGlvbkxlbj0obnVtU3RyLnNwbGl0KERFQ0lNQUxfU0VQKVsxXXx8IiIpLmxlbmd0aDtpc1VuZGVmaW5lZChmcmFjdGlvblNpemUpJiYoZnJhY3Rpb25TaXplPU1hdGgubWluKE1hdGgubWF4KHBhdHRlcm4ubWluRnJhYyxmcmFjdGlvbkxlbikscGF0dGVybi5tYXhGcmFjKSksbnVtYmVyPSsoTWF0aC5yb3VuZCgrKG51bWJlci50b1N0cmluZygpKyJlIitmcmFjdGlvblNpemUpKS50b1N0cmluZygpKyJlIistZnJhY3Rpb25TaXplKSwwPT09bnVtYmVyJiYoaXNOZWdhdGl2ZT0hMSk7dmFyIGZyYWN0aW9uPSgiIitudW1iZXIpLnNwbGl0KERFQ0lNQUxfU0VQKSx3aG9sZT1mcmFjdGlvblswXTtmcmFjdGlvbj1mcmFjdGlvblsxXXx8IiI7dmFyIGkscG9zPTAsbGdyb3VwPXBhdHRlcm4ubGdTaXplLGdyb3VwPXBhdHRlcm4uZ1NpemU7aWYod2hvbGUubGVuZ3RoPj1sZ3JvdXArZ3JvdXApZm9yKHBvcz13aG9sZS5sZW5ndGgtbGdyb3VwLGk9MDtwb3M+aTtpKyspKHBvcy1pKSVncm91cD09PTAmJjAhPT1pJiYoZm9ybWF0ZWRUZXh0Kz1ncm91cFNlcCksZm9ybWF0ZWRUZXh0Kz13aG9sZS5jaGFyQXQoaSk7Zm9yKGk9cG9zO2k8d2hvbGUubGVuZ3RoO2krKykod2hvbGUubGVuZ3RoLWkpJWxncm91cD09PTAmJjAhPT1pJiYoZm9ybWF0ZWRUZXh0Kz1ncm91cFNlcCksZm9ybWF0ZWRUZXh0Kz13aG9sZS5jaGFyQXQoaSk7CmZvcig7ZnJhY3Rpb24ubGVuZ3RoPGZyYWN0aW9uU2l6ZTspZnJhY3Rpb24rPSIwIjtmcmFjdGlvblNpemUmJiIwIiE9PWZyYWN0aW9uU2l6ZSYmKGZvcm1hdGVkVGV4dCs9ZGVjaW1hbFNlcCtmcmFjdGlvbi5zdWJzdHIoMCxmcmFjdGlvblNpemUpKX1yZXR1cm4gcGFydHMucHVzaChpc05lZ2F0aXZlP3BhdHRlcm4ubmVnUHJlOnBhdHRlcm4ucG9zUHJlKSxwYXJ0cy5wdXNoKGZvcm1hdGVkVGV4dCkscGFydHMucHVzaChpc05lZ2F0aXZlP3BhdHRlcm4ubmVnU3VmOnBhdHRlcm4ucG9zU3VmKSxwYXJ0cy5qb2luKCIiKX1mdW5jdGlvbiBwYWROdW1iZXIobnVtLGRpZ2l0cyx0cmltKXt2YXIgbmVnPSIiO2ZvcigwPm51bSYmKG5lZz0iLSIsbnVtPS1udW0pLG51bT0iIitudW07bnVtLmxlbmd0aDxkaWdpdHM7KW51bT0iMCIrbnVtO3JldHVybiB0cmltJiYobnVtPW51bS5zdWJzdHIobnVtLmxlbmd0aC1kaWdpdHMpKSxuZWcrbnVtfWZ1bmN0aW9uIGRhdGVHZXR0ZXIobmFtZSxzaXplLG9mZnNldCx0cmltKXtyZXR1cm4gb2Zmc2V0PW9mZnNldHx8MCxmdW5jdGlvbihkYXRlKXt2YXIgdmFsdWU9ZGF0ZVsiZ2V0IituYW1lXSgpO3JldHVybihvZmZzZXQ+MHx8dmFsdWU+LW9mZnNldCkmJih2YWx1ZSs9b2Zmc2V0KSwwPT09dmFsdWUmJi0xMj09b2Zmc2V0JiYodmFsdWU9MTIpLHBhZE51bWJlcih2YWx1ZSxzaXplLHRyaW0pfX1mdW5jdGlvbiBkYXRlU3RyR2V0dGVyKG5hbWUsc2hvcnRGb3JtKXtyZXR1cm4gZnVuY3Rpb24oZGF0ZSxmb3JtYXRzKXt2YXIgdmFsdWU9ZGF0ZVsiZ2V0IituYW1lXSgpLGdldD11cHBlcmNhc2Uoc2hvcnRGb3JtPyJTSE9SVCIrbmFtZTpuYW1lKTtyZXR1cm4gZm9ybWF0c1tnZXRdW3ZhbHVlXX19ZnVuY3Rpb24gdGltZVpvbmVHZXR0ZXIoZGF0ZSl7dmFyIHpvbmU9LTEqZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpLHBhZGRlZFpvbmU9em9uZT49MD8iKyI6IiI7cmV0dXJuIHBhZGRlZFpvbmUrPXBhZE51bWJlcihNYXRoW3pvbmU+MD8iZmxvb3IiOiJjZWlsIl0oem9uZS82MCksMikrcGFkTnVtYmVyKE1hdGguYWJzKHpvbmUlNjApLDIpfWZ1bmN0aW9uIGFtcG1HZXR0ZXIoZGF0ZSxmb3JtYXRzKXtyZXR1cm4gZGF0ZS5nZXRIb3VycygpPDEyP2Zvcm1hdHMuQU1QTVNbMF06Zm9ybWF0cy5BTVBNU1sxXX1mdW5jdGlvbiBkYXRlRmlsdGVyKCRsb2NhbGUpe2Z1bmN0aW9uIGpzb25TdHJpbmdUb0RhdGUoc3RyaW5nKXt2YXIgbWF0Y2g7aWYobWF0Y2g9c3RyaW5nLm1hdGNoKFJfSVNPODYwMV9TVFIpKXt2YXIgZGF0ZT1uZXcgRGF0ZSgwKSx0ekhvdXI9MCx0ek1pbj0wLGRhdGVTZXR0ZXI9bWF0Y2hbOF0/ZGF0ZS5zZXRVVENGdWxsWWVhcjpkYXRlLnNldEZ1bGxZZWFyLHRpbWVTZXR0ZXI9bWF0Y2hbOF0/ZGF0ZS5zZXRVVENIb3VyczpkYXRlLnNldEhvdXJzO21hdGNoWzldJiYodHpIb3VyPWludChtYXRjaFs5XSttYXRjaFsxMF0pLHR6TWluPWludChtYXRjaFs5XSttYXRjaFsxMV0pKSxkYXRlU2V0dGVyLmNhbGwoZGF0ZSxpbnQobWF0Y2hbMV0pLGludChtYXRjaFsyXSktMSxpbnQobWF0Y2hbM10pKTt2YXIgaD1pbnQobWF0Y2hbNF18fDApLXR6SG91cixtPWludChtYXRjaFs1XXx8MCktdHpNaW4scz1pbnQobWF0Y2hbNl18fDApLG1zPU1hdGgucm91bmQoMWUzKnBhcnNlRmxvYXQoIjAuIisobWF0Y2hbN118fDApKSk7cmV0dXJuIHRpbWVTZXR0ZXIuY2FsbChkYXRlLGgsbSxzLG1zKSxkYXRlfXJldHVybiBzdHJpbmd9dmFyIFJfSVNPODYwMV9TVFI9L14oXGR7NH0pLT8oXGRcZCktPyhcZFxkKSg/OlQoXGRcZCkoPzo6PyhcZFxkKSg/Ojo/KFxkXGQpKD86XC4oXGQrKSk/KT8pPyhafChbKy1dKShcZFxkKTo/KFxkXGQpKT8pPyQvO3JldHVybiBmdW5jdGlvbihkYXRlLGZvcm1hdCl7dmFyIGZuLG1hdGNoLHRleHQ9IiIscGFydHM9W107aWYoZm9ybWF0PWZvcm1hdHx8Im1lZGl1bURhdGUiLGZvcm1hdD0kbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFNbZm9ybWF0XXx8Zm9ybWF0LGlzU3RyaW5nKGRhdGUpJiYoZGF0ZT1OVU1CRVJfU1RSSU5HLnRlc3QoZGF0ZSk/aW50KGRhdGUpOmpzb25TdHJpbmdUb0RhdGUoZGF0ZSkpLGlzTnVtYmVyKGRhdGUpJiYoZGF0ZT1uZXcgRGF0ZShkYXRlKSksIWlzRGF0ZShkYXRlKSlyZXR1cm4gZGF0ZTtmb3IoO2Zvcm1hdDspbWF0Y2g9REFURV9GT1JNQVRTX1NQTElULmV4ZWMoZm9ybWF0KSxtYXRjaD8ocGFydHM9Y29uY2F0KHBhcnRzLG1hdGNoLDEpLGZvcm1hdD1wYXJ0cy5wb3AoKSk6KHBhcnRzLnB1c2goZm9ybWF0KSxmb3JtYXQ9bnVsbCk7cmV0dXJuIGZvckVhY2gocGFydHMsZnVuY3Rpb24odmFsdWUpe2ZuPURBVEVfRk9STUFUU1t2YWx1ZV0sdGV4dCs9Zm4/Zm4oZGF0ZSwkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMpOnZhbHVlLnJlcGxhY2UoLyheJ3wnJCkvZywiIikucmVwbGFjZSgvJycvZywiJyIpfSksdGV4dH19ZnVuY3Rpb24ganNvbkZpbHRlcigpe3JldHVybiBmdW5jdGlvbihvYmplY3Qpe3JldHVybiB0b0pzb24ob2JqZWN0LCEwKX19ZnVuY3Rpb24gbGltaXRUb0ZpbHRlcigpe3JldHVybiBmdW5jdGlvbihpbnB1dCxsaW1pdCl7aWYoIWlzQXJyYXkoaW5wdXQpJiYhaXNTdHJpbmcoaW5wdXQpKXJldHVybiBpbnB1dDtpZihsaW1pdD0xLzA9PT1NYXRoLmFicyhOdW1iZXIobGltaXQpKT9OdW1iZXIobGltaXQpOmludChsaW1pdCksaXNTdHJpbmcoaW5wdXQpKXJldHVybiBsaW1pdD9saW1pdD49MD9pbnB1dC5zbGljZSgwLGxpbWl0KTppbnB1dC5zbGljZShsaW1pdCxpbnB1dC5sZW5ndGgpOiIiO3ZhciBpLG4sb3V0PVtdO2ZvcihsaW1pdD5pbnB1dC5sZW5ndGg/bGltaXQ9aW5wdXQubGVuZ3RoOmxpbWl0PC1pbnB1dC5sZW5ndGgmJihsaW1pdD0taW5wdXQubGVuZ3RoKSxsaW1pdD4wPyhpPTAsbj1saW1pdCk6KGk9aW5wdXQubGVuZ3RoK2xpbWl0LG49aW5wdXQubGVuZ3RoKTtuPmk7aSsrKW91dC5wdXNoKGlucHV0W2ldKTtyZXR1cm4gb3V0fX1mdW5jdGlvbiBvcmRlckJ5RmlsdGVyKCRwYXJzZSl7cmV0dXJuIGZ1bmN0aW9uKGFycmF5LHNvcnRQcmVkaWNhdGUscmV2ZXJzZU9yZGVyKXtmdW5jdGlvbiBjb21wYXJhdG9yKG8xLG8yKXtmb3IodmFyIGk9MDtpPHNvcnRQcmVkaWNhdGUubGVuZ3RoO2krKyl7dmFyIGNvbXA9c29ydFByZWRpY2F0ZVtpXShvMSxvMik7aWYoMCE9PWNvbXApcmV0dXJuIGNvbXB9cmV0dXJuIDB9ZnVuY3Rpb24gcmV2ZXJzZUNvbXBhcmF0b3IoY29tcCxkZXNjZW5kaW5nKXtyZXR1cm4gdG9Cb29sZWFuKGRlc2NlbmRpbmcpP2Z1bmN0aW9uKGEsYil7cmV0dXJuIGNvbXAoYixhKX06Y29tcH1mdW5jdGlvbiBjb21wYXJlKHYxLHYyKXt2YXIgdDE9dHlwZW9mIHYxLHQyPXR5cGVvZiB2MjtyZXR1cm4gdDE9PXQyPyhpc0RhdGUodjEpJiZpc0RhdGUodjIpJiYodjE9djEudmFsdWVPZigpLHYyPXYyLnZhbHVlT2YoKSksInN0cmluZyI9PXQxJiYodjE9djEudG9Mb3dlckNhc2UoKSx2Mj12Mi50b0xvd2VyQ2FzZSgpKSx2MT09PXYyPzA6djI+djE/LTE6MSk6dDI+dDE/LTE6MX1pZighaXNBcnJheUxpa2UoYXJyYXkpKXJldHVybiBhcnJheTtpZighc29ydFByZWRpY2F0ZSlyZXR1cm4gYXJyYXk7c29ydFByZWRpY2F0ZT1pc0FycmF5KHNvcnRQcmVkaWNhdGUpP3NvcnRQcmVkaWNhdGU6W3NvcnRQcmVkaWNhdGVdLHNvcnRQcmVkaWNhdGU9bWFwKHNvcnRQcmVkaWNhdGUsZnVuY3Rpb24ocHJlZGljYXRlKXt2YXIgZGVzY2VuZGluZz0hMSxnZXQ9cHJlZGljYXRlfHxpZGVudGl0eTtpZihpc1N0cmluZyhwcmVkaWNhdGUpJiYoKCIrIj09cHJlZGljYXRlLmNoYXJBdCgwKXx8Ii0iPT1wcmVkaWNhdGUuY2hhckF0KDApKSYmKGRlc2NlbmRpbmc9Ii0iPT1wcmVkaWNhdGUuY2hhckF0KDApLHByZWRpY2F0ZT1wcmVkaWNhdGUuc3Vic3RyaW5nKDEpKSxnZXQ9JHBhcnNlKHByZWRpY2F0ZSksZ2V0LmNvbnN0YW50KSl7dmFyIGtleT1nZXQoKTtyZXR1cm4gcmV2ZXJzZUNvbXBhcmF0b3IoZnVuY3Rpb24oYSxiKXtyZXR1cm4gY29tcGFyZShhW2tleV0sYltrZXldKX0sZGVzY2VuZGluZyl9cmV0dXJuIHJldmVyc2VDb21wYXJhdG9yKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGNvbXBhcmUoZ2V0KGEpLGdldChiKSl9LGRlc2NlbmRpbmcpfSk7Zm9yKHZhciBhcnJheUNvcHk9W10saT0wO2k8YXJyYXkubGVuZ3RoO2krKylhcnJheUNvcHkucHVzaChhcnJheVtpXSk7cmV0dXJuIGFycmF5Q29weS5zb3J0KHJldmVyc2VDb21wYXJhdG9yKGNvbXBhcmF0b3IscmV2ZXJzZU9yZGVyKSl9fWZ1bmN0aW9uIG5nRGlyZWN0aXZlKGRpcmVjdGl2ZSl7cmV0dXJuIGlzRnVuY3Rpb24oZGlyZWN0aXZlKSYmKGRpcmVjdGl2ZT17bGluazpkaXJlY3RpdmV9KSxkaXJlY3RpdmUucmVzdHJpY3Q9ZGlyZWN0aXZlLnJlc3RyaWN0fHwiQUMiLHZhbHVlRm4oZGlyZWN0aXZlKX1mdW5jdGlvbiBGb3JtQ29udHJvbGxlcihlbGVtZW50LGF0dHJzLCRzY29wZSwkYW5pbWF0ZSl7ZnVuY3Rpb24gdG9nZ2xlVmFsaWRDc3MoaXNWYWxpZCx2YWxpZGF0aW9uRXJyb3JLZXkpe3ZhbGlkYXRpb25FcnJvcktleT12YWxpZGF0aW9uRXJyb3JLZXk/Ii0iK3NuYWtlX2Nhc2UodmFsaWRhdGlvbkVycm9yS2V5LCItIik6IiIsJGFuaW1hdGUuc2V0Q2xhc3MoZWxlbWVudCwoaXNWYWxpZD9WQUxJRF9DTEFTUzpJTlZBTElEX0NMQVNTKSt2YWxpZGF0aW9uRXJyb3JLZXksKGlzVmFsaWQ/SU5WQUxJRF9DTEFTUzpWQUxJRF9DTEFTUykrdmFsaWRhdGlvbkVycm9yS2V5KX12YXIgZm9ybT10aGlzLHBhcmVudEZvcm09ZWxlbWVudC5wYXJlbnQoKS5jb250cm9sbGVyKCJmb3JtIil8fG51bGxGb3JtQ3RybCxpbnZhbGlkQ291bnQ9MCxlcnJvcnM9Zm9ybS4kZXJyb3I9e30sY29udHJvbHM9W107Zm9ybS4kbmFtZT1hdHRycy5uYW1lfHxhdHRycy5uZ0Zvcm0sZm9ybS4kZGlydHk9ITEsZm9ybS4kcHJpc3RpbmU9ITAsZm9ybS4kdmFsaWQ9ITAsZm9ybS4kaW52YWxpZD0hMSxwYXJlbnRGb3JtLiRhZGRDb250cm9sKGZvcm0pLGVsZW1lbnQuYWRkQ2xhc3MoUFJJU1RJTkVfQ0xBU1MpLHRvZ2dsZVZhbGlkQ3NzKCEwKSxmb3JtLiRhZGRDb250cm9sPWZ1bmN0aW9uKGNvbnRyb2wpe2Fzc2VydE5vdEhhc093blByb3BlcnR5KGNvbnRyb2wuJG5hbWUsImlucHV0IiksY29udHJvbHMucHVzaChjb250cm9sKSxjb250cm9sLiRuYW1lJiYoZm9ybVtjb250cm9sLiRuYW1lXT1jb250cm9sKX0sZm9ybS4kcmVtb3ZlQ29udHJvbD1mdW5jdGlvbihjb250cm9sKXtjb250cm9sLiRuYW1lJiZmb3JtW2NvbnRyb2wuJG5hbWVdPT09Y29udHJvbCYmZGVsZXRlIGZvcm1bY29udHJvbC4kbmFtZV0sZm9yRWFjaChlcnJvcnMsZnVuY3Rpb24ocXVldWUsdmFsaWRhdGlvblRva2VuKXtmb3JtLiRzZXRWYWxpZGl0eSh2YWxpZGF0aW9uVG9rZW4sITAsY29udHJvbCl9KSxhcnJheVJlbW92ZShjb250cm9scyxjb250cm9sKX0sZm9ybS4kc2V0VmFsaWRpdHk9ZnVuY3Rpb24odmFsaWRhdGlvblRva2VuLGlzVmFsaWQsY29udHJvbCl7dmFyIHF1ZXVlPWVycm9yc1t2YWxpZGF0aW9uVG9rZW5dO2lmKGlzVmFsaWQpcXVldWUmJihhcnJheVJlbW92ZShxdWV1ZSxjb250cm9sKSxxdWV1ZS5sZW5ndGh8fChpbnZhbGlkQ291bnQtLSxpbnZhbGlkQ291bnR8fCh0b2dnbGVWYWxpZENzcyhpc1ZhbGlkKSxmb3JtLiR2YWxpZD0hMCxmb3JtLiRpbnZhbGlkPSExKSxlcnJvcnNbdmFsaWRhdGlvblRva2VuXT0hMSx0b2dnbGVWYWxpZENzcyghMCx2YWxpZGF0aW9uVG9rZW4pLHBhcmVudEZvcm0uJHNldFZhbGlkaXR5KHZhbGlkYXRpb25Ub2tlbiwhMCxmb3JtKSkpO2Vsc2V7aWYoaW52YWxpZENvdW50fHx0b2dnbGVWYWxpZENzcyhpc1ZhbGlkKSxxdWV1ZSl7aWYoaW5jbHVkZXMocXVldWUsY29udHJvbCkpcmV0dXJufWVsc2UgZXJyb3JzW3ZhbGlkYXRpb25Ub2tlbl09cXVldWU9W10saW52YWxpZENvdW50KyssdG9nZ2xlVmFsaWRDc3MoITEsdmFsaWRhdGlvblRva2VuKSxwYXJlbnRGb3JtLiRzZXRWYWxpZGl0eSh2YWxpZGF0aW9uVG9rZW4sITEsZm9ybSk7cXVldWUucHVzaChjb250cm9sKSxmb3JtLiR2YWxpZD0hMSxmb3JtLiRpbnZhbGlkPSEwfX0sZm9ybS4kc2V0RGlydHk9ZnVuY3Rpb24oKXskYW5pbWF0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LFBSSVNUSU5FX0NMQVNTKSwkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LERJUlRZX0NMQVNTKSxmb3JtLiRkaXJ0eT0hMCxmb3JtLiRwcmlzdGluZT0hMSxwYXJlbnRGb3JtLiRzZXREaXJ0eSgpfSxmb3JtLiRzZXRQcmlzdGluZT1mdW5jdGlvbigpeyRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsRElSVFlfQ0xBU1MpLCRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsUFJJU1RJTkVfQ0xBU1MpLGZvcm0uJGRpcnR5PSExLGZvcm0uJHByaXN0aW5lPSEwLGZvckVhY2goY29udHJvbHMsZnVuY3Rpb24oY29udHJvbCl7Y29udHJvbC4kc2V0UHJpc3RpbmUoKX0pfX1mdW5jdGlvbiB2YWxpZGF0ZShjdHJsLHZhbGlkYXRvck5hbWUsdmFsaWRpdHksdmFsdWUpe3JldHVybiBjdHJsLiRzZXRWYWxpZGl0eSh2YWxpZGF0b3JOYW1lLHZhbGlkaXR5KSx2YWxpZGl0eT92YWx1ZTp1bmRlZmluZWR9ZnVuY3Rpb24gdGVzdEZsYWdzKHZhbGlkaXR5LGZsYWdzKXt2YXIgaSxmbGFnO2lmKGZsYWdzKWZvcihpPTA7aTxmbGFncy5sZW5ndGg7KytpKWlmKGZsYWc9ZmxhZ3NbaV0sdmFsaWRpdHlbZmxhZ10pcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gYWRkTmF0aXZlSHRtbDVWYWxpZGF0b3JzKGN0cmwsdmFsaWRhdG9yTmFtZSxiYWRGbGFncyxpZ25vcmVGbGFncyx2YWxpZGl0eSl7aWYoaXNPYmplY3QodmFsaWRpdHkpKXtjdHJsLiQkaGFzTmF0aXZlVmFsaWRhdG9ycz0hMDt2YXIgdmFsaWRhdG9yPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gY3RybC4kZXJyb3JbdmFsaWRhdG9yTmFtZV18fHRlc3RGbGFncyh2YWxpZGl0eSxpZ25vcmVGbGFncyl8fCF0ZXN0RmxhZ3ModmFsaWRpdHksYmFkRmxhZ3MpP3ZhbHVlOnZvaWQgY3RybC4kc2V0VmFsaWRpdHkodmFsaWRhdG9yTmFtZSwhMSl9O2N0cmwuJHBhcnNlcnMucHVzaCh2YWxpZGF0b3IpfX1mdW5jdGlvbiB0ZXh0SW5wdXRUeXBlKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJsLCRzbmlmZmVyLCRicm93c2VyKXt2YXIgdmFsaWRpdHk9ZWxlbWVudC5wcm9wKFZBTElESVRZX1NUQVRFX1BST1BFUlRZKSxwbGFjZWhvbGRlcj1lbGVtZW50WzBdLnBsYWNlaG9sZGVyLG5vZXZlbnQ9e30sdHlwZT1sb3dlcmNhc2UoZWxlbWVudFswXS50eXBlKTtpZihjdHJsLiQkdmFsaWRpdHlTdGF0ZT12YWxpZGl0eSwhJHNuaWZmZXIuYW5kcm9pZCl7dmFyIGNvbXBvc2luZz0hMTtlbGVtZW50Lm9uKCJjb21wb3NpdGlvbnN0YXJ0IixmdW5jdGlvbigpe2NvbXBvc2luZz0hMH0pLGVsZW1lbnQub24oImNvbXBvc2l0aW9uZW5kIixmdW5jdGlvbigpe2NvbXBvc2luZz0hMSxsaXN0ZW5lcigpfSl9dmFyIGxpc3RlbmVyPWZ1bmN0aW9uKGV2KXtpZighY29tcG9zaW5nKXt2YXIgdmFsdWU9ZWxlbWVudC52YWwoKTtpZihtc2llJiYiaW5wdXQiPT09KGV2fHxub2V2ZW50KS50eXBlJiZlbGVtZW50WzBdLnBsYWNlaG9sZGVyIT09cGxhY2Vob2xkZXIpcmV0dXJuIHZvaWQocGxhY2Vob2xkZXI9ZWxlbWVudFswXS5wbGFjZWhvbGRlcik7InBhc3N3b3JkIiE9PXR5cGUmJnRvQm9vbGVhbihhdHRyLm5nVHJpbXx8IlQiKSYmKHZhbHVlPXRyaW0odmFsdWUpKTt2YXIgcmV2YWxpZGF0ZT12YWxpZGl0eSYmY3RybC4kJGhhc05hdGl2ZVZhbGlkYXRvcnM7KGN0cmwuJHZpZXdWYWx1ZSE9PXZhbHVlfHwiIj09PXZhbHVlJiZyZXZhbGlkYXRlKSYmKHNjb3BlLiRyb290LiQkcGhhc2U/Y3RybC4kc2V0Vmlld1ZhbHVlKHZhbHVlKTpzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtjdHJsLiRzZXRWaWV3VmFsdWUodmFsdWUpfSkpfX07aWYoJHNuaWZmZXIuaGFzRXZlbnQoImlucHV0IikpZWxlbWVudC5vbigiaW5wdXQiLGxpc3RlbmVyKTtlbHNle3ZhciB0aW1lb3V0LGRlZmVyTGlzdGVuZXI9ZnVuY3Rpb24oKXt0aW1lb3V0fHwodGltZW91dD0kYnJvd3Nlci5kZWZlcihmdW5jdGlvbigpe2xpc3RlbmVyKCksdGltZW91dD1udWxsfSkpfTtlbGVtZW50Lm9uKCJrZXlkb3duIixmdW5jdGlvbihldmVudCl7dmFyIGtleT1ldmVudC5rZXlDb2RlOzkxPT09a2V5fHxrZXk+MTUmJjE5PmtleXx8a2V5Pj0zNyYmNDA+PWtleXx8ZGVmZXJMaXN0ZW5lcigpfSksJHNuaWZmZXIuaGFzRXZlbnQoInBhc3RlIikmJmVsZW1lbnQub24oInBhc3RlIGN1dCIsZGVmZXJMaXN0ZW5lcil9ZWxlbWVudC5vbigiY2hhbmdlIixsaXN0ZW5lciksY3RybC4kcmVuZGVyPWZ1bmN0aW9uKCl7ZWxlbWVudC52YWwoY3RybC4kaXNFbXB0eShjdHJsLiR2aWV3VmFsdWUpPyIiOmN0cmwuJHZpZXdWYWx1ZSl9O3ZhciBwYXR0ZXJuVmFsaWRhdG9yLG1hdGNoLHBhdHRlcm49YXR0ci5uZ1BhdHRlcm47aWYocGF0dGVybil7dmFyIHZhbGlkYXRlUmVnZXg9ZnVuY3Rpb24ocmVnZXhwLHZhbHVlKXtyZXR1cm4gdmFsaWRhdGUoY3RybCwicGF0dGVybiIsY3RybC4kaXNFbXB0eSh2YWx1ZSl8fHJlZ2V4cC50ZXN0KHZhbHVlKSx2YWx1ZSl9O21hdGNoPXBhdHRlcm4ubWF0Y2goL15cLyguKilcLyhbZ2ltXSopJC8pLG1hdGNoPyhwYXR0ZXJuPW5ldyBSZWdFeHAobWF0Y2hbMV0sbWF0Y2hbMl0pLHBhdHRlcm5WYWxpZGF0b3I9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWxpZGF0ZVJlZ2V4KHBhdHRlcm4sdmFsdWUpfSk6cGF0dGVyblZhbGlkYXRvcj1mdW5jdGlvbih2YWx1ZSl7dmFyIHBhdHRlcm5PYmo9c2NvcGUuJGV2YWwocGF0dGVybik7aWYoIXBhdHRlcm5PYmp8fCFwYXR0ZXJuT2JqLnRlc3QpdGhyb3cgbWluRXJyKCJuZ1BhdHRlcm4iKSgibm9yZWdleHAiLCJFeHBlY3RlZCB7MH0gdG8gYmUgYSBSZWdFeHAgYnV0IHdhcyB7MX0uIEVsZW1lbnQ6IHsyfSIscGF0dGVybixwYXR0ZXJuT2JqLHN0YXJ0aW5nVGFnKGVsZW1lbnQpKTtyZXR1cm4gdmFsaWRhdGVSZWdleChwYXR0ZXJuT2JqLHZhbHVlKX0sY3RybC4kZm9ybWF0dGVycy5wdXNoKHBhdHRlcm5WYWxpZGF0b3IpLGN0cmwuJHBhcnNlcnMucHVzaChwYXR0ZXJuVmFsaWRhdG9yKX1pZihhdHRyLm5nTWlubGVuZ3RoKXt2YXIgbWlubGVuZ3RoPWludChhdHRyLm5nTWlubGVuZ3RoKSxtaW5MZW5ndGhWYWxpZGF0b3I9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWxpZGF0ZShjdHJsLCJtaW5sZW5ndGgiLGN0cmwuJGlzRW1wdHkodmFsdWUpfHx2YWx1ZS5sZW5ndGg+PW1pbmxlbmd0aCx2YWx1ZSl9O2N0cmwuJHBhcnNlcnMucHVzaChtaW5MZW5ndGhWYWxpZGF0b3IpLGN0cmwuJGZvcm1hdHRlcnMucHVzaChtaW5MZW5ndGhWYWxpZGF0b3IpfWlmKGF0dHIubmdNYXhsZW5ndGgpe3ZhciBtYXhsZW5ndGg9aW50KGF0dHIubmdNYXhsZW5ndGgpLG1heExlbmd0aFZhbGlkYXRvcj1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbGlkYXRlKGN0cmwsIm1heGxlbmd0aCIsY3RybC4kaXNFbXB0eSh2YWx1ZSl8fHZhbHVlLmxlbmd0aDw9bWF4bGVuZ3RoLHZhbHVlKX07Y3RybC4kcGFyc2Vycy5wdXNoKG1heExlbmd0aFZhbGlkYXRvciksY3RybC4kZm9ybWF0dGVycy5wdXNoKG1heExlbmd0aFZhbGlkYXRvcil9fWZ1bmN0aW9uIG51bWJlcklucHV0VHlwZShzY29wZSxlbGVtZW50LGF0dHIsY3RybCwkc25pZmZlciwkYnJvd3Nlcil7aWYodGV4dElucHV0VHlwZShzY29wZSxlbGVtZW50LGF0dHIsY3RybCwkc25pZmZlciwkYnJvd3NlciksY3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKXt2YXIgZW1wdHk9Y3RybC4kaXNFbXB0eSh2YWx1ZSk7cmV0dXJuIGVtcHR5fHxOVU1CRVJfUkVHRVhQLnRlc3QodmFsdWUpPyhjdHJsLiRzZXRWYWxpZGl0eSgibnVtYmVyIiwhMCksIiI9PT12YWx1ZT9udWxsOmVtcHR5P3ZhbHVlOnBhcnNlRmxvYXQodmFsdWUpKTooY3RybC4kc2V0VmFsaWRpdHkoIm51bWJlciIsITEpLHVuZGVmaW5lZCl9KSxhZGROYXRpdmVIdG1sNVZhbGlkYXRvcnMoY3RybCwibnVtYmVyIixudW1iZXJCYWRGbGFncyxudWxsLGN0cmwuJCR2YWxpZGl0eVN0YXRlKSxjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpe3JldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKT8iIjoiIit2YWx1ZX0pLGF0dHIubWluKXt2YXIgbWluVmFsaWRhdG9yPWZ1bmN0aW9uKHZhbHVlKXt2YXIgbWluPXBhcnNlRmxvYXQoYXR0ci5taW4pO3JldHVybiB2YWxpZGF0ZShjdHJsLCJtaW4iLGN0cmwuJGlzRW1wdHkodmFsdWUpfHx2YWx1ZT49bWluLHZhbHVlKX07Y3RybC4kcGFyc2Vycy5wdXNoKG1pblZhbGlkYXRvciksY3RybC4kZm9ybWF0dGVycy5wdXNoKG1pblZhbGlkYXRvcil9aWYoYXR0ci5tYXgpe3ZhciBtYXhWYWxpZGF0b3I9ZnVuY3Rpb24odmFsdWUpe3ZhciBtYXg9cGFyc2VGbG9hdChhdHRyLm1heCk7cmV0dXJuIHZhbGlkYXRlKGN0cmwsIm1heCIsY3RybC4kaXNFbXB0eSh2YWx1ZSl8fG1heD49dmFsdWUsdmFsdWUpfTtjdHJsLiRwYXJzZXJzLnB1c2gobWF4VmFsaWRhdG9yKSxjdHJsLiRmb3JtYXR0ZXJzLnB1c2gobWF4VmFsaWRhdG9yKX1jdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWxpZGF0ZShjdHJsLCJudW1iZXIiLGN0cmwuJGlzRW1wdHkodmFsdWUpfHxpc051bWJlcih2YWx1ZSksdmFsdWUpfSl9ZnVuY3Rpb24gdXJsSW5wdXRUeXBlKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJsLCRzbmlmZmVyLCRicm93c2VyKXt0ZXh0SW5wdXRUeXBlKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJsLCRzbmlmZmVyLCRicm93c2VyKTt2YXIgdXJsVmFsaWRhdG9yPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsaWRhdGUoY3RybCwidXJsIixjdHJsLiRpc0VtcHR5KHZhbHVlKXx8VVJMX1JFR0VYUC50ZXN0KHZhbHVlKSx2YWx1ZSl9O2N0cmwuJGZvcm1hdHRlcnMucHVzaCh1cmxWYWxpZGF0b3IpLGN0cmwuJHBhcnNlcnMucHVzaCh1cmxWYWxpZGF0b3IpfWZ1bmN0aW9uIGVtYWlsSW5wdXRUeXBlKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJsLCRzbmlmZmVyLCRicm93c2VyKXt0ZXh0SW5wdXRUeXBlKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJsLCRzbmlmZmVyLCRicm93c2VyKTt2YXIgZW1haWxWYWxpZGF0b3I9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWxpZGF0ZShjdHJsLCJlbWFpbCIsY3RybC4kaXNFbXB0eSh2YWx1ZSl8fEVNQUlMX1JFR0VYUC50ZXN0KHZhbHVlKSx2YWx1ZSl9O2N0cmwuJGZvcm1hdHRlcnMucHVzaChlbWFpbFZhbGlkYXRvciksY3RybC4kcGFyc2Vycy5wdXNoKGVtYWlsVmFsaWRhdG9yKX1mdW5jdGlvbiByYWRpb0lucHV0VHlwZShzY29wZSxlbGVtZW50LGF0dHIsY3RybCl7aXNVbmRlZmluZWQoYXR0ci5uYW1lKSYmZWxlbWVudC5hdHRyKCJuYW1lIixuZXh0VWlkKCkpLGVsZW1lbnQub24oImNsaWNrIixmdW5jdGlvbigpe2VsZW1lbnRbMF0uY2hlY2tlZCYmc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7Y3RybC4kc2V0Vmlld1ZhbHVlKGF0dHIudmFsdWUpfSl9KSxjdHJsLiRyZW5kZXI9ZnVuY3Rpb24oKXt2YXIgdmFsdWU9YXR0ci52YWx1ZTtlbGVtZW50WzBdLmNoZWNrZWQ9dmFsdWU9PWN0cmwuJHZpZXdWYWx1ZX0sYXR0ci4kb2JzZXJ2ZSgidmFsdWUiLGN0cmwuJHJlbmRlcil9ZnVuY3Rpb24gY2hlY2tib3hJbnB1dFR5cGUoc2NvcGUsZWxlbWVudCxhdHRyLGN0cmwpe3ZhciB0cnVlVmFsdWU9YXR0ci5uZ1RydWVWYWx1ZSxmYWxzZVZhbHVlPWF0dHIubmdGYWxzZVZhbHVlO2lzU3RyaW5nKHRydWVWYWx1ZSl8fCh0cnVlVmFsdWU9ITApLGlzU3RyaW5nKGZhbHNlVmFsdWUpfHwoZmFsc2VWYWx1ZT0hMSksZWxlbWVudC5vbigiY2xpY2siLGZ1bmN0aW9uKCl7c2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7Y3RybC4kc2V0Vmlld1ZhbHVlKGVsZW1lbnRbMF0uY2hlY2tlZCl9KX0pLGN0cmwuJHJlbmRlcj1mdW5jdGlvbigpe2VsZW1lbnRbMF0uY2hlY2tlZD1jdHJsLiR2aWV3VmFsdWV9LGN0cmwuJGlzRW1wdHk9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSE9PXRydWVWYWx1ZX0sY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWU9PT10cnVlVmFsdWV9KSxjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZT90cnVlVmFsdWU6ZmFsc2VWYWx1ZX0pfWZ1bmN0aW9uIGNsYXNzRGlyZWN0aXZlKG5hbWUsc2VsZWN0b3Ipe3JldHVybiBuYW1lPSJuZ0NsYXNzIituYW1lLFsiJGFuaW1hdGUiLGZ1bmN0aW9uKCRhbmltYXRlKXtmdW5jdGlvbiBhcnJheURpZmZlcmVuY2UodG9rZW5zMSx0b2tlbnMyKXt2YXIgdmFsdWVzPVtdO291dGVyOmZvcih2YXIgaT0wO2k8dG9rZW5zMS5sZW5ndGg7aSsrKXtmb3IodmFyIHRva2VuPXRva2VuczFbaV0saj0wO2o8dG9rZW5zMi5sZW5ndGg7aisrKWlmKHRva2VuPT10b2tlbnMyW2pdKWNvbnRpbnVlIG91dGVyO3ZhbHVlcy5wdXNoKHRva2VuKX1yZXR1cm4gdmFsdWVzfWZ1bmN0aW9uIGFycmF5Q2xhc3NlcyhjbGFzc1ZhbCl7aWYoaXNBcnJheShjbGFzc1ZhbCkpcmV0dXJuIGNsYXNzVmFsO2lmKGlzU3RyaW5nKGNsYXNzVmFsKSlyZXR1cm4gY2xhc3NWYWwuc3BsaXQoIiAiKTtpZihpc09iamVjdChjbGFzc1ZhbCkpe3ZhciBjbGFzc2VzPVtdO3JldHVybiBmb3JFYWNoKGNsYXNzVmFsLGZ1bmN0aW9uKHYsayl7diYmKGNsYXNzZXM9Y2xhc3Nlcy5jb25jYXQoay5zcGxpdCgiICIpKSl9KSxjbGFzc2VzfXJldHVybiBjbGFzc1ZhbH1yZXR1cm57cmVzdHJpY3Q6IkFDIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cil7ZnVuY3Rpb24gYWRkQ2xhc3NlcyhjbGFzc2VzKXt2YXIgbmV3Q2xhc3Nlcz1kaWdlc3RDbGFzc0NvdW50cyhjbGFzc2VzLDEpO2F0dHIuJGFkZENsYXNzKG5ld0NsYXNzZXMpfWZ1bmN0aW9uIHJlbW92ZUNsYXNzZXMoY2xhc3Nlcyl7dmFyIG5ld0NsYXNzZXM9ZGlnZXN0Q2xhc3NDb3VudHMoY2xhc3NlcywtMSk7YXR0ci4kcmVtb3ZlQ2xhc3MobmV3Q2xhc3Nlcyl9ZnVuY3Rpb24gZGlnZXN0Q2xhc3NDb3VudHMoY2xhc3Nlcyxjb3VudCl7dmFyIGNsYXNzQ291bnRzPWVsZW1lbnQuZGF0YSgiJGNsYXNzQ291bnRzIil8fHt9LGNsYXNzZXNUb1VwZGF0ZT1bXTtyZXR1cm4gZm9yRWFjaChjbGFzc2VzLGZ1bmN0aW9uKGNsYXNzTmFtZSl7KGNvdW50PjB8fGNsYXNzQ291bnRzW2NsYXNzTmFtZV0pJiYoY2xhc3NDb3VudHNbY2xhc3NOYW1lXT0oY2xhc3NDb3VudHNbY2xhc3NOYW1lXXx8MCkrY291bnQsY2xhc3NDb3VudHNbY2xhc3NOYW1lXT09PSsoY291bnQ+MCkmJmNsYXNzZXNUb1VwZGF0ZS5wdXNoKGNsYXNzTmFtZSkpfSksZWxlbWVudC5kYXRhKCIkY2xhc3NDb3VudHMiLGNsYXNzQ291bnRzKSxjbGFzc2VzVG9VcGRhdGUuam9pbigiICIpfWZ1bmN0aW9uIHVwZGF0ZUNsYXNzZXMob2xkQ2xhc3NlcyxuZXdDbGFzc2VzKXt2YXIgdG9BZGQ9YXJyYXlEaWZmZXJlbmNlKG5ld0NsYXNzZXMsb2xkQ2xhc3NlcyksdG9SZW1vdmU9YXJyYXlEaWZmZXJlbmNlKG9sZENsYXNzZXMsbmV3Q2xhc3Nlcyk7dG9SZW1vdmU9ZGlnZXN0Q2xhc3NDb3VudHModG9SZW1vdmUsLTEpLHRvQWRkPWRpZ2VzdENsYXNzQ291bnRzKHRvQWRkLDEpLDA9PT10b0FkZC5sZW5ndGg/JGFuaW1hdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCx0b1JlbW92ZSk6MD09PXRvUmVtb3ZlLmxlbmd0aD8kYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LHRvQWRkKTokYW5pbWF0ZS5zZXRDbGFzcyhlbGVtZW50LHRvQWRkLHRvUmVtb3ZlKX1mdW5jdGlvbiBuZ0NsYXNzV2F0Y2hBY3Rpb24obmV3VmFsKXtpZihzZWxlY3Rvcj09PSEwfHxzY29wZS4kaW5kZXglMj09PXNlbGVjdG9yKXt2YXIgbmV3Q2xhc3Nlcz1hcnJheUNsYXNzZXMobmV3VmFsfHxbXSk7aWYob2xkVmFsKXtpZighZXF1YWxzKG5ld1ZhbCxvbGRWYWwpKXt2YXIgb2xkQ2xhc3Nlcz1hcnJheUNsYXNzZXMob2xkVmFsKTt1cGRhdGVDbGFzc2VzKG9sZENsYXNzZXMsbmV3Q2xhc3Nlcyl9fWVsc2UgYWRkQ2xhc3NlcyhuZXdDbGFzc2VzKX1vbGRWYWw9c2hhbGxvd0NvcHkobmV3VmFsKX12YXIgb2xkVmFsO3Njb3BlLiR3YXRjaChhdHRyW25hbWVdLG5nQ2xhc3NXYXRjaEFjdGlvbiwhMCksYXR0ci4kb2JzZXJ2ZSgiY2xhc3MiLGZ1bmN0aW9uKCl7bmdDbGFzc1dhdGNoQWN0aW9uKHNjb3BlLiRldmFsKGF0dHJbbmFtZV0pKX0pLCJuZ0NsYXNzIiE9PW5hbWUmJnNjb3BlLiR3YXRjaCgiJGluZGV4IixmdW5jdGlvbigkaW5kZXgsb2xkJGluZGV4KXt2YXIgbW9kPTEmJGluZGV4O2lmKG1vZCE9PSgxJm9sZCRpbmRleCkpe3ZhciBjbGFzc2VzPWFycmF5Q2xhc3NlcyhzY29wZS4kZXZhbChhdHRyW25hbWVdKSk7bW9kPT09c2VsZWN0b3I/YWRkQ2xhc3NlcyhjbGFzc2VzKTpyZW1vdmVDbGFzc2VzKGNsYXNzZXMpfX0pfX19XX12YXIgVkFMSURJVFlfU1RBVEVfUFJPUEVSVFk9InZhbGlkaXR5Iixsb3dlcmNhc2U9ZnVuY3Rpb24oc3RyaW5nKXtyZXR1cm4gaXNTdHJpbmcoc3RyaW5nKT9zdHJpbmcudG9Mb3dlckNhc2UoKTpzdHJpbmd9LGhhc093blByb3BlcnR5PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksdXBwZXJjYXNlPWZ1bmN0aW9uKHN0cmluZyl7cmV0dXJuIGlzU3RyaW5nKHN0cmluZyk/c3RyaW5nLnRvVXBwZXJDYXNlKCk6c3RyaW5nfSxtYW51YWxMb3dlcmNhc2U9ZnVuY3Rpb24ocyl7cmV0dXJuIGlzU3RyaW5nKHMpP3MucmVwbGFjZSgvW0EtWl0vZyxmdW5jdGlvbihjaCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoMzJ8Y2guY2hhckNvZGVBdCgwKSl9KTpzfSxtYW51YWxVcHBlcmNhc2U9ZnVuY3Rpb24ocyl7cmV0dXJuIGlzU3RyaW5nKHMpP3MucmVwbGFjZSgvW2Etel0vZyxmdW5jdGlvbihjaCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoLTMzJmNoLmNoYXJDb2RlQXQoMCkpfSk6c307ImkiIT09IkkiLnRvTG93ZXJDYXNlKCkmJihsb3dlcmNhc2U9bWFudWFsTG93ZXJjYXNlLHVwcGVyY2FzZT1tYW51YWxVcHBlcmNhc2UpO3ZhciBtc2llLGpxTGl0ZSxqUXVlcnksYW5ndWxhck1vZHVsZSxub2RlTmFtZV8sc2xpY2U9W10uc2xpY2UscHVzaD1bXS5wdXNoLHRvU3RyaW5nPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsbmdNaW5FcnI9bWluRXJyKCJuZyIpLGFuZ3VsYXI9d2luZG93LmFuZ3VsYXJ8fCh3aW5kb3cuYW5ndWxhcj17fSksdWlkPVsiMCIsIjAiLCIwIl07bXNpZT1pbnQoKC9tc2llIChcZCspLy5leGVjKGxvd2VyY2FzZShuYXZpZ2F0b3IudXNlckFnZW50KSl8fFtdKVsxXSksaXNOYU4obXNpZSkmJihtc2llPWludCgoL3RyaWRlbnRcLy4qOyBydjooXGQrKS8uZXhlYyhsb3dlcmNhc2UobmF2aWdhdG9yLnVzZXJBZ2VudCkpfHxbXSlbMV0pKSxub29wLiRpbmplY3Q9W10saWRlbnRpdHkuJGluamVjdD1bXTt2YXIgaXNBcnJheT1mdW5jdGlvbigpe3JldHVybiBpc0Z1bmN0aW9uKEFycmF5LmlzQXJyYXkpP0FycmF5LmlzQXJyYXk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT10b1N0cmluZy5jYWxsKHZhbHVlKX19KCksdHJpbT1mdW5jdGlvbigpe3JldHVybiBTdHJpbmcucHJvdG90eXBlLnRyaW0/ZnVuY3Rpb24odmFsdWUpe3JldHVybiBpc1N0cmluZyh2YWx1ZSk/dmFsdWUudHJpbSgpOnZhbHVlfTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGlzU3RyaW5nKHZhbHVlKT92YWx1ZS5yZXBsYWNlKC9eXHNccyovLCIiKS5yZXBsYWNlKC9cc1xzKiQvLCIiKTp2YWx1ZX19KCk7bm9kZU5hbWVfPTk+bXNpZT9mdW5jdGlvbihlbGVtZW50KXtyZXR1cm4gZWxlbWVudD1lbGVtZW50Lm5vZGVOYW1lP2VsZW1lbnQ6ZWxlbWVudFswXSxlbGVtZW50LnNjb3BlTmFtZSYmIkhUTUwiIT1lbGVtZW50LnNjb3BlTmFtZT91cHBlcmNhc2UoZWxlbWVudC5zY29wZU5hbWUrIjoiK2VsZW1lbnQubm9kZU5hbWUpOmVsZW1lbnQubm9kZU5hbWV9OmZ1bmN0aW9uKGVsZW1lbnQpe3JldHVybiBlbGVtZW50Lm5vZGVOYW1lP2VsZW1lbnQubm9kZU5hbWU6ZWxlbWVudFswXS5ub2RlTmFtZX07dmFyIGNzcD1mdW5jdGlvbigpe2lmKGlzRGVmaW5lZChjc3AuaXNBY3RpdmVfKSlyZXR1cm4gY3NwLmlzQWN0aXZlXzt2YXIgYWN0aXZlPSEoIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIltuZy1jc3BdIikmJiFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJbZGF0YS1uZy1jc3BdIikpO2lmKCFhY3RpdmUpdHJ5e25ldyBGdW5jdGlvbigiIil9Y2F0Y2goZSl7YWN0aXZlPSEwfXJldHVybiBjc3AuaXNBY3RpdmVfPWFjdGl2ZX0sU05BS0VfQ0FTRV9SRUdFWFA9L1tBLVpdL2csdmVyc2lvbj17ZnVsbDoiMS4yLjI2IixtYWpvcjoxLG1pbm9yOjIsZG90OjI2LGNvZGVOYW1lOiJjYXB0aXZhdGluZy1kaXNpbnRlcmVzdCJ9O0pRTGl0ZS5leHBhbmRvPSJuZzMzOSI7dmFyIGpxQ2FjaGU9SlFMaXRlLmNhY2hlPXt9LGpxSWQ9MSxhZGRFdmVudExpc3RlbmVyRm49d2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oZWxlbWVudCx0eXBlLGZuKXtlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSxmbiwhMSl9OmZ1bmN0aW9uKGVsZW1lbnQsdHlwZSxmbil7ZWxlbWVudC5hdHRhY2hFdmVudCgib24iK3R5cGUsZm4pfSxyZW1vdmVFdmVudExpc3RlbmVyRm49d2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oZWxlbWVudCx0eXBlLGZuKXtlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSxmbiwhMSl9OmZ1bmN0aW9uKGVsZW1lbnQsdHlwZSxmbil7ZWxlbWVudC5kZXRhY2hFdmVudCgib24iK3R5cGUsZm4pfSxTUEVDSUFMX0NIQVJTX1JFR0VYUD0oSlFMaXRlLl9kYXRhPWZ1bmN0aW9uKG5vZGUpe3JldHVybiB0aGlzLmNhY2hlW25vZGVbdGhpcy5leHBhbmRvXV18fHt9fSwvKFtcOlwtXF9dKyguKSkvZyksTU9aX0hBQ0tfUkVHRVhQPS9ebW96KFtBLVpdKS8sanFMaXRlTWluRXJyPW1pbkVycigianFMaXRlIiksU0lOR0xFX1RBR19SRUdFWFA9L148KFx3KylccypcLz8+KD86PFwvXDE+fCkkLyxIVE1MX1JFR0VYUD0vPHwmIz9cdys7LyxUQUdfTkFNRV9SRUdFWFA9LzwoW1x3Ol0rKS8sWEhUTUxfVEFHX1JFR0VYUD0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXHc6XSspW14+XSopXC8+L2dpLHdyYXBNYXA9e29wdGlvbjpbMSwnPHNlbGVjdCBtdWx0aXBsZT0ibXVsdGlwbGUiPicsIjwvc2VsZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTt3cmFwTWFwLm9wdGdyb3VwPXdyYXBNYXAub3B0aW9uLHdyYXBNYXAudGJvZHk9d3JhcE1hcC50Zm9vdD13cmFwTWFwLmNvbGdyb3VwPXdyYXBNYXAuY2FwdGlvbj13cmFwTWFwLnRoZWFkLHdyYXBNYXAudGg9d3JhcE1hcC50ZDt2YXIgSlFMaXRlUHJvdG90eXBlPUpRTGl0ZS5wcm90b3R5cGU9e3JlYWR5OmZ1bmN0aW9uKGZuKXtmdW5jdGlvbiB0cmlnZ2VyKCl7ZmlyZWR8fChmaXJlZD0hMCxmbigpKX12YXIgZmlyZWQ9ITE7ImNvbXBsZXRlIj09PWRvY3VtZW50LnJlYWR5U3RhdGU/c2V0VGltZW91dCh0cmlnZ2VyKToodGhpcy5vbigiRE9NQ29udGVudExvYWRlZCIsdHJpZ2dlciksSlFMaXRlKHdpbmRvdykub24oImxvYWQiLHRyaWdnZXIpKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXt2YXIgdmFsdWU9W107cmV0dXJuIGZvckVhY2godGhpcyxmdW5jdGlvbihlKXt2YWx1ZS5wdXNoKCIiK2UpfSksIlsiK3ZhbHVlLmpvaW4oIiwgIikrIl0ifSxlcTpmdW5jdGlvbihpbmRleCl7cmV0dXJuIGpxTGl0ZShpbmRleD49MD90aGlzW2luZGV4XTp0aGlzW3RoaXMubGVuZ3RoK2luZGV4XSl9LGxlbmd0aDowLHB1c2g6cHVzaCxzb3J0OltdLnNvcnQsc3BsaWNlOltdLnNwbGljZX0sQk9PTEVBTl9BVFRSPXt9O2ZvckVhY2goIm11bHRpcGxlLHNlbGVjdGVkLGNoZWNrZWQsZGlzYWJsZWQscmVhZE9ubHkscmVxdWlyZWQsb3BlbiIuc3BsaXQoIiwiKSxmdW5jdGlvbih2YWx1ZSl7Qk9PTEVBTl9BVFRSW2xvd2VyY2FzZSh2YWx1ZSldPXZhbHVlfSk7dmFyIEJPT0xFQU5fRUxFTUVOVFM9e307Zm9yRWFjaCgiaW5wdXQsc2VsZWN0LG9wdGlvbix0ZXh0YXJlYSxidXR0b24sZm9ybSxkZXRhaWxzIi5zcGxpdCgiLCIpLGZ1bmN0aW9uKHZhbHVlKXtCT09MRUFOX0VMRU1FTlRTW3VwcGVyY2FzZSh2YWx1ZSldPSEwfSksZm9yRWFjaCh7ZGF0YTpqcUxpdGVEYXRhLHJlbW92ZURhdGE6anFMaXRlUmVtb3ZlRGF0YX0sZnVuY3Rpb24oZm4sbmFtZSl7SlFMaXRlW25hbWVdPWZufSksZm9yRWFjaCh7ZGF0YTpqcUxpdGVEYXRhLGluaGVyaXRlZERhdGE6anFMaXRlSW5oZXJpdGVkRGF0YSxzY29wZTpmdW5jdGlvbihlbGVtZW50KXtyZXR1cm4ganFMaXRlLmRhdGEoZWxlbWVudCwiJHNjb3BlIil8fGpxTGl0ZUluaGVyaXRlZERhdGEoZWxlbWVudC5wYXJlbnROb2RlfHxlbGVtZW50LFsiJGlzb2xhdGVTY29wZSIsIiRzY29wZSJdKX0saXNvbGF0ZVNjb3BlOmZ1bmN0aW9uKGVsZW1lbnQpe3JldHVybiBqcUxpdGUuZGF0YShlbGVtZW50LCIkaXNvbGF0ZVNjb3BlIil8fGpxTGl0ZS5kYXRhKGVsZW1lbnQsIiRpc29sYXRlU2NvcGVOb1RlbXBsYXRlIil9LGNvbnRyb2xsZXI6anFMaXRlQ29udHJvbGxlcixpbmplY3RvcjpmdW5jdGlvbihlbGVtZW50KXtyZXR1cm4ganFMaXRlSW5oZXJpdGVkRGF0YShlbGVtZW50LCIkaW5qZWN0b3IiKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlbGVtZW50LG5hbWUpe2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpfSxoYXNDbGFzczpqcUxpdGVIYXNDbGFzcyxjc3M6ZnVuY3Rpb24oZWxlbWVudCxuYW1lLHZhbHVlKXtpZihuYW1lPWNhbWVsQ2FzZShuYW1lKSwhaXNEZWZpbmVkKHZhbHVlKSl7dmFyIHZhbDtyZXR1cm4gOD49bXNpZSYmKHZhbD1lbGVtZW50LmN1cnJlbnRTdHlsZSYmZWxlbWVudC5jdXJyZW50U3R5bGVbbmFtZV0sIiI9PT12YWwmJih2YWw9ImF1dG8iKSksdmFsPXZhbHx8ZWxlbWVudC5zdHlsZVtuYW1lXSw4Pj1tc2llJiYodmFsPSIiPT09dmFsP3VuZGVmaW5lZDp2YWwpLHZhbH1lbGVtZW50LnN0eWxlW25hbWVdPXZhbHVlfSxhdHRyOmZ1bmN0aW9uKGVsZW1lbnQsbmFtZSx2YWx1ZSl7dmFyIGxvd2VyY2FzZWROYW1lPWxvd2VyY2FzZShuYW1lKTtpZihCT09MRUFOX0FUVFJbbG93ZXJjYXNlZE5hbWVdKXtpZighaXNEZWZpbmVkKHZhbHVlKSlyZXR1cm4gZWxlbWVudFtuYW1lXXx8KGVsZW1lbnQuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0obmFtZSl8fG5vb3ApLnNwZWNpZmllZD9sb3dlcmNhc2VkTmFtZTp1bmRlZmluZWQ7dmFsdWU/KGVsZW1lbnRbbmFtZV09ITAsZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSxsb3dlcmNhc2VkTmFtZSkpOihlbGVtZW50W25hbWVdPSExLGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGxvd2VyY2FzZWROYW1lKSl9ZWxzZSBpZihpc0RlZmluZWQodmFsdWUpKWVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsdmFsdWUpO2Vsc2UgaWYoZWxlbWVudC5nZXRBdHRyaWJ1dGUpe3ZhciByZXQ9ZWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZSwyKTtyZXR1cm4gbnVsbD09PXJldD91bmRlZmluZWQ6cmV0fX0scHJvcDpmdW5jdGlvbihlbGVtZW50LG5hbWUsdmFsdWUpe3JldHVybiBpc0RlZmluZWQodmFsdWUpP3ZvaWQoZWxlbWVudFtuYW1lXT12YWx1ZSk6ZWxlbWVudFtuYW1lXX0sdGV4dDpmdW5jdGlvbigpe2Z1bmN0aW9uIGdldFRleHQoZWxlbWVudCx2YWx1ZSl7dmFyIHRleHRQcm9wPU5PREVfVFlQRV9URVhUX1BST1BFUlRZW2VsZW1lbnQubm9kZVR5cGVdO3JldHVybiBpc1VuZGVmaW5lZCh2YWx1ZSk/dGV4dFByb3A/ZWxlbWVudFt0ZXh0UHJvcF06IiI6dm9pZChlbGVtZW50W3RleHRQcm9wXT12YWx1ZSl9dmFyIE5PREVfVFlQRV9URVhUX1BST1BFUlRZPVtdO3JldHVybiA5Pm1zaWU/KE5PREVfVFlQRV9URVhUX1BST1BFUlRZWzFdPSJpbm5lclRleHQiLE5PREVfVFlQRV9URVhUX1BST1BFUlRZWzNdPSJub2RlVmFsdWUiKTpOT0RFX1RZUEVfVEVYVF9QUk9QRVJUWVsxXT1OT0RFX1RZUEVfVEVYVF9QUk9QRVJUWVszXT0idGV4dENvbnRlbnQiLGdldFRleHQuJGR2PSIiLGdldFRleHR9KCksdmFsOmZ1bmN0aW9uKGVsZW1lbnQsdmFsdWUpe2lmKGlzVW5kZWZpbmVkKHZhbHVlKSl7aWYoIlNFTEVDVCI9PT1ub2RlTmFtZV8oZWxlbWVudCkmJmVsZW1lbnQubXVsdGlwbGUpe3ZhciByZXN1bHQ9W107cmV0dXJuIGZvckVhY2goZWxlbWVudC5vcHRpb25zLGZ1bmN0aW9uKG9wdGlvbil7b3B0aW9uLnNlbGVjdGVkJiZyZXN1bHQucHVzaChvcHRpb24udmFsdWV8fG9wdGlvbi50ZXh0KX0pLDA9PT1yZXN1bHQubGVuZ3RoP251bGw6cmVzdWx0fXJldHVybiBlbGVtZW50LnZhbHVlfWVsZW1lbnQudmFsdWU9dmFsdWV9LGh0bWw6ZnVuY3Rpb24oZWxlbWVudCx2YWx1ZSl7aWYoaXNVbmRlZmluZWQodmFsdWUpKXJldHVybiBlbGVtZW50LmlubmVySFRNTDtmb3IodmFyIGk9MCxjaGlsZE5vZGVzPWVsZW1lbnQuY2hpbGROb2RlcztpPGNoaWxkTm9kZXMubGVuZ3RoO2krKylqcUxpdGVEZWFsb2MoY2hpbGROb2Rlc1tpXSk7ZWxlbWVudC5pbm5lckhUTUw9dmFsdWV9LGVtcHR5OmpxTGl0ZUVtcHR5fSxmdW5jdGlvbihmbixuYW1lKXtKUUxpdGUucHJvdG90eXBlW25hbWVdPWZ1bmN0aW9uKGFyZzEsYXJnMil7dmFyIGksa2V5LG5vZGVDb3VudD10aGlzLmxlbmd0aDtpZihmbiE9PWpxTGl0ZUVtcHR5JiYoMj09Zm4ubGVuZ3RoJiZmbiE9PWpxTGl0ZUhhc0NsYXNzJiZmbiE9PWpxTGl0ZUNvbnRyb2xsZXI/YXJnMTphcmcyKT09PXVuZGVmaW5lZCl7aWYoaXNPYmplY3QoYXJnMSkpe2ZvcihpPTA7bm9kZUNvdW50Pmk7aSsrKWlmKGZuPT09anFMaXRlRGF0YSlmbih0aGlzW2ldLGFyZzEpO2Vsc2UgZm9yKGtleSBpbiBhcmcxKWZuKHRoaXNbaV0sa2V5LGFyZzFba2V5XSk7cmV0dXJuIHRoaXN9Zm9yKHZhciB2YWx1ZT1mbi4kZHYsamo9dmFsdWU9PT11bmRlZmluZWQ/TWF0aC5taW4obm9kZUNvdW50LDEpOm5vZGVDb3VudCxqPTA7amo+ajtqKyspe3ZhciBub2RlVmFsdWU9Zm4odGhpc1tqXSxhcmcxLGFyZzIpO3ZhbHVlPXZhbHVlP3ZhbHVlK25vZGVWYWx1ZTpub2RlVmFsdWV9cmV0dXJuIHZhbHVlfWZvcihpPTA7bm9kZUNvdW50Pmk7aSsrKWZuKHRoaXNbaV0sYXJnMSxhcmcyKTtyZXR1cm4gdGhpc319KSxmb3JFYWNoKHtyZW1vdmVEYXRhOmpxTGl0ZVJlbW92ZURhdGEsZGVhbG9jOmpxTGl0ZURlYWxvYyxvbjpmdW5jdGlvbiBvbkZuKGVsZW1lbnQsdHlwZSxmbix1bnN1cHBvcnRlZCl7aWYoaXNEZWZpbmVkKHVuc3VwcG9ydGVkKSl0aHJvdyBqcUxpdGVNaW5FcnIoIm9uYXJncyIsImpxTGl0ZSNvbigpIGRvZXMgbm90IHN1cHBvcnQgdGhlIGBzZWxlY3RvcmAgb3IgYGV2ZW50RGF0YWAgcGFyYW1ldGVycyIpO3ZhciBldmVudHM9anFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsImV2ZW50cyIpLGhhbmRsZT1qcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwiaGFuZGxlIik7ZXZlbnRzfHxqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwiZXZlbnRzIixldmVudHM9e30pLGhhbmRsZXx8anFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsImhhbmRsZSIsaGFuZGxlPWNyZWF0ZUV2ZW50SGFuZGxlcihlbGVtZW50LGV2ZW50cykpLGZvckVhY2godHlwZS5zcGxpdCgiICIpLGZ1bmN0aW9uKHR5cGUpe3ZhciBldmVudEZucz1ldmVudHNbdHlwZV07aWYoIWV2ZW50Rm5zKXtpZigibW91c2VlbnRlciI9PXR5cGV8fCJtb3VzZWxlYXZlIj09dHlwZSl7dmFyIGNvbnRhaW5zPWRvY3VtZW50LmJvZHkuY29udGFpbnN8fGRvY3VtZW50LmJvZHkuY29tcGFyZURvY3VtZW50UG9zaXRpb24/ZnVuY3Rpb24oYSxiKXt2YXIgYWRvd249OT09PWEubm9kZVR5cGU/YS5kb2N1bWVudEVsZW1lbnQ6YSxidXA9YiYmYi5wYXJlbnROb2RlO3JldHVybiBhPT09YnVwfHwhKCFidXB8fDEhPT1idXAubm9kZVR5cGV8fCEoYWRvd24uY29udGFpbnM/YWRvd24uY29udGFpbnMoYnVwKTphLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGJ1cCkpKX06ZnVuY3Rpb24oYSxiKXtpZihiKWZvcig7Yj1iLnBhcmVudE5vZGU7KWlmKGI9PT1hKXJldHVybiEwO3JldHVybiExfTtldmVudHNbdHlwZV09W107dmFyIGV2ZW50bWFwPXttb3VzZWxlYXZlOiJtb3VzZW91dCIsbW91c2VlbnRlcjoibW91c2VvdmVyIn07b25GbihlbGVtZW50LGV2ZW50bWFwW3R5cGVdLGZ1bmN0aW9uKGV2ZW50KXt2YXIgdGFyZ2V0PXRoaXMscmVsYXRlZD1ldmVudC5yZWxhdGVkVGFyZ2V0OyghcmVsYXRlZHx8cmVsYXRlZCE9PXRhcmdldCYmIWNvbnRhaW5zKHRhcmdldCxyZWxhdGVkKSkmJmhhbmRsZShldmVudCx0eXBlKX0pfWVsc2UgYWRkRXZlbnRMaXN0ZW5lckZuKGVsZW1lbnQsdHlwZSxoYW5kbGUpLGV2ZW50c1t0eXBlXT1bXTtldmVudEZucz1ldmVudHNbdHlwZV19ZXZlbnRGbnMucHVzaChmbil9KX0sb2ZmOmpxTGl0ZU9mZixvbmU6ZnVuY3Rpb24oZWxlbWVudCx0eXBlLGZuKXtlbGVtZW50PWpxTGl0ZShlbGVtZW50KSxlbGVtZW50Lm9uKHR5cGUsZnVuY3Rpb24gb25Gbigpe2VsZW1lbnQub2ZmKHR5cGUsZm4pLGVsZW1lbnQub2ZmKHR5cGUsb25Gbil9KSxlbGVtZW50Lm9uKHR5cGUsZm4pfSxyZXBsYWNlV2l0aDpmdW5jdGlvbihlbGVtZW50LHJlcGxhY2VOb2RlKXt2YXIgaW5kZXgscGFyZW50PWVsZW1lbnQucGFyZW50Tm9kZTtqcUxpdGVEZWFsb2MoZWxlbWVudCksZm9yRWFjaChuZXcgSlFMaXRlKHJlcGxhY2VOb2RlKSxmdW5jdGlvbihub2RlKXtpbmRleD9wYXJlbnQuaW5zZXJ0QmVmb3JlKG5vZGUsaW5kZXgubmV4dFNpYmxpbmcpOnBhcmVudC5yZXBsYWNlQ2hpbGQobm9kZSxlbGVtZW50KSxpbmRleD1ub2RlfSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGVsZW1lbnQpe3ZhciBjaGlsZHJlbj1bXTtyZXR1cm4gZm9yRWFjaChlbGVtZW50LmNoaWxkTm9kZXMsZnVuY3Rpb24oZWxlbWVudCl7MT09PWVsZW1lbnQubm9kZVR5cGUmJmNoaWxkcmVuLnB1c2goZWxlbWVudCl9KSxjaGlsZHJlbn0sY29udGVudHM6ZnVuY3Rpb24oZWxlbWVudCl7cmV0dXJuIGVsZW1lbnQuY29udGVudERvY3VtZW50fHxlbGVtZW50LmNoaWxkTm9kZXN8fFtdfSxhcHBlbmQ6ZnVuY3Rpb24oZWxlbWVudCxub2RlKXtmb3JFYWNoKG5ldyBKUUxpdGUobm9kZSksZnVuY3Rpb24oY2hpbGQpeygxPT09ZWxlbWVudC5ub2RlVHlwZXx8MTE9PT1lbGVtZW50Lm5vZGVUeXBlKSYmZWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZCl9KX0scHJlcGVuZDpmdW5jdGlvbihlbGVtZW50LG5vZGUpe2lmKDE9PT1lbGVtZW50Lm5vZGVUeXBlKXt2YXIgaW5kZXg9ZWxlbWVudC5maXJzdENoaWxkO2ZvckVhY2gobmV3IEpRTGl0ZShub2RlKSxmdW5jdGlvbihjaGlsZCl7ZWxlbWVudC5pbnNlcnRCZWZvcmUoY2hpbGQsaW5kZXgpfSl9fSx3cmFwOmZ1bmN0aW9uKGVsZW1lbnQsd3JhcE5vZGUpe3dyYXBOb2RlPWpxTGl0ZSh3cmFwTm9kZSlbMF07dmFyIHBhcmVudD1lbGVtZW50LnBhcmVudE5vZGU7cGFyZW50JiZwYXJlbnQucmVwbGFjZUNoaWxkKHdyYXBOb2RlLGVsZW1lbnQpLHdyYXBOb2RlLmFwcGVuZENoaWxkKGVsZW1lbnQpfSxyZW1vdmU6ZnVuY3Rpb24oZWxlbWVudCl7anFMaXRlRGVhbG9jKGVsZW1lbnQpO3ZhciBwYXJlbnQ9ZWxlbWVudC5wYXJlbnROb2RlO3BhcmVudCYmcGFyZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQpfSxhZnRlcjpmdW5jdGlvbihlbGVtZW50LG5ld0VsZW1lbnQpe3ZhciBpbmRleD1lbGVtZW50LHBhcmVudD1lbGVtZW50LnBhcmVudE5vZGU7Zm9yRWFjaChuZXcgSlFMaXRlKG5ld0VsZW1lbnQpLGZ1bmN0aW9uKG5vZGUpe3BhcmVudC5pbnNlcnRCZWZvcmUobm9kZSxpbmRleC5uZXh0U2libGluZyksaW5kZXg9bm9kZX0pfSxhZGRDbGFzczpqcUxpdGVBZGRDbGFzcyxyZW1vdmVDbGFzczpqcUxpdGVSZW1vdmVDbGFzcyx0b2dnbGVDbGFzczpmdW5jdGlvbihlbGVtZW50LHNlbGVjdG9yLGNvbmRpdGlvbil7c2VsZWN0b3ImJmZvckVhY2goc2VsZWN0b3Iuc3BsaXQoIiAiKSxmdW5jdGlvbihjbGFzc05hbWUpe3ZhciBjbGFzc0NvbmRpdGlvbj1jb25kaXRpb247aXNVbmRlZmluZWQoY2xhc3NDb25kaXRpb24pJiYoY2xhc3NDb25kaXRpb249IWpxTGl0ZUhhc0NsYXNzKGVsZW1lbnQsY2xhc3NOYW1lKSksKGNsYXNzQ29uZGl0aW9uP2pxTGl0ZUFkZENsYXNzOmpxTGl0ZVJlbW92ZUNsYXNzKShlbGVtZW50LGNsYXNzTmFtZSl9KX0scGFyZW50OmZ1bmN0aW9uKGVsZW1lbnQpe3ZhciBwYXJlbnQ9ZWxlbWVudC5wYXJlbnROb2RlO3JldHVybiBwYXJlbnQmJjExIT09cGFyZW50Lm5vZGVUeXBlP3BhcmVudDpudWxsfSxuZXh0OmZ1bmN0aW9uKGVsZW1lbnQpe2lmKGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nKXJldHVybiBlbGVtZW50Lm5leHRFbGVtZW50U2libGluZztmb3IodmFyIGVsbT1lbGVtZW50Lm5leHRTaWJsaW5nO251bGwhPWVsbSYmMSE9PWVsbS5ub2RlVHlwZTspZWxtPWVsbS5uZXh0U2libGluZztyZXR1cm4gZWxtfSxmaW5kOmZ1bmN0aW9uKGVsZW1lbnQsc2VsZWN0b3Ipe3JldHVybiBlbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lP2VsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoc2VsZWN0b3IpOltdfSxjbG9uZTpqcUxpdGVDbG9uZSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihlbGVtZW50LGV2ZW50LGV4dHJhUGFyYW1ldGVycyl7dmFyIGR1bW15RXZlbnQsZXZlbnRGbnNDb3B5LGhhbmRsZXJBcmdzLGV2ZW50TmFtZT1ldmVudC50eXBlfHxldmVudCxldmVudEZucz0oanFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsImV2ZW50cyIpfHx7fSlbZXZlbnROYW1lXTtldmVudEZucyYmKGR1bW15RXZlbnQ9e3ByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0UHJldmVudGVkPSEwfSxpc0RlZmF1bHRQcmV2ZW50ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWZhdWx0UHJldmVudGVkPT09ITB9LHN0b3BQcm9wYWdhdGlvbjpub29wLHR5cGU6ZXZlbnROYW1lLHRhcmdldDplbGVtZW50fSxldmVudC50eXBlJiYoZHVtbXlFdmVudD1leHRlbmQoZHVtbXlFdmVudCxldmVudCkpLGV2ZW50Rm5zQ29weT1zaGFsbG93Q29weShldmVudEZucyksaGFuZGxlckFyZ3M9ZXh0cmFQYXJhbWV0ZXJzP1tkdW1teUV2ZW50XS5jb25jYXQoZXh0cmFQYXJhbWV0ZXJzKTpbZHVtbXlFdmVudF0sZm9yRWFjaChldmVudEZuc0NvcHksZnVuY3Rpb24oZm4pe2ZuLmFwcGx5KGVsZW1lbnQsaGFuZGxlckFyZ3MpfSkpfX0sZnVuY3Rpb24oZm4sbmFtZSl7SlFMaXRlLnByb3RvdHlwZVtuYW1lXT1mdW5jdGlvbihhcmcxLGFyZzIsYXJnMyl7Zm9yKHZhciB2YWx1ZSxpPTA7aTx0aGlzLmxlbmd0aDtpKyspaXNVbmRlZmluZWQodmFsdWUpPyh2YWx1ZT1mbih0aGlzW2ldLGFyZzEsYXJnMixhcmczKSxpc0RlZmluZWQodmFsdWUpJiYodmFsdWU9anFMaXRlKHZhbHVlKSkpOmpxTGl0ZUFkZE5vZGVzKHZhbHVlLGZuKHRoaXNbaV0sYXJnMSxhcmcyLGFyZzMpKTtyZXR1cm4gaXNEZWZpbmVkKHZhbHVlKT92YWx1ZTp0aGlzfSxKUUxpdGUucHJvdG90eXBlLmJpbmQ9SlFMaXRlLnByb3RvdHlwZS5vbixKUUxpdGUucHJvdG90eXBlLnVuYmluZD1KUUxpdGUucHJvdG90eXBlLm9mZn0pLEhhc2hNYXAucHJvdG90eXBlPXtwdXQ6ZnVuY3Rpb24oa2V5LHZhbHVlKXt0aGlzW2hhc2hLZXkoa2V5LHRoaXMubmV4dFVpZCldPXZhbHVlfSxnZXQ6ZnVuY3Rpb24oa2V5KXtyZXR1cm4gdGhpc1toYXNoS2V5KGtleSx0aGlzLm5leHRVaWQpXX0scmVtb3ZlOmZ1bmN0aW9uKGtleSl7dmFyIHZhbHVlPXRoaXNba2V5PWhhc2hLZXkoa2V5LHRoaXMubmV4dFVpZCldO3JldHVybiBkZWxldGUgdGhpc1trZXldLHZhbHVlfX07dmFyIEZOX0FSR1M9L15mdW5jdGlvblxzKlteXChdKlwoXHMqKFteXCldKilcKS9tLEZOX0FSR19TUExJVD0vLC8sRk5fQVJHPS9eXHMqKF8/KShcUys/KVwxXHMqJC8sU1RSSVBfQ09NTUVOVFM9LygoXC9cLy4qJCl8KFwvXCpbXHNcU10qP1wqXC8pKS9nbSwkaW5qZWN0b3JNaW5FcnI9bWluRXJyKCIkaW5qZWN0b3IiKSwkYW5pbWF0ZU1pbkVycj1taW5FcnIoIiRhbmltYXRlIiksJEFuaW1hdGVQcm92aWRlcj1bIiRwcm92aWRlIixmdW5jdGlvbigkcHJvdmlkZSl7dGhpcy4kJHNlbGVjdG9ycz17fSx0aGlzLnJlZ2lzdGVyPWZ1bmN0aW9uKG5hbWUsZmFjdG9yeSl7dmFyIGtleT1uYW1lKyItYW5pbWF0aW9uIjtpZihuYW1lJiYiLiIhPW5hbWUuY2hhckF0KDApKXRocm93ICRhbmltYXRlTWluRXJyKCJub3Rjc2VsIiwiRXhwZWN0aW5nIGNsYXNzIHNlbGVjdG9yIHN0YXJ0aW5nIHdpdGggJy4nIGdvdCAnezB9Jy4iLG5hbWUpO3RoaXMuJCRzZWxlY3RvcnNbbmFtZS5zdWJzdHIoMSldPWtleSwkcHJvdmlkZS5mYWN0b3J5KGtleSxmYWN0b3J5KX0sdGhpcy5jbGFzc05hbWVGaWx0ZXI9ZnVuY3Rpb24oZXhwcmVzc2lvbil7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoJiYodGhpcy4kJGNsYXNzTmFtZUZpbHRlcj1leHByZXNzaW9uIGluc3RhbmNlb2YgUmVnRXhwP2V4cHJlc3Npb246bnVsbCksdGhpcy4kJGNsYXNzTmFtZUZpbHRlcn0sdGhpcy4kZ2V0PVsiJHRpbWVvdXQiLCIkJGFzeW5jQ2FsbGJhY2siLGZ1bmN0aW9uKCR0aW1lb3V0LCQkYXN5bmNDYWxsYmFjayl7ZnVuY3Rpb24gYXN5bmMoZm4pe2ZuJiYkJGFzeW5jQ2FsbGJhY2soZm4pfXJldHVybntlbnRlcjpmdW5jdGlvbihlbGVtZW50LHBhcmVudCxhZnRlcixkb25lKXthZnRlcj9hZnRlci5hZnRlcihlbGVtZW50KToocGFyZW50JiZwYXJlbnRbMF18fChwYXJlbnQ9YWZ0ZXIucGFyZW50KCkpLHBhcmVudC5hcHBlbmQoZWxlbWVudCkpLGFzeW5jKGRvbmUpfSxsZWF2ZTpmdW5jdGlvbihlbGVtZW50LGRvbmUpe2VsZW1lbnQucmVtb3ZlKCksYXN5bmMoZG9uZSl9LG1vdmU6ZnVuY3Rpb24oZWxlbWVudCxwYXJlbnQsYWZ0ZXIsZG9uZSl7dGhpcy5lbnRlcihlbGVtZW50LHBhcmVudCxhZnRlcixkb25lKX0sYWRkQ2xhc3M6ZnVuY3Rpb24oZWxlbWVudCxjbGFzc05hbWUsZG9uZSl7Y2xhc3NOYW1lPWlzU3RyaW5nKGNsYXNzTmFtZSk/Y2xhc3NOYW1lOmlzQXJyYXkoY2xhc3NOYW1lKT9jbGFzc05hbWUuam9pbigiICIpOiIiLGZvckVhY2goZWxlbWVudCxmdW5jdGlvbihlbGVtZW50KXtqcUxpdGVBZGRDbGFzcyhlbGVtZW50LGNsYXNzTmFtZSl9KSxhc3luYyhkb25lKX0scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oZWxlbWVudCxjbGFzc05hbWUsZG9uZSl7Y2xhc3NOYW1lPWlzU3RyaW5nKGNsYXNzTmFtZSk/Y2xhc3NOYW1lOmlzQXJyYXkoY2xhc3NOYW1lKT9jbGFzc05hbWUuam9pbigiICIpOiIiLGZvckVhY2goZWxlbWVudCxmdW5jdGlvbihlbGVtZW50KXtqcUxpdGVSZW1vdmVDbGFzcyhlbGVtZW50LGNsYXNzTmFtZSl9KSxhc3luYyhkb25lKX0sc2V0Q2xhc3M6ZnVuY3Rpb24oZWxlbWVudCxhZGQscmVtb3ZlLGRvbmUpe2ZvckVhY2goZWxlbWVudCxmdW5jdGlvbihlbGVtZW50KXtqcUxpdGVBZGRDbGFzcyhlbGVtZW50LGFkZCksanFMaXRlUmVtb3ZlQ2xhc3MoZWxlbWVudCxyZW1vdmUpfSksYXN5bmMoZG9uZSl9LGVuYWJsZWQ6bm9vcH19XX1dLCRjb21waWxlTWluRXJyPW1pbkVycigiJGNvbXBpbGUiKTskQ29tcGlsZVByb3ZpZGVyLiRpbmplY3Q9WyIkcHJvdmlkZSIsIiQkc2FuaXRpemVVcmlQcm92aWRlciJdO3ZhciBQUkVGSVhfUkVHRVhQPS9eKHhbXDpcLV9dfGRhdGFbXDpcLV9dKS9pLCRpbnRlcnBvbGF0ZU1pbkVycj1taW5FcnIoIiRpbnRlcnBvbGF0ZSIpLFBBVEhfTUFUQ0g9L14oW15cPyNdKikoXD8oW14jXSopKT8oIyguKikpPyQvLERFRkFVTFRfUE9SVFM9e2h0dHA6ODAsaHR0cHM6NDQzLGZ0cDoyMX0sJGxvY2F0aW9uTWluRXJyPW1pbkVycigiJGxvY2F0aW9uIik7TG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmwucHJvdG90eXBlPUxvY2F0aW9uSGFzaGJhbmdVcmwucHJvdG90eXBlPUxvY2F0aW9uSHRtbDVVcmwucHJvdG90eXBlPXskJGh0bWw1OiExLCQkcmVwbGFjZTohMSxhYnNVcmw6bG9jYXRpb25HZXR0ZXIoIiQkYWJzVXJsIiksdXJsOmZ1bmN0aW9uKHVybCl7aWYoaXNVbmRlZmluZWQodXJsKSlyZXR1cm4gdGhpcy4kJHVybDt2YXIgbWF0Y2g9UEFUSF9NQVRDSC5leGVjKHVybCk7cmV0dXJuIG1hdGNoWzFdJiZ0aGlzLnBhdGgoZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdKSksKG1hdGNoWzJdfHxtYXRjaFsxXSkmJnRoaXMuc2VhcmNoKG1hdGNoWzNdfHwiIiksdGhpcy5oYXNoKG1hdGNoWzVdfHwiIiksdGhpc30scHJvdG9jb2w6bG9jYXRpb25HZXR0ZXIoIiQkcHJvdG9jb2wiKSxob3N0OmxvY2F0aW9uR2V0dGVyKCIkJGhvc3QiKSxwb3J0OmxvY2F0aW9uR2V0dGVyKCIkJHBvcnQiKSxwYXRoOmxvY2F0aW9uR2V0dGVyU2V0dGVyKCIkJHBhdGgiLGZ1bmN0aW9uKHBhdGgpe3JldHVybiBwYXRoPXBhdGg/cGF0aC50b1N0cmluZygpOiIiLCIvIj09cGF0aC5jaGFyQXQoMCk/cGF0aDoiLyIrcGF0aH0pLHNlYXJjaDpmdW5jdGlvbihzZWFyY2gscGFyYW1WYWx1ZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gdGhpcy4kJHNlYXJjaDtjYXNlIDE6aWYoaXNTdHJpbmcoc2VhcmNoKXx8aXNOdW1iZXIoc2VhcmNoKSlzZWFyY2g9c2VhcmNoLnRvU3RyaW5nKCksdGhpcy4kJHNlYXJjaD1wYXJzZUtleVZhbHVlKHNlYXJjaCk7ZWxzZXtpZighaXNPYmplY3Qoc2VhcmNoKSl0aHJvdyAkbG9jYXRpb25NaW5FcnIoImlzcmNoYXJnIiwiVGhlIGZpcnN0IGFyZ3VtZW50IG9mIHRoZSBgJGxvY2F0aW9uI3NlYXJjaCgpYCBjYWxsIG11c3QgYmUgYSBzdHJpbmcgb3IgYW4gb2JqZWN0LiIpO2ZvckVhY2goc2VhcmNoLGZ1bmN0aW9uKHZhbHVlLGtleSl7bnVsbD09dmFsdWUmJmRlbGV0ZSBzZWFyY2hba2V5XX0pLHRoaXMuJCRzZWFyY2g9c2VhcmNofWJyZWFrO2RlZmF1bHQ6aXNVbmRlZmluZWQocGFyYW1WYWx1ZSl8fG51bGw9PT1wYXJhbVZhbHVlP2RlbGV0ZSB0aGlzLiQkc2VhcmNoW3NlYXJjaF06dGhpcy4kJHNlYXJjaFtzZWFyY2hdPXBhcmFtVmFsdWV9cmV0dXJuIHRoaXMuJCRjb21wb3NlKCksdGhpc30saGFzaDpsb2NhdGlvbkdldHRlclNldHRlcigiJCRoYXNoIixmdW5jdGlvbihoYXNoKXtyZXR1cm4gaGFzaD9oYXNoLnRvU3RyaW5nKCk6IiJ9KSxyZXBsYWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJCRyZXBsYWNlPSEwLHRoaXN9fTt2YXIgcHJvbWlzZVdhcm5pbmcsJHBhcnNlTWluRXJyPW1pbkVycigiJHBhcnNlIikscHJvbWlzZVdhcm5pbmdDYWNoZT17fSxDQUxMPUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLEFQUExZPUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSxCSU5EPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLE9QRVJBVE9SUz17Im51bGwiOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LCJ0cnVlIjpmdW5jdGlvbigpe3JldHVybiEwfSwiZmFsc2UiOmZ1bmN0aW9uKCl7cmV0dXJuITF9LHVuZGVmaW5lZDpub29wLCIrIjpmdW5jdGlvbihzZWxmLGxvY2FscyxhLGIpe3JldHVybiBhPWEoc2VsZixsb2NhbHMpLGI9YihzZWxmLGxvY2FscyksaXNEZWZpbmVkKGEpP2lzRGVmaW5lZChiKT9hK2I6YTppc0RlZmluZWQoYik/Yjp1bmRlZmluZWR9LCItIjpmdW5jdGlvbihzZWxmLGxvY2FscyxhLGIpe3JldHVybiBhPWEoc2VsZixsb2NhbHMpLGI9YihzZWxmLGxvY2FscyksKGlzRGVmaW5lZChhKT9hOjApLShpc0RlZmluZWQoYik/YjowKX0sIioiOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGEoc2VsZixsb2NhbHMpKmIoc2VsZixsb2NhbHMpfSwiLyI6ZnVuY3Rpb24oc2VsZixsb2NhbHMsYSxiKXtyZXR1cm4gYShzZWxmLGxvY2FscykvYihzZWxmLGxvY2Fscyl9LCIlIjpmdW5jdGlvbihzZWxmLGxvY2FscyxhLGIpe3JldHVybiBhKHNlbGYsbG9jYWxzKSViKHNlbGYsbG9jYWxzKX0sIl4iOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGEoc2VsZixsb2NhbHMpXmIoc2VsZixsb2NhbHMpfSwiPSI6bm9vcCwiPT09IjpmdW5jdGlvbihzZWxmLGxvY2FscyxhLGIpe3JldHVybiBhKHNlbGYsbG9jYWxzKT09PWIoc2VsZixsb2NhbHMpfSwiIT09IjpmdW5jdGlvbihzZWxmLGxvY2FscyxhLGIpe3JldHVybiBhKHNlbGYsbG9jYWxzKSE9PWIoc2VsZixsb2NhbHMpfSwiPT0iOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGEoc2VsZixsb2NhbHMpPT1iKHNlbGYsbG9jYWxzKX0sIiE9IjpmdW5jdGlvbihzZWxmLGxvY2FscyxhLGIpe3JldHVybiBhKHNlbGYsbG9jYWxzKSE9YihzZWxmLGxvY2Fscyl9LCI8IjpmdW5jdGlvbihzZWxmLGxvY2FscyxhLGIpe3JldHVybiBhKHNlbGYsbG9jYWxzKTxiKHNlbGYsbG9jYWxzKX0sIj4iOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGEoc2VsZixsb2NhbHMpPmIoc2VsZixsb2NhbHMpfSwiPD0iOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGEoc2VsZixsb2NhbHMpPD1iKHNlbGYsbG9jYWxzKX0sIj49IjpmdW5jdGlvbihzZWxmLGxvY2FscyxhLGIpe3JldHVybiBhKHNlbGYsbG9jYWxzKT49YihzZWxmLGxvY2Fscyl9LCImJiI6ZnVuY3Rpb24oc2VsZixsb2NhbHMsYSxiKXtyZXR1cm4gYShzZWxmLGxvY2FscykmJmIoc2VsZixsb2NhbHMpfSwifHwiOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGEoc2VsZixsb2NhbHMpfHxiKHNlbGYsbG9jYWxzKX0sIiYiOmZ1bmN0aW9uKHNlbGYsbG9jYWxzLGEsYil7cmV0dXJuIGEoc2VsZixsb2NhbHMpJmIoc2VsZixsb2NhbHMpfSwifCI6ZnVuY3Rpb24oc2VsZixsb2NhbHMsYSxiKXtyZXR1cm4gYihzZWxmLGxvY2Fscykoc2VsZixsb2NhbHMsYShzZWxmLGxvY2FscykpfSwiISI6ZnVuY3Rpb24oc2VsZixsb2NhbHMsYSl7cmV0dXJuIWEoc2VsZixsb2NhbHMpfX0sRVNDQVBFPXtuOiJcbiIsZjoiXGYiLHI6IlxyIix0OiIJIix2OiILIiwiJyI6IiciLCciJzonIid9LExleGVyPWZ1bmN0aW9uKG9wdGlvbnMpe3RoaXMub3B0aW9ucz1vcHRpb25zfTtMZXhlci5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkxleGVyLGxleDpmdW5jdGlvbih0ZXh0KXtmb3IodGhpcy50ZXh0PXRleHQsdGhpcy5pbmRleD0wLHRoaXMuY2g9dW5kZWZpbmVkLHRoaXMubGFzdENoPSI6Iix0aGlzLnRva2Vucz1bXTt0aGlzLmluZGV4PHRoaXMudGV4dC5sZW5ndGg7KXtpZih0aGlzLmNoPXRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCksdGhpcy5pcygiXCInIikpdGhpcy5yZWFkU3RyaW5nKHRoaXMuY2gpO2Vsc2UgaWYodGhpcy5pc051bWJlcih0aGlzLmNoKXx8dGhpcy5pcygiLiIpJiZ0aGlzLmlzTnVtYmVyKHRoaXMucGVlaygpKSl0aGlzLnJlYWROdW1iZXIoKTtlbHNlIGlmKHRoaXMuaXNJZGVudCh0aGlzLmNoKSl0aGlzLnJlYWRJZGVudCgpO2Vsc2UgaWYodGhpcy5pcygiKCl7fVtdLiw7Oj8iKSl0aGlzLnRva2Vucy5wdXNoKHtpbmRleDp0aGlzLmluZGV4LHRleHQ6dGhpcy5jaH0pLHRoaXMuaW5kZXgrKztlbHNle2lmKHRoaXMuaXNXaGl0ZXNwYWNlKHRoaXMuY2gpKXt0aGlzLmluZGV4Kys7Y29udGludWV9dmFyIGNoMj10aGlzLmNoK3RoaXMucGVlaygpLGNoMz1jaDIrdGhpcy5wZWVrKDIpLGZuPU9QRVJBVE9SU1t0aGlzLmNoXSxmbjI9T1BFUkFUT1JTW2NoMl0sZm4zPU9QRVJBVE9SU1tjaDNdO2ZuMz8odGhpcy50b2tlbnMucHVzaCh7aW5kZXg6dGhpcy5pbmRleCx0ZXh0OmNoMyxmbjpmbjN9KSx0aGlzLmluZGV4Kz0zKTpmbjI/KHRoaXMudG9rZW5zLnB1c2goe2luZGV4OnRoaXMuaW5kZXgsdGV4dDpjaDIsZm46Zm4yfSksdGhpcy5pbmRleCs9Mik6Zm4/KHRoaXMudG9rZW5zLnB1c2goe2luZGV4OnRoaXMuaW5kZXgsdGV4dDp0aGlzLmNoLGZuOmZufSksdGhpcy5pbmRleCs9MSk6dGhpcy50aHJvd0Vycm9yKCJVbmV4cGVjdGVkIG5leHQgY2hhcmFjdGVyICIsdGhpcy5pbmRleCx0aGlzLmluZGV4KzEpfXRoaXMubGFzdENoPXRoaXMuY2h9cmV0dXJuIHRoaXMudG9rZW5zCn0saXM6ZnVuY3Rpb24oY2hhcnMpe3JldHVybi0xIT09Y2hhcnMuaW5kZXhPZih0aGlzLmNoKX0sd2FzOmZ1bmN0aW9uKGNoYXJzKXtyZXR1cm4tMSE9PWNoYXJzLmluZGV4T2YodGhpcy5sYXN0Q2gpfSxwZWVrOmZ1bmN0aW9uKGkpe3ZhciBudW09aXx8MTtyZXR1cm4gdGhpcy5pbmRleCtudW08dGhpcy50ZXh0Lmxlbmd0aD90aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgrbnVtKTohMX0saXNOdW1iZXI6ZnVuY3Rpb24oY2gpe3JldHVybiBjaD49IjAiJiYiOSI+PWNofSxpc1doaXRlc3BhY2U6ZnVuY3Rpb24oY2gpe3JldHVybiIgIj09PWNofHwiXHIiPT09Y2h8fCIJIj09PWNofHwiXG4iPT09Y2h8fCILIj09PWNofHwiwqAiPT09Y2h9LGlzSWRlbnQ6ZnVuY3Rpb24oY2gpe3JldHVybiBjaD49ImEiJiYieiI+PWNofHxjaD49IkEiJiYiWiI+PWNofHwiXyI9PT1jaHx8IiQiPT09Y2h9LGlzRXhwT3BlcmF0b3I6ZnVuY3Rpb24oY2gpe3JldHVybiItIj09PWNofHwiKyI9PT1jaHx8dGhpcy5pc051bWJlcihjaCl9LHRocm93RXJyb3I6ZnVuY3Rpb24oZXJyb3Isc3RhcnQsZW5kKXtlbmQ9ZW5kfHx0aGlzLmluZGV4O3ZhciBjb2xTdHI9aXNEZWZpbmVkKHN0YXJ0KT8icyAiK3N0YXJ0KyItIit0aGlzLmluZGV4KyIgWyIrdGhpcy50ZXh0LnN1YnN0cmluZyhzdGFydCxlbmQpKyJdIjoiICIrZW5kO3Rocm93ICRwYXJzZU1pbkVycigibGV4ZXJyIiwiTGV4ZXIgRXJyb3I6IHswfSBhdCBjb2x1bW57MX0gaW4gZXhwcmVzc2lvbiBbezJ9XS4iLGVycm9yLGNvbFN0cix0aGlzLnRleHQpfSxyZWFkTnVtYmVyOmZ1bmN0aW9uKCl7Zm9yKHZhciBudW1iZXI9IiIsc3RhcnQ9dGhpcy5pbmRleDt0aGlzLmluZGV4PHRoaXMudGV4dC5sZW5ndGg7KXt2YXIgY2g9bG93ZXJjYXNlKHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCkpO2lmKCIuIj09Y2h8fHRoaXMuaXNOdW1iZXIoY2gpKW51bWJlcis9Y2g7ZWxzZXt2YXIgcGVla0NoPXRoaXMucGVlaygpO2lmKCJlIj09Y2gmJnRoaXMuaXNFeHBPcGVyYXRvcihwZWVrQ2gpKW51bWJlcis9Y2g7ZWxzZSBpZih0aGlzLmlzRXhwT3BlcmF0b3IoY2gpJiZwZWVrQ2gmJnRoaXMuaXNOdW1iZXIocGVla0NoKSYmImUiPT1udW1iZXIuY2hhckF0KG51bWJlci5sZW5ndGgtMSkpbnVtYmVyKz1jaDtlbHNle2lmKCF0aGlzLmlzRXhwT3BlcmF0b3IoY2gpfHxwZWVrQ2gmJnRoaXMuaXNOdW1iZXIocGVla0NoKXx8ImUiIT1udW1iZXIuY2hhckF0KG51bWJlci5sZW5ndGgtMSkpYnJlYWs7dGhpcy50aHJvd0Vycm9yKCJJbnZhbGlkIGV4cG9uZW50Iil9fXRoaXMuaW5kZXgrK31udW1iZXI9MSpudW1iZXIsdGhpcy50b2tlbnMucHVzaCh7aW5kZXg6c3RhcnQsdGV4dDpudW1iZXIsbGl0ZXJhbDohMCxjb25zdGFudDohMCxmbjpmdW5jdGlvbigpe3JldHVybiBudW1iZXJ9fSl9LHJlYWRJZGVudDpmdW5jdGlvbigpe2Zvcih2YXIgbGFzdERvdCxwZWVrSW5kZXgsbWV0aG9kTmFtZSxjaCxwYXJzZXI9dGhpcyxpZGVudD0iIixzdGFydD10aGlzLmluZGV4O3RoaXMuaW5kZXg8dGhpcy50ZXh0Lmxlbmd0aCYmKGNoPXRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCksIi4iPT09Y2h8fHRoaXMuaXNJZGVudChjaCl8fHRoaXMuaXNOdW1iZXIoY2gpKTspIi4iPT09Y2gmJihsYXN0RG90PXRoaXMuaW5kZXgpLGlkZW50Kz1jaCx0aGlzLmluZGV4Kys7aWYobGFzdERvdClmb3IocGVla0luZGV4PXRoaXMuaW5kZXg7cGVla0luZGV4PHRoaXMudGV4dC5sZW5ndGg7KXtpZihjaD10aGlzLnRleHQuY2hhckF0KHBlZWtJbmRleCksIigiPT09Y2gpe21ldGhvZE5hbWU9aWRlbnQuc3Vic3RyKGxhc3REb3Qtc3RhcnQrMSksaWRlbnQ9aWRlbnQuc3Vic3RyKDAsbGFzdERvdC1zdGFydCksdGhpcy5pbmRleD1wZWVrSW5kZXg7YnJlYWt9aWYoIXRoaXMuaXNXaGl0ZXNwYWNlKGNoKSlicmVhaztwZWVrSW5kZXgrK312YXIgdG9rZW49e2luZGV4OnN0YXJ0LHRleHQ6aWRlbnR9O2lmKE9QRVJBVE9SUy5oYXNPd25Qcm9wZXJ0eShpZGVudCkpdG9rZW4uZm49T1BFUkFUT1JTW2lkZW50XSx0b2tlbi5saXRlcmFsPSEwLHRva2VuLmNvbnN0YW50PSEwO2Vsc2V7dmFyIGdldHRlcj1nZXR0ZXJGbihpZGVudCx0aGlzLm9wdGlvbnMsdGhpcy50ZXh0KTt0b2tlbi5mbj1leHRlbmQoZnVuY3Rpb24oc2VsZixsb2NhbHMpe3JldHVybiBnZXR0ZXIoc2VsZixsb2NhbHMpfSx7YXNzaWduOmZ1bmN0aW9uKHNlbGYsdmFsdWUpe3JldHVybiBzZXR0ZXIoc2VsZixpZGVudCx2YWx1ZSxwYXJzZXIudGV4dCxwYXJzZXIub3B0aW9ucyl9fSl9dGhpcy50b2tlbnMucHVzaCh0b2tlbiksbWV0aG9kTmFtZSYmKHRoaXMudG9rZW5zLnB1c2goe2luZGV4Omxhc3REb3QsdGV4dDoiLiJ9KSx0aGlzLnRva2Vucy5wdXNoKHtpbmRleDpsYXN0RG90KzEsdGV4dDptZXRob2ROYW1lfSkpfSxyZWFkU3RyaW5nOmZ1bmN0aW9uKHF1b3RlKXt2YXIgc3RhcnQ9dGhpcy5pbmRleDt0aGlzLmluZGV4Kys7Zm9yKHZhciBzdHJpbmc9IiIscmF3U3RyaW5nPXF1b3RlLGVzY2FwZT0hMTt0aGlzLmluZGV4PHRoaXMudGV4dC5sZW5ndGg7KXt2YXIgY2g9dGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KTtpZihyYXdTdHJpbmcrPWNoLGVzY2FwZSl7aWYoInUiPT09Y2gpe3ZhciBoZXg9dGhpcy50ZXh0LnN1YnN0cmluZyh0aGlzLmluZGV4KzEsdGhpcy5pbmRleCs1KTtoZXgubWF0Y2goL1tcZGEtZl17NH0vaSl8fHRoaXMudGhyb3dFcnJvcigiSW52YWxpZCB1bmljb2RlIGVzY2FwZSBbXFx1IitoZXgrIl0iKSx0aGlzLmluZGV4Kz00LHN0cmluZys9U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChoZXgsMTYpKX1lbHNle3ZhciByZXA9RVNDQVBFW2NoXTtzdHJpbmcrPXJlcHx8Y2h9ZXNjYXBlPSExfWVsc2UgaWYoIlxcIj09PWNoKWVzY2FwZT0hMDtlbHNle2lmKGNoPT09cXVvdGUpcmV0dXJuIHRoaXMuaW5kZXgrKyx2b2lkIHRoaXMudG9rZW5zLnB1c2goe2luZGV4OnN0YXJ0LHRleHQ6cmF3U3RyaW5nLHN0cmluZzpzdHJpbmcsbGl0ZXJhbDohMCxjb25zdGFudDohMCxmbjpmdW5jdGlvbigpe3JldHVybiBzdHJpbmd9fSk7c3RyaW5nKz1jaH10aGlzLmluZGV4Kyt9dGhpcy50aHJvd0Vycm9yKCJVbnRlcm1pbmF0ZWQgcXVvdGUiLHN0YXJ0KX19O3ZhciBQYXJzZXI9ZnVuY3Rpb24obGV4ZXIsJGZpbHRlcixvcHRpb25zKXt0aGlzLmxleGVyPWxleGVyLHRoaXMuJGZpbHRlcj0kZmlsdGVyLHRoaXMub3B0aW9ucz1vcHRpb25zfTtQYXJzZXIuWkVSTz1leHRlbmQoZnVuY3Rpb24oKXtyZXR1cm4gMH0se2NvbnN0YW50OiEwfSksUGFyc2VyLnByb3RvdHlwZT17Y29uc3RydWN0b3I6UGFyc2VyLHBhcnNlOmZ1bmN0aW9uKHRleHQpe3RoaXMudGV4dD10ZXh0LHRoaXMudG9rZW5zPXRoaXMubGV4ZXIubGV4KHRleHQpO3ZhciB2YWx1ZT10aGlzLnN0YXRlbWVudHMoKTtyZXR1cm4gMCE9PXRoaXMudG9rZW5zLmxlbmd0aCYmdGhpcy50aHJvd0Vycm9yKCJpcyBhbiB1bmV4cGVjdGVkIHRva2VuIix0aGlzLnRva2Vuc1swXSksdmFsdWUubGl0ZXJhbD0hIXZhbHVlLmxpdGVyYWwsdmFsdWUuY29uc3RhbnQ9ISF2YWx1ZS5jb25zdGFudCx2YWx1ZX0scHJpbWFyeTpmdW5jdGlvbigpe3ZhciBwcmltYXJ5O2lmKHRoaXMuZXhwZWN0KCIoIikpcHJpbWFyeT10aGlzLmZpbHRlckNoYWluKCksdGhpcy5jb25zdW1lKCIpIik7ZWxzZSBpZih0aGlzLmV4cGVjdCgiWyIpKXByaW1hcnk9dGhpcy5hcnJheURlY2xhcmF0aW9uKCk7ZWxzZSBpZih0aGlzLmV4cGVjdCgieyIpKXByaW1hcnk9dGhpcy5vYmplY3QoKTtlbHNle3ZhciB0b2tlbj10aGlzLmV4cGVjdCgpO3ByaW1hcnk9dG9rZW4uZm4scHJpbWFyeXx8dGhpcy50aHJvd0Vycm9yKCJub3QgYSBwcmltYXJ5IGV4cHJlc3Npb24iLHRva2VuKSxwcmltYXJ5LmxpdGVyYWw9ISF0b2tlbi5saXRlcmFsLHByaW1hcnkuY29uc3RhbnQ9ISF0b2tlbi5jb25zdGFudH1mb3IodmFyIG5leHQsY29udGV4dDtuZXh0PXRoaXMuZXhwZWN0KCIoIiwiWyIsIi4iKTspIigiPT09bmV4dC50ZXh0PyhwcmltYXJ5PXRoaXMuZnVuY3Rpb25DYWxsKHByaW1hcnksY29udGV4dCksY29udGV4dD1udWxsKToiWyI9PT1uZXh0LnRleHQ/KGNvbnRleHQ9cHJpbWFyeSxwcmltYXJ5PXRoaXMub2JqZWN0SW5kZXgocHJpbWFyeSkpOiIuIj09PW5leHQudGV4dD8oY29udGV4dD1wcmltYXJ5LHByaW1hcnk9dGhpcy5maWVsZEFjY2VzcyhwcmltYXJ5KSk6dGhpcy50aHJvd0Vycm9yKCJJTVBPU1NJQkxFIik7cmV0dXJuIHByaW1hcnl9LHRocm93RXJyb3I6ZnVuY3Rpb24obXNnLHRva2VuKXt0aHJvdyAkcGFyc2VNaW5FcnIoInN5bnRheCIsIlN5bnRheCBFcnJvcjogVG9rZW4gJ3swfScgezF9IGF0IGNvbHVtbiB7Mn0gb2YgdGhlIGV4cHJlc3Npb24gW3szfV0gc3RhcnRpbmcgYXQgW3s0fV0uIix0b2tlbi50ZXh0LG1zZyx0b2tlbi5pbmRleCsxLHRoaXMudGV4dCx0aGlzLnRleHQuc3Vic3RyaW5nKHRva2VuLmluZGV4KSl9LHBlZWtUb2tlbjpmdW5jdGlvbigpe2lmKDA9PT10aGlzLnRva2Vucy5sZW5ndGgpdGhyb3cgJHBhcnNlTWluRXJyKCJ1ZW9lIiwiVW5leHBlY3RlZCBlbmQgb2YgZXhwcmVzc2lvbjogezB9Iix0aGlzLnRleHQpO3JldHVybiB0aGlzLnRva2Vuc1swXX0scGVlazpmdW5jdGlvbihlMSxlMixlMyxlNCl7aWYodGhpcy50b2tlbnMubGVuZ3RoPjApe3ZhciB0b2tlbj10aGlzLnRva2Vuc1swXSx0PXRva2VuLnRleHQ7aWYodD09PWUxfHx0PT09ZTJ8fHQ9PT1lM3x8dD09PWU0fHwhZTEmJiFlMiYmIWUzJiYhZTQpcmV0dXJuIHRva2VufXJldHVybiExfSxleHBlY3Q6ZnVuY3Rpb24oZTEsZTIsZTMsZTQpe3ZhciB0b2tlbj10aGlzLnBlZWsoZTEsZTIsZTMsZTQpO3JldHVybiB0b2tlbj8odGhpcy50b2tlbnMuc2hpZnQoKSx0b2tlbik6ITF9LGNvbnN1bWU6ZnVuY3Rpb24oZTEpe3RoaXMuZXhwZWN0KGUxKXx8dGhpcy50aHJvd0Vycm9yKCJpcyB1bmV4cGVjdGVkLCBleHBlY3RpbmcgWyIrZTErIl0iLHRoaXMucGVlaygpKX0sdW5hcnlGbjpmdW5jdGlvbihmbixyaWdodCl7cmV0dXJuIGV4dGVuZChmdW5jdGlvbihzZWxmLGxvY2Fscyl7cmV0dXJuIGZuKHNlbGYsbG9jYWxzLHJpZ2h0KX0se2NvbnN0YW50OnJpZ2h0LmNvbnN0YW50fSl9LHRlcm5hcnlGbjpmdW5jdGlvbihsZWZ0LG1pZGRsZSxyaWdodCl7cmV0dXJuIGV4dGVuZChmdW5jdGlvbihzZWxmLGxvY2Fscyl7cmV0dXJuIGxlZnQoc2VsZixsb2NhbHMpP21pZGRsZShzZWxmLGxvY2Fscyk6cmlnaHQoc2VsZixsb2NhbHMpfSx7Y29uc3RhbnQ6bGVmdC5jb25zdGFudCYmbWlkZGxlLmNvbnN0YW50JiZyaWdodC5jb25zdGFudH0pfSxiaW5hcnlGbjpmdW5jdGlvbihsZWZ0LGZuLHJpZ2h0KXtyZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uKHNlbGYsbG9jYWxzKXtyZXR1cm4gZm4oc2VsZixsb2NhbHMsbGVmdCxyaWdodCl9LHtjb25zdGFudDpsZWZ0LmNvbnN0YW50JiZyaWdodC5jb25zdGFudH0pfSxzdGF0ZW1lbnRzOmZ1bmN0aW9uKCl7Zm9yKHZhciBzdGF0ZW1lbnRzPVtdOzspaWYodGhpcy50b2tlbnMubGVuZ3RoPjAmJiF0aGlzLnBlZWsoIn0iLCIpIiwiOyIsIl0iKSYmc3RhdGVtZW50cy5wdXNoKHRoaXMuZmlsdGVyQ2hhaW4oKSksIXRoaXMuZXhwZWN0KCI7IikpcmV0dXJuIDE9PT1zdGF0ZW1lbnRzLmxlbmd0aD9zdGF0ZW1lbnRzWzBdOmZ1bmN0aW9uKHNlbGYsbG9jYWxzKXtmb3IodmFyIHZhbHVlLGk9MDtpPHN0YXRlbWVudHMubGVuZ3RoO2krKyl7dmFyIHN0YXRlbWVudD1zdGF0ZW1lbnRzW2ldO3N0YXRlbWVudCYmKHZhbHVlPXN0YXRlbWVudChzZWxmLGxvY2FscykpfXJldHVybiB2YWx1ZX19LGZpbHRlckNoYWluOmZ1bmN0aW9uKCl7Zm9yKHZhciB0b2tlbixsZWZ0PXRoaXMuZXhwcmVzc2lvbigpOzspe2lmKCEodG9rZW49dGhpcy5leHBlY3QoInwiKSkpcmV0dXJuIGxlZnQ7bGVmdD10aGlzLmJpbmFyeUZuKGxlZnQsdG9rZW4uZm4sdGhpcy5maWx0ZXIoKSl9fSxmaWx0ZXI6ZnVuY3Rpb24oKXtmb3IodmFyIHRva2VuPXRoaXMuZXhwZWN0KCksZm49dGhpcy4kZmlsdGVyKHRva2VuLnRleHQpLGFyZ3NGbj1bXTs7KXtpZighKHRva2VuPXRoaXMuZXhwZWN0KCI6IikpKXt2YXIgZm5JbnZva2U9ZnVuY3Rpb24oc2VsZixsb2NhbHMsaW5wdXQpe2Zvcih2YXIgYXJncz1baW5wdXRdLGk9MDtpPGFyZ3NGbi5sZW5ndGg7aSsrKWFyZ3MucHVzaChhcmdzRm5baV0oc2VsZixsb2NhbHMpKTtyZXR1cm4gZm4uYXBwbHkoc2VsZixhcmdzKX07cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGZuSW52b2tlfX1hcmdzRm4ucHVzaCh0aGlzLmV4cHJlc3Npb24oKSl9fSxleHByZXNzaW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXNzaWdubWVudCgpfSxhc3NpZ25tZW50OmZ1bmN0aW9uKCl7dmFyIHJpZ2h0LHRva2VuLGxlZnQ9dGhpcy50ZXJuYXJ5KCk7cmV0dXJuKHRva2VuPXRoaXMuZXhwZWN0KCI9IikpPyhsZWZ0LmFzc2lnbnx8dGhpcy50aHJvd0Vycm9yKCJpbXBsaWVzIGFzc2lnbm1lbnQgYnV0IFsiK3RoaXMudGV4dC5zdWJzdHJpbmcoMCx0b2tlbi5pbmRleCkrIl0gY2FuIG5vdCBiZSBhc3NpZ25lZCB0byIsdG9rZW4pLHJpZ2h0PXRoaXMudGVybmFyeSgpLGZ1bmN0aW9uKHNjb3BlLGxvY2Fscyl7cmV0dXJuIGxlZnQuYXNzaWduKHNjb3BlLHJpZ2h0KHNjb3BlLGxvY2FscyksbG9jYWxzKX0pOmxlZnR9LHRlcm5hcnk6ZnVuY3Rpb24oKXt2YXIgbWlkZGxlLHRva2VuLGxlZnQ9dGhpcy5sb2dpY2FsT1IoKTtyZXR1cm4odG9rZW49dGhpcy5leHBlY3QoIj8iKSk/KG1pZGRsZT10aGlzLmFzc2lnbm1lbnQoKSwodG9rZW49dGhpcy5leHBlY3QoIjoiKSk/dGhpcy50ZXJuYXJ5Rm4obGVmdCxtaWRkbGUsdGhpcy5hc3NpZ25tZW50KCkpOnZvaWQgdGhpcy50aHJvd0Vycm9yKCJleHBlY3RlZCA6Iix0b2tlbikpOmxlZnR9LGxvZ2ljYWxPUjpmdW5jdGlvbigpe2Zvcih2YXIgdG9rZW4sbGVmdD10aGlzLmxvZ2ljYWxBTkQoKTs7KXtpZighKHRva2VuPXRoaXMuZXhwZWN0KCJ8fCIpKSlyZXR1cm4gbGVmdDtsZWZ0PXRoaXMuYmluYXJ5Rm4obGVmdCx0b2tlbi5mbix0aGlzLmxvZ2ljYWxBTkQoKSl9fSxsb2dpY2FsQU5EOmZ1bmN0aW9uKCl7dmFyIHRva2VuLGxlZnQ9dGhpcy5lcXVhbGl0eSgpO3JldHVybih0b2tlbj10aGlzLmV4cGVjdCgiJiYiKSkmJihsZWZ0PXRoaXMuYmluYXJ5Rm4obGVmdCx0b2tlbi5mbix0aGlzLmxvZ2ljYWxBTkQoKSkpLGxlZnR9LGVxdWFsaXR5OmZ1bmN0aW9uKCl7dmFyIHRva2VuLGxlZnQ9dGhpcy5yZWxhdGlvbmFsKCk7cmV0dXJuKHRva2VuPXRoaXMuZXhwZWN0KCI9PSIsIiE9IiwiPT09IiwiIT09IikpJiYobGVmdD10aGlzLmJpbmFyeUZuKGxlZnQsdG9rZW4uZm4sdGhpcy5lcXVhbGl0eSgpKSksbGVmdH0scmVsYXRpb25hbDpmdW5jdGlvbigpe3ZhciB0b2tlbixsZWZ0PXRoaXMuYWRkaXRpdmUoKTtyZXR1cm4odG9rZW49dGhpcy5leHBlY3QoIjwiLCI+IiwiPD0iLCI+PSIpKSYmKGxlZnQ9dGhpcy5iaW5hcnlGbihsZWZ0LHRva2VuLmZuLHRoaXMucmVsYXRpb25hbCgpKSksbGVmdH0sYWRkaXRpdmU6ZnVuY3Rpb24oKXtmb3IodmFyIHRva2VuLGxlZnQ9dGhpcy5tdWx0aXBsaWNhdGl2ZSgpO3Rva2VuPXRoaXMuZXhwZWN0KCIrIiwiLSIpOylsZWZ0PXRoaXMuYmluYXJ5Rm4obGVmdCx0b2tlbi5mbix0aGlzLm11bHRpcGxpY2F0aXZlKCkpO3JldHVybiBsZWZ0fSxtdWx0aXBsaWNhdGl2ZTpmdW5jdGlvbigpe2Zvcih2YXIgdG9rZW4sbGVmdD10aGlzLnVuYXJ5KCk7dG9rZW49dGhpcy5leHBlY3QoIioiLCIvIiwiJSIpOylsZWZ0PXRoaXMuYmluYXJ5Rm4obGVmdCx0b2tlbi5mbix0aGlzLnVuYXJ5KCkpO3JldHVybiBsZWZ0fSx1bmFyeTpmdW5jdGlvbigpe3ZhciB0b2tlbjtyZXR1cm4gdGhpcy5leHBlY3QoIisiKT90aGlzLnByaW1hcnkoKToodG9rZW49dGhpcy5leHBlY3QoIi0iKSk/dGhpcy5iaW5hcnlGbihQYXJzZXIuWkVSTyx0b2tlbi5mbix0aGlzLnVuYXJ5KCkpOih0b2tlbj10aGlzLmV4cGVjdCgiISIpKT90aGlzLnVuYXJ5Rm4odG9rZW4uZm4sdGhpcy51bmFyeSgpKTp0aGlzLnByaW1hcnkoKX0sZmllbGRBY2Nlc3M6ZnVuY3Rpb24ob2JqZWN0KXt2YXIgcGFyc2VyPXRoaXMsZmllbGQ9dGhpcy5leHBlY3QoKS50ZXh0LGdldHRlcj1nZXR0ZXJGbihmaWVsZCx0aGlzLm9wdGlvbnMsdGhpcy50ZXh0KTtyZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uKHNjb3BlLGxvY2FscyxzZWxmKXtyZXR1cm4gZ2V0dGVyKHNlbGZ8fG9iamVjdChzY29wZSxsb2NhbHMpKX0se2Fzc2lnbjpmdW5jdGlvbihzY29wZSx2YWx1ZSxsb2NhbHMpe3ZhciBvPW9iamVjdChzY29wZSxsb2NhbHMpO3JldHVybiBvfHxvYmplY3QuYXNzaWduKHNjb3BlLG89e30pLHNldHRlcihvLGZpZWxkLHZhbHVlLHBhcnNlci50ZXh0LHBhcnNlci5vcHRpb25zKX19KX0sb2JqZWN0SW5kZXg6ZnVuY3Rpb24ob2JqKXt2YXIgcGFyc2VyPXRoaXMsaW5kZXhGbj10aGlzLmV4cHJlc3Npb24oKTtyZXR1cm4gdGhpcy5jb25zdW1lKCJdIiksZXh0ZW5kKGZ1bmN0aW9uKHNlbGYsbG9jYWxzKXt2YXIgdixwLG89b2JqKHNlbGYsbG9jYWxzKSxpPWluZGV4Rm4oc2VsZixsb2NhbHMpO3JldHVybiBlbnN1cmVTYWZlTWVtYmVyTmFtZShpLHBhcnNlci50ZXh0KSxvPyh2PWVuc3VyZVNhZmVPYmplY3Qob1tpXSxwYXJzZXIudGV4dCksdiYmdi50aGVuJiZwYXJzZXIub3B0aW9ucy51bndyYXBQcm9taXNlcyYmKHA9diwiJCR2ImluIHZ8fChwLiQkdj11bmRlZmluZWQscC50aGVuKGZ1bmN0aW9uKHZhbCl7cC4kJHY9dmFsfSkpLHY9di4kJHYpLHYpOnVuZGVmaW5lZH0se2Fzc2lnbjpmdW5jdGlvbihzZWxmLHZhbHVlLGxvY2Fscyl7dmFyIGtleT1lbnN1cmVTYWZlTWVtYmVyTmFtZShpbmRleEZuKHNlbGYsbG9jYWxzKSxwYXJzZXIudGV4dCksbz1lbnN1cmVTYWZlT2JqZWN0KG9iaihzZWxmLGxvY2FscykscGFyc2VyLnRleHQpO3JldHVybiBvfHxvYmouYXNzaWduKHNlbGYsbz17fSksb1trZXldPXZhbHVlfX0pfSxmdW5jdGlvbkNhbGw6ZnVuY3Rpb24oZm4sY29udGV4dEdldHRlcil7dmFyIGFyZ3NGbj1bXTtpZigiKSIhPT10aGlzLnBlZWtUb2tlbigpLnRleHQpZG8gYXJnc0ZuLnB1c2godGhpcy5leHByZXNzaW9uKCkpO3doaWxlKHRoaXMuZXhwZWN0KCIsIikpO3RoaXMuY29uc3VtZSgiKSIpO3ZhciBwYXJzZXI9dGhpcztyZXR1cm4gZnVuY3Rpb24oc2NvcGUsbG9jYWxzKXtmb3IodmFyIGFyZ3M9W10sY29udGV4dD1jb250ZXh0R2V0dGVyP2NvbnRleHRHZXR0ZXIoc2NvcGUsbG9jYWxzKTpzY29wZSxpPTA7aTxhcmdzRm4ubGVuZ3RoO2krKylhcmdzLnB1c2goZW5zdXJlU2FmZU9iamVjdChhcmdzRm5baV0oc2NvcGUsbG9jYWxzKSxwYXJzZXIudGV4dCkpO3ZhciBmblB0cj1mbihzY29wZSxsb2NhbHMsY29udGV4dCl8fG5vb3A7ZW5zdXJlU2FmZU9iamVjdChjb250ZXh0LHBhcnNlci50ZXh0KSxlbnN1cmVTYWZlRnVuY3Rpb24oZm5QdHIscGFyc2VyLnRleHQpO3ZhciB2PWZuUHRyLmFwcGx5P2ZuUHRyLmFwcGx5KGNvbnRleHQsYXJncyk6Zm5QdHIoYXJnc1swXSxhcmdzWzFdLGFyZ3NbMl0sYXJnc1szXSxhcmdzWzRdKTtyZXR1cm4gZW5zdXJlU2FmZU9iamVjdCh2LHBhcnNlci50ZXh0KX19LGFycmF5RGVjbGFyYXRpb246ZnVuY3Rpb24oKXt2YXIgZWxlbWVudEZucz1bXSxhbGxDb25zdGFudD0hMDtpZigiXSIhPT10aGlzLnBlZWtUb2tlbigpLnRleHQpZG97aWYodGhpcy5wZWVrKCJdIikpYnJlYWs7dmFyIGVsZW1lbnRGbj10aGlzLmV4cHJlc3Npb24oKTtlbGVtZW50Rm5zLnB1c2goZWxlbWVudEZuKSxlbGVtZW50Rm4uY29uc3RhbnR8fChhbGxDb25zdGFudD0hMSl9d2hpbGUodGhpcy5leHBlY3QoIiwiKSk7cmV0dXJuIHRoaXMuY29uc3VtZSgiXSIpLGV4dGVuZChmdW5jdGlvbihzZWxmLGxvY2Fscyl7Zm9yKHZhciBhcnJheT1bXSxpPTA7aTxlbGVtZW50Rm5zLmxlbmd0aDtpKyspYXJyYXkucHVzaChlbGVtZW50Rm5zW2ldKHNlbGYsbG9jYWxzKSk7cmV0dXJuIGFycmF5fSx7bGl0ZXJhbDohMCxjb25zdGFudDphbGxDb25zdGFudH0pfSxvYmplY3Q6ZnVuY3Rpb24oKXt2YXIga2V5VmFsdWVzPVtdLGFsbENvbnN0YW50PSEwO2lmKCJ9IiE9PXRoaXMucGVla1Rva2VuKCkudGV4dClkb3tpZih0aGlzLnBlZWsoIn0iKSlicmVhazt2YXIgdG9rZW49dGhpcy5leHBlY3QoKSxrZXk9dG9rZW4uc3RyaW5nfHx0b2tlbi50ZXh0O3RoaXMuY29uc3VtZSgiOiIpO3ZhciB2YWx1ZT10aGlzLmV4cHJlc3Npb24oKTtrZXlWYWx1ZXMucHVzaCh7a2V5OmtleSx2YWx1ZTp2YWx1ZX0pLHZhbHVlLmNvbnN0YW50fHwoYWxsQ29uc3RhbnQ9ITEpfXdoaWxlKHRoaXMuZXhwZWN0KCIsIikpO3JldHVybiB0aGlzLmNvbnN1bWUoIn0iKSxleHRlbmQoZnVuY3Rpb24oc2VsZixsb2NhbHMpe2Zvcih2YXIgb2JqZWN0PXt9LGk9MDtpPGtleVZhbHVlcy5sZW5ndGg7aSsrKXt2YXIga2V5VmFsdWU9a2V5VmFsdWVzW2ldO29iamVjdFtrZXlWYWx1ZS5rZXldPWtleVZhbHVlLnZhbHVlKHNlbGYsbG9jYWxzKX1yZXR1cm4gb2JqZWN0fSx7bGl0ZXJhbDohMCxjb25zdGFudDphbGxDb25zdGFudH0pfX07dmFyIGdldHRlckZuQ2FjaGU9e30sJHNjZU1pbkVycj1taW5FcnIoIiRzY2UiKSxTQ0VfQ09OVEVYVFM9e0hUTUw6Imh0bWwiLENTUzoiY3NzIixVUkw6InVybCIsUkVTT1VSQ0VfVVJMOiJyZXNvdXJjZVVybCIsSlM6ImpzIn0sdXJsUGFyc2luZ05vZGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpLG9yaWdpblVybD11cmxSZXNvbHZlKHdpbmRvdy5sb2NhdGlvbi5ocmVmLCEwKTskRmlsdGVyUHJvdmlkZXIuJGluamVjdD1bIiRwcm92aWRlIl0sY3VycmVuY3lGaWx0ZXIuJGluamVjdD1bIiRsb2NhbGUiXSxudW1iZXJGaWx0ZXIuJGluamVjdD1bIiRsb2NhbGUiXTt2YXIgREVDSU1BTF9TRVA9Ii4iLERBVEVfRk9STUFUUz17eXl5eTpkYXRlR2V0dGVyKCJGdWxsWWVhciIsNCkseXk6ZGF0ZUdldHRlcigiRnVsbFllYXIiLDIsMCwhMCkseTpkYXRlR2V0dGVyKCJGdWxsWWVhciIsMSksTU1NTTpkYXRlU3RyR2V0dGVyKCJNb250aCIpLE1NTTpkYXRlU3RyR2V0dGVyKCJNb250aCIsITApLE1NOmRhdGVHZXR0ZXIoIk1vbnRoIiwyLDEpLE06ZGF0ZUdldHRlcigiTW9udGgiLDEsMSksZGQ6ZGF0ZUdldHRlcigiRGF0ZSIsMiksZDpkYXRlR2V0dGVyKCJEYXRlIiwxKSxISDpkYXRlR2V0dGVyKCJIb3VycyIsMiksSDpkYXRlR2V0dGVyKCJIb3VycyIsMSksaGg6ZGF0ZUdldHRlcigiSG91cnMiLDIsLTEyKSxoOmRhdGVHZXR0ZXIoIkhvdXJzIiwxLC0xMiksbW06ZGF0ZUdldHRlcigiTWludXRlcyIsMiksbTpkYXRlR2V0dGVyKCJNaW51dGVzIiwxKSxzczpkYXRlR2V0dGVyKCJTZWNvbmRzIiwyKSxzOmRhdGVHZXR0ZXIoIlNlY29uZHMiLDEpLHNzczpkYXRlR2V0dGVyKCJNaWxsaXNlY29uZHMiLDMpLEVFRUU6ZGF0ZVN0ckdldHRlcigiRGF5IiksRUVFOmRhdGVTdHJHZXR0ZXIoIkRheSIsITApLGE6YW1wbUdldHRlcixaOnRpbWVab25lR2V0dGVyfSxEQVRFX0ZPUk1BVFNfU1BMSVQ9LygoPzpbXnlNZEhobXNhWkUnXSspfCg/OicoPzpbXiddfCcnKSonKXwoPzpFK3x5K3xNK3xkK3xIK3xoK3xtK3xzK3xhfFopKSguKikvLE5VTUJFUl9TVFJJTkc9L15cLT9cZCskLztkYXRlRmlsdGVyLiRpbmplY3Q9WyIkbG9jYWxlIl07dmFyIGxvd2VyY2FzZUZpbHRlcj12YWx1ZUZuKGxvd2VyY2FzZSksdXBwZXJjYXNlRmlsdGVyPXZhbHVlRm4odXBwZXJjYXNlKTtvcmRlckJ5RmlsdGVyLiRpbmplY3Q9WyIkcGFyc2UiXTt2YXIgaHRtbEFuY2hvckRpcmVjdGl2ZT12YWx1ZUZuKHtyZXN0cmljdDoiRSIsY29tcGlsZTpmdW5jdGlvbihlbGVtZW50LGF0dHIpe3JldHVybiA4Pj1tc2llJiYoYXR0ci5ocmVmfHxhdHRyLm5hbWV8fGF0dHIuJHNldCgiaHJlZiIsIiIpLGVsZW1lbnQuYXBwZW5kKGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoIklFIGZpeCIpKSksYXR0ci5ocmVmfHxhdHRyLnhsaW5rSHJlZnx8YXR0ci5uYW1lP3ZvaWQgMDpmdW5jdGlvbihzY29wZSxlbGVtZW50KXt2YXIgaHJlZj0iW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ10iPT09dG9TdHJpbmcuY2FsbChlbGVtZW50LnByb3AoImhyZWYiKSk/InhsaW5rOmhyZWYiOiJocmVmIjtlbGVtZW50Lm9uKCJjbGljayIsZnVuY3Rpb24oZXZlbnQpe2VsZW1lbnQuYXR0cihocmVmKXx8ZXZlbnQucHJldmVudERlZmF1bHQoKX0pfX19KSxuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcz17fTtmb3JFYWNoKEJPT0xFQU5fQVRUUixmdW5jdGlvbihwcm9wTmFtZSxhdHRyTmFtZSl7aWYoIm11bHRpcGxlIiE9cHJvcE5hbWUpe3ZhciBub3JtYWxpemVkPWRpcmVjdGl2ZU5vcm1hbGl6ZSgibmctIithdHRyTmFtZSk7bmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXNbbm9ybWFsaXplZF09ZnVuY3Rpb24oKXtyZXR1cm57cHJpb3JpdHk6MTAwLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyKXtzY29wZS4kd2F0Y2goYXR0cltub3JtYWxpemVkXSxmdW5jdGlvbih2YWx1ZSl7YXR0ci4kc2V0KGF0dHJOYW1lLCEhdmFsdWUpfSl9fX19fSksZm9yRWFjaChbInNyYyIsInNyY3NldCIsImhyZWYiXSxmdW5jdGlvbihhdHRyTmFtZSl7dmFyIG5vcm1hbGl6ZWQ9ZGlyZWN0aXZlTm9ybWFsaXplKCJuZy0iK2F0dHJOYW1lKTtuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlc1tub3JtYWxpemVkXT1mdW5jdGlvbigpe3JldHVybntwcmlvcml0eTo5OSxsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cil7dmFyIHByb3BOYW1lPWF0dHJOYW1lLG5hbWU9YXR0ck5hbWU7ImhyZWYiPT09YXR0ck5hbWUmJiJbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXSI9PT10b1N0cmluZy5jYWxsKGVsZW1lbnQucHJvcCgiaHJlZiIpKSYmKG5hbWU9InhsaW5rSHJlZiIsYXR0ci4kYXR0cltuYW1lXT0ieGxpbms6aHJlZiIscHJvcE5hbWU9bnVsbCksYXR0ci4kb2JzZXJ2ZShub3JtYWxpemVkLGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWU/KGF0dHIuJHNldChuYW1lLHZhbHVlKSx2b2lkKG1zaWUmJnByb3BOYW1lJiZlbGVtZW50LnByb3AocHJvcE5hbWUsYXR0cltuYW1lXSkpKTp2b2lkKCJocmVmIj09PWF0dHJOYW1lJiZhdHRyLiRzZXQobmFtZSxudWxsKSl9KX19fX0pO3ZhciBudWxsRm9ybUN0cmw9eyRhZGRDb250cm9sOm5vb3AsJHJlbW92ZUNvbnRyb2w6bm9vcCwkc2V0VmFsaWRpdHk6bm9vcCwkc2V0RGlydHk6bm9vcCwkc2V0UHJpc3RpbmU6bm9vcH07Rm9ybUNvbnRyb2xsZXIuJGluamVjdD1bIiRlbGVtZW50IiwiJGF0dHJzIiwiJHNjb3BlIiwiJGFuaW1hdGUiXTt2YXIgZm9ybURpcmVjdGl2ZUZhY3Rvcnk9ZnVuY3Rpb24oaXNOZ0Zvcm0pe3JldHVyblsiJHRpbWVvdXQiLGZ1bmN0aW9uKCR0aW1lb3V0KXt2YXIgZm9ybURpcmVjdGl2ZT17bmFtZToiZm9ybSIscmVzdHJpY3Q6aXNOZ0Zvcm0/IkVBQyI6IkUiLGNvbnRyb2xsZXI6Rm9ybUNvbnRyb2xsZXIsY29tcGlsZTpmdW5jdGlvbigpe3JldHVybntwcmU6ZnVuY3Rpb24oc2NvcGUsZm9ybUVsZW1lbnQsYXR0cixjb250cm9sbGVyKXtpZighYXR0ci5hY3Rpb24pe3ZhciBwcmV2ZW50RGVmYXVsdExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50KXtldmVudC5wcmV2ZW50RGVmYXVsdD9ldmVudC5wcmV2ZW50RGVmYXVsdCgpOmV2ZW50LnJldHVyblZhbHVlPSExfTthZGRFdmVudExpc3RlbmVyRm4oZm9ybUVsZW1lbnRbMF0sInN1Ym1pdCIscHJldmVudERlZmF1bHRMaXN0ZW5lciksZm9ybUVsZW1lbnQub24oIiRkZXN0cm95IixmdW5jdGlvbigpeyR0aW1lb3V0KGZ1bmN0aW9uKCl7cmVtb3ZlRXZlbnRMaXN0ZW5lckZuKGZvcm1FbGVtZW50WzBdLCJzdWJtaXQiLHByZXZlbnREZWZhdWx0TGlzdGVuZXIpfSwwLCExKX0pfXZhciBwYXJlbnRGb3JtQ3RybD1mb3JtRWxlbWVudC5wYXJlbnQoKS5jb250cm9sbGVyKCJmb3JtIiksYWxpYXM9YXR0ci5uYW1lfHxhdHRyLm5nRm9ybTthbGlhcyYmc2V0dGVyKHNjb3BlLGFsaWFzLGNvbnRyb2xsZXIsYWxpYXMpLHBhcmVudEZvcm1DdHJsJiZmb3JtRWxlbWVudC5vbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7cGFyZW50Rm9ybUN0cmwuJHJlbW92ZUNvbnRyb2woY29udHJvbGxlciksYWxpYXMmJnNldHRlcihzY29wZSxhbGlhcyx1bmRlZmluZWQsYWxpYXMpLGV4dGVuZChjb250cm9sbGVyLG51bGxGb3JtQ3RybCl9KX19fX07cmV0dXJuIGZvcm1EaXJlY3RpdmV9XX0sZm9ybURpcmVjdGl2ZT1mb3JtRGlyZWN0aXZlRmFjdG9yeSgpLG5nRm9ybURpcmVjdGl2ZT1mb3JtRGlyZWN0aXZlRmFjdG9yeSghMCksVVJMX1JFR0VYUD0vXihmdHB8aHR0cHxodHRwcyk6XC9cLyhcdys6ezAsMX1cdypAKT8oXFMrKSg6WzAtOV0rKT8oXC98XC8oW1x3IyE6Lj8rPSYlQCFcLVwvXSkpPyQvLEVNQUlMX1JFR0VYUD0vXlthLXowLTkhIyQlJicqK1wvPT9eX2B7fH1+Li1dK0BbYS16MC05XShbYS16MC05LV0qW2EtejAtOV0pPyhcLlthLXowLTldKFthLXowLTktXSpbYS16MC05XSk/KSokL2ksTlVNQkVSX1JFR0VYUD0vXlxzKihcLXxcKyk/KFxkK3woXGQqKFwuXGQqKSkpXHMqJC8saW5wdXRUeXBlPXt0ZXh0OnRleHRJbnB1dFR5cGUsbnVtYmVyOm51bWJlcklucHV0VHlwZSx1cmw6dXJsSW5wdXRUeXBlLGVtYWlsOmVtYWlsSW5wdXRUeXBlLHJhZGlvOnJhZGlvSW5wdXRUeXBlLGNoZWNrYm94OmNoZWNrYm94SW5wdXRUeXBlLGhpZGRlbjpub29wLGJ1dHRvbjpub29wLHN1Ym1pdDpub29wLHJlc2V0Om5vb3AsZmlsZTpub29wfSxudW1iZXJCYWRGbGFncz1bImJhZElucHV0Il0saW5wdXREaXJlY3RpdmU9WyIkYnJvd3NlciIsIiRzbmlmZmVyIixmdW5jdGlvbigkYnJvd3Nlciwkc25pZmZlcil7cmV0dXJue3Jlc3RyaWN0OiJFIixyZXF1aXJlOiI/bmdNb2RlbCIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIsY3RybCl7Y3RybCYmKGlucHV0VHlwZVtsb3dlcmNhc2UoYXR0ci50eXBlKV18fGlucHV0VHlwZS50ZXh0KShzY29wZSxlbGVtZW50LGF0dHIsY3RybCwkc25pZmZlciwkYnJvd3Nlcil9fX1dLFZBTElEX0NMQVNTPSJuZy12YWxpZCIsSU5WQUxJRF9DTEFTUz0ibmctaW52YWxpZCIsUFJJU1RJTkVfQ0xBU1M9Im5nLXByaXN0aW5lIixESVJUWV9DTEFTUz0ibmctZGlydHkiLE5nTW9kZWxDb250cm9sbGVyPVsiJHNjb3BlIiwiJGV4Y2VwdGlvbkhhbmRsZXIiLCIkYXR0cnMiLCIkZWxlbWVudCIsIiRwYXJzZSIsIiRhbmltYXRlIixmdW5jdGlvbigkc2NvcGUsJGV4Y2VwdGlvbkhhbmRsZXIsJGF0dHIsJGVsZW1lbnQsJHBhcnNlLCRhbmltYXRlKXtmdW5jdGlvbiB0b2dnbGVWYWxpZENzcyhpc1ZhbGlkLHZhbGlkYXRpb25FcnJvcktleSl7dmFsaWRhdGlvbkVycm9yS2V5PXZhbGlkYXRpb25FcnJvcktleT8iLSIrc25ha2VfY2FzZSh2YWxpZGF0aW9uRXJyb3JLZXksIi0iKToiIiwkYW5pbWF0ZS5yZW1vdmVDbGFzcygkZWxlbWVudCwoaXNWYWxpZD9JTlZBTElEX0NMQVNTOlZBTElEX0NMQVNTKSt2YWxpZGF0aW9uRXJyb3JLZXkpLCRhbmltYXRlLmFkZENsYXNzKCRlbGVtZW50LChpc1ZhbGlkP1ZBTElEX0NMQVNTOklOVkFMSURfQ0xBU1MpK3ZhbGlkYXRpb25FcnJvcktleSl9dGhpcy4kdmlld1ZhbHVlPU51bWJlci5OYU4sdGhpcy4kbW9kZWxWYWx1ZT1OdW1iZXIuTmFOLHRoaXMuJHBhcnNlcnM9W10sdGhpcy4kZm9ybWF0dGVycz1bXSx0aGlzLiR2aWV3Q2hhbmdlTGlzdGVuZXJzPVtdLHRoaXMuJHByaXN0aW5lPSEwLHRoaXMuJGRpcnR5PSExLHRoaXMuJHZhbGlkPSEwLHRoaXMuJGludmFsaWQ9ITEsdGhpcy4kbmFtZT0kYXR0ci5uYW1lO3ZhciBuZ01vZGVsR2V0PSRwYXJzZSgkYXR0ci5uZ01vZGVsKSxuZ01vZGVsU2V0PW5nTW9kZWxHZXQuYXNzaWduO2lmKCFuZ01vZGVsU2V0KXRocm93IG1pbkVycigibmdNb2RlbCIpKCJub25hc3NpZ24iLCJFeHByZXNzaW9uICd7MH0nIGlzIG5vbi1hc3NpZ25hYmxlLiBFbGVtZW50OiB7MX0iLCRhdHRyLm5nTW9kZWwsc3RhcnRpbmdUYWcoJGVsZW1lbnQpKTt0aGlzLiRyZW5kZXI9bm9vcCx0aGlzLiRpc0VtcHR5PWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gaXNVbmRlZmluZWQodmFsdWUpfHwiIj09PXZhbHVlfHxudWxsPT09dmFsdWV8fHZhbHVlIT09dmFsdWV9O3ZhciBwYXJlbnRGb3JtPSRlbGVtZW50LmluaGVyaXRlZERhdGEoIiRmb3JtQ29udHJvbGxlciIpfHxudWxsRm9ybUN0cmwsaW52YWxpZENvdW50PTAsJGVycm9yPXRoaXMuJGVycm9yPXt9OyRlbGVtZW50LmFkZENsYXNzKFBSSVNUSU5FX0NMQVNTKSx0b2dnbGVWYWxpZENzcyghMCksdGhpcy4kc2V0VmFsaWRpdHk9ZnVuY3Rpb24odmFsaWRhdGlvbkVycm9yS2V5LGlzVmFsaWQpeyRlcnJvclt2YWxpZGF0aW9uRXJyb3JLZXldIT09IWlzVmFsaWQmJihpc1ZhbGlkPygkZXJyb3JbdmFsaWRhdGlvbkVycm9yS2V5XSYmaW52YWxpZENvdW50LS0saW52YWxpZENvdW50fHwodG9nZ2xlVmFsaWRDc3MoITApLHRoaXMuJHZhbGlkPSEwLHRoaXMuJGludmFsaWQ9ITEpKToodG9nZ2xlVmFsaWRDc3MoITEpLHRoaXMuJGludmFsaWQ9ITAsdGhpcy4kdmFsaWQ9ITEsaW52YWxpZENvdW50KyspLCRlcnJvclt2YWxpZGF0aW9uRXJyb3JLZXldPSFpc1ZhbGlkLHRvZ2dsZVZhbGlkQ3NzKGlzVmFsaWQsdmFsaWRhdGlvbkVycm9yS2V5KSxwYXJlbnRGb3JtLiRzZXRWYWxpZGl0eSh2YWxpZGF0aW9uRXJyb3JLZXksaXNWYWxpZCx0aGlzKSl9LHRoaXMuJHNldFByaXN0aW5lPWZ1bmN0aW9uKCl7dGhpcy4kZGlydHk9ITEsdGhpcy4kcHJpc3RpbmU9ITAsJGFuaW1hdGUucmVtb3ZlQ2xhc3MoJGVsZW1lbnQsRElSVFlfQ0xBU1MpLCRhbmltYXRlLmFkZENsYXNzKCRlbGVtZW50LFBSSVNUSU5FX0NMQVNTKX0sdGhpcy4kc2V0Vmlld1ZhbHVlPWZ1bmN0aW9uKHZhbHVlKXt0aGlzLiR2aWV3VmFsdWU9dmFsdWUsdGhpcy4kcHJpc3RpbmUmJih0aGlzLiRkaXJ0eT0hMCx0aGlzLiRwcmlzdGluZT0hMSwkYW5pbWF0ZS5yZW1vdmVDbGFzcygkZWxlbWVudCxQUklTVElORV9DTEFTUyksJGFuaW1hdGUuYWRkQ2xhc3MoJGVsZW1lbnQsRElSVFlfQ0xBU1MpLHBhcmVudEZvcm0uJHNldERpcnR5KCkpLGZvckVhY2godGhpcy4kcGFyc2VycyxmdW5jdGlvbihmbil7dmFsdWU9Zm4odmFsdWUpfSksdGhpcy4kbW9kZWxWYWx1ZSE9PXZhbHVlJiYodGhpcy4kbW9kZWxWYWx1ZT12YWx1ZSxuZ01vZGVsU2V0KCRzY29wZSx2YWx1ZSksZm9yRWFjaCh0aGlzLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLGZ1bmN0aW9uKGxpc3RlbmVyKXt0cnl7bGlzdGVuZXIoKX1jYXRjaChlKXskZXhjZXB0aW9uSGFuZGxlcihlKX19KSl9O3ZhciBjdHJsPXRoaXM7JHNjb3BlLiR3YXRjaChmdW5jdGlvbigpe3ZhciB2YWx1ZT1uZ01vZGVsR2V0KCRzY29wZSk7aWYoY3RybC4kbW9kZWxWYWx1ZSE9PXZhbHVlKXt2YXIgZm9ybWF0dGVycz1jdHJsLiRmb3JtYXR0ZXJzLGlkeD1mb3JtYXR0ZXJzLmxlbmd0aDtmb3IoY3RybC4kbW9kZWxWYWx1ZT12YWx1ZTtpZHgtLTspdmFsdWU9Zm9ybWF0dGVyc1tpZHhdKHZhbHVlKTtjdHJsLiR2aWV3VmFsdWUhPT12YWx1ZSYmKGN0cmwuJHZpZXdWYWx1ZT12YWx1ZSxjdHJsLiRyZW5kZXIoKSl9cmV0dXJuIHZhbHVlfSl9XSxuZ01vZGVsRGlyZWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJue3JlcXVpcmU6WyJuZ01vZGVsIiwiXj9mb3JtIl0sY29udHJvbGxlcjpOZ01vZGVsQ29udHJvbGxlcixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJscyl7dmFyIG1vZGVsQ3RybD1jdHJsc1swXSxmb3JtQ3RybD1jdHJsc1sxXXx8bnVsbEZvcm1DdHJsO2Zvcm1DdHJsLiRhZGRDb250cm9sKG1vZGVsQ3RybCksc2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtmb3JtQ3RybC4kcmVtb3ZlQ29udHJvbChtb2RlbEN0cmwpfSl9fX0sbmdDaGFuZ2VEaXJlY3RpdmU9dmFsdWVGbih7cmVxdWlyZToibmdNb2RlbCIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIsY3RybCl7Y3RybC4kdmlld0NoYW5nZUxpc3RlbmVycy5wdXNoKGZ1bmN0aW9uKCl7c2NvcGUuJGV2YWwoYXR0ci5uZ0NoYW5nZSl9KX19KSxyZXF1aXJlZERpcmVjdGl2ZT1mdW5jdGlvbigpe3JldHVybntyZXF1aXJlOiI/bmdNb2RlbCIsbGluazpmdW5jdGlvbihzY29wZSxlbG0sYXR0cixjdHJsKXtpZihjdHJsKXthdHRyLnJlcXVpcmVkPSEwO3ZhciB2YWxpZGF0b3I9ZnVuY3Rpb24odmFsdWUpe3JldHVybiBhdHRyLnJlcXVpcmVkJiZjdHJsLiRpc0VtcHR5KHZhbHVlKT92b2lkIGN0cmwuJHNldFZhbGlkaXR5KCJyZXF1aXJlZCIsITEpOihjdHJsLiRzZXRWYWxpZGl0eSgicmVxdWlyZWQiLCEwKSx2YWx1ZSl9O2N0cmwuJGZvcm1hdHRlcnMucHVzaCh2YWxpZGF0b3IpLGN0cmwuJHBhcnNlcnMudW5zaGlmdCh2YWxpZGF0b3IpLGF0dHIuJG9ic2VydmUoInJlcXVpcmVkIixmdW5jdGlvbigpe3ZhbGlkYXRvcihjdHJsLiR2aWV3VmFsdWUpfSl9fX19LG5nTGlzdERpcmVjdGl2ZT1mdW5jdGlvbigpe3JldHVybntyZXF1aXJlOiJuZ01vZGVsIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJsKXt2YXIgbWF0Y2g9L1wvKC4qKVwvLy5leGVjKGF0dHIubmdMaXN0KSxzZXBhcmF0b3I9bWF0Y2gmJm5ldyBSZWdFeHAobWF0Y2hbMV0pfHxhdHRyLm5nTGlzdHx8IiwiLHBhcnNlPWZ1bmN0aW9uKHZpZXdWYWx1ZSl7aWYoIWlzVW5kZWZpbmVkKHZpZXdWYWx1ZSkpe3ZhciBsaXN0PVtdO3JldHVybiB2aWV3VmFsdWUmJmZvckVhY2godmlld1ZhbHVlLnNwbGl0KHNlcGFyYXRvciksZnVuY3Rpb24odmFsdWUpe3ZhbHVlJiZsaXN0LnB1c2godHJpbSh2YWx1ZSkpfSksbGlzdH19O2N0cmwuJHBhcnNlcnMucHVzaChwYXJzZSksY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gaXNBcnJheSh2YWx1ZSk/dmFsdWUuam9pbigiLCAiKTp1bmRlZmluZWR9KSxjdHJsLiRpc0VtcHR5PWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4hdmFsdWV8fCF2YWx1ZS5sZW5ndGh9fX19LENPTlNUQU5UX1ZBTFVFX1JFR0VYUD0vXih0cnVlfGZhbHNlfFxkKykkLyxuZ1ZhbHVlRGlyZWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJue3ByaW9yaXR5OjEwMCxjb21waWxlOmZ1bmN0aW9uKHRwbCx0cGxBdHRyKXtyZXR1cm4gQ09OU1RBTlRfVkFMVUVfUkVHRVhQLnRlc3QodHBsQXR0ci5uZ1ZhbHVlKT9mdW5jdGlvbihzY29wZSxlbG0sYXR0cil7YXR0ci4kc2V0KCJ2YWx1ZSIsc2NvcGUuJGV2YWwoYXR0ci5uZ1ZhbHVlKSl9OmZ1bmN0aW9uKHNjb3BlLGVsbSxhdHRyKXtzY29wZS4kd2F0Y2goYXR0ci5uZ1ZhbHVlLGZ1bmN0aW9uKHZhbHVlKXthdHRyLiRzZXQoInZhbHVlIix2YWx1ZSl9KX19fX0sbmdCaW5kRGlyZWN0aXZlPW5nRGlyZWN0aXZlKHtjb21waWxlOmZ1bmN0aW9uKHRlbXBsYXRlRWxlbWVudCl7cmV0dXJuIHRlbXBsYXRlRWxlbWVudC5hZGRDbGFzcygibmctYmluZGluZyIpLGZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cil7ZWxlbWVudC5kYXRhKCIkYmluZGluZyIsYXR0ci5uZ0JpbmQpLHNjb3BlLiR3YXRjaChhdHRyLm5nQmluZCxmdW5jdGlvbih2YWx1ZSl7ZWxlbWVudC50ZXh0KHZhbHVlPT11bmRlZmluZWQ/IiI6dmFsdWUpfSl9fX0pLG5nQmluZFRlbXBsYXRlRGlyZWN0aXZlPVsiJGludGVycG9sYXRlIixmdW5jdGlvbigkaW50ZXJwb2xhdGUpe3JldHVybiBmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIpe3ZhciBpbnRlcnBvbGF0ZUZuPSRpbnRlcnBvbGF0ZShlbGVtZW50LmF0dHIoYXR0ci4kYXR0ci5uZ0JpbmRUZW1wbGF0ZSkpO2VsZW1lbnQuYWRkQ2xhc3MoIm5nLWJpbmRpbmciKS5kYXRhKCIkYmluZGluZyIsaW50ZXJwb2xhdGVGbiksYXR0ci4kb2JzZXJ2ZSgibmdCaW5kVGVtcGxhdGUiLGZ1bmN0aW9uKHZhbHVlKXtlbGVtZW50LnRleHQodmFsdWUpfSl9fV0sbmdCaW5kSHRtbERpcmVjdGl2ZT1bIiRzY2UiLCIkcGFyc2UiLGZ1bmN0aW9uKCRzY2UsJHBhcnNlKXtyZXR1cm57Y29tcGlsZTpmdW5jdGlvbih0RWxlbWVudCl7cmV0dXJuIHRFbGVtZW50LmFkZENsYXNzKCJuZy1iaW5kaW5nIiksZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyKXtmdW5jdGlvbiBnZXRTdHJpbmdWYWx1ZSgpe3JldHVybihwYXJzZWQoc2NvcGUpfHwiIikudG9TdHJpbmcoKX1lbGVtZW50LmRhdGEoIiRiaW5kaW5nIixhdHRyLm5nQmluZEh0bWwpO3ZhciBwYXJzZWQ9JHBhcnNlKGF0dHIubmdCaW5kSHRtbCk7c2NvcGUuJHdhdGNoKGdldFN0cmluZ1ZhbHVlLGZ1bmN0aW9uKCl7ZWxlbWVudC5odG1sKCRzY2UuZ2V0VHJ1c3RlZEh0bWwocGFyc2VkKHNjb3BlKSl8fCIiKX0pfX19fV0sbmdDbGFzc0RpcmVjdGl2ZT1jbGFzc0RpcmVjdGl2ZSgiIiwhMCksbmdDbGFzc09kZERpcmVjdGl2ZT1jbGFzc0RpcmVjdGl2ZSgiT2RkIiwwKSxuZ0NsYXNzRXZlbkRpcmVjdGl2ZT1jbGFzc0RpcmVjdGl2ZSgiRXZlbiIsMSksbmdDbG9ha0RpcmVjdGl2ZT1uZ0RpcmVjdGl2ZSh7Y29tcGlsZTpmdW5jdGlvbihlbGVtZW50LGF0dHIpe2F0dHIuJHNldCgibmdDbG9hayIsdW5kZWZpbmVkKSxlbGVtZW50LnJlbW92ZUNsYXNzKCJuZy1jbG9hayIpfX0pLG5nQ29udHJvbGxlckRpcmVjdGl2ZT1bZnVuY3Rpb24oKXtyZXR1cm57c2NvcGU6ITAsY29udHJvbGxlcjoiQCIscHJpb3JpdHk6NTAwfX1dLG5nRXZlbnREaXJlY3RpdmVzPXt9LGZvcmNlQXN5bmNFdmVudHM9e2JsdXI6ITAsZm9jdXM6ITB9O2ZvckVhY2goImNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZW1vdmUgbW91c2VlbnRlciBtb3VzZWxlYXZlIGtleWRvd24ga2V5dXAga2V5cHJlc3Mgc3VibWl0IGZvY3VzIGJsdXIgY29weSBjdXQgcGFzdGUiLnNwbGl0KCIgIiksZnVuY3Rpb24oZXZlbnROYW1lKXt2YXIgZGlyZWN0aXZlTmFtZT1kaXJlY3RpdmVOb3JtYWxpemUoIm5nLSIrZXZlbnROYW1lKTtuZ0V2ZW50RGlyZWN0aXZlc1tkaXJlY3RpdmVOYW1lXT1bIiRwYXJzZSIsIiRyb290U2NvcGUiLGZ1bmN0aW9uKCRwYXJzZSwkcm9vdFNjb3BlKXtyZXR1cm57Y29tcGlsZTpmdW5jdGlvbigkZWxlbWVudCxhdHRyKXt2YXIgZm49JHBhcnNlKGF0dHJbZGlyZWN0aXZlTmFtZV0pO3JldHVybiBmdW5jdGlvbihzY29wZSxlbGVtZW50KXtlbGVtZW50Lm9uKGV2ZW50TmFtZSxmdW5jdGlvbihldmVudCl7dmFyIGNhbGxiYWNrPWZ1bmN0aW9uKCl7Zm4oc2NvcGUseyRldmVudDpldmVudH0pfTtmb3JjZUFzeW5jRXZlbnRzW2V2ZW50TmFtZV0mJiRyb290U2NvcGUuJCRwaGFzZT9zY29wZS4kZXZhbEFzeW5jKGNhbGxiYWNrKTpzY29wZS4kYXBwbHkoY2FsbGJhY2spfSl9fX19XX0pO3ZhciBuZ0lmRGlyZWN0aXZlPVsiJGFuaW1hdGUiLGZ1bmN0aW9uKCRhbmltYXRlKXtyZXR1cm57dHJhbnNjbHVkZToiZWxlbWVudCIscHJpb3JpdHk6NjAwLHRlcm1pbmFsOiEwLHJlc3RyaWN0OiJBIiwkJHRsYjohMCxsaW5rOmZ1bmN0aW9uKCRzY29wZSwkZWxlbWVudCwkYXR0cixjdHJsLCR0cmFuc2NsdWRlKXt2YXIgYmxvY2ssY2hpbGRTY29wZSxwcmV2aW91c0VsZW1lbnRzOyRzY29wZS4kd2F0Y2goJGF0dHIubmdJZixmdW5jdGlvbih2YWx1ZSl7dG9Cb29sZWFuKHZhbHVlKT9jaGlsZFNjb3BlfHwoY2hpbGRTY29wZT0kc2NvcGUuJG5ldygpLCR0cmFuc2NsdWRlKGNoaWxkU2NvcGUsZnVuY3Rpb24oY2xvbmUpe2Nsb25lW2Nsb25lLmxlbmd0aCsrXT1kb2N1bWVudC5jcmVhdGVDb21tZW50KCIgZW5kIG5nSWY6ICIrJGF0dHIubmdJZisiICIpLGJsb2NrPXtjbG9uZTpjbG9uZX0sJGFuaW1hdGUuZW50ZXIoY2xvbmUsJGVsZW1lbnQucGFyZW50KCksJGVsZW1lbnQpfSkpOihwcmV2aW91c0VsZW1lbnRzJiYocHJldmlvdXNFbGVtZW50cy5yZW1vdmUoKSxwcmV2aW91c0VsZW1lbnRzPW51bGwpLGNoaWxkU2NvcGUmJihjaGlsZFNjb3BlLiRkZXN0cm95KCksY2hpbGRTY29wZT1udWxsKSxibG9jayYmKHByZXZpb3VzRWxlbWVudHM9Z2V0QmxvY2tFbGVtZW50cyhibG9jay5jbG9uZSksJGFuaW1hdGUubGVhdmUocHJldmlvdXNFbGVtZW50cyxmdW5jdGlvbigpe3ByZXZpb3VzRWxlbWVudHM9bnVsbH0pLGJsb2NrPW51bGwpKX0pfX19XSxuZ0luY2x1ZGVEaXJlY3RpdmU9WyIkaHR0cCIsIiR0ZW1wbGF0ZUNhY2hlIiwiJGFuY2hvclNjcm9sbCIsIiRhbmltYXRlIiwiJHNjZSIsZnVuY3Rpb24oJGh0dHAsJHRlbXBsYXRlQ2FjaGUsJGFuY2hvclNjcm9sbCwkYW5pbWF0ZSwkc2NlKXtyZXR1cm57cmVzdHJpY3Q6IkVDQSIscHJpb3JpdHk6NDAwLHRlcm1pbmFsOiEwLHRyYW5zY2x1ZGU6ImVsZW1lbnQiLGNvbnRyb2xsZXI6YW5ndWxhci5ub29wLGNvbXBpbGU6ZnVuY3Rpb24oZWxlbWVudCxhdHRyKXt2YXIgc3JjRXhwPWF0dHIubmdJbmNsdWRlfHxhdHRyLnNyYyxvbmxvYWRFeHA9YXR0ci5vbmxvYWR8fCIiLGF1dG9TY3JvbGxFeHA9YXR0ci5hdXRvc2Nyb2xsO3JldHVybiBmdW5jdGlvbihzY29wZSwkZWxlbWVudCwkYXR0cixjdHJsLCR0cmFuc2NsdWRlKXt2YXIgY3VycmVudFNjb3BlLHByZXZpb3VzRWxlbWVudCxjdXJyZW50RWxlbWVudCxjaGFuZ2VDb3VudGVyPTAsY2xlYW51cExhc3RJbmNsdWRlQ29udGVudD1mdW5jdGlvbigpe3ByZXZpb3VzRWxlbWVudCYmKHByZXZpb3VzRWxlbWVudC5yZW1vdmUoKSxwcmV2aW91c0VsZW1lbnQ9bnVsbCksY3VycmVudFNjb3BlJiYoY3VycmVudFNjb3BlLiRkZXN0cm95KCksY3VycmVudFNjb3BlPW51bGwpLGN1cnJlbnRFbGVtZW50JiYoJGFuaW1hdGUubGVhdmUoY3VycmVudEVsZW1lbnQsZnVuY3Rpb24oKXtwcmV2aW91c0VsZW1lbnQ9bnVsbH0pLHByZXZpb3VzRWxlbWVudD1jdXJyZW50RWxlbWVudCxjdXJyZW50RWxlbWVudD1udWxsKX07c2NvcGUuJHdhdGNoKCRzY2UucGFyc2VBc1Jlc291cmNlVXJsKHNyY0V4cCksZnVuY3Rpb24oc3JjKXt2YXIgYWZ0ZXJBbmltYXRpb249ZnVuY3Rpb24oKXshaXNEZWZpbmVkKGF1dG9TY3JvbGxFeHApfHxhdXRvU2Nyb2xsRXhwJiYhc2NvcGUuJGV2YWwoYXV0b1Njcm9sbEV4cCl8fCRhbmNob3JTY3JvbGwoKX0sdGhpc0NoYW5nZUlkPSsrY2hhbmdlQ291bnRlcjtzcmM/KCRodHRwLmdldChzcmMse2NhY2hlOiR0ZW1wbGF0ZUNhY2hlfSkuc3VjY2VzcyhmdW5jdGlvbihyZXNwb25zZSl7aWYodGhpc0NoYW5nZUlkPT09Y2hhbmdlQ291bnRlcil7dmFyIG5ld1Njb3BlPXNjb3BlLiRuZXcoKTtjdHJsLnRlbXBsYXRlPXJlc3BvbnNlO3ZhciBjbG9uZT0kdHJhbnNjbHVkZShuZXdTY29wZSxmdW5jdGlvbihjbG9uZSl7Y2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpLCRhbmltYXRlLmVudGVyKGNsb25lLG51bGwsJGVsZW1lbnQsYWZ0ZXJBbmltYXRpb24pfSk7Y3VycmVudFNjb3BlPW5ld1Njb3BlLGN1cnJlbnRFbGVtZW50PWNsb25lLGN1cnJlbnRTY29wZS4kZW1pdCgiJGluY2x1ZGVDb250ZW50TG9hZGVkIiksc2NvcGUuJGV2YWwob25sb2FkRXhwKX19KS5lcnJvcihmdW5jdGlvbigpe3RoaXNDaGFuZ2VJZD09PWNoYW5nZUNvdW50ZXImJmNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKX0pLHNjb3BlLiRlbWl0KCIkaW5jbHVkZUNvbnRlbnRSZXF1ZXN0ZWQiKSk6KGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKSxjdHJsLnRlbXBsYXRlPW51bGwpfSl9fX19XSxuZ0luY2x1ZGVGaWxsQ29udGVudERpcmVjdGl2ZT1bIiRjb21waWxlIixmdW5jdGlvbigkY29tcGlsZSl7cmV0dXJue3Jlc3RyaWN0OiJFQ0EiLHByaW9yaXR5Oi00MDAscmVxdWlyZToibmdJbmNsdWRlIixsaW5rOmZ1bmN0aW9uKHNjb3BlLCRlbGVtZW50LCRhdHRyLGN0cmwpeyRlbGVtZW50Lmh0bWwoY3RybC50ZW1wbGF0ZSksJGNvbXBpbGUoJGVsZW1lbnQuY29udGVudHMoKSkoc2NvcGUpfX19XSxuZ0luaXREaXJlY3RpdmU9bmdEaXJlY3RpdmUoe3ByaW9yaXR5OjQ1MCxjb21waWxlOmZ1bmN0aW9uKCl7cmV0dXJue3ByZTpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzKXtzY29wZS4kZXZhbChhdHRycy5uZ0luaXQpfX19fSksbmdOb25CaW5kYWJsZURpcmVjdGl2ZT1uZ0RpcmVjdGl2ZSh7dGVybWluYWw6ITAscHJpb3JpdHk6MWUzfSksbmdQbHVyYWxpemVEaXJlY3RpdmU9WyIkbG9jYWxlIiwiJGludGVycG9sYXRlIixmdW5jdGlvbigkbG9jYWxlLCRpbnRlcnBvbGF0ZSl7dmFyIEJSQUNFPS97fS9nO3JldHVybntyZXN0cmljdDoiRUEiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyKXt2YXIgbnVtYmVyRXhwPWF0dHIuY291bnQsd2hlbkV4cD1hdHRyLiRhdHRyLndoZW4mJmVsZW1lbnQuYXR0cihhdHRyLiRhdHRyLndoZW4pLG9mZnNldD1hdHRyLm9mZnNldHx8MCx3aGVucz1zY29wZS4kZXZhbCh3aGVuRXhwKXx8e30sd2hlbnNFeHBGbnM9e30sc3RhcnRTeW1ib2w9JGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCksZW5kU3ltYm9sPSRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKSxpc1doZW49L153aGVuKE1pbnVzKT8oLispJC87Zm9yRWFjaChhdHRyLGZ1bmN0aW9uKGV4cHJlc3Npb24sYXR0cmlidXRlTmFtZSl7aXNXaGVuLnRlc3QoYXR0cmlidXRlTmFtZSkmJih3aGVuc1tsb3dlcmNhc2UoYXR0cmlidXRlTmFtZS5yZXBsYWNlKCJ3aGVuIiwiIikucmVwbGFjZSgiTWludXMiLCItIikpXT1lbGVtZW50LmF0dHIoYXR0ci4kYXR0clthdHRyaWJ1dGVOYW1lXSkpfSksZm9yRWFjaCh3aGVucyxmdW5jdGlvbihleHByZXNzaW9uLGtleSl7d2hlbnNFeHBGbnNba2V5XT0kaW50ZXJwb2xhdGUoZXhwcmVzc2lvbi5yZXBsYWNlKEJSQUNFLHN0YXJ0U3ltYm9sK251bWJlckV4cCsiLSIrb2Zmc2V0K2VuZFN5bWJvbCkpfSksc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCl7dmFyIHZhbHVlPXBhcnNlRmxvYXQoc2NvcGUuJGV2YWwobnVtYmVyRXhwKSk7cmV0dXJuIGlzTmFOKHZhbHVlKT8iIjoodmFsdWUgaW4gd2hlbnN8fCh2YWx1ZT0kbG9jYWxlLnBsdXJhbENhdCh2YWx1ZS1vZmZzZXQpKSx3aGVuc0V4cEZuc1t2YWx1ZV0oc2NvcGUsZWxlbWVudCwhMCkpfSxmdW5jdGlvbihuZXdWYWwpe2VsZW1lbnQudGV4dChuZXdWYWwpfSl9fX1dLG5nUmVwZWF0RGlyZWN0aXZlPVsiJHBhcnNlIiwiJGFuaW1hdGUiLGZ1bmN0aW9uKCRwYXJzZSwkYW5pbWF0ZSl7ZnVuY3Rpb24gZ2V0QmxvY2tTdGFydChibG9jayl7cmV0dXJuIGJsb2NrLmNsb25lWzBdfWZ1bmN0aW9uIGdldEJsb2NrRW5kKGJsb2NrKXtyZXR1cm4gYmxvY2suY2xvbmVbYmxvY2suY2xvbmUubGVuZ3RoLTFdfXZhciBOR19SRU1PVkVEPSIkJE5HX1JFTU9WRUQiLG5nUmVwZWF0TWluRXJyPW1pbkVycigibmdSZXBlYXQiKTtyZXR1cm57dHJhbnNjbHVkZToiZWxlbWVudCIscHJpb3JpdHk6MWUzLHRlcm1pbmFsOiEwLCQkdGxiOiEwLGxpbms6ZnVuY3Rpb24oJHNjb3BlLCRlbGVtZW50LCRhdHRyLGN0cmwsJHRyYW5zY2x1ZGUpe3ZhciB0cmFja0J5RXhwLHRyYWNrQnlFeHBHZXR0ZXIsdHJhY2tCeUlkRXhwRm4sdHJhY2tCeUlkQXJyYXlGbix0cmFja0J5SWRPYmpGbixsaHMscmhzLHZhbHVlSWRlbnRpZmllcixrZXlJZGVudGlmaWVyLGV4cHJlc3Npb249JGF0dHIubmdSZXBlYXQsbWF0Y2g9ZXhwcmVzc2lvbi5tYXRjaCgvXlxzKihbXHNcU10rPylccytpblxzKyhbXHNcU10rPykoPzpccyt0cmFja1xzK2J5XHMrKFtcc1xTXSs/KSk/XHMqJC8pLGhhc2hGbkxvY2Fscz17JGlkOmhhc2hLZXl9O2lmKCFtYXRjaCl0aHJvdyBuZ1JlcGVhdE1pbkVycigiaWV4cCIsIkV4cGVjdGVkIGV4cHJlc3Npb24gaW4gZm9ybSBvZiAnX2l0ZW1fIGluIF9jb2xsZWN0aW9uX1sgdHJhY2sgYnkgX2lkX10nIGJ1dCBnb3QgJ3swfScuIixleHByZXNzaW9uKTtpZihsaHM9bWF0Y2hbMV0scmhzPW1hdGNoWzJdLHRyYWNrQnlFeHA9bWF0Y2hbM10sdHJhY2tCeUV4cD8odHJhY2tCeUV4cEdldHRlcj0kcGFyc2UodHJhY2tCeUV4cCksdHJhY2tCeUlkRXhwRm49ZnVuY3Rpb24oa2V5LHZhbHVlLGluZGV4KXtyZXR1cm4ga2V5SWRlbnRpZmllciYmKGhhc2hGbkxvY2Fsc1trZXlJZGVudGlmaWVyXT1rZXkpLGhhc2hGbkxvY2Fsc1t2YWx1ZUlkZW50aWZpZXJdPXZhbHVlLGhhc2hGbkxvY2Fscy4kaW5kZXg9aW5kZXgsdHJhY2tCeUV4cEdldHRlcigkc2NvcGUsaGFzaEZuTG9jYWxzKX0pOih0cmFja0J5SWRBcnJheUZuPWZ1bmN0aW9uKGtleSx2YWx1ZSl7cmV0dXJuIGhhc2hLZXkodmFsdWUpfSx0cmFja0J5SWRPYmpGbj1mdW5jdGlvbihrZXkpe3JldHVybiBrZXl9KSxtYXRjaD1saHMubWF0Y2goL14oPzooW1wkXHddKyl8XCgoW1wkXHddKylccyosXHMqKFtcJFx3XSspXCkpJC8pLCFtYXRjaCl0aHJvdyBuZ1JlcGVhdE1pbkVycigiaWlkZXhwIiwiJ19pdGVtXycgaW4gJ19pdGVtXyBpbiBfY29sbGVjdGlvbl8nIHNob3VsZCBiZSBhbiBpZGVudGlmaWVyIG9yICcoX2tleV8sIF92YWx1ZV8pJyBleHByZXNzaW9uLCBidXQgZ290ICd7MH0nLiIsbGhzKTt2YWx1ZUlkZW50aWZpZXI9bWF0Y2hbM118fG1hdGNoWzFdLGtleUlkZW50aWZpZXI9bWF0Y2hbMl07dmFyIGxhc3RCbG9ja01hcD17fTskc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihyaHMsZnVuY3Rpb24oY29sbGVjdGlvbil7dmFyIGluZGV4LGxlbmd0aCxuZXh0Tm9kZSxhcnJheUxlbmd0aCxjaGlsZFNjb3BlLGtleSx2YWx1ZSx0cmFja0J5SWQsdHJhY2tCeUlkRm4sY29sbGVjdGlvbktleXMsYmxvY2ssZWxlbWVudHNUb1JlbW92ZSxwcmV2aW91c05vZGU9JGVsZW1lbnRbMF0sbmV4dEJsb2NrTWFwPXt9LG5leHRCbG9ja09yZGVyPVtdO2lmKGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKWNvbGxlY3Rpb25LZXlzPWNvbGxlY3Rpb24sdHJhY2tCeUlkRm49dHJhY2tCeUlkRXhwRm58fHRyYWNrQnlJZEFycmF5Rm47ZWxzZXt0cmFja0J5SWRGbj10cmFja0J5SWRFeHBGbnx8dHJhY2tCeUlkT2JqRm4sY29sbGVjdGlvbktleXM9W107Zm9yKGtleSBpbiBjb2xsZWN0aW9uKWNvbGxlY3Rpb24uaGFzT3duUHJvcGVydHkoa2V5KSYmIiQiIT1rZXkuY2hhckF0KDApJiZjb2xsZWN0aW9uS2V5cy5wdXNoKGtleSk7Y29sbGVjdGlvbktleXMuc29ydCgpfWZvcihhcnJheUxlbmd0aD1jb2xsZWN0aW9uS2V5cy5sZW5ndGgsbGVuZ3RoPW5leHRCbG9ja09yZGVyLmxlbmd0aD1jb2xsZWN0aW9uS2V5cy5sZW5ndGgsaW5kZXg9MDtsZW5ndGg+aW5kZXg7aW5kZXgrKylpZihrZXk9Y29sbGVjdGlvbj09PWNvbGxlY3Rpb25LZXlzP2luZGV4OmNvbGxlY3Rpb25LZXlzW2luZGV4XSx2YWx1ZT1jb2xsZWN0aW9uW2tleV0sdHJhY2tCeUlkPXRyYWNrQnlJZEZuKGtleSx2YWx1ZSxpbmRleCksYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkodHJhY2tCeUlkLCJgdHJhY2sgYnlgIGlkIiksbGFzdEJsb2NrTWFwLmhhc093blByb3BlcnR5KHRyYWNrQnlJZCkpYmxvY2s9bGFzdEJsb2NrTWFwW3RyYWNrQnlJZF0sZGVsZXRlIGxhc3RCbG9ja01hcFt0cmFja0J5SWRdLG5leHRCbG9ja01hcFt0cmFja0J5SWRdPWJsb2NrLG5leHRCbG9ja09yZGVyW2luZGV4XT1ibG9jaztlbHNle2lmKG5leHRCbG9ja01hcC5oYXNPd25Qcm9wZXJ0eSh0cmFja0J5SWQpKXRocm93IGZvckVhY2gobmV4dEJsb2NrT3JkZXIsZnVuY3Rpb24oYmxvY2spe2Jsb2NrJiZibG9jay5zY29wZSYmKGxhc3RCbG9ja01hcFtibG9jay5pZF09YmxvY2spfSksbmdSZXBlYXRNaW5FcnIoImR1cGVzIiwiRHVwbGljYXRlcyBpbiBhIHJlcGVhdGVyIGFyZSBub3QgYWxsb3dlZC4gVXNlICd0cmFjayBieScgZXhwcmVzc2lvbiB0byBzcGVjaWZ5IHVuaXF1ZSBrZXlzLiBSZXBlYXRlcjogezB9LCBEdXBsaWNhdGUga2V5OiB7MX0sIER1cGxpY2F0ZSB2YWx1ZTogezJ9IixleHByZXNzaW9uLHRyYWNrQnlJZCx0b0pzb24odmFsdWUpKTtuZXh0QmxvY2tPcmRlcltpbmRleF09e2lkOnRyYWNrQnlJZH0sbmV4dEJsb2NrTWFwW3RyYWNrQnlJZF09ITF9Zm9yKGtleSBpbiBsYXN0QmxvY2tNYXApbGFzdEJsb2NrTWFwLmhhc093blByb3BlcnR5KGtleSkmJihibG9jaz1sYXN0QmxvY2tNYXBba2V5XSxlbGVtZW50c1RvUmVtb3ZlPWdldEJsb2NrRWxlbWVudHMoYmxvY2suY2xvbmUpLCRhbmltYXRlLmxlYXZlKGVsZW1lbnRzVG9SZW1vdmUpLGZvckVhY2goZWxlbWVudHNUb1JlbW92ZSxmdW5jdGlvbihlbGVtZW50KXtlbGVtZW50W05HX1JFTU9WRURdPSEwfSksYmxvY2suc2NvcGUuJGRlc3Ryb3koKSk7Zm9yKGluZGV4PTAsbGVuZ3RoPWNvbGxlY3Rpb25LZXlzLmxlbmd0aDtsZW5ndGg+aW5kZXg7aW5kZXgrKyl7aWYoa2V5PWNvbGxlY3Rpb249PT1jb2xsZWN0aW9uS2V5cz9pbmRleDpjb2xsZWN0aW9uS2V5c1tpbmRleF0sdmFsdWU9Y29sbGVjdGlvbltrZXldLGJsb2NrPW5leHRCbG9ja09yZGVyW2luZGV4XSxuZXh0QmxvY2tPcmRlcltpbmRleC0xXSYmKHByZXZpb3VzTm9kZT1nZXRCbG9ja0VuZChuZXh0QmxvY2tPcmRlcltpbmRleC0xXSkpLGJsb2NrLnNjb3BlKXtjaGlsZFNjb3BlPWJsb2NrLnNjb3BlLG5leHROb2RlPXByZXZpb3VzTm9kZTtkbyBuZXh0Tm9kZT1uZXh0Tm9kZS5uZXh0U2libGluZzt3aGlsZShuZXh0Tm9kZSYmbmV4dE5vZGVbTkdfUkVNT1ZFRF0pO2dldEJsb2NrU3RhcnQoYmxvY2spIT1uZXh0Tm9kZSYmJGFuaW1hdGUubW92ZShnZXRCbG9ja0VsZW1lbnRzKGJsb2NrLmNsb25lKSxudWxsLGpxTGl0ZShwcmV2aW91c05vZGUpKSxwcmV2aW91c05vZGU9Z2V0QmxvY2tFbmQoYmxvY2spfWVsc2UgY2hpbGRTY29wZT0kc2NvcGUuJG5ldygpO2NoaWxkU2NvcGVbdmFsdWVJZGVudGlmaWVyXT12YWx1ZSxrZXlJZGVudGlmaWVyJiYoY2hpbGRTY29wZVtrZXlJZGVudGlmaWVyXT1rZXkpLGNoaWxkU2NvcGUuJGluZGV4PWluZGV4LGNoaWxkU2NvcGUuJGZpcnN0PTA9PT1pbmRleCxjaGlsZFNjb3BlLiRsYXN0PWluZGV4PT09YXJyYXlMZW5ndGgtMSxjaGlsZFNjb3BlLiRtaWRkbGU9IShjaGlsZFNjb3BlLiRmaXJzdHx8Y2hpbGRTY29wZS4kbGFzdCksY2hpbGRTY29wZS4kb2RkPSEoY2hpbGRTY29wZS4kZXZlbj0wPT09KDEmaW5kZXgpKSxibG9jay5zY29wZXx8JHRyYW5zY2x1ZGUoY2hpbGRTY29wZSxmdW5jdGlvbihjbG9uZSl7Y2xvbmVbY2xvbmUubGVuZ3RoKytdPWRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoIiBlbmQgbmdSZXBlYXQ6ICIrZXhwcmVzc2lvbisiICIpLCRhbmltYXRlLmVudGVyKGNsb25lLG51bGwsanFMaXRlKHByZXZpb3VzTm9kZSkpLHByZXZpb3VzTm9kZT1jbG9uZSxibG9jay5zY29wZT1jaGlsZFNjb3BlLGJsb2NrLmNsb25lPWNsb25lLG5leHRCbG9ja01hcFtibG9jay5pZF09YmxvY2t9KX1sYXN0QmxvY2tNYXA9bmV4dEJsb2NrTWFwfSl9fX1dLG5nU2hvd0RpcmVjdGl2ZT1bIiRhbmltYXRlIixmdW5jdGlvbigkYW5pbWF0ZSl7cmV0dXJuIGZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cil7c2NvcGUuJHdhdGNoKGF0dHIubmdTaG93LGZ1bmN0aW9uKHZhbHVlKXskYW5pbWF0ZVt0b0Jvb2xlYW4odmFsdWUpPyJyZW1vdmVDbGFzcyI6ImFkZENsYXNzIl0oZWxlbWVudCwibmctaGlkZSIpfSl9fV0sbmdIaWRlRGlyZWN0aXZlPVsiJGFuaW1hdGUiLGZ1bmN0aW9uKCRhbmltYXRlKXtyZXR1cm4gZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyKXtzY29wZS4kd2F0Y2goYXR0ci5uZ0hpZGUsZnVuY3Rpb24odmFsdWUpeyRhbmltYXRlW3RvQm9vbGVhbih2YWx1ZSk/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXShlbGVtZW50LCJuZy1oaWRlIil9KX19XSxuZ1N0eWxlRGlyZWN0aXZlPW5nRGlyZWN0aXZlKGZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cil7c2NvcGUuJHdhdGNoKGF0dHIubmdTdHlsZSxmdW5jdGlvbihuZXdTdHlsZXMsb2xkU3R5bGVzKXtvbGRTdHlsZXMmJm5ld1N0eWxlcyE9PW9sZFN0eWxlcyYmZm9yRWFjaChvbGRTdHlsZXMsZnVuY3Rpb24odmFsLHN0eWxlKXtlbGVtZW50LmNzcyhzdHlsZSwiIil9KSxuZXdTdHlsZXMmJmVsZW1lbnQuY3NzKG5ld1N0eWxlcyl9LCEwKX0pLG5nU3dpdGNoRGlyZWN0aXZlPVsiJGFuaW1hdGUiLGZ1bmN0aW9uKCRhbmltYXRlKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXF1aXJlOiJuZ1N3aXRjaCIsY29udHJvbGxlcjpbIiRzY29wZSIsZnVuY3Rpb24oKXt0aGlzLmNhc2VzPXt9fV0sbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIsbmdTd2l0Y2hDb250cm9sbGVyKXt2YXIgd2F0Y2hFeHByPWF0dHIubmdTd2l0Y2h8fGF0dHIub24sc2VsZWN0ZWRUcmFuc2NsdWRlcz1bXSxzZWxlY3RlZEVsZW1lbnRzPVtdLHByZXZpb3VzRWxlbWVudHM9W10sc2VsZWN0ZWRTY29wZXM9W107c2NvcGUuJHdhdGNoKHdhdGNoRXhwcixmdW5jdGlvbih2YWx1ZSl7dmFyIGksaWk7Zm9yKGk9MCxpaT1wcmV2aW91c0VsZW1lbnRzLmxlbmd0aDtpaT5pOysraSlwcmV2aW91c0VsZW1lbnRzW2ldLnJlbW92ZSgpO2ZvcihwcmV2aW91c0VsZW1lbnRzLmxlbmd0aD0wLGk9MCxpaT1zZWxlY3RlZFNjb3Blcy5sZW5ndGg7aWk+aTsrK2kpe3ZhciBzZWxlY3RlZD1zZWxlY3RlZEVsZW1lbnRzW2ldO3NlbGVjdGVkU2NvcGVzW2ldLiRkZXN0cm95KCkscHJldmlvdXNFbGVtZW50c1tpXT1zZWxlY3RlZCwkYW5pbWF0ZS5sZWF2ZShzZWxlY3RlZCxmdW5jdGlvbigpe3ByZXZpb3VzRWxlbWVudHMuc3BsaWNlKGksMSl9KX1zZWxlY3RlZEVsZW1lbnRzLmxlbmd0aD0wLHNlbGVjdGVkU2NvcGVzLmxlbmd0aD0wLChzZWxlY3RlZFRyYW5zY2x1ZGVzPW5nU3dpdGNoQ29udHJvbGxlci5jYXNlc1siISIrdmFsdWVdfHxuZ1N3aXRjaENvbnRyb2xsZXIuY2FzZXNbIj8iXSkmJihzY29wZS4kZXZhbChhdHRyLmNoYW5nZSksZm9yRWFjaChzZWxlY3RlZFRyYW5zY2x1ZGVzLGZ1bmN0aW9uKHNlbGVjdGVkVHJhbnNjbHVkZSl7dmFyIHNlbGVjdGVkU2NvcGU9c2NvcGUuJG5ldygpO3NlbGVjdGVkU2NvcGVzLnB1c2goc2VsZWN0ZWRTY29wZSksc2VsZWN0ZWRUcmFuc2NsdWRlLnRyYW5zY2x1ZGUoc2VsZWN0ZWRTY29wZSxmdW5jdGlvbihjYXNlRWxlbWVudCl7dmFyIGFuY2hvcj1zZWxlY3RlZFRyYW5zY2x1ZGUuZWxlbWVudDtzZWxlY3RlZEVsZW1lbnRzLnB1c2goY2FzZUVsZW1lbnQpLCRhbmltYXRlLmVudGVyKGNhc2VFbGVtZW50LGFuY2hvci5wYXJlbnQoKSxhbmNob3IpfSl9KSl9KX19fV0sbmdTd2l0Y2hXaGVuRGlyZWN0aXZlPW5nRGlyZWN0aXZlKHt0cmFuc2NsdWRlOiJlbGVtZW50Iixwcmlvcml0eTo4MDAscmVxdWlyZToiXm5nU3dpdGNoIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsY3RybCwkdHJhbnNjbHVkZSl7Y3RybC5jYXNlc1siISIrYXR0cnMubmdTd2l0Y2hXaGVuXT1jdHJsLmNhc2VzWyIhIithdHRycy5uZ1N3aXRjaFdoZW5dfHxbXSxjdHJsLmNhc2VzWyIhIithdHRycy5uZ1N3aXRjaFdoZW5dLnB1c2goe3RyYW5zY2x1ZGU6JHRyYW5zY2x1ZGUsZWxlbWVudDplbGVtZW50fSl9fSksbmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlPW5nRGlyZWN0aXZlKHt0cmFuc2NsdWRlOiJlbGVtZW50Iixwcmlvcml0eTo4MDAscmVxdWlyZToiXm5nU3dpdGNoIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJsLCR0cmFuc2NsdWRlKXtjdHJsLmNhc2VzWyI/Il09Y3RybC5jYXNlc1siPyJdfHxbXSxjdHJsLmNhc2VzWyI/Il0ucHVzaCh7dHJhbnNjbHVkZTokdHJhbnNjbHVkZSxlbGVtZW50OmVsZW1lbnR9KX19KSxuZ1RyYW5zY2x1ZGVEaXJlY3RpdmU9bmdEaXJlY3RpdmUoe2xpbms6ZnVuY3Rpb24oJHNjb3BlLCRlbGVtZW50LCRhdHRycyxjb250cm9sbGVyLCR0cmFuc2NsdWRlKXtpZighJHRyYW5zY2x1ZGUpdGhyb3cgbWluRXJyKCJuZ1RyYW5zY2x1ZGUiKSgib3JwaGFuIiwiSWxsZWdhbCB1c2Ugb2YgbmdUcmFuc2NsdWRlIGRpcmVjdGl2ZSBpbiB0aGUgdGVtcGxhdGUhIE5vIHBhcmVudCBkaXJlY3RpdmUgdGhhdCByZXF1aXJlcyBhIHRyYW5zY2x1c2lvbiBmb3VuZC4gRWxlbWVudDogezB9IixzdGFydGluZ1RhZygkZWxlbWVudCkpOyR0cmFuc2NsdWRlKGZ1bmN0aW9uKGNsb25lKXskZWxlbWVudC5lbXB0eSgpLCRlbGVtZW50LmFwcGVuZChjbG9uZSl9KX19KSxzY3JpcHREaXJlY3RpdmU9WyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpe3JldHVybntyZXN0cmljdDoiRSIsdGVybWluYWw6ITAsY29tcGlsZTpmdW5jdGlvbihlbGVtZW50LGF0dHIpe2lmKCJ0ZXh0L25nLXRlbXBsYXRlIj09YXR0ci50eXBlKXt2YXIgdGVtcGxhdGVVcmw9YXR0ci5pZCx0ZXh0PWVsZW1lbnRbMF0udGV4dDsKJHRlbXBsYXRlQ2FjaGUucHV0KHRlbXBsYXRlVXJsLHRleHQpfX19fV0sbmdPcHRpb25zTWluRXJyPW1pbkVycigibmdPcHRpb25zIiksbmdPcHRpb25zRGlyZWN0aXZlPXZhbHVlRm4oe3Rlcm1pbmFsOiEwfSksc2VsZWN0RGlyZWN0aXZlPVsiJGNvbXBpbGUiLCIkcGFyc2UiLGZ1bmN0aW9uKCRjb21waWxlLCRwYXJzZSl7dmFyIE5HX09QVElPTlNfUkVHRVhQPS9eXHMqKFtcc1xTXSs/KSg/OlxzK2FzXHMrKFtcc1xTXSs/KSk/KD86XHMrZ3JvdXBccytieVxzKyhbXHNcU10rPykpP1xzK2ZvclxzKyg/OihbXCRcd11bXCRcd10qKXwoPzpcKFxzKihbXCRcd11bXCRcd10qKVxzKixccyooW1wkXHddW1wkXHddKilccypcKSkpXHMraW5ccysoW1xzXFNdKz8pKD86XHMrdHJhY2tccytieVxzKyhbXHNcU10rPykpPyQvLG51bGxNb2RlbEN0cmw9eyRzZXRWaWV3VmFsdWU6bm9vcH07cmV0dXJue3Jlc3RyaWN0OiJFIixyZXF1aXJlOlsic2VsZWN0IiwiP25nTW9kZWwiXSxjb250cm9sbGVyOlsiJGVsZW1lbnQiLCIkc2NvcGUiLCIkYXR0cnMiLGZ1bmN0aW9uKCRlbGVtZW50LCRzY29wZSwkYXR0cnMpe3ZhciBudWxsT3B0aW9uLHVua25vd25PcHRpb24sc2VsZj10aGlzLG9wdGlvbnNNYXA9e30sbmdNb2RlbEN0cmw9bnVsbE1vZGVsQ3RybDtzZWxmLmRhdGFib3VuZD0kYXR0cnMubmdNb2RlbCxzZWxmLmluaXQ9ZnVuY3Rpb24obmdNb2RlbEN0cmxfLG51bGxPcHRpb25fLHVua25vd25PcHRpb25fKXtuZ01vZGVsQ3RybD1uZ01vZGVsQ3RybF8sbnVsbE9wdGlvbj1udWxsT3B0aW9uXyx1bmtub3duT3B0aW9uPXVua25vd25PcHRpb25ffSxzZWxmLmFkZE9wdGlvbj1mdW5jdGlvbih2YWx1ZSl7YXNzZXJ0Tm90SGFzT3duUHJvcGVydHkodmFsdWUsJyJvcHRpb24gdmFsdWUiJyksb3B0aW9uc01hcFt2YWx1ZV09ITAsbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZT09dmFsdWUmJigkZWxlbWVudC52YWwodmFsdWUpLHVua25vd25PcHRpb24ucGFyZW50KCkmJnVua25vd25PcHRpb24ucmVtb3ZlKCkpfSxzZWxmLnJlbW92ZU9wdGlvbj1mdW5jdGlvbih2YWx1ZSl7dGhpcy5oYXNPcHRpb24odmFsdWUpJiYoZGVsZXRlIG9wdGlvbnNNYXBbdmFsdWVdLG5nTW9kZWxDdHJsLiR2aWV3VmFsdWU9PXZhbHVlJiZ0aGlzLnJlbmRlclVua25vd25PcHRpb24odmFsdWUpKX0sc2VsZi5yZW5kZXJVbmtub3duT3B0aW9uPWZ1bmN0aW9uKHZhbCl7dmFyIHVua25vd25WYWw9Ij8gIitoYXNoS2V5KHZhbCkrIiA/Ijt1bmtub3duT3B0aW9uLnZhbCh1bmtub3duVmFsKSwkZWxlbWVudC5wcmVwZW5kKHVua25vd25PcHRpb24pLCRlbGVtZW50LnZhbCh1bmtub3duVmFsKSx1bmtub3duT3B0aW9uLnByb3AoInNlbGVjdGVkIiwhMCl9LHNlbGYuaGFzT3B0aW9uPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gb3B0aW9uc01hcC5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSl9LCRzY29wZS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe3NlbGYucmVuZGVyVW5rbm93bk9wdGlvbj1ub29wfSl9XSxsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cixjdHJscyl7ZnVuY3Rpb24gc2V0dXBBc1NpbmdsZShzY29wZSxzZWxlY3RFbGVtZW50LG5nTW9kZWxDdHJsLHNlbGVjdEN0cmwpe25nTW9kZWxDdHJsLiRyZW5kZXI9ZnVuY3Rpb24oKXt2YXIgdmlld1ZhbHVlPW5nTW9kZWxDdHJsLiR2aWV3VmFsdWU7c2VsZWN0Q3RybC5oYXNPcHRpb24odmlld1ZhbHVlKT8odW5rbm93bk9wdGlvbi5wYXJlbnQoKSYmdW5rbm93bk9wdGlvbi5yZW1vdmUoKSxzZWxlY3RFbGVtZW50LnZhbCh2aWV3VmFsdWUpLCIiPT09dmlld1ZhbHVlJiZlbXB0eU9wdGlvbi5wcm9wKCJzZWxlY3RlZCIsITApKTppc1VuZGVmaW5lZCh2aWV3VmFsdWUpJiZlbXB0eU9wdGlvbj9zZWxlY3RFbGVtZW50LnZhbCgiIik6c2VsZWN0Q3RybC5yZW5kZXJVbmtub3duT3B0aW9uKHZpZXdWYWx1ZSl9LHNlbGVjdEVsZW1lbnQub24oImNoYW5nZSIsZnVuY3Rpb24oKXtzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXt1bmtub3duT3B0aW9uLnBhcmVudCgpJiZ1bmtub3duT3B0aW9uLnJlbW92ZSgpLG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoc2VsZWN0RWxlbWVudC52YWwoKSl9KX0pfWZ1bmN0aW9uIHNldHVwQXNNdWx0aXBsZShzY29wZSxzZWxlY3RFbGVtZW50LGN0cmwpe3ZhciBsYXN0VmlldztjdHJsLiRyZW5kZXI9ZnVuY3Rpb24oKXt2YXIgaXRlbXM9bmV3IEhhc2hNYXAoY3RybC4kdmlld1ZhbHVlKTtmb3JFYWNoKHNlbGVjdEVsZW1lbnQuZmluZCgib3B0aW9uIiksZnVuY3Rpb24ob3B0aW9uKXtvcHRpb24uc2VsZWN0ZWQ9aXNEZWZpbmVkKGl0ZW1zLmdldChvcHRpb24udmFsdWUpKX0pfSxzY29wZS4kd2F0Y2goZnVuY3Rpb24oKXtlcXVhbHMobGFzdFZpZXcsY3RybC4kdmlld1ZhbHVlKXx8KGxhc3RWaWV3PXNoYWxsb3dDb3B5KGN0cmwuJHZpZXdWYWx1ZSksY3RybC4kcmVuZGVyKCkpfSksc2VsZWN0RWxlbWVudC5vbigiY2hhbmdlIixmdW5jdGlvbigpe3Njb3BlLiRhcHBseShmdW5jdGlvbigpe3ZhciBhcnJheT1bXTtmb3JFYWNoKHNlbGVjdEVsZW1lbnQuZmluZCgib3B0aW9uIiksZnVuY3Rpb24ob3B0aW9uKXtvcHRpb24uc2VsZWN0ZWQmJmFycmF5LnB1c2gob3B0aW9uLnZhbHVlKX0pLGN0cmwuJHNldFZpZXdWYWx1ZShhcnJheSl9KX0pfWZ1bmN0aW9uIHNldHVwQXNPcHRpb25zKHNjb3BlLHNlbGVjdEVsZW1lbnQsY3RybCl7ZnVuY3Rpb24gZ2V0U2VsZWN0ZWRTZXQoKXt2YXIgc2VsZWN0ZWRTZXQ9ITE7aWYobXVsdGlwbGUpe3ZhciBtb2RlbFZhbHVlPWN0cmwuJG1vZGVsVmFsdWU7aWYodHJhY2tGbiYmaXNBcnJheShtb2RlbFZhbHVlKSl7c2VsZWN0ZWRTZXQ9bmV3IEhhc2hNYXAoW10pO2Zvcih2YXIgbG9jYWxzPXt9LHRyYWNrSW5kZXg9MDt0cmFja0luZGV4PG1vZGVsVmFsdWUubGVuZ3RoO3RyYWNrSW5kZXgrKylsb2NhbHNbdmFsdWVOYW1lXT1tb2RlbFZhbHVlW3RyYWNrSW5kZXhdLHNlbGVjdGVkU2V0LnB1dCh0cmFja0ZuKHNjb3BlLGxvY2FscyksbW9kZWxWYWx1ZVt0cmFja0luZGV4XSl9ZWxzZSBzZWxlY3RlZFNldD1uZXcgSGFzaE1hcChtb2RlbFZhbHVlKX1yZXR1cm4gc2VsZWN0ZWRTZXR9ZnVuY3Rpb24gcmVuZGVyKCl7dmFyIG9wdGlvbkdyb3VwTmFtZSxvcHRpb25Hcm91cCxvcHRpb24sZXhpc3RpbmdQYXJlbnQsZXhpc3RpbmdPcHRpb25zLGV4aXN0aW5nT3B0aW9uLGtleSxncm91cExlbmd0aCxsZW5ndGgsZ3JvdXBJbmRleCxpbmRleCxzZWxlY3RlZCxsYXN0RWxlbWVudCxlbGVtZW50LGxhYmVsLG9wdGlvbkdyb3Vwcz17IiI6W119LG9wdGlvbkdyb3VwTmFtZXM9WyIiXSxtb2RlbFZhbHVlPWN0cmwuJG1vZGVsVmFsdWUsdmFsdWVzPXZhbHVlc0ZuKHNjb3BlKXx8W10sa2V5cz1rZXlOYW1lP3NvcnRlZEtleXModmFsdWVzKTp2YWx1ZXMsbG9jYWxzPXt9LHNlbGVjdGVkU2V0PWdldFNlbGVjdGVkU2V0KCk7Zm9yKGluZGV4PTA7bGVuZ3RoPWtleXMubGVuZ3RoLGxlbmd0aD5pbmRleDtpbmRleCsrKXtpZihrZXk9aW5kZXgsa2V5TmFtZSl7aWYoa2V5PWtleXNbaW5kZXhdLCIkIj09PWtleS5jaGFyQXQoMCkpY29udGludWU7bG9jYWxzW2tleU5hbWVdPWtleX1pZihsb2NhbHNbdmFsdWVOYW1lXT12YWx1ZXNba2V5XSxvcHRpb25Hcm91cE5hbWU9Z3JvdXBCeUZuKHNjb3BlLGxvY2Fscyl8fCIiLChvcHRpb25Hcm91cD1vcHRpb25Hcm91cHNbb3B0aW9uR3JvdXBOYW1lXSl8fChvcHRpb25Hcm91cD1vcHRpb25Hcm91cHNbb3B0aW9uR3JvdXBOYW1lXT1bXSxvcHRpb25Hcm91cE5hbWVzLnB1c2gob3B0aW9uR3JvdXBOYW1lKSksbXVsdGlwbGUpc2VsZWN0ZWQ9aXNEZWZpbmVkKHNlbGVjdGVkU2V0LnJlbW92ZSh0cmFja0ZuP3RyYWNrRm4oc2NvcGUsbG9jYWxzKTp2YWx1ZUZuKHNjb3BlLGxvY2FscykpKTtlbHNle2lmKHRyYWNrRm4pe3ZhciBtb2RlbENhc3Q9e307bW9kZWxDYXN0W3ZhbHVlTmFtZV09bW9kZWxWYWx1ZSxzZWxlY3RlZD10cmFja0ZuKHNjb3BlLG1vZGVsQ2FzdCk9PT10cmFja0ZuKHNjb3BlLGxvY2Fscyl9ZWxzZSBzZWxlY3RlZD1tb2RlbFZhbHVlPT09dmFsdWVGbihzY29wZSxsb2NhbHMpO3NlbGVjdGVkU2V0PXNlbGVjdGVkU2V0fHxzZWxlY3RlZH1sYWJlbD1kaXNwbGF5Rm4oc2NvcGUsbG9jYWxzKSxsYWJlbD1pc0RlZmluZWQobGFiZWwpP2xhYmVsOiIiLG9wdGlvbkdyb3VwLnB1c2goe2lkOnRyYWNrRm4/dHJhY2tGbihzY29wZSxsb2NhbHMpOmtleU5hbWU/a2V5c1tpbmRleF06aW5kZXgsbGFiZWw6bGFiZWwsc2VsZWN0ZWQ6c2VsZWN0ZWR9KX1mb3IobXVsdGlwbGV8fChudWxsT3B0aW9ufHxudWxsPT09bW9kZWxWYWx1ZT9vcHRpb25Hcm91cHNbIiJdLnVuc2hpZnQoe2lkOiIiLGxhYmVsOiIiLHNlbGVjdGVkOiFzZWxlY3RlZFNldH0pOnNlbGVjdGVkU2V0fHxvcHRpb25Hcm91cHNbIiJdLnVuc2hpZnQoe2lkOiI/IixsYWJlbDoiIixzZWxlY3RlZDohMH0pKSxncm91cEluZGV4PTAsZ3JvdXBMZW5ndGg9b3B0aW9uR3JvdXBOYW1lcy5sZW5ndGg7Z3JvdXBMZW5ndGg+Z3JvdXBJbmRleDtncm91cEluZGV4Kyspe2ZvcihvcHRpb25Hcm91cE5hbWU9b3B0aW9uR3JvdXBOYW1lc1tncm91cEluZGV4XSxvcHRpb25Hcm91cD1vcHRpb25Hcm91cHNbb3B0aW9uR3JvdXBOYW1lXSxvcHRpb25Hcm91cHNDYWNoZS5sZW5ndGg8PWdyb3VwSW5kZXg/KGV4aXN0aW5nUGFyZW50PXtlbGVtZW50Om9wdEdyb3VwVGVtcGxhdGUuY2xvbmUoKS5hdHRyKCJsYWJlbCIsb3B0aW9uR3JvdXBOYW1lKSxsYWJlbDpvcHRpb25Hcm91cC5sYWJlbH0sZXhpc3RpbmdPcHRpb25zPVtleGlzdGluZ1BhcmVudF0sb3B0aW9uR3JvdXBzQ2FjaGUucHVzaChleGlzdGluZ09wdGlvbnMpLHNlbGVjdEVsZW1lbnQuYXBwZW5kKGV4aXN0aW5nUGFyZW50LmVsZW1lbnQpKTooZXhpc3RpbmdPcHRpb25zPW9wdGlvbkdyb3Vwc0NhY2hlW2dyb3VwSW5kZXhdLGV4aXN0aW5nUGFyZW50PWV4aXN0aW5nT3B0aW9uc1swXSxleGlzdGluZ1BhcmVudC5sYWJlbCE9b3B0aW9uR3JvdXBOYW1lJiZleGlzdGluZ1BhcmVudC5lbGVtZW50LmF0dHIoImxhYmVsIixleGlzdGluZ1BhcmVudC5sYWJlbD1vcHRpb25Hcm91cE5hbWUpKSxsYXN0RWxlbWVudD1udWxsLGluZGV4PTAsbGVuZ3RoPW9wdGlvbkdyb3VwLmxlbmd0aDtsZW5ndGg+aW5kZXg7aW5kZXgrKylvcHRpb249b3B0aW9uR3JvdXBbaW5kZXhdLChleGlzdGluZ09wdGlvbj1leGlzdGluZ09wdGlvbnNbaW5kZXgrMV0pPyhsYXN0RWxlbWVudD1leGlzdGluZ09wdGlvbi5lbGVtZW50LGV4aXN0aW5nT3B0aW9uLmxhYmVsIT09b3B0aW9uLmxhYmVsJiZsYXN0RWxlbWVudC50ZXh0KGV4aXN0aW5nT3B0aW9uLmxhYmVsPW9wdGlvbi5sYWJlbCksZXhpc3RpbmdPcHRpb24uaWQhPT1vcHRpb24uaWQmJmxhc3RFbGVtZW50LnZhbChleGlzdGluZ09wdGlvbi5pZD1vcHRpb24uaWQpLGxhc3RFbGVtZW50WzBdLnNlbGVjdGVkIT09b3B0aW9uLnNlbGVjdGVkJiYobGFzdEVsZW1lbnQucHJvcCgic2VsZWN0ZWQiLGV4aXN0aW5nT3B0aW9uLnNlbGVjdGVkPW9wdGlvbi5zZWxlY3RlZCksbXNpZSYmbGFzdEVsZW1lbnQucHJvcCgic2VsZWN0ZWQiLGV4aXN0aW5nT3B0aW9uLnNlbGVjdGVkKSkpOigiIj09PW9wdGlvbi5pZCYmbnVsbE9wdGlvbj9lbGVtZW50PW51bGxPcHRpb246KGVsZW1lbnQ9b3B0aW9uVGVtcGxhdGUuY2xvbmUoKSkudmFsKG9wdGlvbi5pZCkucHJvcCgic2VsZWN0ZWQiLG9wdGlvbi5zZWxlY3RlZCkuYXR0cigic2VsZWN0ZWQiLG9wdGlvbi5zZWxlY3RlZCkudGV4dChvcHRpb24ubGFiZWwpLGV4aXN0aW5nT3B0aW9ucy5wdXNoKGV4aXN0aW5nT3B0aW9uPXtlbGVtZW50OmVsZW1lbnQsbGFiZWw6b3B0aW9uLmxhYmVsLGlkOm9wdGlvbi5pZCxzZWxlY3RlZDpvcHRpb24uc2VsZWN0ZWR9KSxzZWxlY3RDdHJsLmFkZE9wdGlvbihvcHRpb24ubGFiZWwsZWxlbWVudCksbGFzdEVsZW1lbnQ/bGFzdEVsZW1lbnQuYWZ0ZXIoZWxlbWVudCk6ZXhpc3RpbmdQYXJlbnQuZWxlbWVudC5hcHBlbmQoZWxlbWVudCksbGFzdEVsZW1lbnQ9ZWxlbWVudCk7Zm9yKGluZGV4Kys7ZXhpc3RpbmdPcHRpb25zLmxlbmd0aD5pbmRleDspb3B0aW9uPWV4aXN0aW5nT3B0aW9ucy5wb3AoKSxzZWxlY3RDdHJsLnJlbW92ZU9wdGlvbihvcHRpb24ubGFiZWwpLG9wdGlvbi5lbGVtZW50LnJlbW92ZSgpfWZvcig7b3B0aW9uR3JvdXBzQ2FjaGUubGVuZ3RoPmdyb3VwSW5kZXg7KW9wdGlvbkdyb3Vwc0NhY2hlLnBvcCgpWzBdLmVsZW1lbnQucmVtb3ZlKCl9dmFyIG1hdGNoO2lmKCEobWF0Y2g9b3B0aW9uc0V4cC5tYXRjaChOR19PUFRJT05TX1JFR0VYUCkpKXRocm93IG5nT3B0aW9uc01pbkVycigiaWV4cCIsIkV4cGVjdGVkIGV4cHJlc3Npb24gaW4gZm9ybSBvZiAnX3NlbGVjdF8gKGFzIF9sYWJlbF8pPyBmb3IgKF9rZXlfLCk/X3ZhbHVlXyBpbiBfY29sbGVjdGlvbl8nIGJ1dCBnb3QgJ3swfScuIEVsZW1lbnQ6IHsxfSIsb3B0aW9uc0V4cCxzdGFydGluZ1RhZyhzZWxlY3RFbGVtZW50KSk7dmFyIGRpc3BsYXlGbj0kcGFyc2UobWF0Y2hbMl18fG1hdGNoWzFdKSx2YWx1ZU5hbWU9bWF0Y2hbNF18fG1hdGNoWzZdLGtleU5hbWU9bWF0Y2hbNV0sZ3JvdXBCeUZuPSRwYXJzZShtYXRjaFszXXx8IiIpLHZhbHVlRm49JHBhcnNlKG1hdGNoWzJdP21hdGNoWzFdOnZhbHVlTmFtZSksdmFsdWVzRm49JHBhcnNlKG1hdGNoWzddKSx0cmFjaz1tYXRjaFs4XSx0cmFja0ZuPXRyYWNrPyRwYXJzZShtYXRjaFs4XSk6bnVsbCxvcHRpb25Hcm91cHNDYWNoZT1bW3tlbGVtZW50OnNlbGVjdEVsZW1lbnQsbGFiZWw6IiJ9XV07bnVsbE9wdGlvbiYmKCRjb21waWxlKG51bGxPcHRpb24pKHNjb3BlKSxudWxsT3B0aW9uLnJlbW92ZUNsYXNzKCJuZy1zY29wZSIpLG51bGxPcHRpb24ucmVtb3ZlKCkpLHNlbGVjdEVsZW1lbnQuZW1wdHkoKSxzZWxlY3RFbGVtZW50Lm9uKCJjaGFuZ2UiLGZ1bmN0aW9uKCl7c2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7dmFyIG9wdGlvbkdyb3VwLGtleSx2YWx1ZSxvcHRpb25FbGVtZW50LGluZGV4LGdyb3VwSW5kZXgsbGVuZ3RoLGdyb3VwTGVuZ3RoLHRyYWNrSW5kZXgsY29sbGVjdGlvbj12YWx1ZXNGbihzY29wZSl8fFtdLGxvY2Fscz17fTtpZihtdWx0aXBsZSl7Zm9yKHZhbHVlPVtdLGdyb3VwSW5kZXg9MCxncm91cExlbmd0aD1vcHRpb25Hcm91cHNDYWNoZS5sZW5ndGg7Z3JvdXBMZW5ndGg+Z3JvdXBJbmRleDtncm91cEluZGV4KyspZm9yKG9wdGlvbkdyb3VwPW9wdGlvbkdyb3Vwc0NhY2hlW2dyb3VwSW5kZXhdLGluZGV4PTEsbGVuZ3RoPW9wdGlvbkdyb3VwLmxlbmd0aDtsZW5ndGg+aW5kZXg7aW5kZXgrKylpZigob3B0aW9uRWxlbWVudD1vcHRpb25Hcm91cFtpbmRleF0uZWxlbWVudClbMF0uc2VsZWN0ZWQpe2lmKGtleT1vcHRpb25FbGVtZW50LnZhbCgpLGtleU5hbWUmJihsb2NhbHNba2V5TmFtZV09a2V5KSx0cmFja0ZuKWZvcih0cmFja0luZGV4PTA7dHJhY2tJbmRleDxjb2xsZWN0aW9uLmxlbmd0aCYmKGxvY2Fsc1t2YWx1ZU5hbWVdPWNvbGxlY3Rpb25bdHJhY2tJbmRleF0sdHJhY2tGbihzY29wZSxsb2NhbHMpIT1rZXkpO3RyYWNrSW5kZXgrKyk7ZWxzZSBsb2NhbHNbdmFsdWVOYW1lXT1jb2xsZWN0aW9uW2tleV07dmFsdWUucHVzaCh2YWx1ZUZuKHNjb3BlLGxvY2FscykpfX1lbHNlIGlmKGtleT1zZWxlY3RFbGVtZW50LnZhbCgpLCI/Ij09a2V5KXZhbHVlPXVuZGVmaW5lZDtlbHNlIGlmKCIiPT09a2V5KXZhbHVlPW51bGw7ZWxzZSBpZih0cmFja0ZuKXtmb3IodHJhY2tJbmRleD0wO3RyYWNrSW5kZXg8Y29sbGVjdGlvbi5sZW5ndGg7dHJhY2tJbmRleCsrKWlmKGxvY2Fsc1t2YWx1ZU5hbWVdPWNvbGxlY3Rpb25bdHJhY2tJbmRleF0sdHJhY2tGbihzY29wZSxsb2NhbHMpPT1rZXkpe3ZhbHVlPXZhbHVlRm4oc2NvcGUsbG9jYWxzKTticmVha319ZWxzZSBsb2NhbHNbdmFsdWVOYW1lXT1jb2xsZWN0aW9uW2tleV0sa2V5TmFtZSYmKGxvY2Fsc1trZXlOYW1lXT1rZXkpLHZhbHVlPXZhbHVlRm4oc2NvcGUsbG9jYWxzKTtjdHJsLiRzZXRWaWV3VmFsdWUodmFsdWUpLHJlbmRlcigpfSl9KSxjdHJsLiRyZW5kZXI9cmVuZGVyLHNjb3BlLiR3YXRjaENvbGxlY3Rpb24odmFsdWVzRm4scmVuZGVyKSxzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKGZ1bmN0aW9uKCl7dmFyIGxvY2Fscz17fSx2YWx1ZXM9dmFsdWVzRm4oc2NvcGUpO2lmKHZhbHVlcyl7Zm9yKHZhciB0b0Rpc3BsYXk9bmV3IEFycmF5KHZhbHVlcy5sZW5ndGgpLGk9MCxpaT12YWx1ZXMubGVuZ3RoO2lpPmk7aSsrKWxvY2Fsc1t2YWx1ZU5hbWVdPXZhbHVlc1tpXSx0b0Rpc3BsYXlbaV09ZGlzcGxheUZuKHNjb3BlLGxvY2Fscyk7cmV0dXJuIHRvRGlzcGxheX19LHJlbmRlciksbXVsdGlwbGUmJnNjb3BlLiR3YXRjaENvbGxlY3Rpb24oZnVuY3Rpb24oKXtyZXR1cm4gY3RybC4kbW9kZWxWYWx1ZX0scmVuZGVyKX1pZihjdHJsc1sxXSl7Zm9yKHZhciBlbXB0eU9wdGlvbixzZWxlY3RDdHJsPWN0cmxzWzBdLG5nTW9kZWxDdHJsPWN0cmxzWzFdLG11bHRpcGxlPWF0dHIubXVsdGlwbGUsb3B0aW9uc0V4cD1hdHRyLm5nT3B0aW9ucyxudWxsT3B0aW9uPSExLG9wdGlvblRlbXBsYXRlPWpxTGl0ZShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSksb3B0R3JvdXBUZW1wbGF0ZT1qcUxpdGUoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0Z3JvdXAiKSksdW5rbm93bk9wdGlvbj1vcHRpb25UZW1wbGF0ZS5jbG9uZSgpLGk9MCxjaGlsZHJlbj1lbGVtZW50LmNoaWxkcmVuKCksaWk9Y2hpbGRyZW4ubGVuZ3RoO2lpPmk7aSsrKWlmKCIiPT09Y2hpbGRyZW5baV0udmFsdWUpe2VtcHR5T3B0aW9uPW51bGxPcHRpb249Y2hpbGRyZW4uZXEoaSk7YnJlYWt9c2VsZWN0Q3RybC5pbml0KG5nTW9kZWxDdHJsLG51bGxPcHRpb24sdW5rbm93bk9wdGlvbiksbXVsdGlwbGUmJihuZ01vZGVsQ3RybC4kaXNFbXB0eT1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIXZhbHVlfHwwPT09dmFsdWUubGVuZ3RofSksb3B0aW9uc0V4cD9zZXR1cEFzT3B0aW9ucyhzY29wZSxlbGVtZW50LG5nTW9kZWxDdHJsKTptdWx0aXBsZT9zZXR1cEFzTXVsdGlwbGUoc2NvcGUsZWxlbWVudCxuZ01vZGVsQ3RybCk6c2V0dXBBc1NpbmdsZShzY29wZSxlbGVtZW50LG5nTW9kZWxDdHJsLHNlbGVjdEN0cmwpfX19fV0sb3B0aW9uRGlyZWN0aXZlPVsiJGludGVycG9sYXRlIixmdW5jdGlvbigkaW50ZXJwb2xhdGUpe3ZhciBudWxsU2VsZWN0Q3RybD17YWRkT3B0aW9uOm5vb3AscmVtb3ZlT3B0aW9uOm5vb3B9O3JldHVybntyZXN0cmljdDoiRSIscHJpb3JpdHk6MTAwLGNvbXBpbGU6ZnVuY3Rpb24oZWxlbWVudCxhdHRyKXtpZihpc1VuZGVmaW5lZChhdHRyLnZhbHVlKSl7dmFyIGludGVycG9sYXRlRm49JGludGVycG9sYXRlKGVsZW1lbnQudGV4dCgpLCEwKTtpbnRlcnBvbGF0ZUZufHxhdHRyLiRzZXQoInZhbHVlIixlbGVtZW50LnRleHQoKSl9cmV0dXJuIGZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cil7dmFyIHNlbGVjdEN0cmxOYW1lPSIkc2VsZWN0Q29udHJvbGxlciIscGFyZW50PWVsZW1lbnQucGFyZW50KCksc2VsZWN0Q3RybD1wYXJlbnQuZGF0YShzZWxlY3RDdHJsTmFtZSl8fHBhcmVudC5wYXJlbnQoKS5kYXRhKHNlbGVjdEN0cmxOYW1lKTtzZWxlY3RDdHJsJiZzZWxlY3RDdHJsLmRhdGFib3VuZD9lbGVtZW50LnByb3AoInNlbGVjdGVkIiwhMSk6c2VsZWN0Q3RybD1udWxsU2VsZWN0Q3RybCxpbnRlcnBvbGF0ZUZuP3Njb3BlLiR3YXRjaChpbnRlcnBvbGF0ZUZuLGZ1bmN0aW9uKG5ld1ZhbCxvbGRWYWwpe2F0dHIuJHNldCgidmFsdWUiLG5ld1ZhbCksbmV3VmFsIT09b2xkVmFsJiZzZWxlY3RDdHJsLnJlbW92ZU9wdGlvbihvbGRWYWwpLHNlbGVjdEN0cmwuYWRkT3B0aW9uKG5ld1ZhbCl9KTpzZWxlY3RDdHJsLmFkZE9wdGlvbihhdHRyLnZhbHVlKSxlbGVtZW50Lm9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtzZWxlY3RDdHJsLnJlbW92ZU9wdGlvbihhdHRyLnZhbHVlKX0pfX19fV0sc3R5bGVEaXJlY3RpdmU9dmFsdWVGbih7cmVzdHJpY3Q6IkUiLHRlcm1pbmFsOiEwfSk7cmV0dXJuIHdpbmRvdy5hbmd1bGFyLmJvb3RzdHJhcD92b2lkIGNvbnNvbGUubG9nKCJXQVJOSU5HOiBUcmllZCB0byBsb2FkIGFuZ3VsYXIgbW9yZSB0aGFuIG9uY2UuIik6KGJpbmRKUXVlcnkoKSxwdWJsaXNoRXh0ZXJuYWxBUEkoYW5ndWxhciksdm9pZCBqcUxpdGUoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7YW5ndWxhckluaXQoZG9jdW1lbnQsYm9vdHN0cmFwKX0pKX0od2luZG93LGRvY3VtZW50KSwhd2luZG93LmFuZ3VsYXIuJCRjc3AoKSYmd2luZG93LmFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkuZmluZCgiaGVhZCIpLnByZXBlbmQoJzxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+QGNoYXJzZXQgIlVURi04IjtbbmdcXDpjbG9ha10sW25nLWNsb2FrXSxbZGF0YS1uZy1jbG9ha10sW3gtbmctY2xvYWtdLC5uZy1jbG9haywueC1uZy1jbG9haywubmctaGlkZXtkaXNwbGF5Om5vbmUgIWltcG9ydGFudDt9bmdcXDpmb3Jte2Rpc3BsYXk6YmxvY2s7fS5uZy1hbmltYXRlLWJsb2NrLXRyYW5zaXRpb25ze3RyYW5zaXRpb246MHMgYWxsIWltcG9ydGFudDstd2Via2l0LXRyYW5zaXRpb246MHMgYWxsIWltcG9ydGFudDt9Lm5nLWhpZGUtYWRkLWFjdGl2ZSwubmctaGlkZS1yZW1vdmV7ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7fTwvc3R5bGU+JyksZnVuY3Rpb24obixlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24geChzLGcsaCl7cmV0dXJue3Jlc3RyaWN0OiJFQ0EiLHRlcm1pbmFsOiEwLHByaW9yaXR5OjQwMCx0cmFuc2NsdWRlOiJlbGVtZW50IixsaW5rOmZ1bmN0aW9uKGEsYyxiLGYsdyl7ZnVuY3Rpb24geSgpe3AmJihwLnJlbW92ZSgpLHA9bnVsbCksayYmKGsuJGRlc3Ryb3koKSxrPW51bGwpLGwmJihoLmxlYXZlKGwsZnVuY3Rpb24oKXtwPW51bGx9KSxwPWwsbD1udWxsKX1mdW5jdGlvbiB2KCl7dmFyIGI9cy5jdXJyZW50JiZzLmN1cnJlbnQubG9jYWxzO2lmKGUuaXNEZWZpbmVkKGImJmIuJHRlbXBsYXRlKSl7dmFyIGI9YS4kbmV3KCksZD1zLmN1cnJlbnQ7bD13KGIsZnVuY3Rpb24oZCl7aC5lbnRlcihkLG51bGwsbHx8YyxmdW5jdGlvbigpeyFlLmlzRGVmaW5lZCh0KXx8dCYmIWEuJGV2YWwodCl8fGcoKX0pLHkoKX0pLGs9ZC5zY29wZT1iLGsuJGVtaXQoIiR2aWV3Q29udGVudExvYWRlZCIpLGsuJGV2YWwodSl9ZWxzZSB5KCl9dmFyIGssbCxwLHQ9Yi5hdXRvc2Nyb2xsLHU9Yi5vbmxvYWR8fCIiO2EuJG9uKCIkcm91dGVDaGFuZ2VTdWNjZXNzIix2KSx2KCl9fX1mdW5jdGlvbiB6KGUsZyxoKXtyZXR1cm57cmVzdHJpY3Q6IkVDQSIscHJpb3JpdHk6LTQwMCxsaW5rOmZ1bmN0aW9uKGEsYyl7dmFyIGI9aC5jdXJyZW50LGY9Yi5sb2NhbHM7Yy5odG1sKGYuJHRlbXBsYXRlKTt2YXIgdz1lKGMuY29udGVudHMoKSk7Yi5jb250cm9sbGVyJiYoZi4kc2NvcGU9YSxmPWcoYi5jb250cm9sbGVyLGYpLGIuY29udHJvbGxlckFzJiYoYVtiLmNvbnRyb2xsZXJBc109ZiksYy5kYXRhKCIkbmdDb250cm9sbGVyQ29udHJvbGxlciIsZiksYy5jaGlsZHJlbigpLmRhdGEoIiRuZ0NvbnRyb2xsZXJDb250cm9sbGVyIixmKSksdyhhKX19fW49ZS5tb2R1bGUoIm5nUm91dGUiLFsibmciXSkucHJvdmlkZXIoIiRyb3V0ZSIsZnVuY3Rpb24oKXtmdW5jdGlvbiBzKGEsYyl7cmV0dXJuIGUuZXh0ZW5kKG5ldyhlLmV4dGVuZChmdW5jdGlvbigpe30se3Byb3RvdHlwZTphfSkpLGMpfWZ1bmN0aW9uIGcoYSxlKXt2YXIgYj1lLmNhc2VJbnNlbnNpdGl2ZU1hdGNoLGY9e29yaWdpbmFsUGF0aDphLHJlZ2V4cDphfSxoPWYua2V5cz1bXTtyZXR1cm4gYT1hLnJlcGxhY2UoLyhbKCkuXSkvZywiXFwkMSIpLnJlcGxhY2UoLyhcLyk/OihcdyspKFtcP1wqXSk/L2csZnVuY3Rpb24oYSxlLGIsYyl7cmV0dXJuIGE9Ij8iPT09Yz9jOm51bGwsYz0iKiI9PT1jP2M6bnVsbCxoLnB1c2goe25hbWU6YixvcHRpb25hbDohIWF9KSxlPWV8fCIiLCIiKyhhPyIiOmUpKyIoPzoiKyhhP2U6IiIpKyhjJiYiKC4rPykifHwiKFteL10rKSIpKyhhfHwiIikrIikiKyhhfHwiIil9KS5yZXBsYWNlKC8oW1wvJFwqXSkvZywiXFwkMSIpLGYucmVnZXhwPVJlZ0V4cCgiXiIrYSsiJCIsYj8iaSI6IiIpLGZ9dmFyIGg9e307dGhpcy53aGVuPWZ1bmN0aW9uKGEsYyl7aWYoaFthXT1lLmV4dGVuZCh7cmVsb2FkT25TZWFyY2g6ITB9LGMsYSYmZyhhLGMpKSxhKXt2YXIgYj0iLyI9PWFbYS5sZW5ndGgtMV0/YS5zdWJzdHIoMCxhLmxlbmd0aC0xKTphKyIvIjtoW2JdPWUuZXh0ZW5kKHtyZWRpcmVjdFRvOmF9LGcoYixjKSl9cmV0dXJuIHRoaXN9LHRoaXMub3RoZXJ3aXNlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLndoZW4obnVsbCxhKSx0aGlzfSx0aGlzLiRnZXQ9WyIkcm9vdFNjb3BlIiwiJGxvY2F0aW9uIiwiJHJvdXRlUGFyYW1zIiwiJHEiLCIkaW5qZWN0b3IiLCIkaHR0cCIsIiR0ZW1wbGF0ZUNhY2hlIiwiJHNjZSIsZnVuY3Rpb24oYSxjLGIsZixnLG4sdixrKXtmdW5jdGlvbiBsKCl7dmFyIGQ9cCgpLG09ci5jdXJyZW50O2QmJm0mJmQuJCRyb3V0ZT09PW0uJCRyb3V0ZSYmZS5lcXVhbHMoZC5wYXRoUGFyYW1zLG0ucGF0aFBhcmFtcykmJiFkLnJlbG9hZE9uU2VhcmNoJiYhdT8obS5wYXJhbXM9ZC5wYXJhbXMsZS5jb3B5KG0ucGFyYW1zLGIpLGEuJGJyb2FkY2FzdCgiJHJvdXRlVXBkYXRlIixtKSk6KGR8fG0pJiYodT0hMSxhLiRicm9hZGNhc3QoIiRyb3V0ZUNoYW5nZVN0YXJ0IixkLG0pLChyLmN1cnJlbnQ9ZCkmJmQucmVkaXJlY3RUbyYmKGUuaXNTdHJpbmcoZC5yZWRpcmVjdFRvKT9jLnBhdGgodChkLnJlZGlyZWN0VG8sZC5wYXJhbXMpKS5zZWFyY2goZC5wYXJhbXMpLnJlcGxhY2UoKTpjLnVybChkLnJlZGlyZWN0VG8oZC5wYXRoUGFyYW1zLGMucGF0aCgpLGMuc2VhcmNoKCkpKS5yZXBsYWNlKCkpLGYud2hlbihkKS50aGVuKGZ1bmN0aW9uKCl7aWYoZCl7dmFyIGMsYixhPWUuZXh0ZW5kKHt9LGQucmVzb2x2ZSk7cmV0dXJuIGUuZm9yRWFjaChhLGZ1bmN0aW9uKGQsYyl7YVtjXT1lLmlzU3RyaW5nKGQpP2cuZ2V0KGQpOmcuaW52b2tlKGQpfSksZS5pc0RlZmluZWQoYz1kLnRlbXBsYXRlKT9lLmlzRnVuY3Rpb24oYykmJihjPWMoZC5wYXJhbXMpKTplLmlzRGVmaW5lZChiPWQudGVtcGxhdGVVcmwpJiYoZS5pc0Z1bmN0aW9uKGIpJiYoYj1iKGQucGFyYW1zKSksYj1rLmdldFRydXN0ZWRSZXNvdXJjZVVybChiKSxlLmlzRGVmaW5lZChiKSYmKGQubG9hZGVkVGVtcGxhdGVVcmw9YixjPW4uZ2V0KGIse2NhY2hlOnZ9KS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmRhdGF9KSkpLGUuaXNEZWZpbmVkKGMpJiYoYS4kdGVtcGxhdGU9YyksZi5hbGwoYSl9fSkudGhlbihmdW5jdGlvbihjKXtkPT1yLmN1cnJlbnQmJihkJiYoZC5sb2NhbHM9YyxlLmNvcHkoZC5wYXJhbXMsYikpLGEuJGJyb2FkY2FzdCgiJHJvdXRlQ2hhbmdlU3VjY2VzcyIsZCxtKSl9LGZ1bmN0aW9uKGMpe2Q9PXIuY3VycmVudCYmYS4kYnJvYWRjYXN0KCIkcm91dGVDaGFuZ2VFcnJvciIsZCxtLGMpfSkpfWZ1bmN0aW9uIHAoKXt2YXIgYSxiO3JldHVybiBlLmZvckVhY2goaCxmdW5jdGlvbihmKXt2YXIgcTtpZihxPSFiKXt2YXIgZz1jLnBhdGgoKTtxPWYua2V5czt2YXIgbD17fTtpZihmLnJlZ2V4cClpZihnPWYucmVnZXhwLmV4ZWMoZykpe2Zvcih2YXIgaz0xLHA9Zy5sZW5ndGg7cD5rOysrayl7dmFyIG49cVtrLTFdLHI9Z1trXTtuJiZyJiYobFtuLm5hbWVdPXIpfXE9bH1lbHNlIHE9bnVsbDtlbHNlIHE9bnVsbDtxPWE9cX1xJiYoYj1zKGYse3BhcmFtczplLmV4dGVuZCh7fSxjLnNlYXJjaCgpLGEpLHBhdGhQYXJhbXM6YX0pLGIuJCRyb3V0ZT1mKX0pLGJ8fGhbbnVsbF0mJnMoaFtudWxsXSx7cGFyYW1zOnt9LHBhdGhQYXJhbXM6e319KX1mdW5jdGlvbiB0KGEsYyl7dmFyIGI9W107cmV0dXJuIGUuZm9yRWFjaCgoYXx8IiIpLnNwbGl0KCI6IiksZnVuY3Rpb24oYSxkKXtpZigwPT09ZCliLnB1c2goYSk7ZWxzZXt2YXIgZT1hLm1hdGNoKC8oXHcrKSguKikvKSxmPWVbMV07Yi5wdXNoKGNbZl0pLGIucHVzaChlWzJdfHwiIiksZGVsZXRlIGNbZl19fSksYi5qb2luKCIiKX12YXIgdT0hMSxyPXtyb3V0ZXM6aCxyZWxvYWQ6ZnVuY3Rpb24oKXt1PSEwLGEuJGV2YWxBc3luYyhsKX19O3JldHVybiBhLiRvbigiJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcyIsbCkscn1dfSksbi5wcm92aWRlcigiJHJvdXRlUGFyYW1zIixmdW5jdGlvbigpe3RoaXMuJGdldD1mdW5jdGlvbigpe3JldHVybnt9fX0pLG4uZGlyZWN0aXZlKCJuZ1ZpZXciLHgpLG4uZGlyZWN0aXZlKCJuZ1ZpZXciLHopLHguJGluamVjdD1bIiRyb3V0ZSIsIiRhbmNob3JTY3JvbGwiLCIkYW5pbWF0ZSJdLHouJGluamVjdD1bIiRjb21waWxlIiwiJGNvbnRyb2xsZXIiLCIkcm91dGUiXX0od2luZG93LHdpbmRvdy5hbmd1bGFyKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwIixbInVpLmJvb3RzdHJhcC50cmFuc2l0aW9uIiwidWkuYm9vdHN0cmFwLmNvbGxhcHNlIiwidWkuYm9vdHN0cmFwLmFjY29yZGlvbiIsInVpLmJvb3RzdHJhcC5hbGVydCIsInVpLmJvb3RzdHJhcC5iaW5kSHRtbCIsInVpLmJvb3RzdHJhcC5idXR0b25zIiwidWkuYm9vdHN0cmFwLmNhcm91c2VsIiwidWkuYm9vdHN0cmFwLmRhdGVwYXJzZXIiLCJ1aS5ib290c3RyYXAucG9zaXRpb24iLCJ1aS5ib290c3RyYXAuZGF0ZXBpY2tlciIsInVpLmJvb3RzdHJhcC5kcm9wZG93biIsInVpLmJvb3RzdHJhcC5tb2RhbCIsInVpLmJvb3RzdHJhcC5wYWdpbmF0aW9uIiwidWkuYm9vdHN0cmFwLnRvb2x0aXAiLCJ1aS5ib290c3RyYXAucG9wb3ZlciIsInVpLmJvb3RzdHJhcC5wcm9ncmVzc2JhciIsInVpLmJvb3RzdHJhcC5yYXRpbmciLCJ1aS5ib290c3RyYXAudGFicyIsInVpLmJvb3RzdHJhcC50aW1lcGlja2VyIiwidWkuYm9vdHN0cmFwLnR5cGVhaGVhZCJdKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnRyYW5zaXRpb24iLFtdKS5mYWN0b3J5KCIkdHJhbnNpdGlvbiIsWyIkcSIsIiR0aW1lb3V0IiwiJHJvb3RTY29wZSIsZnVuY3Rpb24oJHEsJHRpbWVvdXQsJHJvb3RTY29wZSl7ZnVuY3Rpb24gZmluZEVuZEV2ZW50TmFtZShlbmRFdmVudE5hbWVzKXtmb3IodmFyIG5hbWUgaW4gZW5kRXZlbnROYW1lcylpZih2b2lkIDAhPT10cmFuc0VsZW1lbnQuc3R5bGVbbmFtZV0pcmV0dXJuIGVuZEV2ZW50TmFtZXNbbmFtZV19dmFyICR0cmFuc2l0aW9uPWZ1bmN0aW9uKGVsZW1lbnQsdHJpZ2dlcixvcHRpb25zKXtvcHRpb25zPW9wdGlvbnN8fHt9O3ZhciBkZWZlcnJlZD0kcS5kZWZlcigpLGVuZEV2ZW50TmFtZT0kdHJhbnNpdGlvbltvcHRpb25zLmFuaW1hdGlvbj8iYW5pbWF0aW9uRW5kRXZlbnROYW1lIjoidHJhbnNpdGlvbkVuZEV2ZW50TmFtZSJdLHRyYW5zaXRpb25FbmRIYW5kbGVyPWZ1bmN0aW9uKCl7JHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtlbGVtZW50LnVuYmluZChlbmRFdmVudE5hbWUsdHJhbnNpdGlvbkVuZEhhbmRsZXIpLGRlZmVycmVkLnJlc29sdmUoZWxlbWVudCl9KX07cmV0dXJuIGVuZEV2ZW50TmFtZSYmZWxlbWVudC5iaW5kKGVuZEV2ZW50TmFtZSx0cmFuc2l0aW9uRW5kSGFuZGxlciksJHRpbWVvdXQoZnVuY3Rpb24oKXthbmd1bGFyLmlzU3RyaW5nKHRyaWdnZXIpP2VsZW1lbnQuYWRkQ2xhc3ModHJpZ2dlcik6YW5ndWxhci5pc0Z1bmN0aW9uKHRyaWdnZXIpP3RyaWdnZXIoZWxlbWVudCk6YW5ndWxhci5pc09iamVjdCh0cmlnZ2VyKSYmZWxlbWVudC5jc3ModHJpZ2dlciksZW5kRXZlbnROYW1lfHxkZWZlcnJlZC5yZXNvbHZlKGVsZW1lbnQpfSksZGVmZXJyZWQucHJvbWlzZS5jYW5jZWw9ZnVuY3Rpb24oKXtlbmRFdmVudE5hbWUmJmVsZW1lbnQudW5iaW5kKGVuZEV2ZW50TmFtZSx0cmFuc2l0aW9uRW5kSGFuZGxlciksZGVmZXJyZWQucmVqZWN0KCJUcmFuc2l0aW9uIGNhbmNlbGxlZCIpfSxkZWZlcnJlZC5wcm9taXNlfSx0cmFuc0VsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHJhbnMiKSx0cmFuc2l0aW9uRW5kRXZlbnROYW1lcz17V2Via2l0VHJhbnNpdGlvbjoid2Via2l0VHJhbnNpdGlvbkVuZCIsTW96VHJhbnNpdGlvbjoidHJhbnNpdGlvbmVuZCIsT1RyYW5zaXRpb246Im9UcmFuc2l0aW9uRW5kIix0cmFuc2l0aW9uOiJ0cmFuc2l0aW9uZW5kIn0sYW5pbWF0aW9uRW5kRXZlbnROYW1lcz17V2Via2l0VHJhbnNpdGlvbjoid2Via2l0QW5pbWF0aW9uRW5kIixNb3pUcmFuc2l0aW9uOiJhbmltYXRpb25lbmQiLE9UcmFuc2l0aW9uOiJvQW5pbWF0aW9uRW5kIix0cmFuc2l0aW9uOiJhbmltYXRpb25lbmQifTtyZXR1cm4gJHRyYW5zaXRpb24udHJhbnNpdGlvbkVuZEV2ZW50TmFtZT1maW5kRW5kRXZlbnROYW1lKHRyYW5zaXRpb25FbmRFdmVudE5hbWVzKSwkdHJhbnNpdGlvbi5hbmltYXRpb25FbmRFdmVudE5hbWU9ZmluZEVuZEV2ZW50TmFtZShhbmltYXRpb25FbmRFdmVudE5hbWVzKSwkdHJhbnNpdGlvbn1dKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmNvbGxhcHNlIixbInVpLmJvb3RzdHJhcC50cmFuc2l0aW9uIl0pLmRpcmVjdGl2ZSgiY29sbGFwc2UiLFsiJHRyYW5zaXRpb24iLGZ1bmN0aW9uKCR0cmFuc2l0aW9uKXtyZXR1cm57bGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzKXtmdW5jdGlvbiBkb1RyYW5zaXRpb24oY2hhbmdlKXtmdW5jdGlvbiBuZXdUcmFuc2l0aW9uRG9uZSgpe2N1cnJlbnRUcmFuc2l0aW9uPT09bmV3VHJhbnNpdGlvbiYmKGN1cnJlbnRUcmFuc2l0aW9uPXZvaWQgMCl9dmFyIG5ld1RyYW5zaXRpb249JHRyYW5zaXRpb24oZWxlbWVudCxjaGFuZ2UpO3JldHVybiBjdXJyZW50VHJhbnNpdGlvbiYmY3VycmVudFRyYW5zaXRpb24uY2FuY2VsKCksY3VycmVudFRyYW5zaXRpb249bmV3VHJhbnNpdGlvbixuZXdUcmFuc2l0aW9uLnRoZW4obmV3VHJhbnNpdGlvbkRvbmUsbmV3VHJhbnNpdGlvbkRvbmUpLG5ld1RyYW5zaXRpb259ZnVuY3Rpb24gZXhwYW5kKCl7aW5pdGlhbEFuaW1Ta2lwPyhpbml0aWFsQW5pbVNraXA9ITEsZXhwYW5kRG9uZSgpKTooZWxlbWVudC5yZW1vdmVDbGFzcygiY29sbGFwc2UiKS5hZGRDbGFzcygiY29sbGFwc2luZyIpLGRvVHJhbnNpdGlvbih7aGVpZ2h0OmVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0KyJweCJ9KS50aGVuKGV4cGFuZERvbmUpKX1mdW5jdGlvbiBleHBhbmREb25lKCl7ZWxlbWVudC5yZW1vdmVDbGFzcygiY29sbGFwc2luZyIpLGVsZW1lbnQuYWRkQ2xhc3MoImNvbGxhcHNlIGluIiksZWxlbWVudC5jc3Moe2hlaWdodDoiYXV0byJ9KX1mdW5jdGlvbiBjb2xsYXBzZSgpe2lmKGluaXRpYWxBbmltU2tpcClpbml0aWFsQW5pbVNraXA9ITEsY29sbGFwc2VEb25lKCksZWxlbWVudC5jc3Moe2hlaWdodDowfSk7ZWxzZXtlbGVtZW50LmNzcyh7aGVpZ2h0OmVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0KyJweCJ9KTt7ZWxlbWVudFswXS5vZmZzZXRXaWR0aH1lbGVtZW50LnJlbW92ZUNsYXNzKCJjb2xsYXBzZSBpbiIpLmFkZENsYXNzKCJjb2xsYXBzaW5nIiksZG9UcmFuc2l0aW9uKHtoZWlnaHQ6MH0pLnRoZW4oY29sbGFwc2VEb25lKX19ZnVuY3Rpb24gY29sbGFwc2VEb25lKCl7ZWxlbWVudC5yZW1vdmVDbGFzcygiY29sbGFwc2luZyIpLGVsZW1lbnQuYWRkQ2xhc3MoImNvbGxhcHNlIil9dmFyIGN1cnJlbnRUcmFuc2l0aW9uLGluaXRpYWxBbmltU2tpcD0hMDtzY29wZS4kd2F0Y2goYXR0cnMuY29sbGFwc2UsZnVuY3Rpb24oc2hvdWxkQ29sbGFwc2Upe3Nob3VsZENvbGxhcHNlP2NvbGxhcHNlKCk6ZXhwYW5kKCl9KX19fV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuYWNjb3JkaW9uIixbInVpLmJvb3RzdHJhcC5jb2xsYXBzZSJdKS5jb25zdGFudCgiYWNjb3JkaW9uQ29uZmlnIix7Y2xvc2VPdGhlcnM6ITB9KS5jb250cm9sbGVyKCJBY2NvcmRpb25Db250cm9sbGVyIixbIiRzY29wZSIsIiRhdHRycyIsImFjY29yZGlvbkNvbmZpZyIsZnVuY3Rpb24oJHNjb3BlLCRhdHRycyxhY2NvcmRpb25Db25maWcpe3RoaXMuZ3JvdXBzPVtdLHRoaXMuY2xvc2VPdGhlcnM9ZnVuY3Rpb24ob3Blbkdyb3VwKXt2YXIgY2xvc2VPdGhlcnM9YW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmNsb3NlT3RoZXJzKT8kc2NvcGUuJGV2YWwoJGF0dHJzLmNsb3NlT3RoZXJzKTphY2NvcmRpb25Db25maWcuY2xvc2VPdGhlcnM7Y2xvc2VPdGhlcnMmJmFuZ3VsYXIuZm9yRWFjaCh0aGlzLmdyb3VwcyxmdW5jdGlvbihncm91cCl7Z3JvdXAhPT1vcGVuR3JvdXAmJihncm91cC5pc09wZW49ITEpfSl9LHRoaXMuYWRkR3JvdXA9ZnVuY3Rpb24oZ3JvdXBTY29wZSl7dmFyIHRoYXQ9dGhpczt0aGlzLmdyb3Vwcy5wdXNoKGdyb3VwU2NvcGUpLGdyb3VwU2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXt0aGF0LnJlbW92ZUdyb3VwKGdyb3VwU2NvcGUpfSl9LHRoaXMucmVtb3ZlR3JvdXA9ZnVuY3Rpb24oZ3JvdXApe3ZhciBpbmRleD10aGlzLmdyb3Vwcy5pbmRleE9mKGdyb3VwKTstMSE9PWluZGV4JiZ0aGlzLmdyb3Vwcy5zcGxpY2UoaW5kZXgsMSl9fV0pLmRpcmVjdGl2ZSgiYWNjb3JkaW9uIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLGNvbnRyb2xsZXI6IkFjY29yZGlvbkNvbnRyb2xsZXIiLHRyYW5zY2x1ZGU6ITAscmVwbGFjZTohMSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sIn19KS5kaXJlY3RpdmUoImFjY29yZGlvbkdyb3VwIixmdW5jdGlvbigpe3JldHVybntyZXF1aXJlOiJeYWNjb3JkaW9uIixyZXN0cmljdDoiRUEiLHRyYW5zY2x1ZGU6ITAscmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi1ncm91cC5odG1sIixzY29wZTp7aGVhZGluZzoiQCIsaXNPcGVuOiI9PyIsaXNEaXNhYmxlZDoiPT8ifSxjb250cm9sbGVyOmZ1bmN0aW9uKCl7dGhpcy5zZXRIZWFkaW5nPWZ1bmN0aW9uKGVsZW1lbnQpe3RoaXMuaGVhZGluZz1lbGVtZW50fX0sbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGFjY29yZGlvbkN0cmwpe2FjY29yZGlvbkN0cmwuYWRkR3JvdXAoc2NvcGUpLHNjb3BlLiR3YXRjaCgiaXNPcGVuIixmdW5jdGlvbih2YWx1ZSl7dmFsdWUmJmFjY29yZGlvbkN0cmwuY2xvc2VPdGhlcnMoc2NvcGUpfSksc2NvcGUudG9nZ2xlT3Blbj1mdW5jdGlvbigpe3Njb3BlLmlzRGlzYWJsZWR8fChzY29wZS5pc09wZW49IXNjb3BlLmlzT3Blbil9fX19KS5kaXJlY3RpdmUoImFjY29yZGlvbkhlYWRpbmciLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsdHJhbnNjbHVkZTohMCx0ZW1wbGF0ZToiIixyZXBsYWNlOiEwLHJlcXVpcmU6Il5hY2NvcmRpb25Hcm91cCIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIsYWNjb3JkaW9uR3JvdXBDdHJsLHRyYW5zY2x1ZGUpe2FjY29yZGlvbkdyb3VwQ3RybC5zZXRIZWFkaW5nKHRyYW5zY2x1ZGUoc2NvcGUsZnVuY3Rpb24oKXt9KSl9fX0pLmRpcmVjdGl2ZSgiYWNjb3JkaW9uVHJhbnNjbHVkZSIsZnVuY3Rpb24oKXtyZXR1cm57cmVxdWlyZToiXmFjY29yZGlvbkdyb3VwIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cixjb250cm9sbGVyKXtzY29wZS4kd2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4gY29udHJvbGxlclthdHRyLmFjY29yZGlvblRyYW5zY2x1ZGVdfSxmdW5jdGlvbihoZWFkaW5nKXtoZWFkaW5nJiYoZWxlbWVudC5odG1sKCIiKSxlbGVtZW50LmFwcGVuZChoZWFkaW5nKSl9KX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5hbGVydCIsW10pLmNvbnRyb2xsZXIoIkFsZXJ0Q29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLGZ1bmN0aW9uKCRzY29wZSwkYXR0cnMpeyRzY29wZS5jbG9zZWFibGU9ImNsb3NlImluICRhdHRyc31dKS5kaXJlY3RpdmUoImFsZXJ0IixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLGNvbnRyb2xsZXI6IkFsZXJ0Q29udHJvbGxlciIsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWwiLHRyYW5zY2x1ZGU6ITAscmVwbGFjZTohMCxzY29wZTp7dHlwZToiQCIsY2xvc2U6IiYifX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmJpbmRIdG1sIixbXSkuZGlyZWN0aXZlKCJiaW5kSHRtbFVuc2FmZSIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyKXtlbGVtZW50LmFkZENsYXNzKCJuZy1iaW5kaW5nIikuZGF0YSgiJGJpbmRpbmciLGF0dHIuYmluZEh0bWxVbnNhZmUpLHNjb3BlLiR3YXRjaChhdHRyLmJpbmRIdG1sVW5zYWZlLGZ1bmN0aW9uKHZhbHVlKXtlbGVtZW50Lmh0bWwodmFsdWV8fCIiKX0pfX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuYnV0dG9ucyIsW10pLmNvbnN0YW50KCJidXR0b25Db25maWciLHthY3RpdmVDbGFzczoiYWN0aXZlIix0b2dnbGVFdmVudDoiY2xpY2sifSkuY29udHJvbGxlcigiQnV0dG9uc0NvbnRyb2xsZXIiLFsiYnV0dG9uQ29uZmlnIixmdW5jdGlvbihidXR0b25Db25maWcpe3RoaXMuYWN0aXZlQ2xhc3M9YnV0dG9uQ29uZmlnLmFjdGl2ZUNsYXNzfHwiYWN0aXZlIix0aGlzLnRvZ2dsZUV2ZW50PWJ1dHRvbkNvbmZpZy50b2dnbGVFdmVudHx8ImNsaWNrIn1dKS5kaXJlY3RpdmUoImJ0blJhZGlvIixmdW5jdGlvbigpe3JldHVybntyZXF1aXJlOlsiYnRuUmFkaW8iLCJuZ01vZGVsIl0sY29udHJvbGxlcjoiQnV0dG9uc0NvbnRyb2xsZXIiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjdHJscyl7dmFyIGJ1dHRvbnNDdHJsPWN0cmxzWzBdLG5nTW9kZWxDdHJsPWN0cmxzWzFdO25nTW9kZWxDdHJsLiRyZW5kZXI9ZnVuY3Rpb24oKXtlbGVtZW50LnRvZ2dsZUNsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzLGFuZ3VsYXIuZXF1YWxzKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlLHNjb3BlLiRldmFsKGF0dHJzLmJ0blJhZGlvKSkpfSxlbGVtZW50LmJpbmQoYnV0dG9uc0N0cmwudG9nZ2xlRXZlbnQsZnVuY3Rpb24oKXt2YXIgaXNBY3RpdmU9ZWxlbWVudC5oYXNDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcyk7KCFpc0FjdGl2ZXx8YW5ndWxhci5pc0RlZmluZWQoYXR0cnMudW5jaGVja2FibGUpKSYmc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7bmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShpc0FjdGl2ZT9udWxsOnNjb3BlLiRldmFsKGF0dHJzLmJ0blJhZGlvKSksbmdNb2RlbEN0cmwuJHJlbmRlcigpfSl9KX19fSkuZGlyZWN0aXZlKCJidG5DaGVja2JveCIsZnVuY3Rpb24oKXtyZXR1cm57cmVxdWlyZTpbImJ0bkNoZWNrYm94IiwibmdNb2RlbCJdLGNvbnRyb2xsZXI6IkJ1dHRvbnNDb250cm9sbGVyIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsY3RybHMpe2Z1bmN0aW9uIGdldFRydWVWYWx1ZSgpe3JldHVybiBnZXRDaGVja2JveFZhbHVlKGF0dHJzLmJ0bkNoZWNrYm94VHJ1ZSwhMCl9ZnVuY3Rpb24gZ2V0RmFsc2VWYWx1ZSgpe3JldHVybiBnZXRDaGVja2JveFZhbHVlKGF0dHJzLmJ0bkNoZWNrYm94RmFsc2UsITEpfWZ1bmN0aW9uIGdldENoZWNrYm94VmFsdWUoYXR0cmlidXRlVmFsdWUsZGVmYXVsdFZhbHVlKXt2YXIgdmFsPXNjb3BlLiRldmFsKGF0dHJpYnV0ZVZhbHVlKTtyZXR1cm4gYW5ndWxhci5pc0RlZmluZWQodmFsKT92YWw6ZGVmYXVsdFZhbHVlfXZhciBidXR0b25zQ3RybD1jdHJsc1swXSxuZ01vZGVsQ3RybD1jdHJsc1sxXTtuZ01vZGVsQ3RybC4kcmVuZGVyPWZ1bmN0aW9uKCl7ZWxlbWVudC50b2dnbGVDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcyxhbmd1bGFyLmVxdWFscyhuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSxnZXRUcnVlVmFsdWUoKSkpfSxlbGVtZW50LmJpbmQoYnV0dG9uc0N0cmwudG9nZ2xlRXZlbnQsZnVuY3Rpb24oKXtzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKGVsZW1lbnQuaGFzQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MpP2dldEZhbHNlVmFsdWUoKTpnZXRUcnVlVmFsdWUoKSksbmdNb2RlbEN0cmwuJHJlbmRlcigpfSl9KX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5jYXJvdXNlbCIsWyJ1aS5ib290c3RyYXAudHJhbnNpdGlvbiJdKS5jb250cm9sbGVyKCJDYXJvdXNlbENvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJHRpbWVvdXQiLCIkdHJhbnNpdGlvbiIsZnVuY3Rpb24oJHNjb3BlLCR0aW1lb3V0LCR0cmFuc2l0aW9uKXtmdW5jdGlvbiByZXN0YXJ0VGltZXIoKXtyZXNldFRpbWVyKCk7dmFyIGludGVydmFsPSskc2NvcGUuaW50ZXJ2YWw7IWlzTmFOKGludGVydmFsKSYmaW50ZXJ2YWw+PTAmJihjdXJyZW50VGltZW91dD0kdGltZW91dCh0aW1lckZuLGludGVydmFsKSl9ZnVuY3Rpb24gcmVzZXRUaW1lcigpe2N1cnJlbnRUaW1lb3V0JiYoJHRpbWVvdXQuY2FuY2VsKGN1cnJlbnRUaW1lb3V0KSxjdXJyZW50VGltZW91dD1udWxsKX1mdW5jdGlvbiB0aW1lckZuKCl7aXNQbGF5aW5nPygkc2NvcGUubmV4dCgpLHJlc3RhcnRUaW1lcigpKTokc2NvcGUucGF1c2UoKX12YXIgY3VycmVudFRpbWVvdXQsaXNQbGF5aW5nLHNlbGY9dGhpcyxzbGlkZXM9c2VsZi5zbGlkZXM9JHNjb3BlLnNsaWRlcz1bXSxjdXJyZW50SW5kZXg9LTE7c2VsZi5jdXJyZW50U2xpZGU9bnVsbDt2YXIgZGVzdHJveWVkPSExO3NlbGYuc2VsZWN0PSRzY29wZS5zZWxlY3Q9ZnVuY3Rpb24obmV4dFNsaWRlLGRpcmVjdGlvbil7ZnVuY3Rpb24gZ29OZXh0KCl7aWYoIWRlc3Ryb3llZCl7aWYoc2VsZi5jdXJyZW50U2xpZGUmJmFuZ3VsYXIuaXNTdHJpbmcoZGlyZWN0aW9uKSYmISRzY29wZS5ub1RyYW5zaXRpb24mJm5leHRTbGlkZS4kZWxlbWVudCl7bmV4dFNsaWRlLiRlbGVtZW50LmFkZENsYXNzKGRpcmVjdGlvbik7e25leHRTbGlkZS4kZWxlbWVudFswXS5vZmZzZXRXaWR0aH1hbmd1bGFyLmZvckVhY2goc2xpZGVzLGZ1bmN0aW9uKHNsaWRlKXthbmd1bGFyLmV4dGVuZChzbGlkZSx7ZGlyZWN0aW9uOiIiLGVudGVyaW5nOiExLGxlYXZpbmc6ITEsYWN0aXZlOiExfSl9KSxhbmd1bGFyLmV4dGVuZChuZXh0U2xpZGUse2RpcmVjdGlvbjpkaXJlY3Rpb24sYWN0aXZlOiEwLGVudGVyaW5nOiEwfSksYW5ndWxhci5leHRlbmQoc2VsZi5jdXJyZW50U2xpZGV8fHt9LHtkaXJlY3Rpb246ZGlyZWN0aW9uLGxlYXZpbmc6ITB9KSwkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uPSR0cmFuc2l0aW9uKG5leHRTbGlkZS4kZWxlbWVudCx7fSksZnVuY3Rpb24obmV4dCxjdXJyZW50KXskc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uLnRoZW4oZnVuY3Rpb24oKXt0cmFuc2l0aW9uRG9uZShuZXh0LGN1cnJlbnQpfSxmdW5jdGlvbigpe3RyYW5zaXRpb25Eb25lKG5leHQsY3VycmVudCl9KX0obmV4dFNsaWRlLHNlbGYuY3VycmVudFNsaWRlKX1lbHNlIHRyYW5zaXRpb25Eb25lKG5leHRTbGlkZSxzZWxmLmN1cnJlbnRTbGlkZSk7c2VsZi5jdXJyZW50U2xpZGU9bmV4dFNsaWRlLGN1cnJlbnRJbmRleD1uZXh0SW5kZXgscmVzdGFydFRpbWVyKCl9fWZ1bmN0aW9uIHRyYW5zaXRpb25Eb25lKG5leHQsY3VycmVudCl7YW5ndWxhci5leHRlbmQobmV4dCx7ZGlyZWN0aW9uOiIiLGFjdGl2ZTohMCxsZWF2aW5nOiExLGVudGVyaW5nOiExfSksYW5ndWxhci5leHRlbmQoY3VycmVudHx8e30se2RpcmVjdGlvbjoiIixhY3RpdmU6ITEsbGVhdmluZzohMSxlbnRlcmluZzohMX0pLCRzY29wZS4kY3VycmVudFRyYW5zaXRpb249bnVsbH12YXIgbmV4dEluZGV4PXNsaWRlcy5pbmRleE9mKG5leHRTbGlkZSk7dm9pZCAwPT09ZGlyZWN0aW9uJiYoZGlyZWN0aW9uPW5leHRJbmRleD5jdXJyZW50SW5kZXg/Im5leHQiOiJwcmV2IiksbmV4dFNsaWRlJiZuZXh0U2xpZGUhPT1zZWxmLmN1cnJlbnRTbGlkZSYmKCRzY29wZS4kY3VycmVudFRyYW5zaXRpb24/KCRzY29wZS4kY3VycmVudFRyYW5zaXRpb24uY2FuY2VsKCksJHRpbWVvdXQoZ29OZXh0KSk6Z29OZXh0KCkpfSwkc2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtkZXN0cm95ZWQ9ITB9KSxzZWxmLmluZGV4T2ZTbGlkZT1mdW5jdGlvbihzbGlkZSl7cmV0dXJuIHNsaWRlcy5pbmRleE9mKHNsaWRlKX0sJHNjb3BlLm5leHQ9ZnVuY3Rpb24oKXt2YXIgbmV3SW5kZXg9KGN1cnJlbnRJbmRleCsxKSVzbGlkZXMubGVuZ3RoO3JldHVybiAkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uP3ZvaWQgMDpzZWxmLnNlbGVjdChzbGlkZXNbbmV3SW5kZXhdLCJuZXh0Iil9LCRzY29wZS5wcmV2PWZ1bmN0aW9uKCl7dmFyIG5ld0luZGV4PTA+Y3VycmVudEluZGV4LTE/c2xpZGVzLmxlbmd0aC0xOmN1cnJlbnRJbmRleC0xO3JldHVybiAkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uP3ZvaWQgMDpzZWxmLnNlbGVjdChzbGlkZXNbbmV3SW5kZXhdLCJwcmV2Iil9LCRzY29wZS5pc0FjdGl2ZT1mdW5jdGlvbihzbGlkZSl7cmV0dXJuIHNlbGYuY3VycmVudFNsaWRlPT09c2xpZGV9LCRzY29wZS4kd2F0Y2goImludGVydmFsIixyZXN0YXJ0VGltZXIpLCRzY29wZS4kb24oIiRkZXN0cm95IixyZXNldFRpbWVyKSwkc2NvcGUucGxheT1mdW5jdGlvbigpe2lzUGxheWluZ3x8KGlzUGxheWluZz0hMCxyZXN0YXJ0VGltZXIoKSl9LCRzY29wZS5wYXVzZT1mdW5jdGlvbigpeyRzY29wZS5ub1BhdXNlfHwoaXNQbGF5aW5nPSExLHJlc2V0VGltZXIoKSl9LHNlbGYuYWRkU2xpZGU9ZnVuY3Rpb24oc2xpZGUsZWxlbWVudCl7c2xpZGUuJGVsZW1lbnQ9ZWxlbWVudCxzbGlkZXMucHVzaChzbGlkZSksMT09PXNsaWRlcy5sZW5ndGh8fHNsaWRlLmFjdGl2ZT8oc2VsZi5zZWxlY3Qoc2xpZGVzW3NsaWRlcy5sZW5ndGgtMV0pLDE9PXNsaWRlcy5sZW5ndGgmJiRzY29wZS5wbGF5KCkpOnNsaWRlLmFjdGl2ZT0hMX0sc2VsZi5yZW1vdmVTbGlkZT1mdW5jdGlvbihzbGlkZSl7dmFyIGluZGV4PXNsaWRlcy5pbmRleE9mKHNsaWRlKTtzbGlkZXMuc3BsaWNlKGluZGV4LDEpLHNsaWRlcy5sZW5ndGg+MCYmc2xpZGUuYWN0aXZlP3NlbGYuc2VsZWN0KGluZGV4Pj1zbGlkZXMubGVuZ3RoP3NsaWRlc1tpbmRleC0xXTpzbGlkZXNbaW5kZXhdKTpjdXJyZW50SW5kZXg+aW5kZXgmJmN1cnJlbnRJbmRleC0tfX1dKS5kaXJlY3RpdmUoImNhcm91c2VsIixbZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIix0cmFuc2NsdWRlOiEwLHJlcGxhY2U6ITAsY29udHJvbGxlcjoiQ2Fyb3VzZWxDb250cm9sbGVyIixyZXF1aXJlOiJjYXJvdXNlbCIsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2Nhcm91c2VsL2Nhcm91c2VsLmh0bWwiLHNjb3BlOntpbnRlcnZhbDoiPSIsbm9UcmFuc2l0aW9uOiI9Iixub1BhdXNlOiI9In19fV0pLmRpcmVjdGl2ZSgic2xpZGUiLGZ1bmN0aW9uKCl7cmV0dXJue3JlcXVpcmU6Il5jYXJvdXNlbCIscmVzdHJpY3Q6IkVBIix0cmFuc2NsdWRlOiEwLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWwiLHNjb3BlOnthY3RpdmU6Ij0/In0sbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGNhcm91c2VsQ3RybCl7Y2Fyb3VzZWxDdHJsLmFkZFNsaWRlKHNjb3BlLGVsZW1lbnQpLHNjb3BlLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7Y2Fyb3VzZWxDdHJsLnJlbW92ZVNsaWRlKHNjb3BlKX0pLHNjb3BlLiR3YXRjaCgiYWN0aXZlIixmdW5jdGlvbihhY3RpdmUpe2FjdGl2ZSYmY2Fyb3VzZWxDdHJsLnNlbGVjdChzY29wZSl9KX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5kYXRlcGFyc2VyIixbXSkuc2VydmljZSgiZGF0ZVBhcnNlciIsWyIkbG9jYWxlIiwib3JkZXJCeUZpbHRlciIsZnVuY3Rpb24oJGxvY2FsZSxvcmRlckJ5RmlsdGVyKXtmdW5jdGlvbiBjcmVhdGVQYXJzZXIoZm9ybWF0KXt2YXIgbWFwPVtdLHJlZ2V4PWZvcm1hdC5zcGxpdCgiIik7cmV0dXJuIGFuZ3VsYXIuZm9yRWFjaChmb3JtYXRDb2RlVG9SZWdleCxmdW5jdGlvbihkYXRhLGNvZGUpe3ZhciBpbmRleD1mb3JtYXQuaW5kZXhPZihjb2RlKTtpZihpbmRleD4tMSl7Zm9ybWF0PWZvcm1hdC5zcGxpdCgiIikscmVnZXhbaW5kZXhdPSIoIitkYXRhLnJlZ2V4KyIpIixmb3JtYXRbaW5kZXhdPSIkIjtmb3IodmFyIGk9aW5kZXgrMSxuPWluZGV4K2NvZGUubGVuZ3RoO24+aTtpKyspcmVnZXhbaV09IiIsZm9ybWF0W2ldPSIkIjtmb3JtYXQ9Zm9ybWF0LmpvaW4oIiIpLG1hcC5wdXNoKHtpbmRleDppbmRleCxhcHBseTpkYXRhLmFwcGx5fSl9fSkse3JlZ2V4Om5ldyBSZWdFeHAoIl4iK3JlZ2V4LmpvaW4oIiIpKyIkIiksbWFwOm9yZGVyQnlGaWx0ZXIobWFwLCJpbmRleCIpfX1mdW5jdGlvbiBpc1ZhbGlkKHllYXIsbW9udGgsZGF0ZSl7cmV0dXJuIDE9PT1tb250aCYmZGF0ZT4yOD8yOT09PWRhdGUmJih5ZWFyJTQ9PT0wJiZ5ZWFyJTEwMCE9PTB8fHllYXIlNDAwPT09MCk6Mz09PW1vbnRofHw1PT09bW9udGh8fDg9PT1tb250aHx8MTA9PT1tb250aD8zMT5kYXRlOiEwfXRoaXMucGFyc2Vycz17fTt2YXIgZm9ybWF0Q29kZVRvUmVnZXg9e3l5eXk6e3JlZ2V4OiJcXGR7NH0iLGFwcGx5OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLnllYXI9K3ZhbHVlfX0seXk6e3JlZ2V4OiJcXGR7Mn0iLGFwcGx5OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLnllYXI9K3ZhbHVlKzJlM319LHk6e3JlZ2V4OiJcXGR7MSw0fSIsYXBwbHk6ZnVuY3Rpb24odmFsdWUpe3RoaXMueWVhcj0rdmFsdWV9fSxNTU1NOntyZWdleDokbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuTU9OVEguam9pbigifCIpLGFwcGx5OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLm1vbnRoPSRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5NT05USC5pbmRleE9mKHZhbHVlKX19LE1NTTp7cmVnZXg6JGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLlNIT1JUTU9OVEguam9pbigifCIpLGFwcGx5OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLm1vbnRoPSRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5TSE9SVE1PTlRILmluZGV4T2YodmFsdWUpfX0sTU06e3JlZ2V4OiIwWzEtOV18MVswLTJdIixhcHBseTpmdW5jdGlvbih2YWx1ZSl7dGhpcy5tb250aD12YWx1ZS0xfX0sTTp7cmVnZXg6IlsxLTldfDFbMC0yXSIsYXBwbHk6ZnVuY3Rpb24odmFsdWUpe3RoaXMubW9udGg9dmFsdWUtMX19LGRkOntyZWdleDoiWzAtMl1bMC05XXsxfXwzWzAtMV17MX0iLGFwcGx5OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLmRhdGU9K3ZhbHVlfX0sZDp7cmVnZXg6IlsxLTJdP1swLTldezF9fDNbMC0xXXsxfSIsYXBwbHk6ZnVuY3Rpb24odmFsdWUpe3RoaXMuZGF0ZT0rdmFsdWV9fSxFRUVFOntyZWdleDokbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuREFZLmpvaW4oInwiKX0sRUVFOntyZWdleDokbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuU0hPUlREQVkuam9pbigifCIpfX07dGhpcy5wYXJzZT1mdW5jdGlvbihpbnB1dCxmb3JtYXQpe2lmKCFhbmd1bGFyLmlzU3RyaW5nKGlucHV0KXx8IWZvcm1hdClyZXR1cm4gaW5wdXQ7Zm9ybWF0PSRsb2NhbGUuREFURVRJTUVfRk9STUFUU1tmb3JtYXRdfHxmb3JtYXQsdGhpcy5wYXJzZXJzW2Zvcm1hdF18fCh0aGlzLnBhcnNlcnNbZm9ybWF0XT1jcmVhdGVQYXJzZXIoZm9ybWF0KSk7dmFyIHBhcnNlcj10aGlzLnBhcnNlcnNbZm9ybWF0XSxyZWdleD1wYXJzZXIucmVnZXgsbWFwPXBhcnNlci5tYXAscmVzdWx0cz1pbnB1dC5tYXRjaChyZWdleCk7aWYocmVzdWx0cyYmcmVzdWx0cy5sZW5ndGgpe2Zvcih2YXIgZHQsZmllbGRzPXt5ZWFyOjE5MDAsbW9udGg6MCxkYXRlOjEsaG91cnM6MH0saT0xLG49cmVzdWx0cy5sZW5ndGg7bj5pO2krKyl7dmFyIG1hcHBlcj1tYXBbaS0xXTttYXBwZXIuYXBwbHkmJm1hcHBlci5hcHBseS5jYWxsKGZpZWxkcyxyZXN1bHRzW2ldKX1yZXR1cm4gaXNWYWxpZChmaWVsZHMueWVhcixmaWVsZHMubW9udGgsZmllbGRzLmRhdGUpJiYoZHQ9bmV3IERhdGUoZmllbGRzLnllYXIsZmllbGRzLm1vbnRoLGZpZWxkcy5kYXRlLGZpZWxkcy5ob3VycykpLGR0fX19XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5wb3NpdGlvbiIsW10pLmZhY3RvcnkoIiRwb3NpdGlvbiIsWyIkZG9jdW1lbnQiLCIkd2luZG93IixmdW5jdGlvbigkZG9jdW1lbnQsJHdpbmRvdyl7ZnVuY3Rpb24gZ2V0U3R5bGUoZWwsY3NzcHJvcCl7cmV0dXJuIGVsLmN1cnJlbnRTdHlsZT9lbC5jdXJyZW50U3R5bGVbY3NzcHJvcF06JHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlPyR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbClbY3NzcHJvcF06ZWwuc3R5bGVbY3NzcHJvcF19ZnVuY3Rpb24gaXNTdGF0aWNQb3NpdGlvbmVkKGVsZW1lbnQpe3JldHVybiJzdGF0aWMiPT09KGdldFN0eWxlKGVsZW1lbnQsInBvc2l0aW9uIil8fCJzdGF0aWMiKX12YXIgcGFyZW50T2Zmc2V0RWw9ZnVuY3Rpb24oZWxlbWVudCl7Zm9yKHZhciBkb2NEb21FbD0kZG9jdW1lbnRbMF0sb2Zmc2V0UGFyZW50PWVsZW1lbnQub2Zmc2V0UGFyZW50fHxkb2NEb21FbDtvZmZzZXRQYXJlbnQmJm9mZnNldFBhcmVudCE9PWRvY0RvbUVsJiZpc1N0YXRpY1Bvc2l0aW9uZWQob2Zmc2V0UGFyZW50KTspb2Zmc2V0UGFyZW50PW9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7cmV0dXJuIG9mZnNldFBhcmVudHx8ZG9jRG9tRWx9O3JldHVybntwb3NpdGlvbjpmdW5jdGlvbihlbGVtZW50KXt2YXIgZWxCQ1I9dGhpcy5vZmZzZXQoZWxlbWVudCksb2Zmc2V0UGFyZW50QkNSPXt0b3A6MCxsZWZ0OjB9LG9mZnNldFBhcmVudEVsPXBhcmVudE9mZnNldEVsKGVsZW1lbnRbMF0pO29mZnNldFBhcmVudEVsIT0kZG9jdW1lbnRbMF0mJihvZmZzZXRQYXJlbnRCQ1I9dGhpcy5vZmZzZXQoYW5ndWxhci5lbGVtZW50KG9mZnNldFBhcmVudEVsKSksb2Zmc2V0UGFyZW50QkNSLnRvcCs9b2Zmc2V0UGFyZW50RWwuY2xpZW50VG9wLW9mZnNldFBhcmVudEVsLnNjcm9sbFRvcCxvZmZzZXRQYXJlbnRCQ1IubGVmdCs9b2Zmc2V0UGFyZW50RWwuY2xpZW50TGVmdC1vZmZzZXRQYXJlbnRFbC5zY3JvbGxMZWZ0KTt2YXIgYm91bmRpbmdDbGllbnRSZWN0PWVsZW1lbnRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJue3dpZHRoOmJvdW5kaW5nQ2xpZW50UmVjdC53aWR0aHx8ZWxlbWVudC5wcm9wKCJvZmZzZXRXaWR0aCIpLGhlaWdodDpib3VuZGluZ0NsaWVudFJlY3QuaGVpZ2h0fHxlbGVtZW50LnByb3AoIm9mZnNldEhlaWdodCIpLHRvcDplbEJDUi50b3Atb2Zmc2V0UGFyZW50QkNSLnRvcCxsZWZ0OmVsQkNSLmxlZnQtb2Zmc2V0UGFyZW50QkNSLmxlZnR9fSxvZmZzZXQ6ZnVuY3Rpb24oZWxlbWVudCl7dmFyIGJvdW5kaW5nQ2xpZW50UmVjdD1lbGVtZW50WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybnt3aWR0aDpib3VuZGluZ0NsaWVudFJlY3Qud2lkdGh8fGVsZW1lbnQucHJvcCgib2Zmc2V0V2lkdGgiKSxoZWlnaHQ6Ym91bmRpbmdDbGllbnRSZWN0LmhlaWdodHx8ZWxlbWVudC5wcm9wKCJvZmZzZXRIZWlnaHQiKSx0b3A6Ym91bmRpbmdDbGllbnRSZWN0LnRvcCsoJHdpbmRvdy5wYWdlWU9mZnNldHx8JGRvY3VtZW50WzBdLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApLGxlZnQ6Ym91bmRpbmdDbGllbnRSZWN0LmxlZnQrKCR3aW5kb3cucGFnZVhPZmZzZXR8fCRkb2N1bWVudFswXS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCl9fSxwb3NpdGlvbkVsZW1lbnRzOmZ1bmN0aW9uKGhvc3RFbCx0YXJnZXRFbCxwb3NpdGlvblN0cixhcHBlbmRUb0JvZHkpe3ZhciBob3N0RWxQb3MsdGFyZ2V0RWxXaWR0aCx0YXJnZXRFbEhlaWdodCx0YXJnZXRFbFBvcyxwb3NpdGlvblN0clBhcnRzPXBvc2l0aW9uU3RyLnNwbGl0KCItIikscG9zMD1wb3NpdGlvblN0clBhcnRzWzBdLHBvczE9cG9zaXRpb25TdHJQYXJ0c1sxXXx8ImNlbnRlciI7aG9zdEVsUG9zPWFwcGVuZFRvQm9keT90aGlzLm9mZnNldChob3N0RWwpOnRoaXMucG9zaXRpb24oaG9zdEVsKSx0YXJnZXRFbFdpZHRoPXRhcmdldEVsLnByb3AoIm9mZnNldFdpZHRoIiksdGFyZ2V0RWxIZWlnaHQ9dGFyZ2V0RWwucHJvcCgib2Zmc2V0SGVpZ2h0Iik7dmFyIHNoaWZ0V2lkdGg9e2NlbnRlcjpmdW5jdGlvbigpe3JldHVybiBob3N0RWxQb3MubGVmdCtob3N0RWxQb3Mud2lkdGgvMi10YXJnZXRFbFdpZHRoLzJ9LGxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gaG9zdEVsUG9zLmxlZnR9LHJpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIGhvc3RFbFBvcy5sZWZ0K2hvc3RFbFBvcy53aWR0aH19LHNoaWZ0SGVpZ2h0PXtjZW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gaG9zdEVsUG9zLnRvcCtob3N0RWxQb3MuaGVpZ2h0LzItdGFyZ2V0RWxIZWlnaHQvMn0sdG9wOmZ1bmN0aW9uKCl7cmV0dXJuIGhvc3RFbFBvcy50b3B9LGJvdHRvbTpmdW5jdGlvbigpe3JldHVybiBob3N0RWxQb3MudG9wK2hvc3RFbFBvcy5oZWlnaHR9fTtzd2l0Y2gocG9zMCl7Y2FzZSJyaWdodCI6dGFyZ2V0RWxQb3M9e3RvcDpzaGlmdEhlaWdodFtwb3MxXSgpLGxlZnQ6c2hpZnRXaWR0aFtwb3MwXSgpfTticmVhaztjYXNlImxlZnQiOnRhcmdldEVsUG9zPXt0b3A6c2hpZnRIZWlnaHRbcG9zMV0oKSxsZWZ0Omhvc3RFbFBvcy5sZWZ0LXRhcmdldEVsV2lkdGh9O2JyZWFrO2Nhc2UiYm90dG9tIjp0YXJnZXRFbFBvcz17dG9wOnNoaWZ0SGVpZ2h0W3BvczBdKCksbGVmdDpzaGlmdFdpZHRoW3BvczFdKCl9O2JyZWFrO2RlZmF1bHQ6dGFyZ2V0RWxQb3M9e3RvcDpob3N0RWxQb3MudG9wLXRhcmdldEVsSGVpZ2h0LGxlZnQ6c2hpZnRXaWR0aFtwb3MxXSgpfX1yZXR1cm4gdGFyZ2V0RWxQb3N9fX1dKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmRhdGVwaWNrZXIiLFsidWkuYm9vdHN0cmFwLmRhdGVwYXJzZXIiLCJ1aS5ib290c3RyYXAucG9zaXRpb24iXSkuY29uc3RhbnQoImRhdGVwaWNrZXJDb25maWciLHtmb3JtYXREYXk6ImRkIixmb3JtYXRNb250aDoiTU1NTSIsZm9ybWF0WWVhcjoieXl5eSIsZm9ybWF0RGF5SGVhZGVyOiJFRUUiLGZvcm1hdERheVRpdGxlOiJNTU1NIHl5eXkiLGZvcm1hdE1vbnRoVGl0bGU6Inl5eXkiLGRhdGVwaWNrZXJNb2RlOiJkYXkiLG1pbk1vZGU6ImRheSIsbWF4TW9kZToieWVhciIsc2hvd1dlZWtzOiEwLHN0YXJ0aW5nRGF5OjAseWVhclJhbmdlOjIwLG1pbkRhdGU6bnVsbCxtYXhEYXRlOm51bGx9KS5jb250cm9sbGVyKCJEYXRlcGlja2VyQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLCIkcGFyc2UiLCIkaW50ZXJwb2xhdGUiLCIkdGltZW91dCIsIiRsb2ciLCJkYXRlRmlsdGVyIiwiZGF0ZXBpY2tlckNvbmZpZyIsZnVuY3Rpb24oJHNjb3BlLCRhdHRycywkcGFyc2UsJGludGVycG9sYXRlLCR0aW1lb3V0LCRsb2csZGF0ZUZpbHRlcixkYXRlcGlja2VyQ29uZmlnKXt2YXIgc2VsZj10aGlzLG5nTW9kZWxDdHJsPXskc2V0Vmlld1ZhbHVlOmFuZ3VsYXIubm9vcH07dGhpcy5tb2Rlcz1bImRheSIsIm1vbnRoIiwieWVhciJdLGFuZ3VsYXIuZm9yRWFjaChbImZvcm1hdERheSIsImZvcm1hdE1vbnRoIiwiZm9ybWF0WWVhciIsImZvcm1hdERheUhlYWRlciIsImZvcm1hdERheVRpdGxlIiwiZm9ybWF0TW9udGhUaXRsZSIsIm1pbk1vZGUiLCJtYXhNb2RlIiwic2hvd1dlZWtzIiwic3RhcnRpbmdEYXkiLCJ5ZWFyUmFuZ2UiXSxmdW5jdGlvbihrZXksaW5kZXgpe3NlbGZba2V5XT1hbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnNba2V5XSk/OD5pbmRleD8kaW50ZXJwb2xhdGUoJGF0dHJzW2tleV0pKCRzY29wZS4kcGFyZW50KTokc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnNba2V5XSk6ZGF0ZXBpY2tlckNvbmZpZ1trZXldfSksYW5ndWxhci5mb3JFYWNoKFsibWluRGF0ZSIsIm1heERhdGUiXSxmdW5jdGlvbihrZXkpeyRhdHRyc1trZXldPyRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzW2tleV0pLGZ1bmN0aW9uKHZhbHVlKXtzZWxmW2tleV09dmFsdWU/bmV3IERhdGUodmFsdWUpOm51bGwsc2VsZi5yZWZyZXNoVmlldygpfSk6c2VsZltrZXldPWRhdGVwaWNrZXJDb25maWdba2V5XT9uZXcgRGF0ZShkYXRlcGlja2VyQ29uZmlnW2tleV0pOm51bGx9KSwkc2NvcGUuZGF0ZXBpY2tlck1vZGU9JHNjb3BlLmRhdGVwaWNrZXJNb2RlfHxkYXRlcGlja2VyQ29uZmlnLmRhdGVwaWNrZXJNb2RlLCRzY29wZS51bmlxdWVJZD0iZGF0ZXBpY2tlci0iKyRzY29wZS4kaWQrIi0iK01hdGguZmxvb3IoMWU0Kk1hdGgucmFuZG9tKCkpLHRoaXMuYWN0aXZlRGF0ZT1hbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuaW5pdERhdGUpPyRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5pbml0RGF0ZSk6bmV3IERhdGUsJHNjb3BlLmlzQWN0aXZlPWZ1bmN0aW9uKGRhdGVPYmplY3Qpe3JldHVybiAwPT09c2VsZi5jb21wYXJlKGRhdGVPYmplY3QuZGF0ZSxzZWxmLmFjdGl2ZURhdGUpPygkc2NvcGUuYWN0aXZlRGF0ZUlkPWRhdGVPYmplY3QudWlkLCEwKTohMQp9LHRoaXMuaW5pdD1mdW5jdGlvbihuZ01vZGVsQ3RybF8pe25nTW9kZWxDdHJsPW5nTW9kZWxDdHJsXyxuZ01vZGVsQ3RybC4kcmVuZGVyPWZ1bmN0aW9uKCl7c2VsZi5yZW5kZXIoKX19LHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7aWYobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUpe3ZhciBkYXRlPW5ldyBEYXRlKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlKSxpc1ZhbGlkPSFpc05hTihkYXRlKTtpc1ZhbGlkP3RoaXMuYWN0aXZlRGF0ZT1kYXRlOiRsb2cuZXJyb3IoJ0RhdGVwaWNrZXIgZGlyZWN0aXZlOiAibmctbW9kZWwiIHZhbHVlIG11c3QgYmUgYSBEYXRlIG9iamVjdCwgYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIDAxLjAxLjE5NzAgb3IgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIFJGQzI4MjIgb3IgSVNPIDg2MDEgZGF0ZS4nKSxuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoImRhdGUiLGlzVmFsaWQpfXRoaXMucmVmcmVzaFZpZXcoKX0sdGhpcy5yZWZyZXNoVmlldz1mdW5jdGlvbigpe2lmKHRoaXMuZWxlbWVudCl7dGhpcy5fcmVmcmVzaFZpZXcoKTt2YXIgZGF0ZT1uZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZT9uZXcgRGF0ZShuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSk6bnVsbDtuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoImRhdGUtZGlzYWJsZWQiLCFkYXRlfHx0aGlzLmVsZW1lbnQmJiF0aGlzLmlzRGlzYWJsZWQoZGF0ZSkpfX0sdGhpcy5jcmVhdGVEYXRlT2JqZWN0PWZ1bmN0aW9uKGRhdGUsZm9ybWF0KXt2YXIgbW9kZWw9bmdNb2RlbEN0cmwuJG1vZGVsVmFsdWU/bmV3IERhdGUobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUpOm51bGw7cmV0dXJue2RhdGU6ZGF0ZSxsYWJlbDpkYXRlRmlsdGVyKGRhdGUsZm9ybWF0KSxzZWxlY3RlZDptb2RlbCYmMD09PXRoaXMuY29tcGFyZShkYXRlLG1vZGVsKSxkaXNhYmxlZDp0aGlzLmlzRGlzYWJsZWQoZGF0ZSksY3VycmVudDowPT09dGhpcy5jb21wYXJlKGRhdGUsbmV3IERhdGUpfX0sdGhpcy5pc0Rpc2FibGVkPWZ1bmN0aW9uKGRhdGUpe3JldHVybiB0aGlzLm1pbkRhdGUmJnRoaXMuY29tcGFyZShkYXRlLHRoaXMubWluRGF0ZSk8MHx8dGhpcy5tYXhEYXRlJiZ0aGlzLmNvbXBhcmUoZGF0ZSx0aGlzLm1heERhdGUpPjB8fCRhdHRycy5kYXRlRGlzYWJsZWQmJiRzY29wZS5kYXRlRGlzYWJsZWQoe2RhdGU6ZGF0ZSxtb2RlOiRzY29wZS5kYXRlcGlja2VyTW9kZX0pfSx0aGlzLnNwbGl0PWZ1bmN0aW9uKGFycixzaXplKXtmb3IodmFyIGFycmF5cz1bXTthcnIubGVuZ3RoPjA7KWFycmF5cy5wdXNoKGFyci5zcGxpY2UoMCxzaXplKSk7cmV0dXJuIGFycmF5c30sJHNjb3BlLnNlbGVjdD1mdW5jdGlvbihkYXRlKXtpZigkc2NvcGUuZGF0ZXBpY2tlck1vZGU9PT1zZWxmLm1pbk1vZGUpe3ZhciBkdD1uZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZT9uZXcgRGF0ZShuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSk6bmV3IERhdGUoMCwwLDAsMCwwLDAsMCk7ZHQuc2V0RnVsbFllYXIoZGF0ZS5nZXRGdWxsWWVhcigpLGRhdGUuZ2V0TW9udGgoKSxkYXRlLmdldERhdGUoKSksbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShkdCksbmdNb2RlbEN0cmwuJHJlbmRlcigpfWVsc2Ugc2VsZi5hY3RpdmVEYXRlPWRhdGUsJHNjb3BlLmRhdGVwaWNrZXJNb2RlPXNlbGYubW9kZXNbc2VsZi5tb2Rlcy5pbmRleE9mKCRzY29wZS5kYXRlcGlja2VyTW9kZSktMV19LCRzY29wZS5tb3ZlPWZ1bmN0aW9uKGRpcmVjdGlvbil7dmFyIHllYXI9c2VsZi5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkrZGlyZWN0aW9uKihzZWxmLnN0ZXAueWVhcnN8fDApLG1vbnRoPXNlbGYuYWN0aXZlRGF0ZS5nZXRNb250aCgpK2RpcmVjdGlvbiooc2VsZi5zdGVwLm1vbnRoc3x8MCk7c2VsZi5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKHllYXIsbW9udGgsMSksc2VsZi5yZWZyZXNoVmlldygpfSwkc2NvcGUudG9nZ2xlTW9kZT1mdW5jdGlvbihkaXJlY3Rpb24pe2RpcmVjdGlvbj1kaXJlY3Rpb258fDEsJHNjb3BlLmRhdGVwaWNrZXJNb2RlPT09c2VsZi5tYXhNb2RlJiYxPT09ZGlyZWN0aW9ufHwkc2NvcGUuZGF0ZXBpY2tlck1vZGU9PT1zZWxmLm1pbk1vZGUmJi0xPT09ZGlyZWN0aW9ufHwoJHNjb3BlLmRhdGVwaWNrZXJNb2RlPXNlbGYubW9kZXNbc2VsZi5tb2Rlcy5pbmRleE9mKCRzY29wZS5kYXRlcGlja2VyTW9kZSkrZGlyZWN0aW9uXSl9LCRzY29wZS5rZXlzPXsxMzoiZW50ZXIiLDMyOiJzcGFjZSIsMzM6InBhZ2V1cCIsMzQ6InBhZ2Vkb3duIiwzNToiZW5kIiwzNjoiaG9tZSIsMzc6ImxlZnQiLDM4OiJ1cCIsMzk6InJpZ2h0Iiw0MDoiZG93biJ9O3ZhciBmb2N1c0VsZW1lbnQ9ZnVuY3Rpb24oKXskdGltZW91dChmdW5jdGlvbigpe3NlbGYuZWxlbWVudFswXS5mb2N1cygpfSwwLCExKX07JHNjb3BlLiRvbigiZGF0ZXBpY2tlci5mb2N1cyIsZm9jdXNFbGVtZW50KSwkc2NvcGUua2V5ZG93bj1mdW5jdGlvbihldnQpe3ZhciBrZXk9JHNjb3BlLmtleXNbZXZ0LndoaWNoXTtpZihrZXkmJiFldnQuc2hpZnRLZXkmJiFldnQuYWx0S2V5KWlmKGV2dC5wcmV2ZW50RGVmYXVsdCgpLGV2dC5zdG9wUHJvcGFnYXRpb24oKSwiZW50ZXIiPT09a2V5fHwic3BhY2UiPT09a2V5KXtpZihzZWxmLmlzRGlzYWJsZWQoc2VsZi5hY3RpdmVEYXRlKSlyZXR1cm47JHNjb3BlLnNlbGVjdChzZWxmLmFjdGl2ZURhdGUpLGZvY3VzRWxlbWVudCgpfWVsc2UhZXZ0LmN0cmxLZXl8fCJ1cCIhPT1rZXkmJiJkb3duIiE9PWtleT8oc2VsZi5oYW5kbGVLZXlEb3duKGtleSxldnQpLHNlbGYucmVmcmVzaFZpZXcoKSk6KCRzY29wZS50b2dnbGVNb2RlKCJ1cCI9PT1rZXk/MTotMSksZm9jdXNFbGVtZW50KCkpfX1dKS5kaXJlY3RpdmUoImRhdGVwaWNrZXIiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWwiLHNjb3BlOntkYXRlcGlja2VyTW9kZToiPT8iLGRhdGVEaXNhYmxlZDoiJiJ9LHJlcXVpcmU6WyJkYXRlcGlja2VyIiwiP15uZ01vZGVsIl0sY29udHJvbGxlcjoiRGF0ZXBpY2tlckNvbnRyb2xsZXIiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjdHJscyl7dmFyIGRhdGVwaWNrZXJDdHJsPWN0cmxzWzBdLG5nTW9kZWxDdHJsPWN0cmxzWzFdO25nTW9kZWxDdHJsJiZkYXRlcGlja2VyQ3RybC5pbml0KG5nTW9kZWxDdHJsKX19fSkuZGlyZWN0aXZlKCJkYXlwaWNrZXIiLFsiZGF0ZUZpbHRlciIsZnVuY3Rpb24oZGF0ZUZpbHRlcil7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbCIscmVxdWlyZToiXmRhdGVwaWNrZXIiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjdHJsKXtmdW5jdGlvbiBnZXREYXlzSW5Nb250aCh5ZWFyLG1vbnRoKXtyZXR1cm4gMSE9PW1vbnRofHx5ZWFyJTQhPT0wfHx5ZWFyJTEwMD09PTAmJnllYXIlNDAwIT09MD9EQVlTX0lOX01PTlRIW21vbnRoXToyOX1mdW5jdGlvbiBnZXREYXRlcyhzdGFydERhdGUsbil7dmFyIGRhdGVzPW5ldyBBcnJheShuKSxjdXJyZW50PW5ldyBEYXRlKHN0YXJ0RGF0ZSksaT0wO2ZvcihjdXJyZW50LnNldEhvdXJzKDEyKTtuPmk7KWRhdGVzW2krK109bmV3IERhdGUoY3VycmVudCksY3VycmVudC5zZXREYXRlKGN1cnJlbnQuZ2V0RGF0ZSgpKzEpO3JldHVybiBkYXRlc31mdW5jdGlvbiBnZXRJU084NjAxV2Vla051bWJlcihkYXRlKXt2YXIgY2hlY2tEYXRlPW5ldyBEYXRlKGRhdGUpO2NoZWNrRGF0ZS5zZXREYXRlKGNoZWNrRGF0ZS5nZXREYXRlKCkrNC0oY2hlY2tEYXRlLmdldERheSgpfHw3KSk7dmFyIHRpbWU9Y2hlY2tEYXRlLmdldFRpbWUoKTtyZXR1cm4gY2hlY2tEYXRlLnNldE1vbnRoKDApLGNoZWNrRGF0ZS5zZXREYXRlKDEpLE1hdGguZmxvb3IoTWF0aC5yb3VuZCgodGltZS1jaGVja0RhdGUpLzg2NGU1KS83KSsxfXNjb3BlLnNob3dXZWVrcz1jdHJsLnNob3dXZWVrcyxjdHJsLnN0ZXA9e21vbnRoczoxfSxjdHJsLmVsZW1lbnQ9ZWxlbWVudDt2YXIgREFZU19JTl9NT05USD1bMzEsMjgsMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdO2N0cmwuX3JlZnJlc2hWaWV3PWZ1bmN0aW9uKCl7dmFyIHllYXI9Y3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksbW9udGg9Y3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCksZmlyc3REYXlPZk1vbnRoPW5ldyBEYXRlKHllYXIsbW9udGgsMSksZGlmZmVyZW5jZT1jdHJsLnN0YXJ0aW5nRGF5LWZpcnN0RGF5T2ZNb250aC5nZXREYXkoKSxudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aD1kaWZmZXJlbmNlPjA/Ny1kaWZmZXJlbmNlOi1kaWZmZXJlbmNlLGZpcnN0RGF0ZT1uZXcgRGF0ZShmaXJzdERheU9mTW9udGgpO251bURpc3BsYXllZEZyb21QcmV2aW91c01vbnRoPjAmJmZpcnN0RGF0ZS5zZXREYXRlKC1udW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCsxKTtmb3IodmFyIGRheXM9Z2V0RGF0ZXMoZmlyc3REYXRlLDQyKSxpPTA7NDI+aTtpKyspZGF5c1tpXT1hbmd1bGFyLmV4dGVuZChjdHJsLmNyZWF0ZURhdGVPYmplY3QoZGF5c1tpXSxjdHJsLmZvcm1hdERheSkse3NlY29uZGFyeTpkYXlzW2ldLmdldE1vbnRoKCkhPT1tb250aCx1aWQ6c2NvcGUudW5pcXVlSWQrIi0iK2l9KTtzY29wZS5sYWJlbHM9bmV3IEFycmF5KDcpO2Zvcih2YXIgaj0wOzc+ajtqKyspc2NvcGUubGFiZWxzW2pdPXthYmJyOmRhdGVGaWx0ZXIoZGF5c1tqXS5kYXRlLGN0cmwuZm9ybWF0RGF5SGVhZGVyKSxmdWxsOmRhdGVGaWx0ZXIoZGF5c1tqXS5kYXRlLCJFRUVFIil9O2lmKHNjb3BlLnRpdGxlPWRhdGVGaWx0ZXIoY3RybC5hY3RpdmVEYXRlLGN0cmwuZm9ybWF0RGF5VGl0bGUpLHNjb3BlLnJvd3M9Y3RybC5zcGxpdChkYXlzLDcpLHNjb3BlLnNob3dXZWVrcyl7c2NvcGUud2Vla051bWJlcnM9W107Zm9yKHZhciB3ZWVrTnVtYmVyPWdldElTTzg2MDFXZWVrTnVtYmVyKHNjb3BlLnJvd3NbMF1bMF0uZGF0ZSksbnVtV2Vla3M9c2NvcGUucm93cy5sZW5ndGg7c2NvcGUud2Vla051bWJlcnMucHVzaCh3ZWVrTnVtYmVyKyspPG51bVdlZWtzOyk7fX0sY3RybC5jb21wYXJlPWZ1bmN0aW9uKGRhdGUxLGRhdGUyKXtyZXR1cm4gbmV3IERhdGUoZGF0ZTEuZ2V0RnVsbFllYXIoKSxkYXRlMS5nZXRNb250aCgpLGRhdGUxLmdldERhdGUoKSktbmV3IERhdGUoZGF0ZTIuZ2V0RnVsbFllYXIoKSxkYXRlMi5nZXRNb250aCgpLGRhdGUyLmdldERhdGUoKSl9LGN0cmwuaGFuZGxlS2V5RG93bj1mdW5jdGlvbihrZXkpe3ZhciBkYXRlPWN0cmwuYWN0aXZlRGF0ZS5nZXREYXRlKCk7aWYoImxlZnQiPT09a2V5KWRhdGUtPTE7ZWxzZSBpZigidXAiPT09a2V5KWRhdGUtPTc7ZWxzZSBpZigicmlnaHQiPT09a2V5KWRhdGUrPTE7ZWxzZSBpZigiZG93biI9PT1rZXkpZGF0ZSs9NztlbHNlIGlmKCJwYWdldXAiPT09a2V5fHwicGFnZWRvd24iPT09a2V5KXt2YXIgbW9udGg9Y3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCkrKCJwYWdldXAiPT09a2V5Py0xOjEpO2N0cmwuYWN0aXZlRGF0ZS5zZXRNb250aChtb250aCwxKSxkYXRlPU1hdGgubWluKGdldERheXNJbk1vbnRoKGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpLGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpKSxkYXRlKX1lbHNlImhvbWUiPT09a2V5P2RhdGU9MToiZW5kIj09PWtleSYmKGRhdGU9Z2V0RGF5c0luTW9udGgoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCkpKTtjdHJsLmFjdGl2ZURhdGUuc2V0RGF0ZShkYXRlKX0sY3RybC5yZWZyZXNoVmlldygpfX19XSkuZGlyZWN0aXZlKCJtb250aHBpY2tlciIsWyJkYXRlRmlsdGVyIixmdW5jdGlvbihkYXRlRmlsdGVyKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWwiLHJlcXVpcmU6Il5kYXRlcGlja2VyIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsY3RybCl7Y3RybC5zdGVwPXt5ZWFyczoxfSxjdHJsLmVsZW1lbnQ9ZWxlbWVudCxjdHJsLl9yZWZyZXNoVmlldz1mdW5jdGlvbigpe2Zvcih2YXIgbW9udGhzPW5ldyBBcnJheSgxMikseWVhcj1jdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSxpPTA7MTI+aTtpKyspbW9udGhzW2ldPWFuZ3VsYXIuZXh0ZW5kKGN0cmwuY3JlYXRlRGF0ZU9iamVjdChuZXcgRGF0ZSh5ZWFyLGksMSksY3RybC5mb3JtYXRNb250aCkse3VpZDpzY29wZS51bmlxdWVJZCsiLSIraX0pO3Njb3BlLnRpdGxlPWRhdGVGaWx0ZXIoY3RybC5hY3RpdmVEYXRlLGN0cmwuZm9ybWF0TW9udGhUaXRsZSksc2NvcGUucm93cz1jdHJsLnNwbGl0KG1vbnRocywzKX0sY3RybC5jb21wYXJlPWZ1bmN0aW9uKGRhdGUxLGRhdGUyKXtyZXR1cm4gbmV3IERhdGUoZGF0ZTEuZ2V0RnVsbFllYXIoKSxkYXRlMS5nZXRNb250aCgpKS1uZXcgRGF0ZShkYXRlMi5nZXRGdWxsWWVhcigpLGRhdGUyLmdldE1vbnRoKCkpfSxjdHJsLmhhbmRsZUtleURvd249ZnVuY3Rpb24oa2V5KXt2YXIgZGF0ZT1jdHJsLmFjdGl2ZURhdGUuZ2V0TW9udGgoKTtpZigibGVmdCI9PT1rZXkpZGF0ZS09MTtlbHNlIGlmKCJ1cCI9PT1rZXkpZGF0ZS09MztlbHNlIGlmKCJyaWdodCI9PT1rZXkpZGF0ZSs9MTtlbHNlIGlmKCJkb3duIj09PWtleSlkYXRlKz0zO2Vsc2UgaWYoInBhZ2V1cCI9PT1rZXl8fCJwYWdlZG93biI9PT1rZXkpe3ZhciB5ZWFyPWN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpKygicGFnZXVwIj09PWtleT8tMToxKTtjdHJsLmFjdGl2ZURhdGUuc2V0RnVsbFllYXIoeWVhcil9ZWxzZSJob21lIj09PWtleT9kYXRlPTA6ImVuZCI9PT1rZXkmJihkYXRlPTExKTtjdHJsLmFjdGl2ZURhdGUuc2V0TW9udGgoZGF0ZSl9LGN0cmwucmVmcmVzaFZpZXcoKX19fV0pLmRpcmVjdGl2ZSgieWVhcnBpY2tlciIsWyJkYXRlRmlsdGVyIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sIixyZXF1aXJlOiJeZGF0ZXBpY2tlciIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGN0cmwpe2Z1bmN0aW9uIGdldFN0YXJ0aW5nWWVhcih5ZWFyKXtyZXR1cm4gcGFyc2VJbnQoKHllYXItMSkvcmFuZ2UsMTApKnJhbmdlKzF9dmFyIHJhbmdlPWN0cmwueWVhclJhbmdlO2N0cmwuc3RlcD17eWVhcnM6cmFuZ2V9LGN0cmwuZWxlbWVudD1lbGVtZW50LGN0cmwuX3JlZnJlc2hWaWV3PWZ1bmN0aW9uKCl7Zm9yKHZhciB5ZWFycz1uZXcgQXJyYXkocmFuZ2UpLGk9MCxzdGFydD1nZXRTdGFydGluZ1llYXIoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkpO3JhbmdlPmk7aSsrKXllYXJzW2ldPWFuZ3VsYXIuZXh0ZW5kKGN0cmwuY3JlYXRlRGF0ZU9iamVjdChuZXcgRGF0ZShzdGFydCtpLDAsMSksY3RybC5mb3JtYXRZZWFyKSx7dWlkOnNjb3BlLnVuaXF1ZUlkKyItIitpfSk7c2NvcGUudGl0bGU9W3llYXJzWzBdLmxhYmVsLHllYXJzW3JhbmdlLTFdLmxhYmVsXS5qb2luKCIgLSAiKSxzY29wZS5yb3dzPWN0cmwuc3BsaXQoeWVhcnMsNSl9LGN0cmwuY29tcGFyZT1mdW5jdGlvbihkYXRlMSxkYXRlMil7cmV0dXJuIGRhdGUxLmdldEZ1bGxZZWFyKCktZGF0ZTIuZ2V0RnVsbFllYXIoKX0sY3RybC5oYW5kbGVLZXlEb3duPWZ1bmN0aW9uKGtleSl7dmFyIGRhdGU9Y3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCk7ImxlZnQiPT09a2V5P2RhdGUtPTE6InVwIj09PWtleT9kYXRlLT01OiJyaWdodCI9PT1rZXk/ZGF0ZSs9MToiZG93biI9PT1rZXk/ZGF0ZSs9NToicGFnZXVwIj09PWtleXx8InBhZ2Vkb3duIj09PWtleT9kYXRlKz0oInBhZ2V1cCI9PT1rZXk/LTE6MSkqY3RybC5zdGVwLnllYXJzOiJob21lIj09PWtleT9kYXRlPWdldFN0YXJ0aW5nWWVhcihjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSk6ImVuZCI9PT1rZXkmJihkYXRlPWdldFN0YXJ0aW5nWWVhcihjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSkrcmFuZ2UtMSksY3RybC5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKGRhdGUpfSxjdHJsLnJlZnJlc2hWaWV3KCl9fX1dKS5jb25zdGFudCgiZGF0ZXBpY2tlclBvcHVwQ29uZmlnIix7ZGF0ZXBpY2tlclBvcHVwOiJ5eXl5LU1NLWRkIixjdXJyZW50VGV4dDoiVG9kYXkiLGNsZWFyVGV4dDoiQ2xlYXIiLGNsb3NlVGV4dDoiRG9uZSIsY2xvc2VPbkRhdGVTZWxlY3Rpb246ITAsYXBwZW5kVG9Cb2R5OiExLHNob3dCdXR0b25CYXI6ITB9KS5kaXJlY3RpdmUoImRhdGVwaWNrZXJQb3B1cCIsWyIkY29tcGlsZSIsIiRwYXJzZSIsIiRkb2N1bWVudCIsIiRwb3NpdGlvbiIsImRhdGVGaWx0ZXIiLCJkYXRlUGFyc2VyIiwiZGF0ZXBpY2tlclBvcHVwQ29uZmlnIixmdW5jdGlvbigkY29tcGlsZSwkcGFyc2UsJGRvY3VtZW50LCRwb3NpdGlvbixkYXRlRmlsdGVyLGRhdGVQYXJzZXIsZGF0ZXBpY2tlclBvcHVwQ29uZmlnKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXF1aXJlOiJuZ01vZGVsIixzY29wZTp7aXNPcGVuOiI9PyIsY3VycmVudFRleHQ6IkAiLGNsZWFyVGV4dDoiQCIsY2xvc2VUZXh0OiJAIixkYXRlRGlzYWJsZWQ6IiYifSxsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsbmdNb2RlbCl7ZnVuY3Rpb24gY2FtZWx0b0Rhc2goc3RyaW5nKXtyZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyhbQS1aXSkvZyxmdW5jdGlvbigkMSl7cmV0dXJuIi0iKyQxLnRvTG93ZXJDYXNlKCl9KX1mdW5jdGlvbiBwYXJzZURhdGUodmlld1ZhbHVlKXtpZih2aWV3VmFsdWUpe2lmKGFuZ3VsYXIuaXNEYXRlKHZpZXdWYWx1ZSkmJiFpc05hTih2aWV3VmFsdWUpKXJldHVybiBuZ01vZGVsLiRzZXRWYWxpZGl0eSgiZGF0ZSIsITApLHZpZXdWYWx1ZTtpZihhbmd1bGFyLmlzU3RyaW5nKHZpZXdWYWx1ZSkpe3ZhciBkYXRlPWRhdGVQYXJzZXIucGFyc2Uodmlld1ZhbHVlLGRhdGVGb3JtYXQpfHxuZXcgRGF0ZSh2aWV3VmFsdWUpO3JldHVybiBpc05hTihkYXRlKT92b2lkIG5nTW9kZWwuJHNldFZhbGlkaXR5KCJkYXRlIiwhMSk6KG5nTW9kZWwuJHNldFZhbGlkaXR5KCJkYXRlIiwhMCksZGF0ZSl9cmV0dXJuIHZvaWQgbmdNb2RlbC4kc2V0VmFsaWRpdHkoImRhdGUiLCExKX1yZXR1cm4gbmdNb2RlbC4kc2V0VmFsaWRpdHkoImRhdGUiLCEwKSxudWxsfXZhciBkYXRlRm9ybWF0LGNsb3NlT25EYXRlU2VsZWN0aW9uPWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmNsb3NlT25EYXRlU2VsZWN0aW9uKT9zY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmNsb3NlT25EYXRlU2VsZWN0aW9uKTpkYXRlcGlja2VyUG9wdXBDb25maWcuY2xvc2VPbkRhdGVTZWxlY3Rpb24sYXBwZW5kVG9Cb2R5PWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmRhdGVwaWNrZXJBcHBlbmRUb0JvZHkpP3Njb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuZGF0ZXBpY2tlckFwcGVuZFRvQm9keSk6ZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmFwcGVuZFRvQm9keTtzY29wZS5zaG93QnV0dG9uQmFyPWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnNob3dCdXR0b25CYXIpP3Njb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuc2hvd0J1dHRvbkJhcik6ZGF0ZXBpY2tlclBvcHVwQ29uZmlnLnNob3dCdXR0b25CYXIsc2NvcGUuZ2V0VGV4dD1mdW5jdGlvbihrZXkpe3JldHVybiBzY29wZVtrZXkrIlRleHQiXXx8ZGF0ZXBpY2tlclBvcHVwQ29uZmlnW2tleSsiVGV4dCJdfSxhdHRycy4kb2JzZXJ2ZSgiZGF0ZXBpY2tlclBvcHVwIixmdW5jdGlvbih2YWx1ZSl7ZGF0ZUZvcm1hdD12YWx1ZXx8ZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmRhdGVwaWNrZXJQb3B1cCxuZ01vZGVsLiRyZW5kZXIoKX0pO3ZhciBwb3B1cEVsPWFuZ3VsYXIuZWxlbWVudCgiPGRpdiBkYXRlcGlja2VyLXBvcHVwLXdyYXA+PGRpdiBkYXRlcGlja2VyPjwvZGl2PjwvZGl2PiIpO3BvcHVwRWwuYXR0cih7Im5nLW1vZGVsIjoiZGF0ZSIsIm5nLWNoYW5nZSI6ImRhdGVTZWxlY3Rpb24oKSJ9KTt2YXIgZGF0ZXBpY2tlckVsPWFuZ3VsYXIuZWxlbWVudChwb3B1cEVsLmNoaWxkcmVuKClbMF0pO2F0dHJzLmRhdGVwaWNrZXJPcHRpb25zJiZhbmd1bGFyLmZvckVhY2goc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5kYXRlcGlja2VyT3B0aW9ucyksZnVuY3Rpb24odmFsdWUsb3B0aW9uKXtkYXRlcGlja2VyRWwuYXR0cihjYW1lbHRvRGFzaChvcHRpb24pLHZhbHVlKX0pLHNjb3BlLndhdGNoRGF0YT17fSxhbmd1bGFyLmZvckVhY2goWyJtaW5EYXRlIiwibWF4RGF0ZSIsImRhdGVwaWNrZXJNb2RlIl0sZnVuY3Rpb24oa2V5KXtpZihhdHRyc1trZXldKXt2YXIgZ2V0QXR0cmlidXRlPSRwYXJzZShhdHRyc1trZXldKTtpZihzY29wZS4kcGFyZW50LiR3YXRjaChnZXRBdHRyaWJ1dGUsZnVuY3Rpb24odmFsdWUpe3Njb3BlLndhdGNoRGF0YVtrZXldPXZhbHVlfSksZGF0ZXBpY2tlckVsLmF0dHIoY2FtZWx0b0Rhc2goa2V5KSwid2F0Y2hEYXRhLiIra2V5KSwiZGF0ZXBpY2tlck1vZGUiPT09a2V5KXt2YXIgc2V0QXR0cmlidXRlPWdldEF0dHJpYnV0ZS5hc3NpZ247c2NvcGUuJHdhdGNoKCJ3YXRjaERhdGEuIitrZXksZnVuY3Rpb24odmFsdWUsb2xkdmFsdWUpe3ZhbHVlIT09b2xkdmFsdWUmJnNldEF0dHJpYnV0ZShzY29wZS4kcGFyZW50LHZhbHVlKX0pfX19KSxhdHRycy5kYXRlRGlzYWJsZWQmJmRhdGVwaWNrZXJFbC5hdHRyKCJkYXRlLWRpc2FibGVkIiwiZGF0ZURpc2FibGVkKHsgZGF0ZTogZGF0ZSwgbW9kZTogbW9kZSB9KSIpLG5nTW9kZWwuJHBhcnNlcnMudW5zaGlmdChwYXJzZURhdGUpLHNjb3BlLmRhdGVTZWxlY3Rpb249ZnVuY3Rpb24oZHQpe2FuZ3VsYXIuaXNEZWZpbmVkKGR0KSYmKHNjb3BlLmRhdGU9ZHQpLG5nTW9kZWwuJHNldFZpZXdWYWx1ZShzY29wZS5kYXRlKSxuZ01vZGVsLiRyZW5kZXIoKSxjbG9zZU9uRGF0ZVNlbGVjdGlvbiYmKHNjb3BlLmlzT3Blbj0hMSxlbGVtZW50WzBdLmZvY3VzKCkpfSxlbGVtZW50LmJpbmQoImlucHV0IGNoYW5nZSBrZXl1cCIsZnVuY3Rpb24oKXtzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtzY29wZS5kYXRlPW5nTW9kZWwuJG1vZGVsVmFsdWV9KX0pLG5nTW9kZWwuJHJlbmRlcj1mdW5jdGlvbigpe3ZhciBkYXRlPW5nTW9kZWwuJHZpZXdWYWx1ZT9kYXRlRmlsdGVyKG5nTW9kZWwuJHZpZXdWYWx1ZSxkYXRlRm9ybWF0KToiIjtlbGVtZW50LnZhbChkYXRlKSxzY29wZS5kYXRlPXBhcnNlRGF0ZShuZ01vZGVsLiRtb2RlbFZhbHVlKX07dmFyIGRvY3VtZW50Q2xpY2tCaW5kPWZ1bmN0aW9uKGV2ZW50KXtzY29wZS5pc09wZW4mJmV2ZW50LnRhcmdldCE9PWVsZW1lbnRbMF0mJnNjb3BlLiRhcHBseShmdW5jdGlvbigpe3Njb3BlLmlzT3Blbj0hMX0pfSxrZXlkb3duPWZ1bmN0aW9uKGV2dCl7c2NvcGUua2V5ZG93bihldnQpfTtlbGVtZW50LmJpbmQoImtleWRvd24iLGtleWRvd24pLHNjb3BlLmtleWRvd249ZnVuY3Rpb24oZXZ0KXsyNz09PWV2dC53aGljaD8oZXZ0LnByZXZlbnREZWZhdWx0KCksZXZ0LnN0b3BQcm9wYWdhdGlvbigpLHNjb3BlLmNsb3NlKCkpOjQwIT09ZXZ0LndoaWNofHxzY29wZS5pc09wZW58fChzY29wZS5pc09wZW49ITApfSxzY29wZS4kd2F0Y2goImlzT3BlbiIsZnVuY3Rpb24odmFsdWUpe3ZhbHVlPyhzY29wZS4kYnJvYWRjYXN0KCJkYXRlcGlja2VyLmZvY3VzIiksc2NvcGUucG9zaXRpb249YXBwZW5kVG9Cb2R5PyRwb3NpdGlvbi5vZmZzZXQoZWxlbWVudCk6JHBvc2l0aW9uLnBvc2l0aW9uKGVsZW1lbnQpLHNjb3BlLnBvc2l0aW9uLnRvcD1zY29wZS5wb3NpdGlvbi50b3ArZWxlbWVudC5wcm9wKCJvZmZzZXRIZWlnaHQiKSwkZG9jdW1lbnQuYmluZCgiY2xpY2siLGRvY3VtZW50Q2xpY2tCaW5kKSk6JGRvY3VtZW50LnVuYmluZCgiY2xpY2siLGRvY3VtZW50Q2xpY2tCaW5kKX0pLHNjb3BlLnNlbGVjdD1mdW5jdGlvbihkYXRlKXtpZigidG9kYXkiPT09ZGF0ZSl7dmFyIHRvZGF5PW5ldyBEYXRlO2FuZ3VsYXIuaXNEYXRlKG5nTW9kZWwuJG1vZGVsVmFsdWUpPyhkYXRlPW5ldyBEYXRlKG5nTW9kZWwuJG1vZGVsVmFsdWUpLGRhdGUuc2V0RnVsbFllYXIodG9kYXkuZ2V0RnVsbFllYXIoKSx0b2RheS5nZXRNb250aCgpLHRvZGF5LmdldERhdGUoKSkpOmRhdGU9bmV3IERhdGUodG9kYXkuc2V0SG91cnMoMCwwLDAsMCkpfXNjb3BlLmRhdGVTZWxlY3Rpb24oZGF0ZSl9LHNjb3BlLmNsb3NlPWZ1bmN0aW9uKCl7c2NvcGUuaXNPcGVuPSExLGVsZW1lbnRbMF0uZm9jdXMoKX07dmFyICRwb3B1cD0kY29tcGlsZShwb3B1cEVsKShzY29wZSk7cG9wdXBFbC5yZW1vdmUoKSxhcHBlbmRUb0JvZHk/JGRvY3VtZW50LmZpbmQoImJvZHkiKS5hcHBlbmQoJHBvcHVwKTplbGVtZW50LmFmdGVyKCRwb3B1cCksc2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXskcG9wdXAucmVtb3ZlKCksZWxlbWVudC51bmJpbmQoImtleWRvd24iLGtleWRvd24pLCRkb2N1bWVudC51bmJpbmQoImNsaWNrIixkb2N1bWVudENsaWNrQmluZCl9KX19fV0pLmRpcmVjdGl2ZSgiZGF0ZXBpY2tlclBvcHVwV3JhcCIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHRyYW5zY2x1ZGU6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbCIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50KXtlbGVtZW50LmJpbmQoImNsaWNrIixmdW5jdGlvbihldmVudCl7ZXZlbnQucHJldmVudERlZmF1bHQoKSxldmVudC5zdG9wUHJvcGFnYXRpb24oKX0pfX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmRyb3Bkb3duIixbXSkuY29uc3RhbnQoImRyb3Bkb3duQ29uZmlnIix7b3BlbkNsYXNzOiJvcGVuIn0pLnNlcnZpY2UoImRyb3Bkb3duU2VydmljZSIsWyIkZG9jdW1lbnQiLGZ1bmN0aW9uKCRkb2N1bWVudCl7dmFyIG9wZW5TY29wZT1udWxsO3RoaXMub3Blbj1mdW5jdGlvbihkcm9wZG93blNjb3BlKXtvcGVuU2NvcGV8fCgkZG9jdW1lbnQuYmluZCgiY2xpY2siLGNsb3NlRHJvcGRvd24pLCRkb2N1bWVudC5iaW5kKCJrZXlkb3duIixlc2NhcGVLZXlCaW5kKSksb3BlblNjb3BlJiZvcGVuU2NvcGUhPT1kcm9wZG93blNjb3BlJiYob3BlblNjb3BlLmlzT3Blbj0hMSksb3BlblNjb3BlPWRyb3Bkb3duU2NvcGV9LHRoaXMuY2xvc2U9ZnVuY3Rpb24oZHJvcGRvd25TY29wZSl7b3BlblNjb3BlPT09ZHJvcGRvd25TY29wZSYmKG9wZW5TY29wZT1udWxsLCRkb2N1bWVudC51bmJpbmQoImNsaWNrIixjbG9zZURyb3Bkb3duKSwkZG9jdW1lbnQudW5iaW5kKCJrZXlkb3duIixlc2NhcGVLZXlCaW5kKSl9O3ZhciBjbG9zZURyb3Bkb3duPWZ1bmN0aW9uKGV2dCl7dmFyIHRvZ2dsZUVsZW1lbnQ9b3BlblNjb3BlLmdldFRvZ2dsZUVsZW1lbnQoKTtldnQmJnRvZ2dsZUVsZW1lbnQmJnRvZ2dsZUVsZW1lbnRbMF0uY29udGFpbnMoZXZ0LnRhcmdldCl8fG9wZW5TY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtvcGVuU2NvcGUuaXNPcGVuPSExfSl9LGVzY2FwZUtleUJpbmQ9ZnVuY3Rpb24oZXZ0KXsyNz09PWV2dC53aGljaCYmKG9wZW5TY29wZS5mb2N1c1RvZ2dsZUVsZW1lbnQoKSxjbG9zZURyb3Bkb3duKCkpfX1dKS5jb250cm9sbGVyKCJEcm9wZG93bkNvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGF0dHJzIiwiJHBhcnNlIiwiZHJvcGRvd25Db25maWciLCJkcm9wZG93blNlcnZpY2UiLCIkYW5pbWF0ZSIsZnVuY3Rpb24oJHNjb3BlLCRhdHRycywkcGFyc2UsZHJvcGRvd25Db25maWcsZHJvcGRvd25TZXJ2aWNlLCRhbmltYXRlKXt2YXIgZ2V0SXNPcGVuLHNlbGY9dGhpcyxzY29wZT0kc2NvcGUuJG5ldygpLG9wZW5DbGFzcz1kcm9wZG93bkNvbmZpZy5vcGVuQ2xhc3Msc2V0SXNPcGVuPWFuZ3VsYXIubm9vcCx0b2dnbGVJbnZva2VyPSRhdHRycy5vblRvZ2dsZT8kcGFyc2UoJGF0dHJzLm9uVG9nZ2xlKTphbmd1bGFyLm5vb3A7dGhpcy5pbml0PWZ1bmN0aW9uKGVsZW1lbnQpe3NlbGYuJGVsZW1lbnQ9ZWxlbWVudCwkYXR0cnMuaXNPcGVuJiYoZ2V0SXNPcGVuPSRwYXJzZSgkYXR0cnMuaXNPcGVuKSxzZXRJc09wZW49Z2V0SXNPcGVuLmFzc2lnbiwkc2NvcGUuJHdhdGNoKGdldElzT3BlbixmdW5jdGlvbih2YWx1ZSl7c2NvcGUuaXNPcGVuPSEhdmFsdWV9KSl9LHRoaXMudG9nZ2xlPWZ1bmN0aW9uKG9wZW4pe3JldHVybiBzY29wZS5pc09wZW49YXJndW1lbnRzLmxlbmd0aD8hIW9wZW46IXNjb3BlLmlzT3Blbn0sdGhpcy5pc09wZW49ZnVuY3Rpb24oKXtyZXR1cm4gc2NvcGUuaXNPcGVufSxzY29wZS5nZXRUb2dnbGVFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHNlbGYudG9nZ2xlRWxlbWVudH0sc2NvcGUuZm9jdXNUb2dnbGVFbGVtZW50PWZ1bmN0aW9uKCl7c2VsZi50b2dnbGVFbGVtZW50JiZzZWxmLnRvZ2dsZUVsZW1lbnRbMF0uZm9jdXMoKX0sc2NvcGUuJHdhdGNoKCJpc09wZW4iLGZ1bmN0aW9uKGlzT3Blbix3YXNPcGVuKXskYW5pbWF0ZVtpc09wZW4/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXShzZWxmLiRlbGVtZW50LG9wZW5DbGFzcyksaXNPcGVuPyhzY29wZS5mb2N1c1RvZ2dsZUVsZW1lbnQoKSxkcm9wZG93blNlcnZpY2Uub3BlbihzY29wZSkpOmRyb3Bkb3duU2VydmljZS5jbG9zZShzY29wZSksc2V0SXNPcGVuKCRzY29wZSxpc09wZW4pLGFuZ3VsYXIuaXNEZWZpbmVkKGlzT3BlbikmJmlzT3BlbiE9PXdhc09wZW4mJnRvZ2dsZUludm9rZXIoJHNjb3BlLHtvcGVuOiEhaXNPcGVufSl9KSwkc2NvcGUuJG9uKCIkbG9jYXRpb25DaGFuZ2VTdWNjZXNzIixmdW5jdGlvbigpe3Njb3BlLmlzT3Blbj0hMX0pLCRzY29wZS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe3Njb3BlLiRkZXN0cm95KCl9KX1dKS5kaXJlY3RpdmUoImRyb3Bkb3duIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiQ0EiLGNvbnRyb2xsZXI6IkRyb3Bkb3duQ29udHJvbGxlciIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGRyb3Bkb3duQ3RybCl7ZHJvcGRvd25DdHJsLmluaXQoZWxlbWVudCl9fX0pLmRpcmVjdGl2ZSgiZHJvcGRvd25Ub2dnbGUiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJDQSIscmVxdWlyZToiP15kcm9wZG93biIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGRyb3Bkb3duQ3RybCl7aWYoZHJvcGRvd25DdHJsKXtkcm9wZG93bkN0cmwudG9nZ2xlRWxlbWVudD1lbGVtZW50O3ZhciB0b2dnbGVEcm9wZG93bj1mdW5jdGlvbihldmVudCl7ZXZlbnQucHJldmVudERlZmF1bHQoKSxlbGVtZW50Lmhhc0NsYXNzKCJkaXNhYmxlZCIpfHxhdHRycy5kaXNhYmxlZHx8c2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7ZHJvcGRvd25DdHJsLnRvZ2dsZSgpfSl9O2VsZW1lbnQuYmluZCgiY2xpY2siLHRvZ2dsZURyb3Bkb3duKSxlbGVtZW50LmF0dHIoeyJhcmlhLWhhc3BvcHVwIjohMCwiYXJpYS1leHBhbmRlZCI6ITF9KSxzY29wZS4kd2F0Y2goZHJvcGRvd25DdHJsLmlzT3BlbixmdW5jdGlvbihpc09wZW4pe2VsZW1lbnQuYXR0cigiYXJpYS1leHBhbmRlZCIsISFpc09wZW4pfSksc2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtlbGVtZW50LnVuYmluZCgiY2xpY2siLHRvZ2dsZURyb3Bkb3duKX0pfX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5tb2RhbCIsWyJ1aS5ib290c3RyYXAudHJhbnNpdGlvbiJdKS5mYWN0b3J5KCIkJHN0YWNrZWRNYXAiLGZ1bmN0aW9uKCl7cmV0dXJue2NyZWF0ZU5ldzpmdW5jdGlvbigpe3ZhciBzdGFjaz1bXTtyZXR1cm57YWRkOmZ1bmN0aW9uKGtleSx2YWx1ZSl7c3RhY2sucHVzaCh7a2V5OmtleSx2YWx1ZTp2YWx1ZX0pfSxnZXQ6ZnVuY3Rpb24oa2V5KXtmb3IodmFyIGk9MDtpPHN0YWNrLmxlbmd0aDtpKyspaWYoa2V5PT1zdGFja1tpXS5rZXkpcmV0dXJuIHN0YWNrW2ldfSxrZXlzOmZ1bmN0aW9uKCl7Zm9yKHZhciBrZXlzPVtdLGk9MDtpPHN0YWNrLmxlbmd0aDtpKyspa2V5cy5wdXNoKHN0YWNrW2ldLmtleSk7cmV0dXJuIGtleXN9LHRvcDpmdW5jdGlvbigpe3JldHVybiBzdGFja1tzdGFjay5sZW5ndGgtMV19LHJlbW92ZTpmdW5jdGlvbihrZXkpe2Zvcih2YXIgaWR4PS0xLGk9MDtpPHN0YWNrLmxlbmd0aDtpKyspaWYoa2V5PT1zdGFja1tpXS5rZXkpe2lkeD1pO2JyZWFrfXJldHVybiBzdGFjay5zcGxpY2UoaWR4LDEpWzBdfSxyZW1vdmVUb3A6ZnVuY3Rpb24oKXtyZXR1cm4gc3RhY2suc3BsaWNlKHN0YWNrLmxlbmd0aC0xLDEpWzBdfSxsZW5ndGg6ZnVuY3Rpb24oKXtyZXR1cm4gc3RhY2subGVuZ3RofX19fX0pLmRpcmVjdGl2ZSgibW9kYWxCYWNrZHJvcCIsWyIkdGltZW91dCIsZnVuY3Rpb24oJHRpbWVvdXQpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWwiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyl7c2NvcGUuYmFja2Ryb3BDbGFzcz1hdHRycy5iYWNrZHJvcENsYXNzfHwiIixzY29wZS5hbmltYXRlPSExLCR0aW1lb3V0KGZ1bmN0aW9uKCl7c2NvcGUuYW5pbWF0ZT0hMH0pfX19XSkuZGlyZWN0aXZlKCJtb2RhbFdpbmRvdyIsWyIkbW9kYWxTdGFjayIsIiR0aW1lb3V0IixmdW5jdGlvbigkbW9kYWxTdGFjaywkdGltZW91dCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsc2NvcGU6e2luZGV4OiJAIixhbmltYXRlOiI9In0scmVwbGFjZTohMCx0cmFuc2NsdWRlOiEwLHRlbXBsYXRlVXJsOmZ1bmN0aW9uKHRFbGVtZW50LHRBdHRycyl7cmV0dXJuIHRBdHRycy50ZW1wbGF0ZVVybHx8InRlbXBsYXRlL21vZGFsL3dpbmRvdy5odG1sIn0sbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzKXtlbGVtZW50LmFkZENsYXNzKGF0dHJzLndpbmRvd0NsYXNzfHwiIiksc2NvcGUuc2l6ZT1hdHRycy5zaXplLCR0aW1lb3V0KGZ1bmN0aW9uKCl7c2NvcGUuYW5pbWF0ZT0hMCxlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3JBbGwoIlthdXRvZm9jdXNdIikubGVuZ3RofHxlbGVtZW50WzBdLmZvY3VzKCl9KSxzY29wZS5jbG9zZT1mdW5jdGlvbihldnQpe3ZhciBtb2RhbD0kbW9kYWxTdGFjay5nZXRUb3AoKTttb2RhbCYmbW9kYWwudmFsdWUuYmFja2Ryb3AmJiJzdGF0aWMiIT1tb2RhbC52YWx1ZS5iYWNrZHJvcCYmZXZ0LnRhcmdldD09PWV2dC5jdXJyZW50VGFyZ2V0JiYoZXZ0LnByZXZlbnREZWZhdWx0KCksZXZ0LnN0b3BQcm9wYWdhdGlvbigpLCRtb2RhbFN0YWNrLmRpc21pc3MobW9kYWwua2V5LCJiYWNrZHJvcCBjbGljayIpKX19fX1dKS5kaXJlY3RpdmUoIm1vZGFsVHJhbnNjbHVkZSIsZnVuY3Rpb24oKXtyZXR1cm57bGluazpmdW5jdGlvbigkc2NvcGUsJGVsZW1lbnQsJGF0dHJzLGNvbnRyb2xsZXIsJHRyYW5zY2x1ZGUpeyR0cmFuc2NsdWRlKCRzY29wZS4kcGFyZW50LGZ1bmN0aW9uKGNsb25lKXskZWxlbWVudC5lbXB0eSgpLCRlbGVtZW50LmFwcGVuZChjbG9uZSl9KX19fSkuZmFjdG9yeSgiJG1vZGFsU3RhY2siLFsiJHRyYW5zaXRpb24iLCIkdGltZW91dCIsIiRkb2N1bWVudCIsIiRjb21waWxlIiwiJHJvb3RTY29wZSIsIiQkc3RhY2tlZE1hcCIsZnVuY3Rpb24oJHRyYW5zaXRpb24sJHRpbWVvdXQsJGRvY3VtZW50LCRjb21waWxlLCRyb290U2NvcGUsJCRzdGFja2VkTWFwKXtmdW5jdGlvbiBiYWNrZHJvcEluZGV4KCl7Zm9yKHZhciB0b3BCYWNrZHJvcEluZGV4PS0xLG9wZW5lZD1vcGVuZWRXaW5kb3dzLmtleXMoKSxpPTA7aTxvcGVuZWQubGVuZ3RoO2krKylvcGVuZWRXaW5kb3dzLmdldChvcGVuZWRbaV0pLnZhbHVlLmJhY2tkcm9wJiYodG9wQmFja2Ryb3BJbmRleD1pKTtyZXR1cm4gdG9wQmFja2Ryb3BJbmRleH1mdW5jdGlvbiByZW1vdmVNb2RhbFdpbmRvdyhtb2RhbEluc3RhbmNlKXt2YXIgYm9keT0kZG9jdW1lbnQuZmluZCgiYm9keSIpLmVxKDApLG1vZGFsV2luZG93PW9wZW5lZFdpbmRvd3MuZ2V0KG1vZGFsSW5zdGFuY2UpLnZhbHVlO29wZW5lZFdpbmRvd3MucmVtb3ZlKG1vZGFsSW5zdGFuY2UpLHJlbW92ZUFmdGVyQW5pbWF0ZShtb2RhbFdpbmRvdy5tb2RhbERvbUVsLG1vZGFsV2luZG93Lm1vZGFsU2NvcGUsMzAwLGZ1bmN0aW9uKCl7bW9kYWxXaW5kb3cubW9kYWxTY29wZS4kZGVzdHJveSgpLGJvZHkudG9nZ2xlQ2xhc3MoT1BFTkVEX01PREFMX0NMQVNTLG9wZW5lZFdpbmRvd3MubGVuZ3RoKCk+MCksY2hlY2tSZW1vdmVCYWNrZHJvcCgpfSl9ZnVuY3Rpb24gY2hlY2tSZW1vdmVCYWNrZHJvcCgpe2lmKGJhY2tkcm9wRG9tRWwmJi0xPT1iYWNrZHJvcEluZGV4KCkpe3ZhciBiYWNrZHJvcFNjb3BlUmVmPWJhY2tkcm9wU2NvcGU7cmVtb3ZlQWZ0ZXJBbmltYXRlKGJhY2tkcm9wRG9tRWwsYmFja2Ryb3BTY29wZSwxNTAsZnVuY3Rpb24oKXtiYWNrZHJvcFNjb3BlUmVmLiRkZXN0cm95KCksYmFja2Ryb3BTY29wZVJlZj1udWxsfSksYmFja2Ryb3BEb21FbD12b2lkIDAsYmFja2Ryb3BTY29wZT12b2lkIDB9fWZ1bmN0aW9uIHJlbW92ZUFmdGVyQW5pbWF0ZShkb21FbCxzY29wZSxlbXVsYXRlVGltZSxkb25lKXtmdW5jdGlvbiBhZnRlckFuaW1hdGluZygpe2FmdGVyQW5pbWF0aW5nLmRvbmV8fChhZnRlckFuaW1hdGluZy5kb25lPSEwLGRvbUVsLnJlbW92ZSgpLGRvbmUmJmRvbmUoKSl9c2NvcGUuYW5pbWF0ZT0hMTt2YXIgdHJhbnNpdGlvbkVuZEV2ZW50TmFtZT0kdHJhbnNpdGlvbi50cmFuc2l0aW9uRW5kRXZlbnROYW1lO2lmKHRyYW5zaXRpb25FbmRFdmVudE5hbWUpe3ZhciB0aW1lb3V0PSR0aW1lb3V0KGFmdGVyQW5pbWF0aW5nLGVtdWxhdGVUaW1lKTtkb21FbC5iaW5kKHRyYW5zaXRpb25FbmRFdmVudE5hbWUsZnVuY3Rpb24oKXskdGltZW91dC5jYW5jZWwodGltZW91dCksYWZ0ZXJBbmltYXRpbmcoKSxzY29wZS4kYXBwbHkoKX0pfWVsc2UgJHRpbWVvdXQoYWZ0ZXJBbmltYXRpbmcpfXZhciBiYWNrZHJvcERvbUVsLGJhY2tkcm9wU2NvcGUsT1BFTkVEX01PREFMX0NMQVNTPSJtb2RhbC1vcGVuIixvcGVuZWRXaW5kb3dzPSQkc3RhY2tlZE1hcC5jcmVhdGVOZXcoKSwkbW9kYWxTdGFjaz17fTtyZXR1cm4gJHJvb3RTY29wZS4kd2F0Y2goYmFja2Ryb3BJbmRleCxmdW5jdGlvbihuZXdCYWNrZHJvcEluZGV4KXtiYWNrZHJvcFNjb3BlJiYoYmFja2Ryb3BTY29wZS5pbmRleD1uZXdCYWNrZHJvcEluZGV4KX0pLCRkb2N1bWVudC5iaW5kKCJrZXlkb3duIixmdW5jdGlvbihldnQpe3ZhciBtb2RhbDsyNz09PWV2dC53aGljaCYmKG1vZGFsPW9wZW5lZFdpbmRvd3MudG9wKCksbW9kYWwmJm1vZGFsLnZhbHVlLmtleWJvYXJkJiYoZXZ0LnByZXZlbnREZWZhdWx0KCksJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24oKXskbW9kYWxTdGFjay5kaXNtaXNzKG1vZGFsLmtleSwiZXNjYXBlIGtleSBwcmVzcyIpfSkpKX0pLCRtb2RhbFN0YWNrLm9wZW49ZnVuY3Rpb24obW9kYWxJbnN0YW5jZSxtb2RhbCl7b3BlbmVkV2luZG93cy5hZGQobW9kYWxJbnN0YW5jZSx7ZGVmZXJyZWQ6bW9kYWwuZGVmZXJyZWQsbW9kYWxTY29wZTptb2RhbC5zY29wZSxiYWNrZHJvcDptb2RhbC5iYWNrZHJvcCxrZXlib2FyZDptb2RhbC5rZXlib2FyZH0pO3ZhciBib2R5PSRkb2N1bWVudC5maW5kKCJib2R5IikuZXEoMCksY3VyckJhY2tkcm9wSW5kZXg9YmFja2Ryb3BJbmRleCgpO2lmKGN1cnJCYWNrZHJvcEluZGV4Pj0wJiYhYmFja2Ryb3BEb21FbCl7YmFja2Ryb3BTY29wZT0kcm9vdFNjb3BlLiRuZXcoITApLGJhY2tkcm9wU2NvcGUuaW5kZXg9Y3VyckJhY2tkcm9wSW5kZXg7dmFyIGFuZ3VsYXJCYWNrZ3JvdW5kRG9tRWw9YW5ndWxhci5lbGVtZW50KCI8ZGl2IG1vZGFsLWJhY2tkcm9wPjwvZGl2PiIpO2FuZ3VsYXJCYWNrZ3JvdW5kRG9tRWwuYXR0cigiYmFja2Ryb3AtY2xhc3MiLG1vZGFsLmJhY2tkcm9wQ2xhc3MpLGJhY2tkcm9wRG9tRWw9JGNvbXBpbGUoYW5ndWxhckJhY2tncm91bmREb21FbCkoYmFja2Ryb3BTY29wZSksYm9keS5hcHBlbmQoYmFja2Ryb3BEb21FbCl9dmFyIGFuZ3VsYXJEb21FbD1hbmd1bGFyLmVsZW1lbnQoIjxkaXYgbW9kYWwtd2luZG93PjwvZGl2PiIpO2FuZ3VsYXJEb21FbC5hdHRyKHsidGVtcGxhdGUtdXJsIjptb2RhbC53aW5kb3dUZW1wbGF0ZVVybCwid2luZG93LWNsYXNzIjptb2RhbC53aW5kb3dDbGFzcyxzaXplOm1vZGFsLnNpemUsaW5kZXg6b3BlbmVkV2luZG93cy5sZW5ndGgoKS0xLGFuaW1hdGU6ImFuaW1hdGUifSkuaHRtbChtb2RhbC5jb250ZW50KTt2YXIgbW9kYWxEb21FbD0kY29tcGlsZShhbmd1bGFyRG9tRWwpKG1vZGFsLnNjb3BlKTtvcGVuZWRXaW5kb3dzLnRvcCgpLnZhbHVlLm1vZGFsRG9tRWw9bW9kYWxEb21FbCxib2R5LmFwcGVuZChtb2RhbERvbUVsKSxib2R5LmFkZENsYXNzKE9QRU5FRF9NT0RBTF9DTEFTUyl9LCRtb2RhbFN0YWNrLmNsb3NlPWZ1bmN0aW9uKG1vZGFsSW5zdGFuY2UscmVzdWx0KXt2YXIgbW9kYWxXaW5kb3c9b3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSk7bW9kYWxXaW5kb3cmJihtb2RhbFdpbmRvdy52YWx1ZS5kZWZlcnJlZC5yZXNvbHZlKHJlc3VsdCkscmVtb3ZlTW9kYWxXaW5kb3cobW9kYWxJbnN0YW5jZSkpfSwkbW9kYWxTdGFjay5kaXNtaXNzPWZ1bmN0aW9uKG1vZGFsSW5zdGFuY2UscmVhc29uKXt2YXIgbW9kYWxXaW5kb3c9b3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSk7bW9kYWxXaW5kb3cmJihtb2RhbFdpbmRvdy52YWx1ZS5kZWZlcnJlZC5yZWplY3QocmVhc29uKSxyZW1vdmVNb2RhbFdpbmRvdyhtb2RhbEluc3RhbmNlKSl9LCRtb2RhbFN0YWNrLmRpc21pc3NBbGw9ZnVuY3Rpb24ocmVhc29uKXtmb3IodmFyIHRvcE1vZGFsPXRoaXMuZ2V0VG9wKCk7dG9wTW9kYWw7KXRoaXMuZGlzbWlzcyh0b3BNb2RhbC5rZXkscmVhc29uKSx0b3BNb2RhbD10aGlzLmdldFRvcCgpfSwkbW9kYWxTdGFjay5nZXRUb3A9ZnVuY3Rpb24oKXtyZXR1cm4gb3BlbmVkV2luZG93cy50b3AoKX0sJG1vZGFsU3RhY2t9XSkucHJvdmlkZXIoIiRtb2RhbCIsZnVuY3Rpb24oKXt2YXIgJG1vZGFsUHJvdmlkZXI9e29wdGlvbnM6e2JhY2tkcm9wOiEwLGtleWJvYXJkOiEwfSwkZ2V0OlsiJGluamVjdG9yIiwiJHJvb3RTY29wZSIsIiRxIiwiJGh0dHAiLCIkdGVtcGxhdGVDYWNoZSIsIiRjb250cm9sbGVyIiwiJG1vZGFsU3RhY2siLGZ1bmN0aW9uKCRpbmplY3Rvciwkcm9vdFNjb3BlLCRxLCRodHRwLCR0ZW1wbGF0ZUNhY2hlLCRjb250cm9sbGVyLCRtb2RhbFN0YWNrKXtmdW5jdGlvbiBnZXRUZW1wbGF0ZVByb21pc2Uob3B0aW9ucyl7cmV0dXJuIG9wdGlvbnMudGVtcGxhdGU/JHEud2hlbihvcHRpb25zLnRlbXBsYXRlKTokaHR0cC5nZXQoYW5ndWxhci5pc0Z1bmN0aW9uKG9wdGlvbnMudGVtcGxhdGVVcmwpP29wdGlvbnMudGVtcGxhdGVVcmwoKTpvcHRpb25zLnRlbXBsYXRlVXJsLHtjYWNoZTokdGVtcGxhdGVDYWNoZX0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtyZXR1cm4gcmVzdWx0LmRhdGF9KX1mdW5jdGlvbiBnZXRSZXNvbHZlUHJvbWlzZXMocmVzb2x2ZXMpe3ZhciBwcm9taXNlc0Fycj1bXTtyZXR1cm4gYW5ndWxhci5mb3JFYWNoKHJlc29sdmVzLGZ1bmN0aW9uKHZhbHVlKXsoYW5ndWxhci5pc0Z1bmN0aW9uKHZhbHVlKXx8YW5ndWxhci5pc0FycmF5KHZhbHVlKSkmJnByb21pc2VzQXJyLnB1c2goJHEud2hlbigkaW5qZWN0b3IuaW52b2tlKHZhbHVlKSkpfSkscHJvbWlzZXNBcnJ9dmFyICRtb2RhbD17fTtyZXR1cm4gJG1vZGFsLm9wZW49ZnVuY3Rpb24obW9kYWxPcHRpb25zKXt2YXIgbW9kYWxSZXN1bHREZWZlcnJlZD0kcS5kZWZlcigpLG1vZGFsT3BlbmVkRGVmZXJyZWQ9JHEuZGVmZXIoKSxtb2RhbEluc3RhbmNlPXtyZXN1bHQ6bW9kYWxSZXN1bHREZWZlcnJlZC5wcm9taXNlLG9wZW5lZDptb2RhbE9wZW5lZERlZmVycmVkLnByb21pc2UsY2xvc2U6ZnVuY3Rpb24ocmVzdWx0KXskbW9kYWxTdGFjay5jbG9zZShtb2RhbEluc3RhbmNlLHJlc3VsdCl9LGRpc21pc3M6ZnVuY3Rpb24ocmVhc29uKXskbW9kYWxTdGFjay5kaXNtaXNzKG1vZGFsSW5zdGFuY2UscmVhc29uKX19O2lmKG1vZGFsT3B0aW9ucz1hbmd1bGFyLmV4dGVuZCh7fSwkbW9kYWxQcm92aWRlci5vcHRpb25zLG1vZGFsT3B0aW9ucyksbW9kYWxPcHRpb25zLnJlc29sdmU9bW9kYWxPcHRpb25zLnJlc29sdmV8fHt9LCFtb2RhbE9wdGlvbnMudGVtcGxhdGUmJiFtb2RhbE9wdGlvbnMudGVtcGxhdGVVcmwpdGhyb3cgbmV3IEVycm9yKCJPbmUgb2YgdGVtcGxhdGUgb3IgdGVtcGxhdGVVcmwgb3B0aW9ucyBpcyByZXF1aXJlZC4iKTt2YXIgdGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZT0kcS5hbGwoW2dldFRlbXBsYXRlUHJvbWlzZShtb2RhbE9wdGlvbnMpXS5jb25jYXQoZ2V0UmVzb2x2ZVByb21pc2VzKG1vZGFsT3B0aW9ucy5yZXNvbHZlKSkpO3JldHVybiB0ZW1wbGF0ZUFuZFJlc29sdmVQcm9taXNlLnRoZW4oZnVuY3Rpb24odHBsQW5kVmFycyl7dmFyIG1vZGFsU2NvcGU9KG1vZGFsT3B0aW9ucy5zY29wZXx8JHJvb3RTY29wZSkuJG5ldygpO21vZGFsU2NvcGUuJGNsb3NlPW1vZGFsSW5zdGFuY2UuY2xvc2UsbW9kYWxTY29wZS4kZGlzbWlzcz1tb2RhbEluc3RhbmNlLmRpc21pc3M7dmFyIGN0cmxJbnN0YW5jZSxjdHJsTG9jYWxzPXt9LHJlc29sdmVJdGVyPTE7bW9kYWxPcHRpb25zLmNvbnRyb2xsZXImJihjdHJsTG9jYWxzLiRzY29wZT1tb2RhbFNjb3BlLGN0cmxMb2NhbHMuJG1vZGFsSW5zdGFuY2U9bW9kYWxJbnN0YW5jZSxhbmd1bGFyLmZvckVhY2gobW9kYWxPcHRpb25zLnJlc29sdmUsZnVuY3Rpb24odmFsdWUsa2V5KXtjdHJsTG9jYWxzW2tleV09dHBsQW5kVmFyc1tyZXNvbHZlSXRlcisrXX0pLGN0cmxJbnN0YW5jZT0kY29udHJvbGxlcihtb2RhbE9wdGlvbnMuY29udHJvbGxlcixjdHJsTG9jYWxzKSxtb2RhbE9wdGlvbnMuY29udHJvbGxlckFzJiYobW9kYWxTY29wZVttb2RhbE9wdGlvbnMuY29udHJvbGxlckFzXT1jdHJsSW5zdGFuY2UpKSwkbW9kYWxTdGFjay5vcGVuKG1vZGFsSW5zdGFuY2Use3Njb3BlOm1vZGFsU2NvcGUsZGVmZXJyZWQ6bW9kYWxSZXN1bHREZWZlcnJlZCxjb250ZW50OnRwbEFuZFZhcnNbMF0sYmFja2Ryb3A6bW9kYWxPcHRpb25zLmJhY2tkcm9wLGtleWJvYXJkOm1vZGFsT3B0aW9ucy5rZXlib2FyZCxiYWNrZHJvcENsYXNzOm1vZGFsT3B0aW9ucy5iYWNrZHJvcENsYXNzLHdpbmRvd0NsYXNzOm1vZGFsT3B0aW9ucy53aW5kb3dDbGFzcyx3aW5kb3dUZW1wbGF0ZVVybDptb2RhbE9wdGlvbnMud2luZG93VGVtcGxhdGVVcmwsc2l6ZTptb2RhbE9wdGlvbnMuc2l6ZX0pfSxmdW5jdGlvbihyZWFzb24pe21vZGFsUmVzdWx0RGVmZXJyZWQucmVqZWN0KHJlYXNvbil9KSx0ZW1wbGF0ZUFuZFJlc29sdmVQcm9taXNlLnRoZW4oZnVuY3Rpb24oKXttb2RhbE9wZW5lZERlZmVycmVkLnJlc29sdmUoITApfSxmdW5jdGlvbigpe21vZGFsT3BlbmVkRGVmZXJyZWQucmVqZWN0KCExKX0pLG1vZGFsSW5zdGFuY2V9LCRtb2RhbH1dfTtyZXR1cm4gJG1vZGFsUHJvdmlkZXJ9KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnBhZ2luYXRpb24iLFtdKS5jb250cm9sbGVyKCJQYWdpbmF0aW9uQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLCIkcGFyc2UiLGZ1bmN0aW9uKCRzY29wZSwkYXR0cnMsJHBhcnNlKXt2YXIgc2VsZj10aGlzLG5nTW9kZWxDdHJsPXskc2V0Vmlld1ZhbHVlOmFuZ3VsYXIubm9vcH0sc2V0TnVtUGFnZXM9JGF0dHJzLm51bVBhZ2VzPyRwYXJzZSgkYXR0cnMubnVtUGFnZXMpLmFzc2lnbjphbmd1bGFyLm5vb3A7dGhpcy5pbml0PWZ1bmN0aW9uKG5nTW9kZWxDdHJsXyxjb25maWcpe25nTW9kZWxDdHJsPW5nTW9kZWxDdHJsXyx0aGlzLmNvbmZpZz1jb25maWcsbmdNb2RlbEN0cmwuJHJlbmRlcj1mdW5jdGlvbigpe3NlbGYucmVuZGVyKCl9LCRhdHRycy5pdGVtc1BlclBhZ2U/JHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMuaXRlbXNQZXJQYWdlKSxmdW5jdGlvbih2YWx1ZSl7c2VsZi5pdGVtc1BlclBhZ2U9cGFyc2VJbnQodmFsdWUsMTApLCRzY29wZS50b3RhbFBhZ2VzPXNlbGYuY2FsY3VsYXRlVG90YWxQYWdlcygpfSk6dGhpcy5pdGVtc1BlclBhZ2U9Y29uZmlnLml0ZW1zUGVyUGFnZX0sdGhpcy5jYWxjdWxhdGVUb3RhbFBhZ2VzPWZ1bmN0aW9uKCl7dmFyIHRvdGFsUGFnZXM9dGhpcy5pdGVtc1BlclBhZ2U8MT8xOk1hdGguY2VpbCgkc2NvcGUudG90YWxJdGVtcy90aGlzLml0ZW1zUGVyUGFnZSk7cmV0dXJuIE1hdGgubWF4KHRvdGFsUGFnZXN8fDAsMSl9LHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7JHNjb3BlLnBhZ2U9cGFyc2VJbnQobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSwxMCl8fDF9LCRzY29wZS5zZWxlY3RQYWdlPWZ1bmN0aW9uKHBhZ2UpeyRzY29wZS5wYWdlIT09cGFnZSYmcGFnZT4wJiZwYWdlPD0kc2NvcGUudG90YWxQYWdlcyYmKG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUocGFnZSksbmdNb2RlbEN0cmwuJHJlbmRlcigpKX0sJHNjb3BlLmdldFRleHQ9ZnVuY3Rpb24oa2V5KXtyZXR1cm4gJHNjb3BlW2tleSsiVGV4dCJdfHxzZWxmLmNvbmZpZ1trZXkrIlRleHQiXX0sJHNjb3BlLm5vUHJldmlvdXM9ZnVuY3Rpb24oKXtyZXR1cm4gMT09PSRzY29wZS5wYWdlfSwkc2NvcGUubm9OZXh0PWZ1bmN0aW9uKCl7cmV0dXJuICRzY29wZS5wYWdlPT09JHNjb3BlLnRvdGFsUGFnZXN9LCRzY29wZS4kd2F0Y2goInRvdGFsSXRlbXMiLGZ1bmN0aW9uKCl7JHNjb3BlLnRvdGFsUGFnZXM9c2VsZi5jYWxjdWxhdGVUb3RhbFBhZ2VzKCl9KSwkc2NvcGUuJHdhdGNoKCJ0b3RhbFBhZ2VzIixmdW5jdGlvbih2YWx1ZSl7c2V0TnVtUGFnZXMoJHNjb3BlLiRwYXJlbnQsdmFsdWUpLCRzY29wZS5wYWdlPnZhbHVlPyRzY29wZS5zZWxlY3RQYWdlKHZhbHVlKTpuZ01vZGVsQ3RybC4kcmVuZGVyKCl9KX1dKS5jb25zdGFudCgicGFnaW5hdGlvbkNvbmZpZyIse2l0ZW1zUGVyUGFnZToxMCxib3VuZGFyeUxpbmtzOiExLGRpcmVjdGlvbkxpbmtzOiEwLGZpcnN0VGV4dDoiRmlyc3QiLHByZXZpb3VzVGV4dDoiUHJldmlvdXMiLG5leHRUZXh0OiJOZXh0IixsYXN0VGV4dDoiTGFzdCIscm90YXRlOiEwfSkuZGlyZWN0aXZlKCJwYWdpbmF0aW9uIixbIiRwYXJzZSIsInBhZ2luYXRpb25Db25maWciLGZ1bmN0aW9uKCRwYXJzZSxwYWdpbmF0aW9uQ29uZmlnKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixzY29wZTp7dG90YWxJdGVtczoiPSIsZmlyc3RUZXh0OiJAIixwcmV2aW91c1RleHQ6IkAiLG5leHRUZXh0OiJAIixsYXN0VGV4dDoiQCJ9LHJlcXVpcmU6WyJwYWdpbmF0aW9uIiwiP25nTW9kZWwiXSxjb250cm9sbGVyOiJQYWdpbmF0aW9uQ29udHJvbGxlciIsdGVtcGxhdGVVcmw6InRlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sIixyZXBsYWNlOiEwLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjdHJscyl7ZnVuY3Rpb24gbWFrZVBhZ2UobnVtYmVyLHRleHQsaXNBY3RpdmUpe3JldHVybntudW1iZXI6bnVtYmVyLHRleHQ6dGV4dCxhY3RpdmU6aXNBY3RpdmV9fWZ1bmN0aW9uIGdldFBhZ2VzKGN1cnJlbnRQYWdlLHRvdGFsUGFnZXMpe3ZhciBwYWdlcz1bXSxzdGFydFBhZ2U9MSxlbmRQYWdlPXRvdGFsUGFnZXMsaXNNYXhTaXplZD1hbmd1bGFyLmlzRGVmaW5lZChtYXhTaXplKSYmdG90YWxQYWdlcz5tYXhTaXplO2lzTWF4U2l6ZWQmJihyb3RhdGU/KHN0YXJ0UGFnZT1NYXRoLm1heChjdXJyZW50UGFnZS1NYXRoLmZsb29yKG1heFNpemUvMiksMSksZW5kUGFnZT1zdGFydFBhZ2UrbWF4U2l6ZS0xLGVuZFBhZ2U+dG90YWxQYWdlcyYmKGVuZFBhZ2U9dG90YWxQYWdlcyxzdGFydFBhZ2U9ZW5kUGFnZS1tYXhTaXplKzEpKTooc3RhcnRQYWdlPShNYXRoLmNlaWwoY3VycmVudFBhZ2UvbWF4U2l6ZSktMSkqbWF4U2l6ZSsxLGVuZFBhZ2U9TWF0aC5taW4oc3RhcnRQYWdlK21heFNpemUtMSx0b3RhbFBhZ2VzKSkpO2Zvcih2YXIgbnVtYmVyPXN0YXJ0UGFnZTtlbmRQYWdlPj1udW1iZXI7bnVtYmVyKyspe3ZhciBwYWdlPW1ha2VQYWdlKG51bWJlcixudW1iZXIsbnVtYmVyPT09Y3VycmVudFBhZ2UpO3BhZ2VzLnB1c2gocGFnZSl9aWYoaXNNYXhTaXplZCYmIXJvdGF0ZSl7aWYoc3RhcnRQYWdlPjEpe3ZhciBwcmV2aW91c1BhZ2VTZXQ9bWFrZVBhZ2Uoc3RhcnRQYWdlLTEsIi4uLiIsITEpO3BhZ2VzLnVuc2hpZnQocHJldmlvdXNQYWdlU2V0KX1pZih0b3RhbFBhZ2VzPmVuZFBhZ2Upe3ZhciBuZXh0UGFnZVNldD1tYWtlUGFnZShlbmRQYWdlKzEsIi4uLiIsITEpO3BhZ2VzLnB1c2gobmV4dFBhZ2VTZXQpfX1yZXR1cm4gcGFnZXN9dmFyIHBhZ2luYXRpb25DdHJsPWN0cmxzWzBdLG5nTW9kZWxDdHJsPWN0cmxzWzFdO2lmKG5nTW9kZWxDdHJsKXt2YXIgbWF4U2l6ZT1hbmd1bGFyLmlzRGVmaW5lZChhdHRycy5tYXhTaXplKT9zY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLm1heFNpemUpOnBhZ2luYXRpb25Db25maWcubWF4U2l6ZSxyb3RhdGU9YW5ndWxhci5pc0RlZmluZWQoYXR0cnMucm90YXRlKT9zY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLnJvdGF0ZSk6cGFnaW5hdGlvbkNvbmZpZy5yb3RhdGU7c2NvcGUuYm91bmRhcnlMaW5rcz1hbmd1bGFyLmlzRGVmaW5lZChhdHRycy5ib3VuZGFyeUxpbmtzKT9zY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmJvdW5kYXJ5TGlua3MpOnBhZ2luYXRpb25Db25maWcuYm91bmRhcnlMaW5rcyxzY29wZS5kaXJlY3Rpb25MaW5rcz1hbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kaXJlY3Rpb25MaW5rcyk/c2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5kaXJlY3Rpb25MaW5rcyk6cGFnaW5hdGlvbkNvbmZpZy5kaXJlY3Rpb25MaW5rcyxwYWdpbmF0aW9uQ3RybC5pbml0KG5nTW9kZWxDdHJsLHBhZ2luYXRpb25Db25maWcpLGF0dHJzLm1heFNpemUmJnNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZShhdHRycy5tYXhTaXplKSxmdW5jdGlvbih2YWx1ZSl7bWF4U2l6ZT1wYXJzZUludCh2YWx1ZSwxMCkscGFnaW5hdGlvbkN0cmwucmVuZGVyKCl9KTt2YXIgb3JpZ2luYWxSZW5kZXI9cGFnaW5hdGlvbkN0cmwucmVuZGVyO3BhZ2luYXRpb25DdHJsLnJlbmRlcj1mdW5jdGlvbigpe29yaWdpbmFsUmVuZGVyKCksc2NvcGUucGFnZT4wJiZzY29wZS5wYWdlPD1zY29wZS50b3RhbFBhZ2VzJiYoc2NvcGUucGFnZXM9Z2V0UGFnZXMoc2NvcGUucGFnZSxzY29wZS50b3RhbFBhZ2VzKSl9fX19fV0pLmNvbnN0YW50KCJwYWdlckNvbmZpZyIse2l0ZW1zUGVyUGFnZToxMCxwcmV2aW91c1RleHQ6IsKrIFByZXZpb3VzIixuZXh0VGV4dDoiTmV4dCDCuyIsYWxpZ246ITB9KS5kaXJlY3RpdmUoInBhZ2VyIixbInBhZ2VyQ29uZmlnIixmdW5jdGlvbihwYWdlckNvbmZpZyl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsc2NvcGU6e3RvdGFsSXRlbXM6Ij0iLHByZXZpb3VzVGV4dDoiQCIsbmV4dFRleHQ6IkAifSxyZXF1aXJlOlsicGFnZXIiLCI/bmdNb2RlbCJdLGNvbnRyb2xsZXI6IlBhZ2luYXRpb25Db250cm9sbGVyIix0ZW1wbGF0ZVVybDoidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sIixyZXBsYWNlOiEwLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjdHJscyl7dmFyIHBhZ2luYXRpb25DdHJsPWN0cmxzWzBdLG5nTW9kZWxDdHJsPWN0cmxzWzFdO25nTW9kZWxDdHJsJiYoc2NvcGUuYWxpZ249YW5ndWxhci5pc0RlZmluZWQoYXR0cnMuYWxpZ24pP3Njb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuYWxpZ24pOnBhZ2VyQ29uZmlnLmFsaWduLHBhZ2luYXRpb25DdHJsLmluaXQobmdNb2RlbEN0cmwscGFnZXJDb25maWcpKX19fV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAudG9vbHRpcCIsWyJ1aS5ib290c3RyYXAucG9zaXRpb24iLCJ1aS5ib290c3RyYXAuYmluZEh0bWwiXSkucHJvdmlkZXIoIiR0b29sdGlwIixmdW5jdGlvbigpe2Z1bmN0aW9uIHNuYWtlX2Nhc2UobmFtZSl7dmFyIHJlZ2V4cD0vW0EtWl0vZyxzZXBhcmF0b3I9Ii0iO3JldHVybiBuYW1lLnJlcGxhY2UocmVnZXhwLGZ1bmN0aW9uKGxldHRlcixwb3Mpe3JldHVybihwb3M/c2VwYXJhdG9yOiIiKStsZXR0ZXIudG9Mb3dlckNhc2UoKX0pfXZhciBkZWZhdWx0T3B0aW9ucz17cGxhY2VtZW50OiJ0b3AiLGFuaW1hdGlvbjohMCxwb3B1cERlbGF5OjB9LHRyaWdnZXJNYXA9e21vdXNlZW50ZXI6Im1vdXNlbGVhdmUiLGNsaWNrOiJjbGljayIsZm9jdXM6ImJsdXIifSxnbG9iYWxPcHRpb25zPXt9O3RoaXMub3B0aW9ucz1mdW5jdGlvbih2YWx1ZSl7YW5ndWxhci5leHRlbmQoZ2xvYmFsT3B0aW9ucyx2YWx1ZSl9LHRoaXMuc2V0VHJpZ2dlcnM9ZnVuY3Rpb24odHJpZ2dlcnMpe2FuZ3VsYXIuZXh0ZW5kKHRyaWdnZXJNYXAsdHJpZ2dlcnMpfSx0aGlzLiRnZXQ9WyIkd2luZG93IiwiJGNvbXBpbGUiLCIkdGltZW91dCIsIiRwYXJzZSIsIiRkb2N1bWVudCIsIiRwb3NpdGlvbiIsIiRpbnRlcnBvbGF0ZSIsZnVuY3Rpb24oJHdpbmRvdywkY29tcGlsZSwkdGltZW91dCwkcGFyc2UsJGRvY3VtZW50LCRwb3NpdGlvbiwkaW50ZXJwb2xhdGUpe3JldHVybiBmdW5jdGlvbih0eXBlLHByZWZpeCxkZWZhdWx0VHJpZ2dlclNob3cpe2Z1bmN0aW9uIGdldFRyaWdnZXJzKHRyaWdnZXIpe3ZhciBzaG93PXRyaWdnZXJ8fG9wdGlvbnMudHJpZ2dlcnx8ZGVmYXVsdFRyaWdnZXJTaG93LGhpZGU9dHJpZ2dlck1hcFtzaG93XXx8c2hvdztyZXR1cm57c2hvdzpzaG93LGhpZGU6aGlkZX19dmFyIG9wdGlvbnM9YW5ndWxhci5leHRlbmQoe30sZGVmYXVsdE9wdGlvbnMsZ2xvYmFsT3B0aW9ucyksZGlyZWN0aXZlTmFtZT1zbmFrZV9jYXNlKHR5cGUpLHN0YXJ0U3ltPSRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCgpLGVuZFN5bT0kaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCksdGVtcGxhdGU9IjxkaXYgIitkaXJlY3RpdmVOYW1lKyctcG9wdXAgdGl0bGU9Iicrc3RhcnRTeW0rInR0X3RpdGxlIitlbmRTeW0rJyIgY29udGVudD0iJytzdGFydFN5bSsidHRfY29udGVudCIrZW5kU3ltKyciIHBsYWNlbWVudD0iJytzdGFydFN5bSsidHRfcGxhY2VtZW50IitlbmRTeW0rJyIgYW5pbWF0aW9uPSJ0dF9hbmltYXRpb24iIGlzLW9wZW49InR0X2lzT3BlbiI+PC9kaXY+JztyZXR1cm57cmVzdHJpY3Q6IkVBIixzY29wZTohMCxjb21waWxlOmZ1bmN0aW9uKCl7dmFyIHRvb2x0aXBMaW5rZXI9JGNvbXBpbGUodGVtcGxhdGUpO3JldHVybiBmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzKXtmdW5jdGlvbiB0b2dnbGVUb29sdGlwQmluZCgpe3Njb3BlLnR0X2lzT3Blbj9oaWRlVG9vbHRpcEJpbmQoKTpzaG93VG9vbHRpcEJpbmQoKX1mdW5jdGlvbiBzaG93VG9vbHRpcEJpbmQoKXsoIWhhc0VuYWJsZUV4cHx8c2NvcGUuJGV2YWwoYXR0cnNbcHJlZml4KyJFbmFibGUiXSkpJiYoc2NvcGUudHRfcG9wdXBEZWxheT9wb3B1cFRpbWVvdXR8fChwb3B1cFRpbWVvdXQ9JHRpbWVvdXQoc2hvdyxzY29wZS50dF9wb3B1cERlbGF5LCExKSxwb3B1cFRpbWVvdXQudGhlbihmdW5jdGlvbihyZXBvc2l0aW9uKXtyZXBvc2l0aW9uKCl9KSk6c2hvdygpKCkpfWZ1bmN0aW9uIGhpZGVUb29sdGlwQmluZCgpe3Njb3BlLiRhcHBseShmdW5jdGlvbigpe2hpZGUoKX0pfWZ1bmN0aW9uIHNob3coKXtyZXR1cm4gcG9wdXBUaW1lb3V0PW51bGwsdHJhbnNpdGlvblRpbWVvdXQmJigkdGltZW91dC5jYW5jZWwodHJhbnNpdGlvblRpbWVvdXQpLHRyYW5zaXRpb25UaW1lb3V0PW51bGwpLHNjb3BlLnR0X2NvbnRlbnQ/KGNyZWF0ZVRvb2x0aXAoKSx0b29sdGlwLmNzcyh7dG9wOjAsbGVmdDowLGRpc3BsYXk6ImJsb2NrIn0pLGFwcGVuZFRvQm9keT8kZG9jdW1lbnQuZmluZCgiYm9keSIpLmFwcGVuZCh0b29sdGlwKTplbGVtZW50LmFmdGVyKHRvb2x0aXApLHBvc2l0aW9uVG9vbHRpcCgpLHNjb3BlLnR0X2lzT3Blbj0hMCxzY29wZS4kZGlnZXN0KCkscG9zaXRpb25Ub29sdGlwKTphbmd1bGFyLm5vb3B9ZnVuY3Rpb24gaGlkZSgpe3Njb3BlLnR0X2lzT3Blbj0hMSwkdGltZW91dC5jYW5jZWwocG9wdXBUaW1lb3V0KSxwb3B1cFRpbWVvdXQ9bnVsbCxzY29wZS50dF9hbmltYXRpb24/dHJhbnNpdGlvblRpbWVvdXR8fCh0cmFuc2l0aW9uVGltZW91dD0kdGltZW91dChyZW1vdmVUb29sdGlwLDUwMCkpOnJlbW92ZVRvb2x0aXAoKX1mdW5jdGlvbiBjcmVhdGVUb29sdGlwKCl7dG9vbHRpcCYmcmVtb3ZlVG9vbHRpcCgpLHRvb2x0aXA9dG9vbHRpcExpbmtlcihzY29wZSxmdW5jdGlvbigpe30pLHNjb3BlLiRkaWdlc3QoKX1mdW5jdGlvbiByZW1vdmVUb29sdGlwKCl7dHJhbnNpdGlvblRpbWVvdXQ9bnVsbCx0b29sdGlwJiYodG9vbHRpcC5yZW1vdmUoKSx0b29sdGlwPW51bGwpfXZhciB0b29sdGlwLHRyYW5zaXRpb25UaW1lb3V0LHBvcHVwVGltZW91dCxhcHBlbmRUb0JvZHk9YW5ndWxhci5pc0RlZmluZWQob3B0aW9ucy5hcHBlbmRUb0JvZHkpP29wdGlvbnMuYXBwZW5kVG9Cb2R5OiExLHRyaWdnZXJzPWdldFRyaWdnZXJzKHZvaWQgMCksaGFzRW5hYmxlRXhwPWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzW3ByZWZpeCsiRW5hYmxlIl0pLHBvc2l0aW9uVG9vbHRpcD1mdW5jdGlvbigpe3ZhciB0dFBvc2l0aW9uPSRwb3NpdGlvbi5wb3NpdGlvbkVsZW1lbnRzKGVsZW1lbnQsdG9vbHRpcCxzY29wZS50dF9wbGFjZW1lbnQsYXBwZW5kVG9Cb2R5KTt0dFBvc2l0aW9uLnRvcCs9InB4Iix0dFBvc2l0aW9uLmxlZnQrPSJweCIsdG9vbHRpcC5jc3ModHRQb3NpdGlvbil9O3Njb3BlLnR0X2lzT3Blbj0hMSxhdHRycy4kb2JzZXJ2ZSh0eXBlLGZ1bmN0aW9uKHZhbCl7c2NvcGUudHRfY29udGVudD12YWwsIXZhbCYmc2NvcGUudHRfaXNPcGVuJiZoaWRlKCl9KSxhdHRycy4kb2JzZXJ2ZShwcmVmaXgrIlRpdGxlIixmdW5jdGlvbih2YWwpe3Njb3BlLnR0X3RpdGxlPXZhbH0pLGF0dHJzLiRvYnNlcnZlKHByZWZpeCsiUGxhY2VtZW50IixmdW5jdGlvbih2YWwpe3Njb3BlLnR0X3BsYWNlbWVudD1hbmd1bGFyLmlzRGVmaW5lZCh2YWwpP3ZhbDpvcHRpb25zLnBsYWNlbWVudH0pLGF0dHJzLiRvYnNlcnZlKHByZWZpeCsiUG9wdXBEZWxheSIsZnVuY3Rpb24odmFsKXt2YXIgZGVsYXk9cGFyc2VJbnQodmFsLDEwKTtzY29wZS50dF9wb3B1cERlbGF5PWlzTmFOKGRlbGF5KT9vcHRpb25zLnBvcHVwRGVsYXk6ZGVsYXl9KTt2YXIgdW5yZWdpc3RlclRyaWdnZXJzPWZ1bmN0aW9uKCl7ZWxlbWVudC51bmJpbmQodHJpZ2dlcnMuc2hvdyxzaG93VG9vbHRpcEJpbmQpLGVsZW1lbnQudW5iaW5kKHRyaWdnZXJzLmhpZGUsaGlkZVRvb2x0aXBCaW5kKX07YXR0cnMuJG9ic2VydmUocHJlZml4KyJUcmlnZ2VyIixmdW5jdGlvbih2YWwpe3VucmVnaXN0ZXJUcmlnZ2VycygpLHRyaWdnZXJzPWdldFRyaWdnZXJzKHZhbCksdHJpZ2dlcnMuc2hvdz09PXRyaWdnZXJzLmhpZGU/ZWxlbWVudC5iaW5kKHRyaWdnZXJzLnNob3csdG9nZ2xlVG9vbHRpcEJpbmQpOihlbGVtZW50LmJpbmQodHJpZ2dlcnMuc2hvdyxzaG93VG9vbHRpcEJpbmQpLGVsZW1lbnQuYmluZCh0cmlnZ2Vycy5oaWRlLGhpZGVUb29sdGlwQmluZCkpfSk7dmFyIGFuaW1hdGlvbj1zY29wZS4kZXZhbChhdHRyc1twcmVmaXgrIkFuaW1hdGlvbiJdKTtzY29wZS50dF9hbmltYXRpb249YW5ndWxhci5pc0RlZmluZWQoYW5pbWF0aW9uKT8hIWFuaW1hdGlvbjpvcHRpb25zLmFuaW1hdGlvbixhdHRycy4kb2JzZXJ2ZShwcmVmaXgrIkFwcGVuZFRvQm9keSIsZnVuY3Rpb24odmFsKXthcHBlbmRUb0JvZHk9YW5ndWxhci5pc0RlZmluZWQodmFsKT8kcGFyc2UodmFsKShzY29wZSk6YXBwZW5kVG9Cb2R5fSksYXBwZW5kVG9Cb2R5JiZzY29wZS4kb24oIiRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MiLGZ1bmN0aW9uKCl7c2NvcGUudHRfaXNPcGVuJiZoaWRlKCl9KSxzY29wZS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpeyR0aW1lb3V0LmNhbmNlbCh0cmFuc2l0aW9uVGltZW91dCksJHRpbWVvdXQuY2FuY2VsKHBvcHVwVGltZW91dCksdW5yZWdpc3RlclRyaWdnZXJzKCkscmVtb3ZlVG9vbHRpcCgpfSl9fX19fV19KS5kaXJlY3RpdmUoInRvb2x0aXBQb3B1cCIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHNjb3BlOntjb250ZW50OiJAIixwbGFjZW1lbnQ6IkAiLGFuaW1hdGlvbjoiJiIsaXNPcGVuOiImIn0sdGVtcGxhdGVVcmw6InRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sIn0KfSkuZGlyZWN0aXZlKCJ0b29sdGlwIixbIiR0b29sdGlwIixmdW5jdGlvbigkdG9vbHRpcCl7cmV0dXJuICR0b29sdGlwKCJ0b29sdGlwIiwidG9vbHRpcCIsIm1vdXNlZW50ZXIiKX1dKS5kaXJlY3RpdmUoInRvb2x0aXBIdG1sVW5zYWZlUG9wdXAiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCxzY29wZTp7Y29udGVudDoiQCIscGxhY2VtZW50OiJAIixhbmltYXRpb246IiYiLGlzT3BlbjoiJiJ9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC11bnNhZmUtcG9wdXAuaHRtbCJ9fSkuZGlyZWN0aXZlKCJ0b29sdGlwSHRtbFVuc2FmZSIsWyIkdG9vbHRpcCIsZnVuY3Rpb24oJHRvb2x0aXApe3JldHVybiAkdG9vbHRpcCgidG9vbHRpcEh0bWxVbnNhZmUiLCJ0b29sdGlwIiwibW91c2VlbnRlciIpfV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAucG9wb3ZlciIsWyJ1aS5ib290c3RyYXAudG9vbHRpcCJdKS5kaXJlY3RpdmUoInBvcG92ZXJQb3B1cCIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHNjb3BlOnt0aXRsZToiQCIsY29udGVudDoiQCIscGxhY2VtZW50OiJAIixhbmltYXRpb246IiYiLGlzT3BlbjoiJiJ9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXIuaHRtbCJ9fSkuZGlyZWN0aXZlKCJwb3BvdmVyIixbIiR0b29sdGlwIixmdW5jdGlvbigkdG9vbHRpcCl7cmV0dXJuICR0b29sdGlwKCJwb3BvdmVyIiwicG9wb3ZlciIsImNsaWNrIil9XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5wcm9ncmVzc2JhciIsW10pLmNvbnN0YW50KCJwcm9ncmVzc0NvbmZpZyIse2FuaW1hdGU6ITAsbWF4OjEwMH0pLmNvbnRyb2xsZXIoIlByb2dyZXNzQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLCJwcm9ncmVzc0NvbmZpZyIsZnVuY3Rpb24oJHNjb3BlLCRhdHRycyxwcm9ncmVzc0NvbmZpZyl7dmFyIHNlbGY9dGhpcyxhbmltYXRlPWFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5hbmltYXRlKT8kc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuYW5pbWF0ZSk6cHJvZ3Jlc3NDb25maWcuYW5pbWF0ZTt0aGlzLmJhcnM9W10sJHNjb3BlLm1heD1hbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubWF4KT8kc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMubWF4KTpwcm9ncmVzc0NvbmZpZy5tYXgsdGhpcy5hZGRCYXI9ZnVuY3Rpb24oYmFyLGVsZW1lbnQpe2FuaW1hdGV8fGVsZW1lbnQuY3NzKHt0cmFuc2l0aW9uOiJub25lIn0pLHRoaXMuYmFycy5wdXNoKGJhciksYmFyLiR3YXRjaCgidmFsdWUiLGZ1bmN0aW9uKHZhbHVlKXtiYXIucGVyY2VudD0rKDEwMCp2YWx1ZS8kc2NvcGUubWF4KS50b0ZpeGVkKDIpfSksYmFyLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7ZWxlbWVudD1udWxsLHNlbGYucmVtb3ZlQmFyKGJhcil9KX0sdGhpcy5yZW1vdmVCYXI9ZnVuY3Rpb24oYmFyKXt0aGlzLmJhcnMuc3BsaWNlKHRoaXMuYmFycy5pbmRleE9mKGJhciksMSl9fV0pLmRpcmVjdGl2ZSgicHJvZ3Jlc3MiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0cmFuc2NsdWRlOiEwLGNvbnRyb2xsZXI6IlByb2dyZXNzQ29udHJvbGxlciIscmVxdWlyZToicHJvZ3Jlc3MiLHNjb3BlOnt9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sIn19KS5kaXJlY3RpdmUoImJhciIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHRyYW5zY2x1ZGU6ITAscmVxdWlyZToiXnByb2dyZXNzIixzY29wZTp7dmFsdWU6Ij0iLHR5cGU6IkAifSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWwiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxwcm9ncmVzc0N0cmwpe3Byb2dyZXNzQ3RybC5hZGRCYXIoc2NvcGUsZWxlbWVudCl9fX0pLmRpcmVjdGl2ZSgicHJvZ3Jlc3NiYXIiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0cmFuc2NsdWRlOiEwLGNvbnRyb2xsZXI6IlByb2dyZXNzQ29udHJvbGxlciIsc2NvcGU6e3ZhbHVlOiI9Iix0eXBlOiJAIn0sdGVtcGxhdGVVcmw6InRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmh0bWwiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxwcm9ncmVzc0N0cmwpe3Byb2dyZXNzQ3RybC5hZGRCYXIoc2NvcGUsYW5ndWxhci5lbGVtZW50KGVsZW1lbnQuY2hpbGRyZW4oKVswXSkpfX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnJhdGluZyIsW10pLmNvbnN0YW50KCJyYXRpbmdDb25maWciLHttYXg6NSxzdGF0ZU9uOm51bGwsc3RhdGVPZmY6bnVsbH0pLmNvbnRyb2xsZXIoIlJhdGluZ0NvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGF0dHJzIiwicmF0aW5nQ29uZmlnIixmdW5jdGlvbigkc2NvcGUsJGF0dHJzLHJhdGluZ0NvbmZpZyl7dmFyIG5nTW9kZWxDdHJsPXskc2V0Vmlld1ZhbHVlOmFuZ3VsYXIubm9vcH07dGhpcy5pbml0PWZ1bmN0aW9uKG5nTW9kZWxDdHJsXyl7bmdNb2RlbEN0cmw9bmdNb2RlbEN0cmxfLG5nTW9kZWxDdHJsLiRyZW5kZXI9dGhpcy5yZW5kZXIsdGhpcy5zdGF0ZU9uPWFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5zdGF0ZU9uKT8kc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuc3RhdGVPbik6cmF0aW5nQ29uZmlnLnN0YXRlT24sdGhpcy5zdGF0ZU9mZj1hbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuc3RhdGVPZmYpPyRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5zdGF0ZU9mZik6cmF0aW5nQ29uZmlnLnN0YXRlT2ZmO3ZhciByYXRpbmdTdGF0ZXM9YW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnJhdGluZ1N0YXRlcyk/JHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnJhdGluZ1N0YXRlcyk6bmV3IEFycmF5KGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5tYXgpPyRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5tYXgpOnJhdGluZ0NvbmZpZy5tYXgpOyRzY29wZS5yYW5nZT10aGlzLmJ1aWxkVGVtcGxhdGVPYmplY3RzKHJhdGluZ1N0YXRlcyl9LHRoaXMuYnVpbGRUZW1wbGF0ZU9iamVjdHM9ZnVuY3Rpb24oc3RhdGVzKXtmb3IodmFyIGk9MCxuPXN0YXRlcy5sZW5ndGg7bj5pO2krKylzdGF0ZXNbaV09YW5ndWxhci5leHRlbmQoe2luZGV4Oml9LHtzdGF0ZU9uOnRoaXMuc3RhdGVPbixzdGF0ZU9mZjp0aGlzLnN0YXRlT2ZmfSxzdGF0ZXNbaV0pO3JldHVybiBzdGF0ZXN9LCRzY29wZS5yYXRlPWZ1bmN0aW9uKHZhbHVlKXshJHNjb3BlLnJlYWRvbmx5JiZ2YWx1ZT49MCYmdmFsdWU8PSRzY29wZS5yYW5nZS5sZW5ndGgmJihuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKHZhbHVlKSxuZ01vZGVsQ3RybC4kcmVuZGVyKCkpfSwkc2NvcGUuZW50ZXI9ZnVuY3Rpb24odmFsdWUpeyRzY29wZS5yZWFkb25seXx8KCRzY29wZS52YWx1ZT12YWx1ZSksJHNjb3BlLm9uSG92ZXIoe3ZhbHVlOnZhbHVlfSl9LCRzY29wZS5yZXNldD1mdW5jdGlvbigpeyRzY29wZS52YWx1ZT1uZ01vZGVsQ3RybC4kdmlld1ZhbHVlLCRzY29wZS5vbkxlYXZlKCl9LCRzY29wZS5vbktleWRvd249ZnVuY3Rpb24oZXZ0KXsvKDM3fDM4fDM5fDQwKS8udGVzdChldnQud2hpY2gpJiYoZXZ0LnByZXZlbnREZWZhdWx0KCksZXZ0LnN0b3BQcm9wYWdhdGlvbigpLCRzY29wZS5yYXRlKCRzY29wZS52YWx1ZSsoMzg9PT1ldnQud2hpY2h8fDM5PT09ZXZ0LndoaWNoPzE6LTEpKSl9LHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7JHNjb3BlLnZhbHVlPW5nTW9kZWxDdHJsLiR2aWV3VmFsdWV9fV0pLmRpcmVjdGl2ZSgicmF0aW5nIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcXVpcmU6WyJyYXRpbmciLCJuZ01vZGVsIl0sc2NvcGU6e3JlYWRvbmx5OiI9PyIsb25Ib3ZlcjoiJiIsb25MZWF2ZToiJiJ9LGNvbnRyb2xsZXI6IlJhdGluZ0NvbnRyb2xsZXIiLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9yYXRpbmcvcmF0aW5nLmh0bWwiLHJlcGxhY2U6ITAsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGN0cmxzKXt2YXIgcmF0aW5nQ3RybD1jdHJsc1swXSxuZ01vZGVsQ3RybD1jdHJsc1sxXTtuZ01vZGVsQ3RybCYmcmF0aW5nQ3RybC5pbml0KG5nTW9kZWxDdHJsKX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC50YWJzIixbXSkuY29udHJvbGxlcigiVGFic2V0Q29udHJvbGxlciIsWyIkc2NvcGUiLGZ1bmN0aW9uKCRzY29wZSl7dmFyIGN0cmw9dGhpcyx0YWJzPWN0cmwudGFicz0kc2NvcGUudGFicz1bXTtjdHJsLnNlbGVjdD1mdW5jdGlvbihzZWxlY3RlZFRhYil7YW5ndWxhci5mb3JFYWNoKHRhYnMsZnVuY3Rpb24odGFiKXt0YWIuYWN0aXZlJiZ0YWIhPT1zZWxlY3RlZFRhYiYmKHRhYi5hY3RpdmU9ITEsdGFiLm9uRGVzZWxlY3QoKSl9KSxzZWxlY3RlZFRhYi5hY3RpdmU9ITAsc2VsZWN0ZWRUYWIub25TZWxlY3QoKX0sY3RybC5hZGRUYWI9ZnVuY3Rpb24odGFiKXt0YWJzLnB1c2godGFiKSwxPT09dGFicy5sZW5ndGg/dGFiLmFjdGl2ZT0hMDp0YWIuYWN0aXZlJiZjdHJsLnNlbGVjdCh0YWIpfSxjdHJsLnJlbW92ZVRhYj1mdW5jdGlvbih0YWIpe3ZhciBpbmRleD10YWJzLmluZGV4T2YodGFiKTtpZih0YWIuYWN0aXZlJiZ0YWJzLmxlbmd0aD4xKXt2YXIgbmV3QWN0aXZlSW5kZXg9aW5kZXg9PXRhYnMubGVuZ3RoLTE/aW5kZXgtMTppbmRleCsxO2N0cmwuc2VsZWN0KHRhYnNbbmV3QWN0aXZlSW5kZXhdKX10YWJzLnNwbGljZShpbmRleCwxKX19XSkuZGlyZWN0aXZlKCJ0YWJzZXQiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsdHJhbnNjbHVkZTohMCxyZXBsYWNlOiEwLHNjb3BlOnt0eXBlOiJAIn0sY29udHJvbGxlcjoiVGFic2V0Q29udHJvbGxlciIsdGVtcGxhdGVVcmw6InRlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWwiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyl7c2NvcGUudmVydGljYWw9YW5ndWxhci5pc0RlZmluZWQoYXR0cnMudmVydGljYWwpP3Njb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMudmVydGljYWwpOiExLHNjb3BlLmp1c3RpZmllZD1hbmd1bGFyLmlzRGVmaW5lZChhdHRycy5qdXN0aWZpZWQpP3Njb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuanVzdGlmaWVkKTohMX19fSkuZGlyZWN0aXZlKCJ0YWIiLFsiJHBhcnNlIixmdW5jdGlvbigkcGFyc2Upe3JldHVybntyZXF1aXJlOiJedGFic2V0IixyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL3RhYnMvdGFiLmh0bWwiLHRyYW5zY2x1ZGU6ITAsc2NvcGU6e2FjdGl2ZToiPT8iLGhlYWRpbmc6IkAiLG9uU2VsZWN0OiImc2VsZWN0IixvbkRlc2VsZWN0OiImZGVzZWxlY3QifSxjb250cm9sbGVyOmZ1bmN0aW9uKCl7fSxjb21waWxlOmZ1bmN0aW9uKGVsbSxhdHRycyx0cmFuc2NsdWRlKXtyZXR1cm4gZnVuY3Rpb24oc2NvcGUsZWxtLGF0dHJzLHRhYnNldEN0cmwpe3Njb3BlLiR3YXRjaCgiYWN0aXZlIixmdW5jdGlvbihhY3RpdmUpe2FjdGl2ZSYmdGFic2V0Q3RybC5zZWxlY3Qoc2NvcGUpfSksc2NvcGUuZGlzYWJsZWQ9ITEsYXR0cnMuZGlzYWJsZWQmJnNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZShhdHRycy5kaXNhYmxlZCksZnVuY3Rpb24odmFsdWUpe3Njb3BlLmRpc2FibGVkPSEhdmFsdWV9KSxzY29wZS5zZWxlY3Q9ZnVuY3Rpb24oKXtzY29wZS5kaXNhYmxlZHx8KHNjb3BlLmFjdGl2ZT0hMCl9LHRhYnNldEN0cmwuYWRkVGFiKHNjb3BlKSxzY29wZS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe3RhYnNldEN0cmwucmVtb3ZlVGFiKHNjb3BlKX0pLHNjb3BlLiR0cmFuc2NsdWRlRm49dHJhbnNjbHVkZX19fX1dKS5kaXJlY3RpdmUoInRhYkhlYWRpbmdUcmFuc2NsdWRlIixbZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkEiLHJlcXVpcmU6Il50YWIiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxtKXtzY29wZS4kd2F0Y2goImhlYWRpbmdFbGVtZW50IixmdW5jdGlvbihoZWFkaW5nKXtoZWFkaW5nJiYoZWxtLmh0bWwoIiIpLGVsbS5hcHBlbmQoaGVhZGluZykpfSl9fX1dKS5kaXJlY3RpdmUoInRhYkNvbnRlbnRUcmFuc2NsdWRlIixmdW5jdGlvbigpe2Z1bmN0aW9uIGlzVGFiSGVhZGluZyhub2RlKXtyZXR1cm4gbm9kZS50YWdOYW1lJiYobm9kZS5oYXNBdHRyaWJ1dGUoInRhYi1oZWFkaW5nIil8fG5vZGUuaGFzQXR0cmlidXRlKCJkYXRhLXRhYi1oZWFkaW5nIil8fCJ0YWItaGVhZGluZyI9PT1ub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKXx8ImRhdGEtdGFiLWhlYWRpbmciPT09bm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpfXJldHVybntyZXN0cmljdDoiQSIscmVxdWlyZToiXnRhYnNldCIsbGluazpmdW5jdGlvbihzY29wZSxlbG0sYXR0cnMpe3ZhciB0YWI9c2NvcGUuJGV2YWwoYXR0cnMudGFiQ29udGVudFRyYW5zY2x1ZGUpO3RhYi4kdHJhbnNjbHVkZUZuKHRhYi4kcGFyZW50LGZ1bmN0aW9uKGNvbnRlbnRzKXthbmd1bGFyLmZvckVhY2goY29udGVudHMsZnVuY3Rpb24obm9kZSl7aXNUYWJIZWFkaW5nKG5vZGUpP3RhYi5oZWFkaW5nRWxlbWVudD1ub2RlOmVsbS5hcHBlbmQobm9kZSl9KX0pfX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnRpbWVwaWNrZXIiLFtdKS5jb25zdGFudCgidGltZXBpY2tlckNvbmZpZyIse2hvdXJTdGVwOjEsbWludXRlU3RlcDoxLHNob3dNZXJpZGlhbjohMCxtZXJpZGlhbnM6bnVsbCxyZWFkb25seUlucHV0OiExLG1vdXNld2hlZWw6ITB9KS5jb250cm9sbGVyKCJUaW1lcGlja2VyQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLCIkcGFyc2UiLCIkbG9nIiwiJGxvY2FsZSIsInRpbWVwaWNrZXJDb25maWciLGZ1bmN0aW9uKCRzY29wZSwkYXR0cnMsJHBhcnNlLCRsb2csJGxvY2FsZSx0aW1lcGlja2VyQ29uZmlnKXtmdW5jdGlvbiBnZXRIb3Vyc0Zyb21UZW1wbGF0ZSgpe3ZhciBob3Vycz1wYXJzZUludCgkc2NvcGUuaG91cnMsMTApLHZhbGlkPSRzY29wZS5zaG93TWVyaWRpYW4/aG91cnM+MCYmMTM+aG91cnM6aG91cnM+PTAmJjI0PmhvdXJzO3JldHVybiB2YWxpZD8oJHNjb3BlLnNob3dNZXJpZGlhbiYmKDEyPT09aG91cnMmJihob3Vycz0wKSwkc2NvcGUubWVyaWRpYW49PT1tZXJpZGlhbnNbMV0mJihob3Vycys9MTIpKSxob3Vycyk6dm9pZCAwfWZ1bmN0aW9uIGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKXt2YXIgbWludXRlcz1wYXJzZUludCgkc2NvcGUubWludXRlcywxMCk7cmV0dXJuIG1pbnV0ZXM+PTAmJjYwPm1pbnV0ZXM/bWludXRlczp2b2lkIDB9ZnVuY3Rpb24gcGFkKHZhbHVlKXtyZXR1cm4gYW5ndWxhci5pc0RlZmluZWQodmFsdWUpJiZ2YWx1ZS50b1N0cmluZygpLmxlbmd0aDwyPyIwIit2YWx1ZTp2YWx1ZX1mdW5jdGlvbiByZWZyZXNoKGtleWJvYXJkQ2hhbmdlKXttYWtlVmFsaWQoKSxuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKG5ldyBEYXRlKHNlbGVjdGVkKSksdXBkYXRlVGVtcGxhdGUoa2V5Ym9hcmRDaGFuZ2UpfWZ1bmN0aW9uIG1ha2VWYWxpZCgpe25nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgidGltZSIsITApLCRzY29wZS5pbnZhbGlkSG91cnM9ITEsJHNjb3BlLmludmFsaWRNaW51dGVzPSExfWZ1bmN0aW9uIHVwZGF0ZVRlbXBsYXRlKGtleWJvYXJkQ2hhbmdlKXt2YXIgaG91cnM9c2VsZWN0ZWQuZ2V0SG91cnMoKSxtaW51dGVzPXNlbGVjdGVkLmdldE1pbnV0ZXMoKTskc2NvcGUuc2hvd01lcmlkaWFuJiYoaG91cnM9MD09PWhvdXJzfHwxMj09PWhvdXJzPzEyOmhvdXJzJTEyKSwkc2NvcGUuaG91cnM9ImgiPT09a2V5Ym9hcmRDaGFuZ2U/aG91cnM6cGFkKGhvdXJzKSwkc2NvcGUubWludXRlcz0ibSI9PT1rZXlib2FyZENoYW5nZT9taW51dGVzOnBhZChtaW51dGVzKSwkc2NvcGUubWVyaWRpYW49c2VsZWN0ZWQuZ2V0SG91cnMoKTwxMj9tZXJpZGlhbnNbMF06bWVyaWRpYW5zWzFdfWZ1bmN0aW9uIGFkZE1pbnV0ZXMobWludXRlcyl7dmFyIGR0PW5ldyBEYXRlKHNlbGVjdGVkLmdldFRpbWUoKSs2ZTQqbWludXRlcyk7c2VsZWN0ZWQuc2V0SG91cnMoZHQuZ2V0SG91cnMoKSxkdC5nZXRNaW51dGVzKCkpLHJlZnJlc2goKX12YXIgc2VsZWN0ZWQ9bmV3IERhdGUsbmdNb2RlbEN0cmw9eyRzZXRWaWV3VmFsdWU6YW5ndWxhci5ub29wfSxtZXJpZGlhbnM9YW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLm1lcmlkaWFucyk/JHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLm1lcmlkaWFucyk6dGltZXBpY2tlckNvbmZpZy5tZXJpZGlhbnN8fCRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5BTVBNUzt0aGlzLmluaXQ9ZnVuY3Rpb24obmdNb2RlbEN0cmxfLGlucHV0cyl7bmdNb2RlbEN0cmw9bmdNb2RlbEN0cmxfLG5nTW9kZWxDdHJsLiRyZW5kZXI9dGhpcy5yZW5kZXI7dmFyIGhvdXJzSW5wdXRFbD1pbnB1dHMuZXEoMCksbWludXRlc0lucHV0RWw9aW5wdXRzLmVxKDEpLG1vdXNld2hlZWw9YW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLm1vdXNld2hlZWwpPyRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5tb3VzZXdoZWVsKTp0aW1lcGlja2VyQ29uZmlnLm1vdXNld2hlZWw7bW91c2V3aGVlbCYmdGhpcy5zZXR1cE1vdXNld2hlZWxFdmVudHMoaG91cnNJbnB1dEVsLG1pbnV0ZXNJbnB1dEVsKSwkc2NvcGUucmVhZG9ubHlJbnB1dD1hbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMucmVhZG9ubHlJbnB1dCk/JHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnJlYWRvbmx5SW5wdXQpOnRpbWVwaWNrZXJDb25maWcucmVhZG9ubHlJbnB1dCx0aGlzLnNldHVwSW5wdXRFdmVudHMoaG91cnNJbnB1dEVsLG1pbnV0ZXNJbnB1dEVsKX07dmFyIGhvdXJTdGVwPXRpbWVwaWNrZXJDb25maWcuaG91clN0ZXA7JGF0dHJzLmhvdXJTdGVwJiYkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5ob3VyU3RlcCksZnVuY3Rpb24odmFsdWUpe2hvdXJTdGVwPXBhcnNlSW50KHZhbHVlLDEwKX0pO3ZhciBtaW51dGVTdGVwPXRpbWVwaWNrZXJDb25maWcubWludXRlU3RlcDskYXR0cnMubWludXRlU3RlcCYmJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMubWludXRlU3RlcCksZnVuY3Rpb24odmFsdWUpe21pbnV0ZVN0ZXA9cGFyc2VJbnQodmFsdWUsMTApfSksJHNjb3BlLnNob3dNZXJpZGlhbj10aW1lcGlja2VyQ29uZmlnLnNob3dNZXJpZGlhbiwkYXR0cnMuc2hvd01lcmlkaWFuJiYkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5zaG93TWVyaWRpYW4pLGZ1bmN0aW9uKHZhbHVlKXtpZigkc2NvcGUuc2hvd01lcmlkaWFuPSEhdmFsdWUsbmdNb2RlbEN0cmwuJGVycm9yLnRpbWUpe3ZhciBob3Vycz1nZXRIb3Vyc0Zyb21UZW1wbGF0ZSgpLG1pbnV0ZXM9Z2V0TWludXRlc0Zyb21UZW1wbGF0ZSgpO2FuZ3VsYXIuaXNEZWZpbmVkKGhvdXJzKSYmYW5ndWxhci5pc0RlZmluZWQobWludXRlcykmJihzZWxlY3RlZC5zZXRIb3Vycyhob3VycykscmVmcmVzaCgpKX1lbHNlIHVwZGF0ZVRlbXBsYXRlKCl9KSx0aGlzLnNldHVwTW91c2V3aGVlbEV2ZW50cz1mdW5jdGlvbihob3Vyc0lucHV0RWwsbWludXRlc0lucHV0RWwpe3ZhciBpc1Njcm9sbGluZ1VwPWZ1bmN0aW9uKGUpe2Uub3JpZ2luYWxFdmVudCYmKGU9ZS5vcmlnaW5hbEV2ZW50KTt2YXIgZGVsdGE9ZS53aGVlbERlbHRhP2Uud2hlZWxEZWx0YTotZS5kZWx0YVk7cmV0dXJuIGUuZGV0YWlsfHxkZWx0YT4wfTtob3Vyc0lucHV0RWwuYmluZCgibW91c2V3aGVlbCB3aGVlbCIsZnVuY3Rpb24oZSl7JHNjb3BlLiRhcHBseShpc1Njcm9sbGluZ1VwKGUpPyRzY29wZS5pbmNyZW1lbnRIb3VycygpOiRzY29wZS5kZWNyZW1lbnRIb3VycygpKSxlLnByZXZlbnREZWZhdWx0KCl9KSxtaW51dGVzSW5wdXRFbC5iaW5kKCJtb3VzZXdoZWVsIHdoZWVsIixmdW5jdGlvbihlKXskc2NvcGUuJGFwcGx5KGlzU2Nyb2xsaW5nVXAoZSk/JHNjb3BlLmluY3JlbWVudE1pbnV0ZXMoKTokc2NvcGUuZGVjcmVtZW50TWludXRlcygpKSxlLnByZXZlbnREZWZhdWx0KCl9KX0sdGhpcy5zZXR1cElucHV0RXZlbnRzPWZ1bmN0aW9uKGhvdXJzSW5wdXRFbCxtaW51dGVzSW5wdXRFbCl7aWYoJHNjb3BlLnJlYWRvbmx5SW5wdXQpcmV0dXJuICRzY29wZS51cGRhdGVIb3Vycz1hbmd1bGFyLm5vb3Asdm9pZCgkc2NvcGUudXBkYXRlTWludXRlcz1hbmd1bGFyLm5vb3ApO3ZhciBpbnZhbGlkYXRlPWZ1bmN0aW9uKGludmFsaWRIb3VycyxpbnZhbGlkTWludXRlcyl7bmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShudWxsKSxuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoInRpbWUiLCExKSxhbmd1bGFyLmlzRGVmaW5lZChpbnZhbGlkSG91cnMpJiYoJHNjb3BlLmludmFsaWRIb3Vycz1pbnZhbGlkSG91cnMpLGFuZ3VsYXIuaXNEZWZpbmVkKGludmFsaWRNaW51dGVzKSYmKCRzY29wZS5pbnZhbGlkTWludXRlcz1pbnZhbGlkTWludXRlcyl9OyRzY29wZS51cGRhdGVIb3Vycz1mdW5jdGlvbigpe3ZhciBob3Vycz1nZXRIb3Vyc0Zyb21UZW1wbGF0ZSgpO2FuZ3VsYXIuaXNEZWZpbmVkKGhvdXJzKT8oc2VsZWN0ZWQuc2V0SG91cnMoaG91cnMpLHJlZnJlc2goImgiKSk6aW52YWxpZGF0ZSghMCl9LGhvdXJzSW5wdXRFbC5iaW5kKCJibHVyIixmdW5jdGlvbigpeyEkc2NvcGUuaW52YWxpZEhvdXJzJiYkc2NvcGUuaG91cnM8MTAmJiRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXskc2NvcGUuaG91cnM9cGFkKCRzY29wZS5ob3Vycyl9KX0pLCRzY29wZS51cGRhdGVNaW51dGVzPWZ1bmN0aW9uKCl7dmFyIG1pbnV0ZXM9Z2V0TWludXRlc0Zyb21UZW1wbGF0ZSgpO2FuZ3VsYXIuaXNEZWZpbmVkKG1pbnV0ZXMpPyhzZWxlY3RlZC5zZXRNaW51dGVzKG1pbnV0ZXMpLHJlZnJlc2goIm0iKSk6aW52YWxpZGF0ZSh2b2lkIDAsITApfSxtaW51dGVzSW5wdXRFbC5iaW5kKCJibHVyIixmdW5jdGlvbigpeyEkc2NvcGUuaW52YWxpZE1pbnV0ZXMmJiRzY29wZS5taW51dGVzPDEwJiYkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7JHNjb3BlLm1pbnV0ZXM9cGFkKCRzY29wZS5taW51dGVzKX0pfSl9LHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGRhdGU9bmdNb2RlbEN0cmwuJG1vZGVsVmFsdWU/bmV3IERhdGUobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUpOm51bGw7aXNOYU4oZGF0ZSk/KG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgidGltZSIsITEpLCRsb2cuZXJyb3IoJ1RpbWVwaWNrZXIgZGlyZWN0aXZlOiAibmctbW9kZWwiIHZhbHVlIG11c3QgYmUgYSBEYXRlIG9iamVjdCwgYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIDAxLjAxLjE5NzAgb3IgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIFJGQzI4MjIgb3IgSVNPIDg2MDEgZGF0ZS4nKSk6KGRhdGUmJihzZWxlY3RlZD1kYXRlKSxtYWtlVmFsaWQoKSx1cGRhdGVUZW1wbGF0ZSgpKX0sJHNjb3BlLmluY3JlbWVudEhvdXJzPWZ1bmN0aW9uKCl7YWRkTWludXRlcyg2MCpob3VyU3RlcCl9LCRzY29wZS5kZWNyZW1lbnRIb3Vycz1mdW5jdGlvbigpe2FkZE1pbnV0ZXMoNjAqLWhvdXJTdGVwKX0sJHNjb3BlLmluY3JlbWVudE1pbnV0ZXM9ZnVuY3Rpb24oKXthZGRNaW51dGVzKG1pbnV0ZVN0ZXApfSwkc2NvcGUuZGVjcmVtZW50TWludXRlcz1mdW5jdGlvbigpe2FkZE1pbnV0ZXMoLW1pbnV0ZVN0ZXApfSwkc2NvcGUudG9nZ2xlTWVyaWRpYW49ZnVuY3Rpb24oKXthZGRNaW51dGVzKDcyMCooc2VsZWN0ZWQuZ2V0SG91cnMoKTwxMj8xOi0xKSl9fV0pLmRpcmVjdGl2ZSgidGltZXBpY2tlciIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXF1aXJlOlsidGltZXBpY2tlciIsIj9ebmdNb2RlbCJdLGNvbnRyb2xsZXI6IlRpbWVwaWNrZXJDb250cm9sbGVyIixyZXBsYWNlOiEwLHNjb3BlOnt9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbCIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGN0cmxzKXt2YXIgdGltZXBpY2tlckN0cmw9Y3RybHNbMF0sbmdNb2RlbEN0cmw9Y3RybHNbMV07bmdNb2RlbEN0cmwmJnRpbWVwaWNrZXJDdHJsLmluaXQobmdNb2RlbEN0cmwsZWxlbWVudC5maW5kKCJpbnB1dCIpKX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC50eXBlYWhlYWQiLFsidWkuYm9vdHN0cmFwLnBvc2l0aW9uIiwidWkuYm9vdHN0cmFwLmJpbmRIdG1sIl0pLmZhY3RvcnkoInR5cGVhaGVhZFBhcnNlciIsWyIkcGFyc2UiLGZ1bmN0aW9uKCRwYXJzZSl7dmFyIFRZUEVBSEVBRF9SRUdFWFA9L15ccyooW1xzXFNdKz8pKD86XHMrYXNccysoW1xzXFNdKz8pKT9ccytmb3JccysoPzooW1wkXHddW1wkXHdcZF0qKSlccytpblxzKyhbXHNcU10rPykkLztyZXR1cm57cGFyc2U6ZnVuY3Rpb24oaW5wdXQpe3ZhciBtYXRjaD1pbnB1dC5tYXRjaChUWVBFQUhFQURfUkVHRVhQKTtpZighbWF0Y2gpdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0eXBlYWhlYWQgc3BlY2lmaWNhdGlvbiBpbiBmb3JtIG9mICJfbW9kZWxWYWx1ZV8gKGFzIF9sYWJlbF8pPyBmb3IgX2l0ZW1fIGluIF9jb2xsZWN0aW9uXyIgYnV0IGdvdCAiJytpbnB1dCsnIi4nKTtyZXR1cm57aXRlbU5hbWU6bWF0Y2hbM10sc291cmNlOiRwYXJzZShtYXRjaFs0XSksdmlld01hcHBlcjokcGFyc2UobWF0Y2hbMl18fG1hdGNoWzFdKSxtb2RlbE1hcHBlcjokcGFyc2UobWF0Y2hbMV0pfX19fV0pLmRpcmVjdGl2ZSgidHlwZWFoZWFkIixbIiRjb21waWxlIiwiJHBhcnNlIiwiJHEiLCIkdGltZW91dCIsIiRkb2N1bWVudCIsIiRwb3NpdGlvbiIsInR5cGVhaGVhZFBhcnNlciIsZnVuY3Rpb24oJGNvbXBpbGUsJHBhcnNlLCRxLCR0aW1lb3V0LCRkb2N1bWVudCwkcG9zaXRpb24sdHlwZWFoZWFkUGFyc2VyKXt2YXIgSE9UX0tFWVM9WzksMTMsMjcsMzgsNDBdO3JldHVybntyZXF1aXJlOiJuZ01vZGVsIixsaW5rOmZ1bmN0aW9uKG9yaWdpbmFsU2NvcGUsZWxlbWVudCxhdHRycyxtb2RlbEN0cmwpe3ZhciBoYXNGb2N1cyxtaW5TZWFyY2g9b3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRNaW5MZW5ndGgpfHwxLHdhaXRUaW1lPW9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkV2FpdE1zKXx8MCxpc0VkaXRhYmxlPW9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkRWRpdGFibGUpIT09ITEsaXNMb2FkaW5nU2V0dGVyPSRwYXJzZShhdHRycy50eXBlYWhlYWRMb2FkaW5nKS5hc3NpZ258fGFuZ3VsYXIubm9vcCxvblNlbGVjdENhbGxiYWNrPSRwYXJzZShhdHRycy50eXBlYWhlYWRPblNlbGVjdCksaW5wdXRGb3JtYXR0ZXI9YXR0cnMudHlwZWFoZWFkSW5wdXRGb3JtYXR0ZXI/JHBhcnNlKGF0dHJzLnR5cGVhaGVhZElucHV0Rm9ybWF0dGVyKTp2b2lkIDAsYXBwZW5kVG9Cb2R5PWF0dHJzLnR5cGVhaGVhZEFwcGVuZFRvQm9keT9vcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZEFwcGVuZFRvQm9keSk6ITEsJHNldE1vZGVsVmFsdWU9JHBhcnNlKGF0dHJzLm5nTW9kZWwpLmFzc2lnbixwYXJzZXJSZXN1bHQ9dHlwZWFoZWFkUGFyc2VyLnBhcnNlKGF0dHJzLnR5cGVhaGVhZCksc2NvcGU9b3JpZ2luYWxTY29wZS4kbmV3KCk7b3JpZ2luYWxTY29wZS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe3Njb3BlLiRkZXN0cm95KCl9KTt2YXIgcG9wdXBJZD0idHlwZWFoZWFkLSIrc2NvcGUuJGlkKyItIitNYXRoLmZsb29yKDFlNCpNYXRoLnJhbmRvbSgpKTtlbGVtZW50LmF0dHIoeyJhcmlhLWF1dG9jb21wbGV0ZSI6Imxpc3QiLCJhcmlhLWV4cGFuZGVkIjohMSwiYXJpYS1vd25zIjpwb3B1cElkfSk7dmFyIHBvcFVwRWw9YW5ndWxhci5lbGVtZW50KCI8ZGl2IHR5cGVhaGVhZC1wb3B1cD48L2Rpdj4iKTtwb3BVcEVsLmF0dHIoe2lkOnBvcHVwSWQsbWF0Y2hlczoibWF0Y2hlcyIsYWN0aXZlOiJhY3RpdmVJZHgiLHNlbGVjdDoic2VsZWN0KGFjdGl2ZUlkeCkiLHF1ZXJ5OiJxdWVyeSIscG9zaXRpb246InBvc2l0aW9uIn0pLGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnR5cGVhaGVhZFRlbXBsYXRlVXJsKSYmcG9wVXBFbC5hdHRyKCJ0ZW1wbGF0ZS11cmwiLGF0dHJzLnR5cGVhaGVhZFRlbXBsYXRlVXJsKTt2YXIgcmVzZXRNYXRjaGVzPWZ1bmN0aW9uKCl7c2NvcGUubWF0Y2hlcz1bXSxzY29wZS5hY3RpdmVJZHg9LTEsZWxlbWVudC5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMSl9LGdldE1hdGNoSWQ9ZnVuY3Rpb24oaW5kZXgpe3JldHVybiBwb3B1cElkKyItb3B0aW9uLSIraW5kZXh9O3Njb3BlLiR3YXRjaCgiYWN0aXZlSWR4IixmdW5jdGlvbihpbmRleCl7MD5pbmRleD9lbGVtZW50LnJlbW92ZUF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIpOmVsZW1lbnQuYXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50IixnZXRNYXRjaElkKGluZGV4KSl9KTt2YXIgZ2V0TWF0Y2hlc0FzeW5jPWZ1bmN0aW9uKGlucHV0VmFsdWUpe3ZhciBsb2NhbHM9eyR2aWV3VmFsdWU6aW5wdXRWYWx1ZX07aXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsITApLCRxLndoZW4ocGFyc2VyUmVzdWx0LnNvdXJjZShvcmlnaW5hbFNjb3BlLGxvY2FscykpLnRoZW4oZnVuY3Rpb24obWF0Y2hlcyl7dmFyIG9uQ3VycmVudFJlcXVlc3Q9aW5wdXRWYWx1ZT09PW1vZGVsQ3RybC4kdmlld1ZhbHVlO2lmKG9uQ3VycmVudFJlcXVlc3QmJmhhc0ZvY3VzKWlmKG1hdGNoZXMubGVuZ3RoPjApe3Njb3BlLmFjdGl2ZUlkeD0wLHNjb3BlLm1hdGNoZXMubGVuZ3RoPTA7Zm9yKHZhciBpPTA7aTxtYXRjaGVzLmxlbmd0aDtpKyspbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV09bWF0Y2hlc1tpXSxzY29wZS5tYXRjaGVzLnB1c2goe2lkOmdldE1hdGNoSWQoaSksbGFiZWw6cGFyc2VyUmVzdWx0LnZpZXdNYXBwZXIoc2NvcGUsbG9jYWxzKSxtb2RlbDptYXRjaGVzW2ldfSk7c2NvcGUucXVlcnk9aW5wdXRWYWx1ZSxzY29wZS5wb3NpdGlvbj1hcHBlbmRUb0JvZHk/JHBvc2l0aW9uLm9mZnNldChlbGVtZW50KTokcG9zaXRpb24ucG9zaXRpb24oZWxlbWVudCksc2NvcGUucG9zaXRpb24udG9wPXNjb3BlLnBvc2l0aW9uLnRvcCtlbGVtZW50LnByb3AoIm9mZnNldEhlaWdodCIpLGVsZW1lbnQuYXR0cigiYXJpYS1leHBhbmRlZCIsITApfWVsc2UgcmVzZXRNYXRjaGVzKCk7b25DdXJyZW50UmVxdWVzdCYmaXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsITEpfSxmdW5jdGlvbigpe3Jlc2V0TWF0Y2hlcygpLGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCExKX0pfTtyZXNldE1hdGNoZXMoKSxzY29wZS5xdWVyeT12b2lkIDA7dmFyIHRpbWVvdXRQcm9taXNlLHNjaGVkdWxlU2VhcmNoV2l0aFRpbWVvdXQ9ZnVuY3Rpb24oaW5wdXRWYWx1ZSl7dGltZW91dFByb21pc2U9JHRpbWVvdXQoZnVuY3Rpb24oKXtnZXRNYXRjaGVzQXN5bmMoaW5wdXRWYWx1ZSl9LHdhaXRUaW1lKX0sY2FuY2VsUHJldmlvdXNUaW1lb3V0PWZ1bmN0aW9uKCl7dGltZW91dFByb21pc2UmJiR0aW1lb3V0LmNhbmNlbCh0aW1lb3V0UHJvbWlzZSl9O21vZGVsQ3RybC4kcGFyc2Vycy51bnNoaWZ0KGZ1bmN0aW9uKGlucHV0VmFsdWUpe3JldHVybiBoYXNGb2N1cz0hMCxpbnB1dFZhbHVlJiZpbnB1dFZhbHVlLmxlbmd0aD49bWluU2VhcmNoP3dhaXRUaW1lPjA/KGNhbmNlbFByZXZpb3VzVGltZW91dCgpLHNjaGVkdWxlU2VhcmNoV2l0aFRpbWVvdXQoaW5wdXRWYWx1ZSkpOmdldE1hdGNoZXNBc3luYyhpbnB1dFZhbHVlKTooaXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsITEpLGNhbmNlbFByZXZpb3VzVGltZW91dCgpLHJlc2V0TWF0Y2hlcygpKSxpc0VkaXRhYmxlP2lucHV0VmFsdWU6aW5wdXRWYWx1ZT92b2lkIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoImVkaXRhYmxlIiwhMSk6KG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoImVkaXRhYmxlIiwhMCksaW5wdXRWYWx1ZSl9KSxtb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihtb2RlbFZhbHVlKXt2YXIgY2FuZGlkYXRlVmlld1ZhbHVlLGVtcHR5Vmlld1ZhbHVlLGxvY2Fscz17fTtyZXR1cm4gaW5wdXRGb3JtYXR0ZXI/KGxvY2Fscy4kbW9kZWw9bW9kZWxWYWx1ZSxpbnB1dEZvcm1hdHRlcihvcmlnaW5hbFNjb3BlLGxvY2FscykpOihsb2NhbHNbcGFyc2VyUmVzdWx0Lml0ZW1OYW1lXT1tb2RlbFZhbHVlLGNhbmRpZGF0ZVZpZXdWYWx1ZT1wYXJzZXJSZXN1bHQudmlld01hcHBlcihvcmlnaW5hbFNjb3BlLGxvY2FscyksbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV09dm9pZCAwLGVtcHR5Vmlld1ZhbHVlPXBhcnNlclJlc3VsdC52aWV3TWFwcGVyKG9yaWdpbmFsU2NvcGUsbG9jYWxzKSxjYW5kaWRhdGVWaWV3VmFsdWUhPT1lbXB0eVZpZXdWYWx1ZT9jYW5kaWRhdGVWaWV3VmFsdWU6bW9kZWxWYWx1ZSl9KSxzY29wZS5zZWxlY3Q9ZnVuY3Rpb24oYWN0aXZlSWR4KXt2YXIgbW9kZWwsaXRlbSxsb2NhbHM9e307bG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV09aXRlbT1zY29wZS5tYXRjaGVzW2FjdGl2ZUlkeF0ubW9kZWwsbW9kZWw9cGFyc2VyUmVzdWx0Lm1vZGVsTWFwcGVyKG9yaWdpbmFsU2NvcGUsbG9jYWxzKSwkc2V0TW9kZWxWYWx1ZShvcmlnaW5hbFNjb3BlLG1vZGVsKSxtb2RlbEN0cmwuJHNldFZhbGlkaXR5KCJlZGl0YWJsZSIsITApLG9uU2VsZWN0Q2FsbGJhY2sob3JpZ2luYWxTY29wZSx7JGl0ZW06aXRlbSwkbW9kZWw6bW9kZWwsJGxhYmVsOnBhcnNlclJlc3VsdC52aWV3TWFwcGVyKG9yaWdpbmFsU2NvcGUsbG9jYWxzKX0pLHJlc2V0TWF0Y2hlcygpLCR0aW1lb3V0KGZ1bmN0aW9uKCl7ZWxlbWVudFswXS5mb2N1cygpfSwwLCExKX0sZWxlbWVudC5iaW5kKCJrZXlkb3duIixmdW5jdGlvbihldnQpezAhPT1zY29wZS5tYXRjaGVzLmxlbmd0aCYmLTEhPT1IT1RfS0VZUy5pbmRleE9mKGV2dC53aGljaCkmJihldnQucHJldmVudERlZmF1bHQoKSw0MD09PWV2dC53aGljaD8oc2NvcGUuYWN0aXZlSWR4PShzY29wZS5hY3RpdmVJZHgrMSklc2NvcGUubWF0Y2hlcy5sZW5ndGgsc2NvcGUuJGRpZ2VzdCgpKTozOD09PWV2dC53aGljaD8oc2NvcGUuYWN0aXZlSWR4PShzY29wZS5hY3RpdmVJZHg/c2NvcGUuYWN0aXZlSWR4OnNjb3BlLm1hdGNoZXMubGVuZ3RoKS0xLHNjb3BlLiRkaWdlc3QoKSk6MTM9PT1ldnQud2hpY2h8fDk9PT1ldnQud2hpY2g/c2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7c2NvcGUuc2VsZWN0KHNjb3BlLmFjdGl2ZUlkeCl9KToyNz09PWV2dC53aGljaCYmKGV2dC5zdG9wUHJvcGFnYXRpb24oKSxyZXNldE1hdGNoZXMoKSxzY29wZS4kZGlnZXN0KCkpKX0pLGVsZW1lbnQuYmluZCgiYmx1ciIsZnVuY3Rpb24oKXtoYXNGb2N1cz0hMX0pO3ZhciBkaXNtaXNzQ2xpY2tIYW5kbGVyPWZ1bmN0aW9uKGV2dCl7ZWxlbWVudFswXSE9PWV2dC50YXJnZXQmJihyZXNldE1hdGNoZXMoKSxzY29wZS4kZGlnZXN0KCkpfTskZG9jdW1lbnQuYmluZCgiY2xpY2siLGRpc21pc3NDbGlja0hhbmRsZXIpLG9yaWdpbmFsU2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXskZG9jdW1lbnQudW5iaW5kKCJjbGljayIsZGlzbWlzc0NsaWNrSGFuZGxlcil9KTt2YXIgJHBvcHVwPSRjb21waWxlKHBvcFVwRWwpKHNjb3BlKTthcHBlbmRUb0JvZHk/JGRvY3VtZW50LmZpbmQoImJvZHkiKS5hcHBlbmQoJHBvcHVwKTplbGVtZW50LmFmdGVyKCRwb3B1cCl9fX1dKS5kaXJlY3RpdmUoInR5cGVhaGVhZFBvcHVwIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHNjb3BlOnttYXRjaGVzOiI9IixxdWVyeToiPSIsYWN0aXZlOiI9Iixwb3NpdGlvbjoiPSIsc2VsZWN0OiImIn0scmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMpe3Njb3BlLnRlbXBsYXRlVXJsPWF0dHJzLnRlbXBsYXRlVXJsLHNjb3BlLmlzT3Blbj1mdW5jdGlvbigpe3JldHVybiBzY29wZS5tYXRjaGVzLmxlbmd0aD4wfSxzY29wZS5pc0FjdGl2ZT1mdW5jdGlvbihtYXRjaElkeCl7cmV0dXJuIHNjb3BlLmFjdGl2ZT09bWF0Y2hJZHh9LHNjb3BlLnNlbGVjdEFjdGl2ZT1mdW5jdGlvbihtYXRjaElkeCl7c2NvcGUuYWN0aXZlPW1hdGNoSWR4fSxzY29wZS5zZWxlY3RNYXRjaD1mdW5jdGlvbihhY3RpdmVJZHgpe3Njb3BlLnNlbGVjdCh7YWN0aXZlSWR4OmFjdGl2ZUlkeH0pfX19fSkuZGlyZWN0aXZlKCJ0eXBlYWhlYWRNYXRjaCIsWyIkaHR0cCIsIiR0ZW1wbGF0ZUNhY2hlIiwiJGNvbXBpbGUiLCIkcGFyc2UiLGZ1bmN0aW9uKCRodHRwLCR0ZW1wbGF0ZUNhY2hlLCRjb21waWxlLCRwYXJzZSl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsc2NvcGU6e2luZGV4OiI9IixtYXRjaDoiPSIscXVlcnk6Ij0ifSxsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMpe3ZhciB0cGxVcmw9JHBhcnNlKGF0dHJzLnRlbXBsYXRlVXJsKShzY29wZS4kcGFyZW50KXx8InRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbCI7JGh0dHAuZ2V0KHRwbFVybCx7Y2FjaGU6JHRlbXBsYXRlQ2FjaGV9KS5zdWNjZXNzKGZ1bmN0aW9uKHRwbENvbnRlbnQpe2VsZW1lbnQucmVwbGFjZVdpdGgoJGNvbXBpbGUodHBsQ29udGVudC50cmltKCkpKHNjb3BlKSl9KX19fV0pLmZpbHRlcigidHlwZWFoZWFkSGlnaGxpZ2h0IixmdW5jdGlvbigpe2Z1bmN0aW9uIGVzY2FwZVJlZ2V4cChxdWVyeVRvRXNjYXBlKXtyZXR1cm4gcXVlcnlUb0VzY2FwZS5yZXBsYWNlKC8oWy4/KiteJFtcXVxcKCl7fXwtXSkvZywiXFwkMSIpfXJldHVybiBmdW5jdGlvbihtYXRjaEl0ZW0scXVlcnkpe3JldHVybiBxdWVyeT8oIiIrbWF0Y2hJdGVtKS5yZXBsYWNlKG5ldyBSZWdFeHAoZXNjYXBlUmVnZXhwKHF1ZXJ5KSwiZ2kiKSwiPHN0cm9uZz4kJjwvc3Ryb25nPiIpOm1hdGNoSXRlbX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwIixbInVpLmJvb3RzdHJhcC50cGxzIiwidWkuYm9vdHN0cmFwLnRyYW5zaXRpb24iLCJ1aS5ib290c3RyYXAuY29sbGFwc2UiLCJ1aS5ib290c3RyYXAuYWNjb3JkaW9uIiwidWkuYm9vdHN0cmFwLmFsZXJ0IiwidWkuYm9vdHN0cmFwLmJpbmRIdG1sIiwidWkuYm9vdHN0cmFwLmJ1dHRvbnMiLCJ1aS5ib290c3RyYXAuY2Fyb3VzZWwiLCJ1aS5ib290c3RyYXAuZGF0ZXBhcnNlciIsInVpLmJvb3RzdHJhcC5wb3NpdGlvbiIsInVpLmJvb3RzdHJhcC5kYXRlcGlja2VyIiwidWkuYm9vdHN0cmFwLmRyb3Bkb3duIiwidWkuYm9vdHN0cmFwLm1vZGFsIiwidWkuYm9vdHN0cmFwLnBhZ2luYXRpb24iLCJ1aS5ib290c3RyYXAudG9vbHRpcCIsInVpLmJvb3RzdHJhcC5wb3BvdmVyIiwidWkuYm9vdHN0cmFwLnByb2dyZXNzYmFyIiwidWkuYm9vdHN0cmFwLnJhdGluZyIsInVpLmJvb3RzdHJhcC50YWJzIiwidWkuYm9vdHN0cmFwLnRpbWVwaWNrZXIiLCJ1aS5ib290c3RyYXAudHlwZWFoZWFkIl0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAudHBscyIsWyJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWwiLCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLmh0bWwiLCJ0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sIiwidGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbCIsInRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWwiLCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbCIsInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF5Lmh0bWwiLCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWwiLCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWwiLCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbCIsInRlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWwiLCJ0ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbCIsInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnZXIuaHRtbCIsInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sIiwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWwiLCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbCIsInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sIiwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWwiLCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sIiwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbCIsInRlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbCIsInRlbXBsYXRlL3RhYnMvdGFiLmh0bWwiLCJ0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sIiwidGVtcGxhdGUvdGltZXBpY2tlci90aW1lcGlja2VyLmh0bWwiLCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWwiLCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWwiXSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC50cmFuc2l0aW9uIixbXSkuZmFjdG9yeSgiJHRyYW5zaXRpb24iLFsiJHEiLCIkdGltZW91dCIsIiRyb290U2NvcGUiLGZ1bmN0aW9uKCRxLCR0aW1lb3V0LCRyb290U2NvcGUpe2Z1bmN0aW9uIGZpbmRFbmRFdmVudE5hbWUoZW5kRXZlbnROYW1lcyl7Zm9yKHZhciBuYW1lIGluIGVuZEV2ZW50TmFtZXMpaWYodm9pZCAwIT09dHJhbnNFbGVtZW50LnN0eWxlW25hbWVdKXJldHVybiBlbmRFdmVudE5hbWVzW25hbWVdfXZhciAkdHJhbnNpdGlvbj1mdW5jdGlvbihlbGVtZW50LHRyaWdnZXIsb3B0aW9ucyl7b3B0aW9ucz1vcHRpb25zfHx7fTt2YXIgZGVmZXJyZWQ9JHEuZGVmZXIoKSxlbmRFdmVudE5hbWU9JHRyYW5zaXRpb25bb3B0aW9ucy5hbmltYXRpb24/ImFuaW1hdGlvbkVuZEV2ZW50TmFtZSI6InRyYW5zaXRpb25FbmRFdmVudE5hbWUiXSx0cmFuc2l0aW9uRW5kSGFuZGxlcj1mdW5jdGlvbigpeyRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7ZWxlbWVudC51bmJpbmQoZW5kRXZlbnROYW1lLHRyYW5zaXRpb25FbmRIYW5kbGVyKSxkZWZlcnJlZC5yZXNvbHZlKGVsZW1lbnQpfSl9O3JldHVybiBlbmRFdmVudE5hbWUmJmVsZW1lbnQuYmluZChlbmRFdmVudE5hbWUsdHJhbnNpdGlvbkVuZEhhbmRsZXIpLCR0aW1lb3V0KGZ1bmN0aW9uKCl7YW5ndWxhci5pc1N0cmluZyh0cmlnZ2VyKT9lbGVtZW50LmFkZENsYXNzKHRyaWdnZXIpOmFuZ3VsYXIuaXNGdW5jdGlvbih0cmlnZ2VyKT90cmlnZ2VyKGVsZW1lbnQpOmFuZ3VsYXIuaXNPYmplY3QodHJpZ2dlcikmJmVsZW1lbnQuY3NzKHRyaWdnZXIpLGVuZEV2ZW50TmFtZXx8ZGVmZXJyZWQucmVzb2x2ZShlbGVtZW50KX0pLGRlZmVycmVkLnByb21pc2UuY2FuY2VsPWZ1bmN0aW9uKCl7ZW5kRXZlbnROYW1lJiZlbGVtZW50LnVuYmluZChlbmRFdmVudE5hbWUsdHJhbnNpdGlvbkVuZEhhbmRsZXIpLGRlZmVycmVkLnJlamVjdCgiVHJhbnNpdGlvbiBjYW5jZWxsZWQiKX0sZGVmZXJyZWQucHJvbWlzZX0sdHJhbnNFbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyYW5zIiksdHJhbnNpdGlvbkVuZEV2ZW50TmFtZXM9e1dlYmtpdFRyYW5zaXRpb246IndlYmtpdFRyYW5zaXRpb25FbmQiLE1velRyYW5zaXRpb246InRyYW5zaXRpb25lbmQiLE9UcmFuc2l0aW9uOiJvVHJhbnNpdGlvbkVuZCIsdHJhbnNpdGlvbjoidHJhbnNpdGlvbmVuZCJ9LGFuaW1hdGlvbkVuZEV2ZW50TmFtZXM9e1dlYmtpdFRyYW5zaXRpb246IndlYmtpdEFuaW1hdGlvbkVuZCIsTW96VHJhbnNpdGlvbjoiYW5pbWF0aW9uZW5kIixPVHJhbnNpdGlvbjoib0FuaW1hdGlvbkVuZCIsdHJhbnNpdGlvbjoiYW5pbWF0aW9uZW5kIn07cmV0dXJuICR0cmFuc2l0aW9uLnRyYW5zaXRpb25FbmRFdmVudE5hbWU9ZmluZEVuZEV2ZW50TmFtZSh0cmFuc2l0aW9uRW5kRXZlbnROYW1lcyksJHRyYW5zaXRpb24uYW5pbWF0aW9uRW5kRXZlbnROYW1lPWZpbmRFbmRFdmVudE5hbWUoYW5pbWF0aW9uRW5kRXZlbnROYW1lcyksJHRyYW5zaXRpb259XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5jb2xsYXBzZSIsWyJ1aS5ib290c3RyYXAudHJhbnNpdGlvbiJdKS5kaXJlY3RpdmUoImNvbGxhcHNlIixbIiR0cmFuc2l0aW9uIixmdW5jdGlvbigkdHJhbnNpdGlvbil7cmV0dXJue2xpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyl7ZnVuY3Rpb24gZG9UcmFuc2l0aW9uKGNoYW5nZSl7ZnVuY3Rpb24gbmV3VHJhbnNpdGlvbkRvbmUoKXtjdXJyZW50VHJhbnNpdGlvbj09PW5ld1RyYW5zaXRpb24mJihjdXJyZW50VHJhbnNpdGlvbj12b2lkIDApfXZhciBuZXdUcmFuc2l0aW9uPSR0cmFuc2l0aW9uKGVsZW1lbnQsY2hhbmdlKTtyZXR1cm4gY3VycmVudFRyYW5zaXRpb24mJmN1cnJlbnRUcmFuc2l0aW9uLmNhbmNlbCgpLGN1cnJlbnRUcmFuc2l0aW9uPW5ld1RyYW5zaXRpb24sbmV3VHJhbnNpdGlvbi50aGVuKG5ld1RyYW5zaXRpb25Eb25lLG5ld1RyYW5zaXRpb25Eb25lKSxuZXdUcmFuc2l0aW9ufWZ1bmN0aW9uIGV4cGFuZCgpe2luaXRpYWxBbmltU2tpcD8oaW5pdGlhbEFuaW1Ta2lwPSExLGV4cGFuZERvbmUoKSk6KGVsZW1lbnQucmVtb3ZlQ2xhc3MoImNvbGxhcHNlIikuYWRkQ2xhc3MoImNvbGxhcHNpbmciKSxkb1RyYW5zaXRpb24oe2hlaWdodDplbGVtZW50WzBdLnNjcm9sbEhlaWdodCsicHgifSkudGhlbihleHBhbmREb25lKSl9ZnVuY3Rpb24gZXhwYW5kRG9uZSgpe2VsZW1lbnQucmVtb3ZlQ2xhc3MoImNvbGxhcHNpbmciKSxlbGVtZW50LmFkZENsYXNzKCJjb2xsYXBzZSBpbiIpLGVsZW1lbnQuY3NzKHtoZWlnaHQ6ImF1dG8ifSl9ZnVuY3Rpb24gY29sbGFwc2UoKXtpZihpbml0aWFsQW5pbVNraXApaW5pdGlhbEFuaW1Ta2lwPSExLGNvbGxhcHNlRG9uZSgpLGVsZW1lbnQuY3NzKHtoZWlnaHQ6MH0pO2Vsc2V7ZWxlbWVudC5jc3Moe2hlaWdodDplbGVtZW50WzBdLnNjcm9sbEhlaWdodCsicHgifSk7e2VsZW1lbnRbMF0ub2Zmc2V0V2lkdGh9ZWxlbWVudC5yZW1vdmVDbGFzcygiY29sbGFwc2UgaW4iKS5hZGRDbGFzcygiY29sbGFwc2luZyIpLGRvVHJhbnNpdGlvbih7aGVpZ2h0OjB9KS50aGVuKGNvbGxhcHNlRG9uZSl9fWZ1bmN0aW9uIGNvbGxhcHNlRG9uZSgpe2VsZW1lbnQucmVtb3ZlQ2xhc3MoImNvbGxhcHNpbmciKSxlbGVtZW50LmFkZENsYXNzKCJjb2xsYXBzZSIpfXZhciBjdXJyZW50VHJhbnNpdGlvbixpbml0aWFsQW5pbVNraXA9ITA7c2NvcGUuJHdhdGNoKGF0dHJzLmNvbGxhcHNlLGZ1bmN0aW9uKHNob3VsZENvbGxhcHNlKXtzaG91bGRDb2xsYXBzZT9jb2xsYXBzZSgpOmV4cGFuZCgpfSl9fX1dKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmFjY29yZGlvbiIsWyJ1aS5ib290c3RyYXAuY29sbGFwc2UiXSkuY29uc3RhbnQoImFjY29yZGlvbkNvbmZpZyIse2Nsb3NlT3RoZXJzOiEwfSkuY29udHJvbGxlcigiQWNjb3JkaW9uQ29udHJvbGxlciIsWyIkc2NvcGUiLCIkYXR0cnMiLCJhY2NvcmRpb25Db25maWciLGZ1bmN0aW9uKCRzY29wZSwkYXR0cnMsYWNjb3JkaW9uQ29uZmlnKXt0aGlzLmdyb3Vwcz1bXSx0aGlzLmNsb3NlT3RoZXJzPWZ1bmN0aW9uKG9wZW5Hcm91cCl7dmFyIGNsb3NlT3RoZXJzPWFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5jbG9zZU90aGVycyk/JHNjb3BlLiRldmFsKCRhdHRycy5jbG9zZU90aGVycyk6YWNjb3JkaW9uQ29uZmlnLmNsb3NlT3RoZXJzO2Nsb3NlT3RoZXJzJiZhbmd1bGFyLmZvckVhY2godGhpcy5ncm91cHMsZnVuY3Rpb24oZ3JvdXApe2dyb3VwIT09b3Blbkdyb3VwJiYoZ3JvdXAuaXNPcGVuPSExKX0pfSx0aGlzLmFkZEdyb3VwPWZ1bmN0aW9uKGdyb3VwU2NvcGUpe3ZhciB0aGF0PXRoaXM7dGhpcy5ncm91cHMucHVzaChncm91cFNjb3BlKSxncm91cFNjb3BlLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7dGhhdC5yZW1vdmVHcm91cChncm91cFNjb3BlKX0pfSx0aGlzLnJlbW92ZUdyb3VwPWZ1bmN0aW9uKGdyb3VwKXt2YXIgaW5kZXg9dGhpcy5ncm91cHMuaW5kZXhPZihncm91cCk7LTEhPT1pbmRleCYmdGhpcy5ncm91cHMuc3BsaWNlKGluZGV4LDEpfX1dKS5kaXJlY3RpdmUoImFjY29yZGlvbiIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixjb250cm9sbGVyOiJBY2NvcmRpb25Db250cm9sbGVyIix0cmFuc2NsdWRlOiEwLHJlcGxhY2U6ITEsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbCJ9fSkuZGlyZWN0aXZlKCJhY2NvcmRpb25Hcm91cCIsZnVuY3Rpb24oKXtyZXR1cm57cmVxdWlyZToiXmFjY29yZGlvbiIscmVzdHJpY3Q6IkVBIix0cmFuc2NsdWRlOiEwLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbCIsc2NvcGU6e2hlYWRpbmc6IkAiLGlzT3BlbjoiPT8iLGlzRGlzYWJsZWQ6Ij0/In0sY29udHJvbGxlcjpmdW5jdGlvbigpe3RoaXMuc2V0SGVhZGluZz1mdW5jdGlvbihlbGVtZW50KXt0aGlzLmhlYWRpbmc9ZWxlbWVudH19LGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxhY2NvcmRpb25DdHJsKXthY2NvcmRpb25DdHJsLmFkZEdyb3VwKHNjb3BlKSxzY29wZS4kd2F0Y2goImlzT3BlbiIsZnVuY3Rpb24odmFsdWUpe3ZhbHVlJiZhY2NvcmRpb25DdHJsLmNsb3NlT3RoZXJzKHNjb3BlKX0pLHNjb3BlLnRvZ2dsZU9wZW49ZnVuY3Rpb24oKXtzY29wZS5pc0Rpc2FibGVkfHwoc2NvcGUuaXNPcGVuPSFzY29wZS5pc09wZW4pfX19fSkuZGlyZWN0aXZlKCJhY2NvcmRpb25IZWFkaW5nIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHRyYW5zY2x1ZGU6ITAsdGVtcGxhdGU6IiIscmVwbGFjZTohMCxyZXF1aXJlOiJeYWNjb3JkaW9uR3JvdXAiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRyLGFjY29yZGlvbkdyb3VwQ3RybCx0cmFuc2NsdWRlKXthY2NvcmRpb25Hcm91cEN0cmwuc2V0SGVhZGluZyh0cmFuc2NsdWRlKHNjb3BlLGZ1bmN0aW9uKCl7fSkpfX19KS5kaXJlY3RpdmUoImFjY29yZGlvblRyYW5zY2x1ZGUiLGZ1bmN0aW9uKCl7cmV0dXJue3JlcXVpcmU6Il5hY2NvcmRpb25Hcm91cCIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHIsY29udHJvbGxlcil7c2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuIGNvbnRyb2xsZXJbYXR0ci5hY2NvcmRpb25UcmFuc2NsdWRlXX0sZnVuY3Rpb24oaGVhZGluZyl7aGVhZGluZyYmKGVsZW1lbnQuaHRtbCgiIiksZWxlbWVudC5hcHBlbmQoaGVhZGluZykpfSl9fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuYWxlcnQiLFtdKS5jb250cm9sbGVyKCJBbGVydENvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGF0dHJzIixmdW5jdGlvbigkc2NvcGUsJGF0dHJzKXskc2NvcGUuY2xvc2VhYmxlPSJjbG9zZSJpbiAkYXR0cnN9XSkuZGlyZWN0aXZlKCJhbGVydCIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixjb250cm9sbGVyOiJBbGVydENvbnRyb2xsZXIiLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sIix0cmFuc2NsdWRlOiEwLHJlcGxhY2U6ITAsc2NvcGU6e3R5cGU6IkAiLGNsb3NlOiImIn19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5iaW5kSHRtbCIsW10pLmRpcmVjdGl2ZSgiYmluZEh0bWxVbnNhZmUiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cil7ZWxlbWVudC5hZGRDbGFzcygibmctYmluZGluZyIpLmRhdGEoIiRiaW5kaW5nIixhdHRyLmJpbmRIdG1sVW5zYWZlKSxzY29wZS4kd2F0Y2goYXR0ci5iaW5kSHRtbFVuc2FmZSxmdW5jdGlvbih2YWx1ZSl7ZWxlbWVudC5odG1sKHZhbHVlfHwiIil9KX19KSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLmJ1dHRvbnMiLFtdKS5jb25zdGFudCgiYnV0dG9uQ29uZmlnIix7YWN0aXZlQ2xhc3M6ImFjdGl2ZSIsdG9nZ2xlRXZlbnQ6ImNsaWNrIn0pLmNvbnRyb2xsZXIoIkJ1dHRvbnNDb250cm9sbGVyIixbImJ1dHRvbkNvbmZpZyIsZnVuY3Rpb24oYnV0dG9uQ29uZmlnKXt0aGlzLmFjdGl2ZUNsYXNzPWJ1dHRvbkNvbmZpZy5hY3RpdmVDbGFzc3x8ImFjdGl2ZSIsdGhpcy50b2dnbGVFdmVudD1idXR0b25Db25maWcudG9nZ2xlRXZlbnR8fCJjbGljayJ9XSkuZGlyZWN0aXZlKCJidG5SYWRpbyIsZnVuY3Rpb24oKXtyZXR1cm57cmVxdWlyZTpbImJ0blJhZGlvIiwibmdNb2RlbCJdLGNvbnRyb2xsZXI6IkJ1dHRvbnNDb250cm9sbGVyIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsY3RybHMpe3ZhciBidXR0b25zQ3RybD1jdHJsc1swXSxuZ01vZGVsQ3RybD1jdHJsc1sxXTtuZ01vZGVsQ3RybC4kcmVuZGVyPWZ1bmN0aW9uKCl7ZWxlbWVudC50b2dnbGVDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcyxhbmd1bGFyLmVxdWFscyhuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSxzY29wZS4kZXZhbChhdHRycy5idG5SYWRpbykpKX0sZWxlbWVudC5iaW5kKGJ1dHRvbnNDdHJsLnRvZ2dsZUV2ZW50LGZ1bmN0aW9uKCl7dmFyIGlzQWN0aXZlPWVsZW1lbnQuaGFzQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MpOyghaXNBY3RpdmV8fGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnVuY2hlY2thYmxlKSkmJnNjb3BlLiRhcHBseShmdW5jdGlvbigpe25nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoaXNBY3RpdmU/bnVsbDpzY29wZS4kZXZhbChhdHRycy5idG5SYWRpbykpLG5nTW9kZWxDdHJsLiRyZW5kZXIoKX0pfSl9fX0pLmRpcmVjdGl2ZSgiYnRuQ2hlY2tib3giLGZ1bmN0aW9uKCl7cmV0dXJue3JlcXVpcmU6WyJidG5DaGVja2JveCIsIm5nTW9kZWwiXSxjb250cm9sbGVyOiJCdXR0b25zQ29udHJvbGxlciIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGN0cmxzKXtmdW5jdGlvbiBnZXRUcnVlVmFsdWUoKXtyZXR1cm4gZ2V0Q2hlY2tib3hWYWx1ZShhdHRycy5idG5DaGVja2JveFRydWUsITApfWZ1bmN0aW9uIGdldEZhbHNlVmFsdWUoKXtyZXR1cm4gZ2V0Q2hlY2tib3hWYWx1ZShhdHRycy5idG5DaGVja2JveEZhbHNlLCExKX1mdW5jdGlvbiBnZXRDaGVja2JveFZhbHVlKGF0dHJpYnV0ZVZhbHVlLGRlZmF1bHRWYWx1ZSl7dmFyIHZhbD1zY29wZS4kZXZhbChhdHRyaWJ1dGVWYWx1ZSk7cmV0dXJuIGFuZ3VsYXIuaXNEZWZpbmVkKHZhbCk/dmFsOmRlZmF1bHRWYWx1ZX12YXIgYnV0dG9uc0N0cmw9Y3RybHNbMF0sbmdNb2RlbEN0cmw9Y3RybHNbMV07bmdNb2RlbEN0cmwuJHJlbmRlcj1mdW5jdGlvbigpe2VsZW1lbnQudG9nZ2xlQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MsYW5ndWxhci5lcXVhbHMobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUsZ2V0VHJ1ZVZhbHVlKCkpKX0sZWxlbWVudC5iaW5kKGJ1dHRvbnNDdHJsLnRvZ2dsZUV2ZW50LGZ1bmN0aW9uKCl7c2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7bmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShlbGVtZW50Lmhhc0NsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzKT9nZXRGYWxzZVZhbHVlKCk6Z2V0VHJ1ZVZhbHVlKCkpLG5nTW9kZWxDdHJsLiRyZW5kZXIoKX0pfSl9fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuY2Fyb3VzZWwiLFsidWkuYm9vdHN0cmFwLnRyYW5zaXRpb24iXSkuY29udHJvbGxlcigiQ2Fyb3VzZWxDb250cm9sbGVyIixbIiRzY29wZSIsIiR0aW1lb3V0IiwiJHRyYW5zaXRpb24iLGZ1bmN0aW9uKCRzY29wZSwkdGltZW91dCwkdHJhbnNpdGlvbil7ZnVuY3Rpb24gcmVzdGFydFRpbWVyKCl7cmVzZXRUaW1lcigpO3ZhciBpbnRlcnZhbD0rJHNjb3BlLmludGVydmFsOyFpc05hTihpbnRlcnZhbCkmJmludGVydmFsPj0wJiYoY3VycmVudFRpbWVvdXQ9JHRpbWVvdXQodGltZXJGbixpbnRlcnZhbCkpfWZ1bmN0aW9uIHJlc2V0VGltZXIoKXtjdXJyZW50VGltZW91dCYmKCR0aW1lb3V0LmNhbmNlbChjdXJyZW50VGltZW91dCksY3VycmVudFRpbWVvdXQ9bnVsbCl9ZnVuY3Rpb24gdGltZXJGbigpe2lzUGxheWluZz8oJHNjb3BlLm5leHQoKSxyZXN0YXJ0VGltZXIoKSk6JHNjb3BlLnBhdXNlKCl9dmFyIGN1cnJlbnRUaW1lb3V0LGlzUGxheWluZyxzZWxmPXRoaXMsc2xpZGVzPXNlbGYuc2xpZGVzPSRzY29wZS5zbGlkZXM9W10sY3VycmVudEluZGV4PS0xO3NlbGYuY3VycmVudFNsaWRlPW51bGw7dmFyIGRlc3Ryb3llZD0hMTtzZWxmLnNlbGVjdD0kc2NvcGUuc2VsZWN0PWZ1bmN0aW9uKG5leHRTbGlkZSxkaXJlY3Rpb24pe2Z1bmN0aW9uIGdvTmV4dCgpe2lmKCFkZXN0cm95ZWQpe2lmKHNlbGYuY3VycmVudFNsaWRlJiZhbmd1bGFyLmlzU3RyaW5nKGRpcmVjdGlvbikmJiEkc2NvcGUubm9UcmFuc2l0aW9uJiZuZXh0U2xpZGUuJGVsZW1lbnQpe25leHRTbGlkZS4kZWxlbWVudC5hZGRDbGFzcyhkaXJlY3Rpb24pO3tuZXh0U2xpZGUuJGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGh9YW5ndWxhci5mb3JFYWNoKHNsaWRlcyxmdW5jdGlvbihzbGlkZSl7YW5ndWxhci5leHRlbmQoc2xpZGUse2RpcmVjdGlvbjoiIixlbnRlcmluZzohMSxsZWF2aW5nOiExLGFjdGl2ZTohMX0pfSksYW5ndWxhci5leHRlbmQobmV4dFNsaWRlLHtkaXJlY3Rpb246ZGlyZWN0aW9uLGFjdGl2ZTohMCxlbnRlcmluZzohMH0pLGFuZ3VsYXIuZXh0ZW5kKHNlbGYuY3VycmVudFNsaWRlfHx7fSx7ZGlyZWN0aW9uOmRpcmVjdGlvbixsZWF2aW5nOiEwfSksJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbj0kdHJhbnNpdGlvbihuZXh0U2xpZGUuJGVsZW1lbnQse30pLGZ1bmN0aW9uKG5leHQsY3VycmVudCl7JHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbi50aGVuKGZ1bmN0aW9uKCl7dHJhbnNpdGlvbkRvbmUobmV4dCxjdXJyZW50KX0sZnVuY3Rpb24oKXt0cmFuc2l0aW9uRG9uZShuZXh0LGN1cnJlbnQpfSl9KG5leHRTbGlkZSxzZWxmLmN1cnJlbnRTbGlkZSl9ZWxzZSB0cmFuc2l0aW9uRG9uZShuZXh0U2xpZGUsc2VsZi5jdXJyZW50U2xpZGUpO3NlbGYuY3VycmVudFNsaWRlPW5leHRTbGlkZSxjdXJyZW50SW5kZXg9bmV4dEluZGV4LHJlc3RhcnRUaW1lcigpfX1mdW5jdGlvbiB0cmFuc2l0aW9uRG9uZShuZXh0LGN1cnJlbnQpe2FuZ3VsYXIuZXh0ZW5kKG5leHQse2RpcmVjdGlvbjoiIixhY3RpdmU6ITAsbGVhdmluZzohMSxlbnRlcmluZzohMX0pLGFuZ3VsYXIuZXh0ZW5kKGN1cnJlbnR8fHt9LHtkaXJlY3Rpb246IiIsYWN0aXZlOiExLGxlYXZpbmc6ITEsZW50ZXJpbmc6ITF9KSwkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uPW51bGx9dmFyIG5leHRJbmRleD1zbGlkZXMuaW5kZXhPZihuZXh0U2xpZGUpO3ZvaWQgMD09PWRpcmVjdGlvbiYmKGRpcmVjdGlvbj1uZXh0SW5kZXg+Y3VycmVudEluZGV4PyJuZXh0IjoicHJldiIpLG5leHRTbGlkZSYmbmV4dFNsaWRlIT09c2VsZi5jdXJyZW50U2xpZGUmJigkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uPygkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uLmNhbmNlbCgpLCR0aW1lb3V0KGdvTmV4dCkpOmdvTmV4dCgpKX0sJHNjb3BlLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7ZGVzdHJveWVkPSEwfSksc2VsZi5pbmRleE9mU2xpZGU9ZnVuY3Rpb24oc2xpZGUpe3JldHVybiBzbGlkZXMuaW5kZXhPZihzbGlkZSl9LCRzY29wZS5uZXh0PWZ1bmN0aW9uKCl7dmFyIG5ld0luZGV4PShjdXJyZW50SW5kZXgrMSklc2xpZGVzLmxlbmd0aDtyZXR1cm4gJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbj92b2lkIDA6c2VsZi5zZWxlY3Qoc2xpZGVzW25ld0luZGV4XSwibmV4dCIpfSwkc2NvcGUucHJldj1mdW5jdGlvbigpe3ZhciBuZXdJbmRleD0wPmN1cnJlbnRJbmRleC0xP3NsaWRlcy5sZW5ndGgtMTpjdXJyZW50SW5kZXgtMTtyZXR1cm4gJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbj92b2lkIDA6c2VsZi5zZWxlY3Qoc2xpZGVzW25ld0luZGV4XSwicHJldiIpfSwkc2NvcGUuaXNBY3RpdmU9ZnVuY3Rpb24oc2xpZGUpe3JldHVybiBzZWxmLmN1cnJlbnRTbGlkZT09PXNsaWRlfSwkc2NvcGUuJHdhdGNoKCJpbnRlcnZhbCIscmVzdGFydFRpbWVyKSwkc2NvcGUuJG9uKCIkZGVzdHJveSIscmVzZXRUaW1lciksJHNjb3BlLnBsYXk9ZnVuY3Rpb24oKXtpc1BsYXlpbmd8fChpc1BsYXlpbmc9ITAscmVzdGFydFRpbWVyKCkpfSwkc2NvcGUucGF1c2U9ZnVuY3Rpb24oKXskc2NvcGUubm9QYXVzZXx8KGlzUGxheWluZz0hMSxyZXNldFRpbWVyKCkpfSxzZWxmLmFkZFNsaWRlPWZ1bmN0aW9uKHNsaWRlLGVsZW1lbnQpe3NsaWRlLiRlbGVtZW50PWVsZW1lbnQsc2xpZGVzLnB1c2goc2xpZGUpLDE9PT1zbGlkZXMubGVuZ3RofHxzbGlkZS5hY3RpdmU/KHNlbGYuc2VsZWN0KHNsaWRlc1tzbGlkZXMubGVuZ3RoLTFdKSwxPT1zbGlkZXMubGVuZ3RoJiYkc2NvcGUucGxheSgpKTpzbGlkZS5hY3RpdmU9ITF9LHNlbGYucmVtb3ZlU2xpZGU9ZnVuY3Rpb24oc2xpZGUpe3ZhciBpbmRleD1zbGlkZXMuaW5kZXhPZihzbGlkZSk7c2xpZGVzLnNwbGljZShpbmRleCwxKSxzbGlkZXMubGVuZ3RoPjAmJnNsaWRlLmFjdGl2ZT9zZWxmLnNlbGVjdChpbmRleD49c2xpZGVzLmxlbmd0aD9zbGlkZXNbaW5kZXgtMV06c2xpZGVzW2luZGV4XSk6Y3VycmVudEluZGV4PmluZGV4JiZjdXJyZW50SW5kZXgtLX19XSkuZGlyZWN0aXZlKCJjYXJvdXNlbCIsW2Z1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsdHJhbnNjbHVkZTohMCxyZXBsYWNlOiEwLGNvbnRyb2xsZXI6IkNhcm91c2VsQ29udHJvbGxlciIscmVxdWlyZToiY2Fyb3VzZWwiLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sIixzY29wZTp7aW50ZXJ2YWw6Ij0iLG5vVHJhbnNpdGlvbjoiPSIsbm9QYXVzZToiPSJ9fX1dKS5kaXJlY3RpdmUoInNsaWRlIixmdW5jdGlvbigpe3JldHVybntyZXF1aXJlOiJeY2Fyb3VzZWwiLHJlc3RyaWN0OiJFQSIsdHJhbnNjbHVkZTohMCxyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sIixzY29wZTp7YWN0aXZlOiI9PyJ9LGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjYXJvdXNlbEN0cmwpe2Nhcm91c2VsQ3RybC5hZGRTbGlkZShzY29wZSxlbGVtZW50KSxzY29wZS4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe2Nhcm91c2VsQ3RybC5yZW1vdmVTbGlkZShzY29wZSl9KSxzY29wZS4kd2F0Y2goImFjdGl2ZSIsZnVuY3Rpb24oYWN0aXZlKXthY3RpdmUmJmNhcm91c2VsQ3RybC5zZWxlY3Qoc2NvcGUpfSl9fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuZGF0ZXBhcnNlciIsW10pLnNlcnZpY2UoImRhdGVQYXJzZXIiLFsiJGxvY2FsZSIsIm9yZGVyQnlGaWx0ZXIiLGZ1bmN0aW9uKCRsb2NhbGUsb3JkZXJCeUZpbHRlcil7ZnVuY3Rpb24gY3JlYXRlUGFyc2VyKGZvcm1hdCl7dmFyIG1hcD1bXSxyZWdleD1mb3JtYXQuc3BsaXQoIiIpO3JldHVybiBhbmd1bGFyLmZvckVhY2goZm9ybWF0Q29kZVRvUmVnZXgsZnVuY3Rpb24oZGF0YSxjb2RlKXt2YXIgaW5kZXg9Zm9ybWF0LmluZGV4T2YoY29kZSk7aWYoaW5kZXg+LTEpe2Zvcm1hdD1mb3JtYXQuc3BsaXQoIiIpLHJlZ2V4W2luZGV4XT0iKCIrZGF0YS5yZWdleCsiKSIsZm9ybWF0W2luZGV4XT0iJCI7Zm9yKHZhciBpPWluZGV4KzEsbj1pbmRleCtjb2RlLmxlbmd0aDtuPmk7aSsrKXJlZ2V4W2ldPSIiLGZvcm1hdFtpXT0iJCI7Zm9ybWF0PWZvcm1hdC5qb2luKCIiKSxtYXAucHVzaCh7aW5kZXg6aW5kZXgsYXBwbHk6ZGF0YS5hcHBseX0pfX0pLHtyZWdleDpuZXcgUmVnRXhwKCJeIityZWdleC5qb2luKCIiKSsiJCIpLG1hcDpvcmRlckJ5RmlsdGVyKG1hcCwiaW5kZXgiKX19ZnVuY3Rpb24gaXNWYWxpZCh5ZWFyLG1vbnRoLGRhdGUpe3JldHVybiAxPT09bW9udGgmJmRhdGU+Mjg/Mjk9PT1kYXRlJiYoeWVhciU0PT09MCYmeWVhciUxMDAhPT0wfHx5ZWFyJTQwMD09PTApOjM9PT1tb250aHx8NT09PW1vbnRofHw4PT09bW9udGh8fDEwPT09bW9udGg/MzE+ZGF0ZTohMH10aGlzLnBhcnNlcnM9e307dmFyIGZvcm1hdENvZGVUb1JlZ2V4PXt5eXl5OntyZWdleDoiXFxkezR9IixhcHBseTpmdW5jdGlvbih2YWx1ZSl7dGhpcy55ZWFyPSt2YWx1ZX19LHl5OntyZWdleDoiXFxkezJ9IixhcHBseTpmdW5jdGlvbih2YWx1ZSl7dGhpcy55ZWFyPSt2YWx1ZSsyZTN9fSx5OntyZWdleDoiXFxkezEsNH0iLGFwcGx5OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLnllYXI9K3ZhbHVlCn19LE1NTU06e3JlZ2V4OiRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5NT05USC5qb2luKCJ8IiksYXBwbHk6ZnVuY3Rpb24odmFsdWUpe3RoaXMubW9udGg9JGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLk1PTlRILmluZGV4T2YodmFsdWUpfX0sTU1NOntyZWdleDokbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuU0hPUlRNT05USC5qb2luKCJ8IiksYXBwbHk6ZnVuY3Rpb24odmFsdWUpe3RoaXMubW9udGg9JGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLlNIT1JUTU9OVEguaW5kZXhPZih2YWx1ZSl9fSxNTTp7cmVnZXg6IjBbMS05XXwxWzAtMl0iLGFwcGx5OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLm1vbnRoPXZhbHVlLTF9fSxNOntyZWdleDoiWzEtOV18MVswLTJdIixhcHBseTpmdW5jdGlvbih2YWx1ZSl7dGhpcy5tb250aD12YWx1ZS0xfX0sZGQ6e3JlZ2V4OiJbMC0yXVswLTldezF9fDNbMC0xXXsxfSIsYXBwbHk6ZnVuY3Rpb24odmFsdWUpe3RoaXMuZGF0ZT0rdmFsdWV9fSxkOntyZWdleDoiWzEtMl0/WzAtOV17MX18M1swLTFdezF9IixhcHBseTpmdW5jdGlvbih2YWx1ZSl7dGhpcy5kYXRlPSt2YWx1ZX19LEVFRUU6e3JlZ2V4OiRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5EQVkuam9pbigifCIpfSxFRUU6e3JlZ2V4OiRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5TSE9SVERBWS5qb2luKCJ8Iil9fTt0aGlzLnBhcnNlPWZ1bmN0aW9uKGlucHV0LGZvcm1hdCl7aWYoIWFuZ3VsYXIuaXNTdHJpbmcoaW5wdXQpfHwhZm9ybWF0KXJldHVybiBpbnB1dDtmb3JtYXQ9JGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTW2Zvcm1hdF18fGZvcm1hdCx0aGlzLnBhcnNlcnNbZm9ybWF0XXx8KHRoaXMucGFyc2Vyc1tmb3JtYXRdPWNyZWF0ZVBhcnNlcihmb3JtYXQpKTt2YXIgcGFyc2VyPXRoaXMucGFyc2Vyc1tmb3JtYXRdLHJlZ2V4PXBhcnNlci5yZWdleCxtYXA9cGFyc2VyLm1hcCxyZXN1bHRzPWlucHV0Lm1hdGNoKHJlZ2V4KTtpZihyZXN1bHRzJiZyZXN1bHRzLmxlbmd0aCl7Zm9yKHZhciBkdCxmaWVsZHM9e3llYXI6MTkwMCxtb250aDowLGRhdGU6MSxob3VyczowfSxpPTEsbj1yZXN1bHRzLmxlbmd0aDtuPmk7aSsrKXt2YXIgbWFwcGVyPW1hcFtpLTFdO21hcHBlci5hcHBseSYmbWFwcGVyLmFwcGx5LmNhbGwoZmllbGRzLHJlc3VsdHNbaV0pfXJldHVybiBpc1ZhbGlkKGZpZWxkcy55ZWFyLGZpZWxkcy5tb250aCxmaWVsZHMuZGF0ZSkmJihkdD1uZXcgRGF0ZShmaWVsZHMueWVhcixmaWVsZHMubW9udGgsZmllbGRzLmRhdGUsZmllbGRzLmhvdXJzKSksZHR9fX1dKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnBvc2l0aW9uIixbXSkuZmFjdG9yeSgiJHBvc2l0aW9uIixbIiRkb2N1bWVudCIsIiR3aW5kb3ciLGZ1bmN0aW9uKCRkb2N1bWVudCwkd2luZG93KXtmdW5jdGlvbiBnZXRTdHlsZShlbCxjc3Nwcm9wKXtyZXR1cm4gZWwuY3VycmVudFN0eWxlP2VsLmN1cnJlbnRTdHlsZVtjc3Nwcm9wXTokd2luZG93LmdldENvbXB1dGVkU3R5bGU/JHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKVtjc3Nwcm9wXTplbC5zdHlsZVtjc3Nwcm9wXX1mdW5jdGlvbiBpc1N0YXRpY1Bvc2l0aW9uZWQoZWxlbWVudCl7cmV0dXJuInN0YXRpYyI9PT0oZ2V0U3R5bGUoZWxlbWVudCwicG9zaXRpb24iKXx8InN0YXRpYyIpfXZhciBwYXJlbnRPZmZzZXRFbD1mdW5jdGlvbihlbGVtZW50KXtmb3IodmFyIGRvY0RvbUVsPSRkb2N1bWVudFswXSxvZmZzZXRQYXJlbnQ9ZWxlbWVudC5vZmZzZXRQYXJlbnR8fGRvY0RvbUVsO29mZnNldFBhcmVudCYmb2Zmc2V0UGFyZW50IT09ZG9jRG9tRWwmJmlzU3RhdGljUG9zaXRpb25lZChvZmZzZXRQYXJlbnQpOylvZmZzZXRQYXJlbnQ9b2Zmc2V0UGFyZW50Lm9mZnNldFBhcmVudDtyZXR1cm4gb2Zmc2V0UGFyZW50fHxkb2NEb21FbH07cmV0dXJue3Bvc2l0aW9uOmZ1bmN0aW9uKGVsZW1lbnQpe3ZhciBlbEJDUj10aGlzLm9mZnNldChlbGVtZW50KSxvZmZzZXRQYXJlbnRCQ1I9e3RvcDowLGxlZnQ6MH0sb2Zmc2V0UGFyZW50RWw9cGFyZW50T2Zmc2V0RWwoZWxlbWVudFswXSk7b2Zmc2V0UGFyZW50RWwhPSRkb2N1bWVudFswXSYmKG9mZnNldFBhcmVudEJDUj10aGlzLm9mZnNldChhbmd1bGFyLmVsZW1lbnQob2Zmc2V0UGFyZW50RWwpKSxvZmZzZXRQYXJlbnRCQ1IudG9wKz1vZmZzZXRQYXJlbnRFbC5jbGllbnRUb3Atb2Zmc2V0UGFyZW50RWwuc2Nyb2xsVG9wLG9mZnNldFBhcmVudEJDUi5sZWZ0Kz1vZmZzZXRQYXJlbnRFbC5jbGllbnRMZWZ0LW9mZnNldFBhcmVudEVsLnNjcm9sbExlZnQpO3ZhciBib3VuZGluZ0NsaWVudFJlY3Q9ZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm57d2lkdGg6Ym91bmRpbmdDbGllbnRSZWN0LndpZHRofHxlbGVtZW50LnByb3AoIm9mZnNldFdpZHRoIiksaGVpZ2h0OmJvdW5kaW5nQ2xpZW50UmVjdC5oZWlnaHR8fGVsZW1lbnQucHJvcCgib2Zmc2V0SGVpZ2h0IiksdG9wOmVsQkNSLnRvcC1vZmZzZXRQYXJlbnRCQ1IudG9wLGxlZnQ6ZWxCQ1IubGVmdC1vZmZzZXRQYXJlbnRCQ1IubGVmdH19LG9mZnNldDpmdW5jdGlvbihlbGVtZW50KXt2YXIgYm91bmRpbmdDbGllbnRSZWN0PWVsZW1lbnRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJue3dpZHRoOmJvdW5kaW5nQ2xpZW50UmVjdC53aWR0aHx8ZWxlbWVudC5wcm9wKCJvZmZzZXRXaWR0aCIpLGhlaWdodDpib3VuZGluZ0NsaWVudFJlY3QuaGVpZ2h0fHxlbGVtZW50LnByb3AoIm9mZnNldEhlaWdodCIpLHRvcDpib3VuZGluZ0NsaWVudFJlY3QudG9wKygkd2luZG93LnBhZ2VZT2Zmc2V0fHwkZG9jdW1lbnRbMF0uZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCksbGVmdDpib3VuZGluZ0NsaWVudFJlY3QubGVmdCsoJHdpbmRvdy5wYWdlWE9mZnNldHx8JGRvY3VtZW50WzBdLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0KX19LHBvc2l0aW9uRWxlbWVudHM6ZnVuY3Rpb24oaG9zdEVsLHRhcmdldEVsLHBvc2l0aW9uU3RyLGFwcGVuZFRvQm9keSl7dmFyIGhvc3RFbFBvcyx0YXJnZXRFbFdpZHRoLHRhcmdldEVsSGVpZ2h0LHRhcmdldEVsUG9zLHBvc2l0aW9uU3RyUGFydHM9cG9zaXRpb25TdHIuc3BsaXQoIi0iKSxwb3MwPXBvc2l0aW9uU3RyUGFydHNbMF0scG9zMT1wb3NpdGlvblN0clBhcnRzWzFdfHwiY2VudGVyIjtob3N0RWxQb3M9YXBwZW5kVG9Cb2R5P3RoaXMub2Zmc2V0KGhvc3RFbCk6dGhpcy5wb3NpdGlvbihob3N0RWwpLHRhcmdldEVsV2lkdGg9dGFyZ2V0RWwucHJvcCgib2Zmc2V0V2lkdGgiKSx0YXJnZXRFbEhlaWdodD10YXJnZXRFbC5wcm9wKCJvZmZzZXRIZWlnaHQiKTt2YXIgc2hpZnRXaWR0aD17Y2VudGVyOmZ1bmN0aW9uKCl7cmV0dXJuIGhvc3RFbFBvcy5sZWZ0K2hvc3RFbFBvcy53aWR0aC8yLXRhcmdldEVsV2lkdGgvMn0sbGVmdDpmdW5jdGlvbigpe3JldHVybiBob3N0RWxQb3MubGVmdH0scmlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gaG9zdEVsUG9zLmxlZnQraG9zdEVsUG9zLndpZHRofX0sc2hpZnRIZWlnaHQ9e2NlbnRlcjpmdW5jdGlvbigpe3JldHVybiBob3N0RWxQb3MudG9wK2hvc3RFbFBvcy5oZWlnaHQvMi10YXJnZXRFbEhlaWdodC8yfSx0b3A6ZnVuY3Rpb24oKXtyZXR1cm4gaG9zdEVsUG9zLnRvcH0sYm90dG9tOmZ1bmN0aW9uKCl7cmV0dXJuIGhvc3RFbFBvcy50b3AraG9zdEVsUG9zLmhlaWdodH19O3N3aXRjaChwb3MwKXtjYXNlInJpZ2h0Ijp0YXJnZXRFbFBvcz17dG9wOnNoaWZ0SGVpZ2h0W3BvczFdKCksbGVmdDpzaGlmdFdpZHRoW3BvczBdKCl9O2JyZWFrO2Nhc2UibGVmdCI6dGFyZ2V0RWxQb3M9e3RvcDpzaGlmdEhlaWdodFtwb3MxXSgpLGxlZnQ6aG9zdEVsUG9zLmxlZnQtdGFyZ2V0RWxXaWR0aH07YnJlYWs7Y2FzZSJib3R0b20iOnRhcmdldEVsUG9zPXt0b3A6c2hpZnRIZWlnaHRbcG9zMF0oKSxsZWZ0OnNoaWZ0V2lkdGhbcG9zMV0oKX07YnJlYWs7ZGVmYXVsdDp0YXJnZXRFbFBvcz17dG9wOmhvc3RFbFBvcy50b3AtdGFyZ2V0RWxIZWlnaHQsbGVmdDpzaGlmdFdpZHRoW3BvczFdKCl9fXJldHVybiB0YXJnZXRFbFBvc319fV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAuZGF0ZXBpY2tlciIsWyJ1aS5ib290c3RyYXAuZGF0ZXBhcnNlciIsInVpLmJvb3RzdHJhcC5wb3NpdGlvbiJdKS5jb25zdGFudCgiZGF0ZXBpY2tlckNvbmZpZyIse2Zvcm1hdERheToiZGQiLGZvcm1hdE1vbnRoOiJNTU1NIixmb3JtYXRZZWFyOiJ5eXl5Iixmb3JtYXREYXlIZWFkZXI6IkVFRSIsZm9ybWF0RGF5VGl0bGU6Ik1NTU0geXl5eSIsZm9ybWF0TW9udGhUaXRsZToieXl5eSIsZGF0ZXBpY2tlck1vZGU6ImRheSIsbWluTW9kZToiZGF5IixtYXhNb2RlOiJ5ZWFyIixzaG93V2Vla3M6ITAsc3RhcnRpbmdEYXk6MCx5ZWFyUmFuZ2U6MjAsbWluRGF0ZTpudWxsLG1heERhdGU6bnVsbH0pLmNvbnRyb2xsZXIoIkRhdGVwaWNrZXJDb250cm9sbGVyIixbIiRzY29wZSIsIiRhdHRycyIsIiRwYXJzZSIsIiRpbnRlcnBvbGF0ZSIsIiR0aW1lb3V0IiwiJGxvZyIsImRhdGVGaWx0ZXIiLCJkYXRlcGlja2VyQ29uZmlnIixmdW5jdGlvbigkc2NvcGUsJGF0dHJzLCRwYXJzZSwkaW50ZXJwb2xhdGUsJHRpbWVvdXQsJGxvZyxkYXRlRmlsdGVyLGRhdGVwaWNrZXJDb25maWcpe3ZhciBzZWxmPXRoaXMsbmdNb2RlbEN0cmw9eyRzZXRWaWV3VmFsdWU6YW5ndWxhci5ub29wfTt0aGlzLm1vZGVzPVsiZGF5IiwibW9udGgiLCJ5ZWFyIl0sYW5ndWxhci5mb3JFYWNoKFsiZm9ybWF0RGF5IiwiZm9ybWF0TW9udGgiLCJmb3JtYXRZZWFyIiwiZm9ybWF0RGF5SGVhZGVyIiwiZm9ybWF0RGF5VGl0bGUiLCJmb3JtYXRNb250aFRpdGxlIiwibWluTW9kZSIsIm1heE1vZGUiLCJzaG93V2Vla3MiLCJzdGFydGluZ0RheSIsInllYXJSYW5nZSJdLGZ1bmN0aW9uKGtleSxpbmRleCl7c2VsZltrZXldPWFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRyc1trZXldKT84PmluZGV4PyRpbnRlcnBvbGF0ZSgkYXR0cnNba2V5XSkoJHNjb3BlLiRwYXJlbnQpOiRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRyc1trZXldKTpkYXRlcGlja2VyQ29uZmlnW2tleV19KSxhbmd1bGFyLmZvckVhY2goWyJtaW5EYXRlIiwibWF4RGF0ZSJdLGZ1bmN0aW9uKGtleSl7JGF0dHJzW2tleV0/JHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnNba2V5XSksZnVuY3Rpb24odmFsdWUpe3NlbGZba2V5XT12YWx1ZT9uZXcgRGF0ZSh2YWx1ZSk6bnVsbCxzZWxmLnJlZnJlc2hWaWV3KCl9KTpzZWxmW2tleV09ZGF0ZXBpY2tlckNvbmZpZ1trZXldP25ldyBEYXRlKGRhdGVwaWNrZXJDb25maWdba2V5XSk6bnVsbH0pLCRzY29wZS5kYXRlcGlja2VyTW9kZT0kc2NvcGUuZGF0ZXBpY2tlck1vZGV8fGRhdGVwaWNrZXJDb25maWcuZGF0ZXBpY2tlck1vZGUsJHNjb3BlLnVuaXF1ZUlkPSJkYXRlcGlja2VyLSIrJHNjb3BlLiRpZCsiLSIrTWF0aC5mbG9vcigxZTQqTWF0aC5yYW5kb20oKSksdGhpcy5hY3RpdmVEYXRlPWFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5pbml0RGF0ZSk/JHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLmluaXREYXRlKTpuZXcgRGF0ZSwkc2NvcGUuaXNBY3RpdmU9ZnVuY3Rpb24oZGF0ZU9iamVjdCl7cmV0dXJuIDA9PT1zZWxmLmNvbXBhcmUoZGF0ZU9iamVjdC5kYXRlLHNlbGYuYWN0aXZlRGF0ZSk/KCRzY29wZS5hY3RpdmVEYXRlSWQ9ZGF0ZU9iamVjdC51aWQsITApOiExfSx0aGlzLmluaXQ9ZnVuY3Rpb24obmdNb2RlbEN0cmxfKXtuZ01vZGVsQ3RybD1uZ01vZGVsQ3RybF8sbmdNb2RlbEN0cmwuJHJlbmRlcj1mdW5jdGlvbigpe3NlbGYucmVuZGVyKCl9fSx0aGlzLnJlbmRlcj1mdW5jdGlvbigpe2lmKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlKXt2YXIgZGF0ZT1uZXcgRGF0ZShuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSksaXNWYWxpZD0haXNOYU4oZGF0ZSk7aXNWYWxpZD90aGlzLmFjdGl2ZURhdGU9ZGF0ZTokbG9nLmVycm9yKCdEYXRlcGlja2VyIGRpcmVjdGl2ZTogIm5nLW1vZGVsIiB2YWx1ZSBtdXN0IGJlIGEgRGF0ZSBvYmplY3QsIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSAwMS4wMS4xOTcwIG9yIGEgc3RyaW5nIHJlcHJlc2VudGluZyBhbiBSRkMyODIyIG9yIElTTyA4NjAxIGRhdGUuJyksbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCJkYXRlIixpc1ZhbGlkKX10aGlzLnJlZnJlc2hWaWV3KCl9LHRoaXMucmVmcmVzaFZpZXc9ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1lbnQpe3RoaXMuX3JlZnJlc2hWaWV3KCk7dmFyIGRhdGU9bmdNb2RlbEN0cmwuJG1vZGVsVmFsdWU/bmV3IERhdGUobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUpOm51bGw7bmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCJkYXRlLWRpc2FibGVkIiwhZGF0ZXx8dGhpcy5lbGVtZW50JiYhdGhpcy5pc0Rpc2FibGVkKGRhdGUpKX19LHRoaXMuY3JlYXRlRGF0ZU9iamVjdD1mdW5jdGlvbihkYXRlLGZvcm1hdCl7dmFyIG1vZGVsPW5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlP25ldyBEYXRlKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlKTpudWxsO3JldHVybntkYXRlOmRhdGUsbGFiZWw6ZGF0ZUZpbHRlcihkYXRlLGZvcm1hdCksc2VsZWN0ZWQ6bW9kZWwmJjA9PT10aGlzLmNvbXBhcmUoZGF0ZSxtb2RlbCksZGlzYWJsZWQ6dGhpcy5pc0Rpc2FibGVkKGRhdGUpLGN1cnJlbnQ6MD09PXRoaXMuY29tcGFyZShkYXRlLG5ldyBEYXRlKX19LHRoaXMuaXNEaXNhYmxlZD1mdW5jdGlvbihkYXRlKXtyZXR1cm4gdGhpcy5taW5EYXRlJiZ0aGlzLmNvbXBhcmUoZGF0ZSx0aGlzLm1pbkRhdGUpPDB8fHRoaXMubWF4RGF0ZSYmdGhpcy5jb21wYXJlKGRhdGUsdGhpcy5tYXhEYXRlKT4wfHwkYXR0cnMuZGF0ZURpc2FibGVkJiYkc2NvcGUuZGF0ZURpc2FibGVkKHtkYXRlOmRhdGUsbW9kZTokc2NvcGUuZGF0ZXBpY2tlck1vZGV9KX0sdGhpcy5zcGxpdD1mdW5jdGlvbihhcnIsc2l6ZSl7Zm9yKHZhciBhcnJheXM9W107YXJyLmxlbmd0aD4wOylhcnJheXMucHVzaChhcnIuc3BsaWNlKDAsc2l6ZSkpO3JldHVybiBhcnJheXN9LCRzY29wZS5zZWxlY3Q9ZnVuY3Rpb24oZGF0ZSl7aWYoJHNjb3BlLmRhdGVwaWNrZXJNb2RlPT09c2VsZi5taW5Nb2RlKXt2YXIgZHQ9bmdNb2RlbEN0cmwuJG1vZGVsVmFsdWU/bmV3IERhdGUobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUpOm5ldyBEYXRlKDAsMCwwLDAsMCwwLDApO2R0LnNldEZ1bGxZZWFyKGRhdGUuZ2V0RnVsbFllYXIoKSxkYXRlLmdldE1vbnRoKCksZGF0ZS5nZXREYXRlKCkpLG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoZHQpLG5nTW9kZWxDdHJsLiRyZW5kZXIoKX1lbHNlIHNlbGYuYWN0aXZlRGF0ZT1kYXRlLCRzY29wZS5kYXRlcGlja2VyTW9kZT1zZWxmLm1vZGVzW3NlbGYubW9kZXMuaW5kZXhPZigkc2NvcGUuZGF0ZXBpY2tlck1vZGUpLTFdfSwkc2NvcGUubW92ZT1mdW5jdGlvbihkaXJlY3Rpb24pe3ZhciB5ZWFyPXNlbGYuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpK2RpcmVjdGlvbiooc2VsZi5zdGVwLnllYXJzfHwwKSxtb250aD1zZWxmLmFjdGl2ZURhdGUuZ2V0TW9udGgoKStkaXJlY3Rpb24qKHNlbGYuc3RlcC5tb250aHN8fDApO3NlbGYuYWN0aXZlRGF0ZS5zZXRGdWxsWWVhcih5ZWFyLG1vbnRoLDEpLHNlbGYucmVmcmVzaFZpZXcoKX0sJHNjb3BlLnRvZ2dsZU1vZGU9ZnVuY3Rpb24oZGlyZWN0aW9uKXtkaXJlY3Rpb249ZGlyZWN0aW9ufHwxLCRzY29wZS5kYXRlcGlja2VyTW9kZT09PXNlbGYubWF4TW9kZSYmMT09PWRpcmVjdGlvbnx8JHNjb3BlLmRhdGVwaWNrZXJNb2RlPT09c2VsZi5taW5Nb2RlJiYtMT09PWRpcmVjdGlvbnx8KCRzY29wZS5kYXRlcGlja2VyTW9kZT1zZWxmLm1vZGVzW3NlbGYubW9kZXMuaW5kZXhPZigkc2NvcGUuZGF0ZXBpY2tlck1vZGUpK2RpcmVjdGlvbl0pfSwkc2NvcGUua2V5cz17MTM6ImVudGVyIiwzMjoic3BhY2UiLDMzOiJwYWdldXAiLDM0OiJwYWdlZG93biIsMzU6ImVuZCIsMzY6ImhvbWUiLDM3OiJsZWZ0IiwzODoidXAiLDM5OiJyaWdodCIsNDA6ImRvd24ifTt2YXIgZm9jdXNFbGVtZW50PWZ1bmN0aW9uKCl7JHRpbWVvdXQoZnVuY3Rpb24oKXtzZWxmLmVsZW1lbnRbMF0uZm9jdXMoKX0sMCwhMSl9OyRzY29wZS4kb24oImRhdGVwaWNrZXIuZm9jdXMiLGZvY3VzRWxlbWVudCksJHNjb3BlLmtleWRvd249ZnVuY3Rpb24oZXZ0KXt2YXIga2V5PSRzY29wZS5rZXlzW2V2dC53aGljaF07aWYoa2V5JiYhZXZ0LnNoaWZ0S2V5JiYhZXZ0LmFsdEtleSlpZihldnQucHJldmVudERlZmF1bHQoKSxldnQuc3RvcFByb3BhZ2F0aW9uKCksImVudGVyIj09PWtleXx8InNwYWNlIj09PWtleSl7aWYoc2VsZi5pc0Rpc2FibGVkKHNlbGYuYWN0aXZlRGF0ZSkpcmV0dXJuOyRzY29wZS5zZWxlY3Qoc2VsZi5hY3RpdmVEYXRlKSxmb2N1c0VsZW1lbnQoKX1lbHNlIWV2dC5jdHJsS2V5fHwidXAiIT09a2V5JiYiZG93biIhPT1rZXk/KHNlbGYuaGFuZGxlS2V5RG93bihrZXksZXZ0KSxzZWxmLnJlZnJlc2hWaWV3KCkpOigkc2NvcGUudG9nZ2xlTW9kZSgidXAiPT09a2V5PzE6LTEpLGZvY3VzRWxlbWVudCgpKX19XSkuZGlyZWN0aXZlKCJkYXRlcGlja2VyIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sIixzY29wZTp7ZGF0ZXBpY2tlck1vZGU6Ij0/IixkYXRlRGlzYWJsZWQ6IiYifSxyZXF1aXJlOlsiZGF0ZXBpY2tlciIsIj9ebmdNb2RlbCJdLGNvbnRyb2xsZXI6IkRhdGVwaWNrZXJDb250cm9sbGVyIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsY3RybHMpe3ZhciBkYXRlcGlja2VyQ3RybD1jdHJsc1swXSxuZ01vZGVsQ3RybD1jdHJsc1sxXTtuZ01vZGVsQ3RybCYmZGF0ZXBpY2tlckN0cmwuaW5pdChuZ01vZGVsQ3RybCl9fX0pLmRpcmVjdGl2ZSgiZGF5cGlja2VyIixbImRhdGVGaWx0ZXIiLGZ1bmN0aW9uKGRhdGVGaWx0ZXIpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL2RhdGVwaWNrZXIvZGF5Lmh0bWwiLHJlcXVpcmU6Il5kYXRlcGlja2VyIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsY3RybCl7ZnVuY3Rpb24gZ2V0RGF5c0luTW9udGgoeWVhcixtb250aCl7cmV0dXJuIDEhPT1tb250aHx8eWVhciU0IT09MHx8eWVhciUxMDA9PT0wJiZ5ZWFyJTQwMCE9PTA/REFZU19JTl9NT05USFttb250aF06Mjl9ZnVuY3Rpb24gZ2V0RGF0ZXMoc3RhcnREYXRlLG4pe3ZhciBkYXRlcz1uZXcgQXJyYXkobiksY3VycmVudD1uZXcgRGF0ZShzdGFydERhdGUpLGk9MDtmb3IoY3VycmVudC5zZXRIb3VycygxMik7bj5pOylkYXRlc1tpKytdPW5ldyBEYXRlKGN1cnJlbnQpLGN1cnJlbnQuc2V0RGF0ZShjdXJyZW50LmdldERhdGUoKSsxKTtyZXR1cm4gZGF0ZXN9ZnVuY3Rpb24gZ2V0SVNPODYwMVdlZWtOdW1iZXIoZGF0ZSl7dmFyIGNoZWNrRGF0ZT1uZXcgRGF0ZShkYXRlKTtjaGVja0RhdGUuc2V0RGF0ZShjaGVja0RhdGUuZ2V0RGF0ZSgpKzQtKGNoZWNrRGF0ZS5nZXREYXkoKXx8NykpO3ZhciB0aW1lPWNoZWNrRGF0ZS5nZXRUaW1lKCk7cmV0dXJuIGNoZWNrRGF0ZS5zZXRNb250aCgwKSxjaGVja0RhdGUuc2V0RGF0ZSgxKSxNYXRoLmZsb29yKE1hdGgucm91bmQoKHRpbWUtY2hlY2tEYXRlKS84NjRlNSkvNykrMX1zY29wZS5zaG93V2Vla3M9Y3RybC5zaG93V2Vla3MsY3RybC5zdGVwPXttb250aHM6MX0sY3RybC5lbGVtZW50PWVsZW1lbnQ7dmFyIERBWVNfSU5fTU9OVEg9WzMxLDI4LDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXTtjdHJsLl9yZWZyZXNoVmlldz1mdW5jdGlvbigpe3ZhciB5ZWFyPWN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpLG1vbnRoPWN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpLGZpcnN0RGF5T2ZNb250aD1uZXcgRGF0ZSh5ZWFyLG1vbnRoLDEpLGRpZmZlcmVuY2U9Y3RybC5zdGFydGluZ0RheS1maXJzdERheU9mTW9udGguZ2V0RGF5KCksbnVtRGlzcGxheWVkRnJvbVByZXZpb3VzTW9udGg9ZGlmZmVyZW5jZT4wPzctZGlmZmVyZW5jZTotZGlmZmVyZW5jZSxmaXJzdERhdGU9bmV3IERhdGUoZmlyc3REYXlPZk1vbnRoKTtudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aD4wJiZmaXJzdERhdGUuc2V0RGF0ZSgtbnVtRGlzcGxheWVkRnJvbVByZXZpb3VzTW9udGgrMSk7Zm9yKHZhciBkYXlzPWdldERhdGVzKGZpcnN0RGF0ZSw0MiksaT0wOzQyPmk7aSsrKWRheXNbaV09YW5ndWxhci5leHRlbmQoY3RybC5jcmVhdGVEYXRlT2JqZWN0KGRheXNbaV0sY3RybC5mb3JtYXREYXkpLHtzZWNvbmRhcnk6ZGF5c1tpXS5nZXRNb250aCgpIT09bW9udGgsdWlkOnNjb3BlLnVuaXF1ZUlkKyItIitpfSk7c2NvcGUubGFiZWxzPW5ldyBBcnJheSg3KTtmb3IodmFyIGo9MDs3Pmo7aisrKXNjb3BlLmxhYmVsc1tqXT17YWJicjpkYXRlRmlsdGVyKGRheXNbal0uZGF0ZSxjdHJsLmZvcm1hdERheUhlYWRlciksZnVsbDpkYXRlRmlsdGVyKGRheXNbal0uZGF0ZSwiRUVFRSIpfTtpZihzY29wZS50aXRsZT1kYXRlRmlsdGVyKGN0cmwuYWN0aXZlRGF0ZSxjdHJsLmZvcm1hdERheVRpdGxlKSxzY29wZS5yb3dzPWN0cmwuc3BsaXQoZGF5cyw3KSxzY29wZS5zaG93V2Vla3Mpe3Njb3BlLndlZWtOdW1iZXJzPVtdO2Zvcih2YXIgd2Vla051bWJlcj1nZXRJU084NjAxV2Vla051bWJlcihzY29wZS5yb3dzWzBdWzBdLmRhdGUpLG51bVdlZWtzPXNjb3BlLnJvd3MubGVuZ3RoO3Njb3BlLndlZWtOdW1iZXJzLnB1c2god2Vla051bWJlcisrKTxudW1XZWVrczspO319LGN0cmwuY29tcGFyZT1mdW5jdGlvbihkYXRlMSxkYXRlMil7cmV0dXJuIG5ldyBEYXRlKGRhdGUxLmdldEZ1bGxZZWFyKCksZGF0ZTEuZ2V0TW9udGgoKSxkYXRlMS5nZXREYXRlKCkpLW5ldyBEYXRlKGRhdGUyLmdldEZ1bGxZZWFyKCksZGF0ZTIuZ2V0TW9udGgoKSxkYXRlMi5nZXREYXRlKCkpfSxjdHJsLmhhbmRsZUtleURvd249ZnVuY3Rpb24oa2V5KXt2YXIgZGF0ZT1jdHJsLmFjdGl2ZURhdGUuZ2V0RGF0ZSgpO2lmKCJsZWZ0Ij09PWtleSlkYXRlLT0xO2Vsc2UgaWYoInVwIj09PWtleSlkYXRlLT03O2Vsc2UgaWYoInJpZ2h0Ij09PWtleSlkYXRlKz0xO2Vsc2UgaWYoImRvd24iPT09a2V5KWRhdGUrPTc7ZWxzZSBpZigicGFnZXVwIj09PWtleXx8InBhZ2Vkb3duIj09PWtleSl7dmFyIG1vbnRoPWN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpKygicGFnZXVwIj09PWtleT8tMToxKTtjdHJsLmFjdGl2ZURhdGUuc2V0TW9udGgobW9udGgsMSksZGF0ZT1NYXRoLm1pbihnZXREYXlzSW5Nb250aChjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSxjdHJsLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSksZGF0ZSl9ZWxzZSJob21lIj09PWtleT9kYXRlPTE6ImVuZCI9PT1rZXkmJihkYXRlPWdldERheXNJbk1vbnRoKGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpLGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpKSk7Y3RybC5hY3RpdmVEYXRlLnNldERhdGUoZGF0ZSl9LGN0cmwucmVmcmVzaFZpZXcoKX19fV0pLmRpcmVjdGl2ZSgibW9udGhwaWNrZXIiLFsiZGF0ZUZpbHRlciIsZnVuY3Rpb24oZGF0ZUZpbHRlcil7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sIixyZXF1aXJlOiJeZGF0ZXBpY2tlciIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGN0cmwpe2N0cmwuc3RlcD17eWVhcnM6MX0sY3RybC5lbGVtZW50PWVsZW1lbnQsY3RybC5fcmVmcmVzaFZpZXc9ZnVuY3Rpb24oKXtmb3IodmFyIG1vbnRocz1uZXcgQXJyYXkoMTIpLHllYXI9Y3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksaT0wOzEyPmk7aSsrKW1vbnRoc1tpXT1hbmd1bGFyLmV4dGVuZChjdHJsLmNyZWF0ZURhdGVPYmplY3QobmV3IERhdGUoeWVhcixpLDEpLGN0cmwuZm9ybWF0TW9udGgpLHt1aWQ6c2NvcGUudW5pcXVlSWQrIi0iK2l9KTtzY29wZS50aXRsZT1kYXRlRmlsdGVyKGN0cmwuYWN0aXZlRGF0ZSxjdHJsLmZvcm1hdE1vbnRoVGl0bGUpLHNjb3BlLnJvd3M9Y3RybC5zcGxpdChtb250aHMsMyl9LGN0cmwuY29tcGFyZT1mdW5jdGlvbihkYXRlMSxkYXRlMil7cmV0dXJuIG5ldyBEYXRlKGRhdGUxLmdldEZ1bGxZZWFyKCksZGF0ZTEuZ2V0TW9udGgoKSktbmV3IERhdGUoZGF0ZTIuZ2V0RnVsbFllYXIoKSxkYXRlMi5nZXRNb250aCgpKX0sY3RybC5oYW5kbGVLZXlEb3duPWZ1bmN0aW9uKGtleSl7dmFyIGRhdGU9Y3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCk7aWYoImxlZnQiPT09a2V5KWRhdGUtPTE7ZWxzZSBpZigidXAiPT09a2V5KWRhdGUtPTM7ZWxzZSBpZigicmlnaHQiPT09a2V5KWRhdGUrPTE7ZWxzZSBpZigiZG93biI9PT1rZXkpZGF0ZSs9MztlbHNlIGlmKCJwYWdldXAiPT09a2V5fHwicGFnZWRvd24iPT09a2V5KXt2YXIgeWVhcj1jdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSsoInBhZ2V1cCI9PT1rZXk/LTE6MSk7Y3RybC5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKHllYXIpfWVsc2UiaG9tZSI9PT1rZXk/ZGF0ZT0wOiJlbmQiPT09a2V5JiYoZGF0ZT0xMSk7Y3RybC5hY3RpdmVEYXRlLnNldE1vbnRoKGRhdGUpfSxjdHJsLnJlZnJlc2hWaWV3KCl9fX1dKS5kaXJlY3RpdmUoInllYXJwaWNrZXIiLFsiZGF0ZUZpbHRlciIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbCIscmVxdWlyZToiXmRhdGVwaWNrZXIiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjdHJsKXtmdW5jdGlvbiBnZXRTdGFydGluZ1llYXIoeWVhcil7cmV0dXJuIHBhcnNlSW50KCh5ZWFyLTEpL3JhbmdlLDEwKSpyYW5nZSsxfXZhciByYW5nZT1jdHJsLnllYXJSYW5nZTtjdHJsLnN0ZXA9e3llYXJzOnJhbmdlfSxjdHJsLmVsZW1lbnQ9ZWxlbWVudCxjdHJsLl9yZWZyZXNoVmlldz1mdW5jdGlvbigpe2Zvcih2YXIgeWVhcnM9bmV3IEFycmF5KHJhbmdlKSxpPTAsc3RhcnQ9Z2V0U3RhcnRpbmdZZWFyKGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpKTtyYW5nZT5pO2krKyl5ZWFyc1tpXT1hbmd1bGFyLmV4dGVuZChjdHJsLmNyZWF0ZURhdGVPYmplY3QobmV3IERhdGUoc3RhcnQraSwwLDEpLGN0cmwuZm9ybWF0WWVhcikse3VpZDpzY29wZS51bmlxdWVJZCsiLSIraX0pO3Njb3BlLnRpdGxlPVt5ZWFyc1swXS5sYWJlbCx5ZWFyc1tyYW5nZS0xXS5sYWJlbF0uam9pbigiIC0gIiksc2NvcGUucm93cz1jdHJsLnNwbGl0KHllYXJzLDUpfSxjdHJsLmNvbXBhcmU9ZnVuY3Rpb24oZGF0ZTEsZGF0ZTIpe3JldHVybiBkYXRlMS5nZXRGdWxsWWVhcigpLWRhdGUyLmdldEZ1bGxZZWFyKCl9LGN0cmwuaGFuZGxlS2V5RG93bj1mdW5jdGlvbihrZXkpe3ZhciBkYXRlPWN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpOyJsZWZ0Ij09PWtleT9kYXRlLT0xOiJ1cCI9PT1rZXk/ZGF0ZS09NToicmlnaHQiPT09a2V5P2RhdGUrPTE6ImRvd24iPT09a2V5P2RhdGUrPTU6InBhZ2V1cCI9PT1rZXl8fCJwYWdlZG93biI9PT1rZXk/ZGF0ZSs9KCJwYWdldXAiPT09a2V5Py0xOjEpKmN0cmwuc3RlcC55ZWFyczoiaG9tZSI9PT1rZXk/ZGF0ZT1nZXRTdGFydGluZ1llYXIoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkpOiJlbmQiPT09a2V5JiYoZGF0ZT1nZXRTdGFydGluZ1llYXIoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkpK3JhbmdlLTEpLGN0cmwuYWN0aXZlRGF0ZS5zZXRGdWxsWWVhcihkYXRlKX0sY3RybC5yZWZyZXNoVmlldygpfX19XSkuY29uc3RhbnQoImRhdGVwaWNrZXJQb3B1cENvbmZpZyIse2RhdGVwaWNrZXJQb3B1cDoieXl5eS1NTS1kZCIsY3VycmVudFRleHQ6IlRvZGF5IixjbGVhclRleHQ6IkNsZWFyIixjbG9zZVRleHQ6IkRvbmUiLGNsb3NlT25EYXRlU2VsZWN0aW9uOiEwLGFwcGVuZFRvQm9keTohMSxzaG93QnV0dG9uQmFyOiEwfSkuZGlyZWN0aXZlKCJkYXRlcGlja2VyUG9wdXAiLFsiJGNvbXBpbGUiLCIkcGFyc2UiLCIkZG9jdW1lbnQiLCIkcG9zaXRpb24iLCJkYXRlRmlsdGVyIiwiZGF0ZVBhcnNlciIsImRhdGVwaWNrZXJQb3B1cENvbmZpZyIsZnVuY3Rpb24oJGNvbXBpbGUsJHBhcnNlLCRkb2N1bWVudCwkcG9zaXRpb24sZGF0ZUZpbHRlcixkYXRlUGFyc2VyLGRhdGVwaWNrZXJQb3B1cENvbmZpZyl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVxdWlyZToibmdNb2RlbCIsc2NvcGU6e2lzT3BlbjoiPT8iLGN1cnJlbnRUZXh0OiJAIixjbGVhclRleHQ6IkAiLGNsb3NlVGV4dDoiQCIsZGF0ZURpc2FibGVkOiImIn0sbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLG5nTW9kZWwpe2Z1bmN0aW9uIGNhbWVsdG9EYXNoKHN0cmluZyl7cmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oW0EtWl0pL2csZnVuY3Rpb24oJDEpe3JldHVybiItIiskMS50b0xvd2VyQ2FzZSgpfSl9ZnVuY3Rpb24gcGFyc2VEYXRlKHZpZXdWYWx1ZSl7aWYodmlld1ZhbHVlKXtpZihhbmd1bGFyLmlzRGF0ZSh2aWV3VmFsdWUpJiYhaXNOYU4odmlld1ZhbHVlKSlyZXR1cm4gbmdNb2RlbC4kc2V0VmFsaWRpdHkoImRhdGUiLCEwKSx2aWV3VmFsdWU7aWYoYW5ndWxhci5pc1N0cmluZyh2aWV3VmFsdWUpKXt2YXIgZGF0ZT1kYXRlUGFyc2VyLnBhcnNlKHZpZXdWYWx1ZSxkYXRlRm9ybWF0KXx8bmV3IERhdGUodmlld1ZhbHVlKTtyZXR1cm4gaXNOYU4oZGF0ZSk/dm9pZCBuZ01vZGVsLiRzZXRWYWxpZGl0eSgiZGF0ZSIsITEpOihuZ01vZGVsLiRzZXRWYWxpZGl0eSgiZGF0ZSIsITApLGRhdGUpfXJldHVybiB2b2lkIG5nTW9kZWwuJHNldFZhbGlkaXR5KCJkYXRlIiwhMSl9cmV0dXJuIG5nTW9kZWwuJHNldFZhbGlkaXR5KCJkYXRlIiwhMCksbnVsbH12YXIgZGF0ZUZvcm1hdCxjbG9zZU9uRGF0ZVNlbGVjdGlvbj1hbmd1bGFyLmlzRGVmaW5lZChhdHRycy5jbG9zZU9uRGF0ZVNlbGVjdGlvbik/c2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5jbG9zZU9uRGF0ZVNlbGVjdGlvbik6ZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmNsb3NlT25EYXRlU2VsZWN0aW9uLGFwcGVuZFRvQm9keT1hbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kYXRlcGlja2VyQXBwZW5kVG9Cb2R5KT9zY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmRhdGVwaWNrZXJBcHBlbmRUb0JvZHkpOmRhdGVwaWNrZXJQb3B1cENvbmZpZy5hcHBlbmRUb0JvZHk7c2NvcGUuc2hvd0J1dHRvbkJhcj1hbmd1bGFyLmlzRGVmaW5lZChhdHRycy5zaG93QnV0dG9uQmFyKT9zY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLnNob3dCdXR0b25CYXIpOmRhdGVwaWNrZXJQb3B1cENvbmZpZy5zaG93QnV0dG9uQmFyLHNjb3BlLmdldFRleHQ9ZnVuY3Rpb24oa2V5KXtyZXR1cm4gc2NvcGVba2V5KyJUZXh0Il18fGRhdGVwaWNrZXJQb3B1cENvbmZpZ1trZXkrIlRleHQiXX0sYXR0cnMuJG9ic2VydmUoImRhdGVwaWNrZXJQb3B1cCIsZnVuY3Rpb24odmFsdWUpe2RhdGVGb3JtYXQ9dmFsdWV8fGRhdGVwaWNrZXJQb3B1cENvbmZpZy5kYXRlcGlja2VyUG9wdXAsbmdNb2RlbC4kcmVuZGVyKCl9KTt2YXIgcG9wdXBFbD1hbmd1bGFyLmVsZW1lbnQoIjxkaXYgZGF0ZXBpY2tlci1wb3B1cC13cmFwPjxkaXYgZGF0ZXBpY2tlcj48L2Rpdj48L2Rpdj4iKTtwb3B1cEVsLmF0dHIoeyJuZy1tb2RlbCI6ImRhdGUiLCJuZy1jaGFuZ2UiOiJkYXRlU2VsZWN0aW9uKCkifSk7dmFyIGRhdGVwaWNrZXJFbD1hbmd1bGFyLmVsZW1lbnQocG9wdXBFbC5jaGlsZHJlbigpWzBdKTthdHRycy5kYXRlcGlja2VyT3B0aW9ucyYmYW5ndWxhci5mb3JFYWNoKHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuZGF0ZXBpY2tlck9wdGlvbnMpLGZ1bmN0aW9uKHZhbHVlLG9wdGlvbil7ZGF0ZXBpY2tlckVsLmF0dHIoY2FtZWx0b0Rhc2gob3B0aW9uKSx2YWx1ZSl9KSxzY29wZS53YXRjaERhdGE9e30sYW5ndWxhci5mb3JFYWNoKFsibWluRGF0ZSIsIm1heERhdGUiLCJkYXRlcGlja2VyTW9kZSJdLGZ1bmN0aW9uKGtleSl7aWYoYXR0cnNba2V5XSl7dmFyIGdldEF0dHJpYnV0ZT0kcGFyc2UoYXR0cnNba2V5XSk7aWYoc2NvcGUuJHBhcmVudC4kd2F0Y2goZ2V0QXR0cmlidXRlLGZ1bmN0aW9uKHZhbHVlKXtzY29wZS53YXRjaERhdGFba2V5XT12YWx1ZX0pLGRhdGVwaWNrZXJFbC5hdHRyKGNhbWVsdG9EYXNoKGtleSksIndhdGNoRGF0YS4iK2tleSksImRhdGVwaWNrZXJNb2RlIj09PWtleSl7dmFyIHNldEF0dHJpYnV0ZT1nZXRBdHRyaWJ1dGUuYXNzaWduO3Njb3BlLiR3YXRjaCgid2F0Y2hEYXRhLiIra2V5LGZ1bmN0aW9uKHZhbHVlLG9sZHZhbHVlKXt2YWx1ZSE9PW9sZHZhbHVlJiZzZXRBdHRyaWJ1dGUoc2NvcGUuJHBhcmVudCx2YWx1ZSl9KX19fSksYXR0cnMuZGF0ZURpc2FibGVkJiZkYXRlcGlja2VyRWwuYXR0cigiZGF0ZS1kaXNhYmxlZCIsImRhdGVEaXNhYmxlZCh7IGRhdGU6IGRhdGUsIG1vZGU6IG1vZGUgfSkiKSxuZ01vZGVsLiRwYXJzZXJzLnVuc2hpZnQocGFyc2VEYXRlKSxzY29wZS5kYXRlU2VsZWN0aW9uPWZ1bmN0aW9uKGR0KXthbmd1bGFyLmlzRGVmaW5lZChkdCkmJihzY29wZS5kYXRlPWR0KSxuZ01vZGVsLiRzZXRWaWV3VmFsdWUoc2NvcGUuZGF0ZSksbmdNb2RlbC4kcmVuZGVyKCksY2xvc2VPbkRhdGVTZWxlY3Rpb24mJihzY29wZS5pc09wZW49ITEsZWxlbWVudFswXS5mb2N1cygpKX0sZWxlbWVudC5iaW5kKCJpbnB1dCBjaGFuZ2Uga2V5dXAiLGZ1bmN0aW9uKCl7c2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7c2NvcGUuZGF0ZT1uZ01vZGVsLiRtb2RlbFZhbHVlfSl9KSxuZ01vZGVsLiRyZW5kZXI9ZnVuY3Rpb24oKXt2YXIgZGF0ZT1uZ01vZGVsLiR2aWV3VmFsdWU/ZGF0ZUZpbHRlcihuZ01vZGVsLiR2aWV3VmFsdWUsZGF0ZUZvcm1hdCk6IiI7ZWxlbWVudC52YWwoZGF0ZSksc2NvcGUuZGF0ZT1wYXJzZURhdGUobmdNb2RlbC4kbW9kZWxWYWx1ZSl9O3ZhciBkb2N1bWVudENsaWNrQmluZD1mdW5jdGlvbihldmVudCl7c2NvcGUuaXNPcGVuJiZldmVudC50YXJnZXQhPT1lbGVtZW50WzBdJiZzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtzY29wZS5pc09wZW49ITF9KX0sa2V5ZG93bj1mdW5jdGlvbihldnQpe3Njb3BlLmtleWRvd24oZXZ0KX07ZWxlbWVudC5iaW5kKCJrZXlkb3duIixrZXlkb3duKSxzY29wZS5rZXlkb3duPWZ1bmN0aW9uKGV2dCl7Mjc9PT1ldnQud2hpY2g/KGV2dC5wcmV2ZW50RGVmYXVsdCgpLGV2dC5zdG9wUHJvcGFnYXRpb24oKSxzY29wZS5jbG9zZSgpKTo0MCE9PWV2dC53aGljaHx8c2NvcGUuaXNPcGVufHwoc2NvcGUuaXNPcGVuPSEwKX0sc2NvcGUuJHdhdGNoKCJpc09wZW4iLGZ1bmN0aW9uKHZhbHVlKXt2YWx1ZT8oc2NvcGUuJGJyb2FkY2FzdCgiZGF0ZXBpY2tlci5mb2N1cyIpLHNjb3BlLnBvc2l0aW9uPWFwcGVuZFRvQm9keT8kcG9zaXRpb24ub2Zmc2V0KGVsZW1lbnQpOiRwb3NpdGlvbi5wb3NpdGlvbihlbGVtZW50KSxzY29wZS5wb3NpdGlvbi50b3A9c2NvcGUucG9zaXRpb24udG9wK2VsZW1lbnQucHJvcCgib2Zmc2V0SGVpZ2h0IiksJGRvY3VtZW50LmJpbmQoImNsaWNrIixkb2N1bWVudENsaWNrQmluZCkpOiRkb2N1bWVudC51bmJpbmQoImNsaWNrIixkb2N1bWVudENsaWNrQmluZCl9KSxzY29wZS5zZWxlY3Q9ZnVuY3Rpb24oZGF0ZSl7aWYoInRvZGF5Ij09PWRhdGUpe3ZhciB0b2RheT1uZXcgRGF0ZTthbmd1bGFyLmlzRGF0ZShuZ01vZGVsLiRtb2RlbFZhbHVlKT8oZGF0ZT1uZXcgRGF0ZShuZ01vZGVsLiRtb2RlbFZhbHVlKSxkYXRlLnNldEZ1bGxZZWFyKHRvZGF5LmdldEZ1bGxZZWFyKCksdG9kYXkuZ2V0TW9udGgoKSx0b2RheS5nZXREYXRlKCkpKTpkYXRlPW5ldyBEYXRlKHRvZGF5LnNldEhvdXJzKDAsMCwwLDApKX1zY29wZS5kYXRlU2VsZWN0aW9uKGRhdGUpfSxzY29wZS5jbG9zZT1mdW5jdGlvbigpe3Njb3BlLmlzT3Blbj0hMSxlbGVtZW50WzBdLmZvY3VzKCl9O3ZhciAkcG9wdXA9JGNvbXBpbGUocG9wdXBFbCkoc2NvcGUpO3BvcHVwRWwucmVtb3ZlKCksYXBwZW5kVG9Cb2R5PyRkb2N1bWVudC5maW5kKCJib2R5IikuYXBwZW5kKCRwb3B1cCk6ZWxlbWVudC5hZnRlcigkcG9wdXApLHNjb3BlLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7JHBvcHVwLnJlbW92ZSgpLGVsZW1lbnQudW5iaW5kKCJrZXlkb3duIixrZXlkb3duKSwkZG9jdW1lbnQudW5iaW5kKCJjbGljayIsZG9jdW1lbnRDbGlja0JpbmQpfSl9fX1dKS5kaXJlY3RpdmUoImRhdGVwaWNrZXJQb3B1cFdyYXAiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0cmFuc2NsdWRlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWwiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCl7ZWxlbWVudC5iaW5kKCJjbGljayIsZnVuY3Rpb24oZXZlbnQpe2V2ZW50LnByZXZlbnREZWZhdWx0KCksZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCl9KX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5kcm9wZG93biIsW10pLmNvbnN0YW50KCJkcm9wZG93bkNvbmZpZyIse29wZW5DbGFzczoib3BlbiJ9KS5zZXJ2aWNlKCJkcm9wZG93blNlcnZpY2UiLFsiJGRvY3VtZW50IixmdW5jdGlvbigkZG9jdW1lbnQpe3ZhciBvcGVuU2NvcGU9bnVsbDt0aGlzLm9wZW49ZnVuY3Rpb24oZHJvcGRvd25TY29wZSl7b3BlblNjb3BlfHwoJGRvY3VtZW50LmJpbmQoImNsaWNrIixjbG9zZURyb3Bkb3duKSwkZG9jdW1lbnQuYmluZCgia2V5ZG93biIsZXNjYXBlS2V5QmluZCkpLG9wZW5TY29wZSYmb3BlblNjb3BlIT09ZHJvcGRvd25TY29wZSYmKG9wZW5TY29wZS5pc09wZW49ITEpLG9wZW5TY29wZT1kcm9wZG93blNjb3BlfSx0aGlzLmNsb3NlPWZ1bmN0aW9uKGRyb3Bkb3duU2NvcGUpe29wZW5TY29wZT09PWRyb3Bkb3duU2NvcGUmJihvcGVuU2NvcGU9bnVsbCwkZG9jdW1lbnQudW5iaW5kKCJjbGljayIsY2xvc2VEcm9wZG93biksJGRvY3VtZW50LnVuYmluZCgia2V5ZG93biIsZXNjYXBlS2V5QmluZCkpfTt2YXIgY2xvc2VEcm9wZG93bj1mdW5jdGlvbihldnQpe3ZhciB0b2dnbGVFbGVtZW50PW9wZW5TY29wZS5nZXRUb2dnbGVFbGVtZW50KCk7ZXZ0JiZ0b2dnbGVFbGVtZW50JiZ0b2dnbGVFbGVtZW50WzBdLmNvbnRhaW5zKGV2dC50YXJnZXQpfHxvcGVuU2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7b3BlblNjb3BlLmlzT3Blbj0hMX0pfSxlc2NhcGVLZXlCaW5kPWZ1bmN0aW9uKGV2dCl7Mjc9PT1ldnQud2hpY2gmJihvcGVuU2NvcGUuZm9jdXNUb2dnbGVFbGVtZW50KCksY2xvc2VEcm9wZG93bigpKX19XSkuY29udHJvbGxlcigiRHJvcGRvd25Db250cm9sbGVyIixbIiRzY29wZSIsIiRhdHRycyIsIiRwYXJzZSIsImRyb3Bkb3duQ29uZmlnIiwiZHJvcGRvd25TZXJ2aWNlIiwiJGFuaW1hdGUiLGZ1bmN0aW9uKCRzY29wZSwkYXR0cnMsJHBhcnNlLGRyb3Bkb3duQ29uZmlnLGRyb3Bkb3duU2VydmljZSwkYW5pbWF0ZSl7dmFyIGdldElzT3BlbixzZWxmPXRoaXMsc2NvcGU9JHNjb3BlLiRuZXcoKSxvcGVuQ2xhc3M9ZHJvcGRvd25Db25maWcub3BlbkNsYXNzLHNldElzT3Blbj1hbmd1bGFyLm5vb3AsdG9nZ2xlSW52b2tlcj0kYXR0cnMub25Ub2dnbGU/JHBhcnNlKCRhdHRycy5vblRvZ2dsZSk6YW5ndWxhci5ub29wO3RoaXMuaW5pdD1mdW5jdGlvbihlbGVtZW50KXtzZWxmLiRlbGVtZW50PWVsZW1lbnQsJGF0dHJzLmlzT3BlbiYmKGdldElzT3Blbj0kcGFyc2UoJGF0dHJzLmlzT3Blbiksc2V0SXNPcGVuPWdldElzT3Blbi5hc3NpZ24sJHNjb3BlLiR3YXRjaChnZXRJc09wZW4sZnVuY3Rpb24odmFsdWUpe3Njb3BlLmlzT3Blbj0hIXZhbHVlfSkpfSx0aGlzLnRvZ2dsZT1mdW5jdGlvbihvcGVuKXtyZXR1cm4gc2NvcGUuaXNPcGVuPWFyZ3VtZW50cy5sZW5ndGg/ISFvcGVuOiFzY29wZS5pc09wZW59LHRoaXMuaXNPcGVuPWZ1bmN0aW9uKCl7cmV0dXJuIHNjb3BlLmlzT3Blbn0sc2NvcGUuZ2V0VG9nZ2xlRWxlbWVudD1mdW5jdGlvbigpe3JldHVybiBzZWxmLnRvZ2dsZUVsZW1lbnR9LHNjb3BlLmZvY3VzVG9nZ2xlRWxlbWVudD1mdW5jdGlvbigpe3NlbGYudG9nZ2xlRWxlbWVudCYmc2VsZi50b2dnbGVFbGVtZW50WzBdLmZvY3VzKCl9LHNjb3BlLiR3YXRjaCgiaXNPcGVuIixmdW5jdGlvbihpc09wZW4sd2FzT3Blbil7JGFuaW1hdGVbaXNPcGVuPyJhZGRDbGFzcyI6InJlbW92ZUNsYXNzIl0oc2VsZi4kZWxlbWVudCxvcGVuQ2xhc3MpLGlzT3Blbj8oc2NvcGUuZm9jdXNUb2dnbGVFbGVtZW50KCksZHJvcGRvd25TZXJ2aWNlLm9wZW4oc2NvcGUpKTpkcm9wZG93blNlcnZpY2UuY2xvc2Uoc2NvcGUpLHNldElzT3Blbigkc2NvcGUsaXNPcGVuKSxhbmd1bGFyLmlzRGVmaW5lZChpc09wZW4pJiZpc09wZW4hPT13YXNPcGVuJiZ0b2dnbGVJbnZva2VyKCRzY29wZSx7b3BlbjohIWlzT3Blbn0pfSksJHNjb3BlLiRvbigiJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcyIsZnVuY3Rpb24oKXtzY29wZS5pc09wZW49ITF9KSwkc2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtzY29wZS4kZGVzdHJveSgpfSl9XSkuZGlyZWN0aXZlKCJkcm9wZG93biIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkNBIixjb250cm9sbGVyOiJEcm9wZG93bkNvbnRyb2xsZXIiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxkcm9wZG93bkN0cmwpe2Ryb3Bkb3duQ3RybC5pbml0KGVsZW1lbnQpfX19KS5kaXJlY3RpdmUoImRyb3Bkb3duVG9nZ2xlIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiQ0EiLHJlcXVpcmU6Ij9eZHJvcGRvd24iLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxkcm9wZG93bkN0cmwpe2lmKGRyb3Bkb3duQ3RybCl7ZHJvcGRvd25DdHJsLnRvZ2dsZUVsZW1lbnQ9ZWxlbWVudDt2YXIgdG9nZ2xlRHJvcGRvd249ZnVuY3Rpb24oZXZlbnQpe2V2ZW50LnByZXZlbnREZWZhdWx0KCksZWxlbWVudC5oYXNDbGFzcygiZGlzYWJsZWQiKXx8YXR0cnMuZGlzYWJsZWR8fHNjb3BlLiRhcHBseShmdW5jdGlvbigpe2Ryb3Bkb3duQ3RybC50b2dnbGUoKX0pfTtlbGVtZW50LmJpbmQoImNsaWNrIix0b2dnbGVEcm9wZG93biksZWxlbWVudC5hdHRyKHsiYXJpYS1oYXNwb3B1cCI6ITAsImFyaWEtZXhwYW5kZWQiOiExfSksc2NvcGUuJHdhdGNoKGRyb3Bkb3duQ3RybC5pc09wZW4sZnVuY3Rpb24oaXNPcGVuKXtlbGVtZW50LmF0dHIoImFyaWEtZXhwYW5kZWQiLCEhaXNPcGVuKX0pLHNjb3BlLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7ZWxlbWVudC51bmJpbmQoImNsaWNrIix0b2dnbGVEcm9wZG93bil9KX19fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAubW9kYWwiLFsidWkuYm9vdHN0cmFwLnRyYW5zaXRpb24iXSkuZmFjdG9yeSgiJCRzdGFja2VkTWFwIixmdW5jdGlvbigpe3JldHVybntjcmVhdGVOZXc6ZnVuY3Rpb24oKXt2YXIgc3RhY2s9W107cmV0dXJue2FkZDpmdW5jdGlvbihrZXksdmFsdWUpe3N0YWNrLnB1c2goe2tleTprZXksdmFsdWU6dmFsdWV9KX0sZ2V0OmZ1bmN0aW9uKGtleSl7Zm9yKHZhciBpPTA7aTxzdGFjay5sZW5ndGg7aSsrKWlmKGtleT09c3RhY2tbaV0ua2V5KXJldHVybiBzdGFja1tpXX0sa2V5czpmdW5jdGlvbigpe2Zvcih2YXIga2V5cz1bXSxpPTA7aTxzdGFjay5sZW5ndGg7aSsrKWtleXMucHVzaChzdGFja1tpXS5rZXkpO3JldHVybiBrZXlzfSx0b3A6ZnVuY3Rpb24oKXtyZXR1cm4gc3RhY2tbc3RhY2subGVuZ3RoLTFdfSxyZW1vdmU6ZnVuY3Rpb24oa2V5KXtmb3IodmFyIGlkeD0tMSxpPTA7aTxzdGFjay5sZW5ndGg7aSsrKWlmKGtleT09c3RhY2tbaV0ua2V5KXtpZHg9aTticmVha31yZXR1cm4gc3RhY2suc3BsaWNlKGlkeCwxKVswXX0scmVtb3ZlVG9wOmZ1bmN0aW9uKCl7cmV0dXJuIHN0YWNrLnNwbGljZShzdGFjay5sZW5ndGgtMSwxKVswXX0sbGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIHN0YWNrLmxlbmd0aH19fX19KS5kaXJlY3RpdmUoIm1vZGFsQmFja2Ryb3AiLFsiJHRpbWVvdXQiLGZ1bmN0aW9uKCR0aW1lb3V0KXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMpe3Njb3BlLmJhY2tkcm9wQ2xhc3M9YXR0cnMuYmFja2Ryb3BDbGFzc3x8IiIsc2NvcGUuYW5pbWF0ZT0hMSwkdGltZW91dChmdW5jdGlvbigpe3Njb3BlLmFuaW1hdGU9ITB9KX19fV0pLmRpcmVjdGl2ZSgibW9kYWxXaW5kb3ciLFsiJG1vZGFsU3RhY2siLCIkdGltZW91dCIsZnVuY3Rpb24oJG1vZGFsU3RhY2ssJHRpbWVvdXQpe3JldHVybntyZXN0cmljdDoiRUEiLHNjb3BlOntpbmRleDoiQCIsYW5pbWF0ZToiPSJ9LHJlcGxhY2U6ITAsdHJhbnNjbHVkZTohMCx0ZW1wbGF0ZVVybDpmdW5jdGlvbih0RWxlbWVudCx0QXR0cnMpe3JldHVybiB0QXR0cnMudGVtcGxhdGVVcmx8fCJ0ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbCJ9LGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyl7ZWxlbWVudC5hZGRDbGFzcyhhdHRycy53aW5kb3dDbGFzc3x8IiIpLHNjb3BlLnNpemU9YXR0cnMuc2l6ZSwkdGltZW91dChmdW5jdGlvbigpe3Njb3BlLmFuaW1hdGU9ITAsZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yQWxsKCJbYXV0b2ZvY3VzXSIpLmxlbmd0aHx8ZWxlbWVudFswXS5mb2N1cygpfSksc2NvcGUuY2xvc2U9ZnVuY3Rpb24oZXZ0KXt2YXIgbW9kYWw9JG1vZGFsU3RhY2suZ2V0VG9wKCk7bW9kYWwmJm1vZGFsLnZhbHVlLmJhY2tkcm9wJiYic3RhdGljIiE9bW9kYWwudmFsdWUuYmFja2Ryb3AmJmV2dC50YXJnZXQ9PT1ldnQuY3VycmVudFRhcmdldCYmKGV2dC5wcmV2ZW50RGVmYXVsdCgpLGV2dC5zdG9wUHJvcGFnYXRpb24oKSwkbW9kYWxTdGFjay5kaXNtaXNzKG1vZGFsLmtleSwiYmFja2Ryb3AgY2xpY2siKSl9fX19XSkuZGlyZWN0aXZlKCJtb2RhbFRyYW5zY2x1ZGUiLGZ1bmN0aW9uKCl7cmV0dXJue2xpbms6ZnVuY3Rpb24oJHNjb3BlLCRlbGVtZW50LCRhdHRycyxjb250cm9sbGVyLCR0cmFuc2NsdWRlKXskdHJhbnNjbHVkZSgkc2NvcGUuJHBhcmVudCxmdW5jdGlvbihjbG9uZSl7JGVsZW1lbnQuZW1wdHkoKSwkZWxlbWVudC5hcHBlbmQoY2xvbmUpfSl9fX0pLmZhY3RvcnkoIiRtb2RhbFN0YWNrIixbIiR0cmFuc2l0aW9uIiwiJHRpbWVvdXQiLCIkZG9jdW1lbnQiLCIkY29tcGlsZSIsIiRyb290U2NvcGUiLCIkJHN0YWNrZWRNYXAiLGZ1bmN0aW9uKCR0cmFuc2l0aW9uLCR0aW1lb3V0LCRkb2N1bWVudCwkY29tcGlsZSwkcm9vdFNjb3BlLCQkc3RhY2tlZE1hcCl7ZnVuY3Rpb24gYmFja2Ryb3BJbmRleCgpe2Zvcih2YXIgdG9wQmFja2Ryb3BJbmRleD0tMSxvcGVuZWQ9b3BlbmVkV2luZG93cy5rZXlzKCksaT0wO2k8b3BlbmVkLmxlbmd0aDtpKyspb3BlbmVkV2luZG93cy5nZXQob3BlbmVkW2ldKS52YWx1ZS5iYWNrZHJvcCYmKHRvcEJhY2tkcm9wSW5kZXg9aSk7cmV0dXJuIHRvcEJhY2tkcm9wSW5kZXh9ZnVuY3Rpb24gcmVtb3ZlTW9kYWxXaW5kb3cobW9kYWxJbnN0YW5jZSl7dmFyIGJvZHk9JGRvY3VtZW50LmZpbmQoImJvZHkiKS5lcSgwKSxtb2RhbFdpbmRvdz1vcGVuZWRXaW5kb3dzLmdldChtb2RhbEluc3RhbmNlKS52YWx1ZTtvcGVuZWRXaW5kb3dzLnJlbW92ZShtb2RhbEluc3RhbmNlKSxyZW1vdmVBZnRlckFuaW1hdGUobW9kYWxXaW5kb3cubW9kYWxEb21FbCxtb2RhbFdpbmRvdy5tb2RhbFNjb3BlLDMwMCxmdW5jdGlvbigpe21vZGFsV2luZG93Lm1vZGFsU2NvcGUuJGRlc3Ryb3koKSxib2R5LnRvZ2dsZUNsYXNzKE9QRU5FRF9NT0RBTF9DTEFTUyxvcGVuZWRXaW5kb3dzLmxlbmd0aCgpPjApLGNoZWNrUmVtb3ZlQmFja2Ryb3AoKX0pfWZ1bmN0aW9uIGNoZWNrUmVtb3ZlQmFja2Ryb3AoKXtpZihiYWNrZHJvcERvbUVsJiYtMT09YmFja2Ryb3BJbmRleCgpKXt2YXIgYmFja2Ryb3BTY29wZVJlZj1iYWNrZHJvcFNjb3BlO3JlbW92ZUFmdGVyQW5pbWF0ZShiYWNrZHJvcERvbUVsLGJhY2tkcm9wU2NvcGUsMTUwLGZ1bmN0aW9uKCl7YmFja2Ryb3BTY29wZVJlZi4kZGVzdHJveSgpLGJhY2tkcm9wU2NvcGVSZWY9bnVsbH0pLGJhY2tkcm9wRG9tRWw9dm9pZCAwLGJhY2tkcm9wU2NvcGU9dm9pZCAwfX1mdW5jdGlvbiByZW1vdmVBZnRlckFuaW1hdGUoZG9tRWwsc2NvcGUsZW11bGF0ZVRpbWUsZG9uZSl7ZnVuY3Rpb24gYWZ0ZXJBbmltYXRpbmcoKXthZnRlckFuaW1hdGluZy5kb25lfHwoYWZ0ZXJBbmltYXRpbmcuZG9uZT0hMCxkb21FbC5yZW1vdmUoKSxkb25lJiZkb25lKCkpfXNjb3BlLmFuaW1hdGU9ITE7dmFyIHRyYW5zaXRpb25FbmRFdmVudE5hbWU9JHRyYW5zaXRpb24udHJhbnNpdGlvbkVuZEV2ZW50TmFtZTtpZih0cmFuc2l0aW9uRW5kRXZlbnROYW1lKXt2YXIgdGltZW91dD0kdGltZW91dChhZnRlckFuaW1hdGluZyxlbXVsYXRlVGltZSk7ZG9tRWwuYmluZCh0cmFuc2l0aW9uRW5kRXZlbnROYW1lLGZ1bmN0aW9uKCl7JHRpbWVvdXQuY2FuY2VsKHRpbWVvdXQpLGFmdGVyQW5pbWF0aW5nKCksc2NvcGUuJGFwcGx5KCl9KX1lbHNlICR0aW1lb3V0KGFmdGVyQW5pbWF0aW5nKX12YXIgYmFja2Ryb3BEb21FbCxiYWNrZHJvcFNjb3BlLE9QRU5FRF9NT0RBTF9DTEFTUz0ibW9kYWwtb3BlbiIsb3BlbmVkV2luZG93cz0kJHN0YWNrZWRNYXAuY3JlYXRlTmV3KCksJG1vZGFsU3RhY2s9e307cmV0dXJuICRyb290U2NvcGUuJHdhdGNoKGJhY2tkcm9wSW5kZXgsZnVuY3Rpb24obmV3QmFja2Ryb3BJbmRleCl7YmFja2Ryb3BTY29wZSYmKGJhY2tkcm9wU2NvcGUuaW5kZXg9bmV3QmFja2Ryb3BJbmRleCl9KSwkZG9jdW1lbnQuYmluZCgia2V5ZG93biIsZnVuY3Rpb24oZXZ0KXt2YXIgbW9kYWw7Mjc9PT1ldnQud2hpY2gmJihtb2RhbD1vcGVuZWRXaW5kb3dzLnRvcCgpLG1vZGFsJiZtb2RhbC52YWx1ZS5rZXlib2FyZCYmKGV2dC5wcmV2ZW50RGVmYXVsdCgpLCRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7JG1vZGFsU3RhY2suZGlzbWlzcyhtb2RhbC5rZXksImVzY2FwZSBrZXkgcHJlc3MiKX0pKSl9KSwkbW9kYWxTdGFjay5vcGVuPWZ1bmN0aW9uKG1vZGFsSW5zdGFuY2UsbW9kYWwpe29wZW5lZFdpbmRvd3MuYWRkKG1vZGFsSW5zdGFuY2Use2RlZmVycmVkOm1vZGFsLmRlZmVycmVkLG1vZGFsU2NvcGU6bW9kYWwuc2NvcGUsYmFja2Ryb3A6bW9kYWwuYmFja2Ryb3Asa2V5Ym9hcmQ6bW9kYWwua2V5Ym9hcmR9KTt2YXIgYm9keT0kZG9jdW1lbnQuZmluZCgiYm9keSIpLmVxKDApLGN1cnJCYWNrZHJvcEluZGV4PWJhY2tkcm9wSW5kZXgoKTtpZihjdXJyQmFja2Ryb3BJbmRleD49MCYmIWJhY2tkcm9wRG9tRWwpe2JhY2tkcm9wU2NvcGU9JHJvb3RTY29wZS4kbmV3KCEwKSxiYWNrZHJvcFNjb3BlLmluZGV4PWN1cnJCYWNrZHJvcEluZGV4O3ZhciBhbmd1bGFyQmFja2dyb3VuZERvbUVsPWFuZ3VsYXIuZWxlbWVudCgiPGRpdiBtb2RhbC1iYWNrZHJvcD48L2Rpdj4iKTthbmd1bGFyQmFja2dyb3VuZERvbUVsLmF0dHIoImJhY2tkcm9wLWNsYXNzIixtb2RhbC5iYWNrZHJvcENsYXNzKSxiYWNrZHJvcERvbUVsPSRjb21waWxlKGFuZ3VsYXJCYWNrZ3JvdW5kRG9tRWwpKGJhY2tkcm9wU2NvcGUpLGJvZHkuYXBwZW5kKGJhY2tkcm9wRG9tRWwpfXZhciBhbmd1bGFyRG9tRWw9YW5ndWxhci5lbGVtZW50KCI8ZGl2IG1vZGFsLXdpbmRvdz48L2Rpdj4iKTthbmd1bGFyRG9tRWwuYXR0cih7InRlbXBsYXRlLXVybCI6bW9kYWwud2luZG93VGVtcGxhdGVVcmwsIndpbmRvdy1jbGFzcyI6bW9kYWwud2luZG93Q2xhc3Msc2l6ZTptb2RhbC5zaXplLGluZGV4Om9wZW5lZFdpbmRvd3MubGVuZ3RoKCktMSxhbmltYXRlOiJhbmltYXRlIn0pLmh0bWwobW9kYWwuY29udGVudCk7dmFyIG1vZGFsRG9tRWw9JGNvbXBpbGUoYW5ndWxhckRvbUVsKShtb2RhbC5zY29wZSk7b3BlbmVkV2luZG93cy50b3AoKS52YWx1ZS5tb2RhbERvbUVsPW1vZGFsRG9tRWwsYm9keS5hcHBlbmQobW9kYWxEb21FbCksYm9keS5hZGRDbGFzcyhPUEVORURfTU9EQUxfQ0xBU1MpfSwkbW9kYWxTdGFjay5jbG9zZT1mdW5jdGlvbihtb2RhbEluc3RhbmNlLHJlc3VsdCl7dmFyIG1vZGFsV2luZG93PW9wZW5lZFdpbmRvd3MuZ2V0KG1vZGFsSW5zdGFuY2UpO21vZGFsV2luZG93JiYobW9kYWxXaW5kb3cudmFsdWUuZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpLHJlbW92ZU1vZGFsV2luZG93KG1vZGFsSW5zdGFuY2UpKX0sJG1vZGFsU3RhY2suZGlzbWlzcz1mdW5jdGlvbihtb2RhbEluc3RhbmNlLHJlYXNvbil7dmFyIG1vZGFsV2luZG93PW9wZW5lZFdpbmRvd3MuZ2V0KG1vZGFsSW5zdGFuY2UpO21vZGFsV2luZG93JiYobW9kYWxXaW5kb3cudmFsdWUuZGVmZXJyZWQucmVqZWN0KHJlYXNvbikscmVtb3ZlTW9kYWxXaW5kb3cobW9kYWxJbnN0YW5jZSkpfSwkbW9kYWxTdGFjay5kaXNtaXNzQWxsPWZ1bmN0aW9uKHJlYXNvbil7Zm9yKHZhciB0b3BNb2RhbD10aGlzLmdldFRvcCgpO3RvcE1vZGFsOyl0aGlzLmRpc21pc3ModG9wTW9kYWwua2V5LHJlYXNvbiksdG9wTW9kYWw9dGhpcy5nZXRUb3AoKX0sJG1vZGFsU3RhY2suZ2V0VG9wPWZ1bmN0aW9uKCl7cmV0dXJuIG9wZW5lZFdpbmRvd3MudG9wKCl9LCRtb2RhbFN0YWNrfV0pLnByb3ZpZGVyKCIkbW9kYWwiLGZ1bmN0aW9uKCl7dmFyICRtb2RhbFByb3ZpZGVyPXtvcHRpb25zOntiYWNrZHJvcDohMCxrZXlib2FyZDohMH0sJGdldDpbIiRpbmplY3RvciIsIiRyb290U2NvcGUiLCIkcSIsIiRodHRwIiwiJHRlbXBsYXRlQ2FjaGUiLCIkY29udHJvbGxlciIsIiRtb2RhbFN0YWNrIixmdW5jdGlvbigkaW5qZWN0b3IsJHJvb3RTY29wZSwkcSwkaHR0cCwkdGVtcGxhdGVDYWNoZSwkY29udHJvbGxlciwkbW9kYWxTdGFjayl7ZnVuY3Rpb24gZ2V0VGVtcGxhdGVQcm9taXNlKG9wdGlvbnMpe3JldHVybiBvcHRpb25zLnRlbXBsYXRlPyRxLndoZW4ob3B0aW9ucy50ZW1wbGF0ZSk6JGh0dHAuZ2V0KGFuZ3VsYXIuaXNGdW5jdGlvbihvcHRpb25zLnRlbXBsYXRlVXJsKT9vcHRpb25zLnRlbXBsYXRlVXJsKCk6b3B0aW9ucy50ZW1wbGF0ZVVybCx7Y2FjaGU6JHRlbXBsYXRlQ2FjaGV9KS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7cmV0dXJuIHJlc3VsdC5kYXRhfSl9ZnVuY3Rpb24gZ2V0UmVzb2x2ZVByb21pc2VzKHJlc29sdmVzKXt2YXIgcHJvbWlzZXNBcnI9W107cmV0dXJuIGFuZ3VsYXIuZm9yRWFjaChyZXNvbHZlcyxmdW5jdGlvbih2YWx1ZSl7KGFuZ3VsYXIuaXNGdW5jdGlvbih2YWx1ZSl8fGFuZ3VsYXIuaXNBcnJheSh2YWx1ZSkpJiZwcm9taXNlc0Fyci5wdXNoKCRxLndoZW4oJGluamVjdG9yLmludm9rZSh2YWx1ZSkpKX0pLHByb21pc2VzQXJyfXZhciAkbW9kYWw9e307cmV0dXJuICRtb2RhbC5vcGVuPWZ1bmN0aW9uKG1vZGFsT3B0aW9ucyl7dmFyIG1vZGFsUmVzdWx0RGVmZXJyZWQ9JHEuZGVmZXIoKSxtb2RhbE9wZW5lZERlZmVycmVkPSRxLmRlZmVyKCksbW9kYWxJbnN0YW5jZT17cmVzdWx0Om1vZGFsUmVzdWx0RGVmZXJyZWQucHJvbWlzZSxvcGVuZWQ6bW9kYWxPcGVuZWREZWZlcnJlZC5wcm9taXNlLGNsb3NlOmZ1bmN0aW9uKHJlc3VsdCl7JG1vZGFsU3RhY2suY2xvc2UobW9kYWxJbnN0YW5jZSxyZXN1bHQpfSxkaXNtaXNzOmZ1bmN0aW9uKHJlYXNvbil7JG1vZGFsU3RhY2suZGlzbWlzcyhtb2RhbEluc3RhbmNlLHJlYXNvbil9fTtpZihtb2RhbE9wdGlvbnM9YW5ndWxhci5leHRlbmQoe30sJG1vZGFsUHJvdmlkZXIub3B0aW9ucyxtb2RhbE9wdGlvbnMpLG1vZGFsT3B0aW9ucy5yZXNvbHZlPW1vZGFsT3B0aW9ucy5yZXNvbHZlfHx7fSwhbW9kYWxPcHRpb25zLnRlbXBsYXRlJiYhbW9kYWxPcHRpb25zLnRlbXBsYXRlVXJsKXRocm93IG5ldyBFcnJvcigiT25lIG9mIHRlbXBsYXRlIG9yIHRlbXBsYXRlVXJsIG9wdGlvbnMgaXMgcmVxdWlyZWQuIik7dmFyIHRlbXBsYXRlQW5kUmVzb2x2ZVByb21pc2U9JHEuYWxsKFtnZXRUZW1wbGF0ZVByb21pc2UobW9kYWxPcHRpb25zKV0uY29uY2F0KGdldFJlc29sdmVQcm9taXNlcyhtb2RhbE9wdGlvbnMucmVzb2x2ZSkpKTtyZXR1cm4gdGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZS50aGVuKGZ1bmN0aW9uKHRwbEFuZFZhcnMpe3ZhciBtb2RhbFNjb3BlPShtb2RhbE9wdGlvbnMuc2NvcGV8fCRyb290U2NvcGUpLiRuZXcoKTttb2RhbFNjb3BlLiRjbG9zZT1tb2RhbEluc3RhbmNlLmNsb3NlLG1vZGFsU2NvcGUuJGRpc21pc3M9bW9kYWxJbnN0YW5jZS5kaXNtaXNzO3ZhciBjdHJsSW5zdGFuY2UsY3RybExvY2Fscz17fSxyZXNvbHZlSXRlcj0xO21vZGFsT3B0aW9ucy5jb250cm9sbGVyJiYoY3RybExvY2Fscy4kc2NvcGU9bW9kYWxTY29wZSxjdHJsTG9jYWxzLiRtb2RhbEluc3RhbmNlPW1vZGFsSW5zdGFuY2UsYW5ndWxhci5mb3JFYWNoKG1vZGFsT3B0aW9ucy5yZXNvbHZlLGZ1bmN0aW9uKHZhbHVlLGtleSl7Y3RybExvY2Fsc1trZXldPXRwbEFuZFZhcnNbcmVzb2x2ZUl0ZXIrK119KSxjdHJsSW5zdGFuY2U9JGNvbnRyb2xsZXIobW9kYWxPcHRpb25zLmNvbnRyb2xsZXIsY3RybExvY2FscyksbW9kYWxPcHRpb25zLmNvbnRyb2xsZXJBcyYmKG1vZGFsU2NvcGVbbW9kYWxPcHRpb25zLmNvbnRyb2xsZXJBc109Y3RybEluc3RhbmNlKSksJG1vZGFsU3RhY2sub3Blbihtb2RhbEluc3RhbmNlLHtzY29wZTptb2RhbFNjb3BlLGRlZmVycmVkOm1vZGFsUmVzdWx0RGVmZXJyZWQsY29udGVudDp0cGxBbmRWYXJzWzBdLGJhY2tkcm9wOm1vZGFsT3B0aW9ucy5iYWNrZHJvcCxrZXlib2FyZDptb2RhbE9wdGlvbnMua2V5Ym9hcmQsYmFja2Ryb3BDbGFzczptb2RhbE9wdGlvbnMuYmFja2Ryb3BDbGFzcyx3aW5kb3dDbGFzczptb2RhbE9wdGlvbnMud2luZG93Q2xhc3Msd2luZG93VGVtcGxhdGVVcmw6bW9kYWxPcHRpb25zLndpbmRvd1RlbXBsYXRlVXJsLHNpemU6bW9kYWxPcHRpb25zLnNpemV9KX0sZnVuY3Rpb24ocmVhc29uKXttb2RhbFJlc3VsdERlZmVycmVkLnJlamVjdChyZWFzb24pfSksdGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZS50aGVuKGZ1bmN0aW9uKCl7bW9kYWxPcGVuZWREZWZlcnJlZC5yZXNvbHZlKCEwKX0sZnVuY3Rpb24oKXttb2RhbE9wZW5lZERlZmVycmVkLnJlamVjdCghMSl9KSxtb2RhbEluc3RhbmNlfSwkbW9kYWx9XX07cmV0dXJuICRtb2RhbFByb3ZpZGVyfSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5wYWdpbmF0aW9uIixbXSkuY29udHJvbGxlcigiUGFnaW5hdGlvbkNvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGF0dHJzIiwiJHBhcnNlIixmdW5jdGlvbigkc2NvcGUsJGF0dHJzLCRwYXJzZSl7dmFyIHNlbGY9dGhpcyxuZ01vZGVsQ3RybD17JHNldFZpZXdWYWx1ZTphbmd1bGFyLm5vb3B9LHNldE51bVBhZ2VzPSRhdHRycy5udW1QYWdlcz8kcGFyc2UoJGF0dHJzLm51bVBhZ2VzKS5hc3NpZ246YW5ndWxhci5ub29wO3RoaXMuaW5pdD1mdW5jdGlvbihuZ01vZGVsQ3RybF8sY29uZmlnKXtuZ01vZGVsQ3RybD1uZ01vZGVsQ3RybF8sdGhpcy5jb25maWc9Y29uZmlnLG5nTW9kZWxDdHJsLiRyZW5kZXI9ZnVuY3Rpb24oKXtzZWxmLnJlbmRlcigpfSwkYXR0cnMuaXRlbXNQZXJQYWdlPyRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLml0ZW1zUGVyUGFnZSksZnVuY3Rpb24odmFsdWUpe3NlbGYuaXRlbXNQZXJQYWdlPXBhcnNlSW50KHZhbHVlLDEwKSwkc2NvcGUudG90YWxQYWdlcz1zZWxmLmNhbGN1bGF0ZVRvdGFsUGFnZXMoKX0pOnRoaXMuaXRlbXNQZXJQYWdlPWNvbmZpZy5pdGVtc1BlclBhZ2V9LHRoaXMuY2FsY3VsYXRlVG90YWxQYWdlcz1mdW5jdGlvbigpe3ZhciB0b3RhbFBhZ2VzPXRoaXMuaXRlbXNQZXJQYWdlPDE/MTpNYXRoLmNlaWwoJHNjb3BlLnRvdGFsSXRlbXMvdGhpcy5pdGVtc1BlclBhZ2UpO3JldHVybiBNYXRoLm1heCh0b3RhbFBhZ2VzfHwwLDEpfSx0aGlzLnJlbmRlcj1mdW5jdGlvbigpeyRzY29wZS5wYWdlPXBhcnNlSW50KG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUsMTApfHwxfSwkc2NvcGUuc2VsZWN0UGFnZT1mdW5jdGlvbihwYWdlKXskc2NvcGUucGFnZSE9PXBhZ2UmJnBhZ2U+MCYmcGFnZTw9JHNjb3BlLnRvdGFsUGFnZXMmJihuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKHBhZ2UpLG5nTW9kZWxDdHJsLiRyZW5kZXIoKSl9LCRzY29wZS5nZXRUZXh0PWZ1bmN0aW9uKGtleSl7cmV0dXJuICRzY29wZVtrZXkrIlRleHQiXXx8c2VsZi5jb25maWdba2V5KyJUZXh0Il19LCRzY29wZS5ub1ByZXZpb3VzPWZ1bmN0aW9uKCl7cmV0dXJuIDE9PT0kc2NvcGUucGFnZX0sJHNjb3BlLm5vTmV4dD1mdW5jdGlvbigpe3JldHVybiAkc2NvcGUucGFnZT09PSRzY29wZS50b3RhbFBhZ2VzfSwkc2NvcGUuJHdhdGNoKCJ0b3RhbEl0ZW1zIixmdW5jdGlvbigpeyRzY29wZS50b3RhbFBhZ2VzPXNlbGYuY2FsY3VsYXRlVG90YWxQYWdlcygpfSksJHNjb3BlLiR3YXRjaCgidG90YWxQYWdlcyIsZnVuY3Rpb24odmFsdWUpe3NldE51bVBhZ2VzKCRzY29wZS4kcGFyZW50LHZhbHVlKSwkc2NvcGUucGFnZT52YWx1ZT8kc2NvcGUuc2VsZWN0UGFnZSh2YWx1ZSk6bmdNb2RlbEN0cmwuJHJlbmRlcigpfSl9XSkuY29uc3RhbnQoInBhZ2luYXRpb25Db25maWciLHtpdGVtc1BlclBhZ2U6MTAsYm91bmRhcnlMaW5rczohMSxkaXJlY3Rpb25MaW5rczohMCxmaXJzdFRleHQ6IkZpcnN0IixwcmV2aW91c1RleHQ6IlByZXZpb3VzIixuZXh0VGV4dDoiTmV4dCIsbGFzdFRleHQ6Ikxhc3QiLHJvdGF0ZTohMH0pLmRpcmVjdGl2ZSgicGFnaW5hdGlvbiIsWyIkcGFyc2UiLCJwYWdpbmF0aW9uQ29uZmlnIixmdW5jdGlvbigkcGFyc2UscGFnaW5hdGlvbkNvbmZpZyl7cmV0dXJue3Jlc3RyaWN0OiJFQSIsc2NvcGU6e3RvdGFsSXRlbXM6Ij0iLGZpcnN0VGV4dDoiQCIscHJldmlvdXNUZXh0OiJAIixuZXh0VGV4dDoiQCIsbGFzdFRleHQ6IkAifSxyZXF1aXJlOlsicGFnaW5hdGlvbiIsIj9uZ01vZGVsIl0sY29udHJvbGxlcjoiUGFnaW5hdGlvbkNvbnRyb2xsZXIiLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbCIscmVwbGFjZTohMCxsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMsY3RybHMpe2Z1bmN0aW9uIG1ha2VQYWdlKG51bWJlcix0ZXh0LGlzQWN0aXZlKXtyZXR1cm57bnVtYmVyOm51bWJlcix0ZXh0OnRleHQsYWN0aXZlOmlzQWN0aXZlfX1mdW5jdGlvbiBnZXRQYWdlcyhjdXJyZW50UGFnZSx0b3RhbFBhZ2VzKXt2YXIgcGFnZXM9W10sc3RhcnRQYWdlPTEsZW5kUGFnZT10b3RhbFBhZ2VzLGlzTWF4U2l6ZWQ9YW5ndWxhci5pc0RlZmluZWQobWF4U2l6ZSkmJnRvdGFsUGFnZXM+bWF4U2l6ZTtpc01heFNpemVkJiYocm90YXRlPyhzdGFydFBhZ2U9TWF0aC5tYXgoY3VycmVudFBhZ2UtTWF0aC5mbG9vcihtYXhTaXplLzIpLDEpLGVuZFBhZ2U9c3RhcnRQYWdlK21heFNpemUtMSxlbmRQYWdlPnRvdGFsUGFnZXMmJihlbmRQYWdlPXRvdGFsUGFnZXMsc3RhcnRQYWdlPWVuZFBhZ2UtbWF4U2l6ZSsxKSk6KHN0YXJ0UGFnZT0oTWF0aC5jZWlsKGN1cnJlbnRQYWdlL21heFNpemUpLTEpKm1heFNpemUrMSxlbmRQYWdlPU1hdGgubWluKHN0YXJ0UGFnZSttYXhTaXplLTEsdG90YWxQYWdlcykpKTtmb3IodmFyIG51bWJlcj1zdGFydFBhZ2U7ZW5kUGFnZT49bnVtYmVyO251bWJlcisrKXt2YXIgcGFnZT1tYWtlUGFnZShudW1iZXIsbnVtYmVyLG51bWJlcj09PWN1cnJlbnRQYWdlKTtwYWdlcy5wdXNoKHBhZ2UpfWlmKGlzTWF4U2l6ZWQmJiFyb3RhdGUpe2lmKHN0YXJ0UGFnZT4xKXt2YXIgcHJldmlvdXNQYWdlU2V0PW1ha2VQYWdlKHN0YXJ0UGFnZS0xLCIuLi4iLCExKTtwYWdlcy51bnNoaWZ0KHByZXZpb3VzUGFnZVNldCl9aWYodG90YWxQYWdlcz5lbmRQYWdlKXt2YXIgbmV4dFBhZ2VTZXQ9bWFrZVBhZ2UoZW5kUGFnZSsxLCIuLi4iLCExKTtwYWdlcy5wdXNoKG5leHRQYWdlU2V0KX19cmV0dXJuIHBhZ2VzfXZhciBwYWdpbmF0aW9uQ3RybD1jdHJsc1swXSxuZ01vZGVsQ3RybD1jdHJsc1sxXTsKaWYobmdNb2RlbEN0cmwpe3ZhciBtYXhTaXplPWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLm1heFNpemUpP3Njb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMubWF4U2l6ZSk6cGFnaW5hdGlvbkNvbmZpZy5tYXhTaXplLHJvdGF0ZT1hbmd1bGFyLmlzRGVmaW5lZChhdHRycy5yb3RhdGUpP3Njb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMucm90YXRlKTpwYWdpbmF0aW9uQ29uZmlnLnJvdGF0ZTtzY29wZS5ib3VuZGFyeUxpbmtzPWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmJvdW5kYXJ5TGlua3MpP3Njb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuYm91bmRhcnlMaW5rcyk6cGFnaW5hdGlvbkNvbmZpZy5ib3VuZGFyeUxpbmtzLHNjb3BlLmRpcmVjdGlvbkxpbmtzPWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmRpcmVjdGlvbkxpbmtzKT9zY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmRpcmVjdGlvbkxpbmtzKTpwYWdpbmF0aW9uQ29uZmlnLmRpcmVjdGlvbkxpbmtzLHBhZ2luYXRpb25DdHJsLmluaXQobmdNb2RlbEN0cmwscGFnaW5hdGlvbkNvbmZpZyksYXR0cnMubWF4U2l6ZSYmc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKGF0dHJzLm1heFNpemUpLGZ1bmN0aW9uKHZhbHVlKXttYXhTaXplPXBhcnNlSW50KHZhbHVlLDEwKSxwYWdpbmF0aW9uQ3RybC5yZW5kZXIoKX0pO3ZhciBvcmlnaW5hbFJlbmRlcj1wYWdpbmF0aW9uQ3RybC5yZW5kZXI7cGFnaW5hdGlvbkN0cmwucmVuZGVyPWZ1bmN0aW9uKCl7b3JpZ2luYWxSZW5kZXIoKSxzY29wZS5wYWdlPjAmJnNjb3BlLnBhZ2U8PXNjb3BlLnRvdGFsUGFnZXMmJihzY29wZS5wYWdlcz1nZXRQYWdlcyhzY29wZS5wYWdlLHNjb3BlLnRvdGFsUGFnZXMpKX19fX19XSkuY29uc3RhbnQoInBhZ2VyQ29uZmlnIix7aXRlbXNQZXJQYWdlOjEwLHByZXZpb3VzVGV4dDoiwqsgUHJldmlvdXMiLG5leHRUZXh0OiJOZXh0IMK7IixhbGlnbjohMH0pLmRpcmVjdGl2ZSgicGFnZXIiLFsicGFnZXJDb25maWciLGZ1bmN0aW9uKHBhZ2VyQ29uZmlnKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixzY29wZTp7dG90YWxJdGVtczoiPSIscHJldmlvdXNUZXh0OiJAIixuZXh0VGV4dDoiQCJ9LHJlcXVpcmU6WyJwYWdlciIsIj9uZ01vZGVsIl0sY29udHJvbGxlcjoiUGFnaW5hdGlvbkNvbnRyb2xsZXIiLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2VyLmh0bWwiLHJlcGxhY2U6ITAsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzLGN0cmxzKXt2YXIgcGFnaW5hdGlvbkN0cmw9Y3RybHNbMF0sbmdNb2RlbEN0cmw9Y3RybHNbMV07bmdNb2RlbEN0cmwmJihzY29wZS5hbGlnbj1hbmd1bGFyLmlzRGVmaW5lZChhdHRycy5hbGlnbik/c2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5hbGlnbik6cGFnZXJDb25maWcuYWxpZ24scGFnaW5hdGlvbkN0cmwuaW5pdChuZ01vZGVsQ3RybCxwYWdlckNvbmZpZykpfX19XSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC50b29sdGlwIixbInVpLmJvb3RzdHJhcC5wb3NpdGlvbiIsInVpLmJvb3RzdHJhcC5iaW5kSHRtbCJdKS5wcm92aWRlcigiJHRvb2x0aXAiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gc25ha2VfY2FzZShuYW1lKXt2YXIgcmVnZXhwPS9bQS1aXS9nLHNlcGFyYXRvcj0iLSI7cmV0dXJuIG5hbWUucmVwbGFjZShyZWdleHAsZnVuY3Rpb24obGV0dGVyLHBvcyl7cmV0dXJuKHBvcz9zZXBhcmF0b3I6IiIpK2xldHRlci50b0xvd2VyQ2FzZSgpfSl9dmFyIGRlZmF1bHRPcHRpb25zPXtwbGFjZW1lbnQ6InRvcCIsYW5pbWF0aW9uOiEwLHBvcHVwRGVsYXk6MH0sdHJpZ2dlck1hcD17bW91c2VlbnRlcjoibW91c2VsZWF2ZSIsY2xpY2s6ImNsaWNrIixmb2N1czoiYmx1ciJ9LGdsb2JhbE9wdGlvbnM9e307dGhpcy5vcHRpb25zPWZ1bmN0aW9uKHZhbHVlKXthbmd1bGFyLmV4dGVuZChnbG9iYWxPcHRpb25zLHZhbHVlKX0sdGhpcy5zZXRUcmlnZ2Vycz1mdW5jdGlvbih0cmlnZ2Vycyl7YW5ndWxhci5leHRlbmQodHJpZ2dlck1hcCx0cmlnZ2Vycyl9LHRoaXMuJGdldD1bIiR3aW5kb3ciLCIkY29tcGlsZSIsIiR0aW1lb3V0IiwiJHBhcnNlIiwiJGRvY3VtZW50IiwiJHBvc2l0aW9uIiwiJGludGVycG9sYXRlIixmdW5jdGlvbigkd2luZG93LCRjb21waWxlLCR0aW1lb3V0LCRwYXJzZSwkZG9jdW1lbnQsJHBvc2l0aW9uLCRpbnRlcnBvbGF0ZSl7cmV0dXJuIGZ1bmN0aW9uKHR5cGUscHJlZml4LGRlZmF1bHRUcmlnZ2VyU2hvdyl7ZnVuY3Rpb24gZ2V0VHJpZ2dlcnModHJpZ2dlcil7dmFyIHNob3c9dHJpZ2dlcnx8b3B0aW9ucy50cmlnZ2VyfHxkZWZhdWx0VHJpZ2dlclNob3csaGlkZT10cmlnZ2VyTWFwW3Nob3ddfHxzaG93O3JldHVybntzaG93OnNob3csaGlkZTpoaWRlfX12YXIgb3B0aW9ucz1hbmd1bGFyLmV4dGVuZCh7fSxkZWZhdWx0T3B0aW9ucyxnbG9iYWxPcHRpb25zKSxkaXJlY3RpdmVOYW1lPXNuYWtlX2Nhc2UodHlwZSksc3RhcnRTeW09JGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCksZW5kU3ltPSRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKSx0ZW1wbGF0ZT0iPGRpdiAiK2RpcmVjdGl2ZU5hbWUrJy1wb3B1cCB0aXRsZT0iJytzdGFydFN5bSsidHRfdGl0bGUiK2VuZFN5bSsnIiBjb250ZW50PSInK3N0YXJ0U3ltKyJ0dF9jb250ZW50IitlbmRTeW0rJyIgcGxhY2VtZW50PSInK3N0YXJ0U3ltKyJ0dF9wbGFjZW1lbnQiK2VuZFN5bSsnIiBhbmltYXRpb249InR0X2FuaW1hdGlvbiIgaXMtb3Blbj0idHRfaXNPcGVuIj48L2Rpdj4nO3JldHVybntyZXN0cmljdDoiRUEiLHNjb3BlOiEwLGNvbXBpbGU6ZnVuY3Rpb24oKXt2YXIgdG9vbHRpcExpbmtlcj0kY29tcGlsZSh0ZW1wbGF0ZSk7cmV0dXJuIGZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMpe2Z1bmN0aW9uIHRvZ2dsZVRvb2x0aXBCaW5kKCl7c2NvcGUudHRfaXNPcGVuP2hpZGVUb29sdGlwQmluZCgpOnNob3dUb29sdGlwQmluZCgpfWZ1bmN0aW9uIHNob3dUb29sdGlwQmluZCgpeyghaGFzRW5hYmxlRXhwfHxzY29wZS4kZXZhbChhdHRyc1twcmVmaXgrIkVuYWJsZSJdKSkmJihzY29wZS50dF9wb3B1cERlbGF5P3BvcHVwVGltZW91dHx8KHBvcHVwVGltZW91dD0kdGltZW91dChzaG93LHNjb3BlLnR0X3BvcHVwRGVsYXksITEpLHBvcHVwVGltZW91dC50aGVuKGZ1bmN0aW9uKHJlcG9zaXRpb24pe3JlcG9zaXRpb24oKX0pKTpzaG93KCkoKSl9ZnVuY3Rpb24gaGlkZVRvb2x0aXBCaW5kKCl7c2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7aGlkZSgpfSl9ZnVuY3Rpb24gc2hvdygpe3JldHVybiBwb3B1cFRpbWVvdXQ9bnVsbCx0cmFuc2l0aW9uVGltZW91dCYmKCR0aW1lb3V0LmNhbmNlbCh0cmFuc2l0aW9uVGltZW91dCksdHJhbnNpdGlvblRpbWVvdXQ9bnVsbCksc2NvcGUudHRfY29udGVudD8oY3JlYXRlVG9vbHRpcCgpLHRvb2x0aXAuY3NzKHt0b3A6MCxsZWZ0OjAsZGlzcGxheToiYmxvY2sifSksYXBwZW5kVG9Cb2R5PyRkb2N1bWVudC5maW5kKCJib2R5IikuYXBwZW5kKHRvb2x0aXApOmVsZW1lbnQuYWZ0ZXIodG9vbHRpcCkscG9zaXRpb25Ub29sdGlwKCksc2NvcGUudHRfaXNPcGVuPSEwLHNjb3BlLiRkaWdlc3QoKSxwb3NpdGlvblRvb2x0aXApOmFuZ3VsYXIubm9vcH1mdW5jdGlvbiBoaWRlKCl7c2NvcGUudHRfaXNPcGVuPSExLCR0aW1lb3V0LmNhbmNlbChwb3B1cFRpbWVvdXQpLHBvcHVwVGltZW91dD1udWxsLHNjb3BlLnR0X2FuaW1hdGlvbj90cmFuc2l0aW9uVGltZW91dHx8KHRyYW5zaXRpb25UaW1lb3V0PSR0aW1lb3V0KHJlbW92ZVRvb2x0aXAsNTAwKSk6cmVtb3ZlVG9vbHRpcCgpfWZ1bmN0aW9uIGNyZWF0ZVRvb2x0aXAoKXt0b29sdGlwJiZyZW1vdmVUb29sdGlwKCksdG9vbHRpcD10b29sdGlwTGlua2VyKHNjb3BlLGZ1bmN0aW9uKCl7fSksc2NvcGUuJGRpZ2VzdCgpfWZ1bmN0aW9uIHJlbW92ZVRvb2x0aXAoKXt0cmFuc2l0aW9uVGltZW91dD1udWxsLHRvb2x0aXAmJih0b29sdGlwLnJlbW92ZSgpLHRvb2x0aXA9bnVsbCl9dmFyIHRvb2x0aXAsdHJhbnNpdGlvblRpbWVvdXQscG9wdXBUaW1lb3V0LGFwcGVuZFRvQm9keT1hbmd1bGFyLmlzRGVmaW5lZChvcHRpb25zLmFwcGVuZFRvQm9keSk/b3B0aW9ucy5hcHBlbmRUb0JvZHk6ITEsdHJpZ2dlcnM9Z2V0VHJpZ2dlcnModm9pZCAwKSxoYXNFbmFibGVFeHA9YW5ndWxhci5pc0RlZmluZWQoYXR0cnNbcHJlZml4KyJFbmFibGUiXSkscG9zaXRpb25Ub29sdGlwPWZ1bmN0aW9uKCl7dmFyIHR0UG9zaXRpb249JHBvc2l0aW9uLnBvc2l0aW9uRWxlbWVudHMoZWxlbWVudCx0b29sdGlwLHNjb3BlLnR0X3BsYWNlbWVudCxhcHBlbmRUb0JvZHkpO3R0UG9zaXRpb24udG9wKz0icHgiLHR0UG9zaXRpb24ubGVmdCs9InB4Iix0b29sdGlwLmNzcyh0dFBvc2l0aW9uKX07c2NvcGUudHRfaXNPcGVuPSExLGF0dHJzLiRvYnNlcnZlKHR5cGUsZnVuY3Rpb24odmFsKXtzY29wZS50dF9jb250ZW50PXZhbCwhdmFsJiZzY29wZS50dF9pc09wZW4mJmhpZGUoKX0pLGF0dHJzLiRvYnNlcnZlKHByZWZpeCsiVGl0bGUiLGZ1bmN0aW9uKHZhbCl7c2NvcGUudHRfdGl0bGU9dmFsfSksYXR0cnMuJG9ic2VydmUocHJlZml4KyJQbGFjZW1lbnQiLGZ1bmN0aW9uKHZhbCl7c2NvcGUudHRfcGxhY2VtZW50PWFuZ3VsYXIuaXNEZWZpbmVkKHZhbCk/dmFsOm9wdGlvbnMucGxhY2VtZW50fSksYXR0cnMuJG9ic2VydmUocHJlZml4KyJQb3B1cERlbGF5IixmdW5jdGlvbih2YWwpe3ZhciBkZWxheT1wYXJzZUludCh2YWwsMTApO3Njb3BlLnR0X3BvcHVwRGVsYXk9aXNOYU4oZGVsYXkpP29wdGlvbnMucG9wdXBEZWxheTpkZWxheX0pO3ZhciB1bnJlZ2lzdGVyVHJpZ2dlcnM9ZnVuY3Rpb24oKXtlbGVtZW50LnVuYmluZCh0cmlnZ2Vycy5zaG93LHNob3dUb29sdGlwQmluZCksZWxlbWVudC51bmJpbmQodHJpZ2dlcnMuaGlkZSxoaWRlVG9vbHRpcEJpbmQpfTthdHRycy4kb2JzZXJ2ZShwcmVmaXgrIlRyaWdnZXIiLGZ1bmN0aW9uKHZhbCl7dW5yZWdpc3RlclRyaWdnZXJzKCksdHJpZ2dlcnM9Z2V0VHJpZ2dlcnModmFsKSx0cmlnZ2Vycy5zaG93PT09dHJpZ2dlcnMuaGlkZT9lbGVtZW50LmJpbmQodHJpZ2dlcnMuc2hvdyx0b2dnbGVUb29sdGlwQmluZCk6KGVsZW1lbnQuYmluZCh0cmlnZ2Vycy5zaG93LHNob3dUb29sdGlwQmluZCksZWxlbWVudC5iaW5kKHRyaWdnZXJzLmhpZGUsaGlkZVRvb2x0aXBCaW5kKSl9KTt2YXIgYW5pbWF0aW9uPXNjb3BlLiRldmFsKGF0dHJzW3ByZWZpeCsiQW5pbWF0aW9uIl0pO3Njb3BlLnR0X2FuaW1hdGlvbj1hbmd1bGFyLmlzRGVmaW5lZChhbmltYXRpb24pPyEhYW5pbWF0aW9uOm9wdGlvbnMuYW5pbWF0aW9uLGF0dHJzLiRvYnNlcnZlKHByZWZpeCsiQXBwZW5kVG9Cb2R5IixmdW5jdGlvbih2YWwpe2FwcGVuZFRvQm9keT1hbmd1bGFyLmlzRGVmaW5lZCh2YWwpPyRwYXJzZSh2YWwpKHNjb3BlKTphcHBlbmRUb0JvZHl9KSxhcHBlbmRUb0JvZHkmJnNjb3BlLiRvbigiJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcyIsZnVuY3Rpb24oKXtzY29wZS50dF9pc09wZW4mJmhpZGUoKX0pLHNjb3BlLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7JHRpbWVvdXQuY2FuY2VsKHRyYW5zaXRpb25UaW1lb3V0KSwkdGltZW91dC5jYW5jZWwocG9wdXBUaW1lb3V0KSx1bnJlZ2lzdGVyVHJpZ2dlcnMoKSxyZW1vdmVUb29sdGlwKCl9KX19fX19XX0pLmRpcmVjdGl2ZSgidG9vbHRpcFBvcHVwIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsc2NvcGU6e2NvbnRlbnQ6IkAiLHBsYWNlbWVudDoiQCIsYW5pbWF0aW9uOiImIixpc09wZW46IiYifSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXBvcHVwLmh0bWwifX0pLmRpcmVjdGl2ZSgidG9vbHRpcCIsWyIkdG9vbHRpcCIsZnVuY3Rpb24oJHRvb2x0aXApe3JldHVybiAkdG9vbHRpcCgidG9vbHRpcCIsInRvb2x0aXAiLCJtb3VzZWVudGVyIil9XSkuZGlyZWN0aXZlKCJ0b29sdGlwSHRtbFVuc2FmZVBvcHVwIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsc2NvcGU6e2NvbnRlbnQ6IkAiLHBsYWNlbWVudDoiQCIsYW5pbWF0aW9uOiImIixpc09wZW46IiYifSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWwifX0pLmRpcmVjdGl2ZSgidG9vbHRpcEh0bWxVbnNhZmUiLFsiJHRvb2x0aXAiLGZ1bmN0aW9uKCR0b29sdGlwKXtyZXR1cm4gJHRvb2x0aXAoInRvb2x0aXBIdG1sVW5zYWZlIiwidG9vbHRpcCIsIm1vdXNlZW50ZXIiKX1dKSxhbmd1bGFyLm1vZHVsZSgidWkuYm9vdHN0cmFwLnBvcG92ZXIiLFsidWkuYm9vdHN0cmFwLnRvb2x0aXAiXSkuZGlyZWN0aXZlKCJwb3BvdmVyUG9wdXAiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCxzY29wZTp7dGl0bGU6IkAiLGNvbnRlbnQ6IkAiLHBsYWNlbWVudDoiQCIsYW5pbWF0aW9uOiImIixpc09wZW46IiYifSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLmh0bWwifX0pLmRpcmVjdGl2ZSgicG9wb3ZlciIsWyIkdG9vbHRpcCIsZnVuY3Rpb24oJHRvb2x0aXApe3JldHVybiAkdG9vbHRpcCgicG9wb3ZlciIsInBvcG92ZXIiLCJjbGljayIpfV0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAucHJvZ3Jlc3NiYXIiLFtdKS5jb25zdGFudCgicHJvZ3Jlc3NDb25maWciLHthbmltYXRlOiEwLG1heDoxMDB9KS5jb250cm9sbGVyKCJQcm9ncmVzc0NvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGF0dHJzIiwicHJvZ3Jlc3NDb25maWciLGZ1bmN0aW9uKCRzY29wZSwkYXR0cnMscHJvZ3Jlc3NDb25maWcpe3ZhciBzZWxmPXRoaXMsYW5pbWF0ZT1hbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuYW5pbWF0ZSk/JHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLmFuaW1hdGUpOnByb2dyZXNzQ29uZmlnLmFuaW1hdGU7dGhpcy5iYXJzPVtdLCRzY29wZS5tYXg9YW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLm1heCk/JHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLm1heCk6cHJvZ3Jlc3NDb25maWcubWF4LHRoaXMuYWRkQmFyPWZ1bmN0aW9uKGJhcixlbGVtZW50KXthbmltYXRlfHxlbGVtZW50LmNzcyh7dHJhbnNpdGlvbjoibm9uZSJ9KSx0aGlzLmJhcnMucHVzaChiYXIpLGJhci4kd2F0Y2goInZhbHVlIixmdW5jdGlvbih2YWx1ZSl7YmFyLnBlcmNlbnQ9KygxMDAqdmFsdWUvJHNjb3BlLm1heCkudG9GaXhlZCgyKX0pLGJhci4kb24oIiRkZXN0cm95IixmdW5jdGlvbigpe2VsZW1lbnQ9bnVsbCxzZWxmLnJlbW92ZUJhcihiYXIpfSl9LHRoaXMucmVtb3ZlQmFyPWZ1bmN0aW9uKGJhcil7dGhpcy5iYXJzLnNwbGljZSh0aGlzLmJhcnMuaW5kZXhPZihiYXIpLDEpfX1dKS5kaXJlY3RpdmUoInByb2dyZXNzIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdHJhbnNjbHVkZTohMCxjb250cm9sbGVyOiJQcm9ncmVzc0NvbnRyb2xsZXIiLHJlcXVpcmU6InByb2dyZXNzIixzY29wZTp7fSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbCJ9fSkuZGlyZWN0aXZlKCJiYXIiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVwbGFjZTohMCx0cmFuc2NsdWRlOiEwLHJlcXVpcmU6Il5wcm9ncmVzcyIsc2NvcGU6e3ZhbHVlOiI9Iix0eXBlOiJAIn0sdGVtcGxhdGVVcmw6InRlbXBsYXRlL3Byb2dyZXNzYmFyL2Jhci5odG1sIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMscHJvZ3Jlc3NDdHJsKXtwcm9ncmVzc0N0cmwuYWRkQmFyKHNjb3BlLGVsZW1lbnQpfX19KS5kaXJlY3RpdmUoInByb2dyZXNzYmFyIixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHJlcGxhY2U6ITAsdHJhbnNjbHVkZTohMCxjb250cm9sbGVyOiJQcm9ncmVzc0NvbnRyb2xsZXIiLHNjb3BlOnt2YWx1ZToiPSIsdHlwZToiQCJ9LHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMscHJvZ3Jlc3NDdHJsKXtwcm9ncmVzc0N0cmwuYWRkQmFyKHNjb3BlLGFuZ3VsYXIuZWxlbWVudChlbGVtZW50LmNoaWxkcmVuKClbMF0pKX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC5yYXRpbmciLFtdKS5jb25zdGFudCgicmF0aW5nQ29uZmlnIix7bWF4OjUsc3RhdGVPbjpudWxsLHN0YXRlT2ZmOm51bGx9KS5jb250cm9sbGVyKCJSYXRpbmdDb250cm9sbGVyIixbIiRzY29wZSIsIiRhdHRycyIsInJhdGluZ0NvbmZpZyIsZnVuY3Rpb24oJHNjb3BlLCRhdHRycyxyYXRpbmdDb25maWcpe3ZhciBuZ01vZGVsQ3RybD17JHNldFZpZXdWYWx1ZTphbmd1bGFyLm5vb3B9O3RoaXMuaW5pdD1mdW5jdGlvbihuZ01vZGVsQ3RybF8pe25nTW9kZWxDdHJsPW5nTW9kZWxDdHJsXyxuZ01vZGVsQ3RybC4kcmVuZGVyPXRoaXMucmVuZGVyLHRoaXMuc3RhdGVPbj1hbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuc3RhdGVPbik/JHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnN0YXRlT24pOnJhdGluZ0NvbmZpZy5zdGF0ZU9uLHRoaXMuc3RhdGVPZmY9YW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnN0YXRlT2ZmKT8kc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuc3RhdGVPZmYpOnJhdGluZ0NvbmZpZy5zdGF0ZU9mZjt2YXIgcmF0aW5nU3RhdGVzPWFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5yYXRpbmdTdGF0ZXMpPyRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5yYXRpbmdTdGF0ZXMpOm5ldyBBcnJheShhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubWF4KT8kc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMubWF4KTpyYXRpbmdDb25maWcubWF4KTskc2NvcGUucmFuZ2U9dGhpcy5idWlsZFRlbXBsYXRlT2JqZWN0cyhyYXRpbmdTdGF0ZXMpfSx0aGlzLmJ1aWxkVGVtcGxhdGVPYmplY3RzPWZ1bmN0aW9uKHN0YXRlcyl7Zm9yKHZhciBpPTAsbj1zdGF0ZXMubGVuZ3RoO24+aTtpKyspc3RhdGVzW2ldPWFuZ3VsYXIuZXh0ZW5kKHtpbmRleDppfSx7c3RhdGVPbjp0aGlzLnN0YXRlT24sc3RhdGVPZmY6dGhpcy5zdGF0ZU9mZn0sc3RhdGVzW2ldKTtyZXR1cm4gc3RhdGVzfSwkc2NvcGUucmF0ZT1mdW5jdGlvbih2YWx1ZSl7ISRzY29wZS5yZWFkb25seSYmdmFsdWU+PTAmJnZhbHVlPD0kc2NvcGUucmFuZ2UubGVuZ3RoJiYobmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZSh2YWx1ZSksbmdNb2RlbEN0cmwuJHJlbmRlcigpKX0sJHNjb3BlLmVudGVyPWZ1bmN0aW9uKHZhbHVlKXskc2NvcGUucmVhZG9ubHl8fCgkc2NvcGUudmFsdWU9dmFsdWUpLCRzY29wZS5vbkhvdmVyKHt2YWx1ZTp2YWx1ZX0pfSwkc2NvcGUucmVzZXQ9ZnVuY3Rpb24oKXskc2NvcGUudmFsdWU9bmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSwkc2NvcGUub25MZWF2ZSgpfSwkc2NvcGUub25LZXlkb3duPWZ1bmN0aW9uKGV2dCl7LygzN3wzOHwzOXw0MCkvLnRlc3QoZXZ0LndoaWNoKSYmKGV2dC5wcmV2ZW50RGVmYXVsdCgpLGV2dC5zdG9wUHJvcGFnYXRpb24oKSwkc2NvcGUucmF0ZSgkc2NvcGUudmFsdWUrKDM4PT09ZXZ0LndoaWNofHwzOT09PWV2dC53aGljaD8xOi0xKSkpfSx0aGlzLnJlbmRlcj1mdW5jdGlvbigpeyRzY29wZS52YWx1ZT1uZ01vZGVsQ3RybC4kdmlld1ZhbHVlfX1dKS5kaXJlY3RpdmUoInJhdGluZyIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixyZXF1aXJlOlsicmF0aW5nIiwibmdNb2RlbCJdLHNjb3BlOntyZWFkb25seToiPT8iLG9uSG92ZXI6IiYiLG9uTGVhdmU6IiYifSxjb250cm9sbGVyOiJSYXRpbmdDb250cm9sbGVyIix0ZW1wbGF0ZVVybDoidGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sIixyZXBsYWNlOiEwLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjdHJscyl7dmFyIHJhdGluZ0N0cmw9Y3RybHNbMF0sbmdNb2RlbEN0cmw9Y3RybHNbMV07bmdNb2RlbEN0cmwmJnJhdGluZ0N0cmwuaW5pdChuZ01vZGVsQ3RybCl9fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAudGFicyIsW10pLmNvbnRyb2xsZXIoIlRhYnNldENvbnRyb2xsZXIiLFsiJHNjb3BlIixmdW5jdGlvbigkc2NvcGUpe3ZhciBjdHJsPXRoaXMsdGFicz1jdHJsLnRhYnM9JHNjb3BlLnRhYnM9W107Y3RybC5zZWxlY3Q9ZnVuY3Rpb24oc2VsZWN0ZWRUYWIpe2FuZ3VsYXIuZm9yRWFjaCh0YWJzLGZ1bmN0aW9uKHRhYil7dGFiLmFjdGl2ZSYmdGFiIT09c2VsZWN0ZWRUYWImJih0YWIuYWN0aXZlPSExLHRhYi5vbkRlc2VsZWN0KCkpfSksc2VsZWN0ZWRUYWIuYWN0aXZlPSEwLHNlbGVjdGVkVGFiLm9uU2VsZWN0KCl9LGN0cmwuYWRkVGFiPWZ1bmN0aW9uKHRhYil7dGFicy5wdXNoKHRhYiksMT09PXRhYnMubGVuZ3RoP3RhYi5hY3RpdmU9ITA6dGFiLmFjdGl2ZSYmY3RybC5zZWxlY3QodGFiKX0sY3RybC5yZW1vdmVUYWI9ZnVuY3Rpb24odGFiKXt2YXIgaW5kZXg9dGFicy5pbmRleE9mKHRhYik7aWYodGFiLmFjdGl2ZSYmdGFicy5sZW5ndGg+MSl7dmFyIG5ld0FjdGl2ZUluZGV4PWluZGV4PT10YWJzLmxlbmd0aC0xP2luZGV4LTE6aW5kZXgrMTtjdHJsLnNlbGVjdCh0YWJzW25ld0FjdGl2ZUluZGV4XSl9dGFicy5zcGxpY2UoaW5kZXgsMSl9fV0pLmRpcmVjdGl2ZSgidGFic2V0IixmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDoiRUEiLHRyYW5zY2x1ZGU6ITAscmVwbGFjZTohMCxzY29wZTp7dHlwZToiQCJ9LGNvbnRyb2xsZXI6IlRhYnNldENvbnRyb2xsZXIiLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsZW1lbnQsYXR0cnMpe3Njb3BlLnZlcnRpY2FsPWFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnZlcnRpY2FsKT9zY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLnZlcnRpY2FsKTohMSxzY29wZS5qdXN0aWZpZWQ9YW5ndWxhci5pc0RlZmluZWQoYXR0cnMuanVzdGlmaWVkKT9zY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmp1c3RpZmllZCk6ITF9fX0pLmRpcmVjdGl2ZSgidGFiIixbIiRwYXJzZSIsZnVuY3Rpb24oJHBhcnNlKXtyZXR1cm57cmVxdWlyZToiXnRhYnNldCIscmVzdHJpY3Q6IkVBIixyZXBsYWNlOiEwLHRlbXBsYXRlVXJsOiJ0ZW1wbGF0ZS90YWJzL3RhYi5odG1sIix0cmFuc2NsdWRlOiEwLHNjb3BlOnthY3RpdmU6Ij0/IixoZWFkaW5nOiJAIixvblNlbGVjdDoiJnNlbGVjdCIsb25EZXNlbGVjdDoiJmRlc2VsZWN0In0sY29udHJvbGxlcjpmdW5jdGlvbigpe30sY29tcGlsZTpmdW5jdGlvbihlbG0sYXR0cnMsdHJhbnNjbHVkZSl7cmV0dXJuIGZ1bmN0aW9uKHNjb3BlLGVsbSxhdHRycyx0YWJzZXRDdHJsKXtzY29wZS4kd2F0Y2goImFjdGl2ZSIsZnVuY3Rpb24oYWN0aXZlKXthY3RpdmUmJnRhYnNldEN0cmwuc2VsZWN0KHNjb3BlKX0pLHNjb3BlLmRpc2FibGVkPSExLGF0dHJzLmRpc2FibGVkJiZzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoYXR0cnMuZGlzYWJsZWQpLGZ1bmN0aW9uKHZhbHVlKXtzY29wZS5kaXNhYmxlZD0hIXZhbHVlfSksc2NvcGUuc2VsZWN0PWZ1bmN0aW9uKCl7c2NvcGUuZGlzYWJsZWR8fChzY29wZS5hY3RpdmU9ITApfSx0YWJzZXRDdHJsLmFkZFRhYihzY29wZSksc2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXt0YWJzZXRDdHJsLnJlbW92ZVRhYihzY29wZSl9KSxzY29wZS4kdHJhbnNjbHVkZUZuPXRyYW5zY2x1ZGV9fX19XSkuZGlyZWN0aXZlKCJ0YWJIZWFkaW5nVHJhbnNjbHVkZSIsW2Z1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJBIixyZXF1aXJlOiJedGFiIixsaW5rOmZ1bmN0aW9uKHNjb3BlLGVsbSl7c2NvcGUuJHdhdGNoKCJoZWFkaW5nRWxlbWVudCIsZnVuY3Rpb24oaGVhZGluZyl7aGVhZGluZyYmKGVsbS5odG1sKCIiKSxlbG0uYXBwZW5kKGhlYWRpbmcpKX0pfX19XSkuZGlyZWN0aXZlKCJ0YWJDb250ZW50VHJhbnNjbHVkZSIsZnVuY3Rpb24oKXtmdW5jdGlvbiBpc1RhYkhlYWRpbmcobm9kZSl7cmV0dXJuIG5vZGUudGFnTmFtZSYmKG5vZGUuaGFzQXR0cmlidXRlKCJ0YWItaGVhZGluZyIpfHxub2RlLmhhc0F0dHJpYnV0ZSgiZGF0YS10YWItaGVhZGluZyIpfHwidGFiLWhlYWRpbmciPT09bm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCl8fCJkYXRhLXRhYi1oZWFkaW5nIj09PW5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpKX1yZXR1cm57cmVzdHJpY3Q6IkEiLHJlcXVpcmU6Il50YWJzZXQiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxtLGF0dHJzKXt2YXIgdGFiPXNjb3BlLiRldmFsKGF0dHJzLnRhYkNvbnRlbnRUcmFuc2NsdWRlKTt0YWIuJHRyYW5zY2x1ZGVGbih0YWIuJHBhcmVudCxmdW5jdGlvbihjb250ZW50cyl7YW5ndWxhci5mb3JFYWNoKGNvbnRlbnRzLGZ1bmN0aW9uKG5vZGUpe2lzVGFiSGVhZGluZyhub2RlKT90YWIuaGVhZGluZ0VsZW1lbnQ9bm9kZTplbG0uYXBwZW5kKG5vZGUpfSl9KX19fSksYW5ndWxhci5tb2R1bGUoInVpLmJvb3RzdHJhcC50aW1lcGlja2VyIixbXSkuY29uc3RhbnQoInRpbWVwaWNrZXJDb25maWciLHtob3VyU3RlcDoxLG1pbnV0ZVN0ZXA6MSxzaG93TWVyaWRpYW46ITAsbWVyaWRpYW5zOm51bGwscmVhZG9ubHlJbnB1dDohMSxtb3VzZXdoZWVsOiEwfSkuY29udHJvbGxlcigiVGltZXBpY2tlckNvbnRyb2xsZXIiLFsiJHNjb3BlIiwiJGF0dHJzIiwiJHBhcnNlIiwiJGxvZyIsIiRsb2NhbGUiLCJ0aW1lcGlja2VyQ29uZmlnIixmdW5jdGlvbigkc2NvcGUsJGF0dHJzLCRwYXJzZSwkbG9nLCRsb2NhbGUsdGltZXBpY2tlckNvbmZpZyl7ZnVuY3Rpb24gZ2V0SG91cnNGcm9tVGVtcGxhdGUoKXt2YXIgaG91cnM9cGFyc2VJbnQoJHNjb3BlLmhvdXJzLDEwKSx2YWxpZD0kc2NvcGUuc2hvd01lcmlkaWFuP2hvdXJzPjAmJjEzPmhvdXJzOmhvdXJzPj0wJiYyND5ob3VycztyZXR1cm4gdmFsaWQ/KCRzY29wZS5zaG93TWVyaWRpYW4mJigxMj09PWhvdXJzJiYoaG91cnM9MCksJHNjb3BlLm1lcmlkaWFuPT09bWVyaWRpYW5zWzFdJiYoaG91cnMrPTEyKSksaG91cnMpOnZvaWQgMH1mdW5jdGlvbiBnZXRNaW51dGVzRnJvbVRlbXBsYXRlKCl7dmFyIG1pbnV0ZXM9cGFyc2VJbnQoJHNjb3BlLm1pbnV0ZXMsMTApO3JldHVybiBtaW51dGVzPj0wJiY2MD5taW51dGVzP21pbnV0ZXM6dm9pZCAwfWZ1bmN0aW9uIHBhZCh2YWx1ZSl7cmV0dXJuIGFuZ3VsYXIuaXNEZWZpbmVkKHZhbHVlKSYmdmFsdWUudG9TdHJpbmcoKS5sZW5ndGg8Mj8iMCIrdmFsdWU6dmFsdWV9ZnVuY3Rpb24gcmVmcmVzaChrZXlib2FyZENoYW5nZSl7bWFrZVZhbGlkKCksbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShuZXcgRGF0ZShzZWxlY3RlZCkpLHVwZGF0ZVRlbXBsYXRlKGtleWJvYXJkQ2hhbmdlKX1mdW5jdGlvbiBtYWtlVmFsaWQoKXtuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoInRpbWUiLCEwKSwkc2NvcGUuaW52YWxpZEhvdXJzPSExLCRzY29wZS5pbnZhbGlkTWludXRlcz0hMX1mdW5jdGlvbiB1cGRhdGVUZW1wbGF0ZShrZXlib2FyZENoYW5nZSl7dmFyIGhvdXJzPXNlbGVjdGVkLmdldEhvdXJzKCksbWludXRlcz1zZWxlY3RlZC5nZXRNaW51dGVzKCk7JHNjb3BlLnNob3dNZXJpZGlhbiYmKGhvdXJzPTA9PT1ob3Vyc3x8MTI9PT1ob3Vycz8xMjpob3VycyUxMiksJHNjb3BlLmhvdXJzPSJoIj09PWtleWJvYXJkQ2hhbmdlP2hvdXJzOnBhZChob3VycyksJHNjb3BlLm1pbnV0ZXM9Im0iPT09a2V5Ym9hcmRDaGFuZ2U/bWludXRlczpwYWQobWludXRlcyksJHNjb3BlLm1lcmlkaWFuPXNlbGVjdGVkLmdldEhvdXJzKCk8MTI/bWVyaWRpYW5zWzBdOm1lcmlkaWFuc1sxXX1mdW5jdGlvbiBhZGRNaW51dGVzKG1pbnV0ZXMpe3ZhciBkdD1uZXcgRGF0ZShzZWxlY3RlZC5nZXRUaW1lKCkrNmU0Km1pbnV0ZXMpO3NlbGVjdGVkLnNldEhvdXJzKGR0LmdldEhvdXJzKCksZHQuZ2V0TWludXRlcygpKSxyZWZyZXNoKCl9dmFyIHNlbGVjdGVkPW5ldyBEYXRlLG5nTW9kZWxDdHJsPXskc2V0Vmlld1ZhbHVlOmFuZ3VsYXIubm9vcH0sbWVyaWRpYW5zPWFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5tZXJpZGlhbnMpPyRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5tZXJpZGlhbnMpOnRpbWVwaWNrZXJDb25maWcubWVyaWRpYW5zfHwkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuQU1QTVM7dGhpcy5pbml0PWZ1bmN0aW9uKG5nTW9kZWxDdHJsXyxpbnB1dHMpe25nTW9kZWxDdHJsPW5nTW9kZWxDdHJsXyxuZ01vZGVsQ3RybC4kcmVuZGVyPXRoaXMucmVuZGVyO3ZhciBob3Vyc0lucHV0RWw9aW5wdXRzLmVxKDApLG1pbnV0ZXNJbnB1dEVsPWlucHV0cy5lcSgxKSxtb3VzZXdoZWVsPWFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5tb3VzZXdoZWVsKT8kc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMubW91c2V3aGVlbCk6dGltZXBpY2tlckNvbmZpZy5tb3VzZXdoZWVsO21vdXNld2hlZWwmJnRoaXMuc2V0dXBNb3VzZXdoZWVsRXZlbnRzKGhvdXJzSW5wdXRFbCxtaW51dGVzSW5wdXRFbCksJHNjb3BlLnJlYWRvbmx5SW5wdXQ9YW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnJlYWRvbmx5SW5wdXQpPyRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5yZWFkb25seUlucHV0KTp0aW1lcGlja2VyQ29uZmlnLnJlYWRvbmx5SW5wdXQsdGhpcy5zZXR1cElucHV0RXZlbnRzKGhvdXJzSW5wdXRFbCxtaW51dGVzSW5wdXRFbCl9O3ZhciBob3VyU3RlcD10aW1lcGlja2VyQ29uZmlnLmhvdXJTdGVwOyRhdHRycy5ob3VyU3RlcCYmJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMuaG91clN0ZXApLGZ1bmN0aW9uKHZhbHVlKXtob3VyU3RlcD1wYXJzZUludCh2YWx1ZSwxMCl9KTt2YXIgbWludXRlU3RlcD10aW1lcGlja2VyQ29uZmlnLm1pbnV0ZVN0ZXA7JGF0dHJzLm1pbnV0ZVN0ZXAmJiRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLm1pbnV0ZVN0ZXApLGZ1bmN0aW9uKHZhbHVlKXttaW51dGVTdGVwPXBhcnNlSW50KHZhbHVlLDEwKX0pLCRzY29wZS5zaG93TWVyaWRpYW49dGltZXBpY2tlckNvbmZpZy5zaG93TWVyaWRpYW4sJGF0dHJzLnNob3dNZXJpZGlhbiYmJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMuc2hvd01lcmlkaWFuKSxmdW5jdGlvbih2YWx1ZSl7aWYoJHNjb3BlLnNob3dNZXJpZGlhbj0hIXZhbHVlLG5nTW9kZWxDdHJsLiRlcnJvci50aW1lKXt2YXIgaG91cnM9Z2V0SG91cnNGcm9tVGVtcGxhdGUoKSxtaW51dGVzPWdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKTthbmd1bGFyLmlzRGVmaW5lZChob3VycykmJmFuZ3VsYXIuaXNEZWZpbmVkKG1pbnV0ZXMpJiYoc2VsZWN0ZWQuc2V0SG91cnMoaG91cnMpLHJlZnJlc2goKSl9ZWxzZSB1cGRhdGVUZW1wbGF0ZSgpfSksdGhpcy5zZXR1cE1vdXNld2hlZWxFdmVudHM9ZnVuY3Rpb24oaG91cnNJbnB1dEVsLG1pbnV0ZXNJbnB1dEVsKXt2YXIgaXNTY3JvbGxpbmdVcD1mdW5jdGlvbihlKXtlLm9yaWdpbmFsRXZlbnQmJihlPWUub3JpZ2luYWxFdmVudCk7dmFyIGRlbHRhPWUud2hlZWxEZWx0YT9lLndoZWVsRGVsdGE6LWUuZGVsdGFZO3JldHVybiBlLmRldGFpbHx8ZGVsdGE+MH07aG91cnNJbnB1dEVsLmJpbmQoIm1vdXNld2hlZWwgd2hlZWwiLGZ1bmN0aW9uKGUpeyRzY29wZS4kYXBwbHkoaXNTY3JvbGxpbmdVcChlKT8kc2NvcGUuaW5jcmVtZW50SG91cnMoKTokc2NvcGUuZGVjcmVtZW50SG91cnMoKSksZS5wcmV2ZW50RGVmYXVsdCgpfSksbWludXRlc0lucHV0RWwuYmluZCgibW91c2V3aGVlbCB3aGVlbCIsZnVuY3Rpb24oZSl7JHNjb3BlLiRhcHBseShpc1Njcm9sbGluZ1VwKGUpPyRzY29wZS5pbmNyZW1lbnRNaW51dGVzKCk6JHNjb3BlLmRlY3JlbWVudE1pbnV0ZXMoKSksZS5wcmV2ZW50RGVmYXVsdCgpfSl9LHRoaXMuc2V0dXBJbnB1dEV2ZW50cz1mdW5jdGlvbihob3Vyc0lucHV0RWwsbWludXRlc0lucHV0RWwpe2lmKCRzY29wZS5yZWFkb25seUlucHV0KXJldHVybiAkc2NvcGUudXBkYXRlSG91cnM9YW5ndWxhci5ub29wLHZvaWQoJHNjb3BlLnVwZGF0ZU1pbnV0ZXM9YW5ndWxhci5ub29wKTt2YXIgaW52YWxpZGF0ZT1mdW5jdGlvbihpbnZhbGlkSG91cnMsaW52YWxpZE1pbnV0ZXMpe25nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUobnVsbCksbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCJ0aW1lIiwhMSksYW5ndWxhci5pc0RlZmluZWQoaW52YWxpZEhvdXJzKSYmKCRzY29wZS5pbnZhbGlkSG91cnM9aW52YWxpZEhvdXJzKSxhbmd1bGFyLmlzRGVmaW5lZChpbnZhbGlkTWludXRlcykmJigkc2NvcGUuaW52YWxpZE1pbnV0ZXM9aW52YWxpZE1pbnV0ZXMpfTskc2NvcGUudXBkYXRlSG91cnM9ZnVuY3Rpb24oKXt2YXIgaG91cnM9Z2V0SG91cnNGcm9tVGVtcGxhdGUoKTthbmd1bGFyLmlzRGVmaW5lZChob3Vycyk/KHNlbGVjdGVkLnNldEhvdXJzKGhvdXJzKSxyZWZyZXNoKCJoIikpOmludmFsaWRhdGUoITApfSxob3Vyc0lucHV0RWwuYmluZCgiYmx1ciIsZnVuY3Rpb24oKXshJHNjb3BlLmludmFsaWRIb3VycyYmJHNjb3BlLmhvdXJzPDEwJiYkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7JHNjb3BlLmhvdXJzPXBhZCgkc2NvcGUuaG91cnMpfSl9KSwkc2NvcGUudXBkYXRlTWludXRlcz1mdW5jdGlvbigpe3ZhciBtaW51dGVzPWdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKTthbmd1bGFyLmlzRGVmaW5lZChtaW51dGVzKT8oc2VsZWN0ZWQuc2V0TWludXRlcyhtaW51dGVzKSxyZWZyZXNoKCJtIikpOmludmFsaWRhdGUodm9pZCAwLCEwKX0sbWludXRlc0lucHV0RWwuYmluZCgiYmx1ciIsZnVuY3Rpb24oKXshJHNjb3BlLmludmFsaWRNaW51dGVzJiYkc2NvcGUubWludXRlczwxMCYmJHNjb3BlLiRhcHBseShmdW5jdGlvbigpeyRzY29wZS5taW51dGVzPXBhZCgkc2NvcGUubWludXRlcyl9KX0pfSx0aGlzLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBkYXRlPW5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlP25ldyBEYXRlKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlKTpudWxsO2lzTmFOKGRhdGUpPyhuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoInRpbWUiLCExKSwkbG9nLmVycm9yKCdUaW1lcGlja2VyIGRpcmVjdGl2ZTogIm5nLW1vZGVsIiB2YWx1ZSBtdXN0IGJlIGEgRGF0ZSBvYmplY3QsIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSAwMS4wMS4xOTcwIG9yIGEgc3RyaW5nIHJlcHJlc2VudGluZyBhbiBSRkMyODIyIG9yIElTTyA4NjAxIGRhdGUuJykpOihkYXRlJiYoc2VsZWN0ZWQ9ZGF0ZSksbWFrZVZhbGlkKCksdXBkYXRlVGVtcGxhdGUoKSl9LCRzY29wZS5pbmNyZW1lbnRIb3Vycz1mdW5jdGlvbigpe2FkZE1pbnV0ZXMoNjAqaG91clN0ZXApfSwkc2NvcGUuZGVjcmVtZW50SG91cnM9ZnVuY3Rpb24oKXthZGRNaW51dGVzKDYwKi1ob3VyU3RlcCl9LCRzY29wZS5pbmNyZW1lbnRNaW51dGVzPWZ1bmN0aW9uKCl7YWRkTWludXRlcyhtaW51dGVTdGVwKX0sJHNjb3BlLmRlY3JlbWVudE1pbnV0ZXM9ZnVuY3Rpb24oKXthZGRNaW51dGVzKC1taW51dGVTdGVwKX0sJHNjb3BlLnRvZ2dsZU1lcmlkaWFuPWZ1bmN0aW9uKCl7YWRkTWludXRlcyg3MjAqKHNlbGVjdGVkLmdldEhvdXJzKCk8MTI/MTotMSkpfX1dKS5kaXJlY3RpdmUoInRpbWVwaWNrZXIiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OiJFQSIscmVxdWlyZTpbInRpbWVwaWNrZXIiLCI/Xm5nTW9kZWwiXSxjb250cm9sbGVyOiJUaW1lcGlja2VyQ29udHJvbGxlciIscmVwbGFjZTohMCxzY29wZTp7fSx0ZW1wbGF0ZVVybDoidGVtcGxhdGUvdGltZXBpY2tlci90aW1lcGlja2VyLmh0bWwiLGxpbms6ZnVuY3Rpb24oc2NvcGUsZWxlbWVudCxhdHRycyxjdHJscyl7dmFyIHRpbWVwaWNrZXJDdHJsPWN0cmxzWzBdLG5nTW9kZWxDdHJsPWN0cmxzWzFdO25nTW9kZWxDdHJsJiZ0aW1lcGlja2VyQ3RybC5pbml0KG5nTW9kZWxDdHJsLGVsZW1lbnQuZmluZCgiaW5wdXQiKSl9fX0pLGFuZ3VsYXIubW9kdWxlKCJ1aS5ib290c3RyYXAudHlwZWFoZWFkIixbInVpLmJvb3RzdHJhcC5wb3NpdGlvbiIsInVpLmJvb3RzdHJhcC5iaW5kSHRtbCJdKS5mYWN0b3J5KCJ0eXBlYWhlYWRQYXJzZXIiLFsiJHBhcnNlIixmdW5jdGlvbigkcGFyc2Upe3ZhciBUWVBFQUhFQURfUkVHRVhQPS9eXHMqKFtcc1xTXSs/KSg/OlxzK2FzXHMrKFtcc1xTXSs/KSk/XHMrZm9yXHMrKD86KFtcJFx3XVtcJFx3XGRdKikpXHMraW5ccysoW1xzXFNdKz8pJC87cmV0dXJue3BhcnNlOmZ1bmN0aW9uKGlucHV0KXt2YXIgbWF0Y2g9aW5wdXQubWF0Y2goVFlQRUFIRUFEX1JFR0VYUCk7aWYoIW1hdGNoKXRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdHlwZWFoZWFkIHNwZWNpZmljYXRpb24gaW4gZm9ybSBvZiAiX21vZGVsVmFsdWVfIChhcyBfbGFiZWxfKT8gZm9yIF9pdGVtXyBpbiBfY29sbGVjdGlvbl8iIGJ1dCBnb3QgIicraW5wdXQrJyIuJyk7cmV0dXJue2l0ZW1OYW1lOm1hdGNoWzNdLHNvdXJjZTokcGFyc2UobWF0Y2hbNF0pLHZpZXdNYXBwZXI6JHBhcnNlKG1hdGNoWzJdfHxtYXRjaFsxXSksbW9kZWxNYXBwZXI6JHBhcnNlKG1hdGNoWzFdKX19fX1dKS5kaXJlY3RpdmUoInR5cGVhaGVhZCIsWyIkY29tcGlsZSIsIiRwYXJzZSIsIiRxIiwiJHRpbWVvdXQiLCIkZG9jdW1lbnQiLCIkcG9zaXRpb24iLCJ0eXBlYWhlYWRQYXJzZXIiLGZ1bmN0aW9uKCRjb21waWxlLCRwYXJzZSwkcSwkdGltZW91dCwkZG9jdW1lbnQsJHBvc2l0aW9uLHR5cGVhaGVhZFBhcnNlcil7dmFyIEhPVF9LRVlTPVs5LDEzLDI3LDM4LDQwXTtyZXR1cm57cmVxdWlyZToibmdNb2RlbCIsbGluazpmdW5jdGlvbihvcmlnaW5hbFNjb3BlLGVsZW1lbnQsYXR0cnMsbW9kZWxDdHJsKXt2YXIgaGFzRm9jdXMsbWluU2VhcmNoPW9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkTWluTGVuZ3RoKXx8MSx3YWl0VGltZT1vcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZFdhaXRNcyl8fDAsaXNFZGl0YWJsZT1vcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZEVkaXRhYmxlKSE9PSExLGlzTG9hZGluZ1NldHRlcj0kcGFyc2UoYXR0cnMudHlwZWFoZWFkTG9hZGluZykuYXNzaWdufHxhbmd1bGFyLm5vb3Asb25TZWxlY3RDYWxsYmFjaz0kcGFyc2UoYXR0cnMudHlwZWFoZWFkT25TZWxlY3QpLGlucHV0Rm9ybWF0dGVyPWF0dHJzLnR5cGVhaGVhZElucHV0Rm9ybWF0dGVyPyRwYXJzZShhdHRycy50eXBlYWhlYWRJbnB1dEZvcm1hdHRlcik6dm9pZCAwLGFwcGVuZFRvQm9keT1hdHRycy50eXBlYWhlYWRBcHBlbmRUb0JvZHk/b3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRBcHBlbmRUb0JvZHkpOiExLCRzZXRNb2RlbFZhbHVlPSRwYXJzZShhdHRycy5uZ01vZGVsKS5hc3NpZ24scGFyc2VyUmVzdWx0PXR5cGVhaGVhZFBhcnNlci5wYXJzZShhdHRycy50eXBlYWhlYWQpLHNjb3BlPW9yaWdpbmFsU2NvcGUuJG5ldygpO29yaWdpbmFsU2NvcGUuJG9uKCIkZGVzdHJveSIsZnVuY3Rpb24oKXtzY29wZS4kZGVzdHJveSgpfSk7dmFyIHBvcHVwSWQ9InR5cGVhaGVhZC0iK3Njb3BlLiRpZCsiLSIrTWF0aC5mbG9vcigxZTQqTWF0aC5yYW5kb20oKSk7ZWxlbWVudC5hdHRyKHsiYXJpYS1hdXRvY29tcGxldGUiOiJsaXN0IiwiYXJpYS1leHBhbmRlZCI6ITEsImFyaWEtb3ducyI6cG9wdXBJZH0pO3ZhciBwb3BVcEVsPWFuZ3VsYXIuZWxlbWVudCgiPGRpdiB0eXBlYWhlYWQtcG9wdXA+PC9kaXY+Iik7cG9wVXBFbC5hdHRyKHtpZDpwb3B1cElkLG1hdGNoZXM6Im1hdGNoZXMiLGFjdGl2ZToiYWN0aXZlSWR4IixzZWxlY3Q6InNlbGVjdChhY3RpdmVJZHgpIixxdWVyeToicXVlcnkiLHBvc2l0aW9uOiJwb3NpdGlvbiJ9KSxhbmd1bGFyLmlzRGVmaW5lZChhdHRycy50eXBlYWhlYWRUZW1wbGF0ZVVybCkmJnBvcFVwRWwuYXR0cigidGVtcGxhdGUtdXJsIixhdHRycy50eXBlYWhlYWRUZW1wbGF0ZVVybCk7dmFyIHJlc2V0TWF0Y2hlcz1mdW5jdGlvbigpe3Njb3BlLm1hdGNoZXM9W10sc2NvcGUuYWN0aXZlSWR4PS0xLGVsZW1lbnQuYXR0cigiYXJpYS1leHBhbmRlZCIsITEpfSxnZXRNYXRjaElkPWZ1bmN0aW9uKGluZGV4KXtyZXR1cm4gcG9wdXBJZCsiLW9wdGlvbi0iK2luZGV4fTtzY29wZS4kd2F0Y2goImFjdGl2ZUlkeCIsZnVuY3Rpb24oaW5kZXgpezA+aW5kZXg/ZWxlbWVudC5yZW1vdmVBdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiKTplbGVtZW50LmF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIsZ2V0TWF0Y2hJZChpbmRleCkpfSk7dmFyIGdldE1hdGNoZXNBc3luYz1mdW5jdGlvbihpbnB1dFZhbHVlKXt2YXIgbG9jYWxzPXskdmlld1ZhbHVlOmlucHV0VmFsdWV9O2lzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCEwKSwkcS53aGVuKHBhcnNlclJlc3VsdC5zb3VyY2Uob3JpZ2luYWxTY29wZSxsb2NhbHMpKS50aGVuKGZ1bmN0aW9uKG1hdGNoZXMpe3ZhciBvbkN1cnJlbnRSZXF1ZXN0PWlucHV0VmFsdWU9PT1tb2RlbEN0cmwuJHZpZXdWYWx1ZTtpZihvbkN1cnJlbnRSZXF1ZXN0JiZoYXNGb2N1cylpZihtYXRjaGVzLmxlbmd0aD4wKXtzY29wZS5hY3RpdmVJZHg9MCxzY29wZS5tYXRjaGVzLmxlbmd0aD0wO2Zvcih2YXIgaT0wO2k8bWF0Y2hlcy5sZW5ndGg7aSsrKWxvY2Fsc1twYXJzZXJSZXN1bHQuaXRlbU5hbWVdPW1hdGNoZXNbaV0sc2NvcGUubWF0Y2hlcy5wdXNoKHtpZDpnZXRNYXRjaElkKGkpLGxhYmVsOnBhcnNlclJlc3VsdC52aWV3TWFwcGVyKHNjb3BlLGxvY2FscyksbW9kZWw6bWF0Y2hlc1tpXX0pO3Njb3BlLnF1ZXJ5PWlucHV0VmFsdWUsc2NvcGUucG9zaXRpb249YXBwZW5kVG9Cb2R5PyRwb3NpdGlvbi5vZmZzZXQoZWxlbWVudCk6JHBvc2l0aW9uLnBvc2l0aW9uKGVsZW1lbnQpLHNjb3BlLnBvc2l0aW9uLnRvcD1zY29wZS5wb3NpdGlvbi50b3ArZWxlbWVudC5wcm9wKCJvZmZzZXRIZWlnaHQiKSxlbGVtZW50LmF0dHIoImFyaWEtZXhwYW5kZWQiLCEwKX1lbHNlIHJlc2V0TWF0Y2hlcygpO29uQ3VycmVudFJlcXVlc3QmJmlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCExKX0sZnVuY3Rpb24oKXtyZXNldE1hdGNoZXMoKSxpc0xvYWRpbmdTZXR0ZXIob3JpZ2luYWxTY29wZSwhMSl9KX07cmVzZXRNYXRjaGVzKCksc2NvcGUucXVlcnk9dm9pZCAwO3ZhciB0aW1lb3V0UHJvbWlzZSxzY2hlZHVsZVNlYXJjaFdpdGhUaW1lb3V0PWZ1bmN0aW9uKGlucHV0VmFsdWUpe3RpbWVvdXRQcm9taXNlPSR0aW1lb3V0KGZ1bmN0aW9uKCl7Z2V0TWF0Y2hlc0FzeW5jKGlucHV0VmFsdWUpfSx3YWl0VGltZSl9LGNhbmNlbFByZXZpb3VzVGltZW91dD1mdW5jdGlvbigpe3RpbWVvdXRQcm9taXNlJiYkdGltZW91dC5jYW5jZWwodGltZW91dFByb21pc2UpfTttb2RlbEN0cmwuJHBhcnNlcnMudW5zaGlmdChmdW5jdGlvbihpbnB1dFZhbHVlKXtyZXR1cm4gaGFzRm9jdXM9ITAsaW5wdXRWYWx1ZSYmaW5wdXRWYWx1ZS5sZW5ndGg+PW1pblNlYXJjaD93YWl0VGltZT4wPyhjYW5jZWxQcmV2aW91c1RpbWVvdXQoKSxzY2hlZHVsZVNlYXJjaFdpdGhUaW1lb3V0KGlucHV0VmFsdWUpKTpnZXRNYXRjaGVzQXN5bmMoaW5wdXRWYWx1ZSk6KGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCExKSxjYW5jZWxQcmV2aW91c1RpbWVvdXQoKSxyZXNldE1hdGNoZXMoKSksaXNFZGl0YWJsZT9pbnB1dFZhbHVlOmlucHV0VmFsdWU/dm9pZCBtb2RlbEN0cmwuJHNldFZhbGlkaXR5KCJlZGl0YWJsZSIsITEpOihtb2RlbEN0cmwuJHNldFZhbGlkaXR5KCJlZGl0YWJsZSIsITApLGlucHV0VmFsdWUpfSksbW9kZWxDdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24obW9kZWxWYWx1ZSl7dmFyIGNhbmRpZGF0ZVZpZXdWYWx1ZSxlbXB0eVZpZXdWYWx1ZSxsb2NhbHM9e307cmV0dXJuIGlucHV0Rm9ybWF0dGVyPyhsb2NhbHMuJG1vZGVsPW1vZGVsVmFsdWUsaW5wdXRGb3JtYXR0ZXIob3JpZ2luYWxTY29wZSxsb2NhbHMpKToobG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV09bW9kZWxWYWx1ZSxjYW5kaWRhdGVWaWV3VmFsdWU9cGFyc2VyUmVzdWx0LnZpZXdNYXBwZXIob3JpZ2luYWxTY29wZSxsb2NhbHMpLGxvY2Fsc1twYXJzZXJSZXN1bHQuaXRlbU5hbWVdPXZvaWQgMCxlbXB0eVZpZXdWYWx1ZT1wYXJzZXJSZXN1bHQudmlld01hcHBlcihvcmlnaW5hbFNjb3BlLGxvY2FscyksY2FuZGlkYXRlVmlld1ZhbHVlIT09ZW1wdHlWaWV3VmFsdWU/Y2FuZGlkYXRlVmlld1ZhbHVlOm1vZGVsVmFsdWUpfSksc2NvcGUuc2VsZWN0PWZ1bmN0aW9uKGFjdGl2ZUlkeCl7dmFyIG1vZGVsLGl0ZW0sbG9jYWxzPXt9O2xvY2Fsc1twYXJzZXJSZXN1bHQuaXRlbU5hbWVdPWl0ZW09c2NvcGUubWF0Y2hlc1thY3RpdmVJZHhdLm1vZGVsLG1vZGVsPXBhcnNlclJlc3VsdC5tb2RlbE1hcHBlcihvcmlnaW5hbFNjb3BlLGxvY2FscyksJHNldE1vZGVsVmFsdWUob3JpZ2luYWxTY29wZSxtb2RlbCksbW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgiZWRpdGFibGUiLCEwKSxvblNlbGVjdENhbGxiYWNrKG9yaWdpbmFsU2NvcGUseyRpdGVtOml0ZW0sJG1vZGVsOm1vZGVsLCRsYWJlbDpwYXJzZXJSZXN1bHQudmlld01hcHBlcihvcmlnaW5hbFNjb3BlLGxvY2Fscyl9KSxyZXNldE1hdGNoZXMoKSwkdGltZW91dChmdW5jdGlvbigpe2VsZW1lbnRbMF0uZm9jdXMoKX0sMCwhMSl9LGVsZW1lbnQuYmluZCgia2V5ZG93biIsZnVuY3Rpb24oZXZ0KXswIT09c2NvcGUubWF0Y2hlcy5sZW5ndGgmJi0xIT09SE9UX0tFWVMuaW5kZXhPZihldnQud2hpY2gpJiYoZXZ0LnByZXZlbnREZWZhdWx0KCksNDA9PT1ldnQud2hpY2g/KHNjb3BlLmFjdGl2ZUlkeD0oc2NvcGUuYWN0aXZlSWR4KzEpJXNjb3BlLm1hdGNoZXMubGVuZ3RoLHNjb3BlLiRkaWdlc3QoKSk6Mzg9PT1ldnQud2hpY2g/KHNjb3BlLmFjdGl2ZUlkeD0oc2NvcGUuYWN0aXZlSWR4P3Njb3BlLmFjdGl2ZUlkeDpzY29wZS5tYXRjaGVzLmxlbmd0aCktMSxzY29wZS4kZGlnZXN0KCkpOjEzPT09ZXZ0LndoaWNofHw5PT09ZXZ0LndoaWNoP3Njb3BlLiRhcHBseShmdW5jdGlvbigpe3Njb3BlLnNlbGVjdChzY29wZS5hY3RpdmVJZHgpfSk6Mjc9PT1ldnQud2hpY2gmJihldnQuc3RvcFByb3BhZ2F0aW9uKCkscmVzZXRNYXRjaGVzKCksc2NvcGUuJGRpZ2VzdCgpKSl9KSxlbGVtZW50LmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7aGFzRm9jdXM9ITF9KTt2YXIgZGlzbWlzc0NsaWNrSGFuZGxlcj1mdW5jdGlvbihldnQpe2VsZW1lbnRbMF0hPT1ldnQudGFyZ2V0JiYocmVzZXRNYXRjaGVzKCksc2NvcGUuJGRpZ2VzdCgpKX07JGRvY3VtZW50LmJpbmQoImNsaWNrIixkaXNtaXNzQ2xpY2tIYW5kbGVyKSxvcmlnaW5hbFNjb3BlLiRvbigiJGRlc3Ryb3kiLGZ1bmN0aW9uKCl7JGRvY3VtZW50LnVuYmluZCgiY2xpY2siLGRpc21pc3NDbGlja0hhbmRsZXIpfSk7dmFyICRwb3B1cD0kY29tcGlsZShwb3BVcEVsKShzY29wZSk7YXBwZW5kVG9Cb2R5PyRkb2N1bWVudC5maW5kKCJib2R5IikuYXBwZW5kKCRwb3B1cCk6ZWxlbWVudC5hZnRlcigkcG9wdXApfX19XSkuZGlyZWN0aXZlKCJ0eXBlYWhlYWRQb3B1cCIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6IkVBIixzY29wZTp7bWF0Y2hlczoiPSIscXVlcnk6Ij0iLGFjdGl2ZToiPSIscG9zaXRpb246Ij0iLHNlbGVjdDoiJiJ9LHJlcGxhY2U6ITAsdGVtcGxhdGVVcmw6InRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbCIsbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzKXtzY29wZS50ZW1wbGF0ZVVybD1hdHRycy50ZW1wbGF0ZVVybCxzY29wZS5pc09wZW49ZnVuY3Rpb24oKXtyZXR1cm4gc2NvcGUubWF0Y2hlcy5sZW5ndGg+MH0sc2NvcGUuaXNBY3RpdmU9ZnVuY3Rpb24obWF0Y2hJZHgpe3JldHVybiBzY29wZS5hY3RpdmU9PW1hdGNoSWR4fSxzY29wZS5zZWxlY3RBY3RpdmU9ZnVuY3Rpb24obWF0Y2hJZHgpe3Njb3BlLmFjdGl2ZT1tYXRjaElkeH0sc2NvcGUuc2VsZWN0TWF0Y2g9ZnVuY3Rpb24oYWN0aXZlSWR4KXtzY29wZS5zZWxlY3Qoe2FjdGl2ZUlkeDphY3RpdmVJZHh9KX19fX0pLmRpcmVjdGl2ZSgidHlwZWFoZWFkTWF0Y2giLFsiJGh0dHAiLCIkdGVtcGxhdGVDYWNoZSIsIiRjb21waWxlIiwiJHBhcnNlIixmdW5jdGlvbigkaHR0cCwkdGVtcGxhdGVDYWNoZSwkY29tcGlsZSwkcGFyc2Upe3JldHVybntyZXN0cmljdDoiRUEiLHNjb3BlOntpbmRleDoiPSIsbWF0Y2g6Ij0iLHF1ZXJ5OiI9In0sbGluazpmdW5jdGlvbihzY29wZSxlbGVtZW50LGF0dHJzKXt2YXIgdHBsVXJsPSRwYXJzZShhdHRycy50ZW1wbGF0ZVVybCkoc2NvcGUuJHBhcmVudCl8fCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWwiOyRodHRwLmdldCh0cGxVcmwse2NhY2hlOiR0ZW1wbGF0ZUNhY2hlfSkuc3VjY2VzcyhmdW5jdGlvbih0cGxDb250ZW50KXtlbGVtZW50LnJlcGxhY2VXaXRoKCRjb21waWxlKHRwbENvbnRlbnQudHJpbSgpKShzY29wZSkpfSl9fX1dKS5maWx0ZXIoInR5cGVhaGVhZEhpZ2hsaWdodCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBlc2NhcGVSZWdleHAocXVlcnlUb0VzY2FwZSl7cmV0dXJuIHF1ZXJ5VG9Fc2NhcGUucmVwbGFjZSgvKFsuPyorXiRbXF1cXCgpe318LV0pL2csIlxcJDEiKX1yZXR1cm4gZnVuY3Rpb24obWF0Y2hJdGVtLHF1ZXJ5KXtyZXR1cm4gcXVlcnk/KCIiK21hdGNoSXRlbSkucmVwbGFjZShuZXcgUmVnRXhwKGVzY2FwZVJlZ2V4cChxdWVyeSksImdpIiksIjxzdHJvbmc+JCY8L3N0cm9uZz4iKTptYXRjaEl0ZW19fSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWwiLCc8ZGl2IGNsYXNzPSJwYW5lbCBwYW5lbC1kZWZhdWx0Ij5cbiAgPGRpdiBjbGFzcz0icGFuZWwtaGVhZGluZyI+XG4gICAgPGg0IGNsYXNzPSJwYW5lbC10aXRsZSI+XG4gICAgICA8YSBjbGFzcz0iYWNjb3JkaW9uLXRvZ2dsZSIgbmctY2xpY2s9InRvZ2dsZU9wZW4oKSIgYWNjb3JkaW9uLXRyYW5zY2x1ZGU9ImhlYWRpbmciPjxzcGFuIG5nLWNsYXNzPSJ7XCd0ZXh0LW11dGVkXCc6IGlzRGlzYWJsZWR9Ij57e2hlYWRpbmd9fTwvc3Bhbj48L2E+XG4gICAgPC9oND5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9InBhbmVsLWNvbGxhcHNlIiBjb2xsYXBzZT0iIWlzT3BlbiI+XG4JICA8ZGl2IGNsYXNzPSJwYW5lbC1ib2R5IiBuZy10cmFuc2NsdWRlPjwvZGl2PlxuICA8L2Rpdj5cbjwvZGl2PicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sIiwnPGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+Jyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvYWxlcnQvYWxlcnQuaHRtbCIsJzxkaXYgY2xhc3M9ImFsZXJ0IiBuZy1jbGFzcz0iW1wnYWxlcnQtXCcgKyAodHlwZSB8fCBcJ3dhcm5pbmdcJyksIGNsb3NlYWJsZSA/IFwnYWxlcnQtZGlzbWlzc2FibGVcJyA6IG51bGxdIiByb2xlPSJhbGVydCI+XG4gICAgPGJ1dHRvbiBuZy1zaG93PSJjbG9zZWFibGUiIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImNsb3NlIiBuZy1jbGljaz0iY2xvc2UoKSI+XG4gICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPSJ0cnVlIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz0ic3Itb25seSI+Q2xvc2U8L3NwYW4+XG4gICAgPC9idXR0b24+XG4gICAgPGRpdiBuZy10cmFuc2NsdWRlPjwvZGl2PlxuPC9kaXY+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sIiwnPGRpdiBuZy1tb3VzZWVudGVyPSJwYXVzZSgpIiBuZy1tb3VzZWxlYXZlPSJwbGF5KCkiIGNsYXNzPSJjYXJvdXNlbCIgbmctc3dpcGUtcmlnaHQ9InByZXYoKSIgbmctc3dpcGUtbGVmdD0ibmV4dCgpIj5cbiAgICA8b2wgY2xhc3M9ImNhcm91c2VsLWluZGljYXRvcnMiIG5nLXNob3c9InNsaWRlcy5sZW5ndGggPiAxIj5cbiAgICAgICAgPGxpIG5nLXJlcGVhdD0ic2xpZGUgaW4gc2xpZGVzIHRyYWNrIGJ5ICRpbmRleCIgbmctY2xhc3M9InthY3RpdmU6IGlzQWN0aXZlKHNsaWRlKX0iIG5nLWNsaWNrPSJzZWxlY3Qoc2xpZGUpIj48L2xpPlxuICAgIDwvb2w+XG4gICAgPGRpdiBjbGFzcz0iY2Fyb3VzZWwtaW5uZXIiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XG4gICAgPGEgY2xhc3M9ImxlZnQgY2Fyb3VzZWwtY29udHJvbCIgbmctY2xpY2s9InByZXYoKSIgbmctc2hvdz0ic2xpZGVzLmxlbmd0aCA+IDEiPjxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdCI+PC9zcGFuPjwvYT5cbiAgICA8YSBjbGFzcz0icmlnaHQgY2Fyb3VzZWwtY29udHJvbCIgbmctY2xpY2s9Im5leHQoKSIgbmctc2hvdz0ic2xpZGVzLmxlbmd0aCA+IDEiPjxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHQiPjwvc3Bhbj48L2E+XG48L2Rpdj5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWwiLCI8ZGl2IG5nLWNsYXNzPVwie1xuICAgICdhY3RpdmUnOiBsZWF2aW5nIHx8IChhY3RpdmUgJiYgIWVudGVyaW5nKSxcbiAgICAncHJldic6IChuZXh0IHx8IGFjdGl2ZSkgJiYgZGlyZWN0aW9uPT0ncHJldicsXG4gICAgJ25leHQnOiAobmV4dCB8fCBhY3RpdmUpICYmIGRpcmVjdGlvbj09J25leHQnLFxuICAgICdyaWdodCc6IGRpcmVjdGlvbj09J3ByZXYnLFxuICAgICdsZWZ0JzogZGlyZWN0aW9uPT0nbmV4dCdcbiAgfVwiIGNsYXNzPVwiaXRlbSB0ZXh0LWNlbnRlclwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XG4iKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWwiLCc8ZGl2IG5nLXN3aXRjaD0iZGF0ZXBpY2tlck1vZGUiIHJvbGU9ImFwcGxpY2F0aW9uIiBuZy1rZXlkb3duPSJrZXlkb3duKCRldmVudCkiPlxuICA8ZGF5cGlja2VyIG5nLXN3aXRjaC13aGVuPSJkYXkiIHRhYmluZGV4PSIwIj48L2RheXBpY2tlcj5cbiAgPG1vbnRocGlja2VyIG5nLXN3aXRjaC13aGVuPSJtb250aCIgdGFiaW5kZXg9IjAiPjwvbW9udGhwaWNrZXI+XG4gIDx5ZWFycGlja2VyIG5nLXN3aXRjaC13aGVuPSJ5ZWFyIiB0YWJpbmRleD0iMCI+PC95ZWFycGlja2VyPlxuPC9kaXY+Jyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF5Lmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbCIsJzx0YWJsZSByb2xlPSJncmlkIiBhcmlhLWxhYmVsbGVkYnk9Int7dW5pcXVlSWR9fS10aXRsZSIgYXJpYS1hY3RpdmVkZXNjZW5kYW50PSJ7e2FjdGl2ZURhdGVJZH19Ij5cbiAgPHRoZWFkPlxuICAgIDx0cj5cbiAgICAgIDx0aD48YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0IiBuZy1jbGljaz0ibW92ZSgtMSkiIHRhYmluZGV4PSItMSI+PGkgY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0Ij48L2k+PC9idXR0b24+PC90aD5cbiAgICAgIDx0aCBjb2xzcGFuPSJ7ezUgKyBzaG93V2Vla3N9fSI+PGJ1dHRvbiBpZD0ie3t1bmlxdWVJZH19LXRpdGxlIiByb2xlPSJoZWFkaW5nIiBhcmlhLWxpdmU9ImFzc2VydGl2ZSIgYXJpYS1hdG9taWM9InRydWUiIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBidG4tc20iIG5nLWNsaWNrPSJ0b2dnbGVNb2RlKCkiIHRhYmluZGV4PSItMSIgc3R5bGU9IndpZHRoOjEwMCU7Ij48c3Ryb25nPnt7dGl0bGV9fTwvc3Ryb25nPjwvYnV0dG9uPjwvdGg+XG4gICAgICA8dGg+PGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHQiIG5nLWNsaWNrPSJtb3ZlKDEpIiB0YWJpbmRleD0iLTEiPjxpIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHQiPjwvaT48L2J1dHRvbj48L3RoPlxuICAgIDwvdHI+XG4gICAgPHRyPlxuICAgICAgPHRoIG5nLXNob3c9InNob3dXZWVrcyIgY2xhc3M9InRleHQtY2VudGVyIj48L3RoPlxuICAgICAgPHRoIG5nLXJlcGVhdD0ibGFiZWwgaW4gbGFiZWxzIHRyYWNrIGJ5ICRpbmRleCIgY2xhc3M9InRleHQtY2VudGVyIj48c21hbGwgYXJpYS1sYWJlbD0ie3tsYWJlbC5mdWxsfX0iPnt7bGFiZWwuYWJicn19PC9zbWFsbD48L3RoPlxuICAgIDwvdHI+XG4gIDwvdGhlYWQ+XG4gIDx0Ym9keT5cbiAgICA8dHIgbmctcmVwZWF0PSJyb3cgaW4gcm93cyB0cmFjayBieSAkaW5kZXgiPlxuICAgICAgPHRkIG5nLXNob3c9InNob3dXZWVrcyIgY2xhc3M9InRleHQtY2VudGVyIGg2Ij48ZW0+e3sgd2Vla051bWJlcnNbJGluZGV4XSB9fTwvZW0+PC90ZD5cbiAgICAgIDx0ZCBuZy1yZXBlYXQ9ImR0IGluIHJvdyB0cmFjayBieSBkdC5kYXRlIiBjbGFzcz0idGV4dC1jZW50ZXIiIHJvbGU9ImdyaWRjZWxsIiBpZD0ie3tkdC51aWR9fSIgYXJpYS1kaXNhYmxlZD0ie3shIWR0LmRpc2FibGVkfX0iPlxuICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgc3R5bGU9IndpZHRoOjEwMCU7IiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSIgbmctY2xhc3M9IntcJ2J0bi1pbmZvXCc6IGR0LnNlbGVjdGVkLCBhY3RpdmU6IGlzQWN0aXZlKGR0KX0iIG5nLWNsaWNrPSJzZWxlY3QoZHQuZGF0ZSkiIG5nLWRpc2FibGVkPSJkdC5kaXNhYmxlZCIgdGFiaW5kZXg9Ii0xIj48c3BhbiBuZy1jbGFzcz0ie1wndGV4dC1tdXRlZFwnOiBkdC5zZWNvbmRhcnksIFwndGV4dC1pbmZvXCc6IGR0LmN1cnJlbnR9Ij57e2R0LmxhYmVsfX08L3NwYW4+PC9idXR0b24+XG4gICAgICA8L3RkPlxuICAgIDwvdHI+XG4gIDwvdGJvZHk+XG48L3RhYmxlPlxuJyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL2RhdGVwaWNrZXIvbW9udGguaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWwiLCc8dGFibGUgcm9sZT0iZ3JpZCIgYXJpYS1sYWJlbGxlZGJ5PSJ7e3VuaXF1ZUlkfX0tdGl0bGUiIGFyaWEtYWN0aXZlZGVzY2VuZGFudD0ie3thY3RpdmVEYXRlSWR9fSI+XG4gIDx0aGVhZD5cbiAgICA8dHI+XG4gICAgICA8dGg+PGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdCIgbmctY2xpY2s9Im1vdmUoLTEpIiB0YWJpbmRleD0iLTEiPjxpIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdCI+PC9pPjwvYnV0dG9uPjwvdGg+XG4gICAgICA8dGg+PGJ1dHRvbiBpZD0ie3t1bmlxdWVJZH19LXRpdGxlIiByb2xlPSJoZWFkaW5nIiBhcmlhLWxpdmU9ImFzc2VydGl2ZSIgYXJpYS1hdG9taWM9InRydWUiIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBidG4tc20iIG5nLWNsaWNrPSJ0b2dnbGVNb2RlKCkiIHRhYmluZGV4PSItMSIgc3R5bGU9IndpZHRoOjEwMCU7Ij48c3Ryb25nPnt7dGl0bGV9fTwvc3Ryb25nPjwvYnV0dG9uPjwvdGg+XG4gICAgICA8dGg+PGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHQiIG5nLWNsaWNrPSJtb3ZlKDEpIiB0YWJpbmRleD0iLTEiPjxpIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHQiPjwvaT48L2J1dHRvbj48L3RoPlxuICAgIDwvdHI+XG4gIDwvdGhlYWQ+XG4gIDx0Ym9keT5cbiAgICA8dHIgbmctcmVwZWF0PSJyb3cgaW4gcm93cyB0cmFjayBieSAkaW5kZXgiPlxuICAgICAgPHRkIG5nLXJlcGVhdD0iZHQgaW4gcm93IHRyYWNrIGJ5IGR0LmRhdGUiIGNsYXNzPSJ0ZXh0LWNlbnRlciIgcm9sZT0iZ3JpZGNlbGwiIGlkPSJ7e2R0LnVpZH19IiBhcmlhLWRpc2FibGVkPSJ7eyEhZHQuZGlzYWJsZWR9fSI+XG4gICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBzdHlsZT0id2lkdGg6MTAwJTsiIGNsYXNzPSJidG4gYnRuLWRlZmF1bHQiIG5nLWNsYXNzPSJ7XCdidG4taW5mb1wnOiBkdC5zZWxlY3RlZCwgYWN0aXZlOiBpc0FjdGl2ZShkdCl9IiBuZy1jbGljaz0ic2VsZWN0KGR0LmRhdGUpIiBuZy1kaXNhYmxlZD0iZHQuZGlzYWJsZWQiIHRhYmluZGV4PSItMSI+PHNwYW4gbmctY2xhc3M9IntcJ3RleHQtaW5mb1wnOiBkdC5jdXJyZW50fSI+e3tkdC5sYWJlbH19PC9zcGFuPjwvYnV0dG9uPlxuICAgICAgPC90ZD5cbiAgICA8L3RyPlxuICA8L3Rib2R5PlxuPC90YWJsZT5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvZGF0ZXBpY2tlci9wb3B1cC5odG1sIiwnPHVsIGNsYXNzPSJkcm9wZG93bi1tZW51IiBuZy1zdHlsZT0ie2Rpc3BsYXk6IChpc09wZW4gJiYgXCdibG9ja1wnKSB8fCBcJ25vbmVcJywgdG9wOiBwb3NpdGlvbi50b3ArXCdweFwnLCBsZWZ0OiBwb3NpdGlvbi5sZWZ0K1wncHhcJ30iIG5nLWtleWRvd249ImtleWRvd24oJGV2ZW50KSI+XG4JPGxpIG5nLXRyYW5zY2x1ZGU+PC9saT5cbgk8bGkgbmctaWY9InNob3dCdXR0b25CYXIiIHN0eWxlPSJwYWRkaW5nOjEwcHggOXB4IDJweCI+XG4JCTxzcGFuIGNsYXNzPSJidG4tZ3JvdXAiPlxuCQkJPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXNtIGJ0bi1pbmZvIiBuZy1jbGljaz0ic2VsZWN0KFwndG9kYXlcJykiPnt7IGdldFRleHQoXCdjdXJyZW50XCcpIH19PC9idXR0b24+XG4JCQk8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tc20gYnRuLWRhbmdlciIgbmctY2xpY2s9InNlbGVjdChudWxsKSI+e3sgZ2V0VGV4dChcJ2NsZWFyXCcpIH19PC9idXR0b24+XG4JCTwvc3Bhbj5cbgkJPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXNtIGJ0bi1zdWNjZXNzIHB1bGwtcmlnaHQiIG5nLWNsaWNrPSJjbG9zZSgpIj57eyBnZXRUZXh0KFwnY2xvc2VcJykgfX08L2J1dHRvbj5cbgk8L2xpPlxuPC91bD5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbCIsJzx0YWJsZSByb2xlPSJncmlkIiBhcmlhLWxhYmVsbGVkYnk9Int7dW5pcXVlSWR9fS10aXRsZSIgYXJpYS1hY3RpdmVkZXNjZW5kYW50PSJ7e2FjdGl2ZURhdGVJZH19Ij5cbiAgPHRoZWFkPlxuICAgIDx0cj5cbiAgICAgIDx0aD48YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0IiBuZy1jbGljaz0ibW92ZSgtMSkiIHRhYmluZGV4PSItMSI+PGkgY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0Ij48L2k+PC9idXR0b24+PC90aD5cbiAgICAgIDx0aCBjb2xzcGFuPSIzIj48YnV0dG9uIGlkPSJ7e3VuaXF1ZUlkfX0tdGl0bGUiIHJvbGU9ImhlYWRpbmciIGFyaWEtbGl2ZT0iYXNzZXJ0aXZlIiBhcmlhLWF0b21pYz0idHJ1ZSIgdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSIgbmctY2xpY2s9InRvZ2dsZU1vZGUoKSIgdGFiaW5kZXg9Ii0xIiBzdHlsZT0id2lkdGg6MTAwJTsiPjxzdHJvbmc+e3t0aXRsZX19PC9zdHJvbmc+PC9idXR0b24+PC90aD5cbiAgICAgIDx0aD48YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1yaWdodCIgbmctY2xpY2s9Im1vdmUoMSkiIHRhYmluZGV4PSItMSI+PGkgY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodCI+PC9pPjwvYnV0dG9uPjwvdGg+XG4gICAgPC90cj5cbiAgPC90aGVhZD5cbiAgPHRib2R5PlxuICAgIDx0ciBuZy1yZXBlYXQ9InJvdyBpbiByb3dzIHRyYWNrIGJ5ICRpbmRleCI+XG4gICAgICA8dGQgbmctcmVwZWF0PSJkdCBpbiByb3cgdHJhY2sgYnkgZHQuZGF0ZSIgY2xhc3M9InRleHQtY2VudGVyIiByb2xlPSJncmlkY2VsbCIgaWQ9Int7ZHQudWlkfX0iIGFyaWEtZGlzYWJsZWQ9Int7ISFkdC5kaXNhYmxlZH19Ij5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIHN0eWxlPSJ3aWR0aDoxMDAlOyIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCIgbmctY2xhc3M9IntcJ2J0bi1pbmZvXCc6IGR0LnNlbGVjdGVkLCBhY3RpdmU6IGlzQWN0aXZlKGR0KX0iIG5nLWNsaWNrPSJzZWxlY3QoZHQuZGF0ZSkiIG5nLWRpc2FibGVkPSJkdC5kaXNhYmxlZCIgdGFiaW5kZXg9Ii0xIj48c3BhbiBuZy1jbGFzcz0ie1wndGV4dC1pbmZvXCc6IGR0LmN1cnJlbnR9Ij57e2R0LmxhYmVsfX08L3NwYW4+PC9idXR0b24+XG4gICAgICA8L3RkPlxuICAgIDwvdHI+XG4gIDwvdGJvZHk+XG48L3RhYmxlPlxuJykKfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWwiLCc8ZGl2IGNsYXNzPSJtb2RhbC1iYWNrZHJvcCBmYWRlIHt7IGJhY2tkcm9wQ2xhc3MgfX0iXG4gICAgIG5nLWNsYXNzPSJ7aW46IGFuaW1hdGV9IlxuICAgICBuZy1zdHlsZT0ie1wnei1pbmRleFwnOiAxMDQwICsgKGluZGV4ICYmIDEgfHwgMCkgKyBpbmRleCoxMH0iXG4+PC9kaXY+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWwiLCc8ZGl2IHRhYmluZGV4PSItMSIgcm9sZT0iZGlhbG9nIiBjbGFzcz0ibW9kYWwgZmFkZSIgbmctY2xhc3M9IntpbjogYW5pbWF0ZX0iIG5nLXN0eWxlPSJ7XCd6LWluZGV4XCc6IDEwNTAgKyBpbmRleCoxMCwgZGlzcGxheTogXCdibG9ja1wnfSIgbmctY2xpY2s9ImNsb3NlKCRldmVudCkiPlxuICAgIDxkaXYgY2xhc3M9Im1vZGFsLWRpYWxvZyIgbmctY2xhc3M9IntcJ21vZGFsLXNtXCc6IHNpemUgPT0gXCdzbVwnLCBcJ21vZGFsLWxnXCc6IHNpemUgPT0gXCdsZ1wnfSI+PGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCIgbW9kYWwtdHJhbnNjbHVkZT48L2Rpdj48L2Rpdj5cbjwvZGl2PicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2VyLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sIiwnPHVsIGNsYXNzPSJwYWdlciI+XG4gIDxsaSBuZy1jbGFzcz0ie2Rpc2FibGVkOiBub1ByZXZpb3VzKCksIHByZXZpb3VzOiBhbGlnbn0iPjxhIGhyZWYgbmctY2xpY2s9InNlbGVjdFBhZ2UocGFnZSAtIDEpIj57e2dldFRleHQoXCdwcmV2aW91c1wnKX19PC9hPjwvbGk+XG4gIDxsaSBuZy1jbGFzcz0ie2Rpc2FibGVkOiBub05leHQoKSwgbmV4dDogYWxpZ259Ij48YSBocmVmIG5nLWNsaWNrPSJzZWxlY3RQYWdlKHBhZ2UgKyAxKSI+e3tnZXRUZXh0KFwnbmV4dFwnKX19PC9hPjwvbGk+XG48L3VsPicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbCIsJzx1bCBjbGFzcz0icGFnaW5hdGlvbiI+XG4gIDxsaSBuZy1pZj0iYm91bmRhcnlMaW5rcyIgbmctY2xhc3M9IntkaXNhYmxlZDogbm9QcmV2aW91cygpfSI+PGEgaHJlZiBuZy1jbGljaz0ic2VsZWN0UGFnZSgxKSI+e3tnZXRUZXh0KFwnZmlyc3RcJyl9fTwvYT48L2xpPlxuICA8bGkgbmctaWY9ImRpcmVjdGlvbkxpbmtzIiBuZy1jbGFzcz0ie2Rpc2FibGVkOiBub1ByZXZpb3VzKCl9Ij48YSBocmVmIG5nLWNsaWNrPSJzZWxlY3RQYWdlKHBhZ2UgLSAxKSI+e3tnZXRUZXh0KFwncHJldmlvdXNcJyl9fTwvYT48L2xpPlxuICA8bGkgbmctcmVwZWF0PSJwYWdlIGluIHBhZ2VzIHRyYWNrIGJ5ICRpbmRleCIgbmctY2xhc3M9InthY3RpdmU6IHBhZ2UuYWN0aXZlfSI+PGEgaHJlZiBuZy1jbGljaz0ic2VsZWN0UGFnZShwYWdlLm51bWJlcikiPnt7cGFnZS50ZXh0fX08L2E+PC9saT5cbiAgPGxpIG5nLWlmPSJkaXJlY3Rpb25MaW5rcyIgbmctY2xhc3M9IntkaXNhYmxlZDogbm9OZXh0KCl9Ij48YSBocmVmIG5nLWNsaWNrPSJzZWxlY3RQYWdlKHBhZ2UgKyAxKSI+e3tnZXRUZXh0KFwnbmV4dFwnKX19PC9hPjwvbGk+XG4gIDxsaSBuZy1pZj0iYm91bmRhcnlMaW5rcyIgbmctY2xhc3M9IntkaXNhYmxlZDogbm9OZXh0KCl9Ij48YSBocmVmIG5nLWNsaWNrPSJzZWxlY3RQYWdlKHRvdGFsUGFnZXMpIj57e2dldFRleHQoXCdsYXN0XCcpfX08L2E+PC9saT5cbjwvdWw+Jyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXVuc2FmZS1wb3B1cC5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXVuc2FmZS1wb3B1cC5odG1sIiwnPGRpdiBjbGFzcz0idG9vbHRpcCB7e3BsYWNlbWVudH19IiBuZy1jbGFzcz0ieyBpbjogaXNPcGVuKCksIGZhZGU6IGFuaW1hdGlvbigpIH0iPlxuICA8ZGl2IGNsYXNzPSJ0b29sdGlwLWFycm93Ij48L2Rpdj5cbiAgPGRpdiBjbGFzcz0idG9vbHRpcC1pbm5lciIgYmluZC1odG1sLXVuc2FmZT0iY29udGVudCI+PC9kaXY+XG48L2Rpdj5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbCIsJzxkaXYgY2xhc3M9InRvb2x0aXAge3twbGFjZW1lbnR9fSIgbmctY2xhc3M9InsgaW46IGlzT3BlbigpLCBmYWRlOiBhbmltYXRpb24oKSB9Ij5cbiAgPGRpdiBjbGFzcz0idG9vbHRpcC1hcnJvdyI+PC9kaXY+XG4gIDxkaXYgY2xhc3M9InRvb2x0aXAtaW5uZXIiIG5nLWJpbmQ9ImNvbnRlbnQiPjwvZGl2PlxuPC9kaXY+XG4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLmh0bWwiLCc8ZGl2IGNsYXNzPSJwb3BvdmVyIHt7cGxhY2VtZW50fX0iIG5nLWNsYXNzPSJ7IGluOiBpc09wZW4oKSwgZmFkZTogYW5pbWF0aW9uKCkgfSI+XG4gIDxkaXYgY2xhc3M9ImFycm93Ij48L2Rpdj5cblxuICA8ZGl2IGNsYXNzPSJwb3BvdmVyLWlubmVyIj5cbiAgICAgIDxoMyBjbGFzcz0icG9wb3Zlci10aXRsZSIgbmctYmluZD0idGl0bGUiIG5nLXNob3c9InRpdGxlIj48L2gzPlxuICAgICAgPGRpdiBjbGFzcz0icG9wb3Zlci1jb250ZW50IiBuZy1iaW5kPSJjb250ZW50Ij48L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbCIsJzxkaXYgY2xhc3M9InByb2dyZXNzLWJhciIgbmctY2xhc3M9InR5cGUgJiYgXCdwcm9ncmVzcy1iYXItXCcgKyB0eXBlIiByb2xlPSJwcm9ncmVzc2JhciIgYXJpYS12YWx1ZW5vdz0ie3t2YWx1ZX19IiBhcmlhLXZhbHVlbWluPSIwIiBhcmlhLXZhbHVlbWF4PSJ7e21heH19IiBuZy1zdHlsZT0ie3dpZHRoOiBwZXJjZW50ICsgXCclXCd9IiBhcmlhLXZhbHVldGV4dD0ie3twZXJjZW50IHwgbnVtYmVyOjB9fSUiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+Jyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbCIsJzxkaXYgY2xhc3M9InByb2dyZXNzIiBuZy10cmFuc2NsdWRlPjwvZGl2PicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmh0bWwiLCc8ZGl2IGNsYXNzPSJwcm9ncmVzcyI+XG4gIDxkaXYgY2xhc3M9InByb2dyZXNzLWJhciIgbmctY2xhc3M9InR5cGUgJiYgXCdwcm9ncmVzcy1iYXItXCcgKyB0eXBlIiByb2xlPSJwcm9ncmVzc2JhciIgYXJpYS12YWx1ZW5vdz0ie3t2YWx1ZX19IiBhcmlhLXZhbHVlbWluPSIwIiBhcmlhLXZhbHVlbWF4PSJ7e21heH19IiBuZy1zdHlsZT0ie3dpZHRoOiBwZXJjZW50ICsgXCclXCd9IiBhcmlhLXZhbHVldGV4dD0ie3twZXJjZW50IHwgbnVtYmVyOjB9fSUiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XG48L2Rpdj4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbCIsJzxzcGFuIG5nLW1vdXNlbGVhdmU9InJlc2V0KCkiIG5nLWtleWRvd249Im9uS2V5ZG93bigkZXZlbnQpIiB0YWJpbmRleD0iMCIgcm9sZT0ic2xpZGVyIiBhcmlhLXZhbHVlbWluPSIwIiBhcmlhLXZhbHVlbWF4PSJ7e3JhbmdlLmxlbmd0aH19IiBhcmlhLXZhbHVlbm93PSJ7e3ZhbHVlfX0iPlxuICAgIDxpIG5nLXJlcGVhdD0iciBpbiByYW5nZSB0cmFjayBieSAkaW5kZXgiIG5nLW1vdXNlZW50ZXI9ImVudGVyKCRpbmRleCArIDEpIiBuZy1jbGljaz0icmF0ZSgkaW5kZXggKyAxKSIgY2xhc3M9ImdseXBoaWNvbiIgbmctY2xhc3M9IiRpbmRleCA8IHZhbHVlICYmIChyLnN0YXRlT24gfHwgXCdnbHlwaGljb24tc3RhclwnKSB8fCAoci5zdGF0ZU9mZiB8fCBcJ2dseXBoaWNvbi1zdGFyLWVtcHR5XCcpIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9InNyLW9ubHkiPih7eyAkaW5kZXggPCB2YWx1ZSA/IFwnKlwnIDogXCcgXCcgfX0pPC9zcGFuPlxuICAgIDwvaT5cbjwvc3Bhbj4nKX1dKSxhbmd1bGFyLm1vZHVsZSgidGVtcGxhdGUvdGFicy90YWIuaHRtbCIsW10pLnJ1bihbIiR0ZW1wbGF0ZUNhY2hlIixmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7JHRlbXBsYXRlQ2FjaGUucHV0KCJ0ZW1wbGF0ZS90YWJzL3RhYi5odG1sIiwnPGxpIG5nLWNsYXNzPSJ7YWN0aXZlOiBhY3RpdmUsIGRpc2FibGVkOiBkaXNhYmxlZH0iPlxuICA8YSBuZy1jbGljaz0ic2VsZWN0KCkiIHRhYi1oZWFkaW5nLXRyYW5zY2x1ZGU+e3toZWFkaW5nfX08L2E+XG48L2xpPlxuJyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvdGFicy90YWJzZXQuaHRtbCIsJzxkaXY+XG4gIDx1bCBjbGFzcz0ibmF2IG5hdi17e3R5cGUgfHwgXCd0YWJzXCd9fSIgbmctY2xhc3M9IntcJ25hdi1zdGFja2VkXCc6IHZlcnRpY2FsLCBcJ25hdi1qdXN0aWZpZWRcJzoganVzdGlmaWVkfSIgbmctdHJhbnNjbHVkZT48L3VsPlxuICA8ZGl2IGNsYXNzPSJ0YWItY29udGVudCI+XG4gICAgPGRpdiBjbGFzcz0idGFiLXBhbmUiIFxuICAgICAgICAgbmctcmVwZWF0PSJ0YWIgaW4gdGFicyIgXG4gICAgICAgICBuZy1jbGFzcz0ie2FjdGl2ZTogdGFiLmFjdGl2ZX0iXG4gICAgICAgICB0YWItY29udGVudC10cmFuc2NsdWRlPSJ0YWIiPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvZGl2PlxuJyl9XSksYW5ndWxhci5tb2R1bGUoInRlbXBsYXRlL3RpbWVwaWNrZXIvdGltZXBpY2tlci5odG1sIixbXSkucnVuKFsiJHRlbXBsYXRlQ2FjaGUiLGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXskdGVtcGxhdGVDYWNoZS5wdXQoInRlbXBsYXRlL3RpbWVwaWNrZXIvdGltZXBpY2tlci5odG1sIiwnPHRhYmxlPlxuCTx0Ym9keT5cbgkJPHRyIGNsYXNzPSJ0ZXh0LWNlbnRlciI+XG4JCQk8dGQ+PGEgbmctY2xpY2s9ImluY3JlbWVudEhvdXJzKCkiIGNsYXNzPSJidG4gYnRuLWxpbmsiPjxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tdXAiPjwvc3Bhbj48L2E+PC90ZD5cbgkJCTx0ZD4mbmJzcDs8L3RkPlxuCQkJPHRkPjxhIG5nLWNsaWNrPSJpbmNyZW1lbnRNaW51dGVzKCkiIGNsYXNzPSJidG4gYnRuLWxpbmsiPjxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tdXAiPjwvc3Bhbj48L2E+PC90ZD5cbgkJCTx0ZCBuZy1zaG93PSJzaG93TWVyaWRpYW4iPjwvdGQ+XG4JCTwvdHI+XG4JCTx0cj5cbgkJCTx0ZCBzdHlsZT0id2lkdGg6NTBweDsiIGNsYXNzPSJmb3JtLWdyb3VwIiBuZy1jbGFzcz0ie1wnaGFzLWVycm9yXCc6IGludmFsaWRIb3Vyc30iPlxuCQkJCTxpbnB1dCB0eXBlPSJ0ZXh0IiBuZy1tb2RlbD0iaG91cnMiIG5nLWNoYW5nZT0idXBkYXRlSG91cnMoKSIgY2xhc3M9ImZvcm0tY29udHJvbCB0ZXh0LWNlbnRlciIgbmctbW91c2V3aGVlbD0iaW5jcmVtZW50SG91cnMoKSIgbmctcmVhZG9ubHk9InJlYWRvbmx5SW5wdXQiIG1heGxlbmd0aD0iMiI+XG4JCQk8L3RkPlxuCQkJPHRkPjo8L3RkPlxuCQkJPHRkIHN0eWxlPSJ3aWR0aDo1MHB4OyIgY2xhc3M9ImZvcm0tZ3JvdXAiIG5nLWNsYXNzPSJ7XCdoYXMtZXJyb3JcJzogaW52YWxpZE1pbnV0ZXN9Ij5cbgkJCQk8aW5wdXQgdHlwZT0idGV4dCIgbmctbW9kZWw9Im1pbnV0ZXMiIG5nLWNoYW5nZT0idXBkYXRlTWludXRlcygpIiBjbGFzcz0iZm9ybS1jb250cm9sIHRleHQtY2VudGVyIiBuZy1yZWFkb25seT0icmVhZG9ubHlJbnB1dCIgbWF4bGVuZ3RoPSIyIj5cbgkJCTwvdGQ+XG4JCQk8dGQgbmctc2hvdz0ic2hvd01lcmlkaWFuIj48YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCB0ZXh0LWNlbnRlciIgbmctY2xpY2s9InRvZ2dsZU1lcmlkaWFuKCkiPnt7bWVyaWRpYW59fTwvYnV0dG9uPjwvdGQ+XG4JCTwvdHI+XG4JCTx0ciBjbGFzcz0idGV4dC1jZW50ZXIiPlxuCQkJPHRkPjxhIG5nLWNsaWNrPSJkZWNyZW1lbnRIb3VycygpIiBjbGFzcz0iYnRuIGJ0bi1saW5rIj48c3BhbiBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWRvd24iPjwvc3Bhbj48L2E+PC90ZD5cbgkJCTx0ZD4mbmJzcDs8L3RkPlxuCQkJPHRkPjxhIG5nLWNsaWNrPSJkZWNyZW1lbnRNaW51dGVzKCkiIGNsYXNzPSJidG4gYnRuLWxpbmsiPjxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tZG93biI+PC9zcGFuPjwvYT48L3RkPlxuCQkJPHRkIG5nLXNob3c9InNob3dNZXJpZGlhbiI+PC90ZD5cbgkJPC90cj5cbgk8L3Rib2R5PlxuPC90YWJsZT5cbicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1tYXRjaC5odG1sIiwnPGEgdGFiaW5kZXg9Ii0xIiBiaW5kLWh0bWwtdW5zYWZlPSJtYXRjaC5sYWJlbCB8IHR5cGVhaGVhZEhpZ2hsaWdodDpxdWVyeSI+PC9hPicpfV0pLGFuZ3VsYXIubW9kdWxlKCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWwiLFtdKS5ydW4oWyIkdGVtcGxhdGVDYWNoZSIsZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpeyR0ZW1wbGF0ZUNhY2hlLnB1dCgidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sIiwnPHVsIGNsYXNzPSJkcm9wZG93bi1tZW51IiBuZy1zaG93PSJpc09wZW4oKSIgbmctc3R5bGU9Int0b3A6IHBvc2l0aW9uLnRvcCtcJ3B4XCcsIGxlZnQ6IHBvc2l0aW9uLmxlZnQrXCdweFwnfSIgc3R5bGU9ImRpc3BsYXk6IGJsb2NrOyIgcm9sZT0ibGlzdGJveCIgYXJpYS1oaWRkZW49Int7IWlzT3BlbigpfX0iPlxuICAgIDxsaSBuZy1yZXBlYXQ9Im1hdGNoIGluIG1hdGNoZXMgdHJhY2sgYnkgJGluZGV4IiBuZy1jbGFzcz0ie2FjdGl2ZTogaXNBY3RpdmUoJGluZGV4KSB9IiBuZy1tb3VzZWVudGVyPSJzZWxlY3RBY3RpdmUoJGluZGV4KSIgbmctY2xpY2s9InNlbGVjdE1hdGNoKCRpbmRleCkiIHJvbGU9Im9wdGlvbiIgaWQ9Int7bWF0Y2guaWR9fSI+XG4gICAgICAgIDxkaXYgdHlwZWFoZWFkLW1hdGNoIGluZGV4PSIkaW5kZXgiIG1hdGNoPSJtYXRjaCIgcXVlcnk9InF1ZXJ5IiB0ZW1wbGF0ZS11cmw9InRlbXBsYXRlVXJsIj48L2Rpdj5cbiAgICA8L2xpPlxuPC91bD5cbicpfV0pOwovLyMgc291cmNlTWFwcGluZ1VSTD1kZXBlbmRlbmNpZXMubWluLm1hcA==",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 09:12:20 GMT",
                    "Content-Length": "925222",
                    "Date": "Fri, 07 Nov 2014 09:12:21 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
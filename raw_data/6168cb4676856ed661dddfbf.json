{
    "url": "http://localhost:9999/Kain91/projectW/projectW/frameworks/The-M-Project/modules/jquery_mobile/jquery.mobile-1.3.0.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Open redirection (DOM-based)",
    "issueType": 5243152,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based open redirection vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this data into the target of a redirection in an unsafe way. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will cause a redirection to an arbitrary external domain. This behavior can be leveraged to facilitate phishing attacks against users of the application. The ability to use an authentic application URL, targeting the correct domain with a valid SSL certificate (if SSL is used) lends credibility to the phishing attack because many users, even if they verify these features, will not notice the subsequent redirection to a different domain.<br><br><b>Note:</b> If an attacker is able to control the start of the string that is passed to the redirection API, then it may be possible to escalate this vulnerability into a JavaScript injection attack, by using a URL with the javascript: pseudo-protocol to execute arbitrary script code when the URL is processed by the browser.",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based open redirection vulnerabilities is not to dynamically set redirection targets using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a redirection target. In general, this is best achieved by using a whitelist of URLs that are permitted redirection targets, and strictly validating the target against this list before performing the redirection.",
    "issueDetail": "The application may be vulnerable to DOM-based open redirection. Data is read from <b>location.href</b> and written to <b>location.href</b> via the following statement:<ul><li>c!==h?(l(h=c,d),a(b).trigger(e)):d!==h&amp;&amp;(location.href=location.href.replace(/#.*/,\"\")+d),g=setTimeout(n,a.fn[e].delay)</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/Kain91/projectW/projectW/frameworks/The-M-Project/modules/jquery_mobile/jquery.mobile-1.3.0.min.js",
                "path": "/Kain91/projectW/projectW/frameworks/The-M-Project/modules/jquery_mobile/jquery.mobile-1.3.0.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9LYWluOTEvcHJvamVjdFcvcHJvamVjdFcvZnJhbWV3b3Jrcy9UaGUtTS1Qcm9qZWN0L21vZHVsZXMvanF1ZXJ5X21vYmlsZS9qcXVlcnkubW9iaWxlLTEuMy4wLm1pbi5qcyBIVFRQLzEuMQ0KSG9zdDogbG9jYWxob3N0Ojk5OTkNCg0K",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTQ0NDM5DQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBGcmksIDA3IE5vdiAyMDE0IDA3OjU2OjM2IEdNVA0KTGFzdC1Nb2RpZmllZDogRnJpLCAwNyBOb3YgMjAxNCAwNzo1NjozNiBHTVQNCg0KLyohIGpRdWVyeSBNb2JpbGUgdkdpdCBCdWlsZDogU0hBMTogM2Q0OGQ2NTE3ZjgwODU1MGVlNDAyYTI4NTlmZWVkZWMxM2IwYTNmZSA8PiBEYXRlOiBUdWUgRmViIDE5IDE1OjI1OjIyIDIwMTMgLTA4MDAganF1ZXJ5bW9iaWxlLmNvbSB8IGpxdWVyeS5vcmcvbGljZW5zZSAhKi8KKGZ1bmN0aW9uKGEsYixjKXt0eXBlb2YgZGVmaW5lPT0iZnVuY3Rpb24iJiZkZWZpbmUuYW1kP2RlZmluZShbImpxdWVyeSJdLGZ1bmN0aW9uKGQpe3JldHVybiBjKGQsYSxiKSxkLm1vYmlsZX0pOmMoYS5qUXVlcnksYSxiKX0pKHRoaXMsZG9jdW1lbnQsZnVuY3Rpb24oYSxiLGMsZCl7KGZ1bmN0aW9uKGEpe2EubW9iaWxlPXt9fSkoYSksZnVuY3Rpb24oYSxiLGQpe3ZhciBlPXt9O2EubW9iaWxlPWEuZXh0ZW5kKGEubW9iaWxlLHt2ZXJzaW9uOiIxLjMuMCIsbnM6IiIsc3ViUGFnZVVybEtleToidWktcGFnZSIsYWN0aXZlUGFnZUNsYXNzOiJ1aS1wYWdlLWFjdGl2ZSIsYWN0aXZlQnRuQ2xhc3M6InVpLWJ0bi1hY3RpdmUiLGZvY3VzQ2xhc3M6InVpLWZvY3VzIixhamF4RW5hYmxlZDohMCxoYXNoTGlzdGVuaW5nRW5hYmxlZDohMCxsaW5rQmluZGluZ0VuYWJsZWQ6ITAsZGVmYXVsdFBhZ2VUcmFuc2l0aW9uOiJmYWRlIixtYXhUcmFuc2l0aW9uV2lkdGg6ITEsbWluU2Nyb2xsQmFjazoyNTAsdG91Y2hPdmVyZmxvd0VuYWJsZWQ6ITEsZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246InBvcCIscGFnZUxvYWRFcnJvck1lc3NhZ2U6IkVycm9yIExvYWRpbmcgUGFnZSIscGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZToiZSIscGhvbmVnYXBOYXZpZ2F0aW9uRW5hYmxlZDohMSxhdXRvSW5pdGlhbGl6ZVBhZ2U6ITAscHVzaFN0YXRlRW5hYmxlZDohMCxpZ25vcmVDb250ZW50RW5hYmxlZDohMSxvcmllbnRhdGlvbkNoYW5nZUVuYWJsZWQ6ITAsYnV0dG9uTWFya3VwOntob3ZlckRlbGF5OjIwMH0sd2luZG93OmEoYiksZG9jdW1lbnQ6YShjKSxrZXlDb2RlOntBTFQ6MTgsQkFDS1NQQUNFOjgsQ0FQU19MT0NLOjIwLENPTU1BOjE4OCxDT01NQU5EOjkxLENPTU1BTkRfTEVGVDo5MSxDT01NQU5EX1JJR0hUOjkzLENPTlRST0w6MTcsREVMRVRFOjQ2LERPV046NDAsRU5EOjM1LEVOVEVSOjEzLEVTQ0FQRToyNyxIT01FOjM2LElOU0VSVDo0NSxMRUZUOjM3LE1FTlU6OTMsTlVNUEFEX0FERDoxMDcsTlVNUEFEX0RFQ0lNQUw6MTEwLE5VTVBBRF9ESVZJREU6MTExLE5VTVBBRF9FTlRFUjoxMDgsTlVNUEFEX01VTFRJUExZOjEwNixOVU1QQURfU1VCVFJBQ1Q6MTA5LFBBR0VfRE9XTjozNCxQQUdFX1VQOjMzLFBFUklPRDoxOTAsUklHSFQ6MzksU0hJRlQ6MTYsU1BBQ0U6MzIsVEFCOjksVVA6MzgsV0lORE9XUzo5MX0sYmVoYXZpb3JzOnt9LHNpbGVudFNjcm9sbDpmdW5jdGlvbihjKXthLnR5cGUoYykhPT0ibnVtYmVyIiYmKGM9YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwpLGEuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSExLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnNjcm9sbFRvKDAsYyksYS5tb2JpbGUuZG9jdW1lbnQudHJpZ2dlcigic2lsZW50c2Nyb2xsIix7eDowLHk6Y30pfSwyMCksc2V0VGltZW91dChmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSEwfSwxNTApfSxuc05vcm1hbGl6ZURpY3Q6ZSxuc05vcm1hbGl6ZTpmdW5jdGlvbihiKXtpZighYilyZXR1cm47cmV0dXJuIGVbYl18fChlW2JdPWEuY2FtZWxDYXNlKGEubW9iaWxlLm5zK2IpKX0sZ2V0SW5oZXJpdGVkVGhlbWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hWzBdLGQ9IiIsZT0vdWktKGJhcnxib2R5fG92ZXJsYXkpLShbYS16XSlcYi8sZixnO3doaWxlKGMpe2Y9Yy5jbGFzc05hbWV8fCIiO2lmKGYmJihnPWUuZXhlYyhmKSkmJihkPWdbMl0pKWJyZWFrO2M9Yy5wYXJlbnROb2RlfXJldHVybiBkfHxifHwiYSJ9LGNsb3Nlc3RQYWdlRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9zZXN0KCc6anFtRGF0YShyb2xlPSJwYWdlIiksIDpqcW1EYXRhKHJvbGU9ImRpYWxvZyIpJykuZGF0YSgibW9iaWxlLXBhZ2UiKX0sZW5oYW5jZWFibGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGF2ZVBhcmVudHMoYSwiZW5oYW5jZSIpfSxoaWphY2thYmxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhdmVQYXJlbnRzKGEsImFqYXgiKX0saGF2ZVBhcmVudHM6ZnVuY3Rpb24oYixjKXtpZighYS5tb2JpbGUuaWdub3JlQ29udGVudEVuYWJsZWQpcmV0dXJuIGI7dmFyIGQ9Yi5sZW5ndGgsZT1hKCksZixnLGg7Zm9yKHZhciBpPTA7aTxkO2krKyl7Zz1iLmVxKGkpLGg9ITEsZj1iW2ldO3doaWxlKGYpe3ZhciBqPWYuZ2V0QXR0cmlidXRlP2YuZ2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrYyk6IiI7aWYoaj09PSJmYWxzZSIpe2g9ITA7YnJlYWt9Zj1mLnBhcmVudE5vZGV9aHx8KGU9ZS5hZGQoZykpfXJldHVybiBlfSxnZXRTY3JlZW5IZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gYi5pbm5lckhlaWdodHx8YS5tb2JpbGUud2luZG93LmhlaWdodCgpfX0sYS5tb2JpbGUpLGEuZm4uanFtRGF0YT1mdW5jdGlvbihiLGMpe3ZhciBlO3JldHVybiB0eXBlb2YgYiE9InVuZGVmaW5lZCImJihiJiYoYj1hLm1vYmlsZS5uc05vcm1hbGl6ZShiKSksYXJndW1lbnRzLmxlbmd0aDwyfHxjPT09ZD9lPXRoaXMuZGF0YShiKTplPXRoaXMuZGF0YShiLGMpKSxlfSxhLmpxbURhdGE9ZnVuY3Rpb24oYixjLGQpe3ZhciBlO3JldHVybiB0eXBlb2YgYyE9InVuZGVmaW5lZCImJihlPWEuZGF0YShiLGM/YS5tb2JpbGUubnNOb3JtYWxpemUoYyk6YyxkKSksZX0sYS5mbi5qcW1SZW1vdmVEYXRhPWZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLnJlbW92ZURhdGEoYS5tb2JpbGUubnNOb3JtYWxpemUoYikpfSxhLmpxbVJlbW92ZURhdGE9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5yZW1vdmVEYXRhKGIsYS5tb2JpbGUubnNOb3JtYWxpemUoYykpfSxhLmZuLnJlbW92ZVdpdGhEZXBlbmRlbnRzPWZ1bmN0aW9uKCl7YS5yZW1vdmVXaXRoRGVwZW5kZW50cyh0aGlzKX0sYS5yZW1vdmVXaXRoRGVwZW5kZW50cz1mdW5jdGlvbihiKXt2YXIgYz1hKGIpOyhjLmpxbURhdGEoImRlcGVuZGVudHMiKXx8YSgpKS5yZW1vdmUoKSxjLnJlbW92ZSgpfSxhLmZuLmFkZERlcGVuZGVudHM9ZnVuY3Rpb24oYil7YS5hZGREZXBlbmRlbnRzKGEodGhpcyksYil9LGEuYWRkRGVwZW5kZW50cz1mdW5jdGlvbihiLGMpe3ZhciBkPWEoYikuanFtRGF0YSgiZGVwZW5kZW50cyIpfHxhKCk7YShiKS5qcW1EYXRhKCJkZXBlbmRlbnRzIixhLm1lcmdlKGQsYykpfSxhLmZuLmdldEVuY29kZWRUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIGEoIjxkaXYvPiIpLnRleHQoYSh0aGlzKS50ZXh0KCkpLmh0bWwoKX0sYS5mbi5qcW1FbmhhbmNlYWJsZT1mdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5lbmhhbmNlYWJsZSh0aGlzKX0sYS5mbi5qcW1IaWphY2thYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmhpamFja2FibGUodGhpcyl9O3ZhciBmPWEuZmluZCxnPS86anFtRGF0YVwoKFteKV0qKVwpL2c7YS5maW5kPWZ1bmN0aW9uKGIsYyxkLGUpe3JldHVybiBiPWIucmVwbGFjZShnLCJbZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpKyIkMV0iKSxmLmNhbGwodGhpcyxiLGMsZCxlKX0sYS5leHRlbmQoYS5maW5kLGYpLGEuZmluZC5tYXRjaGVzPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuZmluZChiLG51bGwsbnVsbCxjKX0sYS5maW5kLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihiLGMpe3JldHVybiBhLmZpbmQoYyxudWxsLG51bGwsW2JdKS5sZW5ndGg+MH19KGEsdGhpcyksZnVuY3Rpb24oYSxiKXt2YXIgYz0wLGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLGU9YS5jbGVhbkRhdGE7YS5jbGVhbkRhdGE9ZnVuY3Rpb24oYil7Zm9yKHZhciBjPTAsZDsoZD1iW2NdKSE9bnVsbDtjKyspdHJ5e2EoZCkudHJpZ2dlckhhbmRsZXIoInJlbW92ZSIpfWNhdGNoKGYpe31lKGIpfSxhLndpZGdldD1mdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnLGgsaT1iLnNwbGl0KCIuIilbMF07Yj1iLnNwbGl0KCIuIilbMV0sZT1pKyItIitiLGR8fChkPWMsYz1hLldpZGdldCksYS5leHByWyI6Il1bZS50b0xvd2VyQ2FzZSgpXT1mdW5jdGlvbihiKXtyZXR1cm4hIWEuZGF0YShiLGUpfSxhW2ldPWFbaV18fHt9LGY9YVtpXVtiXSxnPWFbaV1bYl09ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5fY3JlYXRlV2lkZ2V0KXJldHVybiBuZXcgZyhhLGIpO2FyZ3VtZW50cy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVdpZGdldChhLGIpfSxhLmV4dGVuZChnLGYse3ZlcnNpb246ZC52ZXJzaW9uLF9wcm90bzphLmV4dGVuZCh7fSxkKSxfY2hpbGRDb25zdHJ1Y3RvcnM6W119KSxoPW5ldyBjLGgub3B0aW9ucz1hLndpZGdldC5leHRlbmQoe30saC5vcHRpb25zKSxhLmVhY2goZCxmdW5jdGlvbihiLGUpe2EuaXNGdW5jdGlvbihlKSYmKGRbYl09ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbigpe3JldHVybiBjLnByb3RvdHlwZVtiXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGMucHJvdG90eXBlW2JdLmFwcGx5KHRoaXMsYSl9O3JldHVybiBmdW5jdGlvbigpe3ZhciBiPXRoaXMuX3N1cGVyLGM9dGhpcy5fc3VwZXJBcHBseSxmO3JldHVybiB0aGlzLl9zdXBlcj1hLHRoaXMuX3N1cGVyQXBwbHk9ZCxmPWUuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3N1cGVyPWIsdGhpcy5fc3VwZXJBcHBseT1jLGZ9fSgpKX0pLGcucHJvdG90eXBlPWEud2lkZ2V0LmV4dGVuZChoLHt3aWRnZXRFdmVudFByZWZpeDpmP2gud2lkZ2V0RXZlbnRQcmVmaXg6Yn0sZCx7Y29uc3RydWN0b3I6ZyxuYW1lc3BhY2U6aSx3aWRnZXROYW1lOmIsd2lkZ2V0RnVsbE5hbWU6ZX0pLGY/KGEuZWFjaChmLl9jaGlsZENvbnN0cnVjdG9ycyxmdW5jdGlvbihiLGMpe3ZhciBkPWMucHJvdG90eXBlO2Eud2lkZ2V0KGQubmFtZXNwYWNlKyIuIitkLndpZGdldE5hbWUsZyxjLl9wcm90byl9KSxkZWxldGUgZi5fY2hpbGRDb25zdHJ1Y3RvcnMpOmMuX2NoaWxkQ29uc3RydWN0b3JzLnB1c2goZyksYS53aWRnZXQuYnJpZGdlKGIsZyl9LGEud2lkZ2V0LmV4dGVuZD1mdW5jdGlvbihjKXt2YXIgZT1kLmNhbGwoYXJndW1lbnRzLDEpLGY9MCxnPWUubGVuZ3RoLGgsaTtmb3IoO2Y8ZztmKyspZm9yKGggaW4gZVtmXSlpPWVbZl1baF0sZVtmXS5oYXNPd25Qcm9wZXJ0eShoKSYmaSE9PWImJihhLmlzUGxhaW5PYmplY3QoaSk/Y1toXT1hLmlzUGxhaW5PYmplY3QoY1toXSk/YS53aWRnZXQuZXh0ZW5kKHt9LGNbaF0saSk6YS53aWRnZXQuZXh0ZW5kKHt9LGkpOmNbaF09aSk7cmV0dXJuIGN9LGEud2lkZ2V0LmJyaWRnZT1mdW5jdGlvbihjLGUpe3ZhciBmPWUucHJvdG90eXBlLndpZGdldEZ1bGxOYW1lfHxjO2EuZm5bY109ZnVuY3Rpb24oZyl7dmFyIGg9dHlwZW9mIGc9PSJzdHJpbmciLGk9ZC5jYWxsKGFyZ3VtZW50cywxKSxqPXRoaXM7cmV0dXJuIGc9IWgmJmkubGVuZ3RoP2Eud2lkZ2V0LmV4dGVuZC5hcHBseShudWxsLFtnXS5jb25jYXQoaSkpOmcsaD90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZCxlPWEuZGF0YSh0aGlzLGYpO2lmKCFlKXJldHVybiBhLmVycm9yKCJjYW5ub3QgY2FsbCBtZXRob2RzIG9uICIrYysiIHByaW9yIHRvIGluaXRpYWxpemF0aW9uOyAiKyJhdHRlbXB0ZWQgdG8gY2FsbCBtZXRob2QgJyIrZysiJyIpO2lmKCFhLmlzRnVuY3Rpb24oZVtnXSl8fGcuY2hhckF0KDApPT09Il8iKXJldHVybiBhLmVycm9yKCJubyBzdWNoIG1ldGhvZCAnIitnKyInIGZvciAiK2MrIiB3aWRnZXQgaW5zdGFuY2UiKTtkPWVbZ10uYXBwbHkoZSxpKTtpZihkIT09ZSYmZCE9PWIpcmV0dXJuIGo9ZCYmZC5qcXVlcnk/ai5wdXNoU3RhY2soZC5nZXQoKSk6ZCwhMX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEuZGF0YSh0aGlzLGYpO2I/Yi5vcHRpb24oZ3x8e30pLl9pbml0KCk6YS5kYXRhKHRoaXMsZixuZXcgZShnLHRoaXMpKX0pLGp9fSxhLldpZGdldD1mdW5jdGlvbigpe30sYS5XaWRnZXQuX2NoaWxkQ29uc3RydWN0b3JzPVtdLGEuV2lkZ2V0LnByb3RvdHlwZT17d2lkZ2V0TmFtZToid2lkZ2V0Iix3aWRnZXRFdmVudFByZWZpeDoiIixkZWZhdWx0RWxlbWVudDoiPGRpdj4iLG9wdGlvbnM6e2Rpc2FibGVkOiExLGNyZWF0ZTpudWxsfSxfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKGIsZCl7ZD1hKGR8fHRoaXMuZGVmYXVsdEVsZW1lbnR8fHRoaXMpWzBdLHRoaXMuZWxlbWVudD1hKGQpLHRoaXMudXVpZD1jKyssdGhpcy5ldmVudE5hbWVzcGFjZT0iLiIrdGhpcy53aWRnZXROYW1lK3RoaXMudXVpZCx0aGlzLm9wdGlvbnM9YS53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyx0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksYiksdGhpcy5iaW5kaW5ncz1hKCksdGhpcy5ob3ZlcmFibGU9YSgpLHRoaXMuZm9jdXNhYmxlPWEoKSxkIT09dGhpcyYmKGEuZGF0YShkLHRoaXMud2lkZ2V0RnVsbE5hbWUsdGhpcyksdGhpcy5fb24oITAsdGhpcy5lbGVtZW50LHtyZW1vdmU6ZnVuY3Rpb24oYSl7YS50YXJnZXQ9PT1kJiZ0aGlzLmRlc3Ryb3koKX19KSx0aGlzLmRvY3VtZW50PWEoZC5zdHlsZT9kLm93bmVyRG9jdW1lbnQ6ZC5kb2N1bWVudHx8ZCksdGhpcy53aW5kb3c9YSh0aGlzLmRvY3VtZW50WzBdLmRlZmF1bHRWaWV3fHx0aGlzLmRvY3VtZW50WzBdLnBhcmVudFdpbmRvdykpLHRoaXMuX2NyZWF0ZSgpLHRoaXMuX3RyaWdnZXIoImNyZWF0ZSIsbnVsbCx0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSksdGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczphLm5vb3AsX2dldENyZWF0ZUV2ZW50RGF0YTphLm5vb3AsX2NyZWF0ZTphLm5vb3AsX2luaXQ6YS5ub29wLGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9kZXN0cm95KCksdGhpcy5lbGVtZW50LnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVEYXRhKHRoaXMud2lkZ2V0TmFtZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldEZ1bGxOYW1lKS5yZW1vdmVEYXRhKGEuY2FtZWxDYXNlKHRoaXMud2lkZ2V0RnVsbE5hbWUpKSx0aGlzLndpZGdldCgpLnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIikucmVtb3ZlQ2xhc3ModGhpcy53aWRnZXRGdWxsTmFtZSsiLWRpc2FibGVkICIrInVpLXN0YXRlLWRpc2FibGVkIiksdGhpcy5iaW5kaW5ncy51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksdGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9LF9kZXN0cm95OmEubm9vcCx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24oYyxkKXt2YXIgZT1jLGYsZyxoO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0wKXJldHVybiBhLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zKTtpZih0eXBlb2YgYz09InN0cmluZyIpe2U9e30sZj1jLnNwbGl0KCIuIiksYz1mLnNoaWZ0KCk7aWYoZi5sZW5ndGgpe2c9ZVtjXT1hLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zW2NdKTtmb3IoaD0wO2g8Zi5sZW5ndGgtMTtoKyspZ1tmW2hdXT1nW2ZbaF1dfHx7fSxnPWdbZltoXV07Yz1mLnBvcCgpO2lmKGQ9PT1iKXJldHVybiBnW2NdPT09Yj9udWxsOmdbY107Z1tjXT1kfWVsc2V7aWYoZD09PWIpcmV0dXJuIHRoaXMub3B0aW9uc1tjXT09PWI/bnVsbDp0aGlzLm9wdGlvbnNbY107ZVtjXT1kfX1yZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyhlKSx0aGlzfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXRoaXMuX3NldE9wdGlvbihiLGFbYl0pO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub3B0aW9uc1thXT1iLGE9PT0iZGlzYWJsZWQiJiYodGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcyh0aGlzLndpZGdldEZ1bGxOYW1lKyItZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWQiLCEhYikuYXR0cigiYXJpYS1kaXNhYmxlZCIsYiksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksdGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIikpLHRoaXN9LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMSl9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfSxfb246ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGY9dGhpczt0eXBlb2YgYiE9ImJvb2xlYW4iJiYoZD1jLGM9YixiPSExKSxkPyhjPWU9YShjKSx0aGlzLmJpbmRpbmdzPXRoaXMuYmluZGluZ3MuYWRkKGMpKTooZD1jLGM9dGhpcy5lbGVtZW50LGU9dGhpcy53aWRnZXQoKSksYS5lYWNoKGQsZnVuY3Rpb24oZCxnKXtmdW5jdGlvbiBoKCl7aWYoIWImJihmLm9wdGlvbnMuZGlzYWJsZWQ9PT0hMHx8YSh0aGlzKS5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKSkpcmV0dXJuO3JldHVybih0eXBlb2YgZz09InN0cmluZyI/ZltnXTpnKS5hcHBseShmLGFyZ3VtZW50cyl9dHlwZW9mIGchPSJzdHJpbmciJiYoaC5ndWlkPWcuZ3VpZD1nLmd1aWR8fGguZ3VpZHx8YS5ndWlkKyspO3ZhciBpPWQubWF0Y2goL14oXHcrKVxzKiguKikkLyksaj1pWzFdK2YuZXZlbnROYW1lc3BhY2Usaz1pWzJdO2s/ZS5kZWxlZ2F0ZShrLGosaCk6Yy5iaW5kKGosaCl9KX0sX29mZjpmdW5jdGlvbihhLGIpe2I9KGJ8fCIiKS5zcGxpdCgiICIpLmpvaW4odGhpcy5ldmVudE5hbWVzcGFjZSsiICIpK3RoaXMuZXZlbnROYW1lc3BhY2UsYS51bmJpbmQoYikudW5kZWxlZ2F0ZShiKX0sX2RlbGF5OmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe3JldHVybih0eXBlb2YgYT09InN0cmluZyI/ZFthXTphKS5hcHBseShkLGFyZ3VtZW50cyl9dmFyIGQ9dGhpcztyZXR1cm4gc2V0VGltZW91dChjLGJ8fDApfSxfaG92ZXJhYmxlOmZ1bmN0aW9uKGIpe3RoaXMuaG92ZXJhYmxlPXRoaXMuaG92ZXJhYmxlLmFkZChiKSx0aGlzLl9vbihiLHttb3VzZWVudGVyOmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcygidWktc3RhdGUtaG92ZXIiKX0sbW91c2VsZWF2ZTpmdW5jdGlvbihiKXthKGIuY3VycmVudFRhcmdldCkucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIil9fSl9LF9mb2N1c2FibGU6ZnVuY3Rpb24oYil7dGhpcy5mb2N1c2FibGU9dGhpcy5mb2N1c2FibGUuYWRkKGIpLHRoaXMuX29uKGIse2ZvY3VzaW46ZnVuY3Rpb24oYil7YShiLmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfSxmb2N1c291dDpmdW5jdGlvbihiKXthKGIuY3VycmVudFRhcmdldCkucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9fSl9LF90cmlnZ2VyOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmLGc9dGhpcy5vcHRpb25zW2JdO2Q9ZHx8e30sYz1hLkV2ZW50KGMpLGMudHlwZT0oYj09PXRoaXMud2lkZ2V0RXZlbnRQcmVmaXg/Yjp0aGlzLndpZGdldEV2ZW50UHJlZml4K2IpLnRvTG93ZXJDYXNlKCksYy50YXJnZXQ9dGhpcy5lbGVtZW50WzBdLGY9Yy5vcmlnaW5hbEV2ZW50O2lmKGYpZm9yKGUgaW4gZillIGluIGN8fChjW2VdPWZbZV0pO3JldHVybiB0aGlzLmVsZW1lbnQudHJpZ2dlcihjLGQpLCEoYS5pc0Z1bmN0aW9uKGcpJiZnLmFwcGx5KHRoaXMuZWxlbWVudFswXSxbY10uY29uY2F0KGQpKT09PSExfHxjLmlzRGVmYXVsdFByZXZlbnRlZCgpKX19LGEuZWFjaCh7c2hvdzoiZmFkZUluIixoaWRlOiJmYWRlT3V0In0sZnVuY3Rpb24oYixjKXthLldpZGdldC5wcm90b3R5cGVbIl8iK2JdPWZ1bmN0aW9uKGQsZSxmKXt0eXBlb2YgZT09InN0cmluZyImJihlPXtlZmZlY3Q6ZX0pO3ZhciBnLGg9ZT9lPT09ITB8fHR5cGVvZiBlPT0ibnVtYmVyIj9jOmUuZWZmZWN0fHxjOmI7ZT1lfHx7fSx0eXBlb2YgZT09Im51bWJlciImJihlPXtkdXJhdGlvbjplfSksZz0hYS5pc0VtcHR5T2JqZWN0KGUpLGUuY29tcGxldGU9ZixlLmRlbGF5JiZkLmRlbGF5KGUuZGVsYXkpLGcmJmEuZWZmZWN0cyYmYS5lZmZlY3RzLmVmZmVjdFtoXT9kW2JdKGUpOmghPT1iJiZkW2hdP2RbaF0oZS5kdXJhdGlvbixlLmVhc2luZyxmKTpkLnF1ZXVlKGZ1bmN0aW9uKGMpe2EodGhpcylbYl0oKSxmJiZmLmNhbGwoZFswXSksYygpfSl9fSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS53aWRnZXQiLHtfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKCl7YS5XaWRnZXQucHJvdG90eXBlLl9jcmVhdGVXaWRnZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3RyaWdnZXIoImluaXQiKX0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmVsZW1lbnQsZD17fTtyZXR1cm4gYS5lYWNoKHRoaXMub3B0aW9ucyxmdW5jdGlvbihhKXt2YXIgZT1jLmpxbURhdGEoYS5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKGEpe3JldHVybiItIithLnRvTG93ZXJDYXNlKCl9KSk7ZSE9PWImJihkW2FdPWUpfSksZH0sZW5oYW5jZVdpdGhpbjpmdW5jdGlvbihiLGMpe3RoaXMuZW5oYW5jZShhKHRoaXMub3B0aW9ucy5pbml0U2VsZWN0b3IsYShiKSksYyl9LGVuaGFuY2U6ZnVuY3Rpb24oYixjKXt2YXIgZCxlLGY9YShiKSxnPXRoaXM7Zj1hLm1vYmlsZS5lbmhhbmNlYWJsZShmKSxjJiZmLmxlbmd0aCYmKGQ9YS5tb2JpbGUuY2xvc2VzdFBhZ2VEYXRhKGYpLGU9ZCYmZC5rZWVwTmF0aXZlU2VsZWN0b3IoKXx8IiIsZj1mLm5vdChlKSksZlt0aGlzLndpZGdldE5hbWVdKCl9LHJhaXNlOmZ1bmN0aW9uKGEpe3Rocm93IldpZGdldCBbIit0aGlzLndpZGdldE5hbWUrIl06ICIrYX19KX0oYSksZnVuY3Rpb24oYSxiKXthLmV4dGVuZChhLm1vYmlsZSx7bG9hZGluZ01lc3NhZ2VUZXh0VmlzaWJsZTpkLGxvYWRpbmdNZXNzYWdlVGhlbWU6ZCxsb2FkaW5nTWVzc2FnZTpkLHNob3dQYWdlTG9hZGluZ01zZzpmdW5jdGlvbihiLGMsZCl7YS5tb2JpbGUubG9hZGluZygic2hvdyIsYixjLGQpfSxoaWRlUGFnZUxvYWRpbmdNc2c6ZnVuY3Rpb24oKXthLm1vYmlsZS5sb2FkaW5nKCJoaWRlIil9LGxvYWRpbmc6ZnVuY3Rpb24oKXt0aGlzLmxvYWRlcldpZGdldC5sb2FkZXIuYXBwbHkodGhpcy5sb2FkZXJXaWRnZXQsYXJndW1lbnRzKX19KTt2YXIgYz0idWktbG9hZGVyIixlPWEoImh0bWwiKSxmPWEubW9iaWxlLndpbmRvdzthLndpZGdldCgibW9iaWxlLmxvYWRlciIse29wdGlvbnM6e3RoZW1lOiJhIix0ZXh0VmlzaWJsZTohMSxodG1sOiIiLHRleHQ6ImxvYWRpbmcifSxkZWZhdWx0SHRtbDoiPGRpdiBjbGFzcz0nIitjKyInPiIrIjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tbG9hZGluZyc+PC9zcGFuPiIrIjxoMT48L2gxPiIrIjwvZGl2PiIsZmFrZUZpeExvYWRlcjpmdW5jdGlvbigpe3ZhciBiPWEoIi4iK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5maXJzdCgpO3RoaXMuZWxlbWVudC5jc3Moe3RvcDphLnN1cHBvcnQuc2Nyb2xsVG9wJiZmLnNjcm9sbFRvcCgpK2YuaGVpZ2h0KCkvMnx8Yi5sZW5ndGgmJmIub2Zmc2V0KCkudG9wfHwxMDB9KX0sY2hlY2tMb2FkZXJQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudC5vZmZzZXQoKSxjPWYuc2Nyb2xsVG9wKCksZD1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKTtpZihiLnRvcDxjfHxiLnRvcC1jPmQpdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1sb2FkZXItZmFrZWZpeCIpLHRoaXMuZmFrZUZpeExvYWRlcigpLGYudW5iaW5kKCJzY3JvbGwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbikuYmluZCgic2Nyb2xsIixhLnByb3h5KHRoaXMuZmFrZUZpeExvYWRlcix0aGlzKSl9LHJlc2V0SHRtbDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5odG1sKGEodGhpcy5kZWZhdWx0SHRtbCkuaHRtbCgpKX0sc2hvdzpmdW5jdGlvbihiLGcsaCl7dmFyIGksaixrLGw7dGhpcy5yZXNldEh0bWwoKSxhLnR5cGUoYik9PT0ib2JqZWN0Ij8obD1hLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsYiksYj1sLnRoZW1lfHxhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZVRoZW1lKToobD10aGlzLm9wdGlvbnMsYj1ifHxhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZVRoZW1lfHxsLnRoZW1lKSxqPWd8fGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlfHxsLnRleHQsZS5hZGRDbGFzcygidWktbG9hZGluZyIpO2lmKGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlIT09ITF8fGwuaHRtbClhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZVRleHRWaXNpYmxlIT09ZD9pPWEubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGV4dFZpc2libGU6aT1sLnRleHRWaXNpYmxlLHRoaXMuZWxlbWVudC5hdHRyKCJjbGFzcyIsYysiIHVpLWNvcm5lci1hbGwgdWktYm9keS0iK2IrIiB1aS1sb2FkZXItIisoaXx8Z3x8Yi50ZXh0PyJ2ZXJib3NlIjoiZGVmYXVsdCIpKyhsLnRleHRvbmx5fHxoPyIgdWktbG9hZGVyLXRleHRvbmx5IjoiIikpLGwuaHRtbD90aGlzLmVsZW1lbnQuaHRtbChsLmh0bWwpOnRoaXMuZWxlbWVudC5maW5kKCJoMSIpLnRleHQoaiksdGhpcy5lbGVtZW50LmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbigpLGYuYmluZCgic2Nyb2xsIixhLnByb3h5KHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbix0aGlzKSl9LGhpZGU6ZnVuY3Rpb24oKXtlLnJlbW92ZUNsYXNzKCJ1aS1sb2FkaW5nIiksYS5tb2JpbGUubG9hZGluZ01lc3NhZ2UmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktbG9hZGVyLWZha2VmaXgiKSxhLm1vYmlsZS53aW5kb3cudW5iaW5kKCJzY3JvbGwiLHRoaXMuZmFrZUZpeExvYWRlciksYS5tb2JpbGUud2luZG93LnVuYmluZCgic2Nyb2xsIix0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24pfX0pLGYuYmluZCgicGFnZWNvbnRhaW5lcmNyZWF0ZSIsZnVuY3Rpb24oKXthLm1vYmlsZS5sb2FkZXJXaWRnZXQ9YS5tb2JpbGUubG9hZGVyV2lkZ2V0fHxhKGEubW9iaWxlLmxvYWRlci5wcm90b3R5cGUuZGVmYXVsdEh0bWwpLmxvYWRlcigpfSl9KGEsdGhpcyksZnVuY3Rpb24oYSxiLGQpe2Z1bmN0aW9uIGsoYSl7cmV0dXJuIGE9YXx8bG9jYXRpb24uaHJlZiwiIyIrYS5yZXBsYWNlKC9eW14jXSojPyguKikkLywiJDEiKX12YXIgZT0iaGFzaGNoYW5nZSIsZj1jLGcsaD1hLmV2ZW50LnNwZWNpYWwsaT1mLmRvY3VtZW50TW9kZSxqPSJvbiIrZSBpbiBiJiYoaT09PWR8fGk+Nyk7YS5mbltlXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoZSxhKTp0aGlzLnRyaWdnZXIoZSl9LGEuZm5bZV0uZGVsYXk9NTAsaFtlXT1hLmV4dGVuZChoW2VdLHtzZXR1cDpmdW5jdGlvbigpe2lmKGopcmV0dXJuITE7YShnLnN0YXJ0KX0sdGVhcmRvd246ZnVuY3Rpb24oKXtpZihqKXJldHVybiExO2EoZy5zdG9wKX19KSxnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3ZhciBjPWsoKSxkPW0oaCk7YyE9PWg/KGwoaD1jLGQpLGEoYikudHJpZ2dlcihlKSk6ZCE9PWgmJihsb2NhdGlvbi5ocmVmPWxvY2F0aW9uLmhyZWYucmVwbGFjZSgvIy4qLywiIikrZCksZz1zZXRUaW1lb3V0KG4sYS5mbltlXS5kZWxheSl9dmFyIGM9e30sZyxoPWsoKSxpPWZ1bmN0aW9uKGEpe3JldHVybiBhfSxsPWksbT1pO3JldHVybiBjLnN0YXJ0PWZ1bmN0aW9uKCl7Z3x8bigpfSxjLnN0b3A9ZnVuY3Rpb24oKXtnJiZjbGVhclRpbWVvdXQoZyksZz1kfSxiLmF0dGFjaEV2ZW50JiYhYi5hZGRFdmVudExpc3RlbmVyJiYhaiYmZnVuY3Rpb24oKXt2YXIgYixkO2Muc3RhcnQ9ZnVuY3Rpb24oKXtifHwoZD1hLmZuW2VdLnNyYyxkPWQmJmQraygpLGI9YSgnPGlmcmFtZSB0YWJpbmRleD0iLTEiIHRpdGxlPSJlbXB0eSIvPicpLmhpZGUoKS5vbmUoImxvYWQiLGZ1bmN0aW9uKCl7ZHx8bChrKCkpLG4oKX0pLmF0dHIoInNyYyIsZHx8ImphdmFzY3JpcHQ6MCIpLmluc2VydEFmdGVyKCJib2R5IilbMF0uY29udGVudFdpbmRvdyxmLm9ucHJvcGVydHljaGFuZ2U9ZnVuY3Rpb24oKXt0cnl7ZXZlbnQucHJvcGVydHlOYW1lPT09InRpdGxlIiYmKGIuZG9jdW1lbnQudGl0bGU9Zi50aXRsZSl9Y2F0Y2goYSl7fX0pfSxjLnN0b3A9aSxtPWZ1bmN0aW9uKCl7cmV0dXJuIGsoYi5sb2NhdGlvbi5ocmVmKX0sbD1mdW5jdGlvbihjLGQpe3ZhciBnPWIuZG9jdW1lbnQsaD1hLmZuW2VdLmRvbWFpbjtjIT09ZCYmKGcudGl0bGU9Zi50aXRsZSxnLm9wZW4oKSxoJiZnLndyaXRlKCc8c2NyaXB0PmRvY3VtZW50LmRvbWFpbj0iJytoKyciPC9zY3JpcHQ+JyksZy5jbG9zZSgpLGIubG9jYXRpb24uaGFzaD1jKX19KCksY30oKX0oYSx0aGlzKSxmdW5jdGlvbihhLGQpe2IubWF0Y2hNZWRpYT1iLm1hdGNoTWVkaWF8fGZ1bmN0aW9uKGEsYil7dmFyIGMsZD1hLmRvY3VtZW50RWxlbWVudCxlPWQuZmlyc3RFbGVtZW50Q2hpbGR8fGQuZmlyc3RDaGlsZCxmPWEuY3JlYXRlRWxlbWVudCgiYm9keSIpLGc9YS5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gZy5pZD0ibXEtdGVzdC0xIixnLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO3RvcDotMTAwZW0iLGYuc3R5bGUuYmFja2dyb3VuZD0ibm9uZSIsZi5hcHBlbmRDaGlsZChnKSxmdW5jdGlvbihhKXtyZXR1cm4gZy5pbm5lckhUTUw9JyZzaHk7PHN0eWxlIG1lZGlhPSInK2ErJyI+ICNtcS10ZXN0LTEgeyB3aWR0aDogNDJweDsgfTwvc3R5bGU+JyxkLmluc2VydEJlZm9yZShmLGUpLGM9Zy5vZmZzZXRXaWR0aD09PTQyLGQucmVtb3ZlQ2hpbGQoZikse21hdGNoZXM6YyxtZWRpYTphfX19KGMpLGEubW9iaWxlLm1lZGlhPWZ1bmN0aW9uKGEpe3JldHVybiBiLm1hdGNoTWVkaWEoYSkubWF0Y2hlc319KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGQ9e3RvdWNoOiJvbnRvdWNoZW5kImluIGN9O2EubW9iaWxlLnN1cHBvcnQ9YS5tb2JpbGUuc3VwcG9ydHx8e30sYS5leHRlbmQoYS5zdXBwb3J0LGQpLGEuZXh0ZW5kKGEubW9iaWxlLnN1cHBvcnQsZCl9KGEpLGZ1bmN0aW9uKGEsYyl7YS5leHRlbmQoYS5zdXBwb3J0LHtvcmllbnRhdGlvbjoib3JpZW50YXRpb24iaW4gYiYmIm9ub3JpZW50YXRpb25jaGFuZ2UiaW4gYn0pfShhKSxmdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGUoYSl7dmFyIGI9YS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKSxjPShhKyIgIitoLmpvaW4oYisiICIpK2IpLnNwbGl0KCIgIik7Zm9yKHZhciBlIGluIGMpaWYoZ1tjW2VdXSE9PWQpcmV0dXJuITB9ZnVuY3Rpb24gbShhLGIsZCl7dmFyIGU9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxmPWZ1bmN0aW9uKGEpe3JldHVybiBhLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyKDEpfSxnPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09IiI/IiI6Ii0iK2EuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkrYS5zdWJzdHIoMSkrIi0ifSxpPWZ1bmN0aW9uKGMpe3ZhciBkPWcoYykrYSsiOiAiK2IrIjsiLGg9ZihjKSxpPWgrKGg9PT0iIj9hOmYoYSkpO2Uuc2V0QXR0cmlidXRlKCJzdHlsZSIsZCksIWUuc3R5bGVbaV18fChrPSEwKX0saj1kP2Q6aCxrO2Zvcih2YXIgbD0wO2w8ai5sZW5ndGg7bCsrKWkoaltsXSk7cmV0dXJuISFrfWZ1bmN0aW9uIG4oKXt2YXIgZT0idHJhbnNmb3JtLTNkIixnPWEubW9iaWxlLm1lZGlhKCIoLSIraC5qb2luKCItIitlKyIpLCgtIikrIi0iK2UrIiksKCIrZSsiKSIpO2lmKGcpcmV0dXJuISFnO3ZhciBpPWMuY3JlYXRlRWxlbWVudCgiZGl2Iiksaj17TW96VHJhbnNmb3JtOiItbW96LXRyYW5zZm9ybSIsdHJhbnNmb3JtOiJ0cmFuc2Zvcm0ifTtmLmFwcGVuZChpKTtmb3IodmFyIGsgaW4gailpLnN0eWxlW2tdIT09ZCYmKGkuc3R5bGVba109InRyYW5zbGF0ZTNkKCAxMDBweCwgMXB4LCAxcHggKSIsZz1iLmdldENvbXB1dGVkU3R5bGUoaSkuZ2V0UHJvcGVydHlWYWx1ZShqW2tdKSk7cmV0dXJuISFnJiZnIT09Im5vbmUifWZ1bmN0aW9uIG8oKXt2YXIgYj1sb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUrInVpLWRpci8iLGM9YSgiaGVhZCBiYXNlIiksZD1udWxsLGU9IiIsZyxoO3JldHVybiBjLmxlbmd0aD9lPWMuYXR0cigiaHJlZiIpOmM9ZD1hKCI8YmFzZT4iLHtocmVmOmJ9KS5hcHBlbmRUbygiaGVhZCIpLGc9YSgiPGEgaHJlZj0ndGVzdHVybCcgLz4iKS5wcmVwZW5kVG8oZiksaD1nWzBdLmhyZWYsY1swXS5ocmVmPWV8fGxvY2F0aW9uLnBhdGhuYW1lLGQmJmQucmVtb3ZlKCksaC5pbmRleE9mKGIpPT09MH1mdW5jdGlvbiBwKCl7dmFyIGE9Yy5jcmVhdGVFbGVtZW50KCJ4IiksZD1jLmRvY3VtZW50RWxlbWVudCxlPWIuZ2V0Q29tcHV0ZWRTdHlsZSxmO3JldHVybiJwb2ludGVyRXZlbnRzImluIGEuc3R5bGU/KGEuc3R5bGUucG9pbnRlckV2ZW50cz0iYXV0byIsYS5zdHlsZS5wb2ludGVyRXZlbnRzPSJ4IixkLmFwcGVuZENoaWxkKGEpLGY9ZSYmZShhLCIiKS5wb2ludGVyRXZlbnRzPT09ImF1dG8iLGQucmVtb3ZlQ2hpbGQoYSksISFmKTohMX1mdW5jdGlvbiBxKCl7dmFyIGE9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gdHlwZW9mIGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0IT0idW5kZWZpbmVkIn1mdW5jdGlvbiByKCl7dmFyIGE9YixjPW5hdmlnYXRvci51c2VyQWdlbnQsZD1uYXZpZ2F0b3IucGxhdGZvcm0sZT1jLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTldKykvKSxmPSEhZSYmZVsxXSxnPWMubWF0Y2goL0Zlbm5lY1wvKFswLTldKykvKSxoPSEhZyYmZ1sxXSxpPWMubWF0Y2goL09wZXJhIE1vYmlcLyhbMC05XSspLyksaj0hIWkmJmlbMV07cmV0dXJuKGQuaW5kZXhPZigiaVBob25lIik+LTF8fGQuaW5kZXhPZigiaVBhZCIpPi0xfHxkLmluZGV4T2YoImlQb2QiKT4tMSkmJmYmJmY8NTM0fHxhLm9wZXJhbWluaSYme30udG9TdHJpbmcuY2FsbChhLm9wZXJhbWluaSk9PT0iW29iamVjdCBPcGVyYU1pbmldInx8aSYmajw3NDU4fHxjLmluZGV4T2YoIkFuZHJvaWQiKT4tMSYmZiYmZjw1MzN8fGgmJmg8Nnx8InBhbG1HZXRSZXNvdXJjZSJpbiBiJiZmJiZmPDUzNHx8Yy5pbmRleE9mKCJNZWVHbyIpPi0xJiZjLmluZGV4T2YoIk5va2lhQnJvd3Nlci84LjUuMCIpPi0xPyExOiEwfXZhciBmPWEoIjxib2R5PiIpLnByZXBlbmRUbygiaHRtbCIpLGc9ZlswXS5zdHlsZSxoPVsiV2Via2l0IiwiTW96IiwiTyJdLGk9InBhbG1HZXRSZXNvdXJjZSJpbiBiLGo9Yi5vcGVyYSxrPWIub3BlcmFtaW5pJiZ7fS50b1N0cmluZy5jYWxsKGIub3BlcmFtaW5pKT09PSJbb2JqZWN0IE9wZXJhTWluaV0iLGw9Yi5ibGFja2JlcnJ5JiYhZSgiLXdlYmtpdC10cmFuc2Zvcm0iKTthLmV4dGVuZChhLm1vYmlsZSx7YnJvd3Nlcjp7fX0pLGEubW9iaWxlLmJyb3dzZXIub2xkSUU9ZnVuY3Rpb24oKXt2YXIgYT0zLGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxkPWIuYWxsfHxbXTtkbyBiLmlubmVySFRNTD0iPCEtLVtpZiBndCBJRSAiKyArK2ErIl0+PGJyPjwhW2VuZGlmXS0tPiI7d2hpbGUoZFswXSk7cmV0dXJuIGE+ND9hOiFhfSgpLGEuZXh0ZW5kKGEuc3VwcG9ydCx7Y3NzVHJhbnNpdGlvbnM6IldlYktpdFRyYW5zaXRpb25FdmVudCJpbiBifHxtKCJ0cmFuc2l0aW9uIiwiaGVpZ2h0IDEwMG1zIGxpbmVhciIsWyJXZWJraXQiLCJNb3oiLCIiXSkmJiFhLm1vYmlsZS5icm93c2VyLm9sZElFJiYhaixwdXNoU3RhdGU6InB1c2hTdGF0ZSJpbiBoaXN0b3J5JiYicmVwbGFjZVN0YXRlImluIGhpc3RvcnkmJmIubmF2aWdhdG9yLnVzZXJBZ2VudC5zZWFyY2goL0NyaU9TLyk9PT0tMSxtZWRpYXF1ZXJ5OmEubW9iaWxlLm1lZGlhKCJvbmx5IGFsbCIpLGNzc1BzZXVkb0VsZW1lbnQ6ISFlKCJjb250ZW50IiksdG91Y2hPdmVyZmxvdzohIWUoIm92ZXJmbG93U2Nyb2xsaW5nIiksY3NzVHJhbnNmb3JtM2Q6bigpLGJveFNoYWRvdzohIWUoImJveFNoYWRvdyIpJiYhbCxmaXhlZFBvc2l0aW9uOnIoKSxzY3JvbGxUb3A6KCJwYWdlWE9mZnNldCJpbiBifHwic2Nyb2xsVG9wImluIGMuZG9jdW1lbnRFbGVtZW50fHwic2Nyb2xsVG9wImluIGZbMF0pJiYhaSYmIWssZHluYW1pY0Jhc2VUYWc6bygpLGNzc1BvaW50ZXJFdmVudHM6cCgpLGJvdW5kaW5nUmVjdDpxKCl9KSxmLnJlbW92ZSgpO3ZhciBzPWZ1bmN0aW9uKCl7dmFyIGE9Yi5uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybiBhLmluZGV4T2YoIk5va2lhIik+LTEmJihhLmluZGV4T2YoIlN5bWJpYW4vMyIpPi0xfHxhLmluZGV4T2YoIlNlcmllczYwLzUiKT4tMSkmJmEuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSYmYS5tYXRjaCgvKEJyb3dzZXJOR3xOb2tpYUJyb3dzZXIpXC83XC5bMC0zXS8pfSgpO2EubW9iaWxlLmdyYWRlQT1mdW5jdGlvbigpe3JldHVybihhLnN1cHBvcnQubWVkaWFxdWVyeXx8YS5tb2JpbGUuYnJvd3Nlci5vbGRJRSYmYS5tb2JpbGUuYnJvd3Nlci5vbGRJRT49NykmJihhLnN1cHBvcnQuYm91bmRpbmdSZWN0fHxhLmZuLmpxdWVyeS5tYXRjaCgvMVwuWzAtNytdXC5bMC05K10/LykhPT1udWxsKX0sYS5tb2JpbGUuYWpheEJsYWNrbGlzdD1iLmJsYWNrYmVycnkmJiFiLldlYktpdFBvaW50fHxrfHxzLHMmJmEoZnVuY3Rpb24oKXthKCJoZWFkIGxpbmtbcmVsPSdzdHlsZXNoZWV0J10iKS5hdHRyKCJyZWwiLCJhbHRlcm5hdGUgc3R5bGVzaGVldCIpLmF0dHIoInJlbCIsInN0eWxlc2hlZXQiKX0pLGEuc3VwcG9ydC5ib3hTaGFkb3d8fGEoImh0bWwiKS5hZGRDbGFzcygidWktbW9iaWxlLW5vc3VwcG9ydC1ib3hzaGFkb3ciKX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgYz1hLm1vYmlsZS53aW5kb3csZCxlO2EuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZT1kPXtib3VuZDohMSxwdXNoU3RhdGVFbmFibGVkOiEwLG9yaWdpbmFsRXZlbnROYW1lOmIsaXNQdXNoU3RhdGVFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIGEuc3VwcG9ydC5wdXNoU3RhdGUmJmEubW9iaWxlLnB1c2hTdGF0ZUVuYWJsZWQ9PT0hMCYmdGhpcy5pc0hhc2hDaGFuZ2VFbmFibGVkKCl9LGlzSGFzaENoYW5nZUVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQ9PT0hMH0scG9wc3RhdGU6ZnVuY3Rpb24oYil7dmFyIGQ9bmV3IGEuRXZlbnQoIm5hdmlnYXRlIiksZT1uZXcgYS5FdmVudCgiYmVmb3JlbmF2aWdhdGUiKSxmPWIub3JpZ2luYWxFdmVudC5zdGF0ZXx8e30sZz1sb2NhdGlvbi5ocmVmO2MudHJpZ2dlcihlKTtpZihlLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybjtiLmhpc3RvcnlTdGF0ZSYmYS5leHRlbmQoZixiLmhpc3RvcnlTdGF0ZSksZC5vcmlnaW5hbEV2ZW50PWIsc2V0VGltZW91dChmdW5jdGlvbigpe2MudHJpZ2dlcihkLHtzdGF0ZTpmfSl9LDApfSxoYXNoY2hhbmdlOmZ1bmN0aW9uKGIsZCl7dmFyIGU9bmV3IGEuRXZlbnQoIm5hdmlnYXRlIiksZj1uZXcgYS5FdmVudCgiYmVmb3JlbmF2aWdhdGUiKTtjLnRyaWdnZXIoZik7aWYoZi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm47ZS5vcmlnaW5hbEV2ZW50PWIsYy50cmlnZ2VyKGUse3N0YXRlOmIuaGFzaGNoYW5nZVN0YXRlfHx7fX0pfSxzZXR1cDpmdW5jdGlvbihhLGIpe2lmKGQuYm91bmQpcmV0dXJuO2QuYm91bmQ9ITAsZC5pc1B1c2hTdGF0ZUVuYWJsZWQoKT8oZC5vcmlnaW5hbEV2ZW50TmFtZT0icG9wc3RhdGUiLGMuYmluZCgicG9wc3RhdGUubmF2aWdhdGUiLGQucG9wc3RhdGUpKTpkLmlzSGFzaENoYW5nZUVuYWJsZWQoKSYmKGQub3JpZ2luYWxFdmVudE5hbWU9Imhhc2hjaGFuZ2UiLGMuYmluZCgiaGFzaGNoYW5nZS5uYXZpZ2F0ZSIsZC5oYXNoY2hhbmdlKSl9fX0oYSksZnVuY3Rpb24oYSxjKXt2YXIgZCxlLGYsZz0iJnVpLXN0YXRlPWRpYWxvZyI7YS5tb2JpbGUucGF0aD1kPXt1aVN0YXRlS2V5OiImdWktc3RhdGUiLHVybFBhcnNlUkU6L15ccyooKCgoW146XC8jXD9dKzopPyg/OihcL1wvKSgoPzooKFteOkBcLyNcP10rKSg/Olw6KFteOkBcLyNcP10rKSk/KUApPygoW146XC8jXD9cXVxbXSt8XFtbXlwvXF1AIz9dK1xdKSg/Olw6KFswLTldKykpPykpPyk/KT8oKFwvPyg/OlteXC9cPyNdK1wvKykqKShbXlw/I10qKSkpPyhcP1teI10rKT8pKCMuKik/LyxnZXRMb2NhdGlvbjpmdW5jdGlvbihhKXt2YXIgYj1hP3RoaXMucGFyc2VVcmwoYSk6bG9jYXRpb24sYz10aGlzLnBhcnNlVXJsKGF8fGxvY2F0aW9uLmhyZWYpLmhhc2g7cmV0dXJuIGM9Yz09PSIjIj8iIjpjLGIucHJvdG9jb2wrIi8vIitiLmhvc3QrYi5wYXRobmFtZStiLnNlYXJjaCtjfSxwYXJzZUxvY2F0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyc2VVcmwodGhpcy5nZXRMb2NhdGlvbigpKX0scGFyc2VVcmw6ZnVuY3Rpb24oYil7aWYoYS50eXBlKGIpPT09Im9iamVjdCIpcmV0dXJuIGI7dmFyIGM9ZC51cmxQYXJzZVJFLmV4ZWMoYnx8IiIpfHxbXTtyZXR1cm57aHJlZjpjWzBdfHwiIixocmVmTm9IYXNoOmNbMV18fCIiLGhyZWZOb1NlYXJjaDpjWzJdfHwiIixkb21haW46Y1szXXx8IiIscHJvdG9jb2w6Y1s0XXx8IiIsZG91YmxlU2xhc2g6Y1s1XXx8IiIsYXV0aG9yaXR5OmNbNl18fCIiLHVzZXJuYW1lOmNbOF18fCIiLHBhc3N3b3JkOmNbOV18fCIiLGhvc3Q6Y1sxMF18fCIiLGhvc3RuYW1lOmNbMTFdfHwiIixwb3J0OmNbMTJdfHwiIixwYXRobmFtZTpjWzEzXXx8IiIsZGlyZWN0b3J5OmNbMTRdfHwiIixmaWxlbmFtZTpjWzE1XXx8IiIsc2VhcmNoOmNbMTZdfHwiIixoYXNoOmNbMTddfHwiIn19LG1ha2VQYXRoQWJzb2x1dGU6ZnVuY3Rpb24oYSxiKXtpZihhJiZhLmNoYXJBdCgwKT09PSIvIilyZXR1cm4gYTthPWF8fCIiLGI9Yj9iLnJlcGxhY2UoL15cL3woXC9bXlwvXSp8W15cL10rKSQvZywiIik6IiI7dmFyIGM9Yj9iLnNwbGl0KCIvIik6W10sZD1hLnNwbGl0KCIvIik7Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV07c3dpdGNoKGYpe2Nhc2UiLiI6YnJlYWs7Y2FzZSIuLiI6Yy5sZW5ndGgmJmMucG9wKCk7YnJlYWs7ZGVmYXVsdDpjLnB1c2goZil9fXJldHVybiIvIitjLmpvaW4oIi8iKX0saXNTYW1lRG9tYWluOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGQucGFyc2VVcmwoYSkuZG9tYWluPT09ZC5wYXJzZVVybChiKS5kb21haW59LGlzUmVsYXRpdmVVcmw6ZnVuY3Rpb24oYSl7cmV0dXJuIGQucGFyc2VVcmwoYSkucHJvdG9jb2w9PT0iIn0saXNBYnNvbHV0ZVVybDpmdW5jdGlvbihhKXtyZXR1cm4gZC5wYXJzZVVybChhKS5wcm90b2NvbCE9PSIifSxtYWtlVXJsQWJzb2x1dGU6ZnVuY3Rpb24oYSxiKXtpZighZC5pc1JlbGF0aXZlVXJsKGEpKXJldHVybiBhO2I9PT1jJiYoYj10aGlzLmRvY3VtZW50QmFzZSk7dmFyIGU9ZC5wYXJzZVVybChhKSxmPWQucGFyc2VVcmwoYiksZz1lLnByb3RvY29sfHxmLnByb3RvY29sLGg9ZS5wcm90b2NvbD9lLmRvdWJsZVNsYXNoOmUuZG91YmxlU2xhc2h8fGYuZG91YmxlU2xhc2gsaT1lLmF1dGhvcml0eXx8Zi5hdXRob3JpdHksaj1lLnBhdGhuYW1lIT09IiIsaz1kLm1ha2VQYXRoQWJzb2x1dGUoZS5wYXRobmFtZXx8Zi5maWxlbmFtZSxmLnBhdGhuYW1lKSxsPWUuc2VhcmNofHwhaiYmZi5zZWFyY2h8fCIiLG09ZS5oYXNoO3JldHVybiBnK2graStrK2wrbX0sYWRkU2VhcmNoUGFyYW1zOmZ1bmN0aW9uKGIsYyl7dmFyIGU9ZC5wYXJzZVVybChiKSxmPXR5cGVvZiBjPT0ib2JqZWN0Ij9hLnBhcmFtKGMpOmMsZz1lLnNlYXJjaHx8Ij8iO3JldHVybiBlLmhyZWZOb1NlYXJjaCtnKyhnLmNoYXJBdChnLmxlbmd0aC0xKSE9PSI/Ij8iJiI6IiIpK2YrKGUuaGFzaHx8IiIpfSxjb252ZXJ0VXJsVG9EYXRhVXJsOmZ1bmN0aW9uKGEpe3ZhciBjPWQucGFyc2VVcmwoYSk7cmV0dXJuIGQuaXNFbWJlZGRlZFBhZ2UoYyk/Yy5oYXNoLnNwbGl0KGcpWzBdLnJlcGxhY2UoL14jLywiIikucmVwbGFjZSgvXD8uKiQvLCIiKTpkLmlzU2FtZURvbWFpbihjLHRoaXMuZG9jdW1lbnRCYXNlKT9jLmhyZWZOb0hhc2gucmVwbGFjZSh0aGlzLmRvY3VtZW50QmFzZS5kb21haW4sIiIpLnNwbGl0KGcpWzBdOmIuZGVjb2RlVVJJQ29tcG9uZW50KGEpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1jJiYoYT1kLnBhcnNlTG9jYXRpb24oKS5oYXNoKSxkLnN0cmlwSGFzaChhKS5yZXBsYWNlKC9bXlwvXSpcLlteXC8qXSskLywiIil9LHNldDpmdW5jdGlvbihhKXtsb2NhdGlvbi5oYXNoPWF9LGlzUGF0aDpmdW5jdGlvbihhKXtyZXR1cm4vXC8vLnRlc3QoYSl9LGNsZWFuOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UodGhpcy5kb2N1bWVudEJhc2UuZG9tYWluLCIiKX0sc3RyaXBIYXNoOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL14jLywiIil9LHN0cmlwUXVlcnlQYXJhbXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXD8uKiQvLCIiKX0sY2xlYW5IYXNoOmZ1bmN0aW9uKGEpe3JldHVybiBkLnN0cmlwSGFzaChhLnJlcGxhY2UoL1w/LiokLywiIikucmVwbGFjZShnLCIiKSl9LGlzSGFzaFZhbGlkOmZ1bmN0aW9uKGEpe3JldHVybi9eI1teI10rJC8udGVzdChhKX0saXNFeHRlcm5hbDpmdW5jdGlvbihhKXt2YXIgYj1kLnBhcnNlVXJsKGEpO3JldHVybiBiLnByb3RvY29sJiZiLmRvbWFpbiE9PXRoaXMuZG9jdW1lbnRVcmwuZG9tYWluPyEwOiExfSxoYXNQcm90b2NvbDpmdW5jdGlvbihhKXtyZXR1cm4vXig6P1x3KzopLy50ZXN0KGEpfSxpc0VtYmVkZGVkUGFnZTpmdW5jdGlvbihhKXt2YXIgYj1kLnBhcnNlVXJsKGEpO3JldHVybiBiLnByb3RvY29sIT09IiI/IXRoaXMuaXNQYXRoKGIuaGFzaCkmJmIuaGFzaCYmKGIuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaHx8dGhpcy5kb2N1bWVudEJhc2VEaWZmZXJzJiZiLmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoKTovXiMvLnRlc3QoYi5ocmVmKX0sc3F1YXNoOmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGcsaCxpPXRoaXMuaXNQYXRoKGEpLGo9dGhpcy5wYXJzZVVybChhKSxrPWouaGFzaCxsPSIiO2I9Ynx8KGQuaXNQYXRoKGEpP2QuZ2V0TG9jYXRpb24oKTpkLmdldERvY3VtZW50VXJsKCkpLGY9aT9kLnN0cmlwSGFzaChhKTphLGY9ZC5pc1BhdGgoai5oYXNoKT9kLnN0cmlwSGFzaChqLmhhc2gpOmYsaD1mLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KSxoPi0xJiYobD1mLnNsaWNlKGgpLGY9Zi5zbGljZSgwLGgpKSxlPWQubWFrZVVybEFic29sdXRlKGYsYiksZz10aGlzLnBhcnNlVXJsKGUpLnNlYXJjaDtpZihpKXtpZihkLmlzUGF0aChrKXx8ay5yZXBsYWNlKCIjIiwiIikuaW5kZXhPZih0aGlzLnVpU3RhdGVLZXkpPT09MClrPSIiO2wmJmsuaW5kZXhPZih0aGlzLnVpU3RhdGVLZXkpPT09LTEmJihrKz1sKSxrLmluZGV4T2YoIiMiKT09PS0xJiZrIT09IiImJihrPSIjIitrKSxlPWQucGFyc2VVcmwoZSksZT1lLnByb3RvY29sKyIvLyIrZS5ob3N0K2UucGF0aG5hbWUrZytrfWVsc2UgZSs9ZS5pbmRleE9mKCIjIik+LTE/bDoiIyIrbDtyZXR1cm4gZX0saXNQcmVzZXJ2YWJsZUhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgiIyIsIiIpLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KT09PTB9fSxkLmRvY3VtZW50VXJsPWQucGFyc2VMb2NhdGlvbigpLGY9YSgiaGVhZCIpLmZpbmQoImJhc2UiKSxkLmRvY3VtZW50QmFzZT1mLmxlbmd0aD9kLnBhcnNlVXJsKGQubWFrZVVybEFic29sdXRlKGYuYXR0cigiaHJlZiIpLGQuZG9jdW1lbnRVcmwuaHJlZikpOmQuZG9jdW1lbnRVcmwsZC5kb2N1bWVudEJhc2VEaWZmZXJzPWQuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaCE9PWQuZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gsZC5nZXREb2N1bWVudFVybD1mdW5jdGlvbihiKXtyZXR1cm4gYj9hLmV4dGVuZCh7fSxkLmRvY3VtZW50VXJsKTpkLmRvY3VtZW50VXJsLmhyZWZ9LGQuZ2V0RG9jdW1lbnRCYXNlPWZ1bmN0aW9uKGIpe3JldHVybiBiP2EuZXh0ZW5kKHt9LGQuZG9jdW1lbnRCYXNlKTpkLmRvY3VtZW50QmFzZS5ocmVmfX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgYz1hLm1vYmlsZS5wYXRoO2EubW9iaWxlLkhpc3Rvcnk9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YWNrPWF8fFtdLHRoaXMuYWN0aXZlSW5kZXg9Ynx8MH0sYS5leHRlbmQoYS5tb2JpbGUuSGlzdG9yeS5wcm90b3R5cGUse2dldEFjdGl2ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXhdfSxnZXRMYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5wcmV2aW91c0luZGV4XX0sZ2V0TmV4dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXgrMV19LGdldFByZXY6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLmFjdGl2ZUluZGV4LTFdfSxhZGQ6ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9LHRoaXMuZ2V0TmV4dCgpJiZ0aGlzLmNsZWFyRm9yd2FyZCgpLGIuaGFzaCYmYi5oYXNoLmluZGV4T2YoIiMiKT09PS0xJiYoYi5oYXNoPSIjIitiLmhhc2gpLGIudXJsPWEsdGhpcy5zdGFjay5wdXNoKGIpLHRoaXMuYWN0aXZlSW5kZXg9dGhpcy5zdGFjay5sZW5ndGgtMX0sY2xlYXJGb3J3YXJkOmZ1bmN0aW9uKCl7dGhpcy5zdGFjaz10aGlzLnN0YWNrLnNsaWNlKDAsdGhpcy5hY3RpdmVJbmRleCsxKX0sZmluZDpmdW5jdGlvbihhLGIsYyl7Yj1ifHx0aGlzLnN0YWNrO3ZhciBkLGUsZj1iLmxlbmd0aCxnO2ZvcihlPTA7ZTxmO2UrKyl7ZD1iW2VdO2lmKGRlY29kZVVSSUNvbXBvbmVudChhKT09PWRlY29kZVVSSUNvbXBvbmVudChkLnVybCl8fGRlY29kZVVSSUNvbXBvbmVudChhKT09PWRlY29kZVVSSUNvbXBvbmVudChkLmhhc2gpKXtnPWU7aWYoYylyZXR1cm4gZ319cmV0dXJuIGd9LGNsb3Nlc3Q6ZnVuY3Rpb24oYSl7dmFyIGMsZD10aGlzLmFjdGl2ZUluZGV4O3JldHVybiBjPXRoaXMuZmluZChhLHRoaXMuc3RhY2suc2xpY2UoMCxkKSksYz09PWImJihjPXRoaXMuZmluZChhLHRoaXMuc3RhY2suc2xpY2UoZCksITApLGM9Yz09PWI/YzpjK2QpLGN9LGRpcmVjdDpmdW5jdGlvbihjKXt2YXIgZD10aGlzLmNsb3Nlc3QoYy51cmwpLGU9dGhpcy5hY3RpdmVJbmRleDtkIT09YiYmKHRoaXMuYWN0aXZlSW5kZXg9ZCx0aGlzLnByZXZpb3VzSW5kZXg9ZSksZDxlPyhjLnByZXNlbnR8fGMuYmFja3x8YS5ub29wKSh0aGlzLmdldEFjdGl2ZSgpLCJiYWNrIik6ZD5lPyhjLnByZXNlbnR8fGMuZm9yd2FyZHx8YS5ub29wKSh0aGlzLmdldEFjdGl2ZSgpLCJmb3J3YXJkIik6ZD09PWImJmMubWlzc2luZyYmYy5taXNzaW5nKHRoaXMuZ2V0QWN0aXZlKCkpfX0pfShhKSxmdW5jdGlvbihhLGQpe3ZhciBlPWEubW9iaWxlLnBhdGg7YS5tb2JpbGUuTmF2aWdhdG9yPWZ1bmN0aW9uKGIpe3RoaXMuaGlzdG9yeT1iLHRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2U9ITAsc2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5pZ25vcmVJbml0aWFsSGFzaENoYW5nZT0hMX0sdGhpcyksMjAwKSxhLm1vYmlsZS53aW5kb3cuYmluZCh7InBvcHN0YXRlLmhpc3RvcnkiOmEucHJveHkodGhpcy5wb3BzdGF0ZSx0aGlzKSwiaGFzaGNoYW5nZS5oaXN0b3J5IjphLnByb3h5KHRoaXMuaGFzaGNoYW5nZSx0aGlzKX0pfSxhLmV4dGVuZChhLm1vYmlsZS5OYXZpZ2F0b3IucHJvdG90eXBlLHtzcXVhc2g6ZnVuY3Rpb24oZCxmKXt2YXIgZyxoLGk9ZS5pc1BhdGgoZCk/ZS5zdHJpcEhhc2goZCk6ZDtyZXR1cm4gaD1lLnNxdWFzaChkKSxnPWEuZXh0ZW5kKHtoYXNoOmksdXJsOmh9LGYpLGIuaGlzdG9yeS5yZXBsYWNlU3RhdGUoZyxnLnRpdGxlfHxjLnRpdGxlLGgpLGd9LGhhc2g6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGY7Yz1lLnBhcnNlVXJsKGEpLGQ9ZS5wYXJzZUxvY2F0aW9uKCk7aWYoZC5wYXRobmFtZStkLnNlYXJjaD09PWMucGF0aG5hbWUrYy5zZWFyY2gpZj1jLmhhc2g/Yy5oYXNoOmMucGF0aG5hbWUrYy5zZWFyY2g7ZWxzZSBpZihlLmlzUGF0aChhKSl7dmFyIGc9ZS5wYXJzZVVybChiKTtmPWcucGF0aG5hbWUrZy5zZWFyY2grKGUuaXNQcmVzZXJ2YWJsZUhhc2goZy5oYXNoKT9nLmhhc2gucmVwbGFjZSgiIyIsIiIpOiIiKX1lbHNlIGY9YTtyZXR1cm4gZn0sZ286ZnVuY3Rpb24oZCxmLGcpe3ZhciBoLGksaixrLGw9YS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpO2k9ZS5zcXVhc2goZCksaj10aGlzLmhhc2goZCxpKSxnJiZqIT09ZS5zdHJpcEhhc2goZS5wYXJzZUxvY2F0aW9uKCkuaGFzaCkmJih0aGlzLnByZXZlbnROZXh0SGFzaENoYW5nZT1nKSx0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU9ITAsYi5sb2NhdGlvbi5oYXNoPWosdGhpcy5wcmV2ZW50SGFzaEFzc2lnblBvcFN0YXRlPSExLGg9YS5leHRlbmQoe3VybDppLGhhc2g6aix0aXRsZTpjLnRpdGxlfSxmKSxsJiYoaz1uZXcgYS5FdmVudCgicG9wc3RhdGUiKSxrLm9yaWdpbmFsRXZlbnQ9e3R5cGU6InBvcHN0YXRlIixzdGF0ZTpudWxsfSx0aGlzLnNxdWFzaChkLGgpLGd8fCh0aGlzLmlnbm9yZVBvcFN0YXRlPSEwLGEubW9iaWxlLndpbmRvdy50cmlnZ2VyKGspKSksdGhpcy5oaXN0b3J5LmFkZChoLnVybCxoKX0scG9wc3RhdGU6ZnVuY3Rpb24oYil7dmFyIGMsZCxmLGc7aWYoIWEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKSlyZXR1cm47aWYodGhpcy5wcmV2ZW50SGFzaEFzc2lnblBvcFN0YXRlKXt0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU9ITEsYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtyZXR1cm59aWYodGhpcy5pZ25vcmVQb3BTdGF0ZSl7dGhpcy5pZ25vcmVQb3BTdGF0ZT0hMTtyZXR1cm59aWYoIWIub3JpZ2luYWxFdmVudC5zdGF0ZSYmdGhpcy5oaXN0b3J5LnN0YWNrLmxlbmd0aD09PTEmJnRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2Upe3RoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2U9ITE7cmV0dXJufWQ9ZS5wYXJzZUxvY2F0aW9uKCkuaGFzaDtpZighYi5vcmlnaW5hbEV2ZW50LnN0YXRlJiZkKXtmPXRoaXMuc3F1YXNoKGQpLHRoaXMuaGlzdG9yeS5hZGQoZi51cmwsZiksYi5oaXN0b3J5U3RhdGU9ZjtyZXR1cm59dGhpcy5oaXN0b3J5LmRpcmVjdCh7dXJsOihiLm9yaWdpbmFsRXZlbnQuc3RhdGV8fHt9KS51cmx8fGQscHJlc2VudDpmdW5jdGlvbihjLGQpe2IuaGlzdG9yeVN0YXRlPWEuZXh0ZW5kKHt9LGMpLGIuaGlzdG9yeVN0YXRlLmRpcmVjdGlvbj1kfX0pfSxoYXNoY2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBkLGY7aWYoIWEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc0hhc2hDaGFuZ2VFbmFibGVkKCl8fGEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKSlyZXR1cm47aWYodGhpcy5wcmV2ZW50TmV4dEhhc2hDaGFuZ2Upe3RoaXMucHJldmVudE5leHRIYXNoQ2hhbmdlPSExLGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7cmV0dXJufWQ9dGhpcy5oaXN0b3J5LGY9ZS5wYXJzZUxvY2F0aW9uKCkuaGFzaCx0aGlzLmhpc3RvcnkuZGlyZWN0KHt1cmw6ZixwcmVzZW50OmZ1bmN0aW9uKGMsZCl7Yi5oYXNoY2hhbmdlU3RhdGU9YS5leHRlbmQoe30sYyksYi5oYXNoY2hhbmdlU3RhdGUuZGlyZWN0aW9uPWR9LG1pc3Npbmc6ZnVuY3Rpb24oKXtkLmFkZChmLHtoYXNoOmYsdGl0bGU6Yy50aXRsZX0pfX0pfX0pfShhKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLm5hdmlnYXRlPWZ1bmN0aW9uKGIsYyxkKXthLm1vYmlsZS5uYXZpZ2F0ZS5uYXZpZ2F0b3IuZ28oYixjLGQpfSxhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5PW5ldyBhLm1vYmlsZS5IaXN0b3J5LGEubW9iaWxlLm5hdmlnYXRlLm5hdmlnYXRvcj1uZXcgYS5tb2JpbGUuTmF2aWdhdG9yKGEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkpO3ZhciBjPWEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpO2EubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWRkKGMuaHJlZix7aGFzaDpjLmhhc2h9KX0oYSksZnVuY3Rpb24oYSxiLGMsZCl7ZnVuY3Rpb24geChhKXt3aGlsZShhJiZ0eXBlb2YgYS5vcmlnaW5hbEV2ZW50IT0idW5kZWZpbmVkIilhPWEub3JpZ2luYWxFdmVudDtyZXR1cm4gYX1mdW5jdGlvbiB5KGIsYyl7dmFyIGU9Yi50eXBlLGYsZyxpLGssbCxtLG4sbyxwO2I9YS5FdmVudChiKSxiLnR5cGU9YyxmPWIub3JpZ2luYWxFdmVudCxnPWEuZXZlbnQucHJvcHMsZS5zZWFyY2goL14obW91c2V8Y2xpY2spLyk+LTEmJihnPWopO2lmKGYpZm9yKG49Zy5sZW5ndGgsaztuOylrPWdbLS1uXSxiW2tdPWZba107ZS5zZWFyY2goL21vdXNlKGRvd258dXApfGNsaWNrLyk+LTEmJiFiLndoaWNoJiYoYi53aGljaD0xKTtpZihlLnNlYXJjaCgvXnRvdWNoLykhPT0tMSl7aT14KGYpLGU9aS50b3VjaGVzLGw9aS5jaGFuZ2VkVG91Y2hlcyxtPWUmJmUubGVuZ3RoP2VbMF06bCYmbC5sZW5ndGg/bFswXTpkO2lmKG0pZm9yKG89MCxwPWgubGVuZ3RoO288cDtvKyspaz1oW29dLGJba109bVtrXX1yZXR1cm4gYn1mdW5jdGlvbiB6KGIpe3ZhciBjPXt9LGQsZjt3aGlsZShiKXtkPWEuZGF0YShiLGUpO2ZvcihmIGluIGQpZFtmXSYmKGNbZl09Yy5oYXNWaXJ0dWFsQmluZGluZz0hMCk7Yj1iLnBhcmVudE5vZGV9cmV0dXJuIGN9ZnVuY3Rpb24gQShiLGMpe3ZhciBkO3doaWxlKGIpe2Q9YS5kYXRhKGIsZSk7aWYoZCYmKCFjfHxkW2NdKSlyZXR1cm4gYjtiPWIucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBCKCl7cj0hMX1mdW5jdGlvbiBDKCl7cj0hMH1mdW5jdGlvbiBEKCl7dj0wLHAubGVuZ3RoPTAscT0hMSxDKCl9ZnVuY3Rpb24gRSgpe0IoKX1mdW5jdGlvbiBGKCl7RygpLGw9c2V0VGltZW91dChmdW5jdGlvbigpe2w9MCxEKCl9LGEudm1vdXNlLnJlc2V0VGltZXJEdXJhdGlvbil9ZnVuY3Rpb24gRygpe2wmJihjbGVhclRpbWVvdXQobCksbD0wKX1mdW5jdGlvbiBIKGIsYyxkKXt2YXIgZTtpZihkJiZkW2JdfHwhZCYmQShjLnRhcmdldCxiKSllPXkoYyxiKSxhKGMudGFyZ2V0KS50cmlnZ2VyKGUpO3JldHVybiBlfWZ1bmN0aW9uIEkoYil7dmFyIGM9YS5kYXRhKGIudGFyZ2V0LGYpO2lmKCFxJiYoIXZ8fHYhPT1jKSl7dmFyIGQ9SCgidiIrYi50eXBlLGIpO2QmJihkLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZiLnByZXZlbnREZWZhdWx0KCksZC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZiLnN0b3BQcm9wYWdhdGlvbigpLGQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSYmYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSl9fWZ1bmN0aW9uIEooYil7dmFyIGM9eChiKS50b3VjaGVzLGQsZTtpZihjJiZjLmxlbmd0aD09PTEpe2Q9Yi50YXJnZXQsZT16KGQpO2lmKGUuaGFzVmlydHVhbEJpbmRpbmcpe3Y9dSsrLGEuZGF0YShkLGYsdiksRygpLEUoKSxvPSExO3ZhciBnPXgoYikudG91Y2hlc1swXTttPWcucGFnZVgsbj1nLnBhZ2VZLEgoInZtb3VzZW92ZXIiLGIsZSksSCgidm1vdXNlZG93biIsYixlKX19fWZ1bmN0aW9uIEsoYSl7aWYocilyZXR1cm47b3x8SCgidm1vdXNlY2FuY2VsIixhLHooYS50YXJnZXQpKSxvPSEwLEYoKX1mdW5jdGlvbiBMKGIpe2lmKHIpcmV0dXJuO3ZhciBjPXgoYikudG91Y2hlc1swXSxkPW8sZT1hLnZtb3VzZS5tb3ZlRGlzdGFuY2VUaHJlc2hvbGQsZj16KGIudGFyZ2V0KTtvPW98fE1hdGguYWJzKGMucGFnZVgtbSk+ZXx8TWF0aC5hYnMoYy5wYWdlWS1uKT5lLG8mJiFkJiZIKCJ2bW91c2VjYW5jZWwiLGIsZiksSCgidm1vdXNlbW92ZSIsYixmKSxGKCl9ZnVuY3Rpb24gTShhKXtpZihyKXJldHVybjtDKCk7dmFyIGI9eihhLnRhcmdldCksYztIKCJ2bW91c2V1cCIsYSxiKTtpZighbyl7dmFyIGQ9SCgidmNsaWNrIixhLGIpO2QmJmQuaXNEZWZhdWx0UHJldmVudGVkKCkmJihjPXgoYSkuY2hhbmdlZFRvdWNoZXNbMF0scC5wdXNoKHt0b3VjaElEOnYseDpjLmNsaWVudFgseTpjLmNsaWVudFl9KSxxPSEwKX1IKCJ2bW91c2VvdXQiLGEsYiksbz0hMSxGKCl9ZnVuY3Rpb24gTihiKXt2YXIgYz1hLmRhdGEoYixlKSxkO2lmKGMpZm9yKGQgaW4gYylpZihjW2RdKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIE8oKXt9ZnVuY3Rpb24gUChiKXt2YXIgYz1iLnN1YnN0cigxKTtyZXR1cm57c2V0dXA6ZnVuY3Rpb24oZCxmKXtOKHRoaXMpfHxhLmRhdGEodGhpcyxlLHt9KTt2YXIgZz1hLmRhdGEodGhpcyxlKTtnW2JdPSEwLGtbYl09KGtbYl18fDApKzEsa1tiXT09PTEmJnQuYmluZChjLEkpLGEodGhpcykuYmluZChjLE8pLHMmJihrLnRvdWNoc3RhcnQ9KGsudG91Y2hzdGFydHx8MCkrMSxrLnRvdWNoc3RhcnQ9PT0xJiZ0LmJpbmQoInRvdWNoc3RhcnQiLEopLmJpbmQoInRvdWNoZW5kIixNKS5iaW5kKCJ0b3VjaG1vdmUiLEwpLmJpbmQoInNjcm9sbCIsSykpfSx0ZWFyZG93bjpmdW5jdGlvbihkLGYpey0ta1tiXSxrW2JdfHx0LnVuYmluZChjLEkpLHMmJigtLWsudG91Y2hzdGFydCxrLnRvdWNoc3RhcnR8fHQudW5iaW5kKCJ0b3VjaHN0YXJ0IixKKS51bmJpbmQoInRvdWNobW92ZSIsTCkudW5iaW5kKCJ0b3VjaGVuZCIsTSkudW5iaW5kKCJzY3JvbGwiLEspKTt2YXIgZz1hKHRoaXMpLGg9YS5kYXRhKHRoaXMsZSk7aCYmKGhbYl09ITEpLGcudW5iaW5kKGMsTyksTih0aGlzKXx8Zy5yZW1vdmVEYXRhKGUpfX19dmFyIGU9InZpcnR1YWxNb3VzZUJpbmRpbmdzIixmPSJ2aXJ0dWFsVG91Y2hJRCIsZz0idm1vdXNlb3ZlciB2bW91c2Vkb3duIHZtb3VzZW1vdmUgdm1vdXNldXAgdmNsaWNrIHZtb3VzZW91dCB2bW91c2VjYW5jZWwiLnNwbGl0KCIgIiksaD0iY2xpZW50WCBjbGllbnRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSIuc3BsaXQoIiAiKSxpPWEuZXZlbnQubW91c2VIb29rcz9hLmV2ZW50Lm1vdXNlSG9va3MucHJvcHM6W10saj1hLmV2ZW50LnByb3BzLmNvbmNhdChpKSxrPXt9LGw9MCxtPTAsbj0wLG89ITEscD1bXSxxPSExLHI9ITEscz0iYWRkRXZlbnRMaXN0ZW5lciJpbiBjLHQ9YShjKSx1PTEsdj0wLHc7YS52bW91c2U9e21vdmVEaXN0YW5jZVRocmVzaG9sZDoxMCxjbGlja0Rpc3RhbmNlVGhyZXNob2xkOjEwLHJlc2V0VGltZXJEdXJhdGlvbjoxNTAwfTtmb3IodmFyIFE9MDtRPGcubGVuZ3RoO1ErKylhLmV2ZW50LnNwZWNpYWxbZ1tRXV09UChnW1FdKTtzJiZjLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixmdW5jdGlvbihiKXt2YXIgYz1wLmxlbmd0aCxkPWIudGFyZ2V0LGUsZyxoLGksaixrO2lmKGMpe2U9Yi5jbGllbnRYLGc9Yi5jbGllbnRZLHc9YS52bW91c2UuY2xpY2tEaXN0YW5jZVRocmVzaG9sZCxoPWQ7d2hpbGUoaCl7Zm9yKGk9MDtpPGM7aSsrKXtqPXBbaV0saz0wO2lmKGg9PT1kJiZNYXRoLmFicyhqLngtZSk8dyYmTWF0aC5hYnMoai55LWcpPHd8fGEuZGF0YShoLGYpPT09ai50b3VjaElEKXtiLnByZXZlbnREZWZhdWx0KCksYi5zdG9wUHJvcGFnYXRpb24oKTtyZXR1cm59fWg9aC5wYXJlbnROb2RlfX19LCEwKX0oYSxiLGMpLGZ1bmN0aW9uKGEsYixkKXtmdW5jdGlvbiBrKGIsYyxkKXt2YXIgZT1kLnR5cGU7ZC50eXBlPWMsYS5ldmVudC5kaXNwYXRjaC5jYWxsKGIsZCksZC50eXBlPWV9dmFyIGU9YShjKTthLmVhY2goInRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRhcCB0YXBob2xkIHN3aXBlIHN3aXBlbGVmdCBzd2lwZXJpZ2h0IHNjcm9sbHN0YXJ0IHNjcm9sbHN0b3AiLnNwbGl0KCIgIiksZnVuY3Rpb24oYixjKXthLmZuW2NdPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChjLGEpOnRoaXMudHJpZ2dlcihjKX0sYS5hdHRyRm4mJihhLmF0dHJGbltjXT0hMCl9KTt2YXIgZj1hLm1vYmlsZS5zdXBwb3J0LnRvdWNoLGc9InRvdWNobW92ZSBzY3JvbGwiLGg9Zj8idG91Y2hzdGFydCI6Im1vdXNlZG93biIsaT1mPyJ0b3VjaGVuZCI6Im1vdXNldXAiLGo9Zj8idG91Y2htb3ZlIjoibW91c2Vtb3ZlIjthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQ9e2VuYWJsZWQ6ITAsc2V0dXA6ZnVuY3Rpb24oKXtmdW5jdGlvbiBmKGEsYyl7ZD1jLGsoYixkPyJzY3JvbGxzdGFydCI6InNjcm9sbHN0b3AiLGEpfXZhciBiPXRoaXMsYz1hKGIpLGQsZTtjLmJpbmQoZyxmdW5jdGlvbihiKXtpZighYS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQpcmV0dXJuO2R8fGYoYiwhMCksY2xlYXJUaW1lb3V0KGUpLGU9c2V0VGltZW91dChmdW5jdGlvbigpe2YoYiwhMSl9LDUwKX0pfX0sYS5ldmVudC5zcGVjaWFsLnRhcD17dGFwaG9sZFRocmVzaG9sZDo3NTAsc2V0dXA6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9YShiKTtjLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKGQpe2Z1bmN0aW9uIGkoKXtjbGVhclRpbWVvdXQoaCl9ZnVuY3Rpb24gaigpe2koKSxjLnVuYmluZCgidmNsaWNrIixsKS51bmJpbmQoInZtb3VzZXVwIixpKSxlLnVuYmluZCgidm1vdXNlY2FuY2VsIixqKX1mdW5jdGlvbiBsKGEpe2ooKSxmPT09YS50YXJnZXQmJmsoYiwidGFwIixhKX1pZihkLndoaWNoJiZkLndoaWNoIT09MSlyZXR1cm4hMTt2YXIgZj1kLnRhcmdldCxnPWQub3JpZ2luYWxFdmVudCxoO2MuYmluZCgidm1vdXNldXAiLGkpLmJpbmQoInZjbGljayIsbCksZS5iaW5kKCJ2bW91c2VjYW5jZWwiLGopLGg9c2V0VGltZW91dChmdW5jdGlvbigpe2soYiwidGFwaG9sZCIsYS5FdmVudCgidGFwaG9sZCIse3RhcmdldDpmfSkpfSxhLmV2ZW50LnNwZWNpYWwudGFwLnRhcGhvbGRUaHJlc2hvbGQpfSl9fSxhLmV2ZW50LnNwZWNpYWwuc3dpcGU9e3Njcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQ6MzAsZHVyYXRpb25UaHJlc2hvbGQ6MWUzLGhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZDozMCx2ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkOjc1LHN0YXJ0OmZ1bmN0aW9uKGIpe3ZhciBjPWIub3JpZ2luYWxFdmVudC50b3VjaGVzP2Iub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmI7cmV0dXJue3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOltjLnBhZ2VYLGMucGFnZVldLG9yaWdpbjphKGIudGFyZ2V0KX19LHN0b3A6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vcmlnaW5hbEV2ZW50LnRvdWNoZXM/YS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF06YTtyZXR1cm57dGltZToobmV3IERhdGUpLmdldFRpbWUoKSxjb29yZHM6W2IucGFnZVgsYi5wYWdlWV19fSxoYW5kbGVTd2lwZTpmdW5jdGlvbihiLGMpe2MudGltZS1iLnRpbWU8YS5ldmVudC5zcGVjaWFsLnN3aXBlLmR1cmF0aW9uVGhyZXNob2xkJiZNYXRoLmFicyhiLmNvb3Jkc1swXS1jLmNvb3Jkc1swXSk+YS5ldmVudC5zcGVjaWFsLnN3aXBlLmhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZCYmTWF0aC5hYnMoYi5jb29yZHNbMV0tYy5jb29yZHNbMV0pPGEuZXZlbnQuc3BlY2lhbC5zd2lwZS52ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkJiZiLm9yaWdpbi50cmlnZ2VyKCJzd2lwZSIpLnRyaWdnZXIoYi5jb29yZHNbMF0+Yy5jb29yZHNbMF0/InN3aXBlbGVmdCI6InN3aXBlcmlnaHQiKX0sc2V0dXA6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9YShiKTtjLmJpbmQoaCxmdW5jdGlvbihiKXtmdW5jdGlvbiBnKGIpe2lmKCFlKXJldHVybjtmPWEuZXZlbnQuc3BlY2lhbC5zd2lwZS5zdG9wKGIpLE1hdGguYWJzKGUuY29vcmRzWzBdLWYuY29vcmRzWzBdKT5hLmV2ZW50LnNwZWNpYWwuc3dpcGUuc2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZCYmYi5wcmV2ZW50RGVmYXVsdCgpfXZhciBlPWEuZXZlbnQuc3BlY2lhbC5zd2lwZS5zdGFydChiKSxmO2MuYmluZChqLGcpLm9uZShpLGZ1bmN0aW9uKCl7Yy51bmJpbmQoaixnKSxlJiZmJiZhLmV2ZW50LnNwZWNpYWwuc3dpcGUuaGFuZGxlU3dpcGUoZSxmKSxlPWY9ZH0pfSl9fSxhLmVhY2goe3Njcm9sbHN0b3A6InNjcm9sbHN0YXJ0Iix0YXBob2xkOiJ0YXAiLHN3aXBlbGVmdDoic3dpcGUiLHN3aXBlcmlnaHQ6InN3aXBlIn0sZnVuY3Rpb24oYixjKXthLmV2ZW50LnNwZWNpYWxbYl09e3NldHVwOmZ1bmN0aW9uKCl7YSh0aGlzKS5iaW5kKGMsYS5ub29wKX19fSl9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5ldmVudC5zcGVjaWFsLnRocm90dGxlZHJlc2l6ZT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoInJlc2l6ZSIsYyl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoInJlc2l6ZSIsYyl9fTt2YXIgYj0yNTAsYz1mdW5jdGlvbigpe2Y9KG5ldyBEYXRlKS5nZXRUaW1lKCksZz1mLWQsZz49Yj8oZD1mLGEodGhpcykudHJpZ2dlcigidGhyb3R0bGVkcmVzaXplIikpOihlJiZjbGVhclRpbWVvdXQoZSksZT1zZXRUaW1lb3V0KGMsYi1nKSl9LGQ9MCxlLGYsZ30oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBvKCl7dmFyIGE9ZygpO2EhPT1oJiYoaD1hLGQudHJpZ2dlcihlKSl9dmFyIGQ9YShiKSxlPSJvcmllbnRhdGlvbmNoYW5nZSIsZixnLGgsaSxqLGs9ezA6ITAsMTgwOiEwfTtpZihhLnN1cHBvcnQub3JpZW50YXRpb24pe3ZhciBsPWIuaW5uZXJXaWR0aHx8ZC53aWR0aCgpLG09Yi5pbm5lckhlaWdodHx8ZC5oZWlnaHQoKSxuPTUwO2k9bD5tJiZsLW0+bixqPWtbYi5vcmllbnRhdGlvbl07aWYoaSYmanx8IWkmJiFqKWs9eyItOTAiOiEwLDkwOiEwfX1hLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2U9YS5leHRlbmQoe30sYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLHtzZXR1cDpmdW5jdGlvbigpe2lmKGEuc3VwcG9ydC5vcmllbnRhdGlvbiYmIWEuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5kaXNhYmxlZClyZXR1cm4hMTtoPWcoKSxkLmJpbmQoInRocm90dGxlZHJlc2l6ZSIsbyl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYoYS5zdXBwb3J0Lm9yaWVudGF0aW9uJiYhYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLmRpc2FibGVkKXJldHVybiExO2QudW5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLG8pfSxhZGQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5oYW5kbGVyO2EuaGFuZGxlcj1mdW5jdGlvbihhKXtyZXR1cm4gYS5vcmllbnRhdGlvbj1nKCksYi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0pLGEuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5vcmllbnRhdGlvbj1nPWZ1bmN0aW9uKCl7dmFyIGQ9ITAsZT1jLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gYS5zdXBwb3J0Lm9yaWVudGF0aW9uP2Q9a1tiLm9yaWVudGF0aW9uXTpkPWUmJmUuY2xpZW50V2lkdGgvZS5jbGllbnRIZWlnaHQ8MS4xLGQ/InBvcnRyYWl0IjoibGFuZHNjYXBlIn0sYS5mbltlXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoZSxhKTp0aGlzLnRyaWdnZXIoZSl9LGEuYXR0ckZuJiYoYS5hdHRyRm5bZV09ITApfShhLHRoaXMpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5wYWdlIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOiJjIixkb21DYWNoZTohMSxrZWVwTmF0aXZlRGVmYXVsdDoiOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7aWYodGhpcy5fdHJpZ2dlcigiYmVmb3JlY3JlYXRlIik9PT0hMSlyZXR1cm4hMTt0aGlzLmVsZW1lbnQuYXR0cigidGFiaW5kZXgiLCIwIikuYWRkQ2xhc3MoInVpLXBhZ2UgdWktYm9keS0iK3RoaXMub3B0aW9ucy50aGVtZSksdGhpcy5fb24odGhpcy5lbGVtZW50LHtwYWdlYmVmb3JlaGlkZToicmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZCIscGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyJ9KX0sX2hhbmRsZVBhZ2VCZWZvcmVTaG93OmZ1bmN0aW9uKGEpe3RoaXMuc2V0Q29udGFpbmVyQmFja2dyb3VuZCgpfSxyZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kOmZ1bmN0aW9uKCl7YS5tb2JpbGUucGFnZUNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktb3ZlcmxheS0iK2EubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudC5wYXJlbnQoKSkpfSxzZXRDb250YWluZXJCYWNrZ3JvdW5kOmZ1bmN0aW9uKGIpe3RoaXMub3B0aW9ucy50aGVtZSYmYS5tb2JpbGUucGFnZUNvbnRhaW5lci5hZGRDbGFzcygidWktb3ZlcmxheS0iKyhifHx0aGlzLm9wdGlvbnMudGhlbWUpKX0sa2VlcE5hdGl2ZVNlbGVjdG9yOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLGM9Yi5rZWVwTmF0aXZlJiZhLnRyaW0oYi5rZWVwTmF0aXZlKTtyZXR1cm4gYyYmYi5rZWVwTmF0aXZlIT09Yi5rZWVwTmF0aXZlRGVmYXVsdD9bYi5rZWVwTmF0aXZlLGIua2VlcE5hdGl2ZURlZmF1bHRdLmpvaW4oIiwgIik6Yi5rZWVwTmF0aXZlRGVmYXVsdH19KX0oYSksZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGQpe3JldHVybiBkPT09YyYmKGQ9ITApLGZ1bmN0aW9uKGMsZSxmLGcpe3ZhciBoPW5ldyBhLkRlZmVycmVkLGk9ZT8iIHJldmVyc2UiOiIiLGo9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKSxrPWoubGFzdFNjcm9sbHx8YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwsbD1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSxtPWEubW9iaWxlLm1heFRyYW5zaXRpb25XaWR0aCE9PSExJiZhLm1vYmlsZS53aW5kb3cud2lkdGgoKT5hLm1vYmlsZS5tYXhUcmFuc2l0aW9uV2lkdGgsbj0hYS5zdXBwb3J0LmNzc1RyYW5zaXRpb25zfHxtfHwhY3x8Yz09PSJub25lInx8TWF0aC5tYXgoYS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpLGspPmEubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb24oKSxvPSIgdWktcGFnZS1wcmUtaW4iLHA9ZnVuY3Rpb24oKXthLm1vYmlsZS5wYWdlQ29udGFpbmVyLnRvZ2dsZUNsYXNzKCJ1aS1tb2JpbGUtdmlld3BvcnQtdHJhbnNpdGlvbmluZyB2aWV3cG9ydC0iK2MpfSxxPWZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITEsYi5zY3JvbGxUbygwLGspLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMH0sMTUwKX0scj1mdW5jdGlvbigpe2cucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKyIgb3V0IGluIHJldmVyc2UgIitjKS5oZWlnaHQoIiIpfSxzPWZ1bmN0aW9uKCl7ZD9nLmFuaW1hdGlvbkNvbXBsZXRlKHQpOnQoKSxnLmhlaWdodChsK2EubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSkuYWRkQ2xhc3MoYysiIG91dCIraSl9LHQ9ZnVuY3Rpb24oKXtnJiZkJiZyKCksdSgpfSx1PWZ1bmN0aW9uKCl7Zi5jc3MoInotaW5kZXgiLC0xMCksZi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrbyksYS5tb2JpbGUuZm9jdXNQYWdlKGYpLGYuaGVpZ2h0KGwraykscSgpLGYuY3NzKCJ6LWluZGV4IiwiIiksbnx8Zi5hbmltYXRpb25Db21wbGV0ZSh2KSxmLnJlbW92ZUNsYXNzKG8pLmFkZENsYXNzKGMrIiBpbiIraSksbiYmdigpfSx2PWZ1bmN0aW9uKCl7ZHx8ZyYmcigpLGYucmVtb3ZlQ2xhc3MoIm91dCBpbiByZXZlcnNlICIrYykuaGVpZ2h0KCIiKSxwKCksYS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpIT09ayYmcSgpLGgucmVzb2x2ZShjLGUsZixnLCEwKX07cmV0dXJuIHAoKSxnJiYhbj9zKCk6dCgpLGgucHJvbWlzZSgpfX0sZT1kKCksZj1kKCExKSxnPWZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpKjN9O2EubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcj1lLGEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycz17ImRlZmF1bHQiOmEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcixzZXF1ZW50aWFsOmUsc2ltdWx0YW5lb3VzOmZ9LGEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3M9e30sYS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb249ZnVuY3Rpb24oYil7cmV0dXJuIGImJiFhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3NbYl0mJihiPWEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3NbYl0pLGJ9LGEubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb249YS5tb2JpbGUuZ2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbnx8Z30oYSx0aGlzKSxmdW5jdGlvbihhLGQpe2Z1bmN0aW9uIHcoYil7ISFqJiYoIWouY2xvc2VzdCgiLiIrYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKS5sZW5ndGh8fGIpJiZqLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxqPW51bGx9ZnVuY3Rpb24geCgpe289ITEsbi5sZW5ndGg+MCYmYS5tb2JpbGUuY2hhbmdlUGFnZS5hcHBseShudWxsLG4ucG9wKCkpfWZ1bmN0aW9uIEIoYixjLGQsZSl7YyYmYy5kYXRhKCJtb2JpbGUtcGFnZSIpLl90cmlnZ2VyKCJiZWZvcmVoaWRlIixudWxsLHtuZXh0UGFnZTpifSksYi5kYXRhKCJtb2JpbGUtcGFnZSIpLl90cmlnZ2VyKCJiZWZvcmVzaG93IixudWxsLHtwcmV2UGFnZTpjfHxhKCIiKX0pLGEubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpLGQ9YS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb24oZCk7dmFyIGY9YS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzW2R8fCJkZWZhdWx0Il18fGEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcixnPWYoZCxlLGIsYyk7cmV0dXJuIGcuZG9uZShmdW5jdGlvbigpe2MmJmMuZGF0YSgibW9iaWxlLXBhZ2UiKS5fdHJpZ2dlcigiaGlkZSIsbnVsbCx7bmV4dFBhZ2U6Yn0pLGIuZGF0YSgibW9iaWxlLXBhZ2UiKS5fdHJpZ2dlcigic2hvdyIsbnVsbCx7cHJldlBhZ2U6Y3x8YSgiIil9KX0pLGd9ZnVuY3Rpb24gQyhiLGMpe2MmJmIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlIixjKSxiLnBhZ2UoKX1mdW5jdGlvbiBEKCl7dmFyIGI9YS5tb2JpbGUuYWN0aXZlUGFnZSYmRihhLm1vYmlsZS5hY3RpdmVQYWdlKTtyZXR1cm4gYnx8cy5ocmVmTm9IYXNofWZ1bmN0aW9uIEUoYSl7d2hpbGUoYSl7aWYodHlwZW9mIGEubm9kZU5hbWU9PSJzdHJpbmciJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0iYSIpYnJlYWs7YT1hLnBhcmVudE5vZGV9cmV0dXJuIGF9ZnVuY3Rpb24gRihiKXt2YXIgYz1hKGIpLmNsb3Nlc3QoIi51aS1wYWdlIikuanFtRGF0YSgidXJsIiksZD1zLmhyZWZOb0hhc2g7aWYoIWN8fCFoLmlzUGF0aChjKSljPWQ7cmV0dXJuIGgubWFrZVVybEFic29sdXRlKGMsZCl9dmFyIGU9YS5tb2JpbGUud2luZG93LGY9YSgiaHRtbCIpLGc9YSgiaGVhZCIpLGg9YS5leHRlbmQoYS5tb2JpbGUucGF0aCx7Z2V0RmlsZVBhdGg6ZnVuY3Rpb24oYil7dmFyIGM9IiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXk7cmV0dXJuIGImJmIuc3BsaXQoYylbMF0uc3BsaXQocClbMF19LGlzRmlyc3RQYWdlVXJsOmZ1bmN0aW9uKGIpe3ZhciBjPWgucGFyc2VVcmwoaC5tYWtlVXJsQWJzb2x1dGUoYix0aGlzLmRvY3VtZW50QmFzZSkpLGU9Yy5ocmVmTm9IYXNoPT09dGhpcy5kb2N1bWVudFVybC5ocmVmTm9IYXNofHx0aGlzLmRvY3VtZW50QmFzZURpZmZlcnMmJmMuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gsZj1hLm1vYmlsZS5maXJzdFBhZ2UsZz1mJiZmWzBdP2ZbMF0uaWQ6ZDtyZXR1cm4gZSYmKCFjLmhhc2h8fGMuaGFzaD09PSIjInx8ZyYmYy5oYXNoLnJlcGxhY2UoL14jLywiIik9PT1nKX0saXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3Q6ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzJiZiLnByb3RvY29sPT09ImZpbGU6IiYmYy5zZWFyY2goL15odHRwcz86LykhPT0tMX19KSxpPW51bGwsaj1udWxsLGs9YS5EZWZlcnJlZCgpLGw9YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeSxtPSJbdGFiaW5kZXhdLGEsYnV0dG9uOnZpc2libGUsc2VsZWN0OnZpc2libGUsaW5wdXQiLG49W10sbz0hMSxwPSImdWktc3RhdGU9ZGlhbG9nIixxPWcuY2hpbGRyZW4oImJhc2UiKSxyPWguZG9jdW1lbnRVcmwscz1oLmRvY3VtZW50QmFzZSx0PWguZG9jdW1lbnRCYXNlRGlmZmVycyx1PWEubW9iaWxlLmdldFNjcmVlbkhlaWdodCx2PWEuc3VwcG9ydC5keW5hbWljQmFzZVRhZz97ZWxlbWVudDpxLmxlbmd0aD9xOmEoIjxiYXNlPiIse2hyZWY6cy5ocmVmTm9IYXNofSkucHJlcGVuZFRvKGcpLHNldDpmdW5jdGlvbihhKXthPWgucGFyc2VVcmwoYSkuaHJlZk5vSGFzaCx2LmVsZW1lbnQuYXR0cigiaHJlZiIsaC5tYWtlVXJsQWJzb2x1dGUoYSxzKSl9LHJlc2V0OmZ1bmN0aW9uKCl7di5lbGVtZW50LmF0dHIoImhyZWYiLHMuaHJlZk5vU2VhcmNoKX19OmQ7YS5tb2JpbGUuZ2V0RG9jdW1lbnRVcmw9aC5nZXREb2N1bWVudFVybCxhLm1vYmlsZS5nZXREb2N1bWVudEJhc2U9aC5nZXREb2N1bWVudEJhc2UsYS5tb2JpbGUuYmFjaz1mdW5jdGlvbigpe3ZhciBhPWIubmF2aWdhdG9yO3RoaXMucGhvbmVnYXBOYXZpZ2F0aW9uRW5hYmxlZCYmYSYmYS5hcHAmJmEuYXBwLmJhY2tIaXN0b3J5P2EuYXBwLmJhY2tIaXN0b3J5KCk6Yi5oaXN0b3J5LmJhY2soKX0sYS5tb2JpbGUuZm9jdXNQYWdlPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZmluZCgiW2F1dG9mb2N1c10iKSxjPWEuZmluZCgiLnVpLXRpdGxlOmVxKDApIik7aWYoYi5sZW5ndGgpe2IuZm9jdXMoKTtyZXR1cm59Yy5sZW5ndGg/Yy5mb2N1cygpOmEuZm9jdXMoKX07dmFyIHk9ITAseixBO3o9ZnVuY3Rpb24oKXtpZigheSlyZXR1cm47dmFyIGI9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKTtpZihiKXt2YXIgYz1lLnNjcm9sbFRvcCgpO2IubGFzdFNjcm9sbD1jPGEubW9iaWxlLm1pblNjcm9sbEJhY2s/YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw6Y319LEE9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KHosMTAwKX0sZS5iaW5kKGEuc3VwcG9ydC5wdXNoU3RhdGU/InBvcHN0YXRlIjoiaGFzaGNoYW5nZSIsZnVuY3Rpb24oKXt5PSExfSksZS5vbmUoYS5zdXBwb3J0LnB1c2hTdGF0ZT8icG9wc3RhdGUiOiJoYXNoY2hhbmdlIixmdW5jdGlvbigpe3k9ITB9KSxlLm9uZSgicGFnZWNvbnRhaW5lcmNyZWF0ZSIsZnVuY3Rpb24oKXthLm1vYmlsZS5wYWdlQ29udGFpbmVyLmJpbmQoInBhZ2VjaGFuZ2UiLGZ1bmN0aW9uKCl7eT0hMCxlLnVuYmluZCgic2Nyb2xsc3RvcCIsQSksZS5iaW5kKCJzY3JvbGxzdG9wIixBKX0pfSksZS5iaW5kKCJzY3JvbGxzdG9wIixBKSxhLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbj1hLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbnx8ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodD1mdW5jdGlvbihiKXt2YXIgYz1hKCIuIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLGQ9cGFyc2VGbG9hdChjLmNzcygicGFkZGluZy10b3AiKSksZT1wYXJzZUZsb2F0KGMuY3NzKCJwYWRkaW5nLWJvdHRvbSIpKSxmPXBhcnNlRmxvYXQoYy5jc3MoImJvcmRlci10b3Atd2lkdGgiKSksZz1wYXJzZUZsb2F0KGMuY3NzKCJib3JkZXItYm90dG9tLXdpZHRoIikpO2I9dHlwZW9mIGI9PSJudW1iZXIiP2I6dSgpLGMuY3NzKCJtaW4taGVpZ2h0IixiLWQtZS1mLWcpfSxhLmZuLmFuaW1hdGlvbkNvbXBsZXRlPWZ1bmN0aW9uKGIpe3JldHVybiBhLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnM/YSh0aGlzKS5vbmUoIndlYmtpdEFuaW1hdGlvbkVuZCBhbmltYXRpb25lbmQiLGIpOihzZXRUaW1lb3V0KGIsMCksYSh0aGlzKSl9LGEubW9iaWxlLnBhdGg9aCxhLm1vYmlsZS5iYXNlPXYsYS5tb2JpbGUudXJsSGlzdG9yeT1sLGEubW9iaWxlLmRpYWxvZ0hhc2hLZXk9cCxhLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXM9ITEsYS5tb2JpbGUuX2JpbmRQYWdlUmVtb3ZlPWZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTshYi5kYXRhKCJtb2JpbGUtcGFnZSIpLm9wdGlvbnMuZG9tQ2FjaGUmJmIuaXMoIjpqcW1EYXRhKGV4dGVybmFsLXBhZ2U9J3RydWUnKSIpJiZiLmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIsZnVuY3Rpb24oYil7dmFyIGM9YSh0aGlzKSxkPW5ldyBhLkV2ZW50KCJwYWdlcmVtb3ZlIik7Yy50cmlnZ2VyKGQpLGQuaXNEZWZhdWx0UHJldmVudGVkKCl8fGMucmVtb3ZlV2l0aERlcGVuZGVudHMoKX0pfSxhLm1vYmlsZS5sb2FkUGFnZT1mdW5jdGlvbihiLGMpe3ZhciBlPWEuRGVmZXJyZWQoKSxmPWEuZXh0ZW5kKHt9LGEubW9iaWxlLmxvYWRQYWdlLmRlZmF1bHRzLGMpLGc9bnVsbCxpPW51bGwsaj1oLm1ha2VVcmxBYnNvbHV0ZShiLEQoKSk7Zi5kYXRhJiZmLnR5cGU9PT0iZ2V0IiYmKGo9aC5hZGRTZWFyY2hQYXJhbXMoaixmLmRhdGEpLGYuZGF0YT1kKSxmLmRhdGEmJmYudHlwZT09PSJwb3N0IiYmKGYucmVsb2FkUGFnZT0hMCk7dmFyIGs9aC5nZXRGaWxlUGF0aChqKSxsPWguY29udmVydFVybFRvRGF0YVVybChqKTtmLnBhZ2VDb250YWluZXI9Zi5wYWdlQ29udGFpbmVyfHxhLm1vYmlsZS5wYWdlQ29udGFpbmVyLGc9Zi5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCJbZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmw9JyIrbCsiJ10iKSxnLmxlbmd0aD09PTAmJmwmJiFoLmlzUGF0aChsKSYmKGc9Zi5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCIjIitsKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIsbCkuanFtRGF0YSgidXJsIixsKSk7aWYoZy5sZW5ndGg9PT0wKWlmKGEubW9iaWxlLmZpcnN0UGFnZSYmaC5pc0ZpcnN0UGFnZVVybChrKSlhLm1vYmlsZS5maXJzdFBhZ2UucGFyZW50KCkubGVuZ3RoJiYoZz1hKGEubW9iaWxlLmZpcnN0UGFnZSkpO2Vsc2UgaWYoaC5pc0VtYmVkZGVkUGFnZShrKSlyZXR1cm4gZS5yZWplY3QoaixjKSxlLnByb21pc2UoKTtpZihnLmxlbmd0aCl7aWYoIWYucmVsb2FkUGFnZSlyZXR1cm4gQyhnLGYucm9sZSksZS5yZXNvbHZlKGosYyxnKSxlLnByb21pc2UoKTtpPWd9dmFyIG09Zi5wYWdlQ29udGFpbmVyLG49bmV3IGEuRXZlbnQoInBhZ2ViZWZvcmVsb2FkIiksbz17dXJsOmIsYWJzVXJsOmosZGF0YVVybDpsLGRlZmVycmVkOmUsb3B0aW9uczpmfTttLnRyaWdnZXIobixvKTtpZihuLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybiBlLnByb21pc2UoKTtpZihmLnNob3dMb2FkTXNnKXZhciBwPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coKX0sZi5sb2FkTXNnRGVsYXkpLHE9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQocCksYS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnKCl9O3JldHVybiB2JiZ2LnJlc2V0KCksIWEubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmIWguaXNTYW1lRG9tYWluKHIsaik/ZS5yZWplY3QoaixjKTphLmFqYXgoe3VybDprLHR5cGU6Zi50eXBlLGRhdGE6Zi5kYXRhLGRhdGFUeXBlOiJodG1sIixzdWNjZXNzOmZ1bmN0aW9uKGQsbSxuKXt2YXIgcD1hKCI8ZGl2PjwvZGl2PiIpLHI9ZC5tYXRjaCgvPHRpdGxlW14+XSo+KFtePF0qKS8pJiZSZWdFeHAuJDEscz1uZXcgUmVnRXhwKCIoPFtePl0rXFxiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPVtcIiddP3BhZ2VbXCInXT9bXj5dKj4pIiksdD1uZXcgUmVnRXhwKCJcXGJkYXRhLSIrYS5tb2JpbGUubnMrInVybD1bXCInXT8oW15cIic+XSopW1wiJ10/Iik7cy50ZXN0KGQpJiZSZWdFeHAuJDEmJnQudGVzdChSZWdFeHAuJDEpJiZSZWdFeHAuJDEmJihiPWs9aC5nZXRGaWxlUGF0aChhKCI8ZGl2PiIrUmVnRXhwLiQxKyI8L2Rpdj4iKS50ZXh0KCkpKSx2JiZ2LnNldChrKSxwLmdldCgwKS5pbm5lckhUTUw9ZCxnPXAuZmluZCgiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpcnN0KCksZy5sZW5ndGh8fChnPWEoIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdwYWdlJz4iKyhkLnNwbGl0KC88XC8/Ym9keVtePl0qPi9nbWkpWzFdfHwiIikrIjwvZGl2PiIpKSxyJiYhZy5qcW1EYXRhKCJ0aXRsZSIpJiYofnIuaW5kZXhPZigiJiIpJiYocj1hKCI8ZGl2PiIrcisiPC9kaXY+IikudGV4dCgpKSxnLmpxbURhdGEoInRpdGxlIixyKSk7aWYoIWEuc3VwcG9ydC5keW5hbWljQmFzZVRhZyl7dmFyIHU9aC5nZXQoayk7Zy5maW5kKCJbc3JjXSwgbGlua1tocmVmXSwgYVtyZWw9J2V4dGVybmFsJ10sIDpqcW1EYXRhKGFqYXg9J2ZhbHNlJyksIGFbdGFyZ2V0XSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLmlzKCJbaHJlZl0iKT8iaHJlZiI6YSh0aGlzKS5pcygiW3NyY10iKT8ic3JjIjoiYWN0aW9uIixjPWEodGhpcykuYXR0cihiKTtjPWMucmVwbGFjZShsb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUsIiIpLC9eKFx3Kzp8I3xcLykvLnRlc3QoYyl8fGEodGhpcykuYXR0cihiLHUrYyl9KX1nLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidXJsIixoLmNvbnZlcnRVcmxUb0RhdGFVcmwoaykpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiZXh0ZXJuYWwtcGFnZSIsITApLmFwcGVuZFRvKGYucGFnZUNvbnRhaW5lciksZy5vbmUoInBhZ2VjcmVhdGUiLGEubW9iaWxlLl9iaW5kUGFnZVJlbW92ZSksQyhnLGYucm9sZSksai5pbmRleE9mKCImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KT4tMSYmKGc9Zi5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCJbZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmw9JyIrbCsiJ10iKSksZi5zaG93TG9hZE1zZyYmcSgpLG8ueGhyPW4sby50ZXh0U3RhdHVzPW0sby5wYWdlPWcsZi5wYWdlQ29udGFpbmVyLnRyaWdnZXIoInBhZ2Vsb2FkIixvKSxlLnJlc29sdmUoaixjLGcsaSl9LGVycm9yOmZ1bmN0aW9uKGIsZCxnKXt2JiZ2LnNldChoLmdldCgpKSxvLnhocj1iLG8udGV4dFN0YXR1cz1kLG8uZXJyb3JUaHJvd249Zzt2YXIgaT1uZXcgYS5FdmVudCgicGFnZWxvYWRmYWlsZWQiKTtmLnBhZ2VDb250YWluZXIudHJpZ2dlcihpLG8pO2lmKGkuaXNEZWZhdWx0UHJldmVudGVkKCkpcmV0dXJuO2Yuc2hvd0xvYWRNc2cmJihxKCksYS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKGEubW9iaWxlLnBhZ2VMb2FkRXJyb3JNZXNzYWdlVGhlbWUsYS5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2UsITApLHNldFRpbWVvdXQoYS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnLDE1MDApKSxlLnJlamVjdChqLGMpfX0pLGUucHJvbWlzZSgpfSxhLm1vYmlsZS5sb2FkUGFnZS5kZWZhdWx0cz17dHlwZToiZ2V0IixkYXRhOmQscmVsb2FkUGFnZTohMSxyb2xlOmQsc2hvd0xvYWRNc2c6ITEscGFnZUNvbnRhaW5lcjpkLGxvYWRNc2dEZWxheTo1MH0sYS5tb2JpbGUuY2hhbmdlUGFnZT1mdW5jdGlvbihiLGUpe2lmKG8pe24udW5zaGlmdChhcmd1bWVudHMpO3JldHVybn12YXIgZj1hLmV4dGVuZCh7fSxhLm1vYmlsZS5jaGFuZ2VQYWdlLmRlZmF1bHRzLGUpLGc7Zi5wYWdlQ29udGFpbmVyPWYucGFnZUNvbnRhaW5lcnx8YS5tb2JpbGUucGFnZUNvbnRhaW5lcixmLmZyb21QYWdlPWYuZnJvbVBhZ2V8fGEubW9iaWxlLmFjdGl2ZVBhZ2UsZz10eXBlb2YgYj09InN0cmluZyI7dmFyIGk9Zi5wYWdlQ29udGFpbmVyLGo9bmV3IGEuRXZlbnQoInBhZ2ViZWZvcmVjaGFuZ2UiKSxrPXt0b1BhZ2U6YixvcHRpb25zOmZ9O2c/ay5hYnNVcmw9aC5tYWtlVXJsQWJzb2x1dGUoYixEKCkpOmsuYWJzVXJsPWIuZGF0YSgiYWJzVXJsIiksaS50cmlnZ2VyKGosayk7aWYoai5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm47Yj1rLnRvUGFnZSxnPXR5cGVvZiBiPT0ic3RyaW5nIixvPSEwO2lmKGcpe2YudGFyZ2V0PWIsYS5tb2JpbGUubG9hZFBhZ2UoYixmKS5kb25lKGZ1bmN0aW9uKGIsYyxkLGUpe289ITEsYy5kdXBsaWNhdGVDYWNoZWRQYWdlPWUsZC5kYXRhKCJhYnNVcmwiLGsuYWJzVXJsKSxhLm1vYmlsZS5jaGFuZ2VQYWdlKGQsYyl9KS5mYWlsKGZ1bmN0aW9uKGEsYil7bz0hMSx3KCEwKSx4KCksZi5wYWdlQ29udGFpbmVyLnRyaWdnZXIoInBhZ2VjaGFuZ2VmYWlsZWQiLGspfSk7cmV0dXJufWJbMF09PT1hLm1vYmlsZS5maXJzdFBhZ2VbMF0mJiFmLmRhdGFVcmwmJihmLmRhdGFVcmw9ci5ocmVmTm9IYXNoKTt2YXIgbT1mLmZyb21QYWdlLHE9Zi5kYXRhVXJsJiZoLmNvbnZlcnRVcmxUb0RhdGFVcmwoZi5kYXRhVXJsKXx8Yi5qcW1EYXRhKCJ1cmwiKSxzPXEsdD1oLmdldEZpbGVQYXRoKHEpLHU9bC5nZXRBY3RpdmUoKSx2PWwuYWN0aXZlSW5kZXg9PT0wLHk9MCx6PWMudGl0bGUsQT1mLnJvbGU9PT0iZGlhbG9nInx8Yi5qcW1EYXRhKCJyb2xlIik9PT0iZGlhbG9nIjtpZihtJiZtWzBdPT09YlswXSYmIWYuYWxsb3dTYW1lUGFnZVRyYW5zaXRpb24pe289ITEsaS50cmlnZ2VyKCJwYWdlY2hhbmdlIixrKSxmLmZyb21IYXNoQ2hhbmdlJiZsLmRpcmVjdCh7dXJsOnF9KTtyZXR1cm59QyhiLGYucm9sZSksZi5mcm9tSGFzaENoYW5nZSYmKHk9ZS5kaXJlY3Rpb249PT0iYmFjayI/LTE6MSk7dHJ5e2MuYWN0aXZlRWxlbWVudCYmYy5hY3RpdmVFbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkhPT0iYm9keSI/YShjLmFjdGl2ZUVsZW1lbnQpLmJsdXIoKTphKCJpbnB1dDpmb2N1cywgdGV4dGFyZWE6Zm9jdXMsIHNlbGVjdDpmb2N1cyIpLmJsdXIoKX1jYXRjaChFKXt9dmFyIEY9ITE7QSYmdSYmKHUudXJsJiZ1LnVybC5pbmRleE9mKHApPi0xJiZhLm1vYmlsZS5hY3RpdmVQYWdlJiYhYS5tb2JpbGUuYWN0aXZlUGFnZS5pcygiLnVpLWRpYWxvZyIpJiZsLmFjdGl2ZUluZGV4PjAmJihmLmNoYW5nZUhhc2g9ITEsRj0hMCkscT11LnVybHx8IiIsIUYmJnEuaW5kZXhPZigiIyIpPi0xP3ErPXA6cSs9IiMiK3AsbC5hY3RpdmVJbmRleD09PTAmJnE9PT1sLmluaXRpYWxEc3QmJihxKz1wKSk7dmFyIEc9dT9iLmpxbURhdGEoInRpdGxlIil8fGIuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIikuZmluZCgiLnVpLXRpdGxlIikuZ2V0RW5jb2RlZFRleHQoKTp6OyEhRyYmej09PWMudGl0bGUmJih6PUcpLGIuanFtRGF0YSgidGl0bGUiKXx8Yi5qcW1EYXRhKCJ0aXRsZSIseiksZi50cmFuc2l0aW9uPWYudHJhbnNpdGlvbnx8KHkmJiF2P3UudHJhbnNpdGlvbjpkKXx8KEE/YS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246YS5tb2JpbGUuZGVmYXVsdFBhZ2VUcmFuc2l0aW9uKSwheSYmRiYmKGwuZ2V0QWN0aXZlKCkucGFnZVVybD1zKTtpZihxJiYhZi5mcm9tSGFzaENoYW5nZSl7dmFyIEg7IWguaXNQYXRoKHEpJiZxLmluZGV4T2YoIiMiKTwwJiYocT0iIyIrcSksSD17dHJhbnNpdGlvbjpmLnRyYW5zaXRpb24sdGl0bGU6eixwYWdlVXJsOnMscm9sZTpmLnJvbGV9LGYuY2hhbmdlSGFzaCE9PSExJiZhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZD9hLm1vYmlsZS5uYXZpZ2F0ZShxLEgsITApOmJbMF0hPT1hLm1vYmlsZS5maXJzdFBhZ2VbMF0mJmEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWRkKHEsSCl9Yy50aXRsZT16LGEubW9iaWxlLmFjdGl2ZVBhZ2U9YixmLnJldmVyc2U9Zi5yZXZlcnNlfHx5PDAsQihiLG0sZi50cmFuc2l0aW9uLGYucmV2ZXJzZSkuZG9uZShmdW5jdGlvbihjLGQsZSxnLGgpe3coKSxmLmR1cGxpY2F0ZUNhY2hlZFBhZ2UmJmYuZHVwbGljYXRlQ2FjaGVkUGFnZS5yZW1vdmUoKSxofHxhLm1vYmlsZS5mb2N1c1BhZ2UoYikseCgpLGkudHJpZ2dlcigicGFnZWNoYW5nZSIsayl9KX0sYS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cz17dHJhbnNpdGlvbjpkLHJldmVyc2U6ITEsY2hhbmdlSGFzaDohMCxmcm9tSGFzaENoYW5nZTohMSxyb2xlOmQsZHVwbGljYXRlQ2FjaGVkUGFnZTpkLHBhZ2VDb250YWluZXI6ZCxzaG93TG9hZE1zZzohMCxkYXRhVXJsOmQsZnJvbVBhZ2U6ZCxhbGxvd1NhbWVQYWdlVHJhbnNpdGlvbjohMX0sYS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZD1hLkRlZmVycmVkKCksYS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHM9ZnVuY3Rpb24oKXt2YXIgYz1mdW5jdGlvbihiLGMpe3ZhciBkLGUsZixnPSEwLGosaztyZXR1cm4hYS5tb2JpbGUuYWpheEVuYWJsZWR8fGIuaXMoIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiKXx8IWIuanFtSGlqYWNrYWJsZSgpLmxlbmd0aD8hMTooZT1iLmF0dHIoInRhcmdldCIpLGY9Yi5hdHRyKCJhY3Rpb24iKSxmfHwoZj1GKGIpLGY9PT1zLmhyZWZOb0hhc2gmJihmPXIuaHJlZk5vU2VhcmNoKSksZj1oLm1ha2VVcmxBYnNvbHV0ZShmLEYoYikpLGguaXNFeHRlcm5hbChmKSYmIWguaXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3QocixmKXx8ZT8hMTooY3x8KGQ9Yi5hdHRyKCJtZXRob2QiKSxqPWIuc2VyaWFsaXplQXJyYXkoKSxpJiZpWzBdLmZvcm09PT1iWzBdJiYoaz1pLmF0dHIoIm5hbWUiKSxrJiYoYS5lYWNoKGosZnVuY3Rpb24oYSxiKXtpZihiLm5hbWU9PT1rKXJldHVybiBrPSIiLCExfSksayYmai5wdXNoKHtuYW1lOmssdmFsdWU6aS5hdHRyKCJ2YWx1ZSIpfSkpKSxnPXt1cmw6ZixvcHRpb25zOnt0eXBlOmQmJmQubGVuZ3RoJiZkLnRvTG93ZXJDYXNlKCl8fCJnZXQiLGRhdGE6YS5wYXJhbShqKSx0cmFuc2l0aW9uOmIuanFtRGF0YSgidHJhbnNpdGlvbiIpLHJldmVyc2U6Yi5qcW1EYXRhKCJkaXJlY3Rpb24iKT09PSJyZXZlcnNlIixyZWxvYWRQYWdlOiEwfX0pLGcpKX07YS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoImZvcm0iLCJzdWJtaXQiLGZ1bmN0aW9uKGIpe3ZhciBkPWMoYSh0aGlzKSk7ZCYmKGEubW9iaWxlLmNoYW5nZVBhZ2UoZC51cmwsZC5vcHRpb25zKSxiLnByZXZlbnREZWZhdWx0KCkpfSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgidmNsaWNrIixmdW5jdGlvbihiKXt2YXIgZCxlLGY9Yi50YXJnZXQsZz0hMTtpZihiLndoaWNoPjF8fCFhLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQpcmV0dXJuO2k9YShmKTtpZihhLmRhdGEoZiwibW9iaWxlLWJ1dHRvbiIpKXtpZighYyhhKGYpLmNsb3Nlc3QoImZvcm0iKSwhMCkpcmV0dXJuO2YucGFyZW50Tm9kZSYmKGY9Zi5wYXJlbnROb2RlKX1lbHNle2Y9RShmKTtpZighZnx8aC5wYXJzZVVybChmLmdldEF0dHJpYnV0ZSgiaHJlZiIpfHwiIyIpLmhhc2g9PT0iIyIpcmV0dXJuO2lmKCFhKGYpLmpxbUhpamFja2FibGUoKS5sZW5ndGgpcmV0dXJufX5mLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1saW5rLWluaGVyaXQiKT9mLnBhcmVudE5vZGUmJihlPWEuZGF0YShmLnBhcmVudE5vZGUsImJ1dHRvbkVsZW1lbnRzIikpOmU9YS5kYXRhKGYsImJ1dHRvbkVsZW1lbnRzIiksZT9mPWUub3V0ZXI6Zz0hMCxkPWEoZiksZyYmKGQ9ZC5jbG9zZXN0KCIudWktYnRuIikpLGQubGVuZ3RoPjAmJiFkLmhhc0NsYXNzKCJ1aS1kaXNhYmxlZCIpJiYodyghMCksaj1kLGouYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpKX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoImNsaWNrIixmdW5jdGlvbihjKXtpZighYS5tb2JpbGUubGlua0JpbmRpbmdFbmFibGVkfHxjLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybjt2YXIgZT1FKGMudGFyZ2V0KSxmPWEoZSksZztpZighZXx8Yy53aGljaD4xfHwhZi5qcW1IaWphY2thYmxlKCkubGVuZ3RoKXJldHVybjtnPWZ1bmN0aW9uKCl7Yi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dyghMCl9LDIwMCl9O2lmKGYuaXMoIjpqcW1EYXRhKHJlbD0nYmFjaycpIikpcmV0dXJuIGEubW9iaWxlLmJhY2soKSwhMTt2YXIgaT1GKGYpLGo9aC5tYWtlVXJsQWJzb2x1dGUoZi5hdHRyKCJocmVmIil8fCIjIixpKTtpZighYS5tb2JpbGUuYWpheEVuYWJsZWQmJiFoLmlzRW1iZWRkZWRQYWdlKGopKXtnKCk7cmV0dXJufWlmKGouc2VhcmNoKCIjIikhPT0tMSl7aj1qLnJlcGxhY2UoL1teI10qIy8sIiIpO2lmKCFqKXtjLnByZXZlbnREZWZhdWx0KCk7cmV0dXJufWguaXNQYXRoKGopP2o9aC5tYWtlVXJsQWJzb2x1dGUoaixpKTpqPWgubWFrZVVybEFic29sdXRlKCIjIitqLHIuaHJlZk5vSGFzaCl9dmFyIGs9Zi5pcygiW3JlbD0nZXh0ZXJuYWwnXSIpfHxmLmlzKCI6anFtRGF0YShhamF4PSdmYWxzZScpIil8fGYuaXMoIlt0YXJnZXRdIiksbD1rfHxoLmlzRXh0ZXJuYWwoaikmJiFoLmlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0KHIsaik7aWYobCl7ZygpO3JldHVybn12YXIgbT1mLmpxbURhdGEoInRyYW5zaXRpb24iKSxuPWYuanFtRGF0YSgiZGlyZWN0aW9uIik9PT0icmV2ZXJzZSJ8fGYuanFtRGF0YSgiYmFjayIpLG89Zi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInJlbCIpfHxkO2EubW9iaWxlLmNoYW5nZVBhZ2Uoaix7dHJhbnNpdGlvbjptLHJldmVyc2U6bixyb2xlOm8sbGluazpmfSksYy5wcmV2ZW50RGVmYXVsdCgpfSksYS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoIi51aS1wYWdlIiwicGFnZXNob3cucHJlZmV0Y2giLGZ1bmN0aW9uKCl7dmFyIGI9W107YSh0aGlzKS5maW5kKCJhOmpxbURhdGEocHJlZmV0Y2gpIikuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksZD1jLmF0dHIoImhyZWYiKTtkJiZhLmluQXJyYXkoZCxiKT09PS0xJiYoYi5wdXNoKGQpLGEubW9iaWxlLmxvYWRQYWdlKGQse3JvbGU6Yy5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInJlbCIpfSkpfSl9KSxhLm1vYmlsZS5faGFuZGxlSGFzaENoYW5nZT1mdW5jdGlvbihjLGUpe3ZhciBmPWguc3RyaXBIYXNoKGMpLGc9YS5tb2JpbGUudXJsSGlzdG9yeS5zdGFjay5sZW5ndGg9PT0wPyJub25lIjpkLGk9e2NoYW5nZUhhc2g6ITEsZnJvbUhhc2hDaGFuZ2U6ITAscmV2ZXJzZTplLmRpcmVjdGlvbj09PSJiYWNrIn07YS5leHRlbmQoaSxlLHt0cmFuc2l0aW9uOihsLmdldExhc3QoKXx8e30pLnRyYW5zaXRpb258fGd9KTtpZihsLmFjdGl2ZUluZGV4PjAmJmYuaW5kZXhPZihwKT4tMSYmbC5pbml0aWFsRHN0IT09Zil7aWYoYS5tb2JpbGUuYWN0aXZlUGFnZSYmIWEubW9iaWxlLmFjdGl2ZVBhZ2UuaXMoIi51aS1kaWFsb2ciKSl7ZS5kaXJlY3Rpb249PT0iYmFjayI/YS5tb2JpbGUuYmFjaygpOmIuaGlzdG9yeS5mb3J3YXJkKCk7cmV0dXJufWY9ZS5wYWdlVXJsO3ZhciBqPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCk7YS5leHRlbmQoaSx7cm9sZTpqLnJvbGUsdHJhbnNpdGlvbjpqLnRyYW5zaXRpb24scmV2ZXJzZTplLmRpcmVjdGlvbj09PSJiYWNrIn0pfWY/KGY9aC5pc1BhdGgoZik/ZjpoLm1ha2VVcmxBYnNvbHV0ZSgiIyIrZixzKSxmPT09aC5tYWtlVXJsQWJzb2x1dGUoIiMiK2wuaW5pdGlhbERzdCxzKSYmbC5zdGFjay5sZW5ndGgmJmwuc3RhY2tbMF0udXJsIT09bC5pbml0aWFsRHN0LnJlcGxhY2UocCwiIikmJihmPWEubW9iaWxlLmZpcnN0UGFnZSksYS5tb2JpbGUuY2hhbmdlUGFnZShmLGkpKTphLm1vYmlsZS5jaGFuZ2VQYWdlKGEubW9iaWxlLmZpcnN0UGFnZSxpKX0sZS5iaW5kKCJuYXZpZ2F0ZSIsZnVuY3Rpb24oYixjKXt2YXIgZD1hLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUub3JpZ2luYWxFdmVudE5hbWUuaW5kZXhPZigiaGFzaGNoYW5nZSIpPi0xP2Muc3RhdGUuaGFzaDpjLnN0YXRlLnVybDtkfHwoZD1hLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKS5oYXNoKTtpZighZHx8ZD09PSIjInx8ZC5pbmRleE9mKCIjIithLm1vYmlsZS5wYXRoLnVpU3RhdGVLZXkpPT09MClkPWxvY2F0aW9uLmhyZWY7YS5tb2JpbGUuX2hhbmRsZUhhc2hDaGFuZ2UoZCxjLnN0YXRlKX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VzaG93IixhLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQpLGEubW9iaWxlLndpbmRvdy5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCl9LGEoZnVuY3Rpb24oKXtrLnJlc29sdmUoKX0pLGEud2hlbihrLGEubW9iaWxlLm5hdnJlYWR5RGVmZXJyZWQpLmRvbmUoZnVuY3Rpb24oKXthLm1vYmlsZS5fcmVnaXN0ZXJJbnRlcm5hbEV2ZW50cygpfSl9KGEpLGZ1bmN0aW9uKGEsYixjKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLmZsaXA9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLmZsb3c9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnBvcD0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSxiLGMpe2EubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycy5zbGlkZT1hLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2ltdWx0YW5lb3VzLGEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGU9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlZG93bj0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSxiLGMpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGVmYWRlPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhLGIsYyl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZXVwPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhLGIsYyl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy50dXJuPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuZGVncmFkZUlucHV0cz17Y29sb3I6ITEsZGF0ZTohMSxkYXRldGltZTohMSwiZGF0ZXRpbWUtbG9jYWwiOiExLGVtYWlsOiExLG1vbnRoOiExLG51bWJlcjohMSxyYW5nZToibnVtYmVyIixzZWFyY2g6InRleHQiLHRlbDohMSx0aW1lOiExLHVybDohMSx3ZWVrOiExfSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7dmFyIGM9YS5tb2JpbGUuY2xvc2VzdFBhZ2VEYXRhKGEoYi50YXJnZXQpKSxkO2lmKCFjKXJldHVybjtkPWMub3B0aW9ucyxhKGIudGFyZ2V0KS5maW5kKCJpbnB1dCIpLm5vdChjLmtlZXBOYXRpdmVTZWxlY3RvcigpKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxjPXRoaXMuZ2V0QXR0cmlidXRlKCJ0eXBlIiksZT1kLmRlZ3JhZGVJbnB1dHNbY118fCJ0ZXh0IjtpZihkLmRlZ3JhZGVJbnB1dHNbY10pe3ZhciBmPWEoIjxkaXY+IikuaHRtbChiLmNsb25lKCkpLmh0bWwoKSxnPWYuaW5kZXhPZigiIHR5cGU9Iik+LTEsaD1nPy9ccyt0eXBlPVsiJ10/XHcrWyciXT8vOi9cLz8+LyxpPScgdHlwZT0iJytlKyciIGRhdGEtJythLm1vYmlsZS5ucysndHlwZT0iJytjKyciJysoZz8iIjoiPiIpO2IucmVwbGFjZVdpdGgoZi5yZXBsYWNlKGgsaSkpfX0pfSl9KGEpLGZ1bmN0aW9uKGEsYixjKXthLndpZGdldCgibW9iaWxlLmRpYWxvZyIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntjbG9zZUJ0bjoibGVmdCIsY2xvc2VCdG5UZXh0OiJDbG9zZSIsb3ZlcmxheVRoZW1lOiJhIixjb3JuZXJzOiEwLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nZGlhbG9nJykifSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt0aGlzLl9pc0Nsb3NlYWJsZT0hMCx0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lJiZ0aGlzLmVsZW1lbnQucGFnZSgicmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZCIpLnBhZ2UoInNldENvbnRhaW5lckJhY2tncm91bmQiLHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPXRoaXMuZWxlbWVudCxkPXRoaXMub3B0aW9ucy5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIsZT1hKCI8ZGl2Lz4iLHtyb2xlOiJkaWFsb2ciLCJjbGFzcyI6InVpLWRpYWxvZy1jb250YWluIHVpLW92ZXJsYXktc2hhZG93IitkfSk7Yy5hZGRDbGFzcygidWktZGlhbG9nIHVpLW92ZXJsYXktIit0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lKSxjLndyYXBJbm5lcihlKSxjLmJpbmQoInZjbGljayBzdWJtaXQiLGZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLmNsb3Nlc3QoYi50eXBlPT09InZjbGljayI/ImEiOiJmb3JtIiksZDtjLmxlbmd0aCYmIWMuanFtRGF0YSgidHJhbnNpdGlvbiIpJiYoZD1hLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpfHx7fSxjLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidHJhbnNpdGlvbiIsZC50cmFuc2l0aW9ufHxhLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJkaXJlY3Rpb24iLCJyZXZlcnNlIikpfSksdGhpcy5fb24oYyx7cGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyJ9KSxhLmV4dGVuZCh0aGlzLHtfY3JlYXRlQ29tcGxldGU6ITF9KSx0aGlzLl9zZXRDbG9zZUJ0bih0aGlzLm9wdGlvbnMuY2xvc2VCdG4pfSxfc2V0Q2xvc2VCdG46ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxkLGU7dGhpcy5faGVhZGVyQ2xvc2VCdXR0b24mJih0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbi5yZW1vdmUoKSx0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbj1udWxsKSxiIT09Im5vbmUiJiYoZT1iPT09ImxlZnQiPyJsZWZ0IjoicmlnaHQiLGQ9YSgiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWJ0bi0iK2UrIicgZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uPSdkZWxldGUnIGRhdGEtIithLm1vYmlsZS5ucysiaWNvbnBvcz0nbm90ZXh0Jz4iK3RoaXMub3B0aW9ucy5jbG9zZUJ0blRleHQrIjwvYT4iKSx0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKS5maW5kKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLmZpcnN0KCkucHJlcGVuZChkKSx0aGlzLl9jcmVhdGVDb21wbGV0ZSYmYS5mbi5idXR0b25NYXJrdXAmJmQuYnV0dG9uTWFya3VwKCksdGhpcy5fY3JlYXRlQ29tcGxldGU9ITAsZC5iaW5kKCJjbGljayIsZnVuY3Rpb24oKXtjLmNsb3NlKCl9KSx0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbj1kKX0sX3NldE9wdGlvbjpmdW5jdGlvbihiLGMpe2I9PT0iY2xvc2VCdG4iJiYodGhpcy5fc2V0Q2xvc2VCdG4oYyksdGhpcy5fc3VwZXIoYixjKSx0aGlzLmVsZW1lbnQuYXR0cigiZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpKyJjbG9zZS1idG4iLGMpKX0sY2xvc2U6ZnVuY3Rpb24oKXt2YXIgYixjLGQ9YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeTt0aGlzLl9pc0Nsb3NlYWJsZSYmKHRoaXMuX2lzQ2xvc2VhYmxlPSExLGEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkJiZkLmFjdGl2ZUluZGV4PjA/YS5tb2JpbGUuYmFjaygpOihiPU1hdGgubWF4KDAsZC5hY3RpdmVJbmRleC0xKSxjPWQuc3RhY2tbYl0ucGFnZVVybHx8ZC5zdGFja1tiXS51cmwsZC5wcmV2aW91c0luZGV4PWQuYWN0aXZlSW5kZXgsZC5hY3RpdmVJbmRleD1iLGEubW9iaWxlLnBhdGguaXNQYXRoKGMpfHwoYz1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZSgiIyIrYykpLGEubW9iaWxlLmNoYW5nZVBhZ2UoYyx7ZGlyZWN0aW9uOiJiYWNrIixjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwfSkpKX19KSxhLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZShhLm1vYmlsZS5kaWFsb2cucHJvdG90eXBlLm9wdGlvbnMuaW5pdFNlbGVjdG9yLCJwYWdlY3JlYXRlIixmdW5jdGlvbigpe2EubW9iaWxlLmRpYWxvZy5wcm90b3R5cGUuZW5oYW5jZSh0aGlzKX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYil7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5iYWNrQnRuVGV4dD0iQmFjayIsYS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5hZGRCYWNrQnRuPSExLGEubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuYmFja0J0blRoZW1lPW51bGwsYS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5oZWFkZXJUaGVtZT0iYSIsYS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5mb290ZXJUaGVtZT0iYSIsYS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5jb250ZW50VGhlbWU9bnVsbCxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIixmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KSxkPWMuZGF0YSgibW9iaWxlLXBhZ2UiKS5vcHRpb25zLGU9Yy5qcW1EYXRhKCJyb2xlIiksZj1kLnRoZW1lO2EoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpLCA6anFtRGF0YShyb2xlPSdmb290ZXInKSwgOmpxbURhdGEocm9sZT0nY29udGVudCcpIixjKS5qcW1FbmhhbmNlYWJsZSgpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGc9Yi5qcW1EYXRhKCJyb2xlIiksaD1iLmpxbURhdGEoInRoZW1lIiksaT1ofHxkLmNvbnRlbnRUaGVtZXx8ZT09PSJkaWFsb2ciJiZmLGosayxsLG07Yi5hZGRDbGFzcygidWktIitnKTtpZihnPT09ImhlYWRlciJ8fGc9PT0iZm9vdGVyIil7dmFyIG49aHx8KGc9PT0iaGVhZGVyIj9kLmhlYWRlclRoZW1lOmQuZm9vdGVyVGhlbWUpfHxmO2IuYWRkQ2xhc3MoInVpLWJhci0iK24pLmF0dHIoInJvbGUiLGc9PT0iaGVhZGVyIj8iYmFubmVyIjoiY29udGVudGluZm8iKSxnPT09ImhlYWRlciImJihqPWIuY2hpbGRyZW4oImEsIGJ1dHRvbiIpLGs9ai5oYXNDbGFzcygidWktYnRuLWxlZnQiKSxsPWouaGFzQ2xhc3MoInVpLWJ0bi1yaWdodCIpLGs9a3x8ai5lcSgwKS5ub3QoIi51aS1idG4tcmlnaHQiKS5hZGRDbGFzcygidWktYnRuLWxlZnQiKS5sZW5ndGgsbD1sfHxqLmVxKDEpLmFkZENsYXNzKCJ1aS1idG4tcmlnaHQiKS5sZW5ndGgpLGQuYWRkQmFja0J0biYmZz09PSJoZWFkZXIiJiZhKCIudWktcGFnZSIpLmxlbmd0aD4xJiZjLmpxbURhdGEoInVybCIpIT09YS5tb2JpbGUucGF0aC5zdHJpcEhhc2gobG9jYXRpb24uaGFzaCkmJiFrJiYobT1hKCI8YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCk7JyBjbGFzcz0ndWktYnRuLWxlZnQnIGRhdGEtIithLm1vYmlsZS5ucysicmVsPSdiYWNrJyBkYXRhLSIrYS5tb2JpbGUubnMrImljb249J2Fycm93LWwnPiIrZC5iYWNrQnRuVGV4dCsiPC9hPiIpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiLGQuYmFja0J0blRoZW1lfHxuKS5wcmVwZW5kVG8oYikpLGIuY2hpbGRyZW4oImgxLCBoMiwgaDMsIGg0LCBoNSwgaDYiKS5hZGRDbGFzcygidWktdGl0bGUiKS5hdHRyKHtyb2xlOiJoZWFkaW5nIiwiYXJpYS1sZXZlbCI6IjEifSl9ZWxzZSBnPT09ImNvbnRlbnQiJiYoaSYmYi5hZGRDbGFzcygidWktYm9keS0iK2kpLGIuYXR0cigicm9sZSIsIm1haW4iKSl9KX0pfShhKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLmJlaGF2aW9ycy5hZGRGaXJzdExhc3RDbGFzc2VzPXtfZ2V0VmlzaWJsZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYztyZXR1cm4gYj9jPWEubm90KCIudWktc2NyZWVuLWhpZGRlbiIpOihjPWEuZmlsdGVyKCI6dmlzaWJsZSIpLGMubGVuZ3RoPT09MCYmKGM9YS5ub3QoIi51aS1zY3JlZW4taGlkZGVuIikpKSxjfSxfYWRkRmlyc3RMYXN0Q2xhc3NlczpmdW5jdGlvbihhLGIsYyl7YS5yZW1vdmVDbGFzcygidWktZmlyc3QtY2hpbGQgdWktbGFzdC1jaGlsZCIpLGIuZXEoMCkuYWRkQ2xhc3MoInVpLWZpcnN0LWNoaWxkIikuZW5kKCkubGFzdCgpLmFkZENsYXNzKCJ1aS1sYXN0LWNoaWxkIiksY3x8dGhpcy5lbGVtZW50LnRyaWdnZXIoInVwZGF0ZWxheW91dCIpfX19KGEpLGZ1bmN0aW9uKGEsYil7YS5mbi5maWVsZGNvbnRhaW49ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkQ2xhc3MoInVpLWZpZWxkLWNvbnRhaW4gdWktYm9keSB1aS1iciIpLmNvbnRlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZVR5cGU9PT0zJiYhL1xTLy50ZXN0KHRoaXMubm9kZVZhbHVlKX0pLnJlbW92ZSgpfSxhKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKCI6anFtRGF0YShyb2xlPSdmaWVsZGNvbnRhaW4nKSIsYi50YXJnZXQpLmpxbUVuaGFuY2VhYmxlKCkuZmllbGRjb250YWluKCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLmZuLmdyaWQ9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksZD1hLmV4dGVuZCh7Z3JpZDpudWxsfSxiKSxlPWMuY2hpbGRyZW4oKSxmPXtzb2xvOjEsYToyLGI6MyxjOjQsZDo1fSxnPWQuZ3JpZCxoO2lmKCFnKWlmKGUubGVuZ3RoPD01KWZvcih2YXIgaSBpbiBmKWZbaV09PT1lLmxlbmd0aCYmKGc9aSk7ZWxzZSBnPSJhIixjLmFkZENsYXNzKCJ1aS1ncmlkLWR1byIpO2g9ZltnXSxjLmFkZENsYXNzKCJ1aS1ncmlkLSIrZyksZS5maWx0ZXIoIjpudGgtY2hpbGQoIitoKyJuKzEpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWEiKSxoPjEmJmUuZmlsdGVyKCI6bnRoLWNoaWxkKCIraCsibisyKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1iIiksaD4yJiZlLmZpbHRlcigiOm50aC1jaGlsZCgiK2grIm4rMykiKS5hZGRDbGFzcygidWktYmxvY2stYyIpLGg+MyYmZS5maWx0ZXIoIjpudGgtY2hpbGQoIitoKyJuKzQpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWQiKSxoPjQmJmUuZmlsdGVyKCI6bnRoLWNoaWxkKCIraCsibis1KSIpLmFkZENsYXNzKCJ1aS1ibG9jay1lIil9KX19KGEpLGZ1bmN0aW9uKGEsYil7YShjKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YSgiOmpxbURhdGEocm9sZT0nbm9qcycpIixiLnRhcmdldCkuYWRkQ2xhc3MoInVpLW5vanMiKX0pfShhKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQ9e19oYW5kbGVGb3JtUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLmVsZW1lbnQuY2xvc2VzdCgiZm9ybSIpLHtyZXNldDpmdW5jdGlvbigpe3RoaXMuX2RlbGF5KCJfcmVzZXQiKX19KX19fShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGUoYSl7dmFyIGI7d2hpbGUoYSl7Yj10eXBlb2YgYS5jbGFzc05hbWU9PSJzdHJpbmciJiZhLmNsYXNzTmFtZSsiICI7aWYoYiYmYi5pbmRleE9mKCJ1aS1idG4gIik+LTEmJmIuaW5kZXhPZigidWktZGlzYWJsZWQgIik8MClicmVhazthPWEucGFyZW50Tm9kZX1yZXR1cm4gYX1mdW5jdGlvbiBmKGQsZSxmLGcsaCl7dmFyIGk9YS5kYXRhKGRbMF0sImJ1dHRvbkVsZW1lbnRzIik7ZC5yZW1vdmVDbGFzcyhlKS5hZGRDbGFzcyhmKSxpJiYoaS5iY2xzPWEoYy5jcmVhdGVFbGVtZW50KCJkaXYiKSkuYWRkQ2xhc3MoaS5iY2xzKyIgIitmKS5yZW1vdmVDbGFzcyhlKS5hdHRyKCJjbGFzcyIpLGchPT1iJiYoaS5ob3Zlcj1nKSxpLnN0YXRlPWgpfXZhciBkPWZ1bmN0aW9uKGEsYyl7dmFyIGQ9YS5nZXRBdHRyaWJ1dGUoYyk7cmV0dXJuIGQ9PT0idHJ1ZSI/ITA6ZD09PSJmYWxzZSI/ITE6ZD09PW51bGw/YjpkfTthLmZuLmJ1dHRvbk1hcmt1cD1mdW5jdGlvbihlKXt2YXIgZj10aGlzLGg9ImRhdGEtIithLm1vYmlsZS5ucyxpO2U9ZSYmYS50eXBlKGUpPT09Im9iamVjdCI/ZTp7fTtmb3IodmFyIGo9MDtqPGYubGVuZ3RoO2orKyl7dmFyIGs9Zi5lcShqKSxsPWtbMF0sbT1hLmV4dGVuZCh7fSxhLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cyx7aWNvbjplLmljb24hPT1iP2UuaWNvbjpkKGwsaCsiaWNvbiIpLGljb25wb3M6ZS5pY29ucG9zIT09Yj9lLmljb25wb3M6ZChsLGgrImljb25wb3MiKSx0aGVtZTplLnRoZW1lIT09Yj9lLnRoZW1lOmQobCxoKyJ0aGVtZSIpfHxhLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShrLCJjIiksaW5saW5lOmUuaW5saW5lIT09Yj9lLmlubGluZTpkKGwsaCsiaW5saW5lIiksc2hhZG93OmUuc2hhZG93IT09Yj9lLnNoYWRvdzpkKGwsaCsic2hhZG93IiksY29ybmVyczplLmNvcm5lcnMhPT1iP2UuY29ybmVyczpkKGwsaCsiY29ybmVycyIpLGljb25zaGFkb3c6ZS5pY29uc2hhZG93IT09Yj9lLmljb25zaGFkb3c6ZChsLGgrImljb25zaGFkb3ciKSxtaW5pOmUubWluaSE9PWI/ZS5taW5pOmQobCxoKyJtaW5pIil9LGUpLG49InVpLWJ0bi1pbm5lciIsbz0idWktYnRuLXRleHQiLHAscSxyPSExLHM9InVwIix0LHUsdix3O2ZvcihpIGluIG0pbC5zZXRBdHRyaWJ1dGUoaCtpLG1baV0pO2QobCxoKyJyZWwiKT09PSJwb3B1cCImJmsuYXR0cigiaHJlZiIpJiYobC5zZXRBdHRyaWJ1dGUoImFyaWEtaGFzcG9wdXAiLCEwKSxsLnNldEF0dHJpYnV0ZSgiYXJpYS1vd25zIixrLmF0dHIoImhyZWYiKSkpLHc9YS5kYXRhKGwudGFnTmFtZT09PSJJTlBVVCJ8fGwudGFnTmFtZT09PSJCVVRUT04iP2wucGFyZW50Tm9kZTpsLCJidXR0b25FbGVtZW50cyIpLHc/KGw9dy5vdXRlcixrPWEobCksdD13LmlubmVyLHU9dy50ZXh0LGEody5pY29uKS5yZW1vdmUoKSx3Lmljb249bnVsbCxyPXcuaG92ZXIscz13LnN0YXRlKToodD1jLmNyZWF0ZUVsZW1lbnQobS53cmFwcGVyRWxzKSx1PWMuY3JlYXRlRWxlbWVudChtLndyYXBwZXJFbHMpKSx2PW0uaWNvbj9jLmNyZWF0ZUVsZW1lbnQoInNwYW4iKTpudWxsLGcmJiF3JiZnKCksbS50aGVtZXx8KG0udGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoaywiYyIpKSxwPSJ1aS1idG4gIixwKz1yPyJ1aS1idG4taG92ZXItIittLnRoZW1lOiIiLHArPXM/IiB1aS1idG4tIitzKyItIittLnRoZW1lOiIiLHArPW0uc2hhZG93PyIgdWktc2hhZG93IjoiIixwKz1tLmNvcm5lcnM/IiB1aS1idG4tY29ybmVyLWFsbCI6IiIsbS5taW5pIT09YiYmKHArPW0ubWluaT09PSEwPyIgdWktbWluaSI6IiB1aS1mdWxsc2l6ZSIpLG0uaW5saW5lIT09YiYmKHArPW0uaW5saW5lPT09ITA/IiB1aS1idG4taW5saW5lIjoiIHVpLWJ0bi1ibG9jayIpLG0uaWNvbiYmKG0uaWNvbj0idWktaWNvbi0iK20uaWNvbixtLmljb25wb3M9bS5pY29ucG9zfHwibGVmdCIscT0idWktaWNvbiAiK20uaWNvbixtLmljb25zaGFkb3cmJihxKz0iIHVpLWljb24tc2hhZG93IikpLG0uaWNvbnBvcyYmKHArPSIgdWktYnRuLWljb24tIittLmljb25wb3MsbS5pY29ucG9zPT09Im5vdGV4dCImJiFrLmF0dHIoInRpdGxlIikmJmsuYXR0cigidGl0bGUiLGsuZ2V0RW5jb2RlZFRleHQoKSkpLG0uaWNvbnBvcyYmbS5pY29ucG9zPT09Im5vdGV4dCImJiFrLmF0dHIoInRpdGxlIikmJmsuYXR0cigidGl0bGUiLGsuZ2V0RW5jb2RlZFRleHQoKSksdyYmay5yZW1vdmVDbGFzcyh3LmJjbHN8fCIiKSxrLnJlbW92ZUNsYXNzKCJ1aS1saW5rIikuYWRkQ2xhc3MocCksdC5jbGFzc05hbWU9bix1LmNsYXNzTmFtZT1vLHd8fHQuYXBwZW5kQ2hpbGQodSk7aWYodil7di5jbGFzc05hbWU9cTtpZighd3x8IXcuaWNvbil2LmlubmVySFRNTD0iJiMxNjA7Iix0LmFwcGVuZENoaWxkKHYpfXdoaWxlKGwuZmlyc3RDaGlsZCYmIXcpdS5hcHBlbmRDaGlsZChsLmZpcnN0Q2hpbGQpO3d8fGwuYXBwZW5kQ2hpbGQodCksdz17aG92ZXI6cixzdGF0ZTpzLGJjbHM6cCxvdXRlcjpsLGlubmVyOnQsdGV4dDp1LGljb246dn0sYS5kYXRhKGwsImJ1dHRvbkVsZW1lbnRzIix3KSxhLmRhdGEodCwiYnV0dG9uRWxlbWVudHMiLHcpLGEuZGF0YSh1LCJidXR0b25FbGVtZW50cyIsdyksdiYmYS5kYXRhKHYsImJ1dHRvbkVsZW1lbnRzIix3KX1yZXR1cm4gdGhpc30sYS5mbi5idXR0b25NYXJrdXAuZGVmYXVsdHM9e2Nvcm5lcnM6ITAsc2hhZG93OiEwLGljb25zaGFkb3c6ITAsd3JhcHBlckVsczoic3BhbiJ9O3ZhciBnPWZ1bmN0aW9uKCl7dmFyIGM9YS5tb2JpbGUuYnV0dG9uTWFya3VwLmhvdmVyRGVsYXksZCxoO2EubW9iaWxlLmRvY3VtZW50LmJpbmQoeyJ2bW91c2Vkb3duIHZtb3VzZWNhbmNlbCB2bW91c2V1cCB2bW91c2VvdmVyIHZtb3VzZW91dCBmb2N1cyBibHVyIHNjcm9sbHN0YXJ0IjpmdW5jdGlvbihnKXt2YXIgaSxqPWEoZShnLnRhcmdldCkpLGs9Zy5vcmlnaW5hbEV2ZW50JiYvXnRvdWNoLy50ZXN0KGcub3JpZ2luYWxFdmVudC50eXBlKSxsPWcudHlwZTtpZihqLmxlbmd0aCl7aT1qLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiKTtpZihsPT09InZtb3VzZWRvd24iKWs/ZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZihqLCJ1aS1idG4tdXAtIitpLCJ1aS1idG4tZG93bi0iK2ksYiwiZG93biIpfSxjKTpmKGosInVpLWJ0bi11cC0iK2ksInVpLWJ0bi1kb3duLSIraSxiLCJkb3duIik7ZWxzZSBpZihsPT09InZtb3VzZWNhbmNlbCJ8fGw9PT0idm1vdXNldXAiKWYoaiwidWktYnRuLWRvd24tIitpLCJ1aS1idG4tdXAtIitpLGIsInVwIik7ZWxzZSBpZihsPT09InZtb3VzZW92ZXIifHxsPT09ImZvY3VzIilrP2g9c2V0VGltZW91dChmdW5jdGlvbigpe2YoaiwidWktYnRuLXVwLSIraSwidWktYnRuLWhvdmVyLSIraSwhMCwiIil9LGMpOmYoaiwidWktYnRuLXVwLSIraSwidWktYnRuLWhvdmVyLSIraSwhMCwiIik7ZWxzZSBpZihsPT09InZtb3VzZW91dCJ8fGw9PT0iYmx1ciJ8fGw9PT0ic2Nyb2xsc3RhcnQiKWYoaiwidWktYnRuLWhvdmVyLSIraSsiIHVpLWJ0bi1kb3duLSIraSwidWktYnRuLXVwLSIraSwhMSwidXAiKSxkJiZjbGVhclRpbWVvdXQoZCksaCYmY2xlYXJUaW1lb3V0KGgpfX0sImZvY3VzaW4gZm9jdXMiOmZ1bmN0aW9uKGIpe2EoZShiLnRhcmdldCkpLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSwiZm9jdXNvdXQgYmx1ciI6ZnVuY3Rpb24oYil7YShlKGIudGFyZ2V0KSkucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9fSksZz1udWxsfTthLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YSgiOmpxbURhdGEocm9sZT0nYnV0dG9uJyksIC51aS1iYXIgPiBhLCAudWktaGVhZGVyID4gYSwgLnVpLWZvb3RlciA+IGEsIC51aS1iYXIgPiA6anFtRGF0YShyb2xlPSdjb250cm9sZ3JvdXAnKSA+IGEiLGIudGFyZ2V0KS5qcW1FbmhhbmNlYWJsZSgpLm5vdCgiYnV0dG9uLCBpbnB1dCwgLnVpLWJ0biwgOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiKS5idXR0b25NYXJrdXAoKX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUuY29sbGFwc2libGUiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7ZXhwYW5kQ3VlVGV4dDoiIGNsaWNrIHRvIGV4cGFuZCBjb250ZW50cyIsY29sbGFwc2VDdWVUZXh0OiIgY2xpY2sgdG8gY29sbGFwc2UgY29udGVudHMiLGNvbGxhcHNlZDohMCxoZWFkaW5nOiJoMSxoMixoMyxoNCxoNSxoNixsZWdlbmQiLGNvbGxhcHNlZEljb246InBsdXMiLGV4cGFuZGVkSWNvbjoibWludXMiLGljb25wb3M6ImxlZnQiLHRoZW1lOm51bGwsY29udGVudFRoZW1lOm51bGwsaW5zZXQ6ITAsY29ybmVyczohMCxtaW5pOiExLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmVsZW1lbnQsZD10aGlzLm9wdGlvbnMsZT1jLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZSIpLGY9Yy5jaGlsZHJlbihkLmhlYWRpbmcpLmZpcnN0KCksZz1lLndyYXBJbm5lcigiPGRpdiBjbGFzcz0ndWktY29sbGFwc2libGUtY29udGVudCc+PC9kaXY+IikuY2hpbGRyZW4oIi51aS1jb2xsYXBzaWJsZS1jb250ZW50IiksaD1jLmNsb3Nlc3QoIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpIikuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLXNldCIpLGk9IiI7Zi5pcygibGVnZW5kIikmJihmPWEoIjxkaXYgcm9sZT0naGVhZGluZyc+IitmLmh0bWwoKSsiPC9kaXY+IikuaW5zZXJ0QmVmb3JlKGYpLGYubmV4dCgpLnJlbW92ZSgpKSxoLmxlbmd0aD8oZC50aGVtZXx8KGQudGhlbWU9aC5qcW1EYXRhKCJ0aGVtZSIpfHxhLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShoLCJjIikpLGQuY29udGVudFRoZW1lfHwoZC5jb250ZW50VGhlbWU9aC5qcW1EYXRhKCJjb250ZW50LXRoZW1lIikpLGQuY29sbGFwc2VkSWNvbj1jLmpxbURhdGEoImNvbGxhcHNlZC1pY29uIil8fGguanFtRGF0YSgiY29sbGFwc2VkLWljb24iKXx8ZC5jb2xsYXBzZWRJY29uLGQuZXhwYW5kZWRJY29uPWMuanFtRGF0YSgiZXhwYW5kZWQtaWNvbiIpfHxoLmpxbURhdGEoImV4cGFuZGVkLWljb24iKXx8ZC5leHBhbmRlZEljb24sZC5pY29ucG9zPWMuanFtRGF0YSgiaWNvbnBvcyIpfHxoLmpxbURhdGEoImljb25wb3MiKXx8ZC5pY29ucG9zLGguanFtRGF0YSgiaW5zZXQiKSE9PWI/ZC5pbnNldD1oLmpxbURhdGEoImluc2V0Iik6ZC5pbnNldD0hMCxkLmNvcm5lcnM9ITEsZC5taW5pfHwoZC5taW5pPWguanFtRGF0YSgibWluaSIpKSk6ZC50aGVtZXx8KGQudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoYywiYyIpKSwhZC5pbnNldHx8KGkrPSIgdWktY29sbGFwc2libGUtaW5zZXQiLCFkLmNvcm5lcnN8fChpKz0iIHVpLWNvcm5lci1hbGwiKSksZC5jb250ZW50VGhlbWUmJihpKz0iIHVpLWNvbGxhcHNpYmxlLXRoZW1lZC1jb250ZW50IixnLmFkZENsYXNzKCJ1aS1ib2R5LSIrZC5jb250ZW50VGhlbWUpKSxpIT09IiImJmUuYWRkQ2xhc3MoaSksZi5pbnNlcnRCZWZvcmUoZykuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmciKS5hcHBlbmQoIjxzcGFuIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyc+PC9zcGFuPiIpLndyYXBJbm5lcigiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctdG9nZ2xlJz48L2E+IikuZmluZCgiYSIpLmZpcnN0KCkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ITEsY29ybmVyczohMSxpY29ucG9zOmQuaWNvbnBvcyxpY29uOmQuY29sbGFwc2VkSWNvbixtaW5pOmQubWluaSx0aGVtZTpkLnRoZW1lfSksZS5iaW5kKCJleHBhbmQgY29sbGFwc2UiLGZ1bmN0aW9uKGIpe2lmKCFiLmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2YXIgYz1hKHRoaXMpLGU9Yi50eXBlPT09ImNvbGxhcHNlIjtiLnByZXZlbnREZWZhdWx0KCksZi50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiLGUpLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyIpLnRleHQoZT9kLmV4cGFuZEN1ZVRleHQ6ZC5jb2xsYXBzZUN1ZVRleHQpLmVuZCgpLmZpbmQoIi51aS1pY29uIikudG9nZ2xlQ2xhc3MoInVpLWljb24tIitkLmV4cGFuZGVkSWNvbiwhZSkudG9nZ2xlQ2xhc3MoInVpLWljb24tIitkLmNvbGxhcHNlZEljb24sZXx8ZC5leHBhbmRlZEljb249PT1kLmNvbGxhcHNlZEljb24pLmVuZCgpLmZpbmQoImEiKS5maXJzdCgpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxjLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWQiLGUpLGcudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbnRlbnQtY29sbGFwc2VkIixlKS5hdHRyKCJhcmlhLWhpZGRlbiIsZSksZy50cmlnZ2VyKCJ1cGRhdGVsYXlvdXQiKX19KS50cmlnZ2VyKGQuY29sbGFwc2VkPyJjb2xsYXBzZSI6ImV4cGFuZCIpLGYuYmluZCgidGFwIixmdW5jdGlvbihiKXtmLmZpbmQoImEiKS5maXJzdCgpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImNsaWNrIixmdW5jdGlvbihhKXt2YXIgYj1mLmlzKCIudWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiKT8iZXhwYW5kIjoiY29sbGFwc2UiO2UudHJpZ2dlcihiKSxhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKX0pfX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5jb2xsYXBzaWJsZS5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmNvbGxhcHNpYmxlc2V0IixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2luaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1zZXQiKSxkPXRoaXMub3B0aW9ucztkLnRoZW1lfHwoZC50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShjLCJjIikpLGQuY29udGVudFRoZW1lfHwoZC5jb250ZW50VGhlbWU9Yy5qcW1EYXRhKCJjb250ZW50LXRoZW1lIikpLGQuY29ybmVyc3x8KGQuY29ybmVycz1jLmpxbURhdGEoImNvcm5lcnMiKSksYy5qcW1EYXRhKCJpbnNldCIpIT09YiYmKGQuaW5zZXQ9Yy5qcW1EYXRhKCJpbnNldCIpKSxkLmluc2V0PWQuaW5zZXQhPT1iP2QuaW5zZXQ6ITAsZC5jb3JuZXJzPWQuY29ybmVycyE9PWI/ZC5jb3JuZXJzOiEwLCEhZC5jb3JuZXJzJiYhIWQuaW5zZXQmJmMuYWRkQ2xhc3MoInVpLWNvcm5lci1hbGwiKSxjLmpxbURhdGEoImNvbGxhcHNpYmxlYm91bmQiKXx8Yy5qcW1EYXRhKCJjb2xsYXBzaWJsZWJvdW5kIiwhMCkuYmluZCgiZXhwYW5kIixmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KS5jbG9zZXN0KCIudWktY29sbGFwc2libGUiKTtjLnBhcmVudCgpLmlzKCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSIpJiZjLnNpYmxpbmdzKCIudWktY29sbGFwc2libGUiKS50cmlnZ2VyKCJjb2xsYXBzZSIpfSl9LF9pbml0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LGI9YS5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUnKSIpLGM9Yi5maWx0ZXIoIjpqcW1EYXRhKGNvbGxhcHNlZD0nZmFsc2UnKSIpO3RoaXMuX3JlZnJlc2goInRydWUiKSxjLnRyaWdnZXIoImV4cGFuZCIpfSxfcmVmcmVzaDpmdW5jdGlvbihiKXt2YXIgYz10aGlzLmVsZW1lbnQuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykiKTthLm1vYmlsZS5jb2xsYXBzaWJsZS5wcm90b3R5cGUuZW5oYW5jZShjLm5vdCgiLnVpLWNvbGxhcHNpYmxlIikpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXMoYyx0aGlzLl9nZXRWaXNpYmxlcyhjLGIpLGIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaCghMSl9fSksYS53aWRnZXQoIm1vYmlsZS5jb2xsYXBzaWJsZXNldCIsYS5tb2JpbGUuY29sbGFwc2libGVzZXQsYS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5jb2xsYXBzaWJsZXNldC5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLm5hdmJhciIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntpY29ucG9zOiJ0b3AiLGdyaWQ6bnVsbCxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J25hdmJhcicpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBkPXRoaXMuZWxlbWVudCxlPWQuZmluZCgiYSIpLGY9ZS5maWx0ZXIoIjpqcW1EYXRhKGljb24pIikubGVuZ3RoP3RoaXMub3B0aW9ucy5pY29ucG9zOmI7ZC5hZGRDbGFzcygidWktbmF2YmFyIHVpLW1pbmkiKS5hdHRyKCJyb2xlIiwibmF2aWdhdGlvbiIpLmZpbmQoInVsIikuanFtRW5oYW5jZWFibGUoKS5ncmlkKHtncmlkOnRoaXMub3B0aW9ucy5ncmlkfSksZS5idXR0b25NYXJrdXAoe2Nvcm5lcnM6ITEsc2hhZG93OiExLGlubGluZTohMCxpY29ucG9zOmZ9KSxkLmRlbGVnYXRlKCJhIiwidmNsaWNrIixmdW5jdGlvbihiKXtpZighYShiLnRhcmdldCkuaGFzQ2xhc3MoInVpLWRpc2FibGVkIikpe2UucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLGEodGhpcykuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpO3ZhciBkPWEodGhpcyk7YShjKS5vbmUoInBhZ2VjaGFuZ2UiLGZ1bmN0aW9uKGIpe2QucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSl9fSksZC5jbG9zZXN0KCIudWktcGFnZSIpLmJpbmQoInBhZ2ViZWZvcmVzaG93IixmdW5jdGlvbigpe2UuZmlsdGVyKCIudWktc3RhdGUtcGVyc2lzdCIpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pfX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5uYXZiYXIucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGQ9e307YS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGNvdW50VGhlbWU6ImMiLGhlYWRlclRoZW1lOiJiIixkaXZpZGVyVGhlbWU6ImIiLGljb246ImFycm93LXIiLHNwbGl0SWNvbjoiYXJyb3ctciIsc3BsaXRUaGVtZToiYiIsY29ybmVyczohMCxzaGFkb3c6ITAsaW5zZXQ6ITEsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdsaXN0dmlldycpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj0iIjtiKz1hLm9wdGlvbnMuaW5zZXQ/IiB1aS1saXN0dmlldy1pbnNldCI6IiIsIWEub3B0aW9ucy5pbnNldHx8KGIrPWEub3B0aW9ucy5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIsYis9YS5vcHRpb25zLnNoYWRvdz8iIHVpLXNoYWRvdyI6IiIpLGEuZWxlbWVudC5hZGRDbGFzcyhmdW5jdGlvbihhLGMpe3JldHVybiBjKyIgdWktbGlzdHZpZXciK2J9KSxhLnJlZnJlc2goITApfSxfZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT17fTtlW2NdPWVbZF09ITA7d2hpbGUoYSl7aWYoZVthLm5vZGVOYW1lXSlyZXR1cm4gYTthPWFbYl19cmV0dXJuIG51bGx9LF9nZXRDaGlsZHJlbkJ5VGFnTmFtZTpmdW5jdGlvbihiLGMsZCl7dmFyIGU9W10sZj17fTtmW2NdPWZbZF09ITAsYj1iLmZpcnN0Q2hpbGQ7d2hpbGUoYilmW2Iubm9kZU5hbWVdJiZlLnB1c2goYiksYj1iLm5leHRTaWJsaW5nO3JldHVybiBhKGUpfSxfYWRkVGh1bWJDbGFzc2VzOmZ1bmN0aW9uKGIpe3ZhciBjLGQsZT1iLmxlbmd0aDtmb3IoYz0wO2M8ZTtjKyspZD1hKHRoaXMuX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWUoYltjXS5maXJzdENoaWxkLCJuZXh0U2libGluZyIsImltZyIsIklNRyIpKSxkLmxlbmd0aCYmKGQuYWRkQ2xhc3MoInVpLWxpLXRodW1iIiksYSh0aGlzLl9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lKGRbMF0ucGFyZW50Tm9kZSwicGFyZW50Tm9kZSIsImxpIiwiTEkiKSkuYWRkQ2xhc3MoZC5pcygiLnVpLWxpLWljb24iKT8idWktbGktaGFzLWljb24iOiJ1aS1saS1oYXMtdGh1bWIiKSl9LHJlZnJlc2g6ZnVuY3Rpb24oYil7dGhpcy5wYXJlbnRQYWdlPXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLHRoaXMuX2NyZWF0ZVN1YlBhZ2VzKCk7dmFyIGQ9dGhpcy5vcHRpb25zLGU9dGhpcy5lbGVtZW50LGY9dGhpcyxnPWUuanFtRGF0YSgiZGl2aWRlcnRoZW1lIil8fGQuZGl2aWRlclRoZW1lLGg9ZS5qcW1EYXRhKCJzcGxpdHRoZW1lIiksaT1lLmpxbURhdGEoInNwbGl0aWNvbiIpLGo9ZS5qcW1EYXRhKCJpY29uIiksaz10aGlzLl9nZXRDaGlsZHJlbkJ5VGFnTmFtZShlWzBdLCJsaSIsIkxJIiksbD0hIWEubm9kZU5hbWUoZVswXSwib2wiKSxtPSFhLnN1cHBvcnQuY3NzUHNldWRvRWxlbWVudCxuPWUuYXR0cigic3RhcnQiKSxvPXt9LHAscSxyLHMsdCx1LHYsdyx4LHkseixBLEIsQztsJiZtJiZlLmZpbmQoIi51aS1saS1kZWMiKS5yZW1vdmUoKSxsJiYobnx8bj09PTA/bT92PXBhcnNlSW50KG4sMTApOih3PXBhcnNlSW50KG4sMTApLTEsZS5jc3MoImNvdW50ZXItcmVzZXQiLCJsaXN0bnVtYmVyaW5nICIrdykpOm0mJih2PTEpKSxkLnRoZW1lfHwoZC50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQsImMiKSk7Zm9yKHZhciBEPTAsRT1rLmxlbmd0aDtEPEU7RCsrKXtwPWsuZXEoRCkscT0idWktbGkiO2lmKGJ8fCFwLmhhc0NsYXNzKCJ1aS1saSIpKXtyPXAuanFtRGF0YSgidGhlbWUiKXx8ZC50aGVtZSxzPXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKHBbMF0sImEiLCJBIik7dmFyIEY9cC5qcW1EYXRhKCJyb2xlIik9PT0ibGlzdC1kaXZpZGVyIjtzLmxlbmd0aCYmIUY/KHo9cC5qcW1EYXRhKCJpY29uIikscC5idXR0b25NYXJrdXAoe3dyYXBwZXJFbHM6ImRpdiIsc2hhZG93OiExLGNvcm5lcnM6ITEsaWNvbnBvczoicmlnaHQiLGljb246cy5sZW5ndGg+MXx8ej09PSExPyExOnp8fGp8fGQuaWNvbix0aGVtZTpyfSkseiE9PSExJiZzLmxlbmd0aD09PTEmJnAuYWRkQ2xhc3MoInVpLWxpLWhhcy1hcnJvdyIpLHMuZmlyc3QoKS5yZW1vdmVDbGFzcygidWktbGluayIpLmFkZENsYXNzKCJ1aS1saW5rLWluaGVyaXQiKSxzLmxlbmd0aD4xJiYocSs9IiB1aS1saS1oYXMtYWx0Iix0PXMubGFzdCgpLHU9aHx8dC5qcW1EYXRhKCJ0aGVtZSIpfHxkLnNwbGl0VGhlbWUsQz10LmpxbURhdGEoImljb24iKSx0LmFwcGVuZFRvKHApLmF0dHIoInRpdGxlIixhLnRyaW0odC5nZXRFbmNvZGVkVGV4dCgpKSkuYWRkQ2xhc3MoInVpLWxpLWxpbmstYWx0IikuZW1wdHkoKS5idXR0b25NYXJrdXAoe3NoYWRvdzohMSxjb3JuZXJzOiExLHRoZW1lOnIsaWNvbjohMSxpY29ucG9zOiJub3RleHQifSkuZmluZCgiLnVpLWJ0bi1pbm5lciIpLmFwcGVuZChhKGMuY3JlYXRlRWxlbWVudCgic3BhbiIpKS5idXR0b25NYXJrdXAoe3NoYWRvdzohMCxjb3JuZXJzOiEwLHRoZW1lOnUsaWNvbnBvczoibm90ZXh0IixpY29uOkN8fHp8fGl8fGQuc3BsaXRJY29ufSkpKSk6Rj8ocSs9IiB1aS1saS1kaXZpZGVyIHVpLWJhci0iKyhwLmpxbURhdGEoInRoZW1lIil8fGcpLHAuYXR0cigicm9sZSIsImhlYWRpbmciKSxsJiYobnx8bj09PTA/bT92PXBhcnNlSW50KG4sMTApOih4PXBhcnNlSW50KG4sMTApLTEscC5jc3MoImNvdW50ZXItcmVzZXQiLCJsaXN0bnVtYmVyaW5nICIreCkpOm0mJih2PTEpKSk6cSs9IiB1aS1saS1zdGF0aWMgdWktYnRuLXVwLSIrcn1sJiZtJiZxLmluZGV4T2YoInVpLWxpLWRpdmlkZXIiKTwwJiYoeT1xLmluZGV4T2YoInVpLWxpLXN0YXRpYyIpPjA/cDpwLmZpbmQoIi51aS1saW5rLWluaGVyaXQiKSx5LmFkZENsYXNzKCJ1aS1saS1qc251bWJlcmluZyIpLnByZXBlbmQoIjxzcGFuIGNsYXNzPSd1aS1saS1kZWMnPiIrdisrICsiLiA8L3NwYW4+IikpLG9bcV18fChvW3FdPVtdKSxvW3FdLnB1c2gocFswXSl9Zm9yKHEgaW4gbylhKG9bcV0pLmFkZENsYXNzKHEpLmNoaWxkcmVuKCIudWktYnRuLWlubmVyIikuYWRkQ2xhc3MocSk7ZS5maW5kKCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IikuYWRkQ2xhc3MoInVpLWxpLWhlYWRpbmciKS5lbmQoKS5maW5kKCJwLCBkbCIpLmFkZENsYXNzKCJ1aS1saS1kZXNjIikuZW5kKCkuZmluZCgiLnVpLWxpLWFzaWRlIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7Yi5wcmVwZW5kVG8oYi5wYXJlbnQoKSl9KS5lbmQoKS5maW5kKCIudWktbGktY291bnQiKS5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5jbG9zZXN0KCJsaSIpLmFkZENsYXNzKCJ1aS1saS1oYXMtY291bnQiKX0pLmFkZENsYXNzKCJ1aS1idG4tdXAtIisoZS5qcW1EYXRhKCJjb3VudHRoZW1lIil8fHRoaXMub3B0aW9ucy5jb3VudFRoZW1lKSsiIHVpLWJ0bi1jb3JuZXItYWxsIiksdGhpcy5fYWRkVGh1bWJDbGFzc2VzKGspLHRoaXMuX2FkZFRodW1iQ2xhc3NlcyhlLmZpbmQoIi51aS1saW5rLWluaGVyaXQiKSksdGhpcy5fYWRkRmlyc3RMYXN0Q2xhc3NlcyhrLHRoaXMuX2dldFZpc2libGVzKGssYiksYiksdGhpcy5fdHJpZ2dlcigiYWZ0ZXJyZWZyZXNoIil9LF9pZFN0cmluZ0VzY2FwZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywiLSIpfSxfY3JlYXRlU3ViUGFnZXM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz1iLmNsb3Nlc3QoIi51aS1wYWdlIiksZT1jLmpxbURhdGEoInVybCIpLGY9ZXx8Y1swXVthLmV4cGFuZG9dLGc9Yi5hdHRyKCJpZCIpLGg9dGhpcy5vcHRpb25zLGk9ImRhdGEtIithLm1vYmlsZS5ucyxqPXRoaXMsaz1jLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIikuanFtRGF0YSgiaWQiKSxsO3R5cGVvZiBkW2ZdPT0idW5kZWZpbmVkIiYmKGRbZl09LTEpLGc9Z3x8KytkW2ZdLGEoYi5maW5kKCJsaT51bCwgbGk+b2wiKS50b0FycmF5KCkucmV2ZXJzZSgpKS5lYWNoKGZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMsZj1hKHRoaXMpLGo9Zi5hdHRyKCJpZCIpfHxnKyItIitjLG09Zi5wYXJlbnQoKSxuPWEoZi5wcmV2QWxsKCkudG9BcnJheSgpLnJldmVyc2UoKSkscD1uLmxlbmd0aD9uOmEoIjxzcGFuPiIrYS50cmltKG0uY29udGVudHMoKVswXS5ub2RlVmFsdWUpKyI8L3NwYW4+IikscT1wLmZpcnN0KCkuZ2V0RW5jb2RlZFRleHQoKSxyPShlfHwiIikrIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkrIj0iK2oscz1mLmpxbURhdGEoInRoZW1lIil8fGgudGhlbWUsdD1mLmpxbURhdGEoImNvdW50dGhlbWUiKXx8Yi5qcW1EYXRhKCJjb3VudHRoZW1lIil8fGguY291bnRUaGVtZSx1LHY7bD0hMCx1PWYuZGV0YWNoKCkud3JhcCgiPGRpdiAiK2krInJvbGU9J3BhZ2UnICIraSsidXJsPSciK3IrIicgIitpKyJ0aGVtZT0nIitzKyInICIraSsiY291bnQtdGhlbWU9JyIrdCsiJz48ZGl2ICIraSsicm9sZT0nY29udGVudCc+PC9kaXY+PC9kaXY+IikucGFyZW50KCkuYmVmb3JlKCI8ZGl2ICIraSsicm9sZT0naGVhZGVyJyAiK2krInRoZW1lPSciK2guaGVhZGVyVGhlbWUrIic+PGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrcSsiPC9kaXY+PC9kaXY+IikuYWZ0ZXIoaz9hKCI8ZGl2ICIraSsicm9sZT0nZm9vdGVyJyAiK2krImlkPSciK2srIic+Iik6IiIpLnBhcmVudCgpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLHUucGFnZSgpLHY9bS5maW5kKCJhOmZpcnN0Iiksdi5sZW5ndGh8fCh2PWEoIjxhLz4iKS5odG1sKHB8fHEpLnByZXBlbmRUbyhtLmVtcHR5KCkpKSx2LmF0dHIoImhyZWYiLCIjIityKX0pLmxpc3R2aWV3KCk7aWYobCYmYy5pcygiOmpxbURhdGEoZXh0ZXJuYWwtcGFnZT0ndHJ1ZScpIikmJmMuZGF0YSgibW9iaWxlLXBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlPT09ITEpe3ZhciBtPWZ1bmN0aW9uKGIsZCl7dmFyIGY9ZC5uZXh0UGFnZSxnLGg9bmV3IGEuRXZlbnQoInBhZ2VyZW1vdmUiKTtkLm5leHRQYWdlJiYoZz1mLmpxbURhdGEoInVybCIpLGcuaW5kZXhPZihlKyImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KSE9PTAmJihqLmNoaWxkUGFnZXMoKS5yZW1vdmUoKSxjLnRyaWdnZXIoaCksaC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8Yy5yZW1vdmVXaXRoRGVwZW5kZW50cygpKSl9O2MudW5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiKS5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiLG0pfX0sY2hpbGRQYWdlczpmdW5jdGlvbigpe3ZhciBiPXRoaXMucGFyZW50UGFnZS5qcW1EYXRhKCJ1cmwiKTtyZXR1cm4gYSgiOmpxbURhdGEodXJsXj0nIitiKyImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KyInKSIpfX0pLGEud2lkZ2V0KCJtb2JpbGUubGlzdHZpZXciLGEubW9iaWxlLmxpc3R2aWV3LGEubW9iaWxlLmJlaGF2aW9ycy5hZGRGaXJzdExhc3RDbGFzc2VzKSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuYXV0b2RpdmlkZXJzPSExLGEubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmF1dG9kaXZpZGVyc1NlbGVjdG9yPWZ1bmN0aW9uKGIpe3ZhciBjPWEudHJpbShiLnRleHQoKSl8fG51bGw7cmV0dXJuIGM/KGM9Yy5zbGljZSgwLDEpLnRvVXBwZXJDYXNlKCksYyk6bnVsbH0sYS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoInVsLG9sIiwibGlzdHZpZXdjcmVhdGUiLGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxkPWIuZGF0YSgibW9iaWxlLWxpc3R2aWV3Iik7aWYoIWR8fCFkLm9wdGlvbnMuYXV0b2RpdmlkZXJzKXJldHVybjt2YXIgZT1mdW5jdGlvbigpe2IuZmluZCgibGk6anFtRGF0YShyb2xlPSdsaXN0LWRpdmlkZXInKSIpLnJlbW92ZSgpO3ZhciBlPWIuZmluZCgibGkiKSxmPW51bGwsZyxoO2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXtnPWVbaV0saD1kLm9wdGlvbnMuYXV0b2RpdmlkZXJzU2VsZWN0b3IoYShnKSk7aWYoaCYmZiE9PWgpe3ZhciBqPWMuY3JlYXRlRWxlbWVudCgibGkiKTtqLmFwcGVuZENoaWxkKGMuY3JlYXRlVGV4dE5vZGUoaCkpLGouc2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrInJvbGUiLCJsaXN0LWRpdmlkZXIiKSxnLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGosZyl9Zj1ofX0sZj1mdW5jdGlvbigpe2IudW5iaW5kKCJsaXN0dmlld2FmdGVycmVmcmVzaCIsZiksZSgpLGQucmVmcmVzaCgpLGIuYmluZCgibGlzdHZpZXdhZnRlcnJlZnJlc2giLGYpfTtmKCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmNoZWNrYm94cmFkaW8iLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxtaW5pOiExLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0nY2hlY2tib3gnXSxpbnB1dFt0eXBlPSdyYWRpbyddIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD10aGlzLmVsZW1lbnQsZT10aGlzLm9wdGlvbnMsZj1mdW5jdGlvbihhLGIpe3JldHVybiBhLmpxbURhdGEoYil8fGEuY2xvc2VzdCgiZm9ybSwgZmllbGRzZXQiKS5qcW1EYXRhKGIpfSxnPWEoZCkuY2xvc2VzdCgibGFiZWwiKSxoPWcubGVuZ3RoP2c6YShkKS5jbG9zZXN0KCJmb3JtLCBmaWVsZHNldCwgOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpbmQoImxhYmVsIikuZmlsdGVyKCJbZm9yPSciK2RbMF0uaWQrIiddIikuZmlyc3QoKSxpPWRbMF0udHlwZSxqPWYoZCwibWluaSIpfHxlLm1pbmksaz1pKyItb24iLGw9aSsiLW9mZiIsbT1mKGQsImljb25wb3MiKSxuPSJ1aS0iK2ssbz0idWktIitsO2lmKGkhPT0iY2hlY2tib3giJiZpIT09InJhZGlvIilyZXR1cm47YS5leHRlbmQodGhpcyx7bGFiZWw6aCxpbnB1dHR5cGU6aSxjaGVja2VkQ2xhc3M6bix1bmNoZWNrZWRDbGFzczpvLGNoZWNrZWRpY29uOmssdW5jaGVja2VkaWNvbjpsfSksZS50aGVtZXx8KGUudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIikpLGguYnV0dG9uTWFya3VwKHt0aGVtZTplLnRoZW1lLGljb246bCxzaGFkb3c6ITEsbWluaTpqLGljb25wb3M6bX0pO3ZhciBwPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7cC5jbGFzc05hbWU9InVpLSIraSxkLmFkZChoKS53cmFwQWxsKHApLGguYmluZCh7dm1vdXNlb3ZlcjpmdW5jdGlvbihiKXthKHRoaXMpLnBhcmVudCgpLmlzKCIudWktZGlzYWJsZWQiKSYmYi5zdG9wUHJvcGFnYXRpb24oKX0sdmNsaWNrOmZ1bmN0aW9uKGEpe2lmKGQuaXMoIjpkaXNhYmxlZCIpKXthLnByZXZlbnREZWZhdWx0KCk7cmV0dXJufXJldHVybiBiLl9jYWNoZVZhbHMoKSxkLnByb3AoImNoZWNrZWQiLGk9PT0icmFkaW8iJiYhMHx8IWQucHJvcCgiY2hlY2tlZCIpKSxkLnRyaWdnZXJIYW5kbGVyKCJjbGljayIpLGIuX2dldElucHV0U2V0KCkubm90KGQpLnByb3AoImNoZWNrZWQiLCExKSxiLl91cGRhdGVBbGwoKSwhMX19KSxkLmJpbmQoe3Ztb3VzZWRvd246ZnVuY3Rpb24oKXtiLl9jYWNoZVZhbHMoKX0sdmNsaWNrOmZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKTtjLmlzKCI6Y2hlY2tlZCIpPyhjLnByb3AoImNoZWNrZWQiLCEwKSxiLl9nZXRJbnB1dFNldCgpLm5vdChjKS5wcm9wKCJjaGVja2VkIiwhMSkpOmMucHJvcCgiY2hlY2tlZCIsITEpLGIuX3VwZGF0ZUFsbCgpfSxmb2N1czpmdW5jdGlvbigpe2guYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXtoLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pLHRoaXMuX2hhbmRsZUZvcm1SZXNldCYmdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5yZWZyZXNoKCl9LF9jYWNoZVZhbHM6ZnVuY3Rpb24oKXt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmpxbURhdGEoImNhY2hlVmFsIix0aGlzLmNoZWNrZWQpfSl9LF9nZXRJbnB1dFNldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlucHV0dHlwZT09PSJjaGVja2JveCI/dGhpcy5lbGVtZW50OnRoaXMuZWxlbWVudC5jbG9zZXN0KCJmb3JtLCA6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikuZmluZCgiaW5wdXRbbmFtZT0nIit0aGlzLmVsZW1lbnRbMF0ubmFtZSsiJ11bdHlwZT0nIit0aGlzLmlucHV0dHlwZSsiJ10iKX0sX3VwZGF0ZUFsbDpmdW5jdGlvbigpe3ZhciBiPXRoaXM7dGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKTsodGhpcy5jaGVja2VkfHxiLmlucHV0dHlwZT09PSJjaGVja2JveCIpJiZjLnRyaWdnZXIoImNoYW5nZSIpfSkuY2hlY2tib3hyYWRpbygicmVmcmVzaCIpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudFswXSxjPSIgIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyxkPXRoaXMuY2hlY2tlZENsYXNzKyh0aGlzLmVsZW1lbnQucGFyZW50cygiLnVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIikubGVuZ3RoP2M6IiIpLGU9dGhpcy5sYWJlbDtiLmNoZWNrZWQ/ZS5yZW1vdmVDbGFzcyh0aGlzLnVuY2hlY2tlZENsYXNzK2MpLmFkZENsYXNzKGQpLmJ1dHRvbk1hcmt1cCh7aWNvbjp0aGlzLmNoZWNrZWRpY29ufSk6ZS5yZW1vdmVDbGFzcyhkKS5hZGRDbGFzcyh0aGlzLnVuY2hlY2tlZENsYXNzKS5idXR0b25NYXJrdXAoe2ljb246dGhpcy51bmNoZWNrZWRpY29ufSksYi5kaXNhYmxlZD90aGlzLmRpc2FibGUoKTp0aGlzLmVuYWJsZSgpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiwhMCkucGFyZW50KCkuYWRkQ2xhc3MoInVpLWRpc2FibGVkIil9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsITEpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpfX0pLGEud2lkZ2V0KCJtb2JpbGUuY2hlY2tib3hyYWRpbyIsYS5tb2JpbGUuY2hlY2tib3hyYWRpbyxhLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUuY2hlY2tib3hyYWRpby5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwhMCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmJ1dHRvbiIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGljb246bnVsbCxpY29ucG9zOm51bGwsY29ybmVyczohMCxzaGFkb3c6ITAsaWNvbnNoYWRvdzohMCxpbmxpbmU6bnVsbCxtaW5pOm51bGwsaW5pdFNlbGVjdG9yOiJidXR0b24sIFt0eXBlPSdidXR0b24nXSwgW3R5cGU9J3N1Ym1pdCddLCBbdHlwZT0ncmVzZXQnXSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYyxkPWZ1bmN0aW9uKGEpe3ZhciBiLGM9e307Zm9yKGIgaW4gYSlhW2JdIT09bnVsbCYmYiE9PSJpbml0U2VsZWN0b3IiJiYoY1tiXT1hW2JdKTtyZXR1cm4gY30odGhpcy5vcHRpb25zKSxlPSIiLGY7aWYoYlswXS50YWdOYW1lPT09IkEiKXtiLmhhc0NsYXNzKCJ1aS1idG4iKXx8Yi5idXR0b25NYXJrdXAoKTtyZXR1cm59dGhpcy5vcHRpb25zLnRoZW1lfHwodGhpcy5vcHRpb25zLnRoZW1lPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudCwiYyIpKSwhfmJbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1sZWZ0Iil8fChlPSJ1aS1idG4tbGVmdCIpLCF+YlswXS5jbGFzc05hbWUuaW5kZXhPZigidWktYnRuLXJpZ2h0Iil8fChlPSJ1aS1idG4tcmlnaHQiKTtpZihiLmF0dHIoInR5cGUiKT09PSJzdWJtaXQifHxiLmF0dHIoInR5cGUiKT09PSJyZXNldCIpZT9lKz0iIHVpLXN1Ym1pdCI6ZT0idWktc3VibWl0IjthKCJsYWJlbFtmb3I9JyIrYi5hdHRyKCJpZCIpKyInXSIpLmFkZENsYXNzKCJ1aS1zdWJtaXQiKSx0aGlzLmJ1dHRvbj1hKCI8ZGl2PjwvZGl2PiIpW2IuaHRtbCgpPyJodG1sIjoidGV4dCJdKGIuaHRtbCgpfHxiLnZhbCgpKS5pbnNlcnRCZWZvcmUoYikuYnV0dG9uTWFya3VwKGQpLmFkZENsYXNzKGUpLmFwcGVuZChiLmFkZENsYXNzKCJ1aS1idG4taGlkZGVuIikpLGM9dGhpcy5idXR0b24sYi5iaW5kKHtmb2N1czpmdW5jdGlvbigpe2MuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXtjLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pLHRoaXMucmVmcmVzaCgpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9e307ZFtiXT1jLGIhPT0iaW5pdFNlbGVjdG9yIiYmKHRoaXMuYnV0dG9uLmJ1dHRvbk1hcmt1cChkKSx0aGlzLmVsZW1lbnQuYXR0cigiZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpK2IucmVwbGFjZSgvKFtBLVpdKS8sIi0kMSIpLnRvTG93ZXJDYXNlKCksYykpLHRoaXMuX3N1cGVyKCJfc2V0T3B0aW9uIixiLGMpfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMSksdGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITEpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCEwKSx0aGlzLmJ1dHRvbi5hZGRDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMCksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50O2IucHJvcCgiZGlzYWJsZWQiKT90aGlzLmRpc2FibGUoKTp0aGlzLmVuYWJsZSgpLGEodGhpcy5idXR0b24uZGF0YSgiYnV0dG9uRWxlbWVudHMiKS50ZXh0KVtiLmh0bWwoKT8iaHRtbCI6InRleHQiXShiLmh0bWwoKXx8Yi52YWwoKSl9fSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLmJ1dHRvbi5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwhMCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmNvbnRyb2xncm91cCIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntzaGFkb3c6ITEsY29ybmVyczohMCxleGNsdWRlSW52aXNpYmxlOiEwLHR5cGU6InZlcnRpY2FsIixtaW5pOiExLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nY29udHJvbGdyb3VwJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5lbGVtZW50LGQ9e2lubmVyOmEoIjxkaXYgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1jb250cm9scyc+PC9kaXY+IiksbGVnZW5kOmEoIjxkaXYgcm9sZT0naGVhZGluZycgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1sYWJlbCc+PC9kaXY+Iil9LGU9Yy5jaGlsZHJlbigibGVnZW5kIiksZj10aGlzO2Mud3JhcElubmVyKGQuaW5uZXIpLGUubGVuZ3RoJiZkLmxlZ2VuZC5hcHBlbmQoZSkuaW5zZXJ0QmVmb3JlKGMuY2hpbGRyZW4oMCkpLGMuYWRkQ2xhc3MoInVpLWNvcm5lci1hbGwgdWktY29udHJvbGdyb3VwIiksYS5leHRlbmQodGhpcyx7X2luaXRpYWxSZWZyZXNoOiEwfSksYS5lYWNoKHRoaXMub3B0aW9ucyxmdW5jdGlvbihhLGMpe2Yub3B0aW9uc1thXT1iLGYuX3NldE9wdGlvbihhLGMsITApfSl9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24oYyxkKXt2YXIgZT0iX3NldCIrYy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStjLnNsaWNlKDEpO3RoaXNbZV0hPT1iJiZ0aGlzW2VdKGQpLHRoaXMuX3N1cGVyKGMsZCksdGhpcy5lbGVtZW50LmF0dHIoImRhdGEtIisoYS5tb2JpbGUubnN8fCIiKStjLnJlcGxhY2UoLyhbQS1aXSkvLCItJDEiKS50b0xvd2VyQ2FzZSgpLGQpfSxfc2V0VHlwZTpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIHVpLWNvbnRyb2xncm91cC12ZXJ0aWNhbCIpLmFkZENsYXNzKCJ1aS1jb250cm9sZ3JvdXAtIithKSx0aGlzLnJlZnJlc2goKX0sX3NldENvcm5lcnM6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixhKX0sX3NldFNoYWRvdzpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLXNoYWRvdyIsYSl9LF9zZXRNaW5pOmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktbWluaSIsYSl9LGNvbnRhaW5lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuY2hpbGRyZW4oIi51aS1jb250cm9sZ3JvdXAtY29udHJvbHMiKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudC5maW5kKCIudWktYnRuIikubm90KCIudWktc2xpZGVyLWhhbmRsZSIpLGM9dGhpcy5faW5pdGlhbFJlZnJlc2g7YS5tb2JpbGUuY2hlY2tib3hyYWRpbyYmdGhpcy5lbGVtZW50LmZpbmQoIjptb2JpbGUtY2hlY2tib3hyYWRpbyIpLmNoZWNrYm94cmFkaW8oInJlZnJlc2giKSx0aGlzLl9hZGRGaXJzdExhc3RDbGFzc2VzKGIsdGhpcy5vcHRpb25zLmV4Y2x1ZGVJbnZpc2libGU/dGhpcy5fZ2V0VmlzaWJsZXMoYixjKTpiLGMpLHRoaXMuX2luaXRpYWxSZWZyZXNoPSExfX0pLGEud2lkZ2V0KCJtb2JpbGUuY29udHJvbGdyb3VwIixhLm1vYmlsZS5jb250cm9sZ3JvdXAsYS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpLGEoZnVuY3Rpb24oKXthLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUuY29udHJvbGdyb3VwLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0LCEwKX0pfSl9KGEpLGZ1bmN0aW9uKGEsYil7YShjKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuZmluZCgiYSIpLmpxbUVuaGFuY2VhYmxlKCkubm90KCIudWktYnRuLCAudWktbGluay1pbmhlcml0LCA6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLmFkZENsYXNzKCJ1aS1saW5rIil9KX0oYSksZnVuY3Rpb24oYSxkKXtmdW5jdGlvbiBlKGEsYixjLGQpe3ZhciBlPWQ7cmV0dXJuIGE8Yj9lPWMrKGEtYikvMjplPU1hdGgubWluKE1hdGgubWF4KGMsZC1iLzIpLGMrYS1iKSxlfWZ1bmN0aW9uIGYoKXt2YXIgYz1hLm1vYmlsZS53aW5kb3c7cmV0dXJue3g6Yy5zY3JvbGxMZWZ0KCkseTpjLnNjcm9sbFRvcCgpLGN4OmIuaW5uZXJXaWR0aHx8Yy53aWR0aCgpLGN5OmIuaW5uZXJIZWlnaHR8fGMuaGVpZ2h0KCl9fWEud2lkZ2V0KCJtb2JpbGUucG9wdXAiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxvdmVybGF5VGhlbWU6bnVsbCxzaGFkb3c6ITAsY29ybmVyczohMCx0cmFuc2l0aW9uOiJub25lIixwb3NpdGlvblRvOiJvcmlnaW4iLHRvbGVyYW5jZTpudWxsLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0ncG9wdXAnKSIsY2xvc2VMaW5rU2VsZWN0b3I6ImE6anFtRGF0YShyZWw9J2JhY2snKSIsY2xvc2VMaW5rRXZlbnRzOiJjbGljay5wb3B1cCIsbmF2aWdhdGVFdmVudHM6Im5hdmlnYXRlLnBvcHVwIixjbG9zZUV2ZW50czoibmF2aWdhdGUucG9wdXAgcGFnZWJlZm9yZWNoYW5nZS5wb3B1cCIsZGlzbWlzc2libGU6ITAsaGlzdG9yeTohYS5tb2JpbGUuYnJvd3Nlci5vbGRJRX0sX2VhdEV2ZW50QW5kQ2xvc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHRoaXMub3B0aW9ucy5kaXNtaXNzaWJsZSYmdGhpcy5jbG9zZSgpLCExfSxfcmVzaXplU2NyZWVuOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fdWkuY29udGFpbmVyLm91dGVySGVpZ2h0KCEwKTt0aGlzLl91aS5zY3JlZW4ucmVtb3ZlQXR0cigic3R5bGUiKSxhPnRoaXMuX3VpLnNjcmVlbi5oZWlnaHQoKSYmdGhpcy5fdWkuc2NyZWVuLmhlaWdodChhKX0sX2hhbmRsZVdpbmRvd0tleVVwOmZ1bmN0aW9uKGIpe2lmKHRoaXMuX2lzT3BlbiYmYi5rZXlDb2RlPT09YS5tb2JpbGUua2V5Q29kZS5FU0NBUEUpcmV0dXJuIHRoaXMuX2VhdEV2ZW50QW5kQ2xvc2UoYil9LF9leHBlY3RSZXNpemVFdmVudDpmdW5jdGlvbigpe3ZhciBiPWYoKTtpZih0aGlzLl9yZXNpemVEYXRhKXtpZihiLng9PT10aGlzLl9yZXNpemVEYXRhLndpbkNvb3Jkcy54JiZiLnk9PT10aGlzLl9yZXNpemVEYXRhLndpbkNvb3Jkcy55JiZiLmN4PT09dGhpcy5fcmVzaXplRGF0YS53aW5Db29yZHMuY3gmJmIuY3k9PT10aGlzLl9yZXNpemVEYXRhLndpbkNvb3Jkcy5jeSlyZXR1cm4hMTtjbGVhclRpbWVvdXQodGhpcy5fcmVzaXplRGF0YS50aW1lb3V0SWQpfXJldHVybiB0aGlzLl9yZXNpemVEYXRhPXt0aW1lb3V0SWQ6c2V0VGltZW91dChhLnByb3h5KHRoaXMsIl9yZXNpemVUaW1lb3V0IiksMjAwKSx3aW5Db29yZHM6Yn0sITB9LF9yZXNpemVUaW1lb3V0OmZ1bmN0aW9uKCl7dGhpcy5faXNPcGVuP3RoaXMuX2V4cGVjdFJlc2l6ZUV2ZW50KCl8fCh0aGlzLl91aS5jb250YWluZXIuaGFzQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpJiYodGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC1oaWRkZW4iKSx0aGlzLnJlcG9zaXRpb24oe3Bvc2l0aW9uVG86IndpbmRvdyJ9KSx0aGlzLl9pZ25vcmVSZXNpemVFdmVudHMoKSksdGhpcy5fcmVzaXplU2NyZWVuKCksdGhpcy5fcmVzaXplRGF0YT1udWxsLHRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcz0hMSk6KHRoaXMuX3Jlc2l6ZURhdGE9bnVsbCx0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M9ITEpfSxfaWdub3JlUmVzaXplRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLl9pZ25vcmVSZXNpemVUbyYmY2xlYXJUaW1lb3V0KHRoaXMuX2lnbm9yZVJlc2l6ZVRvKSx0aGlzLl9pZ25vcmVSZXNpemVUbz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5faWdub3JlUmVzaXplVG89MH0sMWUzKX0sX2hhbmRsZVdpbmRvd1Jlc2l6ZTpmdW5jdGlvbihhKXt0aGlzLl9pc09wZW4mJnRoaXMuX2lnbm9yZVJlc2l6ZVRvPT09MCYmKHRoaXMuX2V4cGVjdFJlc2l6ZUV2ZW50KCl8fHRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcykmJiF0aGlzLl91aS5jb250YWluZXIuaGFzQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpJiZ0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpLnJlbW92ZUF0dHIoInN0eWxlIil9LF9oYW5kbGVXaW5kb3dPcmllbnRhdGlvbmNoYW5nZTpmdW5jdGlvbihhKXshdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzJiZ0aGlzLl9pc09wZW4mJnRoaXMuX2lnbm9yZVJlc2l6ZVRvPT09MCYmKHRoaXMuX2V4cGVjdFJlc2l6ZUV2ZW50KCksdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzPSEwKX0sX2hhbmRsZURvY3VtZW50Rm9jdXNJbjpmdW5jdGlvbihiKXt2YXIgZD1iLnRhcmdldCxlLGY9dGhpcy5fdWk7aWYoIXRoaXMuX2lzT3BlbilyZXR1cm47aWYoZCE9PWYuY29udGFpbmVyWzBdKXtlPWEoYi50YXJnZXQpO2lmKDA9PT1lLnBhcmVudHMoKS5maWx0ZXIoZi5jb250YWluZXJbMF0pLmxlbmd0aClyZXR1cm4gYShjLmFjdGl2ZUVsZW1lbnQpLm9uZSgiZm9jdXMiLGZ1bmN0aW9uKGEpe2UuYmx1cigpfSksZi5mb2N1c0VsZW1lbnQuZm9jdXMoKSxiLnByZXZlbnREZWZhdWx0KCksYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwhMTtmLmZvY3VzRWxlbWVudFswXT09PWYuY29udGFpbmVyWzBdJiYoZi5mb2N1c0VsZW1lbnQ9ZSl9ZWxzZSBmLmZvY3VzRWxlbWVudCYmZi5mb2N1c0VsZW1lbnRbMF0hPT1mLmNvbnRhaW5lclswXSYmKGYuY29udGFpbmVyLmJsdXIoKSxmLmZvY3VzRWxlbWVudC5mb2N1cygpKTt0aGlzLl9pZ25vcmVSZXNpemVFdmVudHMoKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXtzY3JlZW46YSgiPGRpdiBjbGFzcz0ndWktc2NyZWVuLWhpZGRlbiB1aS1wb3B1cC1zY3JlZW4nPjwvZGl2PiIpLHBsYWNlaG9sZGVyOmEoIjxkaXYgc3R5bGU9J2Rpc3BsYXk6IG5vbmU7Jz48IS0tIHBsYWNlaG9sZGVyIC0tPjwvZGl2PiIpLGNvbnRhaW5lcjphKCI8ZGl2IGNsYXNzPSd1aS1wb3B1cC1jb250YWluZXIgdWktcG9wdXAtaGlkZGVuJz48L2Rpdj4iKX0sYz10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKSxlPXRoaXMuZWxlbWVudC5hdHRyKCJpZCIpLGY9dGhpczt0aGlzLm9wdGlvbnMuaGlzdG9yeT10aGlzLm9wdGlvbnMuaGlzdG9yeSYmYS5tb2JpbGUuYWpheEVuYWJsZWQmJmEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkLGMubGVuZ3RoPT09MCYmKGM9YSgiYm9keSIpKSx0aGlzLm9wdGlvbnMuY29udGFpbmVyPXRoaXMub3B0aW9ucy5jb250YWluZXJ8fGEubW9iaWxlLnBhZ2VDb250YWluZXIsYy5hcHBlbmQoYi5zY3JlZW4pLGIuY29udGFpbmVyLmluc2VydEFmdGVyKGIuc2NyZWVuKSxiLnBsYWNlaG9sZGVyLmluc2VydEFmdGVyKHRoaXMuZWxlbWVudCksZSYmKGIuc2NyZWVuLmF0dHIoImlkIixlKyItc2NyZWVuIiksYi5jb250YWluZXIuYXR0cigiaWQiLGUrIi1wb3B1cCIpLGIucGxhY2Vob2xkZXIuaHRtbCgiPCEtLSBwbGFjZWhvbGRlciBmb3IgIitlKyIgLS0+IikpLGIuY29udGFpbmVyLmFwcGVuZCh0aGlzLmVsZW1lbnQpLGIuZm9jdXNFbGVtZW50PWIuY29udGFpbmVyLHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktcG9wdXAiKSxhLmV4dGVuZCh0aGlzLHtfc2Nyb2xsVG9wOjAsX3BhZ2U6YyxfdWk6YixfZmFsbGJhY2tUcmFuc2l0aW9uOiIiLF9jdXJyZW50VHJhbnNpdGlvbjohMSxfcHJlcmVxczpudWxsLF9pc09wZW46ITEsX3RvbGVyYW5jZTpudWxsLF9yZXNpemVEYXRhOm51bGwsX2lnbm9yZVJlc2l6ZVRvOjAsX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzczohMX0pLGEuZWFjaCh0aGlzLm9wdGlvbnMsZnVuY3Rpb24oYSxiKXtmLm9wdGlvbnNbYV09ZCxmLl9zZXRPcHRpb24oYSxiLCEwKX0pLGIuc2NyZWVuLmJpbmQoInZjbGljayIsYS5wcm94eSh0aGlzLCJfZWF0RXZlbnRBbmRDbG9zZSIpKSx0aGlzLl9vbihhLm1vYmlsZS53aW5kb3cse29yaWVudGF0aW9uY2hhbmdlOmEucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd09yaWVudGF0aW9uY2hhbmdlIikscmVzaXplOmEucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd1Jlc2l6ZSIpLGtleXVwOmEucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd0tleVVwIil9KSx0aGlzLl9vbihhLm1vYmlsZS5kb2N1bWVudCx7Zm9jdXNpbjphLnByb3h5KHRoaXMsIl9oYW5kbGVEb2N1bWVudEZvY3VzSW4iKX0pfSxfYXBwbHlUaGVtZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9KGEuYXR0cigiY2xhc3MiKXx8IiIpLnNwbGl0KCIgIiksZT0hMCxmPW51bGwsZyxoPVN0cmluZyhiKTt3aGlsZShkLmxlbmd0aD4wKXtmPWQucG9wKCksZz0obmV3IFJlZ0V4cCgiXnVpLSIrYysiLShbYS16XSkkIikpLmV4ZWMoZik7aWYoZyYmZy5sZW5ndGg+MSl7Zj1nWzFdO2JyZWFrfWY9bnVsbH1iIT09ZiYmKGEucmVtb3ZlQ2xhc3MoInVpLSIrYysiLSIrZiksYiE9PW51bGwmJmIhPT0ibm9uZSImJmEuYWRkQ2xhc3MoInVpLSIrYysiLSIraCkpfSxfc2V0VGhlbWU6ZnVuY3Rpb24oYSl7dGhpcy5fYXBwbHlUaGVtZSh0aGlzLmVsZW1lbnQsYSwiYm9keSIpfSxfc2V0T3ZlcmxheVRoZW1lOmZ1bmN0aW9uKGEpe3RoaXMuX2FwcGx5VGhlbWUodGhpcy5fdWkuc2NyZWVuLGEsIm92ZXJsYXkiKSx0aGlzLl9pc09wZW4mJnRoaXMuX3VpLnNjcmVlbi5hZGRDbGFzcygiaW4iKX0sX3NldFNoYWRvdzpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLW92ZXJsYXktc2hhZG93IixhKX0sX3NldENvcm5lcnM6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixhKX0sX2FwcGx5VHJhbnNpdGlvbjpmdW5jdGlvbihiKXt0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3ModGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uKSxiJiZiIT09Im5vbmUiJiYodGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uPWEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uKGIpLHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbj09PSJub25lIiYmKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbj0iIiksdGhpcy5fdWkuY29udGFpbmVyLmFkZENsYXNzKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbikpfSxfc2V0VHJhbnNpdGlvbjpmdW5jdGlvbihhKXt0aGlzLl9jdXJyZW50VHJhbnNpdGlvbnx8dGhpcy5fYXBwbHlUcmFuc2l0aW9uKGEpfSxfc2V0VG9sZXJhbmNlOmZ1bmN0aW9uKGIpe3ZhciBjPXt0OjMwLHI6MTUsYjozMCxsOjE1fTtpZihiIT09ZCl7dmFyIGU9U3RyaW5nKGIpLnNwbGl0KCIsIik7YS5lYWNoKGUsZnVuY3Rpb24oYSxiKXtlW2FdPXBhcnNlSW50KGIsMTApfSk7c3dpdGNoKGUubGVuZ3RoKXtjYXNlIDE6aXNOYU4oZVswXSl8fChjLnQ9Yy5yPWMuYj1jLmw9ZVswXSk7YnJlYWs7Y2FzZSAyOmlzTmFOKGVbMF0pfHwoYy50PWMuYj1lWzBdKSxpc05hTihlWzFdKXx8KGMubD1jLnI9ZVsxXSk7YnJlYWs7Y2FzZSA0OmlzTmFOKGVbMF0pfHwoYy50PWVbMF0pLGlzTmFOKGVbMV0pfHwoYy5yPWVbMV0pLGlzTmFOKGVbMl0pfHwoYy5iPWVbMl0pLGlzTmFOKGVbM10pfHwoYy5sPWVbM10pO2JyZWFrO2RlZmF1bHQ6fX10aGlzLl90b2xlcmFuY2U9Y30sX3NldE9wdGlvbjpmdW5jdGlvbihiLGMpe3ZhciBlLGY9Il9zZXQiK2IuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYi5zbGljZSgxKTt0aGlzW2ZdIT09ZCYmdGhpc1tmXShjKSxlPVsiaW5pdFNlbGVjdG9yIiwiY2xvc2VMaW5rU2VsZWN0b3IiLCJjbG9zZUxpbmtFdmVudHMiLCJuYXZpZ2F0ZUV2ZW50cyIsImNsb3NlRXZlbnRzIiwiaGlzdG9yeSIsImNvbnRhaW5lciJdLGEubW9iaWxlLndpZGdldC5wcm90b3R5cGUuX3NldE9wdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyksYS5pbkFycmF5KGIsZSk9PT0tMSYmdGhpcy5lbGVtZW50LmF0dHIoImRhdGEtIisoYS5tb2JpbGUubnN8fCIiKStiLnJlcGxhY2UoLyhbQS1aXSkvLCItJDEiKS50b0xvd2VyQ2FzZSgpLGMpfSxfcGxhY2VtZW50Q29vcmRzOmZ1bmN0aW9uKGEpe3ZhciBiPWYoKSxkPXt4OnRoaXMuX3RvbGVyYW5jZS5sLHk6Yi55K3RoaXMuX3RvbGVyYW5jZS50LGN4OmIuY3gtdGhpcy5fdG9sZXJhbmNlLmwtdGhpcy5fdG9sZXJhbmNlLnIsY3k6Yi5jeS10aGlzLl90b2xlcmFuY2UudC10aGlzLl90b2xlcmFuY2UuYn0sZyxoO3RoaXMuX3VpLmNvbnRhaW5lci5jc3MoIm1heC13aWR0aCIsZC5jeCksZz17Y3g6dGhpcy5fdWkuY29udGFpbmVyLm91dGVyV2lkdGgoITApLGN5OnRoaXMuX3VpLmNvbnRhaW5lci5vdXRlckhlaWdodCghMCl9LGg9e3g6ZShkLmN4LGcuY3gsZC54LGEueCkseTplKGQuY3ksZy5jeSxkLnksYS55KX0saC55PU1hdGgubWF4KDAsaC55KTt2YXIgaT1jLmRvY3VtZW50RWxlbWVudCxqPWMuYm9keSxrPU1hdGgubWF4KGkuY2xpZW50SGVpZ2h0LGouc2Nyb2xsSGVpZ2h0LGoub2Zmc2V0SGVpZ2h0LGkuc2Nyb2xsSGVpZ2h0LGkub2Zmc2V0SGVpZ2h0KTtyZXR1cm4gaC55LT1NYXRoLm1pbihoLnksTWF0aC5tYXgoMCxoLnkrZy5jeS1rKSkse2xlZnQ6aC54LHRvcDpoLnl9fSxfY3JlYXRlUHJlcmVxczpmdW5jdGlvbihiLGMsZCl7dmFyIGU9dGhpcyxmO2Y9e3NjcmVlbjphLkRlZmVycmVkKCksY29udGFpbmVyOmEuRGVmZXJyZWQoKX0sZi5zY3JlZW4udGhlbihmdW5jdGlvbigpe2Y9PT1lLl9wcmVyZXFzJiZiKCl9KSxmLmNvbnRhaW5lci50aGVuKGZ1bmN0aW9uKCl7Zj09PWUuX3ByZXJlcXMmJmMoKX0pLGEud2hlbihmLnNjcmVlbixmLmNvbnRhaW5lcikuZG9uZShmdW5jdGlvbigpe2Y9PT1lLl9wcmVyZXFzJiYoZS5fcHJlcmVxcz1udWxsLGQoKSl9KSxlLl9wcmVyZXFzPWZ9LF9hbmltYXRlOmZ1bmN0aW9uKGIpe3RoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcyhiLmNsYXNzVG9SZW1vdmUpLmFkZENsYXNzKGIuc2NyZWVuQ2xhc3NUb0FkZCksYi5wcmVyZXFzLnNjcmVlbi5yZXNvbHZlKCk7aWYoYi50cmFuc2l0aW9uJiZiLnRyYW5zaXRpb24hPT0ibm9uZSIpe2IuYXBwbHlUcmFuc2l0aW9uJiZ0aGlzLl9hcHBseVRyYW5zaXRpb24oYi50cmFuc2l0aW9uKTtpZih0aGlzLl9mYWxsYmFja1RyYW5zaXRpb24pe3RoaXMuX3VpLmNvbnRhaW5lci5hbmltYXRpb25Db21wbGV0ZShhLnByb3h5KGIucHJlcmVxcy5jb250YWluZXIsInJlc29sdmUiKSkuYWRkQ2xhc3MoYi5jb250YWluZXJDbGFzc1RvQWRkKS5yZW1vdmVDbGFzcyhiLmNsYXNzVG9SZW1vdmUpO3JldHVybn19dGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKGIuY2xhc3NUb1JlbW92ZSksYi5wcmVyZXFzLmNvbnRhaW5lci5yZXNvbHZlKCl9LF9kZXNpcmVkQ29vcmRzOmZ1bmN0aW9uKGIpe3ZhciBjPW51bGwsZCxlPWYoKSxnPWIueCxoPWIueSxpPWIucG9zaXRpb25UbztpZihpJiZpIT09Im9yaWdpbiIpaWYoaT09PSJ3aW5kb3ciKWc9ZS5jeC8yK2UueCxoPWUuY3kvMitlLnk7ZWxzZXt0cnl7Yz1hKGkpfWNhdGNoKGope2M9bnVsbH1jJiYoYy5maWx0ZXIoIjp2aXNpYmxlIiksYy5sZW5ndGg9PT0wJiYoYz1udWxsKSl9YyYmKGQ9Yy5vZmZzZXQoKSxnPWQubGVmdCtjLm91dGVyV2lkdGgoKS8yLGg9ZC50b3ArYy5vdXRlckhlaWdodCgpLzIpO2lmKGEudHlwZShnKSE9PSJudW1iZXIifHxpc05hTihnKSlnPWUuY3gvMitlLng7aWYoYS50eXBlKGgpIT09Im51bWJlciJ8fGlzTmFOKGgpKWg9ZS5jeS8yK2UueTtyZXR1cm57eDpnLHk6aH19LF9yZXBvc2l0aW9uOmZ1bmN0aW9uKGEpe2E9e3g6YS54LHk6YS55LHBvc2l0aW9uVG86YS5wb3NpdGlvblRvfSx0aGlzLl90cmlnZ2VyKCJiZWZvcmVwb3NpdGlvbiIsYSksdGhpcy5fdWkuY29udGFpbmVyLm9mZnNldCh0aGlzLl9wbGFjZW1lbnRDb29yZHModGhpcy5fZGVzaXJlZENvb3JkcyhhKSkpfSxyZXBvc2l0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuX2lzT3BlbiYmdGhpcy5fcmVwb3NpdGlvbihhKX0sX29wZW5QcmVyZXFzQ29tcGxldGU6ZnVuY3Rpb24oKXt0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3MoInVpLXBvcHVwLWFjdGl2ZSIpLHRoaXMuX2lzT3Blbj0hMCx0aGlzLl9yZXNpemVTY3JlZW4oKSx0aGlzLl91aS5jb250YWluZXIuYXR0cigidGFiaW5kZXgiLCIwIikuZm9jdXMoKSx0aGlzLl9pZ25vcmVSZXNpemVFdmVudHMoKSx0aGlzLl90cmlnZ2VyKCJhZnRlcm9wZW4iKX0sX29wZW46ZnVuY3Rpb24oYyl7dmFyIGQ9YS5leHRlbmQoe30sdGhpcy5vcHRpb25zLGMpLGU9ZnVuY3Rpb24oKXt2YXIgYT1iLGM9bmF2aWdhdG9yLnVzZXJBZ2VudCxkPWMubWF0Y2goL0FwcGxlV2ViS2l0XC8oWzAtOVwuXSspLyksZT0hIWQmJmRbMV0sZj1jLm1hdGNoKC9BbmRyb2lkIChcZCsoPzpcLlxkKykpLyksZz0hIWYmJmZbMV0saD1jLmluZGV4T2YoIkNocm9tZSIpPi0xO3JldHVybiBmIT09bnVsbCYmZz09PSI0LjAiJiZlJiZlPjUzNC4xMyYmIWg/ITA6ITF9KCk7dGhpcy5fY3JlYXRlUHJlcmVxcyhhLm5vb3AsYS5ub29wLGEucHJveHkodGhpcywiX29wZW5QcmVyZXFzQ29tcGxldGUiKSksdGhpcy5fY3VycmVudFRyYW5zaXRpb249ZC50cmFuc2l0aW9uLHRoaXMuX2FwcGx5VHJhbnNpdGlvbihkLnRyYW5zaXRpb24pLHRoaXMub3B0aW9ucy50aGVtZXx8dGhpcy5fc2V0VGhlbWUodGhpcy5fcGFnZS5qcW1EYXRhKCJ0aGVtZSIpfHxhLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLl9wYWdlLCJjIikpLHRoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpLHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktcG9wdXAtaGlkZGVuIiksdGhpcy5fcmVwb3NpdGlvbihkKSx0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lJiZlJiZ0aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKS5hZGRDbGFzcygidWktcG9wdXAtb3BlbiIpLHRoaXMuX2FuaW1hdGUoe2FkZGl0aW9uYWxDb25kaXRpb246ITAsdHJhbnNpdGlvbjpkLnRyYW5zaXRpb24sY2xhc3NUb1JlbW92ZToiIixzY3JlZW5DbGFzc1RvQWRkOiJpbiIsY29udGFpbmVyQ2xhc3NUb0FkZDoiaW4iLGFwcGx5VHJhbnNpdGlvbjohMSxwcmVyZXFzOnRoaXMuX3ByZXJlcXN9KX0sX2Nsb3NlUHJlcmVxU2NyZWVuOmZ1bmN0aW9uKCl7dGhpcy5fdWkuc2NyZWVuLnJlbW92ZUNsYXNzKCJvdXQiKS5hZGRDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpfSxfY2xvc2VQcmVyZXFDb250YWluZXI6ZnVuY3Rpb24oKXt0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInJldmVyc2Ugb3V0IikuYWRkQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpLnJlbW92ZUF0dHIoInN0eWxlIil9LF9jbG9zZVByZXJlcXNEb25lOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zO3RoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVBdHRyKCJ0YWJpbmRleCIpLGEubW9iaWxlLnBvcHVwLmFjdGl2ZT1kLHRoaXMuX3RyaWdnZXIoImFmdGVyY2xvc2UiKX0sX2Nsb3NlOmZ1bmN0aW9uKGIpe3RoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktcG9wdXAtYWN0aXZlIiksdGhpcy5fcGFnZS5yZW1vdmVDbGFzcygidWktcG9wdXAtb3BlbiIpLHRoaXMuX2lzT3Blbj0hMSx0aGlzLl9jcmVhdGVQcmVyZXFzKGEucHJveHkodGhpcywiX2Nsb3NlUHJlcmVxU2NyZWVuIiksYS5wcm94eSh0aGlzLCJfY2xvc2VQcmVyZXFDb250YWluZXIiKSxhLnByb3h5KHRoaXMsIl9jbG9zZVByZXJlcXNEb25lIikpLHRoaXMuX2FuaW1hdGUoe2FkZGl0aW9uYWxDb25kaXRpb246dGhpcy5fdWkuc2NyZWVuLmhhc0NsYXNzKCJpbiIpLHRyYW5zaXRpb246Yj8ibm9uZSI6dGhpcy5fY3VycmVudFRyYW5zaXRpb24sY2xhc3NUb1JlbW92ZToiaW4iLHNjcmVlbkNsYXNzVG9BZGQ6Im91dCIsY29udGFpbmVyQ2xhc3NUb0FkZDoicmV2ZXJzZSBvdXQiLGFwcGx5VHJhbnNpdGlvbjohMCxwcmVyZXFzOnRoaXMuX3ByZXJlcXN9KX0sX3VuZW5oYW5jZTpmdW5jdGlvbigpe3RoaXMuX3NldFRoZW1lKCJub25lIiksdGhpcy5lbGVtZW50LmRldGFjaCgpLmluc2VydEFmdGVyKHRoaXMuX3VpLnBsYWNlaG9sZGVyKS5yZW1vdmVDbGFzcygidWktcG9wdXAgdWktb3ZlcmxheS1zaGFkb3cgdWktY29ybmVyLWFsbCIpLHRoaXMuX3VpLnNjcmVlbi5yZW1vdmUoKSx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlKCksdGhpcy5fdWkucGxhY2Vob2xkZXIucmVtb3ZlKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7YS5tb2JpbGUucG9wdXAuYWN0aXZlPT09dGhpcz8odGhpcy5lbGVtZW50Lm9uZSgicG9wdXBhZnRlcmNsb3NlIixhLnByb3h5KHRoaXMsIl91bmVuaGFuY2UiKSksdGhpcy5jbG9zZSgpKTp0aGlzLl91bmVuaGFuY2UoKX0sX2Nsb3NlUG9wdXA6ZnVuY3Rpb24oYyxkKXt2YXIgZSxmLGc9dGhpcy5vcHRpb25zLGg9ITE7Yi5zY3JvbGxUbygwLHRoaXMuX3Njcm9sbFRvcCksYyYmYy50eXBlPT09InBhZ2ViZWZvcmVjaGFuZ2UiJiZkJiYodHlwZW9mIGQudG9QYWdlPT0ic3RyaW5nIj9lPWQudG9QYWdlOmU9ZC50b1BhZ2UuanFtRGF0YSgidXJsIiksZT1hLm1vYmlsZS5wYXRoLnBhcnNlVXJsKGUpLGY9ZS5wYXRobmFtZStlLnNlYXJjaCtlLmhhc2gsdGhpcy5fbXlVcmwhPT1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShmKT9oPSEwOmMucHJldmVudERlZmF1bHQoKSksZy5jb250YWluZXIudW5iaW5kKGcuY2xvc2VFdmVudHMpLHRoaXMuZWxlbWVudC51bmRlbGVnYXRlKGcuY2xvc2VMaW5rU2VsZWN0b3IsZy5jbG9zZUxpbmtFdmVudHMpLHRoaXMuX2Nsb3NlKGgpfSxfYmluZENvbnRhaW5lckNsb3NlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmNvbnRhaW5lci5vbmUodGhpcy5vcHRpb25zLmNsb3NlRXZlbnRzLGEucHJveHkodGhpcywiX2Nsb3NlUG9wdXAiKSl9LG9wZW46ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcyxlPXRoaXMub3B0aW9ucyxmLGcsaCxpLGosaztpZihhLm1vYmlsZS5wb3B1cC5hY3RpdmUpcmV0dXJuO2EubW9iaWxlLnBvcHVwLmFjdGl2ZT10aGlzLHRoaXMuX3Njcm9sbFRvcD1hLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCk7aWYoIWUuaGlzdG9yeSl7ZC5fb3BlbihjKSxkLl9iaW5kQ29udGFpbmVyQ2xvc2UoKSxkLmVsZW1lbnQuZGVsZWdhdGUoZS5jbG9zZUxpbmtTZWxlY3RvcixlLmNsb3NlTGlua0V2ZW50cyxmdW5jdGlvbihhKXtkLmNsb3NlKCksYS5wcmV2ZW50RGVmYXVsdCgpfSk7cmV0dXJufWs9YS5tb2JpbGUudXJsSGlzdG9yeSxnPWEubW9iaWxlLmRpYWxvZ0hhc2hLZXksaD1hLm1vYmlsZS5hY3RpdmVQYWdlLGk9aC5pcygiLnVpLWRpYWxvZyIpLHRoaXMuX215VXJsPWY9ay5nZXRBY3RpdmUoKS51cmwsaj1mLmluZGV4T2YoZyk+LTEmJiFpJiZrLmFjdGl2ZUluZGV4PjA7aWYoail7ZC5fb3BlbihjKSxkLl9iaW5kQ29udGFpbmVyQ2xvc2UoKTtyZXR1cm59Zi5pbmRleE9mKGcpPT09LTEmJiFpP2Y9ZisoZi5pbmRleE9mKCIjIik+LTE/ZzoiIyIrZyk6Zj1hLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKS5oYXNoK2csay5hY3RpdmVJbmRleD09PTAmJmY9PT1rLmluaXRpYWxEc3QmJihmKz1nKSxhKGIpLm9uZSgiYmVmb3JlbmF2aWdhdGUiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxkLl9vcGVuKGMpLGQuX2JpbmRDb250YWluZXJDbG9zZSgpfSksdGhpcy51cmxBbHRlcmVkPSEwLGEubW9iaWxlLm5hdmlnYXRlKGYse3JvbGU6ImRpYWxvZyJ9KX0sY2xvc2U6ZnVuY3Rpb24oKXtpZihhLm1vYmlsZS5wb3B1cC5hY3RpdmUhPT10aGlzKXJldHVybjt0aGlzLl9zY3JvbGxUb3A9YS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpLHRoaXMub3B0aW9ucy5oaXN0b3J5JiZ0aGlzLnVybEFsdGVyZWQ/KGEubW9iaWxlLmJhY2soKSx0aGlzLnVybEFsdGVyZWQ9ITEpOnRoaXMuX2Nsb3NlUG9wdXAoKX19KSxhLm1vYmlsZS5wb3B1cC5oYW5kbGVMaW5rPWZ1bmN0aW9uKGIpe3ZhciBjPWIuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0ncGFnZScpIiksZD1jLmxlbmd0aD09PTA/YSgiYm9keSIpOmMsZT1hKGEubW9iaWxlLnBhdGgucGFyc2VVcmwoYi5hdHRyKCJocmVmIikpLmhhc2gsZFswXSksZjtlLmRhdGEoIm1vYmlsZS1wb3B1cCIpJiYoZj1iLm9mZnNldCgpLGUucG9wdXAoIm9wZW4iLHt4OmYubGVmdCtiLm91dGVyV2lkdGgoKS8yLHk6Zi50b3ArYi5vdXRlckhlaWdodCgpLzIsdHJhbnNpdGlvbjpiLmpxbURhdGEoInRyYW5zaXRpb24iKSxwb3NpdGlvblRvOmIuanFtRGF0YSgicG9zaXRpb24tdG8iKX0pKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGM9Yi5wYXJlbnQoKS5wYXJlbnQoKTtjLmhhc0NsYXNzKCJ1aS1saSIpJiYoYj1jLnBhcmVudCgpKSxiLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0sMzAwKX0sYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWJlZm9yZWNoYW5nZSIsZnVuY3Rpb24oYixjKXtjLm9wdGlvbnMucm9sZT09PSJwb3B1cCImJihhLm1vYmlsZS5wb3B1cC5oYW5kbGVMaW5rKGMub3B0aW9ucy5saW5rKSxiLnByZXZlbnREZWZhdWx0KCkpfSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLnBvcHVwLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0LCEwKX0pfShhKSxmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KCJtb2JpbGUucGFuZWwiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7Y2xhc3Nlczp7cGFuZWw6InVpLXBhbmVsIixwYW5lbE9wZW46InVpLXBhbmVsLW9wZW4iLHBhbmVsQ2xvc2VkOiJ1aS1wYW5lbC1jbG9zZWQiLHBhbmVsRml4ZWQ6InVpLXBhbmVsLWZpeGVkIixwYW5lbElubmVyOiJ1aS1wYW5lbC1pbm5lciIsbW9kYWw6InVpLXBhbmVsLWRpc21pc3MiLG1vZGFsT3BlbjoidWktcGFuZWwtZGlzbWlzcy1vcGVuIixwYWdlUGFuZWw6InVpLXBhZ2UtcGFuZWwiLHBhZ2VQYW5lbE9wZW46InVpLXBhZ2UtcGFuZWwtb3BlbiIsY29udGVudFdyYXA6InVpLXBhbmVsLWNvbnRlbnQtd3JhcCIsY29udGVudFdyYXBPcGVuOiJ1aS1wYW5lbC1jb250ZW50LXdyYXAtb3BlbiIsY29udGVudFdyYXBDbG9zZWQ6InVpLXBhbmVsLWNvbnRlbnQtd3JhcC1jbG9zZWQiLGNvbnRlbnRGaXhlZFRvb2xiYXI6InVpLXBhbmVsLWNvbnRlbnQtZml4ZWQtdG9vbGJhciIsY29udGVudEZpeGVkVG9vbGJhck9wZW46InVpLXBhbmVsLWNvbnRlbnQtZml4ZWQtdG9vbGJhci1vcGVuIixjb250ZW50Rml4ZWRUb29sYmFyQ2xvc2VkOiJ1aS1wYW5lbC1jb250ZW50LWZpeGVkLXRvb2xiYXItY2xvc2VkIixhbmltYXRlOiJ1aS1wYW5lbC1hbmltYXRlIn0sYW5pbWF0ZTohMCx0aGVtZToiYyIscG9zaXRpb246ImxlZnQiLGRpc21pc3NpYmxlOiEwLGRpc3BsYXk6InJldmVhbCIsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdwYW5lbCcpIixzd2lwZUNsb3NlOiEwLHBvc2l0aW9uRml4ZWQ6ITF9LF9wYW5lbElEOm51bGwsX2Nsb3NlTGluazpudWxsLF9wYWdlOm51bGwsX21vZGFsOm51bGwsX3Bhbm5lbElubmVyOm51bGwsX3dyYXBwZXI6bnVsbCxfZml4ZWRUb29sYmFyOm51bGwsX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1iLmVsZW1lbnQsZD1jLmNsb3Nlc3QoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIpLGU9ZnVuY3Rpb24oKXt2YXIgYj1hLmRhdGEoZFswXSwibW9iaWxlUGFnZSIpLm9wdGlvbnMudGhlbWUsYz0idWktYm9keS0iK2I7cmV0dXJuIGN9LGY9ZnVuY3Rpb24oKXt2YXIgYT1jLmZpbmQoIi4iK2Iub3B0aW9ucy5jbGFzc2VzLnBhbmVsSW5uZXIpO3JldHVybiBhLmxlbmd0aD09PTAmJihhPWMuY2hpbGRyZW4oKS53cmFwQWxsKCc8ZGl2IGNsYXNzPSInK2Iub3B0aW9ucy5jbGFzc2VzLnBhbmVsSW5uZXIrJyIgLz4nKS5wYXJlbnQoKSksYX0sZz1mdW5jdGlvbigpe3ZhciBjPWQuZmluZCgiLiIrYi5vcHRpb25zLmNsYXNzZXMuY29udGVudFdyYXApO3JldHVybiBjLmxlbmd0aD09PTAmJihjPWQuY2hpbGRyZW4oIi51aS1oZWFkZXI6bm90KDpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpKSwgLnVpLWNvbnRlbnQ6bm90KDpqcW1EYXRhKHJvbGU9J3BvcHVwJykpLCAudWktZm9vdGVyOm5vdCg6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSkiKS53cmFwQWxsKCc8ZGl2IGNsYXNzPSInK2Iub3B0aW9ucy5jbGFzc2VzLmNvbnRlbnRXcmFwKyIgIitlKCkrJyIgLz4nKS5wYXJlbnQoKSxhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJiEhYi5vcHRpb25zLmFuaW1hdGUmJmMuYWRkQ2xhc3MoYi5vcHRpb25zLmNsYXNzZXMuYW5pbWF0ZSkpLGN9LGg9ZnVuY3Rpb24oKXt2YXIgYz1kLmZpbmQoIi4iK2Iub3B0aW9ucy5jbGFzc2VzLmNvbnRlbnRGaXhlZFRvb2xiYXIpO3JldHVybiBjLmxlbmd0aD09PTAmJihjPWQuZmluZCgiLnVpLWhlYWRlcjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpLCAudWktZm9vdGVyOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiKS5hZGRDbGFzcyhiLm9wdGlvbnMuY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyKSxhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJiEhYi5vcHRpb25zLmFuaW1hdGUmJmMuYWRkQ2xhc3MoYi5vcHRpb25zLmNsYXNzZXMuYW5pbWF0ZSkpLGN9O2EuZXh0ZW5kKHRoaXMse19wYW5lbElEOmMuYXR0cigiaWQiKSxfY2xvc2VMaW5rOmMuZmluZCgiOmpxbURhdGEocmVsPSdjbG9zZScpIiksX3BhZ2U6Yy5jbG9zZXN0KCI6anFtRGF0YShyb2xlPSdwYWdlJykiKSxfcGFnZVRoZW1lOmUoKSxfcGFubmVsSW5uZXI6ZigpLF93cmFwcGVyOmcoKSxfZml4ZWRUb29sYmFyOmgoKX0pLGIuX2FkZFBhbmVsQ2xhc3NlcygpLGIuX3dyYXBwZXIuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMuY29udGVudFdyYXBDbG9zZWQpLGIuX2ZpeGVkVG9vbGJhci5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyQ2xvc2VkKSxiLl9wYWdlLmFkZENsYXNzKGIub3B0aW9ucy5jbGFzc2VzLnBhZ2VQYW5lbCksYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiYhIWIub3B0aW9ucy5hbmltYXRlJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoYi5vcHRpb25zLmNsYXNzZXMuYW5pbWF0ZSksYi5fYmluZFVwZGF0ZUxheW91dCgpLGIuX2JpbmRDbG9zZUV2ZW50cygpLGIuX2JpbmRMaW5rTGlzdGVuZXJzKCksYi5fYmluZFBhZ2VFdmVudHMoKSwhYi5vcHRpb25zLmRpc21pc3NpYmxlfHxiLl9jcmVhdGVNb2RhbCgpLGIuX2JpbmRTd2lwZUV2ZW50cygpfSxfY3JlYXRlTW9kYWw6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcztjLl9tb2RhbD1hKCI8ZGl2IGNsYXNzPSciK2Mub3B0aW9ucy5jbGFzc2VzLm1vZGFsKyInIGRhdGEtcGFuZWxpZD0nIitjLl9wYW5lbElEKyInPjwvZGl2PiIpLm9uKCJtb3VzZWRvd24iLGZ1bmN0aW9uKCl7Yy5jbG9zZSgpfSkuYXBwZW5kVG8odGhpcy5fcGFnZSl9LF9nZXRQb3NEaXNwbGF5Q2xhc3NlczpmdW5jdGlvbihhKXtyZXR1cm4gYSsiLXBvc2l0aW9uLSIrdGhpcy5vcHRpb25zLnBvc2l0aW9uKyIgIithKyItZGlzcGxheS0iK3RoaXMub3B0aW9ucy5kaXNwbGF5fSxfZ2V0UGFuZWxDbGFzc2VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWwrIiAiK3RoaXMuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsKSsiICIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxDbG9zZWQ7cmV0dXJuIHRoaXMub3B0aW9ucy50aGVtZSYmKGErPSIgdWktYm9keS0iK3RoaXMub3B0aW9ucy50aGVtZSksIXRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkfHwoYSs9IiAiK3RoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsRml4ZWQpLGF9LF9hZGRQYW5lbENsYXNzZXM6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5fZ2V0UGFuZWxDbGFzc2VzKCkpfSxfYmluZENsb3NlRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLl9jbG9zZUxpbmsub24oImNsaWNrLnBhbmVsIixmdW5jdGlvbihiKXtyZXR1cm4gYi5wcmV2ZW50RGVmYXVsdCgpLGEuY2xvc2UoKSwhMX0pLGEuZWxlbWVudC5vbigiY2xpY2sucGFuZWwiLCJhOmpxbURhdGEoYWpheD0nZmFsc2UnKSIsZnVuY3Rpb24oYil7YS5jbG9zZSgpfSl9LF9wb3NpdGlvblBhbmVsOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWIuX3Bhbm5lbElubmVyLm91dGVySGVpZ2h0KCksZD1jPmEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpO2R8fCFiLm9wdGlvbnMucG9zaXRpb25GaXhlZD8oZCYmKGIuX3VuZml4UGFuZWwoKSxhLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoYykpLGIuX3Njcm9sbEludG9WaWV3KGMpKTpiLl9maXhQYW5lbCgpfSxfc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oYyl7YzxhKGIpLnNjcm9sbFRvcCgpJiZiLnNjcm9sbFRvKDAsMCl9LF9iaW5kRml4TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLl9vbihhKGIpLHt0aHJvdHRsZWRyZXNpemU6Il9wb3NpdGlvblBhbmVsIn0pfSxfdW5iaW5kRml4TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLl9vZmYoYShiKSwidGhyb3R0bGVkcmVzaXplIil9LF91bmZpeFBhbmVsOmZ1bmN0aW9uKCl7ISF0aGlzLm9wdGlvbnMucG9zaXRpb25GaXhlZCYmYS5zdXBwb3J0LmZpeGVkUG9zaXRpb24mJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbEZpeGVkKX0sX2ZpeFBhbmVsOmZ1bmN0aW9uKCl7ISF0aGlzLm9wdGlvbnMucG9zaXRpb25GaXhlZCYmYS5zdXBwb3J0LmZpeGVkUG9zaXRpb24mJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbEZpeGVkKX0sX2JpbmRVcGRhdGVMYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuZWxlbWVudC5vbigidXBkYXRlbGF5b3V0IixmdW5jdGlvbihiKXthLl9vcGVuJiZhLl9wb3NpdGlvblBhbmVsKCl9KX0sX2JpbmRMaW5rTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcztiLl9wYWdlLm9uKCJjbGljay5wYW5lbCIsImEiLGZ1bmN0aW9uKGMpe2lmKHRoaXMuaHJlZi5zcGxpdCgiIyIpWzFdPT09Yi5fcGFuZWxJRCYmYi5fcGFuZWxJRCE9PWQpe2MucHJldmVudERlZmF1bHQoKTt2YXIgZT1hKHRoaXMpO3JldHVybiBlLmhhc0NsYXNzKCJ1aS1saW5rIil8fChlLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxiLmVsZW1lbnQub25lKCJwYW5lbG9wZW4gcGFuZWxjbG9zZSIsZnVuY3Rpb24oKXtlLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pKSxiLnRvZ2dsZSgpLCExfX0pfSxfYmluZFN3aXBlRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuX21vZGFsP2EuZWxlbWVudC5hZGQoYS5fbW9kYWwpOmEuZWxlbWVudDshYS5vcHRpb25zLnN3aXBlQ2xvc2V8fChhLm9wdGlvbnMucG9zaXRpb249PT0ibGVmdCI/Yi5vbigic3dpcGVsZWZ0LnBhbmVsIixmdW5jdGlvbihiKXthLmNsb3NlKCl9KTpiLm9uKCJzd2lwZXJpZ2h0LnBhbmVsIixmdW5jdGlvbihiKXthLmNsb3NlKCl9KSl9LF9iaW5kUGFnZUV2ZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5fcGFnZS5vbigicGFuZWxiZWZvcmVvcGVuIixmdW5jdGlvbihiKXthLl9vcGVuJiZiLnRhcmdldCE9PWEuZWxlbWVudFswXSYmYS5jbG9zZSgpfSkub24oInBhZ2VoaWRlIixmdW5jdGlvbihiKXthLl9vcGVuJiZhLmNsb3NlKCEwKX0pLm9uKCJrZXl1cC5wYW5lbCIsZnVuY3Rpb24oYil7Yi5rZXlDb2RlPT09MjcmJmEuX29wZW4mJmEuY2xvc2UoKX0pfSxfb3BlbjohMSxfY29udGVudFdyYXBPcGVuQ2xhc3NlczpudWxsLF9maXhlZFRvb2xiYXJPcGVuQ2xhc3NlczpudWxsLF9tb2RhbE9wZW5DbGFzc2VzOm51bGwsb3BlbjpmdW5jdGlvbihiKXtpZighdGhpcy5fb3Blbil7dmFyIGM9dGhpcyxkPWMub3B0aW9ucyxlPWZ1bmN0aW9uKCl7Yy5fcGFnZS5vZmYoInBhbmVsY2xvc2UiKSxjLl9wYWdlLmpxbURhdGEoInBhbmVsIiwib3BlbiIpLCFiJiZhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJiEhZC5hbmltYXRlP2MuZWxlbWVudC5hZGQoYy5fd3JhcHBlcikub24oYy5fdHJhbnNpdGlvbkVuZEV2ZW50cyxmKTpzZXRUaW1lb3V0KGYsMCksYy5vcHRpb25zLnRoZW1lJiZjLm9wdGlvbnMuZGlzcGxheSE9PSJvdmVybGF5IiYmYy5fcGFnZS5yZW1vdmVDbGFzcyhjLl9wYWdlVGhlbWUpLmFkZENsYXNzKCJ1aS1ib2R5LSIrYy5vcHRpb25zLnRoZW1lKSxjLmVsZW1lbnQucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLnBhbmVsQ2xvc2VkKS5hZGRDbGFzcyhkLmNsYXNzZXMucGFuZWxPcGVuKSxjLl9jb250ZW50V3JhcE9wZW5DbGFzc2VzPWMuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKGQuY2xhc3Nlcy5jb250ZW50V3JhcCksYy5fd3JhcHBlci5yZW1vdmVDbGFzcyhkLmNsYXNzZXMuY29udGVudFdyYXBDbG9zZWQpLmFkZENsYXNzKGMuX2NvbnRlbnRXcmFwT3BlbkNsYXNzZXMrIiAiK2QuY2xhc3Nlcy5jb250ZW50V3JhcE9wZW4pLGMuX2ZpeGVkVG9vbGJhck9wZW5DbGFzc2VzPWMuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKGQuY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyKSxjLl9maXhlZFRvb2xiYXIucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLmNvbnRlbnRGaXhlZFRvb2xiYXJDbG9zZWQpLmFkZENsYXNzKGMuX2ZpeGVkVG9vbGJhck9wZW5DbGFzc2VzKyIgIitkLmNsYXNzZXMuY29udGVudEZpeGVkVG9vbGJhck9wZW4pLGMuX21vZGFsT3BlbkNsYXNzZXM9Yy5fZ2V0UG9zRGlzcGxheUNsYXNzZXMoZC5jbGFzc2VzLm1vZGFsKSsiICIrZC5jbGFzc2VzLm1vZGFsT3BlbixjLl9tb2RhbCYmYy5fbW9kYWwuYWRkQ2xhc3MoYy5fbW9kYWxPcGVuQ2xhc3Nlcyl9LGY9ZnVuY3Rpb24oKXtjLmVsZW1lbnQuYWRkKGMuX3dyYXBwZXIpLm9mZihjLl90cmFuc2l0aW9uRW5kRXZlbnRzLGYpLGMuX3BhZ2UuYWRkQ2xhc3MoZC5jbGFzc2VzLnBhZ2VQYW5lbE9wZW4pLGMuX3Bvc2l0aW9uUGFuZWwoKSxjLl9iaW5kRml4TGlzdGVuZXIoKSxjLl90cmlnZ2VyKCJvcGVuIil9O3RoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZS1hY3RpdmUiKS5sZW5ndGg8MCYmKGI9ITApLGMuX3RyaWdnZXIoImJlZm9yZW9wZW4iKSxjLl9wYWdlLmpxbURhdGEoInBhbmVsIik9PT0ib3BlbiI/Yy5fcGFnZS5vbigicGFuZWxjbG9zZSIsZnVuY3Rpb24oKXtlKCl9KTplKCksYy5fb3Blbj0hMH19LGNsb3NlOmZ1bmN0aW9uKGIpe2lmKHRoaXMuX29wZW4pe3ZhciBjPXRoaXMub3B0aW9ucyxkPXRoaXMsZT1mdW5jdGlvbigpeyFiJiZhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJiEhYy5hbmltYXRlP2QuZWxlbWVudC5hZGQoZC5fd3JhcHBlcikub24oZC5fdHJhbnNpdGlvbkVuZEV2ZW50cyxmKTpzZXRUaW1lb3V0KGYsMCksZC5fcGFnZS5yZW1vdmVDbGFzcyhjLmNsYXNzZXMucGFnZVBhbmVsT3BlbiksZC5lbGVtZW50LnJlbW92ZUNsYXNzKGMuY2xhc3Nlcy5wYW5lbE9wZW4pLGQuX3dyYXBwZXIucmVtb3ZlQ2xhc3MoYy5jbGFzc2VzLmNvbnRlbnRXcmFwT3BlbiksZC5fZml4ZWRUb29sYmFyLnJlbW92ZUNsYXNzKGMuY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyT3BlbiksZC5fbW9kYWwmJmQuX21vZGFsLnJlbW92ZUNsYXNzKGQuX21vZGFsT3BlbkNsYXNzZXMpfSxmPWZ1bmN0aW9uKCl7ZC5vcHRpb25zLnRoZW1lJiZkLm9wdGlvbnMuZGlzcGxheSE9PSJvdmVybGF5IiYmZC5fcGFnZS5yZW1vdmVDbGFzcygidWktYm9keS0iK2Qub3B0aW9ucy50aGVtZSkuYWRkQ2xhc3MoZC5fcGFnZVRoZW1lKSxkLmVsZW1lbnQuYWRkKGQuX3dyYXBwZXIpLm9mZihkLl90cmFuc2l0aW9uRW5kRXZlbnRzLGYpLGQuZWxlbWVudC5hZGRDbGFzcyhjLmNsYXNzZXMucGFuZWxDbG9zZWQpLGQuX3dyYXBwZXIucmVtb3ZlQ2xhc3MoZC5fY29udGVudFdyYXBPcGVuQ2xhc3NlcykuYWRkQ2xhc3MoYy5jbGFzc2VzLmNvbnRlbnRXcmFwQ2xvc2VkKSxkLl9maXhlZFRvb2xiYXIucmVtb3ZlQ2xhc3MoZC5fZml4ZWRUb29sYmFyT3BlbkNsYXNzZXMpLmFkZENsYXNzKGMuY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyQ2xvc2VkKSxkLl9maXhQYW5lbCgpLGQuX3VuYmluZEZpeExpc3RlbmVyKCksYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KCksZC5fcGFnZS5qcW1SZW1vdmVEYXRhKCJwYW5lbCIpLGQuX3RyaWdnZXIoImNsb3NlIil9O3RoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZS1hY3RpdmUiKS5sZW5ndGg8MCYmKGI9ITApLGQuX3RyaWdnZXIoImJlZm9yZWNsb3NlIiksZSgpLGQuX29wZW49ITF9fSx0b2dnbGU6ZnVuY3Rpb24oYSl7dGhpc1t0aGlzLl9vcGVuPyJjbG9zZSI6Im9wZW4iXSgpfSxfdHJhbnNpdGlvbkVuZEV2ZW50czoid2Via2l0VHJhbnNpdGlvbkVuZCBvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCB0cmFuc2l0aW9uZW5kIG1zVHJhbnNpdGlvbkVuZCIsX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMuY2xhc3NlcyxjPXRoaXMub3B0aW9ucy50aGVtZSxkPXRoaXMuZWxlbWVudC5zaWJsaW5ncygiLiIrYi5wYW5lbCkubGVuZ3RoO2Q/dGhpcy5fb3BlbiYmKHRoaXMuX3dyYXBwZXIucmVtb3ZlQ2xhc3MoYi5jb250ZW50V3JhcE9wZW4pLHRoaXMuX2ZpeGVkVG9vbGJhci5yZW1vdmVDbGFzcyhiLmNvbnRlbnRGaXhlZFRvb2xiYXJPcGVuKSx0aGlzLl9wYWdlLmpxbVJlbW92ZURhdGEoInBhbmVsIiksdGhpcy5fcGFnZS5yZW1vdmVDbGFzcyhiLnBhZ2VQYW5lbE9wZW4pLGMmJnRoaXMuX3BhZ2UucmVtb3ZlQ2xhc3MoInVpLWJvZHktIitjKS5hZGRDbGFzcyh0aGlzLl9wYWdlVGhlbWUpKToodGhpcy5fd3JhcHBlci5jaGlsZHJlbigpLnVud3JhcCgpLHRoaXMuX3BhZ2UuZmluZCgiYSIpLnVuYmluZCgicGFuZWxvcGVuIHBhbmVsY2xvc2UiKSx0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKGIucGFnZVBhbmVsKSx0aGlzLl9vcGVuJiYodGhpcy5fcGFnZS5qcW1SZW1vdmVEYXRhKCJwYW5lbCIpLHRoaXMuX3BhZ2UucmVtb3ZlQ2xhc3MoYi5wYWdlUGFuZWxPcGVuKSxjJiZ0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKCJ1aS1ib2R5LSIrYykuYWRkQ2xhc3ModGhpcy5fcGFnZVRoZW1lKSxhLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoKSkpLHRoaXMuX3Bhbm5lbElubmVyLmNoaWxkcmVuKCkudW53cmFwKCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFt0aGlzLl9nZXRQYW5lbENsYXNzZXMoKSxiLnBhbmVsQW5pbWF0ZV0uam9pbigiICIpKS5vZmYoInN3aXBlbGVmdC5wYW5lbCBzd2lwZXJpZ2h0LnBhbmVsIikub2ZmKCJwYW5lbGJlZm9yZW9wZW4iKS5vZmYoInBhbmVsaGlkZSIpLm9mZigia2V5dXAucGFuZWwiKS5vZmYoInVwZGF0ZWxheW91dCIpLHRoaXMuX2Nsb3NlTGluay5vZmYoImNsaWNrLnBhbmVsIiksdGhpcy5fbW9kYWwmJnRoaXMuX21vZGFsLnJlbW92ZSgpLHRoaXMuZWxlbWVudC5vZmYodGhpcy5fdHJhbnNpdGlvbkVuZEV2ZW50cykucmVtb3ZlQ2xhc3MoW2IucGFuZWxVbmZpeGVkLGIucGFuZWxDbG9zZWQsYi5wYW5lbE9wZW5dLmpvaW4oIiAiKSl9fSksYShjKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUucGFuZWwucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS50YWJsZSIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntjbGFzc2VzOnt0YWJsZToidWktdGFibGUifSxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J3RhYmxlJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPXRoaXMuZWxlbWVudC5maW5kKCJ0aGVhZCB0ciIpO3RoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy50YWJsZSksYi5oZWFkZXJzPXRoaXMuZWxlbWVudC5maW5kKCJ0cjplcSgwKSIpLmNoaWxkcmVuKCksYi5hbGxIZWFkZXJzPWIuaGVhZGVycy5hZGQoYy5jaGlsZHJlbigpKSxjLmVhY2goZnVuY3Rpb24oKXt2YXIgZD0wO2EodGhpcykuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKGUpe3ZhciBmPXBhcnNlSW50KGEodGhpcykuYXR0cigiY29sc3BhbiIpLDEwKSxnPSI6bnRoLWNoaWxkKCIrKGQrMSkrIikiO2EodGhpcykuanFtRGF0YSgiY29sc3RhcnQiLGQrMSk7aWYoZilmb3IodmFyIGg9MDtoPGYtMTtoKyspZCsrLGcrPSIsIDpudGgtY2hpbGQoIisoZCsxKSsiKSI7YSh0aGlzKS5qcW1EYXRhKCJjZWxscyIsYi5lbGVtZW50LmZpbmQoInRyIikubm90KGMuZXEoMCkpLm5vdCh0aGlzKS5jaGlsZHJlbihnKSksZCsrfSl9KX19KSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUudGFibGUucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMubW9kZT0iY29sdW1udG9nZ2xlIixhLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jb2x1bW5CdG5UaGVtZT1udWxsLGEubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNvbHVtblBvcHVwVGhlbWU9bnVsbCxhLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jb2x1bW5CdG5UZXh0PSJDb2x1bW5zLi4uIixhLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jbGFzc2VzPWEuZXh0ZW5kKGEubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNsYXNzZXMse3BvcHVwOiJ1aS10YWJsZS1jb2x1bW50b2dnbGUtcG9wdXAiLGNvbHVtbkJ0bjoidWktdGFibGUtY29sdW1udG9nZ2xlLWJ0biIscHJpb3JpdHlQcmVmaXg6InVpLXRhYmxlLXByaW9yaXR5LSIsY29sdW1uVG9nZ2xlVGFibGU6InVpLXRhYmxlLWNvbHVtbnRvZ2dsZSJ9KSxhLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgiOmpxbURhdGEocm9sZT0ndGFibGUnKSIsInRhYmxlY3JlYXRlIixmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksYz1iLmRhdGEoIm1vYmlsZS10YWJsZSIpLGQ9Yy5vcHRpb25zLGU9YS5tb2JpbGUubnM7aWYoZC5tb2RlIT09ImNvbHVtbnRvZ2dsZSIpcmV0dXJuO2MuZWxlbWVudC5hZGRDbGFzcyhkLmNsYXNzZXMuY29sdW1uVG9nZ2xlVGFibGUpO3ZhciBmPShiLmF0dHIoImlkIil8fGQuY2xhc3Nlcy5wb3B1cCkrIi1wb3B1cCIsZz1hKCI8YSBocmVmPScjIitmKyInIGNsYXNzPSciK2QuY2xhc3Nlcy5jb2x1bW5CdG4rIicgZGF0YS0iK2UrInJlbD0ncG9wdXAnIGRhdGEtIitlKyJtaW5pPSd0cnVlJz4iK2QuY29sdW1uQnRuVGV4dCsiPC9hPiIpLGg9YSgiPGRpdiBkYXRhLSIrZSsicm9sZT0ncG9wdXAnIGRhdGEtIitlKyJyb2xlPSdmaWVsZGNvbnRhaW4nIGNsYXNzPSciK2QuY2xhc3Nlcy5wb3B1cCsiJyBpZD0nIitmKyInPjwvZGl2PiIpLGk9YSgiPGZpZWxkc2V0IGRhdGEtIitlKyJyb2xlPSdjb250cm9sZ3JvdXAnPjwvZmllbGRzZXQ+Iik7Yy5oZWFkZXJzLm5vdCgidGQiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKS5qcW1EYXRhKCJwcmlvcml0eSIpLGM9YSh0aGlzKS5hZGQoYSh0aGlzKS5qcW1EYXRhKCJjZWxscyIpKTtiJiYoYy5hZGRDbGFzcyhkLmNsYXNzZXMucHJpb3JpdHlQcmVmaXgrYiksYSgiPGxhYmVsPjxpbnB1dCB0eXBlPSdjaGVja2JveCcgY2hlY2tlZCAvPiIrYSh0aGlzKS50ZXh0KCkrIjwvbGFiZWw+IikuYXBwZW5kVG8oaSkuY2hpbGRyZW4oMCkuanFtRGF0YSgiY2VsbHMiLGMpLmNoZWNrYm94cmFkaW8oe3RoZW1lOmQuY29sdW1uUG9wdXBUaGVtZX0pKX0pLGkuYXBwZW5kVG8oaCksaS5vbigiY2hhbmdlIiwiaW5wdXQiLGZ1bmN0aW9uKGIpe3RoaXMuY2hlY2tlZD9hKHRoaXMpLmpxbURhdGEoImNlbGxzIikucmVtb3ZlQ2xhc3MoInVpLXRhYmxlLWNlbGwtaGlkZGVuIikuYWRkQ2xhc3MoInVpLXRhYmxlLWNlbGwtdmlzaWJsZSIpOmEodGhpcykuanFtRGF0YSgiY2VsbHMiKS5yZW1vdmVDbGFzcygidWktdGFibGUtY2VsbC12aXNpYmxlIikuYWRkQ2xhc3MoInVpLXRhYmxlLWNlbGwtaGlkZGVuIil9KSxnLmluc2VydEJlZm9yZShiKS5idXR0b25NYXJrdXAoe3RoZW1lOmQuY29sdW1uQnRuVGhlbWV9KSxoLmluc2VydEJlZm9yZShiKS5wb3B1cCgpLGMucmVmcmVzaD1mdW5jdGlvbigpe2kuZmluZCgiaW5wdXQiKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5jaGVja2VkPWEodGhpcykuanFtRGF0YSgiY2VsbHMiKS5lcSgwKS5jc3MoImRpc3BsYXkiKT09PSJ0YWJsZS1jZWxsIixhKHRoaXMpLmNoZWNrYm94cmFkaW8oInJlZnJlc2giKX0pfSxhLm1vYmlsZS53aW5kb3cub24oInRocm90dGxlZHJlc2l6ZSIsYy5yZWZyZXNoKSxjLnJlZnJlc2goKX0pfShhKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLm1vZGU9InJlZmxvdyIsYS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMuY2xhc3Nlcz1hLmV4dGVuZChhLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jbGFzc2VzLHtyZWZsb3dUYWJsZToidWktdGFibGUtcmVmbG93IixjZWxsTGFiZWxzOiJ1aS10YWJsZS1jZWxsLWxhYmVsIn0pLGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCI6anFtRGF0YShyb2xlPSd0YWJsZScpIiwidGFibGVjcmVhdGUiLGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxjPWIuZGF0YSgibW9iaWxlLXRhYmxlIiksZD1jLm9wdGlvbnM7aWYoZC5tb2RlIT09InJlZmxvdyIpcmV0dXJuO2MuZWxlbWVudC5hZGRDbGFzcyhkLmNsYXNzZXMucmVmbG93VGFibGUpO3ZhciBlPWEoYy5hbGxIZWFkZXJzLmdldCgpLnJldmVyc2UoKSk7ZS5lYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPWEodGhpcykuanFtRGF0YSgiY2VsbHMiKSxlPWEodGhpcykuanFtRGF0YSgiY29sc3RhcnQiKSxmPWMubm90KHRoaXMpLmZpbHRlcigidGhlYWQgdGgiKS5sZW5ndGgmJiIgdWktdGFibGUtY2VsbC1sYWJlbC10b3AiLGc9YSh0aGlzKS50ZXh0KCk7aWYoZyE9PSIiKWlmKGYpe3ZhciBoPXBhcnNlSW50KGEodGhpcykuYXR0cigiY29sc3BhbiIpLDEwKSxpPSIiO2gmJihpPSJ0ZDpudGgtY2hpbGQoIitoKyJuICsgIitlKyIpIiksYy5maWx0ZXIoaSkucHJlcGVuZCgiPGIgY2xhc3M9JyIrZC5jbGFzc2VzLmNlbGxMYWJlbHMrZisiJz4iK2crIjwvYj4iKX1lbHNlIGMucHJlcGVuZCgiPGIgY2xhc3M9JyIrZC5jbGFzc2VzLmNlbGxMYWJlbHMrIic+IitnKyI8L2I+Iil9KX0pfShhKSxmdW5jdGlvbihhKXt2YXIgYj1hKCJtZXRhW25hbWU9dmlld3BvcnRdIiksYz1iLmF0dHIoImNvbnRlbnQiKSxkPWMrIixtYXhpbXVtLXNjYWxlPTEsIHVzZXItc2NhbGFibGU9bm8iLGU9YysiLG1heGltdW0tc2NhbGU9MTAsIHVzZXItc2NhbGFibGU9eWVzIixmPS8odXNlci1zY2FsYWJsZVtcc10qPVtcc10qbm8pfChtYXhpbXVtLXNjYWxlW1xzXSo9W1xzXSoxKVskLFxzXS8udGVzdChjKTthLm1vYmlsZS56b29tPWEuZXh0ZW5kKHt9LHtlbmFibGVkOiFmLGxvY2tlZDohMSxkaXNhYmxlOmZ1bmN0aW9uKGMpeyFmJiYhYS5tb2JpbGUuem9vbS5sb2NrZWQmJihiLmF0dHIoImNvbnRlbnQiLGQpLGEubW9iaWxlLnpvb20uZW5hYmxlZD0hMSxhLm1vYmlsZS56b29tLmxvY2tlZD1jfHwhMSl9LGVuYWJsZTpmdW5jdGlvbihjKXshZiYmKCFhLm1vYmlsZS56b29tLmxvY2tlZHx8Yz09PSEwKSYmKGIuYXR0cigiY29udGVudCIsZSksYS5tb2JpbGUuem9vbS5lbmFibGVkPSEwLGEubW9iaWxlLnpvb20ubG9ja2VkPSExKX0scmVzdG9yZTpmdW5jdGlvbigpe2Z8fChiLmF0dHIoImNvbnRlbnQiLGMpLGEubW9iaWxlLnpvb20uZW5hYmxlZD0hMCl9fSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS50ZXh0aW5wdXQiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxtaW5pOiExLHByZXZlbnRGb2N1c1pvb206L2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ndGV4dCddLCBpbnB1dFt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJyksIGlucHV0W3R5cGU9J251bWJlciddLCA6anFtRGF0YSh0eXBlPSdudW1iZXInKSwgaW5wdXRbdHlwZT0ncGFzc3dvcmQnXSwgaW5wdXRbdHlwZT0nZW1haWwnXSwgaW5wdXRbdHlwZT0ndXJsJ10sIGlucHV0W3R5cGU9J3RlbCddLCB0ZXh0YXJlYSwgaW5wdXRbdHlwZT0ndGltZSddLCBpbnB1dFt0eXBlPSdkYXRlJ10sIGlucHV0W3R5cGU9J21vbnRoJ10sIGlucHV0W3R5cGU9J3dlZWsnXSwgaW5wdXRbdHlwZT0nZGF0ZXRpbWUnXSwgaW5wdXRbdHlwZT0nZGF0ZXRpbWUtbG9jYWwnXSwgaW5wdXRbdHlwZT0nY29sb3InXSwgaW5wdXQ6bm90KFt0eXBlXSksIGlucHV0W3R5cGU9J2ZpbGUnXSIsY2xlYXJCdG46ITEsY2xlYXJTZWFyY2hCdXR0b25UZXh0Om51bGwsY2xlYXJCdG5UZXh0OiJjbGVhciB0ZXh0IixkaXNhYmxlZDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe2Z1bmN0aW9uIG8oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ai50b2dnbGVDbGFzcygidWktaW5wdXQtY2xlYXItaGlkZGVuIiwhYy52YWwoKSl9LDApfXZhciBiPXRoaXMsYz10aGlzLmVsZW1lbnQsZD10aGlzLm9wdGlvbnMsZT1kLnRoZW1lfHxhLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQsImMiKSxmPSIgdWktYm9keS0iK2UsZz1kLm1pbmk/IiB1aS1taW5pIjoiIixoPWMuaXMoIlt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKSxpLGosaz1kLmNsZWFyU2VhcmNoQnV0dG9uVGV4dHx8ZC5jbGVhckJ0blRleHQsbD1jLmlzKCJ0ZXh0YXJlYSwgOmpxbURhdGEodHlwZT0ncmFuZ2UnKSIpLG09ISFkLmNsZWFyQnRuJiYhbCxuPWMuaXMoImlucHV0IikmJiFjLmlzKCI6anFtRGF0YSh0eXBlPSdyYW5nZScpIik7YSgibGFiZWxbZm9yPSciK2MuYXR0cigiaWQiKSsiJ10iKS5hZGRDbGFzcygidWktaW5wdXQtdGV4dCIpLGk9Yy5hZGRDbGFzcygidWktaW5wdXQtdGV4dCB1aS1ib2R5LSIrZSksdHlwZW9mIGNbMF0uYXV0b2NvcnJlY3QhPSJ1bmRlZmluZWQiJiYhYS5zdXBwb3J0LnRvdWNoT3ZlcmZsb3cmJihjWzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvcnJlY3QiLCJvZmYiKSxjWzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvbXBsZXRlIiwib2ZmIikpLGg/aT1jLndyYXAoIjxkaXYgY2xhc3M9J3VpLWlucHV0LXNlYXJjaCB1aS1zaGFkb3ctaW5zZXQgdWktYnRuLWNvcm5lci1hbGwgdWktYnRuLXNoYWRvdyB1aS1pY29uLXNlYXJjaGZpZWxkIitmK2crIic+PC9kaXY+IikucGFyZW50KCk6biYmKGk9Yy53cmFwKCI8ZGl2IGNsYXNzPSd1aS1pbnB1dC10ZXh0IHVpLXNoYWRvdy1pbnNldCB1aS1jb3JuZXItYWxsIHVpLWJ0bi1zaGFkb3ciK2YrZysiJz48L2Rpdj4iKS5wYXJlbnQoKSksbXx8aD8oaj1hKCI8YSBocmVmPScjJyBjbGFzcz0ndWktaW5wdXQtY2xlYXInIHRpdGxlPSciK2srIic+IitrKyI8L2E+IikuYmluZCgiY2xpY2siLGZ1bmN0aW9uKGEpe2MudmFsKCIiKS5mb2N1cygpLnRyaWdnZXIoImNoYW5nZSIpLGouYWRkQ2xhc3MoInVpLWlucHV0LWNsZWFyLWhpZGRlbiIpLGEucHJldmVudERlZmF1bHQoKX0pLmFwcGVuZFRvKGkpLmJ1dHRvbk1hcmt1cCh7aWNvbjoiZGVsZXRlIixpY29ucG9zOiJub3RleHQiLGNvcm5lcnM6ITAsc2hhZG93OiEwLG1pbmk6ZC5taW5pfSksaHx8aS5hZGRDbGFzcygidWktaW5wdXQtaGFzLWNsZWFyIiksbygpLGMuYmluZCgicGFzdGUgY3V0IGtleXVwIGlucHV0IGZvY3VzIGNoYW5nZSBibHVyIixvKSk6IW4mJiFoJiZjLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIHVpLXNoYWRvdy1pbnNldCIrZitnKSxjLmZvY3VzKGZ1bmN0aW9uKCl7ZC5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApLGkuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5ibHVyKGZ1bmN0aW9uKCl7aS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKSxkLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0pO2lmKGMuaXMoInRleHRhcmVhIikpe3ZhciBwPTE1LHE9MTAwLHI7dGhpcy5fa2V5dXA9ZnVuY3Rpb24oKXt2YXIgYT1jWzBdLnNjcm9sbEhlaWdodCxiPWNbMF0uY2xpZW50SGVpZ2h0O2I8YSYmYy5oZWlnaHQoYStwKX0sYy5vbigia2V5dXAgY2hhbmdlIGlucHV0IHBhc3RlIixmdW5jdGlvbigpe2NsZWFyVGltZW91dChyKSxyPXNldFRpbWVvdXQoYi5fa2V5dXAscSl9KSx0aGlzLl9vbihhLm1vYmlsZS5kb2N1bWVudCx7cGFnZWNoYW5nZToiX2tleXVwIn0pLGEudHJpbShjLnZhbCgpKSYmdGhpcy5fb24oYS5tb2JpbGUud2luZG93LHtsb2FkOiJfa2V5dXAifSl9Yy5hdHRyKCJkaXNhYmxlZCIpJiZ0aGlzLmRpc2FibGUoKX0sZGlzYWJsZTpmdW5jdGlvbigpe3ZhciBhLGI9dGhpcy5lbGVtZW50LmlzKCJbdHlwZT0nc2VhcmNoJ10sIDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIiksYz10aGlzLmVsZW1lbnQuaXMoImlucHV0IikmJiF0aGlzLmVsZW1lbnQuaXMoIjpqcW1EYXRhKHR5cGU9J3JhbmdlJykiKSxkPXRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITApJiYoY3x8Yik7cmV0dXJuIGQ/YT10aGlzLmVsZW1lbnQucGFyZW50KCk6YT10aGlzLmVsZW1lbnQsYS5hZGRDbGFzcygidWktZGlzYWJsZWQiKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMCl9LGVuYWJsZTpmdW5jdGlvbigpe3ZhciBhLGI9dGhpcy5lbGVtZW50LmlzKCJbdHlwZT0nc2VhcmNoJ10sIDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIiksYz10aGlzLmVsZW1lbnQuaXMoImlucHV0IikmJiF0aGlzLmVsZW1lbnQuaXMoIjpqcW1EYXRhKHR5cGU9J3JhbmdlJykiKSxkPXRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITEpJiYoY3x8Yik7cmV0dXJuIGQ/YT10aGlzLmVsZW1lbnQucGFyZW50KCk6YT10aGlzLmVsZW1lbnQsYS5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMSl9fSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLnRleHRpbnB1dC5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwhMCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXI9ITEsYS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXI9IkZpbHRlciBpdGVtcy4uLiIsYS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyVGhlbWU9ImMiLGEubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlclJldmVhbD0hMTt2YXIgYz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGEudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoYik9PT0tMX07YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2s9YyxhLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgidWwsIG9sIiwibGlzdHZpZXdjcmVhdGUiLGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxkPWIuZGF0YSgibW9iaWxlLWxpc3R2aWV3Iik7aWYoIWQub3B0aW9ucy5maWx0ZXIpcmV0dXJuO2Qub3B0aW9ucy5maWx0ZXJSZXZlYWwmJmIuY2hpbGRyZW4oKS5hZGRDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpO3ZhciBlPWEoIjxmb3JtPiIseyJjbGFzcyI6InVpLWxpc3R2aWV3LWZpbHRlciB1aS1iYXItIitkLm9wdGlvbnMuZmlsdGVyVGhlbWUscm9sZToic2VhcmNoIn0pLnN1Ym1pdChmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksZy5ibHVyKCl9KSxmPWZ1bmN0aW9uKGUpe3ZhciBmPWEodGhpcyksZz10aGlzLnZhbHVlLnRvTG93ZXJDYXNlKCksaD1udWxsLGk9Yi5jaGlsZHJlbigpLGo9Zi5qcW1EYXRhKCJsYXN0dmFsIikrIiIsaz0hMSxsPSIiLG0sbj1kLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2shPT1jO2lmKGomJmo9PT1nKXJldHVybjtkLl90cmlnZ2VyKCJiZWZvcmVmaWx0ZXIiLCJiZWZvcmVmaWx0ZXIiLHtpbnB1dDp0aGlzfSksZi5qcW1EYXRhKCJsYXN0dmFsIixnKSxufHxnLmxlbmd0aDxqLmxlbmd0aHx8Zy5pbmRleE9mKGopIT09MD9oPWIuY2hpbGRyZW4oKTooaD1iLmNoaWxkcmVuKCI6bm90KC51aS1zY3JlZW4taGlkZGVuKSIpLCFoLmxlbmd0aCYmZC5vcHRpb25zLmZpbHRlclJldmVhbCYmKGg9Yi5jaGlsZHJlbigiLnVpLXNjcmVlbi1oaWRkZW4iKSkpO2lmKGcpe2Zvcih2YXIgbz1oLmxlbmd0aC0xO28+PTA7by0tKW09YShoW29dKSxsPW0uanFtRGF0YSgiZmlsdGVydGV4dCIpfHxtLnRleHQoKSxtLmlzKCJsaTpqcW1EYXRhKHJvbGU9bGlzdC1kaXZpZGVyKSIpPyhtLnRvZ2dsZUNsYXNzKCJ1aS1maWx0ZXItaGlkZXF1ZXVlIiwhayksaz0hMSk6ZC5vcHRpb25zLmZpbHRlckNhbGxiYWNrKGwsZyxtKT9tLnRvZ2dsZUNsYXNzKCJ1aS1maWx0ZXItaGlkZXF1ZXVlIiwhMCk6az0hMDtoLmZpbHRlcigiOm5vdCgudWktZmlsdGVyLWhpZGVxdWV1ZSkiKS50b2dnbGVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIsITEpLGguZmlsdGVyKCIudWktZmlsdGVyLWhpZGVxdWV1ZSIpLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiwhMCkudG9nZ2xlQ2xhc3MoInVpLWZpbHRlci1oaWRlcXVldWUiLCExKX1lbHNlIGgudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLCEhZC5vcHRpb25zLmZpbHRlclJldmVhbCk7ZC5fYWRkRmlyc3RMYXN0Q2xhc3NlcyhpLGQuX2dldFZpc2libGVzKGksITEpLCExKX0sZz1hKCI8aW5wdXQ+Iix7cGxhY2Vob2xkZXI6ZC5vcHRpb25zLmZpbHRlclBsYWNlaG9sZGVyfSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0eXBlIiwic2VhcmNoIikuanFtRGF0YSgibGFzdHZhbCIsIiIpLmJpbmQoImtleXVwIGNoYW5nZSBpbnB1dCIsZikuYXBwZW5kVG8oZSkudGV4dGlucHV0KCk7ZC5vcHRpb25zLmluc2V0JiZlLmFkZENsYXNzKCJ1aS1saXN0dmlldy1maWx0ZXItaW5zZXQiKSxlLmJpbmQoInN1Ym1pdCIsZnVuY3Rpb24oKXtyZXR1cm4hMX0pLmluc2VydEJlZm9yZShiKX0pfShhKSxmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KCJtb2JpbGUuc2xpZGVyIixhLm1vYmlsZS53aWRnZXQse3dpZGdldEV2ZW50UHJlZml4OiJzbGlkZSIsb3B0aW9uczp7dGhlbWU6bnVsbCx0cmFja1RoZW1lOm51bGwsZGlzYWJsZWQ6ITEsaW5pdFNlbGVjdG9yOiJpbnB1dFt0eXBlPSdyYW5nZSddLCA6anFtRGF0YSh0eXBlPSdyYW5nZScpLCA6anFtRGF0YShyb2xlPSdzbGlkZXInKSIsbWluaTohMSxoaWdobGlnaHQ6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGY9dGhpcy5lbGVtZW50LGc9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoZiwiYyIpLGg9dGhpcy5vcHRpb25zLnRoZW1lfHxnLGk9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWV8fGcsaj1mWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksaz10aGlzLmlzVG9nZ2xlU3dpdGNoPWo9PT0ic2VsZWN0IixsPWYucGFyZW50KCkuaXMoIjpqcW1EYXRhKHJvbGU9J3Jhbmdlc2xpZGVyJykiKSxtPXRoaXMuaXNUb2dnbGVTd2l0Y2g/InVpLXNsaWRlci1zd2l0Y2giOiIiLG49Zi5hdHRyKCJpZCIpLG89YSgiW2Zvcj0nIituKyInXSIpLHA9by5hdHRyKCJpZCIpfHxuKyItbGFiZWwiLHE9by5hdHRyKCJpZCIscCkscj10aGlzLmlzVG9nZ2xlU3dpdGNoPzA6cGFyc2VGbG9hdChmLmF0dHIoIm1pbiIpKSxzPXRoaXMuaXNUb2dnbGVTd2l0Y2g/Zi5maW5kKCJvcHRpb24iKS5sZW5ndGgtMTpwYXJzZUZsb2F0KGYuYXR0cigibWF4IikpLHQ9Yi5wYXJzZUZsb2F0KGYuYXR0cigic3RlcCIpfHwxKSx1PXRoaXMub3B0aW9ucy5taW5pfHxmLmpxbURhdGEoIm1pbmkiKT8iIHVpLW1pbmkiOiIiLHY9Yy5jcmVhdGVFbGVtZW50KCJhIiksdz1hKHYpLHg9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSx5PWEoeCksej10aGlzLm9wdGlvbnMuaGlnaGxpZ2h0JiYhdGhpcy5pc1RvZ2dsZVN3aXRjaD9mdW5jdGlvbigpe3ZhciBiPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGIuY2xhc3NOYW1lPSJ1aS1zbGlkZXItYmcgIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcysiIHVpLWJ0bi1jb3JuZXItYWxsIixhKGIpLnByZXBlbmRUbyh5KX0oKTohMSxBO3Yuc2V0QXR0cmlidXRlKCJocmVmIiwiIyIpLHguc2V0QXR0cmlidXRlKCJyb2xlIiwiYXBwbGljYXRpb24iKSx4LmNsYXNzTmFtZT1bdGhpcy5pc1RvZ2dsZVN3aXRjaD8idWktc2xpZGVyICI6InVpLXNsaWRlci10cmFjayAiLG0sIiB1aS1idG4tZG93bi0iLGksIiB1aS1idG4tY29ybmVyLWFsbCIsdV0uam9pbigiIiksdi5jbGFzc05hbWU9InVpLXNsaWRlci1oYW5kbGUiLHguYXBwZW5kQ2hpbGQodiksdy5idXR0b25NYXJrdXAoe2Nvcm5lcnM6ITAsdGhlbWU6aCxzaGFkb3c6ITB9KS5hdHRyKHtyb2xlOiJzbGlkZXIiLCJhcmlhLXZhbHVlbWluIjpyLCJhcmlhLXZhbHVlbWF4IjpzLCJhcmlhLXZhbHVlbm93Ijp0aGlzLl92YWx1ZSgpLCJhcmlhLXZhbHVldGV4dCI6dGhpcy5fdmFsdWUoKSx0aXRsZTp0aGlzLl92YWx1ZSgpLCJhcmlhLWxhYmVsbGVkYnkiOnB9KSxhLmV4dGVuZCh0aGlzLHtzbGlkZXI6eSxoYW5kbGU6dyx0eXBlOmosc3RlcDp0LG1heDpzLG1pbjpyLHZhbHVlYmc6eixpc1Jhbmdlc2xpZGVyOmwsZHJhZ2dpbmc6ITEsYmVmb3JlU3RhcnQ6bnVsbCx1c2VyTW9kaWZpZWQ6ITEsbW91c2VNb3ZlZDohMX0pO2lmKHRoaXMuaXNUb2dnbGVTd2l0Y2gpe3ZhciBCPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7Qi5jbGFzc05hbWU9InVpLXNsaWRlci1pbm5lcm9mZnNldCI7Zm9yKHZhciBDPTAsRD14LmNoaWxkTm9kZXMubGVuZ3RoO0M8RDtDKyspQi5hcHBlbmRDaGlsZCh4LmNoaWxkTm9kZXNbQ10pO3guYXBwZW5kQ2hpbGQoQiksdy5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLEE9Zi5maW5kKCJvcHRpb24iKTtmb3IodmFyIEU9MCxGPUEubGVuZ3RoO0U8RjtFKyspe3ZhciBHPUU/ImEiOiJiIixIPUU/IiAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzOiIgdWktYnRuLWRvd24tIitpLEk9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxKPWMuY3JlYXRlRWxlbWVudCgic3BhbiIpO0ouY2xhc3NOYW1lPVsidWktc2xpZGVyLWxhYmVsIHVpLXNsaWRlci1sYWJlbC0iLEcsSCwiIHVpLWJ0bi1jb3JuZXItYWxsIl0uam9pbigiIiksSi5zZXRBdHRyaWJ1dGUoInJvbGUiLCJpbWciKSxKLmFwcGVuZENoaWxkKGMuY3JlYXRlVGV4dE5vZGUoQVtFXS5pbm5lckhUTUwpKSxhKEopLnByZXBlbmRUbyh5KX1lLl9sYWJlbHM9YSgiLnVpLXNsaWRlci1sYWJlbCIseSl9cS5hZGRDbGFzcygidWktc2xpZGVyIiksZi5hZGRDbGFzcyh0aGlzLmlzVG9nZ2xlU3dpdGNoPyJ1aS1zbGlkZXItc3dpdGNoIjoidWktc2xpZGVyLWlucHV0IiksdGhpcy5fb24oZix7Y2hhbmdlOiJfY29udHJvbENoYW5nZSIsa2V5dXA6Il9jb250cm9sS2V5dXAiLGJsdXI6Il9jb250cm9sQmx1ciIsdm1vdXNldXA6Il9jb250cm9sVk1vdXNlVXAifSkseS5iaW5kKCJ2bW91c2Vkb3duIixhLnByb3h5KHRoaXMuX3NsaWRlclZNb3VzZURvd24sdGhpcykpLmJpbmQoInZjbGljayIsITEpLHRoaXMuX29uKGMse3Ztb3VzZW1vdmU6Il9wcmV2ZW50RG9jdW1lbnREcmFnIn0pLHRoaXMuX29uKHkuYWRkKGMpLHt2bW91c2V1cDoiX3NsaWRlclZNb3VzZVVwIn0pLHkuaW5zZXJ0QWZ0ZXIoZik7aWYoIXRoaXMuaXNUb2dnbGVTd2l0Y2gmJiFsKXt2YXIgQj10aGlzLm9wdGlvbnMubWluaT8iPGRpdiBjbGFzcz0ndWktc2xpZGVyIHVpLW1pbmknPiI6IjxkaXYgY2xhc3M9J3VpLXNsaWRlcic+IjtmLmFkZCh5KS53cmFwQWxsKEIpfXRoaXMuaXNUb2dnbGVTd2l0Y2gmJnRoaXMuaGFuZGxlLmJpbmQoe2ZvY3VzOmZ1bmN0aW9uKCl7eS5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0sYmx1cjpmdW5jdGlvbigpe3kucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9fSksdGhpcy5fb24odGhpcy5oYW5kbGUse3Ztb3VzZWRvd246Il9oYW5kbGVWTW91c2VEb3duIixrZXlkb3duOiJfaGFuZGxlS2V5ZG93biIsa2V5dXA6Il9oYW5kbGVLZXl1cCJ9KSx0aGlzLmhhbmRsZS5iaW5kKCJ2Y2xpY2siLCExKSx0aGlzLl9oYW5kbGVGb3JtUmVzZXQmJnRoaXMuX2hhbmRsZUZvcm1SZXNldCgpLHRoaXMucmVmcmVzaChkLGQsITApfSxfY29udHJvbENoYW5nZTpmdW5jdGlvbihhKXtpZih0aGlzLl90cmlnZ2VyKCJjb250cm9sY2hhbmdlIixhKT09PSExKXJldHVybiExO3RoaXMubW91c2VNb3ZlZHx8dGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCksITApfSxfY29udHJvbEtleXVwOmZ1bmN0aW9uKGEpe3RoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwLCEwKX0sX2NvbnRyb2xCbHVyOmZ1bmN0aW9uKGEpe3RoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwKX0sX2NvbnRyb2xWTW91c2VVcDpmdW5jdGlvbihhKXt0aGlzLl9jaGVja2VkUmVmcmVzaCgpfSxfaGFuZGxlVk1vdXNlRG93bjpmdW5jdGlvbihhKXt0aGlzLmhhbmRsZS5mb2N1cygpfSxfaGFuZGxlS2V5ZG93bjpmdW5jdGlvbihiKXt2YXIgYz10aGlzLl92YWx1ZSgpO2lmKHRoaXMub3B0aW9ucy5kaXNhYmxlZClyZXR1cm47c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkhPTUU6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkVORDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUklHSFQ6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkRPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkxFRlQ6Yi5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2tleVNsaWRpbmd8fCh0aGlzLl9rZXlTbGlkaW5nPSEwLHRoaXMuaGFuZGxlLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKSl9c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkhPTUU6dGhpcy5yZWZyZXNoKHRoaXMubWluKTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuRU5EOnRoaXMucmVmcmVzaCh0aGlzLm1heCk7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlVQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5SSUdIVDp0aGlzLnJlZnJlc2goYyt0aGlzLnN0ZXApO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX0RPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkRPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkxFRlQ6dGhpcy5yZWZyZXNoKGMtdGhpcy5zdGVwKX19LF9oYW5kbGVLZXl1cDpmdW5jdGlvbihhKXt0aGlzLl9rZXlTbGlkaW5nJiYodGhpcy5fa2V5U2xpZGluZz0hMSx0aGlzLmhhbmRsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIikpfSxfc2xpZGVyVk1vdXNlRG93bjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vcHRpb25zLmRpc2FibGVkPyExOnRoaXMuX3RyaWdnZXIoImJlZm9yZXN0YXJ0IixhKT09PSExPyExOih0aGlzLmRyYWdnaW5nPSEwLHRoaXMudXNlck1vZGlmaWVkPSExLHRoaXMubW91c2VNb3ZlZD0hMSx0aGlzLmlzVG9nZ2xlU3dpdGNoJiYodGhpcy5iZWZvcmVTdGFydD10aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleCksdGhpcy5yZWZyZXNoKGEpLHRoaXMuX3RyaWdnZXIoInN0YXJ0IiksITEpfSxfc2xpZGVyVk1vdXNlVXA6ZnVuY3Rpb24oKXtpZih0aGlzLmRyYWdnaW5nKXJldHVybiB0aGlzLmRyYWdnaW5nPSExLHRoaXMuaXNUb2dnbGVTd2l0Y2gmJih0aGlzLmhhbmRsZS5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLHRoaXMubW91c2VNb3ZlZD90aGlzLnVzZXJNb2RpZmllZD90aGlzLnJlZnJlc2godGhpcy5iZWZvcmVTdGFydD09PTA/MTowKTp0aGlzLnJlZnJlc2godGhpcy5iZWZvcmVTdGFydCk6dGhpcy5yZWZyZXNoKHRoaXMuYmVmb3JlU3RhcnQ9PT0wPzE6MCkpLHRoaXMubW91c2VNb3ZlZD0hMSx0aGlzLl90cmlnZ2VyKCJzdG9wIiksITF9LF9wcmV2ZW50RG9jdW1lbnREcmFnOmZ1bmN0aW9uKGEpe2lmKHRoaXMuX3RyaWdnZXIoImRyYWciLGEpPT09ITEpcmV0dXJuITE7aWYodGhpcy5kcmFnZ2luZyYmIXRoaXMub3B0aW9ucy5kaXNhYmxlZClyZXR1cm4gdGhpcy5tb3VzZU1vdmVkPSEwLHRoaXMuaXNUb2dnbGVTd2l0Y2gmJnRoaXMuaGFuZGxlLnJlbW92ZUNsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiksdGhpcy5yZWZyZXNoKGEpLHRoaXMudXNlck1vZGlmaWVkPXRoaXMuYmVmb3JlU3RhcnQhPT10aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleCwhMX0sX2NoZWNrZWRSZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy52YWx1ZSE9dGhpcy5fdmFsdWUoKSYmdGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCkpfSxfdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1RvZ2dsZVN3aXRjaD90aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleDpwYXJzZUZsb2F0KHRoaXMuZWxlbWVudC52YWwoKSl9LF9yZXNldDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaChkLCExLCEwKX0scmVmcmVzaDpmdW5jdGlvbihiLGQsZSl7dmFyIGY9dGhpcyxnPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudCwiYyIpLGg9dGhpcy5vcHRpb25zLnRoZW1lfHxnLGk9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWV8fGc7Zi5zbGlkZXJbMF0uY2xhc3NOYW1lPVt0aGlzLmlzVG9nZ2xlU3dpdGNoPyJ1aS1zbGlkZXIgdWktc2xpZGVyLXN3aXRjaCI6InVpLXNsaWRlci10cmFjayIsIiB1aS1idG4tZG93bi0iK2ksIiB1aS1idG4tY29ybmVyLWFsbCIsdGhpcy5vcHRpb25zLm1pbmk/IiB1aS1taW5pIjoiIl0uam9pbigiIiksKHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIikpJiZ0aGlzLmRpc2FibGUoKSx0aGlzLnZhbHVlPXRoaXMuX3ZhbHVlKCksdGhpcy5vcHRpb25zLmhpZ2hsaWdodCYmIXRoaXMuaXNUb2dnbGVTd2l0Y2gmJnRoaXMuc2xpZGVyLmZpbmQoIi51aS1zbGlkZXItYmciKS5sZW5ndGg9PT0wJiYodGhpcy52YWx1ZWJnPWZ1bmN0aW9uKCl7dmFyIGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gYi5jbGFzc05hbWU9InVpLXNsaWRlci1iZyAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKyIgdWktYnRuLWNvcm5lci1hbGwiLGEoYikucHJlcGVuZFRvKGYuc2xpZGVyKX0oKSksdGhpcy5oYW5kbGUuYnV0dG9uTWFya3VwKHtjb3JuZXJzOiEwLHRoZW1lOmgsc2hhZG93OiEwfSk7dmFyIGosayxsPXRoaXMuZWxlbWVudCxtPSF0aGlzLmlzVG9nZ2xlU3dpdGNoLG49bT9bXTpsLmZpbmQoIm9wdGlvbiIpLG89bT9wYXJzZUZsb2F0KGwuYXR0cigibWluIikpOjAscD1tP3BhcnNlRmxvYXQobC5hdHRyKCJtYXgiKSk6bi5sZW5ndGgtMSxxPW0mJnBhcnNlRmxvYXQobC5hdHRyKCJzdGVwIikpPjA/cGFyc2VGbG9hdChsLmF0dHIoInN0ZXAiKSk6MTtpZih0eXBlb2YgYj09Im9iamVjdCIpe3ZhciByLHMsdD1iLHU9ODtyPXRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQscz10aGlzLnNsaWRlci53aWR0aCgpLGo9cy8oKHAtbykvcSk7aWYoIXRoaXMuZHJhZ2dpbmd8fHQucGFnZVg8ci11fHx0LnBhZ2VYPnIrcyt1KXJldHVybjtqPjE/az0odC5wYWdlWC1yKS9zKjEwMDprPU1hdGgucm91bmQoKHQucGFnZVgtcikvcyoxMDApfWVsc2UgYj09bnVsbCYmKGI9bT9wYXJzZUZsb2F0KGwudmFsKCl8fDApOmxbMF0uc2VsZWN0ZWRJbmRleCksaz0ocGFyc2VGbG9hdChiKS1vKS8ocC1vKSoxMDA7aWYoaXNOYU4oaykpcmV0dXJuO3ZhciB2PWsvMTAwKihwLW8pK28sdz0odi1vKSVxLHg9di13O01hdGguYWJzKHcpKjI+PXEmJih4Kz13PjA/cTotcSk7dmFyIHk9MTAwLygocC1vKS9xKTt2PXBhcnNlRmxvYXQoeC50b0ZpeGVkKDUpKSx0eXBlb2Ygaj09InVuZGVmaW5lZCImJihqPXMvKChwLW8pL3EpKSxqPjEmJm0mJihrPSh2LW8pKnkqKDEvcSkpLGs8MCYmKGs9MCksaz4xMDAmJihrPTEwMCksdjxvJiYodj1vKSx2PnAmJih2PXApLHRoaXMuaGFuZGxlLmNzcygibGVmdCIsaysiJSIpLHRoaXMuaGFuZGxlWzBdLnNldEF0dHJpYnV0ZSgiYXJpYS12YWx1ZW5vdyIsbT92Om4uZXEodikuYXR0cigidmFsdWUiKSksdGhpcy5oYW5kbGVbMF0uc2V0QXR0cmlidXRlKCJhcmlhLXZhbHVldGV4dCIsbT92Om4uZXEodikuZ2V0RW5jb2RlZFRleHQoKSksdGhpcy5oYW5kbGVbMF0uc2V0QXR0cmlidXRlKCJ0aXRsZSIsbT92Om4uZXEodikuZ2V0RW5jb2RlZFRleHQoKSksdGhpcy52YWx1ZWJnJiZ0aGlzLnZhbHVlYmcuY3NzKCJ3aWR0aCIsaysiJSIpO2lmKHRoaXMuX2xhYmVscyl7dmFyIHo9dGhpcy5oYW5kbGUud2lkdGgoKS90aGlzLnNsaWRlci53aWR0aCgpKjEwMCxBPWsmJnorKDEwMC16KSprLzEwMCxCPWs9PT0xMDA/MDpNYXRoLm1pbih6KzEwMC1BLDEwMCk7dGhpcy5fbGFiZWxzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLmlzKCIudWktc2xpZGVyLWxhYmVsLWEiKTthKHRoaXMpLndpZHRoKChiP0E6QikrIiUiKX0pfWlmKCFlKXt2YXIgQz0hMTttPyhDPWwudmFsKCkhPT12LGwudmFsKHYpKTooQz1sWzBdLnNlbGVjdGVkSW5kZXghPT12LGxbMF0uc2VsZWN0ZWRJbmRleD12KTtpZih0aGlzLl90cmlnZ2VyKCJiZWZvcmVjaGFuZ2UiLGIpPT09ITEpcmV0dXJuITE7IWQmJkMmJmwudHJpZ2dlcigiY2hhbmdlIil9fSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMSksdGhpcy5zbGlkZXIucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITEpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCEwKSx0aGlzLnNsaWRlci5hZGRDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMCksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfX0pLGEud2lkZ2V0KCJtb2JpbGUuc2xpZGVyIixhLm1vYmlsZS5zbGlkZXIsYS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLnNsaWRlci5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwhMCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLnJhbmdlc2xpZGVyIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsdHJhY2tUaGVtZTpudWxsLGRpc2FibGVkOiExLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0ncmFuZ2VzbGlkZXInKSIsbWluaTohMSxoaWdobGlnaHQ6ITB9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYixjPXRoaXMuZWxlbWVudCxkPXRoaXMub3B0aW9ucy5taW5pPyJ1aS1yYW5nZXNsaWRlciB1aS1taW5pIjoidWktcmFuZ2VzbGlkZXIiLGU9Yy5maW5kKCJpbnB1dCIpLmZpcnN0KCksZj1jLmZpbmQoImlucHV0IikubGFzdCgpLGc9Yy5maW5kKCJsYWJlbCIpLmZpcnN0KCksaD1hLmRhdGEoZS5nZXQoMCksIm1vYmlsZVNsaWRlciIpLnNsaWRlcixpPWEuZGF0YShmLmdldCgwKSwibW9iaWxlU2xpZGVyIikuc2xpZGVyLGo9YS5kYXRhKGUuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUsaz1hKCc8ZGl2IGNsYXNzPSJ1aS1yYW5nZXNsaWRlci1zbGlkZXJzIiAvPicpLmFwcGVuZFRvKGMpO2MuZmluZCgibGFiZWwiKS5sZW5ndGg+MSYmKGI9Yy5maW5kKCJsYWJlbCIpLmxhc3QoKS5oaWRlKCkpLGUuYWRkQ2xhc3MoInVpLXJhbmdlc2xpZGVyLWZpcnN0IiksZi5hZGRDbGFzcygidWktcmFuZ2VzbGlkZXItbGFzdCIpLGMuYWRkQ2xhc3MoZCksaC5hcHBlbmRUbyhrKSxpLmFwcGVuZFRvKGspLGcucHJlcGVuZFRvKGMpLGoucHJlcGVuZFRvKGkpLGEuZXh0ZW5kKHRoaXMse19pbnB1dEZpcnN0OmUsX2lucHV0TGFzdDpmLF9zbGlkZXJGaXJzdDpoLF9zbGlkZXJMYXN0OmksX3RhcmdldFZhbDpudWxsLF9zbGlkZXJUYXJnZXQ6ITEsX3NsaWRlcnM6ayxfcHJveHk6ITF9KSx0aGlzLnJlZnJlc2goKSx0aGlzLl9vbih0aGlzLmVsZW1lbnQuZmluZCgiaW5wdXQudWktc2xpZGVyLWlucHV0Iikse3NsaWRlYmVmb3Jlc3RhcnQ6Il9zbGlkZWJlZm9yZXN0YXJ0IixzbGlkZXN0b3A6Il9zbGlkZXN0b3AiLHNsaWRlZHJhZzoiX3NsaWRlZHJhZyIsc2xpZGViZWZvcmVjaGFuZ2U6Il9jaGFuZ2UiLGJsdXI6Il9jaGFuZ2UiLGtleXVwOiJfY2hhbmdlIn0pLHRoaXMuX29uKGose3Ztb3VzZWRvd246Il9kcmFnRmlyc3RIYW5kbGUifSl9LF9kcmFnRmlyc3RIYW5kbGU6ZnVuY3Rpb24oYil7cmV0dXJuIGEuZGF0YSh0aGlzLl9pbnB1dEZpcnN0LmdldCgwKSwibW9iaWxlU2xpZGVyIikuZHJhZ2dpbmc9ITAsYS5kYXRhKHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5yZWZyZXNoKGIpLCExfSxfc2xpZGVkcmFnOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLmlzKHRoaXMuX2lucHV0Rmlyc3QpLGQ9Yz90aGlzLl9pbnB1dExhc3Q6dGhpcy5faW5wdXRGaXJzdDt0aGlzLl9zbGlkZXJUYXJnZXQ9ITE7aWYodGhpcy5fcHJveHk9PT0iZmlyc3QiJiZjfHx0aGlzLl9wcm94eT09PSJsYXN0IiYmIWMpcmV0dXJuIGEuZGF0YShkLmdldCgwKSwibW9iaWxlU2xpZGVyIikuZHJhZ2dpbmc9ITAsYS5kYXRhKGQuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5yZWZyZXNoKGIpLCExfSxfc2xpZGVzdG9wOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLmlzKHRoaXMuX2lucHV0Rmlyc3QpO3RoaXMuX3Byb3h5PSExLHRoaXMuZWxlbWVudC5maW5kKCJpbnB1dCIpLnRyaWdnZXIoInZtb3VzZXVwIiksdGhpcy5fc2xpZGVyRmlyc3QuY3NzKCJ6LWluZGV4IixjPzE6IiIpfSxfc2xpZGViZWZvcmVzdGFydDpmdW5jdGlvbihiKXt0aGlzLl9zbGlkZXJUYXJnZXQ9ITEsYShiLm9yaWdpbmFsRXZlbnQudGFyZ2V0KS5oYXNDbGFzcygidWktc2xpZGVyLXRyYWNrIikmJih0aGlzLl9zbGlkZXJUYXJnZXQ9ITAsdGhpcy5fdGFyZ2V0VmFsPWEoYi50YXJnZXQpLnZhbCgpKX0sX3NldE9wdGlvbjpmdW5jdGlvbihhKXt0aGlzLl9zdXBlckFwcGx5KGEpLHRoaXMucmVmcmVzaCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LGI9dGhpcy5vcHRpb25zO2EuZmluZCgiaW5wdXQiKS5zbGlkZXIoe3RoZW1lOmIudGhlbWUsdHJhY2tUaGVtZTpiLnRyYWNrVGhlbWUsZGlzYWJsZWQ6Yi5kaXNhYmxlZCxtaW5pOmIubWluaSxoaWdobGlnaHQ6Yi5oaWdobGlnaHR9KS5zbGlkZXIoInJlZnJlc2giKSx0aGlzLl91cGRhdGVIaWdobGlnaHQoKX0sX2NoYW5nZTpmdW5jdGlvbihiKXtpZihiLnR5cGU9PSJrZXl1cCIpcmV0dXJuIHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpLCExO3ZhciBjPXBhcnNlRmxvYXQodGhpcy5faW5wdXRGaXJzdC52YWwoKSwxMCksZD1wYXJzZUZsb2F0KHRoaXMuX2lucHV0TGFzdC52YWwoKSwxMCksZT1hKGIudGFyZ2V0KS5oYXNDbGFzcygidWktcmFuZ2VzbGlkZXItZmlyc3QiKSxmPWU/dGhpcy5faW5wdXRGaXJzdDp0aGlzLl9pbnB1dExhc3QsZz1lP3RoaXMuX2lucHV0TGFzdDp0aGlzLl9pbnB1dEZpcnN0O2lmKGM+ZCYmIXRoaXMuX3NsaWRlclRhcmdldClmLnZhbChlP2Q6Yykuc2xpZGVyKCJyZWZyZXNoIiksdGhpcy5fdHJpZ2dlcigibm9ybWFsaXplIik7ZWxzZSBpZihjPmQpe2YudmFsKHRoaXMuX3RhcmdldFZhbCkuc2xpZGVyKCJyZWZyZXNoIik7dmFyIGg9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zy52YWwoZT9jOmQpLnNsaWRlcigicmVmcmVzaCIpLGEuZGF0YShnLmdldCgwKSwibW9iaWxlU2xpZGVyIikuaGFuZGxlLmZvY3VzKCksaC5fc2xpZGVyRmlyc3QuY3NzKCJ6LWluZGV4IixlPyIiOjEpLGguX3RyaWdnZXIoIm5vcm1hbGl6ZSIpfSwwKSx0aGlzLl9wcm94eT1lPyJmaXJzdCI6Imxhc3QifWM9PT1kPyhhLmRhdGEoZi5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLDEpLGEuZGF0YShnLmdldCgwKSwibW9iaWxlU2xpZGVyIikuaGFuZGxlLmNzcygiei1pbmRleCIsMCkpOihhLmRhdGEoZy5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLCIiKSxhLmRhdGEoZi5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLCIiKSksdGhpcy5fdXBkYXRlSGlnaGxpZ2h0KCk7aWYoYz49ZClyZXR1cm4hMX0sX3VwZGF0ZUhpZ2hsaWdodDpmdW5jdGlvbigpe3ZhciBiPXBhcnNlSW50KGEuZGF0YSh0aGlzLl9pbnB1dEZpcnN0LmdldCgwKSwibW9iaWxlU2xpZGVyIikuaGFuZGxlLmdldCgwKS5zdHlsZS5sZWZ0LDEwKSxjPXBhcnNlSW50KGEuZGF0YSh0aGlzLl9pbnB1dExhc3QuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuZ2V0KDApLnN0eWxlLmxlZnQsMTApLGQ9Yy1iO3RoaXMuZWxlbWVudC5maW5kKCIudWktc2xpZGVyLWJnIikuY3NzKHsibWFyZ2luLWxlZnQiOmIrIiUiLHdpZHRoOmQrIiUifSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1yYW5nZXNsaWRlciB1aS1taW5pIikuZmluZCgibGFiZWwiKS5zaG93KCksdGhpcy5faW5wdXRGaXJzdC5hZnRlcih0aGlzLl9zbGlkZXJGaXJzdCksdGhpcy5faW5wdXRMYXN0LmFmdGVyKHRoaXMuX3NsaWRlckxhc3QpLHRoaXMuX3NsaWRlcnMucmVtb3ZlKCksdGhpcy5lbGVtZW50LmZpbmQoImlucHV0IikucmVtb3ZlQ2xhc3MoInVpLXJhbmdlc2xpZGVyLWZpcnN0IHVpLXJhbmdlc2xpZGVyLWxhc3QiKS5zbGlkZXIoImRlc3Ryb3kiKX19KSxhLndpZGdldCgibW9iaWxlLnJhbmdlc2xpZGVyIixhLm1vYmlsZS5yYW5nZXNsaWRlcixhLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSxhKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5yYW5nZXNsaWRlci5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwhMCl9KX0oYSksZnVuY3Rpb24oYSxkKXthLndpZGdldCgibW9iaWxlLnNlbGVjdG1lbnUiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxkaXNhYmxlZDohMSxpY29uOiJhcnJvdy1kIixpY29ucG9zOiJyaWdodCIsaW5saW5lOiExLGNvcm5lcnM6ITAsc2hhZG93OiEwLGljb25zaGFkb3c6ITAsb3ZlcmxheVRoZW1lOiJhIixkaXZpZGVyVGhlbWU6ImIiLGhpZGVQbGFjZWhvbGRlck1lbnVJdGVtczohMCxjbG9zZVRleHQ6IkNsb3NlIixuYXRpdmVNZW51OiEwLHByZXZlbnRGb2N1c1pvb206L2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xLGluaXRTZWxlY3Rvcjoic2VsZWN0Om5vdCggOmpxbURhdGEocm9sZT0nc2xpZGVyJykgKSIsbWluaTohMX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiBhKCI8ZGl2Lz4iKX0sX3NldERpc2FibGVkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLGEpLHRoaXMuYnV0dG9uLmF0dHIoImFyaWEtZGlzYWJsZWQiLGEpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLGEpfSxfZm9jdXNCdXR0b246ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLmJ1dHRvbi5mb2N1cygpfSw0MCl9LF9zZWxlY3RPcHRpb25zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0LmZpbmQoIm9wdGlvbiIpfSxfcHJlRXh0ZW5zaW9uOmZ1bmN0aW9uKCl7dmFyIGI9IiI7IX50aGlzLmVsZW1lbnRbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1sZWZ0Iil8fChiPSIgdWktYnRuLWxlZnQiKSwhfnRoaXMuZWxlbWVudFswXS5jbGFzc05hbWUuaW5kZXhPZigidWktYnRuLXJpZ2h0Iil8fChiPSIgdWktYnRuLXJpZ2h0IiksdGhpcy5zZWxlY3Q9dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1idG4tbGVmdCB1aS1idG4tcmlnaHQiKS53cmFwKCI8ZGl2IGNsYXNzPSd1aS1zZWxlY3QiK2IrIic+IiksdGhpcy5zZWxlY3RJRD10aGlzLnNlbGVjdC5hdHRyKCJpZCIpLHRoaXMubGFiZWw9YSgibGFiZWxbZm9yPSciK3RoaXMuc2VsZWN0SUQrIiddIikuYWRkQ2xhc3MoInVpLXNlbGVjdCIpLHRoaXMuaXNNdWx0aXBsZT10aGlzLnNlbGVjdFswXS5tdWx0aXBsZSx0aGlzLm9wdGlvbnMudGhlbWV8fCh0aGlzLm9wdGlvbnMudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5zZWxlY3QsImMiKSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LnBhcmVudHMoIi51aS1zZWxlY3QiKTthLmxlbmd0aD4wJiYoYS5pcygiLnVpLWJ0bi1sZWZ0LCAudWktYnRuLXJpZ2h0IikmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyhhLmlzKCIudWktYnRuLWxlZnQiKT8idWktYnRuLWxlZnQiOiJ1aS1idG4tcmlnaHQiKSx0aGlzLmVsZW1lbnQuaW5zZXJ0QWZ0ZXIoYSksYS5yZW1vdmUoKSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9wcmVFeHRlbnNpb24oKSx0aGlzLl90cmlnZ2VyKCJiZWZvcmVDcmVhdGUiKSx0aGlzLmJ1dHRvbj10aGlzLl9idXR0b24oKTt2YXIgYz10aGlzLGQ9dGhpcy5vcHRpb25zLGU9ZC5pbmxpbmV8fHRoaXMuc2VsZWN0LmpxbURhdGEoImlubGluZSIpLGY9ZC5taW5pfHx0aGlzLnNlbGVjdC5qcW1EYXRhKCJtaW5pIiksZz1kLmljb24/ZC5pY29ucG9zfHx0aGlzLnNlbGVjdC5qcW1EYXRhKCJpY29ucG9zIik6ITEsaD10aGlzLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4PT09LTE/MDp0aGlzLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4LGk9dGhpcy5idXR0b24uaW5zZXJ0QmVmb3JlKHRoaXMuc2VsZWN0KS5idXR0b25NYXJrdXAoe3RoZW1lOmQudGhlbWUsaWNvbjpkLmljb24saWNvbnBvczpnLGlubGluZTplLGNvcm5lcnM6ZC5jb3JuZXJzLHNoYWRvdzpkLnNoYWRvdyxpY29uc2hhZG93OmQuaWNvbnNoYWRvdyxtaW5pOmZ9KTt0aGlzLnNldEJ1dHRvblRleHQoKSxkLm5hdGl2ZU1lbnUmJmIub3BlcmEmJmIub3BlcmEudmVyc2lvbiYmaS5hZGRDbGFzcygidWktc2VsZWN0LW5hdGl2ZW9ubHkiKSx0aGlzLmlzTXVsdGlwbGUmJih0aGlzLmJ1dHRvbkNvdW50PWEoIjxzcGFuPiIpLmFkZENsYXNzKCJ1aS1saS1jb3VudCB1aS1idG4tdXAtYyB1aS1idG4tY29ybmVyLWFsbCIpLmhpZGUoKS5hcHBlbmRUbyhpLmFkZENsYXNzKCJ1aS1saS1oYXMtY291bnQiKSkpLChkLmRpc2FibGVkfHx0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiKSkmJnRoaXMuZGlzYWJsZSgpLHRoaXMuc2VsZWN0LmNoYW5nZShmdW5jdGlvbigpe2MucmVmcmVzaCgpfSksdGhpcy5faGFuZGxlRm9ybVJlc2V0JiZ0aGlzLl9oYW5kbGVGb3JtUmVzZXQoKSx0aGlzLmJ1aWxkKCl9LGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLnNlbGVjdC5hcHBlbmRUbyhiLmJ1dHRvbikuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJmb2N1cyIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7Yi5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5iaW5kKCJmb2N1cyB2bW91c2VvdmVyIixmdW5jdGlvbigpe2IuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW92ZXIiKX0pLmJpbmQoInZtb3VzZW1vdmUiLGZ1bmN0aW9uKCl7Yi5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2hhbmdlIGJsdXIgdm1vdXNlb3V0IixmdW5jdGlvbigpe2IuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW91dCIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImNoYW5nZSBibHVyIixmdW5jdGlvbigpe2IuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1idG4tZG93bi0iK2Iub3B0aW9ucy50aGVtZSl9KSxiLmJ1dHRvbi5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApfSksYi5sYWJlbC5iaW5kKCJjbGljayBmb2N1cyIsZnVuY3Rpb24oKXtiLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKX0pLGIuc2VsZWN0LmJpbmQoImZvY3VzIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApfSksYi5idXR0b24uYmluZCgibW91c2V1cCIsZnVuY3Rpb24oKXtiLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmc2V0VGltZW91dChmdW5jdGlvbigpe2EubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0sMCl9KSxiLnNlbGVjdC5iaW5kKCJibHVyIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmVuYWJsZSghMCl9KX0sc2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLmZpbHRlcigiOnNlbGVjdGVkIil9LHNlbGVjdGVkSW5kaWNlczpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIHRoaXMuc2VsZWN0ZWQoKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYS5fc2VsZWN0T3B0aW9ucygpLmluZGV4KHRoaXMpfSkuZ2V0KCl9LHNldEJ1dHRvblRleHQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGQ9dGhpcy5zZWxlY3RlZCgpLGU9dGhpcy5wbGFjZWhvbGRlcixmPWEoYy5jcmVhdGVFbGVtZW50KCJzcGFuIikpO3RoaXMuYnV0dG9uLmZpbmQoIi51aS1idG4tdGV4dCIpLmh0bWwoZnVuY3Rpb24oKXtyZXR1cm4gZC5sZW5ndGg/ZT1kLm1hcChmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLnRleHQoKX0pLmdldCgpLmpvaW4oIiwgIik6ZT1iLnBsYWNlaG9sZGVyLGYudGV4dChlKS5hZGRDbGFzcyhiLnNlbGVjdC5hdHRyKCJjbGFzcyIpKS5hZGRDbGFzcyhkLmF0dHIoImNsYXNzIikpfSl9LHNldEJ1dHRvbkNvdW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZWxlY3RlZCgpO3RoaXMuaXNNdWx0aXBsZSYmdGhpcy5idXR0b25Db3VudFthLmxlbmd0aD4xPyJzaG93IjoiaGlkZSJdKCkudGV4dChhLmxlbmd0aCl9LF9yZXNldDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5zZXRCdXR0b25UZXh0KCksdGhpcy5zZXRCdXR0b25Db3VudCgpfSxvcGVuOmEubm9vcCxjbG9zZTphLm5vb3AsZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuX3NldERpc2FibGVkKCEwKSx0aGlzLmJ1dHRvbi5hZGRDbGFzcygidWktZGlzYWJsZWQiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0RGlzYWJsZWQoITEpLHRoaXMuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpfX0pLGEud2lkZ2V0KCJtb2JpbGUuc2VsZWN0bWVudSIsYS5tb2JpbGUuc2VsZWN0bWVudSxhLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUuc2VsZWN0bWVudS5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwhMCl9KX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgZD1mdW5jdGlvbihkKXt2YXIgZT1kLnNlbGVjdCxmPWQuX2Rlc3Ryb3ksZz1kLnNlbGVjdElELGg9Zz9nOihhLm1vYmlsZS5uc3x8IiIpKyJ1dWlkLSIrZC51dWlkLGk9aCsiLWxpc3Rib3giLGo9aCsiLWRpYWxvZyIsaz1kLmxhYmVsLGw9ZC5zZWxlY3QuY2xvc2VzdCgiLnVpLXBhZ2UiKSxtPWQuX3NlbGVjdE9wdGlvbnMoKSxuPWQuaXNNdWx0aXBsZT1kLnNlbGVjdFswXS5tdWx0aXBsZSxvPWcrIi1idXR0b24iLHA9ZysiLW1lbnUiLHE9YSgiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2RpYWxvZycgaWQ9JyIraisiJyBkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lPSciK2Qub3B0aW9ucy50aGVtZSsiJyBkYXRhLSIrYS5tb2JpbGUubnMrIm92ZXJsYXktdGhlbWU9JyIrZC5vcHRpb25zLm92ZXJsYXlUaGVtZSsiJz4iKyI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0naGVhZGVyJz4iKyI8ZGl2IGNsYXNzPSd1aS10aXRsZSc+IitrLmdldEVuY29kZWRUZXh0KCkrIjwvZGl2PiIrIjwvZGl2PiIrIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdjb250ZW50Jz48L2Rpdj4iKyI8L2Rpdj4iKSxyPWEoIjxkaXYgaWQ9JyIraSsiJyBjbGFzcz0ndWktc2VsZWN0bWVudSc+IikuaW5zZXJ0QWZ0ZXIoZC5zZWxlY3QpLnBvcHVwKHt0aGVtZTpkLm9wdGlvbnMub3ZlcmxheVRoZW1lfSkscz1hKCI8dWw+Iix7ImNsYXNzIjoidWktc2VsZWN0bWVudS1saXN0IixpZDpwLHJvbGU6Imxpc3Rib3giLCJhcmlhLWxhYmVsbGVkYnkiOm99KS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIixkLm9wdGlvbnMudGhlbWUpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiZGl2aWRlci10aGVtZSIsZC5vcHRpb25zLmRpdmlkZXJUaGVtZSkuYXBwZW5kVG8ociksdD1hKCI8ZGl2PiIseyJjbGFzcyI6InVpLWhlYWRlciB1aS1iYXItIitkLm9wdGlvbnMudGhlbWV9KS5wcmVwZW5kVG8ociksdT1hKCI8aDE+Iix7ImNsYXNzIjoidWktdGl0bGUifSkuYXBwZW5kVG8odCksdix3LHg7ZC5pc011bHRpcGxlJiYoeD1hKCI8YT4iLHt0ZXh0OmQub3B0aW9ucy5jbG9zZVRleHQsaHJlZjoiIyIsImNsYXNzIjoidWktYnRuLWxlZnQifSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJpY29ucG9zIiwibm90ZXh0IikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uIiwiZGVsZXRlIikuYXBwZW5kVG8odCkuYnV0dG9uTWFya3VwKCkpLGEuZXh0ZW5kKGQse3NlbGVjdDpkLnNlbGVjdCxzZWxlY3RJRDpnLGJ1dHRvbklkOm8sbWVudUlkOnAscG9wdXBJRDppLGRpYWxvZ0lEOmosdGhpc1BhZ2U6bCxtZW51UGFnZTpxLGxhYmVsOmssc2VsZWN0T3B0aW9uczptLGlzTXVsdGlwbGU6bix0aGVtZTpkLm9wdGlvbnMudGhlbWUsbGlzdGJveDpyLGxpc3Q6cyxoZWFkZXI6dCxoZWFkZXJUaXRsZTp1LGhlYWRlckNsb3NlOngsbWVudVBhZ2VDb250ZW50OnYsbWVudVBhZ2VDbG9zZTp3LHBsYWNlaG9sZGVyOiIiLGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcztjLnJlZnJlc2goKSxjLl9vcmlnVGFiSW5kZXg9PT1iJiYoYy5fb3JpZ1RhYkluZGV4PWMuc2VsZWN0WzBdLmdldEF0dHJpYnV0ZSgidGFiaW5kZXgiKT09PW51bGw/ITE6Yy5zZWxlY3QuYXR0cigidGFiaW5kZXgiKSksYy5zZWxlY3QuYXR0cigidGFiaW5kZXgiLCItMSIpLmZvY3VzKGZ1bmN0aW9uKCl7YSh0aGlzKS5ibHVyKCksYy5idXR0b24uZm9jdXMoKX0pLGMuYnV0dG9uLmJpbmQoInZjbGljayBrZXlkb3duIixmdW5jdGlvbihiKXtpZihjLm9wdGlvbnMuZGlzYWJsZWR8fGMuaXNPcGVuKXJldHVybjtpZihiLnR5cGU9PT0idmNsaWNrInx8Yi5rZXlDb2RlJiYoYi5rZXlDb2RlPT09YS5tb2JpbGUua2V5Q29kZS5FTlRFUnx8Yi5rZXlDb2RlPT09YS5tb2JpbGUua2V5Q29kZS5TUEFDRSkpYy5fZGVjaWRlRm9ybWF0KCksYy5tZW51VHlwZT09PSJvdmVybGF5Ij9jLmJ1dHRvbi5hdHRyKCJocmVmIiwiIyIrYy5wb3B1cElEKS5hdHRyKCJkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrInJlbCIsInBvcHVwIik6Yy5idXR0b24uYXR0cigiaHJlZiIsIiMiK2MuZGlhbG9nSUQpLmF0dHIoImRhdGEtIisoYS5tb2JpbGUubnN8fCIiKSsicmVsIiwiZGlhbG9nIiksYy5pc09wZW49ITB9KSxjLmxpc3QuYXR0cigicm9sZSIsImxpc3Rib3giKS5iaW5kKCJmb2N1c2luIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5hdHRyKCJ0YWJpbmRleCIsIjAiKS50cmlnZ2VyKCJ2bW91c2VvdmVyIil9KS5iaW5kKCJmb2N1c291dCIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuYXR0cigidGFiaW5kZXgiLCItMSIpLnRyaWdnZXIoInZtb3VzZW91dCIpfSkuZGVsZWdhdGUoImxpOm5vdCgudWktZGlzYWJsZWQsIC51aS1saS1kaXZpZGVyKSIsImNsaWNrIixmdW5jdGlvbihiKXt2YXIgZT1jLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4LGY9Yy5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5pbmRleCh0aGlzKSxnPWMuX3NlbGVjdE9wdGlvbnMoKS5lcShmKVswXTtnLnNlbGVjdGVkPWMuaXNNdWx0aXBsZT8hZy5zZWxlY3RlZDohMCxjLmlzTXVsdGlwbGUmJmEodGhpcykuZmluZCgiLnVpLWljb24iKS50b2dnbGVDbGFzcygidWktaWNvbi1jaGVja2JveC1vbiIsZy5zZWxlY3RlZCkudG9nZ2xlQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb2ZmIiwhZy5zZWxlY3RlZCksKGMuaXNNdWx0aXBsZXx8ZSE9PWYpJiZjLnNlbGVjdC50cmlnZ2VyKCJjaGFuZ2UiKSxjLmlzTXVsdGlwbGU/Yy5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5lcShmKS5hZGRDbGFzcygidWktYnRuLWRvd24tIitkLm9wdGlvbnMudGhlbWUpLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCk6Yy5jbG9zZSgpLGIucHJldmVudERlZmF1bHQoKX0pLmtleWRvd24oZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCksZT1jLmNsb3Nlc3QoImxpIiksZixnO3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgMzg6cmV0dXJuIGY9ZS5wcmV2KCkubm90KCIudWktc2VsZWN0bWVudS1wbGFjZWhvbGRlciIpLGYuaXMoIi51aS1saS1kaXZpZGVyIikmJihmPWYucHJldigpKSxmLmxlbmd0aCYmKGMuYmx1cigpLmF0dHIoInRhYmluZGV4IiwiLTEiKSxmLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK2Qub3B0aW9ucy50aGVtZSkuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKSksITE7Y2FzZSA0MDpyZXR1cm4gZz1lLm5leHQoKSxnLmlzKCIudWktbGktZGl2aWRlciIpJiYoZz1nLm5leHQoKSksZy5sZW5ndGgmJihjLmJsdXIoKS5hdHRyKCJ0YWJpbmRleCIsIi0xIiksZy5hZGRDbGFzcygidWktYnRuLWRvd24tIitkLm9wdGlvbnMudGhlbWUpLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCkpLCExO2Nhc2UgMTM6Y2FzZSAzMjpyZXR1cm4gYy50cmlnZ2VyKCJjbGljayIpLCExfX0pLGMubWVudVBhZ2UuYmluZCgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7YS5tb2JpbGUuX2JpbmRQYWdlUmVtb3ZlLmNhbGwoYy50aGlzUGFnZSl9KSxjLmxpc3Rib3guYmluZCgicG9wdXBhZnRlcmNsb3NlIixmdW5jdGlvbihhKXtjLmNsb3NlKCl9KSxjLmlzTXVsdGlwbGUmJmMuaGVhZGVyQ2xvc2UuY2xpY2soZnVuY3Rpb24oKXtpZihjLm1lbnVUeXBlPT09Im92ZXJsYXkiKXJldHVybiBjLmNsb3NlKCksITF9KSxjLnRoaXNQYWdlLmFkZERlcGVuZGVudHModGhpcy5tZW51UGFnZSl9LF9pc1JlYnVpbGRSZXF1aXJlZDpmdW5jdGlvbigpe3ZhciBhPXRoaXMubGlzdC5maW5kKCJsaSIpLGI9dGhpcy5fc2VsZWN0T3B0aW9ucygpO3JldHVybiBiLnRleHQoKSE9PWEudGV4dCgpfSxzZWxlY3RlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RPcHRpb25zKCkuZmlsdGVyKCI6c2VsZWN0ZWQ6bm90KCA6anFtRGF0YShwbGFjZWhvbGRlcj0ndHJ1ZScpICkiKX0scmVmcmVzaDpmdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMsZT10aGlzLmVsZW1lbnQsZj10aGlzLmlzTXVsdGlwbGUsZzsoYnx8dGhpcy5faXNSZWJ1aWxkUmVxdWlyZWQoKSkmJmQuX2J1aWxkTGlzdCgpLGc9dGhpcy5zZWxlY3RlZEluZGljZXMoKSxkLnNldEJ1dHRvblRleHQoKSxkLnNldEJ1dHRvbkNvdW50KCksZC5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuYXR0cigiYXJpYS1zZWxlY3RlZCIsITEpLmVhY2goZnVuY3Rpb24oYil7aWYoYS5pbkFycmF5KGIsZyk+LTEpe3ZhciBjPWEodGhpcyk7Yy5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMCksZC5pc011bHRpcGxlP2MuZmluZCgiLnVpLWljb24iKS5yZW1vdmVDbGFzcygidWktaWNvbi1jaGVja2JveC1vZmYiKS5hZGRDbGFzcygidWktaWNvbi1jaGVja2JveC1vbiIpOmMuaXMoIi51aS1zZWxlY3RtZW51LXBsYWNlaG9sZGVyIik/Yy5uZXh0KCkuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpOmMuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfX0pfSxjbG9zZTpmdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8IXRoaXMuaXNPcGVuKXJldHVybjt2YXIgYT10aGlzO2EubWVudVR5cGU9PT0icGFnZSI/KGEubWVudVBhZ2UuZGlhbG9nKCJjbG9zZSIpLGEubGlzdC5hcHBlbmRUbyhhLmxpc3Rib3gpKTphLmxpc3Rib3gucG9wdXAoImNsb3NlIiksYS5fZm9jdXNCdXR0b24oKSxhLmlzT3Blbj0hMX0sb3BlbjpmdW5jdGlvbigpe3RoaXMuYnV0dG9uLmNsaWNrKCl9LF9kZWNpZGVGb3JtYXQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBtKCl7dmFyIGM9Yi5saXN0LmZpbmQoIi4iK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKyIgYSIpO2MubGVuZ3RoPT09MCYmKGM9Yi5saXN0LmZpbmQoImxpLnVpLWJ0bjpub3QoIDpqcW1EYXRhKHBsYWNlaG9sZGVyPSd0cnVlJykgKSBhIikpLGMuZmlyc3QoKS5mb2N1cygpLmNsb3Nlc3QoImxpIikuYWRkQ2xhc3MoInVpLWJ0bi1kb3duLSIrZC5vcHRpb25zLnRoZW1lKX12YXIgYj10aGlzLGM9YS5tb2JpbGUud2luZG93LGU9Yi5saXN0LnBhcmVudCgpLGY9ZS5vdXRlckhlaWdodCgpLGc9ZS5vdXRlcldpZHRoKCksaD1hKCIuIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLGk9Yy5zY3JvbGxUb3AoKSxqPWIuYnV0dG9uLm9mZnNldCgpLnRvcCxrPWMuaGVpZ2h0KCksbD1jLndpZHRoKCk7Zj5rLTgwfHwhYS5zdXBwb3J0LnNjcm9sbFRvcD8oYi5tZW51UGFnZS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKS5wYWdlKCksYi5tZW51UGFnZUNvbnRlbnQ9cS5maW5kKCIudWktY29udGVudCIpLGIubWVudVBhZ2VDbG9zZT1xLmZpbmQoIi51aS1oZWFkZXIgYSIpLGIudGhpc1BhZ2UudW5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiKSxpPT09MCYmaj5rJiZiLnRoaXNQYWdlLm9uZSgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7YSh0aGlzKS5qcW1EYXRhKCJsYXN0U2Nyb2xsIixqKX0pLGIubWVudVBhZ2Uub25lKCJwYWdlc2hvdyIsZnVuY3Rpb24oKXttKCl9KS5vbmUoInBhZ2VoaWRlIixmdW5jdGlvbigpe2IuY2xvc2UoKX0pLGIubWVudVR5cGU9InBhZ2UiLGIubWVudVBhZ2VDb250ZW50LmFwcGVuZChiLmxpc3QpLGIubWVudVBhZ2UuZmluZCgiZGl2IC51aS10aXRsZSIpLnRleHQoYi5sYWJlbC50ZXh0KCkpKTooYi5tZW51VHlwZT0ib3ZlcmxheSIsYi5saXN0Ym94Lm9uZSgicG9wdXBhZnRlcm9wZW4iLG0pKX0sX2J1aWxkTGlzdDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD10aGlzLm9wdGlvbnMsZT10aGlzLnBsYWNlaG9sZGVyLGY9ITAsZz1bXSxoPVtdLGk9Yi5pc011bHRpcGxlPyJjaGVja2JveC1vZmYiOiJmYWxzZSI7Yi5saXN0LmVtcHR5KCkuZmlsdGVyKCIudWktbGlzdHZpZXciKS5saXN0dmlldygiZGVzdHJveSIpO3ZhciBqPWIuc2VsZWN0LmZpbmQoIm9wdGlvbiIpLGs9ai5sZW5ndGgsbD10aGlzLnNlbGVjdFswXSxtPSJkYXRhLSIrYS5tb2JpbGUubnMsbj1tKyJvcHRpb24taW5kZXgiLG89bSsiaWNvbiIscD1tKyJyb2xlIixxPW0rInBsYWNlaG9sZGVyIixyPWMuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHM9ITEsdDtmb3IodmFyIHU9MDt1PGs7dSsrLHM9ITEpe3ZhciB2PWpbdV0sdz1hKHYpLHg9di5wYXJlbnROb2RlLHk9dy50ZXh0KCksej1jLmNyZWF0ZUVsZW1lbnQoImEiKSxBPVtdO3ouc2V0QXR0cmlidXRlKCJocmVmIiwiIyIpLHouYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZSh5KSk7aWYoeCE9PWwmJngubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJvcHRncm91cCIpe3ZhciBCPXguZ2V0QXR0cmlidXRlKCJsYWJlbCIpO2lmKEIhPT10KXt2YXIgQz1jLmNyZWF0ZUVsZW1lbnQoImxpIik7Qy5zZXRBdHRyaWJ1dGUocCwibGlzdC1kaXZpZGVyIiksQy5zZXRBdHRyaWJ1dGUoInJvbGUiLCJvcHRpb24iKSxDLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCItMSIpLEMuYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShCKSksci5hcHBlbmRDaGlsZChDKSx0PUJ9fWYmJighdi5nZXRBdHRyaWJ1dGUoInZhbHVlIil8fHkubGVuZ3RoPT09MHx8dy5qcW1EYXRhKCJwbGFjZWhvbGRlciIpKSYmKGY9ITEscz0hMCxudWxsPT09di5nZXRBdHRyaWJ1dGUocSkmJih0aGlzLl9yZW1vdmVQbGFjZWhvbGRlckF0dHI9ITApLHYuc2V0QXR0cmlidXRlKHEsITApLGQuaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zJiZBLnB1c2goInVpLXNlbGVjdG1lbnUtcGxhY2Vob2xkZXIiKSxlIT09eSYmKGU9Yi5wbGFjZWhvbGRlcj15KSk7dmFyIEQ9Yy5jcmVhdGVFbGVtZW50KCJsaSIpO3YuZGlzYWJsZWQmJihBLnB1c2goInVpLWRpc2FibGVkIiksRC5zZXRBdHRyaWJ1dGUoImFyaWEtZGlzYWJsZWQiLCEwKSksRC5zZXRBdHRyaWJ1dGUobix1KSxELnNldEF0dHJpYnV0ZShvLGkpLHMmJkQuc2V0QXR0cmlidXRlKHEsITApLEQuY2xhc3NOYW1lPUEuam9pbigiICIpLEQuc2V0QXR0cmlidXRlKCJyb2xlIiwib3B0aW9uIiksei5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwiLTEiKSxELmFwcGVuZENoaWxkKHopLHIuYXBwZW5kQ2hpbGQoRCl9Yi5saXN0WzBdLmFwcGVuZENoaWxkKHIpLCF0aGlzLmlzTXVsdGlwbGUmJiFlLmxlbmd0aD90aGlzLmhlYWRlci5oaWRlKCk6dGhpcy5oZWFkZXJUaXRsZS50ZXh0KHRoaXMucGxhY2Vob2xkZXIpLGIubGlzdC5saXN0dmlldygpfSxfYnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIGEoIjxhPiIse2hyZWY6IiMiLHJvbGU6ImJ1dHRvbiIsaWQ6dGhpcy5idXR0b25JZCwiYXJpYS1oYXNwb3B1cCI6InRydWUiLCJhcmlhLW93bnMiOnRoaXMubWVudUlkfSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5jbG9zZSgpLHRoaXMuX29yaWdUYWJJbmRleCE9PWImJih0aGlzLl9vcmlnVGFiSW5kZXghPT0hMT90aGlzLnNlbGVjdC5hdHRyKCJ0YWJpbmRleCIsdGhpcy5fb3JpZ1RhYkluZGV4KTp0aGlzLnNlbGVjdC5yZW1vdmVBdHRyKCJ0YWJpbmRleCIpKSx0aGlzLl9yZW1vdmVQbGFjZWhvbGRlckF0dHImJnRoaXMuX3NlbGVjdE9wdGlvbnMoKS5yZW1vdmVBdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInBsYWNlaG9sZGVyIiksdGhpcy5saXN0Ym94LnJlbW92ZSgpLGYuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pfTthLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJzZWxlY3RtZW51YmVmb3JlY3JlYXRlIixmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KS5kYXRhKCJtb2JpbGUtc2VsZWN0bWVudSIpOyFjLm9wdGlvbnMubmF0aXZlTWVudSYmYy5lbGVtZW50LnBhcmVudHMoIjpqcW1EYXRhKHJvbGU9J3BvcHVwJykiKS5sZW5ndGg9PT0wJiZkKGMpfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5maXhlZHRvb2xiYXIiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dmlzaWJsZU9uUGFnZVNob3c6ITAsZGlzYWJsZVBhZ2Vab29tOiEwLHRyYW5zaXRpb246InNsaWRlIixmdWxsc2NyZWVuOiExLHRhcFRvZ2dsZTohMCx0YXBUb2dnbGVCbGFja2xpc3Q6ImEsIGJ1dHRvbiwgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIC51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWQsIC51aS1wb3B1cCwgLnVpLXBhbmVsLCAudWktcGFuZWwtZGlzbWlzcy1vcGVuIixoaWRlRHVyaW5nRm9jdXM6ImlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0Iix1cGRhdGVQYWdlUGFkZGluZzohMCx0cmFja1BlcnNpc3RlbnRUb29sYmFyczohMCxzdXBwb3J0QmxhY2tsaXN0OmZ1bmN0aW9uKCl7cmV0dXJuIWEuc3VwcG9ydC5maXhlZFBvc2l0aW9ufSxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1iLm9wdGlvbnMsZD1iLmVsZW1lbnQsZT1kLmlzKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpPyJoZWFkZXIiOiJmb290ZXIiLGY9ZC5jbG9zZXN0KCIudWktcGFnZSIpO2lmKGMuc3VwcG9ydEJsYWNrbGlzdCgpKXtiLmRlc3Ryb3koKTtyZXR1cm59ZC5hZGRDbGFzcygidWktIitlKyItZml4ZWQiKSxjLmZ1bGxzY3JlZW4/KGQuYWRkQ2xhc3MoInVpLSIrZSsiLWZ1bGxzY3JlZW4iKSxmLmFkZENsYXNzKCJ1aS1wYWdlLSIrZSsiLWZ1bGxzY3JlZW4iKSk6Zi5hZGRDbGFzcygidWktcGFnZS0iK2UrIi1maXhlZCIpLGEuZXh0ZW5kKHRoaXMse190aGlzUGFnZTpudWxsfSksYi5fYWRkVHJhbnNpdGlvbkNsYXNzKCksYi5fYmluZFBhZ2VFdmVudHMoKSxiLl9iaW5kVG9nZ2xlSGFuZGxlcnMoKX0sX2FkZFRyYW5zaXRpb25DbGFzczpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucy50cmFuc2l0aW9uO2EmJmEhPT0ibm9uZSImJihhPT09InNsaWRlIiYmKGE9dGhpcy5lbGVtZW50LmlzKCIudWktaGVhZGVyIik/InNsaWRlZG93biI6InNsaWRldXAiKSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoYSkpfSxfYmluZFBhZ2VFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl90aGlzUGFnZT10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKSx0aGlzLl9vbih0aGlzLl90aGlzUGFnZSx7cGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyIsd2Via2l0QW5pbWF0aW9uU3RhcnQ6Il9oYW5kbGVBbmltYXRpb25TdGFydCIsYW5pbWF0aW9uc3RhcnQ6Il9oYW5kbGVBbmltYXRpb25TdGFydCIsdXBkYXRlbGF5b3V0OiJfaGFuZGxlQW5pbWF0aW9uU3RhcnQiLHBhZ2VzaG93OiJfaGFuZGxlUGFnZVNob3ciLHBhZ2ViZWZvcmVoaWRlOiJfaGFuZGxlUGFnZUJlZm9yZUhpZGUifSl9LF9oYW5kbGVQYWdlQmVmb3JlU2hvdzpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucztiLmRpc2FibGVQYWdlWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKSxiLnZpc2libGVPblBhZ2VTaG93fHx0aGlzLmhpZGUoITApfSxfaGFuZGxlQW5pbWF0aW9uU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMudXBkYXRlUGFnZVBhZGRpbmcmJnRoaXMudXBkYXRlUGFnZVBhZGRpbmcodGhpcy5fdGhpc1BhZ2UpfSxfaGFuZGxlUGFnZVNob3c6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZVBhZ2VQYWRkaW5nKHRoaXMuX3RoaXNQYWdlKSx0aGlzLm9wdGlvbnMudXBkYXRlUGFnZVBhZGRpbmcmJnRoaXMuX29uKGEubW9iaWxlLndpbmRvdyx7dGhyb3R0bGVkcmVzaXplOiJ1cGRhdGVQYWdlUGFkZGluZyJ9KX0sX2hhbmRsZVBhZ2VCZWZvcmVIaWRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy5vcHRpb25zO2QuZGlzYWJsZVBhZ2Vab29tJiZhLm1vYmlsZS56b29tLmVuYWJsZSghMCksZC51cGRhdGVQYWdlUGFkZGluZyYmdGhpcy5fb2ZmKGEubW9iaWxlLndpbmRvdywidGhyb3R0bGVkcmVzaXplIik7aWYoZC50cmFja1BlcnNpc3RlbnRUb29sYmFycyl7dmFyIGU9YSgiLnVpLWZvb3Rlci1maXhlZDpqcW1EYXRhKGlkKSIsdGhpcy5fdGhpc1BhZ2UpLGY9YSgiLnVpLWhlYWRlci1maXhlZDpqcW1EYXRhKGlkKSIsdGhpcy5fdGhpc1BhZ2UpLGc9ZS5sZW5ndGgmJmMubmV4dFBhZ2UmJmEoIi51aS1mb290ZXItZml4ZWQ6anFtRGF0YShpZD0nIitlLmpxbURhdGEoImlkIikrIicpIixjLm5leHRQYWdlKXx8YSgpLGg9Zi5sZW5ndGgmJmMubmV4dFBhZ2UmJmEoIi51aS1oZWFkZXItZml4ZWQ6anFtRGF0YShpZD0nIitmLmpxbURhdGEoImlkIikrIicpIixjLm5leHRQYWdlKXx8YSgpO2lmKGcubGVuZ3RofHxoLmxlbmd0aClnLmFkZChoKS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKSxjLm5leHRQYWdlLm9uZSgicGFnZXNob3ciLGZ1bmN0aW9uKCl7aC5wcmVwZW5kVG8odGhpcyksZy5hcHBlbmRUbyh0aGlzKX0pfX0sX3Zpc2libGU6ITAsdXBkYXRlUGFnZVBhZGRpbmc6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5lbGVtZW50LGQ9Yy5pcygiLnVpLWhlYWRlciIpLGU9cGFyc2VGbG9hdChjLmNzcyhkPyJ0b3AiOiJib3R0b20iKSk7aWYodGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4pcmV0dXJuO2I9Ynx8dGhpcy5fdGhpc1BhZ2V8fGMuY2xvc2VzdCgiLnVpLXBhZ2UiKSxhKGIpLmNzcygicGFkZGluZy0iKyhkPyJ0b3AiOiJib3R0b20iKSxjLm91dGVySGVpZ2h0KCkrZSl9LF91c2VUcmFuc2l0aW9uOmZ1bmN0aW9uKGIpe3ZhciBjPWEubW9iaWxlLndpbmRvdyxkPXRoaXMuZWxlbWVudCxlPWMuc2Nyb2xsVG9wKCksZj1kLmhlaWdodCgpLGc9ZC5jbG9zZXN0KCIudWktcGFnZSIpLmhlaWdodCgpLGg9YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCksaT1kLmlzKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpPyJoZWFkZXIiOiJmb290ZXIiO3JldHVybiFiJiYodGhpcy5vcHRpb25zLnRyYW5zaXRpb24mJnRoaXMub3B0aW9ucy50cmFuc2l0aW9uIT09Im5vbmUiJiYoaT09PSJoZWFkZXIiJiYhdGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4mJmU+Znx8aT09PSJmb290ZXIiJiYhdGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4mJmUraDxnLWYpfHx0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbil9LHNob3c6ZnVuY3Rpb24oYSl7dmFyIGI9InVpLWZpeGVkLWhpZGRlbiIsYz10aGlzLmVsZW1lbnQ7dGhpcy5fdXNlVHJhbnNpdGlvbihhKT9jLnJlbW92ZUNsYXNzKCJvdXQgIitiKS5hZGRDbGFzcygiaW4iKS5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoImluIil9KTpjLnJlbW92ZUNsYXNzKGIpLHRoaXMuX3Zpc2libGU9ITB9LGhpZGU6ZnVuY3Rpb24oYSl7dmFyIGI9InVpLWZpeGVkLWhpZGRlbiIsYz10aGlzLmVsZW1lbnQsZD0ib3V0IisodGhpcy5vcHRpb25zLnRyYW5zaXRpb249PT0ic2xpZGUiPyIgcmV2ZXJzZSI6IiIpO3RoaXMuX3VzZVRyYW5zaXRpb24oYSk/Yy5hZGRDbGFzcyhkKS5yZW1vdmVDbGFzcygiaW4iKS5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2MuYWRkQ2xhc3MoYikucmVtb3ZlQ2xhc3MoZCl9KTpjLmFkZENsYXNzKGIpLnJlbW92ZUNsYXNzKGQpLHRoaXMuX3Zpc2libGU9ITF9LHRvZ2dsZTpmdW5jdGlvbigpe3RoaXNbdGhpcy5fdmlzaWJsZT8iaGlkZSI6InNob3ciXSgpfSxfYmluZFRvZ2dsZUhhbmRsZXJzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjLGQ9Yi5vcHRpb25zLGU9Yi5lbGVtZW50O2UuY2xvc2VzdCgiLnVpLXBhZ2UiKS5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKGMpe2QudGFwVG9nZ2xlJiYhYShjLnRhcmdldCkuY2xvc2VzdChkLnRhcFRvZ2dsZUJsYWNrbGlzdCkubGVuZ3RoJiZiLnRvZ2dsZSgpfSkuYmluZCgiZm9jdXNpbiBmb2N1c291dCIsZnVuY3Rpb24oZSl7c2NyZWVuLndpZHRoPDEwMjUmJmEoZS50YXJnZXQpLmlzKGQuaGlkZUR1cmluZ0ZvY3VzKSYmIWEoZS50YXJnZXQpLmNsb3Nlc3QoIi51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWQiKS5sZW5ndGgmJihlLnR5cGU9PT0iZm9jdXNvdXQiJiYhYi5fdmlzaWJsZT9jPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnNob3coKX0sMCk6ZS50eXBlPT09ImZvY3VzaW4iJiZiLl92aXNpYmxlJiYoY2xlYXJUaW1lb3V0KGMpLGIuaGlkZSgpKSl9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQsYj1hLmlzKCIudWktaGVhZGVyIik7YS5jbG9zZXN0KCIudWktcGFnZSIpLmNzcygicGFkZGluZy0iKyhiPyJ0b3AiOiJib3R0b20iKSwiIiksYS5yZW1vdmVDbGFzcygidWktaGVhZGVyLWZpeGVkIHVpLWZvb3Rlci1maXhlZCB1aS1oZWFkZXItZnVsbHNjcmVlbiB1aS1mb290ZXItZnVsbHNjcmVlbiBpbiBvdXQgZmFkZSBzbGlkZWRvd24gc2xpZGV1cCB1aS1maXhlZC1oaWRkZW4iKSxhLmNsb3Nlc3QoIi51aS1wYWdlIikucmVtb3ZlQ2xhc3MoInVpLXBhZ2UtaGVhZGVyLWZpeGVkIHVpLXBhZ2UtZm9vdGVyLWZpeGVkIHVpLXBhZ2UtaGVhZGVyLWZ1bGxzY3JlZW4gdWktcGFnZS1mb290ZXItZnVsbHNjcmVlbiIpfX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5qcW1EYXRhKCJmdWxsc2NyZWVuIikmJmEoYS5tb2JpbGUuZml4ZWR0b29sYmFyLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvcixiLnRhcmdldCkubm90KCI6anFtRGF0YShmdWxsc2NyZWVuKSIpLmpxbURhdGEoImZ1bGxzY3JlZW4iLCEwKSxhLm1vYmlsZS5maXhlZHRvb2xiYXIucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5maXhlZHRvb2xiYXIiLGEubW9iaWxlLmZpeGVkdG9vbGJhcix7X2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5fd29ya2Fyb3VuZHMoKX0sX3dvcmthcm91bmRzOmZ1bmN0aW9uKCl7dmFyIGE9bmF2aWdhdG9yLnVzZXJBZ2VudCxiPW5hdmlnYXRvci5wbGF0Zm9ybSxjPWEubWF0Y2goL0FwcGxlV2ViS2l0XC8oWzAtOV0rKS8pLGQ9ISFjJiZjWzFdLGU9bnVsbCxmPXRoaXM7aWYoYi5pbmRleE9mKCJpUGhvbmUiKT4tMXx8Yi5pbmRleE9mKCJpUGFkIik+LTF8fGIuaW5kZXhPZigiaVBvZCIpPi0xKWU9ImlvcyI7ZWxzZSBpZihhLmluZGV4T2YoIkFuZHJvaWQiKT4tMSllPSJhbmRyb2lkIjtlbHNlIHJldHVybjtpZihlPT09ImlvcyIpZi5fYmluZFNjcm9sbFdvcmthcm91bmQoKTtlbHNlIGlmKGU9PT0iYW5kcm9pZCImJmQmJmQ8NTM0KWYuX2JpbmRTY3JvbGxXb3JrYXJvdW5kKCksZi5fYmluZExpc3RUaHVtYldvcmthcm91bmQoKTtlbHNlIHJldHVybn0sX3ZpZXdwb3J0T2Zmc2V0OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9Yi5pcygiLnVpLWhlYWRlciIpLGQ9TWF0aC5hYnMoYi5vZmZzZXQoKS50b3AtYS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpKTtyZXR1cm4gY3x8KGQ9TWF0aC5yb3VuZChkLWEubW9iaWxlLndpbmRvdy5oZWlnaHQoKStiLm91dGVySGVpZ2h0KCkpLTYwKSxkfSxfYmluZFNjcm9sbFdvcmthcm91bmQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMuX29uKGEubW9iaWxlLndpbmRvdyx7c2Nyb2xsc3RvcDpmdW5jdGlvbigpe3ZhciBhPWIuX3ZpZXdwb3J0T2Zmc2V0KCk7YT4yJiZiLl92aXNpYmxlJiZiLl90cmlnZ2VyUmVkcmF3KCl9fSl9LF9iaW5kTGlzdFRodW1iV29ya2Fyb3VuZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLmFkZENsYXNzKCJ1aS1hbmRyb2lkLTJ4LWZpeGVkIil9LF90cmlnZ2VyUmVkcmF3OmZ1bmN0aW9uKCl7dmFyIGI9cGFyc2VGbG9hdChhKCIudWktcGFnZS1hY3RpdmUiKS5jc3MoInBhZGRpbmctYm90dG9tIikpO2EoIi51aS1wYWdlLWFjdGl2ZSIpLmNzcygicGFkZGluZy1ib3R0b20iLGIrMSsicHgiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YSgiLnVpLXBhZ2UtYWN0aXZlIikuY3NzKCJwYWRkaW5nLWJvdHRvbSIsYisicHgiKX0sMCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZS1hY3RpdmUiKS5yZW1vdmVDbGFzcygidWktYW5kcm9pZC0yeC1maXgiKX19KX0oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBqKGEpe2U9YS5vcmlnaW5hbEV2ZW50LGk9ZS5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5LGY9TWF0aC5hYnMoaS54KSxnPU1hdGguYWJzKGkueSksaD1NYXRoLmFicyhpLnopLCFiLm9yaWVudGF0aW9uJiYoZj43fHwoaD42JiZnPDh8fGg8OCYmZz42KSYmZj41KT9kLmVuYWJsZWQmJmQuZGlzYWJsZSgpOmQuZW5hYmxlZHx8ZC5lbmFibGUoKX1hLm1vYmlsZS5pb3NvcmllbnRhdGlvbmZpeEVuYWJsZWQ9ITA7dmFyIGM9bmF2aWdhdG9yLnVzZXJBZ2VudDtpZighKC9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJi9PUyBbMS01XV9bMC05X10qIGxpa2UgTWFjIE9TIFgvaS50ZXN0KGMpJiZjLmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTEpKXthLm1vYmlsZS5pb3NvcmllbnRhdGlvbmZpeEVuYWJsZWQ9ITE7cmV0dXJufXZhciBkPWEubW9iaWxlLnpvb20sZSxmLGcsaCxpO2EubW9iaWxlLmRvY3VtZW50Lm9uKCJtb2JpbGVpbml0IixmdW5jdGlvbigpe2EubW9iaWxlLmlvc29yaWVudGF0aW9uZml4RW5hYmxlZCYmYS5tb2JpbGUud2luZG93LmJpbmQoIm9yaWVudGF0aW9uY2hhbmdlLmlvc29yaWVudGF0aW9uZml4IixkLmVuYWJsZSkuYmluZCgiZGV2aWNlbW90aW9uLmlvc29yaWVudGF0aW9uZml4IixqKX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYixkKXtmdW5jdGlvbiBoKCl7ZS5yZW1vdmVDbGFzcygidWktbW9iaWxlLXJlbmRlcmluZyIpfXZhciBlPWEoImh0bWwiKSxmPWEoImhlYWQiKSxnPWEubW9iaWxlLndpbmRvdzthKGIuZG9jdW1lbnQpLnRyaWdnZXIoIm1vYmlsZWluaXQiKTtpZighYS5tb2JpbGUuZ3JhZGVBKCkpcmV0dXJuO2EubW9iaWxlLmFqYXhCbGFja2xpc3QmJihhLm1vYmlsZS5hamF4RW5hYmxlZD0hMSksZS5hZGRDbGFzcygidWktbW9iaWxlIHVpLW1vYmlsZS1yZW5kZXJpbmciKSxzZXRUaW1lb3V0KGgsNWUzKSxhLmV4dGVuZChhLm1vYmlsZSx7aW5pdGlhbGl6ZVBhZ2U6ZnVuY3Rpb24oKXt2YXIgYj1hLm1vYmlsZS5wYXRoLGQ9YSgiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLGU9Yi5zdHJpcEhhc2goYi5zdHJpcFF1ZXJ5UGFyYW1zKGIucGFyc2VMb2NhdGlvbigpLmhhc2gpKSxmPWMuZ2V0RWxlbWVudEJ5SWQoZSk7ZC5sZW5ndGh8fChkPWEoImJvZHkiKS53cmFwSW5uZXIoIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdwYWdlJz48L2Rpdj4iKS5jaGlsZHJlbigwKSksZC5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtiLmpxbURhdGEoInVybCIpfHxiLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidXJsIixiLmF0dHIoImlkIil8fGxvY2F0aW9uLnBhdGhuYW1lK2xvY2F0aW9uLnNlYXJjaCl9KSxhLm1vYmlsZS5maXJzdFBhZ2U9ZC5maXJzdCgpLGEubW9iaWxlLnBhZ2VDb250YWluZXI9YS5tb2JpbGUuZmlyc3RQYWdlLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1tb2JpbGUtdmlld3BvcnQiKSxnLnRyaWdnZXIoInBhZ2Vjb250YWluZXJjcmVhdGUiKSxhLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coKSxoKCksIWEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkfHwhYS5tb2JpbGUucGF0aC5pc0hhc2hWYWxpZChsb2NhdGlvbi5oYXNoKXx8IWEoZikuaXMoJzpqcW1EYXRhKHJvbGU9InBhZ2UiKScpJiYhYS5tb2JpbGUucGF0aC5pc1BhdGgoZSkmJmUhPT1hLm1vYmlsZS5kaWFsb2dIYXNoS2V5PyhhLm1vYmlsZS5wYXRoLmlzSGFzaFZhbGlkKGxvY2F0aW9uLmhhc2gpJiYoYS5tb2JpbGUudXJsSGlzdG9yeS5pbml0aWFsRHN0PWUucmVwbGFjZSgiIyIsIiIpKSxhLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCkmJmEubW9iaWxlLm5hdmlnYXRlLm5hdmlnYXRvci5zcXVhc2goYi5wYXJzZUxvY2F0aW9uKCkuaHJlZiksYS5tb2JpbGUuY2hhbmdlUGFnZShhLm1vYmlsZS5maXJzdFBhZ2Use3RyYW5zaXRpb246Im5vbmUiLHJldmVyc2U6ITAsY2hhbmdlSGFzaDohMSxmcm9tSGFzaENoYW5nZTohMH0pKTphLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCk/KGEubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnkuc3RhY2s9W10sYS5tb2JpbGUubmF2aWdhdGUoYS5tb2JpbGUucGF0aC5pc1BhdGgobG9jYXRpb24uaGFzaCk/bG9jYXRpb24uaGFzaDpsb2NhdGlvbi5ocmVmKSk6Zy50cmlnZ2VyKCJoYXNoY2hhbmdlIixbITBdKX19KSxhLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkLnJlc29sdmUoKSxhKGZ1bmN0aW9uKCl7Yi5zY3JvbGxUbygwLDEpLGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsPSFhLnN1cHBvcnQuc2Nyb2xsVG9wfHxhLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCk9PT0xPzA6MSxhLm1vYmlsZS5hdXRvSW5pdGlhbGl6ZVBhZ2UmJmEubW9iaWxlLmluaXRpYWxpemVQYWdlKCksZy5sb2FkKGEubW9iaWxlLnNpbGVudFNjcm9sbCksYS5zdXBwb3J0LmNzc1BvaW50ZXJFdmVudHN8fGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCIudWktZGlzYWJsZWQiLCJ2Y2xpY2siLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpfSl9KX0oYSx0aGlzKX0pOw==",
                "body": "LyohIGpRdWVyeSBNb2JpbGUgdkdpdCBCdWlsZDogU0hBMTogM2Q0OGQ2NTE3ZjgwODU1MGVlNDAyYTI4NTlmZWVkZWMxM2IwYTNmZSA8PiBEYXRlOiBUdWUgRmViIDE5IDE1OjI1OjIyIDIwMTMgLTA4MDAganF1ZXJ5bW9iaWxlLmNvbSB8IGpxdWVyeS5vcmcvbGljZW5zZSAhKi8KKGZ1bmN0aW9uKGEsYixjKXt0eXBlb2YgZGVmaW5lPT0iZnVuY3Rpb24iJiZkZWZpbmUuYW1kP2RlZmluZShbImpxdWVyeSJdLGZ1bmN0aW9uKGQpe3JldHVybiBjKGQsYSxiKSxkLm1vYmlsZX0pOmMoYS5qUXVlcnksYSxiKX0pKHRoaXMsZG9jdW1lbnQsZnVuY3Rpb24oYSxiLGMsZCl7KGZ1bmN0aW9uKGEpe2EubW9iaWxlPXt9fSkoYSksZnVuY3Rpb24oYSxiLGQpe3ZhciBlPXt9O2EubW9iaWxlPWEuZXh0ZW5kKGEubW9iaWxlLHt2ZXJzaW9uOiIxLjMuMCIsbnM6IiIsc3ViUGFnZVVybEtleToidWktcGFnZSIsYWN0aXZlUGFnZUNsYXNzOiJ1aS1wYWdlLWFjdGl2ZSIsYWN0aXZlQnRuQ2xhc3M6InVpLWJ0bi1hY3RpdmUiLGZvY3VzQ2xhc3M6InVpLWZvY3VzIixhamF4RW5hYmxlZDohMCxoYXNoTGlzdGVuaW5nRW5hYmxlZDohMCxsaW5rQmluZGluZ0VuYWJsZWQ6ITAsZGVmYXVsdFBhZ2VUcmFuc2l0aW9uOiJmYWRlIixtYXhUcmFuc2l0aW9uV2lkdGg6ITEsbWluU2Nyb2xsQmFjazoyNTAsdG91Y2hPdmVyZmxvd0VuYWJsZWQ6ITEsZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246InBvcCIscGFnZUxvYWRFcnJvck1lc3NhZ2U6IkVycm9yIExvYWRpbmcgUGFnZSIscGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZToiZSIscGhvbmVnYXBOYXZpZ2F0aW9uRW5hYmxlZDohMSxhdXRvSW5pdGlhbGl6ZVBhZ2U6ITAscHVzaFN0YXRlRW5hYmxlZDohMCxpZ25vcmVDb250ZW50RW5hYmxlZDohMSxvcmllbnRhdGlvbkNoYW5nZUVuYWJsZWQ6ITAsYnV0dG9uTWFya3VwOntob3ZlckRlbGF5OjIwMH0sd2luZG93OmEoYiksZG9jdW1lbnQ6YShjKSxrZXlDb2RlOntBTFQ6MTgsQkFDS1NQQUNFOjgsQ0FQU19MT0NLOjIwLENPTU1BOjE4OCxDT01NQU5EOjkxLENPTU1BTkRfTEVGVDo5MSxDT01NQU5EX1JJR0hUOjkzLENPTlRST0w6MTcsREVMRVRFOjQ2LERPV046NDAsRU5EOjM1LEVOVEVSOjEzLEVTQ0FQRToyNyxIT01FOjM2LElOU0VSVDo0NSxMRUZUOjM3LE1FTlU6OTMsTlVNUEFEX0FERDoxMDcsTlVNUEFEX0RFQ0lNQUw6MTEwLE5VTVBBRF9ESVZJREU6MTExLE5VTVBBRF9FTlRFUjoxMDgsTlVNUEFEX01VTFRJUExZOjEwNixOVU1QQURfU1VCVFJBQ1Q6MTA5LFBBR0VfRE9XTjozNCxQQUdFX1VQOjMzLFBFUklPRDoxOTAsUklHSFQ6MzksU0hJRlQ6MTYsU1BBQ0U6MzIsVEFCOjksVVA6MzgsV0lORE9XUzo5MX0sYmVoYXZpb3JzOnt9LHNpbGVudFNjcm9sbDpmdW5jdGlvbihjKXthLnR5cGUoYykhPT0ibnVtYmVyIiYmKGM9YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwpLGEuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSExLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnNjcm9sbFRvKDAsYyksYS5tb2JpbGUuZG9jdW1lbnQudHJpZ2dlcigic2lsZW50c2Nyb2xsIix7eDowLHk6Y30pfSwyMCksc2V0VGltZW91dChmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSEwfSwxNTApfSxuc05vcm1hbGl6ZURpY3Q6ZSxuc05vcm1hbGl6ZTpmdW5jdGlvbihiKXtpZighYilyZXR1cm47cmV0dXJuIGVbYl18fChlW2JdPWEuY2FtZWxDYXNlKGEubW9iaWxlLm5zK2IpKX0sZ2V0SW5oZXJpdGVkVGhlbWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hWzBdLGQ9IiIsZT0vdWktKGJhcnxib2R5fG92ZXJsYXkpLShbYS16XSlcYi8sZixnO3doaWxlKGMpe2Y9Yy5jbGFzc05hbWV8fCIiO2lmKGYmJihnPWUuZXhlYyhmKSkmJihkPWdbMl0pKWJyZWFrO2M9Yy5wYXJlbnROb2RlfXJldHVybiBkfHxifHwiYSJ9LGNsb3Nlc3RQYWdlRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9zZXN0KCc6anFtRGF0YShyb2xlPSJwYWdlIiksIDpqcW1EYXRhKHJvbGU9ImRpYWxvZyIpJykuZGF0YSgibW9iaWxlLXBhZ2UiKX0sZW5oYW5jZWFibGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGF2ZVBhcmVudHMoYSwiZW5oYW5jZSIpfSxoaWphY2thYmxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhdmVQYXJlbnRzKGEsImFqYXgiKX0saGF2ZVBhcmVudHM6ZnVuY3Rpb24oYixjKXtpZighYS5tb2JpbGUuaWdub3JlQ29udGVudEVuYWJsZWQpcmV0dXJuIGI7dmFyIGQ9Yi5sZW5ndGgsZT1hKCksZixnLGg7Zm9yKHZhciBpPTA7aTxkO2krKyl7Zz1iLmVxKGkpLGg9ITEsZj1iW2ldO3doaWxlKGYpe3ZhciBqPWYuZ2V0QXR0cmlidXRlP2YuZ2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrYyk6IiI7aWYoaj09PSJmYWxzZSIpe2g9ITA7YnJlYWt9Zj1mLnBhcmVudE5vZGV9aHx8KGU9ZS5hZGQoZykpfXJldHVybiBlfSxnZXRTY3JlZW5IZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gYi5pbm5lckhlaWdodHx8YS5tb2JpbGUud2luZG93LmhlaWdodCgpfX0sYS5tb2JpbGUpLGEuZm4uanFtRGF0YT1mdW5jdGlvbihiLGMpe3ZhciBlO3JldHVybiB0eXBlb2YgYiE9InVuZGVmaW5lZCImJihiJiYoYj1hLm1vYmlsZS5uc05vcm1hbGl6ZShiKSksYXJndW1lbnRzLmxlbmd0aDwyfHxjPT09ZD9lPXRoaXMuZGF0YShiKTplPXRoaXMuZGF0YShiLGMpKSxlfSxhLmpxbURhdGE9ZnVuY3Rpb24oYixjLGQpe3ZhciBlO3JldHVybiB0eXBlb2YgYyE9InVuZGVmaW5lZCImJihlPWEuZGF0YShiLGM/YS5tb2JpbGUubnNOb3JtYWxpemUoYyk6YyxkKSksZX0sYS5mbi5qcW1SZW1vdmVEYXRhPWZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLnJlbW92ZURhdGEoYS5tb2JpbGUubnNOb3JtYWxpemUoYikpfSxhLmpxbVJlbW92ZURhdGE9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5yZW1vdmVEYXRhKGIsYS5tb2JpbGUubnNOb3JtYWxpemUoYykpfSxhLmZuLnJlbW92ZVdpdGhEZXBlbmRlbnRzPWZ1bmN0aW9uKCl7YS5yZW1vdmVXaXRoRGVwZW5kZW50cyh0aGlzKX0sYS5yZW1vdmVXaXRoRGVwZW5kZW50cz1mdW5jdGlvbihiKXt2YXIgYz1hKGIpOyhjLmpxbURhdGEoImRlcGVuZGVudHMiKXx8YSgpKS5yZW1vdmUoKSxjLnJlbW92ZSgpfSxhLmZuLmFkZERlcGVuZGVudHM9ZnVuY3Rpb24oYil7YS5hZGREZXBlbmRlbnRzKGEodGhpcyksYil9LGEuYWRkRGVwZW5kZW50cz1mdW5jdGlvbihiLGMpe3ZhciBkPWEoYikuanFtRGF0YSgiZGVwZW5kZW50cyIpfHxhKCk7YShiKS5qcW1EYXRhKCJkZXBlbmRlbnRzIixhLm1lcmdlKGQsYykpfSxhLmZuLmdldEVuY29kZWRUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIGEoIjxkaXYvPiIpLnRleHQoYSh0aGlzKS50ZXh0KCkpLmh0bWwoKX0sYS5mbi5qcW1FbmhhbmNlYWJsZT1mdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5lbmhhbmNlYWJsZSh0aGlzKX0sYS5mbi5qcW1IaWphY2thYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmhpamFja2FibGUodGhpcyl9O3ZhciBmPWEuZmluZCxnPS86anFtRGF0YVwoKFteKV0qKVwpL2c7YS5maW5kPWZ1bmN0aW9uKGIsYyxkLGUpe3JldHVybiBiPWIucmVwbGFjZShnLCJbZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpKyIkMV0iKSxmLmNhbGwodGhpcyxiLGMsZCxlKX0sYS5leHRlbmQoYS5maW5kLGYpLGEuZmluZC5tYXRjaGVzPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuZmluZChiLG51bGwsbnVsbCxjKX0sYS5maW5kLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihiLGMpe3JldHVybiBhLmZpbmQoYyxudWxsLG51bGwsW2JdKS5sZW5ndGg+MH19KGEsdGhpcyksZnVuY3Rpb24oYSxiKXt2YXIgYz0wLGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLGU9YS5jbGVhbkRhdGE7YS5jbGVhbkRhdGE9ZnVuY3Rpb24oYil7Zm9yKHZhciBjPTAsZDsoZD1iW2NdKSE9bnVsbDtjKyspdHJ5e2EoZCkudHJpZ2dlckhhbmRsZXIoInJlbW92ZSIpfWNhdGNoKGYpe31lKGIpfSxhLndpZGdldD1mdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnLGgsaT1iLnNwbGl0KCIuIilbMF07Yj1iLnNwbGl0KCIuIilbMV0sZT1pKyItIitiLGR8fChkPWMsYz1hLldpZGdldCksYS5leHByWyI6Il1bZS50b0xvd2VyQ2FzZSgpXT1mdW5jdGlvbihiKXtyZXR1cm4hIWEuZGF0YShiLGUpfSxhW2ldPWFbaV18fHt9LGY9YVtpXVtiXSxnPWFbaV1bYl09ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5fY3JlYXRlV2lkZ2V0KXJldHVybiBuZXcgZyhhLGIpO2FyZ3VtZW50cy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVdpZGdldChhLGIpfSxhLmV4dGVuZChnLGYse3ZlcnNpb246ZC52ZXJzaW9uLF9wcm90bzphLmV4dGVuZCh7fSxkKSxfY2hpbGRDb25zdHJ1Y3RvcnM6W119KSxoPW5ldyBjLGgub3B0aW9ucz1hLndpZGdldC5leHRlbmQoe30saC5vcHRpb25zKSxhLmVhY2goZCxmdW5jdGlvbihiLGUpe2EuaXNGdW5jdGlvbihlKSYmKGRbYl09ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbigpe3JldHVybiBjLnByb3RvdHlwZVtiXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGMucHJvdG90eXBlW2JdLmFwcGx5KHRoaXMsYSl9O3JldHVybiBmdW5jdGlvbigpe3ZhciBiPXRoaXMuX3N1cGVyLGM9dGhpcy5fc3VwZXJBcHBseSxmO3JldHVybiB0aGlzLl9zdXBlcj1hLHRoaXMuX3N1cGVyQXBwbHk9ZCxmPWUuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3N1cGVyPWIsdGhpcy5fc3VwZXJBcHBseT1jLGZ9fSgpKX0pLGcucHJvdG90eXBlPWEud2lkZ2V0LmV4dGVuZChoLHt3aWRnZXRFdmVudFByZWZpeDpmP2gud2lkZ2V0RXZlbnRQcmVmaXg6Yn0sZCx7Y29uc3RydWN0b3I6ZyxuYW1lc3BhY2U6aSx3aWRnZXROYW1lOmIsd2lkZ2V0RnVsbE5hbWU6ZX0pLGY/KGEuZWFjaChmLl9jaGlsZENvbnN0cnVjdG9ycyxmdW5jdGlvbihiLGMpe3ZhciBkPWMucHJvdG90eXBlO2Eud2lkZ2V0KGQubmFtZXNwYWNlKyIuIitkLndpZGdldE5hbWUsZyxjLl9wcm90byl9KSxkZWxldGUgZi5fY2hpbGRDb25zdHJ1Y3RvcnMpOmMuX2NoaWxkQ29uc3RydWN0b3JzLnB1c2goZyksYS53aWRnZXQuYnJpZGdlKGIsZyl9LGEud2lkZ2V0LmV4dGVuZD1mdW5jdGlvbihjKXt2YXIgZT1kLmNhbGwoYXJndW1lbnRzLDEpLGY9MCxnPWUubGVuZ3RoLGgsaTtmb3IoO2Y8ZztmKyspZm9yKGggaW4gZVtmXSlpPWVbZl1baF0sZVtmXS5oYXNPd25Qcm9wZXJ0eShoKSYmaSE9PWImJihhLmlzUGxhaW5PYmplY3QoaSk/Y1toXT1hLmlzUGxhaW5PYmplY3QoY1toXSk/YS53aWRnZXQuZXh0ZW5kKHt9LGNbaF0saSk6YS53aWRnZXQuZXh0ZW5kKHt9LGkpOmNbaF09aSk7cmV0dXJuIGN9LGEud2lkZ2V0LmJyaWRnZT1mdW5jdGlvbihjLGUpe3ZhciBmPWUucHJvdG90eXBlLndpZGdldEZ1bGxOYW1lfHxjO2EuZm5bY109ZnVuY3Rpb24oZyl7dmFyIGg9dHlwZW9mIGc9PSJzdHJpbmciLGk9ZC5jYWxsKGFyZ3VtZW50cywxKSxqPXRoaXM7cmV0dXJuIGc9IWgmJmkubGVuZ3RoP2Eud2lkZ2V0LmV4dGVuZC5hcHBseShudWxsLFtnXS5jb25jYXQoaSkpOmcsaD90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZCxlPWEuZGF0YSh0aGlzLGYpO2lmKCFlKXJldHVybiBhLmVycm9yKCJjYW5ub3QgY2FsbCBtZXRob2RzIG9uICIrYysiIHByaW9yIHRvIGluaXRpYWxpemF0aW9uOyAiKyJhdHRlbXB0ZWQgdG8gY2FsbCBtZXRob2QgJyIrZysiJyIpO2lmKCFhLmlzRnVuY3Rpb24oZVtnXSl8fGcuY2hhckF0KDApPT09Il8iKXJldHVybiBhLmVycm9yKCJubyBzdWNoIG1ldGhvZCAnIitnKyInIGZvciAiK2MrIiB3aWRnZXQgaW5zdGFuY2UiKTtkPWVbZ10uYXBwbHkoZSxpKTtpZihkIT09ZSYmZCE9PWIpcmV0dXJuIGo9ZCYmZC5qcXVlcnk/ai5wdXNoU3RhY2soZC5nZXQoKSk6ZCwhMX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEuZGF0YSh0aGlzLGYpO2I/Yi5vcHRpb24oZ3x8e30pLl9pbml0KCk6YS5kYXRhKHRoaXMsZixuZXcgZShnLHRoaXMpKX0pLGp9fSxhLldpZGdldD1mdW5jdGlvbigpe30sYS5XaWRnZXQuX2NoaWxkQ29uc3RydWN0b3JzPVtdLGEuV2lkZ2V0LnByb3RvdHlwZT17d2lkZ2V0TmFtZToid2lkZ2V0Iix3aWRnZXRFdmVudFByZWZpeDoiIixkZWZhdWx0RWxlbWVudDoiPGRpdj4iLG9wdGlvbnM6e2Rpc2FibGVkOiExLGNyZWF0ZTpudWxsfSxfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKGIsZCl7ZD1hKGR8fHRoaXMuZGVmYXVsdEVsZW1lbnR8fHRoaXMpWzBdLHRoaXMuZWxlbWVudD1hKGQpLHRoaXMudXVpZD1jKyssdGhpcy5ldmVudE5hbWVzcGFjZT0iLiIrdGhpcy53aWRnZXROYW1lK3RoaXMudXVpZCx0aGlzLm9wdGlvbnM9YS53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyx0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksYiksdGhpcy5iaW5kaW5ncz1hKCksdGhpcy5ob3ZlcmFibGU9YSgpLHRoaXMuZm9jdXNhYmxlPWEoKSxkIT09dGhpcyYmKGEuZGF0YShkLHRoaXMud2lkZ2V0RnVsbE5hbWUsdGhpcyksdGhpcy5fb24oITAsdGhpcy5lbGVtZW50LHtyZW1vdmU6ZnVuY3Rpb24oYSl7YS50YXJnZXQ9PT1kJiZ0aGlzLmRlc3Ryb3koKX19KSx0aGlzLmRvY3VtZW50PWEoZC5zdHlsZT9kLm93bmVyRG9jdW1lbnQ6ZC5kb2N1bWVudHx8ZCksdGhpcy53aW5kb3c9YSh0aGlzLmRvY3VtZW50WzBdLmRlZmF1bHRWaWV3fHx0aGlzLmRvY3VtZW50WzBdLnBhcmVudFdpbmRvdykpLHRoaXMuX2NyZWF0ZSgpLHRoaXMuX3RyaWdnZXIoImNyZWF0ZSIsbnVsbCx0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSksdGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczphLm5vb3AsX2dldENyZWF0ZUV2ZW50RGF0YTphLm5vb3AsX2NyZWF0ZTphLm5vb3AsX2luaXQ6YS5ub29wLGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9kZXN0cm95KCksdGhpcy5lbGVtZW50LnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVEYXRhKHRoaXMud2lkZ2V0TmFtZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldEZ1bGxOYW1lKS5yZW1vdmVEYXRhKGEuY2FtZWxDYXNlKHRoaXMud2lkZ2V0RnVsbE5hbWUpKSx0aGlzLndpZGdldCgpLnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIikucmVtb3ZlQ2xhc3ModGhpcy53aWRnZXRGdWxsTmFtZSsiLWRpc2FibGVkICIrInVpLXN0YXRlLWRpc2FibGVkIiksdGhpcy5iaW5kaW5ncy51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksdGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9LF9kZXN0cm95OmEubm9vcCx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24oYyxkKXt2YXIgZT1jLGYsZyxoO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0wKXJldHVybiBhLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zKTtpZih0eXBlb2YgYz09InN0cmluZyIpe2U9e30sZj1jLnNwbGl0KCIuIiksYz1mLnNoaWZ0KCk7aWYoZi5sZW5ndGgpe2c9ZVtjXT1hLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zW2NdKTtmb3IoaD0wO2g8Zi5sZW5ndGgtMTtoKyspZ1tmW2hdXT1nW2ZbaF1dfHx7fSxnPWdbZltoXV07Yz1mLnBvcCgpO2lmKGQ9PT1iKXJldHVybiBnW2NdPT09Yj9udWxsOmdbY107Z1tjXT1kfWVsc2V7aWYoZD09PWIpcmV0dXJuIHRoaXMub3B0aW9uc1tjXT09PWI/bnVsbDp0aGlzLm9wdGlvbnNbY107ZVtjXT1kfX1yZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyhlKSx0aGlzfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXRoaXMuX3NldE9wdGlvbihiLGFbYl0pO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub3B0aW9uc1thXT1iLGE9PT0iZGlzYWJsZWQiJiYodGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcyh0aGlzLndpZGdldEZ1bGxOYW1lKyItZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWQiLCEhYikuYXR0cigiYXJpYS1kaXNhYmxlZCIsYiksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksdGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIikpLHRoaXN9LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMSl9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfSxfb246ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGY9dGhpczt0eXBlb2YgYiE9ImJvb2xlYW4iJiYoZD1jLGM9YixiPSExKSxkPyhjPWU9YShjKSx0aGlzLmJpbmRpbmdzPXRoaXMuYmluZGluZ3MuYWRkKGMpKTooZD1jLGM9dGhpcy5lbGVtZW50LGU9dGhpcy53aWRnZXQoKSksYS5lYWNoKGQsZnVuY3Rpb24oZCxnKXtmdW5jdGlvbiBoKCl7aWYoIWImJihmLm9wdGlvbnMuZGlzYWJsZWQ9PT0hMHx8YSh0aGlzKS5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKSkpcmV0dXJuO3JldHVybih0eXBlb2YgZz09InN0cmluZyI/ZltnXTpnKS5hcHBseShmLGFyZ3VtZW50cyl9dHlwZW9mIGchPSJzdHJpbmciJiYoaC5ndWlkPWcuZ3VpZD1nLmd1aWR8fGguZ3VpZHx8YS5ndWlkKyspO3ZhciBpPWQubWF0Y2goL14oXHcrKVxzKiguKikkLyksaj1pWzFdK2YuZXZlbnROYW1lc3BhY2Usaz1pWzJdO2s/ZS5kZWxlZ2F0ZShrLGosaCk6Yy5iaW5kKGosaCl9KX0sX29mZjpmdW5jdGlvbihhLGIpe2I9KGJ8fCIiKS5zcGxpdCgiICIpLmpvaW4odGhpcy5ldmVudE5hbWVzcGFjZSsiICIpK3RoaXMuZXZlbnROYW1lc3BhY2UsYS51bmJpbmQoYikudW5kZWxlZ2F0ZShiKX0sX2RlbGF5OmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe3JldHVybih0eXBlb2YgYT09InN0cmluZyI/ZFthXTphKS5hcHBseShkLGFyZ3VtZW50cyl9dmFyIGQ9dGhpcztyZXR1cm4gc2V0VGltZW91dChjLGJ8fDApfSxfaG92ZXJhYmxlOmZ1bmN0aW9uKGIpe3RoaXMuaG92ZXJhYmxlPXRoaXMuaG92ZXJhYmxlLmFkZChiKSx0aGlzLl9vbihiLHttb3VzZWVudGVyOmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcygidWktc3RhdGUtaG92ZXIiKX0sbW91c2VsZWF2ZTpmdW5jdGlvbihiKXthKGIuY3VycmVudFRhcmdldCkucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIil9fSl9LF9mb2N1c2FibGU6ZnVuY3Rpb24oYil7dGhpcy5mb2N1c2FibGU9dGhpcy5mb2N1c2FibGUuYWRkKGIpLHRoaXMuX29uKGIse2ZvY3VzaW46ZnVuY3Rpb24oYil7YShiLmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfSxmb2N1c291dDpmdW5jdGlvbihiKXthKGIuY3VycmVudFRhcmdldCkucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9fSl9LF90cmlnZ2VyOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmLGc9dGhpcy5vcHRpb25zW2JdO2Q9ZHx8e30sYz1hLkV2ZW50KGMpLGMudHlwZT0oYj09PXRoaXMud2lkZ2V0RXZlbnRQcmVmaXg/Yjp0aGlzLndpZGdldEV2ZW50UHJlZml4K2IpLnRvTG93ZXJDYXNlKCksYy50YXJnZXQ9dGhpcy5lbGVtZW50WzBdLGY9Yy5vcmlnaW5hbEV2ZW50O2lmKGYpZm9yKGUgaW4gZillIGluIGN8fChjW2VdPWZbZV0pO3JldHVybiB0aGlzLmVsZW1lbnQudHJpZ2dlcihjLGQpLCEoYS5pc0Z1bmN0aW9uKGcpJiZnLmFwcGx5KHRoaXMuZWxlbWVudFswXSxbY10uY29uY2F0KGQpKT09PSExfHxjLmlzRGVmYXVsdFByZXZlbnRlZCgpKX19LGEuZWFjaCh7c2hvdzoiZmFkZUluIixoaWRlOiJmYWRlT3V0In0sZnVuY3Rpb24oYixjKXthLldpZGdldC5wcm90b3R5cGVbIl8iK2JdPWZ1bmN0aW9uKGQsZSxmKXt0eXBlb2YgZT09InN0cmluZyImJihlPXtlZmZlY3Q6ZX0pO3ZhciBnLGg9ZT9lPT09ITB8fHR5cGVvZiBlPT0ibnVtYmVyIj9jOmUuZWZmZWN0fHxjOmI7ZT1lfHx7fSx0eXBlb2YgZT09Im51bWJlciImJihlPXtkdXJhdGlvbjplfSksZz0hYS5pc0VtcHR5T2JqZWN0KGUpLGUuY29tcGxldGU9ZixlLmRlbGF5JiZkLmRlbGF5KGUuZGVsYXkpLGcmJmEuZWZmZWN0cyYmYS5lZmZlY3RzLmVmZmVjdFtoXT9kW2JdKGUpOmghPT1iJiZkW2hdP2RbaF0oZS5kdXJhdGlvbixlLmVhc2luZyxmKTpkLnF1ZXVlKGZ1bmN0aW9uKGMpe2EodGhpcylbYl0oKSxmJiZmLmNhbGwoZFswXSksYygpfSl9fSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS53aWRnZXQiLHtfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKCl7YS5XaWRnZXQucHJvdG90eXBlLl9jcmVhdGVXaWRnZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3RyaWdnZXIoImluaXQiKX0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmVsZW1lbnQsZD17fTtyZXR1cm4gYS5lYWNoKHRoaXMub3B0aW9ucyxmdW5jdGlvbihhKXt2YXIgZT1jLmpxbURhdGEoYS5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKGEpe3JldHVybiItIithLnRvTG93ZXJDYXNlKCl9KSk7ZSE9PWImJihkW2FdPWUpfSksZH0sZW5oYW5jZVdpdGhpbjpmdW5jdGlvbihiLGMpe3RoaXMuZW5oYW5jZShhKHRoaXMub3B0aW9ucy5pbml0U2VsZWN0b3IsYShiKSksYyl9LGVuaGFuY2U6ZnVuY3Rpb24oYixjKXt2YXIgZCxlLGY9YShiKSxnPXRoaXM7Zj1hLm1vYmlsZS5lbmhhbmNlYWJsZShmKSxjJiZmLmxlbmd0aCYmKGQ9YS5tb2JpbGUuY2xvc2VzdFBhZ2VEYXRhKGYpLGU9ZCYmZC5rZWVwTmF0aXZlU2VsZWN0b3IoKXx8IiIsZj1mLm5vdChlKSksZlt0aGlzLndpZGdldE5hbWVdKCl9LHJhaXNlOmZ1bmN0aW9uKGEpe3Rocm93IldpZGdldCBbIit0aGlzLndpZGdldE5hbWUrIl06ICIrYX19KX0oYSksZnVuY3Rpb24oYSxiKXthLmV4dGVuZChhLm1vYmlsZSx7bG9hZGluZ01lc3NhZ2VUZXh0VmlzaWJsZTpkLGxvYWRpbmdNZXNzYWdlVGhlbWU6ZCxsb2FkaW5nTWVzc2FnZTpkLHNob3dQYWdlTG9hZGluZ01zZzpmdW5jdGlvbihiLGMsZCl7YS5tb2JpbGUubG9hZGluZygic2hvdyIsYixjLGQpfSxoaWRlUGFnZUxvYWRpbmdNc2c6ZnVuY3Rpb24oKXthLm1vYmlsZS5sb2FkaW5nKCJoaWRlIil9LGxvYWRpbmc6ZnVuY3Rpb24oKXt0aGlzLmxvYWRlcldpZGdldC5sb2FkZXIuYXBwbHkodGhpcy5sb2FkZXJXaWRnZXQsYXJndW1lbnRzKX19KTt2YXIgYz0idWktbG9hZGVyIixlPWEoImh0bWwiKSxmPWEubW9iaWxlLndpbmRvdzthLndpZGdldCgibW9iaWxlLmxvYWRlciIse29wdGlvbnM6e3RoZW1lOiJhIix0ZXh0VmlzaWJsZTohMSxodG1sOiIiLHRleHQ6ImxvYWRpbmcifSxkZWZhdWx0SHRtbDoiPGRpdiBjbGFzcz0nIitjKyInPiIrIjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tbG9hZGluZyc+PC9zcGFuPiIrIjxoMT48L2gxPiIrIjwvZGl2PiIsZmFrZUZpeExvYWRlcjpmdW5jdGlvbigpe3ZhciBiPWEoIi4iK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5maXJzdCgpO3RoaXMuZWxlbWVudC5jc3Moe3RvcDphLnN1cHBvcnQuc2Nyb2xsVG9wJiZmLnNjcm9sbFRvcCgpK2YuaGVpZ2h0KCkvMnx8Yi5sZW5ndGgmJmIub2Zmc2V0KCkudG9wfHwxMDB9KX0sY2hlY2tMb2FkZXJQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudC5vZmZzZXQoKSxjPWYuc2Nyb2xsVG9wKCksZD1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKTtpZihiLnRvcDxjfHxiLnRvcC1jPmQpdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1sb2FkZXItZmFrZWZpeCIpLHRoaXMuZmFrZUZpeExvYWRlcigpLGYudW5iaW5kKCJzY3JvbGwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbikuYmluZCgic2Nyb2xsIixhLnByb3h5KHRoaXMuZmFrZUZpeExvYWRlcix0aGlzKSl9LHJlc2V0SHRtbDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5odG1sKGEodGhpcy5kZWZhdWx0SHRtbCkuaHRtbCgpKX0sc2hvdzpmdW5jdGlvbihiLGcsaCl7dmFyIGksaixrLGw7dGhpcy5yZXNldEh0bWwoKSxhLnR5cGUoYik9PT0ib2JqZWN0Ij8obD1hLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsYiksYj1sLnRoZW1lfHxhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZVRoZW1lKToobD10aGlzLm9wdGlvbnMsYj1ifHxhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZVRoZW1lfHxsLnRoZW1lKSxqPWd8fGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlfHxsLnRleHQsZS5hZGRDbGFzcygidWktbG9hZGluZyIpO2lmKGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlIT09ITF8fGwuaHRtbClhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZVRleHRWaXNpYmxlIT09ZD9pPWEubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGV4dFZpc2libGU6aT1sLnRleHRWaXNpYmxlLHRoaXMuZWxlbWVudC5hdHRyKCJjbGFzcyIsYysiIHVpLWNvcm5lci1hbGwgdWktYm9keS0iK2IrIiB1aS1sb2FkZXItIisoaXx8Z3x8Yi50ZXh0PyJ2ZXJib3NlIjoiZGVmYXVsdCIpKyhsLnRleHRvbmx5fHxoPyIgdWktbG9hZGVyLXRleHRvbmx5IjoiIikpLGwuaHRtbD90aGlzLmVsZW1lbnQuaHRtbChsLmh0bWwpOnRoaXMuZWxlbWVudC5maW5kKCJoMSIpLnRleHQoaiksdGhpcy5lbGVtZW50LmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbigpLGYuYmluZCgic2Nyb2xsIixhLnByb3h5KHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbix0aGlzKSl9LGhpZGU6ZnVuY3Rpb24oKXtlLnJlbW92ZUNsYXNzKCJ1aS1sb2FkaW5nIiksYS5tb2JpbGUubG9hZGluZ01lc3NhZ2UmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktbG9hZGVyLWZha2VmaXgiKSxhLm1vYmlsZS53aW5kb3cudW5iaW5kKCJzY3JvbGwiLHRoaXMuZmFrZUZpeExvYWRlciksYS5tb2JpbGUud2luZG93LnVuYmluZCgic2Nyb2xsIix0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24pfX0pLGYuYmluZCgicGFnZWNvbnRhaW5lcmNyZWF0ZSIsZnVuY3Rpb24oKXthLm1vYmlsZS5sb2FkZXJXaWRnZXQ9YS5tb2JpbGUubG9hZGVyV2lkZ2V0fHxhKGEubW9iaWxlLmxvYWRlci5wcm90b3R5cGUuZGVmYXVsdEh0bWwpLmxvYWRlcigpfSl9KGEsdGhpcyksZnVuY3Rpb24oYSxiLGQpe2Z1bmN0aW9uIGsoYSl7cmV0dXJuIGE9YXx8bG9jYXRpb24uaHJlZiwiIyIrYS5yZXBsYWNlKC9eW14jXSojPyguKikkLywiJDEiKX12YXIgZT0iaGFzaGNoYW5nZSIsZj1jLGcsaD1hLmV2ZW50LnNwZWNpYWwsaT1mLmRvY3VtZW50TW9kZSxqPSJvbiIrZSBpbiBiJiYoaT09PWR8fGk+Nyk7YS5mbltlXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoZSxhKTp0aGlzLnRyaWdnZXIoZSl9LGEuZm5bZV0uZGVsYXk9NTAsaFtlXT1hLmV4dGVuZChoW2VdLHtzZXR1cDpmdW5jdGlvbigpe2lmKGopcmV0dXJuITE7YShnLnN0YXJ0KX0sdGVhcmRvd246ZnVuY3Rpb24oKXtpZihqKXJldHVybiExO2EoZy5zdG9wKX19KSxnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3ZhciBjPWsoKSxkPW0oaCk7YyE9PWg/KGwoaD1jLGQpLGEoYikudHJpZ2dlcihlKSk6ZCE9PWgmJihsb2NhdGlvbi5ocmVmPWxvY2F0aW9uLmhyZWYucmVwbGFjZSgvIy4qLywiIikrZCksZz1zZXRUaW1lb3V0KG4sYS5mbltlXS5kZWxheSl9dmFyIGM9e30sZyxoPWsoKSxpPWZ1bmN0aW9uKGEpe3JldHVybiBhfSxsPWksbT1pO3JldHVybiBjLnN0YXJ0PWZ1bmN0aW9uKCl7Z3x8bigpfSxjLnN0b3A9ZnVuY3Rpb24oKXtnJiZjbGVhclRpbWVvdXQoZyksZz1kfSxiLmF0dGFjaEV2ZW50JiYhYi5hZGRFdmVudExpc3RlbmVyJiYhaiYmZnVuY3Rpb24oKXt2YXIgYixkO2Muc3RhcnQ9ZnVuY3Rpb24oKXtifHwoZD1hLmZuW2VdLnNyYyxkPWQmJmQraygpLGI9YSgnPGlmcmFtZSB0YWJpbmRleD0iLTEiIHRpdGxlPSJlbXB0eSIvPicpLmhpZGUoKS5vbmUoImxvYWQiLGZ1bmN0aW9uKCl7ZHx8bChrKCkpLG4oKX0pLmF0dHIoInNyYyIsZHx8ImphdmFzY3JpcHQ6MCIpLmluc2VydEFmdGVyKCJib2R5IilbMF0uY29udGVudFdpbmRvdyxmLm9ucHJvcGVydHljaGFuZ2U9ZnVuY3Rpb24oKXt0cnl7ZXZlbnQucHJvcGVydHlOYW1lPT09InRpdGxlIiYmKGIuZG9jdW1lbnQudGl0bGU9Zi50aXRsZSl9Y2F0Y2goYSl7fX0pfSxjLnN0b3A9aSxtPWZ1bmN0aW9uKCl7cmV0dXJuIGsoYi5sb2NhdGlvbi5ocmVmKX0sbD1mdW5jdGlvbihjLGQpe3ZhciBnPWIuZG9jdW1lbnQsaD1hLmZuW2VdLmRvbWFpbjtjIT09ZCYmKGcudGl0bGU9Zi50aXRsZSxnLm9wZW4oKSxoJiZnLndyaXRlKCc8c2NyaXB0PmRvY3VtZW50LmRvbWFpbj0iJytoKyciPC9zY3JpcHQ+JyksZy5jbG9zZSgpLGIubG9jYXRpb24uaGFzaD1jKX19KCksY30oKX0oYSx0aGlzKSxmdW5jdGlvbihhLGQpe2IubWF0Y2hNZWRpYT1iLm1hdGNoTWVkaWF8fGZ1bmN0aW9uKGEsYil7dmFyIGMsZD1hLmRvY3VtZW50RWxlbWVudCxlPWQuZmlyc3RFbGVtZW50Q2hpbGR8fGQuZmlyc3RDaGlsZCxmPWEuY3JlYXRlRWxlbWVudCgiYm9keSIpLGc9YS5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gZy5pZD0ibXEtdGVzdC0xIixnLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO3RvcDotMTAwZW0iLGYuc3R5bGUuYmFja2dyb3VuZD0ibm9uZSIsZi5hcHBlbmRDaGlsZChnKSxmdW5jdGlvbihhKXtyZXR1cm4gZy5pbm5lckhUTUw9JyZzaHk7PHN0eWxlIG1lZGlhPSInK2ErJyI+ICNtcS10ZXN0LTEgeyB3aWR0aDogNDJweDsgfTwvc3R5bGU+JyxkLmluc2VydEJlZm9yZShmLGUpLGM9Zy5vZmZzZXRXaWR0aD09PTQyLGQucmVtb3ZlQ2hpbGQoZikse21hdGNoZXM6YyxtZWRpYTphfX19KGMpLGEubW9iaWxlLm1lZGlhPWZ1bmN0aW9uKGEpe3JldHVybiBiLm1hdGNoTWVkaWEoYSkubWF0Y2hlc319KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGQ9e3RvdWNoOiJvbnRvdWNoZW5kImluIGN9O2EubW9iaWxlLnN1cHBvcnQ9YS5tb2JpbGUuc3VwcG9ydHx8e30sYS5leHRlbmQoYS5zdXBwb3J0LGQpLGEuZXh0ZW5kKGEubW9iaWxlLnN1cHBvcnQsZCl9KGEpLGZ1bmN0aW9uKGEsYyl7YS5leHRlbmQoYS5zdXBwb3J0LHtvcmllbnRhdGlvbjoib3JpZW50YXRpb24iaW4gYiYmIm9ub3JpZW50YXRpb25jaGFuZ2UiaW4gYn0pfShhKSxmdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGUoYSl7dmFyIGI9YS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKSxjPShhKyIgIitoLmpvaW4oYisiICIpK2IpLnNwbGl0KCIgIik7Zm9yKHZhciBlIGluIGMpaWYoZ1tjW2VdXSE9PWQpcmV0dXJuITB9ZnVuY3Rpb24gbShhLGIsZCl7dmFyIGU9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxmPWZ1bmN0aW9uKGEpe3JldHVybiBhLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyKDEpfSxnPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09IiI/IiI6Ii0iK2EuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkrYS5zdWJzdHIoMSkrIi0ifSxpPWZ1bmN0aW9uKGMpe3ZhciBkPWcoYykrYSsiOiAiK2IrIjsiLGg9ZihjKSxpPWgrKGg9PT0iIj9hOmYoYSkpO2Uuc2V0QXR0cmlidXRlKCJzdHlsZSIsZCksIWUuc3R5bGVbaV18fChrPSEwKX0saj1kP2Q6aCxrO2Zvcih2YXIgbD0wO2w8ai5sZW5ndGg7bCsrKWkoaltsXSk7cmV0dXJuISFrfWZ1bmN0aW9uIG4oKXt2YXIgZT0idHJhbnNmb3JtLTNkIixnPWEubW9iaWxlLm1lZGlhKCIoLSIraC5qb2luKCItIitlKyIpLCgtIikrIi0iK2UrIiksKCIrZSsiKSIpO2lmKGcpcmV0dXJuISFnO3ZhciBpPWMuY3JlYXRlRWxlbWVudCgiZGl2Iiksaj17TW96VHJhbnNmb3JtOiItbW96LXRyYW5zZm9ybSIsdHJhbnNmb3JtOiJ0cmFuc2Zvcm0ifTtmLmFwcGVuZChpKTtmb3IodmFyIGsgaW4gailpLnN0eWxlW2tdIT09ZCYmKGkuc3R5bGVba109InRyYW5zbGF0ZTNkKCAxMDBweCwgMXB4LCAxcHggKSIsZz1iLmdldENvbXB1dGVkU3R5bGUoaSkuZ2V0UHJvcGVydHlWYWx1ZShqW2tdKSk7cmV0dXJuISFnJiZnIT09Im5vbmUifWZ1bmN0aW9uIG8oKXt2YXIgYj1sb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUrInVpLWRpci8iLGM9YSgiaGVhZCBiYXNlIiksZD1udWxsLGU9IiIsZyxoO3JldHVybiBjLmxlbmd0aD9lPWMuYXR0cigiaHJlZiIpOmM9ZD1hKCI8YmFzZT4iLHtocmVmOmJ9KS5hcHBlbmRUbygiaGVhZCIpLGc9YSgiPGEgaHJlZj0ndGVzdHVybCcgLz4iKS5wcmVwZW5kVG8oZiksaD1nWzBdLmhyZWYsY1swXS5ocmVmPWV8fGxvY2F0aW9uLnBhdGhuYW1lLGQmJmQucmVtb3ZlKCksaC5pbmRleE9mKGIpPT09MH1mdW5jdGlvbiBwKCl7dmFyIGE9Yy5jcmVhdGVFbGVtZW50KCJ4IiksZD1jLmRvY3VtZW50RWxlbWVudCxlPWIuZ2V0Q29tcHV0ZWRTdHlsZSxmO3JldHVybiJwb2ludGVyRXZlbnRzImluIGEuc3R5bGU/KGEuc3R5bGUucG9pbnRlckV2ZW50cz0iYXV0byIsYS5zdHlsZS5wb2ludGVyRXZlbnRzPSJ4IixkLmFwcGVuZENoaWxkKGEpLGY9ZSYmZShhLCIiKS5wb2ludGVyRXZlbnRzPT09ImF1dG8iLGQucmVtb3ZlQ2hpbGQoYSksISFmKTohMX1mdW5jdGlvbiBxKCl7dmFyIGE9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gdHlwZW9mIGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0IT0idW5kZWZpbmVkIn1mdW5jdGlvbiByKCl7dmFyIGE9YixjPW5hdmlnYXRvci51c2VyQWdlbnQsZD1uYXZpZ2F0b3IucGxhdGZvcm0sZT1jLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTldKykvKSxmPSEhZSYmZVsxXSxnPWMubWF0Y2goL0Zlbm5lY1wvKFswLTldKykvKSxoPSEhZyYmZ1sxXSxpPWMubWF0Y2goL09wZXJhIE1vYmlcLyhbMC05XSspLyksaj0hIWkmJmlbMV07cmV0dXJuKGQuaW5kZXhPZigiaVBob25lIik+LTF8fGQuaW5kZXhPZigiaVBhZCIpPi0xfHxkLmluZGV4T2YoImlQb2QiKT4tMSkmJmYmJmY8NTM0fHxhLm9wZXJhbWluaSYme30udG9TdHJpbmcuY2FsbChhLm9wZXJhbWluaSk9PT0iW29iamVjdCBPcGVyYU1pbmldInx8aSYmajw3NDU4fHxjLmluZGV4T2YoIkFuZHJvaWQiKT4tMSYmZiYmZjw1MzN8fGgmJmg8Nnx8InBhbG1HZXRSZXNvdXJjZSJpbiBiJiZmJiZmPDUzNHx8Yy5pbmRleE9mKCJNZWVHbyIpPi0xJiZjLmluZGV4T2YoIk5va2lhQnJvd3Nlci84LjUuMCIpPi0xPyExOiEwfXZhciBmPWEoIjxib2R5PiIpLnByZXBlbmRUbygiaHRtbCIpLGc9ZlswXS5zdHlsZSxoPVsiV2Via2l0IiwiTW96IiwiTyJdLGk9InBhbG1HZXRSZXNvdXJjZSJpbiBiLGo9Yi5vcGVyYSxrPWIub3BlcmFtaW5pJiZ7fS50b1N0cmluZy5jYWxsKGIub3BlcmFtaW5pKT09PSJbb2JqZWN0IE9wZXJhTWluaV0iLGw9Yi5ibGFja2JlcnJ5JiYhZSgiLXdlYmtpdC10cmFuc2Zvcm0iKTthLmV4dGVuZChhLm1vYmlsZSx7YnJvd3Nlcjp7fX0pLGEubW9iaWxlLmJyb3dzZXIub2xkSUU9ZnVuY3Rpb24oKXt2YXIgYT0zLGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxkPWIuYWxsfHxbXTtkbyBiLmlubmVySFRNTD0iPCEtLVtpZiBndCBJRSAiKyArK2ErIl0+PGJyPjwhW2VuZGlmXS0tPiI7d2hpbGUoZFswXSk7cmV0dXJuIGE+ND9hOiFhfSgpLGEuZXh0ZW5kKGEuc3VwcG9ydCx7Y3NzVHJhbnNpdGlvbnM6IldlYktpdFRyYW5zaXRpb25FdmVudCJpbiBifHxtKCJ0cmFuc2l0aW9uIiwiaGVpZ2h0IDEwMG1zIGxpbmVhciIsWyJXZWJraXQiLCJNb3oiLCIiXSkmJiFhLm1vYmlsZS5icm93c2VyLm9sZElFJiYhaixwdXNoU3RhdGU6InB1c2hTdGF0ZSJpbiBoaXN0b3J5JiYicmVwbGFjZVN0YXRlImluIGhpc3RvcnkmJmIubmF2aWdhdG9yLnVzZXJBZ2VudC5zZWFyY2goL0NyaU9TLyk9PT0tMSxtZWRpYXF1ZXJ5OmEubW9iaWxlLm1lZGlhKCJvbmx5IGFsbCIpLGNzc1BzZXVkb0VsZW1lbnQ6ISFlKCJjb250ZW50IiksdG91Y2hPdmVyZmxvdzohIWUoIm92ZXJmbG93U2Nyb2xsaW5nIiksY3NzVHJhbnNmb3JtM2Q6bigpLGJveFNoYWRvdzohIWUoImJveFNoYWRvdyIpJiYhbCxmaXhlZFBvc2l0aW9uOnIoKSxzY3JvbGxUb3A6KCJwYWdlWE9mZnNldCJpbiBifHwic2Nyb2xsVG9wImluIGMuZG9jdW1lbnRFbGVtZW50fHwic2Nyb2xsVG9wImluIGZbMF0pJiYhaSYmIWssZHluYW1pY0Jhc2VUYWc6bygpLGNzc1BvaW50ZXJFdmVudHM6cCgpLGJvdW5kaW5nUmVjdDpxKCl9KSxmLnJlbW92ZSgpO3ZhciBzPWZ1bmN0aW9uKCl7dmFyIGE9Yi5uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybiBhLmluZGV4T2YoIk5va2lhIik+LTEmJihhLmluZGV4T2YoIlN5bWJpYW4vMyIpPi0xfHxhLmluZGV4T2YoIlNlcmllczYwLzUiKT4tMSkmJmEuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSYmYS5tYXRjaCgvKEJyb3dzZXJOR3xOb2tpYUJyb3dzZXIpXC83XC5bMC0zXS8pfSgpO2EubW9iaWxlLmdyYWRlQT1mdW5jdGlvbigpe3JldHVybihhLnN1cHBvcnQubWVkaWFxdWVyeXx8YS5tb2JpbGUuYnJvd3Nlci5vbGRJRSYmYS5tb2JpbGUuYnJvd3Nlci5vbGRJRT49NykmJihhLnN1cHBvcnQuYm91bmRpbmdSZWN0fHxhLmZuLmpxdWVyeS5tYXRjaCgvMVwuWzAtNytdXC5bMC05K10/LykhPT1udWxsKX0sYS5tb2JpbGUuYWpheEJsYWNrbGlzdD1iLmJsYWNrYmVycnkmJiFiLldlYktpdFBvaW50fHxrfHxzLHMmJmEoZnVuY3Rpb24oKXthKCJoZWFkIGxpbmtbcmVsPSdzdHlsZXNoZWV0J10iKS5hdHRyKCJyZWwiLCJhbHRlcm5hdGUgc3R5bGVzaGVldCIpLmF0dHIoInJlbCIsInN0eWxlc2hlZXQiKX0pLGEuc3VwcG9ydC5ib3hTaGFkb3d8fGEoImh0bWwiKS5hZGRDbGFzcygidWktbW9iaWxlLW5vc3VwcG9ydC1ib3hzaGFkb3ciKX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgYz1hLm1vYmlsZS53aW5kb3csZCxlO2EuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZT1kPXtib3VuZDohMSxwdXNoU3RhdGVFbmFibGVkOiEwLG9yaWdpbmFsRXZlbnROYW1lOmIsaXNQdXNoU3RhdGVFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIGEuc3VwcG9ydC5wdXNoU3RhdGUmJmEubW9iaWxlLnB1c2hTdGF0ZUVuYWJsZWQ9PT0hMCYmdGhpcy5pc0hhc2hDaGFuZ2VFbmFibGVkKCl9LGlzSGFzaENoYW5nZUVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQ9PT0hMH0scG9wc3RhdGU6ZnVuY3Rpb24oYil7dmFyIGQ9bmV3IGEuRXZlbnQoIm5hdmlnYXRlIiksZT1uZXcgYS5FdmVudCgiYmVmb3JlbmF2aWdhdGUiKSxmPWIub3JpZ2luYWxFdmVudC5zdGF0ZXx8e30sZz1sb2NhdGlvbi5ocmVmO2MudHJpZ2dlcihlKTtpZihlLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybjtiLmhpc3RvcnlTdGF0ZSYmYS5leHRlbmQoZixiLmhpc3RvcnlTdGF0ZSksZC5vcmlnaW5hbEV2ZW50PWIsc2V0VGltZW91dChmdW5jdGlvbigpe2MudHJpZ2dlcihkLHtzdGF0ZTpmfSl9LDApfSxoYXNoY2hhbmdlOmZ1bmN0aW9uKGIsZCl7dmFyIGU9bmV3IGEuRXZlbnQoIm5hdmlnYXRlIiksZj1uZXcgYS5FdmVudCgiYmVmb3JlbmF2aWdhdGUiKTtjLnRyaWdnZXIoZik7aWYoZi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm47ZS5vcmlnaW5hbEV2ZW50PWIsYy50cmlnZ2VyKGUse3N0YXRlOmIuaGFzaGNoYW5nZVN0YXRlfHx7fX0pfSxzZXR1cDpmdW5jdGlvbihhLGIpe2lmKGQuYm91bmQpcmV0dXJuO2QuYm91bmQ9ITAsZC5pc1B1c2hTdGF0ZUVuYWJsZWQoKT8oZC5vcmlnaW5hbEV2ZW50TmFtZT0icG9wc3RhdGUiLGMuYmluZCgicG9wc3RhdGUubmF2aWdhdGUiLGQucG9wc3RhdGUpKTpkLmlzSGFzaENoYW5nZUVuYWJsZWQoKSYmKGQub3JpZ2luYWxFdmVudE5hbWU9Imhhc2hjaGFuZ2UiLGMuYmluZCgiaGFzaGNoYW5nZS5uYXZpZ2F0ZSIsZC5oYXNoY2hhbmdlKSl9fX0oYSksZnVuY3Rpb24oYSxjKXt2YXIgZCxlLGYsZz0iJnVpLXN0YXRlPWRpYWxvZyI7YS5tb2JpbGUucGF0aD1kPXt1aVN0YXRlS2V5OiImdWktc3RhdGUiLHVybFBhcnNlUkU6L15ccyooKCgoW146XC8jXD9dKzopPyg/OihcL1wvKSgoPzooKFteOkBcLyNcP10rKSg/Olw6KFteOkBcLyNcP10rKSk/KUApPygoW146XC8jXD9cXVxbXSt8XFtbXlwvXF1AIz9dK1xdKSg/Olw6KFswLTldKykpPykpPyk/KT8oKFwvPyg/OlteXC9cPyNdK1wvKykqKShbXlw/I10qKSkpPyhcP1teI10rKT8pKCMuKik/LyxnZXRMb2NhdGlvbjpmdW5jdGlvbihhKXt2YXIgYj1hP3RoaXMucGFyc2VVcmwoYSk6bG9jYXRpb24sYz10aGlzLnBhcnNlVXJsKGF8fGxvY2F0aW9uLmhyZWYpLmhhc2g7cmV0dXJuIGM9Yz09PSIjIj8iIjpjLGIucHJvdG9jb2wrIi8vIitiLmhvc3QrYi5wYXRobmFtZStiLnNlYXJjaCtjfSxwYXJzZUxvY2F0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyc2VVcmwodGhpcy5nZXRMb2NhdGlvbigpKX0scGFyc2VVcmw6ZnVuY3Rpb24oYil7aWYoYS50eXBlKGIpPT09Im9iamVjdCIpcmV0dXJuIGI7dmFyIGM9ZC51cmxQYXJzZVJFLmV4ZWMoYnx8IiIpfHxbXTtyZXR1cm57aHJlZjpjWzBdfHwiIixocmVmTm9IYXNoOmNbMV18fCIiLGhyZWZOb1NlYXJjaDpjWzJdfHwiIixkb21haW46Y1szXXx8IiIscHJvdG9jb2w6Y1s0XXx8IiIsZG91YmxlU2xhc2g6Y1s1XXx8IiIsYXV0aG9yaXR5OmNbNl18fCIiLHVzZXJuYW1lOmNbOF18fCIiLHBhc3N3b3JkOmNbOV18fCIiLGhvc3Q6Y1sxMF18fCIiLGhvc3RuYW1lOmNbMTFdfHwiIixwb3J0OmNbMTJdfHwiIixwYXRobmFtZTpjWzEzXXx8IiIsZGlyZWN0b3J5OmNbMTRdfHwiIixmaWxlbmFtZTpjWzE1XXx8IiIsc2VhcmNoOmNbMTZdfHwiIixoYXNoOmNbMTddfHwiIn19LG1ha2VQYXRoQWJzb2x1dGU6ZnVuY3Rpb24oYSxiKXtpZihhJiZhLmNoYXJBdCgwKT09PSIvIilyZXR1cm4gYTthPWF8fCIiLGI9Yj9iLnJlcGxhY2UoL15cL3woXC9bXlwvXSp8W15cL10rKSQvZywiIik6IiI7dmFyIGM9Yj9iLnNwbGl0KCIvIik6W10sZD1hLnNwbGl0KCIvIik7Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV07c3dpdGNoKGYpe2Nhc2UiLiI6YnJlYWs7Y2FzZSIuLiI6Yy5sZW5ndGgmJmMucG9wKCk7YnJlYWs7ZGVmYXVsdDpjLnB1c2goZil9fXJldHVybiIvIitjLmpvaW4oIi8iKX0saXNTYW1lRG9tYWluOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGQucGFyc2VVcmwoYSkuZG9tYWluPT09ZC5wYXJzZVVybChiKS5kb21haW59LGlzUmVsYXRpdmVVcmw6ZnVuY3Rpb24oYSl7cmV0dXJuIGQucGFyc2VVcmwoYSkucHJvdG9jb2w9PT0iIn0saXNBYnNvbHV0ZVVybDpmdW5jdGlvbihhKXtyZXR1cm4gZC5wYXJzZVVybChhKS5wcm90b2NvbCE9PSIifSxtYWtlVXJsQWJzb2x1dGU6ZnVuY3Rpb24oYSxiKXtpZighZC5pc1JlbGF0aXZlVXJsKGEpKXJldHVybiBhO2I9PT1jJiYoYj10aGlzLmRvY3VtZW50QmFzZSk7dmFyIGU9ZC5wYXJzZVVybChhKSxmPWQucGFyc2VVcmwoYiksZz1lLnByb3RvY29sfHxmLnByb3RvY29sLGg9ZS5wcm90b2NvbD9lLmRvdWJsZVNsYXNoOmUuZG91YmxlU2xhc2h8fGYuZG91YmxlU2xhc2gsaT1lLmF1dGhvcml0eXx8Zi5hdXRob3JpdHksaj1lLnBhdGhuYW1lIT09IiIsaz1kLm1ha2VQYXRoQWJzb2x1dGUoZS5wYXRobmFtZXx8Zi5maWxlbmFtZSxmLnBhdGhuYW1lKSxsPWUuc2VhcmNofHwhaiYmZi5zZWFyY2h8fCIiLG09ZS5oYXNoO3JldHVybiBnK2graStrK2wrbX0sYWRkU2VhcmNoUGFyYW1zOmZ1bmN0aW9uKGIsYyl7dmFyIGU9ZC5wYXJzZVVybChiKSxmPXR5cGVvZiBjPT0ib2JqZWN0Ij9hLnBhcmFtKGMpOmMsZz1lLnNlYXJjaHx8Ij8iO3JldHVybiBlLmhyZWZOb1NlYXJjaCtnKyhnLmNoYXJBdChnLmxlbmd0aC0xKSE9PSI/Ij8iJiI6IiIpK2YrKGUuaGFzaHx8IiIpfSxjb252ZXJ0VXJsVG9EYXRhVXJsOmZ1bmN0aW9uKGEpe3ZhciBjPWQucGFyc2VVcmwoYSk7cmV0dXJuIGQuaXNFbWJlZGRlZFBhZ2UoYyk/Yy5oYXNoLnNwbGl0KGcpWzBdLnJlcGxhY2UoL14jLywiIikucmVwbGFjZSgvXD8uKiQvLCIiKTpkLmlzU2FtZURvbWFpbihjLHRoaXMuZG9jdW1lbnRCYXNlKT9jLmhyZWZOb0hhc2gucmVwbGFjZSh0aGlzLmRvY3VtZW50QmFzZS5kb21haW4sIiIpLnNwbGl0KGcpWzBdOmIuZGVjb2RlVVJJQ29tcG9uZW50KGEpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1jJiYoYT1kLnBhcnNlTG9jYXRpb24oKS5oYXNoKSxkLnN0cmlwSGFzaChhKS5yZXBsYWNlKC9bXlwvXSpcLlteXC8qXSskLywiIil9LHNldDpmdW5jdGlvbihhKXtsb2NhdGlvbi5oYXNoPWF9LGlzUGF0aDpmdW5jdGlvbihhKXtyZXR1cm4vXC8vLnRlc3QoYSl9LGNsZWFuOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UodGhpcy5kb2N1bWVudEJhc2UuZG9tYWluLCIiKX0sc3RyaXBIYXNoOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL14jLywiIil9LHN0cmlwUXVlcnlQYXJhbXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXD8uKiQvLCIiKX0sY2xlYW5IYXNoOmZ1bmN0aW9uKGEpe3JldHVybiBkLnN0cmlwSGFzaChhLnJlcGxhY2UoL1w/LiokLywiIikucmVwbGFjZShnLCIiKSl9LGlzSGFzaFZhbGlkOmZ1bmN0aW9uKGEpe3JldHVybi9eI1teI10rJC8udGVzdChhKX0saXNFeHRlcm5hbDpmdW5jdGlvbihhKXt2YXIgYj1kLnBhcnNlVXJsKGEpO3JldHVybiBiLnByb3RvY29sJiZiLmRvbWFpbiE9PXRoaXMuZG9jdW1lbnRVcmwuZG9tYWluPyEwOiExfSxoYXNQcm90b2NvbDpmdW5jdGlvbihhKXtyZXR1cm4vXig6P1x3KzopLy50ZXN0KGEpfSxpc0VtYmVkZGVkUGFnZTpmdW5jdGlvbihhKXt2YXIgYj1kLnBhcnNlVXJsKGEpO3JldHVybiBiLnByb3RvY29sIT09IiI/IXRoaXMuaXNQYXRoKGIuaGFzaCkmJmIuaGFzaCYmKGIuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaHx8dGhpcy5kb2N1bWVudEJhc2VEaWZmZXJzJiZiLmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoKTovXiMvLnRlc3QoYi5ocmVmKX0sc3F1YXNoOmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGcsaCxpPXRoaXMuaXNQYXRoKGEpLGo9dGhpcy5wYXJzZVVybChhKSxrPWouaGFzaCxsPSIiO2I9Ynx8KGQuaXNQYXRoKGEpP2QuZ2V0TG9jYXRpb24oKTpkLmdldERvY3VtZW50VXJsKCkpLGY9aT9kLnN0cmlwSGFzaChhKTphLGY9ZC5pc1BhdGgoai5oYXNoKT9kLnN0cmlwSGFzaChqLmhhc2gpOmYsaD1mLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KSxoPi0xJiYobD1mLnNsaWNlKGgpLGY9Zi5zbGljZSgwLGgpKSxlPWQubWFrZVVybEFic29sdXRlKGYsYiksZz10aGlzLnBhcnNlVXJsKGUpLnNlYXJjaDtpZihpKXtpZihkLmlzUGF0aChrKXx8ay5yZXBsYWNlKCIjIiwiIikuaW5kZXhPZih0aGlzLnVpU3RhdGVLZXkpPT09MClrPSIiO2wmJmsuaW5kZXhPZih0aGlzLnVpU3RhdGVLZXkpPT09LTEmJihrKz1sKSxrLmluZGV4T2YoIiMiKT09PS0xJiZrIT09IiImJihrPSIjIitrKSxlPWQucGFyc2VVcmwoZSksZT1lLnByb3RvY29sKyIvLyIrZS5ob3N0K2UucGF0aG5hbWUrZytrfWVsc2UgZSs9ZS5pbmRleE9mKCIjIik+LTE/bDoiIyIrbDtyZXR1cm4gZX0saXNQcmVzZXJ2YWJsZUhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgiIyIsIiIpLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KT09PTB9fSxkLmRvY3VtZW50VXJsPWQucGFyc2VMb2NhdGlvbigpLGY9YSgiaGVhZCIpLmZpbmQoImJhc2UiKSxkLmRvY3VtZW50QmFzZT1mLmxlbmd0aD9kLnBhcnNlVXJsKGQubWFrZVVybEFic29sdXRlKGYuYXR0cigiaHJlZiIpLGQuZG9jdW1lbnRVcmwuaHJlZikpOmQuZG9jdW1lbnRVcmwsZC5kb2N1bWVudEJhc2VEaWZmZXJzPWQuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaCE9PWQuZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gsZC5nZXREb2N1bWVudFVybD1mdW5jdGlvbihiKXtyZXR1cm4gYj9hLmV4dGVuZCh7fSxkLmRvY3VtZW50VXJsKTpkLmRvY3VtZW50VXJsLmhyZWZ9LGQuZ2V0RG9jdW1lbnRCYXNlPWZ1bmN0aW9uKGIpe3JldHVybiBiP2EuZXh0ZW5kKHt9LGQuZG9jdW1lbnRCYXNlKTpkLmRvY3VtZW50QmFzZS5ocmVmfX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgYz1hLm1vYmlsZS5wYXRoO2EubW9iaWxlLkhpc3Rvcnk9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YWNrPWF8fFtdLHRoaXMuYWN0aXZlSW5kZXg9Ynx8MH0sYS5leHRlbmQoYS5tb2JpbGUuSGlzdG9yeS5wcm90b3R5cGUse2dldEFjdGl2ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXhdfSxnZXRMYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5wcmV2aW91c0luZGV4XX0sZ2V0TmV4dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXgrMV19LGdldFByZXY6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLmFjdGl2ZUluZGV4LTFdfSxhZGQ6ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9LHRoaXMuZ2V0TmV4dCgpJiZ0aGlzLmNsZWFyRm9yd2FyZCgpLGIuaGFzaCYmYi5oYXNoLmluZGV4T2YoIiMiKT09PS0xJiYoYi5oYXNoPSIjIitiLmhhc2gpLGIudXJsPWEsdGhpcy5zdGFjay5wdXNoKGIpLHRoaXMuYWN0aXZlSW5kZXg9dGhpcy5zdGFjay5sZW5ndGgtMX0sY2xlYXJGb3J3YXJkOmZ1bmN0aW9uKCl7dGhpcy5zdGFjaz10aGlzLnN0YWNrLnNsaWNlKDAsdGhpcy5hY3RpdmVJbmRleCsxKX0sZmluZDpmdW5jdGlvbihhLGIsYyl7Yj1ifHx0aGlzLnN0YWNrO3ZhciBkLGUsZj1iLmxlbmd0aCxnO2ZvcihlPTA7ZTxmO2UrKyl7ZD1iW2VdO2lmKGRlY29kZVVSSUNvbXBvbmVudChhKT09PWRlY29kZVVSSUNvbXBvbmVudChkLnVybCl8fGRlY29kZVVSSUNvbXBvbmVudChhKT09PWRlY29kZVVSSUNvbXBvbmVudChkLmhhc2gpKXtnPWU7aWYoYylyZXR1cm4gZ319cmV0dXJuIGd9LGNsb3Nlc3Q6ZnVuY3Rpb24oYSl7dmFyIGMsZD10aGlzLmFjdGl2ZUluZGV4O3JldHVybiBjPXRoaXMuZmluZChhLHRoaXMuc3RhY2suc2xpY2UoMCxkKSksYz09PWImJihjPXRoaXMuZmluZChhLHRoaXMuc3RhY2suc2xpY2UoZCksITApLGM9Yz09PWI/YzpjK2QpLGN9LGRpcmVjdDpmdW5jdGlvbihjKXt2YXIgZD10aGlzLmNsb3Nlc3QoYy51cmwpLGU9dGhpcy5hY3RpdmVJbmRleDtkIT09YiYmKHRoaXMuYWN0aXZlSW5kZXg9ZCx0aGlzLnByZXZpb3VzSW5kZXg9ZSksZDxlPyhjLnByZXNlbnR8fGMuYmFja3x8YS5ub29wKSh0aGlzLmdldEFjdGl2ZSgpLCJiYWNrIik6ZD5lPyhjLnByZXNlbnR8fGMuZm9yd2FyZHx8YS5ub29wKSh0aGlzLmdldEFjdGl2ZSgpLCJmb3J3YXJkIik6ZD09PWImJmMubWlzc2luZyYmYy5taXNzaW5nKHRoaXMuZ2V0QWN0aXZlKCkpfX0pfShhKSxmdW5jdGlvbihhLGQpe3ZhciBlPWEubW9iaWxlLnBhdGg7YS5tb2JpbGUuTmF2aWdhdG9yPWZ1bmN0aW9uKGIpe3RoaXMuaGlzdG9yeT1iLHRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2U9ITAsc2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5pZ25vcmVJbml0aWFsSGFzaENoYW5nZT0hMX0sdGhpcyksMjAwKSxhLm1vYmlsZS53aW5kb3cuYmluZCh7InBvcHN0YXRlLmhpc3RvcnkiOmEucHJveHkodGhpcy5wb3BzdGF0ZSx0aGlzKSwiaGFzaGNoYW5nZS5oaXN0b3J5IjphLnByb3h5KHRoaXMuaGFzaGNoYW5nZSx0aGlzKX0pfSxhLmV4dGVuZChhLm1vYmlsZS5OYXZpZ2F0b3IucHJvdG90eXBlLHtzcXVhc2g6ZnVuY3Rpb24oZCxmKXt2YXIgZyxoLGk9ZS5pc1BhdGgoZCk/ZS5zdHJpcEhhc2goZCk6ZDtyZXR1cm4gaD1lLnNxdWFzaChkKSxnPWEuZXh0ZW5kKHtoYXNoOmksdXJsOmh9LGYpLGIuaGlzdG9yeS5yZXBsYWNlU3RhdGUoZyxnLnRpdGxlfHxjLnRpdGxlLGgpLGd9LGhhc2g6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGY7Yz1lLnBhcnNlVXJsKGEpLGQ9ZS5wYXJzZUxvY2F0aW9uKCk7aWYoZC5wYXRobmFtZStkLnNlYXJjaD09PWMucGF0aG5hbWUrYy5zZWFyY2gpZj1jLmhhc2g/Yy5oYXNoOmMucGF0aG5hbWUrYy5zZWFyY2g7ZWxzZSBpZihlLmlzUGF0aChhKSl7dmFyIGc9ZS5wYXJzZVVybChiKTtmPWcucGF0aG5hbWUrZy5zZWFyY2grKGUuaXNQcmVzZXJ2YWJsZUhhc2goZy5oYXNoKT9nLmhhc2gucmVwbGFjZSgiIyIsIiIpOiIiKX1lbHNlIGY9YTtyZXR1cm4gZn0sZ286ZnVuY3Rpb24oZCxmLGcpe3ZhciBoLGksaixrLGw9YS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpO2k9ZS5zcXVhc2goZCksaj10aGlzLmhhc2goZCxpKSxnJiZqIT09ZS5zdHJpcEhhc2goZS5wYXJzZUxvY2F0aW9uKCkuaGFzaCkmJih0aGlzLnByZXZlbnROZXh0SGFzaENoYW5nZT1nKSx0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU9ITAsYi5sb2NhdGlvbi5oYXNoPWosdGhpcy5wcmV2ZW50SGFzaEFzc2lnblBvcFN0YXRlPSExLGg9YS5leHRlbmQoe3VybDppLGhhc2g6aix0aXRsZTpjLnRpdGxlfSxmKSxsJiYoaz1uZXcgYS5FdmVudCgicG9wc3RhdGUiKSxrLm9yaWdpbmFsRXZlbnQ9e3R5cGU6InBvcHN0YXRlIixzdGF0ZTpudWxsfSx0aGlzLnNxdWFzaChkLGgpLGd8fCh0aGlzLmlnbm9yZVBvcFN0YXRlPSEwLGEubW9iaWxlLndpbmRvdy50cmlnZ2VyKGspKSksdGhpcy5oaXN0b3J5LmFkZChoLnVybCxoKX0scG9wc3RhdGU6ZnVuY3Rpb24oYil7dmFyIGMsZCxmLGc7aWYoIWEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKSlyZXR1cm47aWYodGhpcy5wcmV2ZW50SGFzaEFzc2lnblBvcFN0YXRlKXt0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU9ITEsYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtyZXR1cm59aWYodGhpcy5pZ25vcmVQb3BTdGF0ZSl7dGhpcy5pZ25vcmVQb3BTdGF0ZT0hMTtyZXR1cm59aWYoIWIub3JpZ2luYWxFdmVudC5zdGF0ZSYmdGhpcy5oaXN0b3J5LnN0YWNrLmxlbmd0aD09PTEmJnRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2Upe3RoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2U9ITE7cmV0dXJufWQ9ZS5wYXJzZUxvY2F0aW9uKCkuaGFzaDtpZighYi5vcmlnaW5hbEV2ZW50LnN0YXRlJiZkKXtmPXRoaXMuc3F1YXNoKGQpLHRoaXMuaGlzdG9yeS5hZGQoZi51cmwsZiksYi5oaXN0b3J5U3RhdGU9ZjtyZXR1cm59dGhpcy5oaXN0b3J5LmRpcmVjdCh7dXJsOihiLm9yaWdpbmFsRXZlbnQuc3RhdGV8fHt9KS51cmx8fGQscHJlc2VudDpmdW5jdGlvbihjLGQpe2IuaGlzdG9yeVN0YXRlPWEuZXh0ZW5kKHt9LGMpLGIuaGlzdG9yeVN0YXRlLmRpcmVjdGlvbj1kfX0pfSxoYXNoY2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBkLGY7aWYoIWEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc0hhc2hDaGFuZ2VFbmFibGVkKCl8fGEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKSlyZXR1cm47aWYodGhpcy5wcmV2ZW50TmV4dEhhc2hDaGFuZ2Upe3RoaXMucHJldmVudE5leHRIYXNoQ2hhbmdlPSExLGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7cmV0dXJufWQ9dGhpcy5oaXN0b3J5LGY9ZS5wYXJzZUxvY2F0aW9uKCkuaGFzaCx0aGlzLmhpc3RvcnkuZGlyZWN0KHt1cmw6ZixwcmVzZW50OmZ1bmN0aW9uKGMsZCl7Yi5oYXNoY2hhbmdlU3RhdGU9YS5leHRlbmQoe30sYyksYi5oYXNoY2hhbmdlU3RhdGUuZGlyZWN0aW9uPWR9LG1pc3Npbmc6ZnVuY3Rpb24oKXtkLmFkZChmLHtoYXNoOmYsdGl0bGU6Yy50aXRsZX0pfX0pfX0pfShhKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLm5hdmlnYXRlPWZ1bmN0aW9uKGIsYyxkKXthLm1vYmlsZS5uYXZpZ2F0ZS5uYXZpZ2F0b3IuZ28oYixjLGQpfSxhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5PW5ldyBhLm1vYmlsZS5IaXN0b3J5LGEubW9iaWxlLm5hdmlnYXRlLm5hdmlnYXRvcj1uZXcgYS5tb2JpbGUuTmF2aWdhdG9yKGEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkpO3ZhciBjPWEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpO2EubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWRkKGMuaHJlZix7aGFzaDpjLmhhc2h9KX0oYSksZnVuY3Rpb24oYSxiLGMsZCl7ZnVuY3Rpb24geChhKXt3aGlsZShhJiZ0eXBlb2YgYS5vcmlnaW5hbEV2ZW50IT0idW5kZWZpbmVkIilhPWEub3JpZ2luYWxFdmVudDtyZXR1cm4gYX1mdW5jdGlvbiB5KGIsYyl7dmFyIGU9Yi50eXBlLGYsZyxpLGssbCxtLG4sbyxwO2I9YS5FdmVudChiKSxiLnR5cGU9YyxmPWIub3JpZ2luYWxFdmVudCxnPWEuZXZlbnQucHJvcHMsZS5zZWFyY2goL14obW91c2V8Y2xpY2spLyk+LTEmJihnPWopO2lmKGYpZm9yKG49Zy5sZW5ndGgsaztuOylrPWdbLS1uXSxiW2tdPWZba107ZS5zZWFyY2goL21vdXNlKGRvd258dXApfGNsaWNrLyk+LTEmJiFiLndoaWNoJiYoYi53aGljaD0xKTtpZihlLnNlYXJjaCgvXnRvdWNoLykhPT0tMSl7aT14KGYpLGU9aS50b3VjaGVzLGw9aS5jaGFuZ2VkVG91Y2hlcyxtPWUmJmUubGVuZ3RoP2VbMF06bCYmbC5sZW5ndGg/bFswXTpkO2lmKG0pZm9yKG89MCxwPWgubGVuZ3RoO288cDtvKyspaz1oW29dLGJba109bVtrXX1yZXR1cm4gYn1mdW5jdGlvbiB6KGIpe3ZhciBjPXt9LGQsZjt3aGlsZShiKXtkPWEuZGF0YShiLGUpO2ZvcihmIGluIGQpZFtmXSYmKGNbZl09Yy5oYXNWaXJ0dWFsQmluZGluZz0hMCk7Yj1iLnBhcmVudE5vZGV9cmV0dXJuIGN9ZnVuY3Rpb24gQShiLGMpe3ZhciBkO3doaWxlKGIpe2Q9YS5kYXRhKGIsZSk7aWYoZCYmKCFjfHxkW2NdKSlyZXR1cm4gYjtiPWIucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBCKCl7cj0hMX1mdW5jdGlvbiBDKCl7cj0hMH1mdW5jdGlvbiBEKCl7dj0wLHAubGVuZ3RoPTAscT0hMSxDKCl9ZnVuY3Rpb24gRSgpe0IoKX1mdW5jdGlvbiBGKCl7RygpLGw9c2V0VGltZW91dChmdW5jdGlvbigpe2w9MCxEKCl9LGEudm1vdXNlLnJlc2V0VGltZXJEdXJhdGlvbil9ZnVuY3Rpb24gRygpe2wmJihjbGVhclRpbWVvdXQobCksbD0wKX1mdW5jdGlvbiBIKGIsYyxkKXt2YXIgZTtpZihkJiZkW2JdfHwhZCYmQShjLnRhcmdldCxiKSllPXkoYyxiKSxhKGMudGFyZ2V0KS50cmlnZ2VyKGUpO3JldHVybiBlfWZ1bmN0aW9uIEkoYil7dmFyIGM9YS5kYXRhKGIudGFyZ2V0LGYpO2lmKCFxJiYoIXZ8fHYhPT1jKSl7dmFyIGQ9SCgidiIrYi50eXBlLGIpO2QmJihkLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZiLnByZXZlbnREZWZhdWx0KCksZC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZiLnN0b3BQcm9wYWdhdGlvbigpLGQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSYmYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSl9fWZ1bmN0aW9uIEooYil7dmFyIGM9eChiKS50b3VjaGVzLGQsZTtpZihjJiZjLmxlbmd0aD09PTEpe2Q9Yi50YXJnZXQsZT16KGQpO2lmKGUuaGFzVmlydHVhbEJpbmRpbmcpe3Y9dSsrLGEuZGF0YShkLGYsdiksRygpLEUoKSxvPSExO3ZhciBnPXgoYikudG91Y2hlc1swXTttPWcucGFnZVgsbj1nLnBhZ2VZLEgoInZtb3VzZW92ZXIiLGIsZSksSCgidm1vdXNlZG93biIsYixlKX19fWZ1bmN0aW9uIEsoYSl7aWYocilyZXR1cm47b3x8SCgidm1vdXNlY2FuY2VsIixhLHooYS50YXJnZXQpKSxvPSEwLEYoKX1mdW5jdGlvbiBMKGIpe2lmKHIpcmV0dXJuO3ZhciBjPXgoYikudG91Y2hlc1swXSxkPW8sZT1hLnZtb3VzZS5tb3ZlRGlzdGFuY2VUaHJlc2hvbGQsZj16KGIudGFyZ2V0KTtvPW98fE1hdGguYWJzKGMucGFnZVgtbSk+ZXx8TWF0aC5hYnMoYy5wYWdlWS1uKT5lLG8mJiFkJiZIKCJ2bW91c2VjYW5jZWwiLGIsZiksSCgidm1vdXNlbW92ZSIsYixmKSxGKCl9ZnVuY3Rpb24gTShhKXtpZihyKXJldHVybjtDKCk7dmFyIGI9eihhLnRhcmdldCksYztIKCJ2bW91c2V1cCIsYSxiKTtpZighbyl7dmFyIGQ9SCgidmNsaWNrIixhLGIpO2QmJmQuaXNEZWZhdWx0UHJldmVudGVkKCkmJihjPXgoYSkuY2hhbmdlZFRvdWNoZXNbMF0scC5wdXNoKHt0b3VjaElEOnYseDpjLmNsaWVudFgseTpjLmNsaWVudFl9KSxxPSEwKX1IKCJ2bW91c2VvdXQiLGEsYiksbz0hMSxGKCl9ZnVuY3Rpb24gTihiKXt2YXIgYz1hLmRhdGEoYixlKSxkO2lmKGMpZm9yKGQgaW4gYylpZihjW2RdKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIE8oKXt9ZnVuY3Rpb24gUChiKXt2YXIgYz1iLnN1YnN0cigxKTtyZXR1cm57c2V0dXA6ZnVuY3Rpb24oZCxmKXtOKHRoaXMpfHxhLmRhdGEodGhpcyxlLHt9KTt2YXIgZz1hLmRhdGEodGhpcyxlKTtnW2JdPSEwLGtbYl09KGtbYl18fDApKzEsa1tiXT09PTEmJnQuYmluZChjLEkpLGEodGhpcykuYmluZChjLE8pLHMmJihrLnRvdWNoc3RhcnQ9KGsudG91Y2hzdGFydHx8MCkrMSxrLnRvdWNoc3RhcnQ9PT0xJiZ0LmJpbmQoInRvdWNoc3RhcnQiLEopLmJpbmQoInRvdWNoZW5kIixNKS5iaW5kKCJ0b3VjaG1vdmUiLEwpLmJpbmQoInNjcm9sbCIsSykpfSx0ZWFyZG93bjpmdW5jdGlvbihkLGYpey0ta1tiXSxrW2JdfHx0LnVuYmluZChjLEkpLHMmJigtLWsudG91Y2hzdGFydCxrLnRvdWNoc3RhcnR8fHQudW5iaW5kKCJ0b3VjaHN0YXJ0IixKKS51bmJpbmQoInRvdWNobW92ZSIsTCkudW5iaW5kKCJ0b3VjaGVuZCIsTSkudW5iaW5kKCJzY3JvbGwiLEspKTt2YXIgZz1hKHRoaXMpLGg9YS5kYXRhKHRoaXMsZSk7aCYmKGhbYl09ITEpLGcudW5iaW5kKGMsTyksTih0aGlzKXx8Zy5yZW1vdmVEYXRhKGUpfX19dmFyIGU9InZpcnR1YWxNb3VzZUJpbmRpbmdzIixmPSJ2aXJ0dWFsVG91Y2hJRCIsZz0idm1vdXNlb3ZlciB2bW91c2Vkb3duIHZtb3VzZW1vdmUgdm1vdXNldXAgdmNsaWNrIHZtb3VzZW91dCB2bW91c2VjYW5jZWwiLnNwbGl0KCIgIiksaD0iY2xpZW50WCBjbGllbnRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSIuc3BsaXQoIiAiKSxpPWEuZXZlbnQubW91c2VIb29rcz9hLmV2ZW50Lm1vdXNlSG9va3MucHJvcHM6W10saj1hLmV2ZW50LnByb3BzLmNvbmNhdChpKSxrPXt9LGw9MCxtPTAsbj0wLG89ITEscD1bXSxxPSExLHI9ITEscz0iYWRkRXZlbnRMaXN0ZW5lciJpbiBjLHQ9YShjKSx1PTEsdj0wLHc7YS52bW91c2U9e21vdmVEaXN0YW5jZVRocmVzaG9sZDoxMCxjbGlja0Rpc3RhbmNlVGhyZXNob2xkOjEwLHJlc2V0VGltZXJEdXJhdGlvbjoxNTAwfTtmb3IodmFyIFE9MDtRPGcubGVuZ3RoO1ErKylhLmV2ZW50LnNwZWNpYWxbZ1tRXV09UChnW1FdKTtzJiZjLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixmdW5jdGlvbihiKXt2YXIgYz1wLmxlbmd0aCxkPWIudGFyZ2V0LGUsZyxoLGksaixrO2lmKGMpe2U9Yi5jbGllbnRYLGc9Yi5jbGllbnRZLHc9YS52bW91c2UuY2xpY2tEaXN0YW5jZVRocmVzaG9sZCxoPWQ7d2hpbGUoaCl7Zm9yKGk9MDtpPGM7aSsrKXtqPXBbaV0saz0wO2lmKGg9PT1kJiZNYXRoLmFicyhqLngtZSk8dyYmTWF0aC5hYnMoai55LWcpPHd8fGEuZGF0YShoLGYpPT09ai50b3VjaElEKXtiLnByZXZlbnREZWZhdWx0KCksYi5zdG9wUHJvcGFnYXRpb24oKTtyZXR1cm59fWg9aC5wYXJlbnROb2RlfX19LCEwKX0oYSxiLGMpLGZ1bmN0aW9uKGEsYixkKXtmdW5jdGlvbiBrKGIsYyxkKXt2YXIgZT1kLnR5cGU7ZC50eXBlPWMsYS5ldmVudC5kaXNwYXRjaC5jYWxsKGIsZCksZC50eXBlPWV9dmFyIGU9YShjKTthLmVhY2goInRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRhcCB0YXBob2xkIHN3aXBlIHN3aXBlbGVmdCBzd2lwZXJpZ2h0IHNjcm9sbHN0YXJ0IHNjcm9sbHN0b3AiLnNwbGl0KCIgIiksZnVuY3Rpb24oYixjKXthLmZuW2NdPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChjLGEpOnRoaXMudHJpZ2dlcihjKX0sYS5hdHRyRm4mJihhLmF0dHJGbltjXT0hMCl9KTt2YXIgZj1hLm1vYmlsZS5zdXBwb3J0LnRvdWNoLGc9InRvdWNobW92ZSBzY3JvbGwiLGg9Zj8idG91Y2hzdGFydCI6Im1vdXNlZG93biIsaT1mPyJ0b3VjaGVuZCI6Im1vdXNldXAiLGo9Zj8idG91Y2htb3ZlIjoibW91c2Vtb3ZlIjthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQ9e2VuYWJsZWQ6ITAsc2V0dXA6ZnVuY3Rpb24oKXtmdW5jdGlvbiBmKGEsYyl7ZD1jLGsoYixkPyJzY3JvbGxzdGFydCI6InNjcm9sbHN0b3AiLGEpfXZhciBiPXRoaXMsYz1hKGIpLGQsZTtjLmJpbmQoZyxmdW5jdGlvbihiKXtpZighYS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQpcmV0dXJuO2R8fGYoYiwhMCksY2xlYXJUaW1lb3V0KGUpLGU9c2V0VGltZW91dChmdW5jdGlvbigpe2YoYiwhMSl9LDUwKX0pfX0sYS5ldmVudC5zcGVjaWFsLnRhcD17dGFwaG9sZFRocmVzaG9sZDo3NTAsc2V0dXA6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9YShiKTtjLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKGQpe2Z1bmN0aW9uIGkoKXtjbGVhclRpbWVvdXQoaCl9ZnVuY3Rpb24gaigpe2koKSxjLnVuYmluZCgidmNsaWNrIixsKS51bmJpbmQoInZtb3VzZXVwIixpKSxlLnVuYmluZCgidm1vdXNlY2FuY2VsIixqKX1mdW5jdGlvbiBsKGEpe2ooKSxmPT09YS50YXJnZXQmJmsoYiwidGFwIixhKX1pZihkLndoaWNoJiZkLndoaWNoIT09MSlyZXR1cm4hMTt2YXIgZj1kLnRhcmdldCxnPWQub3JpZ2luYWxFdmVudCxoO2MuYmluZCgidm1vdXNldXAiLGkpLmJpbmQoInZjbGljayIsbCksZS5iaW5kKCJ2bW91c2VjYW5jZWwiLGopLGg9c2V0VGltZW91dChmdW5jdGlvbigpe2soYiwidGFwaG9sZCIsYS5FdmVudCgidGFwaG9sZCIse3RhcmdldDpmfSkpfSxhLmV2ZW50LnNwZWNpYWwudGFwLnRhcGhvbGRUaHJlc2hvbGQpfSl9fSxhLmV2ZW50LnNwZWNpYWwuc3dpcGU9e3Njcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQ6MzAsZHVyYXRpb25UaHJlc2hvbGQ6MWUzLGhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZDozMCx2ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkOjc1LHN0YXJ0OmZ1bmN0aW9uKGIpe3ZhciBjPWIub3JpZ2luYWxFdmVudC50b3VjaGVzP2Iub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmI7cmV0dXJue3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOltjLnBhZ2VYLGMucGFnZVldLG9yaWdpbjphKGIudGFyZ2V0KX19LHN0b3A6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vcmlnaW5hbEV2ZW50LnRvdWNoZXM/YS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF06YTtyZXR1cm57dGltZToobmV3IERhdGUpLmdldFRpbWUoKSxjb29yZHM6W2IucGFnZVgsYi5wYWdlWV19fSxoYW5kbGVTd2lwZTpmdW5jdGlvbihiLGMpe2MudGltZS1iLnRpbWU8YS5ldmVudC5zcGVjaWFsLnN3aXBlLmR1cmF0aW9uVGhyZXNob2xkJiZNYXRoLmFicyhiLmNvb3Jkc1swXS1jLmNvb3Jkc1swXSk+YS5ldmVudC5zcGVjaWFsLnN3aXBlLmhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZCYmTWF0aC5hYnMoYi5jb29yZHNbMV0tYy5jb29yZHNbMV0pPGEuZXZlbnQuc3BlY2lhbC5zd2lwZS52ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkJiZiLm9yaWdpbi50cmlnZ2VyKCJzd2lwZSIpLnRyaWdnZXIoYi5jb29yZHNbMF0+Yy5jb29yZHNbMF0/InN3aXBlbGVmdCI6InN3aXBlcmlnaHQiKX0sc2V0dXA6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9YShiKTtjLmJpbmQoaCxmdW5jdGlvbihiKXtmdW5jdGlvbiBnKGIpe2lmKCFlKXJldHVybjtmPWEuZXZlbnQuc3BlY2lhbC5zd2lwZS5zdG9wKGIpLE1hdGguYWJzKGUuY29vcmRzWzBdLWYuY29vcmRzWzBdKT5hLmV2ZW50LnNwZWNpYWwuc3dpcGUuc2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZCYmYi5wcmV2ZW50RGVmYXVsdCgpfXZhciBlPWEuZXZlbnQuc3BlY2lhbC5zd2lwZS5zdGFydChiKSxmO2MuYmluZChqLGcpLm9uZShpLGZ1bmN0aW9uKCl7Yy51bmJpbmQoaixnKSxlJiZmJiZhLmV2ZW50LnNwZWNpYWwuc3dpcGUuaGFuZGxlU3dpcGUoZSxmKSxlPWY9ZH0pfSl9fSxhLmVhY2goe3Njcm9sbHN0b3A6InNjcm9sbHN0YXJ0Iix0YXBob2xkOiJ0YXAiLHN3aXBlbGVmdDoic3dpcGUiLHN3aXBlcmlnaHQ6InN3aXBlIn0sZnVuY3Rpb24oYixjKXthLmV2ZW50LnNwZWNpYWxbYl09e3NldHVwOmZ1bmN0aW9uKCl7YSh0aGlzKS5iaW5kKGMsYS5ub29wKX19fSl9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5ldmVudC5zcGVjaWFsLnRocm90dGxlZHJlc2l6ZT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoInJlc2l6ZSIsYyl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoInJlc2l6ZSIsYyl9fTt2YXIgYj0yNTAsYz1mdW5jdGlvbigpe2Y9KG5ldyBEYXRlKS5nZXRUaW1lKCksZz1mLWQsZz49Yj8oZD1mLGEodGhpcykudHJpZ2dlcigidGhyb3R0bGVkcmVzaXplIikpOihlJiZjbGVhclRpbWVvdXQoZSksZT1zZXRUaW1lb3V0KGMsYi1nKSl9LGQ9MCxlLGYsZ30oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBvKCl7dmFyIGE9ZygpO2EhPT1oJiYoaD1hLGQudHJpZ2dlcihlKSl9dmFyIGQ9YShiKSxlPSJvcmllbnRhdGlvbmNoYW5nZSIsZixnLGgsaSxqLGs9ezA6ITAsMTgwOiEwfTtpZihhLnN1cHBvcnQub3JpZW50YXRpb24pe3ZhciBsPWIuaW5uZXJXaWR0aHx8ZC53aWR0aCgpLG09Yi5pbm5lckhlaWdodHx8ZC5oZWlnaHQoKSxuPTUwO2k9bD5tJiZsLW0+bixqPWtbYi5vcmllbnRhdGlvbl07aWYoaSYmanx8IWkmJiFqKWs9eyItOTAiOiEwLDkwOiEwfX1hLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2U9YS5leHRlbmQoe30sYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLHtzZXR1cDpmdW5jdGlvbigpe2lmKGEuc3VwcG9ydC5vcmllbnRhdGlvbiYmIWEuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5kaXNhYmxlZClyZXR1cm4hMTtoPWcoKSxkLmJpbmQoInRocm90dGxlZHJlc2l6ZSIsbyl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYoYS5zdXBwb3J0Lm9yaWVudGF0aW9uJiYhYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLmRpc2FibGVkKXJldHVybiExO2QudW5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLG8pfSxhZGQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5oYW5kbGVyO2EuaGFuZGxlcj1mdW5jdGlvbihhKXtyZXR1cm4gYS5vcmllbnRhdGlvbj1nKCksYi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0pLGEuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5vcmllbnRhdGlvbj1nPWZ1bmN0aW9uKCl7dmFyIGQ9ITAsZT1jLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gYS5zdXBwb3J0Lm9yaWVudGF0aW9uP2Q9a1tiLm9yaWVudGF0aW9uXTpkPWUmJmUuY2xpZW50V2lkdGgvZS5jbGllbnRIZWlnaHQ8MS4xLGQ/InBvcnRyYWl0IjoibGFuZHNjYXBlIn0sYS5mbltlXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoZSxhKTp0aGlzLnRyaWdnZXIoZSl9LGEuYXR0ckZuJiYoYS5hdHRyRm5bZV09ITApfShhLHRoaXMpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5wYWdlIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOiJjIixkb21DYWNoZTohMSxrZWVwTmF0aXZlRGVmYXVsdDoiOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7aWYodGhpcy5fdHJpZ2dlcigiYmVmb3JlY3JlYXRlIik9PT0hMSlyZXR1cm4hMTt0aGlzLmVsZW1lbnQuYXR0cigidGFiaW5kZXgiLCIwIikuYWRkQ2xhc3MoInVpLXBhZ2UgdWktYm9keS0iK3RoaXMub3B0aW9ucy50aGVtZSksdGhpcy5fb24odGhpcy5lbGVtZW50LHtwYWdlYmVmb3JlaGlkZToicmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZCIscGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyJ9KX0sX2hhbmRsZVBhZ2VCZWZvcmVTaG93OmZ1bmN0aW9uKGEpe3RoaXMuc2V0Q29udGFpbmVyQmFja2dyb3VuZCgpfSxyZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kOmZ1bmN0aW9uKCl7YS5tb2JpbGUucGFnZUNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktb3ZlcmxheS0iK2EubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudC5wYXJlbnQoKSkpfSxzZXRDb250YWluZXJCYWNrZ3JvdW5kOmZ1bmN0aW9uKGIpe3RoaXMub3B0aW9ucy50aGVtZSYmYS5tb2JpbGUucGFnZUNvbnRhaW5lci5hZGRDbGFzcygidWktb3ZlcmxheS0iKyhifHx0aGlzLm9wdGlvbnMudGhlbWUpKX0sa2VlcE5hdGl2ZVNlbGVjdG9yOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLGM9Yi5rZWVwTmF0aXZlJiZhLnRyaW0oYi5rZWVwTmF0aXZlKTtyZXR1cm4gYyYmYi5rZWVwTmF0aXZlIT09Yi5rZWVwTmF0aXZlRGVmYXVsdD9bYi5rZWVwTmF0aXZlLGIua2VlcE5hdGl2ZURlZmF1bHRdLmpvaW4oIiwgIik6Yi5rZWVwTmF0aXZlRGVmYXVsdH19KX0oYSksZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGQpe3JldHVybiBkPT09YyYmKGQ9ITApLGZ1bmN0aW9uKGMsZSxmLGcpe3ZhciBoPW5ldyBhLkRlZmVycmVkLGk9ZT8iIHJldmVyc2UiOiIiLGo9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKSxrPWoubGFzdFNjcm9sbHx8YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwsbD1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSxtPWEubW9iaWxlLm1heFRyYW5zaXRpb25XaWR0aCE9PSExJiZhLm1vYmlsZS53aW5kb3cud2lkdGgoKT5hLm1vYmlsZS5tYXhUcmFuc2l0aW9uV2lkdGgsbj0hYS5zdXBwb3J0LmNzc1RyYW5zaXRpb25zfHxtfHwhY3x8Yz09PSJub25lInx8TWF0aC5tYXgoYS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpLGspPmEubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb24oKSxvPSIgdWktcGFnZS1wcmUtaW4iLHA9ZnVuY3Rpb24oKXthLm1vYmlsZS5wYWdlQ29udGFpbmVyLnRvZ2dsZUNsYXNzKCJ1aS1tb2JpbGUtdmlld3BvcnQtdHJhbnNpdGlvbmluZyB2aWV3cG9ydC0iK2MpfSxxPWZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITEsYi5zY3JvbGxUbygwLGspLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMH0sMTUwKX0scj1mdW5jdGlvbigpe2cucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKyIgb3V0IGluIHJldmVyc2UgIitjKS5oZWlnaHQoIiIpfSxzPWZ1bmN0aW9uKCl7ZD9nLmFuaW1hdGlvbkNvbXBsZXRlKHQpOnQoKSxnLmhlaWdodChsK2EubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSkuYWRkQ2xhc3MoYysiIG91dCIraSl9LHQ9ZnVuY3Rpb24oKXtnJiZkJiZyKCksdSgpfSx1PWZ1bmN0aW9uKCl7Zi5jc3MoInotaW5kZXgiLC0xMCksZi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrbyksYS5tb2JpbGUuZm9jdXNQYWdlKGYpLGYuaGVpZ2h0KGwraykscSgpLGYuY3NzKCJ6LWluZGV4IiwiIiksbnx8Zi5hbmltYXRpb25Db21wbGV0ZSh2KSxmLnJlbW92ZUNsYXNzKG8pLmFkZENsYXNzKGMrIiBpbiIraSksbiYmdigpfSx2PWZ1bmN0aW9uKCl7ZHx8ZyYmcigpLGYucmVtb3ZlQ2xhc3MoIm91dCBpbiByZXZlcnNlICIrYykuaGVpZ2h0KCIiKSxwKCksYS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpIT09ayYmcSgpLGgucmVzb2x2ZShjLGUsZixnLCEwKX07cmV0dXJuIHAoKSxnJiYhbj9zKCk6dCgpLGgucHJvbWlzZSgpfX0sZT1kKCksZj1kKCExKSxnPWZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpKjN9O2EubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcj1lLGEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycz17ImRlZmF1bHQiOmEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcixzZXF1ZW50aWFsOmUsc2ltdWx0YW5lb3VzOmZ9LGEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3M9e30sYS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb249ZnVuY3Rpb24oYil7cmV0dXJuIGImJiFhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3NbYl0mJihiPWEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3NbYl0pLGJ9LGEubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb249YS5tb2JpbGUuZ2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbnx8Z30oYSx0aGlzKSxmdW5jdGlvbihhLGQpe2Z1bmN0aW9uIHcoYil7ISFqJiYoIWouY2xvc2VzdCgiLiIrYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKS5sZW5ndGh8fGIpJiZqLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxqPW51bGx9ZnVuY3Rpb24geCgpe289ITEsbi5sZW5ndGg+MCYmYS5tb2JpbGUuY2hhbmdlUGFnZS5hcHBseShudWxsLG4ucG9wKCkpfWZ1bmN0aW9uIEIoYixjLGQsZSl7YyYmYy5kYXRhKCJtb2JpbGUtcGFnZSIpLl90cmlnZ2VyKCJiZWZvcmVoaWRlIixudWxsLHtuZXh0UGFnZTpifSksYi5kYXRhKCJtb2JpbGUtcGFnZSIpLl90cmlnZ2VyKCJiZWZvcmVzaG93IixudWxsLHtwcmV2UGFnZTpjfHxhKCIiKX0pLGEubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpLGQ9YS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb24oZCk7dmFyIGY9YS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzW2R8fCJkZWZhdWx0Il18fGEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcixnPWYoZCxlLGIsYyk7cmV0dXJuIGcuZG9uZShmdW5jdGlvbigpe2MmJmMuZGF0YSgibW9iaWxlLXBhZ2UiKS5fdHJpZ2dlcigiaGlkZSIsbnVsbCx7bmV4dFBhZ2U6Yn0pLGIuZGF0YSgibW9iaWxlLXBhZ2UiKS5fdHJpZ2dlcigic2hvdyIsbnVsbCx7cHJldlBhZ2U6Y3x8YSgiIil9KX0pLGd9ZnVuY3Rpb24gQyhiLGMpe2MmJmIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlIixjKSxiLnBhZ2UoKX1mdW5jdGlvbiBEKCl7dmFyIGI9YS5tb2JpbGUuYWN0aXZlUGFnZSYmRihhLm1vYmlsZS5hY3RpdmVQYWdlKTtyZXR1cm4gYnx8cy5ocmVmTm9IYXNofWZ1bmN0aW9uIEUoYSl7d2hpbGUoYSl7aWYodHlwZW9mIGEubm9kZU5hbWU9PSJzdHJpbmciJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0iYSIpYnJlYWs7YT1hLnBhcmVudE5vZGV9cmV0dXJuIGF9ZnVuY3Rpb24gRihiKXt2YXIgYz1hKGIpLmNsb3Nlc3QoIi51aS1wYWdlIikuanFtRGF0YSgidXJsIiksZD1zLmhyZWZOb0hhc2g7aWYoIWN8fCFoLmlzUGF0aChjKSljPWQ7cmV0dXJuIGgubWFrZVVybEFic29sdXRlKGMsZCl9dmFyIGU9YS5tb2JpbGUud2luZG93LGY9YSgiaHRtbCIpLGc9YSgiaGVhZCIpLGg9YS5leHRlbmQoYS5tb2JpbGUucGF0aCx7Z2V0RmlsZVBhdGg6ZnVuY3Rpb24oYil7dmFyIGM9IiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXk7cmV0dXJuIGImJmIuc3BsaXQoYylbMF0uc3BsaXQocClbMF19LGlzRmlyc3RQYWdlVXJsOmZ1bmN0aW9uKGIpe3ZhciBjPWgucGFyc2VVcmwoaC5tYWtlVXJsQWJzb2x1dGUoYix0aGlzLmRvY3VtZW50QmFzZSkpLGU9Yy5ocmVmTm9IYXNoPT09dGhpcy5kb2N1bWVudFVybC5ocmVmTm9IYXNofHx0aGlzLmRvY3VtZW50QmFzZURpZmZlcnMmJmMuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gsZj1hLm1vYmlsZS5maXJzdFBhZ2UsZz1mJiZmWzBdP2ZbMF0uaWQ6ZDtyZXR1cm4gZSYmKCFjLmhhc2h8fGMuaGFzaD09PSIjInx8ZyYmYy5oYXNoLnJlcGxhY2UoL14jLywiIik9PT1nKX0saXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3Q6ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzJiZiLnByb3RvY29sPT09ImZpbGU6IiYmYy5zZWFyY2goL15odHRwcz86LykhPT0tMX19KSxpPW51bGwsaj1udWxsLGs9YS5EZWZlcnJlZCgpLGw9YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeSxtPSJbdGFiaW5kZXhdLGEsYnV0dG9uOnZpc2libGUsc2VsZWN0OnZpc2libGUsaW5wdXQiLG49W10sbz0hMSxwPSImdWktc3RhdGU9ZGlhbG9nIixxPWcuY2hpbGRyZW4oImJhc2UiKSxyPWguZG9jdW1lbnRVcmwscz1oLmRvY3VtZW50QmFzZSx0PWguZG9jdW1lbnRCYXNlRGlmZmVycyx1PWEubW9iaWxlLmdldFNjcmVlbkhlaWdodCx2PWEuc3VwcG9ydC5keW5hbWljQmFzZVRhZz97ZWxlbWVudDpxLmxlbmd0aD9xOmEoIjxiYXNlPiIse2hyZWY6cy5ocmVmTm9IYXNofSkucHJlcGVuZFRvKGcpLHNldDpmdW5jdGlvbihhKXthPWgucGFyc2VVcmwoYSkuaHJlZk5vSGFzaCx2LmVsZW1lbnQuYXR0cigiaHJlZiIsaC5tYWtlVXJsQWJzb2x1dGUoYSxzKSl9LHJlc2V0OmZ1bmN0aW9uKCl7di5lbGVtZW50LmF0dHIoImhyZWYiLHMuaHJlZk5vU2VhcmNoKX19OmQ7YS5tb2JpbGUuZ2V0RG9jdW1lbnRVcmw9aC5nZXREb2N1bWVudFVybCxhLm1vYmlsZS5nZXREb2N1bWVudEJhc2U9aC5nZXREb2N1bWVudEJhc2UsYS5tb2JpbGUuYmFjaz1mdW5jdGlvbigpe3ZhciBhPWIubmF2aWdhdG9yO3RoaXMucGhvbmVnYXBOYXZpZ2F0aW9uRW5hYmxlZCYmYSYmYS5hcHAmJmEuYXBwLmJhY2tIaXN0b3J5P2EuYXBwLmJhY2tIaXN0b3J5KCk6Yi5oaXN0b3J5LmJhY2soKX0sYS5tb2JpbGUuZm9jdXNQYWdlPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZmluZCgiW2F1dG9mb2N1c10iKSxjPWEuZmluZCgiLnVpLXRpdGxlOmVxKDApIik7aWYoYi5sZW5ndGgpe2IuZm9jdXMoKTtyZXR1cm59Yy5sZW5ndGg/Yy5mb2N1cygpOmEuZm9jdXMoKX07dmFyIHk9ITAseixBO3o9ZnVuY3Rpb24oKXtpZigheSlyZXR1cm47dmFyIGI9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKTtpZihiKXt2YXIgYz1lLnNjcm9sbFRvcCgpO2IubGFzdFNjcm9sbD1jPGEubW9iaWxlLm1pblNjcm9sbEJhY2s/YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw6Y319LEE9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KHosMTAwKX0sZS5iaW5kKGEuc3VwcG9ydC5wdXNoU3RhdGU/InBvcHN0YXRlIjoiaGFzaGNoYW5nZSIsZnVuY3Rpb24oKXt5PSExfSksZS5vbmUoYS5zdXBwb3J0LnB1c2hTdGF0ZT8icG9wc3RhdGUiOiJoYXNoY2hhbmdlIixmdW5jdGlvbigpe3k9ITB9KSxlLm9uZSgicGFnZWNvbnRhaW5lcmNyZWF0ZSIsZnVuY3Rpb24oKXthLm1vYmlsZS5wYWdlQ29udGFpbmVyLmJpbmQoInBhZ2VjaGFuZ2UiLGZ1bmN0aW9uKCl7eT0hMCxlLnVuYmluZCgic2Nyb2xsc3RvcCIsQSksZS5iaW5kKCJzY3JvbGxzdG9wIixBKX0pfSksZS5iaW5kKCJzY3JvbGxzdG9wIixBKSxhLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbj1hLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbnx8ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodD1mdW5jdGlvbihiKXt2YXIgYz1hKCIuIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLGQ9cGFyc2VGbG9hdChjLmNzcygicGFkZGluZy10b3AiKSksZT1wYXJzZUZsb2F0KGMuY3NzKCJwYWRkaW5nLWJvdHRvbSIpKSxmPXBhcnNlRmxvYXQoYy5jc3MoImJvcmRlci10b3Atd2lkdGgiKSksZz1wYXJzZUZsb2F0KGMuY3NzKCJib3JkZXItYm90dG9tLXdpZHRoIikpO2I9dHlwZW9mIGI9PSJudW1iZXIiP2I6dSgpLGMuY3NzKCJtaW4taGVpZ2h0IixiLWQtZS1mLWcpfSxhLmZuLmFuaW1hdGlvbkNvbXBsZXRlPWZ1bmN0aW9uKGIpe3JldHVybiBhLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnM/YSh0aGlzKS5vbmUoIndlYmtpdEFuaW1hdGlvbkVuZCBhbmltYXRpb25lbmQiLGIpOihzZXRUaW1lb3V0KGIsMCksYSh0aGlzKSl9LGEubW9iaWxlLnBhdGg9aCxhLm1vYmlsZS5iYXNlPXYsYS5tb2JpbGUudXJsSGlzdG9yeT1sLGEubW9iaWxlLmRpYWxvZ0hhc2hLZXk9cCxhLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXM9ITEsYS5tb2JpbGUuX2JpbmRQYWdlUmVtb3ZlPWZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTshYi5kYXRhKCJtb2JpbGUtcGFnZSIpLm9wdGlvbnMuZG9tQ2FjaGUmJmIuaXMoIjpqcW1EYXRhKGV4dGVybmFsLXBhZ2U9J3RydWUnKSIpJiZiLmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIsZnVuY3Rpb24oYil7dmFyIGM9YSh0aGlzKSxkPW5ldyBhLkV2ZW50KCJwYWdlcmVtb3ZlIik7Yy50cmlnZ2VyKGQpLGQuaXNEZWZhdWx0UHJldmVudGVkKCl8fGMucmVtb3ZlV2l0aERlcGVuZGVudHMoKX0pfSxhLm1vYmlsZS5sb2FkUGFnZT1mdW5jdGlvbihiLGMpe3ZhciBlPWEuRGVmZXJyZWQoKSxmPWEuZXh0ZW5kKHt9LGEubW9iaWxlLmxvYWRQYWdlLmRlZmF1bHRzLGMpLGc9bnVsbCxpPW51bGwsaj1oLm1ha2VVcmxBYnNvbHV0ZShiLEQoKSk7Zi5kYXRhJiZmLnR5cGU9PT0iZ2V0IiYmKGo9aC5hZGRTZWFyY2hQYXJhbXMoaixmLmRhdGEpLGYuZGF0YT1kKSxmLmRhdGEmJmYudHlwZT09PSJwb3N0IiYmKGYucmVsb2FkUGFnZT0hMCk7dmFyIGs9aC5nZXRGaWxlUGF0aChqKSxsPWguY29udmVydFVybFRvRGF0YVVybChqKTtmLnBhZ2VDb250YWluZXI9Zi5wYWdlQ29udGFpbmVyfHxhLm1vYmlsZS5wYWdlQ29udGFpbmVyLGc9Zi5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCJbZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmw9JyIrbCsiJ10iKSxnLmxlbmd0aD09PTAmJmwmJiFoLmlzUGF0aChsKSYmKGc9Zi5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCIjIitsKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIsbCkuanFtRGF0YSgidXJsIixsKSk7aWYoZy5sZW5ndGg9PT0wKWlmKGEubW9iaWxlLmZpcnN0UGFnZSYmaC5pc0ZpcnN0UGFnZVVybChrKSlhLm1vYmlsZS5maXJzdFBhZ2UucGFyZW50KCkubGVuZ3RoJiYoZz1hKGEubW9iaWxlLmZpcnN0UGFnZSkpO2Vsc2UgaWYoaC5pc0VtYmVkZGVkUGFnZShrKSlyZXR1cm4gZS5yZWplY3QoaixjKSxlLnByb21pc2UoKTtpZihnLmxlbmd0aCl7aWYoIWYucmVsb2FkUGFnZSlyZXR1cm4gQyhnLGYucm9sZSksZS5yZXNvbHZlKGosYyxnKSxlLnByb21pc2UoKTtpPWd9dmFyIG09Zi5wYWdlQ29udGFpbmVyLG49bmV3IGEuRXZlbnQoInBhZ2ViZWZvcmVsb2FkIiksbz17dXJsOmIsYWJzVXJsOmosZGF0YVVybDpsLGRlZmVycmVkOmUsb3B0aW9uczpmfTttLnRyaWdnZXIobixvKTtpZihuLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybiBlLnByb21pc2UoKTtpZihmLnNob3dMb2FkTXNnKXZhciBwPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coKX0sZi5sb2FkTXNnRGVsYXkpLHE9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQocCksYS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnKCl9O3JldHVybiB2JiZ2LnJlc2V0KCksIWEubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmIWguaXNTYW1lRG9tYWluKHIsaik/ZS5yZWplY3QoaixjKTphLmFqYXgoe3VybDprLHR5cGU6Zi50eXBlLGRhdGE6Zi5kYXRhLGRhdGFUeXBlOiJodG1sIixzdWNjZXNzOmZ1bmN0aW9uKGQsbSxuKXt2YXIgcD1hKCI8ZGl2PjwvZGl2PiIpLHI9ZC5tYXRjaCgvPHRpdGxlW14+XSo+KFtePF0qKS8pJiZSZWdFeHAuJDEscz1uZXcgUmVnRXhwKCIoPFtePl0rXFxiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPVtcIiddP3BhZ2VbXCInXT9bXj5dKj4pIiksdD1uZXcgUmVnRXhwKCJcXGJkYXRhLSIrYS5tb2JpbGUubnMrInVybD1bXCInXT8oW15cIic+XSopW1wiJ10/Iik7cy50ZXN0KGQpJiZSZWdFeHAuJDEmJnQudGVzdChSZWdFeHAuJDEpJiZSZWdFeHAuJDEmJihiPWs9aC5nZXRGaWxlUGF0aChhKCI8ZGl2PiIrUmVnRXhwLiQxKyI8L2Rpdj4iKS50ZXh0KCkpKSx2JiZ2LnNldChrKSxwLmdldCgwKS5pbm5lckhUTUw9ZCxnPXAuZmluZCgiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpcnN0KCksZy5sZW5ndGh8fChnPWEoIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdwYWdlJz4iKyhkLnNwbGl0KC88XC8/Ym9keVtePl0qPi9nbWkpWzFdfHwiIikrIjwvZGl2PiIpKSxyJiYhZy5qcW1EYXRhKCJ0aXRsZSIpJiYofnIuaW5kZXhPZigiJiIpJiYocj1hKCI8ZGl2PiIrcisiPC9kaXY+IikudGV4dCgpKSxnLmpxbURhdGEoInRpdGxlIixyKSk7aWYoIWEuc3VwcG9ydC5keW5hbWljQmFzZVRhZyl7dmFyIHU9aC5nZXQoayk7Zy5maW5kKCJbc3JjXSwgbGlua1tocmVmXSwgYVtyZWw9J2V4dGVybmFsJ10sIDpqcW1EYXRhKGFqYXg9J2ZhbHNlJyksIGFbdGFyZ2V0XSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLmlzKCJbaHJlZl0iKT8iaHJlZiI6YSh0aGlzKS5pcygiW3NyY10iKT8ic3JjIjoiYWN0aW9uIixjPWEodGhpcykuYXR0cihiKTtjPWMucmVwbGFjZShsb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUsIiIpLC9eKFx3Kzp8I3xcLykvLnRlc3QoYyl8fGEodGhpcykuYXR0cihiLHUrYyl9KX1nLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidXJsIixoLmNvbnZlcnRVcmxUb0RhdGFVcmwoaykpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiZXh0ZXJuYWwtcGFnZSIsITApLmFwcGVuZFRvKGYucGFnZUNvbnRhaW5lciksZy5vbmUoInBhZ2VjcmVhdGUiLGEubW9iaWxlLl9iaW5kUGFnZVJlbW92ZSksQyhnLGYucm9sZSksai5pbmRleE9mKCImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KT4tMSYmKGc9Zi5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCJbZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmw9JyIrbCsiJ10iKSksZi5zaG93TG9hZE1zZyYmcSgpLG8ueGhyPW4sby50ZXh0U3RhdHVzPW0sby5wYWdlPWcsZi5wYWdlQ29udGFpbmVyLnRyaWdnZXIoInBhZ2Vsb2FkIixvKSxlLnJlc29sdmUoaixjLGcsaSl9LGVycm9yOmZ1bmN0aW9uKGIsZCxnKXt2JiZ2LnNldChoLmdldCgpKSxvLnhocj1iLG8udGV4dFN0YXR1cz1kLG8uZXJyb3JUaHJvd249Zzt2YXIgaT1uZXcgYS5FdmVudCgicGFnZWxvYWRmYWlsZWQiKTtmLnBhZ2VDb250YWluZXIudHJpZ2dlcihpLG8pO2lmKGkuaXNEZWZhdWx0UHJldmVudGVkKCkpcmV0dXJuO2Yuc2hvd0xvYWRNc2cmJihxKCksYS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKGEubW9iaWxlLnBhZ2VMb2FkRXJyb3JNZXNzYWdlVGhlbWUsYS5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2UsITApLHNldFRpbWVvdXQoYS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnLDE1MDApKSxlLnJlamVjdChqLGMpfX0pLGUucHJvbWlzZSgpfSxhLm1vYmlsZS5sb2FkUGFnZS5kZWZhdWx0cz17dHlwZToiZ2V0IixkYXRhOmQscmVsb2FkUGFnZTohMSxyb2xlOmQsc2hvd0xvYWRNc2c6ITEscGFnZUNvbnRhaW5lcjpkLGxvYWRNc2dEZWxheTo1MH0sYS5tb2JpbGUuY2hhbmdlUGFnZT1mdW5jdGlvbihiLGUpe2lmKG8pe24udW5zaGlmdChhcmd1bWVudHMpO3JldHVybn12YXIgZj1hLmV4dGVuZCh7fSxhLm1vYmlsZS5jaGFuZ2VQYWdlLmRlZmF1bHRzLGUpLGc7Zi5wYWdlQ29udGFpbmVyPWYucGFnZUNvbnRhaW5lcnx8YS5tb2JpbGUucGFnZUNvbnRhaW5lcixmLmZyb21QYWdlPWYuZnJvbVBhZ2V8fGEubW9iaWxlLmFjdGl2ZVBhZ2UsZz10eXBlb2YgYj09InN0cmluZyI7dmFyIGk9Zi5wYWdlQ29udGFpbmVyLGo9bmV3IGEuRXZlbnQoInBhZ2ViZWZvcmVjaGFuZ2UiKSxrPXt0b1BhZ2U6YixvcHRpb25zOmZ9O2c/ay5hYnNVcmw9aC5tYWtlVXJsQWJzb2x1dGUoYixEKCkpOmsuYWJzVXJsPWIuZGF0YSgiYWJzVXJsIiksaS50cmlnZ2VyKGosayk7aWYoai5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm47Yj1rLnRvUGFnZSxnPXR5cGVvZiBiPT0ic3RyaW5nIixvPSEwO2lmKGcpe2YudGFyZ2V0PWIsYS5tb2JpbGUubG9hZFBhZ2UoYixmKS5kb25lKGZ1bmN0aW9uKGIsYyxkLGUpe289ITEsYy5kdXBsaWNhdGVDYWNoZWRQYWdlPWUsZC5kYXRhKCJhYnNVcmwiLGsuYWJzVXJsKSxhLm1vYmlsZS5jaGFuZ2VQYWdlKGQsYyl9KS5mYWlsKGZ1bmN0aW9uKGEsYil7bz0hMSx3KCEwKSx4KCksZi5wYWdlQ29udGFpbmVyLnRyaWdnZXIoInBhZ2VjaGFuZ2VmYWlsZWQiLGspfSk7cmV0dXJufWJbMF09PT1hLm1vYmlsZS5maXJzdFBhZ2VbMF0mJiFmLmRhdGFVcmwmJihmLmRhdGFVcmw9ci5ocmVmTm9IYXNoKTt2YXIgbT1mLmZyb21QYWdlLHE9Zi5kYXRhVXJsJiZoLmNvbnZlcnRVcmxUb0RhdGFVcmwoZi5kYXRhVXJsKXx8Yi5qcW1EYXRhKCJ1cmwiKSxzPXEsdD1oLmdldEZpbGVQYXRoKHEpLHU9bC5nZXRBY3RpdmUoKSx2PWwuYWN0aXZlSW5kZXg9PT0wLHk9MCx6PWMudGl0bGUsQT1mLnJvbGU9PT0iZGlhbG9nInx8Yi5qcW1EYXRhKCJyb2xlIik9PT0iZGlhbG9nIjtpZihtJiZtWzBdPT09YlswXSYmIWYuYWxsb3dTYW1lUGFnZVRyYW5zaXRpb24pe289ITEsaS50cmlnZ2VyKCJwYWdlY2hhbmdlIixrKSxmLmZyb21IYXNoQ2hhbmdlJiZsLmRpcmVjdCh7dXJsOnF9KTtyZXR1cm59QyhiLGYucm9sZSksZi5mcm9tSGFzaENoYW5nZSYmKHk9ZS5kaXJlY3Rpb249PT0iYmFjayI/LTE6MSk7dHJ5e2MuYWN0aXZlRWxlbWVudCYmYy5hY3RpdmVFbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkhPT0iYm9keSI/YShjLmFjdGl2ZUVsZW1lbnQpLmJsdXIoKTphKCJpbnB1dDpmb2N1cywgdGV4dGFyZWE6Zm9jdXMsIHNlbGVjdDpmb2N1cyIpLmJsdXIoKX1jYXRjaChFKXt9dmFyIEY9ITE7QSYmdSYmKHUudXJsJiZ1LnVybC5pbmRleE9mKHApPi0xJiZhLm1vYmlsZS5hY3RpdmVQYWdlJiYhYS5tb2JpbGUuYWN0aXZlUGFnZS5pcygiLnVpLWRpYWxvZyIpJiZsLmFjdGl2ZUluZGV4PjAmJihmLmNoYW5nZUhhc2g9ITEsRj0hMCkscT11LnVybHx8IiIsIUYmJnEuaW5kZXhPZigiIyIpPi0xP3ErPXA6cSs9IiMiK3AsbC5hY3RpdmVJbmRleD09PTAmJnE9PT1sLmluaXRpYWxEc3QmJihxKz1wKSk7dmFyIEc9dT9iLmpxbURhdGEoInRpdGxlIil8fGIuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIikuZmluZCgiLnVpLXRpdGxlIikuZ2V0RW5jb2RlZFRleHQoKTp6OyEhRyYmej09PWMudGl0bGUmJih6PUcpLGIuanFtRGF0YSgidGl0bGUiKXx8Yi5qcW1EYXRhKCJ0aXRsZSIseiksZi50cmFuc2l0aW9uPWYudHJhbnNpdGlvbnx8KHkmJiF2P3UudHJhbnNpdGlvbjpkKXx8KEE/YS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246YS5tb2JpbGUuZGVmYXVsdFBhZ2VUcmFuc2l0aW9uKSwheSYmRiYmKGwuZ2V0QWN0aXZlKCkucGFnZVVybD1zKTtpZihxJiYhZi5mcm9tSGFzaENoYW5nZSl7dmFyIEg7IWguaXNQYXRoKHEpJiZxLmluZGV4T2YoIiMiKTwwJiYocT0iIyIrcSksSD17dHJhbnNpdGlvbjpmLnRyYW5zaXRpb24sdGl0bGU6eixwYWdlVXJsOnMscm9sZTpmLnJvbGV9LGYuY2hhbmdlSGFzaCE9PSExJiZhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZD9hLm1vYmlsZS5uYXZpZ2F0ZShxLEgsITApOmJbMF0hPT1hLm1vYmlsZS5maXJzdFBhZ2VbMF0mJmEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWRkKHEsSCl9Yy50aXRsZT16LGEubW9iaWxlLmFjdGl2ZVBhZ2U9YixmLnJldmVyc2U9Zi5yZXZlcnNlfHx5PDAsQihiLG0sZi50cmFuc2l0aW9uLGYucmV2ZXJzZSkuZG9uZShmdW5jdGlvbihjLGQsZSxnLGgpe3coKSxmLmR1cGxpY2F0ZUNhY2hlZFBhZ2UmJmYuZHVwbGljYXRlQ2FjaGVkUGFnZS5yZW1vdmUoKSxofHxhLm1vYmlsZS5mb2N1c1BhZ2UoYikseCgpLGkudHJpZ2dlcigicGFnZWNoYW5nZSIsayl9KX0sYS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cz17dHJhbnNpdGlvbjpkLHJldmVyc2U6ITEsY2hhbmdlSGFzaDohMCxmcm9tSGFzaENoYW5nZTohMSxyb2xlOmQsZHVwbGljYXRlQ2FjaGVkUGFnZTpkLHBhZ2VDb250YWluZXI6ZCxzaG93TG9hZE1zZzohMCxkYXRhVXJsOmQsZnJvbVBhZ2U6ZCxhbGxvd1NhbWVQYWdlVHJhbnNpdGlvbjohMX0sYS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZD1hLkRlZmVycmVkKCksYS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHM9ZnVuY3Rpb24oKXt2YXIgYz1mdW5jdGlvbihiLGMpe3ZhciBkLGUsZixnPSEwLGosaztyZXR1cm4hYS5tb2JpbGUuYWpheEVuYWJsZWR8fGIuaXMoIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiKXx8IWIuanFtSGlqYWNrYWJsZSgpLmxlbmd0aD8hMTooZT1iLmF0dHIoInRhcmdldCIpLGY9Yi5hdHRyKCJhY3Rpb24iKSxmfHwoZj1GKGIpLGY9PT1zLmhyZWZOb0hhc2gmJihmPXIuaHJlZk5vU2VhcmNoKSksZj1oLm1ha2VVcmxBYnNvbHV0ZShmLEYoYikpLGguaXNFeHRlcm5hbChmKSYmIWguaXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3QocixmKXx8ZT8hMTooY3x8KGQ9Yi5hdHRyKCJtZXRob2QiKSxqPWIuc2VyaWFsaXplQXJyYXkoKSxpJiZpWzBdLmZvcm09PT1iWzBdJiYoaz1pLmF0dHIoIm5hbWUiKSxrJiYoYS5lYWNoKGosZnVuY3Rpb24oYSxiKXtpZihiLm5hbWU9PT1rKXJldHVybiBrPSIiLCExfSksayYmai5wdXNoKHtuYW1lOmssdmFsdWU6aS5hdHRyKCJ2YWx1ZSIpfSkpKSxnPXt1cmw6ZixvcHRpb25zOnt0eXBlOmQmJmQubGVuZ3RoJiZkLnRvTG93ZXJDYXNlKCl8fCJnZXQiLGRhdGE6YS5wYXJhbShqKSx0cmFuc2l0aW9uOmIuanFtRGF0YSgidHJhbnNpdGlvbiIpLHJldmVyc2U6Yi5qcW1EYXRhKCJkaXJlY3Rpb24iKT09PSJyZXZlcnNlIixyZWxvYWRQYWdlOiEwfX0pLGcpKX07YS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoImZvcm0iLCJzdWJtaXQiLGZ1bmN0aW9uKGIpe3ZhciBkPWMoYSh0aGlzKSk7ZCYmKGEubW9iaWxlLmNoYW5nZVBhZ2UoZC51cmwsZC5vcHRpb25zKSxiLnByZXZlbnREZWZhdWx0KCkpfSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgidmNsaWNrIixmdW5jdGlvbihiKXt2YXIgZCxlLGY9Yi50YXJnZXQsZz0hMTtpZihiLndoaWNoPjF8fCFhLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQpcmV0dXJuO2k9YShmKTtpZihhLmRhdGEoZiwibW9iaWxlLWJ1dHRvbiIpKXtpZighYyhhKGYpLmNsb3Nlc3QoImZvcm0iKSwhMCkpcmV0dXJuO2YucGFyZW50Tm9kZSYmKGY9Zi5wYXJlbnROb2RlKX1lbHNle2Y9RShmKTtpZighZnx8aC5wYXJzZVVybChmLmdldEF0dHJpYnV0ZSgiaHJlZiIpfHwiIyIpLmhhc2g9PT0iIyIpcmV0dXJuO2lmKCFhKGYpLmpxbUhpamFja2FibGUoKS5sZW5ndGgpcmV0dXJufX5mLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1saW5rLWluaGVyaXQiKT9mLnBhcmVudE5vZGUmJihlPWEuZGF0YShmLnBhcmVudE5vZGUsImJ1dHRvbkVsZW1lbnRzIikpOmU9YS5kYXRhKGYsImJ1dHRvbkVsZW1lbnRzIiksZT9mPWUub3V0ZXI6Zz0hMCxkPWEoZiksZyYmKGQ9ZC5jbG9zZXN0KCIudWktYnRuIikpLGQubGVuZ3RoPjAmJiFkLmhhc0NsYXNzKCJ1aS1kaXNhYmxlZCIpJiYodyghMCksaj1kLGouYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpKX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoImNsaWNrIixmdW5jdGlvbihjKXtpZighYS5tb2JpbGUubGlua0JpbmRpbmdFbmFibGVkfHxjLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybjt2YXIgZT1FKGMudGFyZ2V0KSxmPWEoZSksZztpZighZXx8Yy53aGljaD4xfHwhZi5qcW1IaWphY2thYmxlKCkubGVuZ3RoKXJldHVybjtnPWZ1bmN0aW9uKCl7Yi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dyghMCl9LDIwMCl9O2lmKGYuaXMoIjpqcW1EYXRhKHJlbD0nYmFjaycpIikpcmV0dXJuIGEubW9iaWxlLmJhY2soKSwhMTt2YXIgaT1GKGYpLGo9aC5tYWtlVXJsQWJzb2x1dGUoZi5hdHRyKCJocmVmIil8fCIjIixpKTtpZighYS5tb2JpbGUuYWpheEVuYWJsZWQmJiFoLmlzRW1iZWRkZWRQYWdlKGopKXtnKCk7cmV0dXJufWlmKGouc2VhcmNoKCIjIikhPT0tMSl7aj1qLnJlcGxhY2UoL1teI10qIy8sIiIpO2lmKCFqKXtjLnByZXZlbnREZWZhdWx0KCk7cmV0dXJufWguaXNQYXRoKGopP2o9aC5tYWtlVXJsQWJzb2x1dGUoaixpKTpqPWgubWFrZVVybEFic29sdXRlKCIjIitqLHIuaHJlZk5vSGFzaCl9dmFyIGs9Zi5pcygiW3JlbD0nZXh0ZXJuYWwnXSIpfHxmLmlzKCI6anFtRGF0YShhamF4PSdmYWxzZScpIil8fGYuaXMoIlt0YXJnZXRdIiksbD1rfHxoLmlzRXh0ZXJuYWwoaikmJiFoLmlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0KHIsaik7aWYobCl7ZygpO3JldHVybn12YXIgbT1mLmpxbURhdGEoInRyYW5zaXRpb24iKSxuPWYuanFtRGF0YSgiZGlyZWN0aW9uIik9PT0icmV2ZXJzZSJ8fGYuanFtRGF0YSgiYmFjayIpLG89Zi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInJlbCIpfHxkO2EubW9iaWxlLmNoYW5nZVBhZ2Uoaix7dHJhbnNpdGlvbjptLHJldmVyc2U6bixyb2xlOm8sbGluazpmfSksYy5wcmV2ZW50RGVmYXVsdCgpfSksYS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoIi51aS1wYWdlIiwicGFnZXNob3cucHJlZmV0Y2giLGZ1bmN0aW9uKCl7dmFyIGI9W107YSh0aGlzKS5maW5kKCJhOmpxbURhdGEocHJlZmV0Y2gpIikuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksZD1jLmF0dHIoImhyZWYiKTtkJiZhLmluQXJyYXkoZCxiKT09PS0xJiYoYi5wdXNoKGQpLGEubW9iaWxlLmxvYWRQYWdlKGQse3JvbGU6Yy5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInJlbCIpfSkpfSl9KSxhLm1vYmlsZS5faGFuZGxlSGFzaENoYW5nZT1mdW5jdGlvbihjLGUpe3ZhciBmPWguc3RyaXBIYXNoKGMpLGc9YS5tb2JpbGUudXJsSGlzdG9yeS5zdGFjay5sZW5ndGg9PT0wPyJub25lIjpkLGk9e2NoYW5nZUhhc2g6ITEsZnJvbUhhc2hDaGFuZ2U6ITAscmV2ZXJzZTplLmRpcmVjdGlvbj09PSJiYWNrIn07YS5leHRlbmQoaSxlLHt0cmFuc2l0aW9uOihsLmdldExhc3QoKXx8e30pLnRyYW5zaXRpb258fGd9KTtpZihsLmFjdGl2ZUluZGV4PjAmJmYuaW5kZXhPZihwKT4tMSYmbC5pbml0aWFsRHN0IT09Zil7aWYoYS5tb2JpbGUuYWN0aXZlUGFnZSYmIWEubW9iaWxlLmFjdGl2ZVBhZ2UuaXMoIi51aS1kaWFsb2ciKSl7ZS5kaXJlY3Rpb249PT0iYmFjayI/YS5tb2JpbGUuYmFjaygpOmIuaGlzdG9yeS5mb3J3YXJkKCk7cmV0dXJufWY9ZS5wYWdlVXJsO3ZhciBqPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCk7YS5leHRlbmQoaSx7cm9sZTpqLnJvbGUsdHJhbnNpdGlvbjpqLnRyYW5zaXRpb24scmV2ZXJzZTplLmRpcmVjdGlvbj09PSJiYWNrIn0pfWY/KGY9aC5pc1BhdGgoZik/ZjpoLm1ha2VVcmxBYnNvbHV0ZSgiIyIrZixzKSxmPT09aC5tYWtlVXJsQWJzb2x1dGUoIiMiK2wuaW5pdGlhbERzdCxzKSYmbC5zdGFjay5sZW5ndGgmJmwuc3RhY2tbMF0udXJsIT09bC5pbml0aWFsRHN0LnJlcGxhY2UocCwiIikmJihmPWEubW9iaWxlLmZpcnN0UGFnZSksYS5tb2JpbGUuY2hhbmdlUGFnZShmLGkpKTphLm1vYmlsZS5jaGFuZ2VQYWdlKGEubW9iaWxlLmZpcnN0UGFnZSxpKX0sZS5iaW5kKCJuYXZpZ2F0ZSIsZnVuY3Rpb24oYixjKXt2YXIgZD1hLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUub3JpZ2luYWxFdmVudE5hbWUuaW5kZXhPZigiaGFzaGNoYW5nZSIpPi0xP2Muc3RhdGUuaGFzaDpjLnN0YXRlLnVybDtkfHwoZD1hLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKS5oYXNoKTtpZighZHx8ZD09PSIjInx8ZC5pbmRleE9mKCIjIithLm1vYmlsZS5wYXRoLnVpU3RhdGVLZXkpPT09MClkPWxvY2F0aW9uLmhyZWY7YS5tb2JpbGUuX2hhbmRsZUhhc2hDaGFuZ2UoZCxjLnN0YXRlKX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VzaG93IixhLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQpLGEubW9iaWxlLndpbmRvdy5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCl9LGEoZnVuY3Rpb24oKXtrLnJlc29sdmUoKX0pLGEud2hlbihrLGEubW9iaWxlLm5hdnJlYWR5RGVmZXJyZWQpLmRvbmUoZnVuY3Rpb24oKXthLm1vYmlsZS5fcmVnaXN0ZXJJbnRlcm5hbEV2ZW50cygpfSl9KGEpLGZ1bmN0aW9uKGEsYixjKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLmZsaXA9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLmZsb3c9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnBvcD0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSxiLGMpe2EubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycy5zbGlkZT1hLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2ltdWx0YW5lb3VzLGEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGU9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlZG93bj0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSxiLGMpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGVmYWRlPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhLGIsYyl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZXVwPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhLGIsYyl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy50dXJuPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuZGVncmFkZUlucHV0cz17Y29sb3I6ITEsZGF0ZTohMSxkYXRldGltZTohMSwiZGF0ZXRpbWUtbG9jYWwiOiExLGVtYWlsOiExLG1vbnRoOiExLG51bWJlcjohMSxyYW5nZToibnVtYmVyIixzZWFyY2g6InRleHQiLHRlbDohMSx0aW1lOiExLHVybDohMSx3ZWVrOiExfSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7dmFyIGM9YS5tb2JpbGUuY2xvc2VzdFBhZ2VEYXRhKGEoYi50YXJnZXQpKSxkO2lmKCFjKXJldHVybjtkPWMub3B0aW9ucyxhKGIudGFyZ2V0KS5maW5kKCJpbnB1dCIpLm5vdChjLmtlZXBOYXRpdmVTZWxlY3RvcigpKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxjPXRoaXMuZ2V0QXR0cmlidXRlKCJ0eXBlIiksZT1kLmRlZ3JhZGVJbnB1dHNbY118fCJ0ZXh0IjtpZihkLmRlZ3JhZGVJbnB1dHNbY10pe3ZhciBmPWEoIjxkaXY+IikuaHRtbChiLmNsb25lKCkpLmh0bWwoKSxnPWYuaW5kZXhPZigiIHR5cGU9Iik+LTEsaD1nPy9ccyt0eXBlPVsiJ10/XHcrWyciXT8vOi9cLz8+LyxpPScgdHlwZT0iJytlKyciIGRhdGEtJythLm1vYmlsZS5ucysndHlwZT0iJytjKyciJysoZz8iIjoiPiIpO2IucmVwbGFjZVdpdGgoZi5yZXBsYWNlKGgsaSkpfX0pfSl9KGEpLGZ1bmN0aW9uKGEsYixjKXthLndpZGdldCgibW9iaWxlLmRpYWxvZyIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntjbG9zZUJ0bjoibGVmdCIsY2xvc2VCdG5UZXh0OiJDbG9zZSIsb3ZlcmxheVRoZW1lOiJhIixjb3JuZXJzOiEwLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nZGlhbG9nJykifSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt0aGlzLl9pc0Nsb3NlYWJsZT0hMCx0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lJiZ0aGlzLmVsZW1lbnQucGFnZSgicmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZCIpLnBhZ2UoInNldENvbnRhaW5lckJhY2tncm91bmQiLHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPXRoaXMuZWxlbWVudCxkPXRoaXMub3B0aW9ucy5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIsZT1hKCI8ZGl2Lz4iLHtyb2xlOiJkaWFsb2ciLCJjbGFzcyI6InVpLWRpYWxvZy1jb250YWluIHVpLW92ZXJsYXktc2hhZG93IitkfSk7Yy5hZGRDbGFzcygidWktZGlhbG9nIHVpLW92ZXJsYXktIit0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lKSxjLndyYXBJbm5lcihlKSxjLmJpbmQoInZjbGljayBzdWJtaXQiLGZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLmNsb3Nlc3QoYi50eXBlPT09InZjbGljayI/ImEiOiJmb3JtIiksZDtjLmxlbmd0aCYmIWMuanFtRGF0YSgidHJhbnNpdGlvbiIpJiYoZD1hLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpfHx7fSxjLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidHJhbnNpdGlvbiIsZC50cmFuc2l0aW9ufHxhLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJkaXJlY3Rpb24iLCJyZXZlcnNlIikpfSksdGhpcy5fb24oYyx7cGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyJ9KSxhLmV4dGVuZCh0aGlzLHtfY3JlYXRlQ29tcGxldGU6ITF9KSx0aGlzLl9zZXRDbG9zZUJ0bih0aGlzLm9wdGlvbnMuY2xvc2VCdG4pfSxfc2V0Q2xvc2VCdG46ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxkLGU7dGhpcy5faGVhZGVyQ2xvc2VCdXR0b24mJih0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbi5yZW1vdmUoKSx0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbj1udWxsKSxiIT09Im5vbmUiJiYoZT1iPT09ImxlZnQiPyJsZWZ0IjoicmlnaHQiLGQ9YSgiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWJ0bi0iK2UrIicgZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uPSdkZWxldGUnIGRhdGEtIithLm1vYmlsZS5ucysiaWNvbnBvcz0nbm90ZXh0Jz4iK3RoaXMub3B0aW9ucy5jbG9zZUJ0blRleHQrIjwvYT4iKSx0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKS5maW5kKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLmZpcnN0KCkucHJlcGVuZChkKSx0aGlzLl9jcmVhdGVDb21wbGV0ZSYmYS5mbi5idXR0b25NYXJrdXAmJmQuYnV0dG9uTWFya3VwKCksdGhpcy5fY3JlYXRlQ29tcGxldGU9ITAsZC5iaW5kKCJjbGljayIsZnVuY3Rpb24oKXtjLmNsb3NlKCl9KSx0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbj1kKX0sX3NldE9wdGlvbjpmdW5jdGlvbihiLGMpe2I9PT0iY2xvc2VCdG4iJiYodGhpcy5fc2V0Q2xvc2VCdG4oYyksdGhpcy5fc3VwZXIoYixjKSx0aGlzLmVsZW1lbnQuYXR0cigiZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpKyJjbG9zZS1idG4iLGMpKX0sY2xvc2U6ZnVuY3Rpb24oKXt2YXIgYixjLGQ9YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeTt0aGlzLl9pc0Nsb3NlYWJsZSYmKHRoaXMuX2lzQ2xvc2VhYmxlPSExLGEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkJiZkLmFjdGl2ZUluZGV4PjA/YS5tb2JpbGUuYmFjaygpOihiPU1hdGgubWF4KDAsZC5hY3RpdmVJbmRleC0xKSxjPWQuc3RhY2tbYl0ucGFnZVVybHx8ZC5zdGFja1tiXS51cmwsZC5wcmV2aW91c0luZGV4PWQuYWN0aXZlSW5kZXgsZC5hY3RpdmVJbmRleD1iLGEubW9iaWxlLnBhdGguaXNQYXRoKGMpfHwoYz1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZSgiIyIrYykpLGEubW9iaWxlLmNoYW5nZVBhZ2UoYyx7ZGlyZWN0aW9uOiJiYWNrIixjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwfSkpKX19KSxhLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZShhLm1vYmlsZS5kaWFsb2cucHJvdG90eXBlLm9wdGlvbnMuaW5pdFNlbGVjdG9yLCJwYWdlY3JlYXRlIixmdW5jdGlvbigpe2EubW9iaWxlLmRpYWxvZy5wcm90b3R5cGUuZW5oYW5jZSh0aGlzKX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYil7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5iYWNrQnRuVGV4dD0iQmFjayIsYS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5hZGRCYWNrQnRuPSExLGEubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuYmFja0J0blRoZW1lPW51bGwsYS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5oZWFkZXJUaGVtZT0iYSIsYS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5mb290ZXJUaGVtZT0iYSIsYS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5jb250ZW50VGhlbWU9bnVsbCxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIixmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KSxkPWMuZGF0YSgibW9iaWxlLXBhZ2UiKS5vcHRpb25zLGU9Yy5qcW1EYXRhKCJyb2xlIiksZj1kLnRoZW1lO2EoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpLCA6anFtRGF0YShyb2xlPSdmb290ZXInKSwgOmpxbURhdGEocm9sZT0nY29udGVudCcpIixjKS5qcW1FbmhhbmNlYWJsZSgpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGc9Yi5qcW1EYXRhKCJyb2xlIiksaD1iLmpxbURhdGEoInRoZW1lIiksaT1ofHxkLmNvbnRlbnRUaGVtZXx8ZT09PSJkaWFsb2ciJiZmLGosayxsLG07Yi5hZGRDbGFzcygidWktIitnKTtpZihnPT09ImhlYWRlciJ8fGc9PT0iZm9vdGVyIil7dmFyIG49aHx8KGc9PT0iaGVhZGVyIj9kLmhlYWRlclRoZW1lOmQuZm9vdGVyVGhlbWUpfHxmO2IuYWRkQ2xhc3MoInVpLWJhci0iK24pLmF0dHIoInJvbGUiLGc9PT0iaGVhZGVyIj8iYmFubmVyIjoiY29udGVudGluZm8iKSxnPT09ImhlYWRlciImJihqPWIuY2hpbGRyZW4oImEsIGJ1dHRvbiIpLGs9ai5oYXNDbGFzcygidWktYnRuLWxlZnQiKSxsPWouaGFzQ2xhc3MoInVpLWJ0bi1yaWdodCIpLGs9a3x8ai5lcSgwKS5ub3QoIi51aS1idG4tcmlnaHQiKS5hZGRDbGFzcygidWktYnRuLWxlZnQiKS5sZW5ndGgsbD1sfHxqLmVxKDEpLmFkZENsYXNzKCJ1aS1idG4tcmlnaHQiKS5sZW5ndGgpLGQuYWRkQmFja0J0biYmZz09PSJoZWFkZXIiJiZhKCIudWktcGFnZSIpLmxlbmd0aD4xJiZjLmpxbURhdGEoInVybCIpIT09YS5tb2JpbGUucGF0aC5zdHJpcEhhc2gobG9jYXRpb24uaGFzaCkmJiFrJiYobT1hKCI8YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCk7JyBjbGFzcz0ndWktYnRuLWxlZnQnIGRhdGEtIithLm1vYmlsZS5ucysicmVsPSdiYWNrJyBkYXRhLSIrYS5tb2JpbGUubnMrImljb249J2Fycm93LWwnPiIrZC5iYWNrQnRuVGV4dCsiPC9hPiIpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiLGQuYmFja0J0blRoZW1lfHxuKS5wcmVwZW5kVG8oYikpLGIuY2hpbGRyZW4oImgxLCBoMiwgaDMsIGg0LCBoNSwgaDYiKS5hZGRDbGFzcygidWktdGl0bGUiKS5hdHRyKHtyb2xlOiJoZWFkaW5nIiwiYXJpYS1sZXZlbCI6IjEifSl9ZWxzZSBnPT09ImNvbnRlbnQiJiYoaSYmYi5hZGRDbGFzcygidWktYm9keS0iK2kpLGIuYXR0cigicm9sZSIsIm1haW4iKSl9KX0pfShhKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLmJlaGF2aW9ycy5hZGRGaXJzdExhc3RDbGFzc2VzPXtfZ2V0VmlzaWJsZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYztyZXR1cm4gYj9jPWEubm90KCIudWktc2NyZWVuLWhpZGRlbiIpOihjPWEuZmlsdGVyKCI6dmlzaWJsZSIpLGMubGVuZ3RoPT09MCYmKGM9YS5ub3QoIi51aS1zY3JlZW4taGlkZGVuIikpKSxjfSxfYWRkRmlyc3RMYXN0Q2xhc3NlczpmdW5jdGlvbihhLGIsYyl7YS5yZW1vdmVDbGFzcygidWktZmlyc3QtY2hpbGQgdWktbGFzdC1jaGlsZCIpLGIuZXEoMCkuYWRkQ2xhc3MoInVpLWZpcnN0LWNoaWxkIikuZW5kKCkubGFzdCgpLmFkZENsYXNzKCJ1aS1sYXN0LWNoaWxkIiksY3x8dGhpcy5lbGVtZW50LnRyaWdnZXIoInVwZGF0ZWxheW91dCIpfX19KGEpLGZ1bmN0aW9uKGEsYil7YS5mbi5maWVsZGNvbnRhaW49ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkQ2xhc3MoInVpLWZpZWxkLWNvbnRhaW4gdWktYm9keSB1aS1iciIpLmNvbnRlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZVR5cGU9PT0zJiYhL1xTLy50ZXN0KHRoaXMubm9kZVZhbHVlKX0pLnJlbW92ZSgpfSxhKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKCI6anFtRGF0YShyb2xlPSdmaWVsZGNvbnRhaW4nKSIsYi50YXJnZXQpLmpxbUVuaGFuY2VhYmxlKCkuZmllbGRjb250YWluKCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLmZuLmdyaWQ9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksZD1hLmV4dGVuZCh7Z3JpZDpudWxsfSxiKSxlPWMuY2hpbGRyZW4oKSxmPXtzb2xvOjEsYToyLGI6MyxjOjQsZDo1fSxnPWQuZ3JpZCxoO2lmKCFnKWlmKGUubGVuZ3RoPD01KWZvcih2YXIgaSBpbiBmKWZbaV09PT1lLmxlbmd0aCYmKGc9aSk7ZWxzZSBnPSJhIixjLmFkZENsYXNzKCJ1aS1ncmlkLWR1byIpO2g9ZltnXSxjLmFkZENsYXNzKCJ1aS1ncmlkLSIrZyksZS5maWx0ZXIoIjpudGgtY2hpbGQoIitoKyJuKzEpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWEiKSxoPjEmJmUuZmlsdGVyKCI6bnRoLWNoaWxkKCIraCsibisyKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1iIiksaD4yJiZlLmZpbHRlcigiOm50aC1jaGlsZCgiK2grIm4rMykiKS5hZGRDbGFzcygidWktYmxvY2stYyIpLGg+MyYmZS5maWx0ZXIoIjpudGgtY2hpbGQoIitoKyJuKzQpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWQiKSxoPjQmJmUuZmlsdGVyKCI6bnRoLWNoaWxkKCIraCsibis1KSIpLmFkZENsYXNzKCJ1aS1ibG9jay1lIil9KX19KGEpLGZ1bmN0aW9uKGEsYil7YShjKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YSgiOmpxbURhdGEocm9sZT0nbm9qcycpIixiLnRhcmdldCkuYWRkQ2xhc3MoInVpLW5vanMiKX0pfShhKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQ9e19oYW5kbGVGb3JtUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLmVsZW1lbnQuY2xvc2VzdCgiZm9ybSIpLHtyZXNldDpmdW5jdGlvbigpe3RoaXMuX2RlbGF5KCJfcmVzZXQiKX19KX19fShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGUoYSl7dmFyIGI7d2hpbGUoYSl7Yj10eXBlb2YgYS5jbGFzc05hbWU9PSJzdHJpbmciJiZhLmNsYXNzTmFtZSsiICI7aWYoYiYmYi5pbmRleE9mKCJ1aS1idG4gIik+LTEmJmIuaW5kZXhPZigidWktZGlzYWJsZWQgIik8MClicmVhazthPWEucGFyZW50Tm9kZX1yZXR1cm4gYX1mdW5jdGlvbiBmKGQsZSxmLGcsaCl7dmFyIGk9YS5kYXRhKGRbMF0sImJ1dHRvbkVsZW1lbnRzIik7ZC5yZW1vdmVDbGFzcyhlKS5hZGRDbGFzcyhmKSxpJiYoaS5iY2xzPWEoYy5jcmVhdGVFbGVtZW50KCJkaXYiKSkuYWRkQ2xhc3MoaS5iY2xzKyIgIitmKS5yZW1vdmVDbGFzcyhlKS5hdHRyKCJjbGFzcyIpLGchPT1iJiYoaS5ob3Zlcj1nKSxpLnN0YXRlPWgpfXZhciBkPWZ1bmN0aW9uKGEsYyl7dmFyIGQ9YS5nZXRBdHRyaWJ1dGUoYyk7cmV0dXJuIGQ9PT0idHJ1ZSI/ITA6ZD09PSJmYWxzZSI/ITE6ZD09PW51bGw/YjpkfTthLmZuLmJ1dHRvbk1hcmt1cD1mdW5jdGlvbihlKXt2YXIgZj10aGlzLGg9ImRhdGEtIithLm1vYmlsZS5ucyxpO2U9ZSYmYS50eXBlKGUpPT09Im9iamVjdCI/ZTp7fTtmb3IodmFyIGo9MDtqPGYubGVuZ3RoO2orKyl7dmFyIGs9Zi5lcShqKSxsPWtbMF0sbT1hLmV4dGVuZCh7fSxhLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cyx7aWNvbjplLmljb24hPT1iP2UuaWNvbjpkKGwsaCsiaWNvbiIpLGljb25wb3M6ZS5pY29ucG9zIT09Yj9lLmljb25wb3M6ZChsLGgrImljb25wb3MiKSx0aGVtZTplLnRoZW1lIT09Yj9lLnRoZW1lOmQobCxoKyJ0aGVtZSIpfHxhLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShrLCJjIiksaW5saW5lOmUuaW5saW5lIT09Yj9lLmlubGluZTpkKGwsaCsiaW5saW5lIiksc2hhZG93OmUuc2hhZG93IT09Yj9lLnNoYWRvdzpkKGwsaCsic2hhZG93IiksY29ybmVyczplLmNvcm5lcnMhPT1iP2UuY29ybmVyczpkKGwsaCsiY29ybmVycyIpLGljb25zaGFkb3c6ZS5pY29uc2hhZG93IT09Yj9lLmljb25zaGFkb3c6ZChsLGgrImljb25zaGFkb3ciKSxtaW5pOmUubWluaSE9PWI/ZS5taW5pOmQobCxoKyJtaW5pIil9LGUpLG49InVpLWJ0bi1pbm5lciIsbz0idWktYnRuLXRleHQiLHAscSxyPSExLHM9InVwIix0LHUsdix3O2ZvcihpIGluIG0pbC5zZXRBdHRyaWJ1dGUoaCtpLG1baV0pO2QobCxoKyJyZWwiKT09PSJwb3B1cCImJmsuYXR0cigiaHJlZiIpJiYobC5zZXRBdHRyaWJ1dGUoImFyaWEtaGFzcG9wdXAiLCEwKSxsLnNldEF0dHJpYnV0ZSgiYXJpYS1vd25zIixrLmF0dHIoImhyZWYiKSkpLHc9YS5kYXRhKGwudGFnTmFtZT09PSJJTlBVVCJ8fGwudGFnTmFtZT09PSJCVVRUT04iP2wucGFyZW50Tm9kZTpsLCJidXR0b25FbGVtZW50cyIpLHc/KGw9dy5vdXRlcixrPWEobCksdD13LmlubmVyLHU9dy50ZXh0LGEody5pY29uKS5yZW1vdmUoKSx3Lmljb249bnVsbCxyPXcuaG92ZXIscz13LnN0YXRlKToodD1jLmNyZWF0ZUVsZW1lbnQobS53cmFwcGVyRWxzKSx1PWMuY3JlYXRlRWxlbWVudChtLndyYXBwZXJFbHMpKSx2PW0uaWNvbj9jLmNyZWF0ZUVsZW1lbnQoInNwYW4iKTpudWxsLGcmJiF3JiZnKCksbS50aGVtZXx8KG0udGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoaywiYyIpKSxwPSJ1aS1idG4gIixwKz1yPyJ1aS1idG4taG92ZXItIittLnRoZW1lOiIiLHArPXM/IiB1aS1idG4tIitzKyItIittLnRoZW1lOiIiLHArPW0uc2hhZG93PyIgdWktc2hhZG93IjoiIixwKz1tLmNvcm5lcnM/IiB1aS1idG4tY29ybmVyLWFsbCI6IiIsbS5taW5pIT09YiYmKHArPW0ubWluaT09PSEwPyIgdWktbWluaSI6IiB1aS1mdWxsc2l6ZSIpLG0uaW5saW5lIT09YiYmKHArPW0uaW5saW5lPT09ITA/IiB1aS1idG4taW5saW5lIjoiIHVpLWJ0bi1ibG9jayIpLG0uaWNvbiYmKG0uaWNvbj0idWktaWNvbi0iK20uaWNvbixtLmljb25wb3M9bS5pY29ucG9zfHwibGVmdCIscT0idWktaWNvbiAiK20uaWNvbixtLmljb25zaGFkb3cmJihxKz0iIHVpLWljb24tc2hhZG93IikpLG0uaWNvbnBvcyYmKHArPSIgdWktYnRuLWljb24tIittLmljb25wb3MsbS5pY29ucG9zPT09Im5vdGV4dCImJiFrLmF0dHIoInRpdGxlIikmJmsuYXR0cigidGl0bGUiLGsuZ2V0RW5jb2RlZFRleHQoKSkpLG0uaWNvbnBvcyYmbS5pY29ucG9zPT09Im5vdGV4dCImJiFrLmF0dHIoInRpdGxlIikmJmsuYXR0cigidGl0bGUiLGsuZ2V0RW5jb2RlZFRleHQoKSksdyYmay5yZW1vdmVDbGFzcyh3LmJjbHN8fCIiKSxrLnJlbW92ZUNsYXNzKCJ1aS1saW5rIikuYWRkQ2xhc3MocCksdC5jbGFzc05hbWU9bix1LmNsYXNzTmFtZT1vLHd8fHQuYXBwZW5kQ2hpbGQodSk7aWYodil7di5jbGFzc05hbWU9cTtpZighd3x8IXcuaWNvbil2LmlubmVySFRNTD0iJiMxNjA7Iix0LmFwcGVuZENoaWxkKHYpfXdoaWxlKGwuZmlyc3RDaGlsZCYmIXcpdS5hcHBlbmRDaGlsZChsLmZpcnN0Q2hpbGQpO3d8fGwuYXBwZW5kQ2hpbGQodCksdz17aG92ZXI6cixzdGF0ZTpzLGJjbHM6cCxvdXRlcjpsLGlubmVyOnQsdGV4dDp1LGljb246dn0sYS5kYXRhKGwsImJ1dHRvbkVsZW1lbnRzIix3KSxhLmRhdGEodCwiYnV0dG9uRWxlbWVudHMiLHcpLGEuZGF0YSh1LCJidXR0b25FbGVtZW50cyIsdyksdiYmYS5kYXRhKHYsImJ1dHRvbkVsZW1lbnRzIix3KX1yZXR1cm4gdGhpc30sYS5mbi5idXR0b25NYXJrdXAuZGVmYXVsdHM9e2Nvcm5lcnM6ITAsc2hhZG93OiEwLGljb25zaGFkb3c6ITAsd3JhcHBlckVsczoic3BhbiJ9O3ZhciBnPWZ1bmN0aW9uKCl7dmFyIGM9YS5tb2JpbGUuYnV0dG9uTWFya3VwLmhvdmVyRGVsYXksZCxoO2EubW9iaWxlLmRvY3VtZW50LmJpbmQoeyJ2bW91c2Vkb3duIHZtb3VzZWNhbmNlbCB2bW91c2V1cCB2bW91c2VvdmVyIHZtb3VzZW91dCBmb2N1cyBibHVyIHNjcm9sbHN0YXJ0IjpmdW5jdGlvbihnKXt2YXIgaSxqPWEoZShnLnRhcmdldCkpLGs9Zy5vcmlnaW5hbEV2ZW50JiYvXnRvdWNoLy50ZXN0KGcub3JpZ2luYWxFdmVudC50eXBlKSxsPWcudHlwZTtpZihqLmxlbmd0aCl7aT1qLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiKTtpZihsPT09InZtb3VzZWRvd24iKWs/ZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZihqLCJ1aS1idG4tdXAtIitpLCJ1aS1idG4tZG93bi0iK2ksYiwiZG93biIpfSxjKTpmKGosInVpLWJ0bi11cC0iK2ksInVpLWJ0bi1kb3duLSIraSxiLCJkb3duIik7ZWxzZSBpZihsPT09InZtb3VzZWNhbmNlbCJ8fGw9PT0idm1vdXNldXAiKWYoaiwidWktYnRuLWRvd24tIitpLCJ1aS1idG4tdXAtIitpLGIsInVwIik7ZWxzZSBpZihsPT09InZtb3VzZW92ZXIifHxsPT09ImZvY3VzIilrP2g9c2V0VGltZW91dChmdW5jdGlvbigpe2YoaiwidWktYnRuLXVwLSIraSwidWktYnRuLWhvdmVyLSIraSwhMCwiIil9LGMpOmYoaiwidWktYnRuLXVwLSIraSwidWktYnRuLWhvdmVyLSIraSwhMCwiIik7ZWxzZSBpZihsPT09InZtb3VzZW91dCJ8fGw9PT0iYmx1ciJ8fGw9PT0ic2Nyb2xsc3RhcnQiKWYoaiwidWktYnRuLWhvdmVyLSIraSsiIHVpLWJ0bi1kb3duLSIraSwidWktYnRuLXVwLSIraSwhMSwidXAiKSxkJiZjbGVhclRpbWVvdXQoZCksaCYmY2xlYXJUaW1lb3V0KGgpfX0sImZvY3VzaW4gZm9jdXMiOmZ1bmN0aW9uKGIpe2EoZShiLnRhcmdldCkpLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSwiZm9jdXNvdXQgYmx1ciI6ZnVuY3Rpb24oYil7YShlKGIudGFyZ2V0KSkucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9fSksZz1udWxsfTthLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YSgiOmpxbURhdGEocm9sZT0nYnV0dG9uJyksIC51aS1iYXIgPiBhLCAudWktaGVhZGVyID4gYSwgLnVpLWZvb3RlciA+IGEsIC51aS1iYXIgPiA6anFtRGF0YShyb2xlPSdjb250cm9sZ3JvdXAnKSA+IGEiLGIudGFyZ2V0KS5qcW1FbmhhbmNlYWJsZSgpLm5vdCgiYnV0dG9uLCBpbnB1dCwgLnVpLWJ0biwgOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiKS5idXR0b25NYXJrdXAoKX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUuY29sbGFwc2libGUiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7ZXhwYW5kQ3VlVGV4dDoiIGNsaWNrIHRvIGV4cGFuZCBjb250ZW50cyIsY29sbGFwc2VDdWVUZXh0OiIgY2xpY2sgdG8gY29sbGFwc2UgY29udGVudHMiLGNvbGxhcHNlZDohMCxoZWFkaW5nOiJoMSxoMixoMyxoNCxoNSxoNixsZWdlbmQiLGNvbGxhcHNlZEljb246InBsdXMiLGV4cGFuZGVkSWNvbjoibWludXMiLGljb25wb3M6ImxlZnQiLHRoZW1lOm51bGwsY29udGVudFRoZW1lOm51bGwsaW5zZXQ6ITAsY29ybmVyczohMCxtaW5pOiExLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmVsZW1lbnQsZD10aGlzLm9wdGlvbnMsZT1jLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZSIpLGY9Yy5jaGlsZHJlbihkLmhlYWRpbmcpLmZpcnN0KCksZz1lLndyYXBJbm5lcigiPGRpdiBjbGFzcz0ndWktY29sbGFwc2libGUtY29udGVudCc+PC9kaXY+IikuY2hpbGRyZW4oIi51aS1jb2xsYXBzaWJsZS1jb250ZW50IiksaD1jLmNsb3Nlc3QoIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpIikuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLXNldCIpLGk9IiI7Zi5pcygibGVnZW5kIikmJihmPWEoIjxkaXYgcm9sZT0naGVhZGluZyc+IitmLmh0bWwoKSsiPC9kaXY+IikuaW5zZXJ0QmVmb3JlKGYpLGYubmV4dCgpLnJlbW92ZSgpKSxoLmxlbmd0aD8oZC50aGVtZXx8KGQudGhlbWU9aC5qcW1EYXRhKCJ0aGVtZSIpfHxhLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShoLCJjIikpLGQuY29udGVudFRoZW1lfHwoZC5jb250ZW50VGhlbWU9aC5qcW1EYXRhKCJjb250ZW50LXRoZW1lIikpLGQuY29sbGFwc2VkSWNvbj1jLmpxbURhdGEoImNvbGxhcHNlZC1pY29uIil8fGguanFtRGF0YSgiY29sbGFwc2VkLWljb24iKXx8ZC5jb2xsYXBzZWRJY29uLGQuZXhwYW5kZWRJY29uPWMuanFtRGF0YSgiZXhwYW5kZWQtaWNvbiIpfHxoLmpxbURhdGEoImV4cGFuZGVkLWljb24iKXx8ZC5leHBhbmRlZEljb24sZC5pY29ucG9zPWMuanFtRGF0YSgiaWNvbnBvcyIpfHxoLmpxbURhdGEoImljb25wb3MiKXx8ZC5pY29ucG9zLGguanFtRGF0YSgiaW5zZXQiKSE9PWI/ZC5pbnNldD1oLmpxbURhdGEoImluc2V0Iik6ZC5pbnNldD0hMCxkLmNvcm5lcnM9ITEsZC5taW5pfHwoZC5taW5pPWguanFtRGF0YSgibWluaSIpKSk6ZC50aGVtZXx8KGQudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoYywiYyIpKSwhZC5pbnNldHx8KGkrPSIgdWktY29sbGFwc2libGUtaW5zZXQiLCFkLmNvcm5lcnN8fChpKz0iIHVpLWNvcm5lci1hbGwiKSksZC5jb250ZW50VGhlbWUmJihpKz0iIHVpLWNvbGxhcHNpYmxlLXRoZW1lZC1jb250ZW50IixnLmFkZENsYXNzKCJ1aS1ib2R5LSIrZC5jb250ZW50VGhlbWUpKSxpIT09IiImJmUuYWRkQ2xhc3MoaSksZi5pbnNlcnRCZWZvcmUoZykuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmciKS5hcHBlbmQoIjxzcGFuIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyc+PC9zcGFuPiIpLndyYXBJbm5lcigiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctdG9nZ2xlJz48L2E+IikuZmluZCgiYSIpLmZpcnN0KCkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ITEsY29ybmVyczohMSxpY29ucG9zOmQuaWNvbnBvcyxpY29uOmQuY29sbGFwc2VkSWNvbixtaW5pOmQubWluaSx0aGVtZTpkLnRoZW1lfSksZS5iaW5kKCJleHBhbmQgY29sbGFwc2UiLGZ1bmN0aW9uKGIpe2lmKCFiLmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2YXIgYz1hKHRoaXMpLGU9Yi50eXBlPT09ImNvbGxhcHNlIjtiLnByZXZlbnREZWZhdWx0KCksZi50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiLGUpLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyIpLnRleHQoZT9kLmV4cGFuZEN1ZVRleHQ6ZC5jb2xsYXBzZUN1ZVRleHQpLmVuZCgpLmZpbmQoIi51aS1pY29uIikudG9nZ2xlQ2xhc3MoInVpLWljb24tIitkLmV4cGFuZGVkSWNvbiwhZSkudG9nZ2xlQ2xhc3MoInVpLWljb24tIitkLmNvbGxhcHNlZEljb24sZXx8ZC5leHBhbmRlZEljb249PT1kLmNvbGxhcHNlZEljb24pLmVuZCgpLmZpbmQoImEiKS5maXJzdCgpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxjLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWQiLGUpLGcudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbnRlbnQtY29sbGFwc2VkIixlKS5hdHRyKCJhcmlhLWhpZGRlbiIsZSksZy50cmlnZ2VyKCJ1cGRhdGVsYXlvdXQiKX19KS50cmlnZ2VyKGQuY29sbGFwc2VkPyJjb2xsYXBzZSI6ImV4cGFuZCIpLGYuYmluZCgidGFwIixmdW5jdGlvbihiKXtmLmZpbmQoImEiKS5maXJzdCgpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImNsaWNrIixmdW5jdGlvbihhKXt2YXIgYj1mLmlzKCIudWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiKT8iZXhwYW5kIjoiY29sbGFwc2UiO2UudHJpZ2dlcihiKSxhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKX0pfX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5jb2xsYXBzaWJsZS5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmNvbGxhcHNpYmxlc2V0IixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2luaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1zZXQiKSxkPXRoaXMub3B0aW9ucztkLnRoZW1lfHwoZC50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShjLCJjIikpLGQuY29udGVudFRoZW1lfHwoZC5jb250ZW50VGhlbWU9Yy5qcW1EYXRhKCJjb250ZW50LXRoZW1lIikpLGQuY29ybmVyc3x8KGQuY29ybmVycz1jLmpxbURhdGEoImNvcm5lcnMiKSksYy5qcW1EYXRhKCJpbnNldCIpIT09YiYmKGQuaW5zZXQ9Yy5qcW1EYXRhKCJpbnNldCIpKSxkLmluc2V0PWQuaW5zZXQhPT1iP2QuaW5zZXQ6ITAsZC5jb3JuZXJzPWQuY29ybmVycyE9PWI/ZC5jb3JuZXJzOiEwLCEhZC5jb3JuZXJzJiYhIWQuaW5zZXQmJmMuYWRkQ2xhc3MoInVpLWNvcm5lci1hbGwiKSxjLmpxbURhdGEoImNvbGxhcHNpYmxlYm91bmQiKXx8Yy5qcW1EYXRhKCJjb2xsYXBzaWJsZWJvdW5kIiwhMCkuYmluZCgiZXhwYW5kIixmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KS5jbG9zZXN0KCIudWktY29sbGFwc2libGUiKTtjLnBhcmVudCgpLmlzKCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSIpJiZjLnNpYmxpbmdzKCIudWktY29sbGFwc2libGUiKS50cmlnZ2VyKCJjb2xsYXBzZSIpfSl9LF9pbml0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LGI9YS5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUnKSIpLGM9Yi5maWx0ZXIoIjpqcW1EYXRhKGNvbGxhcHNlZD0nZmFsc2UnKSIpO3RoaXMuX3JlZnJlc2goInRydWUiKSxjLnRyaWdnZXIoImV4cGFuZCIpfSxfcmVmcmVzaDpmdW5jdGlvbihiKXt2YXIgYz10aGlzLmVsZW1lbnQuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykiKTthLm1vYmlsZS5jb2xsYXBzaWJsZS5wcm90b3R5cGUuZW5oYW5jZShjLm5vdCgiLnVpLWNvbGxhcHNpYmxlIikpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXMoYyx0aGlzLl9nZXRWaXNpYmxlcyhjLGIpLGIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaCghMSl9fSksYS53aWRnZXQoIm1vYmlsZS5jb2xsYXBzaWJsZXNldCIsYS5tb2JpbGUuY29sbGFwc2libGVzZXQsYS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5jb2xsYXBzaWJsZXNldC5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLm5hdmJhciIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntpY29ucG9zOiJ0b3AiLGdyaWQ6bnVsbCxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J25hdmJhcicpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBkPXRoaXMuZWxlbWVudCxlPWQuZmluZCgiYSIpLGY9ZS5maWx0ZXIoIjpqcW1EYXRhKGljb24pIikubGVuZ3RoP3RoaXMub3B0aW9ucy5pY29ucG9zOmI7ZC5hZGRDbGFzcygidWktbmF2YmFyIHVpLW1pbmkiKS5hdHRyKCJyb2xlIiwibmF2aWdhdGlvbiIpLmZpbmQoInVsIikuanFtRW5oYW5jZWFibGUoKS5ncmlkKHtncmlkOnRoaXMub3B0aW9ucy5ncmlkfSksZS5idXR0b25NYXJrdXAoe2Nvcm5lcnM6ITEsc2hhZG93OiExLGlubGluZTohMCxpY29ucG9zOmZ9KSxkLmRlbGVnYXRlKCJhIiwidmNsaWNrIixmdW5jdGlvbihiKXtpZighYShiLnRhcmdldCkuaGFzQ2xhc3MoInVpLWRpc2FibGVkIikpe2UucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLGEodGhpcykuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpO3ZhciBkPWEodGhpcyk7YShjKS5vbmUoInBhZ2VjaGFuZ2UiLGZ1bmN0aW9uKGIpe2QucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSl9fSksZC5jbG9zZXN0KCIudWktcGFnZSIpLmJpbmQoInBhZ2ViZWZvcmVzaG93IixmdW5jdGlvbigpe2UuZmlsdGVyKCIudWktc3RhdGUtcGVyc2lzdCIpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pfX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5uYXZiYXIucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGQ9e307YS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGNvdW50VGhlbWU6ImMiLGhlYWRlclRoZW1lOiJiIixkaXZpZGVyVGhlbWU6ImIiLGljb246ImFycm93LXIiLHNwbGl0SWNvbjoiYXJyb3ctciIsc3BsaXRUaGVtZToiYiIsY29ybmVyczohMCxzaGFkb3c6ITAsaW5zZXQ6ITEsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdsaXN0dmlldycpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj0iIjtiKz1hLm9wdGlvbnMuaW5zZXQ/IiB1aS1saXN0dmlldy1pbnNldCI6IiIsIWEub3B0aW9ucy5pbnNldHx8KGIrPWEub3B0aW9ucy5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIsYis9YS5vcHRpb25zLnNoYWRvdz8iIHVpLXNoYWRvdyI6IiIpLGEuZWxlbWVudC5hZGRDbGFzcyhmdW5jdGlvbihhLGMpe3JldHVybiBjKyIgdWktbGlzdHZpZXciK2J9KSxhLnJlZnJlc2goITApfSxfZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT17fTtlW2NdPWVbZF09ITA7d2hpbGUoYSl7aWYoZVthLm5vZGVOYW1lXSlyZXR1cm4gYTthPWFbYl19cmV0dXJuIG51bGx9LF9nZXRDaGlsZHJlbkJ5VGFnTmFtZTpmdW5jdGlvbihiLGMsZCl7dmFyIGU9W10sZj17fTtmW2NdPWZbZF09ITAsYj1iLmZpcnN0Q2hpbGQ7d2hpbGUoYilmW2Iubm9kZU5hbWVdJiZlLnB1c2goYiksYj1iLm5leHRTaWJsaW5nO3JldHVybiBhKGUpfSxfYWRkVGh1bWJDbGFzc2VzOmZ1bmN0aW9uKGIpe3ZhciBjLGQsZT1iLmxlbmd0aDtmb3IoYz0wO2M8ZTtjKyspZD1hKHRoaXMuX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWUoYltjXS5maXJzdENoaWxkLCJuZXh0U2libGluZyIsImltZyIsIklNRyIpKSxkLmxlbmd0aCYmKGQuYWRkQ2xhc3MoInVpLWxpLXRodW1iIiksYSh0aGlzLl9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lKGRbMF0ucGFyZW50Tm9kZSwicGFyZW50Tm9kZSIsImxpIiwiTEkiKSkuYWRkQ2xhc3MoZC5pcygiLnVpLWxpLWljb24iKT8idWktbGktaGFzLWljb24iOiJ1aS1saS1oYXMtdGh1bWIiKSl9LHJlZnJlc2g6ZnVuY3Rpb24oYil7dGhpcy5wYXJlbnRQYWdlPXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLHRoaXMuX2NyZWF0ZVN1YlBhZ2VzKCk7dmFyIGQ9dGhpcy5vcHRpb25zLGU9dGhpcy5lbGVtZW50LGY9dGhpcyxnPWUuanFtRGF0YSgiZGl2aWRlcnRoZW1lIil8fGQuZGl2aWRlclRoZW1lLGg9ZS5qcW1EYXRhKCJzcGxpdHRoZW1lIiksaT1lLmpxbURhdGEoInNwbGl0aWNvbiIpLGo9ZS5qcW1EYXRhKCJpY29uIiksaz10aGlzLl9nZXRDaGlsZHJlbkJ5VGFnTmFtZShlWzBdLCJsaSIsIkxJIiksbD0hIWEubm9kZU5hbWUoZVswXSwib2wiKSxtPSFhLnN1cHBvcnQuY3NzUHNldWRvRWxlbWVudCxuPWUuYXR0cigic3RhcnQiKSxvPXt9LHAscSxyLHMsdCx1LHYsdyx4LHkseixBLEIsQztsJiZtJiZlLmZpbmQoIi51aS1saS1kZWMiKS5yZW1vdmUoKSxsJiYobnx8bj09PTA/bT92PXBhcnNlSW50KG4sMTApOih3PXBhcnNlSW50KG4sMTApLTEsZS5jc3MoImNvdW50ZXItcmVzZXQiLCJsaXN0bnVtYmVyaW5nICIrdykpOm0mJih2PTEpKSxkLnRoZW1lfHwoZC50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQsImMiKSk7Zm9yKHZhciBEPTAsRT1rLmxlbmd0aDtEPEU7RCsrKXtwPWsuZXEoRCkscT0idWktbGkiO2lmKGJ8fCFwLmhhc0NsYXNzKCJ1aS1saSIpKXtyPXAuanFtRGF0YSgidGhlbWUiKXx8ZC50aGVtZSxzPXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKHBbMF0sImEiLCJBIik7dmFyIEY9cC5qcW1EYXRhKCJyb2xlIik9PT0ibGlzdC1kaXZpZGVyIjtzLmxlbmd0aCYmIUY/KHo9cC5qcW1EYXRhKCJpY29uIikscC5idXR0b25NYXJrdXAoe3dyYXBwZXJFbHM6ImRpdiIsc2hhZG93OiExLGNvcm5lcnM6ITEsaWNvbnBvczoicmlnaHQiLGljb246cy5sZW5ndGg+MXx8ej09PSExPyExOnp8fGp8fGQuaWNvbix0aGVtZTpyfSkseiE9PSExJiZzLmxlbmd0aD09PTEmJnAuYWRkQ2xhc3MoInVpLWxpLWhhcy1hcnJvdyIpLHMuZmlyc3QoKS5yZW1vdmVDbGFzcygidWktbGluayIpLmFkZENsYXNzKCJ1aS1saW5rLWluaGVyaXQiKSxzLmxlbmd0aD4xJiYocSs9IiB1aS1saS1oYXMtYWx0Iix0PXMubGFzdCgpLHU9aHx8dC5qcW1EYXRhKCJ0aGVtZSIpfHxkLnNwbGl0VGhlbWUsQz10LmpxbURhdGEoImljb24iKSx0LmFwcGVuZFRvKHApLmF0dHIoInRpdGxlIixhLnRyaW0odC5nZXRFbmNvZGVkVGV4dCgpKSkuYWRkQ2xhc3MoInVpLWxpLWxpbmstYWx0IikuZW1wdHkoKS5idXR0b25NYXJrdXAoe3NoYWRvdzohMSxjb3JuZXJzOiExLHRoZW1lOnIsaWNvbjohMSxpY29ucG9zOiJub3RleHQifSkuZmluZCgiLnVpLWJ0bi1pbm5lciIpLmFwcGVuZChhKGMuY3JlYXRlRWxlbWVudCgic3BhbiIpKS5idXR0b25NYXJrdXAoe3NoYWRvdzohMCxjb3JuZXJzOiEwLHRoZW1lOnUsaWNvbnBvczoibm90ZXh0IixpY29uOkN8fHp8fGl8fGQuc3BsaXRJY29ufSkpKSk6Rj8ocSs9IiB1aS1saS1kaXZpZGVyIHVpLWJhci0iKyhwLmpxbURhdGEoInRoZW1lIil8fGcpLHAuYXR0cigicm9sZSIsImhlYWRpbmciKSxsJiYobnx8bj09PTA/bT92PXBhcnNlSW50KG4sMTApOih4PXBhcnNlSW50KG4sMTApLTEscC5jc3MoImNvdW50ZXItcmVzZXQiLCJsaXN0bnVtYmVyaW5nICIreCkpOm0mJih2PTEpKSk6cSs9IiB1aS1saS1zdGF0aWMgdWktYnRuLXVwLSIrcn1sJiZtJiZxLmluZGV4T2YoInVpLWxpLWRpdmlkZXIiKTwwJiYoeT1xLmluZGV4T2YoInVpLWxpLXN0YXRpYyIpPjA/cDpwLmZpbmQoIi51aS1saW5rLWluaGVyaXQiKSx5LmFkZENsYXNzKCJ1aS1saS1qc251bWJlcmluZyIpLnByZXBlbmQoIjxzcGFuIGNsYXNzPSd1aS1saS1kZWMnPiIrdisrICsiLiA8L3NwYW4+IikpLG9bcV18fChvW3FdPVtdKSxvW3FdLnB1c2gocFswXSl9Zm9yKHEgaW4gbylhKG9bcV0pLmFkZENsYXNzKHEpLmNoaWxkcmVuKCIudWktYnRuLWlubmVyIikuYWRkQ2xhc3MocSk7ZS5maW5kKCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IikuYWRkQ2xhc3MoInVpLWxpLWhlYWRpbmciKS5lbmQoKS5maW5kKCJwLCBkbCIpLmFkZENsYXNzKCJ1aS1saS1kZXNjIikuZW5kKCkuZmluZCgiLnVpLWxpLWFzaWRlIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7Yi5wcmVwZW5kVG8oYi5wYXJlbnQoKSl9KS5lbmQoKS5maW5kKCIudWktbGktY291bnQiKS5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5jbG9zZXN0KCJsaSIpLmFkZENsYXNzKCJ1aS1saS1oYXMtY291bnQiKX0pLmFkZENsYXNzKCJ1aS1idG4tdXAtIisoZS5qcW1EYXRhKCJjb3VudHRoZW1lIil8fHRoaXMub3B0aW9ucy5jb3VudFRoZW1lKSsiIHVpLWJ0bi1jb3JuZXItYWxsIiksdGhpcy5fYWRkVGh1bWJDbGFzc2VzKGspLHRoaXMuX2FkZFRodW1iQ2xhc3NlcyhlLmZpbmQoIi51aS1saW5rLWluaGVyaXQiKSksdGhpcy5fYWRkRmlyc3RMYXN0Q2xhc3NlcyhrLHRoaXMuX2dldFZpc2libGVzKGssYiksYiksdGhpcy5fdHJpZ2dlcigiYWZ0ZXJyZWZyZXNoIil9LF9pZFN0cmluZ0VzY2FwZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywiLSIpfSxfY3JlYXRlU3ViUGFnZXM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz1iLmNsb3Nlc3QoIi51aS1wYWdlIiksZT1jLmpxbURhdGEoInVybCIpLGY9ZXx8Y1swXVthLmV4cGFuZG9dLGc9Yi5hdHRyKCJpZCIpLGg9dGhpcy5vcHRpb25zLGk9ImRhdGEtIithLm1vYmlsZS5ucyxqPXRoaXMsaz1jLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIikuanFtRGF0YSgiaWQiKSxsO3R5cGVvZiBkW2ZdPT0idW5kZWZpbmVkIiYmKGRbZl09LTEpLGc9Z3x8KytkW2ZdLGEoYi5maW5kKCJsaT51bCwgbGk+b2wiKS50b0FycmF5KCkucmV2ZXJzZSgpKS5lYWNoKGZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMsZj1hKHRoaXMpLGo9Zi5hdHRyKCJpZCIpfHxnKyItIitjLG09Zi5wYXJlbnQoKSxuPWEoZi5wcmV2QWxsKCkudG9BcnJheSgpLnJldmVyc2UoKSkscD1uLmxlbmd0aD9uOmEoIjxzcGFuPiIrYS50cmltKG0uY29udGVudHMoKVswXS5ub2RlVmFsdWUpKyI8L3NwYW4+IikscT1wLmZpcnN0KCkuZ2V0RW5jb2RlZFRleHQoKSxyPShlfHwiIikrIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkrIj0iK2oscz1mLmpxbURhdGEoInRoZW1lIil8fGgudGhlbWUsdD1mLmpxbURhdGEoImNvdW50dGhlbWUiKXx8Yi5qcW1EYXRhKCJjb3VudHRoZW1lIil8fGguY291bnRUaGVtZSx1LHY7bD0hMCx1PWYuZGV0YWNoKCkud3JhcCgiPGRpdiAiK2krInJvbGU9J3BhZ2UnICIraSsidXJsPSciK3IrIicgIitpKyJ0aGVtZT0nIitzKyInICIraSsiY291bnQtdGhlbWU9JyIrdCsiJz48ZGl2ICIraSsicm9sZT0nY29udGVudCc+PC9kaXY+PC9kaXY+IikucGFyZW50KCkuYmVmb3JlKCI8ZGl2ICIraSsicm9sZT0naGVhZGVyJyAiK2krInRoZW1lPSciK2guaGVhZGVyVGhlbWUrIic+PGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrcSsiPC9kaXY+PC9kaXY+IikuYWZ0ZXIoaz9hKCI8ZGl2ICIraSsicm9sZT0nZm9vdGVyJyAiK2krImlkPSciK2srIic+Iik6IiIpLnBhcmVudCgpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLHUucGFnZSgpLHY9bS5maW5kKCJhOmZpcnN0Iiksdi5sZW5ndGh8fCh2PWEoIjxhLz4iKS5odG1sKHB8fHEpLnByZXBlbmRUbyhtLmVtcHR5KCkpKSx2LmF0dHIoImhyZWYiLCIjIityKX0pLmxpc3R2aWV3KCk7aWYobCYmYy5pcygiOmpxbURhdGEoZXh0ZXJuYWwtcGFnZT0ndHJ1ZScpIikmJmMuZGF0YSgibW9iaWxlLXBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlPT09ITEpe3ZhciBtPWZ1bmN0aW9uKGIsZCl7dmFyIGY9ZC5uZXh0UGFnZSxnLGg9bmV3IGEuRXZlbnQoInBhZ2VyZW1vdmUiKTtkLm5leHRQYWdlJiYoZz1mLmpxbURhdGEoInVybCIpLGcuaW5kZXhPZihlKyImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KSE9PTAmJihqLmNoaWxkUGFnZXMoKS5yZW1vdmUoKSxjLnRyaWdnZXIoaCksaC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8Yy5yZW1vdmVXaXRoRGVwZW5kZW50cygpKSl9O2MudW5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiKS5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiLG0pfX0sY2hpbGRQYWdlczpmdW5jdGlvbigpe3ZhciBiPXRoaXMucGFyZW50UGFnZS5qcW1EYXRhKCJ1cmwiKTtyZXR1cm4gYSgiOmpxbURhdGEodXJsXj0nIitiKyImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KyInKSIpfX0pLGEud2lkZ2V0KCJtb2JpbGUubGlzdHZpZXciLGEubW9iaWxlLmxpc3R2aWV3LGEubW9iaWxlLmJlaGF2aW9ycy5hZGRGaXJzdExhc3RDbGFzc2VzKSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuYXV0b2RpdmlkZXJzPSExLGEubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmF1dG9kaXZpZGVyc1NlbGVjdG9yPWZ1bmN0aW9uKGIpe3ZhciBjPWEudHJpbShiLnRleHQoKSl8fG51bGw7cmV0dXJuIGM/KGM9Yy5zbGljZSgwLDEpLnRvVXBwZXJDYXNlKCksYyk6bnVsbH0sYS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoInVsLG9sIiwibGlzdHZpZXdjcmVhdGUiLGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxkPWIuZGF0YSgibW9iaWxlLWxpc3R2aWV3Iik7aWYoIWR8fCFkLm9wdGlvbnMuYXV0b2RpdmlkZXJzKXJldHVybjt2YXIgZT1mdW5jdGlvbigpe2IuZmluZCgibGk6anFtRGF0YShyb2xlPSdsaXN0LWRpdmlkZXInKSIpLnJlbW92ZSgpO3ZhciBlPWIuZmluZCgibGkiKSxmPW51bGwsZyxoO2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXtnPWVbaV0saD1kLm9wdGlvbnMuYXV0b2RpdmlkZXJzU2VsZWN0b3IoYShnKSk7aWYoaCYmZiE9PWgpe3ZhciBqPWMuY3JlYXRlRWxlbWVudCgibGkiKTtqLmFwcGVuZENoaWxkKGMuY3JlYXRlVGV4dE5vZGUoaCkpLGouc2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrInJvbGUiLCJsaXN0LWRpdmlkZXIiKSxnLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGosZyl9Zj1ofX0sZj1mdW5jdGlvbigpe2IudW5iaW5kKCJsaXN0dmlld2FmdGVycmVmcmVzaCIsZiksZSgpLGQucmVmcmVzaCgpLGIuYmluZCgibGlzdHZpZXdhZnRlcnJlZnJlc2giLGYpfTtmKCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmNoZWNrYm94cmFkaW8iLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxtaW5pOiExLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0nY2hlY2tib3gnXSxpbnB1dFt0eXBlPSdyYWRpbyddIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD10aGlzLmVsZW1lbnQsZT10aGlzLm9wdGlvbnMsZj1mdW5jdGlvbihhLGIpe3JldHVybiBhLmpxbURhdGEoYil8fGEuY2xvc2VzdCgiZm9ybSwgZmllbGRzZXQiKS5qcW1EYXRhKGIpfSxnPWEoZCkuY2xvc2VzdCgibGFiZWwiKSxoPWcubGVuZ3RoP2c6YShkKS5jbG9zZXN0KCJmb3JtLCBmaWVsZHNldCwgOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpbmQoImxhYmVsIikuZmlsdGVyKCJbZm9yPSciK2RbMF0uaWQrIiddIikuZmlyc3QoKSxpPWRbMF0udHlwZSxqPWYoZCwibWluaSIpfHxlLm1pbmksaz1pKyItb24iLGw9aSsiLW9mZiIsbT1mKGQsImljb25wb3MiKSxuPSJ1aS0iK2ssbz0idWktIitsO2lmKGkhPT0iY2hlY2tib3giJiZpIT09InJhZGlvIilyZXR1cm47YS5leHRlbmQodGhpcyx7bGFiZWw6aCxpbnB1dHR5cGU6aSxjaGVja2VkQ2xhc3M6bix1bmNoZWNrZWRDbGFzczpvLGNoZWNrZWRpY29uOmssdW5jaGVja2VkaWNvbjpsfSksZS50aGVtZXx8KGUudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIikpLGguYnV0dG9uTWFya3VwKHt0aGVtZTplLnRoZW1lLGljb246bCxzaGFkb3c6ITEsbWluaTpqLGljb25wb3M6bX0pO3ZhciBwPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7cC5jbGFzc05hbWU9InVpLSIraSxkLmFkZChoKS53cmFwQWxsKHApLGguYmluZCh7dm1vdXNlb3ZlcjpmdW5jdGlvbihiKXthKHRoaXMpLnBhcmVudCgpLmlzKCIudWktZGlzYWJsZWQiKSYmYi5zdG9wUHJvcGFnYXRpb24oKX0sdmNsaWNrOmZ1bmN0aW9uKGEpe2lmKGQuaXMoIjpkaXNhYmxlZCIpKXthLnByZXZlbnREZWZhdWx0KCk7cmV0dXJufXJldHVybiBiLl9jYWNoZVZhbHMoKSxkLnByb3AoImNoZWNrZWQiLGk9PT0icmFkaW8iJiYhMHx8IWQucHJvcCgiY2hlY2tlZCIpKSxkLnRyaWdnZXJIYW5kbGVyKCJjbGljayIpLGIuX2dldElucHV0U2V0KCkubm90KGQpLnByb3AoImNoZWNrZWQiLCExKSxiLl91cGRhdGVBbGwoKSwhMX19KSxkLmJpbmQoe3Ztb3VzZWRvd246ZnVuY3Rpb24oKXtiLl9jYWNoZVZhbHMoKX0sdmNsaWNrOmZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKTtjLmlzKCI6Y2hlY2tlZCIpPyhjLnByb3AoImNoZWNrZWQiLCEwKSxiLl9nZXRJbnB1dFNldCgpLm5vdChjKS5wcm9wKCJjaGVja2VkIiwhMSkpOmMucHJvcCgiY2hlY2tlZCIsITEpLGIuX3VwZGF0ZUFsbCgpfSxmb2N1czpmdW5jdGlvbigpe2guYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXtoLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pLHRoaXMuX2hhbmRsZUZvcm1SZXNldCYmdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5yZWZyZXNoKCl9LF9jYWNoZVZhbHM6ZnVuY3Rpb24oKXt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmpxbURhdGEoImNhY2hlVmFsIix0aGlzLmNoZWNrZWQpfSl9LF9nZXRJbnB1dFNldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlucHV0dHlwZT09PSJjaGVja2JveCI/dGhpcy5lbGVtZW50OnRoaXMuZWxlbWVudC5jbG9zZXN0KCJmb3JtLCA6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikuZmluZCgiaW5wdXRbbmFtZT0nIit0aGlzLmVsZW1lbnRbMF0ubmFtZSsiJ11bdHlwZT0nIit0aGlzLmlucHV0dHlwZSsiJ10iKX0sX3VwZGF0ZUFsbDpmdW5jdGlvbigpe3ZhciBiPXRoaXM7dGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKTsodGhpcy5jaGVja2VkfHxiLmlucHV0dHlwZT09PSJjaGVja2JveCIpJiZjLnRyaWdnZXIoImNoYW5nZSIpfSkuY2hlY2tib3hyYWRpbygicmVmcmVzaCIpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudFswXSxjPSIgIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyxkPXRoaXMuY2hlY2tlZENsYXNzKyh0aGlzLmVsZW1lbnQucGFyZW50cygiLnVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIikubGVuZ3RoP2M6IiIpLGU9dGhpcy5sYWJlbDtiLmNoZWNrZWQ/ZS5yZW1vdmVDbGFzcyh0aGlzLnVuY2hlY2tlZENsYXNzK2MpLmFkZENsYXNzKGQpLmJ1dHRvbk1hcmt1cCh7aWNvbjp0aGlzLmNoZWNrZWRpY29ufSk6ZS5yZW1vdmVDbGFzcyhkKS5hZGRDbGFzcyh0aGlzLnVuY2hlY2tlZENsYXNzKS5idXR0b25NYXJrdXAoe2ljb246dGhpcy51bmNoZWNrZWRpY29ufSksYi5kaXNhYmxlZD90aGlzLmRpc2FibGUoKTp0aGlzLmVuYWJsZSgpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiwhMCkucGFyZW50KCkuYWRkQ2xhc3MoInVpLWRpc2FibGVkIil9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsITEpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpfX0pLGEud2lkZ2V0KCJtb2JpbGUuY2hlY2tib3hyYWRpbyIsYS5tb2JpbGUuY2hlY2tib3hyYWRpbyxhLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUuY2hlY2tib3hyYWRpby5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwhMCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmJ1dHRvbiIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGljb246bnVsbCxpY29ucG9zOm51bGwsY29ybmVyczohMCxzaGFkb3c6ITAsaWNvbnNoYWRvdzohMCxpbmxpbmU6bnVsbCxtaW5pOm51bGwsaW5pdFNlbGVjdG9yOiJidXR0b24sIFt0eXBlPSdidXR0b24nXSwgW3R5cGU9J3N1Ym1pdCddLCBbdHlwZT0ncmVzZXQnXSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYyxkPWZ1bmN0aW9uKGEpe3ZhciBiLGM9e307Zm9yKGIgaW4gYSlhW2JdIT09bnVsbCYmYiE9PSJpbml0U2VsZWN0b3IiJiYoY1tiXT1hW2JdKTtyZXR1cm4gY30odGhpcy5vcHRpb25zKSxlPSIiLGY7aWYoYlswXS50YWdOYW1lPT09IkEiKXtiLmhhc0NsYXNzKCJ1aS1idG4iKXx8Yi5idXR0b25NYXJrdXAoKTtyZXR1cm59dGhpcy5vcHRpb25zLnRoZW1lfHwodGhpcy5vcHRpb25zLnRoZW1lPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudCwiYyIpKSwhfmJbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1sZWZ0Iil8fChlPSJ1aS1idG4tbGVmdCIpLCF+YlswXS5jbGFzc05hbWUuaW5kZXhPZigidWktYnRuLXJpZ2h0Iil8fChlPSJ1aS1idG4tcmlnaHQiKTtpZihiLmF0dHIoInR5cGUiKT09PSJzdWJtaXQifHxiLmF0dHIoInR5cGUiKT09PSJyZXNldCIpZT9lKz0iIHVpLXN1Ym1pdCI6ZT0idWktc3VibWl0IjthKCJsYWJlbFtmb3I9JyIrYi5hdHRyKCJpZCIpKyInXSIpLmFkZENsYXNzKCJ1aS1zdWJtaXQiKSx0aGlzLmJ1dHRvbj1hKCI8ZGl2PjwvZGl2PiIpW2IuaHRtbCgpPyJodG1sIjoidGV4dCJdKGIuaHRtbCgpfHxiLnZhbCgpKS5pbnNlcnRCZWZvcmUoYikuYnV0dG9uTWFya3VwKGQpLmFkZENsYXNzKGUpLmFwcGVuZChiLmFkZENsYXNzKCJ1aS1idG4taGlkZGVuIikpLGM9dGhpcy5idXR0b24sYi5iaW5kKHtmb2N1czpmdW5jdGlvbigpe2MuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXtjLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pLHRoaXMucmVmcmVzaCgpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9e307ZFtiXT1jLGIhPT0iaW5pdFNlbGVjdG9yIiYmKHRoaXMuYnV0dG9uLmJ1dHRvbk1hcmt1cChkKSx0aGlzLmVsZW1lbnQuYXR0cigiZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpK2IucmVwbGFjZSgvKFtBLVpdKS8sIi0kMSIpLnRvTG93ZXJDYXNlKCksYykpLHRoaXMuX3N1cGVyKCJfc2V0T3B0aW9uIixiLGMpfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMSksdGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITEpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCEwKSx0aGlzLmJ1dHRvbi5hZGRDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMCksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50O2IucHJvcCgiZGlzYWJsZWQiKT90aGlzLmRpc2FibGUoKTp0aGlzLmVuYWJsZSgpLGEodGhpcy5idXR0b24uZGF0YSgiYnV0dG9uRWxlbWVudHMiKS50ZXh0KVtiLmh0bWwoKT8iaHRtbCI6InRleHQiXShiLmh0bWwoKXx8Yi52YWwoKSl9fSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLmJ1dHRvbi5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwhMCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmNvbnRyb2xncm91cCIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntzaGFkb3c6ITEsY29ybmVyczohMCxleGNsdWRlSW52aXNpYmxlOiEwLHR5cGU6InZlcnRpY2FsIixtaW5pOiExLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nY29udHJvbGdyb3VwJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5lbGVtZW50LGQ9e2lubmVyOmEoIjxkaXYgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1jb250cm9scyc+PC9kaXY+IiksbGVnZW5kOmEoIjxkaXYgcm9sZT0naGVhZGluZycgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1sYWJlbCc+PC9kaXY+Iil9LGU9Yy5jaGlsZHJlbigibGVnZW5kIiksZj10aGlzO2Mud3JhcElubmVyKGQuaW5uZXIpLGUubGVuZ3RoJiZkLmxlZ2VuZC5hcHBlbmQoZSkuaW5zZXJ0QmVmb3JlKGMuY2hpbGRyZW4oMCkpLGMuYWRkQ2xhc3MoInVpLWNvcm5lci1hbGwgdWktY29udHJvbGdyb3VwIiksYS5leHRlbmQodGhpcyx7X2luaXRpYWxSZWZyZXNoOiEwfSksYS5lYWNoKHRoaXMub3B0aW9ucyxmdW5jdGlvbihhLGMpe2Yub3B0aW9uc1thXT1iLGYuX3NldE9wdGlvbihhLGMsITApfSl9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24oYyxkKXt2YXIgZT0iX3NldCIrYy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStjLnNsaWNlKDEpO3RoaXNbZV0hPT1iJiZ0aGlzW2VdKGQpLHRoaXMuX3N1cGVyKGMsZCksdGhpcy5lbGVtZW50LmF0dHIoImRhdGEtIisoYS5tb2JpbGUubnN8fCIiKStjLnJlcGxhY2UoLyhbQS1aXSkvLCItJDEiKS50b0xvd2VyQ2FzZSgpLGQpfSxfc2V0VHlwZTpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIHVpLWNvbnRyb2xncm91cC12ZXJ0aWNhbCIpLmFkZENsYXNzKCJ1aS1jb250cm9sZ3JvdXAtIithKSx0aGlzLnJlZnJlc2goKX0sX3NldENvcm5lcnM6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixhKX0sX3NldFNoYWRvdzpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLXNoYWRvdyIsYSl9LF9zZXRNaW5pOmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktbWluaSIsYSl9LGNvbnRhaW5lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuY2hpbGRyZW4oIi51aS1jb250cm9sZ3JvdXAtY29udHJvbHMiKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudC5maW5kKCIudWktYnRuIikubm90KCIudWktc2xpZGVyLWhhbmRsZSIpLGM9dGhpcy5faW5pdGlhbFJlZnJlc2g7YS5tb2JpbGUuY2hlY2tib3hyYWRpbyYmdGhpcy5lbGVtZW50LmZpbmQoIjptb2JpbGUtY2hlY2tib3hyYWRpbyIpLmNoZWNrYm94cmFkaW8oInJlZnJlc2giKSx0aGlzLl9hZGRGaXJzdExhc3RDbGFzc2VzKGIsdGhpcy5vcHRpb25zLmV4Y2x1ZGVJbnZpc2libGU/dGhpcy5fZ2V0VmlzaWJsZXMoYixjKTpiLGMpLHRoaXMuX2luaXRpYWxSZWZyZXNoPSExfX0pLGEud2lkZ2V0KCJtb2JpbGUuY29udHJvbGdyb3VwIixhLm1vYmlsZS5jb250cm9sZ3JvdXAsYS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpLGEoZnVuY3Rpb24oKXthLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUuY29udHJvbGdyb3VwLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0LCEwKX0pfSl9KGEpLGZ1bmN0aW9uKGEsYil7YShjKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuZmluZCgiYSIpLmpxbUVuaGFuY2VhYmxlKCkubm90KCIudWktYnRuLCAudWktbGluay1pbmhlcml0LCA6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLmFkZENsYXNzKCJ1aS1saW5rIil9KX0oYSksZnVuY3Rpb24oYSxkKXtmdW5jdGlvbiBlKGEsYixjLGQpe3ZhciBlPWQ7cmV0dXJuIGE8Yj9lPWMrKGEtYikvMjplPU1hdGgubWluKE1hdGgubWF4KGMsZC1iLzIpLGMrYS1iKSxlfWZ1bmN0aW9uIGYoKXt2YXIgYz1hLm1vYmlsZS53aW5kb3c7cmV0dXJue3g6Yy5zY3JvbGxMZWZ0KCkseTpjLnNjcm9sbFRvcCgpLGN4OmIuaW5uZXJXaWR0aHx8Yy53aWR0aCgpLGN5OmIuaW5uZXJIZWlnaHR8fGMuaGVpZ2h0KCl9fWEud2lkZ2V0KCJtb2JpbGUucG9wdXAiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxvdmVybGF5VGhlbWU6bnVsbCxzaGFkb3c6ITAsY29ybmVyczohMCx0cmFuc2l0aW9uOiJub25lIixwb3NpdGlvblRvOiJvcmlnaW4iLHRvbGVyYW5jZTpudWxsLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0ncG9wdXAnKSIsY2xvc2VMaW5rU2VsZWN0b3I6ImE6anFtRGF0YShyZWw9J2JhY2snKSIsY2xvc2VMaW5rRXZlbnRzOiJjbGljay5wb3B1cCIsbmF2aWdhdGVFdmVudHM6Im5hdmlnYXRlLnBvcHVwIixjbG9zZUV2ZW50czoibmF2aWdhdGUucG9wdXAgcGFnZWJlZm9yZWNoYW5nZS5wb3B1cCIsZGlzbWlzc2libGU6ITAsaGlzdG9yeTohYS5tb2JpbGUuYnJvd3Nlci5vbGRJRX0sX2VhdEV2ZW50QW5kQ2xvc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHRoaXMub3B0aW9ucy5kaXNtaXNzaWJsZSYmdGhpcy5jbG9zZSgpLCExfSxfcmVzaXplU2NyZWVuOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fdWkuY29udGFpbmVyLm91dGVySGVpZ2h0KCEwKTt0aGlzLl91aS5zY3JlZW4ucmVtb3ZlQXR0cigic3R5bGUiKSxhPnRoaXMuX3VpLnNjcmVlbi5oZWlnaHQoKSYmdGhpcy5fdWkuc2NyZWVuLmhlaWdodChhKX0sX2hhbmRsZVdpbmRvd0tleVVwOmZ1bmN0aW9uKGIpe2lmKHRoaXMuX2lzT3BlbiYmYi5rZXlDb2RlPT09YS5tb2JpbGUua2V5Q29kZS5FU0NBUEUpcmV0dXJuIHRoaXMuX2VhdEV2ZW50QW5kQ2xvc2UoYil9LF9leHBlY3RSZXNpemVFdmVudDpmdW5jdGlvbigpe3ZhciBiPWYoKTtpZih0aGlzLl9yZXNpemVEYXRhKXtpZihiLng9PT10aGlzLl9yZXNpemVEYXRhLndpbkNvb3Jkcy54JiZiLnk9PT10aGlzLl9yZXNpemVEYXRhLndpbkNvb3Jkcy55JiZiLmN4PT09dGhpcy5fcmVzaXplRGF0YS53aW5Db29yZHMuY3gmJmIuY3k9PT10aGlzLl9yZXNpemVEYXRhLndpbkNvb3Jkcy5jeSlyZXR1cm4hMTtjbGVhclRpbWVvdXQodGhpcy5fcmVzaXplRGF0YS50aW1lb3V0SWQpfXJldHVybiB0aGlzLl9yZXNpemVEYXRhPXt0aW1lb3V0SWQ6c2V0VGltZW91dChhLnByb3h5KHRoaXMsIl9yZXNpemVUaW1lb3V0IiksMjAwKSx3aW5Db29yZHM6Yn0sITB9LF9yZXNpemVUaW1lb3V0OmZ1bmN0aW9uKCl7dGhpcy5faXNPcGVuP3RoaXMuX2V4cGVjdFJlc2l6ZUV2ZW50KCl8fCh0aGlzLl91aS5jb250YWluZXIuaGFzQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpJiYodGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC1oaWRkZW4iKSx0aGlzLnJlcG9zaXRpb24oe3Bvc2l0aW9uVG86IndpbmRvdyJ9KSx0aGlzLl9pZ25vcmVSZXNpemVFdmVudHMoKSksdGhpcy5fcmVzaXplU2NyZWVuKCksdGhpcy5fcmVzaXplRGF0YT1udWxsLHRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcz0hMSk6KHRoaXMuX3Jlc2l6ZURhdGE9bnVsbCx0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M9ITEpfSxfaWdub3JlUmVzaXplRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLl9pZ25vcmVSZXNpemVUbyYmY2xlYXJUaW1lb3V0KHRoaXMuX2lnbm9yZVJlc2l6ZVRvKSx0aGlzLl9pZ25vcmVSZXNpemVUbz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5faWdub3JlUmVzaXplVG89MH0sMWUzKX0sX2hhbmRsZVdpbmRvd1Jlc2l6ZTpmdW5jdGlvbihhKXt0aGlzLl9pc09wZW4mJnRoaXMuX2lnbm9yZVJlc2l6ZVRvPT09MCYmKHRoaXMuX2V4cGVjdFJlc2l6ZUV2ZW50KCl8fHRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcykmJiF0aGlzLl91aS5jb250YWluZXIuaGFzQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpJiZ0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpLnJlbW92ZUF0dHIoInN0eWxlIil9LF9oYW5kbGVXaW5kb3dPcmllbnRhdGlvbmNoYW5nZTpmdW5jdGlvbihhKXshdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzJiZ0aGlzLl9pc09wZW4mJnRoaXMuX2lnbm9yZVJlc2l6ZVRvPT09MCYmKHRoaXMuX2V4cGVjdFJlc2l6ZUV2ZW50KCksdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzPSEwKX0sX2hhbmRsZURvY3VtZW50Rm9jdXNJbjpmdW5jdGlvbihiKXt2YXIgZD1iLnRhcmdldCxlLGY9dGhpcy5fdWk7aWYoIXRoaXMuX2lzT3BlbilyZXR1cm47aWYoZCE9PWYuY29udGFpbmVyWzBdKXtlPWEoYi50YXJnZXQpO2lmKDA9PT1lLnBhcmVudHMoKS5maWx0ZXIoZi5jb250YWluZXJbMF0pLmxlbmd0aClyZXR1cm4gYShjLmFjdGl2ZUVsZW1lbnQpLm9uZSgiZm9jdXMiLGZ1bmN0aW9uKGEpe2UuYmx1cigpfSksZi5mb2N1c0VsZW1lbnQuZm9jdXMoKSxiLnByZXZlbnREZWZhdWx0KCksYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwhMTtmLmZvY3VzRWxlbWVudFswXT09PWYuY29udGFpbmVyWzBdJiYoZi5mb2N1c0VsZW1lbnQ9ZSl9ZWxzZSBmLmZvY3VzRWxlbWVudCYmZi5mb2N1c0VsZW1lbnRbMF0hPT1mLmNvbnRhaW5lclswXSYmKGYuY29udGFpbmVyLmJsdXIoKSxmLmZvY3VzRWxlbWVudC5mb2N1cygpKTt0aGlzLl9pZ25vcmVSZXNpemVFdmVudHMoKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXtzY3JlZW46YSgiPGRpdiBjbGFzcz0ndWktc2NyZWVuLWhpZGRlbiB1aS1wb3B1cC1zY3JlZW4nPjwvZGl2PiIpLHBsYWNlaG9sZGVyOmEoIjxkaXYgc3R5bGU9J2Rpc3BsYXk6IG5vbmU7Jz48IS0tIHBsYWNlaG9sZGVyIC0tPjwvZGl2PiIpLGNvbnRhaW5lcjphKCI8ZGl2IGNsYXNzPSd1aS1wb3B1cC1jb250YWluZXIgdWktcG9wdXAtaGlkZGVuJz48L2Rpdj4iKX0sYz10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKSxlPXRoaXMuZWxlbWVudC5hdHRyKCJpZCIpLGY9dGhpczt0aGlzLm9wdGlvbnMuaGlzdG9yeT10aGlzLm9wdGlvbnMuaGlzdG9yeSYmYS5tb2JpbGUuYWpheEVuYWJsZWQmJmEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkLGMubGVuZ3RoPT09MCYmKGM9YSgiYm9keSIpKSx0aGlzLm9wdGlvbnMuY29udGFpbmVyPXRoaXMub3B0aW9ucy5jb250YWluZXJ8fGEubW9iaWxlLnBhZ2VDb250YWluZXIsYy5hcHBlbmQoYi5zY3JlZW4pLGIuY29udGFpbmVyLmluc2VydEFmdGVyKGIuc2NyZWVuKSxiLnBsYWNlaG9sZGVyLmluc2VydEFmdGVyKHRoaXMuZWxlbWVudCksZSYmKGIuc2NyZWVuLmF0dHIoImlkIixlKyItc2NyZWVuIiksYi5jb250YWluZXIuYXR0cigiaWQiLGUrIi1wb3B1cCIpLGIucGxhY2Vob2xkZXIuaHRtbCgiPCEtLSBwbGFjZWhvbGRlciBmb3IgIitlKyIgLS0+IikpLGIuY29udGFpbmVyLmFwcGVuZCh0aGlzLmVsZW1lbnQpLGIuZm9jdXNFbGVtZW50PWIuY29udGFpbmVyLHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktcG9wdXAiKSxhLmV4dGVuZCh0aGlzLHtfc2Nyb2xsVG9wOjAsX3BhZ2U6YyxfdWk6YixfZmFsbGJhY2tUcmFuc2l0aW9uOiIiLF9jdXJyZW50VHJhbnNpdGlvbjohMSxfcHJlcmVxczpudWxsLF9pc09wZW46ITEsX3RvbGVyYW5jZTpudWxsLF9yZXNpemVEYXRhOm51bGwsX2lnbm9yZVJlc2l6ZVRvOjAsX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzczohMX0pLGEuZWFjaCh0aGlzLm9wdGlvbnMsZnVuY3Rpb24oYSxiKXtmLm9wdGlvbnNbYV09ZCxmLl9zZXRPcHRpb24oYSxiLCEwKX0pLGIuc2NyZWVuLmJpbmQoInZjbGljayIsYS5wcm94eSh0aGlzLCJfZWF0RXZlbnRBbmRDbG9zZSIpKSx0aGlzLl9vbihhLm1vYmlsZS53aW5kb3cse29yaWVudGF0aW9uY2hhbmdlOmEucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd09yaWVudGF0aW9uY2hhbmdlIikscmVzaXplOmEucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd1Jlc2l6ZSIpLGtleXVwOmEucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd0tleVVwIil9KSx0aGlzLl9vbihhLm1vYmlsZS5kb2N1bWVudCx7Zm9jdXNpbjphLnByb3h5KHRoaXMsIl9oYW5kbGVEb2N1bWVudEZvY3VzSW4iKX0pfSxfYXBwbHlUaGVtZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9KGEuYXR0cigiY2xhc3MiKXx8IiIpLnNwbGl0KCIgIiksZT0hMCxmPW51bGwsZyxoPVN0cmluZyhiKTt3aGlsZShkLmxlbmd0aD4wKXtmPWQucG9wKCksZz0obmV3IFJlZ0V4cCgiXnVpLSIrYysiLShbYS16XSkkIikpLmV4ZWMoZik7aWYoZyYmZy5sZW5ndGg+MSl7Zj1nWzFdO2JyZWFrfWY9bnVsbH1iIT09ZiYmKGEucmVtb3ZlQ2xhc3MoInVpLSIrYysiLSIrZiksYiE9PW51bGwmJmIhPT0ibm9uZSImJmEuYWRkQ2xhc3MoInVpLSIrYysiLSIraCkpfSxfc2V0VGhlbWU6ZnVuY3Rpb24oYSl7dGhpcy5fYXBwbHlUaGVtZSh0aGlzLmVsZW1lbnQsYSwiYm9keSIpfSxfc2V0T3ZlcmxheVRoZW1lOmZ1bmN0aW9uKGEpe3RoaXMuX2FwcGx5VGhlbWUodGhpcy5fdWkuc2NyZWVuLGEsIm92ZXJsYXkiKSx0aGlzLl9pc09wZW4mJnRoaXMuX3VpLnNjcmVlbi5hZGRDbGFzcygiaW4iKX0sX3NldFNoYWRvdzpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLW92ZXJsYXktc2hhZG93IixhKX0sX3NldENvcm5lcnM6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixhKX0sX2FwcGx5VHJhbnNpdGlvbjpmdW5jdGlvbihiKXt0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3ModGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uKSxiJiZiIT09Im5vbmUiJiYodGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uPWEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uKGIpLHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbj09PSJub25lIiYmKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbj0iIiksdGhpcy5fdWkuY29udGFpbmVyLmFkZENsYXNzKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbikpfSxfc2V0VHJhbnNpdGlvbjpmdW5jdGlvbihhKXt0aGlzLl9jdXJyZW50VHJhbnNpdGlvbnx8dGhpcy5fYXBwbHlUcmFuc2l0aW9uKGEpfSxfc2V0VG9sZXJhbmNlOmZ1bmN0aW9uKGIpe3ZhciBjPXt0OjMwLHI6MTUsYjozMCxsOjE1fTtpZihiIT09ZCl7dmFyIGU9U3RyaW5nKGIpLnNwbGl0KCIsIik7YS5lYWNoKGUsZnVuY3Rpb24oYSxiKXtlW2FdPXBhcnNlSW50KGIsMTApfSk7c3dpdGNoKGUubGVuZ3RoKXtjYXNlIDE6aXNOYU4oZVswXSl8fChjLnQ9Yy5yPWMuYj1jLmw9ZVswXSk7YnJlYWs7Y2FzZSAyOmlzTmFOKGVbMF0pfHwoYy50PWMuYj1lWzBdKSxpc05hTihlWzFdKXx8KGMubD1jLnI9ZVsxXSk7YnJlYWs7Y2FzZSA0OmlzTmFOKGVbMF0pfHwoYy50PWVbMF0pLGlzTmFOKGVbMV0pfHwoYy5yPWVbMV0pLGlzTmFOKGVbMl0pfHwoYy5iPWVbMl0pLGlzTmFOKGVbM10pfHwoYy5sPWVbM10pO2JyZWFrO2RlZmF1bHQ6fX10aGlzLl90b2xlcmFuY2U9Y30sX3NldE9wdGlvbjpmdW5jdGlvbihiLGMpe3ZhciBlLGY9Il9zZXQiK2IuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYi5zbGljZSgxKTt0aGlzW2ZdIT09ZCYmdGhpc1tmXShjKSxlPVsiaW5pdFNlbGVjdG9yIiwiY2xvc2VMaW5rU2VsZWN0b3IiLCJjbG9zZUxpbmtFdmVudHMiLCJuYXZpZ2F0ZUV2ZW50cyIsImNsb3NlRXZlbnRzIiwiaGlzdG9yeSIsImNvbnRhaW5lciJdLGEubW9iaWxlLndpZGdldC5wcm90b3R5cGUuX3NldE9wdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyksYS5pbkFycmF5KGIsZSk9PT0tMSYmdGhpcy5lbGVtZW50LmF0dHIoImRhdGEtIisoYS5tb2JpbGUubnN8fCIiKStiLnJlcGxhY2UoLyhbQS1aXSkvLCItJDEiKS50b0xvd2VyQ2FzZSgpLGMpfSxfcGxhY2VtZW50Q29vcmRzOmZ1bmN0aW9uKGEpe3ZhciBiPWYoKSxkPXt4OnRoaXMuX3RvbGVyYW5jZS5sLHk6Yi55K3RoaXMuX3RvbGVyYW5jZS50LGN4OmIuY3gtdGhpcy5fdG9sZXJhbmNlLmwtdGhpcy5fdG9sZXJhbmNlLnIsY3k6Yi5jeS10aGlzLl90b2xlcmFuY2UudC10aGlzLl90b2xlcmFuY2UuYn0sZyxoO3RoaXMuX3VpLmNvbnRhaW5lci5jc3MoIm1heC13aWR0aCIsZC5jeCksZz17Y3g6dGhpcy5fdWkuY29udGFpbmVyLm91dGVyV2lkdGgoITApLGN5OnRoaXMuX3VpLmNvbnRhaW5lci5vdXRlckhlaWdodCghMCl9LGg9e3g6ZShkLmN4LGcuY3gsZC54LGEueCkseTplKGQuY3ksZy5jeSxkLnksYS55KX0saC55PU1hdGgubWF4KDAsaC55KTt2YXIgaT1jLmRvY3VtZW50RWxlbWVudCxqPWMuYm9keSxrPU1hdGgubWF4KGkuY2xpZW50SGVpZ2h0LGouc2Nyb2xsSGVpZ2h0LGoub2Zmc2V0SGVpZ2h0LGkuc2Nyb2xsSGVpZ2h0LGkub2Zmc2V0SGVpZ2h0KTtyZXR1cm4gaC55LT1NYXRoLm1pbihoLnksTWF0aC5tYXgoMCxoLnkrZy5jeS1rKSkse2xlZnQ6aC54LHRvcDpoLnl9fSxfY3JlYXRlUHJlcmVxczpmdW5jdGlvbihiLGMsZCl7dmFyIGU9dGhpcyxmO2Y9e3NjcmVlbjphLkRlZmVycmVkKCksY29udGFpbmVyOmEuRGVmZXJyZWQoKX0sZi5zY3JlZW4udGhlbihmdW5jdGlvbigpe2Y9PT1lLl9wcmVyZXFzJiZiKCl9KSxmLmNvbnRhaW5lci50aGVuKGZ1bmN0aW9uKCl7Zj09PWUuX3ByZXJlcXMmJmMoKX0pLGEud2hlbihmLnNjcmVlbixmLmNvbnRhaW5lcikuZG9uZShmdW5jdGlvbigpe2Y9PT1lLl9wcmVyZXFzJiYoZS5fcHJlcmVxcz1udWxsLGQoKSl9KSxlLl9wcmVyZXFzPWZ9LF9hbmltYXRlOmZ1bmN0aW9uKGIpe3RoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcyhiLmNsYXNzVG9SZW1vdmUpLmFkZENsYXNzKGIuc2NyZWVuQ2xhc3NUb0FkZCksYi5wcmVyZXFzLnNjcmVlbi5yZXNvbHZlKCk7aWYoYi50cmFuc2l0aW9uJiZiLnRyYW5zaXRpb24hPT0ibm9uZSIpe2IuYXBwbHlUcmFuc2l0aW9uJiZ0aGlzLl9hcHBseVRyYW5zaXRpb24oYi50cmFuc2l0aW9uKTtpZih0aGlzLl9mYWxsYmFja1RyYW5zaXRpb24pe3RoaXMuX3VpLmNvbnRhaW5lci5hbmltYXRpb25Db21wbGV0ZShhLnByb3h5KGIucHJlcmVxcy5jb250YWluZXIsInJlc29sdmUiKSkuYWRkQ2xhc3MoYi5jb250YWluZXJDbGFzc1RvQWRkKS5yZW1vdmVDbGFzcyhiLmNsYXNzVG9SZW1vdmUpO3JldHVybn19dGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKGIuY2xhc3NUb1JlbW92ZSksYi5wcmVyZXFzLmNvbnRhaW5lci5yZXNvbHZlKCl9LF9kZXNpcmVkQ29vcmRzOmZ1bmN0aW9uKGIpe3ZhciBjPW51bGwsZCxlPWYoKSxnPWIueCxoPWIueSxpPWIucG9zaXRpb25UbztpZihpJiZpIT09Im9yaWdpbiIpaWYoaT09PSJ3aW5kb3ciKWc9ZS5jeC8yK2UueCxoPWUuY3kvMitlLnk7ZWxzZXt0cnl7Yz1hKGkpfWNhdGNoKGope2M9bnVsbH1jJiYoYy5maWx0ZXIoIjp2aXNpYmxlIiksYy5sZW5ndGg9PT0wJiYoYz1udWxsKSl9YyYmKGQ9Yy5vZmZzZXQoKSxnPWQubGVmdCtjLm91dGVyV2lkdGgoKS8yLGg9ZC50b3ArYy5vdXRlckhlaWdodCgpLzIpO2lmKGEudHlwZShnKSE9PSJudW1iZXIifHxpc05hTihnKSlnPWUuY3gvMitlLng7aWYoYS50eXBlKGgpIT09Im51bWJlciJ8fGlzTmFOKGgpKWg9ZS5jeS8yK2UueTtyZXR1cm57eDpnLHk6aH19LF9yZXBvc2l0aW9uOmZ1bmN0aW9uKGEpe2E9e3g6YS54LHk6YS55LHBvc2l0aW9uVG86YS5wb3NpdGlvblRvfSx0aGlzLl90cmlnZ2VyKCJiZWZvcmVwb3NpdGlvbiIsYSksdGhpcy5fdWkuY29udGFpbmVyLm9mZnNldCh0aGlzLl9wbGFjZW1lbnRDb29yZHModGhpcy5fZGVzaXJlZENvb3JkcyhhKSkpfSxyZXBvc2l0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuX2lzT3BlbiYmdGhpcy5fcmVwb3NpdGlvbihhKX0sX29wZW5QcmVyZXFzQ29tcGxldGU6ZnVuY3Rpb24oKXt0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3MoInVpLXBvcHVwLWFjdGl2ZSIpLHRoaXMuX2lzT3Blbj0hMCx0aGlzLl9yZXNpemVTY3JlZW4oKSx0aGlzLl91aS5jb250YWluZXIuYXR0cigidGFiaW5kZXgiLCIwIikuZm9jdXMoKSx0aGlzLl9pZ25vcmVSZXNpemVFdmVudHMoKSx0aGlzLl90cmlnZ2VyKCJhZnRlcm9wZW4iKX0sX29wZW46ZnVuY3Rpb24oYyl7dmFyIGQ9YS5leHRlbmQoe30sdGhpcy5vcHRpb25zLGMpLGU9ZnVuY3Rpb24oKXt2YXIgYT1iLGM9bmF2aWdhdG9yLnVzZXJBZ2VudCxkPWMubWF0Y2goL0FwcGxlV2ViS2l0XC8oWzAtOVwuXSspLyksZT0hIWQmJmRbMV0sZj1jLm1hdGNoKC9BbmRyb2lkIChcZCsoPzpcLlxkKykpLyksZz0hIWYmJmZbMV0saD1jLmluZGV4T2YoIkNocm9tZSIpPi0xO3JldHVybiBmIT09bnVsbCYmZz09PSI0LjAiJiZlJiZlPjUzNC4xMyYmIWg/ITA6ITF9KCk7dGhpcy5fY3JlYXRlUHJlcmVxcyhhLm5vb3AsYS5ub29wLGEucHJveHkodGhpcywiX29wZW5QcmVyZXFzQ29tcGxldGUiKSksdGhpcy5fY3VycmVudFRyYW5zaXRpb249ZC50cmFuc2l0aW9uLHRoaXMuX2FwcGx5VHJhbnNpdGlvbihkLnRyYW5zaXRpb24pLHRoaXMub3B0aW9ucy50aGVtZXx8dGhpcy5fc2V0VGhlbWUodGhpcy5fcGFnZS5qcW1EYXRhKCJ0aGVtZSIpfHxhLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLl9wYWdlLCJjIikpLHRoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpLHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktcG9wdXAtaGlkZGVuIiksdGhpcy5fcmVwb3NpdGlvbihkKSx0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lJiZlJiZ0aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKS5hZGRDbGFzcygidWktcG9wdXAtb3BlbiIpLHRoaXMuX2FuaW1hdGUoe2FkZGl0aW9uYWxDb25kaXRpb246ITAsdHJhbnNpdGlvbjpkLnRyYW5zaXRpb24sY2xhc3NUb1JlbW92ZToiIixzY3JlZW5DbGFzc1RvQWRkOiJpbiIsY29udGFpbmVyQ2xhc3NUb0FkZDoiaW4iLGFwcGx5VHJhbnNpdGlvbjohMSxwcmVyZXFzOnRoaXMuX3ByZXJlcXN9KX0sX2Nsb3NlUHJlcmVxU2NyZWVuOmZ1bmN0aW9uKCl7dGhpcy5fdWkuc2NyZWVuLnJlbW92ZUNsYXNzKCJvdXQiKS5hZGRDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpfSxfY2xvc2VQcmVyZXFDb250YWluZXI6ZnVuY3Rpb24oKXt0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInJldmVyc2Ugb3V0IikuYWRkQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpLnJlbW92ZUF0dHIoInN0eWxlIil9LF9jbG9zZVByZXJlcXNEb25lOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zO3RoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVBdHRyKCJ0YWJpbmRleCIpLGEubW9iaWxlLnBvcHVwLmFjdGl2ZT1kLHRoaXMuX3RyaWdnZXIoImFmdGVyY2xvc2UiKX0sX2Nsb3NlOmZ1bmN0aW9uKGIpe3RoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktcG9wdXAtYWN0aXZlIiksdGhpcy5fcGFnZS5yZW1vdmVDbGFzcygidWktcG9wdXAtb3BlbiIpLHRoaXMuX2lzT3Blbj0hMSx0aGlzLl9jcmVhdGVQcmVyZXFzKGEucHJveHkodGhpcywiX2Nsb3NlUHJlcmVxU2NyZWVuIiksYS5wcm94eSh0aGlzLCJfY2xvc2VQcmVyZXFDb250YWluZXIiKSxhLnByb3h5KHRoaXMsIl9jbG9zZVByZXJlcXNEb25lIikpLHRoaXMuX2FuaW1hdGUoe2FkZGl0aW9uYWxDb25kaXRpb246dGhpcy5fdWkuc2NyZWVuLmhhc0NsYXNzKCJpbiIpLHRyYW5zaXRpb246Yj8ibm9uZSI6dGhpcy5fY3VycmVudFRyYW5zaXRpb24sY2xhc3NUb1JlbW92ZToiaW4iLHNjcmVlbkNsYXNzVG9BZGQ6Im91dCIsY29udGFpbmVyQ2xhc3NUb0FkZDoicmV2ZXJzZSBvdXQiLGFwcGx5VHJhbnNpdGlvbjohMCxwcmVyZXFzOnRoaXMuX3ByZXJlcXN9KX0sX3VuZW5oYW5jZTpmdW5jdGlvbigpe3RoaXMuX3NldFRoZW1lKCJub25lIiksdGhpcy5lbGVtZW50LmRldGFjaCgpLmluc2VydEFmdGVyKHRoaXMuX3VpLnBsYWNlaG9sZGVyKS5yZW1vdmVDbGFzcygidWktcG9wdXAgdWktb3ZlcmxheS1zaGFkb3cgdWktY29ybmVyLWFsbCIpLHRoaXMuX3VpLnNjcmVlbi5yZW1vdmUoKSx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlKCksdGhpcy5fdWkucGxhY2Vob2xkZXIucmVtb3ZlKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7YS5tb2JpbGUucG9wdXAuYWN0aXZlPT09dGhpcz8odGhpcy5lbGVtZW50Lm9uZSgicG9wdXBhZnRlcmNsb3NlIixhLnByb3h5KHRoaXMsIl91bmVuaGFuY2UiKSksdGhpcy5jbG9zZSgpKTp0aGlzLl91bmVuaGFuY2UoKX0sX2Nsb3NlUG9wdXA6ZnVuY3Rpb24oYyxkKXt2YXIgZSxmLGc9dGhpcy5vcHRpb25zLGg9ITE7Yi5zY3JvbGxUbygwLHRoaXMuX3Njcm9sbFRvcCksYyYmYy50eXBlPT09InBhZ2ViZWZvcmVjaGFuZ2UiJiZkJiYodHlwZW9mIGQudG9QYWdlPT0ic3RyaW5nIj9lPWQudG9QYWdlOmU9ZC50b1BhZ2UuanFtRGF0YSgidXJsIiksZT1hLm1vYmlsZS5wYXRoLnBhcnNlVXJsKGUpLGY9ZS5wYXRobmFtZStlLnNlYXJjaCtlLmhhc2gsdGhpcy5fbXlVcmwhPT1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShmKT9oPSEwOmMucHJldmVudERlZmF1bHQoKSksZy5jb250YWluZXIudW5iaW5kKGcuY2xvc2VFdmVudHMpLHRoaXMuZWxlbWVudC51bmRlbGVnYXRlKGcuY2xvc2VMaW5rU2VsZWN0b3IsZy5jbG9zZUxpbmtFdmVudHMpLHRoaXMuX2Nsb3NlKGgpfSxfYmluZENvbnRhaW5lckNsb3NlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmNvbnRhaW5lci5vbmUodGhpcy5vcHRpb25zLmNsb3NlRXZlbnRzLGEucHJveHkodGhpcywiX2Nsb3NlUG9wdXAiKSl9LG9wZW46ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcyxlPXRoaXMub3B0aW9ucyxmLGcsaCxpLGosaztpZihhLm1vYmlsZS5wb3B1cC5hY3RpdmUpcmV0dXJuO2EubW9iaWxlLnBvcHVwLmFjdGl2ZT10aGlzLHRoaXMuX3Njcm9sbFRvcD1hLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCk7aWYoIWUuaGlzdG9yeSl7ZC5fb3BlbihjKSxkLl9iaW5kQ29udGFpbmVyQ2xvc2UoKSxkLmVsZW1lbnQuZGVsZWdhdGUoZS5jbG9zZUxpbmtTZWxlY3RvcixlLmNsb3NlTGlua0V2ZW50cyxmdW5jdGlvbihhKXtkLmNsb3NlKCksYS5wcmV2ZW50RGVmYXVsdCgpfSk7cmV0dXJufWs9YS5tb2JpbGUudXJsSGlzdG9yeSxnPWEubW9iaWxlLmRpYWxvZ0hhc2hLZXksaD1hLm1vYmlsZS5hY3RpdmVQYWdlLGk9aC5pcygiLnVpLWRpYWxvZyIpLHRoaXMuX215VXJsPWY9ay5nZXRBY3RpdmUoKS51cmwsaj1mLmluZGV4T2YoZyk+LTEmJiFpJiZrLmFjdGl2ZUluZGV4PjA7aWYoail7ZC5fb3BlbihjKSxkLl9iaW5kQ29udGFpbmVyQ2xvc2UoKTtyZXR1cm59Zi5pbmRleE9mKGcpPT09LTEmJiFpP2Y9ZisoZi5pbmRleE9mKCIjIik+LTE/ZzoiIyIrZyk6Zj1hLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKS5oYXNoK2csay5hY3RpdmVJbmRleD09PTAmJmY9PT1rLmluaXRpYWxEc3QmJihmKz1nKSxhKGIpLm9uZSgiYmVmb3JlbmF2aWdhdGUiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxkLl9vcGVuKGMpLGQuX2JpbmRDb250YWluZXJDbG9zZSgpfSksdGhpcy51cmxBbHRlcmVkPSEwLGEubW9iaWxlLm5hdmlnYXRlKGYse3JvbGU6ImRpYWxvZyJ9KX0sY2xvc2U6ZnVuY3Rpb24oKXtpZihhLm1vYmlsZS5wb3B1cC5hY3RpdmUhPT10aGlzKXJldHVybjt0aGlzLl9zY3JvbGxUb3A9YS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpLHRoaXMub3B0aW9ucy5oaXN0b3J5JiZ0aGlzLnVybEFsdGVyZWQ/KGEubW9iaWxlLmJhY2soKSx0aGlzLnVybEFsdGVyZWQ9ITEpOnRoaXMuX2Nsb3NlUG9wdXAoKX19KSxhLm1vYmlsZS5wb3B1cC5oYW5kbGVMaW5rPWZ1bmN0aW9uKGIpe3ZhciBjPWIuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0ncGFnZScpIiksZD1jLmxlbmd0aD09PTA/YSgiYm9keSIpOmMsZT1hKGEubW9iaWxlLnBhdGgucGFyc2VVcmwoYi5hdHRyKCJocmVmIikpLmhhc2gsZFswXSksZjtlLmRhdGEoIm1vYmlsZS1wb3B1cCIpJiYoZj1iLm9mZnNldCgpLGUucG9wdXAoIm9wZW4iLHt4OmYubGVmdCtiLm91dGVyV2lkdGgoKS8yLHk6Zi50b3ArYi5vdXRlckhlaWdodCgpLzIsdHJhbnNpdGlvbjpiLmpxbURhdGEoInRyYW5zaXRpb24iKSxwb3NpdGlvblRvOmIuanFtRGF0YSgicG9zaXRpb24tdG8iKX0pKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGM9Yi5wYXJlbnQoKS5wYXJlbnQoKTtjLmhhc0NsYXNzKCJ1aS1saSIpJiYoYj1jLnBhcmVudCgpKSxiLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0sMzAwKX0sYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWJlZm9yZWNoYW5nZSIsZnVuY3Rpb24oYixjKXtjLm9wdGlvbnMucm9sZT09PSJwb3B1cCImJihhLm1vYmlsZS5wb3B1cC5oYW5kbGVMaW5rKGMub3B0aW9ucy5saW5rKSxiLnByZXZlbnREZWZhdWx0KCkpfSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLnBvcHVwLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0LCEwKX0pfShhKSxmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KCJtb2JpbGUucGFuZWwiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7Y2xhc3Nlczp7cGFuZWw6InVpLXBhbmVsIixwYW5lbE9wZW46InVpLXBhbmVsLW9wZW4iLHBhbmVsQ2xvc2VkOiJ1aS1wYW5lbC1jbG9zZWQiLHBhbmVsRml4ZWQ6InVpLXBhbmVsLWZpeGVkIixwYW5lbElubmVyOiJ1aS1wYW5lbC1pbm5lciIsbW9kYWw6InVpLXBhbmVsLWRpc21pc3MiLG1vZGFsT3BlbjoidWktcGFuZWwtZGlzbWlzcy1vcGVuIixwYWdlUGFuZWw6InVpLXBhZ2UtcGFuZWwiLHBhZ2VQYW5lbE9wZW46InVpLXBhZ2UtcGFuZWwtb3BlbiIsY29udGVudFdyYXA6InVpLXBhbmVsLWNvbnRlbnQtd3JhcCIsY29udGVudFdyYXBPcGVuOiJ1aS1wYW5lbC1jb250ZW50LXdyYXAtb3BlbiIsY29udGVudFdyYXBDbG9zZWQ6InVpLXBhbmVsLWNvbnRlbnQtd3JhcC1jbG9zZWQiLGNvbnRlbnRGaXhlZFRvb2xiYXI6InVpLXBhbmVsLWNvbnRlbnQtZml4ZWQtdG9vbGJhciIsY29udGVudEZpeGVkVG9vbGJhck9wZW46InVpLXBhbmVsLWNvbnRlbnQtZml4ZWQtdG9vbGJhci1vcGVuIixjb250ZW50Rml4ZWRUb29sYmFyQ2xvc2VkOiJ1aS1wYW5lbC1jb250ZW50LWZpeGVkLXRvb2xiYXItY2xvc2VkIixhbmltYXRlOiJ1aS1wYW5lbC1hbmltYXRlIn0sYW5pbWF0ZTohMCx0aGVtZToiYyIscG9zaXRpb246ImxlZnQiLGRpc21pc3NpYmxlOiEwLGRpc3BsYXk6InJldmVhbCIsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdwYW5lbCcpIixzd2lwZUNsb3NlOiEwLHBvc2l0aW9uRml4ZWQ6ITF9LF9wYW5lbElEOm51bGwsX2Nsb3NlTGluazpudWxsLF9wYWdlOm51bGwsX21vZGFsOm51bGwsX3Bhbm5lbElubmVyOm51bGwsX3dyYXBwZXI6bnVsbCxfZml4ZWRUb29sYmFyOm51bGwsX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1iLmVsZW1lbnQsZD1jLmNsb3Nlc3QoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIpLGU9ZnVuY3Rpb24oKXt2YXIgYj1hLmRhdGEoZFswXSwibW9iaWxlUGFnZSIpLm9wdGlvbnMudGhlbWUsYz0idWktYm9keS0iK2I7cmV0dXJuIGN9LGY9ZnVuY3Rpb24oKXt2YXIgYT1jLmZpbmQoIi4iK2Iub3B0aW9ucy5jbGFzc2VzLnBhbmVsSW5uZXIpO3JldHVybiBhLmxlbmd0aD09PTAmJihhPWMuY2hpbGRyZW4oKS53cmFwQWxsKCc8ZGl2IGNsYXNzPSInK2Iub3B0aW9ucy5jbGFzc2VzLnBhbmVsSW5uZXIrJyIgLz4nKS5wYXJlbnQoKSksYX0sZz1mdW5jdGlvbigpe3ZhciBjPWQuZmluZCgiLiIrYi5vcHRpb25zLmNsYXNzZXMuY29udGVudFdyYXApO3JldHVybiBjLmxlbmd0aD09PTAmJihjPWQuY2hpbGRyZW4oIi51aS1oZWFkZXI6bm90KDpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpKSwgLnVpLWNvbnRlbnQ6bm90KDpqcW1EYXRhKHJvbGU9J3BvcHVwJykpLCAudWktZm9vdGVyOm5vdCg6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSkiKS53cmFwQWxsKCc8ZGl2IGNsYXNzPSInK2Iub3B0aW9ucy5jbGFzc2VzLmNvbnRlbnRXcmFwKyIgIitlKCkrJyIgLz4nKS5wYXJlbnQoKSxhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJiEhYi5vcHRpb25zLmFuaW1hdGUmJmMuYWRkQ2xhc3MoYi5vcHRpb25zLmNsYXNzZXMuYW5pbWF0ZSkpLGN9LGg9ZnVuY3Rpb24oKXt2YXIgYz1kLmZpbmQoIi4iK2Iub3B0aW9ucy5jbGFzc2VzLmNvbnRlbnRGaXhlZFRvb2xiYXIpO3JldHVybiBjLmxlbmd0aD09PTAmJihjPWQuZmluZCgiLnVpLWhlYWRlcjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpLCAudWktZm9vdGVyOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiKS5hZGRDbGFzcyhiLm9wdGlvbnMuY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyKSxhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJiEhYi5vcHRpb25zLmFuaW1hdGUmJmMuYWRkQ2xhc3MoYi5vcHRpb25zLmNsYXNzZXMuYW5pbWF0ZSkpLGN9O2EuZXh0ZW5kKHRoaXMse19wYW5lbElEOmMuYXR0cigiaWQiKSxfY2xvc2VMaW5rOmMuZmluZCgiOmpxbURhdGEocmVsPSdjbG9zZScpIiksX3BhZ2U6Yy5jbG9zZXN0KCI6anFtRGF0YShyb2xlPSdwYWdlJykiKSxfcGFnZVRoZW1lOmUoKSxfcGFubmVsSW5uZXI6ZigpLF93cmFwcGVyOmcoKSxfZml4ZWRUb29sYmFyOmgoKX0pLGIuX2FkZFBhbmVsQ2xhc3NlcygpLGIuX3dyYXBwZXIuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMuY29udGVudFdyYXBDbG9zZWQpLGIuX2ZpeGVkVG9vbGJhci5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyQ2xvc2VkKSxiLl9wYWdlLmFkZENsYXNzKGIub3B0aW9ucy5jbGFzc2VzLnBhZ2VQYW5lbCksYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiYhIWIub3B0aW9ucy5hbmltYXRlJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoYi5vcHRpb25zLmNsYXNzZXMuYW5pbWF0ZSksYi5fYmluZFVwZGF0ZUxheW91dCgpLGIuX2JpbmRDbG9zZUV2ZW50cygpLGIuX2JpbmRMaW5rTGlzdGVuZXJzKCksYi5fYmluZFBhZ2VFdmVudHMoKSwhYi5vcHRpb25zLmRpc21pc3NpYmxlfHxiLl9jcmVhdGVNb2RhbCgpLGIuX2JpbmRTd2lwZUV2ZW50cygpfSxfY3JlYXRlTW9kYWw6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcztjLl9tb2RhbD1hKCI8ZGl2IGNsYXNzPSciK2Mub3B0aW9ucy5jbGFzc2VzLm1vZGFsKyInIGRhdGEtcGFuZWxpZD0nIitjLl9wYW5lbElEKyInPjwvZGl2PiIpLm9uKCJtb3VzZWRvd24iLGZ1bmN0aW9uKCl7Yy5jbG9zZSgpfSkuYXBwZW5kVG8odGhpcy5fcGFnZSl9LF9nZXRQb3NEaXNwbGF5Q2xhc3NlczpmdW5jdGlvbihhKXtyZXR1cm4gYSsiLXBvc2l0aW9uLSIrdGhpcy5vcHRpb25zLnBvc2l0aW9uKyIgIithKyItZGlzcGxheS0iK3RoaXMub3B0aW9ucy5kaXNwbGF5fSxfZ2V0UGFuZWxDbGFzc2VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWwrIiAiK3RoaXMuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsKSsiICIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxDbG9zZWQ7cmV0dXJuIHRoaXMub3B0aW9ucy50aGVtZSYmKGErPSIgdWktYm9keS0iK3RoaXMub3B0aW9ucy50aGVtZSksIXRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkfHwoYSs9IiAiK3RoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsRml4ZWQpLGF9LF9hZGRQYW5lbENsYXNzZXM6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5fZ2V0UGFuZWxDbGFzc2VzKCkpfSxfYmluZENsb3NlRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLl9jbG9zZUxpbmsub24oImNsaWNrLnBhbmVsIixmdW5jdGlvbihiKXtyZXR1cm4gYi5wcmV2ZW50RGVmYXVsdCgpLGEuY2xvc2UoKSwhMX0pLGEuZWxlbWVudC5vbigiY2xpY2sucGFuZWwiLCJhOmpxbURhdGEoYWpheD0nZmFsc2UnKSIsZnVuY3Rpb24oYil7YS5jbG9zZSgpfSl9LF9wb3NpdGlvblBhbmVsOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWIuX3Bhbm5lbElubmVyLm91dGVySGVpZ2h0KCksZD1jPmEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpO2R8fCFiLm9wdGlvbnMucG9zaXRpb25GaXhlZD8oZCYmKGIuX3VuZml4UGFuZWwoKSxhLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoYykpLGIuX3Njcm9sbEludG9WaWV3KGMpKTpiLl9maXhQYW5lbCgpfSxfc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oYyl7YzxhKGIpLnNjcm9sbFRvcCgpJiZiLnNjcm9sbFRvKDAsMCl9LF9iaW5kRml4TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLl9vbihhKGIpLHt0aHJvdHRsZWRyZXNpemU6Il9wb3NpdGlvblBhbmVsIn0pfSxfdW5iaW5kRml4TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLl9vZmYoYShiKSwidGhyb3R0bGVkcmVzaXplIil9LF91bmZpeFBhbmVsOmZ1bmN0aW9uKCl7ISF0aGlzLm9wdGlvbnMucG9zaXRpb25GaXhlZCYmYS5zdXBwb3J0LmZpeGVkUG9zaXRpb24mJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbEZpeGVkKX0sX2ZpeFBhbmVsOmZ1bmN0aW9uKCl7ISF0aGlzLm9wdGlvbnMucG9zaXRpb25GaXhlZCYmYS5zdXBwb3J0LmZpeGVkUG9zaXRpb24mJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbEZpeGVkKX0sX2JpbmRVcGRhdGVMYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuZWxlbWVudC5vbigidXBkYXRlbGF5b3V0IixmdW5jdGlvbihiKXthLl9vcGVuJiZhLl9wb3NpdGlvblBhbmVsKCl9KX0sX2JpbmRMaW5rTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcztiLl9wYWdlLm9uKCJjbGljay5wYW5lbCIsImEiLGZ1bmN0aW9uKGMpe2lmKHRoaXMuaHJlZi5zcGxpdCgiIyIpWzFdPT09Yi5fcGFuZWxJRCYmYi5fcGFuZWxJRCE9PWQpe2MucHJldmVudERlZmF1bHQoKTt2YXIgZT1hKHRoaXMpO3JldHVybiBlLmhhc0NsYXNzKCJ1aS1saW5rIil8fChlLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxiLmVsZW1lbnQub25lKCJwYW5lbG9wZW4gcGFuZWxjbG9zZSIsZnVuY3Rpb24oKXtlLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pKSxiLnRvZ2dsZSgpLCExfX0pfSxfYmluZFN3aXBlRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuX21vZGFsP2EuZWxlbWVudC5hZGQoYS5fbW9kYWwpOmEuZWxlbWVudDshYS5vcHRpb25zLnN3aXBlQ2xvc2V8fChhLm9wdGlvbnMucG9zaXRpb249PT0ibGVmdCI/Yi5vbigic3dpcGVsZWZ0LnBhbmVsIixmdW5jdGlvbihiKXthLmNsb3NlKCl9KTpiLm9uKCJzd2lwZXJpZ2h0LnBhbmVsIixmdW5jdGlvbihiKXthLmNsb3NlKCl9KSl9LF9iaW5kUGFnZUV2ZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5fcGFnZS5vbigicGFuZWxiZWZvcmVvcGVuIixmdW5jdGlvbihiKXthLl9vcGVuJiZiLnRhcmdldCE9PWEuZWxlbWVudFswXSYmYS5jbG9zZSgpfSkub24oInBhZ2VoaWRlIixmdW5jdGlvbihiKXthLl9vcGVuJiZhLmNsb3NlKCEwKX0pLm9uKCJrZXl1cC5wYW5lbCIsZnVuY3Rpb24oYil7Yi5rZXlDb2RlPT09MjcmJmEuX29wZW4mJmEuY2xvc2UoKX0pfSxfb3BlbjohMSxfY29udGVudFdyYXBPcGVuQ2xhc3NlczpudWxsLF9maXhlZFRvb2xiYXJPcGVuQ2xhc3NlczpudWxsLF9tb2RhbE9wZW5DbGFzc2VzOm51bGwsb3BlbjpmdW5jdGlvbihiKXtpZighdGhpcy5fb3Blbil7dmFyIGM9dGhpcyxkPWMub3B0aW9ucyxlPWZ1bmN0aW9uKCl7Yy5fcGFnZS5vZmYoInBhbmVsY2xvc2UiKSxjLl9wYWdlLmpxbURhdGEoInBhbmVsIiwib3BlbiIpLCFiJiZhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJiEhZC5hbmltYXRlP2MuZWxlbWVudC5hZGQoYy5fd3JhcHBlcikub24oYy5fdHJhbnNpdGlvbkVuZEV2ZW50cyxmKTpzZXRUaW1lb3V0KGYsMCksYy5vcHRpb25zLnRoZW1lJiZjLm9wdGlvbnMuZGlzcGxheSE9PSJvdmVybGF5IiYmYy5fcGFnZS5yZW1vdmVDbGFzcyhjLl9wYWdlVGhlbWUpLmFkZENsYXNzKCJ1aS1ib2R5LSIrYy5vcHRpb25zLnRoZW1lKSxjLmVsZW1lbnQucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLnBhbmVsQ2xvc2VkKS5hZGRDbGFzcyhkLmNsYXNzZXMucGFuZWxPcGVuKSxjLl9jb250ZW50V3JhcE9wZW5DbGFzc2VzPWMuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKGQuY2xhc3Nlcy5jb250ZW50V3JhcCksYy5fd3JhcHBlci5yZW1vdmVDbGFzcyhkLmNsYXNzZXMuY29udGVudFdyYXBDbG9zZWQpLmFkZENsYXNzKGMuX2NvbnRlbnRXcmFwT3BlbkNsYXNzZXMrIiAiK2QuY2xhc3Nlcy5jb250ZW50V3JhcE9wZW4pLGMuX2ZpeGVkVG9vbGJhck9wZW5DbGFzc2VzPWMuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKGQuY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyKSxjLl9maXhlZFRvb2xiYXIucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLmNvbnRlbnRGaXhlZFRvb2xiYXJDbG9zZWQpLmFkZENsYXNzKGMuX2ZpeGVkVG9vbGJhck9wZW5DbGFzc2VzKyIgIitkLmNsYXNzZXMuY29udGVudEZpeGVkVG9vbGJhck9wZW4pLGMuX21vZGFsT3BlbkNsYXNzZXM9Yy5fZ2V0UG9zRGlzcGxheUNsYXNzZXMoZC5jbGFzc2VzLm1vZGFsKSsiICIrZC5jbGFzc2VzLm1vZGFsT3BlbixjLl9tb2RhbCYmYy5fbW9kYWwuYWRkQ2xhc3MoYy5fbW9kYWxPcGVuQ2xhc3Nlcyl9LGY9ZnVuY3Rpb24oKXtjLmVsZW1lbnQuYWRkKGMuX3dyYXBwZXIpLm9mZihjLl90cmFuc2l0aW9uRW5kRXZlbnRzLGYpLGMuX3BhZ2UuYWRkQ2xhc3MoZC5jbGFzc2VzLnBhZ2VQYW5lbE9wZW4pLGMuX3Bvc2l0aW9uUGFuZWwoKSxjLl9iaW5kRml4TGlzdGVuZXIoKSxjLl90cmlnZ2VyKCJvcGVuIil9O3RoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZS1hY3RpdmUiKS5sZW5ndGg8MCYmKGI9ITApLGMuX3RyaWdnZXIoImJlZm9yZW9wZW4iKSxjLl9wYWdlLmpxbURhdGEoInBhbmVsIik9PT0ib3BlbiI/Yy5fcGFnZS5vbigicGFuZWxjbG9zZSIsZnVuY3Rpb24oKXtlKCl9KTplKCksYy5fb3Blbj0hMH19LGNsb3NlOmZ1bmN0aW9uKGIpe2lmKHRoaXMuX29wZW4pe3ZhciBjPXRoaXMub3B0aW9ucyxkPXRoaXMsZT1mdW5jdGlvbigpeyFiJiZhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJiEhYy5hbmltYXRlP2QuZWxlbWVudC5hZGQoZC5fd3JhcHBlcikub24oZC5fdHJhbnNpdGlvbkVuZEV2ZW50cyxmKTpzZXRUaW1lb3V0KGYsMCksZC5fcGFnZS5yZW1vdmVDbGFzcyhjLmNsYXNzZXMucGFnZVBhbmVsT3BlbiksZC5lbGVtZW50LnJlbW92ZUNsYXNzKGMuY2xhc3Nlcy5wYW5lbE9wZW4pLGQuX3dyYXBwZXIucmVtb3ZlQ2xhc3MoYy5jbGFzc2VzLmNvbnRlbnRXcmFwT3BlbiksZC5fZml4ZWRUb29sYmFyLnJlbW92ZUNsYXNzKGMuY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyT3BlbiksZC5fbW9kYWwmJmQuX21vZGFsLnJlbW92ZUNsYXNzKGQuX21vZGFsT3BlbkNsYXNzZXMpfSxmPWZ1bmN0aW9uKCl7ZC5vcHRpb25zLnRoZW1lJiZkLm9wdGlvbnMuZGlzcGxheSE9PSJvdmVybGF5IiYmZC5fcGFnZS5yZW1vdmVDbGFzcygidWktYm9keS0iK2Qub3B0aW9ucy50aGVtZSkuYWRkQ2xhc3MoZC5fcGFnZVRoZW1lKSxkLmVsZW1lbnQuYWRkKGQuX3dyYXBwZXIpLm9mZihkLl90cmFuc2l0aW9uRW5kRXZlbnRzLGYpLGQuZWxlbWVudC5hZGRDbGFzcyhjLmNsYXNzZXMucGFuZWxDbG9zZWQpLGQuX3dyYXBwZXIucmVtb3ZlQ2xhc3MoZC5fY29udGVudFdyYXBPcGVuQ2xhc3NlcykuYWRkQ2xhc3MoYy5jbGFzc2VzLmNvbnRlbnRXcmFwQ2xvc2VkKSxkLl9maXhlZFRvb2xiYXIucmVtb3ZlQ2xhc3MoZC5fZml4ZWRUb29sYmFyT3BlbkNsYXNzZXMpLmFkZENsYXNzKGMuY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyQ2xvc2VkKSxkLl9maXhQYW5lbCgpLGQuX3VuYmluZEZpeExpc3RlbmVyKCksYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KCksZC5fcGFnZS5qcW1SZW1vdmVEYXRhKCJwYW5lbCIpLGQuX3RyaWdnZXIoImNsb3NlIil9O3RoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZS1hY3RpdmUiKS5sZW5ndGg8MCYmKGI9ITApLGQuX3RyaWdnZXIoImJlZm9yZWNsb3NlIiksZSgpLGQuX29wZW49ITF9fSx0b2dnbGU6ZnVuY3Rpb24oYSl7dGhpc1t0aGlzLl9vcGVuPyJjbG9zZSI6Im9wZW4iXSgpfSxfdHJhbnNpdGlvbkVuZEV2ZW50czoid2Via2l0VHJhbnNpdGlvbkVuZCBvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCB0cmFuc2l0aW9uZW5kIG1zVHJhbnNpdGlvbkVuZCIsX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMuY2xhc3NlcyxjPXRoaXMub3B0aW9ucy50aGVtZSxkPXRoaXMuZWxlbWVudC5zaWJsaW5ncygiLiIrYi5wYW5lbCkubGVuZ3RoO2Q/dGhpcy5fb3BlbiYmKHRoaXMuX3dyYXBwZXIucmVtb3ZlQ2xhc3MoYi5jb250ZW50V3JhcE9wZW4pLHRoaXMuX2ZpeGVkVG9vbGJhci5yZW1vdmVDbGFzcyhiLmNvbnRlbnRGaXhlZFRvb2xiYXJPcGVuKSx0aGlzLl9wYWdlLmpxbVJlbW92ZURhdGEoInBhbmVsIiksdGhpcy5fcGFnZS5yZW1vdmVDbGFzcyhiLnBhZ2VQYW5lbE9wZW4pLGMmJnRoaXMuX3BhZ2UucmVtb3ZlQ2xhc3MoInVpLWJvZHktIitjKS5hZGRDbGFzcyh0aGlzLl9wYWdlVGhlbWUpKToodGhpcy5fd3JhcHBlci5jaGlsZHJlbigpLnVud3JhcCgpLHRoaXMuX3BhZ2UuZmluZCgiYSIpLnVuYmluZCgicGFuZWxvcGVuIHBhbmVsY2xvc2UiKSx0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKGIucGFnZVBhbmVsKSx0aGlzLl9vcGVuJiYodGhpcy5fcGFnZS5qcW1SZW1vdmVEYXRhKCJwYW5lbCIpLHRoaXMuX3BhZ2UucmVtb3ZlQ2xhc3MoYi5wYWdlUGFuZWxPcGVuKSxjJiZ0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKCJ1aS1ib2R5LSIrYykuYWRkQ2xhc3ModGhpcy5fcGFnZVRoZW1lKSxhLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoKSkpLHRoaXMuX3Bhbm5lbElubmVyLmNoaWxkcmVuKCkudW53cmFwKCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFt0aGlzLl9nZXRQYW5lbENsYXNzZXMoKSxiLnBhbmVsQW5pbWF0ZV0uam9pbigiICIpKS5vZmYoInN3aXBlbGVmdC5wYW5lbCBzd2lwZXJpZ2h0LnBhbmVsIikub2ZmKCJwYW5lbGJlZm9yZW9wZW4iKS5vZmYoInBhbmVsaGlkZSIpLm9mZigia2V5dXAucGFuZWwiKS5vZmYoInVwZGF0ZWxheW91dCIpLHRoaXMuX2Nsb3NlTGluay5vZmYoImNsaWNrLnBhbmVsIiksdGhpcy5fbW9kYWwmJnRoaXMuX21vZGFsLnJlbW92ZSgpLHRoaXMuZWxlbWVudC5vZmYodGhpcy5fdHJhbnNpdGlvbkVuZEV2ZW50cykucmVtb3ZlQ2xhc3MoW2IucGFuZWxVbmZpeGVkLGIucGFuZWxDbG9zZWQsYi5wYW5lbE9wZW5dLmpvaW4oIiAiKSl9fSksYShjKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUucGFuZWwucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS50YWJsZSIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntjbGFzc2VzOnt0YWJsZToidWktdGFibGUifSxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J3RhYmxlJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPXRoaXMuZWxlbWVudC5maW5kKCJ0aGVhZCB0ciIpO3RoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy50YWJsZSksYi5oZWFkZXJzPXRoaXMuZWxlbWVudC5maW5kKCJ0cjplcSgwKSIpLmNoaWxkcmVuKCksYi5hbGxIZWFkZXJzPWIuaGVhZGVycy5hZGQoYy5jaGlsZHJlbigpKSxjLmVhY2goZnVuY3Rpb24oKXt2YXIgZD0wO2EodGhpcykuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKGUpe3ZhciBmPXBhcnNlSW50KGEodGhpcykuYXR0cigiY29sc3BhbiIpLDEwKSxnPSI6bnRoLWNoaWxkKCIrKGQrMSkrIikiO2EodGhpcykuanFtRGF0YSgiY29sc3RhcnQiLGQrMSk7aWYoZilmb3IodmFyIGg9MDtoPGYtMTtoKyspZCsrLGcrPSIsIDpudGgtY2hpbGQoIisoZCsxKSsiKSI7YSh0aGlzKS5qcW1EYXRhKCJjZWxscyIsYi5lbGVtZW50LmZpbmQoInRyIikubm90KGMuZXEoMCkpLm5vdCh0aGlzKS5jaGlsZHJlbihnKSksZCsrfSl9KX19KSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUudGFibGUucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMubW9kZT0iY29sdW1udG9nZ2xlIixhLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jb2x1bW5CdG5UaGVtZT1udWxsLGEubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNvbHVtblBvcHVwVGhlbWU9bnVsbCxhLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jb2x1bW5CdG5UZXh0PSJDb2x1bW5zLi4uIixhLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jbGFzc2VzPWEuZXh0ZW5kKGEubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNsYXNzZXMse3BvcHVwOiJ1aS10YWJsZS1jb2x1bW50b2dnbGUtcG9wdXAiLGNvbHVtbkJ0bjoidWktdGFibGUtY29sdW1udG9nZ2xlLWJ0biIscHJpb3JpdHlQcmVmaXg6InVpLXRhYmxlLXByaW9yaXR5LSIsY29sdW1uVG9nZ2xlVGFibGU6InVpLXRhYmxlLWNvbHVtbnRvZ2dsZSJ9KSxhLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgiOmpxbURhdGEocm9sZT0ndGFibGUnKSIsInRhYmxlY3JlYXRlIixmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksYz1iLmRhdGEoIm1vYmlsZS10YWJsZSIpLGQ9Yy5vcHRpb25zLGU9YS5tb2JpbGUubnM7aWYoZC5tb2RlIT09ImNvbHVtbnRvZ2dsZSIpcmV0dXJuO2MuZWxlbWVudC5hZGRDbGFzcyhkLmNsYXNzZXMuY29sdW1uVG9nZ2xlVGFibGUpO3ZhciBmPShiLmF0dHIoImlkIil8fGQuY2xhc3Nlcy5wb3B1cCkrIi1wb3B1cCIsZz1hKCI8YSBocmVmPScjIitmKyInIGNsYXNzPSciK2QuY2xhc3Nlcy5jb2x1bW5CdG4rIicgZGF0YS0iK2UrInJlbD0ncG9wdXAnIGRhdGEtIitlKyJtaW5pPSd0cnVlJz4iK2QuY29sdW1uQnRuVGV4dCsiPC9hPiIpLGg9YSgiPGRpdiBkYXRhLSIrZSsicm9sZT0ncG9wdXAnIGRhdGEtIitlKyJyb2xlPSdmaWVsZGNvbnRhaW4nIGNsYXNzPSciK2QuY2xhc3Nlcy5wb3B1cCsiJyBpZD0nIitmKyInPjwvZGl2PiIpLGk9YSgiPGZpZWxkc2V0IGRhdGEtIitlKyJyb2xlPSdjb250cm9sZ3JvdXAnPjwvZmllbGRzZXQ+Iik7Yy5oZWFkZXJzLm5vdCgidGQiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKS5qcW1EYXRhKCJwcmlvcml0eSIpLGM9YSh0aGlzKS5hZGQoYSh0aGlzKS5qcW1EYXRhKCJjZWxscyIpKTtiJiYoYy5hZGRDbGFzcyhkLmNsYXNzZXMucHJpb3JpdHlQcmVmaXgrYiksYSgiPGxhYmVsPjxpbnB1dCB0eXBlPSdjaGVja2JveCcgY2hlY2tlZCAvPiIrYSh0aGlzKS50ZXh0KCkrIjwvbGFiZWw+IikuYXBwZW5kVG8oaSkuY2hpbGRyZW4oMCkuanFtRGF0YSgiY2VsbHMiLGMpLmNoZWNrYm94cmFkaW8oe3RoZW1lOmQuY29sdW1uUG9wdXBUaGVtZX0pKX0pLGkuYXBwZW5kVG8oaCksaS5vbigiY2hhbmdlIiwiaW5wdXQiLGZ1bmN0aW9uKGIpe3RoaXMuY2hlY2tlZD9hKHRoaXMpLmpxbURhdGEoImNlbGxzIikucmVtb3ZlQ2xhc3MoInVpLXRhYmxlLWNlbGwtaGlkZGVuIikuYWRkQ2xhc3MoInVpLXRhYmxlLWNlbGwtdmlzaWJsZSIpOmEodGhpcykuanFtRGF0YSgiY2VsbHMiKS5yZW1vdmVDbGFzcygidWktdGFibGUtY2VsbC12aXNpYmxlIikuYWRkQ2xhc3MoInVpLXRhYmxlLWNlbGwtaGlkZGVuIil9KSxnLmluc2VydEJlZm9yZShiKS5idXR0b25NYXJrdXAoe3RoZW1lOmQuY29sdW1uQnRuVGhlbWV9KSxoLmluc2VydEJlZm9yZShiKS5wb3B1cCgpLGMucmVmcmVzaD1mdW5jdGlvbigpe2kuZmluZCgiaW5wdXQiKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5jaGVja2VkPWEodGhpcykuanFtRGF0YSgiY2VsbHMiKS5lcSgwKS5jc3MoImRpc3BsYXkiKT09PSJ0YWJsZS1jZWxsIixhKHRoaXMpLmNoZWNrYm94cmFkaW8oInJlZnJlc2giKX0pfSxhLm1vYmlsZS53aW5kb3cub24oInRocm90dGxlZHJlc2l6ZSIsYy5yZWZyZXNoKSxjLnJlZnJlc2goKX0pfShhKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLm1vZGU9InJlZmxvdyIsYS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMuY2xhc3Nlcz1hLmV4dGVuZChhLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jbGFzc2VzLHtyZWZsb3dUYWJsZToidWktdGFibGUtcmVmbG93IixjZWxsTGFiZWxzOiJ1aS10YWJsZS1jZWxsLWxhYmVsIn0pLGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCI6anFtRGF0YShyb2xlPSd0YWJsZScpIiwidGFibGVjcmVhdGUiLGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxjPWIuZGF0YSgibW9iaWxlLXRhYmxlIiksZD1jLm9wdGlvbnM7aWYoZC5tb2RlIT09InJlZmxvdyIpcmV0dXJuO2MuZWxlbWVudC5hZGRDbGFzcyhkLmNsYXNzZXMucmVmbG93VGFibGUpO3ZhciBlPWEoYy5hbGxIZWFkZXJzLmdldCgpLnJldmVyc2UoKSk7ZS5lYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPWEodGhpcykuanFtRGF0YSgiY2VsbHMiKSxlPWEodGhpcykuanFtRGF0YSgiY29sc3RhcnQiKSxmPWMubm90KHRoaXMpLmZpbHRlcigidGhlYWQgdGgiKS5sZW5ndGgmJiIgdWktdGFibGUtY2VsbC1sYWJlbC10b3AiLGc9YSh0aGlzKS50ZXh0KCk7aWYoZyE9PSIiKWlmKGYpe3ZhciBoPXBhcnNlSW50KGEodGhpcykuYXR0cigiY29sc3BhbiIpLDEwKSxpPSIiO2gmJihpPSJ0ZDpudGgtY2hpbGQoIitoKyJuICsgIitlKyIpIiksYy5maWx0ZXIoaSkucHJlcGVuZCgiPGIgY2xhc3M9JyIrZC5jbGFzc2VzLmNlbGxMYWJlbHMrZisiJz4iK2crIjwvYj4iKX1lbHNlIGMucHJlcGVuZCgiPGIgY2xhc3M9JyIrZC5jbGFzc2VzLmNlbGxMYWJlbHMrIic+IitnKyI8L2I+Iil9KX0pfShhKSxmdW5jdGlvbihhKXt2YXIgYj1hKCJtZXRhW25hbWU9dmlld3BvcnRdIiksYz1iLmF0dHIoImNvbnRlbnQiKSxkPWMrIixtYXhpbXVtLXNjYWxlPTEsIHVzZXItc2NhbGFibGU9bm8iLGU9YysiLG1heGltdW0tc2NhbGU9MTAsIHVzZXItc2NhbGFibGU9eWVzIixmPS8odXNlci1zY2FsYWJsZVtcc10qPVtcc10qbm8pfChtYXhpbXVtLXNjYWxlW1xzXSo9W1xzXSoxKVskLFxzXS8udGVzdChjKTthLm1vYmlsZS56b29tPWEuZXh0ZW5kKHt9LHtlbmFibGVkOiFmLGxvY2tlZDohMSxkaXNhYmxlOmZ1bmN0aW9uKGMpeyFmJiYhYS5tb2JpbGUuem9vbS5sb2NrZWQmJihiLmF0dHIoImNvbnRlbnQiLGQpLGEubW9iaWxlLnpvb20uZW5hYmxlZD0hMSxhLm1vYmlsZS56b29tLmxvY2tlZD1jfHwhMSl9LGVuYWJsZTpmdW5jdGlvbihjKXshZiYmKCFhLm1vYmlsZS56b29tLmxvY2tlZHx8Yz09PSEwKSYmKGIuYXR0cigiY29udGVudCIsZSksYS5tb2JpbGUuem9vbS5lbmFibGVkPSEwLGEubW9iaWxlLnpvb20ubG9ja2VkPSExKX0scmVzdG9yZTpmdW5jdGlvbigpe2Z8fChiLmF0dHIoImNvbnRlbnQiLGMpLGEubW9iaWxlLnpvb20uZW5hYmxlZD0hMCl9fSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS50ZXh0aW5wdXQiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxtaW5pOiExLHByZXZlbnRGb2N1c1pvb206L2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ndGV4dCddLCBpbnB1dFt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJyksIGlucHV0W3R5cGU9J251bWJlciddLCA6anFtRGF0YSh0eXBlPSdudW1iZXInKSwgaW5wdXRbdHlwZT0ncGFzc3dvcmQnXSwgaW5wdXRbdHlwZT0nZW1haWwnXSwgaW5wdXRbdHlwZT0ndXJsJ10sIGlucHV0W3R5cGU9J3RlbCddLCB0ZXh0YXJlYSwgaW5wdXRbdHlwZT0ndGltZSddLCBpbnB1dFt0eXBlPSdkYXRlJ10sIGlucHV0W3R5cGU9J21vbnRoJ10sIGlucHV0W3R5cGU9J3dlZWsnXSwgaW5wdXRbdHlwZT0nZGF0ZXRpbWUnXSwgaW5wdXRbdHlwZT0nZGF0ZXRpbWUtbG9jYWwnXSwgaW5wdXRbdHlwZT0nY29sb3InXSwgaW5wdXQ6bm90KFt0eXBlXSksIGlucHV0W3R5cGU9J2ZpbGUnXSIsY2xlYXJCdG46ITEsY2xlYXJTZWFyY2hCdXR0b25UZXh0Om51bGwsY2xlYXJCdG5UZXh0OiJjbGVhciB0ZXh0IixkaXNhYmxlZDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe2Z1bmN0aW9uIG8oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ai50b2dnbGVDbGFzcygidWktaW5wdXQtY2xlYXItaGlkZGVuIiwhYy52YWwoKSl9LDApfXZhciBiPXRoaXMsYz10aGlzLmVsZW1lbnQsZD10aGlzLm9wdGlvbnMsZT1kLnRoZW1lfHxhLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQsImMiKSxmPSIgdWktYm9keS0iK2UsZz1kLm1pbmk/IiB1aS1taW5pIjoiIixoPWMuaXMoIlt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKSxpLGosaz1kLmNsZWFyU2VhcmNoQnV0dG9uVGV4dHx8ZC5jbGVhckJ0blRleHQsbD1jLmlzKCJ0ZXh0YXJlYSwgOmpxbURhdGEodHlwZT0ncmFuZ2UnKSIpLG09ISFkLmNsZWFyQnRuJiYhbCxuPWMuaXMoImlucHV0IikmJiFjLmlzKCI6anFtRGF0YSh0eXBlPSdyYW5nZScpIik7YSgibGFiZWxbZm9yPSciK2MuYXR0cigiaWQiKSsiJ10iKS5hZGRDbGFzcygidWktaW5wdXQtdGV4dCIpLGk9Yy5hZGRDbGFzcygidWktaW5wdXQtdGV4dCB1aS1ib2R5LSIrZSksdHlwZW9mIGNbMF0uYXV0b2NvcnJlY3QhPSJ1bmRlZmluZWQiJiYhYS5zdXBwb3J0LnRvdWNoT3ZlcmZsb3cmJihjWzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvcnJlY3QiLCJvZmYiKSxjWzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvbXBsZXRlIiwib2ZmIikpLGg/aT1jLndyYXAoIjxkaXYgY2xhc3M9J3VpLWlucHV0LXNlYXJjaCB1aS1zaGFkb3ctaW5zZXQgdWktYnRuLWNvcm5lci1hbGwgdWktYnRuLXNoYWRvdyB1aS1pY29uLXNlYXJjaGZpZWxkIitmK2crIic+PC9kaXY+IikucGFyZW50KCk6biYmKGk9Yy53cmFwKCI8ZGl2IGNsYXNzPSd1aS1pbnB1dC10ZXh0IHVpLXNoYWRvdy1pbnNldCB1aS1jb3JuZXItYWxsIHVpLWJ0bi1zaGFkb3ciK2YrZysiJz48L2Rpdj4iKS5wYXJlbnQoKSksbXx8aD8oaj1hKCI8YSBocmVmPScjJyBjbGFzcz0ndWktaW5wdXQtY2xlYXInIHRpdGxlPSciK2srIic+IitrKyI8L2E+IikuYmluZCgiY2xpY2siLGZ1bmN0aW9uKGEpe2MudmFsKCIiKS5mb2N1cygpLnRyaWdnZXIoImNoYW5nZSIpLGouYWRkQ2xhc3MoInVpLWlucHV0LWNsZWFyLWhpZGRlbiIpLGEucHJldmVudERlZmF1bHQoKX0pLmFwcGVuZFRvKGkpLmJ1dHRvbk1hcmt1cCh7aWNvbjoiZGVsZXRlIixpY29ucG9zOiJub3RleHQiLGNvcm5lcnM6ITAsc2hhZG93OiEwLG1pbmk6ZC5taW5pfSksaHx8aS5hZGRDbGFzcygidWktaW5wdXQtaGFzLWNsZWFyIiksbygpLGMuYmluZCgicGFzdGUgY3V0IGtleXVwIGlucHV0IGZvY3VzIGNoYW5nZSBibHVyIixvKSk6IW4mJiFoJiZjLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIHVpLXNoYWRvdy1pbnNldCIrZitnKSxjLmZvY3VzKGZ1bmN0aW9uKCl7ZC5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApLGkuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5ibHVyKGZ1bmN0aW9uKCl7aS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKSxkLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0pO2lmKGMuaXMoInRleHRhcmVhIikpe3ZhciBwPTE1LHE9MTAwLHI7dGhpcy5fa2V5dXA9ZnVuY3Rpb24oKXt2YXIgYT1jWzBdLnNjcm9sbEhlaWdodCxiPWNbMF0uY2xpZW50SGVpZ2h0O2I8YSYmYy5oZWlnaHQoYStwKX0sYy5vbigia2V5dXAgY2hhbmdlIGlucHV0IHBhc3RlIixmdW5jdGlvbigpe2NsZWFyVGltZW91dChyKSxyPXNldFRpbWVvdXQoYi5fa2V5dXAscSl9KSx0aGlzLl9vbihhLm1vYmlsZS5kb2N1bWVudCx7cGFnZWNoYW5nZToiX2tleXVwIn0pLGEudHJpbShjLnZhbCgpKSYmdGhpcy5fb24oYS5tb2JpbGUud2luZG93LHtsb2FkOiJfa2V5dXAifSl9Yy5hdHRyKCJkaXNhYmxlZCIpJiZ0aGlzLmRpc2FibGUoKX0sZGlzYWJsZTpmdW5jdGlvbigpe3ZhciBhLGI9dGhpcy5lbGVtZW50LmlzKCJbdHlwZT0nc2VhcmNoJ10sIDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIiksYz10aGlzLmVsZW1lbnQuaXMoImlucHV0IikmJiF0aGlzLmVsZW1lbnQuaXMoIjpqcW1EYXRhKHR5cGU9J3JhbmdlJykiKSxkPXRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITApJiYoY3x8Yik7cmV0dXJuIGQ/YT10aGlzLmVsZW1lbnQucGFyZW50KCk6YT10aGlzLmVsZW1lbnQsYS5hZGRDbGFzcygidWktZGlzYWJsZWQiKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMCl9LGVuYWJsZTpmdW5jdGlvbigpe3ZhciBhLGI9dGhpcy5lbGVtZW50LmlzKCJbdHlwZT0nc2VhcmNoJ10sIDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIiksYz10aGlzLmVsZW1lbnQuaXMoImlucHV0IikmJiF0aGlzLmVsZW1lbnQuaXMoIjpqcW1EYXRhKHR5cGU9J3JhbmdlJykiKSxkPXRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITEpJiYoY3x8Yik7cmV0dXJuIGQ/YT10aGlzLmVsZW1lbnQucGFyZW50KCk6YT10aGlzLmVsZW1lbnQsYS5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMSl9fSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLnRleHRpbnB1dC5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwhMCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXI9ITEsYS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXI9IkZpbHRlciBpdGVtcy4uLiIsYS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyVGhlbWU9ImMiLGEubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlclJldmVhbD0hMTt2YXIgYz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGEudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoYik9PT0tMX07YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2s9YyxhLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgidWwsIG9sIiwibGlzdHZpZXdjcmVhdGUiLGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxkPWIuZGF0YSgibW9iaWxlLWxpc3R2aWV3Iik7aWYoIWQub3B0aW9ucy5maWx0ZXIpcmV0dXJuO2Qub3B0aW9ucy5maWx0ZXJSZXZlYWwmJmIuY2hpbGRyZW4oKS5hZGRDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpO3ZhciBlPWEoIjxmb3JtPiIseyJjbGFzcyI6InVpLWxpc3R2aWV3LWZpbHRlciB1aS1iYXItIitkLm9wdGlvbnMuZmlsdGVyVGhlbWUscm9sZToic2VhcmNoIn0pLnN1Ym1pdChmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksZy5ibHVyKCl9KSxmPWZ1bmN0aW9uKGUpe3ZhciBmPWEodGhpcyksZz10aGlzLnZhbHVlLnRvTG93ZXJDYXNlKCksaD1udWxsLGk9Yi5jaGlsZHJlbigpLGo9Zi5qcW1EYXRhKCJsYXN0dmFsIikrIiIsaz0hMSxsPSIiLG0sbj1kLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2shPT1jO2lmKGomJmo9PT1nKXJldHVybjtkLl90cmlnZ2VyKCJiZWZvcmVmaWx0ZXIiLCJiZWZvcmVmaWx0ZXIiLHtpbnB1dDp0aGlzfSksZi5qcW1EYXRhKCJsYXN0dmFsIixnKSxufHxnLmxlbmd0aDxqLmxlbmd0aHx8Zy5pbmRleE9mKGopIT09MD9oPWIuY2hpbGRyZW4oKTooaD1iLmNoaWxkcmVuKCI6bm90KC51aS1zY3JlZW4taGlkZGVuKSIpLCFoLmxlbmd0aCYmZC5vcHRpb25zLmZpbHRlclJldmVhbCYmKGg9Yi5jaGlsZHJlbigiLnVpLXNjcmVlbi1oaWRkZW4iKSkpO2lmKGcpe2Zvcih2YXIgbz1oLmxlbmd0aC0xO28+PTA7by0tKW09YShoW29dKSxsPW0uanFtRGF0YSgiZmlsdGVydGV4dCIpfHxtLnRleHQoKSxtLmlzKCJsaTpqcW1EYXRhKHJvbGU9bGlzdC1kaXZpZGVyKSIpPyhtLnRvZ2dsZUNsYXNzKCJ1aS1maWx0ZXItaGlkZXF1ZXVlIiwhayksaz0hMSk6ZC5vcHRpb25zLmZpbHRlckNhbGxiYWNrKGwsZyxtKT9tLnRvZ2dsZUNsYXNzKCJ1aS1maWx0ZXItaGlkZXF1ZXVlIiwhMCk6az0hMDtoLmZpbHRlcigiOm5vdCgudWktZmlsdGVyLWhpZGVxdWV1ZSkiKS50b2dnbGVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIsITEpLGguZmlsdGVyKCIudWktZmlsdGVyLWhpZGVxdWV1ZSIpLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiwhMCkudG9nZ2xlQ2xhc3MoInVpLWZpbHRlci1oaWRlcXVldWUiLCExKX1lbHNlIGgudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLCEhZC5vcHRpb25zLmZpbHRlclJldmVhbCk7ZC5fYWRkRmlyc3RMYXN0Q2xhc3NlcyhpLGQuX2dldFZpc2libGVzKGksITEpLCExKX0sZz1hKCI8aW5wdXQ+Iix7cGxhY2Vob2xkZXI6ZC5vcHRpb25zLmZpbHRlclBsYWNlaG9sZGVyfSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0eXBlIiwic2VhcmNoIikuanFtRGF0YSgibGFzdHZhbCIsIiIpLmJpbmQoImtleXVwIGNoYW5nZSBpbnB1dCIsZikuYXBwZW5kVG8oZSkudGV4dGlucHV0KCk7ZC5vcHRpb25zLmluc2V0JiZlLmFkZENsYXNzKCJ1aS1saXN0dmlldy1maWx0ZXItaW5zZXQiKSxlLmJpbmQoInN1Ym1pdCIsZnVuY3Rpb24oKXtyZXR1cm4hMX0pLmluc2VydEJlZm9yZShiKX0pfShhKSxmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KCJtb2JpbGUuc2xpZGVyIixhLm1vYmlsZS53aWRnZXQse3dpZGdldEV2ZW50UHJlZml4OiJzbGlkZSIsb3B0aW9uczp7dGhlbWU6bnVsbCx0cmFja1RoZW1lOm51bGwsZGlzYWJsZWQ6ITEsaW5pdFNlbGVjdG9yOiJpbnB1dFt0eXBlPSdyYW5nZSddLCA6anFtRGF0YSh0eXBlPSdyYW5nZScpLCA6anFtRGF0YShyb2xlPSdzbGlkZXInKSIsbWluaTohMSxoaWdobGlnaHQ6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGY9dGhpcy5lbGVtZW50LGc9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoZiwiYyIpLGg9dGhpcy5vcHRpb25zLnRoZW1lfHxnLGk9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWV8fGcsaj1mWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksaz10aGlzLmlzVG9nZ2xlU3dpdGNoPWo9PT0ic2VsZWN0IixsPWYucGFyZW50KCkuaXMoIjpqcW1EYXRhKHJvbGU9J3Jhbmdlc2xpZGVyJykiKSxtPXRoaXMuaXNUb2dnbGVTd2l0Y2g/InVpLXNsaWRlci1zd2l0Y2giOiIiLG49Zi5hdHRyKCJpZCIpLG89YSgiW2Zvcj0nIituKyInXSIpLHA9by5hdHRyKCJpZCIpfHxuKyItbGFiZWwiLHE9by5hdHRyKCJpZCIscCkscj10aGlzLmlzVG9nZ2xlU3dpdGNoPzA6cGFyc2VGbG9hdChmLmF0dHIoIm1pbiIpKSxzPXRoaXMuaXNUb2dnbGVTd2l0Y2g/Zi5maW5kKCJvcHRpb24iKS5sZW5ndGgtMTpwYXJzZUZsb2F0KGYuYXR0cigibWF4IikpLHQ9Yi5wYXJzZUZsb2F0KGYuYXR0cigic3RlcCIpfHwxKSx1PXRoaXMub3B0aW9ucy5taW5pfHxmLmpxbURhdGEoIm1pbmkiKT8iIHVpLW1pbmkiOiIiLHY9Yy5jcmVhdGVFbGVtZW50KCJhIiksdz1hKHYpLHg9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSx5PWEoeCksej10aGlzLm9wdGlvbnMuaGlnaGxpZ2h0JiYhdGhpcy5pc1RvZ2dsZVN3aXRjaD9mdW5jdGlvbigpe3ZhciBiPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGIuY2xhc3NOYW1lPSJ1aS1zbGlkZXItYmcgIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcysiIHVpLWJ0bi1jb3JuZXItYWxsIixhKGIpLnByZXBlbmRUbyh5KX0oKTohMSxBO3Yuc2V0QXR0cmlidXRlKCJocmVmIiwiIyIpLHguc2V0QXR0cmlidXRlKCJyb2xlIiwiYXBwbGljYXRpb24iKSx4LmNsYXNzTmFtZT1bdGhpcy5pc1RvZ2dsZVN3aXRjaD8idWktc2xpZGVyICI6InVpLXNsaWRlci10cmFjayAiLG0sIiB1aS1idG4tZG93bi0iLGksIiB1aS1idG4tY29ybmVyLWFsbCIsdV0uam9pbigiIiksdi5jbGFzc05hbWU9InVpLXNsaWRlci1oYW5kbGUiLHguYXBwZW5kQ2hpbGQodiksdy5idXR0b25NYXJrdXAoe2Nvcm5lcnM6ITAsdGhlbWU6aCxzaGFkb3c6ITB9KS5hdHRyKHtyb2xlOiJzbGlkZXIiLCJhcmlhLXZhbHVlbWluIjpyLCJhcmlhLXZhbHVlbWF4IjpzLCJhcmlhLXZhbHVlbm93Ijp0aGlzLl92YWx1ZSgpLCJhcmlhLXZhbHVldGV4dCI6dGhpcy5fdmFsdWUoKSx0aXRsZTp0aGlzLl92YWx1ZSgpLCJhcmlhLWxhYmVsbGVkYnkiOnB9KSxhLmV4dGVuZCh0aGlzLHtzbGlkZXI6eSxoYW5kbGU6dyx0eXBlOmosc3RlcDp0LG1heDpzLG1pbjpyLHZhbHVlYmc6eixpc1Jhbmdlc2xpZGVyOmwsZHJhZ2dpbmc6ITEsYmVmb3JlU3RhcnQ6bnVsbCx1c2VyTW9kaWZpZWQ6ITEsbW91c2VNb3ZlZDohMX0pO2lmKHRoaXMuaXNUb2dnbGVTd2l0Y2gpe3ZhciBCPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7Qi5jbGFzc05hbWU9InVpLXNsaWRlci1pbm5lcm9mZnNldCI7Zm9yKHZhciBDPTAsRD14LmNoaWxkTm9kZXMubGVuZ3RoO0M8RDtDKyspQi5hcHBlbmRDaGlsZCh4LmNoaWxkTm9kZXNbQ10pO3guYXBwZW5kQ2hpbGQoQiksdy5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLEE9Zi5maW5kKCJvcHRpb24iKTtmb3IodmFyIEU9MCxGPUEubGVuZ3RoO0U8RjtFKyspe3ZhciBHPUU/ImEiOiJiIixIPUU/IiAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzOiIgdWktYnRuLWRvd24tIitpLEk9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxKPWMuY3JlYXRlRWxlbWVudCgic3BhbiIpO0ouY2xhc3NOYW1lPVsidWktc2xpZGVyLWxhYmVsIHVpLXNsaWRlci1sYWJlbC0iLEcsSCwiIHVpLWJ0bi1jb3JuZXItYWxsIl0uam9pbigiIiksSi5zZXRBdHRyaWJ1dGUoInJvbGUiLCJpbWciKSxKLmFwcGVuZENoaWxkKGMuY3JlYXRlVGV4dE5vZGUoQVtFXS5pbm5lckhUTUwpKSxhKEopLnByZXBlbmRUbyh5KX1lLl9sYWJlbHM9YSgiLnVpLXNsaWRlci1sYWJlbCIseSl9cS5hZGRDbGFzcygidWktc2xpZGVyIiksZi5hZGRDbGFzcyh0aGlzLmlzVG9nZ2xlU3dpdGNoPyJ1aS1zbGlkZXItc3dpdGNoIjoidWktc2xpZGVyLWlucHV0IiksdGhpcy5fb24oZix7Y2hhbmdlOiJfY29udHJvbENoYW5nZSIsa2V5dXA6Il9jb250cm9sS2V5dXAiLGJsdXI6Il9jb250cm9sQmx1ciIsdm1vdXNldXA6Il9jb250cm9sVk1vdXNlVXAifSkseS5iaW5kKCJ2bW91c2Vkb3duIixhLnByb3h5KHRoaXMuX3NsaWRlclZNb3VzZURvd24sdGhpcykpLmJpbmQoInZjbGljayIsITEpLHRoaXMuX29uKGMse3Ztb3VzZW1vdmU6Il9wcmV2ZW50RG9jdW1lbnREcmFnIn0pLHRoaXMuX29uKHkuYWRkKGMpLHt2bW91c2V1cDoiX3NsaWRlclZNb3VzZVVwIn0pLHkuaW5zZXJ0QWZ0ZXIoZik7aWYoIXRoaXMuaXNUb2dnbGVTd2l0Y2gmJiFsKXt2YXIgQj10aGlzLm9wdGlvbnMubWluaT8iPGRpdiBjbGFzcz0ndWktc2xpZGVyIHVpLW1pbmknPiI6IjxkaXYgY2xhc3M9J3VpLXNsaWRlcic+IjtmLmFkZCh5KS53cmFwQWxsKEIpfXRoaXMuaXNUb2dnbGVTd2l0Y2gmJnRoaXMuaGFuZGxlLmJpbmQoe2ZvY3VzOmZ1bmN0aW9uKCl7eS5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0sYmx1cjpmdW5jdGlvbigpe3kucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9fSksdGhpcy5fb24odGhpcy5oYW5kbGUse3Ztb3VzZWRvd246Il9oYW5kbGVWTW91c2VEb3duIixrZXlkb3duOiJfaGFuZGxlS2V5ZG93biIsa2V5dXA6Il9oYW5kbGVLZXl1cCJ9KSx0aGlzLmhhbmRsZS5iaW5kKCJ2Y2xpY2siLCExKSx0aGlzLl9oYW5kbGVGb3JtUmVzZXQmJnRoaXMuX2hhbmRsZUZvcm1SZXNldCgpLHRoaXMucmVmcmVzaChkLGQsITApfSxfY29udHJvbENoYW5nZTpmdW5jdGlvbihhKXtpZih0aGlzLl90cmlnZ2VyKCJjb250cm9sY2hhbmdlIixhKT09PSExKXJldHVybiExO3RoaXMubW91c2VNb3ZlZHx8dGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCksITApfSxfY29udHJvbEtleXVwOmZ1bmN0aW9uKGEpe3RoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwLCEwKX0sX2NvbnRyb2xCbHVyOmZ1bmN0aW9uKGEpe3RoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwKX0sX2NvbnRyb2xWTW91c2VVcDpmdW5jdGlvbihhKXt0aGlzLl9jaGVja2VkUmVmcmVzaCgpfSxfaGFuZGxlVk1vdXNlRG93bjpmdW5jdGlvbihhKXt0aGlzLmhhbmRsZS5mb2N1cygpfSxfaGFuZGxlS2V5ZG93bjpmdW5jdGlvbihiKXt2YXIgYz10aGlzLl92YWx1ZSgpO2lmKHRoaXMub3B0aW9ucy5kaXNhYmxlZClyZXR1cm47c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkhPTUU6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkVORDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUklHSFQ6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkRPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkxFRlQ6Yi5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2tleVNsaWRpbmd8fCh0aGlzLl9rZXlTbGlkaW5nPSEwLHRoaXMuaGFuZGxlLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKSl9c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkhPTUU6dGhpcy5yZWZyZXNoKHRoaXMubWluKTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuRU5EOnRoaXMucmVmcmVzaCh0aGlzLm1heCk7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlVQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5SSUdIVDp0aGlzLnJlZnJlc2goYyt0aGlzLnN0ZXApO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX0RPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkRPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkxFRlQ6dGhpcy5yZWZyZXNoKGMtdGhpcy5zdGVwKX19LF9oYW5kbGVLZXl1cDpmdW5jdGlvbihhKXt0aGlzLl9rZXlTbGlkaW5nJiYodGhpcy5fa2V5U2xpZGluZz0hMSx0aGlzLmhhbmRsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIikpfSxfc2xpZGVyVk1vdXNlRG93bjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vcHRpb25zLmRpc2FibGVkPyExOnRoaXMuX3RyaWdnZXIoImJlZm9yZXN0YXJ0IixhKT09PSExPyExOih0aGlzLmRyYWdnaW5nPSEwLHRoaXMudXNlck1vZGlmaWVkPSExLHRoaXMubW91c2VNb3ZlZD0hMSx0aGlzLmlzVG9nZ2xlU3dpdGNoJiYodGhpcy5iZWZvcmVTdGFydD10aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleCksdGhpcy5yZWZyZXNoKGEpLHRoaXMuX3RyaWdnZXIoInN0YXJ0IiksITEpfSxfc2xpZGVyVk1vdXNlVXA6ZnVuY3Rpb24oKXtpZih0aGlzLmRyYWdnaW5nKXJldHVybiB0aGlzLmRyYWdnaW5nPSExLHRoaXMuaXNUb2dnbGVTd2l0Y2gmJih0aGlzLmhhbmRsZS5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLHRoaXMubW91c2VNb3ZlZD90aGlzLnVzZXJNb2RpZmllZD90aGlzLnJlZnJlc2godGhpcy5iZWZvcmVTdGFydD09PTA/MTowKTp0aGlzLnJlZnJlc2godGhpcy5iZWZvcmVTdGFydCk6dGhpcy5yZWZyZXNoKHRoaXMuYmVmb3JlU3RhcnQ9PT0wPzE6MCkpLHRoaXMubW91c2VNb3ZlZD0hMSx0aGlzLl90cmlnZ2VyKCJzdG9wIiksITF9LF9wcmV2ZW50RG9jdW1lbnREcmFnOmZ1bmN0aW9uKGEpe2lmKHRoaXMuX3RyaWdnZXIoImRyYWciLGEpPT09ITEpcmV0dXJuITE7aWYodGhpcy5kcmFnZ2luZyYmIXRoaXMub3B0aW9ucy5kaXNhYmxlZClyZXR1cm4gdGhpcy5tb3VzZU1vdmVkPSEwLHRoaXMuaXNUb2dnbGVTd2l0Y2gmJnRoaXMuaGFuZGxlLnJlbW92ZUNsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiksdGhpcy5yZWZyZXNoKGEpLHRoaXMudXNlck1vZGlmaWVkPXRoaXMuYmVmb3JlU3RhcnQhPT10aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleCwhMX0sX2NoZWNrZWRSZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy52YWx1ZSE9dGhpcy5fdmFsdWUoKSYmdGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCkpfSxfdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1RvZ2dsZVN3aXRjaD90aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleDpwYXJzZUZsb2F0KHRoaXMuZWxlbWVudC52YWwoKSl9LF9yZXNldDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaChkLCExLCEwKX0scmVmcmVzaDpmdW5jdGlvbihiLGQsZSl7dmFyIGY9dGhpcyxnPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudCwiYyIpLGg9dGhpcy5vcHRpb25zLnRoZW1lfHxnLGk9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWV8fGc7Zi5zbGlkZXJbMF0uY2xhc3NOYW1lPVt0aGlzLmlzVG9nZ2xlU3dpdGNoPyJ1aS1zbGlkZXIgdWktc2xpZGVyLXN3aXRjaCI6InVpLXNsaWRlci10cmFjayIsIiB1aS1idG4tZG93bi0iK2ksIiB1aS1idG4tY29ybmVyLWFsbCIsdGhpcy5vcHRpb25zLm1pbmk/IiB1aS1taW5pIjoiIl0uam9pbigiIiksKHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIikpJiZ0aGlzLmRpc2FibGUoKSx0aGlzLnZhbHVlPXRoaXMuX3ZhbHVlKCksdGhpcy5vcHRpb25zLmhpZ2hsaWdodCYmIXRoaXMuaXNUb2dnbGVTd2l0Y2gmJnRoaXMuc2xpZGVyLmZpbmQoIi51aS1zbGlkZXItYmciKS5sZW5ndGg9PT0wJiYodGhpcy52YWx1ZWJnPWZ1bmN0aW9uKCl7dmFyIGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gYi5jbGFzc05hbWU9InVpLXNsaWRlci1iZyAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKyIgdWktYnRuLWNvcm5lci1hbGwiLGEoYikucHJlcGVuZFRvKGYuc2xpZGVyKX0oKSksdGhpcy5oYW5kbGUuYnV0dG9uTWFya3VwKHtjb3JuZXJzOiEwLHRoZW1lOmgsc2hhZG93OiEwfSk7dmFyIGosayxsPXRoaXMuZWxlbWVudCxtPSF0aGlzLmlzVG9nZ2xlU3dpdGNoLG49bT9bXTpsLmZpbmQoIm9wdGlvbiIpLG89bT9wYXJzZUZsb2F0KGwuYXR0cigibWluIikpOjAscD1tP3BhcnNlRmxvYXQobC5hdHRyKCJtYXgiKSk6bi5sZW5ndGgtMSxxPW0mJnBhcnNlRmxvYXQobC5hdHRyKCJzdGVwIikpPjA/cGFyc2VGbG9hdChsLmF0dHIoInN0ZXAiKSk6MTtpZih0eXBlb2YgYj09Im9iamVjdCIpe3ZhciByLHMsdD1iLHU9ODtyPXRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQscz10aGlzLnNsaWRlci53aWR0aCgpLGo9cy8oKHAtbykvcSk7aWYoIXRoaXMuZHJhZ2dpbmd8fHQucGFnZVg8ci11fHx0LnBhZ2VYPnIrcyt1KXJldHVybjtqPjE/az0odC5wYWdlWC1yKS9zKjEwMDprPU1hdGgucm91bmQoKHQucGFnZVgtcikvcyoxMDApfWVsc2UgYj09bnVsbCYmKGI9bT9wYXJzZUZsb2F0KGwudmFsKCl8fDApOmxbMF0uc2VsZWN0ZWRJbmRleCksaz0ocGFyc2VGbG9hdChiKS1vKS8ocC1vKSoxMDA7aWYoaXNOYU4oaykpcmV0dXJuO3ZhciB2PWsvMTAwKihwLW8pK28sdz0odi1vKSVxLHg9di13O01hdGguYWJzKHcpKjI+PXEmJih4Kz13PjA/cTotcSk7dmFyIHk9MTAwLygocC1vKS9xKTt2PXBhcnNlRmxvYXQoeC50b0ZpeGVkKDUpKSx0eXBlb2Ygaj09InVuZGVmaW5lZCImJihqPXMvKChwLW8pL3EpKSxqPjEmJm0mJihrPSh2LW8pKnkqKDEvcSkpLGs8MCYmKGs9MCksaz4xMDAmJihrPTEwMCksdjxvJiYodj1vKSx2PnAmJih2PXApLHRoaXMuaGFuZGxlLmNzcygibGVmdCIsaysiJSIpLHRoaXMuaGFuZGxlWzBdLnNldEF0dHJpYnV0ZSgiYXJpYS12YWx1ZW5vdyIsbT92Om4uZXEodikuYXR0cigidmFsdWUiKSksdGhpcy5oYW5kbGVbMF0uc2V0QXR0cmlidXRlKCJhcmlhLXZhbHVldGV4dCIsbT92Om4uZXEodikuZ2V0RW5jb2RlZFRleHQoKSksdGhpcy5oYW5kbGVbMF0uc2V0QXR0cmlidXRlKCJ0aXRsZSIsbT92Om4uZXEodikuZ2V0RW5jb2RlZFRleHQoKSksdGhpcy52YWx1ZWJnJiZ0aGlzLnZhbHVlYmcuY3NzKCJ3aWR0aCIsaysiJSIpO2lmKHRoaXMuX2xhYmVscyl7dmFyIHo9dGhpcy5oYW5kbGUud2lkdGgoKS90aGlzLnNsaWRlci53aWR0aCgpKjEwMCxBPWsmJnorKDEwMC16KSprLzEwMCxCPWs9PT0xMDA/MDpNYXRoLm1pbih6KzEwMC1BLDEwMCk7dGhpcy5fbGFiZWxzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLmlzKCIudWktc2xpZGVyLWxhYmVsLWEiKTthKHRoaXMpLndpZHRoKChiP0E6QikrIiUiKX0pfWlmKCFlKXt2YXIgQz0hMTttPyhDPWwudmFsKCkhPT12LGwudmFsKHYpKTooQz1sWzBdLnNlbGVjdGVkSW5kZXghPT12LGxbMF0uc2VsZWN0ZWRJbmRleD12KTtpZih0aGlzLl90cmlnZ2VyKCJiZWZvcmVjaGFuZ2UiLGIpPT09ITEpcmV0dXJuITE7IWQmJkMmJmwudHJpZ2dlcigiY2hhbmdlIil9fSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMSksdGhpcy5zbGlkZXIucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITEpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCEwKSx0aGlzLnNsaWRlci5hZGRDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMCksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfX0pLGEud2lkZ2V0KCJtb2JpbGUuc2xpZGVyIixhLm1vYmlsZS5zbGlkZXIsYS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLnNsaWRlci5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwhMCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLnJhbmdlc2xpZGVyIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsdHJhY2tUaGVtZTpudWxsLGRpc2FibGVkOiExLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0ncmFuZ2VzbGlkZXInKSIsbWluaTohMSxoaWdobGlnaHQ6ITB9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYixjPXRoaXMuZWxlbWVudCxkPXRoaXMub3B0aW9ucy5taW5pPyJ1aS1yYW5nZXNsaWRlciB1aS1taW5pIjoidWktcmFuZ2VzbGlkZXIiLGU9Yy5maW5kKCJpbnB1dCIpLmZpcnN0KCksZj1jLmZpbmQoImlucHV0IikubGFzdCgpLGc9Yy5maW5kKCJsYWJlbCIpLmZpcnN0KCksaD1hLmRhdGEoZS5nZXQoMCksIm1vYmlsZVNsaWRlciIpLnNsaWRlcixpPWEuZGF0YShmLmdldCgwKSwibW9iaWxlU2xpZGVyIikuc2xpZGVyLGo9YS5kYXRhKGUuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUsaz1hKCc8ZGl2IGNsYXNzPSJ1aS1yYW5nZXNsaWRlci1zbGlkZXJzIiAvPicpLmFwcGVuZFRvKGMpO2MuZmluZCgibGFiZWwiKS5sZW5ndGg+MSYmKGI9Yy5maW5kKCJsYWJlbCIpLmxhc3QoKS5oaWRlKCkpLGUuYWRkQ2xhc3MoInVpLXJhbmdlc2xpZGVyLWZpcnN0IiksZi5hZGRDbGFzcygidWktcmFuZ2VzbGlkZXItbGFzdCIpLGMuYWRkQ2xhc3MoZCksaC5hcHBlbmRUbyhrKSxpLmFwcGVuZFRvKGspLGcucHJlcGVuZFRvKGMpLGoucHJlcGVuZFRvKGkpLGEuZXh0ZW5kKHRoaXMse19pbnB1dEZpcnN0OmUsX2lucHV0TGFzdDpmLF9zbGlkZXJGaXJzdDpoLF9zbGlkZXJMYXN0OmksX3RhcmdldFZhbDpudWxsLF9zbGlkZXJUYXJnZXQ6ITEsX3NsaWRlcnM6ayxfcHJveHk6ITF9KSx0aGlzLnJlZnJlc2goKSx0aGlzLl9vbih0aGlzLmVsZW1lbnQuZmluZCgiaW5wdXQudWktc2xpZGVyLWlucHV0Iikse3NsaWRlYmVmb3Jlc3RhcnQ6Il9zbGlkZWJlZm9yZXN0YXJ0IixzbGlkZXN0b3A6Il9zbGlkZXN0b3AiLHNsaWRlZHJhZzoiX3NsaWRlZHJhZyIsc2xpZGViZWZvcmVjaGFuZ2U6Il9jaGFuZ2UiLGJsdXI6Il9jaGFuZ2UiLGtleXVwOiJfY2hhbmdlIn0pLHRoaXMuX29uKGose3Ztb3VzZWRvd246Il9kcmFnRmlyc3RIYW5kbGUifSl9LF9kcmFnRmlyc3RIYW5kbGU6ZnVuY3Rpb24oYil7cmV0dXJuIGEuZGF0YSh0aGlzLl9pbnB1dEZpcnN0LmdldCgwKSwibW9iaWxlU2xpZGVyIikuZHJhZ2dpbmc9ITAsYS5kYXRhKHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5yZWZyZXNoKGIpLCExfSxfc2xpZGVkcmFnOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLmlzKHRoaXMuX2lucHV0Rmlyc3QpLGQ9Yz90aGlzLl9pbnB1dExhc3Q6dGhpcy5faW5wdXRGaXJzdDt0aGlzLl9zbGlkZXJUYXJnZXQ9ITE7aWYodGhpcy5fcHJveHk9PT0iZmlyc3QiJiZjfHx0aGlzLl9wcm94eT09PSJsYXN0IiYmIWMpcmV0dXJuIGEuZGF0YShkLmdldCgwKSwibW9iaWxlU2xpZGVyIikuZHJhZ2dpbmc9ITAsYS5kYXRhKGQuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5yZWZyZXNoKGIpLCExfSxfc2xpZGVzdG9wOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLmlzKHRoaXMuX2lucHV0Rmlyc3QpO3RoaXMuX3Byb3h5PSExLHRoaXMuZWxlbWVudC5maW5kKCJpbnB1dCIpLnRyaWdnZXIoInZtb3VzZXVwIiksdGhpcy5fc2xpZGVyRmlyc3QuY3NzKCJ6LWluZGV4IixjPzE6IiIpfSxfc2xpZGViZWZvcmVzdGFydDpmdW5jdGlvbihiKXt0aGlzLl9zbGlkZXJUYXJnZXQ9ITEsYShiLm9yaWdpbmFsRXZlbnQudGFyZ2V0KS5oYXNDbGFzcygidWktc2xpZGVyLXRyYWNrIikmJih0aGlzLl9zbGlkZXJUYXJnZXQ9ITAsdGhpcy5fdGFyZ2V0VmFsPWEoYi50YXJnZXQpLnZhbCgpKX0sX3NldE9wdGlvbjpmdW5jdGlvbihhKXt0aGlzLl9zdXBlckFwcGx5KGEpLHRoaXMucmVmcmVzaCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LGI9dGhpcy5vcHRpb25zO2EuZmluZCgiaW5wdXQiKS5zbGlkZXIoe3RoZW1lOmIudGhlbWUsdHJhY2tUaGVtZTpiLnRyYWNrVGhlbWUsZGlzYWJsZWQ6Yi5kaXNhYmxlZCxtaW5pOmIubWluaSxoaWdobGlnaHQ6Yi5oaWdobGlnaHR9KS5zbGlkZXIoInJlZnJlc2giKSx0aGlzLl91cGRhdGVIaWdobGlnaHQoKX0sX2NoYW5nZTpmdW5jdGlvbihiKXtpZihiLnR5cGU9PSJrZXl1cCIpcmV0dXJuIHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpLCExO3ZhciBjPXBhcnNlRmxvYXQodGhpcy5faW5wdXRGaXJzdC52YWwoKSwxMCksZD1wYXJzZUZsb2F0KHRoaXMuX2lucHV0TGFzdC52YWwoKSwxMCksZT1hKGIudGFyZ2V0KS5oYXNDbGFzcygidWktcmFuZ2VzbGlkZXItZmlyc3QiKSxmPWU/dGhpcy5faW5wdXRGaXJzdDp0aGlzLl9pbnB1dExhc3QsZz1lP3RoaXMuX2lucHV0TGFzdDp0aGlzLl9pbnB1dEZpcnN0O2lmKGM+ZCYmIXRoaXMuX3NsaWRlclRhcmdldClmLnZhbChlP2Q6Yykuc2xpZGVyKCJyZWZyZXNoIiksdGhpcy5fdHJpZ2dlcigibm9ybWFsaXplIik7ZWxzZSBpZihjPmQpe2YudmFsKHRoaXMuX3RhcmdldFZhbCkuc2xpZGVyKCJyZWZyZXNoIik7dmFyIGg9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zy52YWwoZT9jOmQpLnNsaWRlcigicmVmcmVzaCIpLGEuZGF0YShnLmdldCgwKSwibW9iaWxlU2xpZGVyIikuaGFuZGxlLmZvY3VzKCksaC5fc2xpZGVyRmlyc3QuY3NzKCJ6LWluZGV4IixlPyIiOjEpLGguX3RyaWdnZXIoIm5vcm1hbGl6ZSIpfSwwKSx0aGlzLl9wcm94eT1lPyJmaXJzdCI6Imxhc3QifWM9PT1kPyhhLmRhdGEoZi5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLDEpLGEuZGF0YShnLmdldCgwKSwibW9iaWxlU2xpZGVyIikuaGFuZGxlLmNzcygiei1pbmRleCIsMCkpOihhLmRhdGEoZy5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLCIiKSxhLmRhdGEoZi5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLCIiKSksdGhpcy5fdXBkYXRlSGlnaGxpZ2h0KCk7aWYoYz49ZClyZXR1cm4hMX0sX3VwZGF0ZUhpZ2hsaWdodDpmdW5jdGlvbigpe3ZhciBiPXBhcnNlSW50KGEuZGF0YSh0aGlzLl9pbnB1dEZpcnN0LmdldCgwKSwibW9iaWxlU2xpZGVyIikuaGFuZGxlLmdldCgwKS5zdHlsZS5sZWZ0LDEwKSxjPXBhcnNlSW50KGEuZGF0YSh0aGlzLl9pbnB1dExhc3QuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuZ2V0KDApLnN0eWxlLmxlZnQsMTApLGQ9Yy1iO3RoaXMuZWxlbWVudC5maW5kKCIudWktc2xpZGVyLWJnIikuY3NzKHsibWFyZ2luLWxlZnQiOmIrIiUiLHdpZHRoOmQrIiUifSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1yYW5nZXNsaWRlciB1aS1taW5pIikuZmluZCgibGFiZWwiKS5zaG93KCksdGhpcy5faW5wdXRGaXJzdC5hZnRlcih0aGlzLl9zbGlkZXJGaXJzdCksdGhpcy5faW5wdXRMYXN0LmFmdGVyKHRoaXMuX3NsaWRlckxhc3QpLHRoaXMuX3NsaWRlcnMucmVtb3ZlKCksdGhpcy5lbGVtZW50LmZpbmQoImlucHV0IikucmVtb3ZlQ2xhc3MoInVpLXJhbmdlc2xpZGVyLWZpcnN0IHVpLXJhbmdlc2xpZGVyLWxhc3QiKS5zbGlkZXIoImRlc3Ryb3kiKX19KSxhLndpZGdldCgibW9iaWxlLnJhbmdlc2xpZGVyIixhLm1vYmlsZS5yYW5nZXNsaWRlcixhLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSxhKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5yYW5nZXNsaWRlci5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwhMCl9KX0oYSksZnVuY3Rpb24oYSxkKXthLndpZGdldCgibW9iaWxlLnNlbGVjdG1lbnUiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxkaXNhYmxlZDohMSxpY29uOiJhcnJvdy1kIixpY29ucG9zOiJyaWdodCIsaW5saW5lOiExLGNvcm5lcnM6ITAsc2hhZG93OiEwLGljb25zaGFkb3c6ITAsb3ZlcmxheVRoZW1lOiJhIixkaXZpZGVyVGhlbWU6ImIiLGhpZGVQbGFjZWhvbGRlck1lbnVJdGVtczohMCxjbG9zZVRleHQ6IkNsb3NlIixuYXRpdmVNZW51OiEwLHByZXZlbnRGb2N1c1pvb206L2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xLGluaXRTZWxlY3Rvcjoic2VsZWN0Om5vdCggOmpxbURhdGEocm9sZT0nc2xpZGVyJykgKSIsbWluaTohMX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiBhKCI8ZGl2Lz4iKX0sX3NldERpc2FibGVkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLGEpLHRoaXMuYnV0dG9uLmF0dHIoImFyaWEtZGlzYWJsZWQiLGEpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLGEpfSxfZm9jdXNCdXR0b246ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLmJ1dHRvbi5mb2N1cygpfSw0MCl9LF9zZWxlY3RPcHRpb25zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0LmZpbmQoIm9wdGlvbiIpfSxfcHJlRXh0ZW5zaW9uOmZ1bmN0aW9uKCl7dmFyIGI9IiI7IX50aGlzLmVsZW1lbnRbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1sZWZ0Iil8fChiPSIgdWktYnRuLWxlZnQiKSwhfnRoaXMuZWxlbWVudFswXS5jbGFzc05hbWUuaW5kZXhPZigidWktYnRuLXJpZ2h0Iil8fChiPSIgdWktYnRuLXJpZ2h0IiksdGhpcy5zZWxlY3Q9dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1idG4tbGVmdCB1aS1idG4tcmlnaHQiKS53cmFwKCI8ZGl2IGNsYXNzPSd1aS1zZWxlY3QiK2IrIic+IiksdGhpcy5zZWxlY3RJRD10aGlzLnNlbGVjdC5hdHRyKCJpZCIpLHRoaXMubGFiZWw9YSgibGFiZWxbZm9yPSciK3RoaXMuc2VsZWN0SUQrIiddIikuYWRkQ2xhc3MoInVpLXNlbGVjdCIpLHRoaXMuaXNNdWx0aXBsZT10aGlzLnNlbGVjdFswXS5tdWx0aXBsZSx0aGlzLm9wdGlvbnMudGhlbWV8fCh0aGlzLm9wdGlvbnMudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5zZWxlY3QsImMiKSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LnBhcmVudHMoIi51aS1zZWxlY3QiKTthLmxlbmd0aD4wJiYoYS5pcygiLnVpLWJ0bi1sZWZ0LCAudWktYnRuLXJpZ2h0IikmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyhhLmlzKCIudWktYnRuLWxlZnQiKT8idWktYnRuLWxlZnQiOiJ1aS1idG4tcmlnaHQiKSx0aGlzLmVsZW1lbnQuaW5zZXJ0QWZ0ZXIoYSksYS5yZW1vdmUoKSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9wcmVFeHRlbnNpb24oKSx0aGlzLl90cmlnZ2VyKCJiZWZvcmVDcmVhdGUiKSx0aGlzLmJ1dHRvbj10aGlzLl9idXR0b24oKTt2YXIgYz10aGlzLGQ9dGhpcy5vcHRpb25zLGU9ZC5pbmxpbmV8fHRoaXMuc2VsZWN0LmpxbURhdGEoImlubGluZSIpLGY9ZC5taW5pfHx0aGlzLnNlbGVjdC5qcW1EYXRhKCJtaW5pIiksZz1kLmljb24/ZC5pY29ucG9zfHx0aGlzLnNlbGVjdC5qcW1EYXRhKCJpY29ucG9zIik6ITEsaD10aGlzLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4PT09LTE/MDp0aGlzLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4LGk9dGhpcy5idXR0b24uaW5zZXJ0QmVmb3JlKHRoaXMuc2VsZWN0KS5idXR0b25NYXJrdXAoe3RoZW1lOmQudGhlbWUsaWNvbjpkLmljb24saWNvbnBvczpnLGlubGluZTplLGNvcm5lcnM6ZC5jb3JuZXJzLHNoYWRvdzpkLnNoYWRvdyxpY29uc2hhZG93OmQuaWNvbnNoYWRvdyxtaW5pOmZ9KTt0aGlzLnNldEJ1dHRvblRleHQoKSxkLm5hdGl2ZU1lbnUmJmIub3BlcmEmJmIub3BlcmEudmVyc2lvbiYmaS5hZGRDbGFzcygidWktc2VsZWN0LW5hdGl2ZW9ubHkiKSx0aGlzLmlzTXVsdGlwbGUmJih0aGlzLmJ1dHRvbkNvdW50PWEoIjxzcGFuPiIpLmFkZENsYXNzKCJ1aS1saS1jb3VudCB1aS1idG4tdXAtYyB1aS1idG4tY29ybmVyLWFsbCIpLmhpZGUoKS5hcHBlbmRUbyhpLmFkZENsYXNzKCJ1aS1saS1oYXMtY291bnQiKSkpLChkLmRpc2FibGVkfHx0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiKSkmJnRoaXMuZGlzYWJsZSgpLHRoaXMuc2VsZWN0LmNoYW5nZShmdW5jdGlvbigpe2MucmVmcmVzaCgpfSksdGhpcy5faGFuZGxlRm9ybVJlc2V0JiZ0aGlzLl9oYW5kbGVGb3JtUmVzZXQoKSx0aGlzLmJ1aWxkKCl9LGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLnNlbGVjdC5hcHBlbmRUbyhiLmJ1dHRvbikuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJmb2N1cyIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7Yi5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5iaW5kKCJmb2N1cyB2bW91c2VvdmVyIixmdW5jdGlvbigpe2IuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW92ZXIiKX0pLmJpbmQoInZtb3VzZW1vdmUiLGZ1bmN0aW9uKCl7Yi5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2hhbmdlIGJsdXIgdm1vdXNlb3V0IixmdW5jdGlvbigpe2IuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW91dCIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImNoYW5nZSBibHVyIixmdW5jdGlvbigpe2IuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1idG4tZG93bi0iK2Iub3B0aW9ucy50aGVtZSl9KSxiLmJ1dHRvbi5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApfSksYi5sYWJlbC5iaW5kKCJjbGljayBmb2N1cyIsZnVuY3Rpb24oKXtiLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKX0pLGIuc2VsZWN0LmJpbmQoImZvY3VzIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApfSksYi5idXR0b24uYmluZCgibW91c2V1cCIsZnVuY3Rpb24oKXtiLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmc2V0VGltZW91dChmdW5jdGlvbigpe2EubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0sMCl9KSxiLnNlbGVjdC5iaW5kKCJibHVyIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmVuYWJsZSghMCl9KX0sc2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLmZpbHRlcigiOnNlbGVjdGVkIil9LHNlbGVjdGVkSW5kaWNlczpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIHRoaXMuc2VsZWN0ZWQoKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYS5fc2VsZWN0T3B0aW9ucygpLmluZGV4KHRoaXMpfSkuZ2V0KCl9LHNldEJ1dHRvblRleHQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGQ9dGhpcy5zZWxlY3RlZCgpLGU9dGhpcy5wbGFjZWhvbGRlcixmPWEoYy5jcmVhdGVFbGVtZW50KCJzcGFuIikpO3RoaXMuYnV0dG9uLmZpbmQoIi51aS1idG4tdGV4dCIpLmh0bWwoZnVuY3Rpb24oKXtyZXR1cm4gZC5sZW5ndGg/ZT1kLm1hcChmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLnRleHQoKX0pLmdldCgpLmpvaW4oIiwgIik6ZT1iLnBsYWNlaG9sZGVyLGYudGV4dChlKS5hZGRDbGFzcyhiLnNlbGVjdC5hdHRyKCJjbGFzcyIpKS5hZGRDbGFzcyhkLmF0dHIoImNsYXNzIikpfSl9LHNldEJ1dHRvbkNvdW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZWxlY3RlZCgpO3RoaXMuaXNNdWx0aXBsZSYmdGhpcy5idXR0b25Db3VudFthLmxlbmd0aD4xPyJzaG93IjoiaGlkZSJdKCkudGV4dChhLmxlbmd0aCl9LF9yZXNldDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5zZXRCdXR0b25UZXh0KCksdGhpcy5zZXRCdXR0b25Db3VudCgpfSxvcGVuOmEubm9vcCxjbG9zZTphLm5vb3AsZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuX3NldERpc2FibGVkKCEwKSx0aGlzLmJ1dHRvbi5hZGRDbGFzcygidWktZGlzYWJsZWQiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0RGlzYWJsZWQoITEpLHRoaXMuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpfX0pLGEud2lkZ2V0KCJtb2JpbGUuc2VsZWN0bWVudSIsYS5tb2JpbGUuc2VsZWN0bWVudSxhLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUuc2VsZWN0bWVudS5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwhMCl9KX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgZD1mdW5jdGlvbihkKXt2YXIgZT1kLnNlbGVjdCxmPWQuX2Rlc3Ryb3ksZz1kLnNlbGVjdElELGg9Zz9nOihhLm1vYmlsZS5uc3x8IiIpKyJ1dWlkLSIrZC51dWlkLGk9aCsiLWxpc3Rib3giLGo9aCsiLWRpYWxvZyIsaz1kLmxhYmVsLGw9ZC5zZWxlY3QuY2xvc2VzdCgiLnVpLXBhZ2UiKSxtPWQuX3NlbGVjdE9wdGlvbnMoKSxuPWQuaXNNdWx0aXBsZT1kLnNlbGVjdFswXS5tdWx0aXBsZSxvPWcrIi1idXR0b24iLHA9ZysiLW1lbnUiLHE9YSgiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2RpYWxvZycgaWQ9JyIraisiJyBkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lPSciK2Qub3B0aW9ucy50aGVtZSsiJyBkYXRhLSIrYS5tb2JpbGUubnMrIm92ZXJsYXktdGhlbWU9JyIrZC5vcHRpb25zLm92ZXJsYXlUaGVtZSsiJz4iKyI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0naGVhZGVyJz4iKyI8ZGl2IGNsYXNzPSd1aS10aXRsZSc+IitrLmdldEVuY29kZWRUZXh0KCkrIjwvZGl2PiIrIjwvZGl2PiIrIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdjb250ZW50Jz48L2Rpdj4iKyI8L2Rpdj4iKSxyPWEoIjxkaXYgaWQ9JyIraSsiJyBjbGFzcz0ndWktc2VsZWN0bWVudSc+IikuaW5zZXJ0QWZ0ZXIoZC5zZWxlY3QpLnBvcHVwKHt0aGVtZTpkLm9wdGlvbnMub3ZlcmxheVRoZW1lfSkscz1hKCI8dWw+Iix7ImNsYXNzIjoidWktc2VsZWN0bWVudS1saXN0IixpZDpwLHJvbGU6Imxpc3Rib3giLCJhcmlhLWxhYmVsbGVkYnkiOm99KS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIixkLm9wdGlvbnMudGhlbWUpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiZGl2aWRlci10aGVtZSIsZC5vcHRpb25zLmRpdmlkZXJUaGVtZSkuYXBwZW5kVG8ociksdD1hKCI8ZGl2PiIseyJjbGFzcyI6InVpLWhlYWRlciB1aS1iYXItIitkLm9wdGlvbnMudGhlbWV9KS5wcmVwZW5kVG8ociksdT1hKCI8aDE+Iix7ImNsYXNzIjoidWktdGl0bGUifSkuYXBwZW5kVG8odCksdix3LHg7ZC5pc011bHRpcGxlJiYoeD1hKCI8YT4iLHt0ZXh0OmQub3B0aW9ucy5jbG9zZVRleHQsaHJlZjoiIyIsImNsYXNzIjoidWktYnRuLWxlZnQifSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJpY29ucG9zIiwibm90ZXh0IikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uIiwiZGVsZXRlIikuYXBwZW5kVG8odCkuYnV0dG9uTWFya3VwKCkpLGEuZXh0ZW5kKGQse3NlbGVjdDpkLnNlbGVjdCxzZWxlY3RJRDpnLGJ1dHRvbklkOm8sbWVudUlkOnAscG9wdXBJRDppLGRpYWxvZ0lEOmosdGhpc1BhZ2U6bCxtZW51UGFnZTpxLGxhYmVsOmssc2VsZWN0T3B0aW9uczptLGlzTXVsdGlwbGU6bix0aGVtZTpkLm9wdGlvbnMudGhlbWUsbGlzdGJveDpyLGxpc3Q6cyxoZWFkZXI6dCxoZWFkZXJUaXRsZTp1LGhlYWRlckNsb3NlOngsbWVudVBhZ2VDb250ZW50OnYsbWVudVBhZ2VDbG9zZTp3LHBsYWNlaG9sZGVyOiIiLGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcztjLnJlZnJlc2goKSxjLl9vcmlnVGFiSW5kZXg9PT1iJiYoYy5fb3JpZ1RhYkluZGV4PWMuc2VsZWN0WzBdLmdldEF0dHJpYnV0ZSgidGFiaW5kZXgiKT09PW51bGw/ITE6Yy5zZWxlY3QuYXR0cigidGFiaW5kZXgiKSksYy5zZWxlY3QuYXR0cigidGFiaW5kZXgiLCItMSIpLmZvY3VzKGZ1bmN0aW9uKCl7YSh0aGlzKS5ibHVyKCksYy5idXR0b24uZm9jdXMoKX0pLGMuYnV0dG9uLmJpbmQoInZjbGljayBrZXlkb3duIixmdW5jdGlvbihiKXtpZihjLm9wdGlvbnMuZGlzYWJsZWR8fGMuaXNPcGVuKXJldHVybjtpZihiLnR5cGU9PT0idmNsaWNrInx8Yi5rZXlDb2RlJiYoYi5rZXlDb2RlPT09YS5tb2JpbGUua2V5Q29kZS5FTlRFUnx8Yi5rZXlDb2RlPT09YS5tb2JpbGUua2V5Q29kZS5TUEFDRSkpYy5fZGVjaWRlRm9ybWF0KCksYy5tZW51VHlwZT09PSJvdmVybGF5Ij9jLmJ1dHRvbi5hdHRyKCJocmVmIiwiIyIrYy5wb3B1cElEKS5hdHRyKCJkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrInJlbCIsInBvcHVwIik6Yy5idXR0b24uYXR0cigiaHJlZiIsIiMiK2MuZGlhbG9nSUQpLmF0dHIoImRhdGEtIisoYS5tb2JpbGUubnN8fCIiKSsicmVsIiwiZGlhbG9nIiksYy5pc09wZW49ITB9KSxjLmxpc3QuYXR0cigicm9sZSIsImxpc3Rib3giKS5iaW5kKCJmb2N1c2luIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5hdHRyKCJ0YWJpbmRleCIsIjAiKS50cmlnZ2VyKCJ2bW91c2VvdmVyIil9KS5iaW5kKCJmb2N1c291dCIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuYXR0cigidGFiaW5kZXgiLCItMSIpLnRyaWdnZXIoInZtb3VzZW91dCIpfSkuZGVsZWdhdGUoImxpOm5vdCgudWktZGlzYWJsZWQsIC51aS1saS1kaXZpZGVyKSIsImNsaWNrIixmdW5jdGlvbihiKXt2YXIgZT1jLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4LGY9Yy5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5pbmRleCh0aGlzKSxnPWMuX3NlbGVjdE9wdGlvbnMoKS5lcShmKVswXTtnLnNlbGVjdGVkPWMuaXNNdWx0aXBsZT8hZy5zZWxlY3RlZDohMCxjLmlzTXVsdGlwbGUmJmEodGhpcykuZmluZCgiLnVpLWljb24iKS50b2dnbGVDbGFzcygidWktaWNvbi1jaGVja2JveC1vbiIsZy5zZWxlY3RlZCkudG9nZ2xlQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb2ZmIiwhZy5zZWxlY3RlZCksKGMuaXNNdWx0aXBsZXx8ZSE9PWYpJiZjLnNlbGVjdC50cmlnZ2VyKCJjaGFuZ2UiKSxjLmlzTXVsdGlwbGU/Yy5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5lcShmKS5hZGRDbGFzcygidWktYnRuLWRvd24tIitkLm9wdGlvbnMudGhlbWUpLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCk6Yy5jbG9zZSgpLGIucHJldmVudERlZmF1bHQoKX0pLmtleWRvd24oZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCksZT1jLmNsb3Nlc3QoImxpIiksZixnO3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgMzg6cmV0dXJuIGY9ZS5wcmV2KCkubm90KCIudWktc2VsZWN0bWVudS1wbGFjZWhvbGRlciIpLGYuaXMoIi51aS1saS1kaXZpZGVyIikmJihmPWYucHJldigpKSxmLmxlbmd0aCYmKGMuYmx1cigpLmF0dHIoInRhYmluZGV4IiwiLTEiKSxmLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK2Qub3B0aW9ucy50aGVtZSkuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKSksITE7Y2FzZSA0MDpyZXR1cm4gZz1lLm5leHQoKSxnLmlzKCIudWktbGktZGl2aWRlciIpJiYoZz1nLm5leHQoKSksZy5sZW5ndGgmJihjLmJsdXIoKS5hdHRyKCJ0YWJpbmRleCIsIi0xIiksZy5hZGRDbGFzcygidWktYnRuLWRvd24tIitkLm9wdGlvbnMudGhlbWUpLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCkpLCExO2Nhc2UgMTM6Y2FzZSAzMjpyZXR1cm4gYy50cmlnZ2VyKCJjbGljayIpLCExfX0pLGMubWVudVBhZ2UuYmluZCgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7YS5tb2JpbGUuX2JpbmRQYWdlUmVtb3ZlLmNhbGwoYy50aGlzUGFnZSl9KSxjLmxpc3Rib3guYmluZCgicG9wdXBhZnRlcmNsb3NlIixmdW5jdGlvbihhKXtjLmNsb3NlKCl9KSxjLmlzTXVsdGlwbGUmJmMuaGVhZGVyQ2xvc2UuY2xpY2soZnVuY3Rpb24oKXtpZihjLm1lbnVUeXBlPT09Im92ZXJsYXkiKXJldHVybiBjLmNsb3NlKCksITF9KSxjLnRoaXNQYWdlLmFkZERlcGVuZGVudHModGhpcy5tZW51UGFnZSl9LF9pc1JlYnVpbGRSZXF1aXJlZDpmdW5jdGlvbigpe3ZhciBhPXRoaXMubGlzdC5maW5kKCJsaSIpLGI9dGhpcy5fc2VsZWN0T3B0aW9ucygpO3JldHVybiBiLnRleHQoKSE9PWEudGV4dCgpfSxzZWxlY3RlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RPcHRpb25zKCkuZmlsdGVyKCI6c2VsZWN0ZWQ6bm90KCA6anFtRGF0YShwbGFjZWhvbGRlcj0ndHJ1ZScpICkiKX0scmVmcmVzaDpmdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMsZT10aGlzLmVsZW1lbnQsZj10aGlzLmlzTXVsdGlwbGUsZzsoYnx8dGhpcy5faXNSZWJ1aWxkUmVxdWlyZWQoKSkmJmQuX2J1aWxkTGlzdCgpLGc9dGhpcy5zZWxlY3RlZEluZGljZXMoKSxkLnNldEJ1dHRvblRleHQoKSxkLnNldEJ1dHRvbkNvdW50KCksZC5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuYXR0cigiYXJpYS1zZWxlY3RlZCIsITEpLmVhY2goZnVuY3Rpb24oYil7aWYoYS5pbkFycmF5KGIsZyk+LTEpe3ZhciBjPWEodGhpcyk7Yy5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMCksZC5pc011bHRpcGxlP2MuZmluZCgiLnVpLWljb24iKS5yZW1vdmVDbGFzcygidWktaWNvbi1jaGVja2JveC1vZmYiKS5hZGRDbGFzcygidWktaWNvbi1jaGVja2JveC1vbiIpOmMuaXMoIi51aS1zZWxlY3RtZW51LXBsYWNlaG9sZGVyIik/Yy5uZXh0KCkuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpOmMuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfX0pfSxjbG9zZTpmdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8IXRoaXMuaXNPcGVuKXJldHVybjt2YXIgYT10aGlzO2EubWVudVR5cGU9PT0icGFnZSI/KGEubWVudVBhZ2UuZGlhbG9nKCJjbG9zZSIpLGEubGlzdC5hcHBlbmRUbyhhLmxpc3Rib3gpKTphLmxpc3Rib3gucG9wdXAoImNsb3NlIiksYS5fZm9jdXNCdXR0b24oKSxhLmlzT3Blbj0hMX0sb3BlbjpmdW5jdGlvbigpe3RoaXMuYnV0dG9uLmNsaWNrKCl9LF9kZWNpZGVGb3JtYXQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBtKCl7dmFyIGM9Yi5saXN0LmZpbmQoIi4iK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKyIgYSIpO2MubGVuZ3RoPT09MCYmKGM9Yi5saXN0LmZpbmQoImxpLnVpLWJ0bjpub3QoIDpqcW1EYXRhKHBsYWNlaG9sZGVyPSd0cnVlJykgKSBhIikpLGMuZmlyc3QoKS5mb2N1cygpLmNsb3Nlc3QoImxpIikuYWRkQ2xhc3MoInVpLWJ0bi1kb3duLSIrZC5vcHRpb25zLnRoZW1lKX12YXIgYj10aGlzLGM9YS5tb2JpbGUud2luZG93LGU9Yi5saXN0LnBhcmVudCgpLGY9ZS5vdXRlckhlaWdodCgpLGc9ZS5vdXRlcldpZHRoKCksaD1hKCIuIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLGk9Yy5zY3JvbGxUb3AoKSxqPWIuYnV0dG9uLm9mZnNldCgpLnRvcCxrPWMuaGVpZ2h0KCksbD1jLndpZHRoKCk7Zj5rLTgwfHwhYS5zdXBwb3J0LnNjcm9sbFRvcD8oYi5tZW51UGFnZS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKS5wYWdlKCksYi5tZW51UGFnZUNvbnRlbnQ9cS5maW5kKCIudWktY29udGVudCIpLGIubWVudVBhZ2VDbG9zZT1xLmZpbmQoIi51aS1oZWFkZXIgYSIpLGIudGhpc1BhZ2UudW5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiKSxpPT09MCYmaj5rJiZiLnRoaXNQYWdlLm9uZSgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7YSh0aGlzKS5qcW1EYXRhKCJsYXN0U2Nyb2xsIixqKX0pLGIubWVudVBhZ2Uub25lKCJwYWdlc2hvdyIsZnVuY3Rpb24oKXttKCl9KS5vbmUoInBhZ2VoaWRlIixmdW5jdGlvbigpe2IuY2xvc2UoKX0pLGIubWVudVR5cGU9InBhZ2UiLGIubWVudVBhZ2VDb250ZW50LmFwcGVuZChiLmxpc3QpLGIubWVudVBhZ2UuZmluZCgiZGl2IC51aS10aXRsZSIpLnRleHQoYi5sYWJlbC50ZXh0KCkpKTooYi5tZW51VHlwZT0ib3ZlcmxheSIsYi5saXN0Ym94Lm9uZSgicG9wdXBhZnRlcm9wZW4iLG0pKX0sX2J1aWxkTGlzdDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD10aGlzLm9wdGlvbnMsZT10aGlzLnBsYWNlaG9sZGVyLGY9ITAsZz1bXSxoPVtdLGk9Yi5pc011bHRpcGxlPyJjaGVja2JveC1vZmYiOiJmYWxzZSI7Yi5saXN0LmVtcHR5KCkuZmlsdGVyKCIudWktbGlzdHZpZXciKS5saXN0dmlldygiZGVzdHJveSIpO3ZhciBqPWIuc2VsZWN0LmZpbmQoIm9wdGlvbiIpLGs9ai5sZW5ndGgsbD10aGlzLnNlbGVjdFswXSxtPSJkYXRhLSIrYS5tb2JpbGUubnMsbj1tKyJvcHRpb24taW5kZXgiLG89bSsiaWNvbiIscD1tKyJyb2xlIixxPW0rInBsYWNlaG9sZGVyIixyPWMuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHM9ITEsdDtmb3IodmFyIHU9MDt1PGs7dSsrLHM9ITEpe3ZhciB2PWpbdV0sdz1hKHYpLHg9di5wYXJlbnROb2RlLHk9dy50ZXh0KCksej1jLmNyZWF0ZUVsZW1lbnQoImEiKSxBPVtdO3ouc2V0QXR0cmlidXRlKCJocmVmIiwiIyIpLHouYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZSh5KSk7aWYoeCE9PWwmJngubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJvcHRncm91cCIpe3ZhciBCPXguZ2V0QXR0cmlidXRlKCJsYWJlbCIpO2lmKEIhPT10KXt2YXIgQz1jLmNyZWF0ZUVsZW1lbnQoImxpIik7Qy5zZXRBdHRyaWJ1dGUocCwibGlzdC1kaXZpZGVyIiksQy5zZXRBdHRyaWJ1dGUoInJvbGUiLCJvcHRpb24iKSxDLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCItMSIpLEMuYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShCKSksci5hcHBlbmRDaGlsZChDKSx0PUJ9fWYmJighdi5nZXRBdHRyaWJ1dGUoInZhbHVlIil8fHkubGVuZ3RoPT09MHx8dy5qcW1EYXRhKCJwbGFjZWhvbGRlciIpKSYmKGY9ITEscz0hMCxudWxsPT09di5nZXRBdHRyaWJ1dGUocSkmJih0aGlzLl9yZW1vdmVQbGFjZWhvbGRlckF0dHI9ITApLHYuc2V0QXR0cmlidXRlKHEsITApLGQuaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zJiZBLnB1c2goInVpLXNlbGVjdG1lbnUtcGxhY2Vob2xkZXIiKSxlIT09eSYmKGU9Yi5wbGFjZWhvbGRlcj15KSk7dmFyIEQ9Yy5jcmVhdGVFbGVtZW50KCJsaSIpO3YuZGlzYWJsZWQmJihBLnB1c2goInVpLWRpc2FibGVkIiksRC5zZXRBdHRyaWJ1dGUoImFyaWEtZGlzYWJsZWQiLCEwKSksRC5zZXRBdHRyaWJ1dGUobix1KSxELnNldEF0dHJpYnV0ZShvLGkpLHMmJkQuc2V0QXR0cmlidXRlKHEsITApLEQuY2xhc3NOYW1lPUEuam9pbigiICIpLEQuc2V0QXR0cmlidXRlKCJyb2xlIiwib3B0aW9uIiksei5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwiLTEiKSxELmFwcGVuZENoaWxkKHopLHIuYXBwZW5kQ2hpbGQoRCl9Yi5saXN0WzBdLmFwcGVuZENoaWxkKHIpLCF0aGlzLmlzTXVsdGlwbGUmJiFlLmxlbmd0aD90aGlzLmhlYWRlci5oaWRlKCk6dGhpcy5oZWFkZXJUaXRsZS50ZXh0KHRoaXMucGxhY2Vob2xkZXIpLGIubGlzdC5saXN0dmlldygpfSxfYnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIGEoIjxhPiIse2hyZWY6IiMiLHJvbGU6ImJ1dHRvbiIsaWQ6dGhpcy5idXR0b25JZCwiYXJpYS1oYXNwb3B1cCI6InRydWUiLCJhcmlhLW93bnMiOnRoaXMubWVudUlkfSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5jbG9zZSgpLHRoaXMuX29yaWdUYWJJbmRleCE9PWImJih0aGlzLl9vcmlnVGFiSW5kZXghPT0hMT90aGlzLnNlbGVjdC5hdHRyKCJ0YWJpbmRleCIsdGhpcy5fb3JpZ1RhYkluZGV4KTp0aGlzLnNlbGVjdC5yZW1vdmVBdHRyKCJ0YWJpbmRleCIpKSx0aGlzLl9yZW1vdmVQbGFjZWhvbGRlckF0dHImJnRoaXMuX3NlbGVjdE9wdGlvbnMoKS5yZW1vdmVBdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInBsYWNlaG9sZGVyIiksdGhpcy5saXN0Ym94LnJlbW92ZSgpLGYuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pfTthLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJzZWxlY3RtZW51YmVmb3JlY3JlYXRlIixmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KS5kYXRhKCJtb2JpbGUtc2VsZWN0bWVudSIpOyFjLm9wdGlvbnMubmF0aXZlTWVudSYmYy5lbGVtZW50LnBhcmVudHMoIjpqcW1EYXRhKHJvbGU9J3BvcHVwJykiKS5sZW5ndGg9PT0wJiZkKGMpfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5maXhlZHRvb2xiYXIiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dmlzaWJsZU9uUGFnZVNob3c6ITAsZGlzYWJsZVBhZ2Vab29tOiEwLHRyYW5zaXRpb246InNsaWRlIixmdWxsc2NyZWVuOiExLHRhcFRvZ2dsZTohMCx0YXBUb2dnbGVCbGFja2xpc3Q6ImEsIGJ1dHRvbiwgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIC51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWQsIC51aS1wb3B1cCwgLnVpLXBhbmVsLCAudWktcGFuZWwtZGlzbWlzcy1vcGVuIixoaWRlRHVyaW5nRm9jdXM6ImlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0Iix1cGRhdGVQYWdlUGFkZGluZzohMCx0cmFja1BlcnNpc3RlbnRUb29sYmFyczohMCxzdXBwb3J0QmxhY2tsaXN0OmZ1bmN0aW9uKCl7cmV0dXJuIWEuc3VwcG9ydC5maXhlZFBvc2l0aW9ufSxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1iLm9wdGlvbnMsZD1iLmVsZW1lbnQsZT1kLmlzKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpPyJoZWFkZXIiOiJmb290ZXIiLGY9ZC5jbG9zZXN0KCIudWktcGFnZSIpO2lmKGMuc3VwcG9ydEJsYWNrbGlzdCgpKXtiLmRlc3Ryb3koKTtyZXR1cm59ZC5hZGRDbGFzcygidWktIitlKyItZml4ZWQiKSxjLmZ1bGxzY3JlZW4/KGQuYWRkQ2xhc3MoInVpLSIrZSsiLWZ1bGxzY3JlZW4iKSxmLmFkZENsYXNzKCJ1aS1wYWdlLSIrZSsiLWZ1bGxzY3JlZW4iKSk6Zi5hZGRDbGFzcygidWktcGFnZS0iK2UrIi1maXhlZCIpLGEuZXh0ZW5kKHRoaXMse190aGlzUGFnZTpudWxsfSksYi5fYWRkVHJhbnNpdGlvbkNsYXNzKCksYi5fYmluZFBhZ2VFdmVudHMoKSxiLl9iaW5kVG9nZ2xlSGFuZGxlcnMoKX0sX2FkZFRyYW5zaXRpb25DbGFzczpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucy50cmFuc2l0aW9uO2EmJmEhPT0ibm9uZSImJihhPT09InNsaWRlIiYmKGE9dGhpcy5lbGVtZW50LmlzKCIudWktaGVhZGVyIik/InNsaWRlZG93biI6InNsaWRldXAiKSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoYSkpfSxfYmluZFBhZ2VFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl90aGlzUGFnZT10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKSx0aGlzLl9vbih0aGlzLl90aGlzUGFnZSx7cGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyIsd2Via2l0QW5pbWF0aW9uU3RhcnQ6Il9oYW5kbGVBbmltYXRpb25TdGFydCIsYW5pbWF0aW9uc3RhcnQ6Il9oYW5kbGVBbmltYXRpb25TdGFydCIsdXBkYXRlbGF5b3V0OiJfaGFuZGxlQW5pbWF0aW9uU3RhcnQiLHBhZ2VzaG93OiJfaGFuZGxlUGFnZVNob3ciLHBhZ2ViZWZvcmVoaWRlOiJfaGFuZGxlUGFnZUJlZm9yZUhpZGUifSl9LF9oYW5kbGVQYWdlQmVmb3JlU2hvdzpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucztiLmRpc2FibGVQYWdlWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKSxiLnZpc2libGVPblBhZ2VTaG93fHx0aGlzLmhpZGUoITApfSxfaGFuZGxlQW5pbWF0aW9uU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMudXBkYXRlUGFnZVBhZGRpbmcmJnRoaXMudXBkYXRlUGFnZVBhZGRpbmcodGhpcy5fdGhpc1BhZ2UpfSxfaGFuZGxlUGFnZVNob3c6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZVBhZ2VQYWRkaW5nKHRoaXMuX3RoaXNQYWdlKSx0aGlzLm9wdGlvbnMudXBkYXRlUGFnZVBhZGRpbmcmJnRoaXMuX29uKGEubW9iaWxlLndpbmRvdyx7dGhyb3R0bGVkcmVzaXplOiJ1cGRhdGVQYWdlUGFkZGluZyJ9KX0sX2hhbmRsZVBhZ2VCZWZvcmVIaWRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy5vcHRpb25zO2QuZGlzYWJsZVBhZ2Vab29tJiZhLm1vYmlsZS56b29tLmVuYWJsZSghMCksZC51cGRhdGVQYWdlUGFkZGluZyYmdGhpcy5fb2ZmKGEubW9iaWxlLndpbmRvdywidGhyb3R0bGVkcmVzaXplIik7aWYoZC50cmFja1BlcnNpc3RlbnRUb29sYmFycyl7dmFyIGU9YSgiLnVpLWZvb3Rlci1maXhlZDpqcW1EYXRhKGlkKSIsdGhpcy5fdGhpc1BhZ2UpLGY9YSgiLnVpLWhlYWRlci1maXhlZDpqcW1EYXRhKGlkKSIsdGhpcy5fdGhpc1BhZ2UpLGc9ZS5sZW5ndGgmJmMubmV4dFBhZ2UmJmEoIi51aS1mb290ZXItZml4ZWQ6anFtRGF0YShpZD0nIitlLmpxbURhdGEoImlkIikrIicpIixjLm5leHRQYWdlKXx8YSgpLGg9Zi5sZW5ndGgmJmMubmV4dFBhZ2UmJmEoIi51aS1oZWFkZXItZml4ZWQ6anFtRGF0YShpZD0nIitmLmpxbURhdGEoImlkIikrIicpIixjLm5leHRQYWdlKXx8YSgpO2lmKGcubGVuZ3RofHxoLmxlbmd0aClnLmFkZChoKS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKSxjLm5leHRQYWdlLm9uZSgicGFnZXNob3ciLGZ1bmN0aW9uKCl7aC5wcmVwZW5kVG8odGhpcyksZy5hcHBlbmRUbyh0aGlzKX0pfX0sX3Zpc2libGU6ITAsdXBkYXRlUGFnZVBhZGRpbmc6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5lbGVtZW50LGQ9Yy5pcygiLnVpLWhlYWRlciIpLGU9cGFyc2VGbG9hdChjLmNzcyhkPyJ0b3AiOiJib3R0b20iKSk7aWYodGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4pcmV0dXJuO2I9Ynx8dGhpcy5fdGhpc1BhZ2V8fGMuY2xvc2VzdCgiLnVpLXBhZ2UiKSxhKGIpLmNzcygicGFkZGluZy0iKyhkPyJ0b3AiOiJib3R0b20iKSxjLm91dGVySGVpZ2h0KCkrZSl9LF91c2VUcmFuc2l0aW9uOmZ1bmN0aW9uKGIpe3ZhciBjPWEubW9iaWxlLndpbmRvdyxkPXRoaXMuZWxlbWVudCxlPWMuc2Nyb2xsVG9wKCksZj1kLmhlaWdodCgpLGc9ZC5jbG9zZXN0KCIudWktcGFnZSIpLmhlaWdodCgpLGg9YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCksaT1kLmlzKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpPyJoZWFkZXIiOiJmb290ZXIiO3JldHVybiFiJiYodGhpcy5vcHRpb25zLnRyYW5zaXRpb24mJnRoaXMub3B0aW9ucy50cmFuc2l0aW9uIT09Im5vbmUiJiYoaT09PSJoZWFkZXIiJiYhdGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4mJmU+Znx8aT09PSJmb290ZXIiJiYhdGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4mJmUraDxnLWYpfHx0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbil9LHNob3c6ZnVuY3Rpb24oYSl7dmFyIGI9InVpLWZpeGVkLWhpZGRlbiIsYz10aGlzLmVsZW1lbnQ7dGhpcy5fdXNlVHJhbnNpdGlvbihhKT9jLnJlbW92ZUNsYXNzKCJvdXQgIitiKS5hZGRDbGFzcygiaW4iKS5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoImluIil9KTpjLnJlbW92ZUNsYXNzKGIpLHRoaXMuX3Zpc2libGU9ITB9LGhpZGU6ZnVuY3Rpb24oYSl7dmFyIGI9InVpLWZpeGVkLWhpZGRlbiIsYz10aGlzLmVsZW1lbnQsZD0ib3V0IisodGhpcy5vcHRpb25zLnRyYW5zaXRpb249PT0ic2xpZGUiPyIgcmV2ZXJzZSI6IiIpO3RoaXMuX3VzZVRyYW5zaXRpb24oYSk/Yy5hZGRDbGFzcyhkKS5yZW1vdmVDbGFzcygiaW4iKS5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2MuYWRkQ2xhc3MoYikucmVtb3ZlQ2xhc3MoZCl9KTpjLmFkZENsYXNzKGIpLnJlbW92ZUNsYXNzKGQpLHRoaXMuX3Zpc2libGU9ITF9LHRvZ2dsZTpmdW5jdGlvbigpe3RoaXNbdGhpcy5fdmlzaWJsZT8iaGlkZSI6InNob3ciXSgpfSxfYmluZFRvZ2dsZUhhbmRsZXJzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjLGQ9Yi5vcHRpb25zLGU9Yi5lbGVtZW50O2UuY2xvc2VzdCgiLnVpLXBhZ2UiKS5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKGMpe2QudGFwVG9nZ2xlJiYhYShjLnRhcmdldCkuY2xvc2VzdChkLnRhcFRvZ2dsZUJsYWNrbGlzdCkubGVuZ3RoJiZiLnRvZ2dsZSgpfSkuYmluZCgiZm9jdXNpbiBmb2N1c291dCIsZnVuY3Rpb24oZSl7c2NyZWVuLndpZHRoPDEwMjUmJmEoZS50YXJnZXQpLmlzKGQuaGlkZUR1cmluZ0ZvY3VzKSYmIWEoZS50YXJnZXQpLmNsb3Nlc3QoIi51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWQiKS5sZW5ndGgmJihlLnR5cGU9PT0iZm9jdXNvdXQiJiYhYi5fdmlzaWJsZT9jPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnNob3coKX0sMCk6ZS50eXBlPT09ImZvY3VzaW4iJiZiLl92aXNpYmxlJiYoY2xlYXJUaW1lb3V0KGMpLGIuaGlkZSgpKSl9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQsYj1hLmlzKCIudWktaGVhZGVyIik7YS5jbG9zZXN0KCIudWktcGFnZSIpLmNzcygicGFkZGluZy0iKyhiPyJ0b3AiOiJib3R0b20iKSwiIiksYS5yZW1vdmVDbGFzcygidWktaGVhZGVyLWZpeGVkIHVpLWZvb3Rlci1maXhlZCB1aS1oZWFkZXItZnVsbHNjcmVlbiB1aS1mb290ZXItZnVsbHNjcmVlbiBpbiBvdXQgZmFkZSBzbGlkZWRvd24gc2xpZGV1cCB1aS1maXhlZC1oaWRkZW4iKSxhLmNsb3Nlc3QoIi51aS1wYWdlIikucmVtb3ZlQ2xhc3MoInVpLXBhZ2UtaGVhZGVyLWZpeGVkIHVpLXBhZ2UtZm9vdGVyLWZpeGVkIHVpLXBhZ2UtaGVhZGVyLWZ1bGxzY3JlZW4gdWktcGFnZS1mb290ZXItZnVsbHNjcmVlbiIpfX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5qcW1EYXRhKCJmdWxsc2NyZWVuIikmJmEoYS5tb2JpbGUuZml4ZWR0b29sYmFyLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvcixiLnRhcmdldCkubm90KCI6anFtRGF0YShmdWxsc2NyZWVuKSIpLmpxbURhdGEoImZ1bGxzY3JlZW4iLCEwKSxhLm1vYmlsZS5maXhlZHRvb2xiYXIucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5maXhlZHRvb2xiYXIiLGEubW9iaWxlLmZpeGVkdG9vbGJhcix7X2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5fd29ya2Fyb3VuZHMoKX0sX3dvcmthcm91bmRzOmZ1bmN0aW9uKCl7dmFyIGE9bmF2aWdhdG9yLnVzZXJBZ2VudCxiPW5hdmlnYXRvci5wbGF0Zm9ybSxjPWEubWF0Y2goL0FwcGxlV2ViS2l0XC8oWzAtOV0rKS8pLGQ9ISFjJiZjWzFdLGU9bnVsbCxmPXRoaXM7aWYoYi5pbmRleE9mKCJpUGhvbmUiKT4tMXx8Yi5pbmRleE9mKCJpUGFkIik+LTF8fGIuaW5kZXhPZigiaVBvZCIpPi0xKWU9ImlvcyI7ZWxzZSBpZihhLmluZGV4T2YoIkFuZHJvaWQiKT4tMSllPSJhbmRyb2lkIjtlbHNlIHJldHVybjtpZihlPT09ImlvcyIpZi5fYmluZFNjcm9sbFdvcmthcm91bmQoKTtlbHNlIGlmKGU9PT0iYW5kcm9pZCImJmQmJmQ8NTM0KWYuX2JpbmRTY3JvbGxXb3JrYXJvdW5kKCksZi5fYmluZExpc3RUaHVtYldvcmthcm91bmQoKTtlbHNlIHJldHVybn0sX3ZpZXdwb3J0T2Zmc2V0OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9Yi5pcygiLnVpLWhlYWRlciIpLGQ9TWF0aC5hYnMoYi5vZmZzZXQoKS50b3AtYS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpKTtyZXR1cm4gY3x8KGQ9TWF0aC5yb3VuZChkLWEubW9iaWxlLndpbmRvdy5oZWlnaHQoKStiLm91dGVySGVpZ2h0KCkpLTYwKSxkfSxfYmluZFNjcm9sbFdvcmthcm91bmQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMuX29uKGEubW9iaWxlLndpbmRvdyx7c2Nyb2xsc3RvcDpmdW5jdGlvbigpe3ZhciBhPWIuX3ZpZXdwb3J0T2Zmc2V0KCk7YT4yJiZiLl92aXNpYmxlJiZiLl90cmlnZ2VyUmVkcmF3KCl9fSl9LF9iaW5kTGlzdFRodW1iV29ya2Fyb3VuZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLmFkZENsYXNzKCJ1aS1hbmRyb2lkLTJ4LWZpeGVkIil9LF90cmlnZ2VyUmVkcmF3OmZ1bmN0aW9uKCl7dmFyIGI9cGFyc2VGbG9hdChhKCIudWktcGFnZS1hY3RpdmUiKS5jc3MoInBhZGRpbmctYm90dG9tIikpO2EoIi51aS1wYWdlLWFjdGl2ZSIpLmNzcygicGFkZGluZy1ib3R0b20iLGIrMSsicHgiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YSgiLnVpLXBhZ2UtYWN0aXZlIikuY3NzKCJwYWRkaW5nLWJvdHRvbSIsYisicHgiKX0sMCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZS1hY3RpdmUiKS5yZW1vdmVDbGFzcygidWktYW5kcm9pZC0yeC1maXgiKX19KX0oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBqKGEpe2U9YS5vcmlnaW5hbEV2ZW50LGk9ZS5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5LGY9TWF0aC5hYnMoaS54KSxnPU1hdGguYWJzKGkueSksaD1NYXRoLmFicyhpLnopLCFiLm9yaWVudGF0aW9uJiYoZj43fHwoaD42JiZnPDh8fGg8OCYmZz42KSYmZj41KT9kLmVuYWJsZWQmJmQuZGlzYWJsZSgpOmQuZW5hYmxlZHx8ZC5lbmFibGUoKX1hLm1vYmlsZS5pb3NvcmllbnRhdGlvbmZpeEVuYWJsZWQ9ITA7dmFyIGM9bmF2aWdhdG9yLnVzZXJBZ2VudDtpZighKC9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJi9PUyBbMS01XV9bMC05X10qIGxpa2UgTWFjIE9TIFgvaS50ZXN0KGMpJiZjLmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTEpKXthLm1vYmlsZS5pb3NvcmllbnRhdGlvbmZpeEVuYWJsZWQ9ITE7cmV0dXJufXZhciBkPWEubW9iaWxlLnpvb20sZSxmLGcsaCxpO2EubW9iaWxlLmRvY3VtZW50Lm9uKCJtb2JpbGVpbml0IixmdW5jdGlvbigpe2EubW9iaWxlLmlvc29yaWVudGF0aW9uZml4RW5hYmxlZCYmYS5tb2JpbGUud2luZG93LmJpbmQoIm9yaWVudGF0aW9uY2hhbmdlLmlvc29yaWVudGF0aW9uZml4IixkLmVuYWJsZSkuYmluZCgiZGV2aWNlbW90aW9uLmlvc29yaWVudGF0aW9uZml4IixqKX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYixkKXtmdW5jdGlvbiBoKCl7ZS5yZW1vdmVDbGFzcygidWktbW9iaWxlLXJlbmRlcmluZyIpfXZhciBlPWEoImh0bWwiKSxmPWEoImhlYWQiKSxnPWEubW9iaWxlLndpbmRvdzthKGIuZG9jdW1lbnQpLnRyaWdnZXIoIm1vYmlsZWluaXQiKTtpZighYS5tb2JpbGUuZ3JhZGVBKCkpcmV0dXJuO2EubW9iaWxlLmFqYXhCbGFja2xpc3QmJihhLm1vYmlsZS5hamF4RW5hYmxlZD0hMSksZS5hZGRDbGFzcygidWktbW9iaWxlIHVpLW1vYmlsZS1yZW5kZXJpbmciKSxzZXRUaW1lb3V0KGgsNWUzKSxhLmV4dGVuZChhLm1vYmlsZSx7aW5pdGlhbGl6ZVBhZ2U6ZnVuY3Rpb24oKXt2YXIgYj1hLm1vYmlsZS5wYXRoLGQ9YSgiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLGU9Yi5zdHJpcEhhc2goYi5zdHJpcFF1ZXJ5UGFyYW1zKGIucGFyc2VMb2NhdGlvbigpLmhhc2gpKSxmPWMuZ2V0RWxlbWVudEJ5SWQoZSk7ZC5sZW5ndGh8fChkPWEoImJvZHkiKS53cmFwSW5uZXIoIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdwYWdlJz48L2Rpdj4iKS5jaGlsZHJlbigwKSksZC5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtiLmpxbURhdGEoInVybCIpfHxiLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidXJsIixiLmF0dHIoImlkIil8fGxvY2F0aW9uLnBhdGhuYW1lK2xvY2F0aW9uLnNlYXJjaCl9KSxhLm1vYmlsZS5maXJzdFBhZ2U9ZC5maXJzdCgpLGEubW9iaWxlLnBhZ2VDb250YWluZXI9YS5tb2JpbGUuZmlyc3RQYWdlLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1tb2JpbGUtdmlld3BvcnQiKSxnLnRyaWdnZXIoInBhZ2Vjb250YWluZXJjcmVhdGUiKSxhLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coKSxoKCksIWEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkfHwhYS5tb2JpbGUucGF0aC5pc0hhc2hWYWxpZChsb2NhdGlvbi5oYXNoKXx8IWEoZikuaXMoJzpqcW1EYXRhKHJvbGU9InBhZ2UiKScpJiYhYS5tb2JpbGUucGF0aC5pc1BhdGgoZSkmJmUhPT1hLm1vYmlsZS5kaWFsb2dIYXNoS2V5PyhhLm1vYmlsZS5wYXRoLmlzSGFzaFZhbGlkKGxvY2F0aW9uLmhhc2gpJiYoYS5tb2JpbGUudXJsSGlzdG9yeS5pbml0aWFsRHN0PWUucmVwbGFjZSgiIyIsIiIpKSxhLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCkmJmEubW9iaWxlLm5hdmlnYXRlLm5hdmlnYXRvci5zcXVhc2goYi5wYXJzZUxvY2F0aW9uKCkuaHJlZiksYS5tb2JpbGUuY2hhbmdlUGFnZShhLm1vYmlsZS5maXJzdFBhZ2Use3RyYW5zaXRpb246Im5vbmUiLHJldmVyc2U6ITAsY2hhbmdlSGFzaDohMSxmcm9tSGFzaENoYW5nZTohMH0pKTphLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCk/KGEubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnkuc3RhY2s9W10sYS5tb2JpbGUubmF2aWdhdGUoYS5tb2JpbGUucGF0aC5pc1BhdGgobG9jYXRpb24uaGFzaCk/bG9jYXRpb24uaGFzaDpsb2NhdGlvbi5ocmVmKSk6Zy50cmlnZ2VyKCJoYXNoY2hhbmdlIixbITBdKX19KSxhLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkLnJlc29sdmUoKSxhKGZ1bmN0aW9uKCl7Yi5zY3JvbGxUbygwLDEpLGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsPSFhLnN1cHBvcnQuc2Nyb2xsVG9wfHxhLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCk9PT0xPzA6MSxhLm1vYmlsZS5hdXRvSW5pdGlhbGl6ZVBhZ2UmJmEubW9iaWxlLmluaXRpYWxpemVQYWdlKCksZy5sb2FkKGEubW9iaWxlLnNpbGVudFNjcm9sbCksYS5zdXBwb3J0LmNzc1BvaW50ZXJFdmVudHN8fGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCIudWktZGlzYWJsZWQiLCJ2Y2xpY2siLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpfSl9KX0oYSx0aGlzKX0pOw==",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 07:56:36 GMT",
                    "Content-Length": "144439",
                    "Date": "Fri, 07 Nov 2014 07:56:36 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
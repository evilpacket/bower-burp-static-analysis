{
    "url": "http://localhost:9999/addyosmani/yt-jukebox/app/bower_components/platform/platform.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Link manipulation (DOM-based)",
    "issueType": 5246976,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based link manipulation vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this to a navigation target within the current page, such as a clickable link or the submission URL of a form. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will modify the target of links within the response. An attacker may be able to leverage this to perform various attacks, including:<ul><li>Causing the user to redirect to an arbitrary external URL, to facilitate a phishing attack.</li><li>Causing the user to submit sensitive form data to a server controlled by the attacker.</li><li>Causing the user to perform an unintended action within the application, by changing the file or query string associated with a link.</li><li>Bypassing browser anti-XSS defenses by injecting on-site links containing XSS exploits, since browser anti-XSS defenses typically do not operate on on-site links.</li></ul>",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based link manipulation vulnerabilities is not to dynamically set the target URLs of links or forms using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a link target. In general, this is best achieved by using a whitelist of URLs that are permitted link targets, and strictly validating the target against this list before setting the link target.",
    "issueDetail": "The application may be vulnerable to DOM-based link manipulation. Data is read from <b>the 'baseURI' property of a DOM element</b> and written to <b>the 'href' property of a DOM element</b> via the following statement:<ul><li>c.href=document.baseURI,b.stagingDocument_.head.appendChild(c),b.stagingDocument_.stagingDocument_=b.stagingDocument_</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/addyosmani/yt-jukebox/app/bower_components/platform/platform.js",
                "path": "/addyosmani/yt-jukebox/app/bower_components/platform/platform.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9hZGR5b3NtYW5pL3l0LWp1a2Vib3gvYXBwL2Jvd2VyX2NvbXBvbmVudHMvcGxhdGZvcm0vcGxhdGZvcm0uanMgSFRUUC8xLjENCkhvc3Q6IGxvY2FsaG9zdDo5OTk5DQoNCg==",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTg3MzA1DQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBTdW4sIDA5IE5vdiAyMDE0IDA0OjAzOjM1IEdNVA0KTGFzdC1Nb2RpZmllZDogU3VuLCAwOSBOb3YgMjAxNCAwNDowMzozNSBHTVQNCg0KLyoqCiAqIEBsaWNlbnNlCiAqIENvcHlyaWdodCAoYykgMjAxMi0yMDE0IFRoZSBQb2x5bWVyIEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIAogKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQKICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZQogKiBtZXQ6CiAqIAogKiAgICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0CiAqIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci4KICogICAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlCiAqIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIKICogaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZQogKiBkaXN0cmlidXRpb24uCiAqICAgICogTmVpdGhlciB0aGUgbmFtZSBvZiBHb29nbGUgSW5jLiBub3IgdGhlIG5hbWVzIG9mIGl0cwogKiBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbQogKiB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLgogKiAKICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUwogKiAiQVMgSVMiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVAogKiBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IKICogQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQKICogT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsCiAqIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QKICogTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsCiAqIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWQogKiBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUCiAqIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRQogKiBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLgogKi8KLy8gQHZlcnNpb246IDAuMi4wLWEyNThhMTQKZnVuY3Rpb24gUG9pbnRlckdlc3R1cmVFdmVudChhLGIpe3ZhciBjPWJ8fHt9LGQ9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkV2ZW50IiksZT17YnViYmxlczpCb29sZWFuKGMuYnViYmxlcyk9PT1jLmJ1YmJsZXN8fCEwLGNhbmNlbGFibGU6Qm9vbGVhbihjLmNhbmNlbGFibGUpPT09Yy5jYW5jZWxhYmxlfHwhMH07ZC5pbml0RXZlbnQoYSxlLmJ1YmJsZXMsZS5jYW5jZWxhYmxlKTtmb3IodmFyIGYsZz1PYmplY3Qua2V5cyhjKSxoPTA7aDxnLmxlbmd0aDtoKyspZj1nW2hdLGRbZl09Y1tmXTtyZXR1cm4gZC5wcmV2ZW50VGFwPXRoaXMucHJldmVudFRhcCxkfSJ1bmRlZmluZWQiPT10eXBlb2YgV2Vha01hcCYmIWZ1bmN0aW9uKCl7dmFyIGE9T2JqZWN0LmRlZmluZVByb3BlcnR5LGI9RGF0ZS5ub3coKSUxZTksYz1mdW5jdGlvbigpe3RoaXMubmFtZT0iX19zdCIrKDFlOSpNYXRoLnJhbmRvbSgpPj4+MCkrKGIrKyArIl9fIil9O2MucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYixjKXt2YXIgZD1iW3RoaXMubmFtZV07ZCYmZFswXT09PWI/ZFsxXT1jOmEoYix0aGlzLm5hbWUse3ZhbHVlOltiLGNdLHdyaXRhYmxlOiEwfSl9LGdldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4oYj1hW3RoaXMubmFtZV0pJiZiWzBdPT09YT9iWzFdOnZvaWQgMH0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dGhpcy5zZXQoYSx2b2lkIDApfX0sd2luZG93LldlYWtNYXA9Y30oKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYigpe2Z1bmN0aW9uIGEoYSl7Yj1hfWlmKCJmdW5jdGlvbiIhPXR5cGVvZiBPYmplY3Qub2JzZXJ2ZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIEFycmF5Lm9ic2VydmUpcmV0dXJuITE7dmFyIGI9W10sYz17fTtpZihPYmplY3Qub2JzZXJ2ZShjLGEpLGMuaWQ9MSxjLmlkPTIsZGVsZXRlIGMuaWQsT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzKGEpLDMhPT1iLmxlbmd0aClyZXR1cm4hMTtpZigibmV3Ij09YlswXS50eXBlJiYidXBkYXRlZCI9PWJbMV0udHlwZSYmImRlbGV0ZWQiPT1iWzJdLnR5cGUpTD0ibmV3IixNPSJ1cGRhdGVkIixOPSJyZWNvbmZpZ3VyZWQiLE89ImRlbGV0ZWQiO2Vsc2UgaWYoImFkZCIhPWJbMF0udHlwZXx8InVwZGF0ZSIhPWJbMV0udHlwZXx8ImRlbGV0ZSIhPWJbMl0udHlwZSlyZXR1cm4gY29uc29sZS5lcnJvcigiVW5leHBlY3RlZCBjaGFuZ2UgcmVjb3JkIG5hbWVzIGZvciBPYmplY3Qub2JzZXJ2ZS4gVXNpbmcgZGlydHktY2hlY2tpbmcgaW5zdGVhZCIpLCExO3JldHVybiBPYmplY3QudW5vYnNlcnZlKGMsYSksYz1bMF0sQXJyYXkub2JzZXJ2ZShjLGEpLGNbMV09MSxjLmxlbmd0aD0wLE9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyhhKSwyIT1iLmxlbmd0aD8hMTpiWzBdLnR5cGUhPVB8fGJbMV0udHlwZSE9UD8hMTooQXJyYXkudW5vYnNlcnZlKGMsYSksITApfWZ1bmN0aW9uIGMoKXtpZihhLmRvY3VtZW50JiYic2VjdXJpdHlQb2xpY3kiaW4gYS5kb2N1bWVudCYmIWEuZG9jdW1lbnQuc2VjdXJpdHlQb2xpY3kuYWxsb3dzRXZhbClyZXR1cm4hMTt0cnl7dmFyIGI9bmV3IEZ1bmN0aW9uKCIiLCJyZXR1cm4gdHJ1ZTsiKTtyZXR1cm4gYigpfWNhdGNoKGMpe3JldHVybiExfX1mdW5jdGlvbiBkKGEpe3JldHVybithPT09YT4+PjB9ZnVuY3Rpb24gZShhKXtyZXR1cm4rYX1mdW5jdGlvbiBmKGEpe3JldHVybiBhPT09T2JqZWN0KGEpfWZ1bmN0aW9uIGcoYSxiKXtyZXR1cm4gYT09PWI/MCE9PWF8fDEvYT09PTEvYjpTKGEpJiZTKGIpPyEwOmEhPT1hJiZiIT09Yn1mdW5jdGlvbiBoKGEpe3JldHVybiJzdHJpbmciIT10eXBlb2YgYT8hMTooYT1hLnRyaW0oKSwiIj09YT8hMDoiLiI9PWFbMF0/ITE6JC50ZXN0KGEpKX1mdW5jdGlvbiBpKGEsYil7aWYoYiE9PV8pdGhyb3cgRXJyb3IoIlVzZSBQYXRoLmdldCB0byByZXRyaWV2ZSBwYXRoIG9iamVjdHMiKTtyZXR1cm4iIj09YS50cmltKCk/dGhpczpkKGEpPyh0aGlzLnB1c2goYSksdGhpcyk6KGEuc3BsaXQoL1xzKlwuXHMqLykuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhfSkuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLnB1c2goYSl9LHRoaXMpLHZvaWQoUiYmdGhpcy5sZW5ndGgmJih0aGlzLmdldFZhbHVlRnJvbT10aGlzLmNvbXBpbGVkR2V0VmFsdWVGcm9tRm4oKSkpKX1mdW5jdGlvbiBqKGEpe2lmKGEgaW5zdGFuY2VvZiBpKXJldHVybiBhO251bGw9PWEmJihhPSIiKSwic3RyaW5nIiE9dHlwZW9mIGEmJihhPVN0cmluZyhhKSk7dmFyIGI9YWJbYV07aWYoYilyZXR1cm4gYjtpZighaChhKSlyZXR1cm4gYmI7dmFyIGI9bmV3IGkoYSxfKTtyZXR1cm4gYWJbYV09YixifWZ1bmN0aW9uIGsoYil7Zm9yKHZhciBjPTA7ZGI+YyYmYi5jaGVja18oKTspYysrO3JldHVybiBhLnRlc3RpbmdFeHBvc2VDeWNsZUNvdW50JiYoYS5kaXJ0eUNoZWNrQ3ljbGVDb3VudD1jKSxjPjB9ZnVuY3Rpb24gbChhKXtmb3IodmFyIGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBtKGEpe3JldHVybiBsKGEuYWRkZWQpJiZsKGEucmVtb3ZlZCkmJmwoYS5jaGFuZ2VkKX1mdW5jdGlvbiBuKGEsYil7dmFyIGM9e30sZD17fSxlPXt9O2Zvcih2YXIgZiBpbiBiKXt2YXIgZz1hW2ZdOyh2b2lkIDA9PT1nfHxnIT09YltmXSkmJihmIGluIGE/ZyE9PWJbZl0mJihlW2ZdPWcpOmRbZl09dm9pZCAwKX1mb3IodmFyIGYgaW4gYSlmIGluIGJ8fChjW2ZdPWFbZl0pO3JldHVybiBBcnJheS5pc0FycmF5KGEpJiZhLmxlbmd0aCE9PWIubGVuZ3RoJiYoZS5sZW5ndGg9YS5sZW5ndGgpLHthZGRlZDpjLHJlbW92ZWQ6ZCxjaGFuZ2VkOmV9fWZ1bmN0aW9uIG8oKXtpZighZWIubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYT0wO2E8ZWIubGVuZ3RoO2ErKyllYlthXSgpO3JldHVybiBlYi5sZW5ndGg9MCwhMH1mdW5jdGlvbiBwKCl7ZnVuY3Rpb24gYShhKXtiJiZiLnN0YXRlXz09PWtiJiYhZCYmYi5jaGVja18oYSl9dmFyIGIsYyxkPSExLGU9ITA7cmV0dXJue29wZW46ZnVuY3Rpb24oYyl7aWYoYil0aHJvdyBFcnJvcigiT2JzZXJ2ZWRPYmplY3QgaW4gdXNlIik7ZXx8T2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzKGEpLGI9YyxlPSExfSxvYnNlcnZlOmZ1bmN0aW9uKGIsZCl7Yz1iLGQ/QXJyYXkub2JzZXJ2ZShjLGEpOk9iamVjdC5vYnNlcnZlKGMsYSl9LGRlbGl2ZXI6ZnVuY3Rpb24oYil7ZD1iLE9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyhhKSxkPSExfSxjbG9zZTpmdW5jdGlvbigpe2I9dm9pZCAwLE9iamVjdC51bm9ic2VydmUoYyxhKSxnYi5wdXNoKHRoaXMpfX19ZnVuY3Rpb24gcShhLGIsYyl7dmFyIGQ9Z2IucG9wKCl8fHAoKTtyZXR1cm4gZC5vcGVuKGEpLGQub2JzZXJ2ZShiLGMpLGR9ZnVuY3Rpb24gcigpe2Z1bmN0aW9uIGEoYil7aWYoZihiKSl7dmFyIGM9aS5pbmRleE9mKGIpO2M+PTA/KGlbY109dm9pZCAwLGgucHVzaChiKSk6aC5pbmRleE9mKGIpPDAmJihoLnB1c2goYiksT2JqZWN0Lm9ic2VydmUoYixkKSksYShPYmplY3QuZ2V0UHJvdG90eXBlT2YoYikpfX1mdW5jdGlvbiBiKCl7aWYoaz0hMSxqKXt2YXIgYj1pPT09aGI/W106aTtpPWgsaD1iO3ZhciBjO2Zvcih2YXIgZiBpbiBlKWM9ZVtmXSxjJiZjLnN0YXRlXz09a2ImJmMuaXRlcmF0ZU9iamVjdHNfKGEpO2Zvcih2YXIgZz0wO2c8aS5sZW5ndGg7ZysrKXt2YXIgbD1pW2ddO2wmJk9iamVjdC51bm9ic2VydmUobCxkKX1pLmxlbmd0aD0wfX1mdW5jdGlvbiBjKCl7a3x8KGo9ITAsaz0hMCxmYihiKSl9ZnVuY3Rpb24gZCgpe3ZhciBhO2Zvcih2YXIgYiBpbiBlKWE9ZVtiXSxhJiZhLnN0YXRlXz09a2ImJmEuY2hlY2tfKCk7YygpfXZhciBlPVtdLGc9MCxoPVtdLGk9aGIsaj0hMSxrPSExLGw9e29iamVjdDp2b2lkIDAsb2JqZWN0czpoLG9wZW46ZnVuY3Rpb24oYil7ZVtiLmlkX109YixnKyssYi5pdGVyYXRlT2JqZWN0c18oYSl9LGNsb3NlOmZ1bmN0aW9uKGEpe2lmKGVbYS5pZF9dPXZvaWQgMCxnLS0sZylyZXR1cm4gdm9pZCBjKCk7aj0hMTtmb3IodmFyIGI9MDtiPGgubGVuZ3RoO2IrKylPYmplY3QudW5vYnNlcnZlKGhbYl0sZCksdC51bm9ic2VydmVkQ291bnQrKztlLmxlbmd0aD0wLGgubGVuZ3RoPTAsaWIucHVzaCh0aGlzKX0scmVzZXQ6Y307cmV0dXJuIGx9ZnVuY3Rpb24gcyhhLGIpe3JldHVybiBjYiYmY2Iub2JqZWN0PT09Ynx8KGNiPWliLnBvcCgpfHxyKCksY2Iub2JqZWN0PWIpLGNiLm9wZW4oYSksY2J9ZnVuY3Rpb24gdCgpe3RoaXMuc3RhdGVfPWpiLHRoaXMuY2FsbGJhY2tfPXZvaWQgMCx0aGlzLnRhcmdldF89dm9pZCAwLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5pZF89bmIrK31mdW5jdGlvbiB1KGEpe3QuX2FsbE9ic2VydmVyc0NvdW50KysscGImJm9iLnB1c2goYSl9ZnVuY3Rpb24gdigpe3QuX2FsbE9ic2VydmVyc0NvdW50LS19ZnVuY3Rpb24gdyhhKXt0LmNhbGwodGhpcyksdGhpcy52YWx1ZV89YSx0aGlzLm9sZE9iamVjdF89dm9pZCAwfWZ1bmN0aW9uIHgoYSl7aWYoIUFycmF5LmlzQXJyYXkoYSkpdGhyb3cgRXJyb3IoIlByb3ZpZGVkIG9iamVjdCBpcyBub3QgYW4gQXJyYXkiKTt3LmNhbGwodGhpcyxhKX1mdW5jdGlvbiB5KGEsYil7dC5jYWxsKHRoaXMpLHRoaXMub2JqZWN0Xz1hLHRoaXMucGF0aF89YiBpbnN0YW5jZW9mIGk/YjpqKGIpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMH1mdW5jdGlvbiB6KCl7dC5jYWxsKHRoaXMpLHRoaXMudmFsdWVfPVtdLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCx0aGlzLm9ic2VydmVkXz1bXX1mdW5jdGlvbiBBKGEpe3JldHVybiBhfWZ1bmN0aW9uIEIoYSxiLGMsZCl7dGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy52YWx1ZV89dm9pZCAwLHRoaXMub2JzZXJ2YWJsZV89YSx0aGlzLmdldFZhbHVlRm5fPWJ8fEEsdGhpcy5zZXRWYWx1ZUZuXz1jfHxBLHRoaXMuZG9udFBhc3NUaHJvdWdoU2V0Xz1kfWZ1bmN0aW9uIEMoYSxiKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0Lm9ic2VydmUpe3ZhciBjPU9iamVjdC5nZXROb3RpZmllcihhKTtyZXR1cm4gZnVuY3Rpb24oZCxlKXt2YXIgZj17b2JqZWN0OmEsdHlwZTpkLG5hbWU6Yn07Mj09PWFyZ3VtZW50cy5sZW5ndGgmJihmLm9sZFZhbHVlPWUpLGMubm90aWZ5KGYpfX19ZnVuY3Rpb24gRChhLGIsYyl7Zm9yKHZhciBkPXt9LGU9e30sZj0wO2Y8Yi5sZW5ndGg7ZisrKXt2YXIgZz1iW2ZdO3RiW2cudHlwZV0/KGcubmFtZSBpbiBjfHwoY1tnLm5hbWVdPWcub2xkVmFsdWUpLGcudHlwZSE9TSYmKGcudHlwZSE9TD9nLm5hbWUgaW4gZD8oZGVsZXRlIGRbZy5uYW1lXSxkZWxldGUgY1tnLm5hbWVdKTplW2cubmFtZV09ITA6Zy5uYW1lIGluIGU/ZGVsZXRlIGVbZy5uYW1lXTpkW2cubmFtZV09ITApKTooY29uc29sZS5lcnJvcigiVW5rbm93biBjaGFuZ2VSZWNvcmQgdHlwZTogIitnLnR5cGUpLGNvbnNvbGUuZXJyb3IoZykpfWZvcih2YXIgaCBpbiBkKWRbaF09YVtoXTtmb3IodmFyIGggaW4gZSllW2hdPXZvaWQgMDt2YXIgaT17fTtmb3IodmFyIGggaW4gYylpZighKGggaW4gZHx8aCBpbiBlKSl7dmFyIGo9YVtoXTtjW2hdIT09aiYmKGlbaF09ail9cmV0dXJue2FkZGVkOmQscmVtb3ZlZDplLGNoYW5nZWQ6aX19ZnVuY3Rpb24gRShhLGIsYyl7cmV0dXJue2luZGV4OmEscmVtb3ZlZDpiLGFkZGVkQ291bnQ6Y319ZnVuY3Rpb24gRigpe31mdW5jdGlvbiBHKGEsYixjLGQsZSxmKXtyZXR1cm4geWIuY2FsY1NwbGljZXMoYSxiLGMsZCxlLGYpfWZ1bmN0aW9uIEgoYSxiLGMsZCl7cmV0dXJuIGM+Ynx8YT5kPy0xOmI9PWN8fGQ9PWE/MDpjPmE/ZD5iP2ItYzpkLWM6Yj5kP2QtYTpiLWF9ZnVuY3Rpb24gSShhLGIsYyxkKXtmb3IodmFyIGU9RShiLGMsZCksZj0hMSxnPTAsaD0wO2g8YS5sZW5ndGg7aCsrKXt2YXIgaT1hW2hdO2lmKGkuaW5kZXgrPWcsIWYpe3ZhciBqPUgoZS5pbmRleCxlLmluZGV4K2UucmVtb3ZlZC5sZW5ndGgsaS5pbmRleCxpLmluZGV4K2kuYWRkZWRDb3VudCk7aWYoaj49MCl7YS5zcGxpY2UoaCwxKSxoLS0sZy09aS5hZGRlZENvdW50LWkucmVtb3ZlZC5sZW5ndGgsZS5hZGRlZENvdW50Kz1pLmFkZGVkQ291bnQtajt2YXIgaz1lLnJlbW92ZWQubGVuZ3RoK2kucmVtb3ZlZC5sZW5ndGgtajtpZihlLmFkZGVkQ291bnR8fGspe3ZhciBjPWkucmVtb3ZlZDtpZihlLmluZGV4PGkuaW5kZXgpe3ZhciBsPWUucmVtb3ZlZC5zbGljZSgwLGkuaW5kZXgtZS5pbmRleCk7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkobCxjKSxjPWx9aWYoZS5pbmRleCtlLnJlbW92ZWQubGVuZ3RoPmkuaW5kZXgraS5hZGRlZENvdW50KXt2YXIgbT1lLnJlbW92ZWQuc2xpY2UoaS5pbmRleCtpLmFkZGVkQ291bnQtZS5pbmRleCk7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoYyxtKX1lLnJlbW92ZWQ9YyxpLmluZGV4PGUuaW5kZXgmJihlLmluZGV4PWkuaW5kZXgpfWVsc2UgZj0hMH1lbHNlIGlmKGUuaW5kZXg8aS5pbmRleCl7Zj0hMCxhLnNwbGljZShoLDAsZSksaCsrO3ZhciBuPWUuYWRkZWRDb3VudC1lLnJlbW92ZWQubGVuZ3RoO2kuaW5kZXgrPW4sZys9bn19fWZ8fGEucHVzaChlKX1mdW5jdGlvbiBKKGEsYil7Zm9yKHZhciBjPVtdLGY9MDtmPGIubGVuZ3RoO2YrKyl7dmFyIGc9YltmXTtzd2l0Y2goZy50eXBlKXtjYXNlIFA6SShjLGcuaW5kZXgsZy5yZW1vdmVkLnNsaWNlKCksZy5hZGRlZENvdW50KTticmVhaztjYXNlIEw6Y2FzZSBNOmNhc2UgTzppZighZChnLm5hbWUpKWNvbnRpbnVlO3ZhciBoPWUoZy5uYW1lKTtpZigwPmgpY29udGludWU7SShjLGgsW2cub2xkVmFsdWVdLDEpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcigiVW5leHBlY3RlZCByZWNvcmQgdHlwZTogIitKU09OLnN0cmluZ2lmeShnKSl9fXJldHVybiBjfWZ1bmN0aW9uIEsoYSxiKXt2YXIgYz1bXTtyZXR1cm4gSihhLGIpLmZvckVhY2goZnVuY3Rpb24oYil7cmV0dXJuIDE9PWIuYWRkZWRDb3VudCYmMT09Yi5yZW1vdmVkLmxlbmd0aD92b2lkKGIucmVtb3ZlZFswXSE9PWFbYi5pbmRleF0mJmMucHVzaChiKSk6dm9pZChjPWMuY29uY2F0KEcoYSxiLmluZGV4LGIuaW5kZXgrYi5hZGRlZENvdW50LGIucmVtb3ZlZCwwLGIucmVtb3ZlZC5sZW5ndGgpKSl9KSxjfXZhciBMPSJhZGQiLE09InVwZGF0ZSIsTj0icmVjb25maWd1cmUiLE89ImRlbGV0ZSIsUD0ic3BsaWNlIixRPWIoKSxSPWMoKSxTPWEuTnVtYmVyLmlzTmFOfHxmdW5jdGlvbihiKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGImJmEuaXNOYU4oYil9LFQ9Il9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKGEpe3JldHVybiBhfTpmdW5jdGlvbihhKXt2YXIgYj1hLl9fcHJvdG9fXztpZighYilyZXR1cm4gYTt2YXIgYz1PYmplY3QuY3JlYXRlKGIpO3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLGIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGIpKX0pLGN9LFU9IlskX2EtekEtWl0iLFY9IlskX2EtekEtWjAtOV0iLFc9VSsiKyIrVisiKiIsWD0iKD86WzAtOV18WzEtOV0rWzAtOV0rKSIsWT0iKD86IitXKyJ8IitYKyIpIixaPSIoPzoiK1krIikoPzpcXHMqXFwuXFxzKiIrWSsiKSoiLCQ9bmV3IFJlZ0V4cCgiXiIrWisiJCIpLF89e30sYWI9e307aS5nZXQ9aixpLnByb3RvdHlwZT1UKHtfX3Byb3RvX186W10sdmFsaWQ6ITAsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qb2luKCIuIil9LGdldFZhbHVlRnJvbTpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPHRoaXMubGVuZ3RoO2IrKyl7aWYobnVsbD09YSlyZXR1cm47YT1hW3RoaXNbYl1dfXJldHVybiBhfSxpdGVyYXRlT2JqZWN0czpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2M8dGhpcy5sZW5ndGg7YysrKXtpZihjJiYoYT1hW3RoaXNbYy0xXV0pLCFhKXJldHVybjtiKGEpfX0sY29tcGlsZWRHZXRWYWx1ZUZyb21GbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBkKGEpPydbIicrYSsnIl0nOiIuIithfSksYj0iIixjPSJvYmoiO2IrPSJpZiAob2JqICE9IG51bGwiO2Zvcih2YXIgZT0wO2U8dGhpcy5sZW5ndGgtMTtlKyspe3t0aGlzW2VdfWMrPWFbZV0sYis9IiAmJlxuICAgICAiK2MrIiAhPSBudWxsIn1yZXR1cm4gYis9IilcbiIsYys9YVtlXSxiKz0iICByZXR1cm4gIitjKyI7XG5lbHNlXG4gIHJldHVybiB1bmRlZmluZWQ7IixuZXcgRnVuY3Rpb24oIm9iaiIsYil9LHNldFZhbHVlRnJvbTpmdW5jdGlvbihhLGIpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPHRoaXMubGVuZ3RoLTE7YysrKXtpZighZihhKSlyZXR1cm4hMTthPWFbdGhpc1tjXV19cmV0dXJuIGYoYSk/KGFbdGhpc1tjXV09YiwhMCk6ITF9fSk7dmFyIGJiPW5ldyBpKCIiLF8pO2JiLnZhbGlkPSExLGJiLmdldFZhbHVlRnJvbT1iYi5zZXRWYWx1ZUZyb209ZnVuY3Rpb24oKXt9O3ZhciBjYixkYj0xZTMsZWI9W10sZmI9UT9mdW5jdGlvbigpe3ZhciBhPXtwaW5nUG9uZzohMH0sYj0hMTtyZXR1cm4gT2JqZWN0Lm9ic2VydmUoYSxmdW5jdGlvbigpe28oKSxiPSExfSksZnVuY3Rpb24oYyl7ZWIucHVzaChjKSxifHwoYj0hMCxhLnBpbmdQb25nPSFhLnBpbmdQb25nKX19KCk6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSl7ZWIucHVzaChhKX19KCksZ2I9W10saGI9W10saWI9W10samI9MCxrYj0xLGxiPTIsbWI9MyxuYj0xO3QucHJvdG90eXBlPXtvcGVuOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5zdGF0ZV8hPWpiKXRocm93IEVycm9yKCJPYnNlcnZlciBoYXMgYWxyZWFkeSBiZWVuIG9wZW5lZC4iKTtyZXR1cm4gdSh0aGlzKSx0aGlzLmNhbGxiYWNrXz1hLHRoaXMudGFyZ2V0Xz1iLHRoaXMuc3RhdGVfPWtiLHRoaXMuY29ubmVjdF8oKSx0aGlzLnZhbHVlX30sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlXz09a2ImJih2KHRoaXMpLHRoaXMuc3RhdGVfPWxiLHRoaXMuZGlzY29ubmVjdF8oKSx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDApfSxkZWxpdmVyOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZV89PWtiJiZrKHRoaXMpfSxyZXBvcnRfOmZ1bmN0aW9uKGEpe3RyeXt0aGlzLmNhbGxiYWNrXy5hcHBseSh0aGlzLnRhcmdldF8sYSl9Y2F0Y2goYil7dC5fZXJyb3JUaHJvd25EdXJpbmdDYWxsYmFjaz0hMCxjb25zb2xlLmVycm9yKCJFeGNlcHRpb24gY2F1Z2h0IGR1cmluZyBvYnNlcnZlciBjYWxsYmFjazogIisoYi5zdGFja3x8YikpfX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja18odm9pZCAwLCEwKSx0aGlzLnZhbHVlX319O3ZhciBvYixwYj0hUTt0Ll9hbGxPYnNlcnZlcnNDb3VudD0wLHBiJiYob2I9W10pO3ZhciBxYj0hMSxyYj0iZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmRlbGl2ZXJBbGxDaGFuZ2VSZWNvcmRzO2EuUGxhdGZvcm09YS5QbGF0Zm9ybXx8e30sYS5QbGF0Zm9ybS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludD1mdW5jdGlvbigpe2lmKCFxYil7aWYocmIpcmV0dXJuIHZvaWQgT2JqZWN0LmRlbGl2ZXJBbGxDaGFuZ2VSZWNvcmRzKCk7aWYocGIpe3FiPSEwO3ZhciBiLGMsZD0wO2Rve2QrKyxjPW9iLG9iPVtdLGI9ITE7Zm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspe3ZhciBmPWNbZV07Zi5zdGF0ZV89PWtiJiYoZi5jaGVja18oKSYmKGI9ITApLG9iLnB1c2goZikpfW8oKSYmKGI9ITApfXdoaWxlKGRiPmQmJmIpO2EudGVzdGluZ0V4cG9zZUN5Y2xlQ291bnQmJihhLmRpcnR5Q2hlY2tDeWNsZUNvdW50PWQpLHFiPSExfX19LHBiJiYoYS5QbGF0Zm9ybS5jbGVhck9ic2VydmVycz1mdW5jdGlvbigpe29iPVtdfSksdy5wcm90b3R5cGU9VCh7X19wcm90b19fOnQucHJvdG90eXBlLGFycmF5T2JzZXJ2ZTohMSxjb25uZWN0XzpmdW5jdGlvbigpe1E/dGhpcy5kaXJlY3RPYnNlcnZlcl89cSh0aGlzLHRoaXMudmFsdWVfLHRoaXMuYXJyYXlPYnNlcnZlKTp0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKX0sY29weU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYj1BcnJheS5pc0FycmF5KGEpP1tdOnt9O2Zvcih2YXIgYyBpbiBhKWJbY109YVtjXTtyZXR1cm4gQXJyYXkuaXNBcnJheShhKSYmKGIubGVuZ3RoPWEubGVuZ3RoKSxifSxjaGVja186ZnVuY3Rpb24oYSl7dmFyIGIsYztpZihRKXtpZighYSlyZXR1cm4hMTtjPXt9LGI9RCh0aGlzLnZhbHVlXyxhLGMpfWVsc2UgYz10aGlzLm9sZE9iamVjdF8sYj1uKHRoaXMudmFsdWVfLHRoaXMub2xkT2JqZWN0Xyk7cmV0dXJuIG0oYik/ITE6KFF8fCh0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKSksdGhpcy5yZXBvcnRfKFtiLmFkZGVkfHx7fSxiLnJlbW92ZWR8fHt9LGIuY2hhbmdlZHx8e30sZnVuY3Rpb24oYSl7cmV0dXJuIGNbYV19XSksITApfSxkaXNjb25uZWN0XzpmdW5jdGlvbigpe1E/KHRoaXMuZGlyZWN0T2JzZXJ2ZXJfLmNsb3NlKCksdGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwKTp0aGlzLm9sZE9iamVjdF89dm9pZCAwfSxkZWxpdmVyOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZV89PWtiJiYoUT90aGlzLmRpcmVjdE9ic2VydmVyXy5kZWxpdmVyKCExKTprKHRoaXMpKX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXJlY3RPYnNlcnZlcl8/dGhpcy5kaXJlY3RPYnNlcnZlcl8uZGVsaXZlcighMCk6dGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXyksdGhpcy52YWx1ZV99fSkseC5wcm90b3R5cGU9VCh7X19wcm90b19fOncucHJvdG90eXBlLGFycmF5T2JzZXJ2ZTohMCxjb3B5T2JqZWN0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnNsaWNlKCl9LGNoZWNrXzpmdW5jdGlvbihhKXt2YXIgYjtpZihRKXtpZighYSlyZXR1cm4hMTtiPUsodGhpcy52YWx1ZV8sYSl9ZWxzZSBiPUcodGhpcy52YWx1ZV8sMCx0aGlzLnZhbHVlXy5sZW5ndGgsdGhpcy5vbGRPYmplY3RfLDAsdGhpcy5vbGRPYmplY3RfLmxlbmd0aCk7cmV0dXJuIGImJmIubGVuZ3RoPyhRfHwodGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXykpLHRoaXMucmVwb3J0XyhbYl0pLCEwKTohMX19KSx4LmFwcGx5U3BsaWNlcz1mdW5jdGlvbihhLGIsYyl7Yy5mb3JFYWNoKGZ1bmN0aW9uKGMpe2Zvcih2YXIgZD1bYy5pbmRleCxjLnJlbW92ZWQubGVuZ3RoXSxlPWMuaW5kZXg7ZTxjLmluZGV4K2MuYWRkZWRDb3VudDspZC5wdXNoKGJbZV0pLGUrKztBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KGEsZCl9KX0seS5wcm90b3R5cGU9VCh7X19wcm90b19fOnQucHJvdG90eXBlLGNvbm5lY3RfOmZ1bmN0aW9uKCl7USYmKHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXModGhpcyx0aGlzLm9iamVjdF8pKSx0aGlzLmNoZWNrXyh2b2lkIDAsITApfSxkaXNjb25uZWN0XzpmdW5jdGlvbigpe3RoaXMudmFsdWVfPXZvaWQgMCx0aGlzLmRpcmVjdE9ic2VydmVyXyYmKHRoaXMuZGlyZWN0T2JzZXJ2ZXJfLmNsb3NlKHRoaXMpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCl9LGl0ZXJhdGVPYmplY3RzXzpmdW5jdGlvbihhKXt0aGlzLnBhdGhfLml0ZXJhdGVPYmplY3RzKHRoaXMub2JqZWN0XyxhKX0sY2hlY2tfOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy52YWx1ZV87cmV0dXJuIHRoaXMudmFsdWVfPXRoaXMucGF0aF8uZ2V0VmFsdWVGcm9tKHRoaXMub2JqZWN0XyksYnx8Zyh0aGlzLnZhbHVlXyxjKT8hMToodGhpcy5yZXBvcnRfKFt0aGlzLnZhbHVlXyxjXSksITApfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXt0aGlzLnBhdGhfJiZ0aGlzLnBhdGhfLnNldFZhbHVlRnJvbSh0aGlzLm9iamVjdF8sYSl9fSk7dmFyIHNiPXt9O3oucHJvdG90eXBlPVQoe19fcHJvdG9fXzp0LnByb3RvdHlwZSxjb25uZWN0XzpmdW5jdGlvbigpe2lmKHRoaXMuY2hlY2tfKHZvaWQgMCwhMCksUSl7Zm9yKHZhciBhLGI9ITEsYz0wO2M8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2MrPTIpaWYoYT10aGlzLm9ic2VydmVkX1tjXSxhIT09c2Ipe2I9ITA7YnJlYWt9cmV0dXJuIHRoaXMuZGlyZWN0T2JzZXJ2ZXJfP2I/dm9pZCB0aGlzLmRpcmVjdE9ic2VydmVyXy5yZXNldCgpOih0aGlzLmRpcmVjdE9ic2VydmVyXy5jbG9zZSgpLHZvaWQodGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwKSk6dm9pZChiJiYodGhpcy5kaXJlY3RPYnNlcnZlcl89cyh0aGlzLGEpKSl9fSxjbG9zZU9ic2VydmVyc186ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMub2JzZXJ2ZWRfLmxlbmd0aDthKz0yKXRoaXMub2JzZXJ2ZWRfW2FdPT09c2ImJnRoaXMub2JzZXJ2ZWRfW2ErMV0uY2xvc2UoKTt0aGlzLm9ic2VydmVkXy5sZW5ndGg9MH0sZGlzY29ubmVjdF86ZnVuY3Rpb24oKXt0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5kaXJlY3RPYnNlcnZlcl8mJih0aGlzLmRpcmVjdE9ic2VydmVyXy5jbG9zZSh0aGlzKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDApLHRoaXMuY2xvc2VPYnNlcnZlcnNfKCl9LGFkZFBhdGg6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLnN0YXRlXyE9amImJnRoaXMuc3RhdGVfIT1tYil0aHJvdyBFcnJvcigiQ2Fubm90IGFkZCBwYXRocyBvbmNlIHN0YXJ0ZWQuIik7dGhpcy5vYnNlcnZlZF8ucHVzaChhLGIgaW5zdGFuY2VvZiBpP2I6aihiKSl9LGFkZE9ic2VydmVyOmZ1bmN0aW9uKGEpe2lmKHRoaXMuc3RhdGVfIT1qYiYmdGhpcy5zdGF0ZV8hPW1iKXRocm93IEVycm9yKCJDYW5ub3QgYWRkIG9ic2VydmVycyBvbmNlIHN0YXJ0ZWQuIik7YS5vcGVuKHRoaXMuZGVsaXZlcix0aGlzKSx0aGlzLm9ic2VydmVkXy5wdXNoKHNiLGEpfSxzdGFydFJlc2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5zdGF0ZV8hPWtiKXRocm93IEVycm9yKCJDYW4gb25seSByZXNldCB3aGlsZSBvcGVuIik7dGhpcy5zdGF0ZV89bWIsdGhpcy5jbG9zZU9ic2VydmVyc18oKX0sZmluaXNoUmVzZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXRlXyE9bWIpdGhyb3cgRXJyb3IoIkNhbiBvbmx5IGZpbmlzaFJlc2V0IGFmdGVyIHN0YXJ0UmVzZXQiKTtyZXR1cm4gdGhpcy5zdGF0ZV89a2IsdGhpcy5jb25uZWN0XygpLHRoaXMudmFsdWVffSxpdGVyYXRlT2JqZWN0c186ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9MDtjPHRoaXMub2JzZXJ2ZWRfLmxlbmd0aDtjKz0yKWI9dGhpcy5vYnNlcnZlZF9bY10sYiE9PXNiJiZ0aGlzLm9ic2VydmVkX1tjKzFdLml0ZXJhdGVPYmplY3RzKGIsYSl9LGNoZWNrXzpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPTA7ZDx0aGlzLm9ic2VydmVkXy5sZW5ndGg7ZCs9Mil7dmFyIGU9dGhpcy5vYnNlcnZlZF9bZCsxXSxmPXRoaXMub2JzZXJ2ZWRfW2RdLGg9Zj09PXNiP2UuZGlzY2FyZENoYW5nZXMoKTplLmdldFZhbHVlRnJvbShmKTtiP3RoaXMudmFsdWVfW2QvMl09aDpnKGgsdGhpcy52YWx1ZV9bZC8yXSl8fChjPWN8fFtdLGNbZC8yXT10aGlzLnZhbHVlX1tkLzJdLHRoaXMudmFsdWVfW2QvMl09aCl9cmV0dXJuIGM/KHRoaXMucmVwb3J0XyhbdGhpcy52YWx1ZV8sYyx0aGlzLm9ic2VydmVkX10pLCEwKTohMX19KSxCLnByb3RvdHlwZT17b3BlbjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmNhbGxiYWNrXz1hLHRoaXMudGFyZ2V0Xz1iLHRoaXMudmFsdWVfPXRoaXMuZ2V0VmFsdWVGbl8odGhpcy5vYnNlcnZhYmxlXy5vcGVuKHRoaXMub2JzZXJ2ZWRDYWxsYmFja18sdGhpcykpLHRoaXMudmFsdWVffSxvYnNlcnZlZENhbGxiYWNrXzpmdW5jdGlvbihhKXtpZihhPXRoaXMuZ2V0VmFsdWVGbl8oYSksIWcoYSx0aGlzLnZhbHVlXykpe3ZhciBiPXRoaXMudmFsdWVfO3RoaXMudmFsdWVfPWEsdGhpcy5jYWxsYmFja18uY2FsbCh0aGlzLnRhcmdldF8sdGhpcy52YWx1ZV8sYil9fSxkaXNjYXJkQ2hhbmdlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlXz10aGlzLmdldFZhbHVlRm5fKHRoaXMub2JzZXJ2YWJsZV8uZGlzY2FyZENoYW5nZXMoKSksdGhpcy52YWx1ZV99LGRlbGl2ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vYnNlcnZhYmxlXy5kZWxpdmVyKCl9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe3JldHVybiBhPXRoaXMuc2V0VmFsdWVGbl8oYSksIXRoaXMuZG9udFBhc3NUaHJvdWdoU2V0XyYmdGhpcy5vYnNlcnZhYmxlXy5zZXRWYWx1ZT90aGlzLm9ic2VydmFibGVfLnNldFZhbHVlKGEpOnZvaWQgMH0sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLm9ic2VydmFibGVfJiZ0aGlzLm9ic2VydmFibGVfLmNsb3NlKCksdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy5vYnNlcnZhYmxlXz12b2lkIDAsdGhpcy52YWx1ZV89dm9pZCAwLHRoaXMuZ2V0VmFsdWVGbl89dm9pZCAwLHRoaXMuc2V0VmFsdWVGbl89dm9pZCAwfX07dmFyIHRiPXt9O3RiW0xdPSEwLHRiW01dPSEwLHRiW09dPSEwLHQuZGVmaW5lQ29tcHV0ZWRQcm9wZXJ0eT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9QyhhLGIpLGU9Yy5vcGVuKGZ1bmN0aW9uKGEsYil7ZT1hLGQmJmQoTSxiKX0pO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYy5kZWxpdmVyKCksZX0sc2V0OmZ1bmN0aW9uKGEpe3JldHVybiBjLnNldFZhbHVlKGEpLGF9LGNvbmZpZ3VyYWJsZTohMH0pLHtjbG9zZTpmdW5jdGlvbigpe2MuY2xvc2UoKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfX19O3ZhciB1Yj0wLHZiPTEsd2I9Mix4Yj0zO0YucHJvdG90eXBlPXtjYWxjRWRpdERpc3RhbmNlczpmdW5jdGlvbihhLGIsYyxkLGUsZil7Zm9yKHZhciBnPWYtZSsxLGg9Yy1iKzEsaT1uZXcgQXJyYXkoZyksaj0wO2c+ajtqKyspaVtqXT1uZXcgQXJyYXkoaCksaVtqXVswXT1qO2Zvcih2YXIgaz0wO2g+aztrKyspaVswXVtrXT1rO2Zvcih2YXIgaj0xO2c+ajtqKyspZm9yKHZhciBrPTE7aD5rO2srKylpZih0aGlzLmVxdWFscyhhW2Iray0xXSxkW2Urai0xXSkpaVtqXVtrXT1pW2otMV1bay0xXTtlbHNle3ZhciBsPWlbai0xXVtrXSsxLG09aVtqXVtrLTFdKzE7aVtqXVtrXT1tPmw/bDptfXJldHVybiBpfSxzcGxpY2VPcGVyYXRpb25zRnJvbUVkaXREaXN0YW5jZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEubGVuZ3RoLTEsYz1hWzBdLmxlbmd0aC0xLGQ9YVtiXVtjXSxlPVtdO2I+MHx8Yz4wOylpZigwIT1iKWlmKDAhPWMpe3ZhciBmLGc9YVtiLTFdW2MtMV0saD1hW2ItMV1bY10saT1hW2JdW2MtMV07Zj1pPmg/Zz5oP2g6ZzpnPmk/aTpnLGY9PWc/KGc9PWQ/ZS5wdXNoKHViKTooZS5wdXNoKHZiKSxkPWcpLGItLSxjLS0pOmY9PWg/KGUucHVzaCh4YiksYi0tLGQ9aCk6KGUucHVzaCh3YiksYy0tLGQ9aSl9ZWxzZSBlLnB1c2goeGIpLGItLTtlbHNlIGUucHVzaCh3YiksYy0tO3JldHVybiBlLnJldmVyc2UoKSxlfSxjYWxjU3BsaWNlczpmdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9MCxoPTAsaT1NYXRoLm1pbihjLWIsZi1lKTtpZigwPT1iJiYwPT1lJiYoZz10aGlzLnNoYXJlZFByZWZpeChhLGQsaSkpLGM9PWEubGVuZ3RoJiZmPT1kLmxlbmd0aCYmKGg9dGhpcy5zaGFyZWRTdWZmaXgoYSxkLGktZykpLGIrPWcsZSs9ZyxjLT1oLGYtPWgsYy1iPT0wJiZmLWU9PTApcmV0dXJuW107aWYoYj09Yyl7Zm9yKHZhciBqPUUoYixbXSwwKTtmPmU7KWoucmVtb3ZlZC5wdXNoKGRbZSsrXSk7cmV0dXJuW2pdfWlmKGU9PWYpcmV0dXJuW0UoYixbXSxjLWIpXTtmb3IodmFyIGs9dGhpcy5zcGxpY2VPcGVyYXRpb25zRnJvbUVkaXREaXN0YW5jZXModGhpcy5jYWxjRWRpdERpc3RhbmNlcyhhLGIsYyxkLGUsZikpLGo9dm9pZCAwLGw9W10sbT1iLG49ZSxvPTA7bzxrLmxlbmd0aDtvKyspc3dpdGNoKGtbb10pe2Nhc2UgdWI6aiYmKGwucHVzaChqKSxqPXZvaWQgMCksbSsrLG4rKzticmVhaztjYXNlIHZiOmp8fChqPUUobSxbXSwwKSksai5hZGRlZENvdW50KyssbSsrLGoucmVtb3ZlZC5wdXNoKGRbbl0pLG4rKzticmVhaztjYXNlIHdiOmp8fChqPUUobSxbXSwwKSksai5hZGRlZENvdW50KyssbSsrO2JyZWFrO2Nhc2UgeGI6anx8KGo9RShtLFtdLDApKSxqLnJlbW92ZWQucHVzaChkW25dKSxuKyt9cmV0dXJuIGomJmwucHVzaChqKSxsfSxzaGFyZWRQcmVmaXg6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wO2M+ZDtkKyspaWYoIXRoaXMuZXF1YWxzKGFbZF0sYltkXSkpcmV0dXJuIGQ7cmV0dXJuIGN9LHNoYXJlZFN1ZmZpeDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWEubGVuZ3RoLGU9Yi5sZW5ndGgsZj0wO2M+ZiYmdGhpcy5lcXVhbHMoYVstLWRdLGJbLS1lXSk7KWYrKztyZXR1cm4gZn0sY2FsY3VsYXRlU3BsaWNlczpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmNhbGNTcGxpY2VzKGEsMCxhLmxlbmd0aCxiLDAsYi5sZW5ndGgpfSxlcXVhbHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWJ9fTt2YXIgeWI9bmV3IEY7YS5PYnNlcnZlcj10LGEuT2JzZXJ2ZXIucnVuRU9NXz1mYixhLk9ic2VydmVyLmhhc09iamVjdE9ic2VydmU9USxhLkFycmF5T2JzZXJ2ZXI9eCxhLkFycmF5T2JzZXJ2ZXIuY2FsY3VsYXRlU3BsaWNlcz1mdW5jdGlvbihhLGIpe3JldHVybiB5Yi5jYWxjdWxhdGVTcGxpY2VzKGEsYil9LGEuQXJyYXlTcGxpY2U9RixhLk9iamVjdE9ic2VydmVyPXcsYS5QYXRoT2JzZXJ2ZXI9eSxhLkNvbXBvdW5kT2JzZXJ2ZXI9eixhLlBhdGg9aSxhLk9ic2VydmVyVHJhbnNmb3JtPUIsYS5PYnNlcnZlci5jaGFuZ2VSZWNvcmRUeXBlcz17YWRkOkwsdXBkYXRlOk0scmVjb25maWd1cmU6TiwiZGVsZXRlIjpPLHNwbGljZTpQfX0oInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWwmJmdsb2JhbCYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZT9nbG9iYWw6dGhpc3x8d2luZG93KSx3aW5kb3cuUGxhdGZvcm09d2luZG93LlBsYXRmb3JtfHx7fSx3aW5kb3cubG9nRmxhZ3M9d2luZG93LmxvZ0ZsYWdzfHx7fSxmdW5jdGlvbihhKXt2YXIgYj1hLmZsYWdzfHx7fTtsb2NhdGlvbi5zZWFyY2guc2xpY2UoMSkuc3BsaXQoIiYiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2E9YS5zcGxpdCgiPSIpLGFbMF0mJihiW2FbMF1dPWFbMV18fCEwKX0pO3ZhciBjPWRvY3VtZW50LmN1cnJlbnRTY3JpcHR8fGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NjcmlwdFtzcmMqPSJwbGF0Zm9ybS5qcyJdJyk7aWYoYylmb3IodmFyIGQsZT1jLmF0dHJpYnV0ZXMsZj0wO2Y8ZS5sZW5ndGg7ZisrKWQ9ZVtmXSwic3JjIiE9PWQubmFtZSYmKGJbZC5uYW1lXT1kLnZhbHVlfHwhMCk7Yi5sb2cmJmIubG9nLnNwbGl0KCIsIikuZm9yRWFjaChmdW5jdGlvbihhKXt3aW5kb3cubG9nRmxhZ3NbYV09ITB9KSxiLnNoYWRvdz1iLnNoYWRvd3x8Yi5zaGFkb3dkb218fGIucG9seWZpbGwsYi5zaGFkb3c9Im5hdGl2ZSI9PT1iLnNoYWRvdz8hMTpiLnNoYWRvd3x8IUhUTUxFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290LGIucmVnaXN0ZXImJih3aW5kb3cuQ3VzdG9tRWxlbWVudHM9d2luZG93LkN1c3RvbUVsZW1lbnRzfHx7ZmxhZ3M6e319LHdpbmRvdy5DdXN0b21FbGVtZW50cy5mbGFncy5yZWdpc3Rlcj1iLnJlZ2lzdGVyKSxiLmltcG9ydHMmJih3aW5kb3cuSFRNTEltcG9ydHM9d2luZG93LkhUTUxJbXBvcnRzfHx7ZmxhZ3M6e319LHdpbmRvdy5IVE1MSW1wb3J0cy5mbGFncy5pbXBvcnRzPWIuaW1wb3J0cyksYS5mbGFncz1ifShQbGF0Zm9ybSksUGxhdGZvcm0uZmxhZ3Muc2hhZG93Pyh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGw9e30sZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7aWYoIWEpdGhyb3cgbmV3IEVycm9yKCJBc3NlcnRpb24gZmFpbGVkIil9ZnVuY3Rpb24gYyhhLGIpe3JldHVybiBMKGIpLmZvckVhY2goZnVuY3Rpb24oYyl7SyhhLGMsTShiLGMpKX0pLGF9ZnVuY3Rpb24gZChhLGIpe3JldHVybiBMKGIpLmZvckVhY2goZnVuY3Rpb24oYyl7c3dpdGNoKGMpe2Nhc2UiYXJndW1lbnRzIjpjYXNlImNhbGxlciI6Y2FzZSJsZW5ndGgiOmNhc2UibmFtZSI6Y2FzZSJwcm90b3R5cGUiOmNhc2UidG9TdHJpbmciOnJldHVybn1LKGEsYyxNKGIsYykpfSksYX1mdW5jdGlvbiBlKGEsYil7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspaWYoYltjXWluIGEpcmV0dXJuIGJbY119ZnVuY3Rpb24gZihhKXt2YXIgYj1hLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGEpLGM9RS5nZXQoYik7aWYoYylyZXR1cm4gYzt2YXIgZD1mKGIpLGU9dChkKTtyZXR1cm4gcShiLGUsYSksZX1mdW5jdGlvbiBnKGEsYil7byhhLGIsITApfWZ1bmN0aW9uIGgoYSxiKXtvKGIsYSwhMSl9ZnVuY3Rpb24gaShhKXtyZXR1cm4vXm9uW2Etel0rJC8udGVzdChhKX1mdW5jdGlvbiBqKGEpe3JldHVybi9eXHdbYS16QS1aXzAtOV0qJC8udGVzdChhKX1mdW5jdGlvbiBrKGEpe3JldHVybiBIJiZqKGEpP25ldyBGdW5jdGlvbigicmV0dXJuIHRoaXMuaW1wbC4iK2EpOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1wbFthXX19ZnVuY3Rpb24gbChhKXtyZXR1cm4gSCYmaihhKT9uZXcgRnVuY3Rpb24oInYiLCJ0aGlzLmltcGwuIithKyIgPSB2Iik6ZnVuY3Rpb24oYil7dGhpcy5pbXBsW2FdPWJ9fWZ1bmN0aW9uIG0oYSl7cmV0dXJuIEgmJmooYSk/bmV3IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcy5pbXBsLiIrYSsiLmFwcGx5KHRoaXMuaW1wbCwgYXJndW1lbnRzKSIpOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1wbFthXS5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX19ZnVuY3Rpb24gbihhLGIpe3RyeXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGIpfWNhdGNoKGMpe3JldHVybiBPfX1mdW5jdGlvbiBvKGIsYyxkKXtmb3IodmFyIGU9TChiKSxmPTA7ZjxlLmxlbmd0aDtmKyspe3ZhciBnPWVbZl07aWYoInBvbHltZXJCbGFja0xpc3RfIiE9PWcmJiEoZyBpbiBjfHxiLnBvbHltZXJCbGFja0xpc3RfJiZiLnBvbHltZXJCbGFja0xpc3RfW2ddKSl7TiYmYi5fX2xvb2t1cEdldHRlcl9fKGcpO3ZhciBoLGosbz1uKGIsZyk7aWYoZCYmImZ1bmN0aW9uIj09dHlwZW9mIG8udmFsdWUpY1tnXT1tKGcpO2Vsc2V7dmFyIHA9aShnKTtoPXA/YS5nZXRFdmVudEhhbmRsZXJHZXR0ZXIoZyk6ayhnKSwoby53cml0YWJsZXx8by5zZXQpJiYoaj1wP2EuZ2V0RXZlbnRIYW5kbGVyU2V0dGVyKGcpOmwoZykpLEsoYyxnLHtnZXQ6aCxzZXQ6aixjb25maWd1cmFibGU6by5jb25maWd1cmFibGUsZW51bWVyYWJsZTpvLmVudW1lcmFibGV9KX19fX1mdW5jdGlvbiBwKGEsYixjKXt2YXIgZT1hLnByb3RvdHlwZTtxKGUsYixjKSxkKGIsYSl9ZnVuY3Rpb24gcShhLGMsZCl7dmFyIGU9Yy5wcm90b3R5cGU7Yih2b2lkIDA9PT1FLmdldChhKSksRS5zZXQoYSxjKSxGLnNldChlLGEpLGcoYSxlKSxkJiZoKGUsZCksSyhlLCJjb25zdHJ1Y3RvciIse3ZhbHVlOmMsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITB9KX1mdW5jdGlvbiByKGEsYil7cmV0dXJuIEUuZ2V0KGIucHJvdG90eXBlKT09PWF9ZnVuY3Rpb24gcyhhKXt2YXIgYj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoYSksYz1mKGIpLGQ9dChjKTtyZXR1cm4gcShiLGQsYSksZH1mdW5jdGlvbiB0KGEpe2Z1bmN0aW9uIGIoYil7YS5jYWxsKHRoaXMsYil9cmV0dXJuIGIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYS5wcm90b3R5cGUpLGIucHJvdG90eXBlLmNvbnN0cnVjdG9yPWIsYn1mdW5jdGlvbiB1KGEpe3JldHVybiBhIGluc3RhbmNlb2YgRy5FdmVudFRhcmdldHx8YSBpbnN0YW5jZW9mIEcuRXZlbnR8fGEgaW5zdGFuY2VvZiBHLlJhbmdlfHxhIGluc3RhbmNlb2YgRy5ET01JbXBsZW1lbnRhdGlvbnx8YSBpbnN0YW5jZW9mIEcuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfHxHLldlYkdMUmVuZGVyaW5nQ29udGV4dCYmYSBpbnN0YW5jZW9mIEcuV2ViR0xSZW5kZXJpbmdDb250ZXh0fWZ1bmN0aW9uIHYoYSl7cmV0dXJuIFEmJmEgaW5zdGFuY2VvZiBRfHxhIGluc3RhbmNlb2YgU3x8YSBpbnN0YW5jZW9mIFJ8fGEgaW5zdGFuY2VvZiBUfHxhIGluc3RhbmNlb2YgVXx8YSBpbnN0YW5jZW9mIFB8fGEgaW5zdGFuY2VvZiBWfHxXJiZhIGluc3RhbmNlb2YgV3x8WCYmYSBpbnN0YW5jZW9mIFh9ZnVuY3Rpb24gdyhhKXtyZXR1cm4gbnVsbD09PWE/bnVsbDooYih2KGEpKSxhLnBvbHltZXJXcmFwcGVyX3x8KGEucG9seW1lcldyYXBwZXJfPW5ldyhmKGEpKShhKSkpfWZ1bmN0aW9uIHgoYSl7cmV0dXJuIG51bGw9PT1hP251bGw6KGIodShhKSksYS5pbXBsKX1mdW5jdGlvbiB5KGEpe3JldHVybiBhJiZ1KGEpP3goYSk6YX1mdW5jdGlvbiB6KGEpe3JldHVybiBhJiYhdShhKT93KGEpOmF9ZnVuY3Rpb24gQShhLGMpe251bGwhPT1jJiYoYih2KGEpKSxiKHZvaWQgMD09PWN8fHUoYykpLGEucG9seW1lcldyYXBwZXJfPWMpfWZ1bmN0aW9uIEIoYSxiLGMpe0soYS5wcm90b3R5cGUsYix7Z2V0OmMsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9KX1mdW5jdGlvbiBDKGEsYil7QihhLGIsZnVuY3Rpb24oKXtyZXR1cm4gdyh0aGlzLmltcGxbYl0pfSl9ZnVuY3Rpb24gRChhLGIpe2EuZm9yRWFjaChmdW5jdGlvbihhKXtiLmZvckVhY2goZnVuY3Rpb24oYil7YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXt2YXIgYT16KHRoaXMpO3JldHVybiBhW2JdLmFwcGx5KGEsYXJndW1lbnRzKX19KX0pfXZhciBFPW5ldyBXZWFrTWFwLEY9bmV3IFdlYWtNYXAsRz1PYmplY3QuY3JlYXRlKG51bGwpLEg9ISgic2VjdXJpdHlQb2xpY3kiaW4gZG9jdW1lbnQpfHxkb2N1bWVudC5zZWN1cml0eVBvbGljeS5hbGxvd3NFdmFsO2lmKEgpdHJ5e3ZhciBJPW5ldyBGdW5jdGlvbigiIiwicmV0dXJuIHRydWU7Iik7SD1JKCl9Y2F0Y2goSil7SD0hMX12YXIgSz1PYmplY3QuZGVmaW5lUHJvcGVydHksTD1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxNPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7TCh3aW5kb3cpO3ZhciBOPS9GaXJlZm94Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLE89e2dldDpmdW5jdGlvbigpe30sc2V0OmZ1bmN0aW9uKCl7fSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0sUD13aW5kb3cuRE9NSW1wbGVtZW50YXRpb24sUT13aW5kb3cuRXZlbnRUYXJnZXQsUj13aW5kb3cuRXZlbnQsUz13aW5kb3cuTm9kZSxUPXdpbmRvdy5XaW5kb3csVT13aW5kb3cuUmFuZ2UsVj13aW5kb3cuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFc9d2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dCxYPXdpbmRvdy5TVkdFbGVtZW50SW5zdGFuY2U7YS5hc3NlcnQ9YixhLmNvbnN0cnVjdG9yVGFibGU9RSxhLmRlZmluZUdldHRlcj1CLGEuZGVmaW5lV3JhcEdldHRlcj1DLGEuZm9yd2FyZE1ldGhvZHNUb1dyYXBwZXI9RCxhLmlzV3JhcHBlcj11LGEuaXNXcmFwcGVyRm9yPXIsYS5taXhpbj1jLGEubmF0aXZlUHJvdG90eXBlVGFibGU9RixhLm9uZU9mPWUsYS5yZWdpc3Rlck9iamVjdD1zLGEucmVnaXN0ZXJXcmFwcGVyPXAsYS5yZXdyYXA9QSxhLnVud3JhcD14LGEudW53cmFwSWZOZWVkZWQ9eSxhLndyYXA9dyxhLndyYXBJZk5lZWRlZD16LGEud3JhcHBlcnM9R30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYigpe2c9ITE7dmFyIGE9Zi5zbGljZSgwKTtmPVtdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWFbYl0oKX1mdW5jdGlvbiBjKGEpe2YucHVzaChhKSxnfHwoZz0hMCxkKGIsMCkpfXZhciBkLGU9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIsZj1bXSxnPSExO2lmKGUpe3ZhciBoPTEsaT1uZXcgZShiKSxqPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGgpO2kub2JzZXJ2ZShqLHtjaGFyYWN0ZXJEYXRhOiEwfSksZD1mdW5jdGlvbigpe2g9KGgrMSklMixqLmRhdGE9aH19ZWxzZSBkPXdpbmRvdy5zZXRJbW1lZGlhdGV8fHdpbmRvdy5zZXRUaW1lb3V0O2Euc2V0RW5kT2ZNaWNyb3Rhc2s9Y30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYigpe3B8fChrKGMpLHA9ITApfWZ1bmN0aW9uIGMoKXtwPSExO2RvIGZvcih2YXIgYT1vLnNsaWNlKCksYj0hMSxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPWFbY10sZT1kLnRha2VSZWNvcmRzKCk7ZihkKSxlLmxlbmd0aCYmKGQuY2FsbGJhY2tfKGUsZCksYj0hMCl9d2hpbGUoYil9ZnVuY3Rpb24gZChhLGIpe3RoaXMudHlwZT1hLHRoaXMudGFyZ2V0PWIsdGhpcy5hZGRlZE5vZGVzPW5ldyBtLk5vZGVMaXN0LHRoaXMucmVtb3ZlZE5vZGVzPW5ldyBtLk5vZGVMaXN0LHRoaXMucHJldmlvdXNTaWJsaW5nPW51bGwsdGhpcy5uZXh0U2libGluZz1udWxsLHRoaXMuYXR0cmlidXRlTmFtZT1udWxsLHRoaXMuYXR0cmlidXRlTmFtZXNwYWNlPW51bGwsdGhpcy5vbGRWYWx1ZT1udWxsfWZ1bmN0aW9uIGUoYSxiKXtmb3IoO2E7YT1hLnBhcmVudE5vZGUpe3ZhciBjPW4uZ2V0KGEpO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF07ZS5vcHRpb25zLnN1YnRyZWUmJmUuYWRkVHJhbnNpZW50T2JzZXJ2ZXIoYil9fX1mdW5jdGlvbiBmKGEpe2Zvcih2YXIgYj0wO2I8YS5ub2Rlc18ubGVuZ3RoO2IrKyl7dmFyIGM9YS5ub2Rlc19bYl0sZD1uLmdldChjKTtpZighZClyZXR1cm47Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV07Zi5vYnNlcnZlcj09PWEmJmYucmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzKCl9fX1mdW5jdGlvbiBnKGEsYyxlKXtmb3IodmFyIGY9T2JqZWN0LmNyZWF0ZShudWxsKSxnPU9iamVjdC5jcmVhdGUobnVsbCksaD1hO2g7aD1oLnBhcmVudE5vZGUpe3ZhciBpPW4uZ2V0KGgpO2lmKGkpZm9yKHZhciBqPTA7ajxpLmxlbmd0aDtqKyspe3ZhciBrPWlbal0sbD1rLm9wdGlvbnM7aWYoKGg9PT1hfHxsLnN1YnRyZWUpJiYhKCJhdHRyaWJ1dGVzIj09PWMmJiFsLmF0dHJpYnV0ZXN8fCJhdHRyaWJ1dGVzIj09PWMmJmwuYXR0cmlidXRlRmlsdGVyJiYobnVsbCE9PWUubmFtZXNwYWNlfHwtMT09PWwuYXR0cmlidXRlRmlsdGVyLmluZGV4T2YoZS5uYW1lKSl8fCJjaGFyYWN0ZXJEYXRhIj09PWMmJiFsLmNoYXJhY3RlckRhdGF8fCJjaGlsZExpc3QiPT09YyYmIWwuY2hpbGRMaXN0KSl7dmFyIG09ay5vYnNlcnZlcjtmW20udWlkX109bSwoImF0dHJpYnV0ZXMiPT09YyYmbC5hdHRyaWJ1dGVPbGRWYWx1ZXx8ImNoYXJhY3RlckRhdGEiPT09YyYmbC5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUpJiYoZ1ttLnVpZF9dPWUub2xkVmFsdWUpfX19dmFyIG89ITE7Zm9yKHZhciBwIGluIGYpe3ZhciBtPWZbcF0scT1uZXcgZChjLGEpOyJuYW1lImluIGUmJiJuYW1lc3BhY2UiaW4gZSYmKHEuYXR0cmlidXRlTmFtZT1lLm5hbWUscS5hdHRyaWJ1dGVOYW1lc3BhY2U9ZS5uYW1lc3BhY2UpLGUuYWRkZWROb2RlcyYmKHEuYWRkZWROb2Rlcz1lLmFkZGVkTm9kZXMpLGUucmVtb3ZlZE5vZGVzJiYocS5yZW1vdmVkTm9kZXM9ZS5yZW1vdmVkTm9kZXMpLGUucHJldmlvdXNTaWJsaW5nJiYocS5wcmV2aW91c1NpYmxpbmc9ZS5wcmV2aW91c1NpYmxpbmcpLGUubmV4dFNpYmxpbmcmJihxLm5leHRTaWJsaW5nPWUubmV4dFNpYmxpbmcpLHZvaWQgMCE9PWdbcF0mJihxLm9sZFZhbHVlPWdbcF0pLG0ucmVjb3Jkc18ucHVzaChxKSxvPSEwfW8mJmIoKX1mdW5jdGlvbiBoKGEpe2lmKHRoaXMuY2hpbGRMaXN0PSEhYS5jaGlsZExpc3QsdGhpcy5zdWJ0cmVlPSEhYS5zdWJ0cmVlLHRoaXMuYXR0cmlidXRlcz0iYXR0cmlidXRlcyJpbiBhfHwhKCJhdHRyaWJ1dGVPbGRWYWx1ZSJpbiBhfHwiYXR0cmlidXRlRmlsdGVyImluIGEpPyEhYS5hdHRyaWJ1dGVzOiEwLHRoaXMuY2hhcmFjdGVyRGF0YT0iY2hhcmFjdGVyRGF0YU9sZFZhbHVlImluIGEmJiEoImNoYXJhY3RlckRhdGEiaW4gYSk/ITA6ISFhLmNoYXJhY3RlckRhdGEsIXRoaXMuYXR0cmlidXRlcyYmKGEuYXR0cmlidXRlT2xkVmFsdWV8fCJhdHRyaWJ1dGVGaWx0ZXIiaW4gYSl8fCF0aGlzLmNoYXJhY3RlckRhdGEmJmEuY2hhcmFjdGVyRGF0YU9sZFZhbHVlKXRocm93IG5ldyBUeXBlRXJyb3I7aWYodGhpcy5jaGFyYWN0ZXJEYXRhPSEhYS5jaGFyYWN0ZXJEYXRhLHRoaXMuYXR0cmlidXRlT2xkVmFsdWU9ISFhLmF0dHJpYnV0ZU9sZFZhbHVlLHRoaXMuY2hhcmFjdGVyRGF0YU9sZFZhbHVlPSEhYS5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUsImF0dHJpYnV0ZUZpbHRlciJpbiBhKXtpZihudWxsPT1hLmF0dHJpYnV0ZUZpbHRlcnx8Im9iamVjdCIhPXR5cGVvZiBhLmF0dHJpYnV0ZUZpbHRlcil0aHJvdyBuZXcgVHlwZUVycm9yO3RoaXMuYXR0cmlidXRlRmlsdGVyPXEuY2FsbChhLmF0dHJpYnV0ZUZpbHRlcil9ZWxzZSB0aGlzLmF0dHJpYnV0ZUZpbHRlcj1udWxsfWZ1bmN0aW9uIGkoYSl7dGhpcy5jYWxsYmFja189YSx0aGlzLm5vZGVzXz1bXSx0aGlzLnJlY29yZHNfPVtdLHRoaXMudWlkXz0rK3Isby5wdXNoKHRoaXMpfWZ1bmN0aW9uIGooYSxiLGMpe3RoaXMub2JzZXJ2ZXI9YSx0aGlzLnRhcmdldD1iLHRoaXMub3B0aW9ucz1jLHRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXX12YXIgaz1hLnNldEVuZE9mTWljcm90YXNrLGw9YS53cmFwSWZOZWVkZWQsbT1hLndyYXBwZXJzLG49bmV3IFdlYWtNYXAsbz1bXSxwPSExLHE9QXJyYXkucHJvdG90eXBlLnNsaWNlLHI9MDtpLnByb3RvdHlwZT17b2JzZXJ2ZTpmdW5jdGlvbihhLGIpe2E9bChhKTt2YXIgYyxkPW5ldyBoKGIpLGU9bi5nZXQoYSk7ZXx8bi5zZXQoYSxlPVtdKTtmb3IodmFyIGY9MDtmPGUubGVuZ3RoO2YrKyllW2ZdLm9ic2VydmVyPT09dGhpcyYmKGM9ZVtmXSxjLnJlbW92ZVRyYW5zaWVudE9ic2VydmVycygpLGMub3B0aW9ucz1kKTtjfHwoYz1uZXcgaih0aGlzLGEsZCksZS5wdXNoKGMpLHRoaXMubm9kZXNfLnB1c2goYSkpfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy5ub2Rlc18uZm9yRWFjaChmdW5jdGlvbihhKXtmb3IodmFyIGI9bi5nZXQoYSksYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdO2lmKGQub2JzZXJ2ZXI9PT10aGlzKXtiLnNwbGljZShjLDEpO2JyZWFrfX19LHRoaXMpLHRoaXMucmVjb3Jkc189W119LHRha2VSZWNvcmRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5yZWNvcmRzXztyZXR1cm4gdGhpcy5yZWNvcmRzXz1bXSxhfX0sai5wcm90b3R5cGU9e2FkZFRyYW5zaWVudE9ic2VydmVyOmZ1bmN0aW9uKGEpe2lmKGEhPT10aGlzLnRhcmdldCl7dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzLnB1c2goYSk7dmFyIGI9bi5nZXQoYSk7Ynx8bi5zZXQoYSxiPVtdKSxiLnB1c2godGhpcyl9fSxyZW1vdmVUcmFuc2llbnRPYnNlcnZlcnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM7dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWZvcih2YXIgYz1hW2JdLGQ9bi5nZXQoYyksZT0wO2U8ZC5sZW5ndGg7ZSsrKWlmKGRbZV09PT10aGlzKXtkLnNwbGljZShlLDEpO2JyZWFrfX19LGEuZW5xdWV1ZU11dGF0aW9uPWcsYS5yZWdpc3RlclRyYW5zaWVudE9ic2VydmVycz1lLGEud3JhcHBlcnMuTXV0YXRpb25PYnNlcnZlcj1pLGEud3JhcHBlcnMuTXV0YXRpb25SZWNvcmQ9ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIFEuU2hhZG93Um9vdH1mdW5jdGlvbiBjKGEpe3ZhciBiPWEubG9jYWxOYW1lO3JldHVybiJjb250ZW50Ij09PWJ8fCJzaGFkb3ciPT09Yn1mdW5jdGlvbiBkKGEpe3JldHVybiEhYS5zaGFkb3dSb290fWZ1bmN0aW9uIGUoYSl7dmFyIGI7cmV0dXJuIGEucGFyZW50Tm9kZXx8KGI9YS5kZWZhdWx0VmlldykmJlAoYil8fG51bGx9ZnVuY3Rpb24gZihmLGcsaCl7aWYoaC5sZW5ndGgpcmV0dXJuIGguc2hpZnQoKTtpZihiKGYpKXJldHVybiBqKGYpfHxmLmhvc3Q7dmFyIGk9YS5ldmVudFBhcmVudHNUYWJsZS5nZXQoZik7aWYoaSl7Zm9yKHZhciBrPTE7azxpLmxlbmd0aDtrKyspaFtrLTFdPWlba107cmV0dXJuIGlbMF19aWYoZyYmYyhmKSl7dmFyIGw9Zi5wYXJlbnROb2RlO2lmKGwmJmQobCkpZm9yKHZhciBtPWEuZ2V0U2hhZG93VHJlZXMobCksbj1qKGcpLGs9MDtrPG0ubGVuZ3RoO2srKylpZihtW2tdLmNvbnRhaW5zKG4pKXJldHVybiBufXJldHVybiBlKGYpfWZ1bmN0aW9uIGcoYSl7Zm9yKHZhciBkPVtdLGU9YSxnPVtdLGk9W107ZTspe3ZhciBqPW51bGw7aWYoYyhlKSl7aj1oKGQpO3ZhciBrPWRbZC5sZW5ndGgtMV18fGU7ZC5wdXNoKGspfWVsc2UgZC5sZW5ndGh8fGQucHVzaChlKTt2YXIgbD1kW2QubGVuZ3RoLTFdO2cucHVzaCh7dGFyZ2V0OmwsY3VycmVudFRhcmdldDplfSksYihlKSYmZC5wb3AoKSxlPWYoZSxqLGkpfXJldHVybiBnfWZ1bmN0aW9uIGgoYSl7Zm9yKHZhciBiPWEubGVuZ3RoLTE7Yj49MDtiLS0paWYoIWMoYVtiXSkpcmV0dXJuIGFbYl07cmV0dXJuIG51bGx9ZnVuY3Rpb24gaShhLGQpe2Zvcih2YXIgZT1bXTthOyl7Zm9yKHZhciBnPVtdLGk9ZCxqPXZvaWQgMDtpOyl7dmFyIGw9bnVsbDtpZihnLmxlbmd0aCl7aWYoYyhpKSYmKGw9aChnKSxrKGopKSl7dmFyIG49Z1tnLmxlbmd0aC0xXTtnLnB1c2gobil9fWVsc2UgZy5wdXNoKGkpO2lmKG0oaSxhKSlyZXR1cm4gZ1tnLmxlbmd0aC0xXTtiKGkpJiZnLnBvcCgpLGo9aSxpPWYoaSxsLGUpfWE9YihhKT9hLmhvc3Q6YS5wYXJlbnROb2RlfX1mdW5jdGlvbiBqKGIpe3JldHVybiBhLmluc2VydGlvblBhcmVudFRhYmxlLmdldChiKX1mdW5jdGlvbiBrKGEpe3JldHVybiBqKGEpfWZ1bmN0aW9uIGwoYSl7Zm9yKHZhciBiO2I9YS5wYXJlbnROb2RlOylhPWI7cmV0dXJuIGF9ZnVuY3Rpb24gbShhLGIpe3JldHVybiBsKGEpPT09bChiKX1mdW5jdGlvbiBuKGEsYil7cmV0dXJuIGE9PT1iPyEwOmEgaW5zdGFuY2VvZiBRLlNoYWRvd1Jvb3Q/bihsKGEuaG9zdCksYik6ITF9ZnVuY3Rpb24gbyhhKXtyZXR1cm4gUy5nZXQoYSk/dm9pZCAwOihTLnNldChhLCEwKSxwKFAoYSksUChhLnRhcmdldCkpKX1mdW5jdGlvbiBwKGIsYyl7aWYoVC5nZXQoYikpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkU3RhdGVFcnJvciIpO1Quc2V0KGIsITApLGEucmVuZGVyQWxsUGVuZGluZygpO3ZhciBkPWcoYyk7cmV0dXJuImxvYWQiPT09Yi50eXBlJiYyPT09ZC5sZW5ndGgmJmRbMF0udGFyZ2V0IGluc3RhbmNlb2YgUS5Eb2N1bWVudCYmZC5zaGlmdCgpLF8uc2V0KGIsZCkscShiLGQpJiZyKGIsZCkmJnMoYixkKSxYLnNldChiLHYuTk9ORSksVi5kZWxldGUoYixudWxsKSxULmRlbGV0ZShiKSxiLmRlZmF1bHRQcmV2ZW50ZWR9ZnVuY3Rpb24gcShhLGIpe2Zvcih2YXIgYyxkPWIubGVuZ3RoLTE7ZD4wO2QtLSl7dmFyIGU9YltkXS50YXJnZXQsZj1iW2RdLmN1cnJlbnRUYXJnZXQ7aWYoZSE9PWYmJihjPXYuQ0FQVFVSSU5HX1BIQVNFLCF0KGJbZF0sYSxjKSkpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gcihhLGIpe3ZhciBjPXYuQVRfVEFSR0VUO3JldHVybiB0KGJbMF0sYSxjKX1mdW5jdGlvbiBzKGEsYil7Zm9yKHZhciBjLGQ9YS5idWJibGVzLGU9MTtlPGIubGVuZ3RoO2UrKyl7dmFyIGY9YltlXS50YXJnZXQsZz1iW2VdLmN1cnJlbnRUYXJnZXQ7aWYoZj09PWcpYz12LkFUX1RBUkdFVDtlbHNle2lmKCFkfHxaLmdldChhKSljb250aW51ZTtjPXYuQlVCQkxJTkdfUEhBU0V9aWYoIXQoYltlXSxhLGMpKXJldHVybn19ZnVuY3Rpb24gdChhLGIsYyl7dmFyIGQ9YS50YXJnZXQsZT1hLmN1cnJlbnRUYXJnZXQsZj1SLmdldChlKTtpZighZilyZXR1cm4hMDtpZigicmVsYXRlZFRhcmdldCJpbiBiKXt2YXIgZz1PKGIpO2lmKGcucmVsYXRlZFRhcmdldCl7dmFyIGg9UChnLnJlbGF0ZWRUYXJnZXQpLGo9aShlLGgpO2lmKGo9PT1kKXJldHVybiEwO1cuc2V0KGIsail9fVguc2V0KGIsYyk7dmFyIGs9Yi50eXBlLGw9ITE7VS5zZXQoYixkKSxWLnNldChiLGUpO2Zvcih2YXIgbT0wO208Zi5sZW5ndGg7bSsrKXt2YXIgbj1mW21dO2lmKG4ucmVtb3ZlZClsPSEwO2Vsc2UgaWYoIShuLnR5cGUhPT1rfHwhbi5jYXB0dXJlJiZjPT09di5DQVBUVVJJTkdfUEhBU0V8fG4uY2FwdHVyZSYmYz09PXYuQlVCQkxJTkdfUEhBU0UpKXRyeXtpZigiZnVuY3Rpb24iPT10eXBlb2Ygbi5oYW5kbGVyP24uaGFuZGxlci5jYWxsKGUsYik6bi5oYW5kbGVyLmhhbmRsZUV2ZW50KGIpLFouZ2V0KGIpKXJldHVybiExfWNhdGNoKG8pe3dpbmRvdy5vbmVycm9yP3dpbmRvdy5vbmVycm9yKG8ubWVzc2FnZSk6Y29uc29sZS5lcnJvcihvLG8uc3RhY2spfX1pZihsKXt2YXIgcD1mLnNsaWNlKCk7Zi5sZW5ndGg9MDtmb3IodmFyIG09MDttPHAubGVuZ3RoO20rKylwW21dLnJlbW92ZWR8fGYucHVzaChwW21dKX1yZXR1cm4hWS5nZXQoYil9ZnVuY3Rpb24gdShhLGIsYyl7dGhpcy50eXBlPWEsdGhpcy5oYW5kbGVyPWIsdGhpcy5jYXB0dXJlPUJvb2xlYW4oYyl9ZnVuY3Rpb24gdihhLGIpe3JldHVybiBhIGluc3RhbmNlb2YgYWI/dm9pZCh0aGlzLmltcGw9YSk6UCh6KGFiLCJFdmVudCIsYSxiKSl9ZnVuY3Rpb24gdyhhKXtyZXR1cm4gYSYmYS5yZWxhdGVkVGFyZ2V0P09iamVjdC5jcmVhdGUoYSx7cmVsYXRlZFRhcmdldDp7dmFsdWU6TyhhLnJlbGF0ZWRUYXJnZXQpfX0pOmF9ZnVuY3Rpb24geChhLGIsYyl7dmFyIGQ9d2luZG93W2FdLGU9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYiBpbnN0YW5jZW9mIGQ/dm9pZCh0aGlzLmltcGw9Yik6UCh6KGQsYSxiLGMpKX07aWYoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksYyYmTShlLnByb3RvdHlwZSxjKSxkKXRyeXtOKGQsZSxuZXcgZCgidGVtcCIpKX1jYXRjaChmKXtOKGQsZSxkb2N1bWVudC5jcmVhdGVFdmVudChhKSl9cmV0dXJuIGV9ZnVuY3Rpb24geShhLGIpe3JldHVybiBmdW5jdGlvbigpe2FyZ3VtZW50c1tiXT1PKGFyZ3VtZW50c1tiXSk7dmFyIGM9Tyh0aGlzKTtjW2FdLmFwcGx5KGMsYXJndW1lbnRzKX19ZnVuY3Rpb24geihhLGIsYyxkKXtpZihqYilyZXR1cm4gbmV3IGEoYyx3KGQpKTt2YXIgZT1PKGRvY3VtZW50LmNyZWF0ZUV2ZW50KGIpKSxmPWliW2JdLGc9W2NdO3JldHVybiBPYmplY3Qua2V5cyhmKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPW51bGwhPWQmJmEgaW4gZD9kW2FdOmZbYV07InJlbGF0ZWRUYXJnZXQiPT09YSYmKGI9TyhiKSksZy5wdXNoKGIpfSksZVsiaW5pdCIrYl0uYXBwbHkoZSxnKSxlfWZ1bmN0aW9uIEEoKXt2LmNhbGwodGhpcyl9ZnVuY3Rpb24gQihhKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYT8hMDphJiZhLmhhbmRsZUV2ZW50fWZ1bmN0aW9uIEMoYSl7c3dpdGNoKGEpe2Nhc2UiRE9NQXR0ck1vZGlmaWVkIjpjYXNlIkRPTUF0dHJpYnV0ZU5hbWVDaGFuZ2VkIjpjYXNlIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCI6Y2FzZSJET01FbGVtZW50TmFtZUNoYW5nZWQiOmNhc2UiRE9NTm9kZUluc2VydGVkIjpjYXNlIkRPTU5vZGVJbnNlcnRlZEludG9Eb2N1bWVudCI6Y2FzZSJET01Ob2RlUmVtb3ZlZCI6Y2FzZSJET01Ob2RlUmVtb3ZlZEZyb21Eb2N1bWVudCI6Y2FzZSJET01TdWJ0cmVlTW9kaWZpZWQiOnJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIEQoYSl7dGhpcy5pbXBsPWF9ZnVuY3Rpb24gRShhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIFEuU2hhZG93Um9vdCYmKGE9YS5ob3N0KSxPKGEpfWZ1bmN0aW9uIEYoYSxiKXt2YXIgYz1SLmdldChhKTtpZihjKWZvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKWlmKCFjW2RdLnJlbW92ZWQmJmNbZF0udHlwZT09PWIpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gRyhhLGIpe2Zvcih2YXIgYz1PKGEpO2M7Yz1jLnBhcmVudE5vZGUpaWYoRihQKGMpLGIpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIEgoYSl7TChhLG1iKX1mdW5jdGlvbiBJKGIsYyxkLGUpe2EucmVuZGVyQWxsUGVuZGluZygpO2Zvcih2YXIgZj1QKG5iLmNhbGwoYy5pbXBsLGQsZSkpLGg9ZyhmLHRoaXMpLGk9MDtpPGgubGVuZ3RoO2krKyl7dmFyIGo9aFtpXTtpZihqLmN1cnJlbnRUYXJnZXQ9PT1iKXJldHVybiBqLnRhcmdldH1yZXR1cm4gbnVsbH1mdW5jdGlvbiBKKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiPSQuZ2V0KHRoaXMpO3JldHVybiBiJiZiW2FdJiZiW2FdLnZhbHVlfHxudWxsfX1mdW5jdGlvbiBLKGEpe3ZhciBiPWEuc2xpY2UoMik7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPSQuZ2V0KHRoaXMpO2R8fChkPU9iamVjdC5jcmVhdGUobnVsbCksJC5zZXQodGhpcyxkKSk7dmFyIGU9ZFthXTtpZihlJiZ0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixlLndyYXBwZWQsITEpLCJmdW5jdGlvbiI9PXR5cGVvZiBjKXt2YXIgZj1mdW5jdGlvbihiKXt2YXIgZD1jLmNhbGwodGhpcyxiKTtkPT09ITE/Yi5wcmV2ZW50RGVmYXVsdCgpOiJvbmJlZm9yZXVubG9hZCI9PT1hJiYic3RyaW5nIj09dHlwZW9mIGQmJihiLnJldHVyblZhbHVlPWQpfTt0aGlzLmFkZEV2ZW50TGlzdGVuZXIoYixmLCExKSxkW2FdPXt2YWx1ZTpjLHdyYXBwZWQ6Zn19fX12YXIgTD1hLmZvcndhcmRNZXRob2RzVG9XcmFwcGVyLE09YS5taXhpbixOPWEucmVnaXN0ZXJXcmFwcGVyLE89YS51bndyYXAsUD1hLndyYXAsUT1hLndyYXBwZXJzLFI9KG5ldyBXZWFrTWFwLG5ldyBXZWFrTWFwKSxTPW5ldyBXZWFrTWFwLFQ9bmV3IFdlYWtNYXAsVT1uZXcgV2Vha01hcCxWPW5ldyBXZWFrTWFwLFc9bmV3IFdlYWtNYXAsWD1uZXcgV2Vha01hcCxZPW5ldyBXZWFrTWFwLFo9bmV3IFdlYWtNYXAsJD1uZXcgV2Vha01hcCxfPW5ldyBXZWFrTWFwO3UucHJvdG90eXBlPXtlcXVhbHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGFuZGxlcj09PWEuaGFuZGxlciYmdGhpcy50eXBlPT09YS50eXBlJiZ0aGlzLmNhcHR1cmU9PT1hLmNhcHR1cmV9LGdldCByZW1vdmVkKCl7cmV0dXJuIG51bGw9PT10aGlzLmhhbmRsZXJ9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuaGFuZGxlcj1udWxsfX07dmFyIGFiPXdpbmRvdy5FdmVudDthYi5wcm90b3R5cGUucG9seW1lckJsYWNrTGlzdF89e3JldHVyblZhbHVlOiEwLGtleUxvY2F0aW9uOiEwfSx2LnByb3RvdHlwZT17Z2V0IHRhcmdldCgpe3JldHVybiBVLmdldCh0aGlzKX0sZ2V0IGN1cnJlbnRUYXJnZXQoKXtyZXR1cm4gVi5nZXQodGhpcyl9LGdldCBldmVudFBoYXNlKCl7cmV0dXJuIFguZ2V0KHRoaXMpfSxnZXQgcGF0aCgpe3ZhciBhPW5ldyBRLk5vZGVMaXN0LGI9Xy5nZXQodGhpcyk7aWYoYil7Zm9yKHZhciBjPTAsZD1iLmxlbmd0aC0xLGU9bChWLmdldCh0aGlzKSksZj0wO2Q+PWY7ZisrKXt2YXIgZz1iW2ZdLmN1cnJlbnRUYXJnZXQsaD1sKGcpO24oZSxoKSYmKGYhPT1kfHxnIGluc3RhbmNlb2YgUS5Ob2RlKSYmKGFbYysrXT1nKX1hLmxlbmd0aD1jfXJldHVybiBhfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXtZLnNldCh0aGlzLCEwKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7WS5zZXQodGhpcywhMCksWi5zZXQodGhpcywhMCl9fSxOKGFiLHYsZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkV2ZW50IikpO3ZhciBiYj14KCJVSUV2ZW50Iix2KSxjYj14KCJDdXN0b21FdmVudCIsdiksZGI9e2dldCByZWxhdGVkVGFyZ2V0KCl7cmV0dXJuIFcuZ2V0KHRoaXMpfHxQKE8odGhpcykucmVsYXRlZFRhcmdldCl9fSxlYj1NKHtpbml0TW91c2VFdmVudDp5KCJpbml0TW91c2VFdmVudCIsMTQpfSxkYiksZmI9TSh7aW5pdEZvY3VzRXZlbnQ6eSgiaW5pdEZvY3VzRXZlbnQiLDUpfSxkYiksZ2I9eCgiTW91c2VFdmVudCIsYmIsZWIpLGhiPXgoIkZvY3VzRXZlbnQiLGJiLGZiKSxpYj1PYmplY3QuY3JlYXRlKG51bGwpLGpiPWZ1bmN0aW9uKCl7dHJ5e25ldyB3aW5kb3cuRm9jdXNFdmVudCgiZm9jdXMiKX1jYXRjaChhKXtyZXR1cm4hMX1yZXR1cm4hMH0oKTtpZighamIpe3ZhciBrYj1mdW5jdGlvbihhLGIsYyl7aWYoYyl7dmFyIGQ9aWJbY107Yj1NKE0oe30sZCksYil9aWJbYV09Yn07CmtiKCJFdmVudCIse2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMX0pLGtiKCJDdXN0b21FdmVudCIse2RldGFpbDpudWxsfSwiRXZlbnQiKSxrYigiVUlFdmVudCIse3ZpZXc6bnVsbCxkZXRhaWw6MH0sIkV2ZW50Iiksa2IoIk1vdXNlRXZlbnQiLHtzY3JlZW5YOjAsc2NyZWVuWTowLGNsaWVudFg6MCxjbGllbnRZOjAsY3RybEtleTohMSxhbHRLZXk6ITEsc2hpZnRLZXk6ITEsbWV0YUtleTohMSxidXR0b246MCxyZWxhdGVkVGFyZ2V0Om51bGx9LCJVSUV2ZW50Iiksa2IoIkZvY3VzRXZlbnQiLHtyZWxhdGVkVGFyZ2V0Om51bGx9LCJVSUV2ZW50Iil9QS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh2LnByb3RvdHlwZSksTShBLnByb3RvdHlwZSx7Z2V0IHJldHVyblZhbHVlKCl7cmV0dXJuIHRoaXMuaW1wbC5yZXR1cm5WYWx1ZX0sc2V0IHJldHVyblZhbHVlKGEpe3RoaXMuaW1wbC5yZXR1cm5WYWx1ZT1hfX0pO3ZhciBsYj13aW5kb3cuRXZlbnRUYXJnZXQsbWI9WyJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpc3BhdGNoRXZlbnQiXTtbTm9kZSxXaW5kb3ddLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YS5wcm90b3R5cGU7bWIuZm9yRWFjaChmdW5jdGlvbihhKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYixhKyJfIix7dmFsdWU6YlthXX0pfSl9KSxELnByb3RvdHlwZT17YWRkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihhLGIsYyl7aWYoQihiKSYmIUMoYSkpe3ZhciBkPW5ldyB1KGEsYixjKSxlPVIuZ2V0KHRoaXMpO2lmKGUpe2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKWlmKGQuZXF1YWxzKGVbZl0pKXJldHVybn1lbHNlIGU9W10sUi5zZXQodGhpcyxlKTtlLnB1c2goZCk7dmFyIGc9RSh0aGlzKTtnLmFkZEV2ZW50TGlzdGVuZXJfKGEsbywhMCl9fSxyZW1vdmVFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGEsYixjKXtjPUJvb2xlYW4oYyk7dmFyIGQ9Ui5nZXQodGhpcyk7aWYoZCl7Zm9yKHZhciBlPTAsZj0hMSxnPTA7ZzxkLmxlbmd0aDtnKyspZFtnXS50eXBlPT09YSYmZFtnXS5jYXB0dXJlPT09YyYmKGUrKyxkW2ddLmhhbmRsZXI9PT1iJiYoZj0hMCxkW2ddLnJlbW92ZSgpKSk7aWYoZiYmMT09PWUpe3ZhciBoPUUodGhpcyk7aC5yZW1vdmVFdmVudExpc3RlbmVyXyhhLG8sITApfX19LGRpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24oYil7dmFyIGM9TyhiKSxkPWMudHlwZTtTLnNldChjLCExKSxhLnJlbmRlckFsbFBlbmRpbmcoKTt2YXIgZTtHKHRoaXMsZCl8fChlPWZ1bmN0aW9uKCl7fSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoZCxlLCEwKSk7dHJ5e3JldHVybiBPKHRoaXMpLmRpc3BhdGNoRXZlbnRfKGMpfWZpbmFsbHl7ZSYmdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKGQsZSwhMCl9fX0sbGImJk4obGIsRCk7dmFyIG5iPWRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQ7YS5hZGp1c3RSZWxhdGVkVGFyZ2V0PWksYS5lbGVtZW50RnJvbVBvaW50PUksYS5nZXRFdmVudEhhbmRsZXJHZXR0ZXI9SixhLmdldEV2ZW50SGFuZGxlclNldHRlcj1LLGEud3JhcEV2ZW50VGFyZ2V0TWV0aG9kcz1ILGEud3JhcHBlcnMuQmVmb3JlVW5sb2FkRXZlbnQ9QSxhLndyYXBwZXJzLkN1c3RvbUV2ZW50PWNiLGEud3JhcHBlcnMuRXZlbnQ9dixhLndyYXBwZXJzLkV2ZW50VGFyZ2V0PUQsYS53cmFwcGVycy5Gb2N1c0V2ZW50PWhiLGEud3JhcHBlcnMuTW91c2VFdmVudD1nYixhLndyYXBwZXJzLlVJRXZlbnQ9YmJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHtlbnVtZXJhYmxlOiExfSl9ZnVuY3Rpb24gYygpe3RoaXMubGVuZ3RoPTAsYih0aGlzLCJsZW5ndGgiKX1mdW5jdGlvbiBkKGEpe2lmKG51bGw9PWEpcmV0dXJuIGE7Zm9yKHZhciBiPW5ldyBjLGQ9MCxlPWEubGVuZ3RoO2U+ZDtkKyspYltkXT1mKGFbZF0pO3JldHVybiBiLmxlbmd0aD1lLGJ9ZnVuY3Rpb24gZShhLGIpe2EucHJvdG90eXBlW2JdPWZ1bmN0aW9uKCl7cmV0dXJuIGQodGhpcy5pbXBsW2JdLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpKX19dmFyIGY9YS53cmFwO2MucHJvdG90eXBlPXtpdGVtOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzW2FdfX0sYihjLnByb3RvdHlwZSwiaXRlbSIpLGEud3JhcHBlcnMuTm9kZUxpc3Q9YyxhLmFkZFdyYXBOb2RlTGlzdE1ldGhvZD1lLGEud3JhcE5vZGVMaXN0PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7eShhIGluc3RhbmNlb2Ygdil9ZnVuY3Rpb24gYyhhKXt2YXIgYj1uZXcgeDtyZXR1cm4gYlswXT1hLGIubGVuZ3RoPTEsYn1mdW5jdGlvbiBkKGEsYixjKXtBKGIsImNoaWxkTGlzdCIse3JlbW92ZWROb2RlczpjLHByZXZpb3VzU2libGluZzphLnByZXZpb3VzU2libGluZyxuZXh0U2libGluZzphLm5leHRTaWJsaW5nfSl9ZnVuY3Rpb24gZShhLGIpe0EoYSwiY2hpbGRMaXN0Iix7cmVtb3ZlZE5vZGVzOmJ9KX1mdW5jdGlvbiBmKGEsYixkLGUpe2lmKGEgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KXt2YXIgZj1oKGEpO0o9ITA7Zm9yKHZhciBnPWYubGVuZ3RoLTE7Zz49MDtnLS0pYS5yZW1vdmVDaGlsZChmW2ddKSxmW2ddLnBhcmVudE5vZGVfPWI7Sj0hMTtmb3IodmFyIGc9MDtnPGYubGVuZ3RoO2crKylmW2ddLnByZXZpb3VzU2libGluZ189ZltnLTFdfHxkLGZbZ10ubmV4dFNpYmxpbmdfPWZbZysxXXx8ZTtyZXR1cm4gZCYmKGQubmV4dFNpYmxpbmdfPWZbMF0pLGUmJihlLnByZXZpb3VzU2libGluZ189ZltmLmxlbmd0aC0xXSksZn12YXIgZj1jKGEpLGk9YS5wYXJlbnROb2RlO3JldHVybiBpJiZpLnJlbW92ZUNoaWxkKGEpLGEucGFyZW50Tm9kZV89YixhLnByZXZpb3VzU2libGluZ189ZCxhLm5leHRTaWJsaW5nXz1lLGQmJihkLm5leHRTaWJsaW5nXz1hKSxlJiYoZS5wcmV2aW91c1NpYmxpbmdfPWEpLGZ9ZnVuY3Rpb24gZyhhKXtpZihhIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudClyZXR1cm4gaChhKTt2YXIgYj1jKGEpLGU9YS5wYXJlbnROb2RlO3JldHVybiBlJiZkKGEsZSxiKSxifWZ1bmN0aW9uIGgoYSl7Zm9yKHZhciBiPW5ldyB4LGM9MCxkPWEuZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZyliW2MrK109ZDtyZXR1cm4gYi5sZW5ndGg9YyxlKGEsYiksYn1mdW5jdGlvbiBpKGEpe3JldHVybiBhfWZ1bmN0aW9uIGooYSl7YS5ub2RlSXNJbnNlcnRlZF8oKX1mdW5jdGlvbiBrKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWooYVtiXSl9ZnVuY3Rpb24gbCgpe31mdW5jdGlvbiBtKCl7fWZ1bmN0aW9uIG4oYSxiKXt2YXIgYz1hLm5vZGVUeXBlPT09di5ET0NVTUVOVF9OT0RFP2E6YS5vd25lckRvY3VtZW50O2MhPT1iLm93bmVyRG9jdW1lbnQmJmMuYWRvcHROb2RlKGIpfWZ1bmN0aW9uIG8oYixjKXtpZihjLmxlbmd0aCl7dmFyIGQ9Yi5vd25lckRvY3VtZW50O2lmKGQhPT1jWzBdLm93bmVyRG9jdW1lbnQpZm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspYS5hZG9wdE5vZGVOb1JlbW92ZShjW2VdLGQpfX1mdW5jdGlvbiBwKGEsYil7byhhLGIpO3ZhciBjPWIubGVuZ3RoO2lmKDE9PT1jKXJldHVybiBGKGJbMF0pO2Zvcih2YXIgZD1GKGEub3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpLGU9MDtjPmU7ZSsrKWQuYXBwZW5kQ2hpbGQoRihiW2VdKSk7cmV0dXJuIGR9ZnVuY3Rpb24gcShhKXtpZih2b2lkIDAhPT1hLmZpcnN0Q2hpbGRfKWZvcih2YXIgYj1hLmZpcnN0Q2hpbGRfO2I7KXt2YXIgYz1iO2I9Yi5uZXh0U2libGluZ18sYy5wYXJlbnROb2RlXz1jLnByZXZpb3VzU2libGluZ189Yy5uZXh0U2libGluZ189dm9pZCAwfWEuZmlyc3RDaGlsZF89YS5sYXN0Q2hpbGRfPXZvaWQgMH1mdW5jdGlvbiByKGEpe2lmKGEuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe2Zvcih2YXIgYj1hLmZpcnN0Q2hpbGQ7Yjspe3koYi5wYXJlbnROb2RlPT09YSk7dmFyIGM9Yi5uZXh0U2libGluZyxkPUYoYiksZT1kLnBhcmVudE5vZGU7ZSYmUS5jYWxsKGUsZCksYi5wcmV2aW91c1NpYmxpbmdfPWIubmV4dFNpYmxpbmdfPWIucGFyZW50Tm9kZV89bnVsbCxiPWN9YS5maXJzdENoaWxkXz1hLmxhc3RDaGlsZF89bnVsbH1lbHNlIGZvcih2YXIgYyxmPUYoYSksZz1mLmZpcnN0Q2hpbGQ7ZzspYz1nLm5leHRTaWJsaW5nLFEuY2FsbChmLGcpLGc9Y31mdW5jdGlvbiBzKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmYi5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKX1mdW5jdGlvbiB0KGEpe2Zvcih2YXIgYixjPTA7YzxhLmxlbmd0aDtjKyspYj1hW2NdLGIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKX1mdW5jdGlvbiB1KGEsYixjKXt2YXIgZDtpZihkPUcoYz9LLmNhbGwoYyxhLmltcGwsITEpOkwuY2FsbChhLmltcGwsITEpKSxiKXtmb3IodmFyIGU9YS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWQuYXBwZW5kQ2hpbGQodShlLCEwLGMpKTtpZihhIGluc3RhbmNlb2YgSS5IVE1MVGVtcGxhdGVFbGVtZW50KWZvcih2YXIgZj1kLmNvbnRlbnQsZT1hLmNvbnRlbnQuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZylmLmFwcGVuZENoaWxkKHUoZSwhMCxjKSl9cmV0dXJuIGR9ZnVuY3Rpb24gdihhKXt5KGEgaW5zdGFuY2VvZiBNKSx3LmNhbGwodGhpcyxhKSx0aGlzLnBhcmVudE5vZGVfPXZvaWQgMCx0aGlzLmZpcnN0Q2hpbGRfPXZvaWQgMCx0aGlzLmxhc3RDaGlsZF89dm9pZCAwLHRoaXMubmV4dFNpYmxpbmdfPXZvaWQgMCx0aGlzLnByZXZpb3VzU2libGluZ189dm9pZCAwfXZhciB3PWEud3JhcHBlcnMuRXZlbnRUYXJnZXQseD1hLndyYXBwZXJzLk5vZGVMaXN0LHk9YS5hc3NlcnQsej1hLmRlZmluZVdyYXBHZXR0ZXIsQT1hLmVucXVldWVNdXRhdGlvbixCPWEuaXNXcmFwcGVyLEM9YS5taXhpbixEPWEucmVnaXN0ZXJUcmFuc2llbnRPYnNlcnZlcnMsRT1hLnJlZ2lzdGVyV3JhcHBlcixGPWEudW53cmFwLEc9YS53cmFwLEg9YS53cmFwSWZOZWVkZWQsST1hLndyYXBwZXJzLEo9ITEsSz1kb2N1bWVudC5pbXBvcnROb2RlLEw9d2luZG93Lk5vZGUucHJvdG90eXBlLmNsb25lTm9kZSxNPXdpbmRvdy5Ob2RlLE49d2luZG93LkRvY3VtZW50RnJhZ21lbnQsTz0oTS5wcm90b3R5cGUuYXBwZW5kQ2hpbGQsTS5wcm90b3R5cGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24pLFA9TS5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlLFE9TS5wcm90b3R5cGUucmVtb3ZlQ2hpbGQsUj1NLnByb3RvdHlwZS5yZXBsYWNlQ2hpbGQsUz0vVHJpZGVudC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxUPVM/ZnVuY3Rpb24oYSxiKXt0cnl7US5jYWxsKGEsYil9Y2F0Y2goYyl7aWYoIShhIGluc3RhbmNlb2YgTikpdGhyb3cgY319OmZ1bmN0aW9uKGEsYil7US5jYWxsKGEsYil9O3YucHJvdG90eXBlPU9iamVjdC5jcmVhdGUody5wcm90b3R5cGUpLEModi5wcm90b3R5cGUse2FwcGVuZENoaWxkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmluc2VydEJlZm9yZShhLG51bGwpfSxpbnNlcnRCZWZvcmU6ZnVuY3Rpb24oYSxjKXtiKGEpO3ZhciBkO2M/QihjKT9kPUYoYyk6KGQ9YyxjPUcoZCkpOihjPW51bGwsZD1udWxsKSxjJiZ5KGMucGFyZW50Tm9kZT09PXRoaXMpO3ZhciBlLGg9Yz9jLnByZXZpb3VzU2libGluZzp0aGlzLmxhc3RDaGlsZCxpPSF0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpJiYhcyhhKTtpZihlPWk/ZyhhKTpmKGEsdGhpcyxoLGMpLGkpbih0aGlzLGEpLHEodGhpcyksUC5jYWxsKHRoaXMuaW1wbCxGKGEpLGQpO2Vsc2V7aHx8KHRoaXMuZmlyc3RDaGlsZF89ZVswXSksY3x8KHRoaXMubGFzdENoaWxkXz1lW2UubGVuZ3RoLTFdKTt2YXIgaj1kP2QucGFyZW50Tm9kZTp0aGlzLmltcGw7aj9QLmNhbGwoaixwKHRoaXMsZSksZCk6byh0aGlzLGUpfXJldHVybiBBKHRoaXMsImNoaWxkTGlzdCIse2FkZGVkTm9kZXM6ZSxuZXh0U2libGluZzpjLHByZXZpb3VzU2libGluZzpofSksayhlKSxhfSxyZW1vdmVDaGlsZDpmdW5jdGlvbihhKXtpZihiKGEpLGEucGFyZW50Tm9kZSE9PXRoaXMpe2Zvcih2YXIgZD0hMSxlPSh0aGlzLmNoaWxkTm9kZXMsdGhpcy5maXJzdENoaWxkKTtlO2U9ZS5uZXh0U2libGluZylpZihlPT09YSl7ZD0hMDticmVha31pZighZCl0aHJvdyBuZXcgRXJyb3IoIk5vdEZvdW5kRXJyb3IiKX12YXIgZj1GKGEpLGc9YS5uZXh0U2libGluZyxoPWEucHJldmlvdXNTaWJsaW5nO2lmKHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe3ZhciBpPXRoaXMuZmlyc3RDaGlsZCxqPXRoaXMubGFzdENoaWxkLGs9Zi5wYXJlbnROb2RlO2smJlQoayxmKSxpPT09YSYmKHRoaXMuZmlyc3RDaGlsZF89Zyksaj09PWEmJih0aGlzLmxhc3RDaGlsZF89aCksaCYmKGgubmV4dFNpYmxpbmdfPWcpLGcmJihnLnByZXZpb3VzU2libGluZ189aCksYS5wcmV2aW91c1NpYmxpbmdfPWEubmV4dFNpYmxpbmdfPWEucGFyZW50Tm9kZV89dm9pZCAwfWVsc2UgcSh0aGlzKSxUKHRoaXMuaW1wbCxmKTtyZXR1cm4gSnx8QSh0aGlzLCJjaGlsZExpc3QiLHtyZW1vdmVkTm9kZXM6YyhhKSxuZXh0U2libGluZzpnLHByZXZpb3VzU2libGluZzpofSksRCh0aGlzLGEpLGF9LHJlcGxhY2VDaGlsZDpmdW5jdGlvbihhLGQpe2IoYSk7dmFyIGU7aWYoQihkKT9lPUYoZCk6KGU9ZCxkPUcoZSkpLGQucGFyZW50Tm9kZSE9PXRoaXMpdGhyb3cgbmV3IEVycm9yKCJOb3RGb3VuZEVycm9yIik7dmFyIGgsaT1kLm5leHRTaWJsaW5nLGo9ZC5wcmV2aW91c1NpYmxpbmcsbT0hdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSYmIXMoYSk7cmV0dXJuIG0/aD1nKGEpOihpPT09YSYmKGk9YS5uZXh0U2libGluZyksaD1mKGEsdGhpcyxqLGkpKSxtPyhuKHRoaXMsYSkscSh0aGlzKSxSLmNhbGwodGhpcy5pbXBsLEYoYSksZSkpOih0aGlzLmZpcnN0Q2hpbGQ9PT1kJiYodGhpcy5maXJzdENoaWxkXz1oWzBdKSx0aGlzLmxhc3RDaGlsZD09PWQmJih0aGlzLmxhc3RDaGlsZF89aFtoLmxlbmd0aC0xXSksZC5wcmV2aW91c1NpYmxpbmdfPWQubmV4dFNpYmxpbmdfPWQucGFyZW50Tm9kZV89dm9pZCAwLGUucGFyZW50Tm9kZSYmUi5jYWxsKGUucGFyZW50Tm9kZSxwKHRoaXMsaCksZSkpLEEodGhpcywiY2hpbGRMaXN0Iix7YWRkZWROb2RlczpoLHJlbW92ZWROb2RlczpjKGQpLG5leHRTaWJsaW5nOmkscHJldmlvdXNTaWJsaW5nOmp9KSxsKGQpLGsoaCksZH0sbm9kZUlzSW5zZXJ0ZWRfOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZylhLm5vZGVJc0luc2VydGVkXygpfSxoYXNDaGlsZE5vZGVzOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmZpcnN0Q2hpbGR9LGdldCBwYXJlbnROb2RlKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMucGFyZW50Tm9kZV8/dGhpcy5wYXJlbnROb2RlXzpHKHRoaXMuaW1wbC5wYXJlbnROb2RlKX0sZ2V0IGZpcnN0Q2hpbGQoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5maXJzdENoaWxkXz90aGlzLmZpcnN0Q2hpbGRfOkcodGhpcy5pbXBsLmZpcnN0Q2hpbGQpfSxnZXQgbGFzdENoaWxkKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMubGFzdENoaWxkXz90aGlzLmxhc3RDaGlsZF86Ryh0aGlzLmltcGwubGFzdENoaWxkKX0sZ2V0IG5leHRTaWJsaW5nKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMubmV4dFNpYmxpbmdfP3RoaXMubmV4dFNpYmxpbmdfOkcodGhpcy5pbXBsLm5leHRTaWJsaW5nKX0sZ2V0IHByZXZpb3VzU2libGluZygpe3JldHVybiB2b2lkIDAhPT10aGlzLnByZXZpb3VzU2libGluZ18/dGhpcy5wcmV2aW91c1NpYmxpbmdfOkcodGhpcy5pbXBsLnByZXZpb3VzU2libGluZyl9LGdldCBwYXJlbnRFbGVtZW50KCl7Zm9yKHZhciBhPXRoaXMucGFyZW50Tm9kZTthJiZhLm5vZGVUeXBlIT09di5FTEVNRU5UX05PREU7KWE9YS5wYXJlbnROb2RlO3JldHVybiBhfSxnZXQgdGV4dENvbnRlbnQoKXtmb3IodmFyIGE9IiIsYj10aGlzLmZpcnN0Q2hpbGQ7YjtiPWIubmV4dFNpYmxpbmcpYi5ub2RlVHlwZSE9di5DT01NRU5UX05PREUmJihhKz1iLnRleHRDb250ZW50KTtyZXR1cm4gYX0sc2V0IHRleHRDb250ZW50KGEpe3ZhciBiPWkodGhpcy5jaGlsZE5vZGVzKTtpZih0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpKXtpZihyKHRoaXMpLCIiIT09YSl7dmFyIGM9dGhpcy5pbXBsLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSk7dGhpcy5hcHBlbmRDaGlsZChjKX19ZWxzZSBxKHRoaXMpLHRoaXMuaW1wbC50ZXh0Q29udGVudD1hO3ZhciBkPWkodGhpcy5jaGlsZE5vZGVzKTtBKHRoaXMsImNoaWxkTGlzdCIse2FkZGVkTm9kZXM6ZCxyZW1vdmVkTm9kZXM6Yn0pLG0oYiksayhkKX0sZ2V0IGNoaWxkTm9kZXMoKXtmb3IodmFyIGE9bmV3IHgsYj0wLGM9dGhpcy5maXJzdENoaWxkO2M7Yz1jLm5leHRTaWJsaW5nKWFbYisrXT1jO3JldHVybiBhLmxlbmd0aD1iLGF9LGNsb25lTm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gdSh0aGlzLGEpfSxjb250YWluczpmdW5jdGlvbihhKXtpZighYSlyZXR1cm4hMTtpZihhPUgoYSksYT09PXRoaXMpcmV0dXJuITA7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiP3RoaXMuY29udGFpbnMoYik6ITF9LGNvbXBhcmVEb2N1bWVudFBvc2l0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiBPLmNhbGwodGhpcy5pbXBsLEYoYSkpfSxub3JtYWxpemU6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYixjPWkodGhpcy5jaGlsZE5vZGVzKSxkPVtdLGU9IiIsZj0wO2Y8Yy5sZW5ndGg7ZisrKWI9Y1tmXSxiLm5vZGVUeXBlPT09di5URVhUX05PREU/YXx8Yi5kYXRhLmxlbmd0aD9hPyhlKz1iLmRhdGEsZC5wdXNoKGIpKTphPWI6dGhpcy5yZW1vdmVOb2RlKGIpOihhJiZkLmxlbmd0aCYmKGEuZGF0YSs9ZSxjbGVhblVwTm9kZXMoZCkpLGQ9W10sZT0iIixhPW51bGwsYi5jaGlsZE5vZGVzLmxlbmd0aCYmYi5ub3JtYWxpemUoKSk7YSYmZC5sZW5ndGgmJihhLmRhdGErPWUsdChkKSl9fSkseih2LCJvd25lckRvY3VtZW50IiksRShNLHYsZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKSxkZWxldGUgdi5wcm90b3R5cGUucXVlcnlTZWxlY3RvcixkZWxldGUgdi5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbCx2LnByb3RvdHlwZT1DKE9iamVjdC5jcmVhdGUody5wcm90b3R5cGUpLHYucHJvdG90eXBlKSxhLm5vZGVXYXNBZGRlZD1qLGEubm9kZVdhc1JlbW92ZWQ9bCxhLm5vZGVzV2VyZUFkZGVkPWssYS5ub2Rlc1dlcmVSZW1vdmVkPW0sYS5zbmFwc2hvdE5vZGVMaXN0PWksYS53cmFwcGVycy5Ob2RlPXYsYS5jbG9uZU5vZGU9dX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGMpe2Zvcih2YXIgZCxlPWEuZmlyc3RFbGVtZW50Q2hpbGQ7ZTspe2lmKGUubWF0Y2hlcyhjKSlyZXR1cm4gZTtpZihkPWIoZSxjKSlyZXR1cm4gZDtlPWUubmV4dEVsZW1lbnRTaWJsaW5nfXJldHVybiBudWxsfWZ1bmN0aW9uIGMoYSxiLGQpe2Zvcih2YXIgZT1hLmZpcnN0RWxlbWVudENoaWxkO2U7KWUubWF0Y2hlcyhiKSYmKGRbZC5sZW5ndGgrK109ZSksYyhlLGIsZCksZT1lLm5leHRFbGVtZW50U2libGluZztyZXR1cm4gZH12YXIgZD17cXVlcnlTZWxlY3RvcjpmdW5jdGlvbihhKXtyZXR1cm4gYih0aGlzLGEpfSxxdWVyeVNlbGVjdG9yQWxsOmZ1bmN0aW9uKGEpe3JldHVybiBjKHRoaXMsYSxuZXcgTm9kZUxpc3QpfX0sZT17Z2V0RWxlbWVudHNCeVRhZ05hbWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVlcnlTZWxlY3RvckFsbChhKX0sZ2V0RWxlbWVudHNCeUNsYXNzTmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCIuIithKX0sZ2V0RWxlbWVudHNCeVRhZ05hbWVOUzpmdW5jdGlvbihhLGIpe2lmKCIqIj09PWEpcmV0dXJuIHRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYik7Zm9yKHZhciBjPW5ldyBOb2RlTGlzdCxkPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYiksZT0wLGY9MDtlPGQubGVuZ3RoO2UrKylkW2VdLm5hbWVzcGFjZVVSST09PWEmJihjW2YrK109ZFtlXSk7cmV0dXJuIGMubGVuZ3RoPWYsY319O2EuR2V0RWxlbWVudHNCeUludGVyZmFjZT1lLGEuU2VsZWN0b3JzSW50ZXJmYWNlPWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Zm9yKDthJiZhLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWE9YS5uZXh0U2libGluZztyZXR1cm4gYX1mdW5jdGlvbiBjKGEpe2Zvcig7YSYmYS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFOylhPWEucHJldmlvdXNTaWJsaW5nO3JldHVybiBhfXZhciBkPWEud3JhcHBlcnMuTm9kZUxpc3QsZT17Z2V0IGZpcnN0RWxlbWVudENoaWxkKCl7cmV0dXJuIGIodGhpcy5maXJzdENoaWxkKX0sZ2V0IGxhc3RFbGVtZW50Q2hpbGQoKXtyZXR1cm4gYyh0aGlzLmxhc3RDaGlsZCl9LGdldCBjaGlsZEVsZW1lbnRDb3VudCgpe2Zvcih2YXIgYT0wLGI9dGhpcy5maXJzdEVsZW1lbnRDaGlsZDtiO2I9Yi5uZXh0RWxlbWVudFNpYmxpbmcpYSsrO3JldHVybiBhfSxnZXQgY2hpbGRyZW4oKXtmb3IodmFyIGE9bmV3IGQsYj0wLGM9dGhpcy5maXJzdEVsZW1lbnRDaGlsZDtjO2M9Yy5uZXh0RWxlbWVudFNpYmxpbmcpYVtiKytdPWM7cmV0dXJuIGEubGVuZ3RoPWIsYX19LGY9e2dldCBuZXh0RWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gYih0aGlzLm5leHRTaWJsaW5nKX0sZ2V0IHByZXZpb3VzRWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gYyh0aGlzLnByZXZpb3VzU2libGluZyl9fTthLkNoaWxkTm9kZUludGVyZmFjZT1mLGEuUGFyZW50Tm9kZUludGVyZmFjZT1lfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2QuY2FsbCh0aGlzLGEpfXZhciBjPWEuQ2hpbGROb2RlSW50ZXJmYWNlLGQ9YS53cmFwcGVycy5Ob2RlLGU9YS5lbnF1ZXVlTXV0YXRpb24sZj1hLm1peGluLGc9YS5yZWdpc3RlcldyYXBwZXIsaD13aW5kb3cuQ2hhcmFjdGVyRGF0YTtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxmKGIucHJvdG90eXBlLHtnZXQgdGV4dENvbnRlbnQoKXtyZXR1cm4gdGhpcy5kYXRhfSxzZXQgdGV4dENvbnRlbnQoYSl7dGhpcy5kYXRhPWF9LGdldCBkYXRhKCl7cmV0dXJuIHRoaXMuaW1wbC5kYXRhfSxzZXQgZGF0YShhKXt2YXIgYj10aGlzLmltcGwuZGF0YTtlKHRoaXMsImNoYXJhY3RlckRhdGEiLHtvbGRWYWx1ZTpifSksdGhpcy5pbXBsLmRhdGE9YX19KSxmKGIucHJvdG90eXBlLGMpLGcoaCxiLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKSksYS53cmFwcGVycy5DaGFyYWN0ZXJEYXRhPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGE+Pj4wfWZ1bmN0aW9uIGMoYSl7ZC5jYWxsKHRoaXMsYSl9dmFyIGQ9YS53cmFwcGVycy5DaGFyYWN0ZXJEYXRhLGU9KGEuZW5xdWV1ZU11dGF0aW9uLGEubWl4aW4pLGY9YS5yZWdpc3RlcldyYXBwZXIsZz13aW5kb3cuVGV4dDtjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxlKGMucHJvdG90eXBlLHtzcGxpdFRleHQ6ZnVuY3Rpb24oYSl7YT1iKGEpO3ZhciBjPXRoaXMuZGF0YTtpZihhPmMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW5kZXhTaXplRXJyb3IiKTt2YXIgZD1jLnNsaWNlKDAsYSksZT1jLnNsaWNlKGEpO3RoaXMuZGF0YT1kO3ZhciBmPXRoaXMub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKTtyZXR1cm4gdGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGYsdGhpcy5uZXh0U2libGluZyksZn19KSxmKGcsYyxkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIikpLGEud3JhcHBlcnMuVGV4dD1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGIsYyl7dmFyIGQ9Yi5wYXJlbnROb2RlO2lmKGQmJmQuc2hhZG93Um9vdCl7dmFyIGU9YS5nZXRSZW5kZXJlckZvckhvc3QoZCk7ZS5kZXBlbmRzT25BdHRyaWJ1dGUoYykmJmUuaW52YWxpZGF0ZSgpfX1mdW5jdGlvbiBjKGEsYixjKXtrKGEsImF0dHJpYnV0ZXMiLHtuYW1lOmIsbmFtZXNwYWNlOm51bGwsb2xkVmFsdWU6Y30pfWZ1bmN0aW9uIGQoYSl7aC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gZShhLGMsZCl7dmFyIGU9ZHx8YztPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxjLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsW2NdfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsW2NdPWEsYih0aGlzLGUpfSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pfXZhciBmPWEuQ2hpbGROb2RlSW50ZXJmYWNlLGc9YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLGg9YS53cmFwcGVycy5Ob2RlLGk9YS5QYXJlbnROb2RlSW50ZXJmYWNlLGo9YS5TZWxlY3RvcnNJbnRlcmZhY2Usaz0oYS5hZGRXcmFwTm9kZUxpc3RNZXRob2QsYS5lbnF1ZXVlTXV0YXRpb24pLGw9YS5taXhpbixtPShhLm9uZU9mLGEucmVnaXN0ZXJXcmFwcGVyKSxuPWEud3JhcHBlcnMsbz13aW5kb3cuRWxlbWVudCxwPVsibWF0Y2hlcyIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIl0uZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBvLnByb3RvdHlwZVthXX0pLHE9cFswXSxyPW8ucHJvdG90eXBlW3FdO2QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaC5wcm90b3R5cGUpLGwoZC5wcm90b3R5cGUse2NyZWF0ZVNoYWRvd1Jvb3Q6ZnVuY3Rpb24oKXt2YXIgYj1uZXcgbi5TaGFkb3dSb290KHRoaXMpO3RoaXMuaW1wbC5wb2x5bWVyU2hhZG93Um9vdF89Yjt2YXIgYz1hLmdldFJlbmRlcmVyRm9ySG9zdCh0aGlzKTtyZXR1cm4gYy5pbnZhbGlkYXRlKCksYn0sZ2V0IHNoYWRvd1Jvb3QoKXtyZXR1cm4gdGhpcy5pbXBsLnBvbHltZXJTaGFkb3dSb290X3x8bnVsbH0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKGEsZCl7dmFyIGU9dGhpcy5pbXBsLmdldEF0dHJpYnV0ZShhKTt0aGlzLmltcGwuc2V0QXR0cmlidXRlKGEsZCksYyh0aGlzLGEsZSksYih0aGlzLGEpfSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy5pbXBsLmdldEF0dHJpYnV0ZShhKTt0aGlzLmltcGwucmVtb3ZlQXR0cmlidXRlKGEpLGModGhpcyxhLGQpLGIodGhpcyxhKX0sbWF0Y2hlczpmdW5jdGlvbihhKXtyZXR1cm4gci5jYWxsKHRoaXMuaW1wbCxhKX19KSxwLmZvckVhY2goZnVuY3Rpb24oYSl7Im1hdGNoZXMiIT09YSYmKGQucHJvdG90eXBlW2FdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1hdGNoZXMoYSl9KX0pLG8ucHJvdG90eXBlLndlYmtpdENyZWF0ZVNoYWRvd1Jvb3QmJihkLnByb3RvdHlwZS53ZWJraXRDcmVhdGVTaGFkb3dSb290PWQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3QpLGUoZC5wcm90b3R5cGUsImlkIiksZShkLnByb3RvdHlwZSwiY2xhc3NOYW1lIiwiY2xhc3MiKSxsKGQucHJvdG90eXBlLGYpLGwoZC5wcm90b3R5cGUsZyksbChkLnByb3RvdHlwZSxpKSxsKGQucHJvdG90eXBlLGopLG0obyxkLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhudWxsLCJ4IikpLGEubWF0Y2hlc05hbWVzPXAsYS53cmFwcGVycy5FbGVtZW50PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7c3dpdGNoKGEpe2Nhc2UiJiI6cmV0dXJuIiZhbXA7IjtjYXNlIjwiOnJldHVybiImbHQ7IjtjYXNlIj4iOnJldHVybiImZ3Q7IjtjYXNlJyInOnJldHVybiImcXVvdDsiO2Nhc2UiwqAiOnJldHVybiImbmJzcDsifX1mdW5jdGlvbiBjKGEpe3JldHVybiBhLnJlcGxhY2UoeixiKX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLnJlcGxhY2UoQSxiKX1mdW5jdGlvbiBlKGEpe2Zvcih2YXIgYj17fSxjPTA7YzxhLmxlbmd0aDtjKyspYlthW2NdXT0hMDtyZXR1cm4gYn1mdW5jdGlvbiBmKGEsYil7c3dpdGNoKGEubm9kZVR5cGUpe2Nhc2UgTm9kZS5FTEVNRU5UX05PREU6Zm9yKHZhciBlLGY9YS50YWdOYW1lLnRvTG93ZXJDYXNlKCksaD0iPCIrZixpPWEuYXR0cmlidXRlcyxqPTA7ZT1pW2pdO2orKyloKz0iICIrZS5uYW1lKyc9IicrYyhlLnZhbHVlKSsnIic7cmV0dXJuIGgrPSI+IixCW2ZdP2g6aCtnKGEpKyI8LyIrZisiPiI7Y2FzZSBOb2RlLlRFWFRfTk9ERTp2YXIgaz1hLmRhdGE7cmV0dXJuIGImJkNbYi5sb2NhbE5hbWVdP2s6ZChrKTtjYXNlIE5vZGUuQ09NTUVOVF9OT0RFOnJldHVybiI8IS0tIithLmRhdGErIi0tPiI7ZGVmYXVsdDp0aHJvdyBjb25zb2xlLmVycm9yKGEpLG5ldyBFcnJvcigibm90IGltcGxlbWVudGVkIil9fWZ1bmN0aW9uIGcoYSl7YSBpbnN0YW5jZW9mIHkuSFRNTFRlbXBsYXRlRWxlbWVudCYmKGE9YS5jb250ZW50KTtmb3IodmFyIGI9IiIsYz1hLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpYis9ZihjLGEpO3JldHVybiBifWZ1bmN0aW9uIGgoYSxiLGMpe3ZhciBkPWN8fCJkaXYiO2EudGV4dENvbnRlbnQ9IiI7dmFyIGU9dyhhLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChkKSk7ZS5pbm5lckhUTUw9Yjtmb3IodmFyIGY7Zj1lLmZpcnN0Q2hpbGQ7KWEuYXBwZW5kQ2hpbGQoeChmKSl9ZnVuY3Rpb24gaShhKXtvLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBqKGEsYil7dmFyIGM9dyhhLmNsb25lTm9kZSghMSkpO2MuaW5uZXJIVE1MPWI7Zm9yKHZhciBkLGU9dyhkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO2Q9Yy5maXJzdENoaWxkOyllLmFwcGVuZENoaWxkKGQpO3JldHVybiB4KGUpfWZ1bmN0aW9uIGsoYil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEucmVuZGVyQWxsUGVuZGluZygpLHRoaXMuaW1wbFtiXX19ZnVuY3Rpb24gbChhKXtwKGksYSxrKGEpKX1mdW5jdGlvbiBtKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxiLHtnZXQ6ayhiKSxzZXQ6ZnVuY3Rpb24oYyl7YS5yZW5kZXJBbGxQZW5kaW5nKCksdGhpcy5pbXBsW2JdPWN9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSl9ZnVuY3Rpb24gbihiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsYix7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gYS5yZW5kZXJBbGxQZW5kaW5nKCksdGhpcy5pbXBsW2JdLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pfXZhciBvPWEud3JhcHBlcnMuRWxlbWVudCxwPWEuZGVmaW5lR2V0dGVyLHE9YS5lbnF1ZXVlTXV0YXRpb24scj1hLm1peGluLHM9YS5ub2Rlc1dlcmVBZGRlZCx0PWEubm9kZXNXZXJlUmVtb3ZlZCx1PWEucmVnaXN0ZXJXcmFwcGVyLHY9YS5zbmFwc2hvdE5vZGVMaXN0LHc9YS51bndyYXAseD1hLndyYXAseT1hLndyYXBwZXJzLHo9L1smXHUwMEEwIl0vZyxBPS9bJlx1MDBBMDw+XS9nLEI9ZShbImFyZWEiLCJiYXNlIiwiYnIiLCJjb2wiLCJjb21tYW5kIiwiZW1iZWQiLCJociIsImltZyIsImlucHV0Iiwia2V5Z2VuIiwibGluayIsIm1ldGEiLCJwYXJhbSIsInNvdXJjZSIsInRyYWNrIiwid2JyIl0pLEM9ZShbInN0eWxlIiwic2NyaXB0IiwieG1wIiwiaWZyYW1lIiwibm9lbWJlZCIsIm5vZnJhbWVzIiwicGxhaW50ZXh0Iiwibm9zY3JpcHQiXSksRD0vTVNJRS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxFPXdpbmRvdy5IVE1MRWxlbWVudCxGPXdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50O2kucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLHIoaS5wcm90b3R5cGUse2dldCBpbm5lckhUTUwoKXtyZXR1cm4gZyh0aGlzKX0sc2V0IGlubmVySFRNTChhKXtpZihEJiZDW3RoaXMubG9jYWxOYW1lXSlyZXR1cm4gdm9pZCh0aGlzLnRleHRDb250ZW50PWEpO3ZhciBiPXYodGhpcy5jaGlsZE5vZGVzKTt0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpP3RoaXMgaW5zdGFuY2VvZiB5LkhUTUxUZW1wbGF0ZUVsZW1lbnQ/aCh0aGlzLmNvbnRlbnQsYSk6aCh0aGlzLGEsdGhpcy50YWdOYW1lKTohRiYmdGhpcyBpbnN0YW5jZW9mIHkuSFRNTFRlbXBsYXRlRWxlbWVudD9oKHRoaXMuY29udGVudCxhKTp0aGlzLmltcGwuaW5uZXJIVE1MPWE7dmFyIGM9dih0aGlzLmNoaWxkTm9kZXMpO3EodGhpcywiY2hpbGRMaXN0Iix7YWRkZWROb2RlczpjLHJlbW92ZWROb2RlczpifSksdChiKSxzKGMpfSxnZXQgb3V0ZXJIVE1MKCl7cmV0dXJuIGYodGhpcyx0aGlzLnBhcmVudE5vZGUpfSxzZXQgb3V0ZXJIVE1MKGEpe3ZhciBiPXRoaXMucGFyZW50Tm9kZTtpZihiKXtiLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpO3ZhciBjPWooYixhKTtiLnJlcGxhY2VDaGlsZChjLHRoaXMpfX0saW5zZXJ0QWRqYWNlbnRIVE1MOmZ1bmN0aW9uKGEsYil7dmFyIGMsZDtzd2l0Y2goU3RyaW5nKGEpLnRvTG93ZXJDYXNlKCkpe2Nhc2UiYmVmb3JlYmVnaW4iOmM9dGhpcy5wYXJlbnROb2RlLGQ9dGhpczticmVhaztjYXNlImFmdGVyZW5kIjpjPXRoaXMucGFyZW50Tm9kZSxkPXRoaXMubmV4dFNpYmxpbmc7YnJlYWs7Y2FzZSJhZnRlcmJlZ2luIjpjPXRoaXMsZD10aGlzLmZpcnN0Q2hpbGQ7YnJlYWs7Y2FzZSJiZWZvcmVlbmQiOmM9dGhpcyxkPW51bGw7YnJlYWs7ZGVmYXVsdDpyZXR1cm59dmFyIGU9aihjLGIpO2MuaW5zZXJ0QmVmb3JlKGUsZCl9fSksWyJjbGllbnRIZWlnaHQiLCJjbGllbnRMZWZ0IiwiY2xpZW50VG9wIiwiY2xpZW50V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0VG9wIiwib2Zmc2V0V2lkdGgiLCJzY3JvbGxIZWlnaHQiLCJzY3JvbGxXaWR0aCJdLmZvckVhY2gobCksWyJzY3JvbGxMZWZ0Iiwic2Nyb2xsVG9wIl0uZm9yRWFjaChtKSxbImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImdldENsaWVudFJlY3RzIiwic2Nyb2xsSW50b1ZpZXciXS5mb3JFYWNoKG4pLHUoRSxpLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImIiKSksYS53cmFwcGVycy5IVE1MRWxlbWVudD1pLGEuZ2V0SW5uZXJIVE1MPWcsYS5zZXRJbm5lckhUTUw9aH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS53cmFwLGc9d2luZG93LkhUTUxDYW52YXNFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldENvbnRleHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmltcGwuZ2V0Q29udGV4dC5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKTtyZXR1cm4gYSYmZihhKX19KSxlKGcsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSksYS53cmFwcGVycy5IVE1MQ2FudmFzRWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj13aW5kb3cuSFRNTENvbnRlbnRFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldCBzZWxlY3QoKXtyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoInNlbGVjdCIpfSxzZXQgc2VsZWN0KGEpe3RoaXMuc2V0QXR0cmlidXRlKCJzZWxlY3QiLGEpfSxzZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oYSxiKXtjLnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUuY2FsbCh0aGlzLGEsYiksInNlbGVjdCI9PT1TdHJpbmcoYSkudG9Mb3dlckNhc2UoKSYmdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoITApfX0pLGYmJmUoZixiKSxhLndyYXBwZXJzLkhUTUxDb250ZW50RWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2QuY2FsbCh0aGlzLGEpfWZ1bmN0aW9uIGMoYSxiKXtpZighKHRoaXMgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4iKTt2YXIgZT1mKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpKTtkLmNhbGwodGhpcyxlKSxnKGUsdGhpcyksdm9pZCAwIT09YSYmKGUud2lkdGg9YSksdm9pZCAwIT09YiYmKGUuaGVpZ2h0PWIpfXZhciBkPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW53cmFwLGc9YS5yZXdyYXAsaD13aW5kb3cuSFRNTEltYWdlRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxlKGgsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKSksYy5wcm90b3R5cGU9Yi5wcm90b3R5cGUsYS53cmFwcGVycy5IVE1MSW1hZ2VFbGVtZW50PWIsYS53cmFwcGVycy5JbWFnZT1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj13aW5kb3cuSFRNTFNoYWRvd0VsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7fSksZiYmZShmLGIpLGEud3JhcHBlcnMuSFRNTFNoYWRvd0VsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtpZighYS5kZWZhdWx0VmlldylyZXR1cm4gYTt2YXIgYj1rLmdldChhKTtpZighYil7Zm9yKGI9YS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpO2IubGFzdENoaWxkOyliLnJlbW92ZUNoaWxkKGIubGFzdENoaWxkKTtrLnNldChhLGIpfXJldHVybiBifWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBjLGQ9YihhLm93bmVyRG9jdW1lbnQpLGU9aChkLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7Yz1hLmZpcnN0Q2hpbGQ7KWUuYXBwZW5kQ2hpbGQoYyk7cmV0dXJuIGV9ZnVuY3Rpb24gZChhKXtpZihlLmNhbGwodGhpcyxhKSwhbCl7dmFyIGI9YyhhKTtqLnNldCh0aGlzLGkoYikpfX12YXIgZT1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGY9YS5taXhpbixnPWEucmVnaXN0ZXJXcmFwcGVyLGg9YS51bndyYXAsaT1hLndyYXAsaj1uZXcgV2Vha01hcCxrPW5ldyBXZWFrTWFwLGw9d2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQ7ZC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSksZihkLnByb3RvdHlwZSx7Z2V0IGNvbnRlbnQoKXtyZXR1cm4gbD9pKHRoaXMuaW1wbC5jb250ZW50KTpqLmdldCh0aGlzKX19KSxsJiZnKGwsZCksYS53cmFwcGVycy5IVE1MVGVtcGxhdGVFbGVtZW50PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEucmVnaXN0ZXJXcmFwcGVyLGU9d2luZG93LkhUTUxNZWRpYUVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChlLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYXVkaW8iKSksYS53cmFwcGVycy5IVE1MTWVkaWFFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7ZC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gYyhhKXtpZighKHRoaXMgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4iKTt2YXIgYj1mKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImF1ZGlvIikpO2QuY2FsbCh0aGlzLGIpLGcoYix0aGlzKSxiLnNldEF0dHJpYnV0ZSgicHJlbG9hZCIsImF1dG8iKSx2b2lkIDAhPT1hJiZiLnNldEF0dHJpYnV0ZSgic3JjIixhKX12YXIgZD1hLndyYXBwZXJzLkhUTUxNZWRpYUVsZW1lbnQsZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW53cmFwLGc9YS5yZXdyYXAsaD13aW5kb3cuSFRNTEF1ZGlvRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxlKGgsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpKSxjLnByb3RvdHlwZT1iLnByb3RvdHlwZSxhLndyYXBwZXJzLkhUTUxBdWRpb0VsZW1lbnQ9YixhLndyYXBwZXJzLkF1ZGlvPWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGEucmVwbGFjZSgvXHMrL2csIiAiKS50cmltKCl9ZnVuY3Rpb24gYyhhKXtlLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBkKGEsYixjLGYpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkRPTSBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLiIpO3ZhciBnPWkoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpO2UuY2FsbCh0aGlzLGcpLGgoZyx0aGlzKSx2b2lkIDAhPT1hJiYoZy50ZXh0PWEpLHZvaWQgMCE9PWImJmcuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsYiksYz09PSEwJiZnLnNldEF0dHJpYnV0ZSgic2VsZWN0ZWQiLCIiKSxnLnNlbGVjdGVkPWY9PT0hMH12YXIgZT1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGY9YS5taXhpbixnPWEucmVnaXN0ZXJXcmFwcGVyLGg9YS5yZXdyYXAsaT1hLnVud3JhcCxqPWEud3JhcCxrPXdpbmRvdy5IVE1MT3B0aW9uRWxlbWVudDtjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlKSxmKGMucHJvdG90eXBlLHtnZXQgdGV4dCgpe3JldHVybiBiKHRoaXMudGV4dENvbnRlbnQpfSxzZXQgdGV4dChhKXt0aGlzLnRleHRDb250ZW50PWIoU3RyaW5nKGEpKX0sZ2V0IGZvcm0oKXtyZXR1cm4gaihpKHRoaXMpLmZvcm0pfX0pLGcoayxjLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKSxkLnByb3RvdHlwZT1jLnByb3RvdHlwZSxhLndyYXBwZXJzLkhUTUxPcHRpb25FbGVtZW50PWMsYS53cmFwcGVycy5PcHRpb249ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS51bndyYXAsZz1hLndyYXAsaD13aW5kb3cuSFRNTFNlbGVjdEVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7YWRkOmZ1bmN0aW9uKGEsYil7Im9iamVjdCI9PXR5cGVvZiBiJiYoYj1mKGIpKSxmKHRoaXMpLmFkZChmKGEpLGIpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7Im9iamVjdCI9PXR5cGVvZiBhJiYoYT1mKGEpKSxmKHRoaXMpLnJlbW92ZShhKX0sZ2V0IGZvcm0oKXtyZXR1cm4gZyhmKHRoaXMpLmZvcm0pfX0pLGUoaCxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpKSxhLndyYXBwZXJzLkhUTUxTZWxlY3RFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7c3dpdGNoKGEubG9jYWxOYW1lKXtjYXNlImNvbnRlbnQiOnJldHVybiBuZXcgYyhhKTtjYXNlInNoYWRvdyI6cmV0dXJuIG5ldyBlKGEpO2Nhc2UidGVtcGxhdGUiOnJldHVybiBuZXcgZihhKX1kLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxDb250ZW50RWxlbWVudCxkPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZT1hLndyYXBwZXJzLkhUTUxTaGFkb3dFbGVtZW50LGY9YS53cmFwcGVycy5IVE1MVGVtcGxhdGVFbGVtZW50LGc9KGEubWl4aW4sYS5yZWdpc3RlcldyYXBwZXIpLGg9d2luZG93LkhUTUxVbmtub3duRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxnKGgsYiksYS53cmFwcGVycy5IVE1MVW5rbm93bkVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7dmFyIGI9YS5yZWdpc3Rlck9iamVjdCxjPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoYywidGl0bGUiKSxlPWIoZCksZj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZS5wcm90b3R5cGUpLmNvbnN0cnVjdG9yO2Eud3JhcHBlcnMuU1ZHRWxlbWVudD1mfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe20uY2FsbCh0aGlzLGEpfXZhciBjPWEubWl4aW4sZD1hLnJlZ2lzdGVyV3JhcHBlcixlPWEudW53cmFwLGY9YS53cmFwLGc9d2luZG93LlNWR1VzZUVsZW1lbnQsaD0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLGk9Zihkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoaCwiZyIpKSxqPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhoLCJ1c2UiKSxrPWkuY29uc3RydWN0b3IsbD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yoay5wcm90b3R5cGUpLG09bC5jb25zdHJ1Y3RvcjtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGwpLCJpbnN0YW5jZVJvb3QiaW4gaiYmYyhiLnByb3RvdHlwZSx7Z2V0IGluc3RhbmNlUm9vdCgpe3JldHVybiBmKGUodGhpcykuaW5zdGFuY2VSb290KX0sZ2V0IGFuaW1hdGVkSW5zdGFuY2VSb290KCl7cmV0dXJuIGYoZSh0aGlzKS5hbmltYXRlZEluc3RhbmNlUm9vdCl9fSksZChnLGIsaiksYS53cmFwcGVycy5TVkdVc2VFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5FdmVudFRhcmdldCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEud3JhcCxnPXdpbmRvdy5TVkdFbGVtZW50SW5zdGFuY2U7ZyYmKGIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldCBjb3JyZXNwb25kaW5nRWxlbWVudCgpe3JldHVybiBmKHRoaXMuaW1wbC5jb3JyZXNwb25kaW5nRWxlbWVudCl9LGdldCBjb3JyZXNwb25kaW5nVXNlRWxlbWVudCgpe3JldHVybiBmKHRoaXMuaW1wbC5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCl9LGdldCBwYXJlbnROb2RlKCl7cmV0dXJuIGYodGhpcy5pbXBsLnBhcmVudE5vZGUpfSxnZXQgY2hpbGROb2Rlcygpe3Rocm93IG5ldyBFcnJvcigiTm90IGltcGxlbWVudGVkIil9LGdldCBmaXJzdENoaWxkKCl7cmV0dXJuIGYodGhpcy5pbXBsLmZpcnN0Q2hpbGQpfSxnZXQgbGFzdENoaWxkKCl7cmV0dXJuIGYodGhpcy5pbXBsLmxhc3RDaGlsZCl9LGdldCBwcmV2aW91c1NpYmxpbmcoKXtyZXR1cm4gZih0aGlzLmltcGwucHJldmlvdXNTaWJsaW5nKX0sZ2V0IG5leHRTaWJsaW5nKCl7cmV0dXJuIGYodGhpcy5pbXBsLm5leHRTaWJsaW5nKX19KSxlKGcsYiksYS53cmFwcGVycy5TVkdFbGVtZW50SW5zdGFuY2U9Yil9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dGhpcy5pbXBsPWF9dmFyIGM9YS5taXhpbixkPWEucmVnaXN0ZXJXcmFwcGVyLGU9YS51bndyYXAsZj1hLnVud3JhcElmTmVlZGVkLGc9YS53cmFwLGg9d2luZG93LkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtjKGIucHJvdG90eXBlLHtnZXQgY2FudmFzKCl7cmV0dXJuIGcodGhpcy5pbXBsLmNhbnZhcyl9LGRyYXdJbWFnZTpmdW5jdGlvbigpe2FyZ3VtZW50c1swXT1mKGFyZ3VtZW50c1swXSksdGhpcy5pbXBsLmRyYXdJbWFnZS5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX0sY3JlYXRlUGF0dGVybjpmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF09ZShhcmd1bWVudHNbMF0pLHRoaXMuaW1wbC5jcmVhdGVQYXR0ZXJuLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfX0pLGQoaCxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLmdldENvbnRleHQoIjJkIikpLGEud3JhcHBlcnMuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dGhpcy5pbXBsPWF9dmFyIGM9YS5taXhpbixkPWEucmVnaXN0ZXJXcmFwcGVyLGU9YS51bndyYXBJZk5lZWRlZCxmPWEud3JhcCxnPXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQ7aWYoZyl7YyhiLnByb3RvdHlwZSx7Z2V0IGNhbnZhcygpe3JldHVybiBmKHRoaXMuaW1wbC5jYW52YXMpfSx0ZXhJbWFnZTJEOmZ1bmN0aW9uKCl7YXJndW1lbnRzWzVdPWUoYXJndW1lbnRzWzVdKSx0aGlzLmltcGwudGV4SW1hZ2UyRC5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX0sdGV4U3ViSW1hZ2UyRDpmdW5jdGlvbigpe2FyZ3VtZW50c1s2XT1lKGFyZ3VtZW50c1s2XSksdGhpcy5pbXBsLnRleFN1YkltYWdlMkQuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyl9fSk7dmFyIGg9L1dlYktpdC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KT97ZHJhd2luZ0J1ZmZlckhlaWdodDpudWxsLGRyYXdpbmdCdWZmZXJXaWR0aDpudWxsfTp7fTtkKGcsYixoKSxhLndyYXBwZXJzLldlYkdMUmVuZGVyaW5nQ29udGV4dD1ifX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt0aGlzLmltcGw9YX12YXIgYz1hLnJlZ2lzdGVyV3JhcHBlcixkPWEudW53cmFwLGU9YS51bndyYXBJZk5lZWRlZCxmPWEud3JhcCxnPXdpbmRvdy5SYW5nZTtiLnByb3RvdHlwZT17Z2V0IHN0YXJ0Q29udGFpbmVyKCl7cmV0dXJuIGYodGhpcy5pbXBsLnN0YXJ0Q29udGFpbmVyKX0sZ2V0IGVuZENvbnRhaW5lcigpe3JldHVybiBmKHRoaXMuaW1wbC5lbmRDb250YWluZXIpfSxnZXQgY29tbW9uQW5jZXN0b3JDb250YWluZXIoKXtyZXR1cm4gZih0aGlzLmltcGwuY29tbW9uQW5jZXN0b3JDb250YWluZXIpfSxzZXRTdGFydDpmdW5jdGlvbihhLGIpe3RoaXMuaW1wbC5zZXRTdGFydChlKGEpLGIpfSxzZXRFbmQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmltcGwuc2V0RW5kKGUoYSksYil9LHNldFN0YXJ0QmVmb3JlOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZXRTdGFydEJlZm9yZShlKGEpKX0sc2V0U3RhcnRBZnRlcjpmdW5jdGlvbihhKXt0aGlzLmltcGwuc2V0U3RhcnRBZnRlcihlKGEpKX0sc2V0RW5kQmVmb3JlOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZXRFbmRCZWZvcmUoZShhKSl9LHNldEVuZEFmdGVyOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZXRFbmRBZnRlcihlKGEpKX0sc2VsZWN0Tm9kZTpmdW5jdGlvbihhKXt0aGlzLmltcGwuc2VsZWN0Tm9kZShlKGEpKX0sc2VsZWN0Tm9kZUNvbnRlbnRzOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZWxlY3ROb2RlQ29udGVudHMoZShhKSl9LGNvbXBhcmVCb3VuZGFyeVBvaW50czpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmltcGwuY29tcGFyZUJvdW5kYXJ5UG9pbnRzKGEsZChiKSl9LGV4dHJhY3RDb250ZW50czpmdW5jdGlvbigpe3JldHVybiBmKHRoaXMuaW1wbC5leHRyYWN0Q29udGVudHMoKSl9LGNsb25lQ29udGVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLmltcGwuY2xvbmVDb250ZW50cygpKX0saW5zZXJ0Tm9kZTpmdW5jdGlvbihhKXt0aGlzLmltcGwuaW5zZXJ0Tm9kZShlKGEpKX0sc3Vycm91bmRDb250ZW50czpmdW5jdGlvbihhKXt0aGlzLmltcGwuc3Vycm91bmRDb250ZW50cyhlKGEpKX0sY2xvbmVSYW5nZTpmdW5jdGlvbigpe3JldHVybiBmKHRoaXMuaW1wbC5jbG9uZVJhbmdlKCkpfSxpc1BvaW50SW5SYW5nZTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmltcGwuaXNQb2ludEluUmFuZ2UoZShhKSxiKX0sY29tcGFyZVBvaW50OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaW1wbC5jb21wYXJlUG9pbnQoZShhKSxiKX0saW50ZXJzZWN0c05vZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaW1wbC5pbnRlcnNlY3RzTm9kZShlKGEpKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsLnRvU3RyaW5nKCl9fSxnLnByb3RvdHlwZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQmJihiLnByb3RvdHlwZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGYodGhpcy5pbXBsLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChhKSl9KSxjKHdpbmRvdy5SYW5nZSxiLGRvY3VtZW50LmNyZWF0ZVJhbmdlKCkpLGEud3JhcHBlcnMuUmFuZ2U9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7dmFyIGI9YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLGM9YS5QYXJlbnROb2RlSW50ZXJmYWNlLGQ9YS5TZWxlY3RvcnNJbnRlcmZhY2UsZT1hLm1peGluLGY9YS5yZWdpc3Rlck9iamVjdCxnPWYoZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTtlKGcucHJvdG90eXBlLGMpLGUoZy5wcm90b3R5cGUsZCksZShnLnByb3RvdHlwZSxiKTt2YXIgaD1mKGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoIiIpKTthLndyYXBwZXJzLkNvbW1lbnQ9aCxhLndyYXBwZXJzLkRvY3VtZW50RnJhZ21lbnQ9Z30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt2YXIgYj1pKGEuaW1wbC5vd25lckRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7Yy5jYWxsKHRoaXMsYiksZyhiLHRoaXMpO3ZhciBkPWEuc2hhZG93Um9vdDtrLnNldCh0aGlzLGQpLGouc2V0KHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5Eb2N1bWVudEZyYWdtZW50LGQ9YS5lbGVtZW50RnJvbVBvaW50LGU9YS5nZXRJbm5lckhUTUwsZj1hLm1peGluLGc9YS5yZXdyYXAsaD1hLnNldElubmVySFRNTCxpPWEudW53cmFwLGo9bmV3IFdlYWtNYXAsaz1uZXcgV2Vha01hcCxsPS9bIFx0XG5cclxmXS87Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZihiLnByb3RvdHlwZSx7Z2V0IGlubmVySFRNTCgpe3JldHVybiBlKHRoaXMpfSxzZXQgaW5uZXJIVE1MKGEpe2godGhpcyxhKSx0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpfSxnZXQgb2xkZXJTaGFkb3dSb290KCl7cmV0dXJuIGsuZ2V0KHRoaXMpfHxudWxsfSxnZXQgaG9zdCgpe3JldHVybiBqLmdldCh0aGlzKXx8bnVsbH0saW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyOmZ1bmN0aW9uKCl7cmV0dXJuIGouZ2V0KHRoaXMpLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpfSxlbGVtZW50RnJvbVBvaW50OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGQodGhpcyx0aGlzLm93bmVyRG9jdW1lbnQsYSxiKX0sZ2V0RWxlbWVudEJ5SWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGwudGVzdChhKT9udWxsOnRoaXMucXVlcnlTZWxlY3RvcignW2lkPSInK2ErJyJdJyl9fSksYS53cmFwcGVycy5TaGFkb3dSb290PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7YS5wcmV2aW91c1NpYmxpbmdfPWEucHJldmlvdXNTaWJsaW5nLGEubmV4dFNpYmxpbmdfPWEubmV4dFNpYmxpbmcsYS5wYXJlbnROb2RlXz1hLnBhcmVudE5vZGV9ZnVuY3Rpb24gYyhhLGMsZSl7dmFyIGY9RihhKSxnPUYoYyksaD1lP0YoZSk6bnVsbDtpZihkKGMpLGIoYyksZSlhLmZpcnN0Q2hpbGQ9PT1lJiYoYS5maXJzdENoaWxkXz1lKSxlLnByZXZpb3VzU2libGluZ189ZS5wcmV2aW91c1NpYmxpbmc7ZWxzZXthLmxhc3RDaGlsZF89YS5sYXN0Q2hpbGQsYS5sYXN0Q2hpbGQ9PT1hLmZpcnN0Q2hpbGQmJihhLmZpcnN0Q2hpbGRfPWEuZmlyc3RDaGlsZCk7dmFyIGk9RyhmLmxhc3RDaGlsZCk7aSYmKGkubmV4dFNpYmxpbmdfPWkubmV4dFNpYmxpbmcpfWYuaW5zZXJ0QmVmb3JlKGcsaCl9ZnVuY3Rpb24gZChhKXt2YXIgYz1GKGEpLGQ9Yy5wYXJlbnROb2RlO2lmKGQpe3ZhciBlPUcoZCk7YihhKSxhLnByZXZpb3VzU2libGluZyYmKGEucHJldmlvdXNTaWJsaW5nLm5leHRTaWJsaW5nXz1hKSxhLm5leHRTaWJsaW5nJiYoYS5uZXh0U2libGluZy5wcmV2aW91c1NpYmxpbmdfPWEpLGUubGFzdENoaWxkPT09YSYmKGUubGFzdENoaWxkXz1hKSxlLmZpcnN0Q2hpbGQ9PT1hJiYoZS5maXJzdENoaWxkXz1hKSxkLnJlbW92ZUNoaWxkKGMpfX1mdW5jdGlvbiBlKGEsYil7ZyhiKS5wdXNoKGEpLHgoYSxiKTt2YXIgYz1JLmdldChhKTtjfHxJLnNldChhLGM9W10pLGMucHVzaChiKX1mdW5jdGlvbiBmKGEpe0guc2V0KGEsW10pfWZ1bmN0aW9uIGcoYSl7dmFyIGI9SC5nZXQoYSk7cmV0dXJuIGJ8fEguc2V0KGEsYj1bXSksYn1mdW5jdGlvbiBoKGEpe2Zvcih2YXIgYj1bXSxjPTAsZD1hLmZpcnN0Q2hpbGQ7ZDtkPWQubmV4dFNpYmxpbmcpYltjKytdPWQ7cmV0dXJuIGJ9ZnVuY3Rpb24gaShhLGIsYyl7Zm9yKHZhciBkPWEuZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZylpZihiKGQpKXtpZihjKGQpPT09ITEpcmV0dXJufWVsc2UgaShkLGIsYyl9ZnVuY3Rpb24gaihhLGIpe3ZhciBjPWIuZ2V0QXR0cmlidXRlKCJzZWxlY3QiKTtpZighYylyZXR1cm4hMDtpZihjPWMudHJpbSgpLCFjKXJldHVybiEwO2lmKCEoYSBpbnN0YW5jZW9mIHopKXJldHVybiExO2lmKCIqIj09PWN8fGM9PT1hLmxvY2FsTmFtZSlyZXR1cm4hMDtpZighTC50ZXN0KGMpKXJldHVybiExO2lmKCI6Ij09PWNbMF0mJiFNLnRlc3QoYykpcmV0dXJuITE7dHJ5e3JldHVybiBhLm1hdGNoZXMoYyl9Y2F0Y2goZCl7cmV0dXJuITF9fWZ1bmN0aW9uIGsoKXtmb3IodmFyIGE9MDthPE8ubGVuZ3RoO2ErKylPW2FdLnJlbmRlcigpO089W119ZnVuY3Rpb24gbCgpe3k9bnVsbCxrKCl9ZnVuY3Rpb24gbShhKXt2YXIgYj1LLmdldChhKTtyZXR1cm4gYnx8KGI9bmV3IHEoYSksSy5zZXQoYSxiKSksYn1mdW5jdGlvbiBuKGEpe2Zvcig7YTthPWEucGFyZW50Tm9kZSlpZihhIGluc3RhbmNlb2YgRClyZXR1cm4gYTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBvKGEpe3JldHVybiBtKGEuaG9zdCl9ZnVuY3Rpb24gcChhKXt0aGlzLnNraXA9ITEsdGhpcy5ub2RlPWEsdGhpcy5jaGlsZE5vZGVzPVtdfWZ1bmN0aW9uIHEoYSl7dGhpcy5ob3N0PWEsdGhpcy5kaXJ0eT0hMSx0aGlzLmludmFsaWRhdGVBdHRyaWJ1dGVzKCksdGhpcy5hc3NvY2lhdGVOb2RlKGEpfWZ1bmN0aW9uIHIoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBBfWZ1bmN0aW9uIHMoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBBfWZ1bmN0aW9uIHQoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBCfWZ1bmN0aW9uIHUoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBCfWZ1bmN0aW9uIHYoYSl7cmV0dXJuIGEuc2hhZG93Um9vdH1mdW5jdGlvbiB3KGEpe2Zvcih2YXIgYj1bXSxjPWEuc2hhZG93Um9vdDtjO2M9Yy5vbGRlclNoYWRvd1Jvb3QpYi5wdXNoKGMpO3JldHVybiBifWZ1bmN0aW9uIHgoYSxiKXtKLnNldChhLGIpfXZhciB5LHo9YS53cmFwcGVycy5FbGVtZW50LEE9YS53cmFwcGVycy5IVE1MQ29udGVudEVsZW1lbnQsQj1hLndyYXBwZXJzLkhUTUxTaGFkb3dFbGVtZW50LEM9YS53cmFwcGVycy5Ob2RlLEQ9YS53cmFwcGVycy5TaGFkb3dSb290LEU9KGEuYXNzZXJ0LGEubWl4aW4sYS5vbmVPZiksRj1hLnVud3JhcCxHPWEud3JhcCxIPW5ldyBXZWFrTWFwLEk9bmV3IFdlYWtNYXAsSj1uZXcgV2Vha01hcCxLPW5ldyBXZWFrTWFwLEw9L15bKi46I1thLXpBLVpffF0vLE09bmV3IFJlZ0V4cCgiXjooIitbImxpbmsiLCJ2aXNpdGVkIiwidGFyZ2V0IiwiZW5hYmxlZCIsImRpc2FibGVkIiwiY2hlY2tlZCIsImluZGV0ZXJtaW5hdGUiLCJudGgtY2hpbGQiLCJudGgtbGFzdC1jaGlsZCIsIm50aC1vZi10eXBlIiwibnRoLWxhc3Qtb2YtdHlwZSIsImZpcnN0LWNoaWxkIiwibGFzdC1jaGlsZCIsImZpcnN0LW9mLXR5cGUiLCJsYXN0LW9mLXR5cGUiLCJvbmx5LW9mLXR5cGUiXS5qb2luKCJ8IikrIikiKSxOPUUod2luZG93LFsicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2V0VGltZW91dCJdKSxPPVtdLFA9bmV3IEFycmF5U3BsaWNlO1AuZXF1YWxzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIEYoYS5ub2RlKT09PWJ9LHAucHJvdG90eXBlPXthcHBlbmQ6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IHAoYSk7cmV0dXJuIHRoaXMuY2hpbGROb2Rlcy5wdXNoKGIpLGJ9LHN5bmM6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuc2tpcCl7Zm9yKHZhciBiPXRoaXMubm9kZSxlPXRoaXMuY2hpbGROb2RlcyxmPWgoRihiKSksZz1hfHxuZXcgV2Vha01hcCxpPVAuY2FsY3VsYXRlU3BsaWNlcyhlLGYpLGo9MCxrPTAsbD0wLG09MDttPGkubGVuZ3RoO20rKyl7Zm9yKHZhciBuPWlbbV07bDxuLmluZGV4O2wrKylrKyssZVtqKytdLnN5bmMoZyk7Zm9yKHZhciBvPW4ucmVtb3ZlZC5sZW5ndGgscD0wO28+cDtwKyspe3ZhciBxPUcoZltrKytdKTtnLmdldChxKXx8ZChxKX1mb3IodmFyIHI9bi5hZGRlZENvdW50LHM9ZltrXSYmRyhmW2tdKSxwPTA7cj5wO3ArKyl7dmFyIHQ9ZVtqKytdLHU9dC5ub2RlO2MoYix1LHMpLGcuc2V0KHUsITApLHQuc3luYyhnKX1sKz1yfWZvcih2YXIgbT1sO208ZS5sZW5ndGg7bSsrKWVbbV0uc3luYyhnKX19fSxxLnByb3RvdHlwZT17cmVuZGVyOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZGlydHkpe3RoaXMuaW52YWxpZGF0ZUF0dHJpYnV0ZXMoKSx0aGlzLnRyZWVDb21wb3NpdGlvbigpO3ZhciBiPXRoaXMuaG9zdCxjPWIuc2hhZG93Um9vdDt0aGlzLmFzc29jaWF0ZU5vZGUoYik7Zm9yKHZhciBkPSFlLGU9YXx8bmV3IHAoYiksZj1jLmZpcnN0Q2hpbGQ7ZjtmPWYubmV4dFNpYmxpbmcpdGhpcy5yZW5kZXJOb2RlKGMsZSxmLCExKTtkJiZlLnN5bmMoKSx0aGlzLmRpcnR5PSExfX0saW52YWxpZGF0ZTpmdW5jdGlvbigpe2lmKCF0aGlzLmRpcnR5KXtpZih0aGlzLmRpcnR5PSEwLE8ucHVzaCh0aGlzKSx5KXJldHVybjt5PXdpbmRvd1tOXShsLDApfX0scmVuZGVyTm9kZTpmdW5jdGlvbihhLGIsYyxkKXtpZih2KGMpKXtiPWIuYXBwZW5kKGMpO3ZhciBlPW0oYyk7ZS5kaXJ0eT0hMCxlLnJlbmRlcihiKX1lbHNlIHIoYyk/dGhpcy5yZW5kZXJJbnNlcnRpb25Qb2ludChhLGIsYyxkKTp0KGMpP3RoaXMucmVuZGVyU2hhZG93SW5zZXJ0aW9uUG9pbnQoYSxiLGMpOnRoaXMucmVuZGVyQXNBbnlEb21UcmVlKGEsYixjLGQpfSxyZW5kZXJBc0FueURvbVRyZWU6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYj1iLmFwcGVuZChjKSx2KGMpKXt2YXIgZT1tKGMpO2Iuc2tpcD0hZS5kaXJ0eSxlLnJlbmRlcihiKX1lbHNlIGZvcih2YXIgZj1jLmZpcnN0Q2hpbGQ7ZjtmPWYubmV4dFNpYmxpbmcpdGhpcy5yZW5kZXJOb2RlKGEsYixmLGQpfSxyZW5kZXJJbnNlcnRpb25Qb2ludDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1nKGMpO2lmKGUubGVuZ3RoKXt0aGlzLmFzc29jaWF0ZU5vZGUoYyk7Zm9yKHZhciBmPTA7ZjxlLmxlbmd0aDtmKyspe3ZhciBoPWVbZl07cihoKSYmZD90aGlzLnJlbmRlckluc2VydGlvblBvaW50KGEsYixoLGQpOnRoaXMucmVuZGVyQXNBbnlEb21UcmVlKGEsYixoLGQpfX1lbHNlIHRoaXMucmVuZGVyRmFsbGJhY2tDb250ZW50KGEsYixjKTt0aGlzLmFzc29jaWF0ZU5vZGUoYy5wYXJlbnROb2RlKX0scmVuZGVyU2hhZG93SW5zZXJ0aW9uUG9pbnQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEub2xkZXJTaGFkb3dSb290O2lmKGQpe3goZCxjKSx0aGlzLmFzc29jaWF0ZU5vZGUoYy5wYXJlbnROb2RlKTtmb3IodmFyIGU9ZC5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKXRoaXMucmVuZGVyTm9kZShkLGIsZSwhMCl9ZWxzZSB0aGlzLnJlbmRlckZhbGxiYWNrQ29udGVudChhLGIsYykKfSxyZW5kZXJGYWxsYmFja0NvbnRlbnQ6ZnVuY3Rpb24oYSxiLGMpe3RoaXMuYXNzb2NpYXRlTm9kZShjKSx0aGlzLmFzc29jaWF0ZU5vZGUoYy5wYXJlbnROb2RlKTtmb3IodmFyIGQ9Yy5maXJzdENoaWxkO2Q7ZD1kLm5leHRTaWJsaW5nKXRoaXMucmVuZGVyQXNBbnlEb21UcmVlKGEsYixkLCExKX0saW52YWxpZGF0ZUF0dHJpYnV0ZXM6ZnVuY3Rpb24oKXt0aGlzLmF0dHJpYnV0ZXM9T2JqZWN0LmNyZWF0ZShudWxsKX0sdXBkYXRlRGVwZW5kZW50QXR0cmlidXRlczpmdW5jdGlvbihhKXtpZihhKXt2YXIgYj10aGlzLmF0dHJpYnV0ZXM7L1wuXHcrLy50ZXN0KGEpJiYoYlsiY2xhc3MiXT0hMCksLyNcdysvLnRlc3QoYSkmJihiLmlkPSEwKSxhLnJlcGxhY2UoL1xbXHMqKFteXHM9XHx+XF1dKykvZyxmdW5jdGlvbihhLGMpe2JbY109ITB9KX19LGRlcGVuZHNPbkF0dHJpYnV0ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW2FdfSxkaXN0cmlidXRlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztpKGEscyxmdW5jdGlvbihhKXtmKGEpLGMudXBkYXRlRGVwZW5kZW50QXR0cmlidXRlcyhhLmdldEF0dHJpYnV0ZSgic2VsZWN0IikpO2Zvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7ZCsrKXt2YXIgZz1iW2RdO3ZvaWQgMCE9PWcmJmooZyxhKSYmKGUoZyxhKSxiW2RdPXZvaWQgMCl9fSl9LHRyZWVDb21wb3NpdGlvbjpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmhvc3QsYj1hLnNoYWRvd1Jvb3QsYz1bXSxkPWEuZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZylpZihyKGQpKXt2YXIgZT1nKGQpO2UmJmUubGVuZ3RofHwoZT1oKGQpKSxjLnB1c2guYXBwbHkoYyxlKX1lbHNlIGMucHVzaChkKTtmb3IodmFyIGYsajtiOyl7aWYoZj12b2lkIDAsaShiLHUsZnVuY3Rpb24oYSl7cmV0dXJuIGY9YSwhMX0pLGo9Zix0aGlzLmRpc3RyaWJ1dGUoYixjKSxqKXt2YXIgaz1iLm9sZGVyU2hhZG93Um9vdDtpZihrKXtiPWsseChiLGopO2NvbnRpbnVlfWJyZWFrfWJyZWFrfX0sYXNzb2NpYXRlTm9kZTpmdW5jdGlvbihhKXthLmltcGwucG9seW1lclNoYWRvd1JlbmRlcmVyXz10aGlzfX0sQy5wcm90b3R5cGUuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pbXBsLnBvbHltZXJTaGFkb3dSZW5kZXJlcl87cmV0dXJuIGE/KGEuaW52YWxpZGF0ZSgpLCEwKTohMX0sQS5wcm90b3R5cGUuZ2V0RGlzdHJpYnV0ZWROb2Rlcz1mdW5jdGlvbigpe3JldHVybiBrKCksZyh0aGlzKX0sQi5wcm90b3R5cGUubm9kZUlzSW5zZXJ0ZWRfPUEucHJvdG90eXBlLm5vZGVJc0luc2VydGVkXz1mdW5jdGlvbigpe3RoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCk7dmFyIGEsYj1uKHRoaXMpO2ImJihhPW8oYikpLHRoaXMuaW1wbC5wb2x5bWVyU2hhZG93UmVuZGVyZXJfPWEsYSYmYS5pbnZhbGlkYXRlKCl9LGEuZXZlbnRQYXJlbnRzVGFibGU9SSxhLmdldFJlbmRlcmVyRm9ySG9zdD1tLGEuZ2V0U2hhZG93VHJlZXM9dyxhLmluc2VydGlvblBhcmVudFRhYmxlPUosYS5yZW5kZXJBbGxQZW5kaW5nPWssYS52aXN1YWw9e2luc2VydEJlZm9yZTpjLHJlbW92ZTpkfX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihiKXtpZih3aW5kb3dbYl0pe2QoIWEud3JhcHBlcnNbYl0pO3ZhciBpPWZ1bmN0aW9uKGEpe2MuY2FsbCh0aGlzLGEpfTtpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxlKGkucHJvdG90eXBlLHtnZXQgZm9ybSgpe3JldHVybiBoKGcodGhpcykuZm9ybSl9fSksZih3aW5kb3dbYl0saSxkb2N1bWVudC5jcmVhdGVFbGVtZW50KGIuc2xpY2UoNCwtNykpKSxhLndyYXBwZXJzW2JdPWl9fXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLmFzc2VydCxlPWEubWl4aW4sZj1hLnJlZ2lzdGVyV3JhcHBlcixnPWEudW53cmFwLGg9YS53cmFwLGk9WyJIVE1MQnV0dG9uRWxlbWVudCIsIkhUTUxGaWVsZFNldEVsZW1lbnQiLCJIVE1MSW5wdXRFbGVtZW50IiwiSFRNTEtleWdlbkVsZW1lbnQiLCJIVE1MTGFiZWxFbGVtZW50IiwiSFRNTExlZ2VuZEVsZW1lbnQiLCJIVE1MT2JqZWN0RWxlbWVudCIsIkhUTUxPdXRwdXRFbGVtZW50IiwiSFRNTFRleHRBcmVhRWxlbWVudCJdO2kuZm9yRWFjaChiKX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt0aGlzLmltcGw9YX17dmFyIGM9YS5yZWdpc3RlcldyYXBwZXIsZD1hLnVud3JhcCxlPWEudW53cmFwSWZOZWVkZWQsZj1hLndyYXA7d2luZG93LlNlbGVjdGlvbn1iLnByb3RvdHlwZT17Z2V0IGFuY2hvck5vZGUoKXtyZXR1cm4gZih0aGlzLmltcGwuYW5jaG9yTm9kZSl9LGdldCBmb2N1c05vZGUoKXtyZXR1cm4gZih0aGlzLmltcGwuZm9jdXNOb2RlKX0sYWRkUmFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLmFkZFJhbmdlKGQoYSkpfSxjb2xsYXBzZTpmdW5jdGlvbihhLGIpe3RoaXMuaW1wbC5jb2xsYXBzZShlKGEpLGIpfSxjb250YWluc05vZGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pbXBsLmNvbnRhaW5zTm9kZShlKGEpLGIpfSxleHRlbmQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmltcGwuZXh0ZW5kKGUoYSksYil9LGdldFJhbmdlQXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGYodGhpcy5pbXBsLmdldFJhbmdlQXQoYSkpfSxyZW1vdmVSYW5nZTpmdW5jdGlvbihhKXt0aGlzLmltcGwucmVtb3ZlUmFuZ2UoZChhKSl9LHNlbGVjdEFsbENoaWxkcmVuOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZWxlY3RBbGxDaGlsZHJlbihlKGEpKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsLnRvU3RyaW5nKCl9fSxjKHdpbmRvdy5TZWxlY3Rpb24sYix3aW5kb3cuZ2V0U2VsZWN0aW9uKCkpLGEud3JhcHBlcnMuU2VsZWN0aW9uPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7ay5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gYyhhKXt2YXIgYz1kb2N1bWVudFthXTtiLnByb3RvdHlwZVthXT1mdW5jdGlvbigpe3JldHVybiB6KGMuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBkKGEsYil7Qy5jYWxsKGIuaW1wbCx5KGEpKSxlKGEsYil9ZnVuY3Rpb24gZShhLGIpe2Euc2hhZG93Um9vdCYmYi5hZG9wdE5vZGUoYS5zaGFkb3dSb290KSxhIGluc3RhbmNlb2YgbyYmZihhLGIpO2Zvcih2YXIgYz1hLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpZShjLGIpfWZ1bmN0aW9uIGYoYSxiKXt2YXIgYz1hLm9sZGVyU2hhZG93Um9vdDtjJiZiLmFkb3B0Tm9kZShjKX1mdW5jdGlvbiBnKGEpe3RoaXMuaW1wbD1hfWZ1bmN0aW9uIGgoYSxiKXt2YXIgYz1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbltiXTthLnByb3RvdHlwZVtiXT1mdW5jdGlvbigpe3JldHVybiB6KGMuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBpKGEsYil7dmFyIGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb25bYl07YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXtyZXR1cm4gYy5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX19dmFyIGo9YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLGs9YS53cmFwcGVycy5Ob2RlLGw9YS5QYXJlbnROb2RlSW50ZXJmYWNlLG09YS53cmFwcGVycy5TZWxlY3Rpb24sbj1hLlNlbGVjdG9yc0ludGVyZmFjZSxvPWEud3JhcHBlcnMuU2hhZG93Um9vdCxwPWEuY2xvbmVOb2RlLHE9YS5kZWZpbmVXcmFwR2V0dGVyLHI9YS5lbGVtZW50RnJvbVBvaW50LHM9YS5mb3J3YXJkTWV0aG9kc1RvV3JhcHBlcix0PWEubWF0Y2hlc05hbWVzLHU9YS5taXhpbix2PWEucmVnaXN0ZXJXcmFwcGVyLHc9YS5yZW5kZXJBbGxQZW5kaW5nLHg9YS5yZXdyYXAseT1hLnVud3JhcCx6PWEud3JhcCxBPWEud3JhcEV2ZW50VGFyZ2V0TWV0aG9kcyxCPShhLndyYXBOb2RlTGlzdCxuZXcgV2Vha01hcCk7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShrLnByb3RvdHlwZSkscShiLCJkb2N1bWVudEVsZW1lbnQiKSxxKGIsImJvZHkiKSxxKGIsImhlYWQiKSxbImNyZWF0ZUNvbW1lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY3JlYXRlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnROUyIsImNyZWF0ZUV2ZW50IiwiY3JlYXRlRXZlbnROUyIsImNyZWF0ZVJhbmdlIiwiY3JlYXRlVGV4dE5vZGUiLCJnZXRFbGVtZW50QnlJZCJdLmZvckVhY2goYyk7dmFyIEM9ZG9jdW1lbnQuYWRvcHROb2RlLEQ9ZG9jdW1lbnQuZ2V0U2VsZWN0aW9uO2lmKHUoYi5wcm90b3R5cGUse2Fkb3B0Tm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSksZChhLHRoaXMpLGF9LGVsZW1lbnRGcm9tUG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcih0aGlzLHRoaXMsYSxiKX0saW1wb3J0Tm9kZTpmdW5jdGlvbihhLGIpe3JldHVybiBwKGEsYix0aGlzLmltcGwpfSxnZXRTZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdygpLG5ldyBtKEQuY2FsbCh5KHRoaXMpKSl9fSksZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50KXt2YXIgRT1kb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ7Yi5wcm90b3R5cGUucmVnaXN0ZXJFbGVtZW50PWZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZChhKXtyZXR1cm4gYT92b2lkKHRoaXMuaW1wbD1hKTpjLmV4dGVuZHM/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChjLmV4dGVuZHMsYik6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChiKX12YXIgZT1jLnByb3RvdHlwZTtpZihhLm5hdGl2ZVByb3RvdHlwZVRhYmxlLmdldChlKSl0aHJvdyBuZXcgRXJyb3IoIk5vdFN1cHBvcnRlZEVycm9yIik7Zm9yKHZhciBmLGc9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLGg9W107ZyYmIShmPWEubmF0aXZlUHJvdG90eXBlVGFibGUuZ2V0KGcpKTspaC5wdXNoKGcpLGc9T2JqZWN0LmdldFByb3RvdHlwZU9mKGcpO2lmKCFmKXRocm93IG5ldyBFcnJvcigiTm90U3VwcG9ydGVkRXJyb3IiKTtmb3IodmFyIGk9T2JqZWN0LmNyZWF0ZShmKSxqPWgubGVuZ3RoLTE7aj49MDtqLS0paT1PYmplY3QuY3JlYXRlKGkpO1siY3JlYXRlZENhbGxiYWNrIiwiYXR0YWNoZWRDYWxsYmFjayIsImRldGFjaGVkQ2FsbGJhY2siLCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2siXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWVbYV07YiYmKGlbYV09ZnVuY3Rpb24oKXt6KHRoaXMpaW5zdGFuY2VvZiBkfHx4KHRoaXMpLGIuYXBwbHkoeih0aGlzKSxhcmd1bWVudHMpfSl9KTt2YXIgaz17cHJvdG90eXBlOml9O2MuZXh0ZW5kcyYmKGsuZXh0ZW5kcz1jLmV4dGVuZHMpLGQucHJvdG90eXBlPWUsZC5wcm90b3R5cGUuY29uc3RydWN0b3I9ZCxhLmNvbnN0cnVjdG9yVGFibGUuc2V0KGksZCksYS5uYXRpdmVQcm90b3R5cGVUYWJsZS5zZXQoZSxpKTtFLmNhbGwoeSh0aGlzKSxiLGspO3JldHVybiBkfSxzKFt3aW5kb3cuSFRNTERvY3VtZW50fHx3aW5kb3cuRG9jdW1lbnRdLFsicmVnaXN0ZXJFbGVtZW50Il0pfXMoW3dpbmRvdy5IVE1MQm9keUVsZW1lbnQsd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50LHdpbmRvdy5IVE1MSGVhZEVsZW1lbnQsd2luZG93LkhUTUxIdG1sRWxlbWVudF0sWyJhcHBlbmRDaGlsZCIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwiY29udGFpbnMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZU5TIiwiaW5zZXJ0QmVmb3JlIiwicXVlcnlTZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZW1vdmVDaGlsZCIsInJlcGxhY2VDaGlsZCJdLmNvbmNhdCh0KSkscyhbd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50XSxbImFkb3B0Tm9kZSIsImltcG9ydE5vZGUiLCJjb250YWlucyIsImNyZWF0ZUNvbW1lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY3JlYXRlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnROUyIsImNyZWF0ZUV2ZW50IiwiY3JlYXRlRXZlbnROUyIsImNyZWF0ZVJhbmdlIiwiY3JlYXRlVGV4dE5vZGUiLCJlbGVtZW50RnJvbVBvaW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRTZWxlY3Rpb24iXSksdShiLnByb3RvdHlwZSxqKSx1KGIucHJvdG90eXBlLGwpLHUoYi5wcm90b3R5cGUsbiksdShiLnByb3RvdHlwZSx7Z2V0IGltcGxlbWVudGF0aW9uKCl7dmFyIGE9Qi5nZXQodGhpcyk7cmV0dXJuIGE/YTooYT1uZXcgZyh5KHRoaXMpLmltcGxlbWVudGF0aW9uKSxCLnNldCh0aGlzLGEpLGEpfX0pLHYod2luZG93LkRvY3VtZW50LGIsZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSksd2luZG93LkhUTUxEb2N1bWVudCYmdih3aW5kb3cuSFRNTERvY3VtZW50LGIpLEEoW3dpbmRvdy5IVE1MQm9keUVsZW1lbnQsd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50LHdpbmRvdy5IVE1MSGVhZEVsZW1lbnRdKSxoKGcsImNyZWF0ZURvY3VtZW50VHlwZSIpLGgoZywiY3JlYXRlRG9jdW1lbnQiKSxoKGcsImNyZWF0ZUhUTUxEb2N1bWVudCIpLGkoZywiaGFzRmVhdHVyZSIpLHYod2luZG93LkRPTUltcGxlbWVudGF0aW9uLGcpLHMoW3dpbmRvdy5ET01JbXBsZW1lbnRhdGlvbl0sWyJjcmVhdGVEb2N1bWVudFR5cGUiLCJjcmVhdGVEb2N1bWVudCIsImNyZWF0ZUhUTUxEb2N1bWVudCIsImhhc0ZlYXR1cmUiXSksYS5hZG9wdE5vZGVOb1JlbW92ZT1kLGEud3JhcHBlcnMuRE9NSW1wbGVtZW50YXRpb249ZyxhLndyYXBwZXJzLkRvY3VtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5FdmVudFRhcmdldCxkPWEud3JhcHBlcnMuU2VsZWN0aW9uLGU9YS5taXhpbixmPWEucmVnaXN0ZXJXcmFwcGVyLGc9YS5yZW5kZXJBbGxQZW5kaW5nLGg9YS51bndyYXAsaT1hLnVud3JhcElmTmVlZGVkLGo9YS53cmFwLGs9d2luZG93LldpbmRvdyxsPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlLG09d2luZG93LmdldFNlbGVjdGlvbjtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxrLnByb3RvdHlwZS5nZXRDb21wdXRlZFN0eWxlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGoodGhpc3x8d2luZG93KS5nZXRDb21wdXRlZFN0eWxlKGkoYSksYil9LGsucHJvdG90eXBlLmdldFNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiBqKHRoaXN8fHdpbmRvdykuZ2V0U2VsZWN0aW9uKCl9LGRlbGV0ZSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSxkZWxldGUgd2luZG93LmdldFNlbGVjdGlvbixbImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzcGF0Y2hFdmVudCJdLmZvckVhY2goZnVuY3Rpb24oYSl7ay5wcm90b3R5cGVbYV09ZnVuY3Rpb24oKXt2YXIgYj1qKHRoaXN8fHdpbmRvdyk7cmV0dXJuIGJbYV0uYXBwbHkoYixhcmd1bWVudHMpfSxkZWxldGUgd2luZG93W2FdfSksZShiLnByb3RvdHlwZSx7Z2V0Q29tcHV0ZWRTdHlsZTpmdW5jdGlvbihhLGIpe3JldHVybiBnKCksbC5jYWxsKGgodGhpcyksaShhKSxiKX0sZ2V0U2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGcoKSxuZXcgZChtLmNhbGwoaCh0aGlzKSkpfX0pLGYoayxiKSxhLndyYXBwZXJzLldpbmRvdz1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3ZhciBiPWNbYV0sZD13aW5kb3dbYl07aWYoZCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKSxmPWUuY29uc3RydWN0b3I7d2luZG93W2JdPWZ9fXZhciBjPShhLmlzV3JhcHBlckZvcix7YToiSFRNTEFuY2hvckVsZW1lbnQiLGFyZWE6IkhUTUxBcmVhRWxlbWVudCIsYXVkaW86IkhUTUxBdWRpb0VsZW1lbnQiLGJhc2U6IkhUTUxCYXNlRWxlbWVudCIsYm9keToiSFRNTEJvZHlFbGVtZW50IixicjoiSFRNTEJSRWxlbWVudCIsYnV0dG9uOiJIVE1MQnV0dG9uRWxlbWVudCIsY2FudmFzOiJIVE1MQ2FudmFzRWxlbWVudCIsY2FwdGlvbjoiSFRNTFRhYmxlQ2FwdGlvbkVsZW1lbnQiLGNvbDoiSFRNTFRhYmxlQ29sRWxlbWVudCIsY29udGVudDoiSFRNTENvbnRlbnRFbGVtZW50IixkYXRhOiJIVE1MRGF0YUVsZW1lbnQiLGRhdGFsaXN0OiJIVE1MRGF0YUxpc3RFbGVtZW50IixkZWw6IkhUTUxNb2RFbGVtZW50IixkaXI6IkhUTUxEaXJlY3RvcnlFbGVtZW50IixkaXY6IkhUTUxEaXZFbGVtZW50IixkbDoiSFRNTERMaXN0RWxlbWVudCIsZW1iZWQ6IkhUTUxFbWJlZEVsZW1lbnQiLGZpZWxkc2V0OiJIVE1MRmllbGRTZXRFbGVtZW50Iixmb250OiJIVE1MRm9udEVsZW1lbnQiLGZvcm06IkhUTUxGb3JtRWxlbWVudCIsZnJhbWU6IkhUTUxGcmFtZUVsZW1lbnQiLGZyYW1lc2V0OiJIVE1MRnJhbWVTZXRFbGVtZW50IixoMToiSFRNTEhlYWRpbmdFbGVtZW50IixoZWFkOiJIVE1MSGVhZEVsZW1lbnQiLGhyOiJIVE1MSFJFbGVtZW50IixodG1sOiJIVE1MSHRtbEVsZW1lbnQiLGlmcmFtZToiSFRNTElGcmFtZUVsZW1lbnQiLGltZzoiSFRNTEltYWdlRWxlbWVudCIsaW5wdXQ6IkhUTUxJbnB1dEVsZW1lbnQiLGtleWdlbjoiSFRNTEtleWdlbkVsZW1lbnQiLGxhYmVsOiJIVE1MTGFiZWxFbGVtZW50IixsZWdlbmQ6IkhUTUxMZWdlbmRFbGVtZW50IixsaToiSFRNTExJRWxlbWVudCIsbGluazoiSFRNTExpbmtFbGVtZW50IixtYXA6IkhUTUxNYXBFbGVtZW50IixtYXJxdWVlOiJIVE1MTWFycXVlZUVsZW1lbnQiLG1lbnU6IkhUTUxNZW51RWxlbWVudCIsbWVudWl0ZW06IkhUTUxNZW51SXRlbUVsZW1lbnQiLG1ldGE6IkhUTUxNZXRhRWxlbWVudCIsbWV0ZXI6IkhUTUxNZXRlckVsZW1lbnQiLG9iamVjdDoiSFRNTE9iamVjdEVsZW1lbnQiLG9sOiJIVE1MT0xpc3RFbGVtZW50IixvcHRncm91cDoiSFRNTE9wdEdyb3VwRWxlbWVudCIsb3B0aW9uOiJIVE1MT3B0aW9uRWxlbWVudCIsb3V0cHV0OiJIVE1MT3V0cHV0RWxlbWVudCIscDoiSFRNTFBhcmFncmFwaEVsZW1lbnQiLHBhcmFtOiJIVE1MUGFyYW1FbGVtZW50IixwcmU6IkhUTUxQcmVFbGVtZW50Iixwcm9ncmVzczoiSFRNTFByb2dyZXNzRWxlbWVudCIscToiSFRNTFF1b3RlRWxlbWVudCIsc2NyaXB0OiJIVE1MU2NyaXB0RWxlbWVudCIsc2VsZWN0OiJIVE1MU2VsZWN0RWxlbWVudCIsc2hhZG93OiJIVE1MU2hhZG93RWxlbWVudCIsc291cmNlOiJIVE1MU291cmNlRWxlbWVudCIsc3BhbjoiSFRNTFNwYW5FbGVtZW50IixzdHlsZToiSFRNTFN0eWxlRWxlbWVudCIsdGFibGU6IkhUTUxUYWJsZUVsZW1lbnQiLHRib2R5OiJIVE1MVGFibGVTZWN0aW9uRWxlbWVudCIsdGVtcGxhdGU6IkhUTUxUZW1wbGF0ZUVsZW1lbnQiLHRleHRhcmVhOiJIVE1MVGV4dEFyZWFFbGVtZW50Iix0aGVhZDoiSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQiLHRpbWU6IkhUTUxUaW1lRWxlbWVudCIsdGl0bGU6IkhUTUxUaXRsZUVsZW1lbnQiLHRyOiJIVE1MVGFibGVSb3dFbGVtZW50Iix0cmFjazoiSFRNTFRyYWNrRWxlbWVudCIsdWw6IkhUTUxVTGlzdEVsZW1lbnQiLHZpZGVvOiJIVE1MVmlkZW9FbGVtZW50In0pO09iamVjdC5rZXlzKGMpLmZvckVhY2goYiksT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYS53cmFwcGVycykuZm9yRWFjaChmdW5jdGlvbihiKXt3aW5kb3dbYl09YS53cmFwcGVyc1tiXX0pfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKCl7d2luZG93LndyYXA9U2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkLHdpbmRvdy51bndyYXA9U2hhZG93RE9NUG9seWZpbGwudW53cmFwSWZOZWVkZWQsT2JqZWN0LmRlZmluZVByb3BlcnR5KEVsZW1lbnQucHJvdG90eXBlLCJ3ZWJraXRTaGFkb3dSb290IixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEVsZW1lbnQucHJvdG90eXBlLCJzaGFkb3dSb290IikpO3ZhciBhPUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3Q7RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdD1mdW5jdGlvbigpe3ZhciBiPWEuY2FsbCh0aGlzKTtyZXR1cm4gQ3VzdG9tRWxlbWVudHMud2F0Y2hTaGFkb3codGhpcyksYn0sRWxlbWVudC5wcm90b3R5cGUud2Via2l0Q3JlYXRlU2hhZG93Um9vdD1FbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290fSgpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiKXt2YXIgYz0iIjtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2MrPWEudGV4dENvbnRlbnQrIlxuXG4ifSksYnx8KGM9Yy5yZXBsYWNlKGwsIiIpKSxjfWZ1bmN0aW9uIGMoYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyZXR1cm4gYi50ZXh0Q29udGVudD1hLGJ9ZnVuY3Rpb24gZChhKXt2YXIgYj1jKGEpO2RvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYik7dmFyIGQ9W107aWYoYi5zaGVldCl0cnl7ZD1iLnNoZWV0LmNzc1J1bGVzfWNhdGNoKGUpe31lbHNlIGNvbnNvbGUud2Fybigic2hlZXQgbm90IGZvdW5kIixiKTtyZXR1cm4gYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGR9ZnVuY3Rpb24gZSgpe3MuaW5pdGlhbGl6ZWQ9ITAsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzKTt2YXIgYT1zLmNvbnRlbnREb2N1bWVudCxiPWEuY3JlYXRlRWxlbWVudCgiYmFzZSIpO2IuaHJlZj1kb2N1bWVudC5iYXNlVVJJLGEuaGVhZC5hcHBlbmRDaGlsZChiKX1mdW5jdGlvbiBmKGEpe3MuaW5pdGlhbGl6ZWR8fGUoKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHMpLGEocy5jb250ZW50RG9jdW1lbnQpLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQocyl9ZnVuY3Rpb24gZyhhLGIpe2lmKGIpe3ZhciBlO2lmKGEubWF0Y2goIkBpbXBvcnQiKSYmdSl7dmFyIGc9YyhhKTtmKGZ1bmN0aW9uKGEpe2EuaGVhZC5hcHBlbmRDaGlsZChnLmltcGwpLGU9Zy5zaGVldC5jc3NSdWxlcyxiKGUpfSl9ZWxzZSBlPWQoYSksYihlKX19ZnVuY3Rpb24gaChhKXthJiZqKCkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSkpfWZ1bmN0aW9uIGkoYSxiKXt2YXIgZD1jKGEpO2Quc2V0QXR0cmlidXRlKGIsIiIpLGQuc2V0QXR0cmlidXRlKHcsIiIpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZCl9ZnVuY3Rpb24gaigpe3JldHVybiB0fHwodD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLHQuc2V0QXR0cmlidXRlKHcsIiIpLHRbd109ITApLHR9dmFyIGs9e3N0cmljdFN0eWxpbmc6ITEscmVnaXN0cnk6e30sc2hpbVN0eWxpbmc6ZnVuY3Rpb24oYSxiLGQsZSl7dmFyIGY9dGhpcy5pc1R5cGVFeHRlbnNpb24oZCksZz10aGlzLnJlZ2lzdGVyRGVmaW5pdGlvbihhLGIsZCk7dGhpcy5zdHJpY3RTdHlsaW5nJiZ0aGlzLmFwcGx5U2NvcGVUb0NvbnRlbnQoYSxiKTt2YXIgaj10aGlzLnN0eWxlc1RvU2hpbW1lZENzc1RleHQoZy5yb290U3R5bGVzLGcuc2NvcGVTdHlsZXMsYixmKTtnLnNoaW1tZWRTdHlsZT1jKGopLGEmJihhLnNoaW1tZWRTdHlsZT1nLnNoaW1tZWRTdHlsZSk7Zm9yKHZhciBrLGw9MCxtPWcucm9vdFN0eWxlcy5sZW5ndGg7bT5sJiYoaz1nLnJvb3RTdHlsZXNbbF0pO2wrKylrLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoayk7ZT9pKGosYik6aChqKX0sc3R5bGVzVG9TaGltbWVkQ3NzVGV4dDpmdW5jdGlvbihhLGIsYyxkKXtjPWN8fCIiLHRoaXMuaW5zZXJ0UG9seWZpbGxEaXJlY3RpdmVzKGEpLHRoaXMuaW5zZXJ0UG9seWZpbGxSdWxlcyhhKTt2YXIgZT10aGlzLnNoaW1TY29waW5nKGIsYyxkKTtyZXR1cm4gZSs9dGhpcy5leHRyYWN0UG9seWZpbGxVbnNjb3BlZFJ1bGVzKGEpLGUudHJpbSgpfSxyZWdpc3RlckRlZmluaXRpb246ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMucmVnaXN0cnlbYl09e3Jvb3Q6YSxuYW1lOmIsZXh0ZW5kc05hbWU6Y30sZT1hP2EucXVlcnlTZWxlY3RvckFsbCgic3R5bGUiKTpbXTtlPWU/QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSwwKTpbXSxkLnJvb3RTdHlsZXM9ZSxkLnNjb3BlU3R5bGVzPWQucm9vdFN0eWxlczt2YXIgZj10aGlzLnJlZ2lzdHJ5W2QuZXh0ZW5kc05hbWVdO3JldHVybiFmfHxhJiYhYS5xdWVyeVNlbGVjdG9yKCJzaGFkb3ciKXx8KGQuc2NvcGVTdHlsZXM9Zi5zY29wZVN0eWxlcy5jb25jYXQoZC5zY29wZVN0eWxlcykpLGR9LGlzVHlwZUV4dGVuc2lvbjpmdW5jdGlvbihhKXtyZXR1cm4gYSYmYS5pbmRleE9mKCItIik8MH0sYXBwbHlTY29wZVRvQ29udGVudDpmdW5jdGlvbihhLGIpe2EmJihBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEucXVlcnlTZWxlY3RvckFsbCgiKiIpLGZ1bmN0aW9uKGEpe2Euc2V0QXR0cmlidXRlKGIsIiIpfSksQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLnF1ZXJ5U2VsZWN0b3JBbGwoInRlbXBsYXRlIiksZnVuY3Rpb24oYSl7dGhpcy5hcHBseVNjb3BlVG9Db250ZW50KGEuY29udGVudCxiKX0sdGhpcykpfSxpbnNlcnRQb2x5ZmlsbERpcmVjdGl2ZXM6ZnVuY3Rpb24oYSl7YSYmQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2EudGV4dENvbnRlbnQ9dGhpcy5pbnNlcnRQb2x5ZmlsbERpcmVjdGl2ZXNJbkNzc1RleHQoYS50ZXh0Q29udGVudCl9LHRoaXMpfSxpbnNlcnRQb2x5ZmlsbERpcmVjdGl2ZXNJbkNzc1RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShtLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIuc2xpY2UoMCwtMikrInsifSl9LGluc2VydFBvbHlmaWxsUnVsZXM6ZnVuY3Rpb24oYSl7YSYmQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2EudGV4dENvbnRlbnQ9dGhpcy5pbnNlcnRQb2x5ZmlsbFJ1bGVzSW5Dc3NUZXh0KGEudGV4dENvbnRlbnQpfSx0aGlzKX0saW5zZXJ0UG9seWZpbGxSdWxlc0luQ3NzVGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKG4sZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5zbGljZSgwLC0xKX0pfSxleHRyYWN0UG9seWZpbGxVbnNjb3BlZFJ1bGVzOmZ1bmN0aW9uKGEpe3ZhciBiPSIiO3JldHVybiBhJiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsZnVuY3Rpb24oYSl7Yis9dGhpcy5leHRyYWN0UG9seWZpbGxVbnNjb3BlZFJ1bGVzRnJvbUNzc1RleHQoYS50ZXh0Q29udGVudCkrIlxuXG4ifSx0aGlzKSxifSxleHRyYWN0UG9seWZpbGxVbnNjb3BlZFJ1bGVzRnJvbUNzc1RleHQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9IiI7Yj1vLmV4ZWMoYSk7KWMrPWJbMV0uc2xpY2UoMCwtMSkrIlxuXG4iO3JldHVybiBjfSxzaGltU2NvcGluZzpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGE/dGhpcy5jb252ZXJ0U2NvcGVkU3R5bGVzKGEsYixjKTp2b2lkIDB9LGNvbnZlcnRTY29wZWRTdHlsZXM6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPWIoYSk7aWYoZT10aGlzLmluc2VydFBvbHlmaWxsSG9zdEluQ3NzVGV4dChlKSxlPXRoaXMuY29udmVydENvbG9uSG9zdChlKSxlPXRoaXMuY29udmVydENvbG9uQW5jZXN0b3IoZSksZT10aGlzLmNvbnZlcnRDb21iaW5hdG9ycyhlKSxjKXt2YXIgZSxmPXRoaXM7ZyhlLGZ1bmN0aW9uKGEpe2U9Zi5zY29wZVJ1bGVzKGEsYyxkKX0pfXJldHVybiBlfSxjb252ZXJ0Q29sb25Ib3N0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbnZlcnRDb2xvblJ1bGUoYSxjc3NDb2xvbkhvc3RSZSx0aGlzLmNvbG9uSG9zdFBhcnRSZXBsYWNlcil9LGNvbnZlcnRDb2xvbkFuY2VzdG9yOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbnZlcnRDb2xvblJ1bGUoYSxjc3NDb2xvbkFuY2VzdG9yUmUsdGhpcy5jb2xvbkFuY2VzdG9yUGFydFJlcGxhY2VyKX0sY29udmVydENvbG9uUnVsZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGEucmVwbGFjZShiLGZ1bmN0aW9uKGEsYixkLGUpe2lmKGI9cG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yLGQpe2Zvcih2YXIgZixnPWQuc3BsaXQoIiwiKSxoPVtdLGk9MCxqPWcubGVuZ3RoO2o+aSYmKGY9Z1tpXSk7aSsrKWY9Zi50cmltKCksaC5wdXNoKGMoYixmLGUpKTtyZXR1cm4gaC5qb2luKCIsIil9cmV0dXJuIGIrZX0pfSxjb2xvbkFuY2VzdG9yUGFydFJlcGxhY2VyOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYi5tYXRjaChwKT90aGlzLmNvbG9uSG9zdFBhcnRSZXBsYWNlcihhLGIsYyk6YStiK2MrIiwgIitiKyIgIithK2N9LGNvbG9uSG9zdFBhcnRSZXBsYWNlcjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGErYi5yZXBsYWNlKHAsIiIpK2N9LGNvbnZlcnRDb21iaW5hdG9yczpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cXlxeL2csIiAiKS5yZXBsYWNlKC9cXi9nLCIgIil9LHNjb3BlUnVsZXM6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSIiO3JldHVybiBhJiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsZnVuY3Rpb24oYSl7YS5zZWxlY3RvclRleHQmJmEuc3R5bGUmJmEuc3R5bGUuY3NzVGV4dD8oZCs9dGhpcy5zY29wZVNlbGVjdG9yKGEuc2VsZWN0b3JUZXh0LGIsYyx0aGlzLnN0cmljdFN0eWxpbmcpKyIge1xuCSIsZCs9dGhpcy5wcm9wZXJ0aWVzRnJvbVJ1bGUoYSkrIlxufVxuXG4iKTphLnR5cGU9PT1DU1NSdWxlLk1FRElBX1JVTEU/KGQrPSJAbWVkaWEgIithLm1lZGlhLm1lZGlhVGV4dCsiIHtcbiIsZCs9dGhpcy5zY29wZVJ1bGVzKGEuY3NzUnVsZXMsYixjKSxkKz0iXG59XG5cbiIpOmEuY3NzVGV4dCYmKGQrPWEuY3NzVGV4dCsiXG5cbiIpfSx0aGlzKSxkfSxzY29wZVNlbGVjdG9yOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPVtdLGY9YS5zcGxpdCgiLCIpO3JldHVybiBmLmZvckVhY2goZnVuY3Rpb24oYSl7YT1hLnRyaW0oKSx0aGlzLnNlbGVjdG9yTmVlZHNTY29waW5nKGEsYixjKSYmKGE9ZCYmIWEubWF0Y2gocG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yKT90aGlzLmFwcGx5U3RyaWN0U2VsZWN0b3JTY29wZShhLGIpOnRoaXMuYXBwbHlTaW1wbGVTZWxlY3RvclNjb3BlKGEsYixjKSksZS5wdXNoKGEpfSx0aGlzKSxlLmpvaW4oIiwgIil9LHNlbGVjdG9yTmVlZHNTY29waW5nOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLm1ha2VTY29wZU1hdGNoZXIoYixjKTtyZXR1cm4hYS5tYXRjaChkKX0sbWFrZVNjb3BlTWF0Y2hlcjpmdW5jdGlvbihhLGIpe3ZhciBjPWI/IlxcW2lzPVsnXCJdPyIrYSsiWydcIl0/XFxdIjphO3JldHVybiBuZXcgUmVnRXhwKCJeKCIrYysiKSIrc2VsZWN0b3JSZVN1ZmZpeCwibSIpfSxhcHBseVNpbXBsZVNlbGVjdG9yU2NvcGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWM/Iltpcz0iK2IrIl0iOmI7cmV0dXJuIGEubWF0Y2gocG9seWZpbGxIb3N0UmUpPyhhPWEucmVwbGFjZShwb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3IsZCksYS5yZXBsYWNlKHBvbHlmaWxsSG9zdFJlLGQrIiAiKSk6ZCsiICIrYX0sYXBwbHlTdHJpY3RTZWxlY3RvclNjb3BlOmZ1bmN0aW9uKGEsYil7dmFyIGM9WyIgIiwiPiIsIisiLCJ+Il0sZD1hLGU9IlsiK2IrIl0iO3JldHVybiBjLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9ZC5zcGxpdChhKTtkPWIubWFwKGZ1bmN0aW9uKGEpe3ZhciBiPWEudHJpbSgpLnJlcGxhY2UocG9seWZpbGxIb3N0UmUsIiIpO3JldHVybiBiJiZjLmluZGV4T2YoYik8MCYmYi5pbmRleE9mKGUpPDAmJihhPWIucmVwbGFjZSgvKFteOl0qKSg6KikoLiopLywiJDEiK2UrIiQyJDMiKSksYX0pLmpvaW4oYSl9KSxkfSxpbnNlcnRQb2x5ZmlsbEhvc3RJbkNzc1RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShob3N0UmUscCkucmVwbGFjZShjb2xvbkhvc3RSZSxwKS5yZXBsYWNlKGNvbG9uQW5jZXN0b3JSZSxxKX0scHJvcGVydGllc0Zyb21SdWxlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnN0eWxlLmNvbnRlbnQmJiFhLnN0eWxlLmNvbnRlbnQubWF0Y2goL1snIl0rLyk/YS5zdHlsZS5jc3NUZXh0LnJlcGxhY2UoL2NvbnRlbnQ6W147XSo7L2csImNvbnRlbnQ6ICciK2Euc3R5bGUuY29udGVudCsiJzsiKTphLnN0eWxlLmNzc1RleHR9fSxsPS9cL1wqW14qXSpcKisoW14vKl1bXipdKlwqKykqXC8vZ2ltLG09L1wvXCpccypAcG9seWZpbGwgKFteKl0qXCorKFteLypdW14qXSpcKispKlwvKShbXntdKj8pey9naW0sbj0vXC9cKlxzQHBvbHlmaWxsLXJ1bGUoW14qXSpcKisoW14vKl1bXipdKlwqKykqKVwvL2dpbSxvPS9cL1wqXHNAcG9seWZpbGwtdW5zY29wZWQtcnVsZShbXipdKlwqKyhbXi8qXVteKl0qXCorKSopXC8vZ2ltLHA9Ii1zaGFkb3djc3Nob3N0IixxPSItc2hhZG93Y3NzYW5jZXN0b3IiLHI9IikoPzpcXCgoKD86XFwoW14pKF0qXFwpfFteKShdKikrPylcXCkpPyhbXix7XSopIjtjc3NDb2xvbkhvc3RSZT1uZXcgUmVnRXhwKCIoIitwK3IsImdpbSIpLGNzc0NvbG9uQW5jZXN0b3JSZT1uZXcgUmVnRXhwKCIoIitxK3IsImdpbSIpLHNlbGVjdG9yUmVTdWZmaXg9IihbPlxcc34rWy4sezpdW1xcc1xcU10qKT8kIixob3N0UmU9L0Bob3N0L2dpbSxjb2xvbkhvc3RSZT0vXDpob3N0L2dpbSxjb2xvbkFuY2VzdG9yUmU9L1w6YW5jZXN0b3IvZ2ltLHBvbHlmaWxsSG9zdE5vQ29tYmluYXRvcj1wKyItbm8tY29tYmluYXRvciIscG9seWZpbGxIb3N0UmU9bmV3IFJlZ0V4cChwLCJnaW0iKSxwb2x5ZmlsbEFuY2VzdG9yUmU9bmV3IFJlZ0V4cChxLCJnaW0iKTt2YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTtzLnN0eWxlLmRpc3BsYXk9Im5vbmUiO3ZhciB0LHU9bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgiQ2hyb21lIiksdj0ic2hpbS1zaGFkb3dkb20iLHc9InNoaW0tc2hhZG93ZG9tLWNzcyI7aWYod2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKXtoKCJzdHlsZSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfVxuIik7dmFyIHg9d3JhcChkb2N1bWVudCkseT14LnF1ZXJ5U2VsZWN0b3IoImhlYWQiKTt5Lmluc2VydEJlZm9yZShqKCkseS5jaGlsZE5vZGVzWzBdKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixmdW5jdGlvbigpe3ZhciBiPWEudXJsUmVzb2x2ZXI7aWYod2luZG93LkhUTUxJbXBvcnRzJiYhSFRNTEltcG9ydHMudXNlTmF0aXZlKXt2YXIgYz0ibGlua1tyZWw9c3R5bGVzaGVldF1bIit2KyJdIixkPSJzdHlsZVsiK3YrIl0iO0hUTUxJbXBvcnRzLmltcG9ydGVyLmRvY3VtZW50UHJlbG9hZFNlbGVjdG9ycys9IiwiK2MsSFRNTEltcG9ydHMuaW1wb3J0ZXIuaW1wb3J0c1ByZWxvYWRTZWxlY3RvcnMrPSIsIitjLEhUTUxJbXBvcnRzLnBhcnNlci5kb2N1bWVudFNlbGVjdG9ycz1bSFRNTEltcG9ydHMucGFyc2VyLmRvY3VtZW50U2VsZWN0b3JzLGMsZF0uam9pbigiLCIpO3ZhciBlPUhUTUxJbXBvcnRzLnBhcnNlci5wYXJzZUdlbmVyaWM7SFRNTEltcG9ydHMucGFyc2VyLnBhcnNlR2VuZXJpYz1mdW5jdGlvbihhKXtpZighYVt3XSl7dmFyIGM9YS5fX2ltcG9ydEVsZW1lbnR8fGE7aWYoIWMuaGFzQXR0cmlidXRlKHYpKXJldHVybiB2b2lkIGUuY2FsbCh0aGlzLGEpO2EuX19yZXNvdXJjZT8oYz1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxjLnRleHRDb250ZW50PWIucmVzb2x2ZUNzc1RleHQoYS5fX3Jlc291cmNlLGEuaHJlZikpOmIucmVzb2x2ZVN0eWxlKGMpO3ZhciBkPVtjXTtjLnRleHRDb250ZW50PWsuc3R5bGVzVG9TaGltbWVkQ3NzVGV4dChkLGQpLGMucmVtb3ZlQXR0cmlidXRlKHYsIiIpLGMuc2V0QXR0cmlidXRlKHcsIiIpLGNbd109ITAsYy5wYXJlbnROb2RlIT09eSYmKGEucGFyZW50Tm9kZT09PXk/eS5yZXBsYWNlQ2hpbGQoYyxhKTp5LmFwcGVuZENoaWxkKGMpKSxjLl9faW1wb3J0UGFyc2VkPSEwLHRoaXMubWFya1BhcnNpbmdDb21wbGV0ZShhKX19O3ZhciBmPUhUTUxJbXBvcnRzLnBhcnNlci5oYXNSZXNvdXJjZTtIVE1MSW1wb3J0cy5wYXJzZXIuaGFzUmVzb3VyY2U9ZnVuY3Rpb24oYSl7cmV0dXJuImxpbmsiPT09YS5sb2NhbE5hbWUmJiJzdHlsZXNoZWV0Ij09PWEucmVsJiZhLmhhc0F0dHJpYnV0ZSh2KT9hLl9fcmVzb3VyY2U6Zi5jYWxsKHRoaXMsYSl9fX0pfWEuU2hhZG93Q1NTPWt9KHdpbmRvdy5QbGF0Zm9ybSkpOiFmdW5jdGlvbigpe3dpbmRvdy50ZW1wbGF0ZUNvbnRlbnQ9d2luZG93LnRlbXBsYXRlQ29udGVudHx8ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGVudH0sd2luZG93LndyYXA9d2luZG93LnVud3JhcD1mdW5jdGlvbihhKXtyZXR1cm4gYX07dmFyIGE9RWxlbWVudC5wcm90b3R5cGUud2Via2l0Q3JlYXRlU2hhZG93Um9vdDtFbGVtZW50LnByb3RvdHlwZS53ZWJraXRDcmVhdGVTaGFkb3dSb290PWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy53ZWJraXRTaGFkb3dSb290LGM9YS5jYWxsKHRoaXMpO3JldHVybiBjLm9sZGVyU2hhZG93Um9vdD1iLGMuaG9zdD10aGlzLEN1c3RvbUVsZW1lbnRzLndhdGNoU2hhZG93KHRoaXMpLGN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEVsZW1lbnQucHJvdG90eXBlLHtzaGFkb3dSb290OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53ZWJraXRTaGFkb3dSb290fX0sY3JlYXRlU2hhZG93Um9vdDp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53ZWJraXRDcmVhdGVTaGFkb3dSb290KCl9fX0pLHdpbmRvdy50ZW1wbGF0ZUNvbnRlbnQ9ZnVuY3Rpb24oYSl7aWYod2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQmJkhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwJiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcChhKSwhYS5jb250ZW50JiYhYS5fY29udGVudCl7Zm9yKHZhciBiPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTthLmZpcnN0Q2hpbGQ7KWIuYXBwZW5kQ2hpbGQoYS5maXJzdENoaWxkKTthLl9jb250ZW50PWJ9cmV0dXJuIGEuY29udGVudHx8YS5fY29udGVudH19KCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIHZvaWQgMCE9PW1bYV19ZnVuY3Rpb24gYygpe2guY2FsbCh0aGlzKSx0aGlzLl9pc0ludmFsaWQ9ITB9ZnVuY3Rpb24gZChhKXtyZXR1cm4iIj09YSYmYy5jYWxsKHRoaXMpLGEudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBlKGEpe3ZhciBiPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4gYj4zMiYmMTI3PmImJi0xPT1bMzQsMzUsNjAsNjIsNjMsOTZdLmluZGV4T2YoYik/YTplbmNvZGVVUklDb21wb25lbnQoYSl9ZnVuY3Rpb24gZihhKXt2YXIgYj1hLmNoYXJDb2RlQXQoMCk7cmV0dXJuIGI+MzImJjEyNz5iJiYtMT09WzM0LDM1LDYwLDYyLDk2XS5pbmRleE9mKGIpP2E6ZW5jb2RlVVJJQ29tcG9uZW50KGEpfWZ1bmN0aW9uIGcoYSxnLGgpe2Z1bmN0aW9uIGkoYSl7dC5wdXNoKGEpfXZhciBqPWd8fCJzY2hlbWUgc3RhcnQiLGs9MCxsPSIiLHI9ITEscz0hMSx0PVtdO2E6Zm9yKDsoYVtrLTFdIT1vfHwwPT1rKSYmIXRoaXMuX2lzSW52YWxpZDspe3ZhciB1PWFba107c3dpdGNoKGope2Nhc2Uic2NoZW1lIHN0YXJ0IjppZighdXx8IXAudGVzdCh1KSl7aWYoZyl7aSgiSW52YWxpZCBzY2hlbWUuIik7YnJlYWsgYX1sPSIiLGo9Im5vIHNjaGVtZSI7Y29udGludWV9bCs9dS50b0xvd2VyQ2FzZSgpLGo9InNjaGVtZSI7YnJlYWs7Y2FzZSJzY2hlbWUiOmlmKHUmJnEudGVzdCh1KSlsKz11LnRvTG93ZXJDYXNlKCk7ZWxzZXtpZigiOiIhPXUpe2lmKGcpe2lmKG89PXUpYnJlYWsgYTtpKCJDb2RlIHBvaW50IG5vdCBhbGxvd2VkIGluIHNjaGVtZTogIit1KTticmVhayBhfWw9IiIsaz0wLGo9Im5vIHNjaGVtZSI7Y29udGludWV9aWYodGhpcy5fc2NoZW1lPWwsbD0iIixnKWJyZWFrIGE7Yih0aGlzLl9zY2hlbWUpJiYodGhpcy5faXNSZWxhdGl2ZT0hMCksaj0iZmlsZSI9PXRoaXMuX3NjaGVtZT8icmVsYXRpdmUiOnRoaXMuX2lzUmVsYXRpdmUmJmgmJmguX3NjaGVtZT09dGhpcy5fc2NoZW1lPyJyZWxhdGl2ZSBvciBhdXRob3JpdHkiOnRoaXMuX2lzUmVsYXRpdmU/ImF1dGhvcml0eSBmaXJzdCBzbGFzaCI6InNjaGVtZSBkYXRhIn1icmVhaztjYXNlInNjaGVtZSBkYXRhIjoiPyI9PXU/KHF1ZXJ5PSI/IixqPSJxdWVyeSIpOiIjIj09dT8odGhpcy5fZnJhZ21lbnQ9IiMiLGo9ImZyYWdtZW50Iik6byE9dSYmIgkiIT11JiYiXG4iIT11JiYiXHIiIT11JiYodGhpcy5fc2NoZW1lRGF0YSs9ZSh1KSk7YnJlYWs7Y2FzZSJubyBzY2hlbWUiOmlmKGgmJmIoaC5fc2NoZW1lKSl7aj0icmVsYXRpdmUiO2NvbnRpbnVlfWkoIk1pc3Npbmcgc2NoZW1lLiIpLGMuY2FsbCh0aGlzKTticmVhaztjYXNlInJlbGF0aXZlIG9yIGF1dGhvcml0eSI6aWYoIi8iIT11fHwiLyIhPWFbaysxXSl7aSgiRXhwZWN0ZWQgLywgZ290OiAiK3UpLGo9InJlbGF0aXZlIjtjb250aW51ZX1qPSJhdXRob3JpdHkgaWdub3JlIHNsYXNoZXMiO2JyZWFrO2Nhc2UicmVsYXRpdmUiOmlmKHRoaXMuX2lzUmVsYXRpdmU9ITAsImZpbGUiIT10aGlzLl9zY2hlbWUmJih0aGlzLl9zY2hlbWU9aC5fc2NoZW1lKSxvPT11KXt0aGlzLl9ob3N0PWguX2hvc3QsdGhpcy5fcG9ydD1oLl9wb3J0LHRoaXMuX3BhdGg9aC5fcGF0aC5zbGljZSgpLHRoaXMuX3F1ZXJ5PWguX3F1ZXJ5O2JyZWFrIGF9aWYoIi8iPT11fHwiXFwiPT11KSJcXCI9PXUmJmkoIlxcIGlzIGFuIGludmFsaWQgY29kZSBwb2ludC4iKSxqPSJyZWxhdGl2ZSBzbGFzaCI7ZWxzZSBpZigiPyI9PXUpdGhpcy5faG9zdD1oLl9ob3N0LHRoaXMuX3BvcnQ9aC5fcG9ydCx0aGlzLl9wYXRoPWguX3BhdGguc2xpY2UoKSx0aGlzLl9xdWVyeT0iPyIsaj0icXVlcnkiO2Vsc2V7aWYoIiMiIT11KXt2YXIgdj1hW2srMV0sdz1hW2srMl07KCJmaWxlIiE9dGhpcy5fc2NoZW1lfHwhcC50ZXN0KHUpfHwiOiIhPXYmJiJ8IiE9dnx8byE9dyYmIi8iIT13JiYiXFwiIT13JiYiPyIhPXcmJiIjIiE9dykmJih0aGlzLl9ob3N0PWguX2hvc3QsdGhpcy5fcG9ydD1oLl9wb3J0LHRoaXMuX3BhdGg9aC5fcGF0aC5zbGljZSgpLHRoaXMuX3BhdGgucG9wKCkpLGo9InJlbGF0aXZlIHBhdGgiO2NvbnRpbnVlfXRoaXMuX2hvc3Q9aC5faG9zdCx0aGlzLl9wb3J0PWguX3BvcnQsdGhpcy5fcGF0aD1oLl9wYXRoLnNsaWNlKCksdGhpcy5fcXVlcnk9aC5fcXVlcnksdGhpcy5fZnJhZ21lbnQ9IiMiLGo9ImZyYWdtZW50In1icmVhaztjYXNlInJlbGF0aXZlIHNsYXNoIjppZigiLyIhPXUmJiJcXCIhPXUpeyJmaWxlIiE9dGhpcy5fc2NoZW1lJiYodGhpcy5faG9zdD1oLl9ob3N0LHRoaXMuX3BvcnQ9aC5fcG9ydCksaj0icmVsYXRpdmUgcGF0aCI7Y29udGludWV9IlxcIj09dSYmaSgiXFwgaXMgYW4gaW52YWxpZCBjb2RlIHBvaW50LiIpLGo9ImZpbGUiPT10aGlzLl9zY2hlbWU/ImZpbGUgaG9zdCI6ImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyI7YnJlYWs7Y2FzZSJhdXRob3JpdHkgZmlyc3Qgc2xhc2giOmlmKCIvIiE9dSl7aSgiRXhwZWN0ZWQgJy8nLCBnb3Q6ICIrdSksaj0iYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIjtjb250aW51ZX1qPSJhdXRob3JpdHkgc2Vjb25kIHNsYXNoIjticmVhaztjYXNlImF1dGhvcml0eSBzZWNvbmQgc2xhc2giOmlmKGo9ImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyIsIi8iIT11KXtpKCJFeHBlY3RlZCAnLycsIGdvdDogIit1KTtjb250aW51ZX1icmVhaztjYXNlImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyI6aWYoIi8iIT11JiYiXFwiIT11KXtqPSJhdXRob3JpdHkiO2NvbnRpbnVlfWkoIkV4cGVjdGVkIGF1dGhvcml0eSwgZ290OiAiK3UpO2JyZWFrO2Nhc2UiYXV0aG9yaXR5IjppZigiQCI9PXUpe3ImJihpKCJAIGFscmVhZHkgc2Vlbi4iKSxsKz0iJTQwIikscj0hMDtmb3IodmFyIHg9MDt4PGwubGVuZ3RoO3grKyl7dmFyIHk9bFt4XTtpZigiCSIhPXkmJiJcbiIhPXkmJiJcciIhPXkpaWYoIjoiIT15fHxudWxsIT09dGhpcy5fcGFzc3dvcmQpe3ZhciB6PWUoeSk7bnVsbCE9PXRoaXMuX3Bhc3N3b3JkP3RoaXMuX3Bhc3N3b3JkKz16OnRoaXMuX3VzZXJuYW1lKz16fWVsc2UgdGhpcy5fcGFzc3dvcmQ9IiI7ZWxzZSBpKCJJbnZhbGlkIHdoaXRlc3BhY2UgaW4gYXV0aG9yaXR5LiIpfWw9IiJ9ZWxzZXtpZihvPT11fHwiLyI9PXV8fCJcXCI9PXV8fCI/Ij09dXx8IiMiPT11KXtrLT1sLmxlbmd0aCxsPSIiLGo9Imhvc3QiO2NvbnRpbnVlfWwrPXV9YnJlYWs7Y2FzZSJmaWxlIGhvc3QiOmlmKG89PXV8fCIvIj09dXx8IlxcIj09dXx8Ij8iPT11fHwiIyI9PXUpezIhPWwubGVuZ3RofHwhcC50ZXN0KGxbMF0pfHwiOiIhPWxbMV0mJiJ8IiE9bFsxXT8wPT1sLmxlbmd0aD9qPSJyZWxhdGl2ZSBwYXRoIHN0YXJ0IjoodGhpcy5faG9zdD1kLmNhbGwodGhpcyxsKSxsPSIiLGo9InJlbGF0aXZlIHBhdGggc3RhcnQiKTpqPSJyZWxhdGl2ZSBwYXRoIjtjb250aW51ZX0iCSI9PXV8fCJcbiI9PXV8fCJcciI9PXU/aSgiSW52YWxpZCB3aGl0ZXNwYWNlIGluIGZpbGUgaG9zdC4iKTpsKz11O2JyZWFrO2Nhc2UiaG9zdCI6Y2FzZSJob3N0bmFtZSI6aWYoIjoiIT11fHxzKXtpZihvPT11fHwiLyI9PXV8fCJcXCI9PXV8fCI/Ij09dXx8IiMiPT11KXtpZih0aGlzLl9ob3N0PWQuY2FsbCh0aGlzLGwpLGw9IiIsaj0icmVsYXRpdmUgcGF0aCBzdGFydCIsZylicmVhayBhO2NvbnRpbnVlfSIJIiE9dSYmIlxuIiE9dSYmIlxyIiE9dT8oIlsiPT11P3M9ITA6Il0iPT11JiYocz0hMSksbCs9dSk6aSgiSW52YWxpZCBjb2RlIHBvaW50IGluIGhvc3QvaG9zdG5hbWU6ICIrdSl9ZWxzZSBpZih0aGlzLl9ob3N0PWQuY2FsbCh0aGlzLGwpLGw9IiIsaj0icG9ydCIsImhvc3RuYW1lIj09ZylicmVhayBhO2JyZWFrO2Nhc2UicG9ydCI6aWYoL1swLTldLy50ZXN0KHUpKWwrPXU7ZWxzZXtpZihvPT11fHwiLyI9PXV8fCJcXCI9PXV8fCI/Ij09dXx8IiMiPT11fHxnKXtpZigiIiE9bCl7dmFyIEE9cGFyc2VJbnQobCwxMCk7QSE9bVt0aGlzLl9zY2hlbWVdJiYodGhpcy5fcG9ydD1BKyIiKSxsPSIifWlmKGcpYnJlYWsgYTtqPSJyZWxhdGl2ZSBwYXRoIHN0YXJ0Ijtjb250aW51ZX0iCSI9PXV8fCJcbiI9PXV8fCJcciI9PXU/aSgiSW52YWxpZCBjb2RlIHBvaW50IGluIHBvcnQ6ICIrdSk6Yy5jYWxsKHRoaXMpfWJyZWFrO2Nhc2UicmVsYXRpdmUgcGF0aCBzdGFydCI6aWYoIlxcIj09dSYmaSgiJ1xcJyBub3QgYWxsb3dlZCBpbiBwYXRoLiIpLGo9InJlbGF0aXZlIHBhdGgiLCIvIiE9dSYmIlxcIiE9dSljb250aW51ZTticmVhaztjYXNlInJlbGF0aXZlIHBhdGgiOmlmKG8hPXUmJiIvIiE9dSYmIlxcIiE9dSYmKGd8fCI/IiE9dSYmIiMiIT11KSkiCSIhPXUmJiJcbiIhPXUmJiJcciIhPXUmJihsKz1lKHUpKTtlbHNleyJcXCI9PXUmJmkoIlxcIG5vdCBhbGxvd2VkIGluIHJlbGF0aXZlIHBhdGguIik7dmFyIEI7KEI9bltsLnRvTG93ZXJDYXNlKCldKSYmKGw9QiksIi4uIj09bD8odGhpcy5fcGF0aC5wb3AoKSwiLyIhPXUmJiJcXCIhPXUmJnRoaXMuX3BhdGgucHVzaCgiIikpOiIuIj09bCYmIi8iIT11JiYiXFwiIT11P3RoaXMuX3BhdGgucHVzaCgiIik6Ii4iIT1sJiYoImZpbGUiPT10aGlzLl9zY2hlbWUmJjA9PXRoaXMuX3BhdGgubGVuZ3RoJiYyPT1sLmxlbmd0aCYmcC50ZXN0KGxbMF0pJiYifCI9PWxbMV0mJihsPWxbMF0rIjoiKSx0aGlzLl9wYXRoLnB1c2gobCkpLGw9IiIsIj8iPT11Pyh0aGlzLl9xdWVyeT0iPyIsaj0icXVlcnkiKToiIyI9PXUmJih0aGlzLl9mcmFnbWVudD0iIyIsaj0iZnJhZ21lbnQiKX1icmVhaztjYXNlInF1ZXJ5IjpnfHwiIyIhPXU/byE9dSYmIgkiIT11JiYiXG4iIT11JiYiXHIiIT11JiYodGhpcy5fcXVlcnkrPWYodSkpOih0aGlzLl9mcmFnbWVudD0iIyIsaj0iZnJhZ21lbnQiKTticmVhaztjYXNlImZyYWdtZW50IjpvIT11JiYiCSIhPXUmJiJcbiIhPXUmJiJcciIhPXUmJih0aGlzLl9mcmFnbWVudCs9dSl9aysrfX1mdW5jdGlvbiBoKCl7dGhpcy5fc2NoZW1lPSIiLHRoaXMuX3NjaGVtZURhdGE9IiIsdGhpcy5fdXNlcm5hbWU9IiIsdGhpcy5fcGFzc3dvcmQ9bnVsbCx0aGlzLl9ob3N0PSIiLHRoaXMuX3BvcnQ9IiIsdGhpcy5fcGF0aD1bXSx0aGlzLl9xdWVyeT0iIix0aGlzLl9mcmFnbWVudD0iIix0aGlzLl9pc0ludmFsaWQ9ITEsdGhpcy5faXNSZWxhdGl2ZT0hMX1mdW5jdGlvbiBpKGEsYil7dm9pZCAwPT09Ynx8YiBpbnN0YW5jZW9mIGl8fChiPW5ldyBpKFN0cmluZyhiKSkpLHRoaXMuX3VybD1hLGguY2FsbCh0aGlzKTt2YXIgYz1hLnJlcGxhY2UoL15bIFx0XHJcblxmXSt8WyBcdFxyXG5cZl0rJC9nLCIiKTtnLmNhbGwodGhpcyxjLG51bGwsYil9dmFyIGo9ITE7aWYoIWEuZm9yY2VKVVJMKXRyeXt2YXIgaz1uZXcgVVJMKCJiIiwiaHR0cDovL2EiKTtqPSJodHRwOi8vYS9iIj09PWsuaHJlZn1jYXRjaChsKXt9aWYoIWope3ZhciBtPU9iamVjdC5jcmVhdGUobnVsbCk7bS5mdHA9MjEsbS5maWxlPTAsbS5nb3BoZXI9NzAsbS5odHRwPTgwLG0uaHR0cHM9NDQzLG0ud3M9ODAsbS53c3M9NDQzO3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7blsiJTJlIl09Ii4iLG5bIi4lMmUiXT0iLi4iLG5bIiUyZS4iXT0iLi4iLG5bIiUyZSUyZSJdPSIuLiI7dmFyIG89dm9pZCAwLHA9L1thLXpBLVpdLyxxPS9bYS16QS1aMC05XCtcLVwuXS87aS5wcm90b3R5cGU9e2dldCBocmVmKCl7aWYodGhpcy5faXNJbnZhbGlkKXJldHVybiB0aGlzLl91cmw7dmFyIGE9IiI7cmV0dXJuKCIiIT10aGlzLl91c2VybmFtZXx8bnVsbCE9dGhpcy5fcGFzc3dvcmQpJiYoYT10aGlzLl91c2VybmFtZSsobnVsbCE9dGhpcy5fcGFzc3dvcmQ/IjoiK3RoaXMuX3Bhc3N3b3JkOiIiKSsiQCIpLHRoaXMucHJvdG9jb2wrKHRoaXMuX2lzUmVsYXRpdmU/Ii8vIithK3RoaXMuaG9zdDoiIikrdGhpcy5wYXRobmFtZSt0aGlzLl9xdWVyeSt0aGlzLl9mcmFnbWVudH0sc2V0IGhyZWYoYSl7aC5jYWxsKHRoaXMpLGcuY2FsbCh0aGlzLGEpfSxnZXQgcHJvdG9jb2woKXtyZXR1cm4gdGhpcy5fc2NoZW1lKyI6In0sc2V0IHByb3RvY29sKGEpe3RoaXMuX2lzSW52YWxpZHx8Zy5jYWxsKHRoaXMsYSsiOiIsInNjaGVtZSBzdGFydCIpfSxnZXQgaG9zdCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWQ/IiI6dGhpcy5fcG9ydD90aGlzLl9ob3N0KyI6Iit0aGlzLl9wb3J0OnRoaXMuX2hvc3R9LHNldCBob3N0KGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJmcuY2FsbCh0aGlzLGEsImhvc3QiKX0sZ2V0IGhvc3RuYW1lKCl7cmV0dXJuIHRoaXMuX2hvc3R9LHNldCBob3N0bmFtZShhKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiZnLmNhbGwodGhpcyxhLCJob3N0bmFtZSIpfSxnZXQgcG9ydCgpe3JldHVybiB0aGlzLl9wb3J0fSxzZXQgcG9ydChhKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiZnLmNhbGwodGhpcyxhLCJwb3J0Iil9LGdldCBwYXRobmFtZSgpe3JldHVybiB0aGlzLl9pc0ludmFsaWQ/IiI6dGhpcy5faXNSZWxhdGl2ZT8iLyIrdGhpcy5fcGF0aC5qb2luKCIvIik6dGhpcy5fc2NoZW1lRGF0YX0sc2V0IHBhdGhuYW1lKGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJih0aGlzLl9wYXRoPVtdLGcuY2FsbCh0aGlzLGEsInJlbGF0aXZlIHBhdGggc3RhcnQiKSl9LGdldCBzZWFyY2goKXtyZXR1cm4gdGhpcy5faXNJbnZhbGlkfHwhdGhpcy5fcXVlcnl8fCI/Ij09dGhpcy5fcXVlcnk/IiI6dGhpcy5fcXVlcnl9LHNldCBzZWFyY2goYSl7IXRoaXMuX2lzSW52YWxpZCYmdGhpcy5faXNSZWxhdGl2ZSYmKHRoaXMuX3F1ZXJ5PSI/IiwiPyI9PWFbMF0mJihhPWEuc2xpY2UoMSkpLGcuY2FsbCh0aGlzLGEsInF1ZXJ5IikpfSxnZXQgaGFzaCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWR8fCF0aGlzLl9mcmFnbWVudHx8IiMiPT10aGlzLl9mcmFnbWVudD8iIjp0aGlzLl9mcmFnbWVudH0sc2V0IGhhc2goYSl7dGhpcy5faXNJbnZhbGlkfHwodGhpcy5fZnJhZ21lbnQ9IiMiLCIjIj09YVswXSYmKGE9YS5zbGljZSgxKSksZy5jYWxsKHRoaXMsYSwiZnJhZ21lbnQiKSl9fSxhLlVSTD1pfX0od2luZG93KSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2Zvcih2YXIgYj1hfHx7fSxkPTE7ZDxhcmd1bWVudHMubGVuZ3RoO2QrKyl7dmFyIGU9YXJndW1lbnRzW2RdO3RyeXtmb3IodmFyIGYgaW4gZSljKGYsZSxiKX1jYXRjaChnKXt9fXJldHVybiBifWZ1bmN0aW9uIGMoYSxiLGMpe3ZhciBlPWQoYixhKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYyxhLGUpfWZ1bmN0aW9uIGQoYSxiKXtpZihhKXt2YXIgYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsYik7cmV0dXJuIGN8fGQoT2JqZWN0LmdldFByb3RvdHlwZU9mKGEpLGIpfX1GdW5jdGlvbi5wcm90b3R5cGUuYmluZHx8KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGQ9Yy5zbGljZSgpO3JldHVybiBkLnB1c2guYXBwbHkoZCxhcmd1bWVudHMpLGIuYXBwbHkoYSxkKX19KSxhLm1peGluPWJ9KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiLGMpe3ZhciBkPSJzdHJpbmciPT10eXBlb2YgYT9kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEpOmEuY2xvbmVOb2RlKCEwKTtpZihkLmlubmVySFRNTD1iLGMpZm9yKHZhciBlIGluIGMpZC5zZXRBdHRyaWJ1dGUoZSxjW2VdKTtyZXR1cm4gZH12YXIgYz1ET01Ub2tlbkxpc3QucHJvdG90eXBlLmFkZCxkPURPTVRva2VuTGlzdC5wcm90b3R5cGUucmVtb3ZlO0RPTVRva2VuTGlzdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTxhcmd1bWVudHMubGVuZ3RoO2ErKyljLmNhbGwodGhpcyxhcmd1bWVudHNbYV0pfSxET01Ub2tlbkxpc3QucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8YXJndW1lbnRzLmxlbmd0aDthKyspZC5jYWxsKHRoaXMsYXJndW1lbnRzW2FdKX0sRE9NVG9rZW5MaXN0LnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oYSxiKXsxPT1hcmd1bWVudHMubGVuZ3RoJiYoYj0hdGhpcy5jb250YWlucyhhKSksYj90aGlzLmFkZChhKTp0aGlzLnJlbW92ZShhKX0sRE9NVG9rZW5MaXN0LnByb3RvdHlwZS5zd2l0Y2g9ZnVuY3Rpb24oYSxiKXthJiZ0aGlzLnJlbW92ZShhKSxiJiZ0aGlzLmFkZChiKX07dmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcyl9LGY9d2luZG93Lk5hbWVkTm9kZU1hcHx8d2luZG93Lk1vek5hbWVkQXR0ck1hcHx8e307aWYoTm9kZUxpc3QucHJvdG90eXBlLmFycmF5PWUsZi5wcm90b3R5cGUuYXJyYXk9ZSxIVE1MQ29sbGVjdGlvbi5wcm90b3R5cGUuYXJyYXk9ZSwhd2luZG93LnBlcmZvcm1hbmNlKXt2YXIgZz1EYXRlLm5vdygpO3dpbmRvdy5wZXJmb3JtYW5jZT17bm93OmZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCktZ319fXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKCl7dmFyIGE9d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZTtyZXR1cm4gYT9mdW5jdGlvbihiKXtyZXR1cm4gYShmdW5jdGlvbigpe2IocGVyZm9ybWFuY2Uubm93KCkpfSl9OmZ1bmN0aW9uKGEpe3JldHVybiB3aW5kb3cuc2V0VGltZW91dChhLDFlMy82MCl9fSgpKSx3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGEpe2NsZWFyVGltZW91dChhKX19KCkpO3ZhciBoPVtdLGk9ZnVuY3Rpb24oKXtoLnB1c2goYXJndW1lbnRzKX07d2luZG93LlBvbHltZXI9aSxhLmRlbGl2ZXJEZWNsYXJhdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gYS5kZWxpdmVyRGVjbGFyYXRpb25zPWZ1bmN0aW9uKCl7dGhyb3ciUG9zc2libGUgYXR0ZW1wdCB0byBsb2FkIFBvbHltZXIgdHdpY2UifSxofSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXt3aW5kb3cuUG9seW1lcj09PWkmJih3aW5kb3cuUG9seW1lcj1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoJ1lvdSB0cmllZCB0byB1c2UgcG9seW1lciB3aXRob3V0IGxvYWRpbmcgaXQgZmlyc3QuIFRvIGxvYWQgcG9seW1lciwgPGxpbmsgcmVsPSJpbXBvcnQiIGhyZWY9ImNvbXBvbmVudHMvcG9seW1lci9wb2x5bWVyLmh0bWwiPicpfSl9KSxhLmNyZWF0ZURPTT1ifSh3aW5kb3cuUGxhdGZvcm0pLHdpbmRvdy50ZW1wbGF0ZUNvbnRlbnQ9d2luZG93LnRlbXBsYXRlQ29udGVudHx8ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGVudH0sZnVuY3Rpb24oYSl7YT1hfHwod2luZG93Lkluc3BlY3Rvcj17fSk7dmFyIGI7d2luZG93LnNpbnNwZWN0PWZ1bmN0aW9uKGEsZCl7Ynx8KGI9d2luZG93Lm9wZW4oIiIsIlNoYWRvd0RPTSBJbnNwZWN0b3IiLG51bGwsITApLGIuZG9jdW1lbnQud3JpdGUoYyksYi5hcGk9e3NoYWRvd2l6ZTpzaGFkb3dpemV9KSxmKGF8fHdyYXAoZG9jdW1lbnQuYm9keSksZCl9O3ZhciBjPVsiPCFET0NUWVBFIGh0bWw+IiwiPGh0bWw+IiwiICA8aGVhZD4iLCIgICAgPHRpdGxlPlNoYWRvd0RPTSBJbnNwZWN0b3I8L3RpdGxlPiIsIiAgICA8c3R5bGU+IiwiICAgICAgYm9keSB7IiwiICAgICAgfSIsIiAgICAgIHByZSB7IiwnICAgICAgICBmb250OiA5cHQgIkNvdXJpZXIgTmV3IiwgbW9ub3NwYWNlOycsIiAgICAgICAgbGluZS1oZWlnaHQ6IDEuNWVtOyIsIiAgICAgIH0iLCIgICAgICB0YWcgeyIsIiAgICAgICAgY29sb3I6IHB1cnBsZTsiLCIgICAgICB9IiwiICAgICAgdWwgeyIsIiAgICAgICAgIG1hcmdpbjogMDsiLCIgICAgICAgICBwYWRkaW5nOiAwOyIsIiAgICAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7IiwiICAgICAgfSIsIiAgICAgIGxpIHsiLCIgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IiwiICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YxZjFmMTsiLCIgICAgICAgICBwYWRkaW5nOiA0cHggNnB4OyIsIiAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsiLCIgICAgICAgICBtYXJnaW4tcmlnaHQ6IDRweDsiLCIgICAgICB9IiwiICAgIDwvc3R5bGU+IiwiICA8L2hlYWQ+IiwiICA8Ym9keT4iLCcgICAgPHVsIGlkPSJjcnVtYnMiPicsIiAgICA8L3VsPiIsJyAgICA8ZGl2IGlkPSJ0cmVlIj48L2Rpdj4nLCIgIDwvYm9keT4iLCI8L2h0bWw+Il0uam9pbigiXG4iKSxkPVtdLGU9ZnVuY3Rpb24oKXt2YXIgYT1iLmRvY3VtZW50LGM9YS5xdWVyeVNlbGVjdG9yKCIjY3J1bWJzIik7Yy50ZXh0Q29udGVudD0iIjtmb3IodmFyIGUsZz0wO2U9ZFtnXTtnKyspe3ZhciBoPWEuY3JlYXRlRWxlbWVudCgiYSIpO2guaHJlZj0iIyIsaC50ZXh0Q29udGVudD1lLmxvY2FsTmFtZSxoLmlkeD1nLGgub25jbGljaz1mdW5jdGlvbihhKXtmb3IodmFyIGI7ZC5sZW5ndGg+dGhpcy5pZHg7KWI9ZC5wb3AoKTtmKGIuc2hhZG93fHxiLGIpLGEucHJldmVudERlZmF1bHQoKX0sYy5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnQoImxpIikpLmFwcGVuZENoaWxkKGgpfX0sZj1mdW5jdGlvbihhLGMpe3ZhciBmPWIuZG9jdW1lbnQ7az1bXTt2YXIgZz1jfHxhO2QucHVzaChnKSxlKCksZi5ib2R5LnF1ZXJ5U2VsZWN0b3IoIiN0cmVlIikuaW5uZXJIVE1MPSI8cHJlPiIraihhLGEuY2hpbGROb2RlcykrIjwvcHJlPiJ9LGc9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKSxoPXtTVFlMRToxLFNDUklQVDoxLCIjY29tbWVudCI6MSxURU1QTEFURToxfSxpPWZ1bmN0aW9uKGEpe3JldHVybiBoW2Eubm9kZU5hbWVdfSxqPWZ1bmN0aW9uKGEsYixjKXtpZihpKGEpKXJldHVybiIiO3ZhciBkPWN8fCIiO2lmKGEubG9jYWxOYW1lfHwxMT09YS5ub2RlVHlwZSl7dmFyIGU9YS5sb2NhbE5hbWV8fCJzaGFkb3ctcm9vdCIsZj1kK2woYSk7ImNvbnRlbnQiPT1lJiYoYj1hLmdldERpc3RyaWJ1dGVkTm9kZXMoKSksZis9Ijxici8+Ijt2YXIgaD1kKyImbmJzcDsmbmJzcDsiO2coYixmdW5jdGlvbihhKXtmKz1qKGEsYS5jaGlsZE5vZGVzLGgpfSksZis9ZCx7YnI6MX1bZV18fChmKz0iPHRhZz4mbHQ7LyIrZSsiJmd0OzwvdGFnPiIsZis9Ijxici8+Iil9ZWxzZXt2YXIgaz1hLnRleHRDb250ZW50LnRyaW0oKTtmPWs/ZCsnIicraysnIjxici8+JzoiIn1yZXR1cm4gZn0saz1bXSxsPWZ1bmN0aW9uKGEpe3ZhciBiPSI8dGFnPiZsdDsiLGM9YS5sb2NhbE5hbWV8fCJzaGFkb3ctcm9vdCI7cmV0dXJuIGEud2Via2l0U2hhZG93Um9vdHx8YS5zaGFkb3dSb290PyhiKz0nIDxidXR0b24gaWR4PSInK2subGVuZ3RoKyciIG9uY2xpY2s9ImFwaS5zaGFkb3dpemUuY2FsbCh0aGlzKSI+JytjKyI8L2J1dHRvbj4iLGsucHVzaChhKSk6Yis9Y3x8InNoYWRvdy1yb290IixhLmF0dHJpYnV0ZXMmJmcoYS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGEpe2IrPSIgIithLm5hbWUrKGEudmFsdWU/Jz0iJythLnZhbHVlKyciJzoiIil9KSxiKz0iJmd0OzwvdGFnPiJ9O3NoYWRvd2l6ZT1mdW5jdGlvbigpe3ZhciBhPU51bWJlcih0aGlzLmF0dHJpYnV0ZXMuaWR4LnZhbHVlKSxiPWtbYV07Yj9mKGIud2Via2l0U2hhZG93Um9vdHx8Yi5zaGFkb3dSb290LGIpOihjb25zb2xlLmxvZygiYmFkIHNoYWRvd2l6ZSBub2RlIiksY29uc29sZS5kaXIodGhpcykpfSxhLm91dHB1dD1qfSh3aW5kb3cuSW5zcGVjdG9yKSxmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7YS50ZXh0Q29udGVudD0iYm9keSB7dHJhbnNpdGlvbjogb3BhY2l0eSBlYXNlLWluIDAuMnM7IH0gXG5ib2R5W3VucmVzb2x2ZWRdIHtvcGFjaXR5OiAwOyBkaXNwbGF5OiBibG9jazsgb3ZlcmZsb3c6IGhpZGRlbjsgfSBcbiI7dmFyIGI9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaGVhZCIpO2IuaW5zZXJ0QmVmb3JlKGEsYi5maXJzdENoaWxkKX0oUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiKXtyZXR1cm4gYj1ifHxbXSxiLm1hcHx8KGI9W2JdKSxhLmFwcGx5KHRoaXMsYi5tYXAoZCkpfWZ1bmN0aW9uIGMoYSxjLGQpe3ZhciBlO3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuO2Nhc2UgMTplPW51bGw7YnJlYWs7Y2FzZSAyOmU9Yy5hcHBseSh0aGlzKTticmVhaztkZWZhdWx0OmU9YihkLGMpfWZbYV09ZX1mdW5jdGlvbiBkKGEpe3JldHVybiBmW2FdfWZ1bmN0aW9uIGUoYSxjKXtIVE1MSW1wb3J0cy53aGVuSW1wb3J0c1JlYWR5KGZ1bmN0aW9uKCl7YihjLGEpfSl9dmFyIGY9e307YS5tYXJzaGFsPWQsYS5tb2R1bGU9YyxhLnVzaW5nPWV9KHdpbmRvdyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtmLnRleHRDb250ZW50PWQrKyxlLnB1c2goYSl9ZnVuY3Rpb24gYygpe2Zvcig7ZS5sZW5ndGg7KWUuc2hpZnQoKSgpfXZhciBkPTAsZT1bXSxmPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTtuZXcod2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fEpzTXV0YXRpb25PYnNlcnZlcikoYykub2JzZXJ2ZShmLHtjaGFyYWN0ZXJEYXRhOiEwfSksYS5lbmRPZk1pY3JvdGFzaz1ifShQbGF0Zm9ybSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIsZCl7cmV0dXJuIGEucmVwbGFjZShkLGZ1bmN0aW9uKGEsZCxlLGYpe3ZhciBnPWUucmVwbGFjZSgvWyInXS9nLCIiKTtyZXR1cm4gZz1jKGIsZyksZCsiJyIrZysiJyIrZn0pfWZ1bmN0aW9uIGMoYSxiKXt2YXIgYz1uZXcgVVJMKGIsYSk7cmV0dXJuIGQoYy5ocmVmKX1mdW5jdGlvbiBkKGEpe3ZhciBiPWRvY3VtZW50LmJhc2VVUkksYz1uZXcgVVJMKGEsYik7cmV0dXJuIGMuaG9zdD09PWIuaG9zdCYmYy5wb3J0PT09Yi5wb3J0JiZjLnByb3RvY29sPT09Yi5wcm90b2NvbD9lKGIucGF0aG5hbWUsYy5wYXRobmFtZSk6YX1mdW5jdGlvbiBlKGEsYil7Zm9yKHZhciBjPWEuc3BsaXQoIi8iKSxkPWIuc3BsaXQoIi8iKTtjLmxlbmd0aCYmY1swXT09PWRbMF07KWMuc2hpZnQoKSxkLnNoaWZ0KCk7CmZvcih2YXIgZT0wLGY9Yy5sZW5ndGgtMTtmPmU7ZSsrKWQudW5zaGlmdCgiLi4iKTtyZXR1cm4gZC5qb2luKCIvIil9dmFyIGY9e3Jlc29sdmVEb206ZnVuY3Rpb24oYSxiKXtiPWJ8fGEub3duZXJEb2N1bWVudC5iYXNlVVJJLHRoaXMucmVzb2x2ZUF0dHJpYnV0ZXMoYSxiKSx0aGlzLnJlc29sdmVTdHlsZXMoYSxiKTt2YXIgYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoInRlbXBsYXRlIik7aWYoYylmb3IodmFyIGQsZT0wLGY9Yy5sZW5ndGg7Zj5lJiYoZD1jW2VdKTtlKyspZC5jb250ZW50JiZ0aGlzLnJlc29sdmVEb20oZC5jb250ZW50LGIpfSxyZXNvbHZlVGVtcGxhdGU6ZnVuY3Rpb24oYSl7dGhpcy5yZXNvbHZlRG9tKGEuY29udGVudCxhLm93bmVyRG9jdW1lbnQuYmFzZVVSSSl9LHJlc29sdmVTdHlsZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoInN0eWxlIik7aWYoYylmb3IodmFyIGQsZT0wLGY9Yy5sZW5ndGg7Zj5lJiYoZD1jW2VdKTtlKyspdGhpcy5yZXNvbHZlU3R5bGUoZCxiKX0scmVzb2x2ZVN0eWxlOmZ1bmN0aW9uKGEsYil7Yj1ifHxhLm93bmVyRG9jdW1lbnQuYmFzZVVSSSxhLnRleHRDb250ZW50PXRoaXMucmVzb2x2ZUNzc1RleHQoYS50ZXh0Q29udGVudCxiKX0scmVzb2x2ZUNzc1RleHQ6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYT1iKGEsYyxnKSxiKGEsYyxoKX0scmVzb2x2ZUF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSxiKXthLmhhc0F0dHJpYnV0ZXMmJmEuaGFzQXR0cmlidXRlcygpJiZ0aGlzLnJlc29sdmVFbGVtZW50QXR0cmlidXRlcyhhLGIpO3ZhciBjPWEmJmEucXVlcnlTZWxlY3RvckFsbChqKTtpZihjKWZvcih2YXIgZCxlPTAsZj1jLmxlbmd0aDtmPmUmJihkPWNbZV0pO2UrKyl0aGlzLnJlc29sdmVFbGVtZW50QXR0cmlidXRlcyhkLGIpfSxyZXNvbHZlRWxlbWVudEF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSxiKXtiPWJ8fGEub3duZXJEb2N1bWVudC5iYXNlVVJJLGkuZm9yRWFjaChmdW5jdGlvbihkKXt2YXIgZT1hLmF0dHJpYnV0ZXNbZF07aWYoZSYmZS52YWx1ZSYmZS52YWx1ZS5zZWFyY2goayk8MCl7dmFyIGY9YyhiLGUudmFsdWUpO2UudmFsdWU9Zn19KX19LGc9Lyh1cmxcKCkoW14pXSopKFwpKS9nLGg9LyhAaW1wb3J0W1xzXSsoPyF1cmxcKCkpKFteO10qKSg7KS9nLGk9WyJocmVmIiwic3JjIiwiYWN0aW9uIl0saj0iWyIraS5qb2luKCJdLFsiKSsiXSIsaz0ie3suKn19IjthLnVybFJlc29sdmVyPWZ9KFBsYXRmb3JtKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3UucHVzaChhKSx0fHwodD0hMCxxKGQpKX1mdW5jdGlvbiBjKGEpe3JldHVybiB3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwmJndpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoYSl8fGF9ZnVuY3Rpb24gZCgpe3Q9ITE7dmFyIGE9dTt1PVtdLGEuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLnVpZF8tYi51aWRffSk7dmFyIGI9ITE7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBjPWEudGFrZVJlY29yZHMoKTtlKGEpLGMubGVuZ3RoJiYoYS5jYWxsYmFja18oYyxhKSxiPSEwKX0pLGImJmQoKX1mdW5jdGlvbiBlKGEpe2Eubm9kZXNfLmZvckVhY2goZnVuY3Rpb24oYil7dmFyIGM9cC5nZXQoYik7YyYmYy5mb3JFYWNoKGZ1bmN0aW9uKGIpe2Iub2JzZXJ2ZXI9PT1hJiZiLnJlbW92ZVRyYW5zaWVudE9ic2VydmVycygpfSl9KX1mdW5jdGlvbiBmKGEsYil7Zm9yKHZhciBjPWE7YztjPWMucGFyZW50Tm9kZSl7dmFyIGQ9cC5nZXQoYyk7aWYoZClmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXSxnPWYub3B0aW9ucztpZihjPT09YXx8Zy5zdWJ0cmVlKXt2YXIgaD1iKGcpO2gmJmYuZW5xdWV1ZShoKX19fX1mdW5jdGlvbiBnKGEpe3RoaXMuY2FsbGJhY2tfPWEsdGhpcy5ub2Rlc189W10sdGhpcy5yZWNvcmRzXz1bXSx0aGlzLnVpZF89Kyt2fWZ1bmN0aW9uIGgoYSxiKXt0aGlzLnR5cGU9YSx0aGlzLnRhcmdldD1iLHRoaXMuYWRkZWROb2Rlcz1bXSx0aGlzLnJlbW92ZWROb2Rlcz1bXSx0aGlzLnByZXZpb3VzU2libGluZz1udWxsLHRoaXMubmV4dFNpYmxpbmc9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWU9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWVzcGFjZT1udWxsLHRoaXMub2xkVmFsdWU9bnVsbH1mdW5jdGlvbiBpKGEpe3ZhciBiPW5ldyBoKGEudHlwZSxhLnRhcmdldCk7cmV0dXJuIGIuYWRkZWROb2Rlcz1hLmFkZGVkTm9kZXMuc2xpY2UoKSxiLnJlbW92ZWROb2Rlcz1hLnJlbW92ZWROb2Rlcy5zbGljZSgpLGIucHJldmlvdXNTaWJsaW5nPWEucHJldmlvdXNTaWJsaW5nLGIubmV4dFNpYmxpbmc9YS5uZXh0U2libGluZyxiLmF0dHJpYnV0ZU5hbWU9YS5hdHRyaWJ1dGVOYW1lLGIuYXR0cmlidXRlTmFtZXNwYWNlPWEuYXR0cmlidXRlTmFtZXNwYWNlLGIub2xkVmFsdWU9YS5vbGRWYWx1ZSxifWZ1bmN0aW9uIGooYSxiKXtyZXR1cm4gdz1uZXcgaChhLGIpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuIHg/eDooeD1pKHcpLHgub2xkVmFsdWU9YSx4KX1mdW5jdGlvbiBsKCl7dz14PXZvaWQgMH1mdW5jdGlvbiBtKGEpe3JldHVybiBhPT09eHx8YT09PXd9ZnVuY3Rpb24gbihhLGIpe3JldHVybiBhPT09Yj9hOngmJm0oYSk/eDpudWxsfWZ1bmN0aW9uIG8oYSxiLGMpe3RoaXMub2JzZXJ2ZXI9YSx0aGlzLnRhcmdldD1iLHRoaXMub3B0aW9ucz1jLHRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXX12YXIgcD1uZXcgV2Vha01hcCxxPXdpbmRvdy5tc1NldEltbWVkaWF0ZTtpZighcSl7dmFyIHI9W10scz1TdHJpbmcoTWF0aC5yYW5kb20oKSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGZ1bmN0aW9uKGEpe2lmKGEuZGF0YT09PXMpe3ZhciBiPXI7cj1bXSxiLmZvckVhY2goZnVuY3Rpb24oYSl7YSgpfSl9fSkscT1mdW5jdGlvbihhKXtyLnB1c2goYSksd2luZG93LnBvc3RNZXNzYWdlKHMsIioiKX19dmFyIHQ9ITEsdT1bXSx2PTA7Zy5wcm90b3R5cGU9e29ic2VydmU6ZnVuY3Rpb24oYSxiKXtpZihhPWMoYSksIWIuY2hpbGRMaXN0JiYhYi5hdHRyaWJ1dGVzJiYhYi5jaGFyYWN0ZXJEYXRhfHxiLmF0dHJpYnV0ZU9sZFZhbHVlJiYhYi5hdHRyaWJ1dGVzfHxiLmF0dHJpYnV0ZUZpbHRlciYmYi5hdHRyaWJ1dGVGaWx0ZXIubGVuZ3RoJiYhYi5hdHRyaWJ1dGVzfHxiLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSYmIWIuY2hhcmFjdGVyRGF0YSl0aHJvdyBuZXcgU3ludGF4RXJyb3I7dmFyIGQ9cC5nZXQoYSk7ZHx8cC5zZXQoYSxkPVtdKTtmb3IodmFyIGUsZj0wO2Y8ZC5sZW5ndGg7ZisrKWlmKGRbZl0ub2JzZXJ2ZXI9PT10aGlzKXtlPWRbZl0sZS5yZW1vdmVMaXN0ZW5lcnMoKSxlLm9wdGlvbnM9YjticmVha31lfHwoZT1uZXcgbyh0aGlzLGEsYiksZC5wdXNoKGUpLHRoaXMubm9kZXNfLnB1c2goYSkpLGUuYWRkTGlzdGVuZXJzKCl9LGRpc2Nvbm5lY3Q6ZnVuY3Rpb24oKXt0aGlzLm5vZGVzXy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1wLmdldChhKSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY107aWYoZC5vYnNlcnZlcj09PXRoaXMpe2QucmVtb3ZlTGlzdGVuZXJzKCksYi5zcGxpY2UoYywxKTticmVha319fSx0aGlzKSx0aGlzLnJlY29yZHNfPVtdfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe3ZhciBhPXRoaXMucmVjb3Jkc187cmV0dXJuIHRoaXMucmVjb3Jkc189W10sYX19O3ZhciB3LHg7by5wcm90b3R5cGU9e2VucXVldWU6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5vYnNlcnZlci5yZWNvcmRzXyxkPWMubGVuZ3RoO2lmKGMubGVuZ3RoPjApe3ZhciBlPWNbZC0xXSxmPW4oZSxhKTtpZihmKXJldHVybiB2b2lkKGNbZC0xXT1mKX1lbHNlIGIodGhpcy5vYnNlcnZlcik7Y1tkXT1hfSxhZGRMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt0aGlzLmFkZExpc3RlbmVyc18odGhpcy50YXJnZXQpfSxhZGRMaXN0ZW5lcnNfOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucztiLmF0dHJpYnV0ZXMmJmEuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQXR0ck1vZGlmaWVkIix0aGlzLCEwKSxiLmNoYXJhY3RlckRhdGEmJmEuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIix0aGlzLCEwKSxiLmNoaWxkTGlzdCYmYS5hZGRFdmVudExpc3RlbmVyKCJET01Ob2RlSW5zZXJ0ZWQiLHRoaXMsITApLChiLmNoaWxkTGlzdHx8Yi5zdWJ0cmVlKSYmYS5hZGRFdmVudExpc3RlbmVyKCJET01Ob2RlUmVtb3ZlZCIsdGhpcywhMCl9LHJlbW92ZUxpc3RlbmVyczpmdW5jdGlvbigpe3RoaXMucmVtb3ZlTGlzdGVuZXJzXyh0aGlzLnRhcmdldCl9LHJlbW92ZUxpc3RlbmVyc186ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zO2IuYXR0cmlidXRlcyYmYS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01BdHRyTW9kaWZpZWQiLHRoaXMsITApLGIuY2hhcmFjdGVyRGF0YSYmYS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWQiLHRoaXMsITApLGIuY2hpbGRMaXN0JiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTU5vZGVJbnNlcnRlZCIsdGhpcywhMCksKGIuY2hpbGRMaXN0fHxiLnN1YnRyZWUpJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTU5vZGVSZW1vdmVkIix0aGlzLCEwKX0sYWRkVHJhbnNpZW50T2JzZXJ2ZXI6ZnVuY3Rpb24oYSl7aWYoYSE9PXRoaXMudGFyZ2V0KXt0aGlzLmFkZExpc3RlbmVyc18oYSksdGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzLnB1c2goYSk7dmFyIGI9cC5nZXQoYSk7Ynx8cC5zZXQoYSxiPVtdKSxiLnB1c2godGhpcyl9fSxyZW1vdmVUcmFuc2llbnRPYnNlcnZlcnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM7dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdLGEuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLnJlbW92ZUxpc3RlbmVyc18oYSk7Zm9yKHZhciBiPXAuZ2V0KGEpLGM9MDtjPGIubGVuZ3RoO2MrKylpZihiW2NdPT09dGhpcyl7Yi5zcGxpY2UoYywxKTticmVha319LHRoaXMpfSxoYW5kbGVFdmVudDpmdW5jdGlvbihhKXtzd2l0Y2goYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxhLnR5cGUpe2Nhc2UiRE9NQXR0ck1vZGlmaWVkIjp2YXIgYj1hLmF0dHJOYW1lLGM9YS5yZWxhdGVkTm9kZS5uYW1lc3BhY2VVUkksZD1hLnRhcmdldCxlPW5ldyBqKCJhdHRyaWJ1dGVzIixkKTtlLmF0dHJpYnV0ZU5hbWU9YixlLmF0dHJpYnV0ZU5hbWVzcGFjZT1jO3ZhciBnPWEuYXR0ckNoYW5nZT09PU11dGF0aW9uRXZlbnQuQURESVRJT04/bnVsbDphLnByZXZWYWx1ZTtmKGQsZnVuY3Rpb24oYSl7cmV0dXJuIWEuYXR0cmlidXRlc3x8YS5hdHRyaWJ1dGVGaWx0ZXImJmEuYXR0cmlidXRlRmlsdGVyLmxlbmd0aCYmLTE9PT1hLmF0dHJpYnV0ZUZpbHRlci5pbmRleE9mKGIpJiYtMT09PWEuYXR0cmlidXRlRmlsdGVyLmluZGV4T2YoYyk/dm9pZCAwOmEuYXR0cmlidXRlT2xkVmFsdWU/ayhnKTplfSk7YnJlYWs7Y2FzZSJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWQiOnZhciBkPWEudGFyZ2V0LGU9aigiY2hhcmFjdGVyRGF0YSIsZCksZz1hLnByZXZWYWx1ZTtmKGQsZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhcmFjdGVyRGF0YT9hLmNoYXJhY3RlckRhdGFPbGRWYWx1ZT9rKGcpOmU6dm9pZCAwfSk7YnJlYWs7Y2FzZSJET01Ob2RlUmVtb3ZlZCI6dGhpcy5hZGRUcmFuc2llbnRPYnNlcnZlcihhLnRhcmdldCk7Y2FzZSJET01Ob2RlSW5zZXJ0ZWQiOnZhciBoLGksZD1hLnJlbGF0ZWROb2RlLG09YS50YXJnZXQ7IkRPTU5vZGVJbnNlcnRlZCI9PT1hLnR5cGU/KGg9W21dLGk9W10pOihoPVtdLGk9W21dKTt2YXIgbj1tLnByZXZpb3VzU2libGluZyxvPW0ubmV4dFNpYmxpbmcsZT1qKCJjaGlsZExpc3QiLGQpO2UuYWRkZWROb2Rlcz1oLGUucmVtb3ZlZE5vZGVzPWksZS5wcmV2aW91c1NpYmxpbmc9bixlLm5leHRTaWJsaW5nPW8sZihkLGZ1bmN0aW9uKGEpe3JldHVybiBhLmNoaWxkTGlzdD9lOnZvaWQgMH0pfWwoKX19LGEuSnNNdXRhdGlvbk9ic2VydmVyPWcsYS5NdXRhdGlvbk9ic2VydmVyfHwoYS5NdXRhdGlvbk9ic2VydmVyPWcpfSh0aGlzKSx3aW5kb3cuSFRNTEltcG9ydHM9d2luZG93LkhUTUxJbXBvcnRzfHx7ZmxhZ3M6e319LGZ1bmN0aW9uKGEpe3ZhciBiPShhLnBhdGgsYS54aHIpLGM9YS5mbGFncyxkPWZ1bmN0aW9uKGEsYil7dGhpcy5jYWNoZT17fSx0aGlzLm9ubG9hZD1hLHRoaXMub25jb21wbGV0ZT1iLHRoaXMuaW5mbGlnaHQ9MCx0aGlzLnBlbmRpbmc9e319O2QucHJvdG90eXBlPXthZGROb2RlczpmdW5jdGlvbihhKXt0aGlzLmluZmxpZ2h0Kz1hLmxlbmd0aDtmb3IodmFyIGIsYz0wLGQ9YS5sZW5ndGg7ZD5jJiYoYj1hW2NdKTtjKyspdGhpcy5yZXF1aXJlKGIpO3RoaXMuY2hlY2tEb25lKCl9LGFkZE5vZGU6ZnVuY3Rpb24oYSl7dGhpcy5pbmZsaWdodCsrLHRoaXMucmVxdWlyZShhKSx0aGlzLmNoZWNrRG9uZSgpfSxyZXF1aXJlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuc3JjfHxhLmhyZWY7YS5fX25vZGVVcmw9Yix0aGlzLmRlZHVwZShiLGEpfHx0aGlzLmZldGNoKGIsYSl9LGRlZHVwZTpmdW5jdGlvbihhLGIpe2lmKHRoaXMucGVuZGluZ1thXSlyZXR1cm4gdGhpcy5wZW5kaW5nW2FdLnB1c2goYiksITA7cmV0dXJuIHRoaXMuY2FjaGVbYV0/KHRoaXMub25sb2FkKGEsYix0aGlzLmNhY2hlW2FdKSx0aGlzLnRhaWwoKSwhMCk6KHRoaXMucGVuZGluZ1thXT1bYl0sITEpfSxmZXRjaDpmdW5jdGlvbihhLGQpe2MubG9hZCYmY29uc29sZS5sb2coImZldGNoIixhLGQpO3ZhciBlPWZ1bmN0aW9uKGIsYyl7dGhpcy5yZWNlaXZlKGEsZCxiLGMpfS5iaW5kKHRoaXMpO2IubG9hZChhLGUpfSxyZWNlaXZlOmZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuY2FjaGVbYV09ZDtmb3IodmFyIGUsZj10aGlzLnBlbmRpbmdbYV0sZz0wLGg9Zi5sZW5ndGg7aD5nJiYoZT1mW2ddKTtnKyspdGhpcy5vbmxvYWQoYSxlLGQpLHRoaXMudGFpbCgpO3RoaXMucGVuZGluZ1thXT1udWxsfSx0YWlsOmZ1bmN0aW9uKCl7LS10aGlzLmluZmxpZ2h0LHRoaXMuY2hlY2tEb25lKCl9LGNoZWNrRG9uZTpmdW5jdGlvbigpe3RoaXMuaW5mbGlnaHR8fHRoaXMub25jb21wbGV0ZSgpfX0sYj1ifHx7YXN5bmM6ITAsb2s6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3RhdHVzPj0yMDAmJmEuc3RhdHVzPDMwMHx8MzA0PT09YS5zdGF0dXN8fDA9PT1hLnN0YXR1c30sbG9hZDpmdW5jdGlvbihjLGQsZSl7dmFyIGY9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybihhLmZsYWdzLmRlYnVnfHxhLmZsYWdzLmJ1c3QpJiYoYys9Ij8iK01hdGgucmFuZG9tKCkpLGYub3BlbigiR0VUIixjLGIuYXN5bmMpLGYuYWRkRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsZnVuY3Rpb24oKXs0PT09Zi5yZWFkeVN0YXRlJiZkLmNhbGwoZSwhYi5vayhmKSYmZixmLnJlc3BvbnNlfHxmLnJlc3BvbnNlVGV4dCxjKX0pLGYuc2VuZCgpLGZ9LGxvYWREb2N1bWVudDpmdW5jdGlvbihhLGIsYyl7dGhpcy5sb2FkKGEsYixjKS5yZXNwb25zZVR5cGU9ImRvY3VtZW50In19LGEueGhyPWIsYS5Mb2FkZXI9ZH0od2luZG93LkhUTUxJbXBvcnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiJsaW5rIj09PWEubG9jYWxOYW1lJiZhLnJlbD09PWd9ZnVuY3Rpb24gYyhhKXt2YXIgYj1kKGEpO3JldHVybiJkYXRhOnRleHQvamF2YXNjcmlwdDtiYXNlNjQsIitidG9hKGIpfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGEudGV4dENvbnRlbnQrZShhKX1mdW5jdGlvbiBlKGEpe3ZhciBiPWEuX19ub2RlVXJsO2lmKCFiKXtiPWEub3duZXJEb2N1bWVudC5iYXNlVVJJO3ZhciBjPSJbIitNYXRoLmZsb29yKDFlMyooTWF0aC5yYW5kb20oKSsxKSkrIl0iLGQ9YS50ZXh0Q29udGVudC5tYXRjaCgvUG9seW1lclwoWyciXShbXiciXSopLyk7Yz1kJiZkWzFdfHxjLGIrPSIvIitjKyIuanMifXJldHVybiJcbi8vIyBzb3VyY2VVUkw9IitiKyJcbiJ9ZnVuY3Rpb24gZihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyZXR1cm4gYi50ZXh0Q29udGVudD1hLnRleHRDb250ZW50LG4ucmVzb2x2ZVVybHNJblN0eWxlKGIpLGJ9dmFyIGc9ImltcG9ydCIsaD1hLmZsYWdzLGk9L1RyaWRlbnQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksaj13aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChkb2N1bWVudCk6ZG9jdW1lbnQsaz17ZG9jdW1lbnRTZWxlY3RvcnM6ImxpbmtbcmVsPSIrZysiXSIsaW1wb3J0c1NlbGVjdG9yczpbImxpbmtbcmVsPSIrZysiXSIsImxpbmtbcmVsPXN0eWxlc2hlZXRdIiwic3R5bGUiLCJzY3JpcHQ6bm90KFt0eXBlXSkiLCdzY3JpcHRbdHlwZT0idGV4dC9qYXZhc2NyaXB0Il0nXS5qb2luKCIsIiksbWFwOntsaW5rOiJwYXJzZUxpbmsiLHNjcmlwdDoicGFyc2VTY3JpcHQiLHN0eWxlOiJwYXJzZVN0eWxlIn0scGFyc2VOZXh0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5uZXh0VG9QYXJzZSgpO2EmJnRoaXMucGFyc2UoYSl9LHBhcnNlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuaXNQYXJzZWQoYSkpcmV0dXJuIHZvaWQoaC5wYXJzZSYmY29uc29sZS5sb2coIlslc10gaXMgYWxyZWFkeSBwYXJzZWQiLGEubG9jYWxOYW1lKSk7dmFyIGI9dGhpc1t0aGlzLm1hcFthLmxvY2FsTmFtZV1dO2ImJih0aGlzLm1hcmtQYXJzaW5nKGEpLGIuY2FsbCh0aGlzLGEpKX0sbWFya1BhcnNpbmc6ZnVuY3Rpb24oYSl7aC5wYXJzZSYmY29uc29sZS5sb2coInBhcnNpbmciLGEpLHRoaXMucGFyc2luZ0VsZW1lbnQ9YX0sbWFya1BhcnNpbmdDb21wbGV0ZTpmdW5jdGlvbihhKXthLl9faW1wb3J0UGFyc2VkPSEwLGEuX19pbXBvcnRFbGVtZW50JiYoYS5fX2ltcG9ydEVsZW1lbnQuX19pbXBvcnRQYXJzZWQ9ITApLHRoaXMucGFyc2luZ0VsZW1lbnQ9bnVsbCxoLnBhcnNlJiZjb25zb2xlLmxvZygiY29tcGxldGVkIixhKSx0aGlzLnBhcnNlTmV4dCgpfSxwYXJzZUltcG9ydDpmdW5jdGlvbihhKXtpZihhLmltcG9ydC5fX2ltcG9ydFBhcnNlZD0hMCxIVE1MSW1wb3J0cy5fX2ltcG9ydHNQYXJzaW5nSG9vayYmSFRNTEltcG9ydHMuX19pbXBvcnRzUGFyc2luZ0hvb2soYSksYS5kaXNwYXRjaEV2ZW50KGEuX19yZXNvdXJjZT9uZXcgQ3VzdG9tRXZlbnQoImxvYWQiLHtidWJibGVzOiExfSk6bmV3IEN1c3RvbUV2ZW50KCJlcnJvciIse2J1YmJsZXM6ITF9KSksYS5fX3BlbmRpbmcpZm9yKHZhciBiO2EuX19wZW5kaW5nLmxlbmd0aDspYj1hLl9fcGVuZGluZy5zaGlmdCgpLGImJmIoe3RhcmdldDphfSk7dGhpcy5tYXJrUGFyc2luZ0NvbXBsZXRlKGEpfSxwYXJzZUxpbms6ZnVuY3Rpb24oYSl7YihhKT90aGlzLnBhcnNlSW1wb3J0KGEpOihhLmhyZWY9YS5ocmVmLHRoaXMucGFyc2VHZW5lcmljKGEpKX0scGFyc2VTdHlsZTpmdW5jdGlvbihhKXt2YXIgYj1hO2E9ZihhKSxhLl9faW1wb3J0RWxlbWVudD1iLHRoaXMucGFyc2VHZW5lcmljKGEpfSxwYXJzZUdlbmVyaWM6ZnVuY3Rpb24oYSl7dGhpcy50cmFja0VsZW1lbnQoYSksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChhKX0sdHJhY2tFbGVtZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWZ1bmN0aW9uKGQpe2ImJmIoZCksYy5tYXJrUGFyc2luZ0NvbXBsZXRlKGEpfTtpZihhLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGQpLGEuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLGQpLGkmJiJzdHlsZSI9PT1hLmxvY2FsTmFtZSl7dmFyIGU9ITE7aWYoLTE9PWEudGV4dENvbnRlbnQuaW5kZXhPZigiQGltcG9ydCIpKWU9ITA7ZWxzZSBpZihhLnNoZWV0KXtlPSEwO2Zvcih2YXIgZixnPWEuc2hlZXQuY3NzUnVsZXMsaD1nP2cubGVuZ3RoOjAsaj0wO2g+aiYmKGY9Z1tqXSk7aisrKWYudHlwZT09PUNTU1J1bGUuSU1QT1JUX1JVTEUmJihlPWUmJkJvb2xlYW4oZi5zdHlsZVNoZWV0KSl9ZSYmYS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgibG9hZCIse2J1YmJsZXM6ITF9KSl9fSxwYXJzZVNjcmlwdDpmdW5jdGlvbihiKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtkLl9faW1wb3J0RWxlbWVudD1iLGQuc3JjPWIuc3JjP2Iuc3JjOmMoYiksYS5jdXJyZW50U2NyaXB0PWIsdGhpcy50cmFja0VsZW1lbnQoZCxmdW5jdGlvbigpe2QucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkKSxhLmN1cnJlbnRTY3JpcHQ9bnVsbH0pLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZCl9LG5leHRUb1BhcnNlOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMucGFyc2luZ0VsZW1lbnQmJnRoaXMubmV4dFRvUGFyc2VJbkRvYyhqKX0sbmV4dFRvUGFyc2VJbkRvYzpmdW5jdGlvbihhLGMpe2Zvcih2YXIgZCxlPWEucXVlcnlTZWxlY3RvckFsbCh0aGlzLnBhcnNlU2VsZWN0b3JzRm9yTm9kZShhKSksZj0wLGc9ZS5sZW5ndGg7Zz5mJiYoZD1lW2ZdKTtmKyspaWYoIXRoaXMuaXNQYXJzZWQoZCkpcmV0dXJuIHRoaXMuaGFzUmVzb3VyY2UoZCk/YihkKT90aGlzLm5leHRUb1BhcnNlSW5Eb2MoZC5pbXBvcnQsZCk6ZDp2b2lkIDA7cmV0dXJuIGN9LHBhcnNlU2VsZWN0b3JzRm9yTm9kZTpmdW5jdGlvbihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnR8fGE7cmV0dXJuIGI9PT1qP3RoaXMuZG9jdW1lbnRTZWxlY3RvcnM6dGhpcy5pbXBvcnRzU2VsZWN0b3JzfSxpc1BhcnNlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5fX2ltcG9ydFBhcnNlZH0saGFzUmVzb3VyY2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGIoYSkmJiFhLmltcG9ydD8hMTohMH19LGw9Lyh1cmxcKCkoW14pXSopKFwpKS9nLG09LyhAaW1wb3J0W1xzXSsoPyF1cmxcKCkpKFteO10qKSg7KS9nLG49e3Jlc29sdmVVcmxzSW5TdHlsZTpmdW5jdGlvbihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQsYz1iLmNyZWF0ZUVsZW1lbnQoImEiKTtyZXR1cm4gYS50ZXh0Q29udGVudD10aGlzLnJlc29sdmVVcmxzSW5Dc3NUZXh0KGEudGV4dENvbnRlbnQsYyksYX0scmVzb2x2ZVVybHNJbkNzc1RleHQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnJlcGxhY2VVcmxzKGEsYixsKTtyZXR1cm4gYz10aGlzLnJlcGxhY2VVcmxzKGMsYixtKX0scmVwbGFjZVVybHM6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhLnJlcGxhY2UoYyxmdW5jdGlvbihhLGMsZCxlKXt2YXIgZj1kLnJlcGxhY2UoL1siJ10vZywiIik7cmV0dXJuIGIuaHJlZj1mLGY9Yi5ocmVmLGMrIiciK2YrIiciK2V9KX19O2EucGFyc2VyPWssYS5wYXRoPW4sYS5pc0lFPWl9KEhUTUxJbXBvcnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBjKGEsbSl9ZnVuY3Rpb24gYyhhLGIpe3JldHVybiJsaW5rIj09PWEubG9jYWxOYW1lJiZhLmdldEF0dHJpYnV0ZSgicmVsIik9PT1ifWZ1bmN0aW9uIGQoYSxiKXt2YXIgYz1hO2MgaW5zdGFuY2VvZiBEb2N1bWVudHx8KGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KG0pKSxjLl9VUkw9Yjt2YXIgZD1jLmNyZWF0ZUVsZW1lbnQoImJhc2UiKTtkLnNldEF0dHJpYnV0ZSgiaHJlZiIsYiksYy5iYXNlVVJJfHwoYy5iYXNlVVJJPWIpO3ZhciBlPWMuY3JlYXRlRWxlbWVudCgibWV0YSIpO3JldHVybiBlLnNldEF0dHJpYnV0ZSgiY2hhcnNldCIsInV0Zi04IiksYy5oZWFkLmFwcGVuZENoaWxkKGUpLGMuaGVhZC5hcHBlbmRDaGlsZChkKSxhIGluc3RhbmNlb2YgRG9jdW1lbnR8fChjLmJvZHkuaW5uZXJIVE1MPWEpLHdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50JiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcCYmSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXAoYyksY31mdW5jdGlvbiBlKGEsYil7Yj1ifHxuLGcoZnVuY3Rpb24oKXtoKGEsYil9LGIpfWZ1bmN0aW9uIGYoYSl7cmV0dXJuImNvbXBsZXRlIj09PWEucmVhZHlTdGF0ZXx8YS5yZWFkeVN0YXRlPT09dX1mdW5jdGlvbiBnKGEsYil7aWYoZihiKSlhJiZhKCk7ZWxzZXt2YXIgYz1mdW5jdGlvbigpeygiY29tcGxldGUiPT09Yi5yZWFkeVN0YXRlfHxiLnJlYWR5U3RhdGU9PT11KSYmKGIucmVtb3ZlRXZlbnRMaXN0ZW5lcih2LGMpLGcoYSxiKSl9O2IuYWRkRXZlbnRMaXN0ZW5lcih2LGMpfX1mdW5jdGlvbiBoKGEsYil7ZnVuY3Rpb24gYygpe2Y9PWcmJnJlcXVlc3RBbmltYXRpb25GcmFtZShhKX1mdW5jdGlvbiBkKCl7ZisrLGMoKX12YXIgZT1iLnF1ZXJ5U2VsZWN0b3JBbGwoImxpbmtbcmVsPWltcG9ydF0iKSxmPTAsZz1lLmxlbmd0aDtpZihnKWZvcih2YXIgaCxqPTA7Zz5qJiYoaD1lW2pdKTtqKyspaShoKT9kLmNhbGwoaCk6KGguYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsZCksaC5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsZCkpO2Vsc2UgYygpfWZ1bmN0aW9uIGkoYSl7cmV0dXJuIGs/YS5pbXBvcnQmJiJsb2FkaW5nIiE9PWEuaW1wb3J0LnJlYWR5U3RhdGU6YS5fX2ltcG9ydFBhcnNlZH12YXIgaj0iaW1wb3J0ImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpbmsiKSxrPWosbD1hLmZsYWdzLG09ImltcG9ydCIsbj13aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/U2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKGRvY3VtZW50KTpkb2N1bWVudDtpZihrKXZhciBvPXt9O2Vsc2UgdmFyIHA9KGEueGhyLGEuTG9hZGVyKSxxPWEucGFyc2VyLG89e2RvY3VtZW50czp7fSxkb2N1bWVudFByZWxvYWRTZWxlY3RvcnM6ImxpbmtbcmVsPSIrbSsiXSIsaW1wb3J0c1ByZWxvYWRTZWxlY3RvcnM6WyJsaW5rW3JlbD0iK20rIl0iXS5qb2luKCIsIiksbG9hZE5vZGU6ZnVuY3Rpb24oYSl7ci5hZGROb2RlKGEpfSxsb2FkU3VidHJlZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm1hcnNoYWxOb2RlcyhhKTtyLmFkZE5vZGVzKGIpfSxtYXJzaGFsTm9kZXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucXVlcnlTZWxlY3RvckFsbCh0aGlzLmxvYWRTZWxlY3RvcnNGb3JOb2RlKGEpKX0sbG9hZFNlbGVjdG9yc0Zvck5vZGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vd25lckRvY3VtZW50fHxhO3JldHVybiBiPT09bj90aGlzLmRvY3VtZW50UHJlbG9hZFNlbGVjdG9yczp0aGlzLmltcG9ydHNQcmVsb2FkU2VsZWN0b3JzfSxsb2FkZWQ6ZnVuY3Rpb24oYSxjLGUpe2lmKGwubG9hZCYmY29uc29sZS5sb2coImxvYWRlZCIsYSxjKSxjLl9fcmVzb3VyY2U9ZSxiKGMpKXt2YXIgZj10aGlzLmRvY3VtZW50c1thXTtmfHwoZj1kKGUsYSksZi5fX2ltcG9ydExpbms9Yyx0aGlzLmJvb3REb2N1bWVudChmKSx0aGlzLmRvY3VtZW50c1thXT1mKSxjLmltcG9ydD1mfXEucGFyc2VOZXh0KCl9LGJvb3REb2N1bWVudDpmdW5jdGlvbihhKXt0aGlzLmxvYWRTdWJ0cmVlKGEpLHRoaXMub2JzZXJ2ZShhKSxxLnBhcnNlTmV4dCgpfSxsb2FkZWRBbGw6ZnVuY3Rpb24oKXtxLnBhcnNlTmV4dCgpfX0scj1uZXcgcChvLmxvYWRlZC5iaW5kKG8pLG8ubG9hZGVkQWxsLmJpbmQobykpO3ZhciBzPXtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gSFRNTEltcG9ydHMuY3VycmVudFNjcmlwdHx8ZG9jdW1lbnQuY3VycmVudFNjcmlwdH0sY29uZmlndXJhYmxlOiEwfTtpZihPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsIl9jdXJyZW50U2NyaXB0IixzKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX2N1cnJlbnRTY3JpcHQiLHMpLCFkb2N1bWVudC5iYXNlVVJJKXt2YXIgdD17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5ocmVmfSxjb25maWd1cmFibGU6ITB9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShkb2N1bWVudCwiYmFzZVVSSSIsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sImJhc2VVUkkiLHQpfXZhciB1PUhUTUxJbXBvcnRzLmlzSUU/ImNvbXBsZXRlIjoiaW50ZXJhY3RpdmUiLHY9InJlYWR5c3RhdGVjaGFuZ2UiO2EuaGFzTmF0aXZlPWosYS51c2VOYXRpdmU9ayxhLmltcG9ydGVyPW8sYS53aGVuSW1wb3J0c1JlYWR5PWUsYS5JTVBPUlRfTElOS19UWVBFPW0sYS5pc0ltcG9ydExvYWRlZD1pLGEuaW1wb3J0TG9hZGVyPXJ9KHdpbmRvdy5IVE1MSW1wb3J0cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtmb3IodmFyIGIsZD0wLGU9YS5sZW5ndGg7ZT5kJiYoYj1hW2RdKTtkKyspImNoaWxkTGlzdCI9PT1iLnR5cGUmJmIuYWRkZWROb2Rlcy5sZW5ndGgmJmMoYi5hZGRlZE5vZGVzKX1mdW5jdGlvbiBjKGEpe2Zvcih2YXIgYixlPTAsZz1hLmxlbmd0aDtnPmUmJihiPWFbZV0pO2UrKylkKGIpJiZmLmxvYWROb2RlKGIpLGIuY2hpbGRyZW4mJmIuY2hpbGRyZW4ubGVuZ3RoJiZjKGIuY2hpbGRyZW4pfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlJiZnLmNhbGwoYSxmLmxvYWRTZWxlY3RvcnNGb3JOb2RlKGEpKX1mdW5jdGlvbiBlKGEpe2gub2JzZXJ2ZShhLHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pfXZhciBmPShhLklNUE9SVF9MSU5LX1RZUEUsYS5pbXBvcnRlciksZz1IVE1MRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlc3x8SFRNTEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXNTZWxlY3Rvcnx8SFRNTEVsZW1lbnQucHJvdG90eXBlLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8SFRNTEVsZW1lbnQucHJvdG90eXBlLm1vek1hdGNoZXNTZWxlY3Rvcnx8SFRNTEVsZW1lbnQucHJvdG90eXBlLm1zTWF0Y2hlc1NlbGVjdG9yLGg9bmV3IE11dGF0aW9uT2JzZXJ2ZXIoYik7YS5vYnNlcnZlPWUsZi5vYnNlcnZlPWV9KEhUTUxJbXBvcnRzKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtIVE1MSW1wb3J0cy5pbXBvcnRlci5ib290RG9jdW1lbnQoYil9ImZ1bmN0aW9uIiE9dHlwZW9mIHdpbmRvdy5DdXN0b21FdmVudCYmKHdpbmRvdy5DdXN0b21FdmVudD1mdW5jdGlvbihhLGIpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJIVE1MRXZlbnRzIik7cmV0dXJuIGMuaW5pdEV2ZW50KGEsYi5idWJibGVzPT09ITE/ITE6ITAsYi5jYW5jZWxhYmxlPT09ITE/ITE6ITAsYi5kZXRhaWwpLGN9KTt2YXIgYj13aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChkb2N1bWVudCk6ZG9jdW1lbnQ7SFRNTEltcG9ydHMud2hlbkltcG9ydHNSZWFkeShmdW5jdGlvbigpe0hUTUxJbXBvcnRzLnJlYWR5PSEwLEhUTUxJbXBvcnRzLnJlYWR5VGltZT0obmV3IERhdGUpLmdldFRpbWUoKSxiLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJIVE1MSW1wb3J0c0xvYWRlZCIse2J1YmJsZXM6ITB9KSl9KSxIVE1MSW1wb3J0cy51c2VOYXRpdmV8fCgiY29tcGxldGUiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZXx8ImludGVyYWN0aXZlIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJiF3aW5kb3cuYXR0YWNoRXZlbnQ/YSgpOmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGEpKX0oKSx3aW5kb3cuQ3VzdG9tRWxlbWVudHM9d2luZG93LkN1c3RvbUVsZW1lbnRzfHx7ZmxhZ3M6e319LGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxjLGQpe3ZhciBlPWEuZmlyc3RFbGVtZW50Q2hpbGQ7aWYoIWUpZm9yKGU9YS5maXJzdENoaWxkO2UmJmUubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERTspZT1lLm5leHRTaWJsaW5nO2Zvcig7ZTspYyhlLGQpIT09ITAmJmIoZSxjLGQpLGU9ZS5uZXh0RWxlbWVudFNpYmxpbmc7cmV0dXJuIG51bGx9ZnVuY3Rpb24gYyhhLGIpe2Zvcih2YXIgYz1hLnNoYWRvd1Jvb3Q7YzspZChjLGIpLGM9Yy5vbGRlclNoYWRvd1Jvb3R9ZnVuY3Rpb24gZChhLGQpe2IoYSxmdW5jdGlvbihhKXtyZXR1cm4gZChhKT8hMDp2b2lkIGMoYSxkKX0pLGMoYSxkKX1mdW5jdGlvbiBlKGEpe3JldHVybiBoKGEpPyhpKGEpLCEwKTp2b2lkIGwoYSl9ZnVuY3Rpb24gZihhKXtkKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGUoYSk/ITA6dm9pZCAwfSl9ZnVuY3Rpb24gZyhhKXtyZXR1cm4gZShhKXx8ZihhKX1mdW5jdGlvbiBoKGIpe2lmKCFiLl9fdXBncmFkZWRfXyYmYi5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFKXt2YXIgYz1iLmdldEF0dHJpYnV0ZSgiaXMiKXx8Yi5sb2NhbE5hbWUsZD1hLnJlZ2lzdHJ5W2NdO2lmKGQpcmV0dXJuIEEuZG9tJiZjb25zb2xlLmdyb3VwKCJ1cGdyYWRlOiIsYi5sb2NhbE5hbWUpLGEudXBncmFkZShiKSxBLmRvbSYmY29uc29sZS5ncm91cEVuZCgpLCEwfX1mdW5jdGlvbiBpKGEpe2woYSkscihhKSYmZChhLGZ1bmN0aW9uKGEpe2woYSl9KX1mdW5jdGlvbiBqKGEpe2lmKEUucHVzaChhKSwhRCl7RD0hMDt2YXIgYj13aW5kb3cuUGxhdGZvcm0mJndpbmRvdy5QbGF0Zm9ybS5lbmRPZk1pY3JvdGFza3x8c2V0VGltZW91dDtiKGspfX1mdW5jdGlvbiBrKCl7RD0hMTtmb3IodmFyIGEsYj1FLGM9MCxkPWIubGVuZ3RoO2Q+YyYmKGE9YltjXSk7YysrKWEoKTtFPVtdfWZ1bmN0aW9uIGwoYSl7Qz9qKGZ1bmN0aW9uKCl7bShhKX0pOm0oYSl9ZnVuY3Rpb24gbShhKXsoYS5hdHRhY2hlZENhbGxiYWNrfHxhLmRldGFjaGVkQ2FsbGJhY2t8fGEuX191cGdyYWRlZF9fJiZBLmRvbSkmJihBLmRvbSYmY29uc29sZS5ncm91cCgiaW5zZXJ0ZWQ6IixhLmxvY2FsTmFtZSkscihhKSYmKGEuX19pbnNlcnRlZD0oYS5fX2luc2VydGVkfHwwKSsxLGEuX19pbnNlcnRlZDwxJiYoYS5fX2luc2VydGVkPTEpLGEuX19pbnNlcnRlZD4xP0EuZG9tJiZjb25zb2xlLndhcm4oImluc2VydGVkOiIsYS5sb2NhbE5hbWUsImluc2VydC9yZW1vdmUgY291bnQ6IixhLl9faW5zZXJ0ZWQpOmEuYXR0YWNoZWRDYWxsYmFjayYmKEEuZG9tJiZjb25zb2xlLmxvZygiaW5zZXJ0ZWQ6IixhLmxvY2FsTmFtZSksYS5hdHRhY2hlZENhbGxiYWNrKCkpKSxBLmRvbSYmY29uc29sZS5ncm91cEVuZCgpKX1mdW5jdGlvbiBuKGEpe28oYSksZChhLGZ1bmN0aW9uKGEpe28oYSl9KX1mdW5jdGlvbiBvKGEpe0M/aihmdW5jdGlvbigpe3AoYSl9KTpwKGEpfWZ1bmN0aW9uIHAoYSl7KGEuYXR0YWNoZWRDYWxsYmFja3x8YS5kZXRhY2hlZENhbGxiYWNrfHxhLl9fdXBncmFkZWRfXyYmQS5kb20pJiYoQS5kb20mJmNvbnNvbGUuZ3JvdXAoInJlbW92ZWQ6IixhLmxvY2FsTmFtZSkscihhKXx8KGEuX19pbnNlcnRlZD0oYS5fX2luc2VydGVkfHwwKS0xLGEuX19pbnNlcnRlZD4wJiYoYS5fX2luc2VydGVkPTApLGEuX19pbnNlcnRlZDwwP0EuZG9tJiZjb25zb2xlLndhcm4oInJlbW92ZWQ6IixhLmxvY2FsTmFtZSwiaW5zZXJ0L3JlbW92ZSBjb3VudDoiLGEuX19pbnNlcnRlZCk6YS5kZXRhY2hlZENhbGxiYWNrJiZhLmRldGFjaGVkQ2FsbGJhY2soKSksQS5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSl9ZnVuY3Rpb24gcShhKXtyZXR1cm4gd2luZG93LlNoYWRvd0RPTVBvbHlmaWxsP1NoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChhKTphfWZ1bmN0aW9uIHIoYSl7Zm9yKHZhciBiPWEsYz1xKGRvY3VtZW50KTtiOyl7aWYoYj09YylyZXR1cm4hMDtiPWIucGFyZW50Tm9kZXx8Yi5ob3N0fX1mdW5jdGlvbiBzKGEpe2lmKGEuc2hhZG93Um9vdCYmIWEuc2hhZG93Um9vdC5fX3dhdGNoZWQpe0EuZG9tJiZjb25zb2xlLmxvZygid2F0Y2hpbmcgc2hhZG93LXJvb3QgZm9yOiAiLGEubG9jYWxOYW1lKTtmb3IodmFyIGI9YS5zaGFkb3dSb290O2I7KXQoYiksYj1iLm9sZGVyU2hhZG93Um9vdH19ZnVuY3Rpb24gdChhKXthLl9fd2F0Y2hlZHx8KHcoYSksYS5fX3dhdGNoZWQ9ITApfWZ1bmN0aW9uIHUoYSl7aWYoQS5kb20pe3ZhciBiPWFbMF07aWYoYiYmImNoaWxkTGlzdCI9PT1iLnR5cGUmJmIuYWRkZWROb2RlcyYmYi5hZGRlZE5vZGVzKXtmb3IodmFyIGM9Yi5hZGRlZE5vZGVzWzBdO2MmJmMhPT1kb2N1bWVudCYmIWMuaG9zdDspYz1jLnBhcmVudE5vZGU7dmFyIGQ9YyYmKGMuVVJMfHxjLl9VUkx8fGMuaG9zdCYmYy5ob3N0LmxvY2FsTmFtZSl8fCIiO2Q9ZC5zcGxpdCgiLz8iKS5zaGlmdCgpLnNwbGl0KCIvIikucG9wKCl9Y29uc29sZS5ncm91cCgibXV0YXRpb25zICglZCkgWyVzXSIsYS5sZW5ndGgsZHx8IiIpfWEuZm9yRWFjaChmdW5jdGlvbihhKXsiY2hpbGRMaXN0Ij09PWEudHlwZSYmKEcoYS5hZGRlZE5vZGVzLGZ1bmN0aW9uKGEpe2EubG9jYWxOYW1lJiZnKGEpfSksRyhhLnJlbW92ZWROb2RlcyxmdW5jdGlvbihhKXthLmxvY2FsTmFtZSYmbihhKX0pKX0pLEEuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCl9ZnVuY3Rpb24gdigpe3UoRi50YWtlUmVjb3JkcygpKSxrKCl9ZnVuY3Rpb24gdyhhKXtGLm9ic2VydmUoYSx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KX1mdW5jdGlvbiB4KGEpe3coYSl9ZnVuY3Rpb24geShhKXtBLmRvbSYmY29uc29sZS5ncm91cCgidXBncmFkZURvY3VtZW50OiAiLGEuYmFzZVVSSS5zcGxpdCgiLyIpLnBvcCgpKSxnKGEpLEEuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCl9ZnVuY3Rpb24geihhKXthPXEoYSk7Zm9yKHZhciBiLGM9YS5xdWVyeVNlbGVjdG9yQWxsKCJsaW5rW3JlbD0iK0IrIl0iKSxkPTAsZT1jLmxlbmd0aDtlPmQmJihiPWNbZF0pO2QrKyliLmltcG9ydCYmYi5pbXBvcnQuX19wYXJzZWQmJnooYi5pbXBvcnQpO3koYSl9dmFyIEE9d2luZG93LmxvZ0ZsYWdzfHx7fSxCPXdpbmRvdy5IVE1MSW1wb3J0cz9IVE1MSW1wb3J0cy5JTVBPUlRfTElOS19UWVBFOiJub25lIixDPSF3aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXI9PT13aW5kb3cuSnNNdXRhdGlvbk9ic2VydmVyO2EuaGFzUG9seWZpbGxNdXRhdGlvbnM9Qzt2YXIgRD0hMSxFPVtdLEY9bmV3IE11dGF0aW9uT2JzZXJ2ZXIodSksRz1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpO2EuSU1QT1JUX0xJTktfVFlQRT1CLGEud2F0Y2hTaGFkb3c9cyxhLnVwZ3JhZGVEb2N1bWVudFRyZWU9eixhLnVwZ3JhZGVBbGw9ZyxhLnVwZ3JhZGVTdWJ0cmVlPWYsYS5pbnNlcnRlZE5vZGU9aSxhLm9ic2VydmVEb2N1bWVudD14LGEudXBncmFkZURvY3VtZW50PXksYS50YWtlUmVjb3Jkcz12fSh3aW5kb3cuQ3VzdG9tRWxlbWVudHMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYixmKXt2YXIgZz1mfHx7fTtpZighYil0aHJvdyBuZXcgRXJyb3IoImRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudDogZmlyc3QgYXJndW1lbnQgYG5hbWVgIG11c3Qgbm90IGJlIGVtcHR5Iik7aWYoYi5pbmRleE9mKCItIik8MCl0aHJvdyBuZXcgRXJyb3IoImRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudDogZmlyc3QgYXJndW1lbnQgKCduYW1lJykgbXVzdCBjb250YWluIGEgZGFzaCAoJy0nKS4gQXJndW1lbnQgcHJvdmlkZWQgd2FzICciK1N0cmluZyhiKSsiJy4iKTtpZihtKGIpKXRocm93IG5ldyBFcnJvcigiRHVwbGljYXRlRGVmaW5pdGlvbkVycm9yOiBhIHR5cGUgd2l0aCBuYW1lICciK1N0cmluZyhiKSsiJyBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQiKTtpZighZy5wcm90b3R5cGUpdGhyb3cgbmV3IEVycm9yKCJPcHRpb25zIG1pc3NpbmcgcmVxdWlyZWQgcHJvdG90eXBlIHByb3BlcnR5Iik7cmV0dXJuIGcuX19uYW1lPWIudG9Mb3dlckNhc2UoKSxnLmxpZmVjeWNsZT1nLmxpZmVjeWNsZXx8e30sZy5hbmNlc3RyeT1jKGcuZXh0ZW5kcyksZChnKSxlKGcpLGsoZy5wcm90b3R5cGUpLG4oZy5fX25hbWUsZyksZy5jdG9yPW8oZyksZy5jdG9yLnByb3RvdHlwZT1nLnByb3RvdHlwZSxnLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1nLmN0b3IsYS5yZWFkeSYmYS51cGdyYWRlRG9jdW1lbnRUcmVlKGRvY3VtZW50KSxnLmN0b3J9ZnVuY3Rpb24gYyhhKXt2YXIgYj1tKGEpO3JldHVybiBiP2MoYi5leHRlbmRzKS5jb25jYXQoW2JdKTpbXX1mdW5jdGlvbiBkKGEpe2Zvcih2YXIgYixjPWEuZXh0ZW5kcyxkPTA7Yj1hLmFuY2VzdHJ5W2RdO2QrKyljPWIuaXMmJmIudGFnO2EudGFnPWN8fGEuX19uYW1lLGMmJihhLmlzPWEuX19uYW1lKX1mdW5jdGlvbiBlKGEpe2lmKCFPYmplY3QuX19wcm90b19fKXt2YXIgYj1IVE1MRWxlbWVudC5wcm90b3R5cGU7aWYoYS5pcyl7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhLnRhZyk7Yj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoYyl9Zm9yKHZhciBkLGU9YS5wcm90b3R5cGU7ZSYmZSE9PWI7KXt2YXIgZD1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7ZS5fX3Byb3RvX189ZCxlPWR9fWEubmF0aXZlPWJ9ZnVuY3Rpb24gZihhKXtyZXR1cm4gZyh6KGEudGFnKSxhKX1mdW5jdGlvbiBnKGIsYyl7cmV0dXJuIGMuaXMmJmIuc2V0QXR0cmlidXRlKCJpcyIsYy5pcyksYi5yZW1vdmVBdHRyaWJ1dGUoInVucmVzb2x2ZWQiKSxoKGIsYyksYi5fX3VwZ3JhZGVkX189ITAsaihiKSxhLmluc2VydGVkTm9kZShiKSxhLnVwZ3JhZGVTdWJ0cmVlKGIpLGJ9ZnVuY3Rpb24gaChhLGIpe09iamVjdC5fX3Byb3RvX18/YS5fX3Byb3RvX189Yi5wcm90b3R5cGU6KGkoYSxiLnByb3RvdHlwZSxiLm5hdGl2ZSksYS5fX3Byb3RvX189Yi5wcm90b3R5cGUpfWZ1bmN0aW9uIGkoYSxiLGMpe2Zvcih2YXIgZD17fSxlPWI7ZSE9PWMmJmUhPT1IVE1MRWxlbWVudC5wcm90b3R5cGU7KXtmb3IodmFyIGYsZz1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKSxoPTA7Zj1nW2hdO2grKylkW2ZdfHwoT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsZixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsZikpLGRbZl09MSk7ZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9fWZ1bmN0aW9uIGooYSl7YS5jcmVhdGVkQ2FsbGJhY2smJmEuY3JlYXRlZENhbGxiYWNrKCl9ZnVuY3Rpb24gayhhKXtpZighYS5zZXRBdHRyaWJ1dGUuX3BvbHlmaWxsZWQpe3ZhciBiPWEuc2V0QXR0cmlidXRlO2Euc2V0QXR0cmlidXRlPWZ1bmN0aW9uKGEsYyl7bC5jYWxsKHRoaXMsYSxjLGIpfTt2YXIgYz1hLnJlbW92ZUF0dHJpYnV0ZTthLnJlbW92ZUF0dHJpYnV0ZT1mdW5jdGlvbihhKXtsLmNhbGwodGhpcyxhLG51bGwsYyl9LGEuc2V0QXR0cmlidXRlLl9wb2x5ZmlsbGVkPSEwfX1mdW5jdGlvbiBsKGEsYixjKXt2YXIgZD10aGlzLmdldEF0dHJpYnV0ZShhKTtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZT10aGlzLmdldEF0dHJpYnV0ZShhKTt0aGlzLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayYmZSE9PWQmJnRoaXMuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGEsZCxlKX1mdW5jdGlvbiBtKGEpe3JldHVybiBhP3hbYS50b0xvd2VyQ2FzZSgpXTp2b2lkIDB9ZnVuY3Rpb24gbihhLGIpe3hbYV09Yn1mdW5jdGlvbiBvKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBmKGEpfX1mdW5jdGlvbiBwKGEsYixjKXtyZXR1cm4gYT09PXk/cShiLGMpOkEoYSxiKX1mdW5jdGlvbiBxKGEsYil7dmFyIGM9bShifHxhKTtpZihjKXtpZihhPT1jLnRhZyYmYj09Yy5pcylyZXR1cm4gbmV3IGMuY3RvcjtpZighYiYmIWMuaXMpcmV0dXJuIG5ldyBjLmN0b3J9aWYoYil7dmFyIGQ9cShhKTtyZXR1cm4gZC5zZXRBdHRyaWJ1dGUoImlzIixiKSxkfXZhciBkPXooYSk7cmV0dXJuIGEuaW5kZXhPZigiLSIpPj0wJiZoKGQsSFRNTEVsZW1lbnQpLGR9ZnVuY3Rpb24gcihhKXtpZighYS5fX3VwZ3JhZGVkX18mJmEubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl7dmFyIGI9YS5nZXRBdHRyaWJ1dGUoImlzIiksYz1tKGJ8fGEubG9jYWxOYW1lKTtpZihjKXtpZihiJiZjLnRhZz09YS5sb2NhbE5hbWUpcmV0dXJuIGcoYSxjKTtpZighYiYmIWMuZXh0ZW5kcylyZXR1cm4gZyhhLGMpfX19ZnVuY3Rpb24gcyhiKXt2YXIgYz1CLmNhbGwodGhpcyxiKTtyZXR1cm4gYS51cGdyYWRlQWxsKGMpLGN9YXx8KGE9d2luZG93LkN1c3RvbUVsZW1lbnRzPXtmbGFnczp7fX0pO3ZhciB0PWEuZmxhZ3MsdT1Cb29sZWFuKGRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCksdj0hdC5yZWdpc3RlciYmdSYmIXdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbDtpZih2KXt2YXIgdz1mdW5jdGlvbigpe307YS5yZWdpc3RyeT17fSxhLnVwZ3JhZGVFbGVtZW50PXcsYS53YXRjaFNoYWRvdz13LGEudXBncmFkZT13LGEudXBncmFkZUFsbD13LGEudXBncmFkZVN1YnRyZWU9dyxhLm9ic2VydmVEb2N1bWVudD13LGEudXBncmFkZURvY3VtZW50PXcsYS51cGdyYWRlRG9jdW1lbnRUcmVlPXcsYS50YWtlUmVjb3Jkcz13fWVsc2V7dmFyIHg9e30seT0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIsej1kb2N1bWVudC5jcmVhdGVFbGVtZW50LmJpbmQoZG9jdW1lbnQpLEE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TLmJpbmQoZG9jdW1lbnQpLEI9Tm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlO2RvY3VtZW50LnJlZ2lzdGVyRWxlbWVudD1iLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQ9cSxkb2N1bWVudC5jcmVhdGVFbGVtZW50TlM9cCxOb2RlLnByb3RvdHlwZS5jbG9uZU5vZGU9cyxhLnJlZ2lzdHJ5PXgsYS51cGdyYWRlPXJ9dmFyIEM7Qz1PYmplY3QuX19wcm90b19ffHx2P2Z1bmN0aW9uKGEsYil7cmV0dXJuIGEgaW5zdGFuY2VvZiBifTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1hO2M7KXtpZihjPT09Yi5wcm90b3R5cGUpcmV0dXJuITA7Yz1jLl9fcHJvdG9fX31yZXR1cm4hMX0sYS5pbnN0YW5jZW9mPUMsZG9jdW1lbnQucmVnaXN0ZXI9ZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50LGEuaGFzTmF0aXZlPXUsYS51c2VOYXRpdmU9dn0od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiJsaW5rIj09PWEubG9jYWxOYW1lJiZhLmdldEF0dHJpYnV0ZSgicmVsIik9PT1jfXZhciBjPWEuSU1QT1JUX0xJTktfVFlQRSxkPXtzZWxlY3RvcnM6WyJsaW5rW3JlbD0iK2MrIl0iXSxtYXA6e2xpbms6InBhcnNlTGluayJ9LHBhcnNlOmZ1bmN0aW9uKGEpe2lmKCFhLl9fcGFyc2VkKXthLl9fcGFyc2VkPSEwO3ZhciBiPWEucXVlcnlTZWxlY3RvckFsbChkLnNlbGVjdG9ycyk7ZShiLGZ1bmN0aW9uKGEpe2RbZC5tYXBbYS5sb2NhbE5hbWVdXShhKX0pLEN1c3RvbUVsZW1lbnRzLnVwZ3JhZGVEb2N1bWVudChhKSxDdXN0b21FbGVtZW50cy5vYnNlcnZlRG9jdW1lbnQoYSl9fSxwYXJzZUxpbms6ZnVuY3Rpb24oYSl7YihhKSYmdGhpcy5wYXJzZUltcG9ydChhKX0scGFyc2VJbXBvcnQ6ZnVuY3Rpb24oYSl7YS5pbXBvcnQmJmQucGFyc2UoYS5pbXBvcnQpfX0sZT1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpO2EucGFyc2VyPWQsYS5JTVBPUlRfTElOS19UWVBFPWN9KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe0N1c3RvbUVsZW1lbnRzLnBhcnNlci5wYXJzZShkb2N1bWVudCksQ3VzdG9tRWxlbWVudHMudXBncmFkZURvY3VtZW50KGRvY3VtZW50KTt2YXIgYT13aW5kb3cuUGxhdGZvcm0mJlBsYXRmb3JtLmVuZE9mTWljcm90YXNrP1BsYXRmb3JtLmVuZE9mTWljcm90YXNrOnNldFRpbWVvdXQ7YShmdW5jdGlvbigpe0N1c3RvbUVsZW1lbnRzLnJlYWR5PSEwLEN1c3RvbUVsZW1lbnRzLnJlYWR5VGltZT1EYXRlLm5vdygpLHdpbmRvdy5IVE1MSW1wb3J0cyYmKEN1c3RvbUVsZW1lbnRzLmVsYXBzZWQ9Q3VzdG9tRWxlbWVudHMucmVhZHlUaW1lLUhUTUxJbXBvcnRzLnJlYWR5VGltZSksZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoIldlYkNvbXBvbmVudHNSZWFkeSIse2J1YmJsZXM6ITB9KSksd2luZG93LkhUTUxJbXBvcnRzJiYoSFRNTEltcG9ydHMuX19pbXBvcnRzUGFyc2luZ0hvb2s9ZnVuY3Rpb24oYSl7Q3VzdG9tRWxlbWVudHMucGFyc2VyLnBhcnNlKGEuaW1wb3J0KX0pfSl9aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHdpbmRvdy5DdXN0b21FdmVudCYmKHdpbmRvdy5DdXN0b21FdmVudD1mdW5jdGlvbihhKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFdmVudCgiSFRNTEV2ZW50cyIpO3JldHVybiBiLmluaXRFdmVudChhLCEwLCEwKSxifSksImNvbXBsZXRlIj09PWRvY3VtZW50LnJlYWR5U3RhdGV8fGEuZmxhZ3MuZWFnZXIpYigpO2Vsc2UgaWYoImludGVyYWN0aXZlIiE9PWRvY3VtZW50LnJlYWR5U3RhdGV8fHdpbmRvdy5hdHRhY2hFdmVudHx8d2luZG93LkhUTUxJbXBvcnRzJiYhd2luZG93LkhUTUxJbXBvcnRzLnJlYWR5KXt2YXIgYz13aW5kb3cuSFRNTEltcG9ydHMmJiFIVE1MSW1wb3J0cy5yZWFkeT8iSFRNTEltcG9ydHNMb2FkZWQiOiJET01Db250ZW50TG9hZGVkIjt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihjLGIpfWVsc2UgYigpfSh3aW5kb3cuQ3VzdG9tRWxlbWVudHMpLGZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTthLnRleHRDb250ZW50PSJlbGVtZW50IHtkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7fSAvKiBpbmplY3RlZCBieSBwbGF0Zm9ybS5qcyAqLyI7dmFyIGI9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaGVhZCIpO2lmKGIuaW5zZXJ0QmVmb3JlKGEsYi5maXJzdENoaWxkKSx3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpe3ZhciBjPVsidXBncmFkZUFsbCIsInVwZ3JhZGVTdWJ0cmVlIiwib2JzZXJ2ZURvY3VtZW50IiwidXBncmFkZURvY3VtZW50Il0sZD17fTtjLmZvckVhY2goZnVuY3Rpb24oYSl7ZFthXT1DdXN0b21FbGVtZW50c1thXX0pLGMuZm9yRWFjaChmdW5jdGlvbihhKXtDdXN0b21FbGVtZW50c1thXT1mdW5jdGlvbihiKXtyZXR1cm4gZFthXSh3cmFwKGIpKX19KX19KCksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXt0aGlzLnJlZ2V4PWF9dmFyIGM9YS5lbmRPZk1pY3JvdGFzaztiLnByb3RvdHlwZT17ZXh0cmFjdFVybHM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZCxlPVtdO2M9dGhpcy5yZWdleC5leGVjKGEpOylkPW5ldyBVUkwoY1sxXSxiKSxlLnB1c2goe21hdGNoZWQ6Y1swXSx1cmw6ZC5ocmVmfSk7cmV0dXJuIGV9LHByb2Nlc3M6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZXh0cmFjdFVybHMoYSxiKTt0aGlzLmZldGNoKGQse30sYyl9LGZldGNoOmZ1bmN0aW9uKGEsYixkKXt2YXIgZT1hLmxlbmd0aDtpZighZSlyZXR1cm4gZChiKTtmb3IodmFyIGYsZyxoLGk9ZnVuY3Rpb24oKXswPT09LS1lJiZkKGIpfSxqPWZ1bmN0aW9uKGEsYyl7dmFyIGQ9Yy5tYXRjaCxlPWQudXJsO2lmKGEpcmV0dXJuIGJbZV09IiIsaSgpO3ZhciBmPWMucmVzcG9uc2V8fGMucmVzcG9uc2VUZXh0O2JbZV09Zix0aGlzLmZldGNoKHRoaXMuZXh0cmFjdFVybHMoZixlKSxiLGkpfSxrPTA7ZT5rO2srKylmPWFba10saD1mLnVybCxiW2hdP2MoaSk6KGc9dGhpcy54aHIoaCxqLHRoaXMpLGcubWF0Y2g9ZixiW2hdPWcpfSx4aHI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4gZC5vcGVuKCJHRVQiLGEsITApLGQuc2VuZCgpLGQub25sb2FkPWZ1bmN0aW9uKCl7Yi5jYWxsKGMsbnVsbCxkKX0sZC5vbmVycm9yPWZ1bmN0aW9uKCl7Yi5jYWxsKGMsbnVsbCxkKX0sZH19LGEuTG9hZGVyPWJ9KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3RoaXMubG9hZGVyPW5ldyBkKHRoaXMucmVnZXgpfXZhciBjPWEudXJsUmVzb2x2ZXIsZD1hLkxvYWRlcjtiLnByb3RvdHlwZT17cmVnZXg6L0BpbXBvcnRccysoPzp1cmwpP1siJ1woXSooW14nIlwpXSopWyciXCldKjsvZyxyZXNvbHZlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihkKXtjKHRoaXMuZmxhdHRlbihhLGIsZCkpfS5iaW5kKHRoaXMpO3RoaXMubG9hZGVyLnByb2Nlc3MoYSxiLGQpfSxyZXNvbHZlTm9kZTpmdW5jdGlvbihhLGIpe3ZhciBjPWEudGV4dENvbnRlbnQsZD1hLm93bmVyRG9jdW1lbnQuYmFzZVVSSSxlPWZ1bmN0aW9uKGMpe2EudGV4dENvbnRlbnQ9YyxiKGEpfTt0aGlzLnJlc29sdmUoYyxkLGUpfSxmbGF0dGVuOmZ1bmN0aW9uKGEsYixkKXtmb3IodmFyIGUsZixnLGg9dGhpcy5sb2FkZXIuZXh0cmFjdFVybHMoYSxiKSxpPTA7aTxoLmxlbmd0aDtpKyspZT1oW2ldLGY9ZS51cmwsZz1jLnJlc29sdmVDc3NUZXh0KGRbZl0sZiksZz10aGlzLmZsYXR0ZW4oZyxmLGQpLGE9YS5yZXBsYWNlKGUubWF0Y2hlZCxnKTtyZXR1cm4gYX0sbG9hZFN0eWxlczpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXtlKyssZT09PWYmJmImJmIoKX1mb3IodmFyIGQsZT0wLGY9YS5sZW5ndGgsZz0wO2Y+ZyYmKGQ9YVtnXSk7ZysrKXRoaXMucmVzb2x2ZU5vZGUoZCxjKX19O3ZhciBlPW5ldyBiO2Euc3R5bGVSZXNvbHZlcj1lfSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2E9YXx8e30sYS5leHRlcm5hbD1hLmV4dGVybmFsfHx7fTt2YXIgYj17c2hhZG93OmZ1bmN0aW9uKGEpe3JldHVybiBhP2Euc2hhZG93Um9vdHx8YS53ZWJraXRTaGFkb3dSb290OnZvaWQgMH0sY2FuVGFyZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhJiZCb29sZWFuKGEuZWxlbWVudEZyb21Qb2ludCl9LHRhcmdldGluZ1NoYWRvdzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnNoYWRvdyhhKTtyZXR1cm4gdGhpcy5jYW5UYXJnZXQoYik/Yjp2b2lkIDB9LG9sZGVyU2hhZG93OmZ1bmN0aW9uKGEpe3ZhciBiPWEub2xkZXJTaGFkb3dSb290O2lmKCFiKXt2YXIgYz1hLnF1ZXJ5U2VsZWN0b3IoInNoYWRvdyIpO2MmJihiPWMub2xkZXJTaGFkb3dSb290KX1yZXR1cm4gYn0sYWxsU2hhZG93czpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz10aGlzLnNoYWRvdyhhKTtjOyliLnB1c2goYyksYz10aGlzLm9sZGVyU2hhZG93KGMpO3JldHVybiBifSxzZWFyY2hSb290OmZ1bmN0aW9uKGEsYixjKXtpZihhKXt2YXIgZCxlLGY9YS5lbGVtZW50RnJvbVBvaW50KGIsYyk7Zm9yKGU9dGhpcy50YXJnZXRpbmdTaGFkb3coZik7ZTspe2lmKGQ9ZS5lbGVtZW50RnJvbVBvaW50KGIsYykpe3ZhciBnPXRoaXMudGFyZ2V0aW5nU2hhZG93KGQpO3JldHVybiB0aGlzLnNlYXJjaFJvb3QoZyxiLGMpfHxkfWU9dGhpcy5vbGRlclNoYWRvdyhlKX1yZXR1cm4gZn19LG93bmVyOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hO2IucGFyZW50Tm9kZTspYj1iLnBhcmVudE5vZGU7cmV0dXJuIGIubm9kZVR5cGUhPU5vZGUuRE9DVU1FTlRfTk9ERSYmYi5ub2RlVHlwZSE9Tm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFJiYoYj1kb2N1bWVudCksYn0sZmluZFRhcmdldDpmdW5jdGlvbihhKXt2YXIgYj1hLmNsaWVudFgsYz1hLmNsaWVudFksZD10aGlzLm93bmVyKGEudGFyZ2V0KTtyZXR1cm4gZC5lbGVtZW50RnJvbVBvaW50KGIsYyl8fChkPWRvY3VtZW50KSx0aGlzLnNlYXJjaFJvb3QoZCxiLGMpfX07YS50YXJnZXRGaW5kaW5nPWIsYS5maW5kVGFyZ2V0PWIuZmluZFRhcmdldC5iaW5kKGIpLHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGw9YX0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybiJib2R5IF5eICIrYihhKX1mdW5jdGlvbiBiKGEpe3JldHVybidbdG91Y2gtYWN0aW9uPSInK2ErJyJdJ31mdW5jdGlvbiBjKGEpe3JldHVybiJ7IC1tcy10b3VjaC1hY3Rpb246ICIrYSsiOyB0b3VjaC1hY3Rpb246ICIrYSsiOyB0b3VjaC1hY3Rpb24tZGVsYXk6IG5vbmU7IH0ifXZhciBkPVsibm9uZSIsImF1dG8iLCJwYW4teCIsInBhbi15Iix7cnVsZToicGFuLXggcGFuLXkiLHNlbGVjdG9yczpbInBhbi14IHBhbi15IiwicGFuLXkgcGFuLXgiXX1dLGU9IiI7ZC5mb3JFYWNoKGZ1bmN0aW9uKGQpe1N0cmluZyhkKT09PWQ/KGUrPWIoZCkrYyhkKSsiXG4iLGUrPWEoZCkrYyhkKSsiXG4iKTooZSs9ZC5zZWxlY3RvcnMubWFwKGIpK2MoZC5ydWxlKSsiXG4iLGUrPWQuc2VsZWN0b3JzLm1hcChhKStjKGQucnVsZSkrIlxuIil9KTt2YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2YudGV4dENvbnRlbnQ9ZSxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGYpfSgpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxlKXtlPWV8fHt9O3ZhciBmO2lmKGUuYnV0dG9uc3x8ZClmPWUuYnV0dG9ucztlbHNlIHN3aXRjaChlLndoaWNoKXtjYXNlIDE6Zj0xO2JyZWFrO2Nhc2UgMjpmPTQ7YnJlYWs7Y2FzZSAzOmY9MjticmVhaztkZWZhdWx0OmY9MH12YXIgaTtpZihjKWk9bmV3IE1vdXNlRXZlbnQoYSxlKTtlbHNle2k9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIk1vdXNlRXZlbnQiKTtmb3IodmFyIGosaz17fSxsPTA7bDxnLmxlbmd0aDtsKyspaj1nW2xdLGtbal09ZVtqXXx8aFtsXTtpLmluaXRNb3VzZUV2ZW50KGEsay5idWJibGVzLGsuY2FuY2VsYWJsZSxrLnZpZXcsay5kZXRhaWwsay5zY3JlZW5YLGsuc2NyZWVuWSxrLmNsaWVudFgsay5jbGllbnRZLGsuY3RybEtleSxrLmFsdEtleSxrLnNoaWZ0S2V5LGsubWV0YUtleSxrLmJ1dHRvbixrLnJlbGF0ZWRUYXJnZXQpfWkuX19wcm90b19fPWIucHJvdG90eXBlLGR8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJidXR0b25zIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZ9LGVudW1lcmFibGU6ITB9KTt2YXIgbT0wO3JldHVybiBtPWUucHJlc3N1cmU/ZS5wcmVzc3VyZTpmPy41OjAsT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaSx7cG9pbnRlcklkOnt2YWx1ZTplLnBvaW50ZXJJZHx8MCxlbnVtZXJhYmxlOiEwfSx3aWR0aDp7dmFsdWU6ZS53aWR0aHx8MCxlbnVtZXJhYmxlOiEwfSxoZWlnaHQ6e3ZhbHVlOmUuaGVpZ2h0fHwwLGVudW1lcmFibGU6ITB9LHByZXNzdXJlOnt2YWx1ZTptLGVudW1lcmFibGU6ITB9LHRpbHRYOnt2YWx1ZTplLnRpbHRYfHwwLGVudW1lcmFibGU6ITB9LHRpbHRZOnt2YWx1ZTplLnRpbHRZfHwwLGVudW1lcmFibGU6ITB9LHBvaW50ZXJUeXBlOnt2YWx1ZTplLnBvaW50ZXJUeXBlfHwiIixlbnVtZXJhYmxlOiEwfSxod1RpbWVzdGFtcDp7dmFsdWU6ZS5od1RpbWVzdGFtcHx8MCxlbnVtZXJhYmxlOiEwfSxpc1ByaW1hcnk6e3ZhbHVlOmUuaXNQcmltYXJ5fHwhMSxlbnVtZXJhYmxlOiEwfX0pLGl9dmFyIGM9ITEsZD0hMTt0cnl7dmFyIGU9bmV3IE1vdXNlRXZlbnQoImNsaWNrIix7YnV0dG9uczoxfSk7Yz0hMCxkPTE9PT1lLmJ1dHRvbnN9Y2F0Y2goZil7fXZhciBnPVsiYnViYmxlcyIsImNhbmNlbGFibGUiLCJ2aWV3IiwiZGV0YWlsIiwic2NyZWVuWCIsInNjcmVlblkiLCJjbGllbnRYIiwiY2xpZW50WSIsImN0cmxLZXkiLCJhbHRLZXkiLCJzaGlmdEtleSIsIm1ldGFLZXkiLCJidXR0b24iLCJyZWxhdGVkVGFyZ2V0Il0saD1bITEsITEsbnVsbCxudWxsLDAsMCwwLDAsITEsITEsITEsITEsMCxudWxsXTtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKE1vdXNlRXZlbnQucHJvdG90eXBlKSxhLlBvaW50ZXJFdmVudHx8KGEuUG9pbnRlckV2ZW50PWIpfSh3aW5kb3cpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtpZihjKXt2YXIgYT1uZXcgTWFwO3JldHVybiBhLnBvaW50ZXJzPWQsYX10aGlzLmtleXM9W10sdGhpcy52YWx1ZXM9W119dmFyIGM9d2luZG93Lk1hcCYmd2luZG93Lk1hcC5wcm90b3R5cGUuZm9yRWFjaCxkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2l6ZX07Yi5wcm90b3R5cGU9e3NldDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMua2V5cy5pbmRleE9mKGEpO2M+LTE/dGhpcy52YWx1ZXNbY109YjoodGhpcy5rZXlzLnB1c2goYSksdGhpcy52YWx1ZXMucHVzaChiKSl9LGhhczpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5rZXlzLmluZGV4T2YoYSk+LTF9LCJkZWxldGUiOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMua2V5cy5pbmRleE9mKGEpO2I+LTEmJih0aGlzLmtleXMuc3BsaWNlKGIsMSksdGhpcy52YWx1ZXMuc3BsaWNlKGIsMSkpfSxnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5rZXlzLmluZGV4T2YoYSk7cmV0dXJuIHRoaXMudmFsdWVzW2JdfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMua2V5cy5sZW5ndGg9MCx0aGlzLnZhbHVlcy5sZW5ndGg9MH0sZm9yRWFjaDpmdW5jdGlvbihhLGIpe3RoaXMudmFsdWVzLmZvckVhY2goZnVuY3Rpb24oYyxkKXthLmNhbGwoYixjLHRoaXMua2V5c1tkXSx0aGlzKX0sdGhpcyl9LHBvaW50ZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMua2V5cy5sZW5ndGh9fSxhLlBvaW50ZXJNYXA9Yn0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oYSl7dmFyIGI9WyJidWJibGVzIiwiY2FuY2VsYWJsZSIsInZpZXciLCJkZXRhaWwiLCJzY3JlZW5YIiwic2NyZWVuWSIsImNsaWVudFgiLCJjbGllbnRZIiwiY3RybEtleSIsImFsdEtleSIsInNoaWZ0S2V5IiwibWV0YUtleSIsImJ1dHRvbiIsInJlbGF0ZWRUYXJnZXQiLCJidXR0b25zIiwicG9pbnRlcklkIiwid2lkdGgiLCJoZWlnaHQiLCJwcmVzc3VyZSIsInRpbHRYIiwidGlsdFkiLCJwb2ludGVyVHlwZSIsImh3VGltZXN0YW1wIiwiaXNQcmltYXJ5IiwidHlwZSIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJ3aGljaCJdLGM9WyExLCExLG51bGwsbnVsbCwwLDAsMCwwLCExLCExLCExLCExLDAsbnVsbCwwLDAsMCwwLDAsMCwwLCIiLDAsITEsIiIsbnVsbCxudWxsLDBdLGQ9InVuZGVmaW5lZCIhPXR5cGVvZiBTVkdFbGVtZW50SW5zdGFuY2UsZT17dGFyZ2V0czpuZXcgV2Vha01hcCxoYW5kbGVkRXZlbnRzOm5ldyBXZWFrTWFwLHBvaW50ZXJtYXA6bmV3IGEuUG9pbnRlck1hcCxldmVudE1hcDp7fSxldmVudFNvdXJjZXM6e30sZXZlbnRTb3VyY2VMaXN0OltdLHJlZ2lzdGVyU291cmNlOmZ1bmN0aW9uKGEsYil7dmFyIGM9YixkPWMuZXZlbnRzO2QmJihkLmZvckVhY2goZnVuY3Rpb24oYSl7Y1thXSYmKHRoaXMuZXZlbnRNYXBbYV09Y1thXS5iaW5kKGMpKX0sdGhpcyksdGhpcy5ldmVudFNvdXJjZXNbYV09Yyx0aGlzLmV2ZW50U291cmNlTGlzdC5wdXNoKGMpKX0scmVnaXN0ZXI6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9dGhpcy5ldmVudFNvdXJjZUxpc3QubGVuZ3RoLGQ9MDtjPmQmJihiPXRoaXMuZXZlbnRTb3VyY2VMaXN0W2RdKTtkKyspYi5yZWdpc3Rlci5jYWxsKGIsYSl9LHVucmVnaXN0ZXI6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9dGhpcy5ldmVudFNvdXJjZUxpc3QubGVuZ3RoLGQ9MDtjPmQmJihiPXRoaXMuZXZlbnRTb3VyY2VMaXN0W2RdKTtkKyspYi51bnJlZ2lzdGVyLmNhbGwoYixhKX0sY29udGFpbnM6YS5leHRlcm5hbC5jb250YWluc3x8ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb250YWlucyhiKX0sZG93bjpmdW5jdGlvbihhKXthLmJ1YmJsZXM9ITAsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJkb3duIixhKX0sbW92ZTpmdW5jdGlvbihhKXthLmJ1YmJsZXM9ITAsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJtb3ZlIixhKX0sdXA6ZnVuY3Rpb24oYSl7YS5idWJibGVzPSEwLHRoaXMuZmlyZUV2ZW50KCJwb2ludGVydXAiLGEpfSxlbnRlcjpmdW5jdGlvbihhKXthLmJ1YmJsZXM9ITEsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJlbnRlciIsYSl9LGxlYXZlOmZ1bmN0aW9uKGEpe2EuYnViYmxlcz0hMSx0aGlzLmZpcmVFdmVudCgicG9pbnRlcmxlYXZlIixhKX0sb3ZlcjpmdW5jdGlvbihhKXthLmJ1YmJsZXM9ITAsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJvdmVyIixhKX0sb3V0OmZ1bmN0aW9uKGEpe2EuYnViYmxlcz0hMCx0aGlzLmZpcmVFdmVudCgicG9pbnRlcm91dCIsYSl9LGNhbmNlbDpmdW5jdGlvbihhKXthLmJ1YmJsZXM9ITAsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJjYW5jZWwiLGEpfSxsZWF2ZU91dDpmdW5jdGlvbihhKXt0aGlzLm91dChhKSx0aGlzLmNvbnRhaW5zKGEudGFyZ2V0LGEucmVsYXRlZFRhcmdldCl8fHRoaXMubGVhdmUoYSl9LGVudGVyT3ZlcjpmdW5jdGlvbihhKXt0aGlzLm92ZXIoYSksdGhpcy5jb250YWlucyhhLnRhcmdldCxhLnJlbGF0ZWRUYXJnZXQpfHx0aGlzLmVudGVyKGEpfSxldmVudEhhbmRsZXI6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaGFuZGxlZEV2ZW50cy5nZXQoYSkpe3ZhciBiPWEudHlwZSxjPXRoaXMuZXZlbnRNYXAmJnRoaXMuZXZlbnRNYXBbYl07YyYmYyhhKSx0aGlzLmhhbmRsZWRFdmVudHMuc2V0KGEsITApfX0sbGlzdGVuOmZ1bmN0aW9uKGEsYil7Yi5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMuYWRkRXZlbnQoYSxiKX0sdGhpcyl9LHVubGlzdGVuOmZ1bmN0aW9uKGEsYil7Yi5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMucmVtb3ZlRXZlbnQoYSxiKX0sdGhpcyl9LGFkZEV2ZW50OmEuZXh0ZXJuYWwuYWRkRXZlbnR8fGZ1bmN0aW9uKGEsYil7YS5hZGRFdmVudExpc3RlbmVyKGIsdGhpcy5ib3VuZEhhbmRsZXIpfSxyZW1vdmVFdmVudDphLmV4dGVybmFsLnJlbW92ZUV2ZW50fHxmdW5jdGlvbihhLGIpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLHRoaXMuYm91bmRIYW5kbGVyKQp9LG1ha2VFdmVudDpmdW5jdGlvbihhLGIpe3RoaXMuY2FwdHVyZUluZm8mJihiLnJlbGF0ZWRUYXJnZXQ9bnVsbCk7dmFyIGM9bmV3IFBvaW50ZXJFdmVudChhLGIpO3JldHVybiBiLnByZXZlbnREZWZhdWx0JiYoYy5wcmV2ZW50RGVmYXVsdD1iLnByZXZlbnREZWZhdWx0KSx0aGlzLnRhcmdldHMuc2V0KGMsdGhpcy50YXJnZXRzLmdldChiKXx8Yi50YXJnZXQpLGN9LGZpcmVFdmVudDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMubWFrZUV2ZW50KGEsYik7cmV0dXJuIHRoaXMuZGlzcGF0Y2hFdmVudChjKX0sY2xvbmVFdmVudDpmdW5jdGlvbihhKXtmb3IodmFyIGUsZj17fSxnPTA7ZzxiLmxlbmd0aDtnKyspZT1iW2ddLGZbZV09YVtlXXx8Y1tnXSwhZHx8InRhcmdldCIhPT1lJiYicmVsYXRlZFRhcmdldCIhPT1lfHxmW2VdaW5zdGFuY2VvZiBTVkdFbGVtZW50SW5zdGFuY2UmJihmW2VdPWZbZV0uY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQpO3JldHVybiBhLnByZXZlbnREZWZhdWx0JiYoZi5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe2EucHJldmVudERlZmF1bHQoKX0pLGZ9LGdldFRhcmdldDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jYXB0dXJlSW5mbyYmdGhpcy5jYXB0dXJlSW5mby5pZD09PWEucG9pbnRlcklkP3RoaXMuY2FwdHVyZUluZm8udGFyZ2V0OnRoaXMudGFyZ2V0cy5nZXQoYSl9LHNldENhcHR1cmU6ZnVuY3Rpb24oYSxiKXt0aGlzLmNhcHR1cmVJbmZvJiZ0aGlzLnJlbGVhc2VDYXB0dXJlKHRoaXMuY2FwdHVyZUluZm8uaWQpLHRoaXMuY2FwdHVyZUluZm89e2lkOmEsdGFyZ2V0OmJ9O3ZhciBjPW5ldyBQb2ludGVyRXZlbnQoImdvdHBvaW50ZXJjYXB0dXJlIix7YnViYmxlczohMH0pO3RoaXMuaW1wbGljaXRSZWxlYXNlPXRoaXMucmVsZWFzZUNhcHR1cmUuYmluZCh0aGlzLGEpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInBvaW50ZXJ1cCIsdGhpcy5pbXBsaWNpdFJlbGVhc2UpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInBvaW50ZXJjYW5jZWwiLHRoaXMuaW1wbGljaXRSZWxlYXNlKSx0aGlzLnRhcmdldHMuc2V0KGMsYiksdGhpcy5hc3luY0Rpc3BhdGNoRXZlbnQoYyl9LHJlbGVhc2VDYXB0dXJlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuY2FwdHVyZUluZm8mJnRoaXMuY2FwdHVyZUluZm8uaWQ9PT1hKXt2YXIgYj1uZXcgUG9pbnRlckV2ZW50KCJsb3N0cG9pbnRlcmNhcHR1cmUiLHtidWJibGVzOiEwfSksYz10aGlzLmNhcHR1cmVJbmZvLnRhcmdldDt0aGlzLmNhcHR1cmVJbmZvPW51bGwsZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9pbnRlcnVwIix0aGlzLmltcGxpY2l0UmVsZWFzZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9pbnRlcmNhbmNlbCIsdGhpcy5pbXBsaWNpdFJlbGVhc2UpLHRoaXMudGFyZ2V0cy5zZXQoYixjKSx0aGlzLmFzeW5jRGlzcGF0Y2hFdmVudChiKX19LGRpc3BhdGNoRXZlbnQ6YS5leHRlcm5hbC5kaXNwYXRjaEV2ZW50fHxmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFRhcmdldChhKTtyZXR1cm4gYj9iLmRpc3BhdGNoRXZlbnQoYSk6dm9pZCAwfSxhc3luY0Rpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24oYSl7c2V0VGltZW91dCh0aGlzLmRpc3BhdGNoRXZlbnQuYmluZCh0aGlzLGEpLDApfX07ZS5ib3VuZEhhbmRsZXI9ZS5ldmVudEhhbmRsZXIuYmluZChlKSxhLmRpc3BhdGNoZXI9ZSxhLnJlZ2lzdGVyPWUucmVnaXN0ZXIuYmluZChlKSxhLnVucmVnaXN0ZXI9ZS51bnJlZ2lzdGVyLmJpbmQoZSl9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiLGMsZCl7dGhpcy5hZGRDYWxsYmFjaz1hLmJpbmQoZCksdGhpcy5yZW1vdmVDYWxsYmFjaz1iLmJpbmQoZCksdGhpcy5jaGFuZ2VkQ2FsbGJhY2s9Yy5iaW5kKGQpLGcmJih0aGlzLm9ic2VydmVyPW5ldyBnKHRoaXMubXV0YXRpb25XYXRjaGVyLmJpbmQodGhpcykpKX12YXIgYz1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpLGQ9QXJyYXkucHJvdG90eXBlLm1hcC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLm1hcCksZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5zbGljZSksZj1BcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZmlsdGVyKSxnPXdpbmRvdy5NdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlcixoPSJbdG91Y2gtYWN0aW9uXSIsaT17c3VidHJlZTohMCxjaGlsZExpc3Q6ITAsYXR0cmlidXRlczohMCxhdHRyaWJ1dGVPbGRWYWx1ZTohMCxhdHRyaWJ1dGVGaWx0ZXI6WyJ0b3VjaC1hY3Rpb24iXX07Yi5wcm90b3R5cGU9e3dhdGNoU3VidHJlZTpmdW5jdGlvbihiKXthLnRhcmdldEZpbmRpbmcuY2FuVGFyZ2V0KGIpJiZ0aGlzLm9ic2VydmVyLm9ic2VydmUoYixpKX0sZW5hYmxlT25TdWJ0cmVlOmZ1bmN0aW9uKGEpe3RoaXMud2F0Y2hTdWJ0cmVlKGEpLGE9PT1kb2N1bWVudCYmImNvbXBsZXRlIiE9PWRvY3VtZW50LnJlYWR5U3RhdGU/dGhpcy5pbnN0YWxsT25Mb2FkKCk6dGhpcy5pbnN0YWxsTmV3U3VidHJlZShhKX0saW5zdGFsbE5ld1N1YnRyZWU6ZnVuY3Rpb24oYSl7Yyh0aGlzLmZpbmRFbGVtZW50cyhhKSx0aGlzLmFkZEVsZW1lbnQsdGhpcyl9LGZpbmRFbGVtZW50czpmdW5jdGlvbihhKXtyZXR1cm4gYS5xdWVyeVNlbGVjdG9yQWxsP2EucXVlcnlTZWxlY3RvckFsbChoKTpbXX0scmVtb3ZlRWxlbWVudDpmdW5jdGlvbihhKXt0aGlzLnJlbW92ZUNhbGxiYWNrKGEpfSxhZGRFbGVtZW50OmZ1bmN0aW9uKGEpe3RoaXMuYWRkQ2FsbGJhY2soYSl9LGVsZW1lbnRDaGFuZ2VkOmZ1bmN0aW9uKGEsYil7dGhpcy5jaGFuZ2VkQ2FsbGJhY2soYSxiKX0sY29uY2F0TGlzdHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoZShiKSl9LGluc3RhbGxPbkxvYWQ6ZnVuY3Rpb24oKXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIix0aGlzLmluc3RhbGxOZXdTdWJ0cmVlLmJpbmQodGhpcyxkb2N1bWVudCkpfSxpc0VsZW1lbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERX0sZmxhdHRlbk11dGF0aW9uVHJlZTpmdW5jdGlvbihhKXt2YXIgYj1kKGEsdGhpcy5maW5kRWxlbWVudHMsdGhpcyk7cmV0dXJuIGIucHVzaChmKGEsdGhpcy5pc0VsZW1lbnQpKSxiLnJlZHVjZSh0aGlzLmNvbmNhdExpc3RzLFtdKX0sbXV0YXRpb25XYXRjaGVyOmZ1bmN0aW9uKGEpe2EuZm9yRWFjaCh0aGlzLm11dGF0aW9uSGFuZGxlcix0aGlzKX0sbXV0YXRpb25IYW5kbGVyOmZ1bmN0aW9uKGEpe2lmKCJjaGlsZExpc3QiPT09YS50eXBlKXt2YXIgYj10aGlzLmZsYXR0ZW5NdXRhdGlvblRyZWUoYS5hZGRlZE5vZGVzKTtiLmZvckVhY2godGhpcy5hZGRFbGVtZW50LHRoaXMpO3ZhciBjPXRoaXMuZmxhdHRlbk11dGF0aW9uVHJlZShhLnJlbW92ZWROb2Rlcyk7Yy5mb3JFYWNoKHRoaXMucmVtb3ZlRWxlbWVudCx0aGlzKX1lbHNlImF0dHJpYnV0ZXMiPT09YS50eXBlJiZ0aGlzLmVsZW1lbnRDaGFuZ2VkKGEudGFyZ2V0LGEub2xkVmFsdWUpfX0sZ3x8KGIucHJvdG90eXBlLndhdGNoU3VidHJlZT1mdW5jdGlvbigpe2NvbnNvbGUud2FybigiUG9pbnRlckV2ZW50c1BvbHlmaWxsOiBNdXRhdGlvbk9ic2VydmVycyBub3QgZm91bmQsIHRvdWNoLWFjdGlvbiB3aWxsIG5vdCBiZSBkeW5hbWljYWxseSBkZXRlY3RlZCIpfSksYS5JbnN0YWxsZXI9Yn0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oYSl7dmFyIGI9YS5kaXNwYXRjaGVyLGM9Yi5wb2ludGVybWFwLGQ9MjUsZT17UE9JTlRFUl9JRDoxLFBPSU5URVJfVFlQRToibW91c2UiLGV2ZW50czpbIm1vdXNlZG93biIsIm1vdXNlbW92ZSIsIm1vdXNldXAiLCJtb3VzZW92ZXIiLCJtb3VzZW91dCJdLHJlZ2lzdGVyOmZ1bmN0aW9uKGEpe2IubGlzdGVuKGEsdGhpcy5ldmVudHMpfSx1bnJlZ2lzdGVyOmZ1bmN0aW9uKGEpe2IudW5saXN0ZW4oYSx0aGlzLmV2ZW50cyl9LGxhc3RUb3VjaGVzOltdLGlzRXZlbnRTaW11bGF0ZWRGcm9tVG91Y2g6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9dGhpcy5sYXN0VG91Y2hlcyxlPWEuY2xpZW50WCxmPWEuY2xpZW50WSxnPTAsaD1jLmxlbmd0aDtoPmcmJihiPWNbZ10pO2crKyl7dmFyIGk9TWF0aC5hYnMoZS1iLngpLGo9TWF0aC5hYnMoZi1iLnkpO2lmKGQ+PWkmJmQ+PWopcmV0dXJuITB9fSxwcmVwYXJlRXZlbnQ6ZnVuY3Rpb24oYSl7dmFyIGM9Yi5jbG9uZUV2ZW50KGEpLGQ9Yy5wcmV2ZW50RGVmYXVsdDtyZXR1cm4gYy5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe2EucHJldmVudERlZmF1bHQoKSxkKCl9LGMucG9pbnRlcklkPXRoaXMuUE9JTlRFUl9JRCxjLmlzUHJpbWFyeT0hMCxjLnBvaW50ZXJUeXBlPXRoaXMuUE9JTlRFUl9UWVBFLGN9LG1vdXNlZG93bjpmdW5jdGlvbihhKXtpZighdGhpcy5pc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoKGEpKXt2YXIgZD1jLmhhcyh0aGlzLlBPSU5URVJfSUQpO2QmJnRoaXMuY2FuY2VsKGEpO3ZhciBlPXRoaXMucHJlcGFyZUV2ZW50KGEpO2Muc2V0KHRoaXMuUE9JTlRFUl9JRCxhKSxiLmRvd24oZSl9fSxtb3VzZW1vdmU6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaChhKSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5tb3ZlKGMpfX0sbW91c2V1cDpmdW5jdGlvbihhKXtpZighdGhpcy5pc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoKGEpKXt2YXIgZD1jLmdldCh0aGlzLlBPSU5URVJfSUQpO2lmKGQmJmQuYnV0dG9uPT09YS5idXR0b24pe3ZhciBlPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IudXAoZSksdGhpcy5jbGVhbnVwTW91c2UoKX19fSxtb3VzZW92ZXI6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaChhKSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5lbnRlck92ZXIoYyl9fSxtb3VzZW91dDpmdW5jdGlvbihhKXtpZighdGhpcy5pc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoKGEpKXt2YXIgYz10aGlzLnByZXBhcmVFdmVudChhKTtiLmxlYXZlT3V0KGMpfX0sY2FuY2VsOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IuY2FuY2VsKGMpLHRoaXMuY2xlYW51cE1vdXNlKCl9LGNsZWFudXBNb3VzZTpmdW5jdGlvbigpe2NbImRlbGV0ZSJdKHRoaXMuUE9JTlRFUl9JRCl9fTthLm1vdXNlRXZlbnRzPWV9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLGZ1bmN0aW9uKGEpe3ZhciBiLGM9YS5kaXNwYXRjaGVyLGQ9YS5maW5kVGFyZ2V0LGU9YS50YXJnZXRGaW5kaW5nLmFsbFNoYWRvd3MuYmluZChhLnRhcmdldEZpbmRpbmcpLGY9Yy5wb2ludGVybWFwLGc9QXJyYXkucHJvdG90eXBlLm1hcC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLm1hcCksaD0yNTAwLGk9MjAwLGo9InRvdWNoLWFjdGlvbiIsaz0hMSxsPXtzY3JvbGxUeXBlOm5ldyBXZWFrTWFwLGV2ZW50czpbInRvdWNoc3RhcnQiLCJ0b3VjaG1vdmUiLCJ0b3VjaGVuZCIsInRvdWNoY2FuY2VsIl0scmVnaXN0ZXI6ZnVuY3Rpb24oYSl7az9jLmxpc3RlbihhLHRoaXMuZXZlbnRzKTpiLmVuYWJsZU9uU3VidHJlZShhKX0sdW5yZWdpc3RlcjpmdW5jdGlvbihhKXtrJiZjLnVubGlzdGVuKGEsdGhpcy5ldmVudHMpfSxlbGVtZW50QWRkZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRBdHRyaWJ1dGUoaiksZD10aGlzLnRvdWNoQWN0aW9uVG9TY3JvbGxUeXBlKGIpO2QmJih0aGlzLnNjcm9sbFR5cGUuc2V0KGEsZCksYy5saXN0ZW4oYSx0aGlzLmV2ZW50cyksZShhKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsVHlwZS5zZXQoYSxkKSxjLmxpc3RlbihhLHRoaXMuZXZlbnRzKX0sdGhpcykpfSxlbGVtZW50UmVtb3ZlZDpmdW5jdGlvbihhKXt0aGlzLnNjcm9sbFR5cGVbImRlbGV0ZSJdKGEpLGMudW5saXN0ZW4oYSx0aGlzLmV2ZW50cyksZShhKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsVHlwZVsiZGVsZXRlIl0oYSksYy51bmxpc3RlbihhLHRoaXMuZXZlbnRzKX0sdGhpcyl9LGVsZW1lbnRDaGFuZ2VkOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRBdHRyaWJ1dGUoaiksZD10aGlzLnRvdWNoQWN0aW9uVG9TY3JvbGxUeXBlKGMpLGY9dGhpcy50b3VjaEFjdGlvblRvU2Nyb2xsVHlwZShiKTtkJiZmPyh0aGlzLnNjcm9sbFR5cGUuc2V0KGEsZCksZShhKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsVHlwZS5zZXQoYSxkKX0sdGhpcykpOmY/dGhpcy5lbGVtZW50UmVtb3ZlZChhKTpkJiZ0aGlzLmVsZW1lbnRBZGRlZChhKX0sc2Nyb2xsVHlwZXM6e0VNSVRURVI6Im5vbmUiLFhTQ1JPTExFUjoicGFuLXgiLFlTQ1JPTExFUjoicGFuLXkiLFNDUk9MTEVSOi9eKD86cGFuLXggcGFuLXkpfCg/OnBhbi15IHBhbi14KXxhdXRvJC99LHRvdWNoQWN0aW9uVG9TY3JvbGxUeXBlOmZ1bmN0aW9uKGEpe3ZhciBiPWEsYz10aGlzLnNjcm9sbFR5cGVzO3JldHVybiJub25lIj09PWI/Im5vbmUiOmI9PT1jLlhTQ1JPTExFUj8iWCI6Yj09PWMuWVNDUk9MTEVSPyJZIjpjLlNDUk9MTEVSLmV4ZWMoYik/IlhZIjp2b2lkIDB9LFBPSU5URVJfVFlQRToidG91Y2giLGZpcnN0VG91Y2g6bnVsbCxpc1ByaW1hcnlUb3VjaDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5maXJzdFRvdWNoPT09YS5pZGVudGlmaWVyfSxzZXRQcmltYXJ5VG91Y2g6ZnVuY3Rpb24oYSl7KDA9PT1mLnBvaW50ZXJzKCl8fDE9PT1mLnBvaW50ZXJzKCkmJmYuaGFzKDEpKSYmKHRoaXMuZmlyc3RUb3VjaD1hLmlkZW50aWZpZXIsdGhpcy5maXJzdFhZPXtYOmEuY2xpZW50WCxZOmEuY2xpZW50WX0sdGhpcy5zY3JvbGxpbmc9ITEsdGhpcy5jYW5jZWxSZXNldENsaWNrQ291bnQoKSl9LHJlbW92ZVByaW1hcnlQb2ludGVyOmZ1bmN0aW9uKGEpe2EuaXNQcmltYXJ5JiYodGhpcy5maXJzdFRvdWNoPW51bGwsdGhpcy5maXJzdFhZPW51bGwsdGhpcy5yZXNldENsaWNrQ291bnQoKSl9LGNsaWNrQ291bnQ6MCxyZXNldElkOm51bGwscmVzZXRDbGlja0NvdW50OmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oKXt0aGlzLmNsaWNrQ291bnQ9MCx0aGlzLnJlc2V0SWQ9bnVsbH0uYmluZCh0aGlzKTt0aGlzLnJlc2V0SWQ9c2V0VGltZW91dChhLGkpfSxjYW5jZWxSZXNldENsaWNrQ291bnQ6ZnVuY3Rpb24oKXt0aGlzLnJlc2V0SWQmJmNsZWFyVGltZW91dCh0aGlzLnJlc2V0SWQpfSx0b3VjaFRvUG9pbnRlcjpmdW5jdGlvbihhKXt2YXIgYj1jLmNsb25lRXZlbnQoYSk7cmV0dXJuIGIucG9pbnRlcklkPWEuaWRlbnRpZmllcisyLGIudGFyZ2V0PWQoYiksYi5idWJibGVzPSEwLGIuY2FuY2VsYWJsZT0hMCxiLmRldGFpbD10aGlzLmNsaWNrQ291bnQsYi5idXR0b249MCxiLmJ1dHRvbnM9MSxiLndpZHRoPWEud2Via2l0UmFkaXVzWHx8YS5yYWRpdXNYfHwwLGIuaGVpZ2h0PWEud2Via2l0UmFkaXVzWXx8YS5yYWRpdXNZfHwwLGIucHJlc3N1cmU9YS53ZWJraXRGb3JjZXx8YS5mb3JjZXx8LjUsYi5pc1ByaW1hcnk9dGhpcy5pc1ByaW1hcnlUb3VjaChhKSxiLnBvaW50ZXJUeXBlPXRoaXMuUE9JTlRFUl9UWVBFLGJ9LHByb2Nlc3NUb3VjaGVzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5jaGFuZ2VkVG91Y2hlcyxkPWcoYyx0aGlzLnRvdWNoVG9Qb2ludGVyLHRoaXMpO2QuZm9yRWFjaChmdW5jdGlvbihiKXtiLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5zY3JvbGxpbmc9ITEsdGhpcy5maXJzdFhZPW51bGwsYS5wcmV2ZW50RGVmYXVsdCgpfX0sdGhpcyksZC5mb3JFYWNoKGIsdGhpcyl9LHNob3VsZFNjcm9sbDpmdW5jdGlvbihhKXtpZih0aGlzLmZpcnN0WFkpe3ZhciBiLGM9dGhpcy5zY3JvbGxUeXBlLmdldChhLmN1cnJlbnRUYXJnZXQpO2lmKCJub25lIj09PWMpYj0hMTtlbHNlIGlmKCJYWSI9PT1jKWI9ITA7ZWxzZXt2YXIgZD1hLmNoYW5nZWRUb3VjaGVzWzBdLGU9YyxmPSJZIj09PWM/IlgiOiJZIixnPU1hdGguYWJzKGRbImNsaWVudCIrZV0tdGhpcy5maXJzdFhZW2VdKSxoPU1hdGguYWJzKGRbImNsaWVudCIrZl0tdGhpcy5maXJzdFhZW2ZdKTtiPWc+PWh9cmV0dXJuIHRoaXMuZmlyc3RYWT1udWxsLGJ9fSxmaW5kVG91Y2g6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wLGU9YS5sZW5ndGg7ZT5kJiYoYz1hW2RdKTtkKyspaWYoYy5pZGVudGlmaWVyPT09YilyZXR1cm4hMH0sdmFjdXVtVG91Y2hlczpmdW5jdGlvbihhKXt2YXIgYj1hLnRvdWNoZXM7aWYoZi5wb2ludGVycygpPj1iLmxlbmd0aCl7dmFyIGM9W107Zi5mb3JFYWNoKGZ1bmN0aW9uKGEsZCl7aWYoMSE9PWQmJiF0aGlzLmZpbmRUb3VjaChiLGQtMikpe3ZhciBlPWEub3V0O2MucHVzaCh0aGlzLnRvdWNoVG9Qb2ludGVyKGUpKX19LHRoaXMpLGMuZm9yRWFjaCh0aGlzLmNhbmNlbE91dCx0aGlzKX19LHRvdWNoc3RhcnQ6ZnVuY3Rpb24oYSl7dGhpcy52YWN1dW1Ub3VjaGVzKGEpLHRoaXMuc2V0UHJpbWFyeVRvdWNoKGEuY2hhbmdlZFRvdWNoZXNbMF0pLHRoaXMuZGVkdXBTeW50aE1vdXNlKGEpLHRoaXMuc2Nyb2xsaW5nfHwodGhpcy5jbGlja0NvdW50KyssdGhpcy5wcm9jZXNzVG91Y2hlcyhhLHRoaXMub3ZlckRvd24pKX0sb3ZlckRvd246ZnVuY3Rpb24oYSl7Zi5zZXQoYS5wb2ludGVySWQse3RhcmdldDphLnRhcmdldCxvdXQ6YSxvdXRUYXJnZXQ6YS50YXJnZXR9KTtjLm92ZXIoYSksYy5lbnRlcihhKSxjLmRvd24oYSl9LHRvdWNobW92ZTpmdW5jdGlvbihhKXt0aGlzLnNjcm9sbGluZ3x8KHRoaXMuc2hvdWxkU2Nyb2xsKGEpPyh0aGlzLnNjcm9sbGluZz0hMCx0aGlzLnRvdWNoY2FuY2VsKGEpKTooYS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMucHJvY2Vzc1RvdWNoZXMoYSx0aGlzLm1vdmVPdmVyT3V0KSkpfSxtb3ZlT3Zlck91dDpmdW5jdGlvbihhKXt2YXIgYj1hLGQ9Zi5nZXQoYi5wb2ludGVySWQpO2lmKGQpe3ZhciBlPWQub3V0LGc9ZC5vdXRUYXJnZXQ7Yy5tb3ZlKGIpLGUmJmchPT1iLnRhcmdldCYmKGUucmVsYXRlZFRhcmdldD1iLnRhcmdldCxiLnJlbGF0ZWRUYXJnZXQ9ZyxlLnRhcmdldD1nLGIudGFyZ2V0PyhjLmxlYXZlT3V0KGUpLGMuZW50ZXJPdmVyKGIpKTooYi50YXJnZXQ9ZyxiLnJlbGF0ZWRUYXJnZXQ9bnVsbCx0aGlzLmNhbmNlbE91dChiKSkpLGQub3V0PWIsZC5vdXRUYXJnZXQ9Yi50YXJnZXR9fSx0b3VjaGVuZDpmdW5jdGlvbihhKXt0aGlzLmRlZHVwU3ludGhNb3VzZShhKSx0aGlzLnByb2Nlc3NUb3VjaGVzKGEsdGhpcy51cE91dCl9LHVwT3V0OmZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsaW5nfHwoYy51cChhKSxjLm91dChhKSxjLmxlYXZlKGEpKSx0aGlzLmNsZWFuVXBQb2ludGVyKGEpfSx0b3VjaGNhbmNlbDpmdW5jdGlvbihhKXt0aGlzLnByb2Nlc3NUb3VjaGVzKGEsdGhpcy5jYW5jZWxPdXQpfSxjYW5jZWxPdXQ6ZnVuY3Rpb24oYSl7Yy5jYW5jZWwoYSksYy5vdXQoYSksYy5sZWF2ZShhKSx0aGlzLmNsZWFuVXBQb2ludGVyKGEpfSxjbGVhblVwUG9pbnRlcjpmdW5jdGlvbihhKXtmWyJkZWxldGUiXShhLnBvaW50ZXJJZCksdGhpcy5yZW1vdmVQcmltYXJ5UG9pbnRlcihhKX0sZGVkdXBTeW50aE1vdXNlOmZ1bmN0aW9uKGIpe3ZhciBjPWEubW91c2VFdmVudHMubGFzdFRvdWNoZXMsZD1iLmNoYW5nZWRUb3VjaGVzWzBdO2lmKHRoaXMuaXNQcmltYXJ5VG91Y2goZCkpe3ZhciBlPXt4OmQuY2xpZW50WCx5OmQuY2xpZW50WX07Yy5wdXNoKGUpO3ZhciBmPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5pbmRleE9mKGIpO2M+LTEmJmEuc3BsaWNlKGMsMSl9LmJpbmQobnVsbCxjLGUpO3NldFRpbWVvdXQoZixoKX19fTtrfHwoYj1uZXcgYS5JbnN0YWxsZXIobC5lbGVtZW50QWRkZWQsbC5lbGVtZW50UmVtb3ZlZCxsLmVsZW1lbnRDaGFuZ2VkLGwpKSxhLnRvdWNoRXZlbnRzPWx9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGlzcGF0Y2hlcixjPWIucG9pbnRlcm1hcCxkPXdpbmRvdy5NU1BvaW50ZXJFdmVudCYmIm51bWJlciI9PXR5cGVvZiB3aW5kb3cuTVNQb2ludGVyRXZlbnQuTVNQT0lOVEVSX1RZUEVfTU9VU0UsZT17ZXZlbnRzOlsiTVNQb2ludGVyRG93biIsIk1TUG9pbnRlck1vdmUiLCJNU1BvaW50ZXJVcCIsIk1TUG9pbnRlck91dCIsIk1TUG9pbnRlck92ZXIiLCJNU1BvaW50ZXJDYW5jZWwiLCJNU0dvdFBvaW50ZXJDYXB0dXJlIiwiTVNMb3N0UG9pbnRlckNhcHR1cmUiXSxyZWdpc3RlcjpmdW5jdGlvbihhKXtiLmxpc3RlbihhLHRoaXMuZXZlbnRzKX0sdW5yZWdpc3RlcjpmdW5jdGlvbihhKXtiLnVubGlzdGVuKGEsdGhpcy5ldmVudHMpfSxQT0lOVEVSX1RZUEVTOlsiIiwidW5hdmFpbGFibGUiLCJ0b3VjaCIsInBlbiIsIm1vdXNlIl0scHJlcGFyZUV2ZW50OmZ1bmN0aW9uKGEpe3ZhciBjPWE7cmV0dXJuIGQmJihjPWIuY2xvbmVFdmVudChhKSxjLnBvaW50ZXJUeXBlPXRoaXMuUE9JTlRFUl9UWVBFU1thLnBvaW50ZXJUeXBlXSksY30sY2xlYW51cDpmdW5jdGlvbihhKXtjWyJkZWxldGUiXShhKX0sTVNQb2ludGVyRG93bjpmdW5jdGlvbihhKXtjLnNldChhLnBvaW50ZXJJZCxhKTt2YXIgZD10aGlzLnByZXBhcmVFdmVudChhKTtiLmRvd24oZCl9LE1TUG9pbnRlck1vdmU6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5tb3ZlKGMpfSxNU1BvaW50ZXJVcDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnByZXBhcmVFdmVudChhKTtiLnVwKGMpLHRoaXMuY2xlYW51cChhLnBvaW50ZXJJZCl9LE1TUG9pbnRlck91dDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnByZXBhcmVFdmVudChhKTtiLmxlYXZlT3V0KGMpfSxNU1BvaW50ZXJPdmVyOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IuZW50ZXJPdmVyKGMpfSxNU1BvaW50ZXJDYW5jZWw6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5jYW5jZWwoYyksdGhpcy5jbGVhbnVwKGEucG9pbnRlcklkKX0sTVNMb3N0UG9pbnRlckNhcHR1cmU6ZnVuY3Rpb24oYSl7dmFyIGM9Yi5tYWtlRXZlbnQoImxvc3Rwb2ludGVyY2FwdHVyZSIsYSk7Yi5kaXNwYXRjaEV2ZW50KGMpfSxNU0dvdFBvaW50ZXJDYXB0dXJlOmZ1bmN0aW9uKGEpe3ZhciBjPWIubWFrZUV2ZW50KCJnb3Rwb2ludGVyY2FwdHVyZSIsYSk7Yi5kaXNwYXRjaEV2ZW50KGMpfX07YS5tc0V2ZW50cz1lfSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihhKXt2YXIgYj1hLmRpc3BhdGNoZXI7aWYodm9pZCAwPT09d2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCl7aWYoT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5uYXZpZ2F0b3IsInBvaW50ZXJFbmFibGVkIix7dmFsdWU6ITAsZW51bWVyYWJsZTohMH0pLHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCl7dmFyIGM9d2luZG93Lm5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cubmF2aWdhdG9yLCJtYXhUb3VjaFBvaW50cyIse3ZhbHVlOmMsZW51bWVyYWJsZTohMH0pLGIucmVnaXN0ZXJTb3VyY2UoIm1zIixhLm1zRXZlbnRzKX1lbHNlIGIucmVnaXN0ZXJTb3VyY2UoIm1vdXNlIixhLm1vdXNlRXZlbnRzKSx2b2lkIDAhPT13aW5kb3cub250b3VjaHN0YXJ0JiZiLnJlZ2lzdGVyU291cmNlKCJ0b3VjaCIsYS50b3VjaEV2ZW50cyk7Yi5yZWdpc3Rlcihkb2N1bWVudCl9fSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2lmKCFlLnBvaW50ZXJtYXAuaGFzKGEpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZFBvaW50ZXJJZCIpfXZhciBjLGQsZT1hLmRpc3BhdGNoZXIsZj13aW5kb3cubmF2aWdhdG9yO2YubXNQb2ludGVyRW5hYmxlZD8oYz1mdW5jdGlvbihhKXtiKGEpLHRoaXMubXNTZXRQb2ludGVyQ2FwdHVyZShhKX0sZD1mdW5jdGlvbihhKXtiKGEpLHRoaXMubXNSZWxlYXNlUG9pbnRlckNhcHR1cmUoYSl9KTooYz1mdW5jdGlvbihhKXtiKGEpLGUuc2V0Q2FwdHVyZShhLHRoaXMpfSxkPWZ1bmN0aW9uKGEpe2IoYSksZS5yZWxlYXNlQ2FwdHVyZShhLHRoaXMpfSksd2luZG93LkVsZW1lbnQmJiFFbGVtZW50LnByb3RvdHlwZS5zZXRQb2ludGVyQ2FwdHVyZSYmT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRWxlbWVudC5wcm90b3R5cGUse3NldFBvaW50ZXJDYXB0dXJlOnt2YWx1ZTpjfSxyZWxlYXNlUG9pbnRlckNhcHR1cmU6e3ZhbHVlOmR9fSl9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLFBvaW50ZXJHZXN0dXJlRXZlbnQucHJvdG90eXBlLnByZXZlbnRUYXA9ZnVuY3Rpb24oKXt0aGlzLnRhcFByZXZlbnRlZD0hMH0sZnVuY3Rpb24oYSl7YT1hfHx7fSxhLnV0aWxzPXtMQ0E6e2ZpbmQ6ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gYTtpZihhLmNvbnRhaW5zKXtpZihhLmNvbnRhaW5zKGIpKXJldHVybiBhO2lmKGIuY29udGFpbnMoYSkpcmV0dXJuIGJ9dmFyIGM9dGhpcy5kZXB0aChhKSxkPXRoaXMuZGVwdGgoYiksZT1jLWQ7Zm9yKGU+MD9hPXRoaXMud2FsayhhLGUpOmI9dGhpcy53YWxrKGIsLWUpO2EmJmImJmEhPT1iOylhPXRoaXMud2FsayhhLDEpLGI9dGhpcy53YWxrKGIsMSk7cmV0dXJuIGF9LHdhbGs6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtiPmM7YysrKWE9YS5wYXJlbnROb2RlO3JldHVybiBhfSxkZXB0aDpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDthOyliKyssYT1hLnBhcmVudE5vZGU7cmV0dXJuIGJ9fX0sYS5maW5kTENBPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEudXRpbHMuTENBLmZpbmQoYixjKX0sd2luZG93LlBvaW50ZXJHZXN0dXJlcz1hfSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7aWYoYyl7dmFyIGE9bmV3IE1hcDtyZXR1cm4gYS5wb2ludGVycz1kLGF9dGhpcy5rZXlzPVtdLHRoaXMudmFsdWVzPVtdfXZhciBjPXdpbmRvdy5NYXAmJndpbmRvdy5NYXAucHJvdG90eXBlLmZvckVhY2gsZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNpemV9O2IucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmtleXMuaW5kZXhPZihhKTtjPi0xP3RoaXMudmFsdWVzW2NdPWI6KHRoaXMua2V5cy5wdXNoKGEpLHRoaXMudmFsdWVzLnB1c2goYikpfSxoYXM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMua2V5cy5pbmRleE9mKGEpPi0xfSwiZGVsZXRlIjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmtleXMuaW5kZXhPZihhKTtiPi0xJiYodGhpcy5rZXlzLnNwbGljZShiLDEpLHRoaXMudmFsdWVzLnNwbGljZShiLDEpKX0sZ2V0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMua2V5cy5pbmRleE9mKGEpO3JldHVybiB0aGlzLnZhbHVlc1tiXX0sY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLmtleXMubGVuZ3RoPTAsdGhpcy52YWx1ZXMubGVuZ3RoPTB9LGZvckVhY2g6ZnVuY3Rpb24oYSxiKXt0aGlzLnZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGMsZCl7YS5jYWxsKGIsYyx0aGlzLmtleXNbZF0sdGhpcyl9LHRoaXMpfSxwb2ludGVyczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmtleXMubGVuZ3RofX0sYS5Qb2ludGVyTWFwPWJ9KHdpbmRvdy5Qb2ludGVyR2VzdHVyZXMpLGZ1bmN0aW9uKGEpe3ZhciBiPVsiYnViYmxlcyIsImNhbmNlbGFibGUiLCJ2aWV3IiwiZGV0YWlsIiwic2NyZWVuWCIsInNjcmVlblkiLCJjbGllbnRYIiwiY2xpZW50WSIsImN0cmxLZXkiLCJhbHRLZXkiLCJzaGlmdEtleSIsIm1ldGFLZXkiLCJidXR0b24iLCJyZWxhdGVkVGFyZ2V0IiwiYnV0dG9ucyIsInBvaW50ZXJJZCIsIndpZHRoIiwiaGVpZ2h0IiwicHJlc3N1cmUiLCJ0aWx0WCIsInRpbHRZIiwicG9pbnRlclR5cGUiLCJod1RpbWVzdGFtcCIsImlzUHJpbWFyeSIsInR5cGUiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0Iiwic2NyZWVuWCIsInNjcmVlblkiLCJwYWdlWCIsInBhZ2VZIiwidGFwUHJldmVudGVkIl0sYz1bITEsITEsbnVsbCxudWxsLDAsMCwwLDAsITEsITEsITEsITEsMCxudWxsLDAsMCwwLDAsMCwwLDAsIiIsMCwhMSwiIixudWxsLG51bGwsMCwwLDAsMF0sZD17aGFuZGxlZEV2ZW50czpuZXcgV2Vha01hcCx0YXJnZXRzOm5ldyBXZWFrTWFwLGhhbmRsZXJzOnt9LHJlY29nbml6ZXJzOnt9LGV2ZW50czp7fSxyZWdpc3RlclJlY29nbml6ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iO3RoaXMucmVjb2duaXplcnNbYV09YyxjLmV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2lmKGNbYV0pe3RoaXMuZXZlbnRzW2FdPSEwO3ZhciBiPWNbYV0uYmluZChjKTt0aGlzLmFkZEhhbmRsZXIoYSxiKX19LHRoaXMpfSxhZGRIYW5kbGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9YTt0aGlzLmhhbmRsZXJzW2NdfHwodGhpcy5oYW5kbGVyc1tjXT1bXSksdGhpcy5oYW5kbGVyc1tjXS5wdXNoKGIpfSxyZWdpc3RlclRhcmdldDpmdW5jdGlvbihhKXt0aGlzLmxpc3RlbihPYmplY3Qua2V5cyh0aGlzLmV2ZW50cyksYSl9LHVucmVnaXN0ZXJUYXJnZXQ6ZnVuY3Rpb24oYSl7dGhpcy51bmxpc3RlbihPYmplY3Qua2V5cyh0aGlzLmV2ZW50cyksYSl9LGV2ZW50SGFuZGxlcjpmdW5jdGlvbihhKXtpZighdGhpcy5oYW5kbGVkRXZlbnRzLmdldChhKSl7dmFyIGI9YS50eXBlLGM9dGhpcy5oYW5kbGVyc1tiXTtjJiZ0aGlzLm1ha2VRdWV1ZShjLGEpLHRoaXMuaGFuZGxlZEV2ZW50cy5zZXQoYSwhMCl9fSxtYWtlUXVldWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNsb25lRXZlbnQoYik7c2V0VGltZW91dCh0aGlzLnJ1blF1ZXVlLmJpbmQodGhpcyxhLGMpLDApfSxydW5RdWV1ZTpmdW5jdGlvbihhLGIpe3RoaXMuY3VycmVudFBvaW50ZXJJZD1iLnBvaW50ZXJJZDtmb3IodmFyIGMsZD0wLGU9YS5sZW5ndGg7ZT5kJiYoYz1hW2RdKTtkKyspYyhiKTt0aGlzLmN1cnJlbnRQb2ludGVySWQ9MH0sbGlzdGVuOmZ1bmN0aW9uKGEsYil7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMuYWRkRXZlbnQoYSx0aGlzLmJvdW5kSGFuZGxlciwhMSxiKX0sdGhpcyl9LHVubGlzdGVuOmZ1bmN0aW9uKGEpe2EuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLnJlbW92ZUV2ZW50KGEsdGhpcy5ib3VuZEhhbmRsZXIsITEsaW5UYXJnZXQpfSx0aGlzKX0sYWRkRXZlbnQ6ZnVuY3Rpb24oYSxiLGMsZCl7ZC5hZGRFdmVudExpc3RlbmVyKGEsYixjKX0scmVtb3ZlRXZlbnQ6ZnVuY3Rpb24oYSxiLGMsZCl7ZC5yZW1vdmVFdmVudExpc3RlbmVyKGEsYixjKX0sbWFrZUV2ZW50OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBQb2ludGVyR2VzdHVyZUV2ZW50KGEsYil9LGNsb25lRXZlbnQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBkLGU9e30sZj0wO2Y8Yi5sZW5ndGg7ZisrKWQ9YltmXSxlW2RdPWFbZF18fGNbZl07cmV0dXJuIGV9LGRpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHx0aGlzLnRhcmdldHMuZ2V0KGEpO2MmJihjLmRpc3BhdGNoRXZlbnQoYSksYS50YXBQcmV2ZW50ZWQmJnRoaXMucHJldmVudFRhcCh0aGlzLmN1cnJlbnRQb2ludGVySWQpKX0sYXN5bmNEaXNwYXRjaEV2ZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oKXt0aGlzLmRpc3BhdGNoRXZlbnQoYSxiKX0uYmluZCh0aGlzKTtzZXRUaW1lb3V0KGMsMCl9LHByZXZlbnRUYXA6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5yZWNvZ25pemVycy50YXA7YiYmYi5wcmV2ZW50VGFwKGEpfX07ZC5ib3VuZEhhbmRsZXI9ZC5ldmVudEhhbmRsZXIuYmluZChkKSxhLmRpc3BhdGNoZXI9ZDt2YXIgZT1bXSxmPSExO2EucmVnaXN0ZXI9ZnVuY3Rpb24oYil7aWYoZil7dmFyIGM9d2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbDtjJiZjLnJlZ2lzdGVyKGIpLGEuZGlzcGF0Y2hlci5yZWdpc3RlclRhcmdldChiKX1lbHNlIGUucHVzaChiKX0sZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXtmPSEwLGUucHVzaChkb2N1bWVudCksZS5mb3JFYWNoKGEucmVnaXN0ZXIpfSl9KHdpbmRvdy5Qb2ludGVyR2VzdHVyZXMpLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGlzcGF0Y2hlcixjPXtIT0xEX0RFTEFZOjIwMCxXSUdHTEVfVEhSRVNIT0xEOjE2LGV2ZW50czpbInBvaW50ZXJkb3duIiwicG9pbnRlcm1vdmUiLCJwb2ludGVydXAiLCJwb2ludGVyY2FuY2VsIl0saGVsZFBvaW50ZXI6bnVsbCxob2xkSm9iOm51bGwscHVsc2U6ZnVuY3Rpb24oKXt2YXIgYT1EYXRlLm5vdygpLXRoaXMuaGVsZFBvaW50ZXIudGltZVN0YW1wLGI9dGhpcy5oZWxkPyJob2xkcHVsc2UiOiJob2xkIjt0aGlzLmZpcmVIb2xkKGIsYSksdGhpcy5oZWxkPSEwfSxjYW5jZWw6ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKHRoaXMuaG9sZEpvYiksdGhpcy5oZWxkJiZ0aGlzLmZpcmVIb2xkKCJyZWxlYXNlIiksdGhpcy5oZWxkPSExLHRoaXMuaGVsZFBvaW50ZXI9bnVsbCx0aGlzLnRhcmdldD1udWxsLHRoaXMuaG9sZEpvYj1udWxsfSxwb2ludGVyZG93bjpmdW5jdGlvbihhKXthLmlzUHJpbWFyeSYmIXRoaXMuaGVsZFBvaW50ZXImJih0aGlzLmhlbGRQb2ludGVyPWEsdGhpcy50YXJnZXQ9YS50YXJnZXQsdGhpcy5ob2xkSm9iPXNldEludGVydmFsKHRoaXMucHVsc2UuYmluZCh0aGlzKSx0aGlzLkhPTERfREVMQVkpKX0scG9pbnRlcnVwOmZ1bmN0aW9uKGEpe3RoaXMuaGVsZFBvaW50ZXImJnRoaXMuaGVsZFBvaW50ZXIucG9pbnRlcklkPT09YS5wb2ludGVySWQmJnRoaXMuY2FuY2VsKCl9LHBvaW50ZXJjYW5jZWw6ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbCgpfSxwb2ludGVybW92ZTpmdW5jdGlvbihhKXtpZih0aGlzLmhlbGRQb2ludGVyJiZ0aGlzLmhlbGRQb2ludGVyLnBvaW50ZXJJZD09PWEucG9pbnRlcklkKXt2YXIgYj1hLmNsaWVudFgtdGhpcy5oZWxkUG9pbnRlci5jbGllbnRYLGM9YS5jbGllbnRZLXRoaXMuaGVsZFBvaW50ZXIuY2xpZW50WTtiKmIrYypjPnRoaXMuV0lHR0xFX1RIUkVTSE9MRCYmdGhpcy5jYW5jZWwoKX19LGZpcmVIb2xkOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9e3BvaW50ZXJUeXBlOnRoaXMuaGVsZFBvaW50ZXIucG9pbnRlclR5cGV9O2MmJihkLmhvbGRUaW1lPWMpO3ZhciBlPWIubWFrZUV2ZW50KGEsZCk7Yi5kaXNwYXRjaEV2ZW50KGUsdGhpcy50YXJnZXQpLGUudGFwUHJldmVudGVkJiZiLnByZXZlbnRUYXAodGhpcy5oZWxkUG9pbnRlci5wb2ludGVySWQpfX07Yi5yZWdpc3RlclJlY29nbml6ZXIoImhvbGQiLGMpfSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxmdW5jdGlvbihhKXt2YXIgYj1hLmRpc3BhdGNoZXIsYz1uZXcgYS5Qb2ludGVyTWFwLGQ9e2V2ZW50czpbInBvaW50ZXJkb3duIiwicG9pbnRlcm1vdmUiLCJwb2ludGVydXAiLCJwb2ludGVyY2FuY2VsIl0sV0lHR0xFX1RIUkVTSE9MRDo0LGNsYW1wRGlyOmZ1bmN0aW9uKGEpe3JldHVybiBhPjA/MTotMX0sY2FsY1Bvc2l0aW9uRGVsdGE6ZnVuY3Rpb24oYSxiKXt2YXIgYz0wLGQ9MDtyZXR1cm4gYSYmYiYmKGM9Yi5wYWdlWC1hLnBhZ2VYLGQ9Yi5wYWdlWS1hLnBhZ2VZKSx7eDpjLHk6ZH19LGZpcmVUcmFjazpmdW5jdGlvbihhLGMsZCl7dmFyIGU9ZCxmPXRoaXMuY2FsY1Bvc2l0aW9uRGVsdGEoZS5kb3duRXZlbnQsYyksZz10aGlzLmNhbGNQb3NpdGlvbkRlbHRhKGUubGFzdE1vdmVFdmVudCxjKTtnLngmJihlLnhEaXJlY3Rpb249dGhpcy5jbGFtcERpcihnLngpKSxnLnkmJihlLnlEaXJlY3Rpb249dGhpcy5jbGFtcERpcihnLnkpKTt2YXIgaD17ZHg6Zi54LGR5OmYueSxkZHg6Zy54LGRkeTpnLnksY2xpZW50WDpjLmNsaWVudFgsY2xpZW50WTpjLmNsaWVudFkscGFnZVg6Yy5wYWdlWCxwYWdlWTpjLnBhZ2VZLHNjcmVlblg6Yy5zY3JlZW5YLHNjcmVlblk6Yy5zY3JlZW5ZLHhEaXJlY3Rpb246ZS54RGlyZWN0aW9uLHlEaXJlY3Rpb246ZS55RGlyZWN0aW9uLHRyYWNrSW5mbzplLnRyYWNrSW5mbyxyZWxhdGVkVGFyZ2V0OmMudGFyZ2V0LHBvaW50ZXJUeXBlOmMucG9pbnRlclR5cGV9LGk9Yi5tYWtlRXZlbnQoYSxoKTtlLmxhc3RNb3ZlRXZlbnQ9YyxiLmRpc3BhdGNoRXZlbnQoaSxlLmRvd25UYXJnZXQpfSxwb2ludGVyZG93bjpmdW5jdGlvbihhKXtpZihhLmlzUHJpbWFyeSYmKCJtb3VzZSI9PT1hLnBvaW50ZXJUeXBlPzE9PT1hLmJ1dHRvbnM6ITApKXt2YXIgYj17ZG93bkV2ZW50OmEsZG93blRhcmdldDphLnRhcmdldCx0cmFja0luZm86e30sbGFzdE1vdmVFdmVudDpudWxsLHhEaXJlY3Rpb246MCx5RGlyZWN0aW9uOjAsdHJhY2tpbmc6ITF9O2Muc2V0KGEucG9pbnRlcklkLGIpfX0scG9pbnRlcm1vdmU6ZnVuY3Rpb24oYSl7dmFyIGI9Yy5nZXQoYS5wb2ludGVySWQpO2lmKGIpaWYoYi50cmFja2luZyl0aGlzLmZpcmVUcmFjaygidHJhY2siLGEsYik7ZWxzZXt2YXIgZD10aGlzLmNhbGNQb3NpdGlvbkRlbHRhKGIuZG93bkV2ZW50LGEpLGU9ZC54KmQueCtkLnkqZC55O2U+dGhpcy5XSUdHTEVfVEhSRVNIT0xEJiYoYi50cmFja2luZz0hMCx0aGlzLmZpcmVUcmFjaygidHJhY2tzdGFydCIsYi5kb3duRXZlbnQsYiksdGhpcy5maXJlVHJhY2soInRyYWNrIixhLGIpKX19LHBvaW50ZXJ1cDpmdW5jdGlvbihhKXt2YXIgYj1jLmdldChhLnBvaW50ZXJJZCk7YiYmKGIudHJhY2tpbmcmJnRoaXMuZmlyZVRyYWNrKCJ0cmFja2VuZCIsYSxiKSxjLmRlbGV0ZShhLnBvaW50ZXJJZCkpfSxwb2ludGVyY2FuY2VsOmZ1bmN0aW9uKGEpe3RoaXMucG9pbnRlcnVwKGEpfX07Yi5yZWdpc3RlclJlY29nbml6ZXIoInRyYWNrIixkKX0od2luZG93LlBvaW50ZXJHZXN0dXJlcyksZnVuY3Rpb24oYSl7dmFyIGI9YS5kaXNwYXRjaGVyLGM9e01JTl9WRUxPQ0lUWTouNSxNQVhfUVVFVUU6NCxtb3ZlUXVldWU6W10sdGFyZ2V0Om51bGwscG9pbnRlcklkOm51bGwsZXZlbnRzOlsicG9pbnRlcmRvd24iLCJwb2ludGVybW92ZSIsInBvaW50ZXJ1cCIsInBvaW50ZXJjYW5jZWwiXSxwb2ludGVyZG93bjpmdW5jdGlvbihhKXthLmlzUHJpbWFyeSYmIXRoaXMucG9pbnRlcklkJiYodGhpcy5wb2ludGVySWQ9YS5wb2ludGVySWQsdGhpcy50YXJnZXQ9YS50YXJnZXQsdGhpcy5hZGRNb3ZlKGEpKX0scG9pbnRlcm1vdmU6ZnVuY3Rpb24oYSl7YS5wb2ludGVySWQ9PT10aGlzLnBvaW50ZXJJZCYmdGhpcy5hZGRNb3ZlKGEpfSxwb2ludGVydXA6ZnVuY3Rpb24oYSl7YS5wb2ludGVySWQ9PT10aGlzLnBvaW50ZXJJZCYmdGhpcy5maXJlRmxpY2soYSksdGhpcy5jbGVhbnVwKCl9LHBvaW50ZXJjYW5jZWw6ZnVuY3Rpb24oKXt0aGlzLmNsZWFudXAoKX0sY2xlYW51cDpmdW5jdGlvbigpe3RoaXMubW92ZVF1ZXVlPVtdLHRoaXMudGFyZ2V0PW51bGwsdGhpcy5wb2ludGVySWQ9bnVsbH0sYWRkTW92ZTpmdW5jdGlvbihhKXt0aGlzLm1vdmVRdWV1ZS5sZW5ndGg+PXRoaXMuTUFYX1FVRVVFJiZ0aGlzLm1vdmVRdWV1ZS5zaGlmdCgpLHRoaXMubW92ZVF1ZXVlLnB1c2goYSl9LGZpcmVGbGljazpmdW5jdGlvbihhKXtmb3IodmFyIGMsZCxlLGYsZyxoLGksaj1hLGs9dGhpcy5tb3ZlUXVldWUubGVuZ3RoLGw9MCxtPTAsbj0wLG89MDtrPm8mJihpPXRoaXMubW92ZVF1ZXVlW29dKTtvKyspYz1qLnRpbWVTdGFtcC1pLnRpbWVTdGFtcCxkPWouY2xpZW50WC1pLmNsaWVudFgsZT1qLmNsaWVudFktaS5jbGllbnRZLGY9ZC9jLGc9ZS9jLGg9TWF0aC5zcXJ0KGYqZitnKmcpLGg+biYmKGw9ZixtPWcsbj1oKTt2YXIgcD1NYXRoLmFicyhsKT5NYXRoLmFicyhtKT8ieCI6InkiLHE9dGhpcy5jYWxjQW5nbGUobCxtKTtpZihNYXRoLmFicyhuKT49dGhpcy5NSU5fVkVMT0NJVFkpe3ZhciByPWIubWFrZUV2ZW50KCJmbGljayIse3hWZWxvY2l0eTpsLHlWZWxvY2l0eTptLHZlbG9jaXR5Om4sYW5nbGU6cSxtYWpvckF4aXM6cCxwb2ludGVyVHlwZTphLnBvaW50ZXJUeXBlfSk7Yi5kaXNwYXRjaEV2ZW50KHIsdGhpcy50YXJnZXQpfX0sY2FsY0FuZ2xlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIDE4MCpNYXRoLmF0YW4yKGIsYSkvTWF0aC5QSX19O2IucmVnaXN0ZXJSZWNvZ25pemVyKCJmbGljayIsYyl9KHdpbmRvdy5Qb2ludGVyR2VzdHVyZXMpLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGlzcGF0Y2hlcixjPW5ldyBhLlBvaW50ZXJNYXAsZD0xODAvTWF0aC5QSSxlPXtldmVudHM6WyJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcmNhbmNlbCJdLHJlZmVyZW5jZTp7fSxwb2ludGVyZG93bjpmdW5jdGlvbihiKXtpZihjLnNldChiLnBvaW50ZXJJZCxiKSwyPT1jLnBvaW50ZXJzKCkpe3ZhciBkPXRoaXMuY2FsY0Nob3JkKCksZT10aGlzLmNhbGNBbmdsZShkKTt0aGlzLnJlZmVyZW5jZT17YW5nbGU6ZSxkaWFtZXRlcjpkLmRpYW1ldGVyLHRhcmdldDphLmZpbmRMQ0EoZC5hLnRhcmdldCxkLmIudGFyZ2V0KX19fSxwb2ludGVydXA6ZnVuY3Rpb24oYSl7Yy5kZWxldGUoYS5wb2ludGVySWQpfSxwb2ludGVybW92ZTpmdW5jdGlvbihhKXtjLmhhcyhhLnBvaW50ZXJJZCkmJihjLnNldChhLnBvaW50ZXJJZCxhKSxjLnBvaW50ZXJzKCk+MSYmdGhpcy5jYWxjUGluY2hSb3RhdGUoKSl9LHBvaW50ZXJjYW5jZWw6ZnVuY3Rpb24oYSl7dGhpcy5wb2ludGVydXAoYSl9LGRpc3BhdGNoUGluY2g6ZnVuY3Rpb24oYSxjKXt2YXIgZD1hL3RoaXMucmVmZXJlbmNlLmRpYW1ldGVyLGU9Yi5tYWtlRXZlbnQoInBpbmNoIix7c2NhbGU6ZCxjZW50ZXJYOmMuY2VudGVyLngsY2VudGVyWTpjLmNlbnRlci55fSk7Yi5kaXNwYXRjaEV2ZW50KGUsdGhpcy5yZWZlcmVuY2UudGFyZ2V0KX0sZGlzcGF0Y2hSb3RhdGU6ZnVuY3Rpb24oYSxjKXt2YXIgZD1NYXRoLnJvdW5kKChhLXRoaXMucmVmZXJlbmNlLmFuZ2xlKSUzNjApLGU9Yi5tYWtlRXZlbnQoInJvdGF0ZSIse2FuZ2xlOmQsY2VudGVyWDpjLmNlbnRlci54LGNlbnRlclk6Yy5jZW50ZXIueX0pO2IuZGlzcGF0Y2hFdmVudChlLHRoaXMucmVmZXJlbmNlLnRhcmdldCl9LGNhbGNQaW5jaFJvdGF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY2FsY0Nob3JkKCksYj1hLmRpYW1ldGVyLGM9dGhpcy5jYWxjQW5nbGUoYSk7YiE9dGhpcy5yZWZlcmVuY2UuZGlhbWV0ZXImJnRoaXMuZGlzcGF0Y2hQaW5jaChiLGEpLGMhPXRoaXMucmVmZXJlbmNlLmFuZ2xlJiZ0aGlzLmRpc3BhdGNoUm90YXRlKGMsYSl9LGNhbGNDaG9yZDpmdW5jdGlvbigpe3ZhciBhPVtdO2MuZm9yRWFjaChmdW5jdGlvbihiKXthLnB1c2goYil9KTtmb3IodmFyIGIsZCxlLGY9MCxnPXt9LGg9MDtoPGEubGVuZ3RoO2grKylmb3IodmFyIGk9YVtoXSxqPWgrMTtqPGEubGVuZ3RoO2orKyl7dmFyIGs9YVtqXTtiPU1hdGguYWJzKGkuY2xpZW50WC1rLmNsaWVudFgpLGQ9TWF0aC5hYnMoaS5jbGllbnRZLWsuY2xpZW50WSksZT1iK2QsZT5mJiYoZj1lLGc9e2E6aSxiOmt9KX1yZXR1cm4gYj1NYXRoLmFicyhnLmEuY2xpZW50WCtnLmIuY2xpZW50WCkvMixkPU1hdGguYWJzKGcuYS5jbGllbnRZK2cuYi5jbGllbnRZKS8yLGcuY2VudGVyPXt4OmIseTpkfSxnLmRpYW1ldGVyPWYsZ30sY2FsY0FuZ2xlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuYS5jbGllbnRYLWEuYi5jbGllbnRYLGM9YS5hLmNsaWVudFktYS5iLmNsaWVudFk7cmV0dXJuKDM2MCtNYXRoLmF0YW4yKGMsYikqZCklMzYwfX07Yi5yZWdpc3RlclJlY29nbml6ZXIoInBpbmNoIixlKX0od2luZG93LlBvaW50ZXJHZXN0dXJlcyksZnVuY3Rpb24oYSl7dmFyIGI9YS5kaXNwYXRjaGVyLGM9bmV3IGEuUG9pbnRlck1hcCxkPXtldmVudHM6WyJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcmNhbmNlbCIsImtleXVwIl0scG9pbnRlcmRvd246ZnVuY3Rpb24oYSl7YS5pc1ByaW1hcnkmJiFhLnRhcFByZXZlbnRlZCYmYy5zZXQoYS5wb2ludGVySWQse3RhcmdldDphLnRhcmdldCx4OmEuY2xpZW50WCx5OmEuY2xpZW50WX0pfSxwb2ludGVybW92ZTpmdW5jdGlvbihhKXtpZihhLmlzUHJpbWFyeSl7dmFyIGI9Yy5nZXQoYS5wb2ludGVySWQpO2ImJmEudGFwUHJldmVudGVkJiZjLmRlbGV0ZShhLnBvaW50ZXJJZCl9fSxzaG91bGRUYXA6ZnVuY3Rpb24oYSl7cmV0dXJuIGEudGFwUHJldmVudGVkP3ZvaWQgMDoibW91c2UiPT09YS5wb2ludGVyVHlwZT8xPT09YS5idXR0b25zOiEwfSxwb2ludGVydXA6ZnVuY3Rpb24oZCl7dmFyIGU9Yy5nZXQoZC5wb2ludGVySWQpO2lmKGUmJnRoaXMuc2hvdWxkVGFwKGQpKXt2YXIgZj1hLmZpbmRMQ0EoZS50YXJnZXQsZC50YXJnZXQpO2lmKGYpe3ZhciBnPWIubWFrZUV2ZW50KCJ0YXAiLHt4OmQuY2xpZW50WCx5OmQuY2xpZW50WSxkZXRhaWw6ZC5kZXRhaWwscG9pbnRlclR5cGU6ZC5wb2ludGVyVHlwZX0pO2IuZGlzcGF0Y2hFdmVudChnLGYpfX1jLmRlbGV0ZShkLnBvaW50ZXJJZCl9LHBvaW50ZXJjYW5jZWw6ZnVuY3Rpb24oYSl7Yy5kZWxldGUoYS5wb2ludGVySWQpfSxrZXl1cDpmdW5jdGlvbihhKXt2YXIgYz1hLmtleUNvZGU7aWYoMzI9PT1jKXt2YXIgZD1hLnRhcmdldDtkIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudHx8ZCBpbnN0YW5jZW9mIEhUTUxUZXh0QXJlYUVsZW1lbnR8fGIuZGlzcGF0Y2hFdmVudChiLm1ha2VFdmVudCgidGFwIix7eDowLHk6MCxkZXRhaWw6MCxwb2ludGVyVHlwZToidW5hdmFpbGFibGUifSksZCl9fSxwcmV2ZW50VGFwOmZ1bmN0aW9uKGEpe2MuZGVsZXRlKGEpfX07Yi5yZWdpc3RlclJlY29nbml6ZXIoInRhcCIsZCl9KHdpbmRvdy5Qb2ludGVyR2VzdHVyZXMpLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGEoYSl7Zm9yKDthLnBhcmVudE5vZGU7KWE9YS5wYXJlbnROb2RlO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBhLmdldEVsZW1lbnRCeUlkP2E6bnVsbH1mdW5jdGlvbiBiKGEsYil7dmFyIGM9YS5iaW5kaW5ncztpZighYylyZXR1cm4gdm9pZChhLmJpbmRpbmdzPXt9KTt2YXIgZD1jW2JdO2QmJihkLmNsb3NlKCksY1tiXT12b2lkIDApfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIG51bGw9PWE/IiI6YX1mdW5jdGlvbiBkKGEsYil7YS5kYXRhPWMoYil9ZnVuY3Rpb24gZShhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGQoYSxiKX19ZnVuY3Rpb24gZihhLGIsZCxlKXtyZXR1cm4gZD92b2lkKGU/YS5zZXRBdHRyaWJ1dGUoYiwiIik6YS5yZW1vdmVBdHRyaWJ1dGUoYikpOnZvaWQgYS5zZXRBdHRyaWJ1dGUoYixjKGUpKX1mdW5jdGlvbiBnKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7ZihhLGIsYyxkKX19ZnVuY3Rpb24gaChhKXtzd2l0Y2goYS50eXBlKXtjYXNlImNoZWNrYm94IjpyZXR1cm4gcztjYXNlInJhZGlvIjpjYXNlInNlbGVjdC1tdWx0aXBsZSI6Y2FzZSJzZWxlY3Qtb25lIjpyZXR1cm4iY2hhbmdlIjtjYXNlInJhbmdlIjppZigvVHJpZGVudHxNU0lFLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKXJldHVybiJjaGFuZ2UiO2RlZmF1bHQ6cmV0dXJuImlucHV0In19ZnVuY3Rpb24gaShhLGIsZCxlKXthW2JdPShlfHxjKShkKX1mdW5jdGlvbiBqKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7cmV0dXJuIGkoYSxiLGQsYyl9fWZ1bmN0aW9uIGsoKXt9ZnVuY3Rpb24gbChhLGIsYyxkKXtmdW5jdGlvbiBlKCl7Yy5zZXRWYWx1ZShhW2JdKSxjLmRpc2NhcmRDaGFuZ2VzKCksKGR8fGspKGEpLFBsYXRmb3JtLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50KCl9dmFyIGY9aChhKTthLmFkZEV2ZW50TGlzdGVuZXIoZixlKTt2YXIgZz1jLmNsb3NlO2MuY2xvc2U9ZnVuY3Rpb24oKXtnJiYoYS5yZW1vdmVFdmVudExpc3RlbmVyKGYsZSksYy5jbG9zZT1nLGMuY2xvc2UoKSxnPXZvaWQgMCl9fWZ1bmN0aW9uIG0oYSl7cmV0dXJuIEJvb2xlYW4oYSl9ZnVuY3Rpb24gbihiKXtpZihiLmZvcm0pcmV0dXJuIHIoYi5mb3JtLmVsZW1lbnRzLGZ1bmN0aW9uKGEpe3JldHVybiBhIT1iJiYiSU5QVVQiPT1hLnRhZ05hbWUmJiJyYWRpbyI9PWEudHlwZSYmYS5uYW1lPT1iLm5hbWV9KTt2YXIgYz1hKGIpO2lmKCFjKXJldHVybltdO3ZhciBkPWMucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT0icmFkaW8iXVtuYW1lPSInK2IubmFtZSsnIl0nKTtyZXR1cm4gcihkLGZ1bmN0aW9uKGEpe3JldHVybiBhIT1iJiYhYS5mb3JtfSl9ZnVuY3Rpb24gbyhhKXsiSU5QVVQiPT09YS50YWdOYW1lJiYicmFkaW8iPT09YS50eXBlJiZuKGEpLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YS5iaW5kaW5ncy5jaGVja2VkO2ImJmIuc2V0VmFsdWUoITEpfSl9ZnVuY3Rpb24gcChhLGIpe3ZhciBkLGUsZixnPWEucGFyZW50Tm9kZTtnIGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnQmJmcuYmluZGluZ3MmJmcuYmluZGluZ3MudmFsdWUmJihkPWcsZT1kLmJpbmRpbmdzLnZhbHVlLGY9ZC52YWx1ZSksYS52YWx1ZT1jKGIpLGQmJmQudmFsdWUhPWYmJihlLnNldFZhbHVlKGQudmFsdWUpLGUuZGlzY2FyZENoYW5nZXMoKSxQbGF0Zm9ybS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludCgpKX1mdW5jdGlvbiBxKGEpe3JldHVybiBmdW5jdGlvbihiKXtwKGEsYil9fXZhciByPUFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5maWx0ZXIpOyJmdW5jdGlvbiIhPXR5cGVvZiBkb2N1bWVudC5jb250YWlucyYmKERvY3VtZW50LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihhKXtyZXR1cm4gYT09PXRoaXN8fGEucGFyZW50Tm9kZT09PXRoaXM/ITA6dGhpcy5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMoYSl9KSxOb2RlLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYil7Y29uc29sZS5lcnJvcigiVW5oYW5kbGVkIGJpbmRpbmcgdG8gTm9kZTogIix0aGlzLGEsYil9LE5vZGUucHJvdG90eXBlLnVuYmluZD1mdW5jdGlvbihhKXtiKHRoaXMsYSl9LE5vZGUucHJvdG90eXBlLnVuYmluZEFsbD1mdW5jdGlvbigpe2lmKHRoaXMuYmluZGluZ3Mpe2Zvcih2YXIgYT1PYmplY3Qua2V5cyh0aGlzLmJpbmRpbmdzKSxiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPXRoaXMuYmluZGluZ3NbYVtiXV07YyYmYy5jbG9zZSgpfXRoaXMuYmluZGluZ3M9e319fSxUZXh0LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYyxmKXtyZXR1cm4idGV4dENvbnRlbnQiIT09YT9Ob2RlLnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGMsZik6Zj9kKHRoaXMsYyk6KGIodGhpcywidGV4dENvbnRlbnQiKSxkKHRoaXMsYy5vcGVuKGUodGhpcykpKSx0aGlzLmJpbmRpbmdzLnRleHRDb250ZW50PWMpfSxFbGVtZW50LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYyxkKXt2YXIgZT0iPyI9PWFbYS5sZW5ndGgtMV07cmV0dXJuIGUmJih0aGlzLnJlbW92ZUF0dHJpYnV0ZShhKSxhPWEuc2xpY2UoMCwtMSkpLGQ/Zih0aGlzLGEsZSxjKTooYih0aGlzLGEpLGYodGhpcyxhLGUsYy5vcGVuKGcodGhpcyxhLGUpKSksdGhpcy5iaW5kaW5nc1thXT1jKX07dmFyIHM7IWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksYj1hLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0IikpO2Iuc2V0QXR0cmlidXRlKCJ0eXBlIiwiY2hlY2tib3giKTt2YXIgYyxkPTA7Yi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oKXtkKyssYz1jfHwiY2xpY2sifSksYi5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLGZ1bmN0aW9uKCl7ZCsrLGM9Y3x8ImNoYW5nZSJ9KTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFdmVudCgiTW91c2VFdmVudCIpO2UuaW5pdE1vdXNlRXZlbnQoImNsaWNrIiwhMCwhMCx3aW5kb3csMCwwLDAsMCwwLCExLCExLCExLCExLDAsbnVsbCksYi5kaXNwYXRjaEV2ZW50KGUpLHM9MT09ZD8iY2hhbmdlIjpjfSgpLEhUTUxJbnB1dEVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxkLGUpe2lmKCJ2YWx1ZSIhPT1hJiYiY2hlY2tlZCIhPT1hKXJldHVybiBIVE1MRWxlbWVudC5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsYSxkLGUpO3RoaXMucmVtb3ZlQXR0cmlidXRlKGEpO3ZhciBmPSJjaGVja2VkIj09YT9tOmMsZz0iY2hlY2tlZCI9PWE/bzprO3JldHVybiBlP2kodGhpcyxhLGQsZik6KGIodGhpcyxhKSxsKHRoaXMsYSxkLGcpLGkodGhpcyxhLGQub3BlbihqKHRoaXMsYSxmKSksZiksdGhpcy5iaW5kaW5nc1thXT1kKX0sSFRNTFRleHRBcmVhRWxlbWVudC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGQsZSl7cmV0dXJuInZhbHVlIiE9PWE/SFRNTEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsZCxlKToodGhpcy5yZW1vdmVBdHRyaWJ1dGUoInZhbHVlIiksZT9pKHRoaXMsInZhbHVlIixkKTooYih0aGlzLCJ2YWx1ZSIpLGwodGhpcywidmFsdWUiLGQpLGkodGhpcywidmFsdWUiLGQub3BlbihqKHRoaXMsInZhbHVlIixjKSkpLHRoaXMuYmluZGluZ3MudmFsdWU9ZCkpfSxIVE1MT3B0aW9uRWxlbWVudC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGMsZCl7cmV0dXJuInZhbHVlIiE9PWE/SFRNTEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsYyxkKToodGhpcy5yZW1vdmVBdHRyaWJ1dGUoInZhbHVlIiksZD9wKHRoaXMsYyk6KGIodGhpcywidmFsdWUiKSxsKHRoaXMsInZhbHVlIixjKSxwKHRoaXMsYy5vcGVuKHEodGhpcykpKSx0aGlzLmJpbmRpbmdzLnZhbHVlPWMpKX0sSFRNTFNlbGVjdEVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxjLGQpe3JldHVybiJzZWxlY3RlZGluZGV4Ij09PWEmJihhPSJzZWxlY3RlZEluZGV4IiksInNlbGVjdGVkSW5kZXgiIT09YSYmInZhbHVlIiE9PWE/SFRNTEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsYyxkKToodGhpcy5yZW1vdmVBdHRyaWJ1dGUoYSksZD9pKHRoaXMsYSxjKTooYih0aGlzLGEpLGwodGhpcyxhLGMpLGkodGhpcyxhLGMub3BlbihqKHRoaXMsYSkpKSx0aGlzLmJpbmRpbmdzW2FdPWMpKX19KHRoaXMpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2lmKCFhKXRocm93IG5ldyBFcnJvcigiQXNzZXJ0aW9uIGZhaWxlZCIpfWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBiO2I9YS5wYXJlbnROb2RlOylhPWI7cmV0dXJuIGF9ZnVuY3Rpb24gZChhLGIpe2lmKGIpe2Zvcih2YXIgZCxlPSIjIitiOyFkJiYoYT1jKGEpLGEucHJvdG9Db250ZW50Xz9kPWEucHJvdG9Db250ZW50Xy5xdWVyeVNlbGVjdG9yKGUpOmEuZ2V0RWxlbWVudEJ5SWQmJihkPWEuZ2V0RWxlbWVudEJ5SWQoYikpLCFkJiZhLnRlbXBsYXRlQ3JlYXRvcl8pOylhPWEudGVtcGxhdGVDcmVhdG9yXztyZXR1cm4gZH19ZnVuY3Rpb24gZShhKXtyZXR1cm4idGVtcGxhdGUiPT1hLnRhZ05hbWUmJiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI9PWEubmFtZXNwYWNlVVJJfWZ1bmN0aW9uIGYoYSl7cmV0dXJuIlRFTVBMQVRFIj09YS50YWdOYW1lJiYiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI9PWEubmFtZXNwYWNlVVJJfWZ1bmN0aW9uIGcoYSl7cmV0dXJuIEJvb2xlYW4oSlthLnRhZ05hbWVdJiZhLmhhc0F0dHJpYnV0ZSgidGVtcGxhdGUiKSl9ZnVuY3Rpb24gaChhKXtyZXR1cm4gdm9pZCAwPT09YS5pc1RlbXBsYXRlXyYmKGEuaXNUZW1wbGF0ZV89IlRFTVBMQVRFIj09YS50YWdOYW1lfHxnKGEpKSxhLmlzVGVtcGxhdGVffWZ1bmN0aW9uIGkoYSxiKXt2YXIgYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoTCk7aChhKSYmYihhKSxFKGMsYil9ZnVuY3Rpb24gaihhKXtmdW5jdGlvbiBiKGEpe0hUTUxUZW1wbGF0ZUVsZW1lbnQuZGVjb3JhdGUoYSl8fGooYS5jb250ZW50KX1pKGEsYil9ZnVuY3Rpb24gayhhLGIpe09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGIpLmZvckVhY2goZnVuY3Rpb24oYyl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYyxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGIsYykpfSl9ZnVuY3Rpb24gbChhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQ7aWYoIWIuZGVmYXVsdFZpZXcpcmV0dXJuIGI7dmFyIGM9Yi50ZW1wbGF0ZUNvbnRlbnRzT3duZXJfO2lmKCFjKXtmb3IoYz1iLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIik7Yy5sYXN0Q2hpbGQ7KWMucmVtb3ZlQ2hpbGQoYy5sYXN0Q2hpbGQpO2IudGVtcGxhdGVDb250ZW50c093bmVyXz1jfXJldHVybiBjfWZ1bmN0aW9uIG0oYSl7aWYoIWEuc3RhZ2luZ0RvY3VtZW50Xyl7dmFyIGI9YS5vd25lckRvY3VtZW50O2lmKCFiLnN0YWdpbmdEb2N1bWVudF8pe2Iuc3RhZ2luZ0RvY3VtZW50Xz1iLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIik7dmFyIGM9Yi5zdGFnaW5nRG9jdW1lbnRfLmNyZWF0ZUVsZW1lbnQoImJhc2UiKTtjLmhyZWY9ZG9jdW1lbnQuYmFzZVVSSSxiLnN0YWdpbmdEb2N1bWVudF8uaGVhZC5hcHBlbmRDaGlsZChjKSxiLnN0YWdpbmdEb2N1bWVudF8uc3RhZ2luZ0RvY3VtZW50Xz1iLnN0YWdpbmdEb2N1bWVudF99YS5zdGFnaW5nRG9jdW1lbnRfPWIuc3RhZ2luZ0RvY3VtZW50X31yZXR1cm4gYS5zdGFnaW5nRG9jdW1lbnRffWZ1bmN0aW9uIG4oYSl7dmFyIGI9YS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRlbXBsYXRlIik7YS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShiLGEpO2Zvcih2YXIgYz1hLmF0dHJpYnV0ZXMsZD1jLmxlbmd0aDtkLS0+MDspe3ZhciBlPWNbZF07SVtlLm5hbWVdJiYoInRlbXBsYXRlIiE9PWUubmFtZSYmYi5zZXRBdHRyaWJ1dGUoZS5uYW1lLGUudmFsdWUpLGEucmVtb3ZlQXR0cmlidXRlKGUubmFtZSkpfXJldHVybiBifWZ1bmN0aW9uIG8oYSl7dmFyIGI9YS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRlbXBsYXRlIik7YS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShiLGEpO2Zvcih2YXIgYz1hLmF0dHJpYnV0ZXMsZD1jLmxlbmd0aDtkLS0+MDspe3ZhciBlPWNbZF07Yi5zZXRBdHRyaWJ1dGUoZS5uYW1lLGUudmFsdWUpLGEucmVtb3ZlQXR0cmlidXRlKGUubmFtZSl9cmV0dXJuIGEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKSxifWZ1bmN0aW9uIHAoYSxiLGMpe3ZhciBkPWEuY29udGVudDtpZihjKXJldHVybiB2b2lkIGQuYXBwZW5kQ2hpbGQoYik7Zm9yKHZhciBlO2U9Yi5maXJzdENoaWxkOylkLmFwcGVuZENoaWxkKGUpfWZ1bmN0aW9uIHEoYSl7Tj9hLl9fcHJvdG9fXz1IVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZTprKGEsSFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGUpfWZ1bmN0aW9uIHIoYSl7YS5zZXRNb2RlbEZuX3x8KGEuc2V0TW9kZWxGbl89ZnVuY3Rpb24oKXthLnNldE1vZGVsRm5TY2hlZHVsZWRfPSExO3ZhciBiPXooYSxhLmRlbGVnYXRlXyYmYS5kZWxlZ2F0ZV8ucHJlcGFyZUJpbmRpbmcpO3coYSxiLGEubW9kZWxfKX0pLGEuc2V0TW9kZWxGblNjaGVkdWxlZF98fChhLnNldE1vZGVsRm5TY2hlZHVsZWRfPSEwLE9ic2VydmVyLnJ1bkVPTV8oYS5zZXRNb2RlbEZuXykpfWZ1bmN0aW9uIHMoYSxiLGMsZCl7aWYoYSYmYS5sZW5ndGgpe2Zvcih2YXIgZSxmPWEubGVuZ3RoLGc9MCxoPTAsaT0wLGo9ITA7Zj5oOyl7dmFyIGc9YS5pbmRleE9mKCJ7eyIsaCksaz1hLmluZGV4T2YoIltbIixoKSxsPSExLG09In19IjtpZihrPj0wJiYoMD5nfHxnPmspJiYoZz1rLGw9ITAsbT0iXV0iKSxpPTA+Zz8tMTphLmluZGV4T2YobSxnKzIpLDA+aSl7aWYoIWUpcmV0dXJuO2UucHVzaChhLnNsaWNlKGgpKTticmVha31lPWV8fFtdLGUucHVzaChhLnNsaWNlKGgsZykpO3ZhciBuPWEuc2xpY2UoZysyLGkpLnRyaW0oKTtlLnB1c2gobCksaj1qJiZsLGUucHVzaChQYXRoLmdldChuKSk7dmFyIG89ZCYmZChuLGIsYyk7ZS5wdXNoKG8pLGg9aSsyfXJldHVybiBoPT09ZiYmZS5wdXNoKCIiKSxlLmhhc09uZVBhdGg9NT09PWUubGVuZ3RoLGUuaXNTaW1wbGVQYXRoPWUuaGFzT25lUGF0aCYmIiI9PWVbMF0mJiIiPT1lWzRdLGUub25seU9uZVRpbWU9aixlLmNvbWJpbmF0b3I9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWVbMF0sYz0xO2M8ZS5sZW5ndGg7Yys9NCl7dmFyIGQ9ZS5oYXNPbmVQYXRoP2E6YVsoYy0xKS80XTt2b2lkIDAhPT1kJiYoYis9ZCksYis9ZVtjKzNdfXJldHVybiBifSxlfX1mdW5jdGlvbiB0KGEsYixjLGQpe2lmKGIuaGFzT25lUGF0aCl7dmFyIGU9YlszXSxmPWU/ZShkLGMsITApOmJbMl0uZ2V0VmFsdWVGcm9tKGQpO3JldHVybiBiLmlzU2ltcGxlUGF0aD9mOmIuY29tYmluYXRvcihmKX1mb3IodmFyIGc9W10saD0xO2g8Yi5sZW5ndGg7aCs9NCl7dmFyIGU9YltoKzJdO2dbKGgtMSkvNF09ZT9lKGQsYyk6YltoKzFdLmdldFZhbHVlRnJvbShkKX1yZXR1cm4gYi5jb21iaW5hdG9yKGcpfWZ1bmN0aW9uIHUoYSxiLGMsZCl7dmFyIGU9YlszXSxmPWU/ZShkLGMsITEpOm5ldyBQYXRoT2JzZXJ2ZXIoZCxiWzJdKTtyZXR1cm4gYi5pc1NpbXBsZVBhdGg/ZjpuZXcgT2JzZXJ2ZXJUcmFuc2Zvcm0oZixiLmNvbWJpbmF0b3IpfWZ1bmN0aW9uIHYoYSxiLGMsZCl7aWYoYi5vbmx5T25lVGltZSlyZXR1cm4gdChhLGIsYyxkKTtpZihiLmhhc09uZVBhdGgpcmV0dXJuIHUoYSxiLGMsZCk7Zm9yKHZhciBlPW5ldyBDb21wb3VuZE9ic2VydmVyLGY9MTtmPGIubGVuZ3RoO2YrPTQpe3ZhciBnPWJbZl0saD1iW2YrMl07aWYoaCl7dmFyIGk9aChkLGMsZyk7Zz9lLmFkZFBhdGgoaSk6ZS5hZGRPYnNlcnZlcihpKX1lbHNle3ZhciBqPWJbZisxXTtnP2UuYWRkUGF0aChqLmdldFZhbHVlRnJvbShkKSk6ZS5hZGRQYXRoKGQsail9fXJldHVybiBuZXcgT2JzZXJ2ZXJUcmFuc2Zvcm0oZSxiLmNvbWJpbmF0b3IpfWZ1bmN0aW9uIHcoYSxiLGMsZCl7Zm9yKHZhciBlPTA7ZTxiLmxlbmd0aDtlKz0yKXt2YXIgZj1iW2VdLGc9YltlKzFdLGg9dihmLGcsYSxjKSxpPWEuYmluZChmLGgsZy5vbmx5T25lVGltZSk7aSYmZCYmZC5wdXNoKGkpfWlmKGIuaXNUZW1wbGF0ZSl7YS5tb2RlbF89Yzt2YXIgaj1hLnByb2Nlc3NCaW5kaW5nRGlyZWN0aXZlc18oYik7ZCYmaiYmZC5wdXNoKGopfX1mdW5jdGlvbiB4KGEsYixjKXt2YXIgZD1hLmdldEF0dHJpYnV0ZShiKTtyZXR1cm4gcygiIj09ZD8ie3t9fSI6ZCxiLGEsYyl9ZnVuY3Rpb24geShhLGMpe2IoYSk7Zm9yKHZhciBkPVtdLGU9MDtlPGEuYXR0cmlidXRlcy5sZW5ndGg7ZSsrKXtmb3IodmFyIGY9YS5hdHRyaWJ1dGVzW2VdLGc9Zi5uYW1lLGk9Zi52YWx1ZTsiXyI9PT1nWzBdOylnPWcuc3Vic3RyaW5nKDEpO2lmKCFoKGEpfHxnIT09SCYmZyE9PUYmJmchPT1HKXt2YXIgaj1zKGksZyxhLGMpO2omJmQucHVzaChnLGopfX1yZXR1cm4gaChhKSYmKGQuaXNUZW1wbGF0ZT0hMCxkLmlmPXgoYSxILGMpLGQuYmluZD14KGEsRixjKSxkLnJlcGVhdD14KGEsRyxjKSwhZC5pZnx8ZC5iaW5kfHxkLnJlcGVhdHx8KGQuYmluZD1zKCJ7e319IixGLGEsYykpKSxkfWZ1bmN0aW9uIHooYSxiKXtpZihhLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUpcmV0dXJuIHkoYSxiKTtpZihhLm5vZGVUeXBlPT09Tm9kZS5URVhUX05PREUpe3ZhciBjPXMoYS5kYXRhLCJ0ZXh0Q29udGVudCIsYSxiKTtpZihjKXJldHVyblsidGV4dENvbnRlbnQiLGNdfXJldHVybltdfWZ1bmN0aW9uIEEoYSxiLGMsZCxlLGYsZyl7Zm9yKHZhciBoPWIuYXBwZW5kQ2hpbGQoYy5pbXBvcnROb2RlKGEsITEpKSxpPTAsaj1hLmZpcnN0Q2hpbGQ7ajtqPWoubmV4dFNpYmxpbmcpQShqLGgsYyxkLmNoaWxkcmVuW2krK10sZSxmLGcpO3JldHVybiBkLmlzVGVtcGxhdGUmJihIVE1MVGVtcGxhdGVFbGVtZW50LmRlY29yYXRlKGgsYSksZiYmaC5zZXREZWxlZ2F0ZV8oZikpLHcoaCxkLGUsZyksaH1mdW5jdGlvbiBCKGEsYil7dmFyIGM9eihhLGIpO2MuY2hpbGRyZW49e307Zm9yKHZhciBkPTAsZT1hLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpYy5jaGlsZHJlbltkKytdPUIoZSxiKTtyZXR1cm4gY31mdW5jdGlvbiBDKGEpe3RoaXMuY2xvc2VkPSExLHRoaXMudGVtcGxhdGVFbGVtZW50Xz1hLHRoaXMudGVybWluYXRvcnM9W10sdGhpcy5kZXBzPXZvaWQgMCx0aGlzLml0ZXJhdGVkVmFsdWU9W10sdGhpcy5wcmVzZW50VmFsdWU9dm9pZCAwLHRoaXMuYXJyYXlPYnNlcnZlcj12b2lkIDB9dmFyIEQsRT1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpOwphLk1hcCYmImZ1bmN0aW9uIj09dHlwZW9mIGEuTWFwLnByb3RvdHlwZS5mb3JFYWNoP0Q9YS5NYXA6KEQ9ZnVuY3Rpb24oKXt0aGlzLmtleXM9W10sdGhpcy52YWx1ZXM9W119LEQucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmtleXMuaW5kZXhPZihhKTswPmM/KHRoaXMua2V5cy5wdXNoKGEpLHRoaXMudmFsdWVzLnB1c2goYikpOnRoaXMudmFsdWVzW2NdPWJ9LGdldDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmtleXMuaW5kZXhPZihhKTtpZighKDA+YikpcmV0dXJuIHRoaXMudmFsdWVzW2JdfSwiZGVsZXRlIjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmtleXMuaW5kZXhPZihhKTtyZXR1cm4gMD5iPyExOih0aGlzLmtleXMuc3BsaWNlKGIsMSksdGhpcy52YWx1ZXMuc3BsaWNlKGIsMSksITApfSxmb3JFYWNoOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yzx0aGlzLmtleXMubGVuZ3RoO2MrKylhLmNhbGwoYnx8dGhpcyx0aGlzLnZhbHVlc1tjXSx0aGlzLmtleXNbY10sdGhpcyl9fSk7ImZ1bmN0aW9uIiE9dHlwZW9mIGRvY3VtZW50LmNvbnRhaW5zJiYoRG9jdW1lbnQucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09dGhpc3x8YS5wYXJlbnROb2RlPT09dGhpcz8hMDp0aGlzLmRvY3VtZW50RWxlbWVudC5jb250YWlucyhhKX0pO3ZhciBGPSJiaW5kIixHPSJyZXBlYXQiLEg9ImlmIixJPXt0ZW1wbGF0ZTohMCxyZXBlYXQ6ITAsYmluZDohMCxyZWY6ITB9LEo9e1RIRUFEOiEwLFRCT0RZOiEwLFRGT09UOiEwLFRIOiEwLFRSOiEwLFREOiEwLENPTEdST1VQOiEwLENPTDohMCxDQVBUSU9OOiEwLE9QVElPTjohMCxPUFRHUk9VUDohMH0sSz0idW5kZWZpbmVkIiE9dHlwZW9mIEhUTUxUZW1wbGF0ZUVsZW1lbnQ7SyYmIWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKSxiPWEuY29udGVudC5vd25lckRvY3VtZW50LGM9Yi5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQoImh0bWwiKSksZD1jLmFwcGVuZENoaWxkKGIuY3JlYXRlRWxlbWVudCgiaGVhZCIpKSxlPWIuY3JlYXRlRWxlbWVudCgiYmFzZSIpO2UuaHJlZj1kb2N1bWVudC5iYXNlVVJJLGQuYXBwZW5kQ2hpbGQoZSl9KCk7dmFyIEw9InRlbXBsYXRlLCAiK09iamVjdC5rZXlzKEopLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS50b0xvd2VyQ2FzZSgpKyJbdGVtcGxhdGVdIn0pLmpvaW4oIiwgIik7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXtqKGRvY3VtZW50KSxQbGF0Zm9ybS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludCgpfSwhMSksS3x8KGEuSFRNTFRlbXBsYXRlRWxlbWVudD1mdW5jdGlvbigpe3Rocm93IFR5cGVFcnJvcigiSWxsZWdhbCBjb25zdHJ1Y3RvciIpfSk7dmFyIE0sTj0iX19wcm90b19fImlue307ImZ1bmN0aW9uIj09dHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXImJihNPW5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWFbYl0udGFyZ2V0LnJlZkNoYW5nZWRfKCl9KSksSFRNTFRlbXBsYXRlRWxlbWVudC5kZWNvcmF0ZT1mdW5jdGlvbihhLGMpe2lmKGEudGVtcGxhdGVJc0RlY29yYXRlZF8pcmV0dXJuITE7dmFyIGQ9YTtkLnRlbXBsYXRlSXNEZWNvcmF0ZWRfPSEwO3ZhciBoPWYoZCkmJkssaT1oLGs9IWgsbT0hMTtpZihofHwoZyhkKT8oYighYyksZD1uKGEpLGQudGVtcGxhdGVJc0RlY29yYXRlZF89ITAsaD1LLG09ITApOmUoZCkmJihkPW8oYSksZC50ZW1wbGF0ZUlzRGVjb3JhdGVkXz0hMCxoPUspKSwhaCl7cShkKTt2YXIgcj1sKGQpO2QuY29udGVudF89ci5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCl9cmV0dXJuIGM/ZC5pbnN0YW5jZVJlZl89YzprP3AoZCxhLG0pOmkmJmooZC5jb250ZW50KSwhMH0sSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXA9ajt2YXIgTz1hLkhUTUxVbmtub3duRWxlbWVudHx8SFRNTEVsZW1lbnQsUD17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudF99LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfTtLfHwoSFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShPLnByb3RvdHlwZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlLCJjb250ZW50IixQKSksayhIVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZSx7YmluZDpmdW5jdGlvbihhLGIsYyl7aWYoInJlZiIhPWEpcmV0dXJuIEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsYixjKTt2YXIgZD10aGlzLGU9Yz9iOmIub3BlbihmdW5jdGlvbihhKXtkLnNldEF0dHJpYnV0ZSgicmVmIixhKSxkLnJlZkNoYW5nZWRfKCl9KTtyZXR1cm4gdGhpcy5zZXRBdHRyaWJ1dGUoInJlZiIsZSksdGhpcy5yZWZDaGFuZ2VkXygpLGM/dm9pZCAwOih0aGlzLnVuYmluZCgicmVmIiksdGhpcy5iaW5kaW5ncy5yZWY9Yil9LHByb2Nlc3NCaW5kaW5nRGlyZWN0aXZlc186ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXRlcmF0b3JfJiZ0aGlzLml0ZXJhdG9yXy5jbG9zZURlcHMoKSxhLmlmfHxhLmJpbmR8fGEucmVwZWF0Pyh0aGlzLml0ZXJhdG9yX3x8KHRoaXMuaXRlcmF0b3JfPW5ldyBDKHRoaXMpLHRoaXMuYmluZGluZ3M9dGhpcy5iaW5kaW5nc3x8e30sdGhpcy5iaW5kaW5ncy5pdGVyYXRvcj10aGlzLml0ZXJhdG9yXyksdGhpcy5pdGVyYXRvcl8udXBkYXRlRGVwZW5kZW5jaWVzKGEsdGhpcy5tb2RlbF8pLE0mJk0ub2JzZXJ2ZSh0aGlzLHthdHRyaWJ1dGVzOiEwLGF0dHJpYnV0ZUZpbHRlcjpbInJlZiJdfSksdGhpcy5pdGVyYXRvcl8pOnZvaWQodGhpcy5pdGVyYXRvcl8mJih0aGlzLml0ZXJhdG9yXy5jbG9zZSgpLHRoaXMuaXRlcmF0b3JfPXZvaWQgMCx0aGlzLmJpbmRpbmdzLml0ZXJhdG9yPXZvaWQgMCkpfSxjcmVhdGVJbnN0YW5jZTpmdW5jdGlvbihhLGIsYyxkKXtiJiYoYz10aGlzLm5ld0RlbGVnYXRlXyhiKSksdGhpcy5yZWZDb250ZW50X3x8KHRoaXMucmVmQ29udGVudF89dGhpcy5yZWZfLmNvbnRlbnQpO3ZhciBlPXRoaXMucmVmQ29udGVudF8sZj10aGlzLmJpbmRpbmdNYXBfO2YmJmYuY29udGVudD09PWV8fChmPUIoZSxjJiZjLnByZXBhcmVCaW5kaW5nKXx8W10sZi5jb250ZW50PWUsdGhpcy5iaW5kaW5nTWFwXz1mKTt2YXIgZz1tKHRoaXMpLGg9Zy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7aC50ZW1wbGF0ZUNyZWF0b3JfPXRoaXMsaC5wcm90b0NvbnRlbnRfPWU7Zm9yKHZhciBpPXtmaXJzdE5vZGU6bnVsbCxsYXN0Tm9kZTpudWxsLG1vZGVsOmF9LGo9MCxrPWUuZmlyc3RDaGlsZDtrO2s9ay5uZXh0U2libGluZyl7dmFyIGw9QShrLGgsZyxmLmNoaWxkcmVuW2orK10sYSxjLGQpO2wudGVtcGxhdGVJbnN0YW5jZV89aX1yZXR1cm4gaS5maXJzdE5vZGU9aC5maXJzdENoaWxkLGkubGFzdE5vZGU9aC5sYXN0Q2hpbGQsaC50ZW1wbGF0ZUNyZWF0b3JfPXZvaWQgMCxoLnByb3RvQ29udGVudF89dm9pZCAwLGh9LGdldCBtb2RlbCgpe3JldHVybiB0aGlzLm1vZGVsX30sc2V0IG1vZGVsKGEpe3RoaXMubW9kZWxfPWEscih0aGlzKX0sZ2V0IGJpbmRpbmdEZWxlZ2F0ZSgpe3JldHVybiB0aGlzLmRlbGVnYXRlXyYmdGhpcy5kZWxlZ2F0ZV8ucmF3fSxyZWZDaGFuZ2VkXzpmdW5jdGlvbigpe3RoaXMuaXRlcmF0b3JfJiZ0aGlzLnJlZkNvbnRlbnRfIT09dGhpcy5yZWZfLmNvbnRlbnQmJih0aGlzLnJlZkNvbnRlbnRfPXZvaWQgMCx0aGlzLml0ZXJhdG9yXy52YWx1ZUNoYW5nZWQoKSx0aGlzLml0ZXJhdG9yXy51cGRhdGVJdGVyYXRlZFZhbHVlKCkpfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMubW9kZWxfPXZvaWQgMCx0aGlzLmRlbGVnYXRlXz12b2lkIDAsdGhpcy5iaW5kaW5nc189dm9pZCAwLHRoaXMucmVmQ29udGVudF89dm9pZCAwLHRoaXMuaXRlcmF0b3JfJiYodGhpcy5pdGVyYXRvcl8udmFsdWVDaGFuZ2VkKCksdGhpcy5pdGVyYXRvcl8uY2xvc2UoKSx0aGlzLml0ZXJhdG9yXz12b2lkIDApfSxzZXREZWxlZ2F0ZV86ZnVuY3Rpb24oYSl7dGhpcy5kZWxlZ2F0ZV89YSx0aGlzLmJpbmRpbmdNYXBfPXZvaWQgMCx0aGlzLml0ZXJhdG9yXyYmKHRoaXMuaXRlcmF0b3JfLmluc3RhbmNlUG9zaXRpb25DaGFuZ2VkRm5fPXZvaWQgMCx0aGlzLml0ZXJhdG9yXy5pbnN0YW5jZU1vZGVsRm5fPXZvaWQgMCl9LG5ld0RlbGVnYXRlXzpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIpe3ZhciBjPWEmJmFbYl07aWYoImZ1bmN0aW9uIj09dHlwZW9mIGMpcmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGMuYXBwbHkoYSxhcmd1bWVudHMpfX1yZXR1cm4gYT97cmF3OmEscHJlcGFyZUJpbmRpbmc6YigicHJlcGFyZUJpbmRpbmciKSxwcmVwYXJlSW5zdGFuY2VNb2RlbDpiKCJwcmVwYXJlSW5zdGFuY2VNb2RlbCIpLHByZXBhcmVJbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZDpiKCJwcmVwYXJlSW5zdGFuY2VQb3NpdGlvbkNoYW5nZWQiKX06e319LHNldCBiaW5kaW5nRGVsZWdhdGUoYSl7aWYodGhpcy5kZWxlZ2F0ZV8pdGhyb3cgRXJyb3IoIlRlbXBsYXRlIG11c3QgYmUgY2xlYXJlZCBiZWZvcmUgYSBuZXcgYmluZGluZ0RlbGVnYXRlIGNhbiBiZSBhc3NpZ25lZCIpO3RoaXMuc2V0RGVsZWdhdGVfKHRoaXMubmV3RGVsZWdhdGVfKGEpKX0sZ2V0IHJlZl8oKXt2YXIgYT1kKHRoaXMsdGhpcy5nZXRBdHRyaWJ1dGUoInJlZiIpKTtpZihhfHwoYT10aGlzLmluc3RhbmNlUmVmXyksIWEpcmV0dXJuIHRoaXM7dmFyIGI9YS5yZWZfO3JldHVybiBiP2I6YX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZS5wcm90b3R5cGUsInRlbXBsYXRlSW5zdGFuY2UiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRlbXBsYXRlSW5zdGFuY2VfO3JldHVybiBhP2E6dGhpcy5wYXJlbnROb2RlP3RoaXMucGFyZW50Tm9kZS50ZW1wbGF0ZUluc3RhbmNlOnZvaWQgMH19KSxDLnByb3RvdHlwZT17Y2xvc2VEZXBzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5kZXBzO2EmJihhLmlmT25lVGltZT09PSExJiZhLmlmVmFsdWUuY2xvc2UoKSxhLm9uZVRpbWU9PT0hMSYmYS52YWx1ZS5jbG9zZSgpKX0sdXBkYXRlRGVwZW5kZW5jaWVzOmZ1bmN0aW9uKGEsYil7dGhpcy5jbG9zZURlcHMoKTt2YXIgYz10aGlzLmRlcHM9e30sZD10aGlzLnRlbXBsYXRlRWxlbWVudF87aWYoYS5pZil7aWYoYy5oYXNJZj0hMCxjLmlmT25lVGltZT1hLmlmLm9ubHlPbmVUaW1lLGMuaWZWYWx1ZT12KEgsYS5pZixkLGIpLGMuaWZPbmVUaW1lJiYhYy5pZlZhbHVlKXJldHVybiB2b2lkIHRoaXMudXBkYXRlSXRlcmF0ZWRWYWx1ZSgpO2MuaWZPbmVUaW1lfHxjLmlmVmFsdWUub3Blbih0aGlzLnVwZGF0ZUl0ZXJhdGVkVmFsdWUsdGhpcyl9YS5yZXBlYXQ/KGMucmVwZWF0PSEwLGMub25lVGltZT1hLnJlcGVhdC5vbmx5T25lVGltZSxjLnZhbHVlPXYoRyxhLnJlcGVhdCxkLGIpKTooYy5yZXBlYXQ9ITEsYy5vbmVUaW1lPWEuYmluZC5vbmx5T25lVGltZSxjLnZhbHVlPXYoRixhLmJpbmQsZCxiKSksYy5vbmVUaW1lfHxjLnZhbHVlLm9wZW4odGhpcy51cGRhdGVJdGVyYXRlZFZhbHVlLHRoaXMpLHRoaXMudXBkYXRlSXRlcmF0ZWRWYWx1ZSgpfSx1cGRhdGVJdGVyYXRlZFZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5kZXBzLmhhc0lmKXt2YXIgYT10aGlzLmRlcHMuaWZWYWx1ZTtpZih0aGlzLmRlcHMuaWZPbmVUaW1lfHwoYT1hLmRpc2NhcmRDaGFuZ2VzKCkpLCFhKXJldHVybiB2b2lkIHRoaXMudmFsdWVDaGFuZ2VkKCl9dmFyIGI9dGhpcy5kZXBzLnZhbHVlO3RoaXMuZGVwcy5vbmVUaW1lfHwoYj1iLmRpc2NhcmRDaGFuZ2VzKCkpLHRoaXMuZGVwcy5yZXBlYXR8fChiPVtiXSk7dmFyIGM9dGhpcy5kZXBzLnJlcGVhdCYmIXRoaXMuZGVwcy5vbmVUaW1lJiZBcnJheS5pc0FycmF5KGIpO3RoaXMudmFsdWVDaGFuZ2VkKGIsYyl9LHZhbHVlQ2hhbmdlZDpmdW5jdGlvbihhLGIpe0FycmF5LmlzQXJyYXkoYSl8fChhPVtdKSxhIT09dGhpcy5pdGVyYXRlZFZhbHVlJiYodGhpcy51bm9ic2VydmUoKSx0aGlzLnByZXNlbnRWYWx1ZT1hLGImJih0aGlzLmFycmF5T2JzZXJ2ZXI9bmV3IEFycmF5T2JzZXJ2ZXIodGhpcy5wcmVzZW50VmFsdWUpLHRoaXMuYXJyYXlPYnNlcnZlci5vcGVuKHRoaXMuaGFuZGxlU3BsaWNlcyx0aGlzKSksdGhpcy5oYW5kbGVTcGxpY2VzKEFycmF5T2JzZXJ2ZXIuY2FsY3VsYXRlU3BsaWNlcyh0aGlzLnByZXNlbnRWYWx1ZSx0aGlzLml0ZXJhdGVkVmFsdWUpKSl9LGdldFRlcm1pbmF0b3JBdDpmdW5jdGlvbihhKXtpZigtMT09YSlyZXR1cm4gdGhpcy50ZW1wbGF0ZUVsZW1lbnRfO3ZhciBiPXRoaXMudGVybWluYXRvcnNbMiphXTtpZihiLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREV8fHRoaXMudGVtcGxhdGVFbGVtZW50Xz09PWIpcmV0dXJuIGI7dmFyIGM9Yi5pdGVyYXRvcl87cmV0dXJuIGM/Yy5nZXRUZXJtaW5hdG9yQXQoYy50ZXJtaW5hdG9ycy5sZW5ndGgvMi0xKTpifSxpbnNlcnRJbnN0YW5jZUF0OmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuZ2V0VGVybWluYXRvckF0KGEtMSksZj1lO2I/Zj1iLmxhc3RDaGlsZHx8ZjpjJiYoZj1jW2MubGVuZ3RoLTFdfHxmKSx0aGlzLnRlcm1pbmF0b3JzLnNwbGljZSgyKmEsMCxmLGQpO3ZhciBnPXRoaXMudGVtcGxhdGVFbGVtZW50Xy5wYXJlbnROb2RlLGg9ZS5uZXh0U2libGluZztpZihiKWcuaW5zZXJ0QmVmb3JlKGIsaCk7ZWxzZSBpZihjKWZvcih2YXIgaT0wO2k8Yy5sZW5ndGg7aSsrKWcuaW5zZXJ0QmVmb3JlKGNbaV0saCl9LGV4dHJhY3RJbnN0YW5jZUF0OmZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9dGhpcy5nZXRUZXJtaW5hdG9yQXQoYS0xKSxkPXRoaXMuZ2V0VGVybWluYXRvckF0KGEpO2IuaW5zdGFuY2VCaW5kaW5ncz10aGlzLnRlcm1pbmF0b3JzWzIqYSsxXSx0aGlzLnRlcm1pbmF0b3JzLnNwbGljZSgyKmEsMik7Zm9yKHZhciBlPXRoaXMudGVtcGxhdGVFbGVtZW50Xy5wYXJlbnROb2RlO2QhPT1jOyl7dmFyIGY9Yy5uZXh0U2libGluZztmPT1kJiYoZD1jKSxlLnJlbW92ZUNoaWxkKGYpLGIucHVzaChmKX1yZXR1cm4gYn0sZ2V0RGVsZWdhdGVGbjpmdW5jdGlvbihhKXtyZXR1cm4gYT1hJiZhKHRoaXMudGVtcGxhdGVFbGVtZW50XyksImZ1bmN0aW9uIj09dHlwZW9mIGE/YTpudWxsfSxoYW5kbGVTcGxpY2VzOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmNsb3NlZCYmYS5sZW5ndGgpe3ZhciBiPXRoaXMudGVtcGxhdGVFbGVtZW50XztpZighYi5wYXJlbnROb2RlKXJldHVybiB2b2lkIHRoaXMuY2xvc2UoKTtBcnJheU9ic2VydmVyLmFwcGx5U3BsaWNlcyh0aGlzLml0ZXJhdGVkVmFsdWUsdGhpcy5wcmVzZW50VmFsdWUsYSk7dmFyIGM9Yi5kZWxlZ2F0ZV87dm9pZCAwPT09dGhpcy5pbnN0YW5jZU1vZGVsRm5fJiYodGhpcy5pbnN0YW5jZU1vZGVsRm5fPXRoaXMuZ2V0RGVsZWdhdGVGbihjJiZjLnByZXBhcmVJbnN0YW5jZU1vZGVsKSksdm9pZCAwPT09dGhpcy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXyYmKHRoaXMuaW5zdGFuY2VQb3NpdGlvbkNoYW5nZWRGbl89dGhpcy5nZXREZWxlZ2F0ZUZuKGMmJmMucHJlcGFyZUluc3RhbmNlUG9zaXRpb25DaGFuZ2VkKSk7dmFyIGQ9bmV3IEQsZT0wO2EuZm9yRWFjaChmdW5jdGlvbihhKXthLnJlbW92ZWQuZm9yRWFjaChmdW5jdGlvbihiKXt2YXIgYz10aGlzLmV4dHJhY3RJbnN0YW5jZUF0KGEuaW5kZXgrZSk7ZC5zZXQoYixjKX0sdGhpcyksZS09YS5hZGRlZENvdW50fSx0aGlzKSxhLmZvckVhY2goZnVuY3Rpb24oYSl7Zm9yKHZhciBlPWEuaW5kZXg7ZTxhLmluZGV4K2EuYWRkZWRDb3VudDtlKyspe3ZhciBmLGc9dGhpcy5pdGVyYXRlZFZhbHVlW2VdLGg9dm9pZCAwLGk9ZC5nZXQoZyk7aT8oZC5kZWxldGUoZyksZj1pLmluc3RhbmNlQmluZGluZ3MpOihmPVtdLHRoaXMuaW5zdGFuY2VNb2RlbEZuXyYmKGc9dGhpcy5pbnN0YW5jZU1vZGVsRm5fKGcpKSx2b2lkIDAhPT1nJiYoaD1iLmNyZWF0ZUluc3RhbmNlKGcsdm9pZCAwLGMsZikpKSx0aGlzLmluc2VydEluc3RhbmNlQXQoZSxoLGksZil9fSx0aGlzKSxkLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5jbG9zZUluc3RhbmNlQmluZGluZ3MoYS5pbnN0YW5jZUJpbmRpbmdzKX0sdGhpcyksdGhpcy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXyYmdGhpcy5yZXBvcnRJbnN0YW5jZXNNb3ZlZChhKX19LHJlcG9ydEluc3RhbmNlTW92ZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRUZXJtaW5hdG9yQXQoYS0xKSxjPXRoaXMuZ2V0VGVybWluYXRvckF0KGEpO2lmKGIhPT1jKXt2YXIgZD1iLm5leHRTaWJsaW5nLnRlbXBsYXRlSW5zdGFuY2U7dGhpcy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXyhkLGEpfX0scmVwb3J0SW5zdGFuY2VzTW92ZWQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz0wLGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGU9YVtkXTtpZigwIT1jKWZvcig7YjxlLmluZGV4Oyl0aGlzLnJlcG9ydEluc3RhbmNlTW92ZWQoYiksYisrO2Vsc2UgYj1lLmluZGV4O2Zvcig7YjxlLmluZGV4K2UuYWRkZWRDb3VudDspdGhpcy5yZXBvcnRJbnN0YW5jZU1vdmVkKGIpLGIrKztjKz1lLmFkZGVkQ291bnQtZS5yZW1vdmVkLmxlbmd0aH1pZigwIT1jKWZvcih2YXIgZj10aGlzLnRlcm1pbmF0b3JzLmxlbmd0aC8yO2Y+YjspdGhpcy5yZXBvcnRJbnN0YW5jZU1vdmVkKGIpLGIrK30sY2xvc2VJbnN0YW5jZUJpbmRpbmdzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWFbYl0uY2xvc2UoKX0sdW5vYnNlcnZlOmZ1bmN0aW9uKCl7dGhpcy5hcnJheU9ic2VydmVyJiYodGhpcy5hcnJheU9ic2VydmVyLmNsb3NlKCksdGhpcy5hcnJheU9ic2VydmVyPXZvaWQgMCl9LGNsb3NlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuY2xvc2VkKXt0aGlzLnVub2JzZXJ2ZSgpO2Zvcih2YXIgYT0xO2E8dGhpcy50ZXJtaW5hdG9ycy5sZW5ndGg7YSs9Mil0aGlzLmNsb3NlSW5zdGFuY2VCaW5kaW5ncyh0aGlzLnRlcm1pbmF0b3JzW2FdKTt0aGlzLnRlcm1pbmF0b3JzLmxlbmd0aD0wLHRoaXMuY2xvc2VEZXBzKCksdGhpcy50ZW1wbGF0ZUVsZW1lbnRfLml0ZXJhdG9yXz12b2lkIDAsdGhpcy5jbG9zZWQ9ITB9fX0sSFRNTFRlbXBsYXRlRWxlbWVudC5mb3JBbGxUZW1wbGF0ZXNGcm9tXz1pfSh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIpe2lmKCFhKXRocm93IG5ldyBFcnJvcigiQVNTRVJUOiAiK2IpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGE+PTQ4JiY1Nz49YX1mdW5jdGlvbiBkKGEpe3JldHVybiAzMj09PWF8fDk9PT1hfHwxMT09PWF8fDEyPT09YXx8MTYwPT09YXx8YT49NTc2MCYmIuGagOGgjuKAgOKAgeKAguKAg+KAhOKAheKAhuKAh+KAiOKAieKAiuKAr+KBn+OAgO+7vyIuaW5kZXhPZihTdHJpbmcuZnJvbUNoYXJDb2RlKGEpKT4wfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIDEwPT09YXx8MTM9PT1hfHw4MjMyPT09YXx8ODIzMz09PWF9ZnVuY3Rpb24gZihhKXtyZXR1cm4gMzY9PT1hfHw5NT09PWF8fGE+PTY1JiY5MD49YXx8YT49OTcmJjEyMj49YX1mdW5jdGlvbiBnKGEpe3JldHVybiAzNj09PWF8fDk1PT09YXx8YT49NjUmJjkwPj1hfHxhPj05NyYmMTIyPj1hfHxhPj00OCYmNTc+PWF9ZnVuY3Rpb24gaChhKXtyZXR1cm4idGhpcyI9PT1hfWZ1bmN0aW9uIGkoKXtmb3IoO1k+WCYmZChXLmNoYXJDb2RlQXQoWCkpOykrK1h9ZnVuY3Rpb24gaigpe3ZhciBhLGI7Zm9yKGE9WCsrO1k+WCYmKGI9Vy5jaGFyQ29kZUF0KFgpLGcoYikpOykrK1g7cmV0dXJuIFcuc2xpY2UoYSxYKX1mdW5jdGlvbiBrKCl7dmFyIGEsYixjO3JldHVybiBhPVgsYj1qKCksYz0xPT09Yi5sZW5ndGg/Uy5JZGVudGlmaWVyOmgoYik/Uy5LZXl3b3JkOiJudWxsIj09PWI/Uy5OdWxsTGl0ZXJhbDoidHJ1ZSI9PT1ifHwiZmFsc2UiPT09Yj9TLkJvb2xlYW5MaXRlcmFsOlMuSWRlbnRpZmllcix7dHlwZTpjLHZhbHVlOmIscmFuZ2U6W2EsWF19fWZ1bmN0aW9uIGwoKXt2YXIgYSxiLGM9WCxkPVcuY2hhckNvZGVBdChYKSxlPVdbWF07c3dpdGNoKGQpe2Nhc2UgNDY6Y2FzZSA0MDpjYXNlIDQxOmNhc2UgNTk6Y2FzZSA0NDpjYXNlIDEyMzpjYXNlIDEyNTpjYXNlIDkxOmNhc2UgOTM6Y2FzZSA1ODpjYXNlIDYzOnJldHVybisrWCx7dHlwZTpTLlB1bmN0dWF0b3IsdmFsdWU6U3RyaW5nLmZyb21DaGFyQ29kZShkKSxyYW5nZTpbYyxYXX07ZGVmYXVsdDppZihhPVcuY2hhckNvZGVBdChYKzEpLDYxPT09YSlzd2l0Y2goZCl7Y2FzZSAzNzpjYXNlIDM4OmNhc2UgNDI6Y2FzZSA0MzpjYXNlIDQ1OmNhc2UgNDc6Y2FzZSA2MDpjYXNlIDYyOmNhc2UgMTI0OnJldHVybiBYKz0yLHt0eXBlOlMuUHVuY3R1YXRvcix2YWx1ZTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQpK1N0cmluZy5mcm9tQ2hhckNvZGUoYSkscmFuZ2U6W2MsWF19O2Nhc2UgMzM6Y2FzZSA2MTpyZXR1cm4gWCs9Miw2MT09PVcuY2hhckNvZGVBdChYKSYmKytYLHt0eXBlOlMuUHVuY3R1YXRvcix2YWx1ZTpXLnNsaWNlKGMsWCkscmFuZ2U6W2MsWF19fX1yZXR1cm4gYj1XW1grMV0sZT09PWImJiImfCIuaW5kZXhPZihlKT49MD8oWCs9Mix7dHlwZTpTLlB1bmN0dWF0b3IsdmFsdWU6ZStiLHJhbmdlOltjLFhdfSk6Ijw+PSErLSolJnxeLyIuaW5kZXhPZihlKT49MD8oKytYLHt0eXBlOlMuUHVuY3R1YXRvcix2YWx1ZTplLHJhbmdlOltjLFhdfSk6dm9pZCBzKHt9LFYuVW5leHBlY3RlZFRva2VuLCJJTExFR0FMIil9ZnVuY3Rpb24gbSgpe3ZhciBhLGQsZTtpZihlPVdbWF0sYihjKGUuY2hhckNvZGVBdCgwKSl8fCIuIj09PWUsIk51bWVyaWMgbGl0ZXJhbCBtdXN0IHN0YXJ0IHdpdGggYSBkZWNpbWFsIGRpZ2l0IG9yIGEgZGVjaW1hbCBwb2ludCIpLGQ9WCxhPSIiLCIuIiE9PWUpe2ZvcihhPVdbWCsrXSxlPVdbWF0sIjAiPT09YSYmZSYmYyhlLmNoYXJDb2RlQXQoMCkpJiZzKHt9LFYuVW5leHBlY3RlZFRva2VuLCJJTExFR0FMIik7YyhXLmNoYXJDb2RlQXQoWCkpOylhKz1XW1grK107ZT1XW1hdfWlmKCIuIj09PWUpe2ZvcihhKz1XW1grK107YyhXLmNoYXJDb2RlQXQoWCkpOylhKz1XW1grK107ZT1XW1hdfWlmKCJlIj09PWV8fCJFIj09PWUpaWYoYSs9V1tYKytdLGU9V1tYXSwoIisiPT09ZXx8Ii0iPT09ZSkmJihhKz1XW1grK10pLGMoVy5jaGFyQ29kZUF0KFgpKSlmb3IoO2MoVy5jaGFyQ29kZUF0KFgpKTspYSs9V1tYKytdO2Vsc2Ugcyh7fSxWLlVuZXhwZWN0ZWRUb2tlbiwiSUxMRUdBTCIpO3JldHVybiBmKFcuY2hhckNvZGVBdChYKSkmJnMoe30sVi5VbmV4cGVjdGVkVG9rZW4sIklMTEVHQUwiKSx7dHlwZTpTLk51bWVyaWNMaXRlcmFsLHZhbHVlOnBhcnNlRmxvYXQoYSkscmFuZ2U6W2QsWF19fWZ1bmN0aW9uIG4oKXt2YXIgYSxjLGQsZj0iIixnPSExO2ZvcihhPVdbWF0sYigiJyI9PT1hfHwnIic9PT1hLCJTdHJpbmcgbGl0ZXJhbCBtdXN0IHN0YXJ0cyB3aXRoIGEgcXVvdGUiKSxjPVgsKytYO1k+WDspe2lmKGQ9V1tYKytdLGQ9PT1hKXthPSIiO2JyZWFrfWlmKCJcXCI9PT1kKWlmKGQ9V1tYKytdLGQmJmUoZC5jaGFyQ29kZUF0KDApKSkiXHIiPT09ZCYmIlxuIj09PVdbWF0mJisrWDtlbHNlIHN3aXRjaChkKXtjYXNlIm4iOmYrPSJcbiI7YnJlYWs7Y2FzZSJyIjpmKz0iXHIiO2JyZWFrO2Nhc2UidCI6Zis9IgkiO2JyZWFrO2Nhc2UiYiI6Zis9IlxiIjticmVhaztjYXNlImYiOmYrPSJcZiI7YnJlYWs7Y2FzZSJ2IjpmKz0iCyI7YnJlYWs7ZGVmYXVsdDpmKz1kfWVsc2V7aWYoZShkLmNoYXJDb2RlQXQoMCkpKWJyZWFrO2YrPWR9fXJldHVybiIiIT09YSYmcyh7fSxWLlVuZXhwZWN0ZWRUb2tlbiwiSUxMRUdBTCIpLHt0eXBlOlMuU3RyaW5nTGl0ZXJhbCx2YWx1ZTpmLG9jdGFsOmcscmFuZ2U6W2MsWF19fWZ1bmN0aW9uIG8oYSl7cmV0dXJuIGEudHlwZT09PVMuSWRlbnRpZmllcnx8YS50eXBlPT09Uy5LZXl3b3JkfHxhLnR5cGU9PT1TLkJvb2xlYW5MaXRlcmFsfHxhLnR5cGU9PT1TLk51bGxMaXRlcmFsfWZ1bmN0aW9uIHAoKXt2YXIgYTtyZXR1cm4gaSgpLFg+PVk/e3R5cGU6Uy5FT0YscmFuZ2U6W1gsWF19OihhPVcuY2hhckNvZGVBdChYKSw0MD09PWF8fDQxPT09YXx8NTg9PT1hP2woKTozOT09PWF8fDM0PT09YT9uKCk6ZihhKT9rKCk6NDY9PT1hP2MoVy5jaGFyQ29kZUF0KFgrMSkpP20oKTpsKCk6YyhhKT9tKCk6bCgpKX1mdW5jdGlvbiBxKCl7dmFyIGE7cmV0dXJuIGE9JCxYPWEucmFuZ2VbMV0sJD1wKCksWD1hLnJhbmdlWzFdLGF9ZnVuY3Rpb24gcigpe3ZhciBhO2E9WCwkPXAoKSxYPWF9ZnVuY3Rpb24gcyhhLGMpe3ZhciBkLGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpLGY9Yy5yZXBsYWNlKC8lKFxkKS9nLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGIoYzxlLmxlbmd0aCwiTWVzc2FnZSByZWZlcmVuY2UgbXVzdCBiZSBpbiByYW5nZSIpLGVbY119KTt0aHJvdyBkPW5ldyBFcnJvcihmKSxkLmluZGV4PVgsZC5kZXNjcmlwdGlvbj1mLGR9ZnVuY3Rpb24gdChhKXtzKGEsVi5VbmV4cGVjdGVkVG9rZW4sYS52YWx1ZSl9ZnVuY3Rpb24gdShhKXt2YXIgYj1xKCk7KGIudHlwZSE9PVMuUHVuY3R1YXRvcnx8Yi52YWx1ZSE9PWEpJiZ0KGIpfWZ1bmN0aW9uIHYoYSl7cmV0dXJuICQudHlwZT09PVMuUHVuY3R1YXRvciYmJC52YWx1ZT09PWF9ZnVuY3Rpb24gdyhhKXtyZXR1cm4gJC50eXBlPT09Uy5LZXl3b3JkJiYkLnZhbHVlPT09YX1mdW5jdGlvbiB4KCl7dmFyIGE9W107Zm9yKHUoIlsiKTshdigiXSIpOyl2KCIsIik/KHEoKSxhLnB1c2gobnVsbCkpOihhLnB1c2goYmIoKSksdigiXSIpfHx1KCIsIikpO3JldHVybiB1KCJdIiksWi5jcmVhdGVBcnJheUV4cHJlc3Npb24oYSl9ZnVuY3Rpb24geSgpe3ZhciBhO3JldHVybiBpKCksYT1xKCksYS50eXBlPT09Uy5TdHJpbmdMaXRlcmFsfHxhLnR5cGU9PT1TLk51bWVyaWNMaXRlcmFsP1ouY3JlYXRlTGl0ZXJhbChhKTpaLmNyZWF0ZUlkZW50aWZpZXIoYS52YWx1ZSl9ZnVuY3Rpb24geigpe3ZhciBhLGI7cmV0dXJuIGE9JCxpKCksKGEudHlwZT09PVMuRU9GfHxhLnR5cGU9PT1TLlB1bmN0dWF0b3IpJiZ0KGEpLGI9eSgpLHUoIjoiKSxaLmNyZWF0ZVByb3BlcnR5KCJpbml0IixiLGJiKCkpfWZ1bmN0aW9uIEEoKXt2YXIgYT1bXTtmb3IodSgieyIpOyF2KCJ9Iik7KWEucHVzaCh6KCkpLHYoIn0iKXx8dSgiLCIpO3JldHVybiB1KCJ9IiksWi5jcmVhdGVPYmplY3RFeHByZXNzaW9uKGEpfWZ1bmN0aW9uIEIoKXt2YXIgYTtyZXR1cm4gdSgiKCIpLGE9YmIoKSx1KCIpIiksYX1mdW5jdGlvbiBDKCl7dmFyIGEsYixjO3JldHVybiB2KCIoIik/QigpOihhPSQudHlwZSxhPT09Uy5JZGVudGlmaWVyP2M9Wi5jcmVhdGVJZGVudGlmaWVyKHEoKS52YWx1ZSk6YT09PVMuU3RyaW5nTGl0ZXJhbHx8YT09PVMuTnVtZXJpY0xpdGVyYWw/Yz1aLmNyZWF0ZUxpdGVyYWwocSgpKTphPT09Uy5LZXl3b3JkP3coInRoaXMiKSYmKHEoKSxjPVouY3JlYXRlVGhpc0V4cHJlc3Npb24oKSk6YT09PVMuQm9vbGVhbkxpdGVyYWw/KGI9cSgpLGIudmFsdWU9InRydWUiPT09Yi52YWx1ZSxjPVouY3JlYXRlTGl0ZXJhbChiKSk6YT09PVMuTnVsbExpdGVyYWw/KGI9cSgpLGIudmFsdWU9bnVsbCxjPVouY3JlYXRlTGl0ZXJhbChiKSk6digiWyIpP2M9eCgpOnYoInsiKSYmKGM9QSgpKSxjP2M6dm9pZCB0KHEoKSkpfWZ1bmN0aW9uIEQoKXt2YXIgYT1bXTtpZih1KCIoIiksIXYoIikiKSlmb3IoO1k+WCYmKGEucHVzaChiYigpKSwhdigiKSIpKTspdSgiLCIpO3JldHVybiB1KCIpIiksYX1mdW5jdGlvbiBFKCl7dmFyIGE7cmV0dXJuIGE9cSgpLG8oYSl8fHQoYSksWi5jcmVhdGVJZGVudGlmaWVyKGEudmFsdWUpfWZ1bmN0aW9uIEYoKXtyZXR1cm4gdSgiLiIpLEUoKX1mdW5jdGlvbiBHKCl7dmFyIGE7cmV0dXJuIHUoIlsiKSxhPWJiKCksdSgiXSIpLGF9ZnVuY3Rpb24gSCgpe3ZhciBhLGI7Zm9yKGE9QygpO3YoIi4iKXx8digiWyIpOyl2KCJbIik/KGI9RygpLGE9Wi5jcmVhdGVNZW1iZXJFeHByZXNzaW9uKCJbIixhLGIpKTooYj1GKCksYT1aLmNyZWF0ZU1lbWJlckV4cHJlc3Npb24oIi4iLGEsYikpO3JldHVybiBhfWZ1bmN0aW9uIEkoKXt2YXIgYSxiO3JldHVybiAkLnR5cGUhPT1TLlB1bmN0dWF0b3ImJiQudHlwZSE9PVMuS2V5d29yZD9iPWFiKCk6digiKyIpfHx2KCItIil8fHYoIiEiKT8oYT1xKCksYj1JKCksYj1aLmNyZWF0ZVVuYXJ5RXhwcmVzc2lvbihhLnZhbHVlLGIpKTp3KCJkZWxldGUiKXx8dygidm9pZCIpfHx3KCJ0eXBlb2YiKT9zKHt9LFYuVW5leHBlY3RlZFRva2VuKTpiPWFiKCksYn1mdW5jdGlvbiBKKGEpe3ZhciBiPTA7aWYoYS50eXBlIT09Uy5QdW5jdHVhdG9yJiZhLnR5cGUhPT1TLktleXdvcmQpcmV0dXJuIDA7c3dpdGNoKGEudmFsdWUpe2Nhc2UifHwiOmI9MTticmVhaztjYXNlIiYmIjpiPTI7YnJlYWs7Y2FzZSI9PSI6Y2FzZSIhPSI6Y2FzZSI9PT0iOmNhc2UiIT09IjpiPTY7YnJlYWs7Y2FzZSI8IjpjYXNlIj4iOmNhc2UiPD0iOmNhc2UiPj0iOmNhc2UiaW5zdGFuY2VvZiI6Yj03O2JyZWFrO2Nhc2UiaW4iOmI9NzticmVhaztjYXNlIisiOmNhc2UiLSI6Yj05O2JyZWFrO2Nhc2UiKiI6Y2FzZSIvIjpjYXNlIiUiOmI9MTF9cmV0dXJuIGJ9ZnVuY3Rpb24gSygpe3ZhciBhLGIsYyxkLGUsZixnLGg7aWYoZz1JKCksYj0kLGM9SihiKSwwPT09YylyZXR1cm4gZztmb3IoYi5wcmVjPWMscSgpLGU9SSgpLGQ9W2csYixlXTsoYz1KKCQpKT4wOyl7Zm9yKDtkLmxlbmd0aD4yJiZjPD1kW2QubGVuZ3RoLTJdLnByZWM7KWU9ZC5wb3AoKSxmPWQucG9wKCkudmFsdWUsZz1kLnBvcCgpLGE9Wi5jcmVhdGVCaW5hcnlFeHByZXNzaW9uKGYsZyxlKSxkLnB1c2goYSk7Yj1xKCksYi5wcmVjPWMsZC5wdXNoKGIpLGE9SSgpLGQucHVzaChhKX1mb3IoaD1kLmxlbmd0aC0xLGE9ZFtoXTtoPjE7KWE9Wi5jcmVhdGVCaW5hcnlFeHByZXNzaW9uKGRbaC0xXS52YWx1ZSxkW2gtMl0sYSksaC09MjtyZXR1cm4gYX1mdW5jdGlvbiBMKCl7dmFyIGEsYixjO3JldHVybiBhPUsoKSx2KCI/IikmJihxKCksYj1MKCksdSgiOiIpLGM9TCgpLGE9Wi5jcmVhdGVDb25kaXRpb25hbEV4cHJlc3Npb24oYSxiLGMpKSxhfWZ1bmN0aW9uIE0oKXt2YXIgYSxiO3JldHVybiBhPXEoKSxhLnR5cGUhPT1TLklkZW50aWZpZXImJnQoYSksYj12KCIoIik/RCgpOltdLFouY3JlYXRlRmlsdGVyKGEudmFsdWUsYil9ZnVuY3Rpb24gTigpe2Zvcig7digifCIpOylxKCksTSgpfWZ1bmN0aW9uIE8oKXtpKCkscigpO3ZhciBhPWJiKCk7YSYmKCIsIj09PSQudmFsdWV8fCJpbiI9PSQudmFsdWUmJmEudHlwZT09PVUuSWRlbnRpZmllcj9RKGEpOihOKCksImFzIj09PSQudmFsdWU/UChhKTpaLmNyZWF0ZVRvcExldmVsKGEpKSksJC50eXBlIT09Uy5FT0YmJnQoJCl9ZnVuY3Rpb24gUChhKXtxKCk7dmFyIGI9cSgpLnZhbHVlO1ouY3JlYXRlQXNFeHByZXNzaW9uKGEsYil9ZnVuY3Rpb24gUShhKXt2YXIgYjsiLCI9PT0kLnZhbHVlJiYocSgpLCQudHlwZSE9PVMuSWRlbnRpZmllciYmdCgkKSxiPXEoKS52YWx1ZSkscSgpO3ZhciBjPWJiKCk7TigpLFouY3JlYXRlSW5FeHByZXNzaW9uKGEubmFtZSxiLGMpfWZ1bmN0aW9uIFIoYSxiKXtyZXR1cm4gWj1iLFc9YSxYPTAsWT1XLmxlbmd0aCwkPW51bGwsXz17bGFiZWxTZXQ6e319LE8oKX12YXIgUyxULFUsVixXLFgsWSxaLCQsXztTPXtCb29sZWFuTGl0ZXJhbDoxLEVPRjoyLElkZW50aWZpZXI6MyxLZXl3b3JkOjQsTnVsbExpdGVyYWw6NSxOdW1lcmljTGl0ZXJhbDo2LFB1bmN0dWF0b3I6NyxTdHJpbmdMaXRlcmFsOjh9LFQ9e30sVFtTLkJvb2xlYW5MaXRlcmFsXT0iQm9vbGVhbiIsVFtTLkVPRl09IjxlbmQ+IixUW1MuSWRlbnRpZmllcl09IklkZW50aWZpZXIiLFRbUy5LZXl3b3JkXT0iS2V5d29yZCIsVFtTLk51bGxMaXRlcmFsXT0iTnVsbCIsVFtTLk51bWVyaWNMaXRlcmFsXT0iTnVtZXJpYyIsVFtTLlB1bmN0dWF0b3JdPSJQdW5jdHVhdG9yIixUW1MuU3RyaW5nTGl0ZXJhbF09IlN0cmluZyIsVT17QXJyYXlFeHByZXNzaW9uOiJBcnJheUV4cHJlc3Npb24iLEJpbmFyeUV4cHJlc3Npb246IkJpbmFyeUV4cHJlc3Npb24iLENhbGxFeHByZXNzaW9uOiJDYWxsRXhwcmVzc2lvbiIsQ29uZGl0aW9uYWxFeHByZXNzaW9uOiJDb25kaXRpb25hbEV4cHJlc3Npb24iLEVtcHR5U3RhdGVtZW50OiJFbXB0eVN0YXRlbWVudCIsRXhwcmVzc2lvblN0YXRlbWVudDoiRXhwcmVzc2lvblN0YXRlbWVudCIsSWRlbnRpZmllcjoiSWRlbnRpZmllciIsTGl0ZXJhbDoiTGl0ZXJhbCIsTGFiZWxlZFN0YXRlbWVudDoiTGFiZWxlZFN0YXRlbWVudCIsTG9naWNhbEV4cHJlc3Npb246IkxvZ2ljYWxFeHByZXNzaW9uIixNZW1iZXJFeHByZXNzaW9uOiJNZW1iZXJFeHByZXNzaW9uIixPYmplY3RFeHByZXNzaW9uOiJPYmplY3RFeHByZXNzaW9uIixQcm9ncmFtOiJQcm9ncmFtIixQcm9wZXJ0eToiUHJvcGVydHkiLFRoaXNFeHByZXNzaW9uOiJUaGlzRXhwcmVzc2lvbiIsVW5hcnlFeHByZXNzaW9uOiJVbmFyeUV4cHJlc3Npb24ifSxWPXtVbmV4cGVjdGVkVG9rZW46IlVuZXhwZWN0ZWQgdG9rZW4gJTAiLFVua25vd25MYWJlbDoiVW5kZWZpbmVkIGxhYmVsICclMCciLFJlZGVjbGFyYXRpb246IiUwICclMScgaGFzIGFscmVhZHkgYmVlbiBkZWNsYXJlZCJ9O3ZhciBhYj1ILGJiPUw7YS5lc3ByaW1hPXtwYXJzZTpSfX0odGhpcyksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiLGQsZSl7dmFyIGY7dHJ5e2lmKGY9YyhhKSxmLnNjb3BlSWRlbnQmJihkLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREV8fCJURU1QTEFURSIhPT1kLnRhZ05hbWV8fCJiaW5kIiE9PWImJiJyZXBlYXQiIT09YikpdGhyb3cgRXJyb3IoImFzIGFuZCBpbiBjYW4gb25seSBiZSB1c2VkIHdpdGhpbiA8dGVtcGxhdGUgYmluZC9yZXBlYXQ+Iil9Y2F0Y2goZyl7cmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcigiSW52YWxpZCBleHByZXNzaW9uIHN5bnRheDogIithLGcpfXJldHVybiBmdW5jdGlvbihhLGIsYyl7dmFyIGQ9Zi5nZXRCaW5kaW5nKGEsZSxjKTtyZXR1cm4gZi5zY29wZUlkZW50JiZkJiYoYi5wb2x5bWVyRXhwcmVzc2lvblNjb3BlSWRlbnRfPWYuc2NvcGVJZGVudCxmLmluZGV4SWRlbnQmJihiLnBvbHltZXJFeHByZXNzaW9uSW5kZXhJZGVudF89Zi5pbmRleElkZW50KSksZH19ZnVuY3Rpb24gYyhhKXt2YXIgYj1zW2FdO2lmKCFiKXt2YXIgYz1uZXcgajtlc3ByaW1hLnBhcnNlKGEsYyksYj1uZXcgbChjKSxzW2FdPWJ9cmV0dXJuIGJ9ZnVuY3Rpb24gZChhKXt0aGlzLnZhbHVlPWEsdGhpcy52YWx1ZUZuXz12b2lkIDB9ZnVuY3Rpb24gZShhKXt0aGlzLm5hbWU9YSx0aGlzLnBhdGg9UGF0aC5nZXQoYSl9ZnVuY3Rpb24gZihhLGIsYyl7IlsiPT1jJiZiIGluc3RhbmNlb2YgZCYmUGF0aC5nZXQoYi52YWx1ZSkudmFsaWQmJihjPSIuIixiPW5ldyBlKGIudmFsdWUpKSx0aGlzLmR5bmFtaWNEZXBzPSJmdW5jdGlvbiI9PXR5cGVvZiBhfHxhLmR5bmFtaWMsdGhpcy5keW5hbWljPSJmdW5jdGlvbiI9PXR5cGVvZiBifHxiLmR5bmFtaWN8fCJbIj09Yyx0aGlzLnNpbXBsZVBhdGg9IXRoaXMuZHluYW1pYyYmIXRoaXMuZHluYW1pY0RlcHMmJmIgaW5zdGFuY2VvZiBlJiYoYSBpbnN0YW5jZW9mIGZ8fGEgaW5zdGFuY2VvZiBlKSx0aGlzLm9iamVjdD10aGlzLnNpbXBsZVBhdGg/YTppKGEpLHRoaXMucHJvcGVydHk9Ii4iPT1jP2I6aShiKX1mdW5jdGlvbiBnKGEsYil7dGhpcy5uYW1lPWEsdGhpcy5hcmdzPVtdO2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKXRoaXMuYXJnc1tjXT1pKGJbY10pfWZ1bmN0aW9uIGgoKXt0aHJvdyBFcnJvcigiTm90IEltcGxlbWVudGVkIil9ZnVuY3Rpb24gaShhKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYT9hOmEudmFsdWVGbigpfWZ1bmN0aW9uIGooKXt0aGlzLmV4cHJlc3Npb249bnVsbCx0aGlzLmZpbHRlcnM9W10sdGhpcy5kZXBzPXt9LHRoaXMuY3VycmVudFBhdGg9dm9pZCAwLHRoaXMuc2NvcGVJZGVudD12b2lkIDAsdGhpcy5pbmRleElkZW50PXZvaWQgMCx0aGlzLmR5bmFtaWNEZXBzPSExfWZ1bmN0aW9uIGsoYSl7dGhpcy52YWx1ZV89YX1mdW5jdGlvbiBsKGEpe2lmKHRoaXMuc2NvcGVJZGVudD1hLnNjb3BlSWRlbnQsdGhpcy5pbmRleElkZW50PWEuaW5kZXhJZGVudCwhYS5leHByZXNzaW9uKXRocm93IEVycm9yKCJObyBleHByZXNzaW9uIGZvdW5kLiIpO3RoaXMuZXhwcmVzc2lvbj1hLmV4cHJlc3Npb24saSh0aGlzLmV4cHJlc3Npb24pLHRoaXMuZmlsdGVycz1hLmZpbHRlcnMsdGhpcy5keW5hbWljRGVwcz1hLmR5bmFtaWNEZXBzfWZ1bmN0aW9uIG0oYSl7cmV0dXJuIFN0cmluZyhhKS5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKGEpe3JldHVybiItIithLnRvTG93ZXJDYXNlKCl9KX1mdW5jdGlvbiBuKGEpe3JldHVybiJvIj09PWFbMF0mJiJuIj09PWFbMV0mJiItIj09PWFbMl19ZnVuY3Rpb24gbyhhLGIpe2Zvcig7YVt3XSYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLGIpOylhPWFbd107cmV0dXJuIGF9ZnVuY3Rpb24gcChhLGIpe2lmKDA9PWIubGVuZ3RoKXJldHVybiB2b2lkIDA7aWYoMT09Yi5sZW5ndGgpcmV0dXJuIG8oYSxiWzBdKTtmb3IodmFyIGM9MDtudWxsIT1hJiZjPGIubGVuZ3RoLTE7YysrKWE9YVtiW2NdXTtyZXR1cm4gYX1mdW5jdGlvbiBxKGEsYixjKXt2YXIgZD1iLnN1YnN0cmluZygzKTtyZXR1cm4gZD12W2RdfHxkLGZ1bmN0aW9uKGIsZSxmKXtmdW5jdGlvbiBnKCl7cmV0dXJuInt7ICIrYSsiIH19In12YXIgaCxpLGo7cmV0dXJuIGo9ImZ1bmN0aW9uIj09dHlwZW9mIGMucmVzb2x2ZUV2ZW50SGFuZGxlcj9mdW5jdGlvbihkKXtoPWh8fGMucmVzb2x2ZUV2ZW50SGFuZGxlcihiLGEsZSksaChkLGQuZGV0YWlsLGQuY3VycmVudFRhcmdldCksUGxhdGZvcm0mJiJmdW5jdGlvbiI9PXR5cGVvZiBQbGF0Zm9ybS5mbHVzaCYmUGxhdGZvcm0uZmx1c2goKX06ZnVuY3Rpb24oYyl7aD1ofHxhLmdldFZhbHVlRnJvbShiKSxpPWl8fHAoYixhLGUpLGguYXBwbHkoaSxbYyxjLmRldGFpbCxjLmN1cnJlbnRUYXJnZXRdKSxQbGF0Zm9ybSYmImZ1bmN0aW9uIj09dHlwZW9mIFBsYXRmb3JtLmZsdXNoJiZQbGF0Zm9ybS5mbHVzaCgpfSxlLmFkZEV2ZW50TGlzdGVuZXIoZCxqKSxmP3ZvaWQgMDp7b3BlbjpnLGRpc2NhcmRDaGFuZ2VzOmcsY2xvc2U6ZnVuY3Rpb24oKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCxqKX19fX1mdW5jdGlvbiByKCl7fXZhciBzPU9iamVjdC5jcmVhdGUobnVsbCk7ZC5wcm90b3R5cGU9e3ZhbHVlRm46ZnVuY3Rpb24oKXtpZighdGhpcy52YWx1ZUZuXyl7dmFyIGE9dGhpcy52YWx1ZTt0aGlzLnZhbHVlRm5fPWZ1bmN0aW9uKCl7cmV0dXJuIGF9fXJldHVybiB0aGlzLnZhbHVlRm5ffX0sZS5wcm90b3R5cGU9e3ZhbHVlRm46ZnVuY3Rpb24oKXtpZighdGhpcy52YWx1ZUZuXyl7dmFyIGE9KHRoaXMubmFtZSx0aGlzLnBhdGgpO3RoaXMudmFsdWVGbl89ZnVuY3Rpb24oYixjKXtyZXR1cm4gYyYmYy5hZGRQYXRoKGIsYSksYS5nZXRWYWx1ZUZyb20oYil9fXJldHVybiB0aGlzLnZhbHVlRm5ffSxzZXRWYWx1ZTpmdW5jdGlvbihhLGIpe3JldHVybiAxPT10aGlzLnBhdGgubGVuZ3RoLGE9byhhLHRoaXMucGF0aFswXSksdGhpcy5wYXRoLnNldFZhbHVlRnJvbShhLGIpfX0sZi5wcm90b3R5cGU9e2dldCBmdWxsUGF0aCgpe2lmKCF0aGlzLmZ1bGxQYXRoXyl7dmFyIGE9dGhpcy5vYmplY3QgaW5zdGFuY2VvZiBlP3RoaXMub2JqZWN0Lm5hbWU6dGhpcy5vYmplY3QuZnVsbFBhdGg7dGhpcy5mdWxsUGF0aF89UGF0aC5nZXQoYSsiLiIrdGhpcy5wcm9wZXJ0eS5uYW1lKX1yZXR1cm4gdGhpcy5mdWxsUGF0aF99LHZhbHVlRm46ZnVuY3Rpb24oKXtpZighdGhpcy52YWx1ZUZuXyl7dmFyIGE9dGhpcy5vYmplY3Q7aWYodGhpcy5zaW1wbGVQYXRoKXt2YXIgYj10aGlzLmZ1bGxQYXRoO3RoaXMudmFsdWVGbl89ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYyYmYy5hZGRQYXRoKGEsYiksYi5nZXRWYWx1ZUZyb20oYSl9fWVsc2UgaWYodGhpcy5wcm9wZXJ0eSBpbnN0YW5jZW9mIGUpe3ZhciBiPVBhdGguZ2V0KHRoaXMucHJvcGVydHkubmFtZSk7dGhpcy52YWx1ZUZuXz1mdW5jdGlvbihjLGQpe3ZhciBlPWEoYyxkKTtyZXR1cm4gZCYmZC5hZGRQYXRoKGUsYiksYi5nZXRWYWx1ZUZyb20oZSl9fWVsc2V7dmFyIGM9dGhpcy5wcm9wZXJ0eTt0aGlzLnZhbHVlRm5fPWZ1bmN0aW9uKGIsZCl7dmFyIGU9YShiLGQpLGY9YyhiLGQpO3JldHVybiBkJiZkLmFkZFBhdGgoZSxmKSxlP2VbZl06dm9pZCAwfX19cmV0dXJuIHRoaXMudmFsdWVGbl99LHNldFZhbHVlOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5zaW1wbGVQYXRoKXJldHVybiB0aGlzLmZ1bGxQYXRoLnNldFZhbHVlRnJvbShhLGIpLGI7dmFyIGM9dGhpcy5vYmplY3QoYSksZD10aGlzLnByb3BlcnR5IGluc3RhbmNlb2YgZT90aGlzLnByb3BlcnR5Lm5hbWU6dGhpcy5wcm9wZXJ0eShhKTtyZXR1cm4gY1tkXT1ifX0sZy5wcm90b3R5cGU9e3RyYW5zZm9ybTpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWNbdGhpcy5uYW1lXSxnPWQ7aWYoZilnPXZvaWQgMDtlbHNlIGlmKGY9Z1t0aGlzLm5hbWVdLCFmKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoIkNhbm5vdCBmaW5kIGZpbHRlcjogIit0aGlzLm5hbWUpO2lmKGI/Zj1mLnRvTW9kZWw6ImZ1bmN0aW9uIj09dHlwZW9mIGYudG9ET00mJihmPWYudG9ET00pLCJmdW5jdGlvbiIhPXR5cGVvZiBmKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoIk5vICIrKGI/InRvTW9kZWwiOiJ0b0RPTSIpKyIgZm91bmQgb24iK3RoaXMubmFtZSk7Zm9yKHZhciBoPVthXSxqPTA7ajx0aGlzLmFyZ3MubGVuZ3RoO2orKyloW2orMV09aSh0aGlzLmFyZ3Nbal0pKGQsZSk7cmV0dXJuIGYuYXBwbHkoZyxoKX19O3ZhciB0PXsiKyI6ZnVuY3Rpb24oYSl7cmV0dXJuK2F9LCItIjpmdW5jdGlvbihhKXtyZXR1cm4tYX0sIiEiOmZ1bmN0aW9uKGEpe3JldHVybiFhfX0sdT17IisiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGErYn0sIi0iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0sIioiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEqYn0sIi8iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEvYn0sIiUiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGElYn0sIjwiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI+YX0sIj4iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE+Yn0sIjw9IjpmdW5jdGlvbihhLGIpe3JldHVybiBiPj1hfSwiPj0iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE+PWJ9LCI9PSI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09Yn0sIiE9IjpmdW5jdGlvbihhLGIpe3JldHVybiBhIT1ifSwiPT09IjpmdW5jdGlvbihhLGIpe3JldHVybiBhPT09Yn0sIiE9PSI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSE9PWJ9LCImJiI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSYmYn0sInx8IjpmdW5jdGlvbihhLGIpe3JldHVybiBhfHxifX07ai5wcm90b3R5cGU9e2NyZWF0ZVVuYXJ5RXhwcmVzc2lvbjpmdW5jdGlvbihhLGIpe2lmKCF0W2FdKXRocm93IEVycm9yKCJEaXNhbGxvd2VkIG9wZXJhdG9yOiAiK2EpO3JldHVybiBiPWkoYiksZnVuY3Rpb24oYyxkKXtyZXR1cm4gdFthXShiKGMsZCkpfX0sY3JlYXRlQmluYXJ5RXhwcmVzc2lvbjpmdW5jdGlvbihhLGIsYyl7aWYoIXVbYV0pdGhyb3cgRXJyb3IoIkRpc2FsbG93ZWQgb3BlcmF0b3I6ICIrYSk7cmV0dXJuIGI9aShiKSxjPWkoYyksZnVuY3Rpb24oZCxlKXtyZXR1cm4gdVthXShiKGQsZSksYyhkLGUpKX19LGNyZWF0ZUNvbmRpdGlvbmFsRXhwcmVzc2lvbjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGE9aShhKSxiPWkoYiksYz1pKGMpLGZ1bmN0aW9uKGQsZSl7cmV0dXJuIGEoZCxlKT9iKGQsZSk6YyhkLGUpfX0sY3JlYXRlSWRlbnRpZmllcjpmdW5jdGlvbihhKXt2YXIgYj1uZXcgZShhKTtyZXR1cm4gYi50eXBlPSJJZGVudGlmaWVyIixifSxjcmVhdGVNZW1iZXJFeHByZXNzaW9uOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1uZXcgZihiLGMsYSk7cmV0dXJuIGQuZHluYW1pY0RlcHMmJih0aGlzLmR5bmFtaWNEZXBzPSEwKSxkfSxjcmVhdGVMaXRlcmFsOmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgZChhLnZhbHVlKX0sY3JlYXRlQXJyYXlFeHByZXNzaW9uOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWFbYl09aShhW2JdKTtyZXR1cm4gZnVuY3Rpb24oYixjKXtmb3IodmFyIGQ9W10sZT0wO2U8YS5sZW5ndGg7ZSsrKWQucHVzaChhW2VdKGIsYykpO3JldHVybiBkfX0sY3JlYXRlUHJvcGVydHk6ZnVuY3Rpb24oYSxiLGMpe3JldHVybntrZXk6YiBpbnN0YW5jZW9mIGU/Yi5uYW1lOmIudmFsdWUsdmFsdWU6Y319LGNyZWF0ZU9iamVjdEV4cHJlc3Npb246ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXS52YWx1ZT1pKGFbYl0udmFsdWUpO3JldHVybiBmdW5jdGlvbihiLGMpe2Zvcih2YXIgZD17fSxlPTA7ZTxhLmxlbmd0aDtlKyspZFthW2VdLmtleV09YVtlXS52YWx1ZShiLGMpO3JldHVybiBkfX0sY3JlYXRlRmlsdGVyOmZ1bmN0aW9uKGEsYil7dGhpcy5maWx0ZXJzLnB1c2gobmV3IGcoYSxiKSl9LGNyZWF0ZUFzRXhwcmVzc2lvbjpmdW5jdGlvbihhLGIpe3RoaXMuZXhwcmVzc2lvbj1hLHRoaXMuc2NvcGVJZGVudD1ifSxjcmVhdGVJbkV4cHJlc3Npb246ZnVuY3Rpb24oYSxiLGMpe3RoaXMuZXhwcmVzc2lvbj1jLHRoaXMuc2NvcGVJZGVudD1hLHRoaXMuaW5kZXhJZGVudD1ifSxjcmVhdGVUb3BMZXZlbDpmdW5jdGlvbihhKXt0aGlzLmV4cHJlc3Npb249YX0sY3JlYXRlVGhpc0V4cHJlc3Npb246aH0say5wcm90b3R5cGU9e29wZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZV99LGRpc2NhcmRDaGFuZ2VzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVffSxkZWxpdmVyOmZ1bmN0aW9uKCl7fSxjbG9zZTpmdW5jdGlvbigpe319LGwucHJvdG90eXBlPXtnZXRCaW5kaW5nOmZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKCl7Zy5keW5hbWljRGVwcyYmZi5zdGFydFJlc2V0KCk7dmFyIGM9Zy5nZXRWYWx1ZShhLGcuZHluYW1pY0RlcHM/Zjp2b2lkIDAsYik7cmV0dXJuIGcuZHluYW1pY0RlcHMmJmYuZmluaXNoUmVzZXQoKSxjfWZ1bmN0aW9uIGUoYyl7cmV0dXJuIGcuc2V0VmFsdWUoYSxjLGIpLGN9aWYoYylyZXR1cm4gdGhpcy5nZXRWYWx1ZShhLHZvaWQgMCxiKTt2YXIgZj1uZXcgQ29tcG91bmRPYnNlcnZlcjt0aGlzLmdldFZhbHVlKGEsZixiKTt2YXIgZz10aGlzO3JldHVybiBuZXcgT2JzZXJ2ZXJUcmFuc2Zvcm0oZixkLGUsITApfSxnZXRWYWx1ZTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWkodGhpcy5leHByZXNzaW9uKShhLGIpLGU9MDtlPHRoaXMuZmlsdGVycy5sZW5ndGg7ZSsrKWQ9dGhpcy5maWx0ZXJzW2VdLnRyYW5zZm9ybShkLCExLGMsYSxiKTtyZXR1cm4gZH0sc2V0VmFsdWU6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD10aGlzLmZpbHRlcnM/dGhpcy5maWx0ZXJzLmxlbmd0aDowO2QtLT4wOyliPXRoaXMuZmlsdGVyc1tkXS50cmFuc2Zvcm0oYiwhMCxjLGEpO3JldHVybiB0aGlzLmV4cHJlc3Npb24uc2V0VmFsdWU/dGhpcy5leHByZXNzaW9uLnNldFZhbHVlKGEsYik6dm9pZCAwfX07dmFyIHY9e307WyJ3ZWJraXRBbmltYXRpb25TdGFydCIsIndlYmtpdEFuaW1hdGlvbkVuZCIsIndlYmtpdFRyYW5zaXRpb25FbmQiLCJET01Gb2N1c091dCIsIkRPTUZvY3VzSW4iLCJET01Nb3VzZVNjcm9sbCJdLmZvckVhY2goZnVuY3Rpb24oYSl7dlthLnRvTG93ZXJDYXNlKCldPWF9KTt2YXIgdz0iQCIrTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMik7ci5wcm90b3R5cGU9e3N0eWxlT2JqZWN0OmZ1bmN0aW9uKGEpe3ZhciBiPVtdO2Zvcih2YXIgYyBpbiBhKWIucHVzaChtKGMpKyI6ICIrYVtjXSk7cmV0dXJuIGIuam9pbigiOyAiKX0sdG9rZW5MaXN0OmZ1bmN0aW9uKGEpe3ZhciBiPVtdO2Zvcih2YXIgYyBpbiBhKWFbY10mJmIucHVzaChjKTtyZXR1cm4gYi5qb2luKCIgIil9LHByZXBhcmVJbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZDpmdW5jdGlvbihhKXt2YXIgYj1hLnBvbHltZXJFeHByZXNzaW9uSW5kZXhJZGVudF87aWYoYilyZXR1cm4gZnVuY3Rpb24oYSxjKXthLm1vZGVsW2JdPWN9fSxwcmVwYXJlQmluZGluZzpmdW5jdGlvbihhLGMsZCl7dmFyIGU9UGF0aC5nZXQoYSk7aWYobihjKSlyZXR1cm4gZS52YWxpZD9xKGUsYyx0aGlzKTp2b2lkIGNvbnNvbGUuZXJyb3IoIm9uLSogYmluZGluZ3MgbXVzdCBiZSBzaW1wbGUgcGF0aCBleHByZXNzaW9ucyIpO3tpZighZS52YWxpZClyZXR1cm4gYihhLGMsZCx0aGlzKTtpZigxPT1lLmxlbmd0aClyZXR1cm4gZnVuY3Rpb24oYSxiLGMpe2lmKGMpcmV0dXJuIGUuZ2V0VmFsdWVGcm9tKGEpO3ZhciBkPW8oYSxlWzBdKTtyZXR1cm4gbmV3IFBhdGhPYnNlcnZlcihkLGUpfX19LHByZXBhcmVJbnN0YW5jZU1vZGVsOmZ1bmN0aW9uKGEpe3ZhciBiPWEucG9seW1lckV4cHJlc3Npb25TY29wZUlkZW50XztpZihiKXt2YXIgYz1hLnRlbXBsYXRlSW5zdGFuY2U/YS50ZW1wbGF0ZUluc3RhbmNlLm1vZGVsOmEubW9kZWwsZD1hLnBvbHltZXJFeHByZXNzaW9uSW5kZXhJZGVudF87cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBlPU9iamVjdC5jcmVhdGUoYyk7cmV0dXJuIGVbYl09YSxlW2RdPXZvaWQgMCxlW3ddPWMsZX19fX0sYS5Qb2x5bWVyRXhwcmVzc2lvbnM9cixhLmV4cG9zZUdldEV4cHJlc3Npb24mJihhLmdldEV4cHJlc3Npb25fPWMpLGEuUG9seW1lckV4cHJlc3Npb25zLnByZXBhcmVFdmVudEJpbmRpbmc9cX0odGhpcyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe2V8fChlPSEwLGEuZW5kT2ZNaWNyb3Rhc2soZnVuY3Rpb24oKXtlPSExLGxvZ0ZsYWdzLmRhdGEmJmNvbnNvbGUuZ3JvdXAoIlBsYXRmb3JtLmZsdXNoKCkiKSxhLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50KCksbG9nRmxhZ3MuZGF0YSYmY29uc29sZS5ncm91cEVuZCgpfSkpfXZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7Yy50ZXh0Q29udGVudD0idGVtcGxhdGUge2Rpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9IC8qIGluamVjdGVkIGJ5IHBsYXRmb3JtLmpzICovIjt2YXIgZD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJoZWFkIik7ZC5pbnNlcnRCZWZvcmUoYyxkLmZpcnN0Q2hpbGQpO3ZhciBlLGY9MTI1O2lmKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJXZWJDb21wb25lbnRzUmVhZHkiLGZ1bmN0aW9uKCl7YigpLE9ic2VydmVyLmhhc09iamVjdE9ic2VydmV8fChhLmZsdXNoUG9sbD1zZXRJbnRlcnZhbChiLGYpKX0pLHdpbmRvdy5DdXN0b21FbGVtZW50cyYmIUN1c3RvbUVsZW1lbnRzLnVzZU5hdGl2ZSl7dmFyIGc9RG9jdW1lbnQucHJvdG90eXBlLmltcG9ydE5vZGU7RG9jdW1lbnQucHJvdG90eXBlLmltcG9ydE5vZGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1nLmNhbGwodGhpcyxhLGIpO3JldHVybiBDdXN0b21FbGVtZW50cy51cGdyYWRlQWxsKGMpLGN9fWEuZmx1c2g9Yn0od2luZG93LlBsYXRmb3JtKTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGxhdGZvcm0uanMubWFw",
                "body": "LyoqCiAqIEBsaWNlbnNlCiAqIENvcHlyaWdodCAoYykgMjAxMi0yMDE0IFRoZSBQb2x5bWVyIEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIAogKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQKICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZQogKiBtZXQ6CiAqIAogKiAgICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0CiAqIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci4KICogICAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlCiAqIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIKICogaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZQogKiBkaXN0cmlidXRpb24uCiAqICAgICogTmVpdGhlciB0aGUgbmFtZSBvZiBHb29nbGUgSW5jLiBub3IgdGhlIG5hbWVzIG9mIGl0cwogKiBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbQogKiB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLgogKiAKICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUwogKiAiQVMgSVMiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVAogKiBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IKICogQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQKICogT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsCiAqIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QKICogTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsCiAqIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWQogKiBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUCiAqIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRQogKiBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLgogKi8KLy8gQHZlcnNpb246IDAuMi4wLWEyNThhMTQKZnVuY3Rpb24gUG9pbnRlckdlc3R1cmVFdmVudChhLGIpe3ZhciBjPWJ8fHt9LGQ9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkV2ZW50IiksZT17YnViYmxlczpCb29sZWFuKGMuYnViYmxlcyk9PT1jLmJ1YmJsZXN8fCEwLGNhbmNlbGFibGU6Qm9vbGVhbihjLmNhbmNlbGFibGUpPT09Yy5jYW5jZWxhYmxlfHwhMH07ZC5pbml0RXZlbnQoYSxlLmJ1YmJsZXMsZS5jYW5jZWxhYmxlKTtmb3IodmFyIGYsZz1PYmplY3Qua2V5cyhjKSxoPTA7aDxnLmxlbmd0aDtoKyspZj1nW2hdLGRbZl09Y1tmXTtyZXR1cm4gZC5wcmV2ZW50VGFwPXRoaXMucHJldmVudFRhcCxkfSJ1bmRlZmluZWQiPT10eXBlb2YgV2Vha01hcCYmIWZ1bmN0aW9uKCl7dmFyIGE9T2JqZWN0LmRlZmluZVByb3BlcnR5LGI9RGF0ZS5ub3coKSUxZTksYz1mdW5jdGlvbigpe3RoaXMubmFtZT0iX19zdCIrKDFlOSpNYXRoLnJhbmRvbSgpPj4+MCkrKGIrKyArIl9fIil9O2MucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYixjKXt2YXIgZD1iW3RoaXMubmFtZV07ZCYmZFswXT09PWI/ZFsxXT1jOmEoYix0aGlzLm5hbWUse3ZhbHVlOltiLGNdLHdyaXRhYmxlOiEwfSl9LGdldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4oYj1hW3RoaXMubmFtZV0pJiZiWzBdPT09YT9iWzFdOnZvaWQgMH0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dGhpcy5zZXQoYSx2b2lkIDApfX0sd2luZG93LldlYWtNYXA9Y30oKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYigpe2Z1bmN0aW9uIGEoYSl7Yj1hfWlmKCJmdW5jdGlvbiIhPXR5cGVvZiBPYmplY3Qub2JzZXJ2ZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIEFycmF5Lm9ic2VydmUpcmV0dXJuITE7dmFyIGI9W10sYz17fTtpZihPYmplY3Qub2JzZXJ2ZShjLGEpLGMuaWQ9MSxjLmlkPTIsZGVsZXRlIGMuaWQsT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzKGEpLDMhPT1iLmxlbmd0aClyZXR1cm4hMTtpZigibmV3Ij09YlswXS50eXBlJiYidXBkYXRlZCI9PWJbMV0udHlwZSYmImRlbGV0ZWQiPT1iWzJdLnR5cGUpTD0ibmV3IixNPSJ1cGRhdGVkIixOPSJyZWNvbmZpZ3VyZWQiLE89ImRlbGV0ZWQiO2Vsc2UgaWYoImFkZCIhPWJbMF0udHlwZXx8InVwZGF0ZSIhPWJbMV0udHlwZXx8ImRlbGV0ZSIhPWJbMl0udHlwZSlyZXR1cm4gY29uc29sZS5lcnJvcigiVW5leHBlY3RlZCBjaGFuZ2UgcmVjb3JkIG5hbWVzIGZvciBPYmplY3Qub2JzZXJ2ZS4gVXNpbmcgZGlydHktY2hlY2tpbmcgaW5zdGVhZCIpLCExO3JldHVybiBPYmplY3QudW5vYnNlcnZlKGMsYSksYz1bMF0sQXJyYXkub2JzZXJ2ZShjLGEpLGNbMV09MSxjLmxlbmd0aD0wLE9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyhhKSwyIT1iLmxlbmd0aD8hMTpiWzBdLnR5cGUhPVB8fGJbMV0udHlwZSE9UD8hMTooQXJyYXkudW5vYnNlcnZlKGMsYSksITApfWZ1bmN0aW9uIGMoKXtpZihhLmRvY3VtZW50JiYic2VjdXJpdHlQb2xpY3kiaW4gYS5kb2N1bWVudCYmIWEuZG9jdW1lbnQuc2VjdXJpdHlQb2xpY3kuYWxsb3dzRXZhbClyZXR1cm4hMTt0cnl7dmFyIGI9bmV3IEZ1bmN0aW9uKCIiLCJyZXR1cm4gdHJ1ZTsiKTtyZXR1cm4gYigpfWNhdGNoKGMpe3JldHVybiExfX1mdW5jdGlvbiBkKGEpe3JldHVybithPT09YT4+PjB9ZnVuY3Rpb24gZShhKXtyZXR1cm4rYX1mdW5jdGlvbiBmKGEpe3JldHVybiBhPT09T2JqZWN0KGEpfWZ1bmN0aW9uIGcoYSxiKXtyZXR1cm4gYT09PWI/MCE9PWF8fDEvYT09PTEvYjpTKGEpJiZTKGIpPyEwOmEhPT1hJiZiIT09Yn1mdW5jdGlvbiBoKGEpe3JldHVybiJzdHJpbmciIT10eXBlb2YgYT8hMTooYT1hLnRyaW0oKSwiIj09YT8hMDoiLiI9PWFbMF0/ITE6JC50ZXN0KGEpKX1mdW5jdGlvbiBpKGEsYil7aWYoYiE9PV8pdGhyb3cgRXJyb3IoIlVzZSBQYXRoLmdldCB0byByZXRyaWV2ZSBwYXRoIG9iamVjdHMiKTtyZXR1cm4iIj09YS50cmltKCk/dGhpczpkKGEpPyh0aGlzLnB1c2goYSksdGhpcyk6KGEuc3BsaXQoL1xzKlwuXHMqLykuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhfSkuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLnB1c2goYSl9LHRoaXMpLHZvaWQoUiYmdGhpcy5sZW5ndGgmJih0aGlzLmdldFZhbHVlRnJvbT10aGlzLmNvbXBpbGVkR2V0VmFsdWVGcm9tRm4oKSkpKX1mdW5jdGlvbiBqKGEpe2lmKGEgaW5zdGFuY2VvZiBpKXJldHVybiBhO251bGw9PWEmJihhPSIiKSwic3RyaW5nIiE9dHlwZW9mIGEmJihhPVN0cmluZyhhKSk7dmFyIGI9YWJbYV07aWYoYilyZXR1cm4gYjtpZighaChhKSlyZXR1cm4gYmI7dmFyIGI9bmV3IGkoYSxfKTtyZXR1cm4gYWJbYV09YixifWZ1bmN0aW9uIGsoYil7Zm9yKHZhciBjPTA7ZGI+YyYmYi5jaGVja18oKTspYysrO3JldHVybiBhLnRlc3RpbmdFeHBvc2VDeWNsZUNvdW50JiYoYS5kaXJ0eUNoZWNrQ3ljbGVDb3VudD1jKSxjPjB9ZnVuY3Rpb24gbChhKXtmb3IodmFyIGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBtKGEpe3JldHVybiBsKGEuYWRkZWQpJiZsKGEucmVtb3ZlZCkmJmwoYS5jaGFuZ2VkKX1mdW5jdGlvbiBuKGEsYil7dmFyIGM9e30sZD17fSxlPXt9O2Zvcih2YXIgZiBpbiBiKXt2YXIgZz1hW2ZdOyh2b2lkIDA9PT1nfHxnIT09YltmXSkmJihmIGluIGE/ZyE9PWJbZl0mJihlW2ZdPWcpOmRbZl09dm9pZCAwKX1mb3IodmFyIGYgaW4gYSlmIGluIGJ8fChjW2ZdPWFbZl0pO3JldHVybiBBcnJheS5pc0FycmF5KGEpJiZhLmxlbmd0aCE9PWIubGVuZ3RoJiYoZS5sZW5ndGg9YS5sZW5ndGgpLHthZGRlZDpjLHJlbW92ZWQ6ZCxjaGFuZ2VkOmV9fWZ1bmN0aW9uIG8oKXtpZighZWIubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYT0wO2E8ZWIubGVuZ3RoO2ErKyllYlthXSgpO3JldHVybiBlYi5sZW5ndGg9MCwhMH1mdW5jdGlvbiBwKCl7ZnVuY3Rpb24gYShhKXtiJiZiLnN0YXRlXz09PWtiJiYhZCYmYi5jaGVja18oYSl9dmFyIGIsYyxkPSExLGU9ITA7cmV0dXJue29wZW46ZnVuY3Rpb24oYyl7aWYoYil0aHJvdyBFcnJvcigiT2JzZXJ2ZWRPYmplY3QgaW4gdXNlIik7ZXx8T2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzKGEpLGI9YyxlPSExfSxvYnNlcnZlOmZ1bmN0aW9uKGIsZCl7Yz1iLGQ/QXJyYXkub2JzZXJ2ZShjLGEpOk9iamVjdC5vYnNlcnZlKGMsYSl9LGRlbGl2ZXI6ZnVuY3Rpb24oYil7ZD1iLE9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyhhKSxkPSExfSxjbG9zZTpmdW5jdGlvbigpe2I9dm9pZCAwLE9iamVjdC51bm9ic2VydmUoYyxhKSxnYi5wdXNoKHRoaXMpfX19ZnVuY3Rpb24gcShhLGIsYyl7dmFyIGQ9Z2IucG9wKCl8fHAoKTtyZXR1cm4gZC5vcGVuKGEpLGQub2JzZXJ2ZShiLGMpLGR9ZnVuY3Rpb24gcigpe2Z1bmN0aW9uIGEoYil7aWYoZihiKSl7dmFyIGM9aS5pbmRleE9mKGIpO2M+PTA/KGlbY109dm9pZCAwLGgucHVzaChiKSk6aC5pbmRleE9mKGIpPDAmJihoLnB1c2goYiksT2JqZWN0Lm9ic2VydmUoYixkKSksYShPYmplY3QuZ2V0UHJvdG90eXBlT2YoYikpfX1mdW5jdGlvbiBiKCl7aWYoaz0hMSxqKXt2YXIgYj1pPT09aGI/W106aTtpPWgsaD1iO3ZhciBjO2Zvcih2YXIgZiBpbiBlKWM9ZVtmXSxjJiZjLnN0YXRlXz09a2ImJmMuaXRlcmF0ZU9iamVjdHNfKGEpO2Zvcih2YXIgZz0wO2c8aS5sZW5ndGg7ZysrKXt2YXIgbD1pW2ddO2wmJk9iamVjdC51bm9ic2VydmUobCxkKX1pLmxlbmd0aD0wfX1mdW5jdGlvbiBjKCl7a3x8KGo9ITAsaz0hMCxmYihiKSl9ZnVuY3Rpb24gZCgpe3ZhciBhO2Zvcih2YXIgYiBpbiBlKWE9ZVtiXSxhJiZhLnN0YXRlXz09a2ImJmEuY2hlY2tfKCk7YygpfXZhciBlPVtdLGc9MCxoPVtdLGk9aGIsaj0hMSxrPSExLGw9e29iamVjdDp2b2lkIDAsb2JqZWN0czpoLG9wZW46ZnVuY3Rpb24oYil7ZVtiLmlkX109YixnKyssYi5pdGVyYXRlT2JqZWN0c18oYSl9LGNsb3NlOmZ1bmN0aW9uKGEpe2lmKGVbYS5pZF9dPXZvaWQgMCxnLS0sZylyZXR1cm4gdm9pZCBjKCk7aj0hMTtmb3IodmFyIGI9MDtiPGgubGVuZ3RoO2IrKylPYmplY3QudW5vYnNlcnZlKGhbYl0sZCksdC51bm9ic2VydmVkQ291bnQrKztlLmxlbmd0aD0wLGgubGVuZ3RoPTAsaWIucHVzaCh0aGlzKX0scmVzZXQ6Y307cmV0dXJuIGx9ZnVuY3Rpb24gcyhhLGIpe3JldHVybiBjYiYmY2Iub2JqZWN0PT09Ynx8KGNiPWliLnBvcCgpfHxyKCksY2Iub2JqZWN0PWIpLGNiLm9wZW4oYSksY2J9ZnVuY3Rpb24gdCgpe3RoaXMuc3RhdGVfPWpiLHRoaXMuY2FsbGJhY2tfPXZvaWQgMCx0aGlzLnRhcmdldF89dm9pZCAwLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5pZF89bmIrK31mdW5jdGlvbiB1KGEpe3QuX2FsbE9ic2VydmVyc0NvdW50KysscGImJm9iLnB1c2goYSl9ZnVuY3Rpb24gdigpe3QuX2FsbE9ic2VydmVyc0NvdW50LS19ZnVuY3Rpb24gdyhhKXt0LmNhbGwodGhpcyksdGhpcy52YWx1ZV89YSx0aGlzLm9sZE9iamVjdF89dm9pZCAwfWZ1bmN0aW9uIHgoYSl7aWYoIUFycmF5LmlzQXJyYXkoYSkpdGhyb3cgRXJyb3IoIlByb3ZpZGVkIG9iamVjdCBpcyBub3QgYW4gQXJyYXkiKTt3LmNhbGwodGhpcyxhKX1mdW5jdGlvbiB5KGEsYil7dC5jYWxsKHRoaXMpLHRoaXMub2JqZWN0Xz1hLHRoaXMucGF0aF89YiBpbnN0YW5jZW9mIGk/YjpqKGIpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMH1mdW5jdGlvbiB6KCl7dC5jYWxsKHRoaXMpLHRoaXMudmFsdWVfPVtdLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCx0aGlzLm9ic2VydmVkXz1bXX1mdW5jdGlvbiBBKGEpe3JldHVybiBhfWZ1bmN0aW9uIEIoYSxiLGMsZCl7dGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy52YWx1ZV89dm9pZCAwLHRoaXMub2JzZXJ2YWJsZV89YSx0aGlzLmdldFZhbHVlRm5fPWJ8fEEsdGhpcy5zZXRWYWx1ZUZuXz1jfHxBLHRoaXMuZG9udFBhc3NUaHJvdWdoU2V0Xz1kfWZ1bmN0aW9uIEMoYSxiKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0Lm9ic2VydmUpe3ZhciBjPU9iamVjdC5nZXROb3RpZmllcihhKTtyZXR1cm4gZnVuY3Rpb24oZCxlKXt2YXIgZj17b2JqZWN0OmEsdHlwZTpkLG5hbWU6Yn07Mj09PWFyZ3VtZW50cy5sZW5ndGgmJihmLm9sZFZhbHVlPWUpLGMubm90aWZ5KGYpfX19ZnVuY3Rpb24gRChhLGIsYyl7Zm9yKHZhciBkPXt9LGU9e30sZj0wO2Y8Yi5sZW5ndGg7ZisrKXt2YXIgZz1iW2ZdO3RiW2cudHlwZV0/KGcubmFtZSBpbiBjfHwoY1tnLm5hbWVdPWcub2xkVmFsdWUpLGcudHlwZSE9TSYmKGcudHlwZSE9TD9nLm5hbWUgaW4gZD8oZGVsZXRlIGRbZy5uYW1lXSxkZWxldGUgY1tnLm5hbWVdKTplW2cubmFtZV09ITA6Zy5uYW1lIGluIGU/ZGVsZXRlIGVbZy5uYW1lXTpkW2cubmFtZV09ITApKTooY29uc29sZS5lcnJvcigiVW5rbm93biBjaGFuZ2VSZWNvcmQgdHlwZTogIitnLnR5cGUpLGNvbnNvbGUuZXJyb3IoZykpfWZvcih2YXIgaCBpbiBkKWRbaF09YVtoXTtmb3IodmFyIGggaW4gZSllW2hdPXZvaWQgMDt2YXIgaT17fTtmb3IodmFyIGggaW4gYylpZighKGggaW4gZHx8aCBpbiBlKSl7dmFyIGo9YVtoXTtjW2hdIT09aiYmKGlbaF09ail9cmV0dXJue2FkZGVkOmQscmVtb3ZlZDplLGNoYW5nZWQ6aX19ZnVuY3Rpb24gRShhLGIsYyl7cmV0dXJue2luZGV4OmEscmVtb3ZlZDpiLGFkZGVkQ291bnQ6Y319ZnVuY3Rpb24gRigpe31mdW5jdGlvbiBHKGEsYixjLGQsZSxmKXtyZXR1cm4geWIuY2FsY1NwbGljZXMoYSxiLGMsZCxlLGYpfWZ1bmN0aW9uIEgoYSxiLGMsZCl7cmV0dXJuIGM+Ynx8YT5kPy0xOmI9PWN8fGQ9PWE/MDpjPmE/ZD5iP2ItYzpkLWM6Yj5kP2QtYTpiLWF9ZnVuY3Rpb24gSShhLGIsYyxkKXtmb3IodmFyIGU9RShiLGMsZCksZj0hMSxnPTAsaD0wO2g8YS5sZW5ndGg7aCsrKXt2YXIgaT1hW2hdO2lmKGkuaW5kZXgrPWcsIWYpe3ZhciBqPUgoZS5pbmRleCxlLmluZGV4K2UucmVtb3ZlZC5sZW5ndGgsaS5pbmRleCxpLmluZGV4K2kuYWRkZWRDb3VudCk7aWYoaj49MCl7YS5zcGxpY2UoaCwxKSxoLS0sZy09aS5hZGRlZENvdW50LWkucmVtb3ZlZC5sZW5ndGgsZS5hZGRlZENvdW50Kz1pLmFkZGVkQ291bnQtajt2YXIgaz1lLnJlbW92ZWQubGVuZ3RoK2kucmVtb3ZlZC5sZW5ndGgtajtpZihlLmFkZGVkQ291bnR8fGspe3ZhciBjPWkucmVtb3ZlZDtpZihlLmluZGV4PGkuaW5kZXgpe3ZhciBsPWUucmVtb3ZlZC5zbGljZSgwLGkuaW5kZXgtZS5pbmRleCk7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkobCxjKSxjPWx9aWYoZS5pbmRleCtlLnJlbW92ZWQubGVuZ3RoPmkuaW5kZXgraS5hZGRlZENvdW50KXt2YXIgbT1lLnJlbW92ZWQuc2xpY2UoaS5pbmRleCtpLmFkZGVkQ291bnQtZS5pbmRleCk7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoYyxtKX1lLnJlbW92ZWQ9YyxpLmluZGV4PGUuaW5kZXgmJihlLmluZGV4PWkuaW5kZXgpfWVsc2UgZj0hMH1lbHNlIGlmKGUuaW5kZXg8aS5pbmRleCl7Zj0hMCxhLnNwbGljZShoLDAsZSksaCsrO3ZhciBuPWUuYWRkZWRDb3VudC1lLnJlbW92ZWQubGVuZ3RoO2kuaW5kZXgrPW4sZys9bn19fWZ8fGEucHVzaChlKX1mdW5jdGlvbiBKKGEsYil7Zm9yKHZhciBjPVtdLGY9MDtmPGIubGVuZ3RoO2YrKyl7dmFyIGc9YltmXTtzd2l0Y2goZy50eXBlKXtjYXNlIFA6SShjLGcuaW5kZXgsZy5yZW1vdmVkLnNsaWNlKCksZy5hZGRlZENvdW50KTticmVhaztjYXNlIEw6Y2FzZSBNOmNhc2UgTzppZighZChnLm5hbWUpKWNvbnRpbnVlO3ZhciBoPWUoZy5uYW1lKTtpZigwPmgpY29udGludWU7SShjLGgsW2cub2xkVmFsdWVdLDEpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcigiVW5leHBlY3RlZCByZWNvcmQgdHlwZTogIitKU09OLnN0cmluZ2lmeShnKSl9fXJldHVybiBjfWZ1bmN0aW9uIEsoYSxiKXt2YXIgYz1bXTtyZXR1cm4gSihhLGIpLmZvckVhY2goZnVuY3Rpb24oYil7cmV0dXJuIDE9PWIuYWRkZWRDb3VudCYmMT09Yi5yZW1vdmVkLmxlbmd0aD92b2lkKGIucmVtb3ZlZFswXSE9PWFbYi5pbmRleF0mJmMucHVzaChiKSk6dm9pZChjPWMuY29uY2F0KEcoYSxiLmluZGV4LGIuaW5kZXgrYi5hZGRlZENvdW50LGIucmVtb3ZlZCwwLGIucmVtb3ZlZC5sZW5ndGgpKSl9KSxjfXZhciBMPSJhZGQiLE09InVwZGF0ZSIsTj0icmVjb25maWd1cmUiLE89ImRlbGV0ZSIsUD0ic3BsaWNlIixRPWIoKSxSPWMoKSxTPWEuTnVtYmVyLmlzTmFOfHxmdW5jdGlvbihiKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGImJmEuaXNOYU4oYil9LFQ9Il9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKGEpe3JldHVybiBhfTpmdW5jdGlvbihhKXt2YXIgYj1hLl9fcHJvdG9fXztpZighYilyZXR1cm4gYTt2YXIgYz1PYmplY3QuY3JlYXRlKGIpO3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLGIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGIpKX0pLGN9LFU9IlskX2EtekEtWl0iLFY9IlskX2EtekEtWjAtOV0iLFc9VSsiKyIrVisiKiIsWD0iKD86WzAtOV18WzEtOV0rWzAtOV0rKSIsWT0iKD86IitXKyJ8IitYKyIpIixaPSIoPzoiK1krIikoPzpcXHMqXFwuXFxzKiIrWSsiKSoiLCQ9bmV3IFJlZ0V4cCgiXiIrWisiJCIpLF89e30sYWI9e307aS5nZXQ9aixpLnByb3RvdHlwZT1UKHtfX3Byb3RvX186W10sdmFsaWQ6ITAsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qb2luKCIuIil9LGdldFZhbHVlRnJvbTpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPHRoaXMubGVuZ3RoO2IrKyl7aWYobnVsbD09YSlyZXR1cm47YT1hW3RoaXNbYl1dfXJldHVybiBhfSxpdGVyYXRlT2JqZWN0czpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2M8dGhpcy5sZW5ndGg7YysrKXtpZihjJiYoYT1hW3RoaXNbYy0xXV0pLCFhKXJldHVybjtiKGEpfX0sY29tcGlsZWRHZXRWYWx1ZUZyb21GbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBkKGEpPydbIicrYSsnIl0nOiIuIithfSksYj0iIixjPSJvYmoiO2IrPSJpZiAob2JqICE9IG51bGwiO2Zvcih2YXIgZT0wO2U8dGhpcy5sZW5ndGgtMTtlKyspe3t0aGlzW2VdfWMrPWFbZV0sYis9IiAmJlxuICAgICAiK2MrIiAhPSBudWxsIn1yZXR1cm4gYis9IilcbiIsYys9YVtlXSxiKz0iICByZXR1cm4gIitjKyI7XG5lbHNlXG4gIHJldHVybiB1bmRlZmluZWQ7IixuZXcgRnVuY3Rpb24oIm9iaiIsYil9LHNldFZhbHVlRnJvbTpmdW5jdGlvbihhLGIpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPHRoaXMubGVuZ3RoLTE7YysrKXtpZighZihhKSlyZXR1cm4hMTthPWFbdGhpc1tjXV19cmV0dXJuIGYoYSk/KGFbdGhpc1tjXV09YiwhMCk6ITF9fSk7dmFyIGJiPW5ldyBpKCIiLF8pO2JiLnZhbGlkPSExLGJiLmdldFZhbHVlRnJvbT1iYi5zZXRWYWx1ZUZyb209ZnVuY3Rpb24oKXt9O3ZhciBjYixkYj0xZTMsZWI9W10sZmI9UT9mdW5jdGlvbigpe3ZhciBhPXtwaW5nUG9uZzohMH0sYj0hMTtyZXR1cm4gT2JqZWN0Lm9ic2VydmUoYSxmdW5jdGlvbigpe28oKSxiPSExfSksZnVuY3Rpb24oYyl7ZWIucHVzaChjKSxifHwoYj0hMCxhLnBpbmdQb25nPSFhLnBpbmdQb25nKX19KCk6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSl7ZWIucHVzaChhKX19KCksZ2I9W10saGI9W10saWI9W10samI9MCxrYj0xLGxiPTIsbWI9MyxuYj0xO3QucHJvdG90eXBlPXtvcGVuOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5zdGF0ZV8hPWpiKXRocm93IEVycm9yKCJPYnNlcnZlciBoYXMgYWxyZWFkeSBiZWVuIG9wZW5lZC4iKTtyZXR1cm4gdSh0aGlzKSx0aGlzLmNhbGxiYWNrXz1hLHRoaXMudGFyZ2V0Xz1iLHRoaXMuc3RhdGVfPWtiLHRoaXMuY29ubmVjdF8oKSx0aGlzLnZhbHVlX30sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlXz09a2ImJih2KHRoaXMpLHRoaXMuc3RhdGVfPWxiLHRoaXMuZGlzY29ubmVjdF8oKSx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDApfSxkZWxpdmVyOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZV89PWtiJiZrKHRoaXMpfSxyZXBvcnRfOmZ1bmN0aW9uKGEpe3RyeXt0aGlzLmNhbGxiYWNrXy5hcHBseSh0aGlzLnRhcmdldF8sYSl9Y2F0Y2goYil7dC5fZXJyb3JUaHJvd25EdXJpbmdDYWxsYmFjaz0hMCxjb25zb2xlLmVycm9yKCJFeGNlcHRpb24gY2F1Z2h0IGR1cmluZyBvYnNlcnZlciBjYWxsYmFjazogIisoYi5zdGFja3x8YikpfX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja18odm9pZCAwLCEwKSx0aGlzLnZhbHVlX319O3ZhciBvYixwYj0hUTt0Ll9hbGxPYnNlcnZlcnNDb3VudD0wLHBiJiYob2I9W10pO3ZhciBxYj0hMSxyYj0iZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmRlbGl2ZXJBbGxDaGFuZ2VSZWNvcmRzO2EuUGxhdGZvcm09YS5QbGF0Zm9ybXx8e30sYS5QbGF0Zm9ybS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludD1mdW5jdGlvbigpe2lmKCFxYil7aWYocmIpcmV0dXJuIHZvaWQgT2JqZWN0LmRlbGl2ZXJBbGxDaGFuZ2VSZWNvcmRzKCk7aWYocGIpe3FiPSEwO3ZhciBiLGMsZD0wO2Rve2QrKyxjPW9iLG9iPVtdLGI9ITE7Zm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspe3ZhciBmPWNbZV07Zi5zdGF0ZV89PWtiJiYoZi5jaGVja18oKSYmKGI9ITApLG9iLnB1c2goZikpfW8oKSYmKGI9ITApfXdoaWxlKGRiPmQmJmIpO2EudGVzdGluZ0V4cG9zZUN5Y2xlQ291bnQmJihhLmRpcnR5Q2hlY2tDeWNsZUNvdW50PWQpLHFiPSExfX19LHBiJiYoYS5QbGF0Zm9ybS5jbGVhck9ic2VydmVycz1mdW5jdGlvbigpe29iPVtdfSksdy5wcm90b3R5cGU9VCh7X19wcm90b19fOnQucHJvdG90eXBlLGFycmF5T2JzZXJ2ZTohMSxjb25uZWN0XzpmdW5jdGlvbigpe1E/dGhpcy5kaXJlY3RPYnNlcnZlcl89cSh0aGlzLHRoaXMudmFsdWVfLHRoaXMuYXJyYXlPYnNlcnZlKTp0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKX0sY29weU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYj1BcnJheS5pc0FycmF5KGEpP1tdOnt9O2Zvcih2YXIgYyBpbiBhKWJbY109YVtjXTtyZXR1cm4gQXJyYXkuaXNBcnJheShhKSYmKGIubGVuZ3RoPWEubGVuZ3RoKSxifSxjaGVja186ZnVuY3Rpb24oYSl7dmFyIGIsYztpZihRKXtpZighYSlyZXR1cm4hMTtjPXt9LGI9RCh0aGlzLnZhbHVlXyxhLGMpfWVsc2UgYz10aGlzLm9sZE9iamVjdF8sYj1uKHRoaXMudmFsdWVfLHRoaXMub2xkT2JqZWN0Xyk7cmV0dXJuIG0oYik/ITE6KFF8fCh0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKSksdGhpcy5yZXBvcnRfKFtiLmFkZGVkfHx7fSxiLnJlbW92ZWR8fHt9LGIuY2hhbmdlZHx8e30sZnVuY3Rpb24oYSl7cmV0dXJuIGNbYV19XSksITApfSxkaXNjb25uZWN0XzpmdW5jdGlvbigpe1E/KHRoaXMuZGlyZWN0T2JzZXJ2ZXJfLmNsb3NlKCksdGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwKTp0aGlzLm9sZE9iamVjdF89dm9pZCAwfSxkZWxpdmVyOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZV89PWtiJiYoUT90aGlzLmRpcmVjdE9ic2VydmVyXy5kZWxpdmVyKCExKTprKHRoaXMpKX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXJlY3RPYnNlcnZlcl8/dGhpcy5kaXJlY3RPYnNlcnZlcl8uZGVsaXZlcighMCk6dGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXyksdGhpcy52YWx1ZV99fSkseC5wcm90b3R5cGU9VCh7X19wcm90b19fOncucHJvdG90eXBlLGFycmF5T2JzZXJ2ZTohMCxjb3B5T2JqZWN0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnNsaWNlKCl9LGNoZWNrXzpmdW5jdGlvbihhKXt2YXIgYjtpZihRKXtpZighYSlyZXR1cm4hMTtiPUsodGhpcy52YWx1ZV8sYSl9ZWxzZSBiPUcodGhpcy52YWx1ZV8sMCx0aGlzLnZhbHVlXy5sZW5ndGgsdGhpcy5vbGRPYmplY3RfLDAsdGhpcy5vbGRPYmplY3RfLmxlbmd0aCk7cmV0dXJuIGImJmIubGVuZ3RoPyhRfHwodGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXykpLHRoaXMucmVwb3J0XyhbYl0pLCEwKTohMX19KSx4LmFwcGx5U3BsaWNlcz1mdW5jdGlvbihhLGIsYyl7Yy5mb3JFYWNoKGZ1bmN0aW9uKGMpe2Zvcih2YXIgZD1bYy5pbmRleCxjLnJlbW92ZWQubGVuZ3RoXSxlPWMuaW5kZXg7ZTxjLmluZGV4K2MuYWRkZWRDb3VudDspZC5wdXNoKGJbZV0pLGUrKztBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KGEsZCl9KX0seS5wcm90b3R5cGU9VCh7X19wcm90b19fOnQucHJvdG90eXBlLGNvbm5lY3RfOmZ1bmN0aW9uKCl7USYmKHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXModGhpcyx0aGlzLm9iamVjdF8pKSx0aGlzLmNoZWNrXyh2b2lkIDAsITApfSxkaXNjb25uZWN0XzpmdW5jdGlvbigpe3RoaXMudmFsdWVfPXZvaWQgMCx0aGlzLmRpcmVjdE9ic2VydmVyXyYmKHRoaXMuZGlyZWN0T2JzZXJ2ZXJfLmNsb3NlKHRoaXMpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCl9LGl0ZXJhdGVPYmplY3RzXzpmdW5jdGlvbihhKXt0aGlzLnBhdGhfLml0ZXJhdGVPYmplY3RzKHRoaXMub2JqZWN0XyxhKX0sY2hlY2tfOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy52YWx1ZV87cmV0dXJuIHRoaXMudmFsdWVfPXRoaXMucGF0aF8uZ2V0VmFsdWVGcm9tKHRoaXMub2JqZWN0XyksYnx8Zyh0aGlzLnZhbHVlXyxjKT8hMToodGhpcy5yZXBvcnRfKFt0aGlzLnZhbHVlXyxjXSksITApfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXt0aGlzLnBhdGhfJiZ0aGlzLnBhdGhfLnNldFZhbHVlRnJvbSh0aGlzLm9iamVjdF8sYSl9fSk7dmFyIHNiPXt9O3oucHJvdG90eXBlPVQoe19fcHJvdG9fXzp0LnByb3RvdHlwZSxjb25uZWN0XzpmdW5jdGlvbigpe2lmKHRoaXMuY2hlY2tfKHZvaWQgMCwhMCksUSl7Zm9yKHZhciBhLGI9ITEsYz0wO2M8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2MrPTIpaWYoYT10aGlzLm9ic2VydmVkX1tjXSxhIT09c2Ipe2I9ITA7YnJlYWt9cmV0dXJuIHRoaXMuZGlyZWN0T2JzZXJ2ZXJfP2I/dm9pZCB0aGlzLmRpcmVjdE9ic2VydmVyXy5yZXNldCgpOih0aGlzLmRpcmVjdE9ic2VydmVyXy5jbG9zZSgpLHZvaWQodGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwKSk6dm9pZChiJiYodGhpcy5kaXJlY3RPYnNlcnZlcl89cyh0aGlzLGEpKSl9fSxjbG9zZU9ic2VydmVyc186ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMub2JzZXJ2ZWRfLmxlbmd0aDthKz0yKXRoaXMub2JzZXJ2ZWRfW2FdPT09c2ImJnRoaXMub2JzZXJ2ZWRfW2ErMV0uY2xvc2UoKTt0aGlzLm9ic2VydmVkXy5sZW5ndGg9MH0sZGlzY29ubmVjdF86ZnVuY3Rpb24oKXt0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5kaXJlY3RPYnNlcnZlcl8mJih0aGlzLmRpcmVjdE9ic2VydmVyXy5jbG9zZSh0aGlzKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDApLHRoaXMuY2xvc2VPYnNlcnZlcnNfKCl9LGFkZFBhdGg6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLnN0YXRlXyE9amImJnRoaXMuc3RhdGVfIT1tYil0aHJvdyBFcnJvcigiQ2Fubm90IGFkZCBwYXRocyBvbmNlIHN0YXJ0ZWQuIik7dGhpcy5vYnNlcnZlZF8ucHVzaChhLGIgaW5zdGFuY2VvZiBpP2I6aihiKSl9LGFkZE9ic2VydmVyOmZ1bmN0aW9uKGEpe2lmKHRoaXMuc3RhdGVfIT1qYiYmdGhpcy5zdGF0ZV8hPW1iKXRocm93IEVycm9yKCJDYW5ub3QgYWRkIG9ic2VydmVycyBvbmNlIHN0YXJ0ZWQuIik7YS5vcGVuKHRoaXMuZGVsaXZlcix0aGlzKSx0aGlzLm9ic2VydmVkXy5wdXNoKHNiLGEpfSxzdGFydFJlc2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5zdGF0ZV8hPWtiKXRocm93IEVycm9yKCJDYW4gb25seSByZXNldCB3aGlsZSBvcGVuIik7dGhpcy5zdGF0ZV89bWIsdGhpcy5jbG9zZU9ic2VydmVyc18oKX0sZmluaXNoUmVzZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXRlXyE9bWIpdGhyb3cgRXJyb3IoIkNhbiBvbmx5IGZpbmlzaFJlc2V0IGFmdGVyIHN0YXJ0UmVzZXQiKTtyZXR1cm4gdGhpcy5zdGF0ZV89a2IsdGhpcy5jb25uZWN0XygpLHRoaXMudmFsdWVffSxpdGVyYXRlT2JqZWN0c186ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9MDtjPHRoaXMub2JzZXJ2ZWRfLmxlbmd0aDtjKz0yKWI9dGhpcy5vYnNlcnZlZF9bY10sYiE9PXNiJiZ0aGlzLm9ic2VydmVkX1tjKzFdLml0ZXJhdGVPYmplY3RzKGIsYSl9LGNoZWNrXzpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPTA7ZDx0aGlzLm9ic2VydmVkXy5sZW5ndGg7ZCs9Mil7dmFyIGU9dGhpcy5vYnNlcnZlZF9bZCsxXSxmPXRoaXMub2JzZXJ2ZWRfW2RdLGg9Zj09PXNiP2UuZGlzY2FyZENoYW5nZXMoKTplLmdldFZhbHVlRnJvbShmKTtiP3RoaXMudmFsdWVfW2QvMl09aDpnKGgsdGhpcy52YWx1ZV9bZC8yXSl8fChjPWN8fFtdLGNbZC8yXT10aGlzLnZhbHVlX1tkLzJdLHRoaXMudmFsdWVfW2QvMl09aCl9cmV0dXJuIGM/KHRoaXMucmVwb3J0XyhbdGhpcy52YWx1ZV8sYyx0aGlzLm9ic2VydmVkX10pLCEwKTohMX19KSxCLnByb3RvdHlwZT17b3BlbjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmNhbGxiYWNrXz1hLHRoaXMudGFyZ2V0Xz1iLHRoaXMudmFsdWVfPXRoaXMuZ2V0VmFsdWVGbl8odGhpcy5vYnNlcnZhYmxlXy5vcGVuKHRoaXMub2JzZXJ2ZWRDYWxsYmFja18sdGhpcykpLHRoaXMudmFsdWVffSxvYnNlcnZlZENhbGxiYWNrXzpmdW5jdGlvbihhKXtpZihhPXRoaXMuZ2V0VmFsdWVGbl8oYSksIWcoYSx0aGlzLnZhbHVlXykpe3ZhciBiPXRoaXMudmFsdWVfO3RoaXMudmFsdWVfPWEsdGhpcy5jYWxsYmFja18uY2FsbCh0aGlzLnRhcmdldF8sdGhpcy52YWx1ZV8sYil9fSxkaXNjYXJkQ2hhbmdlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlXz10aGlzLmdldFZhbHVlRm5fKHRoaXMub2JzZXJ2YWJsZV8uZGlzY2FyZENoYW5nZXMoKSksdGhpcy52YWx1ZV99LGRlbGl2ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vYnNlcnZhYmxlXy5kZWxpdmVyKCl9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe3JldHVybiBhPXRoaXMuc2V0VmFsdWVGbl8oYSksIXRoaXMuZG9udFBhc3NUaHJvdWdoU2V0XyYmdGhpcy5vYnNlcnZhYmxlXy5zZXRWYWx1ZT90aGlzLm9ic2VydmFibGVfLnNldFZhbHVlKGEpOnZvaWQgMH0sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLm9ic2VydmFibGVfJiZ0aGlzLm9ic2VydmFibGVfLmNsb3NlKCksdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy5vYnNlcnZhYmxlXz12b2lkIDAsdGhpcy52YWx1ZV89dm9pZCAwLHRoaXMuZ2V0VmFsdWVGbl89dm9pZCAwLHRoaXMuc2V0VmFsdWVGbl89dm9pZCAwfX07dmFyIHRiPXt9O3RiW0xdPSEwLHRiW01dPSEwLHRiW09dPSEwLHQuZGVmaW5lQ29tcHV0ZWRQcm9wZXJ0eT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9QyhhLGIpLGU9Yy5vcGVuKGZ1bmN0aW9uKGEsYil7ZT1hLGQmJmQoTSxiKX0pO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYy5kZWxpdmVyKCksZX0sc2V0OmZ1bmN0aW9uKGEpe3JldHVybiBjLnNldFZhbHVlKGEpLGF9LGNvbmZpZ3VyYWJsZTohMH0pLHtjbG9zZTpmdW5jdGlvbigpe2MuY2xvc2UoKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfX19O3ZhciB1Yj0wLHZiPTEsd2I9Mix4Yj0zO0YucHJvdG90eXBlPXtjYWxjRWRpdERpc3RhbmNlczpmdW5jdGlvbihhLGIsYyxkLGUsZil7Zm9yKHZhciBnPWYtZSsxLGg9Yy1iKzEsaT1uZXcgQXJyYXkoZyksaj0wO2c+ajtqKyspaVtqXT1uZXcgQXJyYXkoaCksaVtqXVswXT1qO2Zvcih2YXIgaz0wO2g+aztrKyspaVswXVtrXT1rO2Zvcih2YXIgaj0xO2c+ajtqKyspZm9yKHZhciBrPTE7aD5rO2srKylpZih0aGlzLmVxdWFscyhhW2Iray0xXSxkW2Urai0xXSkpaVtqXVtrXT1pW2otMV1bay0xXTtlbHNle3ZhciBsPWlbai0xXVtrXSsxLG09aVtqXVtrLTFdKzE7aVtqXVtrXT1tPmw/bDptfXJldHVybiBpfSxzcGxpY2VPcGVyYXRpb25zRnJvbUVkaXREaXN0YW5jZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEubGVuZ3RoLTEsYz1hWzBdLmxlbmd0aC0xLGQ9YVtiXVtjXSxlPVtdO2I+MHx8Yz4wOylpZigwIT1iKWlmKDAhPWMpe3ZhciBmLGc9YVtiLTFdW2MtMV0saD1hW2ItMV1bY10saT1hW2JdW2MtMV07Zj1pPmg/Zz5oP2g6ZzpnPmk/aTpnLGY9PWc/KGc9PWQ/ZS5wdXNoKHViKTooZS5wdXNoKHZiKSxkPWcpLGItLSxjLS0pOmY9PWg/KGUucHVzaCh4YiksYi0tLGQ9aCk6KGUucHVzaCh3YiksYy0tLGQ9aSl9ZWxzZSBlLnB1c2goeGIpLGItLTtlbHNlIGUucHVzaCh3YiksYy0tO3JldHVybiBlLnJldmVyc2UoKSxlfSxjYWxjU3BsaWNlczpmdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9MCxoPTAsaT1NYXRoLm1pbihjLWIsZi1lKTtpZigwPT1iJiYwPT1lJiYoZz10aGlzLnNoYXJlZFByZWZpeChhLGQsaSkpLGM9PWEubGVuZ3RoJiZmPT1kLmxlbmd0aCYmKGg9dGhpcy5zaGFyZWRTdWZmaXgoYSxkLGktZykpLGIrPWcsZSs9ZyxjLT1oLGYtPWgsYy1iPT0wJiZmLWU9PTApcmV0dXJuW107aWYoYj09Yyl7Zm9yKHZhciBqPUUoYixbXSwwKTtmPmU7KWoucmVtb3ZlZC5wdXNoKGRbZSsrXSk7cmV0dXJuW2pdfWlmKGU9PWYpcmV0dXJuW0UoYixbXSxjLWIpXTtmb3IodmFyIGs9dGhpcy5zcGxpY2VPcGVyYXRpb25zRnJvbUVkaXREaXN0YW5jZXModGhpcy5jYWxjRWRpdERpc3RhbmNlcyhhLGIsYyxkLGUsZikpLGo9dm9pZCAwLGw9W10sbT1iLG49ZSxvPTA7bzxrLmxlbmd0aDtvKyspc3dpdGNoKGtbb10pe2Nhc2UgdWI6aiYmKGwucHVzaChqKSxqPXZvaWQgMCksbSsrLG4rKzticmVhaztjYXNlIHZiOmp8fChqPUUobSxbXSwwKSksai5hZGRlZENvdW50KyssbSsrLGoucmVtb3ZlZC5wdXNoKGRbbl0pLG4rKzticmVhaztjYXNlIHdiOmp8fChqPUUobSxbXSwwKSksai5hZGRlZENvdW50KyssbSsrO2JyZWFrO2Nhc2UgeGI6anx8KGo9RShtLFtdLDApKSxqLnJlbW92ZWQucHVzaChkW25dKSxuKyt9cmV0dXJuIGomJmwucHVzaChqKSxsfSxzaGFyZWRQcmVmaXg6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wO2M+ZDtkKyspaWYoIXRoaXMuZXF1YWxzKGFbZF0sYltkXSkpcmV0dXJuIGQ7cmV0dXJuIGN9LHNoYXJlZFN1ZmZpeDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWEubGVuZ3RoLGU9Yi5sZW5ndGgsZj0wO2M+ZiYmdGhpcy5lcXVhbHMoYVstLWRdLGJbLS1lXSk7KWYrKztyZXR1cm4gZn0sY2FsY3VsYXRlU3BsaWNlczpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmNhbGNTcGxpY2VzKGEsMCxhLmxlbmd0aCxiLDAsYi5sZW5ndGgpfSxlcXVhbHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWJ9fTt2YXIgeWI9bmV3IEY7YS5PYnNlcnZlcj10LGEuT2JzZXJ2ZXIucnVuRU9NXz1mYixhLk9ic2VydmVyLmhhc09iamVjdE9ic2VydmU9USxhLkFycmF5T2JzZXJ2ZXI9eCxhLkFycmF5T2JzZXJ2ZXIuY2FsY3VsYXRlU3BsaWNlcz1mdW5jdGlvbihhLGIpe3JldHVybiB5Yi5jYWxjdWxhdGVTcGxpY2VzKGEsYil9LGEuQXJyYXlTcGxpY2U9RixhLk9iamVjdE9ic2VydmVyPXcsYS5QYXRoT2JzZXJ2ZXI9eSxhLkNvbXBvdW5kT2JzZXJ2ZXI9eixhLlBhdGg9aSxhLk9ic2VydmVyVHJhbnNmb3JtPUIsYS5PYnNlcnZlci5jaGFuZ2VSZWNvcmRUeXBlcz17YWRkOkwsdXBkYXRlOk0scmVjb25maWd1cmU6TiwiZGVsZXRlIjpPLHNwbGljZTpQfX0oInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWwmJmdsb2JhbCYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZT9nbG9iYWw6dGhpc3x8d2luZG93KSx3aW5kb3cuUGxhdGZvcm09d2luZG93LlBsYXRmb3JtfHx7fSx3aW5kb3cubG9nRmxhZ3M9d2luZG93LmxvZ0ZsYWdzfHx7fSxmdW5jdGlvbihhKXt2YXIgYj1hLmZsYWdzfHx7fTtsb2NhdGlvbi5zZWFyY2guc2xpY2UoMSkuc3BsaXQoIiYiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2E9YS5zcGxpdCgiPSIpLGFbMF0mJihiW2FbMF1dPWFbMV18fCEwKX0pO3ZhciBjPWRvY3VtZW50LmN1cnJlbnRTY3JpcHR8fGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NjcmlwdFtzcmMqPSJwbGF0Zm9ybS5qcyJdJyk7aWYoYylmb3IodmFyIGQsZT1jLmF0dHJpYnV0ZXMsZj0wO2Y8ZS5sZW5ndGg7ZisrKWQ9ZVtmXSwic3JjIiE9PWQubmFtZSYmKGJbZC5uYW1lXT1kLnZhbHVlfHwhMCk7Yi5sb2cmJmIubG9nLnNwbGl0KCIsIikuZm9yRWFjaChmdW5jdGlvbihhKXt3aW5kb3cubG9nRmxhZ3NbYV09ITB9KSxiLnNoYWRvdz1iLnNoYWRvd3x8Yi5zaGFkb3dkb218fGIucG9seWZpbGwsYi5zaGFkb3c9Im5hdGl2ZSI9PT1iLnNoYWRvdz8hMTpiLnNoYWRvd3x8IUhUTUxFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290LGIucmVnaXN0ZXImJih3aW5kb3cuQ3VzdG9tRWxlbWVudHM9d2luZG93LkN1c3RvbUVsZW1lbnRzfHx7ZmxhZ3M6e319LHdpbmRvdy5DdXN0b21FbGVtZW50cy5mbGFncy5yZWdpc3Rlcj1iLnJlZ2lzdGVyKSxiLmltcG9ydHMmJih3aW5kb3cuSFRNTEltcG9ydHM9d2luZG93LkhUTUxJbXBvcnRzfHx7ZmxhZ3M6e319LHdpbmRvdy5IVE1MSW1wb3J0cy5mbGFncy5pbXBvcnRzPWIuaW1wb3J0cyksYS5mbGFncz1ifShQbGF0Zm9ybSksUGxhdGZvcm0uZmxhZ3Muc2hhZG93Pyh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGw9e30sZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7aWYoIWEpdGhyb3cgbmV3IEVycm9yKCJBc3NlcnRpb24gZmFpbGVkIil9ZnVuY3Rpb24gYyhhLGIpe3JldHVybiBMKGIpLmZvckVhY2goZnVuY3Rpb24oYyl7SyhhLGMsTShiLGMpKX0pLGF9ZnVuY3Rpb24gZChhLGIpe3JldHVybiBMKGIpLmZvckVhY2goZnVuY3Rpb24oYyl7c3dpdGNoKGMpe2Nhc2UiYXJndW1lbnRzIjpjYXNlImNhbGxlciI6Y2FzZSJsZW5ndGgiOmNhc2UibmFtZSI6Y2FzZSJwcm90b3R5cGUiOmNhc2UidG9TdHJpbmciOnJldHVybn1LKGEsYyxNKGIsYykpfSksYX1mdW5jdGlvbiBlKGEsYil7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspaWYoYltjXWluIGEpcmV0dXJuIGJbY119ZnVuY3Rpb24gZihhKXt2YXIgYj1hLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGEpLGM9RS5nZXQoYik7aWYoYylyZXR1cm4gYzt2YXIgZD1mKGIpLGU9dChkKTtyZXR1cm4gcShiLGUsYSksZX1mdW5jdGlvbiBnKGEsYil7byhhLGIsITApfWZ1bmN0aW9uIGgoYSxiKXtvKGIsYSwhMSl9ZnVuY3Rpb24gaShhKXtyZXR1cm4vXm9uW2Etel0rJC8udGVzdChhKX1mdW5jdGlvbiBqKGEpe3JldHVybi9eXHdbYS16QS1aXzAtOV0qJC8udGVzdChhKX1mdW5jdGlvbiBrKGEpe3JldHVybiBIJiZqKGEpP25ldyBGdW5jdGlvbigicmV0dXJuIHRoaXMuaW1wbC4iK2EpOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1wbFthXX19ZnVuY3Rpb24gbChhKXtyZXR1cm4gSCYmaihhKT9uZXcgRnVuY3Rpb24oInYiLCJ0aGlzLmltcGwuIithKyIgPSB2Iik6ZnVuY3Rpb24oYil7dGhpcy5pbXBsW2FdPWJ9fWZ1bmN0aW9uIG0oYSl7cmV0dXJuIEgmJmooYSk/bmV3IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcy5pbXBsLiIrYSsiLmFwcGx5KHRoaXMuaW1wbCwgYXJndW1lbnRzKSIpOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1wbFthXS5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX19ZnVuY3Rpb24gbihhLGIpe3RyeXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGIpfWNhdGNoKGMpe3JldHVybiBPfX1mdW5jdGlvbiBvKGIsYyxkKXtmb3IodmFyIGU9TChiKSxmPTA7ZjxlLmxlbmd0aDtmKyspe3ZhciBnPWVbZl07aWYoInBvbHltZXJCbGFja0xpc3RfIiE9PWcmJiEoZyBpbiBjfHxiLnBvbHltZXJCbGFja0xpc3RfJiZiLnBvbHltZXJCbGFja0xpc3RfW2ddKSl7TiYmYi5fX2xvb2t1cEdldHRlcl9fKGcpO3ZhciBoLGosbz1uKGIsZyk7aWYoZCYmImZ1bmN0aW9uIj09dHlwZW9mIG8udmFsdWUpY1tnXT1tKGcpO2Vsc2V7dmFyIHA9aShnKTtoPXA/YS5nZXRFdmVudEhhbmRsZXJHZXR0ZXIoZyk6ayhnKSwoby53cml0YWJsZXx8by5zZXQpJiYoaj1wP2EuZ2V0RXZlbnRIYW5kbGVyU2V0dGVyKGcpOmwoZykpLEsoYyxnLHtnZXQ6aCxzZXQ6aixjb25maWd1cmFibGU6by5jb25maWd1cmFibGUsZW51bWVyYWJsZTpvLmVudW1lcmFibGV9KX19fX1mdW5jdGlvbiBwKGEsYixjKXt2YXIgZT1hLnByb3RvdHlwZTtxKGUsYixjKSxkKGIsYSl9ZnVuY3Rpb24gcShhLGMsZCl7dmFyIGU9Yy5wcm90b3R5cGU7Yih2b2lkIDA9PT1FLmdldChhKSksRS5zZXQoYSxjKSxGLnNldChlLGEpLGcoYSxlKSxkJiZoKGUsZCksSyhlLCJjb25zdHJ1Y3RvciIse3ZhbHVlOmMsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITB9KX1mdW5jdGlvbiByKGEsYil7cmV0dXJuIEUuZ2V0KGIucHJvdG90eXBlKT09PWF9ZnVuY3Rpb24gcyhhKXt2YXIgYj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoYSksYz1mKGIpLGQ9dChjKTtyZXR1cm4gcShiLGQsYSksZH1mdW5jdGlvbiB0KGEpe2Z1bmN0aW9uIGIoYil7YS5jYWxsKHRoaXMsYil9cmV0dXJuIGIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYS5wcm90b3R5cGUpLGIucHJvdG90eXBlLmNvbnN0cnVjdG9yPWIsYn1mdW5jdGlvbiB1KGEpe3JldHVybiBhIGluc3RhbmNlb2YgRy5FdmVudFRhcmdldHx8YSBpbnN0YW5jZW9mIEcuRXZlbnR8fGEgaW5zdGFuY2VvZiBHLlJhbmdlfHxhIGluc3RhbmNlb2YgRy5ET01JbXBsZW1lbnRhdGlvbnx8YSBpbnN0YW5jZW9mIEcuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfHxHLldlYkdMUmVuZGVyaW5nQ29udGV4dCYmYSBpbnN0YW5jZW9mIEcuV2ViR0xSZW5kZXJpbmdDb250ZXh0fWZ1bmN0aW9uIHYoYSl7cmV0dXJuIFEmJmEgaW5zdGFuY2VvZiBRfHxhIGluc3RhbmNlb2YgU3x8YSBpbnN0YW5jZW9mIFJ8fGEgaW5zdGFuY2VvZiBUfHxhIGluc3RhbmNlb2YgVXx8YSBpbnN0YW5jZW9mIFB8fGEgaW5zdGFuY2VvZiBWfHxXJiZhIGluc3RhbmNlb2YgV3x8WCYmYSBpbnN0YW5jZW9mIFh9ZnVuY3Rpb24gdyhhKXtyZXR1cm4gbnVsbD09PWE/bnVsbDooYih2KGEpKSxhLnBvbHltZXJXcmFwcGVyX3x8KGEucG9seW1lcldyYXBwZXJfPW5ldyhmKGEpKShhKSkpfWZ1bmN0aW9uIHgoYSl7cmV0dXJuIG51bGw9PT1hP251bGw6KGIodShhKSksYS5pbXBsKX1mdW5jdGlvbiB5KGEpe3JldHVybiBhJiZ1KGEpP3goYSk6YX1mdW5jdGlvbiB6KGEpe3JldHVybiBhJiYhdShhKT93KGEpOmF9ZnVuY3Rpb24gQShhLGMpe251bGwhPT1jJiYoYih2KGEpKSxiKHZvaWQgMD09PWN8fHUoYykpLGEucG9seW1lcldyYXBwZXJfPWMpfWZ1bmN0aW9uIEIoYSxiLGMpe0soYS5wcm90b3R5cGUsYix7Z2V0OmMsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9KX1mdW5jdGlvbiBDKGEsYil7QihhLGIsZnVuY3Rpb24oKXtyZXR1cm4gdyh0aGlzLmltcGxbYl0pfSl9ZnVuY3Rpb24gRChhLGIpe2EuZm9yRWFjaChmdW5jdGlvbihhKXtiLmZvckVhY2goZnVuY3Rpb24oYil7YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXt2YXIgYT16KHRoaXMpO3JldHVybiBhW2JdLmFwcGx5KGEsYXJndW1lbnRzKX19KX0pfXZhciBFPW5ldyBXZWFrTWFwLEY9bmV3IFdlYWtNYXAsRz1PYmplY3QuY3JlYXRlKG51bGwpLEg9ISgic2VjdXJpdHlQb2xpY3kiaW4gZG9jdW1lbnQpfHxkb2N1bWVudC5zZWN1cml0eVBvbGljeS5hbGxvd3NFdmFsO2lmKEgpdHJ5e3ZhciBJPW5ldyBGdW5jdGlvbigiIiwicmV0dXJuIHRydWU7Iik7SD1JKCl9Y2F0Y2goSil7SD0hMX12YXIgSz1PYmplY3QuZGVmaW5lUHJvcGVydHksTD1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxNPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7TCh3aW5kb3cpO3ZhciBOPS9GaXJlZm94Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLE89e2dldDpmdW5jdGlvbigpe30sc2V0OmZ1bmN0aW9uKCl7fSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0sUD13aW5kb3cuRE9NSW1wbGVtZW50YXRpb24sUT13aW5kb3cuRXZlbnRUYXJnZXQsUj13aW5kb3cuRXZlbnQsUz13aW5kb3cuTm9kZSxUPXdpbmRvdy5XaW5kb3csVT13aW5kb3cuUmFuZ2UsVj13aW5kb3cuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFc9d2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dCxYPXdpbmRvdy5TVkdFbGVtZW50SW5zdGFuY2U7YS5hc3NlcnQ9YixhLmNvbnN0cnVjdG9yVGFibGU9RSxhLmRlZmluZUdldHRlcj1CLGEuZGVmaW5lV3JhcEdldHRlcj1DLGEuZm9yd2FyZE1ldGhvZHNUb1dyYXBwZXI9RCxhLmlzV3JhcHBlcj11LGEuaXNXcmFwcGVyRm9yPXIsYS5taXhpbj1jLGEubmF0aXZlUHJvdG90eXBlVGFibGU9RixhLm9uZU9mPWUsYS5yZWdpc3Rlck9iamVjdD1zLGEucmVnaXN0ZXJXcmFwcGVyPXAsYS5yZXdyYXA9QSxhLnVud3JhcD14LGEudW53cmFwSWZOZWVkZWQ9eSxhLndyYXA9dyxhLndyYXBJZk5lZWRlZD16LGEud3JhcHBlcnM9R30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYigpe2c9ITE7dmFyIGE9Zi5zbGljZSgwKTtmPVtdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWFbYl0oKX1mdW5jdGlvbiBjKGEpe2YucHVzaChhKSxnfHwoZz0hMCxkKGIsMCkpfXZhciBkLGU9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIsZj1bXSxnPSExO2lmKGUpe3ZhciBoPTEsaT1uZXcgZShiKSxqPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGgpO2kub2JzZXJ2ZShqLHtjaGFyYWN0ZXJEYXRhOiEwfSksZD1mdW5jdGlvbigpe2g9KGgrMSklMixqLmRhdGE9aH19ZWxzZSBkPXdpbmRvdy5zZXRJbW1lZGlhdGV8fHdpbmRvdy5zZXRUaW1lb3V0O2Euc2V0RW5kT2ZNaWNyb3Rhc2s9Y30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYigpe3B8fChrKGMpLHA9ITApfWZ1bmN0aW9uIGMoKXtwPSExO2RvIGZvcih2YXIgYT1vLnNsaWNlKCksYj0hMSxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPWFbY10sZT1kLnRha2VSZWNvcmRzKCk7ZihkKSxlLmxlbmd0aCYmKGQuY2FsbGJhY2tfKGUsZCksYj0hMCl9d2hpbGUoYil9ZnVuY3Rpb24gZChhLGIpe3RoaXMudHlwZT1hLHRoaXMudGFyZ2V0PWIsdGhpcy5hZGRlZE5vZGVzPW5ldyBtLk5vZGVMaXN0LHRoaXMucmVtb3ZlZE5vZGVzPW5ldyBtLk5vZGVMaXN0LHRoaXMucHJldmlvdXNTaWJsaW5nPW51bGwsdGhpcy5uZXh0U2libGluZz1udWxsLHRoaXMuYXR0cmlidXRlTmFtZT1udWxsLHRoaXMuYXR0cmlidXRlTmFtZXNwYWNlPW51bGwsdGhpcy5vbGRWYWx1ZT1udWxsfWZ1bmN0aW9uIGUoYSxiKXtmb3IoO2E7YT1hLnBhcmVudE5vZGUpe3ZhciBjPW4uZ2V0KGEpO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF07ZS5vcHRpb25zLnN1YnRyZWUmJmUuYWRkVHJhbnNpZW50T2JzZXJ2ZXIoYil9fX1mdW5jdGlvbiBmKGEpe2Zvcih2YXIgYj0wO2I8YS5ub2Rlc18ubGVuZ3RoO2IrKyl7dmFyIGM9YS5ub2Rlc19bYl0sZD1uLmdldChjKTtpZighZClyZXR1cm47Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV07Zi5vYnNlcnZlcj09PWEmJmYucmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzKCl9fX1mdW5jdGlvbiBnKGEsYyxlKXtmb3IodmFyIGY9T2JqZWN0LmNyZWF0ZShudWxsKSxnPU9iamVjdC5jcmVhdGUobnVsbCksaD1hO2g7aD1oLnBhcmVudE5vZGUpe3ZhciBpPW4uZ2V0KGgpO2lmKGkpZm9yKHZhciBqPTA7ajxpLmxlbmd0aDtqKyspe3ZhciBrPWlbal0sbD1rLm9wdGlvbnM7aWYoKGg9PT1hfHxsLnN1YnRyZWUpJiYhKCJhdHRyaWJ1dGVzIj09PWMmJiFsLmF0dHJpYnV0ZXN8fCJhdHRyaWJ1dGVzIj09PWMmJmwuYXR0cmlidXRlRmlsdGVyJiYobnVsbCE9PWUubmFtZXNwYWNlfHwtMT09PWwuYXR0cmlidXRlRmlsdGVyLmluZGV4T2YoZS5uYW1lKSl8fCJjaGFyYWN0ZXJEYXRhIj09PWMmJiFsLmNoYXJhY3RlckRhdGF8fCJjaGlsZExpc3QiPT09YyYmIWwuY2hpbGRMaXN0KSl7dmFyIG09ay5vYnNlcnZlcjtmW20udWlkX109bSwoImF0dHJpYnV0ZXMiPT09YyYmbC5hdHRyaWJ1dGVPbGRWYWx1ZXx8ImNoYXJhY3RlckRhdGEiPT09YyYmbC5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUpJiYoZ1ttLnVpZF9dPWUub2xkVmFsdWUpfX19dmFyIG89ITE7Zm9yKHZhciBwIGluIGYpe3ZhciBtPWZbcF0scT1uZXcgZChjLGEpOyJuYW1lImluIGUmJiJuYW1lc3BhY2UiaW4gZSYmKHEuYXR0cmlidXRlTmFtZT1lLm5hbWUscS5hdHRyaWJ1dGVOYW1lc3BhY2U9ZS5uYW1lc3BhY2UpLGUuYWRkZWROb2RlcyYmKHEuYWRkZWROb2Rlcz1lLmFkZGVkTm9kZXMpLGUucmVtb3ZlZE5vZGVzJiYocS5yZW1vdmVkTm9kZXM9ZS5yZW1vdmVkTm9kZXMpLGUucHJldmlvdXNTaWJsaW5nJiYocS5wcmV2aW91c1NpYmxpbmc9ZS5wcmV2aW91c1NpYmxpbmcpLGUubmV4dFNpYmxpbmcmJihxLm5leHRTaWJsaW5nPWUubmV4dFNpYmxpbmcpLHZvaWQgMCE9PWdbcF0mJihxLm9sZFZhbHVlPWdbcF0pLG0ucmVjb3Jkc18ucHVzaChxKSxvPSEwfW8mJmIoKX1mdW5jdGlvbiBoKGEpe2lmKHRoaXMuY2hpbGRMaXN0PSEhYS5jaGlsZExpc3QsdGhpcy5zdWJ0cmVlPSEhYS5zdWJ0cmVlLHRoaXMuYXR0cmlidXRlcz0iYXR0cmlidXRlcyJpbiBhfHwhKCJhdHRyaWJ1dGVPbGRWYWx1ZSJpbiBhfHwiYXR0cmlidXRlRmlsdGVyImluIGEpPyEhYS5hdHRyaWJ1dGVzOiEwLHRoaXMuY2hhcmFjdGVyRGF0YT0iY2hhcmFjdGVyRGF0YU9sZFZhbHVlImluIGEmJiEoImNoYXJhY3RlckRhdGEiaW4gYSk/ITA6ISFhLmNoYXJhY3RlckRhdGEsIXRoaXMuYXR0cmlidXRlcyYmKGEuYXR0cmlidXRlT2xkVmFsdWV8fCJhdHRyaWJ1dGVGaWx0ZXIiaW4gYSl8fCF0aGlzLmNoYXJhY3RlckRhdGEmJmEuY2hhcmFjdGVyRGF0YU9sZFZhbHVlKXRocm93IG5ldyBUeXBlRXJyb3I7aWYodGhpcy5jaGFyYWN0ZXJEYXRhPSEhYS5jaGFyYWN0ZXJEYXRhLHRoaXMuYXR0cmlidXRlT2xkVmFsdWU9ISFhLmF0dHJpYnV0ZU9sZFZhbHVlLHRoaXMuY2hhcmFjdGVyRGF0YU9sZFZhbHVlPSEhYS5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUsImF0dHJpYnV0ZUZpbHRlciJpbiBhKXtpZihudWxsPT1hLmF0dHJpYnV0ZUZpbHRlcnx8Im9iamVjdCIhPXR5cGVvZiBhLmF0dHJpYnV0ZUZpbHRlcil0aHJvdyBuZXcgVHlwZUVycm9yO3RoaXMuYXR0cmlidXRlRmlsdGVyPXEuY2FsbChhLmF0dHJpYnV0ZUZpbHRlcil9ZWxzZSB0aGlzLmF0dHJpYnV0ZUZpbHRlcj1udWxsfWZ1bmN0aW9uIGkoYSl7dGhpcy5jYWxsYmFja189YSx0aGlzLm5vZGVzXz1bXSx0aGlzLnJlY29yZHNfPVtdLHRoaXMudWlkXz0rK3Isby5wdXNoKHRoaXMpfWZ1bmN0aW9uIGooYSxiLGMpe3RoaXMub2JzZXJ2ZXI9YSx0aGlzLnRhcmdldD1iLHRoaXMub3B0aW9ucz1jLHRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXX12YXIgaz1hLnNldEVuZE9mTWljcm90YXNrLGw9YS53cmFwSWZOZWVkZWQsbT1hLndyYXBwZXJzLG49bmV3IFdlYWtNYXAsbz1bXSxwPSExLHE9QXJyYXkucHJvdG90eXBlLnNsaWNlLHI9MDtpLnByb3RvdHlwZT17b2JzZXJ2ZTpmdW5jdGlvbihhLGIpe2E9bChhKTt2YXIgYyxkPW5ldyBoKGIpLGU9bi5nZXQoYSk7ZXx8bi5zZXQoYSxlPVtdKTtmb3IodmFyIGY9MDtmPGUubGVuZ3RoO2YrKyllW2ZdLm9ic2VydmVyPT09dGhpcyYmKGM9ZVtmXSxjLnJlbW92ZVRyYW5zaWVudE9ic2VydmVycygpLGMub3B0aW9ucz1kKTtjfHwoYz1uZXcgaih0aGlzLGEsZCksZS5wdXNoKGMpLHRoaXMubm9kZXNfLnB1c2goYSkpfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy5ub2Rlc18uZm9yRWFjaChmdW5jdGlvbihhKXtmb3IodmFyIGI9bi5nZXQoYSksYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdO2lmKGQub2JzZXJ2ZXI9PT10aGlzKXtiLnNwbGljZShjLDEpO2JyZWFrfX19LHRoaXMpLHRoaXMucmVjb3Jkc189W119LHRha2VSZWNvcmRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5yZWNvcmRzXztyZXR1cm4gdGhpcy5yZWNvcmRzXz1bXSxhfX0sai5wcm90b3R5cGU9e2FkZFRyYW5zaWVudE9ic2VydmVyOmZ1bmN0aW9uKGEpe2lmKGEhPT10aGlzLnRhcmdldCl7dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzLnB1c2goYSk7dmFyIGI9bi5nZXQoYSk7Ynx8bi5zZXQoYSxiPVtdKSxiLnB1c2godGhpcyl9fSxyZW1vdmVUcmFuc2llbnRPYnNlcnZlcnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM7dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWZvcih2YXIgYz1hW2JdLGQ9bi5nZXQoYyksZT0wO2U8ZC5sZW5ndGg7ZSsrKWlmKGRbZV09PT10aGlzKXtkLnNwbGljZShlLDEpO2JyZWFrfX19LGEuZW5xdWV1ZU11dGF0aW9uPWcsYS5yZWdpc3RlclRyYW5zaWVudE9ic2VydmVycz1lLGEud3JhcHBlcnMuTXV0YXRpb25PYnNlcnZlcj1pLGEud3JhcHBlcnMuTXV0YXRpb25SZWNvcmQ9ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIFEuU2hhZG93Um9vdH1mdW5jdGlvbiBjKGEpe3ZhciBiPWEubG9jYWxOYW1lO3JldHVybiJjb250ZW50Ij09PWJ8fCJzaGFkb3ciPT09Yn1mdW5jdGlvbiBkKGEpe3JldHVybiEhYS5zaGFkb3dSb290fWZ1bmN0aW9uIGUoYSl7dmFyIGI7cmV0dXJuIGEucGFyZW50Tm9kZXx8KGI9YS5kZWZhdWx0VmlldykmJlAoYil8fG51bGx9ZnVuY3Rpb24gZihmLGcsaCl7aWYoaC5sZW5ndGgpcmV0dXJuIGguc2hpZnQoKTtpZihiKGYpKXJldHVybiBqKGYpfHxmLmhvc3Q7dmFyIGk9YS5ldmVudFBhcmVudHNUYWJsZS5nZXQoZik7aWYoaSl7Zm9yKHZhciBrPTE7azxpLmxlbmd0aDtrKyspaFtrLTFdPWlba107cmV0dXJuIGlbMF19aWYoZyYmYyhmKSl7dmFyIGw9Zi5wYXJlbnROb2RlO2lmKGwmJmQobCkpZm9yKHZhciBtPWEuZ2V0U2hhZG93VHJlZXMobCksbj1qKGcpLGs9MDtrPG0ubGVuZ3RoO2srKylpZihtW2tdLmNvbnRhaW5zKG4pKXJldHVybiBufXJldHVybiBlKGYpfWZ1bmN0aW9uIGcoYSl7Zm9yKHZhciBkPVtdLGU9YSxnPVtdLGk9W107ZTspe3ZhciBqPW51bGw7aWYoYyhlKSl7aj1oKGQpO3ZhciBrPWRbZC5sZW5ndGgtMV18fGU7ZC5wdXNoKGspfWVsc2UgZC5sZW5ndGh8fGQucHVzaChlKTt2YXIgbD1kW2QubGVuZ3RoLTFdO2cucHVzaCh7dGFyZ2V0OmwsY3VycmVudFRhcmdldDplfSksYihlKSYmZC5wb3AoKSxlPWYoZSxqLGkpfXJldHVybiBnfWZ1bmN0aW9uIGgoYSl7Zm9yKHZhciBiPWEubGVuZ3RoLTE7Yj49MDtiLS0paWYoIWMoYVtiXSkpcmV0dXJuIGFbYl07cmV0dXJuIG51bGx9ZnVuY3Rpb24gaShhLGQpe2Zvcih2YXIgZT1bXTthOyl7Zm9yKHZhciBnPVtdLGk9ZCxqPXZvaWQgMDtpOyl7dmFyIGw9bnVsbDtpZihnLmxlbmd0aCl7aWYoYyhpKSYmKGw9aChnKSxrKGopKSl7dmFyIG49Z1tnLmxlbmd0aC0xXTtnLnB1c2gobil9fWVsc2UgZy5wdXNoKGkpO2lmKG0oaSxhKSlyZXR1cm4gZ1tnLmxlbmd0aC0xXTtiKGkpJiZnLnBvcCgpLGo9aSxpPWYoaSxsLGUpfWE9YihhKT9hLmhvc3Q6YS5wYXJlbnROb2RlfX1mdW5jdGlvbiBqKGIpe3JldHVybiBhLmluc2VydGlvblBhcmVudFRhYmxlLmdldChiKX1mdW5jdGlvbiBrKGEpe3JldHVybiBqKGEpfWZ1bmN0aW9uIGwoYSl7Zm9yKHZhciBiO2I9YS5wYXJlbnROb2RlOylhPWI7cmV0dXJuIGF9ZnVuY3Rpb24gbShhLGIpe3JldHVybiBsKGEpPT09bChiKX1mdW5jdGlvbiBuKGEsYil7cmV0dXJuIGE9PT1iPyEwOmEgaW5zdGFuY2VvZiBRLlNoYWRvd1Jvb3Q/bihsKGEuaG9zdCksYik6ITF9ZnVuY3Rpb24gbyhhKXtyZXR1cm4gUy5nZXQoYSk/dm9pZCAwOihTLnNldChhLCEwKSxwKFAoYSksUChhLnRhcmdldCkpKX1mdW5jdGlvbiBwKGIsYyl7aWYoVC5nZXQoYikpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkU3RhdGVFcnJvciIpO1Quc2V0KGIsITApLGEucmVuZGVyQWxsUGVuZGluZygpO3ZhciBkPWcoYyk7cmV0dXJuImxvYWQiPT09Yi50eXBlJiYyPT09ZC5sZW5ndGgmJmRbMF0udGFyZ2V0IGluc3RhbmNlb2YgUS5Eb2N1bWVudCYmZC5zaGlmdCgpLF8uc2V0KGIsZCkscShiLGQpJiZyKGIsZCkmJnMoYixkKSxYLnNldChiLHYuTk9ORSksVi5kZWxldGUoYixudWxsKSxULmRlbGV0ZShiKSxiLmRlZmF1bHRQcmV2ZW50ZWR9ZnVuY3Rpb24gcShhLGIpe2Zvcih2YXIgYyxkPWIubGVuZ3RoLTE7ZD4wO2QtLSl7dmFyIGU9YltkXS50YXJnZXQsZj1iW2RdLmN1cnJlbnRUYXJnZXQ7aWYoZSE9PWYmJihjPXYuQ0FQVFVSSU5HX1BIQVNFLCF0KGJbZF0sYSxjKSkpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gcihhLGIpe3ZhciBjPXYuQVRfVEFSR0VUO3JldHVybiB0KGJbMF0sYSxjKX1mdW5jdGlvbiBzKGEsYil7Zm9yKHZhciBjLGQ9YS5idWJibGVzLGU9MTtlPGIubGVuZ3RoO2UrKyl7dmFyIGY9YltlXS50YXJnZXQsZz1iW2VdLmN1cnJlbnRUYXJnZXQ7aWYoZj09PWcpYz12LkFUX1RBUkdFVDtlbHNle2lmKCFkfHxaLmdldChhKSljb250aW51ZTtjPXYuQlVCQkxJTkdfUEhBU0V9aWYoIXQoYltlXSxhLGMpKXJldHVybn19ZnVuY3Rpb24gdChhLGIsYyl7dmFyIGQ9YS50YXJnZXQsZT1hLmN1cnJlbnRUYXJnZXQsZj1SLmdldChlKTtpZighZilyZXR1cm4hMDtpZigicmVsYXRlZFRhcmdldCJpbiBiKXt2YXIgZz1PKGIpO2lmKGcucmVsYXRlZFRhcmdldCl7dmFyIGg9UChnLnJlbGF0ZWRUYXJnZXQpLGo9aShlLGgpO2lmKGo9PT1kKXJldHVybiEwO1cuc2V0KGIsail9fVguc2V0KGIsYyk7dmFyIGs9Yi50eXBlLGw9ITE7VS5zZXQoYixkKSxWLnNldChiLGUpO2Zvcih2YXIgbT0wO208Zi5sZW5ndGg7bSsrKXt2YXIgbj1mW21dO2lmKG4ucmVtb3ZlZClsPSEwO2Vsc2UgaWYoIShuLnR5cGUhPT1rfHwhbi5jYXB0dXJlJiZjPT09di5DQVBUVVJJTkdfUEhBU0V8fG4uY2FwdHVyZSYmYz09PXYuQlVCQkxJTkdfUEhBU0UpKXRyeXtpZigiZnVuY3Rpb24iPT10eXBlb2Ygbi5oYW5kbGVyP24uaGFuZGxlci5jYWxsKGUsYik6bi5oYW5kbGVyLmhhbmRsZUV2ZW50KGIpLFouZ2V0KGIpKXJldHVybiExfWNhdGNoKG8pe3dpbmRvdy5vbmVycm9yP3dpbmRvdy5vbmVycm9yKG8ubWVzc2FnZSk6Y29uc29sZS5lcnJvcihvLG8uc3RhY2spfX1pZihsKXt2YXIgcD1mLnNsaWNlKCk7Zi5sZW5ndGg9MDtmb3IodmFyIG09MDttPHAubGVuZ3RoO20rKylwW21dLnJlbW92ZWR8fGYucHVzaChwW21dKX1yZXR1cm4hWS5nZXQoYil9ZnVuY3Rpb24gdShhLGIsYyl7dGhpcy50eXBlPWEsdGhpcy5oYW5kbGVyPWIsdGhpcy5jYXB0dXJlPUJvb2xlYW4oYyl9ZnVuY3Rpb24gdihhLGIpe3JldHVybiBhIGluc3RhbmNlb2YgYWI/dm9pZCh0aGlzLmltcGw9YSk6UCh6KGFiLCJFdmVudCIsYSxiKSl9ZnVuY3Rpb24gdyhhKXtyZXR1cm4gYSYmYS5yZWxhdGVkVGFyZ2V0P09iamVjdC5jcmVhdGUoYSx7cmVsYXRlZFRhcmdldDp7dmFsdWU6TyhhLnJlbGF0ZWRUYXJnZXQpfX0pOmF9ZnVuY3Rpb24geChhLGIsYyl7dmFyIGQ9d2luZG93W2FdLGU9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYiBpbnN0YW5jZW9mIGQ/dm9pZCh0aGlzLmltcGw9Yik6UCh6KGQsYSxiLGMpKX07aWYoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksYyYmTShlLnByb3RvdHlwZSxjKSxkKXRyeXtOKGQsZSxuZXcgZCgidGVtcCIpKX1jYXRjaChmKXtOKGQsZSxkb2N1bWVudC5jcmVhdGVFdmVudChhKSl9cmV0dXJuIGV9ZnVuY3Rpb24geShhLGIpe3JldHVybiBmdW5jdGlvbigpe2FyZ3VtZW50c1tiXT1PKGFyZ3VtZW50c1tiXSk7dmFyIGM9Tyh0aGlzKTtjW2FdLmFwcGx5KGMsYXJndW1lbnRzKX19ZnVuY3Rpb24geihhLGIsYyxkKXtpZihqYilyZXR1cm4gbmV3IGEoYyx3KGQpKTt2YXIgZT1PKGRvY3VtZW50LmNyZWF0ZUV2ZW50KGIpKSxmPWliW2JdLGc9W2NdO3JldHVybiBPYmplY3Qua2V5cyhmKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPW51bGwhPWQmJmEgaW4gZD9kW2FdOmZbYV07InJlbGF0ZWRUYXJnZXQiPT09YSYmKGI9TyhiKSksZy5wdXNoKGIpfSksZVsiaW5pdCIrYl0uYXBwbHkoZSxnKSxlfWZ1bmN0aW9uIEEoKXt2LmNhbGwodGhpcyl9ZnVuY3Rpb24gQihhKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYT8hMDphJiZhLmhhbmRsZUV2ZW50fWZ1bmN0aW9uIEMoYSl7c3dpdGNoKGEpe2Nhc2UiRE9NQXR0ck1vZGlmaWVkIjpjYXNlIkRPTUF0dHJpYnV0ZU5hbWVDaGFuZ2VkIjpjYXNlIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCI6Y2FzZSJET01FbGVtZW50TmFtZUNoYW5nZWQiOmNhc2UiRE9NTm9kZUluc2VydGVkIjpjYXNlIkRPTU5vZGVJbnNlcnRlZEludG9Eb2N1bWVudCI6Y2FzZSJET01Ob2RlUmVtb3ZlZCI6Y2FzZSJET01Ob2RlUmVtb3ZlZEZyb21Eb2N1bWVudCI6Y2FzZSJET01TdWJ0cmVlTW9kaWZpZWQiOnJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIEQoYSl7dGhpcy5pbXBsPWF9ZnVuY3Rpb24gRShhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIFEuU2hhZG93Um9vdCYmKGE9YS5ob3N0KSxPKGEpfWZ1bmN0aW9uIEYoYSxiKXt2YXIgYz1SLmdldChhKTtpZihjKWZvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKWlmKCFjW2RdLnJlbW92ZWQmJmNbZF0udHlwZT09PWIpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gRyhhLGIpe2Zvcih2YXIgYz1PKGEpO2M7Yz1jLnBhcmVudE5vZGUpaWYoRihQKGMpLGIpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIEgoYSl7TChhLG1iKX1mdW5jdGlvbiBJKGIsYyxkLGUpe2EucmVuZGVyQWxsUGVuZGluZygpO2Zvcih2YXIgZj1QKG5iLmNhbGwoYy5pbXBsLGQsZSkpLGg9ZyhmLHRoaXMpLGk9MDtpPGgubGVuZ3RoO2krKyl7dmFyIGo9aFtpXTtpZihqLmN1cnJlbnRUYXJnZXQ9PT1iKXJldHVybiBqLnRhcmdldH1yZXR1cm4gbnVsbH1mdW5jdGlvbiBKKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiPSQuZ2V0KHRoaXMpO3JldHVybiBiJiZiW2FdJiZiW2FdLnZhbHVlfHxudWxsfX1mdW5jdGlvbiBLKGEpe3ZhciBiPWEuc2xpY2UoMik7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPSQuZ2V0KHRoaXMpO2R8fChkPU9iamVjdC5jcmVhdGUobnVsbCksJC5zZXQodGhpcyxkKSk7dmFyIGU9ZFthXTtpZihlJiZ0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixlLndyYXBwZWQsITEpLCJmdW5jdGlvbiI9PXR5cGVvZiBjKXt2YXIgZj1mdW5jdGlvbihiKXt2YXIgZD1jLmNhbGwodGhpcyxiKTtkPT09ITE/Yi5wcmV2ZW50RGVmYXVsdCgpOiJvbmJlZm9yZXVubG9hZCI9PT1hJiYic3RyaW5nIj09dHlwZW9mIGQmJihiLnJldHVyblZhbHVlPWQpfTt0aGlzLmFkZEV2ZW50TGlzdGVuZXIoYixmLCExKSxkW2FdPXt2YWx1ZTpjLHdyYXBwZWQ6Zn19fX12YXIgTD1hLmZvcndhcmRNZXRob2RzVG9XcmFwcGVyLE09YS5taXhpbixOPWEucmVnaXN0ZXJXcmFwcGVyLE89YS51bndyYXAsUD1hLndyYXAsUT1hLndyYXBwZXJzLFI9KG5ldyBXZWFrTWFwLG5ldyBXZWFrTWFwKSxTPW5ldyBXZWFrTWFwLFQ9bmV3IFdlYWtNYXAsVT1uZXcgV2Vha01hcCxWPW5ldyBXZWFrTWFwLFc9bmV3IFdlYWtNYXAsWD1uZXcgV2Vha01hcCxZPW5ldyBXZWFrTWFwLFo9bmV3IFdlYWtNYXAsJD1uZXcgV2Vha01hcCxfPW5ldyBXZWFrTWFwO3UucHJvdG90eXBlPXtlcXVhbHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGFuZGxlcj09PWEuaGFuZGxlciYmdGhpcy50eXBlPT09YS50eXBlJiZ0aGlzLmNhcHR1cmU9PT1hLmNhcHR1cmV9LGdldCByZW1vdmVkKCl7cmV0dXJuIG51bGw9PT10aGlzLmhhbmRsZXJ9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuaGFuZGxlcj1udWxsfX07dmFyIGFiPXdpbmRvdy5FdmVudDthYi5wcm90b3R5cGUucG9seW1lckJsYWNrTGlzdF89e3JldHVyblZhbHVlOiEwLGtleUxvY2F0aW9uOiEwfSx2LnByb3RvdHlwZT17Z2V0IHRhcmdldCgpe3JldHVybiBVLmdldCh0aGlzKX0sZ2V0IGN1cnJlbnRUYXJnZXQoKXtyZXR1cm4gVi5nZXQodGhpcyl9LGdldCBldmVudFBoYXNlKCl7cmV0dXJuIFguZ2V0KHRoaXMpfSxnZXQgcGF0aCgpe3ZhciBhPW5ldyBRLk5vZGVMaXN0LGI9Xy5nZXQodGhpcyk7aWYoYil7Zm9yKHZhciBjPTAsZD1iLmxlbmd0aC0xLGU9bChWLmdldCh0aGlzKSksZj0wO2Q+PWY7ZisrKXt2YXIgZz1iW2ZdLmN1cnJlbnRUYXJnZXQsaD1sKGcpO24oZSxoKSYmKGYhPT1kfHxnIGluc3RhbmNlb2YgUS5Ob2RlKSYmKGFbYysrXT1nKX1hLmxlbmd0aD1jfXJldHVybiBhfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXtZLnNldCh0aGlzLCEwKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7WS5zZXQodGhpcywhMCksWi5zZXQodGhpcywhMCl9fSxOKGFiLHYsZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkV2ZW50IikpO3ZhciBiYj14KCJVSUV2ZW50Iix2KSxjYj14KCJDdXN0b21FdmVudCIsdiksZGI9e2dldCByZWxhdGVkVGFyZ2V0KCl7cmV0dXJuIFcuZ2V0KHRoaXMpfHxQKE8odGhpcykucmVsYXRlZFRhcmdldCl9fSxlYj1NKHtpbml0TW91c2VFdmVudDp5KCJpbml0TW91c2VFdmVudCIsMTQpfSxkYiksZmI9TSh7aW5pdEZvY3VzRXZlbnQ6eSgiaW5pdEZvY3VzRXZlbnQiLDUpfSxkYiksZ2I9eCgiTW91c2VFdmVudCIsYmIsZWIpLGhiPXgoIkZvY3VzRXZlbnQiLGJiLGZiKSxpYj1PYmplY3QuY3JlYXRlKG51bGwpLGpiPWZ1bmN0aW9uKCl7dHJ5e25ldyB3aW5kb3cuRm9jdXNFdmVudCgiZm9jdXMiKX1jYXRjaChhKXtyZXR1cm4hMX1yZXR1cm4hMH0oKTtpZighamIpe3ZhciBrYj1mdW5jdGlvbihhLGIsYyl7aWYoYyl7dmFyIGQ9aWJbY107Yj1NKE0oe30sZCksYil9aWJbYV09Yn07CmtiKCJFdmVudCIse2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMX0pLGtiKCJDdXN0b21FdmVudCIse2RldGFpbDpudWxsfSwiRXZlbnQiKSxrYigiVUlFdmVudCIse3ZpZXc6bnVsbCxkZXRhaWw6MH0sIkV2ZW50Iiksa2IoIk1vdXNlRXZlbnQiLHtzY3JlZW5YOjAsc2NyZWVuWTowLGNsaWVudFg6MCxjbGllbnRZOjAsY3RybEtleTohMSxhbHRLZXk6ITEsc2hpZnRLZXk6ITEsbWV0YUtleTohMSxidXR0b246MCxyZWxhdGVkVGFyZ2V0Om51bGx9LCJVSUV2ZW50Iiksa2IoIkZvY3VzRXZlbnQiLHtyZWxhdGVkVGFyZ2V0Om51bGx9LCJVSUV2ZW50Iil9QS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh2LnByb3RvdHlwZSksTShBLnByb3RvdHlwZSx7Z2V0IHJldHVyblZhbHVlKCl7cmV0dXJuIHRoaXMuaW1wbC5yZXR1cm5WYWx1ZX0sc2V0IHJldHVyblZhbHVlKGEpe3RoaXMuaW1wbC5yZXR1cm5WYWx1ZT1hfX0pO3ZhciBsYj13aW5kb3cuRXZlbnRUYXJnZXQsbWI9WyJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpc3BhdGNoRXZlbnQiXTtbTm9kZSxXaW5kb3ddLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YS5wcm90b3R5cGU7bWIuZm9yRWFjaChmdW5jdGlvbihhKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYixhKyJfIix7dmFsdWU6YlthXX0pfSl9KSxELnByb3RvdHlwZT17YWRkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihhLGIsYyl7aWYoQihiKSYmIUMoYSkpe3ZhciBkPW5ldyB1KGEsYixjKSxlPVIuZ2V0KHRoaXMpO2lmKGUpe2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKWlmKGQuZXF1YWxzKGVbZl0pKXJldHVybn1lbHNlIGU9W10sUi5zZXQodGhpcyxlKTtlLnB1c2goZCk7dmFyIGc9RSh0aGlzKTtnLmFkZEV2ZW50TGlzdGVuZXJfKGEsbywhMCl9fSxyZW1vdmVFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGEsYixjKXtjPUJvb2xlYW4oYyk7dmFyIGQ9Ui5nZXQodGhpcyk7aWYoZCl7Zm9yKHZhciBlPTAsZj0hMSxnPTA7ZzxkLmxlbmd0aDtnKyspZFtnXS50eXBlPT09YSYmZFtnXS5jYXB0dXJlPT09YyYmKGUrKyxkW2ddLmhhbmRsZXI9PT1iJiYoZj0hMCxkW2ddLnJlbW92ZSgpKSk7aWYoZiYmMT09PWUpe3ZhciBoPUUodGhpcyk7aC5yZW1vdmVFdmVudExpc3RlbmVyXyhhLG8sITApfX19LGRpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24oYil7dmFyIGM9TyhiKSxkPWMudHlwZTtTLnNldChjLCExKSxhLnJlbmRlckFsbFBlbmRpbmcoKTt2YXIgZTtHKHRoaXMsZCl8fChlPWZ1bmN0aW9uKCl7fSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoZCxlLCEwKSk7dHJ5e3JldHVybiBPKHRoaXMpLmRpc3BhdGNoRXZlbnRfKGMpfWZpbmFsbHl7ZSYmdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKGQsZSwhMCl9fX0sbGImJk4obGIsRCk7dmFyIG5iPWRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQ7YS5hZGp1c3RSZWxhdGVkVGFyZ2V0PWksYS5lbGVtZW50RnJvbVBvaW50PUksYS5nZXRFdmVudEhhbmRsZXJHZXR0ZXI9SixhLmdldEV2ZW50SGFuZGxlclNldHRlcj1LLGEud3JhcEV2ZW50VGFyZ2V0TWV0aG9kcz1ILGEud3JhcHBlcnMuQmVmb3JlVW5sb2FkRXZlbnQ9QSxhLndyYXBwZXJzLkN1c3RvbUV2ZW50PWNiLGEud3JhcHBlcnMuRXZlbnQ9dixhLndyYXBwZXJzLkV2ZW50VGFyZ2V0PUQsYS53cmFwcGVycy5Gb2N1c0V2ZW50PWhiLGEud3JhcHBlcnMuTW91c2VFdmVudD1nYixhLndyYXBwZXJzLlVJRXZlbnQ9YmJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHtlbnVtZXJhYmxlOiExfSl9ZnVuY3Rpb24gYygpe3RoaXMubGVuZ3RoPTAsYih0aGlzLCJsZW5ndGgiKX1mdW5jdGlvbiBkKGEpe2lmKG51bGw9PWEpcmV0dXJuIGE7Zm9yKHZhciBiPW5ldyBjLGQ9MCxlPWEubGVuZ3RoO2U+ZDtkKyspYltkXT1mKGFbZF0pO3JldHVybiBiLmxlbmd0aD1lLGJ9ZnVuY3Rpb24gZShhLGIpe2EucHJvdG90eXBlW2JdPWZ1bmN0aW9uKCl7cmV0dXJuIGQodGhpcy5pbXBsW2JdLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpKX19dmFyIGY9YS53cmFwO2MucHJvdG90eXBlPXtpdGVtOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzW2FdfX0sYihjLnByb3RvdHlwZSwiaXRlbSIpLGEud3JhcHBlcnMuTm9kZUxpc3Q9YyxhLmFkZFdyYXBOb2RlTGlzdE1ldGhvZD1lLGEud3JhcE5vZGVMaXN0PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7eShhIGluc3RhbmNlb2Ygdil9ZnVuY3Rpb24gYyhhKXt2YXIgYj1uZXcgeDtyZXR1cm4gYlswXT1hLGIubGVuZ3RoPTEsYn1mdW5jdGlvbiBkKGEsYixjKXtBKGIsImNoaWxkTGlzdCIse3JlbW92ZWROb2RlczpjLHByZXZpb3VzU2libGluZzphLnByZXZpb3VzU2libGluZyxuZXh0U2libGluZzphLm5leHRTaWJsaW5nfSl9ZnVuY3Rpb24gZShhLGIpe0EoYSwiY2hpbGRMaXN0Iix7cmVtb3ZlZE5vZGVzOmJ9KX1mdW5jdGlvbiBmKGEsYixkLGUpe2lmKGEgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KXt2YXIgZj1oKGEpO0o9ITA7Zm9yKHZhciBnPWYubGVuZ3RoLTE7Zz49MDtnLS0pYS5yZW1vdmVDaGlsZChmW2ddKSxmW2ddLnBhcmVudE5vZGVfPWI7Sj0hMTtmb3IodmFyIGc9MDtnPGYubGVuZ3RoO2crKylmW2ddLnByZXZpb3VzU2libGluZ189ZltnLTFdfHxkLGZbZ10ubmV4dFNpYmxpbmdfPWZbZysxXXx8ZTtyZXR1cm4gZCYmKGQubmV4dFNpYmxpbmdfPWZbMF0pLGUmJihlLnByZXZpb3VzU2libGluZ189ZltmLmxlbmd0aC0xXSksZn12YXIgZj1jKGEpLGk9YS5wYXJlbnROb2RlO3JldHVybiBpJiZpLnJlbW92ZUNoaWxkKGEpLGEucGFyZW50Tm9kZV89YixhLnByZXZpb3VzU2libGluZ189ZCxhLm5leHRTaWJsaW5nXz1lLGQmJihkLm5leHRTaWJsaW5nXz1hKSxlJiYoZS5wcmV2aW91c1NpYmxpbmdfPWEpLGZ9ZnVuY3Rpb24gZyhhKXtpZihhIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudClyZXR1cm4gaChhKTt2YXIgYj1jKGEpLGU9YS5wYXJlbnROb2RlO3JldHVybiBlJiZkKGEsZSxiKSxifWZ1bmN0aW9uIGgoYSl7Zm9yKHZhciBiPW5ldyB4LGM9MCxkPWEuZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZyliW2MrK109ZDtyZXR1cm4gYi5sZW5ndGg9YyxlKGEsYiksYn1mdW5jdGlvbiBpKGEpe3JldHVybiBhfWZ1bmN0aW9uIGooYSl7YS5ub2RlSXNJbnNlcnRlZF8oKX1mdW5jdGlvbiBrKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWooYVtiXSl9ZnVuY3Rpb24gbCgpe31mdW5jdGlvbiBtKCl7fWZ1bmN0aW9uIG4oYSxiKXt2YXIgYz1hLm5vZGVUeXBlPT09di5ET0NVTUVOVF9OT0RFP2E6YS5vd25lckRvY3VtZW50O2MhPT1iLm93bmVyRG9jdW1lbnQmJmMuYWRvcHROb2RlKGIpfWZ1bmN0aW9uIG8oYixjKXtpZihjLmxlbmd0aCl7dmFyIGQ9Yi5vd25lckRvY3VtZW50O2lmKGQhPT1jWzBdLm93bmVyRG9jdW1lbnQpZm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspYS5hZG9wdE5vZGVOb1JlbW92ZShjW2VdLGQpfX1mdW5jdGlvbiBwKGEsYil7byhhLGIpO3ZhciBjPWIubGVuZ3RoO2lmKDE9PT1jKXJldHVybiBGKGJbMF0pO2Zvcih2YXIgZD1GKGEub3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpLGU9MDtjPmU7ZSsrKWQuYXBwZW5kQ2hpbGQoRihiW2VdKSk7cmV0dXJuIGR9ZnVuY3Rpb24gcShhKXtpZih2b2lkIDAhPT1hLmZpcnN0Q2hpbGRfKWZvcih2YXIgYj1hLmZpcnN0Q2hpbGRfO2I7KXt2YXIgYz1iO2I9Yi5uZXh0U2libGluZ18sYy5wYXJlbnROb2RlXz1jLnByZXZpb3VzU2libGluZ189Yy5uZXh0U2libGluZ189dm9pZCAwfWEuZmlyc3RDaGlsZF89YS5sYXN0Q2hpbGRfPXZvaWQgMH1mdW5jdGlvbiByKGEpe2lmKGEuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe2Zvcih2YXIgYj1hLmZpcnN0Q2hpbGQ7Yjspe3koYi5wYXJlbnROb2RlPT09YSk7dmFyIGM9Yi5uZXh0U2libGluZyxkPUYoYiksZT1kLnBhcmVudE5vZGU7ZSYmUS5jYWxsKGUsZCksYi5wcmV2aW91c1NpYmxpbmdfPWIubmV4dFNpYmxpbmdfPWIucGFyZW50Tm9kZV89bnVsbCxiPWN9YS5maXJzdENoaWxkXz1hLmxhc3RDaGlsZF89bnVsbH1lbHNlIGZvcih2YXIgYyxmPUYoYSksZz1mLmZpcnN0Q2hpbGQ7ZzspYz1nLm5leHRTaWJsaW5nLFEuY2FsbChmLGcpLGc9Y31mdW5jdGlvbiBzKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmYi5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKX1mdW5jdGlvbiB0KGEpe2Zvcih2YXIgYixjPTA7YzxhLmxlbmd0aDtjKyspYj1hW2NdLGIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKX1mdW5jdGlvbiB1KGEsYixjKXt2YXIgZDtpZihkPUcoYz9LLmNhbGwoYyxhLmltcGwsITEpOkwuY2FsbChhLmltcGwsITEpKSxiKXtmb3IodmFyIGU9YS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWQuYXBwZW5kQ2hpbGQodShlLCEwLGMpKTtpZihhIGluc3RhbmNlb2YgSS5IVE1MVGVtcGxhdGVFbGVtZW50KWZvcih2YXIgZj1kLmNvbnRlbnQsZT1hLmNvbnRlbnQuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZylmLmFwcGVuZENoaWxkKHUoZSwhMCxjKSl9cmV0dXJuIGR9ZnVuY3Rpb24gdihhKXt5KGEgaW5zdGFuY2VvZiBNKSx3LmNhbGwodGhpcyxhKSx0aGlzLnBhcmVudE5vZGVfPXZvaWQgMCx0aGlzLmZpcnN0Q2hpbGRfPXZvaWQgMCx0aGlzLmxhc3RDaGlsZF89dm9pZCAwLHRoaXMubmV4dFNpYmxpbmdfPXZvaWQgMCx0aGlzLnByZXZpb3VzU2libGluZ189dm9pZCAwfXZhciB3PWEud3JhcHBlcnMuRXZlbnRUYXJnZXQseD1hLndyYXBwZXJzLk5vZGVMaXN0LHk9YS5hc3NlcnQsej1hLmRlZmluZVdyYXBHZXR0ZXIsQT1hLmVucXVldWVNdXRhdGlvbixCPWEuaXNXcmFwcGVyLEM9YS5taXhpbixEPWEucmVnaXN0ZXJUcmFuc2llbnRPYnNlcnZlcnMsRT1hLnJlZ2lzdGVyV3JhcHBlcixGPWEudW53cmFwLEc9YS53cmFwLEg9YS53cmFwSWZOZWVkZWQsST1hLndyYXBwZXJzLEo9ITEsSz1kb2N1bWVudC5pbXBvcnROb2RlLEw9d2luZG93Lk5vZGUucHJvdG90eXBlLmNsb25lTm9kZSxNPXdpbmRvdy5Ob2RlLE49d2luZG93LkRvY3VtZW50RnJhZ21lbnQsTz0oTS5wcm90b3R5cGUuYXBwZW5kQ2hpbGQsTS5wcm90b3R5cGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24pLFA9TS5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlLFE9TS5wcm90b3R5cGUucmVtb3ZlQ2hpbGQsUj1NLnByb3RvdHlwZS5yZXBsYWNlQ2hpbGQsUz0vVHJpZGVudC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxUPVM/ZnVuY3Rpb24oYSxiKXt0cnl7US5jYWxsKGEsYil9Y2F0Y2goYyl7aWYoIShhIGluc3RhbmNlb2YgTikpdGhyb3cgY319OmZ1bmN0aW9uKGEsYil7US5jYWxsKGEsYil9O3YucHJvdG90eXBlPU9iamVjdC5jcmVhdGUody5wcm90b3R5cGUpLEModi5wcm90b3R5cGUse2FwcGVuZENoaWxkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmluc2VydEJlZm9yZShhLG51bGwpfSxpbnNlcnRCZWZvcmU6ZnVuY3Rpb24oYSxjKXtiKGEpO3ZhciBkO2M/QihjKT9kPUYoYyk6KGQ9YyxjPUcoZCkpOihjPW51bGwsZD1udWxsKSxjJiZ5KGMucGFyZW50Tm9kZT09PXRoaXMpO3ZhciBlLGg9Yz9jLnByZXZpb3VzU2libGluZzp0aGlzLmxhc3RDaGlsZCxpPSF0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpJiYhcyhhKTtpZihlPWk/ZyhhKTpmKGEsdGhpcyxoLGMpLGkpbih0aGlzLGEpLHEodGhpcyksUC5jYWxsKHRoaXMuaW1wbCxGKGEpLGQpO2Vsc2V7aHx8KHRoaXMuZmlyc3RDaGlsZF89ZVswXSksY3x8KHRoaXMubGFzdENoaWxkXz1lW2UubGVuZ3RoLTFdKTt2YXIgaj1kP2QucGFyZW50Tm9kZTp0aGlzLmltcGw7aj9QLmNhbGwoaixwKHRoaXMsZSksZCk6byh0aGlzLGUpfXJldHVybiBBKHRoaXMsImNoaWxkTGlzdCIse2FkZGVkTm9kZXM6ZSxuZXh0U2libGluZzpjLHByZXZpb3VzU2libGluZzpofSksayhlKSxhfSxyZW1vdmVDaGlsZDpmdW5jdGlvbihhKXtpZihiKGEpLGEucGFyZW50Tm9kZSE9PXRoaXMpe2Zvcih2YXIgZD0hMSxlPSh0aGlzLmNoaWxkTm9kZXMsdGhpcy5maXJzdENoaWxkKTtlO2U9ZS5uZXh0U2libGluZylpZihlPT09YSl7ZD0hMDticmVha31pZighZCl0aHJvdyBuZXcgRXJyb3IoIk5vdEZvdW5kRXJyb3IiKX12YXIgZj1GKGEpLGc9YS5uZXh0U2libGluZyxoPWEucHJldmlvdXNTaWJsaW5nO2lmKHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe3ZhciBpPXRoaXMuZmlyc3RDaGlsZCxqPXRoaXMubGFzdENoaWxkLGs9Zi5wYXJlbnROb2RlO2smJlQoayxmKSxpPT09YSYmKHRoaXMuZmlyc3RDaGlsZF89Zyksaj09PWEmJih0aGlzLmxhc3RDaGlsZF89aCksaCYmKGgubmV4dFNpYmxpbmdfPWcpLGcmJihnLnByZXZpb3VzU2libGluZ189aCksYS5wcmV2aW91c1NpYmxpbmdfPWEubmV4dFNpYmxpbmdfPWEucGFyZW50Tm9kZV89dm9pZCAwfWVsc2UgcSh0aGlzKSxUKHRoaXMuaW1wbCxmKTtyZXR1cm4gSnx8QSh0aGlzLCJjaGlsZExpc3QiLHtyZW1vdmVkTm9kZXM6YyhhKSxuZXh0U2libGluZzpnLHByZXZpb3VzU2libGluZzpofSksRCh0aGlzLGEpLGF9LHJlcGxhY2VDaGlsZDpmdW5jdGlvbihhLGQpe2IoYSk7dmFyIGU7aWYoQihkKT9lPUYoZCk6KGU9ZCxkPUcoZSkpLGQucGFyZW50Tm9kZSE9PXRoaXMpdGhyb3cgbmV3IEVycm9yKCJOb3RGb3VuZEVycm9yIik7dmFyIGgsaT1kLm5leHRTaWJsaW5nLGo9ZC5wcmV2aW91c1NpYmxpbmcsbT0hdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSYmIXMoYSk7cmV0dXJuIG0/aD1nKGEpOihpPT09YSYmKGk9YS5uZXh0U2libGluZyksaD1mKGEsdGhpcyxqLGkpKSxtPyhuKHRoaXMsYSkscSh0aGlzKSxSLmNhbGwodGhpcy5pbXBsLEYoYSksZSkpOih0aGlzLmZpcnN0Q2hpbGQ9PT1kJiYodGhpcy5maXJzdENoaWxkXz1oWzBdKSx0aGlzLmxhc3RDaGlsZD09PWQmJih0aGlzLmxhc3RDaGlsZF89aFtoLmxlbmd0aC0xXSksZC5wcmV2aW91c1NpYmxpbmdfPWQubmV4dFNpYmxpbmdfPWQucGFyZW50Tm9kZV89dm9pZCAwLGUucGFyZW50Tm9kZSYmUi5jYWxsKGUucGFyZW50Tm9kZSxwKHRoaXMsaCksZSkpLEEodGhpcywiY2hpbGRMaXN0Iix7YWRkZWROb2RlczpoLHJlbW92ZWROb2RlczpjKGQpLG5leHRTaWJsaW5nOmkscHJldmlvdXNTaWJsaW5nOmp9KSxsKGQpLGsoaCksZH0sbm9kZUlzSW5zZXJ0ZWRfOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZylhLm5vZGVJc0luc2VydGVkXygpfSxoYXNDaGlsZE5vZGVzOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmZpcnN0Q2hpbGR9LGdldCBwYXJlbnROb2RlKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMucGFyZW50Tm9kZV8/dGhpcy5wYXJlbnROb2RlXzpHKHRoaXMuaW1wbC5wYXJlbnROb2RlKX0sZ2V0IGZpcnN0Q2hpbGQoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5maXJzdENoaWxkXz90aGlzLmZpcnN0Q2hpbGRfOkcodGhpcy5pbXBsLmZpcnN0Q2hpbGQpfSxnZXQgbGFzdENoaWxkKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMubGFzdENoaWxkXz90aGlzLmxhc3RDaGlsZF86Ryh0aGlzLmltcGwubGFzdENoaWxkKX0sZ2V0IG5leHRTaWJsaW5nKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMubmV4dFNpYmxpbmdfP3RoaXMubmV4dFNpYmxpbmdfOkcodGhpcy5pbXBsLm5leHRTaWJsaW5nKX0sZ2V0IHByZXZpb3VzU2libGluZygpe3JldHVybiB2b2lkIDAhPT10aGlzLnByZXZpb3VzU2libGluZ18/dGhpcy5wcmV2aW91c1NpYmxpbmdfOkcodGhpcy5pbXBsLnByZXZpb3VzU2libGluZyl9LGdldCBwYXJlbnRFbGVtZW50KCl7Zm9yKHZhciBhPXRoaXMucGFyZW50Tm9kZTthJiZhLm5vZGVUeXBlIT09di5FTEVNRU5UX05PREU7KWE9YS5wYXJlbnROb2RlO3JldHVybiBhfSxnZXQgdGV4dENvbnRlbnQoKXtmb3IodmFyIGE9IiIsYj10aGlzLmZpcnN0Q2hpbGQ7YjtiPWIubmV4dFNpYmxpbmcpYi5ub2RlVHlwZSE9di5DT01NRU5UX05PREUmJihhKz1iLnRleHRDb250ZW50KTtyZXR1cm4gYX0sc2V0IHRleHRDb250ZW50KGEpe3ZhciBiPWkodGhpcy5jaGlsZE5vZGVzKTtpZih0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpKXtpZihyKHRoaXMpLCIiIT09YSl7dmFyIGM9dGhpcy5pbXBsLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSk7dGhpcy5hcHBlbmRDaGlsZChjKX19ZWxzZSBxKHRoaXMpLHRoaXMuaW1wbC50ZXh0Q29udGVudD1hO3ZhciBkPWkodGhpcy5jaGlsZE5vZGVzKTtBKHRoaXMsImNoaWxkTGlzdCIse2FkZGVkTm9kZXM6ZCxyZW1vdmVkTm9kZXM6Yn0pLG0oYiksayhkKX0sZ2V0IGNoaWxkTm9kZXMoKXtmb3IodmFyIGE9bmV3IHgsYj0wLGM9dGhpcy5maXJzdENoaWxkO2M7Yz1jLm5leHRTaWJsaW5nKWFbYisrXT1jO3JldHVybiBhLmxlbmd0aD1iLGF9LGNsb25lTm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gdSh0aGlzLGEpfSxjb250YWluczpmdW5jdGlvbihhKXtpZighYSlyZXR1cm4hMTtpZihhPUgoYSksYT09PXRoaXMpcmV0dXJuITA7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiP3RoaXMuY29udGFpbnMoYik6ITF9LGNvbXBhcmVEb2N1bWVudFBvc2l0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiBPLmNhbGwodGhpcy5pbXBsLEYoYSkpfSxub3JtYWxpemU6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYixjPWkodGhpcy5jaGlsZE5vZGVzKSxkPVtdLGU9IiIsZj0wO2Y8Yy5sZW5ndGg7ZisrKWI9Y1tmXSxiLm5vZGVUeXBlPT09di5URVhUX05PREU/YXx8Yi5kYXRhLmxlbmd0aD9hPyhlKz1iLmRhdGEsZC5wdXNoKGIpKTphPWI6dGhpcy5yZW1vdmVOb2RlKGIpOihhJiZkLmxlbmd0aCYmKGEuZGF0YSs9ZSxjbGVhblVwTm9kZXMoZCkpLGQ9W10sZT0iIixhPW51bGwsYi5jaGlsZE5vZGVzLmxlbmd0aCYmYi5ub3JtYWxpemUoKSk7YSYmZC5sZW5ndGgmJihhLmRhdGErPWUsdChkKSl9fSkseih2LCJvd25lckRvY3VtZW50IiksRShNLHYsZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKSxkZWxldGUgdi5wcm90b3R5cGUucXVlcnlTZWxlY3RvcixkZWxldGUgdi5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbCx2LnByb3RvdHlwZT1DKE9iamVjdC5jcmVhdGUody5wcm90b3R5cGUpLHYucHJvdG90eXBlKSxhLm5vZGVXYXNBZGRlZD1qLGEubm9kZVdhc1JlbW92ZWQ9bCxhLm5vZGVzV2VyZUFkZGVkPWssYS5ub2Rlc1dlcmVSZW1vdmVkPW0sYS5zbmFwc2hvdE5vZGVMaXN0PWksYS53cmFwcGVycy5Ob2RlPXYsYS5jbG9uZU5vZGU9dX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGMpe2Zvcih2YXIgZCxlPWEuZmlyc3RFbGVtZW50Q2hpbGQ7ZTspe2lmKGUubWF0Y2hlcyhjKSlyZXR1cm4gZTtpZihkPWIoZSxjKSlyZXR1cm4gZDtlPWUubmV4dEVsZW1lbnRTaWJsaW5nfXJldHVybiBudWxsfWZ1bmN0aW9uIGMoYSxiLGQpe2Zvcih2YXIgZT1hLmZpcnN0RWxlbWVudENoaWxkO2U7KWUubWF0Y2hlcyhiKSYmKGRbZC5sZW5ndGgrK109ZSksYyhlLGIsZCksZT1lLm5leHRFbGVtZW50U2libGluZztyZXR1cm4gZH12YXIgZD17cXVlcnlTZWxlY3RvcjpmdW5jdGlvbihhKXtyZXR1cm4gYih0aGlzLGEpfSxxdWVyeVNlbGVjdG9yQWxsOmZ1bmN0aW9uKGEpe3JldHVybiBjKHRoaXMsYSxuZXcgTm9kZUxpc3QpfX0sZT17Z2V0RWxlbWVudHNCeVRhZ05hbWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVlcnlTZWxlY3RvckFsbChhKX0sZ2V0RWxlbWVudHNCeUNsYXNzTmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCIuIithKX0sZ2V0RWxlbWVudHNCeVRhZ05hbWVOUzpmdW5jdGlvbihhLGIpe2lmKCIqIj09PWEpcmV0dXJuIHRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYik7Zm9yKHZhciBjPW5ldyBOb2RlTGlzdCxkPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYiksZT0wLGY9MDtlPGQubGVuZ3RoO2UrKylkW2VdLm5hbWVzcGFjZVVSST09PWEmJihjW2YrK109ZFtlXSk7cmV0dXJuIGMubGVuZ3RoPWYsY319O2EuR2V0RWxlbWVudHNCeUludGVyZmFjZT1lLGEuU2VsZWN0b3JzSW50ZXJmYWNlPWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Zm9yKDthJiZhLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWE9YS5uZXh0U2libGluZztyZXR1cm4gYX1mdW5jdGlvbiBjKGEpe2Zvcig7YSYmYS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFOylhPWEucHJldmlvdXNTaWJsaW5nO3JldHVybiBhfXZhciBkPWEud3JhcHBlcnMuTm9kZUxpc3QsZT17Z2V0IGZpcnN0RWxlbWVudENoaWxkKCl7cmV0dXJuIGIodGhpcy5maXJzdENoaWxkKX0sZ2V0IGxhc3RFbGVtZW50Q2hpbGQoKXtyZXR1cm4gYyh0aGlzLmxhc3RDaGlsZCl9LGdldCBjaGlsZEVsZW1lbnRDb3VudCgpe2Zvcih2YXIgYT0wLGI9dGhpcy5maXJzdEVsZW1lbnRDaGlsZDtiO2I9Yi5uZXh0RWxlbWVudFNpYmxpbmcpYSsrO3JldHVybiBhfSxnZXQgY2hpbGRyZW4oKXtmb3IodmFyIGE9bmV3IGQsYj0wLGM9dGhpcy5maXJzdEVsZW1lbnRDaGlsZDtjO2M9Yy5uZXh0RWxlbWVudFNpYmxpbmcpYVtiKytdPWM7cmV0dXJuIGEubGVuZ3RoPWIsYX19LGY9e2dldCBuZXh0RWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gYih0aGlzLm5leHRTaWJsaW5nKX0sZ2V0IHByZXZpb3VzRWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gYyh0aGlzLnByZXZpb3VzU2libGluZyl9fTthLkNoaWxkTm9kZUludGVyZmFjZT1mLGEuUGFyZW50Tm9kZUludGVyZmFjZT1lfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2QuY2FsbCh0aGlzLGEpfXZhciBjPWEuQ2hpbGROb2RlSW50ZXJmYWNlLGQ9YS53cmFwcGVycy5Ob2RlLGU9YS5lbnF1ZXVlTXV0YXRpb24sZj1hLm1peGluLGc9YS5yZWdpc3RlcldyYXBwZXIsaD13aW5kb3cuQ2hhcmFjdGVyRGF0YTtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxmKGIucHJvdG90eXBlLHtnZXQgdGV4dENvbnRlbnQoKXtyZXR1cm4gdGhpcy5kYXRhfSxzZXQgdGV4dENvbnRlbnQoYSl7dGhpcy5kYXRhPWF9LGdldCBkYXRhKCl7cmV0dXJuIHRoaXMuaW1wbC5kYXRhfSxzZXQgZGF0YShhKXt2YXIgYj10aGlzLmltcGwuZGF0YTtlKHRoaXMsImNoYXJhY3RlckRhdGEiLHtvbGRWYWx1ZTpifSksdGhpcy5pbXBsLmRhdGE9YX19KSxmKGIucHJvdG90eXBlLGMpLGcoaCxiLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKSksYS53cmFwcGVycy5DaGFyYWN0ZXJEYXRhPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGE+Pj4wfWZ1bmN0aW9uIGMoYSl7ZC5jYWxsKHRoaXMsYSl9dmFyIGQ9YS53cmFwcGVycy5DaGFyYWN0ZXJEYXRhLGU9KGEuZW5xdWV1ZU11dGF0aW9uLGEubWl4aW4pLGY9YS5yZWdpc3RlcldyYXBwZXIsZz13aW5kb3cuVGV4dDtjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxlKGMucHJvdG90eXBlLHtzcGxpdFRleHQ6ZnVuY3Rpb24oYSl7YT1iKGEpO3ZhciBjPXRoaXMuZGF0YTtpZihhPmMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW5kZXhTaXplRXJyb3IiKTt2YXIgZD1jLnNsaWNlKDAsYSksZT1jLnNsaWNlKGEpO3RoaXMuZGF0YT1kO3ZhciBmPXRoaXMub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKTtyZXR1cm4gdGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGYsdGhpcy5uZXh0U2libGluZyksZn19KSxmKGcsYyxkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIikpLGEud3JhcHBlcnMuVGV4dD1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGIsYyl7dmFyIGQ9Yi5wYXJlbnROb2RlO2lmKGQmJmQuc2hhZG93Um9vdCl7dmFyIGU9YS5nZXRSZW5kZXJlckZvckhvc3QoZCk7ZS5kZXBlbmRzT25BdHRyaWJ1dGUoYykmJmUuaW52YWxpZGF0ZSgpfX1mdW5jdGlvbiBjKGEsYixjKXtrKGEsImF0dHJpYnV0ZXMiLHtuYW1lOmIsbmFtZXNwYWNlOm51bGwsb2xkVmFsdWU6Y30pfWZ1bmN0aW9uIGQoYSl7aC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gZShhLGMsZCl7dmFyIGU9ZHx8YztPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxjLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsW2NdfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsW2NdPWEsYih0aGlzLGUpfSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pfXZhciBmPWEuQ2hpbGROb2RlSW50ZXJmYWNlLGc9YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLGg9YS53cmFwcGVycy5Ob2RlLGk9YS5QYXJlbnROb2RlSW50ZXJmYWNlLGo9YS5TZWxlY3RvcnNJbnRlcmZhY2Usaz0oYS5hZGRXcmFwTm9kZUxpc3RNZXRob2QsYS5lbnF1ZXVlTXV0YXRpb24pLGw9YS5taXhpbixtPShhLm9uZU9mLGEucmVnaXN0ZXJXcmFwcGVyKSxuPWEud3JhcHBlcnMsbz13aW5kb3cuRWxlbWVudCxwPVsibWF0Y2hlcyIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIl0uZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBvLnByb3RvdHlwZVthXX0pLHE9cFswXSxyPW8ucHJvdG90eXBlW3FdO2QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaC5wcm90b3R5cGUpLGwoZC5wcm90b3R5cGUse2NyZWF0ZVNoYWRvd1Jvb3Q6ZnVuY3Rpb24oKXt2YXIgYj1uZXcgbi5TaGFkb3dSb290KHRoaXMpO3RoaXMuaW1wbC5wb2x5bWVyU2hhZG93Um9vdF89Yjt2YXIgYz1hLmdldFJlbmRlcmVyRm9ySG9zdCh0aGlzKTtyZXR1cm4gYy5pbnZhbGlkYXRlKCksYn0sZ2V0IHNoYWRvd1Jvb3QoKXtyZXR1cm4gdGhpcy5pbXBsLnBvbHltZXJTaGFkb3dSb290X3x8bnVsbH0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKGEsZCl7dmFyIGU9dGhpcy5pbXBsLmdldEF0dHJpYnV0ZShhKTt0aGlzLmltcGwuc2V0QXR0cmlidXRlKGEsZCksYyh0aGlzLGEsZSksYih0aGlzLGEpfSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy5pbXBsLmdldEF0dHJpYnV0ZShhKTt0aGlzLmltcGwucmVtb3ZlQXR0cmlidXRlKGEpLGModGhpcyxhLGQpLGIodGhpcyxhKX0sbWF0Y2hlczpmdW5jdGlvbihhKXtyZXR1cm4gci5jYWxsKHRoaXMuaW1wbCxhKX19KSxwLmZvckVhY2goZnVuY3Rpb24oYSl7Im1hdGNoZXMiIT09YSYmKGQucHJvdG90eXBlW2FdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1hdGNoZXMoYSl9KX0pLG8ucHJvdG90eXBlLndlYmtpdENyZWF0ZVNoYWRvd1Jvb3QmJihkLnByb3RvdHlwZS53ZWJraXRDcmVhdGVTaGFkb3dSb290PWQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3QpLGUoZC5wcm90b3R5cGUsImlkIiksZShkLnByb3RvdHlwZSwiY2xhc3NOYW1lIiwiY2xhc3MiKSxsKGQucHJvdG90eXBlLGYpLGwoZC5wcm90b3R5cGUsZyksbChkLnByb3RvdHlwZSxpKSxsKGQucHJvdG90eXBlLGopLG0obyxkLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhudWxsLCJ4IikpLGEubWF0Y2hlc05hbWVzPXAsYS53cmFwcGVycy5FbGVtZW50PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7c3dpdGNoKGEpe2Nhc2UiJiI6cmV0dXJuIiZhbXA7IjtjYXNlIjwiOnJldHVybiImbHQ7IjtjYXNlIj4iOnJldHVybiImZ3Q7IjtjYXNlJyInOnJldHVybiImcXVvdDsiO2Nhc2UiwqAiOnJldHVybiImbmJzcDsifX1mdW5jdGlvbiBjKGEpe3JldHVybiBhLnJlcGxhY2UoeixiKX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLnJlcGxhY2UoQSxiKX1mdW5jdGlvbiBlKGEpe2Zvcih2YXIgYj17fSxjPTA7YzxhLmxlbmd0aDtjKyspYlthW2NdXT0hMDtyZXR1cm4gYn1mdW5jdGlvbiBmKGEsYil7c3dpdGNoKGEubm9kZVR5cGUpe2Nhc2UgTm9kZS5FTEVNRU5UX05PREU6Zm9yKHZhciBlLGY9YS50YWdOYW1lLnRvTG93ZXJDYXNlKCksaD0iPCIrZixpPWEuYXR0cmlidXRlcyxqPTA7ZT1pW2pdO2orKyloKz0iICIrZS5uYW1lKyc9IicrYyhlLnZhbHVlKSsnIic7cmV0dXJuIGgrPSI+IixCW2ZdP2g6aCtnKGEpKyI8LyIrZisiPiI7Y2FzZSBOb2RlLlRFWFRfTk9ERTp2YXIgaz1hLmRhdGE7cmV0dXJuIGImJkNbYi5sb2NhbE5hbWVdP2s6ZChrKTtjYXNlIE5vZGUuQ09NTUVOVF9OT0RFOnJldHVybiI8IS0tIithLmRhdGErIi0tPiI7ZGVmYXVsdDp0aHJvdyBjb25zb2xlLmVycm9yKGEpLG5ldyBFcnJvcigibm90IGltcGxlbWVudGVkIil9fWZ1bmN0aW9uIGcoYSl7YSBpbnN0YW5jZW9mIHkuSFRNTFRlbXBsYXRlRWxlbWVudCYmKGE9YS5jb250ZW50KTtmb3IodmFyIGI9IiIsYz1hLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpYis9ZihjLGEpO3JldHVybiBifWZ1bmN0aW9uIGgoYSxiLGMpe3ZhciBkPWN8fCJkaXYiO2EudGV4dENvbnRlbnQ9IiI7dmFyIGU9dyhhLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChkKSk7ZS5pbm5lckhUTUw9Yjtmb3IodmFyIGY7Zj1lLmZpcnN0Q2hpbGQ7KWEuYXBwZW5kQ2hpbGQoeChmKSl9ZnVuY3Rpb24gaShhKXtvLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBqKGEsYil7dmFyIGM9dyhhLmNsb25lTm9kZSghMSkpO2MuaW5uZXJIVE1MPWI7Zm9yKHZhciBkLGU9dyhkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO2Q9Yy5maXJzdENoaWxkOyllLmFwcGVuZENoaWxkKGQpO3JldHVybiB4KGUpfWZ1bmN0aW9uIGsoYil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEucmVuZGVyQWxsUGVuZGluZygpLHRoaXMuaW1wbFtiXX19ZnVuY3Rpb24gbChhKXtwKGksYSxrKGEpKX1mdW5jdGlvbiBtKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxiLHtnZXQ6ayhiKSxzZXQ6ZnVuY3Rpb24oYyl7YS5yZW5kZXJBbGxQZW5kaW5nKCksdGhpcy5pbXBsW2JdPWN9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSl9ZnVuY3Rpb24gbihiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsYix7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gYS5yZW5kZXJBbGxQZW5kaW5nKCksdGhpcy5pbXBsW2JdLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pfXZhciBvPWEud3JhcHBlcnMuRWxlbWVudCxwPWEuZGVmaW5lR2V0dGVyLHE9YS5lbnF1ZXVlTXV0YXRpb24scj1hLm1peGluLHM9YS5ub2Rlc1dlcmVBZGRlZCx0PWEubm9kZXNXZXJlUmVtb3ZlZCx1PWEucmVnaXN0ZXJXcmFwcGVyLHY9YS5zbmFwc2hvdE5vZGVMaXN0LHc9YS51bndyYXAseD1hLndyYXAseT1hLndyYXBwZXJzLHo9L1smXHUwMEEwIl0vZyxBPS9bJlx1MDBBMDw+XS9nLEI9ZShbImFyZWEiLCJiYXNlIiwiYnIiLCJjb2wiLCJjb21tYW5kIiwiZW1iZWQiLCJociIsImltZyIsImlucHV0Iiwia2V5Z2VuIiwibGluayIsIm1ldGEiLCJwYXJhbSIsInNvdXJjZSIsInRyYWNrIiwid2JyIl0pLEM9ZShbInN0eWxlIiwic2NyaXB0IiwieG1wIiwiaWZyYW1lIiwibm9lbWJlZCIsIm5vZnJhbWVzIiwicGxhaW50ZXh0Iiwibm9zY3JpcHQiXSksRD0vTVNJRS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxFPXdpbmRvdy5IVE1MRWxlbWVudCxGPXdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50O2kucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLHIoaS5wcm90b3R5cGUse2dldCBpbm5lckhUTUwoKXtyZXR1cm4gZyh0aGlzKX0sc2V0IGlubmVySFRNTChhKXtpZihEJiZDW3RoaXMubG9jYWxOYW1lXSlyZXR1cm4gdm9pZCh0aGlzLnRleHRDb250ZW50PWEpO3ZhciBiPXYodGhpcy5jaGlsZE5vZGVzKTt0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpP3RoaXMgaW5zdGFuY2VvZiB5LkhUTUxUZW1wbGF0ZUVsZW1lbnQ/aCh0aGlzLmNvbnRlbnQsYSk6aCh0aGlzLGEsdGhpcy50YWdOYW1lKTohRiYmdGhpcyBpbnN0YW5jZW9mIHkuSFRNTFRlbXBsYXRlRWxlbWVudD9oKHRoaXMuY29udGVudCxhKTp0aGlzLmltcGwuaW5uZXJIVE1MPWE7dmFyIGM9dih0aGlzLmNoaWxkTm9kZXMpO3EodGhpcywiY2hpbGRMaXN0Iix7YWRkZWROb2RlczpjLHJlbW92ZWROb2RlczpifSksdChiKSxzKGMpfSxnZXQgb3V0ZXJIVE1MKCl7cmV0dXJuIGYodGhpcyx0aGlzLnBhcmVudE5vZGUpfSxzZXQgb3V0ZXJIVE1MKGEpe3ZhciBiPXRoaXMucGFyZW50Tm9kZTtpZihiKXtiLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpO3ZhciBjPWooYixhKTtiLnJlcGxhY2VDaGlsZChjLHRoaXMpfX0saW5zZXJ0QWRqYWNlbnRIVE1MOmZ1bmN0aW9uKGEsYil7dmFyIGMsZDtzd2l0Y2goU3RyaW5nKGEpLnRvTG93ZXJDYXNlKCkpe2Nhc2UiYmVmb3JlYmVnaW4iOmM9dGhpcy5wYXJlbnROb2RlLGQ9dGhpczticmVhaztjYXNlImFmdGVyZW5kIjpjPXRoaXMucGFyZW50Tm9kZSxkPXRoaXMubmV4dFNpYmxpbmc7YnJlYWs7Y2FzZSJhZnRlcmJlZ2luIjpjPXRoaXMsZD10aGlzLmZpcnN0Q2hpbGQ7YnJlYWs7Y2FzZSJiZWZvcmVlbmQiOmM9dGhpcyxkPW51bGw7YnJlYWs7ZGVmYXVsdDpyZXR1cm59dmFyIGU9aihjLGIpO2MuaW5zZXJ0QmVmb3JlKGUsZCl9fSksWyJjbGllbnRIZWlnaHQiLCJjbGllbnRMZWZ0IiwiY2xpZW50VG9wIiwiY2xpZW50V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0VG9wIiwib2Zmc2V0V2lkdGgiLCJzY3JvbGxIZWlnaHQiLCJzY3JvbGxXaWR0aCJdLmZvckVhY2gobCksWyJzY3JvbGxMZWZ0Iiwic2Nyb2xsVG9wIl0uZm9yRWFjaChtKSxbImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImdldENsaWVudFJlY3RzIiwic2Nyb2xsSW50b1ZpZXciXS5mb3JFYWNoKG4pLHUoRSxpLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImIiKSksYS53cmFwcGVycy5IVE1MRWxlbWVudD1pLGEuZ2V0SW5uZXJIVE1MPWcsYS5zZXRJbm5lckhUTUw9aH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS53cmFwLGc9d2luZG93LkhUTUxDYW52YXNFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldENvbnRleHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmltcGwuZ2V0Q29udGV4dC5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKTtyZXR1cm4gYSYmZihhKX19KSxlKGcsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSksYS53cmFwcGVycy5IVE1MQ2FudmFzRWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj13aW5kb3cuSFRNTENvbnRlbnRFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldCBzZWxlY3QoKXtyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoInNlbGVjdCIpfSxzZXQgc2VsZWN0KGEpe3RoaXMuc2V0QXR0cmlidXRlKCJzZWxlY3QiLGEpfSxzZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oYSxiKXtjLnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUuY2FsbCh0aGlzLGEsYiksInNlbGVjdCI9PT1TdHJpbmcoYSkudG9Mb3dlckNhc2UoKSYmdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoITApfX0pLGYmJmUoZixiKSxhLndyYXBwZXJzLkhUTUxDb250ZW50RWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2QuY2FsbCh0aGlzLGEpfWZ1bmN0aW9uIGMoYSxiKXtpZighKHRoaXMgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4iKTt2YXIgZT1mKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpKTtkLmNhbGwodGhpcyxlKSxnKGUsdGhpcyksdm9pZCAwIT09YSYmKGUud2lkdGg9YSksdm9pZCAwIT09YiYmKGUuaGVpZ2h0PWIpfXZhciBkPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW53cmFwLGc9YS5yZXdyYXAsaD13aW5kb3cuSFRNTEltYWdlRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxlKGgsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKSksYy5wcm90b3R5cGU9Yi5wcm90b3R5cGUsYS53cmFwcGVycy5IVE1MSW1hZ2VFbGVtZW50PWIsYS53cmFwcGVycy5JbWFnZT1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj13aW5kb3cuSFRNTFNoYWRvd0VsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7fSksZiYmZShmLGIpLGEud3JhcHBlcnMuSFRNTFNoYWRvd0VsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtpZighYS5kZWZhdWx0VmlldylyZXR1cm4gYTt2YXIgYj1rLmdldChhKTtpZighYil7Zm9yKGI9YS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpO2IubGFzdENoaWxkOyliLnJlbW92ZUNoaWxkKGIubGFzdENoaWxkKTtrLnNldChhLGIpfXJldHVybiBifWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBjLGQ9YihhLm93bmVyRG9jdW1lbnQpLGU9aChkLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7Yz1hLmZpcnN0Q2hpbGQ7KWUuYXBwZW5kQ2hpbGQoYyk7cmV0dXJuIGV9ZnVuY3Rpb24gZChhKXtpZihlLmNhbGwodGhpcyxhKSwhbCl7dmFyIGI9YyhhKTtqLnNldCh0aGlzLGkoYikpfX12YXIgZT1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGY9YS5taXhpbixnPWEucmVnaXN0ZXJXcmFwcGVyLGg9YS51bndyYXAsaT1hLndyYXAsaj1uZXcgV2Vha01hcCxrPW5ldyBXZWFrTWFwLGw9d2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQ7ZC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSksZihkLnByb3RvdHlwZSx7Z2V0IGNvbnRlbnQoKXtyZXR1cm4gbD9pKHRoaXMuaW1wbC5jb250ZW50KTpqLmdldCh0aGlzKX19KSxsJiZnKGwsZCksYS53cmFwcGVycy5IVE1MVGVtcGxhdGVFbGVtZW50PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEucmVnaXN0ZXJXcmFwcGVyLGU9d2luZG93LkhUTUxNZWRpYUVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChlLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYXVkaW8iKSksYS53cmFwcGVycy5IVE1MTWVkaWFFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7ZC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gYyhhKXtpZighKHRoaXMgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4iKTt2YXIgYj1mKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImF1ZGlvIikpO2QuY2FsbCh0aGlzLGIpLGcoYix0aGlzKSxiLnNldEF0dHJpYnV0ZSgicHJlbG9hZCIsImF1dG8iKSx2b2lkIDAhPT1hJiZiLnNldEF0dHJpYnV0ZSgic3JjIixhKX12YXIgZD1hLndyYXBwZXJzLkhUTUxNZWRpYUVsZW1lbnQsZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW53cmFwLGc9YS5yZXdyYXAsaD13aW5kb3cuSFRNTEF1ZGlvRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxlKGgsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpKSxjLnByb3RvdHlwZT1iLnByb3RvdHlwZSxhLndyYXBwZXJzLkhUTUxBdWRpb0VsZW1lbnQ9YixhLndyYXBwZXJzLkF1ZGlvPWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGEucmVwbGFjZSgvXHMrL2csIiAiKS50cmltKCl9ZnVuY3Rpb24gYyhhKXtlLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBkKGEsYixjLGYpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkRPTSBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLiIpO3ZhciBnPWkoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpO2UuY2FsbCh0aGlzLGcpLGgoZyx0aGlzKSx2b2lkIDAhPT1hJiYoZy50ZXh0PWEpLHZvaWQgMCE9PWImJmcuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsYiksYz09PSEwJiZnLnNldEF0dHJpYnV0ZSgic2VsZWN0ZWQiLCIiKSxnLnNlbGVjdGVkPWY9PT0hMH12YXIgZT1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGY9YS5taXhpbixnPWEucmVnaXN0ZXJXcmFwcGVyLGg9YS5yZXdyYXAsaT1hLnVud3JhcCxqPWEud3JhcCxrPXdpbmRvdy5IVE1MT3B0aW9uRWxlbWVudDtjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlKSxmKGMucHJvdG90eXBlLHtnZXQgdGV4dCgpe3JldHVybiBiKHRoaXMudGV4dENvbnRlbnQpfSxzZXQgdGV4dChhKXt0aGlzLnRleHRDb250ZW50PWIoU3RyaW5nKGEpKX0sZ2V0IGZvcm0oKXtyZXR1cm4gaihpKHRoaXMpLmZvcm0pfX0pLGcoayxjLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKSxkLnByb3RvdHlwZT1jLnByb3RvdHlwZSxhLndyYXBwZXJzLkhUTUxPcHRpb25FbGVtZW50PWMsYS53cmFwcGVycy5PcHRpb249ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS51bndyYXAsZz1hLndyYXAsaD13aW5kb3cuSFRNTFNlbGVjdEVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7YWRkOmZ1bmN0aW9uKGEsYil7Im9iamVjdCI9PXR5cGVvZiBiJiYoYj1mKGIpKSxmKHRoaXMpLmFkZChmKGEpLGIpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7Im9iamVjdCI9PXR5cGVvZiBhJiYoYT1mKGEpKSxmKHRoaXMpLnJlbW92ZShhKX0sZ2V0IGZvcm0oKXtyZXR1cm4gZyhmKHRoaXMpLmZvcm0pfX0pLGUoaCxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpKSxhLndyYXBwZXJzLkhUTUxTZWxlY3RFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7c3dpdGNoKGEubG9jYWxOYW1lKXtjYXNlImNvbnRlbnQiOnJldHVybiBuZXcgYyhhKTtjYXNlInNoYWRvdyI6cmV0dXJuIG5ldyBlKGEpO2Nhc2UidGVtcGxhdGUiOnJldHVybiBuZXcgZihhKX1kLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxDb250ZW50RWxlbWVudCxkPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZT1hLndyYXBwZXJzLkhUTUxTaGFkb3dFbGVtZW50LGY9YS53cmFwcGVycy5IVE1MVGVtcGxhdGVFbGVtZW50LGc9KGEubWl4aW4sYS5yZWdpc3RlcldyYXBwZXIpLGg9d2luZG93LkhUTUxVbmtub3duRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxnKGgsYiksYS53cmFwcGVycy5IVE1MVW5rbm93bkVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7dmFyIGI9YS5yZWdpc3Rlck9iamVjdCxjPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoYywidGl0bGUiKSxlPWIoZCksZj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZS5wcm90b3R5cGUpLmNvbnN0cnVjdG9yO2Eud3JhcHBlcnMuU1ZHRWxlbWVudD1mfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe20uY2FsbCh0aGlzLGEpfXZhciBjPWEubWl4aW4sZD1hLnJlZ2lzdGVyV3JhcHBlcixlPWEudW53cmFwLGY9YS53cmFwLGc9d2luZG93LlNWR1VzZUVsZW1lbnQsaD0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLGk9Zihkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoaCwiZyIpKSxqPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhoLCJ1c2UiKSxrPWkuY29uc3RydWN0b3IsbD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yoay5wcm90b3R5cGUpLG09bC5jb25zdHJ1Y3RvcjtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGwpLCJpbnN0YW5jZVJvb3QiaW4gaiYmYyhiLnByb3RvdHlwZSx7Z2V0IGluc3RhbmNlUm9vdCgpe3JldHVybiBmKGUodGhpcykuaW5zdGFuY2VSb290KX0sZ2V0IGFuaW1hdGVkSW5zdGFuY2VSb290KCl7cmV0dXJuIGYoZSh0aGlzKS5hbmltYXRlZEluc3RhbmNlUm9vdCl9fSksZChnLGIsaiksYS53cmFwcGVycy5TVkdVc2VFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5FdmVudFRhcmdldCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEud3JhcCxnPXdpbmRvdy5TVkdFbGVtZW50SW5zdGFuY2U7ZyYmKGIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldCBjb3JyZXNwb25kaW5nRWxlbWVudCgpe3JldHVybiBmKHRoaXMuaW1wbC5jb3JyZXNwb25kaW5nRWxlbWVudCl9LGdldCBjb3JyZXNwb25kaW5nVXNlRWxlbWVudCgpe3JldHVybiBmKHRoaXMuaW1wbC5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCl9LGdldCBwYXJlbnROb2RlKCl7cmV0dXJuIGYodGhpcy5pbXBsLnBhcmVudE5vZGUpfSxnZXQgY2hpbGROb2Rlcygpe3Rocm93IG5ldyBFcnJvcigiTm90IGltcGxlbWVudGVkIil9LGdldCBmaXJzdENoaWxkKCl7cmV0dXJuIGYodGhpcy5pbXBsLmZpcnN0Q2hpbGQpfSxnZXQgbGFzdENoaWxkKCl7cmV0dXJuIGYodGhpcy5pbXBsLmxhc3RDaGlsZCl9LGdldCBwcmV2aW91c1NpYmxpbmcoKXtyZXR1cm4gZih0aGlzLmltcGwucHJldmlvdXNTaWJsaW5nKX0sZ2V0IG5leHRTaWJsaW5nKCl7cmV0dXJuIGYodGhpcy5pbXBsLm5leHRTaWJsaW5nKX19KSxlKGcsYiksYS53cmFwcGVycy5TVkdFbGVtZW50SW5zdGFuY2U9Yil9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dGhpcy5pbXBsPWF9dmFyIGM9YS5taXhpbixkPWEucmVnaXN0ZXJXcmFwcGVyLGU9YS51bndyYXAsZj1hLnVud3JhcElmTmVlZGVkLGc9YS53cmFwLGg9d2luZG93LkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtjKGIucHJvdG90eXBlLHtnZXQgY2FudmFzKCl7cmV0dXJuIGcodGhpcy5pbXBsLmNhbnZhcyl9LGRyYXdJbWFnZTpmdW5jdGlvbigpe2FyZ3VtZW50c1swXT1mKGFyZ3VtZW50c1swXSksdGhpcy5pbXBsLmRyYXdJbWFnZS5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX0sY3JlYXRlUGF0dGVybjpmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF09ZShhcmd1bWVudHNbMF0pLHRoaXMuaW1wbC5jcmVhdGVQYXR0ZXJuLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfX0pLGQoaCxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLmdldENvbnRleHQoIjJkIikpLGEud3JhcHBlcnMuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dGhpcy5pbXBsPWF9dmFyIGM9YS5taXhpbixkPWEucmVnaXN0ZXJXcmFwcGVyLGU9YS51bndyYXBJZk5lZWRlZCxmPWEud3JhcCxnPXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQ7aWYoZyl7YyhiLnByb3RvdHlwZSx7Z2V0IGNhbnZhcygpe3JldHVybiBmKHRoaXMuaW1wbC5jYW52YXMpfSx0ZXhJbWFnZTJEOmZ1bmN0aW9uKCl7YXJndW1lbnRzWzVdPWUoYXJndW1lbnRzWzVdKSx0aGlzLmltcGwudGV4SW1hZ2UyRC5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX0sdGV4U3ViSW1hZ2UyRDpmdW5jdGlvbigpe2FyZ3VtZW50c1s2XT1lKGFyZ3VtZW50c1s2XSksdGhpcy5pbXBsLnRleFN1YkltYWdlMkQuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyl9fSk7dmFyIGg9L1dlYktpdC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KT97ZHJhd2luZ0J1ZmZlckhlaWdodDpudWxsLGRyYXdpbmdCdWZmZXJXaWR0aDpudWxsfTp7fTtkKGcsYixoKSxhLndyYXBwZXJzLldlYkdMUmVuZGVyaW5nQ29udGV4dD1ifX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt0aGlzLmltcGw9YX12YXIgYz1hLnJlZ2lzdGVyV3JhcHBlcixkPWEudW53cmFwLGU9YS51bndyYXBJZk5lZWRlZCxmPWEud3JhcCxnPXdpbmRvdy5SYW5nZTtiLnByb3RvdHlwZT17Z2V0IHN0YXJ0Q29udGFpbmVyKCl7cmV0dXJuIGYodGhpcy5pbXBsLnN0YXJ0Q29udGFpbmVyKX0sZ2V0IGVuZENvbnRhaW5lcigpe3JldHVybiBmKHRoaXMuaW1wbC5lbmRDb250YWluZXIpfSxnZXQgY29tbW9uQW5jZXN0b3JDb250YWluZXIoKXtyZXR1cm4gZih0aGlzLmltcGwuY29tbW9uQW5jZXN0b3JDb250YWluZXIpfSxzZXRTdGFydDpmdW5jdGlvbihhLGIpe3RoaXMuaW1wbC5zZXRTdGFydChlKGEpLGIpfSxzZXRFbmQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmltcGwuc2V0RW5kKGUoYSksYil9LHNldFN0YXJ0QmVmb3JlOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZXRTdGFydEJlZm9yZShlKGEpKX0sc2V0U3RhcnRBZnRlcjpmdW5jdGlvbihhKXt0aGlzLmltcGwuc2V0U3RhcnRBZnRlcihlKGEpKX0sc2V0RW5kQmVmb3JlOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZXRFbmRCZWZvcmUoZShhKSl9LHNldEVuZEFmdGVyOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZXRFbmRBZnRlcihlKGEpKX0sc2VsZWN0Tm9kZTpmdW5jdGlvbihhKXt0aGlzLmltcGwuc2VsZWN0Tm9kZShlKGEpKX0sc2VsZWN0Tm9kZUNvbnRlbnRzOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZWxlY3ROb2RlQ29udGVudHMoZShhKSl9LGNvbXBhcmVCb3VuZGFyeVBvaW50czpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmltcGwuY29tcGFyZUJvdW5kYXJ5UG9pbnRzKGEsZChiKSl9LGV4dHJhY3RDb250ZW50czpmdW5jdGlvbigpe3JldHVybiBmKHRoaXMuaW1wbC5leHRyYWN0Q29udGVudHMoKSl9LGNsb25lQ29udGVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLmltcGwuY2xvbmVDb250ZW50cygpKX0saW5zZXJ0Tm9kZTpmdW5jdGlvbihhKXt0aGlzLmltcGwuaW5zZXJ0Tm9kZShlKGEpKX0sc3Vycm91bmRDb250ZW50czpmdW5jdGlvbihhKXt0aGlzLmltcGwuc3Vycm91bmRDb250ZW50cyhlKGEpKX0sY2xvbmVSYW5nZTpmdW5jdGlvbigpe3JldHVybiBmKHRoaXMuaW1wbC5jbG9uZVJhbmdlKCkpfSxpc1BvaW50SW5SYW5nZTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmltcGwuaXNQb2ludEluUmFuZ2UoZShhKSxiKX0sY29tcGFyZVBvaW50OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaW1wbC5jb21wYXJlUG9pbnQoZShhKSxiKX0saW50ZXJzZWN0c05vZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaW1wbC5pbnRlcnNlY3RzTm9kZShlKGEpKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsLnRvU3RyaW5nKCl9fSxnLnByb3RvdHlwZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQmJihiLnByb3RvdHlwZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGYodGhpcy5pbXBsLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChhKSl9KSxjKHdpbmRvdy5SYW5nZSxiLGRvY3VtZW50LmNyZWF0ZVJhbmdlKCkpLGEud3JhcHBlcnMuUmFuZ2U9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7dmFyIGI9YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLGM9YS5QYXJlbnROb2RlSW50ZXJmYWNlLGQ9YS5TZWxlY3RvcnNJbnRlcmZhY2UsZT1hLm1peGluLGY9YS5yZWdpc3Rlck9iamVjdCxnPWYoZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTtlKGcucHJvdG90eXBlLGMpLGUoZy5wcm90b3R5cGUsZCksZShnLnByb3RvdHlwZSxiKTt2YXIgaD1mKGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoIiIpKTthLndyYXBwZXJzLkNvbW1lbnQ9aCxhLndyYXBwZXJzLkRvY3VtZW50RnJhZ21lbnQ9Z30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt2YXIgYj1pKGEuaW1wbC5vd25lckRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7Yy5jYWxsKHRoaXMsYiksZyhiLHRoaXMpO3ZhciBkPWEuc2hhZG93Um9vdDtrLnNldCh0aGlzLGQpLGouc2V0KHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5Eb2N1bWVudEZyYWdtZW50LGQ9YS5lbGVtZW50RnJvbVBvaW50LGU9YS5nZXRJbm5lckhUTUwsZj1hLm1peGluLGc9YS5yZXdyYXAsaD1hLnNldElubmVySFRNTCxpPWEudW53cmFwLGo9bmV3IFdlYWtNYXAsaz1uZXcgV2Vha01hcCxsPS9bIFx0XG5cclxmXS87Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZihiLnByb3RvdHlwZSx7Z2V0IGlubmVySFRNTCgpe3JldHVybiBlKHRoaXMpfSxzZXQgaW5uZXJIVE1MKGEpe2godGhpcyxhKSx0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpfSxnZXQgb2xkZXJTaGFkb3dSb290KCl7cmV0dXJuIGsuZ2V0KHRoaXMpfHxudWxsfSxnZXQgaG9zdCgpe3JldHVybiBqLmdldCh0aGlzKXx8bnVsbH0saW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyOmZ1bmN0aW9uKCl7cmV0dXJuIGouZ2V0KHRoaXMpLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpfSxlbGVtZW50RnJvbVBvaW50OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGQodGhpcyx0aGlzLm93bmVyRG9jdW1lbnQsYSxiKX0sZ2V0RWxlbWVudEJ5SWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGwudGVzdChhKT9udWxsOnRoaXMucXVlcnlTZWxlY3RvcignW2lkPSInK2ErJyJdJyl9fSksYS53cmFwcGVycy5TaGFkb3dSb290PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7YS5wcmV2aW91c1NpYmxpbmdfPWEucHJldmlvdXNTaWJsaW5nLGEubmV4dFNpYmxpbmdfPWEubmV4dFNpYmxpbmcsYS5wYXJlbnROb2RlXz1hLnBhcmVudE5vZGV9ZnVuY3Rpb24gYyhhLGMsZSl7dmFyIGY9RihhKSxnPUYoYyksaD1lP0YoZSk6bnVsbDtpZihkKGMpLGIoYyksZSlhLmZpcnN0Q2hpbGQ9PT1lJiYoYS5maXJzdENoaWxkXz1lKSxlLnByZXZpb3VzU2libGluZ189ZS5wcmV2aW91c1NpYmxpbmc7ZWxzZXthLmxhc3RDaGlsZF89YS5sYXN0Q2hpbGQsYS5sYXN0Q2hpbGQ9PT1hLmZpcnN0Q2hpbGQmJihhLmZpcnN0Q2hpbGRfPWEuZmlyc3RDaGlsZCk7dmFyIGk9RyhmLmxhc3RDaGlsZCk7aSYmKGkubmV4dFNpYmxpbmdfPWkubmV4dFNpYmxpbmcpfWYuaW5zZXJ0QmVmb3JlKGcsaCl9ZnVuY3Rpb24gZChhKXt2YXIgYz1GKGEpLGQ9Yy5wYXJlbnROb2RlO2lmKGQpe3ZhciBlPUcoZCk7YihhKSxhLnByZXZpb3VzU2libGluZyYmKGEucHJldmlvdXNTaWJsaW5nLm5leHRTaWJsaW5nXz1hKSxhLm5leHRTaWJsaW5nJiYoYS5uZXh0U2libGluZy5wcmV2aW91c1NpYmxpbmdfPWEpLGUubGFzdENoaWxkPT09YSYmKGUubGFzdENoaWxkXz1hKSxlLmZpcnN0Q2hpbGQ9PT1hJiYoZS5maXJzdENoaWxkXz1hKSxkLnJlbW92ZUNoaWxkKGMpfX1mdW5jdGlvbiBlKGEsYil7ZyhiKS5wdXNoKGEpLHgoYSxiKTt2YXIgYz1JLmdldChhKTtjfHxJLnNldChhLGM9W10pLGMucHVzaChiKX1mdW5jdGlvbiBmKGEpe0guc2V0KGEsW10pfWZ1bmN0aW9uIGcoYSl7dmFyIGI9SC5nZXQoYSk7cmV0dXJuIGJ8fEguc2V0KGEsYj1bXSksYn1mdW5jdGlvbiBoKGEpe2Zvcih2YXIgYj1bXSxjPTAsZD1hLmZpcnN0Q2hpbGQ7ZDtkPWQubmV4dFNpYmxpbmcpYltjKytdPWQ7cmV0dXJuIGJ9ZnVuY3Rpb24gaShhLGIsYyl7Zm9yKHZhciBkPWEuZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZylpZihiKGQpKXtpZihjKGQpPT09ITEpcmV0dXJufWVsc2UgaShkLGIsYyl9ZnVuY3Rpb24gaihhLGIpe3ZhciBjPWIuZ2V0QXR0cmlidXRlKCJzZWxlY3QiKTtpZighYylyZXR1cm4hMDtpZihjPWMudHJpbSgpLCFjKXJldHVybiEwO2lmKCEoYSBpbnN0YW5jZW9mIHopKXJldHVybiExO2lmKCIqIj09PWN8fGM9PT1hLmxvY2FsTmFtZSlyZXR1cm4hMDtpZighTC50ZXN0KGMpKXJldHVybiExO2lmKCI6Ij09PWNbMF0mJiFNLnRlc3QoYykpcmV0dXJuITE7dHJ5e3JldHVybiBhLm1hdGNoZXMoYyl9Y2F0Y2goZCl7cmV0dXJuITF9fWZ1bmN0aW9uIGsoKXtmb3IodmFyIGE9MDthPE8ubGVuZ3RoO2ErKylPW2FdLnJlbmRlcigpO089W119ZnVuY3Rpb24gbCgpe3k9bnVsbCxrKCl9ZnVuY3Rpb24gbShhKXt2YXIgYj1LLmdldChhKTtyZXR1cm4gYnx8KGI9bmV3IHEoYSksSy5zZXQoYSxiKSksYn1mdW5jdGlvbiBuKGEpe2Zvcig7YTthPWEucGFyZW50Tm9kZSlpZihhIGluc3RhbmNlb2YgRClyZXR1cm4gYTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBvKGEpe3JldHVybiBtKGEuaG9zdCl9ZnVuY3Rpb24gcChhKXt0aGlzLnNraXA9ITEsdGhpcy5ub2RlPWEsdGhpcy5jaGlsZE5vZGVzPVtdfWZ1bmN0aW9uIHEoYSl7dGhpcy5ob3N0PWEsdGhpcy5kaXJ0eT0hMSx0aGlzLmludmFsaWRhdGVBdHRyaWJ1dGVzKCksdGhpcy5hc3NvY2lhdGVOb2RlKGEpfWZ1bmN0aW9uIHIoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBBfWZ1bmN0aW9uIHMoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBBfWZ1bmN0aW9uIHQoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBCfWZ1bmN0aW9uIHUoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBCfWZ1bmN0aW9uIHYoYSl7cmV0dXJuIGEuc2hhZG93Um9vdH1mdW5jdGlvbiB3KGEpe2Zvcih2YXIgYj1bXSxjPWEuc2hhZG93Um9vdDtjO2M9Yy5vbGRlclNoYWRvd1Jvb3QpYi5wdXNoKGMpO3JldHVybiBifWZ1bmN0aW9uIHgoYSxiKXtKLnNldChhLGIpfXZhciB5LHo9YS53cmFwcGVycy5FbGVtZW50LEE9YS53cmFwcGVycy5IVE1MQ29udGVudEVsZW1lbnQsQj1hLndyYXBwZXJzLkhUTUxTaGFkb3dFbGVtZW50LEM9YS53cmFwcGVycy5Ob2RlLEQ9YS53cmFwcGVycy5TaGFkb3dSb290LEU9KGEuYXNzZXJ0LGEubWl4aW4sYS5vbmVPZiksRj1hLnVud3JhcCxHPWEud3JhcCxIPW5ldyBXZWFrTWFwLEk9bmV3IFdlYWtNYXAsSj1uZXcgV2Vha01hcCxLPW5ldyBXZWFrTWFwLEw9L15bKi46I1thLXpBLVpffF0vLE09bmV3IFJlZ0V4cCgiXjooIitbImxpbmsiLCJ2aXNpdGVkIiwidGFyZ2V0IiwiZW5hYmxlZCIsImRpc2FibGVkIiwiY2hlY2tlZCIsImluZGV0ZXJtaW5hdGUiLCJudGgtY2hpbGQiLCJudGgtbGFzdC1jaGlsZCIsIm50aC1vZi10eXBlIiwibnRoLWxhc3Qtb2YtdHlwZSIsImZpcnN0LWNoaWxkIiwibGFzdC1jaGlsZCIsImZpcnN0LW9mLXR5cGUiLCJsYXN0LW9mLXR5cGUiLCJvbmx5LW9mLXR5cGUiXS5qb2luKCJ8IikrIikiKSxOPUUod2luZG93LFsicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2V0VGltZW91dCJdKSxPPVtdLFA9bmV3IEFycmF5U3BsaWNlO1AuZXF1YWxzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIEYoYS5ub2RlKT09PWJ9LHAucHJvdG90eXBlPXthcHBlbmQ6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IHAoYSk7cmV0dXJuIHRoaXMuY2hpbGROb2Rlcy5wdXNoKGIpLGJ9LHN5bmM6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuc2tpcCl7Zm9yKHZhciBiPXRoaXMubm9kZSxlPXRoaXMuY2hpbGROb2RlcyxmPWgoRihiKSksZz1hfHxuZXcgV2Vha01hcCxpPVAuY2FsY3VsYXRlU3BsaWNlcyhlLGYpLGo9MCxrPTAsbD0wLG09MDttPGkubGVuZ3RoO20rKyl7Zm9yKHZhciBuPWlbbV07bDxuLmluZGV4O2wrKylrKyssZVtqKytdLnN5bmMoZyk7Zm9yKHZhciBvPW4ucmVtb3ZlZC5sZW5ndGgscD0wO28+cDtwKyspe3ZhciBxPUcoZltrKytdKTtnLmdldChxKXx8ZChxKX1mb3IodmFyIHI9bi5hZGRlZENvdW50LHM9ZltrXSYmRyhmW2tdKSxwPTA7cj5wO3ArKyl7dmFyIHQ9ZVtqKytdLHU9dC5ub2RlO2MoYix1LHMpLGcuc2V0KHUsITApLHQuc3luYyhnKX1sKz1yfWZvcih2YXIgbT1sO208ZS5sZW5ndGg7bSsrKWVbbV0uc3luYyhnKX19fSxxLnByb3RvdHlwZT17cmVuZGVyOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZGlydHkpe3RoaXMuaW52YWxpZGF0ZUF0dHJpYnV0ZXMoKSx0aGlzLnRyZWVDb21wb3NpdGlvbigpO3ZhciBiPXRoaXMuaG9zdCxjPWIuc2hhZG93Um9vdDt0aGlzLmFzc29jaWF0ZU5vZGUoYik7Zm9yKHZhciBkPSFlLGU9YXx8bmV3IHAoYiksZj1jLmZpcnN0Q2hpbGQ7ZjtmPWYubmV4dFNpYmxpbmcpdGhpcy5yZW5kZXJOb2RlKGMsZSxmLCExKTtkJiZlLnN5bmMoKSx0aGlzLmRpcnR5PSExfX0saW52YWxpZGF0ZTpmdW5jdGlvbigpe2lmKCF0aGlzLmRpcnR5KXtpZih0aGlzLmRpcnR5PSEwLE8ucHVzaCh0aGlzKSx5KXJldHVybjt5PXdpbmRvd1tOXShsLDApfX0scmVuZGVyTm9kZTpmdW5jdGlvbihhLGIsYyxkKXtpZih2KGMpKXtiPWIuYXBwZW5kKGMpO3ZhciBlPW0oYyk7ZS5kaXJ0eT0hMCxlLnJlbmRlcihiKX1lbHNlIHIoYyk/dGhpcy5yZW5kZXJJbnNlcnRpb25Qb2ludChhLGIsYyxkKTp0KGMpP3RoaXMucmVuZGVyU2hhZG93SW5zZXJ0aW9uUG9pbnQoYSxiLGMpOnRoaXMucmVuZGVyQXNBbnlEb21UcmVlKGEsYixjLGQpfSxyZW5kZXJBc0FueURvbVRyZWU6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYj1iLmFwcGVuZChjKSx2KGMpKXt2YXIgZT1tKGMpO2Iuc2tpcD0hZS5kaXJ0eSxlLnJlbmRlcihiKX1lbHNlIGZvcih2YXIgZj1jLmZpcnN0Q2hpbGQ7ZjtmPWYubmV4dFNpYmxpbmcpdGhpcy5yZW5kZXJOb2RlKGEsYixmLGQpfSxyZW5kZXJJbnNlcnRpb25Qb2ludDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1nKGMpO2lmKGUubGVuZ3RoKXt0aGlzLmFzc29jaWF0ZU5vZGUoYyk7Zm9yKHZhciBmPTA7ZjxlLmxlbmd0aDtmKyspe3ZhciBoPWVbZl07cihoKSYmZD90aGlzLnJlbmRlckluc2VydGlvblBvaW50KGEsYixoLGQpOnRoaXMucmVuZGVyQXNBbnlEb21UcmVlKGEsYixoLGQpfX1lbHNlIHRoaXMucmVuZGVyRmFsbGJhY2tDb250ZW50KGEsYixjKTt0aGlzLmFzc29jaWF0ZU5vZGUoYy5wYXJlbnROb2RlKX0scmVuZGVyU2hhZG93SW5zZXJ0aW9uUG9pbnQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEub2xkZXJTaGFkb3dSb290O2lmKGQpe3goZCxjKSx0aGlzLmFzc29jaWF0ZU5vZGUoYy5wYXJlbnROb2RlKTtmb3IodmFyIGU9ZC5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKXRoaXMucmVuZGVyTm9kZShkLGIsZSwhMCl9ZWxzZSB0aGlzLnJlbmRlckZhbGxiYWNrQ29udGVudChhLGIsYykKfSxyZW5kZXJGYWxsYmFja0NvbnRlbnQ6ZnVuY3Rpb24oYSxiLGMpe3RoaXMuYXNzb2NpYXRlTm9kZShjKSx0aGlzLmFzc29jaWF0ZU5vZGUoYy5wYXJlbnROb2RlKTtmb3IodmFyIGQ9Yy5maXJzdENoaWxkO2Q7ZD1kLm5leHRTaWJsaW5nKXRoaXMucmVuZGVyQXNBbnlEb21UcmVlKGEsYixkLCExKX0saW52YWxpZGF0ZUF0dHJpYnV0ZXM6ZnVuY3Rpb24oKXt0aGlzLmF0dHJpYnV0ZXM9T2JqZWN0LmNyZWF0ZShudWxsKX0sdXBkYXRlRGVwZW5kZW50QXR0cmlidXRlczpmdW5jdGlvbihhKXtpZihhKXt2YXIgYj10aGlzLmF0dHJpYnV0ZXM7L1wuXHcrLy50ZXN0KGEpJiYoYlsiY2xhc3MiXT0hMCksLyNcdysvLnRlc3QoYSkmJihiLmlkPSEwKSxhLnJlcGxhY2UoL1xbXHMqKFteXHM9XHx+XF1dKykvZyxmdW5jdGlvbihhLGMpe2JbY109ITB9KX19LGRlcGVuZHNPbkF0dHJpYnV0ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW2FdfSxkaXN0cmlidXRlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztpKGEscyxmdW5jdGlvbihhKXtmKGEpLGMudXBkYXRlRGVwZW5kZW50QXR0cmlidXRlcyhhLmdldEF0dHJpYnV0ZSgic2VsZWN0IikpO2Zvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7ZCsrKXt2YXIgZz1iW2RdO3ZvaWQgMCE9PWcmJmooZyxhKSYmKGUoZyxhKSxiW2RdPXZvaWQgMCl9fSl9LHRyZWVDb21wb3NpdGlvbjpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmhvc3QsYj1hLnNoYWRvd1Jvb3QsYz1bXSxkPWEuZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZylpZihyKGQpKXt2YXIgZT1nKGQpO2UmJmUubGVuZ3RofHwoZT1oKGQpKSxjLnB1c2guYXBwbHkoYyxlKX1lbHNlIGMucHVzaChkKTtmb3IodmFyIGYsajtiOyl7aWYoZj12b2lkIDAsaShiLHUsZnVuY3Rpb24oYSl7cmV0dXJuIGY9YSwhMX0pLGo9Zix0aGlzLmRpc3RyaWJ1dGUoYixjKSxqKXt2YXIgaz1iLm9sZGVyU2hhZG93Um9vdDtpZihrKXtiPWsseChiLGopO2NvbnRpbnVlfWJyZWFrfWJyZWFrfX0sYXNzb2NpYXRlTm9kZTpmdW5jdGlvbihhKXthLmltcGwucG9seW1lclNoYWRvd1JlbmRlcmVyXz10aGlzfX0sQy5wcm90b3R5cGUuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pbXBsLnBvbHltZXJTaGFkb3dSZW5kZXJlcl87cmV0dXJuIGE/KGEuaW52YWxpZGF0ZSgpLCEwKTohMX0sQS5wcm90b3R5cGUuZ2V0RGlzdHJpYnV0ZWROb2Rlcz1mdW5jdGlvbigpe3JldHVybiBrKCksZyh0aGlzKX0sQi5wcm90b3R5cGUubm9kZUlzSW5zZXJ0ZWRfPUEucHJvdG90eXBlLm5vZGVJc0luc2VydGVkXz1mdW5jdGlvbigpe3RoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCk7dmFyIGEsYj1uKHRoaXMpO2ImJihhPW8oYikpLHRoaXMuaW1wbC5wb2x5bWVyU2hhZG93UmVuZGVyZXJfPWEsYSYmYS5pbnZhbGlkYXRlKCl9LGEuZXZlbnRQYXJlbnRzVGFibGU9SSxhLmdldFJlbmRlcmVyRm9ySG9zdD1tLGEuZ2V0U2hhZG93VHJlZXM9dyxhLmluc2VydGlvblBhcmVudFRhYmxlPUosYS5yZW5kZXJBbGxQZW5kaW5nPWssYS52aXN1YWw9e2luc2VydEJlZm9yZTpjLHJlbW92ZTpkfX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihiKXtpZih3aW5kb3dbYl0pe2QoIWEud3JhcHBlcnNbYl0pO3ZhciBpPWZ1bmN0aW9uKGEpe2MuY2FsbCh0aGlzLGEpfTtpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxlKGkucHJvdG90eXBlLHtnZXQgZm9ybSgpe3JldHVybiBoKGcodGhpcykuZm9ybSl9fSksZih3aW5kb3dbYl0saSxkb2N1bWVudC5jcmVhdGVFbGVtZW50KGIuc2xpY2UoNCwtNykpKSxhLndyYXBwZXJzW2JdPWl9fXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLmFzc2VydCxlPWEubWl4aW4sZj1hLnJlZ2lzdGVyV3JhcHBlcixnPWEudW53cmFwLGg9YS53cmFwLGk9WyJIVE1MQnV0dG9uRWxlbWVudCIsIkhUTUxGaWVsZFNldEVsZW1lbnQiLCJIVE1MSW5wdXRFbGVtZW50IiwiSFRNTEtleWdlbkVsZW1lbnQiLCJIVE1MTGFiZWxFbGVtZW50IiwiSFRNTExlZ2VuZEVsZW1lbnQiLCJIVE1MT2JqZWN0RWxlbWVudCIsIkhUTUxPdXRwdXRFbGVtZW50IiwiSFRNTFRleHRBcmVhRWxlbWVudCJdO2kuZm9yRWFjaChiKX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt0aGlzLmltcGw9YX17dmFyIGM9YS5yZWdpc3RlcldyYXBwZXIsZD1hLnVud3JhcCxlPWEudW53cmFwSWZOZWVkZWQsZj1hLndyYXA7d2luZG93LlNlbGVjdGlvbn1iLnByb3RvdHlwZT17Z2V0IGFuY2hvck5vZGUoKXtyZXR1cm4gZih0aGlzLmltcGwuYW5jaG9yTm9kZSl9LGdldCBmb2N1c05vZGUoKXtyZXR1cm4gZih0aGlzLmltcGwuZm9jdXNOb2RlKX0sYWRkUmFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLmFkZFJhbmdlKGQoYSkpfSxjb2xsYXBzZTpmdW5jdGlvbihhLGIpe3RoaXMuaW1wbC5jb2xsYXBzZShlKGEpLGIpfSxjb250YWluc05vZGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pbXBsLmNvbnRhaW5zTm9kZShlKGEpLGIpfSxleHRlbmQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmltcGwuZXh0ZW5kKGUoYSksYil9LGdldFJhbmdlQXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGYodGhpcy5pbXBsLmdldFJhbmdlQXQoYSkpfSxyZW1vdmVSYW5nZTpmdW5jdGlvbihhKXt0aGlzLmltcGwucmVtb3ZlUmFuZ2UoZChhKSl9LHNlbGVjdEFsbENoaWxkcmVuOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZWxlY3RBbGxDaGlsZHJlbihlKGEpKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXBsLnRvU3RyaW5nKCl9fSxjKHdpbmRvdy5TZWxlY3Rpb24sYix3aW5kb3cuZ2V0U2VsZWN0aW9uKCkpLGEud3JhcHBlcnMuU2VsZWN0aW9uPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7ay5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gYyhhKXt2YXIgYz1kb2N1bWVudFthXTtiLnByb3RvdHlwZVthXT1mdW5jdGlvbigpe3JldHVybiB6KGMuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBkKGEsYil7Qy5jYWxsKGIuaW1wbCx5KGEpKSxlKGEsYil9ZnVuY3Rpb24gZShhLGIpe2Euc2hhZG93Um9vdCYmYi5hZG9wdE5vZGUoYS5zaGFkb3dSb290KSxhIGluc3RhbmNlb2YgbyYmZihhLGIpO2Zvcih2YXIgYz1hLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpZShjLGIpfWZ1bmN0aW9uIGYoYSxiKXt2YXIgYz1hLm9sZGVyU2hhZG93Um9vdDtjJiZiLmFkb3B0Tm9kZShjKX1mdW5jdGlvbiBnKGEpe3RoaXMuaW1wbD1hfWZ1bmN0aW9uIGgoYSxiKXt2YXIgYz1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbltiXTthLnByb3RvdHlwZVtiXT1mdW5jdGlvbigpe3JldHVybiB6KGMuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBpKGEsYil7dmFyIGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb25bYl07YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXtyZXR1cm4gYy5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX19dmFyIGo9YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLGs9YS53cmFwcGVycy5Ob2RlLGw9YS5QYXJlbnROb2RlSW50ZXJmYWNlLG09YS53cmFwcGVycy5TZWxlY3Rpb24sbj1hLlNlbGVjdG9yc0ludGVyZmFjZSxvPWEud3JhcHBlcnMuU2hhZG93Um9vdCxwPWEuY2xvbmVOb2RlLHE9YS5kZWZpbmVXcmFwR2V0dGVyLHI9YS5lbGVtZW50RnJvbVBvaW50LHM9YS5mb3J3YXJkTWV0aG9kc1RvV3JhcHBlcix0PWEubWF0Y2hlc05hbWVzLHU9YS5taXhpbix2PWEucmVnaXN0ZXJXcmFwcGVyLHc9YS5yZW5kZXJBbGxQZW5kaW5nLHg9YS5yZXdyYXAseT1hLnVud3JhcCx6PWEud3JhcCxBPWEud3JhcEV2ZW50VGFyZ2V0TWV0aG9kcyxCPShhLndyYXBOb2RlTGlzdCxuZXcgV2Vha01hcCk7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShrLnByb3RvdHlwZSkscShiLCJkb2N1bWVudEVsZW1lbnQiKSxxKGIsImJvZHkiKSxxKGIsImhlYWQiKSxbImNyZWF0ZUNvbW1lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY3JlYXRlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnROUyIsImNyZWF0ZUV2ZW50IiwiY3JlYXRlRXZlbnROUyIsImNyZWF0ZVJhbmdlIiwiY3JlYXRlVGV4dE5vZGUiLCJnZXRFbGVtZW50QnlJZCJdLmZvckVhY2goYyk7dmFyIEM9ZG9jdW1lbnQuYWRvcHROb2RlLEQ9ZG9jdW1lbnQuZ2V0U2VsZWN0aW9uO2lmKHUoYi5wcm90b3R5cGUse2Fkb3B0Tm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSksZChhLHRoaXMpLGF9LGVsZW1lbnRGcm9tUG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcih0aGlzLHRoaXMsYSxiKX0saW1wb3J0Tm9kZTpmdW5jdGlvbihhLGIpe3JldHVybiBwKGEsYix0aGlzLmltcGwpfSxnZXRTZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdygpLG5ldyBtKEQuY2FsbCh5KHRoaXMpKSl9fSksZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50KXt2YXIgRT1kb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ7Yi5wcm90b3R5cGUucmVnaXN0ZXJFbGVtZW50PWZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZChhKXtyZXR1cm4gYT92b2lkKHRoaXMuaW1wbD1hKTpjLmV4dGVuZHM/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChjLmV4dGVuZHMsYik6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChiKX12YXIgZT1jLnByb3RvdHlwZTtpZihhLm5hdGl2ZVByb3RvdHlwZVRhYmxlLmdldChlKSl0aHJvdyBuZXcgRXJyb3IoIk5vdFN1cHBvcnRlZEVycm9yIik7Zm9yKHZhciBmLGc9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLGg9W107ZyYmIShmPWEubmF0aXZlUHJvdG90eXBlVGFibGUuZ2V0KGcpKTspaC5wdXNoKGcpLGc9T2JqZWN0LmdldFByb3RvdHlwZU9mKGcpO2lmKCFmKXRocm93IG5ldyBFcnJvcigiTm90U3VwcG9ydGVkRXJyb3IiKTtmb3IodmFyIGk9T2JqZWN0LmNyZWF0ZShmKSxqPWgubGVuZ3RoLTE7aj49MDtqLS0paT1PYmplY3QuY3JlYXRlKGkpO1siY3JlYXRlZENhbGxiYWNrIiwiYXR0YWNoZWRDYWxsYmFjayIsImRldGFjaGVkQ2FsbGJhY2siLCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2siXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWVbYV07YiYmKGlbYV09ZnVuY3Rpb24oKXt6KHRoaXMpaW5zdGFuY2VvZiBkfHx4KHRoaXMpLGIuYXBwbHkoeih0aGlzKSxhcmd1bWVudHMpfSl9KTt2YXIgaz17cHJvdG90eXBlOml9O2MuZXh0ZW5kcyYmKGsuZXh0ZW5kcz1jLmV4dGVuZHMpLGQucHJvdG90eXBlPWUsZC5wcm90b3R5cGUuY29uc3RydWN0b3I9ZCxhLmNvbnN0cnVjdG9yVGFibGUuc2V0KGksZCksYS5uYXRpdmVQcm90b3R5cGVUYWJsZS5zZXQoZSxpKTtFLmNhbGwoeSh0aGlzKSxiLGspO3JldHVybiBkfSxzKFt3aW5kb3cuSFRNTERvY3VtZW50fHx3aW5kb3cuRG9jdW1lbnRdLFsicmVnaXN0ZXJFbGVtZW50Il0pfXMoW3dpbmRvdy5IVE1MQm9keUVsZW1lbnQsd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50LHdpbmRvdy5IVE1MSGVhZEVsZW1lbnQsd2luZG93LkhUTUxIdG1sRWxlbWVudF0sWyJhcHBlbmRDaGlsZCIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwiY29udGFpbnMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZU5TIiwiaW5zZXJ0QmVmb3JlIiwicXVlcnlTZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZW1vdmVDaGlsZCIsInJlcGxhY2VDaGlsZCJdLmNvbmNhdCh0KSkscyhbd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50XSxbImFkb3B0Tm9kZSIsImltcG9ydE5vZGUiLCJjb250YWlucyIsImNyZWF0ZUNvbW1lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY3JlYXRlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnROUyIsImNyZWF0ZUV2ZW50IiwiY3JlYXRlRXZlbnROUyIsImNyZWF0ZVJhbmdlIiwiY3JlYXRlVGV4dE5vZGUiLCJlbGVtZW50RnJvbVBvaW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRTZWxlY3Rpb24iXSksdShiLnByb3RvdHlwZSxqKSx1KGIucHJvdG90eXBlLGwpLHUoYi5wcm90b3R5cGUsbiksdShiLnByb3RvdHlwZSx7Z2V0IGltcGxlbWVudGF0aW9uKCl7dmFyIGE9Qi5nZXQodGhpcyk7cmV0dXJuIGE/YTooYT1uZXcgZyh5KHRoaXMpLmltcGxlbWVudGF0aW9uKSxCLnNldCh0aGlzLGEpLGEpfX0pLHYod2luZG93LkRvY3VtZW50LGIsZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSksd2luZG93LkhUTUxEb2N1bWVudCYmdih3aW5kb3cuSFRNTERvY3VtZW50LGIpLEEoW3dpbmRvdy5IVE1MQm9keUVsZW1lbnQsd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50LHdpbmRvdy5IVE1MSGVhZEVsZW1lbnRdKSxoKGcsImNyZWF0ZURvY3VtZW50VHlwZSIpLGgoZywiY3JlYXRlRG9jdW1lbnQiKSxoKGcsImNyZWF0ZUhUTUxEb2N1bWVudCIpLGkoZywiaGFzRmVhdHVyZSIpLHYod2luZG93LkRPTUltcGxlbWVudGF0aW9uLGcpLHMoW3dpbmRvdy5ET01JbXBsZW1lbnRhdGlvbl0sWyJjcmVhdGVEb2N1bWVudFR5cGUiLCJjcmVhdGVEb2N1bWVudCIsImNyZWF0ZUhUTUxEb2N1bWVudCIsImhhc0ZlYXR1cmUiXSksYS5hZG9wdE5vZGVOb1JlbW92ZT1kLGEud3JhcHBlcnMuRE9NSW1wbGVtZW50YXRpb249ZyxhLndyYXBwZXJzLkRvY3VtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5FdmVudFRhcmdldCxkPWEud3JhcHBlcnMuU2VsZWN0aW9uLGU9YS5taXhpbixmPWEucmVnaXN0ZXJXcmFwcGVyLGc9YS5yZW5kZXJBbGxQZW5kaW5nLGg9YS51bndyYXAsaT1hLnVud3JhcElmTmVlZGVkLGo9YS53cmFwLGs9d2luZG93LldpbmRvdyxsPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlLG09d2luZG93LmdldFNlbGVjdGlvbjtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxrLnByb3RvdHlwZS5nZXRDb21wdXRlZFN0eWxlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGoodGhpc3x8d2luZG93KS5nZXRDb21wdXRlZFN0eWxlKGkoYSksYil9LGsucHJvdG90eXBlLmdldFNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiBqKHRoaXN8fHdpbmRvdykuZ2V0U2VsZWN0aW9uKCl9LGRlbGV0ZSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSxkZWxldGUgd2luZG93LmdldFNlbGVjdGlvbixbImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzcGF0Y2hFdmVudCJdLmZvckVhY2goZnVuY3Rpb24oYSl7ay5wcm90b3R5cGVbYV09ZnVuY3Rpb24oKXt2YXIgYj1qKHRoaXN8fHdpbmRvdyk7cmV0dXJuIGJbYV0uYXBwbHkoYixhcmd1bWVudHMpfSxkZWxldGUgd2luZG93W2FdfSksZShiLnByb3RvdHlwZSx7Z2V0Q29tcHV0ZWRTdHlsZTpmdW5jdGlvbihhLGIpe3JldHVybiBnKCksbC5jYWxsKGgodGhpcyksaShhKSxiKX0sZ2V0U2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGcoKSxuZXcgZChtLmNhbGwoaCh0aGlzKSkpfX0pLGYoayxiKSxhLndyYXBwZXJzLldpbmRvdz1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3ZhciBiPWNbYV0sZD13aW5kb3dbYl07aWYoZCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKSxmPWUuY29uc3RydWN0b3I7d2luZG93W2JdPWZ9fXZhciBjPShhLmlzV3JhcHBlckZvcix7YToiSFRNTEFuY2hvckVsZW1lbnQiLGFyZWE6IkhUTUxBcmVhRWxlbWVudCIsYXVkaW86IkhUTUxBdWRpb0VsZW1lbnQiLGJhc2U6IkhUTUxCYXNlRWxlbWVudCIsYm9keToiSFRNTEJvZHlFbGVtZW50IixicjoiSFRNTEJSRWxlbWVudCIsYnV0dG9uOiJIVE1MQnV0dG9uRWxlbWVudCIsY2FudmFzOiJIVE1MQ2FudmFzRWxlbWVudCIsY2FwdGlvbjoiSFRNTFRhYmxlQ2FwdGlvbkVsZW1lbnQiLGNvbDoiSFRNTFRhYmxlQ29sRWxlbWVudCIsY29udGVudDoiSFRNTENvbnRlbnRFbGVtZW50IixkYXRhOiJIVE1MRGF0YUVsZW1lbnQiLGRhdGFsaXN0OiJIVE1MRGF0YUxpc3RFbGVtZW50IixkZWw6IkhUTUxNb2RFbGVtZW50IixkaXI6IkhUTUxEaXJlY3RvcnlFbGVtZW50IixkaXY6IkhUTUxEaXZFbGVtZW50IixkbDoiSFRNTERMaXN0RWxlbWVudCIsZW1iZWQ6IkhUTUxFbWJlZEVsZW1lbnQiLGZpZWxkc2V0OiJIVE1MRmllbGRTZXRFbGVtZW50Iixmb250OiJIVE1MRm9udEVsZW1lbnQiLGZvcm06IkhUTUxGb3JtRWxlbWVudCIsZnJhbWU6IkhUTUxGcmFtZUVsZW1lbnQiLGZyYW1lc2V0OiJIVE1MRnJhbWVTZXRFbGVtZW50IixoMToiSFRNTEhlYWRpbmdFbGVtZW50IixoZWFkOiJIVE1MSGVhZEVsZW1lbnQiLGhyOiJIVE1MSFJFbGVtZW50IixodG1sOiJIVE1MSHRtbEVsZW1lbnQiLGlmcmFtZToiSFRNTElGcmFtZUVsZW1lbnQiLGltZzoiSFRNTEltYWdlRWxlbWVudCIsaW5wdXQ6IkhUTUxJbnB1dEVsZW1lbnQiLGtleWdlbjoiSFRNTEtleWdlbkVsZW1lbnQiLGxhYmVsOiJIVE1MTGFiZWxFbGVtZW50IixsZWdlbmQ6IkhUTUxMZWdlbmRFbGVtZW50IixsaToiSFRNTExJRWxlbWVudCIsbGluazoiSFRNTExpbmtFbGVtZW50IixtYXA6IkhUTUxNYXBFbGVtZW50IixtYXJxdWVlOiJIVE1MTWFycXVlZUVsZW1lbnQiLG1lbnU6IkhUTUxNZW51RWxlbWVudCIsbWVudWl0ZW06IkhUTUxNZW51SXRlbUVsZW1lbnQiLG1ldGE6IkhUTUxNZXRhRWxlbWVudCIsbWV0ZXI6IkhUTUxNZXRlckVsZW1lbnQiLG9iamVjdDoiSFRNTE9iamVjdEVsZW1lbnQiLG9sOiJIVE1MT0xpc3RFbGVtZW50IixvcHRncm91cDoiSFRNTE9wdEdyb3VwRWxlbWVudCIsb3B0aW9uOiJIVE1MT3B0aW9uRWxlbWVudCIsb3V0cHV0OiJIVE1MT3V0cHV0RWxlbWVudCIscDoiSFRNTFBhcmFncmFwaEVsZW1lbnQiLHBhcmFtOiJIVE1MUGFyYW1FbGVtZW50IixwcmU6IkhUTUxQcmVFbGVtZW50Iixwcm9ncmVzczoiSFRNTFByb2dyZXNzRWxlbWVudCIscToiSFRNTFF1b3RlRWxlbWVudCIsc2NyaXB0OiJIVE1MU2NyaXB0RWxlbWVudCIsc2VsZWN0OiJIVE1MU2VsZWN0RWxlbWVudCIsc2hhZG93OiJIVE1MU2hhZG93RWxlbWVudCIsc291cmNlOiJIVE1MU291cmNlRWxlbWVudCIsc3BhbjoiSFRNTFNwYW5FbGVtZW50IixzdHlsZToiSFRNTFN0eWxlRWxlbWVudCIsdGFibGU6IkhUTUxUYWJsZUVsZW1lbnQiLHRib2R5OiJIVE1MVGFibGVTZWN0aW9uRWxlbWVudCIsdGVtcGxhdGU6IkhUTUxUZW1wbGF0ZUVsZW1lbnQiLHRleHRhcmVhOiJIVE1MVGV4dEFyZWFFbGVtZW50Iix0aGVhZDoiSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQiLHRpbWU6IkhUTUxUaW1lRWxlbWVudCIsdGl0bGU6IkhUTUxUaXRsZUVsZW1lbnQiLHRyOiJIVE1MVGFibGVSb3dFbGVtZW50Iix0cmFjazoiSFRNTFRyYWNrRWxlbWVudCIsdWw6IkhUTUxVTGlzdEVsZW1lbnQiLHZpZGVvOiJIVE1MVmlkZW9FbGVtZW50In0pO09iamVjdC5rZXlzKGMpLmZvckVhY2goYiksT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYS53cmFwcGVycykuZm9yRWFjaChmdW5jdGlvbihiKXt3aW5kb3dbYl09YS53cmFwcGVyc1tiXX0pfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKCl7d2luZG93LndyYXA9U2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkLHdpbmRvdy51bndyYXA9U2hhZG93RE9NUG9seWZpbGwudW53cmFwSWZOZWVkZWQsT2JqZWN0LmRlZmluZVByb3BlcnR5KEVsZW1lbnQucHJvdG90eXBlLCJ3ZWJraXRTaGFkb3dSb290IixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEVsZW1lbnQucHJvdG90eXBlLCJzaGFkb3dSb290IikpO3ZhciBhPUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3Q7RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdD1mdW5jdGlvbigpe3ZhciBiPWEuY2FsbCh0aGlzKTtyZXR1cm4gQ3VzdG9tRWxlbWVudHMud2F0Y2hTaGFkb3codGhpcyksYn0sRWxlbWVudC5wcm90b3R5cGUud2Via2l0Q3JlYXRlU2hhZG93Um9vdD1FbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290fSgpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiKXt2YXIgYz0iIjtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2MrPWEudGV4dENvbnRlbnQrIlxuXG4ifSksYnx8KGM9Yy5yZXBsYWNlKGwsIiIpKSxjfWZ1bmN0aW9uIGMoYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyZXR1cm4gYi50ZXh0Q29udGVudD1hLGJ9ZnVuY3Rpb24gZChhKXt2YXIgYj1jKGEpO2RvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYik7dmFyIGQ9W107aWYoYi5zaGVldCl0cnl7ZD1iLnNoZWV0LmNzc1J1bGVzfWNhdGNoKGUpe31lbHNlIGNvbnNvbGUud2Fybigic2hlZXQgbm90IGZvdW5kIixiKTtyZXR1cm4gYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGR9ZnVuY3Rpb24gZSgpe3MuaW5pdGlhbGl6ZWQ9ITAsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzKTt2YXIgYT1zLmNvbnRlbnREb2N1bWVudCxiPWEuY3JlYXRlRWxlbWVudCgiYmFzZSIpO2IuaHJlZj1kb2N1bWVudC5iYXNlVVJJLGEuaGVhZC5hcHBlbmRDaGlsZChiKX1mdW5jdGlvbiBmKGEpe3MuaW5pdGlhbGl6ZWR8fGUoKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHMpLGEocy5jb250ZW50RG9jdW1lbnQpLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQocyl9ZnVuY3Rpb24gZyhhLGIpe2lmKGIpe3ZhciBlO2lmKGEubWF0Y2goIkBpbXBvcnQiKSYmdSl7dmFyIGc9YyhhKTtmKGZ1bmN0aW9uKGEpe2EuaGVhZC5hcHBlbmRDaGlsZChnLmltcGwpLGU9Zy5zaGVldC5jc3NSdWxlcyxiKGUpfSl9ZWxzZSBlPWQoYSksYihlKX19ZnVuY3Rpb24gaChhKXthJiZqKCkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSkpfWZ1bmN0aW9uIGkoYSxiKXt2YXIgZD1jKGEpO2Quc2V0QXR0cmlidXRlKGIsIiIpLGQuc2V0QXR0cmlidXRlKHcsIiIpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZCl9ZnVuY3Rpb24gaigpe3JldHVybiB0fHwodD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLHQuc2V0QXR0cmlidXRlKHcsIiIpLHRbd109ITApLHR9dmFyIGs9e3N0cmljdFN0eWxpbmc6ITEscmVnaXN0cnk6e30sc2hpbVN0eWxpbmc6ZnVuY3Rpb24oYSxiLGQsZSl7dmFyIGY9dGhpcy5pc1R5cGVFeHRlbnNpb24oZCksZz10aGlzLnJlZ2lzdGVyRGVmaW5pdGlvbihhLGIsZCk7dGhpcy5zdHJpY3RTdHlsaW5nJiZ0aGlzLmFwcGx5U2NvcGVUb0NvbnRlbnQoYSxiKTt2YXIgaj10aGlzLnN0eWxlc1RvU2hpbW1lZENzc1RleHQoZy5yb290U3R5bGVzLGcuc2NvcGVTdHlsZXMsYixmKTtnLnNoaW1tZWRTdHlsZT1jKGopLGEmJihhLnNoaW1tZWRTdHlsZT1nLnNoaW1tZWRTdHlsZSk7Zm9yKHZhciBrLGw9MCxtPWcucm9vdFN0eWxlcy5sZW5ndGg7bT5sJiYoaz1nLnJvb3RTdHlsZXNbbF0pO2wrKylrLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoayk7ZT9pKGosYik6aChqKX0sc3R5bGVzVG9TaGltbWVkQ3NzVGV4dDpmdW5jdGlvbihhLGIsYyxkKXtjPWN8fCIiLHRoaXMuaW5zZXJ0UG9seWZpbGxEaXJlY3RpdmVzKGEpLHRoaXMuaW5zZXJ0UG9seWZpbGxSdWxlcyhhKTt2YXIgZT10aGlzLnNoaW1TY29waW5nKGIsYyxkKTtyZXR1cm4gZSs9dGhpcy5leHRyYWN0UG9seWZpbGxVbnNjb3BlZFJ1bGVzKGEpLGUudHJpbSgpfSxyZWdpc3RlckRlZmluaXRpb246ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMucmVnaXN0cnlbYl09e3Jvb3Q6YSxuYW1lOmIsZXh0ZW5kc05hbWU6Y30sZT1hP2EucXVlcnlTZWxlY3RvckFsbCgic3R5bGUiKTpbXTtlPWU/QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSwwKTpbXSxkLnJvb3RTdHlsZXM9ZSxkLnNjb3BlU3R5bGVzPWQucm9vdFN0eWxlczt2YXIgZj10aGlzLnJlZ2lzdHJ5W2QuZXh0ZW5kc05hbWVdO3JldHVybiFmfHxhJiYhYS5xdWVyeVNlbGVjdG9yKCJzaGFkb3ciKXx8KGQuc2NvcGVTdHlsZXM9Zi5zY29wZVN0eWxlcy5jb25jYXQoZC5zY29wZVN0eWxlcykpLGR9LGlzVHlwZUV4dGVuc2lvbjpmdW5jdGlvbihhKXtyZXR1cm4gYSYmYS5pbmRleE9mKCItIik8MH0sYXBwbHlTY29wZVRvQ29udGVudDpmdW5jdGlvbihhLGIpe2EmJihBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEucXVlcnlTZWxlY3RvckFsbCgiKiIpLGZ1bmN0aW9uKGEpe2Euc2V0QXR0cmlidXRlKGIsIiIpfSksQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLnF1ZXJ5U2VsZWN0b3JBbGwoInRlbXBsYXRlIiksZnVuY3Rpb24oYSl7dGhpcy5hcHBseVNjb3BlVG9Db250ZW50KGEuY29udGVudCxiKX0sdGhpcykpfSxpbnNlcnRQb2x5ZmlsbERpcmVjdGl2ZXM6ZnVuY3Rpb24oYSl7YSYmQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2EudGV4dENvbnRlbnQ9dGhpcy5pbnNlcnRQb2x5ZmlsbERpcmVjdGl2ZXNJbkNzc1RleHQoYS50ZXh0Q29udGVudCl9LHRoaXMpfSxpbnNlcnRQb2x5ZmlsbERpcmVjdGl2ZXNJbkNzc1RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShtLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIuc2xpY2UoMCwtMikrInsifSl9LGluc2VydFBvbHlmaWxsUnVsZXM6ZnVuY3Rpb24oYSl7YSYmQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2EudGV4dENvbnRlbnQ9dGhpcy5pbnNlcnRQb2x5ZmlsbFJ1bGVzSW5Dc3NUZXh0KGEudGV4dENvbnRlbnQpfSx0aGlzKX0saW5zZXJ0UG9seWZpbGxSdWxlc0luQ3NzVGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKG4sZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5zbGljZSgwLC0xKX0pfSxleHRyYWN0UG9seWZpbGxVbnNjb3BlZFJ1bGVzOmZ1bmN0aW9uKGEpe3ZhciBiPSIiO3JldHVybiBhJiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsZnVuY3Rpb24oYSl7Yis9dGhpcy5leHRyYWN0UG9seWZpbGxVbnNjb3BlZFJ1bGVzRnJvbUNzc1RleHQoYS50ZXh0Q29udGVudCkrIlxuXG4ifSx0aGlzKSxifSxleHRyYWN0UG9seWZpbGxVbnNjb3BlZFJ1bGVzRnJvbUNzc1RleHQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9IiI7Yj1vLmV4ZWMoYSk7KWMrPWJbMV0uc2xpY2UoMCwtMSkrIlxuXG4iO3JldHVybiBjfSxzaGltU2NvcGluZzpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGE/dGhpcy5jb252ZXJ0U2NvcGVkU3R5bGVzKGEsYixjKTp2b2lkIDB9LGNvbnZlcnRTY29wZWRTdHlsZXM6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPWIoYSk7aWYoZT10aGlzLmluc2VydFBvbHlmaWxsSG9zdEluQ3NzVGV4dChlKSxlPXRoaXMuY29udmVydENvbG9uSG9zdChlKSxlPXRoaXMuY29udmVydENvbG9uQW5jZXN0b3IoZSksZT10aGlzLmNvbnZlcnRDb21iaW5hdG9ycyhlKSxjKXt2YXIgZSxmPXRoaXM7ZyhlLGZ1bmN0aW9uKGEpe2U9Zi5zY29wZVJ1bGVzKGEsYyxkKX0pfXJldHVybiBlfSxjb252ZXJ0Q29sb25Ib3N0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbnZlcnRDb2xvblJ1bGUoYSxjc3NDb2xvbkhvc3RSZSx0aGlzLmNvbG9uSG9zdFBhcnRSZXBsYWNlcil9LGNvbnZlcnRDb2xvbkFuY2VzdG9yOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbnZlcnRDb2xvblJ1bGUoYSxjc3NDb2xvbkFuY2VzdG9yUmUsdGhpcy5jb2xvbkFuY2VzdG9yUGFydFJlcGxhY2VyKX0sY29udmVydENvbG9uUnVsZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGEucmVwbGFjZShiLGZ1bmN0aW9uKGEsYixkLGUpe2lmKGI9cG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yLGQpe2Zvcih2YXIgZixnPWQuc3BsaXQoIiwiKSxoPVtdLGk9MCxqPWcubGVuZ3RoO2o+aSYmKGY9Z1tpXSk7aSsrKWY9Zi50cmltKCksaC5wdXNoKGMoYixmLGUpKTtyZXR1cm4gaC5qb2luKCIsIil9cmV0dXJuIGIrZX0pfSxjb2xvbkFuY2VzdG9yUGFydFJlcGxhY2VyOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYi5tYXRjaChwKT90aGlzLmNvbG9uSG9zdFBhcnRSZXBsYWNlcihhLGIsYyk6YStiK2MrIiwgIitiKyIgIithK2N9LGNvbG9uSG9zdFBhcnRSZXBsYWNlcjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGErYi5yZXBsYWNlKHAsIiIpK2N9LGNvbnZlcnRDb21iaW5hdG9yczpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cXlxeL2csIiAiKS5yZXBsYWNlKC9cXi9nLCIgIil9LHNjb3BlUnVsZXM6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSIiO3JldHVybiBhJiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsZnVuY3Rpb24oYSl7YS5zZWxlY3RvclRleHQmJmEuc3R5bGUmJmEuc3R5bGUuY3NzVGV4dD8oZCs9dGhpcy5zY29wZVNlbGVjdG9yKGEuc2VsZWN0b3JUZXh0LGIsYyx0aGlzLnN0cmljdFN0eWxpbmcpKyIge1xuCSIsZCs9dGhpcy5wcm9wZXJ0aWVzRnJvbVJ1bGUoYSkrIlxufVxuXG4iKTphLnR5cGU9PT1DU1NSdWxlLk1FRElBX1JVTEU/KGQrPSJAbWVkaWEgIithLm1lZGlhLm1lZGlhVGV4dCsiIHtcbiIsZCs9dGhpcy5zY29wZVJ1bGVzKGEuY3NzUnVsZXMsYixjKSxkKz0iXG59XG5cbiIpOmEuY3NzVGV4dCYmKGQrPWEuY3NzVGV4dCsiXG5cbiIpfSx0aGlzKSxkfSxzY29wZVNlbGVjdG9yOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPVtdLGY9YS5zcGxpdCgiLCIpO3JldHVybiBmLmZvckVhY2goZnVuY3Rpb24oYSl7YT1hLnRyaW0oKSx0aGlzLnNlbGVjdG9yTmVlZHNTY29waW5nKGEsYixjKSYmKGE9ZCYmIWEubWF0Y2gocG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yKT90aGlzLmFwcGx5U3RyaWN0U2VsZWN0b3JTY29wZShhLGIpOnRoaXMuYXBwbHlTaW1wbGVTZWxlY3RvclNjb3BlKGEsYixjKSksZS5wdXNoKGEpfSx0aGlzKSxlLmpvaW4oIiwgIil9LHNlbGVjdG9yTmVlZHNTY29waW5nOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLm1ha2VTY29wZU1hdGNoZXIoYixjKTtyZXR1cm4hYS5tYXRjaChkKX0sbWFrZVNjb3BlTWF0Y2hlcjpmdW5jdGlvbihhLGIpe3ZhciBjPWI/IlxcW2lzPVsnXCJdPyIrYSsiWydcIl0/XFxdIjphO3JldHVybiBuZXcgUmVnRXhwKCJeKCIrYysiKSIrc2VsZWN0b3JSZVN1ZmZpeCwibSIpfSxhcHBseVNpbXBsZVNlbGVjdG9yU2NvcGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWM/Iltpcz0iK2IrIl0iOmI7cmV0dXJuIGEubWF0Y2gocG9seWZpbGxIb3N0UmUpPyhhPWEucmVwbGFjZShwb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3IsZCksYS5yZXBsYWNlKHBvbHlmaWxsSG9zdFJlLGQrIiAiKSk6ZCsiICIrYX0sYXBwbHlTdHJpY3RTZWxlY3RvclNjb3BlOmZ1bmN0aW9uKGEsYil7dmFyIGM9WyIgIiwiPiIsIisiLCJ+Il0sZD1hLGU9IlsiK2IrIl0iO3JldHVybiBjLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9ZC5zcGxpdChhKTtkPWIubWFwKGZ1bmN0aW9uKGEpe3ZhciBiPWEudHJpbSgpLnJlcGxhY2UocG9seWZpbGxIb3N0UmUsIiIpO3JldHVybiBiJiZjLmluZGV4T2YoYik8MCYmYi5pbmRleE9mKGUpPDAmJihhPWIucmVwbGFjZSgvKFteOl0qKSg6KikoLiopLywiJDEiK2UrIiQyJDMiKSksYX0pLmpvaW4oYSl9KSxkfSxpbnNlcnRQb2x5ZmlsbEhvc3RJbkNzc1RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShob3N0UmUscCkucmVwbGFjZShjb2xvbkhvc3RSZSxwKS5yZXBsYWNlKGNvbG9uQW5jZXN0b3JSZSxxKX0scHJvcGVydGllc0Zyb21SdWxlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnN0eWxlLmNvbnRlbnQmJiFhLnN0eWxlLmNvbnRlbnQubWF0Y2goL1snIl0rLyk/YS5zdHlsZS5jc3NUZXh0LnJlcGxhY2UoL2NvbnRlbnQ6W147XSo7L2csImNvbnRlbnQ6ICciK2Euc3R5bGUuY29udGVudCsiJzsiKTphLnN0eWxlLmNzc1RleHR9fSxsPS9cL1wqW14qXSpcKisoW14vKl1bXipdKlwqKykqXC8vZ2ltLG09L1wvXCpccypAcG9seWZpbGwgKFteKl0qXCorKFteLypdW14qXSpcKispKlwvKShbXntdKj8pey9naW0sbj0vXC9cKlxzQHBvbHlmaWxsLXJ1bGUoW14qXSpcKisoW14vKl1bXipdKlwqKykqKVwvL2dpbSxvPS9cL1wqXHNAcG9seWZpbGwtdW5zY29wZWQtcnVsZShbXipdKlwqKyhbXi8qXVteKl0qXCorKSopXC8vZ2ltLHA9Ii1zaGFkb3djc3Nob3N0IixxPSItc2hhZG93Y3NzYW5jZXN0b3IiLHI9IikoPzpcXCgoKD86XFwoW14pKF0qXFwpfFteKShdKikrPylcXCkpPyhbXix7XSopIjtjc3NDb2xvbkhvc3RSZT1uZXcgUmVnRXhwKCIoIitwK3IsImdpbSIpLGNzc0NvbG9uQW5jZXN0b3JSZT1uZXcgUmVnRXhwKCIoIitxK3IsImdpbSIpLHNlbGVjdG9yUmVTdWZmaXg9IihbPlxcc34rWy4sezpdW1xcc1xcU10qKT8kIixob3N0UmU9L0Bob3N0L2dpbSxjb2xvbkhvc3RSZT0vXDpob3N0L2dpbSxjb2xvbkFuY2VzdG9yUmU9L1w6YW5jZXN0b3IvZ2ltLHBvbHlmaWxsSG9zdE5vQ29tYmluYXRvcj1wKyItbm8tY29tYmluYXRvciIscG9seWZpbGxIb3N0UmU9bmV3IFJlZ0V4cChwLCJnaW0iKSxwb2x5ZmlsbEFuY2VzdG9yUmU9bmV3IFJlZ0V4cChxLCJnaW0iKTt2YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTtzLnN0eWxlLmRpc3BsYXk9Im5vbmUiO3ZhciB0LHU9bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgiQ2hyb21lIiksdj0ic2hpbS1zaGFkb3dkb20iLHc9InNoaW0tc2hhZG93ZG9tLWNzcyI7aWYod2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKXtoKCJzdHlsZSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfVxuIik7dmFyIHg9d3JhcChkb2N1bWVudCkseT14LnF1ZXJ5U2VsZWN0b3IoImhlYWQiKTt5Lmluc2VydEJlZm9yZShqKCkseS5jaGlsZE5vZGVzWzBdKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixmdW5jdGlvbigpe3ZhciBiPWEudXJsUmVzb2x2ZXI7aWYod2luZG93LkhUTUxJbXBvcnRzJiYhSFRNTEltcG9ydHMudXNlTmF0aXZlKXt2YXIgYz0ibGlua1tyZWw9c3R5bGVzaGVldF1bIit2KyJdIixkPSJzdHlsZVsiK3YrIl0iO0hUTUxJbXBvcnRzLmltcG9ydGVyLmRvY3VtZW50UHJlbG9hZFNlbGVjdG9ycys9IiwiK2MsSFRNTEltcG9ydHMuaW1wb3J0ZXIuaW1wb3J0c1ByZWxvYWRTZWxlY3RvcnMrPSIsIitjLEhUTUxJbXBvcnRzLnBhcnNlci5kb2N1bWVudFNlbGVjdG9ycz1bSFRNTEltcG9ydHMucGFyc2VyLmRvY3VtZW50U2VsZWN0b3JzLGMsZF0uam9pbigiLCIpO3ZhciBlPUhUTUxJbXBvcnRzLnBhcnNlci5wYXJzZUdlbmVyaWM7SFRNTEltcG9ydHMucGFyc2VyLnBhcnNlR2VuZXJpYz1mdW5jdGlvbihhKXtpZighYVt3XSl7dmFyIGM9YS5fX2ltcG9ydEVsZW1lbnR8fGE7aWYoIWMuaGFzQXR0cmlidXRlKHYpKXJldHVybiB2b2lkIGUuY2FsbCh0aGlzLGEpO2EuX19yZXNvdXJjZT8oYz1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxjLnRleHRDb250ZW50PWIucmVzb2x2ZUNzc1RleHQoYS5fX3Jlc291cmNlLGEuaHJlZikpOmIucmVzb2x2ZVN0eWxlKGMpO3ZhciBkPVtjXTtjLnRleHRDb250ZW50PWsuc3R5bGVzVG9TaGltbWVkQ3NzVGV4dChkLGQpLGMucmVtb3ZlQXR0cmlidXRlKHYsIiIpLGMuc2V0QXR0cmlidXRlKHcsIiIpLGNbd109ITAsYy5wYXJlbnROb2RlIT09eSYmKGEucGFyZW50Tm9kZT09PXk/eS5yZXBsYWNlQ2hpbGQoYyxhKTp5LmFwcGVuZENoaWxkKGMpKSxjLl9faW1wb3J0UGFyc2VkPSEwLHRoaXMubWFya1BhcnNpbmdDb21wbGV0ZShhKX19O3ZhciBmPUhUTUxJbXBvcnRzLnBhcnNlci5oYXNSZXNvdXJjZTtIVE1MSW1wb3J0cy5wYXJzZXIuaGFzUmVzb3VyY2U9ZnVuY3Rpb24oYSl7cmV0dXJuImxpbmsiPT09YS5sb2NhbE5hbWUmJiJzdHlsZXNoZWV0Ij09PWEucmVsJiZhLmhhc0F0dHJpYnV0ZSh2KT9hLl9fcmVzb3VyY2U6Zi5jYWxsKHRoaXMsYSl9fX0pfWEuU2hhZG93Q1NTPWt9KHdpbmRvdy5QbGF0Zm9ybSkpOiFmdW5jdGlvbigpe3dpbmRvdy50ZW1wbGF0ZUNvbnRlbnQ9d2luZG93LnRlbXBsYXRlQ29udGVudHx8ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGVudH0sd2luZG93LndyYXA9d2luZG93LnVud3JhcD1mdW5jdGlvbihhKXtyZXR1cm4gYX07dmFyIGE9RWxlbWVudC5wcm90b3R5cGUud2Via2l0Q3JlYXRlU2hhZG93Um9vdDtFbGVtZW50LnByb3RvdHlwZS53ZWJraXRDcmVhdGVTaGFkb3dSb290PWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy53ZWJraXRTaGFkb3dSb290LGM9YS5jYWxsKHRoaXMpO3JldHVybiBjLm9sZGVyU2hhZG93Um9vdD1iLGMuaG9zdD10aGlzLEN1c3RvbUVsZW1lbnRzLndhdGNoU2hhZG93KHRoaXMpLGN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEVsZW1lbnQucHJvdG90eXBlLHtzaGFkb3dSb290OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53ZWJraXRTaGFkb3dSb290fX0sY3JlYXRlU2hhZG93Um9vdDp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53ZWJraXRDcmVhdGVTaGFkb3dSb290KCl9fX0pLHdpbmRvdy50ZW1wbGF0ZUNvbnRlbnQ9ZnVuY3Rpb24oYSl7aWYod2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQmJkhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwJiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcChhKSwhYS5jb250ZW50JiYhYS5fY29udGVudCl7Zm9yKHZhciBiPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTthLmZpcnN0Q2hpbGQ7KWIuYXBwZW5kQ2hpbGQoYS5maXJzdENoaWxkKTthLl9jb250ZW50PWJ9cmV0dXJuIGEuY29udGVudHx8YS5fY29udGVudH19KCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIHZvaWQgMCE9PW1bYV19ZnVuY3Rpb24gYygpe2guY2FsbCh0aGlzKSx0aGlzLl9pc0ludmFsaWQ9ITB9ZnVuY3Rpb24gZChhKXtyZXR1cm4iIj09YSYmYy5jYWxsKHRoaXMpLGEudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBlKGEpe3ZhciBiPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4gYj4zMiYmMTI3PmImJi0xPT1bMzQsMzUsNjAsNjIsNjMsOTZdLmluZGV4T2YoYik/YTplbmNvZGVVUklDb21wb25lbnQoYSl9ZnVuY3Rpb24gZihhKXt2YXIgYj1hLmNoYXJDb2RlQXQoMCk7cmV0dXJuIGI+MzImJjEyNz5iJiYtMT09WzM0LDM1LDYwLDYyLDk2XS5pbmRleE9mKGIpP2E6ZW5jb2RlVVJJQ29tcG9uZW50KGEpfWZ1bmN0aW9uIGcoYSxnLGgpe2Z1bmN0aW9uIGkoYSl7dC5wdXNoKGEpfXZhciBqPWd8fCJzY2hlbWUgc3RhcnQiLGs9MCxsPSIiLHI9ITEscz0hMSx0PVtdO2E6Zm9yKDsoYVtrLTFdIT1vfHwwPT1rKSYmIXRoaXMuX2lzSW52YWxpZDspe3ZhciB1PWFba107c3dpdGNoKGope2Nhc2Uic2NoZW1lIHN0YXJ0IjppZighdXx8IXAudGVzdCh1KSl7aWYoZyl7aSgiSW52YWxpZCBzY2hlbWUuIik7YnJlYWsgYX1sPSIiLGo9Im5vIHNjaGVtZSI7Y29udGludWV9bCs9dS50b0xvd2VyQ2FzZSgpLGo9InNjaGVtZSI7YnJlYWs7Y2FzZSJzY2hlbWUiOmlmKHUmJnEudGVzdCh1KSlsKz11LnRvTG93ZXJDYXNlKCk7ZWxzZXtpZigiOiIhPXUpe2lmKGcpe2lmKG89PXUpYnJlYWsgYTtpKCJDb2RlIHBvaW50IG5vdCBhbGxvd2VkIGluIHNjaGVtZTogIit1KTticmVhayBhfWw9IiIsaz0wLGo9Im5vIHNjaGVtZSI7Y29udGludWV9aWYodGhpcy5fc2NoZW1lPWwsbD0iIixnKWJyZWFrIGE7Yih0aGlzLl9zY2hlbWUpJiYodGhpcy5faXNSZWxhdGl2ZT0hMCksaj0iZmlsZSI9PXRoaXMuX3NjaGVtZT8icmVsYXRpdmUiOnRoaXMuX2lzUmVsYXRpdmUmJmgmJmguX3NjaGVtZT09dGhpcy5fc2NoZW1lPyJyZWxhdGl2ZSBvciBhdXRob3JpdHkiOnRoaXMuX2lzUmVsYXRpdmU/ImF1dGhvcml0eSBmaXJzdCBzbGFzaCI6InNjaGVtZSBkYXRhIn1icmVhaztjYXNlInNjaGVtZSBkYXRhIjoiPyI9PXU/KHF1ZXJ5PSI/IixqPSJxdWVyeSIpOiIjIj09dT8odGhpcy5fZnJhZ21lbnQ9IiMiLGo9ImZyYWdtZW50Iik6byE9dSYmIgkiIT11JiYiXG4iIT11JiYiXHIiIT11JiYodGhpcy5fc2NoZW1lRGF0YSs9ZSh1KSk7YnJlYWs7Y2FzZSJubyBzY2hlbWUiOmlmKGgmJmIoaC5fc2NoZW1lKSl7aj0icmVsYXRpdmUiO2NvbnRpbnVlfWkoIk1pc3Npbmcgc2NoZW1lLiIpLGMuY2FsbCh0aGlzKTticmVhaztjYXNlInJlbGF0aXZlIG9yIGF1dGhvcml0eSI6aWYoIi8iIT11fHwiLyIhPWFbaysxXSl7aSgiRXhwZWN0ZWQgLywgZ290OiAiK3UpLGo9InJlbGF0aXZlIjtjb250aW51ZX1qPSJhdXRob3JpdHkgaWdub3JlIHNsYXNoZXMiO2JyZWFrO2Nhc2UicmVsYXRpdmUiOmlmKHRoaXMuX2lzUmVsYXRpdmU9ITAsImZpbGUiIT10aGlzLl9zY2hlbWUmJih0aGlzLl9zY2hlbWU9aC5fc2NoZW1lKSxvPT11KXt0aGlzLl9ob3N0PWguX2hvc3QsdGhpcy5fcG9ydD1oLl9wb3J0LHRoaXMuX3BhdGg9aC5fcGF0aC5zbGljZSgpLHRoaXMuX3F1ZXJ5PWguX3F1ZXJ5O2JyZWFrIGF9aWYoIi8iPT11fHwiXFwiPT11KSJcXCI9PXUmJmkoIlxcIGlzIGFuIGludmFsaWQgY29kZSBwb2ludC4iKSxqPSJyZWxhdGl2ZSBzbGFzaCI7ZWxzZSBpZigiPyI9PXUpdGhpcy5faG9zdD1oLl9ob3N0LHRoaXMuX3BvcnQ9aC5fcG9ydCx0aGlzLl9wYXRoPWguX3BhdGguc2xpY2UoKSx0aGlzLl9xdWVyeT0iPyIsaj0icXVlcnkiO2Vsc2V7aWYoIiMiIT11KXt2YXIgdj1hW2srMV0sdz1hW2srMl07KCJmaWxlIiE9dGhpcy5fc2NoZW1lfHwhcC50ZXN0KHUpfHwiOiIhPXYmJiJ8IiE9dnx8byE9dyYmIi8iIT13JiYiXFwiIT13JiYiPyIhPXcmJiIjIiE9dykmJih0aGlzLl9ob3N0PWguX2hvc3QsdGhpcy5fcG9ydD1oLl9wb3J0LHRoaXMuX3BhdGg9aC5fcGF0aC5zbGljZSgpLHRoaXMuX3BhdGgucG9wKCkpLGo9InJlbGF0aXZlIHBhdGgiO2NvbnRpbnVlfXRoaXMuX2hvc3Q9aC5faG9zdCx0aGlzLl9wb3J0PWguX3BvcnQsdGhpcy5fcGF0aD1oLl9wYXRoLnNsaWNlKCksdGhpcy5fcXVlcnk9aC5fcXVlcnksdGhpcy5fZnJhZ21lbnQ9IiMiLGo9ImZyYWdtZW50In1icmVhaztjYXNlInJlbGF0aXZlIHNsYXNoIjppZigiLyIhPXUmJiJcXCIhPXUpeyJmaWxlIiE9dGhpcy5fc2NoZW1lJiYodGhpcy5faG9zdD1oLl9ob3N0LHRoaXMuX3BvcnQ9aC5fcG9ydCksaj0icmVsYXRpdmUgcGF0aCI7Y29udGludWV9IlxcIj09dSYmaSgiXFwgaXMgYW4gaW52YWxpZCBjb2RlIHBvaW50LiIpLGo9ImZpbGUiPT10aGlzLl9zY2hlbWU/ImZpbGUgaG9zdCI6ImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyI7YnJlYWs7Y2FzZSJhdXRob3JpdHkgZmlyc3Qgc2xhc2giOmlmKCIvIiE9dSl7aSgiRXhwZWN0ZWQgJy8nLCBnb3Q6ICIrdSksaj0iYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIjtjb250aW51ZX1qPSJhdXRob3JpdHkgc2Vjb25kIHNsYXNoIjticmVhaztjYXNlImF1dGhvcml0eSBzZWNvbmQgc2xhc2giOmlmKGo9ImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyIsIi8iIT11KXtpKCJFeHBlY3RlZCAnLycsIGdvdDogIit1KTtjb250aW51ZX1icmVhaztjYXNlImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyI6aWYoIi8iIT11JiYiXFwiIT11KXtqPSJhdXRob3JpdHkiO2NvbnRpbnVlfWkoIkV4cGVjdGVkIGF1dGhvcml0eSwgZ290OiAiK3UpO2JyZWFrO2Nhc2UiYXV0aG9yaXR5IjppZigiQCI9PXUpe3ImJihpKCJAIGFscmVhZHkgc2Vlbi4iKSxsKz0iJTQwIikscj0hMDtmb3IodmFyIHg9MDt4PGwubGVuZ3RoO3grKyl7dmFyIHk9bFt4XTtpZigiCSIhPXkmJiJcbiIhPXkmJiJcciIhPXkpaWYoIjoiIT15fHxudWxsIT09dGhpcy5fcGFzc3dvcmQpe3ZhciB6PWUoeSk7bnVsbCE9PXRoaXMuX3Bhc3N3b3JkP3RoaXMuX3Bhc3N3b3JkKz16OnRoaXMuX3VzZXJuYW1lKz16fWVsc2UgdGhpcy5fcGFzc3dvcmQ9IiI7ZWxzZSBpKCJJbnZhbGlkIHdoaXRlc3BhY2UgaW4gYXV0aG9yaXR5LiIpfWw9IiJ9ZWxzZXtpZihvPT11fHwiLyI9PXV8fCJcXCI9PXV8fCI/Ij09dXx8IiMiPT11KXtrLT1sLmxlbmd0aCxsPSIiLGo9Imhvc3QiO2NvbnRpbnVlfWwrPXV9YnJlYWs7Y2FzZSJmaWxlIGhvc3QiOmlmKG89PXV8fCIvIj09dXx8IlxcIj09dXx8Ij8iPT11fHwiIyI9PXUpezIhPWwubGVuZ3RofHwhcC50ZXN0KGxbMF0pfHwiOiIhPWxbMV0mJiJ8IiE9bFsxXT8wPT1sLmxlbmd0aD9qPSJyZWxhdGl2ZSBwYXRoIHN0YXJ0IjoodGhpcy5faG9zdD1kLmNhbGwodGhpcyxsKSxsPSIiLGo9InJlbGF0aXZlIHBhdGggc3RhcnQiKTpqPSJyZWxhdGl2ZSBwYXRoIjtjb250aW51ZX0iCSI9PXV8fCJcbiI9PXV8fCJcciI9PXU/aSgiSW52YWxpZCB3aGl0ZXNwYWNlIGluIGZpbGUgaG9zdC4iKTpsKz11O2JyZWFrO2Nhc2UiaG9zdCI6Y2FzZSJob3N0bmFtZSI6aWYoIjoiIT11fHxzKXtpZihvPT11fHwiLyI9PXV8fCJcXCI9PXV8fCI/Ij09dXx8IiMiPT11KXtpZih0aGlzLl9ob3N0PWQuY2FsbCh0aGlzLGwpLGw9IiIsaj0icmVsYXRpdmUgcGF0aCBzdGFydCIsZylicmVhayBhO2NvbnRpbnVlfSIJIiE9dSYmIlxuIiE9dSYmIlxyIiE9dT8oIlsiPT11P3M9ITA6Il0iPT11JiYocz0hMSksbCs9dSk6aSgiSW52YWxpZCBjb2RlIHBvaW50IGluIGhvc3QvaG9zdG5hbWU6ICIrdSl9ZWxzZSBpZih0aGlzLl9ob3N0PWQuY2FsbCh0aGlzLGwpLGw9IiIsaj0icG9ydCIsImhvc3RuYW1lIj09ZylicmVhayBhO2JyZWFrO2Nhc2UicG9ydCI6aWYoL1swLTldLy50ZXN0KHUpKWwrPXU7ZWxzZXtpZihvPT11fHwiLyI9PXV8fCJcXCI9PXV8fCI/Ij09dXx8IiMiPT11fHxnKXtpZigiIiE9bCl7dmFyIEE9cGFyc2VJbnQobCwxMCk7QSE9bVt0aGlzLl9zY2hlbWVdJiYodGhpcy5fcG9ydD1BKyIiKSxsPSIifWlmKGcpYnJlYWsgYTtqPSJyZWxhdGl2ZSBwYXRoIHN0YXJ0Ijtjb250aW51ZX0iCSI9PXV8fCJcbiI9PXV8fCJcciI9PXU/aSgiSW52YWxpZCBjb2RlIHBvaW50IGluIHBvcnQ6ICIrdSk6Yy5jYWxsKHRoaXMpfWJyZWFrO2Nhc2UicmVsYXRpdmUgcGF0aCBzdGFydCI6aWYoIlxcIj09dSYmaSgiJ1xcJyBub3QgYWxsb3dlZCBpbiBwYXRoLiIpLGo9InJlbGF0aXZlIHBhdGgiLCIvIiE9dSYmIlxcIiE9dSljb250aW51ZTticmVhaztjYXNlInJlbGF0aXZlIHBhdGgiOmlmKG8hPXUmJiIvIiE9dSYmIlxcIiE9dSYmKGd8fCI/IiE9dSYmIiMiIT11KSkiCSIhPXUmJiJcbiIhPXUmJiJcciIhPXUmJihsKz1lKHUpKTtlbHNleyJcXCI9PXUmJmkoIlxcIG5vdCBhbGxvd2VkIGluIHJlbGF0aXZlIHBhdGguIik7dmFyIEI7KEI9bltsLnRvTG93ZXJDYXNlKCldKSYmKGw9QiksIi4uIj09bD8odGhpcy5fcGF0aC5wb3AoKSwiLyIhPXUmJiJcXCIhPXUmJnRoaXMuX3BhdGgucHVzaCgiIikpOiIuIj09bCYmIi8iIT11JiYiXFwiIT11P3RoaXMuX3BhdGgucHVzaCgiIik6Ii4iIT1sJiYoImZpbGUiPT10aGlzLl9zY2hlbWUmJjA9PXRoaXMuX3BhdGgubGVuZ3RoJiYyPT1sLmxlbmd0aCYmcC50ZXN0KGxbMF0pJiYifCI9PWxbMV0mJihsPWxbMF0rIjoiKSx0aGlzLl9wYXRoLnB1c2gobCkpLGw9IiIsIj8iPT11Pyh0aGlzLl9xdWVyeT0iPyIsaj0icXVlcnkiKToiIyI9PXUmJih0aGlzLl9mcmFnbWVudD0iIyIsaj0iZnJhZ21lbnQiKX1icmVhaztjYXNlInF1ZXJ5IjpnfHwiIyIhPXU/byE9dSYmIgkiIT11JiYiXG4iIT11JiYiXHIiIT11JiYodGhpcy5fcXVlcnkrPWYodSkpOih0aGlzLl9mcmFnbWVudD0iIyIsaj0iZnJhZ21lbnQiKTticmVhaztjYXNlImZyYWdtZW50IjpvIT11JiYiCSIhPXUmJiJcbiIhPXUmJiJcciIhPXUmJih0aGlzLl9mcmFnbWVudCs9dSl9aysrfX1mdW5jdGlvbiBoKCl7dGhpcy5fc2NoZW1lPSIiLHRoaXMuX3NjaGVtZURhdGE9IiIsdGhpcy5fdXNlcm5hbWU9IiIsdGhpcy5fcGFzc3dvcmQ9bnVsbCx0aGlzLl9ob3N0PSIiLHRoaXMuX3BvcnQ9IiIsdGhpcy5fcGF0aD1bXSx0aGlzLl9xdWVyeT0iIix0aGlzLl9mcmFnbWVudD0iIix0aGlzLl9pc0ludmFsaWQ9ITEsdGhpcy5faXNSZWxhdGl2ZT0hMX1mdW5jdGlvbiBpKGEsYil7dm9pZCAwPT09Ynx8YiBpbnN0YW5jZW9mIGl8fChiPW5ldyBpKFN0cmluZyhiKSkpLHRoaXMuX3VybD1hLGguY2FsbCh0aGlzKTt2YXIgYz1hLnJlcGxhY2UoL15bIFx0XHJcblxmXSt8WyBcdFxyXG5cZl0rJC9nLCIiKTtnLmNhbGwodGhpcyxjLG51bGwsYil9dmFyIGo9ITE7aWYoIWEuZm9yY2VKVVJMKXRyeXt2YXIgaz1uZXcgVVJMKCJiIiwiaHR0cDovL2EiKTtqPSJodHRwOi8vYS9iIj09PWsuaHJlZn1jYXRjaChsKXt9aWYoIWope3ZhciBtPU9iamVjdC5jcmVhdGUobnVsbCk7bS5mdHA9MjEsbS5maWxlPTAsbS5nb3BoZXI9NzAsbS5odHRwPTgwLG0uaHR0cHM9NDQzLG0ud3M9ODAsbS53c3M9NDQzO3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7blsiJTJlIl09Ii4iLG5bIi4lMmUiXT0iLi4iLG5bIiUyZS4iXT0iLi4iLG5bIiUyZSUyZSJdPSIuLiI7dmFyIG89dm9pZCAwLHA9L1thLXpBLVpdLyxxPS9bYS16QS1aMC05XCtcLVwuXS87aS5wcm90b3R5cGU9e2dldCBocmVmKCl7aWYodGhpcy5faXNJbnZhbGlkKXJldHVybiB0aGlzLl91cmw7dmFyIGE9IiI7cmV0dXJuKCIiIT10aGlzLl91c2VybmFtZXx8bnVsbCE9dGhpcy5fcGFzc3dvcmQpJiYoYT10aGlzLl91c2VybmFtZSsobnVsbCE9dGhpcy5fcGFzc3dvcmQ/IjoiK3RoaXMuX3Bhc3N3b3JkOiIiKSsiQCIpLHRoaXMucHJvdG9jb2wrKHRoaXMuX2lzUmVsYXRpdmU/Ii8vIithK3RoaXMuaG9zdDoiIikrdGhpcy5wYXRobmFtZSt0aGlzLl9xdWVyeSt0aGlzLl9mcmFnbWVudH0sc2V0IGhyZWYoYSl7aC5jYWxsKHRoaXMpLGcuY2FsbCh0aGlzLGEpfSxnZXQgcHJvdG9jb2woKXtyZXR1cm4gdGhpcy5fc2NoZW1lKyI6In0sc2V0IHByb3RvY29sKGEpe3RoaXMuX2lzSW52YWxpZHx8Zy5jYWxsKHRoaXMsYSsiOiIsInNjaGVtZSBzdGFydCIpfSxnZXQgaG9zdCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWQ/IiI6dGhpcy5fcG9ydD90aGlzLl9ob3N0KyI6Iit0aGlzLl9wb3J0OnRoaXMuX2hvc3R9LHNldCBob3N0KGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJmcuY2FsbCh0aGlzLGEsImhvc3QiKX0sZ2V0IGhvc3RuYW1lKCl7cmV0dXJuIHRoaXMuX2hvc3R9LHNldCBob3N0bmFtZShhKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiZnLmNhbGwodGhpcyxhLCJob3N0bmFtZSIpfSxnZXQgcG9ydCgpe3JldHVybiB0aGlzLl9wb3J0fSxzZXQgcG9ydChhKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiZnLmNhbGwodGhpcyxhLCJwb3J0Iil9LGdldCBwYXRobmFtZSgpe3JldHVybiB0aGlzLl9pc0ludmFsaWQ/IiI6dGhpcy5faXNSZWxhdGl2ZT8iLyIrdGhpcy5fcGF0aC5qb2luKCIvIik6dGhpcy5fc2NoZW1lRGF0YX0sc2V0IHBhdGhuYW1lKGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJih0aGlzLl9wYXRoPVtdLGcuY2FsbCh0aGlzLGEsInJlbGF0aXZlIHBhdGggc3RhcnQiKSl9LGdldCBzZWFyY2goKXtyZXR1cm4gdGhpcy5faXNJbnZhbGlkfHwhdGhpcy5fcXVlcnl8fCI/Ij09dGhpcy5fcXVlcnk/IiI6dGhpcy5fcXVlcnl9LHNldCBzZWFyY2goYSl7IXRoaXMuX2lzSW52YWxpZCYmdGhpcy5faXNSZWxhdGl2ZSYmKHRoaXMuX3F1ZXJ5PSI/IiwiPyI9PWFbMF0mJihhPWEuc2xpY2UoMSkpLGcuY2FsbCh0aGlzLGEsInF1ZXJ5IikpfSxnZXQgaGFzaCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWR8fCF0aGlzLl9mcmFnbWVudHx8IiMiPT10aGlzLl9mcmFnbWVudD8iIjp0aGlzLl9mcmFnbWVudH0sc2V0IGhhc2goYSl7dGhpcy5faXNJbnZhbGlkfHwodGhpcy5fZnJhZ21lbnQ9IiMiLCIjIj09YVswXSYmKGE9YS5zbGljZSgxKSksZy5jYWxsKHRoaXMsYSwiZnJhZ21lbnQiKSl9fSxhLlVSTD1pfX0od2luZG93KSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2Zvcih2YXIgYj1hfHx7fSxkPTE7ZDxhcmd1bWVudHMubGVuZ3RoO2QrKyl7dmFyIGU9YXJndW1lbnRzW2RdO3RyeXtmb3IodmFyIGYgaW4gZSljKGYsZSxiKX1jYXRjaChnKXt9fXJldHVybiBifWZ1bmN0aW9uIGMoYSxiLGMpe3ZhciBlPWQoYixhKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYyxhLGUpfWZ1bmN0aW9uIGQoYSxiKXtpZihhKXt2YXIgYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsYik7cmV0dXJuIGN8fGQoT2JqZWN0LmdldFByb3RvdHlwZU9mKGEpLGIpfX1GdW5jdGlvbi5wcm90b3R5cGUuYmluZHx8KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGQ9Yy5zbGljZSgpO3JldHVybiBkLnB1c2guYXBwbHkoZCxhcmd1bWVudHMpLGIuYXBwbHkoYSxkKX19KSxhLm1peGluPWJ9KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiLGMpe3ZhciBkPSJzdHJpbmciPT10eXBlb2YgYT9kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEpOmEuY2xvbmVOb2RlKCEwKTtpZihkLmlubmVySFRNTD1iLGMpZm9yKHZhciBlIGluIGMpZC5zZXRBdHRyaWJ1dGUoZSxjW2VdKTtyZXR1cm4gZH12YXIgYz1ET01Ub2tlbkxpc3QucHJvdG90eXBlLmFkZCxkPURPTVRva2VuTGlzdC5wcm90b3R5cGUucmVtb3ZlO0RPTVRva2VuTGlzdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTxhcmd1bWVudHMubGVuZ3RoO2ErKyljLmNhbGwodGhpcyxhcmd1bWVudHNbYV0pfSxET01Ub2tlbkxpc3QucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8YXJndW1lbnRzLmxlbmd0aDthKyspZC5jYWxsKHRoaXMsYXJndW1lbnRzW2FdKX0sRE9NVG9rZW5MaXN0LnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oYSxiKXsxPT1hcmd1bWVudHMubGVuZ3RoJiYoYj0hdGhpcy5jb250YWlucyhhKSksYj90aGlzLmFkZChhKTp0aGlzLnJlbW92ZShhKX0sRE9NVG9rZW5MaXN0LnByb3RvdHlwZS5zd2l0Y2g9ZnVuY3Rpb24oYSxiKXthJiZ0aGlzLnJlbW92ZShhKSxiJiZ0aGlzLmFkZChiKX07dmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcyl9LGY9d2luZG93Lk5hbWVkTm9kZU1hcHx8d2luZG93Lk1vek5hbWVkQXR0ck1hcHx8e307aWYoTm9kZUxpc3QucHJvdG90eXBlLmFycmF5PWUsZi5wcm90b3R5cGUuYXJyYXk9ZSxIVE1MQ29sbGVjdGlvbi5wcm90b3R5cGUuYXJyYXk9ZSwhd2luZG93LnBlcmZvcm1hbmNlKXt2YXIgZz1EYXRlLm5vdygpO3dpbmRvdy5wZXJmb3JtYW5jZT17bm93OmZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCktZ319fXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKCl7dmFyIGE9d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZTtyZXR1cm4gYT9mdW5jdGlvbihiKXtyZXR1cm4gYShmdW5jdGlvbigpe2IocGVyZm9ybWFuY2Uubm93KCkpfSl9OmZ1bmN0aW9uKGEpe3JldHVybiB3aW5kb3cuc2V0VGltZW91dChhLDFlMy82MCl9fSgpKSx3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGEpe2NsZWFyVGltZW91dChhKX19KCkpO3ZhciBoPVtdLGk9ZnVuY3Rpb24oKXtoLnB1c2goYXJndW1lbnRzKX07d2luZG93LlBvbHltZXI9aSxhLmRlbGl2ZXJEZWNsYXJhdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gYS5kZWxpdmVyRGVjbGFyYXRpb25zPWZ1bmN0aW9uKCl7dGhyb3ciUG9zc2libGUgYXR0ZW1wdCB0byBsb2FkIFBvbHltZXIgdHdpY2UifSxofSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXt3aW5kb3cuUG9seW1lcj09PWkmJih3aW5kb3cuUG9seW1lcj1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoJ1lvdSB0cmllZCB0byB1c2UgcG9seW1lciB3aXRob3V0IGxvYWRpbmcgaXQgZmlyc3QuIFRvIGxvYWQgcG9seW1lciwgPGxpbmsgcmVsPSJpbXBvcnQiIGhyZWY9ImNvbXBvbmVudHMvcG9seW1lci9wb2x5bWVyLmh0bWwiPicpfSl9KSxhLmNyZWF0ZURPTT1ifSh3aW5kb3cuUGxhdGZvcm0pLHdpbmRvdy50ZW1wbGF0ZUNvbnRlbnQ9d2luZG93LnRlbXBsYXRlQ29udGVudHx8ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGVudH0sZnVuY3Rpb24oYSl7YT1hfHwod2luZG93Lkluc3BlY3Rvcj17fSk7dmFyIGI7d2luZG93LnNpbnNwZWN0PWZ1bmN0aW9uKGEsZCl7Ynx8KGI9d2luZG93Lm9wZW4oIiIsIlNoYWRvd0RPTSBJbnNwZWN0b3IiLG51bGwsITApLGIuZG9jdW1lbnQud3JpdGUoYyksYi5hcGk9e3NoYWRvd2l6ZTpzaGFkb3dpemV9KSxmKGF8fHdyYXAoZG9jdW1lbnQuYm9keSksZCl9O3ZhciBjPVsiPCFET0NUWVBFIGh0bWw+IiwiPGh0bWw+IiwiICA8aGVhZD4iLCIgICAgPHRpdGxlPlNoYWRvd0RPTSBJbnNwZWN0b3I8L3RpdGxlPiIsIiAgICA8c3R5bGU+IiwiICAgICAgYm9keSB7IiwiICAgICAgfSIsIiAgICAgIHByZSB7IiwnICAgICAgICBmb250OiA5cHQgIkNvdXJpZXIgTmV3IiwgbW9ub3NwYWNlOycsIiAgICAgICAgbGluZS1oZWlnaHQ6IDEuNWVtOyIsIiAgICAgIH0iLCIgICAgICB0YWcgeyIsIiAgICAgICAgY29sb3I6IHB1cnBsZTsiLCIgICAgICB9IiwiICAgICAgdWwgeyIsIiAgICAgICAgIG1hcmdpbjogMDsiLCIgICAgICAgICBwYWRkaW5nOiAwOyIsIiAgICAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7IiwiICAgICAgfSIsIiAgICAgIGxpIHsiLCIgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IiwiICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YxZjFmMTsiLCIgICAgICAgICBwYWRkaW5nOiA0cHggNnB4OyIsIiAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsiLCIgICAgICAgICBtYXJnaW4tcmlnaHQ6IDRweDsiLCIgICAgICB9IiwiICAgIDwvc3R5bGU+IiwiICA8L2hlYWQ+IiwiICA8Ym9keT4iLCcgICAgPHVsIGlkPSJjcnVtYnMiPicsIiAgICA8L3VsPiIsJyAgICA8ZGl2IGlkPSJ0cmVlIj48L2Rpdj4nLCIgIDwvYm9keT4iLCI8L2h0bWw+Il0uam9pbigiXG4iKSxkPVtdLGU9ZnVuY3Rpb24oKXt2YXIgYT1iLmRvY3VtZW50LGM9YS5xdWVyeVNlbGVjdG9yKCIjY3J1bWJzIik7Yy50ZXh0Q29udGVudD0iIjtmb3IodmFyIGUsZz0wO2U9ZFtnXTtnKyspe3ZhciBoPWEuY3JlYXRlRWxlbWVudCgiYSIpO2guaHJlZj0iIyIsaC50ZXh0Q29udGVudD1lLmxvY2FsTmFtZSxoLmlkeD1nLGgub25jbGljaz1mdW5jdGlvbihhKXtmb3IodmFyIGI7ZC5sZW5ndGg+dGhpcy5pZHg7KWI9ZC5wb3AoKTtmKGIuc2hhZG93fHxiLGIpLGEucHJldmVudERlZmF1bHQoKX0sYy5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnQoImxpIikpLmFwcGVuZENoaWxkKGgpfX0sZj1mdW5jdGlvbihhLGMpe3ZhciBmPWIuZG9jdW1lbnQ7az1bXTt2YXIgZz1jfHxhO2QucHVzaChnKSxlKCksZi5ib2R5LnF1ZXJ5U2VsZWN0b3IoIiN0cmVlIikuaW5uZXJIVE1MPSI8cHJlPiIraihhLGEuY2hpbGROb2RlcykrIjwvcHJlPiJ9LGc9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKSxoPXtTVFlMRToxLFNDUklQVDoxLCIjY29tbWVudCI6MSxURU1QTEFURToxfSxpPWZ1bmN0aW9uKGEpe3JldHVybiBoW2Eubm9kZU5hbWVdfSxqPWZ1bmN0aW9uKGEsYixjKXtpZihpKGEpKXJldHVybiIiO3ZhciBkPWN8fCIiO2lmKGEubG9jYWxOYW1lfHwxMT09YS5ub2RlVHlwZSl7dmFyIGU9YS5sb2NhbE5hbWV8fCJzaGFkb3ctcm9vdCIsZj1kK2woYSk7ImNvbnRlbnQiPT1lJiYoYj1hLmdldERpc3RyaWJ1dGVkTm9kZXMoKSksZis9Ijxici8+Ijt2YXIgaD1kKyImbmJzcDsmbmJzcDsiO2coYixmdW5jdGlvbihhKXtmKz1qKGEsYS5jaGlsZE5vZGVzLGgpfSksZis9ZCx7YnI6MX1bZV18fChmKz0iPHRhZz4mbHQ7LyIrZSsiJmd0OzwvdGFnPiIsZis9Ijxici8+Iil9ZWxzZXt2YXIgaz1hLnRleHRDb250ZW50LnRyaW0oKTtmPWs/ZCsnIicraysnIjxici8+JzoiIn1yZXR1cm4gZn0saz1bXSxsPWZ1bmN0aW9uKGEpe3ZhciBiPSI8dGFnPiZsdDsiLGM9YS5sb2NhbE5hbWV8fCJzaGFkb3ctcm9vdCI7cmV0dXJuIGEud2Via2l0U2hhZG93Um9vdHx8YS5zaGFkb3dSb290PyhiKz0nIDxidXR0b24gaWR4PSInK2subGVuZ3RoKyciIG9uY2xpY2s9ImFwaS5zaGFkb3dpemUuY2FsbCh0aGlzKSI+JytjKyI8L2J1dHRvbj4iLGsucHVzaChhKSk6Yis9Y3x8InNoYWRvdy1yb290IixhLmF0dHJpYnV0ZXMmJmcoYS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGEpe2IrPSIgIithLm5hbWUrKGEudmFsdWU/Jz0iJythLnZhbHVlKyciJzoiIil9KSxiKz0iJmd0OzwvdGFnPiJ9O3NoYWRvd2l6ZT1mdW5jdGlvbigpe3ZhciBhPU51bWJlcih0aGlzLmF0dHJpYnV0ZXMuaWR4LnZhbHVlKSxiPWtbYV07Yj9mKGIud2Via2l0U2hhZG93Um9vdHx8Yi5zaGFkb3dSb290LGIpOihjb25zb2xlLmxvZygiYmFkIHNoYWRvd2l6ZSBub2RlIiksY29uc29sZS5kaXIodGhpcykpfSxhLm91dHB1dD1qfSh3aW5kb3cuSW5zcGVjdG9yKSxmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7YS50ZXh0Q29udGVudD0iYm9keSB7dHJhbnNpdGlvbjogb3BhY2l0eSBlYXNlLWluIDAuMnM7IH0gXG5ib2R5W3VucmVzb2x2ZWRdIHtvcGFjaXR5OiAwOyBkaXNwbGF5OiBibG9jazsgb3ZlcmZsb3c6IGhpZGRlbjsgfSBcbiI7dmFyIGI9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaGVhZCIpO2IuaW5zZXJ0QmVmb3JlKGEsYi5maXJzdENoaWxkKX0oUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiKXtyZXR1cm4gYj1ifHxbXSxiLm1hcHx8KGI9W2JdKSxhLmFwcGx5KHRoaXMsYi5tYXAoZCkpfWZ1bmN0aW9uIGMoYSxjLGQpe3ZhciBlO3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuO2Nhc2UgMTplPW51bGw7YnJlYWs7Y2FzZSAyOmU9Yy5hcHBseSh0aGlzKTticmVhaztkZWZhdWx0OmU9YihkLGMpfWZbYV09ZX1mdW5jdGlvbiBkKGEpe3JldHVybiBmW2FdfWZ1bmN0aW9uIGUoYSxjKXtIVE1MSW1wb3J0cy53aGVuSW1wb3J0c1JlYWR5KGZ1bmN0aW9uKCl7YihjLGEpfSl9dmFyIGY9e307YS5tYXJzaGFsPWQsYS5tb2R1bGU9YyxhLnVzaW5nPWV9KHdpbmRvdyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtmLnRleHRDb250ZW50PWQrKyxlLnB1c2goYSl9ZnVuY3Rpb24gYygpe2Zvcig7ZS5sZW5ndGg7KWUuc2hpZnQoKSgpfXZhciBkPTAsZT1bXSxmPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTtuZXcod2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fEpzTXV0YXRpb25PYnNlcnZlcikoYykub2JzZXJ2ZShmLHtjaGFyYWN0ZXJEYXRhOiEwfSksYS5lbmRPZk1pY3JvdGFzaz1ifShQbGF0Zm9ybSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIsZCl7cmV0dXJuIGEucmVwbGFjZShkLGZ1bmN0aW9uKGEsZCxlLGYpe3ZhciBnPWUucmVwbGFjZSgvWyInXS9nLCIiKTtyZXR1cm4gZz1jKGIsZyksZCsiJyIrZysiJyIrZn0pfWZ1bmN0aW9uIGMoYSxiKXt2YXIgYz1uZXcgVVJMKGIsYSk7cmV0dXJuIGQoYy5ocmVmKX1mdW5jdGlvbiBkKGEpe3ZhciBiPWRvY3VtZW50LmJhc2VVUkksYz1uZXcgVVJMKGEsYik7cmV0dXJuIGMuaG9zdD09PWIuaG9zdCYmYy5wb3J0PT09Yi5wb3J0JiZjLnByb3RvY29sPT09Yi5wcm90b2NvbD9lKGIucGF0aG5hbWUsYy5wYXRobmFtZSk6YX1mdW5jdGlvbiBlKGEsYil7Zm9yKHZhciBjPWEuc3BsaXQoIi8iKSxkPWIuc3BsaXQoIi8iKTtjLmxlbmd0aCYmY1swXT09PWRbMF07KWMuc2hpZnQoKSxkLnNoaWZ0KCk7CmZvcih2YXIgZT0wLGY9Yy5sZW5ndGgtMTtmPmU7ZSsrKWQudW5zaGlmdCgiLi4iKTtyZXR1cm4gZC5qb2luKCIvIil9dmFyIGY9e3Jlc29sdmVEb206ZnVuY3Rpb24oYSxiKXtiPWJ8fGEub3duZXJEb2N1bWVudC5iYXNlVVJJLHRoaXMucmVzb2x2ZUF0dHJpYnV0ZXMoYSxiKSx0aGlzLnJlc29sdmVTdHlsZXMoYSxiKTt2YXIgYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoInRlbXBsYXRlIik7aWYoYylmb3IodmFyIGQsZT0wLGY9Yy5sZW5ndGg7Zj5lJiYoZD1jW2VdKTtlKyspZC5jb250ZW50JiZ0aGlzLnJlc29sdmVEb20oZC5jb250ZW50LGIpfSxyZXNvbHZlVGVtcGxhdGU6ZnVuY3Rpb24oYSl7dGhpcy5yZXNvbHZlRG9tKGEuY29udGVudCxhLm93bmVyRG9jdW1lbnQuYmFzZVVSSSl9LHJlc29sdmVTdHlsZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoInN0eWxlIik7aWYoYylmb3IodmFyIGQsZT0wLGY9Yy5sZW5ndGg7Zj5lJiYoZD1jW2VdKTtlKyspdGhpcy5yZXNvbHZlU3R5bGUoZCxiKX0scmVzb2x2ZVN0eWxlOmZ1bmN0aW9uKGEsYil7Yj1ifHxhLm93bmVyRG9jdW1lbnQuYmFzZVVSSSxhLnRleHRDb250ZW50PXRoaXMucmVzb2x2ZUNzc1RleHQoYS50ZXh0Q29udGVudCxiKX0scmVzb2x2ZUNzc1RleHQ6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYT1iKGEsYyxnKSxiKGEsYyxoKX0scmVzb2x2ZUF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSxiKXthLmhhc0F0dHJpYnV0ZXMmJmEuaGFzQXR0cmlidXRlcygpJiZ0aGlzLnJlc29sdmVFbGVtZW50QXR0cmlidXRlcyhhLGIpO3ZhciBjPWEmJmEucXVlcnlTZWxlY3RvckFsbChqKTtpZihjKWZvcih2YXIgZCxlPTAsZj1jLmxlbmd0aDtmPmUmJihkPWNbZV0pO2UrKyl0aGlzLnJlc29sdmVFbGVtZW50QXR0cmlidXRlcyhkLGIpfSxyZXNvbHZlRWxlbWVudEF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSxiKXtiPWJ8fGEub3duZXJEb2N1bWVudC5iYXNlVVJJLGkuZm9yRWFjaChmdW5jdGlvbihkKXt2YXIgZT1hLmF0dHJpYnV0ZXNbZF07aWYoZSYmZS52YWx1ZSYmZS52YWx1ZS5zZWFyY2goayk8MCl7dmFyIGY9YyhiLGUudmFsdWUpO2UudmFsdWU9Zn19KX19LGc9Lyh1cmxcKCkoW14pXSopKFwpKS9nLGg9LyhAaW1wb3J0W1xzXSsoPyF1cmxcKCkpKFteO10qKSg7KS9nLGk9WyJocmVmIiwic3JjIiwiYWN0aW9uIl0saj0iWyIraS5qb2luKCJdLFsiKSsiXSIsaz0ie3suKn19IjthLnVybFJlc29sdmVyPWZ9KFBsYXRmb3JtKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3UucHVzaChhKSx0fHwodD0hMCxxKGQpKX1mdW5jdGlvbiBjKGEpe3JldHVybiB3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwmJndpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoYSl8fGF9ZnVuY3Rpb24gZCgpe3Q9ITE7dmFyIGE9dTt1PVtdLGEuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLnVpZF8tYi51aWRffSk7dmFyIGI9ITE7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBjPWEudGFrZVJlY29yZHMoKTtlKGEpLGMubGVuZ3RoJiYoYS5jYWxsYmFja18oYyxhKSxiPSEwKX0pLGImJmQoKX1mdW5jdGlvbiBlKGEpe2Eubm9kZXNfLmZvckVhY2goZnVuY3Rpb24oYil7dmFyIGM9cC5nZXQoYik7YyYmYy5mb3JFYWNoKGZ1bmN0aW9uKGIpe2Iub2JzZXJ2ZXI9PT1hJiZiLnJlbW92ZVRyYW5zaWVudE9ic2VydmVycygpfSl9KX1mdW5jdGlvbiBmKGEsYil7Zm9yKHZhciBjPWE7YztjPWMucGFyZW50Tm9kZSl7dmFyIGQ9cC5nZXQoYyk7aWYoZClmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXSxnPWYub3B0aW9ucztpZihjPT09YXx8Zy5zdWJ0cmVlKXt2YXIgaD1iKGcpO2gmJmYuZW5xdWV1ZShoKX19fX1mdW5jdGlvbiBnKGEpe3RoaXMuY2FsbGJhY2tfPWEsdGhpcy5ub2Rlc189W10sdGhpcy5yZWNvcmRzXz1bXSx0aGlzLnVpZF89Kyt2fWZ1bmN0aW9uIGgoYSxiKXt0aGlzLnR5cGU9YSx0aGlzLnRhcmdldD1iLHRoaXMuYWRkZWROb2Rlcz1bXSx0aGlzLnJlbW92ZWROb2Rlcz1bXSx0aGlzLnByZXZpb3VzU2libGluZz1udWxsLHRoaXMubmV4dFNpYmxpbmc9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWU9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWVzcGFjZT1udWxsLHRoaXMub2xkVmFsdWU9bnVsbH1mdW5jdGlvbiBpKGEpe3ZhciBiPW5ldyBoKGEudHlwZSxhLnRhcmdldCk7cmV0dXJuIGIuYWRkZWROb2Rlcz1hLmFkZGVkTm9kZXMuc2xpY2UoKSxiLnJlbW92ZWROb2Rlcz1hLnJlbW92ZWROb2Rlcy5zbGljZSgpLGIucHJldmlvdXNTaWJsaW5nPWEucHJldmlvdXNTaWJsaW5nLGIubmV4dFNpYmxpbmc9YS5uZXh0U2libGluZyxiLmF0dHJpYnV0ZU5hbWU9YS5hdHRyaWJ1dGVOYW1lLGIuYXR0cmlidXRlTmFtZXNwYWNlPWEuYXR0cmlidXRlTmFtZXNwYWNlLGIub2xkVmFsdWU9YS5vbGRWYWx1ZSxifWZ1bmN0aW9uIGooYSxiKXtyZXR1cm4gdz1uZXcgaChhLGIpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuIHg/eDooeD1pKHcpLHgub2xkVmFsdWU9YSx4KX1mdW5jdGlvbiBsKCl7dz14PXZvaWQgMH1mdW5jdGlvbiBtKGEpe3JldHVybiBhPT09eHx8YT09PXd9ZnVuY3Rpb24gbihhLGIpe3JldHVybiBhPT09Yj9hOngmJm0oYSk/eDpudWxsfWZ1bmN0aW9uIG8oYSxiLGMpe3RoaXMub2JzZXJ2ZXI9YSx0aGlzLnRhcmdldD1iLHRoaXMub3B0aW9ucz1jLHRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXX12YXIgcD1uZXcgV2Vha01hcCxxPXdpbmRvdy5tc1NldEltbWVkaWF0ZTtpZighcSl7dmFyIHI9W10scz1TdHJpbmcoTWF0aC5yYW5kb20oKSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGZ1bmN0aW9uKGEpe2lmKGEuZGF0YT09PXMpe3ZhciBiPXI7cj1bXSxiLmZvckVhY2goZnVuY3Rpb24oYSl7YSgpfSl9fSkscT1mdW5jdGlvbihhKXtyLnB1c2goYSksd2luZG93LnBvc3RNZXNzYWdlKHMsIioiKX19dmFyIHQ9ITEsdT1bXSx2PTA7Zy5wcm90b3R5cGU9e29ic2VydmU6ZnVuY3Rpb24oYSxiKXtpZihhPWMoYSksIWIuY2hpbGRMaXN0JiYhYi5hdHRyaWJ1dGVzJiYhYi5jaGFyYWN0ZXJEYXRhfHxiLmF0dHJpYnV0ZU9sZFZhbHVlJiYhYi5hdHRyaWJ1dGVzfHxiLmF0dHJpYnV0ZUZpbHRlciYmYi5hdHRyaWJ1dGVGaWx0ZXIubGVuZ3RoJiYhYi5hdHRyaWJ1dGVzfHxiLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSYmIWIuY2hhcmFjdGVyRGF0YSl0aHJvdyBuZXcgU3ludGF4RXJyb3I7dmFyIGQ9cC5nZXQoYSk7ZHx8cC5zZXQoYSxkPVtdKTtmb3IodmFyIGUsZj0wO2Y8ZC5sZW5ndGg7ZisrKWlmKGRbZl0ub2JzZXJ2ZXI9PT10aGlzKXtlPWRbZl0sZS5yZW1vdmVMaXN0ZW5lcnMoKSxlLm9wdGlvbnM9YjticmVha31lfHwoZT1uZXcgbyh0aGlzLGEsYiksZC5wdXNoKGUpLHRoaXMubm9kZXNfLnB1c2goYSkpLGUuYWRkTGlzdGVuZXJzKCl9LGRpc2Nvbm5lY3Q6ZnVuY3Rpb24oKXt0aGlzLm5vZGVzXy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1wLmdldChhKSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY107aWYoZC5vYnNlcnZlcj09PXRoaXMpe2QucmVtb3ZlTGlzdGVuZXJzKCksYi5zcGxpY2UoYywxKTticmVha319fSx0aGlzKSx0aGlzLnJlY29yZHNfPVtdfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe3ZhciBhPXRoaXMucmVjb3Jkc187cmV0dXJuIHRoaXMucmVjb3Jkc189W10sYX19O3ZhciB3LHg7by5wcm90b3R5cGU9e2VucXVldWU6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5vYnNlcnZlci5yZWNvcmRzXyxkPWMubGVuZ3RoO2lmKGMubGVuZ3RoPjApe3ZhciBlPWNbZC0xXSxmPW4oZSxhKTtpZihmKXJldHVybiB2b2lkKGNbZC0xXT1mKX1lbHNlIGIodGhpcy5vYnNlcnZlcik7Y1tkXT1hfSxhZGRMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt0aGlzLmFkZExpc3RlbmVyc18odGhpcy50YXJnZXQpfSxhZGRMaXN0ZW5lcnNfOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucztiLmF0dHJpYnV0ZXMmJmEuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQXR0ck1vZGlmaWVkIix0aGlzLCEwKSxiLmNoYXJhY3RlckRhdGEmJmEuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIix0aGlzLCEwKSxiLmNoaWxkTGlzdCYmYS5hZGRFdmVudExpc3RlbmVyKCJET01Ob2RlSW5zZXJ0ZWQiLHRoaXMsITApLChiLmNoaWxkTGlzdHx8Yi5zdWJ0cmVlKSYmYS5hZGRFdmVudExpc3RlbmVyKCJET01Ob2RlUmVtb3ZlZCIsdGhpcywhMCl9LHJlbW92ZUxpc3RlbmVyczpmdW5jdGlvbigpe3RoaXMucmVtb3ZlTGlzdGVuZXJzXyh0aGlzLnRhcmdldCl9LHJlbW92ZUxpc3RlbmVyc186ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zO2IuYXR0cmlidXRlcyYmYS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01BdHRyTW9kaWZpZWQiLHRoaXMsITApLGIuY2hhcmFjdGVyRGF0YSYmYS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWQiLHRoaXMsITApLGIuY2hpbGRMaXN0JiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTU5vZGVJbnNlcnRlZCIsdGhpcywhMCksKGIuY2hpbGRMaXN0fHxiLnN1YnRyZWUpJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTU5vZGVSZW1vdmVkIix0aGlzLCEwKX0sYWRkVHJhbnNpZW50T2JzZXJ2ZXI6ZnVuY3Rpb24oYSl7aWYoYSE9PXRoaXMudGFyZ2V0KXt0aGlzLmFkZExpc3RlbmVyc18oYSksdGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzLnB1c2goYSk7dmFyIGI9cC5nZXQoYSk7Ynx8cC5zZXQoYSxiPVtdKSxiLnB1c2godGhpcyl9fSxyZW1vdmVUcmFuc2llbnRPYnNlcnZlcnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM7dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdLGEuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLnJlbW92ZUxpc3RlbmVyc18oYSk7Zm9yKHZhciBiPXAuZ2V0KGEpLGM9MDtjPGIubGVuZ3RoO2MrKylpZihiW2NdPT09dGhpcyl7Yi5zcGxpY2UoYywxKTticmVha319LHRoaXMpfSxoYW5kbGVFdmVudDpmdW5jdGlvbihhKXtzd2l0Y2goYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxhLnR5cGUpe2Nhc2UiRE9NQXR0ck1vZGlmaWVkIjp2YXIgYj1hLmF0dHJOYW1lLGM9YS5yZWxhdGVkTm9kZS5uYW1lc3BhY2VVUkksZD1hLnRhcmdldCxlPW5ldyBqKCJhdHRyaWJ1dGVzIixkKTtlLmF0dHJpYnV0ZU5hbWU9YixlLmF0dHJpYnV0ZU5hbWVzcGFjZT1jO3ZhciBnPWEuYXR0ckNoYW5nZT09PU11dGF0aW9uRXZlbnQuQURESVRJT04/bnVsbDphLnByZXZWYWx1ZTtmKGQsZnVuY3Rpb24oYSl7cmV0dXJuIWEuYXR0cmlidXRlc3x8YS5hdHRyaWJ1dGVGaWx0ZXImJmEuYXR0cmlidXRlRmlsdGVyLmxlbmd0aCYmLTE9PT1hLmF0dHJpYnV0ZUZpbHRlci5pbmRleE9mKGIpJiYtMT09PWEuYXR0cmlidXRlRmlsdGVyLmluZGV4T2YoYyk/dm9pZCAwOmEuYXR0cmlidXRlT2xkVmFsdWU/ayhnKTplfSk7YnJlYWs7Y2FzZSJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWQiOnZhciBkPWEudGFyZ2V0LGU9aigiY2hhcmFjdGVyRGF0YSIsZCksZz1hLnByZXZWYWx1ZTtmKGQsZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhcmFjdGVyRGF0YT9hLmNoYXJhY3RlckRhdGFPbGRWYWx1ZT9rKGcpOmU6dm9pZCAwfSk7YnJlYWs7Y2FzZSJET01Ob2RlUmVtb3ZlZCI6dGhpcy5hZGRUcmFuc2llbnRPYnNlcnZlcihhLnRhcmdldCk7Y2FzZSJET01Ob2RlSW5zZXJ0ZWQiOnZhciBoLGksZD1hLnJlbGF0ZWROb2RlLG09YS50YXJnZXQ7IkRPTU5vZGVJbnNlcnRlZCI9PT1hLnR5cGU/KGg9W21dLGk9W10pOihoPVtdLGk9W21dKTt2YXIgbj1tLnByZXZpb3VzU2libGluZyxvPW0ubmV4dFNpYmxpbmcsZT1qKCJjaGlsZExpc3QiLGQpO2UuYWRkZWROb2Rlcz1oLGUucmVtb3ZlZE5vZGVzPWksZS5wcmV2aW91c1NpYmxpbmc9bixlLm5leHRTaWJsaW5nPW8sZihkLGZ1bmN0aW9uKGEpe3JldHVybiBhLmNoaWxkTGlzdD9lOnZvaWQgMH0pfWwoKX19LGEuSnNNdXRhdGlvbk9ic2VydmVyPWcsYS5NdXRhdGlvbk9ic2VydmVyfHwoYS5NdXRhdGlvbk9ic2VydmVyPWcpfSh0aGlzKSx3aW5kb3cuSFRNTEltcG9ydHM9d2luZG93LkhUTUxJbXBvcnRzfHx7ZmxhZ3M6e319LGZ1bmN0aW9uKGEpe3ZhciBiPShhLnBhdGgsYS54aHIpLGM9YS5mbGFncyxkPWZ1bmN0aW9uKGEsYil7dGhpcy5jYWNoZT17fSx0aGlzLm9ubG9hZD1hLHRoaXMub25jb21wbGV0ZT1iLHRoaXMuaW5mbGlnaHQ9MCx0aGlzLnBlbmRpbmc9e319O2QucHJvdG90eXBlPXthZGROb2RlczpmdW5jdGlvbihhKXt0aGlzLmluZmxpZ2h0Kz1hLmxlbmd0aDtmb3IodmFyIGIsYz0wLGQ9YS5sZW5ndGg7ZD5jJiYoYj1hW2NdKTtjKyspdGhpcy5yZXF1aXJlKGIpO3RoaXMuY2hlY2tEb25lKCl9LGFkZE5vZGU6ZnVuY3Rpb24oYSl7dGhpcy5pbmZsaWdodCsrLHRoaXMucmVxdWlyZShhKSx0aGlzLmNoZWNrRG9uZSgpfSxyZXF1aXJlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuc3JjfHxhLmhyZWY7YS5fX25vZGVVcmw9Yix0aGlzLmRlZHVwZShiLGEpfHx0aGlzLmZldGNoKGIsYSl9LGRlZHVwZTpmdW5jdGlvbihhLGIpe2lmKHRoaXMucGVuZGluZ1thXSlyZXR1cm4gdGhpcy5wZW5kaW5nW2FdLnB1c2goYiksITA7cmV0dXJuIHRoaXMuY2FjaGVbYV0/KHRoaXMub25sb2FkKGEsYix0aGlzLmNhY2hlW2FdKSx0aGlzLnRhaWwoKSwhMCk6KHRoaXMucGVuZGluZ1thXT1bYl0sITEpfSxmZXRjaDpmdW5jdGlvbihhLGQpe2MubG9hZCYmY29uc29sZS5sb2coImZldGNoIixhLGQpO3ZhciBlPWZ1bmN0aW9uKGIsYyl7dGhpcy5yZWNlaXZlKGEsZCxiLGMpfS5iaW5kKHRoaXMpO2IubG9hZChhLGUpfSxyZWNlaXZlOmZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuY2FjaGVbYV09ZDtmb3IodmFyIGUsZj10aGlzLnBlbmRpbmdbYV0sZz0wLGg9Zi5sZW5ndGg7aD5nJiYoZT1mW2ddKTtnKyspdGhpcy5vbmxvYWQoYSxlLGQpLHRoaXMudGFpbCgpO3RoaXMucGVuZGluZ1thXT1udWxsfSx0YWlsOmZ1bmN0aW9uKCl7LS10aGlzLmluZmxpZ2h0LHRoaXMuY2hlY2tEb25lKCl9LGNoZWNrRG9uZTpmdW5jdGlvbigpe3RoaXMuaW5mbGlnaHR8fHRoaXMub25jb21wbGV0ZSgpfX0sYj1ifHx7YXN5bmM6ITAsb2s6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3RhdHVzPj0yMDAmJmEuc3RhdHVzPDMwMHx8MzA0PT09YS5zdGF0dXN8fDA9PT1hLnN0YXR1c30sbG9hZDpmdW5jdGlvbihjLGQsZSl7dmFyIGY9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybihhLmZsYWdzLmRlYnVnfHxhLmZsYWdzLmJ1c3QpJiYoYys9Ij8iK01hdGgucmFuZG9tKCkpLGYub3BlbigiR0VUIixjLGIuYXN5bmMpLGYuYWRkRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsZnVuY3Rpb24oKXs0PT09Zi5yZWFkeVN0YXRlJiZkLmNhbGwoZSwhYi5vayhmKSYmZixmLnJlc3BvbnNlfHxmLnJlc3BvbnNlVGV4dCxjKX0pLGYuc2VuZCgpLGZ9LGxvYWREb2N1bWVudDpmdW5jdGlvbihhLGIsYyl7dGhpcy5sb2FkKGEsYixjKS5yZXNwb25zZVR5cGU9ImRvY3VtZW50In19LGEueGhyPWIsYS5Mb2FkZXI9ZH0od2luZG93LkhUTUxJbXBvcnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiJsaW5rIj09PWEubG9jYWxOYW1lJiZhLnJlbD09PWd9ZnVuY3Rpb24gYyhhKXt2YXIgYj1kKGEpO3JldHVybiJkYXRhOnRleHQvamF2YXNjcmlwdDtiYXNlNjQsIitidG9hKGIpfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGEudGV4dENvbnRlbnQrZShhKX1mdW5jdGlvbiBlKGEpe3ZhciBiPWEuX19ub2RlVXJsO2lmKCFiKXtiPWEub3duZXJEb2N1bWVudC5iYXNlVVJJO3ZhciBjPSJbIitNYXRoLmZsb29yKDFlMyooTWF0aC5yYW5kb20oKSsxKSkrIl0iLGQ9YS50ZXh0Q29udGVudC5tYXRjaCgvUG9seW1lclwoWyciXShbXiciXSopLyk7Yz1kJiZkWzFdfHxjLGIrPSIvIitjKyIuanMifXJldHVybiJcbi8vIyBzb3VyY2VVUkw9IitiKyJcbiJ9ZnVuY3Rpb24gZihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyZXR1cm4gYi50ZXh0Q29udGVudD1hLnRleHRDb250ZW50LG4ucmVzb2x2ZVVybHNJblN0eWxlKGIpLGJ9dmFyIGc9ImltcG9ydCIsaD1hLmZsYWdzLGk9L1RyaWRlbnQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksaj13aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChkb2N1bWVudCk6ZG9jdW1lbnQsaz17ZG9jdW1lbnRTZWxlY3RvcnM6ImxpbmtbcmVsPSIrZysiXSIsaW1wb3J0c1NlbGVjdG9yczpbImxpbmtbcmVsPSIrZysiXSIsImxpbmtbcmVsPXN0eWxlc2hlZXRdIiwic3R5bGUiLCJzY3JpcHQ6bm90KFt0eXBlXSkiLCdzY3JpcHRbdHlwZT0idGV4dC9qYXZhc2NyaXB0Il0nXS5qb2luKCIsIiksbWFwOntsaW5rOiJwYXJzZUxpbmsiLHNjcmlwdDoicGFyc2VTY3JpcHQiLHN0eWxlOiJwYXJzZVN0eWxlIn0scGFyc2VOZXh0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5uZXh0VG9QYXJzZSgpO2EmJnRoaXMucGFyc2UoYSl9LHBhcnNlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuaXNQYXJzZWQoYSkpcmV0dXJuIHZvaWQoaC5wYXJzZSYmY29uc29sZS5sb2coIlslc10gaXMgYWxyZWFkeSBwYXJzZWQiLGEubG9jYWxOYW1lKSk7dmFyIGI9dGhpc1t0aGlzLm1hcFthLmxvY2FsTmFtZV1dO2ImJih0aGlzLm1hcmtQYXJzaW5nKGEpLGIuY2FsbCh0aGlzLGEpKX0sbWFya1BhcnNpbmc6ZnVuY3Rpb24oYSl7aC5wYXJzZSYmY29uc29sZS5sb2coInBhcnNpbmciLGEpLHRoaXMucGFyc2luZ0VsZW1lbnQ9YX0sbWFya1BhcnNpbmdDb21wbGV0ZTpmdW5jdGlvbihhKXthLl9faW1wb3J0UGFyc2VkPSEwLGEuX19pbXBvcnRFbGVtZW50JiYoYS5fX2ltcG9ydEVsZW1lbnQuX19pbXBvcnRQYXJzZWQ9ITApLHRoaXMucGFyc2luZ0VsZW1lbnQ9bnVsbCxoLnBhcnNlJiZjb25zb2xlLmxvZygiY29tcGxldGVkIixhKSx0aGlzLnBhcnNlTmV4dCgpfSxwYXJzZUltcG9ydDpmdW5jdGlvbihhKXtpZihhLmltcG9ydC5fX2ltcG9ydFBhcnNlZD0hMCxIVE1MSW1wb3J0cy5fX2ltcG9ydHNQYXJzaW5nSG9vayYmSFRNTEltcG9ydHMuX19pbXBvcnRzUGFyc2luZ0hvb2soYSksYS5kaXNwYXRjaEV2ZW50KGEuX19yZXNvdXJjZT9uZXcgQ3VzdG9tRXZlbnQoImxvYWQiLHtidWJibGVzOiExfSk6bmV3IEN1c3RvbUV2ZW50KCJlcnJvciIse2J1YmJsZXM6ITF9KSksYS5fX3BlbmRpbmcpZm9yKHZhciBiO2EuX19wZW5kaW5nLmxlbmd0aDspYj1hLl9fcGVuZGluZy5zaGlmdCgpLGImJmIoe3RhcmdldDphfSk7dGhpcy5tYXJrUGFyc2luZ0NvbXBsZXRlKGEpfSxwYXJzZUxpbms6ZnVuY3Rpb24oYSl7YihhKT90aGlzLnBhcnNlSW1wb3J0KGEpOihhLmhyZWY9YS5ocmVmLHRoaXMucGFyc2VHZW5lcmljKGEpKX0scGFyc2VTdHlsZTpmdW5jdGlvbihhKXt2YXIgYj1hO2E9ZihhKSxhLl9faW1wb3J0RWxlbWVudD1iLHRoaXMucGFyc2VHZW5lcmljKGEpfSxwYXJzZUdlbmVyaWM6ZnVuY3Rpb24oYSl7dGhpcy50cmFja0VsZW1lbnQoYSksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChhKX0sdHJhY2tFbGVtZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWZ1bmN0aW9uKGQpe2ImJmIoZCksYy5tYXJrUGFyc2luZ0NvbXBsZXRlKGEpfTtpZihhLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGQpLGEuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLGQpLGkmJiJzdHlsZSI9PT1hLmxvY2FsTmFtZSl7dmFyIGU9ITE7aWYoLTE9PWEudGV4dENvbnRlbnQuaW5kZXhPZigiQGltcG9ydCIpKWU9ITA7ZWxzZSBpZihhLnNoZWV0KXtlPSEwO2Zvcih2YXIgZixnPWEuc2hlZXQuY3NzUnVsZXMsaD1nP2cubGVuZ3RoOjAsaj0wO2g+aiYmKGY9Z1tqXSk7aisrKWYudHlwZT09PUNTU1J1bGUuSU1QT1JUX1JVTEUmJihlPWUmJkJvb2xlYW4oZi5zdHlsZVNoZWV0KSl9ZSYmYS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgibG9hZCIse2J1YmJsZXM6ITF9KSl9fSxwYXJzZVNjcmlwdDpmdW5jdGlvbihiKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtkLl9faW1wb3J0RWxlbWVudD1iLGQuc3JjPWIuc3JjP2Iuc3JjOmMoYiksYS5jdXJyZW50U2NyaXB0PWIsdGhpcy50cmFja0VsZW1lbnQoZCxmdW5jdGlvbigpe2QucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkKSxhLmN1cnJlbnRTY3JpcHQ9bnVsbH0pLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZCl9LG5leHRUb1BhcnNlOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMucGFyc2luZ0VsZW1lbnQmJnRoaXMubmV4dFRvUGFyc2VJbkRvYyhqKX0sbmV4dFRvUGFyc2VJbkRvYzpmdW5jdGlvbihhLGMpe2Zvcih2YXIgZCxlPWEucXVlcnlTZWxlY3RvckFsbCh0aGlzLnBhcnNlU2VsZWN0b3JzRm9yTm9kZShhKSksZj0wLGc9ZS5sZW5ndGg7Zz5mJiYoZD1lW2ZdKTtmKyspaWYoIXRoaXMuaXNQYXJzZWQoZCkpcmV0dXJuIHRoaXMuaGFzUmVzb3VyY2UoZCk/YihkKT90aGlzLm5leHRUb1BhcnNlSW5Eb2MoZC5pbXBvcnQsZCk6ZDp2b2lkIDA7cmV0dXJuIGN9LHBhcnNlU2VsZWN0b3JzRm9yTm9kZTpmdW5jdGlvbihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnR8fGE7cmV0dXJuIGI9PT1qP3RoaXMuZG9jdW1lbnRTZWxlY3RvcnM6dGhpcy5pbXBvcnRzU2VsZWN0b3JzfSxpc1BhcnNlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5fX2ltcG9ydFBhcnNlZH0saGFzUmVzb3VyY2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGIoYSkmJiFhLmltcG9ydD8hMTohMH19LGw9Lyh1cmxcKCkoW14pXSopKFwpKS9nLG09LyhAaW1wb3J0W1xzXSsoPyF1cmxcKCkpKFteO10qKSg7KS9nLG49e3Jlc29sdmVVcmxzSW5TdHlsZTpmdW5jdGlvbihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQsYz1iLmNyZWF0ZUVsZW1lbnQoImEiKTtyZXR1cm4gYS50ZXh0Q29udGVudD10aGlzLnJlc29sdmVVcmxzSW5Dc3NUZXh0KGEudGV4dENvbnRlbnQsYyksYX0scmVzb2x2ZVVybHNJbkNzc1RleHQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnJlcGxhY2VVcmxzKGEsYixsKTtyZXR1cm4gYz10aGlzLnJlcGxhY2VVcmxzKGMsYixtKX0scmVwbGFjZVVybHM6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhLnJlcGxhY2UoYyxmdW5jdGlvbihhLGMsZCxlKXt2YXIgZj1kLnJlcGxhY2UoL1siJ10vZywiIik7cmV0dXJuIGIuaHJlZj1mLGY9Yi5ocmVmLGMrIiciK2YrIiciK2V9KX19O2EucGFyc2VyPWssYS5wYXRoPW4sYS5pc0lFPWl9KEhUTUxJbXBvcnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBjKGEsbSl9ZnVuY3Rpb24gYyhhLGIpe3JldHVybiJsaW5rIj09PWEubG9jYWxOYW1lJiZhLmdldEF0dHJpYnV0ZSgicmVsIik9PT1ifWZ1bmN0aW9uIGQoYSxiKXt2YXIgYz1hO2MgaW5zdGFuY2VvZiBEb2N1bWVudHx8KGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KG0pKSxjLl9VUkw9Yjt2YXIgZD1jLmNyZWF0ZUVsZW1lbnQoImJhc2UiKTtkLnNldEF0dHJpYnV0ZSgiaHJlZiIsYiksYy5iYXNlVVJJfHwoYy5iYXNlVVJJPWIpO3ZhciBlPWMuY3JlYXRlRWxlbWVudCgibWV0YSIpO3JldHVybiBlLnNldEF0dHJpYnV0ZSgiY2hhcnNldCIsInV0Zi04IiksYy5oZWFkLmFwcGVuZENoaWxkKGUpLGMuaGVhZC5hcHBlbmRDaGlsZChkKSxhIGluc3RhbmNlb2YgRG9jdW1lbnR8fChjLmJvZHkuaW5uZXJIVE1MPWEpLHdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50JiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcCYmSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXAoYyksY31mdW5jdGlvbiBlKGEsYil7Yj1ifHxuLGcoZnVuY3Rpb24oKXtoKGEsYil9LGIpfWZ1bmN0aW9uIGYoYSl7cmV0dXJuImNvbXBsZXRlIj09PWEucmVhZHlTdGF0ZXx8YS5yZWFkeVN0YXRlPT09dX1mdW5jdGlvbiBnKGEsYil7aWYoZihiKSlhJiZhKCk7ZWxzZXt2YXIgYz1mdW5jdGlvbigpeygiY29tcGxldGUiPT09Yi5yZWFkeVN0YXRlfHxiLnJlYWR5U3RhdGU9PT11KSYmKGIucmVtb3ZlRXZlbnRMaXN0ZW5lcih2LGMpLGcoYSxiKSl9O2IuYWRkRXZlbnRMaXN0ZW5lcih2LGMpfX1mdW5jdGlvbiBoKGEsYil7ZnVuY3Rpb24gYygpe2Y9PWcmJnJlcXVlc3RBbmltYXRpb25GcmFtZShhKX1mdW5jdGlvbiBkKCl7ZisrLGMoKX12YXIgZT1iLnF1ZXJ5U2VsZWN0b3JBbGwoImxpbmtbcmVsPWltcG9ydF0iKSxmPTAsZz1lLmxlbmd0aDtpZihnKWZvcih2YXIgaCxqPTA7Zz5qJiYoaD1lW2pdKTtqKyspaShoKT9kLmNhbGwoaCk6KGguYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsZCksaC5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsZCkpO2Vsc2UgYygpfWZ1bmN0aW9uIGkoYSl7cmV0dXJuIGs/YS5pbXBvcnQmJiJsb2FkaW5nIiE9PWEuaW1wb3J0LnJlYWR5U3RhdGU6YS5fX2ltcG9ydFBhcnNlZH12YXIgaj0iaW1wb3J0ImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpbmsiKSxrPWosbD1hLmZsYWdzLG09ImltcG9ydCIsbj13aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/U2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKGRvY3VtZW50KTpkb2N1bWVudDtpZihrKXZhciBvPXt9O2Vsc2UgdmFyIHA9KGEueGhyLGEuTG9hZGVyKSxxPWEucGFyc2VyLG89e2RvY3VtZW50czp7fSxkb2N1bWVudFByZWxvYWRTZWxlY3RvcnM6ImxpbmtbcmVsPSIrbSsiXSIsaW1wb3J0c1ByZWxvYWRTZWxlY3RvcnM6WyJsaW5rW3JlbD0iK20rIl0iXS5qb2luKCIsIiksbG9hZE5vZGU6ZnVuY3Rpb24oYSl7ci5hZGROb2RlKGEpfSxsb2FkU3VidHJlZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm1hcnNoYWxOb2RlcyhhKTtyLmFkZE5vZGVzKGIpfSxtYXJzaGFsTm9kZXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucXVlcnlTZWxlY3RvckFsbCh0aGlzLmxvYWRTZWxlY3RvcnNGb3JOb2RlKGEpKX0sbG9hZFNlbGVjdG9yc0Zvck5vZGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vd25lckRvY3VtZW50fHxhO3JldHVybiBiPT09bj90aGlzLmRvY3VtZW50UHJlbG9hZFNlbGVjdG9yczp0aGlzLmltcG9ydHNQcmVsb2FkU2VsZWN0b3JzfSxsb2FkZWQ6ZnVuY3Rpb24oYSxjLGUpe2lmKGwubG9hZCYmY29uc29sZS5sb2coImxvYWRlZCIsYSxjKSxjLl9fcmVzb3VyY2U9ZSxiKGMpKXt2YXIgZj10aGlzLmRvY3VtZW50c1thXTtmfHwoZj1kKGUsYSksZi5fX2ltcG9ydExpbms9Yyx0aGlzLmJvb3REb2N1bWVudChmKSx0aGlzLmRvY3VtZW50c1thXT1mKSxjLmltcG9ydD1mfXEucGFyc2VOZXh0KCl9LGJvb3REb2N1bWVudDpmdW5jdGlvbihhKXt0aGlzLmxvYWRTdWJ0cmVlKGEpLHRoaXMub2JzZXJ2ZShhKSxxLnBhcnNlTmV4dCgpfSxsb2FkZWRBbGw6ZnVuY3Rpb24oKXtxLnBhcnNlTmV4dCgpfX0scj1uZXcgcChvLmxvYWRlZC5iaW5kKG8pLG8ubG9hZGVkQWxsLmJpbmQobykpO3ZhciBzPXtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gSFRNTEltcG9ydHMuY3VycmVudFNjcmlwdHx8ZG9jdW1lbnQuY3VycmVudFNjcmlwdH0sY29uZmlndXJhYmxlOiEwfTtpZihPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsIl9jdXJyZW50U2NyaXB0IixzKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX2N1cnJlbnRTY3JpcHQiLHMpLCFkb2N1bWVudC5iYXNlVVJJKXt2YXIgdD17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5ocmVmfSxjb25maWd1cmFibGU6ITB9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShkb2N1bWVudCwiYmFzZVVSSSIsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sImJhc2VVUkkiLHQpfXZhciB1PUhUTUxJbXBvcnRzLmlzSUU/ImNvbXBsZXRlIjoiaW50ZXJhY3RpdmUiLHY9InJlYWR5c3RhdGVjaGFuZ2UiO2EuaGFzTmF0aXZlPWosYS51c2VOYXRpdmU9ayxhLmltcG9ydGVyPW8sYS53aGVuSW1wb3J0c1JlYWR5PWUsYS5JTVBPUlRfTElOS19UWVBFPW0sYS5pc0ltcG9ydExvYWRlZD1pLGEuaW1wb3J0TG9hZGVyPXJ9KHdpbmRvdy5IVE1MSW1wb3J0cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtmb3IodmFyIGIsZD0wLGU9YS5sZW5ndGg7ZT5kJiYoYj1hW2RdKTtkKyspImNoaWxkTGlzdCI9PT1iLnR5cGUmJmIuYWRkZWROb2Rlcy5sZW5ndGgmJmMoYi5hZGRlZE5vZGVzKX1mdW5jdGlvbiBjKGEpe2Zvcih2YXIgYixlPTAsZz1hLmxlbmd0aDtnPmUmJihiPWFbZV0pO2UrKylkKGIpJiZmLmxvYWROb2RlKGIpLGIuY2hpbGRyZW4mJmIuY2hpbGRyZW4ubGVuZ3RoJiZjKGIuY2hpbGRyZW4pfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlJiZnLmNhbGwoYSxmLmxvYWRTZWxlY3RvcnNGb3JOb2RlKGEpKX1mdW5jdGlvbiBlKGEpe2gub2JzZXJ2ZShhLHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pfXZhciBmPShhLklNUE9SVF9MSU5LX1RZUEUsYS5pbXBvcnRlciksZz1IVE1MRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlc3x8SFRNTEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXNTZWxlY3Rvcnx8SFRNTEVsZW1lbnQucHJvdG90eXBlLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8SFRNTEVsZW1lbnQucHJvdG90eXBlLm1vek1hdGNoZXNTZWxlY3Rvcnx8SFRNTEVsZW1lbnQucHJvdG90eXBlLm1zTWF0Y2hlc1NlbGVjdG9yLGg9bmV3IE11dGF0aW9uT2JzZXJ2ZXIoYik7YS5vYnNlcnZlPWUsZi5vYnNlcnZlPWV9KEhUTUxJbXBvcnRzKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtIVE1MSW1wb3J0cy5pbXBvcnRlci5ib290RG9jdW1lbnQoYil9ImZ1bmN0aW9uIiE9dHlwZW9mIHdpbmRvdy5DdXN0b21FdmVudCYmKHdpbmRvdy5DdXN0b21FdmVudD1mdW5jdGlvbihhLGIpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJIVE1MRXZlbnRzIik7cmV0dXJuIGMuaW5pdEV2ZW50KGEsYi5idWJibGVzPT09ITE/ITE6ITAsYi5jYW5jZWxhYmxlPT09ITE/ITE6ITAsYi5kZXRhaWwpLGN9KTt2YXIgYj13aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChkb2N1bWVudCk6ZG9jdW1lbnQ7SFRNTEltcG9ydHMud2hlbkltcG9ydHNSZWFkeShmdW5jdGlvbigpe0hUTUxJbXBvcnRzLnJlYWR5PSEwLEhUTUxJbXBvcnRzLnJlYWR5VGltZT0obmV3IERhdGUpLmdldFRpbWUoKSxiLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJIVE1MSW1wb3J0c0xvYWRlZCIse2J1YmJsZXM6ITB9KSl9KSxIVE1MSW1wb3J0cy51c2VOYXRpdmV8fCgiY29tcGxldGUiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZXx8ImludGVyYWN0aXZlIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJiF3aW5kb3cuYXR0YWNoRXZlbnQ/YSgpOmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGEpKX0oKSx3aW5kb3cuQ3VzdG9tRWxlbWVudHM9d2luZG93LkN1c3RvbUVsZW1lbnRzfHx7ZmxhZ3M6e319LGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxjLGQpe3ZhciBlPWEuZmlyc3RFbGVtZW50Q2hpbGQ7aWYoIWUpZm9yKGU9YS5maXJzdENoaWxkO2UmJmUubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERTspZT1lLm5leHRTaWJsaW5nO2Zvcig7ZTspYyhlLGQpIT09ITAmJmIoZSxjLGQpLGU9ZS5uZXh0RWxlbWVudFNpYmxpbmc7cmV0dXJuIG51bGx9ZnVuY3Rpb24gYyhhLGIpe2Zvcih2YXIgYz1hLnNoYWRvd1Jvb3Q7YzspZChjLGIpLGM9Yy5vbGRlclNoYWRvd1Jvb3R9ZnVuY3Rpb24gZChhLGQpe2IoYSxmdW5jdGlvbihhKXtyZXR1cm4gZChhKT8hMDp2b2lkIGMoYSxkKX0pLGMoYSxkKX1mdW5jdGlvbiBlKGEpe3JldHVybiBoKGEpPyhpKGEpLCEwKTp2b2lkIGwoYSl9ZnVuY3Rpb24gZihhKXtkKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGUoYSk/ITA6dm9pZCAwfSl9ZnVuY3Rpb24gZyhhKXtyZXR1cm4gZShhKXx8ZihhKX1mdW5jdGlvbiBoKGIpe2lmKCFiLl9fdXBncmFkZWRfXyYmYi5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFKXt2YXIgYz1iLmdldEF0dHJpYnV0ZSgiaXMiKXx8Yi5sb2NhbE5hbWUsZD1hLnJlZ2lzdHJ5W2NdO2lmKGQpcmV0dXJuIEEuZG9tJiZjb25zb2xlLmdyb3VwKCJ1cGdyYWRlOiIsYi5sb2NhbE5hbWUpLGEudXBncmFkZShiKSxBLmRvbSYmY29uc29sZS5ncm91cEVuZCgpLCEwfX1mdW5jdGlvbiBpKGEpe2woYSkscihhKSYmZChhLGZ1bmN0aW9uKGEpe2woYSl9KX1mdW5jdGlvbiBqKGEpe2lmKEUucHVzaChhKSwhRCl7RD0hMDt2YXIgYj13aW5kb3cuUGxhdGZvcm0mJndpbmRvdy5QbGF0Zm9ybS5lbmRPZk1pY3JvdGFza3x8c2V0VGltZW91dDtiKGspfX1mdW5jdGlvbiBrKCl7RD0hMTtmb3IodmFyIGEsYj1FLGM9MCxkPWIubGVuZ3RoO2Q+YyYmKGE9YltjXSk7YysrKWEoKTtFPVtdfWZ1bmN0aW9uIGwoYSl7Qz9qKGZ1bmN0aW9uKCl7bShhKX0pOm0oYSl9ZnVuY3Rpb24gbShhKXsoYS5hdHRhY2hlZENhbGxiYWNrfHxhLmRldGFjaGVkQ2FsbGJhY2t8fGEuX191cGdyYWRlZF9fJiZBLmRvbSkmJihBLmRvbSYmY29uc29sZS5ncm91cCgiaW5zZXJ0ZWQ6IixhLmxvY2FsTmFtZSkscihhKSYmKGEuX19pbnNlcnRlZD0oYS5fX2luc2VydGVkfHwwKSsxLGEuX19pbnNlcnRlZDwxJiYoYS5fX2luc2VydGVkPTEpLGEuX19pbnNlcnRlZD4xP0EuZG9tJiZjb25zb2xlLndhcm4oImluc2VydGVkOiIsYS5sb2NhbE5hbWUsImluc2VydC9yZW1vdmUgY291bnQ6IixhLl9faW5zZXJ0ZWQpOmEuYXR0YWNoZWRDYWxsYmFjayYmKEEuZG9tJiZjb25zb2xlLmxvZygiaW5zZXJ0ZWQ6IixhLmxvY2FsTmFtZSksYS5hdHRhY2hlZENhbGxiYWNrKCkpKSxBLmRvbSYmY29uc29sZS5ncm91cEVuZCgpKX1mdW5jdGlvbiBuKGEpe28oYSksZChhLGZ1bmN0aW9uKGEpe28oYSl9KX1mdW5jdGlvbiBvKGEpe0M/aihmdW5jdGlvbigpe3AoYSl9KTpwKGEpfWZ1bmN0aW9uIHAoYSl7KGEuYXR0YWNoZWRDYWxsYmFja3x8YS5kZXRhY2hlZENhbGxiYWNrfHxhLl9fdXBncmFkZWRfXyYmQS5kb20pJiYoQS5kb20mJmNvbnNvbGUuZ3JvdXAoInJlbW92ZWQ6IixhLmxvY2FsTmFtZSkscihhKXx8KGEuX19pbnNlcnRlZD0oYS5fX2luc2VydGVkfHwwKS0xLGEuX19pbnNlcnRlZD4wJiYoYS5fX2luc2VydGVkPTApLGEuX19pbnNlcnRlZDwwP0EuZG9tJiZjb25zb2xlLndhcm4oInJlbW92ZWQ6IixhLmxvY2FsTmFtZSwiaW5zZXJ0L3JlbW92ZSBjb3VudDoiLGEuX19pbnNlcnRlZCk6YS5kZXRhY2hlZENhbGxiYWNrJiZhLmRldGFjaGVkQ2FsbGJhY2soKSksQS5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSl9ZnVuY3Rpb24gcShhKXtyZXR1cm4gd2luZG93LlNoYWRvd0RPTVBvbHlmaWxsP1NoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChhKTphfWZ1bmN0aW9uIHIoYSl7Zm9yKHZhciBiPWEsYz1xKGRvY3VtZW50KTtiOyl7aWYoYj09YylyZXR1cm4hMDtiPWIucGFyZW50Tm9kZXx8Yi5ob3N0fX1mdW5jdGlvbiBzKGEpe2lmKGEuc2hhZG93Um9vdCYmIWEuc2hhZG93Um9vdC5fX3dhdGNoZWQpe0EuZG9tJiZjb25zb2xlLmxvZygid2F0Y2hpbmcgc2hhZG93LXJvb3QgZm9yOiAiLGEubG9jYWxOYW1lKTtmb3IodmFyIGI9YS5zaGFkb3dSb290O2I7KXQoYiksYj1iLm9sZGVyU2hhZG93Um9vdH19ZnVuY3Rpb24gdChhKXthLl9fd2F0Y2hlZHx8KHcoYSksYS5fX3dhdGNoZWQ9ITApfWZ1bmN0aW9uIHUoYSl7aWYoQS5kb20pe3ZhciBiPWFbMF07aWYoYiYmImNoaWxkTGlzdCI9PT1iLnR5cGUmJmIuYWRkZWROb2RlcyYmYi5hZGRlZE5vZGVzKXtmb3IodmFyIGM9Yi5hZGRlZE5vZGVzWzBdO2MmJmMhPT1kb2N1bWVudCYmIWMuaG9zdDspYz1jLnBhcmVudE5vZGU7dmFyIGQ9YyYmKGMuVVJMfHxjLl9VUkx8fGMuaG9zdCYmYy5ob3N0LmxvY2FsTmFtZSl8fCIiO2Q9ZC5zcGxpdCgiLz8iKS5zaGlmdCgpLnNwbGl0KCIvIikucG9wKCl9Y29uc29sZS5ncm91cCgibXV0YXRpb25zICglZCkgWyVzXSIsYS5sZW5ndGgsZHx8IiIpfWEuZm9yRWFjaChmdW5jdGlvbihhKXsiY2hpbGRMaXN0Ij09PWEudHlwZSYmKEcoYS5hZGRlZE5vZGVzLGZ1bmN0aW9uKGEpe2EubG9jYWxOYW1lJiZnKGEpfSksRyhhLnJlbW92ZWROb2RlcyxmdW5jdGlvbihhKXthLmxvY2FsTmFtZSYmbihhKX0pKX0pLEEuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCl9ZnVuY3Rpb24gdigpe3UoRi50YWtlUmVjb3JkcygpKSxrKCl9ZnVuY3Rpb24gdyhhKXtGLm9ic2VydmUoYSx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KX1mdW5jdGlvbiB4KGEpe3coYSl9ZnVuY3Rpb24geShhKXtBLmRvbSYmY29uc29sZS5ncm91cCgidXBncmFkZURvY3VtZW50OiAiLGEuYmFzZVVSSS5zcGxpdCgiLyIpLnBvcCgpKSxnKGEpLEEuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCl9ZnVuY3Rpb24geihhKXthPXEoYSk7Zm9yKHZhciBiLGM9YS5xdWVyeVNlbGVjdG9yQWxsKCJsaW5rW3JlbD0iK0IrIl0iKSxkPTAsZT1jLmxlbmd0aDtlPmQmJihiPWNbZF0pO2QrKyliLmltcG9ydCYmYi5pbXBvcnQuX19wYXJzZWQmJnooYi5pbXBvcnQpO3koYSl9dmFyIEE9d2luZG93LmxvZ0ZsYWdzfHx7fSxCPXdpbmRvdy5IVE1MSW1wb3J0cz9IVE1MSW1wb3J0cy5JTVBPUlRfTElOS19UWVBFOiJub25lIixDPSF3aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXI9PT13aW5kb3cuSnNNdXRhdGlvbk9ic2VydmVyO2EuaGFzUG9seWZpbGxNdXRhdGlvbnM9Qzt2YXIgRD0hMSxFPVtdLEY9bmV3IE11dGF0aW9uT2JzZXJ2ZXIodSksRz1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpO2EuSU1QT1JUX0xJTktfVFlQRT1CLGEud2F0Y2hTaGFkb3c9cyxhLnVwZ3JhZGVEb2N1bWVudFRyZWU9eixhLnVwZ3JhZGVBbGw9ZyxhLnVwZ3JhZGVTdWJ0cmVlPWYsYS5pbnNlcnRlZE5vZGU9aSxhLm9ic2VydmVEb2N1bWVudD14LGEudXBncmFkZURvY3VtZW50PXksYS50YWtlUmVjb3Jkcz12fSh3aW5kb3cuQ3VzdG9tRWxlbWVudHMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYixmKXt2YXIgZz1mfHx7fTtpZighYil0aHJvdyBuZXcgRXJyb3IoImRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudDogZmlyc3QgYXJndW1lbnQgYG5hbWVgIG11c3Qgbm90IGJlIGVtcHR5Iik7aWYoYi5pbmRleE9mKCItIik8MCl0aHJvdyBuZXcgRXJyb3IoImRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudDogZmlyc3QgYXJndW1lbnQgKCduYW1lJykgbXVzdCBjb250YWluIGEgZGFzaCAoJy0nKS4gQXJndW1lbnQgcHJvdmlkZWQgd2FzICciK1N0cmluZyhiKSsiJy4iKTtpZihtKGIpKXRocm93IG5ldyBFcnJvcigiRHVwbGljYXRlRGVmaW5pdGlvbkVycm9yOiBhIHR5cGUgd2l0aCBuYW1lICciK1N0cmluZyhiKSsiJyBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQiKTtpZighZy5wcm90b3R5cGUpdGhyb3cgbmV3IEVycm9yKCJPcHRpb25zIG1pc3NpbmcgcmVxdWlyZWQgcHJvdG90eXBlIHByb3BlcnR5Iik7cmV0dXJuIGcuX19uYW1lPWIudG9Mb3dlckNhc2UoKSxnLmxpZmVjeWNsZT1nLmxpZmVjeWNsZXx8e30sZy5hbmNlc3RyeT1jKGcuZXh0ZW5kcyksZChnKSxlKGcpLGsoZy5wcm90b3R5cGUpLG4oZy5fX25hbWUsZyksZy5jdG9yPW8oZyksZy5jdG9yLnByb3RvdHlwZT1nLnByb3RvdHlwZSxnLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1nLmN0b3IsYS5yZWFkeSYmYS51cGdyYWRlRG9jdW1lbnRUcmVlKGRvY3VtZW50KSxnLmN0b3J9ZnVuY3Rpb24gYyhhKXt2YXIgYj1tKGEpO3JldHVybiBiP2MoYi5leHRlbmRzKS5jb25jYXQoW2JdKTpbXX1mdW5jdGlvbiBkKGEpe2Zvcih2YXIgYixjPWEuZXh0ZW5kcyxkPTA7Yj1hLmFuY2VzdHJ5W2RdO2QrKyljPWIuaXMmJmIudGFnO2EudGFnPWN8fGEuX19uYW1lLGMmJihhLmlzPWEuX19uYW1lKX1mdW5jdGlvbiBlKGEpe2lmKCFPYmplY3QuX19wcm90b19fKXt2YXIgYj1IVE1MRWxlbWVudC5wcm90b3R5cGU7aWYoYS5pcyl7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhLnRhZyk7Yj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoYyl9Zm9yKHZhciBkLGU9YS5wcm90b3R5cGU7ZSYmZSE9PWI7KXt2YXIgZD1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7ZS5fX3Byb3RvX189ZCxlPWR9fWEubmF0aXZlPWJ9ZnVuY3Rpb24gZihhKXtyZXR1cm4gZyh6KGEudGFnKSxhKX1mdW5jdGlvbiBnKGIsYyl7cmV0dXJuIGMuaXMmJmIuc2V0QXR0cmlidXRlKCJpcyIsYy5pcyksYi5yZW1vdmVBdHRyaWJ1dGUoInVucmVzb2x2ZWQiKSxoKGIsYyksYi5fX3VwZ3JhZGVkX189ITAsaihiKSxhLmluc2VydGVkTm9kZShiKSxhLnVwZ3JhZGVTdWJ0cmVlKGIpLGJ9ZnVuY3Rpb24gaChhLGIpe09iamVjdC5fX3Byb3RvX18/YS5fX3Byb3RvX189Yi5wcm90b3R5cGU6KGkoYSxiLnByb3RvdHlwZSxiLm5hdGl2ZSksYS5fX3Byb3RvX189Yi5wcm90b3R5cGUpfWZ1bmN0aW9uIGkoYSxiLGMpe2Zvcih2YXIgZD17fSxlPWI7ZSE9PWMmJmUhPT1IVE1MRWxlbWVudC5wcm90b3R5cGU7KXtmb3IodmFyIGYsZz1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKSxoPTA7Zj1nW2hdO2grKylkW2ZdfHwoT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsZixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsZikpLGRbZl09MSk7ZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9fWZ1bmN0aW9uIGooYSl7YS5jcmVhdGVkQ2FsbGJhY2smJmEuY3JlYXRlZENhbGxiYWNrKCl9ZnVuY3Rpb24gayhhKXtpZighYS5zZXRBdHRyaWJ1dGUuX3BvbHlmaWxsZWQpe3ZhciBiPWEuc2V0QXR0cmlidXRlO2Euc2V0QXR0cmlidXRlPWZ1bmN0aW9uKGEsYyl7bC5jYWxsKHRoaXMsYSxjLGIpfTt2YXIgYz1hLnJlbW92ZUF0dHJpYnV0ZTthLnJlbW92ZUF0dHJpYnV0ZT1mdW5jdGlvbihhKXtsLmNhbGwodGhpcyxhLG51bGwsYyl9LGEuc2V0QXR0cmlidXRlLl9wb2x5ZmlsbGVkPSEwfX1mdW5jdGlvbiBsKGEsYixjKXt2YXIgZD10aGlzLmdldEF0dHJpYnV0ZShhKTtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZT10aGlzLmdldEF0dHJpYnV0ZShhKTt0aGlzLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayYmZSE9PWQmJnRoaXMuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGEsZCxlKX1mdW5jdGlvbiBtKGEpe3JldHVybiBhP3hbYS50b0xvd2VyQ2FzZSgpXTp2b2lkIDB9ZnVuY3Rpb24gbihhLGIpe3hbYV09Yn1mdW5jdGlvbiBvKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBmKGEpfX1mdW5jdGlvbiBwKGEsYixjKXtyZXR1cm4gYT09PXk/cShiLGMpOkEoYSxiKX1mdW5jdGlvbiBxKGEsYil7dmFyIGM9bShifHxhKTtpZihjKXtpZihhPT1jLnRhZyYmYj09Yy5pcylyZXR1cm4gbmV3IGMuY3RvcjtpZighYiYmIWMuaXMpcmV0dXJuIG5ldyBjLmN0b3J9aWYoYil7dmFyIGQ9cShhKTtyZXR1cm4gZC5zZXRBdHRyaWJ1dGUoImlzIixiKSxkfXZhciBkPXooYSk7cmV0dXJuIGEuaW5kZXhPZigiLSIpPj0wJiZoKGQsSFRNTEVsZW1lbnQpLGR9ZnVuY3Rpb24gcihhKXtpZighYS5fX3VwZ3JhZGVkX18mJmEubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl7dmFyIGI9YS5nZXRBdHRyaWJ1dGUoImlzIiksYz1tKGJ8fGEubG9jYWxOYW1lKTtpZihjKXtpZihiJiZjLnRhZz09YS5sb2NhbE5hbWUpcmV0dXJuIGcoYSxjKTtpZighYiYmIWMuZXh0ZW5kcylyZXR1cm4gZyhhLGMpfX19ZnVuY3Rpb24gcyhiKXt2YXIgYz1CLmNhbGwodGhpcyxiKTtyZXR1cm4gYS51cGdyYWRlQWxsKGMpLGN9YXx8KGE9d2luZG93LkN1c3RvbUVsZW1lbnRzPXtmbGFnczp7fX0pO3ZhciB0PWEuZmxhZ3MsdT1Cb29sZWFuKGRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCksdj0hdC5yZWdpc3RlciYmdSYmIXdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbDtpZih2KXt2YXIgdz1mdW5jdGlvbigpe307YS5yZWdpc3RyeT17fSxhLnVwZ3JhZGVFbGVtZW50PXcsYS53YXRjaFNoYWRvdz13LGEudXBncmFkZT13LGEudXBncmFkZUFsbD13LGEudXBncmFkZVN1YnRyZWU9dyxhLm9ic2VydmVEb2N1bWVudD13LGEudXBncmFkZURvY3VtZW50PXcsYS51cGdyYWRlRG9jdW1lbnRUcmVlPXcsYS50YWtlUmVjb3Jkcz13fWVsc2V7dmFyIHg9e30seT0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIsej1kb2N1bWVudC5jcmVhdGVFbGVtZW50LmJpbmQoZG9jdW1lbnQpLEE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TLmJpbmQoZG9jdW1lbnQpLEI9Tm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlO2RvY3VtZW50LnJlZ2lzdGVyRWxlbWVudD1iLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQ9cSxkb2N1bWVudC5jcmVhdGVFbGVtZW50TlM9cCxOb2RlLnByb3RvdHlwZS5jbG9uZU5vZGU9cyxhLnJlZ2lzdHJ5PXgsYS51cGdyYWRlPXJ9dmFyIEM7Qz1PYmplY3QuX19wcm90b19ffHx2P2Z1bmN0aW9uKGEsYil7cmV0dXJuIGEgaW5zdGFuY2VvZiBifTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1hO2M7KXtpZihjPT09Yi5wcm90b3R5cGUpcmV0dXJuITA7Yz1jLl9fcHJvdG9fX31yZXR1cm4hMX0sYS5pbnN0YW5jZW9mPUMsZG9jdW1lbnQucmVnaXN0ZXI9ZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50LGEuaGFzTmF0aXZlPXUsYS51c2VOYXRpdmU9dn0od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiJsaW5rIj09PWEubG9jYWxOYW1lJiZhLmdldEF0dHJpYnV0ZSgicmVsIik9PT1jfXZhciBjPWEuSU1QT1JUX0xJTktfVFlQRSxkPXtzZWxlY3RvcnM6WyJsaW5rW3JlbD0iK2MrIl0iXSxtYXA6e2xpbms6InBhcnNlTGluayJ9LHBhcnNlOmZ1bmN0aW9uKGEpe2lmKCFhLl9fcGFyc2VkKXthLl9fcGFyc2VkPSEwO3ZhciBiPWEucXVlcnlTZWxlY3RvckFsbChkLnNlbGVjdG9ycyk7ZShiLGZ1bmN0aW9uKGEpe2RbZC5tYXBbYS5sb2NhbE5hbWVdXShhKX0pLEN1c3RvbUVsZW1lbnRzLnVwZ3JhZGVEb2N1bWVudChhKSxDdXN0b21FbGVtZW50cy5vYnNlcnZlRG9jdW1lbnQoYSl9fSxwYXJzZUxpbms6ZnVuY3Rpb24oYSl7YihhKSYmdGhpcy5wYXJzZUltcG9ydChhKX0scGFyc2VJbXBvcnQ6ZnVuY3Rpb24oYSl7YS5pbXBvcnQmJmQucGFyc2UoYS5pbXBvcnQpfX0sZT1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpO2EucGFyc2VyPWQsYS5JTVBPUlRfTElOS19UWVBFPWN9KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe0N1c3RvbUVsZW1lbnRzLnBhcnNlci5wYXJzZShkb2N1bWVudCksQ3VzdG9tRWxlbWVudHMudXBncmFkZURvY3VtZW50KGRvY3VtZW50KTt2YXIgYT13aW5kb3cuUGxhdGZvcm0mJlBsYXRmb3JtLmVuZE9mTWljcm90YXNrP1BsYXRmb3JtLmVuZE9mTWljcm90YXNrOnNldFRpbWVvdXQ7YShmdW5jdGlvbigpe0N1c3RvbUVsZW1lbnRzLnJlYWR5PSEwLEN1c3RvbUVsZW1lbnRzLnJlYWR5VGltZT1EYXRlLm5vdygpLHdpbmRvdy5IVE1MSW1wb3J0cyYmKEN1c3RvbUVsZW1lbnRzLmVsYXBzZWQ9Q3VzdG9tRWxlbWVudHMucmVhZHlUaW1lLUhUTUxJbXBvcnRzLnJlYWR5VGltZSksZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoIldlYkNvbXBvbmVudHNSZWFkeSIse2J1YmJsZXM6ITB9KSksd2luZG93LkhUTUxJbXBvcnRzJiYoSFRNTEltcG9ydHMuX19pbXBvcnRzUGFyc2luZ0hvb2s9ZnVuY3Rpb24oYSl7Q3VzdG9tRWxlbWVudHMucGFyc2VyLnBhcnNlKGEuaW1wb3J0KX0pfSl9aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHdpbmRvdy5DdXN0b21FdmVudCYmKHdpbmRvdy5DdXN0b21FdmVudD1mdW5jdGlvbihhKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFdmVudCgiSFRNTEV2ZW50cyIpO3JldHVybiBiLmluaXRFdmVudChhLCEwLCEwKSxifSksImNvbXBsZXRlIj09PWRvY3VtZW50LnJlYWR5U3RhdGV8fGEuZmxhZ3MuZWFnZXIpYigpO2Vsc2UgaWYoImludGVyYWN0aXZlIiE9PWRvY3VtZW50LnJlYWR5U3RhdGV8fHdpbmRvdy5hdHRhY2hFdmVudHx8d2luZG93LkhUTUxJbXBvcnRzJiYhd2luZG93LkhUTUxJbXBvcnRzLnJlYWR5KXt2YXIgYz13aW5kb3cuSFRNTEltcG9ydHMmJiFIVE1MSW1wb3J0cy5yZWFkeT8iSFRNTEltcG9ydHNMb2FkZWQiOiJET01Db250ZW50TG9hZGVkIjt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihjLGIpfWVsc2UgYigpfSh3aW5kb3cuQ3VzdG9tRWxlbWVudHMpLGZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTthLnRleHRDb250ZW50PSJlbGVtZW50IHtkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7fSAvKiBpbmplY3RlZCBieSBwbGF0Zm9ybS5qcyAqLyI7dmFyIGI9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaGVhZCIpO2lmKGIuaW5zZXJ0QmVmb3JlKGEsYi5maXJzdENoaWxkKSx3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpe3ZhciBjPVsidXBncmFkZUFsbCIsInVwZ3JhZGVTdWJ0cmVlIiwib2JzZXJ2ZURvY3VtZW50IiwidXBncmFkZURvY3VtZW50Il0sZD17fTtjLmZvckVhY2goZnVuY3Rpb24oYSl7ZFthXT1DdXN0b21FbGVtZW50c1thXX0pLGMuZm9yRWFjaChmdW5jdGlvbihhKXtDdXN0b21FbGVtZW50c1thXT1mdW5jdGlvbihiKXtyZXR1cm4gZFthXSh3cmFwKGIpKX19KX19KCksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXt0aGlzLnJlZ2V4PWF9dmFyIGM9YS5lbmRPZk1pY3JvdGFzaztiLnByb3RvdHlwZT17ZXh0cmFjdFVybHM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZCxlPVtdO2M9dGhpcy5yZWdleC5leGVjKGEpOylkPW5ldyBVUkwoY1sxXSxiKSxlLnB1c2goe21hdGNoZWQ6Y1swXSx1cmw6ZC5ocmVmfSk7cmV0dXJuIGV9LHByb2Nlc3M6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZXh0cmFjdFVybHMoYSxiKTt0aGlzLmZldGNoKGQse30sYyl9LGZldGNoOmZ1bmN0aW9uKGEsYixkKXt2YXIgZT1hLmxlbmd0aDtpZighZSlyZXR1cm4gZChiKTtmb3IodmFyIGYsZyxoLGk9ZnVuY3Rpb24oKXswPT09LS1lJiZkKGIpfSxqPWZ1bmN0aW9uKGEsYyl7dmFyIGQ9Yy5tYXRjaCxlPWQudXJsO2lmKGEpcmV0dXJuIGJbZV09IiIsaSgpO3ZhciBmPWMucmVzcG9uc2V8fGMucmVzcG9uc2VUZXh0O2JbZV09Zix0aGlzLmZldGNoKHRoaXMuZXh0cmFjdFVybHMoZixlKSxiLGkpfSxrPTA7ZT5rO2srKylmPWFba10saD1mLnVybCxiW2hdP2MoaSk6KGc9dGhpcy54aHIoaCxqLHRoaXMpLGcubWF0Y2g9ZixiW2hdPWcpfSx4aHI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4gZC5vcGVuKCJHRVQiLGEsITApLGQuc2VuZCgpLGQub25sb2FkPWZ1bmN0aW9uKCl7Yi5jYWxsKGMsbnVsbCxkKX0sZC5vbmVycm9yPWZ1bmN0aW9uKCl7Yi5jYWxsKGMsbnVsbCxkKX0sZH19LGEuTG9hZGVyPWJ9KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3RoaXMubG9hZGVyPW5ldyBkKHRoaXMucmVnZXgpfXZhciBjPWEudXJsUmVzb2x2ZXIsZD1hLkxvYWRlcjtiLnByb3RvdHlwZT17cmVnZXg6L0BpbXBvcnRccysoPzp1cmwpP1siJ1woXSooW14nIlwpXSopWyciXCldKjsvZyxyZXNvbHZlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihkKXtjKHRoaXMuZmxhdHRlbihhLGIsZCkpfS5iaW5kKHRoaXMpO3RoaXMubG9hZGVyLnByb2Nlc3MoYSxiLGQpfSxyZXNvbHZlTm9kZTpmdW5jdGlvbihhLGIpe3ZhciBjPWEudGV4dENvbnRlbnQsZD1hLm93bmVyRG9jdW1lbnQuYmFzZVVSSSxlPWZ1bmN0aW9uKGMpe2EudGV4dENvbnRlbnQ9YyxiKGEpfTt0aGlzLnJlc29sdmUoYyxkLGUpfSxmbGF0dGVuOmZ1bmN0aW9uKGEsYixkKXtmb3IodmFyIGUsZixnLGg9dGhpcy5sb2FkZXIuZXh0cmFjdFVybHMoYSxiKSxpPTA7aTxoLmxlbmd0aDtpKyspZT1oW2ldLGY9ZS51cmwsZz1jLnJlc29sdmVDc3NUZXh0KGRbZl0sZiksZz10aGlzLmZsYXR0ZW4oZyxmLGQpLGE9YS5yZXBsYWNlKGUubWF0Y2hlZCxnKTtyZXR1cm4gYX0sbG9hZFN0eWxlczpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXtlKyssZT09PWYmJmImJmIoKX1mb3IodmFyIGQsZT0wLGY9YS5sZW5ndGgsZz0wO2Y+ZyYmKGQ9YVtnXSk7ZysrKXRoaXMucmVzb2x2ZU5vZGUoZCxjKX19O3ZhciBlPW5ldyBiO2Euc3R5bGVSZXNvbHZlcj1lfSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2E9YXx8e30sYS5leHRlcm5hbD1hLmV4dGVybmFsfHx7fTt2YXIgYj17c2hhZG93OmZ1bmN0aW9uKGEpe3JldHVybiBhP2Euc2hhZG93Um9vdHx8YS53ZWJraXRTaGFkb3dSb290OnZvaWQgMH0sY2FuVGFyZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhJiZCb29sZWFuKGEuZWxlbWVudEZyb21Qb2ludCl9LHRhcmdldGluZ1NoYWRvdzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnNoYWRvdyhhKTtyZXR1cm4gdGhpcy5jYW5UYXJnZXQoYik/Yjp2b2lkIDB9LG9sZGVyU2hhZG93OmZ1bmN0aW9uKGEpe3ZhciBiPWEub2xkZXJTaGFkb3dSb290O2lmKCFiKXt2YXIgYz1hLnF1ZXJ5U2VsZWN0b3IoInNoYWRvdyIpO2MmJihiPWMub2xkZXJTaGFkb3dSb290KX1yZXR1cm4gYn0sYWxsU2hhZG93czpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz10aGlzLnNoYWRvdyhhKTtjOyliLnB1c2goYyksYz10aGlzLm9sZGVyU2hhZG93KGMpO3JldHVybiBifSxzZWFyY2hSb290OmZ1bmN0aW9uKGEsYixjKXtpZihhKXt2YXIgZCxlLGY9YS5lbGVtZW50RnJvbVBvaW50KGIsYyk7Zm9yKGU9dGhpcy50YXJnZXRpbmdTaGFkb3coZik7ZTspe2lmKGQ9ZS5lbGVtZW50RnJvbVBvaW50KGIsYykpe3ZhciBnPXRoaXMudGFyZ2V0aW5nU2hhZG93KGQpO3JldHVybiB0aGlzLnNlYXJjaFJvb3QoZyxiLGMpfHxkfWU9dGhpcy5vbGRlclNoYWRvdyhlKX1yZXR1cm4gZn19LG93bmVyOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hO2IucGFyZW50Tm9kZTspYj1iLnBhcmVudE5vZGU7cmV0dXJuIGIubm9kZVR5cGUhPU5vZGUuRE9DVU1FTlRfTk9ERSYmYi5ub2RlVHlwZSE9Tm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFJiYoYj1kb2N1bWVudCksYn0sZmluZFRhcmdldDpmdW5jdGlvbihhKXt2YXIgYj1hLmNsaWVudFgsYz1hLmNsaWVudFksZD10aGlzLm93bmVyKGEudGFyZ2V0KTtyZXR1cm4gZC5lbGVtZW50RnJvbVBvaW50KGIsYyl8fChkPWRvY3VtZW50KSx0aGlzLnNlYXJjaFJvb3QoZCxiLGMpfX07YS50YXJnZXRGaW5kaW5nPWIsYS5maW5kVGFyZ2V0PWIuZmluZFRhcmdldC5iaW5kKGIpLHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGw9YX0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybiJib2R5IF5eICIrYihhKX1mdW5jdGlvbiBiKGEpe3JldHVybidbdG91Y2gtYWN0aW9uPSInK2ErJyJdJ31mdW5jdGlvbiBjKGEpe3JldHVybiJ7IC1tcy10b3VjaC1hY3Rpb246ICIrYSsiOyB0b3VjaC1hY3Rpb246ICIrYSsiOyB0b3VjaC1hY3Rpb24tZGVsYXk6IG5vbmU7IH0ifXZhciBkPVsibm9uZSIsImF1dG8iLCJwYW4teCIsInBhbi15Iix7cnVsZToicGFuLXggcGFuLXkiLHNlbGVjdG9yczpbInBhbi14IHBhbi15IiwicGFuLXkgcGFuLXgiXX1dLGU9IiI7ZC5mb3JFYWNoKGZ1bmN0aW9uKGQpe1N0cmluZyhkKT09PWQ/KGUrPWIoZCkrYyhkKSsiXG4iLGUrPWEoZCkrYyhkKSsiXG4iKTooZSs9ZC5zZWxlY3RvcnMubWFwKGIpK2MoZC5ydWxlKSsiXG4iLGUrPWQuc2VsZWN0b3JzLm1hcChhKStjKGQucnVsZSkrIlxuIil9KTt2YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2YudGV4dENvbnRlbnQ9ZSxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGYpfSgpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxlKXtlPWV8fHt9O3ZhciBmO2lmKGUuYnV0dG9uc3x8ZClmPWUuYnV0dG9ucztlbHNlIHN3aXRjaChlLndoaWNoKXtjYXNlIDE6Zj0xO2JyZWFrO2Nhc2UgMjpmPTQ7YnJlYWs7Y2FzZSAzOmY9MjticmVhaztkZWZhdWx0OmY9MH12YXIgaTtpZihjKWk9bmV3IE1vdXNlRXZlbnQoYSxlKTtlbHNle2k9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIk1vdXNlRXZlbnQiKTtmb3IodmFyIGosaz17fSxsPTA7bDxnLmxlbmd0aDtsKyspaj1nW2xdLGtbal09ZVtqXXx8aFtsXTtpLmluaXRNb3VzZUV2ZW50KGEsay5idWJibGVzLGsuY2FuY2VsYWJsZSxrLnZpZXcsay5kZXRhaWwsay5zY3JlZW5YLGsuc2NyZWVuWSxrLmNsaWVudFgsay5jbGllbnRZLGsuY3RybEtleSxrLmFsdEtleSxrLnNoaWZ0S2V5LGsubWV0YUtleSxrLmJ1dHRvbixrLnJlbGF0ZWRUYXJnZXQpfWkuX19wcm90b19fPWIucHJvdG90eXBlLGR8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJidXR0b25zIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZ9LGVudW1lcmFibGU6ITB9KTt2YXIgbT0wO3JldHVybiBtPWUucHJlc3N1cmU/ZS5wcmVzc3VyZTpmPy41OjAsT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaSx7cG9pbnRlcklkOnt2YWx1ZTplLnBvaW50ZXJJZHx8MCxlbnVtZXJhYmxlOiEwfSx3aWR0aDp7dmFsdWU6ZS53aWR0aHx8MCxlbnVtZXJhYmxlOiEwfSxoZWlnaHQ6e3ZhbHVlOmUuaGVpZ2h0fHwwLGVudW1lcmFibGU6ITB9LHByZXNzdXJlOnt2YWx1ZTptLGVudW1lcmFibGU6ITB9LHRpbHRYOnt2YWx1ZTplLnRpbHRYfHwwLGVudW1lcmFibGU6ITB9LHRpbHRZOnt2YWx1ZTplLnRpbHRZfHwwLGVudW1lcmFibGU6ITB9LHBvaW50ZXJUeXBlOnt2YWx1ZTplLnBvaW50ZXJUeXBlfHwiIixlbnVtZXJhYmxlOiEwfSxod1RpbWVzdGFtcDp7dmFsdWU6ZS5od1RpbWVzdGFtcHx8MCxlbnVtZXJhYmxlOiEwfSxpc1ByaW1hcnk6e3ZhbHVlOmUuaXNQcmltYXJ5fHwhMSxlbnVtZXJhYmxlOiEwfX0pLGl9dmFyIGM9ITEsZD0hMTt0cnl7dmFyIGU9bmV3IE1vdXNlRXZlbnQoImNsaWNrIix7YnV0dG9uczoxfSk7Yz0hMCxkPTE9PT1lLmJ1dHRvbnN9Y2F0Y2goZil7fXZhciBnPVsiYnViYmxlcyIsImNhbmNlbGFibGUiLCJ2aWV3IiwiZGV0YWlsIiwic2NyZWVuWCIsInNjcmVlblkiLCJjbGllbnRYIiwiY2xpZW50WSIsImN0cmxLZXkiLCJhbHRLZXkiLCJzaGlmdEtleSIsIm1ldGFLZXkiLCJidXR0b24iLCJyZWxhdGVkVGFyZ2V0Il0saD1bITEsITEsbnVsbCxudWxsLDAsMCwwLDAsITEsITEsITEsITEsMCxudWxsXTtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKE1vdXNlRXZlbnQucHJvdG90eXBlKSxhLlBvaW50ZXJFdmVudHx8KGEuUG9pbnRlckV2ZW50PWIpfSh3aW5kb3cpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtpZihjKXt2YXIgYT1uZXcgTWFwO3JldHVybiBhLnBvaW50ZXJzPWQsYX10aGlzLmtleXM9W10sdGhpcy52YWx1ZXM9W119dmFyIGM9d2luZG93Lk1hcCYmd2luZG93Lk1hcC5wcm90b3R5cGUuZm9yRWFjaCxkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2l6ZX07Yi5wcm90b3R5cGU9e3NldDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMua2V5cy5pbmRleE9mKGEpO2M+LTE/dGhpcy52YWx1ZXNbY109YjoodGhpcy5rZXlzLnB1c2goYSksdGhpcy52YWx1ZXMucHVzaChiKSl9LGhhczpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5rZXlzLmluZGV4T2YoYSk+LTF9LCJkZWxldGUiOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMua2V5cy5pbmRleE9mKGEpO2I+LTEmJih0aGlzLmtleXMuc3BsaWNlKGIsMSksdGhpcy52YWx1ZXMuc3BsaWNlKGIsMSkpfSxnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5rZXlzLmluZGV4T2YoYSk7cmV0dXJuIHRoaXMudmFsdWVzW2JdfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMua2V5cy5sZW5ndGg9MCx0aGlzLnZhbHVlcy5sZW5ndGg9MH0sZm9yRWFjaDpmdW5jdGlvbihhLGIpe3RoaXMudmFsdWVzLmZvckVhY2goZnVuY3Rpb24oYyxkKXthLmNhbGwoYixjLHRoaXMua2V5c1tkXSx0aGlzKX0sdGhpcyl9LHBvaW50ZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMua2V5cy5sZW5ndGh9fSxhLlBvaW50ZXJNYXA9Yn0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oYSl7dmFyIGI9WyJidWJibGVzIiwiY2FuY2VsYWJsZSIsInZpZXciLCJkZXRhaWwiLCJzY3JlZW5YIiwic2NyZWVuWSIsImNsaWVudFgiLCJjbGllbnRZIiwiY3RybEtleSIsImFsdEtleSIsInNoaWZ0S2V5IiwibWV0YUtleSIsImJ1dHRvbiIsInJlbGF0ZWRUYXJnZXQiLCJidXR0b25zIiwicG9pbnRlcklkIiwid2lkdGgiLCJoZWlnaHQiLCJwcmVzc3VyZSIsInRpbHRYIiwidGlsdFkiLCJwb2ludGVyVHlwZSIsImh3VGltZXN0YW1wIiwiaXNQcmltYXJ5IiwidHlwZSIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJ3aGljaCJdLGM9WyExLCExLG51bGwsbnVsbCwwLDAsMCwwLCExLCExLCExLCExLDAsbnVsbCwwLDAsMCwwLDAsMCwwLCIiLDAsITEsIiIsbnVsbCxudWxsLDBdLGQ9InVuZGVmaW5lZCIhPXR5cGVvZiBTVkdFbGVtZW50SW5zdGFuY2UsZT17dGFyZ2V0czpuZXcgV2Vha01hcCxoYW5kbGVkRXZlbnRzOm5ldyBXZWFrTWFwLHBvaW50ZXJtYXA6bmV3IGEuUG9pbnRlck1hcCxldmVudE1hcDp7fSxldmVudFNvdXJjZXM6e30sZXZlbnRTb3VyY2VMaXN0OltdLHJlZ2lzdGVyU291cmNlOmZ1bmN0aW9uKGEsYil7dmFyIGM9YixkPWMuZXZlbnRzO2QmJihkLmZvckVhY2goZnVuY3Rpb24oYSl7Y1thXSYmKHRoaXMuZXZlbnRNYXBbYV09Y1thXS5iaW5kKGMpKX0sdGhpcyksdGhpcy5ldmVudFNvdXJjZXNbYV09Yyx0aGlzLmV2ZW50U291cmNlTGlzdC5wdXNoKGMpKX0scmVnaXN0ZXI6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9dGhpcy5ldmVudFNvdXJjZUxpc3QubGVuZ3RoLGQ9MDtjPmQmJihiPXRoaXMuZXZlbnRTb3VyY2VMaXN0W2RdKTtkKyspYi5yZWdpc3Rlci5jYWxsKGIsYSl9LHVucmVnaXN0ZXI6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9dGhpcy5ldmVudFNvdXJjZUxpc3QubGVuZ3RoLGQ9MDtjPmQmJihiPXRoaXMuZXZlbnRTb3VyY2VMaXN0W2RdKTtkKyspYi51bnJlZ2lzdGVyLmNhbGwoYixhKX0sY29udGFpbnM6YS5leHRlcm5hbC5jb250YWluc3x8ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb250YWlucyhiKX0sZG93bjpmdW5jdGlvbihhKXthLmJ1YmJsZXM9ITAsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJkb3duIixhKX0sbW92ZTpmdW5jdGlvbihhKXthLmJ1YmJsZXM9ITAsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJtb3ZlIixhKX0sdXA6ZnVuY3Rpb24oYSl7YS5idWJibGVzPSEwLHRoaXMuZmlyZUV2ZW50KCJwb2ludGVydXAiLGEpfSxlbnRlcjpmdW5jdGlvbihhKXthLmJ1YmJsZXM9ITEsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJlbnRlciIsYSl9LGxlYXZlOmZ1bmN0aW9uKGEpe2EuYnViYmxlcz0hMSx0aGlzLmZpcmVFdmVudCgicG9pbnRlcmxlYXZlIixhKX0sb3ZlcjpmdW5jdGlvbihhKXthLmJ1YmJsZXM9ITAsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJvdmVyIixhKX0sb3V0OmZ1bmN0aW9uKGEpe2EuYnViYmxlcz0hMCx0aGlzLmZpcmVFdmVudCgicG9pbnRlcm91dCIsYSl9LGNhbmNlbDpmdW5jdGlvbihhKXthLmJ1YmJsZXM9ITAsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJjYW5jZWwiLGEpfSxsZWF2ZU91dDpmdW5jdGlvbihhKXt0aGlzLm91dChhKSx0aGlzLmNvbnRhaW5zKGEudGFyZ2V0LGEucmVsYXRlZFRhcmdldCl8fHRoaXMubGVhdmUoYSl9LGVudGVyT3ZlcjpmdW5jdGlvbihhKXt0aGlzLm92ZXIoYSksdGhpcy5jb250YWlucyhhLnRhcmdldCxhLnJlbGF0ZWRUYXJnZXQpfHx0aGlzLmVudGVyKGEpfSxldmVudEhhbmRsZXI6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaGFuZGxlZEV2ZW50cy5nZXQoYSkpe3ZhciBiPWEudHlwZSxjPXRoaXMuZXZlbnRNYXAmJnRoaXMuZXZlbnRNYXBbYl07YyYmYyhhKSx0aGlzLmhhbmRsZWRFdmVudHMuc2V0KGEsITApfX0sbGlzdGVuOmZ1bmN0aW9uKGEsYil7Yi5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMuYWRkRXZlbnQoYSxiKX0sdGhpcyl9LHVubGlzdGVuOmZ1bmN0aW9uKGEsYil7Yi5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMucmVtb3ZlRXZlbnQoYSxiKX0sdGhpcyl9LGFkZEV2ZW50OmEuZXh0ZXJuYWwuYWRkRXZlbnR8fGZ1bmN0aW9uKGEsYil7YS5hZGRFdmVudExpc3RlbmVyKGIsdGhpcy5ib3VuZEhhbmRsZXIpfSxyZW1vdmVFdmVudDphLmV4dGVybmFsLnJlbW92ZUV2ZW50fHxmdW5jdGlvbihhLGIpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLHRoaXMuYm91bmRIYW5kbGVyKQp9LG1ha2VFdmVudDpmdW5jdGlvbihhLGIpe3RoaXMuY2FwdHVyZUluZm8mJihiLnJlbGF0ZWRUYXJnZXQ9bnVsbCk7dmFyIGM9bmV3IFBvaW50ZXJFdmVudChhLGIpO3JldHVybiBiLnByZXZlbnREZWZhdWx0JiYoYy5wcmV2ZW50RGVmYXVsdD1iLnByZXZlbnREZWZhdWx0KSx0aGlzLnRhcmdldHMuc2V0KGMsdGhpcy50YXJnZXRzLmdldChiKXx8Yi50YXJnZXQpLGN9LGZpcmVFdmVudDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMubWFrZUV2ZW50KGEsYik7cmV0dXJuIHRoaXMuZGlzcGF0Y2hFdmVudChjKX0sY2xvbmVFdmVudDpmdW5jdGlvbihhKXtmb3IodmFyIGUsZj17fSxnPTA7ZzxiLmxlbmd0aDtnKyspZT1iW2ddLGZbZV09YVtlXXx8Y1tnXSwhZHx8InRhcmdldCIhPT1lJiYicmVsYXRlZFRhcmdldCIhPT1lfHxmW2VdaW5zdGFuY2VvZiBTVkdFbGVtZW50SW5zdGFuY2UmJihmW2VdPWZbZV0uY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQpO3JldHVybiBhLnByZXZlbnREZWZhdWx0JiYoZi5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe2EucHJldmVudERlZmF1bHQoKX0pLGZ9LGdldFRhcmdldDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jYXB0dXJlSW5mbyYmdGhpcy5jYXB0dXJlSW5mby5pZD09PWEucG9pbnRlcklkP3RoaXMuY2FwdHVyZUluZm8udGFyZ2V0OnRoaXMudGFyZ2V0cy5nZXQoYSl9LHNldENhcHR1cmU6ZnVuY3Rpb24oYSxiKXt0aGlzLmNhcHR1cmVJbmZvJiZ0aGlzLnJlbGVhc2VDYXB0dXJlKHRoaXMuY2FwdHVyZUluZm8uaWQpLHRoaXMuY2FwdHVyZUluZm89e2lkOmEsdGFyZ2V0OmJ9O3ZhciBjPW5ldyBQb2ludGVyRXZlbnQoImdvdHBvaW50ZXJjYXB0dXJlIix7YnViYmxlczohMH0pO3RoaXMuaW1wbGljaXRSZWxlYXNlPXRoaXMucmVsZWFzZUNhcHR1cmUuYmluZCh0aGlzLGEpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInBvaW50ZXJ1cCIsdGhpcy5pbXBsaWNpdFJlbGVhc2UpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInBvaW50ZXJjYW5jZWwiLHRoaXMuaW1wbGljaXRSZWxlYXNlKSx0aGlzLnRhcmdldHMuc2V0KGMsYiksdGhpcy5hc3luY0Rpc3BhdGNoRXZlbnQoYyl9LHJlbGVhc2VDYXB0dXJlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuY2FwdHVyZUluZm8mJnRoaXMuY2FwdHVyZUluZm8uaWQ9PT1hKXt2YXIgYj1uZXcgUG9pbnRlckV2ZW50KCJsb3N0cG9pbnRlcmNhcHR1cmUiLHtidWJibGVzOiEwfSksYz10aGlzLmNhcHR1cmVJbmZvLnRhcmdldDt0aGlzLmNhcHR1cmVJbmZvPW51bGwsZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9pbnRlcnVwIix0aGlzLmltcGxpY2l0UmVsZWFzZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9pbnRlcmNhbmNlbCIsdGhpcy5pbXBsaWNpdFJlbGVhc2UpLHRoaXMudGFyZ2V0cy5zZXQoYixjKSx0aGlzLmFzeW5jRGlzcGF0Y2hFdmVudChiKX19LGRpc3BhdGNoRXZlbnQ6YS5leHRlcm5hbC5kaXNwYXRjaEV2ZW50fHxmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFRhcmdldChhKTtyZXR1cm4gYj9iLmRpc3BhdGNoRXZlbnQoYSk6dm9pZCAwfSxhc3luY0Rpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24oYSl7c2V0VGltZW91dCh0aGlzLmRpc3BhdGNoRXZlbnQuYmluZCh0aGlzLGEpLDApfX07ZS5ib3VuZEhhbmRsZXI9ZS5ldmVudEhhbmRsZXIuYmluZChlKSxhLmRpc3BhdGNoZXI9ZSxhLnJlZ2lzdGVyPWUucmVnaXN0ZXIuYmluZChlKSxhLnVucmVnaXN0ZXI9ZS51bnJlZ2lzdGVyLmJpbmQoZSl9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiLGMsZCl7dGhpcy5hZGRDYWxsYmFjaz1hLmJpbmQoZCksdGhpcy5yZW1vdmVDYWxsYmFjaz1iLmJpbmQoZCksdGhpcy5jaGFuZ2VkQ2FsbGJhY2s9Yy5iaW5kKGQpLGcmJih0aGlzLm9ic2VydmVyPW5ldyBnKHRoaXMubXV0YXRpb25XYXRjaGVyLmJpbmQodGhpcykpKX12YXIgYz1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpLGQ9QXJyYXkucHJvdG90eXBlLm1hcC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLm1hcCksZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5zbGljZSksZj1BcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZmlsdGVyKSxnPXdpbmRvdy5NdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlcixoPSJbdG91Y2gtYWN0aW9uXSIsaT17c3VidHJlZTohMCxjaGlsZExpc3Q6ITAsYXR0cmlidXRlczohMCxhdHRyaWJ1dGVPbGRWYWx1ZTohMCxhdHRyaWJ1dGVGaWx0ZXI6WyJ0b3VjaC1hY3Rpb24iXX07Yi5wcm90b3R5cGU9e3dhdGNoU3VidHJlZTpmdW5jdGlvbihiKXthLnRhcmdldEZpbmRpbmcuY2FuVGFyZ2V0KGIpJiZ0aGlzLm9ic2VydmVyLm9ic2VydmUoYixpKX0sZW5hYmxlT25TdWJ0cmVlOmZ1bmN0aW9uKGEpe3RoaXMud2F0Y2hTdWJ0cmVlKGEpLGE9PT1kb2N1bWVudCYmImNvbXBsZXRlIiE9PWRvY3VtZW50LnJlYWR5U3RhdGU/dGhpcy5pbnN0YWxsT25Mb2FkKCk6dGhpcy5pbnN0YWxsTmV3U3VidHJlZShhKX0saW5zdGFsbE5ld1N1YnRyZWU6ZnVuY3Rpb24oYSl7Yyh0aGlzLmZpbmRFbGVtZW50cyhhKSx0aGlzLmFkZEVsZW1lbnQsdGhpcyl9LGZpbmRFbGVtZW50czpmdW5jdGlvbihhKXtyZXR1cm4gYS5xdWVyeVNlbGVjdG9yQWxsP2EucXVlcnlTZWxlY3RvckFsbChoKTpbXX0scmVtb3ZlRWxlbWVudDpmdW5jdGlvbihhKXt0aGlzLnJlbW92ZUNhbGxiYWNrKGEpfSxhZGRFbGVtZW50OmZ1bmN0aW9uKGEpe3RoaXMuYWRkQ2FsbGJhY2soYSl9LGVsZW1lbnRDaGFuZ2VkOmZ1bmN0aW9uKGEsYil7dGhpcy5jaGFuZ2VkQ2FsbGJhY2soYSxiKX0sY29uY2F0TGlzdHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoZShiKSl9LGluc3RhbGxPbkxvYWQ6ZnVuY3Rpb24oKXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIix0aGlzLmluc3RhbGxOZXdTdWJ0cmVlLmJpbmQodGhpcyxkb2N1bWVudCkpfSxpc0VsZW1lbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERX0sZmxhdHRlbk11dGF0aW9uVHJlZTpmdW5jdGlvbihhKXt2YXIgYj1kKGEsdGhpcy5maW5kRWxlbWVudHMsdGhpcyk7cmV0dXJuIGIucHVzaChmKGEsdGhpcy5pc0VsZW1lbnQpKSxiLnJlZHVjZSh0aGlzLmNvbmNhdExpc3RzLFtdKX0sbXV0YXRpb25XYXRjaGVyOmZ1bmN0aW9uKGEpe2EuZm9yRWFjaCh0aGlzLm11dGF0aW9uSGFuZGxlcix0aGlzKX0sbXV0YXRpb25IYW5kbGVyOmZ1bmN0aW9uKGEpe2lmKCJjaGlsZExpc3QiPT09YS50eXBlKXt2YXIgYj10aGlzLmZsYXR0ZW5NdXRhdGlvblRyZWUoYS5hZGRlZE5vZGVzKTtiLmZvckVhY2godGhpcy5hZGRFbGVtZW50LHRoaXMpO3ZhciBjPXRoaXMuZmxhdHRlbk11dGF0aW9uVHJlZShhLnJlbW92ZWROb2Rlcyk7Yy5mb3JFYWNoKHRoaXMucmVtb3ZlRWxlbWVudCx0aGlzKX1lbHNlImF0dHJpYnV0ZXMiPT09YS50eXBlJiZ0aGlzLmVsZW1lbnRDaGFuZ2VkKGEudGFyZ2V0LGEub2xkVmFsdWUpfX0sZ3x8KGIucHJvdG90eXBlLndhdGNoU3VidHJlZT1mdW5jdGlvbigpe2NvbnNvbGUud2FybigiUG9pbnRlckV2ZW50c1BvbHlmaWxsOiBNdXRhdGlvbk9ic2VydmVycyBub3QgZm91bmQsIHRvdWNoLWFjdGlvbiB3aWxsIG5vdCBiZSBkeW5hbWljYWxseSBkZXRlY3RlZCIpfSksYS5JbnN0YWxsZXI9Yn0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oYSl7dmFyIGI9YS5kaXNwYXRjaGVyLGM9Yi5wb2ludGVybWFwLGQ9MjUsZT17UE9JTlRFUl9JRDoxLFBPSU5URVJfVFlQRToibW91c2UiLGV2ZW50czpbIm1vdXNlZG93biIsIm1vdXNlbW92ZSIsIm1vdXNldXAiLCJtb3VzZW92ZXIiLCJtb3VzZW91dCJdLHJlZ2lzdGVyOmZ1bmN0aW9uKGEpe2IubGlzdGVuKGEsdGhpcy5ldmVudHMpfSx1bnJlZ2lzdGVyOmZ1bmN0aW9uKGEpe2IudW5saXN0ZW4oYSx0aGlzLmV2ZW50cyl9LGxhc3RUb3VjaGVzOltdLGlzRXZlbnRTaW11bGF0ZWRGcm9tVG91Y2g6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9dGhpcy5sYXN0VG91Y2hlcyxlPWEuY2xpZW50WCxmPWEuY2xpZW50WSxnPTAsaD1jLmxlbmd0aDtoPmcmJihiPWNbZ10pO2crKyl7dmFyIGk9TWF0aC5hYnMoZS1iLngpLGo9TWF0aC5hYnMoZi1iLnkpO2lmKGQ+PWkmJmQ+PWopcmV0dXJuITB9fSxwcmVwYXJlRXZlbnQ6ZnVuY3Rpb24oYSl7dmFyIGM9Yi5jbG9uZUV2ZW50KGEpLGQ9Yy5wcmV2ZW50RGVmYXVsdDtyZXR1cm4gYy5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe2EucHJldmVudERlZmF1bHQoKSxkKCl9LGMucG9pbnRlcklkPXRoaXMuUE9JTlRFUl9JRCxjLmlzUHJpbWFyeT0hMCxjLnBvaW50ZXJUeXBlPXRoaXMuUE9JTlRFUl9UWVBFLGN9LG1vdXNlZG93bjpmdW5jdGlvbihhKXtpZighdGhpcy5pc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoKGEpKXt2YXIgZD1jLmhhcyh0aGlzLlBPSU5URVJfSUQpO2QmJnRoaXMuY2FuY2VsKGEpO3ZhciBlPXRoaXMucHJlcGFyZUV2ZW50KGEpO2Muc2V0KHRoaXMuUE9JTlRFUl9JRCxhKSxiLmRvd24oZSl9fSxtb3VzZW1vdmU6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaChhKSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5tb3ZlKGMpfX0sbW91c2V1cDpmdW5jdGlvbihhKXtpZighdGhpcy5pc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoKGEpKXt2YXIgZD1jLmdldCh0aGlzLlBPSU5URVJfSUQpO2lmKGQmJmQuYnV0dG9uPT09YS5idXR0b24pe3ZhciBlPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IudXAoZSksdGhpcy5jbGVhbnVwTW91c2UoKX19fSxtb3VzZW92ZXI6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaChhKSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5lbnRlck92ZXIoYyl9fSxtb3VzZW91dDpmdW5jdGlvbihhKXtpZighdGhpcy5pc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoKGEpKXt2YXIgYz10aGlzLnByZXBhcmVFdmVudChhKTtiLmxlYXZlT3V0KGMpfX0sY2FuY2VsOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IuY2FuY2VsKGMpLHRoaXMuY2xlYW51cE1vdXNlKCl9LGNsZWFudXBNb3VzZTpmdW5jdGlvbigpe2NbImRlbGV0ZSJdKHRoaXMuUE9JTlRFUl9JRCl9fTthLm1vdXNlRXZlbnRzPWV9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLGZ1bmN0aW9uKGEpe3ZhciBiLGM9YS5kaXNwYXRjaGVyLGQ9YS5maW5kVGFyZ2V0LGU9YS50YXJnZXRGaW5kaW5nLmFsbFNoYWRvd3MuYmluZChhLnRhcmdldEZpbmRpbmcpLGY9Yy5wb2ludGVybWFwLGc9QXJyYXkucHJvdG90eXBlLm1hcC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLm1hcCksaD0yNTAwLGk9MjAwLGo9InRvdWNoLWFjdGlvbiIsaz0hMSxsPXtzY3JvbGxUeXBlOm5ldyBXZWFrTWFwLGV2ZW50czpbInRvdWNoc3RhcnQiLCJ0b3VjaG1vdmUiLCJ0b3VjaGVuZCIsInRvdWNoY2FuY2VsIl0scmVnaXN0ZXI6ZnVuY3Rpb24oYSl7az9jLmxpc3RlbihhLHRoaXMuZXZlbnRzKTpiLmVuYWJsZU9uU3VidHJlZShhKX0sdW5yZWdpc3RlcjpmdW5jdGlvbihhKXtrJiZjLnVubGlzdGVuKGEsdGhpcy5ldmVudHMpfSxlbGVtZW50QWRkZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRBdHRyaWJ1dGUoaiksZD10aGlzLnRvdWNoQWN0aW9uVG9TY3JvbGxUeXBlKGIpO2QmJih0aGlzLnNjcm9sbFR5cGUuc2V0KGEsZCksYy5saXN0ZW4oYSx0aGlzLmV2ZW50cyksZShhKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsVHlwZS5zZXQoYSxkKSxjLmxpc3RlbihhLHRoaXMuZXZlbnRzKX0sdGhpcykpfSxlbGVtZW50UmVtb3ZlZDpmdW5jdGlvbihhKXt0aGlzLnNjcm9sbFR5cGVbImRlbGV0ZSJdKGEpLGMudW5saXN0ZW4oYSx0aGlzLmV2ZW50cyksZShhKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsVHlwZVsiZGVsZXRlIl0oYSksYy51bmxpc3RlbihhLHRoaXMuZXZlbnRzKX0sdGhpcyl9LGVsZW1lbnRDaGFuZ2VkOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRBdHRyaWJ1dGUoaiksZD10aGlzLnRvdWNoQWN0aW9uVG9TY3JvbGxUeXBlKGMpLGY9dGhpcy50b3VjaEFjdGlvblRvU2Nyb2xsVHlwZShiKTtkJiZmPyh0aGlzLnNjcm9sbFR5cGUuc2V0KGEsZCksZShhKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsVHlwZS5zZXQoYSxkKX0sdGhpcykpOmY/dGhpcy5lbGVtZW50UmVtb3ZlZChhKTpkJiZ0aGlzLmVsZW1lbnRBZGRlZChhKX0sc2Nyb2xsVHlwZXM6e0VNSVRURVI6Im5vbmUiLFhTQ1JPTExFUjoicGFuLXgiLFlTQ1JPTExFUjoicGFuLXkiLFNDUk9MTEVSOi9eKD86cGFuLXggcGFuLXkpfCg/OnBhbi15IHBhbi14KXxhdXRvJC99LHRvdWNoQWN0aW9uVG9TY3JvbGxUeXBlOmZ1bmN0aW9uKGEpe3ZhciBiPWEsYz10aGlzLnNjcm9sbFR5cGVzO3JldHVybiJub25lIj09PWI/Im5vbmUiOmI9PT1jLlhTQ1JPTExFUj8iWCI6Yj09PWMuWVNDUk9MTEVSPyJZIjpjLlNDUk9MTEVSLmV4ZWMoYik/IlhZIjp2b2lkIDB9LFBPSU5URVJfVFlQRToidG91Y2giLGZpcnN0VG91Y2g6bnVsbCxpc1ByaW1hcnlUb3VjaDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5maXJzdFRvdWNoPT09YS5pZGVudGlmaWVyfSxzZXRQcmltYXJ5VG91Y2g6ZnVuY3Rpb24oYSl7KDA9PT1mLnBvaW50ZXJzKCl8fDE9PT1mLnBvaW50ZXJzKCkmJmYuaGFzKDEpKSYmKHRoaXMuZmlyc3RUb3VjaD1hLmlkZW50aWZpZXIsdGhpcy5maXJzdFhZPXtYOmEuY2xpZW50WCxZOmEuY2xpZW50WX0sdGhpcy5zY3JvbGxpbmc9ITEsdGhpcy5jYW5jZWxSZXNldENsaWNrQ291bnQoKSl9LHJlbW92ZVByaW1hcnlQb2ludGVyOmZ1bmN0aW9uKGEpe2EuaXNQcmltYXJ5JiYodGhpcy5maXJzdFRvdWNoPW51bGwsdGhpcy5maXJzdFhZPW51bGwsdGhpcy5yZXNldENsaWNrQ291bnQoKSl9LGNsaWNrQ291bnQ6MCxyZXNldElkOm51bGwscmVzZXRDbGlja0NvdW50OmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oKXt0aGlzLmNsaWNrQ291bnQ9MCx0aGlzLnJlc2V0SWQ9bnVsbH0uYmluZCh0aGlzKTt0aGlzLnJlc2V0SWQ9c2V0VGltZW91dChhLGkpfSxjYW5jZWxSZXNldENsaWNrQ291bnQ6ZnVuY3Rpb24oKXt0aGlzLnJlc2V0SWQmJmNsZWFyVGltZW91dCh0aGlzLnJlc2V0SWQpfSx0b3VjaFRvUG9pbnRlcjpmdW5jdGlvbihhKXt2YXIgYj1jLmNsb25lRXZlbnQoYSk7cmV0dXJuIGIucG9pbnRlcklkPWEuaWRlbnRpZmllcisyLGIudGFyZ2V0PWQoYiksYi5idWJibGVzPSEwLGIuY2FuY2VsYWJsZT0hMCxiLmRldGFpbD10aGlzLmNsaWNrQ291bnQsYi5idXR0b249MCxiLmJ1dHRvbnM9MSxiLndpZHRoPWEud2Via2l0UmFkaXVzWHx8YS5yYWRpdXNYfHwwLGIuaGVpZ2h0PWEud2Via2l0UmFkaXVzWXx8YS5yYWRpdXNZfHwwLGIucHJlc3N1cmU9YS53ZWJraXRGb3JjZXx8YS5mb3JjZXx8LjUsYi5pc1ByaW1hcnk9dGhpcy5pc1ByaW1hcnlUb3VjaChhKSxiLnBvaW50ZXJUeXBlPXRoaXMuUE9JTlRFUl9UWVBFLGJ9LHByb2Nlc3NUb3VjaGVzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5jaGFuZ2VkVG91Y2hlcyxkPWcoYyx0aGlzLnRvdWNoVG9Qb2ludGVyLHRoaXMpO2QuZm9yRWFjaChmdW5jdGlvbihiKXtiLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5zY3JvbGxpbmc9ITEsdGhpcy5maXJzdFhZPW51bGwsYS5wcmV2ZW50RGVmYXVsdCgpfX0sdGhpcyksZC5mb3JFYWNoKGIsdGhpcyl9LHNob3VsZFNjcm9sbDpmdW5jdGlvbihhKXtpZih0aGlzLmZpcnN0WFkpe3ZhciBiLGM9dGhpcy5zY3JvbGxUeXBlLmdldChhLmN1cnJlbnRUYXJnZXQpO2lmKCJub25lIj09PWMpYj0hMTtlbHNlIGlmKCJYWSI9PT1jKWI9ITA7ZWxzZXt2YXIgZD1hLmNoYW5nZWRUb3VjaGVzWzBdLGU9YyxmPSJZIj09PWM/IlgiOiJZIixnPU1hdGguYWJzKGRbImNsaWVudCIrZV0tdGhpcy5maXJzdFhZW2VdKSxoPU1hdGguYWJzKGRbImNsaWVudCIrZl0tdGhpcy5maXJzdFhZW2ZdKTtiPWc+PWh9cmV0dXJuIHRoaXMuZmlyc3RYWT1udWxsLGJ9fSxmaW5kVG91Y2g6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wLGU9YS5sZW5ndGg7ZT5kJiYoYz1hW2RdKTtkKyspaWYoYy5pZGVudGlmaWVyPT09YilyZXR1cm4hMH0sdmFjdXVtVG91Y2hlczpmdW5jdGlvbihhKXt2YXIgYj1hLnRvdWNoZXM7aWYoZi5wb2ludGVycygpPj1iLmxlbmd0aCl7dmFyIGM9W107Zi5mb3JFYWNoKGZ1bmN0aW9uKGEsZCl7aWYoMSE9PWQmJiF0aGlzLmZpbmRUb3VjaChiLGQtMikpe3ZhciBlPWEub3V0O2MucHVzaCh0aGlzLnRvdWNoVG9Qb2ludGVyKGUpKX19LHRoaXMpLGMuZm9yRWFjaCh0aGlzLmNhbmNlbE91dCx0aGlzKX19LHRvdWNoc3RhcnQ6ZnVuY3Rpb24oYSl7dGhpcy52YWN1dW1Ub3VjaGVzKGEpLHRoaXMuc2V0UHJpbWFyeVRvdWNoKGEuY2hhbmdlZFRvdWNoZXNbMF0pLHRoaXMuZGVkdXBTeW50aE1vdXNlKGEpLHRoaXMuc2Nyb2xsaW5nfHwodGhpcy5jbGlja0NvdW50KyssdGhpcy5wcm9jZXNzVG91Y2hlcyhhLHRoaXMub3ZlckRvd24pKX0sb3ZlckRvd246ZnVuY3Rpb24oYSl7Zi5zZXQoYS5wb2ludGVySWQse3RhcmdldDphLnRhcmdldCxvdXQ6YSxvdXRUYXJnZXQ6YS50YXJnZXR9KTtjLm92ZXIoYSksYy5lbnRlcihhKSxjLmRvd24oYSl9LHRvdWNobW92ZTpmdW5jdGlvbihhKXt0aGlzLnNjcm9sbGluZ3x8KHRoaXMuc2hvdWxkU2Nyb2xsKGEpPyh0aGlzLnNjcm9sbGluZz0hMCx0aGlzLnRvdWNoY2FuY2VsKGEpKTooYS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMucHJvY2Vzc1RvdWNoZXMoYSx0aGlzLm1vdmVPdmVyT3V0KSkpfSxtb3ZlT3Zlck91dDpmdW5jdGlvbihhKXt2YXIgYj1hLGQ9Zi5nZXQoYi5wb2ludGVySWQpO2lmKGQpe3ZhciBlPWQub3V0LGc9ZC5vdXRUYXJnZXQ7Yy5tb3ZlKGIpLGUmJmchPT1iLnRhcmdldCYmKGUucmVsYXRlZFRhcmdldD1iLnRhcmdldCxiLnJlbGF0ZWRUYXJnZXQ9ZyxlLnRhcmdldD1nLGIudGFyZ2V0PyhjLmxlYXZlT3V0KGUpLGMuZW50ZXJPdmVyKGIpKTooYi50YXJnZXQ9ZyxiLnJlbGF0ZWRUYXJnZXQ9bnVsbCx0aGlzLmNhbmNlbE91dChiKSkpLGQub3V0PWIsZC5vdXRUYXJnZXQ9Yi50YXJnZXR9fSx0b3VjaGVuZDpmdW5jdGlvbihhKXt0aGlzLmRlZHVwU3ludGhNb3VzZShhKSx0aGlzLnByb2Nlc3NUb3VjaGVzKGEsdGhpcy51cE91dCl9LHVwT3V0OmZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsaW5nfHwoYy51cChhKSxjLm91dChhKSxjLmxlYXZlKGEpKSx0aGlzLmNsZWFuVXBQb2ludGVyKGEpfSx0b3VjaGNhbmNlbDpmdW5jdGlvbihhKXt0aGlzLnByb2Nlc3NUb3VjaGVzKGEsdGhpcy5jYW5jZWxPdXQpfSxjYW5jZWxPdXQ6ZnVuY3Rpb24oYSl7Yy5jYW5jZWwoYSksYy5vdXQoYSksYy5sZWF2ZShhKSx0aGlzLmNsZWFuVXBQb2ludGVyKGEpfSxjbGVhblVwUG9pbnRlcjpmdW5jdGlvbihhKXtmWyJkZWxldGUiXShhLnBvaW50ZXJJZCksdGhpcy5yZW1vdmVQcmltYXJ5UG9pbnRlcihhKX0sZGVkdXBTeW50aE1vdXNlOmZ1bmN0aW9uKGIpe3ZhciBjPWEubW91c2VFdmVudHMubGFzdFRvdWNoZXMsZD1iLmNoYW5nZWRUb3VjaGVzWzBdO2lmKHRoaXMuaXNQcmltYXJ5VG91Y2goZCkpe3ZhciBlPXt4OmQuY2xpZW50WCx5OmQuY2xpZW50WX07Yy5wdXNoKGUpO3ZhciBmPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5pbmRleE9mKGIpO2M+LTEmJmEuc3BsaWNlKGMsMSl9LmJpbmQobnVsbCxjLGUpO3NldFRpbWVvdXQoZixoKX19fTtrfHwoYj1uZXcgYS5JbnN0YWxsZXIobC5lbGVtZW50QWRkZWQsbC5lbGVtZW50UmVtb3ZlZCxsLmVsZW1lbnRDaGFuZ2VkLGwpKSxhLnRvdWNoRXZlbnRzPWx9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGlzcGF0Y2hlcixjPWIucG9pbnRlcm1hcCxkPXdpbmRvdy5NU1BvaW50ZXJFdmVudCYmIm51bWJlciI9PXR5cGVvZiB3aW5kb3cuTVNQb2ludGVyRXZlbnQuTVNQT0lOVEVSX1RZUEVfTU9VU0UsZT17ZXZlbnRzOlsiTVNQb2ludGVyRG93biIsIk1TUG9pbnRlck1vdmUiLCJNU1BvaW50ZXJVcCIsIk1TUG9pbnRlck91dCIsIk1TUG9pbnRlck92ZXIiLCJNU1BvaW50ZXJDYW5jZWwiLCJNU0dvdFBvaW50ZXJDYXB0dXJlIiwiTVNMb3N0UG9pbnRlckNhcHR1cmUiXSxyZWdpc3RlcjpmdW5jdGlvbihhKXtiLmxpc3RlbihhLHRoaXMuZXZlbnRzKX0sdW5yZWdpc3RlcjpmdW5jdGlvbihhKXtiLnVubGlzdGVuKGEsdGhpcy5ldmVudHMpfSxQT0lOVEVSX1RZUEVTOlsiIiwidW5hdmFpbGFibGUiLCJ0b3VjaCIsInBlbiIsIm1vdXNlIl0scHJlcGFyZUV2ZW50OmZ1bmN0aW9uKGEpe3ZhciBjPWE7cmV0dXJuIGQmJihjPWIuY2xvbmVFdmVudChhKSxjLnBvaW50ZXJUeXBlPXRoaXMuUE9JTlRFUl9UWVBFU1thLnBvaW50ZXJUeXBlXSksY30sY2xlYW51cDpmdW5jdGlvbihhKXtjWyJkZWxldGUiXShhKX0sTVNQb2ludGVyRG93bjpmdW5jdGlvbihhKXtjLnNldChhLnBvaW50ZXJJZCxhKTt2YXIgZD10aGlzLnByZXBhcmVFdmVudChhKTtiLmRvd24oZCl9LE1TUG9pbnRlck1vdmU6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5tb3ZlKGMpfSxNU1BvaW50ZXJVcDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnByZXBhcmVFdmVudChhKTtiLnVwKGMpLHRoaXMuY2xlYW51cChhLnBvaW50ZXJJZCl9LE1TUG9pbnRlck91dDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnByZXBhcmVFdmVudChhKTtiLmxlYXZlT3V0KGMpfSxNU1BvaW50ZXJPdmVyOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMucHJlcGFyZUV2ZW50KGEpO2IuZW50ZXJPdmVyKGMpfSxNU1BvaW50ZXJDYW5jZWw6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5wcmVwYXJlRXZlbnQoYSk7Yi5jYW5jZWwoYyksdGhpcy5jbGVhbnVwKGEucG9pbnRlcklkKX0sTVNMb3N0UG9pbnRlckNhcHR1cmU6ZnVuY3Rpb24oYSl7dmFyIGM9Yi5tYWtlRXZlbnQoImxvc3Rwb2ludGVyY2FwdHVyZSIsYSk7Yi5kaXNwYXRjaEV2ZW50KGMpfSxNU0dvdFBvaW50ZXJDYXB0dXJlOmZ1bmN0aW9uKGEpe3ZhciBjPWIubWFrZUV2ZW50KCJnb3Rwb2ludGVyY2FwdHVyZSIsYSk7Yi5kaXNwYXRjaEV2ZW50KGMpfX07YS5tc0V2ZW50cz1lfSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihhKXt2YXIgYj1hLmRpc3BhdGNoZXI7aWYodm9pZCAwPT09d2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCl7aWYoT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5uYXZpZ2F0b3IsInBvaW50ZXJFbmFibGVkIix7dmFsdWU6ITAsZW51bWVyYWJsZTohMH0pLHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCl7dmFyIGM9d2luZG93Lm5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cubmF2aWdhdG9yLCJtYXhUb3VjaFBvaW50cyIse3ZhbHVlOmMsZW51bWVyYWJsZTohMH0pLGIucmVnaXN0ZXJTb3VyY2UoIm1zIixhLm1zRXZlbnRzKX1lbHNlIGIucmVnaXN0ZXJTb3VyY2UoIm1vdXNlIixhLm1vdXNlRXZlbnRzKSx2b2lkIDAhPT13aW5kb3cub250b3VjaHN0YXJ0JiZiLnJlZ2lzdGVyU291cmNlKCJ0b3VjaCIsYS50b3VjaEV2ZW50cyk7Yi5yZWdpc3Rlcihkb2N1bWVudCl9fSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2lmKCFlLnBvaW50ZXJtYXAuaGFzKGEpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZFBvaW50ZXJJZCIpfXZhciBjLGQsZT1hLmRpc3BhdGNoZXIsZj13aW5kb3cubmF2aWdhdG9yO2YubXNQb2ludGVyRW5hYmxlZD8oYz1mdW5jdGlvbihhKXtiKGEpLHRoaXMubXNTZXRQb2ludGVyQ2FwdHVyZShhKX0sZD1mdW5jdGlvbihhKXtiKGEpLHRoaXMubXNSZWxlYXNlUG9pbnRlckNhcHR1cmUoYSl9KTooYz1mdW5jdGlvbihhKXtiKGEpLGUuc2V0Q2FwdHVyZShhLHRoaXMpfSxkPWZ1bmN0aW9uKGEpe2IoYSksZS5yZWxlYXNlQ2FwdHVyZShhLHRoaXMpfSksd2luZG93LkVsZW1lbnQmJiFFbGVtZW50LnByb3RvdHlwZS5zZXRQb2ludGVyQ2FwdHVyZSYmT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRWxlbWVudC5wcm90b3R5cGUse3NldFBvaW50ZXJDYXB0dXJlOnt2YWx1ZTpjfSxyZWxlYXNlUG9pbnRlckNhcHR1cmU6e3ZhbHVlOmR9fSl9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLFBvaW50ZXJHZXN0dXJlRXZlbnQucHJvdG90eXBlLnByZXZlbnRUYXA9ZnVuY3Rpb24oKXt0aGlzLnRhcFByZXZlbnRlZD0hMH0sZnVuY3Rpb24oYSl7YT1hfHx7fSxhLnV0aWxzPXtMQ0E6e2ZpbmQ6ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gYTtpZihhLmNvbnRhaW5zKXtpZihhLmNvbnRhaW5zKGIpKXJldHVybiBhO2lmKGIuY29udGFpbnMoYSkpcmV0dXJuIGJ9dmFyIGM9dGhpcy5kZXB0aChhKSxkPXRoaXMuZGVwdGgoYiksZT1jLWQ7Zm9yKGU+MD9hPXRoaXMud2FsayhhLGUpOmI9dGhpcy53YWxrKGIsLWUpO2EmJmImJmEhPT1iOylhPXRoaXMud2FsayhhLDEpLGI9dGhpcy53YWxrKGIsMSk7cmV0dXJuIGF9LHdhbGs6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtiPmM7YysrKWE9YS5wYXJlbnROb2RlO3JldHVybiBhfSxkZXB0aDpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDthOyliKyssYT1hLnBhcmVudE5vZGU7cmV0dXJuIGJ9fX0sYS5maW5kTENBPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEudXRpbHMuTENBLmZpbmQoYixjKX0sd2luZG93LlBvaW50ZXJHZXN0dXJlcz1hfSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7aWYoYyl7dmFyIGE9bmV3IE1hcDtyZXR1cm4gYS5wb2ludGVycz1kLGF9dGhpcy5rZXlzPVtdLHRoaXMudmFsdWVzPVtdfXZhciBjPXdpbmRvdy5NYXAmJndpbmRvdy5NYXAucHJvdG90eXBlLmZvckVhY2gsZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNpemV9O2IucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmtleXMuaW5kZXhPZihhKTtjPi0xP3RoaXMudmFsdWVzW2NdPWI6KHRoaXMua2V5cy5wdXNoKGEpLHRoaXMudmFsdWVzLnB1c2goYikpfSxoYXM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMua2V5cy5pbmRleE9mKGEpPi0xfSwiZGVsZXRlIjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmtleXMuaW5kZXhPZihhKTtiPi0xJiYodGhpcy5rZXlzLnNwbGljZShiLDEpLHRoaXMudmFsdWVzLnNwbGljZShiLDEpKX0sZ2V0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMua2V5cy5pbmRleE9mKGEpO3JldHVybiB0aGlzLnZhbHVlc1tiXX0sY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLmtleXMubGVuZ3RoPTAsdGhpcy52YWx1ZXMubGVuZ3RoPTB9LGZvckVhY2g6ZnVuY3Rpb24oYSxiKXt0aGlzLnZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGMsZCl7YS5jYWxsKGIsYyx0aGlzLmtleXNbZF0sdGhpcyl9LHRoaXMpfSxwb2ludGVyczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmtleXMubGVuZ3RofX0sYS5Qb2ludGVyTWFwPWJ9KHdpbmRvdy5Qb2ludGVyR2VzdHVyZXMpLGZ1bmN0aW9uKGEpe3ZhciBiPVsiYnViYmxlcyIsImNhbmNlbGFibGUiLCJ2aWV3IiwiZGV0YWlsIiwic2NyZWVuWCIsInNjcmVlblkiLCJjbGllbnRYIiwiY2xpZW50WSIsImN0cmxLZXkiLCJhbHRLZXkiLCJzaGlmdEtleSIsIm1ldGFLZXkiLCJidXR0b24iLCJyZWxhdGVkVGFyZ2V0IiwiYnV0dG9ucyIsInBvaW50ZXJJZCIsIndpZHRoIiwiaGVpZ2h0IiwicHJlc3N1cmUiLCJ0aWx0WCIsInRpbHRZIiwicG9pbnRlclR5cGUiLCJod1RpbWVzdGFtcCIsImlzUHJpbWFyeSIsInR5cGUiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0Iiwic2NyZWVuWCIsInNjcmVlblkiLCJwYWdlWCIsInBhZ2VZIiwidGFwUHJldmVudGVkIl0sYz1bITEsITEsbnVsbCxudWxsLDAsMCwwLDAsITEsITEsITEsITEsMCxudWxsLDAsMCwwLDAsMCwwLDAsIiIsMCwhMSwiIixudWxsLG51bGwsMCwwLDAsMF0sZD17aGFuZGxlZEV2ZW50czpuZXcgV2Vha01hcCx0YXJnZXRzOm5ldyBXZWFrTWFwLGhhbmRsZXJzOnt9LHJlY29nbml6ZXJzOnt9LGV2ZW50czp7fSxyZWdpc3RlclJlY29nbml6ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iO3RoaXMucmVjb2duaXplcnNbYV09YyxjLmV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2lmKGNbYV0pe3RoaXMuZXZlbnRzW2FdPSEwO3ZhciBiPWNbYV0uYmluZChjKTt0aGlzLmFkZEhhbmRsZXIoYSxiKX19LHRoaXMpfSxhZGRIYW5kbGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9YTt0aGlzLmhhbmRsZXJzW2NdfHwodGhpcy5oYW5kbGVyc1tjXT1bXSksdGhpcy5oYW5kbGVyc1tjXS5wdXNoKGIpfSxyZWdpc3RlclRhcmdldDpmdW5jdGlvbihhKXt0aGlzLmxpc3RlbihPYmplY3Qua2V5cyh0aGlzLmV2ZW50cyksYSl9LHVucmVnaXN0ZXJUYXJnZXQ6ZnVuY3Rpb24oYSl7dGhpcy51bmxpc3RlbihPYmplY3Qua2V5cyh0aGlzLmV2ZW50cyksYSl9LGV2ZW50SGFuZGxlcjpmdW5jdGlvbihhKXtpZighdGhpcy5oYW5kbGVkRXZlbnRzLmdldChhKSl7dmFyIGI9YS50eXBlLGM9dGhpcy5oYW5kbGVyc1tiXTtjJiZ0aGlzLm1ha2VRdWV1ZShjLGEpLHRoaXMuaGFuZGxlZEV2ZW50cy5zZXQoYSwhMCl9fSxtYWtlUXVldWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNsb25lRXZlbnQoYik7c2V0VGltZW91dCh0aGlzLnJ1blF1ZXVlLmJpbmQodGhpcyxhLGMpLDApfSxydW5RdWV1ZTpmdW5jdGlvbihhLGIpe3RoaXMuY3VycmVudFBvaW50ZXJJZD1iLnBvaW50ZXJJZDtmb3IodmFyIGMsZD0wLGU9YS5sZW5ndGg7ZT5kJiYoYz1hW2RdKTtkKyspYyhiKTt0aGlzLmN1cnJlbnRQb2ludGVySWQ9MH0sbGlzdGVuOmZ1bmN0aW9uKGEsYil7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMuYWRkRXZlbnQoYSx0aGlzLmJvdW5kSGFuZGxlciwhMSxiKX0sdGhpcyl9LHVubGlzdGVuOmZ1bmN0aW9uKGEpe2EuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLnJlbW92ZUV2ZW50KGEsdGhpcy5ib3VuZEhhbmRsZXIsITEsaW5UYXJnZXQpfSx0aGlzKX0sYWRkRXZlbnQ6ZnVuY3Rpb24oYSxiLGMsZCl7ZC5hZGRFdmVudExpc3RlbmVyKGEsYixjKX0scmVtb3ZlRXZlbnQ6ZnVuY3Rpb24oYSxiLGMsZCl7ZC5yZW1vdmVFdmVudExpc3RlbmVyKGEsYixjKX0sbWFrZUV2ZW50OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBQb2ludGVyR2VzdHVyZUV2ZW50KGEsYil9LGNsb25lRXZlbnQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBkLGU9e30sZj0wO2Y8Yi5sZW5ndGg7ZisrKWQ9YltmXSxlW2RdPWFbZF18fGNbZl07cmV0dXJuIGV9LGRpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHx0aGlzLnRhcmdldHMuZ2V0KGEpO2MmJihjLmRpc3BhdGNoRXZlbnQoYSksYS50YXBQcmV2ZW50ZWQmJnRoaXMucHJldmVudFRhcCh0aGlzLmN1cnJlbnRQb2ludGVySWQpKX0sYXN5bmNEaXNwYXRjaEV2ZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oKXt0aGlzLmRpc3BhdGNoRXZlbnQoYSxiKX0uYmluZCh0aGlzKTtzZXRUaW1lb3V0KGMsMCl9LHByZXZlbnRUYXA6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5yZWNvZ25pemVycy50YXA7YiYmYi5wcmV2ZW50VGFwKGEpfX07ZC5ib3VuZEhhbmRsZXI9ZC5ldmVudEhhbmRsZXIuYmluZChkKSxhLmRpc3BhdGNoZXI9ZDt2YXIgZT1bXSxmPSExO2EucmVnaXN0ZXI9ZnVuY3Rpb24oYil7aWYoZil7dmFyIGM9d2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbDtjJiZjLnJlZ2lzdGVyKGIpLGEuZGlzcGF0Y2hlci5yZWdpc3RlclRhcmdldChiKX1lbHNlIGUucHVzaChiKX0sZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXtmPSEwLGUucHVzaChkb2N1bWVudCksZS5mb3JFYWNoKGEucmVnaXN0ZXIpfSl9KHdpbmRvdy5Qb2ludGVyR2VzdHVyZXMpLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGlzcGF0Y2hlcixjPXtIT0xEX0RFTEFZOjIwMCxXSUdHTEVfVEhSRVNIT0xEOjE2LGV2ZW50czpbInBvaW50ZXJkb3duIiwicG9pbnRlcm1vdmUiLCJwb2ludGVydXAiLCJwb2ludGVyY2FuY2VsIl0saGVsZFBvaW50ZXI6bnVsbCxob2xkSm9iOm51bGwscHVsc2U6ZnVuY3Rpb24oKXt2YXIgYT1EYXRlLm5vdygpLXRoaXMuaGVsZFBvaW50ZXIudGltZVN0YW1wLGI9dGhpcy5oZWxkPyJob2xkcHVsc2UiOiJob2xkIjt0aGlzLmZpcmVIb2xkKGIsYSksdGhpcy5oZWxkPSEwfSxjYW5jZWw6ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKHRoaXMuaG9sZEpvYiksdGhpcy5oZWxkJiZ0aGlzLmZpcmVIb2xkKCJyZWxlYXNlIiksdGhpcy5oZWxkPSExLHRoaXMuaGVsZFBvaW50ZXI9bnVsbCx0aGlzLnRhcmdldD1udWxsLHRoaXMuaG9sZEpvYj1udWxsfSxwb2ludGVyZG93bjpmdW5jdGlvbihhKXthLmlzUHJpbWFyeSYmIXRoaXMuaGVsZFBvaW50ZXImJih0aGlzLmhlbGRQb2ludGVyPWEsdGhpcy50YXJnZXQ9YS50YXJnZXQsdGhpcy5ob2xkSm9iPXNldEludGVydmFsKHRoaXMucHVsc2UuYmluZCh0aGlzKSx0aGlzLkhPTERfREVMQVkpKX0scG9pbnRlcnVwOmZ1bmN0aW9uKGEpe3RoaXMuaGVsZFBvaW50ZXImJnRoaXMuaGVsZFBvaW50ZXIucG9pbnRlcklkPT09YS5wb2ludGVySWQmJnRoaXMuY2FuY2VsKCl9LHBvaW50ZXJjYW5jZWw6ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbCgpfSxwb2ludGVybW92ZTpmdW5jdGlvbihhKXtpZih0aGlzLmhlbGRQb2ludGVyJiZ0aGlzLmhlbGRQb2ludGVyLnBvaW50ZXJJZD09PWEucG9pbnRlcklkKXt2YXIgYj1hLmNsaWVudFgtdGhpcy5oZWxkUG9pbnRlci5jbGllbnRYLGM9YS5jbGllbnRZLXRoaXMuaGVsZFBvaW50ZXIuY2xpZW50WTtiKmIrYypjPnRoaXMuV0lHR0xFX1RIUkVTSE9MRCYmdGhpcy5jYW5jZWwoKX19LGZpcmVIb2xkOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9e3BvaW50ZXJUeXBlOnRoaXMuaGVsZFBvaW50ZXIucG9pbnRlclR5cGV9O2MmJihkLmhvbGRUaW1lPWMpO3ZhciBlPWIubWFrZUV2ZW50KGEsZCk7Yi5kaXNwYXRjaEV2ZW50KGUsdGhpcy50YXJnZXQpLGUudGFwUHJldmVudGVkJiZiLnByZXZlbnRUYXAodGhpcy5oZWxkUG9pbnRlci5wb2ludGVySWQpfX07Yi5yZWdpc3RlclJlY29nbml6ZXIoImhvbGQiLGMpfSh3aW5kb3cuUG9pbnRlckdlc3R1cmVzKSxmdW5jdGlvbihhKXt2YXIgYj1hLmRpc3BhdGNoZXIsYz1uZXcgYS5Qb2ludGVyTWFwLGQ9e2V2ZW50czpbInBvaW50ZXJkb3duIiwicG9pbnRlcm1vdmUiLCJwb2ludGVydXAiLCJwb2ludGVyY2FuY2VsIl0sV0lHR0xFX1RIUkVTSE9MRDo0LGNsYW1wRGlyOmZ1bmN0aW9uKGEpe3JldHVybiBhPjA/MTotMX0sY2FsY1Bvc2l0aW9uRGVsdGE6ZnVuY3Rpb24oYSxiKXt2YXIgYz0wLGQ9MDtyZXR1cm4gYSYmYiYmKGM9Yi5wYWdlWC1hLnBhZ2VYLGQ9Yi5wYWdlWS1hLnBhZ2VZKSx7eDpjLHk6ZH19LGZpcmVUcmFjazpmdW5jdGlvbihhLGMsZCl7dmFyIGU9ZCxmPXRoaXMuY2FsY1Bvc2l0aW9uRGVsdGEoZS5kb3duRXZlbnQsYyksZz10aGlzLmNhbGNQb3NpdGlvbkRlbHRhKGUubGFzdE1vdmVFdmVudCxjKTtnLngmJihlLnhEaXJlY3Rpb249dGhpcy5jbGFtcERpcihnLngpKSxnLnkmJihlLnlEaXJlY3Rpb249dGhpcy5jbGFtcERpcihnLnkpKTt2YXIgaD17ZHg6Zi54LGR5OmYueSxkZHg6Zy54LGRkeTpnLnksY2xpZW50WDpjLmNsaWVudFgsY2xpZW50WTpjLmNsaWVudFkscGFnZVg6Yy5wYWdlWCxwYWdlWTpjLnBhZ2VZLHNjcmVlblg6Yy5zY3JlZW5YLHNjcmVlblk6Yy5zY3JlZW5ZLHhEaXJlY3Rpb246ZS54RGlyZWN0aW9uLHlEaXJlY3Rpb246ZS55RGlyZWN0aW9uLHRyYWNrSW5mbzplLnRyYWNrSW5mbyxyZWxhdGVkVGFyZ2V0OmMudGFyZ2V0LHBvaW50ZXJUeXBlOmMucG9pbnRlclR5cGV9LGk9Yi5tYWtlRXZlbnQoYSxoKTtlLmxhc3RNb3ZlRXZlbnQ9YyxiLmRpc3BhdGNoRXZlbnQoaSxlLmRvd25UYXJnZXQpfSxwb2ludGVyZG93bjpmdW5jdGlvbihhKXtpZihhLmlzUHJpbWFyeSYmKCJtb3VzZSI9PT1hLnBvaW50ZXJUeXBlPzE9PT1hLmJ1dHRvbnM6ITApKXt2YXIgYj17ZG93bkV2ZW50OmEsZG93blRhcmdldDphLnRhcmdldCx0cmFja0luZm86e30sbGFzdE1vdmVFdmVudDpudWxsLHhEaXJlY3Rpb246MCx5RGlyZWN0aW9uOjAsdHJhY2tpbmc6ITF9O2Muc2V0KGEucG9pbnRlcklkLGIpfX0scG9pbnRlcm1vdmU6ZnVuY3Rpb24oYSl7dmFyIGI9Yy5nZXQoYS5wb2ludGVySWQpO2lmKGIpaWYoYi50cmFja2luZyl0aGlzLmZpcmVUcmFjaygidHJhY2siLGEsYik7ZWxzZXt2YXIgZD10aGlzLmNhbGNQb3NpdGlvbkRlbHRhKGIuZG93bkV2ZW50LGEpLGU9ZC54KmQueCtkLnkqZC55O2U+dGhpcy5XSUdHTEVfVEhSRVNIT0xEJiYoYi50cmFja2luZz0hMCx0aGlzLmZpcmVUcmFjaygidHJhY2tzdGFydCIsYi5kb3duRXZlbnQsYiksdGhpcy5maXJlVHJhY2soInRyYWNrIixhLGIpKX19LHBvaW50ZXJ1cDpmdW5jdGlvbihhKXt2YXIgYj1jLmdldChhLnBvaW50ZXJJZCk7YiYmKGIudHJhY2tpbmcmJnRoaXMuZmlyZVRyYWNrKCJ0cmFja2VuZCIsYSxiKSxjLmRlbGV0ZShhLnBvaW50ZXJJZCkpfSxwb2ludGVyY2FuY2VsOmZ1bmN0aW9uKGEpe3RoaXMucG9pbnRlcnVwKGEpfX07Yi5yZWdpc3RlclJlY29nbml6ZXIoInRyYWNrIixkKX0od2luZG93LlBvaW50ZXJHZXN0dXJlcyksZnVuY3Rpb24oYSl7dmFyIGI9YS5kaXNwYXRjaGVyLGM9e01JTl9WRUxPQ0lUWTouNSxNQVhfUVVFVUU6NCxtb3ZlUXVldWU6W10sdGFyZ2V0Om51bGwscG9pbnRlcklkOm51bGwsZXZlbnRzOlsicG9pbnRlcmRvd24iLCJwb2ludGVybW92ZSIsInBvaW50ZXJ1cCIsInBvaW50ZXJjYW5jZWwiXSxwb2ludGVyZG93bjpmdW5jdGlvbihhKXthLmlzUHJpbWFyeSYmIXRoaXMucG9pbnRlcklkJiYodGhpcy5wb2ludGVySWQ9YS5wb2ludGVySWQsdGhpcy50YXJnZXQ9YS50YXJnZXQsdGhpcy5hZGRNb3ZlKGEpKX0scG9pbnRlcm1vdmU6ZnVuY3Rpb24oYSl7YS5wb2ludGVySWQ9PT10aGlzLnBvaW50ZXJJZCYmdGhpcy5hZGRNb3ZlKGEpfSxwb2ludGVydXA6ZnVuY3Rpb24oYSl7YS5wb2ludGVySWQ9PT10aGlzLnBvaW50ZXJJZCYmdGhpcy5maXJlRmxpY2soYSksdGhpcy5jbGVhbnVwKCl9LHBvaW50ZXJjYW5jZWw6ZnVuY3Rpb24oKXt0aGlzLmNsZWFudXAoKX0sY2xlYW51cDpmdW5jdGlvbigpe3RoaXMubW92ZVF1ZXVlPVtdLHRoaXMudGFyZ2V0PW51bGwsdGhpcy5wb2ludGVySWQ9bnVsbH0sYWRkTW92ZTpmdW5jdGlvbihhKXt0aGlzLm1vdmVRdWV1ZS5sZW5ndGg+PXRoaXMuTUFYX1FVRVVFJiZ0aGlzLm1vdmVRdWV1ZS5zaGlmdCgpLHRoaXMubW92ZVF1ZXVlLnB1c2goYSl9LGZpcmVGbGljazpmdW5jdGlvbihhKXtmb3IodmFyIGMsZCxlLGYsZyxoLGksaj1hLGs9dGhpcy5tb3ZlUXVldWUubGVuZ3RoLGw9MCxtPTAsbj0wLG89MDtrPm8mJihpPXRoaXMubW92ZVF1ZXVlW29dKTtvKyspYz1qLnRpbWVTdGFtcC1pLnRpbWVTdGFtcCxkPWouY2xpZW50WC1pLmNsaWVudFgsZT1qLmNsaWVudFktaS5jbGllbnRZLGY9ZC9jLGc9ZS9jLGg9TWF0aC5zcXJ0KGYqZitnKmcpLGg+biYmKGw9ZixtPWcsbj1oKTt2YXIgcD1NYXRoLmFicyhsKT5NYXRoLmFicyhtKT8ieCI6InkiLHE9dGhpcy5jYWxjQW5nbGUobCxtKTtpZihNYXRoLmFicyhuKT49dGhpcy5NSU5fVkVMT0NJVFkpe3ZhciByPWIubWFrZUV2ZW50KCJmbGljayIse3hWZWxvY2l0eTpsLHlWZWxvY2l0eTptLHZlbG9jaXR5Om4sYW5nbGU6cSxtYWpvckF4aXM6cCxwb2ludGVyVHlwZTphLnBvaW50ZXJUeXBlfSk7Yi5kaXNwYXRjaEV2ZW50KHIsdGhpcy50YXJnZXQpfX0sY2FsY0FuZ2xlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIDE4MCpNYXRoLmF0YW4yKGIsYSkvTWF0aC5QSX19O2IucmVnaXN0ZXJSZWNvZ25pemVyKCJmbGljayIsYyl9KHdpbmRvdy5Qb2ludGVyR2VzdHVyZXMpLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGlzcGF0Y2hlcixjPW5ldyBhLlBvaW50ZXJNYXAsZD0xODAvTWF0aC5QSSxlPXtldmVudHM6WyJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcmNhbmNlbCJdLHJlZmVyZW5jZTp7fSxwb2ludGVyZG93bjpmdW5jdGlvbihiKXtpZihjLnNldChiLnBvaW50ZXJJZCxiKSwyPT1jLnBvaW50ZXJzKCkpe3ZhciBkPXRoaXMuY2FsY0Nob3JkKCksZT10aGlzLmNhbGNBbmdsZShkKTt0aGlzLnJlZmVyZW5jZT17YW5nbGU6ZSxkaWFtZXRlcjpkLmRpYW1ldGVyLHRhcmdldDphLmZpbmRMQ0EoZC5hLnRhcmdldCxkLmIudGFyZ2V0KX19fSxwb2ludGVydXA6ZnVuY3Rpb24oYSl7Yy5kZWxldGUoYS5wb2ludGVySWQpfSxwb2ludGVybW92ZTpmdW5jdGlvbihhKXtjLmhhcyhhLnBvaW50ZXJJZCkmJihjLnNldChhLnBvaW50ZXJJZCxhKSxjLnBvaW50ZXJzKCk+MSYmdGhpcy5jYWxjUGluY2hSb3RhdGUoKSl9LHBvaW50ZXJjYW5jZWw6ZnVuY3Rpb24oYSl7dGhpcy5wb2ludGVydXAoYSl9LGRpc3BhdGNoUGluY2g6ZnVuY3Rpb24oYSxjKXt2YXIgZD1hL3RoaXMucmVmZXJlbmNlLmRpYW1ldGVyLGU9Yi5tYWtlRXZlbnQoInBpbmNoIix7c2NhbGU6ZCxjZW50ZXJYOmMuY2VudGVyLngsY2VudGVyWTpjLmNlbnRlci55fSk7Yi5kaXNwYXRjaEV2ZW50KGUsdGhpcy5yZWZlcmVuY2UudGFyZ2V0KX0sZGlzcGF0Y2hSb3RhdGU6ZnVuY3Rpb24oYSxjKXt2YXIgZD1NYXRoLnJvdW5kKChhLXRoaXMucmVmZXJlbmNlLmFuZ2xlKSUzNjApLGU9Yi5tYWtlRXZlbnQoInJvdGF0ZSIse2FuZ2xlOmQsY2VudGVyWDpjLmNlbnRlci54LGNlbnRlclk6Yy5jZW50ZXIueX0pO2IuZGlzcGF0Y2hFdmVudChlLHRoaXMucmVmZXJlbmNlLnRhcmdldCl9LGNhbGNQaW5jaFJvdGF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY2FsY0Nob3JkKCksYj1hLmRpYW1ldGVyLGM9dGhpcy5jYWxjQW5nbGUoYSk7YiE9dGhpcy5yZWZlcmVuY2UuZGlhbWV0ZXImJnRoaXMuZGlzcGF0Y2hQaW5jaChiLGEpLGMhPXRoaXMucmVmZXJlbmNlLmFuZ2xlJiZ0aGlzLmRpc3BhdGNoUm90YXRlKGMsYSl9LGNhbGNDaG9yZDpmdW5jdGlvbigpe3ZhciBhPVtdO2MuZm9yRWFjaChmdW5jdGlvbihiKXthLnB1c2goYil9KTtmb3IodmFyIGIsZCxlLGY9MCxnPXt9LGg9MDtoPGEubGVuZ3RoO2grKylmb3IodmFyIGk9YVtoXSxqPWgrMTtqPGEubGVuZ3RoO2orKyl7dmFyIGs9YVtqXTtiPU1hdGguYWJzKGkuY2xpZW50WC1rLmNsaWVudFgpLGQ9TWF0aC5hYnMoaS5jbGllbnRZLWsuY2xpZW50WSksZT1iK2QsZT5mJiYoZj1lLGc9e2E6aSxiOmt9KX1yZXR1cm4gYj1NYXRoLmFicyhnLmEuY2xpZW50WCtnLmIuY2xpZW50WCkvMixkPU1hdGguYWJzKGcuYS5jbGllbnRZK2cuYi5jbGllbnRZKS8yLGcuY2VudGVyPXt4OmIseTpkfSxnLmRpYW1ldGVyPWYsZ30sY2FsY0FuZ2xlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuYS5jbGllbnRYLWEuYi5jbGllbnRYLGM9YS5hLmNsaWVudFktYS5iLmNsaWVudFk7cmV0dXJuKDM2MCtNYXRoLmF0YW4yKGMsYikqZCklMzYwfX07Yi5yZWdpc3RlclJlY29nbml6ZXIoInBpbmNoIixlKX0od2luZG93LlBvaW50ZXJHZXN0dXJlcyksZnVuY3Rpb24oYSl7dmFyIGI9YS5kaXNwYXRjaGVyLGM9bmV3IGEuUG9pbnRlck1hcCxkPXtldmVudHM6WyJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcmNhbmNlbCIsImtleXVwIl0scG9pbnRlcmRvd246ZnVuY3Rpb24oYSl7YS5pc1ByaW1hcnkmJiFhLnRhcFByZXZlbnRlZCYmYy5zZXQoYS5wb2ludGVySWQse3RhcmdldDphLnRhcmdldCx4OmEuY2xpZW50WCx5OmEuY2xpZW50WX0pfSxwb2ludGVybW92ZTpmdW5jdGlvbihhKXtpZihhLmlzUHJpbWFyeSl7dmFyIGI9Yy5nZXQoYS5wb2ludGVySWQpO2ImJmEudGFwUHJldmVudGVkJiZjLmRlbGV0ZShhLnBvaW50ZXJJZCl9fSxzaG91bGRUYXA6ZnVuY3Rpb24oYSl7cmV0dXJuIGEudGFwUHJldmVudGVkP3ZvaWQgMDoibW91c2UiPT09YS5wb2ludGVyVHlwZT8xPT09YS5idXR0b25zOiEwfSxwb2ludGVydXA6ZnVuY3Rpb24oZCl7dmFyIGU9Yy5nZXQoZC5wb2ludGVySWQpO2lmKGUmJnRoaXMuc2hvdWxkVGFwKGQpKXt2YXIgZj1hLmZpbmRMQ0EoZS50YXJnZXQsZC50YXJnZXQpO2lmKGYpe3ZhciBnPWIubWFrZUV2ZW50KCJ0YXAiLHt4OmQuY2xpZW50WCx5OmQuY2xpZW50WSxkZXRhaWw6ZC5kZXRhaWwscG9pbnRlclR5cGU6ZC5wb2ludGVyVHlwZX0pO2IuZGlzcGF0Y2hFdmVudChnLGYpfX1jLmRlbGV0ZShkLnBvaW50ZXJJZCl9LHBvaW50ZXJjYW5jZWw6ZnVuY3Rpb24oYSl7Yy5kZWxldGUoYS5wb2ludGVySWQpfSxrZXl1cDpmdW5jdGlvbihhKXt2YXIgYz1hLmtleUNvZGU7aWYoMzI9PT1jKXt2YXIgZD1hLnRhcmdldDtkIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudHx8ZCBpbnN0YW5jZW9mIEhUTUxUZXh0QXJlYUVsZW1lbnR8fGIuZGlzcGF0Y2hFdmVudChiLm1ha2VFdmVudCgidGFwIix7eDowLHk6MCxkZXRhaWw6MCxwb2ludGVyVHlwZToidW5hdmFpbGFibGUifSksZCl9fSxwcmV2ZW50VGFwOmZ1bmN0aW9uKGEpe2MuZGVsZXRlKGEpfX07Yi5yZWdpc3RlclJlY29nbml6ZXIoInRhcCIsZCl9KHdpbmRvdy5Qb2ludGVyR2VzdHVyZXMpLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGEoYSl7Zm9yKDthLnBhcmVudE5vZGU7KWE9YS5wYXJlbnROb2RlO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBhLmdldEVsZW1lbnRCeUlkP2E6bnVsbH1mdW5jdGlvbiBiKGEsYil7dmFyIGM9YS5iaW5kaW5ncztpZighYylyZXR1cm4gdm9pZChhLmJpbmRpbmdzPXt9KTt2YXIgZD1jW2JdO2QmJihkLmNsb3NlKCksY1tiXT12b2lkIDApfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIG51bGw9PWE/IiI6YX1mdW5jdGlvbiBkKGEsYil7YS5kYXRhPWMoYil9ZnVuY3Rpb24gZShhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGQoYSxiKX19ZnVuY3Rpb24gZihhLGIsZCxlKXtyZXR1cm4gZD92b2lkKGU/YS5zZXRBdHRyaWJ1dGUoYiwiIik6YS5yZW1vdmVBdHRyaWJ1dGUoYikpOnZvaWQgYS5zZXRBdHRyaWJ1dGUoYixjKGUpKX1mdW5jdGlvbiBnKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7ZihhLGIsYyxkKX19ZnVuY3Rpb24gaChhKXtzd2l0Y2goYS50eXBlKXtjYXNlImNoZWNrYm94IjpyZXR1cm4gcztjYXNlInJhZGlvIjpjYXNlInNlbGVjdC1tdWx0aXBsZSI6Y2FzZSJzZWxlY3Qtb25lIjpyZXR1cm4iY2hhbmdlIjtjYXNlInJhbmdlIjppZigvVHJpZGVudHxNU0lFLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKXJldHVybiJjaGFuZ2UiO2RlZmF1bHQ6cmV0dXJuImlucHV0In19ZnVuY3Rpb24gaShhLGIsZCxlKXthW2JdPShlfHxjKShkKX1mdW5jdGlvbiBqKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7cmV0dXJuIGkoYSxiLGQsYyl9fWZ1bmN0aW9uIGsoKXt9ZnVuY3Rpb24gbChhLGIsYyxkKXtmdW5jdGlvbiBlKCl7Yy5zZXRWYWx1ZShhW2JdKSxjLmRpc2NhcmRDaGFuZ2VzKCksKGR8fGspKGEpLFBsYXRmb3JtLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50KCl9dmFyIGY9aChhKTthLmFkZEV2ZW50TGlzdGVuZXIoZixlKTt2YXIgZz1jLmNsb3NlO2MuY2xvc2U9ZnVuY3Rpb24oKXtnJiYoYS5yZW1vdmVFdmVudExpc3RlbmVyKGYsZSksYy5jbG9zZT1nLGMuY2xvc2UoKSxnPXZvaWQgMCl9fWZ1bmN0aW9uIG0oYSl7cmV0dXJuIEJvb2xlYW4oYSl9ZnVuY3Rpb24gbihiKXtpZihiLmZvcm0pcmV0dXJuIHIoYi5mb3JtLmVsZW1lbnRzLGZ1bmN0aW9uKGEpe3JldHVybiBhIT1iJiYiSU5QVVQiPT1hLnRhZ05hbWUmJiJyYWRpbyI9PWEudHlwZSYmYS5uYW1lPT1iLm5hbWV9KTt2YXIgYz1hKGIpO2lmKCFjKXJldHVybltdO3ZhciBkPWMucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT0icmFkaW8iXVtuYW1lPSInK2IubmFtZSsnIl0nKTtyZXR1cm4gcihkLGZ1bmN0aW9uKGEpe3JldHVybiBhIT1iJiYhYS5mb3JtfSl9ZnVuY3Rpb24gbyhhKXsiSU5QVVQiPT09YS50YWdOYW1lJiYicmFkaW8iPT09YS50eXBlJiZuKGEpLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YS5iaW5kaW5ncy5jaGVja2VkO2ImJmIuc2V0VmFsdWUoITEpfSl9ZnVuY3Rpb24gcChhLGIpe3ZhciBkLGUsZixnPWEucGFyZW50Tm9kZTtnIGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnQmJmcuYmluZGluZ3MmJmcuYmluZGluZ3MudmFsdWUmJihkPWcsZT1kLmJpbmRpbmdzLnZhbHVlLGY9ZC52YWx1ZSksYS52YWx1ZT1jKGIpLGQmJmQudmFsdWUhPWYmJihlLnNldFZhbHVlKGQudmFsdWUpLGUuZGlzY2FyZENoYW5nZXMoKSxQbGF0Zm9ybS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludCgpKX1mdW5jdGlvbiBxKGEpe3JldHVybiBmdW5jdGlvbihiKXtwKGEsYil9fXZhciByPUFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5maWx0ZXIpOyJmdW5jdGlvbiIhPXR5cGVvZiBkb2N1bWVudC5jb250YWlucyYmKERvY3VtZW50LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihhKXtyZXR1cm4gYT09PXRoaXN8fGEucGFyZW50Tm9kZT09PXRoaXM/ITA6dGhpcy5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMoYSl9KSxOb2RlLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYil7Y29uc29sZS5lcnJvcigiVW5oYW5kbGVkIGJpbmRpbmcgdG8gTm9kZTogIix0aGlzLGEsYil9LE5vZGUucHJvdG90eXBlLnVuYmluZD1mdW5jdGlvbihhKXtiKHRoaXMsYSl9LE5vZGUucHJvdG90eXBlLnVuYmluZEFsbD1mdW5jdGlvbigpe2lmKHRoaXMuYmluZGluZ3Mpe2Zvcih2YXIgYT1PYmplY3Qua2V5cyh0aGlzLmJpbmRpbmdzKSxiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPXRoaXMuYmluZGluZ3NbYVtiXV07YyYmYy5jbG9zZSgpfXRoaXMuYmluZGluZ3M9e319fSxUZXh0LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYyxmKXtyZXR1cm4idGV4dENvbnRlbnQiIT09YT9Ob2RlLnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGMsZik6Zj9kKHRoaXMsYyk6KGIodGhpcywidGV4dENvbnRlbnQiKSxkKHRoaXMsYy5vcGVuKGUodGhpcykpKSx0aGlzLmJpbmRpbmdzLnRleHRDb250ZW50PWMpfSxFbGVtZW50LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYyxkKXt2YXIgZT0iPyI9PWFbYS5sZW5ndGgtMV07cmV0dXJuIGUmJih0aGlzLnJlbW92ZUF0dHJpYnV0ZShhKSxhPWEuc2xpY2UoMCwtMSkpLGQ/Zih0aGlzLGEsZSxjKTooYih0aGlzLGEpLGYodGhpcyxhLGUsYy5vcGVuKGcodGhpcyxhLGUpKSksdGhpcy5iaW5kaW5nc1thXT1jKX07dmFyIHM7IWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksYj1hLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0IikpO2Iuc2V0QXR0cmlidXRlKCJ0eXBlIiwiY2hlY2tib3giKTt2YXIgYyxkPTA7Yi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oKXtkKyssYz1jfHwiY2xpY2sifSksYi5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLGZ1bmN0aW9uKCl7ZCsrLGM9Y3x8ImNoYW5nZSJ9KTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFdmVudCgiTW91c2VFdmVudCIpO2UuaW5pdE1vdXNlRXZlbnQoImNsaWNrIiwhMCwhMCx3aW5kb3csMCwwLDAsMCwwLCExLCExLCExLCExLDAsbnVsbCksYi5kaXNwYXRjaEV2ZW50KGUpLHM9MT09ZD8iY2hhbmdlIjpjfSgpLEhUTUxJbnB1dEVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxkLGUpe2lmKCJ2YWx1ZSIhPT1hJiYiY2hlY2tlZCIhPT1hKXJldHVybiBIVE1MRWxlbWVudC5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsYSxkLGUpO3RoaXMucmVtb3ZlQXR0cmlidXRlKGEpO3ZhciBmPSJjaGVja2VkIj09YT9tOmMsZz0iY2hlY2tlZCI9PWE/bzprO3JldHVybiBlP2kodGhpcyxhLGQsZik6KGIodGhpcyxhKSxsKHRoaXMsYSxkLGcpLGkodGhpcyxhLGQub3BlbihqKHRoaXMsYSxmKSksZiksdGhpcy5iaW5kaW5nc1thXT1kKX0sSFRNTFRleHRBcmVhRWxlbWVudC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGQsZSl7cmV0dXJuInZhbHVlIiE9PWE/SFRNTEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsZCxlKToodGhpcy5yZW1vdmVBdHRyaWJ1dGUoInZhbHVlIiksZT9pKHRoaXMsInZhbHVlIixkKTooYih0aGlzLCJ2YWx1ZSIpLGwodGhpcywidmFsdWUiLGQpLGkodGhpcywidmFsdWUiLGQub3BlbihqKHRoaXMsInZhbHVlIixjKSkpLHRoaXMuYmluZGluZ3MudmFsdWU9ZCkpfSxIVE1MT3B0aW9uRWxlbWVudC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGMsZCl7cmV0dXJuInZhbHVlIiE9PWE/SFRNTEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsYyxkKToodGhpcy5yZW1vdmVBdHRyaWJ1dGUoInZhbHVlIiksZD9wKHRoaXMsYyk6KGIodGhpcywidmFsdWUiKSxsKHRoaXMsInZhbHVlIixjKSxwKHRoaXMsYy5vcGVuKHEodGhpcykpKSx0aGlzLmJpbmRpbmdzLnZhbHVlPWMpKX0sSFRNTFNlbGVjdEVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxjLGQpe3JldHVybiJzZWxlY3RlZGluZGV4Ij09PWEmJihhPSJzZWxlY3RlZEluZGV4IiksInNlbGVjdGVkSW5kZXgiIT09YSYmInZhbHVlIiE9PWE/SFRNTEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsYyxkKToodGhpcy5yZW1vdmVBdHRyaWJ1dGUoYSksZD9pKHRoaXMsYSxjKTooYih0aGlzLGEpLGwodGhpcyxhLGMpLGkodGhpcyxhLGMub3BlbihqKHRoaXMsYSkpKSx0aGlzLmJpbmRpbmdzW2FdPWMpKX19KHRoaXMpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2lmKCFhKXRocm93IG5ldyBFcnJvcigiQXNzZXJ0aW9uIGZhaWxlZCIpfWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBiO2I9YS5wYXJlbnROb2RlOylhPWI7cmV0dXJuIGF9ZnVuY3Rpb24gZChhLGIpe2lmKGIpe2Zvcih2YXIgZCxlPSIjIitiOyFkJiYoYT1jKGEpLGEucHJvdG9Db250ZW50Xz9kPWEucHJvdG9Db250ZW50Xy5xdWVyeVNlbGVjdG9yKGUpOmEuZ2V0RWxlbWVudEJ5SWQmJihkPWEuZ2V0RWxlbWVudEJ5SWQoYikpLCFkJiZhLnRlbXBsYXRlQ3JlYXRvcl8pOylhPWEudGVtcGxhdGVDcmVhdG9yXztyZXR1cm4gZH19ZnVuY3Rpb24gZShhKXtyZXR1cm4idGVtcGxhdGUiPT1hLnRhZ05hbWUmJiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI9PWEubmFtZXNwYWNlVVJJfWZ1bmN0aW9uIGYoYSl7cmV0dXJuIlRFTVBMQVRFIj09YS50YWdOYW1lJiYiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI9PWEubmFtZXNwYWNlVVJJfWZ1bmN0aW9uIGcoYSl7cmV0dXJuIEJvb2xlYW4oSlthLnRhZ05hbWVdJiZhLmhhc0F0dHJpYnV0ZSgidGVtcGxhdGUiKSl9ZnVuY3Rpb24gaChhKXtyZXR1cm4gdm9pZCAwPT09YS5pc1RlbXBsYXRlXyYmKGEuaXNUZW1wbGF0ZV89IlRFTVBMQVRFIj09YS50YWdOYW1lfHxnKGEpKSxhLmlzVGVtcGxhdGVffWZ1bmN0aW9uIGkoYSxiKXt2YXIgYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoTCk7aChhKSYmYihhKSxFKGMsYil9ZnVuY3Rpb24gaihhKXtmdW5jdGlvbiBiKGEpe0hUTUxUZW1wbGF0ZUVsZW1lbnQuZGVjb3JhdGUoYSl8fGooYS5jb250ZW50KX1pKGEsYil9ZnVuY3Rpb24gayhhLGIpe09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGIpLmZvckVhY2goZnVuY3Rpb24oYyl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYyxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGIsYykpfSl9ZnVuY3Rpb24gbChhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQ7aWYoIWIuZGVmYXVsdFZpZXcpcmV0dXJuIGI7dmFyIGM9Yi50ZW1wbGF0ZUNvbnRlbnRzT3duZXJfO2lmKCFjKXtmb3IoYz1iLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIik7Yy5sYXN0Q2hpbGQ7KWMucmVtb3ZlQ2hpbGQoYy5sYXN0Q2hpbGQpO2IudGVtcGxhdGVDb250ZW50c093bmVyXz1jfXJldHVybiBjfWZ1bmN0aW9uIG0oYSl7aWYoIWEuc3RhZ2luZ0RvY3VtZW50Xyl7dmFyIGI9YS5vd25lckRvY3VtZW50O2lmKCFiLnN0YWdpbmdEb2N1bWVudF8pe2Iuc3RhZ2luZ0RvY3VtZW50Xz1iLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIik7dmFyIGM9Yi5zdGFnaW5nRG9jdW1lbnRfLmNyZWF0ZUVsZW1lbnQoImJhc2UiKTtjLmhyZWY9ZG9jdW1lbnQuYmFzZVVSSSxiLnN0YWdpbmdEb2N1bWVudF8uaGVhZC5hcHBlbmRDaGlsZChjKSxiLnN0YWdpbmdEb2N1bWVudF8uc3RhZ2luZ0RvY3VtZW50Xz1iLnN0YWdpbmdEb2N1bWVudF99YS5zdGFnaW5nRG9jdW1lbnRfPWIuc3RhZ2luZ0RvY3VtZW50X31yZXR1cm4gYS5zdGFnaW5nRG9jdW1lbnRffWZ1bmN0aW9uIG4oYSl7dmFyIGI9YS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRlbXBsYXRlIik7YS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShiLGEpO2Zvcih2YXIgYz1hLmF0dHJpYnV0ZXMsZD1jLmxlbmd0aDtkLS0+MDspe3ZhciBlPWNbZF07SVtlLm5hbWVdJiYoInRlbXBsYXRlIiE9PWUubmFtZSYmYi5zZXRBdHRyaWJ1dGUoZS5uYW1lLGUudmFsdWUpLGEucmVtb3ZlQXR0cmlidXRlKGUubmFtZSkpfXJldHVybiBifWZ1bmN0aW9uIG8oYSl7dmFyIGI9YS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRlbXBsYXRlIik7YS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShiLGEpO2Zvcih2YXIgYz1hLmF0dHJpYnV0ZXMsZD1jLmxlbmd0aDtkLS0+MDspe3ZhciBlPWNbZF07Yi5zZXRBdHRyaWJ1dGUoZS5uYW1lLGUudmFsdWUpLGEucmVtb3ZlQXR0cmlidXRlKGUubmFtZSl9cmV0dXJuIGEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKSxifWZ1bmN0aW9uIHAoYSxiLGMpe3ZhciBkPWEuY29udGVudDtpZihjKXJldHVybiB2b2lkIGQuYXBwZW5kQ2hpbGQoYik7Zm9yKHZhciBlO2U9Yi5maXJzdENoaWxkOylkLmFwcGVuZENoaWxkKGUpfWZ1bmN0aW9uIHEoYSl7Tj9hLl9fcHJvdG9fXz1IVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZTprKGEsSFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGUpfWZ1bmN0aW9uIHIoYSl7YS5zZXRNb2RlbEZuX3x8KGEuc2V0TW9kZWxGbl89ZnVuY3Rpb24oKXthLnNldE1vZGVsRm5TY2hlZHVsZWRfPSExO3ZhciBiPXooYSxhLmRlbGVnYXRlXyYmYS5kZWxlZ2F0ZV8ucHJlcGFyZUJpbmRpbmcpO3coYSxiLGEubW9kZWxfKX0pLGEuc2V0TW9kZWxGblNjaGVkdWxlZF98fChhLnNldE1vZGVsRm5TY2hlZHVsZWRfPSEwLE9ic2VydmVyLnJ1bkVPTV8oYS5zZXRNb2RlbEZuXykpfWZ1bmN0aW9uIHMoYSxiLGMsZCl7aWYoYSYmYS5sZW5ndGgpe2Zvcih2YXIgZSxmPWEubGVuZ3RoLGc9MCxoPTAsaT0wLGo9ITA7Zj5oOyl7dmFyIGc9YS5pbmRleE9mKCJ7eyIsaCksaz1hLmluZGV4T2YoIltbIixoKSxsPSExLG09In19IjtpZihrPj0wJiYoMD5nfHxnPmspJiYoZz1rLGw9ITAsbT0iXV0iKSxpPTA+Zz8tMTphLmluZGV4T2YobSxnKzIpLDA+aSl7aWYoIWUpcmV0dXJuO2UucHVzaChhLnNsaWNlKGgpKTticmVha31lPWV8fFtdLGUucHVzaChhLnNsaWNlKGgsZykpO3ZhciBuPWEuc2xpY2UoZysyLGkpLnRyaW0oKTtlLnB1c2gobCksaj1qJiZsLGUucHVzaChQYXRoLmdldChuKSk7dmFyIG89ZCYmZChuLGIsYyk7ZS5wdXNoKG8pLGg9aSsyfXJldHVybiBoPT09ZiYmZS5wdXNoKCIiKSxlLmhhc09uZVBhdGg9NT09PWUubGVuZ3RoLGUuaXNTaW1wbGVQYXRoPWUuaGFzT25lUGF0aCYmIiI9PWVbMF0mJiIiPT1lWzRdLGUub25seU9uZVRpbWU9aixlLmNvbWJpbmF0b3I9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWVbMF0sYz0xO2M8ZS5sZW5ndGg7Yys9NCl7dmFyIGQ9ZS5oYXNPbmVQYXRoP2E6YVsoYy0xKS80XTt2b2lkIDAhPT1kJiYoYis9ZCksYis9ZVtjKzNdfXJldHVybiBifSxlfX1mdW5jdGlvbiB0KGEsYixjLGQpe2lmKGIuaGFzT25lUGF0aCl7dmFyIGU9YlszXSxmPWU/ZShkLGMsITApOmJbMl0uZ2V0VmFsdWVGcm9tKGQpO3JldHVybiBiLmlzU2ltcGxlUGF0aD9mOmIuY29tYmluYXRvcihmKX1mb3IodmFyIGc9W10saD0xO2g8Yi5sZW5ndGg7aCs9NCl7dmFyIGU9YltoKzJdO2dbKGgtMSkvNF09ZT9lKGQsYyk6YltoKzFdLmdldFZhbHVlRnJvbShkKX1yZXR1cm4gYi5jb21iaW5hdG9yKGcpfWZ1bmN0aW9uIHUoYSxiLGMsZCl7dmFyIGU9YlszXSxmPWU/ZShkLGMsITEpOm5ldyBQYXRoT2JzZXJ2ZXIoZCxiWzJdKTtyZXR1cm4gYi5pc1NpbXBsZVBhdGg/ZjpuZXcgT2JzZXJ2ZXJUcmFuc2Zvcm0oZixiLmNvbWJpbmF0b3IpfWZ1bmN0aW9uIHYoYSxiLGMsZCl7aWYoYi5vbmx5T25lVGltZSlyZXR1cm4gdChhLGIsYyxkKTtpZihiLmhhc09uZVBhdGgpcmV0dXJuIHUoYSxiLGMsZCk7Zm9yKHZhciBlPW5ldyBDb21wb3VuZE9ic2VydmVyLGY9MTtmPGIubGVuZ3RoO2YrPTQpe3ZhciBnPWJbZl0saD1iW2YrMl07aWYoaCl7dmFyIGk9aChkLGMsZyk7Zz9lLmFkZFBhdGgoaSk6ZS5hZGRPYnNlcnZlcihpKX1lbHNle3ZhciBqPWJbZisxXTtnP2UuYWRkUGF0aChqLmdldFZhbHVlRnJvbShkKSk6ZS5hZGRQYXRoKGQsail9fXJldHVybiBuZXcgT2JzZXJ2ZXJUcmFuc2Zvcm0oZSxiLmNvbWJpbmF0b3IpfWZ1bmN0aW9uIHcoYSxiLGMsZCl7Zm9yKHZhciBlPTA7ZTxiLmxlbmd0aDtlKz0yKXt2YXIgZj1iW2VdLGc9YltlKzFdLGg9dihmLGcsYSxjKSxpPWEuYmluZChmLGgsZy5vbmx5T25lVGltZSk7aSYmZCYmZC5wdXNoKGkpfWlmKGIuaXNUZW1wbGF0ZSl7YS5tb2RlbF89Yzt2YXIgaj1hLnByb2Nlc3NCaW5kaW5nRGlyZWN0aXZlc18oYik7ZCYmaiYmZC5wdXNoKGopfX1mdW5jdGlvbiB4KGEsYixjKXt2YXIgZD1hLmdldEF0dHJpYnV0ZShiKTtyZXR1cm4gcygiIj09ZD8ie3t9fSI6ZCxiLGEsYyl9ZnVuY3Rpb24geShhLGMpe2IoYSk7Zm9yKHZhciBkPVtdLGU9MDtlPGEuYXR0cmlidXRlcy5sZW5ndGg7ZSsrKXtmb3IodmFyIGY9YS5hdHRyaWJ1dGVzW2VdLGc9Zi5uYW1lLGk9Zi52YWx1ZTsiXyI9PT1nWzBdOylnPWcuc3Vic3RyaW5nKDEpO2lmKCFoKGEpfHxnIT09SCYmZyE9PUYmJmchPT1HKXt2YXIgaj1zKGksZyxhLGMpO2omJmQucHVzaChnLGopfX1yZXR1cm4gaChhKSYmKGQuaXNUZW1wbGF0ZT0hMCxkLmlmPXgoYSxILGMpLGQuYmluZD14KGEsRixjKSxkLnJlcGVhdD14KGEsRyxjKSwhZC5pZnx8ZC5iaW5kfHxkLnJlcGVhdHx8KGQuYmluZD1zKCJ7e319IixGLGEsYykpKSxkfWZ1bmN0aW9uIHooYSxiKXtpZihhLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUpcmV0dXJuIHkoYSxiKTtpZihhLm5vZGVUeXBlPT09Tm9kZS5URVhUX05PREUpe3ZhciBjPXMoYS5kYXRhLCJ0ZXh0Q29udGVudCIsYSxiKTtpZihjKXJldHVyblsidGV4dENvbnRlbnQiLGNdfXJldHVybltdfWZ1bmN0aW9uIEEoYSxiLGMsZCxlLGYsZyl7Zm9yKHZhciBoPWIuYXBwZW5kQ2hpbGQoYy5pbXBvcnROb2RlKGEsITEpKSxpPTAsaj1hLmZpcnN0Q2hpbGQ7ajtqPWoubmV4dFNpYmxpbmcpQShqLGgsYyxkLmNoaWxkcmVuW2krK10sZSxmLGcpO3JldHVybiBkLmlzVGVtcGxhdGUmJihIVE1MVGVtcGxhdGVFbGVtZW50LmRlY29yYXRlKGgsYSksZiYmaC5zZXREZWxlZ2F0ZV8oZikpLHcoaCxkLGUsZyksaH1mdW5jdGlvbiBCKGEsYil7dmFyIGM9eihhLGIpO2MuY2hpbGRyZW49e307Zm9yKHZhciBkPTAsZT1hLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpYy5jaGlsZHJlbltkKytdPUIoZSxiKTtyZXR1cm4gY31mdW5jdGlvbiBDKGEpe3RoaXMuY2xvc2VkPSExLHRoaXMudGVtcGxhdGVFbGVtZW50Xz1hLHRoaXMudGVybWluYXRvcnM9W10sdGhpcy5kZXBzPXZvaWQgMCx0aGlzLml0ZXJhdGVkVmFsdWU9W10sdGhpcy5wcmVzZW50VmFsdWU9dm9pZCAwLHRoaXMuYXJyYXlPYnNlcnZlcj12b2lkIDB9dmFyIEQsRT1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpOwphLk1hcCYmImZ1bmN0aW9uIj09dHlwZW9mIGEuTWFwLnByb3RvdHlwZS5mb3JFYWNoP0Q9YS5NYXA6KEQ9ZnVuY3Rpb24oKXt0aGlzLmtleXM9W10sdGhpcy52YWx1ZXM9W119LEQucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmtleXMuaW5kZXhPZihhKTswPmM/KHRoaXMua2V5cy5wdXNoKGEpLHRoaXMudmFsdWVzLnB1c2goYikpOnRoaXMudmFsdWVzW2NdPWJ9LGdldDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmtleXMuaW5kZXhPZihhKTtpZighKDA+YikpcmV0dXJuIHRoaXMudmFsdWVzW2JdfSwiZGVsZXRlIjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmtleXMuaW5kZXhPZihhKTtyZXR1cm4gMD5iPyExOih0aGlzLmtleXMuc3BsaWNlKGIsMSksdGhpcy52YWx1ZXMuc3BsaWNlKGIsMSksITApfSxmb3JFYWNoOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yzx0aGlzLmtleXMubGVuZ3RoO2MrKylhLmNhbGwoYnx8dGhpcyx0aGlzLnZhbHVlc1tjXSx0aGlzLmtleXNbY10sdGhpcyl9fSk7ImZ1bmN0aW9uIiE9dHlwZW9mIGRvY3VtZW50LmNvbnRhaW5zJiYoRG9jdW1lbnQucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09dGhpc3x8YS5wYXJlbnROb2RlPT09dGhpcz8hMDp0aGlzLmRvY3VtZW50RWxlbWVudC5jb250YWlucyhhKX0pO3ZhciBGPSJiaW5kIixHPSJyZXBlYXQiLEg9ImlmIixJPXt0ZW1wbGF0ZTohMCxyZXBlYXQ6ITAsYmluZDohMCxyZWY6ITB9LEo9e1RIRUFEOiEwLFRCT0RZOiEwLFRGT09UOiEwLFRIOiEwLFRSOiEwLFREOiEwLENPTEdST1VQOiEwLENPTDohMCxDQVBUSU9OOiEwLE9QVElPTjohMCxPUFRHUk9VUDohMH0sSz0idW5kZWZpbmVkIiE9dHlwZW9mIEhUTUxUZW1wbGF0ZUVsZW1lbnQ7SyYmIWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKSxiPWEuY29udGVudC5vd25lckRvY3VtZW50LGM9Yi5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQoImh0bWwiKSksZD1jLmFwcGVuZENoaWxkKGIuY3JlYXRlRWxlbWVudCgiaGVhZCIpKSxlPWIuY3JlYXRlRWxlbWVudCgiYmFzZSIpO2UuaHJlZj1kb2N1bWVudC5iYXNlVVJJLGQuYXBwZW5kQ2hpbGQoZSl9KCk7dmFyIEw9InRlbXBsYXRlLCAiK09iamVjdC5rZXlzKEopLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS50b0xvd2VyQ2FzZSgpKyJbdGVtcGxhdGVdIn0pLmpvaW4oIiwgIik7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXtqKGRvY3VtZW50KSxQbGF0Zm9ybS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludCgpfSwhMSksS3x8KGEuSFRNTFRlbXBsYXRlRWxlbWVudD1mdW5jdGlvbigpe3Rocm93IFR5cGVFcnJvcigiSWxsZWdhbCBjb25zdHJ1Y3RvciIpfSk7dmFyIE0sTj0iX19wcm90b19fImlue307ImZ1bmN0aW9uIj09dHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXImJihNPW5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWFbYl0udGFyZ2V0LnJlZkNoYW5nZWRfKCl9KSksSFRNTFRlbXBsYXRlRWxlbWVudC5kZWNvcmF0ZT1mdW5jdGlvbihhLGMpe2lmKGEudGVtcGxhdGVJc0RlY29yYXRlZF8pcmV0dXJuITE7dmFyIGQ9YTtkLnRlbXBsYXRlSXNEZWNvcmF0ZWRfPSEwO3ZhciBoPWYoZCkmJkssaT1oLGs9IWgsbT0hMTtpZihofHwoZyhkKT8oYighYyksZD1uKGEpLGQudGVtcGxhdGVJc0RlY29yYXRlZF89ITAsaD1LLG09ITApOmUoZCkmJihkPW8oYSksZC50ZW1wbGF0ZUlzRGVjb3JhdGVkXz0hMCxoPUspKSwhaCl7cShkKTt2YXIgcj1sKGQpO2QuY29udGVudF89ci5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCl9cmV0dXJuIGM/ZC5pbnN0YW5jZVJlZl89YzprP3AoZCxhLG0pOmkmJmooZC5jb250ZW50KSwhMH0sSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXA9ajt2YXIgTz1hLkhUTUxVbmtub3duRWxlbWVudHx8SFRNTEVsZW1lbnQsUD17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudF99LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfTtLfHwoSFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShPLnByb3RvdHlwZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlLCJjb250ZW50IixQKSksayhIVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZSx7YmluZDpmdW5jdGlvbihhLGIsYyl7aWYoInJlZiIhPWEpcmV0dXJuIEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsYixjKTt2YXIgZD10aGlzLGU9Yz9iOmIub3BlbihmdW5jdGlvbihhKXtkLnNldEF0dHJpYnV0ZSgicmVmIixhKSxkLnJlZkNoYW5nZWRfKCl9KTtyZXR1cm4gdGhpcy5zZXRBdHRyaWJ1dGUoInJlZiIsZSksdGhpcy5yZWZDaGFuZ2VkXygpLGM/dm9pZCAwOih0aGlzLnVuYmluZCgicmVmIiksdGhpcy5iaW5kaW5ncy5yZWY9Yil9LHByb2Nlc3NCaW5kaW5nRGlyZWN0aXZlc186ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXRlcmF0b3JfJiZ0aGlzLml0ZXJhdG9yXy5jbG9zZURlcHMoKSxhLmlmfHxhLmJpbmR8fGEucmVwZWF0Pyh0aGlzLml0ZXJhdG9yX3x8KHRoaXMuaXRlcmF0b3JfPW5ldyBDKHRoaXMpLHRoaXMuYmluZGluZ3M9dGhpcy5iaW5kaW5nc3x8e30sdGhpcy5iaW5kaW5ncy5pdGVyYXRvcj10aGlzLml0ZXJhdG9yXyksdGhpcy5pdGVyYXRvcl8udXBkYXRlRGVwZW5kZW5jaWVzKGEsdGhpcy5tb2RlbF8pLE0mJk0ub2JzZXJ2ZSh0aGlzLHthdHRyaWJ1dGVzOiEwLGF0dHJpYnV0ZUZpbHRlcjpbInJlZiJdfSksdGhpcy5pdGVyYXRvcl8pOnZvaWQodGhpcy5pdGVyYXRvcl8mJih0aGlzLml0ZXJhdG9yXy5jbG9zZSgpLHRoaXMuaXRlcmF0b3JfPXZvaWQgMCx0aGlzLmJpbmRpbmdzLml0ZXJhdG9yPXZvaWQgMCkpfSxjcmVhdGVJbnN0YW5jZTpmdW5jdGlvbihhLGIsYyxkKXtiJiYoYz10aGlzLm5ld0RlbGVnYXRlXyhiKSksdGhpcy5yZWZDb250ZW50X3x8KHRoaXMucmVmQ29udGVudF89dGhpcy5yZWZfLmNvbnRlbnQpO3ZhciBlPXRoaXMucmVmQ29udGVudF8sZj10aGlzLmJpbmRpbmdNYXBfO2YmJmYuY29udGVudD09PWV8fChmPUIoZSxjJiZjLnByZXBhcmVCaW5kaW5nKXx8W10sZi5jb250ZW50PWUsdGhpcy5iaW5kaW5nTWFwXz1mKTt2YXIgZz1tKHRoaXMpLGg9Zy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7aC50ZW1wbGF0ZUNyZWF0b3JfPXRoaXMsaC5wcm90b0NvbnRlbnRfPWU7Zm9yKHZhciBpPXtmaXJzdE5vZGU6bnVsbCxsYXN0Tm9kZTpudWxsLG1vZGVsOmF9LGo9MCxrPWUuZmlyc3RDaGlsZDtrO2s9ay5uZXh0U2libGluZyl7dmFyIGw9QShrLGgsZyxmLmNoaWxkcmVuW2orK10sYSxjLGQpO2wudGVtcGxhdGVJbnN0YW5jZV89aX1yZXR1cm4gaS5maXJzdE5vZGU9aC5maXJzdENoaWxkLGkubGFzdE5vZGU9aC5sYXN0Q2hpbGQsaC50ZW1wbGF0ZUNyZWF0b3JfPXZvaWQgMCxoLnByb3RvQ29udGVudF89dm9pZCAwLGh9LGdldCBtb2RlbCgpe3JldHVybiB0aGlzLm1vZGVsX30sc2V0IG1vZGVsKGEpe3RoaXMubW9kZWxfPWEscih0aGlzKX0sZ2V0IGJpbmRpbmdEZWxlZ2F0ZSgpe3JldHVybiB0aGlzLmRlbGVnYXRlXyYmdGhpcy5kZWxlZ2F0ZV8ucmF3fSxyZWZDaGFuZ2VkXzpmdW5jdGlvbigpe3RoaXMuaXRlcmF0b3JfJiZ0aGlzLnJlZkNvbnRlbnRfIT09dGhpcy5yZWZfLmNvbnRlbnQmJih0aGlzLnJlZkNvbnRlbnRfPXZvaWQgMCx0aGlzLml0ZXJhdG9yXy52YWx1ZUNoYW5nZWQoKSx0aGlzLml0ZXJhdG9yXy51cGRhdGVJdGVyYXRlZFZhbHVlKCkpfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMubW9kZWxfPXZvaWQgMCx0aGlzLmRlbGVnYXRlXz12b2lkIDAsdGhpcy5iaW5kaW5nc189dm9pZCAwLHRoaXMucmVmQ29udGVudF89dm9pZCAwLHRoaXMuaXRlcmF0b3JfJiYodGhpcy5pdGVyYXRvcl8udmFsdWVDaGFuZ2VkKCksdGhpcy5pdGVyYXRvcl8uY2xvc2UoKSx0aGlzLml0ZXJhdG9yXz12b2lkIDApfSxzZXREZWxlZ2F0ZV86ZnVuY3Rpb24oYSl7dGhpcy5kZWxlZ2F0ZV89YSx0aGlzLmJpbmRpbmdNYXBfPXZvaWQgMCx0aGlzLml0ZXJhdG9yXyYmKHRoaXMuaXRlcmF0b3JfLmluc3RhbmNlUG9zaXRpb25DaGFuZ2VkRm5fPXZvaWQgMCx0aGlzLml0ZXJhdG9yXy5pbnN0YW5jZU1vZGVsRm5fPXZvaWQgMCl9LG5ld0RlbGVnYXRlXzpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIpe3ZhciBjPWEmJmFbYl07aWYoImZ1bmN0aW9uIj09dHlwZW9mIGMpcmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGMuYXBwbHkoYSxhcmd1bWVudHMpfX1yZXR1cm4gYT97cmF3OmEscHJlcGFyZUJpbmRpbmc6YigicHJlcGFyZUJpbmRpbmciKSxwcmVwYXJlSW5zdGFuY2VNb2RlbDpiKCJwcmVwYXJlSW5zdGFuY2VNb2RlbCIpLHByZXBhcmVJbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZDpiKCJwcmVwYXJlSW5zdGFuY2VQb3NpdGlvbkNoYW5nZWQiKX06e319LHNldCBiaW5kaW5nRGVsZWdhdGUoYSl7aWYodGhpcy5kZWxlZ2F0ZV8pdGhyb3cgRXJyb3IoIlRlbXBsYXRlIG11c3QgYmUgY2xlYXJlZCBiZWZvcmUgYSBuZXcgYmluZGluZ0RlbGVnYXRlIGNhbiBiZSBhc3NpZ25lZCIpO3RoaXMuc2V0RGVsZWdhdGVfKHRoaXMubmV3RGVsZWdhdGVfKGEpKX0sZ2V0IHJlZl8oKXt2YXIgYT1kKHRoaXMsdGhpcy5nZXRBdHRyaWJ1dGUoInJlZiIpKTtpZihhfHwoYT10aGlzLmluc3RhbmNlUmVmXyksIWEpcmV0dXJuIHRoaXM7dmFyIGI9YS5yZWZfO3JldHVybiBiP2I6YX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZS5wcm90b3R5cGUsInRlbXBsYXRlSW5zdGFuY2UiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRlbXBsYXRlSW5zdGFuY2VfO3JldHVybiBhP2E6dGhpcy5wYXJlbnROb2RlP3RoaXMucGFyZW50Tm9kZS50ZW1wbGF0ZUluc3RhbmNlOnZvaWQgMH19KSxDLnByb3RvdHlwZT17Y2xvc2VEZXBzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5kZXBzO2EmJihhLmlmT25lVGltZT09PSExJiZhLmlmVmFsdWUuY2xvc2UoKSxhLm9uZVRpbWU9PT0hMSYmYS52YWx1ZS5jbG9zZSgpKX0sdXBkYXRlRGVwZW5kZW5jaWVzOmZ1bmN0aW9uKGEsYil7dGhpcy5jbG9zZURlcHMoKTt2YXIgYz10aGlzLmRlcHM9e30sZD10aGlzLnRlbXBsYXRlRWxlbWVudF87aWYoYS5pZil7aWYoYy5oYXNJZj0hMCxjLmlmT25lVGltZT1hLmlmLm9ubHlPbmVUaW1lLGMuaWZWYWx1ZT12KEgsYS5pZixkLGIpLGMuaWZPbmVUaW1lJiYhYy5pZlZhbHVlKXJldHVybiB2b2lkIHRoaXMudXBkYXRlSXRlcmF0ZWRWYWx1ZSgpO2MuaWZPbmVUaW1lfHxjLmlmVmFsdWUub3Blbih0aGlzLnVwZGF0ZUl0ZXJhdGVkVmFsdWUsdGhpcyl9YS5yZXBlYXQ/KGMucmVwZWF0PSEwLGMub25lVGltZT1hLnJlcGVhdC5vbmx5T25lVGltZSxjLnZhbHVlPXYoRyxhLnJlcGVhdCxkLGIpKTooYy5yZXBlYXQ9ITEsYy5vbmVUaW1lPWEuYmluZC5vbmx5T25lVGltZSxjLnZhbHVlPXYoRixhLmJpbmQsZCxiKSksYy5vbmVUaW1lfHxjLnZhbHVlLm9wZW4odGhpcy51cGRhdGVJdGVyYXRlZFZhbHVlLHRoaXMpLHRoaXMudXBkYXRlSXRlcmF0ZWRWYWx1ZSgpfSx1cGRhdGVJdGVyYXRlZFZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5kZXBzLmhhc0lmKXt2YXIgYT10aGlzLmRlcHMuaWZWYWx1ZTtpZih0aGlzLmRlcHMuaWZPbmVUaW1lfHwoYT1hLmRpc2NhcmRDaGFuZ2VzKCkpLCFhKXJldHVybiB2b2lkIHRoaXMudmFsdWVDaGFuZ2VkKCl9dmFyIGI9dGhpcy5kZXBzLnZhbHVlO3RoaXMuZGVwcy5vbmVUaW1lfHwoYj1iLmRpc2NhcmRDaGFuZ2VzKCkpLHRoaXMuZGVwcy5yZXBlYXR8fChiPVtiXSk7dmFyIGM9dGhpcy5kZXBzLnJlcGVhdCYmIXRoaXMuZGVwcy5vbmVUaW1lJiZBcnJheS5pc0FycmF5KGIpO3RoaXMudmFsdWVDaGFuZ2VkKGIsYyl9LHZhbHVlQ2hhbmdlZDpmdW5jdGlvbihhLGIpe0FycmF5LmlzQXJyYXkoYSl8fChhPVtdKSxhIT09dGhpcy5pdGVyYXRlZFZhbHVlJiYodGhpcy51bm9ic2VydmUoKSx0aGlzLnByZXNlbnRWYWx1ZT1hLGImJih0aGlzLmFycmF5T2JzZXJ2ZXI9bmV3IEFycmF5T2JzZXJ2ZXIodGhpcy5wcmVzZW50VmFsdWUpLHRoaXMuYXJyYXlPYnNlcnZlci5vcGVuKHRoaXMuaGFuZGxlU3BsaWNlcyx0aGlzKSksdGhpcy5oYW5kbGVTcGxpY2VzKEFycmF5T2JzZXJ2ZXIuY2FsY3VsYXRlU3BsaWNlcyh0aGlzLnByZXNlbnRWYWx1ZSx0aGlzLml0ZXJhdGVkVmFsdWUpKSl9LGdldFRlcm1pbmF0b3JBdDpmdW5jdGlvbihhKXtpZigtMT09YSlyZXR1cm4gdGhpcy50ZW1wbGF0ZUVsZW1lbnRfO3ZhciBiPXRoaXMudGVybWluYXRvcnNbMiphXTtpZihiLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREV8fHRoaXMudGVtcGxhdGVFbGVtZW50Xz09PWIpcmV0dXJuIGI7dmFyIGM9Yi5pdGVyYXRvcl87cmV0dXJuIGM/Yy5nZXRUZXJtaW5hdG9yQXQoYy50ZXJtaW5hdG9ycy5sZW5ndGgvMi0xKTpifSxpbnNlcnRJbnN0YW5jZUF0OmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuZ2V0VGVybWluYXRvckF0KGEtMSksZj1lO2I/Zj1iLmxhc3RDaGlsZHx8ZjpjJiYoZj1jW2MubGVuZ3RoLTFdfHxmKSx0aGlzLnRlcm1pbmF0b3JzLnNwbGljZSgyKmEsMCxmLGQpO3ZhciBnPXRoaXMudGVtcGxhdGVFbGVtZW50Xy5wYXJlbnROb2RlLGg9ZS5uZXh0U2libGluZztpZihiKWcuaW5zZXJ0QmVmb3JlKGIsaCk7ZWxzZSBpZihjKWZvcih2YXIgaT0wO2k8Yy5sZW5ndGg7aSsrKWcuaW5zZXJ0QmVmb3JlKGNbaV0saCl9LGV4dHJhY3RJbnN0YW5jZUF0OmZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9dGhpcy5nZXRUZXJtaW5hdG9yQXQoYS0xKSxkPXRoaXMuZ2V0VGVybWluYXRvckF0KGEpO2IuaW5zdGFuY2VCaW5kaW5ncz10aGlzLnRlcm1pbmF0b3JzWzIqYSsxXSx0aGlzLnRlcm1pbmF0b3JzLnNwbGljZSgyKmEsMik7Zm9yKHZhciBlPXRoaXMudGVtcGxhdGVFbGVtZW50Xy5wYXJlbnROb2RlO2QhPT1jOyl7dmFyIGY9Yy5uZXh0U2libGluZztmPT1kJiYoZD1jKSxlLnJlbW92ZUNoaWxkKGYpLGIucHVzaChmKX1yZXR1cm4gYn0sZ2V0RGVsZWdhdGVGbjpmdW5jdGlvbihhKXtyZXR1cm4gYT1hJiZhKHRoaXMudGVtcGxhdGVFbGVtZW50XyksImZ1bmN0aW9uIj09dHlwZW9mIGE/YTpudWxsfSxoYW5kbGVTcGxpY2VzOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmNsb3NlZCYmYS5sZW5ndGgpe3ZhciBiPXRoaXMudGVtcGxhdGVFbGVtZW50XztpZighYi5wYXJlbnROb2RlKXJldHVybiB2b2lkIHRoaXMuY2xvc2UoKTtBcnJheU9ic2VydmVyLmFwcGx5U3BsaWNlcyh0aGlzLml0ZXJhdGVkVmFsdWUsdGhpcy5wcmVzZW50VmFsdWUsYSk7dmFyIGM9Yi5kZWxlZ2F0ZV87dm9pZCAwPT09dGhpcy5pbnN0YW5jZU1vZGVsRm5fJiYodGhpcy5pbnN0YW5jZU1vZGVsRm5fPXRoaXMuZ2V0RGVsZWdhdGVGbihjJiZjLnByZXBhcmVJbnN0YW5jZU1vZGVsKSksdm9pZCAwPT09dGhpcy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXyYmKHRoaXMuaW5zdGFuY2VQb3NpdGlvbkNoYW5nZWRGbl89dGhpcy5nZXREZWxlZ2F0ZUZuKGMmJmMucHJlcGFyZUluc3RhbmNlUG9zaXRpb25DaGFuZ2VkKSk7dmFyIGQ9bmV3IEQsZT0wO2EuZm9yRWFjaChmdW5jdGlvbihhKXthLnJlbW92ZWQuZm9yRWFjaChmdW5jdGlvbihiKXt2YXIgYz10aGlzLmV4dHJhY3RJbnN0YW5jZUF0KGEuaW5kZXgrZSk7ZC5zZXQoYixjKX0sdGhpcyksZS09YS5hZGRlZENvdW50fSx0aGlzKSxhLmZvckVhY2goZnVuY3Rpb24oYSl7Zm9yKHZhciBlPWEuaW5kZXg7ZTxhLmluZGV4K2EuYWRkZWRDb3VudDtlKyspe3ZhciBmLGc9dGhpcy5pdGVyYXRlZFZhbHVlW2VdLGg9dm9pZCAwLGk9ZC5nZXQoZyk7aT8oZC5kZWxldGUoZyksZj1pLmluc3RhbmNlQmluZGluZ3MpOihmPVtdLHRoaXMuaW5zdGFuY2VNb2RlbEZuXyYmKGc9dGhpcy5pbnN0YW5jZU1vZGVsRm5fKGcpKSx2b2lkIDAhPT1nJiYoaD1iLmNyZWF0ZUluc3RhbmNlKGcsdm9pZCAwLGMsZikpKSx0aGlzLmluc2VydEluc3RhbmNlQXQoZSxoLGksZil9fSx0aGlzKSxkLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5jbG9zZUluc3RhbmNlQmluZGluZ3MoYS5pbnN0YW5jZUJpbmRpbmdzKX0sdGhpcyksdGhpcy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXyYmdGhpcy5yZXBvcnRJbnN0YW5jZXNNb3ZlZChhKX19LHJlcG9ydEluc3RhbmNlTW92ZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRUZXJtaW5hdG9yQXQoYS0xKSxjPXRoaXMuZ2V0VGVybWluYXRvckF0KGEpO2lmKGIhPT1jKXt2YXIgZD1iLm5leHRTaWJsaW5nLnRlbXBsYXRlSW5zdGFuY2U7dGhpcy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXyhkLGEpfX0scmVwb3J0SW5zdGFuY2VzTW92ZWQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz0wLGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGU9YVtkXTtpZigwIT1jKWZvcig7YjxlLmluZGV4Oyl0aGlzLnJlcG9ydEluc3RhbmNlTW92ZWQoYiksYisrO2Vsc2UgYj1lLmluZGV4O2Zvcig7YjxlLmluZGV4K2UuYWRkZWRDb3VudDspdGhpcy5yZXBvcnRJbnN0YW5jZU1vdmVkKGIpLGIrKztjKz1lLmFkZGVkQ291bnQtZS5yZW1vdmVkLmxlbmd0aH1pZigwIT1jKWZvcih2YXIgZj10aGlzLnRlcm1pbmF0b3JzLmxlbmd0aC8yO2Y+YjspdGhpcy5yZXBvcnRJbnN0YW5jZU1vdmVkKGIpLGIrK30sY2xvc2VJbnN0YW5jZUJpbmRpbmdzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWFbYl0uY2xvc2UoKX0sdW5vYnNlcnZlOmZ1bmN0aW9uKCl7dGhpcy5hcnJheU9ic2VydmVyJiYodGhpcy5hcnJheU9ic2VydmVyLmNsb3NlKCksdGhpcy5hcnJheU9ic2VydmVyPXZvaWQgMCl9LGNsb3NlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuY2xvc2VkKXt0aGlzLnVub2JzZXJ2ZSgpO2Zvcih2YXIgYT0xO2E8dGhpcy50ZXJtaW5hdG9ycy5sZW5ndGg7YSs9Mil0aGlzLmNsb3NlSW5zdGFuY2VCaW5kaW5ncyh0aGlzLnRlcm1pbmF0b3JzW2FdKTt0aGlzLnRlcm1pbmF0b3JzLmxlbmd0aD0wLHRoaXMuY2xvc2VEZXBzKCksdGhpcy50ZW1wbGF0ZUVsZW1lbnRfLml0ZXJhdG9yXz12b2lkIDAsdGhpcy5jbG9zZWQ9ITB9fX0sSFRNTFRlbXBsYXRlRWxlbWVudC5mb3JBbGxUZW1wbGF0ZXNGcm9tXz1pfSh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIpe2lmKCFhKXRocm93IG5ldyBFcnJvcigiQVNTRVJUOiAiK2IpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGE+PTQ4JiY1Nz49YX1mdW5jdGlvbiBkKGEpe3JldHVybiAzMj09PWF8fDk9PT1hfHwxMT09PWF8fDEyPT09YXx8MTYwPT09YXx8YT49NTc2MCYmIuGagOGgjuKAgOKAgeKAguKAg+KAhOKAheKAhuKAh+KAiOKAieKAiuKAr+KBn+OAgO+7vyIuaW5kZXhPZihTdHJpbmcuZnJvbUNoYXJDb2RlKGEpKT4wfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIDEwPT09YXx8MTM9PT1hfHw4MjMyPT09YXx8ODIzMz09PWF9ZnVuY3Rpb24gZihhKXtyZXR1cm4gMzY9PT1hfHw5NT09PWF8fGE+PTY1JiY5MD49YXx8YT49OTcmJjEyMj49YX1mdW5jdGlvbiBnKGEpe3JldHVybiAzNj09PWF8fDk1PT09YXx8YT49NjUmJjkwPj1hfHxhPj05NyYmMTIyPj1hfHxhPj00OCYmNTc+PWF9ZnVuY3Rpb24gaChhKXtyZXR1cm4idGhpcyI9PT1hfWZ1bmN0aW9uIGkoKXtmb3IoO1k+WCYmZChXLmNoYXJDb2RlQXQoWCkpOykrK1h9ZnVuY3Rpb24gaigpe3ZhciBhLGI7Zm9yKGE9WCsrO1k+WCYmKGI9Vy5jaGFyQ29kZUF0KFgpLGcoYikpOykrK1g7cmV0dXJuIFcuc2xpY2UoYSxYKX1mdW5jdGlvbiBrKCl7dmFyIGEsYixjO3JldHVybiBhPVgsYj1qKCksYz0xPT09Yi5sZW5ndGg/Uy5JZGVudGlmaWVyOmgoYik/Uy5LZXl3b3JkOiJudWxsIj09PWI/Uy5OdWxsTGl0ZXJhbDoidHJ1ZSI9PT1ifHwiZmFsc2UiPT09Yj9TLkJvb2xlYW5MaXRlcmFsOlMuSWRlbnRpZmllcix7dHlwZTpjLHZhbHVlOmIscmFuZ2U6W2EsWF19fWZ1bmN0aW9uIGwoKXt2YXIgYSxiLGM9WCxkPVcuY2hhckNvZGVBdChYKSxlPVdbWF07c3dpdGNoKGQpe2Nhc2UgNDY6Y2FzZSA0MDpjYXNlIDQxOmNhc2UgNTk6Y2FzZSA0NDpjYXNlIDEyMzpjYXNlIDEyNTpjYXNlIDkxOmNhc2UgOTM6Y2FzZSA1ODpjYXNlIDYzOnJldHVybisrWCx7dHlwZTpTLlB1bmN0dWF0b3IsdmFsdWU6U3RyaW5nLmZyb21DaGFyQ29kZShkKSxyYW5nZTpbYyxYXX07ZGVmYXVsdDppZihhPVcuY2hhckNvZGVBdChYKzEpLDYxPT09YSlzd2l0Y2goZCl7Y2FzZSAzNzpjYXNlIDM4OmNhc2UgNDI6Y2FzZSA0MzpjYXNlIDQ1OmNhc2UgNDc6Y2FzZSA2MDpjYXNlIDYyOmNhc2UgMTI0OnJldHVybiBYKz0yLHt0eXBlOlMuUHVuY3R1YXRvcix2YWx1ZTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQpK1N0cmluZy5mcm9tQ2hhckNvZGUoYSkscmFuZ2U6W2MsWF19O2Nhc2UgMzM6Y2FzZSA2MTpyZXR1cm4gWCs9Miw2MT09PVcuY2hhckNvZGVBdChYKSYmKytYLHt0eXBlOlMuUHVuY3R1YXRvcix2YWx1ZTpXLnNsaWNlKGMsWCkscmFuZ2U6W2MsWF19fX1yZXR1cm4gYj1XW1grMV0sZT09PWImJiImfCIuaW5kZXhPZihlKT49MD8oWCs9Mix7dHlwZTpTLlB1bmN0dWF0b3IsdmFsdWU6ZStiLHJhbmdlOltjLFhdfSk6Ijw+PSErLSolJnxeLyIuaW5kZXhPZihlKT49MD8oKytYLHt0eXBlOlMuUHVuY3R1YXRvcix2YWx1ZTplLHJhbmdlOltjLFhdfSk6dm9pZCBzKHt9LFYuVW5leHBlY3RlZFRva2VuLCJJTExFR0FMIil9ZnVuY3Rpb24gbSgpe3ZhciBhLGQsZTtpZihlPVdbWF0sYihjKGUuY2hhckNvZGVBdCgwKSl8fCIuIj09PWUsIk51bWVyaWMgbGl0ZXJhbCBtdXN0IHN0YXJ0IHdpdGggYSBkZWNpbWFsIGRpZ2l0IG9yIGEgZGVjaW1hbCBwb2ludCIpLGQ9WCxhPSIiLCIuIiE9PWUpe2ZvcihhPVdbWCsrXSxlPVdbWF0sIjAiPT09YSYmZSYmYyhlLmNoYXJDb2RlQXQoMCkpJiZzKHt9LFYuVW5leHBlY3RlZFRva2VuLCJJTExFR0FMIik7YyhXLmNoYXJDb2RlQXQoWCkpOylhKz1XW1grK107ZT1XW1hdfWlmKCIuIj09PWUpe2ZvcihhKz1XW1grK107YyhXLmNoYXJDb2RlQXQoWCkpOylhKz1XW1grK107ZT1XW1hdfWlmKCJlIj09PWV8fCJFIj09PWUpaWYoYSs9V1tYKytdLGU9V1tYXSwoIisiPT09ZXx8Ii0iPT09ZSkmJihhKz1XW1grK10pLGMoVy5jaGFyQ29kZUF0KFgpKSlmb3IoO2MoVy5jaGFyQ29kZUF0KFgpKTspYSs9V1tYKytdO2Vsc2Ugcyh7fSxWLlVuZXhwZWN0ZWRUb2tlbiwiSUxMRUdBTCIpO3JldHVybiBmKFcuY2hhckNvZGVBdChYKSkmJnMoe30sVi5VbmV4cGVjdGVkVG9rZW4sIklMTEVHQUwiKSx7dHlwZTpTLk51bWVyaWNMaXRlcmFsLHZhbHVlOnBhcnNlRmxvYXQoYSkscmFuZ2U6W2QsWF19fWZ1bmN0aW9uIG4oKXt2YXIgYSxjLGQsZj0iIixnPSExO2ZvcihhPVdbWF0sYigiJyI9PT1hfHwnIic9PT1hLCJTdHJpbmcgbGl0ZXJhbCBtdXN0IHN0YXJ0cyB3aXRoIGEgcXVvdGUiKSxjPVgsKytYO1k+WDspe2lmKGQ9V1tYKytdLGQ9PT1hKXthPSIiO2JyZWFrfWlmKCJcXCI9PT1kKWlmKGQ9V1tYKytdLGQmJmUoZC5jaGFyQ29kZUF0KDApKSkiXHIiPT09ZCYmIlxuIj09PVdbWF0mJisrWDtlbHNlIHN3aXRjaChkKXtjYXNlIm4iOmYrPSJcbiI7YnJlYWs7Y2FzZSJyIjpmKz0iXHIiO2JyZWFrO2Nhc2UidCI6Zis9IgkiO2JyZWFrO2Nhc2UiYiI6Zis9IlxiIjticmVhaztjYXNlImYiOmYrPSJcZiI7YnJlYWs7Y2FzZSJ2IjpmKz0iCyI7YnJlYWs7ZGVmYXVsdDpmKz1kfWVsc2V7aWYoZShkLmNoYXJDb2RlQXQoMCkpKWJyZWFrO2YrPWR9fXJldHVybiIiIT09YSYmcyh7fSxWLlVuZXhwZWN0ZWRUb2tlbiwiSUxMRUdBTCIpLHt0eXBlOlMuU3RyaW5nTGl0ZXJhbCx2YWx1ZTpmLG9jdGFsOmcscmFuZ2U6W2MsWF19fWZ1bmN0aW9uIG8oYSl7cmV0dXJuIGEudHlwZT09PVMuSWRlbnRpZmllcnx8YS50eXBlPT09Uy5LZXl3b3JkfHxhLnR5cGU9PT1TLkJvb2xlYW5MaXRlcmFsfHxhLnR5cGU9PT1TLk51bGxMaXRlcmFsfWZ1bmN0aW9uIHAoKXt2YXIgYTtyZXR1cm4gaSgpLFg+PVk/e3R5cGU6Uy5FT0YscmFuZ2U6W1gsWF19OihhPVcuY2hhckNvZGVBdChYKSw0MD09PWF8fDQxPT09YXx8NTg9PT1hP2woKTozOT09PWF8fDM0PT09YT9uKCk6ZihhKT9rKCk6NDY9PT1hP2MoVy5jaGFyQ29kZUF0KFgrMSkpP20oKTpsKCk6YyhhKT9tKCk6bCgpKX1mdW5jdGlvbiBxKCl7dmFyIGE7cmV0dXJuIGE9JCxYPWEucmFuZ2VbMV0sJD1wKCksWD1hLnJhbmdlWzFdLGF9ZnVuY3Rpb24gcigpe3ZhciBhO2E9WCwkPXAoKSxYPWF9ZnVuY3Rpb24gcyhhLGMpe3ZhciBkLGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpLGY9Yy5yZXBsYWNlKC8lKFxkKS9nLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGIoYzxlLmxlbmd0aCwiTWVzc2FnZSByZWZlcmVuY2UgbXVzdCBiZSBpbiByYW5nZSIpLGVbY119KTt0aHJvdyBkPW5ldyBFcnJvcihmKSxkLmluZGV4PVgsZC5kZXNjcmlwdGlvbj1mLGR9ZnVuY3Rpb24gdChhKXtzKGEsVi5VbmV4cGVjdGVkVG9rZW4sYS52YWx1ZSl9ZnVuY3Rpb24gdShhKXt2YXIgYj1xKCk7KGIudHlwZSE9PVMuUHVuY3R1YXRvcnx8Yi52YWx1ZSE9PWEpJiZ0KGIpfWZ1bmN0aW9uIHYoYSl7cmV0dXJuICQudHlwZT09PVMuUHVuY3R1YXRvciYmJC52YWx1ZT09PWF9ZnVuY3Rpb24gdyhhKXtyZXR1cm4gJC50eXBlPT09Uy5LZXl3b3JkJiYkLnZhbHVlPT09YX1mdW5jdGlvbiB4KCl7dmFyIGE9W107Zm9yKHUoIlsiKTshdigiXSIpOyl2KCIsIik/KHEoKSxhLnB1c2gobnVsbCkpOihhLnB1c2goYmIoKSksdigiXSIpfHx1KCIsIikpO3JldHVybiB1KCJdIiksWi5jcmVhdGVBcnJheUV4cHJlc3Npb24oYSl9ZnVuY3Rpb24geSgpe3ZhciBhO3JldHVybiBpKCksYT1xKCksYS50eXBlPT09Uy5TdHJpbmdMaXRlcmFsfHxhLnR5cGU9PT1TLk51bWVyaWNMaXRlcmFsP1ouY3JlYXRlTGl0ZXJhbChhKTpaLmNyZWF0ZUlkZW50aWZpZXIoYS52YWx1ZSl9ZnVuY3Rpb24geigpe3ZhciBhLGI7cmV0dXJuIGE9JCxpKCksKGEudHlwZT09PVMuRU9GfHxhLnR5cGU9PT1TLlB1bmN0dWF0b3IpJiZ0KGEpLGI9eSgpLHUoIjoiKSxaLmNyZWF0ZVByb3BlcnR5KCJpbml0IixiLGJiKCkpfWZ1bmN0aW9uIEEoKXt2YXIgYT1bXTtmb3IodSgieyIpOyF2KCJ9Iik7KWEucHVzaCh6KCkpLHYoIn0iKXx8dSgiLCIpO3JldHVybiB1KCJ9IiksWi5jcmVhdGVPYmplY3RFeHByZXNzaW9uKGEpfWZ1bmN0aW9uIEIoKXt2YXIgYTtyZXR1cm4gdSgiKCIpLGE9YmIoKSx1KCIpIiksYX1mdW5jdGlvbiBDKCl7dmFyIGEsYixjO3JldHVybiB2KCIoIik/QigpOihhPSQudHlwZSxhPT09Uy5JZGVudGlmaWVyP2M9Wi5jcmVhdGVJZGVudGlmaWVyKHEoKS52YWx1ZSk6YT09PVMuU3RyaW5nTGl0ZXJhbHx8YT09PVMuTnVtZXJpY0xpdGVyYWw/Yz1aLmNyZWF0ZUxpdGVyYWwocSgpKTphPT09Uy5LZXl3b3JkP3coInRoaXMiKSYmKHEoKSxjPVouY3JlYXRlVGhpc0V4cHJlc3Npb24oKSk6YT09PVMuQm9vbGVhbkxpdGVyYWw/KGI9cSgpLGIudmFsdWU9InRydWUiPT09Yi52YWx1ZSxjPVouY3JlYXRlTGl0ZXJhbChiKSk6YT09PVMuTnVsbExpdGVyYWw/KGI9cSgpLGIudmFsdWU9bnVsbCxjPVouY3JlYXRlTGl0ZXJhbChiKSk6digiWyIpP2M9eCgpOnYoInsiKSYmKGM9QSgpKSxjP2M6dm9pZCB0KHEoKSkpfWZ1bmN0aW9uIEQoKXt2YXIgYT1bXTtpZih1KCIoIiksIXYoIikiKSlmb3IoO1k+WCYmKGEucHVzaChiYigpKSwhdigiKSIpKTspdSgiLCIpO3JldHVybiB1KCIpIiksYX1mdW5jdGlvbiBFKCl7dmFyIGE7cmV0dXJuIGE9cSgpLG8oYSl8fHQoYSksWi5jcmVhdGVJZGVudGlmaWVyKGEudmFsdWUpfWZ1bmN0aW9uIEYoKXtyZXR1cm4gdSgiLiIpLEUoKX1mdW5jdGlvbiBHKCl7dmFyIGE7cmV0dXJuIHUoIlsiKSxhPWJiKCksdSgiXSIpLGF9ZnVuY3Rpb24gSCgpe3ZhciBhLGI7Zm9yKGE9QygpO3YoIi4iKXx8digiWyIpOyl2KCJbIik/KGI9RygpLGE9Wi5jcmVhdGVNZW1iZXJFeHByZXNzaW9uKCJbIixhLGIpKTooYj1GKCksYT1aLmNyZWF0ZU1lbWJlckV4cHJlc3Npb24oIi4iLGEsYikpO3JldHVybiBhfWZ1bmN0aW9uIEkoKXt2YXIgYSxiO3JldHVybiAkLnR5cGUhPT1TLlB1bmN0dWF0b3ImJiQudHlwZSE9PVMuS2V5d29yZD9iPWFiKCk6digiKyIpfHx2KCItIil8fHYoIiEiKT8oYT1xKCksYj1JKCksYj1aLmNyZWF0ZVVuYXJ5RXhwcmVzc2lvbihhLnZhbHVlLGIpKTp3KCJkZWxldGUiKXx8dygidm9pZCIpfHx3KCJ0eXBlb2YiKT9zKHt9LFYuVW5leHBlY3RlZFRva2VuKTpiPWFiKCksYn1mdW5jdGlvbiBKKGEpe3ZhciBiPTA7aWYoYS50eXBlIT09Uy5QdW5jdHVhdG9yJiZhLnR5cGUhPT1TLktleXdvcmQpcmV0dXJuIDA7c3dpdGNoKGEudmFsdWUpe2Nhc2UifHwiOmI9MTticmVhaztjYXNlIiYmIjpiPTI7YnJlYWs7Y2FzZSI9PSI6Y2FzZSIhPSI6Y2FzZSI9PT0iOmNhc2UiIT09IjpiPTY7YnJlYWs7Y2FzZSI8IjpjYXNlIj4iOmNhc2UiPD0iOmNhc2UiPj0iOmNhc2UiaW5zdGFuY2VvZiI6Yj03O2JyZWFrO2Nhc2UiaW4iOmI9NzticmVhaztjYXNlIisiOmNhc2UiLSI6Yj05O2JyZWFrO2Nhc2UiKiI6Y2FzZSIvIjpjYXNlIiUiOmI9MTF9cmV0dXJuIGJ9ZnVuY3Rpb24gSygpe3ZhciBhLGIsYyxkLGUsZixnLGg7aWYoZz1JKCksYj0kLGM9SihiKSwwPT09YylyZXR1cm4gZztmb3IoYi5wcmVjPWMscSgpLGU9SSgpLGQ9W2csYixlXTsoYz1KKCQpKT4wOyl7Zm9yKDtkLmxlbmd0aD4yJiZjPD1kW2QubGVuZ3RoLTJdLnByZWM7KWU9ZC5wb3AoKSxmPWQucG9wKCkudmFsdWUsZz1kLnBvcCgpLGE9Wi5jcmVhdGVCaW5hcnlFeHByZXNzaW9uKGYsZyxlKSxkLnB1c2goYSk7Yj1xKCksYi5wcmVjPWMsZC5wdXNoKGIpLGE9SSgpLGQucHVzaChhKX1mb3IoaD1kLmxlbmd0aC0xLGE9ZFtoXTtoPjE7KWE9Wi5jcmVhdGVCaW5hcnlFeHByZXNzaW9uKGRbaC0xXS52YWx1ZSxkW2gtMl0sYSksaC09MjtyZXR1cm4gYX1mdW5jdGlvbiBMKCl7dmFyIGEsYixjO3JldHVybiBhPUsoKSx2KCI/IikmJihxKCksYj1MKCksdSgiOiIpLGM9TCgpLGE9Wi5jcmVhdGVDb25kaXRpb25hbEV4cHJlc3Npb24oYSxiLGMpKSxhfWZ1bmN0aW9uIE0oKXt2YXIgYSxiO3JldHVybiBhPXEoKSxhLnR5cGUhPT1TLklkZW50aWZpZXImJnQoYSksYj12KCIoIik/RCgpOltdLFouY3JlYXRlRmlsdGVyKGEudmFsdWUsYil9ZnVuY3Rpb24gTigpe2Zvcig7digifCIpOylxKCksTSgpfWZ1bmN0aW9uIE8oKXtpKCkscigpO3ZhciBhPWJiKCk7YSYmKCIsIj09PSQudmFsdWV8fCJpbiI9PSQudmFsdWUmJmEudHlwZT09PVUuSWRlbnRpZmllcj9RKGEpOihOKCksImFzIj09PSQudmFsdWU/UChhKTpaLmNyZWF0ZVRvcExldmVsKGEpKSksJC50eXBlIT09Uy5FT0YmJnQoJCl9ZnVuY3Rpb24gUChhKXtxKCk7dmFyIGI9cSgpLnZhbHVlO1ouY3JlYXRlQXNFeHByZXNzaW9uKGEsYil9ZnVuY3Rpb24gUShhKXt2YXIgYjsiLCI9PT0kLnZhbHVlJiYocSgpLCQudHlwZSE9PVMuSWRlbnRpZmllciYmdCgkKSxiPXEoKS52YWx1ZSkscSgpO3ZhciBjPWJiKCk7TigpLFouY3JlYXRlSW5FeHByZXNzaW9uKGEubmFtZSxiLGMpfWZ1bmN0aW9uIFIoYSxiKXtyZXR1cm4gWj1iLFc9YSxYPTAsWT1XLmxlbmd0aCwkPW51bGwsXz17bGFiZWxTZXQ6e319LE8oKX12YXIgUyxULFUsVixXLFgsWSxaLCQsXztTPXtCb29sZWFuTGl0ZXJhbDoxLEVPRjoyLElkZW50aWZpZXI6MyxLZXl3b3JkOjQsTnVsbExpdGVyYWw6NSxOdW1lcmljTGl0ZXJhbDo2LFB1bmN0dWF0b3I6NyxTdHJpbmdMaXRlcmFsOjh9LFQ9e30sVFtTLkJvb2xlYW5MaXRlcmFsXT0iQm9vbGVhbiIsVFtTLkVPRl09IjxlbmQ+IixUW1MuSWRlbnRpZmllcl09IklkZW50aWZpZXIiLFRbUy5LZXl3b3JkXT0iS2V5d29yZCIsVFtTLk51bGxMaXRlcmFsXT0iTnVsbCIsVFtTLk51bWVyaWNMaXRlcmFsXT0iTnVtZXJpYyIsVFtTLlB1bmN0dWF0b3JdPSJQdW5jdHVhdG9yIixUW1MuU3RyaW5nTGl0ZXJhbF09IlN0cmluZyIsVT17QXJyYXlFeHByZXNzaW9uOiJBcnJheUV4cHJlc3Npb24iLEJpbmFyeUV4cHJlc3Npb246IkJpbmFyeUV4cHJlc3Npb24iLENhbGxFeHByZXNzaW9uOiJDYWxsRXhwcmVzc2lvbiIsQ29uZGl0aW9uYWxFeHByZXNzaW9uOiJDb25kaXRpb25hbEV4cHJlc3Npb24iLEVtcHR5U3RhdGVtZW50OiJFbXB0eVN0YXRlbWVudCIsRXhwcmVzc2lvblN0YXRlbWVudDoiRXhwcmVzc2lvblN0YXRlbWVudCIsSWRlbnRpZmllcjoiSWRlbnRpZmllciIsTGl0ZXJhbDoiTGl0ZXJhbCIsTGFiZWxlZFN0YXRlbWVudDoiTGFiZWxlZFN0YXRlbWVudCIsTG9naWNhbEV4cHJlc3Npb246IkxvZ2ljYWxFeHByZXNzaW9uIixNZW1iZXJFeHByZXNzaW9uOiJNZW1iZXJFeHByZXNzaW9uIixPYmplY3RFeHByZXNzaW9uOiJPYmplY3RFeHByZXNzaW9uIixQcm9ncmFtOiJQcm9ncmFtIixQcm9wZXJ0eToiUHJvcGVydHkiLFRoaXNFeHByZXNzaW9uOiJUaGlzRXhwcmVzc2lvbiIsVW5hcnlFeHByZXNzaW9uOiJVbmFyeUV4cHJlc3Npb24ifSxWPXtVbmV4cGVjdGVkVG9rZW46IlVuZXhwZWN0ZWQgdG9rZW4gJTAiLFVua25vd25MYWJlbDoiVW5kZWZpbmVkIGxhYmVsICclMCciLFJlZGVjbGFyYXRpb246IiUwICclMScgaGFzIGFscmVhZHkgYmVlbiBkZWNsYXJlZCJ9O3ZhciBhYj1ILGJiPUw7YS5lc3ByaW1hPXtwYXJzZTpSfX0odGhpcyksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiLGQsZSl7dmFyIGY7dHJ5e2lmKGY9YyhhKSxmLnNjb3BlSWRlbnQmJihkLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREV8fCJURU1QTEFURSIhPT1kLnRhZ05hbWV8fCJiaW5kIiE9PWImJiJyZXBlYXQiIT09YikpdGhyb3cgRXJyb3IoImFzIGFuZCBpbiBjYW4gb25seSBiZSB1c2VkIHdpdGhpbiA8dGVtcGxhdGUgYmluZC9yZXBlYXQ+Iil9Y2F0Y2goZyl7cmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcigiSW52YWxpZCBleHByZXNzaW9uIHN5bnRheDogIithLGcpfXJldHVybiBmdW5jdGlvbihhLGIsYyl7dmFyIGQ9Zi5nZXRCaW5kaW5nKGEsZSxjKTtyZXR1cm4gZi5zY29wZUlkZW50JiZkJiYoYi5wb2x5bWVyRXhwcmVzc2lvblNjb3BlSWRlbnRfPWYuc2NvcGVJZGVudCxmLmluZGV4SWRlbnQmJihiLnBvbHltZXJFeHByZXNzaW9uSW5kZXhJZGVudF89Zi5pbmRleElkZW50KSksZH19ZnVuY3Rpb24gYyhhKXt2YXIgYj1zW2FdO2lmKCFiKXt2YXIgYz1uZXcgajtlc3ByaW1hLnBhcnNlKGEsYyksYj1uZXcgbChjKSxzW2FdPWJ9cmV0dXJuIGJ9ZnVuY3Rpb24gZChhKXt0aGlzLnZhbHVlPWEsdGhpcy52YWx1ZUZuXz12b2lkIDB9ZnVuY3Rpb24gZShhKXt0aGlzLm5hbWU9YSx0aGlzLnBhdGg9UGF0aC5nZXQoYSl9ZnVuY3Rpb24gZihhLGIsYyl7IlsiPT1jJiZiIGluc3RhbmNlb2YgZCYmUGF0aC5nZXQoYi52YWx1ZSkudmFsaWQmJihjPSIuIixiPW5ldyBlKGIudmFsdWUpKSx0aGlzLmR5bmFtaWNEZXBzPSJmdW5jdGlvbiI9PXR5cGVvZiBhfHxhLmR5bmFtaWMsdGhpcy5keW5hbWljPSJmdW5jdGlvbiI9PXR5cGVvZiBifHxiLmR5bmFtaWN8fCJbIj09Yyx0aGlzLnNpbXBsZVBhdGg9IXRoaXMuZHluYW1pYyYmIXRoaXMuZHluYW1pY0RlcHMmJmIgaW5zdGFuY2VvZiBlJiYoYSBpbnN0YW5jZW9mIGZ8fGEgaW5zdGFuY2VvZiBlKSx0aGlzLm9iamVjdD10aGlzLnNpbXBsZVBhdGg/YTppKGEpLHRoaXMucHJvcGVydHk9Ii4iPT1jP2I6aShiKX1mdW5jdGlvbiBnKGEsYil7dGhpcy5uYW1lPWEsdGhpcy5hcmdzPVtdO2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKXRoaXMuYXJnc1tjXT1pKGJbY10pfWZ1bmN0aW9uIGgoKXt0aHJvdyBFcnJvcigiTm90IEltcGxlbWVudGVkIil9ZnVuY3Rpb24gaShhKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYT9hOmEudmFsdWVGbigpfWZ1bmN0aW9uIGooKXt0aGlzLmV4cHJlc3Npb249bnVsbCx0aGlzLmZpbHRlcnM9W10sdGhpcy5kZXBzPXt9LHRoaXMuY3VycmVudFBhdGg9dm9pZCAwLHRoaXMuc2NvcGVJZGVudD12b2lkIDAsdGhpcy5pbmRleElkZW50PXZvaWQgMCx0aGlzLmR5bmFtaWNEZXBzPSExfWZ1bmN0aW9uIGsoYSl7dGhpcy52YWx1ZV89YX1mdW5jdGlvbiBsKGEpe2lmKHRoaXMuc2NvcGVJZGVudD1hLnNjb3BlSWRlbnQsdGhpcy5pbmRleElkZW50PWEuaW5kZXhJZGVudCwhYS5leHByZXNzaW9uKXRocm93IEVycm9yKCJObyBleHByZXNzaW9uIGZvdW5kLiIpO3RoaXMuZXhwcmVzc2lvbj1hLmV4cHJlc3Npb24saSh0aGlzLmV4cHJlc3Npb24pLHRoaXMuZmlsdGVycz1hLmZpbHRlcnMsdGhpcy5keW5hbWljRGVwcz1hLmR5bmFtaWNEZXBzfWZ1bmN0aW9uIG0oYSl7cmV0dXJuIFN0cmluZyhhKS5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKGEpe3JldHVybiItIithLnRvTG93ZXJDYXNlKCl9KX1mdW5jdGlvbiBuKGEpe3JldHVybiJvIj09PWFbMF0mJiJuIj09PWFbMV0mJiItIj09PWFbMl19ZnVuY3Rpb24gbyhhLGIpe2Zvcig7YVt3XSYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLGIpOylhPWFbd107cmV0dXJuIGF9ZnVuY3Rpb24gcChhLGIpe2lmKDA9PWIubGVuZ3RoKXJldHVybiB2b2lkIDA7aWYoMT09Yi5sZW5ndGgpcmV0dXJuIG8oYSxiWzBdKTtmb3IodmFyIGM9MDtudWxsIT1hJiZjPGIubGVuZ3RoLTE7YysrKWE9YVtiW2NdXTtyZXR1cm4gYX1mdW5jdGlvbiBxKGEsYixjKXt2YXIgZD1iLnN1YnN0cmluZygzKTtyZXR1cm4gZD12W2RdfHxkLGZ1bmN0aW9uKGIsZSxmKXtmdW5jdGlvbiBnKCl7cmV0dXJuInt7ICIrYSsiIH19In12YXIgaCxpLGo7cmV0dXJuIGo9ImZ1bmN0aW9uIj09dHlwZW9mIGMucmVzb2x2ZUV2ZW50SGFuZGxlcj9mdW5jdGlvbihkKXtoPWh8fGMucmVzb2x2ZUV2ZW50SGFuZGxlcihiLGEsZSksaChkLGQuZGV0YWlsLGQuY3VycmVudFRhcmdldCksUGxhdGZvcm0mJiJmdW5jdGlvbiI9PXR5cGVvZiBQbGF0Zm9ybS5mbHVzaCYmUGxhdGZvcm0uZmx1c2goKX06ZnVuY3Rpb24oYyl7aD1ofHxhLmdldFZhbHVlRnJvbShiKSxpPWl8fHAoYixhLGUpLGguYXBwbHkoaSxbYyxjLmRldGFpbCxjLmN1cnJlbnRUYXJnZXRdKSxQbGF0Zm9ybSYmImZ1bmN0aW9uIj09dHlwZW9mIFBsYXRmb3JtLmZsdXNoJiZQbGF0Zm9ybS5mbHVzaCgpfSxlLmFkZEV2ZW50TGlzdGVuZXIoZCxqKSxmP3ZvaWQgMDp7b3BlbjpnLGRpc2NhcmRDaGFuZ2VzOmcsY2xvc2U6ZnVuY3Rpb24oKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCxqKX19fX1mdW5jdGlvbiByKCl7fXZhciBzPU9iamVjdC5jcmVhdGUobnVsbCk7ZC5wcm90b3R5cGU9e3ZhbHVlRm46ZnVuY3Rpb24oKXtpZighdGhpcy52YWx1ZUZuXyl7dmFyIGE9dGhpcy52YWx1ZTt0aGlzLnZhbHVlRm5fPWZ1bmN0aW9uKCl7cmV0dXJuIGF9fXJldHVybiB0aGlzLnZhbHVlRm5ffX0sZS5wcm90b3R5cGU9e3ZhbHVlRm46ZnVuY3Rpb24oKXtpZighdGhpcy52YWx1ZUZuXyl7dmFyIGE9KHRoaXMubmFtZSx0aGlzLnBhdGgpO3RoaXMudmFsdWVGbl89ZnVuY3Rpb24oYixjKXtyZXR1cm4gYyYmYy5hZGRQYXRoKGIsYSksYS5nZXRWYWx1ZUZyb20oYil9fXJldHVybiB0aGlzLnZhbHVlRm5ffSxzZXRWYWx1ZTpmdW5jdGlvbihhLGIpe3JldHVybiAxPT10aGlzLnBhdGgubGVuZ3RoLGE9byhhLHRoaXMucGF0aFswXSksdGhpcy5wYXRoLnNldFZhbHVlRnJvbShhLGIpfX0sZi5wcm90b3R5cGU9e2dldCBmdWxsUGF0aCgpe2lmKCF0aGlzLmZ1bGxQYXRoXyl7dmFyIGE9dGhpcy5vYmplY3QgaW5zdGFuY2VvZiBlP3RoaXMub2JqZWN0Lm5hbWU6dGhpcy5vYmplY3QuZnVsbFBhdGg7dGhpcy5mdWxsUGF0aF89UGF0aC5nZXQoYSsiLiIrdGhpcy5wcm9wZXJ0eS5uYW1lKX1yZXR1cm4gdGhpcy5mdWxsUGF0aF99LHZhbHVlRm46ZnVuY3Rpb24oKXtpZighdGhpcy52YWx1ZUZuXyl7dmFyIGE9dGhpcy5vYmplY3Q7aWYodGhpcy5zaW1wbGVQYXRoKXt2YXIgYj10aGlzLmZ1bGxQYXRoO3RoaXMudmFsdWVGbl89ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYyYmYy5hZGRQYXRoKGEsYiksYi5nZXRWYWx1ZUZyb20oYSl9fWVsc2UgaWYodGhpcy5wcm9wZXJ0eSBpbnN0YW5jZW9mIGUpe3ZhciBiPVBhdGguZ2V0KHRoaXMucHJvcGVydHkubmFtZSk7dGhpcy52YWx1ZUZuXz1mdW5jdGlvbihjLGQpe3ZhciBlPWEoYyxkKTtyZXR1cm4gZCYmZC5hZGRQYXRoKGUsYiksYi5nZXRWYWx1ZUZyb20oZSl9fWVsc2V7dmFyIGM9dGhpcy5wcm9wZXJ0eTt0aGlzLnZhbHVlRm5fPWZ1bmN0aW9uKGIsZCl7dmFyIGU9YShiLGQpLGY9YyhiLGQpO3JldHVybiBkJiZkLmFkZFBhdGgoZSxmKSxlP2VbZl06dm9pZCAwfX19cmV0dXJuIHRoaXMudmFsdWVGbl99LHNldFZhbHVlOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5zaW1wbGVQYXRoKXJldHVybiB0aGlzLmZ1bGxQYXRoLnNldFZhbHVlRnJvbShhLGIpLGI7dmFyIGM9dGhpcy5vYmplY3QoYSksZD10aGlzLnByb3BlcnR5IGluc3RhbmNlb2YgZT90aGlzLnByb3BlcnR5Lm5hbWU6dGhpcy5wcm9wZXJ0eShhKTtyZXR1cm4gY1tkXT1ifX0sZy5wcm90b3R5cGU9e3RyYW5zZm9ybTpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWNbdGhpcy5uYW1lXSxnPWQ7aWYoZilnPXZvaWQgMDtlbHNlIGlmKGY9Z1t0aGlzLm5hbWVdLCFmKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoIkNhbm5vdCBmaW5kIGZpbHRlcjogIit0aGlzLm5hbWUpO2lmKGI/Zj1mLnRvTW9kZWw6ImZ1bmN0aW9uIj09dHlwZW9mIGYudG9ET00mJihmPWYudG9ET00pLCJmdW5jdGlvbiIhPXR5cGVvZiBmKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoIk5vICIrKGI/InRvTW9kZWwiOiJ0b0RPTSIpKyIgZm91bmQgb24iK3RoaXMubmFtZSk7Zm9yKHZhciBoPVthXSxqPTA7ajx0aGlzLmFyZ3MubGVuZ3RoO2orKyloW2orMV09aSh0aGlzLmFyZ3Nbal0pKGQsZSk7cmV0dXJuIGYuYXBwbHkoZyxoKX19O3ZhciB0PXsiKyI6ZnVuY3Rpb24oYSl7cmV0dXJuK2F9LCItIjpmdW5jdGlvbihhKXtyZXR1cm4tYX0sIiEiOmZ1bmN0aW9uKGEpe3JldHVybiFhfX0sdT17IisiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGErYn0sIi0iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0sIioiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEqYn0sIi8iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEvYn0sIiUiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGElYn0sIjwiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI+YX0sIj4iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE+Yn0sIjw9IjpmdW5jdGlvbihhLGIpe3JldHVybiBiPj1hfSwiPj0iOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE+PWJ9LCI9PSI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09Yn0sIiE9IjpmdW5jdGlvbihhLGIpe3JldHVybiBhIT1ifSwiPT09IjpmdW5jdGlvbihhLGIpe3JldHVybiBhPT09Yn0sIiE9PSI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSE9PWJ9LCImJiI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSYmYn0sInx8IjpmdW5jdGlvbihhLGIpe3JldHVybiBhfHxifX07ai5wcm90b3R5cGU9e2NyZWF0ZVVuYXJ5RXhwcmVzc2lvbjpmdW5jdGlvbihhLGIpe2lmKCF0W2FdKXRocm93IEVycm9yKCJEaXNhbGxvd2VkIG9wZXJhdG9yOiAiK2EpO3JldHVybiBiPWkoYiksZnVuY3Rpb24oYyxkKXtyZXR1cm4gdFthXShiKGMsZCkpfX0sY3JlYXRlQmluYXJ5RXhwcmVzc2lvbjpmdW5jdGlvbihhLGIsYyl7aWYoIXVbYV0pdGhyb3cgRXJyb3IoIkRpc2FsbG93ZWQgb3BlcmF0b3I6ICIrYSk7cmV0dXJuIGI9aShiKSxjPWkoYyksZnVuY3Rpb24oZCxlKXtyZXR1cm4gdVthXShiKGQsZSksYyhkLGUpKX19LGNyZWF0ZUNvbmRpdGlvbmFsRXhwcmVzc2lvbjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGE9aShhKSxiPWkoYiksYz1pKGMpLGZ1bmN0aW9uKGQsZSl7cmV0dXJuIGEoZCxlKT9iKGQsZSk6YyhkLGUpfX0sY3JlYXRlSWRlbnRpZmllcjpmdW5jdGlvbihhKXt2YXIgYj1uZXcgZShhKTtyZXR1cm4gYi50eXBlPSJJZGVudGlmaWVyIixifSxjcmVhdGVNZW1iZXJFeHByZXNzaW9uOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1uZXcgZihiLGMsYSk7cmV0dXJuIGQuZHluYW1pY0RlcHMmJih0aGlzLmR5bmFtaWNEZXBzPSEwKSxkfSxjcmVhdGVMaXRlcmFsOmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgZChhLnZhbHVlKX0sY3JlYXRlQXJyYXlFeHByZXNzaW9uOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWFbYl09aShhW2JdKTtyZXR1cm4gZnVuY3Rpb24oYixjKXtmb3IodmFyIGQ9W10sZT0wO2U8YS5sZW5ndGg7ZSsrKWQucHVzaChhW2VdKGIsYykpO3JldHVybiBkfX0sY3JlYXRlUHJvcGVydHk6ZnVuY3Rpb24oYSxiLGMpe3JldHVybntrZXk6YiBpbnN0YW5jZW9mIGU/Yi5uYW1lOmIudmFsdWUsdmFsdWU6Y319LGNyZWF0ZU9iamVjdEV4cHJlc3Npb246ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXS52YWx1ZT1pKGFbYl0udmFsdWUpO3JldHVybiBmdW5jdGlvbihiLGMpe2Zvcih2YXIgZD17fSxlPTA7ZTxhLmxlbmd0aDtlKyspZFthW2VdLmtleV09YVtlXS52YWx1ZShiLGMpO3JldHVybiBkfX0sY3JlYXRlRmlsdGVyOmZ1bmN0aW9uKGEsYil7dGhpcy5maWx0ZXJzLnB1c2gobmV3IGcoYSxiKSl9LGNyZWF0ZUFzRXhwcmVzc2lvbjpmdW5jdGlvbihhLGIpe3RoaXMuZXhwcmVzc2lvbj1hLHRoaXMuc2NvcGVJZGVudD1ifSxjcmVhdGVJbkV4cHJlc3Npb246ZnVuY3Rpb24oYSxiLGMpe3RoaXMuZXhwcmVzc2lvbj1jLHRoaXMuc2NvcGVJZGVudD1hLHRoaXMuaW5kZXhJZGVudD1ifSxjcmVhdGVUb3BMZXZlbDpmdW5jdGlvbihhKXt0aGlzLmV4cHJlc3Npb249YX0sY3JlYXRlVGhpc0V4cHJlc3Npb246aH0say5wcm90b3R5cGU9e29wZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZV99LGRpc2NhcmRDaGFuZ2VzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVffSxkZWxpdmVyOmZ1bmN0aW9uKCl7fSxjbG9zZTpmdW5jdGlvbigpe319LGwucHJvdG90eXBlPXtnZXRCaW5kaW5nOmZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKCl7Zy5keW5hbWljRGVwcyYmZi5zdGFydFJlc2V0KCk7dmFyIGM9Zy5nZXRWYWx1ZShhLGcuZHluYW1pY0RlcHM/Zjp2b2lkIDAsYik7cmV0dXJuIGcuZHluYW1pY0RlcHMmJmYuZmluaXNoUmVzZXQoKSxjfWZ1bmN0aW9uIGUoYyl7cmV0dXJuIGcuc2V0VmFsdWUoYSxjLGIpLGN9aWYoYylyZXR1cm4gdGhpcy5nZXRWYWx1ZShhLHZvaWQgMCxiKTt2YXIgZj1uZXcgQ29tcG91bmRPYnNlcnZlcjt0aGlzLmdldFZhbHVlKGEsZixiKTt2YXIgZz10aGlzO3JldHVybiBuZXcgT2JzZXJ2ZXJUcmFuc2Zvcm0oZixkLGUsITApfSxnZXRWYWx1ZTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWkodGhpcy5leHByZXNzaW9uKShhLGIpLGU9MDtlPHRoaXMuZmlsdGVycy5sZW5ndGg7ZSsrKWQ9dGhpcy5maWx0ZXJzW2VdLnRyYW5zZm9ybShkLCExLGMsYSxiKTtyZXR1cm4gZH0sc2V0VmFsdWU6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD10aGlzLmZpbHRlcnM/dGhpcy5maWx0ZXJzLmxlbmd0aDowO2QtLT4wOyliPXRoaXMuZmlsdGVyc1tkXS50cmFuc2Zvcm0oYiwhMCxjLGEpO3JldHVybiB0aGlzLmV4cHJlc3Npb24uc2V0VmFsdWU/dGhpcy5leHByZXNzaW9uLnNldFZhbHVlKGEsYik6dm9pZCAwfX07dmFyIHY9e307WyJ3ZWJraXRBbmltYXRpb25TdGFydCIsIndlYmtpdEFuaW1hdGlvbkVuZCIsIndlYmtpdFRyYW5zaXRpb25FbmQiLCJET01Gb2N1c091dCIsIkRPTUZvY3VzSW4iLCJET01Nb3VzZVNjcm9sbCJdLmZvckVhY2goZnVuY3Rpb24oYSl7dlthLnRvTG93ZXJDYXNlKCldPWF9KTt2YXIgdz0iQCIrTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMik7ci5wcm90b3R5cGU9e3N0eWxlT2JqZWN0OmZ1bmN0aW9uKGEpe3ZhciBiPVtdO2Zvcih2YXIgYyBpbiBhKWIucHVzaChtKGMpKyI6ICIrYVtjXSk7cmV0dXJuIGIuam9pbigiOyAiKX0sdG9rZW5MaXN0OmZ1bmN0aW9uKGEpe3ZhciBiPVtdO2Zvcih2YXIgYyBpbiBhKWFbY10mJmIucHVzaChjKTtyZXR1cm4gYi5qb2luKCIgIil9LHByZXBhcmVJbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZDpmdW5jdGlvbihhKXt2YXIgYj1hLnBvbHltZXJFeHByZXNzaW9uSW5kZXhJZGVudF87aWYoYilyZXR1cm4gZnVuY3Rpb24oYSxjKXthLm1vZGVsW2JdPWN9fSxwcmVwYXJlQmluZGluZzpmdW5jdGlvbihhLGMsZCl7dmFyIGU9UGF0aC5nZXQoYSk7aWYobihjKSlyZXR1cm4gZS52YWxpZD9xKGUsYyx0aGlzKTp2b2lkIGNvbnNvbGUuZXJyb3IoIm9uLSogYmluZGluZ3MgbXVzdCBiZSBzaW1wbGUgcGF0aCBleHByZXNzaW9ucyIpO3tpZighZS52YWxpZClyZXR1cm4gYihhLGMsZCx0aGlzKTtpZigxPT1lLmxlbmd0aClyZXR1cm4gZnVuY3Rpb24oYSxiLGMpe2lmKGMpcmV0dXJuIGUuZ2V0VmFsdWVGcm9tKGEpO3ZhciBkPW8oYSxlWzBdKTtyZXR1cm4gbmV3IFBhdGhPYnNlcnZlcihkLGUpfX19LHByZXBhcmVJbnN0YW5jZU1vZGVsOmZ1bmN0aW9uKGEpe3ZhciBiPWEucG9seW1lckV4cHJlc3Npb25TY29wZUlkZW50XztpZihiKXt2YXIgYz1hLnRlbXBsYXRlSW5zdGFuY2U/YS50ZW1wbGF0ZUluc3RhbmNlLm1vZGVsOmEubW9kZWwsZD1hLnBvbHltZXJFeHByZXNzaW9uSW5kZXhJZGVudF87cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBlPU9iamVjdC5jcmVhdGUoYyk7cmV0dXJuIGVbYl09YSxlW2RdPXZvaWQgMCxlW3ddPWMsZX19fX0sYS5Qb2x5bWVyRXhwcmVzc2lvbnM9cixhLmV4cG9zZUdldEV4cHJlc3Npb24mJihhLmdldEV4cHJlc3Npb25fPWMpLGEuUG9seW1lckV4cHJlc3Npb25zLnByZXBhcmVFdmVudEJpbmRpbmc9cX0odGhpcyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe2V8fChlPSEwLGEuZW5kT2ZNaWNyb3Rhc2soZnVuY3Rpb24oKXtlPSExLGxvZ0ZsYWdzLmRhdGEmJmNvbnNvbGUuZ3JvdXAoIlBsYXRmb3JtLmZsdXNoKCkiKSxhLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50KCksbG9nRmxhZ3MuZGF0YSYmY29uc29sZS5ncm91cEVuZCgpfSkpfXZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7Yy50ZXh0Q29udGVudD0idGVtcGxhdGUge2Rpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9IC8qIGluamVjdGVkIGJ5IHBsYXRmb3JtLmpzICovIjt2YXIgZD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJoZWFkIik7ZC5pbnNlcnRCZWZvcmUoYyxkLmZpcnN0Q2hpbGQpO3ZhciBlLGY9MTI1O2lmKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJXZWJDb21wb25lbnRzUmVhZHkiLGZ1bmN0aW9uKCl7YigpLE9ic2VydmVyLmhhc09iamVjdE9ic2VydmV8fChhLmZsdXNoUG9sbD1zZXRJbnRlcnZhbChiLGYpKX0pLHdpbmRvdy5DdXN0b21FbGVtZW50cyYmIUN1c3RvbUVsZW1lbnRzLnVzZU5hdGl2ZSl7dmFyIGc9RG9jdW1lbnQucHJvdG90eXBlLmltcG9ydE5vZGU7RG9jdW1lbnQucHJvdG90eXBlLmltcG9ydE5vZGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1nLmNhbGwodGhpcyxhLGIpO3JldHVybiBDdXN0b21FbGVtZW50cy51cGdyYWRlQWxsKGMpLGN9fWEuZmx1c2g9Yn0od2luZG93LlBsYXRmb3JtKTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGxhdGZvcm0uanMubWFw",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Sun, 09 Nov 2014 04:03:35 GMT",
                    "Content-Length": "187305",
                    "Date": "Sun, 09 Nov 2014 04:03:35 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
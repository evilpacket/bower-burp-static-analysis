{
    "url": "http://localhost:9999/somecallmechief/jquery-ui-map/demos/js/jquery-mobile-1.0/jquery.mobile.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Open redirection (DOM-based)",
    "issueType": 5243152,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based open redirection vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this data into the target of a redirection in an unsafe way. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will cause a redirection to an arbitrary external domain. This behavior can be leveraged to facilitate phishing attacks against users of the application. The ability to use an authentic application URL, targeting the correct domain with a valid SSL certificate (if SSL is used) lends credibility to the phishing attack because many users, even if they verify these features, will not notice the subsequent redirection to a different domain.<br><br><b>Note:</b> If an attacker is able to control the start of the string that is passed to the redirection API, then it may be possible to escalate this vulnerability into a JavaScript injection attack, by using a URL with the javascript: pseudo-protocol to execute arbitrary script code when the URL is processed by the browser.",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based open redirection vulnerabilities is not to dynamically set redirection targets using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a redirection target. In general, this is best achieved by using a whitelist of URLs that are permitted redirection targets, and strictly validating the target against this list before performing the redirection.",
    "issueDetail": "The application may be vulnerable to DOM-based open redirection. Data is read from <b>location.href</b> and written to <b>location.href</b> via the following statement:<ul><li>location.href=location.href.replace(/#.*/,  \"\")+c;</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/somecallmechief/jquery-ui-map/demos/js/jquery-mobile-1.0/jquery.mobile.min.js",
                "path": "/somecallmechief/jquery-ui-map/demos/js/jquery-mobile-1.0/jquery.mobile.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9zb21lY2FsbG1lY2hpZWYvanF1ZXJ5LXVpLW1hcC9kZW1vcy9qcy9qcXVlcnktbW9iaWxlLTEuMC9qcXVlcnkubW9iaWxlLm1pbi5qcyBIVFRQLzEuMQ0KSG9zdDogbG9jYWxob3N0Ojk5OTkNCg0K",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogODIwNzMNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQNCkRhdGU6IEZyaSwgMDcgTm92IDIwMTQgMDc6MjE6NTUgR01UDQpMYXN0LU1vZGlmaWVkOiBGcmksIDA3IE5vdiAyMDE0IDA3OjIxOjU0IEdNVA0KDQovKiEgalF1ZXJ5IE1vYmlsZSB2MS4wIGpxdWVyeW1vYmlsZS5jb20gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi8NCihmdW5jdGlvbihhLGUpe2lmKGEuY2xlYW5EYXRhKXt2YXIgYj1hLmNsZWFuRGF0YTthLmNsZWFuRGF0YT1mdW5jdGlvbihmKXtmb3IodmFyIGM9MCxoOyhoPWZbY10pIT1udWxsO2MrKylhKGgpLnRyaWdnZXJIYW5kbGVyKCJyZW1vdmUiKTtiKGYpfX1lbHNle3ZhciBkPWEuZm4ucmVtb3ZlO2EuZm4ucmVtb3ZlPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2N8fCghYnx8YS5maWx0ZXIoYixbdGhpc10pLmxlbmd0aCkmJmEoIioiLHRoaXMpLmFkZChbdGhpc10pLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLnRyaWdnZXJIYW5kbGVyKCJyZW1vdmUiKX0pO3JldHVybiBkLmNhbGwoYSh0aGlzKSxiLGMpfSl9fWEud2lkZ2V0PWZ1bmN0aW9uKGIsYyxoKXt2YXIgZD1iLnNwbGl0KCIuIilbMF0sZSxiPWIuc3BsaXQoIi4iKVsxXTtlPWQrIi0iK2I7aWYoIWgpaD1jLGM9YS5XaWRnZXQ7YS5leHByWyI6Il1bZV09ZnVuY3Rpb24oYyl7cmV0dXJuISFhLmRhdGEoYywNCmIpfTthW2RdPWFbZF18fHt9O2FbZF1bYl09ZnVuY3Rpb24oYSxiKXthcmd1bWVudHMubGVuZ3RoJiZ0aGlzLl9jcmVhdGVXaWRnZXQoYSxiKX07Yz1uZXcgYztjLm9wdGlvbnM9YS5leHRlbmQodHJ1ZSx7fSxjLm9wdGlvbnMpO2FbZF1bYl0ucHJvdG90eXBlPWEuZXh0ZW5kKHRydWUsYyx7bmFtZXNwYWNlOmQsd2lkZ2V0TmFtZTpiLHdpZGdldEV2ZW50UHJlZml4OmFbZF1bYl0ucHJvdG90eXBlLndpZGdldEV2ZW50UHJlZml4fHxiLHdpZGdldEJhc2VDbGFzczplfSxoKTthLndpZGdldC5icmlkZ2UoYixhW2RdW2JdKX07YS53aWRnZXQuYnJpZGdlPWZ1bmN0aW9uKGIsYyl7YS5mbltiXT1mdW5jdGlvbihkKXt2YXIgZz10eXBlb2YgZD09PSJzdHJpbmciLGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGs9dGhpcyxkPSFnJiZpLmxlbmd0aD9hLmV4dGVuZC5hcHBseShudWxsLFt0cnVlLGRdLmNvbmNhdChpKSk6ZDtpZihnJiZkLmNoYXJBdCgwKT09PSJfIilyZXR1cm4gazsNCmc/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YS5kYXRhKHRoaXMsYik7aWYoIWMpdGhyb3ciY2Fubm90IGNhbGwgbWV0aG9kcyBvbiAiK2IrIiBwcmlvciB0byBpbml0aWFsaXphdGlvbjsgYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICciK2QrIiciO2lmKCFhLmlzRnVuY3Rpb24oY1tkXSkpdGhyb3cibm8gc3VjaCBtZXRob2QgJyIrZCsiJyBmb3IgIitiKyIgd2lkZ2V0IGluc3RhbmNlIjt2YXIgZz1jW2RdLmFwcGx5KGMsaSk7aWYoZyE9PWMmJmchPT1lKXJldHVybiBrPWcsZmFsc2V9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1hLmRhdGEodGhpcyxiKTtlP2Uub3B0aW9uKGR8fHt9KS5faW5pdCgpOmEuZGF0YSh0aGlzLGIsbmV3IGMoZCx0aGlzKSl9KTtyZXR1cm4ga319O2EuV2lkZ2V0PWZ1bmN0aW9uKGEsYil7YXJndW1lbnRzLmxlbmd0aCYmdGhpcy5fY3JlYXRlV2lkZ2V0KGEsYil9O2EuV2lkZ2V0LnByb3RvdHlwZT17d2lkZ2V0TmFtZToid2lkZ2V0Iix3aWRnZXRFdmVudFByZWZpeDoiIiwNCm9wdGlvbnM6e2Rpc2FibGVkOmZhbHNlfSxfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKGIsYyl7YS5kYXRhKGMsdGhpcy53aWRnZXROYW1lLHRoaXMpO3RoaXMuZWxlbWVudD1hKGMpO3RoaXMub3B0aW9ucz1hLmV4dGVuZCh0cnVlLHt9LHRoaXMub3B0aW9ucyx0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksYik7dmFyIGQ9dGhpczt0aGlzLmVsZW1lbnQuYmluZCgicmVtb3ZlLiIrdGhpcy53aWRnZXROYW1lLGZ1bmN0aW9uKCl7ZC5kZXN0cm95KCl9KTt0aGlzLl9jcmVhdGUoKTt0aGlzLl90cmlnZ2VyKCJjcmVhdGUiKTt0aGlzLl9pbml0KCl9LF9nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIGI9e307YS5tZXRhZGF0YSYmKGI9YS5tZXRhZGF0YS5nZXQoZWxlbWVudClbdGhpcy53aWRnZXROYW1lXSk7cmV0dXJuIGJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt9LF9pbml0OmZ1bmN0aW9uKCl7fSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnVuYmluZCgiLiIrdGhpcy53aWRnZXROYW1lKS5yZW1vdmVEYXRhKHRoaXMud2lkZ2V0TmFtZSk7DQp0aGlzLndpZGdldCgpLnVuYmluZCgiLiIrdGhpcy53aWRnZXROYW1lKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIikucmVtb3ZlQ2xhc3ModGhpcy53aWRnZXRCYXNlQ2xhc3MrIi1kaXNhYmxlZCB1aS1zdGF0ZS1kaXNhYmxlZCIpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24oYixjKXt2YXIgZD1iO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0wKXJldHVybiBhLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMpO2lmKHR5cGVvZiBiPT09InN0cmluZyIpe2lmKGM9PT1lKXJldHVybiB0aGlzLm9wdGlvbnNbYl07ZD17fTtkW2JdPWN9dGhpcy5fc2V0T3B0aW9ucyhkKTtyZXR1cm4gdGhpc30sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYil7dmFyIGM9dGhpczthLmVhY2goYixmdW5jdGlvbihhLGIpe2MuX3NldE9wdGlvbihhLGIpfSk7cmV0dXJuIHRoaXN9LF9zZXRPcHRpb246ZnVuY3Rpb24oYSxiKXt0aGlzLm9wdGlvbnNbYV09YjthPT09ImRpc2FibGVkIiYmDQp0aGlzLndpZGdldCgpW2I/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXSh0aGlzLndpZGdldEJhc2VDbGFzcysiLWRpc2FibGVkIHVpLXN0YXRlLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsYik7cmV0dXJuIHRoaXN9LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIixmYWxzZSl9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsdHJ1ZSl9LF90cmlnZ2VyOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT10aGlzLm9wdGlvbnNbYl0sYz1hLkV2ZW50KGMpO2MudHlwZT0oYj09PXRoaXMud2lkZ2V0RXZlbnRQcmVmaXg/Yjp0aGlzLndpZGdldEV2ZW50UHJlZml4K2IpLnRvTG93ZXJDYXNlKCk7ZD1kfHx7fTtpZihjLm9yaWdpbmFsRXZlbnQpZm9yKHZhciBiPWEuZXZlbnQucHJvcHMubGVuZ3RoLGk7YjspaT1hLmV2ZW50LnByb3BzWy0tYl0sY1tpXT1jLm9yaWdpbmFsRXZlbnRbaV07dGhpcy5lbGVtZW50LnRyaWdnZXIoYywNCmQpO3JldHVybiEoYS5pc0Z1bmN0aW9uKGUpJiZlLmNhbGwodGhpcy5lbGVtZW50WzBdLGMsZCk9PT1mYWxzZXx8Yy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl9fX0pKGpRdWVyeSk7DQooZnVuY3Rpb24oYSxlKXthLndpZGdldCgibW9iaWxlLndpZGdldCIse19jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oKXthLldpZGdldC5wcm90b3R5cGUuX2NyZWF0ZVdpZGdldC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fdHJpZ2dlcigiaW5pdCIpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxkPXt9O2EuZWFjaCh0aGlzLm9wdGlvbnMsZnVuY3Rpb24oYSl7dmFyIGM9Yi5qcW1EYXRhKGEucmVwbGFjZSgvW0EtWl0vZyxmdW5jdGlvbihhKXtyZXR1cm4iLSIrYS50b0xvd2VyQ2FzZSgpfSkpO2MhPT1lJiYoZFthXT1jKX0pO3JldHVybiBkfSxlbmhhbmNlV2l0aGluOmZ1bmN0aW9uKGIpe3ZhciBkPWEoYikuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0ncGFnZScpIikuZGF0YSgicGFnZSIpLGQ9ZCYmZC5rZWVwTmF0aXZlU2VsZWN0b3IoKXx8IiI7YSh0aGlzLm9wdGlvbnMuaW5pdFNlbGVjdG9yLGIpLm5vdChkKVt0aGlzLndpZGdldE5hbWVdKCl9fSl9KShqUXVlcnkpOw0KKGZ1bmN0aW9uKGEpe2Eod2luZG93KTt2YXIgZT1hKCJodG1sIik7YS5tb2JpbGUubWVkaWE9ZnVuY3Rpb24oKXt2YXIgYj17fSxkPWEoIjxkaXYgaWQ9J2pxdWVyeS1tZWRpYXRlc3QnPiIpLGY9YSgiPGJvZHk+IikuYXBwZW5kKGQpO3JldHVybiBmdW5jdGlvbihhKXtpZighKGEgaW4gYikpe3ZhciBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksZz0iQG1lZGlhICIrYSsiIHsgI2pxdWVyeS1tZWRpYXRlc3QgeyBwb3NpdGlvbjphYnNvbHV0ZTsgfSB9IjtoLnR5cGU9InRleHQvY3NzIjtoLnN0eWxlU2hlZXQ/aC5zdHlsZVNoZWV0LmNzc1RleHQ9ZzpoLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGcpKTtlLnByZXBlbmQoZikucHJlcGVuZChoKTtiW2FdPWQuY3NzKCJwb3NpdGlvbiIpPT09ImFic29sdXRlIjtmLmFkZChoKS5yZW1vdmUoKX1yZXR1cm4gYlthXX19KCl9KShqUXVlcnkpOw0KKGZ1bmN0aW9uKGEsZSl7ZnVuY3Rpb24gYihhKXt2YXIgYj1hLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyKDEpLGE9KGErIiAiK2Muam9pbihiKyIgIikrYikuc3BsaXQoIiAiKSxkO2ZvcihkIGluIGEpaWYoZlthW2RdXSE9PWUpcmV0dXJuIHRydWV9dmFyIGQ9YSgiPGJvZHk+IikucHJlcGVuZFRvKCJodG1sIiksZj1kWzBdLnN0eWxlLGM9WyJXZWJraXQiLCJNb3oiLCJPIl0saD0icGFsbUdldFJlc291cmNlImluIHdpbmRvdyxnPXdpbmRvdy5vcGVyYW1pbmkmJnt9LnRvU3RyaW5nLmNhbGwod2luZG93Lm9wZXJhbWluaSk9PT0iW29iamVjdCBPcGVyYU1pbmldIixpPXdpbmRvdy5ibGFja2JlcnJ5O2EubW9iaWxlLmJyb3dzZXI9e307YS5tb2JpbGUuYnJvd3Nlci5pZT1mdW5jdGlvbigpe2Zvcih2YXIgYT0zLGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksYz1iLmFsbHx8W107Yi5pbm5lckhUTUw9IjxcIS0tW2lmIGd0IElFICIrICsrYSsiXT48YnI+PCFbZW5kaWZdLS1cPiIsDQpjWzBdOyk7cmV0dXJuIGE+ND9hOiFhfSgpO2EuZXh0ZW5kKGEuc3VwcG9ydCx7b3JpZW50YXRpb246Im9yaWVudGF0aW9uImluIHdpbmRvdyYmIm9ub3JpZW50YXRpb25jaGFuZ2UiaW4gd2luZG93LHRvdWNoOiJvbnRvdWNoZW5kImluIGRvY3VtZW50LGNzc1RyYW5zaXRpb25zOiJXZWJLaXRUcmFuc2l0aW9uRXZlbnQiaW4gd2luZG93LHB1c2hTdGF0ZToicHVzaFN0YXRlImluIGhpc3RvcnkmJiJyZXBsYWNlU3RhdGUiaW4gaGlzdG9yeSxtZWRpYXF1ZXJ5OmEubW9iaWxlLm1lZGlhKCJvbmx5IGFsbCIpLGNzc1BzZXVkb0VsZW1lbnQ6ISFiKCJjb250ZW50IiksdG91Y2hPdmVyZmxvdzohIWIoIm92ZXJmbG93U2Nyb2xsaW5nIiksYm94U2hhZG93OiEhYigiYm94U2hhZG93IikmJiFpLHNjcm9sbFRvcDooInBhZ2VYT2Zmc2V0ImluIHdpbmRvd3x8InNjcm9sbFRvcCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR8fCJzY3JvbGxUb3AiaW4gZFswXSkmJiFoJiYhZyxkeW5hbWljQmFzZVRhZzpmdW5jdGlvbigpe3ZhciBiPQ0KbG9jYXRpb24ucHJvdG9jb2wrIi8vIitsb2NhdGlvbi5ob3N0K2xvY2F0aW9uLnBhdGhuYW1lKyJ1aS1kaXIvIixjPWEoImhlYWQgYmFzZSIpLGY9bnVsbCxlPSIiLGg7Yy5sZW5ndGg/ZT1jLmF0dHIoImhyZWYiKTpjPWY9YSgiPGJhc2U+Iix7aHJlZjpifSkuYXBwZW5kVG8oImhlYWQiKTtoPWEoIjxhIGhyZWY9J3Rlc3R1cmwnIC8+IikucHJlcGVuZFRvKGQpWzBdLmhyZWY7Y1swXS5ocmVmPWV8fGxvY2F0aW9uLnBhdGhuYW1lO2YmJmYucmVtb3ZlKCk7cmV0dXJuIGguaW5kZXhPZihiKT09PTB9KCl9KTtkLnJlbW92ZSgpO2g9ZnVuY3Rpb24oKXt2YXIgYT13aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtyZXR1cm4gYS5pbmRleE9mKCJOb2tpYSIpPi0xJiYoYS5pbmRleE9mKCJTeW1iaWFuLzMiKT4tMXx8YS5pbmRleE9mKCJTZXJpZXM2MC81Iik+LTEpJiZhLmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTEmJmEubWF0Y2goLyhCcm93c2VyTkd8Tm9raWFCcm93c2VyKVwvN1wuWzAtM10vKX0oKTsNCmEubW9iaWxlLmFqYXhCbGFja2xpc3Q9d2luZG93LmJsYWNrYmVycnkmJiF3aW5kb3cuV2ViS2l0UG9pbnR8fGd8fGg7aCYmYShmdW5jdGlvbigpe2EoImhlYWQgbGlua1tyZWw9J3N0eWxlc2hlZXQnXSIpLmF0dHIoInJlbCIsImFsdGVybmF0ZSBzdHlsZXNoZWV0IikuYXR0cigicmVsIiwic3R5bGVzaGVldCIpfSk7YS5zdXBwb3J0LmJveFNoYWRvd3x8YSgiaHRtbCIpLmFkZENsYXNzKCJ1aS1tb2JpbGUtbm9zdXBwb3J0LWJveHNoYWRvdyIpfSkoalF1ZXJ5KTsNCihmdW5jdGlvbihhLGUsYixkKXtmdW5jdGlvbiBmKGEpe2Zvcig7YSYmdHlwZW9mIGEub3JpZ2luYWxFdmVudCE9PSJ1bmRlZmluZWQiOylhPWEub3JpZ2luYWxFdmVudDtyZXR1cm4gYX1mdW5jdGlvbiBjKGIpe2Zvcih2YXIgYz17fSxmLGQ7Yjspe2Y9YS5kYXRhKGIsbik7Zm9yKGQgaW4gZilpZihmW2RdKWNbZF09Yy5oYXNWaXJ0dWFsQmluZGluZz10cnVlO2I9Yi5wYXJlbnROb2RlfXJldHVybiBjfWZ1bmN0aW9uIGgoKXt2JiYoY2xlYXJUaW1lb3V0KHYpLHY9MCk7dj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7RT12PTA7dS5sZW5ndGg9MDtEPWZhbHNlO3k9dHJ1ZX0sYS52bW91c2UucmVzZXRUaW1lckR1cmF0aW9uKX1mdW5jdGlvbiBnKGIsYyxyKXt2YXIgZSxoO2lmKCEoaD1yJiZyW2JdKSl7aWYocj0hcilhOntmb3Iocj1jLnRhcmdldDtyOyl7aWYoKGg9YS5kYXRhKHIsbikpJiYoIWJ8fGhbYl0pKWJyZWFrIGE7cj1yLnBhcmVudE5vZGV9cj1udWxsfWg9cn1pZihoKXtlPWM7dmFyIHI9DQplLnR5cGUsaixnO2U9YS5FdmVudChlKTtlLnR5cGU9YjtoPWUub3JpZ2luYWxFdmVudDtqPWEuZXZlbnQucHJvcHM7aWYoaClmb3IoZz1qLmxlbmd0aDtnOyliPWpbLS1nXSxlW2JdPWhbYl07aWYoci5zZWFyY2goL21vdXNlKGRvd258dXApfGNsaWNrLyk+LTEmJiFlLndoaWNoKWUud2hpY2g9MTtpZihyLnNlYXJjaCgvXnRvdWNoLykhPT0tMSYmKGI9ZihoKSxyPWIudG91Y2hlcyxiPWIuY2hhbmdlZFRvdWNoZXMscj1yJiZyLmxlbmd0aD9yWzBdOmImJmIubGVuZ3RoP2JbMF06ZCkpZm9yKGg9MCxsZW49ei5sZW5ndGg7aDxsZW47aCsrKWI9eltoXSxlW2JdPXJbYl07YShjLnRhcmdldCkudHJpZ2dlcihlKX1yZXR1cm4gZX1mdW5jdGlvbiBpKGIpe3ZhciBjPWEuZGF0YShiLnRhcmdldCxBKTtpZighRCYmKCFFfHxFIT09YykpaWYoYz1nKCJ2IitiLnR5cGUsYikpYy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmYi5wcmV2ZW50RGVmYXVsdCgpLGMuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmDQpiLnN0b3BQcm9wYWdhdGlvbigpLGMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSYmYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX1mdW5jdGlvbiBrKGIpe3ZhciBkPWYoYikudG91Y2hlcyxlO2lmKGQmJmQubGVuZ3RoPT09MSYmKGU9Yi50YXJnZXQsZD1jKGUpLGQuaGFzVmlydHVhbEJpbmRpbmcpKUU9cisrLGEuZGF0YShlLEEsRSksdiYmKGNsZWFyVGltZW91dCh2KSx2PTApLHc9eT1mYWxzZSxlPWYoYikudG91Y2hlc1swXSx4PWUucGFnZVgsdD1lLnBhZ2VZLGcoInZtb3VzZW92ZXIiLGIsZCksZygidm1vdXNlZG93biIsYixkKX1mdW5jdGlvbiBsKGEpe3l8fCh3fHxnKCJ2bW91c2VjYW5jZWwiLGEsYyhhLnRhcmdldCkpLHc9dHJ1ZSxoKCkpfWZ1bmN0aW9uIG8oYil7aWYoIXkpe3ZhciBkPWYoYikudG91Y2hlc1swXSxyPXcsZT1hLnZtb3VzZS5tb3ZlRGlzdGFuY2VUaHJlc2hvbGQ7dz13fHxNYXRoLmFicyhkLnBhZ2VYLXgpPmV8fE1hdGguYWJzKGQucGFnZVktDQp0KT5lO2ZsYWdzPWMoYi50YXJnZXQpO3cmJiFyJiZnKCJ2bW91c2VjYW5jZWwiLGIsZmxhZ3MpO2coInZtb3VzZW1vdmUiLGIsZmxhZ3MpO2goKX19ZnVuY3Rpb24gbShhKXtpZigheSl7eT10cnVlO3ZhciBiPWMoYS50YXJnZXQpLGQ7Zygidm1vdXNldXAiLGEsYik7aWYoIXcmJihkPWcoInZjbGljayIsYSxiKSkmJmQuaXNEZWZhdWx0UHJldmVudGVkKCkpZD1mKGEpLmNoYW5nZWRUb3VjaGVzWzBdLHUucHVzaCh7dG91Y2hJRDpFLHg6ZC5jbGllbnRYLHk6ZC5jbGllbnRZfSksRD10cnVlO2coInZtb3VzZW91dCIsYSxiKTt3PWZhbHNlO2goKX19ZnVuY3Rpb24gcChiKXt2YXIgYj1hLmRhdGEoYixuKSxjO2lmKGIpZm9yKGMgaW4gYilpZihiW2NdKXJldHVybiB0cnVlO3JldHVybiBmYWxzZX1mdW5jdGlvbiBqKCl7fWZ1bmN0aW9uIHEoYil7dmFyIGM9Yi5zdWJzdHIoMSk7cmV0dXJue3NldHVwOmZ1bmN0aW9uKCl7cCh0aGlzKXx8YS5kYXRhKHRoaXMsbix7fSk7YS5kYXRhKHRoaXMsDQpuKVtiXT10cnVlO3NbYl09KHNbYl18fDApKzE7c1tiXT09PTEmJkIuYmluZChjLGkpO2EodGhpcykuYmluZChjLGopO2lmKEMpcy50b3VjaHN0YXJ0PShzLnRvdWNoc3RhcnR8fDApKzEscy50b3VjaHN0YXJ0PT09MSYmQi5iaW5kKCJ0b3VjaHN0YXJ0IixrKS5iaW5kKCJ0b3VjaGVuZCIsbSkuYmluZCgidG91Y2htb3ZlIixvKS5iaW5kKCJzY3JvbGwiLGwpfSx0ZWFyZG93bjpmdW5jdGlvbigpey0tc1tiXTtzW2JdfHxCLnVuYmluZChjLGkpO0MmJigtLXMudG91Y2hzdGFydCxzLnRvdWNoc3RhcnR8fEIudW5iaW5kKCJ0b3VjaHN0YXJ0IixrKS51bmJpbmQoInRvdWNobW92ZSIsbykudW5iaW5kKCJ0b3VjaGVuZCIsbSkudW5iaW5kKCJzY3JvbGwiLGwpKTt2YXIgZD1hKHRoaXMpLGY9YS5kYXRhKHRoaXMsbik7ZiYmKGZbYl09ZmFsc2UpO2QudW5iaW5kKGMsaik7cCh0aGlzKXx8ZC5yZW1vdmVEYXRhKG4pfX19dmFyIG49InZpcnR1YWxNb3VzZUJpbmRpbmdzIixBPSJ2aXJ0dWFsVG91Y2hJRCIsDQplPSJ2bW91c2VvdmVyIHZtb3VzZWRvd24gdm1vdXNlbW92ZSB2bW91c2V1cCB2Y2xpY2sgdm1vdXNlb3V0IHZtb3VzZWNhbmNlbCIuc3BsaXQoIiAiKSx6PSJjbGllbnRYIGNsaWVudFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIi5zcGxpdCgiICIpLHM9e30sdj0wLHg9MCx0PTAsdz1mYWxzZSx1PVtdLEQ9ZmFsc2UseT1mYWxzZSxDPSJhZGRFdmVudExpc3RlbmVyImluIGIsQj1hKGIpLHI9MSxFPTA7YS52bW91c2U9e21vdmVEaXN0YW5jZVRocmVzaG9sZDoxMCxjbGlja0Rpc3RhbmNlVGhyZXNob2xkOjEwLHJlc2V0VGltZXJEdXJhdGlvbjoxNTAwfTtmb3IodmFyIEY9MDtGPGUubGVuZ3RoO0YrKylhLmV2ZW50LnNwZWNpYWxbZVtGXV09cShlW0ZdKTtDJiZiLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixmdW5jdGlvbihiKXt2YXIgYz11Lmxlbmd0aCxkPWIudGFyZ2V0LGYscixlLGgsajtpZihjKXtmPWIuY2xpZW50WDtyPWIuY2xpZW50WTt0aHJlc2hvbGQ9YS52bW91c2UuY2xpY2tEaXN0YW5jZVRocmVzaG9sZDsNCmZvcihlPWQ7ZTspe2ZvcihoPTA7aDxjO2grKylpZihqPXVbaF0sZT09PWQmJk1hdGguYWJzKGoueC1mKTx0aHJlc2hvbGQmJk1hdGguYWJzKGoueS1yKTx0aHJlc2hvbGR8fGEuZGF0YShlLEEpPT09ai50b3VjaElEKXtiLnByZXZlbnREZWZhdWx0KCk7Yi5zdG9wUHJvcGFnYXRpb24oKTtyZXR1cm59ZT1lLnBhcmVudE5vZGV9fX0sdHJ1ZSl9KShqUXVlcnksd2luZG93LGRvY3VtZW50KTsNCihmdW5jdGlvbihhLGUsYil7ZnVuY3Rpb24gZChiLGMsZCl7dmFyIGY9ZC50eXBlO2QudHlwZT1jO2EuZXZlbnQuaGFuZGxlLmNhbGwoYixkKTtkLnR5cGU9Zn1hLmVhY2goInRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIG9yaWVudGF0aW9uY2hhbmdlIHRocm90dGxlZHJlc2l6ZSB0YXAgdGFwaG9sZCBzd2lwZSBzd2lwZWxlZnQgc3dpcGVyaWdodCBzY3JvbGxzdGFydCBzY3JvbGxzdG9wIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGIsYyl7YS5mbltjXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoYyxhKTp0aGlzLnRyaWdnZXIoYyl9O2EuYXR0ckZuW2NdPXRydWV9KTt2YXIgZj1hLnN1cHBvcnQudG91Y2gsYz1mPyJ0b3VjaHN0YXJ0IjoibW91c2Vkb3duIixoPWY/InRvdWNoZW5kIjoibW91c2V1cCIsZz1mPyJ0b3VjaG1vdmUiOiJtb3VzZW1vdmUiO2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydD17ZW5hYmxlZDp0cnVlLHNldHVwOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhLA0KZSl7Zj1lO2QoYyxmPyJzY3JvbGxzdGFydCI6InNjcm9sbHN0b3AiLGEpfXZhciBjPXRoaXMsZixlO2EoYykuYmluZCgidG91Y2htb3ZlIHNjcm9sbCIsZnVuY3Rpb24oYyl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQmJihmfHxiKGMsdHJ1ZSksY2xlYXJUaW1lb3V0KGUpLGU9c2V0VGltZW91dChmdW5jdGlvbigpe2IoYyxmYWxzZSl9LDUwKSl9KX19O2EuZXZlbnQuc3BlY2lhbC50YXA9e3NldHVwOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWEoYik7Yy5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbihmKXtmdW5jdGlvbiBlKCl7Y2xlYXJUaW1lb3V0KHEpfWZ1bmN0aW9uIGgoKXtlKCk7Yy51bmJpbmQoInZjbGljayIsZykudW5iaW5kKCJ2bW91c2V1cCIsZSkudW5iaW5kKCJ2bW91c2VjYW5jZWwiLGgpfWZ1bmN0aW9uIGcoYSl7aCgpO2o9PWEudGFyZ2V0JiZkKGIsInRhcCIsYSl9aWYoZi53aGljaCYmZi53aGljaCE9PTEpcmV0dXJuIGZhbHNlO3ZhciBqPWYudGFyZ2V0LA0KcTtjLmJpbmQoInZtb3VzZWNhbmNlbCIsaCkuYmluZCgidm1vdXNldXAiLGUpLmJpbmQoInZjbGljayIsZyk7cT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZChiLCJ0YXBob2xkIixhLkV2ZW50KCJ0YXBob2xkIikpfSw3NTApfSl9fTthLmV2ZW50LnNwZWNpYWwuc3dpcGU9e3Njcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQ6MTAsZHVyYXRpb25UaHJlc2hvbGQ6MUUzLGhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZDozMCx2ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkOjc1LHNldHVwOmZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKTtkLmJpbmQoYyxmdW5jdGlvbihjKXtmdW5jdGlvbiBmKGIpe2lmKG0pe3ZhciBjPWIub3JpZ2luYWxFdmVudC50b3VjaGVzP2Iub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmI7cD17dGltZToobmV3IERhdGUpLmdldFRpbWUoKSxjb29yZHM6W2MucGFnZVgsYy5wYWdlWV19O01hdGguYWJzKG0uY29vcmRzWzBdLXAuY29vcmRzWzBdKT5hLmV2ZW50LnNwZWNpYWwuc3dpcGUuc2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZCYmDQpiLnByZXZlbnREZWZhdWx0KCl9fXZhciBlPWMub3JpZ2luYWxFdmVudC50b3VjaGVzP2Mub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmMsbT17dGltZToobmV3IERhdGUpLmdldFRpbWUoKSxjb29yZHM6W2UucGFnZVgsZS5wYWdlWV0sb3JpZ2luOmEoYy50YXJnZXQpfSxwO2QuYmluZChnLGYpLm9uZShoLGZ1bmN0aW9uKCl7ZC51bmJpbmQoZyxmKTttJiZwJiZwLnRpbWUtbS50aW1lPGEuZXZlbnQuc3BlY2lhbC5zd2lwZS5kdXJhdGlvblRocmVzaG9sZCYmTWF0aC5hYnMobS5jb29yZHNbMF0tcC5jb29yZHNbMF0pPmEuZXZlbnQuc3BlY2lhbC5zd2lwZS5ob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQmJk1hdGguYWJzKG0uY29vcmRzWzFdLXAuY29vcmRzWzFdKTxhLmV2ZW50LnNwZWNpYWwuc3dpcGUudmVydGljYWxEaXN0YW5jZVRocmVzaG9sZCYmbS5vcmlnaW4udHJpZ2dlcigic3dpcGUiKS50cmlnZ2VyKG0uY29vcmRzWzBdPnAuY29vcmRzWzBdPyJzd2lwZWxlZnQiOiJzd2lwZXJpZ2h0Iik7DQptPXA9Yn0pfSl9fTsoZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7dmFyIGE9ZigpO2EhPT1lJiYoZT1hLGQudHJpZ2dlcigib3JpZW50YXRpb25jaGFuZ2UiKSl9dmFyIGQ9YShiKSxmLGU7YS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlPXtzZXR1cDpmdW5jdGlvbigpe2lmKGEuc3VwcG9ydC5vcmllbnRhdGlvbiYmYS5tb2JpbGUub3JpZW50YXRpb25DaGFuZ2VFbmFibGVkKXJldHVybiBmYWxzZTtlPWYoKTtkLmJpbmQoInRocm90dGxlZHJlc2l6ZSIsYyl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYoYS5zdXBwb3J0Lm9yaWVudGF0aW9uJiZhLm1vYmlsZS5vcmllbnRhdGlvbkNoYW5nZUVuYWJsZWQpcmV0dXJuIGZhbHNlO2QudW5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGMpfSxhZGQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5oYW5kbGVyO2EuaGFuZGxlcj1mdW5jdGlvbihhKXthLm9yaWVudGF0aW9uPWYoKTtyZXR1cm4gYi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX07YS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLm9yaWVudGF0aW9uPQ0KZj1mdW5jdGlvbigpe3ZhciBjPXRydWUsYz1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuKGM9YS5zdXBwb3J0Lm9yaWVudGF0aW9uP2Iub3JpZW50YXRpb24lMTgwPT0wOmMmJmMuY2xpZW50V2lkdGgvYy5jbGllbnRIZWlnaHQ8MS4xKT8icG9ydHJhaXQiOiJsYW5kc2NhcGUifX0pKGpRdWVyeSxlKTsoZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwudGhyb3R0bGVkcmVzaXplPXtzZXR1cDpmdW5jdGlvbigpe2EodGhpcykuYmluZCgicmVzaXplIixiKX0sdGVhcmRvd246ZnVuY3Rpb24oKXthKHRoaXMpLnVuYmluZCgicmVzaXplIixiKX19O3ZhciBiPWZ1bmN0aW9uKCl7Zj0obmV3IERhdGUpLmdldFRpbWUoKTtlPWYtYztlPj0yNTA/KGM9ZixhKHRoaXMpLnRyaWdnZXIoInRocm90dGxlZHJlc2l6ZSIpKTooZCYmY2xlYXJUaW1lb3V0KGQpLGQ9c2V0VGltZW91dChiLDI1MC1lKSl9LGM9MCxkLGYsZX0pKCk7YS5lYWNoKHtzY3JvbGxzdG9wOiJzY3JvbGxzdGFydCIsdGFwaG9sZDoidGFwIiwNCnN3aXBlbGVmdDoic3dpcGUiLHN3aXBlcmlnaHQ6InN3aXBlIn0sZnVuY3Rpb24oYixjKXthLmV2ZW50LnNwZWNpYWxbYl09e3NldHVwOmZ1bmN0aW9uKCl7YSh0aGlzKS5iaW5kKGMsYS5ub29wKX19fSl9KShqUXVlcnksdGhpcyk7DQooZnVuY3Rpb24oYSxlLGIpe2Z1bmN0aW9uIGQoYSl7YT1hfHxsb2NhdGlvbi5ocmVmO3JldHVybiIjIithLnJlcGxhY2UoL15bXiNdKiM/KC4qKSQvLCIkMSIpfXZhciBmPSJoYXNoY2hhbmdlIixjPWRvY3VtZW50LGgsZz1hLmV2ZW50LnNwZWNpYWwsaT1jLmRvY3VtZW50TW9kZSxrPSJvbiIrZiBpbiBlJiYoaT09PWJ8fGk+Nyk7YS5mbltmXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoZixhKTp0aGlzLnRyaWdnZXIoZil9O2EuZm5bZl0uZGVsYXk9NTA7Z1tmXT1hLmV4dGVuZChnW2ZdLHtzZXR1cDpmdW5jdGlvbigpe2lmKGspcmV0dXJuIGZhbHNlO2EoaC5zdGFydCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYoaylyZXR1cm4gZmFsc2U7YShoLnN0b3ApfX0pO2g9ZnVuY3Rpb24oKXtmdW5jdGlvbiBoKCl7dmFyIGI9ZCgpLGM9bihwKTtpZihiIT09cClxKHA9YixjKSxhKGUpLnRyaWdnZXIoZik7ZWxzZSBpZihjIT09cClsb2NhdGlvbi5ocmVmPWxvY2F0aW9uLmhyZWYucmVwbGFjZSgvIy4qLywNCiIiKStjO2k9c2V0VGltZW91dChoLGEuZm5bZl0uZGVsYXkpfXZhciBnPXt9LGkscD1kKCksaj1mdW5jdGlvbihhKXtyZXR1cm4gYX0scT1qLG49ajtnLnN0YXJ0PWZ1bmN0aW9uKCl7aXx8aCgpfTtnLnN0b3A9ZnVuY3Rpb24oKXtpJiZjbGVhclRpbWVvdXQoaSk7aT1ifTthLmJyb3dzZXIubXNpZSYmIWsmJmZ1bmN0aW9uKCl7dmFyIGIsZTtnLnN0YXJ0PWZ1bmN0aW9uKCl7aWYoIWIpZT0oZT1hLmZuW2ZdLnNyYykmJmUrZCgpLGI9YSgnPGlmcmFtZSB0YWJpbmRleD0iLTEiIHRpdGxlPSJlbXB0eSIvPicpLmhpZGUoKS5vbmUoImxvYWQiLGZ1bmN0aW9uKCl7ZXx8cShkKCkpO2goKX0pLmF0dHIoInNyYyIsZXx8ImphdmFzY3JpcHQ6MCIpLmluc2VydEFmdGVyKCJib2R5IilbMF0uY29udGVudFdpbmRvdyxjLm9ucHJvcGVydHljaGFuZ2U9ZnVuY3Rpb24oKXt0cnl7aWYoZXZlbnQucHJvcGVydHlOYW1lPT09InRpdGxlIiliLmRvY3VtZW50LnRpdGxlPWMudGl0bGV9Y2F0Y2goYSl7fX19Ow0KZy5zdG9wPWo7bj1mdW5jdGlvbigpe3JldHVybiBkKGIubG9jYXRpb24uaHJlZil9O3E9ZnVuY3Rpb24oZCxlKXt2YXIgaD1iLmRvY3VtZW50LGc9YS5mbltmXS5kb21haW47aWYoZCE9PWUpaC50aXRsZT1jLnRpdGxlLGgub3BlbigpLGcmJmgud3JpdGUoJzxzY3JpcHQ+ZG9jdW1lbnQuZG9tYWluPSInK2crJyI8XC9zY3JpcHQ+JyksaC5jbG9zZSgpLGIubG9jYXRpb24uaGFzaD1kfX0oKTtyZXR1cm4gZ30oKX0pKGpRdWVyeSx0aGlzKTsNCihmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnBhZ2UiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6ImMiLGRvbUNhY2hlOmZhbHNlLGtlZXBOYXRpdmVEZWZhdWx0OiI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl90cmlnZ2VyKCJiZWZvcmVjcmVhdGUiKTt0aGlzLmVsZW1lbnQuYXR0cigidGFiaW5kZXgiLCIwIikuYWRkQ2xhc3MoInVpLXBhZ2UgdWktYm9keS0iK3RoaXMub3B0aW9ucy50aGVtZSl9LGtlZXBOYXRpdmVTZWxlY3RvcjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0aW9ucztyZXR1cm4gZS5rZWVwTmF0aXZlJiZhLnRyaW0oZS5rZWVwTmF0aXZlKSYmZS5rZWVwTmF0aXZlIT09ZS5rZWVwTmF0aXZlRGVmYXVsdD9bZS5rZWVwTmF0aXZlLGUua2VlcE5hdGl2ZURlZmF1bHRdLmpvaW4oIiwgIik6ZS5rZWVwTmF0aXZlRGVmYXVsdH19KX0pKGpRdWVyeSk7DQooZnVuY3Rpb24oYSxlKXt2YXIgYj17fTthLmV4dGVuZChhLm1vYmlsZSx7bnM6IiIsc3ViUGFnZVVybEtleToidWktcGFnZSIsYWN0aXZlUGFnZUNsYXNzOiJ1aS1wYWdlLWFjdGl2ZSIsYWN0aXZlQnRuQ2xhc3M6InVpLWJ0bi1hY3RpdmUiLGFqYXhFbmFibGVkOnRydWUsaGFzaExpc3RlbmluZ0VuYWJsZWQ6dHJ1ZSxsaW5rQmluZGluZ0VuYWJsZWQ6dHJ1ZSxkZWZhdWx0UGFnZVRyYW5zaXRpb246InNsaWRlIixtaW5TY3JvbGxCYWNrOjI1MCxkZWZhdWx0RGlhbG9nVHJhbnNpdGlvbjoicG9wIixsb2FkaW5nTWVzc2FnZToibG9hZGluZyIscGFnZUxvYWRFcnJvck1lc3NhZ2U6IkVycm9yIExvYWRpbmcgUGFnZSIsYXV0b0luaXRpYWxpemVQYWdlOnRydWUscHVzaFN0YXRlRW5hYmxlZDp0cnVlLG9yaWVudGF0aW9uQ2hhbmdlRW5hYmxlZDp0cnVlLGdyYWRlQTpmdW5jdGlvbigpe3JldHVybiBhLnN1cHBvcnQubWVkaWFxdWVyeXx8YS5tb2JpbGUuYnJvd3Nlci5pZSYmYS5tb2JpbGUuYnJvd3Nlci5pZT49DQo3fSxrZXlDb2RlOntBTFQ6MTgsQkFDS1NQQUNFOjgsQ0FQU19MT0NLOjIwLENPTU1BOjE4OCxDT01NQU5EOjkxLENPTU1BTkRfTEVGVDo5MSxDT01NQU5EX1JJR0hUOjkzLENPTlRST0w6MTcsREVMRVRFOjQ2LERPV046NDAsRU5EOjM1LEVOVEVSOjEzLEVTQ0FQRToyNyxIT01FOjM2LElOU0VSVDo0NSxMRUZUOjM3LE1FTlU6OTMsTlVNUEFEX0FERDoxMDcsTlVNUEFEX0RFQ0lNQUw6MTEwLE5VTVBBRF9ESVZJREU6MTExLE5VTVBBRF9FTlRFUjoxMDgsTlVNUEFEX01VTFRJUExZOjEwNixOVU1QQURfU1VCVFJBQ1Q6MTA5LFBBR0VfRE9XTjozNCxQQUdFX1VQOjMzLFBFUklPRDoxOTAsUklHSFQ6MzksU0hJRlQ6MTYsU1BBQ0U6MzIsVEFCOjksVVA6MzgsV0lORE9XUzo5MX0sc2lsZW50U2Nyb2xsOmZ1bmN0aW9uKGIpe2lmKGEudHlwZShiKSE9PSJudW1iZXIiKWI9YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ZmFsc2U7DQpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5zY3JvbGxUbygwLGIpO2EoZG9jdW1lbnQpLnRyaWdnZXIoInNpbGVudHNjcm9sbCIse3g6MCx5OmJ9KX0sMjApO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD10cnVlfSwxNTApfSxuc05vcm1hbGl6ZURpY3Q6Yixuc05vcm1hbGl6ZTpmdW5jdGlvbihjKXtyZXR1cm4hYz92b2lkIDA6YltjXXx8KGJbY109YS5jYW1lbENhc2UoYS5tb2JpbGUubnMrYykpfSxnZXRJbmhlcml0ZWRUaGVtZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgZD1hWzBdLGY9IiIsZT0vdWktKGJhcnxib2R5KS0oW2Etel0pXGIvLGwsbztkOyl7bD1kLmNsYXNzTmFtZXx8IiI7aWYoKG89ZS5leGVjKGwpKSYmKGY9b1syXSkpYnJlYWs7ZD1kLnBhcmVudE5vZGV9cmV0dXJuIGZ8fGJ8fCJhIn19KTthLmZuLmpxbURhdGE9ZnVuY3Rpb24oYixkKXt2YXIgZjt0eXBlb2YgYiE9InVuZGVmaW5lZCImJihmPXRoaXMuZGF0YShiPw0KYS5tb2JpbGUubnNOb3JtYWxpemUoYik6YixkKSk7cmV0dXJuIGZ9O2EuanFtRGF0YT1mdW5jdGlvbihiLGQsZil7dmFyIGU7dHlwZW9mIGQhPSJ1bmRlZmluZWQiJiYoZT1hLmRhdGEoYixkP2EubW9iaWxlLm5zTm9ybWFsaXplKGQpOmQsZikpO3JldHVybiBlfTthLmZuLmpxbVJlbW92ZURhdGE9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMucmVtb3ZlRGF0YShhLm1vYmlsZS5uc05vcm1hbGl6ZShiKSl9O2EuanFtUmVtb3ZlRGF0YT1mdW5jdGlvbihiLGQpe3JldHVybiBhLnJlbW92ZURhdGEoYixhLm1vYmlsZS5uc05vcm1hbGl6ZShkKSl9O2EuZm4ucmVtb3ZlV2l0aERlcGVuZGVudHM9ZnVuY3Rpb24oKXthLnJlbW92ZVdpdGhEZXBlbmRlbnRzKHRoaXMpfTthLnJlbW92ZVdpdGhEZXBlbmRlbnRzPWZ1bmN0aW9uKGIpe2I9YShiKTsoYi5qcW1EYXRhKCJkZXBlbmRlbnRzIil8fGEoKSkucmVtb3ZlKCk7Yi5yZW1vdmUoKX07YS5mbi5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKGIpe2EuYWRkRGVwZW5kZW50cyhhKHRoaXMpLA0KYil9O2EuYWRkRGVwZW5kZW50cz1mdW5jdGlvbihiLGQpe3ZhciBmPWEoYikuanFtRGF0YSgiZGVwZW5kZW50cyIpfHxhKCk7YShiKS5qcW1EYXRhKCJkZXBlbmRlbnRzIixhLm1lcmdlKGYsZCkpfTthLmZuLmdldEVuY29kZWRUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIGEoIjxkaXYvPiIpLnRleHQoYSh0aGlzKS50ZXh0KCkpLmh0bWwoKX07dmFyIGQ9YS5maW5kLGY9LzpqcW1EYXRhXCgoW14pXSopXCkvZzthLmZpbmQ9ZnVuY3Rpb24oYixlLGcsaSl7Yj1iLnJlcGxhY2UoZiwiW2RhdGEtIisoYS5tb2JpbGUubnN8fCIiKSsiJDFdIik7cmV0dXJuIGQuY2FsbCh0aGlzLGIsZSxnLGkpfTthLmV4dGVuZChhLmZpbmQsZCk7YS5maW5kLm1hdGNoZXM9ZnVuY3Rpb24oYixkKXtyZXR1cm4gYS5maW5kKGIsbnVsbCxudWxsLGQpfTthLmZpbmQubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGIsZCl7cmV0dXJuIGEuZmluZChkLG51bGwsbnVsbCxbYl0pLmxlbmd0aD4wfX0pKGpRdWVyeSx0aGlzKTsNCihmdW5jdGlvbihhLGUpe2Z1bmN0aW9uIGIoYSl7dmFyIGI9YS5maW5kKCIudWktdGl0bGU6ZXEoMCkiKTtiLmxlbmd0aD9iLmZvY3VzKCk6YS5mb2N1cygpfWZ1bmN0aW9uIGQoYil7cSYmKCFxLmNsb3Nlc3QoIi51aS1wYWdlLWFjdGl2ZSIpLmxlbmd0aHx8YikmJnEucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpO3E9bnVsbH1mdW5jdGlvbiBmKCl7ej1mYWxzZTtBLmxlbmd0aD4wJiZhLm1vYmlsZS5jaGFuZ2VQYWdlLmFwcGx5KG51bGwsQS5wb3AoKSl9ZnVuY3Rpb24gYyhjLGQsZixlKXt2YXIgZz1hLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpLGo9YS5zdXBwb3J0LnRvdWNoT3ZlcmZsb3cmJmEubW9iaWxlLnRvdWNoT3ZlcmZsb3dFbmFibGVkLGk9Zy5sYXN0U2Nyb2xsfHwoaj8wOmEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsKSxnPWgoKTt3aW5kb3cuc2Nyb2xsVG8oMCxhLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCk7ZCYmZC5kYXRhKCJwYWdlIikuX3RyaWdnZXIoImJlZm9yZWhpZGUiLA0KbnVsbCx7bmV4dFBhZ2U6Y30pO2p8fGMuaGVpZ2h0KGcraSk7Yy5kYXRhKCJwYWdlIikuX3RyaWdnZXIoImJlZm9yZXNob3ciLG51bGwse3ByZXZQYWdlOmR8fGEoIiIpfSk7YS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnKCk7aiYmaSYmKGMuYWRkQ2xhc3MoInVpLW1vYmlsZS1wcmUtdHJhbnNpdGlvbiIpLGIoYyksYy5pcygiLnVpLW5hdGl2ZS1maXhlZCIpP2MuZmluZCgiLnVpLWNvbnRlbnQiKS5zY3JvbGxUb3AoaSk6Yy5zY3JvbGxUb3AoaSkpO2Y9KGEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVyc1tmfHwibm9uZSJdfHxhLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIpKGYsZSxjLGQpO2YuZG9uZShmdW5jdGlvbigpe2p8fChjLmhlaWdodCgiIiksYihjKSk7anx8YS5tb2JpbGUuc2lsZW50U2Nyb2xsKGkpO2QmJihqfHxkLmhlaWdodCgiIiksZC5kYXRhKCJwYWdlIikuX3RyaWdnZXIoImhpZGUiLG51bGwse25leHRQYWdlOmN9KSk7Yy5kYXRhKCJwYWdlIikuX3RyaWdnZXIoInNob3ciLA0KbnVsbCx7cHJldlBhZ2U6ZHx8YSgiIil9KX0pO3JldHVybiBmfWZ1bmN0aW9uIGgoKXt2YXIgYj1hLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2Uub3JpZW50YXRpb24oKT09PSJwb3J0cmFpdCIsYz1iP3NjcmVlbi5hdmFpbEhlaWdodDpzY3JlZW4uYXZhaWxXaWR0aCxiPU1hdGgubWF4KGI/NDgwOjMyMCxhKHdpbmRvdykuaGVpZ2h0KCkpO3JldHVybiBNYXRoLm1pbihjLGIpfWZ1bmN0aW9uIGcoKXsoIWEuc3VwcG9ydC50b3VjaE92ZXJmbG93fHwhYS5tb2JpbGUudG91Y2hPdmVyZmxvd0VuYWJsZWQpJiZhKCIuIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLmNzcygibWluLWhlaWdodCIsaCgpKX1mdW5jdGlvbiBpKGIsYyl7YyYmYi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInJvbGUiLGMpO2IucGFnZSgpfWZ1bmN0aW9uIGsoYSl7Zm9yKDthOyl7aWYodHlwZW9mIGEubm9kZU5hbWU9PT0ic3RyaW5nIiYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT0iYSIpYnJlYWs7DQphPWEucGFyZW50Tm9kZX1yZXR1cm4gYX1mdW5jdGlvbiBsKGIpe3ZhciBiPWEoYikuY2xvc2VzdCgiLnVpLXBhZ2UiKS5qcW1EYXRhKCJ1cmwiKSxjPXQuaHJlZk5vSGFzaDtpZighYnx8IWouaXNQYXRoKGIpKWI9YztyZXR1cm4gai5tYWtlVXJsQWJzb2x1dGUoYixjKX12YXIgbz1hKHdpbmRvdyksbT1hKCJodG1sIikscD1hKCJoZWFkIiksaj17dXJsUGFyc2VSRTovXigoKChbXjpcLyNcP10rOik/KD86KFwvXC8pKCg/OigoW146QFwvI1w/XSspKD86XDooW146QFwvI1w/XSspKT8pQCk/KChbXjpcLyNcP1xdXFtdK3xcW1teXC9cXUAjP10rXF0pKD86XDooWzAtOV0rKSk/KSk/KT8pPygoXC8/KD86W15cL1w/I10rXC8rKSopKFteXD8jXSopKSk/KFw/W14jXSspPykoIy4qKT8vLHBhcnNlVXJsOmZ1bmN0aW9uKGIpe2lmKGEudHlwZShiKT09PSJvYmplY3QiKXJldHVybiBiO2I9ai51cmxQYXJzZVJFLmV4ZWMoYnx8IiIpfHxbXTtyZXR1cm57aHJlZjpiWzBdfHwiIixocmVmTm9IYXNoOmJbMV18fA0KIiIsaHJlZk5vU2VhcmNoOmJbMl18fCIiLGRvbWFpbjpiWzNdfHwiIixwcm90b2NvbDpiWzRdfHwiIixkb3VibGVTbGFzaDpiWzVdfHwiIixhdXRob3JpdHk6Yls2XXx8IiIsdXNlcm5hbWU6Yls4XXx8IiIscGFzc3dvcmQ6Yls5XXx8IiIsaG9zdDpiWzEwXXx8IiIsaG9zdG5hbWU6YlsxMV18fCIiLHBvcnQ6YlsxMl18fCIiLHBhdGhuYW1lOmJbMTNdfHwiIixkaXJlY3Rvcnk6YlsxNF18fCIiLGZpbGVuYW1lOmJbMTVdfHwiIixzZWFyY2g6YlsxNl18fCIiLGhhc2g6YlsxN118fCIifX0sbWFrZVBhdGhBYnNvbHV0ZTpmdW5jdGlvbihhLGIpe2lmKGEmJmEuY2hhckF0KDApPT09Ii8iKXJldHVybiBhO2Zvcih2YXIgYT1hfHwiIixjPShiPWI/Yi5yZXBsYWNlKC9eXC98KFwvW15cL10qfFteXC9dKykkL2csIiIpOiIiKT9iLnNwbGl0KCIvIik6W10sZD1hLnNwbGl0KCIvIiksZj0wO2Y8ZC5sZW5ndGg7ZisrKXt2YXIgZT1kW2ZdO3N3aXRjaChlKXtjYXNlICIuIjpicmVhaztjYXNlICIuLiI6Yy5sZW5ndGgmJg0KYy5wb3AoKTticmVhaztkZWZhdWx0OmMucHVzaChlKX19cmV0dXJuIi8iK2Muam9pbigiLyIpfSxpc1NhbWVEb21haW46ZnVuY3Rpb24oYSxiKXtyZXR1cm4gai5wYXJzZVVybChhKS5kb21haW49PT1qLnBhcnNlVXJsKGIpLmRvbWFpbn0saXNSZWxhdGl2ZVVybDpmdW5jdGlvbihhKXtyZXR1cm4gai5wYXJzZVVybChhKS5wcm90b2NvbD09PSIifSxpc0Fic29sdXRlVXJsOmZ1bmN0aW9uKGEpe3JldHVybiBqLnBhcnNlVXJsKGEpLnByb3RvY29sIT09IiJ9LG1ha2VVcmxBYnNvbHV0ZTpmdW5jdGlvbihhLGIpe2lmKCFqLmlzUmVsYXRpdmVVcmwoYSkpcmV0dXJuIGE7dmFyIGM9ai5wYXJzZVVybChhKSxkPWoucGFyc2VVcmwoYiksZj1jLnByb3RvY29sfHxkLnByb3RvY29sLGU9Yy5wcm90b2NvbD9jLmRvdWJsZVNsYXNoOmMuZG91YmxlU2xhc2h8fGQuZG91YmxlU2xhc2gsaD1jLmF1dGhvcml0eXx8ZC5hdXRob3JpdHksZz1jLnBhdGhuYW1lIT09IiIsaT1qLm1ha2VQYXRoQWJzb2x1dGUoYy5wYXRobmFtZXx8DQpkLmZpbGVuYW1lLGQucGF0aG5hbWUpO3JldHVybiBmK2UraCtpKyhjLnNlYXJjaHx8IWcmJmQuc2VhcmNofHwiIikrYy5oYXNofSxhZGRTZWFyY2hQYXJhbXM6ZnVuY3Rpb24oYixjKXt2YXIgZD1qLnBhcnNlVXJsKGIpLGY9dHlwZW9mIGM9PT0ib2JqZWN0Ij9hLnBhcmFtKGMpOmMsZT1kLnNlYXJjaHx8Ij8iO3JldHVybiBkLmhyZWZOb1NlYXJjaCtlKyhlLmNoYXJBdChlLmxlbmd0aC0xKSE9PSI/Ij8iJiI6IiIpK2YrKGQuaGFzaHx8IiIpfSxjb252ZXJ0VXJsVG9EYXRhVXJsOmZ1bmN0aW9uKGEpe3ZhciBiPWoucGFyc2VVcmwoYSk7aWYoai5pc0VtYmVkZGVkUGFnZShiKSlyZXR1cm4gYi5oYXNoLnNwbGl0KHMpWzBdLnJlcGxhY2UoL14jLywiIik7ZWxzZSBpZihqLmlzU2FtZURvbWFpbihiLHQpKXJldHVybiBiLmhyZWZOb0hhc2gucmVwbGFjZSh0LmRvbWFpbiwiIik7cmV0dXJuIGF9LGdldDpmdW5jdGlvbihhKXtpZihhPT09ZSlhPWxvY2F0aW9uLmhhc2g7cmV0dXJuIGouc3RyaXBIYXNoKGEpLnJlcGxhY2UoL1teXC9dKlwuW15cLypdKyQvLA0KIiIpfSxnZXRGaWxlUGF0aDpmdW5jdGlvbihiKXt2YXIgYz0iJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleTtyZXR1cm4gYiYmYi5zcGxpdChjKVswXS5zcGxpdChzKVswXX0sc2V0OmZ1bmN0aW9uKGEpe2xvY2F0aW9uLmhhc2g9YX0saXNQYXRoOmZ1bmN0aW9uKGEpe3JldHVybi9cLy8udGVzdChhKX0sY2xlYW46ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSh0LmRvbWFpbiwiIil9LHN0cmlwSGFzaDpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9eIy8sIiIpfSxjbGVhbkhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGouc3RyaXBIYXNoKGEucmVwbGFjZSgvXD8uKiQvLCIiKS5yZXBsYWNlKHMsIiIpKX0saXNFeHRlcm5hbDpmdW5jdGlvbihhKXthPWoucGFyc2VVcmwoYSk7cmV0dXJuIGEucHJvdG9jb2wmJmEuZG9tYWluIT09eC5kb21haW4/dHJ1ZTpmYWxzZX0saGFzUHJvdG9jb2w6ZnVuY3Rpb24oYSl7cmV0dXJuL14oOj9cdys6KS8udGVzdChhKX0saXNGaXJzdFBhZ2VVcmw6ZnVuY3Rpb24oYil7dmFyIGI9DQpqLnBhcnNlVXJsKGoubWFrZVVybEFic29sdXRlKGIsdCkpLGM9YS5tb2JpbGUuZmlyc3RQYWdlLGM9YyYmY1swXT9jWzBdLmlkOmU7cmV0dXJuKGIuaHJlZk5vSGFzaD09PXguaHJlZk5vSGFzaHx8dyYmYi5ocmVmTm9IYXNoPT09dC5ocmVmTm9IYXNoKSYmKCFiLmhhc2h8fGIuaGFzaD09PSIjInx8YyYmYi5oYXNoLnJlcGxhY2UoL14jLywiIik9PT1jKX0saXNFbWJlZGRlZFBhZ2U6ZnVuY3Rpb24oYSl7YT1qLnBhcnNlVXJsKGEpO3JldHVybiBhLnByb3RvY29sIT09IiI/YS5oYXNoJiYoYS5ocmVmTm9IYXNoPT09eC5ocmVmTm9IYXNofHx3JiZhLmhyZWZOb0hhc2g9PT10LmhyZWZOb0hhc2gpOi9eIy8udGVzdChhLmhyZWYpfX0scT1udWxsLG49e3N0YWNrOltdLGFjdGl2ZUluZGV4OjAsZ2V0QWN0aXZlOmZ1bmN0aW9uKCl7cmV0dXJuIG4uc3RhY2tbbi5hY3RpdmVJbmRleF19LGdldFByZXY6ZnVuY3Rpb24oKXtyZXR1cm4gbi5zdGFja1tuLmFjdGl2ZUluZGV4LTFdfSxnZXROZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uc3RhY2tbbi5hY3RpdmVJbmRleCsNCjFdfSxhZGROZXc6ZnVuY3Rpb24oYSxiLGMsZCxmKXtuLmdldE5leHQoKSYmbi5jbGVhckZvcndhcmQoKTtuLnN0YWNrLnB1c2goe3VybDphLHRyYW5zaXRpb246Yix0aXRsZTpjLHBhZ2VVcmw6ZCxyb2xlOmZ9KTtuLmFjdGl2ZUluZGV4PW4uc3RhY2subGVuZ3RoLTF9LGNsZWFyRm9yd2FyZDpmdW5jdGlvbigpe24uc3RhY2s9bi5zdGFjay5zbGljZSgwLG4uYWN0aXZlSW5kZXgrMSl9LGRpcmVjdEhhc2hDaGFuZ2U6ZnVuY3Rpb24oYil7dmFyIGMsZCxmO3RoaXMuZ2V0QWN0aXZlKCk7YS5lYWNoKG4uc3RhY2ssZnVuY3Rpb24oYSxlKXtiLmN1cnJlbnRVcmw9PT1lLnVybCYmKGM9YTxuLmFjdGl2ZUluZGV4LGQ9IWMsZj1hKX0pO3RoaXMuYWN0aXZlSW5kZXg9ZiE9PWU/Zjp0aGlzLmFjdGl2ZUluZGV4O2M/KGIuZWl0aGVyfHxiLmlzQmFjaykodHJ1ZSk6ZCYmKGIuZWl0aGVyfHxiLmlzRm9yd2FyZCkoZmFsc2UpfSxpZ25vcmVOZXh0SGFzaENoYW5nZTpmYWxzZX0sQT1bXSx6PWZhbHNlLA0Kcz0iJnVpLXN0YXRlPWRpYWxvZyIsdj1wLmNoaWxkcmVuKCJiYXNlIikseD1qLnBhcnNlVXJsKGxvY2F0aW9uLmhyZWYpLHQ9di5sZW5ndGg/ai5wYXJzZVVybChqLm1ha2VVcmxBYnNvbHV0ZSh2LmF0dHIoImhyZWYiKSx4LmhyZWYpKTp4LHc9eC5ocmVmTm9IYXNoIT09dC5ocmVmTm9IYXNoLHU9YS5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnP3tlbGVtZW50OnYubGVuZ3RoP3Y6YSgiPGJhc2U+Iix7aHJlZjp0LmhyZWZOb0hhc2h9KS5wcmVwZW5kVG8ocCksc2V0OmZ1bmN0aW9uKGEpe3UuZWxlbWVudC5hdHRyKCJocmVmIixqLm1ha2VVcmxBYnNvbHV0ZShhLHQpKX0scmVzZXQ6ZnVuY3Rpb24oKXt1LmVsZW1lbnQuYXR0cigiaHJlZiIsdC5ocmVmTm9IYXNoKX19OmUsRD10cnVlLHksQyxCO3k9ZnVuY3Rpb24oKXt2YXIgYj1vO2Euc3VwcG9ydC50b3VjaE92ZXJmbG93JiZhLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZCYmKGI9YSgiLnVpLXBhZ2UtYWN0aXZlIiksYj1iLmlzKCIudWktbmF0aXZlLWZpeGVkIik/DQpiLmZpbmQoIi51aS1jb250ZW50Iik6Yik7cmV0dXJuIGJ9O0M9ZnVuY3Rpb24oYil7aWYoRCl7dmFyIGM9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKTtpZihjKWI9YiYmYi5zY3JvbGxUb3AoKSxjLmxhc3RTY3JvbGw9YjxhLm1vYmlsZS5taW5TY3JvbGxCYWNrP2EubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsOmJ9fTtCPWZ1bmN0aW9uKCl7c2V0VGltZW91dChDLDEwMCxhKHRoaXMpKX07by5iaW5kKGEuc3VwcG9ydC5wdXNoU3RhdGU/InBvcHN0YXRlIjoiaGFzaGNoYW5nZSIsZnVuY3Rpb24oKXtEPWZhbHNlfSk7by5vbmUoYS5zdXBwb3J0LnB1c2hTdGF0ZT8icG9wc3RhdGUiOiJoYXNoY2hhbmdlIixmdW5jdGlvbigpe0Q9dHJ1ZX0pO28ub25lKCJwYWdlY29udGFpbmVyY3JlYXRlIixmdW5jdGlvbigpe2EubW9iaWxlLnBhZ2VDb250YWluZXIuYmluZCgicGFnZWNoYW5nZSIsZnVuY3Rpb24oKXt2YXIgYT15KCk7RD10cnVlO2EudW5iaW5kKCJzY3JvbGxzdG9wIixCKTsNCmEuYmluZCgic2Nyb2xsc3RvcCIsQil9KX0pO3koKS5iaW5kKCJzY3JvbGxzdG9wIixCKTthLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQ9aDthLmZuLmFuaW1hdGlvbkNvbXBsZXRlPWZ1bmN0aW9uKGIpe3JldHVybiBhLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnM/YSh0aGlzKS5vbmUoIndlYmtpdEFuaW1hdGlvbkVuZCIsYik6KHNldFRpbWVvdXQoYiwwKSxhKHRoaXMpKX07YS5tb2JpbGUucGF0aD1qO2EubW9iaWxlLmJhc2U9dTthLm1vYmlsZS51cmxIaXN0b3J5PW47YS5tb2JpbGUuZGlhbG9nSGFzaEtleT1zO2EubW9iaWxlLm5vbmVUcmFuc2l0aW9uSGFuZGxlcj1mdW5jdGlvbihiLGMsZCxmKXtmJiZmLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyk7ZC5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpO3JldHVybiBhLkRlZmVycmVkKCkucmVzb2x2ZShiLGMsZCxmKS5wcm9taXNlKCl9O2EubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcj1hLm1vYmlsZS5ub25lVHJhbnNpdGlvbkhhbmRsZXI7DQphLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnM9e25vbmU6YS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyfTthLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXM9ZmFsc2U7YS5tb2JpbGUuZ2V0RG9jdW1lbnRVcmw9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30seCk6eC5ocmVmfTthLm1vYmlsZS5nZXREb2N1bWVudEJhc2U9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30sdCk6dC5ocmVmfTthLm1vYmlsZS5fYmluZFBhZ2VSZW1vdmU9ZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpOyFiLmRhdGEoInBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlJiZiLmlzKCI6anFtRGF0YShleHRlcm5hbC1wYWdlPSd0cnVlJykiKSYmYi5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiLGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxjPW5ldyBhLkV2ZW50KCJwYWdlcmVtb3ZlIik7Yi50cmlnZ2VyKGMpO2MuaXNEZWZhdWx0UHJldmVudGVkKCl8fGIucmVtb3ZlV2l0aERlcGVuZGVudHMoKX0pfTsNCmEubW9iaWxlLmxvYWRQYWdlPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5EZWZlcnJlZCgpLGY9YS5leHRlbmQoe30sYS5tb2JpbGUubG9hZFBhZ2UuZGVmYXVsdHMsYyksaD1udWxsLGc9bnVsbCxtPWoubWFrZVVybEFic29sdXRlKGIsYS5tb2JpbGUuYWN0aXZlUGFnZSYmbChhLm1vYmlsZS5hY3RpdmVQYWdlKXx8dC5ocmVmTm9IYXNoKTtpZihmLmRhdGEmJmYudHlwZT09PSJnZXQiKW09ai5hZGRTZWFyY2hQYXJhbXMobSxmLmRhdGEpLGYuZGF0YT1lO2lmKGYuZGF0YSYmZi50eXBlPT09InBvc3QiKWYucmVsb2FkUGFnZT10cnVlO3ZhciBzPWouZ2V0RmlsZVBhdGgobSkscD1qLmNvbnZlcnRVcmxUb0RhdGFVcmwobSk7Zi5wYWdlQ29udGFpbmVyPWYucGFnZUNvbnRhaW5lcnx8YS5tb2JpbGUucGFnZUNvbnRhaW5lcjtoPWYucGFnZUNvbnRhaW5lci5jaGlsZHJlbigiOmpxbURhdGEodXJsPSciK3ArIicpIik7aC5sZW5ndGg9PT0wJiZwJiYhai5pc1BhdGgocCkmJihoPWYucGFnZUNvbnRhaW5lci5jaGlsZHJlbigiIyIrDQpwKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIscCkpO2lmKGgubGVuZ3RoPT09MClpZihhLm1vYmlsZS5maXJzdFBhZ2UmJmouaXNGaXJzdFBhZ2VVcmwocykpYS5tb2JpbGUuZmlyc3RQYWdlLnBhcmVudCgpLmxlbmd0aCYmKGg9YShhLm1vYmlsZS5maXJzdFBhZ2UpKTtlbHNlIGlmKGouaXNFbWJlZGRlZFBhZ2UocykpcmV0dXJuIGQucmVqZWN0KG0sYyksZC5wcm9taXNlKCk7dSYmdS5yZXNldCgpO2lmKGgubGVuZ3RoKXtpZighZi5yZWxvYWRQYWdlKXJldHVybiBpKGgsZi5yb2xlKSxkLnJlc29sdmUobSxjLGgpLGQucHJvbWlzZSgpO2c9aH12YXIgbj1mLnBhZ2VDb250YWluZXIsaz1uZXcgYS5FdmVudCgicGFnZWJlZm9yZWxvYWQiKSxxPXt1cmw6YixhYnNVcmw6bSxkYXRhVXJsOnAsZGVmZXJyZWQ6ZCxvcHRpb25zOmZ9O24udHJpZ2dlcihrLHEpO2lmKGsuaXNEZWZhdWx0UHJldmVudGVkKCkpcmV0dXJuIGQucHJvbWlzZSgpO2lmKGYuc2hvd0xvYWRNc2cpdmFyIHY9DQpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKCl9LGYubG9hZE1zZ0RlbGF5KTshYS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzJiYhai5pc1NhbWVEb21haW4oeCxtKT9kLnJlamVjdChtLGMpOmEuYWpheCh7dXJsOnMsdHlwZTpmLnR5cGUsZGF0YTpmLmRhdGEsZGF0YVR5cGU6Imh0bWwiLHN1Y2Nlc3M6ZnVuY3Rpb24oZSxuLGspe3ZhciBvPWEoIjxkaXY+PC9kaXY+IiksbD1lLm1hdGNoKC88dGl0bGVbXj5dKj4oW148XSopLykmJlJlZ0V4cC4kMSx0PVJlZ0V4cCgiXFxiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmw9W1wiJ10/KFteXCInPl0qKVtcIiddPyIpO1JlZ0V4cCgiKDxbXj5dK1xcYmRhdGEtIithLm1vYmlsZS5ucysicm9sZT1bXCInXT9wYWdlW1wiJ10/W14+XSo+KSIpLnRlc3QoZSkmJlJlZ0V4cC4kMSYmdC50ZXN0KFJlZ0V4cC4kMSkmJlJlZ0V4cC4kMSYmKGI9cz1qLmdldEZpbGVQYXRoKFJlZ0V4cC4kMSkpO3UmJnUuc2V0KHMpOw0Kby5nZXQoMCkuaW5uZXJIVE1MPWU7aD1vLmZpbmQoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKS5maXJzdCgpO2gubGVuZ3RofHwoaD1hKCI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0ncGFnZSc+IitlLnNwbGl0KC88XC8/Ym9keVtePl0qPi9nbWkpWzFdKyI8L2Rpdj4iKSk7bCYmIWguanFtRGF0YSgidGl0bGUiKSYmKH5sLmluZGV4T2YoIiYiKSYmKGw9YSgiPGRpdj4iK2wrIjwvZGl2PiIpLnRleHQoKSksaC5qcW1EYXRhKCJ0aXRsZSIsbCkpO2lmKCFhLnN1cHBvcnQuZHluYW1pY0Jhc2VUYWcpe3ZhciB4PWouZ2V0KHMpO2guZmluZCgiW3NyY10sIGxpbmtbaHJlZl0sIGFbcmVsPSdleHRlcm5hbCddLCA6anFtRGF0YShhamF4PSdmYWxzZScpLCBhW3RhcmdldF0iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKS5pcygiW2hyZWZdIik/ImhyZWYiOmEodGhpcykuaXMoIltzcmNdIik/InNyYyI6ImFjdGlvbiIsYz1hKHRoaXMpLmF0dHIoYiksDQpjPWMucmVwbGFjZShsb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUsIiIpOy9eKFx3Kzp8I3xcLykvLnRlc3QoYyl8fGEodGhpcykuYXR0cihiLHgrYyl9KX1oLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidXJsIixqLmNvbnZlcnRVcmxUb0RhdGFVcmwocykpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiZXh0ZXJuYWwtcGFnZSIsdHJ1ZSkuYXBwZW5kVG8oZi5wYWdlQ29udGFpbmVyKTtoLm9uZSgicGFnZWNyZWF0ZSIsYS5tb2JpbGUuX2JpbmRQYWdlUmVtb3ZlKTtpKGgsZi5yb2xlKTttLmluZGV4T2YoIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkpPi0xJiYoaD1mLnBhZ2VDb250YWluZXIuY2hpbGRyZW4oIjpqcW1EYXRhKHVybD0nIitwKyInKSIpKTtmLnNob3dMb2FkTXNnJiYoY2xlYXJUaW1lb3V0KHYpLGEubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpKTtxLnhocj1rO3EudGV4dFN0YXR1cz1uO3EucGFnZT1oO2YucGFnZUNvbnRhaW5lci50cmlnZ2VyKCJwYWdlbG9hZCIsDQpxKTtkLnJlc29sdmUobSxjLGgsZyl9LGVycm9yOmZ1bmN0aW9uKGIsZSxoKXt1JiZ1LnNldChqLmdldCgpKTtxLnhocj1iO3EudGV4dFN0YXR1cz1lO3EuZXJyb3JUaHJvd249aDtiPW5ldyBhLkV2ZW50KCJwYWdlbG9hZGZhaWxlZCIpO2YucGFnZUNvbnRhaW5lci50cmlnZ2VyKGIscSk7Yi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGYuc2hvd0xvYWRNc2cmJihjbGVhclRpbWVvdXQodiksYS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnKCksYSgiPGRpdiBjbGFzcz0ndWktbG9hZGVyIHVpLW92ZXJsYXktc2hhZG93IHVpLWJvZHktZSB1aS1jb3JuZXItYWxsJz48aDE+IithLm1vYmlsZS5wYWdlTG9hZEVycm9yTWVzc2FnZSsiPC9oMT48L2Rpdj4iKS5jc3Moe2Rpc3BsYXk6ImJsb2NrIixvcGFjaXR5OjAuOTYsdG9wOm8uc2Nyb2xsVG9wKCkrMTAwfSkuYXBwZW5kVG8oZi5wYWdlQ29udGFpbmVyKS5kZWxheSg4MDApLmZhZGVPdXQoNDAwLGZ1bmN0aW9uKCl7YSh0aGlzKS5yZW1vdmUoKX0pKSwNCmQucmVqZWN0KG0sYykpfX0pO3JldHVybiBkLnByb21pc2UoKX07YS5tb2JpbGUubG9hZFBhZ2UuZGVmYXVsdHM9e3R5cGU6ImdldCIsZGF0YTplLHJlbG9hZFBhZ2U6ZmFsc2Uscm9sZTplLHNob3dMb2FkTXNnOmZhbHNlLHBhZ2VDb250YWluZXI6ZSxsb2FkTXNnRGVsYXk6NTB9O2EubW9iaWxlLmNoYW5nZVBhZ2U9ZnVuY3Rpb24oYixoKXtpZih6KUEudW5zaGlmdChhcmd1bWVudHMpO2Vsc2V7dmFyIGc9YS5leHRlbmQoe30sYS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cyxoKTtnLnBhZ2VDb250YWluZXI9Zy5wYWdlQ29udGFpbmVyfHxhLm1vYmlsZS5wYWdlQ29udGFpbmVyO2cuZnJvbVBhZ2U9Zy5mcm9tUGFnZXx8YS5tb2JpbGUuYWN0aXZlUGFnZTt2YXIgcD1nLnBhZ2VDb250YWluZXIsaz1uZXcgYS5FdmVudCgicGFnZWJlZm9yZWNoYW5nZSIpLHE9e3RvUGFnZTpiLG9wdGlvbnM6Z307cC50cmlnZ2VyKGsscSk7aWYoIWsuaXNEZWZhdWx0UHJldmVudGVkKCkpaWYoYj1xLnRvUGFnZSwNCno9dHJ1ZSx0eXBlb2YgYj09InN0cmluZyIpYS5tb2JpbGUubG9hZFBhZ2UoYixnKS5kb25lKGZ1bmN0aW9uKGIsYyxkLGYpe3o9ZmFsc2U7Yy5kdXBsaWNhdGVDYWNoZWRQYWdlPWY7YS5tb2JpbGUuY2hhbmdlUGFnZShkLGMpfSkuZmFpbChmdW5jdGlvbigpe3o9ZmFsc2U7ZCh0cnVlKTtmKCk7Zy5wYWdlQ29udGFpbmVyLnRyaWdnZXIoInBhZ2VjaGFuZ2VmYWlsZWQiLHEpfSk7ZWxzZXtpZihiWzBdPT09YS5tb2JpbGUuZmlyc3RQYWdlWzBdJiYhZy5kYXRhVXJsKWcuZGF0YVVybD14LmhyZWZOb0hhc2g7dmFyIGs9Zy5mcm9tUGFnZSxsPWcuZGF0YVVybCYmai5jb252ZXJ0VXJsVG9EYXRhVXJsKGcuZGF0YVVybCl8fGIuanFtRGF0YSgidXJsIiksdj1sO2ouZ2V0RmlsZVBhdGgobCk7dmFyIG89bi5nZXRBY3RpdmUoKSx0PW4uYWN0aXZlSW5kZXg9PT0wLHc9MCx1PWRvY3VtZW50LnRpdGxlLHk9Zy5yb2xlPT09ImRpYWxvZyJ8fGIuanFtRGF0YSgicm9sZSIpPT09ImRpYWxvZyI7aWYoayYmDQprWzBdPT09YlswXSYmIWcuYWxsb3dTYW1lUGFnZVRyYW5zaXRpb24pej1mYWxzZSxwLnRyaWdnZXIoInBhZ2VjaGFuZ2UiLHEpO2Vsc2V7aShiLGcucm9sZSk7Zy5mcm9tSGFzaENoYW5nZSYmbi5kaXJlY3RIYXNoQ2hhbmdlKHtjdXJyZW50VXJsOmwsaXNCYWNrOmZ1bmN0aW9uKCl7dz0tMX0saXNGb3J3YXJkOmZ1bmN0aW9uKCl7dz0xfX0pO3RyeXtkb2N1bWVudC5hY3RpdmVFbGVtZW50JiZkb2N1bWVudC5hY3RpdmVFbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkhPSJib2R5Ij9hKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLmJsdXIoKTphKCJpbnB1dDpmb2N1cywgdGV4dGFyZWE6Zm9jdXMsIHNlbGVjdDpmb2N1cyIpLmJsdXIoKX1jYXRjaChCKXt9eSYmbyYmKGw9KG8udXJsfHwiIikrcyk7aWYoZy5jaGFuZ2VIYXNoIT09ZmFsc2UmJmwpbi5pZ25vcmVOZXh0SGFzaENoYW5nZT10cnVlLGouc2V0KGwpO3ZhciBDPSFvP3U6Yi5qcW1EYXRhKCJ0aXRsZSIpfHxiLmNoaWxkcmVuKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLmZpbmQoIi51aS10aXRsZSIpLmdldEVuY29kZWRUZXh0KCk7DQpDJiZ1PT1kb2N1bWVudC50aXRsZSYmKHU9Qyk7Yi5qcW1EYXRhKCJ0aXRsZSIpfHxiLmpxbURhdGEoInRpdGxlIix1KTtnLnRyYW5zaXRpb249Zy50cmFuc2l0aW9ufHwodyYmIXQ/by50cmFuc2l0aW9uOmUpfHwoeT9hLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbjphLm1vYmlsZS5kZWZhdWx0UGFnZVRyYW5zaXRpb24pO3d8fG4uYWRkTmV3KGwsZy50cmFuc2l0aW9uLHUsdixnLnJvbGUpO2RvY3VtZW50LnRpdGxlPW4uZ2V0QWN0aXZlKCkudGl0bGU7YS5tb2JpbGUuYWN0aXZlUGFnZT1iO2cucmV2ZXJzZT1nLnJldmVyc2V8fHc8MDtjKGIsayxnLnRyYW5zaXRpb24sZy5yZXZlcnNlKS5kb25lKGZ1bmN0aW9uKCl7ZCgpO2cuZHVwbGljYXRlQ2FjaGVkUGFnZSYmZy5kdXBsaWNhdGVDYWNoZWRQYWdlLnJlbW92ZSgpO20ucmVtb3ZlQ2xhc3MoInVpLW1vYmlsZS1yZW5kZXJpbmciKTtmKCk7cC50cmlnZ2VyKCJwYWdlY2hhbmdlIixxKX0pfX19fTthLm1vYmlsZS5jaGFuZ2VQYWdlLmRlZmF1bHRzPQ0Ke3RyYW5zaXRpb246ZSxyZXZlcnNlOmZhbHNlLGNoYW5nZUhhc2g6dHJ1ZSxmcm9tSGFzaENoYW5nZTpmYWxzZSxyb2xlOmUsZHVwbGljYXRlQ2FjaGVkUGFnZTplLHBhZ2VDb250YWluZXI6ZSxzaG93TG9hZE1zZzp0cnVlLGRhdGFVcmw6ZSxmcm9tUGFnZTplLGFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uOmZhbHNlfTthLm1vYmlsZS5fcmVnaXN0ZXJJbnRlcm5hbEV2ZW50cz1mdW5jdGlvbigpe2EoImZvcm0iKS5saXZlKCJzdWJtaXQiLGZ1bmN0aW9uKGIpe3ZhciBjPWEodGhpcyk7aWYoYS5tb2JpbGUuYWpheEVuYWJsZWQmJiFjLmlzKCI6anFtRGF0YShhamF4PSdmYWxzZScpIikpe3ZhciBkPWMuYXR0cigibWV0aG9kIiksZj1jLmF0dHIoInRhcmdldCIpLGU9Yy5hdHRyKCJhY3Rpb24iKTtpZighZSYmKGU9bChjKSxlPT09dC5ocmVmTm9IYXNoKSllPXguaHJlZk5vU2VhcmNoO2U9ai5tYWtlVXJsQWJzb2x1dGUoZSxsKGMpKTshai5pc0V4dGVybmFsKGUpJiYhZiYmKGEubW9iaWxlLmNoYW5nZVBhZ2UoZSwNCnt0eXBlOmQmJmQubGVuZ3RoJiZkLnRvTG93ZXJDYXNlKCl8fCJnZXQiLGRhdGE6Yy5zZXJpYWxpemUoKSx0cmFuc2l0aW9uOmMuanFtRGF0YSgidHJhbnNpdGlvbiIpLGRpcmVjdGlvbjpjLmpxbURhdGEoImRpcmVjdGlvbiIpLHJlbG9hZFBhZ2U6dHJ1ZX0pLGIucHJldmVudERlZmF1bHQoKSl9fSk7YShkb2N1bWVudCkuYmluZCgidmNsaWNrIixmdW5jdGlvbihiKXtpZighKGIud2hpY2g+MSkmJmEubW9iaWxlLmxpbmtCaW5kaW5nRW5hYmxlZCYmKGI9ayhiLnRhcmdldCkpJiZqLnBhcnNlVXJsKGIuZ2V0QXR0cmlidXRlKCJocmVmIil8fCIjIikuaGFzaCE9PSIjIilkKHRydWUpLHE9YShiKS5jbG9zZXN0KCIudWktYnRuIikubm90KCIudWktZGlzYWJsZWQiKSxxLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxhKCIuIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrIiAudWktYnRuIikubm90KGIpLmJsdXIoKX0pO2EoZG9jdW1lbnQpLmJpbmQoImNsaWNrIixmdW5jdGlvbihiKXtpZihhLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQpe3ZhciBjPQ0KayhiLnRhcmdldCk7aWYoYyYmIShiLndoaWNoPjEpKXt2YXIgZj1hKGMpLGg9ZnVuY3Rpb24oKXt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2QodHJ1ZSl9LDIwMCl9O2lmKGYuaXMoIjpqcW1EYXRhKHJlbD0nYmFjaycpIikpcmV0dXJuIHdpbmRvdy5oaXN0b3J5LmJhY2soKSxmYWxzZTt2YXIgZz1sKGYpLGM9ai5tYWtlVXJsQWJzb2x1dGUoZi5hdHRyKCJocmVmIil8fCIjIixnKTtpZighYS5tb2JpbGUuYWpheEVuYWJsZWQmJiFqLmlzRW1iZWRkZWRQYWdlKGMpKWgoKTtlbHNle2lmKGMuc2VhcmNoKCIjIikhPS0xKWlmKGM9Yy5yZXBsYWNlKC9bXiNdKiMvLCIiKSljPWouaXNQYXRoKGMpP2oubWFrZVVybEFic29sdXRlKGMsZyk6ai5tYWtlVXJsQWJzb2x1dGUoIiMiK2MseC5ocmVmTm9IYXNoKTtlbHNle2IucHJldmVudERlZmF1bHQoKTtyZXR1cm59dmFyIGc9Zi5pcygiW3JlbD0nZXh0ZXJuYWwnXSIpfHxmLmlzKCI6anFtRGF0YShhamF4PSdmYWxzZScpIil8fGYuaXMoIlt0YXJnZXRdIiksDQppPWEubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmeC5wcm90b2NvbD09PSJmaWxlOiImJmMuc2VhcmNoKC9eaHR0cHM/Oi8pIT0tMTtnfHxqLmlzRXh0ZXJuYWwoYykmJiFpP2goKTooaD1mLmpxbURhdGEoInRyYW5zaXRpb24iKSxnPShnPWYuanFtRGF0YSgiZGlyZWN0aW9uIikpJiZnPT09InJldmVyc2UifHxmLmpxbURhdGEoImJhY2siKSxmPWYuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyZWwiKXx8ZSxhLm1vYmlsZS5jaGFuZ2VQYWdlKGMse3RyYW5zaXRpb246aCxyZXZlcnNlOmcscm9sZTpmfSksYi5wcmV2ZW50RGVmYXVsdCgpKX19fX0pO2EoIi51aS1wYWdlIikubGl2ZSgicGFnZXNob3cucHJlZmV0Y2giLGZ1bmN0aW9uKCl7dmFyIGI9W107YSh0aGlzKS5maW5kKCJhOmpxbURhdGEocHJlZmV0Y2gpIikuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksZj1jLmF0dHIoImhyZWYiKTtmJiZhLmluQXJyYXkoZixiKT09PS0xJiYoYi5wdXNoKGYpLGEubW9iaWxlLmxvYWRQYWdlKGYsDQp7cm9sZTpjLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicmVsIil9KSl9KX0pO2EubW9iaWxlLl9oYW5kbGVIYXNoQ2hhbmdlPWZ1bmN0aW9uKGIpe3ZhciBjPWouc3RyaXBIYXNoKGIpLGY9e3RyYW5zaXRpb246YS5tb2JpbGUudXJsSGlzdG9yeS5zdGFjay5sZW5ndGg9PT0wPyJub25lIjplLGNoYW5nZUhhc2g6ZmFsc2UsZnJvbUhhc2hDaGFuZ2U6dHJ1ZX07aWYoIWEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkfHxuLmlnbm9yZU5leHRIYXNoQ2hhbmdlKW4uaWdub3JlTmV4dEhhc2hDaGFuZ2U9ZmFsc2U7ZWxzZXtpZihuLnN0YWNrLmxlbmd0aD4xJiZjLmluZGV4T2Yocyk+LTEpaWYoYS5tb2JpbGUuYWN0aXZlUGFnZS5pcygiLnVpLWRpYWxvZyIpKW4uZGlyZWN0SGFzaENoYW5nZSh7Y3VycmVudFVybDpjLGVpdGhlcjpmdW5jdGlvbihiKXt2YXIgZD1hLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpO2M9ZC5wYWdlVXJsO2EuZXh0ZW5kKGYse3JvbGU6ZC5yb2xlLHRyYW5zaXRpb246ZC50cmFuc2l0aW9uLA0KcmV2ZXJzZTpifSl9fSk7ZWxzZXtuLmRpcmVjdEhhc2hDaGFuZ2Uoe2N1cnJlbnRVcmw6Yyxpc0JhY2s6ZnVuY3Rpb24oKXt3aW5kb3cuaGlzdG9yeS5iYWNrKCl9LGlzRm9yd2FyZDpmdW5jdGlvbigpe3dpbmRvdy5oaXN0b3J5LmZvcndhcmQoKX19KTtyZXR1cm59Yz8oYz10eXBlb2YgYz09PSJzdHJpbmciJiYhai5pc1BhdGgoYyk/ai5tYWtlVXJsQWJzb2x1dGUoIiMiK2MsdCk6YyxhLm1vYmlsZS5jaGFuZ2VQYWdlKGMsZikpOmEubW9iaWxlLmNoYW5nZVBhZ2UoYS5tb2JpbGUuZmlyc3RQYWdlLGYpfX07by5iaW5kKCJoYXNoY2hhbmdlIixmdW5jdGlvbigpe2EubW9iaWxlLl9oYW5kbGVIYXNoQ2hhbmdlKGxvY2F0aW9uLmhhc2gpfSk7YShkb2N1bWVudCkuYmluZCgicGFnZXNob3ciLGcpO2Eod2luZG93KS5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGcpfX0pKGpRdWVyeSk7DQooZnVuY3Rpb24oYSxlKXt2YXIgYj17fSxkPWEoZSksZj1hLm1vYmlsZS5wYXRoLnBhcnNlVXJsKGxvY2F0aW9uLmhyZWYpO2EuZXh0ZW5kKGIse2luaXRpYWxGaWxlUGF0aDpmLnBhdGhuYW1lK2Yuc2VhcmNoLGluaXRpYWxIcmVmOmYuaHJlZk5vSGFzaCxoYXNoY2hhbmdlRmlyZWQ6ZmFsc2Usc3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm57aGFzaDpsb2NhdGlvbi5oYXNofHwiIyIrYi5pbml0aWFsRmlsZVBhdGgsdGl0bGU6ZG9jdW1lbnQudGl0bGUsaW5pdGlhbEhyZWY6Yi5pbml0aWFsSHJlZn19LHJlc2V0VUlLZXlzOmZ1bmN0aW9uKGIpe3ZhciBmPSImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5LGQ9Yi5pbmRleE9mKGEubW9iaWxlLmRpYWxvZ0hhc2hLZXkpO2Q+LTE/Yj1iLnNsaWNlKDAsZCkrIiMiK2Iuc2xpY2UoZCk6Yi5pbmRleE9mKGYpPi0xJiYoYj1iLnNwbGl0KGYpLmpvaW4oIiMiK2YpKTtyZXR1cm4gYn0sbmV4dEhhc2hDaGFuZ2VQcmV2ZW50ZWQ6ZnVuY3Rpb24oYyl7YS5tb2JpbGUudXJsSGlzdG9yeS5pZ25vcmVOZXh0SGFzaENoYW5nZT0NCmM7Yi5vbkhhc2hDaGFuZ2VEaXNhYmxlZD1jfSxvbkhhc2hDaGFuZ2U6ZnVuY3Rpb24oKXtpZighYi5vbkhhc2hDaGFuZ2VEaXNhYmxlZCl7dmFyIGMsZjtjPWxvY2F0aW9uLmhhc2g7dmFyIGQ9YS5tb2JpbGUucGF0aC5pc1BhdGgoYyksZT1kP2xvY2F0aW9uLmhyZWY6YS5tb2JpbGUuZ2V0RG9jdW1lbnRVcmwoKTtjPWQ/Yy5yZXBsYWNlKCIjIiwiIik6YztmPWIuc3RhdGUoKTtjPWEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKGMsZSk7ZCYmKGM9Yi5yZXNldFVJS2V5cyhjKSk7aGlzdG9yeS5yZXBsYWNlU3RhdGUoZixkb2N1bWVudC50aXRsZSxjKX19LG9uUG9wU3RhdGU6ZnVuY3Rpb24oYyl7dmFyIGY9Yy5vcmlnaW5hbEV2ZW50LnN0YXRlO2YmJihiLm5leHRIYXNoQ2hhbmdlUHJldmVudGVkKHRydWUpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLm5leHRIYXNoQ2hhbmdlUHJldmVudGVkKGZhbHNlKTthLm1vYmlsZS5faGFuZGxlSGFzaENoYW5nZShmLmhhc2gpfSwxMDApKX0sDQppbml0OmZ1bmN0aW9uKCl7ZC5iaW5kKCJoYXNoY2hhbmdlIixiLm9uSGFzaENoYW5nZSk7ZC5iaW5kKCJwb3BzdGF0ZSIsYi5vblBvcFN0YXRlKTtsb2NhdGlvbi5oYXNoPT09IiImJmhpc3RvcnkucmVwbGFjZVN0YXRlKGIuc3RhdGUoKSxkb2N1bWVudC50aXRsZSxsb2NhdGlvbi5ocmVmKX19KTthKGZ1bmN0aW9uKCl7YS5tb2JpbGUucHVzaFN0YXRlRW5hYmxlZCYmYS5zdXBwb3J0LnB1c2hTdGF0ZSYmYi5pbml0KCl9KX0pKGpRdWVyeSx0aGlzKTsNCihmdW5jdGlvbihhKXtmdW5jdGlvbiBlKGIsZCxmLGMpe3ZhciBlPW5ldyBhLkRlZmVycmVkLGc9ZD8iIHJldmVyc2UiOiIiLGk9InVpLW1vYmlsZS12aWV3cG9ydC10cmFuc2l0aW9uaW5nIHZpZXdwb3J0LSIrYjtmLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7Zi5hZGQoYykucmVtb3ZlQ2xhc3MoIm91dCBpbiByZXZlcnNlICIrYik7YyYmY1swXSE9PWZbMF0mJmMucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKTtmLnBhcmVudCgpLnJlbW92ZUNsYXNzKGkpO2UucmVzb2x2ZShiLGQsZixjKX0pO2YucGFyZW50KCkuYWRkQ2xhc3MoaSk7YyYmYy5hZGRDbGFzcyhiKyIgb3V0IitnKTtmLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcysiICIrYisiIGluIitnKTtyZXR1cm4gZS5wcm9taXNlKCl9YS5tb2JpbGUuY3NzM1RyYW5zaXRpb25IYW5kbGVyPWU7aWYoYS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyPT09YS5tb2JpbGUubm9uZVRyYW5zaXRpb25IYW5kbGVyKWEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcj0NCmV9KShqUXVlcnksdGhpcyk7DQooZnVuY3Rpb24oYSl7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5kZWdyYWRlSW5wdXRzPXtjb2xvcjpmYWxzZSxkYXRlOmZhbHNlLGRhdGV0aW1lOmZhbHNlLCJkYXRldGltZS1sb2NhbCI6ZmFsc2UsZW1haWw6ZmFsc2UsbW9udGg6ZmFsc2UsbnVtYmVyOmZhbHNlLHJhbmdlOiJudW1iZXIiLHNlYXJjaDoidGV4dCIsdGVsOmZhbHNlLHRpbWU6ZmFsc2UsdXJsOmZhbHNlLHdlZWs6ZmFsc2V9O2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihlKXt2YXIgYj1hKGUudGFyZ2V0KS5jbG9zZXN0KCc6anFtRGF0YShyb2xlPSJwYWdlIiknKS5kYXRhKCJwYWdlIiksZDtpZihiKWQ9Yi5vcHRpb25zLGEoZS50YXJnZXQpLmZpbmQoImlucHV0Iikubm90KGIua2VlcE5hdGl2ZVNlbGVjdG9yKCkpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGM9dGhpcy5nZXRBdHRyaWJ1dGUoInR5cGUiKSxlPWQuZGVncmFkZUlucHV0c1tjXXx8InRleHQiOw0KaWYoZC5kZWdyYWRlSW5wdXRzW2NdKXt2YXIgZz1hKCI8ZGl2PiIpLmh0bWwoYi5jbG9uZSgpKS5odG1sKCksaT1nLmluZGV4T2YoIiB0eXBlPSIpPi0xO2IucmVwbGFjZVdpdGgoZy5yZXBsYWNlKGk/L1xzK3R5cGU9WyInXT9cdytbJyJdPy86L1wvPz4vLCcgdHlwZT0iJytlKyciIGRhdGEtJythLm1vYmlsZS5ucysndHlwZT0iJytjKyciJysoaT8iIjoiPiIpKSl9fSl9KX0pKGpRdWVyeSk7DQooZnVuY3Rpb24oYSxlKXthLndpZGdldCgibW9iaWxlLmRpYWxvZyIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntjbG9zZUJ0blRleHQ6IkNsb3NlIixvdmVybGF5VGhlbWU6ImEiLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nZGlhbG9nJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxkPXRoaXMuZWxlbWVudCxmPWEoIjxhIGhyZWY9JyMnIGRhdGEtIithLm1vYmlsZS5ucysiaWNvbj0nZGVsZXRlJyBkYXRhLSIrYS5tb2JpbGUubnMrImljb25wb3M9J25vdGV4dCc+Iit0aGlzLm9wdGlvbnMuY2xvc2VCdG5UZXh0KyI8L2E+Iik7ZC5hZGRDbGFzcygidWktb3ZlcmxheS0iK3RoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUpO2QuYXR0cigicm9sZSIsImRpYWxvZyIpLmFkZENsYXNzKCJ1aS1kaWFsb2ciKS5maW5kKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLmFkZENsYXNzKCJ1aS1jb3JuZXItdG9wIHVpLW92ZXJsYXktc2hhZG93IikucHJlcGVuZChmKS5lbmQoKS5maW5kKCI6anFtRGF0YShyb2xlPSdjb250ZW50JyksOmpxbURhdGEocm9sZT0nZm9vdGVyJykiKS5hZGRDbGFzcygidWktb3ZlcmxheS1zaGFkb3ciKS5sYXN0KCkuYWRkQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iKTsNCmYuYmluZCgidmNsaWNrIixmdW5jdGlvbigpe2IuY2xvc2UoKX0pO2QuYmluZCgidmNsaWNrIHN1Ym1pdCIsZnVuY3Rpb24oYil7dmFyIGI9YShiLnRhcmdldCkuY2xvc2VzdChiLnR5cGU9PT0idmNsaWNrIj8iYSI6ImZvcm0iKSxmO2IubGVuZ3RoJiYhYi5qcW1EYXRhKCJ0cmFuc2l0aW9uIikmJihmPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCl8fHt9LGIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0cmFuc2l0aW9uIixmLnRyYW5zaXRpb258fGEubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrImRpcmVjdGlvbiIsInJldmVyc2UiKSl9KS5iaW5kKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXthKHRoaXMpLmZpbmQoIi4iK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KX0sY2xvc2U6ZnVuY3Rpb24oKXtlLmhpc3RvcnkuYmFjaygpfX0pO2EoYS5tb2JpbGUuZGlhbG9nLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvcikubGl2ZSgicGFnZWNyZWF0ZSIsDQpmdW5jdGlvbigpe2EodGhpcykuZGlhbG9nKCl9KX0pKGpRdWVyeSx0aGlzKTsNCihmdW5jdGlvbihhKXthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmJhY2tCdG5UZXh0PSJCYWNrIjthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmFkZEJhY2tCdG49ZmFsc2U7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5iYWNrQnRuVGhlbWU9bnVsbDthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmhlYWRlclRoZW1lPSJhIjthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmZvb3RlclRoZW1lPSJhIjthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmNvbnRlbnRUaGVtZT1udWxsO2EoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKS5saXZlKCJwYWdlY3JlYXRlIixmdW5jdGlvbigpe3ZhciBlPWEodGhpcyksYj1lLmRhdGEoInBhZ2UiKS5vcHRpb25zLGQ9ZS5qcW1EYXRhKCJyb2xlIiksZj1iLnRoZW1lO2EoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpLCA6anFtRGF0YShyb2xlPSdmb290ZXInKSwgOmpxbURhdGEocm9sZT0nY29udGVudCcpIiwNCnRoaXMpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGU9Yy5qcW1EYXRhKCJyb2xlIiksZz1jLmpxbURhdGEoInRoZW1lIiksaT1nfHxiLmNvbnRlbnRUaGVtZXx8ZD09PSJkaWFsb2ciJiZmLGs7Yy5hZGRDbGFzcygidWktIitlKTtpZihlPT09ImhlYWRlciJ8fGU9PT0iZm9vdGVyIil7dmFyIGw9Z3x8KGU9PT0iaGVhZGVyIj9iLmhlYWRlclRoZW1lOmIuZm9vdGVyVGhlbWUpfHxmO2MuYWRkQ2xhc3MoInVpLWJhci0iK2wpLmF0dHIoInJvbGUiLGU9PT0iaGVhZGVyIj8iYmFubmVyIjoiY29udGVudGluZm8iKTtnPWMuY2hpbGRyZW4oImEiKTtpPWcuaGFzQ2xhc3MoInVpLWJ0bi1sZWZ0Iik7az1nLmhhc0NsYXNzKCJ1aS1idG4tcmlnaHQiKTtpPWl8fGcuZXEoMCkubm90KCIudWktYnRuLXJpZ2h0IikuYWRkQ2xhc3MoInVpLWJ0bi1sZWZ0IikubGVuZ3RoO2t8fGcuZXEoMSkuYWRkQ2xhc3MoInVpLWJ0bi1yaWdodCIpO2IuYWRkQmFja0J0biYmZT09PSJoZWFkZXIiJiZhKCIudWktcGFnZSIpLmxlbmd0aD4NCjEmJmMuanFtRGF0YSgidXJsIikhPT1hLm1vYmlsZS5wYXRoLnN0cmlwSGFzaChsb2NhdGlvbi5oYXNoKSYmIWkmJmEoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1idG4tbGVmdCcgZGF0YS0iK2EubW9iaWxlLm5zKyJyZWw9J2JhY2snIGRhdGEtIithLm1vYmlsZS5ucysiaWNvbj0nYXJyb3ctbCc+IitiLmJhY2tCdG5UZXh0KyI8L2E+IikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIsYi5iYWNrQnRuVGhlbWV8fGwpLnByZXBlbmRUbyhjKTtjLmNoaWxkcmVuKCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IikuYWRkQ2xhc3MoInVpLXRpdGxlIikuYXR0cih7dGFiaW5kZXg6IjAiLHJvbGU6ImhlYWRpbmciLCJhcmlhLWxldmVsIjoiMSJ9KX1lbHNlIGU9PT0iY29udGVudCImJihpJiZjLmFkZENsYXNzKCJ1aS1ib2R5LSIraSksYy5hdHRyKCJyb2xlIiwibWFpbiIpKX0pfSl9KShqUXVlcnkpOw0KKGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUuY29sbGFwc2libGUiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7ZXhwYW5kQ3VlVGV4dDoiIGNsaWNrIHRvIGV4cGFuZCBjb250ZW50cyIsY29sbGFwc2VDdWVUZXh0OiIgY2xpY2sgdG8gY29sbGFwc2UgY29udGVudHMiLGNvbGxhcHNlZDp0cnVlLGhlYWRpbmc6ImgxLGgyLGgzLGg0LGg1LGg2LGxlZ2VuZCIsdGhlbWU6bnVsbCxjb250ZW50VGhlbWU6bnVsbCxpY29uVGhlbWU6ImQiLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsZW1lbnQsYj10aGlzLm9wdGlvbnMsZD1lLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZSIpLGY9ZS5jaGlsZHJlbihiLmhlYWRpbmcpLmZpcnN0KCksYz1kLndyYXBJbm5lcigiPGRpdiBjbGFzcz0ndWktY29sbGFwc2libGUtY29udGVudCc+PC9kaXY+IikuZmluZCgiLnVpLWNvbGxhcHNpYmxlLWNvbnRlbnQiKSwNCmg9ZS5jbG9zZXN0KCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSIpLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1zZXQiKSxlPWguY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykiKTtmLmlzKCJsZWdlbmQiKSYmKGY9YSgiPGRpdiByb2xlPSdoZWFkaW5nJz4iK2YuaHRtbCgpKyI8L2Rpdj4iKS5pbnNlcnRCZWZvcmUoZiksZi5uZXh0KCkucmVtb3ZlKCkpO2lmKGgubGVuZ3RoKXtpZighYi50aGVtZSliLnRoZW1lPWguanFtRGF0YSgidGhlbWUiKTtpZighYi5jb250ZW50VGhlbWUpYi5jb250ZW50VGhlbWU9aC5qcW1EYXRhKCJjb250ZW50LXRoZW1lIil9Yy5hZGRDbGFzcyhiLmNvbnRlbnRUaGVtZT8idWktYm9keS0iK2IuY29udGVudFRoZW1lOiIiKTtmLmluc2VydEJlZm9yZShjKS5hZGRDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZyIpLmFwcGVuZCgiPHNwYW4gY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzJz48L3NwYW4+Iikud3JhcElubmVyKCI8YSBocmVmPScjJyBjbGFzcz0ndWktY29sbGFwc2libGUtaGVhZGluZy10b2dnbGUnPjwvYT4iKS5maW5kKCJhIikuZmlyc3QoKS5idXR0b25NYXJrdXAoe3NoYWRvdzpmYWxzZSwNCmNvcm5lcnM6ZmFsc2UsaWNvblBvczoibGVmdCIsaWNvbjoicGx1cyIsdGhlbWU6Yi50aGVtZX0pO2gubGVuZ3RoPyhoLmpxbURhdGEoImNvbGxhcHNpYmxlYm91bmQiKXx8aC5qcW1EYXRhKCJjb2xsYXBzaWJsZWJvdW5kIix0cnVlKS5iaW5kKCJleHBhbmQiLGZ1bmN0aW9uKGIpe2EoYi50YXJnZXQpLmNsb3Nlc3QoIi51aS1jb2xsYXBzaWJsZSIpLnNpYmxpbmdzKCIudWktY29sbGFwc2libGUiKS50cmlnZ2VyKCJjb2xsYXBzZSIpfSksZS5maXJzdCgpLmZpbmQoImEiKS5maXJzdCgpLmFkZENsYXNzKCJ1aS1jb3JuZXItdG9wIikuZmluZCgiLnVpLWJ0bi1pbm5lciIpLmFkZENsYXNzKCJ1aS1jb3JuZXItdG9wIiksZS5sYXN0KCkuanFtRGF0YSgiY29sbGFwc2libGUtbGFzdCIsdHJ1ZSkuZmluZCgiYSIpLmZpcnN0KCkuYWRkQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iKS5maW5kKCIudWktYnRuLWlubmVyIikuYWRkQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iKSxkLmpxbURhdGEoImNvbGxhcHNpYmxlLWxhc3QiKSYmDQpmLmZpbmQoImEiKS5maXJzdCgpLmFkZChmLmZpbmQoIi51aS1idG4taW5uZXIiKSkuYWRkQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iKSk6Zi5maW5kKCJhIikuZmlyc3QoKS5hZGQoZi5maW5kKCIudWktYnRuLWlubmVyIikpLmFkZENsYXNzKCJ1aS1jb3JuZXItdG9wIHVpLWNvcm5lci1ib3R0b20iKTtkLmJpbmQoImV4cGFuZCBjb2xsYXBzZSIsZnVuY3Rpb24oZSl7aWYoIWUuaXNEZWZhdWx0UHJldmVudGVkKCkpe2UucHJldmVudERlZmF1bHQoKTt2YXIgaT1hKHRoaXMpLGU9ZS50eXBlPT09ImNvbGxhcHNlIixrPWIuY29udGVudFRoZW1lO2YudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkIixlKS5maW5kKCIudWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMiKS50ZXh0KGU/Yi5leHBhbmRDdWVUZXh0OmIuY29sbGFwc2VDdWVUZXh0KS5lbmQoKS5maW5kKCIudWktaWNvbiIpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLW1pbnVzIiwhZSkudG9nZ2xlQ2xhc3MoInVpLWljb24tcGx1cyIsDQplKTtpLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWQiLGUpO2MudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbnRlbnQtY29sbGFwc2VkIixlKS5hdHRyKCJhcmlhLWhpZGRlbiIsZSk7aWYoayYmKCFoLmxlbmd0aHx8ZC5qcW1EYXRhKCJjb2xsYXBzaWJsZS1sYXN0IikpKWYuZmluZCgiYSIpLmZpcnN0KCkuYWRkKGYuZmluZCgiLnVpLWJ0bi1pbm5lciIpKS50b2dnbGVDbGFzcygidWktY29ybmVyLWJvdHRvbSIsZSksYy50b2dnbGVDbGFzcygidWktY29ybmVyLWJvdHRvbSIsIWUpO2MudHJpZ2dlcigidXBkYXRlbGF5b3V0Iil9fSkudHJpZ2dlcihiLmNvbGxhcHNlZD8iY29sbGFwc2UiOiJleHBhbmQiKTtmLmJpbmQoImNsaWNrIixmdW5jdGlvbihhKXt2YXIgYj1mLmlzKCIudWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiKT8iZXhwYW5kIjoiY29sbGFwc2UiO2QudHJpZ2dlcihiKTthLnByZXZlbnREZWZhdWx0KCl9KX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsDQpmdW5jdGlvbihlKXthKGEubW9iaWxlLmNvbGxhcHNpYmxlLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvcixlLnRhcmdldCkuY29sbGFwc2libGUoKX0pfSkoalF1ZXJ5KTsoZnVuY3Rpb24oYSl7YS5mbi5maWVsZGNvbnRhaW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGRDbGFzcygidWktZmllbGQtY29udGFpbiB1aS1ib2R5IHVpLWJyIil9O2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihlKXthKCI6anFtRGF0YShyb2xlPSdmaWVsZGNvbnRhaW4nKSIsZS50YXJnZXQpLmZpZWxkY29udGFpbigpfSl9KShqUXVlcnkpOw0KKGZ1bmN0aW9uKGEpe2EuZm4uZ3JpZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxkPWEuZXh0ZW5kKHtncmlkOm51bGx9LGUpLGY9Yi5jaGlsZHJlbigpLGM9e3NvbG86MSxhOjIsYjozLGM6NCxkOjV9LGQ9ZC5ncmlkO2lmKCFkKWlmKGYubGVuZ3RoPD01KWZvcih2YXIgaCBpbiBjKWNbaF09PT1mLmxlbmd0aCYmKGQ9aCk7ZWxzZSBkPSJhIjtjPWNbZF07Yi5hZGRDbGFzcygidWktZ3JpZC0iK2QpO2YuZmlsdGVyKCI6bnRoLWNoaWxkKCIrYysibisxKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1hIik7Yz4xJiZmLmZpbHRlcigiOm50aC1jaGlsZCgiK2MrIm4rMikiKS5hZGRDbGFzcygidWktYmxvY2stYiIpO2M+MiYmZi5maWx0ZXIoIjpudGgtY2hpbGQoM24rMykiKS5hZGRDbGFzcygidWktYmxvY2stYyIpO2M+MyYmZi5maWx0ZXIoIjpudGgtY2hpbGQoNG4rNCkiKS5hZGRDbGFzcygidWktYmxvY2stZCIpO2M+NCYmZi5maWx0ZXIoIjpudGgtY2hpbGQoNW4rNSkiKS5hZGRDbGFzcygidWktYmxvY2stZSIpfSl9fSkoalF1ZXJ5KTsNCihmdW5jdGlvbihhLGUpe2Eud2lkZ2V0KCJtb2JpbGUubmF2YmFyIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2ljb25wb3M6InRvcCIsZ3JpZDpudWxsLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nbmF2YmFyJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGQ9Yi5maW5kKCJhIiksZj1kLmZpbHRlcigiOmpxbURhdGEoaWNvbikiKS5sZW5ndGg/dGhpcy5vcHRpb25zLmljb25wb3M6ZTtiLmFkZENsYXNzKCJ1aS1uYXZiYXIiKS5hdHRyKCJyb2xlIiwibmF2aWdhdGlvbiIpLmZpbmQoInVsIikuZ3JpZCh7Z3JpZDp0aGlzLm9wdGlvbnMuZ3JpZH0pO2Z8fGIuYWRkQ2xhc3MoInVpLW5hdmJhci1ub2ljb25zIik7ZC5idXR0b25NYXJrdXAoe2Nvcm5lcnM6ZmFsc2Usc2hhZG93OmZhbHNlLGljb25wb3M6Zn0pO2IuZGVsZWdhdGUoImEiLCJ2Y2xpY2siLGZ1bmN0aW9uKCl7ZC5ub3QoIi51aS1zdGF0ZS1wZXJzaXN0IikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpOw0KYSh0aGlzKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YShhLm1vYmlsZS5uYXZiYXIucHJvdG90eXBlLm9wdGlvbnMuaW5pdFNlbGVjdG9yLGIudGFyZ2V0KS5uYXZiYXIoKX0pfSkoalF1ZXJ5KTsNCihmdW5jdGlvbihhKXt2YXIgZT17fTthLndpZGdldCgibW9iaWxlLmxpc3R2aWV3IixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsY291bnRUaGVtZToiYyIsaGVhZGVyVGhlbWU6ImIiLGRpdmlkZXJUaGVtZToiYiIsc3BsaXRJY29uOiJhcnJvdy1yIixzcGxpdFRoZW1lOiJiIixpbnNldDpmYWxzZSxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2xpc3R2aWV3JykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmVsZW1lbnQuYWRkQ2xhc3MoZnVuY3Rpb24oZCxmKXtyZXR1cm4gZisiIHVpLWxpc3R2aWV3ICIrKGEub3B0aW9ucy5pbnNldD8iIHVpLWxpc3R2aWV3LWluc2V0IHVpLWNvcm5lci1hbGwgdWktc2hhZG93ICI6IiIpfSk7YS5yZWZyZXNoKHRydWUpfSxfcmVtb3ZlQ29ybmVyczpmdW5jdGlvbihhLGQpe2E9YS5hZGQoYS5maW5kKCIudWktYnRuLWlubmVyLCAudWktbGktbGluay1hbHQsIC51aS1saS10aHVtYiIpKTtkPT09InRvcCI/YS5yZW1vdmVDbGFzcygidWktY29ybmVyLXRvcCB1aS1jb3JuZXItdHIgdWktY29ybmVyLXRsIik6DQpkPT09ImJvdHRvbSI/YS5yZW1vdmVDbGFzcygidWktY29ybmVyLWJvdHRvbSB1aS1jb3JuZXItYnIgdWktY29ybmVyLWJsIik6YS5yZW1vdmVDbGFzcygidWktY29ybmVyLXRvcCB1aS1jb3JuZXItdHIgdWktY29ybmVyLXRsIHVpLWNvcm5lci1ib3R0b20gdWktY29ybmVyLWJyIHVpLWNvcm5lci1ibCIpfSxfcmVmcmVzaENvcm5lcnM6ZnVuY3Rpb24oYSl7dmFyIGQsZjt0aGlzLm9wdGlvbnMuaW5zZXQmJihkPXRoaXMuZWxlbWVudC5jaGlsZHJlbigibGkiKSxmPWE/ZC5ub3QoIi51aS1zY3JlZW4taGlkZGVuIik6ZC5maWx0ZXIoIjp2aXNpYmxlIiksdGhpcy5fcmVtb3ZlQ29ybmVycyhkKSxkPWYuZmlyc3QoKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCIpLGQuYWRkKGQuZmluZCgiLnVpLWJ0bi1pbm5lciIpLm5vdCgiLnVpLWxpLWxpbmstYWx0IHNwYW46Zmlyc3QtY2hpbGQiKSkuYWRkQ2xhc3MoInVpLWNvcm5lci10b3AiKS5lbmQoKS5maW5kKCIudWktbGktbGluay1hbHQsIC51aS1saS1saW5rLWFsdCBzcGFuOmZpcnN0LWNoaWxkIikuYWRkQ2xhc3MoInVpLWNvcm5lci10ciIpLmVuZCgpLmZpbmQoIi51aS1saS10aHVtYiIpLm5vdCgiLnVpLWxpLWljb24iKS5hZGRDbGFzcygidWktY29ybmVyLXRsIiksDQpmPWYubGFzdCgpLmFkZENsYXNzKCJ1aS1jb3JuZXItYm90dG9tIiksZi5hZGQoZi5maW5kKCIudWktYnRuLWlubmVyIikpLmZpbmQoIi51aS1saS1saW5rLWFsdCIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYnIiKS5lbmQoKS5maW5kKCIudWktbGktdGh1bWIiKS5ub3QoIi51aS1saS1pY29uIikuYWRkQ2xhc3MoInVpLWNvcm5lci1ibCIpKTthfHx0aGlzLmVsZW1lbnQudHJpZ2dlcigidXBkYXRlbGF5b3V0Iil9LF9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lOmZ1bmN0aW9uKGEsZCxmLGMpe3ZhciBlPXt9O2ZvcihlW2ZdPWVbY109dHJ1ZTthOyl7aWYoZVthLm5vZGVOYW1lXSlyZXR1cm4gYTthPWFbZF19cmV0dXJuIG51bGx9LF9nZXRDaGlsZHJlbkJ5VGFnTmFtZTpmdW5jdGlvbihiLGQsZil7dmFyIGM9W10sZT17fTtlW2RdPWVbZl09dHJ1ZTtmb3IoYj1iLmZpcnN0Q2hpbGQ7YjspZVtiLm5vZGVOYW1lXSYmYy5wdXNoKGIpLGI9Yi5uZXh0U2libGluZztyZXR1cm4gYShjKX0sX2FkZFRodW1iQ2xhc3NlczpmdW5jdGlvbihiKXt2YXIgZCwNCmYsYz1iLmxlbmd0aDtmb3IoZD0wO2Q8YztkKyspZj1hKHRoaXMuX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWUoYltkXS5maXJzdENoaWxkLCJuZXh0U2libGluZyIsImltZyIsIklNRyIpKSxmLmxlbmd0aCYmKGYuYWRkQ2xhc3MoInVpLWxpLXRodW1iIiksYSh0aGlzLl9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lKGZbMF0ucGFyZW50Tm9kZSwicGFyZW50Tm9kZSIsImxpIiwiTEkiKSkuYWRkQ2xhc3MoZi5pcygiLnVpLWxpLWljb24iKT8idWktbGktaGFzLWljb24iOiJ1aS1saS1oYXMtdGh1bWIiKSl9LHJlZnJlc2g6ZnVuY3Rpb24oYil7dGhpcy5wYXJlbnRQYWdlPXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpO3RoaXMuX2NyZWF0ZVN1YlBhZ2VzKCk7dmFyIGQ9dGhpcy5vcHRpb25zLGY9dGhpcy5lbGVtZW50LGM9Zi5qcW1EYXRhKCJkaXZpZGVydGhlbWUiKXx8ZC5kaXZpZGVyVGhlbWUsZT1mLmpxbURhdGEoInNwbGl0dGhlbWUiKSxnPWYuanFtRGF0YSgic3BsaXRpY29uIiksDQppPXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKGZbMF0sImxpIiwiTEkiKSxrPWEuc3VwcG9ydC5jc3NQc2V1ZG9FbGVtZW50fHwhYS5ub2RlTmFtZShmWzBdLCJvbCIpPzA6MSxsPXt9LG8sbSxwLGoscTtrJiZmLmZpbmQoIi51aS1saS1kZWMiKS5yZW1vdmUoKTtpZighZC50aGVtZSlkLnRoZW1lPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudCwiYyIpO2Zvcih2YXIgbj0wLEE9aS5sZW5ndGg7bjxBO24rKyl7bz1pLmVxKG4pO209InVpLWxpIjtpZihifHwhby5oYXNDbGFzcygidWktbGkiKSlwPW8uanFtRGF0YSgidGhlbWUiKXx8ZC50aGVtZSxqPXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKG9bMF0sImEiLCJBIiksai5sZW5ndGg/KHE9by5qcW1EYXRhKCJpY29uIiksby5idXR0b25NYXJrdXAoe3dyYXBwZXJFbHM6ImRpdiIsc2hhZG93OmZhbHNlLGNvcm5lcnM6ZmFsc2UsaWNvbnBvczoicmlnaHQiLGljb246ai5sZW5ndGg+MXx8cT09PWZhbHNlP2ZhbHNlOg0KcXx8ImFycm93LXIiLHRoZW1lOnB9KSxxIT1mYWxzZSYmai5sZW5ndGg9PTEmJm8uYWRkQ2xhc3MoInVpLWxpLWhhcy1hcnJvdyIpLGouZmlyc3QoKS5hZGRDbGFzcygidWktbGluay1pbmhlcml0Iiksai5sZW5ndGg+MSYmKG0rPSIgdWktbGktaGFzLWFsdCIsaj1qLmxhc3QoKSxxPWV8fGouanFtRGF0YSgidGhlbWUiKXx8ZC5zcGxpdFRoZW1lLGouYXBwZW5kVG8obykuYXR0cigidGl0bGUiLGouZ2V0RW5jb2RlZFRleHQoKSkuYWRkQ2xhc3MoInVpLWxpLWxpbmstYWx0IikuZW1wdHkoKS5idXR0b25NYXJrdXAoe3NoYWRvdzpmYWxzZSxjb3JuZXJzOmZhbHNlLHRoZW1lOnAsaWNvbjpmYWxzZSxpY29ucG9zOmZhbHNlfSkuZmluZCgiLnVpLWJ0bi1pbm5lciIpLmFwcGVuZChhKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKSkuYnV0dG9uTWFya3VwKHtzaGFkb3c6dHJ1ZSxjb3JuZXJzOnRydWUsdGhlbWU6cSxpY29ucG9zOiJub3RleHQiLGljb246Z3x8ai5qcW1EYXRhKCJpY29uIil8fA0KZC5zcGxpdEljb259KSkpKTpvLmpxbURhdGEoInJvbGUiKT09PSJsaXN0LWRpdmlkZXIiPyhtKz0iIHVpLWxpLWRpdmlkZXIgdWktYnRuIHVpLWJhci0iK2Msby5hdHRyKCJyb2xlIiwiaGVhZGluZyIpLGsmJihrPTEpKTptKz0iIHVpLWxpLXN0YXRpYyB1aS1ib2R5LSIrcDtrJiZtLmluZGV4T2YoInVpLWxpLWRpdmlkZXIiKTwwJiYocD1vLmlzKCIudWktbGktc3RhdGljOmZpcnN0Iik/bzpvLmZpbmQoIi51aS1saW5rLWluaGVyaXQiKSxwLmFkZENsYXNzKCJ1aS1saS1qc251bWJlcmluZyIpLnByZXBlbmQoIjxzcGFuIGNsYXNzPSd1aS1saS1kZWMnPiIraysrICsiLiA8L3NwYW4+IikpO2xbbV18fChsW21dPVtdKTtsW21dLnB1c2gob1swXSl9Zm9yKG0gaW4gbClhKGxbbV0pLmFkZENsYXNzKG0pLmNoaWxkcmVuKCIudWktYnRuLWlubmVyIikuYWRkQ2xhc3MobSk7Zi5maW5kKCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IikuYWRkQ2xhc3MoInVpLWxpLWhlYWRpbmciKS5lbmQoKS5maW5kKCJwLCBkbCIpLmFkZENsYXNzKCJ1aS1saS1kZXNjIikuZW5kKCkuZmluZCgiLnVpLWxpLWFzaWRlIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPQ0KYSh0aGlzKTtiLnByZXBlbmRUbyhiLnBhcmVudCgpKX0pLmVuZCgpLmZpbmQoIi51aS1saS1jb3VudCIpLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmNsb3Nlc3QoImxpIikuYWRkQ2xhc3MoInVpLWxpLWhhcy1jb3VudCIpfSkuYWRkQ2xhc3MoInVpLWJ0bi11cC0iKyhmLmpxbURhdGEoImNvdW50dGhlbWUiKXx8dGhpcy5vcHRpb25zLmNvdW50VGhlbWUpKyIgdWktYnRuLWNvcm5lci1hbGwiKTt0aGlzLl9hZGRUaHVtYkNsYXNzZXMoaSk7dGhpcy5fYWRkVGh1bWJDbGFzc2VzKGYuZmluZCgiLnVpLWxpbmstaW5oZXJpdCIpKTt0aGlzLl9yZWZyZXNoQ29ybmVycyhiKX0sX2lkU3RyaW5nRXNjYXBlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLCItIil9LF9jcmVhdGVTdWJQYWdlczpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxkPWIuY2xvc2VzdCgiLnVpLXBhZ2UiKSxmPWQuanFtRGF0YSgidXJsIiksYz1mfHxkWzBdW2EuZXhwYW5kb10sDQpoPWIuYXR0cigiaWQiKSxnPXRoaXMub3B0aW9ucyxpPSJkYXRhLSIrYS5tb2JpbGUubnMsaz10aGlzLGw9ZC5maW5kKCI6anFtRGF0YShyb2xlPSdmb290ZXInKSIpLmpxbURhdGEoImlkIiksbzt0eXBlb2YgZVtjXT09PSJ1bmRlZmluZWQiJiYoZVtjXT0tMSk7aD1ofHwrK2VbY107YShiLmZpbmQoImxpPnVsLCBsaT5vbCIpLnRvQXJyYXkoKS5yZXZlcnNlKCkpLmVhY2goZnVuY3Rpb24oYyl7dmFyIGQ9YSh0aGlzKSxlPWQuYXR0cigiaWQiKXx8aCsiLSIrYyxjPWQucGFyZW50KCksaz1hKGQucHJldkFsbCgpLnRvQXJyYXkoKS5yZXZlcnNlKCkpLGs9ay5sZW5ndGg/azphKCI8c3Bhbj4iK2EudHJpbShjLmNvbnRlbnRzKClbMF0ubm9kZVZhbHVlKSsiPC9zcGFuPiIpLG49ay5maXJzdCgpLmdldEVuY29kZWRUZXh0KCksZT0oZnx8IiIpKyImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KyI9IitlLEE9ZC5qcW1EYXRhKCJ0aGVtZSIpfHxnLnRoZW1lLHo9ZC5qcW1EYXRhKCJjb3VudHRoZW1lIil8fA0KYi5qcW1EYXRhKCJjb3VudHRoZW1lIil8fGcuY291bnRUaGVtZTtvPXRydWU7ZC5kZXRhY2goKS53cmFwKCI8ZGl2ICIraSsicm9sZT0ncGFnZScgIitpKyJ1cmw9JyIrZSsiJyAiK2krInRoZW1lPSciK0ErIicgIitpKyJjb3VudC10aGVtZT0nIit6KyInPjxkaXYgIitpKyJyb2xlPSdjb250ZW50Jz48L2Rpdj48L2Rpdj4iKS5wYXJlbnQoKS5iZWZvcmUoIjxkaXYgIitpKyJyb2xlPSdoZWFkZXInICIraSsidGhlbWU9JyIrZy5oZWFkZXJUaGVtZSsiJz48ZGl2IGNsYXNzPSd1aS10aXRsZSc+IituKyI8L2Rpdj48L2Rpdj4iKS5hZnRlcihsP2EoIjxkaXYgIitpKyJyb2xlPSdmb290ZXInICIraSsiaWQ9JyIrbCsiJz4iKToiIikucGFyZW50KCkuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lcikucGFnZSgpO2Q9Yy5maW5kKCJhOmZpcnN0Iik7ZC5sZW5ndGh8fChkPWEoIjxhLz4iKS5odG1sKGt8fG4pLnByZXBlbmRUbyhjLmVtcHR5KCkpKTtkLmF0dHIoImhyZWYiLCIjIitlKX0pLmxpc3R2aWV3KCk7DQpvJiZkLmlzKCI6anFtRGF0YShleHRlcm5hbC1wYWdlPSd0cnVlJykiKSYmZC5kYXRhKCJwYWdlIikub3B0aW9ucy5kb21DYWNoZT09PWZhbHNlJiZkLnVuYmluZCgicGFnZWhpZGUucmVtb3ZlIikuYmluZCgicGFnZWhpZGUucmVtb3ZlIixmdW5jdGlvbihiLGMpe3ZhciBlPWMubmV4dFBhZ2U7Yy5uZXh0UGFnZSYmKGU9ZS5qcW1EYXRhKCJ1cmwiKSxlLmluZGV4T2YoZisiJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSkhPT0wJiYoay5jaGlsZFBhZ2VzKCkucmVtb3ZlKCksZC5yZW1vdmUoKSkpfSl9LGNoaWxkUGFnZXM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLnBhcmVudFBhZ2UuanFtRGF0YSgidXJsIik7cmV0dXJuIGEoIjpqcW1EYXRhKHVybF49JyIrYisiJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSsiJykiKX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YShhLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsDQpiLnRhcmdldCkubGlzdHZpZXcoKX0pfSkoalF1ZXJ5KTsNCihmdW5jdGlvbihhKXthLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXI9ZmFsc2U7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXI9IkZpbHRlciBpdGVtcy4uLiI7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyVGhlbWU9ImMiO2EubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlckNhbGxiYWNrPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEudG9Mb3dlckNhc2UoKS5pbmRleE9mKGIpPT09LTF9O2EoIjpqcW1EYXRhKHJvbGU9J2xpc3R2aWV3JykiKS5saXZlKCJsaXN0dmlld2NyZWF0ZSIsZnVuY3Rpb24oKXt2YXIgZT1hKHRoaXMpLGI9ZS5kYXRhKCJsaXN0dmlldyIpO2lmKGIub3B0aW9ucy5maWx0ZXIpe3ZhciBkPWEoIjxmb3JtPiIseyJjbGFzcyI6InVpLWxpc3R2aWV3LWZpbHRlciB1aS1iYXItIitiLm9wdGlvbnMuZmlsdGVyVGhlbWUscm9sZToic2VhcmNoIn0pOw0KYSgiPGlucHV0PiIse3BsYWNlaG9sZGVyOmIub3B0aW9ucy5maWx0ZXJQbGFjZWhvbGRlcn0pLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidHlwZSIsInNlYXJjaCIpLmpxbURhdGEoImxhc3R2YWwiLCIiKS5iaW5kKCJrZXl1cCBjaGFuZ2UiLGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKSxjPXRoaXMudmFsdWUudG9Mb3dlckNhc2UoKSxoPW51bGwsaD1kLmpxbURhdGEoImxhc3R2YWwiKSsiIixnPWZhbHNlLGk9IiI7ZC5qcW1EYXRhKCJsYXN0dmFsIixjKTtpPWMuc3Vic3RyKDAsaC5sZW5ndGgtMSkucmVwbGFjZShoLCIiKTtoPWMubGVuZ3RoPGgubGVuZ3RofHxpLmxlbmd0aCE9Yy5sZW5ndGgtaC5sZW5ndGg/ZS5jaGlsZHJlbigpOmUuY2hpbGRyZW4oIjpub3QoLnVpLXNjcmVlbi1oaWRkZW4pIik7aWYoYyl7Zm9yKHZhciBrPWgubGVuZ3RoLTE7az49MDtrLS0pZD1hKGhba10pLGk9ZC5qcW1EYXRhKCJmaWx0ZXJ0ZXh0Iil8fGQudGV4dCgpLGQuaXMoImxpOmpxbURhdGEocm9sZT1saXN0LWRpdmlkZXIpIik/DQooZC50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsIWcpLGc9ZmFsc2UpOmIub3B0aW9ucy5maWx0ZXJDYWxsYmFjayhpLGMpP2QudG9nZ2xlQ2xhc3MoInVpLWZpbHRlci1oaWRlcXVldWUiLHRydWUpOmc9dHJ1ZTtoLmZpbHRlcigiOm5vdCgudWktZmlsdGVyLWhpZGVxdWV1ZSkiKS50b2dnbGVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIsZmFsc2UpO2guZmlsdGVyKCIudWktZmlsdGVyLWhpZGVxdWV1ZSIpLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIix0cnVlKS50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsZmFsc2UpfWVsc2UgaC50b2dnbGVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIsZmFsc2UpO2IuX3JlZnJlc2hDb3JuZXJzKCl9KS5hcHBlbmRUbyhkKS50ZXh0aW5wdXQoKTthKHRoaXMpLmpxbURhdGEoImluc2V0IikmJmQuYWRkQ2xhc3MoInVpLWxpc3R2aWV3LWZpbHRlci1pbnNldCIpO2QuYmluZCgic3VibWl0IixmdW5jdGlvbigpe3JldHVybiBmYWxzZX0pLmluc2VydEJlZm9yZShlKX19KX0pKGpRdWVyeSk7DQooZnVuY3Rpb24oYSl7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGUpe2EoIjpqcW1EYXRhKHJvbGU9J25vanMnKSIsZS50YXJnZXQpLmFkZENsYXNzKCJ1aS1ub2pzIil9KX0pKGpRdWVyeSk7DQooZnVuY3Rpb24oYSxlKXthLndpZGdldCgibW9iaWxlLmNoZWNrYm94cmFkaW8iLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J2NoZWNrYm94J10saW5wdXRbdHlwZT0ncmFkaW8nXSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGQ9dGhpcy5lbGVtZW50LGY9ZC5jbG9zZXN0KCJmb3JtLGZpZWxkc2V0LDpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIpLmZpbmQoImxhYmVsW2Zvcj0nIitkWzBdLmlkKyInXSIpLGM9ZC5hdHRyKCJ0eXBlIiksaD1jKyItb24iLGc9YysiLW9mZiIsaT1kLnBhcmVudHMoIjpqcW1EYXRhKHR5cGU9J2hvcml6b250YWwnKSIpLmxlbmd0aD9lOmc7aWYoIShjIT09ImNoZWNrYm94IiYmYyE9PSJyYWRpbyIpKXthLmV4dGVuZCh0aGlzLHtsYWJlbDpmLGlucHV0dHlwZTpjLGNoZWNrZWRDbGFzczoidWktIitoKyhpPyIiOiIgIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksdW5jaGVja2VkQ2xhc3M6InVpLSIrDQpnLGNoZWNrZWRpY29uOiJ1aS1pY29uLSIraCx1bmNoZWNrZWRpY29uOiJ1aS1pY29uLSIrZ30pO2lmKCF0aGlzLm9wdGlvbnMudGhlbWUpdGhpcy5vcHRpb25zLnRoZW1lPXRoaXMuZWxlbWVudC5qcW1EYXRhKCJ0aGVtZSIpO2YuYnV0dG9uTWFya3VwKHt0aGVtZTp0aGlzLm9wdGlvbnMudGhlbWUsaWNvbjppLHNoYWRvdzpmYWxzZX0pO2QuYWRkKGYpLndyYXBBbGwoIjxkaXYgY2xhc3M9J3VpLSIrYysiJz48L2Rpdj4iKTtmLmJpbmQoe3Ztb3VzZW92ZXI6ZnVuY3Rpb24oYil7YSh0aGlzKS5wYXJlbnQoKS5pcygiLnVpLWRpc2FibGVkIikmJmIuc3RvcFByb3BhZ2F0aW9uKCl9LHZjbGljazpmdW5jdGlvbihhKXtpZihkLmlzKCI6ZGlzYWJsZWQiKSlhLnByZXZlbnREZWZhdWx0KCk7ZWxzZSByZXR1cm4gYi5fY2FjaGVWYWxzKCksZC5wcm9wKCJjaGVja2VkIixjPT09InJhZGlvIiYmdHJ1ZXx8IWQucHJvcCgiY2hlY2tlZCIpKSxkLnRyaWdnZXJIYW5kbGVyKCJjbGljayIpLGIuX2dldElucHV0U2V0KCkubm90KGQpLnByb3AoImNoZWNrZWQiLA0KZmFsc2UpLGIuX3VwZGF0ZUFsbCgpLGZhbHNlfX0pO2QuYmluZCh7dm1vdXNlZG93bjpmdW5jdGlvbigpe2IuX2NhY2hlVmFscygpfSx2Y2xpY2s6ZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpO2MuaXMoIjpjaGVja2VkIik/KGMucHJvcCgiY2hlY2tlZCIsdHJ1ZSksYi5fZ2V0SW5wdXRTZXQoKS5ub3QoYykucHJvcCgiY2hlY2tlZCIsZmFsc2UpKTpjLnByb3AoImNoZWNrZWQiLGZhbHNlKTtiLl91cGRhdGVBbGwoKX0sZm9jdXM6ZnVuY3Rpb24oKXtmLmFkZENsYXNzKCJ1aS1mb2N1cyIpfSxibHVyOmZ1bmN0aW9uKCl7Zi5yZW1vdmVDbGFzcygidWktZm9jdXMiKX19KTt0aGlzLnJlZnJlc2goKX19LF9jYWNoZVZhbHM6ZnVuY3Rpb24oKXt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IuanFtRGF0YSgiY2FjaGVWYWwiLGIuaXMoIjpjaGVja2VkIikpfSl9LF9nZXRJbnB1dFNldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlucHV0dHlwZT09DQoiY2hlY2tib3giP3RoaXMuZWxlbWVudDp0aGlzLmVsZW1lbnQuY2xvc2VzdCgiZm9ybSxmaWVsZHNldCw6anFtRGF0YShyb2xlPSdwYWdlJykiKS5maW5kKCJpbnB1dFtuYW1lPSciK3RoaXMuZWxlbWVudC5hdHRyKCJuYW1lIikrIiddW3R5cGU9JyIrdGhpcy5pbnB1dHR5cGUrIiddIil9LF91cGRhdGVBbGw6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMuX2dldElucHV0U2V0KCkuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyk7KGQuaXMoIjpjaGVja2VkIil8fGIuaW5wdXR0eXBlPT09ImNoZWNrYm94IikmJmQudHJpZ2dlcigiY2hhbmdlIil9KS5jaGVja2JveHJhZGlvKCJyZWZyZXNoIil9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsZD10aGlzLmxhYmVsLGY9ZC5maW5kKCIudWktaWNvbiIpO2EoYlswXSkucHJvcCgiY2hlY2tlZCIpPyhkLmFkZENsYXNzKHRoaXMuY2hlY2tlZENsYXNzKS5yZW1vdmVDbGFzcyh0aGlzLnVuY2hlY2tlZENsYXNzKSwNCmYuYWRkQ2xhc3ModGhpcy5jaGVja2VkaWNvbikucmVtb3ZlQ2xhc3ModGhpcy51bmNoZWNrZWRpY29uKSk6KGQucmVtb3ZlQ2xhc3ModGhpcy5jaGVja2VkQ2xhc3MpLmFkZENsYXNzKHRoaXMudW5jaGVja2VkQ2xhc3MpLGYucmVtb3ZlQ2xhc3ModGhpcy5jaGVja2VkaWNvbikuYWRkQ2xhc3ModGhpcy51bmNoZWNrZWRpY29uKSk7Yi5pcygiOmRpc2FibGVkIik/dGhpcy5kaXNhYmxlKCk6dGhpcy5lbmFibGUoKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsdHJ1ZSkucGFyZW50KCkuYWRkQ2xhc3MoInVpLWRpc2FibGVkIil9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsZmFsc2UpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpfX0pO2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5jaGVja2JveHJhZGlvLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0KX0pfSkoalF1ZXJ5KTsNCihmdW5jdGlvbihhLGUpe2Eud2lkZ2V0KCJtb2JpbGUuYnV0dG9uIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsaWNvbjpudWxsLGljb25wb3M6bnVsbCxpbmxpbmU6bnVsbCxjb3JuZXJzOnRydWUsc2hhZG93OnRydWUsaWNvbnNoYWRvdzp0cnVlLGluaXRTZWxlY3RvcjoiYnV0dG9uLCBbdHlwZT0nYnV0dG9uJ10sIFt0eXBlPSdzdWJtaXQnXSwgW3R5cGU9J3Jlc2V0J10sIFt0eXBlPSdpbWFnZSddIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxkPXRoaXMub3B0aW9ucyxmLGM7dGhpcy5idXR0b249YSgiPGRpdj48L2Rpdj4iKS50ZXh0KGIudGV4dCgpfHxiLnZhbCgpKS5pbnNlcnRCZWZvcmUoYikuYnV0dG9uTWFya3VwKHt0aGVtZTpkLnRoZW1lLGljb246ZC5pY29uLGljb25wb3M6ZC5pY29ucG9zLGlubGluZTpkLmlubGluZSxjb3JuZXJzOmQuY29ybmVycyxzaGFkb3c6ZC5zaGFkb3csaWNvbnNoYWRvdzpkLmljb25zaGFkb3d9KS5hcHBlbmQoYi5hZGRDbGFzcygidWktYnRuLWhpZGRlbiIpKTsNCmQ9Yi5hdHRyKCJ0eXBlIik7Zj1iLmF0dHIoIm5hbWUiKTtkIT09ImJ1dHRvbiImJmQhPT0icmVzZXQiJiZmJiZiLmJpbmQoInZjbGljayIsZnVuY3Rpb24oKXtjPT09ZSYmKGM9YSgiPGlucHV0PiIse3R5cGU6ImhpZGRlbiIsbmFtZTpiLmF0dHIoIm5hbWUiKSx2YWx1ZTpiLmF0dHIoInZhbHVlIil9KS5pbnNlcnRCZWZvcmUoYiksYShkb2N1bWVudCkub25lKCJzdWJtaXQiLGZ1bmN0aW9uKCl7Yy5yZW1vdmUoKTtjPWV9KSl9KTt0aGlzLnJlZnJlc2goKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIixmYWxzZSk7dGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsZmFsc2UpO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIixmYWxzZSl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLHRydWUpO3RoaXMuYnV0dG9uLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLA0KdHJ1ZSk7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLHRydWUpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50O2EucHJvcCgiZGlzYWJsZWQiKT90aGlzLmRpc2FibGUoKTp0aGlzLmVuYWJsZSgpO3RoaXMuYnV0dG9uLmRhdGEoInRleHRXcmFwcGVyIikudGV4dChhLnRleHQoKXx8YS52YWwoKSl9fSk7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLmJ1dHRvbi5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCl9KX0pKGpRdWVyeSk7DQooZnVuY3Rpb24oYSxlKXthLndpZGdldCgibW9iaWxlLnNsaWRlciIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLHRyYWNrVGhlbWU6bnVsbCxkaXNhYmxlZDpmYWxzZSxpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J3JhbmdlJ10sIDpqcW1EYXRhKHR5cGU9J3JhbmdlJyksIDpqcW1EYXRhKHJvbGU9J3NsaWRlcicpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD10aGlzLmVsZW1lbnQsZj1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShkLCJjIiksYz10aGlzLm9wdGlvbnMudGhlbWV8fGYsaD10aGlzLm9wdGlvbnMudHJhY2tUaGVtZXx8ZixnPWRbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxmPWc9PSJzZWxlY3QiPyJ1aS1zbGlkZXItc3dpdGNoIjoiIixpPWQuYXR0cigiaWQiKSxrPWkrIi1sYWJlbCIsaT1hKCJbZm9yPSciK2krIiddIikuYXR0cigiaWQiLGspLGw9ZnVuY3Rpb24oKXtyZXR1cm4gZz09ImlucHV0Ij9wYXJzZUZsb2F0KGQudmFsKCkpOg0KZFswXS5zZWxlY3RlZEluZGV4fSxvPWc9PSJpbnB1dCI/cGFyc2VGbG9hdChkLmF0dHIoIm1pbiIpKTowLG09Zz09ImlucHV0Ij9wYXJzZUZsb2F0KGQuYXR0cigibWF4IikpOmQuZmluZCgib3B0aW9uIikubGVuZ3RoLTEscD13aW5kb3cucGFyc2VGbG9hdChkLmF0dHIoInN0ZXAiKXx8MSksaj1hKCI8ZGl2IGNsYXNzPSd1aS1zbGlkZXIgIitmKyIgdWktYnRuLWRvd24tIitoKyIgdWktYnRuLWNvcm5lci1hbGwnIHJvbGU9J2FwcGxpY2F0aW9uJz48L2Rpdj4iKSxxPWEoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1zbGlkZXItaGFuZGxlJz48L2E+IikuYXBwZW5kVG8oaikuYnV0dG9uTWFya3VwKHtjb3JuZXJzOnRydWUsdGhlbWU6YyxzaGFkb3c6dHJ1ZX0pLmF0dHIoe3JvbGU6InNsaWRlciIsImFyaWEtdmFsdWVtaW4iOm8sImFyaWEtdmFsdWVtYXgiOm0sImFyaWEtdmFsdWVub3ciOmwoKSwiYXJpYS12YWx1ZXRleHQiOmwoKSx0aXRsZTpsKCksImFyaWEtbGFiZWxsZWRieSI6a30pOw0KYS5leHRlbmQodGhpcyx7c2xpZGVyOmosaGFuZGxlOnEsZHJhZ2dpbmc6ZmFsc2UsYmVmb3JlU3RhcnQ6bnVsbCx1c2VyTW9kaWZpZWQ6ZmFsc2UsbW91c2VNb3ZlZDpmYWxzZX0pO2c9PSJzZWxlY3QiJiYoai53cmFwSW5uZXIoIjxkaXYgY2xhc3M9J3VpLXNsaWRlci1pbm5lcm9mZnNldCc+PC9kaXY+IikscS5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLGQuZmluZCgib3B0aW9uIiksZC5maW5kKCJvcHRpb24iKS5lYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPSFiPyJiIjoiYSIsZD0hYj8icmlnaHQiOiJsZWZ0IixiPSFiPyIgdWktYnRuLWRvd24tIitoOiIgIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzczthKCI8ZGl2IGNsYXNzPSd1aS1zbGlkZXItbGFiZWxiZyB1aS1zbGlkZXItbGFiZWxiZy0iK2MrYisiIHVpLWJ0bi1jb3JuZXItIitkKyInPjwvZGl2PiIpLnByZXBlbmRUbyhqKTthKCI8c3BhbiBjbGFzcz0ndWktc2xpZGVyLWxhYmVsIHVpLXNsaWRlci1sYWJlbC0iKw0KYytiKyIgdWktYnRuLWNvcm5lci0iK2QrIicgcm9sZT0naW1nJz4iK2EodGhpcykuZ2V0RW5jb2RlZFRleHQoKSsiPC9zcGFuPiIpLnByZXBlbmRUbyhxKX0pKTtpLmFkZENsYXNzKCJ1aS1zbGlkZXIiKTtkLmFkZENsYXNzKGc9PT0iaW5wdXQiPyJ1aS1zbGlkZXItaW5wdXQiOiJ1aS1zbGlkZXItc3dpdGNoIikuY2hhbmdlKGZ1bmN0aW9uKCl7Yi5tb3VzZU1vdmVkfHxiLnJlZnJlc2gobCgpLHRydWUpfSkua2V5dXAoZnVuY3Rpb24oKXtiLnJlZnJlc2gobCgpLHRydWUsdHJ1ZSl9KS5ibHVyKGZ1bmN0aW9uKCl7Yi5yZWZyZXNoKGwoKSx0cnVlKX0pO2EoZG9jdW1lbnQpLmJpbmQoInZtb3VzZW1vdmUiLGZ1bmN0aW9uKGEpe2lmKGIuZHJhZ2dpbmcpcmV0dXJuIGIubW91c2VNb3ZlZD10cnVlLGc9PT0ic2VsZWN0IiYmcS5yZW1vdmVDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLGIucmVmcmVzaChhKSxiLnVzZXJNb2RpZmllZD1iLmJlZm9yZVN0YXJ0IT09ZFswXS5zZWxlY3RlZEluZGV4LA0KZmFsc2V9KTtqLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKGEpe2IuZHJhZ2dpbmc9dHJ1ZTtiLnVzZXJNb2RpZmllZD1mYWxzZTtiLm1vdXNlTW92ZWQ9ZmFsc2U7aWYoZz09PSJzZWxlY3QiKWIuYmVmb3JlU3RhcnQ9ZFswXS5zZWxlY3RlZEluZGV4O2IucmVmcmVzaChhKTtyZXR1cm4gZmFsc2V9KTtqLmFkZChkb2N1bWVudCkuYmluZCgidm1vdXNldXAiLGZ1bmN0aW9uKCl7aWYoYi5kcmFnZ2luZylyZXR1cm4gYi5kcmFnZ2luZz1mYWxzZSxnPT09InNlbGVjdCImJihxLmFkZENsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiksYi5tb3VzZU1vdmVkP2IudXNlck1vZGlmaWVkP2IucmVmcmVzaChiLmJlZm9yZVN0YXJ0PT0wPzE6MCk6Yi5yZWZyZXNoKGIuYmVmb3JlU3RhcnQpOmIucmVmcmVzaChiLmJlZm9yZVN0YXJ0PT0wPzE6MCkpLGIubW91c2VNb3ZlZD1mYWxzZX0pO2ouaW5zZXJ0QWZ0ZXIoZCk7dGhpcy5oYW5kbGUuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oKXthKHRoaXMpLmZvY3VzKCl9KS5iaW5kKCJ2Y2xpY2siLA0KZmFsc2UpO3RoaXMuaGFuZGxlLmJpbmQoImtleWRvd24iLGZ1bmN0aW9uKGMpe3ZhciBkPWwoKTtpZighYi5vcHRpb25zLmRpc2FibGVkKXtzd2l0Y2goYy5rZXlDb2RlKXtjYXNlIGEubW9iaWxlLmtleUNvZGUuSE9NRTpjYXNlIGEubW9iaWxlLmtleUNvZGUuRU5EOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX0RPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlVQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5SSUdIVDpjYXNlIGEubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuTEVGVDppZihjLnByZXZlbnREZWZhdWx0KCksIWIuX2tleVNsaWRpbmcpYi5fa2V5U2xpZGluZz10cnVlLGEodGhpcykuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpfXN3aXRjaChjLmtleUNvZGUpe2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5IT01FOmIucmVmcmVzaChvKTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuRU5EOmIucmVmcmVzaChtKTsNCmJyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUklHSFQ6Yi5yZWZyZXNoKGQrcCk7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuTEVGVDpiLnJlZnJlc2goZC1wKX19fSkua2V5dXAoZnVuY3Rpb24oKXtpZihiLl9rZXlTbGlkaW5nKWIuX2tleVNsaWRpbmc9ZmFsc2UsYSh0aGlzKS5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIil9KTt0aGlzLnJlZnJlc2goZSxlLHRydWUpfSxyZWZyZXNoOmZ1bmN0aW9uKGEsZCxmKXsodGhpcy5vcHRpb25zLmRpc2FibGVkfHx0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiKSkmJnRoaXMuZGlzYWJsZSgpO3ZhciBjPXRoaXMuZWxlbWVudCxlLGc9Y1swXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGk9Zz09PSJpbnB1dCI/cGFyc2VGbG9hdChjLmF0dHIoIm1pbiIpKToNCjAsaz1nPT09ImlucHV0Ij9wYXJzZUZsb2F0KGMuYXR0cigibWF4IikpOmMuZmluZCgib3B0aW9uIikubGVuZ3RoLTE7aWYodHlwZW9mIGE9PT0ib2JqZWN0Iil7aWYoIXRoaXMuZHJhZ2dpbmd8fGEucGFnZVg8dGhpcy5zbGlkZXIub2Zmc2V0KCkubGVmdC04fHxhLnBhZ2VYPnRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQrdGhpcy5zbGlkZXIud2lkdGgoKSs4KXJldHVybjtlPU1hdGgucm91bmQoKGEucGFnZVgtdGhpcy5zbGlkZXIub2Zmc2V0KCkubGVmdCkvdGhpcy5zbGlkZXIud2lkdGgoKSoxMDApfWVsc2UgYT09bnVsbCYmKGE9Zz09PSJpbnB1dCI/cGFyc2VGbG9hdChjLnZhbCgpKTpjWzBdLnNlbGVjdGVkSW5kZXgpLGU9KHBhcnNlRmxvYXQoYSktaSkvKGstaSkqMTAwO2lmKCFpc05hTihlKSYmKGU8MCYmKGU9MCksZT4xMDAmJihlPTEwMCksYT1NYXRoLnJvdW5kKGUvMTAwKihrLWkpKStpLGE8aSYmKGE9aSksYT5rJiYoYT1rKSx0aGlzLmhhbmRsZS5jc3MoImxlZnQiLGUrIiUiKSwNCnRoaXMuaGFuZGxlLmF0dHIoeyJhcmlhLXZhbHVlbm93IjpnPT09ImlucHV0Ij9hOmMuZmluZCgib3B0aW9uIikuZXEoYSkuYXR0cigidmFsdWUiKSwiYXJpYS12YWx1ZXRleHQiOmc9PT0iaW5wdXQiP2E6Yy5maW5kKCJvcHRpb24iKS5lcShhKS5nZXRFbmNvZGVkVGV4dCgpLHRpdGxlOmF9KSxnPT09InNlbGVjdCImJihhPT09MD90aGlzLnNsaWRlci5hZGRDbGFzcygidWktc2xpZGVyLXN3aXRjaC1hIikucmVtb3ZlQ2xhc3MoInVpLXNsaWRlci1zd2l0Y2gtYiIpOnRoaXMuc2xpZGVyLmFkZENsYXNzKCJ1aS1zbGlkZXItc3dpdGNoLWIiKS5yZW1vdmVDbGFzcygidWktc2xpZGVyLXN3aXRjaC1hIikpLCFmKSlmPWZhbHNlLGc9PT0iaW5wdXQiPyhmPWMudmFsKCkhPT1hLGMudmFsKGEpKTooZj1jWzBdLnNlbGVjdGVkSW5kZXghPT1hLGNbMF0uc2VsZWN0ZWRJbmRleD1hKSwhZCYmZiYmYy50cmlnZ2VyKCJjaGFuZ2UiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwNCmZhbHNlKTt0aGlzLnNsaWRlci5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIixmYWxzZSk7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLGZhbHNlKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsdHJ1ZSk7dGhpcy5zbGlkZXIuYWRkQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsdHJ1ZSk7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLHRydWUpfX0pO2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5zbGlkZXIucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KShqUXVlcnkpOw0KKGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUudGV4dGlucHV0IixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsaW5pdFNlbGVjdG9yOiJpbnB1dFt0eXBlPSd0ZXh0J10sIGlucHV0W3R5cGU9J3NlYXJjaCddLCA6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSwgaW5wdXRbdHlwZT0nbnVtYmVyJ10sIDpqcW1EYXRhKHR5cGU9J251bWJlcicpLCBpbnB1dFt0eXBlPSdwYXNzd29yZCddLCBpbnB1dFt0eXBlPSdlbWFpbCddLCBpbnB1dFt0eXBlPSd1cmwnXSwgaW5wdXRbdHlwZT0ndGVsJ10sIHRleHRhcmVhLCBpbnB1dFt0eXBlPSd0aW1lJ10sIGlucHV0W3R5cGU9J2RhdGUnXSwgaW5wdXRbdHlwZT0nbW9udGgnXSwgaW5wdXRbdHlwZT0nd2VlayddLCBpbnB1dFt0eXBlPSdkYXRldGltZSddLCBpbnB1dFt0eXBlPSdkYXRldGltZS1sb2NhbCddLCBpbnB1dFt0eXBlPSdjb2xvciddLCBpbnB1dDpub3QoW3R5cGVdKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsZW1lbnQsDQpiPXRoaXMub3B0aW9ucy50aGVtZXx8YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIiksZD0iIHVpLWJvZHktIitiLGYsYzthKCJsYWJlbFtmb3I9JyIrZS5hdHRyKCJpZCIpKyInXSIpLmFkZENsYXNzKCJ1aS1pbnB1dC10ZXh0Iik7Zj1lLmFkZENsYXNzKCJ1aS1pbnB1dC10ZXh0IHVpLWJvZHktIitiKTt0eXBlb2YgZVswXS5hdXRvY29ycmVjdCE9PSJ1bmRlZmluZWQiJiYhYS5zdXBwb3J0LnRvdWNoT3ZlcmZsb3cmJihlWzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvcnJlY3QiLCJvZmYiKSxlWzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvbXBsZXRlIiwib2ZmIikpO2UuaXMoIlt0eXBlPSdzZWFyY2gnXSw6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIpPyhmPWUud3JhcCgiPGRpdiBjbGFzcz0ndWktaW5wdXQtc2VhcmNoIHVpLXNoYWRvdy1pbnNldCB1aS1idG4tY29ybmVyLWFsbCB1aS1idG4tc2hhZG93IHVpLWljb24tc2VhcmNoZmllbGQiK2QrIic+PC9kaXY+IikucGFyZW50KCksDQpjPWEoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1pbnB1dC1jbGVhcicgdGl0bGU9J2NsZWFyIHRleHQnPmNsZWFyIHRleHQ8L2E+IikudGFwKGZ1bmN0aW9uKGEpe2UudmFsKCIiKS5mb2N1cygpO2UudHJpZ2dlcigiY2hhbmdlIik7Yy5hZGRDbGFzcygidWktaW5wdXQtY2xlYXItaGlkZGVuIik7YS5wcmV2ZW50RGVmYXVsdCgpfSkuYXBwZW5kVG8oZikuYnV0dG9uTWFya3VwKHtpY29uOiJkZWxldGUiLGljb25wb3M6Im5vdGV4dCIsY29ybmVyczp0cnVlLHNoYWRvdzp0cnVlfSksYj1mdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjLnRvZ2dsZUNsYXNzKCJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iLCFlLnZhbCgpKX0sMCl9LGIoKSxlLmJpbmQoInBhc3RlIGN1dCBrZXl1cCBmb2N1cyBjaGFuZ2UgYmx1ciIsYikpOmUuYWRkQ2xhc3MoInVpLWNvcm5lci1hbGwgdWktc2hhZG93LWluc2V0IitkKTtlLmZvY3VzKGZ1bmN0aW9uKCl7Zi5hZGRDbGFzcygidWktZm9jdXMiKX0pLmJsdXIoZnVuY3Rpb24oKXtmLnJlbW92ZUNsYXNzKCJ1aS1mb2N1cyIpfSk7DQppZihlLmlzKCJ0ZXh0YXJlYSIpKXt2YXIgaD1mdW5jdGlvbigpe3ZhciBhPWVbMF0uc2Nyb2xsSGVpZ2h0O2VbMF0uY2xpZW50SGVpZ2h0PGEmJmUuaGVpZ2h0KGErMTUpfSxnO2Uua2V5dXAoZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoZyk7Zz1zZXRUaW1lb3V0KGgsMTAwKX0pO2EudHJpbShlLnZhbCgpKSYmKGEod2luZG93KS5sb2FkKGgpLGEoZG9jdW1lbnQpLm9uZSgicGFnZWNoYW5nZSIsaCkpfX0sZGlzYWJsZTpmdW5jdGlvbigpeyh0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLHRydWUpLmlzKCJbdHlwZT0nc2VhcmNoJ10sOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKT90aGlzLmVsZW1lbnQucGFyZW50KCk6dGhpcy5lbGVtZW50KS5hZGRDbGFzcygidWktZGlzYWJsZWQiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7KHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsZmFsc2UpLmlzKCJbdHlwZT0nc2VhcmNoJ10sOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKT90aGlzLmVsZW1lbnQucGFyZW50KCk6DQp0aGlzLmVsZW1lbnQpLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpfX0pO2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihlKXthLm1vYmlsZS50ZXh0aW5wdXQucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oZS50YXJnZXQpfSl9KShqUXVlcnkpOw0KKGZ1bmN0aW9uKGEpe3ZhciBlPWZ1bmN0aW9uKGIpe3ZhciBkPWIuc2VsZWN0SUQsZj1iLmxhYmVsLGM9Yi5zZWxlY3QuY2xvc2VzdCgiLnVpLXBhZ2UiKSxlPWEoIjxkaXY+Iix7ImNsYXNzIjoidWktc2VsZWN0bWVudS1zY3JlZW4gdWktc2NyZWVuLWhpZGRlbiJ9KS5hcHBlbmRUbyhjKSxnPWIuX3NlbGVjdE9wdGlvbnMoKSxpPWIuaXNNdWx0aXBsZT1iLnNlbGVjdFswXS5tdWx0aXBsZSxrPWQrIi1idXR0b24iLGw9ZCsiLW1lbnUiLG89YSgiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2RpYWxvZycgZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZT0nIitiLm9wdGlvbnMudGhlbWUrIicgZGF0YS0iK2EubW9iaWxlLm5zKyJvdmVybGF5LXRoZW1lPSciK2Iub3B0aW9ucy5vdmVybGF5VGhlbWUrIic+PGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2hlYWRlcic+PGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrZi5nZXRFbmNvZGVkVGV4dCgpKyI8L2Rpdj48L2Rpdj48ZGl2IGRhdGEtIisNCmEubW9iaWxlLm5zKyJyb2xlPSdjb250ZW50Jz48L2Rpdj48L2Rpdj4iKS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKS5wYWdlKCksbT1hKCI8ZGl2PiIseyJjbGFzcyI6InVpLXNlbGVjdG1lbnUgdWktc2VsZWN0bWVudS1oaWRkZW4gdWktb3ZlcmxheS1zaGFkb3cgdWktY29ybmVyLWFsbCB1aS1ib2R5LSIrYi5vcHRpb25zLm92ZXJsYXlUaGVtZSsiICIrYS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb259KS5pbnNlcnRBZnRlcihlKSxwPWEoIjx1bD4iLHsiY2xhc3MiOiJ1aS1zZWxlY3RtZW51LWxpc3QiLGlkOmwscm9sZToibGlzdGJveCIsImFyaWEtbGFiZWxsZWRieSI6a30pLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiLGIub3B0aW9ucy50aGVtZSkuYXBwZW5kVG8obSksaj1hKCI8ZGl2PiIseyJjbGFzcyI6InVpLWhlYWRlciB1aS1iYXItIitiLm9wdGlvbnMudGhlbWV9KS5wcmVwZW5kVG8obSkscT1hKCI8aDE+Iix7ImNsYXNzIjoidWktdGl0bGUifSkuYXBwZW5kVG8oaiksDQpuPWEoIjxhPiIse3RleHQ6Yi5vcHRpb25zLmNsb3NlVGV4dCxocmVmOiIjIiwiY2xhc3MiOiJ1aS1idG4tbGVmdCJ9KS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrImljb25wb3MiLCJub3RleHQiKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrImljb24iLCJkZWxldGUiKS5hcHBlbmRUbyhqKS5idXR0b25NYXJrdXAoKSxBPW8uZmluZCgiLnVpLWNvbnRlbnQiKSx6PW8uZmluZCgiLnVpLWhlYWRlciBhIik7YS5leHRlbmQoYix7c2VsZWN0OmIuc2VsZWN0LHNlbGVjdElEOmQsYnV0dG9uSWQ6ayxtZW51SWQ6bCx0aGlzUGFnZTpjLG1lbnVQYWdlOm8sbGFiZWw6ZixzY3JlZW46ZSxzZWxlY3RPcHRpb25zOmcsaXNNdWx0aXBsZTppLHRoZW1lOmIub3B0aW9ucy50aGVtZSxsaXN0Ym94Om0sbGlzdDpwLGhlYWRlcjpqLGhlYWRlclRpdGxlOnEsaGVhZGVyQ2xvc2U6bixtZW51UGFnZUNvbnRlbnQ6QSxtZW51UGFnZUNsb3NlOnoscGxhY2Vob2xkZXI6IiIsYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgYj0NCnRoaXM7Yi5yZWZyZXNoKCk7Yi5zZWxlY3QuYXR0cigidGFiaW5kZXgiLCItMSIpLmZvY3VzKGZ1bmN0aW9uKCl7YSh0aGlzKS5ibHVyKCk7Yi5idXR0b24uZm9jdXMoKX0pO2IuYnV0dG9uLmJpbmQoInZjbGljayBrZXlkb3duIixmdW5jdGlvbihjKXtpZihjLnR5cGU9PSJ2Y2xpY2sifHxjLmtleUNvZGUmJihjLmtleUNvZGU9PT1hLm1vYmlsZS5rZXlDb2RlLkVOVEVSfHxjLmtleUNvZGU9PT1hLm1vYmlsZS5rZXlDb2RlLlNQQUNFKSliLm9wZW4oKSxjLnByZXZlbnREZWZhdWx0KCl9KTtiLmxpc3QuYXR0cigicm9sZSIsImxpc3Rib3giKS5kZWxlZ2F0ZSgiLnVpLWxpPmEiLCJmb2N1c2luIixmdW5jdGlvbigpe2EodGhpcykuYXR0cigidGFiaW5kZXgiLCIwIil9KS5kZWxlZ2F0ZSgiLnVpLWxpPmEiLCJmb2N1c291dCIsZnVuY3Rpb24oKXthKHRoaXMpLmF0dHIoInRhYmluZGV4IiwiLTEiKX0pLmRlbGVnYXRlKCJsaTpub3QoLnVpLWRpc2FibGVkLCAudWktbGktZGl2aWRlcikiLA0KImNsaWNrIixmdW5jdGlvbihjKXt2YXIgZD1iLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4LGY9Yi5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5pbmRleCh0aGlzKSxlPWIuX3NlbGVjdE9wdGlvbnMoKS5lcShmKVswXTtlLnNlbGVjdGVkPWIuaXNNdWx0aXBsZT8hZS5zZWxlY3RlZDp0cnVlO2IuaXNNdWx0aXBsZSYmYSh0aGlzKS5maW5kKCIudWktaWNvbiIpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9uIixlLnNlbGVjdGVkKS50b2dnbGVDbGFzcygidWktaWNvbi1jaGVja2JveC1vZmYiLCFlLnNlbGVjdGVkKTsoYi5pc011bHRpcGxlfHxkIT09ZikmJmIuc2VsZWN0LnRyaWdnZXIoImNoYW5nZSIpO2IuaXNNdWx0aXBsZXx8Yi5jbG9zZSgpO2MucHJldmVudERlZmF1bHQoKX0pLmtleWRvd24oZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCksZD1jLmNsb3Nlc3QoImxpIik7c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSAzODpyZXR1cm4gYj1kLnByZXYoKSwNCmIubGVuZ3RoJiYoYy5ibHVyKCkuYXR0cigidGFiaW5kZXgiLCItMSIpLGIuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKSksZmFsc2U7Y2FzZSA0MDpyZXR1cm4gYj1kLm5leHQoKSxiLmxlbmd0aCYmKGMuYmx1cigpLmF0dHIoInRhYmluZGV4IiwiLTEiKSxiLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCkpLGZhbHNlO2Nhc2UgMTM6Y2FzZSAzMjpyZXR1cm4gYy50cmlnZ2VyKCJjbGljayIpLGZhbHNlfX0pO2IubWVudVBhZ2UuYmluZCgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7Yi5saXN0LmFwcGVuZFRvKGIubGlzdGJveCk7Yi5fZm9jdXNCdXR0b24oKTthLm1vYmlsZS5fYmluZFBhZ2VSZW1vdmUuY2FsbChiLnRoaXNQYWdlKX0pO2Iuc2NyZWVuLmJpbmQoInZjbGljayIsZnVuY3Rpb24oKXtiLmNsb3NlKCl9KTtiLmhlYWRlckNsb3NlLmNsaWNrKGZ1bmN0aW9uKCl7aWYoYi5tZW51VHlwZT09Im92ZXJsYXkiKXJldHVybiBiLmNsb3NlKCksZmFsc2V9KTtiLnRoaXNQYWdlLmFkZERlcGVuZGVudHModGhpcy5tZW51UGFnZSl9LA0KX2lzUmVidWlsZFJlcXVpcmVkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5saXN0LmZpbmQoImxpIik7cmV0dXJuIHRoaXMuX3NlbGVjdE9wdGlvbnMoKS50ZXh0KCkhPT1hLnRleHQoKX0scmVmcmVzaDpmdW5jdGlvbihiKXt2YXIgYz10aGlzO3RoaXMuX3NlbGVjdE9wdGlvbnMoKTt0aGlzLnNlbGVjdGVkKCk7dmFyIGQ9dGhpcy5zZWxlY3RlZEluZGljZXMoKTsoYnx8dGhpcy5faXNSZWJ1aWxkUmVxdWlyZWQoKSkmJmMuX2J1aWxkTGlzdCgpO2Muc2V0QnV0dG9uVGV4dCgpO2Muc2V0QnV0dG9uQ291bnQoKTtjLmxpc3QuZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5hdHRyKCJhcmlhLXNlbGVjdGVkIixmYWxzZSkuZWFjaChmdW5jdGlvbihiKXthLmluQXJyYXkoYixkKT4tMSYmKGI9YSh0aGlzKSxiLmF0dHIoImFyaWEtc2VsZWN0ZWQiLHRydWUpLGMuaXNNdWx0aXBsZT9iLmZpbmQoIi51aS1pY29uIikucmVtb3ZlQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb2ZmIikuYWRkQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb24iKToNCmIuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpKX0pfSxjbG9zZTpmdW5jdGlvbigpe2lmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMuaXNPcGVuKXRoaXMubWVudVR5cGU9PSJwYWdlIj93aW5kb3cuaGlzdG9yeS5iYWNrKCk6KHRoaXMuc2NyZWVuLmFkZENsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiksdGhpcy5saXN0Ym94LmFkZENsYXNzKCJ1aS1zZWxlY3RtZW51LWhpZGRlbiIpLnJlbW92ZUF0dHIoInN0eWxlIikucmVtb3ZlQ2xhc3MoImluIiksdGhpcy5saXN0LmFwcGVuZFRvKHRoaXMubGlzdGJveCksdGhpcy5fZm9jdXNCdXR0b24oKSksdGhpcy5pc09wZW49ZmFsc2V9LG9wZW46ZnVuY3Rpb24oKXtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkKXt2YXIgYj10aGlzLGM9Yi5saXN0LnBhcmVudCgpLm91dGVySGVpZ2h0KCksZD1iLmxpc3QucGFyZW50KCkub3V0ZXJXaWR0aCgpLGY9YSgiLnVpLXBhZ2UtYWN0aXZlIiksZT1hLnN1cHBvcnQudG91Y2hPdmVyZmxvdyYmDQphLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZCxmPWYuaXMoIi51aS1uYXRpdmUtZml4ZWQiKT9mLmZpbmQoIi51aS1jb250ZW50Iik6ZjtzY3JvbGxUb3A9ZT9mLnNjcm9sbFRvcCgpOmEod2luZG93KS5zY3JvbGxUb3AoKTtidG5PZmZzZXQ9Yi5idXR0b24ub2Zmc2V0KCkudG9wO3NjcmVlbkhlaWdodD13aW5kb3cuaW5uZXJIZWlnaHQ7c2NyZWVuV2lkdGg9d2luZG93LmlubmVyV2lkdGg7Yi5idXR0b24uYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmJ1dHRvbi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9LDMwMCk7aWYoYz5zY3JlZW5IZWlnaHQtODB8fCFhLnN1cHBvcnQuc2Nyb2xsVG9wKXtiLnRoaXNQYWdlLnVuYmluZCgicGFnZWhpZGUucmVtb3ZlIik7aWYoc2Nyb2xsVG9wPT0wJiZidG5PZmZzZXQ+c2NyZWVuSGVpZ2h0KWIudGhpc1BhZ2Uub25lKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXthKHRoaXMpLmpxbURhdGEoImxhc3RTY3JvbGwiLA0KYnRuT2Zmc2V0KX0pO2IubWVudVBhZ2Uub25lKCJwYWdlc2hvdyIsZnVuY3Rpb24oKXthKHdpbmRvdykub25lKCJzaWxlbnRzY3JvbGwiLGZ1bmN0aW9uKCl7Yi5saXN0LmZpbmQoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmZvY3VzKCl9KTtiLmlzT3Blbj10cnVlfSk7Yi5tZW51VHlwZT0icGFnZSI7Yi5tZW51UGFnZUNvbnRlbnQuYXBwZW5kKGIubGlzdCk7Yi5tZW51UGFnZS5maW5kKCJkaXYgLnVpLXRpdGxlIikudGV4dChiLmxhYmVsLnRleHQoKSk7YS5tb2JpbGUuY2hhbmdlUGFnZShiLm1lbnVQYWdlLHt0cmFuc2l0aW9uOmEubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9ufSl9ZWxzZXtiLm1lbnVUeXBlPSJvdmVybGF5IjtiLnNjcmVlbi5oZWlnaHQoYShkb2N1bWVudCkuaGVpZ2h0KCkpLnJlbW92ZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIik7dmFyIGY9YnRuT2Zmc2V0LXNjcm9sbFRvcCxoPXNjcm9sbFRvcCtzY3JlZW5IZWlnaHQtYnRuT2Zmc2V0LGc9Yy8yLGU9DQpwYXJzZUZsb2F0KGIubGlzdC5wYXJlbnQoKS5jc3MoIm1heC13aWR0aCIpKSxjPWY+Yy8yJiZoPmMvMj9idG5PZmZzZXQrYi5idXR0b24ub3V0ZXJIZWlnaHQoKS8yLWc6Zj5oP3Njcm9sbFRvcCtzY3JlZW5IZWlnaHQtYy0zMDpzY3JvbGxUb3ArMzA7ZDxlP2U9KHNjcmVlbldpZHRoLWQpLzI6KGU9Yi5idXR0b24ub2Zmc2V0KCkubGVmdCtiLmJ1dHRvbi5vdXRlcldpZHRoKCkvMi1kLzIsZTwzMD9lPTMwOmUrZD5zY3JlZW5XaWR0aCYmKGU9c2NyZWVuV2lkdGgtZC0zMCkpO2IubGlzdGJveC5hcHBlbmQoYi5saXN0KS5yZW1vdmVDbGFzcygidWktc2VsZWN0bWVudS1oaWRkZW4iKS5jc3Moe3RvcDpjLGxlZnQ6ZX0pLmFkZENsYXNzKCJpbiIpO2IubGlzdC5maW5kKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5mb2N1cygpO2IuaXNPcGVuPXRydWV9fX0sX2J1aWxkTGlzdDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz10aGlzLm9wdGlvbnMsZD10aGlzLnBsYWNlaG9sZGVyLGY9W10sZT0NCltdLGg9Yi5pc011bHRpcGxlPyJjaGVja2JveC1vZmYiOiJmYWxzZSI7Yi5saXN0LmVtcHR5KCkuZmlsdGVyKCIudWktbGlzdHZpZXciKS5saXN0dmlldygiZGVzdHJveSIpO2Iuc2VsZWN0LmZpbmQoIm9wdGlvbiIpLmVhY2goZnVuY3Rpb24oZyl7dmFyIGo9YSh0aGlzKSxpPWoucGFyZW50KCksbT1qLmdldEVuY29kZWRUZXh0KCkscD0iPGEgaHJlZj0nIyc+IittKyI8L2E+IixrPVtdLG49W107aS5pcygib3B0Z3JvdXAiKSYmKGk9aS5hdHRyKCJsYWJlbCIpLGEuaW5BcnJheShpLGYpPT09LTEmJihlLnB1c2goIjxsaSBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2xpc3QtZGl2aWRlcic+IitpKyI8L2xpPiIpLGYucHVzaChpKSkpO2lmKCF0aGlzLmdldEF0dHJpYnV0ZSgidmFsdWUiKXx8bS5sZW5ndGg9PTB8fGouanFtRGF0YSgicGxhY2Vob2xkZXIiKSljLmhpZGVQbGFjZWhvbGRlck1lbnVJdGVtcyYmay5wdXNoKCJ1aS1zZWxlY3RtZW51LXBsYWNlaG9sZGVyIiksZD1iLnBsYWNlaG9sZGVyPQ0KbTt0aGlzLmRpc2FibGVkJiYoay5wdXNoKCJ1aS1kaXNhYmxlZCIpLG4ucHVzaCgiYXJpYS1kaXNhYmxlZD0ndHJ1ZSciKSk7ZS5wdXNoKCI8bGkgZGF0YS0iK2EubW9iaWxlLm5zKyJvcHRpb24taW5kZXg9JyIrZysiJyBkYXRhLSIrYS5tb2JpbGUubnMrImljb249JyIraCsiJyBjbGFzcz0nIitrLmpvaW4oIiAiKSsiJyAiK24uam9pbigiICIpKyI+IitwKyI8L2xpPiIpfSk7Yi5saXN0Lmh0bWwoZS5qb2luKCIgIikpO2IubGlzdC5maW5kKCJsaSIpLmF0dHIoe3JvbGU6Im9wdGlvbiIsdGFiaW5kZXg6Ii0xIn0pLmZpcnN0KCkuYXR0cigidGFiaW5kZXgiLCIwIik7dGhpcy5pc011bHRpcGxlfHx0aGlzLmhlYWRlckNsb3NlLmhpZGUoKTshdGhpcy5pc011bHRpcGxlJiYhZC5sZW5ndGg/dGhpcy5oZWFkZXIuaGlkZSgpOnRoaXMuaGVhZGVyVGl0bGUudGV4dCh0aGlzLnBsYWNlaG9sZGVyKTtiLmxpc3QubGlzdHZpZXcoKX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiBhKCI8YT4iLA0Ke2hyZWY6IiMiLHJvbGU6ImJ1dHRvbiIsaWQ6dGhpcy5idXR0b25JZCwiYXJpYS1oYXNwb3B1cCI6InRydWUiLCJhcmlhLW93bnMiOnRoaXMubWVudUlkfSl9fSl9O2EoInNlbGVjdCIpLmxpdmUoInNlbGVjdG1lbnViZWZvcmVjcmVhdGUiLGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKS5kYXRhKCJzZWxlY3RtZW51Iik7Yi5vcHRpb25zLm5hdGl2ZU1lbnV8fGUoYil9KX0pKGpRdWVyeSk7DQooZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS5zZWxlY3RtZW51IixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsZGlzYWJsZWQ6ZmFsc2UsaWNvbjoiYXJyb3ctZCIsaWNvbnBvczoicmlnaHQiLGlubGluZTpudWxsLGNvcm5lcnM6dHJ1ZSxzaGFkb3c6dHJ1ZSxpY29uc2hhZG93OnRydWUsbWVudVBhZ2VUaGVtZToiYiIsb3ZlcmxheVRoZW1lOiJhIixoaWRlUGxhY2Vob2xkZXJNZW51SXRlbXM6dHJ1ZSxjbG9zZVRleHQ6IkNsb3NlIixuYXRpdmVNZW51OnRydWUsaW5pdFNlbGVjdG9yOiJzZWxlY3Q6bm90KDpqcW1EYXRhKHJvbGU9J3NsaWRlcicpKSJ9LF9idXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGRpdi8+Iil9LF9zZXREaXNhYmxlZDpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLGEpO3RoaXMuYnV0dG9uLmF0dHIoImFyaWEtZGlzYWJsZWQiLGEpO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIixhKX0sX2ZvY3VzQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIGE9DQp0aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLmJ1dHRvbi5mb2N1cygpfSw0MCl9LF9zZWxlY3RPcHRpb25zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0LmZpbmQoIm9wdGlvbiIpfSxfcHJlRXh0ZW5zaW9uOmZ1bmN0aW9uKCl7dGhpcy5zZWxlY3Q9dGhpcy5lbGVtZW50LndyYXAoIjxkaXYgY2xhc3M9J3VpLXNlbGVjdCc+Iik7dGhpcy5zZWxlY3RJRD10aGlzLnNlbGVjdC5hdHRyKCJpZCIpO3RoaXMubGFiZWw9YSgibGFiZWxbZm9yPSciK3RoaXMuc2VsZWN0SUQrIiddIikuYWRkQ2xhc3MoInVpLXNlbGVjdCIpO3RoaXMuaXNNdWx0aXBsZT10aGlzLnNlbGVjdFswXS5tdWx0aXBsZTtpZighdGhpcy5vcHRpb25zLnRoZW1lKXRoaXMub3B0aW9ucy50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLnNlbGVjdCwiYyIpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fcHJlRXh0ZW5zaW9uKCk7dGhpcy5fdHJpZ2dlcigiYmVmb3JlQ3JlYXRlIik7dGhpcy5idXR0b249DQp0aGlzLl9idXR0b24oKTt2YXIgZT10aGlzLGI9dGhpcy5vcHRpb25zLGQ9dGhpcy5idXR0b24udGV4dChhKHRoaXMuc2VsZWN0WzBdLm9wdGlvbnMuaXRlbSh0aGlzLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4PT0tMT8wOnRoaXMuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXgpKS50ZXh0KCkpLmluc2VydEJlZm9yZSh0aGlzLnNlbGVjdCkuYnV0dG9uTWFya3VwKHt0aGVtZTpiLnRoZW1lLGljb246Yi5pY29uLGljb25wb3M6Yi5pY29ucG9zLGlubGluZTpiLmlubGluZSxjb3JuZXJzOmIuY29ybmVycyxzaGFkb3c6Yi5zaGFkb3csaWNvbnNoYWRvdzpiLmljb25zaGFkb3d9KTtiLm5hdGl2ZU1lbnUmJndpbmRvdy5vcGVyYSYmd2luZG93Lm9wZXJhLnZlcnNpb24mJnRoaXMuc2VsZWN0LmFkZENsYXNzKCJ1aS1zZWxlY3QtbmF0aXZlb25seSIpO2lmKHRoaXMuaXNNdWx0aXBsZSl0aGlzLmJ1dHRvbkNvdW50PWEoIjxzcGFuPiIpLmFkZENsYXNzKCJ1aS1saS1jb3VudCB1aS1idG4tdXAtYyB1aS1idG4tY29ybmVyLWFsbCIpLmhpZGUoKS5hcHBlbmRUbyhkLmFkZENsYXNzKCJ1aS1saS1oYXMtY291bnQiKSk7DQooYi5kaXNhYmxlZHx8dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIikpJiZ0aGlzLmRpc2FibGUoKTt0aGlzLnNlbGVjdC5jaGFuZ2UoZnVuY3Rpb24oKXtlLnJlZnJlc2goKX0pO3RoaXMuYnVpbGQoKX0sYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuc2VsZWN0LmFwcGVuZFRvKGUuYnV0dG9uKS5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe2UuYnV0dG9uLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImZvY3VzIHZtb3VzZW92ZXIiLGZ1bmN0aW9uKCl7ZS5idXR0b24udHJpZ2dlcigidm1vdXNlb3ZlciIpfSkuYmluZCgidm1vdXNlbW92ZSIsZnVuY3Rpb24oKXtlLmJ1dHRvbi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJjaGFuZ2UgYmx1ciB2bW91c2VvdXQiLGZ1bmN0aW9uKCl7ZS5idXR0b24udHJpZ2dlcigidm1vdXNlb3V0IikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2hhbmdlIGJsdXIiLA0KZnVuY3Rpb24oKXtlLmJ1dHRvbi5yZW1vdmVDbGFzcygidWktYnRuLWRvd24tIitlLm9wdGlvbnMudGhlbWUpfSl9LHNlbGVjdGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdE9wdGlvbnMoKS5maWx0ZXIoIjpzZWxlY3RlZCIpfSxzZWxlY3RlZEluZGljZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiB0aGlzLnNlbGVjdGVkKCkubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGEuX3NlbGVjdE9wdGlvbnMoKS5pbmRleCh0aGlzKX0pLmdldCgpfSxzZXRCdXR0b25UZXh0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxiPXRoaXMuc2VsZWN0ZWQoKTt0aGlzLmJ1dHRvbi5maW5kKCIudWktYnRuLXRleHQiKS50ZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIWUuaXNNdWx0aXBsZT9iLnRleHQoKTpiLmxlbmd0aD9iLm1hcChmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLnRleHQoKX0pLmdldCgpLmpvaW4oIiwgIik6ZS5wbGFjZWhvbGRlcn0pfSxzZXRCdXR0b25Db3VudDpmdW5jdGlvbigpe3ZhciBhPQ0KdGhpcy5zZWxlY3RlZCgpO3RoaXMuaXNNdWx0aXBsZSYmdGhpcy5idXR0b25Db3VudFthLmxlbmd0aD4xPyJzaG93IjoiaGlkZSJdKCkudGV4dChhLmxlbmd0aCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLnNldEJ1dHRvblRleHQoKTt0aGlzLnNldEJ1dHRvbkNvdW50KCl9LG9wZW46YS5ub29wLGNsb3NlOmEubm9vcCxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0RGlzYWJsZWQodHJ1ZSk7dGhpcy5idXR0b24uYWRkQ2xhc3MoInVpLWRpc2FibGVkIil9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuX3NldERpc2FibGVkKGZhbHNlKTt0aGlzLmJ1dHRvbi5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oZSl7YS5tb2JpbGUuc2VsZWN0bWVudS5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihlLnRhcmdldCl9KX0pKGpRdWVyeSk7DQooZnVuY3Rpb24oYSxlKXtmdW5jdGlvbiBiKGIpe2Zvcih2YXIgYztiOyl7aWYoKGM9dHlwZW9mIGIuY2xhc3NOYW1lPT09InN0cmluZyImJmIuY2xhc3NOYW1lLnNwbGl0KCIgIikpJiZhLmluQXJyYXkoInVpLWJ0biIsYyk+LTEmJmEuaW5BcnJheSgidWktZGlzYWJsZWQiLGMpPDApYnJlYWs7Yj1iLnBhcmVudE5vZGV9cmV0dXJuIGJ9YS5mbi5idXR0b25NYXJrdXA9ZnVuY3Rpb24oYil7Zm9yKHZhciBiPWJ8fHt9LGM9MDtjPHRoaXMubGVuZ3RoO2MrKyl7dmFyIGg9dGhpcy5lcShjKSxnPWhbMF0saT1hLmV4dGVuZCh7fSxhLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cyx7aWNvbjpiLmljb24hPT1lP2IuaWNvbjpoLmpxbURhdGEoImljb24iKSxpY29ucG9zOmIuaWNvbnBvcyE9PWU/Yi5pY29ucG9zOmguanFtRGF0YSgiaWNvbnBvcyIpLHRoZW1lOmIudGhlbWUhPT1lP2IudGhlbWU6aC5qcW1EYXRhKCJ0aGVtZSIpLGlubGluZTpiLmlubGluZSE9PWU/Yi5pbmxpbmU6aC5qcW1EYXRhKCJpbmxpbmUiKSwNCnNoYWRvdzpiLnNoYWRvdyE9PWU/Yi5zaGFkb3c6aC5qcW1EYXRhKCJzaGFkb3ciKSxjb3JuZXJzOmIuY29ybmVycyE9PWU/Yi5jb3JuZXJzOmguanFtRGF0YSgiY29ybmVycyIpLGljb25zaGFkb3c6Yi5pY29uc2hhZG93IT09ZT9iLmljb25zaGFkb3c6aC5qcW1EYXRhKCJpY29uc2hhZG93Iil9LGIpLGs9InVpLWJ0bi1pbm5lciIsbCxvLG09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpLndyYXBwZXJFbHMpLHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpLndyYXBwZXJFbHMpLGo9aS5pY29uP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTpudWxsO2QmJmQoKTtpZighaS50aGVtZSlpLnRoZW1lPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGgsImMiKTtsPSJ1aS1idG4gdWktYnRuLXVwLSIraS50aGVtZTtpLmlubGluZSYmKGwrPSIgdWktYnRuLWlubGluZSIpO2lmKGkuaWNvbilpLmljb249InVpLWljb24tIitpLmljb24saS5pY29ucG9zPWkuaWNvbnBvc3x8ImxlZnQiLA0Kbz0idWktaWNvbiAiK2kuaWNvbixpLmljb25zaGFkb3cmJihvKz0iIHVpLWljb24tc2hhZG93Iik7aS5pY29ucG9zJiYobCs9IiB1aS1idG4taWNvbi0iK2kuaWNvbnBvcyxpLmljb25wb3M9PSJub3RleHQiJiYhaC5hdHRyKCJ0aXRsZSIpJiZoLmF0dHIoInRpdGxlIixoLmdldEVuY29kZWRUZXh0KCkpKTtpLmNvcm5lcnMmJihsKz0iIHVpLWJ0bi1jb3JuZXItYWxsIixrKz0iIHVpLWJ0bi1jb3JuZXItYWxsIik7aS5zaGFkb3cmJihsKz0iIHVpLXNoYWRvdyIpO2cuc2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIixpLnRoZW1lKTtoLmFkZENsYXNzKGwpO20uY2xhc3NOYW1lPWs7bS5zZXRBdHRyaWJ1dGUoImFyaWEtaGlkZGVuIiwidHJ1ZSIpO3AuY2xhc3NOYW1lPSJ1aS1idG4tdGV4dCI7bS5hcHBlbmRDaGlsZChwKTtpZihqKWouY2xhc3NOYW1lPW8sbS5hcHBlbmRDaGlsZChqKTtmb3IoO2cuZmlyc3RDaGlsZDspcC5hcHBlbmRDaGlsZChnLmZpcnN0Q2hpbGQpOw0KZy5hcHBlbmRDaGlsZChtKTthLmRhdGEoZywidGV4dFdyYXBwZXIiLGEocCkpfXJldHVybiB0aGlzfTthLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cz17Y29ybmVyczp0cnVlLHNoYWRvdzp0cnVlLGljb25zaGFkb3c6dHJ1ZSxpbmxpbmU6ZmFsc2Usd3JhcHBlckVsczoic3BhbiJ9O3ZhciBkPWZ1bmN0aW9uKCl7YShkb2N1bWVudCkuYmluZCh7dm1vdXNlZG93bjpmdW5jdGlvbihkKXt2YXIgZD1iKGQudGFyZ2V0KSxjO2QmJihkPWEoZCksYz1kLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiKSxkLnJlbW92ZUNsYXNzKCJ1aS1idG4tdXAtIitjKS5hZGRDbGFzcygidWktYnRuLWRvd24tIitjKSl9LCJ2bW91c2VjYW5jZWwgdm1vdXNldXAiOmZ1bmN0aW9uKGQpe3ZhciBkPWIoZC50YXJnZXQpLGM7ZCYmKGQ9YShkKSxjPWQuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIpLGQucmVtb3ZlQ2xhc3MoInVpLWJ0bi1kb3duLSIrYykuYWRkQ2xhc3MoInVpLWJ0bi11cC0iKw0KYykpfSwidm1vdXNlb3ZlciBmb2N1cyI6ZnVuY3Rpb24oZCl7dmFyIGQ9YihkLnRhcmdldCksYztkJiYoZD1hKGQpLGM9ZC5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIiksZC5yZW1vdmVDbGFzcygidWktYnRuLXVwLSIrYykuYWRkQ2xhc3MoInVpLWJ0bi1ob3Zlci0iK2MpKX0sInZtb3VzZW91dCBibHVyIjpmdW5jdGlvbihkKXt2YXIgZD1iKGQudGFyZ2V0KSxjO2QmJihkPWEoZCksYz1kLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiKSxkLnJlbW92ZUNsYXNzKCJ1aS1idG4taG92ZXItIitjKyIgdWktYnRuLWRvd24tIitjKS5hZGRDbGFzcygidWktYnRuLXVwLSIrYykpfX0pO2Q9bnVsbH07YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EoIjpqcW1EYXRhKHJvbGU9J2J1dHRvbicpLCAudWktYmFyID4gYSwgLnVpLWhlYWRlciA+IGEsIC51aS1mb290ZXIgPiBhLCAudWktYmFyID4gOmpxbURhdGEocm9sZT0nY29udHJvbGdyb3VwJykgPiBhIiwNCmIudGFyZ2V0KS5ub3QoIi51aS1idG4sIDpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIikuYnV0dG9uTWFya3VwKCl9KX0pKGpRdWVyeSk7DQooZnVuY3Rpb24oYSl7YS5mbi5jb250cm9sZ3JvdXA9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSl7YS5yZW1vdmVDbGFzcygidWktYnRuLWNvcm5lci1hbGwgdWktc2hhZG93IikuZXEoMCkuYWRkQ2xhc3MoaFswXSkuZW5kKCkubGFzdCgpLmFkZENsYXNzKGhbMV0pLmFkZENsYXNzKCJ1aS1jb250cm9sZ3JvdXAtbGFzdCIpfXZhciBkPWEodGhpcyksZj1hLmV4dGVuZCh7ZGlyZWN0aW9uOmQuanFtRGF0YSgidHlwZSIpfHwidmVydGljYWwiLHNoYWRvdzpmYWxzZSxleGNsdWRlSW52aXNpYmxlOnRydWV9LGUpLGM9ZC5jaGlsZHJlbigibGVnZW5kIiksaD1mLmRpcmVjdGlvbj09Imhvcml6b250YWwiP1sidWktY29ybmVyLWxlZnQiLCJ1aS1jb3JuZXItcmlnaHQiXTpbInVpLWNvcm5lci10b3AiLCJ1aS1jb3JuZXItYm90dG9tIl07ZC5maW5kKCJpbnB1dCIpLmZpcnN0KCkuYXR0cigidHlwZSIpO2MubGVuZ3RoJiYoZC53cmFwSW5uZXIoIjxkaXYgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1jb250cm9scyc+PC9kaXY+IiksDQphKCI8ZGl2IHJvbGU9J2hlYWRpbmcnIGNsYXNzPSd1aS1jb250cm9sZ3JvdXAtbGFiZWwnPiIrYy5odG1sKCkrIjwvZGl2PiIpLmluc2VydEJlZm9yZShkLmNoaWxkcmVuKDApKSxjLnJlbW92ZSgpKTtkLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIHVpLWNvbnRyb2xncm91cCB1aS1jb250cm9sZ3JvdXAtIitmLmRpcmVjdGlvbik7YihkLmZpbmQoIi51aS1idG4iKyhmLmV4Y2x1ZGVJbnZpc2libGU/Ijp2aXNpYmxlIjoiIikpKTtiKGQuZmluZCgiLnVpLWJ0bi1pbm5lciIpKTtmLnNoYWRvdyYmZC5hZGRDbGFzcygidWktc2hhZG93Iil9KX07YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGUpe2EoIjpqcW1EYXRhKHJvbGU9J2NvbnRyb2xncm91cCcpIixlLnRhcmdldCkuY29udHJvbGdyb3VwKHtleGNsdWRlSW52aXNpYmxlOmZhbHNlfSl9KX0pKGpRdWVyeSk7DQooZnVuY3Rpb24oYSl7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGUpe2EoZS50YXJnZXQpLmZpbmQoImEiKS5ub3QoIi51aS1idG4sIC51aS1saW5rLWluaGVyaXQsIDpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIikuYWRkQ2xhc3MoInVpLWxpbmsiKX0pfSkoalF1ZXJ5KTsNCihmdW5jdGlvbihhLGUpe2EuZm4uZml4SGVhZGVyRm9vdGVyPWZ1bmN0aW9uKCl7cmV0dXJuIWEuc3VwcG9ydC5zY3JvbGxUb3B8fGEuc3VwcG9ydC50b3VjaE92ZXJmbG93JiZhLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZD90aGlzOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7Yi5qcW1EYXRhKCJmdWxsc2NyZWVuIikmJmIuYWRkQ2xhc3MoInVpLXBhZ2UtZnVsbHNjcmVlbiIpO2IuZmluZCgiLnVpLWhlYWRlcjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpIikuYWRkQ2xhc3MoInVpLWhlYWRlci1maXhlZCB1aS1maXhlZC1pbmxpbmUgZmFkZSIpO2IuZmluZCgiLnVpLWZvb3RlcjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpIikuYWRkQ2xhc3MoInVpLWZvb3Rlci1maXhlZCB1aS1maXhlZC1pbmxpbmUgZmFkZSIpfSl9O2EubW9iaWxlLmZpeGVkVG9vbGJhcnM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKCl7IWkmJmc9PT0ib3ZlcmxheSImJihofHxhLm1vYmlsZS5maXhlZFRvb2xiYXJzLmhpZGUodHJ1ZSksDQphLm1vYmlsZS5maXhlZFRvb2xiYXJzLnN0YXJ0U2hvd1RpbWVyKCkpfWZ1bmN0aW9uIGQoYSl7dmFyIGI9MCxjLGQ7aWYoYSl7ZD1kb2N1bWVudC5ib2R5O2M9YS5vZmZzZXRQYXJlbnQ7Zm9yKGI9YS5vZmZzZXRUb3A7YSYmYSE9ZDspe2IrPWEuc2Nyb2xsVG9wfHwwO2lmKGE9PWMpYis9Yy5vZmZzZXRUb3AsYz1hLm9mZnNldFBhcmVudDthPWEucGFyZW50Tm9kZX19cmV0dXJuIGJ9ZnVuY3Rpb24gZihiKXt2YXIgYz1hKHdpbmRvdykuc2Nyb2xsVG9wKCksZT1kKGJbMF0pLGY9Yi5jc3MoInRvcCIpPT0iYXV0byI/MDpwYXJzZUZsb2F0KGIuY3NzKCJ0b3AiKSksaD13aW5kb3cuaW5uZXJIZWlnaHQsZz1iLm91dGVySGVpZ2h0KCksaT1iLnBhcmVudHMoIi51aS1wYWdlOm5vdCgudWktcGFnZS1mdWxsc2NyZWVuKSIpLmxlbmd0aDtyZXR1cm4gYi5pcygiLnVpLWhlYWRlci1maXhlZCIpPyhmPWMtZStmLGY8ZSYmKGY9MCksYi5jc3MoInRvcCIsaT9mOmMpKTpiLmNzcygidG9wIixpP2MrDQpoLWctKGUtZik6YytoLWcpfWlmKGEuc3VwcG9ydC5zY3JvbGxUb3AmJighYS5zdXBwb3J0LnRvdWNoT3ZlcmZsb3d8fCFhLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZCkpe3ZhciBjLGgsZz0iaW5saW5lIixpPWZhbHNlLGs9bnVsbCxsPWZhbHNlLG89dHJ1ZTthKGZ1bmN0aW9uKCl7dmFyIGM9YShkb2N1bWVudCksZD1hKHdpbmRvdyk7Yy5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe28mJihrPWcpfSkuYmluZCgidmNsaWNrIixmdW5jdGlvbihiKXtvJiYhYShiLnRhcmdldCkuY2xvc2VzdCgiYSxpbnB1dCx0ZXh0YXJlYSxzZWxlY3QsYnV0dG9uLGxhYmVsLC51aS1oZWFkZXItZml4ZWQsLnVpLWZvb3Rlci1maXhlZCIpLmxlbmd0aCYmIWwmJihhLm1vYmlsZS5maXhlZFRvb2xiYXJzLnRvZ2dsZShrKSxrPW51bGwpfSkuYmluZCgic2lsZW50c2Nyb2xsIixiKTsoYy5zY3JvbGxUb3AoKT09PTA/ZDpjKS5iaW5kKCJzY3JvbGxzdGFydCIsZnVuY3Rpb24oKXtsPXRydWU7az09PQ0KbnVsbCYmKGs9Zyk7dmFyIGI9az09Im92ZXJsYXkiO2lmKGk9Ynx8ISFoKWEubW9iaWxlLmZpeGVkVG9vbGJhcnMuY2xlYXJTaG93VGltZXIoKSxiJiZhLm1vYmlsZS5maXhlZFRvb2xiYXJzLmhpZGUodHJ1ZSl9KS5iaW5kKCJzY3JvbGxzdG9wIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5jbG9zZXN0KCJhLGlucHV0LHRleHRhcmVhLHNlbGVjdCxidXR0b24sbGFiZWwsLnVpLWhlYWRlci1maXhlZCwudWktZm9vdGVyLWZpeGVkIikubGVuZ3RofHwobD1mYWxzZSxpJiYoYS5tb2JpbGUuZml4ZWRUb29sYmFycy5zdGFydFNob3dUaW1lcigpLGk9ZmFsc2UpLGs9bnVsbCl9KTtkLmJpbmQoInJlc2l6ZSB1cGRhdGVsYXlvdXQiLGIpfSk7YSgiLnVpLXBhZ2UiKS5saXZlKCJwYWdlYmVmb3Jlc2hvdyIsZnVuY3Rpb24oYixkKXt2YXIgZT1hKGIudGFyZ2V0KS5maW5kKCI6anFtRGF0YShyb2xlPSdmb290ZXInKSIpLGg9ZS5kYXRhKCJpZCIpLGc9ZC5wcmV2UGFnZSxnPWcmJmcuZmluZCgiOmpxbURhdGEocm9sZT0nZm9vdGVyJykiKSwNCmc9Zy5sZW5ndGgmJmcuanFtRGF0YSgiaWQiKT09PWg7aCYmZyYmKGM9ZSxmKGMucmVtb3ZlQ2xhc3MoImZhZGUgaW4gb3V0IikuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lcikpKX0pLmxpdmUoInBhZ2VzaG93IixmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7YyYmYy5sZW5ndGgmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtmKGMuYXBwZW5kVG8oYikuYWRkQ2xhc3MoImZhZGUiKSk7Yz1udWxsfSw1MDApO2EubW9iaWxlLmZpeGVkVG9vbGJhcnMuc2hvdyh0cnVlLHRoaXMpfSk7YSgiLnVpLWNvbGxhcHNpYmxlLWNvbnRhaW4iKS5saXZlKCJjb2xsYXBzZSBleHBhbmQiLGIpO3JldHVybntzaG93OmZ1bmN0aW9uKGIsYyl7YS5tb2JpbGUuZml4ZWRUb29sYmFycy5jbGVhclNob3dUaW1lcigpO2c9Im92ZXJsYXkiO3JldHVybihjP2EoYyk6YS5tb2JpbGUuYWN0aXZlUGFnZT9hLm1vYmlsZS5hY3RpdmVQYWdlOmEoIi51aS1wYWdlLWFjdGl2ZSIpKS5jaGlsZHJlbigiLnVpLWhlYWRlci1maXhlZDpmaXJzdCwgLnVpLWZvb3Rlci1maXhlZDpub3QoLnVpLWZvb3Rlci1kdXBsaWNhdGUpOmxhc3QiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9DQphKHRoaXMpLGU9YSh3aW5kb3cpLnNjcm9sbFRvcCgpLGg9ZChjWzBdKSxnPXdpbmRvdy5pbm5lckhlaWdodCxpPWMub3V0ZXJIZWlnaHQoKSxlPWMuaXMoIi51aS1oZWFkZXItZml4ZWQiKSYmZTw9aCtpfHxjLmlzKCIudWktZm9vdGVyLWZpeGVkIikmJmg8PWUrZztjLmFkZENsYXNzKCJ1aS1maXhlZC1vdmVybGF5IikucmVtb3ZlQ2xhc3MoInVpLWZpeGVkLWlubGluZSIpOyFlJiYhYiYmYy5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoImluIil9KS5hZGRDbGFzcygiaW4iKTtmKGMpfSl9LGhpZGU6ZnVuY3Rpb24oYil7Zz0iaW5saW5lIjtyZXR1cm4oYS5tb2JpbGUuYWN0aXZlUGFnZT9hLm1vYmlsZS5hY3RpdmVQYWdlOmEoIi51aS1wYWdlLWFjdGl2ZSIpKS5jaGlsZHJlbigiLnVpLWhlYWRlci1maXhlZDpmaXJzdCwgLnVpLWZvb3Rlci1maXhlZDpub3QoLnVpLWZvb3Rlci1kdXBsaWNhdGUpOmxhc3QiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKSwNCmQ9Yy5jc3MoInRvcCIpLGQ9ZD09ImF1dG8iPzA6cGFyc2VGbG9hdChkKTtjLmFkZENsYXNzKCJ1aS1maXhlZC1pbmxpbmUiKS5yZW1vdmVDbGFzcygidWktZml4ZWQtb3ZlcmxheSIpO2lmKGQ8MHx8Yy5pcygiLnVpLWhlYWRlci1maXhlZCIpJiZkIT09MCliP2MuY3NzKCJ0b3AiLDApOmMuY3NzKCJ0b3AiKSE9PSJhdXRvIiYmcGFyc2VGbG9hdChjLmNzcygidG9wIikpIT09MCYmYy5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoIm91dCByZXZlcnNlIikuY3NzKCJ0b3AiLDApfSkuYWRkQ2xhc3MoIm91dCByZXZlcnNlIil9KX0sc3RhcnRTaG93VGltZXI6ZnVuY3Rpb24oKXthLm1vYmlsZS5maXhlZFRvb2xiYXJzLmNsZWFyU2hvd1RpbWVyKCk7dmFyIGI9W10uc2xpY2UuY2FsbChhcmd1bWVudHMpO2g9c2V0VGltZW91dChmdW5jdGlvbigpe2g9ZTthLm1vYmlsZS5maXhlZFRvb2xiYXJzLnNob3cuYXBwbHkobnVsbCxiKX0sMTAwKX0sY2xlYXJTaG93VGltZXI6ZnVuY3Rpb24oKXtoJiYNCmNsZWFyVGltZW91dChoKTtoPWV9LHRvZ2dsZTpmdW5jdGlvbihiKXtiJiYoZz1iKTtyZXR1cm4gZz09PSJvdmVybGF5Ij9hLm1vYmlsZS5maXhlZFRvb2xiYXJzLmhpZGUoKTphLm1vYmlsZS5maXhlZFRvb2xiYXJzLnNob3coKX0sc2V0VG91Y2hUb2dnbGVFbmFibGVkOmZ1bmN0aW9uKGEpe289YX19fX0oKTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YSgiOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiLGIudGFyZ2V0KS5sZW5ndGgmJmEoYi50YXJnZXQpLmVhY2goZnVuY3Rpb24oKXtpZighYS5zdXBwb3J0LnNjcm9sbFRvcHx8YS5zdXBwb3J0LnRvdWNoT3ZlcmZsb3cmJmEubW9iaWxlLnRvdWNoT3ZlcmZsb3dFbmFibGVkKXJldHVybiB0aGlzO3ZhciBiPWEodGhpcyk7Yi5qcW1EYXRhKCJmdWxsc2NyZWVuIikmJmIuYWRkQ2xhc3MoInVpLXBhZ2UtZnVsbHNjcmVlbiIpO2IuZmluZCgiLnVpLWhlYWRlcjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpIikuYWRkQ2xhc3MoInVpLWhlYWRlci1maXhlZCB1aS1maXhlZC1pbmxpbmUgZmFkZSIpOw0KYi5maW5kKCIudWktZm9vdGVyOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiKS5hZGRDbGFzcygidWktZm9vdGVyLWZpeGVkIHVpLWZpeGVkLWlubGluZSBmYWRlIil9KX0pfSkoalF1ZXJ5KTsNCihmdW5jdGlvbihhKXthLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZD1mYWxzZTthLm1vYmlsZS50b3VjaE92ZXJmbG93Wm9vbUVuYWJsZWQ9ZmFsc2U7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSIsZnVuY3Rpb24oZSl7YS5zdXBwb3J0LnRvdWNoT3ZlcmZsb3cmJmEubW9iaWxlLnRvdWNoT3ZlcmZsb3dFbmFibGVkJiYoZT1hKGUudGFyZ2V0KSxlLmlzKCI6anFtRGF0YShyb2xlPSdwYWdlJykiKSYmZS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxkPWIuZmluZCgiOmpxbURhdGEocm9sZT0naGVhZGVyJyksIDpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIikuZmlsdGVyKCI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSIpLGU9Yi5qcW1EYXRhKCJmdWxsc2NyZWVuIiksYz1kLmxlbmd0aD9iLmZpbmQoIi51aS1jb250ZW50Iik6YjtiLmFkZENsYXNzKCJ1aS1tb2JpbGUtdG91Y2gtb3ZlcmZsb3ciKTtjLmJpbmQoInNjcm9sbHN0b3AiLGZ1bmN0aW9uKCl7Yy5zY3JvbGxUb3AoKT4NCjAmJndpbmRvdy5zY3JvbGxUbygwLGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsKX0pO2QubGVuZ3RoJiYoYi5hZGRDbGFzcygidWktbmF0aXZlLWZpeGVkIiksZSYmKGIuYWRkQ2xhc3MoInVpLW5hdGl2ZS1mdWxsc2NyZWVuIiksZC5hZGRDbGFzcygiZmFkZSBpbiIpLGEoZG9jdW1lbnQpLmJpbmQoInZjbGljayIsZnVuY3Rpb24oKXtkLnJlbW92ZUNsYXNzKCJ1aS1uYXRpdmUtYmFycy1oaWRkZW4iKS50b2dnbGVDbGFzcygiaW4gb3V0IikuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKXthKHRoaXMpLm5vdCgiLmluIikuYWRkQ2xhc3MoInVpLW5hdGl2ZS1iYXJzLWhpZGRlbiIpfSl9KSkpfSkpfSl9KShqUXVlcnkpOw0KKGZ1bmN0aW9uKGEsZSl7ZnVuY3Rpb24gYigpe3ZhciBiPWEoIm1ldGFbbmFtZT0ndmlld3BvcnQnXSIpO2IubGVuZ3RoP2IuYXR0cigiY29udGVudCIsYi5hdHRyKCJjb250ZW50IikrIiwgdXNlci1zY2FsYWJsZT1ubyIpOmEoImhlYWQiKS5wcmVwZW5kKCI8bWV0YT4iLHtuYW1lOiJ2aWV3cG9ydCIsY29udGVudDoidXNlci1zY2FsYWJsZT1ubyJ9KX12YXIgZD1hKCJodG1sIik7YSgiaGVhZCIpO3ZhciBmPWEoZSk7YShlLmRvY3VtZW50KS50cmlnZ2VyKCJtb2JpbGVpbml0Iik7aWYoYS5tb2JpbGUuZ3JhZGVBKCkpe2lmKGEubW9iaWxlLmFqYXhCbGFja2xpc3QpYS5tb2JpbGUuYWpheEVuYWJsZWQ9ZmFsc2U7ZC5hZGRDbGFzcygidWktbW9iaWxlIHVpLW1vYmlsZS1yZW5kZXJpbmciKTt2YXIgYz1hKCI8ZGl2IGNsYXNzPSd1aS1sb2FkZXIgdWktYm9keS1hIHVpLWNvcm5lci1hbGwnPjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tbG9hZGluZyBzcGluJz48L3NwYW4+PGgxPjwvaDE+PC9kaXY+Iik7DQphLmV4dGVuZChhLm1vYmlsZSx7c2hvd1BhZ2VMb2FkaW5nTXNnOmZ1bmN0aW9uKCl7aWYoYS5tb2JpbGUubG9hZGluZ01lc3NhZ2Upe3ZhciBiPWEoIi4iK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5maXJzdCgpO2MuZmluZCgiaDEiKS50ZXh0KGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlKS5lbmQoKS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKS5jc3Moe3RvcDphLnN1cHBvcnQuc2Nyb2xsVG9wJiZmLnNjcm9sbFRvcCgpK2YuaGVpZ2h0KCkvMnx8Yi5sZW5ndGgmJmIub2Zmc2V0KCkudG9wfHwxMDB9KX1kLmFkZENsYXNzKCJ1aS1sb2FkaW5nIil9LGhpZGVQYWdlTG9hZGluZ01zZzpmdW5jdGlvbigpe2QucmVtb3ZlQ2xhc3MoInVpLWxvYWRpbmciKX0saW5pdGlhbGl6ZVBhZ2U6ZnVuY3Rpb24oKXt2YXIgYj1hKCI6anFtRGF0YShyb2xlPSdwYWdlJykiKTtiLmxlbmd0aHx8KGI9YSgiYm9keSIpLndyYXBJbm5lcigiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J3BhZ2UnPjwvZGl2PiIpLmNoaWxkcmVuKDApKTsNCmIuYWRkKCI6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IuanFtRGF0YSgidXJsIil8fGIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmwiLGIuYXR0cigiaWQiKXx8bG9jYXRpb24ucGF0aG5hbWUrbG9jYXRpb24uc2VhcmNoKX0pO2EubW9iaWxlLmZpcnN0UGFnZT1iLmZpcnN0KCk7YS5tb2JpbGUucGFnZUNvbnRhaW5lcj1iLmZpcnN0KCkucGFyZW50KCkuYWRkQ2xhc3MoInVpLW1vYmlsZS12aWV3cG9ydCIpO2YudHJpZ2dlcigicGFnZWNvbnRhaW5lcmNyZWF0ZSIpO2EubW9iaWxlLnNob3dQYWdlTG9hZGluZ01zZygpOyFhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZHx8IWEubW9iaWxlLnBhdGguc3RyaXBIYXNoKGxvY2F0aW9uLmhhc2gpP2EubW9iaWxlLmNoYW5nZVBhZ2UoYS5tb2JpbGUuZmlyc3RQYWdlLHt0cmFuc2l0aW9uOiJub25lIixyZXZlcnNlOnRydWUsY2hhbmdlSGFzaDpmYWxzZSxmcm9tSGFzaENoYW5nZTp0cnVlfSk6DQpmLnRyaWdnZXIoImhhc2hjaGFuZ2UiLFt0cnVlXSl9fSk7YS5zdXBwb3J0LnRvdWNoT3ZlcmZsb3cmJmEubW9iaWxlLnRvdWNoT3ZlcmZsb3dFbmFibGVkJiYhYS5tb2JpbGUudG91Y2hPdmVyZmxvd1pvb21FbmFibGVkJiZiKCk7YS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHMoKTthKGZ1bmN0aW9uKCl7ZS5zY3JvbGxUbygwLDEpO2EubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsPSFhLnN1cHBvcnQuc2Nyb2xsVG9wfHxhKGUpLnNjcm9sbFRvcCgpPT09MT8wOjE7YS5tb2JpbGUuYXV0b0luaXRpYWxpemVQYWdlJiZhLm1vYmlsZS5pbml0aWFsaXplUGFnZSgpO2YubG9hZChhLm1vYmlsZS5zaWxlbnRTY3JvbGwpfSl9fSkoalF1ZXJ5LHRoaXMpOw==",
                "body": "LyohIGpRdWVyeSBNb2JpbGUgdjEuMCBqcXVlcnltb2JpbGUuY29tIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovDQooZnVuY3Rpb24oYSxlKXtpZihhLmNsZWFuRGF0YSl7dmFyIGI9YS5jbGVhbkRhdGE7YS5jbGVhbkRhdGE9ZnVuY3Rpb24oZil7Zm9yKHZhciBjPTAsaDsoaD1mW2NdKSE9bnVsbDtjKyspYShoKS50cmlnZ2VySGFuZGxlcigicmVtb3ZlIik7YihmKX19ZWxzZXt2YXIgZD1hLmZuLnJlbW92ZTthLmZuLnJlbW92ZT1mdW5jdGlvbihiLGMpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtjfHwoIWJ8fGEuZmlsdGVyKGIsW3RoaXNdKS5sZW5ndGgpJiZhKCIqIix0aGlzKS5hZGQoW3RoaXNdKS5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS50cmlnZ2VySGFuZGxlcigicmVtb3ZlIil9KTtyZXR1cm4gZC5jYWxsKGEodGhpcyksYixjKX0pfX1hLndpZGdldD1mdW5jdGlvbihiLGMsaCl7dmFyIGQ9Yi5zcGxpdCgiLiIpWzBdLGUsYj1iLnNwbGl0KCIuIilbMV07ZT1kKyItIitiO2lmKCFoKWg9YyxjPWEuV2lkZ2V0O2EuZXhwclsiOiJdW2VdPWZ1bmN0aW9uKGMpe3JldHVybiEhYS5kYXRhKGMsDQpiKX07YVtkXT1hW2RdfHx7fTthW2RdW2JdPWZ1bmN0aW9uKGEsYil7YXJndW1lbnRzLmxlbmd0aCYmdGhpcy5fY3JlYXRlV2lkZ2V0KGEsYil9O2M9bmV3IGM7Yy5vcHRpb25zPWEuZXh0ZW5kKHRydWUse30sYy5vcHRpb25zKTthW2RdW2JdLnByb3RvdHlwZT1hLmV4dGVuZCh0cnVlLGMse25hbWVzcGFjZTpkLHdpZGdldE5hbWU6Yix3aWRnZXRFdmVudFByZWZpeDphW2RdW2JdLnByb3RvdHlwZS53aWRnZXRFdmVudFByZWZpeHx8Yix3aWRnZXRCYXNlQ2xhc3M6ZX0saCk7YS53aWRnZXQuYnJpZGdlKGIsYVtkXVtiXSl9O2Eud2lkZ2V0LmJyaWRnZT1mdW5jdGlvbihiLGMpe2EuZm5bYl09ZnVuY3Rpb24oZCl7dmFyIGc9dHlwZW9mIGQ9PT0ic3RyaW5nIixpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxrPXRoaXMsZD0hZyYmaS5sZW5ndGg/YS5leHRlbmQuYXBwbHkobnVsbCxbdHJ1ZSxkXS5jb25jYXQoaSkpOmQ7aWYoZyYmZC5jaGFyQXQoMCk9PT0iXyIpcmV0dXJuIGs7DQpnP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEuZGF0YSh0aGlzLGIpO2lmKCFjKXRocm93ImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gIitiKyIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247IGF0dGVtcHRlZCB0byBjYWxsIG1ldGhvZCAnIitkKyInIjtpZighYS5pc0Z1bmN0aW9uKGNbZF0pKXRocm93Im5vIHN1Y2ggbWV0aG9kICciK2QrIicgZm9yICIrYisiIHdpZGdldCBpbnN0YW5jZSI7dmFyIGc9Y1tkXS5hcHBseShjLGkpO2lmKGchPT1jJiZnIT09ZSlyZXR1cm4gaz1nLGZhbHNlfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9YS5kYXRhKHRoaXMsYik7ZT9lLm9wdGlvbihkfHx7fSkuX2luaXQoKTphLmRhdGEodGhpcyxiLG5ldyBjKGQsdGhpcykpfSk7cmV0dXJuIGt9fTthLldpZGdldD1mdW5jdGlvbihhLGIpe2FyZ3VtZW50cy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVdpZGdldChhLGIpfTthLldpZGdldC5wcm90b3R5cGU9e3dpZGdldE5hbWU6IndpZGdldCIsd2lkZ2V0RXZlbnRQcmVmaXg6IiIsDQpvcHRpb25zOntkaXNhYmxlZDpmYWxzZX0sX2NyZWF0ZVdpZGdldDpmdW5jdGlvbihiLGMpe2EuZGF0YShjLHRoaXMud2lkZ2V0TmFtZSx0aGlzKTt0aGlzLmVsZW1lbnQ9YShjKTt0aGlzLm9wdGlvbnM9YS5leHRlbmQodHJ1ZSx7fSx0aGlzLm9wdGlvbnMsdGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLGIpO3ZhciBkPXRoaXM7dGhpcy5lbGVtZW50LmJpbmQoInJlbW92ZS4iK3RoaXMud2lkZ2V0TmFtZSxmdW5jdGlvbigpe2QuZGVzdHJveSgpfSk7dGhpcy5fY3JlYXRlKCk7dGhpcy5fdHJpZ2dlcigiY3JlYXRlIik7dGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBiPXt9O2EubWV0YWRhdGEmJihiPWEubWV0YWRhdGEuZ2V0KGVsZW1lbnQpW3RoaXMud2lkZ2V0TmFtZV0pO3JldHVybiBifSxfY3JlYXRlOmZ1bmN0aW9uKCl7fSxfaW5pdDpmdW5jdGlvbigpe30sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC51bmJpbmQoIi4iK3RoaXMud2lkZ2V0TmFtZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldE5hbWUpOw0KdGhpcy53aWRnZXQoKS51bmJpbmQoIi4iK3RoaXMud2lkZ2V0TmFtZSkucmVtb3ZlQXR0cigiYXJpYS1kaXNhYmxlZCIpLnJlbW92ZUNsYXNzKHRoaXMud2lkZ2V0QmFzZUNsYXNzKyItZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWQiKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudH0sb3B0aW9uOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YjtpZihhcmd1bWVudHMubGVuZ3RoPT09MClyZXR1cm4gYS5leHRlbmQoe30sdGhpcy5vcHRpb25zKTtpZih0eXBlb2YgYj09PSJzdHJpbmciKXtpZihjPT09ZSlyZXR1cm4gdGhpcy5vcHRpb25zW2JdO2Q9e307ZFtiXT1jfXRoaXMuX3NldE9wdGlvbnMoZCk7cmV0dXJuIHRoaXN9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXM7YS5lYWNoKGIsZnVuY3Rpb24oYSxiKXtjLl9zZXRPcHRpb24oYSxiKX0pO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYil7dGhpcy5vcHRpb25zW2FdPWI7YT09PSJkaXNhYmxlZCImJg0KdGhpcy53aWRnZXQoKVtiPyJhZGRDbGFzcyI6InJlbW92ZUNsYXNzIl0odGhpcy53aWRnZXRCYXNlQ2xhc3MrIi1kaXNhYmxlZCB1aS1zdGF0ZS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLGIpO3JldHVybiB0aGlzfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsZmFsc2UpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLHRydWUpfSxfdHJpZ2dlcjpmdW5jdGlvbihiLGMsZCl7dmFyIGU9dGhpcy5vcHRpb25zW2JdLGM9YS5FdmVudChjKTtjLnR5cGU9KGI9PT10aGlzLndpZGdldEV2ZW50UHJlZml4P2I6dGhpcy53aWRnZXRFdmVudFByZWZpeCtiKS50b0xvd2VyQ2FzZSgpO2Q9ZHx8e307aWYoYy5vcmlnaW5hbEV2ZW50KWZvcih2YXIgYj1hLmV2ZW50LnByb3BzLmxlbmd0aCxpO2I7KWk9YS5ldmVudC5wcm9wc1stLWJdLGNbaV09Yy5vcmlnaW5hbEV2ZW50W2ldO3RoaXMuZWxlbWVudC50cmlnZ2VyKGMsDQpkKTtyZXR1cm4hKGEuaXNGdW5jdGlvbihlKSYmZS5jYWxsKHRoaXMuZWxlbWVudFswXSxjLGQpPT09ZmFsc2V8fGMuaXNEZWZhdWx0UHJldmVudGVkKCkpfX19KShqUXVlcnkpOw0KKGZ1bmN0aW9uKGEsZSl7YS53aWRnZXQoIm1vYmlsZS53aWRnZXQiLHtfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKCl7YS5XaWRnZXQucHJvdG90eXBlLl9jcmVhdGVXaWRnZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3RyaWdnZXIoImluaXQiKX0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsZD17fTthLmVhY2godGhpcy5vcHRpb25zLGZ1bmN0aW9uKGEpe3ZhciBjPWIuanFtRGF0YShhLnJlcGxhY2UoL1tBLVpdL2csZnVuY3Rpb24oYSl7cmV0dXJuIi0iK2EudG9Mb3dlckNhc2UoKX0pKTtjIT09ZSYmKGRbYV09Yyl9KTtyZXR1cm4gZH0sZW5oYW5jZVdpdGhpbjpmdW5jdGlvbihiKXt2YXIgZD1hKGIpLmNsb3Nlc3QoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIpLmRhdGEoInBhZ2UiKSxkPWQmJmQua2VlcE5hdGl2ZVNlbGVjdG9yKCl8fCIiO2EodGhpcy5vcHRpb25zLmluaXRTZWxlY3RvcixiKS5ub3QoZClbdGhpcy53aWRnZXROYW1lXSgpfX0pfSkoalF1ZXJ5KTsNCihmdW5jdGlvbihhKXthKHdpbmRvdyk7dmFyIGU9YSgiaHRtbCIpO2EubW9iaWxlLm1lZGlhPWZ1bmN0aW9uKCl7dmFyIGI9e30sZD1hKCI8ZGl2IGlkPSdqcXVlcnktbWVkaWF0ZXN0Jz4iKSxmPWEoIjxib2R5PiIpLmFwcGVuZChkKTtyZXR1cm4gZnVuY3Rpb24oYSl7aWYoIShhIGluIGIpKXt2YXIgaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLGc9IkBtZWRpYSAiK2ErIiB7ICNqcXVlcnktbWVkaWF0ZXN0IHsgcG9zaXRpb246YWJzb2x1dGU7IH0gfSI7aC50eXBlPSJ0ZXh0L2NzcyI7aC5zdHlsZVNoZWV0P2guc3R5bGVTaGVldC5jc3NUZXh0PWc6aC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShnKSk7ZS5wcmVwZW5kKGYpLnByZXBlbmQoaCk7YlthXT1kLmNzcygicG9zaXRpb24iKT09PSJhYnNvbHV0ZSI7Zi5hZGQoaCkucmVtb3ZlKCl9cmV0dXJuIGJbYV19fSgpfSkoalF1ZXJ5KTsNCihmdW5jdGlvbihhLGUpe2Z1bmN0aW9uIGIoYSl7dmFyIGI9YS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKSxhPShhKyIgIitjLmpvaW4oYisiICIpK2IpLnNwbGl0KCIgIiksZDtmb3IoZCBpbiBhKWlmKGZbYVtkXV0hPT1lKXJldHVybiB0cnVlfXZhciBkPWEoIjxib2R5PiIpLnByZXBlbmRUbygiaHRtbCIpLGY9ZFswXS5zdHlsZSxjPVsiV2Via2l0IiwiTW96IiwiTyJdLGg9InBhbG1HZXRSZXNvdXJjZSJpbiB3aW5kb3csZz13aW5kb3cub3BlcmFtaW5pJiZ7fS50b1N0cmluZy5jYWxsKHdpbmRvdy5vcGVyYW1pbmkpPT09IltvYmplY3QgT3BlcmFNaW5pXSIsaT13aW5kb3cuYmxhY2tiZXJyeTthLm1vYmlsZS5icm93c2VyPXt9O2EubW9iaWxlLmJyb3dzZXIuaWU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MyxiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGM9Yi5hbGx8fFtdO2IuaW5uZXJIVE1MPSI8XCEtLVtpZiBndCBJRSAiKyArK2ErIl0+PGJyPjwhW2VuZGlmXS0tXD4iLA0KY1swXTspO3JldHVybiBhPjQ/YTohYX0oKTthLmV4dGVuZChhLnN1cHBvcnQse29yaWVudGF0aW9uOiJvcmllbnRhdGlvbiJpbiB3aW5kb3cmJiJvbm9yaWVudGF0aW9uY2hhbmdlImluIHdpbmRvdyx0b3VjaDoib250b3VjaGVuZCJpbiBkb2N1bWVudCxjc3NUcmFuc2l0aW9uczoiV2ViS2l0VHJhbnNpdGlvbkV2ZW50ImluIHdpbmRvdyxwdXNoU3RhdGU6InB1c2hTdGF0ZSJpbiBoaXN0b3J5JiYicmVwbGFjZVN0YXRlImluIGhpc3RvcnksbWVkaWFxdWVyeTphLm1vYmlsZS5tZWRpYSgib25seSBhbGwiKSxjc3NQc2V1ZG9FbGVtZW50OiEhYigiY29udGVudCIpLHRvdWNoT3ZlcmZsb3c6ISFiKCJvdmVyZmxvd1Njcm9sbGluZyIpLGJveFNoYWRvdzohIWIoImJveFNoYWRvdyIpJiYhaSxzY3JvbGxUb3A6KCJwYWdlWE9mZnNldCJpbiB3aW5kb3d8fCJzY3JvbGxUb3AiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fHwic2Nyb2xsVG9wImluIGRbMF0pJiYhaCYmIWcsZHluYW1pY0Jhc2VUYWc6ZnVuY3Rpb24oKXt2YXIgYj0NCmxvY2F0aW9uLnByb3RvY29sKyIvLyIrbG9jYXRpb24uaG9zdCtsb2NhdGlvbi5wYXRobmFtZSsidWktZGlyLyIsYz1hKCJoZWFkIGJhc2UiKSxmPW51bGwsZT0iIixoO2MubGVuZ3RoP2U9Yy5hdHRyKCJocmVmIik6Yz1mPWEoIjxiYXNlPiIse2hyZWY6Yn0pLmFwcGVuZFRvKCJoZWFkIik7aD1hKCI8YSBocmVmPSd0ZXN0dXJsJyAvPiIpLnByZXBlbmRUbyhkKVswXS5ocmVmO2NbMF0uaHJlZj1lfHxsb2NhdGlvbi5wYXRobmFtZTtmJiZmLnJlbW92ZSgpO3JldHVybiBoLmluZGV4T2YoYik9PT0wfSgpfSk7ZC5yZW1vdmUoKTtoPWZ1bmN0aW9uKCl7dmFyIGE9d2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7cmV0dXJuIGEuaW5kZXhPZigiTm9raWEiKT4tMSYmKGEuaW5kZXhPZigiU3ltYmlhbi8zIik+LTF8fGEuaW5kZXhPZigiU2VyaWVzNjAvNSIpPi0xKSYmYS5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xJiZhLm1hdGNoKC8oQnJvd3Nlck5HfE5va2lhQnJvd3NlcilcLzdcLlswLTNdLyl9KCk7DQphLm1vYmlsZS5hamF4QmxhY2tsaXN0PXdpbmRvdy5ibGFja2JlcnJ5JiYhd2luZG93LldlYktpdFBvaW50fHxnfHxoO2gmJmEoZnVuY3Rpb24oKXthKCJoZWFkIGxpbmtbcmVsPSdzdHlsZXNoZWV0J10iKS5hdHRyKCJyZWwiLCJhbHRlcm5hdGUgc3R5bGVzaGVldCIpLmF0dHIoInJlbCIsInN0eWxlc2hlZXQiKX0pO2Euc3VwcG9ydC5ib3hTaGFkb3d8fGEoImh0bWwiKS5hZGRDbGFzcygidWktbW9iaWxlLW5vc3VwcG9ydC1ib3hzaGFkb3ciKX0pKGpRdWVyeSk7DQooZnVuY3Rpb24oYSxlLGIsZCl7ZnVuY3Rpb24gZihhKXtmb3IoO2EmJnR5cGVvZiBhLm9yaWdpbmFsRXZlbnQhPT0idW5kZWZpbmVkIjspYT1hLm9yaWdpbmFsRXZlbnQ7cmV0dXJuIGF9ZnVuY3Rpb24gYyhiKXtmb3IodmFyIGM9e30sZixkO2I7KXtmPWEuZGF0YShiLG4pO2ZvcihkIGluIGYpaWYoZltkXSljW2RdPWMuaGFzVmlydHVhbEJpbmRpbmc9dHJ1ZTtiPWIucGFyZW50Tm9kZX1yZXR1cm4gY31mdW5jdGlvbiBoKCl7diYmKGNsZWFyVGltZW91dCh2KSx2PTApO3Y9c2V0VGltZW91dChmdW5jdGlvbigpe0U9dj0wO3UubGVuZ3RoPTA7RD1mYWxzZTt5PXRydWV9LGEudm1vdXNlLnJlc2V0VGltZXJEdXJhdGlvbil9ZnVuY3Rpb24gZyhiLGMscil7dmFyIGUsaDtpZighKGg9ciYmcltiXSkpe2lmKHI9IXIpYTp7Zm9yKHI9Yy50YXJnZXQ7cjspe2lmKChoPWEuZGF0YShyLG4pKSYmKCFifHxoW2JdKSlicmVhayBhO3I9ci5wYXJlbnROb2RlfXI9bnVsbH1oPXJ9aWYoaCl7ZT1jO3ZhciByPQ0KZS50eXBlLGosZztlPWEuRXZlbnQoZSk7ZS50eXBlPWI7aD1lLm9yaWdpbmFsRXZlbnQ7aj1hLmV2ZW50LnByb3BzO2lmKGgpZm9yKGc9ai5sZW5ndGg7ZzspYj1qWy0tZ10sZVtiXT1oW2JdO2lmKHIuc2VhcmNoKC9tb3VzZShkb3dufHVwKXxjbGljay8pPi0xJiYhZS53aGljaCllLndoaWNoPTE7aWYoci5zZWFyY2goL150b3VjaC8pIT09LTEmJihiPWYoaCkscj1iLnRvdWNoZXMsYj1iLmNoYW5nZWRUb3VjaGVzLHI9ciYmci5sZW5ndGg/clswXTpiJiZiLmxlbmd0aD9iWzBdOmQpKWZvcihoPTAsbGVuPXoubGVuZ3RoO2g8bGVuO2grKyliPXpbaF0sZVtiXT1yW2JdO2EoYy50YXJnZXQpLnRyaWdnZXIoZSl9cmV0dXJuIGV9ZnVuY3Rpb24gaShiKXt2YXIgYz1hLmRhdGEoYi50YXJnZXQsQSk7aWYoIUQmJighRXx8RSE9PWMpKWlmKGM9ZygidiIrYi50eXBlLGIpKWMuaXNEZWZhdWx0UHJldmVudGVkKCkmJmIucHJldmVudERlZmF1bHQoKSxjLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJg0KYi5zdG9wUHJvcGFnYXRpb24oKSxjLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkmJmIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCl9ZnVuY3Rpb24gayhiKXt2YXIgZD1mKGIpLnRvdWNoZXMsZTtpZihkJiZkLmxlbmd0aD09PTEmJihlPWIudGFyZ2V0LGQ9YyhlKSxkLmhhc1ZpcnR1YWxCaW5kaW5nKSlFPXIrKyxhLmRhdGEoZSxBLEUpLHYmJihjbGVhclRpbWVvdXQodiksdj0wKSx3PXk9ZmFsc2UsZT1mKGIpLnRvdWNoZXNbMF0seD1lLnBhZ2VYLHQ9ZS5wYWdlWSxnKCJ2bW91c2VvdmVyIixiLGQpLGcoInZtb3VzZWRvd24iLGIsZCl9ZnVuY3Rpb24gbChhKXt5fHwod3x8Zygidm1vdXNlY2FuY2VsIixhLGMoYS50YXJnZXQpKSx3PXRydWUsaCgpKX1mdW5jdGlvbiBvKGIpe2lmKCF5KXt2YXIgZD1mKGIpLnRvdWNoZXNbMF0scj13LGU9YS52bW91c2UubW92ZURpc3RhbmNlVGhyZXNob2xkO3c9d3x8TWF0aC5hYnMoZC5wYWdlWC14KT5lfHxNYXRoLmFicyhkLnBhZ2VZLQ0KdCk+ZTtmbGFncz1jKGIudGFyZ2V0KTt3JiYhciYmZygidm1vdXNlY2FuY2VsIixiLGZsYWdzKTtnKCJ2bW91c2Vtb3ZlIixiLGZsYWdzKTtoKCl9fWZ1bmN0aW9uIG0oYSl7aWYoIXkpe3k9dHJ1ZTt2YXIgYj1jKGEudGFyZ2V0KSxkO2coInZtb3VzZXVwIixhLGIpO2lmKCF3JiYoZD1nKCJ2Y2xpY2siLGEsYikpJiZkLmlzRGVmYXVsdFByZXZlbnRlZCgpKWQ9ZihhKS5jaGFuZ2VkVG91Y2hlc1swXSx1LnB1c2goe3RvdWNoSUQ6RSx4OmQuY2xpZW50WCx5OmQuY2xpZW50WX0pLEQ9dHJ1ZTtnKCJ2bW91c2VvdXQiLGEsYik7dz1mYWxzZTtoKCl9fWZ1bmN0aW9uIHAoYil7dmFyIGI9YS5kYXRhKGIsbiksYztpZihiKWZvcihjIGluIGIpaWYoYltjXSlyZXR1cm4gdHJ1ZTtyZXR1cm4gZmFsc2V9ZnVuY3Rpb24gaigpe31mdW5jdGlvbiBxKGIpe3ZhciBjPWIuc3Vic3RyKDEpO3JldHVybntzZXR1cDpmdW5jdGlvbigpe3AodGhpcyl8fGEuZGF0YSh0aGlzLG4se30pO2EuZGF0YSh0aGlzLA0KbilbYl09dHJ1ZTtzW2JdPShzW2JdfHwwKSsxO3NbYl09PT0xJiZCLmJpbmQoYyxpKTthKHRoaXMpLmJpbmQoYyxqKTtpZihDKXMudG91Y2hzdGFydD0ocy50b3VjaHN0YXJ0fHwwKSsxLHMudG91Y2hzdGFydD09PTEmJkIuYmluZCgidG91Y2hzdGFydCIsaykuYmluZCgidG91Y2hlbmQiLG0pLmJpbmQoInRvdWNobW92ZSIsbykuYmluZCgic2Nyb2xsIixsKX0sdGVhcmRvd246ZnVuY3Rpb24oKXstLXNbYl07c1tiXXx8Qi51bmJpbmQoYyxpKTtDJiYoLS1zLnRvdWNoc3RhcnQscy50b3VjaHN0YXJ0fHxCLnVuYmluZCgidG91Y2hzdGFydCIsaykudW5iaW5kKCJ0b3VjaG1vdmUiLG8pLnVuYmluZCgidG91Y2hlbmQiLG0pLnVuYmluZCgic2Nyb2xsIixsKSk7dmFyIGQ9YSh0aGlzKSxmPWEuZGF0YSh0aGlzLG4pO2YmJihmW2JdPWZhbHNlKTtkLnVuYmluZChjLGopO3AodGhpcyl8fGQucmVtb3ZlRGF0YShuKX19fXZhciBuPSJ2aXJ0dWFsTW91c2VCaW5kaW5ncyIsQT0idmlydHVhbFRvdWNoSUQiLA0KZT0idm1vdXNlb3ZlciB2bW91c2Vkb3duIHZtb3VzZW1vdmUgdm1vdXNldXAgdmNsaWNrIHZtb3VzZW91dCB2bW91c2VjYW5jZWwiLnNwbGl0KCIgIiksej0iY2xpZW50WCBjbGllbnRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSIuc3BsaXQoIiAiKSxzPXt9LHY9MCx4PTAsdD0wLHc9ZmFsc2UsdT1bXSxEPWZhbHNlLHk9ZmFsc2UsQz0iYWRkRXZlbnRMaXN0ZW5lciJpbiBiLEI9YShiKSxyPTEsRT0wO2Eudm1vdXNlPXttb3ZlRGlzdGFuY2VUaHJlc2hvbGQ6MTAsY2xpY2tEaXN0YW5jZVRocmVzaG9sZDoxMCxyZXNldFRpbWVyRHVyYXRpb246MTUwMH07Zm9yKHZhciBGPTA7RjxlLmxlbmd0aDtGKyspYS5ldmVudC5zcGVjaWFsW2VbRl1dPXEoZVtGXSk7QyYmYi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oYil7dmFyIGM9dS5sZW5ndGgsZD1iLnRhcmdldCxmLHIsZSxoLGo7aWYoYyl7Zj1iLmNsaWVudFg7cj1iLmNsaWVudFk7dGhyZXNob2xkPWEudm1vdXNlLmNsaWNrRGlzdGFuY2VUaHJlc2hvbGQ7DQpmb3IoZT1kO2U7KXtmb3IoaD0wO2g8YztoKyspaWYoaj11W2hdLGU9PT1kJiZNYXRoLmFicyhqLngtZik8dGhyZXNob2xkJiZNYXRoLmFicyhqLnktcik8dGhyZXNob2xkfHxhLmRhdGEoZSxBKT09PWoudG91Y2hJRCl7Yi5wcmV2ZW50RGVmYXVsdCgpO2Iuc3RvcFByb3BhZ2F0aW9uKCk7cmV0dXJufWU9ZS5wYXJlbnROb2RlfX19LHRydWUpfSkoalF1ZXJ5LHdpbmRvdyxkb2N1bWVudCk7DQooZnVuY3Rpb24oYSxlLGIpe2Z1bmN0aW9uIGQoYixjLGQpe3ZhciBmPWQudHlwZTtkLnR5cGU9YzthLmV2ZW50LmhhbmRsZS5jYWxsKGIsZCk7ZC50eXBlPWZ9YS5lYWNoKCJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCBvcmllbnRhdGlvbmNoYW5nZSB0aHJvdHRsZWRyZXNpemUgdGFwIHRhcGhvbGQgc3dpcGUgc3dpcGVsZWZ0IHN3aXBlcmlnaHQgc2Nyb2xsc3RhcnQgc2Nyb2xsc3RvcCIuc3BsaXQoIiAiKSxmdW5jdGlvbihiLGMpe2EuZm5bY109ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy5iaW5kKGMsYSk6dGhpcy50cmlnZ2VyKGMpfTthLmF0dHJGbltjXT10cnVlfSk7dmFyIGY9YS5zdXBwb3J0LnRvdWNoLGM9Zj8idG91Y2hzdGFydCI6Im1vdXNlZG93biIsaD1mPyJ0b3VjaGVuZCI6Im1vdXNldXAiLGc9Zj8idG91Y2htb3ZlIjoibW91c2Vtb3ZlIjthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQ9e2VuYWJsZWQ6dHJ1ZSxzZXR1cDpmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSwNCmUpe2Y9ZTtkKGMsZj8ic2Nyb2xsc3RhcnQiOiJzY3JvbGxzdG9wIixhKX12YXIgYz10aGlzLGYsZTthKGMpLmJpbmQoInRvdWNobW92ZSBzY3JvbGwiLGZ1bmN0aW9uKGMpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkJiYoZnx8YihjLHRydWUpLGNsZWFyVGltZW91dChlKSxlPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtiKGMsZmFsc2UpfSw1MCkpfSl9fTthLmV2ZW50LnNwZWNpYWwudGFwPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1hKGIpO2MuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oZil7ZnVuY3Rpb24gZSgpe2NsZWFyVGltZW91dChxKX1mdW5jdGlvbiBoKCl7ZSgpO2MudW5iaW5kKCJ2Y2xpY2siLGcpLnVuYmluZCgidm1vdXNldXAiLGUpLnVuYmluZCgidm1vdXNlY2FuY2VsIixoKX1mdW5jdGlvbiBnKGEpe2goKTtqPT1hLnRhcmdldCYmZChiLCJ0YXAiLGEpfWlmKGYud2hpY2gmJmYud2hpY2ghPT0xKXJldHVybiBmYWxzZTt2YXIgaj1mLnRhcmdldCwNCnE7Yy5iaW5kKCJ2bW91c2VjYW5jZWwiLGgpLmJpbmQoInZtb3VzZXVwIixlKS5iaW5kKCJ2Y2xpY2siLGcpO3E9c2V0VGltZW91dChmdW5jdGlvbigpe2QoYiwidGFwaG9sZCIsYS5FdmVudCgidGFwaG9sZCIpKX0sNzUwKX0pfX07YS5ldmVudC5zcGVjaWFsLnN3aXBlPXtzY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkOjEwLGR1cmF0aW9uVGhyZXNob2xkOjFFMyxob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQ6MzAsdmVydGljYWxEaXN0YW5jZVRocmVzaG9sZDo3NSxzZXR1cDpmdW5jdGlvbigpe3ZhciBkPWEodGhpcyk7ZC5iaW5kKGMsZnVuY3Rpb24oYyl7ZnVuY3Rpb24gZihiKXtpZihtKXt2YXIgYz1iLm9yaWdpbmFsRXZlbnQudG91Y2hlcz9iLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTpiO3A9e3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOltjLnBhZ2VYLGMucGFnZVldfTtNYXRoLmFicyhtLmNvb3Jkc1swXS1wLmNvb3Jkc1swXSk+YS5ldmVudC5zcGVjaWFsLnN3aXBlLnNjcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQmJg0KYi5wcmV2ZW50RGVmYXVsdCgpfX12YXIgZT1jLm9yaWdpbmFsRXZlbnQudG91Y2hlcz9jLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTpjLG09e3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOltlLnBhZ2VYLGUucGFnZVldLG9yaWdpbjphKGMudGFyZ2V0KX0scDtkLmJpbmQoZyxmKS5vbmUoaCxmdW5jdGlvbigpe2QudW5iaW5kKGcsZik7bSYmcCYmcC50aW1lLW0udGltZTxhLmV2ZW50LnNwZWNpYWwuc3dpcGUuZHVyYXRpb25UaHJlc2hvbGQmJk1hdGguYWJzKG0uY29vcmRzWzBdLXAuY29vcmRzWzBdKT5hLmV2ZW50LnNwZWNpYWwuc3dpcGUuaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkJiZNYXRoLmFicyhtLmNvb3Jkc1sxXS1wLmNvb3Jkc1sxXSk8YS5ldmVudC5zcGVjaWFsLnN3aXBlLnZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQmJm0ub3JpZ2luLnRyaWdnZXIoInN3aXBlIikudHJpZ2dlcihtLmNvb3Jkc1swXT5wLmNvb3Jkc1swXT8ic3dpcGVsZWZ0Ijoic3dpcGVyaWdodCIpOw0KbT1wPWJ9KX0pfX07KGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe3ZhciBhPWYoKTthIT09ZSYmKGU9YSxkLnRyaWdnZXIoIm9yaWVudGF0aW9uY2hhbmdlIikpfXZhciBkPWEoYiksZixlO2EuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZT17c2V0dXA6ZnVuY3Rpb24oKXtpZihhLnN1cHBvcnQub3JpZW50YXRpb24mJmEubW9iaWxlLm9yaWVudGF0aW9uQ2hhbmdlRW5hYmxlZClyZXR1cm4gZmFsc2U7ZT1mKCk7ZC5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGMpfSx0ZWFyZG93bjpmdW5jdGlvbigpe2lmKGEuc3VwcG9ydC5vcmllbnRhdGlvbiYmYS5tb2JpbGUub3JpZW50YXRpb25DaGFuZ2VFbmFibGVkKXJldHVybiBmYWxzZTtkLnVuYmluZCgidGhyb3R0bGVkcmVzaXplIixjKX0sYWRkOmZ1bmN0aW9uKGEpe3ZhciBiPWEuaGFuZGxlcjthLmhhbmRsZXI9ZnVuY3Rpb24oYSl7YS5vcmllbnRhdGlvbj1mKCk7cmV0dXJuIGIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19O2EuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5vcmllbnRhdGlvbj0NCmY9ZnVuY3Rpb24oKXt2YXIgYz10cnVlLGM9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O3JldHVybihjPWEuc3VwcG9ydC5vcmllbnRhdGlvbj9iLm9yaWVudGF0aW9uJTE4MD09MDpjJiZjLmNsaWVudFdpZHRoL2MuY2xpZW50SGVpZ2h0PDEuMSk/InBvcnRyYWl0IjoibGFuZHNjYXBlIn19KShqUXVlcnksZSk7KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnRocm90dGxlZHJlc2l6ZT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoInJlc2l6ZSIsYil9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoInJlc2l6ZSIsYil9fTt2YXIgYj1mdW5jdGlvbigpe2Y9KG5ldyBEYXRlKS5nZXRUaW1lKCk7ZT1mLWM7ZT49MjUwPyhjPWYsYSh0aGlzKS50cmlnZ2VyKCJ0aHJvdHRsZWRyZXNpemUiKSk6KGQmJmNsZWFyVGltZW91dChkKSxkPXNldFRpbWVvdXQoYiwyNTAtZSkpfSxjPTAsZCxmLGV9KSgpO2EuZWFjaCh7c2Nyb2xsc3RvcDoic2Nyb2xsc3RhcnQiLHRhcGhvbGQ6InRhcCIsDQpzd2lwZWxlZnQ6InN3aXBlIixzd2lwZXJpZ2h0OiJzd2lwZSJ9LGZ1bmN0aW9uKGIsYyl7YS5ldmVudC5zcGVjaWFsW2JdPXtzZXR1cDpmdW5jdGlvbigpe2EodGhpcykuYmluZChjLGEubm9vcCl9fX0pfSkoalF1ZXJ5LHRoaXMpOw0KKGZ1bmN0aW9uKGEsZSxiKXtmdW5jdGlvbiBkKGEpe2E9YXx8bG9jYXRpb24uaHJlZjtyZXR1cm4iIyIrYS5yZXBsYWNlKC9eW14jXSojPyguKikkLywiJDEiKX12YXIgZj0iaGFzaGNoYW5nZSIsYz1kb2N1bWVudCxoLGc9YS5ldmVudC5zcGVjaWFsLGk9Yy5kb2N1bWVudE1vZGUsaz0ib24iK2YgaW4gZSYmKGk9PT1ifHxpPjcpO2EuZm5bZl09ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy5iaW5kKGYsYSk6dGhpcy50cmlnZ2VyKGYpfTthLmZuW2ZdLmRlbGF5PTUwO2dbZl09YS5leHRlbmQoZ1tmXSx7c2V0dXA6ZnVuY3Rpb24oKXtpZihrKXJldHVybiBmYWxzZTthKGguc3RhcnQpfSx0ZWFyZG93bjpmdW5jdGlvbigpe2lmKGspcmV0dXJuIGZhbHNlO2EoaC5zdG9wKX19KTtoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaCgpe3ZhciBiPWQoKSxjPW4ocCk7aWYoYiE9PXApcShwPWIsYyksYShlKS50cmlnZ2VyKGYpO2Vsc2UgaWYoYyE9PXApbG9jYXRpb24uaHJlZj1sb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyMuKi8sDQoiIikrYztpPXNldFRpbWVvdXQoaCxhLmZuW2ZdLmRlbGF5KX12YXIgZz17fSxpLHA9ZCgpLGo9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LHE9aixuPWo7Zy5zdGFydD1mdW5jdGlvbigpe2l8fGgoKX07Zy5zdG9wPWZ1bmN0aW9uKCl7aSYmY2xlYXJUaW1lb3V0KGkpO2k9Yn07YS5icm93c2VyLm1zaWUmJiFrJiZmdW5jdGlvbigpe3ZhciBiLGU7Zy5zdGFydD1mdW5jdGlvbigpe2lmKCFiKWU9KGU9YS5mbltmXS5zcmMpJiZlK2QoKSxiPWEoJzxpZnJhbWUgdGFiaW5kZXg9Ii0xIiB0aXRsZT0iZW1wdHkiLz4nKS5oaWRlKCkub25lKCJsb2FkIixmdW5jdGlvbigpe2V8fHEoZCgpKTtoKCl9KS5hdHRyKCJzcmMiLGV8fCJqYXZhc2NyaXB0OjAiKS5pbnNlcnRBZnRlcigiYm9keSIpWzBdLmNvbnRlbnRXaW5kb3csYy5vbnByb3BlcnR5Y2hhbmdlPWZ1bmN0aW9uKCl7dHJ5e2lmKGV2ZW50LnByb3BlcnR5TmFtZT09PSJ0aXRsZSIpYi5kb2N1bWVudC50aXRsZT1jLnRpdGxlfWNhdGNoKGEpe319fTsNCmcuc3RvcD1qO249ZnVuY3Rpb24oKXtyZXR1cm4gZChiLmxvY2F0aW9uLmhyZWYpfTtxPWZ1bmN0aW9uKGQsZSl7dmFyIGg9Yi5kb2N1bWVudCxnPWEuZm5bZl0uZG9tYWluO2lmKGQhPT1lKWgudGl0bGU9Yy50aXRsZSxoLm9wZW4oKSxnJiZoLndyaXRlKCc8c2NyaXB0PmRvY3VtZW50LmRvbWFpbj0iJytnKyciPFwvc2NyaXB0PicpLGguY2xvc2UoKSxiLmxvY2F0aW9uLmhhc2g9ZH19KCk7cmV0dXJuIGd9KCl9KShqUXVlcnksdGhpcyk7DQooZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS5wYWdlIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOiJjIixkb21DYWNoZTpmYWxzZSxrZWVwTmF0aXZlRGVmYXVsdDoiOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fdHJpZ2dlcigiYmVmb3JlY3JlYXRlIik7dGhpcy5lbGVtZW50LmF0dHIoInRhYmluZGV4IiwiMCIpLmFkZENsYXNzKCJ1aS1wYWdlIHVpLWJvZHktIit0aGlzLm9wdGlvbnMudGhlbWUpfSxrZWVwTmF0aXZlU2VsZWN0b3I6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnM7cmV0dXJuIGUua2VlcE5hdGl2ZSYmYS50cmltKGUua2VlcE5hdGl2ZSkmJmUua2VlcE5hdGl2ZSE9PWUua2VlcE5hdGl2ZURlZmF1bHQ/W2Uua2VlcE5hdGl2ZSxlLmtlZXBOYXRpdmVEZWZhdWx0XS5qb2luKCIsICIpOmUua2VlcE5hdGl2ZURlZmF1bHR9fSl9KShqUXVlcnkpOw0KKGZ1bmN0aW9uKGEsZSl7dmFyIGI9e307YS5leHRlbmQoYS5tb2JpbGUse25zOiIiLHN1YlBhZ2VVcmxLZXk6InVpLXBhZ2UiLGFjdGl2ZVBhZ2VDbGFzczoidWktcGFnZS1hY3RpdmUiLGFjdGl2ZUJ0bkNsYXNzOiJ1aS1idG4tYWN0aXZlIixhamF4RW5hYmxlZDp0cnVlLGhhc2hMaXN0ZW5pbmdFbmFibGVkOnRydWUsbGlua0JpbmRpbmdFbmFibGVkOnRydWUsZGVmYXVsdFBhZ2VUcmFuc2l0aW9uOiJzbGlkZSIsbWluU2Nyb2xsQmFjazoyNTAsZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246InBvcCIsbG9hZGluZ01lc3NhZ2U6ImxvYWRpbmciLHBhZ2VMb2FkRXJyb3JNZXNzYWdlOiJFcnJvciBMb2FkaW5nIFBhZ2UiLGF1dG9Jbml0aWFsaXplUGFnZTp0cnVlLHB1c2hTdGF0ZUVuYWJsZWQ6dHJ1ZSxvcmllbnRhdGlvbkNoYW5nZUVuYWJsZWQ6dHJ1ZSxncmFkZUE6ZnVuY3Rpb24oKXtyZXR1cm4gYS5zdXBwb3J0Lm1lZGlhcXVlcnl8fGEubW9iaWxlLmJyb3dzZXIuaWUmJmEubW9iaWxlLmJyb3dzZXIuaWU+PQ0KN30sa2V5Q29kZTp7QUxUOjE4LEJBQ0tTUEFDRTo4LENBUFNfTE9DSzoyMCxDT01NQToxODgsQ09NTUFORDo5MSxDT01NQU5EX0xFRlQ6OTEsQ09NTUFORF9SSUdIVDo5MyxDT05UUk9MOjE3LERFTEVURTo0NixET1dOOjQwLEVORDozNSxFTlRFUjoxMyxFU0NBUEU6MjcsSE9NRTozNixJTlNFUlQ6NDUsTEVGVDozNyxNRU5VOjkzLE5VTVBBRF9BREQ6MTA3LE5VTVBBRF9ERUNJTUFMOjExMCxOVU1QQURfRElWSURFOjExMSxOVU1QQURfRU5URVI6MTA4LE5VTVBBRF9NVUxUSVBMWToxMDYsTlVNUEFEX1NVQlRSQUNUOjEwOSxQQUdFX0RPV046MzQsUEFHRV9VUDozMyxQRVJJT0Q6MTkwLFJJR0hUOjM5LFNISUZUOjE2LFNQQUNFOjMyLFRBQjo5LFVQOjM4LFdJTkRPV1M6OTF9LHNpbGVudFNjcm9sbDpmdW5jdGlvbihiKXtpZihhLnR5cGUoYikhPT0ibnVtYmVyIiliPWEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsO2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPWZhbHNlOw0Kc2V0VGltZW91dChmdW5jdGlvbigpe2Uuc2Nyb2xsVG8oMCxiKTthKGRvY3VtZW50KS50cmlnZ2VyKCJzaWxlbnRzY3JvbGwiLHt4OjAseTpifSl9LDIwKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9dHJ1ZX0sMTUwKX0sbnNOb3JtYWxpemVEaWN0OmIsbnNOb3JtYWxpemU6ZnVuY3Rpb24oYyl7cmV0dXJuIWM/dm9pZCAwOmJbY118fChiW2NdPWEuY2FtZWxDYXNlKGEubW9iaWxlLm5zK2MpKX0sZ2V0SW5oZXJpdGVkVGhlbWU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGQ9YVswXSxmPSIiLGU9L3VpLShiYXJ8Ym9keSktKFthLXpdKVxiLyxsLG87ZDspe2w9ZC5jbGFzc05hbWV8fCIiO2lmKChvPWUuZXhlYyhsKSkmJihmPW9bMl0pKWJyZWFrO2Q9ZC5wYXJlbnROb2RlfXJldHVybiBmfHxifHwiYSJ9fSk7YS5mbi5qcW1EYXRhPWZ1bmN0aW9uKGIsZCl7dmFyIGY7dHlwZW9mIGIhPSJ1bmRlZmluZWQiJiYoZj10aGlzLmRhdGEoYj8NCmEubW9iaWxlLm5zTm9ybWFsaXplKGIpOmIsZCkpO3JldHVybiBmfTthLmpxbURhdGE9ZnVuY3Rpb24oYixkLGYpe3ZhciBlO3R5cGVvZiBkIT0idW5kZWZpbmVkIiYmKGU9YS5kYXRhKGIsZD9hLm1vYmlsZS5uc05vcm1hbGl6ZShkKTpkLGYpKTtyZXR1cm4gZX07YS5mbi5qcW1SZW1vdmVEYXRhPWZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLnJlbW92ZURhdGEoYS5tb2JpbGUubnNOb3JtYWxpemUoYikpfTthLmpxbVJlbW92ZURhdGE9ZnVuY3Rpb24oYixkKXtyZXR1cm4gYS5yZW1vdmVEYXRhKGIsYS5tb2JpbGUubnNOb3JtYWxpemUoZCkpfTthLmZuLnJlbW92ZVdpdGhEZXBlbmRlbnRzPWZ1bmN0aW9uKCl7YS5yZW1vdmVXaXRoRGVwZW5kZW50cyh0aGlzKX07YS5yZW1vdmVXaXRoRGVwZW5kZW50cz1mdW5jdGlvbihiKXtiPWEoYik7KGIuanFtRGF0YSgiZGVwZW5kZW50cyIpfHxhKCkpLnJlbW92ZSgpO2IucmVtb3ZlKCl9O2EuZm4uYWRkRGVwZW5kZW50cz1mdW5jdGlvbihiKXthLmFkZERlcGVuZGVudHMoYSh0aGlzKSwNCmIpfTthLmFkZERlcGVuZGVudHM9ZnVuY3Rpb24oYixkKXt2YXIgZj1hKGIpLmpxbURhdGEoImRlcGVuZGVudHMiKXx8YSgpO2EoYikuanFtRGF0YSgiZGVwZW5kZW50cyIsYS5tZXJnZShmLGQpKX07YS5mbi5nZXRFbmNvZGVkVGV4dD1mdW5jdGlvbigpe3JldHVybiBhKCI8ZGl2Lz4iKS50ZXh0KGEodGhpcykudGV4dCgpKS5odG1sKCl9O3ZhciBkPWEuZmluZCxmPS86anFtRGF0YVwoKFteKV0qKVwpL2c7YS5maW5kPWZ1bmN0aW9uKGIsZSxnLGkpe2I9Yi5yZXBsYWNlKGYsIltkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrIiQxXSIpO3JldHVybiBkLmNhbGwodGhpcyxiLGUsZyxpKX07YS5leHRlbmQoYS5maW5kLGQpO2EuZmluZC5tYXRjaGVzPWZ1bmN0aW9uKGIsZCl7cmV0dXJuIGEuZmluZChiLG51bGwsbnVsbCxkKX07YS5maW5kLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihiLGQpe3JldHVybiBhLmZpbmQoZCxudWxsLG51bGwsW2JdKS5sZW5ndGg+MH19KShqUXVlcnksdGhpcyk7DQooZnVuY3Rpb24oYSxlKXtmdW5jdGlvbiBiKGEpe3ZhciBiPWEuZmluZCgiLnVpLXRpdGxlOmVxKDApIik7Yi5sZW5ndGg/Yi5mb2N1cygpOmEuZm9jdXMoKX1mdW5jdGlvbiBkKGIpe3EmJighcS5jbG9zZXN0KCIudWktcGFnZS1hY3RpdmUiKS5sZW5ndGh8fGIpJiZxLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTtxPW51bGx9ZnVuY3Rpb24gZigpe3o9ZmFsc2U7QS5sZW5ndGg+MCYmYS5tb2JpbGUuY2hhbmdlUGFnZS5hcHBseShudWxsLEEucG9wKCkpfWZ1bmN0aW9uIGMoYyxkLGYsZSl7dmFyIGc9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKSxqPWEuc3VwcG9ydC50b3VjaE92ZXJmbG93JiZhLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZCxpPWcubGFzdFNjcm9sbHx8KGo/MDphLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCksZz1oKCk7d2luZG93LnNjcm9sbFRvKDAsYS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwpO2QmJmQuZGF0YSgicGFnZSIpLl90cmlnZ2VyKCJiZWZvcmVoaWRlIiwNCm51bGwse25leHRQYWdlOmN9KTtqfHxjLmhlaWdodChnK2kpO2MuZGF0YSgicGFnZSIpLl90cmlnZ2VyKCJiZWZvcmVzaG93IixudWxsLHtwcmV2UGFnZTpkfHxhKCIiKX0pO2EubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpO2omJmkmJihjLmFkZENsYXNzKCJ1aS1tb2JpbGUtcHJlLXRyYW5zaXRpb24iKSxiKGMpLGMuaXMoIi51aS1uYXRpdmUtZml4ZWQiKT9jLmZpbmQoIi51aS1jb250ZW50Iikuc2Nyb2xsVG9wKGkpOmMuc2Nyb2xsVG9wKGkpKTtmPShhLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnNbZnx8Im5vbmUiXXx8YS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyKShmLGUsYyxkKTtmLmRvbmUoZnVuY3Rpb24oKXtqfHwoYy5oZWlnaHQoIiIpLGIoYykpO2p8fGEubW9iaWxlLnNpbGVudFNjcm9sbChpKTtkJiYoanx8ZC5oZWlnaHQoIiIpLGQuZGF0YSgicGFnZSIpLl90cmlnZ2VyKCJoaWRlIixudWxsLHtuZXh0UGFnZTpjfSkpO2MuZGF0YSgicGFnZSIpLl90cmlnZ2VyKCJzaG93IiwNCm51bGwse3ByZXZQYWdlOmR8fGEoIiIpfSl9KTtyZXR1cm4gZn1mdW5jdGlvbiBoKCl7dmFyIGI9YS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLm9yaWVudGF0aW9uKCk9PT0icG9ydHJhaXQiLGM9Yj9zY3JlZW4uYXZhaWxIZWlnaHQ6c2NyZWVuLmF2YWlsV2lkdGgsYj1NYXRoLm1heChiPzQ4MDozMjAsYSh3aW5kb3cpLmhlaWdodCgpKTtyZXR1cm4gTWF0aC5taW4oYyxiKX1mdW5jdGlvbiBnKCl7KCFhLnN1cHBvcnQudG91Y2hPdmVyZmxvd3x8IWEubW9iaWxlLnRvdWNoT3ZlcmZsb3dFbmFibGVkKSYmYSgiLiIrYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKS5jc3MoIm1pbi1oZWlnaHQiLGgoKSl9ZnVuY3Rpb24gaShiLGMpe2MmJmIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlIixjKTtiLnBhZ2UoKX1mdW5jdGlvbiBrKGEpe2Zvcig7YTspe2lmKHR5cGVvZiBhLm5vZGVOYW1lPT09InN0cmluZyImJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09ImEiKWJyZWFrOw0KYT1hLnBhcmVudE5vZGV9cmV0dXJuIGF9ZnVuY3Rpb24gbChiKXt2YXIgYj1hKGIpLmNsb3Nlc3QoIi51aS1wYWdlIikuanFtRGF0YSgidXJsIiksYz10LmhyZWZOb0hhc2g7aWYoIWJ8fCFqLmlzUGF0aChiKSliPWM7cmV0dXJuIGoubWFrZVVybEFic29sdXRlKGIsYyl9dmFyIG89YSh3aW5kb3cpLG09YSgiaHRtbCIpLHA9YSgiaGVhZCIpLGo9e3VybFBhcnNlUkU6L14oKCgoW146XC8jXD9dKzopPyg/OihcL1wvKSgoPzooKFteOkBcLyNcP10rKSg/Olw6KFteOkBcLyNcP10rKSk/KUApPygoW146XC8jXD9cXVxbXSt8XFtbXlwvXF1AIz9dK1xdKSg/Olw6KFswLTldKykpPykpPyk/KT8oKFwvPyg/OlteXC9cPyNdK1wvKykqKShbXlw/I10qKSkpPyhcP1teI10rKT8pKCMuKik/LyxwYXJzZVVybDpmdW5jdGlvbihiKXtpZihhLnR5cGUoYik9PT0ib2JqZWN0IilyZXR1cm4gYjtiPWoudXJsUGFyc2VSRS5leGVjKGJ8fCIiKXx8W107cmV0dXJue2hyZWY6YlswXXx8IiIsaHJlZk5vSGFzaDpiWzFdfHwNCiIiLGhyZWZOb1NlYXJjaDpiWzJdfHwiIixkb21haW46YlszXXx8IiIscHJvdG9jb2w6Yls0XXx8IiIsZG91YmxlU2xhc2g6Yls1XXx8IiIsYXV0aG9yaXR5OmJbNl18fCIiLHVzZXJuYW1lOmJbOF18fCIiLHBhc3N3b3JkOmJbOV18fCIiLGhvc3Q6YlsxMF18fCIiLGhvc3RuYW1lOmJbMTFdfHwiIixwb3J0OmJbMTJdfHwiIixwYXRobmFtZTpiWzEzXXx8IiIsZGlyZWN0b3J5OmJbMTRdfHwiIixmaWxlbmFtZTpiWzE1XXx8IiIsc2VhcmNoOmJbMTZdfHwiIixoYXNoOmJbMTddfHwiIn19LG1ha2VQYXRoQWJzb2x1dGU6ZnVuY3Rpb24oYSxiKXtpZihhJiZhLmNoYXJBdCgwKT09PSIvIilyZXR1cm4gYTtmb3IodmFyIGE9YXx8IiIsYz0oYj1iP2IucmVwbGFjZSgvXlwvfChcL1teXC9dKnxbXlwvXSspJC9nLCIiKToiIik/Yi5zcGxpdCgiLyIpOltdLGQ9YS5zcGxpdCgiLyIpLGY9MDtmPGQubGVuZ3RoO2YrKyl7dmFyIGU9ZFtmXTtzd2l0Y2goZSl7Y2FzZSAiLiI6YnJlYWs7Y2FzZSAiLi4iOmMubGVuZ3RoJiYNCmMucG9wKCk7YnJlYWs7ZGVmYXVsdDpjLnB1c2goZSl9fXJldHVybiIvIitjLmpvaW4oIi8iKX0saXNTYW1lRG9tYWluOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGoucGFyc2VVcmwoYSkuZG9tYWluPT09ai5wYXJzZVVybChiKS5kb21haW59LGlzUmVsYXRpdmVVcmw6ZnVuY3Rpb24oYSl7cmV0dXJuIGoucGFyc2VVcmwoYSkucHJvdG9jb2w9PT0iIn0saXNBYnNvbHV0ZVVybDpmdW5jdGlvbihhKXtyZXR1cm4gai5wYXJzZVVybChhKS5wcm90b2NvbCE9PSIifSxtYWtlVXJsQWJzb2x1dGU6ZnVuY3Rpb24oYSxiKXtpZighai5pc1JlbGF0aXZlVXJsKGEpKXJldHVybiBhO3ZhciBjPWoucGFyc2VVcmwoYSksZD1qLnBhcnNlVXJsKGIpLGY9Yy5wcm90b2NvbHx8ZC5wcm90b2NvbCxlPWMucHJvdG9jb2w/Yy5kb3VibGVTbGFzaDpjLmRvdWJsZVNsYXNofHxkLmRvdWJsZVNsYXNoLGg9Yy5hdXRob3JpdHl8fGQuYXV0aG9yaXR5LGc9Yy5wYXRobmFtZSE9PSIiLGk9ai5tYWtlUGF0aEFic29sdXRlKGMucGF0aG5hbWV8fA0KZC5maWxlbmFtZSxkLnBhdGhuYW1lKTtyZXR1cm4gZitlK2graSsoYy5zZWFyY2h8fCFnJiZkLnNlYXJjaHx8IiIpK2MuaGFzaH0sYWRkU2VhcmNoUGFyYW1zOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9ai5wYXJzZVVybChiKSxmPXR5cGVvZiBjPT09Im9iamVjdCI/YS5wYXJhbShjKTpjLGU9ZC5zZWFyY2h8fCI/IjtyZXR1cm4gZC5ocmVmTm9TZWFyY2grZSsoZS5jaGFyQXQoZS5sZW5ndGgtMSkhPT0iPyI/IiYiOiIiKStmKyhkLmhhc2h8fCIiKX0sY29udmVydFVybFRvRGF0YVVybDpmdW5jdGlvbihhKXt2YXIgYj1qLnBhcnNlVXJsKGEpO2lmKGouaXNFbWJlZGRlZFBhZ2UoYikpcmV0dXJuIGIuaGFzaC5zcGxpdChzKVswXS5yZXBsYWNlKC9eIy8sIiIpO2Vsc2UgaWYoai5pc1NhbWVEb21haW4oYix0KSlyZXR1cm4gYi5ocmVmTm9IYXNoLnJlcGxhY2UodC5kb21haW4sIiIpO3JldHVybiBhfSxnZXQ6ZnVuY3Rpb24oYSl7aWYoYT09PWUpYT1sb2NhdGlvbi5oYXNoO3JldHVybiBqLnN0cmlwSGFzaChhKS5yZXBsYWNlKC9bXlwvXSpcLlteXC8qXSskLywNCiIiKX0sZ2V0RmlsZVBhdGg6ZnVuY3Rpb24oYil7dmFyIGM9IiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXk7cmV0dXJuIGImJmIuc3BsaXQoYylbMF0uc3BsaXQocylbMF19LHNldDpmdW5jdGlvbihhKXtsb2NhdGlvbi5oYXNoPWF9LGlzUGF0aDpmdW5jdGlvbihhKXtyZXR1cm4vXC8vLnRlc3QoYSl9LGNsZWFuOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UodC5kb21haW4sIiIpfSxzdHJpcEhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXiMvLCIiKX0sY2xlYW5IYXNoOmZ1bmN0aW9uKGEpe3JldHVybiBqLnN0cmlwSGFzaChhLnJlcGxhY2UoL1w/LiokLywiIikucmVwbGFjZShzLCIiKSl9LGlzRXh0ZXJuYWw6ZnVuY3Rpb24oYSl7YT1qLnBhcnNlVXJsKGEpO3JldHVybiBhLnByb3RvY29sJiZhLmRvbWFpbiE9PXguZG9tYWluP3RydWU6ZmFsc2V9LGhhc1Byb3RvY29sOmZ1bmN0aW9uKGEpe3JldHVybi9eKDo/XHcrOikvLnRlc3QoYSl9LGlzRmlyc3RQYWdlVXJsOmZ1bmN0aW9uKGIpe3ZhciBiPQ0Kai5wYXJzZVVybChqLm1ha2VVcmxBYnNvbHV0ZShiLHQpKSxjPWEubW9iaWxlLmZpcnN0UGFnZSxjPWMmJmNbMF0/Y1swXS5pZDplO3JldHVybihiLmhyZWZOb0hhc2g9PT14LmhyZWZOb0hhc2h8fHcmJmIuaHJlZk5vSGFzaD09PXQuaHJlZk5vSGFzaCkmJighYi5oYXNofHxiLmhhc2g9PT0iIyJ8fGMmJmIuaGFzaC5yZXBsYWNlKC9eIy8sIiIpPT09Yyl9LGlzRW1iZWRkZWRQYWdlOmZ1bmN0aW9uKGEpe2E9ai5wYXJzZVVybChhKTtyZXR1cm4gYS5wcm90b2NvbCE9PSIiP2EuaGFzaCYmKGEuaHJlZk5vSGFzaD09PXguaHJlZk5vSGFzaHx8dyYmYS5ocmVmTm9IYXNoPT09dC5ocmVmTm9IYXNoKTovXiMvLnRlc3QoYS5ocmVmKX19LHE9bnVsbCxuPXtzdGFjazpbXSxhY3RpdmVJbmRleDowLGdldEFjdGl2ZTpmdW5jdGlvbigpe3JldHVybiBuLnN0YWNrW24uYWN0aXZlSW5kZXhdfSxnZXRQcmV2OmZ1bmN0aW9uKCl7cmV0dXJuIG4uc3RhY2tbbi5hY3RpdmVJbmRleC0xXX0sZ2V0TmV4dDpmdW5jdGlvbigpe3JldHVybiBuLnN0YWNrW24uYWN0aXZlSW5kZXgrDQoxXX0sYWRkTmV3OmZ1bmN0aW9uKGEsYixjLGQsZil7bi5nZXROZXh0KCkmJm4uY2xlYXJGb3J3YXJkKCk7bi5zdGFjay5wdXNoKHt1cmw6YSx0cmFuc2l0aW9uOmIsdGl0bGU6YyxwYWdlVXJsOmQscm9sZTpmfSk7bi5hY3RpdmVJbmRleD1uLnN0YWNrLmxlbmd0aC0xfSxjbGVhckZvcndhcmQ6ZnVuY3Rpb24oKXtuLnN0YWNrPW4uc3RhY2suc2xpY2UoMCxuLmFjdGl2ZUluZGV4KzEpfSxkaXJlY3RIYXNoQ2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBjLGQsZjt0aGlzLmdldEFjdGl2ZSgpO2EuZWFjaChuLnN0YWNrLGZ1bmN0aW9uKGEsZSl7Yi5jdXJyZW50VXJsPT09ZS51cmwmJihjPWE8bi5hY3RpdmVJbmRleCxkPSFjLGY9YSl9KTt0aGlzLmFjdGl2ZUluZGV4PWYhPT1lP2Y6dGhpcy5hY3RpdmVJbmRleDtjPyhiLmVpdGhlcnx8Yi5pc0JhY2spKHRydWUpOmQmJihiLmVpdGhlcnx8Yi5pc0ZvcndhcmQpKGZhbHNlKX0saWdub3JlTmV4dEhhc2hDaGFuZ2U6ZmFsc2V9LEE9W10sej1mYWxzZSwNCnM9IiZ1aS1zdGF0ZT1kaWFsb2ciLHY9cC5jaGlsZHJlbigiYmFzZSIpLHg9ai5wYXJzZVVybChsb2NhdGlvbi5ocmVmKSx0PXYubGVuZ3RoP2oucGFyc2VVcmwoai5tYWtlVXJsQWJzb2x1dGUodi5hdHRyKCJocmVmIikseC5ocmVmKSk6eCx3PXguaHJlZk5vSGFzaCE9PXQuaHJlZk5vSGFzaCx1PWEuc3VwcG9ydC5keW5hbWljQmFzZVRhZz97ZWxlbWVudDp2Lmxlbmd0aD92OmEoIjxiYXNlPiIse2hyZWY6dC5ocmVmTm9IYXNofSkucHJlcGVuZFRvKHApLHNldDpmdW5jdGlvbihhKXt1LmVsZW1lbnQuYXR0cigiaHJlZiIsai5tYWtlVXJsQWJzb2x1dGUoYSx0KSl9LHJlc2V0OmZ1bmN0aW9uKCl7dS5lbGVtZW50LmF0dHIoImhyZWYiLHQuaHJlZk5vSGFzaCl9fTplLEQ9dHJ1ZSx5LEMsQjt5PWZ1bmN0aW9uKCl7dmFyIGI9bzthLnN1cHBvcnQudG91Y2hPdmVyZmxvdyYmYS5tb2JpbGUudG91Y2hPdmVyZmxvd0VuYWJsZWQmJihiPWEoIi51aS1wYWdlLWFjdGl2ZSIpLGI9Yi5pcygiLnVpLW5hdGl2ZS1maXhlZCIpPw0KYi5maW5kKCIudWktY29udGVudCIpOmIpO3JldHVybiBifTtDPWZ1bmN0aW9uKGIpe2lmKEQpe3ZhciBjPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCk7aWYoYyliPWImJmIuc2Nyb2xsVG9wKCksYy5sYXN0U2Nyb2xsPWI8YS5tb2JpbGUubWluU2Nyb2xsQmFjaz9hLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbDpifX07Qj1mdW5jdGlvbigpe3NldFRpbWVvdXQoQywxMDAsYSh0aGlzKSl9O28uYmluZChhLnN1cHBvcnQucHVzaFN0YXRlPyJwb3BzdGF0ZSI6Imhhc2hjaGFuZ2UiLGZ1bmN0aW9uKCl7RD1mYWxzZX0pO28ub25lKGEuc3VwcG9ydC5wdXNoU3RhdGU/InBvcHN0YXRlIjoiaGFzaGNoYW5nZSIsZnVuY3Rpb24oKXtEPXRydWV9KTtvLm9uZSgicGFnZWNvbnRhaW5lcmNyZWF0ZSIsZnVuY3Rpb24oKXthLm1vYmlsZS5wYWdlQ29udGFpbmVyLmJpbmQoInBhZ2VjaGFuZ2UiLGZ1bmN0aW9uKCl7dmFyIGE9eSgpO0Q9dHJ1ZTthLnVuYmluZCgic2Nyb2xsc3RvcCIsQik7DQphLmJpbmQoInNjcm9sbHN0b3AiLEIpfSl9KTt5KCkuYmluZCgic2Nyb2xsc3RvcCIsQik7YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0PWg7YS5mbi5hbmltYXRpb25Db21wbGV0ZT1mdW5jdGlvbihiKXtyZXR1cm4gYS5zdXBwb3J0LmNzc1RyYW5zaXRpb25zP2EodGhpcykub25lKCJ3ZWJraXRBbmltYXRpb25FbmQiLGIpOihzZXRUaW1lb3V0KGIsMCksYSh0aGlzKSl9O2EubW9iaWxlLnBhdGg9ajthLm1vYmlsZS5iYXNlPXU7YS5tb2JpbGUudXJsSGlzdG9yeT1uO2EubW9iaWxlLmRpYWxvZ0hhc2hLZXk9czthLm1vYmlsZS5ub25lVHJhbnNpdGlvbkhhbmRsZXI9ZnVuY3Rpb24oYixjLGQsZil7ZiYmZi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpO2QuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKTtyZXR1cm4gYS5EZWZlcnJlZCgpLnJlc29sdmUoYixjLGQsZikucHJvbWlzZSgpfTthLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXI9YS5tb2JpbGUubm9uZVRyYW5zaXRpb25IYW5kbGVyOw0KYS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzPXtub25lOmEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcn07YS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzPWZhbHNlO2EubW9iaWxlLmdldERvY3VtZW50VXJsPWZ1bmN0aW9uKGIpe3JldHVybiBiP2EuZXh0ZW5kKHt9LHgpOnguaHJlZn07YS5tb2JpbGUuZ2V0RG9jdW1lbnRCYXNlPWZ1bmN0aW9uKGIpe3JldHVybiBiP2EuZXh0ZW5kKHt9LHQpOnQuaHJlZn07YS5tb2JpbGUuX2JpbmRQYWdlUmVtb3ZlPWZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTshYi5kYXRhKCJwYWdlIikub3B0aW9ucy5kb21DYWNoZSYmYi5pcygiOmpxbURhdGEoZXh0ZXJuYWwtcGFnZT0ndHJ1ZScpIikmJmIuYmluZCgicGFnZWhpZGUucmVtb3ZlIixmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksYz1uZXcgYS5FdmVudCgicGFnZXJlbW92ZSIpO2IudHJpZ2dlcihjKTtjLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxiLnJlbW92ZVdpdGhEZXBlbmRlbnRzKCl9KX07DQphLm1vYmlsZS5sb2FkUGFnZT1mdW5jdGlvbihiLGMpe3ZhciBkPWEuRGVmZXJyZWQoKSxmPWEuZXh0ZW5kKHt9LGEubW9iaWxlLmxvYWRQYWdlLmRlZmF1bHRzLGMpLGg9bnVsbCxnPW51bGwsbT1qLm1ha2VVcmxBYnNvbHV0ZShiLGEubW9iaWxlLmFjdGl2ZVBhZ2UmJmwoYS5tb2JpbGUuYWN0aXZlUGFnZSl8fHQuaHJlZk5vSGFzaCk7aWYoZi5kYXRhJiZmLnR5cGU9PT0iZ2V0IiltPWouYWRkU2VhcmNoUGFyYW1zKG0sZi5kYXRhKSxmLmRhdGE9ZTtpZihmLmRhdGEmJmYudHlwZT09PSJwb3N0IilmLnJlbG9hZFBhZ2U9dHJ1ZTt2YXIgcz1qLmdldEZpbGVQYXRoKG0pLHA9ai5jb252ZXJ0VXJsVG9EYXRhVXJsKG0pO2YucGFnZUNvbnRhaW5lcj1mLnBhZ2VDb250YWluZXJ8fGEubW9iaWxlLnBhZ2VDb250YWluZXI7aD1mLnBhZ2VDb250YWluZXIuY2hpbGRyZW4oIjpqcW1EYXRhKHVybD0nIitwKyInKSIpO2gubGVuZ3RoPT09MCYmcCYmIWouaXNQYXRoKHApJiYoaD1mLnBhZ2VDb250YWluZXIuY2hpbGRyZW4oIiMiKw0KcCkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmwiLHApKTtpZihoLmxlbmd0aD09PTApaWYoYS5tb2JpbGUuZmlyc3RQYWdlJiZqLmlzRmlyc3RQYWdlVXJsKHMpKWEubW9iaWxlLmZpcnN0UGFnZS5wYXJlbnQoKS5sZW5ndGgmJihoPWEoYS5tb2JpbGUuZmlyc3RQYWdlKSk7ZWxzZSBpZihqLmlzRW1iZWRkZWRQYWdlKHMpKXJldHVybiBkLnJlamVjdChtLGMpLGQucHJvbWlzZSgpO3UmJnUucmVzZXQoKTtpZihoLmxlbmd0aCl7aWYoIWYucmVsb2FkUGFnZSlyZXR1cm4gaShoLGYucm9sZSksZC5yZXNvbHZlKG0sYyxoKSxkLnByb21pc2UoKTtnPWh9dmFyIG49Zi5wYWdlQ29udGFpbmVyLGs9bmV3IGEuRXZlbnQoInBhZ2ViZWZvcmVsb2FkIikscT17dXJsOmIsYWJzVXJsOm0sZGF0YVVybDpwLGRlZmVycmVkOmQsb3B0aW9uczpmfTtuLnRyaWdnZXIoayxxKTtpZihrLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybiBkLnByb21pc2UoKTtpZihmLnNob3dMb2FkTXNnKXZhciB2PQ0Kc2V0VGltZW91dChmdW5jdGlvbigpe2EubW9iaWxlLnNob3dQYWdlTG9hZGluZ01zZygpfSxmLmxvYWRNc2dEZWxheSk7IWEubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmIWouaXNTYW1lRG9tYWluKHgsbSk/ZC5yZWplY3QobSxjKTphLmFqYXgoe3VybDpzLHR5cGU6Zi50eXBlLGRhdGE6Zi5kYXRhLGRhdGFUeXBlOiJodG1sIixzdWNjZXNzOmZ1bmN0aW9uKGUsbixrKXt2YXIgbz1hKCI8ZGl2PjwvZGl2PiIpLGw9ZS5tYXRjaCgvPHRpdGxlW14+XSo+KFtePF0qKS8pJiZSZWdFeHAuJDEsdD1SZWdFeHAoIlxcYmRhdGEtIithLm1vYmlsZS5ucysidXJsPVtcIiddPyhbXlwiJz5dKilbXCInXT8iKTtSZWdFeHAoIig8W14+XStcXGJkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9W1wiJ10/cGFnZVtcIiddP1tePl0qPikiKS50ZXN0KGUpJiZSZWdFeHAuJDEmJnQudGVzdChSZWdFeHAuJDEpJiZSZWdFeHAuJDEmJihiPXM9ai5nZXRGaWxlUGF0aChSZWdFeHAuJDEpKTt1JiZ1LnNldChzKTsNCm8uZ2V0KDApLmlubmVySFRNTD1lO2g9by5maW5kKCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikuZmlyc3QoKTtoLmxlbmd0aHx8KGg9YSgiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J3BhZ2UnPiIrZS5zcGxpdCgvPFwvP2JvZHlbXj5dKj4vZ21pKVsxXSsiPC9kaXY+IikpO2wmJiFoLmpxbURhdGEoInRpdGxlIikmJih+bC5pbmRleE9mKCImIikmJihsPWEoIjxkaXY+IitsKyI8L2Rpdj4iKS50ZXh0KCkpLGguanFtRGF0YSgidGl0bGUiLGwpKTtpZighYS5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnKXt2YXIgeD1qLmdldChzKTtoLmZpbmQoIltzcmNdLCBsaW5rW2hyZWZdLCBhW3JlbD0nZXh0ZXJuYWwnXSwgOmpxbURhdGEoYWpheD0nZmFsc2UnKSwgYVt0YXJnZXRdIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcykuaXMoIltocmVmXSIpPyJocmVmIjphKHRoaXMpLmlzKCJbc3JjXSIpPyJzcmMiOiJhY3Rpb24iLGM9YSh0aGlzKS5hdHRyKGIpLA0KYz1jLnJlcGxhY2UobG9jYXRpb24ucHJvdG9jb2wrIi8vIitsb2NhdGlvbi5ob3N0K2xvY2F0aW9uLnBhdGhuYW1lLCIiKTsvXihcdys6fCN8XC8pLy50ZXN0KGMpfHxhKHRoaXMpLmF0dHIoYix4K2MpfSl9aC5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIsai5jb252ZXJ0VXJsVG9EYXRhVXJsKHMpKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrImV4dGVybmFsLXBhZ2UiLHRydWUpLmFwcGVuZFRvKGYucGFnZUNvbnRhaW5lcik7aC5vbmUoInBhZ2VjcmVhdGUiLGEubW9iaWxlLl9iaW5kUGFnZVJlbW92ZSk7aShoLGYucm9sZSk7bS5pbmRleE9mKCImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KT4tMSYmKGg9Zi5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCI6anFtRGF0YSh1cmw9JyIrcCsiJykiKSk7Zi5zaG93TG9hZE1zZyYmKGNsZWFyVGltZW91dCh2KSxhLm1vYmlsZS5oaWRlUGFnZUxvYWRpbmdNc2coKSk7cS54aHI9aztxLnRleHRTdGF0dXM9bjtxLnBhZ2U9aDtmLnBhZ2VDb250YWluZXIudHJpZ2dlcigicGFnZWxvYWQiLA0KcSk7ZC5yZXNvbHZlKG0sYyxoLGcpfSxlcnJvcjpmdW5jdGlvbihiLGUsaCl7dSYmdS5zZXQoai5nZXQoKSk7cS54aHI9YjtxLnRleHRTdGF0dXM9ZTtxLmVycm9yVGhyb3duPWg7Yj1uZXcgYS5FdmVudCgicGFnZWxvYWRmYWlsZWQiKTtmLnBhZ2VDb250YWluZXIudHJpZ2dlcihiLHEpO2IuaXNEZWZhdWx0UHJldmVudGVkKCl8fChmLnNob3dMb2FkTXNnJiYoY2xlYXJUaW1lb3V0KHYpLGEubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpLGEoIjxkaXYgY2xhc3M9J3VpLWxvYWRlciB1aS1vdmVybGF5LXNoYWRvdyB1aS1ib2R5LWUgdWktY29ybmVyLWFsbCc+PGgxPiIrYS5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2UrIjwvaDE+PC9kaXY+IikuY3NzKHtkaXNwbGF5OiJibG9jayIsb3BhY2l0eTowLjk2LHRvcDpvLnNjcm9sbFRvcCgpKzEwMH0pLmFwcGVuZFRvKGYucGFnZUNvbnRhaW5lcikuZGVsYXkoODAwKS5mYWRlT3V0KDQwMCxmdW5jdGlvbigpe2EodGhpcykucmVtb3ZlKCl9KSksDQpkLnJlamVjdChtLGMpKX19KTtyZXR1cm4gZC5wcm9taXNlKCl9O2EubW9iaWxlLmxvYWRQYWdlLmRlZmF1bHRzPXt0eXBlOiJnZXQiLGRhdGE6ZSxyZWxvYWRQYWdlOmZhbHNlLHJvbGU6ZSxzaG93TG9hZE1zZzpmYWxzZSxwYWdlQ29udGFpbmVyOmUsbG9hZE1zZ0RlbGF5OjUwfTthLm1vYmlsZS5jaGFuZ2VQYWdlPWZ1bmN0aW9uKGIsaCl7aWYoeilBLnVuc2hpZnQoYXJndW1lbnRzKTtlbHNle3ZhciBnPWEuZXh0ZW5kKHt9LGEubW9iaWxlLmNoYW5nZVBhZ2UuZGVmYXVsdHMsaCk7Zy5wYWdlQ29udGFpbmVyPWcucGFnZUNvbnRhaW5lcnx8YS5tb2JpbGUucGFnZUNvbnRhaW5lcjtnLmZyb21QYWdlPWcuZnJvbVBhZ2V8fGEubW9iaWxlLmFjdGl2ZVBhZ2U7dmFyIHA9Zy5wYWdlQ29udGFpbmVyLGs9bmV3IGEuRXZlbnQoInBhZ2ViZWZvcmVjaGFuZ2UiKSxxPXt0b1BhZ2U6YixvcHRpb25zOmd9O3AudHJpZ2dlcihrLHEpO2lmKCFrLmlzRGVmYXVsdFByZXZlbnRlZCgpKWlmKGI9cS50b1BhZ2UsDQp6PXRydWUsdHlwZW9mIGI9PSJzdHJpbmciKWEubW9iaWxlLmxvYWRQYWdlKGIsZykuZG9uZShmdW5jdGlvbihiLGMsZCxmKXt6PWZhbHNlO2MuZHVwbGljYXRlQ2FjaGVkUGFnZT1mO2EubW9iaWxlLmNoYW5nZVBhZ2UoZCxjKX0pLmZhaWwoZnVuY3Rpb24oKXt6PWZhbHNlO2QodHJ1ZSk7ZigpO2cucGFnZUNvbnRhaW5lci50cmlnZ2VyKCJwYWdlY2hhbmdlZmFpbGVkIixxKX0pO2Vsc2V7aWYoYlswXT09PWEubW9iaWxlLmZpcnN0UGFnZVswXSYmIWcuZGF0YVVybClnLmRhdGFVcmw9eC5ocmVmTm9IYXNoO3ZhciBrPWcuZnJvbVBhZ2UsbD1nLmRhdGFVcmwmJmouY29udmVydFVybFRvRGF0YVVybChnLmRhdGFVcmwpfHxiLmpxbURhdGEoInVybCIpLHY9bDtqLmdldEZpbGVQYXRoKGwpO3ZhciBvPW4uZ2V0QWN0aXZlKCksdD1uLmFjdGl2ZUluZGV4PT09MCx3PTAsdT1kb2N1bWVudC50aXRsZSx5PWcucm9sZT09PSJkaWFsb2cifHxiLmpxbURhdGEoInJvbGUiKT09PSJkaWFsb2ciO2lmKGsmJg0Ka1swXT09PWJbMF0mJiFnLmFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uKXo9ZmFsc2UscC50cmlnZ2VyKCJwYWdlY2hhbmdlIixxKTtlbHNle2koYixnLnJvbGUpO2cuZnJvbUhhc2hDaGFuZ2UmJm4uZGlyZWN0SGFzaENoYW5nZSh7Y3VycmVudFVybDpsLGlzQmFjazpmdW5jdGlvbigpe3c9LTF9LGlzRm9yd2FyZDpmdW5jdGlvbigpe3c9MX19KTt0cnl7ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCYmZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT0iYm9keSI/YShkb2N1bWVudC5hY3RpdmVFbGVtZW50KS5ibHVyKCk6YSgiaW5wdXQ6Zm9jdXMsIHRleHRhcmVhOmZvY3VzLCBzZWxlY3Q6Zm9jdXMiKS5ibHVyKCl9Y2F0Y2goQil7fXkmJm8mJihsPShvLnVybHx8IiIpK3MpO2lmKGcuY2hhbmdlSGFzaCE9PWZhbHNlJiZsKW4uaWdub3JlTmV4dEhhc2hDaGFuZ2U9dHJ1ZSxqLnNldChsKTt2YXIgQz0hbz91OmIuanFtRGF0YSgidGl0bGUiKXx8Yi5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKS5maW5kKCIudWktdGl0bGUiKS5nZXRFbmNvZGVkVGV4dCgpOw0KQyYmdT09ZG9jdW1lbnQudGl0bGUmJih1PUMpO2IuanFtRGF0YSgidGl0bGUiKXx8Yi5qcW1EYXRhKCJ0aXRsZSIsdSk7Zy50cmFuc2l0aW9uPWcudHJhbnNpdGlvbnx8KHcmJiF0P28udHJhbnNpdGlvbjplKXx8KHk/YS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246YS5tb2JpbGUuZGVmYXVsdFBhZ2VUcmFuc2l0aW9uKTt3fHxuLmFkZE5ldyhsLGcudHJhbnNpdGlvbix1LHYsZy5yb2xlKTtkb2N1bWVudC50aXRsZT1uLmdldEFjdGl2ZSgpLnRpdGxlO2EubW9iaWxlLmFjdGl2ZVBhZ2U9YjtnLnJldmVyc2U9Zy5yZXZlcnNlfHx3PDA7YyhiLGssZy50cmFuc2l0aW9uLGcucmV2ZXJzZSkuZG9uZShmdW5jdGlvbigpe2QoKTtnLmR1cGxpY2F0ZUNhY2hlZFBhZ2UmJmcuZHVwbGljYXRlQ2FjaGVkUGFnZS5yZW1vdmUoKTttLnJlbW92ZUNsYXNzKCJ1aS1tb2JpbGUtcmVuZGVyaW5nIik7ZigpO3AudHJpZ2dlcigicGFnZWNoYW5nZSIscSl9KX19fX07YS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cz0NCnt0cmFuc2l0aW9uOmUscmV2ZXJzZTpmYWxzZSxjaGFuZ2VIYXNoOnRydWUsZnJvbUhhc2hDaGFuZ2U6ZmFsc2Uscm9sZTplLGR1cGxpY2F0ZUNhY2hlZFBhZ2U6ZSxwYWdlQ29udGFpbmVyOmUsc2hvd0xvYWRNc2c6dHJ1ZSxkYXRhVXJsOmUsZnJvbVBhZ2U6ZSxhbGxvd1NhbWVQYWdlVHJhbnNpdGlvbjpmYWxzZX07YS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHM9ZnVuY3Rpb24oKXthKCJmb3JtIikubGl2ZSgic3VibWl0IixmdW5jdGlvbihiKXt2YXIgYz1hKHRoaXMpO2lmKGEubW9iaWxlLmFqYXhFbmFibGVkJiYhYy5pcygiOmpxbURhdGEoYWpheD0nZmFsc2UnKSIpKXt2YXIgZD1jLmF0dHIoIm1ldGhvZCIpLGY9Yy5hdHRyKCJ0YXJnZXQiKSxlPWMuYXR0cigiYWN0aW9uIik7aWYoIWUmJihlPWwoYyksZT09PXQuaHJlZk5vSGFzaCkpZT14LmhyZWZOb1NlYXJjaDtlPWoubWFrZVVybEFic29sdXRlKGUsbChjKSk7IWouaXNFeHRlcm5hbChlKSYmIWYmJihhLm1vYmlsZS5jaGFuZ2VQYWdlKGUsDQp7dHlwZTpkJiZkLmxlbmd0aCYmZC50b0xvd2VyQ2FzZSgpfHwiZ2V0IixkYXRhOmMuc2VyaWFsaXplKCksdHJhbnNpdGlvbjpjLmpxbURhdGEoInRyYW5zaXRpb24iKSxkaXJlY3Rpb246Yy5qcW1EYXRhKCJkaXJlY3Rpb24iKSxyZWxvYWRQYWdlOnRydWV9KSxiLnByZXZlbnREZWZhdWx0KCkpfX0pO2EoZG9jdW1lbnQpLmJpbmQoInZjbGljayIsZnVuY3Rpb24oYil7aWYoIShiLndoaWNoPjEpJiZhLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQmJihiPWsoYi50YXJnZXQpKSYmai5wYXJzZVVybChiLmdldEF0dHJpYnV0ZSgiaHJlZiIpfHwiIyIpLmhhc2ghPT0iIyIpZCh0cnVlKSxxPWEoYikuY2xvc2VzdCgiLnVpLWJ0biIpLm5vdCgiLnVpLWRpc2FibGVkIikscS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksYSgiLiIrYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKyIgLnVpLWJ0biIpLm5vdChiKS5ibHVyKCl9KTthKGRvY3VtZW50KS5iaW5kKCJjbGljayIsZnVuY3Rpb24oYil7aWYoYS5tb2JpbGUubGlua0JpbmRpbmdFbmFibGVkKXt2YXIgYz0NCmsoYi50YXJnZXQpO2lmKGMmJiEoYi53aGljaD4xKSl7dmFyIGY9YShjKSxoPWZ1bmN0aW9uKCl7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtkKHRydWUpfSwyMDApfTtpZihmLmlzKCI6anFtRGF0YShyZWw9J2JhY2snKSIpKXJldHVybiB3aW5kb3cuaGlzdG9yeS5iYWNrKCksZmFsc2U7dmFyIGc9bChmKSxjPWoubWFrZVVybEFic29sdXRlKGYuYXR0cigiaHJlZiIpfHwiIyIsZyk7aWYoIWEubW9iaWxlLmFqYXhFbmFibGVkJiYhai5pc0VtYmVkZGVkUGFnZShjKSloKCk7ZWxzZXtpZihjLnNlYXJjaCgiIyIpIT0tMSlpZihjPWMucmVwbGFjZSgvW14jXSojLywiIikpYz1qLmlzUGF0aChjKT9qLm1ha2VVcmxBYnNvbHV0ZShjLGcpOmoubWFrZVVybEFic29sdXRlKCIjIitjLHguaHJlZk5vSGFzaCk7ZWxzZXtiLnByZXZlbnREZWZhdWx0KCk7cmV0dXJufXZhciBnPWYuaXMoIltyZWw9J2V4dGVybmFsJ10iKXx8Zi5pcygiOmpxbURhdGEoYWpheD0nZmFsc2UnKSIpfHxmLmlzKCJbdGFyZ2V0XSIpLA0KaT1hLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXMmJngucHJvdG9jb2w9PT0iZmlsZToiJiZjLnNlYXJjaCgvXmh0dHBzPzovKSE9LTE7Z3x8ai5pc0V4dGVybmFsKGMpJiYhaT9oKCk6KGg9Zi5qcW1EYXRhKCJ0cmFuc2l0aW9uIiksZz0oZz1mLmpxbURhdGEoImRpcmVjdGlvbiIpKSYmZz09PSJyZXZlcnNlInx8Zi5qcW1EYXRhKCJiYWNrIiksZj1mLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicmVsIil8fGUsYS5tb2JpbGUuY2hhbmdlUGFnZShjLHt0cmFuc2l0aW9uOmgscmV2ZXJzZTpnLHJvbGU6Zn0pLGIucHJldmVudERlZmF1bHQoKSl9fX19KTthKCIudWktcGFnZSIpLmxpdmUoInBhZ2VzaG93LnByZWZldGNoIixmdW5jdGlvbigpe3ZhciBiPVtdO2EodGhpcykuZmluZCgiYTpqcW1EYXRhKHByZWZldGNoKSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGY9Yy5hdHRyKCJocmVmIik7ZiYmYS5pbkFycmF5KGYsYik9PT0tMSYmKGIucHVzaChmKSxhLm1vYmlsZS5sb2FkUGFnZShmLA0Ke3JvbGU6Yy5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInJlbCIpfSkpfSl9KTthLm1vYmlsZS5faGFuZGxlSGFzaENoYW5nZT1mdW5jdGlvbihiKXt2YXIgYz1qLnN0cmlwSGFzaChiKSxmPXt0cmFuc2l0aW9uOmEubW9iaWxlLnVybEhpc3Rvcnkuc3RhY2subGVuZ3RoPT09MD8ibm9uZSI6ZSxjaGFuZ2VIYXNoOmZhbHNlLGZyb21IYXNoQ2hhbmdlOnRydWV9O2lmKCFhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZHx8bi5pZ25vcmVOZXh0SGFzaENoYW5nZSluLmlnbm9yZU5leHRIYXNoQ2hhbmdlPWZhbHNlO2Vsc2V7aWYobi5zdGFjay5sZW5ndGg+MSYmYy5pbmRleE9mKHMpPi0xKWlmKGEubW9iaWxlLmFjdGl2ZVBhZ2UuaXMoIi51aS1kaWFsb2ciKSluLmRpcmVjdEhhc2hDaGFuZ2Uoe2N1cnJlbnRVcmw6YyxlaXRoZXI6ZnVuY3Rpb24oYil7dmFyIGQ9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKTtjPWQucGFnZVVybDthLmV4dGVuZChmLHtyb2xlOmQucm9sZSx0cmFuc2l0aW9uOmQudHJhbnNpdGlvbiwNCnJldmVyc2U6Yn0pfX0pO2Vsc2V7bi5kaXJlY3RIYXNoQ2hhbmdlKHtjdXJyZW50VXJsOmMsaXNCYWNrOmZ1bmN0aW9uKCl7d2luZG93Lmhpc3RvcnkuYmFjaygpfSxpc0ZvcndhcmQ6ZnVuY3Rpb24oKXt3aW5kb3cuaGlzdG9yeS5mb3J3YXJkKCl9fSk7cmV0dXJufWM/KGM9dHlwZW9mIGM9PT0ic3RyaW5nIiYmIWouaXNQYXRoKGMpP2oubWFrZVVybEFic29sdXRlKCIjIitjLHQpOmMsYS5tb2JpbGUuY2hhbmdlUGFnZShjLGYpKTphLm1vYmlsZS5jaGFuZ2VQYWdlKGEubW9iaWxlLmZpcnN0UGFnZSxmKX19O28uYmluZCgiaGFzaGNoYW5nZSIsZnVuY3Rpb24oKXthLm1vYmlsZS5faGFuZGxlSGFzaENoYW5nZShsb2NhdGlvbi5oYXNoKX0pO2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VzaG93IixnKTthKHdpbmRvdykuYmluZCgidGhyb3R0bGVkcmVzaXplIixnKX19KShqUXVlcnkpOw0KKGZ1bmN0aW9uKGEsZSl7dmFyIGI9e30sZD1hKGUpLGY9YS5tb2JpbGUucGF0aC5wYXJzZVVybChsb2NhdGlvbi5ocmVmKTthLmV4dGVuZChiLHtpbml0aWFsRmlsZVBhdGg6Zi5wYXRobmFtZStmLnNlYXJjaCxpbml0aWFsSHJlZjpmLmhyZWZOb0hhc2gsaGFzaGNoYW5nZUZpcmVkOmZhbHNlLHN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJue2hhc2g6bG9jYXRpb24uaGFzaHx8IiMiK2IuaW5pdGlhbEZpbGVQYXRoLHRpdGxlOmRvY3VtZW50LnRpdGxlLGluaXRpYWxIcmVmOmIuaW5pdGlhbEhyZWZ9fSxyZXNldFVJS2V5czpmdW5jdGlvbihiKXt2YXIgZj0iJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSxkPWIuaW5kZXhPZihhLm1vYmlsZS5kaWFsb2dIYXNoS2V5KTtkPi0xP2I9Yi5zbGljZSgwLGQpKyIjIitiLnNsaWNlKGQpOmIuaW5kZXhPZihmKT4tMSYmKGI9Yi5zcGxpdChmKS5qb2luKCIjIitmKSk7cmV0dXJuIGJ9LG5leHRIYXNoQ2hhbmdlUHJldmVudGVkOmZ1bmN0aW9uKGMpe2EubW9iaWxlLnVybEhpc3RvcnkuaWdub3JlTmV4dEhhc2hDaGFuZ2U9DQpjO2Iub25IYXNoQ2hhbmdlRGlzYWJsZWQ9Y30sb25IYXNoQ2hhbmdlOmZ1bmN0aW9uKCl7aWYoIWIub25IYXNoQ2hhbmdlRGlzYWJsZWQpe3ZhciBjLGY7Yz1sb2NhdGlvbi5oYXNoO3ZhciBkPWEubW9iaWxlLnBhdGguaXNQYXRoKGMpLGU9ZD9sb2NhdGlvbi5ocmVmOmEubW9iaWxlLmdldERvY3VtZW50VXJsKCk7Yz1kP2MucmVwbGFjZSgiIyIsIiIpOmM7Zj1iLnN0YXRlKCk7Yz1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShjLGUpO2QmJihjPWIucmVzZXRVSUtleXMoYykpO2hpc3RvcnkucmVwbGFjZVN0YXRlKGYsZG9jdW1lbnQudGl0bGUsYyl9fSxvblBvcFN0YXRlOmZ1bmN0aW9uKGMpe3ZhciBmPWMub3JpZ2luYWxFdmVudC5zdGF0ZTtmJiYoYi5uZXh0SGFzaENoYW5nZVByZXZlbnRlZCh0cnVlKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5uZXh0SGFzaENoYW5nZVByZXZlbnRlZChmYWxzZSk7YS5tb2JpbGUuX2hhbmRsZUhhc2hDaGFuZ2UoZi5oYXNoKX0sMTAwKSl9LA0KaW5pdDpmdW5jdGlvbigpe2QuYmluZCgiaGFzaGNoYW5nZSIsYi5vbkhhc2hDaGFuZ2UpO2QuYmluZCgicG9wc3RhdGUiLGIub25Qb3BTdGF0ZSk7bG9jYXRpb24uaGFzaD09PSIiJiZoaXN0b3J5LnJlcGxhY2VTdGF0ZShiLnN0YXRlKCksZG9jdW1lbnQudGl0bGUsbG9jYXRpb24uaHJlZil9fSk7YShmdW5jdGlvbigpe2EubW9iaWxlLnB1c2hTdGF0ZUVuYWJsZWQmJmEuc3VwcG9ydC5wdXNoU3RhdGUmJmIuaW5pdCgpfSl9KShqUXVlcnksdGhpcyk7DQooZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZShiLGQsZixjKXt2YXIgZT1uZXcgYS5EZWZlcnJlZCxnPWQ/IiByZXZlcnNlIjoiIixpPSJ1aS1tb2JpbGUtdmlld3BvcnQtdHJhbnNpdGlvbmluZyB2aWV3cG9ydC0iK2I7Zi5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2YuYWRkKGMpLnJlbW92ZUNsYXNzKCJvdXQgaW4gcmV2ZXJzZSAiK2IpO2MmJmNbMF0hPT1mWzBdJiZjLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyk7Zi5wYXJlbnQoKS5yZW1vdmVDbGFzcyhpKTtlLnJlc29sdmUoYixkLGYsYyl9KTtmLnBhcmVudCgpLmFkZENsYXNzKGkpO2MmJmMuYWRkQ2xhc3MoYisiIG91dCIrZyk7Zi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrIiAiK2IrIiBpbiIrZyk7cmV0dXJuIGUucHJvbWlzZSgpfWEubW9iaWxlLmNzczNUcmFuc2l0aW9uSGFuZGxlcj1lO2lmKGEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcj09PWEubW9iaWxlLm5vbmVUcmFuc2l0aW9uSGFuZGxlcilhLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXI9DQplfSkoalF1ZXJ5LHRoaXMpOw0KKGZ1bmN0aW9uKGEpe2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuZGVncmFkZUlucHV0cz17Y29sb3I6ZmFsc2UsZGF0ZTpmYWxzZSxkYXRldGltZTpmYWxzZSwiZGF0ZXRpbWUtbG9jYWwiOmZhbHNlLGVtYWlsOmZhbHNlLG1vbnRoOmZhbHNlLG51bWJlcjpmYWxzZSxyYW5nZToibnVtYmVyIixzZWFyY2g6InRleHQiLHRlbDpmYWxzZSx0aW1lOmZhbHNlLHVybDpmYWxzZSx3ZWVrOmZhbHNlfTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oZSl7dmFyIGI9YShlLnRhcmdldCkuY2xvc2VzdCgnOmpxbURhdGEocm9sZT0icGFnZSIpJykuZGF0YSgicGFnZSIpLGQ7aWYoYilkPWIub3B0aW9ucyxhKGUudGFyZ2V0KS5maW5kKCJpbnB1dCIpLm5vdChiLmtlZXBOYXRpdmVTZWxlY3RvcigpKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxjPXRoaXMuZ2V0QXR0cmlidXRlKCJ0eXBlIiksZT1kLmRlZ3JhZGVJbnB1dHNbY118fCJ0ZXh0IjsNCmlmKGQuZGVncmFkZUlucHV0c1tjXSl7dmFyIGc9YSgiPGRpdj4iKS5odG1sKGIuY2xvbmUoKSkuaHRtbCgpLGk9Zy5pbmRleE9mKCIgdHlwZT0iKT4tMTtiLnJlcGxhY2VXaXRoKGcucmVwbGFjZShpPy9ccyt0eXBlPVsiJ10/XHcrWyciXT8vOi9cLz8+LywnIHR5cGU9IicrZSsnIiBkYXRhLScrYS5tb2JpbGUubnMrJ3R5cGU9IicrYysnIicrKGk/IiI6Ij4iKSkpfX0pfSl9KShqUXVlcnkpOw0KKGZ1bmN0aW9uKGEsZSl7YS53aWRnZXQoIm1vYmlsZS5kaWFsb2ciLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7Y2xvc2VCdG5UZXh0OiJDbG9zZSIsb3ZlcmxheVRoZW1lOiJhIixpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD10aGlzLmVsZW1lbnQsZj1hKCI8YSBocmVmPScjJyBkYXRhLSIrYS5tb2JpbGUubnMrImljb249J2RlbGV0ZScgZGF0YS0iK2EubW9iaWxlLm5zKyJpY29ucG9zPSdub3RleHQnPiIrdGhpcy5vcHRpb25zLmNsb3NlQnRuVGV4dCsiPC9hPiIpO2QuYWRkQ2xhc3MoInVpLW92ZXJsYXktIit0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lKTtkLmF0dHIoInJvbGUiLCJkaWFsb2ciKS5hZGRDbGFzcygidWktZGlhbG9nIikuZmluZCgiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCB1aS1vdmVybGF5LXNoYWRvdyIpLnByZXBlbmQoZikuZW5kKCkuZmluZCgiOmpxbURhdGEocm9sZT0nY29udGVudCcpLDpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIikuYWRkQ2xhc3MoInVpLW92ZXJsYXktc2hhZG93IikubGFzdCgpLmFkZENsYXNzKCJ1aS1jb3JuZXItYm90dG9tIik7DQpmLmJpbmQoInZjbGljayIsZnVuY3Rpb24oKXtiLmNsb3NlKCl9KTtkLmJpbmQoInZjbGljayBzdWJtaXQiLGZ1bmN0aW9uKGIpe3ZhciBiPWEoYi50YXJnZXQpLmNsb3Nlc3QoYi50eXBlPT09InZjbGljayI/ImEiOiJmb3JtIiksZjtiLmxlbmd0aCYmIWIuanFtRGF0YSgidHJhbnNpdGlvbiIpJiYoZj1hLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpfHx7fSxiLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidHJhbnNpdGlvbiIsZi50cmFuc2l0aW9ufHxhLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJkaXJlY3Rpb24iLCJyZXZlcnNlIikpfSkuYmluZCgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7YSh0aGlzKS5maW5kKCIuIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSl9LGNsb3NlOmZ1bmN0aW9uKCl7ZS5oaXN0b3J5LmJhY2soKX19KTthKGEubW9iaWxlLmRpYWxvZy5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IpLmxpdmUoInBhZ2VjcmVhdGUiLA0KZnVuY3Rpb24oKXthKHRoaXMpLmRpYWxvZygpfSl9KShqUXVlcnksdGhpcyk7DQooZnVuY3Rpb24oYSl7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5iYWNrQnRuVGV4dD0iQmFjayI7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5hZGRCYWNrQnRuPWZhbHNlO2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuYmFja0J0blRoZW1lPW51bGw7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5oZWFkZXJUaGVtZT0iYSI7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5mb290ZXJUaGVtZT0iYSI7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5jb250ZW50VGhlbWU9bnVsbDthKCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikubGl2ZSgicGFnZWNyZWF0ZSIsZnVuY3Rpb24oKXt2YXIgZT1hKHRoaXMpLGI9ZS5kYXRhKCJwYWdlIikub3B0aW9ucyxkPWUuanFtRGF0YSgicm9sZSIpLGY9Yi50aGVtZTthKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSwgOmpxbURhdGEocm9sZT0nZm9vdGVyJyksIDpqcW1EYXRhKHJvbGU9J2NvbnRlbnQnKSIsDQp0aGlzKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKSxlPWMuanFtRGF0YSgicm9sZSIpLGc9Yy5qcW1EYXRhKCJ0aGVtZSIpLGk9Z3x8Yi5jb250ZW50VGhlbWV8fGQ9PT0iZGlhbG9nIiYmZixrO2MuYWRkQ2xhc3MoInVpLSIrZSk7aWYoZT09PSJoZWFkZXIifHxlPT09ImZvb3RlciIpe3ZhciBsPWd8fChlPT09ImhlYWRlciI/Yi5oZWFkZXJUaGVtZTpiLmZvb3RlclRoZW1lKXx8ZjtjLmFkZENsYXNzKCJ1aS1iYXItIitsKS5hdHRyKCJyb2xlIixlPT09ImhlYWRlciI/ImJhbm5lciI6ImNvbnRlbnRpbmZvIik7Zz1jLmNoaWxkcmVuKCJhIik7aT1nLmhhc0NsYXNzKCJ1aS1idG4tbGVmdCIpO2s9Zy5oYXNDbGFzcygidWktYnRuLXJpZ2h0Iik7aT1pfHxnLmVxKDApLm5vdCgiLnVpLWJ0bi1yaWdodCIpLmFkZENsYXNzKCJ1aS1idG4tbGVmdCIpLmxlbmd0aDtrfHxnLmVxKDEpLmFkZENsYXNzKCJ1aS1idG4tcmlnaHQiKTtiLmFkZEJhY2tCdG4mJmU9PT0iaGVhZGVyIiYmYSgiLnVpLXBhZ2UiKS5sZW5ndGg+DQoxJiZjLmpxbURhdGEoInVybCIpIT09YS5tb2JpbGUucGF0aC5zdHJpcEhhc2gobG9jYXRpb24uaGFzaCkmJiFpJiZhKCI8YSBocmVmPScjJyBjbGFzcz0ndWktYnRuLWxlZnQnIGRhdGEtIithLm1vYmlsZS5ucysicmVsPSdiYWNrJyBkYXRhLSIrYS5tb2JpbGUubnMrImljb249J2Fycm93LWwnPiIrYi5iYWNrQnRuVGV4dCsiPC9hPiIpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiLGIuYmFja0J0blRoZW1lfHxsKS5wcmVwZW5kVG8oYyk7Yy5jaGlsZHJlbigiaDEsIGgyLCBoMywgaDQsIGg1LCBoNiIpLmFkZENsYXNzKCJ1aS10aXRsZSIpLmF0dHIoe3RhYmluZGV4OiIwIixyb2xlOiJoZWFkaW5nIiwiYXJpYS1sZXZlbCI6IjEifSl9ZWxzZSBlPT09ImNvbnRlbnQiJiYoaSYmYy5hZGRDbGFzcygidWktYm9keS0iK2kpLGMuYXR0cigicm9sZSIsIm1haW4iKSl9KX0pfSkoalF1ZXJ5KTsNCihmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLmNvbGxhcHNpYmxlIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2V4cGFuZEN1ZVRleHQ6IiBjbGljayB0byBleHBhbmQgY29udGVudHMiLGNvbGxhcHNlQ3VlVGV4dDoiIGNsaWNrIHRvIGNvbGxhcHNlIGNvbnRlbnRzIixjb2xsYXBzZWQ6dHJ1ZSxoZWFkaW5nOiJoMSxoMixoMyxoNCxoNSxoNixsZWdlbmQiLHRoZW1lOm51bGwsY29udGVudFRoZW1lOm51bGwsaWNvblRoZW1lOiJkIixpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbGVtZW50LGI9dGhpcy5vcHRpb25zLGQ9ZS5hZGRDbGFzcygidWktY29sbGFwc2libGUiKSxmPWUuY2hpbGRyZW4oYi5oZWFkaW5nKS5maXJzdCgpLGM9ZC53cmFwSW5uZXIoIjxkaXYgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWNvbnRlbnQnPjwvZGl2PiIpLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1jb250ZW50IiksDQpoPWUuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JykiKS5hZGRDbGFzcygidWktY29sbGFwc2libGUtc2V0IiksZT1oLmNoaWxkcmVuKCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZScpIik7Zi5pcygibGVnZW5kIikmJihmPWEoIjxkaXYgcm9sZT0naGVhZGluZyc+IitmLmh0bWwoKSsiPC9kaXY+IikuaW5zZXJ0QmVmb3JlKGYpLGYubmV4dCgpLnJlbW92ZSgpKTtpZihoLmxlbmd0aCl7aWYoIWIudGhlbWUpYi50aGVtZT1oLmpxbURhdGEoInRoZW1lIik7aWYoIWIuY29udGVudFRoZW1lKWIuY29udGVudFRoZW1lPWguanFtRGF0YSgiY29udGVudC10aGVtZSIpfWMuYWRkQ2xhc3MoYi5jb250ZW50VGhlbWU/InVpLWJvZHktIitiLmNvbnRlbnRUaGVtZToiIik7Zi5pbnNlcnRCZWZvcmUoYykuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmciKS5hcHBlbmQoIjxzcGFuIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyc+PC9zcGFuPiIpLndyYXBJbm5lcigiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctdG9nZ2xlJz48L2E+IikuZmluZCgiYSIpLmZpcnN0KCkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ZmFsc2UsDQpjb3JuZXJzOmZhbHNlLGljb25Qb3M6ImxlZnQiLGljb246InBsdXMiLHRoZW1lOmIudGhlbWV9KTtoLmxlbmd0aD8oaC5qcW1EYXRhKCJjb2xsYXBzaWJsZWJvdW5kIil8fGguanFtRGF0YSgiY29sbGFwc2libGVib3VuZCIsdHJ1ZSkuYmluZCgiZXhwYW5kIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5jbG9zZXN0KCIudWktY29sbGFwc2libGUiKS5zaWJsaW5ncygiLnVpLWNvbGxhcHNpYmxlIikudHJpZ2dlcigiY29sbGFwc2UiKX0pLGUuZmlyc3QoKS5maW5kKCJhIikuZmlyc3QoKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCIpLmZpbmQoIi51aS1idG4taW5uZXIiKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCIpLGUubGFzdCgpLmpxbURhdGEoImNvbGxhcHNpYmxlLWxhc3QiLHRydWUpLmZpbmQoImEiKS5maXJzdCgpLmFkZENsYXNzKCJ1aS1jb3JuZXItYm90dG9tIikuZmluZCgiLnVpLWJ0bi1pbm5lciIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYm90dG9tIiksZC5qcW1EYXRhKCJjb2xsYXBzaWJsZS1sYXN0IikmJg0KZi5maW5kKCJhIikuZmlyc3QoKS5hZGQoZi5maW5kKCIudWktYnRuLWlubmVyIikpLmFkZENsYXNzKCJ1aS1jb3JuZXItYm90dG9tIikpOmYuZmluZCgiYSIpLmZpcnN0KCkuYWRkKGYuZmluZCgiLnVpLWJ0bi1pbm5lciIpKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIik7ZC5iaW5kKCJleHBhbmQgY29sbGFwc2UiLGZ1bmN0aW9uKGUpe2lmKCFlLmlzRGVmYXVsdFByZXZlbnRlZCgpKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIGk9YSh0aGlzKSxlPWUudHlwZT09PSJjb2xsYXBzZSIsaz1iLmNvbnRlbnRUaGVtZTtmLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZCIsZSkuZmluZCgiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzIikudGV4dChlP2IuZXhwYW5kQ3VlVGV4dDpiLmNvbGxhcHNlQ3VlVGV4dCkuZW5kKCkuZmluZCgiLnVpLWljb24iKS50b2dnbGVDbGFzcygidWktaWNvbi1taW51cyIsIWUpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLXBsdXMiLA0KZSk7aS50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtY29sbGFwc2VkIixlKTtjLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb250ZW50LWNvbGxhcHNlZCIsZSkuYXR0cigiYXJpYS1oaWRkZW4iLGUpO2lmKGsmJighaC5sZW5ndGh8fGQuanFtRGF0YSgiY29sbGFwc2libGUtbGFzdCIpKSlmLmZpbmQoImEiKS5maXJzdCgpLmFkZChmLmZpbmQoIi51aS1idG4taW5uZXIiKSkudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iLGUpLGMudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iLCFlKTtjLnRyaWdnZXIoInVwZGF0ZWxheW91dCIpfX0pLnRyaWdnZXIoYi5jb2xsYXBzZWQ/ImNvbGxhcHNlIjoiZXhwYW5kIik7Zi5iaW5kKCJjbGljayIsZnVuY3Rpb24oYSl7dmFyIGI9Zi5pcygiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkIik/ImV4cGFuZCI6ImNvbGxhcHNlIjtkLnRyaWdnZXIoYik7YS5wcmV2ZW50RGVmYXVsdCgpfSl9fSk7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLA0KZnVuY3Rpb24oZSl7YShhLm1vYmlsZS5jb2xsYXBzaWJsZS5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsZS50YXJnZXQpLmNvbGxhcHNpYmxlKCl9KX0pKGpRdWVyeSk7KGZ1bmN0aW9uKGEpe2EuZm4uZmllbGRjb250YWluPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWRkQ2xhc3MoInVpLWZpZWxkLWNvbnRhaW4gdWktYm9keSB1aS1iciIpfTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oZSl7YSgiOmpxbURhdGEocm9sZT0nZmllbGRjb250YWluJykiLGUudGFyZ2V0KS5maWVsZGNvbnRhaW4oKX0pfSkoalF1ZXJ5KTsNCihmdW5jdGlvbihhKXthLmZuLmdyaWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksZD1hLmV4dGVuZCh7Z3JpZDpudWxsfSxlKSxmPWIuY2hpbGRyZW4oKSxjPXtzb2xvOjEsYToyLGI6MyxjOjQsZDo1fSxkPWQuZ3JpZDtpZighZClpZihmLmxlbmd0aDw9NSlmb3IodmFyIGggaW4gYyljW2hdPT09Zi5sZW5ndGgmJihkPWgpO2Vsc2UgZD0iYSI7Yz1jW2RdO2IuYWRkQ2xhc3MoInVpLWdyaWQtIitkKTtmLmZpbHRlcigiOm50aC1jaGlsZCgiK2MrIm4rMSkiKS5hZGRDbGFzcygidWktYmxvY2stYSIpO2M+MSYmZi5maWx0ZXIoIjpudGgtY2hpbGQoIitjKyJuKzIpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWIiKTtjPjImJmYuZmlsdGVyKCI6bnRoLWNoaWxkKDNuKzMpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWMiKTtjPjMmJmYuZmlsdGVyKCI6bnRoLWNoaWxkKDRuKzQpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWQiKTtjPjQmJmYuZmlsdGVyKCI6bnRoLWNoaWxkKDVuKzUpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWUiKX0pfX0pKGpRdWVyeSk7DQooZnVuY3Rpb24oYSxlKXthLndpZGdldCgibW9iaWxlLm5hdmJhciIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntpY29ucG9zOiJ0b3AiLGdyaWQ6bnVsbCxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J25hdmJhcicpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxkPWIuZmluZCgiYSIpLGY9ZC5maWx0ZXIoIjpqcW1EYXRhKGljb24pIikubGVuZ3RoP3RoaXMub3B0aW9ucy5pY29ucG9zOmU7Yi5hZGRDbGFzcygidWktbmF2YmFyIikuYXR0cigicm9sZSIsIm5hdmlnYXRpb24iKS5maW5kKCJ1bCIpLmdyaWQoe2dyaWQ6dGhpcy5vcHRpb25zLmdyaWR9KTtmfHxiLmFkZENsYXNzKCJ1aS1uYXZiYXItbm9pY29ucyIpO2QuYnV0dG9uTWFya3VwKHtjb3JuZXJzOmZhbHNlLHNoYWRvdzpmYWxzZSxpY29ucG9zOmZ9KTtiLmRlbGVnYXRlKCJhIiwidmNsaWNrIixmdW5jdGlvbigpe2Qubm90KCIudWktc3RhdGUtcGVyc2lzdCIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTsNCmEodGhpcykuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSl9fSk7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EoYS5tb2JpbGUubmF2YmFyLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvcixiLnRhcmdldCkubmF2YmFyKCl9KX0pKGpRdWVyeSk7DQooZnVuY3Rpb24oYSl7dmFyIGU9e307YS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGNvdW50VGhlbWU6ImMiLGhlYWRlclRoZW1lOiJiIixkaXZpZGVyVGhlbWU6ImIiLHNwbGl0SWNvbjoiYXJyb3ctciIsc3BsaXRUaGVtZToiYiIsaW5zZXQ6ZmFsc2UsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdsaXN0dmlldycpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5lbGVtZW50LmFkZENsYXNzKGZ1bmN0aW9uKGQsZil7cmV0dXJuIGYrIiB1aS1saXN0dmlldyAiKyhhLm9wdGlvbnMuaW5zZXQ/IiB1aS1saXN0dmlldy1pbnNldCB1aS1jb3JuZXItYWxsIHVpLXNoYWRvdyAiOiIiKX0pO2EucmVmcmVzaCh0cnVlKX0sX3JlbW92ZUNvcm5lcnM6ZnVuY3Rpb24oYSxkKXthPWEuYWRkKGEuZmluZCgiLnVpLWJ0bi1pbm5lciwgLnVpLWxpLWxpbmstYWx0LCAudWktbGktdGh1bWIiKSk7ZD09PSJ0b3AiP2EucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci10b3AgdWktY29ybmVyLXRyIHVpLWNvcm5lci10bCIpOg0KZD09PSJib3R0b20iP2EucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci1ib3R0b20gdWktY29ybmVyLWJyIHVpLWNvcm5lci1ibCIpOmEucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci10b3AgdWktY29ybmVyLXRyIHVpLWNvcm5lci10bCB1aS1jb3JuZXItYm90dG9tIHVpLWNvcm5lci1iciB1aS1jb3JuZXItYmwiKX0sX3JlZnJlc2hDb3JuZXJzOmZ1bmN0aW9uKGEpe3ZhciBkLGY7dGhpcy5vcHRpb25zLmluc2V0JiYoZD10aGlzLmVsZW1lbnQuY2hpbGRyZW4oImxpIiksZj1hP2Qubm90KCIudWktc2NyZWVuLWhpZGRlbiIpOmQuZmlsdGVyKCI6dmlzaWJsZSIpLHRoaXMuX3JlbW92ZUNvcm5lcnMoZCksZD1mLmZpcnN0KCkuYWRkQ2xhc3MoInVpLWNvcm5lci10b3AiKSxkLmFkZChkLmZpbmQoIi51aS1idG4taW5uZXIiKS5ub3QoIi51aS1saS1saW5rLWFsdCBzcGFuOmZpcnN0LWNoaWxkIikpLmFkZENsYXNzKCJ1aS1jb3JuZXItdG9wIikuZW5kKCkuZmluZCgiLnVpLWxpLWxpbmstYWx0LCAudWktbGktbGluay1hbHQgc3BhbjpmaXJzdC1jaGlsZCIpLmFkZENsYXNzKCJ1aS1jb3JuZXItdHIiKS5lbmQoKS5maW5kKCIudWktbGktdGh1bWIiKS5ub3QoIi51aS1saS1pY29uIikuYWRkQ2xhc3MoInVpLWNvcm5lci10bCIpLA0KZj1mLmxhc3QoKS5hZGRDbGFzcygidWktY29ybmVyLWJvdHRvbSIpLGYuYWRkKGYuZmluZCgiLnVpLWJ0bi1pbm5lciIpKS5maW5kKCIudWktbGktbGluay1hbHQiKS5hZGRDbGFzcygidWktY29ybmVyLWJyIikuZW5kKCkuZmluZCgiLnVpLWxpLXRodW1iIikubm90KCIudWktbGktaWNvbiIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYmwiKSk7YXx8dGhpcy5lbGVtZW50LnRyaWdnZXIoInVwZGF0ZWxheW91dCIpfSxfZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZTpmdW5jdGlvbihhLGQsZixjKXt2YXIgZT17fTtmb3IoZVtmXT1lW2NdPXRydWU7YTspe2lmKGVbYS5ub2RlTmFtZV0pcmV0dXJuIGE7YT1hW2RdfXJldHVybiBudWxsfSxfZ2V0Q2hpbGRyZW5CeVRhZ05hbWU6ZnVuY3Rpb24oYixkLGYpe3ZhciBjPVtdLGU9e307ZVtkXT1lW2ZdPXRydWU7Zm9yKGI9Yi5maXJzdENoaWxkO2I7KWVbYi5ub2RlTmFtZV0mJmMucHVzaChiKSxiPWIubmV4dFNpYmxpbmc7cmV0dXJuIGEoYyl9LF9hZGRUaHVtYkNsYXNzZXM6ZnVuY3Rpb24oYil7dmFyIGQsDQpmLGM9Yi5sZW5ndGg7Zm9yKGQ9MDtkPGM7ZCsrKWY9YSh0aGlzLl9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lKGJbZF0uZmlyc3RDaGlsZCwibmV4dFNpYmxpbmciLCJpbWciLCJJTUciKSksZi5sZW5ndGgmJihmLmFkZENsYXNzKCJ1aS1saS10aHVtYiIpLGEodGhpcy5fZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZShmWzBdLnBhcmVudE5vZGUsInBhcmVudE5vZGUiLCJsaSIsIkxJIikpLmFkZENsYXNzKGYuaXMoIi51aS1saS1pY29uIik/InVpLWxpLWhhcy1pY29uIjoidWktbGktaGFzLXRodW1iIikpfSxyZWZyZXNoOmZ1bmN0aW9uKGIpe3RoaXMucGFyZW50UGFnZT10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKTt0aGlzLl9jcmVhdGVTdWJQYWdlcygpO3ZhciBkPXRoaXMub3B0aW9ucyxmPXRoaXMuZWxlbWVudCxjPWYuanFtRGF0YSgiZGl2aWRlcnRoZW1lIil8fGQuZGl2aWRlclRoZW1lLGU9Zi5qcW1EYXRhKCJzcGxpdHRoZW1lIiksZz1mLmpxbURhdGEoInNwbGl0aWNvbiIpLA0KaT10aGlzLl9nZXRDaGlsZHJlbkJ5VGFnTmFtZShmWzBdLCJsaSIsIkxJIiksaz1hLnN1cHBvcnQuY3NzUHNldWRvRWxlbWVudHx8IWEubm9kZU5hbWUoZlswXSwib2wiKT8wOjEsbD17fSxvLG0scCxqLHE7ayYmZi5maW5kKCIudWktbGktZGVjIikucmVtb3ZlKCk7aWYoIWQudGhlbWUpZC50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQsImMiKTtmb3IodmFyIG49MCxBPWkubGVuZ3RoO248QTtuKyspe289aS5lcShuKTttPSJ1aS1saSI7aWYoYnx8IW8uaGFzQ2xhc3MoInVpLWxpIikpcD1vLmpxbURhdGEoInRoZW1lIil8fGQudGhlbWUsaj10aGlzLl9nZXRDaGlsZHJlbkJ5VGFnTmFtZShvWzBdLCJhIiwiQSIpLGoubGVuZ3RoPyhxPW8uanFtRGF0YSgiaWNvbiIpLG8uYnV0dG9uTWFya3VwKHt3cmFwcGVyRWxzOiJkaXYiLHNoYWRvdzpmYWxzZSxjb3JuZXJzOmZhbHNlLGljb25wb3M6InJpZ2h0IixpY29uOmoubGVuZ3RoPjF8fHE9PT1mYWxzZT9mYWxzZToNCnF8fCJhcnJvdy1yIix0aGVtZTpwfSkscSE9ZmFsc2UmJmoubGVuZ3RoPT0xJiZvLmFkZENsYXNzKCJ1aS1saS1oYXMtYXJyb3ciKSxqLmZpcnN0KCkuYWRkQ2xhc3MoInVpLWxpbmstaW5oZXJpdCIpLGoubGVuZ3RoPjEmJihtKz0iIHVpLWxpLWhhcy1hbHQiLGo9ai5sYXN0KCkscT1lfHxqLmpxbURhdGEoInRoZW1lIil8fGQuc3BsaXRUaGVtZSxqLmFwcGVuZFRvKG8pLmF0dHIoInRpdGxlIixqLmdldEVuY29kZWRUZXh0KCkpLmFkZENsYXNzKCJ1aS1saS1saW5rLWFsdCIpLmVtcHR5KCkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ZmFsc2UsY29ybmVyczpmYWxzZSx0aGVtZTpwLGljb246ZmFsc2UsaWNvbnBvczpmYWxzZX0pLmZpbmQoIi51aS1idG4taW5uZXIiKS5hcHBlbmQoYShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIikpLmJ1dHRvbk1hcmt1cCh7c2hhZG93OnRydWUsY29ybmVyczp0cnVlLHRoZW1lOnEsaWNvbnBvczoibm90ZXh0IixpY29uOmd8fGouanFtRGF0YSgiaWNvbiIpfHwNCmQuc3BsaXRJY29ufSkpKSk6by5qcW1EYXRhKCJyb2xlIik9PT0ibGlzdC1kaXZpZGVyIj8obSs9IiB1aS1saS1kaXZpZGVyIHVpLWJ0biB1aS1iYXItIitjLG8uYXR0cigicm9sZSIsImhlYWRpbmciKSxrJiYoaz0xKSk6bSs9IiB1aS1saS1zdGF0aWMgdWktYm9keS0iK3A7ayYmbS5pbmRleE9mKCJ1aS1saS1kaXZpZGVyIik8MCYmKHA9by5pcygiLnVpLWxpLXN0YXRpYzpmaXJzdCIpP286by5maW5kKCIudWktbGluay1pbmhlcml0IikscC5hZGRDbGFzcygidWktbGktanNudW1iZXJpbmciKS5wcmVwZW5kKCI8c3BhbiBjbGFzcz0ndWktbGktZGVjJz4iK2srKyArIi4gPC9zcGFuPiIpKTtsW21dfHwobFttXT1bXSk7bFttXS5wdXNoKG9bMF0pfWZvcihtIGluIGwpYShsW21dKS5hZGRDbGFzcyhtKS5jaGlsZHJlbigiLnVpLWJ0bi1pbm5lciIpLmFkZENsYXNzKG0pO2YuZmluZCgiaDEsIGgyLCBoMywgaDQsIGg1LCBoNiIpLmFkZENsYXNzKCJ1aS1saS1oZWFkaW5nIikuZW5kKCkuZmluZCgicCwgZGwiKS5hZGRDbGFzcygidWktbGktZGVzYyIpLmVuZCgpLmZpbmQoIi51aS1saS1hc2lkZSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj0NCmEodGhpcyk7Yi5wcmVwZW5kVG8oYi5wYXJlbnQoKSl9KS5lbmQoKS5maW5kKCIudWktbGktY291bnQiKS5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5jbG9zZXN0KCJsaSIpLmFkZENsYXNzKCJ1aS1saS1oYXMtY291bnQiKX0pLmFkZENsYXNzKCJ1aS1idG4tdXAtIisoZi5qcW1EYXRhKCJjb3VudHRoZW1lIil8fHRoaXMub3B0aW9ucy5jb3VudFRoZW1lKSsiIHVpLWJ0bi1jb3JuZXItYWxsIik7dGhpcy5fYWRkVGh1bWJDbGFzc2VzKGkpO3RoaXMuX2FkZFRodW1iQ2xhc3NlcyhmLmZpbmQoIi51aS1saW5rLWluaGVyaXQiKSk7dGhpcy5fcmVmcmVzaENvcm5lcnMoYil9LF9pZFN0cmluZ0VzY2FwZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywiLSIpfSxfY3JlYXRlU3ViUGFnZXM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsZD1iLmNsb3Nlc3QoIi51aS1wYWdlIiksZj1kLmpxbURhdGEoInVybCIpLGM9Znx8ZFswXVthLmV4cGFuZG9dLA0KaD1iLmF0dHIoImlkIiksZz10aGlzLm9wdGlvbnMsaT0iZGF0YS0iK2EubW9iaWxlLm5zLGs9dGhpcyxsPWQuZmluZCgiOmpxbURhdGEocm9sZT0nZm9vdGVyJykiKS5qcW1EYXRhKCJpZCIpLG87dHlwZW9mIGVbY109PT0idW5kZWZpbmVkIiYmKGVbY109LTEpO2g9aHx8KytlW2NdO2EoYi5maW5kKCJsaT51bCwgbGk+b2wiKS50b0FycmF5KCkucmV2ZXJzZSgpKS5lYWNoKGZ1bmN0aW9uKGMpe3ZhciBkPWEodGhpcyksZT1kLmF0dHIoImlkIil8fGgrIi0iK2MsYz1kLnBhcmVudCgpLGs9YShkLnByZXZBbGwoKS50b0FycmF5KCkucmV2ZXJzZSgpKSxrPWsubGVuZ3RoP2s6YSgiPHNwYW4+IithLnRyaW0oYy5jb250ZW50cygpWzBdLm5vZGVWYWx1ZSkrIjwvc3Bhbj4iKSxuPWsuZmlyc3QoKS5nZXRFbmNvZGVkVGV4dCgpLGU9KGZ8fCIiKSsiJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSsiPSIrZSxBPWQuanFtRGF0YSgidGhlbWUiKXx8Zy50aGVtZSx6PWQuanFtRGF0YSgiY291bnR0aGVtZSIpfHwNCmIuanFtRGF0YSgiY291bnR0aGVtZSIpfHxnLmNvdW50VGhlbWU7bz10cnVlO2QuZGV0YWNoKCkud3JhcCgiPGRpdiAiK2krInJvbGU9J3BhZ2UnICIraSsidXJsPSciK2UrIicgIitpKyJ0aGVtZT0nIitBKyInICIraSsiY291bnQtdGhlbWU9JyIreisiJz48ZGl2ICIraSsicm9sZT0nY29udGVudCc+PC9kaXY+PC9kaXY+IikucGFyZW50KCkuYmVmb3JlKCI8ZGl2ICIraSsicm9sZT0naGVhZGVyJyAiK2krInRoZW1lPSciK2cuaGVhZGVyVGhlbWUrIic+PGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrbisiPC9kaXY+PC9kaXY+IikuYWZ0ZXIobD9hKCI8ZGl2ICIraSsicm9sZT0nZm9vdGVyJyAiK2krImlkPSciK2wrIic+Iik6IiIpLnBhcmVudCgpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLnBhZ2UoKTtkPWMuZmluZCgiYTpmaXJzdCIpO2QubGVuZ3RofHwoZD1hKCI8YS8+IikuaHRtbChrfHxuKS5wcmVwZW5kVG8oYy5lbXB0eSgpKSk7ZC5hdHRyKCJocmVmIiwiIyIrZSl9KS5saXN0dmlldygpOw0KbyYmZC5pcygiOmpxbURhdGEoZXh0ZXJuYWwtcGFnZT0ndHJ1ZScpIikmJmQuZGF0YSgicGFnZSIpLm9wdGlvbnMuZG9tQ2FjaGU9PT1mYWxzZSYmZC51bmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIpLmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIsZnVuY3Rpb24oYixjKXt2YXIgZT1jLm5leHRQYWdlO2MubmV4dFBhZ2UmJihlPWUuanFtRGF0YSgidXJsIiksZS5pbmRleE9mKGYrIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkpIT09MCYmKGsuY2hpbGRQYWdlcygpLnJlbW92ZSgpLGQucmVtb3ZlKCkpKX0pfSxjaGlsZFBhZ2VzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5wYXJlbnRQYWdlLmpxbURhdGEoInVybCIpO3JldHVybiBhKCI6anFtRGF0YSh1cmxePSciK2IrIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkrIicpIil9fSk7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EoYS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuaW5pdFNlbGVjdG9yLA0KYi50YXJnZXQpLmxpc3R2aWV3KCl9KX0pKGpRdWVyeSk7DQooZnVuY3Rpb24oYSl7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyPWZhbHNlO2EubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlclBsYWNlaG9sZGVyPSJGaWx0ZXIgaXRlbXMuLi4iO2EubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlclRoZW1lPSJjIjthLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJDYWxsYmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiBhLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihiKT09PS0xfTthKCI6anFtRGF0YShyb2xlPSdsaXN0dmlldycpIikubGl2ZSgibGlzdHZpZXdjcmVhdGUiLGZ1bmN0aW9uKCl7dmFyIGU9YSh0aGlzKSxiPWUuZGF0YSgibGlzdHZpZXciKTtpZihiLm9wdGlvbnMuZmlsdGVyKXt2YXIgZD1hKCI8Zm9ybT4iLHsiY2xhc3MiOiJ1aS1saXN0dmlldy1maWx0ZXIgdWktYmFyLSIrYi5vcHRpb25zLmZpbHRlclRoZW1lLHJvbGU6InNlYXJjaCJ9KTsNCmEoIjxpbnB1dD4iLHtwbGFjZWhvbGRlcjpiLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXJ9KS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInR5cGUiLCJzZWFyY2giKS5qcW1EYXRhKCJsYXN0dmFsIiwiIikuYmluZCgia2V5dXAgY2hhbmdlIixmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksYz10aGlzLnZhbHVlLnRvTG93ZXJDYXNlKCksaD1udWxsLGg9ZC5qcW1EYXRhKCJsYXN0dmFsIikrIiIsZz1mYWxzZSxpPSIiO2QuanFtRGF0YSgibGFzdHZhbCIsYyk7aT1jLnN1YnN0cigwLGgubGVuZ3RoLTEpLnJlcGxhY2UoaCwiIik7aD1jLmxlbmd0aDxoLmxlbmd0aHx8aS5sZW5ndGghPWMubGVuZ3RoLWgubGVuZ3RoP2UuY2hpbGRyZW4oKTplLmNoaWxkcmVuKCI6bm90KC51aS1zY3JlZW4taGlkZGVuKSIpO2lmKGMpe2Zvcih2YXIgaz1oLmxlbmd0aC0xO2s+PTA7ay0tKWQ9YShoW2tdKSxpPWQuanFtRGF0YSgiZmlsdGVydGV4dCIpfHxkLnRleHQoKSxkLmlzKCJsaTpqcW1EYXRhKHJvbGU9bGlzdC1kaXZpZGVyKSIpPw0KKGQudG9nZ2xlQ2xhc3MoInVpLWZpbHRlci1oaWRlcXVldWUiLCFnKSxnPWZhbHNlKTpiLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2soaSxjKT9kLnRvZ2dsZUNsYXNzKCJ1aS1maWx0ZXItaGlkZXF1ZXVlIix0cnVlKTpnPXRydWU7aC5maWx0ZXIoIjpub3QoLnVpLWZpbHRlci1oaWRlcXVldWUpIikudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLGZhbHNlKTtoLmZpbHRlcigiLnVpLWZpbHRlci1oaWRlcXVldWUiKS50b2dnbGVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIsdHJ1ZSkudG9nZ2xlQ2xhc3MoInVpLWZpbHRlci1oaWRlcXVldWUiLGZhbHNlKX1lbHNlIGgudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLGZhbHNlKTtiLl9yZWZyZXNoQ29ybmVycygpfSkuYXBwZW5kVG8oZCkudGV4dGlucHV0KCk7YSh0aGlzKS5qcW1EYXRhKCJpbnNldCIpJiZkLmFkZENsYXNzKCJ1aS1saXN0dmlldy1maWx0ZXItaW5zZXQiKTtkLmJpbmQoInN1Ym1pdCIsZnVuY3Rpb24oKXtyZXR1cm4gZmFsc2V9KS5pbnNlcnRCZWZvcmUoZSl9fSl9KShqUXVlcnkpOw0KKGZ1bmN0aW9uKGEpe2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihlKXthKCI6anFtRGF0YShyb2xlPSdub2pzJykiLGUudGFyZ2V0KS5hZGRDbGFzcygidWktbm9qcyIpfSl9KShqUXVlcnkpOw0KKGZ1bmN0aW9uKGEsZSl7YS53aWRnZXQoIm1vYmlsZS5jaGVja2JveHJhZGlvIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsaW5pdFNlbGVjdG9yOiJpbnB1dFt0eXBlPSdjaGVja2JveCddLGlucHV0W3R5cGU9J3JhZGlvJ10ifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxkPXRoaXMuZWxlbWVudCxmPWQuY2xvc2VzdCgiZm9ybSxmaWVsZHNldCw6anFtRGF0YShyb2xlPSdwYWdlJykiKS5maW5kKCJsYWJlbFtmb3I9JyIrZFswXS5pZCsiJ10iKSxjPWQuYXR0cigidHlwZSIpLGg9YysiLW9uIixnPWMrIi1vZmYiLGk9ZC5wYXJlbnRzKCI6anFtRGF0YSh0eXBlPSdob3Jpem9udGFsJykiKS5sZW5ndGg/ZTpnO2lmKCEoYyE9PSJjaGVja2JveCImJmMhPT0icmFkaW8iKSl7YS5leHRlbmQodGhpcyx7bGFiZWw6ZixpbnB1dHR5cGU6YyxjaGVja2VkQ2xhc3M6InVpLSIraCsoaT8iIjoiICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLHVuY2hlY2tlZENsYXNzOiJ1aS0iKw0KZyxjaGVja2VkaWNvbjoidWktaWNvbi0iK2gsdW5jaGVja2VkaWNvbjoidWktaWNvbi0iK2d9KTtpZighdGhpcy5vcHRpb25zLnRoZW1lKXRoaXMub3B0aW9ucy50aGVtZT10aGlzLmVsZW1lbnQuanFtRGF0YSgidGhlbWUiKTtmLmJ1dHRvbk1hcmt1cCh7dGhlbWU6dGhpcy5vcHRpb25zLnRoZW1lLGljb246aSxzaGFkb3c6ZmFsc2V9KTtkLmFkZChmKS53cmFwQWxsKCI8ZGl2IGNsYXNzPSd1aS0iK2MrIic+PC9kaXY+Iik7Zi5iaW5kKHt2bW91c2VvdmVyOmZ1bmN0aW9uKGIpe2EodGhpcykucGFyZW50KCkuaXMoIi51aS1kaXNhYmxlZCIpJiZiLnN0b3BQcm9wYWdhdGlvbigpfSx2Y2xpY2s6ZnVuY3Rpb24oYSl7aWYoZC5pcygiOmRpc2FibGVkIikpYS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgcmV0dXJuIGIuX2NhY2hlVmFscygpLGQucHJvcCgiY2hlY2tlZCIsYz09PSJyYWRpbyImJnRydWV8fCFkLnByb3AoImNoZWNrZWQiKSksZC50cmlnZ2VySGFuZGxlcigiY2xpY2siKSxiLl9nZXRJbnB1dFNldCgpLm5vdChkKS5wcm9wKCJjaGVja2VkIiwNCmZhbHNlKSxiLl91cGRhdGVBbGwoKSxmYWxzZX19KTtkLmJpbmQoe3Ztb3VzZWRvd246ZnVuY3Rpb24oKXtiLl9jYWNoZVZhbHMoKX0sdmNsaWNrOmZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKTtjLmlzKCI6Y2hlY2tlZCIpPyhjLnByb3AoImNoZWNrZWQiLHRydWUpLGIuX2dldElucHV0U2V0KCkubm90KGMpLnByb3AoImNoZWNrZWQiLGZhbHNlKSk6Yy5wcm9wKCJjaGVja2VkIixmYWxzZSk7Yi5fdXBkYXRlQWxsKCl9LGZvY3VzOmZ1bmN0aW9uKCl7Zi5hZGRDbGFzcygidWktZm9jdXMiKX0sYmx1cjpmdW5jdGlvbigpe2YucmVtb3ZlQ2xhc3MoInVpLWZvY3VzIil9fSk7dGhpcy5yZWZyZXNoKCl9fSxfY2FjaGVWYWxzOmZ1bmN0aW9uKCl7dGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtiLmpxbURhdGEoImNhY2hlVmFsIixiLmlzKCI6Y2hlY2tlZCIpKX0pfSxfZ2V0SW5wdXRTZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnB1dHR5cGU9PQ0KImNoZWNrYm94Ij90aGlzLmVsZW1lbnQ6dGhpcy5lbGVtZW50LmNsb3Nlc3QoImZvcm0sZmllbGRzZXQsOmpxbURhdGEocm9sZT0ncGFnZScpIikuZmluZCgiaW5wdXRbbmFtZT0nIit0aGlzLmVsZW1lbnQuYXR0cigibmFtZSIpKyInXVt0eXBlPSciK3RoaXMuaW5wdXR0eXBlKyInXSIpfSxfdXBkYXRlQWxsOmZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpOyhkLmlzKCI6Y2hlY2tlZCIpfHxiLmlucHV0dHlwZT09PSJjaGVja2JveCIpJiZkLnRyaWdnZXIoImNoYW5nZSIpfSkuY2hlY2tib3hyYWRpbygicmVmcmVzaCIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGQ9dGhpcy5sYWJlbCxmPWQuZmluZCgiLnVpLWljb24iKTthKGJbMF0pLnByb3AoImNoZWNrZWQiKT8oZC5hZGRDbGFzcyh0aGlzLmNoZWNrZWRDbGFzcykucmVtb3ZlQ2xhc3ModGhpcy51bmNoZWNrZWRDbGFzcyksDQpmLmFkZENsYXNzKHRoaXMuY2hlY2tlZGljb24pLnJlbW92ZUNsYXNzKHRoaXMudW5jaGVja2VkaWNvbikpOihkLnJlbW92ZUNsYXNzKHRoaXMuY2hlY2tlZENsYXNzKS5hZGRDbGFzcyh0aGlzLnVuY2hlY2tlZENsYXNzKSxmLnJlbW92ZUNsYXNzKHRoaXMuY2hlY2tlZGljb24pLmFkZENsYXNzKHRoaXMudW5jaGVja2VkaWNvbikpO2IuaXMoIjpkaXNhYmxlZCIpP3RoaXMuZGlzYWJsZSgpOnRoaXMuZW5hYmxlKCl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLHRydWUpLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLGZhbHNlKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUuY2hlY2tib3hyYWRpby5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCl9KX0pKGpRdWVyeSk7DQooZnVuY3Rpb24oYSxlKXthLndpZGdldCgibW9iaWxlLmJ1dHRvbiIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGljb246bnVsbCxpY29ucG9zOm51bGwsaW5saW5lOm51bGwsY29ybmVyczp0cnVlLHNoYWRvdzp0cnVlLGljb25zaGFkb3c6dHJ1ZSxpbml0U2VsZWN0b3I6ImJ1dHRvbiwgW3R5cGU9J2J1dHRvbiddLCBbdHlwZT0nc3VibWl0J10sIFt0eXBlPSdyZXNldCddLCBbdHlwZT0naW1hZ2UnXSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsZD10aGlzLm9wdGlvbnMsZixjO3RoaXMuYnV0dG9uPWEoIjxkaXY+PC9kaXY+IikudGV4dChiLnRleHQoKXx8Yi52YWwoKSkuaW5zZXJ0QmVmb3JlKGIpLmJ1dHRvbk1hcmt1cCh7dGhlbWU6ZC50aGVtZSxpY29uOmQuaWNvbixpY29ucG9zOmQuaWNvbnBvcyxpbmxpbmU6ZC5pbmxpbmUsY29ybmVyczpkLmNvcm5lcnMsc2hhZG93OmQuc2hhZG93LGljb25zaGFkb3c6ZC5pY29uc2hhZG93fSkuYXBwZW5kKGIuYWRkQ2xhc3MoInVpLWJ0bi1oaWRkZW4iKSk7DQpkPWIuYXR0cigidHlwZSIpO2Y9Yi5hdHRyKCJuYW1lIik7ZCE9PSJidXR0b24iJiZkIT09InJlc2V0IiYmZiYmYi5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKCl7Yz09PWUmJihjPWEoIjxpbnB1dD4iLHt0eXBlOiJoaWRkZW4iLG5hbWU6Yi5hdHRyKCJuYW1lIiksdmFsdWU6Yi5hdHRyKCJ2YWx1ZSIpfSkuaW5zZXJ0QmVmb3JlKGIpLGEoZG9jdW1lbnQpLm9uZSgic3VibWl0IixmdW5jdGlvbigpe2MucmVtb3ZlKCk7Yz1lfSkpfSk7dGhpcy5yZWZyZXNoKCl9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsZmFsc2UpO3RoaXMuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLGZhbHNlKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsZmFsc2UpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIix0cnVlKTt0aGlzLmJ1dHRvbi5hZGRDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwNCnRydWUpO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIix0cnVlKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudDthLnByb3AoImRpc2FibGVkIik/dGhpcy5kaXNhYmxlKCk6dGhpcy5lbmFibGUoKTt0aGlzLmJ1dHRvbi5kYXRhKCJ0ZXh0V3JhcHBlciIpLnRleHQoYS50ZXh0KCl8fGEudmFsKCkpfX0pO2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5idXR0b24ucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KShqUXVlcnkpOw0KKGZ1bmN0aW9uKGEsZSl7YS53aWRnZXQoIm1vYmlsZS5zbGlkZXIiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCx0cmFja1RoZW1lOm51bGwsZGlzYWJsZWQ6ZmFsc2UsaW5pdFNlbGVjdG9yOiJpbnB1dFt0eXBlPSdyYW5nZSddLCA6anFtRGF0YSh0eXBlPSdyYW5nZScpLCA6anFtRGF0YShyb2xlPSdzbGlkZXInKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGQ9dGhpcy5lbGVtZW50LGY9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoZCwiYyIpLGM9dGhpcy5vcHRpb25zLnRoZW1lfHxmLGg9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWV8fGYsZz1kWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksZj1nPT0ic2VsZWN0Ij8idWktc2xpZGVyLXN3aXRjaCI6IiIsaT1kLmF0dHIoImlkIiksaz1pKyItbGFiZWwiLGk9YSgiW2Zvcj0nIitpKyInXSIpLmF0dHIoImlkIixrKSxsPWZ1bmN0aW9uKCl7cmV0dXJuIGc9PSJpbnB1dCI/cGFyc2VGbG9hdChkLnZhbCgpKToNCmRbMF0uc2VsZWN0ZWRJbmRleH0sbz1nPT0iaW5wdXQiP3BhcnNlRmxvYXQoZC5hdHRyKCJtaW4iKSk6MCxtPWc9PSJpbnB1dCI/cGFyc2VGbG9hdChkLmF0dHIoIm1heCIpKTpkLmZpbmQoIm9wdGlvbiIpLmxlbmd0aC0xLHA9d2luZG93LnBhcnNlRmxvYXQoZC5hdHRyKCJzdGVwIil8fDEpLGo9YSgiPGRpdiBjbGFzcz0ndWktc2xpZGVyICIrZisiIHVpLWJ0bi1kb3duLSIraCsiIHVpLWJ0bi1jb3JuZXItYWxsJyByb2xlPSdhcHBsaWNhdGlvbic+PC9kaXY+IikscT1hKCI8YSBocmVmPScjJyBjbGFzcz0ndWktc2xpZGVyLWhhbmRsZSc+PC9hPiIpLmFwcGVuZFRvKGopLmJ1dHRvbk1hcmt1cCh7Y29ybmVyczp0cnVlLHRoZW1lOmMsc2hhZG93OnRydWV9KS5hdHRyKHtyb2xlOiJzbGlkZXIiLCJhcmlhLXZhbHVlbWluIjpvLCJhcmlhLXZhbHVlbWF4IjptLCJhcmlhLXZhbHVlbm93IjpsKCksImFyaWEtdmFsdWV0ZXh0IjpsKCksdGl0bGU6bCgpLCJhcmlhLWxhYmVsbGVkYnkiOmt9KTsNCmEuZXh0ZW5kKHRoaXMse3NsaWRlcjpqLGhhbmRsZTpxLGRyYWdnaW5nOmZhbHNlLGJlZm9yZVN0YXJ0Om51bGwsdXNlck1vZGlmaWVkOmZhbHNlLG1vdXNlTW92ZWQ6ZmFsc2V9KTtnPT0ic2VsZWN0IiYmKGoud3JhcElubmVyKCI8ZGl2IGNsYXNzPSd1aS1zbGlkZXItaW5uZXJvZmZzZXQnPjwvZGl2PiIpLHEuYWRkQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKSxkLmZpbmQoIm9wdGlvbiIpLGQuZmluZCgib3B0aW9uIikuZWFjaChmdW5jdGlvbihiKXt2YXIgYz0hYj8iYiI6ImEiLGQ9IWI/InJpZ2h0IjoibGVmdCIsYj0hYj8iIHVpLWJ0bi1kb3duLSIraDoiICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3M7YSgiPGRpdiBjbGFzcz0ndWktc2xpZGVyLWxhYmVsYmcgdWktc2xpZGVyLWxhYmVsYmctIitjK2IrIiB1aS1idG4tY29ybmVyLSIrZCsiJz48L2Rpdj4iKS5wcmVwZW5kVG8oaik7YSgiPHNwYW4gY2xhc3M9J3VpLXNsaWRlci1sYWJlbCB1aS1zbGlkZXItbGFiZWwtIisNCmMrYisiIHVpLWJ0bi1jb3JuZXItIitkKyInIHJvbGU9J2ltZyc+IithKHRoaXMpLmdldEVuY29kZWRUZXh0KCkrIjwvc3Bhbj4iKS5wcmVwZW5kVG8ocSl9KSk7aS5hZGRDbGFzcygidWktc2xpZGVyIik7ZC5hZGRDbGFzcyhnPT09ImlucHV0Ij8idWktc2xpZGVyLWlucHV0IjoidWktc2xpZGVyLXN3aXRjaCIpLmNoYW5nZShmdW5jdGlvbigpe2IubW91c2VNb3ZlZHx8Yi5yZWZyZXNoKGwoKSx0cnVlKX0pLmtleXVwKGZ1bmN0aW9uKCl7Yi5yZWZyZXNoKGwoKSx0cnVlLHRydWUpfSkuYmx1cihmdW5jdGlvbigpe2IucmVmcmVzaChsKCksdHJ1ZSl9KTthKGRvY3VtZW50KS5iaW5kKCJ2bW91c2Vtb3ZlIixmdW5jdGlvbihhKXtpZihiLmRyYWdnaW5nKXJldHVybiBiLm1vdXNlTW92ZWQ9dHJ1ZSxnPT09InNlbGVjdCImJnEucmVtb3ZlQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKSxiLnJlZnJlc2goYSksYi51c2VyTW9kaWZpZWQ9Yi5iZWZvcmVTdGFydCE9PWRbMF0uc2VsZWN0ZWRJbmRleCwNCmZhbHNlfSk7ai5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbihhKXtiLmRyYWdnaW5nPXRydWU7Yi51c2VyTW9kaWZpZWQ9ZmFsc2U7Yi5tb3VzZU1vdmVkPWZhbHNlO2lmKGc9PT0ic2VsZWN0IiliLmJlZm9yZVN0YXJ0PWRbMF0uc2VsZWN0ZWRJbmRleDtiLnJlZnJlc2goYSk7cmV0dXJuIGZhbHNlfSk7ai5hZGQoZG9jdW1lbnQpLmJpbmQoInZtb3VzZXVwIixmdW5jdGlvbigpe2lmKGIuZHJhZ2dpbmcpcmV0dXJuIGIuZHJhZ2dpbmc9ZmFsc2UsZz09PSJzZWxlY3QiJiYocS5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLGIubW91c2VNb3ZlZD9iLnVzZXJNb2RpZmllZD9iLnJlZnJlc2goYi5iZWZvcmVTdGFydD09MD8xOjApOmIucmVmcmVzaChiLmJlZm9yZVN0YXJ0KTpiLnJlZnJlc2goYi5iZWZvcmVTdGFydD09MD8xOjApKSxiLm1vdXNlTW92ZWQ9ZmFsc2V9KTtqLmluc2VydEFmdGVyKGQpO3RoaXMuaGFuZGxlLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKCl7YSh0aGlzKS5mb2N1cygpfSkuYmluZCgidmNsaWNrIiwNCmZhbHNlKTt0aGlzLmhhbmRsZS5iaW5kKCJrZXlkb3duIixmdW5jdGlvbihjKXt2YXIgZD1sKCk7aWYoIWIub3B0aW9ucy5kaXNhYmxlZCl7c3dpdGNoKGMua2V5Q29kZSl7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkhPTUU6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkVORDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUklHSFQ6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkRPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkxFRlQ6aWYoYy5wcmV2ZW50RGVmYXVsdCgpLCFiLl9rZXlTbGlkaW5nKWIuX2tleVNsaWRpbmc9dHJ1ZSxhKHRoaXMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKX1zd2l0Y2goYy5rZXlDb2RlKXtjYXNlIGEubW9iaWxlLmtleUNvZGUuSE9NRTpiLnJlZnJlc2gobyk7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkVORDpiLnJlZnJlc2gobSk7DQpicmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlJJR0hUOmIucmVmcmVzaChkK3ApO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX0RPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkRPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkxFRlQ6Yi5yZWZyZXNoKGQtcCl9fX0pLmtleXVwKGZ1bmN0aW9uKCl7aWYoYi5fa2V5U2xpZGluZyliLl9rZXlTbGlkaW5nPWZhbHNlLGEodGhpcykucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpfSk7dGhpcy5yZWZyZXNoKGUsZSx0cnVlKX0scmVmcmVzaDpmdW5jdGlvbihhLGQsZil7KHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIikpJiZ0aGlzLmRpc2FibGUoKTt2YXIgYz10aGlzLmVsZW1lbnQsZSxnPWNbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxpPWc9PT0iaW5wdXQiP3BhcnNlRmxvYXQoYy5hdHRyKCJtaW4iKSk6DQowLGs9Zz09PSJpbnB1dCI/cGFyc2VGbG9hdChjLmF0dHIoIm1heCIpKTpjLmZpbmQoIm9wdGlvbiIpLmxlbmd0aC0xO2lmKHR5cGVvZiBhPT09Im9iamVjdCIpe2lmKCF0aGlzLmRyYWdnaW5nfHxhLnBhZ2VYPHRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQtOHx8YS5wYWdlWD50aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0K3RoaXMuc2xpZGVyLndpZHRoKCkrOClyZXR1cm47ZT1NYXRoLnJvdW5kKChhLnBhZ2VYLXRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQpL3RoaXMuc2xpZGVyLndpZHRoKCkqMTAwKX1lbHNlIGE9PW51bGwmJihhPWc9PT0iaW5wdXQiP3BhcnNlRmxvYXQoYy52YWwoKSk6Y1swXS5zZWxlY3RlZEluZGV4KSxlPShwYXJzZUZsb2F0KGEpLWkpLyhrLWkpKjEwMDtpZighaXNOYU4oZSkmJihlPDAmJihlPTApLGU+MTAwJiYoZT0xMDApLGE9TWF0aC5yb3VuZChlLzEwMCooay1pKSkraSxhPGkmJihhPWkpLGE+ayYmKGE9ayksdGhpcy5oYW5kbGUuY3NzKCJsZWZ0IixlKyIlIiksDQp0aGlzLmhhbmRsZS5hdHRyKHsiYXJpYS12YWx1ZW5vdyI6Zz09PSJpbnB1dCI/YTpjLmZpbmQoIm9wdGlvbiIpLmVxKGEpLmF0dHIoInZhbHVlIiksImFyaWEtdmFsdWV0ZXh0IjpnPT09ImlucHV0Ij9hOmMuZmluZCgib3B0aW9uIikuZXEoYSkuZ2V0RW5jb2RlZFRleHQoKSx0aXRsZTphfSksZz09PSJzZWxlY3QiJiYoYT09PTA/dGhpcy5zbGlkZXIuYWRkQ2xhc3MoInVpLXNsaWRlci1zd2l0Y2gtYSIpLnJlbW92ZUNsYXNzKCJ1aS1zbGlkZXItc3dpdGNoLWIiKTp0aGlzLnNsaWRlci5hZGRDbGFzcygidWktc2xpZGVyLXN3aXRjaC1iIikucmVtb3ZlQ2xhc3MoInVpLXNsaWRlci1zd2l0Y2gtYSIpKSwhZikpZj1mYWxzZSxnPT09ImlucHV0Ij8oZj1jLnZhbCgpIT09YSxjLnZhbChhKSk6KGY9Y1swXS5zZWxlY3RlZEluZGV4IT09YSxjWzBdLnNlbGVjdGVkSW5kZXg9YSksIWQmJmYmJmMudHJpZ2dlcigiY2hhbmdlIil9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsDQpmYWxzZSk7dGhpcy5zbGlkZXIucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsZmFsc2UpO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIixmYWxzZSl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLHRydWUpO3RoaXMuc2xpZGVyLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLHRydWUpO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIix0cnVlKX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUuc2xpZGVyLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0KX0pfSkoalF1ZXJ5KTsNCihmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnRleHRpbnB1dCIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ndGV4dCddLCBpbnB1dFt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJyksIGlucHV0W3R5cGU9J251bWJlciddLCA6anFtRGF0YSh0eXBlPSdudW1iZXInKSwgaW5wdXRbdHlwZT0ncGFzc3dvcmQnXSwgaW5wdXRbdHlwZT0nZW1haWwnXSwgaW5wdXRbdHlwZT0ndXJsJ10sIGlucHV0W3R5cGU9J3RlbCddLCB0ZXh0YXJlYSwgaW5wdXRbdHlwZT0ndGltZSddLCBpbnB1dFt0eXBlPSdkYXRlJ10sIGlucHV0W3R5cGU9J21vbnRoJ10sIGlucHV0W3R5cGU9J3dlZWsnXSwgaW5wdXRbdHlwZT0nZGF0ZXRpbWUnXSwgaW5wdXRbdHlwZT0nZGF0ZXRpbWUtbG9jYWwnXSwgaW5wdXRbdHlwZT0nY29sb3InXSwgaW5wdXQ6bm90KFt0eXBlXSkifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbGVtZW50LA0KYj10aGlzLm9wdGlvbnMudGhlbWV8fGEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudCwiYyIpLGQ9IiB1aS1ib2R5LSIrYixmLGM7YSgibGFiZWxbZm9yPSciK2UuYXR0cigiaWQiKSsiJ10iKS5hZGRDbGFzcygidWktaW5wdXQtdGV4dCIpO2Y9ZS5hZGRDbGFzcygidWktaW5wdXQtdGV4dCB1aS1ib2R5LSIrYik7dHlwZW9mIGVbMF0uYXV0b2NvcnJlY3QhPT0idW5kZWZpbmVkIiYmIWEuc3VwcG9ydC50b3VjaE92ZXJmbG93JiYoZVswXS5zZXRBdHRyaWJ1dGUoImF1dG9jb3JyZWN0Iiwib2ZmIiksZVswXS5zZXRBdHRyaWJ1dGUoImF1dG9jb21wbGV0ZSIsIm9mZiIpKTtlLmlzKCJbdHlwZT0nc2VhcmNoJ10sOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKT8oZj1lLndyYXAoIjxkaXYgY2xhc3M9J3VpLWlucHV0LXNlYXJjaCB1aS1zaGFkb3ctaW5zZXQgdWktYnRuLWNvcm5lci1hbGwgdWktYnRuLXNoYWRvdyB1aS1pY29uLXNlYXJjaGZpZWxkIitkKyInPjwvZGl2PiIpLnBhcmVudCgpLA0KYz1hKCI8YSBocmVmPScjJyBjbGFzcz0ndWktaW5wdXQtY2xlYXInIHRpdGxlPSdjbGVhciB0ZXh0Jz5jbGVhciB0ZXh0PC9hPiIpLnRhcChmdW5jdGlvbihhKXtlLnZhbCgiIikuZm9jdXMoKTtlLnRyaWdnZXIoImNoYW5nZSIpO2MuYWRkQ2xhc3MoInVpLWlucHV0LWNsZWFyLWhpZGRlbiIpO2EucHJldmVudERlZmF1bHQoKX0pLmFwcGVuZFRvKGYpLmJ1dHRvbk1hcmt1cCh7aWNvbjoiZGVsZXRlIixpY29ucG9zOiJub3RleHQiLGNvcm5lcnM6dHJ1ZSxzaGFkb3c6dHJ1ZX0pLGI9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy50b2dnbGVDbGFzcygidWktaW5wdXQtY2xlYXItaGlkZGVuIiwhZS52YWwoKSl9LDApfSxiKCksZS5iaW5kKCJwYXN0ZSBjdXQga2V5dXAgZm9jdXMgY2hhbmdlIGJsdXIiLGIpKTplLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIHVpLXNoYWRvdy1pbnNldCIrZCk7ZS5mb2N1cyhmdW5jdGlvbigpe2YuYWRkQ2xhc3MoInVpLWZvY3VzIil9KS5ibHVyKGZ1bmN0aW9uKCl7Zi5yZW1vdmVDbGFzcygidWktZm9jdXMiKX0pOw0KaWYoZS5pcygidGV4dGFyZWEiKSl7dmFyIGg9ZnVuY3Rpb24oKXt2YXIgYT1lWzBdLnNjcm9sbEhlaWdodDtlWzBdLmNsaWVudEhlaWdodDxhJiZlLmhlaWdodChhKzE1KX0sZztlLmtleXVwKGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGcpO2c9c2V0VGltZW91dChoLDEwMCl9KTthLnRyaW0oZS52YWwoKSkmJihhKHdpbmRvdykubG9hZChoKSxhKGRvY3VtZW50KS5vbmUoInBhZ2VjaGFuZ2UiLGgpKX19LGRpc2FibGU6ZnVuY3Rpb24oKXsodGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIix0cnVlKS5pcygiW3R5cGU9J3NlYXJjaCddLDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIik/dGhpcy5lbGVtZW50LnBhcmVudCgpOnRoaXMuZWxlbWVudCkuYWRkQ2xhc3MoInVpLWRpc2FibGVkIil9LGVuYWJsZTpmdW5jdGlvbigpeyh0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLGZhbHNlKS5pcygiW3R5cGU9J3NlYXJjaCddLDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIik/dGhpcy5lbGVtZW50LnBhcmVudCgpOg0KdGhpcy5lbGVtZW50KS5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oZSl7YS5tb2JpbGUudGV4dGlucHV0LnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGUudGFyZ2V0KX0pfSkoalF1ZXJ5KTsNCihmdW5jdGlvbihhKXt2YXIgZT1mdW5jdGlvbihiKXt2YXIgZD1iLnNlbGVjdElELGY9Yi5sYWJlbCxjPWIuc2VsZWN0LmNsb3Nlc3QoIi51aS1wYWdlIiksZT1hKCI8ZGl2PiIseyJjbGFzcyI6InVpLXNlbGVjdG1lbnUtc2NyZWVuIHVpLXNjcmVlbi1oaWRkZW4ifSkuYXBwZW5kVG8oYyksZz1iLl9zZWxlY3RPcHRpb25zKCksaT1iLmlzTXVsdGlwbGU9Yi5zZWxlY3RbMF0ubXVsdGlwbGUsaz1kKyItYnV0dG9uIixsPWQrIi1tZW51IixvPWEoIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdkaWFsb2cnIGRhdGEtIithLm1vYmlsZS5ucysidGhlbWU9JyIrYi5vcHRpb25zLnRoZW1lKyInIGRhdGEtIithLm1vYmlsZS5ucysib3ZlcmxheS10aGVtZT0nIitiLm9wdGlvbnMub3ZlcmxheVRoZW1lKyInPjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdoZWFkZXInPjxkaXYgY2xhc3M9J3VpLXRpdGxlJz4iK2YuZ2V0RW5jb2RlZFRleHQoKSsiPC9kaXY+PC9kaXY+PGRpdiBkYXRhLSIrDQphLm1vYmlsZS5ucysicm9sZT0nY29udGVudCc+PC9kaXY+PC9kaXY+IikuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lcikucGFnZSgpLG09YSgiPGRpdj4iLHsiY2xhc3MiOiJ1aS1zZWxlY3RtZW51IHVpLXNlbGVjdG1lbnUtaGlkZGVuIHVpLW92ZXJsYXktc2hhZG93IHVpLWNvcm5lci1hbGwgdWktYm9keS0iK2Iub3B0aW9ucy5vdmVybGF5VGhlbWUrIiAiK2EubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9ufSkuaW5zZXJ0QWZ0ZXIoZSkscD1hKCI8dWw+Iix7ImNsYXNzIjoidWktc2VsZWN0bWVudS1saXN0IixpZDpsLHJvbGU6Imxpc3Rib3giLCJhcmlhLWxhYmVsbGVkYnkiOmt9KS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIixiLm9wdGlvbnMudGhlbWUpLmFwcGVuZFRvKG0pLGo9YSgiPGRpdj4iLHsiY2xhc3MiOiJ1aS1oZWFkZXIgdWktYmFyLSIrYi5vcHRpb25zLnRoZW1lfSkucHJlcGVuZFRvKG0pLHE9YSgiPGgxPiIseyJjbGFzcyI6InVpLXRpdGxlIn0pLmFwcGVuZFRvKGopLA0Kbj1hKCI8YT4iLHt0ZXh0OmIub3B0aW9ucy5jbG9zZVRleHQsaHJlZjoiIyIsImNsYXNzIjoidWktYnRuLWxlZnQifSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJpY29ucG9zIiwibm90ZXh0IikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uIiwiZGVsZXRlIikuYXBwZW5kVG8oaikuYnV0dG9uTWFya3VwKCksQT1vLmZpbmQoIi51aS1jb250ZW50Iiksej1vLmZpbmQoIi51aS1oZWFkZXIgYSIpO2EuZXh0ZW5kKGIse3NlbGVjdDpiLnNlbGVjdCxzZWxlY3RJRDpkLGJ1dHRvbklkOmssbWVudUlkOmwsdGhpc1BhZ2U6YyxtZW51UGFnZTpvLGxhYmVsOmYsc2NyZWVuOmUsc2VsZWN0T3B0aW9uczpnLGlzTXVsdGlwbGU6aSx0aGVtZTpiLm9wdGlvbnMudGhlbWUsbGlzdGJveDptLGxpc3Q6cCxoZWFkZXI6aixoZWFkZXJUaXRsZTpxLGhlYWRlckNsb3NlOm4sbWVudVBhZ2VDb250ZW50OkEsbWVudVBhZ2VDbG9zZTp6LHBsYWNlaG9sZGVyOiIiLGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGI9DQp0aGlzO2IucmVmcmVzaCgpO2Iuc2VsZWN0LmF0dHIoInRhYmluZGV4IiwiLTEiKS5mb2N1cyhmdW5jdGlvbigpe2EodGhpcykuYmx1cigpO2IuYnV0dG9uLmZvY3VzKCl9KTtiLmJ1dHRvbi5iaW5kKCJ2Y2xpY2sga2V5ZG93biIsZnVuY3Rpb24oYyl7aWYoYy50eXBlPT0idmNsaWNrInx8Yy5rZXlDb2RlJiYoYy5rZXlDb2RlPT09YS5tb2JpbGUua2V5Q29kZS5FTlRFUnx8Yy5rZXlDb2RlPT09YS5tb2JpbGUua2V5Q29kZS5TUEFDRSkpYi5vcGVuKCksYy5wcmV2ZW50RGVmYXVsdCgpfSk7Yi5saXN0LmF0dHIoInJvbGUiLCJsaXN0Ym94IikuZGVsZWdhdGUoIi51aS1saT5hIiwiZm9jdXNpbiIsZnVuY3Rpb24oKXthKHRoaXMpLmF0dHIoInRhYmluZGV4IiwiMCIpfSkuZGVsZWdhdGUoIi51aS1saT5hIiwiZm9jdXNvdXQiLGZ1bmN0aW9uKCl7YSh0aGlzKS5hdHRyKCJ0YWJpbmRleCIsIi0xIil9KS5kZWxlZ2F0ZSgibGk6bm90KC51aS1kaXNhYmxlZCwgLnVpLWxpLWRpdmlkZXIpIiwNCiJjbGljayIsZnVuY3Rpb24oYyl7dmFyIGQ9Yi5zZWxlY3RbMF0uc2VsZWN0ZWRJbmRleCxmPWIubGlzdC5maW5kKCJsaTpub3QoLnVpLWxpLWRpdmlkZXIpIikuaW5kZXgodGhpcyksZT1iLl9zZWxlY3RPcHRpb25zKCkuZXEoZilbMF07ZS5zZWxlY3RlZD1iLmlzTXVsdGlwbGU/IWUuc2VsZWN0ZWQ6dHJ1ZTtiLmlzTXVsdGlwbGUmJmEodGhpcykuZmluZCgiLnVpLWljb24iKS50b2dnbGVDbGFzcygidWktaWNvbi1jaGVja2JveC1vbiIsZS5zZWxlY3RlZCkudG9nZ2xlQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb2ZmIiwhZS5zZWxlY3RlZCk7KGIuaXNNdWx0aXBsZXx8ZCE9PWYpJiZiLnNlbGVjdC50cmlnZ2VyKCJjaGFuZ2UiKTtiLmlzTXVsdGlwbGV8fGIuY2xvc2UoKTtjLnByZXZlbnREZWZhdWx0KCl9KS5rZXlkb3duKGZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLGQ9Yy5jbG9zZXN0KCJsaSIpO3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgMzg6cmV0dXJuIGI9ZC5wcmV2KCksDQpiLmxlbmd0aCYmKGMuYmx1cigpLmF0dHIoInRhYmluZGV4IiwiLTEiKSxiLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCkpLGZhbHNlO2Nhc2UgNDA6cmV0dXJuIGI9ZC5uZXh0KCksYi5sZW5ndGgmJihjLmJsdXIoKS5hdHRyKCJ0YWJpbmRleCIsIi0xIiksYi5maW5kKCJhIikuZmlyc3QoKS5mb2N1cygpKSxmYWxzZTtjYXNlIDEzOmNhc2UgMzI6cmV0dXJuIGMudHJpZ2dlcigiY2xpY2siKSxmYWxzZX19KTtiLm1lbnVQYWdlLmJpbmQoInBhZ2VoaWRlIixmdW5jdGlvbigpe2IubGlzdC5hcHBlbmRUbyhiLmxpc3Rib3gpO2IuX2ZvY3VzQnV0dG9uKCk7YS5tb2JpbGUuX2JpbmRQYWdlUmVtb3ZlLmNhbGwoYi50aGlzUGFnZSl9KTtiLnNjcmVlbi5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKCl7Yi5jbG9zZSgpfSk7Yi5oZWFkZXJDbG9zZS5jbGljayhmdW5jdGlvbigpe2lmKGIubWVudVR5cGU9PSJvdmVybGF5IilyZXR1cm4gYi5jbG9zZSgpLGZhbHNlfSk7Yi50aGlzUGFnZS5hZGREZXBlbmRlbnRzKHRoaXMubWVudVBhZ2UpfSwNCl9pc1JlYnVpbGRSZXF1aXJlZDpmdW5jdGlvbigpe3ZhciBhPXRoaXMubGlzdC5maW5kKCJsaSIpO3JldHVybiB0aGlzLl9zZWxlY3RPcHRpb25zKCkudGV4dCgpIT09YS50ZXh0KCl9LHJlZnJlc2g6ZnVuY3Rpb24oYil7dmFyIGM9dGhpczt0aGlzLl9zZWxlY3RPcHRpb25zKCk7dGhpcy5zZWxlY3RlZCgpO3ZhciBkPXRoaXMuc2VsZWN0ZWRJbmRpY2VzKCk7KGJ8fHRoaXMuX2lzUmVidWlsZFJlcXVpcmVkKCkpJiZjLl9idWlsZExpc3QoKTtjLnNldEJ1dHRvblRleHQoKTtjLnNldEJ1dHRvbkNvdW50KCk7Yy5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuYXR0cigiYXJpYS1zZWxlY3RlZCIsZmFsc2UpLmVhY2goZnVuY3Rpb24oYil7YS5pbkFycmF5KGIsZCk+LTEmJihiPWEodGhpcyksYi5hdHRyKCJhcmlhLXNlbGVjdGVkIix0cnVlKSxjLmlzTXVsdGlwbGU/Yi5maW5kKCIudWktaWNvbiIpLnJlbW92ZUNsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9mZiIpLmFkZENsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9uIik6DQpiLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSl9KX0sY2xvc2U6ZnVuY3Rpb24oKXtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLmlzT3Blbil0aGlzLm1lbnVUeXBlPT0icGFnZSI/d2luZG93Lmhpc3RvcnkuYmFjaygpOih0aGlzLnNjcmVlbi5hZGRDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpLHRoaXMubGlzdGJveC5hZGRDbGFzcygidWktc2VsZWN0bWVudS1oaWRkZW4iKS5yZW1vdmVBdHRyKCJzdHlsZSIpLnJlbW92ZUNsYXNzKCJpbiIpLHRoaXMubGlzdC5hcHBlbmRUbyh0aGlzLmxpc3Rib3gpLHRoaXMuX2ZvY3VzQnV0dG9uKCkpLHRoaXMuaXNPcGVuPWZhbHNlfSxvcGVuOmZ1bmN0aW9uKCl7aWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCl7dmFyIGI9dGhpcyxjPWIubGlzdC5wYXJlbnQoKS5vdXRlckhlaWdodCgpLGQ9Yi5saXN0LnBhcmVudCgpLm91dGVyV2lkdGgoKSxmPWEoIi51aS1wYWdlLWFjdGl2ZSIpLGU9YS5zdXBwb3J0LnRvdWNoT3ZlcmZsb3cmJg0KYS5tb2JpbGUudG91Y2hPdmVyZmxvd0VuYWJsZWQsZj1mLmlzKCIudWktbmF0aXZlLWZpeGVkIik/Zi5maW5kKCIudWktY29udGVudCIpOmY7c2Nyb2xsVG9wPWU/Zi5zY3JvbGxUb3AoKTphKHdpbmRvdykuc2Nyb2xsVG9wKCk7YnRuT2Zmc2V0PWIuYnV0dG9uLm9mZnNldCgpLnRvcDtzY3JlZW5IZWlnaHQ9d2luZG93LmlubmVySGVpZ2h0O3NjcmVlbldpZHRoPXdpbmRvdy5pbm5lcldpZHRoO2IuYnV0dG9uLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSwzMDApO2lmKGM+c2NyZWVuSGVpZ2h0LTgwfHwhYS5zdXBwb3J0LnNjcm9sbFRvcCl7Yi50aGlzUGFnZS51bmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIpO2lmKHNjcm9sbFRvcD09MCYmYnRuT2Zmc2V0PnNjcmVlbkhlaWdodCliLnRoaXNQYWdlLm9uZSgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7YSh0aGlzKS5qcW1EYXRhKCJsYXN0U2Nyb2xsIiwNCmJ0bk9mZnNldCl9KTtiLm1lbnVQYWdlLm9uZSgicGFnZXNob3ciLGZ1bmN0aW9uKCl7YSh3aW5kb3cpLm9uZSgic2lsZW50c2Nyb2xsIixmdW5jdGlvbigpe2IubGlzdC5maW5kKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5mb2N1cygpfSk7Yi5pc09wZW49dHJ1ZX0pO2IubWVudVR5cGU9InBhZ2UiO2IubWVudVBhZ2VDb250ZW50LmFwcGVuZChiLmxpc3QpO2IubWVudVBhZ2UuZmluZCgiZGl2IC51aS10aXRsZSIpLnRleHQoYi5sYWJlbC50ZXh0KCkpO2EubW9iaWxlLmNoYW5nZVBhZ2UoYi5tZW51UGFnZSx7dHJhbnNpdGlvbjphLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbn0pfWVsc2V7Yi5tZW51VHlwZT0ib3ZlcmxheSI7Yi5zY3JlZW4uaGVpZ2h0KGEoZG9jdW1lbnQpLmhlaWdodCgpKS5yZW1vdmVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpO3ZhciBmPWJ0bk9mZnNldC1zY3JvbGxUb3AsaD1zY3JvbGxUb3Arc2NyZWVuSGVpZ2h0LWJ0bk9mZnNldCxnPWMvMixlPQ0KcGFyc2VGbG9hdChiLmxpc3QucGFyZW50KCkuY3NzKCJtYXgtd2lkdGgiKSksYz1mPmMvMiYmaD5jLzI/YnRuT2Zmc2V0K2IuYnV0dG9uLm91dGVySGVpZ2h0KCkvMi1nOmY+aD9zY3JvbGxUb3Arc2NyZWVuSGVpZ2h0LWMtMzA6c2Nyb2xsVG9wKzMwO2Q8ZT9lPShzY3JlZW5XaWR0aC1kKS8yOihlPWIuYnV0dG9uLm9mZnNldCgpLmxlZnQrYi5idXR0b24ub3V0ZXJXaWR0aCgpLzItZC8yLGU8MzA/ZT0zMDplK2Q+c2NyZWVuV2lkdGgmJihlPXNjcmVlbldpZHRoLWQtMzApKTtiLmxpc3Rib3guYXBwZW5kKGIubGlzdCkucmVtb3ZlQ2xhc3MoInVpLXNlbGVjdG1lbnUtaGlkZGVuIikuY3NzKHt0b3A6YyxsZWZ0OmV9KS5hZGRDbGFzcygiaW4iKTtiLmxpc3QuZmluZChhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuZm9jdXMoKTtiLmlzT3Blbj10cnVlfX19LF9idWlsZExpc3Q6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9dGhpcy5vcHRpb25zLGQ9dGhpcy5wbGFjZWhvbGRlcixmPVtdLGU9DQpbXSxoPWIuaXNNdWx0aXBsZT8iY2hlY2tib3gtb2ZmIjoiZmFsc2UiO2IubGlzdC5lbXB0eSgpLmZpbHRlcigiLnVpLWxpc3R2aWV3IikubGlzdHZpZXcoImRlc3Ryb3kiKTtiLnNlbGVjdC5maW5kKCJvcHRpb24iKS5lYWNoKGZ1bmN0aW9uKGcpe3ZhciBqPWEodGhpcyksaT1qLnBhcmVudCgpLG09ai5nZXRFbmNvZGVkVGV4dCgpLHA9IjxhIGhyZWY9JyMnPiIrbSsiPC9hPiIsaz1bXSxuPVtdO2kuaXMoIm9wdGdyb3VwIikmJihpPWkuYXR0cigibGFiZWwiKSxhLmluQXJyYXkoaSxmKT09PS0xJiYoZS5wdXNoKCI8bGkgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdsaXN0LWRpdmlkZXInPiIraSsiPC9saT4iKSxmLnB1c2goaSkpKTtpZighdGhpcy5nZXRBdHRyaWJ1dGUoInZhbHVlIil8fG0ubGVuZ3RoPT0wfHxqLmpxbURhdGEoInBsYWNlaG9sZGVyIikpYy5oaWRlUGxhY2Vob2xkZXJNZW51SXRlbXMmJmsucHVzaCgidWktc2VsZWN0bWVudS1wbGFjZWhvbGRlciIpLGQ9Yi5wbGFjZWhvbGRlcj0NCm07dGhpcy5kaXNhYmxlZCYmKGsucHVzaCgidWktZGlzYWJsZWQiKSxuLnB1c2goImFyaWEtZGlzYWJsZWQ9J3RydWUnIikpO2UucHVzaCgiPGxpIGRhdGEtIithLm1vYmlsZS5ucysib3B0aW9uLWluZGV4PSciK2crIicgZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uPSciK2grIicgY2xhc3M9JyIray5qb2luKCIgIikrIicgIituLmpvaW4oIiAiKSsiPiIrcCsiPC9saT4iKX0pO2IubGlzdC5odG1sKGUuam9pbigiICIpKTtiLmxpc3QuZmluZCgibGkiKS5hdHRyKHtyb2xlOiJvcHRpb24iLHRhYmluZGV4OiItMSJ9KS5maXJzdCgpLmF0dHIoInRhYmluZGV4IiwiMCIpO3RoaXMuaXNNdWx0aXBsZXx8dGhpcy5oZWFkZXJDbG9zZS5oaWRlKCk7IXRoaXMuaXNNdWx0aXBsZSYmIWQubGVuZ3RoP3RoaXMuaGVhZGVyLmhpZGUoKTp0aGlzLmhlYWRlclRpdGxlLnRleHQodGhpcy5wbGFjZWhvbGRlcik7Yi5saXN0Lmxpc3R2aWV3KCl9LF9idXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGE+IiwNCntocmVmOiIjIixyb2xlOiJidXR0b24iLGlkOnRoaXMuYnV0dG9uSWQsImFyaWEtaGFzcG9wdXAiOiJ0cnVlIiwiYXJpYS1vd25zIjp0aGlzLm1lbnVJZH0pfX0pfTthKCJzZWxlY3QiKS5saXZlKCJzZWxlY3RtZW51YmVmb3JlY3JlYXRlIixmdW5jdGlvbigpe3ZhciBiPWEodGhpcykuZGF0YSgic2VsZWN0bWVudSIpO2Iub3B0aW9ucy5uYXRpdmVNZW51fHxlKGIpfSl9KShqUXVlcnkpOw0KKGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUuc2VsZWN0bWVudSIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGRpc2FibGVkOmZhbHNlLGljb246ImFycm93LWQiLGljb25wb3M6InJpZ2h0IixpbmxpbmU6bnVsbCxjb3JuZXJzOnRydWUsc2hhZG93OnRydWUsaWNvbnNoYWRvdzp0cnVlLG1lbnVQYWdlVGhlbWU6ImIiLG92ZXJsYXlUaGVtZToiYSIsaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zOnRydWUsY2xvc2VUZXh0OiJDbG9zZSIsbmF0aXZlTWVudTp0cnVlLGluaXRTZWxlY3Rvcjoic2VsZWN0Om5vdCg6anFtRGF0YShyb2xlPSdzbGlkZXInKSkifSxfYnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIGEoIjxkaXYvPiIpfSxfc2V0RGlzYWJsZWQ6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIixhKTt0aGlzLmJ1dHRvbi5hdHRyKCJhcmlhLWRpc2FibGVkIixhKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsYSl9LF9mb2N1c0J1dHRvbjpmdW5jdGlvbigpe3ZhciBhPQ0KdGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5idXR0b24uZm9jdXMoKX0sNDApfSxfc2VsZWN0T3B0aW9uczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdC5maW5kKCJvcHRpb24iKX0sX3ByZUV4dGVuc2lvbjpmdW5jdGlvbigpe3RoaXMuc2VsZWN0PXRoaXMuZWxlbWVudC53cmFwKCI8ZGl2IGNsYXNzPSd1aS1zZWxlY3QnPiIpO3RoaXMuc2VsZWN0SUQ9dGhpcy5zZWxlY3QuYXR0cigiaWQiKTt0aGlzLmxhYmVsPWEoImxhYmVsW2Zvcj0nIit0aGlzLnNlbGVjdElEKyInXSIpLmFkZENsYXNzKCJ1aS1zZWxlY3QiKTt0aGlzLmlzTXVsdGlwbGU9dGhpcy5zZWxlY3RbMF0ubXVsdGlwbGU7aWYoIXRoaXMub3B0aW9ucy50aGVtZSl0aGlzLm9wdGlvbnMudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5zZWxlY3QsImMiKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3ByZUV4dGVuc2lvbigpO3RoaXMuX3RyaWdnZXIoImJlZm9yZUNyZWF0ZSIpO3RoaXMuYnV0dG9uPQ0KdGhpcy5fYnV0dG9uKCk7dmFyIGU9dGhpcyxiPXRoaXMub3B0aW9ucyxkPXRoaXMuYnV0dG9uLnRleHQoYSh0aGlzLnNlbGVjdFswXS5vcHRpb25zLml0ZW0odGhpcy5zZWxlY3RbMF0uc2VsZWN0ZWRJbmRleD09LTE/MDp0aGlzLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4KSkudGV4dCgpKS5pbnNlcnRCZWZvcmUodGhpcy5zZWxlY3QpLmJ1dHRvbk1hcmt1cCh7dGhlbWU6Yi50aGVtZSxpY29uOmIuaWNvbixpY29ucG9zOmIuaWNvbnBvcyxpbmxpbmU6Yi5pbmxpbmUsY29ybmVyczpiLmNvcm5lcnMsc2hhZG93OmIuc2hhZG93LGljb25zaGFkb3c6Yi5pY29uc2hhZG93fSk7Yi5uYXRpdmVNZW51JiZ3aW5kb3cub3BlcmEmJndpbmRvdy5vcGVyYS52ZXJzaW9uJiZ0aGlzLnNlbGVjdC5hZGRDbGFzcygidWktc2VsZWN0LW5hdGl2ZW9ubHkiKTtpZih0aGlzLmlzTXVsdGlwbGUpdGhpcy5idXR0b25Db3VudD1hKCI8c3Bhbj4iKS5hZGRDbGFzcygidWktbGktY291bnQgdWktYnRuLXVwLWMgdWktYnRuLWNvcm5lci1hbGwiKS5oaWRlKCkuYXBwZW5kVG8oZC5hZGRDbGFzcygidWktbGktaGFzLWNvdW50IikpOw0KKGIuZGlzYWJsZWR8fHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIpKSYmdGhpcy5kaXNhYmxlKCk7dGhpcy5zZWxlY3QuY2hhbmdlKGZ1bmN0aW9uKCl7ZS5yZWZyZXNoKCl9KTt0aGlzLmJ1aWxkKCl9LGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnNlbGVjdC5hcHBlbmRUbyhlLmJ1dHRvbikuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oKXtlLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJmb2N1cyB2bW91c2VvdmVyIixmdW5jdGlvbigpe2UuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW92ZXIiKX0pLmJpbmQoInZtb3VzZW1vdmUiLGZ1bmN0aW9uKCl7ZS5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2hhbmdlIGJsdXIgdm1vdXNlb3V0IixmdW5jdGlvbigpe2UuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW91dCIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImNoYW5nZSBibHVyIiwNCmZ1bmN0aW9uKCl7ZS5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLWJ0bi1kb3duLSIrZS5vcHRpb25zLnRoZW1lKX0pfSxzZWxlY3RlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RPcHRpb25zKCkuZmlsdGVyKCI6c2VsZWN0ZWQiKX0sc2VsZWN0ZWRJbmRpY2VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gdGhpcy5zZWxlY3RlZCgpLm1hcChmdW5jdGlvbigpe3JldHVybiBhLl9zZWxlY3RPcHRpb25zKCkuaW5kZXgodGhpcyl9KS5nZXQoKX0sc2V0QnV0dG9uVGV4dDpmdW5jdGlvbigpe3ZhciBlPXRoaXMsYj10aGlzLnNlbGVjdGVkKCk7dGhpcy5idXR0b24uZmluZCgiLnVpLWJ0bi10ZXh0IikudGV4dChmdW5jdGlvbigpe3JldHVybiFlLmlzTXVsdGlwbGU/Yi50ZXh0KCk6Yi5sZW5ndGg/Yi5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzKS50ZXh0KCl9KS5nZXQoKS5qb2luKCIsICIpOmUucGxhY2Vob2xkZXJ9KX0sc2V0QnV0dG9uQ291bnQ6ZnVuY3Rpb24oKXt2YXIgYT0NCnRoaXMuc2VsZWN0ZWQoKTt0aGlzLmlzTXVsdGlwbGUmJnRoaXMuYnV0dG9uQ291bnRbYS5sZW5ndGg+MT8ic2hvdyI6ImhpZGUiXSgpLnRleHQoYS5sZW5ndGgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5zZXRCdXR0b25UZXh0KCk7dGhpcy5zZXRCdXR0b25Db3VudCgpfSxvcGVuOmEubm9vcCxjbG9zZTphLm5vb3AsZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuX3NldERpc2FibGVkKHRydWUpO3RoaXMuYnV0dG9uLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXREaXNhYmxlZChmYWxzZSk7dGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIil9fSk7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGUpe2EubW9iaWxlLnNlbGVjdG1lbnUucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oZS50YXJnZXQpfSl9KShqUXVlcnkpOw0KKGZ1bmN0aW9uKGEsZSl7ZnVuY3Rpb24gYihiKXtmb3IodmFyIGM7Yjspe2lmKChjPXR5cGVvZiBiLmNsYXNzTmFtZT09PSJzdHJpbmciJiZiLmNsYXNzTmFtZS5zcGxpdCgiICIpKSYmYS5pbkFycmF5KCJ1aS1idG4iLGMpPi0xJiZhLmluQXJyYXkoInVpLWRpc2FibGVkIixjKTwwKWJyZWFrO2I9Yi5wYXJlbnROb2RlfXJldHVybiBifWEuZm4uYnV0dG9uTWFya3VwPWZ1bmN0aW9uKGIpe2Zvcih2YXIgYj1ifHx7fSxjPTA7Yzx0aGlzLmxlbmd0aDtjKyspe3ZhciBoPXRoaXMuZXEoYyksZz1oWzBdLGk9YS5leHRlbmQoe30sYS5mbi5idXR0b25NYXJrdXAuZGVmYXVsdHMse2ljb246Yi5pY29uIT09ZT9iLmljb246aC5qcW1EYXRhKCJpY29uIiksaWNvbnBvczpiLmljb25wb3MhPT1lP2IuaWNvbnBvczpoLmpxbURhdGEoImljb25wb3MiKSx0aGVtZTpiLnRoZW1lIT09ZT9iLnRoZW1lOmguanFtRGF0YSgidGhlbWUiKSxpbmxpbmU6Yi5pbmxpbmUhPT1lP2IuaW5saW5lOmguanFtRGF0YSgiaW5saW5lIiksDQpzaGFkb3c6Yi5zaGFkb3chPT1lP2Iuc2hhZG93OmguanFtRGF0YSgic2hhZG93IiksY29ybmVyczpiLmNvcm5lcnMhPT1lP2IuY29ybmVyczpoLmpxbURhdGEoImNvcm5lcnMiKSxpY29uc2hhZG93OmIuaWNvbnNoYWRvdyE9PWU/Yi5pY29uc2hhZG93OmguanFtRGF0YSgiaWNvbnNoYWRvdyIpfSxiKSxrPSJ1aS1idG4taW5uZXIiLGwsbyxtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaS53cmFwcGVyRWxzKSxwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaS53cmFwcGVyRWxzKSxqPWkuaWNvbj9kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik6bnVsbDtkJiZkKCk7aWYoIWkudGhlbWUpaS50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShoLCJjIik7bD0idWktYnRuIHVpLWJ0bi11cC0iK2kudGhlbWU7aS5pbmxpbmUmJihsKz0iIHVpLWJ0bi1pbmxpbmUiKTtpZihpLmljb24paS5pY29uPSJ1aS1pY29uLSIraS5pY29uLGkuaWNvbnBvcz1pLmljb25wb3N8fCJsZWZ0IiwNCm89InVpLWljb24gIitpLmljb24saS5pY29uc2hhZG93JiYobys9IiB1aS1pY29uLXNoYWRvdyIpO2kuaWNvbnBvcyYmKGwrPSIgdWktYnRuLWljb24tIitpLmljb25wb3MsaS5pY29ucG9zPT0ibm90ZXh0IiYmIWguYXR0cigidGl0bGUiKSYmaC5hdHRyKCJ0aXRsZSIsaC5nZXRFbmNvZGVkVGV4dCgpKSk7aS5jb3JuZXJzJiYobCs9IiB1aS1idG4tY29ybmVyLWFsbCIsays9IiB1aS1idG4tY29ybmVyLWFsbCIpO2kuc2hhZG93JiYobCs9IiB1aS1zaGFkb3ciKTtnLnNldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIsaS50aGVtZSk7aC5hZGRDbGFzcyhsKTttLmNsYXNzTmFtZT1rO20uc2V0QXR0cmlidXRlKCJhcmlhLWhpZGRlbiIsInRydWUiKTtwLmNsYXNzTmFtZT0idWktYnRuLXRleHQiO20uYXBwZW5kQ2hpbGQocCk7aWYoailqLmNsYXNzTmFtZT1vLG0uYXBwZW5kQ2hpbGQoaik7Zm9yKDtnLmZpcnN0Q2hpbGQ7KXAuYXBwZW5kQ2hpbGQoZy5maXJzdENoaWxkKTsNCmcuYXBwZW5kQ2hpbGQobSk7YS5kYXRhKGcsInRleHRXcmFwcGVyIixhKHApKX1yZXR1cm4gdGhpc307YS5mbi5idXR0b25NYXJrdXAuZGVmYXVsdHM9e2Nvcm5lcnM6dHJ1ZSxzaGFkb3c6dHJ1ZSxpY29uc2hhZG93OnRydWUsaW5saW5lOmZhbHNlLHdyYXBwZXJFbHM6InNwYW4ifTt2YXIgZD1mdW5jdGlvbigpe2EoZG9jdW1lbnQpLmJpbmQoe3Ztb3VzZWRvd246ZnVuY3Rpb24oZCl7dmFyIGQ9YihkLnRhcmdldCksYztkJiYoZD1hKGQpLGM9ZC5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIiksZC5yZW1vdmVDbGFzcygidWktYnRuLXVwLSIrYykuYWRkQ2xhc3MoInVpLWJ0bi1kb3duLSIrYykpfSwidm1vdXNlY2FuY2VsIHZtb3VzZXVwIjpmdW5jdGlvbihkKXt2YXIgZD1iKGQudGFyZ2V0KSxjO2QmJihkPWEoZCksYz1kLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiKSxkLnJlbW92ZUNsYXNzKCJ1aS1idG4tZG93bi0iK2MpLmFkZENsYXNzKCJ1aS1idG4tdXAtIisNCmMpKX0sInZtb3VzZW92ZXIgZm9jdXMiOmZ1bmN0aW9uKGQpe3ZhciBkPWIoZC50YXJnZXQpLGM7ZCYmKGQ9YShkKSxjPWQuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIpLGQucmVtb3ZlQ2xhc3MoInVpLWJ0bi11cC0iK2MpLmFkZENsYXNzKCJ1aS1idG4taG92ZXItIitjKSl9LCJ2bW91c2VvdXQgYmx1ciI6ZnVuY3Rpb24oZCl7dmFyIGQ9YihkLnRhcmdldCksYztkJiYoZD1hKGQpLGM9ZC5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIiksZC5yZW1vdmVDbGFzcygidWktYnRuLWhvdmVyLSIrYysiIHVpLWJ0bi1kb3duLSIrYykuYWRkQ2xhc3MoInVpLWJ0bi11cC0iK2MpKX19KTtkPW51bGx9O2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKCI6anFtRGF0YShyb2xlPSdidXR0b24nKSwgLnVpLWJhciA+IGEsIC51aS1oZWFkZXIgPiBhLCAudWktZm9vdGVyID4gYSwgLnVpLWJhciA+IDpqcW1EYXRhKHJvbGU9J2NvbnRyb2xncm91cCcpID4gYSIsDQpiLnRhcmdldCkubm90KCIudWktYnRuLCA6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLmJ1dHRvbk1hcmt1cCgpfSl9KShqUXVlcnkpOw0KKGZ1bmN0aW9uKGEpe2EuZm4uY29udHJvbGdyb3VwPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEpe2EucmVtb3ZlQ2xhc3MoInVpLWJ0bi1jb3JuZXItYWxsIHVpLXNoYWRvdyIpLmVxKDApLmFkZENsYXNzKGhbMF0pLmVuZCgpLmxhc3QoKS5hZGRDbGFzcyhoWzFdKS5hZGRDbGFzcygidWktY29udHJvbGdyb3VwLWxhc3QiKX12YXIgZD1hKHRoaXMpLGY9YS5leHRlbmQoe2RpcmVjdGlvbjpkLmpxbURhdGEoInR5cGUiKXx8InZlcnRpY2FsIixzaGFkb3c6ZmFsc2UsZXhjbHVkZUludmlzaWJsZTp0cnVlfSxlKSxjPWQuY2hpbGRyZW4oImxlZ2VuZCIpLGg9Zi5kaXJlY3Rpb249PSJob3Jpem9udGFsIj9bInVpLWNvcm5lci1sZWZ0IiwidWktY29ybmVyLXJpZ2h0Il06WyJ1aS1jb3JuZXItdG9wIiwidWktY29ybmVyLWJvdHRvbSJdO2QuZmluZCgiaW5wdXQiKS5maXJzdCgpLmF0dHIoInR5cGUiKTtjLmxlbmd0aCYmKGQud3JhcElubmVyKCI8ZGl2IGNsYXNzPSd1aS1jb250cm9sZ3JvdXAtY29udHJvbHMnPjwvZGl2PiIpLA0KYSgiPGRpdiByb2xlPSdoZWFkaW5nJyBjbGFzcz0ndWktY29udHJvbGdyb3VwLWxhYmVsJz4iK2MuaHRtbCgpKyI8L2Rpdj4iKS5pbnNlcnRCZWZvcmUoZC5jaGlsZHJlbigwKSksYy5yZW1vdmUoKSk7ZC5hZGRDbGFzcygidWktY29ybmVyLWFsbCB1aS1jb250cm9sZ3JvdXAgdWktY29udHJvbGdyb3VwLSIrZi5kaXJlY3Rpb24pO2IoZC5maW5kKCIudWktYnRuIisoZi5leGNsdWRlSW52aXNpYmxlPyI6dmlzaWJsZSI6IiIpKSk7YihkLmZpbmQoIi51aS1idG4taW5uZXIiKSk7Zi5zaGFkb3cmJmQuYWRkQ2xhc3MoInVpLXNoYWRvdyIpfSl9O2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihlKXthKCI6anFtRGF0YShyb2xlPSdjb250cm9sZ3JvdXAnKSIsZS50YXJnZXQpLmNvbnRyb2xncm91cCh7ZXhjbHVkZUludmlzaWJsZTpmYWxzZX0pfSl9KShqUXVlcnkpOw0KKGZ1bmN0aW9uKGEpe2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihlKXthKGUudGFyZ2V0KS5maW5kKCJhIikubm90KCIudWktYnRuLCAudWktbGluay1pbmhlcml0LCA6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLmFkZENsYXNzKCJ1aS1saW5rIil9KX0pKGpRdWVyeSk7DQooZnVuY3Rpb24oYSxlKXthLmZuLmZpeEhlYWRlckZvb3Rlcj1mdW5jdGlvbigpe3JldHVybiFhLnN1cHBvcnQuc2Nyb2xsVG9wfHxhLnN1cHBvcnQudG91Y2hPdmVyZmxvdyYmYS5tb2JpbGUudG91Y2hPdmVyZmxvd0VuYWJsZWQ/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IuanFtRGF0YSgiZnVsbHNjcmVlbiIpJiZiLmFkZENsYXNzKCJ1aS1wYWdlLWZ1bGxzY3JlZW4iKTtiLmZpbmQoIi51aS1oZWFkZXI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSIpLmFkZENsYXNzKCJ1aS1oZWFkZXItZml4ZWQgdWktZml4ZWQtaW5saW5lIGZhZGUiKTtiLmZpbmQoIi51aS1mb290ZXI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSIpLmFkZENsYXNzKCJ1aS1mb290ZXItZml4ZWQgdWktZml4ZWQtaW5saW5lIGZhZGUiKX0pfTthLm1vYmlsZS5maXhlZFRvb2xiYXJzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYigpeyFpJiZnPT09Im92ZXJsYXkiJiYoaHx8YS5tb2JpbGUuZml4ZWRUb29sYmFycy5oaWRlKHRydWUpLA0KYS5tb2JpbGUuZml4ZWRUb29sYmFycy5zdGFydFNob3dUaW1lcigpKX1mdW5jdGlvbiBkKGEpe3ZhciBiPTAsYyxkO2lmKGEpe2Q9ZG9jdW1lbnQuYm9keTtjPWEub2Zmc2V0UGFyZW50O2ZvcihiPWEub2Zmc2V0VG9wO2EmJmEhPWQ7KXtiKz1hLnNjcm9sbFRvcHx8MDtpZihhPT1jKWIrPWMub2Zmc2V0VG9wLGM9YS5vZmZzZXRQYXJlbnQ7YT1hLnBhcmVudE5vZGV9fXJldHVybiBifWZ1bmN0aW9uIGYoYil7dmFyIGM9YSh3aW5kb3cpLnNjcm9sbFRvcCgpLGU9ZChiWzBdKSxmPWIuY3NzKCJ0b3AiKT09ImF1dG8iPzA6cGFyc2VGbG9hdChiLmNzcygidG9wIikpLGg9d2luZG93LmlubmVySGVpZ2h0LGc9Yi5vdXRlckhlaWdodCgpLGk9Yi5wYXJlbnRzKCIudWktcGFnZTpub3QoLnVpLXBhZ2UtZnVsbHNjcmVlbikiKS5sZW5ndGg7cmV0dXJuIGIuaXMoIi51aS1oZWFkZXItZml4ZWQiKT8oZj1jLWUrZixmPGUmJihmPTApLGIuY3NzKCJ0b3AiLGk/ZjpjKSk6Yi5jc3MoInRvcCIsaT9jKw0KaC1nLShlLWYpOmMraC1nKX1pZihhLnN1cHBvcnQuc2Nyb2xsVG9wJiYoIWEuc3VwcG9ydC50b3VjaE92ZXJmbG93fHwhYS5tb2JpbGUudG91Y2hPdmVyZmxvd0VuYWJsZWQpKXt2YXIgYyxoLGc9ImlubGluZSIsaT1mYWxzZSxrPW51bGwsbD1mYWxzZSxvPXRydWU7YShmdW5jdGlvbigpe3ZhciBjPWEoZG9jdW1lbnQpLGQ9YSh3aW5kb3cpO2MuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oKXtvJiYoaz1nKX0pLmJpbmQoInZjbGljayIsZnVuY3Rpb24oYil7byYmIWEoYi50YXJnZXQpLmNsb3Nlc3QoImEsaW5wdXQsdGV4dGFyZWEsc2VsZWN0LGJ1dHRvbixsYWJlbCwudWktaGVhZGVyLWZpeGVkLC51aS1mb290ZXItZml4ZWQiKS5sZW5ndGgmJiFsJiYoYS5tb2JpbGUuZml4ZWRUb29sYmFycy50b2dnbGUoayksaz1udWxsKX0pLmJpbmQoInNpbGVudHNjcm9sbCIsYik7KGMuc2Nyb2xsVG9wKCk9PT0wP2Q6YykuYmluZCgic2Nyb2xsc3RhcnQiLGZ1bmN0aW9uKCl7bD10cnVlO2s9PT0NCm51bGwmJihrPWcpO3ZhciBiPWs9PSJvdmVybGF5IjtpZihpPWJ8fCEhaClhLm1vYmlsZS5maXhlZFRvb2xiYXJzLmNsZWFyU2hvd1RpbWVyKCksYiYmYS5tb2JpbGUuZml4ZWRUb29sYmFycy5oaWRlKHRydWUpfSkuYmluZCgic2Nyb2xsc3RvcCIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuY2xvc2VzdCgiYSxpbnB1dCx0ZXh0YXJlYSxzZWxlY3QsYnV0dG9uLGxhYmVsLC51aS1oZWFkZXItZml4ZWQsLnVpLWZvb3Rlci1maXhlZCIpLmxlbmd0aHx8KGw9ZmFsc2UsaSYmKGEubW9iaWxlLmZpeGVkVG9vbGJhcnMuc3RhcnRTaG93VGltZXIoKSxpPWZhbHNlKSxrPW51bGwpfSk7ZC5iaW5kKCJyZXNpemUgdXBkYXRlbGF5b3V0IixiKX0pO2EoIi51aS1wYWdlIikubGl2ZSgicGFnZWJlZm9yZXNob3ciLGZ1bmN0aW9uKGIsZCl7dmFyIGU9YShiLnRhcmdldCkuZmluZCgiOmpxbURhdGEocm9sZT0nZm9vdGVyJykiKSxoPWUuZGF0YSgiaWQiKSxnPWQucHJldlBhZ2UsZz1nJiZnLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIiksDQpnPWcubGVuZ3RoJiZnLmpxbURhdGEoImlkIik9PT1oO2gmJmcmJihjPWUsZihjLnJlbW92ZUNsYXNzKCJmYWRlIGluIG91dCIpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpKSl9KS5saXZlKCJwYWdlc2hvdyIsZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2MmJmMubGVuZ3RoJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZihjLmFwcGVuZFRvKGIpLmFkZENsYXNzKCJmYWRlIikpO2M9bnVsbH0sNTAwKTthLm1vYmlsZS5maXhlZFRvb2xiYXJzLnNob3codHJ1ZSx0aGlzKX0pO2EoIi51aS1jb2xsYXBzaWJsZS1jb250YWluIikubGl2ZSgiY29sbGFwc2UgZXhwYW5kIixiKTtyZXR1cm57c2hvdzpmdW5jdGlvbihiLGMpe2EubW9iaWxlLmZpeGVkVG9vbGJhcnMuY2xlYXJTaG93VGltZXIoKTtnPSJvdmVybGF5IjtyZXR1cm4oYz9hKGMpOmEubW9iaWxlLmFjdGl2ZVBhZ2U/YS5tb2JpbGUuYWN0aXZlUGFnZTphKCIudWktcGFnZS1hY3RpdmUiKSkuY2hpbGRyZW4oIi51aS1oZWFkZXItZml4ZWQ6Zmlyc3QsIC51aS1mb290ZXItZml4ZWQ6bm90KC51aS1mb290ZXItZHVwbGljYXRlKTpsYXN0IikuZWFjaChmdW5jdGlvbigpe3ZhciBjPQ0KYSh0aGlzKSxlPWEod2luZG93KS5zY3JvbGxUb3AoKSxoPWQoY1swXSksZz13aW5kb3cuaW5uZXJIZWlnaHQsaT1jLm91dGVySGVpZ2h0KCksZT1jLmlzKCIudWktaGVhZGVyLWZpeGVkIikmJmU8PWgraXx8Yy5pcygiLnVpLWZvb3Rlci1maXhlZCIpJiZoPD1lK2c7Yy5hZGRDbGFzcygidWktZml4ZWQtb3ZlcmxheSIpLnJlbW92ZUNsYXNzKCJ1aS1maXhlZC1pbmxpbmUiKTshZSYmIWImJmMuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKXtjLnJlbW92ZUNsYXNzKCJpbiIpfSkuYWRkQ2xhc3MoImluIik7ZihjKX0pfSxoaWRlOmZ1bmN0aW9uKGIpe2c9ImlubGluZSI7cmV0dXJuKGEubW9iaWxlLmFjdGl2ZVBhZ2U/YS5tb2JpbGUuYWN0aXZlUGFnZTphKCIudWktcGFnZS1hY3RpdmUiKSkuY2hpbGRyZW4oIi51aS1oZWFkZXItZml4ZWQ6Zmlyc3QsIC51aS1mb290ZXItZml4ZWQ6bm90KC51aS1mb290ZXItZHVwbGljYXRlKTpsYXN0IikuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksDQpkPWMuY3NzKCJ0b3AiKSxkPWQ9PSJhdXRvIj8wOnBhcnNlRmxvYXQoZCk7Yy5hZGRDbGFzcygidWktZml4ZWQtaW5saW5lIikucmVtb3ZlQ2xhc3MoInVpLWZpeGVkLW92ZXJsYXkiKTtpZihkPDB8fGMuaXMoIi51aS1oZWFkZXItZml4ZWQiKSYmZCE9PTApYj9jLmNzcygidG9wIiwwKTpjLmNzcygidG9wIikhPT0iYXV0byImJnBhcnNlRmxvYXQoYy5jc3MoInRvcCIpKSE9PTAmJmMuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKXtjLnJlbW92ZUNsYXNzKCJvdXQgcmV2ZXJzZSIpLmNzcygidG9wIiwwKX0pLmFkZENsYXNzKCJvdXQgcmV2ZXJzZSIpfSl9LHN0YXJ0U2hvd1RpbWVyOmZ1bmN0aW9uKCl7YS5tb2JpbGUuZml4ZWRUb29sYmFycy5jbGVhclNob3dUaW1lcigpO3ZhciBiPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtoPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtoPWU7YS5tb2JpbGUuZml4ZWRUb29sYmFycy5zaG93LmFwcGx5KG51bGwsYil9LDEwMCl9LGNsZWFyU2hvd1RpbWVyOmZ1bmN0aW9uKCl7aCYmDQpjbGVhclRpbWVvdXQoaCk7aD1lfSx0b2dnbGU6ZnVuY3Rpb24oYil7YiYmKGc9Yik7cmV0dXJuIGc9PT0ib3ZlcmxheSI/YS5tb2JpbGUuZml4ZWRUb29sYmFycy5oaWRlKCk6YS5tb2JpbGUuZml4ZWRUb29sYmFycy5zaG93KCl9LHNldFRvdWNoVG9nZ2xlRW5hYmxlZDpmdW5jdGlvbihhKXtvPWF9fX19KCk7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EoIjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpIixiLnRhcmdldCkubGVuZ3RoJiZhKGIudGFyZ2V0KS5lYWNoKGZ1bmN0aW9uKCl7aWYoIWEuc3VwcG9ydC5zY3JvbGxUb3B8fGEuc3VwcG9ydC50b3VjaE92ZXJmbG93JiZhLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZClyZXR1cm4gdGhpczt2YXIgYj1hKHRoaXMpO2IuanFtRGF0YSgiZnVsbHNjcmVlbiIpJiZiLmFkZENsYXNzKCJ1aS1wYWdlLWZ1bGxzY3JlZW4iKTtiLmZpbmQoIi51aS1oZWFkZXI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSIpLmFkZENsYXNzKCJ1aS1oZWFkZXItZml4ZWQgdWktZml4ZWQtaW5saW5lIGZhZGUiKTsNCmIuZmluZCgiLnVpLWZvb3RlcjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpIikuYWRkQ2xhc3MoInVpLWZvb3Rlci1maXhlZCB1aS1maXhlZC1pbmxpbmUgZmFkZSIpfSl9KX0pKGpRdWVyeSk7DQooZnVuY3Rpb24oYSl7YS5tb2JpbGUudG91Y2hPdmVyZmxvd0VuYWJsZWQ9ZmFsc2U7YS5tb2JpbGUudG91Y2hPdmVyZmxvd1pvb21FbmFibGVkPWZhbHNlO2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUiLGZ1bmN0aW9uKGUpe2Euc3VwcG9ydC50b3VjaE92ZXJmbG93JiZhLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZCYmKGU9YShlLnRhcmdldCksZS5pcygiOmpxbURhdGEocm9sZT0ncGFnZScpIikmJmUuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksZD1iLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpLCA6anFtRGF0YShyb2xlPSdmb290ZXInKSIpLmZpbHRlcigiOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiKSxlPWIuanFtRGF0YSgiZnVsbHNjcmVlbiIpLGM9ZC5sZW5ndGg/Yi5maW5kKCIudWktY29udGVudCIpOmI7Yi5hZGRDbGFzcygidWktbW9iaWxlLXRvdWNoLW92ZXJmbG93Iik7Yy5iaW5kKCJzY3JvbGxzdG9wIixmdW5jdGlvbigpe2Muc2Nyb2xsVG9wKCk+DQowJiZ3aW5kb3cuc2Nyb2xsVG8oMCxhLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCl9KTtkLmxlbmd0aCYmKGIuYWRkQ2xhc3MoInVpLW5hdGl2ZS1maXhlZCIpLGUmJihiLmFkZENsYXNzKCJ1aS1uYXRpdmUtZnVsbHNjcmVlbiIpLGQuYWRkQ2xhc3MoImZhZGUgaW4iKSxhKGRvY3VtZW50KS5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKCl7ZC5yZW1vdmVDbGFzcygidWktbmF0aXZlLWJhcnMtaGlkZGVuIikudG9nZ2xlQ2xhc3MoImluIG91dCIpLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7YSh0aGlzKS5ub3QoIi5pbiIpLmFkZENsYXNzKCJ1aS1uYXRpdmUtYmFycy1oaWRkZW4iKX0pfSkpKX0pKX0pfSkoalF1ZXJ5KTsNCihmdW5jdGlvbihhLGUpe2Z1bmN0aW9uIGIoKXt2YXIgYj1hKCJtZXRhW25hbWU9J3ZpZXdwb3J0J10iKTtiLmxlbmd0aD9iLmF0dHIoImNvbnRlbnQiLGIuYXR0cigiY29udGVudCIpKyIsIHVzZXItc2NhbGFibGU9bm8iKTphKCJoZWFkIikucHJlcGVuZCgiPG1ldGE+Iix7bmFtZToidmlld3BvcnQiLGNvbnRlbnQ6InVzZXItc2NhbGFibGU9bm8ifSl9dmFyIGQ9YSgiaHRtbCIpO2EoImhlYWQiKTt2YXIgZj1hKGUpO2EoZS5kb2N1bWVudCkudHJpZ2dlcigibW9iaWxlaW5pdCIpO2lmKGEubW9iaWxlLmdyYWRlQSgpKXtpZihhLm1vYmlsZS5hamF4QmxhY2tsaXN0KWEubW9iaWxlLmFqYXhFbmFibGVkPWZhbHNlO2QuYWRkQ2xhc3MoInVpLW1vYmlsZSB1aS1tb2JpbGUtcmVuZGVyaW5nIik7dmFyIGM9YSgiPGRpdiBjbGFzcz0ndWktbG9hZGVyIHVpLWJvZHktYSB1aS1jb3JuZXItYWxsJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWxvYWRpbmcgc3Bpbic+PC9zcGFuPjxoMT48L2gxPjwvZGl2PiIpOw0KYS5leHRlbmQoYS5tb2JpbGUse3Nob3dQYWdlTG9hZGluZ01zZzpmdW5jdGlvbigpe2lmKGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlKXt2YXIgYj1hKCIuIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuZmlyc3QoKTtjLmZpbmQoImgxIikudGV4dChhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZSkuZW5kKCkuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lcikuY3NzKHt0b3A6YS5zdXBwb3J0LnNjcm9sbFRvcCYmZi5zY3JvbGxUb3AoKStmLmhlaWdodCgpLzJ8fGIubGVuZ3RoJiZiLm9mZnNldCgpLnRvcHx8MTAwfSl9ZC5hZGRDbGFzcygidWktbG9hZGluZyIpfSxoaWRlUGFnZUxvYWRpbmdNc2c6ZnVuY3Rpb24oKXtkLnJlbW92ZUNsYXNzKCJ1aS1sb2FkaW5nIil9LGluaXRpYWxpemVQYWdlOmZ1bmN0aW9uKCl7dmFyIGI9YSgiOmpxbURhdGEocm9sZT0ncGFnZScpIik7Yi5sZW5ndGh8fChiPWEoImJvZHkiKS53cmFwSW5uZXIoIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdwYWdlJz48L2Rpdj4iKS5jaGlsZHJlbigwKSk7DQpiLmFkZCgiOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtiLmpxbURhdGEoInVybCIpfHxiLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidXJsIixiLmF0dHIoImlkIil8fGxvY2F0aW9uLnBhdGhuYW1lK2xvY2F0aW9uLnNlYXJjaCl9KTthLm1vYmlsZS5maXJzdFBhZ2U9Yi5maXJzdCgpO2EubW9iaWxlLnBhZ2VDb250YWluZXI9Yi5maXJzdCgpLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1tb2JpbGUtdmlld3BvcnQiKTtmLnRyaWdnZXIoInBhZ2Vjb250YWluZXJjcmVhdGUiKTthLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coKTshYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWR8fCFhLm1vYmlsZS5wYXRoLnN0cmlwSGFzaChsb2NhdGlvbi5oYXNoKT9hLm1vYmlsZS5jaGFuZ2VQYWdlKGEubW9iaWxlLmZpcnN0UGFnZSx7dHJhbnNpdGlvbjoibm9uZSIscmV2ZXJzZTp0cnVlLGNoYW5nZUhhc2g6ZmFsc2UsZnJvbUhhc2hDaGFuZ2U6dHJ1ZX0pOg0KZi50cmlnZ2VyKCJoYXNoY2hhbmdlIixbdHJ1ZV0pfX0pO2Euc3VwcG9ydC50b3VjaE92ZXJmbG93JiZhLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZCYmIWEubW9iaWxlLnRvdWNoT3ZlcmZsb3dab29tRW5hYmxlZCYmYigpO2EubW9iaWxlLl9yZWdpc3RlckludGVybmFsRXZlbnRzKCk7YShmdW5jdGlvbigpe2Uuc2Nyb2xsVG8oMCwxKTthLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbD0hYS5zdXBwb3J0LnNjcm9sbFRvcHx8YShlKS5zY3JvbGxUb3AoKT09PTE/MDoxO2EubW9iaWxlLmF1dG9Jbml0aWFsaXplUGFnZSYmYS5tb2JpbGUuaW5pdGlhbGl6ZVBhZ2UoKTtmLmxvYWQoYS5tb2JpbGUuc2lsZW50U2Nyb2xsKX0pfX0pKGpRdWVyeSx0aGlzKTs=",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 07:21:54 GMT",
                    "Content-Length": "82073",
                    "Date": "Fri, 07 Nov 2014 07:21:55 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
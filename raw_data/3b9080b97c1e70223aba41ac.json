{
    "url": "http://localhost:9999/stefanneculai/froala-wysiwyg/js/froala_editor.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Cross-site scripting (DOM-based)",
    "issueType": 2097936,
    "severity": "High",
    "confidence": "Firm",
    "issueBackground": "DOM-based cross-site scripting vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this data into the HTML document in an unsafe way. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will cause JavaScript code supplied by the attacker to execute within the user's browser in the context of that user's session with the application.<br><br>The attacker-supplied code can perform a wide variety of actions, such as stealing the victim's session token or login credentials, performing arbitrary actions on the victim's behalf, and logging their keystrokes.<br><br>Users can be induced to visit the attacker's crafted URL in various ways, similar to the usual attack delivery vectors for reflected cross-site scripting vulnerabilities. ",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based cross-site scripting vulnerabilities is not to dynamically write data into the HTML document that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing script code into the document. In many cases, the relevant data can be validated on a whitelist basis, to allow only content that is known to be safe. In other cases, it will be necessary to sanitize or encode the data. This can be a complex task, and depending on the context that the data is to be inserted may need to involve a combination of JavaScript escaping, HTML encoding, and URL encoding, in the appropriate sequence.",
    "issueDetail": "The application may be vulnerable to DOM-based cross-site scripting. Data is read from <b>window.location.href</b> and written to <b>the 'prepend()' function of JQuery</b> via the following statement:<ul><li>c.prepend('&lt;input type=\"hidden\" name=\"XHR_CORS_TRARGETORIGIN\" value=\"'+window.location.href+'\" /&gt;');</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/stefanneculai/froala-wysiwyg/js/froala_editor.min.js",
                "path": "/stefanneculai/froala-wysiwyg/js/froala_editor.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9zdGVmYW5uZWN1bGFpL2Zyb2FsYS13eXNpd3lnL2pzL2Zyb2FsYV9lZGl0b3IubWluLmpzIEhUVFAvMS4xDQpIb3N0OiBsb2NhbGhvc3Q6OTk5OQ0KDQo=",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTUxMDYzDQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBGcmksIDA3IE5vdiAyMDE0IDAwOjUwOjU3IEdNVA0KTGFzdC1Nb2RpZmllZDogRnJpLCAwNyBOb3YgMjAxNCAwMDo1MDo1NyBHTVQNCg0KLyohCiAqIGZyb2FsYV9lZGl0b3IgdjEuMi40IChodHRwOi8vZWRpdG9yLmZyb2FsYS5jb20pCiAqIENvcHlyaWdodCAyMDE0LTIwMTQgRnJvYWxhCiAqLwppZigidW5kZWZpbmVkIj09dHlwZW9mIGpRdWVyeSl0aHJvdyBuZXcgRXJyb3IoIkZyb2FsYSByZXF1aXJlcyBqUXVlcnkiKTshZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO3ZhciBiPWZ1bmN0aW9uKGMsZCl7dGhpcy5vcHRpb25zPWEuZXh0ZW5kKHt9LGIuREVGQVVMVFMsYShjKS5kYXRhKCksIm9iamVjdCI9PXR5cGVvZiBkJiZkKSx0aGlzLnZhbGlkX25vZGVzPWEubWVyZ2UoW10sYi5WQUxJRF9OT0RFUyksdGhpcy52YWxpZF9ub2Rlcz1hLm1lcmdlKHRoaXMudmFsaWRfbm9kZXMsYS5tYXAoT2JqZWN0LmtleXModGhpcy5vcHRpb25zLmJsb2NrVGFncyksZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9VcHBlckNhc2UoKX0pKSx0aGlzLmJyb3dzZXI9Yi5icm93c2VyKCksdGhpcy5kaXNhYmxlZExpc3Q9W10sdGhpcy5faWQ9KytiLmNvdW50LHRoaXMuX2V2ZW50cz17fSx0aGlzLmJsdXJyZWQ9ITAsdGhpcy4kd2luZG93PWEod2luZG93KSx0aGlzLiRkb2N1bWVudD1hKGRvY3VtZW50KSx0aGlzLiRvcmlnaW5hbF9lbGVtZW50PWEoYyksdGhpcy5pbml0KGMpLGEoYykub24oImVkaXRhYmxlLmZvY3VzIixhLnByb3h5KGZ1bmN0aW9uKCl7Zm9yKHZhciBiPTE7Yjw9YS5FZGl0YWJsZS5jb3VudDtiKyspYiE9dGhpcy5faWQmJmEod2luZG93KS50cmlnZ2VyKCJibHVyLiIrYil9LHRoaXMpKX07Yi5pbml0aWFsaXplcnM9W10sYi5jb3VudD0wLGIuVkFMSURfTk9ERVM9WyJQIiwiRElWIiwiTEkiLCJURCIsIlRIIl0sYi5MQU5HUz1bXSxiLkRFRkFVTFRTPXthbGxvd2VkQXR0cnM6WyJhY2NlcHQiLCJhY2NlcHQtY2hhcnNldCIsImFjY2Vzc2tleSIsImFjdGlvbiIsImFsaWduIiwiYWx0IiwiYXN5bmMiLCJhdXRvY29tcGxldGUiLCJhdXRvZm9jdXMiLCJhdXRvcGxheSIsImF1dG9zYXZlIiwiYmFja2dyb3VuZCIsImJnY29sb3IiLCJib3JkZXIiLCJjaGFyc2V0IiwiY2VsbHBhZGRpbmciLCJjZWxsc3BhY2luZyIsImNoZWNrZWQiLCJjaXRlIiwiY2xhc3MiLCJjb2xvciIsImNvbHMiLCJjb2xzcGFuIiwiY29udGVudGVkaXRhYmxlIiwiY29udGV4dG1lbnUiLCJjb250cm9scyIsImNvb3JkcyIsImRhdGEiLCJkYXRhLS4qIiwiZGF0ZXRpbWUiLCJkZWZhdWx0IiwiZGVmZXIiLCJkaXIiLCJkaXJuYW1lIiwiZGlzYWJsZWQiLCJkb3dubG9hZCIsImRyYWdnYWJsZSIsImRyb3B6b25lIiwiZW5jdHlwZSIsImZvciIsImZvcm0iLCJmb3JtYWN0aW9uIiwiaGVhZGVycyIsImhlaWdodCIsImhpZGRlbiIsImhpZ2giLCJocmVmIiwiaHJlZmxhbmciLCJpY29uIiwiaWQiLCJpc21hcCIsIml0ZW1wcm9wIiwia2V5dHlwZSIsImtpbmQiLCJsYWJlbCIsImxhbmciLCJsYW5ndWFnZSIsImxpc3QiLCJsb29wIiwibG93IiwibWF4IiwibWF4bGVuZ3RoIiwibWVkaWEiLCJtZXRob2QiLCJtaW4iLCJtdWx0aXBsZSIsIm5hbWUiLCJub3ZhbGlkYXRlIiwib3BlbiIsIm9wdGltdW0iLCJwYXR0ZXJuIiwicGluZyIsInBsYWNlaG9sZGVyIiwicG9zdGVyIiwicHJlbG9hZCIsInB1YmRhdGUiLCJyYWRpb2dyb3VwIiwicmVhZG9ubHkiLCJyZWwiLCJyZXF1aXJlZCIsInJldmVyc2VkIiwicm93cyIsInJvd3NwYW4iLCJzYW5kYm94Iiwic2NvcGUiLCJzY29wZWQiLCJzY3JvbGxpbmciLCJzZWFtbGVzcyIsInNlbGVjdGVkIiwic2hhcGUiLCJzaXplIiwic2l6ZXMiLCJzcGFuIiwic3JjIiwic3JjZG9jIiwic3JjbGFuZyIsInNyY3NldCIsInN0YXJ0Iiwic3RlcCIsInN1bW1hcnkiLCJzcGVsbGNoZWNrIiwic3R5bGUiLCJ0YWJpbmRleCIsInRhcmdldCIsInRpdGxlIiwidHlwZSIsInRyYW5zbGF0ZSIsInVzZW1hcCIsInZhbHVlIiwidmFsaWduIiwid2lkdGgiLCJ3cmFwIl0sYWxsb3dlZFRhZ3M6WyIhLS0iLCJhIiwiYWJiciIsImFkZHJlc3MiLCJhcmVhIiwiYXJ0aWNsZSIsImFzaWRlIiwiYXVkaW8iLCJiIiwiYmFzZSIsImJkaSIsImJkbyIsImJsb2NrcXVvdGUiLCJiciIsImJ1dHRvbiIsImNhbnZhcyIsImNhcHRpb24iLCJjaXRlIiwiY29kZSIsImNvbCIsImNvbGdyb3VwIiwiZGF0YWxpc3QiLCJkZCIsImRlbCIsImRldGFpbHMiLCJkZm4iLCJkaWFsb2ciLCJkaXYiLCJkbCIsImR0IiwiZW0iLCJlbWJlZCIsImZpZWxkc2V0IiwiZmlnY2FwdGlvbiIsImZpZ3VyZSIsImZvb3RlciIsImZvcm0iLCJoMSIsImgyIiwiaDMiLCJoNCIsImg1IiwiaDYiLCJoZWFkZXIiLCJoZ3JvdXAiLCJociIsImkiLCJpZnJhbWUiLCJpbWciLCJpbnB1dCIsImlucyIsImtiZCIsImtleWdlbiIsImxhYmVsIiwibGVnZW5kIiwibGkiLCJsaW5rIiwibWFpbiIsIm1hcCIsIm1hcmsiLCJtZW51IiwibWVudWl0ZW0iLCJtZXRlciIsIm5hdiIsIm5vc2NyaXB0Iiwib2JqZWN0Iiwib2wiLCJvcHRncm91cCIsIm9wdGlvbiIsIm91dHB1dCIsInAiLCJwYXJhbSIsInByZSIsInByb2dyZXNzIiwicXVldWUiLCJycCIsInJ0IiwicnVieSIsInMiLCJzYW1wIiwic2NyaXB0Iiwic2VjdGlvbiIsInNlbGVjdCIsInNtYWxsIiwic291cmNlIiwic3BhbiIsInN0cm9uZyIsInN0eWxlIiwic3ViIiwic3VtbWFyeSIsInN1cCIsInRhYmxlIiwidGJvZHkiLCJ0ZCIsInRleHRhcmVhIiwidGZvb3QiLCJ0aCIsInRoZWFkIiwidGltZSIsInRpdGxlIiwidHIiLCJ0cmFjayIsInUiLCJ1bCIsInZhciIsInZpZGVvIiwid2JyIl0sYWx3YXlzQmxhbms6ITEsYWx3YXlzVmlzaWJsZTohMSxhdXRvc2F2ZTohMSxhdXRvc2F2ZUludGVydmFsOjFlNCxiZWF1dGlmeUNvZGU6ITAsYmxvY2tUYWdzOntuOiJOb3JtYWwiLGJsb2NrcXVvdGU6IlF1b3RlIixwcmU6IkNvZGUiLGgxOiJIZWFkaW5nIDEiLGgyOiJIZWFkaW5nIDIiLGgzOiJIZWFkaW5nIDMiLGg0OiJIZWFkaW5nIDQiLGg1OiJIZWFkaW5nIDUiLGg2OiJIZWFkaW5nIDYifSxidXR0b25zOlsiYm9sZCIsIml0YWxpYyIsInVuZGVybGluZSIsInN0cmlrZVRocm91Z2giLCJmb250U2l6ZSIsImZvbnRGYW1pbHkiLCJjb2xvciIsInNlcCIsImZvcm1hdEJsb2NrIiwiYmxvY2tTdHlsZSIsImFsaWduIiwiaW5zZXJ0T3JkZXJlZExpc3QiLCJpbnNlcnRVbm9yZGVyZWRMaXN0Iiwib3V0ZGVudCIsImluZGVudCIsInNlcCIsImNyZWF0ZUxpbmsiLCJpbnNlcnRJbWFnZSIsImluc2VydFZpZGVvIiwiaW5zZXJ0SG9yaXpvbnRhbFJ1bGUiLCJ1bmRvIiwicmVkbyIsImh0bWwiXSxjcm9zc0RvbWFpbjohMCxjb252ZXJ0TWFpbEFkZHJlc3NlczohMCxjdXN0b21CdXR0b25zOnt9LGN1c3RvbURyb3Bkb3duczp7fSxjdXN0b21UZXh0OiExLGRpcmVjdGlvbjoibHRyIixkaXNhYmxlUmlnaHRDbGljazohMSxlZGl0SW5Qb3B1cDohMSxlZGl0b3JDbGFzczoiIixmb3JtYXRUYWdzOlsicCIsInByZSIsImJsb2NrcXVvdGUiLCJoMSIsImgyIiwiaDMiLCJoNCIsImg1IiwiaDYiLCJkaXYiLCJ1bCIsIm9sIiwibGkiLCJ0YWJsZSIsInRib2R5IiwidGhlYWQiLCJ0Zm9vdCIsInRyIiwidGgiLCJ0ZCJdLGhlYWRlcnM6e30saGVpZ2h0OiJhdXRvIixpY29uczp7fSxpbmxpbmVNb2RlOiEwLGluaXRPbkNsaWNrOiExLGxhbmd1YWdlOiJlbl91cyIsbGlua0xpc3Q6W10sbGlua1RleHQ6ITEsbGlua0NsYXNzZXM6e30sbWF4SGVpZ2h0OiJhdXRvIixtaW5IZWlnaHQ6ImF1dG8iLG5vRm9sbG93OiEwLHBhcmFncmFwaHk6ITAscGxhY2Vob2xkZXI6IlR5cGUgc29tZXRoaW5nIixwbGFpblBhc3RlOiExLHByZWxvYWRlclNyYzoiIixzYXZlVVJMOm51bGwsc2F2ZVBhcmFtczp7fSxzYXZlUmVxdWVzdFR5cGU6IlBPU1QiLHNpbXBsZUFtcGVyc2FuZDohMSxzaG9ydGN1dHM6ITAsc2hvcnRjdXRzQXZhaWxhYmxlOlsic2hvdyIsImJvbGQiLCJpdGFsaWMiLCJ1bmRlcmxpbmUiLCJjcmVhdGVMaW5rIiwiaW5zZXJ0SW1hZ2UiLCJzZWxlY3RBbGwiLCJpbmRlbnQiLCJvdXRkZW50IiwiaHRtbCIsImZvcm1hdEJsb2NrIG4iLCJmb3JtYXRCbG9jayBoMSIsImZvcm1hdEJsb2NrIGgyIiwiZm9ybWF0QmxvY2sgaDMiLCJmb3JtYXRCbG9jayBoNCIsImZvcm1hdEJsb2NrIGg1IiwiZm9ybWF0QmxvY2sgaDYiLCJmb3JtYXRCbG9jayBibG9ja3F1b3RlIiwiZm9ybWF0QmxvY2sgcHJlIiwic3RyaWtlVGhyb3VnaCJdLHNwZWxsY2hlY2s6ITEsdGhlbWU6bnVsbCx0b29sYmFyRml4ZWQ6ITAsdHJhY2tTY3JvbGw6ITEsdW5saW5rQnV0dG9uOiEwLHRhYlNwYWNlczohMCx0eXBpbmdUaW1lcjo1MDAscGFzdGVkSW1hZ2VzVXBsb2FkUmVxdWVzdFR5cGU6IlBPU1QiLHBhc3RlZEltYWdlc1VwbG9hZFVSTDoiaHR0cDovL2kuZnJvYWxhLmNvbS91cGxvYWRfYmFzZTY0Iix3aWR0aDoiYXV0byIsd2l0aENyZWRlbnRpYWxzOiExLHpJbmRleDoyZTN9LGIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnN5bmMoKSx0aGlzLmFkZEZyVGFnKCksdGhpcy5oaWRlKCksdGhpcy5pc0hUTUwmJnRoaXMuaHRtbCgpLHRoaXMuJGJ0dG5fd3JhcHBlciYmdGhpcy4kYnR0bl93cmFwcGVyLmh0bWwoIiIpLnJlbW92ZURhdGEoKS5yZW1vdmUoKSx0aGlzLiRlZGl0b3ImJnRoaXMuJGVkaXRvci5odG1sKCIiKS5yZW1vdmVEYXRhKCkucmVtb3ZlKCksdGhpcy5yYWlzZUV2ZW50KCJkZXN0cm95IiksdGhpcy4kcG9wdXBfZWRpdG9yJiZ0aGlzLiRwb3B1cF9lZGl0b3IuaHRtbCgiIikucmVtb3ZlRGF0YSgpLnJlbW92ZSgpLHRoaXMuJHBsYWNlaG9sZGVyJiZ0aGlzLiRwbGFjZWhvbGRlci5odG1sKCIiKS5yZW1vdmVEYXRhKCkucmVtb3ZlKCksY2xlYXJUaW1lb3V0KHRoaXMuYWpheEludGVydmFsKSxjbGVhclRpbWVvdXQodGhpcy50eXBpbmdUaW1lciksdGhpcy4kZWxlbWVudC5vZmYoIm1vdXNlZG93biBtb3VzZXVwIGNsaWNrIGtleWRvd24ga2V5dXAgY3V0IGNvcHkgcGFzdGUgZm9jdXMga2V5cHJlc3MgdG91Y2hzdGFydCB0b3VjaGVuZCB0b3VjaCBkcm9wIiksdGhpcy4kZWxlbWVudC5vZmYoIm1vdXNlZG93biBtb3VzZXVwIGNsaWNrIGtleWRvd24ga2V5dXAgY3V0IGNvcHkgcGFzdGUgZm9jdXMga2V5cHJlc3MgdG91Y2hzdGFydCB0b3VjaGVuZCB0b3VjaCBkcm9wIiwiKioiKSxhKHdpbmRvdykub2ZmKCJtb3VzZXVwLiIrdGhpcy5faWQpLGEod2luZG93KS5vZmYoImtleWRvd24uIit0aGlzLl9pZCksYSh3aW5kb3cpLm9mZigia2V5dXAuIit0aGlzLl9pZCksYSh3aW5kb3cpLm9mZigiYmx1ci4iK3RoaXMuX2lkKSxhKHdpbmRvdykub2ZmKCJoaWRlLiIrdGhpcy5faWQpLGEod2luZG93KS5vZmYoInNjcm9sbC4iK3RoaXMuX2lkKSxhKHdpbmRvdykub2ZmKCJvcmllbnRhdGlvbmNoYW5nZS4iK3RoaXMuX2lkKSxhKGRvY3VtZW50KS5vZmYoInNlbGVjdGlvbmNoYW5nZS4iK3RoaXMuX2lkKSx0aGlzLiRvcmlnaW5hbF9lbGVtZW50Lm9mZigiZWRpdGFibGUiKSx2b2lkIDAhPT10aGlzLiR1cGxvYWRfZnJhbWUmJnRoaXMuJHVwbG9hZF9mcmFtZS5yZW1vdmUoKSx0aGlzLiR0ZXh0YXJlYSYmKHRoaXMuJGJveC5yZW1vdmUoKSx0aGlzLiR0ZXh0YXJlYS5yZW1vdmVEYXRhKCJmYS5lZGl0YWJsZSIpLHRoaXMuJHRleHRhcmVhLnNob3coKSk7Zm9yKHZhciBiIGluIHRoaXMuX2V2ZW50cylkZWxldGUgdGhpcy5fZXZlbnRzW2JdO3RoaXMuaXNMaW5rP3RoaXMuJGVsZW1lbnQucmVtb3ZlRGF0YSgiZmEuZWRpdGFibGUiKToodGhpcy4kZWxlbWVudC5yZXBsYWNlV2l0aCh0aGlzLmdldEhUTUwoKSksdGhpcy4kYm94JiYhdGhpcy5lZGl0YWJsZURpc2FibGVkJiYodGhpcy4kYm94LnJlbW92ZUNsYXNzKCJmcm9hbGEtYm94IiksdGhpcy4kYm94LmZpbmQoIi5odG1sLXN3aXRjaCIpLnJlbW92ZSgpLHRoaXMuJGJveC5yZW1vdmVEYXRhKCJmYS5lZGl0YWJsZSIpLGNsZWFyVGltZW91dCh0aGlzLnR5cGluZ1RpbWVyKSkpfSxiLnByb3RvdHlwZS50cmlnZ2VyRXZlbnQ9ZnVuY3Rpb24oYixjLGQsZSl7dm9pZCAwPT09ZCYmKGQ9ITApLHZvaWQgMD09PWUmJihlPSExKSxkPT09ITAmJih0aGlzLmlzUmVzaXppbmcoKXx8dGhpcy5lZGl0YWJsZURpc2FibGVkfHx0aGlzLmltYWdlTW9kZXx8IWV8fHRoaXMuY2xlYW5pZnkoKSx0aGlzLnN5bmMoKSk7dmFyIGY9ITA7cmV0dXJuIGN8fChjPVtdKSxmPXRoaXMuJG9yaWdpbmFsX2VsZW1lbnQudHJpZ2dlckhhbmRsZXIoImVkaXRhYmxlLiIrYixhLm1lcmdlKFt0aGlzXSxjKSksdm9pZCAwPT09Zj8hMDpmfSxiLnByb3RvdHlwZS5zeW5jQ2xlYW5IVE1MPWZ1bmN0aW9uKGEsYil7dmFyIGM7aWYoYilmb3IoYz1hLnJlcGxhY2UoLzxzcGFuKCg/IWNsYXNzXHMqPVxzKlsiJ10/Zi1tYXJrZXJbIiddPylbXj5dKSo/PjxcL3NwYW4+L2dpLCIiKTthIT1jOylhPWMsYz1hLnJlcGxhY2UoLzxzcGFuKCg/IWNsYXNzXHMqPVxzKlsiJ10/Zi1tYXJrZXJbIiddPylbXj5dKSo/PjxcL3NwYW4+L2dpLCIiKTtlbHNlIGZvcihjPWEucmVwbGFjZSgvPHNwYW5bXj5dKj8+PFwvc3Bhbj4vZywiIik7YSE9YzspYT1jLGM9YS5yZXBsYWNlKC88c3BhbltePl0qPz48XC9zcGFuPi9nLCIiKTtyZXR1cm4gYX0sYi5wcm90b3R5cGUuc3luY0NsZWFuPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9InNwYW46ZW1wdHkiO2MmJihkPSJzcGFuOmVtcHR5Om5vdCguZi1tYXJrZXIpIik7Zm9yKHZhciBlPSExLGY9ZnVuY3Rpb24oYixjKXswPT09Yy5hdHRyaWJ1dGVzLmxlbmd0aCYmKGEoYykucmVtb3ZlKCksZT0hMSl9LGc9Yi5maW5kKGQpO2cubGVuZ3RoJiZlPT09ITE7KWU9ITAsZy5lYWNoKGYpLGc9Yi5maW5kKGQpfSxiLnByb3RvdHlwZS5zeW5jPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNIVE1MKXt0aGlzLnJhaXNlRXZlbnQoInN5bmMiKSx0aGlzLmRpc2FibGVJbWFnZVJlc2l6ZSgpLHRoaXMuaXNMaW5rfHx0aGlzLmlzSW1hZ2V8fHRoaXMuJGVsZW1lbnQudHJpZ2dlcigicGxhY2Vob2xkZXJDaGVjayIpO3ZhciBhPXRoaXMuZ2V0SFRNTCgpO3RoaXMudHJhY2tIVE1MIT09YSYmbnVsbCE9dGhpcy50cmFja0hUTUw/KHRoaXMucmVmcmVzaEltYWdlTGlzdCgpLHRoaXMucmVmcmVzaEJ1dHRvbnMoKSx0aGlzLmNsZWFudXBMaXN0cygpLHRoaXMudHJhY2tIVE1MPWEsdGhpcy4kdGV4dGFyZWEmJnRoaXMuJHRleHRhcmVhLnZhbCh0aGlzLmdldEhUTUwoITEsITApKSx0aGlzLmRvaW5nUmVkb3x8dGhpcy5zYXZlVW5kb1N0ZXAoKSx0aGlzLnRyaWdnZXJFdmVudCgiY29udGVudENoYW5nZWQiLFtdLCExKSk6bnVsbD09dGhpcy50cmFja0hUTUwmJih0aGlzLnRyYWNrSFRNTD1hKX19LGIucHJvdG90eXBlLmVtcHR5RWxlbWVudD1mdW5jdGlvbihiKXtpZigiSU1HIj09Yi50YWdOYW1lfHxhKGIpLmZpbmQoImltZyIpLmxlbmd0aD4wKXJldHVybiExO2lmKGEoYikuZmluZCgiaW5wdXQsIGlmcmFtZSIpLmxlbmd0aD4wKXJldHVybiExO2Zvcih2YXIgYz1hKGIpLnRleHQoKSxkPTA7ZDxjLmxlbmd0aDtkKyspaWYoIlxuIiE9PWNbZF0mJiJcciIhPT1jW2RdJiYiCSIhPT1jW2RdKXJldHVybiExO3JldHVybiEwfSxiLnByb3RvdHlwZS5pbml0RXZlbnRzPWZ1bmN0aW9uKCl7dGhpcy5tb2JpbGUoKT8odGhpcy5tb3VzZWRvd249InRvdWNoc3RhcnQiLHRoaXMubW91c2V1cD0idG91Y2hlbmQiLHRoaXMubW92ZT0idG91Y2htb3ZlIik6KHRoaXMubW91c2Vkb3duPSJtb3VzZWRvd24iLHRoaXMubW91c2V1cD0ibW91c2V1cCIsdGhpcy5tb3ZlPSIiKX0sYi5wcm90b3R5cGUuY29udGludWVJbml0PWZ1bmN0aW9uKCl7dGhpcy5pbml0RXZlbnRzKCksdGhpcy5icm93c2VyRml4ZXMoKSx0aGlzLmVkaXRhYmxlRGlzYWJsZWR8fCh0aGlzLmluaXRVbmRvUmVkbygpLHRoaXMuZW5hYmxlVHlwaW5nKCksdGhpcy5pbml0U2hvcnRjdXRzKCkpLHRoaXMuaW5pdFRhYnMoKSx0aGlzLmluaXRFZGl0b3IoKTtmb3IodmFyIGI9MDtiPGEuRWRpdGFibGUuaW5pdGlhbGl6ZXJzLmxlbmd0aDtiKyspYS5FZGl0YWJsZS5pbml0aWFsaXplcnNbYl0uY2FsbCh0aGlzKTt0aGlzLmluaXRPcHRpb25zKCksdGhpcy5pbml0RWRpdG9yU2VsZWN0aW9uKCksdGhpcy5pbml0QWpheFNhdmVyKCksdGhpcy5zZXRMYW5ndWFnZSgpLHRoaXMuc2V0Q3VzdG9tVGV4dCgpLHRoaXMuZWRpdGFibGVEaXNhYmxlZHx8dGhpcy5yZWdpc3RlclBhc3RlKCksdGhpcy5pbml0aWFsaXplZD0hMCx0aGlzLnRyaWdnZXJFdmVudCgiaW5pdGlhbGl6ZWQiLFtdLCExLCExKX0sYi5wcm90b3R5cGUubGF0ZUluaXQ9ZnVuY3Rpb24oKXt0aGlzLnNhdmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLmNvbnRpbnVlSW5pdCgpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpLHRoaXMuJGVsZW1lbnQuZm9jdXMoKSx0aGlzLmhpZGVPdGhlckVkaXRvcnMoKX0sYi5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihiKXt0aGlzLmluaXRFbGVtZW50KGIpLHRoaXMuaW5pdEVsZW1lbnRTdHlsZSgpLCghdGhpcy5pc0xpbmt8fHRoaXMuaXNJbWFnZSkmJih0aGlzLmluaXRJbWFnZUV2ZW50cygpLHRoaXMuYnVpbGRJbWFnZU1vdmUoKSksdGhpcy5vcHRpb25zLmluaXRPbkNsaWNrPyh0aGlzLmVkaXRhYmxlRGlzYWJsZWR8fCh0aGlzLiRlbGVtZW50LmF0dHIoImNvbnRlbnRlZGl0YWJsZSIsITApLHRoaXMuJGVsZW1lbnQuYXR0cigic3BlbGxjaGVjayIsITEpKSx0aGlzLiRlbGVtZW50LmJpbmQoIm1vdXNlZG93bi5lbGVtZW50IixhLnByb3h5KGZ1bmN0aW9uKGEpe3RoaXMuaXNMaW5rfHxhLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuJGVsZW1lbnQudW5iaW5kKCJtb3VzZWRvd24uZWxlbWVudCIpLHRoaXMubGF0ZUluaXQoKX0sdGhpcykpKTp0aGlzLmNvbnRpbnVlSW5pdCgpfSxiLnByb3RvdHlwZS5waG9uZT1mdW5jdGlvbigpe3ZhciBhPSExO3JldHVybiBmdW5jdGlvbihiKXsoLyhhbmRyb2lkfGJiXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vL2kudGVzdChiKXx8LzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1wtKG58dSl8YzU1XC98Y2FwaXxjY3dhfGNkbVwtfGNlbGx8Y2h0bXxjbGRjfGNtZFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXC01fGdcLW1vfGdvKFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFwtKG18cHx0KXxoZWlcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXC1jfGh0KGMoXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XC18XC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XC8pfGtsb258a3B0IHxrd2NcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XC8oa3xsfHUpfDUwfDU0fFwtW2Etd10pfGxpYnd8bHlueHxtMVwtd3xtM2dhfG01MFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVwtY3J8bWUocmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XC1nfHFhXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFwtWzItN118aVwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXC18b298cFwtKXxzZGtcL3xzZShjKFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFwtfHNoYXJ8c2llKFwtfG0pfHNrXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcLXx2XC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcLXx0ZGdcLXx0ZWwoaXxtKXx0aW1cLXx0XC1tb3x0byhwbHxzaCl8dHMoNzB8bVwtfG0zfG01KXx0eFwtOXx1cChcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcLXx5b3VyfHpldG98enRlXC0vaS50ZXN0KGIuc3Vic3RyKDAsNCkpKSYmKGE9ITApfShuYXZpZ2F0b3IudXNlckFnZW50fHxuYXZpZ2F0b3IudmVuZG9yfHx3aW5kb3cub3BlcmEpLGF9LGIucHJvdG90eXBlLm1vYmlsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBob25lKCl8fHRoaXMuYW5kcm9pZCgpfHx0aGlzLmlPUygpfHx0aGlzLmJsYWNrYmVycnkoKX0sYi5wcm90b3R5cGUuaU9TPWZ1bmN0aW9uKCl7cmV0dXJuLyhpUGFkfGlQaG9uZXxpUG9kKS9nLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9LGIucHJvdG90eXBlLmlPU1ZlcnNpb249ZnVuY3Rpb24oKXtpZigvaVAoaG9uZXxvZHxhZCkvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSl7dmFyIGE9bmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL09TIChcZCspXyhcZCspXz8oXGQrKT8vKSxiPVtwYXJzZUludChhWzFdLDEwKSxwYXJzZUludChhWzJdLDEwKSxwYXJzZUludChhWzNdfHwwLDEwKV07aWYoYiYmYlswXSlyZXR1cm4gYlswXX1yZXR1cm4gMH0sYi5wcm90b3R5cGUuaVBhZD1mdW5jdGlvbigpe3JldHVybi8oaVBhZCkvZy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSxiLnByb3RvdHlwZS5pUGhvbmU9ZnVuY3Rpb24oKXtyZXR1cm4vKGlQaG9uZSkvZy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSxiLnByb3RvdHlwZS5pUG9kPWZ1bmN0aW9uKCl7cmV0dXJuLyhpUG9kKS9nLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9LGIucHJvdG90eXBlLmFuZHJvaWQ9ZnVuY3Rpb24oKXtyZXR1cm4vKEFuZHJvaWQpL2cudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX0sYi5wcm90b3R5cGUuYmxhY2tiZXJyeT1mdW5jdGlvbigpe3JldHVybi8oQmxhY2tiZXJyeSkvZy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSxiLnByb3RvdHlwZS5pbml0T25UZXh0YXJlYT1mdW5jdGlvbihiKXt0aGlzLiR0ZXh0YXJlYT1hKGIpLHZvaWQgMCE9PXRoaXMuJHRleHRhcmVhLmF0dHIoInBsYWNlaG9sZGVyIikmJiJUeXBlIHNvbWV0aGluZyI9PXRoaXMub3B0aW9ucy5wbGFjZWhvbGRlciYmKHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcj10aGlzLiR0ZXh0YXJlYS5hdHRyKCJwbGFjZWhvbGRlciIpKSx0aGlzLiRlbGVtZW50PWEoIjxkaXY+IikuaHRtbCh0aGlzLiR0ZXh0YXJlYS52YWwoKSksdGhpcy4kdGV4dGFyZWEuYmVmb3JlKHRoaXMuJGVsZW1lbnQpLmhpZGUoKSx0aGlzLiR0ZXh0YXJlYS5wYXJlbnRzKCJmb3JtIikuYmluZCgic3VibWl0IixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5pc0hUTUw/dGhpcy5odG1sKCk6dGhpcy5zeW5jKCl9LHRoaXMpKX0sYi5wcm90b3R5cGUuaW5pdE9uTGluaz1mdW5jdGlvbihiKXt0aGlzLmlzTGluaz0hMCx0aGlzLm9wdGlvbnMubGlua1RleHQ9ITAsdGhpcy5zZWxlY3Rpb25EaXNhYmxlZD0hMCx0aGlzLmVkaXRhYmxlRGlzYWJsZWQ9ITAsdGhpcy5vcHRpb25zLmJ1dHRvbnM9W10sdGhpcy4kZWxlbWVudD1hKGIpLHRoaXMub3B0aW9ucy5wYXJhZ3JhcGh5PSExLHRoaXMub3B0aW9ucy5jb3VudENoYXJhY3RlcnM9ITEsdGhpcy4kYm94PXRoaXMuJGVsZW1lbnR9LGIucHJvdG90eXBlLmluaXRPbkltYWdlPWZ1bmN0aW9uKGIpe3ZhciBjPWEoYikuY3NzKCJmbG9hdCIpOyJBIj09YShiKS5wYXJlbnQoKS5nZXQoMCkudGFnTmFtZSYmKGI9YShiKS5wYXJlbnQoKSksdGhpcy5pc0ltYWdlPSEwLHRoaXMuZWRpdGFibGVEaXNhYmxlZD0hMCx0aGlzLmltYWdlTGlzdD1bXSx0aGlzLm9wdGlvbnMuYnV0dG9ucz1bXSx0aGlzLm9wdGlvbnMucGFyYWdyYXBoeT0hMSx0aGlzLm9wdGlvbnMuaW1hZ2VNYXJnaW49ImF1dG8iLGEoYikud3JhcCgiPGRpdj4iKSx0aGlzLiRlbGVtZW50PWEoYikucGFyZW50KCksdGhpcy4kZWxlbWVudC5jc3MoImRpc3BsYXkiLCJpbmxpbmUtYmxvY2siKSx0aGlzLiRlbGVtZW50LmNzcygibWF4LXdpZHRoIiwiMTAwJSIpLHRoaXMuJGVsZW1lbnQuY3NzKCJtYXJnaW4tbGVmdCIsImF1dG8iKSx0aGlzLiRlbGVtZW50LmNzcygibWFyZ2luLXJpZ2h0IiwiYXV0byIpLHRoaXMuJGVsZW1lbnQuY3NzKCJmbG9hdCIsYyksdGhpcy4kZWxlbWVudC5hZGRDbGFzcygiZi1pbWFnZSIpLHRoaXMuJGJveD1hKGIpfSxiLnByb3RvdHlwZS5pbml0Rm9yUG9wdXA9ZnVuY3Rpb24oYil7dGhpcy4kZWxlbWVudD1hKGIpLHRoaXMuJGJveD10aGlzLiRlbGVtZW50LHRoaXMuZWRpdGFibGVEaXNhYmxlZD0hMCx0aGlzLm9wdGlvbnMuY291bnRDaGFyYWN0ZXJzPSExLHRoaXMub3B0aW9ucy5idXR0b25zPVtdLHRoaXMuJGVsZW1lbnQub24oImNsaWNrIixhLnByb3h5KGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKX0sdGhpcykpfSxiLnByb3RvdHlwZS5pbml0T25EZWZhdWx0PWZ1bmN0aW9uKGIpeyJESVYiIT1iLnRhZ05hbWUmJnRoaXMub3B0aW9ucy5idXR0b25zLmluZGV4T2YoImZvcm1hdEJsb2NrIik+PTAmJnRoaXMuZGlzYWJsZWRMaXN0LnB1c2goImZvcm1hdEJsb2NrIiksdGhpcy4kZWxlbWVudD1hKGIpfSxiLnByb3RvdHlwZS5pbml0RWxlbWVudD1mdW5jdGlvbihiKXsiVEVYVEFSRUEiPT1iLnRhZ05hbWU/dGhpcy5pbml0T25UZXh0YXJlYShiKToiQSI9PWIudGFnTmFtZT90aGlzLmluaXRPbkxpbmsoYik6IklNRyI9PWIudGFnTmFtZT90aGlzLmluaXRPbkltYWdlKGIpOnRoaXMub3B0aW9ucy5lZGl0SW5Qb3B1cD90aGlzLmluaXRGb3JQb3B1cChiKTp0aGlzLmluaXRPbkRlZmF1bHQoYiksdGhpcy5lZGl0YWJsZURpc2FibGVkfHwodGhpcy4kYm94PXRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoImZyb2FsYS1ib3giKSx0aGlzLiR3cmFwcGVyPWEoJzxkaXYgY2xhc3M9ImZyb2FsYS13cmFwcGVyIj4nKSx0aGlzLiRlbGVtZW50PWEoIjxkaXY+IiksdGhpcy5zZXRIVE1MKHRoaXMuJGJveC5odG1sKCksITEpLHRoaXMuJGJveC5odG1sKHRoaXMuJHdyYXBwZXIuaHRtbCh0aGlzLiRlbGVtZW50KSksdGhpcy4kZWxlbWVudC5vbigia2V5dXAiLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDsxMz09YiYmdGhpcy53ZWJraXRQYXJhZ3JhcGh5KCl9LHRoaXMpKSksdGhpcy4kZWxlbWVudC5vbigiZHJvcCIsYS5wcm94eShmdW5jdGlvbigpe3NldFRpbWVvdXQoYS5wcm94eShmdW5jdGlvbigpe2EoImh0bWwiKS5jbGljaygpLHRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLXdyYXAiKS5lYWNoKGZ1bmN0aW9uKGIsYyl7MD09PWEoYykuZmluZCgiaW1nIikubGVuZ3RoJiZhKGMpLnJlbW92ZSgpfSksdGhpcy4kZWxlbWVudC5maW5kKCJwOmVtcHR5IikucmVtb3ZlKCl9LHRoaXMpLDEpfSx0aGlzKSksdGhpcy5zeW5jKCl9LGIucHJvdG90eXBlLndlYmtpdFBhcmFncmFwaHk9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmZpbmQoIioiKS5lYWNoKGEucHJveHkoZnVuY3Rpb24oYixjKXtpZih0aGlzLmVtcHR5RWxlbWVudChjKSYmIkRJViI9PT1jLnRhZ05hbWUmJnRoaXMub3B0aW9ucy5wYXJhZ3JhcGh5PT09ITApe3ZhciBkPWEoIjxwPjxici8+PC9wPiIpO2EoYykucmVwbGFjZVdpdGgoZCksdGhpcy5zZXRTZWxlY3Rpb24oZC5nZXQoMCkpfX0sdGhpcykpfSxiLnByb3RvdHlwZS50cmltPWZ1bmN0aW9uKGEpe3JldHVybiBTdHJpbmcoYSkucmVwbGFjZSgvXlxzK3xccyskL2csIiIpfSxiLnByb3RvdHlwZS51bndyYXBUZXh0PWZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnBhcmFncmFwaHl8fHRoaXMuJGVsZW1lbnQuZmluZCgiZGl2IikuZWFjaChmdW5jdGlvbihiLGMpe3ZvaWQgMD09PWEoYykuYXR0cigic3R5bGUiKSYmYShjKS5yZXBsYWNlV2l0aChhKGMpLmh0bWwoKSsiPGJyLz4iKX0pfSxiLnByb3RvdHlwZS53cmFwVGV4dEluRWxlbWVudD1mdW5jdGlvbihiLGMpe3ZvaWQgMD09PWMmJihjPSExKTt2YXIgZD1bXSxlPVsiU1BBTiIsIkEiLCJCIiwiSSIsIkVNIiwiVSIsIlMiLCJTVFJPTkciLCJTVFJJS0UiLCJGT05UIiwiSU1HIiwiU1VCIiwiU1VQIl0sZj10aGlzO3RoaXMubm9fdmVyaWZ5PSEwO3ZhciBnPWZ1bmN0aW9uKCl7aWYoMD09PWQubGVuZ3RoKXJldHVybiExO3ZhciBiO2I9YShmLm9wdGlvbnMucGFyYWdyYXBoeT09PSEwPyI8cD4iOiI8ZGl2PiIpO3ZhciBjPWEoZFswXSk7aWYoMT09ZC5sZW5ndGgmJiJmLW1hcmtlciI9PWMuYXR0cigiY2xhc3MiKSlyZXR1cm4gdm9pZChkPVtdKTtmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGc9YShkW2VdKTtiLmFwcGVuZChnLmNsb25lKCkpLGU9PWQubGVuZ3RoLTE/Zy5yZXBsYWNlV2l0aChiKTpnLnJlbW92ZSgpfWQ9W119LGg9ITEsaT0hMTtiLmNvbnRlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtpZihiLmhhc0NsYXNzKCJmLW1hcmtlciIpfHxiLmZpbmQoIi5mLW1hcmtlciIpLmxlbmd0aCl7dmFyIGo9YjtiLmZpbmQoIi5mLW1hcmtlciIpLmxlbmd0aCYmKGo9YShiLmZpbmQoIi5mLW1hcmtlciIpWzBdKSksInRydWUiPT09ai5hdHRyKCJkYXRhLXR5cGUiKT8oaD0hMCxpPSExKTppPSEwfXRoaXMubm9kZVR5cGU9PU5vZGUuVEVYVF9OT0RFJiZiLnRleHQoKS50cmltKCkubGVuZ3RoPjB8fGUuaW5kZXhPZih0aGlzLnRhZ05hbWUpPj0wP2QucHVzaCh0aGlzKTp0aGlzLm5vZGVUeXBlPT1Ob2RlLlRFWFRfTk9ERSYmMD09PWIudGV4dCgpLnRyaW0oKS5sZW5ndGgmJmYub3B0aW9ucy5iZWF1dGlmeUNvZGU/Yi5yZW1vdmUoKTooaHx8Yz8oZygpLCJCUiI9PT10aGlzLnRhZ05hbWUmJmIucmVtb3ZlKCkpOmQ9W10saSYmKGg9ITEpKX0pLChofHxjKSYmZygpLGIuZmluZCgiPiBwIikuZWFjaChmdW5jdGlvbihiLGMpezA9PT1hKGMpLnRleHQoKS50cmltKCkubGVuZ3RoJiYwPT09YShjKS5maW5kKCJpbWciKS5sZW5ndGgmJjA9PT1hKGMpLmZpbmQoImJyIikubGVuZ3RoJiZhKGMpLmFwcGVuZCgiPGJyLz4iKX0pLGIuZmluZCgiZGl2OmVtcHR5IikucmVtb3ZlKCksYi5pcygiOmVtcHR5IikmJmIuYXBwZW5kKGYub3B0aW9ucy5wYXJhZ3JhcGh5PT09ITA/IjxwPjxici8+PC9wPiI6Ijxici8+IiksdGhpcy5ub192ZXJpZnk9ITF9LGIucHJvdG90eXBlLndyYXBUZXh0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzSW1hZ2V8fHRoaXMuaXNMaW5rPyExOih0aGlzLndlYmtpdFBhcmFncmFwaHkoKSx2b2lkIHRoaXMud3JhcFRleHRJbkVsZW1lbnQodGhpcy4kZWxlbWVudCxhKSl9LGIucHJvdG90eXBlLnNldEhUTUw9ZnVuY3Rpb24oYixjKXt0aGlzLm5vX3ZlcmlmeT0hMCx2b2lkIDA9PT1jJiYoYz0hMCksYj10aGlzLmNsZWFuKGIsITAsITEpLGI9Yi5yZXBsYWNlKC8+XHMrPC9nLCI+PCIpLHRoaXMuJGVsZW1lbnQuaHRtbChiKSx0aGlzLiRlbGVtZW50LmZpbmQoInByZSIpLmVhY2goZnVuY3Rpb24oYixjKXt2YXIgZD1hKGMpLGU9YShjKS5odG1sKCk7ZS5pbmRleE9mKCJcbiIpPj0wJiZkLmh0bWwoZS5yZXBsYWNlKC9cbi9nLCI8YnI+IikpfSksdGhpcy5pbWFnZUxpc3Q9W10sdGhpcy5yZWZyZXNoSW1hZ2VMaXN0KCksdGhpcy5vcHRpb25zLnBhcmFncmFwaHkmJnRoaXMud3JhcFRleHQoITApLGMmJih0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLnN5bmMoKSksdGhpcy5jbGVhbnVwTGlzdHMoKSx0aGlzLiRlbGVtZW50LmZpbmQoInNwYW4iKS5hdHRyKCJkYXRhLWZyLXZlcmlmaWVkIiwhMCksdGhpcy5ub192ZXJpZnk9ITF9LGIucHJvdG90eXBlLmJlZm9yZVBhc3RlPWZ1bmN0aW9uKCl7dGhpcy5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzKCksdGhpcy5jbGlwYm9hcmRIVE1MPW51bGwsdGhpcy5zY3JvbGxQb3NpdGlvbj1hKHdpbmRvdykuc2Nyb2xsVG9wKCksdGhpcy4kcGFzdGVEaXY9YSgnPGRpdiBjb250ZW50ZWRpdGFibGU9InRydWUiIHN0eWxlPSJwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogLTk5OTlweDsgaGVpZ2h0OiAxMDAlOyB3aWR0aDogMDsgei1pbmRleDogOTk5OTk7Ij48L2Rpdj4nKS5hcHBlbmRUbygiYm9keSIpLHRoaXMuJHBhc3RlRGl2LmZvY3VzKCksd2luZG93LnNldFRpbWVvdXQoYS5wcm94eSh0aGlzLnByb2Nlc3NQYXN0ZSx0aGlzKSwxKX0sYi5wcm90b3R5cGUucHJvY2Vzc1Bhc3RlPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5jbGlwYm9hcmRIVE1MO251bGw9PT10aGlzLmNsaXBib2FyZEhUTUwmJihiPXRoaXMuJHBhc3RlRGl2Lmh0bWwoKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSxhKHdpbmRvdykuc2Nyb2xsVG9wKHRoaXMuc2Nyb2xsUG9zaXRpb24pKTt2YXIgYyxkPXRoaXMudHJpZ2dlckV2ZW50KCJvblBhc3RlIixbYl0sITEpOyJzdHJpbmciPT10eXBlb2YgZCYmKGI9ZCksYj1iLnJlcGxhY2UoLzxpbWcgL2dpLCc8aW1nIGRhdGEtZnItaW1hZ2UtcGFzdGVkPSJ0cnVlIiAnKSxiLm1hdGNoKC8oY2xhc3M9XCI/TXNvfHN0eWxlPVwiW15cIl0qXGJtc29cLXx3OldvcmREb2N1bWVudCkvZ2kpPyhjPXRoaXMud29yZENsZWFuKGIpLGM9dGhpcy5jbGVhbihhKCI8ZGl2PiIpLmFwcGVuZChjKS5odG1sKCksITEsITApLGM9dGhpcy5yZW1vdmVFbXB0eVRhZ3MoYykpOihjPXRoaXMuY2xlYW4oYiwhMSwhMCksYz10aGlzLnJlbW92ZUVtcHR5VGFncyhjKSksdGhpcy5vcHRpb25zLnBsYWluUGFzdGUmJihjPXRoaXMucGxhaW5QYXN0ZUNsZWFuKGMpKSwiIiE9PWMmJih0aGlzLmluc2VydEhUTUwoYyksdGhpcy4kZWxlbWVudC5maW5kKCJsaSIpLmVhY2goYS5wcm94eShmdW5jdGlvbihiLGMpe3RoaXMud3JhcFRleHRJbkVsZW1lbnQoYShjKSwhMCl9LHRoaXMpKSx0aGlzLm9wdGlvbnMucGFyYWdyYXBoeSYmdGhpcy53cmFwVGV4dCghMCksdGhpcy5jbGVhbnVwTGlzdHMoKSksdGhpcy5hZnRlclBhc3RlKCl9LGIucHJvdG90eXBlLmFmdGVyUGFzdGU9ZnVuY3Rpb24oKXt0aGlzLmZvY3VzKCksdGhpcy51cGxvYWRQYXN0ZWRJbWFnZXMoKSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoInBsYWNlaG9sZGVyQ2hlY2siKSx0aGlzLnBhc3Rpbmc9ITEsdGhpcy50cmlnZ2VyRXZlbnQoImFmdGVyUGFzdGUiLFtdLCEwLCEwKX0sYi5wcm90b3R5cGUucmVnaXN0ZXJQYXN0ZT1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQub24oImNvcHkgY3V0IixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5jb3BpZWRUZXh0PXRoaXMudGV4dCgpfSx0aGlzKSksdGhpcy4kZWxlbWVudC5vbigicGFzdGUiLGEucHJveHkoZnVuY3Rpb24oYil7aWYoIXRoaXMuaXNIVE1MKXtpZihiLm9yaWdpbmFsRXZlbnQmJihiPWIub3JpZ2luYWxFdmVudCksIXRoaXMudHJpZ2dlckV2ZW50KCJiZWZvcmVQYXN0ZSIsW10sITEpKXJldHVybiExO2lmKHRoaXMuY2xpcGJvYXJkUGFzdGUoYikpcmV0dXJuITE7dGhpcy5jbGlwYm9hcmRIVE1MPSIiLHRoaXMucGFzdGluZz0hMCx0aGlzLnNjcm9sbFBvc2l0aW9uPWEod2luZG93KS5zY3JvbGxUb3AoKTt2YXIgYz0hMTtpZihiJiZiLmNsaXBib2FyZERhdGEmJmIuY2xpcGJvYXJkRGF0YS5nZXREYXRhKXt2YXIgZD0iIixlPWIuY2xpcGJvYXJkRGF0YS50eXBlcztpZihhLkVkaXRhYmxlLmlzQXJyYXkoZSkpZm9yKHZhciBmPTA7ZjxlLmxlbmd0aDtmKyspZCs9ZVtmXSsiOyI7ZWxzZSBkPWU7aWYoL3RleHRcL2h0bWwvLnRlc3QoZCk/dGhpcy5jbGlwYm9hcmRIVE1MPWIuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCJ0ZXh0L2h0bWwiKTovdGV4dFwvcnRmLy50ZXN0KGQpJiZ0aGlzLmJyb3dzZXIuc2FmYXJpP3RoaXMuY2xpcGJvYXJkSFRNTD1iLmNsaXBib2FyZERhdGEuZ2V0RGF0YSgidGV4dC9ydGYiKTovdGV4dFwvcGxhaW4vLnRlc3QoZCkmJiF0aGlzLmJyb3dzZXIubW96aWxsYSYmKHRoaXMuY2xpcGJvYXJkSFRNTD1iLmNsaXBib2FyZERhdGEuZ2V0RGF0YSgidGV4dC9wbGFpbiIpLnJlcGxhY2UoL1xuL2csIjxici8+IikpLCIiIT09dGhpcy5jbGlwYm9hcmRIVE1MP2M9ITA6dGhpcy5jbGlwYm9hcmRIVE1MPW51bGwsYylyZXR1cm4gdGhpcy5wcm9jZXNzUGFzdGUoKSxiLnByZXZlbnREZWZhdWx0JiYoYi5zdG9wUHJvcGFnYXRpb24oKSxiLnByZXZlbnREZWZhdWx0KCkpLCExfXRoaXMuYmVmb3JlUGFzdGUoKX19LHRoaXMpKX0sYi5wcm90b3R5cGUuY2xpcGJvYXJkUGFzdGU9ZnVuY3Rpb24oYil7aWYoYiYmYi5jbGlwYm9hcmREYXRhJiZiLmNsaXBib2FyZERhdGEuaXRlbXMpe3ZhciBjPWIuY2xpcGJvYXJkRGF0YS5pdGVtc1swXS5nZXRBc0ZpbGUoKTtpZihjKXt2YXIgZD1uZXcgRmlsZVJlYWRlcjtyZXR1cm4gZC5vbmxvYWQ9YS5wcm94eShmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldC5yZXN1bHQ7dGhpcy5pbnNlcnRIVE1MKCc8aW1nIGRhdGEtZnItaW1hZ2UtcGFzdGVkPSJ0cnVlIiBzcmM9IicrYisnIiAvPicpLHRoaXMuYWZ0ZXJQYXN0ZSgpfSx0aGlzKSxkLnJlYWRBc0RhdGFVUkwoYyksITB9fXJldHVybiExfSxiLnByb3RvdHlwZS51cGxvYWRQYXN0ZWRJbWFnZXM9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmZpbmQoImltZ1tkYXRhLWZyLWltYWdlLXBhc3RlZF0iKS5lYWNoKGEucHJveHkoZnVuY3Rpb24oYixjKXt0aGlzLm9wdGlvbnMucGFzdGVJbWFnZT8oMD09PWMuc3JjLmluZGV4T2YoImRhdGE6Iik/KHRoaXMub3B0aW9ucy5kZWZhdWx0SW1hZ2VXaWR0aCYmYShjKS5hdHRyKCJ3aWR0aCIsdGhpcy5vcHRpb25zLmRlZmF1bHRJbWFnZVdpZHRoKSx0aGlzLm9wdGlvbnMucGFzdGVkSW1hZ2VzVXBsb2FkVVJMJiYoc2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5zaG93SW1hZ2VMb2FkZXIoKSx0aGlzLiRwcm9ncmVzc19iYXIuZmluZCgic3BhbiIpLmNzcygid2lkdGgiLCIxMDAlIikudGV4dCgiUGxlYXNlIHdhaXQhIiksdGhpcy5zaG93QnlDb29yZGluYXRlcyhhKGMpLm9mZnNldCgpLmxlZnQrYShjKS53aWR0aCgpLzIsYShjKS5vZmZzZXQoKS50b3ArYShjKS5oZWlnaHQoKSsxMCksdGhpcy5pc0Rpc2FibGVkPSEwfSx0aGlzKSwxMCksYS5hamF4KHt0eXBlOnRoaXMub3B0aW9ucy5wYXN0ZWRJbWFnZXNVcGxvYWRSZXF1ZXN0VHlwZSx1cmw6dGhpcy5vcHRpb25zLnBhc3RlZEltYWdlc1VwbG9hZFVSTCxkYXRhOmEuZXh0ZW5kKHtpbWFnZTpkZWNvZGVVUklDb21wb25lbnQoYy5zcmMpfSx0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRQYXJhbXMpLGNyb3NzRG9tYWluOnRoaXMub3B0aW9ucy5jcm9zc0RvbWFpbix4aHJGaWVsZHM6e3dpdGhDcmVkZW50aWFsczp0aGlzLm9wdGlvbnMud2l0aENyZWRlbnRpYWxzfSxoZWFkZXJzOnRoaXMub3B0aW9ucy5oZWFkZXJzLGRhdGFUeXBlOiJqc29uIn0pLmRvbmUoYS5wcm94eShmdW5jdGlvbihiKXt0cnl7aWYoYi5saW5rKXt2YXIgZD1uZXcgSW1hZ2U7ZC5vbmVycm9yPWEucHJveHkoZnVuY3Rpb24oKXt0aGlzLnRocm93SW1hZ2VFcnJvcigxKX0sdGhpcyksZC5vbmxvYWQ9YS5wcm94eShmdW5jdGlvbigpe2Muc3JjPWIubGluayx0aGlzLmhpZGVJbWFnZUxvYWRlcigpLHRoaXMuaGlkZSgpLHRoaXMuZW5hYmxlKCksc2V0VGltZW91dChmdW5jdGlvbigpe2EoYykudHJpZ2dlcigidG91Y2hlbmQiKX0sNTApLHRoaXMudHJpZ2dlckV2ZW50KCJhZnRlclVwbG9hZFBhc3RlZEltYWdlIixbYShjKV0pfSx0aGlzKSxkLnNyYz1iLmxpbmt9ZWxzZSBiLmVycm9yP3RoaXMudGhyb3dJbWFnZUVycm9yV2l0aE1lc3NhZ2UoYi5lcnJvcik6dGhpcy50aHJvd0ltYWdlRXJyb3IoMil9Y2F0Y2goZSl7dGhpcy50aHJvd0ltYWdlRXJyb3IoNCl9fSx0aGlzKSkuZmFpbChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy50aHJvd0ltYWdlRXJyb3IoMyl9LHRoaXMpKSkpOjAhPT1jLnNyYy5pbmRleE9mKCJodHRwIikmJmEoYykucmVtb3ZlKCksYShjKS5yZW1vdmVBdHRyKCJkYXRhLWZyLWltYWdlLXBhc3RlZCIpKTphKGMpLnJlbW92ZSgpfSx0aGlzKSl9LGIucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmlzRGlzYWJsZWQ9ITAsdGhpcy4kZWxlbWVudC5ibHVyKCl9LGIucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuaXNEaXNhYmxlZD0hMX0sYi5wcm90b3R5cGUud29yZENsZWFuPWZ1bmN0aW9uKGEpe2EuaW5kZXhPZigiPGJvZHkiKT49MCYmKGE9YS5yZXBsYWNlKC9bLlxzXFNcd1xXPD5dKjxib2R5W14+XSo+KFsuXHNcU1x3XFc8Pl0qKTxcL2JvZHk+Wy5cc1xTXHdcVzw+XSovZywiJDEiKSksYT1hLnJlcGxhY2UoLzxwKC4qPyljbGFzcz0iPyc/TXNvTGlzdFBhcmFncmFwaCI/Jz8oW1xzXFNdKj8pPihbXHNcU10qPyk8XC9wPi9naSwiPHVsPjxsaT48cD4kMzwvcD48L2xpPjwvdWw+IiksYT1hLnJlcGxhY2UoLzxwKC4qPyljbGFzcz0iPyc/TXNvTGlzdFBhcmFncmFwaEN4U3BGaXJzdCI/Jz8oW1xzXFNdKj8pPihbXHNcU10qPyk8XC9wPi9naSwiPHVsPjxsaT48cD4kMzwvcD48L2xpPiIpLGE9YS5yZXBsYWNlKC88cCguKj8pY2xhc3M9Ij8nP01zb0xpc3RQYXJhZ3JhcGhDeFNwTWlkZGxlIj8nPyhbXHNcU10qPyk+KFtcc1xTXSo/KTxcL3A+L2dpLCI8bGk+PHA+JDM8L3A+PC9saT4iKSxhPWEucmVwbGFjZSgvPHAoLio/KWNsYXNzPSI/Jz9Nc29MaXN0UGFyYWdyYXBoQ3hTcExhc3QiPyc/KFtcc1xTXSo/KT4oW1xzXFNdKj8pPFwvcD4vZ2ksIjxsaT48cD4kMzwvcD48L2xpPjwvdWw+IiksYT1hLnJlcGxhY2UoLzxzcGFuKFtePF0qPylzdHlsZT0iPyc/bXNvLWxpc3Q6SWdub3JlIj8nPyhbXHNcU10qPyk+KFtcc1xTXSo/KTxzcGFuL2dpLCI8c3Bhbj48c3BhbiIpLGE9YS5yZXBsYWNlKC88IS0tXFtpZiBcIXN1cHBvcnRMaXN0c1xdLS0+KFtcc1xTXSo/KTwhLS1cW2VuZGlmXF0tLT4vZ2ksIiIpLGE9YS5yZXBsYWNlKC8oXG58XHJ8IGNsYXNzPSgiKT9Nc29bYS16QS1aXSsoIik/KS9naSwiICIpLGE9YS5yZXBsYWNlKC88IS0tW1xzXFNdKj8tLT4vZ2ksIiIpLGE9YS5yZXBsYWNlKC88KFwvKSoobWV0YXxsaW5rfHNwYW58XFw/eG1sOnxzdDE6fG86fGZvbnQpKC4qPyk+L2dpLCIiKTtmb3IodmFyIGI9WyJzdHlsZSIsInNjcmlwdCIsImFwcGxldCIsImVtYmVkIiwibm9mcmFtZXMiLCJub3NjcmlwdCJdLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9bmV3IFJlZ0V4cCgiPCIrYltjXSsiLio/IitiW2NdKyIoLio/KT4iLCJnaSIpO2E9YS5yZXBsYWNlKGQsIiIpfWE9YS5yZXBsYWNlKC8oW1x3XC1dKik9KCJbXjw+Il0qInwnW148PiddKid8XHcrKS9naSwiIiksYT1hLnJlcGxhY2UoLyZuYnNwOy9naSwiIik7dmFyIGU7ZG8gZT1hLGE9YS5yZXBsYWNlKC88W15cLz5dW14+XSo+PFwvW14+XSs+L2dpLCIiKTt3aGlsZShhIT1lKTtyZXR1cm4gYT10aGlzLmNsZWFuKGEpfSxiLnByb3RvdHlwZS50YWJzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0iIixjPTA7YT5jO2MrKyliKz0iICAiO3JldHVybiBifSxiLnByb3RvdHlwZS5jbGVhblRhZ3M9ZnVuY3Rpb24oYSxiKXt2b2lkIDA9PT1iJiYoYj0hMSk7dmFyIGMsZCxlLGYsZz10aGlzLm9wdGlvbnMuZm9ybWF0VGFncyxoPVtdLGk9W10saj0hMTtmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKWlmKGM9YS5jaGFyQXQoZCksIjwiPT1jKXt2YXIgaz1hLmluZGV4T2YoIj4iLGQrMSk7aWYoLTEhPT1rKXt2YXIgbD1hLnN1YnN0cmluZyhkLGsrMSksbT10aGlzLnRhZ05hbWUobCksbj10aGlzLmlzQ2xvc2luZ1RhZyhsKTtpZigicHJlIj09PW0mJihqPW4/ITE6ITApLHRoaXMuaXNTZWxmQ2xvc2luZ1RhZyhsKSlpLnB1c2goImJyIj09PW0mJmo/IlxuIjpsKTtlbHNlIGlmKG4pZm9yKGU9ITEsZj0hMDtlPT09ITEmJnZvaWQgMCE9PWY7KWY9aC5wb3AoKSx2b2lkIDAhPT1mJiZmLnRhZ19uYW1lIT09bT9pLnNwbGljZShmLmksMSk6KGU9ITAsdm9pZCAwIT09ZiYmaS5wdXNoKGwpKTtlbHNlIGkucHVzaChsKSxoLnB1c2goe3RhZ19uYW1lOm0saTppLmxlbmd0aC0xfSk7ZD1rfX1lbHNlIlxuIj09PWMmJnRoaXMub3B0aW9ucy5iZWF1dGlmeUNvZGU/YiYmaiYmaS5wdXNoKCI8YnIvPiIpOiIJIiE9PWMmJmkucHVzaChjKTtmb3IoO2gubGVuZ3RoPjA7KWY9aC5wb3AoKSxpLnNwbGljZShmLmksMSk7dmFyIG89IlxuIjt0aGlzLm9wdGlvbnMuYmVhdXRpZnlDb2RlfHwobz0iIiksYT0iIixoPTA7dmFyIHA9ITA7Zm9yKGQ9MDtkPGkubGVuZ3RoO2QrKykxPT1pW2RdLmxlbmd0aD9wJiYiICI9PT1pW2RdfHwoYSs9aVtkXSxwPSExKTpnLmluZGV4T2YodGhpcy50YWdOYW1lKGlbZF0pLnRvTG93ZXJDYXNlKCkpPDA/YSs9aVtkXTp0aGlzLmlzU2VsZkNsb3NpbmdUYWcoaVtkXSk/YSs9aVtkXTp0aGlzLmlzQ2xvc2luZ1RhZyhpW2RdKT8oaC09MSwwPT09aCYmKHA9ITApLGEubGVuZ3RoPjAmJmFbYS5sZW5ndGgtMV09PW8mJihhKz10aGlzLnRhYnMoaCkpLGErPWlbZF0rbyk6KGErPW8rdGhpcy50YWJzKGgpK2lbZF0saCs9MSk7cmV0dXJuIGFbMF09PW8mJihhPWEuc3Vic3RyaW5nKDEsYS5sZW5ndGgpKSxhW2EubGVuZ3RoLTFdPT1vJiYoYT1hLnN1YnN0cmluZygwLGEubGVuZ3RoLTEpKSxhfSxiLnByb3RvdHlwZS5jbGVhbnVwTGlzdHM9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmZpbmQoInVsLCBvbCIpLmVhY2goZnVuY3Rpb24oYixjKXt2YXIgZD1hKGMpO2lmKGQuZmluZCgiLmNsb3NlLXVsLCAub3Blbi11bCwgLmNsb3NlLW9sLCAub3Blbi1vbCwgLm9wZW4tbGksIC5jbG9zZS1saSIpLmxlbmd0aD4wKXt2YXIgZT0iPCIrYy50YWdOYW1lLnRvTG93ZXJDYXNlKCkrIj4iK2QuaHRtbCgpKyI8LyIrYy50YWdOYW1lLnRvTG93ZXJDYXNlKCkrIj4iO2U9ZS5yZXBsYWNlKG5ldyBSZWdFeHAoJzxzcGFuIGNsYXNzPSJjbG9zZS11bCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicsImciKSwiPC91bD4iKSxlPWUucmVwbGFjZShuZXcgUmVnRXhwKCc8c3BhbiBjbGFzcz0ib3Blbi11bCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicsImciKSwiPHVsPiIpLGU9ZS5yZXBsYWNlKG5ldyBSZWdFeHAoJzxzcGFuIGNsYXNzPSJjbG9zZS1vbCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicsImciKSwiPC9vbD4iKSxlPWUucmVwbGFjZShuZXcgUmVnRXhwKCc8c3BhbiBjbGFzcz0ib3Blbi1vbCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicsImciKSwiPG9sPiIpLGU9ZS5yZXBsYWNlKG5ldyBSZWdFeHAoJzxzcGFuIGNsYXNzPSJjbG9zZS1saSIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicsImciKSwiPC9saT4iKSxlPWUucmVwbGFjZShuZXcgUmVnRXhwKCc8c3BhbiBjbGFzcz0ib3Blbi1saSIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicsImciKSwiPGxpPiIpLGQucmVwbGFjZVdpdGgoZSl9fSk7Zm9yKHZhciBiPXRoaXMuJGVsZW1lbnQuZmluZCgib2wgKyBvbCwgdWwgKyB1bCIpLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YShiW2NdKTtkLnByZXYoKS5hcHBlbmQoZC5odG1sKCkpLGQucmVtb3ZlKCl9dGhpcy4kZWxlbWVudC5maW5kKCJsaSA+IHRkIikucmVtb3ZlKCksdGhpcy4kZWxlbWVudC5maW5kKCJsaTplbXB0eSIpLnJlbW92ZSgpLHRoaXMuJGVsZW1lbnQuZmluZCgibGkgdGQ6ZW1wdHkiKS5hcHBlbmQoIjwvYnI+IiksdGhpcy4kZWxlbWVudC5maW5kKCJ1bCwgb2wiKS5lYWNoKGEucHJveHkoZnVuY3Rpb24oYixjKXt2YXIgZD1hKGMpOzA9PT1kLmZpbmQodGhpcy52YWxpZF9ub2Rlcy5qb2luKCIsIikpLmxlbmd0aCYmZC5yZW1vdmUoKX0sdGhpcykpLHRoaXMuJGVsZW1lbnQuZmluZCgibGkgPiB0ZCIpLnJlbW92ZSgpLHRoaXMuJGVsZW1lbnQuZmluZCgibGk6ZW1wdHkiKS5yZW1vdmUoKSx0aGlzLiRlbGVtZW50LmZpbmQoImxpIHRkOmVtcHR5IikuYXBwZW5kKCI8L2JyPiIpLHRoaXMub3B0aW9ucy5wYXJhZ3JhcGh5JiZ0aGlzLiRlbGVtZW50LmZpbmQoImxpIikuZWFjaChhLnByb3h5KGZ1bmN0aW9uKGIsYyl7dGhpcy53cmFwVGV4dEluRWxlbWVudChhKGMpLCEwKX0sdGhpcykpfSxiLnByb3RvdHlwZS5jbGVhbj1mdW5jdGlvbihiLGMsZCxlLGYpe2Z8fChmPWEubWVyZ2UoW10sdGhpcy5vcHRpb25zLmFsbG93ZWRBdHRycykpLGV8fChlPWEubWVyZ2UoW10sdGhpcy5vcHRpb25zLmFsbG93ZWRUYWdzKSksY3x8Zi5pbmRleE9mKCJpZCIpPi0xJiZmLnNwbGljZShmLmluZGV4T2YoImlkIiksMSksYj1iLnJlcGxhY2UoLzxzY3JpcHRcYltePF0qKD86KD8hPFwvc2NyaXB0Pik8W148XSopKjxcL3NjcmlwdD4vZ2ksIiIpO3ZhciBnPW5ldyBSZWdFeHAoIjxcXC8/KCg/ISg/OiIrZS5qb2luKCJ8IikrIikpXFx3KylbXj5dKj8+IiwiZ2kiKTtiPWIucmVwbGFjZShnLCIiKTt2YXIgaD1uZXcgUmVnRXhwKCIoICg/ISg/OiIrZi5qb2luKCJ8IikrIikpW2EtekEtWjAtOS1fXSspPSgoPzouKD8hXFxzKyg/OlxcUyspPXxbPl18KFxcLz4pKSkrLikiLCJnaSIpO2I9Yi5yZXBsYWNlKGgsIiIpO3ZhciBpPW5ldyBSZWdFeHAoJzwoW14+XSopKHNyY3xocmVmKT0oXCdbXlwnXSpcJ3wiIlteIiJdKiIifFteXFxzPl0rKShbXj5dKik+JywiZ2kiKTtpZihiPWIucmVwbGFjZShpLGEucHJveHkoZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4iPCIrYitjKyc9IicrdGhpcy5zYW5pdGl6ZVVSTChkLnJlcGxhY2UoL15bIiddKC4qKVsiJ11cLz8kL2dpLCIkMSIpKSsnIicrZSsiPiJ9LHRoaXMpKSx0aGlzLnBhc3RpbmcmJnRoaXMuY29waWVkVGV4dD09PWEoIjxkaXY+IikuaHRtbChiKS50ZXh0KCkmJihkPSExLGM9ITApLGQpe3ZhciBqPW5ldyBSZWdFeHAoInN0eWxlPShcIlthLXpBLVowLTk6O1xcLlxcc1xcKFxcKVxcLVxcLCFcXC8nJV0qXCJ8J1thLXpBLVowLTk6O1xcLlxcc1xcKFxcKVxcLVxcLCFcXC9cIiVdKicpIiwiZ2kiKTtiPWIucmVwbGFjZShqLCIiKX1pZihiPXRoaXMuY2xlYW5UYWdzKGIsITApLCFjKXt2YXIgaz1hKCI8ZGl2PiIpLmFwcGVuZChiKTtrLmZpbmQoJ1tjbGFzc106bm90KFtjbGFzc149ImZyLSJdKScpLmVhY2goZnVuY3Rpb24oYixjKXthKGMpLnJlbW92ZUF0dHIoImNsYXNzIil9KSxiPWsuaHRtbCgpfXJldHVybiBifSxiLnByb3RvdHlwZS5wbGFpblBhc3RlQ2xlYW49ZnVuY3Rpb24oYil7dmFyIGM9YSgiPGRpdj4iKS5odG1sKGIpO2MuZmluZCgiaDEsIGgyLCBoMywgaDQsIGg1LCBoNiwgcHJlLCBibG9ja3F1b3RlIikuZWFjaChmdW5jdGlvbihiLGMpe2EoYykucmVwbGFjZVdpdGgoIjxwPiIrYShjKS5odG1sKCkrIjwvcD4iKX0pO2Zvcih2YXIgZD1mdW5jdGlvbihiLGMpe2EoYykucmVwbGFjZVdpdGgoYShjKS5odG1sKCkpfTtjLmZpbmQoInN0cm9uZywgZW0sIHN0cmlrZSwgYiwgdSwgaSwgc3VwLCBzdWIsIHNwYW4sIGEiKS5sZW5ndGg7KWMuZmluZCgic3Ryb25nLCBlbSwgc3RyaWtlLCBiLCB1LCBpLCBzdXAsIHN1Yiwgc3BhbiwgYSIpLmVhY2goZCk7cmV0dXJuIGMuaHRtbCgpfSxiLnByb3RvdHlwZS5yZW1vdmVFbXB0eVRhZ3M9ZnVuY3Rpb24oYil7Zm9yKHZhciBjLGQ9YSgiPGRpdj4iKS5odG1sKGIpLGU9ZC5maW5kKCIqOmVtcHR5Om5vdChiciwgaW1nLCB0ZCwgdGgpIik7ZS5sZW5ndGg7KXtmb3IoYz0wO2M8ZS5sZW5ndGg7YysrKWEoZVtjXSkucmVtb3ZlKCk7ZT1kLmZpbmQoIio6ZW1wdHk6bm90KGJyLCBpbWcsIHRkLCB0aCkiKX1kLmZpbmQoIj4gZGl2IikuZWFjaChmdW5jdGlvbihiLGMpe2EoYykucmVwbGFjZVdpdGgoYShjKS5odG1sKCkrIjxici8+Iil9KTtmb3IodmFyIGY9ZC5maW5kKCJkaXYiKTtmLmxlbmd0aDspe2ZvcihjPTA7YzxmLmxlbmd0aDtjKyspe3ZhciBnPWEoZltjXSksaD1nLmh0bWwoKS5yZXBsYWNlKC9cdTAwMDkvZ2ksIiIpLnRyaW0oKTtnLnJlcGxhY2VXaXRoKGgpfWY9ZC5maW5kKCJkaXYiKX1yZXR1cm4gZC5odG1sKCl9LGIucHJvdG90eXBlLmluaXRFbGVtZW50U3R5bGU9ZnVuY3Rpb24oKXt0aGlzLmVkaXRhYmxlRGlzYWJsZWR8fHRoaXMuJGVsZW1lbnQuYXR0cigiY29udGVudGVkaXRhYmxlIiwhMCk7dmFyIGE9ImZyb2FsYS1lbGVtZW50ICIrdGhpcy5vcHRpb25zLmVkaXRvckNsYXNzO3RoaXMuYnJvd3Nlci5tc2llJiZiLmdldElFdmVyc2lvbigpPDkmJihhKz0iIGllOCIpLHRoaXMuJGVsZW1lbnQuY3NzKCJvdXRsaW5lIiwwKSx0aGlzLmJyb3dzZXIubXNpZXx8KGErPSIgbm90LW1zaWUiKSx0aGlzLiRlbGVtZW50LmFkZENsYXNzKGEpfSxiLnByb3RvdHlwZS5pbml0VW5kb1JlZG89ZnVuY3Rpb24oKXt0aGlzLnVuZG9TdGFjaz1bXSx0aGlzLnVuZG9JbmRleD0wLHRoaXMuc2F2ZVVuZG9TdGVwKCksdGhpcy5kaXNhYmxlQnJvd3NlclVuZG8oKX0sYi5wcm90b3R5cGUuQ0pLY2xlYW49ZnVuY3Rpb24oYSl7dmFyIGI9L1tcdTMwNDEtXHUzMDk2XHUzMEEwLVx1MzBGRlx1NEUwMC1cdTlGRkZcdTMxMzAtXHUzMThGXHVBQzAwLVx1RDdBRl0vZ2k7cmV0dXJuIGEucmVwbGFjZShiLCIiKX0sYi5wcm90b3R5cGUuZW5hYmxlVHlwaW5nPWZ1bmN0aW9uKCl7dGhpcy50eXBpbmdUaW1lcj1udWxsLHRoaXMuJGVsZW1lbnQub24oImtleWRvd24gY3V0IixhLnByb3h5KGZ1bmN0aW9uKGIpe3JldHVybiJrZXlkb3duIiE9PWIudHlwZXx8dGhpcy50cmlnZ2VyRXZlbnQoImtleWRvd24iLFtiLndoaWNoLChiLmN0cmxLZXl8fGIubWV0YUtleSkmJiFiLmFsdEtleV0sITEpPyhjbGVhclRpbWVvdXQodGhpcy50eXBpbmdUaW1lciksdGhpcy5hamF4U2F2ZT0hMSx0aGlzLm9sZEhUTUw9dGhpcy5nZXRIVE1MKCEwKSx2b2lkKHRoaXMudHlwaW5nVGltZXI9c2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRIVE1MKCEwKTt0aGlzLmltZXx8dGhpcy5DSktjbGVhbihhKT09PXRoaXMuQ0pLY2xlYW4odGhpcy5vbGRIVE1MKXx8dGhpcy5DSktjbGVhbihhKSE9PWF8fHRoaXMuc3luYygpfSx0aGlzKSxNYXRoLm1heCh0aGlzLm9wdGlvbnMudHlwaW5nVGltZXIsNTAwKSkpKTohMX0sdGhpcykpfSxiLnByb3RvdHlwZS5yZW1vdmVNYXJrZXJzQnlSZWdleD1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC88c3BhbltePl0qPyBjbGFzc1xzKj1ccypbIiddP2YtbWFya2VyWyInXT9bXj5dKz4oW1xTXHNdW15cL10pKjxcL3NwYW4+L2dpLCIiKX0sYi5wcm90b3R5cGUuZ2V0SW1hZ2VIVE1MPWZ1bmN0aW9uKCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHtzcmM6dGhpcy4kZWxlbWVudC5maW5kKCJpbWciKS5hdHRyKCJzcmMiKSxzdHlsZTp0aGlzLiRlbGVtZW50LmZpbmQoImltZyIpLmF0dHIoInN0eWxlIiksYWx0OnRoaXMuJGVsZW1lbnQuZmluZCgiaW1nIikuYXR0cigiYWx0Iiksd2lkdGg6dGhpcy4kZWxlbWVudC5maW5kKCJpbWciKS5hdHRyKCJ3aWR0aCIpLGxpbms6dGhpcy4kZWxlbWVudC5maW5kKCJhIikuYXR0cigiaHJlZiIpLGxpbmtfdGl0bGU6dGhpcy4kZWxlbWVudC5maW5kKCJhIikuYXR0cigidGl0bGUiKSxsaW5rX3RhcmdldDp0aGlzLiRlbGVtZW50LmZpbmQoImEiKS5hdHRyKCJ0YXJnZXQiKX0pfSxiLnByb3RvdHlwZS5nZXRMaW5rSFRNTD1mdW5jdGlvbigpe3JldHVybiBKU09OLnN0cmluZ2lmeSh7Ym9keTp0aGlzLiRlbGVtZW50Lmh0bWwoKSxocmVmOnRoaXMuJGVsZW1lbnQuYXR0cigiaHJlZiIpLHRpdGxlOnRoaXMuJGVsZW1lbnQuYXR0cigidGl0bGUiKSxwb3BvdXQ6dGhpcy4kZWxlbWVudC5oYXNDbGFzcygicG9wb3V0Iiksbm9mb2xsb3c6Im5vZm9sbG93Ij09dGhpcy4kZWxlbWVudC5hdHRyKCJyZWYiKSxibGFuazoiX2JsYW5rIj09dGhpcy4kZWxlbWVudC5hdHRyKCJ0YXJnZXQiKSxjbHM6dGhpcy4kZWxlbWVudC5hdHRyKCJjbGFzcyIpP3RoaXMuJGVsZW1lbnQuYXR0cigiY2xhc3MiKS5yZXBsYWNlKC9mcm9hbGEtZWxlbWVudCA/fG5vdC1tc2llID98L2dpLCIiKS50cmltKCk6IiJ9KX0sYi5wcm90b3R5cGUuYWRkRnJUYWc9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmZpbmQodGhpcy52YWxpZF9ub2Rlcy5qb2luKCIsIikrIiwgdGFibGUsIHVsLCBvbCwgaW1nIikuYWRkQ2xhc3MoImZyLXRhZyIpfSxiLnByb3RvdHlwZS5yZW1vdmVGclRhZz1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQuZmluZCh0aGlzLnZhbGlkX25vZGVzLmpvaW4oIiwiKSsiLCB0YWJsZSwgdWwsIG9sLCBpbWciKS5yZW1vdmVDbGFzcygiZnItdGFnIil9LGIucHJvdG90eXBlLmdldEhUTUw9ZnVuY3Rpb24oYixjLGQpe2lmKHZvaWQgMD09PWMmJihjPSExKSx2b2lkIDA9PT1iJiYoYj0hMSksdm9pZCAwPT09ZCYmKGQ9ITApLHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoImYtcGxhY2Vob2xkZXIiKSYmIWIpcmV0dXJuIiI7aWYodGhpcy5pc0hUTUwpcmV0dXJuIHRoaXMuJGh0bWxfYXJlYS52YWwoKTtpZih0aGlzLmlzSW1hZ2UpcmV0dXJuIHRoaXMuZ2V0SW1hZ2VIVE1MKCk7aWYodGhpcy5pc0xpbmspcmV0dXJuIHRoaXMuZ2V0TGlua0hUTUwoKTt0aGlzLiRlbGVtZW50LmZpbmQoImEiKS5kYXRhKCJmci1saW5rIiwhMCksYyYmdGhpcy5hZGRGclRhZygpLHRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLWVkaXRvciA+IGltZyIpLmVhY2goYS5wcm94eShmdW5jdGlvbihiLGMpe3RoaXMuYWRkSW1hZ2VDbGFzcyhhKGMpLHRoaXMuZ2V0SW1hZ2VDbGFzcyhhKGMpLnBhcmVudCgpLmF0dHIoImNsYXNzIikpKX0sdGhpcykpLHRoaXMuJGVsZW1lbnQuZmluZCgicHJlIikuZWFjaChhLnByb3h5KGZ1bmN0aW9uKGIsYyl7dmFyIGQ9YShjKSxlPWQuaHRtbCgpLGY9ZS5yZXBsYWNlKC9cJm5ic3A7L2dpLCIgIik7ZSE9ZiYmKHRoaXMuc2F2ZVNlbGVjdGlvbkJ5TWFya2VycygpLGQuaHRtbChmKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSl9LHRoaXMpKTt2YXIgZT10aGlzLiRlbGVtZW50Lmh0bWwoKTtyZXR1cm4gdGhpcy4kZWxlbWVudC5maW5kKCIuZi1pbWctZWRpdG9yID4gaW1nIikucmVtb3ZlQ2xhc3MoImZyLWZpbiBmci1maWwgZnItZmlyIiksdGhpcy5yZW1vdmVGclRhZygpLGU9dGhpcy5zeW5jQ2xlYW5IVE1MKGUsYiksZT1lLnJlcGxhY2UoLzxhW14+XSo/PjxcL2E+L2csIiIpLGJ8fChlPXRoaXMucmVtb3ZlTWFya2Vyc0J5UmVnZXgoZSkpLGU9ZS5yZXBsYWNlKC88c3BhbltePl0qPyBjbGFzc1xzKj1ccypbIiddP2YtaW1nLWhhbmRsZVtePl0rPjxcL3NwYW4+L2dpLCIiKSxlPWUucmVwbGFjZSgvXihbXFNcc10qKTxzcGFuW14+XSo/IGNsYXNzXHMqPVxzKlsiJ10/Zi1pbWctZWRpdG9yW14+XSs+KFtcU1xzXSopPFwvc3Bhbj4oW1xTXHNdKikkL2dpLCIkMSQyJDMiKSxlPWUucmVwbGFjZSgvXihbXFNcc10qKTxzcGFuW14+XSo/IGNsYXNzXHMqPVxzKlsiJ10/Zi1pbWctd3JhcFtePl0rPihbXFNcc10qKTxcL3NwYW4+KFtcU1xzXSopJC9naSwiJDEkMiQzIiksZT1lLnJlcGxhY2UoL1wmYW1wOy9naSwiJiIpLHRoaXMub3B0aW9ucy5zaW1wbGVBbXBlcnNhbmQmJihlPWUucmVwbGFjZSgvXCZhbXA7L2dpLCImIikpLGQmJihlPWUucmVwbGFjZSgvIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiL2dpLCIiKSksdGhpcy5vcHRpb25zLmJlYXV0aWZ5Q29kZSYmKGU9ZS5yZXBsYWNlKC9cbi9naSwiIikpLGU9ZS5yZXBsYWNlKC9cdTIwMEIvZ2ksIiIpfSxiLnByb3RvdHlwZS5nZXRUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVsZW1lbnQudGV4dCgpfSxiLnByb3RvdHlwZS5zZXREaXJ0eT1mdW5jdGlvbihhKXt0aGlzLmRpcnR5PWF9LGIucHJvdG90eXBlLmluaXRBamF4U2F2ZXI9ZnVuY3Rpb24oKXt0aGlzLmFqYXhIVE1MPXRoaXMuZ2V0SFRNTCgpLHRoaXMuYWpheFNhdmU9ITAsdGhpcy5hamF4SW50ZXJ2YWw9c2V0SW50ZXJ2YWwoYS5wcm94eShmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0SFRNTCgpOyh0aGlzLmFqYXhIVE1MIT1hfHx0aGlzLmRpcnR5KSYmdGhpcy5hamF4U2F2ZSYmKHRoaXMub3B0aW9ucy5hdXRvc2F2ZSYmdGhpcy5zYXZlKCksdGhpcy5kaXJ0eT0hMSx0aGlzLmFqYXhIVE1MPWEpLHRoaXMuYWpheFNhdmU9ITB9LHRoaXMpLE1hdGgubWF4KHRoaXMub3B0aW9ucy5hdXRvc2F2ZUludGVydmFsLDEwMCkpfSxiLnByb3RvdHlwZS5kaXNhYmxlQnJvd3NlclVuZG89ZnVuY3Rpb24oKXthKCJib2R5Iikua2V5ZG93bihmdW5jdGlvbihhKXt2YXIgYj1hLndoaWNoLGM9KGEuY3RybEtleXx8YS5tZXRhS2V5KSYmIWEuYWx0S2V5O2lmKCF0aGlzLmlzSFRNTCYmYyl7aWYoNzU9PWIpcmV0dXJuIGEucHJldmVudERlZmF1bHQoKSwhMTtpZig5MD09YiYmYS5zaGlmdEtleSlyZXR1cm4gYS5wcmV2ZW50RGVmYXVsdCgpLCExO2lmKDkwPT1iKXJldHVybiBhLnByZXZlbnREZWZhdWx0KCksITF9fSl9LGIucHJvdG90eXBlLnNhdmVVbmRvU3RlcD1mdW5jdGlvbigpe2lmKCF0aGlzLnVuZG9TdGFjaylyZXR1cm4hMTtmb3IoO3RoaXMudW5kb1N0YWNrLmxlbmd0aD50aGlzLnVuZG9JbmRleDspdGhpcy51bmRvU3RhY2sucG9wKCk7dmFyIGE9dGhpcy5nZXRIVE1MKCEwLCExLCExKTtpZih0aGlzLnVuZG9TdGFja1t0aGlzLnVuZG9JbmRleC0xXSYmdGhpcy5yZW1vdmVNYXJrZXJzQnlSZWdleCh0aGlzLnVuZG9TdGFja1t0aGlzLnVuZG9JbmRleC0xXSk9PWEpcmV0dXJuITE7dmFyIGI9ITE7dGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpJiZ0aGlzLiRlbGVtZW50LmlzKCI6Zm9jdXMiKSYmKHRoaXMuc2F2ZVNlbGVjdGlvbkJ5TWFya2VycygpLGI9ITApLHRoaXMudW5kb1N0YWNrLnB1c2godGhpcy5nZXRIVE1MKCEwLCExLCExKSksdGhpcy51bmRvSW5kZXgrKyxiJiZ0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoITEpLHRoaXMucmVmcmVzaFVuZG8oKSx0aGlzLnJlZnJlc2hSZWRvKCl9LGIucHJvdG90eXBlLnNob3J0Y3V0RW5hYmxlZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vcHRpb25zLnNob3J0Y3V0c0F2YWlsYWJsZS5pbmRleE9mKGEpPj0wfSxiLnByb3RvdHlwZS5zaG9ydGN1dHNfbWFwPXs3MDp7Y21kOiJzaG93IixwYXJhbXM6W251bGxdLGlkOiJzaG93In0sNjk6e2NtZDoic2hvdyIscGFyYW1zOltudWxsXSxpZDoic2hvdyJ9LDY2OntjbWQ6ImV4ZWMiLHBhcmFtczpbImJvbGQiXSxpZDoiYm9sZCJ9LDczOntjbWQ6ImV4ZWMiLHBhcmFtczpbIml0YWxpYyJdLGlkOiJpdGFsaWMifSw4NTp7Y21kOiJleGVjIixwYXJhbXM6WyJ1bmRlcmxpbmUiXSxpZDoidW5kZXJsaW5lIn0sODM6e2NtZDoiZXhlYyIscGFyYW1zOlsic3RyaWtlVGhyb3VnaCJdLGlkOiJzdHJpa2VUaHJvdWdoIn0sNzU6e2NtZDoiZXhlYyIscGFyYW1zOlsiY3JlYXRlTGluayJdLGlkOiJjcmVhdGVMaW5rIn0sODA6e2NtZDoiZXhlYyIscGFyYW1zOlsiaW5zZXJ0SW1hZ2UiXSxpZDoiaW5zZXJ0SW1hZ2UifSw2NTp7Y21kOiJleGVjIixwYXJhbXM6WyJzZWxlY3RBbGwiXSxpZDoic2VsZWN0QWxsIn0sMjIxOntjbWQ6ImV4ZWMiLHBhcmFtczpbImluZGVudCJdLGlkOiJpbmRlbnQifSwyMTk6e2NtZDoiZXhlYyIscGFyYW1zOlsib3V0ZGVudCJdLGlkOiJvdXRkZW50In0sNzI6e2NtZDoiZXhlYyIscGFyYW1zOlsiaHRtbCJdLGlkOiJodG1sIn0sNDg6e2NtZDoiZXhlYyIscGFyYW1zOlsiZm9ybWF0QmxvY2siLCJuIl0saWQ6ImZvcm1hdEJsb2NrIG4ifSw0OTp7Y21kOiJleGVjIixwYXJhbXM6WyJmb3JtYXRCbG9jayIsImgxIl0saWQ6ImZvcm1hdEJsb2NrIGgxIn0sNTA6e2NtZDoiZXhlYyIscGFyYW1zOlsiZm9ybWF0QmxvY2siLCJoMiJdLGlkOiJmb3JtYXRCbG9jayBoMiJ9LDUxOntjbWQ6ImV4ZWMiLHBhcmFtczpbImZvcm1hdEJsb2NrIiwiaDMiXSxpZDoiZm9ybWF0QmxvY2sgaDMifSw1Mjp7Y21kOiJleGVjIixwYXJhbXM6WyJmb3JtYXRCbG9jayIsImg0Il0saWQ6ImZvcm1hdEJsb2NrIGg0In0sNTM6e2NtZDoiZXhlYyIscGFyYW1zOlsiZm9ybWF0QmxvY2siLCJoNSJdLGlkOiJmb3JtYXRCbG9jayBoNSJ9LDU0OntjbWQ6ImV4ZWMiLHBhcmFtczpbImZvcm1hdEJsb2NrIiwiaDYiXSxpZDoiZm9ybWF0QmxvY2sgaDYifSwyMjI6e2NtZDoiZXhlYyIscGFyYW1zOlsiZm9ybWF0QmxvY2siLCJibG9ja3F1b3RlIl0saWQ6ImZvcm1hdEJsb2NrIGJsb2NrcXVvdGUifSwyMjA6e2NtZDoiZXhlYyIscGFyYW1zOlsiZm9ybWF0QmxvY2siLCJwcmUiXSxpZDoiZm9ybWF0QmxvY2sgcHJlIn19LGIucHJvdG90eXBlLmluaXRTaG9ydGN1dHM9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuc2hvcnRjdXRzJiZ0aGlzLiRlbGVtZW50Lm9uKCJrZXlkb3duIixhLnByb3h5KGZ1bmN0aW9uKGEpe3ZhciBiPWEud2hpY2gsYz0oYS5jdHJsS2V5fHxhLm1ldGFLZXkpJiYhYS5hbHRLZXk7CmlmKCF0aGlzLmlzSFRNTCYmYyl7aWYodGhpcy5zaG9ydGN1dHNfbWFwW2JdJiZ0aGlzLnNob3J0Y3V0RW5hYmxlZCh0aGlzLnNob3J0Y3V0c19tYXBbYl0uaWQpKXJldHVybiB0aGlzLmV4ZWNEZWZhdWx0U2hvcnRjdXQodGhpcy5zaG9ydGN1dHNfbWFwW2JdLmNtZCx0aGlzLnNob3J0Y3V0c19tYXBbYl0ucGFyYW1zKTtpZig5MD09YiYmYS5zaGlmdEtleSlyZXR1cm4gYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5yZWRvKCksITE7aWYoOTA9PWIpcmV0dXJuIGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMudW5kbygpLCExfX0sdGhpcykpfSxiLnByb3RvdHlwZS5pbml0VGFicz1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQub24oImtleWRvd24iLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDtpZig5IT1ifHxhLnNoaWZ0S2V5KTk9PWImJmEuc2hpZnRLZXkmJih0aGlzLnJhaXNlRXZlbnQoInNoaWZ0K3RhYiIpP3RoaXMub3B0aW9ucy50YWJTcGFjZXM/YS5wcmV2ZW50RGVmYXVsdCgpOnRoaXMuYmx1cigpOmEucHJldmVudERlZmF1bHQoKSk7ZWxzZSBpZih0aGlzLnJhaXNlRXZlbnQoInRhYiIpKWlmKHRoaXMub3B0aW9ucy50YWJTcGFjZXMpe2EucHJldmVudERlZmF1bHQoKTt2YXIgYz0iJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IixkPXRoaXMuZ2V0U2VsZWN0aW9uRWxlbWVudHMoKVswXTsiUFJFIj09PWQudGFnTmFtZSYmKGM9IiAgICAiKSx0aGlzLmluc2VydEhUTUwoYywhMSl9ZWxzZSB0aGlzLmJsdXIoKTtlbHNlIGEucHJldmVudERlZmF1bHQoKX0sdGhpcykpfSxiLnByb3RvdHlwZS50ZXh0RW1wdHk9ZnVuY3Rpb24oYil7dmFyIGM9YShiKS50ZXh0KCkucmVwbGFjZSgvKFxyXG58XG58XHJ8XHQpL2dtLCIiKTtyZXR1cm4oIiI9PT1jfHxiPT09dGhpcy4kZWxlbWVudC5nZXQoMCkpJiYwPT09YShiKS5maW5kKCJiciIpLmxlbmd0aH0sYi5wcm90b3R5cGUuaW5FZGl0b3I9ZnVuY3Rpb24oYSl7Zm9yKDthJiYiQk9EWSIhPT1hLnRhZ05hbWU7KXtpZihhPT09dGhpcy4kZWxlbWVudC5nZXQoMCkpcmV0dXJuITA7YT1hLnBhcmVudE5vZGV9cmV0dXJuITF9LGIucHJvdG90eXBlLmZvY3VzPWZ1bmN0aW9uKGIpe2lmKHZvaWQgMD09PWImJihiPSEwKSwiIiE9PXRoaXMudGV4dCgpJiYhdGhpcy4kZWxlbWVudC5pcygiOmZvY3VzIikpcmV0dXJuIHZvaWQodGhpcy5icm93c2VyLm1zaWV8fHRoaXMuJGVsZW1lbnQuZm9jdXMoKSk7aWYoIXRoaXMuaXNIVE1MKXshYnx8dGhpcy5wYXN0aW5nfHx0aGlzLmJyb3dzZXIubXNpZXx8dGhpcy4kZWxlbWVudC5mb2N1cygpLHRoaXMucGFzdGluZyYmIXRoaXMuJGVsZW1lbnQuaXMoIjpmb2N1cyIpJiZ0aGlzLiRlbGVtZW50LmZvY3VzKCk7dmFyIGM9dGhpcy5nZXRSYW5nZSgpO2lmKCIiPT09dGhpcy50ZXh0KCkmJmMmJigwPT09Yy5zdGFydE9mZnNldHx8Yy5zdGFydENvbnRhaW5lcj09PXRoaXMuJGVsZW1lbnQuZ2V0KDApfHwhdGhpcy5pbkVkaXRvcihjLnN0YXJ0Q29udGFpbmVyKSkpe3ZhciBkLGUsZj10aGlzLmdldFNlbGVjdGlvbkVsZW1lbnRzKCk7aWYoYS5tZXJnZShbIklNRyIsIkJSIl0sdGhpcy52YWxpZF9ub2RlcykuaW5kZXhPZih0aGlzLmdldFNlbGVjdGlvbkVsZW1lbnQoKS50YWdOYW1lKTwwKXJldHVybiExO2lmKGMuc3RhcnRPZmZzZXQ+MCYmdGhpcy52YWxpZF9ub2Rlcy5pbmRleE9mKHRoaXMuZ2V0U2VsZWN0aW9uRWxlbWVudCgpLnRhZ05hbWUpPj0wfHwzPT09Yy5zdGFydENvbnRhaW5lci5ub2RlVHlwZSlyZXR1cm4hMTtpZihmLmxlbmd0aD49MSYmZlswXSE9PXRoaXMuJGVsZW1lbnQuZ2V0KDApKWZvcihkPTA7ZDxmLmxlbmd0aDtkKyspaWYoZT1mW2RdLCF0aGlzLnRleHRFbXB0eShlKXx8dGhpcy5icm93c2VyLm1zaWUpcmV0dXJuIHZvaWQgdGhpcy5zZXRTZWxlY3Rpb24oZSk7aWYoYy5zdGFydENvbnRhaW5lcj09PXRoaXMuJGVsZW1lbnQuZ2V0KDApJiZjLnN0YXJ0T2Zmc2V0PjAmJiF0aGlzLm9wdGlvbnMucGFyYWdyYXBoeSlyZXR1cm4gdm9pZCB0aGlzLnNldFNlbGVjdGlvbih0aGlzLiRlbGVtZW50LmdldCgwKSxjLnN0YXJ0T2Zmc2V0KTtmb3IoZj10aGlzLiRlbGVtZW50LmZpbmQodGhpcy52YWxpZF9ub2Rlcy5qb2luKCIsIikpLGQ9MDtkPGYubGVuZ3RoO2QrKylpZihlPWZbZF0sIXRoaXMudGV4dEVtcHR5KGUpJiYwPT09YShlKS5maW5kKHRoaXMudmFsaWRfbm9kZXMuam9pbigiLCIpKS5sZW5ndGgpcmV0dXJuIHZvaWQgdGhpcy5zZXRTZWxlY3Rpb24oZSk7dGhpcy5zZXRTZWxlY3Rpb24odGhpcy4kZWxlbWVudC5nZXQoMCkpfX19LGIucHJvdG90eXBlLmFkZE1hcmtlcnNBdEVuZD1mdW5jdGlvbihiKXt2YXIgYz1iLmZpbmQodGhpcy52YWxpZF9ub2Rlcy5qb2luKCIsICIpKTswPT09Yy5sZW5ndGgmJmMucHVzaChiLmdldCgwKSk7dmFyIGQ9Y1tjLmxlbmd0aC0xXTthKGQpLmFwcGVuZCgnPHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLXR5cGU9ImZhbHNlIiBkYXRhLWlkPSIwIiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIj48L3NwYW4+PHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLXR5cGU9InRydWUiIGRhdGEtaWQ9IjAiIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiPjwvc3Bhbj4nKX0sYi5wcm90b3R5cGUuc2V0Rm9jdXNBdEVuZD1mdW5jdGlvbihhKXt2b2lkIDA9PT1hJiYoYT10aGlzLiRlbGVtZW50KSx0aGlzLmFkZE1hcmtlcnNBdEVuZChhKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKX0sYi5wcm90b3R5cGUuYnJlYWtIVE1MPWZ1bmN0aW9uKGIpe3RoaXMucmVtb3ZlTWFya2VycygpLDA9PT10aGlzLiRlbGVtZW50LmZpbmQoImJyZWFrIikubGVuZ3RoJiZ0aGlzLmluc2VydFNpbXBsZUhUTUwoIjxicmVhaz48L2JyZWFrPiIpO3ZhciBjPXRoaXMuJGVsZW1lbnQuZmluZCgiYnJlYWsiKS5wYXJlbnRzKGEubWVyZ2UoWyJVTCIsIk9MIl0sdGhpcy52YWxpZF9ub2Rlcykuam9pbigiLCIpKVswXTtpZihhKGMpLnBhcmVudHMoInVsLCBvbCIpLmxlbmd0aCYmKGM9YShjKS5wYXJlbnRzKCJ1bCwgb2wiKVswXSksWyJVTCIsIk9MIl0uaW5kZXhPZihjLnRhZ05hbWUpPj0wKXt2YXIgZD1hKCI8ZGl2PiIpLmh0bWwoYik7ZC5maW5kKCI+IGxpIikud3JhcCgiPCIrYy50YWdOYW1lKyI+IiksYj1kLmh0bWwoKX1pZihjPT10aGlzLiRlbGVtZW50LmdldCgwKSlyZXR1cm4gdGhpcy4kZWxlbWVudC5maW5kKCJicmVhayIpLm5leHQoKS5sZW5ndGg/KHRoaXMuJGVsZW1lbnQuZmluZCgiYnJlYWsiKS5uZXh0KCkucHJlcGVuZCgnPHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLXR5cGU9ImZhbHNlIiBkYXRhLWlkPSIwIiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIj48L3NwYW4+PHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLXR5cGU9InRydWUiIGRhdGEtaWQ9IjAiIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiPjwvc3Bhbj4nKSx0aGlzLmluc2VydFNpbXBsZUhUTUwoYiksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCkpOih0aGlzLmluc2VydFNpbXBsZUhUTUwoYiksdGhpcy5zZXRGb2N1c0F0RW5kKCkpLHRoaXMuJGVsZW1lbnQuZmluZCgiYnJlYWsiKS5yZW1vdmUoKSx0aGlzLmNoZWNrUGxhY2Vob2xkZXIoKSwhMDtpZigiVEQiPT09Yy50YWdOYW1lKXJldHVybiB0aGlzLiRlbGVtZW50LmZpbmQoImJyZWFrIikucmVtb3ZlKCksdGhpcy5pbnNlcnRTaW1wbGVIVE1MKGIpLCEwO3ZhciBlPWEoIjxkaXY+IikuaHRtbChiKTtpZih0aGlzLmFkZE1hcmtlcnNBdEVuZChlKSxiPWUuaHRtbCgpLHRoaXMuZW1wdHlFbGVtZW50KGEoYykpKXJldHVybiBhKGMpLnJlcGxhY2VXaXRoKGIpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpLHRoaXMuY2hlY2tQbGFjZWhvbGRlcigpLCEwO2Zvcih2YXIgZixnLGg9YSgiPGRpdj48L2Rpdj4iKS5hcHBlbmQoYShjKS5jbG9uZSgpKS5odG1sKCksaT1bXSxqPXt9LGs9W10sbD0wLG09MDttPGgubGVuZ3RoO20rKylpZihnPWguY2hhckF0KG0pLCI8Ij09Zyl7dmFyIG49aC5pbmRleE9mKCI+IixtKzEpO2lmKC0xIT09bil7Zj1oLnN1YnN0cmluZyhtLG4rMSk7dmFyIG89dGhpcy50YWdOYW1lKGYpO2lmKG09biwiYnJlYWsiPT1vKXtpZighdGhpcy5pc0Nsb3NpbmdUYWcoZikpe2Zvcih2YXIgcD1pLmxlbmd0aC0xO3A+PTA7cC0tKXt2YXIgcT10aGlzLnRhZ05hbWUoaVtwXSk7ay5wdXNoKCI8LyIrcSsiPiIpfWsucHVzaChiKTtmb3IodmFyIHI9MDtyPGkubGVuZ3RoO3IrKylrLnB1c2goaVtyXSl9fWVsc2UgaWYoay5wdXNoKGYpLCF0aGlzLmlzU2VsZkNsb3NpbmdUYWcoZikpaWYodGhpcy5pc0Nsb3NpbmdUYWcoZikpe3ZhciBzPWpbb10ucG9wKCk7aS5zcGxpY2UocywxKX1lbHNlIGkucHVzaChmKSx2b2lkIDA9PT1qW29dJiYoaltvXT1bXSksaltvXS5wdXNoKGkubGVuZ3RoLTEpfX1lbHNlIGwrKyxrLnB1c2goZyk7YShjKS5yZXBsYWNlV2l0aChrLmpvaW4oIiIpKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKX0sYi5wcm90b3R5cGUuaW5zZXJ0U2ltcGxlSFRNTD1mdW5jdGlvbihhKXt2YXIgYixjO2lmKHRoaXMubm9fdmVyaWZ5PSEwLHdpbmRvdy5nZXRTZWxlY3Rpb24pe2lmKGI9d2luZG93LmdldFNlbGVjdGlvbigpLGIuZ2V0UmFuZ2VBdCYmYi5yYW5nZUNvdW50KXtjPWIuZ2V0UmFuZ2VBdCgwKSxjLmRlbGV0ZUNvbnRlbnRzKCk7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ZC5pbm5lckhUTUw9YTtmb3IodmFyIGUsZixnPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtlPWQuZmlyc3RDaGlsZDspZj1nLmFwcGVuZENoaWxkKGUpO2MuaW5zZXJ0Tm9kZShnKSxmJiYoYz1jLmNsb25lUmFuZ2UoKSxjLmNvbGxhcHNlKCExKSxiLnJlbW92ZUFsbFJhbmdlcygpLGIuYWRkUmFuZ2UoYykpfX1lbHNlIGlmKChiPWRvY3VtZW50LnNlbGVjdGlvbikmJiJDb250cm9sIiE9Yi50eXBlKXt2YXIgaD1iLmNyZWF0ZVJhbmdlKCk7aC5jb2xsYXBzZSghMCksYi5jcmVhdGVSYW5nZSgpLnBhc3RlSFRNTChhKSxzZWxlY3RQYXN0ZWRDb250ZW50JiYoYz1iLmNyZWF0ZVJhbmdlKCksYy5zZXRFbmRQb2ludCgiU3RhcnRUb1N0YXJ0IixoKSxjLnNlbGVjdCgpKX10aGlzLm5vX3ZlcmlmeT0hMX0sYi5wcm90b3R5cGUuaW5zZXJ0SFRNTD1mdW5jdGlvbihiLGMpe2lmKHZvaWQgMD09PWMmJihjPSEwKSwhdGhpcy5pc0hUTUwmJmMmJnRoaXMuZm9jdXMoKSx0aGlzLnJlbW92ZU1hcmtlcnMoKSx0aGlzLmluc2VydFNpbXBsZUhUTUwoIjxicmVhaz48L2JyZWFrPiIpLHRoaXMuY2hlY2tQbGFjZWhvbGRlcighMCksdGhpcy4kZWxlbWVudC5oYXNDbGFzcygiZi1wbGFjZWhvbGRlciIpKXJldHVybiB0aGlzLiRlbGVtZW50Lmh0bWwoYiksdGhpcy5vcHRpb25zLnBhcmFncmFwaHkmJnRoaXMud3JhcFRleHQoITApLHRoaXMuc2V0Rm9jdXNBdEVuZCgpLHRoaXMuY2hlY2tQbGFjZWhvbGRlcigpLCExO2Zvcih2YXIgZD1hKCI8ZGl2PiIpLmFwcGVuZChiKS5maW5kKCIqIiksZT0wO2U8ZC5sZW5ndGg7ZSsrKWlmKHRoaXMudmFsaWRfbm9kZXMuaW5kZXhPZihkW2VdLnRhZ05hbWUpPj0wKXJldHVybiB0aGlzLmJyZWFrSFRNTChiKSx0aGlzLmNsZWFudXBMaXN0cygpLCExO3RoaXMuJGVsZW1lbnQuZmluZCgiYnJlYWsiKS5yZW1vdmUoKSx0aGlzLmluc2VydFNpbXBsZUhUTUwoYil9LGIucHJvdG90eXBlLmV4ZWNEZWZhdWx0U2hvcnRjdXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpc1thXS5hcHBseSh0aGlzLGIpLCExfSxiLnByb3RvdHlwZS5pbml0RWRpdG9yPWZ1bmN0aW9uKCl7dmFyIGM9ImZyb2FsYS1lZGl0b3IiO3RoaXMubW9iaWxlKCkmJihjKz0iIHRvdWNoIiksdGhpcy5icm93c2VyLm1zaWUmJmIuZ2V0SUV2ZXJzaW9uKCk8OSYmKGMrPSIgaWU4IiksdGhpcy4kZWRpdG9yPWEoJzxkaXYgY2xhc3M9IicrYysnIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPicpLGEoImJvZHkiKS5hcHBlbmQodGhpcy4kZWRpdG9yKSx0aGlzLm9wdGlvbnMuaW5saW5lTW9kZT90aGlzLmluaXRJbmxpbmVFZGl0b3IoKTp0aGlzLmluaXRCYXNpY0VkaXRvcigpfSxiLnByb3RvdHlwZS5yZWZyZXNoVG9vbGJhclBvc2l0aW9uPWZ1bmN0aW9uKCl7YSh3aW5kb3cpLnNjcm9sbFRvcCgpPnRoaXMuJGJveC5vZmZzZXQoKS50b3AmJmEod2luZG93KS5zY3JvbGxUb3AoKTx0aGlzLiRib3gub2Zmc2V0KCkudG9wK3RoaXMuJGJveC5vdXRlckhlaWdodCgpLXRoaXMuJGVkaXRvci5vdXRlckhlaWdodCgpPyh0aGlzLiRlbGVtZW50LmNzcygicGFkZGluZy10b3AiLHRoaXMuJGVkaXRvci5vdXRlckhlaWdodCgpK3RoaXMuJGVsZW1lbnQuZGF0YSgicGFkZGluZy10b3AiKSksdGhpcy4kcGxhY2Vob2xkZXIuY3NzKCJtYXJnaW4tdG9wIix0aGlzLiRlZGl0b3Iub3V0ZXJIZWlnaHQoKSt0aGlzLiRlbGVtZW50LmRhdGEoInBhZGRpbmctdG9wIikpLHRoaXMuJGVkaXRvci5hZGRDbGFzcygiZi1zY3JvbGwiKS5yZW1vdmVDbGFzcygiZi1zY3JvbGwtYWJzIikuY3NzKCJib3R0b20iLCIiKS5jc3MoImxlZnQiLHRoaXMuJGJveC5vZmZzZXQoKS5sZWZ0K3BhcnNlRmxvYXQodGhpcy4kYm94LmNzcygicGFkZGluZy1sZWZ0IiksMTApLWEod2luZG93KS5zY3JvbGxMZWZ0KCkpLndpZHRoKHRoaXMuJGVsZW1lbnQub3V0ZXJXaWR0aCgpLXBhcnNlRmxvYXQodGhpcy4kZWRpdG9yLmNzcygiYm9yZGVyLWxlZnQtd2lkdGgiKSwxMCktcGFyc2VGbG9hdCh0aGlzLiRlZGl0b3IuY3NzKCJib3JkZXItcmlnaHQtd2lkdGgiKSwxMCkpLHRoaXMuaU9TKCkmJih0aGlzLiRlbGVtZW50LmlzKCI6Zm9jdXMiKT90aGlzLiRlZGl0b3IuY3NzKCJ0b3AiLGEod2luZG93KS5zY3JvbGxUb3AoKSk6dGhpcy4kZWRpdG9yLmNzcygidG9wIiwiIikpKTphKHdpbmRvdykuc2Nyb2xsVG9wKCk8dGhpcy4kYm94Lm9mZnNldCgpLnRvcD90aGlzLmlPUygpJiZ0aGlzLiRlbGVtZW50LmlzKCI6Zm9jdXMiKT8odGhpcy4kZWxlbWVudC5jc3MoInBhZGRpbmctdG9wIix0aGlzLiRlZGl0b3Iub3V0ZXJIZWlnaHQoKSt0aGlzLiRlbGVtZW50LmRhdGEoInBhZGRpbmctdG9wIikpLHRoaXMuJHBsYWNlaG9sZGVyLmNzcygibWFyZ2luLXRvcCIsdGhpcy4kZWRpdG9yLm91dGVySGVpZ2h0KCkrdGhpcy4kZWxlbWVudC5kYXRhKCJwYWRkaW5nLXRvcCIpKSx0aGlzLiRlZGl0b3IuYWRkQ2xhc3MoImYtc2Nyb2xsIikucmVtb3ZlQ2xhc3MoImYtc2Nyb2xsLWFicyIpLmNzcygiYm90dG9tIiwiIikuY3NzKCJsZWZ0Iix0aGlzLiRib3gub2Zmc2V0KCkubGVmdCtwYXJzZUZsb2F0KHRoaXMuJGJveC5jc3MoInBhZGRpbmctbGVmdCIpLDEwKS1hKHdpbmRvdykuc2Nyb2xsTGVmdCgpKS53aWR0aCh0aGlzLiRlbGVtZW50Lm91dGVyV2lkdGgoKS1wYXJzZUZsb2F0KHRoaXMuJGVkaXRvci5jc3MoImJvcmRlci1sZWZ0LXdpZHRoIiksMTApLXBhcnNlRmxvYXQodGhpcy4kZWRpdG9yLmNzcygiYm9yZGVyLXJpZ2h0LXdpZHRoIiksMTApKSx0aGlzLiRlZGl0b3IuY3NzKCJ0b3AiLHRoaXMuJGJveC5vZmZzZXQoKS50b3ApKToodGhpcy4kZWRpdG9yLnJlbW92ZUNsYXNzKCJmLXNjcm9sbCBmLXNjcm9sbC1hYnMiKS5jc3MoImJvdHRvbSIsIiIpLmNzcygidG9wIiwiIikud2lkdGgoIiIpLHRoaXMuJGVsZW1lbnQuY3NzKCJwYWRkaW5nLXRvcCIsIiIpLHRoaXMuJHBsYWNlaG9sZGVyLmNzcygibWFyZ2luLXRvcCIsIiIpKTphKHdpbmRvdykuc2Nyb2xsVG9wKCk+dGhpcy4kYm94Lm9mZnNldCgpLnRvcCt0aGlzLiRib3gub3V0ZXJIZWlnaHQoKS10aGlzLiRlZGl0b3Iub3V0ZXJIZWlnaHQoKSYmIXRoaXMuJGVkaXRvci5oYXNDbGFzcygiZi1zY3JvbGwtYWJzIikmJih0aGlzLiRlbGVtZW50LmNzcygicGFkZGluZy10b3AiLHRoaXMuJGVkaXRvci5vdXRlckhlaWdodCgpK3RoaXMuJGVsZW1lbnQuZGF0YSgicGFkZGluZy10b3AiKSksdGhpcy4kcGxhY2Vob2xkZXIuY3NzKCJtYXJnaW4tdG9wIix0aGlzLiRlZGl0b3Iub3V0ZXJIZWlnaHQoKSt0aGlzLiRlbGVtZW50LmRhdGEoInBhZGRpbmctdG9wIikpLHRoaXMuJGVkaXRvci5yZW1vdmVDbGFzcygiZi1zY3JvbGwiKS5hZGRDbGFzcygiZi1zY3JvbGwtYWJzIiksdGhpcy4kZWRpdG9yLmNzcygiYm90dG9tIiwwKS5jc3MoInRvcCIsIiIpLmNzcygibGVmdCIsIiIpKX0sYi5wcm90b3R5cGUudG9vbGJhclRvcD1mdW5jdGlvbigpe3RoaXMub3B0aW9ucy50b29sYmFyRml4ZWR8fHRoaXMub3B0aW9ucy5pbmxpbmVNb2RlfHwodGhpcy4kZWxlbWVudC5kYXRhKCJwYWRkaW5nLXRvcCIscGFyc2VJbnQodGhpcy4kZWxlbWVudC5jc3MoInBhZGRpbmctdG9wIiksMTApKSxhKHdpbmRvdykub24oInNjcm9sbCByZXNpemUgbG9hZCIsYS5wcm94eShmdW5jdGlvbigpe3RoaXMucmVmcmVzaFRvb2xiYXJQb3NpdGlvbigpfSx0aGlzKSksdGhpcy5pT1MoKSYmdGhpcy4kZWxlbWVudC5vbigiZm9jdXMgYmx1ciIsYS5wcm94eShmdW5jdGlvbigpe3RoaXMucmVmcmVzaFRvb2xiYXJQb3NpdGlvbigpfSx0aGlzKSkpfSxiLnByb3RvdHlwZS5pbml0QmFzaWNFZGl0b3I9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmFkZENsYXNzKCJmLWJhc2ljIiksdGhpcy4kd3JhcHBlci5hZGRDbGFzcygiZi1iYXNpYyIpLHRoaXMuJHBvcHVwX2VkaXRvcj10aGlzLiRlZGl0b3IuY2xvbmUoKSx0aGlzLiRwb3B1cF9lZGl0b3IuYXBwZW5kVG8oYSgiYm9keSIpKS5hZGRDbGFzcygiZi1pbmxpbmUiKSx0aGlzLiRlZGl0b3IuYWRkQ2xhc3MoImYtYmFzaWMiKS5zaG93KCksdGhpcy4kZWRpdG9yLmluc2VydEJlZm9yZSh0aGlzLiR3cmFwcGVyKSx0aGlzLnRvb2xiYXJUb3AoKX0sYi5wcm90b3R5cGUuaW5pdElubGluZUVkaXRvcj1mdW5jdGlvbigpe3RoaXMuJGVkaXRvci5hZGRDbGFzcygiZi1pbmxpbmUiKSx0aGlzLiRlbGVtZW50LmFkZENsYXNzKCJmLWlubGluZSIpLHRoaXMuJHBvcHVwX2VkaXRvcj10aGlzLiRlZGl0b3J9LGIucHJvdG90eXBlLmluaXREcmFnPWZ1bmN0aW9uKCl7dGhpcy5kcmFnX3N1cHBvcnQ9e2ZpbGVyZWFkZXI6InVuZGVmaW5lZCIhPXR5cGVvZiBGaWxlUmVhZGVyLGZvcm1kYXRhOiEhd2luZG93LkZvcm1EYXRhLHByb2dyZXNzOiJ1cGxvYWQiaW4gbmV3IFhNTEh0dHBSZXF1ZXN0fX0sYi5wcm90b3R5cGUuaW5pdE9wdGlvbnM9ZnVuY3Rpb24oKXt0aGlzLnNldERpbWVuc2lvbnMoKSx0aGlzLnNldFNwZWxsY2hlY2soKSx0aGlzLnNldEltYWdlVXBsb2FkVVJMKCksdGhpcy5zZXRCdXR0b25zKCksdGhpcy5zZXREaXJlY3Rpb24oKSx0aGlzLnNldFRleHROZWFySW1hZ2UoKSx0aGlzLnNldFpJbmRleCgpLHRoaXMuc2V0VGhlbWUoKSx0aGlzLm9wdGlvbnMuZWRpdEluUG9wdXAmJnRoaXMuYnVpbGRFZGl0UG9wdXAoKSx0aGlzLmVkaXRhYmxlRGlzYWJsZWR8fCh0aGlzLnNldFBsYWNlaG9sZGVyKCksdGhpcy5zZXRQbGFjZWhvbGRlckV2ZW50cygpKX0sYi5wcm90b3R5cGUuaXNUb3VjaD1mdW5jdGlvbigpe3JldHVybiBXWVNJV1lHTW9kZXJuaXpyLnRvdWNoJiZ2b2lkIDAhPT13aW5kb3cuVG91Y2h9LGIucHJvdG90eXBlLmluaXRFZGl0b3JTZWxlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50Lm9uKCJrZXl1cCIsYS5wcm94eShmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy50cmlnZ2VyRXZlbnQoImtleXVwIixbYV0sITEpfSx0aGlzKSksdGhpcy4kZWxlbWVudC5vbigiZm9jdXMiLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmJsdXJyZWQmJih0aGlzLmJsdXJyZWQ9ITEsdGhpcy5wYXN0aW5nfHwiIiE9PXRoaXMudGV4dCgpfHx0aGlzLmZvY3VzKCExKSx0aGlzLnRyaWdnZXJFdmVudCgiZm9jdXMiLFtdLCExKSl9LHRoaXMpKSx0aGlzLiRlbGVtZW50Lm9uKCJtb3VzZWRvd24gdG91Y2hzdGFydCIsYS5wcm94eShmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRGlzYWJsZWQ/ITE6dm9pZCh0aGlzLmlzUmVzaXppbmcoKXx8KHRoaXMuY2xvc2VJbWFnZU1vZGUoKSx0aGlzLmhpZGUoKSkpfSx0aGlzKSksdGhpcy5vcHRpb25zLmRpc2FibGVSaWdodENsaWNrJiZ0aGlzLiRlbGVtZW50LmNvbnRleHRtZW51KGEucHJveHkoZnVuY3Rpb24oYSl7cmV0dXJuIGEucHJldmVudERlZmF1bHQoKSx0aGlzLm9wdGlvbnMuaW5saW5lTW9kZSYmdGhpcy4kZWxlbWVudC5mb2N1cygpLCExfSx0aGlzKSksdGhpcy4kZWxlbWVudC5vbih0aGlzLm1vdXNldXAsYS5wcm94eShmdW5jdGlvbihiKXtpZih0aGlzLmlzRGlzYWJsZWQpcmV0dXJuITE7aWYoIXRoaXMuaXNSZXNpemluZygpKXt2YXIgYz10aGlzLnRleHQoKTtiLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuaW1hZ2VNb2RlPSExLCEoIiIhPT1jfHx0aGlzLm9wdGlvbnMuYWx3YXlzVmlzaWJsZXx8dGhpcy5vcHRpb25zLmVkaXRJblBvcHVwfHwoMz09Yi53aGljaHx8Mj09Yi5idXR0b24pJiZ0aGlzLm9wdGlvbnMuaW5saW5lTW9kZSYmIXRoaXMuaXNJbWFnZSYmdGhpcy5vcHRpb25zLmRpc2FibGVSaWdodENsaWNrKXx8dGhpcy5saW5rfHx0aGlzLmltYWdlTW9kZT90aGlzLm9wdGlvbnMuaW5saW5lTW9kZXx8dGhpcy5yZWZyZXNoQnV0dG9ucygpOnNldFRpbWVvdXQoYS5wcm94eShmdW5jdGlvbigpe2M9dGhpcy50ZXh0KCksISgiIiE9PWN8fHRoaXMub3B0aW9ucy5hbHdheXNWaXNpYmxlfHx0aGlzLm9wdGlvbnMuZWRpdEluUG9wdXB8fCgzPT1iLndoaWNofHwyPT1iLmJ1dHRvbikmJnRoaXMub3B0aW9ucy5pbmxpbmVNb2RlJiYhdGhpcy5pc0ltYWdlJiZ0aGlzLm9wdGlvbnMuZGlzYWJsZVJpZ2h0Q2xpY2spfHx0aGlzLmxpbmt8fHRoaXMuaW1hZ2VNb2RlfHwodGhpcy5zaG93KGIpLHRoaXMub3B0aW9ucy5lZGl0SW5Qb3B1cCYmdGhpcy5zaG93RWRpdFBvcHVwKCkpfSx0aGlzKSwwKX10aGlzLmhpZGVPdGhlckVkaXRvcnMoKX0sdGhpcykpLHRoaXMuJGVkaXRvci5vbih0aGlzLm1vdXNldXAsYS5wcm94eShmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0Rpc2FibGVkPyExOnZvaWQodGhpcy5pc1Jlc2l6aW5nKCl8fChhLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMub3B0aW9ucy5pbmxpbmVNb2RlPT09ITEmJnRoaXMuaGlkZSgpKSl9LHRoaXMpKSx0aGlzLiRlZGl0b3Iub24oIm1vdXNlZG93biIsIi5mci1kcm9wZG93bi1tZW51IixhLnByb3h5KGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzRGlzYWJsZWQ/ITE6KGEuc3RvcFByb3BhZ2F0aW9uKCksdm9pZCh0aGlzLm5vSGlkZT0hMCkpfSx0aGlzKSksdGhpcy4kcG9wdXBfZWRpdG9yLm9uKCJtb3VzZWRvd24iLCIuZnItZHJvcGRvd24tbWVudSIsYS5wcm94eShmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0Rpc2FibGVkPyExOihhLnN0b3BQcm9wYWdhdGlvbigpLHZvaWQodGhpcy5ub0hpZGU9ITApKX0sdGhpcykpLHRoaXMuJHBvcHVwX2VkaXRvci5vbigibW91c2V1cCIsYS5wcm94eShmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0Rpc2FibGVkPyExOnZvaWQodGhpcy5pc1Jlc2l6aW5nKCl8fGEuc3RvcFByb3BhZ2F0aW9uKCkpfSx0aGlzKSksdGhpcy4kZWRpdF9wb3B1cF93cmFwcGVyJiZ0aGlzLiRlZGl0X3BvcHVwX3dyYXBwZXIub24oIm1vdXNldXAiLGEucHJveHkoZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNEaXNhYmxlZD8hMTp2b2lkKHRoaXMuaXNSZXNpemluZygpfHxhLnN0b3BQcm9wYWdhdGlvbigpKX0sdGhpcykpLHRoaXMuc2V0RG9jdW1lbnRTZWxlY3Rpb25DaGFuZ2VFdmVudCgpLHRoaXMuc2V0V2luZG93TW91c2VVcEV2ZW50KCksdGhpcy5zZXRXaW5kb3dLZXlEb3duRXZlbnQoKSx0aGlzLnNldFdpbmRvd0tleVVwRXZlbnQoKSx0aGlzLnNldFdpbmRvd09yaWVudGF0aW9uQ2hhbmdlRXZlbnQoKSx0aGlzLnNldFdpbmRvd0hpZGVFdmVudCgpLHRoaXMuc2V0V2luZG93Qmx1ckV2ZW50KCksdGhpcy5vcHRpb25zLnRyYWNrU2Nyb2xsJiZ0aGlzLnNldFdpbmRvd1Njcm9sbEV2ZW50KCl9LGIucHJvdG90eXBlLmJsdXI9ZnVuY3Rpb24oYil7dGhpcy5ibHVycmVkfHx0aGlzLnBhc3Rpbmd8fCh0aGlzLnNlbGVjdGlvbkRpc2FibGVkPSEwLHRoaXMudHJpZ2dlckV2ZW50KCJibHVyIixbXSksYiYmMD09PWEoIio6Zm9jdXMiKS5sZW5ndGgmJnRoaXMuY2xlYXJTZWxlY3Rpb24oKSx0aGlzLmlzTGlua3x8dGhpcy5pc0ltYWdlfHwodGhpcy5zZWxlY3Rpb25EaXNhYmxlZD0hMSksdGhpcy5ibHVycmVkPSEwKX0sYi5wcm90b3R5cGUuc2V0V2luZG93Qmx1ckV2ZW50PWZ1bmN0aW9uKCl7dGhpcy4kd2luZG93Lm9uKCJibHVyLiIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbihhLGIpe3RoaXMuYmx1cihiKX0sdGhpcykpfSxiLnByb3RvdHlwZS5zZXRXaW5kb3dIaWRlRXZlbnQ9ZnVuY3Rpb24oKXt0aGlzLiR3aW5kb3cub24oImhpZGUuIit0aGlzLl9pZCxhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5pc1Jlc2l6aW5nKCk/dGhpcy4kZWxlbWVudC5maW5kKCIuZi1pbWctaGFuZGxlIikudHJpZ2dlcigibW92ZWVuZCIpOnRoaXMuaGlkZSghMSl9LHRoaXMpKX0sYi5wcm90b3R5cGUuc2V0V2luZG93T3JpZW50YXRpb25DaGFuZ2VFdmVudD1mdW5jdGlvbigpe3RoaXMuJHdpbmRvdy5vbigib3JpZW50YXRpb25jaGFuZ2UuIit0aGlzLl9pZCxhLnByb3h5KGZ1bmN0aW9uKCl7c2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5oaWRlKCl9LHRoaXMpLDEwKX0sdGhpcykpfSxiLnByb3RvdHlwZS5zZXREb2N1bWVudFNlbGVjdGlvbkNoYW5nZUV2ZW50PWZ1bmN0aW9uKCl7dGhpcy4kZG9jdW1lbnQub24oInNlbGVjdGlvbmNoYW5nZS4iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuaXNEaXNhYmxlZD8hMTp2b2lkKHRoaXMuaXNSZXNpemluZygpfHx0aGlzLmlzU2Nyb2xsaW5nfHwoY2xlYXJUaW1lb3V0KHRoaXMuc2VsZWN0aW9uQ2hhbmdlZFRpbWVvdXQpLHRoaXMuc2VsZWN0aW9uQ2hhbmdlZFRpbWVvdXQ9c2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLmlubGluZU1vZGUmJnRoaXMuc2VsZWN0aW9uSW5FZGl0b3IoKSYmdGhpcy5saW5rIT09ITAmJnRoaXMuaXNUb3VjaCgpKXt2YXIgYT10aGlzLnRleHQoKTsiIiE9PWE/KHRoaXMuaVBvZCgpP3RoaXMub3B0aW9ucy5hbHdheXNWaXNpYmxlJiZ0aGlzLmhpZGUoKTp0aGlzLnNob3cobnVsbCksYi5zdG9wUHJvcGFnYXRpb24oKSk6dGhpcy5vcHRpb25zLmFsd2F5c1Zpc2libGU/dGhpcy5zaG93KG51bGwpOih0aGlzLmhpZGUoKSx0aGlzLmNsb3NlSW1hZ2VNb2RlKCksdGhpcy5pbWFnZU1vZGU9ITEpfX0sdGhpcyksNzUpKSl9LHRoaXMpKX0sYi5wcm90b3R5cGUuc2V0V2luZG93TW91c2VVcEV2ZW50PWZ1bmN0aW9uKCl7dGhpcy4kd2luZG93Lm9uKHRoaXMubW91c2V1cCsiLiIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRGlzYWJsZWQ/ITE6KHRoaXMuaXNSZXNpemluZygpfHx0aGlzLmlzU2Nyb2xsaW5nfHwodGhpcy4kYnR0bl93cmFwcGVyLmZpbmQoImJ1dHRvbltkYXRhLWNtZF0iKS5yZW1vdmVDbGFzcygiYWN0aXZlIiksdGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpJiYiIiE9PXRoaXMudGV4dCgpJiYhdGhpcy5pc1RvdWNoKCk/dGhpcy5zaG93KG51bGwpOnRoaXMuJHBvcHVwX2VkaXRvci5pcygiOnZpc2libGUiKSYmKHRoaXMuaGlkZSgpLHRoaXMuY2xvc2VJbWFnZU1vZGUoKSx0aGlzLmltYWdlTW9kZT0hMSksdGhpcy5ibHVyKCEwKSksdm9pZCBhKCJbZGF0YS1kb3duXSIpLnJlbW92ZUF0dHIoImRhdGEtZG93biIpKX0sdGhpcykpfSxiLnByb3RvdHlwZS5zZXRXaW5kb3dLZXlEb3duRXZlbnQ9ZnVuY3Rpb24oKXt0aGlzLiR3aW5kb3cub24oImtleWRvd24uIit0aGlzLl9pZCxhLnByb3h5KGZ1bmN0aW9uKGIpe3ZhciBjPWIud2hpY2g7aWYodGhpcy5pbWFnZU1vZGUpe2lmKDEzPT1jKXJldHVybiB0aGlzLiRlbGVtZW50LmZpbmQoIi5mLWltZy1lZGl0b3IiKS5wYXJlbnRzKCIuZi1pbWctd3JhcCIpLmJlZm9yZSgiPGJyLz4iKSx0aGlzLnN5bmMoKSx0aGlzLiRlbGVtZW50LmZpbmQoIi5mLWltZy1lZGl0b3IgaW1nIikuY2xpY2soKSwhMTtpZig0Nj09Y3x8OD09YylyZXR1cm4gYi5zdG9wUHJvcGFnYXRpb24oKSxiLnByZXZlbnREZWZhdWx0KCksc2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVJbWFnZSh0aGlzLiRlbGVtZW50LmZpbmQoIi5mLWltZy1lZGl0b3IiKSl9LHRoaXMpLDApLCExfWVsc2UgaWYodGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpKXtpZih0aGlzLmlzRGlzYWJsZWQpcmV0dXJuITA7dmFyIGQ9KGIuY3RybEtleXx8Yi5tZXRhS2V5KSYmIWIuYWx0S2V5OyFkJiZ0aGlzLiRwb3B1cF9lZGl0b3IuaXMoIjp2aXNpYmxlIikmJigyNz09Y3x8dGhpcy4kYnR0bl93cmFwcGVyLmlzKCI6dmlzaWJsZSIpJiZ0aGlzLm9wdGlvbnMuaW5saW5lTW9kZSkmJih0aGlzLmhpZGUoKSx0aGlzLmNsb3NlSW1hZ2VNb2RlKCkpfX0sdGhpcykpfSxiLnByb3RvdHlwZS5zZXRXaW5kb3dLZXlVcEV2ZW50PWZ1bmN0aW9uKCl7dGhpcy4kd2luZG93Lm9uKCJrZXl1cC4iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0Rpc2FibGVkPyExOnZvaWQodGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpJiYiIiE9PXRoaXMudGV4dCgpJiYhdGhpcy4kcG9wdXBfZWRpdG9yLmlzKCI6dmlzaWJsZSIpJiZ0aGlzLnJlcG9zaXRpb25FZGl0b3IoKSl9LHRoaXMpKX0sYi5wcm90b3R5cGUuc2V0V2luZG93U2Nyb2xsRXZlbnQ9ZnVuY3Rpb24oKXt0aGlzLiR3aW5kb3cub24oInNjcm9sbC4iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0Rpc2FibGVkPyExOihjbGVhclRpbWVvdXQodGhpcy5zY3JvbGxUaW1lciksdGhpcy5pc1Njcm9sbGluZz0hMCx2b2lkKHRoaXMuc2Nyb2xsVGltZXI9c2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5pc1Njcm9sbGluZz0hMX0sdGhpcyksMjUwMCkpKX0sdGhpcykpfSxiLnByb3RvdHlwZS5zZXRUZXh0TmVhckltYWdlPWZ1bmN0aW9uKGEpe3ZvaWQgMCE9PWEmJih0aGlzLm9wdGlvbnMudGV4dE5lYXJJbWFnZT1hKSx0aGlzLm9wdGlvbnMudGV4dE5lYXJJbWFnZT09PSEwP3RoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoImYtdG5pIik6dGhpcy4kZWxlbWVudC5hZGRDbGFzcygiZi10bmkiKX0sYi5wcm90b3R5cGUuc2V0UGxhY2Vob2xkZXI9ZnVuY3Rpb24oYil7YiYmKHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcj1iKSx0aGlzLiR0ZXh0YXJlYSYmdGhpcy4kdGV4dGFyZWEuYXR0cigicGxhY2Vob2xkZXIiLHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlciksdGhpcy4kcGxhY2Vob2xkZXJ8fCh0aGlzLiRwbGFjZWhvbGRlcj1hKCc8c3BhbiBjbGFzcz0iZnItcGxhY2Vob2xkZXIiPjwvc3Bhbj4nKS5iaW5kKCJjbGljayIsYS5wcm94eShmdW5jdGlvbigpe3RoaXMuZm9jdXMoKX0sdGhpcykpLHRoaXMuJGVsZW1lbnQuYWZ0ZXIodGhpcy4kcGxhY2Vob2xkZXIpKSx0aGlzLiRwbGFjZWhvbGRlci50ZXh0KHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcil9LGIucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLiRlbGVtZW50LnRleHQoKS5yZXBsYWNlKC8oXHJcbnxcbnxccnxcdHxcdTIwMEJ8XHUwMDIwKS9nbSwiIik7cmV0dXJuIiI9PT1iJiYwPT09dGhpcy4kZWxlbWVudC5maW5kKCJpbWcsIHRhYmxlLCBpZnJhbWUsIGlucHV0LCBociIpLmxlbmd0aCYmMD09PXRoaXMuJGVsZW1lbnQuZmluZCgicCA+IGJyLCBkaXYgPiBiciIpLmxlbmd0aCYmMD09PXRoaXMuJGVsZW1lbnQuZmluZChhLm1hcCh0aGlzLnZhbGlkX25vZGVzLGZ1bmN0aW9uKGEpe3JldHVyblsiUCwgRElWIl0uaW5kZXhPZihhKT49MD9udWxsOmF9KS5qb2luKCIsICIpKS5sZW5ndGh9LGIucHJvdG90eXBlLmNoZWNrUGxhY2Vob2xkZXI9ZnVuY3Rpb24oYil7aWYodGhpcy5pc0Rpc2FibGVkJiYhYilyZXR1cm4hMTtpZih0aGlzLnBhc3RpbmcmJiFiKXJldHVybiExO2lmKHRoaXMuJGVsZW1lbnQuZmluZCgidGQ6ZW1wdHksIHRoOmVtcHR5IikuYXBwZW5kKCI8L2JyPiIpLHRoaXMuYnJvd3Nlci5tc2llfHx0aGlzLiRlbGVtZW50LmZpbmQodGhpcy52YWxpZF9ub2Rlcy5qb2luKCI6ZW1wdHksICIpKyI6ZW1wdHkiKS5yZW1vdmUoKSwhdGhpcy5pc0hUTUwpaWYodGhpcy5pc0VtcHR5KCkmJiF0aGlzLmZha2VFbXB0eSgpKXt2YXIgYyxkPXRoaXMuc2VsZWN0aW9uSW5FZGl0b3IoKXx8dGhpcy4kZWxlbWVudC5pcygiOmZvY3VzIik7dGhpcy5vcHRpb25zLnBhcmFncmFwaHk/KGM9YSgiPHA+PGJyLz48L3A+IiksdGhpcy4kZWxlbWVudC5odG1sKGMpLGQmJnRoaXMuc2V0U2VsZWN0aW9uKGMuZ2V0KDApKSx0aGlzLiRlbGVtZW50LmFkZENsYXNzKCJmLXBsYWNlaG9sZGVyIikpOigwPT09dGhpcy4kZWxlbWVudC5maW5kKCJiciIpLmxlbmd0aCYmdGhpcy4kZWxlbWVudC5hcHBlbmQoIjxici8+IiksdGhpcy4kZWxlbWVudC5hZGRDbGFzcygiZi1wbGFjZWhvbGRlciIpKX1lbHNlIXRoaXMuJGVsZW1lbnQuZmluZCgicCIpLmxlbmd0aCYmdGhpcy5vcHRpb25zLnBhcmFncmFwaHk/KHRoaXMud3JhcFRleHQoITApLHRoaXMuJGVsZW1lbnQuZmluZCgicCIpLmxlbmd0aCYmIiI9PT10aGlzLnRleHQoKT90aGlzLnNldFNlbGVjdGlvbih0aGlzLiRlbGVtZW50LmZpbmQoInAiKVswXSx0aGlzLiRlbGVtZW50LmZpbmQoInAiKS50ZXh0KCkubGVuZ3RoLG51bGwsdGhpcy4kZWxlbWVudC5maW5kKCJwIikudGV4dCgpLmxlbmd0aCk6dGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygiZi1wbGFjZWhvbGRlciIpKTp0aGlzLmZha2VFbXB0eSgpPT09ITF8fHRoaXMuJGVsZW1lbnQuZmluZCh0aGlzLnZhbGlkX25vZGVzLmpvaW4oIiwiKSkubGVuZ3RoPjE/dGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygiZi1wbGFjZWhvbGRlciIpOnRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoImYtcGxhY2Vob2xkZXIiKTtyZXR1cm4hMH0sYi5wcm90b3R5cGUuZmFrZUVtcHR5PWZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEmJihhPXRoaXMuJGVsZW1lbnQpO3ZhciBiPWEudGV4dCgpLnJlcGxhY2UoLyhcclxufFxufFxyfFx0fFx1MjAwQikvZ20sIiIpO3JldHVybiIiPT09YiYmMT09YS5maW5kKCJwLCBkaXYiKS5sZW5ndGgmJjE9PWEuZmluZCgicCA+IGJyLCBkaXYgPiBiciIpLmxlbmd0aCYmMD09PWEuZmluZCgiaW1nLCB0YWJsZSwgaWZyYW1lLCBpbnB1dCwgaHIiKS5sZW5ndGh9LGIucHJvdG90eXBlLnNldFBsYWNlaG9sZGVyRXZlbnRzPWZ1bmN0aW9uKCl7dGhpcy5icm93c2VyLm1zaWUmJmIuZ2V0SUV2ZXJzaW9uKCk8OXx8KHRoaXMuJGVsZW1lbnQub24oImZvY3VzIixhLnByb3h5KGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNEaXNhYmxlZD8hMTp2b2lkKCIiIT09dGhpcy4kZWxlbWVudC50ZXh0KCl8fHRoaXMucGFzdGluZ3x8dGhpcy5mb2N1cyghMSkpfSx0aGlzKSksdGhpcy4kZWxlbWVudC5vbigia2V5dXAga2V5ZG93biBmb2N1cyBwbGFjZWhvbGRlckNoZWNrIixhLnByb3h5KGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hlY2tQbGFjZWhvbGRlcigpfSx0aGlzKSksdGhpcy4kZWxlbWVudC50cmlnZ2VyKCJwbGFjZWhvbGRlckNoZWNrIikpfSxiLnByb3RvdHlwZS5zZXREaW1lbnNpb25zPWZ1bmN0aW9uKGEsYixjLGQpe2EmJih0aGlzLm9wdGlvbnMuaGVpZ2h0PWEpLGImJih0aGlzLm9wdGlvbnMud2lkdGg9YiksYyYmKHRoaXMub3B0aW9ucy5taW5IZWlnaHQ9YyksZCYmKHRoaXMub3B0aW9ucy5tYXhIZWlnaHQ9ZCksImF1dG8iIT10aGlzLm9wdGlvbnMuaGVpZ2h0JiZ0aGlzLiRlbGVtZW50LmNzcygiaGVpZ2h0Iix0aGlzLm9wdGlvbnMuaGVpZ2h0KSwiYXV0byIhPXRoaXMub3B0aW9ucy5taW5IZWlnaHQmJnRoaXMuJGVsZW1lbnQuY3NzKCJtaW5IZWlnaHQiLHRoaXMub3B0aW9ucy5taW5IZWlnaHQpLCJhdXRvIiE9dGhpcy5vcHRpb25zLm1heEhlaWdodCYmdGhpcy4kZWxlbWVudC5jc3MoIm1heEhlaWdodCIsdGhpcy5vcHRpb25zLm1heEhlaWdodCksImF1dG8iIT10aGlzLm9wdGlvbnMud2lkdGgmJnRoaXMuJGJveC5jc3MoIndpZHRoIix0aGlzLm9wdGlvbnMud2lkdGgpfSxiLnByb3RvdHlwZS5zZXREaXJlY3Rpb249ZnVuY3Rpb24oYSl7YSYmKHRoaXMub3B0aW9ucy5kaXJlY3Rpb249YSksImx0ciIhPXRoaXMub3B0aW9ucy5kaXJlY3Rpb24mJiJydGwiIT10aGlzLm9wdGlvbnMuZGlyZWN0aW9uJiYodGhpcy5vcHRpb25zLmRpcmVjdGlvbj0ibHRyIiksInJ0bCI9PXRoaXMub3B0aW9ucy5kaXJlY3Rpb24/KHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoImYtcnRsIiksdGhpcy4kZWRpdG9yLmFkZENsYXNzKCJmLXJ0bCIpLHRoaXMuJHBvcHVwX2VkaXRvci5hZGRDbGFzcygiZi1ydGwiKSx0aGlzLiRpbWFnZV9tb2RhbCYmdGhpcy4kaW1hZ2VfbW9kYWwuYWRkQ2xhc3MoImYtcnRsIikpOih0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJmLXJ0bCIpLHRoaXMuJGVkaXRvci5yZW1vdmVDbGFzcygiZi1ydGwiKSx0aGlzLiRwb3B1cF9lZGl0b3IucmVtb3ZlQ2xhc3MoImYtcnRsIiksdGhpcy4kaW1hZ2VfbW9kYWwmJnRoaXMuJGltYWdlX21vZGFsLnJlbW92ZUNsYXNzKCJmLXJ0bCIpKX0sYi5wcm90b3R5cGUuc2V0WkluZGV4PWZ1bmN0aW9uKGEpe2EmJih0aGlzLm9wdGlvbnMuekluZGV4PWEpLHRoaXMuJGVkaXRvci5jc3MoInotaW5kZXgiLHRoaXMub3B0aW9ucy56SW5kZXgpLHRoaXMuJHBvcHVwX2VkaXRvci5jc3MoInotaW5kZXgiLHRoaXMub3B0aW9ucy56SW5kZXgrMSksdGhpcy4kb3ZlcmxheSYmdGhpcy4kb3ZlcmxheS5jc3MoInotaW5kZXgiLHRoaXMub3B0aW9ucy56SW5kZXgrMiksdGhpcy4kaW1hZ2VfbW9kYWwmJnRoaXMuJGltYWdlX21vZGFsLmNzcygiei1pbmRleCIsdGhpcy5vcHRpb25zLnpJbmRleCszKX0sYi5wcm90b3R5cGUuc2V0VGhlbWU9ZnVuY3Rpb24oYSl7YSYmKHRoaXMub3B0aW9ucy50aGVtZT1hKSxudWxsIT10aGlzLm9wdGlvbnMudGhlbWUmJih0aGlzLiRlZGl0b3IuYWRkQ2xhc3ModGhpcy5vcHRpb25zLnRoZW1lKyItdGhlbWUiKSx0aGlzLiRwb3B1cF9lZGl0b3IuYWRkQ2xhc3ModGhpcy5vcHRpb25zLnRoZW1lKyItdGhlbWUiKSx0aGlzLiRib3gmJnRoaXMuJGJveC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMudGhlbWUrIi10aGVtZSIpLHRoaXMuJGltYWdlX21vZGFsJiZ0aGlzLiRpbWFnZV9tb2RhbC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMudGhlbWUrIi10aGVtZSIpKX0sYi5wcm90b3R5cGUuc2V0U3BlbGxjaGVjaz1mdW5jdGlvbihhKXt2b2lkIDAhPT1hJiYodGhpcy5vcHRpb25zLnNwZWxsY2hlY2s9YSksdGhpcy4kZWxlbWVudC5hdHRyKCJzcGVsbGNoZWNrIix0aGlzLm9wdGlvbnMuc3BlbGxjaGVjayl9LGIucHJvdG90eXBlLmN1c3RvbWl6ZVRleHQ9ZnVuY3Rpb24oYil7aWYoYil7dmFyIGM9dGhpcy4kZWRpdG9yLmZpbmQoIlt0aXRsZV0iKS5hZGQodGhpcy4kcG9wdXBfZWRpdG9yLmZpbmQoIlt0aXRsZV0iKSk7dGhpcy4kaW1hZ2VfbW9kYWwmJihjPWMuYWRkKHRoaXMuJGltYWdlX21vZGFsLmZpbmQoIlt0aXRsZV0iKSkpLGMuZWFjaChhLnByb3h5KGZ1bmN0aW9uKGMsZCl7Zm9yKHZhciBlIGluIGIpYShkKS5hdHRyKCJ0aXRsZSIpLnRvTG93ZXJDYXNlKCk9PWUudG9Mb3dlckNhc2UoKSYmYShkKS5hdHRyKCJ0aXRsZSIsYltlXSl9LHRoaXMpKSxjPXRoaXMuJGVkaXRvci5maW5kKCdbZGF0YS10ZXh0PSJ0cnVlIl0nKS5hZGQodGhpcy4kcG9wdXBfZWRpdG9yLmZpbmQoJ1tkYXRhLXRleHQ9InRydWUiXScpKSx0aGlzLiRpbWFnZV9tb2RhbCYmKGM9Yy5hZGQodGhpcy4kaW1hZ2VfbW9kYWwuZmluZCgnW2RhdGEtdGV4dD0idHJ1ZSJdJykpKSxjLmVhY2goYS5wcm94eShmdW5jdGlvbihjLGQpe2Zvcih2YXIgZSBpbiBiKWEoZCkudGV4dCgpLnRvTG93ZXJDYXNlKCk9PWUudG9Mb3dlckNhc2UoKSYmYShkKS50ZXh0KGJbZV0pfSx0aGlzKSl9fSxiLnByb3RvdHlwZS5zZXRMYW5ndWFnZT1mdW5jdGlvbihiKXt2b2lkIDAhPT1iJiYodGhpcy5vcHRpb25zLmxhbmd1YWdlPWIpLGEuRWRpdGFibGUuTEFOR1NbdGhpcy5vcHRpb25zLmxhbmd1YWdlXSYmKHRoaXMuY3VzdG9taXplVGV4dChhLkVkaXRhYmxlLkxBTkdTW3RoaXMub3B0aW9ucy5sYW5ndWFnZV0udHJhbnNsYXRpb24pLGEuRWRpdGFibGUuTEFOR1NbdGhpcy5vcHRpb25zLmxhbmd1YWdlXS5kaXJlY3Rpb24mJnRoaXMuc2V0RGlyZWN0aW9uKGEuRWRpdGFibGUuTEFOR1NbdGhpcy5vcHRpb25zLmxhbmd1YWdlXS5kaXJlY3Rpb24pLGEuRWRpdGFibGUuTEFOR1NbdGhpcy5vcHRpb25zLmxhbmd1YWdlXS50cmFuc2xhdGlvblt0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXJdJiZ0aGlzLnNldFBsYWNlaG9sZGVyKGEuRWRpdGFibGUuTEFOR1NbdGhpcy5vcHRpb25zLmxhbmd1YWdlXS50cmFuc2xhdGlvblt0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXJdKSl9LGIucHJvdG90eXBlLnNldEN1c3RvbVRleHQ9ZnVuY3Rpb24oYSl7YSYmKHRoaXMub3B0aW9ucy5jdXN0b21UZXh0PWEpLHRoaXMub3B0aW9ucy5jdXN0b21UZXh0JiZ0aGlzLmN1c3RvbWl6ZVRleHQodGhpcy5vcHRpb25zLmN1c3RvbVRleHQpfSxiLnByb3RvdHlwZS5leGVjSFRNTD1mdW5jdGlvbigpe3RoaXMuaHRtbCgpfSxiLnByb3RvdHlwZS5pbml0SFRNTEFyZWE9ZnVuY3Rpb24oKXt0aGlzLiRodG1sX2FyZWE9YSgnPHRleHRhcmVhIHdyYXA9ImhhcmQiPicpLmtleWRvd24oZnVuY3Rpb24oYil7dmFyIGM9Yi5rZXlDb2RlfHxiLndoaWNoO2lmKDk9PWMpe2IucHJldmVudERlZmF1bHQoKTt2YXIgZD1hKHRoaXMpLmdldCgwKS5zZWxlY3Rpb25TdGFydCxlPWEodGhpcykuZ2V0KDApLnNlbGVjdGlvbkVuZDthKHRoaXMpLnZhbChhKHRoaXMpLnZhbCgpLnN1YnN0cmluZygwLGQpKyIJIithKHRoaXMpLnZhbCgpLnN1YnN0cmluZyhlKSksYSh0aGlzKS5nZXQoMCkuc2VsZWN0aW9uU3RhcnQ9YSh0aGlzKS5nZXQoMCkuc2VsZWN0aW9uRW5kPWQrMX19KS5mb2N1cyhhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5ibHVycmVkJiYodGhpcy5ibHVycmVkPSExLHRoaXMudHJpZ2dlckV2ZW50KCJmb2N1cyIsW10sITEpKX0sdGhpcykpLm1vdXNldXAoYS5wcm94eShmdW5jdGlvbigpe3RoaXMuYmx1cnJlZCYmKHRoaXMuYmx1cnJlZD0hMSx0aGlzLnRyaWdnZXJFdmVudCgiZm9jdXMiLFtdLCExKSl9LHRoaXMpKX0sYi5wcm90b3R5cGUuY29tbWFuZF9kaXNwYXRjaGVyPXthbGlnbjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmJ1aWxkRHJvcGRvd25BbGlnbihhKSxjPXRoaXMuYnVpbGREcm9wZG93bkJ1dHRvbihhLGIpO3JldHVybiBjfSxmb3JtYXRCbG9jazpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmJ1aWxkRHJvcGRvd25Gb3JtYXRCbG9jayhhKSxjPXRoaXMuYnVpbGREcm9wZG93bkJ1dHRvbihhLGIpO3JldHVybiBjfSxodG1sOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuYnVpbGREZWZhdWx0QnV0dG9uKGIpO3JldHVybiB0aGlzLm9wdGlvbnMuaW5saW5lTW9kZSYmdGhpcy4kYm94LmFwcGVuZChhKGMpLmNsb25lKCEwKS5hZGRDbGFzcygiaHRtbC1zd2l0Y2giKS5hdHRyKCJ0aXRsZSIsIkhpZGUgSFRNTCIpLmNsaWNrKGEucHJveHkodGhpcy5leGVjSFRNTCx0aGlzKSkpLHRoaXMuaW5pdEhUTUxBcmVhKCksY319LGIucHJvdG90eXBlLnNldEJ1dHRvbnM9ZnVuY3Rpb24oYSl7YSYmKHRoaXMub3B0aW9ucy5idXR0b25zPWEpLHRoaXMuJGVkaXRvci5hcHBlbmQoJzxkaXYgY2xhc3M9ImJ0dG4td3JhcHBlciIgaWQ9ImJ0dG4td3JhcHBlci0nK3RoaXMuX2lkKyciPicpLHRoaXMuJGJ0dG5fd3JhcHBlcj10aGlzLiRlZGl0b3IuZmluZCgiI2J0dG4td3JhcHBlci0iK3RoaXMuX2lkKSx0aGlzLm1vYmlsZSgpJiZ0aGlzLiRidHRuX3dyYXBwZXIuYWRkQ2xhc3MoInRvdWNoIik7Zm9yKHZhciBjLGQsZT0iIixmPTA7Zjx0aGlzLm9wdGlvbnMuYnV0dG9ucy5sZW5ndGg7ZisrKXt2YXIgZz10aGlzLm9wdGlvbnMuYnV0dG9uc1tmXTtpZigic2VwIiE9Zyl7dmFyIGg9Yi5jb21tYW5kc1tnXTtpZih2b2lkIDAhPT1oKXtoLmNtZD1nO3ZhciBpPXRoaXMuY29tbWFuZF9kaXNwYXRjaGVyW2guY21kXTtpP2UrPWkuYXBwbHkodGhpcyxbaF0pOmguc2VlZD8oYz10aGlzLmJ1aWxkRGVmYXVsdERyb3Bkb3duKGgpLGQ9dGhpcy5idWlsZERyb3Bkb3duQnV0dG9uKGgsYyksZSs9ZCk6KGQ9dGhpcy5idWlsZERlZmF1bHRCdXR0b24oaCksZSs9ZCx0aGlzLmJpbmRSZWZyZXNoTGlzdGVuZXIoaCkpfWVsc2V7aWYoaD10aGlzLm9wdGlvbnMuY3VzdG9tQnV0dG9uc1tnXSx2b2lkIDA9PT1oKXtpZihoPXRoaXMub3B0aW9ucy5jdXN0b21Ecm9wZG93bnNbZ10sdm9pZCAwPT09aCljb250aW51ZTtkPXRoaXMuYnVpbGRDdXN0b21Ecm9wZG93bihoLGcpLGUrPWQsdGhpcy5iaW5kUmVmcmVzaExpc3RlbmVyKGgpO2NvbnRpbnVlfWQ9dGhpcy5idWlsZEN1c3RvbUJ1dHRvbihoLGcpLGUrPWQsdGhpcy5iaW5kUmVmcmVzaExpc3RlbmVyKGgpfX1lbHNlIGUrPXRoaXMub3B0aW9ucy5pbmxpbmVNb2RlPyc8ZGl2IGNsYXNzPSJmLWNsZWFyIj48L2Rpdj48aHIvPic6JzxzcGFuIGNsYXNzPSJmLXNlcCI+PC9zcGFuPid9dGhpcy4kYnR0bl93cmFwcGVyLmh0bWwoZSksdGhpcy4kYnR0bl93cmFwcGVyLmZpbmQoJ2J1dHRvbltkYXRhLWNtZD0idW5kbyJdLCBidXR0b25bZGF0YS1jbWQ9InJlZG8iXScpLnByb3AoImRpc2FibGVkIiwhMCksdGhpcy5iaW5kQnV0dG9uRXZlbnRzKCl9LGIucHJvdG90eXBlLmJpbmRSZWZyZXNoTGlzdGVuZXI9ZnVuY3Rpb24oYil7Yi5yZWZyZXNoJiZ0aGlzLmFkZExpc3RlbmVyKCJyZWZyZXNoIixhLnByb3h5KGZ1bmN0aW9uKCl7Yi5yZWZyZXNoLmFwcGx5KHRoaXMsW2IuY21kXSl9LHRoaXMpKX0sYi5wcm90b3R5cGUuYnVpbGREZWZhdWx0QnV0dG9uPWZ1bmN0aW9uKGEpe3ZhciBiPSc8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImZyLWJ0dG4iIHRpdGxlPSInK2EudGl0bGUrJyIgZGF0YS1jbWQ9IicrYS5jbWQrJyI+JztyZXR1cm4gYis9dm9pZCAwPT09dGhpcy5vcHRpb25zLmljb25zW2EuY21kXT90aGlzLmFkZEJ1dHRvbkljb24oYSk6dGhpcy5wcmVwYXJlSWNvbih0aGlzLm9wdGlvbnMuaWNvbnNbYS5jbWRdLGEudGl0bGUpLGIrPSI8L2J1dHRvbj4ifSxiLnByb3RvdHlwZS5wcmVwYXJlSWNvbj1mdW5jdGlvbihhLGIpe3N3aXRjaChhLnR5cGUpe2Nhc2UiZm9udCI6cmV0dXJuIHRoaXMuYWRkQnV0dG9uSWNvbih7aWNvbjphLnZhbHVlfSk7Y2FzZSJpbWciOnJldHVybiB0aGlzLmFkZEJ1dHRvbkljb24oe2ljb25faW1nOmEudmFsdWUsdGl0bGU6Yn0pO2Nhc2UidHh0IjpyZXR1cm4gdGhpcy5hZGRCdXR0b25JY29uKHtpY29uX3R4dDphLnZhbHVlfSl9fSxiLnByb3RvdHlwZS5hZGRCdXR0b25JY29uPWZ1bmN0aW9uKGEpe3JldHVybiBhLmljb24/JzxpIGNsYXNzPSInK2EuaWNvbisnIj48L2k+JzphLmljb25fYWx0Pyc8aSBjbGFzcz0iZm9yLXRleHQiPicrYS5pY29uX2FsdCsiPC9pPiI6YS5pY29uX2ltZz8nPGltZyBzcmM9IicrYS5pY29uX2ltZysnIiBhbHQ9IicrYS50aXRsZSsnIi8+JzphLmljb25fdHh0PyI8aT4iK2EuaWNvbl90eHQrIjwvaT4iOmEudGl0bGV9LGIucHJvdG90eXBlLmJ1aWxkQ3VzdG9tQnV0dG9uPWZ1bmN0aW9uKGEsYil7dGhpc1siY2FsbF8iK2JdPWEuY2FsbGJhY2s7dmFyIGM9JzxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iZnItYnR0biIgZGF0YS1jYWxsYmFjaz0iY2FsbF8nK2IrJyIgZGF0YS1jbWQ9ImJ1dHRvbl9uYW1lIiBkYXRhLW5hbWU9IicrYisnIiB0aXRsZT0iJythLnRpdGxlKyciPicrdGhpcy5wcmVwYXJlSWNvbihhLmljb24sYS50aXRsZSkrIjwvYnV0dG9uPiI7cmV0dXJuIGN9LGIucHJvdG90eXBlLmNhbGxEcm9wZG93bj1mdW5jdGlvbihiLGMpe3RoaXMuJGJ0dG5fd3JhcHBlci5vbigiY2xpY2sgdG91Y2giLCdbZGF0YS1uYW1lPSInK2IrJyJdJyxhLnByb3h5KGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpLGMuYXBwbHkodGhpcyl9LHRoaXMpKX0sYi5wcm90b3R5cGUuYnVpbGRDdXN0b21Ecm9wZG93bj1mdW5jdGlvbihhLGIpe3ZhciBjPSc8ZGl2IGNsYXNzPSJmci1idHRuIGZyLWRyb3Bkb3duIj4nO2MrPSc8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImZyLXRyaWdnZXIiIHRpdGxlPSInK2EudGl0bGUrJyIgZGF0YS1uYW1lPSInK2IrJyI+Jyt0aGlzLnByZXBhcmVJY29uKGEuaWNvbixhLnRpdGxlKSsiPC9idXR0b24+IixjKz0nPHVsIGNsYXNzPSJmci1kcm9wZG93bi1tZW51Ij4nO3ZhciBkPTA7Zm9yKHZhciBlIGluIGEub3B0aW9ucyl7dGhpc1siY2FsbF8iK2IrZF09YS5vcHRpb25zW2VdO3ZhciBmPSc8bGkgZGF0YS1jYWxsYmFjaz0iY2FsbF8nK2IrZCsnIiBkYXRhLWNtZD0iJytiK2QrJyIgZGF0YS1uYW1lPSInK2IrZCsnIj48YSBocmVmPSIjIj4nK2UrIjwvYT48L2xpPiI7Yys9ZixkKyt9cmV0dXJuIGMrPSI8L3VsPjwvZGl2PiJ9LGIucHJvdG90eXBlLmJ1aWxkRHJvcGRvd25CdXR0b249ZnVuY3Rpb24oYSxiLGMpe2M9Y3x8IiI7dmFyIGQ9JzxkaXYgY2xhc3M9ImZyLWJ0dG4gZnItZHJvcGRvd24gJytjKyciPicsZT0iIjtlKz12b2lkIDA9PT10aGlzLm9wdGlvbnMuaWNvbnNbYS5jbWRdP3RoaXMuYWRkQnV0dG9uSWNvbihhKTp0aGlzLnByZXBhcmVJY29uKHRoaXMub3B0aW9ucy5pY29uc1thLmNtZF0sYS50aXRsZSk7dmFyIGY9JzxidXR0b24gdHlwZT0iYnV0dG9uIiBkYXRhLW5hbWU9IicrYS5jbWQrJyIgY2xhc3M9ImZyLXRyaWdnZXIiIHRpdGxlPSInK2EudGl0bGUrJyI+JytlKyI8L2J1dHRvbj4iO3JldHVybiBkKz1mLGQrPWIsZCs9IjwvZGl2PiJ9LGIucHJvdG90eXBlLmJ1aWxkRHJvcGRvd25BbGlnbj1mdW5jdGlvbihhKXt0aGlzLmJpbmRSZWZyZXNoTGlzdGVuZXIoYSk7Zm9yKHZhciBiPSc8dWwgY2xhc3M9ImZyLWRyb3Bkb3duLW1lbnUgZi1hbGlnbiI+JyxjPTA7YzxhLnNlZWQubGVuZ3RoO2MrKyl7dmFyIGQ9YS5zZWVkW2NdO2IrPSc8bGkgZGF0YS1jbWQ9ImFsaWduIiBkYXRhLXZhbD0iJytkLmNtZCsnIiB0aXRsZT0iJytkLnRpdGxlKyciPjxhIGhyZWY9IiMiPjxpIGNsYXNzPSInK2QuaWNvbisnIj48L2k+PC9hPjwvbGk+J31yZXR1cm4gYis9IjwvdWw+In0sYi5wcm90b3R5cGUuYnVpbGREcm9wZG93bkZvcm1hdEJsb2NrPWZ1bmN0aW9uKGEpe3ZhciBiPSc8dWwgY2xhc3M9ImZyLWRyb3Bkb3duLW1lbnUiPic7Zm9yKHZhciBjIGluIHRoaXMub3B0aW9ucy5ibG9ja1RhZ3Mpe3ZhciBkPSc8bGkgZGF0YS1jbWQ9IicrYS5jbWQrJyIgZGF0YS12YWw9IicrYysnIj4nO2QrPSc8YSBocmVmPSIjIiBkYXRhLXRleHQ9InRydWUiIGNsYXNzPSJmb3JtYXQtJytjKyciIHRpdGxlPSInK3RoaXMub3B0aW9ucy5ibG9ja1RhZ3NbY10rJyI+Jyt0aGlzLm9wdGlvbnMuYmxvY2tUYWdzW2NdKyI8L2E+PC9saT4iLGIrPWR9cmV0dXJuIGIrPSI8L3VsPiJ9LGIucHJvdG90eXBlLmJ1aWxkRGVmYXVsdERyb3Bkb3duPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0nPHVsIGNsYXNzPSJmci1kcm9wZG93bi1tZW51Ij4nLGM9MDtjPGEuc2VlZC5sZW5ndGg7YysrKXt2YXIgZD1hLnNlZWRbY10sZT0nPGxpIGRhdGEtY21kPSInKyhkLmNtZHx8YS5jbWQpKyciIGRhdGEtdmFsPSInK2QudmFsdWUrJyIgZGF0YS1wYXJhbT0iJysoZC5wYXJhbXx8YS5wYXJhbSkrJyI+JztlKz0nPGEgaHJlZj0iIyIgZGF0YS10ZXh0PSJ0cnVlIiBjbGFzcz0iJytkLnZhbHVlKyciIHRpdGxlPSInK2QudGl0bGUrJyI+JytkLnRpdGxlKyI8L2E+PC9saT4iLGIrPWV9cmV0dXJuIGIrPSI8L3VsPiJ9LGIucHJvdG90eXBlLmNyZWF0ZUVkaXRQb3B1cEhUTUw9ZnVuY3Rpb24oKXt2YXIgYT0nPGRpdiBjbGFzcz0iZnJvYWxhLXBvcHVwIGZyb2FsYS10ZXh0LXBvcHVwIiBzdHlsZT0iZGlzcGxheTpub25lOyI+JztyZXR1cm4gYSs9JzxoND48c3BhbiBkYXRhLXRleHQ9InRydWUiPkVkaXQgdGV4dDwvc3Bhbj48aSB0aXRsZT0iQ2FuY2VsIiBjbGFzcz0iZmEgZmEtdGltZXMiIGlkPSJmLXRleHQtY2xvc2UtJyt0aGlzLl9pZCsnIj48L2k+PC9oND48L2g0PicsYSs9JzxkaXYgY2xhc3M9ImYtcG9wdXAtbGluZSI+PGlucHV0IHR5cGU9InRleHQiIHBsYWNlaG9sZGVyPSJodHRwOi8vd3d3LmV4YW1wbGUuY29tIiBjbGFzcz0iZi1sdSIgaWQ9ImYtdGktJyt0aGlzLl9pZCsnIj4nLGErPSc8YnV0dG9uIGRhdGEtdGV4dD0idHJ1ZSIgdHlwZT0iYnV0dG9uIiBjbGFzcz0iZi1vayIgaWQ9ImYtZWRpdC1wb3B1cC1vay0nK3RoaXMuX2lkKyciPk9LPC9idXR0b24+JyxhKz0iPC9kaXY+IixhKz0iPC9kaXY+In0sYi5wcm90b3R5cGUuYnVpbGRFZGl0UG9wdXA9ZnVuY3Rpb24oKXt0aGlzLiRlZGl0X3BvcHVwX3dyYXBwZXI9YSh0aGlzLmNyZWF0ZUVkaXRQb3B1cEhUTUwoKSksdGhpcy4kcG9wdXBfZWRpdG9yLmFwcGVuZCh0aGlzLiRlZGl0X3BvcHVwX3dyYXBwZXIpLHRoaXMuJGVkaXRfcG9wdXBfd3JhcHBlci5maW5kKCIjZi10aS0iK3RoaXMuX2lkKS5vbigibW91c2V1cCBrZXlkb3duIixmdW5jdGlvbihhKXthLnN0b3BQcm9wYWdhdGlvbigpfSksdGhpcy5hZGRMaXN0ZW5lcigiaGlkZVBvcHVwcyIsYS5wcm94eShmdW5jdGlvbigpe3RoaXMuJGVkaXRfcG9wdXBfd3JhcHBlci5oaWRlKCl9LHRoaXMpKSx0aGlzLiRlZGl0X3BvcHVwX3dyYXBwZXIub24oImNsaWNrIiwiI2YtZWRpdC1wb3B1cC1vay0iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LnRleHQodGhpcy4kZWRpdF9wb3B1cF93cmFwcGVyLmZpbmQoIiNmLXRpLSIrdGhpcy5faWQpLnZhbCgpKSx0aGlzLnN5bmMoKSx0aGlzLmhpZGUoKX0sdGhpcykpLHRoaXMuJGVkaXRfcG9wdXBfd3JhcHBlci5vbigiY2xpY2siLCJpI2YtdGV4dC1jbG9zZS0iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmhpZGUoKX0sdGhpcykpfSxiLnByb3RvdHlwZS5jcmVhdGVDT1JTUmVxdWVzdD1mdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBYTUxIdHRwUmVxdWVzdDtpZigid2l0aENyZWRlbnRpYWxzImluIGMpe2Mub3BlbihhLGIsITApLHRoaXMub3B0aW9ucy53aXRoQ3JlZGVudGlhbHMmJihjLndpdGhDcmVkZW50aWFscz0hMCk7Zm9yKHZhciBkIGluIHRoaXMub3B0aW9ucy5oZWFkZXJzKWMuc2V0UmVxdWVzdEhlYWRlcihkLHRoaXMub3B0aW9ucy5oZWFkZXJzW2RdKX1lbHNlInVuZGVmaW5lZCIhPXR5cGVvZiBYRG9tYWluUmVxdWVzdD8oYz1uZXcgWERvbWFpblJlcXVlc3QsYy5vcGVuKGEsYikpOmM9bnVsbDtyZXR1cm4gY30sYi5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKGIpe3JldHVybiBhLmluQXJyYXkoYix0aGlzLm9wdGlvbnMuYnV0dG9ucyk+PTB9LGIucHJvdG90eXBlLmJpbmRCdXR0b25FdmVudHM9ZnVuY3Rpb24oKXt0aGlzLmJpbmREcm9wZG93bkV2ZW50cygpLHRoaXMuYmluZENvbW1hbmRFdmVudHModGhpcy4kYnR0bl93cmFwcGVyKX0sYi5wcm90b3R5cGUuYmluZERyb3Bkb3duRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGM9dGhpczt0aGlzLiRidHRuX3dyYXBwZXIub24odGhpcy5tb3VzZWRvd24sIi5mci1kcm9wZG93biAuZnItdHJpZ2dlcjpub3QoW2Rpc2FibGVkXSkiLGZ1bmN0aW9uKGIpe3JldHVybiJtb3VzZWRvd24iPT09Yi50eXBlJiYxIT09Yi53aGljaD8hMDooIkxJIj09PXRoaXMudGFnTmFtZSYmInRvdWNoc3RhcnQiPT09Yi50eXBlJiZjLmFuZHJvaWQoKXx8Yy5pT1MoKXx8Yi5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgYSh0aGlzKS5hdHRyKCJkYXRhLWRvd24iLCEwKSl9KSx0aGlzLiRidHRuX3dyYXBwZXIub24odGhpcy5tb3VzZXVwLCIuZnItZHJvcGRvd24gLmZyLXRyaWdnZXI6bm90KFtkaXNhYmxlZF0pIixmdW5jdGlvbihkKXtpZihjLmlzRGlzYWJsZWQpcmV0dXJuITE7aWYoZC5zdG9wUHJvcGFnYXRpb24oKSxkLnByZXZlbnREZWZhdWx0KCksIWEodGhpcykuYXR0cigiZGF0YS1kb3duIikpcmV0dXJuIGEoIltkYXRhLWRvd25dIikucmVtb3ZlQXR0cigiZGF0YS1kb3duIiksITE7YSgiW2RhdGEtZG93bl0iKS5yZW1vdmVBdHRyKCJkYXRhLWRvd24iKSxjLm9wdGlvbnMuaW5saW5lTW9kZT09PSExJiZjLmhpZGUoKSxhKHRoaXMpLnRvZ2dsZUNsYXNzKCJhY3RpdmUiKS50cmlnZ2VyKCJibHVyIiksYy5jbG9zZUltYWdlTW9kZSgpLGMuaW1hZ2VNb2RlPSExO3ZhciBlLGY9YSh0aGlzKS5hdHRyKCJkYXRhLW5hbWUiKTtyZXR1cm4gYi5jb21tYW5kc1tmXT9lPWIuY29tbWFuZHNbZl0ucmVmcmVzaE9uU2hvdzpjLm9wdGlvbnMuY3VzdG9tRHJvcGRvd25zW2ZdJiYoZT1jLm9wdGlvbnMuY3VzdG9tRHJvcGRvd25zW2ZdLnJlZnJlc2hPblNob3cpLGUmJmUuY2FsbChjKSxjLiRidHRuX3dyYXBwZXIuZmluZCgiLmZyLWRyb3Bkb3duIikubm90KGEodGhpcykucGFyZW50KCkpLmZpbmQoIi5mci10cmlnZ2VyIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpLCExfSksdGhpcy4kYnR0bl93cmFwcGVyLm9uKHRoaXMubW91c2V1cCwiLmZyLWRyb3Bkb3duIixmdW5jdGlvbihhKXthLnN0b3BQcm9wYWdhdGlvbigpLGEucHJldmVudERlZmF1bHQoKX0pLGEod2luZG93KS5vbigibW91c2V1cCBzZWxlY3Rpb25jaGFuZ2UiLGEucHJveHkoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0Rpc2FibGVkPyExOnZvaWQgdGhpcy4kYnR0bl93cmFwcGVyLmZpbmQoIi5mci1kcm9wZG93biAuZnItdHJpZ2dlciIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKX0sdGhpcykpLHRoaXMuJGVsZW1lbnQub24oIm1vdXNldXAiLCJpbWcsIGEiLGEucHJveHkoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0Rpc2FibGVkPyExOnZvaWQgdGhpcy4kYnR0bl93cmFwcGVyLmZpbmQoIi5mci1kcm9wZG93biAuZnItdHJpZ2dlciIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKX0sdGhpcykpLHRoaXMuJGJ0dG5fd3JhcHBlci5vbigiY2xpY2siLCJsaVtkYXRhLWNtZF0gPiBhIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCl9KX0sYi5wcm90b3R5cGUuYmluZENvbW1hbmRFdmVudHM9ZnVuY3Rpb24oYil7dmFyIGM9dGhpcztiLm9uKHRoaXMubW91c2Vkb3duLCJidXR0b25bZGF0YS1jbWRdLCBsaVtkYXRhLWNtZF0sIHNwYW5bZGF0YS1jbWRdLCBhW2RhdGEtY21kXSIsZnVuY3Rpb24oYil7cmV0dXJuIm1vdXNlZG93biI9PT1iLnR5cGUmJjEhPT1iLndoaWNoPyEwOigiTEkiPT09dGhpcy50YWdOYW1lJiYidG91Y2hzdGFydCI9PT1iLnR5cGUmJmMuYW5kcm9pZCgpfHxjLmlPUygpfHxiLnByZXZlbnREZWZhdWx0KCksdm9pZCBhKHRoaXMpLmF0dHIoImRhdGEtZG93biIsITApKX0pLGIub24odGhpcy5tb3VzZXVwKyIgIit0aGlzLm1vdmUsImJ1dHRvbltkYXRhLWNtZF0sIGxpW2RhdGEtY21kXSwgc3BhbltkYXRhLWNtZF0sIGFbZGF0YS1jbWRdIixhLnByb3h5KGZ1bmN0aW9uKGIpe2lmKGMuaXNEaXNhYmxlZClyZXR1cm4hMTtpZigibW91c2V1cCI9PT1iLnR5cGUmJjEhPT1iLndoaWNoKXJldHVybiEwO3ZhciBkPWIuY3VycmVudFRhcmdldDtpZigidG91Y2htb3ZlIiE9Yi50eXBlKXtpZihiLnN0b3BQcm9wYWdhdGlvbigpLGIucHJldmVudERlZmF1bHQoKSwhYShkKS5hdHRyKCJkYXRhLWRvd24iKSlyZXR1cm4gYSgiW2RhdGEtZG93bl0iKS5yZW1vdmVBdHRyKCJkYXRhLWRvd24iKSwhMTtpZihhKCJbZGF0YS1kb3duXSIpLnJlbW92ZUF0dHIoImRhdGEtZG93biIpLGEoZCkuZGF0YSgiZHJhZ2dpbmciKSlyZXR1cm4gYShkKS5yZW1vdmVEYXRhKCJkcmFnZ2luZyIpLCExO3ZhciBlPWEoZCkuZGF0YSgidGltZW91dCIpO2UmJihjbGVhclRpbWVvdXQoZSksYShkKS5yZW1vdmVEYXRhKCJ0aW1lb3V0IikpO3ZhciBmPWEoZCkuZGF0YSgiY2FsbGJhY2siKTtpZihmKWNbZl0oKTtlbHNle3ZhciBnPWEoZCkuYXR0cigiZGF0YS1jbWQiKSxoPWEoZCkuYXR0cigiZGF0YS12YWwiKSxpPWEoZCkuYXR0cigiZGF0YS1wYXJhbSIpO2MuZXhlYyhnLGgsaSksYy4kYnR0bl93cmFwcGVyLmZpbmQoIi5mci1kcm9wZG93biAuZnItdHJpZ2dlciIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKX1yZXR1cm4hMX1hKGQpLmRhdGEoInRpbWVvdXQiKXx8YShkKS5kYXRhKCJ0aW1lb3V0IixzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YShkKS5kYXRhKCJkcmFnZ2luZyIsITApfSwyMDApKX0sdGhpcykpfSxiLnByb3RvdHlwZS51bmRvPWZ1bmN0aW9uKCl7aWYodGhpcy5ub192ZXJpZnk9ITAsdGhpcy51bmRvSW5kZXg+MSl7Y2xlYXJUaW1lb3V0KHRoaXMudHlwaW5nVGltZXIpO3ZhciBhPXRoaXMuZ2V0SFRNTCgpLGI9dGhpcy51bmRvU3RhY2tbLS10aGlzLnVuZG9JbmRleC0xXTt0aGlzLiRlbGVtZW50Lmh0bWwoYiksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCksdGhpcy5kb2luZ1JlZG89ITAsdGhpcy50cmlnZ2VyRXZlbnQoInVuZG8iLFt0aGlzLmdldEhUTUwoKSxhXSksdGhpcy5kb2luZ1JlZG89ITEsIiIhPT10aGlzLnRleHQoKT90aGlzLnJlcG9zaXRpb25FZGl0b3IoKTp0aGlzLmhpZGUoKSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoInBsYWNlaG9sZGVyQ2hlY2siKSx0aGlzLmZvY3VzKCksdGhpcy5yZWZyZXNoQnV0dG9ucygpfXRoaXMubm9fdmVyaWZ5PSExfSxiLnByb3RvdHlwZS5yZWRvPWZ1bmN0aW9uKCl7aWYodGhpcy5ub192ZXJpZnk9ITAsdGhpcy51bmRvSW5kZXg8dGhpcy51bmRvU3RhY2subGVuZ3RoKXtjbGVhclRpbWVvdXQodGhpcy50eXBpbmdUaW1lcik7dmFyIGE9dGhpcy5nZXRIVE1MKCksYj10aGlzLnVuZG9TdGFja1t0aGlzLnVuZG9JbmRleCsrXTt0aGlzLiRlbGVtZW50Lmh0bWwoYiksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCksdGhpcy5kb2luZ1JlZG89ITAsdGhpcy50cmlnZ2VyRXZlbnQoInJlZG8iLFt0aGlzLmdldEhUTUwoKSxhXSksdGhpcy5kb2luZ1JlZG89ITEsIiIhPT10aGlzLnRleHQoKT90aGlzLnJlcG9zaXRpb25FZGl0b3IoKTp0aGlzLmhpZGUoKSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoInBsYWNlaG9sZGVyQ2hlY2siKSx0aGlzLmZvY3VzKCksdGhpcy5yZWZyZXNoQnV0dG9ucygpfXRoaXMubm9fdmVyaWZ5PSExfSxiLnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKCl7aWYoIXRoaXMudHJpZ2dlckV2ZW50KCJiZWZvcmVTYXZlIixbXSwhMSkpcmV0dXJuITE7aWYodGhpcy5vcHRpb25zLnNhdmVVUkwpe3ZhciBiPXt9O2Zvcih2YXIgYyBpbiB0aGlzLm9wdGlvbnMuc2F2ZVBhcmFtcyl7dmFyIGQ9dGhpcy5vcHRpb25zLnNhdmVQYXJhbXNbY107YltjXT0iZnVuY3Rpb24iPT10eXBlb2YgZD9kLmNhbGwodGhpcyk6ZH1hLmFqYXgoe3R5cGU6dGhpcy5vcHRpb25zLnNhdmVSZXF1ZXN0VHlwZSx1cmw6dGhpcy5vcHRpb25zLnNhdmVVUkwsZGF0YTphLmV4dGVuZCh7Ym9keTp0aGlzLmdldEhUTUwoKX0sdGhpcy5vcHRpb25zLnNhdmVQYXJhbXMpLGNyb3NzRG9tYWluOnRoaXMub3B0aW9ucy5jcm9zc0RvbWFpbix4aHJGaWVsZHM6e3dpdGhDcmVkZW50aWFsczp0aGlzLm9wdGlvbnMud2l0aENyZWRlbnRpYWxzfSxoZWFkZXJzOnRoaXMub3B0aW9ucy5oZWFkZXJzfSkuZG9uZShhLnByb3h5KGZ1bmN0aW9uKGEpe3RoaXMudHJpZ2dlckV2ZW50KCJhZnRlclNhdmUiLFthXSl9LHRoaXMpKS5mYWlsKGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLnRyaWdnZXJFdmVudCgic2F2ZUVycm9yIixbIlNhdmUgcmVxdWVzdCBmYWlsZWQgb24gdGhlIHNlcnZlci4iXSl9LHRoaXMpKX1lbHNlIHRoaXMudHJpZ2dlckV2ZW50KCJzYXZlRXJyb3IiLFsiTWlzc2luZyBzYXZlIFVSTC4iXSl9LGIucHJvdG90eXBlLnNhbml0aXplVVJMPWZ1bmN0aW9uKGEpe2lmKC9eaHR0cHM/OlwvXC8vLnRlc3QoYSkpe2E9U3RyaW5nKGEpLnJlcGxhY2UoLzwvZywiJTNDIikucmVwbGFjZSgvPi9nLCIlM0UiKS5yZXBsYWNlKC8iL2csIiUyMiIpLnJlcGxhY2UoLyAvZywiJTIwIik7dmFyIGI9L1woPyg/OihodHRwfGh0dHBzfGZ0cCk6XC9cLyk/KD86KCg/OlteXFdcc118XC58LXxbOl17MX0pKylAezF9KT8oKD86d3d3Lik/KD86W15cV1xzXXxcLnwtKStbXC5dW15cV1xzXXsyLDR9fCg/Ond3dy4pPyg/OlteXFdcc118XC58LSl8bG9jYWxob3N0fFxkezEsM31cLlxkezEsM31cLlxkezEsM31cLlxkezEsM30pKD86OihcZCopKT8oW1wvXT9bXlxzXD9dKltcL117MX0pKig/OlwvPyhbXlxzXG5cP1xbXF1ce1x9XCNdKig/Oig/PVwuKSl7MX18W15cc1xuXD9cW1xdXHtcfVwuXCNdKik/KFtcLl17MX1bXlxzXD9cI10qKT8pPyg/Olw/ezF9KFteXHNcblwjXFtcXV0qKSk/KFtcI11bXlxzXG5dKik/XCk/L2dpOwppZighYi50ZXN0KGEpKXJldHVybiIifWVsc2UgYT1lbmNvZGVVUklDb21wb25lbnQoYSkucmVwbGFjZSgvJTIzL2csIiMiKS5yZXBsYWNlKC8lMkYvZywiLyIpLnJlcGxhY2UoLyUyNS9nLCIlIikucmVwbGFjZSgvbWFpbHRvJTNBL2csIm1haWx0bzoiKS5yZXBsYWNlKC90ZWwlM0EvZywidGVsOiIpLnJlcGxhY2UoL2RhdGElM0FpbWFnZS9nLCJkYXRhOmltYWdlIikucmVwbGFjZSgvd2Via2l0LWZha2UtdXJsJTNBL2csIndlYmtpdC1mYWtlLXVybDoiKS5yZXBsYWNlKC8lM0YvZywiPyIpLnJlcGxhY2UoLyUzRC9nLCI9IikucmVwbGFjZSgvJTI2L2csIiYiKS5yZXBsYWNlKC8mYW1wOy9nLCImIikucmVwbGFjZSgvJTJDL2csIiwiKS5yZXBsYWNlKC8lM0IvZywiOyIpLnJlcGxhY2UoLyUyQi9nLCIrIikucmVwbGFjZSgvJTQwL2csIkAiKTtyZXR1cm4gYX0sYi5wcm90b3R5cGUub3B0aW9uPWZ1bmN0aW9uKGIsYyl7aWYodm9pZCAwPT09YilyZXR1cm4gdGhpcy5vcHRpb25zO2lmKGIgaW5zdGFuY2VvZiBPYmplY3QpdGhpcy5vcHRpb25zPWEuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyxiKSx0aGlzLmluaXRPcHRpb25zKCksdGhpcy5zZXRDdXN0b21UZXh0KCksdGhpcy5zZXRMYW5ndWFnZSgpO2Vsc2V7aWYodm9pZCAwPT09YylyZXR1cm4gdGhpcy5vcHRpb25zW2JdO3N3aXRjaCh0aGlzLm9wdGlvbnNbYl09YyxiKXtjYXNlImRpcmVjdGlvbiI6dGhpcy5zZXREaXJlY3Rpb24oKTticmVhaztjYXNlImhlaWdodCI6Y2FzZSJ3aWR0aCI6Y2FzZSJtaW5IZWlnaHQiOmNhc2UibWF4SGVpZ2h0Ijp0aGlzLnNldERpbWVuc2lvbnMoKTticmVhaztjYXNlInNwZWxsY2hlY2siOnRoaXMuc2V0U3BlbGxjaGVjaygpO2JyZWFrO2Nhc2UicGxhY2Vob2xkZXIiOnRoaXMuc2V0UGxhY2Vob2xkZXIoKTticmVhaztjYXNlImN1c3RvbVRleHQiOnRoaXMuc2V0Q3VzdG9tVGV4dCgpO2JyZWFrO2Nhc2UibGFuZ3VhZ2UiOnRoaXMuc2V0TGFuZ3VhZ2UoKTticmVhaztjYXNlInRleHROZWFySW1hZ2UiOnRoaXMuc2V0VGV4dE5lYXJJbWFnZSgpO2JyZWFrO2Nhc2UiekluZGV4Ijp0aGlzLnNldFpJbmRleCgpO2JyZWFrO2Nhc2UidGhlbWUiOnRoaXMuc2V0VGhlbWUoKX19fTt2YXIgYz1hLmZuLmVkaXRhYmxlO2EuZm4uZWRpdGFibGU9ZnVuY3Rpb24oYyl7Zm9yKHZhciBkPVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKWQucHVzaChhcmd1bWVudHNbZV0pO2lmKCJzdHJpbmciPT10eXBlb2YgYyl7dmFyIGY9W107cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksZT1iLmRhdGEoImZhLmVkaXRhYmxlIik7aWYoIWVbY10pcmV0dXJuIGEuZXJyb3IoIk1ldGhvZCAiK2MrIiBkb2VzIG5vdCBleGlzdCBpbiBGcm9hbGEgRWRpdG9yLiIpO3ZhciBnPWVbY10uYXBwbHkoZSxkLnNsaWNlKDEpKTt2b2lkIDA9PT1nP2YucHVzaCh0aGlzKTowPT09Zi5sZW5ndGgmJmYucHVzaChnKX0pLDE9PWYubGVuZ3RoP2ZbMF06Zn1yZXR1cm4ib2JqZWN0IiE9dHlwZW9mIGMmJmM/dm9pZCAwOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPXRoaXMsZT1hKGQpLGY9ZS5kYXRhKCJmYS5lZGl0YWJsZSIpO2Z8fGUuZGF0YSgiZmEuZWRpdGFibGUiLGY9bmV3IGIoZCxjKSl9KX0sYS5mbi5lZGl0YWJsZS5Db25zdHJ1Y3Rvcj1iLGEuRWRpdGFibGU9YixhLmZuLmVkaXRhYmxlLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYS5mbi5lZGl0YWJsZT1jLHRoaXN9fSh3aW5kb3cualF1ZXJ5KSxmdW5jdGlvbihhKXthLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoQnV0dG9ucz1mdW5jdGlvbihiKXtpZighKHRoaXMuc2VsZWN0aW9uSW5FZGl0b3IoKSYmIXRoaXMuaXNIVE1MfHx0aGlzLmJyb3dzZXIubXNpZSYmYS5FZGl0YWJsZS5nZXRJRXZlcnNpb24oKTw5fHxiKSlyZXR1cm4hMTt0aGlzLiRlZGl0b3IuZmluZCgiYnV0dG9uW2RhdGEtY21kXSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKTtmb3IodmFyIGM9MDtjPHRoaXMub3B0aW9ucy5idXR0b25zLmxlbmd0aDtjKyspe3ZhciBkPXRoaXMub3B0aW9ucy5idXR0b25zW2NdO2lmKHZvaWQgMCE9PWEuRWRpdGFibGUuY29tbWFuZHNbZF0pe3ZhciBlPSExO2EuaXNGdW5jdGlvbihhLkVkaXRhYmxlLmNvbW1hbmRzW2RdLmRpc2FibGVkKT9lPWEuRWRpdGFibGUuY29tbWFuZHNbZF0uZGlzYWJsZWQuYXBwbHkodGhpcyk6dm9pZCAwIT09YS5FZGl0YWJsZS5jb21tYW5kc1tkXS5kaXNhYmxlZCYmKGU9ITApLGU/dGhpcy4kZWRpdG9yLmZpbmQoJ2J1dHRvbltkYXRhLW5hbWU9IicrZCsnIl0nKS5wcm9wKCJkaXNhYmxlZCIsITApOnRoaXMuJGVkaXRvci5maW5kKCdidXR0b25bZGF0YS1uYW1lPSInK2QrJyJdJykucmVtb3ZlQXR0cigiZGlzYWJsZWQiKX19dGhpcy5yYWlzZUV2ZW50KCJyZWZyZXNoIil9LGEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hGb3JtYXRCbG9ja3M9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFNlbGVjdGlvbkVsZW1lbnRzKClbMF0sYj1hLnRhZ05hbWUudG9Mb3dlckNhc2UoKTt0aGlzLm9wdGlvbnMucGFyYWdyYXBoeSYmInAiPT09YiYmKGI9Im4iKSx0aGlzLiRlZGl0b3IuZmluZCgnLmZyLWJ0dG4gPiBidXR0b25bZGF0YS1uYW1lPSJmb3JtYXRCbG9jayJdICsgdWwgbGknKS5yZW1vdmVDbGFzcygiYWN0aXZlIiksdGhpcy4kYnR0bl93cmFwcGVyLmZpbmQoJy5mci1idHRuID4gYnV0dG9uW2RhdGEtbmFtZT0iZm9ybWF0QmxvY2siXSArIHVsIGxpW2RhdGEtdmFsPSInK2IrJyJdJykuYWRkQ2xhc3MoImFjdGl2ZSIpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoVW5kbz1mdW5jdGlvbigpe2lmKHRoaXMuaXNFbmFibGVkKCJ1bmRvIikpe2lmKHZvaWQgMD09PXRoaXMuJGVkaXRvcilyZXR1cm47dGhpcy4kYnR0bl93cmFwcGVyLmZpbmQoJ1tkYXRhLWNtZD0idW5kbyJdJykucmVtb3ZlQXR0cigiZGlzYWJsZWQiKSwoMD09PXRoaXMudW5kb1N0YWNrLmxlbmd0aHx8dGhpcy51bmRvSW5kZXg8PTF8fHRoaXMuaXNIVE1MKSYmdGhpcy4kYnR0bl93cmFwcGVyLmZpbmQoJ1tkYXRhLWNtZD0idW5kbyJdJykucHJvcCgiZGlzYWJsZWQiLCEwKX19LGEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hSZWRvPWZ1bmN0aW9uKCl7aWYodGhpcy5pc0VuYWJsZWQoInJlZG8iKSl7aWYodm9pZCAwPT09dGhpcy4kZWRpdG9yKXJldHVybjt0aGlzLiRidHRuX3dyYXBwZXIuZmluZCgnW2RhdGEtY21kPSJyZWRvIl0nKS5yZW1vdmVBdHRyKCJkaXNhYmxlZCIpLCh0aGlzLnVuZG9JbmRleD09dGhpcy51bmRvU3RhY2subGVuZ3RofHx0aGlzLmlzSFRNTCkmJnRoaXMuJGJ0dG5fd3JhcHBlci5maW5kKCdbZGF0YS1jbWQ9InJlZG8iXScpLnByb3AoImRpc2FibGVkIiwhMCl9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoRGVmYXVsdD1mdW5jdGlvbihhKXt0cnl7ZG9jdW1lbnQucXVlcnlDb21tYW5kU3RhdGUoYSk9PT0hMCYmdGhpcy4kZWRpdG9yLmZpbmQoJ1tkYXRhLWNtZD0iJythKyciXScpLmFkZENsYXNzKCJhY3RpdmUiKX1jYXRjaChiKXt9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoQWxpZ249ZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMuZ2V0U2VsZWN0aW9uRWxlbWVudHMoKVswXSk7dGhpcy4kZWRpdG9yLmZpbmQoJy5mci1kcm9wZG93biA+IGJ1dHRvbltkYXRhLW5hbWU9ImFsaWduIl0gKyB1bCBsaScpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKTt2YXIgYyxkPWIuY3NzKCJ0ZXh0LWFsaWduIik7WyJsZWZ0IiwicmlnaHQiLCJqdXN0aWZ5IiwiY2VudGVyIl0uaW5kZXhPZihkKTwwJiYoZD0ibGVmdCIpLCJsZWZ0Ij09ZD9jPSJqdXN0aWZ5TGVmdCI6InJpZ2h0Ij09ZD9jPSJqdXN0aWZ5UmlnaHQiOiJqdXN0aWZ5Ij09ZD9jPSJqdXN0aWZ5RnVsbCI6ImNlbnRlciI9PWQmJihjPSJqdXN0aWZ5Q2VudGVyIiksdGhpcy4kZWRpdG9yLmZpbmQoJy5mci1kcm9wZG93biA+IGJ1dHRvbltkYXRhLW5hbWU9ImFsaWduIl0uZnItdHJpZ2dlciBpJykuYXR0cigiY2xhc3MiLCJmYSBmYS1hbGlnbi0iK2QpLHRoaXMuJGVkaXRvci5maW5kKCcuZnItZHJvcGRvd24gPiBidXR0b25bZGF0YS1uYW1lPSJhbGlnbiJdICsgdWwgbGlbZGF0YS12YWw9IicrYysnIl0nKS5hZGRDbGFzcygiYWN0aXZlIil9LGEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hIVE1MPWZ1bmN0aW9uKCl7dGhpcy5pc0FjdGl2ZSgiaHRtbCIpP3RoaXMuJGVkaXRvci5maW5kKCdbZGF0YS1jbWQ9Imh0bWwiXScpLmFkZENsYXNzKCJhY3RpdmUiKTp0aGlzLiRlZGl0b3IuZmluZCgnW2RhdGEtY21kPSJodG1sIl0nKS5yZW1vdmVDbGFzcygiYWN0aXZlIil9fShqUXVlcnkpLGZ1bmN0aW9uKGEpe2EuRWRpdGFibGUuY29tbWFuZHM9e2JvbGQ6e3RpdGxlOiJCb2xkIixpY29uOiJmYSBmYS1ib2xkIixzaG9ydGN1dDoiKEN0cmwgKyBCKSIscmVmcmVzaDphLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoRGVmYXVsdCx1bmRvOiEwLGNhbGxiYWNrV2l0aG91dFNlbGVjdGlvbjpmdW5jdGlvbihhKXt0aGlzLl9zdGFydEluRGVmYXVsdChhKX19LGl0YWxpYzp7dGl0bGU6Ikl0YWxpYyIsaWNvbjoiZmEgZmEtaXRhbGljIixzaG9ydGN1dDoiKEN0cmwgKyBJKSIscmVmcmVzaDphLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoRGVmYXVsdCx1bmRvOiEwLGNhbGxiYWNrV2l0aG91dFNlbGVjdGlvbjpmdW5jdGlvbihhKXt0aGlzLl9zdGFydEluRGVmYXVsdChhKX19LHVuZGVybGluZTp7Y21kOiJ1bmRlcmxpbmUiLHRpdGxlOiJVbmRlcmxpbmUiLGljb246ImZhIGZhLXVuZGVybGluZSIsc2hvcnRjdXQ6IihDdHJsICsgVSkiLHJlZnJlc2g6YS5FZGl0YWJsZS5wcm90b3R5cGUucmVmcmVzaERlZmF1bHQsdW5kbzohMCxjYWxsYmFja1dpdGhvdXRTZWxlY3Rpb246ZnVuY3Rpb24oYSl7dGhpcy5fc3RhcnRJbkRlZmF1bHQoYSl9fSxzdHJpa2VUaHJvdWdoOnt0aXRsZToiU3RyaWtldGhyb3VnaCIsaWNvbjoiZmEgZmEtc3RyaWtldGhyb3VnaCIscmVmcmVzaDphLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoRGVmYXVsdCx1bmRvOiEwLGNhbGxiYWNrV2l0aG91dFNlbGVjdGlvbjpmdW5jdGlvbihhKXt0aGlzLl9zdGFydEluRGVmYXVsdChhKX19LHN1YnNjcmlwdDp7dGl0bGU6IlN1YnNjcmlwdCIsaWNvbjoiZmEgZmEtc3Vic2NyaXB0IixyZWZyZXNoOmEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hEZWZhdWx0LHVuZG86ITAsY2FsbGJhY2tXaXRob3V0U2VsZWN0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuX3N0YXJ0SW5EZWZhdWx0KGEpfX0sc3VwZXJzY3JpcHQ6e3RpdGxlOiJTdXBlcnNjcmlwdCIsaWNvbjoiZmEgZmEtc3VwZXJzY3JpcHQiLHJlZnJlc2g6YS5FZGl0YWJsZS5wcm90b3R5cGUucmVmcmVzaERlZmF1bHQsdW5kbzohMCxjYWxsYmFja1dpdGhvdXRTZWxlY3Rpb246ZnVuY3Rpb24oYSl7dGhpcy5fc3RhcnRJbkRlZmF1bHQoYSl9fSxmb3JtYXRCbG9jazp7dGl0bGU6IkZvcm1hdCBCbG9jayIsaWNvbjoiZmEgZmEtcGFyYWdyYXBoIixyZWZyZXNoT25TaG93OmEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hGb3JtYXRCbG9ja3MsY2FsbGJhY2s6ZnVuY3Rpb24oYSxiKXt0aGlzLmZvcm1hdEJsb2NrKGIpfSx1bmRvOiEwfSxhbGlnbjp7dGl0bGU6IkFsaWdubWVudCIsaWNvbjoiZmEgZmEtYWxpZ24tbGVmdCIscmVmcmVzaDphLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoQWxpZ24scmVmcmVzaE9uU2hvdzphLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoQWxpZ24sc2VlZDpbe2NtZDoianVzdGlmeUxlZnQiLHRpdGxlOiJBbGlnbiBMZWZ0IixpY29uOiJmYSBmYS1hbGlnbi1sZWZ0In0se2NtZDoianVzdGlmeUNlbnRlciIsdGl0bGU6IkFsaWduIENlbnRlciIsaWNvbjoiZmEgZmEtYWxpZ24tY2VudGVyIn0se2NtZDoianVzdGlmeVJpZ2h0Iix0aXRsZToiQWxpZ24gUmlnaHQiLGljb246ImZhIGZhLWFsaWduLXJpZ2h0In0se2NtZDoianVzdGlmeUZ1bGwiLHRpdGxlOiJKdXN0aWZ5IixpY29uOiJmYSBmYS1hbGlnbi1qdXN0aWZ5In1dLGNhbGxiYWNrOmZ1bmN0aW9uKGEsYil7dGhpcy5hbGlnbihiKX0sdW5kbzohMH0sb3V0ZGVudDp7dGl0bGU6IkluZGVudCBMZXNzIixpY29uOiJmYSBmYS1kZWRlbnQiLGFjdGl2ZWxlc3M6ITAsc2hvcnRjdXQ6IihDdHJsICsgPCkiLGNhbGxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5vdXRkZW50KCEwKX0sdW5kbzohMH0saW5kZW50Ont0aXRsZToiSW5kZW50IE1vcmUiLGljb246ImZhIGZhLWluZGVudCIsYWN0aXZlbGVzczohMCxzaG9ydGN1dDoiKEN0cmwgKyA+KSIsY2FsbGJhY2s6ZnVuY3Rpb24oKXt0aGlzLmluZGVudCgpfSx1bmRvOiEwfSxzZWxlY3RBbGw6e3RpdGxlOiJTZWxlY3QgQWxsIixpY29uOiJmYSBmYS1maWxlLXRleHQiLHNob3J0Y3V0OiIoQ3RybCArIEEpIixjYWxsYmFjazpmdW5jdGlvbihhLGIpe3RoaXMuJGVsZW1lbnQuZm9jdXMoKSx0aGlzLmV4ZWNEZWZhdWx0KGEsYil9LHVuZG86ITF9LGNyZWF0ZUxpbms6e3RpdGxlOiJJbnNlcnQgTGluayIsaWNvbjoiZmEgZmEtbGluayIsc2hvcnRjdXQ6IihDdHJsICsgSykiLGNhbGxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5pbnNlcnRMaW5rKCl9LHVuZG86ITF9LGluc2VydEltYWdlOnt0aXRsZToiSW5zZXJ0IEltYWdlIixpY29uOiJmYSBmYS1waWN0dXJlLW8iLGFjdGl2ZWxlc3M6ITAsc2hvcnRjdXQ6IihDdHJsICsgUCkiLGNhbGxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5pbnNlcnRJbWFnZSgpfSx1bmRvOiExfSx1bmRvOnt0aXRsZToiVW5kbyIsaWNvbjoiZmEgZmEtdW5kbyIsYWN0aXZlbGVzczohMCxzaG9ydGN1dDoiKEN0cmwrWikiLHJlZnJlc2g6YS5FZGl0YWJsZS5wcm90b3R5cGUucmVmcmVzaFVuZG8sY2FsbGJhY2s6ZnVuY3Rpb24oKXt0aGlzLnVuZG8oKX0sdW5kbzohMX0scmVkbzp7dGl0bGU6IlJlZG8iLGljb246ImZhIGZhLXJlcGVhdCIsYWN0aXZlbGVzczohMCxzaG9ydGN1dDoiKFNoaWZ0K0N0cmwrWikiLHJlZnJlc2g6YS5FZGl0YWJsZS5wcm90b3R5cGUucmVmcmVzaFJlZG8sY2FsbGJhY2s6ZnVuY3Rpb24oKXt0aGlzLnJlZG8oKX0sdW5kbzohMX0saHRtbDp7dGl0bGU6IlNob3cgSFRNTCIsaWNvbjoiZmEgZmEtY29kZSIscmVmcmVzaDphLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoSFRNTCxjYWxsYmFjazpmdW5jdGlvbigpe3RoaXMuaHRtbCgpfSx1bmRvOiExfSxzYXZlOnt0aXRsZToiU2F2ZSIsaWNvbjoiZmEgZmEtZmxvcHB5LW8iLGNhbGxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5zYXZlKCl9LHVuZG86ITF9LGluc2VydEhvcml6b250YWxSdWxlOnt0aXRsZToiSW5zZXJ0IEhvcml6b250YWwgTGluZSIsaWNvbjoiZmEgZmEtbWludXMiLGNhbGxiYWNrOmZ1bmN0aW9uKGEpe3RoaXMuaW5zZXJ0SFIoYSl9LHVuZG86ITB9LHJlbW92ZUZvcm1hdDp7dGl0bGU6IkNsZWFyIGZvcm1hdHRpbmciLGljb246ImZhIGZhLWVyYXNlciIsYWN0aXZlbGVzczohMCxjYWxsYmFjazpmdW5jdGlvbigpe3RoaXMucmVtb3ZlRm9ybWF0KCl9LHVuZG86ITB9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKGIsYyxkKXtyZXR1cm4hdGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpJiZhLkVkaXRhYmxlLmNvbW1hbmRzW2JdLnVuZG8mJnRoaXMuZm9jdXMoKSx0aGlzLnNlbGVjdGlvbkluRWRpdG9yKCkmJiIiPT09dGhpcy50ZXh0KCkmJmEuRWRpdGFibGUuY29tbWFuZHNbYl0uY2FsbGJhY2tXaXRob3V0U2VsZWN0aW9uPyhhLkVkaXRhYmxlLmNvbW1hbmRzW2JdLmNhbGxiYWNrV2l0aG91dFNlbGVjdGlvbi5hcHBseSh0aGlzLFtiLGMsZF0pLCExKTp2b2lkKGEuRWRpdGFibGUuY29tbWFuZHNbYl0uY2FsbGJhY2s/YS5FZGl0YWJsZS5jb21tYW5kc1tiXS5jYWxsYmFjay5hcHBseSh0aGlzLFtiLGMsZF0pOnRoaXMuZXhlY0RlZmF1bHQoYixjKSl9LGEuRWRpdGFibGUucHJvdG90eXBlLmh0bWw9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmlzSFRNTD8odGhpcy5pc0hUTUw9ITEsYT10aGlzLiRodG1sX2FyZWEudmFsKCksYT10aGlzLmNsZWFuKGEsITAsITEpLHRoaXMuJGJveC5yZW1vdmVDbGFzcygiZi1odG1sIiksdGhpcy4kaHRtbF9hcmVhLmJsdXIoKSx0aGlzLm5vX3ZlcmlmeT0hMCx0aGlzLiRlbGVtZW50Lmh0bWwoYSksdGhpcy5jbGVhbnVwTGlzdHMoKSx0aGlzLmNsZWFuaWZ5KCExKSx0aGlzLm5vX3ZlcmlmeT0hMSx0aGlzLiRlbGVtZW50LmF0dHIoImNvbnRlbnRlZGl0YWJsZSIsITApLHRoaXMuJGVkaXRvci5maW5kKCcuZnItYnR0bjpub3QoW2RhdGEtY21kPSJodG1sIl0pLCAuZnItdHJpZ2dlcicpLnJlbW92ZUF0dHIoImRpc2FibGVkIiksdGhpcy4kZWRpdG9yLmZpbmQoJy5mci1idHRuW2RhdGEtY21kPSJodG1sIl0nKS5yZW1vdmVDbGFzcygiYWN0aXZlIiksdGhpcy5vcHRpb25zLnBhcmFncmFwaHkmJnRoaXMud3JhcFRleHQoKSx0aGlzLiRlbGVtZW50LmJsdXIoKSx0aGlzLmZvY3VzKCksdGhpcy5yZWZyZXNoQnV0dG9ucygpLHRoaXMudHJpZ2dlckV2ZW50KCJodG1sSGlkZSIsW2FdLCEwLCEwKSk6KHRoaXMuJGJveC5yZW1vdmVDbGFzcygiZi1wbGFjZWhvbGRlciIpLHRoaXMuY2xlYW5pZnkoITEpLGE9dGhpcy5vcHRpb25zLmlubGluZU1vZGU/IlxuXG4iK3RoaXMuY2xlYW5UYWdzKHRoaXMuZ2V0SFRNTCghMSwhMSkpOnRoaXMuY2xlYW5UYWdzKHRoaXMuZ2V0SFRNTCghMSwhMSkpLGE9YS5yZXBsYWNlKC9cJmFtcDsvZywiJiIpLHRoaXMuJGh0bWxfYXJlYS52YWwoYSkudHJpZ2dlcigicmVzaXplIiksdGhpcy4kaHRtbF9hcmVhLmNzcygiaGVpZ2h0Iix0aGlzLiRlbGVtZW50LmhlaWdodCgpLTEpLHRoaXMuJGVsZW1lbnQuaHRtbCgiIikuYXBwZW5kKHRoaXMuJGh0bWxfYXJlYSkucmVtb3ZlQXR0cigiY29udGVudGVkaXRhYmxlIiksdGhpcy4kYm94LmFkZENsYXNzKCJmLWh0bWwiKSx0aGlzLiRlZGl0b3IuZmluZCgnYnV0dG9uLmZyLWJ0dG46bm90KFtkYXRhLWNtZD0iaHRtbCJdKSwgYnV0dG9uLmZyLXRyaWdnZXInKS5hdHRyKCJkaXNhYmxlZCIsITApLHRoaXMuJGVkaXRvci5maW5kKCcuZnItYnR0bltkYXRhLWNtZD0iaHRtbCJdJykuYWRkQ2xhc3MoImFjdGl2ZSIpLHRoaXMuaGlkZSgpLHRoaXMuaW1hZ2VNb2RlPSExLHRoaXMuaXNIVE1MPSEwLHRoaXMuJGVsZW1lbnQuYmx1cigpLHRoaXMuJGVsZW1lbnQucmVtb3ZlQXR0cigiY29udGVudGVkaXRhYmxlIiksdGhpcy50cmlnZ2VyRXZlbnQoImh0bWxTaG93IixbYV0sITAsITEpKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaW5zZXJ0SFI9ZnVuY3Rpb24oYil7dGhpcy4kZWxlbWVudC5maW5kKCJociIpLmFkZENsYXNzKCJmci10YWciKSx0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJmLXBsYWNlaG9sZGVyIik/YSh0aGlzLiRlbGVtZW50LmZpbmQoIj4gIit0aGlzLnZhbGlkX25vZGVzLmpvaW4oIiwgPiIpKVswXSkuYmVmb3JlKCI8aHIvPiIpOmRvY3VtZW50LmV4ZWNDb21tYW5kKGIpLHRoaXMuaGlkZSgpO3ZhciBjPXRoaXMuJGVsZW1lbnQuZmluZCgiaHI6bm90KC5mci10YWcpIikubmV4dCh0aGlzLnZhbGlkX25vZGVzLmpvaW4oIiwiKSk7Yy5sZW5ndGg+MD9hKGNbMF0pLnByZXBlbmQodGhpcy5tYXJrZXJzX2h0bWwpOnRoaXMuJGVsZW1lbnQuZmluZCgiaHI6bm90KC5mci10YWcpIikuYWZ0ZXIodGhpcy5tYXJrZXJzX2h0bWwpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpLHRoaXMudHJpZ2dlckV2ZW50KGIsW10sITAsITEpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5mb3JtYXRCbG9jaz1mdW5jdGlvbihiLGMsZCl7aWYodGhpcy5kaXNhYmxlZExpc3QuaW5kZXhPZigiZm9ybWF0QmxvY2siKT49MClyZXR1cm4hMTtpZih0aGlzLmJyb3dzZXIubXNpZSYmYS5FZGl0YWJsZS5nZXRJRXZlcnNpb24oKTw5KXJldHVybiBkb2N1bWVudC5leGVjQ29tbWFuZCgiZm9ybWF0QmxvY2siLCExLCI8IitiKyI+IiksITE7dGhpcy5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzKCksdGhpcy53cmFwVGV4dCgpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpO3ZhciBlPXRoaXMuZ2V0U2VsZWN0aW9uRWxlbWVudHMoKTtlWzBdPT10aGlzLiRlbGVtZW50LmdldCgwKSYmKGU9dGhpcy4kZWxlbWVudC5maW5kKCI+ICIrdGhpcy52YWxpZF9ub2Rlcy5qb2luKCIsID4iKSkpLHRoaXMuc2F2ZVNlbGVjdGlvbkJ5TWFya2VycygpO2Zvcih2YXIgZixnPWZ1bmN0aW9uKGEpe3JldHVybiBhLmdldCYmWyJMSSIsIlREIiwiVEgiXS5pbmRleE9mKGEuZ2V0KDApLnRhZ05hbWUpPj0wPyEwOiExfSxoPTA7aDxlLmxlbmd0aDtoKyspe3ZhciBpPWEoZVtoXSk7aWYoIXRoaXMuZmFrZUVtcHR5KGkpKWlmKGY9Im4iPT1iP3RoaXMub3B0aW9ucy5wYXJhZ3JhcGh5P2EoIjxwPiIpLmh0bWwoaS5odG1sKCkpOmkuaHRtbCgpKyI8YnIvPiI6YSgiPCIrYisiPiIpLmh0bWwoaS5odG1sKCkpLGkuZ2V0KDApPT10aGlzLiRlbGVtZW50LmdldCgwKXx8ZyhmKSlpLmh0bWwoZik7ZWxzZXt2YXIgaj1pLnByb3AoImF0dHJpYnV0ZXMiKTtpZihmLmF0dHIpZm9yKHZhciBrPTA7azxqLmxlbmd0aDtrKyspImNsYXNzIiE9PWpba10ubmFtZSYmZi5hdHRyKGpba10ubmFtZSxqW2tdLnZhbHVlKTt2YXIgbDt0aGlzLm9wdGlvbnMuYmxvY2tTdHlsZXMmJnRoaXMub3B0aW9ucy5ibG9ja1N0eWxlc1tiXSx2b2lkIDA9PT1sJiYobD10aGlzLm9wdGlvbnMuZGVmYXVsdEJsb2NrU3R5bGUpO3RyeXtpZihpLmhhc0NsYXNzKGMpJiZpLmdldCgwKS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PT1iKWYuYWRkQ2xhc3MoaS5hdHRyKCJjbGFzcyIpKS5yZW1vdmVDbGFzcyhjKTtlbHNle2lmKHZvaWQgMD09PWkuYXR0cigiY2xhc3MiKXx8dm9pZCAwPT09bHx8IXRoaXMub3B0aW9ucy5ibG9ja1N0eWxlc1RvZ2dsZSYmInRvZ2dsZSIhPWQpZi5hZGRDbGFzcyhpLmF0dHIoImNsYXNzIikpO2Vsc2UgZm9yKHZhciBtPWkuYXR0cigiY2xhc3MiKS5zcGxpdCgiICIpLG49MDtuPG0ubGVuZ3RoO24rKyl7dmFyIG89bVtuXTt2b2lkIDA9PT1sW29dJiZ2b2lkIDA9PT1kP2YuYWRkQ2xhc3Mobyk6dm9pZCAwIT09bFtvXSYmInRvZ2dsZSI9PT1kJiZmLmFkZENsYXNzKG8pLGkuZ2V0KDApLnRhZ05hbWUudG9Mb3dlckNhc2UoKSE9PWImJnZvaWQgMCE9PWxbb10mJmYuYWRkQ2xhc3Mobyl9IioiIT1jJiZmLmFkZENsYXNzKGMpfX1jYXRjaChwKXt9ZyhpKT9pLmh0bWwoZik6aS5yZXBsYWNlV2l0aChmKX19dGhpcy51bndyYXBUZXh0KCksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCksdGhpcy50cmlnZ2VyRXZlbnQoImZvcm1hdEJsb2NrIiksdGhpcy5yZXBvc2l0aW9uRWRpdG9yKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLmFsaWduPWZ1bmN0aW9uKGIpe2lmKHRoaXMuYnJvd3Nlci5tc2llJiZhLkVkaXRhYmxlLmdldElFdmVyc2lvbigpPDkpcmV0dXJuIGRvY3VtZW50LmV4ZWNDb21tYW5kKGIsITEsITEpLCExO3RoaXMuc2F2ZVNlbGVjdGlvbkJ5TWFya2VycygpO3ZhciBjPXRoaXMuZ2V0U2VsZWN0aW9uRWxlbWVudHMoKTsianVzdGlmeUxlZnQiPT1iP2I9ImxlZnQiOiJqdXN0aWZ5UmlnaHQiPT1iP2I9InJpZ2h0IjoianVzdGlmeUNlbnRlciI9PWI/Yj0iY2VudGVyIjoianVzdGlmeUZ1bGwiPT1iJiYoYj0ianVzdGlmeSIpO2Zvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKWEoY1tkXSkuY3NzKCJ0ZXh0LWFsaWduIixiKTt0aGlzLnJlcG9zaXRpb25FZGl0b3IoKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLnRyaWdnZXJFdmVudCgiYWxpZ24iLFtiXSl9LGEuRWRpdGFibGUucHJvdG90eXBlLmluZGVudD1mdW5jdGlvbihiKXtpZih0aGlzLmJyb3dzZXIubXNpZSYmYS5FZGl0YWJsZS5nZXRJRXZlcnNpb24oKTw5KXJldHVybiBiP2RvY3VtZW50LmV4ZWNDb21tYW5kKCJvdXRkZW50IiwhMSwhMSk6ZG9jdW1lbnQuZXhlY0NvbW1hbmQoImluZGVudCIsITEsITEpLCExO3ZhciBjPTIwO2ImJihjPS0yMCksdGhpcy5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzKCksdGhpcy53cmFwVGV4dCgpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpO3ZhciBkPXRoaXMuZ2V0U2VsZWN0aW9uRWxlbWVudHMoKTt0aGlzLnNhdmVTZWxlY3Rpb25CeU1hcmtlcnMoKTtmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9YShkW2VdKTtpZihmLnBhcmVudHNVbnRpbCh0aGlzLiRlbGVtZW50LCJsaSIpLmxlbmd0aD4wJiYoZj1mLmNsb3Nlc3QoImxpIikpLCJMSSI9PT1mLmdldCgwKS50YWdOYW1lJiZhLmlzRnVuY3Rpb24odGhpcy5pbmRlbnRMaSkpYj90aGlzLm91dGRlbnRMaShmKTp0aGlzLmluZGVudExpKGYpO2Vsc2UgaWYoZi5nZXQoMCkhPXRoaXMuJGVsZW1lbnQuZ2V0KDApKXt2YXIgZz1wYXJzZUludChmLmNzcygibWFyZ2luLWxlZnQiKS5yZXBsYWNlKC9weC8sIiIpLDEwKSxoPU1hdGgubWF4KDAsZytjKTtmLmNzcygibWFyZ2luTGVmdCIsaCl9ZWxzZXt2YXIgaT1hKCI8ZGl2PiIpLmh0bWwoZi5odG1sKCkpO2YuaHRtbChpKSxpLmNzcygibWFyZ2luTGVmdCIsTWF0aC5tYXgoMCxjKSl9fXRoaXMuY2xlYW51cExpc3RzKCksdGhpcy5vcHRpb25zLnBhcmFncmFwaHkmJnRoaXMud3JhcFRleHQoITApLHRoaXMudW53cmFwVGV4dCgpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpLHRoaXMucmVwb3NpdGlvbkVkaXRvcigpLGJ8fHRoaXMudHJpZ2dlckV2ZW50KCJpbmRlbnQiKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUub3V0ZGVudD1mdW5jdGlvbigpe3RoaXMuaW5kZW50KCEwKSx0aGlzLnRyaWdnZXJFdmVudCgib3V0ZGVudCIpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5leGVjRGVmYXVsdD1mdW5jdGlvbihhLGIpe2RvY3VtZW50LmV4ZWNDb21tYW5kKGEsITEsYiksdGhpcy50cmlnZ2VyRXZlbnQoYSxbXSwhMCwhMCl9LGEuRWRpdGFibGUucHJvdG90eXBlLl9zdGFydEluRGVmYXVsdD1mdW5jdGlvbihhKXt0aGlzLmZvY3VzKCksZG9jdW1lbnQuZXhlY0NvbW1hbmQoYSwhMSwhMSksdGhpcy5yZWZyZXNoQnV0dG9ucygpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5fc3RhcnRJbkZvbnRFeGVjPWZ1bmN0aW9uKGIsYyxkKXt0aGlzLmZvY3VzKCk7dHJ5e3ZhciBlPXRoaXMuZ2V0UmFuZ2UoKSxmPWUuY2xvbmVSYW5nZSgpO2YuY29sbGFwc2UoITEpO3ZhciBnPWEoJzxzcGFuIGRhdGEtaW5zZXJ0ZWQ9InRydWUiIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiIHN0eWxlPSInK2IrIjogIitkKyc7Ij4mIzgyMDM7PC9zcGFuPicsZG9jdW1lbnQpO2YuaW5zZXJ0Tm9kZShnWzBdKSxnPXRoaXMuJGVsZW1lbnQuZmluZCgiW2RhdGEtaW5zZXJ0ZWRdIiksZy5yZW1vdmVBdHRyKCJkYXRhLWluc2VydGVkIiksdGhpcy5zZXRTZWxlY3Rpb24oZy5nZXQoMCksMSl9Y2F0Y2goaCl7fX0sYS5FZGl0YWJsZS5wcm90b3R5cGUucmVtb3ZlRm9ybWF0PWZ1bmN0aW9uKCl7ZG9jdW1lbnQuZXhlY0NvbW1hbmQoInJlbW92ZUZvcm1hdCIsITEsITEpLGRvY3VtZW50LmV4ZWNDb21tYW5kKCJ1bmxpbmsiLCExLCExKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaW5saW5lU3R5bGU9ZnVuY3Rpb24oYixjLGQpe2lmKHRoaXMuYnJvd3Nlci53ZWJraXQmJiJmb250LXNpemUiIT1iKXt2YXIgZT1mdW5jdGlvbihhKXtyZXR1cm4gYS5hdHRyKCJzdHlsZSIpLmluZGV4T2YoImZvbnQtc2l6ZSIpPj0wfTt0aGlzLiRlbGVtZW50LmZpbmQoInNwYW4iKS5lYWNoKGZ1bmN0aW9uKGIsYyl7dmFyIGQ9YShjKTtkLmF0dHIoInN0eWxlIikmJmUoZCkmJihkLmRhdGEoImZvbnQtc2l6ZSIsZC5jc3MoImZvbnQtc2l6ZSIpKSxkLmNzcygiZm9udC1zaXplIiwiIikpfSl9ZG9jdW1lbnQuZXhlY0NvbW1hbmQoImZvbnRTaXplIiwhMSw0KSx0aGlzLnNhdmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLmJyb3dzZXIud2Via2l0JiYiZm9udC1zaXplIiE9YiYmdGhpcy4kZWxlbWVudC5maW5kKCJzcGFuIikuZWFjaChmdW5jdGlvbihiLGMpe3ZhciBkPWEoYyk7ZC5kYXRhKCJmb250LXNpemUiKSYmKGQuY3NzKCJmb250LXNpemUiLGQuZGF0YSgiZm9udC1zaXplIikpLGQucmVtb3ZlRGF0YSgiZm9udC1zaXplIikpfSk7dmFyIGY9ZnVuY3Rpb24oYyxlKXt2YXIgZj1hKGUpO2YuY3NzKGIpIT1kJiZmLmNzcyhiLCIiKSwiIj09PWYuYXR0cigic3R5bGUiKSYmZi5yZXBsYWNlV2l0aChmLmh0bWwoKSl9O3RoaXMuJGVsZW1lbnQuZmluZCgiZm9udCIpLmVhY2goZnVuY3Rpb24oYyxlKXt2YXIgZz1hKCc8c3BhbiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIiBzdHlsZT0iJytiKyI6ICIrZCsnOyI+JythKGUpLmh0bWwoKSsiPC9zcGFuPiIpO2EoZSkucmVwbGFjZVdpdGgoZyksZy5maW5kKCJzcGFuIikuZWFjaChmKX0pLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpLHRoaXMucmVwb3NpdGlvbkVkaXRvcigpLHRoaXMudHJpZ2dlckV2ZW50KGMsW2RdLCEwLCEwKX19KGpRdWVyeSksZnVuY3Rpb24oYSl7YS5FZGl0YWJsZS5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl9ldmVudHMsZD1jW2FdPWNbYV18fFtdO2QucHVzaChiKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUucmFpc2VFdmVudD1mdW5jdGlvbihhLGIpe3ZvaWQgMD09PWImJihiPVtdKTt2YXIgYz0hMCxkPXRoaXMuX2V2ZW50c1thXTtpZihkKWZvcih2YXIgZT0wLGY9ZC5sZW5ndGg7Zj5lO2UrKyl7dmFyIGc9ZFtlXS5hcHBseSh0aGlzLGIpO3ZvaWQgMCE9PWcmJmMhPT0hMSYmKGM9Zyl9cmV0dXJuIHZvaWQgMD09PWMmJihjPSEwKSxjfX0oalF1ZXJ5KSxmdW5jdGlvbihhKXthLkVkaXRhYmxlLnByb3RvdHlwZS5tYXJrZXJzX2h0bWw9JzxzcGFuIGNsYXNzPSJmLW1hcmtlciIgZGF0YS10eXBlPSJmYWxzZSIgZGF0YS1pZD0iMCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPjxzcGFuIGNsYXNzPSJmLW1hcmtlciIgZGF0YS10eXBlPSJ0cnVlIiBkYXRhLWlkPSIwIiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIj48L3NwYW4+JyxhLkVkaXRhYmxlLnByb3RvdHlwZS50ZXh0PWZ1bmN0aW9uKCl7dmFyIGE9IiI7cmV0dXJuIHdpbmRvdy5nZXRTZWxlY3Rpb24/YT13aW5kb3cuZ2V0U2VsZWN0aW9uKCk6ZG9jdW1lbnQuZ2V0U2VsZWN0aW9uP2E9ZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCk6ZG9jdW1lbnQuc2VsZWN0aW9uJiYoYT1kb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKS50ZXh0KSxhLnRvU3RyaW5nKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLnNlbGVjdGlvbkluRWRpdG9yPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5nZXRTZWxlY3Rpb25QYXJlbnQoKSxjPSExO3JldHVybiBiPT10aGlzLiRlbGVtZW50LmdldCgwKSYmKGM9ITApLGM9PT0hMSYmYShiKS5wYXJlbnRzKCkuZWFjaChhLnByb3h5KGZ1bmN0aW9uKGEsYil7Yj09dGhpcy4kZWxlbWVudC5nZXQoMCkmJihjPSEwKX0sdGhpcykpLGN9LGEuRWRpdGFibGUucHJvdG90eXBlLmdldFNlbGVjdGlvbj1mdW5jdGlvbigpe3ZhciBhPSIiO3JldHVybiBhPXdpbmRvdy5nZXRTZWxlY3Rpb24/d2luZG93LmdldFNlbGVjdGlvbigpOmRvY3VtZW50LmdldFNlbGVjdGlvbj9kb2N1bWVudC5nZXRTZWxlY3Rpb24oKTpkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZ2V0UmFuZ2U9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFJhbmdlcygpO3JldHVybiBhLmxlbmd0aD4wP2FbMF06bnVsbH0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZ2V0UmFuZ2VzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRTZWxlY3Rpb24oKTtpZihhLmdldFJhbmdlQXQmJmEucmFuZ2VDb3VudCl7Zm9yKHZhciBiPVtdLGM9MDtjPGEucmFuZ2VDb3VudDtjKyspYi5wdXNoKGEuZ2V0UmFuZ2VBdChjKSk7cmV0dXJuIGJ9cmV0dXJuIGRvY3VtZW50LmNyZWF0ZVJhbmdlP1tkb2N1bWVudC5jcmVhdGVSYW5nZSgpXTpbXX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuY2xlYXJTZWxlY3Rpb249ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFNlbGVjdGlvbigpO3RyeXthLnJlbW92ZUFsbFJhbmdlcz9hLnJlbW92ZUFsbFJhbmdlcygpOmEuZW1wdHk/YS5lbXB0eSgpOmEuY2xlYXImJmEuY2xlYXIoKX1jYXRjaChiKXt9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25FbGVtZW50PWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5nZXRTZWxlY3Rpb24oKTtpZihiLnJhbmdlQ291bnQpe3ZhciBjPXRoaXMuZ2V0UmFuZ2UoKSxkPWMuc3RhcnRDb250YWluZXI7MSE9ZC5ub2RlVHlwZSYmKGQ9ZC5wYXJlbnROb2RlKTt2YXIgZT0hMTtkLmNoaWxkcmVuLmxlbmd0aD4wJiZkLmNoaWxkcmVuW2Muc3RhcnRPZmZzZXRdJiZhKGQuY2hpbGRyZW5bYy5zdGFydE9mZnNldF0pLnRleHQoKT09PXRoaXMudGV4dCgpJiYoZD1kLmNoaWxkcmVuW2Muc3RhcnRPZmZzZXRdLGU9ITApLCFlJiZkLmNoaWxkcmVuLmxlbmd0aD4wJiZhKGQuY2hpbGRyZW5bMF0pLnRleHQoKT09PXRoaXMudGV4dCgpJiZbIkJSIiwiSU1HIl0uaW5kZXhPZihkLmNoaWxkcmVuWzBdLnRhZ05hbWUpPDAmJihkPWQuY2hpbGRyZW5bMF0pO2Zvcih2YXIgZj1kO2YmJiJCT0RZIiE9Zi50YWdOYW1lOyl7aWYoZj09dGhpcy4kZWxlbWVudC5nZXQoMCkpcmV0dXJuIGQ7Zj1hKGYpLnBhcmVudCgpWzBdfX1yZXR1cm4gdGhpcy4kZWxlbWVudC5nZXQoMCl9LGEuRWRpdGFibGUucHJvdG90eXBlLmdldFNlbGVjdGlvblBhcmVudD1mdW5jdGlvbigpe3ZhciBiLGM9bnVsbDtyZXR1cm4gd2luZG93LmdldFNlbGVjdGlvbj8oYj13aW5kb3cuZ2V0U2VsZWN0aW9uKCksYi5yYW5nZUNvdW50JiYoYz1iLmdldFJhbmdlQXQoMCkuY29tbW9uQW5jZXN0b3JDb250YWluZXIsMSE9Yy5ub2RlVHlwZSYmKGM9Yy5wYXJlbnROb2RlKSkpOihiPWRvY3VtZW50LnNlbGVjdGlvbikmJiJDb250cm9sIiE9Yi50eXBlJiYoYz1iLmNyZWF0ZVJhbmdlKCkucGFyZW50RWxlbWVudCgpKSxudWxsIT1jJiYoYS5pbkFycmF5KHRoaXMuJGVsZW1lbnQuZ2V0KDApLGEoYykucGFyZW50cygpKT49MHx8Yz09dGhpcy4kZWxlbWVudC5nZXQoMCkpP2M6bnVsbH0sYS5FZGl0YWJsZS5wcm90b3R5cGUubm9kZUluUmFuZ2U9ZnVuY3Rpb24oYSxiKXt2YXIgYztpZihhLmludGVyc2VjdHNOb2RlKXJldHVybiBhLmludGVyc2VjdHNOb2RlKGIpO2M9Yi5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7dHJ5e2Muc2VsZWN0Tm9kZShiKX1jYXRjaChkKXtjLnNlbGVjdE5vZGVDb250ZW50cyhiKX1yZXR1cm4tMT09YS5jb21wYXJlQm91bmRhcnlQb2ludHMoUmFuZ2UuRU5EX1RPX1NUQVJULGMpJiYxPT1hLmNvbXBhcmVCb3VuZGFyeVBvaW50cyhSYW5nZS5TVEFSVF9UT19FTkQsYyl9LGEuRWRpdGFibGUucHJvdG90eXBlLmdldEVsZW1lbnRGcm9tTm9kZT1mdW5jdGlvbihiKXtmb3IoMSE9Yi5ub2RlVHlwZSYmKGI9Yi5wYXJlbnROb2RlKTtudWxsIT09YiYmdGhpcy52YWxpZF9ub2Rlcy5pbmRleE9mKGIudGFnTmFtZSk8MDspYj1iLnBhcmVudE5vZGU7cmV0dXJuIG51bGwhPWImJiJMSSI9PWIudGFnTmFtZSYmYShiKS5maW5kKHRoaXMudmFsaWRfbm9kZXMuam9pbigiLCIpKS5sZW5ndGg+MD9udWxsOmEubWFrZUFycmF5KGEoYikucGFyZW50cygpKS5pbmRleE9mKHRoaXMuJGVsZW1lbnQuZ2V0KDApKT49MD9iOm51bGx9LGEuRWRpdGFibGUucHJvdG90eXBlLm5leHROb2RlPWZ1bmN0aW9uKGEsYil7aWYoYS5oYXNDaGlsZE5vZGVzKCkpcmV0dXJuIGEuZmlyc3RDaGlsZDtmb3IoO2EmJiFhLm5leHRTaWJsaW5nJiZhIT1iOylhPWEucGFyZW50Tm9kZTtyZXR1cm4gYSYmYSE9Yj9hLm5leHRTaWJsaW5nOm51bGx9LGEuRWRpdGFibGUucHJvdG90eXBlLmdldFJhbmdlU2VsZWN0ZWROb2Rlcz1mdW5jdGlvbihhKXt2YXIgYj1bXSxjPWEuc3RhcnRDb250YWluZXIsZD1hLmVuZENvbnRhaW5lcjtpZihjPT1kJiYiVFIiIT1jLnRhZ05hbWUpe2lmKGMuaGFzQ2hpbGROb2RlcygpJiYwIT09Yy5jaGlsZHJlbi5sZW5ndGgpe2Zvcih2YXIgZT1jLmNoaWxkcmVuLGY9YS5zdGFydE9mZnNldDtmPGEuZW5kT2Zmc2V0O2YrKyllW2ZdJiZiLnB1c2goZVtmXSk7cmV0dXJuIDA9PT1iLmxlbmd0aCYmYi5wdXNoKGMpLGJ9cmV0dXJuW2NdfWlmKGM9PWQmJiJUUiI9PWMudGFnTmFtZSl7dmFyIGc9Yy5jaGlsZE5vZGVzLGg9YS5zdGFydE9mZnNldDtpZihnLmxlbmd0aD5oJiZoPj0wKXt2YXIgaT1nW2hdO2lmKCJURCI9PWkudGFnTmFtZXx8IlRIIj09aS50YWdOYW1lKXJldHVybltpXX19Zm9yKDtjJiZjIT1kOyliLnB1c2goYz10aGlzLm5leHROb2RlKGMsZCkpO2ZvcihjPWEuc3RhcnRDb250YWluZXI7YyYmYyE9YS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjspYi51bnNoaWZ0KGMpLGM9Yy5wYXJlbnROb2RlO3JldHVybiBifSxhLkVkaXRhYmxlLnByb3RvdHlwZS5nZXRTZWxlY3RlZE5vZGVzPWZ1bmN0aW9uKCl7aWYod2luZG93LmdldFNlbGVjdGlvbil7dmFyIGI9d2luZG93LmdldFNlbGVjdGlvbigpO2lmKCFiLmlzQ29sbGFwc2VkKXtmb3IodmFyIGM9dGhpcy5nZXRSYW5nZXMoKSxkPVtdLGU9MDtlPGMubGVuZ3RoO2UrKylkPWEubWVyZ2UoZCx0aGlzLmdldFJhbmdlU2VsZWN0ZWROb2RlcyhjW2VdKSk7cmV0dXJuIGR9aWYodGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpKXt2YXIgZj1iLmdldFJhbmdlQXQoMCkuc3RhcnRDb250YWluZXI7cmV0dXJuIDM9PWYubm9kZVR5cGU/W2YucGFyZW50Tm9kZV06W2ZdfX1yZXR1cm5bXX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uRWxlbWVudHM9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmdldFNlbGVjdGVkTm9kZXMoKSxjPVtdO3JldHVybiBhLmVhY2goYixhLnByb3h5KGZ1bmN0aW9uKGEsYil7aWYobnVsbCE9PWIpe3ZhciBkPXRoaXMuZ2V0RWxlbWVudEZyb21Ob2RlKGIpO2MuaW5kZXhPZihkKTwwJiZkIT10aGlzLiRlbGVtZW50LmdldCgwKSYmbnVsbCE9PWQmJmMucHVzaChkKX19LHRoaXMpKSwwPT09Yy5sZW5ndGgmJmMucHVzaCh0aGlzLiRlbGVtZW50LmdldCgwKSksY30sYS5FZGl0YWJsZS5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uTGluaz1mdW5jdGlvbigpe3ZhciBiPXRoaXMuZ2V0U2VsZWN0aW9uTGlua3MoKTtyZXR1cm4gYi5sZW5ndGg+MD9hKGJbMF0pLmF0dHIoImhyZWYiKTpudWxsfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zYXZlU2VsZWN0aW9uPWZ1bmN0aW9uKCl7aWYoIXRoaXMuc2VsZWN0aW9uRGlzYWJsZWQpe3RoaXMuc2F2ZWRSYW5nZXM9W107Zm9yKHZhciBhPXRoaXMuZ2V0UmFuZ2VzKCksYj0wO2I8YS5sZW5ndGg7YisrKXRoaXMuc2F2ZWRSYW5nZXMucHVzaChhW2JdLmNsb25lUmFuZ2UoKSl9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5yZXN0b3JlU2VsZWN0aW9uPWZ1bmN0aW9uKCl7aWYoIXRoaXMuc2VsZWN0aW9uRGlzYWJsZWQpe3ZhciBhLGIsYz10aGlzLmdldFNlbGVjdGlvbigpO2lmKHRoaXMuc2F2ZWRSYW5nZXMmJnRoaXMuc2F2ZWRSYW5nZXMubGVuZ3RoKWZvcihjLnJlbW92ZUFsbFJhbmdlcygpLGE9MCxiPXRoaXMuc2F2ZWRSYW5nZXMubGVuZ3RoO2I+YTthKz0xKWMuYWRkUmFuZ2UodGhpcy5zYXZlZFJhbmdlc1thXSl9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pbnNlcnRNYXJrZXJzQXRQb2ludD1mdW5jdGlvbihhKXt2YXIgYj1hLmNsaWVudFgsYz1hLmNsaWVudFk7dGhpcy5yZW1vdmVNYXJrZXJzKCk7dmFyIGQsZT1udWxsO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQuY2FyZXRQb3NpdGlvbkZyb21Qb2ludD8oZD1kb2N1bWVudC5jYXJldFBvc2l0aW9uRnJvbVBvaW50KGIsYyksZT1kb2N1bWVudC5jcmVhdGVSYW5nZSgpLGUuc2V0U3RhcnQoZC5vZmZzZXROb2RlLGQub2Zmc2V0KSxlLnNldEVuZChkLm9mZnNldE5vZGUsZC5vZmZzZXQpKToidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50LmNhcmV0UmFuZ2VGcm9tUG9pbnQmJihkPWRvY3VtZW50LmNhcmV0UmFuZ2VGcm9tUG9pbnQoYixjKSxlPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCksZS5zZXRTdGFydChkLnN0YXJ0Q29udGFpbmVyLGQuc3RhcnRPZmZzZXQpLGUuc2V0RW5kKGQuc3RhcnRDb250YWluZXIsZC5zdGFydE9mZnNldCkpLG51bGwhPT1lJiYidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5nZXRTZWxlY3Rpb24pe3ZhciBmPXdpbmRvdy5nZXRTZWxlY3Rpb24oKTtmLnJlbW92ZUFsbFJhbmdlcygpLGYuYWRkUmFuZ2UoZSl9ZWxzZSBpZigidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKXRyeXtlPWRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKCksZS5tb3ZlVG9Qb2ludChiLGMpO3ZhciBnPWUuZHVwbGljYXRlKCk7Zy5tb3ZlVG9Qb2ludChiLGMpLGUuc2V0RW5kUG9pbnQoIkVuZFRvRW5kIixnKSxlLnNlbGVjdCgpfWNhdGNoKGgpe310aGlzLnBsYWNlTWFya2VyKGUsITAsMCksdGhpcy5wbGFjZU1hcmtlcihlLCExLDApfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzPWZ1bmN0aW9uKCl7aWYoIXRoaXMuc2VsZWN0aW9uRGlzYWJsZWQpe3RoaXMuc2VsZWN0aW9uSW5FZGl0b3IoKXx8dGhpcy5mb2N1cygpLHRoaXMucmVtb3ZlTWFya2VycygpO2Zvcih2YXIgYT10aGlzLmdldFJhbmdlcygpLGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLnN0YXJ0Q29udGFpbmVyIT09ZG9jdW1lbnQpe3ZhciBjPWFbYl07dGhpcy5wbGFjZU1hcmtlcihjLCEwLGIpLHRoaXMucGxhY2VNYXJrZXIoYywhMSxiKX19fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5oYXNTZWxlY3Rpb25CeU1hcmtlcnM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiRlbGVtZW50LmZpbmQoJy5mLW1hcmtlcltkYXRhLXR5cGU9InRydWUiXScpO3JldHVybiBhLmxlbmd0aD4wPyEwOiExfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzPWZ1bmN0aW9uKGIpe2lmKHZvaWQgMD09PWImJihiPSEwKSwhdGhpcy5zZWxlY3Rpb25EaXNhYmxlZCl7dmFyIGM9dGhpcy4kZWxlbWVudC5maW5kKCcuZi1tYXJrZXJbZGF0YS10eXBlPSJ0cnVlIl0nKTtpZigwPT09Yy5sZW5ndGgpcmV0dXJuITE7dGhpcy4kZWxlbWVudC5pcygiOmZvY3VzIil8fHRoaXMuYnJvd3Nlci5tc2llfHx0aGlzLiRlbGVtZW50LmZvY3VzKCk7dmFyIGQ9dGhpcy5nZXRTZWxlY3Rpb24oKTshYiYmdGhpcy5nZXRSYW5nZSgpLmNvbGxhcHNlZCYmYShjWzBdKS5hdHRyKCJkYXRhLWNvbGxhcHNlZCIpfHwodGhpcy5jbGVhclNlbGVjdGlvbigpLGI9ITApO2Zvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKXt2YXIgZixnPWEoY1tlXSkuZGF0YSgiaWQiKSxoPWNbZV0saT10aGlzLiRlbGVtZW50LmZpbmQoJy5mLW1hcmtlcltkYXRhLXR5cGU9ImZhbHNlIl1bZGF0YS1pZD0iJytnKyciXScpO2lmKGY9Yj9kb2N1bWVudC5jcmVhdGVSYW5nZSgpOnRoaXMuZ2V0UmFuZ2UoKSxpLmxlbmd0aD4wKXtpPWlbMF07dHJ5e2Yuc2V0U3RhcnRBZnRlcihoKSxmLnNldEVuZEJlZm9yZShpKX1jYXRjaChqKXt9fWImJmQuYWRkUmFuZ2UoZil9dGhpcy5yZW1vdmVNYXJrZXJzKCl9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zZXRTZWxlY3Rpb249ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy5nZXRTZWxlY3Rpb24oKTtpZihlKXt0aGlzLmNsZWFyU2VsZWN0aW9uKCk7dHJ5e2N8fChjPWEpLHZvaWQgMD09PWImJihiPTApLHZvaWQgMD09PWQmJihkPWIpO3ZhciBmPXRoaXMuZ2V0UmFuZ2UoKTtmLnNldFN0YXJ0KGEsYiksZi5zZXRFbmQoYyxiKSxlLmFkZFJhbmdlKGYpfWNhdGNoKGcpe319fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5idWlsZE1hcmtlcj1mdW5jdGlvbihiLGMsZCl7cmV0dXJuIHZvaWQgMD09PWQmJihkPSIiKSxhKCc8c3BhbiBjbGFzcz0iZi1tYXJrZXIiJytkKycgc3R5bGU9ImRpc3BsYXk6bm9uZTsgbGluZS1oZWlnaHQ6IDA7IiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIiBkYXRhLWlkPSInK2MrJyIgZGF0YS10eXBlPSInK2IrJyI+Jyxkb2N1bWVudClbMF19LGEuRWRpdGFibGUucHJvdG90eXBlLnBsYWNlTWFya2VyPWZ1bmN0aW9uKGIsYyxkKXt2YXIgZT0iIjtiLmNvbGxhcHNlZCYmKGU9JyBkYXRhLWNvbGxhcHNlZD0idHJ1ZSInKTt0cnl7dmFyIGY9Yi5jbG9uZVJhbmdlKCk7aWYoZi5jb2xsYXBzZShjKSxmLmluc2VydE5vZGUodGhpcy5idWlsZE1hcmtlcihjLGQsZSkpLGM9PT0hMCYmZSlmb3IodmFyIGc9dGhpcy4kZWxlbWVudC5maW5kKCdzcGFuLmYtbWFya2VyW2RhdGEtdHlwZT0idHJ1ZSJdW2RhdGEtaWQ9IicrZCsnIl0nKS5nZXQoMCkubmV4dFNpYmxpbmc7Mz09PWcubm9kZVR5cGUmJjA9PT1nLmRhdGEubGVuZ3RoOylhKGcpLnJlbW92ZSgpLGc9dGhpcy4kZWxlbWVudC5maW5kKCdzcGFuLmYtbWFya2VyW2RhdGEtdHlwZT0idHJ1ZSJdW2RhdGEtaWQ9IicrZCsnIl0nKS5nZXQoMCkubmV4dFNpYmxpbmd9Y2F0Y2goaCl7fX0sYS5FZGl0YWJsZS5wcm90b3R5cGUucmVtb3ZlTWFya2Vycz1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQuZmluZCgiLmYtbWFya2VyIikucmVtb3ZlKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLmdldFNlbGVjdGlvblRleHRJbmZvPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZD0hMSxlPSExO2lmKHdpbmRvdy5nZXRTZWxlY3Rpb24pe3ZhciBmPXdpbmRvdy5nZXRTZWxlY3Rpb24oKTtmLnJhbmdlQ291bnQmJihiPWYuZ2V0UmFuZ2VBdCgwKSxjPWIuY2xvbmVSYW5nZSgpLGMuc2VsZWN0Tm9kZUNvbnRlbnRzKGEpLGMuc2V0RW5kKGIuc3RhcnRDb250YWluZXIsYi5zdGFydE9mZnNldCksZD0iIj09PWMudG9TdHJpbmcoKSxjLnNlbGVjdE5vZGVDb250ZW50cyhhKSxjLnNldFN0YXJ0KGIuZW5kQ29udGFpbmVyLGIuZW5kT2Zmc2V0KSxlPSIiPT09Yy50b1N0cmluZygpKX1lbHNlIGRvY3VtZW50LnNlbGVjdGlvbiYmIkNvbnRyb2wiIT1kb2N1bWVudC5zZWxlY3Rpb24udHlwZSYmKGI9ZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCksYz1iLmR1cGxpY2F0ZSgpLGMubW92ZVRvRWxlbWVudFRleHQoYSksYy5zZXRFbmRQb2ludCgiRW5kVG9TdGFydCIsYiksZD0iIj09PWMudGV4dCxjLm1vdmVUb0VsZW1lbnRUZXh0KGEpLGMuc2V0RW5kUG9pbnQoIlN0YXJ0VG9FbmQiLGIpLGU9IiI9PT1jLnRleHQpO3JldHVybnthdFN0YXJ0OmQsYXRFbmQ6ZX19LGEuRWRpdGFibGUucHJvdG90eXBlLmVuZHNXaXRoPWZ1bmN0aW9uKGEsYil7cmV0dXJuLTEhPT1hLmluZGV4T2YoYixhLmxlbmd0aC1iLmxlbmd0aCl9fShqUXVlcnkpLGZ1bmN0aW9uKGEpe2EuRWRpdGFibGUuaGV4VG9SR0I9ZnVuY3Rpb24oYSl7dmFyIGI9L14jPyhbYS1mXGRdKShbYS1mXGRdKShbYS1mXGRdKSQvaTthPWEucmVwbGFjZShiLGZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBiK2IrYytjK2QrZH0pO3ZhciBjPS9eIz8oW2EtZlxkXXsyfSkoW2EtZlxkXXsyfSkoW2EtZlxkXXsyfSkkL2kuZXhlYyhhKTtyZXR1cm4gYz97cjpwYXJzZUludChjWzFdLDE2KSxnOnBhcnNlSW50KGNbMl0sMTYpLGI6cGFyc2VJbnQoY1szXSwxNil9Om51bGx9LGEuRWRpdGFibGUuaGV4VG9SR0JTdHJpbmc9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5oZXhUb1JHQihhKTtyZXR1cm4gYj8icmdiKCIrYi5yKyIsICIrYi5nKyIsICIrYi5iKyIpIjoiIn0sYS5FZGl0YWJsZS5SR0JUb0hleD1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybigiMCIrcGFyc2VJbnQoYSwxMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtMil9dHJ5e3JldHVybiBhJiYidHJhbnNwYXJlbnQiIT09YT8vXiNbMC05QS1GXXs2fSQvaS50ZXN0KGEpP2E6KGE9YS5tYXRjaCgvXnJnYlwoKFxkKyksXHMqKFxkKyksXHMqKFxkKylcKSQvKSwoIiMiK2IoYVsxXSkrYihhWzJdKStiKGFbM10pKS50b1VwcGVyQ2FzZSgpKToiIn1jYXRjaChjKXtyZXR1cm4gbnVsbH19LGEuRWRpdGFibGUuZ2V0SUV2ZXJzaW9uPWZ1bmN0aW9uKCl7dmFyIGEsYixjPS0xO3JldHVybiJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXIiPT1uYXZpZ2F0b3IuYXBwTmFtZT8oYT1uYXZpZ2F0b3IudXNlckFnZW50LGI9bmV3IFJlZ0V4cCgiTVNJRSAoWzAtOV17MSx9W1xcLjAtOV17MCx9KSIpLG51bGwhPT1iLmV4ZWMoYSkmJihjPXBhcnNlRmxvYXQoUmVnRXhwLiQxKSkpOiJOZXRzY2FwZSI9PW5hdmlnYXRvci5hcHBOYW1lJiYoYT1uYXZpZ2F0b3IudXNlckFnZW50LGI9bmV3IFJlZ0V4cCgiVHJpZGVudC8uKnJ2OihbMC05XXsxLH1bXFwuMC05XXswLH0pIiksbnVsbCE9PWIuZXhlYyhhKSYmKGM9cGFyc2VGbG9hdChSZWdFeHAuJDEpKSksY30sYS5FZGl0YWJsZS5icm93c2VyPWZ1bmN0aW9uKCl7dmFyIGE9e307aWYodGhpcy5nZXRJRXZlcnNpb24oKT4wKWEubXNpZT0hMDtlbHNle3ZhciBiPW5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSxjPS8oY2hyb21lKVsgXC9dKFtcdy5dKykvLmV4ZWMoYil8fC8od2Via2l0KVsgXC9dKFtcdy5dKykvLmV4ZWMoYil8fC8ob3BlcmEpKD86Lip2ZXJzaW9ufClbIFwvXShbXHcuXSspLy5leGVjKGIpfHwvKG1zaWUpIChbXHcuXSspLy5leGVjKGIpfHxiLmluZGV4T2YoImNvbXBhdGlibGUiKTwwJiYvKG1vemlsbGEpKD86Lio/IHJ2OihbXHcuXSspfCkvLmV4ZWMoYil8fFtdLGQ9e2Jyb3dzZXI6Y1sxXXx8IiIsdmVyc2lvbjpjWzJdfHwiMCJ9O2NbMV0mJihhW2QuYnJvd3Nlcl09ITApLHBhcnNlSW50KGQudmVyc2lvbiwxMCk8OSYmYS5tc2llJiYoYS5vbGRNc2llPSEwKSxhLmNocm9tZT9hLndlYmtpdD0hMDphLndlYmtpdCYmKGEuc2FmYXJpPSEwKX1yZXR1cm4gYX0sYS5FZGl0YWJsZS5pc0FycmF5PWZ1bmN0aW9uKGEpe3JldHVybiBhJiYhYS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgibGVuZ3RoIikmJiJvYmplY3QiPT10eXBlb2YgYSYmIm51bWJlciI9PXR5cGVvZiBhLmxlbmd0aH0sYS5FZGl0YWJsZS51bmlxPWZ1bmN0aW9uKGIpe3JldHVybiBhLmdyZXAoYixmdW5jdGlvbihjLGQpe3JldHVybiBkPT1hLmluQXJyYXkoYyxiKX0pfX0oalF1ZXJ5KSxmdW5jdGlvbihhKXthLkVkaXRhYmxlLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKGIpe2lmKHZvaWQgMCE9PWIpe2lmKHRoaXMub3B0aW9ucy5pbmxpbmVNb2RlfHx0aGlzLm9wdGlvbnMuZWRpdEluUG9wdXApaWYobnVsbCE9PWImJiJ0b3VjaGVuZCIhPT1iLnR5cGUpe3ZhciBjPWIucGFnZVgsZD1iLnBhZ2VZO2M8dGhpcy4kZWxlbWVudC5vZmZzZXQoKS5sZWZ0JiYoYz10aGlzLiRlbGVtZW50Lm9mZnNldCgpLmxlZnQpLGM+dGhpcy4kZWxlbWVudC5vZmZzZXQoKS5sZWZ0K3RoaXMuJGVsZW1lbnQud2lkdGgoKSYmKGM9dGhpcy4kZWxlbWVudC5vZmZzZXQoKS5sZWZ0K3RoaXMuJGVsZW1lbnQud2lkdGgoKSksZDx0aGlzLiRlbGVtZW50Lm9mZnNldC50b3AmJihkPXRoaXMuJGVsZW1lbnQub2Zmc2V0KCkudG9wKSxkPnRoaXMuJGVsZW1lbnQub2Zmc2V0KCkudG9wK3RoaXMuJGVsZW1lbnQuaGVpZ2h0KCkmJihkPXRoaXMuJGVsZW1lbnQub2Zmc2V0KCkudG9wK3RoaXMuJGVsZW1lbnQuaGVpZ2h0KCkpLDIwPmMmJihjPTIwKSwwPmQmJihkPTApLHRoaXMuc2hvd0J5Q29vcmRpbmF0ZXMoYyxkKSxhKCIuZnJvYWxhLWVkaXRvcjpub3QoLmYtYmFzaWMpIikuaGlkZSgpLHRoaXMuJGVkaXRvci5zaG93KCksMCE9PXRoaXMub3B0aW9ucy5idXR0b25zLmxlbmd0aHx8dGhpcy5vcHRpb25zLmVkaXRJblBvcHVwfHx0aGlzLiRlZGl0b3IuaGlkZSgpfWVsc2UgYSgiLmZyb2FsYS1lZGl0b3I6bm90KC5mLWJhc2ljKSIpLmhpZGUoKSx0aGlzLiRlZGl0b3Iuc2hvdygpLHRoaXMucmVwb3NpdGlvbkVkaXRvcigpO3RoaXMuaGlkZVBvcHVwcygpLHRoaXMub3B0aW9ucy5lZGl0SW5Qb3B1cHx8dGhpcy5zaG93RWRpdFBvcHVwV3JhcHBlcigpLHRoaXMuJGJ0dG5fd3JhcHBlci5zaG93KCksdGhpcy5yZWZyZXNoQnV0dG9ucygpLHRoaXMuaW1hZ2VNb2RlPSExfX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaGlkZURyb3Bkb3ducz1mdW5jdGlvbigpe3RoaXMuJGJ0dG5fd3JhcHBlci5maW5kKCIuZnItZHJvcGRvd24gLmZyLXRyaWdnZXIiKS5yZW1vdmVDbGFzcygiYWN0aXZlIiksdGhpcy4kYnR0bl93cmFwcGVyLmZpbmQoIi5mci1kcm9wZG93biAuZnItdHJpZ2dlciIpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmluaXRpYWxpemVkPyh2b2lkIDA9PT1hJiYoYT0hMCksYT90aGlzLmhpZGVPdGhlckVkaXRvcnMoKToodGhpcy5jbG9zZUltYWdlTW9kZSgpLHRoaXMuaW1hZ2VNb2RlPSExKSx0aGlzLiRwb3B1cF9lZGl0b3IuaGlkZSgpLHRoaXMuaGlkZVBvcHVwcyghMSksdGhpcy5oaWRlRHJvcGRvd25zKCksdm9pZCh0aGlzLmxpbms9ITEpKTohMX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaGlkZU90aGVyRWRpdG9ycz1mdW5jdGlvbigpe2Zvcih2YXIgYj0xO2I8PWEuRWRpdGFibGUuY291bnQ7YisrKWIhPXRoaXMuX2lkJiZhKHdpbmRvdykudHJpZ2dlcigiaGlkZS4iK2IpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5oaWRlQnR0bldyYXBwZXI9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuaW5saW5lTW9kZSYmdGhpcy4kYnR0bl93cmFwcGVyLmhpZGUoKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuc2hvd0J0dG5XcmFwcGVyPWZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmlubGluZU1vZGUmJnRoaXMuJGJ0dG5fd3JhcHBlci5zaG93KCl9LGEuRWRpdGFibGUucHJvdG90eXBlLnNob3dFZGl0UG9wdXBXcmFwcGVyPWZ1bmN0aW9uKCl7dGhpcy4kZWRpdF9wb3B1cF93cmFwcGVyJiYodGhpcy4kZWRpdF9wb3B1cF93cmFwcGVyLnNob3coKSxzZXRUaW1lb3V0KGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLiRlZGl0X3BvcHVwX3dyYXBwZXIuZmluZCgiaW5wdXQiKS52YWwodGhpcy4kZWxlbWVudC50ZXh0KCkpLmZvY3VzKCkuc2VsZWN0KCl9LHRoaXMpLDEpKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaGlkZVBvcHVwcz1mdW5jdGlvbihhKXt2b2lkIDA9PT1hJiYoYT0hMCksYSYmdGhpcy5oaWRlQnR0bldyYXBwZXIoKSx0aGlzLnJhaXNlRXZlbnQoImhpZGVQb3B1cHMiKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuc2hvd0VkaXRQb3B1cD1mdW5jdGlvbigpe3RoaXMuc2hvd0VkaXRQb3B1cFdyYXBwZXIoKX19KGpRdWVyeSksZnVuY3Rpb24oYSl7YS5FZGl0YWJsZS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKCl7dmFyIGI7aWYodGhpcy5pc0xpbmspe2I9e307dmFyIGM9dGhpcy4kZWxlbWVudDtiLmxlZnQ9Yy5vZmZzZXQoKS5sZWZ0LWEod2luZG93KS5zY3JvbGxMZWZ0KCksYi50b3A9Yy5vZmZzZXQoKS50b3AtYSh3aW5kb3cpLnNjcm9sbFRvcCgpLGIud2lkdGg9Yy5vdXRlcldpZHRoKCksYi5oZWlnaHQ9cGFyc2VJbnQoYy5jc3MoInBhZGRpbmctdG9wIikucmVwbGFjZSgicHgiLCIiKSwxMCkrYy5oZWlnaHQoKSxiLnJpZ2h0PTEsYi5ib3R0b209MSxiLm9rPSEwfWVsc2UgaWYodGhpcy5nZXRSYW5nZSgpLmNvbGxhcHNlZCl7dmFyIGQ9YSh0aGlzLmdldFNlbGVjdGlvbkVsZW1lbnQoKSk7dGhpcy5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzKCk7dmFyIGU9dGhpcy4kZWxlbWVudC5maW5kKCIuZi1tYXJrZXI6Zmlyc3QiKTtlLmNzcygiZGlzcGxheSIsImlubGluZSIpO3ZhciBmPWUub2Zmc2V0KCk7ZS5jc3MoImRpc3BsYXkiLCJub25lIiksYj17fSxiLmxlZnQ9Zi5sZWZ0LWEod2luZG93KS5zY3JvbGxMZWZ0KCksYi53aWR0aD0wLGIuaGVpZ2h0PShwYXJzZUludChkLmNzcygibGluZS1oZWlnaHQiKS5yZXBsYWNlKCJweCIsIiIpLDEwKXx8MTApLTEwLWEod2luZG93KS5zY3JvbGxUb3AoKSxiLnRvcD1mLnRvcCxiLnJpZ2h0PTEsYi5ib3R0b209MSxiLm9rPSEwLHRoaXMucmVtb3ZlTWFya2VycygpfWVsc2UgYj10aGlzLmdldFJhbmdlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJuIGJ9LGEuRWRpdGFibGUucHJvdG90eXBlLnJlcG9zaXRpb25FZGl0b3I9ZnVuY3Rpb24oYil7dmFyIGMsZCxlO2lmKHRoaXMub3B0aW9ucy5pbmxpbmVNb2RlfHxiKXtpZihjPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCksdGhpcy5zaG93QnR0bldyYXBwZXIoKSxjLm9rfHxjLmxlZnQ+PTAmJmMudG9wPj0wJiZjLnJpZ2h0PjAmJmMuYm90dG9tPjApZD1jLmxlZnQrYy53aWR0aC8yLGU9Yy50b3ArYy5oZWlnaHQsdGhpcy5pT1MoKSYmdGhpcy5pT1NWZXJzaW9uKCk8OHx8KGQrPWEod2luZG93KS5zY3JvbGxMZWZ0KCksZSs9YSh3aW5kb3cpLnNjcm9sbFRvcCgpKSx0aGlzLnNob3dCeUNvb3JkaW5hdGVzKGQsZSk7ZWxzZSBpZih0aGlzLm9wdGlvbnMuYWx3YXlzVmlzaWJsZSl0aGlzLmhpZGUoKTtlbHNle3ZhciBmPXRoaXMuJGVsZW1lbnQub2Zmc2V0KCk7dGhpcy5zaG93QnlDb29yZGluYXRlcyhmLmxlZnQsZi50b3ArMTApfTA9PT10aGlzLm9wdGlvbnMuYnV0dG9ucy5sZW5ndGgmJnRoaXMuaGlkZSgpfX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuc2hvd0J5Q29vcmRpbmF0ZXM9ZnVuY3Rpb24oYixjKXtiLT0yMCxjKz0xNTt2YXIgZD1NYXRoLm1heCh0aGlzLiRwb3B1cF9lZGl0b3Iud2lkdGgoKSwyNTApO2IrZD49YSh3aW5kb3cpLndpZHRoKCktNTAmJmIrNDAtZD4wPyh0aGlzLiRwb3B1cF9lZGl0b3IuYWRkQ2xhc3MoInJpZ2h0LXNpZGUiKSxiPWEod2luZG93KS53aWR0aCgpLShiKzQwKSx0aGlzLiRwb3B1cF9lZGl0b3IuY3NzKCJ0b3AiLGMpLHRoaXMuJHBvcHVwX2VkaXRvci5jc3MoInJpZ2h0IixiKSx0aGlzLiRwb3B1cF9lZGl0b3IuY3NzKCJsZWZ0IiwiYXV0byIpKTpiK2Q8YSh3aW5kb3cpLndpZHRoKCktNTA/KHRoaXMuJHBvcHVwX2VkaXRvci5yZW1vdmVDbGFzcygicmlnaHQtc2lkZSIpLHRoaXMuJHBvcHVwX2VkaXRvci5jc3MoInRvcCIsYyksdGhpcy4kcG9wdXBfZWRpdG9yLmNzcygibGVmdCIsYiksdGhpcy4kcG9wdXBfZWRpdG9yLmNzcygicmlnaHQiLCJhdXRvIikpOih0aGlzLiRwb3B1cF9lZGl0b3IucmVtb3ZlQ2xhc3MoInJpZ2h0LXNpZGUiKSx0aGlzLiRwb3B1cF9lZGl0b3IuY3NzKCJ0b3AiLGMpLHRoaXMuJHBvcHVwX2VkaXRvci5jc3MoImxlZnQiLE1hdGgubWF4KGEod2luZG93KS53aWR0aCgpLWQsMTApLzIpLHRoaXMuJHBvcHVwX2VkaXRvci5jc3MoInJpZ2h0IiwiYXV0byIpKSx0aGlzLiRwb3B1cF9lZGl0b3Iuc2hvdygpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5wb3NpdGlvblBvcHVwPWZ1bmN0aW9uKGIpe2lmKGEodGhpcy4kZWRpdG9yLmZpbmQoJ2J1dHRvbi5mci1idHRuW2RhdGEtY21kPSInK2IrJyJdJykpLmxlbmd0aCl7dmFyIGM9dGhpcy4kZWRpdG9yLmZpbmQoJ2J1dHRvbi5mci1idHRuW2RhdGEtY21kPSInK2IrJyJdJyksZD1jLndpZHRoKCksZT1jLmhlaWdodCgpLTE1LGY9Yy5vZmZzZXQoKS5sZWZ0K2QvMixnPWMub2Zmc2V0KCkudG9wK2U7dGhpcy5zaG93QnlDb29yZGluYXRlcyhmLGcpfX19KGpRdWVyeSksZnVuY3Rpb24oYSl7YS5FZGl0YWJsZS5pbWFnZV9jb21tYW5kcz17ZmxvYXRJbWFnZUxlZnQ6e3RpdGxlOiJGbG9hdCBMZWZ0IixpY29uOnt0eXBlOiJmb250Iix2YWx1ZToiZmEgZmEtYWxpZ24tbGVmdCJ9fSxmbG9hdEltYWdlTm9uZTp7dGl0bGU6IkZsb2F0IE5vbmUiLGljb246e3R5cGU6ImZvbnQiLHZhbHVlOiJmYSBmYS1hbGlnbi1qdXN0aWZ5In19LGZsb2F0SW1hZ2VSaWdodDp7dGl0bGU6IkZsb2F0IFJpZ2h0IixpY29uOnt0eXBlOiJmb250Iix2YWx1ZToiZmEgZmEtYWxpZ24tcmlnaHQifX0sbGlua0ltYWdlOnt0aXRsZToiSW5zZXJ0IExpbmsiLGljb246e3R5cGU6ImZvbnQiLHZhbHVlOiJmYSBmYS1saW5rIn19LHJlcGxhY2VJbWFnZTp7dGl0bGU6IlJlcGxhY2UgSW1hZ2UiLGljb246e3R5cGU6ImZvbnQiLHZhbHVlOiJmYSBmYS1leGNoYW5nZSJ9fSxyZW1vdmVJbWFnZTp7dGl0bGU6IlJlbW92ZSBJbWFnZSIsaWNvbjp7dHlwZToiZm9udCIsdmFsdWU6ImZhIGZhLXRyYXNoLW8ifX19LGEuRWRpdGFibGUuREVGQVVMVFM9YS5leHRlbmQoYS5FZGl0YWJsZS5ERUZBVUxUUyx7YWxsb3dlZEltYWdlVHlwZXM6WyJqcGVnIiwianBnIiwicG5nIiwiZ2lmIl0sZGVmYXVsdEltYWdlVGl0bGU6IkltYWdlIHRpdGxlIixkZWZhdWx0SW1hZ2VXaWR0aDozMDAsaW1hZ2VCdXR0b25zOlsiZmxvYXRJbWFnZUxlZnQiLCJmbG9hdEltYWdlTm9uZSIsImZsb2F0SW1hZ2VSaWdodCIsImxpbmtJbWFnZSIsInJlcGxhY2VJbWFnZSIsInJlbW92ZUltYWdlIl0saW1hZ2VEZWxldGVDb25maXJtYXRpb246ITAsaW1hZ2VEZWxldGVVUkw6bnVsbCxpbWFnZURlbGV0ZVBhcmFtczp7fSxpbWFnZU1vdmU6ITAsaW1hZ2VSZXNpemU6ITAsaW1hZ2VMaW5rOiEwLGltYWdlVGl0bGU6ITAsaW1hZ2VVcGxvYWQ6ITAsaW1hZ2VVcGxvYWRQYXJhbXM6e30saW1hZ2VVcGxvYWRQYXJhbToiZmlsZSIsaW1hZ2VVcGxvYWRUb1MzOiExLGltYWdlVXBsb2FkVVJMOiJodHRwOi8vaS5mcm9hbGEuY29tL3VwbG9hZCIsbWF4SW1hZ2VTaXplOjEwNDg1NzYwLHBhc3RlSW1hZ2U6ITAsdGV4dE5lYXJJbWFnZTohMH0pLGEuRWRpdGFibGUucHJvdG90eXBlLmhpZGVJbWFnZUVkaXRvclBvcHVwPWZ1bmN0aW9uKCl7dGhpcy4kaW1hZ2VfZWRpdG9yJiZ0aGlzLiRpbWFnZV9lZGl0b3IuaGlkZSgpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zaG93SW1hZ2VFZGl0b3JQb3B1cD1mdW5jdGlvbigpe3RoaXMuJGltYWdlX2VkaXRvciYmdGhpcy4kaW1hZ2VfZWRpdG9yLnNob3coKSx0aGlzLm9wdGlvbnMuaW1hZ2VNb3ZlfHx0aGlzLiRlbGVtZW50LmF0dHIoImNvbnRlbnRlZGl0YWJsZSIsITEpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zaG93SW1hZ2VXcmFwcGVyPWZ1bmN0aW9uKCl7dGhpcy4kaW1hZ2Vfd3JhcHBlciYmdGhpcy4kaW1hZ2Vfd3JhcHBlci5zaG93KCl9LGEuRWRpdGFibGUucHJvdG90eXBlLmhpZGVJbWFnZVdyYXBwZXI9ZnVuY3Rpb24oYSl7dGhpcy4kaW1hZ2Vfd3JhcHBlciYmKHRoaXMuJGVsZW1lbnQuYXR0cigiZGF0YS1yZXNpemUiKXx8YXx8KHRoaXMuY2xvc2VJbWFnZU1vZGUoKSx0aGlzLmltYWdlTW9kZT0hMSksdGhpcy4kaW1hZ2Vfd3JhcHBlci5oaWRlKCksdGhpcy4kaW1hZ2Vfd3JhcHBlci5maW5kKCJpbnB1dCIpLmJsdXIoKSl9LGEuRWRpdGFibGUucHJvdG90eXBlLnNob3dJbnNlcnRJbWFnZT1mdW5jdGlvbigpe3RoaXMuaGlkZVBvcHVwcygpLHRoaXMuc2hvd0ltYWdlV3JhcHBlcigpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zaG93SW1hZ2VFZGl0b3I9ZnVuY3Rpb24oKXt0aGlzLmhpZGVQb3B1cHMoKSx0aGlzLnNob3dJbWFnZUVkaXRvclBvcHVwKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLmluc2VydEltYWdlSFRNTD1mdW5jdGlvbigpe3ZhciBiPSc8ZGl2IGNsYXNzPSJmcm9hbGEtcG9wdXAgZnJvYWxhLWltYWdlLXBvcHVwIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPjxoND48c3BhbiBkYXRhLXRleHQ9InRydWUiPkluc2VydCBJbWFnZTwvc3Bhbj48c3BhbiBkYXRhLXRleHQ9InRydWUiPlVwbG9hZGluZyBpbWFnZTwvc3Bhbj48aSB0aXRsZT0iQ2FuY2VsIiBjbGFzcz0iZmEgZmEtdGltZXMiIGlkPSJmLWltYWdlLWNsb3NlLScrdGhpcy5faWQrJyI+PC9pPjwvaDQ+JztyZXR1cm4gYis9JzxkaXYgaWQ9ImYtaW1hZ2UtbGlzdC0nK3RoaXMuX2lkKyciPicsdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkJiYoYis9JzxkaXYgY2xhc3M9ImYtcG9wdXAtbGluZSBkcm9wLXVwbG9hZCI+JyxiKz0nPGRpdiBjbGFzcz0iZi11cGxvYWQiIGlkPSJmLXVwbG9hZC1kaXYtJyt0aGlzLl9pZCsnIj48c3Ryb25nIGRhdGEtdGV4dD0idHJ1ZSI+RHJvcCBJbWFnZTwvc3Ryb25nPjxicj4oPHNwYW4gZGF0YS10ZXh0PSJ0cnVlIj5vciBjbGljazwvc3Bhbj4pPGZvcm0gdGFyZ2V0PSJmcmFtZS0nK3RoaXMuX2lkKyciIGVuY3R5cGU9Im11bHRpcGFydC9mb3JtLWRhdGEiIGVuY29kaW5nPSJtdWx0aXBhcnQvZm9ybS1kYXRhIiBhY3Rpb249IicrdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkVVJMKyciIG1ldGhvZD0icG9zdCIgaWQ9ImYtdXBsb2FkLWZvcm0tJyt0aGlzLl9pZCsnIj48aW5wdXQgaWQ9ImYtZmlsZS11cGxvYWQtJyt0aGlzLl9pZCsnIiB0eXBlPSJmaWxlIiBuYW1lPSInK3RoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFBhcmFtKyciIGFjY2VwdD0iaW1hZ2UvKiI+PC9mb3JtPjwvZGl2PicsdGhpcy5icm93c2VyLm1zaWUmJmEuRWRpdGFibGUuZ2V0SUV2ZXJzaW9uKCk8PTkmJihiKz0nPGlmcmFtZSBpZD0iZnJhbWUtJyt0aGlzLl9pZCsnIiBuYW1lPSJmcmFtZS0nK3RoaXMuX2lkKyciIHNyYz0iamF2YXNjcmlwdDpmYWxzZTsiIHN0eWxlPSJ3aWR0aDowOyBoZWlnaHQ6MDsgYm9yZGVyOjBweCBzb2xpZCAjRkZGOyBwb3NpdGlvbjogZml4ZWQ7IHotaW5kZXg6IC0xOyI+PC9pZnJhbWU+JyksYis9IjwvZGl2PiIpLHRoaXMub3B0aW9ucy5pbWFnZUxpbmsmJihiKz0nPGRpdiBjbGFzcz0iZi1wb3B1cC1saW5lIj48bGFiZWw+PHNwYW4gZGF0YS10ZXh0PSJ0cnVlIj5FbnRlciBVUkw8L3NwYW4+OiA8L2xhYmVsPjxpbnB1dCBpZD0iZi1pbWFnZS11cmwtJyt0aGlzLl9pZCsnIiB0eXBlPSJ0ZXh0IiBwbGFjZWhvbGRlcj0iaHR0cDovL2V4YW1wbGUuY29tIj48YnV0dG9uIGNsYXNzPSJmLWJyb3dzZSIgaWQ9ImYtYnJvd3Nlci0nK3RoaXMuX2lkKyciPjxpIGNsYXNzPSJmYSBmYS1zZWFyY2giPjwvaT48L2J1dHRvbj48YnV0dG9uIGRhdGEtdGV4dD0idHJ1ZSIgY2xhc3M9ImYtb2siIGlkPSJmLWltYWdlLW9rLScrdGhpcy5faWQrJyI+T0s8L2J1dHRvbj48L2Rpdj4nKSxiKz0iPC9kaXY+IixiKz0nPHAgY2xhc3M9ImYtcHJvZ3Jlc3MiIGlkPSJmLXByb2dyZXNzLScrdGhpcy5faWQrJyI+PHNwYW4+PC9zcGFuPjwvcD4nLGIrPSI8L2Rpdj4iCn0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaUZyYW1lTG9hZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuJGltYWdlX3dyYXBwZXIuZmluZCgiaWZyYW1lI2ZyYW1lLSIrdGhpcy5faWQpO2lmKCFhLmF0dHIoImRhdGEtbG9hZGVkIikpcmV0dXJuIGEuYXR0cigiZGF0YS1sb2FkZWQiLCEwKSwhMTt0cnl7dmFyIGI9dGhpcy4kaW1hZ2Vfd3JhcHBlci5maW5kKCIjZi11cGxvYWQtZm9ybS0iK3RoaXMuX2lkKTtpZih0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRUb1MzKXt2YXIgYz1iLmF0dHIoImFjdGlvbiIpLGQ9Yi5maW5kKCdpbnB1dFtuYW1lPSJrZXkiXScpLnZhbCgpLGU9YytkO3RoaXMud3JpdGVJbWFnZShlKSx0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRUb1MzLmNhbGxiYWNrJiZ0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRUb1MzLmNhbGxiYWNrLmNhbGwodGhpcyxlLGQpfWVsc2V7dmFyIGY9YS5jb250ZW50cygpLnRleHQoKTt0aGlzLnBhcnNlSW1hZ2VSZXNwb25zZShmKX19Y2F0Y2goZyl7dGhpcy50aHJvd0ltYWdlRXJyb3IoNyl9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pbml0SW1hZ2U9ZnVuY3Rpb24oKXt0aGlzLmJ1aWxkSW5zZXJ0SW1hZ2UoKSwoIXRoaXMuaXNMaW5rfHx0aGlzLmlzSW1hZ2UpJiZ0aGlzLmluaXRJbWFnZVBvcHVwKCksdGhpcy5hZGRMaXN0ZW5lcigiZGVzdHJveSIsdGhpcy5kZXN0cm95SW1hZ2UpfSxhLkVkaXRhYmxlLmluaXRpYWxpemVycy5wdXNoKGEuRWRpdGFibGUucHJvdG90eXBlLmluaXRJbWFnZSksYS5FZGl0YWJsZS5wcm90b3R5cGUuZGVzdHJveUltYWdlPWZ1bmN0aW9uKCl7dGhpcy4kaW1hZ2VfZWRpdG9yJiZ0aGlzLiRpbWFnZV9lZGl0b3IuaHRtbCgiIikucmVtb3ZlRGF0YSgpLnJlbW92ZSgpLHRoaXMuJGltYWdlX3dyYXBwZXImJnRoaXMuJGltYWdlX3dyYXBwZXIuaHRtbCgiIikucmVtb3ZlRGF0YSgpLnJlbW92ZSgpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5idWlsZEluc2VydEltYWdlPWZ1bmN0aW9uKCl7dGhpcy4kaW1hZ2Vfd3JhcHBlcj1hKHRoaXMuaW5zZXJ0SW1hZ2VIVE1MKCkpLHRoaXMuJHBvcHVwX2VkaXRvci5hcHBlbmQodGhpcy4kaW1hZ2Vfd3JhcHBlcik7dmFyIGI9dGhpcztpZih0aGlzLiRpbWFnZV93cmFwcGVyLm9uKCJtb3VzZXVwIHRvdWNoZW5kIixhLnByb3h5KGZ1bmN0aW9uKGEpe3RoaXMuaXNSZXNpemluZygpfHxhLnN0b3BQcm9wYWdhdGlvbigpfSx0aGlzKSksdGhpcy5hZGRMaXN0ZW5lcigiaGlkZVBvcHVwcyIsYS5wcm94eShmdW5jdGlvbigpe3RoaXMuaGlkZUltYWdlV3JhcHBlcighMCl9KSx0aGlzKSx0aGlzLiRwcm9ncmVzc19iYXI9dGhpcy4kaW1hZ2Vfd3JhcHBlci5maW5kKCJwI2YtcHJvZ3Jlc3MtIit0aGlzLl9pZCksdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkKXtpZih0aGlzLmJyb3dzZXIubXNpZSYmYS5FZGl0YWJsZS5nZXRJRXZlcnNpb24oKTw9OSl7dmFyIGM9dGhpcy4kaW1hZ2Vfd3JhcHBlci5maW5kKCJpZnJhbWUiKS5nZXQoMCk7Yy5hdHRhY2hFdmVudD9jLmF0dGFjaEV2ZW50KCJvbmxvYWQiLGZ1bmN0aW9uKCl7Yi5pRnJhbWVMb2FkKCl9KTpjLm9ubG9hZD1mdW5jdGlvbigpe2IuaUZyYW1lTG9hZCgpfX10aGlzLiRpbWFnZV93cmFwcGVyLm9uKCJjaGFuZ2UiLCdpbnB1dFt0eXBlPSJmaWxlIl0nLGZ1bmN0aW9uKCl7aWYodm9pZCAwIT09dGhpcy5maWxlcyliLnVwbG9hZEltYWdlKHRoaXMuZmlsZXMpO2Vsc2V7dmFyIGM9YSh0aGlzKS5wYXJlbnRzKCJmb3JtIik7Yy5maW5kKCdpbnB1dFt0eXBlPSJoaWRkZW4iXScpLnJlbW92ZSgpO3ZhciBkO2ZvcihkIGluIGIub3B0aW9ucy5pbWFnZVVwbG9hZFBhcmFtcyljLnByZXBlbmQoJzxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IicrZCsnIiB2YWx1ZT0iJytiLm9wdGlvbnMuaW1hZ2VVcGxvYWRQYXJhbXNbZF0rJyIgLz4nKTtpZihiLm9wdGlvbnMuaW1hZ2VVcGxvYWRUb1MzIT09ITEpe2ZvcihkIGluIGIub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzMucGFyYW1zKWMucHJlcGVuZCgnPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iJytkKyciIHZhbHVlPSInK2Iub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzMucGFyYW1zW2RdKyciIC8+Jyk7Yy5wcmVwZW5kKCc8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJzdWNjZXNzX2FjdGlvbl9zdGF0dXMiIHZhbHVlPSIyMDEiIC8+JyksYy5wcmVwZW5kKCc8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJYLVJlcXVlc3RlZC1XaXRoIiB2YWx1ZT0ieGhyIiAvPicpLGMucHJlcGVuZCgnPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iQ29udGVudC1UeXBlIiB2YWx1ZT0iIiAvPicpLGMucHJlcGVuZCgnPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ia2V5IiB2YWx1ZT0iJytiLm9wdGlvbnMuaW1hZ2VVcGxvYWRUb1MzLmtleVN0YXJ0KyhuZXcgRGF0ZSkuZ2V0VGltZSgpKyItIithKHRoaXMpLnZhbCgpLm1hdGNoKC9bXlwvXFxdKyQvKSsnIiAvPicpfWVsc2UgYy5wcmVwZW5kKCc8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJYSFJfQ09SU19UUkFSR0VUT1JJR0lOIiB2YWx1ZT0iJyt3aW5kb3cubG9jYXRpb24uaHJlZisnIiAvPicpO2Iuc2hvd0luc2VydEltYWdlKCksYi5zaG93SW1hZ2VMb2FkZXIoITApLGIuZGlzYWJsZSgpLGMuc3VibWl0KCl9YSh0aGlzKS52YWwoIiIpfSl9dGhpcy5idWlsZERyYWdVcGxvYWQoKSx0aGlzLiRpbWFnZV93cmFwcGVyLm9uKCJtb3VzZXVwIGtleWRvd24iLCIjZi1pbWFnZS11cmwtIit0aGlzLl9pZCxhLnByb3h5KGZ1bmN0aW9uKGEpe3ZhciBiPWEud2hpY2g7YiYmMjc9PT1ifHxhLnN0b3BQcm9wYWdhdGlvbigpfSx0aGlzKSksdGhpcy4kaW1hZ2Vfd3JhcHBlci5vbigiY2xpY2siLCIjZi1pbWFnZS1vay0iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLndyaXRlSW1hZ2UodGhpcy4kaW1hZ2Vfd3JhcHBlci5maW5kKCIjZi1pbWFnZS11cmwtIit0aGlzLl9pZCkudmFsKCksITApfSx0aGlzKSksdGhpcy4kaW1hZ2Vfd3JhcHBlci5vbih0aGlzLm1vdXNldXAsIiNmLWltYWdlLWNsb3NlLSIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0Rpc2FibGVkPyExOihhLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuJGJ0dG5fd3JhcHBlci5zaG93KCksdGhpcy5oaWRlSW1hZ2VXcmFwcGVyKCEwKSx0aGlzLm9wdGlvbnMuaW5saW5lTW9kZSYmMD09PXRoaXMub3B0aW9ucy5idXR0b25zLmxlbmd0aCYmKHRoaXMuaW1hZ2VNb2RlP3RoaXMuc2hvd0ltYWdlRWRpdG9yKCk6dGhpcy5oaWRlKCkpLHRoaXMuaW1hZ2VNb2RlfHwodGhpcy5yZXN0b3JlU2VsZWN0aW9uKCksdGhpcy5mb2N1cygpKSx2b2lkKHRoaXMub3B0aW9ucy5pbmxpbmVNb2RlfHx0aGlzLmltYWdlTW9kZT90aGlzLmltYWdlTW9kZSYmdGhpcy5zaG93SW1hZ2VFZGl0b3IoKTp0aGlzLmhpZGUoKSkpfSx0aGlzKSksdGhpcy4kaW1hZ2Vfd3JhcHBlci5vbigiY2xpY2siLGZ1bmN0aW9uKGEpe2Euc3RvcFByb3BhZ2F0aW9uKCl9KSx0aGlzLiRpbWFnZV93cmFwcGVyLm9uKCJjbGljayIsIioiLGZ1bmN0aW9uKGEpe2Euc3RvcFByb3BhZ2F0aW9uKCl9KX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZGVsZXRlSW1hZ2U9ZnVuY3Rpb24oYil7aWYodGhpcy5vcHRpb25zLmltYWdlRGVsZXRlVVJMKXt2YXIgYz10aGlzLm9wdGlvbnMuaW1hZ2VEZWxldGVQYXJhbXM7Yy5pbmZvPWIuZGF0YSgiaW5mbyIpLGMuc3JjPWIuYXR0cigic3JjIiksYS5hamF4KHt0eXBlOiJQT1NUIix1cmw6dGhpcy5vcHRpb25zLmltYWdlRGVsZXRlVVJMLGRhdGE6Yyxjcm9zc0RvbWFpbjp0aGlzLm9wdGlvbnMuY3Jvc3NEb21haW4seGhyRmllbGRzOnt3aXRoQ3JlZGVudGlhbHM6dGhpcy5vcHRpb25zLndpdGhDcmVkZW50aWFsc30saGVhZGVyczp0aGlzLm9wdGlvbnMuaGVhZGVyc30pLmRvbmUoYS5wcm94eShmdW5jdGlvbihhKXtiLnBhcmVudCgpLnBhcmVudCgpLmhhc0NsYXNzKCJmLWltYWdlLWxpc3QiKT9iLnBhcmVudCgpLnJlbW92ZSgpOmIucGFyZW50KCkucmVtb3ZlQ2xhc3MoImYtaW1nLWRlbGV0aW5nIiksdGhpcy50cmlnZ2VyRXZlbnQoImltYWdlRGVsZXRlU3VjY2VzcyIsW2FdLCExKX0sdGhpcykpLmZhaWwoYS5wcm94eShmdW5jdGlvbigpe2IucGFyZW50KCkucmVtb3ZlQ2xhc3MoImYtaW1nLWRlbGV0aW5nIiksdGhpcy50cmlnZ2VyRXZlbnQoImltYWdlRGVsZXRlRXJyb3IiLFsiRXJyb3IgZHVyaW5nIGltYWdlIGRlbGV0ZS4iXSwhMSl9LHRoaXMpKX1lbHNlIGIucGFyZW50KCkucmVtb3ZlQ2xhc3MoImYtaW1nLWRlbGV0aW5nIiksdGhpcy50cmlnZ2VyRXZlbnQoImltYWdlRGVsZXRlRXJyb3IiLFsiTWlzc2luZyBpbWFnZURlbGV0ZVVSTCBvcHRpb24uIl0sITEpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pbWFnZUhhbmRsZT1mdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1hKCc8c3BhbiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIj4nKS5hZGRDbGFzcygiZi1pbWctaGFuZGxlIikub24oe21vdmVzdGFydDpmdW5jdGlvbihjKXtiLmhpZGUoKSxiLiRlbGVtZW50LmFkZENsYXNzKCJmLW5vbi1zZWxlY3RhYmxlIikuYXR0cigiY29udGVudGVkaXRhYmxlIiwhMSksYi4kZWxlbWVudC5hdHRyKCJkYXRhLXJlc2l6ZSIsITApLGEodGhpcykuYXR0cigiZGF0YS1zdGFydC14IixjLnN0YXJ0WCksYSh0aGlzKS5hdHRyKCJkYXRhLXN0YXJ0LXkiLGMuc3RhcnRZKX0sbW92ZTpmdW5jdGlvbihjKXt2YXIgZD1hKHRoaXMpLGU9Yy5wYWdlWC1wYXJzZUludChkLmF0dHIoImRhdGEtc3RhcnQteCIpLDEwKTtkLmF0dHIoImRhdGEtc3RhcnQteCIsYy5wYWdlWCksZC5hdHRyKCJkYXRhLXN0YXJ0LXkiLGMucGFnZVkpO3ZhciBmPWQucHJldkFsbCgiaW1nIiksZz1mLndpZHRoKCk7ZC5oYXNDbGFzcygiZi1oLW5lIil8fGQuaGFzQ2xhc3MoImYtaC1zZSIpP2YuYXR0cigid2lkdGgiLGcrZSk6Zi5hdHRyKCJ3aWR0aCIsZy1lKSxiLnRyaWdnZXJFdmVudCgiaW1hZ2VSZXNpemUiLFtdLCExKX0sbW92ZWVuZDpmdW5jdGlvbigpe2EodGhpcykucmVtb3ZlQXR0cigiZGF0YS1zdGFydC14IiksYSh0aGlzKS5yZW1vdmVBdHRyKCJkYXRhLXN0YXJ0LXkiKSxiLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJmLW5vbi1zZWxlY3RhYmxlIiksYi5pc0ltYWdlfHxiLiRlbGVtZW50LmF0dHIoImNvbnRlbnRlZGl0YWJsZSIsITApLGIudHJpZ2dlckV2ZW50KCJpbWFnZVJlc2l6ZUVuZCIpLGEodGhpcykudHJpZ2dlcigibW91c2V1cCIpfSx0b3VjaGVuZDpmdW5jdGlvbigpe2EodGhpcykudHJpZ2dlcigibW92ZWVuZCIpfX0pO3JldHVybiBjfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5kaXNhYmxlSW1hZ2VSZXNpemU9ZnVuY3Rpb24oKXtpZih0aGlzLmJyb3dzZXIubW96aWxsYSl0cnl7ZG9jdW1lbnQuZXhlY0NvbW1hbmQoImVuYWJsZU9iamVjdFJlc2l6aW5nIiwhMSwhMSksZG9jdW1lbnQuZXhlY0NvbW1hbmQoImVuYWJsZUlubGluZVRhYmxlRWRpdGluZyIsITEsITEpfWNhdGNoKGEpe319LGEuRWRpdGFibGUucHJvdG90eXBlLmlzUmVzaXppbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWxlbWVudC5hdHRyKCJkYXRhLXJlc2l6ZSIpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5nZXRJbWFnZUNsYXNzPWZ1bmN0aW9uKGEpe3ZhciBiPWEuc3BsaXQoIiAiKTtyZXR1cm4gYi5pbmRleE9mKCJmci1maXIiKT49MD8iZnItZmlyIjpiLmluZGV4T2YoImZyLWZpbCIpPj0wPyJmci1maWwiOiJmci1maW4ifSxhLkVkaXRhYmxlLnByb3RvdHlwZS5hZGRJbWFnZUNsYXNzPWZ1bmN0aW9uKGEsYil7YS5yZW1vdmVDbGFzcygiZnItZmluIGZyLWZpciBmci1maWwiKS5hZGRDbGFzcyhiKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaW5pdEltYWdlRXZlbnRzPWZ1bmN0aW9uKCl7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciYmIWRvY3VtZW50LmRyb3BBc3NpZ25lZCYmKGRvY3VtZW50LmRyb3BBc3NpZ25lZD0hMCxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJkcm9wIixhLnByb3h5KGZ1bmN0aW9uKGIpe3JldHVybiBiLnByZXZlbnREZWZhdWx0KCksYi5zdG9wUHJvcGFnYXRpb24oKSxhKCIuZnJvYWxhLWVsZW1lbnQgaW1nLmZyLWltYWdlLW1vdmUiKS5yZW1vdmVDbGFzcygiZnItaW1hZ2UtbW92ZSIpLCExfSx0aGlzKSkpLHRoaXMuZGlzYWJsZUltYWdlUmVzaXplKCk7dmFyIGI9dGhpczt0aGlzLiRlbGVtZW50Lm9uKCJtb3VzZWRvd24iLCdpbWc6bm90KFtjb250ZW50ZWRpdGFibGU9ImZhbHNlIl0pJyxmdW5jdGlvbihjKXtyZXR1cm4gYi5pc0Rpc2FibGVkPyExOnZvaWQoYi5pc1Jlc2l6aW5nKCl8fChiLmluaXRpYWxpemVkJiZjLnN0b3BQcm9wYWdhdGlvbigpLGIuJGVsZW1lbnQuYXR0cigiY29udGVudGVkaXRhYmxlIiwhMSksYSh0aGlzKS5hZGRDbGFzcygiZnItaW1hZ2UtbW92ZSIpKSl9KSx0aGlzLiRlbGVtZW50Lm9uKCJtb3VzZXVwIiwnaW1nOm5vdChbY29udGVudGVkaXRhYmxlPSJmYWxzZSJdKScsZnVuY3Rpb24oKXtyZXR1cm4gYi5pc0Rpc2FibGVkPyExOnZvaWQoYi5pc1Jlc2l6aW5nKCl8fChiLm9wdGlvbnMuaW1hZ2VNb3ZlfHxiLmlzSW1hZ2V8fGIuaXNIVE1MfHxiLiRlbGVtZW50LmF0dHIoImNvbnRlbnRlZGl0YWJsZSIsITApLGEodGhpcykucmVtb3ZlQ2xhc3MoImZyLWltYWdlLW1vdmUiKSkpfSksdGhpcy4kZWxlbWVudC5vbigiY2xpY2sgdG91Y2hlbmQiLCdpbWc6bm90KFtjb250ZW50ZWRpdGFibGU9ImZhbHNlIl0pJyxmdW5jdGlvbihjKXtpZihiLmlzRGlzYWJsZWQpcmV0dXJuITE7aWYoIWIuaXNSZXNpemluZygpJiZiLmluaXRpYWxpemVkKXtjLnByZXZlbnREZWZhdWx0KCksYy5zdG9wUHJvcGFnYXRpb24oKSxiLmNsb3NlSW1hZ2VNb2RlKCksYi4kZWxlbWVudC5ibHVyKCksYi4kaW1hZ2VfZWRpdG9yLmZpbmQoImJ1dHRvbiIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKTt2YXIgZD1hKHRoaXMpLmNzcygiZmxvYXQiKTtpZihhKHRoaXMpLmhhc0NsYXNzKCJmci1maWwiKT9kPSJsZWZ0IjphKHRoaXMpLmhhc0NsYXNzKCJmci1maXIiKSYmKGQ9InJpZ2h0IiksYi4kaW1hZ2VfZWRpdG9yLmZpbmQoJ2J1dHRvbltkYXRhLWNtZD0iZmxvYXRJbWFnZScrZC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStkLnNsaWNlKDEpKyciXScpLmFkZENsYXNzKCJhY3RpdmUiKSxiLiRpbWFnZV9lZGl0b3IuZmluZCgnLmYtaW1hZ2UtYWx0IGlucHV0W3R5cGU9InRleHQiXScpLnZhbChhKHRoaXMpLmF0dHIoImFsdCIpfHxhKHRoaXMpLmF0dHIoInRpdGxlIikpLGIuc2hvd0ltYWdlRWRpdG9yKCksIWEodGhpcykucGFyZW50KCkuaGFzQ2xhc3MoImYtaW1nLWVkaXRvciIpfHwiU1BBTiIhPWEodGhpcykucGFyZW50KCkuZ2V0KDApLnRhZ05hbWUpe3ZhciBlPWIuZ2V0SW1hZ2VDbGFzcyhhKHRoaXMpLmF0dHIoImNsYXNzIikpO2EodGhpcykud3JhcCgnPHNwYW4gZGF0YS1mci12ZXJpZmllZD0idHJ1ZSIgY2xhc3M9ImYtaW1nLWVkaXRvciAnK2UrJyI+PC9zcGFuPicpLDAhPT1hKHRoaXMpLnBhcmVudHMoIi5mLWltZy13cmFwIikubGVuZ3RofHxiLmlzSW1hZ2U/Yi5hZGRJbWFnZUNsYXNzKGEodGhpcykucGFyZW50cygiLmYtaW1nLXdyYXAiKSxlKTphKHRoaXMpLnBhcmVudHMoImEiKS5sZW5ndGg+MD9hKHRoaXMpLnBhcmVudHMoImE6Zmlyc3QiKS53cmFwKCc8c3BhbiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIiBjbGFzcz0iZi1pbWctd3JhcCAnK2UrJyI+PC9zcGFuPicpOmEodGhpcykucGFyZW50KCkud3JhcCgnPHNwYW4gZGF0YS1mci12ZXJpZmllZD0idHJ1ZSIgY2xhc3M9ImYtaW1nLXdyYXAgJytlKyciPjwvc3Bhbj4nKX12YXIgZj1iLmltYWdlSGFuZGxlKCk7YSh0aGlzKS5wYXJlbnQoKS5maW5kKCIuZi1pbWctaGFuZGxlIikucmVtb3ZlKCksYi5vcHRpb25zLmltYWdlUmVzaXplJiYoYSh0aGlzKS5wYXJlbnQoKS5hcHBlbmQoZi5jbG9uZSghMCkuYWRkQ2xhc3MoImYtaC1uZSIpKSxhKHRoaXMpLnBhcmVudCgpLmFwcGVuZChmLmNsb25lKCEwKS5hZGRDbGFzcygiZi1oLXNlIikpLGEodGhpcykucGFyZW50KCkuYXBwZW5kKGYuY2xvbmUoITApLmFkZENsYXNzKCJmLWgtc3ciKSksYSh0aGlzKS5wYXJlbnQoKS5hcHBlbmQoZi5jbG9uZSghMCkuYWRkQ2xhc3MoImYtaC1udyIpKSksYi5zaG93QnlDb29yZGluYXRlcyhhKHRoaXMpLm9mZnNldCgpLmxlZnQrYSh0aGlzKS53aWR0aCgpLzIsYSh0aGlzKS5vZmZzZXQoKS50b3ArYSh0aGlzKS5oZWlnaHQoKSksYi5pbWFnZU1vZGU9ITAsYi4kYnR0bl93cmFwcGVyLmZpbmQoIi5mci1idHRuIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpLGIuY2xlYXJTZWxlY3Rpb24oKX19KSx0aGlzLiRlbGVtZW50Lm9uKCJtb3VzZWRvd24gdG91Y2hzdGFydCIsIi5mLWltZy1oYW5kbGUiLGEucHJveHkoZnVuY3Rpb24oKXtyZXR1cm4gYi5pc0Rpc2FibGVkPyExOnZvaWQgdGhpcy4kZWxlbWVudC5hdHRyKCJkYXRhLXJlc2l6ZSIsITApfSx0aGlzKSksdGhpcy4kZWxlbWVudC5vbigibW91c2V1cCIsIi5mLWltZy1oYW5kbGUiLGEucHJveHkoZnVuY3Rpb24oYyl7aWYoYi5pc0Rpc2FibGVkKXJldHVybiExO3ZhciBkPWEoYy50YXJnZXQpLnByZXZBbGwoImltZyIpO3NldFRpbWVvdXQoYS5wcm94eShmdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQucmVtb3ZlQXR0cigiZGF0YS1yZXNpemUiKSxkLmNsaWNrKCl9LHRoaXMpLDApfSx0aGlzKSl9LGEuRWRpdGFibGUucHJvdG90eXBlLmluaXRJbWFnZVBvcHVwPWZ1bmN0aW9uKCl7dGhpcy4kaW1hZ2VfZWRpdG9yPWEoJzxkaXYgY2xhc3M9ImZyb2FsYS1wb3B1cCBmcm9hbGEtaW1hZ2UtZWRpdG9yLXBvcHVwIiBzdHlsZT0iZGlzcGxheTogbm9uZSI+Jyk7Zm9yKHZhciBiPWEoJzxkaXYgY2xhc3M9ImYtcG9wdXAtbGluZSBmLXBvcHVwLXRvb2xiYXIiPicpLmFwcGVuZFRvKHRoaXMuJGltYWdlX2VkaXRvciksYz0wO2M8dGhpcy5vcHRpb25zLmltYWdlQnV0dG9ucy5sZW5ndGg7YysrKXt2YXIgZD10aGlzLm9wdGlvbnMuaW1hZ2VCdXR0b25zW2NdO2lmKHZvaWQgMCE9PWEuRWRpdGFibGUuaW1hZ2VfY29tbWFuZHNbZF0pe3ZhciBlPWEuRWRpdGFibGUuaW1hZ2VfY29tbWFuZHNbZF0sZj0nPGJ1dHRvbiBjbGFzcz0iZnItYnR0biIgZGF0YS1jYWxsYmFjaz0iJytkKyciIGRhdGEtY21kPSInK2QrJyIgdGl0bGU9IicrZS50aXRsZSsnIj4nO2YrPXZvaWQgMCE9PXRoaXMub3B0aW9ucy5pY29uc1tkXT90aGlzLnByZXBhcmVJY29uKHRoaXMub3B0aW9ucy5pY29uc1tkXSxlLnRpdGxlKTp0aGlzLnByZXBhcmVJY29uKGUuaWNvbixlLnRpdGxlKSxmKz0iPC9idXR0b24+IixiLmFwcGVuZChmKX19dGhpcy5hZGRMaXN0ZW5lcigiaGlkZVBvcHVwcyIsdGhpcy5oaWRlSW1hZ2VFZGl0b3JQb3B1cCksdGhpcy5vcHRpb25zLmltYWdlVGl0bGUmJmEoJzxkaXYgY2xhc3M9ImYtcG9wdXAtbGluZSBmLWltYWdlLWFsdCI+JykuYXBwZW5kKCc8bGFiZWw+PHNwYW4gZGF0YS10ZXh0PSJ0cnVlIj5UaXRsZTwvc3Bhbj46IDwvbGFiZWw+JykuYXBwZW5kKGEoJzxpbnB1dCB0eXBlPSJ0ZXh0Ij4nKS5vbigibW91c2V1cCBrZXlkb3duIixmdW5jdGlvbihhKXt2YXIgYj1hLndoaWNoO2ImJjI3PT09Ynx8YS5zdG9wUHJvcGFnYXRpb24oKX0pKS5hcHBlbmQoJzxidXR0b24gY2xhc3M9ImYtb2siIGRhdGEtdGV4dD0idHJ1ZSIgZGF0YS1jYWxsYmFjaz0ic2V0SW1hZ2VBbHQiIGRhdGEtY21kPSJzZXRJbWFnZUFsdCIgdGl0bGU9Ik9LIj5PSzwvYnV0dG9uPicpLmFwcGVuZFRvKHRoaXMuJGltYWdlX2VkaXRvciksdGhpcy4kcG9wdXBfZWRpdG9yLmFwcGVuZCh0aGlzLiRpbWFnZV9lZGl0b3IpLHRoaXMuYmluZENvbW1hbmRFdmVudHModGhpcy4kaW1hZ2VfZWRpdG9yKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZmxvYXRJbWFnZUxlZnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiRlbGVtZW50LmZpbmQoInNwYW4uZi1pbWctZWRpdG9yIik7dGhpcy5hZGRJbWFnZUNsYXNzKGEsImZyLWZpbCIpLHRoaXMuaXNJbWFnZSYmdGhpcy4kZWxlbWVudC5jc3MoImZsb2F0IiwibGVmdCIpLHRoaXMudHJpZ2dlckV2ZW50KCJpbWFnZUZsb2F0ZWRMZWZ0IiksYS5maW5kKCJpbWciKS5jbGljaygpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5mbG9hdEltYWdlTm9uZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuJGVsZW1lbnQuZmluZCgic3Bhbi5mLWltZy1lZGl0b3IiKTt0aGlzLmFkZEltYWdlQ2xhc3MoYSwiZnItZmluIiksdGhpcy5pc0ltYWdlfHwoYS5wYXJlbnQoKS5nZXQoMCk9PXRoaXMuJGVsZW1lbnQuZ2V0KDApP2Eud3JhcCgnPGRpdiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyI+PC9kaXY+Jyk6YS5wYXJlbnRzKCIuZi1pbWctd3JhcDpmaXJzdCIpLmNzcygidGV4dC1hbGlnbiIsImNlbnRlciIpKSx0aGlzLmlzSW1hZ2UmJnRoaXMuJGVsZW1lbnQuY3NzKCJmbG9hdCIsIm5vbmUiKSx0aGlzLnRyaWdnZXJFdmVudCgiaW1hZ2VGbG9hdGVkTm9uZSIpLGEuZmluZCgiaW1nIikuY2xpY2soKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZmxvYXRJbWFnZVJpZ2h0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kZWxlbWVudC5maW5kKCJzcGFuLmYtaW1nLWVkaXRvciIpO3RoaXMuYWRkSW1hZ2VDbGFzcyhhLCJmci1maXIiKSx0aGlzLmlzSW1hZ2UmJnRoaXMuJGVsZW1lbnQuY3NzKCJmbG9hdCIsInJpZ2h0IiksdGhpcy50cmlnZ2VyRXZlbnQoImltYWdlRmxvYXRlZFJpZ2h0IiksYS5maW5kKCJpbWciKS5jbGljaygpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5saW5rSW1hZ2U9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiRlbGVtZW50LmZpbmQoInNwYW4uZi1pbWctZWRpdG9yIik7dGhpcy5zaG93SW5zZXJ0TGluaygpLHRoaXMuaW1hZ2VNb2RlPSEwLCJBIj09YS5wYXJlbnQoKS5nZXQoMCkudGFnTmFtZT8odGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9InRleHQiXScpLnZhbChhLnBhcmVudCgpLmF0dHIoImhyZWYiKSksdGhpcy4kbGlua193cmFwcGVyLmZpbmQoIi5mLWV4dGVybmFsLWxpbmsiKS5hdHRyKCJocmVmIixhLnBhcmVudCgpLmF0dHIoImhyZWYiKSksIl9ibGFuayI9PWEucGFyZW50KCkuYXR0cigidGFyZ2V0Iik/dGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9ImNoZWNrYm94Il0nKS5wcm9wKCJjaGVja2VkIiwhMCk6dGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9ImNoZWNrYm94Il0nKS5wcm9wKCJjaGVja2VkIiwhMSksdGhpcy4kbGlua193cmFwcGVyLmZpbmQoImEuZi1leHRlcm5hbC1saW5rLCBidXR0b24uZi11bmxpbmsiKS5zaG93KCkpOih0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0idGV4dCJdJykudmFsKCJodHRwOi8vIiksdGhpcy4kbGlua193cmFwcGVyLmZpbmQoIi5mLWV4dGVybmFsLWxpbmsiKS5hdHRyKCJocmVmIiwiIyIpLHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJjaGVja2JveCJdJykucHJvcCgiY2hlY2tlZCIsdGhpcy5vcHRpb25zLmFsd2F5c0JsYW5rKSx0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgiYS5mLWV4dGVybmFsLWxpbmssIGJ1dHRvbi5mLXVubGluayIpLmhpZGUoKSl9LGEuRWRpdGFibGUucHJvdG90eXBlLnJlcGxhY2VJbWFnZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuJGVsZW1lbnQuZmluZCgic3Bhbi5mLWltZy1lZGl0b3IiKTt0aGlzLnNob3dJbnNlcnRJbWFnZSgpLHRoaXMuaW1hZ2VNb2RlPSEwLHRoaXMuJGltYWdlX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0idGV4dCJdJykudmFsKGEuZmluZCgiaW1nIikuYXR0cigic3JjIikpO3ZhciBiPWEuZmluZCgiaW1nIik7dGhpcy5zaG93QnlDb29yZGluYXRlcyhiLm9mZnNldCgpLmxlZnQrYi53aWR0aCgpLzIsYi5vZmZzZXQoKS50b3ArYi5oZWlnaHQoKSl9LGEuRWRpdGFibGUucHJvdG90eXBlLnJlbW92ZUltYWdlPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy4kZWxlbWVudC5maW5kKCJzcGFuLmYtaW1nLWVkaXRvciIpO2lmKDA9PT1iLmxlbmd0aClyZXR1cm4hMTt2YXIgYz1iLmZpbmQoImltZyIpLmdldCgwKSxkPSJBcmUgeW91IHN1cmU/IEltYWdlIHdpbGwgYmUgZGVsZXRlZC4iO2lmKGEuRWRpdGFibGUuTEFOR1NbdGhpcy5vcHRpb25zLmxhbmd1YWdlXSYmKGQ9YS5FZGl0YWJsZS5MQU5HU1t0aGlzLm9wdGlvbnMubGFuZ3VhZ2VdLnRyYW5zbGF0aW9uW2RdKSwhdGhpcy5vcHRpb25zLmltYWdlRGVsZXRlQ29uZmlybWF0aW9ufHxjb25maXJtKGQpKXtpZih0aGlzLnRyaWdnZXJFdmVudCgiYmVmb3JlUmVtb3ZlSW1hZ2UiLFthKGMpXSwhMSkpe3ZhciBlPWIucGFyZW50cyh0aGlzLnZhbGlkX25vZGVzLmpvaW4oIiwiKSk7Yi5wYXJlbnRzKCIuZi1pbWctd3JhcCIpLmxlbmd0aD9iLnBhcmVudHMoIi5mLWltZy13cmFwIikucmVtb3ZlKCk6Yi5yZW1vdmUoKSx0aGlzLnJlZnJlc2hJbWFnZUxpc3QoITApLHRoaXMuaGlkZSgpLGUubGVuZ3RoJiZlWzBdIT10aGlzLiRlbGVtZW50LmdldCgwKSYmIiI9PT1hKGVbMF0pLnRleHQoKSYmYShlWzBdKS5yZW1vdmUoKSx0aGlzLndyYXBUZXh0KCksdGhpcy50cmlnZ2VyRXZlbnQoImFmdGVyUmVtb3ZlSW1hZ2UiLFthKGMpXSksdGhpcy5mb2N1cygpLHRoaXMuaW1hZ2VNb2RlPSExfX1lbHNlIGIuZmluZCgiaW1nIikuY2xpY2soKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuc2V0SW1hZ2VBbHQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiRlbGVtZW50LmZpbmQoInNwYW4uZi1pbWctZWRpdG9yIik7YS5maW5kKCJpbWciKS5hdHRyKCJhbHQiLHRoaXMuJGltYWdlX2VkaXRvci5maW5kKCcuZi1pbWFnZS1hbHQgaW5wdXRbdHlwZT0idGV4dCJdJykudmFsKCkpLGEuZmluZCgiaW1nIikuYXR0cigidGl0bGUiLHRoaXMuJGltYWdlX2VkaXRvci5maW5kKCcuZi1pbWFnZS1hbHQgaW5wdXRbdHlwZT0idGV4dCJdJykudmFsKCkpLHRoaXMuaGlkZSgpLHRoaXMuY2xvc2VJbWFnZU1vZGUoKSx0aGlzLnRyaWdnZXJFdmVudCgiaW1hZ2VBbHRTZXQiKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuYnVpbGRJbWFnZU1vdmU9ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMuaXNMaW5rfHx0aGlzLmluaXREcmFnKCksYi4kZWxlbWVudC5vbigiZHJhZ292ZXIgZHJhZ2VudGVyIGRyYWdlbmQiLGZ1bmN0aW9uKCl7cmV0dXJuITF9KSxiLiRlbGVtZW50Lm9uKCJkcm9wIixmdW5jdGlvbihjKXtpZihiLmNsb3NlSW1hZ2VNb2RlKCksYi5oaWRlKCksYi5pbWFnZU1vZGU9ITEsYi5pbml0aWFsaXplZHx8KGIuJGVsZW1lbnQudW5iaW5kKCJtb3VzZWRvd24uZWxlbWVudCIpLGIubGF0ZUluaXQoKSksIWIub3B0aW9ucy5pbWFnZVVwbG9hZHx8MCE9PWEoIi5mcm9hbGEtZWxlbWVudCBpbWcuZnItaW1hZ2UtbW92ZSIpLmxlbmd0aCl7aWYoYSgiLmZyb2FsYS1lbGVtZW50IC5mci1pbWFnZS1tb3ZlIikubGVuZ3RoPjAmJmIub3B0aW9ucy5pbWFnZU1vdmUpe2MucHJldmVudERlZmF1bHQoKSxjLnN0b3BQcm9wYWdhdGlvbigpLGIuaW5zZXJ0TWFya2Vyc0F0UG9pbnQoYy5vcmlnaW5hbEV2ZW50KSxiLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKTt2YXIgZD1hKCI8ZGl2PiIpLmFwcGVuZChhKCIuZnJvYWxhLWVsZW1lbnQgaW1nLmZyLWltYWdlLW1vdmUiKS5jbG9uZSgpLnJlbW92ZUNsYXNzKCJmci1pbWFnZS1tb3ZlIikuYWRkQ2xhc3MoImZyLWltYWdlLWRyb3BwZWQiKSkuaHRtbCgpO2IuaW5zZXJ0SFRNTChkKSxhKCIuZnJvYWxhLWVsZW1lbnQgaW1nLmZyLWltYWdlLW1vdmUiKS5yZW1vdmUoKSxiLmNsZWFyU2VsZWN0aW9uKCksYi5pbml0aWFsaXplZD9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi4kZWxlbWVudC5maW5kKCIuZnItaW1hZ2UtZHJvcHBlZCIpLnJlbW92ZUNsYXNzKCIuZnItaW1hZ2UtZHJvcHBlZCIpLmNsaWNrKCl9LDApOmIuJGVsZW1lbnQuZmluZCgiLmZyLWltYWdlLWRyb3BwZWQiKS5yZW1vdmVDbGFzcygiLmZyLWltYWdlLWRyb3BwZWQiKSxiLnN5bmMoKSxiLmhpZGVPdGhlckVkaXRvcnMoKX1lbHNlIGMucHJldmVudERlZmF1bHQoKSxjLnN0b3BQcm9wYWdhdGlvbigpLGEoIi5mcm9hbGEtZWxlbWVudCBpbWcuZnItaW1hZ2UtbW92ZSIpLnJlbW92ZUNsYXNzKCJmci1pbWFnZS1tb3ZlIik7cmV0dXJuITF9aWYoYy5vcmlnaW5hbEV2ZW50LmRhdGFUcmFuc2ZlciYmYy5vcmlnaW5hbEV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcyYmYy5vcmlnaW5hbEV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcy5sZW5ndGgpe2lmKGIuaXNEaXNhYmxlZClyZXR1cm4hMTtiLmluc2VydE1hcmtlcnNBdFBvaW50KGMub3JpZ2luYWxFdmVudCksYi5zaG93QnlDb29yZGluYXRlcyhjLm9yaWdpbmFsRXZlbnQucGFnZVgsYy5vcmlnaW5hbEV2ZW50LnBhZ2VZKSxiLnVwbG9hZEltYWdlKGMub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXIuZmlsZXMpLGMucHJldmVudERlZmF1bHQoKSxjLnN0b3BQcm9wYWdhdGlvbigpfX0pfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5idWlsZERyYWdVcGxvYWQ9ZnVuY3Rpb24oKXt2YXIgYj10aGlzO2IuJGltYWdlX3dyYXBwZXIub24oImRyYWdvdmVyIiwiI2YtdXBsb2FkLWRpdi0iK3RoaXMuX2lkLGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcykuYWRkQ2xhc3MoImYtaG92ZXIiKSwhMX0pLGIuJGltYWdlX3dyYXBwZXIub24oImRyYWdlbmQiLCIjZi11cGxvYWQtZGl2LSIrdGhpcy5faWQsZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzKS5yZW1vdmVDbGFzcygiZi1ob3ZlciIpLCExfSksYi4kaW1hZ2Vfd3JhcHBlci5vbigiZHJvcCIsIiNmLXVwbG9hZC1kaXYtIit0aGlzLl9pZCxmdW5jdGlvbihjKXtyZXR1cm4gYy5wcmV2ZW50RGVmYXVsdCgpLGMuc3RvcFByb3BhZ2F0aW9uKCksYi5vcHRpb25zLmltYWdlVXBsb2FkPyhhKHRoaXMpLnJlbW92ZUNsYXNzKCJmLWhvdmVyIiksdm9pZCBiLnVwbG9hZEltYWdlKGMub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXIuZmlsZXMpKTohMX0pfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zaG93SW1hZ2VMb2FkZXI9ZnVuY3Rpb24oYSl7dm9pZCAwPT09YSYmKGE9ITEpLGE/dGhpcy4kcHJvZ3Jlc3NfYmFyLmZpbmQoInNwYW4iKS5jc3MoIndpZHRoIiwiMTAwJSIpLnRleHQoIlBsZWFzZSB3YWl0ISIpOnRoaXMuJGltYWdlX3dyYXBwZXIuZmluZCgiaDQiKS5hZGRDbGFzcygidXBsb2FkaW5nIiksdGhpcy4kaW1hZ2Vfd3JhcHBlci5maW5kKCIjZi1pbWFnZS1saXN0LSIrdGhpcy5faWQpLmhpZGUoKSx0aGlzLiRwcm9ncmVzc19iYXIuc2hvdygpLHRoaXMuc2hvd0luc2VydEltYWdlKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLmhpZGVJbWFnZUxvYWRlcj1mdW5jdGlvbigpe3RoaXMuJHByb2dyZXNzX2Jhci5oaWRlKCksdGhpcy4kcHJvZ3Jlc3NfYmFyLmZpbmQoInNwYW4iKS5jc3MoIndpZHRoIiwiMCUiKS50ZXh0KCIiKSx0aGlzLiRpbWFnZV93cmFwcGVyLmZpbmQoIiNmLWltYWdlLWxpc3QtIit0aGlzLl9pZCkuc2hvdygpLHRoaXMuJGltYWdlX3dyYXBwZXIuZmluZCgiaDQiKS5yZW1vdmVDbGFzcygidXBsb2FkaW5nIil9LGEuRWRpdGFibGUucHJvdG90eXBlLndyaXRlSW1hZ2U9ZnVuY3Rpb24oYixjKXtpZihjJiYoYj10aGlzLnNhbml0aXplVVJMKGIpLCIiPT09YikpcmV0dXJuITE7dmFyIGQ9bmV3IEltYWdlO2Qub25lcnJvcj1hLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5oaWRlSW1hZ2VMb2FkZXIoKSx0aGlzLnRocm93SW1hZ2VFcnJvcigxKX0sdGhpcyksZC5vbmxvYWQ9dGhpcy5pbWFnZU1vZGU/YS5wcm94eShmdW5jdGlvbigpe3ZhciBhPXRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLWVkaXRvciA+IGltZyIpO2EuYXR0cigic3JjIixiKSx0aGlzLmhpZGUoKSx0aGlzLmhpZGVJbWFnZUxvYWRlcigpLHRoaXMuJGltYWdlX2VkaXRvci5zaG93KCksdGhpcy5lbmFibGUoKSx0aGlzLnRyaWdnZXJFdmVudCgiaW1hZ2VSZXBsYWNlZCIsW2FdKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS50cmlnZ2VyKCJjbGljayIpfSwwKX0sdGhpcyk6YS5wcm94eShmdW5jdGlvbigpe3RoaXMuaW5zZXJ0TG9hZGVkSW1hZ2UoYil9LHRoaXMpLHRoaXMuc2hvd0ltYWdlTG9hZGVyKCEwKSxkLnNyYz1ifSxhLkVkaXRhYmxlLnByb3RvdHlwZS5wcm9jZXNzSW5zZXJ0SW1hZ2U9ZnVuY3Rpb24oYixjKXt2b2lkIDA9PT1jJiYoYz0hMCksdGhpcy5lbmFibGUoKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb24oKSx0aGlzLmZvY3VzKCk7dmFyIGQ9IiI7cGFyc2VJbnQodGhpcy5vcHRpb25zLmRlZmF1bHRJbWFnZVdpZHRoLDEwKSYmKGQ9JyB3aWR0aD0iJyt0aGlzLm9wdGlvbnMuZGVmYXVsdEltYWdlV2lkdGgrJyInKTt2YXIgZT0nPGltZyBjbGFzcz0iZnItZmluIGZyLWp1c3QtaW5zZXJ0ZWQiIGFsdD0iJyt0aGlzLm9wdGlvbnMuZGVmYXVsdEltYWdlVGl0bGUrJyIgc3JjPSInK2IrJyInK2QrIj4iLGY9dGhpcy5nZXRTZWxlY3Rpb25FbGVtZW50cygpWzBdLGc9dGhpcy5nZXRSYW5nZSgpLGg9IXRoaXMuYnJvd3Nlci5tc2llJiZhLkVkaXRhYmxlLmdldElFdmVyc2lvbigpPjg/YShnLnN0YXJ0Q29udGFpbmVyKTpudWxsO2gmJmguaGFzQ2xhc3MoImYtaW1nLXdyYXAiKT8oMT09PWcuc3RhcnRPZmZzZXQ/KGguYWZ0ZXIoJzxwPjxzcGFuIGNsYXNzPSJmLW1hcmtlciIgZGF0YS10eXBlPSJ0cnVlIiBkYXRhLWlkPSIwIj48L3NwYW4+PGJyLz48c3BhbiBjbGFzcz0iZi1tYXJrZXIiIGRhdGEtdHlwZT0iZmFsc2UiIGRhdGEtaWQ9IjAiPjwvc3Bhbj48L3A+JyksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCksdGhpcy5nZXRTZWxlY3Rpb24oKS5jb2xsYXBzZVRvU3RhcnQoKSk6MD09PWcuc3RhcnRPZmZzZXQmJihoLmJlZm9yZSgnPHA+PHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLXR5cGU9InRydWUiIGRhdGEtaWQ9IjAiPjwvc3Bhbj48YnIvPjxzcGFuIGNsYXNzPSJmLW1hcmtlciIgZGF0YS10eXBlPSJmYWxzZSIgZGF0YS1pZD0iMCI+PC9zcGFuPjwvcD4nKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLmdldFNlbGVjdGlvbigpLmNvbGxhcHNlVG9TdGFydCgpKSx0aGlzLmluc2VydEhUTUwoZSkpOnRoaXMuZ2V0U2VsZWN0aW9uVGV4dEluZm8oZikuYXRTdGFydCYmZiE9dGhpcy4kZWxlbWVudC5nZXQoMCkmJiJURCIhPWYudGFnTmFtZSYmIlRIIiE9Zi50YWdOYW1lJiYiTEkiIT1mLnRhZ05hbWU/YShmKS5iZWZvcmUoIjxwPiIrZSsiPC9wPiIpOnRoaXMuaW5zZXJ0SFRNTChlKSx0aGlzLmRpc2FibGUoKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaW5zZXJ0TG9hZGVkSW1hZ2U9ZnVuY3Rpb24oYil7dGhpcy50cmlnZ2VyRXZlbnQoImltYWdlTG9hZGVkIixbYl0sITEpLHRoaXMucHJvY2Vzc0luc2VydEltYWdlKGIsITEpLHRoaXMuYnJvd3Nlci5tc2llJiZ0aGlzLiRlbGVtZW50LmZpbmQoImltZyIpLmVhY2goZnVuY3Rpb24oYSxiKXtiLm9uY29udHJvbHNlbGVjdD1mdW5jdGlvbigpe3JldHVybiExfX0pLHRoaXMuZW5hYmxlKCksdGhpcy5oaWRlKCksdGhpcy5oaWRlSW1hZ2VMb2FkZXIoKSx0aGlzLndyYXBUZXh0KCksc2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5maW5kKCJpbWcuZnItanVzdC1pbnNlcnRlZCIpLnJlbW92ZUNsYXNzKCJmci1qdXN0LWluc2VydGVkIikudHJpZ2dlcigidG91Y2hlbmQiKX0sdGhpcyksNTApLHRoaXMudHJpZ2dlckV2ZW50KCJpbWFnZUluc2VydGVkIixbYl0pfSxhLkVkaXRhYmxlLnByb3RvdHlwZS50aHJvd0ltYWdlRXJyb3JXaXRoTWVzc2FnZT1mdW5jdGlvbihhKXt0aGlzLmVuYWJsZSgpLHRoaXMudHJpZ2dlckV2ZW50KCJpbWFnZUVycm9yIixbe21lc3NhZ2U6YSxjb2RlOjB9XSwhMSksdGhpcy5oaWRlSW1hZ2VMb2FkZXIoKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUudGhyb3dJbWFnZUVycm9yPWZ1bmN0aW9uKGEpe3RoaXMuZW5hYmxlKCk7dmFyIGI9IlVua25vd24gaW1hZ2UgdXBsb2FkIGVycm9yLiI7MT09YT9iPSJCYWQgbGluay4iOjI9PWE/Yj0iTm8gbGluayBpbiB1cGxvYWQgcmVzcG9uc2UuIjozPT1hP2I9IkVycm9yIGR1cmluZyBmaWxlIHVwbG9hZC4iOjQ9PWE/Yj0iUGFyc2luZyByZXNwb25zZSBmYWlsZWQuIjo1PT1hP2I9IkltYWdlIHRvbyBsYXJnZS4iOjY9PWE/Yj0iSW52YWxpZCBpbWFnZSB0eXBlLiI6Nz09YSYmKGI9IkltYWdlIGNhbiBiZSB1cGxvYWRlZCBvbmx5IHRvIHNhbWUgZG9tYWluIGluIElFIDggYW5kIElFIDkuIiksdGhpcy50cmlnZ2VyRXZlbnQoImltYWdlRXJyb3IiLFt7Y29kZTphLG1lc3NhZ2U6Yn1dLCExKSx0aGlzLmhpZGVJbWFnZUxvYWRlcigpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS51cGxvYWRJbWFnZT1mdW5jdGlvbihiKXtpZighdGhpcy50cmlnZ2VyRXZlbnQoImJlZm9yZUltYWdlVXBsb2FkIixbYl0sITEpKXJldHVybiExO2lmKHZvaWQgMCE9PWImJmIubGVuZ3RoPjApe3ZhciBjO2lmKHRoaXMuZHJhZ19zdXBwb3J0LmZvcm1kYXRhJiYoYz10aGlzLmRyYWdfc3VwcG9ydC5mb3JtZGF0YT9uZXcgRm9ybURhdGE6bnVsbCksYyl7dmFyIGQ7Zm9yKGQgaW4gdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkUGFyYW1zKWMuYXBwZW5kKGQsdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkUGFyYW1zW2RdKTtpZih0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRUb1MzIT09ITEpe2ZvcihkIGluIHRoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzMucGFyYW1zKWMuYXBwZW5kKGQsdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkVG9TMy5wYXJhbXNbZF0pO2MuYXBwZW5kKCJzdWNjZXNzX2FjdGlvbl9zdGF0dXMiLCIyMDEiKSxjLmFwcGVuZCgiWC1SZXF1ZXN0ZWQtV2l0aCIsInhociIpLGMuYXBwZW5kKCJDb250ZW50LVR5cGUiLGJbMF0udHlwZSksYy5hcHBlbmQoImtleSIsdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkVG9TMy5rZXlTdGFydCsobmV3IERhdGUpLmdldFRpbWUoKSsiLSIrYlswXS5uYW1lKX1pZihjLmFwcGVuZCh0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRQYXJhbSxiWzBdKSxiWzBdLnNpemU+dGhpcy5vcHRpb25zLm1heEltYWdlU2l6ZSlyZXR1cm4gdGhpcy50aHJvd0ltYWdlRXJyb3IoNSksITE7aWYodGhpcy5vcHRpb25zLmFsbG93ZWRJbWFnZVR5cGVzLmluZGV4T2YoYlswXS50eXBlLnJlcGxhY2UoL2ltYWdlXC8vZywiIikpPDApcmV0dXJuIHRoaXMudGhyb3dJbWFnZUVycm9yKDYpLCExfWlmKGMpe3ZhciBlO2lmKHRoaXMub3B0aW9ucy5jcm9zc0RvbWFpbillPXRoaXMuY3JlYXRlQ09SU1JlcXVlc3QoIlBPU1QiLHRoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFVSTCk7ZWxzZXtlPW5ldyBYTUxIdHRwUmVxdWVzdCxlLm9wZW4oIlBPU1QiLHRoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFVSTCk7Zm9yKHZhciBmIGluIHRoaXMub3B0aW9ucy5oZWFkZXJzKWUuc2V0UmVxdWVzdEhlYWRlcihmLHRoaXMub3B0aW9ucy5oZWFkZXJzW2ZdKX1lLm9ubG9hZD1hLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy4kcHJvZ3Jlc3NfYmFyLmZpbmQoInNwYW4iKS5jc3MoIndpZHRoIiwiMTAwJSIpLnRleHQoIlBsZWFzZSB3YWl0ISIpO3RyeXt0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRUb1MzPzIwMT09ZS5zdGF0dXM/dGhpcy5wYXJzZUltYWdlUmVzcG9uc2VYTUwoZS5yZXNwb25zZVhNTCk6dGhpcy50aHJvd0ltYWdlRXJyb3IoMyk6ZS5zdGF0dXM+PTIwMCYmZS5zdGF0dXM8MzAwP3RoaXMucGFyc2VJbWFnZVJlc3BvbnNlKGUucmVzcG9uc2VUZXh0KTp0aGlzLnRocm93SW1hZ2VFcnJvcigzKX1jYXRjaChhKXt0aGlzLnRocm93SW1hZ2VFcnJvcig0KX19LHRoaXMpLGUub25lcnJvcj1hLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy50aHJvd0ltYWdlRXJyb3IoMyl9LHRoaXMpLGUudXBsb2FkLm9ucHJvZ3Jlc3M9YS5wcm94eShmdW5jdGlvbihhKXtpZihhLmxlbmd0aENvbXB1dGFibGUpe3ZhciBiPWEubG9hZGVkL2EudG90YWwqMTAwfDA7dGhpcy4kcHJvZ3Jlc3NfYmFyLmZpbmQoInNwYW4iKS5jc3MoIndpZHRoIixiKyIlIil9fSx0aGlzKSx0aGlzLmRpc2FibGUoKSxlLnNlbmQoYyksdGhpcy5zaG93SW1hZ2VMb2FkZXIoKX19fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5wYXJzZUltYWdlUmVzcG9uc2U9ZnVuY3Rpb24oYil7dHJ5e3ZhciBjPWEucGFyc2VKU09OKGIpO2MubGluaz90aGlzLndyaXRlSW1hZ2UoYy5saW5rKTpjLmVycm9yP3RoaXMudGhyb3dJbWFnZUVycm9yV2l0aE1lc3NhZ2UoYy5lcnJvcik6dGhpcy50aHJvd0ltYWdlRXJyb3IoMil9Y2F0Y2goZCl7dGhpcy50aHJvd0ltYWdlRXJyb3IoNCl9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5wYXJzZUltYWdlUmVzcG9uc2VYTUw9ZnVuY3Rpb24oYil7dHJ5e3ZhciBjPWEoYikuZmluZCgiTG9jYXRpb24iKS50ZXh0KCksZD1hKGIpLmZpbmQoIktleSIpLnRleHQoKTt0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRUb1MzLmNhbGxiYWNrLmNhbGwodGhpcyxjLGQpLGM/dGhpcy53cml0ZUltYWdlKGMpOnRoaXMudGhyb3dJbWFnZUVycm9yKDIpfWNhdGNoKGUpe3RoaXMudGhyb3dJbWFnZUVycm9yKDQpfX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuc2V0SW1hZ2VVcGxvYWRVUkw9ZnVuY3Rpb24oYSl7YSYmKHRoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFVSTD1hKSx0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRUb1MzJiYodGhpcy5vcHRpb25zLmltYWdlVXBsb2FkVVJMPSJodHRwczovLyIrdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkVG9TMy5idWNrZXQrIi4iK3RoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzMucmVnaW9uKyIuYW1hem9uYXdzLmNvbS8iKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuY2xvc2VJbWFnZU1vZGU9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmZpbmQoInNwYW4uZi1pbWctZWRpdG9yID4gaW1nIikuZWFjaChhLnByb3h5KGZ1bmN0aW9uKGIsYyl7dGhpcy5hZGRJbWFnZUNsYXNzKGEoYyksdGhpcy5nZXRJbWFnZUNsYXNzKGEoYykucGFyZW50KCkuYXR0cigiY2xhc3MiKSkpLGEoYykucGFyZW50cygiLmYtaW1nLXdyYXAiKS5sZW5ndGg+MD8iQSI9PWEoYykucGFyZW50KCkucGFyZW50KCkuZ2V0KDApLnRhZ05hbWU/YShjKS5zaWJsaW5ncygic3Bhbi5mLWltZy1oYW5kbGUiKS5yZW1vdmUoKS5lbmQoKS51bndyYXAoKS5wYXJlbnQoKS51bndyYXAoKTphKGMpLnNpYmxpbmdzKCJzcGFuLmYtaW1nLWhhbmRsZSIpLnJlbW92ZSgpLmVuZCgpLnVud3JhcCgpLnVud3JhcCgpOmEoYykuc2libGluZ3MoInNwYW4uZi1pbWctaGFuZGxlIikucmVtb3ZlKCkuZW5kKCkudW53cmFwKCl9LHRoaXMpKSx0aGlzLiRlbGVtZW50LmZpbmQoInNwYW4uZi1pbWctZWRpdG9yIikubGVuZ3RoJiYodGhpcy4kZWxlbWVudC5maW5kKCJzcGFuLmYtaW1nLWVkaXRvciIpLnJlbW92ZSgpLHRoaXMuJGVsZW1lbnQucGFyZW50cygic3Bhbi5mLWltZy1lZGl0b3IiKS5yZW1vdmUoKSksdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygiZi1ub24tc2VsZWN0YWJsZSIpLHRoaXMuZWRpdGFibGVEaXNhYmxlZHx8dGhpcy5pc0hUTUx8fHRoaXMuJGVsZW1lbnQuYXR0cigiY29udGVudGVkaXRhYmxlIiwhMCksdGhpcy4kaW1hZ2VfZWRpdG9yJiZ0aGlzLiRpbWFnZV9lZGl0b3IuaGlkZSgpLHRoaXMuJGxpbmtfd3JhcHBlciYmdGhpcy5vcHRpb25zLmxpbmtUZXh0JiZ0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0idGV4dCJdLmYtbHQnKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygiZnItaGlkZGVuIil9LGEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hJbWFnZUxpc3Q9ZnVuY3Rpb24oYil7aWYoIXRoaXMuaXNMaW5rJiYhdGhpcy5vcHRpb25zLmVkaXRJblBvcHVwKXt2YXIgYz1bXSxkPVtdLGU9dGhpcztpZih0aGlzLiRlbGVtZW50LmZpbmQoImltZyIpLmVhY2goZnVuY3Rpb24oYixmKXt2YXIgZz1hKGYpO2lmKGMucHVzaChnLmF0dHIoInNyYyIpKSxkLnB1c2goZyksMD09PWcucGFyZW50cygiLmYtaW1nLWVkaXRvciIpLmxlbmd0aCYmIWcuaGFzQ2xhc3MoImZyLWZpbCIpJiYhZy5oYXNDbGFzcygiZnItZmlyIikmJiFnLmhhc0NsYXNzKCJmci1maW4iKSl7dmFyIGg7InJpZ2h0Ij09Zy5jc3MoImZsb2F0Iik/KGg9Zy5wYXJlbnQoKSxoLmhhc0NsYXNzKCJmLWltZy1lZGl0b3IiKT9oLmFkZENsYXNzKCJmci1maXIiKTpnLmFkZENsYXNzKCJmci1maXIiKSk6ImxlZnQiPT1nLmNzcygiZmxvYXQiKT8oaD1nLnBhcmVudCgpLGguaGFzQ2xhc3MoImYtaW1nLWVkaXRvciIpP2guYWRkQ2xhc3MoImZyLWZpbCIpOmcuYWRkQ2xhc3MoImZyLWZpbCIpKTooaD1nLnBhcmVudCgpLGguaGFzQ2xhc3MoImYtaW1nLWVkaXRvciIpP2guYWRkQ2xhc3MoImZyLWZpbiIpOmcuYWRkQ2xhc3MoImZyLWZpbiIpKX1lLm9wdGlvbnMudGV4dE5lYXJJbWFnZT9nLnJlbW92ZUNsYXNzKCJmci10bmkiKTpnLmFkZENsYXNzKCJmci10bmkiKSxnLmNzcygibWFyZ2luIiwiIiksZy5jc3MoImZsb2F0IiwiIil9KSx2b2lkIDA9PT1iKWZvcih2YXIgZj0wO2Y8dGhpcy5pbWFnZUxpc3QubGVuZ3RoO2YrKyljLmluZGV4T2YodGhpcy5pbWFnZUxpc3RbZl0uYXR0cigic3JjIikpPDAmJnRoaXMudHJpZ2dlckV2ZW50KCJhZnRlclJlbW92ZUltYWdlIixbdGhpcy5pbWFnZUxpc3RbZl1dLCExKTt0aGlzLmltYWdlTGlzdD1kfX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaW5zZXJ0SW1hZ2U9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuaW5saW5lTW9kZXx8KHRoaXMuY2xvc2VJbWFnZU1vZGUoKSx0aGlzLmltYWdlTW9kZT0hMSx0aGlzLnBvc2l0aW9uUG9wdXAoImluc2VydEltYWdlIikpLHRoaXMuc2VsZWN0aW9uSW5FZGl0b3IoKSYmdGhpcy5zYXZlU2VsZWN0aW9uKCksdGhpcy5zaG93SW5zZXJ0SW1hZ2UoKSx0aGlzLmltYWdlTW9kZT0hMSx0aGlzLiRpbWFnZV93cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9InRleHQiXScpLnZhbCgiIil9fShqUXVlcnkpLGZ1bmN0aW9uKGEpe2EuRWRpdGFibGUucHJvdG90eXBlLnNob3dMaW5rV3JhcHBlcj1mdW5jdGlvbigpe3RoaXMuJGxpbmtfd3JhcHBlciYmKHRoaXMuJGxpbmtfd3JhcHBlci5zaG93KCksdGhpcy4kbGlua193cmFwcGVyLnRyaWdnZXIoImhpZGVMaW5rTGlzdCIpLHRoaXMuJGxpbmtfd3JhcHBlci50cmlnZ2VyKCJoaWRlTGlua0NsYXNzTGlzdCIpLHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCJpbnB1dC5mLWx1IikucmVtb3ZlQ2xhc3MoImZyLWVycm9yIiksdGhpcy5pbWFnZU1vZGV8fCF0aGlzLm9wdGlvbnMubGlua1RleHQ/dGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9InRleHQiXS5mLWx0JykucGFyZW50KCkuYWRkQ2xhc3MoImZyLWhpZGRlbiIpOnRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJ0ZXh0Il0uZi1sdCcpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCJmci1oaWRkZW4iKSx0aGlzLmltYWdlTW9kZSYmdGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9InRleHQiXS5mLWx1JykucmVtb3ZlQXR0cigiZGlzYWJsZWQiKSx0aGlzLnBob25lKCk/dGhpcy4kZG9jdW1lbnQuc2Nyb2xsVG9wKHRoaXMuJGxpbmtfd3JhcHBlci5vZmZzZXQoKS50b3AtMTApOnNldFRpbWVvdXQoYS5wcm94eShmdW5jdGlvbigpe3RoaXMuJGxpbmtfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJ0ZXh0Il0uZi1sdScpLmZvY3VzKCkuc2VsZWN0KCl9LHRoaXMpLDApLHRoaXMubGluaz0hMCl9LGEuRWRpdGFibGUucHJvdG90eXBlLmhpZGVMaW5rV3JhcHBlcj1mdW5jdGlvbigpe3RoaXMuJGxpbmtfd3JhcHBlciYmKHRoaXMuJGxpbmtfd3JhcHBlci5oaWRlKCksdGhpcy4kbGlua193cmFwcGVyLmZpbmQoImlucHV0IikuYmx1cigpKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuc2hvd0luc2VydExpbms9ZnVuY3Rpb24oKXt0aGlzLmhpZGVQb3B1cHMoKSx0aGlzLnNob3dMaW5rV3JhcHBlcigpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pbml0TGlua0V2ZW50cz1mdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1mdW5jdGlvbihhKXthLnN0b3BQcm9wYWdhdGlvbigpLGEucHJldmVudERlZmF1bHQoKX0sZD1mdW5jdGlvbihjKXtpZihjLnN0b3BQcm9wYWdhdGlvbigpLGMucHJldmVudERlZmF1bHQoKSxiLmlzRGlzYWJsZWQpcmV0dXJuITE7aWYoIiIhPT1iLnRleHQoKSlyZXR1cm4gYi5oaWRlKCksITE7Yi5saW5rPSEwLGIuY2xlYXJTZWxlY3Rpb24oKSxiLnJlbW92ZU1hcmtlcnMoKSxiLnNlbGVjdGlvbkRpc2FibGVkfHwoYSh0aGlzKS5iZWZvcmUoJzxzcGFuIGNsYXNzPSJmLW1hcmtlciIgZGF0YS10eXBlPSJ0cnVlIiBkYXRhLWlkPSIwIiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIj48L3NwYW4+JyksYSh0aGlzKS5hZnRlcignPHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLXR5cGU9ImZhbHNlIiBkYXRhLWlkPSIwIiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIj48L3NwYW4+JyksYi5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCkpLGIuZXhlYygiY3JlYXRlTGluayIpO3ZhciBkPWEodGhpcykuYXR0cigiaHJlZiIpfHwiIjtiLiRsaW5rX3dyYXBwZXIuZmluZCgiaW5wdXQuZi1sdCIpLnZhbChhKHRoaXMpLnRleHQoKSksYi5pc0xpbms/KCIjIj09ZCYmKGQ9IiIpLGIuJGxpbmtfd3JhcHBlci5maW5kKCJpbnB1dCNmLWx1LSIrYi5faWQpLnZhbChkLnJlcGxhY2UoL1wmYW1wOy9nLCImIikpLGIuJGxpbmtfd3JhcHBlci5maW5kKCIuZi1leHRlcm5hbC1saW5rIikuYXR0cigiaHJlZiIsZHx8IiMiKSk6KGIuJGxpbmtfd3JhcHBlci5maW5kKCJpbnB1dC5mLWx1IikudmFsKGQucmVwbGFjZSgvXCZhbXA7L2csIiYiKSksYi4kbGlua193cmFwcGVyLmZpbmQoIi5mLWV4dGVybmFsLWxpbmsiKS5hdHRyKCJocmVmIixkKSksYi4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9ImNoZWNrYm94Il0nKS5wcm9wKCJjaGVja2VkIiwiX2JsYW5rIj09YSh0aGlzKS5hdHRyKCJ0YXJnZXQiKSksYi4kbGlua193cmFwcGVyLmZpbmQoImxpLmYtY2hvb3NlLWxpbmstY2xhc3MiKS5lYWNoKGEucHJveHkoZnVuY3Rpb24oYixjKXthKHRoaXMpLmhhc0NsYXNzKGEoYykuZGF0YSgiY2xhc3MiKSkmJmEoYykuY2xpY2soKX0sdGhpcykpLGIuc2hvd0J5Q29vcmRpbmF0ZXMoYSh0aGlzKS5vZmZzZXQoKS5sZWZ0K2EodGhpcykub3V0ZXJXaWR0aCgpLzIsYSh0aGlzKS5vZmZzZXQoKS50b3ArKHBhcnNlSW50KGEodGhpcykuY3NzKCJwYWRkaW5nLXRvcCIpLDEwKXx8MCkrYSh0aGlzKS5oZWlnaHQoKSksYi5zaG93SW5zZXJ0TGluaygpLGEodGhpcykuaGFzQ2xhc3MoImZyLWZpbGUiKT9iLiRsaW5rX3dyYXBwZXIuZmluZCgiaW5wdXQuZi1sdSIpLmF0dHIoImRpc2FibGVkIiwiZGlzYWJsZWQiKTpiLiRsaW5rX3dyYXBwZXIuZmluZCgiaW5wdXQuZi1sdSIpLnJlbW92ZUF0dHIoImRpc2FibGVkIiksYi5jbG9zZUltYWdlTW9kZSgpfTt0aGlzLiRlbGVtZW50Lm9uKCJtb3VzZWRvd24iLCJhIixhLnByb3h5KGZ1bmN0aW9uKGEpe3RoaXMuaXNSZXNpemluZygpfHxhLnN0b3BQcm9wYWdhdGlvbigpfSx0aGlzKSksdGhpcy5pc0xpbms/dGhpcy5pT1MoKT8odGhpcy4kZWxlbWVudC5vbigidG91Y2hzdGFydCIsYyksdGhpcy4kZWxlbWVudC5vbigidG91Y2hlbmQiLGQpKTp0aGlzLiRlbGVtZW50Lm9uKCJjbGljayIsZCk6dGhpcy5pT1MoKT8odGhpcy4kZWxlbWVudC5vbigidG91Y2hzdGFydCIsJ2E6bm90KFtjb250ZW50ZWRpdGFibGU9ImZhbHNlIl0pJyxjKSx0aGlzLiRlbGVtZW50Lm9uKCJ0b3VjaGVuZCIsJ2E6bm90KFtjb250ZW50ZWRpdGFibGU9ImZhbHNlIl0pJyxkKSx0aGlzLiRlbGVtZW50Lm9uKCJ0b3VjaHN0YXJ0IiwnYVtjb250ZW50ZWRpdGFibGU9ImZhbHNlIl0nLGMpLHRoaXMuJGVsZW1lbnQub24oInRvdWNoZW5kIiwnYVtjb250ZW50ZWRpdGFibGU9ImZhbHNlIl0nLGMpKToodGhpcy4kZWxlbWVudC5vbigiY2xpY2siLCdhOm5vdChbY29udGVudGVkaXRhYmxlPSJmYWxzZSJdKScsZCksdGhpcy4kZWxlbWVudC5vbigiY2xpY2siLCdhW2NvbnRlbnRlZGl0YWJsZT0iZmFsc2UiXScsYykpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5kZXN0cm95TGluaz1mdW5jdGlvbigpe3RoaXMuJGxpbmtfd3JhcHBlci5odG1sKCIiKS5yZW1vdmVEYXRhKCkucmVtb3ZlKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLmluaXRMaW5rPWZ1bmN0aW9uKCl7dGhpcy5idWlsZENyZWF0ZUxpbmsoKSx0aGlzLmluaXRMaW5rRXZlbnRzKCksdGhpcy5hZGRMaXN0ZW5lcigiZGVzdHJveSIsdGhpcy5kZXN0cm95TGluayl9LGEuRWRpdGFibGUuaW5pdGlhbGl6ZXJzLnB1c2goYS5FZGl0YWJsZS5wcm90b3R5cGUuaW5pdExpbmspLGEuRWRpdGFibGUucHJvdG90eXBlLnJlbW92ZUxpbms9ZnVuY3Rpb24oKXt0aGlzLmltYWdlTW9kZT8oIkEiPT10aGlzLiRlbGVtZW50LmZpbmQoIi5mLWltZy1lZGl0b3IiKS5wYXJlbnQoKS5nZXQoMCkudGFnTmFtZSYmYSh0aGlzLiRlbGVtZW50LmZpbmQoIi5mLWltZy1lZGl0b3IiKS5nZXQoMCkpLnVud3JhcCgpLHRoaXMudHJpZ2dlckV2ZW50KCJpbWFnZUxpbmtSZW1vdmVkIiksdGhpcy5zaG93SW1hZ2VFZGl0b3IoKSx0aGlzLiRlbGVtZW50LmZpbmQoIi5mLWltZy1lZGl0b3IiKS5maW5kKCJpbWciKS5jbGljaygpLHRoaXMubGluaz0hMSk6KHRoaXMucmVzdG9yZVNlbGVjdGlvbigpLGRvY3VtZW50LmV4ZWNDb21tYW5kKCJ1bmxpbmsiLCExLG51bGwpLHRoaXMuaXNMaW5rfHx0aGlzLiRlbGVtZW50LmZpbmQoImE6ZW1wdHkiKS5yZW1vdmUoKSx0aGlzLnRyaWdnZXJFdmVudCgibGlua1JlbW92ZWQiKSx0aGlzLmhpZGVMaW5rV3JhcHBlcigpLHRoaXMuJGJ0dG5fd3JhcHBlci5zaG93KCksKCF0aGlzLm9wdGlvbnMuaW5saW5lTW9kZXx8dGhpcy5pc0xpbmspJiZ0aGlzLmhpZGUoKSx0aGlzLmxpbms9ITEpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS53cml0ZUxpbms9ZnVuY3Rpb24oYixjLGQsZSxmKXt2YXIgZzt0aGlzLm9wdGlvbnMubm9Gb2xsb3cmJihmPSEwKSx0aGlzLm9wdGlvbnMuYWx3YXlzQmxhbmsmJihlPSEwKTt2YXIgaD0iIixpPSIiO2Y9PT0hMCYmL15odHRwcz86XC9cLy8udGVzdChiKSYmKGg9J3JlbD0ibm9mb2xsb3ciJyksZT09PSEwJiYoaT0ndGFyZ2V0PSJfYmxhbmsiJyk7dmFyIGo9YjtpZihiPXRoaXMuc2FuaXRpemVVUkwoYiksdGhpcy5vcHRpb25zLmNvbnZlcnRNYWlsQWRkcmVzc2VzKXt2YXIgaz0vW2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dKyg/OlwuW2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dKykqQCg/OlthLXowLTldKD86W2EtejAtOS1dKlthLXowLTldKT9cLikrW2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pPy9pO2sudGVzdChiKSYmMCE9PWIuaW5kZXhPZigibWFpbHRvOiIpJiYoYj0ibWFpbHRvOiIrYil9aWYoIiI9PT1iKXJldHVybiB0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgiaW5wdXQuZi1sdSIpLmFkZENsYXNzKCJmci1lcnJvciIpLmZvY3VzKCksdGhpcy50cmlnZ2VyRXZlbnQoImJhZExpbmsiLFtqXSwhMSksITE7aWYodGhpcy4kbGlua193cmFwcGVyLmZpbmQoImlucHV0LmYtbHUiKS5yZW1vdmVDbGFzcygiZnItZXJyb3IiKSx0aGlzLmltYWdlTW9kZSl7aWYoIkEiIT10aGlzLiRlbGVtZW50LmZpbmQoIi5mLWltZy1lZGl0b3IiKS5wYXJlbnQoKS5nZXQoMCkudGFnTmFtZSl0aGlzLiRlbGVtZW50LmZpbmQoIi5mLWltZy1lZGl0b3IiKS53cmFwKCc8YSBkYXRhLWZyLWxpbms9InRydWUiIGhyZWY9IicrYisnIiAnK2krIiAiK2grIj48L2E+Iik7ZWxzZXt2YXIgbD10aGlzLiRlbGVtZW50LmZpbmQoIi5mLWltZy1lZGl0b3IiKS5wYXJlbnQoKTtlPT09ITA/bC5hdHRyKCJ0YXJnZXQiLCJfYmxhbmsiKTpsLnJlbW92ZUF0dHIoInRhcmdldCIpLGY9PT0hMD9sLmF0dHIoInJlbCIsIm5vZm9sbG93Iik6bC5yZW1vdmVBdHRyKCJyZWwiKSxsLnJlbW92ZUNsYXNzKE9iamVjdC5rZXlzKHRoaXMub3B0aW9ucy5saW5rQ2xhc3Nlcykuam9pbigiICIpKSxsLmF0dHIoImhyZWYiLGIpLmFkZENsYXNzKGQpfXRoaXMudHJpZ2dlckV2ZW50KCJpbWFnZUxpbmtJbnNlcnRlZCIsW2JdKSx0aGlzLnNob3dJbWFnZUVkaXRvcigpLHRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLWVkaXRvciIpLmZpbmQoImltZyIpLmNsaWNrKCksdGhpcy5saW5rPSExfWVsc2V7dmFyIG09bnVsbDt0aGlzLmlzTGluaz8iIj09PWMmJihjPXRoaXMuJGVsZW1lbnQudGV4dCgpKToodGhpcy5yZXN0b3JlU2VsZWN0aW9uKCksZz10aGlzLmdldFNlbGVjdGlvbkxpbmtzKCksZy5sZW5ndGg+MCYmKG09Z1swXS5hdHRyaWJ1dGVzLGlzX2ZpbGU9YShnWzBdKS5oYXNDbGFzcygiZnItZmlsZSIpKSx0aGlzLnNhdmVTZWxlY3Rpb25CeU1hcmtlcnMoKSxkb2N1bWVudC5leGVjQ29tbWFuZCgidW5saW5rIiwhMSxiKSx0aGlzLiRlbGVtZW50LmZpbmQoJ3NwYW5bZGF0YS1mci1saW5rPSJ0cnVlIl0nKS5lYWNoKGZ1bmN0aW9uKGIsYyl7YShjKS5yZXBsYWNlV2l0aChhKGMpLmh0bWwoKSl9KSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSksdGhpcy5pc0xpbms/KHRoaXMuJGVsZW1lbnQudGV4dChjKSxnPVt0aGlzLiRlbGVtZW50LmF0dHIoImhyZWYiLGIpLmdldCgwKV0pOih0aGlzLnJlbW92ZU1hcmtlcnMoKSwodGhpcy5vcHRpb25zLmxpbmtUZXh0fHwiIj09PXRoaXMudGV4dCgpKSYmKHRoaXMuaW5zZXJ0SFRNTCgnPHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIiBkYXRhLWlkPSIwIiBkYXRhLXR5cGU9InRydWUiPjwvc3Bhbj4nKyhjfHxiKSsnPHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIiBkYXRhLWlkPSIwIiBkYXRhLXR5cGU9ImZhbHNlIj48L3NwYW4+JyksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCkpLGRvY3VtZW50LmV4ZWNDb21tYW5kKCJjcmVhdGVMaW5rIiwhMSxiKSxnPXRoaXMuZ2V0U2VsZWN0aW9uTGlua3MoKSk7Zm9yKHZhciBuPTA7bjxnLmxlbmd0aDtuKyspe2lmKG0pZm9yKHZhciBvPTA7bzxtLmxlbmd0aDtvKyspImhyZWYiIT1tW29dLm5vZGVOYW1lJiZhKGdbbl0pLmF0dHIobVtvXS5ub2RlTmFtZSxtW29dLnZhbHVlKTtlPT09ITA/YShnW25dKS5hdHRyKCJ0YXJnZXQiLCJfYmxhbmsiKTphKGdbbl0pLnJlbW92ZUF0dHIoInRhcmdldCIpLGY9PT0hMCYmL15odHRwcz86XC9cLy8udGVzdChiKT9hKGdbbl0pLmF0dHIoInJlbCIsIm5vZm9sbG93Iik6YShnW25dKS5yZW1vdmVBdHRyKCJyZWwiKSxhKGdbbl0pLmRhdGEoImZyLWxpbmsiLCEwKSxhKGdbbl0pLnJlbW92ZUNsYXNzKE9iamVjdC5rZXlzKHRoaXMub3B0aW9ucy5saW5rQ2xhc3Nlcykuam9pbigiICIpKSxhKGdbbl0pLmFkZENsYXNzKGQpfXRoaXMuJGVsZW1lbnQuZmluZCgiYTplbXB0eSIpLnJlbW92ZSgpLHRoaXMudHJpZ2dlckV2ZW50KCJsaW5rSW5zZXJ0ZWQiLFtiXSksdGhpcy5oaWRlTGlua1dyYXBwZXIoKSx0aGlzLiRidHRuX3dyYXBwZXIuc2hvdygpLCghdGhpcy5vcHRpb25zLmlubGluZU1vZGV8fHRoaXMuaXNMaW5rKSYmdGhpcy5oaWRlKCksdGhpcy5saW5rPSExfX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuY3JlYXRlTGlua0hUTUw9ZnVuY3Rpb24oKXt2YXIgYT0nPGRpdiBjbGFzcz0iZnJvYWxhLXBvcHVwIGZyb2FsYS1saW5rLXBvcHVwIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPic7YSs9JzxoND48c3BhbiBkYXRhLXRleHQ9InRydWUiPkluc2VydCBMaW5rPC9zcGFuPjxhIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0iT3BlbiBMaW5rIiBjbGFzcz0iZi1leHRlcm5hbC1saW5rIiBocmVmPSIjIj48aSBjbGFzcz0iZmEgZmEtZXh0ZXJuYWwtbGluayI+PC9pPjwvYT48aSB0aXRsZT0iQ2FuY2VsIiBjbGFzcz0iZmEgZmEtdGltZXMiIGlkPSJmLWxpbmstY2xvc2UtJyt0aGlzLl9pZCsnIj48L2k+PC9oND4nLGErPSc8ZGl2IGNsYXNzPSJmLXBvcHVwLWxpbmUgZnItaGlkZGVuIj48aW5wdXQgdHlwZT0idGV4dCIgcGxhY2Vob2xkZXI9IlRleHQiIGNsYXNzPSJmLWx0IiBpZD0iZi1sdC0nK3RoaXMuX2lkKyciPjwvZGl2Pic7dmFyIGI9IiI7aWYodGhpcy5vcHRpb25zLmxpbmtMaXN0Lmxlbmd0aCYmKGI9ImYtYmkiKSxhKz0nPGRpdiBjbGFzcz0iZi1wb3B1cC1saW5lIj48aW5wdXQgdHlwZT0idGV4dCIgcGxhY2Vob2xkZXI9Imh0dHA6Ly93d3cuZXhhbXBsZS5jb20iIGNsYXNzPSJmLWx1ICcrYisnIiBpZD0iZi1sdS0nK3RoaXMuX2lkKyciLz4nLHRoaXMub3B0aW9ucy5saW5rTGlzdC5sZW5ndGgpe2ErPSc8YnV0dG9uIGNsYXNzPSJmLWJyb3dzZS1saW5rcyIgaWQ9ImYtYnJvd3NlLWxpbmtzLScrdGhpcy5faWQrJyI+PGkgY2xhc3M9ImZhIGZhLWNoZXZyb24tZG93biI+PC9pPjwvYnV0dG9uPicsYSs9Jzx1bCBpZD0iZi1saW5rLWxpc3QtJyt0aGlzLl9pZCsnIj4nO2Zvcih2YXIgYz0wO2M8dGhpcy5vcHRpb25zLmxpbmtMaXN0Lmxlbmd0aDtjKyspe3ZhciBkPXRoaXMub3B0aW9ucy5saW5rTGlzdFtjXTthKz0nPGxpIGNsYXNzPSJmLWNob29zZS1saW5rIiBkYXRhLW5vZm9sbG93PSInK2Qubm9mb2xsb3crJyIgZGF0YS1ibGFuaz0iJytkLmJsYW5rKyciIGRhdGEtYm9keT0iJytkLmJvZHkrJyIgZGF0YS10aXRsZT0iJytkLnRpdGxlKyciIGRhdGEtaHJlZj0iJytkLmhyZWYrJyI+JytkLmJvZHkrIjwvbGk+In1hKz0iPC91bD4ifWlmKGErPSI8L2Rpdj4iLE9iamVjdC5rZXlzKHRoaXMub3B0aW9ucy5saW5rQ2xhc3NlcykubGVuZ3RoKXthKz0nPGRpdiBjbGFzcz0iZi1wb3B1cC1saW5lIj48aW5wdXQgdHlwZT0idGV4dCIgcGxhY2Vob2xkZXI9IkNob29zZSBsaW5rIHR5cGUiIGNsYXNzPSJmLWJpIiBpZD0iZi1sdWMtJyt0aGlzLl9pZCsnIiBkaXNhYmxlZD0iZGlzYWJsZWQiLz4nLGErPSc8YnV0dG9uIGNsYXNzPSJmLWJyb3dzZS1saW5rcyIgaWQ9ImYtbGlua3MtY2xhc3MtJyt0aGlzLl9pZCsnIj48aSBjbGFzcz0iZmEgZmEtY2hldnJvbi1kb3duIj48L2k+PC9idXR0b24+JyxhKz0nPHVsIGlkPSJmLWxpbmstY2xhc3MtbGlzdC0nK3RoaXMuX2lkKyciPic7Zm9yKHZhciBlIGluIHRoaXMub3B0aW9ucy5saW5rQ2xhc3Nlcyl7dmFyIGY9dGhpcy5vcHRpb25zLmxpbmtDbGFzc2VzW2VdO2ErPSc8bGkgY2xhc3M9ImYtY2hvb3NlLWxpbmstY2xhc3MiIGRhdGEtY2xhc3M9IicrZSsnIj4nK2YrIjwvbGk+In1hKz0iPC91bD4iLGErPSI8L2Rpdj4ifXJldHVybiBhKz0nPGRpdiBjbGFzcz0iZi1wb3B1cC1saW5lIj48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJmLWNoZWNrYm94LScrdGhpcy5faWQrJyI+IDxsYWJlbCBkYXRhLXRleHQ9InRydWUiIGZvcj0iZi1jaGVja2JveC0nK3RoaXMuX2lkKyciPk9wZW4gaW4gbmV3IHRhYjwvbGFiZWw+PGJ1dHRvbiBkYXRhLXRleHQ9InRydWUiIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImYtb2siIGlkPSJmLW9rLScrdGhpcy5faWQrJyI+T0s8L2J1dHRvbj4nLHRoaXMub3B0aW9ucy51bmxpbmtCdXR0b24mJihhKz0nPGJ1dHRvbiB0eXBlPSJidXR0b24iIGRhdGEtdGV4dD0idHJ1ZSIgY2xhc3M9ImYtb2sgZi11bmxpbmsiIGlkPSJmLXVubGluay0nK3RoaXMuX2lkKyciPlVOTElOSzwvYnV0dG9uPicpLGErPSI8L2Rpdj48L2Rpdj4ifSxhLkVkaXRhYmxlLnByb3RvdHlwZS5idWlsZENyZWF0ZUxpbms9ZnVuY3Rpb24oKXt0aGlzLiRsaW5rX3dyYXBwZXI9YSh0aGlzLmNyZWF0ZUxpbmtIVE1MKCkpLHRoaXMuJHBvcHVwX2VkaXRvci5hcHBlbmQodGhpcy4kbGlua193cmFwcGVyKTt2YXIgYj10aGlzO3RoaXMuYWRkTGlzdGVuZXIoImhpZGVQb3B1cHMiLHRoaXMuaGlkZUxpbmtXcmFwcGVyKSx0aGlzLiRsaW5rX3dyYXBwZXIub24oIm1vdXNldXAgdG91Y2hlbmQiLGEucHJveHkoZnVuY3Rpb24oYSl7dGhpcy5pc1Jlc2l6aW5nKCl8fChhLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuJGxpbmtfd3JhcHBlci50cmlnZ2VyKCJoaWRlTGlua0xpc3QiKSl9LHRoaXMpKSx0aGlzLm9wdGlvbnMubGlua1RleHQmJnRoaXMuJGxpbmtfd3JhcHBlci5vbigibW91c2V1cCBrZXlkb3duIiwiaW5wdXQjZi1sdC0iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDtiJiYyNz09PWJ8fGEuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy4kbGlua193cmFwcGVyLnRyaWdnZXIoImhpZGVMaW5rTGlzdCIpLHRoaXMuJGxpbmtfd3JhcHBlci50cmlnZ2VyKCJoaWRlTGlua0NsYXNzTGlzdCIpfSx0aGlzKSksdGhpcy4kbGlua193cmFwcGVyLm9uKCJtb3VzZXVwIGtleWRvd24iLCJpbnB1dCNmLWx1LSIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbihhKXt2YXIgYj1hLndoaWNoOwpiJiYyNz09PWJ8fGEuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy4kbGlua193cmFwcGVyLnRyaWdnZXIoImhpZGVMaW5rTGlzdCIpLHRoaXMuJGxpbmtfd3JhcHBlci50cmlnZ2VyKCJoaWRlTGlua0NsYXNzTGlzdCIpfSx0aGlzKSksdGhpcy4kbGlua193cmFwcGVyLm9uKCJjbGljayBrZXlkb3duIiwiaW5wdXQjZi1jaGVja2JveC0iK3RoaXMuX2lkLGZ1bmN0aW9uKGEpe3ZhciBiPWEud2hpY2g7YiYmMjc9PT1ifHxhLnN0b3BQcm9wYWdhdGlvbigpfSksdGhpcy4kbGlua193cmFwcGVyLm9uKCJ0b3VjaGVuZCIsImJ1dHRvbiNmLW9rLSIrdGhpcy5faWQsZnVuY3Rpb24oYSl7YS5zdG9wUHJvcGFnYXRpb24oKX0pLm9uKCJjbGljayIsImJ1dHRvbiNmLW9rLSIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbigpe3ZhciBhLGI9dGhpcy4kbGlua193cmFwcGVyLmZpbmQoImlucHV0I2YtbHQtIit0aGlzLl9pZCksYz10aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgiaW5wdXQjZi1sdS0iK3RoaXMuX2lkKSxkPXRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCJpbnB1dCNmLWx1Yy0iK3RoaXMuX2lkKSxlPXRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCJpbnB1dCNmLWNoZWNrYm94LSIrdGhpcy5faWQpO2E9Yj9iLnZhbCgpOiIiO3ZhciBmPWMudmFsKCk7dGhpcy5pc0xpbmsmJiIiPT09ZiYmKGY9IiMiKTt2YXIgZz0iIjtkJiYoZz1kLmRhdGEoImNsYXNzIikpLHRoaXMud3JpdGVMaW5rKGYsYSxnLGUucHJvcCgiY2hlY2tlZCIpKX0sdGhpcykpLHRoaXMuJGxpbmtfd3JhcHBlci5vbigiY2xpY2sgdG91Y2giLCJidXR0b24jZi11bmxpbmstIit0aGlzLl9pZCxhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5saW5rPSEwLHRoaXMucmVtb3ZlTGluaygpfSx0aGlzKSksdGhpcy5vcHRpb25zLmxpbmtMaXN0Lmxlbmd0aCYmKHRoaXMuJGxpbmtfd3JhcHBlci5vbigiY2xpY2sgdG91Y2giLCJsaS5mLWNob29zZS1saW5rIixmdW5jdGlvbigpe3ZhciBjPWIuJGxpbmtfd3JhcHBlci5maW5kKCJidXR0b24jZi1icm93c2UtbGlua3MtIitiLl9pZCksZD1iLiRsaW5rX3dyYXBwZXIuZmluZCgiaW5wdXQjZi1sdC0iK2IuX2lkKSxlPWIuJGxpbmtfd3JhcHBlci5maW5kKCJpbnB1dCNmLWx1LSIrYi5faWQpLGY9Yi4kbGlua193cmFwcGVyLmZpbmQoImlucHV0I2YtY2hlY2tib3gtIitiLl9pZCk7ZCYmZC52YWwoYSh0aGlzKS5kYXRhKCJib2R5IikpLGUudmFsKGEodGhpcykuZGF0YSgiaHJlZiIpKSxmLnByb3AoImNoZWNrZWQiLGEodGhpcykuZGF0YSgiYmxhbmsiKSksYy5jbGljaygpfSkub24oIm1vdXNldXAiLCJsaS5mLWNob29zZS1saW5rIixmdW5jdGlvbihhKXthLnN0b3BQcm9wYWdhdGlvbigpfSksdGhpcy4kbGlua193cmFwcGVyLm9uKCJjbGljayIsImJ1dHRvbiNmLWJyb3dzZS1saW5rcy0iK3RoaXMuX2lkLGZ1bmN0aW9uKGMpe2Muc3RvcFByb3BhZ2F0aW9uKCk7dmFyIGQ9Yi4kbGlua193cmFwcGVyLmZpbmQoInVsI2YtbGluay1saXN0LSIrYi5faWQpO2IuJGxpbmtfd3JhcHBlci50cmlnZ2VyKCJoaWRlTGlua0NsYXNzTGlzdCIpLGEodGhpcykuZmluZCgiaSIpLnRvZ2dsZUNsYXNzKCJmYS1jaGV2cm9uLWRvd24iKSxhKHRoaXMpLmZpbmQoImkiKS50b2dnbGVDbGFzcygiZmEtY2hldnJvbi11cCIpLGQudG9nZ2xlKCl9KS5vbigibW91c2V1cCIsImJ1dHRvbiNmLWJyb3dzZS1saW5rcy0iK3RoaXMuX2lkLGZ1bmN0aW9uKGEpe2Euc3RvcFByb3BhZ2F0aW9uKCl9KSx0aGlzLiRsaW5rX3dyYXBwZXIuYmluZCgiaGlkZUxpbmtMaXN0IixmdW5jdGlvbigpe3ZhciBhPWIuJGxpbmtfd3JhcHBlci5maW5kKCJ1bCNmLWxpbmstbGlzdC0iK2IuX2lkKSxjPWIuJGxpbmtfd3JhcHBlci5maW5kKCJidXR0b24jZi1icm93c2UtbGlua3MtIitiLl9pZCk7YSYmYS5pcygiOnZpc2libGUiKSYmYy5jbGljaygpfSkpLE9iamVjdC5rZXlzKHRoaXMub3B0aW9ucy5saW5rQ2xhc3NlcykubGVuZ3RoJiYodGhpcy4kbGlua193cmFwcGVyLm9uKCJtb3VzZXVwIGtleWRvd24iLCJpbnB1dCNmLWx1Yy0iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDtiJiYyNz09PWJ8fGEuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy4kbGlua193cmFwcGVyLnRyaWdnZXIoImhpZGVMaW5rTGlzdCIpLHRoaXMuJGxpbmtfd3JhcHBlci50cmlnZ2VyKCJoaWRlTGlua0NsYXNzTGlzdCIpfSx0aGlzKSksdGhpcy4kbGlua193cmFwcGVyLm9uKCJjbGljayB0b3VjaCIsImxpLmYtY2hvb3NlLWxpbmstY2xhc3MiLGZ1bmN0aW9uKCl7dmFyIGM9Yi4kbGlua193cmFwcGVyLmZpbmQoImlucHV0I2YtbHVjLSIrYi5faWQpO2MudmFsKGEodGhpcykudGV4dCgpKSxjLmRhdGEoImNsYXNzIixhKHRoaXMpLmRhdGEoImNsYXNzIikpLGIuJGxpbmtfd3JhcHBlci50cmlnZ2VyKCJoaWRlTGlua0NsYXNzTGlzdCIpfSkub24oIm1vdXNldXAiLCJsaS5mLWNob29zZS1saW5rLWNsYXNzIixmdW5jdGlvbihhKXthLnN0b3BQcm9wYWdhdGlvbigpfSksdGhpcy4kbGlua193cmFwcGVyLm9uKCJjbGljayIsImJ1dHRvbiNmLWxpbmtzLWNsYXNzLSIrdGhpcy5faWQsZnVuY3Rpb24oYyl7Yy5zdG9wUHJvcGFnYXRpb24oKSxiLiRsaW5rX3dyYXBwZXIudHJpZ2dlcigiaGlkZUxpbmtMaXN0Iik7dmFyIGQ9Yi4kbGlua193cmFwcGVyLmZpbmQoInVsI2YtbGluay1jbGFzcy1saXN0LSIrYi5faWQpO2EodGhpcykuZmluZCgiaSIpLnRvZ2dsZUNsYXNzKCJmYS1jaGV2cm9uLWRvd24iKSxhKHRoaXMpLmZpbmQoImkiKS50b2dnbGVDbGFzcygiZmEtY2hldnJvbi11cCIpLGQudG9nZ2xlKCl9KS5vbigibW91c2V1cCIsImJ1dHRvbiNmLWxpbmtzLWNsYXNzLSIrdGhpcy5faWQsZnVuY3Rpb24oYSl7YS5zdG9wUHJvcGFnYXRpb24oKX0pLHRoaXMuJGxpbmtfd3JhcHBlci5iaW5kKCJoaWRlTGlua0NsYXNzTGlzdCIsZnVuY3Rpb24oKXt2YXIgYT1iLiRsaW5rX3dyYXBwZXIuZmluZCgidWwjZi1saW5rLWNsYXNzLWxpc3QtIitiLl9pZCksYz1iLiRsaW5rX3dyYXBwZXIuZmluZCgiYnV0dG9uI2YtbGlua3MtY2xhc3MtIitiLl9pZCk7YSYmYS5pcygiOnZpc2libGUiKSYmYy5jbGljaygpfSkpLHRoaXMuJGxpbmtfd3JhcHBlci5vbih0aGlzLm1vdXNldXAsImkjZi1saW5rLWNsb3NlLSIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbigpe3RoaXMuJGJ0dG5fd3JhcHBlci5zaG93KCksdGhpcy5oaWRlTGlua1dyYXBwZXIoKSwoIXRoaXMub3B0aW9ucy5pbmxpbmVNb2RlJiYhdGhpcy5pbWFnZU1vZGV8fHRoaXMuaXNMaW5rfHwwPT09dGhpcy5vcHRpb25zLmJ1dHRvbnMubGVuZ3RoKSYmdGhpcy5oaWRlKCksdGhpcy5pbWFnZU1vZGU/dGhpcy5zaG93SW1hZ2VFZGl0b3IoKToodGhpcy5yZXN0b3JlU2VsZWN0aW9uKCksdGhpcy5mb2N1cygpKX0sdGhpcykpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25MaW5rcz1mdW5jdGlvbigpe3ZhciBhLGIsYyxkLGU9W107aWYod2luZG93LmdldFNlbGVjdGlvbil7dmFyIGY9d2luZG93LmdldFNlbGVjdGlvbigpO2lmKGYuZ2V0UmFuZ2VBdCYmZi5yYW5nZUNvdW50KXtkPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7Zm9yKHZhciBnPTA7ZzxmLnJhbmdlQ291bnQ7KytnKWlmKGE9Zi5nZXRSYW5nZUF0KGcpLGI9YS5jb21tb25BbmNlc3RvckNvbnRhaW5lcixiJiYxIT1iLm5vZGVUeXBlJiYoYj1iLnBhcmVudE5vZGUpLGImJiJhIj09Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKWUucHVzaChiKTtlbHNle2M9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpO2Zvcih2YXIgaD0wO2g8Yy5sZW5ndGg7KytoKWQuc2VsZWN0Tm9kZUNvbnRlbnRzKGNbaF0pLGQuY29tcGFyZUJvdW5kYXJ5UG9pbnRzKGEuRU5EX1RPX1NUQVJULGEpPDEmJmQuY29tcGFyZUJvdW5kYXJ5UG9pbnRzKGEuU1RBUlRfVE9fRU5ELGEpPi0xJiZlLnB1c2goY1toXSl9fX1lbHNlIGlmKGRvY3VtZW50LnNlbGVjdGlvbiYmIkNvbnRyb2wiIT1kb2N1bWVudC5zZWxlY3Rpb24udHlwZSlpZihhPWRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLGI9YS5wYXJlbnRFbGVtZW50KCksImEiPT1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpZS5wdXNoKGIpO2Vsc2V7Yz1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIiksZD1kb2N1bWVudC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpO2Zvcih2YXIgaT0wO2k8Yy5sZW5ndGg7KytpKWQubW92ZVRvRWxlbWVudFRleHQoY1tpXSksZC5jb21wYXJlRW5kUG9pbnRzKCJTdGFydFRvRW5kIixhKT4tMSYmZC5jb21wYXJlRW5kUG9pbnRzKCJFbmRUb1N0YXJ0IixhKTwxJiZlLnB1c2goY1tpXSl9cmV0dXJuIGV9LGEuRWRpdGFibGUucHJvdG90eXBlLmluc2VydExpbms9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuaW5saW5lTW9kZXx8KHRoaXMuY2xvc2VJbWFnZU1vZGUoKSx0aGlzLmltYWdlTW9kZT0hMSx0aGlzLnBvc2l0aW9uUG9wdXAoImNyZWF0ZUxpbmsiKSksdGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpJiZ0aGlzLnNhdmVTZWxlY3Rpb24oKSx0aGlzLnNob3dJbnNlcnRMaW5rKCk7dmFyIGI9dGhpcy5nZXRTZWxlY3Rpb25MaW5rKCl8fCIiLGM9dGhpcy5nZXRTZWxlY3Rpb25MaW5rcygpO2MubGVuZ3RoPjA/KHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJjaGVja2JveCJdJykucHJvcCgiY2hlY2tlZCIsIl9ibGFuayI9PWEoY1swXSkuYXR0cigidGFyZ2V0IikpLHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJ0ZXh0Il0uZi1sdCcpLnZhbChhKGNbMF0pLnRleHQoKXx8IiIpLGEoY1swXSkuaGFzQ2xhc3MoImZyLWZpbGUiKT90aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0idGV4dCJdLmYtbHUnKS5hdHRyKCJkaXNhYmxlZCIsImRpc2FibGVkIik6dGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9InRleHQiXS5mLWx1JykucmVtb3ZlQXR0cigiZGlzYWJsZWQiKSx0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgiYS5mLWV4dGVybmFsLWxpbmssIGJ1dHRvbi5mLXVubGluayIpLnNob3coKSk6KHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJjaGVja2JveCJdJykucHJvcCgiY2hlY2tlZCIsdGhpcy5vcHRpb25zLmFsd2F5c0JsYW5rKSx0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0idGV4dCJdLmYtbHQnKS52YWwodGhpcy50ZXh0KCkpLHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJ0ZXh0Il0uZi1sdScpLnJlbW92ZUF0dHIoImRpc2FibGVkIiksdGhpcy4kbGlua193cmFwcGVyLmZpbmQoImEuZi1leHRlcm5hbC1saW5rLCBidXR0b24uZi11bmxpbmsiKS5oaWRlKCkpLHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCIuZi1leHRlcm5hbC1saW5rIikuYXR0cigiaHJlZiIsYnx8IiMiKSx0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0idGV4dCJdLmYtbHUnKS52YWwoYi5yZXBsYWNlKC9cJmFtcDsvZywiJiIpfHwiaHR0cDovLyIpfX0oalF1ZXJ5KSxmdW5jdGlvbihhKXthLkVkaXRhYmxlLnByb3RvdHlwZS5icm93c2VyRml4ZXM9ZnVuY3Rpb24oKXt0aGlzLnByZUJsb2NrcXVvdGVFbnRlcigpLHRoaXMuZW50ZXJOb1BhcmFncmFwaHkoKSx0aGlzLmJhY2tzcGFjZUVtcHR5KCksdGhpcy5maXhIUigpLHRoaXMuZG9tSW5zZXJ0KCksdGhpcy5maXhJTUUoKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZml4SFI9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50Lm9uKCJrZXlkb3duIixhLnByb3h5KGZ1bmN0aW9uKGIpe3ZhciBjPWEodGhpcy5nZXRTZWxlY3Rpb25FbGVtZW50KCkpO2lmKGMuaXMoImhyIil8fGMucGFyZW50cygiaHIiKS5sZW5ndGgpcmV0dXJuITE7dmFyIGQ9Yi53aGljaCxlPWEodGhpcy5nZXRTZWxlY3Rpb25FbGVtZW50cygpWzBdKTs4PT1kJiZlLnByZXYoKS5pcygiaHIiKSYmdGhpcy5nZXRTZWxlY3Rpb25UZXh0SW5mbyhlLmdldCgwKSkuYXRTdGFydCYmKHRoaXMuc2F2ZVNlbGVjdGlvbkJ5TWFya2VycygpLGUucHJldigpLnJlbW92ZSgpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpKX0sdGhpcykpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5iYWNrc3BhY2VFbXB0eT1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQub24oImtleWRvd24iLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDs4PT1iJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJmLXBsYWNlaG9sZGVyIikmJmEucHJldmVudERlZmF1bHQoKX0sdGhpcykpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5wcmVCbG9ja3F1b3RlRW50ZXI9ZnVuY3Rpb24oKXt0aGlzLmlzSW1hZ2V8fHRoaXMuaXNMaW5rfHx0aGlzLm9wdGlvbnMuZWRpdEluUG9wdXB8fHRoaXMuJGVsZW1lbnQub24oImtleWRvd24iLGEucHJveHkoZnVuY3Rpb24oYil7dmFyIGM9Yi53aGljaCxkPVsiUFJFIiwiQkxPQ0tRVU9URSJdLGU9dGhpcy5nZXRTZWxlY3Rpb25FbGVtZW50cygpWzBdO2lmKDEzPT1jJiYiIj09PXRoaXMudGV4dCgpJiZkLmluZGV4T2YoZS50YWdOYW1lKT49MCYmMD09PWEoZSkucGFyZW50cygidWwsIG9sIikubGVuZ3RoKWlmKHRoaXMuZ2V0U2VsZWN0aW9uVGV4dEluZm8oZSkuYXRFbmQmJiFiLnNoaWZ0S2V5KXtiLnByZXZlbnREZWZhdWx0KCk7dmFyIGY9YSgiPHA+PGJyPjwvcD4iKTthKGUpLmFmdGVyKGYpLHRoaXMuc2V0U2VsZWN0aW9uKGYuZ2V0KDApKX1lbHNlKHRoaXMuYnJvd3Nlci53ZWJraXR8fHRoaXMuYnJvd3Nlci5tc2llKSYmKGIucHJldmVudERlZmF1bHQoKSx0aGlzLmluc2VydEhUTUwodGhpcy5lbmRzV2l0aChhKGUpLmh0bWwoKSwiPGJyPiIpfHwhdGhpcy5nZXRTZWxlY3Rpb25UZXh0SW5mbyhlKS5hdEVuZD8iPGJyPiI6Ijxicj48YnI+IikpfSx0aGlzKSl9LGEuRWRpdGFibGUucHJvdG90eXBlLmVudGVyTm9QYXJhZ3JhcGh5PWZ1bmN0aW9uKCl7IXRoaXMuYnJvd3Nlci53ZWJraXQmJiF0aGlzLmJyb3dzZXIubXNpZXx8dGhpcy5vcHRpb25zLnBhcmFncmFwaHl8fHRoaXMuJGVsZW1lbnQub24oImtleWRvd24iLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDsxMz09YiYmKGEucHJldmVudERlZmF1bHQoKSx0aGlzLmluc2VydEhUTUwoJzwvYnI+JiM4MjAzOzxzcGFuIGNsYXNzPSJmLW1hcmtlciIgZGF0YS10eXBlPSJmYWxzZSIgZGF0YS1pZD0iMCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPjxzcGFuIGNsYXNzPSJmLW1hcmtlciIgZGF0YS10eXBlPSJ0cnVlIiBkYXRhLWlkPSIwIiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIj48L3NwYW4+JyksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCkpfSx0aGlzKSl9LGEuRWRpdGFibGUucHJvdG90eXBlLmRvbUluc2VydD1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQub24oImtleWRvd24iLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDs4PT09YiYmKHRoaXMubm9fdmVyaWZ5PSEwKSwxMz09PWImJih0aGlzLmFkZF9icj0hMCl9LHRoaXMpKSx0aGlzLiRlbGVtZW50Lm9uKCJET01Ob2RlSW5zZXJ0ZWQiLGEucHJveHkoZnVuY3Rpb24oYil7aWYoIlNQQU4iIT09Yi50YXJnZXQudGFnTmFtZXx8YShiLnRhcmdldCkuYXR0cigiZGF0YS1mci12ZXJpZmllZCIpfHx0aGlzLm5vX3ZlcmlmeXx8dGhpcy50ZXh0RW1wdHkoYi50YXJnZXQpfHxhKGIudGFyZ2V0KS5yZXBsYWNlV2l0aChhKGIudGFyZ2V0KS5jb250ZW50cygpKSx0aGlzLm9wdGlvbnMucGFyYWdyYXBoeSYmdGhpcy5hZGRfYnImJiJCUiI9PT1iLnRhcmdldC50YWdOYW1lJiYoYShiLnRhcmdldCkucHJldigpLmxlbmd0aCYmIlRBQkxFIj09PWEoYi50YXJnZXQpLnByZXYoKS5nZXQoMCkudGFnTmFtZXx8YShiLnRhcmdldCkubmV4dCgpLmxlbmd0aCYmIlRBQkxFIj09PWEoYi50YXJnZXQpLm5leHQoKS5nZXQoMCkudGFnTmFtZSkpe2EoYi50YXJnZXQpLndyYXAoJzxwIGNsYXNzPSJmci1wLXdyYXAiPicpO3ZhciBjPXRoaXMuJGVsZW1lbnQuZmluZCgicC5mci1wLXdyYXAiKS5yZW1vdmVBdHRyKCJjbGFzcyIpO3RoaXMuc2V0U2VsZWN0aW9uKGMuZ2V0KDApKX19LHRoaXMpKSx0aGlzLiRlbGVtZW50Lm9uKCJrZXl1cCIsYS5wcm94eShmdW5jdGlvbihhKXt2YXIgYj1hLndoaWNoOzg9PT1iJiYodGhpcy4kZWxlbWVudC5maW5kKCJzcGFuOm5vdCguZnItdmVyaWZpZWQpIikuYXR0cigiZGF0YS1mci12ZXJpZmllZCIsITApLHRoaXMubm9fdmVyaWZ5PSExKSwxMz09PWImJih0aGlzLmFkZF9icj0hMCl9LHRoaXMpKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZml4SU1FPWZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5nZXQoMCkubXNHZXRJbnB1dENvbnRleHQmJih0aGlzLiRlbGVtZW50LmdldCgwKS5tc0dldElucHV0Q29udGV4dCgpLmFkZEV2ZW50TGlzdGVuZXIoIk1TQ2FuZGlkYXRlV2luZG93U2hvdyIsYS5wcm94eShmdW5jdGlvbigpe3RoaXMuaW1lPSEwfSx0aGlzKSksdGhpcy4kZWxlbWVudC5nZXQoMCkubXNHZXRJbnB1dENvbnRleHQoKS5hZGRFdmVudExpc3RlbmVyKCJNU0NhbmRpZGF0ZVdpbmRvd0hpZGUiLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmltZT0hMSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoImtleWRvd24iKSx0aGlzLm9sZEhUTUw9IiJ9LHRoaXMpKSl9fShqUXVlcnkpLGZ1bmN0aW9uKGEpeyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsianF1ZXJ5Il0sYSk6YShqUXVlcnkpfShmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7ZnVuY3Rpb24gYigpe2Q/KGMoKSxNKGIpLGU9ITAsZD0hMSk6ZT0hMX12YXIgYz1hLGQ9ITEsZT0hMTt0aGlzLmtpY2s9ZnVuY3Rpb24oKXtkPSEwLGV8fGIoKX0sdGhpcy5lbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9YzthJiYoZT8oYz1kP2Z1bmN0aW9uKCl7YigpLGEoKX06YSxkPSEwKTphKCkpfX1mdW5jdGlvbiBkKCl7cmV0dXJuITB9ZnVuY3Rpb24gZSgpe3JldHVybiExfWZ1bmN0aW9uIGYoYSl7YS5wcmV2ZW50RGVmYXVsdCgpfWZ1bmN0aW9uIGcoYSl7TlthLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCldfHxhLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gaChhKXtyZXR1cm4gMT09PWEud2hpY2gmJiFhLmN0cmxLZXkmJiFhLmFsdEtleX1mdW5jdGlvbiBpKGEsYil7dmFyIGMsZDtpZihhLmlkZW50aWZpZWRUb3VjaClyZXR1cm4gYS5pZGVudGlmaWVkVG91Y2goYik7Zm9yKGM9LTEsZD1hLmxlbmd0aDsrK2M8ZDspaWYoYVtjXS5pZGVudGlmaWVyPT09YilyZXR1cm4gYVtjXX1mdW5jdGlvbiBqKGEsYil7dmFyIGM9aShhLmNoYW5nZWRUb3VjaGVzLGIuaWRlbnRpZmllcik7aWYoYyYmKGMucGFnZVghPT1iLnBhZ2VYfHxjLnBhZ2VZIT09Yi5wYWdlWSkpcmV0dXJuIGN9ZnVuY3Rpb24gayhhKXt2YXIgYjtoKGEpJiYoYj17dGFyZ2V0OmEudGFyZ2V0LHN0YXJ0WDphLnBhZ2VYLHN0YXJ0WTphLnBhZ2VZLHRpbWVTdGFtcDphLnRpbWVTdGFtcH0sSihkb2N1bWVudCxPLm1vdmUsbCxiKSxKKGRvY3VtZW50LE8uY2FuY2VsLG0sYikpfWZ1bmN0aW9uIGwoYSl7dmFyIGI9YS5kYXRhO3MoYSxiLGEsbil9ZnVuY3Rpb24gbSgpe24oKX1mdW5jdGlvbiBuKCl7Syhkb2N1bWVudCxPLm1vdmUsbCksSyhkb2N1bWVudCxPLmNhbmNlbCxtKX1mdW5jdGlvbiBvKGEpe3ZhciBiLGM7TlthLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCldfHwoYj1hLmNoYW5nZWRUb3VjaGVzWzBdLGM9e3RhcmdldDpiLnRhcmdldCxzdGFydFg6Yi5wYWdlWCxzdGFydFk6Yi5wYWdlWSx0aW1lU3RhbXA6YS50aW1lU3RhbXAsaWRlbnRpZmllcjpiLmlkZW50aWZpZXJ9LEooZG9jdW1lbnQsUC5tb3ZlKyIuIitiLmlkZW50aWZpZXIscCxjKSxKKGRvY3VtZW50LFAuY2FuY2VsKyIuIitiLmlkZW50aWZpZXIscSxjKSl9ZnVuY3Rpb24gcChhKXt2YXIgYj1hLmRhdGEsYz1qKGEsYik7YyYmcyhhLGIsYyxyKX1mdW5jdGlvbiBxKGEpe3ZhciBiPWEuZGF0YSxjPWkoYS5jaGFuZ2VkVG91Y2hlcyxiLmlkZW50aWZpZXIpO2MmJnIoYi5pZGVudGlmaWVyKX1mdW5jdGlvbiByKGEpe0soZG9jdW1lbnQsIi4iK2EscCksSyhkb2N1bWVudCwiLiIrYSxxKX1mdW5jdGlvbiBzKGEsYixjLGQpe3ZhciBlPWMucGFnZVgtYi5zdGFydFgsZj1jLnBhZ2VZLWIuc3RhcnRZO0kqST5lKmUrZipmfHx2KGEsYixjLGUsZixkKX1mdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX2hhbmRsZWQ9ZCwhMX1mdW5jdGlvbiB1KGEpe3RyeXthLl9oYW5kbGVkKCl9Y2F0Y2goYil7cmV0dXJuITF9fWZ1bmN0aW9uIHYoYSxiLGMsZCxlLGYpe3t2YXIgZyxoO2IudGFyZ2V0fWc9YS50YXJnZXRUb3VjaGVzLGg9YS50aW1lU3RhbXAtYi50aW1lU3RhbXAsYi50eXBlPSJtb3Zlc3RhcnQiLGIuZGlzdFg9ZCxiLmRpc3RZPWUsYi5kZWx0YVg9ZCxiLmRlbHRhWT1lLGIucGFnZVg9Yy5wYWdlWCxiLnBhZ2VZPWMucGFnZVksYi52ZWxvY2l0eVg9ZC9oLGIudmVsb2NpdHlZPWUvaCxiLnRhcmdldFRvdWNoZXM9ZyxiLmZpbmdlcj1nP2cubGVuZ3RoOjEsYi5faGFuZGxlZD10LGIuX3ByZXZlbnRUb3VjaG1vdmVEZWZhdWx0PWZ1bmN0aW9uKCl7YS5wcmV2ZW50RGVmYXVsdCgpfSxMKGIudGFyZ2V0LGIpLGYoYi5pZGVudGlmaWVyKX1mdW5jdGlvbiB3KGEpe3ZhciBiPWEuZGF0YS50aW1lcjthLmRhdGEudG91Y2g9YSxhLmRhdGEudGltZVN0YW1wPWEudGltZVN0YW1wLGIua2ljaygpfWZ1bmN0aW9uIHgoYSl7dmFyIGI9YS5kYXRhLmV2ZW50LGM9YS5kYXRhLnRpbWVyO3koKSxEKGIsYyxmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtLKGIudGFyZ2V0LCJjbGljayIsZSl9LDApfSl9ZnVuY3Rpb24geSgpe0soZG9jdW1lbnQsTy5tb3ZlLHcpLEsoZG9jdW1lbnQsTy5lbmQseCl9ZnVuY3Rpb24geihhKXt2YXIgYj1hLmRhdGEuZXZlbnQsYz1hLmRhdGEudGltZXIsZD1qKGEsYik7ZCYmKGEucHJldmVudERlZmF1bHQoKSxiLnRhcmdldFRvdWNoZXM9YS50YXJnZXRUb3VjaGVzLGEuZGF0YS50b3VjaD1kLGEuZGF0YS50aW1lU3RhbXA9YS50aW1lU3RhbXAsYy5raWNrKCkpfWZ1bmN0aW9uIEEoYSl7dmFyIGI9YS5kYXRhLmV2ZW50LGM9YS5kYXRhLnRpbWVyLGQ9aShhLmNoYW5nZWRUb3VjaGVzLGIuaWRlbnRpZmllcik7ZCYmKEIoYiksRChiLGMpKX1mdW5jdGlvbiBCKGEpe0soZG9jdW1lbnQsIi4iK2EuaWRlbnRpZmllcix6KSxLKGRvY3VtZW50LCIuIithLmlkZW50aWZpZXIsQSl9ZnVuY3Rpb24gQyhhLGIsYyl7dmFyIGQ9Yy1hLnRpbWVTdGFtcDthLnR5cGU9Im1vdmUiLGEuZGlzdFg9Yi5wYWdlWC1hLnN0YXJ0WCxhLmRpc3RZPWIucGFnZVktYS5zdGFydFksYS5kZWx0YVg9Yi5wYWdlWC1hLnBhZ2VYLGEuZGVsdGFZPWIucGFnZVktYS5wYWdlWSxhLnZlbG9jaXR5WD0uMyphLnZlbG9jaXR5WCsuNyphLmRlbHRhWC9kLGEudmVsb2NpdHlZPS4zKmEudmVsb2NpdHlZKy43KmEuZGVsdGFZL2QsYS5wYWdlWD1iLnBhZ2VYLGEucGFnZVk9Yi5wYWdlWX1mdW5jdGlvbiBEKGEsYixjKXtiLmVuZChmdW5jdGlvbigpe3JldHVybiBhLnR5cGU9Im1vdmVlbmQiLEwoYS50YXJnZXQsYSksYyYmYygpfSl9ZnVuY3Rpb24gRSgpe3JldHVybiBKKHRoaXMsIm1vdmVzdGFydC5tb3ZlIix1KSwhMH1mdW5jdGlvbiBGKCl7cmV0dXJuIEsodGhpcywiZHJhZ3N0YXJ0IGRyYWciLGYpLEsodGhpcywibW91c2Vkb3duIHRvdWNoc3RhcnQiLGcpLEsodGhpcywibW92ZXN0YXJ0Iix1KSwhMH1mdW5jdGlvbiBHKGEpeyJtb3ZlIiE9PWEubmFtZXNwYWNlJiYibW92ZWVuZCIhPT1hLm5hbWVzcGFjZSYmKEoodGhpcywiZHJhZ3N0YXJ0LiIrYS5ndWlkKyIgZHJhZy4iK2EuZ3VpZCxmLGIsYS5zZWxlY3RvciksSih0aGlzLCJtb3VzZWRvd24uIithLmd1aWQsZyxiLGEuc2VsZWN0b3IpKX1mdW5jdGlvbiBIKGEpeyJtb3ZlIiE9PWEubmFtZXNwYWNlJiYibW92ZWVuZCIhPT1hLm5hbWVzcGFjZSYmKEsodGhpcywiZHJhZ3N0YXJ0LiIrYS5ndWlkKyIgZHJhZy4iK2EuZ3VpZCksSyh0aGlzLCJtb3VzZWRvd24uIithLmd1aWQpKX12YXIgST02LEo9YS5ldmVudC5hZGQsSz1hLmV2ZW50LnJlbW92ZSxMPWZ1bmN0aW9uKGIsYyxkKXthLmV2ZW50LnRyaWdnZXIoYyxkLGIpfSxNPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGEpe3JldHVybiB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2EoKX0sMjUpfX0oKSxOPXt0ZXh0YXJlYTohMCxpbnB1dDohMCxzZWxlY3Q6ITAsYnV0dG9uOiEwfSxPPXttb3ZlOiJtb3VzZW1vdmUiLGNhbmNlbDoibW91c2V1cCBkcmFnc3RhcnQiLGVuZDoibW91c2V1cCJ9LFA9e21vdmU6InRvdWNobW92ZSIsY2FuY2VsOiJ0b3VjaGVuZCIsZW5kOiJ0b3VjaGVuZCJ9O2EuZXZlbnQuc3BlY2lhbC5tb3Zlc3RhcnQ9e3NldHVwOkUsdGVhcmRvd246RixhZGQ6RyxyZW1vdmU6SCxfZGVmYXVsdDpmdW5jdGlvbihhKXtmdW5jdGlvbiBkKCl7QyhmLGcudG91Y2gsZy50aW1lU3RhbXApLEwoYS50YXJnZXQsZil9dmFyIGYsZzthLl9oYW5kbGVkKCkmJihmPXt0YXJnZXQ6YS50YXJnZXQsc3RhcnRYOmEuc3RhcnRYLHN0YXJ0WTphLnN0YXJ0WSxwYWdlWDphLnBhZ2VYLHBhZ2VZOmEucGFnZVksZGlzdFg6YS5kaXN0WCxkaXN0WTphLmRpc3RZLGRlbHRhWDphLmRlbHRhWCxkZWx0YVk6YS5kZWx0YVksdmVsb2NpdHlYOmEudmVsb2NpdHlYLHZlbG9jaXR5WTphLnZlbG9jaXR5WSx0aW1lU3RhbXA6YS50aW1lU3RhbXAsaWRlbnRpZmllcjphLmlkZW50aWZpZXIsdGFyZ2V0VG91Y2hlczphLnRhcmdldFRvdWNoZXMsZmluZ2VyOmEuZmluZ2VyfSxnPXtldmVudDpmLHRpbWVyOm5ldyBjKGQpLHRvdWNoOmIsdGltZVN0YW1wOmJ9LGEuaWRlbnRpZmllcj09PWI/KEooYS50YXJnZXQsImNsaWNrIixlKSxKKGRvY3VtZW50LE8ubW92ZSx3LGcpLEooZG9jdW1lbnQsTy5lbmQseCxnKSk6KGEuX3ByZXZlbnRUb3VjaG1vdmVEZWZhdWx0KCksSihkb2N1bWVudCxQLm1vdmUrIi4iK2EuaWRlbnRpZmllcix6LGcpLEooZG9jdW1lbnQsUC5lbmQrIi4iK2EuaWRlbnRpZmllcixBLGcpKSl9fSxhLmV2ZW50LnNwZWNpYWwubW92ZT17c2V0dXA6ZnVuY3Rpb24oKXtKKHRoaXMsIm1vdmVzdGFydC5tb3ZlIixhLm5vb3ApfSx0ZWFyZG93bjpmdW5jdGlvbigpe0sodGhpcywibW92ZXN0YXJ0Lm1vdmUiLGEubm9vcCl9fSxhLmV2ZW50LnNwZWNpYWwubW92ZWVuZD17c2V0dXA6ZnVuY3Rpb24oKXtKKHRoaXMsIm1vdmVzdGFydC5tb3ZlZW5kIixhLm5vb3ApfSx0ZWFyZG93bjpmdW5jdGlvbigpe0sodGhpcywibW92ZXN0YXJ0Lm1vdmVlbmQiLGEubm9vcCl9fSxKKGRvY3VtZW50LCJtb3VzZWRvd24ubW92ZSIsayksSihkb2N1bWVudCwidG91Y2hzdGFydC5tb3ZlIixvKSwiZnVuY3Rpb24iPT10eXBlb2YgQXJyYXkucHJvdG90eXBlLmluZGV4T2YmJiFmdW5jdGlvbihhKXtmb3IodmFyIGI9WyJjaGFuZ2VkVG91Y2hlcyIsInRhcmdldFRvdWNoZXMiXSxjPWIubGVuZ3RoO2MtLTspLTE9PT1hLmV2ZW50LnByb3BzLmluZGV4T2YoYltjXSkmJmEuZXZlbnQucHJvcHMucHVzaChiW2NdKX0oYSl9KSx3aW5kb3cuV1lTSVdZR01vZGVybml6cj1mdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChhKXtuLmNzc1RleHQ9YX1mdW5jdGlvbiBlKGEsYil7cmV0dXJuIHR5cGVvZiBhPT09Yn12YXIgZixnLGgsaT0iMi43LjEiLGo9e30saz1iLmRvY3VtZW50RWxlbWVudCxsPSJtb2Rlcm5penIiLG09Yi5jcmVhdGVFbGVtZW50KGwpLG49bS5zdHlsZSxvPSh7fS50b1N0cmluZywiIC13ZWJraXQtIC1tb3otIC1vLSAtbXMtICIuc3BsaXQoIiAiKSkscD17fSxxPVtdLHI9cS5zbGljZSxzPWZ1bmN0aW9uKGEsYyxkLGUpe3ZhciBmLGcsaCxpLGo9Yi5jcmVhdGVFbGVtZW50KCJkaXYiKSxtPWIuYm9keSxuPW18fGIuY3JlYXRlRWxlbWVudCgiYm9keSIpO2lmKHBhcnNlSW50KGQsMTApKWZvcig7ZC0tOyloPWIuY3JlYXRlRWxlbWVudCgiZGl2IiksaC5pZD1lP2VbZF06bCsoZCsxKSxqLmFwcGVuZENoaWxkKGgpO3JldHVybiBmPVsiJiMxNzM7IiwnPHN0eWxlIGlkPSJzJyxsLCciPicsYSwiPC9zdHlsZT4iXS5qb2luKCIiKSxqLmlkPWwsKG0/ajpuKS5pbm5lckhUTUwrPWYsbi5hcHBlbmRDaGlsZChqKSxtfHwobi5zdHlsZS5iYWNrZ3JvdW5kPSIiLG4uc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsaT1rLnN0eWxlLm92ZXJmbG93LGsuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsay5hcHBlbmRDaGlsZChuKSksZz1jKGosYSksbT9qLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaik6KG4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSxrLnN0eWxlLm92ZXJmbG93PWkpLCEhZ30sdD1mdW5jdGlvbihiKXt2YXIgYz1hLm1hdGNoTWVkaWF8fGEubXNNYXRjaE1lZGlhO2lmKGMpcmV0dXJuIGMoYikubWF0Y2hlczt2YXIgZDtyZXR1cm4gcygiQG1lZGlhICIrYisiIHsgIyIrbCsiIHsgcG9zaXRpb246IGFic29sdXRlOyB9IH0iLGZ1bmN0aW9uKGIpe2Q9ImFic29sdXRlIj09KGEuZ2V0Q29tcHV0ZWRTdHlsZT9nZXRDb21wdXRlZFN0eWxlKGIsbnVsbCk6Yi5jdXJyZW50U3R5bGUpLnBvc2l0aW9ufSksZH0sdT17fS5oYXNPd25Qcm9wZXJ0eTtoPWUodSwidW5kZWZpbmVkIil8fGUodS5jYWxsLCJ1bmRlZmluZWQiKT9mdW5jdGlvbihhLGIpe3JldHVybiBiIGluIGEmJmUoYS5jb25zdHJ1Y3Rvci5wcm90b3R5cGVbYl0sInVuZGVmaW5lZCIpfTpmdW5jdGlvbihhLGIpe3JldHVybiB1LmNhbGwoYSxiKX0sRnVuY3Rpb24ucHJvdG90eXBlLmJpbmR8fChGdW5jdGlvbi5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBiKXRocm93IG5ldyBUeXBlRXJyb3I7dmFyIGM9ci5jYWxsKGFyZ3VtZW50cywxKSxkPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIGQpe3ZhciBlPWZ1bmN0aW9uKCl7fTtlLnByb3RvdHlwZT1iLnByb3RvdHlwZTt2YXIgZj1uZXcgZSxnPWIuYXBwbHkoZixjLmNvbmNhdChyLmNhbGwoYXJndW1lbnRzKSkpO3JldHVybiBPYmplY3QoZyk9PT1nP2c6Zn1yZXR1cm4gYi5hcHBseShhLGMuY29uY2F0KHIuY2FsbChhcmd1bWVudHMpKSl9O3JldHVybiBkfSkscC50b3VjaD1mdW5jdGlvbigpe3ZhciBjO3JldHVybiJvbnRvdWNoc3RhcnQiaW4gYXx8YS5Eb2N1bWVudFRvdWNoJiZiIGluc3RhbmNlb2YgRG9jdW1lbnRUb3VjaD9jPSEwOnMoWyJAbWVkaWEgKCIsby5qb2luKCJ0b3VjaC1lbmFibGVkKSwoIiksbCwiKSIsInsjbW9kZXJuaXpye3RvcDo5cHg7cG9zaXRpb246YWJzb2x1dGV9fSJdLmpvaW4oIiIpLGZ1bmN0aW9uKGEpe2M9OT09PWEub2Zmc2V0VG9wfSksY307Zm9yKHZhciB2IGluIHApaChwLHYpJiYoZz12LnRvTG93ZXJDYXNlKCksaltnXT1wW3ZdKCkscS5wdXNoKChqW2ddPyIiOiJuby0iKStnKSk7cmV0dXJuIGouYWRkVGVzdD1mdW5jdGlvbihhLGIpe2lmKCJvYmplY3QiPT10eXBlb2YgYSlmb3IodmFyIGQgaW4gYSloKGEsZCkmJmouYWRkVGVzdChkLGFbZF0pO2Vsc2V7aWYoYT1hLnRvTG93ZXJDYXNlKCksalthXSE9PWMpcmV0dXJuIGo7Yj0iZnVuY3Rpb24iPT10eXBlb2YgYj9iKCk6YiwidW5kZWZpbmVkIiE9dHlwZW9mIGVuYWJsZUNsYXNzZXMmJmVuYWJsZUNsYXNzZXMmJihrLmNsYXNzTmFtZSs9IiAiKyhiPyIiOiJuby0iKSthKSxqW2FdPWJ9cmV0dXJuIGp9LGQoIiIpLG09Zj1udWxsLGouX3ZlcnNpb249aSxqLl9wcmVmaXhlcz1vLGoubXE9dCxqLnRlc3RTdHlsZXM9cyxqfSh0aGlzLHRoaXMuZG9jdW1lbnQpLCFmdW5jdGlvbihhKXthLkVkaXRhYmxlLkRFRkFVTFRTPWEuZXh0ZW5kKGEuRWRpdGFibGUuREVGQVVMVFMse2FsbG93ZWRFbXB0eVRhZ3M6WyJ0YWJsZSIsInRoZWFkIiwidGJvZHkiLCJ0Zm9vdCIsInRyIiwidGgiLCJ0ZCIsImEiLCJzcGFuIiwiaWZyYW1lIiwiZGl2Iiwib2JqZWN0IiwicGFyYW0iLCJlbWJlZCIsInZpZGVvIiwic291cmNlIiwiaSJdLHNlbGZDbG9zaW5nVGFnczpbImJyIiwiYnV0dG9uIiwiaW5wdXQiLCJpbWciLCJociIsInBhcmFtIiwiIS0tIiwic291cmNlIiwiZW1iZWQiXX0pLGEuRWRpdGFibGUuVEFHX09SREVSPVsibWFpbiIsInNlY3Rpb24iLCJoZWFkZXIiLCJmb290ZXIiLCJhcnRpY2xlIiwiZGV0YWlscyIsImxlZ2VuZCIsInN1bW1hcnkiLCJ0YWJsZSIsInRoZWFkIiwidGJvZHkiLCJ0Zm9vdCIsInRyIiwidGgiLCJ0ZCIsInVsIiwib2wiLCJsaSIsImgxIiwiaDIiLCJoMyIsImg0IiwiaDUiLCJoNiIsInByZSIsImJsb2NrcXVvdGUiLCJwIiwiZGl2IiwiYSIsInN0cm9uZyIsImVtIiwic3RyaWtlIiwidSIsInNwYW4iLCJpZnJhbWUiLCJvYmplY3QiLCJwYXJhbSIsInZpZGVvIiwic291cmNlIiwiZW1iZWQiXSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pc0Nsb3NpbmdUYWc9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/bnVsbCE9PWEubWF0Y2goL148XC8oW2EtekEtWjAtOV0rKShbXjxdKykqPiQvZ2kpOiExfSxhLkVkaXRhYmxlLnByb3RvdHlwZS50YWdOYW1lPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL148XC8/KFthLXpBLVowLTktIV0rKShbXjxdKykqPiQvZ2ksIiQxIikudG9Mb3dlckNhc2UoKX0sYS5FZGl0YWJsZS5TRUxGX0NMT1NJTkdfQUZURVI9WyJzb3VyY2UiXSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pc1NlbGZDbG9zaW5nVGFnPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudGFnTmFtZShhKTtyZXR1cm4gdGhpcy5vcHRpb25zLnNlbGZDbG9zaW5nVGFncy5pbmRleE9mKGIudG9Mb3dlckNhc2UoKSk+PTB9LGEuRWRpdGFibGUucHJvdG90eXBlLnRhZ0tleT1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlKyhhLmF0dHJzfHxbXSkuc29ydCgpLmpvaW4oInwiKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZXh0ZW5kZWRLZXk9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudGFnS2V5KGEpK0pTT04uc3RyaW5naWZ5KGEuc3R5bGUpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5tZXJnZVN0eWxlPWZ1bmN0aW9uKGIsYyl7Zm9yKHZhciBkPXt9LGU9YS5FZGl0YWJsZS51bmlxKGEubWVyZ2UoT2JqZWN0LmtleXMoYi5zdHlsZSksT2JqZWN0LmtleXMoYy5zdHlsZSkpKSxmPTA7ZjxlLmxlbmd0aDtmKyspe3ZhciBnPWVbZl07ZFtnXT1udWxsIT1jLnN0eWxlW2ddP2Muc3R5bGVbZ106Yi5zdHlsZVtnXX1yZXR1cm4gZH0sYS5FZGl0YWJsZS5wcm90b3R5cGUubWFwRE9NPWZ1bmN0aW9uKGIsYyl7dm9pZCAwPT09YyYmKGM9ITApO3ZhciBkLGUsZixnLGg9MCxpPTAsaj1bXSxrPSIiLGw9W10sbT17fSxuPXt9LG89ITE7YyYmKGI9Yi5yZXBsYWNlKC9cdTIwMEIvZ2ksIiIpKTtmb3IodmFyIHA9MDtwPGIubGVuZ3RoO3ArKylpZihkPWIuY2hhckF0KHApLCI8Ij09ZCl7dmFyIHE9Yi5pbmRleE9mKCI+IixwKzEpO2lmKC0xIT09cSl7aWYoaSsrLGU9Yi5zdWJzdHJpbmcocCxxKzEpLGc9dGhpcy50YWdOYW1lKGUpLHRoaXMuaXNTZWxmQ2xvc2luZ1RhZyhlKSl7bltoXXx8KG5baF09W10pLG5baF0ucHVzaCh7aTppLGNvbnRlbnQ6ZX0pLHA9cTtjb250aW51ZX12YXIgcj1udWxsLHM9ZS5yZXBsYWNlKC9ePFtcU1xzXSogc3R5bGU9KCJbXiJdKyJ8J1teJ10rJylbXFNcc10qPiQvZ2ksIiQxIiksdD17fTtpZihzIT1lJiYocz1zLnN1YnN0cmluZygxLHMubGVuZ3RoLTEpLG1hdGNoZXM9cy5tYXRjaCgvKFteOl0qKTooW146O10qO3wkKS9naSkpKWZvcih2YXIgdT0wO3U8bWF0Y2hlcy5sZW5ndGg7dSsrKXt2YXIgdj1tYXRjaGVzW3VdLnNwbGl0KCI6Iiksdz12LnNsaWNlKDEpLmpvaW4oIjoiKS50cmltKCk7IjsiPT13W3cubGVuZ3RoLTFdJiYodz13LnN1YnN0cigwLHcubGVuZ3RoLTEpKSx0W3ZbMF0udHJpbSgpXT13fXI9ZS5tYXRjaCgvKFtcd1wtXSopPSgiW148PiJdKiJ8J1tePD4nXSonfFx3KykvZ2kpO3ZhciB4PW51bGw7aWYocilmb3IodmFyIHk9MDt5PHIubGVuZ3RoO3krKykwPT09clt5XS5pbmRleE9mKCJjbGFzcz0iKSYmKHg9clt5XSksMD09PXJbeV0uaW5kZXhPZigic3R5bGU9IikmJnIuc3BsaWNlKHksMSk7ImIiPT1nJiYoZz0ic3Ryb25nIiksImkiPT1nJiYoIXh8fHguaW5kZXhPZigiZmEtIik8MCkmJm89PT0hMSYmKGc9ImVtIik7dmFyIHo9dGhpcy5pc0Nsb3NpbmdUYWcoZSk7aWYoImkiPT1nJiYobz16PyExOiEwKSx6KXt2YXIgQT1tW2ddLnBvcCgpO2g9PWpbQV0uc3RhcnQmJnRoaXMub3B0aW9ucy5hbGxvd2VkRW1wdHlUYWdzLmluZGV4T2YoZy50b0xvd2VyQ2FzZSgpKT49MCYmKG5baF18fChuW2hdPVtdKSxuW2hdLnB1c2goe2k6altBXS5pLGNvbnRlbnQ6altBXS5vcmlnaW5hbH0pLG5baF0ucHVzaCh7aTppLGNvbnRlbnQ6ZX0pKX1lbHNlIHRoaXMudmFsaWRfbm9kZXMuaW5kZXhPZihnLnRvVXBwZXJDYXNlKCkpPj0wJiYocj9yLnB1c2goJ2RhdGEtZnItaWR4PSInK3ArJyInKTpyPVsnZGF0YS1mci1pZHg9IicrcCsnIiddKSxqLnB1c2goe3R5cGU6ZyxhdHRyczpyLHN0eWxlOnQsc3RhcnQ6aCxpOmksb3JpZ2luYWw6ZX0pLG1bZ118fChtW2ddPVtdKSxtW2ddLnB1c2goai5sZW5ndGgtMSk7cD1xfX1lbHNle2srPWQsbFtoXT17fTtmb3IoZyBpbiBtKXtmPW1bZ107Zm9yKHZhciBCPTA7QjxmLmxlbmd0aDtCKyspe2U9altmW0JdXTt2YXIgQz10aGlzLnRhZ0tleShlKTtsW2hdW0NdP2xbaF1bQ10uc3R5bGU9dGhpcy5tZXJnZVN0eWxlKGxbaF1bQ10sZSk6bFtoXVtDXT1hLmV4dGVuZCh7fSxlKX19aCsrfXZhciBEPVtdO2ZvcihwPTA7cDxsLmxlbmd0aDtwKyspe0RbcF09e307Zm9yKHZhciBFIGluIGxbcF0pRFtwXVt0aGlzLmV4dGVuZGVkS2V5KGxbcF1bRV0pXT1sW3BdW0VdfXJldHVybnt0ZXh0OmssZm9ybWF0OkQsc2ltcGxlX3RhZ3M6bn19LGEuRWRpdGFibGUucHJvdG90eXBlLmZyb2FsYURPTT1mdW5jdGlvbihiKXtmb3IodmFyIGMsZD1bXSxlPXt9LGY9MDtmPGIubGVuZ3RoO2YrKyl7dmFyIGc9YltmXTtmb3IoYyBpbiBlKWdbY118fChlW2NdLmVuZD1mLGQucHVzaChhLmV4dGVuZCh7fSxlW2NdKSksZGVsZXRlIGVbY10pO2Zvcih2YXIgaCBpbiBnKWVbaF18fChnW2hdLnN0YXJ0PWYsZVtoXT1nW2hdKX1mb3IoYyBpbiBlKWVbY10uZW5kPWIubGVuZ3RoLGQucHVzaChlW2NdKTtyZXR1cm4gZH0sYS5FZGl0YWJsZS5wcm90b3R5cGUuc29ydE5vZGVzPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuRWRpdGFibGUuVEFHX09SREVSLmluZGV4T2YoYi50eXBlKS1hLkVkaXRhYmxlLlRBR19PUkRFUi5pbmRleE9mKGMudHlwZSl9LGEuRWRpdGFibGUucHJvdG90eXBlLnNvcnRTaW1wbGVUYWdzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuaS1iLml9LGEuRWRpdGFibGUucHJvdG90eXBlLm9wZW5UYWc9ZnVuY3Rpb24oYSl7dmFyIGI9IjwiK2EudHlwZTtpZihhLmF0dHJzKXthLmF0dHJzLnNvcnQoKTtmb3IodmFyIGM9MDtjPGEuYXR0cnMubGVuZ3RoO2MrKyliKz0iICIrYS5hdHRyc1tjXX12YXIgZD0iIjtmb3IodmFyIGUgaW4gYS5zdHlsZSludWxsIT1hLnN0eWxlW2VdJiYoZCs9ZS5yZXBsYWNlKCJfIiwiLSIpKyI6ICIrYS5zdHlsZVtlXSsiOyAiKTtyZXR1cm4iIiE9PWQmJihiKz0nIHN0eWxlPSInK2QudHJpbSgpKyciJyksYis9Ij4ifSxhLkVkaXRhYmxlLnByb3RvdHlwZS5jbGVhbk91dHB1dD1mdW5jdGlvbihiLGMpe3ZhciBkLGUsZixnLGg9dGhpcy5tYXBET00oYixjKSxpPXRoaXMuZnJvYWxhRE9NKGguZm9ybWF0KSxqPWguc2ltcGxlX3RhZ3Msaz1oLnRleHQsbD17fTtmb3IoZT0wO2U8aS5sZW5ndGg7ZSsrKWQ9aVtlXSxsW2Quc3RhcnRdfHwobFtkLnN0YXJ0XT1bXSksbFtkLnN0YXJ0XS5wdXNoKGQpO3ZhciBtPXt9O2ZvcihiPSIiLGU9MDtlPD1rLmxlbmd0aDtlKyspe3ZhciBuPVtdO2lmKG1bZV0pe2Zvcih2YXIgbyBpbiBtKWlmKG8+ZSlmb3IoZj0wO2Y8bVtvXS5sZW5ndGg7ZisrKXt2YXIgcD1tW29dW2ZdO3Auc3RhcnQ+PW1bZV1bbVtlXS5sZW5ndGgtMV0uc3RhcnQmJmEuRWRpdGFibGUuVEFHX09SREVSLmluZGV4T2YocC50eXBlKT5hLkVkaXRhYmxlLlRBR19PUkRFUi5pbmRleE9mKG1bZV1bbVtlXS5sZW5ndGgtMV0udHlwZSkmJnRoaXMudmFsaWRfbm9kZXMuaW5kZXhPZihwLnR5cGUudG9VcHBlckNhc2UoKSk8MCYmKGIrPSI8LyIrcC50eXBlKyI+IixuLnB1c2gocCksbVtvXS5zcGxpY2UoZiwxKSl9Zm9yKGY9MDtmPG1bZV0ubGVuZ3RoO2YrKyliKz0iPC8iK21bZV1bZl0udHlwZSsiPiJ9Zm9yKGxbZV18fChsW2VdPVtdKTtuLmxlbmd0aD4wOyl7dmFyIHE9bi5wb3AoKTtxLnN0YXJ0PWUsbFtlXS5wdXNoKHEpfWlmKGxbZV0pZm9yKGxbZV09bFtlXS5zb3J0KHRoaXMuc29ydE5vZGVzKSxmPTA7ZjxsW2VdLmxlbmd0aDtmKyspZD1sW2VdW2ZdLG1bZC5lbmRdfHwobVtkLmVuZF09W10pLG1bZC5lbmRdLnB1c2goZCksYis9dGhpcy5vcGVuVGFnKGQpO2lmKGpbZV0pZm9yKGpbZV09altlXS5zb3J0KHRoaXMuc29ydFNpbXBsZVRhZ3MpLGc9MDtnPGpbZV0ubGVuZ3RoO2crKyliKz1qW2VdW2ddLmNvbnRlbnQ7ZSE9ay5sZW5ndGgmJihiKz1rW2VdKX1yZXR1cm4gYn0sYS5FZGl0YWJsZS5wcm90b3R5cGUuY2xlYW5pZnk9ZnVuY3Rpb24oYixjKXt2YXIgZDtpZih0aGlzLmlzSFRNTClyZXR1cm4hMTt2b2lkIDA9PT1iJiYoYj0hMCksdGhpcy5ub192ZXJpZnk9ITAsdGhpcy5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzKCksZD1iP3RoaXMuZ2V0U2VsZWN0aW9uRWxlbWVudHMoKTp0aGlzLiRlbGVtZW50LmZpbmQodGhpcy52YWxpZF9ub2Rlcy5qb2luKCIsIikpO3ZhciBlLGY7aWYoZFswXSE9dGhpcy4kZWxlbWVudC5nZXQoMCkpZm9yKHZhciBnPTA7ZzxkLmxlbmd0aDtnKyspe3ZhciBoPWEoZFtnXSk7ZT1oLmh0bWwoKSxmPXRoaXMuY2xlYW5PdXRwdXQoZSxjKSxmIT09ZSYmaC5odG1sKGYpfWVsc2UgMD09PXRoaXMuJGVsZW1lbnQuZmluZCh0aGlzLnZhbGlkX25vZGVzLmpvaW4oIiwiKSkubGVuZ3RoJiYoZT10aGlzLiRlbGVtZW50Lmh0bWwoKSxmPXRoaXMuY2xlYW5PdXRwdXQoZSxjKSxmIT09ZSYmdGhpcy4kZWxlbWVudC5odG1sKGYpKTt0aGlzLiRlbGVtZW50LmZpbmQoIltkYXRhLWZyLWlkeF0iKS5yZW1vdmVBdHRyKCJkYXRhLWZyLWlkeCIpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpLHRoaXMuZm9jdXMoKSx0aGlzLiRlbGVtZW50LmZpbmQoInNwYW4iKS5hdHRyKCJkYXRhLWZyLXZlcmlmaWVkIiwhMCksdGhpcy5ub192ZXJpZnk9ITF9fShqUXVlcnkpOw==",
                "body": "LyohCiAqIGZyb2FsYV9lZGl0b3IgdjEuMi40IChodHRwOi8vZWRpdG9yLmZyb2FsYS5jb20pCiAqIENvcHlyaWdodCAyMDE0LTIwMTQgRnJvYWxhCiAqLwppZigidW5kZWZpbmVkIj09dHlwZW9mIGpRdWVyeSl0aHJvdyBuZXcgRXJyb3IoIkZyb2FsYSByZXF1aXJlcyBqUXVlcnkiKTshZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO3ZhciBiPWZ1bmN0aW9uKGMsZCl7dGhpcy5vcHRpb25zPWEuZXh0ZW5kKHt9LGIuREVGQVVMVFMsYShjKS5kYXRhKCksIm9iamVjdCI9PXR5cGVvZiBkJiZkKSx0aGlzLnZhbGlkX25vZGVzPWEubWVyZ2UoW10sYi5WQUxJRF9OT0RFUyksdGhpcy52YWxpZF9ub2Rlcz1hLm1lcmdlKHRoaXMudmFsaWRfbm9kZXMsYS5tYXAoT2JqZWN0LmtleXModGhpcy5vcHRpb25zLmJsb2NrVGFncyksZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9VcHBlckNhc2UoKX0pKSx0aGlzLmJyb3dzZXI9Yi5icm93c2VyKCksdGhpcy5kaXNhYmxlZExpc3Q9W10sdGhpcy5faWQ9KytiLmNvdW50LHRoaXMuX2V2ZW50cz17fSx0aGlzLmJsdXJyZWQ9ITAsdGhpcy4kd2luZG93PWEod2luZG93KSx0aGlzLiRkb2N1bWVudD1hKGRvY3VtZW50KSx0aGlzLiRvcmlnaW5hbF9lbGVtZW50PWEoYyksdGhpcy5pbml0KGMpLGEoYykub24oImVkaXRhYmxlLmZvY3VzIixhLnByb3h5KGZ1bmN0aW9uKCl7Zm9yKHZhciBiPTE7Yjw9YS5FZGl0YWJsZS5jb3VudDtiKyspYiE9dGhpcy5faWQmJmEod2luZG93KS50cmlnZ2VyKCJibHVyLiIrYil9LHRoaXMpKX07Yi5pbml0aWFsaXplcnM9W10sYi5jb3VudD0wLGIuVkFMSURfTk9ERVM9WyJQIiwiRElWIiwiTEkiLCJURCIsIlRIIl0sYi5MQU5HUz1bXSxiLkRFRkFVTFRTPXthbGxvd2VkQXR0cnM6WyJhY2NlcHQiLCJhY2NlcHQtY2hhcnNldCIsImFjY2Vzc2tleSIsImFjdGlvbiIsImFsaWduIiwiYWx0IiwiYXN5bmMiLCJhdXRvY29tcGxldGUiLCJhdXRvZm9jdXMiLCJhdXRvcGxheSIsImF1dG9zYXZlIiwiYmFja2dyb3VuZCIsImJnY29sb3IiLCJib3JkZXIiLCJjaGFyc2V0IiwiY2VsbHBhZGRpbmciLCJjZWxsc3BhY2luZyIsImNoZWNrZWQiLCJjaXRlIiwiY2xhc3MiLCJjb2xvciIsImNvbHMiLCJjb2xzcGFuIiwiY29udGVudGVkaXRhYmxlIiwiY29udGV4dG1lbnUiLCJjb250cm9scyIsImNvb3JkcyIsImRhdGEiLCJkYXRhLS4qIiwiZGF0ZXRpbWUiLCJkZWZhdWx0IiwiZGVmZXIiLCJkaXIiLCJkaXJuYW1lIiwiZGlzYWJsZWQiLCJkb3dubG9hZCIsImRyYWdnYWJsZSIsImRyb3B6b25lIiwiZW5jdHlwZSIsImZvciIsImZvcm0iLCJmb3JtYWN0aW9uIiwiaGVhZGVycyIsImhlaWdodCIsImhpZGRlbiIsImhpZ2giLCJocmVmIiwiaHJlZmxhbmciLCJpY29uIiwiaWQiLCJpc21hcCIsIml0ZW1wcm9wIiwia2V5dHlwZSIsImtpbmQiLCJsYWJlbCIsImxhbmciLCJsYW5ndWFnZSIsImxpc3QiLCJsb29wIiwibG93IiwibWF4IiwibWF4bGVuZ3RoIiwibWVkaWEiLCJtZXRob2QiLCJtaW4iLCJtdWx0aXBsZSIsIm5hbWUiLCJub3ZhbGlkYXRlIiwib3BlbiIsIm9wdGltdW0iLCJwYXR0ZXJuIiwicGluZyIsInBsYWNlaG9sZGVyIiwicG9zdGVyIiwicHJlbG9hZCIsInB1YmRhdGUiLCJyYWRpb2dyb3VwIiwicmVhZG9ubHkiLCJyZWwiLCJyZXF1aXJlZCIsInJldmVyc2VkIiwicm93cyIsInJvd3NwYW4iLCJzYW5kYm94Iiwic2NvcGUiLCJzY29wZWQiLCJzY3JvbGxpbmciLCJzZWFtbGVzcyIsInNlbGVjdGVkIiwic2hhcGUiLCJzaXplIiwic2l6ZXMiLCJzcGFuIiwic3JjIiwic3JjZG9jIiwic3JjbGFuZyIsInNyY3NldCIsInN0YXJ0Iiwic3RlcCIsInN1bW1hcnkiLCJzcGVsbGNoZWNrIiwic3R5bGUiLCJ0YWJpbmRleCIsInRhcmdldCIsInRpdGxlIiwidHlwZSIsInRyYW5zbGF0ZSIsInVzZW1hcCIsInZhbHVlIiwidmFsaWduIiwid2lkdGgiLCJ3cmFwIl0sYWxsb3dlZFRhZ3M6WyIhLS0iLCJhIiwiYWJiciIsImFkZHJlc3MiLCJhcmVhIiwiYXJ0aWNsZSIsImFzaWRlIiwiYXVkaW8iLCJiIiwiYmFzZSIsImJkaSIsImJkbyIsImJsb2NrcXVvdGUiLCJiciIsImJ1dHRvbiIsImNhbnZhcyIsImNhcHRpb24iLCJjaXRlIiwiY29kZSIsImNvbCIsImNvbGdyb3VwIiwiZGF0YWxpc3QiLCJkZCIsImRlbCIsImRldGFpbHMiLCJkZm4iLCJkaWFsb2ciLCJkaXYiLCJkbCIsImR0IiwiZW0iLCJlbWJlZCIsImZpZWxkc2V0IiwiZmlnY2FwdGlvbiIsImZpZ3VyZSIsImZvb3RlciIsImZvcm0iLCJoMSIsImgyIiwiaDMiLCJoNCIsImg1IiwiaDYiLCJoZWFkZXIiLCJoZ3JvdXAiLCJociIsImkiLCJpZnJhbWUiLCJpbWciLCJpbnB1dCIsImlucyIsImtiZCIsImtleWdlbiIsImxhYmVsIiwibGVnZW5kIiwibGkiLCJsaW5rIiwibWFpbiIsIm1hcCIsIm1hcmsiLCJtZW51IiwibWVudWl0ZW0iLCJtZXRlciIsIm5hdiIsIm5vc2NyaXB0Iiwib2JqZWN0Iiwib2wiLCJvcHRncm91cCIsIm9wdGlvbiIsIm91dHB1dCIsInAiLCJwYXJhbSIsInByZSIsInByb2dyZXNzIiwicXVldWUiLCJycCIsInJ0IiwicnVieSIsInMiLCJzYW1wIiwic2NyaXB0Iiwic2VjdGlvbiIsInNlbGVjdCIsInNtYWxsIiwic291cmNlIiwic3BhbiIsInN0cm9uZyIsInN0eWxlIiwic3ViIiwic3VtbWFyeSIsInN1cCIsInRhYmxlIiwidGJvZHkiLCJ0ZCIsInRleHRhcmVhIiwidGZvb3QiLCJ0aCIsInRoZWFkIiwidGltZSIsInRpdGxlIiwidHIiLCJ0cmFjayIsInUiLCJ1bCIsInZhciIsInZpZGVvIiwid2JyIl0sYWx3YXlzQmxhbms6ITEsYWx3YXlzVmlzaWJsZTohMSxhdXRvc2F2ZTohMSxhdXRvc2F2ZUludGVydmFsOjFlNCxiZWF1dGlmeUNvZGU6ITAsYmxvY2tUYWdzOntuOiJOb3JtYWwiLGJsb2NrcXVvdGU6IlF1b3RlIixwcmU6IkNvZGUiLGgxOiJIZWFkaW5nIDEiLGgyOiJIZWFkaW5nIDIiLGgzOiJIZWFkaW5nIDMiLGg0OiJIZWFkaW5nIDQiLGg1OiJIZWFkaW5nIDUiLGg2OiJIZWFkaW5nIDYifSxidXR0b25zOlsiYm9sZCIsIml0YWxpYyIsInVuZGVybGluZSIsInN0cmlrZVRocm91Z2giLCJmb250U2l6ZSIsImZvbnRGYW1pbHkiLCJjb2xvciIsInNlcCIsImZvcm1hdEJsb2NrIiwiYmxvY2tTdHlsZSIsImFsaWduIiwiaW5zZXJ0T3JkZXJlZExpc3QiLCJpbnNlcnRVbm9yZGVyZWRMaXN0Iiwib3V0ZGVudCIsImluZGVudCIsInNlcCIsImNyZWF0ZUxpbmsiLCJpbnNlcnRJbWFnZSIsImluc2VydFZpZGVvIiwiaW5zZXJ0SG9yaXpvbnRhbFJ1bGUiLCJ1bmRvIiwicmVkbyIsImh0bWwiXSxjcm9zc0RvbWFpbjohMCxjb252ZXJ0TWFpbEFkZHJlc3NlczohMCxjdXN0b21CdXR0b25zOnt9LGN1c3RvbURyb3Bkb3duczp7fSxjdXN0b21UZXh0OiExLGRpcmVjdGlvbjoibHRyIixkaXNhYmxlUmlnaHRDbGljazohMSxlZGl0SW5Qb3B1cDohMSxlZGl0b3JDbGFzczoiIixmb3JtYXRUYWdzOlsicCIsInByZSIsImJsb2NrcXVvdGUiLCJoMSIsImgyIiwiaDMiLCJoNCIsImg1IiwiaDYiLCJkaXYiLCJ1bCIsIm9sIiwibGkiLCJ0YWJsZSIsInRib2R5IiwidGhlYWQiLCJ0Zm9vdCIsInRyIiwidGgiLCJ0ZCJdLGhlYWRlcnM6e30saGVpZ2h0OiJhdXRvIixpY29uczp7fSxpbmxpbmVNb2RlOiEwLGluaXRPbkNsaWNrOiExLGxhbmd1YWdlOiJlbl91cyIsbGlua0xpc3Q6W10sbGlua1RleHQ6ITEsbGlua0NsYXNzZXM6e30sbWF4SGVpZ2h0OiJhdXRvIixtaW5IZWlnaHQ6ImF1dG8iLG5vRm9sbG93OiEwLHBhcmFncmFwaHk6ITAscGxhY2Vob2xkZXI6IlR5cGUgc29tZXRoaW5nIixwbGFpblBhc3RlOiExLHByZWxvYWRlclNyYzoiIixzYXZlVVJMOm51bGwsc2F2ZVBhcmFtczp7fSxzYXZlUmVxdWVzdFR5cGU6IlBPU1QiLHNpbXBsZUFtcGVyc2FuZDohMSxzaG9ydGN1dHM6ITAsc2hvcnRjdXRzQXZhaWxhYmxlOlsic2hvdyIsImJvbGQiLCJpdGFsaWMiLCJ1bmRlcmxpbmUiLCJjcmVhdGVMaW5rIiwiaW5zZXJ0SW1hZ2UiLCJzZWxlY3RBbGwiLCJpbmRlbnQiLCJvdXRkZW50IiwiaHRtbCIsImZvcm1hdEJsb2NrIG4iLCJmb3JtYXRCbG9jayBoMSIsImZvcm1hdEJsb2NrIGgyIiwiZm9ybWF0QmxvY2sgaDMiLCJmb3JtYXRCbG9jayBoNCIsImZvcm1hdEJsb2NrIGg1IiwiZm9ybWF0QmxvY2sgaDYiLCJmb3JtYXRCbG9jayBibG9ja3F1b3RlIiwiZm9ybWF0QmxvY2sgcHJlIiwic3RyaWtlVGhyb3VnaCJdLHNwZWxsY2hlY2s6ITEsdGhlbWU6bnVsbCx0b29sYmFyRml4ZWQ6ITAsdHJhY2tTY3JvbGw6ITEsdW5saW5rQnV0dG9uOiEwLHRhYlNwYWNlczohMCx0eXBpbmdUaW1lcjo1MDAscGFzdGVkSW1hZ2VzVXBsb2FkUmVxdWVzdFR5cGU6IlBPU1QiLHBhc3RlZEltYWdlc1VwbG9hZFVSTDoiaHR0cDovL2kuZnJvYWxhLmNvbS91cGxvYWRfYmFzZTY0Iix3aWR0aDoiYXV0byIsd2l0aENyZWRlbnRpYWxzOiExLHpJbmRleDoyZTN9LGIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnN5bmMoKSx0aGlzLmFkZEZyVGFnKCksdGhpcy5oaWRlKCksdGhpcy5pc0hUTUwmJnRoaXMuaHRtbCgpLHRoaXMuJGJ0dG5fd3JhcHBlciYmdGhpcy4kYnR0bl93cmFwcGVyLmh0bWwoIiIpLnJlbW92ZURhdGEoKS5yZW1vdmUoKSx0aGlzLiRlZGl0b3ImJnRoaXMuJGVkaXRvci5odG1sKCIiKS5yZW1vdmVEYXRhKCkucmVtb3ZlKCksdGhpcy5yYWlzZUV2ZW50KCJkZXN0cm95IiksdGhpcy4kcG9wdXBfZWRpdG9yJiZ0aGlzLiRwb3B1cF9lZGl0b3IuaHRtbCgiIikucmVtb3ZlRGF0YSgpLnJlbW92ZSgpLHRoaXMuJHBsYWNlaG9sZGVyJiZ0aGlzLiRwbGFjZWhvbGRlci5odG1sKCIiKS5yZW1vdmVEYXRhKCkucmVtb3ZlKCksY2xlYXJUaW1lb3V0KHRoaXMuYWpheEludGVydmFsKSxjbGVhclRpbWVvdXQodGhpcy50eXBpbmdUaW1lciksdGhpcy4kZWxlbWVudC5vZmYoIm1vdXNlZG93biBtb3VzZXVwIGNsaWNrIGtleWRvd24ga2V5dXAgY3V0IGNvcHkgcGFzdGUgZm9jdXMga2V5cHJlc3MgdG91Y2hzdGFydCB0b3VjaGVuZCB0b3VjaCBkcm9wIiksdGhpcy4kZWxlbWVudC5vZmYoIm1vdXNlZG93biBtb3VzZXVwIGNsaWNrIGtleWRvd24ga2V5dXAgY3V0IGNvcHkgcGFzdGUgZm9jdXMga2V5cHJlc3MgdG91Y2hzdGFydCB0b3VjaGVuZCB0b3VjaCBkcm9wIiwiKioiKSxhKHdpbmRvdykub2ZmKCJtb3VzZXVwLiIrdGhpcy5faWQpLGEod2luZG93KS5vZmYoImtleWRvd24uIit0aGlzLl9pZCksYSh3aW5kb3cpLm9mZigia2V5dXAuIit0aGlzLl9pZCksYSh3aW5kb3cpLm9mZigiYmx1ci4iK3RoaXMuX2lkKSxhKHdpbmRvdykub2ZmKCJoaWRlLiIrdGhpcy5faWQpLGEod2luZG93KS5vZmYoInNjcm9sbC4iK3RoaXMuX2lkKSxhKHdpbmRvdykub2ZmKCJvcmllbnRhdGlvbmNoYW5nZS4iK3RoaXMuX2lkKSxhKGRvY3VtZW50KS5vZmYoInNlbGVjdGlvbmNoYW5nZS4iK3RoaXMuX2lkKSx0aGlzLiRvcmlnaW5hbF9lbGVtZW50Lm9mZigiZWRpdGFibGUiKSx2b2lkIDAhPT10aGlzLiR1cGxvYWRfZnJhbWUmJnRoaXMuJHVwbG9hZF9mcmFtZS5yZW1vdmUoKSx0aGlzLiR0ZXh0YXJlYSYmKHRoaXMuJGJveC5yZW1vdmUoKSx0aGlzLiR0ZXh0YXJlYS5yZW1vdmVEYXRhKCJmYS5lZGl0YWJsZSIpLHRoaXMuJHRleHRhcmVhLnNob3coKSk7Zm9yKHZhciBiIGluIHRoaXMuX2V2ZW50cylkZWxldGUgdGhpcy5fZXZlbnRzW2JdO3RoaXMuaXNMaW5rP3RoaXMuJGVsZW1lbnQucmVtb3ZlRGF0YSgiZmEuZWRpdGFibGUiKToodGhpcy4kZWxlbWVudC5yZXBsYWNlV2l0aCh0aGlzLmdldEhUTUwoKSksdGhpcy4kYm94JiYhdGhpcy5lZGl0YWJsZURpc2FibGVkJiYodGhpcy4kYm94LnJlbW92ZUNsYXNzKCJmcm9hbGEtYm94IiksdGhpcy4kYm94LmZpbmQoIi5odG1sLXN3aXRjaCIpLnJlbW92ZSgpLHRoaXMuJGJveC5yZW1vdmVEYXRhKCJmYS5lZGl0YWJsZSIpLGNsZWFyVGltZW91dCh0aGlzLnR5cGluZ1RpbWVyKSkpfSxiLnByb3RvdHlwZS50cmlnZ2VyRXZlbnQ9ZnVuY3Rpb24oYixjLGQsZSl7dm9pZCAwPT09ZCYmKGQ9ITApLHZvaWQgMD09PWUmJihlPSExKSxkPT09ITAmJih0aGlzLmlzUmVzaXppbmcoKXx8dGhpcy5lZGl0YWJsZURpc2FibGVkfHx0aGlzLmltYWdlTW9kZXx8IWV8fHRoaXMuY2xlYW5pZnkoKSx0aGlzLnN5bmMoKSk7dmFyIGY9ITA7cmV0dXJuIGN8fChjPVtdKSxmPXRoaXMuJG9yaWdpbmFsX2VsZW1lbnQudHJpZ2dlckhhbmRsZXIoImVkaXRhYmxlLiIrYixhLm1lcmdlKFt0aGlzXSxjKSksdm9pZCAwPT09Zj8hMDpmfSxiLnByb3RvdHlwZS5zeW5jQ2xlYW5IVE1MPWZ1bmN0aW9uKGEsYil7dmFyIGM7aWYoYilmb3IoYz1hLnJlcGxhY2UoLzxzcGFuKCg/IWNsYXNzXHMqPVxzKlsiJ10/Zi1tYXJrZXJbIiddPylbXj5dKSo/PjxcL3NwYW4+L2dpLCIiKTthIT1jOylhPWMsYz1hLnJlcGxhY2UoLzxzcGFuKCg/IWNsYXNzXHMqPVxzKlsiJ10/Zi1tYXJrZXJbIiddPylbXj5dKSo/PjxcL3NwYW4+L2dpLCIiKTtlbHNlIGZvcihjPWEucmVwbGFjZSgvPHNwYW5bXj5dKj8+PFwvc3Bhbj4vZywiIik7YSE9YzspYT1jLGM9YS5yZXBsYWNlKC88c3BhbltePl0qPz48XC9zcGFuPi9nLCIiKTtyZXR1cm4gYX0sYi5wcm90b3R5cGUuc3luY0NsZWFuPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9InNwYW46ZW1wdHkiO2MmJihkPSJzcGFuOmVtcHR5Om5vdCguZi1tYXJrZXIpIik7Zm9yKHZhciBlPSExLGY9ZnVuY3Rpb24oYixjKXswPT09Yy5hdHRyaWJ1dGVzLmxlbmd0aCYmKGEoYykucmVtb3ZlKCksZT0hMSl9LGc9Yi5maW5kKGQpO2cubGVuZ3RoJiZlPT09ITE7KWU9ITAsZy5lYWNoKGYpLGc9Yi5maW5kKGQpfSxiLnByb3RvdHlwZS5zeW5jPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNIVE1MKXt0aGlzLnJhaXNlRXZlbnQoInN5bmMiKSx0aGlzLmRpc2FibGVJbWFnZVJlc2l6ZSgpLHRoaXMuaXNMaW5rfHx0aGlzLmlzSW1hZ2V8fHRoaXMuJGVsZW1lbnQudHJpZ2dlcigicGxhY2Vob2xkZXJDaGVjayIpO3ZhciBhPXRoaXMuZ2V0SFRNTCgpO3RoaXMudHJhY2tIVE1MIT09YSYmbnVsbCE9dGhpcy50cmFja0hUTUw/KHRoaXMucmVmcmVzaEltYWdlTGlzdCgpLHRoaXMucmVmcmVzaEJ1dHRvbnMoKSx0aGlzLmNsZWFudXBMaXN0cygpLHRoaXMudHJhY2tIVE1MPWEsdGhpcy4kdGV4dGFyZWEmJnRoaXMuJHRleHRhcmVhLnZhbCh0aGlzLmdldEhUTUwoITEsITApKSx0aGlzLmRvaW5nUmVkb3x8dGhpcy5zYXZlVW5kb1N0ZXAoKSx0aGlzLnRyaWdnZXJFdmVudCgiY29udGVudENoYW5nZWQiLFtdLCExKSk6bnVsbD09dGhpcy50cmFja0hUTUwmJih0aGlzLnRyYWNrSFRNTD1hKX19LGIucHJvdG90eXBlLmVtcHR5RWxlbWVudD1mdW5jdGlvbihiKXtpZigiSU1HIj09Yi50YWdOYW1lfHxhKGIpLmZpbmQoImltZyIpLmxlbmd0aD4wKXJldHVybiExO2lmKGEoYikuZmluZCgiaW5wdXQsIGlmcmFtZSIpLmxlbmd0aD4wKXJldHVybiExO2Zvcih2YXIgYz1hKGIpLnRleHQoKSxkPTA7ZDxjLmxlbmd0aDtkKyspaWYoIlxuIiE9PWNbZF0mJiJcciIhPT1jW2RdJiYiCSIhPT1jW2RdKXJldHVybiExO3JldHVybiEwfSxiLnByb3RvdHlwZS5pbml0RXZlbnRzPWZ1bmN0aW9uKCl7dGhpcy5tb2JpbGUoKT8odGhpcy5tb3VzZWRvd249InRvdWNoc3RhcnQiLHRoaXMubW91c2V1cD0idG91Y2hlbmQiLHRoaXMubW92ZT0idG91Y2htb3ZlIik6KHRoaXMubW91c2Vkb3duPSJtb3VzZWRvd24iLHRoaXMubW91c2V1cD0ibW91c2V1cCIsdGhpcy5tb3ZlPSIiKX0sYi5wcm90b3R5cGUuY29udGludWVJbml0PWZ1bmN0aW9uKCl7dGhpcy5pbml0RXZlbnRzKCksdGhpcy5icm93c2VyRml4ZXMoKSx0aGlzLmVkaXRhYmxlRGlzYWJsZWR8fCh0aGlzLmluaXRVbmRvUmVkbygpLHRoaXMuZW5hYmxlVHlwaW5nKCksdGhpcy5pbml0U2hvcnRjdXRzKCkpLHRoaXMuaW5pdFRhYnMoKSx0aGlzLmluaXRFZGl0b3IoKTtmb3IodmFyIGI9MDtiPGEuRWRpdGFibGUuaW5pdGlhbGl6ZXJzLmxlbmd0aDtiKyspYS5FZGl0YWJsZS5pbml0aWFsaXplcnNbYl0uY2FsbCh0aGlzKTt0aGlzLmluaXRPcHRpb25zKCksdGhpcy5pbml0RWRpdG9yU2VsZWN0aW9uKCksdGhpcy5pbml0QWpheFNhdmVyKCksdGhpcy5zZXRMYW5ndWFnZSgpLHRoaXMuc2V0Q3VzdG9tVGV4dCgpLHRoaXMuZWRpdGFibGVEaXNhYmxlZHx8dGhpcy5yZWdpc3RlclBhc3RlKCksdGhpcy5pbml0aWFsaXplZD0hMCx0aGlzLnRyaWdnZXJFdmVudCgiaW5pdGlhbGl6ZWQiLFtdLCExLCExKX0sYi5wcm90b3R5cGUubGF0ZUluaXQ9ZnVuY3Rpb24oKXt0aGlzLnNhdmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLmNvbnRpbnVlSW5pdCgpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpLHRoaXMuJGVsZW1lbnQuZm9jdXMoKSx0aGlzLmhpZGVPdGhlckVkaXRvcnMoKX0sYi5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihiKXt0aGlzLmluaXRFbGVtZW50KGIpLHRoaXMuaW5pdEVsZW1lbnRTdHlsZSgpLCghdGhpcy5pc0xpbmt8fHRoaXMuaXNJbWFnZSkmJih0aGlzLmluaXRJbWFnZUV2ZW50cygpLHRoaXMuYnVpbGRJbWFnZU1vdmUoKSksdGhpcy5vcHRpb25zLmluaXRPbkNsaWNrPyh0aGlzLmVkaXRhYmxlRGlzYWJsZWR8fCh0aGlzLiRlbGVtZW50LmF0dHIoImNvbnRlbnRlZGl0YWJsZSIsITApLHRoaXMuJGVsZW1lbnQuYXR0cigic3BlbGxjaGVjayIsITEpKSx0aGlzLiRlbGVtZW50LmJpbmQoIm1vdXNlZG93bi5lbGVtZW50IixhLnByb3h5KGZ1bmN0aW9uKGEpe3RoaXMuaXNMaW5rfHxhLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuJGVsZW1lbnQudW5iaW5kKCJtb3VzZWRvd24uZWxlbWVudCIpLHRoaXMubGF0ZUluaXQoKX0sdGhpcykpKTp0aGlzLmNvbnRpbnVlSW5pdCgpfSxiLnByb3RvdHlwZS5waG9uZT1mdW5jdGlvbigpe3ZhciBhPSExO3JldHVybiBmdW5jdGlvbihiKXsoLyhhbmRyb2lkfGJiXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vL2kudGVzdChiKXx8LzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1wtKG58dSl8YzU1XC98Y2FwaXxjY3dhfGNkbVwtfGNlbGx8Y2h0bXxjbGRjfGNtZFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXC01fGdcLW1vfGdvKFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFwtKG18cHx0KXxoZWlcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXC1jfGh0KGMoXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XC18XC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XC8pfGtsb258a3B0IHxrd2NcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XC8oa3xsfHUpfDUwfDU0fFwtW2Etd10pfGxpYnd8bHlueHxtMVwtd3xtM2dhfG01MFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVwtY3J8bWUocmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XC1nfHFhXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFwtWzItN118aVwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXC18b298cFwtKXxzZGtcL3xzZShjKFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFwtfHNoYXJ8c2llKFwtfG0pfHNrXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcLXx2XC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcLXx0ZGdcLXx0ZWwoaXxtKXx0aW1cLXx0XC1tb3x0byhwbHxzaCl8dHMoNzB8bVwtfG0zfG01KXx0eFwtOXx1cChcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcLXx5b3VyfHpldG98enRlXC0vaS50ZXN0KGIuc3Vic3RyKDAsNCkpKSYmKGE9ITApfShuYXZpZ2F0b3IudXNlckFnZW50fHxuYXZpZ2F0b3IudmVuZG9yfHx3aW5kb3cub3BlcmEpLGF9LGIucHJvdG90eXBlLm1vYmlsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBob25lKCl8fHRoaXMuYW5kcm9pZCgpfHx0aGlzLmlPUygpfHx0aGlzLmJsYWNrYmVycnkoKX0sYi5wcm90b3R5cGUuaU9TPWZ1bmN0aW9uKCl7cmV0dXJuLyhpUGFkfGlQaG9uZXxpUG9kKS9nLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9LGIucHJvdG90eXBlLmlPU1ZlcnNpb249ZnVuY3Rpb24oKXtpZigvaVAoaG9uZXxvZHxhZCkvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSl7dmFyIGE9bmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL09TIChcZCspXyhcZCspXz8oXGQrKT8vKSxiPVtwYXJzZUludChhWzFdLDEwKSxwYXJzZUludChhWzJdLDEwKSxwYXJzZUludChhWzNdfHwwLDEwKV07aWYoYiYmYlswXSlyZXR1cm4gYlswXX1yZXR1cm4gMH0sYi5wcm90b3R5cGUuaVBhZD1mdW5jdGlvbigpe3JldHVybi8oaVBhZCkvZy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSxiLnByb3RvdHlwZS5pUGhvbmU9ZnVuY3Rpb24oKXtyZXR1cm4vKGlQaG9uZSkvZy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSxiLnByb3RvdHlwZS5pUG9kPWZ1bmN0aW9uKCl7cmV0dXJuLyhpUG9kKS9nLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9LGIucHJvdG90eXBlLmFuZHJvaWQ9ZnVuY3Rpb24oKXtyZXR1cm4vKEFuZHJvaWQpL2cudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX0sYi5wcm90b3R5cGUuYmxhY2tiZXJyeT1mdW5jdGlvbigpe3JldHVybi8oQmxhY2tiZXJyeSkvZy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSxiLnByb3RvdHlwZS5pbml0T25UZXh0YXJlYT1mdW5jdGlvbihiKXt0aGlzLiR0ZXh0YXJlYT1hKGIpLHZvaWQgMCE9PXRoaXMuJHRleHRhcmVhLmF0dHIoInBsYWNlaG9sZGVyIikmJiJUeXBlIHNvbWV0aGluZyI9PXRoaXMub3B0aW9ucy5wbGFjZWhvbGRlciYmKHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcj10aGlzLiR0ZXh0YXJlYS5hdHRyKCJwbGFjZWhvbGRlciIpKSx0aGlzLiRlbGVtZW50PWEoIjxkaXY+IikuaHRtbCh0aGlzLiR0ZXh0YXJlYS52YWwoKSksdGhpcy4kdGV4dGFyZWEuYmVmb3JlKHRoaXMuJGVsZW1lbnQpLmhpZGUoKSx0aGlzLiR0ZXh0YXJlYS5wYXJlbnRzKCJmb3JtIikuYmluZCgic3VibWl0IixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5pc0hUTUw/dGhpcy5odG1sKCk6dGhpcy5zeW5jKCl9LHRoaXMpKX0sYi5wcm90b3R5cGUuaW5pdE9uTGluaz1mdW5jdGlvbihiKXt0aGlzLmlzTGluaz0hMCx0aGlzLm9wdGlvbnMubGlua1RleHQ9ITAsdGhpcy5zZWxlY3Rpb25EaXNhYmxlZD0hMCx0aGlzLmVkaXRhYmxlRGlzYWJsZWQ9ITAsdGhpcy5vcHRpb25zLmJ1dHRvbnM9W10sdGhpcy4kZWxlbWVudD1hKGIpLHRoaXMub3B0aW9ucy5wYXJhZ3JhcGh5PSExLHRoaXMub3B0aW9ucy5jb3VudENoYXJhY3RlcnM9ITEsdGhpcy4kYm94PXRoaXMuJGVsZW1lbnR9LGIucHJvdG90eXBlLmluaXRPbkltYWdlPWZ1bmN0aW9uKGIpe3ZhciBjPWEoYikuY3NzKCJmbG9hdCIpOyJBIj09YShiKS5wYXJlbnQoKS5nZXQoMCkudGFnTmFtZSYmKGI9YShiKS5wYXJlbnQoKSksdGhpcy5pc0ltYWdlPSEwLHRoaXMuZWRpdGFibGVEaXNhYmxlZD0hMCx0aGlzLmltYWdlTGlzdD1bXSx0aGlzLm9wdGlvbnMuYnV0dG9ucz1bXSx0aGlzLm9wdGlvbnMucGFyYWdyYXBoeT0hMSx0aGlzLm9wdGlvbnMuaW1hZ2VNYXJnaW49ImF1dG8iLGEoYikud3JhcCgiPGRpdj4iKSx0aGlzLiRlbGVtZW50PWEoYikucGFyZW50KCksdGhpcy4kZWxlbWVudC5jc3MoImRpc3BsYXkiLCJpbmxpbmUtYmxvY2siKSx0aGlzLiRlbGVtZW50LmNzcygibWF4LXdpZHRoIiwiMTAwJSIpLHRoaXMuJGVsZW1lbnQuY3NzKCJtYXJnaW4tbGVmdCIsImF1dG8iKSx0aGlzLiRlbGVtZW50LmNzcygibWFyZ2luLXJpZ2h0IiwiYXV0byIpLHRoaXMuJGVsZW1lbnQuY3NzKCJmbG9hdCIsYyksdGhpcy4kZWxlbWVudC5hZGRDbGFzcygiZi1pbWFnZSIpLHRoaXMuJGJveD1hKGIpfSxiLnByb3RvdHlwZS5pbml0Rm9yUG9wdXA9ZnVuY3Rpb24oYil7dGhpcy4kZWxlbWVudD1hKGIpLHRoaXMuJGJveD10aGlzLiRlbGVtZW50LHRoaXMuZWRpdGFibGVEaXNhYmxlZD0hMCx0aGlzLm9wdGlvbnMuY291bnRDaGFyYWN0ZXJzPSExLHRoaXMub3B0aW9ucy5idXR0b25zPVtdLHRoaXMuJGVsZW1lbnQub24oImNsaWNrIixhLnByb3h5KGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKX0sdGhpcykpfSxiLnByb3RvdHlwZS5pbml0T25EZWZhdWx0PWZ1bmN0aW9uKGIpeyJESVYiIT1iLnRhZ05hbWUmJnRoaXMub3B0aW9ucy5idXR0b25zLmluZGV4T2YoImZvcm1hdEJsb2NrIik+PTAmJnRoaXMuZGlzYWJsZWRMaXN0LnB1c2goImZvcm1hdEJsb2NrIiksdGhpcy4kZWxlbWVudD1hKGIpfSxiLnByb3RvdHlwZS5pbml0RWxlbWVudD1mdW5jdGlvbihiKXsiVEVYVEFSRUEiPT1iLnRhZ05hbWU/dGhpcy5pbml0T25UZXh0YXJlYShiKToiQSI9PWIudGFnTmFtZT90aGlzLmluaXRPbkxpbmsoYik6IklNRyI9PWIudGFnTmFtZT90aGlzLmluaXRPbkltYWdlKGIpOnRoaXMub3B0aW9ucy5lZGl0SW5Qb3B1cD90aGlzLmluaXRGb3JQb3B1cChiKTp0aGlzLmluaXRPbkRlZmF1bHQoYiksdGhpcy5lZGl0YWJsZURpc2FibGVkfHwodGhpcy4kYm94PXRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoImZyb2FsYS1ib3giKSx0aGlzLiR3cmFwcGVyPWEoJzxkaXYgY2xhc3M9ImZyb2FsYS13cmFwcGVyIj4nKSx0aGlzLiRlbGVtZW50PWEoIjxkaXY+IiksdGhpcy5zZXRIVE1MKHRoaXMuJGJveC5odG1sKCksITEpLHRoaXMuJGJveC5odG1sKHRoaXMuJHdyYXBwZXIuaHRtbCh0aGlzLiRlbGVtZW50KSksdGhpcy4kZWxlbWVudC5vbigia2V5dXAiLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDsxMz09YiYmdGhpcy53ZWJraXRQYXJhZ3JhcGh5KCl9LHRoaXMpKSksdGhpcy4kZWxlbWVudC5vbigiZHJvcCIsYS5wcm94eShmdW5jdGlvbigpe3NldFRpbWVvdXQoYS5wcm94eShmdW5jdGlvbigpe2EoImh0bWwiKS5jbGljaygpLHRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLXdyYXAiKS5lYWNoKGZ1bmN0aW9uKGIsYyl7MD09PWEoYykuZmluZCgiaW1nIikubGVuZ3RoJiZhKGMpLnJlbW92ZSgpfSksdGhpcy4kZWxlbWVudC5maW5kKCJwOmVtcHR5IikucmVtb3ZlKCl9LHRoaXMpLDEpfSx0aGlzKSksdGhpcy5zeW5jKCl9LGIucHJvdG90eXBlLndlYmtpdFBhcmFncmFwaHk9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmZpbmQoIioiKS5lYWNoKGEucHJveHkoZnVuY3Rpb24oYixjKXtpZih0aGlzLmVtcHR5RWxlbWVudChjKSYmIkRJViI9PT1jLnRhZ05hbWUmJnRoaXMub3B0aW9ucy5wYXJhZ3JhcGh5PT09ITApe3ZhciBkPWEoIjxwPjxici8+PC9wPiIpO2EoYykucmVwbGFjZVdpdGgoZCksdGhpcy5zZXRTZWxlY3Rpb24oZC5nZXQoMCkpfX0sdGhpcykpfSxiLnByb3RvdHlwZS50cmltPWZ1bmN0aW9uKGEpe3JldHVybiBTdHJpbmcoYSkucmVwbGFjZSgvXlxzK3xccyskL2csIiIpfSxiLnByb3RvdHlwZS51bndyYXBUZXh0PWZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnBhcmFncmFwaHl8fHRoaXMuJGVsZW1lbnQuZmluZCgiZGl2IikuZWFjaChmdW5jdGlvbihiLGMpe3ZvaWQgMD09PWEoYykuYXR0cigic3R5bGUiKSYmYShjKS5yZXBsYWNlV2l0aChhKGMpLmh0bWwoKSsiPGJyLz4iKX0pfSxiLnByb3RvdHlwZS53cmFwVGV4dEluRWxlbWVudD1mdW5jdGlvbihiLGMpe3ZvaWQgMD09PWMmJihjPSExKTt2YXIgZD1bXSxlPVsiU1BBTiIsIkEiLCJCIiwiSSIsIkVNIiwiVSIsIlMiLCJTVFJPTkciLCJTVFJJS0UiLCJGT05UIiwiSU1HIiwiU1VCIiwiU1VQIl0sZj10aGlzO3RoaXMubm9fdmVyaWZ5PSEwO3ZhciBnPWZ1bmN0aW9uKCl7aWYoMD09PWQubGVuZ3RoKXJldHVybiExO3ZhciBiO2I9YShmLm9wdGlvbnMucGFyYWdyYXBoeT09PSEwPyI8cD4iOiI8ZGl2PiIpO3ZhciBjPWEoZFswXSk7aWYoMT09ZC5sZW5ndGgmJiJmLW1hcmtlciI9PWMuYXR0cigiY2xhc3MiKSlyZXR1cm4gdm9pZChkPVtdKTtmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGc9YShkW2VdKTtiLmFwcGVuZChnLmNsb25lKCkpLGU9PWQubGVuZ3RoLTE/Zy5yZXBsYWNlV2l0aChiKTpnLnJlbW92ZSgpfWQ9W119LGg9ITEsaT0hMTtiLmNvbnRlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtpZihiLmhhc0NsYXNzKCJmLW1hcmtlciIpfHxiLmZpbmQoIi5mLW1hcmtlciIpLmxlbmd0aCl7dmFyIGo9YjtiLmZpbmQoIi5mLW1hcmtlciIpLmxlbmd0aCYmKGo9YShiLmZpbmQoIi5mLW1hcmtlciIpWzBdKSksInRydWUiPT09ai5hdHRyKCJkYXRhLXR5cGUiKT8oaD0hMCxpPSExKTppPSEwfXRoaXMubm9kZVR5cGU9PU5vZGUuVEVYVF9OT0RFJiZiLnRleHQoKS50cmltKCkubGVuZ3RoPjB8fGUuaW5kZXhPZih0aGlzLnRhZ05hbWUpPj0wP2QucHVzaCh0aGlzKTp0aGlzLm5vZGVUeXBlPT1Ob2RlLlRFWFRfTk9ERSYmMD09PWIudGV4dCgpLnRyaW0oKS5sZW5ndGgmJmYub3B0aW9ucy5iZWF1dGlmeUNvZGU/Yi5yZW1vdmUoKTooaHx8Yz8oZygpLCJCUiI9PT10aGlzLnRhZ05hbWUmJmIucmVtb3ZlKCkpOmQ9W10saSYmKGg9ITEpKX0pLChofHxjKSYmZygpLGIuZmluZCgiPiBwIikuZWFjaChmdW5jdGlvbihiLGMpezA9PT1hKGMpLnRleHQoKS50cmltKCkubGVuZ3RoJiYwPT09YShjKS5maW5kKCJpbWciKS5sZW5ndGgmJjA9PT1hKGMpLmZpbmQoImJyIikubGVuZ3RoJiZhKGMpLmFwcGVuZCgiPGJyLz4iKX0pLGIuZmluZCgiZGl2OmVtcHR5IikucmVtb3ZlKCksYi5pcygiOmVtcHR5IikmJmIuYXBwZW5kKGYub3B0aW9ucy5wYXJhZ3JhcGh5PT09ITA/IjxwPjxici8+PC9wPiI6Ijxici8+IiksdGhpcy5ub192ZXJpZnk9ITF9LGIucHJvdG90eXBlLndyYXBUZXh0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzSW1hZ2V8fHRoaXMuaXNMaW5rPyExOih0aGlzLndlYmtpdFBhcmFncmFwaHkoKSx2b2lkIHRoaXMud3JhcFRleHRJbkVsZW1lbnQodGhpcy4kZWxlbWVudCxhKSl9LGIucHJvdG90eXBlLnNldEhUTUw9ZnVuY3Rpb24oYixjKXt0aGlzLm5vX3ZlcmlmeT0hMCx2b2lkIDA9PT1jJiYoYz0hMCksYj10aGlzLmNsZWFuKGIsITAsITEpLGI9Yi5yZXBsYWNlKC8+XHMrPC9nLCI+PCIpLHRoaXMuJGVsZW1lbnQuaHRtbChiKSx0aGlzLiRlbGVtZW50LmZpbmQoInByZSIpLmVhY2goZnVuY3Rpb24oYixjKXt2YXIgZD1hKGMpLGU9YShjKS5odG1sKCk7ZS5pbmRleE9mKCJcbiIpPj0wJiZkLmh0bWwoZS5yZXBsYWNlKC9cbi9nLCI8YnI+IikpfSksdGhpcy5pbWFnZUxpc3Q9W10sdGhpcy5yZWZyZXNoSW1hZ2VMaXN0KCksdGhpcy5vcHRpb25zLnBhcmFncmFwaHkmJnRoaXMud3JhcFRleHQoITApLGMmJih0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLnN5bmMoKSksdGhpcy5jbGVhbnVwTGlzdHMoKSx0aGlzLiRlbGVtZW50LmZpbmQoInNwYW4iKS5hdHRyKCJkYXRhLWZyLXZlcmlmaWVkIiwhMCksdGhpcy5ub192ZXJpZnk9ITF9LGIucHJvdG90eXBlLmJlZm9yZVBhc3RlPWZ1bmN0aW9uKCl7dGhpcy5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzKCksdGhpcy5jbGlwYm9hcmRIVE1MPW51bGwsdGhpcy5zY3JvbGxQb3NpdGlvbj1hKHdpbmRvdykuc2Nyb2xsVG9wKCksdGhpcy4kcGFzdGVEaXY9YSgnPGRpdiBjb250ZW50ZWRpdGFibGU9InRydWUiIHN0eWxlPSJwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogLTk5OTlweDsgaGVpZ2h0OiAxMDAlOyB3aWR0aDogMDsgei1pbmRleDogOTk5OTk7Ij48L2Rpdj4nKS5hcHBlbmRUbygiYm9keSIpLHRoaXMuJHBhc3RlRGl2LmZvY3VzKCksd2luZG93LnNldFRpbWVvdXQoYS5wcm94eSh0aGlzLnByb2Nlc3NQYXN0ZSx0aGlzKSwxKX0sYi5wcm90b3R5cGUucHJvY2Vzc1Bhc3RlPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5jbGlwYm9hcmRIVE1MO251bGw9PT10aGlzLmNsaXBib2FyZEhUTUwmJihiPXRoaXMuJHBhc3RlRGl2Lmh0bWwoKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSxhKHdpbmRvdykuc2Nyb2xsVG9wKHRoaXMuc2Nyb2xsUG9zaXRpb24pKTt2YXIgYyxkPXRoaXMudHJpZ2dlckV2ZW50KCJvblBhc3RlIixbYl0sITEpOyJzdHJpbmciPT10eXBlb2YgZCYmKGI9ZCksYj1iLnJlcGxhY2UoLzxpbWcgL2dpLCc8aW1nIGRhdGEtZnItaW1hZ2UtcGFzdGVkPSJ0cnVlIiAnKSxiLm1hdGNoKC8oY2xhc3M9XCI/TXNvfHN0eWxlPVwiW15cIl0qXGJtc29cLXx3OldvcmREb2N1bWVudCkvZ2kpPyhjPXRoaXMud29yZENsZWFuKGIpLGM9dGhpcy5jbGVhbihhKCI8ZGl2PiIpLmFwcGVuZChjKS5odG1sKCksITEsITApLGM9dGhpcy5yZW1vdmVFbXB0eVRhZ3MoYykpOihjPXRoaXMuY2xlYW4oYiwhMSwhMCksYz10aGlzLnJlbW92ZUVtcHR5VGFncyhjKSksdGhpcy5vcHRpb25zLnBsYWluUGFzdGUmJihjPXRoaXMucGxhaW5QYXN0ZUNsZWFuKGMpKSwiIiE9PWMmJih0aGlzLmluc2VydEhUTUwoYyksdGhpcy4kZWxlbWVudC5maW5kKCJsaSIpLmVhY2goYS5wcm94eShmdW5jdGlvbihiLGMpe3RoaXMud3JhcFRleHRJbkVsZW1lbnQoYShjKSwhMCl9LHRoaXMpKSx0aGlzLm9wdGlvbnMucGFyYWdyYXBoeSYmdGhpcy53cmFwVGV4dCghMCksdGhpcy5jbGVhbnVwTGlzdHMoKSksdGhpcy5hZnRlclBhc3RlKCl9LGIucHJvdG90eXBlLmFmdGVyUGFzdGU9ZnVuY3Rpb24oKXt0aGlzLmZvY3VzKCksdGhpcy51cGxvYWRQYXN0ZWRJbWFnZXMoKSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoInBsYWNlaG9sZGVyQ2hlY2siKSx0aGlzLnBhc3Rpbmc9ITEsdGhpcy50cmlnZ2VyRXZlbnQoImFmdGVyUGFzdGUiLFtdLCEwLCEwKX0sYi5wcm90b3R5cGUucmVnaXN0ZXJQYXN0ZT1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQub24oImNvcHkgY3V0IixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5jb3BpZWRUZXh0PXRoaXMudGV4dCgpfSx0aGlzKSksdGhpcy4kZWxlbWVudC5vbigicGFzdGUiLGEucHJveHkoZnVuY3Rpb24oYil7aWYoIXRoaXMuaXNIVE1MKXtpZihiLm9yaWdpbmFsRXZlbnQmJihiPWIub3JpZ2luYWxFdmVudCksIXRoaXMudHJpZ2dlckV2ZW50KCJiZWZvcmVQYXN0ZSIsW10sITEpKXJldHVybiExO2lmKHRoaXMuY2xpcGJvYXJkUGFzdGUoYikpcmV0dXJuITE7dGhpcy5jbGlwYm9hcmRIVE1MPSIiLHRoaXMucGFzdGluZz0hMCx0aGlzLnNjcm9sbFBvc2l0aW9uPWEod2luZG93KS5zY3JvbGxUb3AoKTt2YXIgYz0hMTtpZihiJiZiLmNsaXBib2FyZERhdGEmJmIuY2xpcGJvYXJkRGF0YS5nZXREYXRhKXt2YXIgZD0iIixlPWIuY2xpcGJvYXJkRGF0YS50eXBlcztpZihhLkVkaXRhYmxlLmlzQXJyYXkoZSkpZm9yKHZhciBmPTA7ZjxlLmxlbmd0aDtmKyspZCs9ZVtmXSsiOyI7ZWxzZSBkPWU7aWYoL3RleHRcL2h0bWwvLnRlc3QoZCk/dGhpcy5jbGlwYm9hcmRIVE1MPWIuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCJ0ZXh0L2h0bWwiKTovdGV4dFwvcnRmLy50ZXN0KGQpJiZ0aGlzLmJyb3dzZXIuc2FmYXJpP3RoaXMuY2xpcGJvYXJkSFRNTD1iLmNsaXBib2FyZERhdGEuZ2V0RGF0YSgidGV4dC9ydGYiKTovdGV4dFwvcGxhaW4vLnRlc3QoZCkmJiF0aGlzLmJyb3dzZXIubW96aWxsYSYmKHRoaXMuY2xpcGJvYXJkSFRNTD1iLmNsaXBib2FyZERhdGEuZ2V0RGF0YSgidGV4dC9wbGFpbiIpLnJlcGxhY2UoL1xuL2csIjxici8+IikpLCIiIT09dGhpcy5jbGlwYm9hcmRIVE1MP2M9ITA6dGhpcy5jbGlwYm9hcmRIVE1MPW51bGwsYylyZXR1cm4gdGhpcy5wcm9jZXNzUGFzdGUoKSxiLnByZXZlbnREZWZhdWx0JiYoYi5zdG9wUHJvcGFnYXRpb24oKSxiLnByZXZlbnREZWZhdWx0KCkpLCExfXRoaXMuYmVmb3JlUGFzdGUoKX19LHRoaXMpKX0sYi5wcm90b3R5cGUuY2xpcGJvYXJkUGFzdGU9ZnVuY3Rpb24oYil7aWYoYiYmYi5jbGlwYm9hcmREYXRhJiZiLmNsaXBib2FyZERhdGEuaXRlbXMpe3ZhciBjPWIuY2xpcGJvYXJkRGF0YS5pdGVtc1swXS5nZXRBc0ZpbGUoKTtpZihjKXt2YXIgZD1uZXcgRmlsZVJlYWRlcjtyZXR1cm4gZC5vbmxvYWQ9YS5wcm94eShmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldC5yZXN1bHQ7dGhpcy5pbnNlcnRIVE1MKCc8aW1nIGRhdGEtZnItaW1hZ2UtcGFzdGVkPSJ0cnVlIiBzcmM9IicrYisnIiAvPicpLHRoaXMuYWZ0ZXJQYXN0ZSgpfSx0aGlzKSxkLnJlYWRBc0RhdGFVUkwoYyksITB9fXJldHVybiExfSxiLnByb3RvdHlwZS51cGxvYWRQYXN0ZWRJbWFnZXM9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmZpbmQoImltZ1tkYXRhLWZyLWltYWdlLXBhc3RlZF0iKS5lYWNoKGEucHJveHkoZnVuY3Rpb24oYixjKXt0aGlzLm9wdGlvbnMucGFzdGVJbWFnZT8oMD09PWMuc3JjLmluZGV4T2YoImRhdGE6Iik/KHRoaXMub3B0aW9ucy5kZWZhdWx0SW1hZ2VXaWR0aCYmYShjKS5hdHRyKCJ3aWR0aCIsdGhpcy5vcHRpb25zLmRlZmF1bHRJbWFnZVdpZHRoKSx0aGlzLm9wdGlvbnMucGFzdGVkSW1hZ2VzVXBsb2FkVVJMJiYoc2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5zaG93SW1hZ2VMb2FkZXIoKSx0aGlzLiRwcm9ncmVzc19iYXIuZmluZCgic3BhbiIpLmNzcygid2lkdGgiLCIxMDAlIikudGV4dCgiUGxlYXNlIHdhaXQhIiksdGhpcy5zaG93QnlDb29yZGluYXRlcyhhKGMpLm9mZnNldCgpLmxlZnQrYShjKS53aWR0aCgpLzIsYShjKS5vZmZzZXQoKS50b3ArYShjKS5oZWlnaHQoKSsxMCksdGhpcy5pc0Rpc2FibGVkPSEwfSx0aGlzKSwxMCksYS5hamF4KHt0eXBlOnRoaXMub3B0aW9ucy5wYXN0ZWRJbWFnZXNVcGxvYWRSZXF1ZXN0VHlwZSx1cmw6dGhpcy5vcHRpb25zLnBhc3RlZEltYWdlc1VwbG9hZFVSTCxkYXRhOmEuZXh0ZW5kKHtpbWFnZTpkZWNvZGVVUklDb21wb25lbnQoYy5zcmMpfSx0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRQYXJhbXMpLGNyb3NzRG9tYWluOnRoaXMub3B0aW9ucy5jcm9zc0RvbWFpbix4aHJGaWVsZHM6e3dpdGhDcmVkZW50aWFsczp0aGlzLm9wdGlvbnMud2l0aENyZWRlbnRpYWxzfSxoZWFkZXJzOnRoaXMub3B0aW9ucy5oZWFkZXJzLGRhdGFUeXBlOiJqc29uIn0pLmRvbmUoYS5wcm94eShmdW5jdGlvbihiKXt0cnl7aWYoYi5saW5rKXt2YXIgZD1uZXcgSW1hZ2U7ZC5vbmVycm9yPWEucHJveHkoZnVuY3Rpb24oKXt0aGlzLnRocm93SW1hZ2VFcnJvcigxKX0sdGhpcyksZC5vbmxvYWQ9YS5wcm94eShmdW5jdGlvbigpe2Muc3JjPWIubGluayx0aGlzLmhpZGVJbWFnZUxvYWRlcigpLHRoaXMuaGlkZSgpLHRoaXMuZW5hYmxlKCksc2V0VGltZW91dChmdW5jdGlvbigpe2EoYykudHJpZ2dlcigidG91Y2hlbmQiKX0sNTApLHRoaXMudHJpZ2dlckV2ZW50KCJhZnRlclVwbG9hZFBhc3RlZEltYWdlIixbYShjKV0pfSx0aGlzKSxkLnNyYz1iLmxpbmt9ZWxzZSBiLmVycm9yP3RoaXMudGhyb3dJbWFnZUVycm9yV2l0aE1lc3NhZ2UoYi5lcnJvcik6dGhpcy50aHJvd0ltYWdlRXJyb3IoMil9Y2F0Y2goZSl7dGhpcy50aHJvd0ltYWdlRXJyb3IoNCl9fSx0aGlzKSkuZmFpbChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy50aHJvd0ltYWdlRXJyb3IoMyl9LHRoaXMpKSkpOjAhPT1jLnNyYy5pbmRleE9mKCJodHRwIikmJmEoYykucmVtb3ZlKCksYShjKS5yZW1vdmVBdHRyKCJkYXRhLWZyLWltYWdlLXBhc3RlZCIpKTphKGMpLnJlbW92ZSgpfSx0aGlzKSl9LGIucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmlzRGlzYWJsZWQ9ITAsdGhpcy4kZWxlbWVudC5ibHVyKCl9LGIucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuaXNEaXNhYmxlZD0hMX0sYi5wcm90b3R5cGUud29yZENsZWFuPWZ1bmN0aW9uKGEpe2EuaW5kZXhPZigiPGJvZHkiKT49MCYmKGE9YS5yZXBsYWNlKC9bLlxzXFNcd1xXPD5dKjxib2R5W14+XSo+KFsuXHNcU1x3XFc8Pl0qKTxcL2JvZHk+Wy5cc1xTXHdcVzw+XSovZywiJDEiKSksYT1hLnJlcGxhY2UoLzxwKC4qPyljbGFzcz0iPyc/TXNvTGlzdFBhcmFncmFwaCI/Jz8oW1xzXFNdKj8pPihbXHNcU10qPyk8XC9wPi9naSwiPHVsPjxsaT48cD4kMzwvcD48L2xpPjwvdWw+IiksYT1hLnJlcGxhY2UoLzxwKC4qPyljbGFzcz0iPyc/TXNvTGlzdFBhcmFncmFwaEN4U3BGaXJzdCI/Jz8oW1xzXFNdKj8pPihbXHNcU10qPyk8XC9wPi9naSwiPHVsPjxsaT48cD4kMzwvcD48L2xpPiIpLGE9YS5yZXBsYWNlKC88cCguKj8pY2xhc3M9Ij8nP01zb0xpc3RQYXJhZ3JhcGhDeFNwTWlkZGxlIj8nPyhbXHNcU10qPyk+KFtcc1xTXSo/KTxcL3A+L2dpLCI8bGk+PHA+JDM8L3A+PC9saT4iKSxhPWEucmVwbGFjZSgvPHAoLio/KWNsYXNzPSI/Jz9Nc29MaXN0UGFyYWdyYXBoQ3hTcExhc3QiPyc/KFtcc1xTXSo/KT4oW1xzXFNdKj8pPFwvcD4vZ2ksIjxsaT48cD4kMzwvcD48L2xpPjwvdWw+IiksYT1hLnJlcGxhY2UoLzxzcGFuKFtePF0qPylzdHlsZT0iPyc/bXNvLWxpc3Q6SWdub3JlIj8nPyhbXHNcU10qPyk+KFtcc1xTXSo/KTxzcGFuL2dpLCI8c3Bhbj48c3BhbiIpLGE9YS5yZXBsYWNlKC88IS0tXFtpZiBcIXN1cHBvcnRMaXN0c1xdLS0+KFtcc1xTXSo/KTwhLS1cW2VuZGlmXF0tLT4vZ2ksIiIpLGE9YS5yZXBsYWNlKC8oXG58XHJ8IGNsYXNzPSgiKT9Nc29bYS16QS1aXSsoIik/KS9naSwiICIpLGE9YS5yZXBsYWNlKC88IS0tW1xzXFNdKj8tLT4vZ2ksIiIpLGE9YS5yZXBsYWNlKC88KFwvKSoobWV0YXxsaW5rfHNwYW58XFw/eG1sOnxzdDE6fG86fGZvbnQpKC4qPyk+L2dpLCIiKTtmb3IodmFyIGI9WyJzdHlsZSIsInNjcmlwdCIsImFwcGxldCIsImVtYmVkIiwibm9mcmFtZXMiLCJub3NjcmlwdCJdLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9bmV3IFJlZ0V4cCgiPCIrYltjXSsiLio/IitiW2NdKyIoLio/KT4iLCJnaSIpO2E9YS5yZXBsYWNlKGQsIiIpfWE9YS5yZXBsYWNlKC8oW1x3XC1dKik9KCJbXjw+Il0qInwnW148PiddKid8XHcrKS9naSwiIiksYT1hLnJlcGxhY2UoLyZuYnNwOy9naSwiIik7dmFyIGU7ZG8gZT1hLGE9YS5yZXBsYWNlKC88W15cLz5dW14+XSo+PFwvW14+XSs+L2dpLCIiKTt3aGlsZShhIT1lKTtyZXR1cm4gYT10aGlzLmNsZWFuKGEpfSxiLnByb3RvdHlwZS50YWJzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0iIixjPTA7YT5jO2MrKyliKz0iICAiO3JldHVybiBifSxiLnByb3RvdHlwZS5jbGVhblRhZ3M9ZnVuY3Rpb24oYSxiKXt2b2lkIDA9PT1iJiYoYj0hMSk7dmFyIGMsZCxlLGYsZz10aGlzLm9wdGlvbnMuZm9ybWF0VGFncyxoPVtdLGk9W10saj0hMTtmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKWlmKGM9YS5jaGFyQXQoZCksIjwiPT1jKXt2YXIgaz1hLmluZGV4T2YoIj4iLGQrMSk7aWYoLTEhPT1rKXt2YXIgbD1hLnN1YnN0cmluZyhkLGsrMSksbT10aGlzLnRhZ05hbWUobCksbj10aGlzLmlzQ2xvc2luZ1RhZyhsKTtpZigicHJlIj09PW0mJihqPW4/ITE6ITApLHRoaXMuaXNTZWxmQ2xvc2luZ1RhZyhsKSlpLnB1c2goImJyIj09PW0mJmo/IlxuIjpsKTtlbHNlIGlmKG4pZm9yKGU9ITEsZj0hMDtlPT09ITEmJnZvaWQgMCE9PWY7KWY9aC5wb3AoKSx2b2lkIDAhPT1mJiZmLnRhZ19uYW1lIT09bT9pLnNwbGljZShmLmksMSk6KGU9ITAsdm9pZCAwIT09ZiYmaS5wdXNoKGwpKTtlbHNlIGkucHVzaChsKSxoLnB1c2goe3RhZ19uYW1lOm0saTppLmxlbmd0aC0xfSk7ZD1rfX1lbHNlIlxuIj09PWMmJnRoaXMub3B0aW9ucy5iZWF1dGlmeUNvZGU/YiYmaiYmaS5wdXNoKCI8YnIvPiIpOiIJIiE9PWMmJmkucHVzaChjKTtmb3IoO2gubGVuZ3RoPjA7KWY9aC5wb3AoKSxpLnNwbGljZShmLmksMSk7dmFyIG89IlxuIjt0aGlzLm9wdGlvbnMuYmVhdXRpZnlDb2RlfHwobz0iIiksYT0iIixoPTA7dmFyIHA9ITA7Zm9yKGQ9MDtkPGkubGVuZ3RoO2QrKykxPT1pW2RdLmxlbmd0aD9wJiYiICI9PT1pW2RdfHwoYSs9aVtkXSxwPSExKTpnLmluZGV4T2YodGhpcy50YWdOYW1lKGlbZF0pLnRvTG93ZXJDYXNlKCkpPDA/YSs9aVtkXTp0aGlzLmlzU2VsZkNsb3NpbmdUYWcoaVtkXSk/YSs9aVtkXTp0aGlzLmlzQ2xvc2luZ1RhZyhpW2RdKT8oaC09MSwwPT09aCYmKHA9ITApLGEubGVuZ3RoPjAmJmFbYS5sZW5ndGgtMV09PW8mJihhKz10aGlzLnRhYnMoaCkpLGErPWlbZF0rbyk6KGErPW8rdGhpcy50YWJzKGgpK2lbZF0saCs9MSk7cmV0dXJuIGFbMF09PW8mJihhPWEuc3Vic3RyaW5nKDEsYS5sZW5ndGgpKSxhW2EubGVuZ3RoLTFdPT1vJiYoYT1hLnN1YnN0cmluZygwLGEubGVuZ3RoLTEpKSxhfSxiLnByb3RvdHlwZS5jbGVhbnVwTGlzdHM9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmZpbmQoInVsLCBvbCIpLmVhY2goZnVuY3Rpb24oYixjKXt2YXIgZD1hKGMpO2lmKGQuZmluZCgiLmNsb3NlLXVsLCAub3Blbi11bCwgLmNsb3NlLW9sLCAub3Blbi1vbCwgLm9wZW4tbGksIC5jbG9zZS1saSIpLmxlbmd0aD4wKXt2YXIgZT0iPCIrYy50YWdOYW1lLnRvTG93ZXJDYXNlKCkrIj4iK2QuaHRtbCgpKyI8LyIrYy50YWdOYW1lLnRvTG93ZXJDYXNlKCkrIj4iO2U9ZS5yZXBsYWNlKG5ldyBSZWdFeHAoJzxzcGFuIGNsYXNzPSJjbG9zZS11bCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicsImciKSwiPC91bD4iKSxlPWUucmVwbGFjZShuZXcgUmVnRXhwKCc8c3BhbiBjbGFzcz0ib3Blbi11bCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicsImciKSwiPHVsPiIpLGU9ZS5yZXBsYWNlKG5ldyBSZWdFeHAoJzxzcGFuIGNsYXNzPSJjbG9zZS1vbCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicsImciKSwiPC9vbD4iKSxlPWUucmVwbGFjZShuZXcgUmVnRXhwKCc8c3BhbiBjbGFzcz0ib3Blbi1vbCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicsImciKSwiPG9sPiIpLGU9ZS5yZXBsYWNlKG5ldyBSZWdFeHAoJzxzcGFuIGNsYXNzPSJjbG9zZS1saSIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicsImciKSwiPC9saT4iKSxlPWUucmVwbGFjZShuZXcgUmVnRXhwKCc8c3BhbiBjbGFzcz0ib3Blbi1saSIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPicsImciKSwiPGxpPiIpLGQucmVwbGFjZVdpdGgoZSl9fSk7Zm9yKHZhciBiPXRoaXMuJGVsZW1lbnQuZmluZCgib2wgKyBvbCwgdWwgKyB1bCIpLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YShiW2NdKTtkLnByZXYoKS5hcHBlbmQoZC5odG1sKCkpLGQucmVtb3ZlKCl9dGhpcy4kZWxlbWVudC5maW5kKCJsaSA+IHRkIikucmVtb3ZlKCksdGhpcy4kZWxlbWVudC5maW5kKCJsaTplbXB0eSIpLnJlbW92ZSgpLHRoaXMuJGVsZW1lbnQuZmluZCgibGkgdGQ6ZW1wdHkiKS5hcHBlbmQoIjwvYnI+IiksdGhpcy4kZWxlbWVudC5maW5kKCJ1bCwgb2wiKS5lYWNoKGEucHJveHkoZnVuY3Rpb24oYixjKXt2YXIgZD1hKGMpOzA9PT1kLmZpbmQodGhpcy52YWxpZF9ub2Rlcy5qb2luKCIsIikpLmxlbmd0aCYmZC5yZW1vdmUoKX0sdGhpcykpLHRoaXMuJGVsZW1lbnQuZmluZCgibGkgPiB0ZCIpLnJlbW92ZSgpLHRoaXMuJGVsZW1lbnQuZmluZCgibGk6ZW1wdHkiKS5yZW1vdmUoKSx0aGlzLiRlbGVtZW50LmZpbmQoImxpIHRkOmVtcHR5IikuYXBwZW5kKCI8L2JyPiIpLHRoaXMub3B0aW9ucy5wYXJhZ3JhcGh5JiZ0aGlzLiRlbGVtZW50LmZpbmQoImxpIikuZWFjaChhLnByb3h5KGZ1bmN0aW9uKGIsYyl7dGhpcy53cmFwVGV4dEluRWxlbWVudChhKGMpLCEwKX0sdGhpcykpfSxiLnByb3RvdHlwZS5jbGVhbj1mdW5jdGlvbihiLGMsZCxlLGYpe2Z8fChmPWEubWVyZ2UoW10sdGhpcy5vcHRpb25zLmFsbG93ZWRBdHRycykpLGV8fChlPWEubWVyZ2UoW10sdGhpcy5vcHRpb25zLmFsbG93ZWRUYWdzKSksY3x8Zi5pbmRleE9mKCJpZCIpPi0xJiZmLnNwbGljZShmLmluZGV4T2YoImlkIiksMSksYj1iLnJlcGxhY2UoLzxzY3JpcHRcYltePF0qKD86KD8hPFwvc2NyaXB0Pik8W148XSopKjxcL3NjcmlwdD4vZ2ksIiIpO3ZhciBnPW5ldyBSZWdFeHAoIjxcXC8/KCg/ISg/OiIrZS5qb2luKCJ8IikrIikpXFx3KylbXj5dKj8+IiwiZ2kiKTtiPWIucmVwbGFjZShnLCIiKTt2YXIgaD1uZXcgUmVnRXhwKCIoICg/ISg/OiIrZi5qb2luKCJ8IikrIikpW2EtekEtWjAtOS1fXSspPSgoPzouKD8hXFxzKyg/OlxcUyspPXxbPl18KFxcLz4pKSkrLikiLCJnaSIpO2I9Yi5yZXBsYWNlKGgsIiIpO3ZhciBpPW5ldyBSZWdFeHAoJzwoW14+XSopKHNyY3xocmVmKT0oXCdbXlwnXSpcJ3wiIlteIiJdKiIifFteXFxzPl0rKShbXj5dKik+JywiZ2kiKTtpZihiPWIucmVwbGFjZShpLGEucHJveHkoZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4iPCIrYitjKyc9IicrdGhpcy5zYW5pdGl6ZVVSTChkLnJlcGxhY2UoL15bIiddKC4qKVsiJ11cLz8kL2dpLCIkMSIpKSsnIicrZSsiPiJ9LHRoaXMpKSx0aGlzLnBhc3RpbmcmJnRoaXMuY29waWVkVGV4dD09PWEoIjxkaXY+IikuaHRtbChiKS50ZXh0KCkmJihkPSExLGM9ITApLGQpe3ZhciBqPW5ldyBSZWdFeHAoInN0eWxlPShcIlthLXpBLVowLTk6O1xcLlxcc1xcKFxcKVxcLVxcLCFcXC8nJV0qXCJ8J1thLXpBLVowLTk6O1xcLlxcc1xcKFxcKVxcLVxcLCFcXC9cIiVdKicpIiwiZ2kiKTtiPWIucmVwbGFjZShqLCIiKX1pZihiPXRoaXMuY2xlYW5UYWdzKGIsITApLCFjKXt2YXIgaz1hKCI8ZGl2PiIpLmFwcGVuZChiKTtrLmZpbmQoJ1tjbGFzc106bm90KFtjbGFzc149ImZyLSJdKScpLmVhY2goZnVuY3Rpb24oYixjKXthKGMpLnJlbW92ZUF0dHIoImNsYXNzIil9KSxiPWsuaHRtbCgpfXJldHVybiBifSxiLnByb3RvdHlwZS5wbGFpblBhc3RlQ2xlYW49ZnVuY3Rpb24oYil7dmFyIGM9YSgiPGRpdj4iKS5odG1sKGIpO2MuZmluZCgiaDEsIGgyLCBoMywgaDQsIGg1LCBoNiwgcHJlLCBibG9ja3F1b3RlIikuZWFjaChmdW5jdGlvbihiLGMpe2EoYykucmVwbGFjZVdpdGgoIjxwPiIrYShjKS5odG1sKCkrIjwvcD4iKX0pO2Zvcih2YXIgZD1mdW5jdGlvbihiLGMpe2EoYykucmVwbGFjZVdpdGgoYShjKS5odG1sKCkpfTtjLmZpbmQoInN0cm9uZywgZW0sIHN0cmlrZSwgYiwgdSwgaSwgc3VwLCBzdWIsIHNwYW4sIGEiKS5sZW5ndGg7KWMuZmluZCgic3Ryb25nLCBlbSwgc3RyaWtlLCBiLCB1LCBpLCBzdXAsIHN1Yiwgc3BhbiwgYSIpLmVhY2goZCk7cmV0dXJuIGMuaHRtbCgpfSxiLnByb3RvdHlwZS5yZW1vdmVFbXB0eVRhZ3M9ZnVuY3Rpb24oYil7Zm9yKHZhciBjLGQ9YSgiPGRpdj4iKS5odG1sKGIpLGU9ZC5maW5kKCIqOmVtcHR5Om5vdChiciwgaW1nLCB0ZCwgdGgpIik7ZS5sZW5ndGg7KXtmb3IoYz0wO2M8ZS5sZW5ndGg7YysrKWEoZVtjXSkucmVtb3ZlKCk7ZT1kLmZpbmQoIio6ZW1wdHk6bm90KGJyLCBpbWcsIHRkLCB0aCkiKX1kLmZpbmQoIj4gZGl2IikuZWFjaChmdW5jdGlvbihiLGMpe2EoYykucmVwbGFjZVdpdGgoYShjKS5odG1sKCkrIjxici8+Iil9KTtmb3IodmFyIGY9ZC5maW5kKCJkaXYiKTtmLmxlbmd0aDspe2ZvcihjPTA7YzxmLmxlbmd0aDtjKyspe3ZhciBnPWEoZltjXSksaD1nLmh0bWwoKS5yZXBsYWNlKC9cdTAwMDkvZ2ksIiIpLnRyaW0oKTtnLnJlcGxhY2VXaXRoKGgpfWY9ZC5maW5kKCJkaXYiKX1yZXR1cm4gZC5odG1sKCl9LGIucHJvdG90eXBlLmluaXRFbGVtZW50U3R5bGU9ZnVuY3Rpb24oKXt0aGlzLmVkaXRhYmxlRGlzYWJsZWR8fHRoaXMuJGVsZW1lbnQuYXR0cigiY29udGVudGVkaXRhYmxlIiwhMCk7dmFyIGE9ImZyb2FsYS1lbGVtZW50ICIrdGhpcy5vcHRpb25zLmVkaXRvckNsYXNzO3RoaXMuYnJvd3Nlci5tc2llJiZiLmdldElFdmVyc2lvbigpPDkmJihhKz0iIGllOCIpLHRoaXMuJGVsZW1lbnQuY3NzKCJvdXRsaW5lIiwwKSx0aGlzLmJyb3dzZXIubXNpZXx8KGErPSIgbm90LW1zaWUiKSx0aGlzLiRlbGVtZW50LmFkZENsYXNzKGEpfSxiLnByb3RvdHlwZS5pbml0VW5kb1JlZG89ZnVuY3Rpb24oKXt0aGlzLnVuZG9TdGFjaz1bXSx0aGlzLnVuZG9JbmRleD0wLHRoaXMuc2F2ZVVuZG9TdGVwKCksdGhpcy5kaXNhYmxlQnJvd3NlclVuZG8oKX0sYi5wcm90b3R5cGUuQ0pLY2xlYW49ZnVuY3Rpb24oYSl7dmFyIGI9L1tcdTMwNDEtXHUzMDk2XHUzMEEwLVx1MzBGRlx1NEUwMC1cdTlGRkZcdTMxMzAtXHUzMThGXHVBQzAwLVx1RDdBRl0vZ2k7cmV0dXJuIGEucmVwbGFjZShiLCIiKX0sYi5wcm90b3R5cGUuZW5hYmxlVHlwaW5nPWZ1bmN0aW9uKCl7dGhpcy50eXBpbmdUaW1lcj1udWxsLHRoaXMuJGVsZW1lbnQub24oImtleWRvd24gY3V0IixhLnByb3h5KGZ1bmN0aW9uKGIpe3JldHVybiJrZXlkb3duIiE9PWIudHlwZXx8dGhpcy50cmlnZ2VyRXZlbnQoImtleWRvd24iLFtiLndoaWNoLChiLmN0cmxLZXl8fGIubWV0YUtleSkmJiFiLmFsdEtleV0sITEpPyhjbGVhclRpbWVvdXQodGhpcy50eXBpbmdUaW1lciksdGhpcy5hamF4U2F2ZT0hMSx0aGlzLm9sZEhUTUw9dGhpcy5nZXRIVE1MKCEwKSx2b2lkKHRoaXMudHlwaW5nVGltZXI9c2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRIVE1MKCEwKTt0aGlzLmltZXx8dGhpcy5DSktjbGVhbihhKT09PXRoaXMuQ0pLY2xlYW4odGhpcy5vbGRIVE1MKXx8dGhpcy5DSktjbGVhbihhKSE9PWF8fHRoaXMuc3luYygpfSx0aGlzKSxNYXRoLm1heCh0aGlzLm9wdGlvbnMudHlwaW5nVGltZXIsNTAwKSkpKTohMX0sdGhpcykpfSxiLnByb3RvdHlwZS5yZW1vdmVNYXJrZXJzQnlSZWdleD1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC88c3BhbltePl0qPyBjbGFzc1xzKj1ccypbIiddP2YtbWFya2VyWyInXT9bXj5dKz4oW1xTXHNdW15cL10pKjxcL3NwYW4+L2dpLCIiKX0sYi5wcm90b3R5cGUuZ2V0SW1hZ2VIVE1MPWZ1bmN0aW9uKCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHtzcmM6dGhpcy4kZWxlbWVudC5maW5kKCJpbWciKS5hdHRyKCJzcmMiKSxzdHlsZTp0aGlzLiRlbGVtZW50LmZpbmQoImltZyIpLmF0dHIoInN0eWxlIiksYWx0OnRoaXMuJGVsZW1lbnQuZmluZCgiaW1nIikuYXR0cigiYWx0Iiksd2lkdGg6dGhpcy4kZWxlbWVudC5maW5kKCJpbWciKS5hdHRyKCJ3aWR0aCIpLGxpbms6dGhpcy4kZWxlbWVudC5maW5kKCJhIikuYXR0cigiaHJlZiIpLGxpbmtfdGl0bGU6dGhpcy4kZWxlbWVudC5maW5kKCJhIikuYXR0cigidGl0bGUiKSxsaW5rX3RhcmdldDp0aGlzLiRlbGVtZW50LmZpbmQoImEiKS5hdHRyKCJ0YXJnZXQiKX0pfSxiLnByb3RvdHlwZS5nZXRMaW5rSFRNTD1mdW5jdGlvbigpe3JldHVybiBKU09OLnN0cmluZ2lmeSh7Ym9keTp0aGlzLiRlbGVtZW50Lmh0bWwoKSxocmVmOnRoaXMuJGVsZW1lbnQuYXR0cigiaHJlZiIpLHRpdGxlOnRoaXMuJGVsZW1lbnQuYXR0cigidGl0bGUiKSxwb3BvdXQ6dGhpcy4kZWxlbWVudC5oYXNDbGFzcygicG9wb3V0Iiksbm9mb2xsb3c6Im5vZm9sbG93Ij09dGhpcy4kZWxlbWVudC5hdHRyKCJyZWYiKSxibGFuazoiX2JsYW5rIj09dGhpcy4kZWxlbWVudC5hdHRyKCJ0YXJnZXQiKSxjbHM6dGhpcy4kZWxlbWVudC5hdHRyKCJjbGFzcyIpP3RoaXMuJGVsZW1lbnQuYXR0cigiY2xhc3MiKS5yZXBsYWNlKC9mcm9hbGEtZWxlbWVudCA/fG5vdC1tc2llID98L2dpLCIiKS50cmltKCk6IiJ9KX0sYi5wcm90b3R5cGUuYWRkRnJUYWc9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmZpbmQodGhpcy52YWxpZF9ub2Rlcy5qb2luKCIsIikrIiwgdGFibGUsIHVsLCBvbCwgaW1nIikuYWRkQ2xhc3MoImZyLXRhZyIpfSxiLnByb3RvdHlwZS5yZW1vdmVGclRhZz1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQuZmluZCh0aGlzLnZhbGlkX25vZGVzLmpvaW4oIiwiKSsiLCB0YWJsZSwgdWwsIG9sLCBpbWciKS5yZW1vdmVDbGFzcygiZnItdGFnIil9LGIucHJvdG90eXBlLmdldEhUTUw9ZnVuY3Rpb24oYixjLGQpe2lmKHZvaWQgMD09PWMmJihjPSExKSx2b2lkIDA9PT1iJiYoYj0hMSksdm9pZCAwPT09ZCYmKGQ9ITApLHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoImYtcGxhY2Vob2xkZXIiKSYmIWIpcmV0dXJuIiI7aWYodGhpcy5pc0hUTUwpcmV0dXJuIHRoaXMuJGh0bWxfYXJlYS52YWwoKTtpZih0aGlzLmlzSW1hZ2UpcmV0dXJuIHRoaXMuZ2V0SW1hZ2VIVE1MKCk7aWYodGhpcy5pc0xpbmspcmV0dXJuIHRoaXMuZ2V0TGlua0hUTUwoKTt0aGlzLiRlbGVtZW50LmZpbmQoImEiKS5kYXRhKCJmci1saW5rIiwhMCksYyYmdGhpcy5hZGRGclRhZygpLHRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLWVkaXRvciA+IGltZyIpLmVhY2goYS5wcm94eShmdW5jdGlvbihiLGMpe3RoaXMuYWRkSW1hZ2VDbGFzcyhhKGMpLHRoaXMuZ2V0SW1hZ2VDbGFzcyhhKGMpLnBhcmVudCgpLmF0dHIoImNsYXNzIikpKX0sdGhpcykpLHRoaXMuJGVsZW1lbnQuZmluZCgicHJlIikuZWFjaChhLnByb3h5KGZ1bmN0aW9uKGIsYyl7dmFyIGQ9YShjKSxlPWQuaHRtbCgpLGY9ZS5yZXBsYWNlKC9cJm5ic3A7L2dpLCIgIik7ZSE9ZiYmKHRoaXMuc2F2ZVNlbGVjdGlvbkJ5TWFya2VycygpLGQuaHRtbChmKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSl9LHRoaXMpKTt2YXIgZT10aGlzLiRlbGVtZW50Lmh0bWwoKTtyZXR1cm4gdGhpcy4kZWxlbWVudC5maW5kKCIuZi1pbWctZWRpdG9yID4gaW1nIikucmVtb3ZlQ2xhc3MoImZyLWZpbiBmci1maWwgZnItZmlyIiksdGhpcy5yZW1vdmVGclRhZygpLGU9dGhpcy5zeW5jQ2xlYW5IVE1MKGUsYiksZT1lLnJlcGxhY2UoLzxhW14+XSo/PjxcL2E+L2csIiIpLGJ8fChlPXRoaXMucmVtb3ZlTWFya2Vyc0J5UmVnZXgoZSkpLGU9ZS5yZXBsYWNlKC88c3BhbltePl0qPyBjbGFzc1xzKj1ccypbIiddP2YtaW1nLWhhbmRsZVtePl0rPjxcL3NwYW4+L2dpLCIiKSxlPWUucmVwbGFjZSgvXihbXFNcc10qKTxzcGFuW14+XSo/IGNsYXNzXHMqPVxzKlsiJ10/Zi1pbWctZWRpdG9yW14+XSs+KFtcU1xzXSopPFwvc3Bhbj4oW1xTXHNdKikkL2dpLCIkMSQyJDMiKSxlPWUucmVwbGFjZSgvXihbXFNcc10qKTxzcGFuW14+XSo/IGNsYXNzXHMqPVxzKlsiJ10/Zi1pbWctd3JhcFtePl0rPihbXFNcc10qKTxcL3NwYW4+KFtcU1xzXSopJC9naSwiJDEkMiQzIiksZT1lLnJlcGxhY2UoL1wmYW1wOy9naSwiJiIpLHRoaXMub3B0aW9ucy5zaW1wbGVBbXBlcnNhbmQmJihlPWUucmVwbGFjZSgvXCZhbXA7L2dpLCImIikpLGQmJihlPWUucmVwbGFjZSgvIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiL2dpLCIiKSksdGhpcy5vcHRpb25zLmJlYXV0aWZ5Q29kZSYmKGU9ZS5yZXBsYWNlKC9cbi9naSwiIikpLGU9ZS5yZXBsYWNlKC9cdTIwMEIvZ2ksIiIpfSxiLnByb3RvdHlwZS5nZXRUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVsZW1lbnQudGV4dCgpfSxiLnByb3RvdHlwZS5zZXREaXJ0eT1mdW5jdGlvbihhKXt0aGlzLmRpcnR5PWF9LGIucHJvdG90eXBlLmluaXRBamF4U2F2ZXI9ZnVuY3Rpb24oKXt0aGlzLmFqYXhIVE1MPXRoaXMuZ2V0SFRNTCgpLHRoaXMuYWpheFNhdmU9ITAsdGhpcy5hamF4SW50ZXJ2YWw9c2V0SW50ZXJ2YWwoYS5wcm94eShmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0SFRNTCgpOyh0aGlzLmFqYXhIVE1MIT1hfHx0aGlzLmRpcnR5KSYmdGhpcy5hamF4U2F2ZSYmKHRoaXMub3B0aW9ucy5hdXRvc2F2ZSYmdGhpcy5zYXZlKCksdGhpcy5kaXJ0eT0hMSx0aGlzLmFqYXhIVE1MPWEpLHRoaXMuYWpheFNhdmU9ITB9LHRoaXMpLE1hdGgubWF4KHRoaXMub3B0aW9ucy5hdXRvc2F2ZUludGVydmFsLDEwMCkpfSxiLnByb3RvdHlwZS5kaXNhYmxlQnJvd3NlclVuZG89ZnVuY3Rpb24oKXthKCJib2R5Iikua2V5ZG93bihmdW5jdGlvbihhKXt2YXIgYj1hLndoaWNoLGM9KGEuY3RybEtleXx8YS5tZXRhS2V5KSYmIWEuYWx0S2V5O2lmKCF0aGlzLmlzSFRNTCYmYyl7aWYoNzU9PWIpcmV0dXJuIGEucHJldmVudERlZmF1bHQoKSwhMTtpZig5MD09YiYmYS5zaGlmdEtleSlyZXR1cm4gYS5wcmV2ZW50RGVmYXVsdCgpLCExO2lmKDkwPT1iKXJldHVybiBhLnByZXZlbnREZWZhdWx0KCksITF9fSl9LGIucHJvdG90eXBlLnNhdmVVbmRvU3RlcD1mdW5jdGlvbigpe2lmKCF0aGlzLnVuZG9TdGFjaylyZXR1cm4hMTtmb3IoO3RoaXMudW5kb1N0YWNrLmxlbmd0aD50aGlzLnVuZG9JbmRleDspdGhpcy51bmRvU3RhY2sucG9wKCk7dmFyIGE9dGhpcy5nZXRIVE1MKCEwLCExLCExKTtpZih0aGlzLnVuZG9TdGFja1t0aGlzLnVuZG9JbmRleC0xXSYmdGhpcy5yZW1vdmVNYXJrZXJzQnlSZWdleCh0aGlzLnVuZG9TdGFja1t0aGlzLnVuZG9JbmRleC0xXSk9PWEpcmV0dXJuITE7dmFyIGI9ITE7dGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpJiZ0aGlzLiRlbGVtZW50LmlzKCI6Zm9jdXMiKSYmKHRoaXMuc2F2ZVNlbGVjdGlvbkJ5TWFya2VycygpLGI9ITApLHRoaXMudW5kb1N0YWNrLnB1c2godGhpcy5nZXRIVE1MKCEwLCExLCExKSksdGhpcy51bmRvSW5kZXgrKyxiJiZ0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoITEpLHRoaXMucmVmcmVzaFVuZG8oKSx0aGlzLnJlZnJlc2hSZWRvKCl9LGIucHJvdG90eXBlLnNob3J0Y3V0RW5hYmxlZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vcHRpb25zLnNob3J0Y3V0c0F2YWlsYWJsZS5pbmRleE9mKGEpPj0wfSxiLnByb3RvdHlwZS5zaG9ydGN1dHNfbWFwPXs3MDp7Y21kOiJzaG93IixwYXJhbXM6W251bGxdLGlkOiJzaG93In0sNjk6e2NtZDoic2hvdyIscGFyYW1zOltudWxsXSxpZDoic2hvdyJ9LDY2OntjbWQ6ImV4ZWMiLHBhcmFtczpbImJvbGQiXSxpZDoiYm9sZCJ9LDczOntjbWQ6ImV4ZWMiLHBhcmFtczpbIml0YWxpYyJdLGlkOiJpdGFsaWMifSw4NTp7Y21kOiJleGVjIixwYXJhbXM6WyJ1bmRlcmxpbmUiXSxpZDoidW5kZXJsaW5lIn0sODM6e2NtZDoiZXhlYyIscGFyYW1zOlsic3RyaWtlVGhyb3VnaCJdLGlkOiJzdHJpa2VUaHJvdWdoIn0sNzU6e2NtZDoiZXhlYyIscGFyYW1zOlsiY3JlYXRlTGluayJdLGlkOiJjcmVhdGVMaW5rIn0sODA6e2NtZDoiZXhlYyIscGFyYW1zOlsiaW5zZXJ0SW1hZ2UiXSxpZDoiaW5zZXJ0SW1hZ2UifSw2NTp7Y21kOiJleGVjIixwYXJhbXM6WyJzZWxlY3RBbGwiXSxpZDoic2VsZWN0QWxsIn0sMjIxOntjbWQ6ImV4ZWMiLHBhcmFtczpbImluZGVudCJdLGlkOiJpbmRlbnQifSwyMTk6e2NtZDoiZXhlYyIscGFyYW1zOlsib3V0ZGVudCJdLGlkOiJvdXRkZW50In0sNzI6e2NtZDoiZXhlYyIscGFyYW1zOlsiaHRtbCJdLGlkOiJodG1sIn0sNDg6e2NtZDoiZXhlYyIscGFyYW1zOlsiZm9ybWF0QmxvY2siLCJuIl0saWQ6ImZvcm1hdEJsb2NrIG4ifSw0OTp7Y21kOiJleGVjIixwYXJhbXM6WyJmb3JtYXRCbG9jayIsImgxIl0saWQ6ImZvcm1hdEJsb2NrIGgxIn0sNTA6e2NtZDoiZXhlYyIscGFyYW1zOlsiZm9ybWF0QmxvY2siLCJoMiJdLGlkOiJmb3JtYXRCbG9jayBoMiJ9LDUxOntjbWQ6ImV4ZWMiLHBhcmFtczpbImZvcm1hdEJsb2NrIiwiaDMiXSxpZDoiZm9ybWF0QmxvY2sgaDMifSw1Mjp7Y21kOiJleGVjIixwYXJhbXM6WyJmb3JtYXRCbG9jayIsImg0Il0saWQ6ImZvcm1hdEJsb2NrIGg0In0sNTM6e2NtZDoiZXhlYyIscGFyYW1zOlsiZm9ybWF0QmxvY2siLCJoNSJdLGlkOiJmb3JtYXRCbG9jayBoNSJ9LDU0OntjbWQ6ImV4ZWMiLHBhcmFtczpbImZvcm1hdEJsb2NrIiwiaDYiXSxpZDoiZm9ybWF0QmxvY2sgaDYifSwyMjI6e2NtZDoiZXhlYyIscGFyYW1zOlsiZm9ybWF0QmxvY2siLCJibG9ja3F1b3RlIl0saWQ6ImZvcm1hdEJsb2NrIGJsb2NrcXVvdGUifSwyMjA6e2NtZDoiZXhlYyIscGFyYW1zOlsiZm9ybWF0QmxvY2siLCJwcmUiXSxpZDoiZm9ybWF0QmxvY2sgcHJlIn19LGIucHJvdG90eXBlLmluaXRTaG9ydGN1dHM9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuc2hvcnRjdXRzJiZ0aGlzLiRlbGVtZW50Lm9uKCJrZXlkb3duIixhLnByb3h5KGZ1bmN0aW9uKGEpe3ZhciBiPWEud2hpY2gsYz0oYS5jdHJsS2V5fHxhLm1ldGFLZXkpJiYhYS5hbHRLZXk7CmlmKCF0aGlzLmlzSFRNTCYmYyl7aWYodGhpcy5zaG9ydGN1dHNfbWFwW2JdJiZ0aGlzLnNob3J0Y3V0RW5hYmxlZCh0aGlzLnNob3J0Y3V0c19tYXBbYl0uaWQpKXJldHVybiB0aGlzLmV4ZWNEZWZhdWx0U2hvcnRjdXQodGhpcy5zaG9ydGN1dHNfbWFwW2JdLmNtZCx0aGlzLnNob3J0Y3V0c19tYXBbYl0ucGFyYW1zKTtpZig5MD09YiYmYS5zaGlmdEtleSlyZXR1cm4gYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5yZWRvKCksITE7aWYoOTA9PWIpcmV0dXJuIGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMudW5kbygpLCExfX0sdGhpcykpfSxiLnByb3RvdHlwZS5pbml0VGFicz1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQub24oImtleWRvd24iLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDtpZig5IT1ifHxhLnNoaWZ0S2V5KTk9PWImJmEuc2hpZnRLZXkmJih0aGlzLnJhaXNlRXZlbnQoInNoaWZ0K3RhYiIpP3RoaXMub3B0aW9ucy50YWJTcGFjZXM/YS5wcmV2ZW50RGVmYXVsdCgpOnRoaXMuYmx1cigpOmEucHJldmVudERlZmF1bHQoKSk7ZWxzZSBpZih0aGlzLnJhaXNlRXZlbnQoInRhYiIpKWlmKHRoaXMub3B0aW9ucy50YWJTcGFjZXMpe2EucHJldmVudERlZmF1bHQoKTt2YXIgYz0iJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IixkPXRoaXMuZ2V0U2VsZWN0aW9uRWxlbWVudHMoKVswXTsiUFJFIj09PWQudGFnTmFtZSYmKGM9IiAgICAiKSx0aGlzLmluc2VydEhUTUwoYywhMSl9ZWxzZSB0aGlzLmJsdXIoKTtlbHNlIGEucHJldmVudERlZmF1bHQoKX0sdGhpcykpfSxiLnByb3RvdHlwZS50ZXh0RW1wdHk9ZnVuY3Rpb24oYil7dmFyIGM9YShiKS50ZXh0KCkucmVwbGFjZSgvKFxyXG58XG58XHJ8XHQpL2dtLCIiKTtyZXR1cm4oIiI9PT1jfHxiPT09dGhpcy4kZWxlbWVudC5nZXQoMCkpJiYwPT09YShiKS5maW5kKCJiciIpLmxlbmd0aH0sYi5wcm90b3R5cGUuaW5FZGl0b3I9ZnVuY3Rpb24oYSl7Zm9yKDthJiYiQk9EWSIhPT1hLnRhZ05hbWU7KXtpZihhPT09dGhpcy4kZWxlbWVudC5nZXQoMCkpcmV0dXJuITA7YT1hLnBhcmVudE5vZGV9cmV0dXJuITF9LGIucHJvdG90eXBlLmZvY3VzPWZ1bmN0aW9uKGIpe2lmKHZvaWQgMD09PWImJihiPSEwKSwiIiE9PXRoaXMudGV4dCgpJiYhdGhpcy4kZWxlbWVudC5pcygiOmZvY3VzIikpcmV0dXJuIHZvaWQodGhpcy5icm93c2VyLm1zaWV8fHRoaXMuJGVsZW1lbnQuZm9jdXMoKSk7aWYoIXRoaXMuaXNIVE1MKXshYnx8dGhpcy5wYXN0aW5nfHx0aGlzLmJyb3dzZXIubXNpZXx8dGhpcy4kZWxlbWVudC5mb2N1cygpLHRoaXMucGFzdGluZyYmIXRoaXMuJGVsZW1lbnQuaXMoIjpmb2N1cyIpJiZ0aGlzLiRlbGVtZW50LmZvY3VzKCk7dmFyIGM9dGhpcy5nZXRSYW5nZSgpO2lmKCIiPT09dGhpcy50ZXh0KCkmJmMmJigwPT09Yy5zdGFydE9mZnNldHx8Yy5zdGFydENvbnRhaW5lcj09PXRoaXMuJGVsZW1lbnQuZ2V0KDApfHwhdGhpcy5pbkVkaXRvcihjLnN0YXJ0Q29udGFpbmVyKSkpe3ZhciBkLGUsZj10aGlzLmdldFNlbGVjdGlvbkVsZW1lbnRzKCk7aWYoYS5tZXJnZShbIklNRyIsIkJSIl0sdGhpcy52YWxpZF9ub2RlcykuaW5kZXhPZih0aGlzLmdldFNlbGVjdGlvbkVsZW1lbnQoKS50YWdOYW1lKTwwKXJldHVybiExO2lmKGMuc3RhcnRPZmZzZXQ+MCYmdGhpcy52YWxpZF9ub2Rlcy5pbmRleE9mKHRoaXMuZ2V0U2VsZWN0aW9uRWxlbWVudCgpLnRhZ05hbWUpPj0wfHwzPT09Yy5zdGFydENvbnRhaW5lci5ub2RlVHlwZSlyZXR1cm4hMTtpZihmLmxlbmd0aD49MSYmZlswXSE9PXRoaXMuJGVsZW1lbnQuZ2V0KDApKWZvcihkPTA7ZDxmLmxlbmd0aDtkKyspaWYoZT1mW2RdLCF0aGlzLnRleHRFbXB0eShlKXx8dGhpcy5icm93c2VyLm1zaWUpcmV0dXJuIHZvaWQgdGhpcy5zZXRTZWxlY3Rpb24oZSk7aWYoYy5zdGFydENvbnRhaW5lcj09PXRoaXMuJGVsZW1lbnQuZ2V0KDApJiZjLnN0YXJ0T2Zmc2V0PjAmJiF0aGlzLm9wdGlvbnMucGFyYWdyYXBoeSlyZXR1cm4gdm9pZCB0aGlzLnNldFNlbGVjdGlvbih0aGlzLiRlbGVtZW50LmdldCgwKSxjLnN0YXJ0T2Zmc2V0KTtmb3IoZj10aGlzLiRlbGVtZW50LmZpbmQodGhpcy52YWxpZF9ub2Rlcy5qb2luKCIsIikpLGQ9MDtkPGYubGVuZ3RoO2QrKylpZihlPWZbZF0sIXRoaXMudGV4dEVtcHR5KGUpJiYwPT09YShlKS5maW5kKHRoaXMudmFsaWRfbm9kZXMuam9pbigiLCIpKS5sZW5ndGgpcmV0dXJuIHZvaWQgdGhpcy5zZXRTZWxlY3Rpb24oZSk7dGhpcy5zZXRTZWxlY3Rpb24odGhpcy4kZWxlbWVudC5nZXQoMCkpfX19LGIucHJvdG90eXBlLmFkZE1hcmtlcnNBdEVuZD1mdW5jdGlvbihiKXt2YXIgYz1iLmZpbmQodGhpcy52YWxpZF9ub2Rlcy5qb2luKCIsICIpKTswPT09Yy5sZW5ndGgmJmMucHVzaChiLmdldCgwKSk7dmFyIGQ9Y1tjLmxlbmd0aC0xXTthKGQpLmFwcGVuZCgnPHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLXR5cGU9ImZhbHNlIiBkYXRhLWlkPSIwIiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIj48L3NwYW4+PHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLXR5cGU9InRydWUiIGRhdGEtaWQ9IjAiIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiPjwvc3Bhbj4nKX0sYi5wcm90b3R5cGUuc2V0Rm9jdXNBdEVuZD1mdW5jdGlvbihhKXt2b2lkIDA9PT1hJiYoYT10aGlzLiRlbGVtZW50KSx0aGlzLmFkZE1hcmtlcnNBdEVuZChhKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKX0sYi5wcm90b3R5cGUuYnJlYWtIVE1MPWZ1bmN0aW9uKGIpe3RoaXMucmVtb3ZlTWFya2VycygpLDA9PT10aGlzLiRlbGVtZW50LmZpbmQoImJyZWFrIikubGVuZ3RoJiZ0aGlzLmluc2VydFNpbXBsZUhUTUwoIjxicmVhaz48L2JyZWFrPiIpO3ZhciBjPXRoaXMuJGVsZW1lbnQuZmluZCgiYnJlYWsiKS5wYXJlbnRzKGEubWVyZ2UoWyJVTCIsIk9MIl0sdGhpcy52YWxpZF9ub2Rlcykuam9pbigiLCIpKVswXTtpZihhKGMpLnBhcmVudHMoInVsLCBvbCIpLmxlbmd0aCYmKGM9YShjKS5wYXJlbnRzKCJ1bCwgb2wiKVswXSksWyJVTCIsIk9MIl0uaW5kZXhPZihjLnRhZ05hbWUpPj0wKXt2YXIgZD1hKCI8ZGl2PiIpLmh0bWwoYik7ZC5maW5kKCI+IGxpIikud3JhcCgiPCIrYy50YWdOYW1lKyI+IiksYj1kLmh0bWwoKX1pZihjPT10aGlzLiRlbGVtZW50LmdldCgwKSlyZXR1cm4gdGhpcy4kZWxlbWVudC5maW5kKCJicmVhayIpLm5leHQoKS5sZW5ndGg/KHRoaXMuJGVsZW1lbnQuZmluZCgiYnJlYWsiKS5uZXh0KCkucHJlcGVuZCgnPHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLXR5cGU9ImZhbHNlIiBkYXRhLWlkPSIwIiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIj48L3NwYW4+PHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLXR5cGU9InRydWUiIGRhdGEtaWQ9IjAiIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiPjwvc3Bhbj4nKSx0aGlzLmluc2VydFNpbXBsZUhUTUwoYiksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCkpOih0aGlzLmluc2VydFNpbXBsZUhUTUwoYiksdGhpcy5zZXRGb2N1c0F0RW5kKCkpLHRoaXMuJGVsZW1lbnQuZmluZCgiYnJlYWsiKS5yZW1vdmUoKSx0aGlzLmNoZWNrUGxhY2Vob2xkZXIoKSwhMDtpZigiVEQiPT09Yy50YWdOYW1lKXJldHVybiB0aGlzLiRlbGVtZW50LmZpbmQoImJyZWFrIikucmVtb3ZlKCksdGhpcy5pbnNlcnRTaW1wbGVIVE1MKGIpLCEwO3ZhciBlPWEoIjxkaXY+IikuaHRtbChiKTtpZih0aGlzLmFkZE1hcmtlcnNBdEVuZChlKSxiPWUuaHRtbCgpLHRoaXMuZW1wdHlFbGVtZW50KGEoYykpKXJldHVybiBhKGMpLnJlcGxhY2VXaXRoKGIpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpLHRoaXMuY2hlY2tQbGFjZWhvbGRlcigpLCEwO2Zvcih2YXIgZixnLGg9YSgiPGRpdj48L2Rpdj4iKS5hcHBlbmQoYShjKS5jbG9uZSgpKS5odG1sKCksaT1bXSxqPXt9LGs9W10sbD0wLG09MDttPGgubGVuZ3RoO20rKylpZihnPWguY2hhckF0KG0pLCI8Ij09Zyl7dmFyIG49aC5pbmRleE9mKCI+IixtKzEpO2lmKC0xIT09bil7Zj1oLnN1YnN0cmluZyhtLG4rMSk7dmFyIG89dGhpcy50YWdOYW1lKGYpO2lmKG09biwiYnJlYWsiPT1vKXtpZighdGhpcy5pc0Nsb3NpbmdUYWcoZikpe2Zvcih2YXIgcD1pLmxlbmd0aC0xO3A+PTA7cC0tKXt2YXIgcT10aGlzLnRhZ05hbWUoaVtwXSk7ay5wdXNoKCI8LyIrcSsiPiIpfWsucHVzaChiKTtmb3IodmFyIHI9MDtyPGkubGVuZ3RoO3IrKylrLnB1c2goaVtyXSl9fWVsc2UgaWYoay5wdXNoKGYpLCF0aGlzLmlzU2VsZkNsb3NpbmdUYWcoZikpaWYodGhpcy5pc0Nsb3NpbmdUYWcoZikpe3ZhciBzPWpbb10ucG9wKCk7aS5zcGxpY2UocywxKX1lbHNlIGkucHVzaChmKSx2b2lkIDA9PT1qW29dJiYoaltvXT1bXSksaltvXS5wdXNoKGkubGVuZ3RoLTEpfX1lbHNlIGwrKyxrLnB1c2goZyk7YShjKS5yZXBsYWNlV2l0aChrLmpvaW4oIiIpKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKX0sYi5wcm90b3R5cGUuaW5zZXJ0U2ltcGxlSFRNTD1mdW5jdGlvbihhKXt2YXIgYixjO2lmKHRoaXMubm9fdmVyaWZ5PSEwLHdpbmRvdy5nZXRTZWxlY3Rpb24pe2lmKGI9d2luZG93LmdldFNlbGVjdGlvbigpLGIuZ2V0UmFuZ2VBdCYmYi5yYW5nZUNvdW50KXtjPWIuZ2V0UmFuZ2VBdCgwKSxjLmRlbGV0ZUNvbnRlbnRzKCk7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ZC5pbm5lckhUTUw9YTtmb3IodmFyIGUsZixnPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtlPWQuZmlyc3RDaGlsZDspZj1nLmFwcGVuZENoaWxkKGUpO2MuaW5zZXJ0Tm9kZShnKSxmJiYoYz1jLmNsb25lUmFuZ2UoKSxjLmNvbGxhcHNlKCExKSxiLnJlbW92ZUFsbFJhbmdlcygpLGIuYWRkUmFuZ2UoYykpfX1lbHNlIGlmKChiPWRvY3VtZW50LnNlbGVjdGlvbikmJiJDb250cm9sIiE9Yi50eXBlKXt2YXIgaD1iLmNyZWF0ZVJhbmdlKCk7aC5jb2xsYXBzZSghMCksYi5jcmVhdGVSYW5nZSgpLnBhc3RlSFRNTChhKSxzZWxlY3RQYXN0ZWRDb250ZW50JiYoYz1iLmNyZWF0ZVJhbmdlKCksYy5zZXRFbmRQb2ludCgiU3RhcnRUb1N0YXJ0IixoKSxjLnNlbGVjdCgpKX10aGlzLm5vX3ZlcmlmeT0hMX0sYi5wcm90b3R5cGUuaW5zZXJ0SFRNTD1mdW5jdGlvbihiLGMpe2lmKHZvaWQgMD09PWMmJihjPSEwKSwhdGhpcy5pc0hUTUwmJmMmJnRoaXMuZm9jdXMoKSx0aGlzLnJlbW92ZU1hcmtlcnMoKSx0aGlzLmluc2VydFNpbXBsZUhUTUwoIjxicmVhaz48L2JyZWFrPiIpLHRoaXMuY2hlY2tQbGFjZWhvbGRlcighMCksdGhpcy4kZWxlbWVudC5oYXNDbGFzcygiZi1wbGFjZWhvbGRlciIpKXJldHVybiB0aGlzLiRlbGVtZW50Lmh0bWwoYiksdGhpcy5vcHRpb25zLnBhcmFncmFwaHkmJnRoaXMud3JhcFRleHQoITApLHRoaXMuc2V0Rm9jdXNBdEVuZCgpLHRoaXMuY2hlY2tQbGFjZWhvbGRlcigpLCExO2Zvcih2YXIgZD1hKCI8ZGl2PiIpLmFwcGVuZChiKS5maW5kKCIqIiksZT0wO2U8ZC5sZW5ndGg7ZSsrKWlmKHRoaXMudmFsaWRfbm9kZXMuaW5kZXhPZihkW2VdLnRhZ05hbWUpPj0wKXJldHVybiB0aGlzLmJyZWFrSFRNTChiKSx0aGlzLmNsZWFudXBMaXN0cygpLCExO3RoaXMuJGVsZW1lbnQuZmluZCgiYnJlYWsiKS5yZW1vdmUoKSx0aGlzLmluc2VydFNpbXBsZUhUTUwoYil9LGIucHJvdG90eXBlLmV4ZWNEZWZhdWx0U2hvcnRjdXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpc1thXS5hcHBseSh0aGlzLGIpLCExfSxiLnByb3RvdHlwZS5pbml0RWRpdG9yPWZ1bmN0aW9uKCl7dmFyIGM9ImZyb2FsYS1lZGl0b3IiO3RoaXMubW9iaWxlKCkmJihjKz0iIHRvdWNoIiksdGhpcy5icm93c2VyLm1zaWUmJmIuZ2V0SUV2ZXJzaW9uKCk8OSYmKGMrPSIgaWU4IiksdGhpcy4kZWRpdG9yPWEoJzxkaXYgY2xhc3M9IicrYysnIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPicpLGEoImJvZHkiKS5hcHBlbmQodGhpcy4kZWRpdG9yKSx0aGlzLm9wdGlvbnMuaW5saW5lTW9kZT90aGlzLmluaXRJbmxpbmVFZGl0b3IoKTp0aGlzLmluaXRCYXNpY0VkaXRvcigpfSxiLnByb3RvdHlwZS5yZWZyZXNoVG9vbGJhclBvc2l0aW9uPWZ1bmN0aW9uKCl7YSh3aW5kb3cpLnNjcm9sbFRvcCgpPnRoaXMuJGJveC5vZmZzZXQoKS50b3AmJmEod2luZG93KS5zY3JvbGxUb3AoKTx0aGlzLiRib3gub2Zmc2V0KCkudG9wK3RoaXMuJGJveC5vdXRlckhlaWdodCgpLXRoaXMuJGVkaXRvci5vdXRlckhlaWdodCgpPyh0aGlzLiRlbGVtZW50LmNzcygicGFkZGluZy10b3AiLHRoaXMuJGVkaXRvci5vdXRlckhlaWdodCgpK3RoaXMuJGVsZW1lbnQuZGF0YSgicGFkZGluZy10b3AiKSksdGhpcy4kcGxhY2Vob2xkZXIuY3NzKCJtYXJnaW4tdG9wIix0aGlzLiRlZGl0b3Iub3V0ZXJIZWlnaHQoKSt0aGlzLiRlbGVtZW50LmRhdGEoInBhZGRpbmctdG9wIikpLHRoaXMuJGVkaXRvci5hZGRDbGFzcygiZi1zY3JvbGwiKS5yZW1vdmVDbGFzcygiZi1zY3JvbGwtYWJzIikuY3NzKCJib3R0b20iLCIiKS5jc3MoImxlZnQiLHRoaXMuJGJveC5vZmZzZXQoKS5sZWZ0K3BhcnNlRmxvYXQodGhpcy4kYm94LmNzcygicGFkZGluZy1sZWZ0IiksMTApLWEod2luZG93KS5zY3JvbGxMZWZ0KCkpLndpZHRoKHRoaXMuJGVsZW1lbnQub3V0ZXJXaWR0aCgpLXBhcnNlRmxvYXQodGhpcy4kZWRpdG9yLmNzcygiYm9yZGVyLWxlZnQtd2lkdGgiKSwxMCktcGFyc2VGbG9hdCh0aGlzLiRlZGl0b3IuY3NzKCJib3JkZXItcmlnaHQtd2lkdGgiKSwxMCkpLHRoaXMuaU9TKCkmJih0aGlzLiRlbGVtZW50LmlzKCI6Zm9jdXMiKT90aGlzLiRlZGl0b3IuY3NzKCJ0b3AiLGEod2luZG93KS5zY3JvbGxUb3AoKSk6dGhpcy4kZWRpdG9yLmNzcygidG9wIiwiIikpKTphKHdpbmRvdykuc2Nyb2xsVG9wKCk8dGhpcy4kYm94Lm9mZnNldCgpLnRvcD90aGlzLmlPUygpJiZ0aGlzLiRlbGVtZW50LmlzKCI6Zm9jdXMiKT8odGhpcy4kZWxlbWVudC5jc3MoInBhZGRpbmctdG9wIix0aGlzLiRlZGl0b3Iub3V0ZXJIZWlnaHQoKSt0aGlzLiRlbGVtZW50LmRhdGEoInBhZGRpbmctdG9wIikpLHRoaXMuJHBsYWNlaG9sZGVyLmNzcygibWFyZ2luLXRvcCIsdGhpcy4kZWRpdG9yLm91dGVySGVpZ2h0KCkrdGhpcy4kZWxlbWVudC5kYXRhKCJwYWRkaW5nLXRvcCIpKSx0aGlzLiRlZGl0b3IuYWRkQ2xhc3MoImYtc2Nyb2xsIikucmVtb3ZlQ2xhc3MoImYtc2Nyb2xsLWFicyIpLmNzcygiYm90dG9tIiwiIikuY3NzKCJsZWZ0Iix0aGlzLiRib3gub2Zmc2V0KCkubGVmdCtwYXJzZUZsb2F0KHRoaXMuJGJveC5jc3MoInBhZGRpbmctbGVmdCIpLDEwKS1hKHdpbmRvdykuc2Nyb2xsTGVmdCgpKS53aWR0aCh0aGlzLiRlbGVtZW50Lm91dGVyV2lkdGgoKS1wYXJzZUZsb2F0KHRoaXMuJGVkaXRvci5jc3MoImJvcmRlci1sZWZ0LXdpZHRoIiksMTApLXBhcnNlRmxvYXQodGhpcy4kZWRpdG9yLmNzcygiYm9yZGVyLXJpZ2h0LXdpZHRoIiksMTApKSx0aGlzLiRlZGl0b3IuY3NzKCJ0b3AiLHRoaXMuJGJveC5vZmZzZXQoKS50b3ApKToodGhpcy4kZWRpdG9yLnJlbW92ZUNsYXNzKCJmLXNjcm9sbCBmLXNjcm9sbC1hYnMiKS5jc3MoImJvdHRvbSIsIiIpLmNzcygidG9wIiwiIikud2lkdGgoIiIpLHRoaXMuJGVsZW1lbnQuY3NzKCJwYWRkaW5nLXRvcCIsIiIpLHRoaXMuJHBsYWNlaG9sZGVyLmNzcygibWFyZ2luLXRvcCIsIiIpKTphKHdpbmRvdykuc2Nyb2xsVG9wKCk+dGhpcy4kYm94Lm9mZnNldCgpLnRvcCt0aGlzLiRib3gub3V0ZXJIZWlnaHQoKS10aGlzLiRlZGl0b3Iub3V0ZXJIZWlnaHQoKSYmIXRoaXMuJGVkaXRvci5oYXNDbGFzcygiZi1zY3JvbGwtYWJzIikmJih0aGlzLiRlbGVtZW50LmNzcygicGFkZGluZy10b3AiLHRoaXMuJGVkaXRvci5vdXRlckhlaWdodCgpK3RoaXMuJGVsZW1lbnQuZGF0YSgicGFkZGluZy10b3AiKSksdGhpcy4kcGxhY2Vob2xkZXIuY3NzKCJtYXJnaW4tdG9wIix0aGlzLiRlZGl0b3Iub3V0ZXJIZWlnaHQoKSt0aGlzLiRlbGVtZW50LmRhdGEoInBhZGRpbmctdG9wIikpLHRoaXMuJGVkaXRvci5yZW1vdmVDbGFzcygiZi1zY3JvbGwiKS5hZGRDbGFzcygiZi1zY3JvbGwtYWJzIiksdGhpcy4kZWRpdG9yLmNzcygiYm90dG9tIiwwKS5jc3MoInRvcCIsIiIpLmNzcygibGVmdCIsIiIpKX0sYi5wcm90b3R5cGUudG9vbGJhclRvcD1mdW5jdGlvbigpe3RoaXMub3B0aW9ucy50b29sYmFyRml4ZWR8fHRoaXMub3B0aW9ucy5pbmxpbmVNb2RlfHwodGhpcy4kZWxlbWVudC5kYXRhKCJwYWRkaW5nLXRvcCIscGFyc2VJbnQodGhpcy4kZWxlbWVudC5jc3MoInBhZGRpbmctdG9wIiksMTApKSxhKHdpbmRvdykub24oInNjcm9sbCByZXNpemUgbG9hZCIsYS5wcm94eShmdW5jdGlvbigpe3RoaXMucmVmcmVzaFRvb2xiYXJQb3NpdGlvbigpfSx0aGlzKSksdGhpcy5pT1MoKSYmdGhpcy4kZWxlbWVudC5vbigiZm9jdXMgYmx1ciIsYS5wcm94eShmdW5jdGlvbigpe3RoaXMucmVmcmVzaFRvb2xiYXJQb3NpdGlvbigpfSx0aGlzKSkpfSxiLnByb3RvdHlwZS5pbml0QmFzaWNFZGl0b3I9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmFkZENsYXNzKCJmLWJhc2ljIiksdGhpcy4kd3JhcHBlci5hZGRDbGFzcygiZi1iYXNpYyIpLHRoaXMuJHBvcHVwX2VkaXRvcj10aGlzLiRlZGl0b3IuY2xvbmUoKSx0aGlzLiRwb3B1cF9lZGl0b3IuYXBwZW5kVG8oYSgiYm9keSIpKS5hZGRDbGFzcygiZi1pbmxpbmUiKSx0aGlzLiRlZGl0b3IuYWRkQ2xhc3MoImYtYmFzaWMiKS5zaG93KCksdGhpcy4kZWRpdG9yLmluc2VydEJlZm9yZSh0aGlzLiR3cmFwcGVyKSx0aGlzLnRvb2xiYXJUb3AoKX0sYi5wcm90b3R5cGUuaW5pdElubGluZUVkaXRvcj1mdW5jdGlvbigpe3RoaXMuJGVkaXRvci5hZGRDbGFzcygiZi1pbmxpbmUiKSx0aGlzLiRlbGVtZW50LmFkZENsYXNzKCJmLWlubGluZSIpLHRoaXMuJHBvcHVwX2VkaXRvcj10aGlzLiRlZGl0b3J9LGIucHJvdG90eXBlLmluaXREcmFnPWZ1bmN0aW9uKCl7dGhpcy5kcmFnX3N1cHBvcnQ9e2ZpbGVyZWFkZXI6InVuZGVmaW5lZCIhPXR5cGVvZiBGaWxlUmVhZGVyLGZvcm1kYXRhOiEhd2luZG93LkZvcm1EYXRhLHByb2dyZXNzOiJ1cGxvYWQiaW4gbmV3IFhNTEh0dHBSZXF1ZXN0fX0sYi5wcm90b3R5cGUuaW5pdE9wdGlvbnM9ZnVuY3Rpb24oKXt0aGlzLnNldERpbWVuc2lvbnMoKSx0aGlzLnNldFNwZWxsY2hlY2soKSx0aGlzLnNldEltYWdlVXBsb2FkVVJMKCksdGhpcy5zZXRCdXR0b25zKCksdGhpcy5zZXREaXJlY3Rpb24oKSx0aGlzLnNldFRleHROZWFySW1hZ2UoKSx0aGlzLnNldFpJbmRleCgpLHRoaXMuc2V0VGhlbWUoKSx0aGlzLm9wdGlvbnMuZWRpdEluUG9wdXAmJnRoaXMuYnVpbGRFZGl0UG9wdXAoKSx0aGlzLmVkaXRhYmxlRGlzYWJsZWR8fCh0aGlzLnNldFBsYWNlaG9sZGVyKCksdGhpcy5zZXRQbGFjZWhvbGRlckV2ZW50cygpKX0sYi5wcm90b3R5cGUuaXNUb3VjaD1mdW5jdGlvbigpe3JldHVybiBXWVNJV1lHTW9kZXJuaXpyLnRvdWNoJiZ2b2lkIDAhPT13aW5kb3cuVG91Y2h9LGIucHJvdG90eXBlLmluaXRFZGl0b3JTZWxlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50Lm9uKCJrZXl1cCIsYS5wcm94eShmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy50cmlnZ2VyRXZlbnQoImtleXVwIixbYV0sITEpfSx0aGlzKSksdGhpcy4kZWxlbWVudC5vbigiZm9jdXMiLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmJsdXJyZWQmJih0aGlzLmJsdXJyZWQ9ITEsdGhpcy5wYXN0aW5nfHwiIiE9PXRoaXMudGV4dCgpfHx0aGlzLmZvY3VzKCExKSx0aGlzLnRyaWdnZXJFdmVudCgiZm9jdXMiLFtdLCExKSl9LHRoaXMpKSx0aGlzLiRlbGVtZW50Lm9uKCJtb3VzZWRvd24gdG91Y2hzdGFydCIsYS5wcm94eShmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRGlzYWJsZWQ/ITE6dm9pZCh0aGlzLmlzUmVzaXppbmcoKXx8KHRoaXMuY2xvc2VJbWFnZU1vZGUoKSx0aGlzLmhpZGUoKSkpfSx0aGlzKSksdGhpcy5vcHRpb25zLmRpc2FibGVSaWdodENsaWNrJiZ0aGlzLiRlbGVtZW50LmNvbnRleHRtZW51KGEucHJveHkoZnVuY3Rpb24oYSl7cmV0dXJuIGEucHJldmVudERlZmF1bHQoKSx0aGlzLm9wdGlvbnMuaW5saW5lTW9kZSYmdGhpcy4kZWxlbWVudC5mb2N1cygpLCExfSx0aGlzKSksdGhpcy4kZWxlbWVudC5vbih0aGlzLm1vdXNldXAsYS5wcm94eShmdW5jdGlvbihiKXtpZih0aGlzLmlzRGlzYWJsZWQpcmV0dXJuITE7aWYoIXRoaXMuaXNSZXNpemluZygpKXt2YXIgYz10aGlzLnRleHQoKTtiLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuaW1hZ2VNb2RlPSExLCEoIiIhPT1jfHx0aGlzLm9wdGlvbnMuYWx3YXlzVmlzaWJsZXx8dGhpcy5vcHRpb25zLmVkaXRJblBvcHVwfHwoMz09Yi53aGljaHx8Mj09Yi5idXR0b24pJiZ0aGlzLm9wdGlvbnMuaW5saW5lTW9kZSYmIXRoaXMuaXNJbWFnZSYmdGhpcy5vcHRpb25zLmRpc2FibGVSaWdodENsaWNrKXx8dGhpcy5saW5rfHx0aGlzLmltYWdlTW9kZT90aGlzLm9wdGlvbnMuaW5saW5lTW9kZXx8dGhpcy5yZWZyZXNoQnV0dG9ucygpOnNldFRpbWVvdXQoYS5wcm94eShmdW5jdGlvbigpe2M9dGhpcy50ZXh0KCksISgiIiE9PWN8fHRoaXMub3B0aW9ucy5hbHdheXNWaXNpYmxlfHx0aGlzLm9wdGlvbnMuZWRpdEluUG9wdXB8fCgzPT1iLndoaWNofHwyPT1iLmJ1dHRvbikmJnRoaXMub3B0aW9ucy5pbmxpbmVNb2RlJiYhdGhpcy5pc0ltYWdlJiZ0aGlzLm9wdGlvbnMuZGlzYWJsZVJpZ2h0Q2xpY2spfHx0aGlzLmxpbmt8fHRoaXMuaW1hZ2VNb2RlfHwodGhpcy5zaG93KGIpLHRoaXMub3B0aW9ucy5lZGl0SW5Qb3B1cCYmdGhpcy5zaG93RWRpdFBvcHVwKCkpfSx0aGlzKSwwKX10aGlzLmhpZGVPdGhlckVkaXRvcnMoKX0sdGhpcykpLHRoaXMuJGVkaXRvci5vbih0aGlzLm1vdXNldXAsYS5wcm94eShmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0Rpc2FibGVkPyExOnZvaWQodGhpcy5pc1Jlc2l6aW5nKCl8fChhLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMub3B0aW9ucy5pbmxpbmVNb2RlPT09ITEmJnRoaXMuaGlkZSgpKSl9LHRoaXMpKSx0aGlzLiRlZGl0b3Iub24oIm1vdXNlZG93biIsIi5mci1kcm9wZG93bi1tZW51IixhLnByb3h5KGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzRGlzYWJsZWQ/ITE6KGEuc3RvcFByb3BhZ2F0aW9uKCksdm9pZCh0aGlzLm5vSGlkZT0hMCkpfSx0aGlzKSksdGhpcy4kcG9wdXBfZWRpdG9yLm9uKCJtb3VzZWRvd24iLCIuZnItZHJvcGRvd24tbWVudSIsYS5wcm94eShmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0Rpc2FibGVkPyExOihhLnN0b3BQcm9wYWdhdGlvbigpLHZvaWQodGhpcy5ub0hpZGU9ITApKX0sdGhpcykpLHRoaXMuJHBvcHVwX2VkaXRvci5vbigibW91c2V1cCIsYS5wcm94eShmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0Rpc2FibGVkPyExOnZvaWQodGhpcy5pc1Jlc2l6aW5nKCl8fGEuc3RvcFByb3BhZ2F0aW9uKCkpfSx0aGlzKSksdGhpcy4kZWRpdF9wb3B1cF93cmFwcGVyJiZ0aGlzLiRlZGl0X3BvcHVwX3dyYXBwZXIub24oIm1vdXNldXAiLGEucHJveHkoZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNEaXNhYmxlZD8hMTp2b2lkKHRoaXMuaXNSZXNpemluZygpfHxhLnN0b3BQcm9wYWdhdGlvbigpKX0sdGhpcykpLHRoaXMuc2V0RG9jdW1lbnRTZWxlY3Rpb25DaGFuZ2VFdmVudCgpLHRoaXMuc2V0V2luZG93TW91c2VVcEV2ZW50KCksdGhpcy5zZXRXaW5kb3dLZXlEb3duRXZlbnQoKSx0aGlzLnNldFdpbmRvd0tleVVwRXZlbnQoKSx0aGlzLnNldFdpbmRvd09yaWVudGF0aW9uQ2hhbmdlRXZlbnQoKSx0aGlzLnNldFdpbmRvd0hpZGVFdmVudCgpLHRoaXMuc2V0V2luZG93Qmx1ckV2ZW50KCksdGhpcy5vcHRpb25zLnRyYWNrU2Nyb2xsJiZ0aGlzLnNldFdpbmRvd1Njcm9sbEV2ZW50KCl9LGIucHJvdG90eXBlLmJsdXI9ZnVuY3Rpb24oYil7dGhpcy5ibHVycmVkfHx0aGlzLnBhc3Rpbmd8fCh0aGlzLnNlbGVjdGlvbkRpc2FibGVkPSEwLHRoaXMudHJpZ2dlckV2ZW50KCJibHVyIixbXSksYiYmMD09PWEoIio6Zm9jdXMiKS5sZW5ndGgmJnRoaXMuY2xlYXJTZWxlY3Rpb24oKSx0aGlzLmlzTGlua3x8dGhpcy5pc0ltYWdlfHwodGhpcy5zZWxlY3Rpb25EaXNhYmxlZD0hMSksdGhpcy5ibHVycmVkPSEwKX0sYi5wcm90b3R5cGUuc2V0V2luZG93Qmx1ckV2ZW50PWZ1bmN0aW9uKCl7dGhpcy4kd2luZG93Lm9uKCJibHVyLiIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbihhLGIpe3RoaXMuYmx1cihiKX0sdGhpcykpfSxiLnByb3RvdHlwZS5zZXRXaW5kb3dIaWRlRXZlbnQ9ZnVuY3Rpb24oKXt0aGlzLiR3aW5kb3cub24oImhpZGUuIit0aGlzLl9pZCxhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5pc1Jlc2l6aW5nKCk/dGhpcy4kZWxlbWVudC5maW5kKCIuZi1pbWctaGFuZGxlIikudHJpZ2dlcigibW92ZWVuZCIpOnRoaXMuaGlkZSghMSl9LHRoaXMpKX0sYi5wcm90b3R5cGUuc2V0V2luZG93T3JpZW50YXRpb25DaGFuZ2VFdmVudD1mdW5jdGlvbigpe3RoaXMuJHdpbmRvdy5vbigib3JpZW50YXRpb25jaGFuZ2UuIit0aGlzLl9pZCxhLnByb3h5KGZ1bmN0aW9uKCl7c2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5oaWRlKCl9LHRoaXMpLDEwKX0sdGhpcykpfSxiLnByb3RvdHlwZS5zZXREb2N1bWVudFNlbGVjdGlvbkNoYW5nZUV2ZW50PWZ1bmN0aW9uKCl7dGhpcy4kZG9jdW1lbnQub24oInNlbGVjdGlvbmNoYW5nZS4iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuaXNEaXNhYmxlZD8hMTp2b2lkKHRoaXMuaXNSZXNpemluZygpfHx0aGlzLmlzU2Nyb2xsaW5nfHwoY2xlYXJUaW1lb3V0KHRoaXMuc2VsZWN0aW9uQ2hhbmdlZFRpbWVvdXQpLHRoaXMuc2VsZWN0aW9uQ2hhbmdlZFRpbWVvdXQ9c2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLmlubGluZU1vZGUmJnRoaXMuc2VsZWN0aW9uSW5FZGl0b3IoKSYmdGhpcy5saW5rIT09ITAmJnRoaXMuaXNUb3VjaCgpKXt2YXIgYT10aGlzLnRleHQoKTsiIiE9PWE/KHRoaXMuaVBvZCgpP3RoaXMub3B0aW9ucy5hbHdheXNWaXNpYmxlJiZ0aGlzLmhpZGUoKTp0aGlzLnNob3cobnVsbCksYi5zdG9wUHJvcGFnYXRpb24oKSk6dGhpcy5vcHRpb25zLmFsd2F5c1Zpc2libGU/dGhpcy5zaG93KG51bGwpOih0aGlzLmhpZGUoKSx0aGlzLmNsb3NlSW1hZ2VNb2RlKCksdGhpcy5pbWFnZU1vZGU9ITEpfX0sdGhpcyksNzUpKSl9LHRoaXMpKX0sYi5wcm90b3R5cGUuc2V0V2luZG93TW91c2VVcEV2ZW50PWZ1bmN0aW9uKCl7dGhpcy4kd2luZG93Lm9uKHRoaXMubW91c2V1cCsiLiIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRGlzYWJsZWQ/ITE6KHRoaXMuaXNSZXNpemluZygpfHx0aGlzLmlzU2Nyb2xsaW5nfHwodGhpcy4kYnR0bl93cmFwcGVyLmZpbmQoImJ1dHRvbltkYXRhLWNtZF0iKS5yZW1vdmVDbGFzcygiYWN0aXZlIiksdGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpJiYiIiE9PXRoaXMudGV4dCgpJiYhdGhpcy5pc1RvdWNoKCk/dGhpcy5zaG93KG51bGwpOnRoaXMuJHBvcHVwX2VkaXRvci5pcygiOnZpc2libGUiKSYmKHRoaXMuaGlkZSgpLHRoaXMuY2xvc2VJbWFnZU1vZGUoKSx0aGlzLmltYWdlTW9kZT0hMSksdGhpcy5ibHVyKCEwKSksdm9pZCBhKCJbZGF0YS1kb3duXSIpLnJlbW92ZUF0dHIoImRhdGEtZG93biIpKX0sdGhpcykpfSxiLnByb3RvdHlwZS5zZXRXaW5kb3dLZXlEb3duRXZlbnQ9ZnVuY3Rpb24oKXt0aGlzLiR3aW5kb3cub24oImtleWRvd24uIit0aGlzLl9pZCxhLnByb3h5KGZ1bmN0aW9uKGIpe3ZhciBjPWIud2hpY2g7aWYodGhpcy5pbWFnZU1vZGUpe2lmKDEzPT1jKXJldHVybiB0aGlzLiRlbGVtZW50LmZpbmQoIi5mLWltZy1lZGl0b3IiKS5wYXJlbnRzKCIuZi1pbWctd3JhcCIpLmJlZm9yZSgiPGJyLz4iKSx0aGlzLnN5bmMoKSx0aGlzLiRlbGVtZW50LmZpbmQoIi5mLWltZy1lZGl0b3IgaW1nIikuY2xpY2soKSwhMTtpZig0Nj09Y3x8OD09YylyZXR1cm4gYi5zdG9wUHJvcGFnYXRpb24oKSxiLnByZXZlbnREZWZhdWx0KCksc2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVJbWFnZSh0aGlzLiRlbGVtZW50LmZpbmQoIi5mLWltZy1lZGl0b3IiKSl9LHRoaXMpLDApLCExfWVsc2UgaWYodGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpKXtpZih0aGlzLmlzRGlzYWJsZWQpcmV0dXJuITA7dmFyIGQ9KGIuY3RybEtleXx8Yi5tZXRhS2V5KSYmIWIuYWx0S2V5OyFkJiZ0aGlzLiRwb3B1cF9lZGl0b3IuaXMoIjp2aXNpYmxlIikmJigyNz09Y3x8dGhpcy4kYnR0bl93cmFwcGVyLmlzKCI6dmlzaWJsZSIpJiZ0aGlzLm9wdGlvbnMuaW5saW5lTW9kZSkmJih0aGlzLmhpZGUoKSx0aGlzLmNsb3NlSW1hZ2VNb2RlKCkpfX0sdGhpcykpfSxiLnByb3RvdHlwZS5zZXRXaW5kb3dLZXlVcEV2ZW50PWZ1bmN0aW9uKCl7dGhpcy4kd2luZG93Lm9uKCJrZXl1cC4iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0Rpc2FibGVkPyExOnZvaWQodGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpJiYiIiE9PXRoaXMudGV4dCgpJiYhdGhpcy4kcG9wdXBfZWRpdG9yLmlzKCI6dmlzaWJsZSIpJiZ0aGlzLnJlcG9zaXRpb25FZGl0b3IoKSl9LHRoaXMpKX0sYi5wcm90b3R5cGUuc2V0V2luZG93U2Nyb2xsRXZlbnQ9ZnVuY3Rpb24oKXt0aGlzLiR3aW5kb3cub24oInNjcm9sbC4iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0Rpc2FibGVkPyExOihjbGVhclRpbWVvdXQodGhpcy5zY3JvbGxUaW1lciksdGhpcy5pc1Njcm9sbGluZz0hMCx2b2lkKHRoaXMuc2Nyb2xsVGltZXI9c2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5pc1Njcm9sbGluZz0hMX0sdGhpcyksMjUwMCkpKX0sdGhpcykpfSxiLnByb3RvdHlwZS5zZXRUZXh0TmVhckltYWdlPWZ1bmN0aW9uKGEpe3ZvaWQgMCE9PWEmJih0aGlzLm9wdGlvbnMudGV4dE5lYXJJbWFnZT1hKSx0aGlzLm9wdGlvbnMudGV4dE5lYXJJbWFnZT09PSEwP3RoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoImYtdG5pIik6dGhpcy4kZWxlbWVudC5hZGRDbGFzcygiZi10bmkiKX0sYi5wcm90b3R5cGUuc2V0UGxhY2Vob2xkZXI9ZnVuY3Rpb24oYil7YiYmKHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcj1iKSx0aGlzLiR0ZXh0YXJlYSYmdGhpcy4kdGV4dGFyZWEuYXR0cigicGxhY2Vob2xkZXIiLHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlciksdGhpcy4kcGxhY2Vob2xkZXJ8fCh0aGlzLiRwbGFjZWhvbGRlcj1hKCc8c3BhbiBjbGFzcz0iZnItcGxhY2Vob2xkZXIiPjwvc3Bhbj4nKS5iaW5kKCJjbGljayIsYS5wcm94eShmdW5jdGlvbigpe3RoaXMuZm9jdXMoKX0sdGhpcykpLHRoaXMuJGVsZW1lbnQuYWZ0ZXIodGhpcy4kcGxhY2Vob2xkZXIpKSx0aGlzLiRwbGFjZWhvbGRlci50ZXh0KHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcil9LGIucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLiRlbGVtZW50LnRleHQoKS5yZXBsYWNlKC8oXHJcbnxcbnxccnxcdHxcdTIwMEJ8XHUwMDIwKS9nbSwiIik7cmV0dXJuIiI9PT1iJiYwPT09dGhpcy4kZWxlbWVudC5maW5kKCJpbWcsIHRhYmxlLCBpZnJhbWUsIGlucHV0LCBociIpLmxlbmd0aCYmMD09PXRoaXMuJGVsZW1lbnQuZmluZCgicCA+IGJyLCBkaXYgPiBiciIpLmxlbmd0aCYmMD09PXRoaXMuJGVsZW1lbnQuZmluZChhLm1hcCh0aGlzLnZhbGlkX25vZGVzLGZ1bmN0aW9uKGEpe3JldHVyblsiUCwgRElWIl0uaW5kZXhPZihhKT49MD9udWxsOmF9KS5qb2luKCIsICIpKS5sZW5ndGh9LGIucHJvdG90eXBlLmNoZWNrUGxhY2Vob2xkZXI9ZnVuY3Rpb24oYil7aWYodGhpcy5pc0Rpc2FibGVkJiYhYilyZXR1cm4hMTtpZih0aGlzLnBhc3RpbmcmJiFiKXJldHVybiExO2lmKHRoaXMuJGVsZW1lbnQuZmluZCgidGQ6ZW1wdHksIHRoOmVtcHR5IikuYXBwZW5kKCI8L2JyPiIpLHRoaXMuYnJvd3Nlci5tc2llfHx0aGlzLiRlbGVtZW50LmZpbmQodGhpcy52YWxpZF9ub2Rlcy5qb2luKCI6ZW1wdHksICIpKyI6ZW1wdHkiKS5yZW1vdmUoKSwhdGhpcy5pc0hUTUwpaWYodGhpcy5pc0VtcHR5KCkmJiF0aGlzLmZha2VFbXB0eSgpKXt2YXIgYyxkPXRoaXMuc2VsZWN0aW9uSW5FZGl0b3IoKXx8dGhpcy4kZWxlbWVudC5pcygiOmZvY3VzIik7dGhpcy5vcHRpb25zLnBhcmFncmFwaHk/KGM9YSgiPHA+PGJyLz48L3A+IiksdGhpcy4kZWxlbWVudC5odG1sKGMpLGQmJnRoaXMuc2V0U2VsZWN0aW9uKGMuZ2V0KDApKSx0aGlzLiRlbGVtZW50LmFkZENsYXNzKCJmLXBsYWNlaG9sZGVyIikpOigwPT09dGhpcy4kZWxlbWVudC5maW5kKCJiciIpLmxlbmd0aCYmdGhpcy4kZWxlbWVudC5hcHBlbmQoIjxici8+IiksdGhpcy4kZWxlbWVudC5hZGRDbGFzcygiZi1wbGFjZWhvbGRlciIpKX1lbHNlIXRoaXMuJGVsZW1lbnQuZmluZCgicCIpLmxlbmd0aCYmdGhpcy5vcHRpb25zLnBhcmFncmFwaHk/KHRoaXMud3JhcFRleHQoITApLHRoaXMuJGVsZW1lbnQuZmluZCgicCIpLmxlbmd0aCYmIiI9PT10aGlzLnRleHQoKT90aGlzLnNldFNlbGVjdGlvbih0aGlzLiRlbGVtZW50LmZpbmQoInAiKVswXSx0aGlzLiRlbGVtZW50LmZpbmQoInAiKS50ZXh0KCkubGVuZ3RoLG51bGwsdGhpcy4kZWxlbWVudC5maW5kKCJwIikudGV4dCgpLmxlbmd0aCk6dGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygiZi1wbGFjZWhvbGRlciIpKTp0aGlzLmZha2VFbXB0eSgpPT09ITF8fHRoaXMuJGVsZW1lbnQuZmluZCh0aGlzLnZhbGlkX25vZGVzLmpvaW4oIiwiKSkubGVuZ3RoPjE/dGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygiZi1wbGFjZWhvbGRlciIpOnRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoImYtcGxhY2Vob2xkZXIiKTtyZXR1cm4hMH0sYi5wcm90b3R5cGUuZmFrZUVtcHR5PWZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEmJihhPXRoaXMuJGVsZW1lbnQpO3ZhciBiPWEudGV4dCgpLnJlcGxhY2UoLyhcclxufFxufFxyfFx0fFx1MjAwQikvZ20sIiIpO3JldHVybiIiPT09YiYmMT09YS5maW5kKCJwLCBkaXYiKS5sZW5ndGgmJjE9PWEuZmluZCgicCA+IGJyLCBkaXYgPiBiciIpLmxlbmd0aCYmMD09PWEuZmluZCgiaW1nLCB0YWJsZSwgaWZyYW1lLCBpbnB1dCwgaHIiKS5sZW5ndGh9LGIucHJvdG90eXBlLnNldFBsYWNlaG9sZGVyRXZlbnRzPWZ1bmN0aW9uKCl7dGhpcy5icm93c2VyLm1zaWUmJmIuZ2V0SUV2ZXJzaW9uKCk8OXx8KHRoaXMuJGVsZW1lbnQub24oImZvY3VzIixhLnByb3h5KGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNEaXNhYmxlZD8hMTp2b2lkKCIiIT09dGhpcy4kZWxlbWVudC50ZXh0KCl8fHRoaXMucGFzdGluZ3x8dGhpcy5mb2N1cyghMSkpfSx0aGlzKSksdGhpcy4kZWxlbWVudC5vbigia2V5dXAga2V5ZG93biBmb2N1cyBwbGFjZWhvbGRlckNoZWNrIixhLnByb3h5KGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hlY2tQbGFjZWhvbGRlcigpfSx0aGlzKSksdGhpcy4kZWxlbWVudC50cmlnZ2VyKCJwbGFjZWhvbGRlckNoZWNrIikpfSxiLnByb3RvdHlwZS5zZXREaW1lbnNpb25zPWZ1bmN0aW9uKGEsYixjLGQpe2EmJih0aGlzLm9wdGlvbnMuaGVpZ2h0PWEpLGImJih0aGlzLm9wdGlvbnMud2lkdGg9YiksYyYmKHRoaXMub3B0aW9ucy5taW5IZWlnaHQ9YyksZCYmKHRoaXMub3B0aW9ucy5tYXhIZWlnaHQ9ZCksImF1dG8iIT10aGlzLm9wdGlvbnMuaGVpZ2h0JiZ0aGlzLiRlbGVtZW50LmNzcygiaGVpZ2h0Iix0aGlzLm9wdGlvbnMuaGVpZ2h0KSwiYXV0byIhPXRoaXMub3B0aW9ucy5taW5IZWlnaHQmJnRoaXMuJGVsZW1lbnQuY3NzKCJtaW5IZWlnaHQiLHRoaXMub3B0aW9ucy5taW5IZWlnaHQpLCJhdXRvIiE9dGhpcy5vcHRpb25zLm1heEhlaWdodCYmdGhpcy4kZWxlbWVudC5jc3MoIm1heEhlaWdodCIsdGhpcy5vcHRpb25zLm1heEhlaWdodCksImF1dG8iIT10aGlzLm9wdGlvbnMud2lkdGgmJnRoaXMuJGJveC5jc3MoIndpZHRoIix0aGlzLm9wdGlvbnMud2lkdGgpfSxiLnByb3RvdHlwZS5zZXREaXJlY3Rpb249ZnVuY3Rpb24oYSl7YSYmKHRoaXMub3B0aW9ucy5kaXJlY3Rpb249YSksImx0ciIhPXRoaXMub3B0aW9ucy5kaXJlY3Rpb24mJiJydGwiIT10aGlzLm9wdGlvbnMuZGlyZWN0aW9uJiYodGhpcy5vcHRpb25zLmRpcmVjdGlvbj0ibHRyIiksInJ0bCI9PXRoaXMub3B0aW9ucy5kaXJlY3Rpb24/KHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoImYtcnRsIiksdGhpcy4kZWRpdG9yLmFkZENsYXNzKCJmLXJ0bCIpLHRoaXMuJHBvcHVwX2VkaXRvci5hZGRDbGFzcygiZi1ydGwiKSx0aGlzLiRpbWFnZV9tb2RhbCYmdGhpcy4kaW1hZ2VfbW9kYWwuYWRkQ2xhc3MoImYtcnRsIikpOih0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJmLXJ0bCIpLHRoaXMuJGVkaXRvci5yZW1vdmVDbGFzcygiZi1ydGwiKSx0aGlzLiRwb3B1cF9lZGl0b3IucmVtb3ZlQ2xhc3MoImYtcnRsIiksdGhpcy4kaW1hZ2VfbW9kYWwmJnRoaXMuJGltYWdlX21vZGFsLnJlbW92ZUNsYXNzKCJmLXJ0bCIpKX0sYi5wcm90b3R5cGUuc2V0WkluZGV4PWZ1bmN0aW9uKGEpe2EmJih0aGlzLm9wdGlvbnMuekluZGV4PWEpLHRoaXMuJGVkaXRvci5jc3MoInotaW5kZXgiLHRoaXMub3B0aW9ucy56SW5kZXgpLHRoaXMuJHBvcHVwX2VkaXRvci5jc3MoInotaW5kZXgiLHRoaXMub3B0aW9ucy56SW5kZXgrMSksdGhpcy4kb3ZlcmxheSYmdGhpcy4kb3ZlcmxheS5jc3MoInotaW5kZXgiLHRoaXMub3B0aW9ucy56SW5kZXgrMiksdGhpcy4kaW1hZ2VfbW9kYWwmJnRoaXMuJGltYWdlX21vZGFsLmNzcygiei1pbmRleCIsdGhpcy5vcHRpb25zLnpJbmRleCszKX0sYi5wcm90b3R5cGUuc2V0VGhlbWU9ZnVuY3Rpb24oYSl7YSYmKHRoaXMub3B0aW9ucy50aGVtZT1hKSxudWxsIT10aGlzLm9wdGlvbnMudGhlbWUmJih0aGlzLiRlZGl0b3IuYWRkQ2xhc3ModGhpcy5vcHRpb25zLnRoZW1lKyItdGhlbWUiKSx0aGlzLiRwb3B1cF9lZGl0b3IuYWRkQ2xhc3ModGhpcy5vcHRpb25zLnRoZW1lKyItdGhlbWUiKSx0aGlzLiRib3gmJnRoaXMuJGJveC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMudGhlbWUrIi10aGVtZSIpLHRoaXMuJGltYWdlX21vZGFsJiZ0aGlzLiRpbWFnZV9tb2RhbC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMudGhlbWUrIi10aGVtZSIpKX0sYi5wcm90b3R5cGUuc2V0U3BlbGxjaGVjaz1mdW5jdGlvbihhKXt2b2lkIDAhPT1hJiYodGhpcy5vcHRpb25zLnNwZWxsY2hlY2s9YSksdGhpcy4kZWxlbWVudC5hdHRyKCJzcGVsbGNoZWNrIix0aGlzLm9wdGlvbnMuc3BlbGxjaGVjayl9LGIucHJvdG90eXBlLmN1c3RvbWl6ZVRleHQ9ZnVuY3Rpb24oYil7aWYoYil7dmFyIGM9dGhpcy4kZWRpdG9yLmZpbmQoIlt0aXRsZV0iKS5hZGQodGhpcy4kcG9wdXBfZWRpdG9yLmZpbmQoIlt0aXRsZV0iKSk7dGhpcy4kaW1hZ2VfbW9kYWwmJihjPWMuYWRkKHRoaXMuJGltYWdlX21vZGFsLmZpbmQoIlt0aXRsZV0iKSkpLGMuZWFjaChhLnByb3h5KGZ1bmN0aW9uKGMsZCl7Zm9yKHZhciBlIGluIGIpYShkKS5hdHRyKCJ0aXRsZSIpLnRvTG93ZXJDYXNlKCk9PWUudG9Mb3dlckNhc2UoKSYmYShkKS5hdHRyKCJ0aXRsZSIsYltlXSl9LHRoaXMpKSxjPXRoaXMuJGVkaXRvci5maW5kKCdbZGF0YS10ZXh0PSJ0cnVlIl0nKS5hZGQodGhpcy4kcG9wdXBfZWRpdG9yLmZpbmQoJ1tkYXRhLXRleHQ9InRydWUiXScpKSx0aGlzLiRpbWFnZV9tb2RhbCYmKGM9Yy5hZGQodGhpcy4kaW1hZ2VfbW9kYWwuZmluZCgnW2RhdGEtdGV4dD0idHJ1ZSJdJykpKSxjLmVhY2goYS5wcm94eShmdW5jdGlvbihjLGQpe2Zvcih2YXIgZSBpbiBiKWEoZCkudGV4dCgpLnRvTG93ZXJDYXNlKCk9PWUudG9Mb3dlckNhc2UoKSYmYShkKS50ZXh0KGJbZV0pfSx0aGlzKSl9fSxiLnByb3RvdHlwZS5zZXRMYW5ndWFnZT1mdW5jdGlvbihiKXt2b2lkIDAhPT1iJiYodGhpcy5vcHRpb25zLmxhbmd1YWdlPWIpLGEuRWRpdGFibGUuTEFOR1NbdGhpcy5vcHRpb25zLmxhbmd1YWdlXSYmKHRoaXMuY3VzdG9taXplVGV4dChhLkVkaXRhYmxlLkxBTkdTW3RoaXMub3B0aW9ucy5sYW5ndWFnZV0udHJhbnNsYXRpb24pLGEuRWRpdGFibGUuTEFOR1NbdGhpcy5vcHRpb25zLmxhbmd1YWdlXS5kaXJlY3Rpb24mJnRoaXMuc2V0RGlyZWN0aW9uKGEuRWRpdGFibGUuTEFOR1NbdGhpcy5vcHRpb25zLmxhbmd1YWdlXS5kaXJlY3Rpb24pLGEuRWRpdGFibGUuTEFOR1NbdGhpcy5vcHRpb25zLmxhbmd1YWdlXS50cmFuc2xhdGlvblt0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXJdJiZ0aGlzLnNldFBsYWNlaG9sZGVyKGEuRWRpdGFibGUuTEFOR1NbdGhpcy5vcHRpb25zLmxhbmd1YWdlXS50cmFuc2xhdGlvblt0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXJdKSl9LGIucHJvdG90eXBlLnNldEN1c3RvbVRleHQ9ZnVuY3Rpb24oYSl7YSYmKHRoaXMub3B0aW9ucy5jdXN0b21UZXh0PWEpLHRoaXMub3B0aW9ucy5jdXN0b21UZXh0JiZ0aGlzLmN1c3RvbWl6ZVRleHQodGhpcy5vcHRpb25zLmN1c3RvbVRleHQpfSxiLnByb3RvdHlwZS5leGVjSFRNTD1mdW5jdGlvbigpe3RoaXMuaHRtbCgpfSxiLnByb3RvdHlwZS5pbml0SFRNTEFyZWE9ZnVuY3Rpb24oKXt0aGlzLiRodG1sX2FyZWE9YSgnPHRleHRhcmVhIHdyYXA9ImhhcmQiPicpLmtleWRvd24oZnVuY3Rpb24oYil7dmFyIGM9Yi5rZXlDb2RlfHxiLndoaWNoO2lmKDk9PWMpe2IucHJldmVudERlZmF1bHQoKTt2YXIgZD1hKHRoaXMpLmdldCgwKS5zZWxlY3Rpb25TdGFydCxlPWEodGhpcykuZ2V0KDApLnNlbGVjdGlvbkVuZDthKHRoaXMpLnZhbChhKHRoaXMpLnZhbCgpLnN1YnN0cmluZygwLGQpKyIJIithKHRoaXMpLnZhbCgpLnN1YnN0cmluZyhlKSksYSh0aGlzKS5nZXQoMCkuc2VsZWN0aW9uU3RhcnQ9YSh0aGlzKS5nZXQoMCkuc2VsZWN0aW9uRW5kPWQrMX19KS5mb2N1cyhhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5ibHVycmVkJiYodGhpcy5ibHVycmVkPSExLHRoaXMudHJpZ2dlckV2ZW50KCJmb2N1cyIsW10sITEpKX0sdGhpcykpLm1vdXNldXAoYS5wcm94eShmdW5jdGlvbigpe3RoaXMuYmx1cnJlZCYmKHRoaXMuYmx1cnJlZD0hMSx0aGlzLnRyaWdnZXJFdmVudCgiZm9jdXMiLFtdLCExKSl9LHRoaXMpKX0sYi5wcm90b3R5cGUuY29tbWFuZF9kaXNwYXRjaGVyPXthbGlnbjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmJ1aWxkRHJvcGRvd25BbGlnbihhKSxjPXRoaXMuYnVpbGREcm9wZG93bkJ1dHRvbihhLGIpO3JldHVybiBjfSxmb3JtYXRCbG9jazpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmJ1aWxkRHJvcGRvd25Gb3JtYXRCbG9jayhhKSxjPXRoaXMuYnVpbGREcm9wZG93bkJ1dHRvbihhLGIpO3JldHVybiBjfSxodG1sOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuYnVpbGREZWZhdWx0QnV0dG9uKGIpO3JldHVybiB0aGlzLm9wdGlvbnMuaW5saW5lTW9kZSYmdGhpcy4kYm94LmFwcGVuZChhKGMpLmNsb25lKCEwKS5hZGRDbGFzcygiaHRtbC1zd2l0Y2giKS5hdHRyKCJ0aXRsZSIsIkhpZGUgSFRNTCIpLmNsaWNrKGEucHJveHkodGhpcy5leGVjSFRNTCx0aGlzKSkpLHRoaXMuaW5pdEhUTUxBcmVhKCksY319LGIucHJvdG90eXBlLnNldEJ1dHRvbnM9ZnVuY3Rpb24oYSl7YSYmKHRoaXMub3B0aW9ucy5idXR0b25zPWEpLHRoaXMuJGVkaXRvci5hcHBlbmQoJzxkaXYgY2xhc3M9ImJ0dG4td3JhcHBlciIgaWQ9ImJ0dG4td3JhcHBlci0nK3RoaXMuX2lkKyciPicpLHRoaXMuJGJ0dG5fd3JhcHBlcj10aGlzLiRlZGl0b3IuZmluZCgiI2J0dG4td3JhcHBlci0iK3RoaXMuX2lkKSx0aGlzLm1vYmlsZSgpJiZ0aGlzLiRidHRuX3dyYXBwZXIuYWRkQ2xhc3MoInRvdWNoIik7Zm9yKHZhciBjLGQsZT0iIixmPTA7Zjx0aGlzLm9wdGlvbnMuYnV0dG9ucy5sZW5ndGg7ZisrKXt2YXIgZz10aGlzLm9wdGlvbnMuYnV0dG9uc1tmXTtpZigic2VwIiE9Zyl7dmFyIGg9Yi5jb21tYW5kc1tnXTtpZih2b2lkIDAhPT1oKXtoLmNtZD1nO3ZhciBpPXRoaXMuY29tbWFuZF9kaXNwYXRjaGVyW2guY21kXTtpP2UrPWkuYXBwbHkodGhpcyxbaF0pOmguc2VlZD8oYz10aGlzLmJ1aWxkRGVmYXVsdERyb3Bkb3duKGgpLGQ9dGhpcy5idWlsZERyb3Bkb3duQnV0dG9uKGgsYyksZSs9ZCk6KGQ9dGhpcy5idWlsZERlZmF1bHRCdXR0b24oaCksZSs9ZCx0aGlzLmJpbmRSZWZyZXNoTGlzdGVuZXIoaCkpfWVsc2V7aWYoaD10aGlzLm9wdGlvbnMuY3VzdG9tQnV0dG9uc1tnXSx2b2lkIDA9PT1oKXtpZihoPXRoaXMub3B0aW9ucy5jdXN0b21Ecm9wZG93bnNbZ10sdm9pZCAwPT09aCljb250aW51ZTtkPXRoaXMuYnVpbGRDdXN0b21Ecm9wZG93bihoLGcpLGUrPWQsdGhpcy5iaW5kUmVmcmVzaExpc3RlbmVyKGgpO2NvbnRpbnVlfWQ9dGhpcy5idWlsZEN1c3RvbUJ1dHRvbihoLGcpLGUrPWQsdGhpcy5iaW5kUmVmcmVzaExpc3RlbmVyKGgpfX1lbHNlIGUrPXRoaXMub3B0aW9ucy5pbmxpbmVNb2RlPyc8ZGl2IGNsYXNzPSJmLWNsZWFyIj48L2Rpdj48aHIvPic6JzxzcGFuIGNsYXNzPSJmLXNlcCI+PC9zcGFuPid9dGhpcy4kYnR0bl93cmFwcGVyLmh0bWwoZSksdGhpcy4kYnR0bl93cmFwcGVyLmZpbmQoJ2J1dHRvbltkYXRhLWNtZD0idW5kbyJdLCBidXR0b25bZGF0YS1jbWQ9InJlZG8iXScpLnByb3AoImRpc2FibGVkIiwhMCksdGhpcy5iaW5kQnV0dG9uRXZlbnRzKCl9LGIucHJvdG90eXBlLmJpbmRSZWZyZXNoTGlzdGVuZXI9ZnVuY3Rpb24oYil7Yi5yZWZyZXNoJiZ0aGlzLmFkZExpc3RlbmVyKCJyZWZyZXNoIixhLnByb3h5KGZ1bmN0aW9uKCl7Yi5yZWZyZXNoLmFwcGx5KHRoaXMsW2IuY21kXSl9LHRoaXMpKX0sYi5wcm90b3R5cGUuYnVpbGREZWZhdWx0QnV0dG9uPWZ1bmN0aW9uKGEpe3ZhciBiPSc8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImZyLWJ0dG4iIHRpdGxlPSInK2EudGl0bGUrJyIgZGF0YS1jbWQ9IicrYS5jbWQrJyI+JztyZXR1cm4gYis9dm9pZCAwPT09dGhpcy5vcHRpb25zLmljb25zW2EuY21kXT90aGlzLmFkZEJ1dHRvbkljb24oYSk6dGhpcy5wcmVwYXJlSWNvbih0aGlzLm9wdGlvbnMuaWNvbnNbYS5jbWRdLGEudGl0bGUpLGIrPSI8L2J1dHRvbj4ifSxiLnByb3RvdHlwZS5wcmVwYXJlSWNvbj1mdW5jdGlvbihhLGIpe3N3aXRjaChhLnR5cGUpe2Nhc2UiZm9udCI6cmV0dXJuIHRoaXMuYWRkQnV0dG9uSWNvbih7aWNvbjphLnZhbHVlfSk7Y2FzZSJpbWciOnJldHVybiB0aGlzLmFkZEJ1dHRvbkljb24oe2ljb25faW1nOmEudmFsdWUsdGl0bGU6Yn0pO2Nhc2UidHh0IjpyZXR1cm4gdGhpcy5hZGRCdXR0b25JY29uKHtpY29uX3R4dDphLnZhbHVlfSl9fSxiLnByb3RvdHlwZS5hZGRCdXR0b25JY29uPWZ1bmN0aW9uKGEpe3JldHVybiBhLmljb24/JzxpIGNsYXNzPSInK2EuaWNvbisnIj48L2k+JzphLmljb25fYWx0Pyc8aSBjbGFzcz0iZm9yLXRleHQiPicrYS5pY29uX2FsdCsiPC9pPiI6YS5pY29uX2ltZz8nPGltZyBzcmM9IicrYS5pY29uX2ltZysnIiBhbHQ9IicrYS50aXRsZSsnIi8+JzphLmljb25fdHh0PyI8aT4iK2EuaWNvbl90eHQrIjwvaT4iOmEudGl0bGV9LGIucHJvdG90eXBlLmJ1aWxkQ3VzdG9tQnV0dG9uPWZ1bmN0aW9uKGEsYil7dGhpc1siY2FsbF8iK2JdPWEuY2FsbGJhY2s7dmFyIGM9JzxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iZnItYnR0biIgZGF0YS1jYWxsYmFjaz0iY2FsbF8nK2IrJyIgZGF0YS1jbWQ9ImJ1dHRvbl9uYW1lIiBkYXRhLW5hbWU9IicrYisnIiB0aXRsZT0iJythLnRpdGxlKyciPicrdGhpcy5wcmVwYXJlSWNvbihhLmljb24sYS50aXRsZSkrIjwvYnV0dG9uPiI7cmV0dXJuIGN9LGIucHJvdG90eXBlLmNhbGxEcm9wZG93bj1mdW5jdGlvbihiLGMpe3RoaXMuJGJ0dG5fd3JhcHBlci5vbigiY2xpY2sgdG91Y2giLCdbZGF0YS1uYW1lPSInK2IrJyJdJyxhLnByb3h5KGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpLGMuYXBwbHkodGhpcyl9LHRoaXMpKX0sYi5wcm90b3R5cGUuYnVpbGRDdXN0b21Ecm9wZG93bj1mdW5jdGlvbihhLGIpe3ZhciBjPSc8ZGl2IGNsYXNzPSJmci1idHRuIGZyLWRyb3Bkb3duIj4nO2MrPSc8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImZyLXRyaWdnZXIiIHRpdGxlPSInK2EudGl0bGUrJyIgZGF0YS1uYW1lPSInK2IrJyI+Jyt0aGlzLnByZXBhcmVJY29uKGEuaWNvbixhLnRpdGxlKSsiPC9idXR0b24+IixjKz0nPHVsIGNsYXNzPSJmci1kcm9wZG93bi1tZW51Ij4nO3ZhciBkPTA7Zm9yKHZhciBlIGluIGEub3B0aW9ucyl7dGhpc1siY2FsbF8iK2IrZF09YS5vcHRpb25zW2VdO3ZhciBmPSc8bGkgZGF0YS1jYWxsYmFjaz0iY2FsbF8nK2IrZCsnIiBkYXRhLWNtZD0iJytiK2QrJyIgZGF0YS1uYW1lPSInK2IrZCsnIj48YSBocmVmPSIjIj4nK2UrIjwvYT48L2xpPiI7Yys9ZixkKyt9cmV0dXJuIGMrPSI8L3VsPjwvZGl2PiJ9LGIucHJvdG90eXBlLmJ1aWxkRHJvcGRvd25CdXR0b249ZnVuY3Rpb24oYSxiLGMpe2M9Y3x8IiI7dmFyIGQ9JzxkaXYgY2xhc3M9ImZyLWJ0dG4gZnItZHJvcGRvd24gJytjKyciPicsZT0iIjtlKz12b2lkIDA9PT10aGlzLm9wdGlvbnMuaWNvbnNbYS5jbWRdP3RoaXMuYWRkQnV0dG9uSWNvbihhKTp0aGlzLnByZXBhcmVJY29uKHRoaXMub3B0aW9ucy5pY29uc1thLmNtZF0sYS50aXRsZSk7dmFyIGY9JzxidXR0b24gdHlwZT0iYnV0dG9uIiBkYXRhLW5hbWU9IicrYS5jbWQrJyIgY2xhc3M9ImZyLXRyaWdnZXIiIHRpdGxlPSInK2EudGl0bGUrJyI+JytlKyI8L2J1dHRvbj4iO3JldHVybiBkKz1mLGQrPWIsZCs9IjwvZGl2PiJ9LGIucHJvdG90eXBlLmJ1aWxkRHJvcGRvd25BbGlnbj1mdW5jdGlvbihhKXt0aGlzLmJpbmRSZWZyZXNoTGlzdGVuZXIoYSk7Zm9yKHZhciBiPSc8dWwgY2xhc3M9ImZyLWRyb3Bkb3duLW1lbnUgZi1hbGlnbiI+JyxjPTA7YzxhLnNlZWQubGVuZ3RoO2MrKyl7dmFyIGQ9YS5zZWVkW2NdO2IrPSc8bGkgZGF0YS1jbWQ9ImFsaWduIiBkYXRhLXZhbD0iJytkLmNtZCsnIiB0aXRsZT0iJytkLnRpdGxlKyciPjxhIGhyZWY9IiMiPjxpIGNsYXNzPSInK2QuaWNvbisnIj48L2k+PC9hPjwvbGk+J31yZXR1cm4gYis9IjwvdWw+In0sYi5wcm90b3R5cGUuYnVpbGREcm9wZG93bkZvcm1hdEJsb2NrPWZ1bmN0aW9uKGEpe3ZhciBiPSc8dWwgY2xhc3M9ImZyLWRyb3Bkb3duLW1lbnUiPic7Zm9yKHZhciBjIGluIHRoaXMub3B0aW9ucy5ibG9ja1RhZ3Mpe3ZhciBkPSc8bGkgZGF0YS1jbWQ9IicrYS5jbWQrJyIgZGF0YS12YWw9IicrYysnIj4nO2QrPSc8YSBocmVmPSIjIiBkYXRhLXRleHQ9InRydWUiIGNsYXNzPSJmb3JtYXQtJytjKyciIHRpdGxlPSInK3RoaXMub3B0aW9ucy5ibG9ja1RhZ3NbY10rJyI+Jyt0aGlzLm9wdGlvbnMuYmxvY2tUYWdzW2NdKyI8L2E+PC9saT4iLGIrPWR9cmV0dXJuIGIrPSI8L3VsPiJ9LGIucHJvdG90eXBlLmJ1aWxkRGVmYXVsdERyb3Bkb3duPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0nPHVsIGNsYXNzPSJmci1kcm9wZG93bi1tZW51Ij4nLGM9MDtjPGEuc2VlZC5sZW5ndGg7YysrKXt2YXIgZD1hLnNlZWRbY10sZT0nPGxpIGRhdGEtY21kPSInKyhkLmNtZHx8YS5jbWQpKyciIGRhdGEtdmFsPSInK2QudmFsdWUrJyIgZGF0YS1wYXJhbT0iJysoZC5wYXJhbXx8YS5wYXJhbSkrJyI+JztlKz0nPGEgaHJlZj0iIyIgZGF0YS10ZXh0PSJ0cnVlIiBjbGFzcz0iJytkLnZhbHVlKyciIHRpdGxlPSInK2QudGl0bGUrJyI+JytkLnRpdGxlKyI8L2E+PC9saT4iLGIrPWV9cmV0dXJuIGIrPSI8L3VsPiJ9LGIucHJvdG90eXBlLmNyZWF0ZUVkaXRQb3B1cEhUTUw9ZnVuY3Rpb24oKXt2YXIgYT0nPGRpdiBjbGFzcz0iZnJvYWxhLXBvcHVwIGZyb2FsYS10ZXh0LXBvcHVwIiBzdHlsZT0iZGlzcGxheTpub25lOyI+JztyZXR1cm4gYSs9JzxoND48c3BhbiBkYXRhLXRleHQ9InRydWUiPkVkaXQgdGV4dDwvc3Bhbj48aSB0aXRsZT0iQ2FuY2VsIiBjbGFzcz0iZmEgZmEtdGltZXMiIGlkPSJmLXRleHQtY2xvc2UtJyt0aGlzLl9pZCsnIj48L2k+PC9oND48L2g0PicsYSs9JzxkaXYgY2xhc3M9ImYtcG9wdXAtbGluZSI+PGlucHV0IHR5cGU9InRleHQiIHBsYWNlaG9sZGVyPSJodHRwOi8vd3d3LmV4YW1wbGUuY29tIiBjbGFzcz0iZi1sdSIgaWQ9ImYtdGktJyt0aGlzLl9pZCsnIj4nLGErPSc8YnV0dG9uIGRhdGEtdGV4dD0idHJ1ZSIgdHlwZT0iYnV0dG9uIiBjbGFzcz0iZi1vayIgaWQ9ImYtZWRpdC1wb3B1cC1vay0nK3RoaXMuX2lkKyciPk9LPC9idXR0b24+JyxhKz0iPC9kaXY+IixhKz0iPC9kaXY+In0sYi5wcm90b3R5cGUuYnVpbGRFZGl0UG9wdXA9ZnVuY3Rpb24oKXt0aGlzLiRlZGl0X3BvcHVwX3dyYXBwZXI9YSh0aGlzLmNyZWF0ZUVkaXRQb3B1cEhUTUwoKSksdGhpcy4kcG9wdXBfZWRpdG9yLmFwcGVuZCh0aGlzLiRlZGl0X3BvcHVwX3dyYXBwZXIpLHRoaXMuJGVkaXRfcG9wdXBfd3JhcHBlci5maW5kKCIjZi10aS0iK3RoaXMuX2lkKS5vbigibW91c2V1cCBrZXlkb3duIixmdW5jdGlvbihhKXthLnN0b3BQcm9wYWdhdGlvbigpfSksdGhpcy5hZGRMaXN0ZW5lcigiaGlkZVBvcHVwcyIsYS5wcm94eShmdW5jdGlvbigpe3RoaXMuJGVkaXRfcG9wdXBfd3JhcHBlci5oaWRlKCl9LHRoaXMpKSx0aGlzLiRlZGl0X3BvcHVwX3dyYXBwZXIub24oImNsaWNrIiwiI2YtZWRpdC1wb3B1cC1vay0iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LnRleHQodGhpcy4kZWRpdF9wb3B1cF93cmFwcGVyLmZpbmQoIiNmLXRpLSIrdGhpcy5faWQpLnZhbCgpKSx0aGlzLnN5bmMoKSx0aGlzLmhpZGUoKX0sdGhpcykpLHRoaXMuJGVkaXRfcG9wdXBfd3JhcHBlci5vbigiY2xpY2siLCJpI2YtdGV4dC1jbG9zZS0iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmhpZGUoKX0sdGhpcykpfSxiLnByb3RvdHlwZS5jcmVhdGVDT1JTUmVxdWVzdD1mdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBYTUxIdHRwUmVxdWVzdDtpZigid2l0aENyZWRlbnRpYWxzImluIGMpe2Mub3BlbihhLGIsITApLHRoaXMub3B0aW9ucy53aXRoQ3JlZGVudGlhbHMmJihjLndpdGhDcmVkZW50aWFscz0hMCk7Zm9yKHZhciBkIGluIHRoaXMub3B0aW9ucy5oZWFkZXJzKWMuc2V0UmVxdWVzdEhlYWRlcihkLHRoaXMub3B0aW9ucy5oZWFkZXJzW2RdKX1lbHNlInVuZGVmaW5lZCIhPXR5cGVvZiBYRG9tYWluUmVxdWVzdD8oYz1uZXcgWERvbWFpblJlcXVlc3QsYy5vcGVuKGEsYikpOmM9bnVsbDtyZXR1cm4gY30sYi5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKGIpe3JldHVybiBhLmluQXJyYXkoYix0aGlzLm9wdGlvbnMuYnV0dG9ucyk+PTB9LGIucHJvdG90eXBlLmJpbmRCdXR0b25FdmVudHM9ZnVuY3Rpb24oKXt0aGlzLmJpbmREcm9wZG93bkV2ZW50cygpLHRoaXMuYmluZENvbW1hbmRFdmVudHModGhpcy4kYnR0bl93cmFwcGVyKX0sYi5wcm90b3R5cGUuYmluZERyb3Bkb3duRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGM9dGhpczt0aGlzLiRidHRuX3dyYXBwZXIub24odGhpcy5tb3VzZWRvd24sIi5mci1kcm9wZG93biAuZnItdHJpZ2dlcjpub3QoW2Rpc2FibGVkXSkiLGZ1bmN0aW9uKGIpe3JldHVybiJtb3VzZWRvd24iPT09Yi50eXBlJiYxIT09Yi53aGljaD8hMDooIkxJIj09PXRoaXMudGFnTmFtZSYmInRvdWNoc3RhcnQiPT09Yi50eXBlJiZjLmFuZHJvaWQoKXx8Yy5pT1MoKXx8Yi5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgYSh0aGlzKS5hdHRyKCJkYXRhLWRvd24iLCEwKSl9KSx0aGlzLiRidHRuX3dyYXBwZXIub24odGhpcy5tb3VzZXVwLCIuZnItZHJvcGRvd24gLmZyLXRyaWdnZXI6bm90KFtkaXNhYmxlZF0pIixmdW5jdGlvbihkKXtpZihjLmlzRGlzYWJsZWQpcmV0dXJuITE7aWYoZC5zdG9wUHJvcGFnYXRpb24oKSxkLnByZXZlbnREZWZhdWx0KCksIWEodGhpcykuYXR0cigiZGF0YS1kb3duIikpcmV0dXJuIGEoIltkYXRhLWRvd25dIikucmVtb3ZlQXR0cigiZGF0YS1kb3duIiksITE7YSgiW2RhdGEtZG93bl0iKS5yZW1vdmVBdHRyKCJkYXRhLWRvd24iKSxjLm9wdGlvbnMuaW5saW5lTW9kZT09PSExJiZjLmhpZGUoKSxhKHRoaXMpLnRvZ2dsZUNsYXNzKCJhY3RpdmUiKS50cmlnZ2VyKCJibHVyIiksYy5jbG9zZUltYWdlTW9kZSgpLGMuaW1hZ2VNb2RlPSExO3ZhciBlLGY9YSh0aGlzKS5hdHRyKCJkYXRhLW5hbWUiKTtyZXR1cm4gYi5jb21tYW5kc1tmXT9lPWIuY29tbWFuZHNbZl0ucmVmcmVzaE9uU2hvdzpjLm9wdGlvbnMuY3VzdG9tRHJvcGRvd25zW2ZdJiYoZT1jLm9wdGlvbnMuY3VzdG9tRHJvcGRvd25zW2ZdLnJlZnJlc2hPblNob3cpLGUmJmUuY2FsbChjKSxjLiRidHRuX3dyYXBwZXIuZmluZCgiLmZyLWRyb3Bkb3duIikubm90KGEodGhpcykucGFyZW50KCkpLmZpbmQoIi5mci10cmlnZ2VyIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpLCExfSksdGhpcy4kYnR0bl93cmFwcGVyLm9uKHRoaXMubW91c2V1cCwiLmZyLWRyb3Bkb3duIixmdW5jdGlvbihhKXthLnN0b3BQcm9wYWdhdGlvbigpLGEucHJldmVudERlZmF1bHQoKX0pLGEod2luZG93KS5vbigibW91c2V1cCBzZWxlY3Rpb25jaGFuZ2UiLGEucHJveHkoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0Rpc2FibGVkPyExOnZvaWQgdGhpcy4kYnR0bl93cmFwcGVyLmZpbmQoIi5mci1kcm9wZG93biAuZnItdHJpZ2dlciIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKX0sdGhpcykpLHRoaXMuJGVsZW1lbnQub24oIm1vdXNldXAiLCJpbWcsIGEiLGEucHJveHkoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0Rpc2FibGVkPyExOnZvaWQgdGhpcy4kYnR0bl93cmFwcGVyLmZpbmQoIi5mci1kcm9wZG93biAuZnItdHJpZ2dlciIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKX0sdGhpcykpLHRoaXMuJGJ0dG5fd3JhcHBlci5vbigiY2xpY2siLCJsaVtkYXRhLWNtZF0gPiBhIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCl9KX0sYi5wcm90b3R5cGUuYmluZENvbW1hbmRFdmVudHM9ZnVuY3Rpb24oYil7dmFyIGM9dGhpcztiLm9uKHRoaXMubW91c2Vkb3duLCJidXR0b25bZGF0YS1jbWRdLCBsaVtkYXRhLWNtZF0sIHNwYW5bZGF0YS1jbWRdLCBhW2RhdGEtY21kXSIsZnVuY3Rpb24oYil7cmV0dXJuIm1vdXNlZG93biI9PT1iLnR5cGUmJjEhPT1iLndoaWNoPyEwOigiTEkiPT09dGhpcy50YWdOYW1lJiYidG91Y2hzdGFydCI9PT1iLnR5cGUmJmMuYW5kcm9pZCgpfHxjLmlPUygpfHxiLnByZXZlbnREZWZhdWx0KCksdm9pZCBhKHRoaXMpLmF0dHIoImRhdGEtZG93biIsITApKX0pLGIub24odGhpcy5tb3VzZXVwKyIgIit0aGlzLm1vdmUsImJ1dHRvbltkYXRhLWNtZF0sIGxpW2RhdGEtY21kXSwgc3BhbltkYXRhLWNtZF0sIGFbZGF0YS1jbWRdIixhLnByb3h5KGZ1bmN0aW9uKGIpe2lmKGMuaXNEaXNhYmxlZClyZXR1cm4hMTtpZigibW91c2V1cCI9PT1iLnR5cGUmJjEhPT1iLndoaWNoKXJldHVybiEwO3ZhciBkPWIuY3VycmVudFRhcmdldDtpZigidG91Y2htb3ZlIiE9Yi50eXBlKXtpZihiLnN0b3BQcm9wYWdhdGlvbigpLGIucHJldmVudERlZmF1bHQoKSwhYShkKS5hdHRyKCJkYXRhLWRvd24iKSlyZXR1cm4gYSgiW2RhdGEtZG93bl0iKS5yZW1vdmVBdHRyKCJkYXRhLWRvd24iKSwhMTtpZihhKCJbZGF0YS1kb3duXSIpLnJlbW92ZUF0dHIoImRhdGEtZG93biIpLGEoZCkuZGF0YSgiZHJhZ2dpbmciKSlyZXR1cm4gYShkKS5yZW1vdmVEYXRhKCJkcmFnZ2luZyIpLCExO3ZhciBlPWEoZCkuZGF0YSgidGltZW91dCIpO2UmJihjbGVhclRpbWVvdXQoZSksYShkKS5yZW1vdmVEYXRhKCJ0aW1lb3V0IikpO3ZhciBmPWEoZCkuZGF0YSgiY2FsbGJhY2siKTtpZihmKWNbZl0oKTtlbHNle3ZhciBnPWEoZCkuYXR0cigiZGF0YS1jbWQiKSxoPWEoZCkuYXR0cigiZGF0YS12YWwiKSxpPWEoZCkuYXR0cigiZGF0YS1wYXJhbSIpO2MuZXhlYyhnLGgsaSksYy4kYnR0bl93cmFwcGVyLmZpbmQoIi5mci1kcm9wZG93biAuZnItdHJpZ2dlciIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKX1yZXR1cm4hMX1hKGQpLmRhdGEoInRpbWVvdXQiKXx8YShkKS5kYXRhKCJ0aW1lb3V0IixzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YShkKS5kYXRhKCJkcmFnZ2luZyIsITApfSwyMDApKX0sdGhpcykpfSxiLnByb3RvdHlwZS51bmRvPWZ1bmN0aW9uKCl7aWYodGhpcy5ub192ZXJpZnk9ITAsdGhpcy51bmRvSW5kZXg+MSl7Y2xlYXJUaW1lb3V0KHRoaXMudHlwaW5nVGltZXIpO3ZhciBhPXRoaXMuZ2V0SFRNTCgpLGI9dGhpcy51bmRvU3RhY2tbLS10aGlzLnVuZG9JbmRleC0xXTt0aGlzLiRlbGVtZW50Lmh0bWwoYiksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCksdGhpcy5kb2luZ1JlZG89ITAsdGhpcy50cmlnZ2VyRXZlbnQoInVuZG8iLFt0aGlzLmdldEhUTUwoKSxhXSksdGhpcy5kb2luZ1JlZG89ITEsIiIhPT10aGlzLnRleHQoKT90aGlzLnJlcG9zaXRpb25FZGl0b3IoKTp0aGlzLmhpZGUoKSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoInBsYWNlaG9sZGVyQ2hlY2siKSx0aGlzLmZvY3VzKCksdGhpcy5yZWZyZXNoQnV0dG9ucygpfXRoaXMubm9fdmVyaWZ5PSExfSxiLnByb3RvdHlwZS5yZWRvPWZ1bmN0aW9uKCl7aWYodGhpcy5ub192ZXJpZnk9ITAsdGhpcy51bmRvSW5kZXg8dGhpcy51bmRvU3RhY2subGVuZ3RoKXtjbGVhclRpbWVvdXQodGhpcy50eXBpbmdUaW1lcik7dmFyIGE9dGhpcy5nZXRIVE1MKCksYj10aGlzLnVuZG9TdGFja1t0aGlzLnVuZG9JbmRleCsrXTt0aGlzLiRlbGVtZW50Lmh0bWwoYiksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCksdGhpcy5kb2luZ1JlZG89ITAsdGhpcy50cmlnZ2VyRXZlbnQoInJlZG8iLFt0aGlzLmdldEhUTUwoKSxhXSksdGhpcy5kb2luZ1JlZG89ITEsIiIhPT10aGlzLnRleHQoKT90aGlzLnJlcG9zaXRpb25FZGl0b3IoKTp0aGlzLmhpZGUoKSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoInBsYWNlaG9sZGVyQ2hlY2siKSx0aGlzLmZvY3VzKCksdGhpcy5yZWZyZXNoQnV0dG9ucygpfXRoaXMubm9fdmVyaWZ5PSExfSxiLnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKCl7aWYoIXRoaXMudHJpZ2dlckV2ZW50KCJiZWZvcmVTYXZlIixbXSwhMSkpcmV0dXJuITE7aWYodGhpcy5vcHRpb25zLnNhdmVVUkwpe3ZhciBiPXt9O2Zvcih2YXIgYyBpbiB0aGlzLm9wdGlvbnMuc2F2ZVBhcmFtcyl7dmFyIGQ9dGhpcy5vcHRpb25zLnNhdmVQYXJhbXNbY107YltjXT0iZnVuY3Rpb24iPT10eXBlb2YgZD9kLmNhbGwodGhpcyk6ZH1hLmFqYXgoe3R5cGU6dGhpcy5vcHRpb25zLnNhdmVSZXF1ZXN0VHlwZSx1cmw6dGhpcy5vcHRpb25zLnNhdmVVUkwsZGF0YTphLmV4dGVuZCh7Ym9keTp0aGlzLmdldEhUTUwoKX0sdGhpcy5vcHRpb25zLnNhdmVQYXJhbXMpLGNyb3NzRG9tYWluOnRoaXMub3B0aW9ucy5jcm9zc0RvbWFpbix4aHJGaWVsZHM6e3dpdGhDcmVkZW50aWFsczp0aGlzLm9wdGlvbnMud2l0aENyZWRlbnRpYWxzfSxoZWFkZXJzOnRoaXMub3B0aW9ucy5oZWFkZXJzfSkuZG9uZShhLnByb3h5KGZ1bmN0aW9uKGEpe3RoaXMudHJpZ2dlckV2ZW50KCJhZnRlclNhdmUiLFthXSl9LHRoaXMpKS5mYWlsKGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLnRyaWdnZXJFdmVudCgic2F2ZUVycm9yIixbIlNhdmUgcmVxdWVzdCBmYWlsZWQgb24gdGhlIHNlcnZlci4iXSl9LHRoaXMpKX1lbHNlIHRoaXMudHJpZ2dlckV2ZW50KCJzYXZlRXJyb3IiLFsiTWlzc2luZyBzYXZlIFVSTC4iXSl9LGIucHJvdG90eXBlLnNhbml0aXplVVJMPWZ1bmN0aW9uKGEpe2lmKC9eaHR0cHM/OlwvXC8vLnRlc3QoYSkpe2E9U3RyaW5nKGEpLnJlcGxhY2UoLzwvZywiJTNDIikucmVwbGFjZSgvPi9nLCIlM0UiKS5yZXBsYWNlKC8iL2csIiUyMiIpLnJlcGxhY2UoLyAvZywiJTIwIik7dmFyIGI9L1woPyg/OihodHRwfGh0dHBzfGZ0cCk6XC9cLyk/KD86KCg/OlteXFdcc118XC58LXxbOl17MX0pKylAezF9KT8oKD86d3d3Lik/KD86W15cV1xzXXxcLnwtKStbXC5dW15cV1xzXXsyLDR9fCg/Ond3dy4pPyg/OlteXFdcc118XC58LSl8bG9jYWxob3N0fFxkezEsM31cLlxkezEsM31cLlxkezEsM31cLlxkezEsM30pKD86OihcZCopKT8oW1wvXT9bXlxzXD9dKltcL117MX0pKig/OlwvPyhbXlxzXG5cP1xbXF1ce1x9XCNdKig/Oig/PVwuKSl7MX18W15cc1xuXD9cW1xdXHtcfVwuXCNdKik/KFtcLl17MX1bXlxzXD9cI10qKT8pPyg/Olw/ezF9KFteXHNcblwjXFtcXV0qKSk/KFtcI11bXlxzXG5dKik/XCk/L2dpOwppZighYi50ZXN0KGEpKXJldHVybiIifWVsc2UgYT1lbmNvZGVVUklDb21wb25lbnQoYSkucmVwbGFjZSgvJTIzL2csIiMiKS5yZXBsYWNlKC8lMkYvZywiLyIpLnJlcGxhY2UoLyUyNS9nLCIlIikucmVwbGFjZSgvbWFpbHRvJTNBL2csIm1haWx0bzoiKS5yZXBsYWNlKC90ZWwlM0EvZywidGVsOiIpLnJlcGxhY2UoL2RhdGElM0FpbWFnZS9nLCJkYXRhOmltYWdlIikucmVwbGFjZSgvd2Via2l0LWZha2UtdXJsJTNBL2csIndlYmtpdC1mYWtlLXVybDoiKS5yZXBsYWNlKC8lM0YvZywiPyIpLnJlcGxhY2UoLyUzRC9nLCI9IikucmVwbGFjZSgvJTI2L2csIiYiKS5yZXBsYWNlKC8mYW1wOy9nLCImIikucmVwbGFjZSgvJTJDL2csIiwiKS5yZXBsYWNlKC8lM0IvZywiOyIpLnJlcGxhY2UoLyUyQi9nLCIrIikucmVwbGFjZSgvJTQwL2csIkAiKTtyZXR1cm4gYX0sYi5wcm90b3R5cGUub3B0aW9uPWZ1bmN0aW9uKGIsYyl7aWYodm9pZCAwPT09YilyZXR1cm4gdGhpcy5vcHRpb25zO2lmKGIgaW5zdGFuY2VvZiBPYmplY3QpdGhpcy5vcHRpb25zPWEuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyxiKSx0aGlzLmluaXRPcHRpb25zKCksdGhpcy5zZXRDdXN0b21UZXh0KCksdGhpcy5zZXRMYW5ndWFnZSgpO2Vsc2V7aWYodm9pZCAwPT09YylyZXR1cm4gdGhpcy5vcHRpb25zW2JdO3N3aXRjaCh0aGlzLm9wdGlvbnNbYl09YyxiKXtjYXNlImRpcmVjdGlvbiI6dGhpcy5zZXREaXJlY3Rpb24oKTticmVhaztjYXNlImhlaWdodCI6Y2FzZSJ3aWR0aCI6Y2FzZSJtaW5IZWlnaHQiOmNhc2UibWF4SGVpZ2h0Ijp0aGlzLnNldERpbWVuc2lvbnMoKTticmVhaztjYXNlInNwZWxsY2hlY2siOnRoaXMuc2V0U3BlbGxjaGVjaygpO2JyZWFrO2Nhc2UicGxhY2Vob2xkZXIiOnRoaXMuc2V0UGxhY2Vob2xkZXIoKTticmVhaztjYXNlImN1c3RvbVRleHQiOnRoaXMuc2V0Q3VzdG9tVGV4dCgpO2JyZWFrO2Nhc2UibGFuZ3VhZ2UiOnRoaXMuc2V0TGFuZ3VhZ2UoKTticmVhaztjYXNlInRleHROZWFySW1hZ2UiOnRoaXMuc2V0VGV4dE5lYXJJbWFnZSgpO2JyZWFrO2Nhc2UiekluZGV4Ijp0aGlzLnNldFpJbmRleCgpO2JyZWFrO2Nhc2UidGhlbWUiOnRoaXMuc2V0VGhlbWUoKX19fTt2YXIgYz1hLmZuLmVkaXRhYmxlO2EuZm4uZWRpdGFibGU9ZnVuY3Rpb24oYyl7Zm9yKHZhciBkPVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKWQucHVzaChhcmd1bWVudHNbZV0pO2lmKCJzdHJpbmciPT10eXBlb2YgYyl7dmFyIGY9W107cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksZT1iLmRhdGEoImZhLmVkaXRhYmxlIik7aWYoIWVbY10pcmV0dXJuIGEuZXJyb3IoIk1ldGhvZCAiK2MrIiBkb2VzIG5vdCBleGlzdCBpbiBGcm9hbGEgRWRpdG9yLiIpO3ZhciBnPWVbY10uYXBwbHkoZSxkLnNsaWNlKDEpKTt2b2lkIDA9PT1nP2YucHVzaCh0aGlzKTowPT09Zi5sZW5ndGgmJmYucHVzaChnKX0pLDE9PWYubGVuZ3RoP2ZbMF06Zn1yZXR1cm4ib2JqZWN0IiE9dHlwZW9mIGMmJmM/dm9pZCAwOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPXRoaXMsZT1hKGQpLGY9ZS5kYXRhKCJmYS5lZGl0YWJsZSIpO2Z8fGUuZGF0YSgiZmEuZWRpdGFibGUiLGY9bmV3IGIoZCxjKSl9KX0sYS5mbi5lZGl0YWJsZS5Db25zdHJ1Y3Rvcj1iLGEuRWRpdGFibGU9YixhLmZuLmVkaXRhYmxlLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYS5mbi5lZGl0YWJsZT1jLHRoaXN9fSh3aW5kb3cualF1ZXJ5KSxmdW5jdGlvbihhKXthLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoQnV0dG9ucz1mdW5jdGlvbihiKXtpZighKHRoaXMuc2VsZWN0aW9uSW5FZGl0b3IoKSYmIXRoaXMuaXNIVE1MfHx0aGlzLmJyb3dzZXIubXNpZSYmYS5FZGl0YWJsZS5nZXRJRXZlcnNpb24oKTw5fHxiKSlyZXR1cm4hMTt0aGlzLiRlZGl0b3IuZmluZCgiYnV0dG9uW2RhdGEtY21kXSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKTtmb3IodmFyIGM9MDtjPHRoaXMub3B0aW9ucy5idXR0b25zLmxlbmd0aDtjKyspe3ZhciBkPXRoaXMub3B0aW9ucy5idXR0b25zW2NdO2lmKHZvaWQgMCE9PWEuRWRpdGFibGUuY29tbWFuZHNbZF0pe3ZhciBlPSExO2EuaXNGdW5jdGlvbihhLkVkaXRhYmxlLmNvbW1hbmRzW2RdLmRpc2FibGVkKT9lPWEuRWRpdGFibGUuY29tbWFuZHNbZF0uZGlzYWJsZWQuYXBwbHkodGhpcyk6dm9pZCAwIT09YS5FZGl0YWJsZS5jb21tYW5kc1tkXS5kaXNhYmxlZCYmKGU9ITApLGU/dGhpcy4kZWRpdG9yLmZpbmQoJ2J1dHRvbltkYXRhLW5hbWU9IicrZCsnIl0nKS5wcm9wKCJkaXNhYmxlZCIsITApOnRoaXMuJGVkaXRvci5maW5kKCdidXR0b25bZGF0YS1uYW1lPSInK2QrJyJdJykucmVtb3ZlQXR0cigiZGlzYWJsZWQiKX19dGhpcy5yYWlzZUV2ZW50KCJyZWZyZXNoIil9LGEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hGb3JtYXRCbG9ja3M9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFNlbGVjdGlvbkVsZW1lbnRzKClbMF0sYj1hLnRhZ05hbWUudG9Mb3dlckNhc2UoKTt0aGlzLm9wdGlvbnMucGFyYWdyYXBoeSYmInAiPT09YiYmKGI9Im4iKSx0aGlzLiRlZGl0b3IuZmluZCgnLmZyLWJ0dG4gPiBidXR0b25bZGF0YS1uYW1lPSJmb3JtYXRCbG9jayJdICsgdWwgbGknKS5yZW1vdmVDbGFzcygiYWN0aXZlIiksdGhpcy4kYnR0bl93cmFwcGVyLmZpbmQoJy5mci1idHRuID4gYnV0dG9uW2RhdGEtbmFtZT0iZm9ybWF0QmxvY2siXSArIHVsIGxpW2RhdGEtdmFsPSInK2IrJyJdJykuYWRkQ2xhc3MoImFjdGl2ZSIpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoVW5kbz1mdW5jdGlvbigpe2lmKHRoaXMuaXNFbmFibGVkKCJ1bmRvIikpe2lmKHZvaWQgMD09PXRoaXMuJGVkaXRvcilyZXR1cm47dGhpcy4kYnR0bl93cmFwcGVyLmZpbmQoJ1tkYXRhLWNtZD0idW5kbyJdJykucmVtb3ZlQXR0cigiZGlzYWJsZWQiKSwoMD09PXRoaXMudW5kb1N0YWNrLmxlbmd0aHx8dGhpcy51bmRvSW5kZXg8PTF8fHRoaXMuaXNIVE1MKSYmdGhpcy4kYnR0bl93cmFwcGVyLmZpbmQoJ1tkYXRhLWNtZD0idW5kbyJdJykucHJvcCgiZGlzYWJsZWQiLCEwKX19LGEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hSZWRvPWZ1bmN0aW9uKCl7aWYodGhpcy5pc0VuYWJsZWQoInJlZG8iKSl7aWYodm9pZCAwPT09dGhpcy4kZWRpdG9yKXJldHVybjt0aGlzLiRidHRuX3dyYXBwZXIuZmluZCgnW2RhdGEtY21kPSJyZWRvIl0nKS5yZW1vdmVBdHRyKCJkaXNhYmxlZCIpLCh0aGlzLnVuZG9JbmRleD09dGhpcy51bmRvU3RhY2subGVuZ3RofHx0aGlzLmlzSFRNTCkmJnRoaXMuJGJ0dG5fd3JhcHBlci5maW5kKCdbZGF0YS1jbWQ9InJlZG8iXScpLnByb3AoImRpc2FibGVkIiwhMCl9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoRGVmYXVsdD1mdW5jdGlvbihhKXt0cnl7ZG9jdW1lbnQucXVlcnlDb21tYW5kU3RhdGUoYSk9PT0hMCYmdGhpcy4kZWRpdG9yLmZpbmQoJ1tkYXRhLWNtZD0iJythKyciXScpLmFkZENsYXNzKCJhY3RpdmUiKX1jYXRjaChiKXt9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoQWxpZ249ZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMuZ2V0U2VsZWN0aW9uRWxlbWVudHMoKVswXSk7dGhpcy4kZWRpdG9yLmZpbmQoJy5mci1kcm9wZG93biA+IGJ1dHRvbltkYXRhLW5hbWU9ImFsaWduIl0gKyB1bCBsaScpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKTt2YXIgYyxkPWIuY3NzKCJ0ZXh0LWFsaWduIik7WyJsZWZ0IiwicmlnaHQiLCJqdXN0aWZ5IiwiY2VudGVyIl0uaW5kZXhPZihkKTwwJiYoZD0ibGVmdCIpLCJsZWZ0Ij09ZD9jPSJqdXN0aWZ5TGVmdCI6InJpZ2h0Ij09ZD9jPSJqdXN0aWZ5UmlnaHQiOiJqdXN0aWZ5Ij09ZD9jPSJqdXN0aWZ5RnVsbCI6ImNlbnRlciI9PWQmJihjPSJqdXN0aWZ5Q2VudGVyIiksdGhpcy4kZWRpdG9yLmZpbmQoJy5mci1kcm9wZG93biA+IGJ1dHRvbltkYXRhLW5hbWU9ImFsaWduIl0uZnItdHJpZ2dlciBpJykuYXR0cigiY2xhc3MiLCJmYSBmYS1hbGlnbi0iK2QpLHRoaXMuJGVkaXRvci5maW5kKCcuZnItZHJvcGRvd24gPiBidXR0b25bZGF0YS1uYW1lPSJhbGlnbiJdICsgdWwgbGlbZGF0YS12YWw9IicrYysnIl0nKS5hZGRDbGFzcygiYWN0aXZlIil9LGEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hIVE1MPWZ1bmN0aW9uKCl7dGhpcy5pc0FjdGl2ZSgiaHRtbCIpP3RoaXMuJGVkaXRvci5maW5kKCdbZGF0YS1jbWQ9Imh0bWwiXScpLmFkZENsYXNzKCJhY3RpdmUiKTp0aGlzLiRlZGl0b3IuZmluZCgnW2RhdGEtY21kPSJodG1sIl0nKS5yZW1vdmVDbGFzcygiYWN0aXZlIil9fShqUXVlcnkpLGZ1bmN0aW9uKGEpe2EuRWRpdGFibGUuY29tbWFuZHM9e2JvbGQ6e3RpdGxlOiJCb2xkIixpY29uOiJmYSBmYS1ib2xkIixzaG9ydGN1dDoiKEN0cmwgKyBCKSIscmVmcmVzaDphLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoRGVmYXVsdCx1bmRvOiEwLGNhbGxiYWNrV2l0aG91dFNlbGVjdGlvbjpmdW5jdGlvbihhKXt0aGlzLl9zdGFydEluRGVmYXVsdChhKX19LGl0YWxpYzp7dGl0bGU6Ikl0YWxpYyIsaWNvbjoiZmEgZmEtaXRhbGljIixzaG9ydGN1dDoiKEN0cmwgKyBJKSIscmVmcmVzaDphLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoRGVmYXVsdCx1bmRvOiEwLGNhbGxiYWNrV2l0aG91dFNlbGVjdGlvbjpmdW5jdGlvbihhKXt0aGlzLl9zdGFydEluRGVmYXVsdChhKX19LHVuZGVybGluZTp7Y21kOiJ1bmRlcmxpbmUiLHRpdGxlOiJVbmRlcmxpbmUiLGljb246ImZhIGZhLXVuZGVybGluZSIsc2hvcnRjdXQ6IihDdHJsICsgVSkiLHJlZnJlc2g6YS5FZGl0YWJsZS5wcm90b3R5cGUucmVmcmVzaERlZmF1bHQsdW5kbzohMCxjYWxsYmFja1dpdGhvdXRTZWxlY3Rpb246ZnVuY3Rpb24oYSl7dGhpcy5fc3RhcnRJbkRlZmF1bHQoYSl9fSxzdHJpa2VUaHJvdWdoOnt0aXRsZToiU3RyaWtldGhyb3VnaCIsaWNvbjoiZmEgZmEtc3RyaWtldGhyb3VnaCIscmVmcmVzaDphLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoRGVmYXVsdCx1bmRvOiEwLGNhbGxiYWNrV2l0aG91dFNlbGVjdGlvbjpmdW5jdGlvbihhKXt0aGlzLl9zdGFydEluRGVmYXVsdChhKX19LHN1YnNjcmlwdDp7dGl0bGU6IlN1YnNjcmlwdCIsaWNvbjoiZmEgZmEtc3Vic2NyaXB0IixyZWZyZXNoOmEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hEZWZhdWx0LHVuZG86ITAsY2FsbGJhY2tXaXRob3V0U2VsZWN0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuX3N0YXJ0SW5EZWZhdWx0KGEpfX0sc3VwZXJzY3JpcHQ6e3RpdGxlOiJTdXBlcnNjcmlwdCIsaWNvbjoiZmEgZmEtc3VwZXJzY3JpcHQiLHJlZnJlc2g6YS5FZGl0YWJsZS5wcm90b3R5cGUucmVmcmVzaERlZmF1bHQsdW5kbzohMCxjYWxsYmFja1dpdGhvdXRTZWxlY3Rpb246ZnVuY3Rpb24oYSl7dGhpcy5fc3RhcnRJbkRlZmF1bHQoYSl9fSxmb3JtYXRCbG9jazp7dGl0bGU6IkZvcm1hdCBCbG9jayIsaWNvbjoiZmEgZmEtcGFyYWdyYXBoIixyZWZyZXNoT25TaG93OmEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hGb3JtYXRCbG9ja3MsY2FsbGJhY2s6ZnVuY3Rpb24oYSxiKXt0aGlzLmZvcm1hdEJsb2NrKGIpfSx1bmRvOiEwfSxhbGlnbjp7dGl0bGU6IkFsaWdubWVudCIsaWNvbjoiZmEgZmEtYWxpZ24tbGVmdCIscmVmcmVzaDphLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoQWxpZ24scmVmcmVzaE9uU2hvdzphLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoQWxpZ24sc2VlZDpbe2NtZDoianVzdGlmeUxlZnQiLHRpdGxlOiJBbGlnbiBMZWZ0IixpY29uOiJmYSBmYS1hbGlnbi1sZWZ0In0se2NtZDoianVzdGlmeUNlbnRlciIsdGl0bGU6IkFsaWduIENlbnRlciIsaWNvbjoiZmEgZmEtYWxpZ24tY2VudGVyIn0se2NtZDoianVzdGlmeVJpZ2h0Iix0aXRsZToiQWxpZ24gUmlnaHQiLGljb246ImZhIGZhLWFsaWduLXJpZ2h0In0se2NtZDoianVzdGlmeUZ1bGwiLHRpdGxlOiJKdXN0aWZ5IixpY29uOiJmYSBmYS1hbGlnbi1qdXN0aWZ5In1dLGNhbGxiYWNrOmZ1bmN0aW9uKGEsYil7dGhpcy5hbGlnbihiKX0sdW5kbzohMH0sb3V0ZGVudDp7dGl0bGU6IkluZGVudCBMZXNzIixpY29uOiJmYSBmYS1kZWRlbnQiLGFjdGl2ZWxlc3M6ITAsc2hvcnRjdXQ6IihDdHJsICsgPCkiLGNhbGxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5vdXRkZW50KCEwKX0sdW5kbzohMH0saW5kZW50Ont0aXRsZToiSW5kZW50IE1vcmUiLGljb246ImZhIGZhLWluZGVudCIsYWN0aXZlbGVzczohMCxzaG9ydGN1dDoiKEN0cmwgKyA+KSIsY2FsbGJhY2s6ZnVuY3Rpb24oKXt0aGlzLmluZGVudCgpfSx1bmRvOiEwfSxzZWxlY3RBbGw6e3RpdGxlOiJTZWxlY3QgQWxsIixpY29uOiJmYSBmYS1maWxlLXRleHQiLHNob3J0Y3V0OiIoQ3RybCArIEEpIixjYWxsYmFjazpmdW5jdGlvbihhLGIpe3RoaXMuJGVsZW1lbnQuZm9jdXMoKSx0aGlzLmV4ZWNEZWZhdWx0KGEsYil9LHVuZG86ITF9LGNyZWF0ZUxpbms6e3RpdGxlOiJJbnNlcnQgTGluayIsaWNvbjoiZmEgZmEtbGluayIsc2hvcnRjdXQ6IihDdHJsICsgSykiLGNhbGxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5pbnNlcnRMaW5rKCl9LHVuZG86ITF9LGluc2VydEltYWdlOnt0aXRsZToiSW5zZXJ0IEltYWdlIixpY29uOiJmYSBmYS1waWN0dXJlLW8iLGFjdGl2ZWxlc3M6ITAsc2hvcnRjdXQ6IihDdHJsICsgUCkiLGNhbGxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5pbnNlcnRJbWFnZSgpfSx1bmRvOiExfSx1bmRvOnt0aXRsZToiVW5kbyIsaWNvbjoiZmEgZmEtdW5kbyIsYWN0aXZlbGVzczohMCxzaG9ydGN1dDoiKEN0cmwrWikiLHJlZnJlc2g6YS5FZGl0YWJsZS5wcm90b3R5cGUucmVmcmVzaFVuZG8sY2FsbGJhY2s6ZnVuY3Rpb24oKXt0aGlzLnVuZG8oKX0sdW5kbzohMX0scmVkbzp7dGl0bGU6IlJlZG8iLGljb246ImZhIGZhLXJlcGVhdCIsYWN0aXZlbGVzczohMCxzaG9ydGN1dDoiKFNoaWZ0K0N0cmwrWikiLHJlZnJlc2g6YS5FZGl0YWJsZS5wcm90b3R5cGUucmVmcmVzaFJlZG8sY2FsbGJhY2s6ZnVuY3Rpb24oKXt0aGlzLnJlZG8oKX0sdW5kbzohMX0saHRtbDp7dGl0bGU6IlNob3cgSFRNTCIsaWNvbjoiZmEgZmEtY29kZSIscmVmcmVzaDphLkVkaXRhYmxlLnByb3RvdHlwZS5yZWZyZXNoSFRNTCxjYWxsYmFjazpmdW5jdGlvbigpe3RoaXMuaHRtbCgpfSx1bmRvOiExfSxzYXZlOnt0aXRsZToiU2F2ZSIsaWNvbjoiZmEgZmEtZmxvcHB5LW8iLGNhbGxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5zYXZlKCl9LHVuZG86ITF9LGluc2VydEhvcml6b250YWxSdWxlOnt0aXRsZToiSW5zZXJ0IEhvcml6b250YWwgTGluZSIsaWNvbjoiZmEgZmEtbWludXMiLGNhbGxiYWNrOmZ1bmN0aW9uKGEpe3RoaXMuaW5zZXJ0SFIoYSl9LHVuZG86ITB9LHJlbW92ZUZvcm1hdDp7dGl0bGU6IkNsZWFyIGZvcm1hdHRpbmciLGljb246ImZhIGZhLWVyYXNlciIsYWN0aXZlbGVzczohMCxjYWxsYmFjazpmdW5jdGlvbigpe3RoaXMucmVtb3ZlRm9ybWF0KCl9LHVuZG86ITB9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKGIsYyxkKXtyZXR1cm4hdGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpJiZhLkVkaXRhYmxlLmNvbW1hbmRzW2JdLnVuZG8mJnRoaXMuZm9jdXMoKSx0aGlzLnNlbGVjdGlvbkluRWRpdG9yKCkmJiIiPT09dGhpcy50ZXh0KCkmJmEuRWRpdGFibGUuY29tbWFuZHNbYl0uY2FsbGJhY2tXaXRob3V0U2VsZWN0aW9uPyhhLkVkaXRhYmxlLmNvbW1hbmRzW2JdLmNhbGxiYWNrV2l0aG91dFNlbGVjdGlvbi5hcHBseSh0aGlzLFtiLGMsZF0pLCExKTp2b2lkKGEuRWRpdGFibGUuY29tbWFuZHNbYl0uY2FsbGJhY2s/YS5FZGl0YWJsZS5jb21tYW5kc1tiXS5jYWxsYmFjay5hcHBseSh0aGlzLFtiLGMsZF0pOnRoaXMuZXhlY0RlZmF1bHQoYixjKSl9LGEuRWRpdGFibGUucHJvdG90eXBlLmh0bWw9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmlzSFRNTD8odGhpcy5pc0hUTUw9ITEsYT10aGlzLiRodG1sX2FyZWEudmFsKCksYT10aGlzLmNsZWFuKGEsITAsITEpLHRoaXMuJGJveC5yZW1vdmVDbGFzcygiZi1odG1sIiksdGhpcy4kaHRtbF9hcmVhLmJsdXIoKSx0aGlzLm5vX3ZlcmlmeT0hMCx0aGlzLiRlbGVtZW50Lmh0bWwoYSksdGhpcy5jbGVhbnVwTGlzdHMoKSx0aGlzLmNsZWFuaWZ5KCExKSx0aGlzLm5vX3ZlcmlmeT0hMSx0aGlzLiRlbGVtZW50LmF0dHIoImNvbnRlbnRlZGl0YWJsZSIsITApLHRoaXMuJGVkaXRvci5maW5kKCcuZnItYnR0bjpub3QoW2RhdGEtY21kPSJodG1sIl0pLCAuZnItdHJpZ2dlcicpLnJlbW92ZUF0dHIoImRpc2FibGVkIiksdGhpcy4kZWRpdG9yLmZpbmQoJy5mci1idHRuW2RhdGEtY21kPSJodG1sIl0nKS5yZW1vdmVDbGFzcygiYWN0aXZlIiksdGhpcy5vcHRpb25zLnBhcmFncmFwaHkmJnRoaXMud3JhcFRleHQoKSx0aGlzLiRlbGVtZW50LmJsdXIoKSx0aGlzLmZvY3VzKCksdGhpcy5yZWZyZXNoQnV0dG9ucygpLHRoaXMudHJpZ2dlckV2ZW50KCJodG1sSGlkZSIsW2FdLCEwLCEwKSk6KHRoaXMuJGJveC5yZW1vdmVDbGFzcygiZi1wbGFjZWhvbGRlciIpLHRoaXMuY2xlYW5pZnkoITEpLGE9dGhpcy5vcHRpb25zLmlubGluZU1vZGU/IlxuXG4iK3RoaXMuY2xlYW5UYWdzKHRoaXMuZ2V0SFRNTCghMSwhMSkpOnRoaXMuY2xlYW5UYWdzKHRoaXMuZ2V0SFRNTCghMSwhMSkpLGE9YS5yZXBsYWNlKC9cJmFtcDsvZywiJiIpLHRoaXMuJGh0bWxfYXJlYS52YWwoYSkudHJpZ2dlcigicmVzaXplIiksdGhpcy4kaHRtbF9hcmVhLmNzcygiaGVpZ2h0Iix0aGlzLiRlbGVtZW50LmhlaWdodCgpLTEpLHRoaXMuJGVsZW1lbnQuaHRtbCgiIikuYXBwZW5kKHRoaXMuJGh0bWxfYXJlYSkucmVtb3ZlQXR0cigiY29udGVudGVkaXRhYmxlIiksdGhpcy4kYm94LmFkZENsYXNzKCJmLWh0bWwiKSx0aGlzLiRlZGl0b3IuZmluZCgnYnV0dG9uLmZyLWJ0dG46bm90KFtkYXRhLWNtZD0iaHRtbCJdKSwgYnV0dG9uLmZyLXRyaWdnZXInKS5hdHRyKCJkaXNhYmxlZCIsITApLHRoaXMuJGVkaXRvci5maW5kKCcuZnItYnR0bltkYXRhLWNtZD0iaHRtbCJdJykuYWRkQ2xhc3MoImFjdGl2ZSIpLHRoaXMuaGlkZSgpLHRoaXMuaW1hZ2VNb2RlPSExLHRoaXMuaXNIVE1MPSEwLHRoaXMuJGVsZW1lbnQuYmx1cigpLHRoaXMuJGVsZW1lbnQucmVtb3ZlQXR0cigiY29udGVudGVkaXRhYmxlIiksdGhpcy50cmlnZ2VyRXZlbnQoImh0bWxTaG93IixbYV0sITAsITEpKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaW5zZXJ0SFI9ZnVuY3Rpb24oYil7dGhpcy4kZWxlbWVudC5maW5kKCJociIpLmFkZENsYXNzKCJmci10YWciKSx0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJmLXBsYWNlaG9sZGVyIik/YSh0aGlzLiRlbGVtZW50LmZpbmQoIj4gIit0aGlzLnZhbGlkX25vZGVzLmpvaW4oIiwgPiIpKVswXSkuYmVmb3JlKCI8aHIvPiIpOmRvY3VtZW50LmV4ZWNDb21tYW5kKGIpLHRoaXMuaGlkZSgpO3ZhciBjPXRoaXMuJGVsZW1lbnQuZmluZCgiaHI6bm90KC5mci10YWcpIikubmV4dCh0aGlzLnZhbGlkX25vZGVzLmpvaW4oIiwiKSk7Yy5sZW5ndGg+MD9hKGNbMF0pLnByZXBlbmQodGhpcy5tYXJrZXJzX2h0bWwpOnRoaXMuJGVsZW1lbnQuZmluZCgiaHI6bm90KC5mci10YWcpIikuYWZ0ZXIodGhpcy5tYXJrZXJzX2h0bWwpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpLHRoaXMudHJpZ2dlckV2ZW50KGIsW10sITAsITEpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5mb3JtYXRCbG9jaz1mdW5jdGlvbihiLGMsZCl7aWYodGhpcy5kaXNhYmxlZExpc3QuaW5kZXhPZigiZm9ybWF0QmxvY2siKT49MClyZXR1cm4hMTtpZih0aGlzLmJyb3dzZXIubXNpZSYmYS5FZGl0YWJsZS5nZXRJRXZlcnNpb24oKTw5KXJldHVybiBkb2N1bWVudC5leGVjQ29tbWFuZCgiZm9ybWF0QmxvY2siLCExLCI8IitiKyI+IiksITE7dGhpcy5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzKCksdGhpcy53cmFwVGV4dCgpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpO3ZhciBlPXRoaXMuZ2V0U2VsZWN0aW9uRWxlbWVudHMoKTtlWzBdPT10aGlzLiRlbGVtZW50LmdldCgwKSYmKGU9dGhpcy4kZWxlbWVudC5maW5kKCI+ICIrdGhpcy52YWxpZF9ub2Rlcy5qb2luKCIsID4iKSkpLHRoaXMuc2F2ZVNlbGVjdGlvbkJ5TWFya2VycygpO2Zvcih2YXIgZixnPWZ1bmN0aW9uKGEpe3JldHVybiBhLmdldCYmWyJMSSIsIlREIiwiVEgiXS5pbmRleE9mKGEuZ2V0KDApLnRhZ05hbWUpPj0wPyEwOiExfSxoPTA7aDxlLmxlbmd0aDtoKyspe3ZhciBpPWEoZVtoXSk7aWYoIXRoaXMuZmFrZUVtcHR5KGkpKWlmKGY9Im4iPT1iP3RoaXMub3B0aW9ucy5wYXJhZ3JhcGh5P2EoIjxwPiIpLmh0bWwoaS5odG1sKCkpOmkuaHRtbCgpKyI8YnIvPiI6YSgiPCIrYisiPiIpLmh0bWwoaS5odG1sKCkpLGkuZ2V0KDApPT10aGlzLiRlbGVtZW50LmdldCgwKXx8ZyhmKSlpLmh0bWwoZik7ZWxzZXt2YXIgaj1pLnByb3AoImF0dHJpYnV0ZXMiKTtpZihmLmF0dHIpZm9yKHZhciBrPTA7azxqLmxlbmd0aDtrKyspImNsYXNzIiE9PWpba10ubmFtZSYmZi5hdHRyKGpba10ubmFtZSxqW2tdLnZhbHVlKTt2YXIgbDt0aGlzLm9wdGlvbnMuYmxvY2tTdHlsZXMmJnRoaXMub3B0aW9ucy5ibG9ja1N0eWxlc1tiXSx2b2lkIDA9PT1sJiYobD10aGlzLm9wdGlvbnMuZGVmYXVsdEJsb2NrU3R5bGUpO3RyeXtpZihpLmhhc0NsYXNzKGMpJiZpLmdldCgwKS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PT1iKWYuYWRkQ2xhc3MoaS5hdHRyKCJjbGFzcyIpKS5yZW1vdmVDbGFzcyhjKTtlbHNle2lmKHZvaWQgMD09PWkuYXR0cigiY2xhc3MiKXx8dm9pZCAwPT09bHx8IXRoaXMub3B0aW9ucy5ibG9ja1N0eWxlc1RvZ2dsZSYmInRvZ2dsZSIhPWQpZi5hZGRDbGFzcyhpLmF0dHIoImNsYXNzIikpO2Vsc2UgZm9yKHZhciBtPWkuYXR0cigiY2xhc3MiKS5zcGxpdCgiICIpLG49MDtuPG0ubGVuZ3RoO24rKyl7dmFyIG89bVtuXTt2b2lkIDA9PT1sW29dJiZ2b2lkIDA9PT1kP2YuYWRkQ2xhc3Mobyk6dm9pZCAwIT09bFtvXSYmInRvZ2dsZSI9PT1kJiZmLmFkZENsYXNzKG8pLGkuZ2V0KDApLnRhZ05hbWUudG9Mb3dlckNhc2UoKSE9PWImJnZvaWQgMCE9PWxbb10mJmYuYWRkQ2xhc3Mobyl9IioiIT1jJiZmLmFkZENsYXNzKGMpfX1jYXRjaChwKXt9ZyhpKT9pLmh0bWwoZik6aS5yZXBsYWNlV2l0aChmKX19dGhpcy51bndyYXBUZXh0KCksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCksdGhpcy50cmlnZ2VyRXZlbnQoImZvcm1hdEJsb2NrIiksdGhpcy5yZXBvc2l0aW9uRWRpdG9yKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLmFsaWduPWZ1bmN0aW9uKGIpe2lmKHRoaXMuYnJvd3Nlci5tc2llJiZhLkVkaXRhYmxlLmdldElFdmVyc2lvbigpPDkpcmV0dXJuIGRvY3VtZW50LmV4ZWNDb21tYW5kKGIsITEsITEpLCExO3RoaXMuc2F2ZVNlbGVjdGlvbkJ5TWFya2VycygpO3ZhciBjPXRoaXMuZ2V0U2VsZWN0aW9uRWxlbWVudHMoKTsianVzdGlmeUxlZnQiPT1iP2I9ImxlZnQiOiJqdXN0aWZ5UmlnaHQiPT1iP2I9InJpZ2h0IjoianVzdGlmeUNlbnRlciI9PWI/Yj0iY2VudGVyIjoianVzdGlmeUZ1bGwiPT1iJiYoYj0ianVzdGlmeSIpO2Zvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKWEoY1tkXSkuY3NzKCJ0ZXh0LWFsaWduIixiKTt0aGlzLnJlcG9zaXRpb25FZGl0b3IoKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLnRyaWdnZXJFdmVudCgiYWxpZ24iLFtiXSl9LGEuRWRpdGFibGUucHJvdG90eXBlLmluZGVudD1mdW5jdGlvbihiKXtpZih0aGlzLmJyb3dzZXIubXNpZSYmYS5FZGl0YWJsZS5nZXRJRXZlcnNpb24oKTw5KXJldHVybiBiP2RvY3VtZW50LmV4ZWNDb21tYW5kKCJvdXRkZW50IiwhMSwhMSk6ZG9jdW1lbnQuZXhlY0NvbW1hbmQoImluZGVudCIsITEsITEpLCExO3ZhciBjPTIwO2ImJihjPS0yMCksdGhpcy5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzKCksdGhpcy53cmFwVGV4dCgpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpO3ZhciBkPXRoaXMuZ2V0U2VsZWN0aW9uRWxlbWVudHMoKTt0aGlzLnNhdmVTZWxlY3Rpb25CeU1hcmtlcnMoKTtmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9YShkW2VdKTtpZihmLnBhcmVudHNVbnRpbCh0aGlzLiRlbGVtZW50LCJsaSIpLmxlbmd0aD4wJiYoZj1mLmNsb3Nlc3QoImxpIikpLCJMSSI9PT1mLmdldCgwKS50YWdOYW1lJiZhLmlzRnVuY3Rpb24odGhpcy5pbmRlbnRMaSkpYj90aGlzLm91dGRlbnRMaShmKTp0aGlzLmluZGVudExpKGYpO2Vsc2UgaWYoZi5nZXQoMCkhPXRoaXMuJGVsZW1lbnQuZ2V0KDApKXt2YXIgZz1wYXJzZUludChmLmNzcygibWFyZ2luLWxlZnQiKS5yZXBsYWNlKC9weC8sIiIpLDEwKSxoPU1hdGgubWF4KDAsZytjKTtmLmNzcygibWFyZ2luTGVmdCIsaCl9ZWxzZXt2YXIgaT1hKCI8ZGl2PiIpLmh0bWwoZi5odG1sKCkpO2YuaHRtbChpKSxpLmNzcygibWFyZ2luTGVmdCIsTWF0aC5tYXgoMCxjKSl9fXRoaXMuY2xlYW51cExpc3RzKCksdGhpcy5vcHRpb25zLnBhcmFncmFwaHkmJnRoaXMud3JhcFRleHQoITApLHRoaXMudW53cmFwVGV4dCgpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpLHRoaXMucmVwb3NpdGlvbkVkaXRvcigpLGJ8fHRoaXMudHJpZ2dlckV2ZW50KCJpbmRlbnQiKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUub3V0ZGVudD1mdW5jdGlvbigpe3RoaXMuaW5kZW50KCEwKSx0aGlzLnRyaWdnZXJFdmVudCgib3V0ZGVudCIpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5leGVjRGVmYXVsdD1mdW5jdGlvbihhLGIpe2RvY3VtZW50LmV4ZWNDb21tYW5kKGEsITEsYiksdGhpcy50cmlnZ2VyRXZlbnQoYSxbXSwhMCwhMCl9LGEuRWRpdGFibGUucHJvdG90eXBlLl9zdGFydEluRGVmYXVsdD1mdW5jdGlvbihhKXt0aGlzLmZvY3VzKCksZG9jdW1lbnQuZXhlY0NvbW1hbmQoYSwhMSwhMSksdGhpcy5yZWZyZXNoQnV0dG9ucygpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5fc3RhcnRJbkZvbnRFeGVjPWZ1bmN0aW9uKGIsYyxkKXt0aGlzLmZvY3VzKCk7dHJ5e3ZhciBlPXRoaXMuZ2V0UmFuZ2UoKSxmPWUuY2xvbmVSYW5nZSgpO2YuY29sbGFwc2UoITEpO3ZhciBnPWEoJzxzcGFuIGRhdGEtaW5zZXJ0ZWQ9InRydWUiIGRhdGEtZnItdmVyaWZpZWQ9InRydWUiIHN0eWxlPSInK2IrIjogIitkKyc7Ij4mIzgyMDM7PC9zcGFuPicsZG9jdW1lbnQpO2YuaW5zZXJ0Tm9kZShnWzBdKSxnPXRoaXMuJGVsZW1lbnQuZmluZCgiW2RhdGEtaW5zZXJ0ZWRdIiksZy5yZW1vdmVBdHRyKCJkYXRhLWluc2VydGVkIiksdGhpcy5zZXRTZWxlY3Rpb24oZy5nZXQoMCksMSl9Y2F0Y2goaCl7fX0sYS5FZGl0YWJsZS5wcm90b3R5cGUucmVtb3ZlRm9ybWF0PWZ1bmN0aW9uKCl7ZG9jdW1lbnQuZXhlY0NvbW1hbmQoInJlbW92ZUZvcm1hdCIsITEsITEpLGRvY3VtZW50LmV4ZWNDb21tYW5kKCJ1bmxpbmsiLCExLCExKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaW5saW5lU3R5bGU9ZnVuY3Rpb24oYixjLGQpe2lmKHRoaXMuYnJvd3Nlci53ZWJraXQmJiJmb250LXNpemUiIT1iKXt2YXIgZT1mdW5jdGlvbihhKXtyZXR1cm4gYS5hdHRyKCJzdHlsZSIpLmluZGV4T2YoImZvbnQtc2l6ZSIpPj0wfTt0aGlzLiRlbGVtZW50LmZpbmQoInNwYW4iKS5lYWNoKGZ1bmN0aW9uKGIsYyl7dmFyIGQ9YShjKTtkLmF0dHIoInN0eWxlIikmJmUoZCkmJihkLmRhdGEoImZvbnQtc2l6ZSIsZC5jc3MoImZvbnQtc2l6ZSIpKSxkLmNzcygiZm9udC1zaXplIiwiIikpfSl9ZG9jdW1lbnQuZXhlY0NvbW1hbmQoImZvbnRTaXplIiwhMSw0KSx0aGlzLnNhdmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLmJyb3dzZXIud2Via2l0JiYiZm9udC1zaXplIiE9YiYmdGhpcy4kZWxlbWVudC5maW5kKCJzcGFuIikuZWFjaChmdW5jdGlvbihiLGMpe3ZhciBkPWEoYyk7ZC5kYXRhKCJmb250LXNpemUiKSYmKGQuY3NzKCJmb250LXNpemUiLGQuZGF0YSgiZm9udC1zaXplIikpLGQucmVtb3ZlRGF0YSgiZm9udC1zaXplIikpfSk7dmFyIGY9ZnVuY3Rpb24oYyxlKXt2YXIgZj1hKGUpO2YuY3NzKGIpIT1kJiZmLmNzcyhiLCIiKSwiIj09PWYuYXR0cigic3R5bGUiKSYmZi5yZXBsYWNlV2l0aChmLmh0bWwoKSl9O3RoaXMuJGVsZW1lbnQuZmluZCgiZm9udCIpLmVhY2goZnVuY3Rpb24oYyxlKXt2YXIgZz1hKCc8c3BhbiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIiBzdHlsZT0iJytiKyI6ICIrZCsnOyI+JythKGUpLmh0bWwoKSsiPC9zcGFuPiIpO2EoZSkucmVwbGFjZVdpdGgoZyksZy5maW5kKCJzcGFuIikuZWFjaChmKX0pLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpLHRoaXMucmVwb3NpdGlvbkVkaXRvcigpLHRoaXMudHJpZ2dlckV2ZW50KGMsW2RdLCEwLCEwKX19KGpRdWVyeSksZnVuY3Rpb24oYSl7YS5FZGl0YWJsZS5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl9ldmVudHMsZD1jW2FdPWNbYV18fFtdO2QucHVzaChiKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUucmFpc2VFdmVudD1mdW5jdGlvbihhLGIpe3ZvaWQgMD09PWImJihiPVtdKTt2YXIgYz0hMCxkPXRoaXMuX2V2ZW50c1thXTtpZihkKWZvcih2YXIgZT0wLGY9ZC5sZW5ndGg7Zj5lO2UrKyl7dmFyIGc9ZFtlXS5hcHBseSh0aGlzLGIpO3ZvaWQgMCE9PWcmJmMhPT0hMSYmKGM9Zyl9cmV0dXJuIHZvaWQgMD09PWMmJihjPSEwKSxjfX0oalF1ZXJ5KSxmdW5jdGlvbihhKXthLkVkaXRhYmxlLnByb3RvdHlwZS5tYXJrZXJzX2h0bWw9JzxzcGFuIGNsYXNzPSJmLW1hcmtlciIgZGF0YS10eXBlPSJmYWxzZSIgZGF0YS1pZD0iMCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPjxzcGFuIGNsYXNzPSJmLW1hcmtlciIgZGF0YS10eXBlPSJ0cnVlIiBkYXRhLWlkPSIwIiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIj48L3NwYW4+JyxhLkVkaXRhYmxlLnByb3RvdHlwZS50ZXh0PWZ1bmN0aW9uKCl7dmFyIGE9IiI7cmV0dXJuIHdpbmRvdy5nZXRTZWxlY3Rpb24/YT13aW5kb3cuZ2V0U2VsZWN0aW9uKCk6ZG9jdW1lbnQuZ2V0U2VsZWN0aW9uP2E9ZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCk6ZG9jdW1lbnQuc2VsZWN0aW9uJiYoYT1kb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKS50ZXh0KSxhLnRvU3RyaW5nKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLnNlbGVjdGlvbkluRWRpdG9yPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5nZXRTZWxlY3Rpb25QYXJlbnQoKSxjPSExO3JldHVybiBiPT10aGlzLiRlbGVtZW50LmdldCgwKSYmKGM9ITApLGM9PT0hMSYmYShiKS5wYXJlbnRzKCkuZWFjaChhLnByb3h5KGZ1bmN0aW9uKGEsYil7Yj09dGhpcy4kZWxlbWVudC5nZXQoMCkmJihjPSEwKX0sdGhpcykpLGN9LGEuRWRpdGFibGUucHJvdG90eXBlLmdldFNlbGVjdGlvbj1mdW5jdGlvbigpe3ZhciBhPSIiO3JldHVybiBhPXdpbmRvdy5nZXRTZWxlY3Rpb24/d2luZG93LmdldFNlbGVjdGlvbigpOmRvY3VtZW50LmdldFNlbGVjdGlvbj9kb2N1bWVudC5nZXRTZWxlY3Rpb24oKTpkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZ2V0UmFuZ2U9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFJhbmdlcygpO3JldHVybiBhLmxlbmd0aD4wP2FbMF06bnVsbH0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZ2V0UmFuZ2VzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRTZWxlY3Rpb24oKTtpZihhLmdldFJhbmdlQXQmJmEucmFuZ2VDb3VudCl7Zm9yKHZhciBiPVtdLGM9MDtjPGEucmFuZ2VDb3VudDtjKyspYi5wdXNoKGEuZ2V0UmFuZ2VBdChjKSk7cmV0dXJuIGJ9cmV0dXJuIGRvY3VtZW50LmNyZWF0ZVJhbmdlP1tkb2N1bWVudC5jcmVhdGVSYW5nZSgpXTpbXX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuY2xlYXJTZWxlY3Rpb249ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFNlbGVjdGlvbigpO3RyeXthLnJlbW92ZUFsbFJhbmdlcz9hLnJlbW92ZUFsbFJhbmdlcygpOmEuZW1wdHk/YS5lbXB0eSgpOmEuY2xlYXImJmEuY2xlYXIoKX1jYXRjaChiKXt9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25FbGVtZW50PWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5nZXRTZWxlY3Rpb24oKTtpZihiLnJhbmdlQ291bnQpe3ZhciBjPXRoaXMuZ2V0UmFuZ2UoKSxkPWMuc3RhcnRDb250YWluZXI7MSE9ZC5ub2RlVHlwZSYmKGQ9ZC5wYXJlbnROb2RlKTt2YXIgZT0hMTtkLmNoaWxkcmVuLmxlbmd0aD4wJiZkLmNoaWxkcmVuW2Muc3RhcnRPZmZzZXRdJiZhKGQuY2hpbGRyZW5bYy5zdGFydE9mZnNldF0pLnRleHQoKT09PXRoaXMudGV4dCgpJiYoZD1kLmNoaWxkcmVuW2Muc3RhcnRPZmZzZXRdLGU9ITApLCFlJiZkLmNoaWxkcmVuLmxlbmd0aD4wJiZhKGQuY2hpbGRyZW5bMF0pLnRleHQoKT09PXRoaXMudGV4dCgpJiZbIkJSIiwiSU1HIl0uaW5kZXhPZihkLmNoaWxkcmVuWzBdLnRhZ05hbWUpPDAmJihkPWQuY2hpbGRyZW5bMF0pO2Zvcih2YXIgZj1kO2YmJiJCT0RZIiE9Zi50YWdOYW1lOyl7aWYoZj09dGhpcy4kZWxlbWVudC5nZXQoMCkpcmV0dXJuIGQ7Zj1hKGYpLnBhcmVudCgpWzBdfX1yZXR1cm4gdGhpcy4kZWxlbWVudC5nZXQoMCl9LGEuRWRpdGFibGUucHJvdG90eXBlLmdldFNlbGVjdGlvblBhcmVudD1mdW5jdGlvbigpe3ZhciBiLGM9bnVsbDtyZXR1cm4gd2luZG93LmdldFNlbGVjdGlvbj8oYj13aW5kb3cuZ2V0U2VsZWN0aW9uKCksYi5yYW5nZUNvdW50JiYoYz1iLmdldFJhbmdlQXQoMCkuY29tbW9uQW5jZXN0b3JDb250YWluZXIsMSE9Yy5ub2RlVHlwZSYmKGM9Yy5wYXJlbnROb2RlKSkpOihiPWRvY3VtZW50LnNlbGVjdGlvbikmJiJDb250cm9sIiE9Yi50eXBlJiYoYz1iLmNyZWF0ZVJhbmdlKCkucGFyZW50RWxlbWVudCgpKSxudWxsIT1jJiYoYS5pbkFycmF5KHRoaXMuJGVsZW1lbnQuZ2V0KDApLGEoYykucGFyZW50cygpKT49MHx8Yz09dGhpcy4kZWxlbWVudC5nZXQoMCkpP2M6bnVsbH0sYS5FZGl0YWJsZS5wcm90b3R5cGUubm9kZUluUmFuZ2U9ZnVuY3Rpb24oYSxiKXt2YXIgYztpZihhLmludGVyc2VjdHNOb2RlKXJldHVybiBhLmludGVyc2VjdHNOb2RlKGIpO2M9Yi5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7dHJ5e2Muc2VsZWN0Tm9kZShiKX1jYXRjaChkKXtjLnNlbGVjdE5vZGVDb250ZW50cyhiKX1yZXR1cm4tMT09YS5jb21wYXJlQm91bmRhcnlQb2ludHMoUmFuZ2UuRU5EX1RPX1NUQVJULGMpJiYxPT1hLmNvbXBhcmVCb3VuZGFyeVBvaW50cyhSYW5nZS5TVEFSVF9UT19FTkQsYyl9LGEuRWRpdGFibGUucHJvdG90eXBlLmdldEVsZW1lbnRGcm9tTm9kZT1mdW5jdGlvbihiKXtmb3IoMSE9Yi5ub2RlVHlwZSYmKGI9Yi5wYXJlbnROb2RlKTtudWxsIT09YiYmdGhpcy52YWxpZF9ub2Rlcy5pbmRleE9mKGIudGFnTmFtZSk8MDspYj1iLnBhcmVudE5vZGU7cmV0dXJuIG51bGwhPWImJiJMSSI9PWIudGFnTmFtZSYmYShiKS5maW5kKHRoaXMudmFsaWRfbm9kZXMuam9pbigiLCIpKS5sZW5ndGg+MD9udWxsOmEubWFrZUFycmF5KGEoYikucGFyZW50cygpKS5pbmRleE9mKHRoaXMuJGVsZW1lbnQuZ2V0KDApKT49MD9iOm51bGx9LGEuRWRpdGFibGUucHJvdG90eXBlLm5leHROb2RlPWZ1bmN0aW9uKGEsYil7aWYoYS5oYXNDaGlsZE5vZGVzKCkpcmV0dXJuIGEuZmlyc3RDaGlsZDtmb3IoO2EmJiFhLm5leHRTaWJsaW5nJiZhIT1iOylhPWEucGFyZW50Tm9kZTtyZXR1cm4gYSYmYSE9Yj9hLm5leHRTaWJsaW5nOm51bGx9LGEuRWRpdGFibGUucHJvdG90eXBlLmdldFJhbmdlU2VsZWN0ZWROb2Rlcz1mdW5jdGlvbihhKXt2YXIgYj1bXSxjPWEuc3RhcnRDb250YWluZXIsZD1hLmVuZENvbnRhaW5lcjtpZihjPT1kJiYiVFIiIT1jLnRhZ05hbWUpe2lmKGMuaGFzQ2hpbGROb2RlcygpJiYwIT09Yy5jaGlsZHJlbi5sZW5ndGgpe2Zvcih2YXIgZT1jLmNoaWxkcmVuLGY9YS5zdGFydE9mZnNldDtmPGEuZW5kT2Zmc2V0O2YrKyllW2ZdJiZiLnB1c2goZVtmXSk7cmV0dXJuIDA9PT1iLmxlbmd0aCYmYi5wdXNoKGMpLGJ9cmV0dXJuW2NdfWlmKGM9PWQmJiJUUiI9PWMudGFnTmFtZSl7dmFyIGc9Yy5jaGlsZE5vZGVzLGg9YS5zdGFydE9mZnNldDtpZihnLmxlbmd0aD5oJiZoPj0wKXt2YXIgaT1nW2hdO2lmKCJURCI9PWkudGFnTmFtZXx8IlRIIj09aS50YWdOYW1lKXJldHVybltpXX19Zm9yKDtjJiZjIT1kOyliLnB1c2goYz10aGlzLm5leHROb2RlKGMsZCkpO2ZvcihjPWEuc3RhcnRDb250YWluZXI7YyYmYyE9YS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjspYi51bnNoaWZ0KGMpLGM9Yy5wYXJlbnROb2RlO3JldHVybiBifSxhLkVkaXRhYmxlLnByb3RvdHlwZS5nZXRTZWxlY3RlZE5vZGVzPWZ1bmN0aW9uKCl7aWYod2luZG93LmdldFNlbGVjdGlvbil7dmFyIGI9d2luZG93LmdldFNlbGVjdGlvbigpO2lmKCFiLmlzQ29sbGFwc2VkKXtmb3IodmFyIGM9dGhpcy5nZXRSYW5nZXMoKSxkPVtdLGU9MDtlPGMubGVuZ3RoO2UrKylkPWEubWVyZ2UoZCx0aGlzLmdldFJhbmdlU2VsZWN0ZWROb2RlcyhjW2VdKSk7cmV0dXJuIGR9aWYodGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpKXt2YXIgZj1iLmdldFJhbmdlQXQoMCkuc3RhcnRDb250YWluZXI7cmV0dXJuIDM9PWYubm9kZVR5cGU/W2YucGFyZW50Tm9kZV06W2ZdfX1yZXR1cm5bXX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uRWxlbWVudHM9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmdldFNlbGVjdGVkTm9kZXMoKSxjPVtdO3JldHVybiBhLmVhY2goYixhLnByb3h5KGZ1bmN0aW9uKGEsYil7aWYobnVsbCE9PWIpe3ZhciBkPXRoaXMuZ2V0RWxlbWVudEZyb21Ob2RlKGIpO2MuaW5kZXhPZihkKTwwJiZkIT10aGlzLiRlbGVtZW50LmdldCgwKSYmbnVsbCE9PWQmJmMucHVzaChkKX19LHRoaXMpKSwwPT09Yy5sZW5ndGgmJmMucHVzaCh0aGlzLiRlbGVtZW50LmdldCgwKSksY30sYS5FZGl0YWJsZS5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uTGluaz1mdW5jdGlvbigpe3ZhciBiPXRoaXMuZ2V0U2VsZWN0aW9uTGlua3MoKTtyZXR1cm4gYi5sZW5ndGg+MD9hKGJbMF0pLmF0dHIoImhyZWYiKTpudWxsfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zYXZlU2VsZWN0aW9uPWZ1bmN0aW9uKCl7aWYoIXRoaXMuc2VsZWN0aW9uRGlzYWJsZWQpe3RoaXMuc2F2ZWRSYW5nZXM9W107Zm9yKHZhciBhPXRoaXMuZ2V0UmFuZ2VzKCksYj0wO2I8YS5sZW5ndGg7YisrKXRoaXMuc2F2ZWRSYW5nZXMucHVzaChhW2JdLmNsb25lUmFuZ2UoKSl9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5yZXN0b3JlU2VsZWN0aW9uPWZ1bmN0aW9uKCl7aWYoIXRoaXMuc2VsZWN0aW9uRGlzYWJsZWQpe3ZhciBhLGIsYz10aGlzLmdldFNlbGVjdGlvbigpO2lmKHRoaXMuc2F2ZWRSYW5nZXMmJnRoaXMuc2F2ZWRSYW5nZXMubGVuZ3RoKWZvcihjLnJlbW92ZUFsbFJhbmdlcygpLGE9MCxiPXRoaXMuc2F2ZWRSYW5nZXMubGVuZ3RoO2I+YTthKz0xKWMuYWRkUmFuZ2UodGhpcy5zYXZlZFJhbmdlc1thXSl9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pbnNlcnRNYXJrZXJzQXRQb2ludD1mdW5jdGlvbihhKXt2YXIgYj1hLmNsaWVudFgsYz1hLmNsaWVudFk7dGhpcy5yZW1vdmVNYXJrZXJzKCk7dmFyIGQsZT1udWxsO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQuY2FyZXRQb3NpdGlvbkZyb21Qb2ludD8oZD1kb2N1bWVudC5jYXJldFBvc2l0aW9uRnJvbVBvaW50KGIsYyksZT1kb2N1bWVudC5jcmVhdGVSYW5nZSgpLGUuc2V0U3RhcnQoZC5vZmZzZXROb2RlLGQub2Zmc2V0KSxlLnNldEVuZChkLm9mZnNldE5vZGUsZC5vZmZzZXQpKToidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50LmNhcmV0UmFuZ2VGcm9tUG9pbnQmJihkPWRvY3VtZW50LmNhcmV0UmFuZ2VGcm9tUG9pbnQoYixjKSxlPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCksZS5zZXRTdGFydChkLnN0YXJ0Q29udGFpbmVyLGQuc3RhcnRPZmZzZXQpLGUuc2V0RW5kKGQuc3RhcnRDb250YWluZXIsZC5zdGFydE9mZnNldCkpLG51bGwhPT1lJiYidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5nZXRTZWxlY3Rpb24pe3ZhciBmPXdpbmRvdy5nZXRTZWxlY3Rpb24oKTtmLnJlbW92ZUFsbFJhbmdlcygpLGYuYWRkUmFuZ2UoZSl9ZWxzZSBpZigidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKXRyeXtlPWRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKCksZS5tb3ZlVG9Qb2ludChiLGMpO3ZhciBnPWUuZHVwbGljYXRlKCk7Zy5tb3ZlVG9Qb2ludChiLGMpLGUuc2V0RW5kUG9pbnQoIkVuZFRvRW5kIixnKSxlLnNlbGVjdCgpfWNhdGNoKGgpe310aGlzLnBsYWNlTWFya2VyKGUsITAsMCksdGhpcy5wbGFjZU1hcmtlcihlLCExLDApfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzPWZ1bmN0aW9uKCl7aWYoIXRoaXMuc2VsZWN0aW9uRGlzYWJsZWQpe3RoaXMuc2VsZWN0aW9uSW5FZGl0b3IoKXx8dGhpcy5mb2N1cygpLHRoaXMucmVtb3ZlTWFya2VycygpO2Zvcih2YXIgYT10aGlzLmdldFJhbmdlcygpLGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLnN0YXJ0Q29udGFpbmVyIT09ZG9jdW1lbnQpe3ZhciBjPWFbYl07dGhpcy5wbGFjZU1hcmtlcihjLCEwLGIpLHRoaXMucGxhY2VNYXJrZXIoYywhMSxiKX19fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5oYXNTZWxlY3Rpb25CeU1hcmtlcnM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiRlbGVtZW50LmZpbmQoJy5mLW1hcmtlcltkYXRhLXR5cGU9InRydWUiXScpO3JldHVybiBhLmxlbmd0aD4wPyEwOiExfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzPWZ1bmN0aW9uKGIpe2lmKHZvaWQgMD09PWImJihiPSEwKSwhdGhpcy5zZWxlY3Rpb25EaXNhYmxlZCl7dmFyIGM9dGhpcy4kZWxlbWVudC5maW5kKCcuZi1tYXJrZXJbZGF0YS10eXBlPSJ0cnVlIl0nKTtpZigwPT09Yy5sZW5ndGgpcmV0dXJuITE7dGhpcy4kZWxlbWVudC5pcygiOmZvY3VzIil8fHRoaXMuYnJvd3Nlci5tc2llfHx0aGlzLiRlbGVtZW50LmZvY3VzKCk7dmFyIGQ9dGhpcy5nZXRTZWxlY3Rpb24oKTshYiYmdGhpcy5nZXRSYW5nZSgpLmNvbGxhcHNlZCYmYShjWzBdKS5hdHRyKCJkYXRhLWNvbGxhcHNlZCIpfHwodGhpcy5jbGVhclNlbGVjdGlvbigpLGI9ITApO2Zvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKXt2YXIgZixnPWEoY1tlXSkuZGF0YSgiaWQiKSxoPWNbZV0saT10aGlzLiRlbGVtZW50LmZpbmQoJy5mLW1hcmtlcltkYXRhLXR5cGU9ImZhbHNlIl1bZGF0YS1pZD0iJytnKyciXScpO2lmKGY9Yj9kb2N1bWVudC5jcmVhdGVSYW5nZSgpOnRoaXMuZ2V0UmFuZ2UoKSxpLmxlbmd0aD4wKXtpPWlbMF07dHJ5e2Yuc2V0U3RhcnRBZnRlcihoKSxmLnNldEVuZEJlZm9yZShpKX1jYXRjaChqKXt9fWImJmQuYWRkUmFuZ2UoZil9dGhpcy5yZW1vdmVNYXJrZXJzKCl9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zZXRTZWxlY3Rpb249ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy5nZXRTZWxlY3Rpb24oKTtpZihlKXt0aGlzLmNsZWFyU2VsZWN0aW9uKCk7dHJ5e2N8fChjPWEpLHZvaWQgMD09PWImJihiPTApLHZvaWQgMD09PWQmJihkPWIpO3ZhciBmPXRoaXMuZ2V0UmFuZ2UoKTtmLnNldFN0YXJ0KGEsYiksZi5zZXRFbmQoYyxiKSxlLmFkZFJhbmdlKGYpfWNhdGNoKGcpe319fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5idWlsZE1hcmtlcj1mdW5jdGlvbihiLGMsZCl7cmV0dXJuIHZvaWQgMD09PWQmJihkPSIiKSxhKCc8c3BhbiBjbGFzcz0iZi1tYXJrZXIiJytkKycgc3R5bGU9ImRpc3BsYXk6bm9uZTsgbGluZS1oZWlnaHQ6IDA7IiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIiBkYXRhLWlkPSInK2MrJyIgZGF0YS10eXBlPSInK2IrJyI+Jyxkb2N1bWVudClbMF19LGEuRWRpdGFibGUucHJvdG90eXBlLnBsYWNlTWFya2VyPWZ1bmN0aW9uKGIsYyxkKXt2YXIgZT0iIjtiLmNvbGxhcHNlZCYmKGU9JyBkYXRhLWNvbGxhcHNlZD0idHJ1ZSInKTt0cnl7dmFyIGY9Yi5jbG9uZVJhbmdlKCk7aWYoZi5jb2xsYXBzZShjKSxmLmluc2VydE5vZGUodGhpcy5idWlsZE1hcmtlcihjLGQsZSkpLGM9PT0hMCYmZSlmb3IodmFyIGc9dGhpcy4kZWxlbWVudC5maW5kKCdzcGFuLmYtbWFya2VyW2RhdGEtdHlwZT0idHJ1ZSJdW2RhdGEtaWQ9IicrZCsnIl0nKS5nZXQoMCkubmV4dFNpYmxpbmc7Mz09PWcubm9kZVR5cGUmJjA9PT1nLmRhdGEubGVuZ3RoOylhKGcpLnJlbW92ZSgpLGc9dGhpcy4kZWxlbWVudC5maW5kKCdzcGFuLmYtbWFya2VyW2RhdGEtdHlwZT0idHJ1ZSJdW2RhdGEtaWQ9IicrZCsnIl0nKS5nZXQoMCkubmV4dFNpYmxpbmd9Y2F0Y2goaCl7fX0sYS5FZGl0YWJsZS5wcm90b3R5cGUucmVtb3ZlTWFya2Vycz1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQuZmluZCgiLmYtbWFya2VyIikucmVtb3ZlKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLmdldFNlbGVjdGlvblRleHRJbmZvPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZD0hMSxlPSExO2lmKHdpbmRvdy5nZXRTZWxlY3Rpb24pe3ZhciBmPXdpbmRvdy5nZXRTZWxlY3Rpb24oKTtmLnJhbmdlQ291bnQmJihiPWYuZ2V0UmFuZ2VBdCgwKSxjPWIuY2xvbmVSYW5nZSgpLGMuc2VsZWN0Tm9kZUNvbnRlbnRzKGEpLGMuc2V0RW5kKGIuc3RhcnRDb250YWluZXIsYi5zdGFydE9mZnNldCksZD0iIj09PWMudG9TdHJpbmcoKSxjLnNlbGVjdE5vZGVDb250ZW50cyhhKSxjLnNldFN0YXJ0KGIuZW5kQ29udGFpbmVyLGIuZW5kT2Zmc2V0KSxlPSIiPT09Yy50b1N0cmluZygpKX1lbHNlIGRvY3VtZW50LnNlbGVjdGlvbiYmIkNvbnRyb2wiIT1kb2N1bWVudC5zZWxlY3Rpb24udHlwZSYmKGI9ZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCksYz1iLmR1cGxpY2F0ZSgpLGMubW92ZVRvRWxlbWVudFRleHQoYSksYy5zZXRFbmRQb2ludCgiRW5kVG9TdGFydCIsYiksZD0iIj09PWMudGV4dCxjLm1vdmVUb0VsZW1lbnRUZXh0KGEpLGMuc2V0RW5kUG9pbnQoIlN0YXJ0VG9FbmQiLGIpLGU9IiI9PT1jLnRleHQpO3JldHVybnthdFN0YXJ0OmQsYXRFbmQ6ZX19LGEuRWRpdGFibGUucHJvdG90eXBlLmVuZHNXaXRoPWZ1bmN0aW9uKGEsYil7cmV0dXJuLTEhPT1hLmluZGV4T2YoYixhLmxlbmd0aC1iLmxlbmd0aCl9fShqUXVlcnkpLGZ1bmN0aW9uKGEpe2EuRWRpdGFibGUuaGV4VG9SR0I9ZnVuY3Rpb24oYSl7dmFyIGI9L14jPyhbYS1mXGRdKShbYS1mXGRdKShbYS1mXGRdKSQvaTthPWEucmVwbGFjZShiLGZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBiK2IrYytjK2QrZH0pO3ZhciBjPS9eIz8oW2EtZlxkXXsyfSkoW2EtZlxkXXsyfSkoW2EtZlxkXXsyfSkkL2kuZXhlYyhhKTtyZXR1cm4gYz97cjpwYXJzZUludChjWzFdLDE2KSxnOnBhcnNlSW50KGNbMl0sMTYpLGI6cGFyc2VJbnQoY1szXSwxNil9Om51bGx9LGEuRWRpdGFibGUuaGV4VG9SR0JTdHJpbmc9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5oZXhUb1JHQihhKTtyZXR1cm4gYj8icmdiKCIrYi5yKyIsICIrYi5nKyIsICIrYi5iKyIpIjoiIn0sYS5FZGl0YWJsZS5SR0JUb0hleD1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybigiMCIrcGFyc2VJbnQoYSwxMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtMil9dHJ5e3JldHVybiBhJiYidHJhbnNwYXJlbnQiIT09YT8vXiNbMC05QS1GXXs2fSQvaS50ZXN0KGEpP2E6KGE9YS5tYXRjaCgvXnJnYlwoKFxkKyksXHMqKFxkKyksXHMqKFxkKylcKSQvKSwoIiMiK2IoYVsxXSkrYihhWzJdKStiKGFbM10pKS50b1VwcGVyQ2FzZSgpKToiIn1jYXRjaChjKXtyZXR1cm4gbnVsbH19LGEuRWRpdGFibGUuZ2V0SUV2ZXJzaW9uPWZ1bmN0aW9uKCl7dmFyIGEsYixjPS0xO3JldHVybiJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXIiPT1uYXZpZ2F0b3IuYXBwTmFtZT8oYT1uYXZpZ2F0b3IudXNlckFnZW50LGI9bmV3IFJlZ0V4cCgiTVNJRSAoWzAtOV17MSx9W1xcLjAtOV17MCx9KSIpLG51bGwhPT1iLmV4ZWMoYSkmJihjPXBhcnNlRmxvYXQoUmVnRXhwLiQxKSkpOiJOZXRzY2FwZSI9PW5hdmlnYXRvci5hcHBOYW1lJiYoYT1uYXZpZ2F0b3IudXNlckFnZW50LGI9bmV3IFJlZ0V4cCgiVHJpZGVudC8uKnJ2OihbMC05XXsxLH1bXFwuMC05XXswLH0pIiksbnVsbCE9PWIuZXhlYyhhKSYmKGM9cGFyc2VGbG9hdChSZWdFeHAuJDEpKSksY30sYS5FZGl0YWJsZS5icm93c2VyPWZ1bmN0aW9uKCl7dmFyIGE9e307aWYodGhpcy5nZXRJRXZlcnNpb24oKT4wKWEubXNpZT0hMDtlbHNle3ZhciBiPW5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSxjPS8oY2hyb21lKVsgXC9dKFtcdy5dKykvLmV4ZWMoYil8fC8od2Via2l0KVsgXC9dKFtcdy5dKykvLmV4ZWMoYil8fC8ob3BlcmEpKD86Lip2ZXJzaW9ufClbIFwvXShbXHcuXSspLy5leGVjKGIpfHwvKG1zaWUpIChbXHcuXSspLy5leGVjKGIpfHxiLmluZGV4T2YoImNvbXBhdGlibGUiKTwwJiYvKG1vemlsbGEpKD86Lio/IHJ2OihbXHcuXSspfCkvLmV4ZWMoYil8fFtdLGQ9e2Jyb3dzZXI6Y1sxXXx8IiIsdmVyc2lvbjpjWzJdfHwiMCJ9O2NbMV0mJihhW2QuYnJvd3Nlcl09ITApLHBhcnNlSW50KGQudmVyc2lvbiwxMCk8OSYmYS5tc2llJiYoYS5vbGRNc2llPSEwKSxhLmNocm9tZT9hLndlYmtpdD0hMDphLndlYmtpdCYmKGEuc2FmYXJpPSEwKX1yZXR1cm4gYX0sYS5FZGl0YWJsZS5pc0FycmF5PWZ1bmN0aW9uKGEpe3JldHVybiBhJiYhYS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgibGVuZ3RoIikmJiJvYmplY3QiPT10eXBlb2YgYSYmIm51bWJlciI9PXR5cGVvZiBhLmxlbmd0aH0sYS5FZGl0YWJsZS51bmlxPWZ1bmN0aW9uKGIpe3JldHVybiBhLmdyZXAoYixmdW5jdGlvbihjLGQpe3JldHVybiBkPT1hLmluQXJyYXkoYyxiKX0pfX0oalF1ZXJ5KSxmdW5jdGlvbihhKXthLkVkaXRhYmxlLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKGIpe2lmKHZvaWQgMCE9PWIpe2lmKHRoaXMub3B0aW9ucy5pbmxpbmVNb2RlfHx0aGlzLm9wdGlvbnMuZWRpdEluUG9wdXApaWYobnVsbCE9PWImJiJ0b3VjaGVuZCIhPT1iLnR5cGUpe3ZhciBjPWIucGFnZVgsZD1iLnBhZ2VZO2M8dGhpcy4kZWxlbWVudC5vZmZzZXQoKS5sZWZ0JiYoYz10aGlzLiRlbGVtZW50Lm9mZnNldCgpLmxlZnQpLGM+dGhpcy4kZWxlbWVudC5vZmZzZXQoKS5sZWZ0K3RoaXMuJGVsZW1lbnQud2lkdGgoKSYmKGM9dGhpcy4kZWxlbWVudC5vZmZzZXQoKS5sZWZ0K3RoaXMuJGVsZW1lbnQud2lkdGgoKSksZDx0aGlzLiRlbGVtZW50Lm9mZnNldC50b3AmJihkPXRoaXMuJGVsZW1lbnQub2Zmc2V0KCkudG9wKSxkPnRoaXMuJGVsZW1lbnQub2Zmc2V0KCkudG9wK3RoaXMuJGVsZW1lbnQuaGVpZ2h0KCkmJihkPXRoaXMuJGVsZW1lbnQub2Zmc2V0KCkudG9wK3RoaXMuJGVsZW1lbnQuaGVpZ2h0KCkpLDIwPmMmJihjPTIwKSwwPmQmJihkPTApLHRoaXMuc2hvd0J5Q29vcmRpbmF0ZXMoYyxkKSxhKCIuZnJvYWxhLWVkaXRvcjpub3QoLmYtYmFzaWMpIikuaGlkZSgpLHRoaXMuJGVkaXRvci5zaG93KCksMCE9PXRoaXMub3B0aW9ucy5idXR0b25zLmxlbmd0aHx8dGhpcy5vcHRpb25zLmVkaXRJblBvcHVwfHx0aGlzLiRlZGl0b3IuaGlkZSgpfWVsc2UgYSgiLmZyb2FsYS1lZGl0b3I6bm90KC5mLWJhc2ljKSIpLmhpZGUoKSx0aGlzLiRlZGl0b3Iuc2hvdygpLHRoaXMucmVwb3NpdGlvbkVkaXRvcigpO3RoaXMuaGlkZVBvcHVwcygpLHRoaXMub3B0aW9ucy5lZGl0SW5Qb3B1cHx8dGhpcy5zaG93RWRpdFBvcHVwV3JhcHBlcigpLHRoaXMuJGJ0dG5fd3JhcHBlci5zaG93KCksdGhpcy5yZWZyZXNoQnV0dG9ucygpLHRoaXMuaW1hZ2VNb2RlPSExfX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaGlkZURyb3Bkb3ducz1mdW5jdGlvbigpe3RoaXMuJGJ0dG5fd3JhcHBlci5maW5kKCIuZnItZHJvcGRvd24gLmZyLXRyaWdnZXIiKS5yZW1vdmVDbGFzcygiYWN0aXZlIiksdGhpcy4kYnR0bl93cmFwcGVyLmZpbmQoIi5mci1kcm9wZG93biAuZnItdHJpZ2dlciIpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmluaXRpYWxpemVkPyh2b2lkIDA9PT1hJiYoYT0hMCksYT90aGlzLmhpZGVPdGhlckVkaXRvcnMoKToodGhpcy5jbG9zZUltYWdlTW9kZSgpLHRoaXMuaW1hZ2VNb2RlPSExKSx0aGlzLiRwb3B1cF9lZGl0b3IuaGlkZSgpLHRoaXMuaGlkZVBvcHVwcyghMSksdGhpcy5oaWRlRHJvcGRvd25zKCksdm9pZCh0aGlzLmxpbms9ITEpKTohMX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaGlkZU90aGVyRWRpdG9ycz1mdW5jdGlvbigpe2Zvcih2YXIgYj0xO2I8PWEuRWRpdGFibGUuY291bnQ7YisrKWIhPXRoaXMuX2lkJiZhKHdpbmRvdykudHJpZ2dlcigiaGlkZS4iK2IpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5oaWRlQnR0bldyYXBwZXI9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuaW5saW5lTW9kZSYmdGhpcy4kYnR0bl93cmFwcGVyLmhpZGUoKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuc2hvd0J0dG5XcmFwcGVyPWZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmlubGluZU1vZGUmJnRoaXMuJGJ0dG5fd3JhcHBlci5zaG93KCl9LGEuRWRpdGFibGUucHJvdG90eXBlLnNob3dFZGl0UG9wdXBXcmFwcGVyPWZ1bmN0aW9uKCl7dGhpcy4kZWRpdF9wb3B1cF93cmFwcGVyJiYodGhpcy4kZWRpdF9wb3B1cF93cmFwcGVyLnNob3coKSxzZXRUaW1lb3V0KGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLiRlZGl0X3BvcHVwX3dyYXBwZXIuZmluZCgiaW5wdXQiKS52YWwodGhpcy4kZWxlbWVudC50ZXh0KCkpLmZvY3VzKCkuc2VsZWN0KCl9LHRoaXMpLDEpKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaGlkZVBvcHVwcz1mdW5jdGlvbihhKXt2b2lkIDA9PT1hJiYoYT0hMCksYSYmdGhpcy5oaWRlQnR0bldyYXBwZXIoKSx0aGlzLnJhaXNlRXZlbnQoImhpZGVQb3B1cHMiKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuc2hvd0VkaXRQb3B1cD1mdW5jdGlvbigpe3RoaXMuc2hvd0VkaXRQb3B1cFdyYXBwZXIoKX19KGpRdWVyeSksZnVuY3Rpb24oYSl7YS5FZGl0YWJsZS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKCl7dmFyIGI7aWYodGhpcy5pc0xpbmspe2I9e307dmFyIGM9dGhpcy4kZWxlbWVudDtiLmxlZnQ9Yy5vZmZzZXQoKS5sZWZ0LWEod2luZG93KS5zY3JvbGxMZWZ0KCksYi50b3A9Yy5vZmZzZXQoKS50b3AtYSh3aW5kb3cpLnNjcm9sbFRvcCgpLGIud2lkdGg9Yy5vdXRlcldpZHRoKCksYi5oZWlnaHQ9cGFyc2VJbnQoYy5jc3MoInBhZGRpbmctdG9wIikucmVwbGFjZSgicHgiLCIiKSwxMCkrYy5oZWlnaHQoKSxiLnJpZ2h0PTEsYi5ib3R0b209MSxiLm9rPSEwfWVsc2UgaWYodGhpcy5nZXRSYW5nZSgpLmNvbGxhcHNlZCl7dmFyIGQ9YSh0aGlzLmdldFNlbGVjdGlvbkVsZW1lbnQoKSk7dGhpcy5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzKCk7dmFyIGU9dGhpcy4kZWxlbWVudC5maW5kKCIuZi1tYXJrZXI6Zmlyc3QiKTtlLmNzcygiZGlzcGxheSIsImlubGluZSIpO3ZhciBmPWUub2Zmc2V0KCk7ZS5jc3MoImRpc3BsYXkiLCJub25lIiksYj17fSxiLmxlZnQ9Zi5sZWZ0LWEod2luZG93KS5zY3JvbGxMZWZ0KCksYi53aWR0aD0wLGIuaGVpZ2h0PShwYXJzZUludChkLmNzcygibGluZS1oZWlnaHQiKS5yZXBsYWNlKCJweCIsIiIpLDEwKXx8MTApLTEwLWEod2luZG93KS5zY3JvbGxUb3AoKSxiLnRvcD1mLnRvcCxiLnJpZ2h0PTEsYi5ib3R0b209MSxiLm9rPSEwLHRoaXMucmVtb3ZlTWFya2VycygpfWVsc2UgYj10aGlzLmdldFJhbmdlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJuIGJ9LGEuRWRpdGFibGUucHJvdG90eXBlLnJlcG9zaXRpb25FZGl0b3I9ZnVuY3Rpb24oYil7dmFyIGMsZCxlO2lmKHRoaXMub3B0aW9ucy5pbmxpbmVNb2RlfHxiKXtpZihjPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCksdGhpcy5zaG93QnR0bldyYXBwZXIoKSxjLm9rfHxjLmxlZnQ+PTAmJmMudG9wPj0wJiZjLnJpZ2h0PjAmJmMuYm90dG9tPjApZD1jLmxlZnQrYy53aWR0aC8yLGU9Yy50b3ArYy5oZWlnaHQsdGhpcy5pT1MoKSYmdGhpcy5pT1NWZXJzaW9uKCk8OHx8KGQrPWEod2luZG93KS5zY3JvbGxMZWZ0KCksZSs9YSh3aW5kb3cpLnNjcm9sbFRvcCgpKSx0aGlzLnNob3dCeUNvb3JkaW5hdGVzKGQsZSk7ZWxzZSBpZih0aGlzLm9wdGlvbnMuYWx3YXlzVmlzaWJsZSl0aGlzLmhpZGUoKTtlbHNle3ZhciBmPXRoaXMuJGVsZW1lbnQub2Zmc2V0KCk7dGhpcy5zaG93QnlDb29yZGluYXRlcyhmLmxlZnQsZi50b3ArMTApfTA9PT10aGlzLm9wdGlvbnMuYnV0dG9ucy5sZW5ndGgmJnRoaXMuaGlkZSgpfX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuc2hvd0J5Q29vcmRpbmF0ZXM9ZnVuY3Rpb24oYixjKXtiLT0yMCxjKz0xNTt2YXIgZD1NYXRoLm1heCh0aGlzLiRwb3B1cF9lZGl0b3Iud2lkdGgoKSwyNTApO2IrZD49YSh3aW5kb3cpLndpZHRoKCktNTAmJmIrNDAtZD4wPyh0aGlzLiRwb3B1cF9lZGl0b3IuYWRkQ2xhc3MoInJpZ2h0LXNpZGUiKSxiPWEod2luZG93KS53aWR0aCgpLShiKzQwKSx0aGlzLiRwb3B1cF9lZGl0b3IuY3NzKCJ0b3AiLGMpLHRoaXMuJHBvcHVwX2VkaXRvci5jc3MoInJpZ2h0IixiKSx0aGlzLiRwb3B1cF9lZGl0b3IuY3NzKCJsZWZ0IiwiYXV0byIpKTpiK2Q8YSh3aW5kb3cpLndpZHRoKCktNTA/KHRoaXMuJHBvcHVwX2VkaXRvci5yZW1vdmVDbGFzcygicmlnaHQtc2lkZSIpLHRoaXMuJHBvcHVwX2VkaXRvci5jc3MoInRvcCIsYyksdGhpcy4kcG9wdXBfZWRpdG9yLmNzcygibGVmdCIsYiksdGhpcy4kcG9wdXBfZWRpdG9yLmNzcygicmlnaHQiLCJhdXRvIikpOih0aGlzLiRwb3B1cF9lZGl0b3IucmVtb3ZlQ2xhc3MoInJpZ2h0LXNpZGUiKSx0aGlzLiRwb3B1cF9lZGl0b3IuY3NzKCJ0b3AiLGMpLHRoaXMuJHBvcHVwX2VkaXRvci5jc3MoImxlZnQiLE1hdGgubWF4KGEod2luZG93KS53aWR0aCgpLWQsMTApLzIpLHRoaXMuJHBvcHVwX2VkaXRvci5jc3MoInJpZ2h0IiwiYXV0byIpKSx0aGlzLiRwb3B1cF9lZGl0b3Iuc2hvdygpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5wb3NpdGlvblBvcHVwPWZ1bmN0aW9uKGIpe2lmKGEodGhpcy4kZWRpdG9yLmZpbmQoJ2J1dHRvbi5mci1idHRuW2RhdGEtY21kPSInK2IrJyJdJykpLmxlbmd0aCl7dmFyIGM9dGhpcy4kZWRpdG9yLmZpbmQoJ2J1dHRvbi5mci1idHRuW2RhdGEtY21kPSInK2IrJyJdJyksZD1jLndpZHRoKCksZT1jLmhlaWdodCgpLTE1LGY9Yy5vZmZzZXQoKS5sZWZ0K2QvMixnPWMub2Zmc2V0KCkudG9wK2U7dGhpcy5zaG93QnlDb29yZGluYXRlcyhmLGcpfX19KGpRdWVyeSksZnVuY3Rpb24oYSl7YS5FZGl0YWJsZS5pbWFnZV9jb21tYW5kcz17ZmxvYXRJbWFnZUxlZnQ6e3RpdGxlOiJGbG9hdCBMZWZ0IixpY29uOnt0eXBlOiJmb250Iix2YWx1ZToiZmEgZmEtYWxpZ24tbGVmdCJ9fSxmbG9hdEltYWdlTm9uZTp7dGl0bGU6IkZsb2F0IE5vbmUiLGljb246e3R5cGU6ImZvbnQiLHZhbHVlOiJmYSBmYS1hbGlnbi1qdXN0aWZ5In19LGZsb2F0SW1hZ2VSaWdodDp7dGl0bGU6IkZsb2F0IFJpZ2h0IixpY29uOnt0eXBlOiJmb250Iix2YWx1ZToiZmEgZmEtYWxpZ24tcmlnaHQifX0sbGlua0ltYWdlOnt0aXRsZToiSW5zZXJ0IExpbmsiLGljb246e3R5cGU6ImZvbnQiLHZhbHVlOiJmYSBmYS1saW5rIn19LHJlcGxhY2VJbWFnZTp7dGl0bGU6IlJlcGxhY2UgSW1hZ2UiLGljb246e3R5cGU6ImZvbnQiLHZhbHVlOiJmYSBmYS1leGNoYW5nZSJ9fSxyZW1vdmVJbWFnZTp7dGl0bGU6IlJlbW92ZSBJbWFnZSIsaWNvbjp7dHlwZToiZm9udCIsdmFsdWU6ImZhIGZhLXRyYXNoLW8ifX19LGEuRWRpdGFibGUuREVGQVVMVFM9YS5leHRlbmQoYS5FZGl0YWJsZS5ERUZBVUxUUyx7YWxsb3dlZEltYWdlVHlwZXM6WyJqcGVnIiwianBnIiwicG5nIiwiZ2lmIl0sZGVmYXVsdEltYWdlVGl0bGU6IkltYWdlIHRpdGxlIixkZWZhdWx0SW1hZ2VXaWR0aDozMDAsaW1hZ2VCdXR0b25zOlsiZmxvYXRJbWFnZUxlZnQiLCJmbG9hdEltYWdlTm9uZSIsImZsb2F0SW1hZ2VSaWdodCIsImxpbmtJbWFnZSIsInJlcGxhY2VJbWFnZSIsInJlbW92ZUltYWdlIl0saW1hZ2VEZWxldGVDb25maXJtYXRpb246ITAsaW1hZ2VEZWxldGVVUkw6bnVsbCxpbWFnZURlbGV0ZVBhcmFtczp7fSxpbWFnZU1vdmU6ITAsaW1hZ2VSZXNpemU6ITAsaW1hZ2VMaW5rOiEwLGltYWdlVGl0bGU6ITAsaW1hZ2VVcGxvYWQ6ITAsaW1hZ2VVcGxvYWRQYXJhbXM6e30saW1hZ2VVcGxvYWRQYXJhbToiZmlsZSIsaW1hZ2VVcGxvYWRUb1MzOiExLGltYWdlVXBsb2FkVVJMOiJodHRwOi8vaS5mcm9hbGEuY29tL3VwbG9hZCIsbWF4SW1hZ2VTaXplOjEwNDg1NzYwLHBhc3RlSW1hZ2U6ITAsdGV4dE5lYXJJbWFnZTohMH0pLGEuRWRpdGFibGUucHJvdG90eXBlLmhpZGVJbWFnZUVkaXRvclBvcHVwPWZ1bmN0aW9uKCl7dGhpcy4kaW1hZ2VfZWRpdG9yJiZ0aGlzLiRpbWFnZV9lZGl0b3IuaGlkZSgpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zaG93SW1hZ2VFZGl0b3JQb3B1cD1mdW5jdGlvbigpe3RoaXMuJGltYWdlX2VkaXRvciYmdGhpcy4kaW1hZ2VfZWRpdG9yLnNob3coKSx0aGlzLm9wdGlvbnMuaW1hZ2VNb3ZlfHx0aGlzLiRlbGVtZW50LmF0dHIoImNvbnRlbnRlZGl0YWJsZSIsITEpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zaG93SW1hZ2VXcmFwcGVyPWZ1bmN0aW9uKCl7dGhpcy4kaW1hZ2Vfd3JhcHBlciYmdGhpcy4kaW1hZ2Vfd3JhcHBlci5zaG93KCl9LGEuRWRpdGFibGUucHJvdG90eXBlLmhpZGVJbWFnZVdyYXBwZXI9ZnVuY3Rpb24oYSl7dGhpcy4kaW1hZ2Vfd3JhcHBlciYmKHRoaXMuJGVsZW1lbnQuYXR0cigiZGF0YS1yZXNpemUiKXx8YXx8KHRoaXMuY2xvc2VJbWFnZU1vZGUoKSx0aGlzLmltYWdlTW9kZT0hMSksdGhpcy4kaW1hZ2Vfd3JhcHBlci5oaWRlKCksdGhpcy4kaW1hZ2Vfd3JhcHBlci5maW5kKCJpbnB1dCIpLmJsdXIoKSl9LGEuRWRpdGFibGUucHJvdG90eXBlLnNob3dJbnNlcnRJbWFnZT1mdW5jdGlvbigpe3RoaXMuaGlkZVBvcHVwcygpLHRoaXMuc2hvd0ltYWdlV3JhcHBlcigpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zaG93SW1hZ2VFZGl0b3I9ZnVuY3Rpb24oKXt0aGlzLmhpZGVQb3B1cHMoKSx0aGlzLnNob3dJbWFnZUVkaXRvclBvcHVwKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLmluc2VydEltYWdlSFRNTD1mdW5jdGlvbigpe3ZhciBiPSc8ZGl2IGNsYXNzPSJmcm9hbGEtcG9wdXAgZnJvYWxhLWltYWdlLXBvcHVwIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPjxoND48c3BhbiBkYXRhLXRleHQ9InRydWUiPkluc2VydCBJbWFnZTwvc3Bhbj48c3BhbiBkYXRhLXRleHQ9InRydWUiPlVwbG9hZGluZyBpbWFnZTwvc3Bhbj48aSB0aXRsZT0iQ2FuY2VsIiBjbGFzcz0iZmEgZmEtdGltZXMiIGlkPSJmLWltYWdlLWNsb3NlLScrdGhpcy5faWQrJyI+PC9pPjwvaDQ+JztyZXR1cm4gYis9JzxkaXYgaWQ9ImYtaW1hZ2UtbGlzdC0nK3RoaXMuX2lkKyciPicsdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkJiYoYis9JzxkaXYgY2xhc3M9ImYtcG9wdXAtbGluZSBkcm9wLXVwbG9hZCI+JyxiKz0nPGRpdiBjbGFzcz0iZi11cGxvYWQiIGlkPSJmLXVwbG9hZC1kaXYtJyt0aGlzLl9pZCsnIj48c3Ryb25nIGRhdGEtdGV4dD0idHJ1ZSI+RHJvcCBJbWFnZTwvc3Ryb25nPjxicj4oPHNwYW4gZGF0YS10ZXh0PSJ0cnVlIj5vciBjbGljazwvc3Bhbj4pPGZvcm0gdGFyZ2V0PSJmcmFtZS0nK3RoaXMuX2lkKyciIGVuY3R5cGU9Im11bHRpcGFydC9mb3JtLWRhdGEiIGVuY29kaW5nPSJtdWx0aXBhcnQvZm9ybS1kYXRhIiBhY3Rpb249IicrdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkVVJMKyciIG1ldGhvZD0icG9zdCIgaWQ9ImYtdXBsb2FkLWZvcm0tJyt0aGlzLl9pZCsnIj48aW5wdXQgaWQ9ImYtZmlsZS11cGxvYWQtJyt0aGlzLl9pZCsnIiB0eXBlPSJmaWxlIiBuYW1lPSInK3RoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFBhcmFtKyciIGFjY2VwdD0iaW1hZ2UvKiI+PC9mb3JtPjwvZGl2PicsdGhpcy5icm93c2VyLm1zaWUmJmEuRWRpdGFibGUuZ2V0SUV2ZXJzaW9uKCk8PTkmJihiKz0nPGlmcmFtZSBpZD0iZnJhbWUtJyt0aGlzLl9pZCsnIiBuYW1lPSJmcmFtZS0nK3RoaXMuX2lkKyciIHNyYz0iamF2YXNjcmlwdDpmYWxzZTsiIHN0eWxlPSJ3aWR0aDowOyBoZWlnaHQ6MDsgYm9yZGVyOjBweCBzb2xpZCAjRkZGOyBwb3NpdGlvbjogZml4ZWQ7IHotaW5kZXg6IC0xOyI+PC9pZnJhbWU+JyksYis9IjwvZGl2PiIpLHRoaXMub3B0aW9ucy5pbWFnZUxpbmsmJihiKz0nPGRpdiBjbGFzcz0iZi1wb3B1cC1saW5lIj48bGFiZWw+PHNwYW4gZGF0YS10ZXh0PSJ0cnVlIj5FbnRlciBVUkw8L3NwYW4+OiA8L2xhYmVsPjxpbnB1dCBpZD0iZi1pbWFnZS11cmwtJyt0aGlzLl9pZCsnIiB0eXBlPSJ0ZXh0IiBwbGFjZWhvbGRlcj0iaHR0cDovL2V4YW1wbGUuY29tIj48YnV0dG9uIGNsYXNzPSJmLWJyb3dzZSIgaWQ9ImYtYnJvd3Nlci0nK3RoaXMuX2lkKyciPjxpIGNsYXNzPSJmYSBmYS1zZWFyY2giPjwvaT48L2J1dHRvbj48YnV0dG9uIGRhdGEtdGV4dD0idHJ1ZSIgY2xhc3M9ImYtb2siIGlkPSJmLWltYWdlLW9rLScrdGhpcy5faWQrJyI+T0s8L2J1dHRvbj48L2Rpdj4nKSxiKz0iPC9kaXY+IixiKz0nPHAgY2xhc3M9ImYtcHJvZ3Jlc3MiIGlkPSJmLXByb2dyZXNzLScrdGhpcy5faWQrJyI+PHNwYW4+PC9zcGFuPjwvcD4nLGIrPSI8L2Rpdj4iCn0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaUZyYW1lTG9hZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuJGltYWdlX3dyYXBwZXIuZmluZCgiaWZyYW1lI2ZyYW1lLSIrdGhpcy5faWQpO2lmKCFhLmF0dHIoImRhdGEtbG9hZGVkIikpcmV0dXJuIGEuYXR0cigiZGF0YS1sb2FkZWQiLCEwKSwhMTt0cnl7dmFyIGI9dGhpcy4kaW1hZ2Vfd3JhcHBlci5maW5kKCIjZi11cGxvYWQtZm9ybS0iK3RoaXMuX2lkKTtpZih0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRUb1MzKXt2YXIgYz1iLmF0dHIoImFjdGlvbiIpLGQ9Yi5maW5kKCdpbnB1dFtuYW1lPSJrZXkiXScpLnZhbCgpLGU9YytkO3RoaXMud3JpdGVJbWFnZShlKSx0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRUb1MzLmNhbGxiYWNrJiZ0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRUb1MzLmNhbGxiYWNrLmNhbGwodGhpcyxlLGQpfWVsc2V7dmFyIGY9YS5jb250ZW50cygpLnRleHQoKTt0aGlzLnBhcnNlSW1hZ2VSZXNwb25zZShmKX19Y2F0Y2goZyl7dGhpcy50aHJvd0ltYWdlRXJyb3IoNyl9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pbml0SW1hZ2U9ZnVuY3Rpb24oKXt0aGlzLmJ1aWxkSW5zZXJ0SW1hZ2UoKSwoIXRoaXMuaXNMaW5rfHx0aGlzLmlzSW1hZ2UpJiZ0aGlzLmluaXRJbWFnZVBvcHVwKCksdGhpcy5hZGRMaXN0ZW5lcigiZGVzdHJveSIsdGhpcy5kZXN0cm95SW1hZ2UpfSxhLkVkaXRhYmxlLmluaXRpYWxpemVycy5wdXNoKGEuRWRpdGFibGUucHJvdG90eXBlLmluaXRJbWFnZSksYS5FZGl0YWJsZS5wcm90b3R5cGUuZGVzdHJveUltYWdlPWZ1bmN0aW9uKCl7dGhpcy4kaW1hZ2VfZWRpdG9yJiZ0aGlzLiRpbWFnZV9lZGl0b3IuaHRtbCgiIikucmVtb3ZlRGF0YSgpLnJlbW92ZSgpLHRoaXMuJGltYWdlX3dyYXBwZXImJnRoaXMuJGltYWdlX3dyYXBwZXIuaHRtbCgiIikucmVtb3ZlRGF0YSgpLnJlbW92ZSgpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5idWlsZEluc2VydEltYWdlPWZ1bmN0aW9uKCl7dGhpcy4kaW1hZ2Vfd3JhcHBlcj1hKHRoaXMuaW5zZXJ0SW1hZ2VIVE1MKCkpLHRoaXMuJHBvcHVwX2VkaXRvci5hcHBlbmQodGhpcy4kaW1hZ2Vfd3JhcHBlcik7dmFyIGI9dGhpcztpZih0aGlzLiRpbWFnZV93cmFwcGVyLm9uKCJtb3VzZXVwIHRvdWNoZW5kIixhLnByb3h5KGZ1bmN0aW9uKGEpe3RoaXMuaXNSZXNpemluZygpfHxhLnN0b3BQcm9wYWdhdGlvbigpfSx0aGlzKSksdGhpcy5hZGRMaXN0ZW5lcigiaGlkZVBvcHVwcyIsYS5wcm94eShmdW5jdGlvbigpe3RoaXMuaGlkZUltYWdlV3JhcHBlcighMCl9KSx0aGlzKSx0aGlzLiRwcm9ncmVzc19iYXI9dGhpcy4kaW1hZ2Vfd3JhcHBlci5maW5kKCJwI2YtcHJvZ3Jlc3MtIit0aGlzLl9pZCksdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkKXtpZih0aGlzLmJyb3dzZXIubXNpZSYmYS5FZGl0YWJsZS5nZXRJRXZlcnNpb24oKTw9OSl7dmFyIGM9dGhpcy4kaW1hZ2Vfd3JhcHBlci5maW5kKCJpZnJhbWUiKS5nZXQoMCk7Yy5hdHRhY2hFdmVudD9jLmF0dGFjaEV2ZW50KCJvbmxvYWQiLGZ1bmN0aW9uKCl7Yi5pRnJhbWVMb2FkKCl9KTpjLm9ubG9hZD1mdW5jdGlvbigpe2IuaUZyYW1lTG9hZCgpfX10aGlzLiRpbWFnZV93cmFwcGVyLm9uKCJjaGFuZ2UiLCdpbnB1dFt0eXBlPSJmaWxlIl0nLGZ1bmN0aW9uKCl7aWYodm9pZCAwIT09dGhpcy5maWxlcyliLnVwbG9hZEltYWdlKHRoaXMuZmlsZXMpO2Vsc2V7dmFyIGM9YSh0aGlzKS5wYXJlbnRzKCJmb3JtIik7Yy5maW5kKCdpbnB1dFt0eXBlPSJoaWRkZW4iXScpLnJlbW92ZSgpO3ZhciBkO2ZvcihkIGluIGIub3B0aW9ucy5pbWFnZVVwbG9hZFBhcmFtcyljLnByZXBlbmQoJzxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IicrZCsnIiB2YWx1ZT0iJytiLm9wdGlvbnMuaW1hZ2VVcGxvYWRQYXJhbXNbZF0rJyIgLz4nKTtpZihiLm9wdGlvbnMuaW1hZ2VVcGxvYWRUb1MzIT09ITEpe2ZvcihkIGluIGIub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzMucGFyYW1zKWMucHJlcGVuZCgnPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iJytkKyciIHZhbHVlPSInK2Iub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzMucGFyYW1zW2RdKyciIC8+Jyk7Yy5wcmVwZW5kKCc8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJzdWNjZXNzX2FjdGlvbl9zdGF0dXMiIHZhbHVlPSIyMDEiIC8+JyksYy5wcmVwZW5kKCc8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJYLVJlcXVlc3RlZC1XaXRoIiB2YWx1ZT0ieGhyIiAvPicpLGMucHJlcGVuZCgnPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iQ29udGVudC1UeXBlIiB2YWx1ZT0iIiAvPicpLGMucHJlcGVuZCgnPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ia2V5IiB2YWx1ZT0iJytiLm9wdGlvbnMuaW1hZ2VVcGxvYWRUb1MzLmtleVN0YXJ0KyhuZXcgRGF0ZSkuZ2V0VGltZSgpKyItIithKHRoaXMpLnZhbCgpLm1hdGNoKC9bXlwvXFxdKyQvKSsnIiAvPicpfWVsc2UgYy5wcmVwZW5kKCc8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJYSFJfQ09SU19UUkFSR0VUT1JJR0lOIiB2YWx1ZT0iJyt3aW5kb3cubG9jYXRpb24uaHJlZisnIiAvPicpO2Iuc2hvd0luc2VydEltYWdlKCksYi5zaG93SW1hZ2VMb2FkZXIoITApLGIuZGlzYWJsZSgpLGMuc3VibWl0KCl9YSh0aGlzKS52YWwoIiIpfSl9dGhpcy5idWlsZERyYWdVcGxvYWQoKSx0aGlzLiRpbWFnZV93cmFwcGVyLm9uKCJtb3VzZXVwIGtleWRvd24iLCIjZi1pbWFnZS11cmwtIit0aGlzLl9pZCxhLnByb3h5KGZ1bmN0aW9uKGEpe3ZhciBiPWEud2hpY2g7YiYmMjc9PT1ifHxhLnN0b3BQcm9wYWdhdGlvbigpfSx0aGlzKSksdGhpcy4kaW1hZ2Vfd3JhcHBlci5vbigiY2xpY2siLCIjZi1pbWFnZS1vay0iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLndyaXRlSW1hZ2UodGhpcy4kaW1hZ2Vfd3JhcHBlci5maW5kKCIjZi1pbWFnZS11cmwtIit0aGlzLl9pZCkudmFsKCksITApfSx0aGlzKSksdGhpcy4kaW1hZ2Vfd3JhcHBlci5vbih0aGlzLm1vdXNldXAsIiNmLWltYWdlLWNsb3NlLSIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0Rpc2FibGVkPyExOihhLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuJGJ0dG5fd3JhcHBlci5zaG93KCksdGhpcy5oaWRlSW1hZ2VXcmFwcGVyKCEwKSx0aGlzLm9wdGlvbnMuaW5saW5lTW9kZSYmMD09PXRoaXMub3B0aW9ucy5idXR0b25zLmxlbmd0aCYmKHRoaXMuaW1hZ2VNb2RlP3RoaXMuc2hvd0ltYWdlRWRpdG9yKCk6dGhpcy5oaWRlKCkpLHRoaXMuaW1hZ2VNb2RlfHwodGhpcy5yZXN0b3JlU2VsZWN0aW9uKCksdGhpcy5mb2N1cygpKSx2b2lkKHRoaXMub3B0aW9ucy5pbmxpbmVNb2RlfHx0aGlzLmltYWdlTW9kZT90aGlzLmltYWdlTW9kZSYmdGhpcy5zaG93SW1hZ2VFZGl0b3IoKTp0aGlzLmhpZGUoKSkpfSx0aGlzKSksdGhpcy4kaW1hZ2Vfd3JhcHBlci5vbigiY2xpY2siLGZ1bmN0aW9uKGEpe2Euc3RvcFByb3BhZ2F0aW9uKCl9KSx0aGlzLiRpbWFnZV93cmFwcGVyLm9uKCJjbGljayIsIioiLGZ1bmN0aW9uKGEpe2Euc3RvcFByb3BhZ2F0aW9uKCl9KX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZGVsZXRlSW1hZ2U9ZnVuY3Rpb24oYil7aWYodGhpcy5vcHRpb25zLmltYWdlRGVsZXRlVVJMKXt2YXIgYz10aGlzLm9wdGlvbnMuaW1hZ2VEZWxldGVQYXJhbXM7Yy5pbmZvPWIuZGF0YSgiaW5mbyIpLGMuc3JjPWIuYXR0cigic3JjIiksYS5hamF4KHt0eXBlOiJQT1NUIix1cmw6dGhpcy5vcHRpb25zLmltYWdlRGVsZXRlVVJMLGRhdGE6Yyxjcm9zc0RvbWFpbjp0aGlzLm9wdGlvbnMuY3Jvc3NEb21haW4seGhyRmllbGRzOnt3aXRoQ3JlZGVudGlhbHM6dGhpcy5vcHRpb25zLndpdGhDcmVkZW50aWFsc30saGVhZGVyczp0aGlzLm9wdGlvbnMuaGVhZGVyc30pLmRvbmUoYS5wcm94eShmdW5jdGlvbihhKXtiLnBhcmVudCgpLnBhcmVudCgpLmhhc0NsYXNzKCJmLWltYWdlLWxpc3QiKT9iLnBhcmVudCgpLnJlbW92ZSgpOmIucGFyZW50KCkucmVtb3ZlQ2xhc3MoImYtaW1nLWRlbGV0aW5nIiksdGhpcy50cmlnZ2VyRXZlbnQoImltYWdlRGVsZXRlU3VjY2VzcyIsW2FdLCExKX0sdGhpcykpLmZhaWwoYS5wcm94eShmdW5jdGlvbigpe2IucGFyZW50KCkucmVtb3ZlQ2xhc3MoImYtaW1nLWRlbGV0aW5nIiksdGhpcy50cmlnZ2VyRXZlbnQoImltYWdlRGVsZXRlRXJyb3IiLFsiRXJyb3IgZHVyaW5nIGltYWdlIGRlbGV0ZS4iXSwhMSl9LHRoaXMpKX1lbHNlIGIucGFyZW50KCkucmVtb3ZlQ2xhc3MoImYtaW1nLWRlbGV0aW5nIiksdGhpcy50cmlnZ2VyRXZlbnQoImltYWdlRGVsZXRlRXJyb3IiLFsiTWlzc2luZyBpbWFnZURlbGV0ZVVSTCBvcHRpb24uIl0sITEpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pbWFnZUhhbmRsZT1mdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1hKCc8c3BhbiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIj4nKS5hZGRDbGFzcygiZi1pbWctaGFuZGxlIikub24oe21vdmVzdGFydDpmdW5jdGlvbihjKXtiLmhpZGUoKSxiLiRlbGVtZW50LmFkZENsYXNzKCJmLW5vbi1zZWxlY3RhYmxlIikuYXR0cigiY29udGVudGVkaXRhYmxlIiwhMSksYi4kZWxlbWVudC5hdHRyKCJkYXRhLXJlc2l6ZSIsITApLGEodGhpcykuYXR0cigiZGF0YS1zdGFydC14IixjLnN0YXJ0WCksYSh0aGlzKS5hdHRyKCJkYXRhLXN0YXJ0LXkiLGMuc3RhcnRZKX0sbW92ZTpmdW5jdGlvbihjKXt2YXIgZD1hKHRoaXMpLGU9Yy5wYWdlWC1wYXJzZUludChkLmF0dHIoImRhdGEtc3RhcnQteCIpLDEwKTtkLmF0dHIoImRhdGEtc3RhcnQteCIsYy5wYWdlWCksZC5hdHRyKCJkYXRhLXN0YXJ0LXkiLGMucGFnZVkpO3ZhciBmPWQucHJldkFsbCgiaW1nIiksZz1mLndpZHRoKCk7ZC5oYXNDbGFzcygiZi1oLW5lIil8fGQuaGFzQ2xhc3MoImYtaC1zZSIpP2YuYXR0cigid2lkdGgiLGcrZSk6Zi5hdHRyKCJ3aWR0aCIsZy1lKSxiLnRyaWdnZXJFdmVudCgiaW1hZ2VSZXNpemUiLFtdLCExKX0sbW92ZWVuZDpmdW5jdGlvbigpe2EodGhpcykucmVtb3ZlQXR0cigiZGF0YS1zdGFydC14IiksYSh0aGlzKS5yZW1vdmVBdHRyKCJkYXRhLXN0YXJ0LXkiKSxiLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJmLW5vbi1zZWxlY3RhYmxlIiksYi5pc0ltYWdlfHxiLiRlbGVtZW50LmF0dHIoImNvbnRlbnRlZGl0YWJsZSIsITApLGIudHJpZ2dlckV2ZW50KCJpbWFnZVJlc2l6ZUVuZCIpLGEodGhpcykudHJpZ2dlcigibW91c2V1cCIpfSx0b3VjaGVuZDpmdW5jdGlvbigpe2EodGhpcykudHJpZ2dlcigibW92ZWVuZCIpfX0pO3JldHVybiBjfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5kaXNhYmxlSW1hZ2VSZXNpemU9ZnVuY3Rpb24oKXtpZih0aGlzLmJyb3dzZXIubW96aWxsYSl0cnl7ZG9jdW1lbnQuZXhlY0NvbW1hbmQoImVuYWJsZU9iamVjdFJlc2l6aW5nIiwhMSwhMSksZG9jdW1lbnQuZXhlY0NvbW1hbmQoImVuYWJsZUlubGluZVRhYmxlRWRpdGluZyIsITEsITEpfWNhdGNoKGEpe319LGEuRWRpdGFibGUucHJvdG90eXBlLmlzUmVzaXppbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWxlbWVudC5hdHRyKCJkYXRhLXJlc2l6ZSIpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5nZXRJbWFnZUNsYXNzPWZ1bmN0aW9uKGEpe3ZhciBiPWEuc3BsaXQoIiAiKTtyZXR1cm4gYi5pbmRleE9mKCJmci1maXIiKT49MD8iZnItZmlyIjpiLmluZGV4T2YoImZyLWZpbCIpPj0wPyJmci1maWwiOiJmci1maW4ifSxhLkVkaXRhYmxlLnByb3RvdHlwZS5hZGRJbWFnZUNsYXNzPWZ1bmN0aW9uKGEsYil7YS5yZW1vdmVDbGFzcygiZnItZmluIGZyLWZpciBmci1maWwiKS5hZGRDbGFzcyhiKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaW5pdEltYWdlRXZlbnRzPWZ1bmN0aW9uKCl7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciYmIWRvY3VtZW50LmRyb3BBc3NpZ25lZCYmKGRvY3VtZW50LmRyb3BBc3NpZ25lZD0hMCxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJkcm9wIixhLnByb3h5KGZ1bmN0aW9uKGIpe3JldHVybiBiLnByZXZlbnREZWZhdWx0KCksYi5zdG9wUHJvcGFnYXRpb24oKSxhKCIuZnJvYWxhLWVsZW1lbnQgaW1nLmZyLWltYWdlLW1vdmUiKS5yZW1vdmVDbGFzcygiZnItaW1hZ2UtbW92ZSIpLCExfSx0aGlzKSkpLHRoaXMuZGlzYWJsZUltYWdlUmVzaXplKCk7dmFyIGI9dGhpczt0aGlzLiRlbGVtZW50Lm9uKCJtb3VzZWRvd24iLCdpbWc6bm90KFtjb250ZW50ZWRpdGFibGU9ImZhbHNlIl0pJyxmdW5jdGlvbihjKXtyZXR1cm4gYi5pc0Rpc2FibGVkPyExOnZvaWQoYi5pc1Jlc2l6aW5nKCl8fChiLmluaXRpYWxpemVkJiZjLnN0b3BQcm9wYWdhdGlvbigpLGIuJGVsZW1lbnQuYXR0cigiY29udGVudGVkaXRhYmxlIiwhMSksYSh0aGlzKS5hZGRDbGFzcygiZnItaW1hZ2UtbW92ZSIpKSl9KSx0aGlzLiRlbGVtZW50Lm9uKCJtb3VzZXVwIiwnaW1nOm5vdChbY29udGVudGVkaXRhYmxlPSJmYWxzZSJdKScsZnVuY3Rpb24oKXtyZXR1cm4gYi5pc0Rpc2FibGVkPyExOnZvaWQoYi5pc1Jlc2l6aW5nKCl8fChiLm9wdGlvbnMuaW1hZ2VNb3ZlfHxiLmlzSW1hZ2V8fGIuaXNIVE1MfHxiLiRlbGVtZW50LmF0dHIoImNvbnRlbnRlZGl0YWJsZSIsITApLGEodGhpcykucmVtb3ZlQ2xhc3MoImZyLWltYWdlLW1vdmUiKSkpfSksdGhpcy4kZWxlbWVudC5vbigiY2xpY2sgdG91Y2hlbmQiLCdpbWc6bm90KFtjb250ZW50ZWRpdGFibGU9ImZhbHNlIl0pJyxmdW5jdGlvbihjKXtpZihiLmlzRGlzYWJsZWQpcmV0dXJuITE7aWYoIWIuaXNSZXNpemluZygpJiZiLmluaXRpYWxpemVkKXtjLnByZXZlbnREZWZhdWx0KCksYy5zdG9wUHJvcGFnYXRpb24oKSxiLmNsb3NlSW1hZ2VNb2RlKCksYi4kZWxlbWVudC5ibHVyKCksYi4kaW1hZ2VfZWRpdG9yLmZpbmQoImJ1dHRvbiIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKTt2YXIgZD1hKHRoaXMpLmNzcygiZmxvYXQiKTtpZihhKHRoaXMpLmhhc0NsYXNzKCJmci1maWwiKT9kPSJsZWZ0IjphKHRoaXMpLmhhc0NsYXNzKCJmci1maXIiKSYmKGQ9InJpZ2h0IiksYi4kaW1hZ2VfZWRpdG9yLmZpbmQoJ2J1dHRvbltkYXRhLWNtZD0iZmxvYXRJbWFnZScrZC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStkLnNsaWNlKDEpKyciXScpLmFkZENsYXNzKCJhY3RpdmUiKSxiLiRpbWFnZV9lZGl0b3IuZmluZCgnLmYtaW1hZ2UtYWx0IGlucHV0W3R5cGU9InRleHQiXScpLnZhbChhKHRoaXMpLmF0dHIoImFsdCIpfHxhKHRoaXMpLmF0dHIoInRpdGxlIikpLGIuc2hvd0ltYWdlRWRpdG9yKCksIWEodGhpcykucGFyZW50KCkuaGFzQ2xhc3MoImYtaW1nLWVkaXRvciIpfHwiU1BBTiIhPWEodGhpcykucGFyZW50KCkuZ2V0KDApLnRhZ05hbWUpe3ZhciBlPWIuZ2V0SW1hZ2VDbGFzcyhhKHRoaXMpLmF0dHIoImNsYXNzIikpO2EodGhpcykud3JhcCgnPHNwYW4gZGF0YS1mci12ZXJpZmllZD0idHJ1ZSIgY2xhc3M9ImYtaW1nLWVkaXRvciAnK2UrJyI+PC9zcGFuPicpLDAhPT1hKHRoaXMpLnBhcmVudHMoIi5mLWltZy13cmFwIikubGVuZ3RofHxiLmlzSW1hZ2U/Yi5hZGRJbWFnZUNsYXNzKGEodGhpcykucGFyZW50cygiLmYtaW1nLXdyYXAiKSxlKTphKHRoaXMpLnBhcmVudHMoImEiKS5sZW5ndGg+MD9hKHRoaXMpLnBhcmVudHMoImE6Zmlyc3QiKS53cmFwKCc8c3BhbiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIiBjbGFzcz0iZi1pbWctd3JhcCAnK2UrJyI+PC9zcGFuPicpOmEodGhpcykucGFyZW50KCkud3JhcCgnPHNwYW4gZGF0YS1mci12ZXJpZmllZD0idHJ1ZSIgY2xhc3M9ImYtaW1nLXdyYXAgJytlKyciPjwvc3Bhbj4nKX12YXIgZj1iLmltYWdlSGFuZGxlKCk7YSh0aGlzKS5wYXJlbnQoKS5maW5kKCIuZi1pbWctaGFuZGxlIikucmVtb3ZlKCksYi5vcHRpb25zLmltYWdlUmVzaXplJiYoYSh0aGlzKS5wYXJlbnQoKS5hcHBlbmQoZi5jbG9uZSghMCkuYWRkQ2xhc3MoImYtaC1uZSIpKSxhKHRoaXMpLnBhcmVudCgpLmFwcGVuZChmLmNsb25lKCEwKS5hZGRDbGFzcygiZi1oLXNlIikpLGEodGhpcykucGFyZW50KCkuYXBwZW5kKGYuY2xvbmUoITApLmFkZENsYXNzKCJmLWgtc3ciKSksYSh0aGlzKS5wYXJlbnQoKS5hcHBlbmQoZi5jbG9uZSghMCkuYWRkQ2xhc3MoImYtaC1udyIpKSksYi5zaG93QnlDb29yZGluYXRlcyhhKHRoaXMpLm9mZnNldCgpLmxlZnQrYSh0aGlzKS53aWR0aCgpLzIsYSh0aGlzKS5vZmZzZXQoKS50b3ArYSh0aGlzKS5oZWlnaHQoKSksYi5pbWFnZU1vZGU9ITAsYi4kYnR0bl93cmFwcGVyLmZpbmQoIi5mci1idHRuIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpLGIuY2xlYXJTZWxlY3Rpb24oKX19KSx0aGlzLiRlbGVtZW50Lm9uKCJtb3VzZWRvd24gdG91Y2hzdGFydCIsIi5mLWltZy1oYW5kbGUiLGEucHJveHkoZnVuY3Rpb24oKXtyZXR1cm4gYi5pc0Rpc2FibGVkPyExOnZvaWQgdGhpcy4kZWxlbWVudC5hdHRyKCJkYXRhLXJlc2l6ZSIsITApfSx0aGlzKSksdGhpcy4kZWxlbWVudC5vbigibW91c2V1cCIsIi5mLWltZy1oYW5kbGUiLGEucHJveHkoZnVuY3Rpb24oYyl7aWYoYi5pc0Rpc2FibGVkKXJldHVybiExO3ZhciBkPWEoYy50YXJnZXQpLnByZXZBbGwoImltZyIpO3NldFRpbWVvdXQoYS5wcm94eShmdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQucmVtb3ZlQXR0cigiZGF0YS1yZXNpemUiKSxkLmNsaWNrKCl9LHRoaXMpLDApfSx0aGlzKSl9LGEuRWRpdGFibGUucHJvdG90eXBlLmluaXRJbWFnZVBvcHVwPWZ1bmN0aW9uKCl7dGhpcy4kaW1hZ2VfZWRpdG9yPWEoJzxkaXYgY2xhc3M9ImZyb2FsYS1wb3B1cCBmcm9hbGEtaW1hZ2UtZWRpdG9yLXBvcHVwIiBzdHlsZT0iZGlzcGxheTogbm9uZSI+Jyk7Zm9yKHZhciBiPWEoJzxkaXYgY2xhc3M9ImYtcG9wdXAtbGluZSBmLXBvcHVwLXRvb2xiYXIiPicpLmFwcGVuZFRvKHRoaXMuJGltYWdlX2VkaXRvciksYz0wO2M8dGhpcy5vcHRpb25zLmltYWdlQnV0dG9ucy5sZW5ndGg7YysrKXt2YXIgZD10aGlzLm9wdGlvbnMuaW1hZ2VCdXR0b25zW2NdO2lmKHZvaWQgMCE9PWEuRWRpdGFibGUuaW1hZ2VfY29tbWFuZHNbZF0pe3ZhciBlPWEuRWRpdGFibGUuaW1hZ2VfY29tbWFuZHNbZF0sZj0nPGJ1dHRvbiBjbGFzcz0iZnItYnR0biIgZGF0YS1jYWxsYmFjaz0iJytkKyciIGRhdGEtY21kPSInK2QrJyIgdGl0bGU9IicrZS50aXRsZSsnIj4nO2YrPXZvaWQgMCE9PXRoaXMub3B0aW9ucy5pY29uc1tkXT90aGlzLnByZXBhcmVJY29uKHRoaXMub3B0aW9ucy5pY29uc1tkXSxlLnRpdGxlKTp0aGlzLnByZXBhcmVJY29uKGUuaWNvbixlLnRpdGxlKSxmKz0iPC9idXR0b24+IixiLmFwcGVuZChmKX19dGhpcy5hZGRMaXN0ZW5lcigiaGlkZVBvcHVwcyIsdGhpcy5oaWRlSW1hZ2VFZGl0b3JQb3B1cCksdGhpcy5vcHRpb25zLmltYWdlVGl0bGUmJmEoJzxkaXYgY2xhc3M9ImYtcG9wdXAtbGluZSBmLWltYWdlLWFsdCI+JykuYXBwZW5kKCc8bGFiZWw+PHNwYW4gZGF0YS10ZXh0PSJ0cnVlIj5UaXRsZTwvc3Bhbj46IDwvbGFiZWw+JykuYXBwZW5kKGEoJzxpbnB1dCB0eXBlPSJ0ZXh0Ij4nKS5vbigibW91c2V1cCBrZXlkb3duIixmdW5jdGlvbihhKXt2YXIgYj1hLndoaWNoO2ImJjI3PT09Ynx8YS5zdG9wUHJvcGFnYXRpb24oKX0pKS5hcHBlbmQoJzxidXR0b24gY2xhc3M9ImYtb2siIGRhdGEtdGV4dD0idHJ1ZSIgZGF0YS1jYWxsYmFjaz0ic2V0SW1hZ2VBbHQiIGRhdGEtY21kPSJzZXRJbWFnZUFsdCIgdGl0bGU9Ik9LIj5PSzwvYnV0dG9uPicpLmFwcGVuZFRvKHRoaXMuJGltYWdlX2VkaXRvciksdGhpcy4kcG9wdXBfZWRpdG9yLmFwcGVuZCh0aGlzLiRpbWFnZV9lZGl0b3IpLHRoaXMuYmluZENvbW1hbmRFdmVudHModGhpcy4kaW1hZ2VfZWRpdG9yKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZmxvYXRJbWFnZUxlZnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiRlbGVtZW50LmZpbmQoInNwYW4uZi1pbWctZWRpdG9yIik7dGhpcy5hZGRJbWFnZUNsYXNzKGEsImZyLWZpbCIpLHRoaXMuaXNJbWFnZSYmdGhpcy4kZWxlbWVudC5jc3MoImZsb2F0IiwibGVmdCIpLHRoaXMudHJpZ2dlckV2ZW50KCJpbWFnZUZsb2F0ZWRMZWZ0IiksYS5maW5kKCJpbWciKS5jbGljaygpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5mbG9hdEltYWdlTm9uZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuJGVsZW1lbnQuZmluZCgic3Bhbi5mLWltZy1lZGl0b3IiKTt0aGlzLmFkZEltYWdlQ2xhc3MoYSwiZnItZmluIiksdGhpcy5pc0ltYWdlfHwoYS5wYXJlbnQoKS5nZXQoMCk9PXRoaXMuJGVsZW1lbnQuZ2V0KDApP2Eud3JhcCgnPGRpdiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyI+PC9kaXY+Jyk6YS5wYXJlbnRzKCIuZi1pbWctd3JhcDpmaXJzdCIpLmNzcygidGV4dC1hbGlnbiIsImNlbnRlciIpKSx0aGlzLmlzSW1hZ2UmJnRoaXMuJGVsZW1lbnQuY3NzKCJmbG9hdCIsIm5vbmUiKSx0aGlzLnRyaWdnZXJFdmVudCgiaW1hZ2VGbG9hdGVkTm9uZSIpLGEuZmluZCgiaW1nIikuY2xpY2soKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZmxvYXRJbWFnZVJpZ2h0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kZWxlbWVudC5maW5kKCJzcGFuLmYtaW1nLWVkaXRvciIpO3RoaXMuYWRkSW1hZ2VDbGFzcyhhLCJmci1maXIiKSx0aGlzLmlzSW1hZ2UmJnRoaXMuJGVsZW1lbnQuY3NzKCJmbG9hdCIsInJpZ2h0IiksdGhpcy50cmlnZ2VyRXZlbnQoImltYWdlRmxvYXRlZFJpZ2h0IiksYS5maW5kKCJpbWciKS5jbGljaygpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5saW5rSW1hZ2U9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiRlbGVtZW50LmZpbmQoInNwYW4uZi1pbWctZWRpdG9yIik7dGhpcy5zaG93SW5zZXJ0TGluaygpLHRoaXMuaW1hZ2VNb2RlPSEwLCJBIj09YS5wYXJlbnQoKS5nZXQoMCkudGFnTmFtZT8odGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9InRleHQiXScpLnZhbChhLnBhcmVudCgpLmF0dHIoImhyZWYiKSksdGhpcy4kbGlua193cmFwcGVyLmZpbmQoIi5mLWV4dGVybmFsLWxpbmsiKS5hdHRyKCJocmVmIixhLnBhcmVudCgpLmF0dHIoImhyZWYiKSksIl9ibGFuayI9PWEucGFyZW50KCkuYXR0cigidGFyZ2V0Iik/dGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9ImNoZWNrYm94Il0nKS5wcm9wKCJjaGVja2VkIiwhMCk6dGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9ImNoZWNrYm94Il0nKS5wcm9wKCJjaGVja2VkIiwhMSksdGhpcy4kbGlua193cmFwcGVyLmZpbmQoImEuZi1leHRlcm5hbC1saW5rLCBidXR0b24uZi11bmxpbmsiKS5zaG93KCkpOih0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0idGV4dCJdJykudmFsKCJodHRwOi8vIiksdGhpcy4kbGlua193cmFwcGVyLmZpbmQoIi5mLWV4dGVybmFsLWxpbmsiKS5hdHRyKCJocmVmIiwiIyIpLHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJjaGVja2JveCJdJykucHJvcCgiY2hlY2tlZCIsdGhpcy5vcHRpb25zLmFsd2F5c0JsYW5rKSx0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgiYS5mLWV4dGVybmFsLWxpbmssIGJ1dHRvbi5mLXVubGluayIpLmhpZGUoKSl9LGEuRWRpdGFibGUucHJvdG90eXBlLnJlcGxhY2VJbWFnZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuJGVsZW1lbnQuZmluZCgic3Bhbi5mLWltZy1lZGl0b3IiKTt0aGlzLnNob3dJbnNlcnRJbWFnZSgpLHRoaXMuaW1hZ2VNb2RlPSEwLHRoaXMuJGltYWdlX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0idGV4dCJdJykudmFsKGEuZmluZCgiaW1nIikuYXR0cigic3JjIikpO3ZhciBiPWEuZmluZCgiaW1nIik7dGhpcy5zaG93QnlDb29yZGluYXRlcyhiLm9mZnNldCgpLmxlZnQrYi53aWR0aCgpLzIsYi5vZmZzZXQoKS50b3ArYi5oZWlnaHQoKSl9LGEuRWRpdGFibGUucHJvdG90eXBlLnJlbW92ZUltYWdlPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy4kZWxlbWVudC5maW5kKCJzcGFuLmYtaW1nLWVkaXRvciIpO2lmKDA9PT1iLmxlbmd0aClyZXR1cm4hMTt2YXIgYz1iLmZpbmQoImltZyIpLmdldCgwKSxkPSJBcmUgeW91IHN1cmU/IEltYWdlIHdpbGwgYmUgZGVsZXRlZC4iO2lmKGEuRWRpdGFibGUuTEFOR1NbdGhpcy5vcHRpb25zLmxhbmd1YWdlXSYmKGQ9YS5FZGl0YWJsZS5MQU5HU1t0aGlzLm9wdGlvbnMubGFuZ3VhZ2VdLnRyYW5zbGF0aW9uW2RdKSwhdGhpcy5vcHRpb25zLmltYWdlRGVsZXRlQ29uZmlybWF0aW9ufHxjb25maXJtKGQpKXtpZih0aGlzLnRyaWdnZXJFdmVudCgiYmVmb3JlUmVtb3ZlSW1hZ2UiLFthKGMpXSwhMSkpe3ZhciBlPWIucGFyZW50cyh0aGlzLnZhbGlkX25vZGVzLmpvaW4oIiwiKSk7Yi5wYXJlbnRzKCIuZi1pbWctd3JhcCIpLmxlbmd0aD9iLnBhcmVudHMoIi5mLWltZy13cmFwIikucmVtb3ZlKCk6Yi5yZW1vdmUoKSx0aGlzLnJlZnJlc2hJbWFnZUxpc3QoITApLHRoaXMuaGlkZSgpLGUubGVuZ3RoJiZlWzBdIT10aGlzLiRlbGVtZW50LmdldCgwKSYmIiI9PT1hKGVbMF0pLnRleHQoKSYmYShlWzBdKS5yZW1vdmUoKSx0aGlzLndyYXBUZXh0KCksdGhpcy50cmlnZ2VyRXZlbnQoImFmdGVyUmVtb3ZlSW1hZ2UiLFthKGMpXSksdGhpcy5mb2N1cygpLHRoaXMuaW1hZ2VNb2RlPSExfX1lbHNlIGIuZmluZCgiaW1nIikuY2xpY2soKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuc2V0SW1hZ2VBbHQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiRlbGVtZW50LmZpbmQoInNwYW4uZi1pbWctZWRpdG9yIik7YS5maW5kKCJpbWciKS5hdHRyKCJhbHQiLHRoaXMuJGltYWdlX2VkaXRvci5maW5kKCcuZi1pbWFnZS1hbHQgaW5wdXRbdHlwZT0idGV4dCJdJykudmFsKCkpLGEuZmluZCgiaW1nIikuYXR0cigidGl0bGUiLHRoaXMuJGltYWdlX2VkaXRvci5maW5kKCcuZi1pbWFnZS1hbHQgaW5wdXRbdHlwZT0idGV4dCJdJykudmFsKCkpLHRoaXMuaGlkZSgpLHRoaXMuY2xvc2VJbWFnZU1vZGUoKSx0aGlzLnRyaWdnZXJFdmVudCgiaW1hZ2VBbHRTZXQiKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuYnVpbGRJbWFnZU1vdmU9ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMuaXNMaW5rfHx0aGlzLmluaXREcmFnKCksYi4kZWxlbWVudC5vbigiZHJhZ292ZXIgZHJhZ2VudGVyIGRyYWdlbmQiLGZ1bmN0aW9uKCl7cmV0dXJuITF9KSxiLiRlbGVtZW50Lm9uKCJkcm9wIixmdW5jdGlvbihjKXtpZihiLmNsb3NlSW1hZ2VNb2RlKCksYi5oaWRlKCksYi5pbWFnZU1vZGU9ITEsYi5pbml0aWFsaXplZHx8KGIuJGVsZW1lbnQudW5iaW5kKCJtb3VzZWRvd24uZWxlbWVudCIpLGIubGF0ZUluaXQoKSksIWIub3B0aW9ucy5pbWFnZVVwbG9hZHx8MCE9PWEoIi5mcm9hbGEtZWxlbWVudCBpbWcuZnItaW1hZ2UtbW92ZSIpLmxlbmd0aCl7aWYoYSgiLmZyb2FsYS1lbGVtZW50IC5mci1pbWFnZS1tb3ZlIikubGVuZ3RoPjAmJmIub3B0aW9ucy5pbWFnZU1vdmUpe2MucHJldmVudERlZmF1bHQoKSxjLnN0b3BQcm9wYWdhdGlvbigpLGIuaW5zZXJ0TWFya2Vyc0F0UG9pbnQoYy5vcmlnaW5hbEV2ZW50KSxiLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKTt2YXIgZD1hKCI8ZGl2PiIpLmFwcGVuZChhKCIuZnJvYWxhLWVsZW1lbnQgaW1nLmZyLWltYWdlLW1vdmUiKS5jbG9uZSgpLnJlbW92ZUNsYXNzKCJmci1pbWFnZS1tb3ZlIikuYWRkQ2xhc3MoImZyLWltYWdlLWRyb3BwZWQiKSkuaHRtbCgpO2IuaW5zZXJ0SFRNTChkKSxhKCIuZnJvYWxhLWVsZW1lbnQgaW1nLmZyLWltYWdlLW1vdmUiKS5yZW1vdmUoKSxiLmNsZWFyU2VsZWN0aW9uKCksYi5pbml0aWFsaXplZD9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi4kZWxlbWVudC5maW5kKCIuZnItaW1hZ2UtZHJvcHBlZCIpLnJlbW92ZUNsYXNzKCIuZnItaW1hZ2UtZHJvcHBlZCIpLmNsaWNrKCl9LDApOmIuJGVsZW1lbnQuZmluZCgiLmZyLWltYWdlLWRyb3BwZWQiKS5yZW1vdmVDbGFzcygiLmZyLWltYWdlLWRyb3BwZWQiKSxiLnN5bmMoKSxiLmhpZGVPdGhlckVkaXRvcnMoKX1lbHNlIGMucHJldmVudERlZmF1bHQoKSxjLnN0b3BQcm9wYWdhdGlvbigpLGEoIi5mcm9hbGEtZWxlbWVudCBpbWcuZnItaW1hZ2UtbW92ZSIpLnJlbW92ZUNsYXNzKCJmci1pbWFnZS1tb3ZlIik7cmV0dXJuITF9aWYoYy5vcmlnaW5hbEV2ZW50LmRhdGFUcmFuc2ZlciYmYy5vcmlnaW5hbEV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcyYmYy5vcmlnaW5hbEV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcy5sZW5ndGgpe2lmKGIuaXNEaXNhYmxlZClyZXR1cm4hMTtiLmluc2VydE1hcmtlcnNBdFBvaW50KGMub3JpZ2luYWxFdmVudCksYi5zaG93QnlDb29yZGluYXRlcyhjLm9yaWdpbmFsRXZlbnQucGFnZVgsYy5vcmlnaW5hbEV2ZW50LnBhZ2VZKSxiLnVwbG9hZEltYWdlKGMub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXIuZmlsZXMpLGMucHJldmVudERlZmF1bHQoKSxjLnN0b3BQcm9wYWdhdGlvbigpfX0pfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5idWlsZERyYWdVcGxvYWQ9ZnVuY3Rpb24oKXt2YXIgYj10aGlzO2IuJGltYWdlX3dyYXBwZXIub24oImRyYWdvdmVyIiwiI2YtdXBsb2FkLWRpdi0iK3RoaXMuX2lkLGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcykuYWRkQ2xhc3MoImYtaG92ZXIiKSwhMX0pLGIuJGltYWdlX3dyYXBwZXIub24oImRyYWdlbmQiLCIjZi11cGxvYWQtZGl2LSIrdGhpcy5faWQsZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzKS5yZW1vdmVDbGFzcygiZi1ob3ZlciIpLCExfSksYi4kaW1hZ2Vfd3JhcHBlci5vbigiZHJvcCIsIiNmLXVwbG9hZC1kaXYtIit0aGlzLl9pZCxmdW5jdGlvbihjKXtyZXR1cm4gYy5wcmV2ZW50RGVmYXVsdCgpLGMuc3RvcFByb3BhZ2F0aW9uKCksYi5vcHRpb25zLmltYWdlVXBsb2FkPyhhKHRoaXMpLnJlbW92ZUNsYXNzKCJmLWhvdmVyIiksdm9pZCBiLnVwbG9hZEltYWdlKGMub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXIuZmlsZXMpKTohMX0pfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5zaG93SW1hZ2VMb2FkZXI9ZnVuY3Rpb24oYSl7dm9pZCAwPT09YSYmKGE9ITEpLGE/dGhpcy4kcHJvZ3Jlc3NfYmFyLmZpbmQoInNwYW4iKS5jc3MoIndpZHRoIiwiMTAwJSIpLnRleHQoIlBsZWFzZSB3YWl0ISIpOnRoaXMuJGltYWdlX3dyYXBwZXIuZmluZCgiaDQiKS5hZGRDbGFzcygidXBsb2FkaW5nIiksdGhpcy4kaW1hZ2Vfd3JhcHBlci5maW5kKCIjZi1pbWFnZS1saXN0LSIrdGhpcy5faWQpLmhpZGUoKSx0aGlzLiRwcm9ncmVzc19iYXIuc2hvdygpLHRoaXMuc2hvd0luc2VydEltYWdlKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLmhpZGVJbWFnZUxvYWRlcj1mdW5jdGlvbigpe3RoaXMuJHByb2dyZXNzX2Jhci5oaWRlKCksdGhpcy4kcHJvZ3Jlc3NfYmFyLmZpbmQoInNwYW4iKS5jc3MoIndpZHRoIiwiMCUiKS50ZXh0KCIiKSx0aGlzLiRpbWFnZV93cmFwcGVyLmZpbmQoIiNmLWltYWdlLWxpc3QtIit0aGlzLl9pZCkuc2hvdygpLHRoaXMuJGltYWdlX3dyYXBwZXIuZmluZCgiaDQiKS5yZW1vdmVDbGFzcygidXBsb2FkaW5nIil9LGEuRWRpdGFibGUucHJvdG90eXBlLndyaXRlSW1hZ2U9ZnVuY3Rpb24oYixjKXtpZihjJiYoYj10aGlzLnNhbml0aXplVVJMKGIpLCIiPT09YikpcmV0dXJuITE7dmFyIGQ9bmV3IEltYWdlO2Qub25lcnJvcj1hLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5oaWRlSW1hZ2VMb2FkZXIoKSx0aGlzLnRocm93SW1hZ2VFcnJvcigxKX0sdGhpcyksZC5vbmxvYWQ9dGhpcy5pbWFnZU1vZGU/YS5wcm94eShmdW5jdGlvbigpe3ZhciBhPXRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLWVkaXRvciA+IGltZyIpO2EuYXR0cigic3JjIixiKSx0aGlzLmhpZGUoKSx0aGlzLmhpZGVJbWFnZUxvYWRlcigpLHRoaXMuJGltYWdlX2VkaXRvci5zaG93KCksdGhpcy5lbmFibGUoKSx0aGlzLnRyaWdnZXJFdmVudCgiaW1hZ2VSZXBsYWNlZCIsW2FdKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS50cmlnZ2VyKCJjbGljayIpfSwwKX0sdGhpcyk6YS5wcm94eShmdW5jdGlvbigpe3RoaXMuaW5zZXJ0TG9hZGVkSW1hZ2UoYil9LHRoaXMpLHRoaXMuc2hvd0ltYWdlTG9hZGVyKCEwKSxkLnNyYz1ifSxhLkVkaXRhYmxlLnByb3RvdHlwZS5wcm9jZXNzSW5zZXJ0SW1hZ2U9ZnVuY3Rpb24oYixjKXt2b2lkIDA9PT1jJiYoYz0hMCksdGhpcy5lbmFibGUoKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb24oKSx0aGlzLmZvY3VzKCk7dmFyIGQ9IiI7cGFyc2VJbnQodGhpcy5vcHRpb25zLmRlZmF1bHRJbWFnZVdpZHRoLDEwKSYmKGQ9JyB3aWR0aD0iJyt0aGlzLm9wdGlvbnMuZGVmYXVsdEltYWdlV2lkdGgrJyInKTt2YXIgZT0nPGltZyBjbGFzcz0iZnItZmluIGZyLWp1c3QtaW5zZXJ0ZWQiIGFsdD0iJyt0aGlzLm9wdGlvbnMuZGVmYXVsdEltYWdlVGl0bGUrJyIgc3JjPSInK2IrJyInK2QrIj4iLGY9dGhpcy5nZXRTZWxlY3Rpb25FbGVtZW50cygpWzBdLGc9dGhpcy5nZXRSYW5nZSgpLGg9IXRoaXMuYnJvd3Nlci5tc2llJiZhLkVkaXRhYmxlLmdldElFdmVyc2lvbigpPjg/YShnLnN0YXJ0Q29udGFpbmVyKTpudWxsO2gmJmguaGFzQ2xhc3MoImYtaW1nLXdyYXAiKT8oMT09PWcuc3RhcnRPZmZzZXQ/KGguYWZ0ZXIoJzxwPjxzcGFuIGNsYXNzPSJmLW1hcmtlciIgZGF0YS10eXBlPSJ0cnVlIiBkYXRhLWlkPSIwIj48L3NwYW4+PGJyLz48c3BhbiBjbGFzcz0iZi1tYXJrZXIiIGRhdGEtdHlwZT0iZmFsc2UiIGRhdGEtaWQ9IjAiPjwvc3Bhbj48L3A+JyksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCksdGhpcy5nZXRTZWxlY3Rpb24oKS5jb2xsYXBzZVRvU3RhcnQoKSk6MD09PWcuc3RhcnRPZmZzZXQmJihoLmJlZm9yZSgnPHA+PHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLXR5cGU9InRydWUiIGRhdGEtaWQ9IjAiPjwvc3Bhbj48YnIvPjxzcGFuIGNsYXNzPSJmLW1hcmtlciIgZGF0YS10eXBlPSJmYWxzZSIgZGF0YS1pZD0iMCI+PC9zcGFuPjwvcD4nKSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSx0aGlzLmdldFNlbGVjdGlvbigpLmNvbGxhcHNlVG9TdGFydCgpKSx0aGlzLmluc2VydEhUTUwoZSkpOnRoaXMuZ2V0U2VsZWN0aW9uVGV4dEluZm8oZikuYXRTdGFydCYmZiE9dGhpcy4kZWxlbWVudC5nZXQoMCkmJiJURCIhPWYudGFnTmFtZSYmIlRIIiE9Zi50YWdOYW1lJiYiTEkiIT1mLnRhZ05hbWU/YShmKS5iZWZvcmUoIjxwPiIrZSsiPC9wPiIpOnRoaXMuaW5zZXJ0SFRNTChlKSx0aGlzLmRpc2FibGUoKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaW5zZXJ0TG9hZGVkSW1hZ2U9ZnVuY3Rpb24oYil7dGhpcy50cmlnZ2VyRXZlbnQoImltYWdlTG9hZGVkIixbYl0sITEpLHRoaXMucHJvY2Vzc0luc2VydEltYWdlKGIsITEpLHRoaXMuYnJvd3Nlci5tc2llJiZ0aGlzLiRlbGVtZW50LmZpbmQoImltZyIpLmVhY2goZnVuY3Rpb24oYSxiKXtiLm9uY29udHJvbHNlbGVjdD1mdW5jdGlvbigpe3JldHVybiExfX0pLHRoaXMuZW5hYmxlKCksdGhpcy5oaWRlKCksdGhpcy5oaWRlSW1hZ2VMb2FkZXIoKSx0aGlzLndyYXBUZXh0KCksc2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5maW5kKCJpbWcuZnItanVzdC1pbnNlcnRlZCIpLnJlbW92ZUNsYXNzKCJmci1qdXN0LWluc2VydGVkIikudHJpZ2dlcigidG91Y2hlbmQiKX0sdGhpcyksNTApLHRoaXMudHJpZ2dlckV2ZW50KCJpbWFnZUluc2VydGVkIixbYl0pfSxhLkVkaXRhYmxlLnByb3RvdHlwZS50aHJvd0ltYWdlRXJyb3JXaXRoTWVzc2FnZT1mdW5jdGlvbihhKXt0aGlzLmVuYWJsZSgpLHRoaXMudHJpZ2dlckV2ZW50KCJpbWFnZUVycm9yIixbe21lc3NhZ2U6YSxjb2RlOjB9XSwhMSksdGhpcy5oaWRlSW1hZ2VMb2FkZXIoKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUudGhyb3dJbWFnZUVycm9yPWZ1bmN0aW9uKGEpe3RoaXMuZW5hYmxlKCk7dmFyIGI9IlVua25vd24gaW1hZ2UgdXBsb2FkIGVycm9yLiI7MT09YT9iPSJCYWQgbGluay4iOjI9PWE/Yj0iTm8gbGluayBpbiB1cGxvYWQgcmVzcG9uc2UuIjozPT1hP2I9IkVycm9yIGR1cmluZyBmaWxlIHVwbG9hZC4iOjQ9PWE/Yj0iUGFyc2luZyByZXNwb25zZSBmYWlsZWQuIjo1PT1hP2I9IkltYWdlIHRvbyBsYXJnZS4iOjY9PWE/Yj0iSW52YWxpZCBpbWFnZSB0eXBlLiI6Nz09YSYmKGI9IkltYWdlIGNhbiBiZSB1cGxvYWRlZCBvbmx5IHRvIHNhbWUgZG9tYWluIGluIElFIDggYW5kIElFIDkuIiksdGhpcy50cmlnZ2VyRXZlbnQoImltYWdlRXJyb3IiLFt7Y29kZTphLG1lc3NhZ2U6Yn1dLCExKSx0aGlzLmhpZGVJbWFnZUxvYWRlcigpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS51cGxvYWRJbWFnZT1mdW5jdGlvbihiKXtpZighdGhpcy50cmlnZ2VyRXZlbnQoImJlZm9yZUltYWdlVXBsb2FkIixbYl0sITEpKXJldHVybiExO2lmKHZvaWQgMCE9PWImJmIubGVuZ3RoPjApe3ZhciBjO2lmKHRoaXMuZHJhZ19zdXBwb3J0LmZvcm1kYXRhJiYoYz10aGlzLmRyYWdfc3VwcG9ydC5mb3JtZGF0YT9uZXcgRm9ybURhdGE6bnVsbCksYyl7dmFyIGQ7Zm9yKGQgaW4gdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkUGFyYW1zKWMuYXBwZW5kKGQsdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkUGFyYW1zW2RdKTtpZih0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRUb1MzIT09ITEpe2ZvcihkIGluIHRoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzMucGFyYW1zKWMuYXBwZW5kKGQsdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkVG9TMy5wYXJhbXNbZF0pO2MuYXBwZW5kKCJzdWNjZXNzX2FjdGlvbl9zdGF0dXMiLCIyMDEiKSxjLmFwcGVuZCgiWC1SZXF1ZXN0ZWQtV2l0aCIsInhociIpLGMuYXBwZW5kKCJDb250ZW50LVR5cGUiLGJbMF0udHlwZSksYy5hcHBlbmQoImtleSIsdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkVG9TMy5rZXlTdGFydCsobmV3IERhdGUpLmdldFRpbWUoKSsiLSIrYlswXS5uYW1lKX1pZihjLmFwcGVuZCh0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRQYXJhbSxiWzBdKSxiWzBdLnNpemU+dGhpcy5vcHRpb25zLm1heEltYWdlU2l6ZSlyZXR1cm4gdGhpcy50aHJvd0ltYWdlRXJyb3IoNSksITE7aWYodGhpcy5vcHRpb25zLmFsbG93ZWRJbWFnZVR5cGVzLmluZGV4T2YoYlswXS50eXBlLnJlcGxhY2UoL2ltYWdlXC8vZywiIikpPDApcmV0dXJuIHRoaXMudGhyb3dJbWFnZUVycm9yKDYpLCExfWlmKGMpe3ZhciBlO2lmKHRoaXMub3B0aW9ucy5jcm9zc0RvbWFpbillPXRoaXMuY3JlYXRlQ09SU1JlcXVlc3QoIlBPU1QiLHRoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFVSTCk7ZWxzZXtlPW5ldyBYTUxIdHRwUmVxdWVzdCxlLm9wZW4oIlBPU1QiLHRoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFVSTCk7Zm9yKHZhciBmIGluIHRoaXMub3B0aW9ucy5oZWFkZXJzKWUuc2V0UmVxdWVzdEhlYWRlcihmLHRoaXMub3B0aW9ucy5oZWFkZXJzW2ZdKX1lLm9ubG9hZD1hLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy4kcHJvZ3Jlc3NfYmFyLmZpbmQoInNwYW4iKS5jc3MoIndpZHRoIiwiMTAwJSIpLnRleHQoIlBsZWFzZSB3YWl0ISIpO3RyeXt0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRUb1MzPzIwMT09ZS5zdGF0dXM/dGhpcy5wYXJzZUltYWdlUmVzcG9uc2VYTUwoZS5yZXNwb25zZVhNTCk6dGhpcy50aHJvd0ltYWdlRXJyb3IoMyk6ZS5zdGF0dXM+PTIwMCYmZS5zdGF0dXM8MzAwP3RoaXMucGFyc2VJbWFnZVJlc3BvbnNlKGUucmVzcG9uc2VUZXh0KTp0aGlzLnRocm93SW1hZ2VFcnJvcigzKX1jYXRjaChhKXt0aGlzLnRocm93SW1hZ2VFcnJvcig0KX19LHRoaXMpLGUub25lcnJvcj1hLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy50aHJvd0ltYWdlRXJyb3IoMyl9LHRoaXMpLGUudXBsb2FkLm9ucHJvZ3Jlc3M9YS5wcm94eShmdW5jdGlvbihhKXtpZihhLmxlbmd0aENvbXB1dGFibGUpe3ZhciBiPWEubG9hZGVkL2EudG90YWwqMTAwfDA7dGhpcy4kcHJvZ3Jlc3NfYmFyLmZpbmQoInNwYW4iKS5jc3MoIndpZHRoIixiKyIlIil9fSx0aGlzKSx0aGlzLmRpc2FibGUoKSxlLnNlbmQoYyksdGhpcy5zaG93SW1hZ2VMb2FkZXIoKX19fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5wYXJzZUltYWdlUmVzcG9uc2U9ZnVuY3Rpb24oYil7dHJ5e3ZhciBjPWEucGFyc2VKU09OKGIpO2MubGluaz90aGlzLndyaXRlSW1hZ2UoYy5saW5rKTpjLmVycm9yP3RoaXMudGhyb3dJbWFnZUVycm9yV2l0aE1lc3NhZ2UoYy5lcnJvcik6dGhpcy50aHJvd0ltYWdlRXJyb3IoMil9Y2F0Y2goZCl7dGhpcy50aHJvd0ltYWdlRXJyb3IoNCl9fSxhLkVkaXRhYmxlLnByb3RvdHlwZS5wYXJzZUltYWdlUmVzcG9uc2VYTUw9ZnVuY3Rpb24oYil7dHJ5e3ZhciBjPWEoYikuZmluZCgiTG9jYXRpb24iKS50ZXh0KCksZD1hKGIpLmZpbmQoIktleSIpLnRleHQoKTt0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRUb1MzLmNhbGxiYWNrLmNhbGwodGhpcyxjLGQpLGM/dGhpcy53cml0ZUltYWdlKGMpOnRoaXMudGhyb3dJbWFnZUVycm9yKDIpfWNhdGNoKGUpe3RoaXMudGhyb3dJbWFnZUVycm9yKDQpfX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuc2V0SW1hZ2VVcGxvYWRVUkw9ZnVuY3Rpb24oYSl7YSYmKHRoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFVSTD1hKSx0aGlzLm9wdGlvbnMuaW1hZ2VVcGxvYWRUb1MzJiYodGhpcy5vcHRpb25zLmltYWdlVXBsb2FkVVJMPSJodHRwczovLyIrdGhpcy5vcHRpb25zLmltYWdlVXBsb2FkVG9TMy5idWNrZXQrIi4iK3RoaXMub3B0aW9ucy5pbWFnZVVwbG9hZFRvUzMucmVnaW9uKyIuYW1hem9uYXdzLmNvbS8iKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuY2xvc2VJbWFnZU1vZGU9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmZpbmQoInNwYW4uZi1pbWctZWRpdG9yID4gaW1nIikuZWFjaChhLnByb3h5KGZ1bmN0aW9uKGIsYyl7dGhpcy5hZGRJbWFnZUNsYXNzKGEoYyksdGhpcy5nZXRJbWFnZUNsYXNzKGEoYykucGFyZW50KCkuYXR0cigiY2xhc3MiKSkpLGEoYykucGFyZW50cygiLmYtaW1nLXdyYXAiKS5sZW5ndGg+MD8iQSI9PWEoYykucGFyZW50KCkucGFyZW50KCkuZ2V0KDApLnRhZ05hbWU/YShjKS5zaWJsaW5ncygic3Bhbi5mLWltZy1oYW5kbGUiKS5yZW1vdmUoKS5lbmQoKS51bndyYXAoKS5wYXJlbnQoKS51bndyYXAoKTphKGMpLnNpYmxpbmdzKCJzcGFuLmYtaW1nLWhhbmRsZSIpLnJlbW92ZSgpLmVuZCgpLnVud3JhcCgpLnVud3JhcCgpOmEoYykuc2libGluZ3MoInNwYW4uZi1pbWctaGFuZGxlIikucmVtb3ZlKCkuZW5kKCkudW53cmFwKCl9LHRoaXMpKSx0aGlzLiRlbGVtZW50LmZpbmQoInNwYW4uZi1pbWctZWRpdG9yIikubGVuZ3RoJiYodGhpcy4kZWxlbWVudC5maW5kKCJzcGFuLmYtaW1nLWVkaXRvciIpLnJlbW92ZSgpLHRoaXMuJGVsZW1lbnQucGFyZW50cygic3Bhbi5mLWltZy1lZGl0b3IiKS5yZW1vdmUoKSksdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygiZi1ub24tc2VsZWN0YWJsZSIpLHRoaXMuZWRpdGFibGVEaXNhYmxlZHx8dGhpcy5pc0hUTUx8fHRoaXMuJGVsZW1lbnQuYXR0cigiY29udGVudGVkaXRhYmxlIiwhMCksdGhpcy4kaW1hZ2VfZWRpdG9yJiZ0aGlzLiRpbWFnZV9lZGl0b3IuaGlkZSgpLHRoaXMuJGxpbmtfd3JhcHBlciYmdGhpcy5vcHRpb25zLmxpbmtUZXh0JiZ0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0idGV4dCJdLmYtbHQnKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygiZnItaGlkZGVuIil9LGEuRWRpdGFibGUucHJvdG90eXBlLnJlZnJlc2hJbWFnZUxpc3Q9ZnVuY3Rpb24oYil7aWYoIXRoaXMuaXNMaW5rJiYhdGhpcy5vcHRpb25zLmVkaXRJblBvcHVwKXt2YXIgYz1bXSxkPVtdLGU9dGhpcztpZih0aGlzLiRlbGVtZW50LmZpbmQoImltZyIpLmVhY2goZnVuY3Rpb24oYixmKXt2YXIgZz1hKGYpO2lmKGMucHVzaChnLmF0dHIoInNyYyIpKSxkLnB1c2goZyksMD09PWcucGFyZW50cygiLmYtaW1nLWVkaXRvciIpLmxlbmd0aCYmIWcuaGFzQ2xhc3MoImZyLWZpbCIpJiYhZy5oYXNDbGFzcygiZnItZmlyIikmJiFnLmhhc0NsYXNzKCJmci1maW4iKSl7dmFyIGg7InJpZ2h0Ij09Zy5jc3MoImZsb2F0Iik/KGg9Zy5wYXJlbnQoKSxoLmhhc0NsYXNzKCJmLWltZy1lZGl0b3IiKT9oLmFkZENsYXNzKCJmci1maXIiKTpnLmFkZENsYXNzKCJmci1maXIiKSk6ImxlZnQiPT1nLmNzcygiZmxvYXQiKT8oaD1nLnBhcmVudCgpLGguaGFzQ2xhc3MoImYtaW1nLWVkaXRvciIpP2guYWRkQ2xhc3MoImZyLWZpbCIpOmcuYWRkQ2xhc3MoImZyLWZpbCIpKTooaD1nLnBhcmVudCgpLGguaGFzQ2xhc3MoImYtaW1nLWVkaXRvciIpP2guYWRkQ2xhc3MoImZyLWZpbiIpOmcuYWRkQ2xhc3MoImZyLWZpbiIpKX1lLm9wdGlvbnMudGV4dE5lYXJJbWFnZT9nLnJlbW92ZUNsYXNzKCJmci10bmkiKTpnLmFkZENsYXNzKCJmci10bmkiKSxnLmNzcygibWFyZ2luIiwiIiksZy5jc3MoImZsb2F0IiwiIil9KSx2b2lkIDA9PT1iKWZvcih2YXIgZj0wO2Y8dGhpcy5pbWFnZUxpc3QubGVuZ3RoO2YrKyljLmluZGV4T2YodGhpcy5pbWFnZUxpc3RbZl0uYXR0cigic3JjIikpPDAmJnRoaXMudHJpZ2dlckV2ZW50KCJhZnRlclJlbW92ZUltYWdlIixbdGhpcy5pbWFnZUxpc3RbZl1dLCExKTt0aGlzLmltYWdlTGlzdD1kfX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuaW5zZXJ0SW1hZ2U9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuaW5saW5lTW9kZXx8KHRoaXMuY2xvc2VJbWFnZU1vZGUoKSx0aGlzLmltYWdlTW9kZT0hMSx0aGlzLnBvc2l0aW9uUG9wdXAoImluc2VydEltYWdlIikpLHRoaXMuc2VsZWN0aW9uSW5FZGl0b3IoKSYmdGhpcy5zYXZlU2VsZWN0aW9uKCksdGhpcy5zaG93SW5zZXJ0SW1hZ2UoKSx0aGlzLmltYWdlTW9kZT0hMSx0aGlzLiRpbWFnZV93cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9InRleHQiXScpLnZhbCgiIil9fShqUXVlcnkpLGZ1bmN0aW9uKGEpe2EuRWRpdGFibGUucHJvdG90eXBlLnNob3dMaW5rV3JhcHBlcj1mdW5jdGlvbigpe3RoaXMuJGxpbmtfd3JhcHBlciYmKHRoaXMuJGxpbmtfd3JhcHBlci5zaG93KCksdGhpcy4kbGlua193cmFwcGVyLnRyaWdnZXIoImhpZGVMaW5rTGlzdCIpLHRoaXMuJGxpbmtfd3JhcHBlci50cmlnZ2VyKCJoaWRlTGlua0NsYXNzTGlzdCIpLHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCJpbnB1dC5mLWx1IikucmVtb3ZlQ2xhc3MoImZyLWVycm9yIiksdGhpcy5pbWFnZU1vZGV8fCF0aGlzLm9wdGlvbnMubGlua1RleHQ/dGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9InRleHQiXS5mLWx0JykucGFyZW50KCkuYWRkQ2xhc3MoImZyLWhpZGRlbiIpOnRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJ0ZXh0Il0uZi1sdCcpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCJmci1oaWRkZW4iKSx0aGlzLmltYWdlTW9kZSYmdGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9InRleHQiXS5mLWx1JykucmVtb3ZlQXR0cigiZGlzYWJsZWQiKSx0aGlzLnBob25lKCk/dGhpcy4kZG9jdW1lbnQuc2Nyb2xsVG9wKHRoaXMuJGxpbmtfd3JhcHBlci5vZmZzZXQoKS50b3AtMTApOnNldFRpbWVvdXQoYS5wcm94eShmdW5jdGlvbigpe3RoaXMuJGxpbmtfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJ0ZXh0Il0uZi1sdScpLmZvY3VzKCkuc2VsZWN0KCl9LHRoaXMpLDApLHRoaXMubGluaz0hMCl9LGEuRWRpdGFibGUucHJvdG90eXBlLmhpZGVMaW5rV3JhcHBlcj1mdW5jdGlvbigpe3RoaXMuJGxpbmtfd3JhcHBlciYmKHRoaXMuJGxpbmtfd3JhcHBlci5oaWRlKCksdGhpcy4kbGlua193cmFwcGVyLmZpbmQoImlucHV0IikuYmx1cigpKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuc2hvd0luc2VydExpbms9ZnVuY3Rpb24oKXt0aGlzLmhpZGVQb3B1cHMoKSx0aGlzLnNob3dMaW5rV3JhcHBlcigpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pbml0TGlua0V2ZW50cz1mdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1mdW5jdGlvbihhKXthLnN0b3BQcm9wYWdhdGlvbigpLGEucHJldmVudERlZmF1bHQoKX0sZD1mdW5jdGlvbihjKXtpZihjLnN0b3BQcm9wYWdhdGlvbigpLGMucHJldmVudERlZmF1bHQoKSxiLmlzRGlzYWJsZWQpcmV0dXJuITE7aWYoIiIhPT1iLnRleHQoKSlyZXR1cm4gYi5oaWRlKCksITE7Yi5saW5rPSEwLGIuY2xlYXJTZWxlY3Rpb24oKSxiLnJlbW92ZU1hcmtlcnMoKSxiLnNlbGVjdGlvbkRpc2FibGVkfHwoYSh0aGlzKS5iZWZvcmUoJzxzcGFuIGNsYXNzPSJmLW1hcmtlciIgZGF0YS10eXBlPSJ0cnVlIiBkYXRhLWlkPSIwIiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIj48L3NwYW4+JyksYSh0aGlzKS5hZnRlcignPHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLXR5cGU9ImZhbHNlIiBkYXRhLWlkPSIwIiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIj48L3NwYW4+JyksYi5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCkpLGIuZXhlYygiY3JlYXRlTGluayIpO3ZhciBkPWEodGhpcykuYXR0cigiaHJlZiIpfHwiIjtiLiRsaW5rX3dyYXBwZXIuZmluZCgiaW5wdXQuZi1sdCIpLnZhbChhKHRoaXMpLnRleHQoKSksYi5pc0xpbms/KCIjIj09ZCYmKGQ9IiIpLGIuJGxpbmtfd3JhcHBlci5maW5kKCJpbnB1dCNmLWx1LSIrYi5faWQpLnZhbChkLnJlcGxhY2UoL1wmYW1wOy9nLCImIikpLGIuJGxpbmtfd3JhcHBlci5maW5kKCIuZi1leHRlcm5hbC1saW5rIikuYXR0cigiaHJlZiIsZHx8IiMiKSk6KGIuJGxpbmtfd3JhcHBlci5maW5kKCJpbnB1dC5mLWx1IikudmFsKGQucmVwbGFjZSgvXCZhbXA7L2csIiYiKSksYi4kbGlua193cmFwcGVyLmZpbmQoIi5mLWV4dGVybmFsLWxpbmsiKS5hdHRyKCJocmVmIixkKSksYi4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9ImNoZWNrYm94Il0nKS5wcm9wKCJjaGVja2VkIiwiX2JsYW5rIj09YSh0aGlzKS5hdHRyKCJ0YXJnZXQiKSksYi4kbGlua193cmFwcGVyLmZpbmQoImxpLmYtY2hvb3NlLWxpbmstY2xhc3MiKS5lYWNoKGEucHJveHkoZnVuY3Rpb24oYixjKXthKHRoaXMpLmhhc0NsYXNzKGEoYykuZGF0YSgiY2xhc3MiKSkmJmEoYykuY2xpY2soKX0sdGhpcykpLGIuc2hvd0J5Q29vcmRpbmF0ZXMoYSh0aGlzKS5vZmZzZXQoKS5sZWZ0K2EodGhpcykub3V0ZXJXaWR0aCgpLzIsYSh0aGlzKS5vZmZzZXQoKS50b3ArKHBhcnNlSW50KGEodGhpcykuY3NzKCJwYWRkaW5nLXRvcCIpLDEwKXx8MCkrYSh0aGlzKS5oZWlnaHQoKSksYi5zaG93SW5zZXJ0TGluaygpLGEodGhpcykuaGFzQ2xhc3MoImZyLWZpbGUiKT9iLiRsaW5rX3dyYXBwZXIuZmluZCgiaW5wdXQuZi1sdSIpLmF0dHIoImRpc2FibGVkIiwiZGlzYWJsZWQiKTpiLiRsaW5rX3dyYXBwZXIuZmluZCgiaW5wdXQuZi1sdSIpLnJlbW92ZUF0dHIoImRpc2FibGVkIiksYi5jbG9zZUltYWdlTW9kZSgpfTt0aGlzLiRlbGVtZW50Lm9uKCJtb3VzZWRvd24iLCJhIixhLnByb3h5KGZ1bmN0aW9uKGEpe3RoaXMuaXNSZXNpemluZygpfHxhLnN0b3BQcm9wYWdhdGlvbigpfSx0aGlzKSksdGhpcy5pc0xpbms/dGhpcy5pT1MoKT8odGhpcy4kZWxlbWVudC5vbigidG91Y2hzdGFydCIsYyksdGhpcy4kZWxlbWVudC5vbigidG91Y2hlbmQiLGQpKTp0aGlzLiRlbGVtZW50Lm9uKCJjbGljayIsZCk6dGhpcy5pT1MoKT8odGhpcy4kZWxlbWVudC5vbigidG91Y2hzdGFydCIsJ2E6bm90KFtjb250ZW50ZWRpdGFibGU9ImZhbHNlIl0pJyxjKSx0aGlzLiRlbGVtZW50Lm9uKCJ0b3VjaGVuZCIsJ2E6bm90KFtjb250ZW50ZWRpdGFibGU9ImZhbHNlIl0pJyxkKSx0aGlzLiRlbGVtZW50Lm9uKCJ0b3VjaHN0YXJ0IiwnYVtjb250ZW50ZWRpdGFibGU9ImZhbHNlIl0nLGMpLHRoaXMuJGVsZW1lbnQub24oInRvdWNoZW5kIiwnYVtjb250ZW50ZWRpdGFibGU9ImZhbHNlIl0nLGMpKToodGhpcy4kZWxlbWVudC5vbigiY2xpY2siLCdhOm5vdChbY29udGVudGVkaXRhYmxlPSJmYWxzZSJdKScsZCksdGhpcy4kZWxlbWVudC5vbigiY2xpY2siLCdhW2NvbnRlbnRlZGl0YWJsZT0iZmFsc2UiXScsYykpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5kZXN0cm95TGluaz1mdW5jdGlvbigpe3RoaXMuJGxpbmtfd3JhcHBlci5odG1sKCIiKS5yZW1vdmVEYXRhKCkucmVtb3ZlKCl9LGEuRWRpdGFibGUucHJvdG90eXBlLmluaXRMaW5rPWZ1bmN0aW9uKCl7dGhpcy5idWlsZENyZWF0ZUxpbmsoKSx0aGlzLmluaXRMaW5rRXZlbnRzKCksdGhpcy5hZGRMaXN0ZW5lcigiZGVzdHJveSIsdGhpcy5kZXN0cm95TGluayl9LGEuRWRpdGFibGUuaW5pdGlhbGl6ZXJzLnB1c2goYS5FZGl0YWJsZS5wcm90b3R5cGUuaW5pdExpbmspLGEuRWRpdGFibGUucHJvdG90eXBlLnJlbW92ZUxpbms9ZnVuY3Rpb24oKXt0aGlzLmltYWdlTW9kZT8oIkEiPT10aGlzLiRlbGVtZW50LmZpbmQoIi5mLWltZy1lZGl0b3IiKS5wYXJlbnQoKS5nZXQoMCkudGFnTmFtZSYmYSh0aGlzLiRlbGVtZW50LmZpbmQoIi5mLWltZy1lZGl0b3IiKS5nZXQoMCkpLnVud3JhcCgpLHRoaXMudHJpZ2dlckV2ZW50KCJpbWFnZUxpbmtSZW1vdmVkIiksdGhpcy5zaG93SW1hZ2VFZGl0b3IoKSx0aGlzLiRlbGVtZW50LmZpbmQoIi5mLWltZy1lZGl0b3IiKS5maW5kKCJpbWciKS5jbGljaygpLHRoaXMubGluaz0hMSk6KHRoaXMucmVzdG9yZVNlbGVjdGlvbigpLGRvY3VtZW50LmV4ZWNDb21tYW5kKCJ1bmxpbmsiLCExLG51bGwpLHRoaXMuaXNMaW5rfHx0aGlzLiRlbGVtZW50LmZpbmQoImE6ZW1wdHkiKS5yZW1vdmUoKSx0aGlzLnRyaWdnZXJFdmVudCgibGlua1JlbW92ZWQiKSx0aGlzLmhpZGVMaW5rV3JhcHBlcigpLHRoaXMuJGJ0dG5fd3JhcHBlci5zaG93KCksKCF0aGlzLm9wdGlvbnMuaW5saW5lTW9kZXx8dGhpcy5pc0xpbmspJiZ0aGlzLmhpZGUoKSx0aGlzLmxpbms9ITEpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS53cml0ZUxpbms9ZnVuY3Rpb24oYixjLGQsZSxmKXt2YXIgZzt0aGlzLm9wdGlvbnMubm9Gb2xsb3cmJihmPSEwKSx0aGlzLm9wdGlvbnMuYWx3YXlzQmxhbmsmJihlPSEwKTt2YXIgaD0iIixpPSIiO2Y9PT0hMCYmL15odHRwcz86XC9cLy8udGVzdChiKSYmKGg9J3JlbD0ibm9mb2xsb3ciJyksZT09PSEwJiYoaT0ndGFyZ2V0PSJfYmxhbmsiJyk7dmFyIGo9YjtpZihiPXRoaXMuc2FuaXRpemVVUkwoYiksdGhpcy5vcHRpb25zLmNvbnZlcnRNYWlsQWRkcmVzc2VzKXt2YXIgaz0vW2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dKyg/OlwuW2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dKykqQCg/OlthLXowLTldKD86W2EtejAtOS1dKlthLXowLTldKT9cLikrW2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pPy9pO2sudGVzdChiKSYmMCE9PWIuaW5kZXhPZigibWFpbHRvOiIpJiYoYj0ibWFpbHRvOiIrYil9aWYoIiI9PT1iKXJldHVybiB0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgiaW5wdXQuZi1sdSIpLmFkZENsYXNzKCJmci1lcnJvciIpLmZvY3VzKCksdGhpcy50cmlnZ2VyRXZlbnQoImJhZExpbmsiLFtqXSwhMSksITE7aWYodGhpcy4kbGlua193cmFwcGVyLmZpbmQoImlucHV0LmYtbHUiKS5yZW1vdmVDbGFzcygiZnItZXJyb3IiKSx0aGlzLmltYWdlTW9kZSl7aWYoIkEiIT10aGlzLiRlbGVtZW50LmZpbmQoIi5mLWltZy1lZGl0b3IiKS5wYXJlbnQoKS5nZXQoMCkudGFnTmFtZSl0aGlzLiRlbGVtZW50LmZpbmQoIi5mLWltZy1lZGl0b3IiKS53cmFwKCc8YSBkYXRhLWZyLWxpbms9InRydWUiIGhyZWY9IicrYisnIiAnK2krIiAiK2grIj48L2E+Iik7ZWxzZXt2YXIgbD10aGlzLiRlbGVtZW50LmZpbmQoIi5mLWltZy1lZGl0b3IiKS5wYXJlbnQoKTtlPT09ITA/bC5hdHRyKCJ0YXJnZXQiLCJfYmxhbmsiKTpsLnJlbW92ZUF0dHIoInRhcmdldCIpLGY9PT0hMD9sLmF0dHIoInJlbCIsIm5vZm9sbG93Iik6bC5yZW1vdmVBdHRyKCJyZWwiKSxsLnJlbW92ZUNsYXNzKE9iamVjdC5rZXlzKHRoaXMub3B0aW9ucy5saW5rQ2xhc3Nlcykuam9pbigiICIpKSxsLmF0dHIoImhyZWYiLGIpLmFkZENsYXNzKGQpfXRoaXMudHJpZ2dlckV2ZW50KCJpbWFnZUxpbmtJbnNlcnRlZCIsW2JdKSx0aGlzLnNob3dJbWFnZUVkaXRvcigpLHRoaXMuJGVsZW1lbnQuZmluZCgiLmYtaW1nLWVkaXRvciIpLmZpbmQoImltZyIpLmNsaWNrKCksdGhpcy5saW5rPSExfWVsc2V7dmFyIG09bnVsbDt0aGlzLmlzTGluaz8iIj09PWMmJihjPXRoaXMuJGVsZW1lbnQudGV4dCgpKToodGhpcy5yZXN0b3JlU2VsZWN0aW9uKCksZz10aGlzLmdldFNlbGVjdGlvbkxpbmtzKCksZy5sZW5ndGg+MCYmKG09Z1swXS5hdHRyaWJ1dGVzLGlzX2ZpbGU9YShnWzBdKS5oYXNDbGFzcygiZnItZmlsZSIpKSx0aGlzLnNhdmVTZWxlY3Rpb25CeU1hcmtlcnMoKSxkb2N1bWVudC5leGVjQ29tbWFuZCgidW5saW5rIiwhMSxiKSx0aGlzLiRlbGVtZW50LmZpbmQoJ3NwYW5bZGF0YS1mci1saW5rPSJ0cnVlIl0nKS5lYWNoKGZ1bmN0aW9uKGIsYyl7YShjKS5yZXBsYWNlV2l0aChhKGMpLmh0bWwoKSl9KSx0aGlzLnJlc3RvcmVTZWxlY3Rpb25CeU1hcmtlcnMoKSksdGhpcy5pc0xpbms/KHRoaXMuJGVsZW1lbnQudGV4dChjKSxnPVt0aGlzLiRlbGVtZW50LmF0dHIoImhyZWYiLGIpLmdldCgwKV0pOih0aGlzLnJlbW92ZU1hcmtlcnMoKSwodGhpcy5vcHRpb25zLmxpbmtUZXh0fHwiIj09PXRoaXMudGV4dCgpKSYmKHRoaXMuaW5zZXJ0SFRNTCgnPHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIiBkYXRhLWlkPSIwIiBkYXRhLXR5cGU9InRydWUiPjwvc3Bhbj4nKyhjfHxiKSsnPHNwYW4gY2xhc3M9ImYtbWFya2VyIiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIiBkYXRhLWlkPSIwIiBkYXRhLXR5cGU9ImZhbHNlIj48L3NwYW4+JyksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCkpLGRvY3VtZW50LmV4ZWNDb21tYW5kKCJjcmVhdGVMaW5rIiwhMSxiKSxnPXRoaXMuZ2V0U2VsZWN0aW9uTGlua3MoKSk7Zm9yKHZhciBuPTA7bjxnLmxlbmd0aDtuKyspe2lmKG0pZm9yKHZhciBvPTA7bzxtLmxlbmd0aDtvKyspImhyZWYiIT1tW29dLm5vZGVOYW1lJiZhKGdbbl0pLmF0dHIobVtvXS5ub2RlTmFtZSxtW29dLnZhbHVlKTtlPT09ITA/YShnW25dKS5hdHRyKCJ0YXJnZXQiLCJfYmxhbmsiKTphKGdbbl0pLnJlbW92ZUF0dHIoInRhcmdldCIpLGY9PT0hMCYmL15odHRwcz86XC9cLy8udGVzdChiKT9hKGdbbl0pLmF0dHIoInJlbCIsIm5vZm9sbG93Iik6YShnW25dKS5yZW1vdmVBdHRyKCJyZWwiKSxhKGdbbl0pLmRhdGEoImZyLWxpbmsiLCEwKSxhKGdbbl0pLnJlbW92ZUNsYXNzKE9iamVjdC5rZXlzKHRoaXMub3B0aW9ucy5saW5rQ2xhc3Nlcykuam9pbigiICIpKSxhKGdbbl0pLmFkZENsYXNzKGQpfXRoaXMuJGVsZW1lbnQuZmluZCgiYTplbXB0eSIpLnJlbW92ZSgpLHRoaXMudHJpZ2dlckV2ZW50KCJsaW5rSW5zZXJ0ZWQiLFtiXSksdGhpcy5oaWRlTGlua1dyYXBwZXIoKSx0aGlzLiRidHRuX3dyYXBwZXIuc2hvdygpLCghdGhpcy5vcHRpb25zLmlubGluZU1vZGV8fHRoaXMuaXNMaW5rKSYmdGhpcy5oaWRlKCksdGhpcy5saW5rPSExfX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuY3JlYXRlTGlua0hUTUw9ZnVuY3Rpb24oKXt2YXIgYT0nPGRpdiBjbGFzcz0iZnJvYWxhLXBvcHVwIGZyb2FsYS1saW5rLXBvcHVwIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPic7YSs9JzxoND48c3BhbiBkYXRhLXRleHQ9InRydWUiPkluc2VydCBMaW5rPC9zcGFuPjxhIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0iT3BlbiBMaW5rIiBjbGFzcz0iZi1leHRlcm5hbC1saW5rIiBocmVmPSIjIj48aSBjbGFzcz0iZmEgZmEtZXh0ZXJuYWwtbGluayI+PC9pPjwvYT48aSB0aXRsZT0iQ2FuY2VsIiBjbGFzcz0iZmEgZmEtdGltZXMiIGlkPSJmLWxpbmstY2xvc2UtJyt0aGlzLl9pZCsnIj48L2k+PC9oND4nLGErPSc8ZGl2IGNsYXNzPSJmLXBvcHVwLWxpbmUgZnItaGlkZGVuIj48aW5wdXQgdHlwZT0idGV4dCIgcGxhY2Vob2xkZXI9IlRleHQiIGNsYXNzPSJmLWx0IiBpZD0iZi1sdC0nK3RoaXMuX2lkKyciPjwvZGl2Pic7dmFyIGI9IiI7aWYodGhpcy5vcHRpb25zLmxpbmtMaXN0Lmxlbmd0aCYmKGI9ImYtYmkiKSxhKz0nPGRpdiBjbGFzcz0iZi1wb3B1cC1saW5lIj48aW5wdXQgdHlwZT0idGV4dCIgcGxhY2Vob2xkZXI9Imh0dHA6Ly93d3cuZXhhbXBsZS5jb20iIGNsYXNzPSJmLWx1ICcrYisnIiBpZD0iZi1sdS0nK3RoaXMuX2lkKyciLz4nLHRoaXMub3B0aW9ucy5saW5rTGlzdC5sZW5ndGgpe2ErPSc8YnV0dG9uIGNsYXNzPSJmLWJyb3dzZS1saW5rcyIgaWQ9ImYtYnJvd3NlLWxpbmtzLScrdGhpcy5faWQrJyI+PGkgY2xhc3M9ImZhIGZhLWNoZXZyb24tZG93biI+PC9pPjwvYnV0dG9uPicsYSs9Jzx1bCBpZD0iZi1saW5rLWxpc3QtJyt0aGlzLl9pZCsnIj4nO2Zvcih2YXIgYz0wO2M8dGhpcy5vcHRpb25zLmxpbmtMaXN0Lmxlbmd0aDtjKyspe3ZhciBkPXRoaXMub3B0aW9ucy5saW5rTGlzdFtjXTthKz0nPGxpIGNsYXNzPSJmLWNob29zZS1saW5rIiBkYXRhLW5vZm9sbG93PSInK2Qubm9mb2xsb3crJyIgZGF0YS1ibGFuaz0iJytkLmJsYW5rKyciIGRhdGEtYm9keT0iJytkLmJvZHkrJyIgZGF0YS10aXRsZT0iJytkLnRpdGxlKyciIGRhdGEtaHJlZj0iJytkLmhyZWYrJyI+JytkLmJvZHkrIjwvbGk+In1hKz0iPC91bD4ifWlmKGErPSI8L2Rpdj4iLE9iamVjdC5rZXlzKHRoaXMub3B0aW9ucy5saW5rQ2xhc3NlcykubGVuZ3RoKXthKz0nPGRpdiBjbGFzcz0iZi1wb3B1cC1saW5lIj48aW5wdXQgdHlwZT0idGV4dCIgcGxhY2Vob2xkZXI9IkNob29zZSBsaW5rIHR5cGUiIGNsYXNzPSJmLWJpIiBpZD0iZi1sdWMtJyt0aGlzLl9pZCsnIiBkaXNhYmxlZD0iZGlzYWJsZWQiLz4nLGErPSc8YnV0dG9uIGNsYXNzPSJmLWJyb3dzZS1saW5rcyIgaWQ9ImYtbGlua3MtY2xhc3MtJyt0aGlzLl9pZCsnIj48aSBjbGFzcz0iZmEgZmEtY2hldnJvbi1kb3duIj48L2k+PC9idXR0b24+JyxhKz0nPHVsIGlkPSJmLWxpbmstY2xhc3MtbGlzdC0nK3RoaXMuX2lkKyciPic7Zm9yKHZhciBlIGluIHRoaXMub3B0aW9ucy5saW5rQ2xhc3Nlcyl7dmFyIGY9dGhpcy5vcHRpb25zLmxpbmtDbGFzc2VzW2VdO2ErPSc8bGkgY2xhc3M9ImYtY2hvb3NlLWxpbmstY2xhc3MiIGRhdGEtY2xhc3M9IicrZSsnIj4nK2YrIjwvbGk+In1hKz0iPC91bD4iLGErPSI8L2Rpdj4ifXJldHVybiBhKz0nPGRpdiBjbGFzcz0iZi1wb3B1cC1saW5lIj48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJmLWNoZWNrYm94LScrdGhpcy5faWQrJyI+IDxsYWJlbCBkYXRhLXRleHQ9InRydWUiIGZvcj0iZi1jaGVja2JveC0nK3RoaXMuX2lkKyciPk9wZW4gaW4gbmV3IHRhYjwvbGFiZWw+PGJ1dHRvbiBkYXRhLXRleHQ9InRydWUiIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImYtb2siIGlkPSJmLW9rLScrdGhpcy5faWQrJyI+T0s8L2J1dHRvbj4nLHRoaXMub3B0aW9ucy51bmxpbmtCdXR0b24mJihhKz0nPGJ1dHRvbiB0eXBlPSJidXR0b24iIGRhdGEtdGV4dD0idHJ1ZSIgY2xhc3M9ImYtb2sgZi11bmxpbmsiIGlkPSJmLXVubGluay0nK3RoaXMuX2lkKyciPlVOTElOSzwvYnV0dG9uPicpLGErPSI8L2Rpdj48L2Rpdj4ifSxhLkVkaXRhYmxlLnByb3RvdHlwZS5idWlsZENyZWF0ZUxpbms9ZnVuY3Rpb24oKXt0aGlzLiRsaW5rX3dyYXBwZXI9YSh0aGlzLmNyZWF0ZUxpbmtIVE1MKCkpLHRoaXMuJHBvcHVwX2VkaXRvci5hcHBlbmQodGhpcy4kbGlua193cmFwcGVyKTt2YXIgYj10aGlzO3RoaXMuYWRkTGlzdGVuZXIoImhpZGVQb3B1cHMiLHRoaXMuaGlkZUxpbmtXcmFwcGVyKSx0aGlzLiRsaW5rX3dyYXBwZXIub24oIm1vdXNldXAgdG91Y2hlbmQiLGEucHJveHkoZnVuY3Rpb24oYSl7dGhpcy5pc1Jlc2l6aW5nKCl8fChhLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuJGxpbmtfd3JhcHBlci50cmlnZ2VyKCJoaWRlTGlua0xpc3QiKSl9LHRoaXMpKSx0aGlzLm9wdGlvbnMubGlua1RleHQmJnRoaXMuJGxpbmtfd3JhcHBlci5vbigibW91c2V1cCBrZXlkb3duIiwiaW5wdXQjZi1sdC0iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDtiJiYyNz09PWJ8fGEuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy4kbGlua193cmFwcGVyLnRyaWdnZXIoImhpZGVMaW5rTGlzdCIpLHRoaXMuJGxpbmtfd3JhcHBlci50cmlnZ2VyKCJoaWRlTGlua0NsYXNzTGlzdCIpfSx0aGlzKSksdGhpcy4kbGlua193cmFwcGVyLm9uKCJtb3VzZXVwIGtleWRvd24iLCJpbnB1dCNmLWx1LSIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbihhKXt2YXIgYj1hLndoaWNoOwpiJiYyNz09PWJ8fGEuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy4kbGlua193cmFwcGVyLnRyaWdnZXIoImhpZGVMaW5rTGlzdCIpLHRoaXMuJGxpbmtfd3JhcHBlci50cmlnZ2VyKCJoaWRlTGlua0NsYXNzTGlzdCIpfSx0aGlzKSksdGhpcy4kbGlua193cmFwcGVyLm9uKCJjbGljayBrZXlkb3duIiwiaW5wdXQjZi1jaGVja2JveC0iK3RoaXMuX2lkLGZ1bmN0aW9uKGEpe3ZhciBiPWEud2hpY2g7YiYmMjc9PT1ifHxhLnN0b3BQcm9wYWdhdGlvbigpfSksdGhpcy4kbGlua193cmFwcGVyLm9uKCJ0b3VjaGVuZCIsImJ1dHRvbiNmLW9rLSIrdGhpcy5faWQsZnVuY3Rpb24oYSl7YS5zdG9wUHJvcGFnYXRpb24oKX0pLm9uKCJjbGljayIsImJ1dHRvbiNmLW9rLSIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbigpe3ZhciBhLGI9dGhpcy4kbGlua193cmFwcGVyLmZpbmQoImlucHV0I2YtbHQtIit0aGlzLl9pZCksYz10aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgiaW5wdXQjZi1sdS0iK3RoaXMuX2lkKSxkPXRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCJpbnB1dCNmLWx1Yy0iK3RoaXMuX2lkKSxlPXRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCJpbnB1dCNmLWNoZWNrYm94LSIrdGhpcy5faWQpO2E9Yj9iLnZhbCgpOiIiO3ZhciBmPWMudmFsKCk7dGhpcy5pc0xpbmsmJiIiPT09ZiYmKGY9IiMiKTt2YXIgZz0iIjtkJiYoZz1kLmRhdGEoImNsYXNzIikpLHRoaXMud3JpdGVMaW5rKGYsYSxnLGUucHJvcCgiY2hlY2tlZCIpKX0sdGhpcykpLHRoaXMuJGxpbmtfd3JhcHBlci5vbigiY2xpY2sgdG91Y2giLCJidXR0b24jZi11bmxpbmstIit0aGlzLl9pZCxhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5saW5rPSEwLHRoaXMucmVtb3ZlTGluaygpfSx0aGlzKSksdGhpcy5vcHRpb25zLmxpbmtMaXN0Lmxlbmd0aCYmKHRoaXMuJGxpbmtfd3JhcHBlci5vbigiY2xpY2sgdG91Y2giLCJsaS5mLWNob29zZS1saW5rIixmdW5jdGlvbigpe3ZhciBjPWIuJGxpbmtfd3JhcHBlci5maW5kKCJidXR0b24jZi1icm93c2UtbGlua3MtIitiLl9pZCksZD1iLiRsaW5rX3dyYXBwZXIuZmluZCgiaW5wdXQjZi1sdC0iK2IuX2lkKSxlPWIuJGxpbmtfd3JhcHBlci5maW5kKCJpbnB1dCNmLWx1LSIrYi5faWQpLGY9Yi4kbGlua193cmFwcGVyLmZpbmQoImlucHV0I2YtY2hlY2tib3gtIitiLl9pZCk7ZCYmZC52YWwoYSh0aGlzKS5kYXRhKCJib2R5IikpLGUudmFsKGEodGhpcykuZGF0YSgiaHJlZiIpKSxmLnByb3AoImNoZWNrZWQiLGEodGhpcykuZGF0YSgiYmxhbmsiKSksYy5jbGljaygpfSkub24oIm1vdXNldXAiLCJsaS5mLWNob29zZS1saW5rIixmdW5jdGlvbihhKXthLnN0b3BQcm9wYWdhdGlvbigpfSksdGhpcy4kbGlua193cmFwcGVyLm9uKCJjbGljayIsImJ1dHRvbiNmLWJyb3dzZS1saW5rcy0iK3RoaXMuX2lkLGZ1bmN0aW9uKGMpe2Muc3RvcFByb3BhZ2F0aW9uKCk7dmFyIGQ9Yi4kbGlua193cmFwcGVyLmZpbmQoInVsI2YtbGluay1saXN0LSIrYi5faWQpO2IuJGxpbmtfd3JhcHBlci50cmlnZ2VyKCJoaWRlTGlua0NsYXNzTGlzdCIpLGEodGhpcykuZmluZCgiaSIpLnRvZ2dsZUNsYXNzKCJmYS1jaGV2cm9uLWRvd24iKSxhKHRoaXMpLmZpbmQoImkiKS50b2dnbGVDbGFzcygiZmEtY2hldnJvbi11cCIpLGQudG9nZ2xlKCl9KS5vbigibW91c2V1cCIsImJ1dHRvbiNmLWJyb3dzZS1saW5rcy0iK3RoaXMuX2lkLGZ1bmN0aW9uKGEpe2Euc3RvcFByb3BhZ2F0aW9uKCl9KSx0aGlzLiRsaW5rX3dyYXBwZXIuYmluZCgiaGlkZUxpbmtMaXN0IixmdW5jdGlvbigpe3ZhciBhPWIuJGxpbmtfd3JhcHBlci5maW5kKCJ1bCNmLWxpbmstbGlzdC0iK2IuX2lkKSxjPWIuJGxpbmtfd3JhcHBlci5maW5kKCJidXR0b24jZi1icm93c2UtbGlua3MtIitiLl9pZCk7YSYmYS5pcygiOnZpc2libGUiKSYmYy5jbGljaygpfSkpLE9iamVjdC5rZXlzKHRoaXMub3B0aW9ucy5saW5rQ2xhc3NlcykubGVuZ3RoJiYodGhpcy4kbGlua193cmFwcGVyLm9uKCJtb3VzZXVwIGtleWRvd24iLCJpbnB1dCNmLWx1Yy0iK3RoaXMuX2lkLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDtiJiYyNz09PWJ8fGEuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy4kbGlua193cmFwcGVyLnRyaWdnZXIoImhpZGVMaW5rTGlzdCIpLHRoaXMuJGxpbmtfd3JhcHBlci50cmlnZ2VyKCJoaWRlTGlua0NsYXNzTGlzdCIpfSx0aGlzKSksdGhpcy4kbGlua193cmFwcGVyLm9uKCJjbGljayB0b3VjaCIsImxpLmYtY2hvb3NlLWxpbmstY2xhc3MiLGZ1bmN0aW9uKCl7dmFyIGM9Yi4kbGlua193cmFwcGVyLmZpbmQoImlucHV0I2YtbHVjLSIrYi5faWQpO2MudmFsKGEodGhpcykudGV4dCgpKSxjLmRhdGEoImNsYXNzIixhKHRoaXMpLmRhdGEoImNsYXNzIikpLGIuJGxpbmtfd3JhcHBlci50cmlnZ2VyKCJoaWRlTGlua0NsYXNzTGlzdCIpfSkub24oIm1vdXNldXAiLCJsaS5mLWNob29zZS1saW5rLWNsYXNzIixmdW5jdGlvbihhKXthLnN0b3BQcm9wYWdhdGlvbigpfSksdGhpcy4kbGlua193cmFwcGVyLm9uKCJjbGljayIsImJ1dHRvbiNmLWxpbmtzLWNsYXNzLSIrdGhpcy5faWQsZnVuY3Rpb24oYyl7Yy5zdG9wUHJvcGFnYXRpb24oKSxiLiRsaW5rX3dyYXBwZXIudHJpZ2dlcigiaGlkZUxpbmtMaXN0Iik7dmFyIGQ9Yi4kbGlua193cmFwcGVyLmZpbmQoInVsI2YtbGluay1jbGFzcy1saXN0LSIrYi5faWQpO2EodGhpcykuZmluZCgiaSIpLnRvZ2dsZUNsYXNzKCJmYS1jaGV2cm9uLWRvd24iKSxhKHRoaXMpLmZpbmQoImkiKS50b2dnbGVDbGFzcygiZmEtY2hldnJvbi11cCIpLGQudG9nZ2xlKCl9KS5vbigibW91c2V1cCIsImJ1dHRvbiNmLWxpbmtzLWNsYXNzLSIrdGhpcy5faWQsZnVuY3Rpb24oYSl7YS5zdG9wUHJvcGFnYXRpb24oKX0pLHRoaXMuJGxpbmtfd3JhcHBlci5iaW5kKCJoaWRlTGlua0NsYXNzTGlzdCIsZnVuY3Rpb24oKXt2YXIgYT1iLiRsaW5rX3dyYXBwZXIuZmluZCgidWwjZi1saW5rLWNsYXNzLWxpc3QtIitiLl9pZCksYz1iLiRsaW5rX3dyYXBwZXIuZmluZCgiYnV0dG9uI2YtbGlua3MtY2xhc3MtIitiLl9pZCk7YSYmYS5pcygiOnZpc2libGUiKSYmYy5jbGljaygpfSkpLHRoaXMuJGxpbmtfd3JhcHBlci5vbih0aGlzLm1vdXNldXAsImkjZi1saW5rLWNsb3NlLSIrdGhpcy5faWQsYS5wcm94eShmdW5jdGlvbigpe3RoaXMuJGJ0dG5fd3JhcHBlci5zaG93KCksdGhpcy5oaWRlTGlua1dyYXBwZXIoKSwoIXRoaXMub3B0aW9ucy5pbmxpbmVNb2RlJiYhdGhpcy5pbWFnZU1vZGV8fHRoaXMuaXNMaW5rfHwwPT09dGhpcy5vcHRpb25zLmJ1dHRvbnMubGVuZ3RoKSYmdGhpcy5oaWRlKCksdGhpcy5pbWFnZU1vZGU/dGhpcy5zaG93SW1hZ2VFZGl0b3IoKToodGhpcy5yZXN0b3JlU2VsZWN0aW9uKCksdGhpcy5mb2N1cygpKX0sdGhpcykpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25MaW5rcz1mdW5jdGlvbigpe3ZhciBhLGIsYyxkLGU9W107aWYod2luZG93LmdldFNlbGVjdGlvbil7dmFyIGY9d2luZG93LmdldFNlbGVjdGlvbigpO2lmKGYuZ2V0UmFuZ2VBdCYmZi5yYW5nZUNvdW50KXtkPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7Zm9yKHZhciBnPTA7ZzxmLnJhbmdlQ291bnQ7KytnKWlmKGE9Zi5nZXRSYW5nZUF0KGcpLGI9YS5jb21tb25BbmNlc3RvckNvbnRhaW5lcixiJiYxIT1iLm5vZGVUeXBlJiYoYj1iLnBhcmVudE5vZGUpLGImJiJhIj09Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKWUucHVzaChiKTtlbHNle2M9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpO2Zvcih2YXIgaD0wO2g8Yy5sZW5ndGg7KytoKWQuc2VsZWN0Tm9kZUNvbnRlbnRzKGNbaF0pLGQuY29tcGFyZUJvdW5kYXJ5UG9pbnRzKGEuRU5EX1RPX1NUQVJULGEpPDEmJmQuY29tcGFyZUJvdW5kYXJ5UG9pbnRzKGEuU1RBUlRfVE9fRU5ELGEpPi0xJiZlLnB1c2goY1toXSl9fX1lbHNlIGlmKGRvY3VtZW50LnNlbGVjdGlvbiYmIkNvbnRyb2wiIT1kb2N1bWVudC5zZWxlY3Rpb24udHlwZSlpZihhPWRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLGI9YS5wYXJlbnRFbGVtZW50KCksImEiPT1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpZS5wdXNoKGIpO2Vsc2V7Yz1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIiksZD1kb2N1bWVudC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpO2Zvcih2YXIgaT0wO2k8Yy5sZW5ndGg7KytpKWQubW92ZVRvRWxlbWVudFRleHQoY1tpXSksZC5jb21wYXJlRW5kUG9pbnRzKCJTdGFydFRvRW5kIixhKT4tMSYmZC5jb21wYXJlRW5kUG9pbnRzKCJFbmRUb1N0YXJ0IixhKTwxJiZlLnB1c2goY1tpXSl9cmV0dXJuIGV9LGEuRWRpdGFibGUucHJvdG90eXBlLmluc2VydExpbms9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuaW5saW5lTW9kZXx8KHRoaXMuY2xvc2VJbWFnZU1vZGUoKSx0aGlzLmltYWdlTW9kZT0hMSx0aGlzLnBvc2l0aW9uUG9wdXAoImNyZWF0ZUxpbmsiKSksdGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpJiZ0aGlzLnNhdmVTZWxlY3Rpb24oKSx0aGlzLnNob3dJbnNlcnRMaW5rKCk7dmFyIGI9dGhpcy5nZXRTZWxlY3Rpb25MaW5rKCl8fCIiLGM9dGhpcy5nZXRTZWxlY3Rpb25MaW5rcygpO2MubGVuZ3RoPjA/KHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJjaGVja2JveCJdJykucHJvcCgiY2hlY2tlZCIsIl9ibGFuayI9PWEoY1swXSkuYXR0cigidGFyZ2V0IikpLHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJ0ZXh0Il0uZi1sdCcpLnZhbChhKGNbMF0pLnRleHQoKXx8IiIpLGEoY1swXSkuaGFzQ2xhc3MoImZyLWZpbGUiKT90aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0idGV4dCJdLmYtbHUnKS5hdHRyKCJkaXNhYmxlZCIsImRpc2FibGVkIik6dGhpcy4kbGlua193cmFwcGVyLmZpbmQoJ2lucHV0W3R5cGU9InRleHQiXS5mLWx1JykucmVtb3ZlQXR0cigiZGlzYWJsZWQiKSx0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgiYS5mLWV4dGVybmFsLWxpbmssIGJ1dHRvbi5mLXVubGluayIpLnNob3coKSk6KHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJjaGVja2JveCJdJykucHJvcCgiY2hlY2tlZCIsdGhpcy5vcHRpb25zLmFsd2F5c0JsYW5rKSx0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0idGV4dCJdLmYtbHQnKS52YWwodGhpcy50ZXh0KCkpLHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCdpbnB1dFt0eXBlPSJ0ZXh0Il0uZi1sdScpLnJlbW92ZUF0dHIoImRpc2FibGVkIiksdGhpcy4kbGlua193cmFwcGVyLmZpbmQoImEuZi1leHRlcm5hbC1saW5rLCBidXR0b24uZi11bmxpbmsiKS5oaWRlKCkpLHRoaXMuJGxpbmtfd3JhcHBlci5maW5kKCIuZi1leHRlcm5hbC1saW5rIikuYXR0cigiaHJlZiIsYnx8IiMiKSx0aGlzLiRsaW5rX3dyYXBwZXIuZmluZCgnaW5wdXRbdHlwZT0idGV4dCJdLmYtbHUnKS52YWwoYi5yZXBsYWNlKC9cJmFtcDsvZywiJiIpfHwiaHR0cDovLyIpfX0oalF1ZXJ5KSxmdW5jdGlvbihhKXthLkVkaXRhYmxlLnByb3RvdHlwZS5icm93c2VyRml4ZXM9ZnVuY3Rpb24oKXt0aGlzLnByZUJsb2NrcXVvdGVFbnRlcigpLHRoaXMuZW50ZXJOb1BhcmFncmFwaHkoKSx0aGlzLmJhY2tzcGFjZUVtcHR5KCksdGhpcy5maXhIUigpLHRoaXMuZG9tSW5zZXJ0KCksdGhpcy5maXhJTUUoKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZml4SFI9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50Lm9uKCJrZXlkb3duIixhLnByb3h5KGZ1bmN0aW9uKGIpe3ZhciBjPWEodGhpcy5nZXRTZWxlY3Rpb25FbGVtZW50KCkpO2lmKGMuaXMoImhyIil8fGMucGFyZW50cygiaHIiKS5sZW5ndGgpcmV0dXJuITE7dmFyIGQ9Yi53aGljaCxlPWEodGhpcy5nZXRTZWxlY3Rpb25FbGVtZW50cygpWzBdKTs4PT1kJiZlLnByZXYoKS5pcygiaHIiKSYmdGhpcy5nZXRTZWxlY3Rpb25UZXh0SW5mbyhlLmdldCgwKSkuYXRTdGFydCYmKHRoaXMuc2F2ZVNlbGVjdGlvbkJ5TWFya2VycygpLGUucHJldigpLnJlbW92ZSgpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpKX0sdGhpcykpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5iYWNrc3BhY2VFbXB0eT1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQub24oImtleWRvd24iLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDs4PT1iJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJmLXBsYWNlaG9sZGVyIikmJmEucHJldmVudERlZmF1bHQoKX0sdGhpcykpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5wcmVCbG9ja3F1b3RlRW50ZXI9ZnVuY3Rpb24oKXt0aGlzLmlzSW1hZ2V8fHRoaXMuaXNMaW5rfHx0aGlzLm9wdGlvbnMuZWRpdEluUG9wdXB8fHRoaXMuJGVsZW1lbnQub24oImtleWRvd24iLGEucHJveHkoZnVuY3Rpb24oYil7dmFyIGM9Yi53aGljaCxkPVsiUFJFIiwiQkxPQ0tRVU9URSJdLGU9dGhpcy5nZXRTZWxlY3Rpb25FbGVtZW50cygpWzBdO2lmKDEzPT1jJiYiIj09PXRoaXMudGV4dCgpJiZkLmluZGV4T2YoZS50YWdOYW1lKT49MCYmMD09PWEoZSkucGFyZW50cygidWwsIG9sIikubGVuZ3RoKWlmKHRoaXMuZ2V0U2VsZWN0aW9uVGV4dEluZm8oZSkuYXRFbmQmJiFiLnNoaWZ0S2V5KXtiLnByZXZlbnREZWZhdWx0KCk7dmFyIGY9YSgiPHA+PGJyPjwvcD4iKTthKGUpLmFmdGVyKGYpLHRoaXMuc2V0U2VsZWN0aW9uKGYuZ2V0KDApKX1lbHNlKHRoaXMuYnJvd3Nlci53ZWJraXR8fHRoaXMuYnJvd3Nlci5tc2llKSYmKGIucHJldmVudERlZmF1bHQoKSx0aGlzLmluc2VydEhUTUwodGhpcy5lbmRzV2l0aChhKGUpLmh0bWwoKSwiPGJyPiIpfHwhdGhpcy5nZXRTZWxlY3Rpb25UZXh0SW5mbyhlKS5hdEVuZD8iPGJyPiI6Ijxicj48YnI+IikpfSx0aGlzKSl9LGEuRWRpdGFibGUucHJvdG90eXBlLmVudGVyTm9QYXJhZ3JhcGh5PWZ1bmN0aW9uKCl7IXRoaXMuYnJvd3Nlci53ZWJraXQmJiF0aGlzLmJyb3dzZXIubXNpZXx8dGhpcy5vcHRpb25zLnBhcmFncmFwaHl8fHRoaXMuJGVsZW1lbnQub24oImtleWRvd24iLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDsxMz09YiYmKGEucHJldmVudERlZmF1bHQoKSx0aGlzLmluc2VydEhUTUwoJzwvYnI+JiM4MjAzOzxzcGFuIGNsYXNzPSJmLW1hcmtlciIgZGF0YS10eXBlPSJmYWxzZSIgZGF0YS1pZD0iMCIgZGF0YS1mci12ZXJpZmllZD0idHJ1ZSI+PC9zcGFuPjxzcGFuIGNsYXNzPSJmLW1hcmtlciIgZGF0YS10eXBlPSJ0cnVlIiBkYXRhLWlkPSIwIiBkYXRhLWZyLXZlcmlmaWVkPSJ0cnVlIj48L3NwYW4+JyksdGhpcy5yZXN0b3JlU2VsZWN0aW9uQnlNYXJrZXJzKCkpfSx0aGlzKSl9LGEuRWRpdGFibGUucHJvdG90eXBlLmRvbUluc2VydD1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQub24oImtleWRvd24iLGEucHJveHkoZnVuY3Rpb24oYSl7dmFyIGI9YS53aGljaDs4PT09YiYmKHRoaXMubm9fdmVyaWZ5PSEwKSwxMz09PWImJih0aGlzLmFkZF9icj0hMCl9LHRoaXMpKSx0aGlzLiRlbGVtZW50Lm9uKCJET01Ob2RlSW5zZXJ0ZWQiLGEucHJveHkoZnVuY3Rpb24oYil7aWYoIlNQQU4iIT09Yi50YXJnZXQudGFnTmFtZXx8YShiLnRhcmdldCkuYXR0cigiZGF0YS1mci12ZXJpZmllZCIpfHx0aGlzLm5vX3ZlcmlmeXx8dGhpcy50ZXh0RW1wdHkoYi50YXJnZXQpfHxhKGIudGFyZ2V0KS5yZXBsYWNlV2l0aChhKGIudGFyZ2V0KS5jb250ZW50cygpKSx0aGlzLm9wdGlvbnMucGFyYWdyYXBoeSYmdGhpcy5hZGRfYnImJiJCUiI9PT1iLnRhcmdldC50YWdOYW1lJiYoYShiLnRhcmdldCkucHJldigpLmxlbmd0aCYmIlRBQkxFIj09PWEoYi50YXJnZXQpLnByZXYoKS5nZXQoMCkudGFnTmFtZXx8YShiLnRhcmdldCkubmV4dCgpLmxlbmd0aCYmIlRBQkxFIj09PWEoYi50YXJnZXQpLm5leHQoKS5nZXQoMCkudGFnTmFtZSkpe2EoYi50YXJnZXQpLndyYXAoJzxwIGNsYXNzPSJmci1wLXdyYXAiPicpO3ZhciBjPXRoaXMuJGVsZW1lbnQuZmluZCgicC5mci1wLXdyYXAiKS5yZW1vdmVBdHRyKCJjbGFzcyIpO3RoaXMuc2V0U2VsZWN0aW9uKGMuZ2V0KDApKX19LHRoaXMpKSx0aGlzLiRlbGVtZW50Lm9uKCJrZXl1cCIsYS5wcm94eShmdW5jdGlvbihhKXt2YXIgYj1hLndoaWNoOzg9PT1iJiYodGhpcy4kZWxlbWVudC5maW5kKCJzcGFuOm5vdCguZnItdmVyaWZpZWQpIikuYXR0cigiZGF0YS1mci12ZXJpZmllZCIsITApLHRoaXMubm9fdmVyaWZ5PSExKSwxMz09PWImJih0aGlzLmFkZF9icj0hMCl9LHRoaXMpKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZml4SU1FPWZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5nZXQoMCkubXNHZXRJbnB1dENvbnRleHQmJih0aGlzLiRlbGVtZW50LmdldCgwKS5tc0dldElucHV0Q29udGV4dCgpLmFkZEV2ZW50TGlzdGVuZXIoIk1TQ2FuZGlkYXRlV2luZG93U2hvdyIsYS5wcm94eShmdW5jdGlvbigpe3RoaXMuaW1lPSEwfSx0aGlzKSksdGhpcy4kZWxlbWVudC5nZXQoMCkubXNHZXRJbnB1dENvbnRleHQoKS5hZGRFdmVudExpc3RlbmVyKCJNU0NhbmRpZGF0ZVdpbmRvd0hpZGUiLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmltZT0hMSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoImtleWRvd24iKSx0aGlzLm9sZEhUTUw9IiJ9LHRoaXMpKSl9fShqUXVlcnkpLGZ1bmN0aW9uKGEpeyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsianF1ZXJ5Il0sYSk6YShqUXVlcnkpfShmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7ZnVuY3Rpb24gYigpe2Q/KGMoKSxNKGIpLGU9ITAsZD0hMSk6ZT0hMX12YXIgYz1hLGQ9ITEsZT0hMTt0aGlzLmtpY2s9ZnVuY3Rpb24oKXtkPSEwLGV8fGIoKX0sdGhpcy5lbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9YzthJiYoZT8oYz1kP2Z1bmN0aW9uKCl7YigpLGEoKX06YSxkPSEwKTphKCkpfX1mdW5jdGlvbiBkKCl7cmV0dXJuITB9ZnVuY3Rpb24gZSgpe3JldHVybiExfWZ1bmN0aW9uIGYoYSl7YS5wcmV2ZW50RGVmYXVsdCgpfWZ1bmN0aW9uIGcoYSl7TlthLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCldfHxhLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gaChhKXtyZXR1cm4gMT09PWEud2hpY2gmJiFhLmN0cmxLZXkmJiFhLmFsdEtleX1mdW5jdGlvbiBpKGEsYil7dmFyIGMsZDtpZihhLmlkZW50aWZpZWRUb3VjaClyZXR1cm4gYS5pZGVudGlmaWVkVG91Y2goYik7Zm9yKGM9LTEsZD1hLmxlbmd0aDsrK2M8ZDspaWYoYVtjXS5pZGVudGlmaWVyPT09YilyZXR1cm4gYVtjXX1mdW5jdGlvbiBqKGEsYil7dmFyIGM9aShhLmNoYW5nZWRUb3VjaGVzLGIuaWRlbnRpZmllcik7aWYoYyYmKGMucGFnZVghPT1iLnBhZ2VYfHxjLnBhZ2VZIT09Yi5wYWdlWSkpcmV0dXJuIGN9ZnVuY3Rpb24gayhhKXt2YXIgYjtoKGEpJiYoYj17dGFyZ2V0OmEudGFyZ2V0LHN0YXJ0WDphLnBhZ2VYLHN0YXJ0WTphLnBhZ2VZLHRpbWVTdGFtcDphLnRpbWVTdGFtcH0sSihkb2N1bWVudCxPLm1vdmUsbCxiKSxKKGRvY3VtZW50LE8uY2FuY2VsLG0sYikpfWZ1bmN0aW9uIGwoYSl7dmFyIGI9YS5kYXRhO3MoYSxiLGEsbil9ZnVuY3Rpb24gbSgpe24oKX1mdW5jdGlvbiBuKCl7Syhkb2N1bWVudCxPLm1vdmUsbCksSyhkb2N1bWVudCxPLmNhbmNlbCxtKX1mdW5jdGlvbiBvKGEpe3ZhciBiLGM7TlthLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCldfHwoYj1hLmNoYW5nZWRUb3VjaGVzWzBdLGM9e3RhcmdldDpiLnRhcmdldCxzdGFydFg6Yi5wYWdlWCxzdGFydFk6Yi5wYWdlWSx0aW1lU3RhbXA6YS50aW1lU3RhbXAsaWRlbnRpZmllcjpiLmlkZW50aWZpZXJ9LEooZG9jdW1lbnQsUC5tb3ZlKyIuIitiLmlkZW50aWZpZXIscCxjKSxKKGRvY3VtZW50LFAuY2FuY2VsKyIuIitiLmlkZW50aWZpZXIscSxjKSl9ZnVuY3Rpb24gcChhKXt2YXIgYj1hLmRhdGEsYz1qKGEsYik7YyYmcyhhLGIsYyxyKX1mdW5jdGlvbiBxKGEpe3ZhciBiPWEuZGF0YSxjPWkoYS5jaGFuZ2VkVG91Y2hlcyxiLmlkZW50aWZpZXIpO2MmJnIoYi5pZGVudGlmaWVyKX1mdW5jdGlvbiByKGEpe0soZG9jdW1lbnQsIi4iK2EscCksSyhkb2N1bWVudCwiLiIrYSxxKX1mdW5jdGlvbiBzKGEsYixjLGQpe3ZhciBlPWMucGFnZVgtYi5zdGFydFgsZj1jLnBhZ2VZLWIuc3RhcnRZO0kqST5lKmUrZipmfHx2KGEsYixjLGUsZixkKX1mdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX2hhbmRsZWQ9ZCwhMX1mdW5jdGlvbiB1KGEpe3RyeXthLl9oYW5kbGVkKCl9Y2F0Y2goYil7cmV0dXJuITF9fWZ1bmN0aW9uIHYoYSxiLGMsZCxlLGYpe3t2YXIgZyxoO2IudGFyZ2V0fWc9YS50YXJnZXRUb3VjaGVzLGg9YS50aW1lU3RhbXAtYi50aW1lU3RhbXAsYi50eXBlPSJtb3Zlc3RhcnQiLGIuZGlzdFg9ZCxiLmRpc3RZPWUsYi5kZWx0YVg9ZCxiLmRlbHRhWT1lLGIucGFnZVg9Yy5wYWdlWCxiLnBhZ2VZPWMucGFnZVksYi52ZWxvY2l0eVg9ZC9oLGIudmVsb2NpdHlZPWUvaCxiLnRhcmdldFRvdWNoZXM9ZyxiLmZpbmdlcj1nP2cubGVuZ3RoOjEsYi5faGFuZGxlZD10LGIuX3ByZXZlbnRUb3VjaG1vdmVEZWZhdWx0PWZ1bmN0aW9uKCl7YS5wcmV2ZW50RGVmYXVsdCgpfSxMKGIudGFyZ2V0LGIpLGYoYi5pZGVudGlmaWVyKX1mdW5jdGlvbiB3KGEpe3ZhciBiPWEuZGF0YS50aW1lcjthLmRhdGEudG91Y2g9YSxhLmRhdGEudGltZVN0YW1wPWEudGltZVN0YW1wLGIua2ljaygpfWZ1bmN0aW9uIHgoYSl7dmFyIGI9YS5kYXRhLmV2ZW50LGM9YS5kYXRhLnRpbWVyO3koKSxEKGIsYyxmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtLKGIudGFyZ2V0LCJjbGljayIsZSl9LDApfSl9ZnVuY3Rpb24geSgpe0soZG9jdW1lbnQsTy5tb3ZlLHcpLEsoZG9jdW1lbnQsTy5lbmQseCl9ZnVuY3Rpb24geihhKXt2YXIgYj1hLmRhdGEuZXZlbnQsYz1hLmRhdGEudGltZXIsZD1qKGEsYik7ZCYmKGEucHJldmVudERlZmF1bHQoKSxiLnRhcmdldFRvdWNoZXM9YS50YXJnZXRUb3VjaGVzLGEuZGF0YS50b3VjaD1kLGEuZGF0YS50aW1lU3RhbXA9YS50aW1lU3RhbXAsYy5raWNrKCkpfWZ1bmN0aW9uIEEoYSl7dmFyIGI9YS5kYXRhLmV2ZW50LGM9YS5kYXRhLnRpbWVyLGQ9aShhLmNoYW5nZWRUb3VjaGVzLGIuaWRlbnRpZmllcik7ZCYmKEIoYiksRChiLGMpKX1mdW5jdGlvbiBCKGEpe0soZG9jdW1lbnQsIi4iK2EuaWRlbnRpZmllcix6KSxLKGRvY3VtZW50LCIuIithLmlkZW50aWZpZXIsQSl9ZnVuY3Rpb24gQyhhLGIsYyl7dmFyIGQ9Yy1hLnRpbWVTdGFtcDthLnR5cGU9Im1vdmUiLGEuZGlzdFg9Yi5wYWdlWC1hLnN0YXJ0WCxhLmRpc3RZPWIucGFnZVktYS5zdGFydFksYS5kZWx0YVg9Yi5wYWdlWC1hLnBhZ2VYLGEuZGVsdGFZPWIucGFnZVktYS5wYWdlWSxhLnZlbG9jaXR5WD0uMyphLnZlbG9jaXR5WCsuNyphLmRlbHRhWC9kLGEudmVsb2NpdHlZPS4zKmEudmVsb2NpdHlZKy43KmEuZGVsdGFZL2QsYS5wYWdlWD1iLnBhZ2VYLGEucGFnZVk9Yi5wYWdlWX1mdW5jdGlvbiBEKGEsYixjKXtiLmVuZChmdW5jdGlvbigpe3JldHVybiBhLnR5cGU9Im1vdmVlbmQiLEwoYS50YXJnZXQsYSksYyYmYygpfSl9ZnVuY3Rpb24gRSgpe3JldHVybiBKKHRoaXMsIm1vdmVzdGFydC5tb3ZlIix1KSwhMH1mdW5jdGlvbiBGKCl7cmV0dXJuIEsodGhpcywiZHJhZ3N0YXJ0IGRyYWciLGYpLEsodGhpcywibW91c2Vkb3duIHRvdWNoc3RhcnQiLGcpLEsodGhpcywibW92ZXN0YXJ0Iix1KSwhMH1mdW5jdGlvbiBHKGEpeyJtb3ZlIiE9PWEubmFtZXNwYWNlJiYibW92ZWVuZCIhPT1hLm5hbWVzcGFjZSYmKEoodGhpcywiZHJhZ3N0YXJ0LiIrYS5ndWlkKyIgZHJhZy4iK2EuZ3VpZCxmLGIsYS5zZWxlY3RvciksSih0aGlzLCJtb3VzZWRvd24uIithLmd1aWQsZyxiLGEuc2VsZWN0b3IpKX1mdW5jdGlvbiBIKGEpeyJtb3ZlIiE9PWEubmFtZXNwYWNlJiYibW92ZWVuZCIhPT1hLm5hbWVzcGFjZSYmKEsodGhpcywiZHJhZ3N0YXJ0LiIrYS5ndWlkKyIgZHJhZy4iK2EuZ3VpZCksSyh0aGlzLCJtb3VzZWRvd24uIithLmd1aWQpKX12YXIgST02LEo9YS5ldmVudC5hZGQsSz1hLmV2ZW50LnJlbW92ZSxMPWZ1bmN0aW9uKGIsYyxkKXthLmV2ZW50LnRyaWdnZXIoYyxkLGIpfSxNPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGEpe3JldHVybiB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2EoKX0sMjUpfX0oKSxOPXt0ZXh0YXJlYTohMCxpbnB1dDohMCxzZWxlY3Q6ITAsYnV0dG9uOiEwfSxPPXttb3ZlOiJtb3VzZW1vdmUiLGNhbmNlbDoibW91c2V1cCBkcmFnc3RhcnQiLGVuZDoibW91c2V1cCJ9LFA9e21vdmU6InRvdWNobW92ZSIsY2FuY2VsOiJ0b3VjaGVuZCIsZW5kOiJ0b3VjaGVuZCJ9O2EuZXZlbnQuc3BlY2lhbC5tb3Zlc3RhcnQ9e3NldHVwOkUsdGVhcmRvd246RixhZGQ6RyxyZW1vdmU6SCxfZGVmYXVsdDpmdW5jdGlvbihhKXtmdW5jdGlvbiBkKCl7QyhmLGcudG91Y2gsZy50aW1lU3RhbXApLEwoYS50YXJnZXQsZil9dmFyIGYsZzthLl9oYW5kbGVkKCkmJihmPXt0YXJnZXQ6YS50YXJnZXQsc3RhcnRYOmEuc3RhcnRYLHN0YXJ0WTphLnN0YXJ0WSxwYWdlWDphLnBhZ2VYLHBhZ2VZOmEucGFnZVksZGlzdFg6YS5kaXN0WCxkaXN0WTphLmRpc3RZLGRlbHRhWDphLmRlbHRhWCxkZWx0YVk6YS5kZWx0YVksdmVsb2NpdHlYOmEudmVsb2NpdHlYLHZlbG9jaXR5WTphLnZlbG9jaXR5WSx0aW1lU3RhbXA6YS50aW1lU3RhbXAsaWRlbnRpZmllcjphLmlkZW50aWZpZXIsdGFyZ2V0VG91Y2hlczphLnRhcmdldFRvdWNoZXMsZmluZ2VyOmEuZmluZ2VyfSxnPXtldmVudDpmLHRpbWVyOm5ldyBjKGQpLHRvdWNoOmIsdGltZVN0YW1wOmJ9LGEuaWRlbnRpZmllcj09PWI/KEooYS50YXJnZXQsImNsaWNrIixlKSxKKGRvY3VtZW50LE8ubW92ZSx3LGcpLEooZG9jdW1lbnQsTy5lbmQseCxnKSk6KGEuX3ByZXZlbnRUb3VjaG1vdmVEZWZhdWx0KCksSihkb2N1bWVudCxQLm1vdmUrIi4iK2EuaWRlbnRpZmllcix6LGcpLEooZG9jdW1lbnQsUC5lbmQrIi4iK2EuaWRlbnRpZmllcixBLGcpKSl9fSxhLmV2ZW50LnNwZWNpYWwubW92ZT17c2V0dXA6ZnVuY3Rpb24oKXtKKHRoaXMsIm1vdmVzdGFydC5tb3ZlIixhLm5vb3ApfSx0ZWFyZG93bjpmdW5jdGlvbigpe0sodGhpcywibW92ZXN0YXJ0Lm1vdmUiLGEubm9vcCl9fSxhLmV2ZW50LnNwZWNpYWwubW92ZWVuZD17c2V0dXA6ZnVuY3Rpb24oKXtKKHRoaXMsIm1vdmVzdGFydC5tb3ZlZW5kIixhLm5vb3ApfSx0ZWFyZG93bjpmdW5jdGlvbigpe0sodGhpcywibW92ZXN0YXJ0Lm1vdmVlbmQiLGEubm9vcCl9fSxKKGRvY3VtZW50LCJtb3VzZWRvd24ubW92ZSIsayksSihkb2N1bWVudCwidG91Y2hzdGFydC5tb3ZlIixvKSwiZnVuY3Rpb24iPT10eXBlb2YgQXJyYXkucHJvdG90eXBlLmluZGV4T2YmJiFmdW5jdGlvbihhKXtmb3IodmFyIGI9WyJjaGFuZ2VkVG91Y2hlcyIsInRhcmdldFRvdWNoZXMiXSxjPWIubGVuZ3RoO2MtLTspLTE9PT1hLmV2ZW50LnByb3BzLmluZGV4T2YoYltjXSkmJmEuZXZlbnQucHJvcHMucHVzaChiW2NdKX0oYSl9KSx3aW5kb3cuV1lTSVdZR01vZGVybml6cj1mdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChhKXtuLmNzc1RleHQ9YX1mdW5jdGlvbiBlKGEsYil7cmV0dXJuIHR5cGVvZiBhPT09Yn12YXIgZixnLGgsaT0iMi43LjEiLGo9e30saz1iLmRvY3VtZW50RWxlbWVudCxsPSJtb2Rlcm5penIiLG09Yi5jcmVhdGVFbGVtZW50KGwpLG49bS5zdHlsZSxvPSh7fS50b1N0cmluZywiIC13ZWJraXQtIC1tb3otIC1vLSAtbXMtICIuc3BsaXQoIiAiKSkscD17fSxxPVtdLHI9cS5zbGljZSxzPWZ1bmN0aW9uKGEsYyxkLGUpe3ZhciBmLGcsaCxpLGo9Yi5jcmVhdGVFbGVtZW50KCJkaXYiKSxtPWIuYm9keSxuPW18fGIuY3JlYXRlRWxlbWVudCgiYm9keSIpO2lmKHBhcnNlSW50KGQsMTApKWZvcig7ZC0tOyloPWIuY3JlYXRlRWxlbWVudCgiZGl2IiksaC5pZD1lP2VbZF06bCsoZCsxKSxqLmFwcGVuZENoaWxkKGgpO3JldHVybiBmPVsiJiMxNzM7IiwnPHN0eWxlIGlkPSJzJyxsLCciPicsYSwiPC9zdHlsZT4iXS5qb2luKCIiKSxqLmlkPWwsKG0/ajpuKS5pbm5lckhUTUwrPWYsbi5hcHBlbmRDaGlsZChqKSxtfHwobi5zdHlsZS5iYWNrZ3JvdW5kPSIiLG4uc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsaT1rLnN0eWxlLm92ZXJmbG93LGsuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsay5hcHBlbmRDaGlsZChuKSksZz1jKGosYSksbT9qLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaik6KG4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSxrLnN0eWxlLm92ZXJmbG93PWkpLCEhZ30sdD1mdW5jdGlvbihiKXt2YXIgYz1hLm1hdGNoTWVkaWF8fGEubXNNYXRjaE1lZGlhO2lmKGMpcmV0dXJuIGMoYikubWF0Y2hlczt2YXIgZDtyZXR1cm4gcygiQG1lZGlhICIrYisiIHsgIyIrbCsiIHsgcG9zaXRpb246IGFic29sdXRlOyB9IH0iLGZ1bmN0aW9uKGIpe2Q9ImFic29sdXRlIj09KGEuZ2V0Q29tcHV0ZWRTdHlsZT9nZXRDb21wdXRlZFN0eWxlKGIsbnVsbCk6Yi5jdXJyZW50U3R5bGUpLnBvc2l0aW9ufSksZH0sdT17fS5oYXNPd25Qcm9wZXJ0eTtoPWUodSwidW5kZWZpbmVkIil8fGUodS5jYWxsLCJ1bmRlZmluZWQiKT9mdW5jdGlvbihhLGIpe3JldHVybiBiIGluIGEmJmUoYS5jb25zdHJ1Y3Rvci5wcm90b3R5cGVbYl0sInVuZGVmaW5lZCIpfTpmdW5jdGlvbihhLGIpe3JldHVybiB1LmNhbGwoYSxiKX0sRnVuY3Rpb24ucHJvdG90eXBlLmJpbmR8fChGdW5jdGlvbi5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBiKXRocm93IG5ldyBUeXBlRXJyb3I7dmFyIGM9ci5jYWxsKGFyZ3VtZW50cywxKSxkPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIGQpe3ZhciBlPWZ1bmN0aW9uKCl7fTtlLnByb3RvdHlwZT1iLnByb3RvdHlwZTt2YXIgZj1uZXcgZSxnPWIuYXBwbHkoZixjLmNvbmNhdChyLmNhbGwoYXJndW1lbnRzKSkpO3JldHVybiBPYmplY3QoZyk9PT1nP2c6Zn1yZXR1cm4gYi5hcHBseShhLGMuY29uY2F0KHIuY2FsbChhcmd1bWVudHMpKSl9O3JldHVybiBkfSkscC50b3VjaD1mdW5jdGlvbigpe3ZhciBjO3JldHVybiJvbnRvdWNoc3RhcnQiaW4gYXx8YS5Eb2N1bWVudFRvdWNoJiZiIGluc3RhbmNlb2YgRG9jdW1lbnRUb3VjaD9jPSEwOnMoWyJAbWVkaWEgKCIsby5qb2luKCJ0b3VjaC1lbmFibGVkKSwoIiksbCwiKSIsInsjbW9kZXJuaXpye3RvcDo5cHg7cG9zaXRpb246YWJzb2x1dGV9fSJdLmpvaW4oIiIpLGZ1bmN0aW9uKGEpe2M9OT09PWEub2Zmc2V0VG9wfSksY307Zm9yKHZhciB2IGluIHApaChwLHYpJiYoZz12LnRvTG93ZXJDYXNlKCksaltnXT1wW3ZdKCkscS5wdXNoKChqW2ddPyIiOiJuby0iKStnKSk7cmV0dXJuIGouYWRkVGVzdD1mdW5jdGlvbihhLGIpe2lmKCJvYmplY3QiPT10eXBlb2YgYSlmb3IodmFyIGQgaW4gYSloKGEsZCkmJmouYWRkVGVzdChkLGFbZF0pO2Vsc2V7aWYoYT1hLnRvTG93ZXJDYXNlKCksalthXSE9PWMpcmV0dXJuIGo7Yj0iZnVuY3Rpb24iPT10eXBlb2YgYj9iKCk6YiwidW5kZWZpbmVkIiE9dHlwZW9mIGVuYWJsZUNsYXNzZXMmJmVuYWJsZUNsYXNzZXMmJihrLmNsYXNzTmFtZSs9IiAiKyhiPyIiOiJuby0iKSthKSxqW2FdPWJ9cmV0dXJuIGp9LGQoIiIpLG09Zj1udWxsLGouX3ZlcnNpb249aSxqLl9wcmVmaXhlcz1vLGoubXE9dCxqLnRlc3RTdHlsZXM9cyxqfSh0aGlzLHRoaXMuZG9jdW1lbnQpLCFmdW5jdGlvbihhKXthLkVkaXRhYmxlLkRFRkFVTFRTPWEuZXh0ZW5kKGEuRWRpdGFibGUuREVGQVVMVFMse2FsbG93ZWRFbXB0eVRhZ3M6WyJ0YWJsZSIsInRoZWFkIiwidGJvZHkiLCJ0Zm9vdCIsInRyIiwidGgiLCJ0ZCIsImEiLCJzcGFuIiwiaWZyYW1lIiwiZGl2Iiwib2JqZWN0IiwicGFyYW0iLCJlbWJlZCIsInZpZGVvIiwic291cmNlIiwiaSJdLHNlbGZDbG9zaW5nVGFnczpbImJyIiwiYnV0dG9uIiwiaW5wdXQiLCJpbWciLCJociIsInBhcmFtIiwiIS0tIiwic291cmNlIiwiZW1iZWQiXX0pLGEuRWRpdGFibGUuVEFHX09SREVSPVsibWFpbiIsInNlY3Rpb24iLCJoZWFkZXIiLCJmb290ZXIiLCJhcnRpY2xlIiwiZGV0YWlscyIsImxlZ2VuZCIsInN1bW1hcnkiLCJ0YWJsZSIsInRoZWFkIiwidGJvZHkiLCJ0Zm9vdCIsInRyIiwidGgiLCJ0ZCIsInVsIiwib2wiLCJsaSIsImgxIiwiaDIiLCJoMyIsImg0IiwiaDUiLCJoNiIsInByZSIsImJsb2NrcXVvdGUiLCJwIiwiZGl2IiwiYSIsInN0cm9uZyIsImVtIiwic3RyaWtlIiwidSIsInNwYW4iLCJpZnJhbWUiLCJvYmplY3QiLCJwYXJhbSIsInZpZGVvIiwic291cmNlIiwiZW1iZWQiXSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pc0Nsb3NpbmdUYWc9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/bnVsbCE9PWEubWF0Y2goL148XC8oW2EtekEtWjAtOV0rKShbXjxdKykqPiQvZ2kpOiExfSxhLkVkaXRhYmxlLnByb3RvdHlwZS50YWdOYW1lPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL148XC8/KFthLXpBLVowLTktIV0rKShbXjxdKykqPiQvZ2ksIiQxIikudG9Mb3dlckNhc2UoKX0sYS5FZGl0YWJsZS5TRUxGX0NMT1NJTkdfQUZURVI9WyJzb3VyY2UiXSxhLkVkaXRhYmxlLnByb3RvdHlwZS5pc1NlbGZDbG9zaW5nVGFnPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudGFnTmFtZShhKTtyZXR1cm4gdGhpcy5vcHRpb25zLnNlbGZDbG9zaW5nVGFncy5pbmRleE9mKGIudG9Mb3dlckNhc2UoKSk+PTB9LGEuRWRpdGFibGUucHJvdG90eXBlLnRhZ0tleT1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlKyhhLmF0dHJzfHxbXSkuc29ydCgpLmpvaW4oInwiKX0sYS5FZGl0YWJsZS5wcm90b3R5cGUuZXh0ZW5kZWRLZXk9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudGFnS2V5KGEpK0pTT04uc3RyaW5naWZ5KGEuc3R5bGUpfSxhLkVkaXRhYmxlLnByb3RvdHlwZS5tZXJnZVN0eWxlPWZ1bmN0aW9uKGIsYyl7Zm9yKHZhciBkPXt9LGU9YS5FZGl0YWJsZS51bmlxKGEubWVyZ2UoT2JqZWN0LmtleXMoYi5zdHlsZSksT2JqZWN0LmtleXMoYy5zdHlsZSkpKSxmPTA7ZjxlLmxlbmd0aDtmKyspe3ZhciBnPWVbZl07ZFtnXT1udWxsIT1jLnN0eWxlW2ddP2Muc3R5bGVbZ106Yi5zdHlsZVtnXX1yZXR1cm4gZH0sYS5FZGl0YWJsZS5wcm90b3R5cGUubWFwRE9NPWZ1bmN0aW9uKGIsYyl7dm9pZCAwPT09YyYmKGM9ITApO3ZhciBkLGUsZixnLGg9MCxpPTAsaj1bXSxrPSIiLGw9W10sbT17fSxuPXt9LG89ITE7YyYmKGI9Yi5yZXBsYWNlKC9cdTIwMEIvZ2ksIiIpKTtmb3IodmFyIHA9MDtwPGIubGVuZ3RoO3ArKylpZihkPWIuY2hhckF0KHApLCI8Ij09ZCl7dmFyIHE9Yi5pbmRleE9mKCI+IixwKzEpO2lmKC0xIT09cSl7aWYoaSsrLGU9Yi5zdWJzdHJpbmcocCxxKzEpLGc9dGhpcy50YWdOYW1lKGUpLHRoaXMuaXNTZWxmQ2xvc2luZ1RhZyhlKSl7bltoXXx8KG5baF09W10pLG5baF0ucHVzaCh7aTppLGNvbnRlbnQ6ZX0pLHA9cTtjb250aW51ZX12YXIgcj1udWxsLHM9ZS5yZXBsYWNlKC9ePFtcU1xzXSogc3R5bGU9KCJbXiJdKyJ8J1teJ10rJylbXFNcc10qPiQvZ2ksIiQxIiksdD17fTtpZihzIT1lJiYocz1zLnN1YnN0cmluZygxLHMubGVuZ3RoLTEpLG1hdGNoZXM9cy5tYXRjaCgvKFteOl0qKTooW146O10qO3wkKS9naSkpKWZvcih2YXIgdT0wO3U8bWF0Y2hlcy5sZW5ndGg7dSsrKXt2YXIgdj1tYXRjaGVzW3VdLnNwbGl0KCI6Iiksdz12LnNsaWNlKDEpLmpvaW4oIjoiKS50cmltKCk7IjsiPT13W3cubGVuZ3RoLTFdJiYodz13LnN1YnN0cigwLHcubGVuZ3RoLTEpKSx0W3ZbMF0udHJpbSgpXT13fXI9ZS5tYXRjaCgvKFtcd1wtXSopPSgiW148PiJdKiJ8J1tePD4nXSonfFx3KykvZ2kpO3ZhciB4PW51bGw7aWYocilmb3IodmFyIHk9MDt5PHIubGVuZ3RoO3krKykwPT09clt5XS5pbmRleE9mKCJjbGFzcz0iKSYmKHg9clt5XSksMD09PXJbeV0uaW5kZXhPZigic3R5bGU9IikmJnIuc3BsaWNlKHksMSk7ImIiPT1nJiYoZz0ic3Ryb25nIiksImkiPT1nJiYoIXh8fHguaW5kZXhPZigiZmEtIik8MCkmJm89PT0hMSYmKGc9ImVtIik7dmFyIHo9dGhpcy5pc0Nsb3NpbmdUYWcoZSk7aWYoImkiPT1nJiYobz16PyExOiEwKSx6KXt2YXIgQT1tW2ddLnBvcCgpO2g9PWpbQV0uc3RhcnQmJnRoaXMub3B0aW9ucy5hbGxvd2VkRW1wdHlUYWdzLmluZGV4T2YoZy50b0xvd2VyQ2FzZSgpKT49MCYmKG5baF18fChuW2hdPVtdKSxuW2hdLnB1c2goe2k6altBXS5pLGNvbnRlbnQ6altBXS5vcmlnaW5hbH0pLG5baF0ucHVzaCh7aTppLGNvbnRlbnQ6ZX0pKX1lbHNlIHRoaXMudmFsaWRfbm9kZXMuaW5kZXhPZihnLnRvVXBwZXJDYXNlKCkpPj0wJiYocj9yLnB1c2goJ2RhdGEtZnItaWR4PSInK3ArJyInKTpyPVsnZGF0YS1mci1pZHg9IicrcCsnIiddKSxqLnB1c2goe3R5cGU6ZyxhdHRyczpyLHN0eWxlOnQsc3RhcnQ6aCxpOmksb3JpZ2luYWw6ZX0pLG1bZ118fChtW2ddPVtdKSxtW2ddLnB1c2goai5sZW5ndGgtMSk7cD1xfX1lbHNle2srPWQsbFtoXT17fTtmb3IoZyBpbiBtKXtmPW1bZ107Zm9yKHZhciBCPTA7QjxmLmxlbmd0aDtCKyspe2U9altmW0JdXTt2YXIgQz10aGlzLnRhZ0tleShlKTtsW2hdW0NdP2xbaF1bQ10uc3R5bGU9dGhpcy5tZXJnZVN0eWxlKGxbaF1bQ10sZSk6bFtoXVtDXT1hLmV4dGVuZCh7fSxlKX19aCsrfXZhciBEPVtdO2ZvcihwPTA7cDxsLmxlbmd0aDtwKyspe0RbcF09e307Zm9yKHZhciBFIGluIGxbcF0pRFtwXVt0aGlzLmV4dGVuZGVkS2V5KGxbcF1bRV0pXT1sW3BdW0VdfXJldHVybnt0ZXh0OmssZm9ybWF0OkQsc2ltcGxlX3RhZ3M6bn19LGEuRWRpdGFibGUucHJvdG90eXBlLmZyb2FsYURPTT1mdW5jdGlvbihiKXtmb3IodmFyIGMsZD1bXSxlPXt9LGY9MDtmPGIubGVuZ3RoO2YrKyl7dmFyIGc9YltmXTtmb3IoYyBpbiBlKWdbY118fChlW2NdLmVuZD1mLGQucHVzaChhLmV4dGVuZCh7fSxlW2NdKSksZGVsZXRlIGVbY10pO2Zvcih2YXIgaCBpbiBnKWVbaF18fChnW2hdLnN0YXJ0PWYsZVtoXT1nW2hdKX1mb3IoYyBpbiBlKWVbY10uZW5kPWIubGVuZ3RoLGQucHVzaChlW2NdKTtyZXR1cm4gZH0sYS5FZGl0YWJsZS5wcm90b3R5cGUuc29ydE5vZGVzPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuRWRpdGFibGUuVEFHX09SREVSLmluZGV4T2YoYi50eXBlKS1hLkVkaXRhYmxlLlRBR19PUkRFUi5pbmRleE9mKGMudHlwZSl9LGEuRWRpdGFibGUucHJvdG90eXBlLnNvcnRTaW1wbGVUYWdzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuaS1iLml9LGEuRWRpdGFibGUucHJvdG90eXBlLm9wZW5UYWc9ZnVuY3Rpb24oYSl7dmFyIGI9IjwiK2EudHlwZTtpZihhLmF0dHJzKXthLmF0dHJzLnNvcnQoKTtmb3IodmFyIGM9MDtjPGEuYXR0cnMubGVuZ3RoO2MrKyliKz0iICIrYS5hdHRyc1tjXX12YXIgZD0iIjtmb3IodmFyIGUgaW4gYS5zdHlsZSludWxsIT1hLnN0eWxlW2VdJiYoZCs9ZS5yZXBsYWNlKCJfIiwiLSIpKyI6ICIrYS5zdHlsZVtlXSsiOyAiKTtyZXR1cm4iIiE9PWQmJihiKz0nIHN0eWxlPSInK2QudHJpbSgpKyciJyksYis9Ij4ifSxhLkVkaXRhYmxlLnByb3RvdHlwZS5jbGVhbk91dHB1dD1mdW5jdGlvbihiLGMpe3ZhciBkLGUsZixnLGg9dGhpcy5tYXBET00oYixjKSxpPXRoaXMuZnJvYWxhRE9NKGguZm9ybWF0KSxqPWguc2ltcGxlX3RhZ3Msaz1oLnRleHQsbD17fTtmb3IoZT0wO2U8aS5sZW5ndGg7ZSsrKWQ9aVtlXSxsW2Quc3RhcnRdfHwobFtkLnN0YXJ0XT1bXSksbFtkLnN0YXJ0XS5wdXNoKGQpO3ZhciBtPXt9O2ZvcihiPSIiLGU9MDtlPD1rLmxlbmd0aDtlKyspe3ZhciBuPVtdO2lmKG1bZV0pe2Zvcih2YXIgbyBpbiBtKWlmKG8+ZSlmb3IoZj0wO2Y8bVtvXS5sZW5ndGg7ZisrKXt2YXIgcD1tW29dW2ZdO3Auc3RhcnQ+PW1bZV1bbVtlXS5sZW5ndGgtMV0uc3RhcnQmJmEuRWRpdGFibGUuVEFHX09SREVSLmluZGV4T2YocC50eXBlKT5hLkVkaXRhYmxlLlRBR19PUkRFUi5pbmRleE9mKG1bZV1bbVtlXS5sZW5ndGgtMV0udHlwZSkmJnRoaXMudmFsaWRfbm9kZXMuaW5kZXhPZihwLnR5cGUudG9VcHBlckNhc2UoKSk8MCYmKGIrPSI8LyIrcC50eXBlKyI+IixuLnB1c2gocCksbVtvXS5zcGxpY2UoZiwxKSl9Zm9yKGY9MDtmPG1bZV0ubGVuZ3RoO2YrKyliKz0iPC8iK21bZV1bZl0udHlwZSsiPiJ9Zm9yKGxbZV18fChsW2VdPVtdKTtuLmxlbmd0aD4wOyl7dmFyIHE9bi5wb3AoKTtxLnN0YXJ0PWUsbFtlXS5wdXNoKHEpfWlmKGxbZV0pZm9yKGxbZV09bFtlXS5zb3J0KHRoaXMuc29ydE5vZGVzKSxmPTA7ZjxsW2VdLmxlbmd0aDtmKyspZD1sW2VdW2ZdLG1bZC5lbmRdfHwobVtkLmVuZF09W10pLG1bZC5lbmRdLnB1c2goZCksYis9dGhpcy5vcGVuVGFnKGQpO2lmKGpbZV0pZm9yKGpbZV09altlXS5zb3J0KHRoaXMuc29ydFNpbXBsZVRhZ3MpLGc9MDtnPGpbZV0ubGVuZ3RoO2crKyliKz1qW2VdW2ddLmNvbnRlbnQ7ZSE9ay5sZW5ndGgmJihiKz1rW2VdKX1yZXR1cm4gYn0sYS5FZGl0YWJsZS5wcm90b3R5cGUuY2xlYW5pZnk9ZnVuY3Rpb24oYixjKXt2YXIgZDtpZih0aGlzLmlzSFRNTClyZXR1cm4hMTt2b2lkIDA9PT1iJiYoYj0hMCksdGhpcy5ub192ZXJpZnk9ITAsdGhpcy5zYXZlU2VsZWN0aW9uQnlNYXJrZXJzKCksZD1iP3RoaXMuZ2V0U2VsZWN0aW9uRWxlbWVudHMoKTp0aGlzLiRlbGVtZW50LmZpbmQodGhpcy52YWxpZF9ub2Rlcy5qb2luKCIsIikpO3ZhciBlLGY7aWYoZFswXSE9dGhpcy4kZWxlbWVudC5nZXQoMCkpZm9yKHZhciBnPTA7ZzxkLmxlbmd0aDtnKyspe3ZhciBoPWEoZFtnXSk7ZT1oLmh0bWwoKSxmPXRoaXMuY2xlYW5PdXRwdXQoZSxjKSxmIT09ZSYmaC5odG1sKGYpfWVsc2UgMD09PXRoaXMuJGVsZW1lbnQuZmluZCh0aGlzLnZhbGlkX25vZGVzLmpvaW4oIiwiKSkubGVuZ3RoJiYoZT10aGlzLiRlbGVtZW50Lmh0bWwoKSxmPXRoaXMuY2xlYW5PdXRwdXQoZSxjKSxmIT09ZSYmdGhpcy4kZWxlbWVudC5odG1sKGYpKTt0aGlzLiRlbGVtZW50LmZpbmQoIltkYXRhLWZyLWlkeF0iKS5yZW1vdmVBdHRyKCJkYXRhLWZyLWlkeCIpLHRoaXMucmVzdG9yZVNlbGVjdGlvbkJ5TWFya2VycygpLHRoaXMuZm9jdXMoKSx0aGlzLiRlbGVtZW50LmZpbmQoInNwYW4iKS5hdHRyKCJkYXRhLWZyLXZlcmlmaWVkIiwhMCksdGhpcy5ub192ZXJpZnk9ITF9fShqUXVlcnkpOw==",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 00:50:57 GMT",
                    "Content-Length": "151063",
                    "Date": "Fri, 07 Nov 2014 00:50:57 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
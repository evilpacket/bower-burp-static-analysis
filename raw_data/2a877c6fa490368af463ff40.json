{
    "url": "http://localhost:9999/mimedia/jwplayer-mirror/jwplayer.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Cross-site scripting (DOM-based)",
    "issueType": 2097936,
    "severity": "High",
    "confidence": "Firm",
    "issueBackground": "DOM-based cross-site scripting vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this data into the HTML document in an unsafe way. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will cause JavaScript code supplied by the attacker to execute within the user's browser in the context of that user's session with the application.<br><br>The attacker-supplied code can perform a wide variety of actions, such as stealing the victim's session token or login credentials, performing arbitrary actions on the victim's behalf, and logging their keystrokes.<br><br>Users can be induced to visit the attacker's crafted URL in various ways, similar to the usual attack delivery vectors for reflected cross-site scripting vulnerabilities. ",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based cross-site scripting vulnerabilities is not to dynamically write data into the HTML document that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing script code into the document. In many cases, the relevant data can be validated on a whitelist basis, to allow only content that is known to be safe. In other cases, it will be necessary to sanitize or encode the data. This can be a complex task, and depending on the context that the data is to be inserted may need to involve a combination of JavaScript escaping, HTML encoding, and URL encoding, in the appropriate sequence.",
    "issueDetail": "The application may be vulnerable to DOM-based cross-site scripting. Data is read from <b>window.location.href</b> and written to <b>the 'outerHTML' property of a DOM element</b> via the following statements:<ul><li>h=window.location.href.split(\"/\");</li><li>h=h.join(\"/\");</li><li>b.outerHTML= h</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/mimedia/jwplayer-mirror/jwplayer.js",
                "path": "/mimedia/jwplayer-mirror/jwplayer.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9taW1lZGlhL2p3cGxheWVyLW1pcnJvci9qd3BsYXllci5qcyBIVFRQLzEuMQ0KSG9zdDogbG9jYWxob3N0Ojk5OTkNCg0K",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogNjYyMjkNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQNCkRhdGU6IEZyaSwgMDcgTm92IDIwMTQgMDc6NTU6NTkgR01UDQpMYXN0LU1vZGlmaWVkOiBGcmksIDA3IE5vdiAyMDE0IDA3OjU1OjU5IEdNVA0KDQoidW5kZWZpbmVkIj09dHlwZW9mIGp3cGxheWVyJiYoandwbGF5ZXI9ZnVuY3Rpb24oaCl7aWYoandwbGF5ZXIuYXBpKXJldHVybiBqd3BsYXllci5hcGkuc2VsZWN0UGxheWVyKGgpfSxqd3BsYXllci52ZXJzaW9uPSI2LjkuNDg2NyIsandwbGF5ZXIudmlkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInZpZGVvIiksandwbGF5ZXIuYXVkaW89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYXVkaW8iKSxqd3BsYXllci5zb3VyY2U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic291cmNlIiksZnVuY3Rpb24oaCl7ZnVuY3Rpb24gZChjKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYShjKX19ZnVuY3Rpb24gbShjLGEsayxsLGIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBkLGY7aWYoYilrKGMpO2Vsc2V7dHJ5e2lmKGQ9Yy5yZXNwb25zZVhNTClpZihmPWQuZmlyc3RDaGlsZCxkLmxhc3RDaGlsZCYmInBhcnNlcmVycm9yIj09PWQubGFzdENoaWxkLm5vZGVOYW1lKXtsJiZsKCJJbnZhbGlkIFhNTCIsCmEsYyk7cmV0dXJufX1jYXRjaChnKXt9aWYoZCYmZilyZXR1cm4gayhjKTsoZD1lLnBhcnNlWE1MKGMucmVzcG9uc2VUZXh0KSkmJmQuZmlyc3RDaGlsZD8oYz1lLmV4dGVuZCh7fSxjLHtyZXNwb25zZVhNTDpkfSksayhjKSk6bCYmbChjLnJlc3BvbnNlVGV4dD8iSW52YWxpZCBYTUwiOmEsYSxjKX19fXZhciBqPWRvY3VtZW50LGc9d2luZG93LGI9bmF2aWdhdG9yLGU9aC51dGlscz17fTtlLmV4aXN0cz1mdW5jdGlvbihjKXtzd2l0Y2godHlwZW9mIGMpe2Nhc2UgInN0cmluZyI6cmV0dXJuIDA8Yy5sZW5ndGg7Y2FzZSAib2JqZWN0IjpyZXR1cm4gbnVsbCE9PWM7Y2FzZSAidW5kZWZpbmVkIjpyZXR1cm4hMX1yZXR1cm4hMH07ZS5zdHlsZURpbWVuc2lvbj1mdW5jdGlvbihjKXtyZXR1cm4gYysoMDxjLnRvU3RyaW5nKCkuaW5kZXhPZigiJSIpPyIiOiJweCIpfTtlLmdldEFic29sdXRlUGF0aD1mdW5jdGlvbihjLGEpe2UuZXhpc3RzKGEpfHwoYT1qLmxvY2F0aW9uLmhyZWYpO2lmKGUuZXhpc3RzKGMpKXt2YXIgazsKaWYoZS5leGlzdHMoYykpe2s9Yy5pbmRleE9mKCI6Ly8iKTt2YXIgbD1jLmluZGV4T2YoIj8iKTtrPTA8ayYmKDA+bHx8bD5rKX1lbHNlIGs9dm9pZCAwO2lmKGspcmV0dXJuIGM7az1hLnN1YnN0cmluZygwLGEuaW5kZXhPZigiOi8vIikrMyk7dmFyIGw9YS5zdWJzdHJpbmcoay5sZW5ndGgsYS5pbmRleE9mKCIvIixrLmxlbmd0aCsxKSksYjswPT09Yy5pbmRleE9mKCIvIik/Yj1jLnNwbGl0KCIvIik6KGI9YS5zcGxpdCgiPyIpWzBdLGI9Yi5zdWJzdHJpbmcoay5sZW5ndGgrbC5sZW5ndGgrMSxiLmxhc3RJbmRleE9mKCIvIikpLGI9Yi5zcGxpdCgiLyIpLmNvbmNhdChjLnNwbGl0KCIvIikpKTtmb3IodmFyIGQ9W10sZj0wO2Y8Yi5sZW5ndGg7ZisrKWJbZl0mJihlLmV4aXN0cyhiW2ZdKSYmIi4iIT1iW2ZdKSYmKCIuLiI9PWJbZl0/ZC5wb3AoKTpkLnB1c2goYltmXSkpO3JldHVybiBrK2wrIi8iK2Quam9pbigiLyIpfX07ZS5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsCjApO2lmKDE8Yy5sZW5ndGgpe2Zvcih2YXIgYT1jWzBdLGs9ZnVuY3Rpb24oYyxsKXt2b2lkIDAhPT1sJiZudWxsIT09bCYmKGFbY109bCl9LGw9MTtsPGMubGVuZ3RoO2wrKyllLmZvcmVhY2goY1tsXSxrKTtyZXR1cm4gYX1yZXR1cm4gbnVsbH07dmFyIHA9d2luZG93LmNvbnNvbGU9d2luZG93LmNvbnNvbGV8fHtsb2c6ZnVuY3Rpb24oKXt9fTtlLmxvZz1mdW5jdGlvbigpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTsib2JqZWN0Ij09PXR5cGVvZiBwLmxvZz9wLmxvZyhjKTpwLmxvZy5hcHBseShwLGMpfTt2YXIgYT1lLnVzZXJBZ2VudE1hdGNoPWZ1bmN0aW9uKGMpe3JldHVybiBudWxsIT09Yi51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaChjKX07ZS5pc0ZGPWQoL2ZpcmVmb3gvaSk7ZS5pc0Nocm9tZT1kKC9jaHJvbWUvaSk7ZS5pc0lQb2Q9ZCgvaVAoaG9uZXxvZCkvaSk7ZS5pc0lQYWQ9ZCgvaVBhZC9pKTtlLmlzU2FmYXJpNjAyPQpkKC9NYWNpbnRvc2guKk1hYyBPUyBYIDEwXzguKjZcLjBcLlxkKiBTYWZhcmkvaSk7ZS5pc0lFVHJpZGVudD1mdW5jdGlvbihjKXtyZXR1cm4gYz8oYz1wYXJzZUZsb2F0KGMpLnRvRml4ZWQoMSksYShSZWdFeHAoInRyaWRlbnQvLitydjpcXHMqIitjLCJpIikpKTphKC90cmlkZW50L2kpfTtlLmlzTVNJRT1mdW5jdGlvbihjKXtyZXR1cm4gYz8oYz1wYXJzZUZsb2F0KGMpLnRvRml4ZWQoMSksYShSZWdFeHAoIm1zaWVcXHMqIitjLCJpIikpKTphKC9tc2llL2kpfTtlLmlzSUU9ZnVuY3Rpb24oYyl7cmV0dXJuIGM/KGM9cGFyc2VGbG9hdChjKS50b0ZpeGVkKDEpLDExPD1jP2UuaXNJRVRyaWRlbnQoYyk6ZS5pc01TSUUoYykpOmUuaXNNU0lFKCl8fGUuaXNJRVRyaWRlbnQoKX07ZS5pc1NhZmFyaT1mdW5jdGlvbigpe3JldHVybiBhKC9zYWZhcmkvaSkmJiFhKC9jaHJvbWUvaSkmJiFhKC9jaHJvbWl1bS9pKSYmIWEoL2FuZHJvaWQvaSl9O2UuaXNJT1M9ZnVuY3Rpb24oYyl7cmV0dXJuIGM/CmEoUmVnRXhwKCJpUChob25lfGFkfG9kKS4rXFxzT1NcXHMiK2MsImkiKSk6YSgvaVAoaG9uZXxhZHxvZCkvaSl9O2UuaXNBbmRyb2lkTmF0aXZlPWZ1bmN0aW9uKGMpe3JldHVybiBlLmlzQW5kcm9pZChjLCEwKX07ZS5pc0FuZHJvaWQ9ZnVuY3Rpb24oYyxiKXtyZXR1cm4gYiYmYSgvY2hyb21lXC9bMTIzNDU2Nzg5XS9pKSYmIWEoL2Nocm9tZVwvMTgvKT8hMTpjPyhlLmlzSW50KGMpJiYhL1wuLy50ZXN0KGMpJiYoYz0iIitjKyIuIiksYShSZWdFeHAoIkFuZHJvaWRcXHMqIitjLCJpIikpKTphKC9BbmRyb2lkL2kpfTtlLmlzTW9iaWxlPWZ1bmN0aW9uKCl7cmV0dXJuIGUuaXNJT1MoKXx8ZS5pc0FuZHJvaWQoKX07ZS5zYXZlQ29va2llPWZ1bmN0aW9uKGMsYSl7ai5jb29raWU9Imp3cGxheWVyLiIrYysiXHgzZCIrYSsiOyBwYXRoXHgzZC8ifTtlLmdldENvb2tpZXM9ZnVuY3Rpb24oKXtmb3IodmFyIGM9e30sYT1qLmNvb2tpZS5zcGxpdCgiOyAiKSxrPTA7azxhLmxlbmd0aDtrKyspe3ZhciBsPQphW2tdLnNwbGl0KCJceDNkIik7MD09PWxbMF0uaW5kZXhPZigiandwbGF5ZXIuIikmJihjW2xbMF0uc3Vic3RyaW5nKDksbFswXS5sZW5ndGgpXT1sWzFdKX1yZXR1cm4gY307ZS5pc0ludD1mdW5jdGlvbihjKXtyZXR1cm4gMD09PWMlMX07ZS50eXBlT2Y9ZnVuY3Rpb24oYyl7dmFyIGE9dHlwZW9mIGM7cmV0dXJuIm9iamVjdCI9PT1hPyFjPyJudWxsIjpjIGluc3RhbmNlb2YgQXJyYXk/ImFycmF5IjphOmF9O2UudHJhbnNsYXRlRXZlbnRSZXNwb25zZT1mdW5jdGlvbihjLGEpe3ZhciBrPWUuZXh0ZW5kKHt9LGEpO2lmKGM9PWguZXZlbnRzLkpXUExBWUVSX0ZVTExTQ1JFRU4mJiFrLmZ1bGxzY3JlZW4pay5mdWxsc2NyZWVuPSJ0cnVlIj09PWsubWVzc2FnZSxkZWxldGUgay5tZXNzYWdlO2Vsc2UgaWYoIm9iamVjdCI9PXR5cGVvZiBrLmRhdGEpe3ZhciBsPWsuZGF0YTtkZWxldGUgay5kYXRhO2s9ZS5leHRlbmQoayxsKX1lbHNlIm9iamVjdCI9PXR5cGVvZiBrLm1ldGFkYXRhJiYKZS5kZWVwUmVwbGFjZUtleU5hbWUoay5tZXRhZGF0YSxbIl9fZG90X18iLCJfX3NwY19fIiwiX19kc2hfXyIsIl9fZGVmYXVsdF9fIl0sWyIuIiwiICIsIi0iLCJkZWZhdWx0Il0pO2UuZm9yZWFjaChbInBvc2l0aW9uIiwiZHVyYXRpb24iLCJvZmZzZXQiXSxmdW5jdGlvbihjLGwpe2tbbF0mJihrW2xdPU1hdGgucm91bmQoMUUzKmtbbF0pLzFFMyl9KTtyZXR1cm4ga307ZS5mbGFzaFZlcnNpb249ZnVuY3Rpb24oKXtpZihlLmlzQW5kcm9pZCgpKXJldHVybiAwO3ZhciBjPWIucGx1Z2lucyxhO3RyeXtpZigidW5kZWZpbmVkIiE9PWMmJihhPWNbIlNob2Nrd2F2ZSBGbGFzaCJdKSlyZXR1cm4gcGFyc2VJbnQoYS5kZXNjcmlwdGlvbi5yZXBsYWNlKC9cRCsoXGQrKVwuLiovLCIkMSIpLDEwKX1jYXRjaChrKXt9aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBnLkFjdGl2ZVhPYmplY3QpdHJ5e2lmKGE9bmV3IGcuQWN0aXZlWE9iamVjdCgiU2hvY2t3YXZlRmxhc2guU2hvY2t3YXZlRmxhc2giKSlyZXR1cm4gcGFyc2VJbnQoYS5HZXRWYXJpYWJsZSgiJHZlcnNpb24iKS5zcGxpdCgiICIpWzFdLnNwbGl0KCIsIilbMF0sCjEwKX1jYXRjaChsKXt9cmV0dXJuIDB9O2UuZ2V0U2NyaXB0UGF0aD1mdW5jdGlvbihjKXtmb3IodmFyIGE9ai5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0Iiksaz0wO2s8YS5sZW5ndGg7aysrKXt2YXIgbD1hW2tdLnNyYztpZihsJiYwPD1sLmluZGV4T2YoYykpcmV0dXJuIGwuc3Vic3RyKDAsbC5pbmRleE9mKGMpKX1yZXR1cm4iIn07ZS5kZWVwUmVwbGFjZUtleU5hbWU9ZnVuY3Rpb24oYyxhLGspe3N3aXRjaChoLnV0aWxzLnR5cGVPZihjKSl7Y2FzZSAiYXJyYXkiOmZvcih2YXIgbD0wO2w8Yy5sZW5ndGg7bCsrKWNbbF09aC51dGlscy5kZWVwUmVwbGFjZUtleU5hbWUoY1tsXSxhLGspO2JyZWFrO2Nhc2UgIm9iamVjdCI6ZS5mb3JlYWNoKGMsZnVuY3Rpb24obCxiKXt2YXIgZTtpZihhIGluc3RhbmNlb2YgQXJyYXkmJmsgaW5zdGFuY2VvZiBBcnJheSl7aWYoYS5sZW5ndGghPWsubGVuZ3RoKXJldHVybjtlPWF9ZWxzZSBlPVthXTtmb3IodmFyIGQ9bCxmPTA7ZjxlLmxlbmd0aDtmKyspZD0KZC5yZXBsYWNlKFJlZ0V4cChhW2ZdLCJnIiksa1tmXSk7Y1tkXT1oLnV0aWxzLmRlZXBSZXBsYWNlS2V5TmFtZShiLGEsayk7bCE9ZCYmZGVsZXRlIGNbbF19KX1yZXR1cm4gY307dmFyIGY9ZS5wbHVnaW5QYXRoVHlwZT17QUJTT0xVVEU6MCxSRUxBVElWRToxLENETjoyfTtlLmdldFBsdWdpblBhdGhUeXBlPWZ1bmN0aW9uKGMpe2lmKCJzdHJpbmciPT10eXBlb2YgYyl7Yz1jLnNwbGl0KCI/IilbMF07dmFyIGE9Yy5pbmRleE9mKCI6Ly8iKTtpZigwPGEpcmV0dXJuIGYuQUJTT0xVVEU7dmFyIGs9Yy5pbmRleE9mKCIvIik7Yz1lLmV4dGVuc2lvbihjKTtyZXR1cm4gMD5hJiYwPmsmJighY3x8IWlzTmFOKGMpKT9mLkNETjpmLlJFTEFUSVZFfX07ZS5nZXRQbHVnaW5OYW1lPWZ1bmN0aW9uKGMpe3JldHVybiBjLnJlcGxhY2UoL14oLipcLyk/KFteLV0qKS0/LipcLihzd2Z8anMpJC8sIiQyIil9O2UuZ2V0UGx1Z2luVmVyc2lvbj1mdW5jdGlvbihjKXtyZXR1cm4gYy5yZXBsYWNlKC9bXi1dKi0/KFteXC5dKikuKiQvLAoiJDEiKX07ZS5pc1lvdVR1YmU9ZnVuY3Rpb24oYyl7cmV0dXJuL14oaHR0cHxcL1wvKS4qKHlvdXR1YmVcLmNvbXx5b3V0dVwuYmUpXC8uKy8udGVzdChjKX07ZS55b3VUdWJlSUQ9ZnVuY3Rpb24oYyl7dHJ5e3JldHVybi92Wz1cL10oW14/Jl0qKXx5b3V0dVwuYmVcLyhbXj9dKil8XihbXHctXSopJC9pLmV4ZWMoYykuc2xpY2UoMSkuam9pbigiIikucmVwbGFjZSgiPyIsIiIpfWNhdGNoKGEpe3JldHVybiIifX07ZS5pc1J0bXA9ZnVuY3Rpb24oYyxhKXtyZXR1cm4gMD09PWMuaW5kZXhPZigicnRtcCIpfHwicnRtcCI9PWF9O2UuZm9yZWFjaD1mdW5jdGlvbihjLGEpe3ZhciBrLGw7Zm9yKGsgaW4gYykiZnVuY3Rpb24iPT1lLnR5cGVPZihjLmhhc093blByb3BlcnR5KT9jLmhhc093blByb3BlcnR5KGspJiYobD1jW2tdLGEoayxsKSk6KGw9Y1trXSxhKGssbCkpfTtlLmlzSFRUUFM9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PWcubG9jYXRpb24uaHJlZi5pbmRleE9mKCJodHRwcyIpfTsKZS5yZXBvPWZ1bmN0aW9uKCl7dmFyIGM9Imh0dHA6Ly9wLmp3cGNkbi5jb20vIitoLnZlcnNpb24uc3BsaXQoL1xXLykuc3BsaWNlKDAsMikuam9pbigiLyIpKyIvIjt0cnl7ZS5pc0hUVFBTKCkmJihjPWMucmVwbGFjZSgiaHR0cDovLyIsImh0dHBzOi8vc3NsLiIpKX1jYXRjaChhKXt9cmV0dXJuIGN9O2UuYWpheD1mdW5jdGlvbihjLGEsayxsKXt2YXIgYixkPSExOzA8Yy5pbmRleE9mKCIjIikmJihjPWMucmVwbGFjZSgvIy4qJC8sIiIpKTtpZihjJiYwPD1jLmluZGV4T2YoIjovLyIpJiZjLnNwbGl0KCIvIilbMl0hPWcubG9jYXRpb24uaHJlZi5zcGxpdCgiLyIpWzJdJiZlLmV4aXN0cyhnLlhEb21haW5SZXF1ZXN0KSliPW5ldyBnLlhEb21haW5SZXF1ZXN0LGIub25sb2FkPW0oYixjLGEsayxsKSxiLm9udGltZW91dD1iLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24oKXt9LGIudGltZW91dD01RTM7ZWxzZSBpZihlLmV4aXN0cyhnLlhNTEh0dHBSZXF1ZXN0KSl7dmFyIGY9Yj1uZXcgZy5YTUxIdHRwUmVxdWVzdCwKaj1jO2Iub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09PWYucmVhZHlTdGF0ZSlzd2l0Y2goZi5zdGF0dXMpe2Nhc2UgMjAwOm0oZixqLGEsayxsKSgpO2JyZWFrO2Nhc2UgNDA0OmsoIkZpbGUgbm90IGZvdW5kIixqLGYpfX19ZWxzZSByZXR1cm4gayYmaygiIixjLGIpLGI7Yi5vdmVycmlkZU1pbWVUeXBlJiZiLm92ZXJyaWRlTWltZVR5cGUoInRleHQveG1sIik7dmFyIHA9YyxoPWI7Yi5vbmVycm9yPWZ1bmN0aW9uKCl7aygiRXJyb3IgbG9hZGluZyBmaWxlIixwLGgpfTt0cnl7Yi5vcGVuKCJHRVQiLGMsITApfWNhdGNoKEYpe2Q9ITB9c2V0VGltZW91dChmdW5jdGlvbigpe2lmKGQpayYmayhjLGMsYik7ZWxzZSB0cnl7Yi5zZW5kKCl9Y2F0Y2goYSl7ayYmayhjLGMsYil9fSwwKTtyZXR1cm4gYn07ZS5wYXJzZVhNTD1mdW5jdGlvbihjKXt2YXIgYTt0cnl7aWYoZy5ET01QYXJzZXIpe2lmKGE9KG5ldyBnLkRPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGMsInRleHQveG1sIiksCmEuY2hpbGROb2RlcyYmYS5jaGlsZE5vZGVzLmxlbmd0aCYmInBhcnNlcmVycm9yIj09YS5jaGlsZE5vZGVzWzBdLmZpcnN0Q2hpbGQubm9kZU5hbWUpcmV0dXJufWVsc2UgYT1uZXcgZy5BY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MRE9NIiksYS5hc3luYz0iZmFsc2UiLGEubG9hZFhNTChjKX1jYXRjaChiKXtyZXR1cm59cmV0dXJuIGF9O2UuZmlsdGVyUGxheWxpc3Q9ZnVuY3Rpb24oYSxiLGspe3ZhciBsPVtdLGQsZixnLGo7Zm9yKGQ9MDtkPGEubGVuZ3RoO2QrKylpZihmPWUuZXh0ZW5kKHt9LGFbZF0pLGYuc291cmNlcz1lLmZpbHRlclNvdXJjZXMoZi5zb3VyY2VzLCExLGspLDA8Zi5zb3VyY2VzLmxlbmd0aCl7Zm9yKGc9MDtnPGYuc291cmNlcy5sZW5ndGg7ZysrKWo9Zi5zb3VyY2VzW2ddLGoubGFiZWx8fChqLmxhYmVsPWcudG9TdHJpbmcoKSk7bC5wdXNoKGYpfWlmKGImJjA9PT1sLmxlbmd0aClmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKWlmKGY9ZS5leHRlbmQoe30sYVtkXSksCmYuc291cmNlcz1lLmZpbHRlclNvdXJjZXMoZi5zb3VyY2VzLCEwLGspLDA8Zi5zb3VyY2VzLmxlbmd0aCl7Zm9yKGc9MDtnPGYuc291cmNlcy5sZW5ndGg7ZysrKWo9Zi5zb3VyY2VzW2ddLGoubGFiZWx8fChqLmxhYmVsPWcudG9TdHJpbmcoKSk7bC5wdXNoKGYpfXJldHVybiBsfTtlLmJldHdlZW49ZnVuY3Rpb24oYSxiLGspe3JldHVybiBNYXRoLm1heChNYXRoLm1pbihhLGspLGIpfTtlLmZpbHRlclNvdXJjZXM9ZnVuY3Rpb24oYSxiLGspe3ZhciBsLGQ7aWYoYSl7ZD1bXTtmb3IodmFyIGY9MDtmPGEubGVuZ3RoO2YrKyl7dmFyIGc9ZS5leHRlbmQoe30sYVtmXSksaj1nLmZpbGUscD1nLnR5cGU7aiYmKGcuZmlsZT1qPWUudHJpbSgiIitqKSxwfHwocD1lLmV4dGVuc2lvbihqKSxnLnR5cGU9cD1lLmV4dGVuc2lvbm1hcC5leHRUeXBlKHApKSxiP2guZW1iZWQuZmxhc2hDYW5QbGF5KGoscCkmJihsfHwobD1wKSxwPT1sJiZkLnB1c2goZykpOmguZW1iZWQuaHRtbDVDYW5QbGF5KGosCnAsaykmJihsfHwobD1wKSxwPT1sJiZkLnB1c2goZykpKX19cmV0dXJuIGR9O2UuY2FuUGxheUhUTUw1PWZ1bmN0aW9uKGEpe2E9ZS5leHRlbnNpb25tYXAudHlwZXNbYV07cmV0dXJuISFhJiYhIWgudmlkLmNhblBsYXlUeXBlJiYhIWgudmlkLmNhblBsYXlUeXBlKGEpfTtlLnNlY29uZHM9ZnVuY3Rpb24oYSl7YT1hLnJlcGxhY2UoIiwiLCIuIik7dmFyIGI9YS5zcGxpdCgiOiIpLGs9MDsicyI9PWEuc2xpY2UoLTEpP2s9cGFyc2VGbG9hdChhKToibSI9PWEuc2xpY2UoLTEpP2s9NjAqcGFyc2VGbG9hdChhKToiaCI9PWEuc2xpY2UoLTEpP2s9MzYwMCpwYXJzZUZsb2F0KGEpOjE8Yi5sZW5ndGg/KGs9cGFyc2VGbG9hdChiW2IubGVuZ3RoLTFdKSxrKz02MCpwYXJzZUZsb2F0KGJbYi5sZW5ndGgtMl0pLDM9PWIubGVuZ3RoJiYoays9MzYwMCpwYXJzZUZsb2F0KGJbYi5sZW5ndGgtM10pKSk6az1wYXJzZUZsb2F0KGEpO3JldHVybiBrfTtlLnNlcmlhbGl6ZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09PQphP251bGw6InRydWUiPT1hLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKT8hMDoiZmFsc2UiPT1hLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKT8hMTppc05hTihOdW1iZXIoYSkpfHw1PGEubGVuZ3RofHwwPT09YS5sZW5ndGg/YTpOdW1iZXIoYSl9O2UuYWRkQ2xhc3M9ZnVuY3Rpb24oYSxiKXthLmNsYXNzTmFtZT1hLmNsYXNzTmFtZSsiICIrYn07ZS5yZW1vdmVDbGFzcz1mdW5jdGlvbihhLGIpe2EuY2xhc3NOYW1lPWEuY2xhc3NOYW1lLnJlcGxhY2UoUmVnRXhwKCIgKiIrYiwiZyIpLCIgIil9fShqd3BsYXllciksZnVuY3Rpb24oaCl7ZnVuY3Rpb24gZChhKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2EmJmIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSkpO2IudHlwZT0idGV4dC9jc3MiO2RvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0uYXBwZW5kQ2hpbGQoYik7cmV0dXJuIGJ9ZnVuY3Rpb24gbShhLGwsYyl7aWYoIWIuZXhpc3RzKGwpKXJldHVybiIiOwpjPWM/IiAhaW1wb3J0YW50IjoiIjtyZXR1cm4ic3RyaW5nIj09PXR5cGVvZiBsJiZpc05hTihsKT8vcG5nfGdpZnxqcGU/Zy9pLnRlc3QobCkmJjA+bC5pbmRleE9mKCJ1cmwiKT8idXJsKCIrbCsiKSI6bCtjOjA9PT1sfHwiei1pbmRleCI9PT1hfHwib3BhY2l0eSI9PT1hPyIiK2wrYzovY29sb3IvaS50ZXN0KGEpPyIjIitiLnBhZChsLnRvU3RyaW5nKDE2KS5yZXBsYWNlKC9eMHgvaSwiIiksNikrYzpNYXRoLmNlaWwobCkrInB4IitjfWZ1bmN0aW9uIGooYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGU9YVtjXSxkLGY7aWYodm9pZCAwIT09ZSYmbnVsbCE9PWUpZm9yKGQgaW4gYil7Zj1kO2Y9Zi5zcGxpdCgiLSIpO2Zvcih2YXIgZz0xO2c8Zi5sZW5ndGg7ZysrKWZbZ109ZltnXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStmW2ddLnNsaWNlKDEpO2Y9Zi5qb2luKCIiKTtlLnN0eWxlW2ZdIT09YltkXSYmKGUuc3R5bGVbZl09YltkXSl9fX1mdW5jdGlvbiBnKGIpe3ZhciBsPQplW2JdLnNoZWV0LGQsZixnO2lmKGwpe2Q9bC5jc3NSdWxlcztmPWNbYl07Zz1iO3ZhciBqPWFbZ107Zys9IiB7ICI7Zm9yKHZhciBwIGluIGopZys9cCsiOiAiK2pbcF0rIjsgIjtnKz0ifSI7aWYodm9pZCAwIT09ZiYmZjxkLmxlbmd0aCYmZFtmXS5zZWxlY3RvclRleHQ9PT1iKXtpZihnPT09ZFtmXS5jc3NUZXh0KXJldHVybjtsLmRlbGV0ZVJ1bGUoZil9ZWxzZSBmPWQubGVuZ3RoLGNbYl09Zjt0cnl7bC5pbnNlcnRSdWxlKGcsZil9Y2F0Y2goaCl7fX19dmFyIGI9aC51dGlscyxlPXt9LHAsYT17fSxmPW51bGwsYz17fTtiLmNzc0tleWZyYW1lcz1mdW5jdGlvbihhLGIpe3ZhciBjPWUua2V5ZnJhbWVzO2N8fChjPWQoKSxlLmtleWZyYW1lcz1jKTt2YXIgYz1jLnNoZWV0LGY9IkBrZXlmcmFtZXMgIithKyIgeyAiK2IrIiB9Ijt0cnl7Yy5pbnNlcnRSdWxlKGYsYy5jc3NSdWxlcy5sZW5ndGgpfWNhdGNoKGcpe31mPWYucmVwbGFjZSgvKGtleWZyYW1lc3x0cmFuc2Zvcm0pL2csIi13ZWJraXQtJDEiKTsKdHJ5e2MuaW5zZXJ0UnVsZShmLGMuY3NzUnVsZXMubGVuZ3RoKX1jYXRjaChqKXt9fTt2YXIgbj1iLmNzcz1mdW5jdGlvbihiLGMsail7YVtiXXx8KGFbYl09e30pO3ZhciBoPWFbYl07aj1qfHwhMTt2YXIgdT0hMSxuLHE7Zm9yKG4gaW4gYylxPW0obixjW25dLGopLCIiIT09cT9xIT09aFtuXSYmKGhbbl09cSx1PSEwKTp2b2lkIDAhPT1oW25dJiYoZGVsZXRlIGhbbl0sdT0hMCk7aWYodSl7aWYoIWVbYl0pe2M9cCYmcC5zaGVldCYmcC5zaGVldC5jc3NSdWxlcyYmcC5zaGVldC5jc3NSdWxlcy5sZW5ndGh8fDA7aWYoIXB8fDVFNDxjKXA9ZCgpO2VbYl09cH1udWxsIT09Zj9mLnN0eWxlU2hlZXRzW2JdPWFbYl06ZyhiKX19O24uc3R5bGU9ZnVuY3Rpb24oYSxiLGMpe2lmKCEodm9pZCAwPT09YXx8bnVsbD09PWEpKXt2b2lkIDA9PT1hLmxlbmd0aCYmKGE9W2FdKTt2YXIgZD17fSxlO2ZvcihlIGluIGIpZFtlXT1tKGUsYltlXSk7aWYobnVsbCE9PWYmJiFjKXtiPShiPWEuX19jc3NSdWxlcyl8fAp7fTtmb3IodmFyIGcgaW4gZCliW2ddPWRbZ107YS5fX2Nzc1J1bGVzPWI7MD5mLmVsZW1lbnRzLmluZGV4T2YoYSkmJmYuZWxlbWVudHMucHVzaChhKX1lbHNlIGooYSxkKX19O24uYmxvY2s9ZnVuY3Rpb24oYSl7bnVsbD09PWYmJihmPXtpZDphLHN0eWxlU2hlZXRzOnt9LGVsZW1lbnRzOltdfSl9O24udW5ibG9jaz1mdW5jdGlvbihhKXtpZihmJiYoIWF8fGYuaWQ9PT1hKSl7Zm9yKHZhciBiIGluIGYuc3R5bGVTaGVldHMpZyhiKTtmb3IoYT0wO2E8Zi5lbGVtZW50cy5sZW5ndGg7YSsrKWI9Zi5lbGVtZW50c1thXSxqKGIsYi5fX2Nzc1J1bGVzKTtmPW51bGx9fTtiLmNsZWFyQ3NzPWZ1bmN0aW9uKGIpe2Zvcih2YXIgYyBpbiBhKTA8PWMuaW5kZXhPZihiKSYmZGVsZXRlIGFbY107Zm9yKHZhciBmIGluIGUpMDw9Zi5pbmRleE9mKGIpJiZnKGYpfTtiLnRyYW5zZm9ybT1mdW5jdGlvbihhLGIpe3ZhciBjPXt9O2I9Ynx8IiI7Yy50cmFuc2Zvcm09YjtjWyItd2Via2l0LXRyYW5zZm9ybSJdPQpiO2NbIi1tcy10cmFuc2Zvcm0iXT1iO2NbIi1tb3otdHJhbnNmb3JtIl09YjtjWyItby10cmFuc2Zvcm0iXT1iOyJzdHJpbmciPT09dHlwZW9mIGE/bihhLGMpOm4uc3R5bGUoYSxjKX07Yi5kcmFnU3R5bGU9ZnVuY3Rpb24oYSxiKXtuKGEseyItd2Via2l0LXVzZXItc2VsZWN0IjpiLCItbW96LXVzZXItc2VsZWN0IjpiLCItbXMtdXNlci1zZWxlY3QiOmIsIi13ZWJraXQtdXNlci1kcmFnIjpiLCJ1c2VyLXNlbGVjdCI6YiwidXNlci1kcmFnIjpifSl9O2IudHJhbnNpdGlvblN0eWxlPWZ1bmN0aW9uKGEsYil7bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvNVwuXGQoXC5cZCk/IHNhZmFyaS9pKXx8bihhLHsiLXdlYmtpdC10cmFuc2l0aW9uIjpiLCItbW96LXRyYW5zaXRpb24iOmIsIi1vLXRyYW5zaXRpb24iOmIsdHJhbnNpdGlvbjpifSl9O2Iucm90YXRlPWZ1bmN0aW9uKGEsYyl7Yi50cmFuc2Zvcm0oYSwicm90YXRlKCIrYysiZGVnKSIpfTtiLnJnYkhleD1mdW5jdGlvbihhKXthPQpTdHJpbmcoYSkucmVwbGFjZSgiIyIsIiIpOzM9PT1hLmxlbmd0aCYmKGE9YVswXSthWzBdK2FbMV0rYVsxXSthWzJdK2FbMl0pO3JldHVybiIjIithLnN1YnN0cigtNil9O2IuaGV4VG9SZ2JhPWZ1bmN0aW9uKGEsYil7dmFyIGM9InJnYiIsZj1bcGFyc2VJbnQoYS5zdWJzdHIoMSwyKSwxNikscGFyc2VJbnQoYS5zdWJzdHIoMywyKSwxNikscGFyc2VJbnQoYS5zdWJzdHIoNSwyKSwxNildO3ZvaWQgMCE9PWImJjEwMCE9PWImJihjKz0iYSIsZi5wdXNoKGIvMTAwKSk7cmV0dXJuIGMrIigiK2Yuam9pbigiLCIpKyIpIn19KGp3cGxheWVyKSxmdW5jdGlvbihoKXt2YXIgZD1oLmZvcmVhY2gsbT17bXA0OiJ2aWRlby9tcDQiLG9nZzoidmlkZW8vb2dnIixvZ2E6ImF1ZGlvL29nZyIsdm9yYmlzOiJhdWRpby9vZ2ciLHdlYm06InZpZGVvL3dlYm0iLGFhYzoiYXVkaW8vbXA0IixtcDM6ImF1ZGlvL21wZWciLGhsczoiYXBwbGljYXRpb24vdm5kLmFwcGxlLm1wZWd1cmwifSxqPXttcDQ6bS5tcDQsCmY0djptLm1wNCxtNHY6bS5tcDQsbW92Om0ubXA0LG00YTptLmFhYyxmNGE6bS5hYWMsYWFjOm0uYWFjLG1wMzptLm1wMyxvZ3Y6bS5vZ2csb2dnOm0ub2dnLG9nYTptLnZvcmJpcyx2b3JiaXM6bS52b3JiaXMsd2VibTptLndlYm0sbTN1ODptLmhscyxtM3U6bS5obHMsaGxzOm0uaGxzfSxnPWguZXh0ZW5zaW9ubWFwPXt9O2QoaixmdW5jdGlvbihiLGQpe2dbYl09e2h0bWw1OmR9fSk7ZCh7Zmx2OiJ2aWRlbyIsZjR2OiJ2aWRlbyIsbW92OiJ2aWRlbyIsbTRhOiJ2aWRlbyIsbTR2OiJ2aWRlbyIsbXA0OiJ2aWRlbyIsYWFjOiJ2aWRlbyIsZjRhOiJ2aWRlbyIsbXAzOiJzb3VuZCIsc21pbDoicnRtcCIsbTN1ODoiaGxzIixobHM6ImhscyJ9LGZ1bmN0aW9uKGIsZCl7Z1tiXXx8KGdbYl09e30pO2dbYl0uZmxhc2g9ZH0pO2cudHlwZXM9bTtnLm1pbWVUeXBlPWZ1bmN0aW9uKGIpe3ZhciBlO2QobSxmdW5jdGlvbihkLGEpeyFlJiZhPT1iJiYoZT1kKX0pO3JldHVybiBlfTtnLmV4dFR5cGU9CmZ1bmN0aW9uKGIpe3JldHVybiBnLm1pbWVUeXBlKGpbYl0pfX0oandwbGF5ZXIudXRpbHMpLGZ1bmN0aW9uKGgpe3ZhciBkPWgubG9hZGVyc3RhdHVzPXtORVc6MCxMT0FESU5HOjEsRVJST1I6MixDT01QTEVURTozfSxtPWRvY3VtZW50O2guc2NyaXB0bG9hZGVyPWZ1bmN0aW9uKGope2Z1bmN0aW9uIGcoYil7YT1kLkVSUk9SO3Auc2VuZEV2ZW50KGUuRVJST1IsYil9ZnVuY3Rpb24gYihiKXthPWQuQ09NUExFVEU7cC5zZW5kRXZlbnQoZS5DT01QTEVURSxiKX12YXIgZT1qd3BsYXllci5ldmVudHMscD1oLmV4dGVuZCh0aGlzLG5ldyBlLmV2ZW50ZGlzcGF0Y2hlciksYT1kLk5FVzt0aGlzLmxvYWQ9ZnVuY3Rpb24oKXtpZihhPT1kLk5FVyl7dmFyIGY9aC5zY3JpcHRsb2FkZXIubG9hZGVyc1tqXTtpZihmJiYoYT1mLmdldFN0YXR1cygpLDI+YSkpe2YuYWRkRXZlbnRMaXN0ZW5lcihlLkVSUk9SLGcpO2YuYWRkRXZlbnRMaXN0ZW5lcihlLkNPTVBMRVRFLGIpO3JldHVybn12YXIgYz0KbS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtjLmFkZEV2ZW50TGlzdGVuZXI/KGMub25sb2FkPWIsYy5vbmVycm9yPWcpOmMucmVhZHlTdGF0ZSYmKGMub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKGEpeygibG9hZGVkIj09Yy5yZWFkeVN0YXRlfHwiY29tcGxldGUiPT1jLnJlYWR5U3RhdGUpJiZiKGEpfSk7bS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLmFwcGVuZENoaWxkKGMpO2Muc3JjPWo7YT1kLkxPQURJTkc7aC5zY3JpcHRsb2FkZXIubG9hZGVyc1tqXT10aGlzfX07dGhpcy5nZXRTdGF0dXM9ZnVuY3Rpb24oKXtyZXR1cm4gYX19O2guc2NyaXB0bG9hZGVyLmxvYWRlcnM9e319KGp3cGxheWVyLnV0aWxzKSxmdW5jdGlvbihoKXtoLnRyaW09ZnVuY3Rpb24oZCl7cmV0dXJuIGQucmVwbGFjZSgvXlxzKi8sIiIpLnJlcGxhY2UoL1xzKiQvLCIiKX07aC5wYWQ9ZnVuY3Rpb24oZCxoLGope2ZvcihqfHwoaj0iMCIpO2QubGVuZ3RoPGg7KWQ9aitkO3JldHVybiBkfTsKaC54bWxBdHRyaWJ1dGU9ZnVuY3Rpb24oZCxoKXtmb3IodmFyIGo9MDtqPGQuYXR0cmlidXRlcy5sZW5ndGg7aisrKWlmKGQuYXR0cmlidXRlc1tqXS5uYW1lJiZkLmF0dHJpYnV0ZXNbal0ubmFtZS50b0xvd2VyQ2FzZSgpPT1oLnRvTG93ZXJDYXNlKCkpcmV0dXJuIGQuYXR0cmlidXRlc1tqXS52YWx1ZS50b1N0cmluZygpO3JldHVybiIifTtoLmV4dGVuc2lvbj1mdW5jdGlvbihkKXtpZighZHx8InJ0bXAiPT1kLnN1YnN0cigwLDQpKXJldHVybiIiO3ZhciBoO2g9ZC5tYXRjaCgvbWFuaWZlc3RcKGZvcm1hdD0oLiopLGF1ZGlvVHJhY2svKTtoPSFofHwhaFsxXT8hMTpoWzFdLnNwbGl0KCItIilbMF07aWYoaClyZXR1cm4gaDtkPWQuc3Vic3RyaW5nKGQubGFzdEluZGV4T2YoIi8iKSsxLGQubGVuZ3RoKS5zcGxpdCgiPyIpWzBdLnNwbGl0KCIjIilbMF07aWYoLTE8ZC5sYXN0SW5kZXhPZigiLiIpKXJldHVybiBkLnN1YnN0cihkLmxhc3RJbmRleE9mKCIuIikrMSxkLmxlbmd0aCkudG9Mb3dlckNhc2UoKX07Cmguc3RyaW5nVG9Db2xvcj1mdW5jdGlvbihkKXtkPWQucmVwbGFjZSgvKCN8MHgpPyhbMC05QS1GXXszLDZ9KSQvZ2ksIiQyIik7Mz09ZC5sZW5ndGgmJihkPWQuY2hhckF0KDApK2QuY2hhckF0KDApK2QuY2hhckF0KDEpK2QuY2hhckF0KDEpK2QuY2hhckF0KDIpK2QuY2hhckF0KDIpKTtyZXR1cm4gcGFyc2VJbnQoZCwxNil9fShqd3BsYXllci51dGlscyksZnVuY3Rpb24oaCl7dmFyIGQ9InRvdWNobW92ZSIsbT0idG91Y2hzdGFydCI7aC50b3VjaD1mdW5jdGlvbihqKXtmdW5jdGlvbiBnKGYpe2YudHlwZT09bT8oYT0hMCxjPWUoay5EUkFHX1NUQVJULGYpKTpmLnR5cGU9PWQ/YSYmKG58fChiKGsuRFJBR19TVEFSVCxmLGMpLG49ITApLGIoay5EUkFHLGYpKTooYSYmKG4/YihrLkRSQUdfRU5ELGYpOihmLmNhbmNlbEJ1YmJsZT0hMCxiKGsuVEFQLGYpKSksYT1uPSExLGM9bnVsbCl9ZnVuY3Rpb24gYihhLGIsYyl7aWYoZlthXSYmKGIucHJldmVudE1hbmlwdWxhdGlvbiYmYi5wcmV2ZW50TWFuaXB1bGF0aW9uKCksCmIucHJldmVudERlZmF1bHQmJmIucHJldmVudERlZmF1bHQoKSxiPWM/YzplKGEsYikpKWZbYV0oYil9ZnVuY3Rpb24gZShhLGIpe3ZhciBmPW51bGw7Yi50b3VjaGVzJiZiLnRvdWNoZXMubGVuZ3RoP2Y9Yi50b3VjaGVzWzBdOmIuY2hhbmdlZFRvdWNoZXMmJmIuY2hhbmdlZFRvdWNoZXMubGVuZ3RoJiYoZj1iLmNoYW5nZWRUb3VjaGVzWzBdKTtpZighZilyZXR1cm4gbnVsbDt2YXIgZD1wLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGY9e3R5cGU6YSx0YXJnZXQ6cCx4OmYucGFnZVgtd2luZG93LnBhZ2VYT2Zmc2V0LWQubGVmdCx5OmYucGFnZVksZGVsdGFYOjAsZGVsdGFZOjB9O2EhPWsuVEFQJiZjJiYoZi5kZWx0YVg9Zi54LWMueCxmLmRlbHRhWT1mLnktYy55KTtyZXR1cm4gZn12YXIgcD1qLGE9ITEsZj17fSxjPW51bGwsbj0hMSxrPWgudG91Y2hFdmVudHM7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihkLGcpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoZW5kIiwKZnVuY3Rpb24oZil7YSYmbiYmYihrLkRSQUdfRU5ELGYpO2E9bj0hMTtjPW51bGx9KTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaGNhbmNlbCIsZyk7ai5hZGRFdmVudExpc3RlbmVyKG0sZyk7ai5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaGVuZCIsZyk7dGhpcy5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGEsYil7ZlthXT1ifTt0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSl7ZGVsZXRlIGZbYV19O3JldHVybiB0aGlzfX0oandwbGF5ZXIudXRpbHMpLGZ1bmN0aW9uKGgpe2gudG91Y2hFdmVudHM9e0RSQUc6Imp3cGxheWVyRHJhZyIsRFJBR19TVEFSVDoiandwbGF5ZXJEcmFnU3RhcnQiLERSQUdfRU5EOiJqd3BsYXllckRyYWdFbmQiLFRBUDoiandwbGF5ZXJUYXAifX0oandwbGF5ZXIudXRpbHMpLGZ1bmN0aW9uKGgpe2gua2V5PWZ1bmN0aW9uKGQpe3ZhciBtLGosZzt0aGlzLmVkaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gZyYmZy5nZXRUaW1lKCk8CihuZXcgRGF0ZSkuZ2V0VGltZSgpPyJpbnZhbGlkIjptfTt0aGlzLnRva2VuPWZ1bmN0aW9uKCl7cmV0dXJuIGp9O2guZXhpc3RzKGQpfHwoZD0iIik7dHJ5e2Q9aC50ZWEuZGVjcnlwdChkLCIzNlFYcTRXQEdTQlZedGVSIik7dmFyIGI9ZC5zcGxpdCgiLyIpOyhtPWJbMF0pPy9eKGZyZWV8cHJvfHByZW1pdW18ZW50ZXJwcmlzZXxhZHMpJC9pLnRlc3QobSk/KGo9YlsxXSxiWzJdJiYwPHBhcnNlSW50KGJbMl0pJiYoZz1uZXcgRGF0ZSxnLnNldFRpbWUoU3RyaW5nKGJbMl0pKSkpOm09ImludmFsaWQiOm09ImZyZWUifWNhdGNoKGUpe209ImludmFsaWQifX19KGp3cGxheWVyLnV0aWxzKSxmdW5jdGlvbihoKXt2YXIgZD1oLnRlYT17fTtkLmVuY3J5cHQ9ZnVuY3Rpb24oZyxiKXtpZigwPT1nLmxlbmd0aClyZXR1cm4iIjt2YXIgZT1kLnN0clRvTG9uZ3Moai5lbmNvZGUoZykpOzE+PWUubGVuZ3RoJiYoZVsxXT0wKTtmb3IodmFyIGg9ZC5zdHJUb0xvbmdzKGouZW5jb2RlKGIpLnNsaWNlKDAsCjE2KSksYT1lLmxlbmd0aCxmPWVbYS0xXSxjPWVbMF0sbixrPU1hdGguZmxvb3IoNis1Mi9hKSxsPTA7MDxrLS07KXtsKz0yNjU0NDM1NzY5O249bD4+PjImMztmb3IodmFyIHI9MDtyPGE7cisrKWM9ZVsocisxKSVhXSxmPShmPj4+NV5jPDwyKSsoYz4+PjNeZjw8NCleKGxeYykrKGhbciYzXm5dXmYpLGY9ZVtyXSs9Zn1lPWQubG9uZ3NUb1N0cihlKTtyZXR1cm4gbS5lbmNvZGUoZSl9O2QuZGVjcnlwdD1mdW5jdGlvbihnLGIpe2lmKDA9PWcubGVuZ3RoKXJldHVybiIiO2Zvcih2YXIgZT1kLnN0clRvTG9uZ3MobS5kZWNvZGUoZykpLGg9ZC5zdHJUb0xvbmdzKGouZW5jb2RlKGIpLnNsaWNlKDAsMTYpKSxhPWUubGVuZ3RoLGY9ZVthLTFdLGM9ZVswXSxuLGs9MjY1NDQzNTc2OSpNYXRoLmZsb29yKDYrNTIvYSk7MCE9azspe249az4+PjImMztmb3IodmFyIGw9YS0xOzA8PWw7bC0tKWY9ZVswPGw/bC0xOmEtMV0sZj0oZj4+PjVeYzw8MikrKGM+Pj4zXmY8PDQpXihrXmMpKyhoW2wmM14Kbl1eZiksYz1lW2xdLT1mO2stPTI2NTQ0MzU3Njl9ZT1kLmxvbmdzVG9TdHIoZSk7ZT1lLnJlcGxhY2UoL1wwKyQvLCIiKTtyZXR1cm4gai5kZWNvZGUoZSl9O2Quc3RyVG9Mb25ncz1mdW5jdGlvbihkKXtmb3IodmFyIGI9QXJyYXkoTWF0aC5jZWlsKGQubGVuZ3RoLzQpKSxlPTA7ZTxiLmxlbmd0aDtlKyspYltlXT1kLmNoYXJDb2RlQXQoNCplKSsoZC5jaGFyQ29kZUF0KDQqZSsxKTw8OCkrKGQuY2hhckNvZGVBdCg0KmUrMik8PDE2KSsoZC5jaGFyQ29kZUF0KDQqZSszKTw8MjQpO3JldHVybiBifTtkLmxvbmdzVG9TdHI9ZnVuY3Rpb24oZCl7Zm9yKHZhciBiPUFycmF5KGQubGVuZ3RoKSxlPTA7ZTxkLmxlbmd0aDtlKyspYltlXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGRbZV0mMjU1LGRbZV0+Pj44JjI1NSxkW2VdPj4+MTYmMjU1LGRbZV0+Pj4yNCYyNTUpO3JldHVybiBiLmpvaW4oIiIpfTt2YXIgbT17Y29kZToiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1x4M2QiLAplbmNvZGU6ZnVuY3Rpb24oZCxiKXt2YXIgZSxoLGEsZixjPVtdLG49IiIsayxsLHI9bS5jb2RlO2w9KCJ1bmRlZmluZWQiPT10eXBlb2YgYj8wOmIpP2ouZW5jb2RlKGQpOmQ7az1sLmxlbmd0aCUzO2lmKDA8aylmb3IoOzM+aysrOyluKz0iXHgzZCIsbCs9Ilx4MDAiO2ZvcihrPTA7azxsLmxlbmd0aDtrKz0zKWU9bC5jaGFyQ29kZUF0KGspLGg9bC5jaGFyQ29kZUF0KGsrMSksYT1sLmNoYXJDb2RlQXQoaysyKSxmPWU8PDE2fGg8PDh8YSxlPWY+PjE4JjYzLGg9Zj4+MTImNjMsYT1mPj42JjYzLGYmPTYzLGNbay8zXT1yLmNoYXJBdChlKStyLmNoYXJBdChoKStyLmNoYXJBdChhKStyLmNoYXJBdChmKTtjPWMuam9pbigiIik7cmV0dXJuIGM9Yy5zbGljZSgwLGMubGVuZ3RoLW4ubGVuZ3RoKStufSxkZWNvZGU6ZnVuY3Rpb24oZCxiKXtiPSJ1bmRlZmluZWQiPT10eXBlb2YgYj8hMTpiO3ZhciBlLGgsYSxmLGMsbj1bXSxrLGw9bS5jb2RlO2s9Yj9qLmRlY29kZShkKTpkO2Zvcih2YXIgcj0KMDtyPGsubGVuZ3RoO3IrPTQpZT1sLmluZGV4T2Yoay5jaGFyQXQocikpLGg9bC5pbmRleE9mKGsuY2hhckF0KHIrMSkpLGY9bC5pbmRleE9mKGsuY2hhckF0KHIrMikpLGM9bC5pbmRleE9mKGsuY2hhckF0KHIrMykpLGE9ZTw8MTh8aDw8MTJ8Zjw8NnxjLGU9YT4+PjE2JjI1NSxoPWE+Pj44JjI1NSxhJj0yNTUsbltyLzRdPVN0cmluZy5mcm9tQ2hhckNvZGUoZSxoLGEpLDY0PT1jJiYobltyLzRdPVN0cmluZy5mcm9tQ2hhckNvZGUoZSxoKSksNjQ9PWYmJihuW3IvNF09U3RyaW5nLmZyb21DaGFyQ29kZShlKSk7Zj1uLmpvaW4oIiIpO3JldHVybiBiP2ouZGVjb2RlKGYpOmZ9fSxqPXtlbmNvZGU6ZnVuY3Rpb24oZCl7ZD1kLnJlcGxhY2UoL1tcdTAwODAtXHUwN2ZmXS9nLGZ1bmN0aW9uKGIpe2I9Yi5jaGFyQ29kZUF0KDApO3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDE5MnxiPj42LDEyOHxiJjYzKX0pO3JldHVybiBkPWQucmVwbGFjZSgvW1x1MDgwMC1cdWZmZmZdL2csZnVuY3Rpb24oYil7Yj0KYi5jaGFyQ29kZUF0KDApO3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDIyNHxiPj4xMiwxMjh8Yj4+NiY2MywxMjh8YiY2Myl9KX0sZGVjb2RlOmZ1bmN0aW9uKGQpe2Q9ZC5yZXBsYWNlKC9bXHUwMGUwLVx1MDBlZl1bXHUwMDgwLVx1MDBiZl1bXHUwMDgwLVx1MDBiZl0vZyxmdW5jdGlvbihiKXtiPShiLmNoYXJDb2RlQXQoMCkmMTUpPDwxMnwoYi5jaGFyQ29kZUF0KDEpJjYzKTw8NnxiLmNoYXJDb2RlQXQoMikmNjM7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoYil9KTtyZXR1cm4gZD1kLnJlcGxhY2UoL1tcdTAwYzAtXHUwMGRmXVtcdTAwODAtXHUwMGJmXS9nLGZ1bmN0aW9uKGIpe2I9KGIuY2hhckNvZGVBdCgwKSYzMSk8PDZ8Yi5jaGFyQ29kZUF0KDEpJjYzO3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGIpfSl9fX0oandwbGF5ZXIudXRpbHMpLGZ1bmN0aW9uKGgpe2guZXZlbnRzPXtDT01QTEVURToiQ09NUExFVEUiLEVSUk9SOiJFUlJPUiIsQVBJX1JFQURZOiJqd3BsYXllckFQSVJlYWR5IiwKSldQTEFZRVJfUkVBRFk6Imp3cGxheWVyUmVhZHkiLEpXUExBWUVSX0ZVTExTQ1JFRU46Imp3cGxheWVyRnVsbHNjcmVlbiIsSldQTEFZRVJfUkVTSVpFOiJqd3BsYXllclJlc2l6ZSIsSldQTEFZRVJfRVJST1I6Imp3cGxheWVyRXJyb3IiLEpXUExBWUVSX1NFVFVQX0VSUk9SOiJqd3BsYXllclNldHVwRXJyb3IiLEpXUExBWUVSX01FRElBX0JFRk9SRVBMQVk6Imp3cGxheWVyTWVkaWFCZWZvcmVQbGF5IixKV1BMQVlFUl9NRURJQV9CRUZPUkVDT01QTEVURToiandwbGF5ZXJNZWRpYUJlZm9yZUNvbXBsZXRlIixKV1BMQVlFUl9DT01QT05FTlRfU0hPVzoiandwbGF5ZXJDb21wb25lbnRTaG93IixKV1BMQVlFUl9DT01QT05FTlRfSElERToiandwbGF5ZXJDb21wb25lbnRIaWRlIixKV1BMQVlFUl9NRURJQV9CVUZGRVI6Imp3cGxheWVyTWVkaWFCdWZmZXIiLEpXUExBWUVSX01FRElBX0JVRkZFUl9GVUxMOiJqd3BsYXllck1lZGlhQnVmZmVyRnVsbCIsSldQTEFZRVJfTUVESUFfRVJST1I6Imp3cGxheWVyTWVkaWFFcnJvciIsCkpXUExBWUVSX01FRElBX0xPQURFRDoiandwbGF5ZXJNZWRpYUxvYWRlZCIsSldQTEFZRVJfTUVESUFfQ09NUExFVEU6Imp3cGxheWVyTWVkaWFDb21wbGV0ZSIsSldQTEFZRVJfTUVESUFfU0VFSzoiandwbGF5ZXJNZWRpYVNlZWsiLEpXUExBWUVSX01FRElBX1RJTUU6Imp3cGxheWVyTWVkaWFUaW1lIixKV1BMQVlFUl9NRURJQV9WT0xVTUU6Imp3cGxheWVyTWVkaWFWb2x1bWUiLEpXUExBWUVSX01FRElBX01FVEE6Imp3cGxheWVyTWVkaWFNZXRhIixKV1BMQVlFUl9NRURJQV9NVVRFOiJqd3BsYXllck1lZGlhTXV0ZSIsSldQTEFZRVJfTUVESUFfTEVWRUxTOiJqd3BsYXllck1lZGlhTGV2ZWxzIixKV1BMQVlFUl9NRURJQV9MRVZFTF9DSEFOR0VEOiJqd3BsYXllck1lZGlhTGV2ZWxDaGFuZ2VkIixKV1BMQVlFUl9DQVBUSU9OU19DSEFOR0VEOiJqd3BsYXllckNhcHRpb25zQ2hhbmdlZCIsSldQTEFZRVJfQ0FQVElPTlNfTElTVDoiandwbGF5ZXJDYXB0aW9uc0xpc3QiLEpXUExBWUVSX0NBUFRJT05TX0xPQURFRDoiandwbGF5ZXJDYXB0aW9uc0xvYWRlZCIsCkpXUExBWUVSX1BMQVlFUl9TVEFURToiandwbGF5ZXJQbGF5ZXJTdGF0ZSIsc3RhdGU6e0JVRkZFUklORzoiQlVGRkVSSU5HIixJRExFOiJJRExFIixQQVVTRUQ6IlBBVVNFRCIsUExBWUlORzoiUExBWUlORyJ9LEpXUExBWUVSX1BMQVlMSVNUX0xPQURFRDoiandwbGF5ZXJQbGF5bGlzdExvYWRlZCIsSldQTEFZRVJfUExBWUxJU1RfSVRFTToiandwbGF5ZXJQbGF5bGlzdEl0ZW0iLEpXUExBWUVSX1BMQVlMSVNUX0NPTVBMRVRFOiJqd3BsYXllclBsYXlsaXN0Q29tcGxldGUiLEpXUExBWUVSX0RJU1BMQVlfQ0xJQ0s6Imp3cGxheWVyVmlld0NsaWNrIixKV1BMQVlFUl9WSUVXX1RBQl9GT0NVUzoiandwbGF5ZXJWaWV3VGFiRm9jdXMiLEpXUExBWUVSX0NPTlRST0xTOiJqd3BsYXllclZpZXdDb250cm9scyIsSldQTEFZRVJfVVNFUl9BQ1RJT046Imp3cGxheWVyVXNlckFjdGlvbiIsSldQTEFZRVJfSU5TVFJFQU1fQ0xJQ0s6Imp3cGxheWVySW5zdHJlYW1DbGlja2VkIixKV1BMQVlFUl9JTlNUUkVBTV9ERVNUUk9ZRUQ6Imp3cGxheWVySW5zdHJlYW1EZXN0cm95ZWQiLApKV1BMQVlFUl9BRF9USU1FOiJqd3BsYXllckFkVGltZSIsSldQTEFZRVJfQURfRVJST1I6Imp3cGxheWVyQWRFcnJvciIsSldQTEFZRVJfQURfQ0xJQ0s6Imp3cGxheWVyQWRDbGlja2VkIixKV1BMQVlFUl9BRF9DT01QTEVURToiandwbGF5ZXJBZENvbXBsZXRlIixKV1BMQVlFUl9BRF9JTVBSRVNTSU9OOiJqd3BsYXllckFkSW1wcmVzc2lvbiIsSldQTEFZRVJfQURfQ09NUEFOSU9OUzoiandwbGF5ZXJBZENvbXBhbmlvbnMiLEpXUExBWUVSX0FEX1NLSVBQRUQ6Imp3cGxheWVyQWRTa2lwcGVkIixKV1BMQVlFUl9BRF9QTEFZOiJqd3BsYXllckFkUGxheSIsSldQTEFZRVJfQURfUEFVU0U6Imp3cGxheWVyQWRQYXVzZSIsSldQTEFZRVJfQURfTUVUQToiandwbGF5ZXJBZE1ldGEiLEpXUExBWUVSX0NBU1RfQVZBSUxBQkxFOiJqd3BsYXllckNhc3RBdmFpbGFibGUiLEpXUExBWUVSX0NBU1RfU0VTU0lPTjoiandwbGF5ZXJDYXN0U2Vzc2lvbiIsSldQTEFZRVJfQ0FTVF9BRF9DSEFOR0VEOiJqd3BsYXllckNhc3RBZENoYW5nZWQifX0oandwbGF5ZXIpLApmdW5jdGlvbihoKXt2YXIgZD1oLnV0aWxzO2guZXZlbnRzLmV2ZW50ZGlzcGF0Y2hlcj1mdW5jdGlvbihtLGope2Z1bmN0aW9uIGcoYixhLGYpe2lmKGIpZm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBlPWJbY107aWYoZSl7bnVsbCE9PWUuY291bnQmJjA9PT0tLWUuY291bnQmJmRlbGV0ZSBiW2NdO3RyeXtlLmxpc3RlbmVyKGEpfWNhdGNoKGcpe2QubG9nKCdFcnJvciBoYW5kbGluZyAiJytmKyciIGV2ZW50IGxpc3RlbmVyIFsnK2MrIl06ICIrZy50b1N0cmluZygpLGUubGlzdGVuZXIsYSl9fX19dmFyIGIsZTt0aGlzLnJlc2V0RXZlbnRMaXN0ZW5lcnM9ZnVuY3Rpb24oKXtiPXt9O2U9W119O3RoaXMucmVzZXRFdmVudExpc3RlbmVycygpO3RoaXMuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLGEsZil7dHJ5e2QuZXhpc3RzKGJbZV0pfHwoYltlXT1bXSksInN0cmluZyI9PWQudHlwZU9mKGEpJiYoYT0obmV3IEZ1bmN0aW9uKCJyZXR1cm4gIithKSkoKSksYltlXS5wdXNoKHtsaXN0ZW5lcjphLApjb3VudDpmfHxudWxsfSl9Y2F0Y2goYyl7ZC5sb2coImVycm9yIixjKX1yZXR1cm4hMX07dGhpcy5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGUsYSl7aWYoYltlXSl7dHJ5e2lmKHZvaWQgMD09PWEpe2JbZV09W107cmV0dXJufWZvcih2YXIgZj0wO2Y8YltlXS5sZW5ndGg7ZisrKWlmKGJbZV1bZl0ubGlzdGVuZXIudG9TdHJpbmcoKT09YS50b1N0cmluZygpKXtiW2VdLnNwbGljZShmLDEpO2JyZWFrfX1jYXRjaChjKXtkLmxvZygiZXJyb3IiLGMpfXJldHVybiExfX07dGhpcy5hZGRHbG9iYWxMaXN0ZW5lcj1mdW5jdGlvbihiLGEpe3RyeXsic3RyaW5nIj09ZC50eXBlT2YoYikmJihiPShuZXcgRnVuY3Rpb24oInJldHVybiAiK2IpKSgpKSxlLnB1c2goe2xpc3RlbmVyOmIsY291bnQ6YXx8bnVsbH0pfWNhdGNoKGYpe2QubG9nKCJlcnJvciIsZil9cmV0dXJuITF9O3RoaXMucmVtb3ZlR2xvYmFsTGlzdGVuZXI9ZnVuY3Rpb24oYil7aWYoYil7dHJ5e2Zvcih2YXIgYT1lLmxlbmd0aDthLS07KWVbYV0ubGlzdGVuZXIudG9TdHJpbmcoKT09CmIudG9TdHJpbmcoKSYmZS5zcGxpY2UoYSwxKX1jYXRjaChmKXtkLmxvZygiZXJyb3IiLGYpfXJldHVybiExfX07dGhpcy5zZW5kRXZlbnQ9ZnVuY3Rpb24ocCxhKXtkLmV4aXN0cyhhKXx8KGE9e30pO2QuZXh0ZW5kKGEse2lkOm0sdmVyc2lvbjpoLnZlcnNpb24sdHlwZTpwfSk7aiYmZC5sb2cocCxhKTtnKGJbcF0sYSxwKTtnKGUsYSxwKX19fSh3aW5kb3cuandwbGF5ZXIpLGZ1bmN0aW9uKGgpe3ZhciBkPXt9LG09e307aC5wbHVnaW5zPWZ1bmN0aW9uKCl7fTtoLnBsdWdpbnMubG9hZFBsdWdpbnM9ZnVuY3Rpb24oaixnKXttW2pdPW5ldyBoLnBsdWdpbnMucGx1Z2lubG9hZGVyKG5ldyBoLnBsdWdpbnMubW9kZWwoZCksZyk7cmV0dXJuIG1bal19O2gucGx1Z2lucy5yZWdpc3RlclBsdWdpbj1mdW5jdGlvbihqLGcsYixlKXt2YXIgcD1oLnV0aWxzLmdldFBsdWdpbk5hbWUoaik7ZFtwXXx8KGRbcF09bmV3IGgucGx1Z2lucy5wbHVnaW4oaikpO2RbcF0ucmVnaXN0ZXJQbHVnaW4oaiwKZyxiLGUpfX0oandwbGF5ZXIpLGZ1bmN0aW9uKGgpe2gucGx1Z2lucy5tb2RlbD1mdW5jdGlvbihkKXt0aGlzLmFkZFBsdWdpbj1mdW5jdGlvbihtKXt2YXIgaj1oLnV0aWxzLmdldFBsdWdpbk5hbWUobSk7ZFtqXXx8KGRbal09bmV3IGgucGx1Z2lucy5wbHVnaW4obSkpO3JldHVybiBkW2pdfTt0aGlzLmdldFBsdWdpbnM9ZnVuY3Rpb24oKXtyZXR1cm4gZH19fShqd3BsYXllciksZnVuY3Rpb24oaCl7dmFyIGQ9andwbGF5ZXIudXRpbHMsbT1qd3BsYXllci5ldmVudHM7aC5wbHVnaW5tb2Rlcz17RkxBU0g6MCxKQVZBU0NSSVBUOjEsSFlCUklEOjJ9O2gucGx1Z2luPWZ1bmN0aW9uKGope2Z1bmN0aW9uIGcoKXtzd2l0Y2goZC5nZXRQbHVnaW5QYXRoVHlwZShqKSl7Y2FzZSBkLnBsdWdpblBhdGhUeXBlLkFCU09MVVRFOnJldHVybiBqO2Nhc2UgZC5wbHVnaW5QYXRoVHlwZS5SRUxBVElWRTpyZXR1cm4gZC5nZXRBYnNvbHV0ZVBhdGgoaix3aW5kb3cubG9jYXRpb24uaHJlZil9fWZ1bmN0aW9uIGIoKXtuPQpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cD1kLmxvYWRlcnN0YXR1cy5DT01QTEVURTtrLnNlbmRFdmVudChtLkNPTVBMRVRFKX0sMUUzKX1mdW5jdGlvbiBlKCl7cD1kLmxvYWRlcnN0YXR1cy5FUlJPUjtrLnNlbmRFdmVudChtLkVSUk9SKX12YXIgcD1kLmxvYWRlcnN0YXR1cy5ORVcsYSxmLGMsbixrPW5ldyBtLmV2ZW50ZGlzcGF0Y2hlcjtkLmV4dGVuZCh0aGlzLGspO3RoaXMubG9hZD1mdW5jdGlvbigpe2lmKHA9PWQubG9hZGVyc3RhdHVzLk5FVylpZigwPGoubGFzdEluZGV4T2YoIi5zd2YiKSlhPWoscD1kLmxvYWRlcnN0YXR1cy5DT01QTEVURSxrLnNlbmRFdmVudChtLkNPTVBMRVRFKTtlbHNlIGlmKGQuZ2V0UGx1Z2luUGF0aFR5cGUoaik9PWQucGx1Z2luUGF0aFR5cGUuQ0ROKXA9ZC5sb2FkZXJzdGF0dXMuQ09NUExFVEUsay5zZW5kRXZlbnQobS5DT01QTEVURSk7ZWxzZXtwPWQubG9hZGVyc3RhdHVzLkxPQURJTkc7dmFyIGM9bmV3IGQuc2NyaXB0bG9hZGVyKGcoKSk7Yy5hZGRFdmVudExpc3RlbmVyKG0uQ09NUExFVEUsCmIpO2MuYWRkRXZlbnRMaXN0ZW5lcihtLkVSUk9SLGUpO2MubG9hZCgpfX07dGhpcy5yZWdpc3RlclBsdWdpbj1mdW5jdGlvbihiLGUsZyxqKXtuJiYoY2xlYXJUaW1lb3V0KG4pLG49dm9pZCAwKTtjPWU7ZyYmaj8oYT1qLGY9Zyk6InN0cmluZyI9PXR5cGVvZiBnP2E9ZzoiZnVuY3Rpb24iPT10eXBlb2YgZz9mPWc6IWcmJiFqJiYoYT1iKTtwPWQubG9hZGVyc3RhdHVzLkNPTVBMRVRFO2suc2VuZEV2ZW50KG0uQ09NUExFVEUpfTt0aGlzLmdldFN0YXR1cz1mdW5jdGlvbigpe3JldHVybiBwfTt0aGlzLmdldFBsdWdpbk5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gZC5nZXRQbHVnaW5OYW1lKGopfTt0aGlzLmdldEZsYXNoUGF0aD1mdW5jdGlvbigpe2lmKGEpc3dpdGNoKGQuZ2V0UGx1Z2luUGF0aFR5cGUoYSkpe2Nhc2UgZC5wbHVnaW5QYXRoVHlwZS5BQlNPTFVURTpyZXR1cm4gYTtjYXNlIGQucGx1Z2luUGF0aFR5cGUuUkVMQVRJVkU6cmV0dXJuIDA8ai5sYXN0SW5kZXhPZigiLnN3ZiIpPwpkLmdldEFic29sdXRlUGF0aChhLHdpbmRvdy5sb2NhdGlvbi5ocmVmKTpkLmdldEFic29sdXRlUGF0aChhLGcoKSl9cmV0dXJuIG51bGx9O3RoaXMuZ2V0SlM9ZnVuY3Rpb24oKXtyZXR1cm4gZn07dGhpcy5nZXRUYXJnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gY307dGhpcy5nZXRQbHVnaW5tb2RlPWZ1bmN0aW9uKCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBhJiYidW5kZWZpbmVkIiE9dHlwZW9mIGYpcmV0dXJuIGgucGx1Z2lubW9kZXMuSFlCUklEO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgYSlyZXR1cm4gaC5wbHVnaW5tb2Rlcy5GTEFTSDtpZigidW5kZWZpbmVkIiE9dHlwZW9mIGYpcmV0dXJuIGgucGx1Z2lubW9kZXMuSkFWQVNDUklQVH07dGhpcy5nZXROZXdJbnN0YW5jZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIG5ldyBmKGEsYixjKX07dGhpcy5nZXRVUkw9ZnVuY3Rpb24oKXtyZXR1cm4gan19fShqd3BsYXllci5wbHVnaW5zKSxmdW5jdGlvbihoKXt2YXIgZD1oLnV0aWxzLG09CmguZXZlbnRzLGo9ZC5mb3JlYWNoO2gucGx1Z2lucy5wbHVnaW5sb2FkZXI9ZnVuY3Rpb24oZyxiKXtmdW5jdGlvbiBlKCl7YyYmbC5zZW5kRXZlbnQobS5FUlJPUix7bWVzc2FnZTpufSk7Znx8KGY9ITAsYT1kLmxvYWRlcnN0YXR1cy5DT01QTEVURSxsLnNlbmRFdmVudChtLkNPTVBMRVRFKSl9ZnVuY3Rpb24gcCgpe2t8fGUoKTtpZighZiYmIWMpe3ZhciBhPTAsYj1nLmdldFBsdWdpbnMoKTtkLmZvcmVhY2goayxmdW5jdGlvbihmKXtmPWQuZ2V0UGx1Z2luTmFtZShmKTt2YXIgZz1iW2ZdO2Y9Zy5nZXRKUygpO3ZhciBsPWcuZ2V0VGFyZ2V0KCksZz1nLmdldFN0YXR1cygpO2lmKGc9PWQubG9hZGVyc3RhdHVzLkxPQURJTkd8fGc9PWQubG9hZGVyc3RhdHVzLk5FVylhKys7ZWxzZSBpZihmJiYoIWx8fHBhcnNlRmxvYXQobCk+cGFyc2VGbG9hdChoLnZlcnNpb24pKSljPSEwLG49IkluY29tcGF0aWJsZSBwbGF5ZXIgdmVyc2lvbiIsZSgpfSk7MD09PWEmJmUoKX19dmFyIGE9ZC5sb2FkZXJzdGF0dXMuTkVXLApmPSExLGM9ITEsbixrPWIsbD1uZXcgbS5ldmVudGRpc3BhdGNoZXI7ZC5leHRlbmQodGhpcyxsKTt0aGlzLnNldHVwUGx1Z2lucz1mdW5jdGlvbihhLGIsYyl7dmFyIGY9e2xlbmd0aDowLHBsdWdpbnM6e319LGU9MCxsPXt9LGs9Zy5nZXRQbHVnaW5zKCk7aihiLnBsdWdpbnMsZnVuY3Rpb24oZyxqKXt2YXIgaD1kLmdldFBsdWdpbk5hbWUoZyksbj1rW2hdLHA9bi5nZXRGbGFzaFBhdGgoKSxtPW4uZ2V0SlMoKSxMPW4uZ2V0VVJMKCk7cCYmKGYucGx1Z2luc1twXT1kLmV4dGVuZCh7fSxqKSxmLnBsdWdpbnNbcF0ucGx1Z2lubW9kZT1uLmdldFBsdWdpbm1vZGUoKSxmLmxlbmd0aCsrKTt0cnl7aWYobSYmYi5wbHVnaW5zJiZiLnBsdWdpbnNbTF0pe3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3IuaWQ9YS5pZCsiXyIraDtyLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7ci5zdHlsZS50b3A9MDtyLnN0eWxlLnpJbmRleD1lKzEwO2xbaF09bi5nZXROZXdJbnN0YW5jZShhLApkLmV4dGVuZCh7fSxiLnBsdWdpbnNbTF0pLHIpO2UrKzthLm9uUmVhZHkoYyhsW2hdLHIsITApKTthLm9uUmVzaXplKGMobFtoXSxyKSl9fWNhdGNoKE8pe2QubG9nKCJFUlJPUjogRmFpbGVkIHRvIGxvYWQgIitoKyIuIil9fSk7YS5wbHVnaW5zPWw7cmV0dXJuIGZ9O3RoaXMubG9hZD1mdW5jdGlvbigpe2lmKCEoZC5leGlzdHMoYikmJiJvYmplY3QiIT1kLnR5cGVPZihiKSkpe2E9ZC5sb2FkZXJzdGF0dXMuTE9BRElORztqKGIsZnVuY3Rpb24oYSl7ZC5leGlzdHMoYSkmJihhPWcuYWRkUGx1Z2luKGEpLGEuYWRkRXZlbnRMaXN0ZW5lcihtLkNPTVBMRVRFLHApLGEuYWRkRXZlbnRMaXN0ZW5lcihtLkVSUk9SLHIpKX0pO3ZhciBjPWcuZ2V0UGx1Z2lucygpO2ooYyxmdW5jdGlvbihhLGIpe2IubG9hZCgpfSl9cCgpfTt0aGlzLmRlc3Ryb3k9ZnVuY3Rpb24oKXtsJiYobC5yZXNldEV2ZW50TGlzdGVuZXJzKCksbD1udWxsKX07dmFyIHI9dGhpcy5wbHVnaW5GYWlsZWQ9ZnVuY3Rpb24oKXtjfHwKKGM9ITAsbj0iRmlsZSBub3QgZm91bmQiLGUoKSl9O3RoaXMuZ2V0U3RhdHVzPWZ1bmN0aW9uKCl7cmV0dXJuIGF9fX0oandwbGF5ZXIpLGZ1bmN0aW9uKGgpe2gucGFyc2Vycz17bG9jYWxOYW1lOmZ1bmN0aW9uKGQpe3JldHVybiBkP2QubG9jYWxOYW1lP2QubG9jYWxOYW1lOmQuYmFzZU5hbWU/ZC5iYXNlTmFtZToiIjoiIn0sdGV4dENvbnRlbnQ6ZnVuY3Rpb24oZCl7cmV0dXJuIGQ/ZC50ZXh0Q29udGVudD9oLnV0aWxzLnRyaW0oZC50ZXh0Q29udGVudCk6ZC50ZXh0P2gudXRpbHMudHJpbShkLnRleHQpOiIiOiIifSxnZXRDaGlsZE5vZGU6ZnVuY3Rpb24oZCxoKXtyZXR1cm4gZC5jaGlsZE5vZGVzW2hdfSxudW1DaGlsZHJlbjpmdW5jdGlvbihkKXtyZXR1cm4gZC5jaGlsZE5vZGVzP2QuY2hpbGROb2Rlcy5sZW5ndGg6MH19fShqd3BsYXllciksZnVuY3Rpb24oaCl7dmFyIGQ9aC5wYXJzZXJzOyhkLmp3cGFyc2VyPWZ1bmN0aW9uKCl7fSkucGFyc2VFbnRyeT1mdW5jdGlvbihtLApqKXtmb3IodmFyIGc9W10sYj1bXSxlPWgudXRpbHMueG1sQXR0cmlidXRlLHA9MDtwPG0uY2hpbGROb2Rlcy5sZW5ndGg7cCsrKXt2YXIgYT1tLmNoaWxkTm9kZXNbcF07aWYoImp3cGxheWVyIj09YS5wcmVmaXgpe3ZhciBmPWQubG9jYWxOYW1lKGEpOyJzb3VyY2UiPT1mPyhkZWxldGUgai5zb3VyY2VzLGcucHVzaCh7ZmlsZTplKGEsImZpbGUiKSwiZGVmYXVsdCI6ZShhLCJkZWZhdWx0IiksbGFiZWw6ZShhLCJsYWJlbCIpLHR5cGU6ZShhLCJ0eXBlIil9KSk6InRyYWNrIj09Zj8oZGVsZXRlIGoudHJhY2tzLGIucHVzaCh7ZmlsZTplKGEsImZpbGUiKSwiZGVmYXVsdCI6ZShhLCJkZWZhdWx0Iiksa2luZDplKGEsImtpbmQiKSxsYWJlbDplKGEsImxhYmVsIil9KSk6KGpbZl09aC51dGlscy5zZXJpYWxpemUoZC50ZXh0Q29udGVudChhKSksImZpbGUiPT1mJiZqLnNvdXJjZXMmJmRlbGV0ZSBqLnNvdXJjZXMpfWouZmlsZXx8KGouZmlsZT1qLmxpbmspfWlmKGcubGVuZ3RoKXtqLnNvdXJjZXM9CltdO2ZvcihwPTA7cDxnLmxlbmd0aDtwKyspMDxnW3BdLmZpbGUubGVuZ3RoJiYoZ1twXVsiZGVmYXVsdCJdPSJ0cnVlIj09Z1twXVsiZGVmYXVsdCJdPyEwOiExLGdbcF0ubGFiZWwubGVuZ3RofHxkZWxldGUgZ1twXS5sYWJlbCxqLnNvdXJjZXMucHVzaChnW3BdKSl9aWYoYi5sZW5ndGgpe2oudHJhY2tzPVtdO2ZvcihwPTA7cDxiLmxlbmd0aDtwKyspMDxiW3BdLmZpbGUubGVuZ3RoJiYoYltwXVsiZGVmYXVsdCJdPSJ0cnVlIj09YltwXVsiZGVmYXVsdCJdPyEwOiExLGJbcF0ua2luZD0hYltwXS5raW5kLmxlbmd0aD8iY2FwdGlvbnMiOmJbcF0ua2luZCxiW3BdLmxhYmVsLmxlbmd0aHx8ZGVsZXRlIGJbcF0ubGFiZWwsai50cmFja3MucHVzaChiW3BdKSl9cmV0dXJuIGp9fShqd3BsYXllciksZnVuY3Rpb24oaCl7dmFyIGQ9andwbGF5ZXIudXRpbHMsbT1kLnhtbEF0dHJpYnV0ZSxqPWgubG9jYWxOYW1lLGc9aC50ZXh0Q29udGVudCxiPWgubnVtQ2hpbGRyZW4sZT1oLm1lZGlhcGFyc2VyPQpmdW5jdGlvbigpe307ZS5wYXJzZUdyb3VwPWZ1bmN0aW9uKGgsYSl7dmFyIGYsYyxuPVtdO2ZvcihjPTA7YzxiKGgpO2MrKylpZihmPWguY2hpbGROb2Rlc1tjXSwibWVkaWEiPT1mLnByZWZpeCYmaihmKSlzd2l0Y2goaihmKS50b0xvd2VyQ2FzZSgpKXtjYXNlICJjb250ZW50IjptKGYsImR1cmF0aW9uIikmJihhLmR1cmF0aW9uPWQuc2Vjb25kcyhtKGYsImR1cmF0aW9uIikpKTswPGIoZikmJihhPWUucGFyc2VHcm91cChmLGEpKTttKGYsInVybCIpJiYoYS5zb3VyY2VzfHwoYS5zb3VyY2VzPVtdKSxhLnNvdXJjZXMucHVzaCh7ZmlsZTptKGYsInVybCIpLHR5cGU6bShmLCJ0eXBlIiksd2lkdGg6bShmLCJ3aWR0aCIpLGxhYmVsOm0oZiwibGFiZWwiKX0pKTticmVhaztjYXNlICJ0aXRsZSI6YS50aXRsZT1nKGYpO2JyZWFrO2Nhc2UgImRlc2NyaXB0aW9uIjphLmRlc2NyaXB0aW9uPWcoZik7YnJlYWs7Y2FzZSAiZ3VpZCI6YS5tZWRpYWlkPWcoZik7YnJlYWs7Y2FzZSAidGh1bWJuYWlsIjphLmltYWdlfHwKKGEuaW1hZ2U9bShmLCJ1cmwiKSk7YnJlYWs7Y2FzZSAiZ3JvdXAiOmUucGFyc2VHcm91cChmLGEpO2JyZWFrO2Nhc2UgInN1YnRpdGxlIjp2YXIgaz17fTtrLmZpbGU9bShmLCJ1cmwiKTtrLmtpbmQ9ImNhcHRpb25zIjtpZigwPG0oZiwibGFuZyIpLmxlbmd0aCl7dmFyIGw9aztmPW0oZiwibGFuZyIpO3ZhciByPXt6aDoiQ2hpbmVzZSIsbmw6IkR1dGNoIixlbjoiRW5nbGlzaCIsZnI6IkZyZW5jaCIsZGU6Ikdlcm1hbiIsaXQ6Ikl0YWxpYW4iLGphOiJKYXBhbmVzZSIscHQ6IlBvcnR1Z3Vlc2UiLHJ1OiJSdXNzaWFuIixlczoiU3BhbmlzaCJ9O2Y9cltmXT9yW2ZdOmY7bC5sYWJlbD1mfW4ucHVzaChrKX1hLmhhc093blByb3BlcnR5KCJ0cmFja3MiKXx8KGEudHJhY2tzPVtdKTtmb3IoYz0wO2M8bi5sZW5ndGg7YysrKWEudHJhY2tzLnB1c2gobltjXSk7cmV0dXJuIGF9fShqd3BsYXllci5wYXJzZXJzKSxmdW5jdGlvbihoKXtmdW5jdGlvbiBkKGIpe2Zvcih2YXIgYT17fSxmPTA7ZjwKYi5jaGlsZE5vZGVzLmxlbmd0aDtmKyspe3ZhciBjPWIuY2hpbGROb2Rlc1tmXSxkPWUoYyk7aWYoZClzd2l0Y2goZC50b0xvd2VyQ2FzZSgpKXtjYXNlICJlbmNsb3N1cmUiOmEuZmlsZT1tLnhtbEF0dHJpYnV0ZShjLCJ1cmwiKTticmVhaztjYXNlICJ0aXRsZSI6YS50aXRsZT1qKGMpO2JyZWFrO2Nhc2UgImd1aWQiOmEubWVkaWFpZD1qKGMpO2JyZWFrO2Nhc2UgInB1YmRhdGUiOmEuZGF0ZT1qKGMpO2JyZWFrO2Nhc2UgImRlc2NyaXB0aW9uIjphLmRlc2NyaXB0aW9uPWooYyk7YnJlYWs7Y2FzZSAibGluayI6YS5saW5rPWooYyk7YnJlYWs7Y2FzZSAiY2F0ZWdvcnkiOmEudGFncz1hLnRhZ3M/YS50YWdzK2ooYyk6aihjKX19YT1oLm1lZGlhcGFyc2VyLnBhcnNlR3JvdXAoYixhKTthPWguandwYXJzZXIucGFyc2VFbnRyeShiLGEpO3JldHVybiBuZXcgandwbGF5ZXIucGxheWxpc3QuaXRlbShhKX12YXIgbT1qd3BsYXllci51dGlscyxqPWgudGV4dENvbnRlbnQsZz1oLmdldENoaWxkTm9kZSwKYj1oLm51bUNoaWxkcmVuLGU9aC5sb2NhbE5hbWU7aC5yc3NwYXJzZXI9e307aC5yc3NwYXJzZXIucGFyc2U9ZnVuY3Rpb24oail7Zm9yKHZhciBhPVtdLGY9MDtmPGIoaik7ZisrKXt2YXIgYz1nKGosZik7aWYoImNoYW5uZWwiPT1lKGMpLnRvTG93ZXJDYXNlKCkpZm9yKHZhciBoPTA7aDxiKGMpO2grKyl7dmFyIGs9ZyhjLGgpOyJpdGVtIj09ZShrKS50b0xvd2VyQ2FzZSgpJiZhLnB1c2goZChrKSl9fXJldHVybiBhfX0oandwbGF5ZXIucGFyc2VycyksZnVuY3Rpb24oaCl7aC5wbGF5bGlzdD1mdW5jdGlvbihkKXt2YXIgbT1bXTtpZigiYXJyYXkiPT1oLnV0aWxzLnR5cGVPZihkKSlmb3IodmFyIGo9MDtqPGQubGVuZ3RoO2orKyltLnB1c2gobmV3IGgucGxheWxpc3QuaXRlbShkW2pdKSk7ZWxzZSBtLnB1c2gobmV3IGgucGxheWxpc3QuaXRlbShkKSk7cmV0dXJuIG19fShqd3BsYXllciksZnVuY3Rpb24oaCl7dmFyIGQ9aC5pdGVtPWZ1bmN0aW9uKG0pe3ZhciBqPWp3cGxheWVyLnV0aWxzLApnPWouZXh0ZW5kKHt9LGQuZGVmYXVsdHMsbSksYixlO2cudHJhY2tzPW0mJmouZXhpc3RzKG0udHJhY2tzKT9tLnRyYWNrczpbXTswPT09Zy5zb3VyY2VzLmxlbmd0aCYmKGcuc291cmNlcz1bbmV3IGguc291cmNlKGcpXSk7Zm9yKGI9MDtiPGcuc291cmNlcy5sZW5ndGg7YisrKWU9Zy5zb3VyY2VzW2JdWyJkZWZhdWx0Il0sZy5zb3VyY2VzW2JdWyJkZWZhdWx0Il09ZT8idHJ1ZSI9PWUudG9TdHJpbmcoKTohMSxnLnNvdXJjZXNbYl09bmV3IGguc291cmNlKGcuc291cmNlc1tiXSk7aWYoZy5jYXB0aW9ucyYmIWouZXhpc3RzKG0udHJhY2tzKSl7Zm9yKG09MDttPGcuY2FwdGlvbnMubGVuZ3RoO20rKylnLnRyYWNrcy5wdXNoKGcuY2FwdGlvbnNbbV0pO2RlbGV0ZSBnLmNhcHRpb25zfWZvcihiPTA7YjxnLnRyYWNrcy5sZW5ndGg7YisrKWcudHJhY2tzW2JdPW5ldyBoLnRyYWNrKGcudHJhY2tzW2JdKTtyZXR1cm4gZ307ZC5kZWZhdWx0cz17ZGVzY3JpcHRpb246dm9pZCAwLGltYWdlOnZvaWQgMCwKbWVkaWFpZDp2b2lkIDAsdGl0bGU6dm9pZCAwLHNvdXJjZXM6W10sdHJhY2tzOltdfX0oandwbGF5ZXIucGxheWxpc3QpLGZ1bmN0aW9uKGgpe3ZhciBkPWp3cGxheWVyLG09ZC51dGlscyxqPWQuZXZlbnRzLGc9ZC5wYXJzZXJzO2gubG9hZGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiKXt0cnl7dmFyIGM9Yi5yZXNwb25zZVhNTC5jaGlsZE5vZGVzO2I9IiI7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aCYmIShiPWNbZF0sOCE9Yi5ub2RlVHlwZSk7ZCsrKTsieG1sIj09Zy5sb2NhbE5hbWUoYikmJihiPWIubmV4dFNpYmxpbmcpO2lmKCJyc3MiIT1nLmxvY2FsTmFtZShiKSlwKCJOb3QgYSB2YWxpZCBSU1MgZmVlZCIpO2Vsc2V7dmFyIGU9bmV3IGgoZy5yc3NwYXJzZXIucGFyc2UoYikpO2Euc2VuZEV2ZW50KGouSldQTEFZRVJfUExBWUxJU1RfTE9BREVELHtwbGF5bGlzdDplfSl9fWNhdGNoKGwpe3AoKX19ZnVuY3Rpb24gZChhKXtwKGEubWF0Y2goL2ludmFsaWQvaSk/Ik5vdCBhIHZhbGlkIFJTUyBmZWVkIjoKIiIpfWZ1bmN0aW9uIHAoYil7YS5zZW5kRXZlbnQoai5KV1BMQVlFUl9FUlJPUix7bWVzc2FnZTpiP2I6IkVycm9yIGxvYWRpbmcgZmlsZSJ9KX12YXIgYT1uZXcgai5ldmVudGRpc3BhdGNoZXI7bS5leHRlbmQodGhpcyxhKTt0aGlzLmxvYWQ9ZnVuY3Rpb24oYSl7bS5hamF4KGEsYixkKX19fShqd3BsYXllci5wbGF5bGlzdCksZnVuY3Rpb24oaCl7dmFyIGQ9andwbGF5ZXIudXRpbHMsbT17ZmlsZTp2b2lkIDAsbGFiZWw6dm9pZCAwLHR5cGU6dm9pZCAwLCJkZWZhdWx0Ijp2b2lkIDB9O2guc291cmNlPWZ1bmN0aW9uKGope3ZhciBnPWQuZXh0ZW5kKHt9LG0pO2QuZm9yZWFjaChtLGZ1bmN0aW9uKGIpe2QuZXhpc3RzKGpbYl0pJiYoZ1tiXT1qW2JdLGRlbGV0ZSBqW2JdKX0pO2cudHlwZSYmMDxnLnR5cGUuaW5kZXhPZigiLyIpJiYoZy50eXBlPWQuZXh0ZW5zaW9ubWFwLm1pbWVUeXBlKGcudHlwZSkpOyJtM3U4Ij09Zy50eXBlJiYoZy50eXBlPSJobHMiKTsic21pbCI9PWcudHlwZSYmCihnLnR5cGU9InJ0bXAiKTtyZXR1cm4gZ319KGp3cGxheWVyLnBsYXlsaXN0KSxmdW5jdGlvbihoKXt2YXIgZD1qd3BsYXllci51dGlscyxtPXtmaWxlOnZvaWQgMCxsYWJlbDp2b2lkIDAsa2luZDoiY2FwdGlvbnMiLCJkZWZhdWx0IjohMX07aC50cmFjaz1mdW5jdGlvbihqKXt2YXIgZz1kLmV4dGVuZCh7fSxtKTtqfHwoaj17fSk7ZC5mb3JlYWNoKG0sZnVuY3Rpb24oYil7ZC5leGlzdHMoaltiXSkmJihnW2JdPWpbYl0sZGVsZXRlIGpbYl0pfSk7cmV0dXJuIGd9fShqd3BsYXllci5wbGF5bGlzdCksZnVuY3Rpb24oaCl7dmFyIGQ9aC5jYXN0PXt9LG09aC51dGlscztkLmFkcHJvdmlkZXI9ZnVuY3Rpb24oaixnKXtmdW5jdGlvbiBiKCl7Yz17bWVzc2FnZTpuLHBvc2l0aW9uOjAsZHVyYXRpb246LTF9fWZ1bmN0aW9uIGUoYSxiKXt2YXIgYz17Y29tbWFuZDphfTt2b2lkIDAhPT1iJiYoYy5hcmdzPWIpO2cuc2VuZE1lc3NhZ2UoaixjLHAsZnVuY3Rpb24oYSl7ZC5lcnJvcigibWVzc2FnZSBzZW5kIGVycm9yIiwKYSl9KX1mdW5jdGlvbiBwKCl7fXZhciBhPW5ldyBkLnByb3ZpZGVyKGosZyksZj1tLmV4dGVuZCh0aGlzLGEpLGMsbj0iTG9hZGluZyBhZCIsaz0wO2YuaW5pdD1mdW5jdGlvbigpe2EuaW5pdCgpO2IoKX07Zi5kZXN0cm95PWZ1bmN0aW9uKCl7YS5kZXN0cm95KCl9O2YudXBkYXRlTW9kZWw9ZnVuY3Rpb24oZixlKXsoZi50YWd8fGYubmV3c3RhdGV8fGYuc2VxdWVuY2V8fGYuY29tcGFuaW9ucykmJmQubG9nKCJyZWNlaXZlZCBhZCBjaGFuZ2U6IixmKTtmLnRhZyYmKGMudGFnJiZmLnRhZyE9PWMudGFnKSYmKGQuZXJyb3IoImFkIG1lc3NhZ2VzIG5vdCByZWNlaXZlZCBpbiBvcmRlci4gbmV3IG1vZGVsOiIsZiwib2xkIG1vZGVsOiIsYyksYigpKTtoLnV0aWxzLmV4dGVuZChjLGYpO2EudXBkYXRlTW9kZWwoZixlKX07Zi5nZXRBZE1vZGVsPWZ1bmN0aW9uKCl7dmFyIGE9bS5leHRlbmQoe30sYyk7YS5tZXNzYWdlPTA8Yy5kdXJhdGlvbj90aGlzLmdldEFkTWVzc2FnZSgpOm47cmV0dXJuIGF9OwpmLnJlc2V0QWRNb2RlbD1mdW5jdGlvbigpe2IoKX07Zi5nZXRBZE1lc3NhZ2U9ZnVuY3Rpb24oKXt2YXIgYT1jLm1lc3NhZ2UucmVwbGFjZSgveHgvZ2ksIiIrTWF0aC5taW4oYy5kdXJhdGlvbnwwLE1hdGguY2VpbChjLmR1cmF0aW9uLWMucG9zaXRpb24pKSk7Yy5wb2RNZXNzYWdlJiYxPGMucG9kY291bnQmJihhPWMucG9kTWVzc2FnZS5yZXBsYWNlKC9fX0FEX1BPRF9DVVJSRU5UX18vZywiIitjLnNlcXVlbmNlKS5yZXBsYWNlKC9fX0FEX1BPRF9MRU5HVEhfXy9nLCIiK2MucG9kY291bnQpK2EpO3JldHVybiBhfTtmLnNraXBBZD1mdW5jdGlvbihhKXtlKCJza2lwQWQiLHt0YWc6YS50YWd9KX07Zi5jbGlja0FkPWZ1bmN0aW9uKGEpe2s9MSpuZXcgRGF0ZTtlKCJjbGlja0FkIix7dGFnOmEudGFnfSl9O2YudGltZVNpbmNlQ2xpY2s9ZnVuY3Rpb24oKXtyZXR1cm4gMSpuZXcgRGF0ZS1rfX19KHdpbmRvdy5qd3BsYXllciksZnVuY3Rpb24oaCxkKXtmdW5jdGlvbiBtKGEsYil7YVtiXSYmCihhW2JdPWcuZ2V0QWJzb2x1dGVQYXRoKGFbYl0pKX12YXIgaj1kLmNhc3QsZz1kLnV0aWxzLGI9ZC5ldmVudHMsZT1iLnN0YXRlLHA9e307ai5OUz0idXJuOngtY2FzdDpjb20ubG9uZ3RhaWx2aWRlby5qd3BsYXllciI7ai5jb250cm9sbGVyPWZ1bmN0aW9uKGEsZil7dmFyIGMsbjtmdW5jdGlvbiBrKGEpe2E9YS5hdmFpbGFiaWxpdHk9PT1oLmNocm9tZS5jYXN0LlJlY2VpdmVyQXZhaWxhYmlsaXR5LkFWQUlMQUJMRTtNLmF2YWlsYWJsZSE9PWEmJihNLmF2YWlsYWJsZT1hLHUoYi5KV1BMQVlFUl9DQVNUX0FWQUlMQUJMRSkpfWZ1bmN0aW9uIGwoYSl7ai5sb2coImV4aXN0aW5nIHNlc3Npb24iLGEpO3d8fChKPWEuc2Vzc2lvbixKLmFkZE1lc3NhZ2VMaXN0ZW5lcihqLk5TLHIpKX1mdW5jdGlvbiByKGMsZSl7dmFyIGc9SlNPTi5wYXJzZShlKTtpZighZyl0aHJvdyJNZXNzYWdlIG5vdCBwcm9wZXIgSlNPTiI7aWYoZy5yZWNvbmNpbGUpe0oucmVtb3ZlTWVzc2FnZUxpc3RlbmVyKGouTlMsCnIpO3ZhciBoPWcuZGlmZixsPUo7aWYoIWguaWR8fCFnLmFwcGlkfHwhZy5wYWdlVXJsKWguaWQ9ZCgpLmlkLGcuYXBwaWQ9SS5hcHBpZCxnLnBhZ2VVcmw9UCxKPXc9bnVsbDtoLmlkPT09YS5pZCYmKGcuYXBwaWQ9PT1JLmFwcGlkJiZnLnBhZ2VVcmw9PT1QKSYmKHd8fChhLmp3SW5zdHJlYW1TdGF0ZSgpJiZhLmp3SW5zdHJlYW1EZXN0cm95KCEwKSxGKGwpLGYuc2VuZEV2ZW50KGIuSldQTEFZRVJfUExBWUVSX1NUQVRFLHtvbGRzdGF0ZTpoLm9sZHN0YXRlLG5ld3N0YXRlOmgubmV3c3RhdGV9KSksRChnKSk7Sj1udWxsfX1mdW5jdGlvbiB4KGEpe00uYWN0aXZlPSEhYTthPU07dmFyIGM7Yz13JiZ3LnJlY2VpdmVyP3cucmVjZWl2ZXIuZnJpZW5kbHlOYW1lOiIiO2EuZGV2aWNlTmFtZT1jO3UoYi5KV1BMQVlFUl9DQVNUX1NFU1NJT04se30pfWZ1bmN0aW9uIHUoYSl7dmFyIGI9Zy5leHRlbmQoe30sTSk7Zi5zZW5kRXZlbnQoYSxiKX1mdW5jdGlvbiB0KGEpe3ZhciBiPWguY2hyb21lOwphLmNvZGUhPT1iLmNhc3QuRXJyb3JDb2RlLkNBTkNFTCYmKGoubG9nKCJDYXN0IFNlc3Npb24gRXJyb3I6IixhLHcpLGEuY29kZT09PWIuY2FzdC5FcnJvckNvZGUuU0VTU0lPTl9FUlJPUiYmcSgpKX1mdW5jdGlvbiBxKCl7dz8oRygpLHcuc3RvcChBLEUpKTpBKCl9ZnVuY3Rpb24gRShhKXtqLmVycm9yKCJDYXN0IFNlc3Npb24gU3RvcCBlcnJvcjoiLGEsdyk7QSgpfWZ1bmN0aW9uIEYobCl7dz1sO3cuYWRkTWVzc2FnZUxpc3RlbmVyKGouTlMsQik7dy5hZGRVcGRhdGVMaXN0ZW5lcih2KTthLmp3UGF1c2UoITApO2EuandTZXRGdWxsc2NyZWVuKCExKTtOPWYuZ2V0VmlkZW8oKTtjPWYudm9sdW1lO249Zi5tdXRlO0M9bmV3IGoucHJvdmlkZXIoai5OUyx3KTtDLmluaXQoKTtmLnNldFZpZGVvKEMpO2EuandQbGF5PWZ1bmN0aW9uKGEpeyExPT09YT9DLnBhdXNlKCk6Qy5wbGF5KCl9O2EuandQYXVzZT1mdW5jdGlvbihiKXthLmp3UGxheSghIWIpfTthLmp3TG9hZD1mdW5jdGlvbihhKXsibnVtYmVyIj09PQpnLnR5cGVPZihhKSYmZi5zZXRJdGVtKGEpO0MubG9hZChhKX07YS5qd1BsYXlsaXN0SXRlbT1mdW5jdGlvbihhKXsibnVtYmVyIj09PWcudHlwZU9mKGEpJiZmLnNldEl0ZW0oYSk7Qy5wbGF5bGlzdEl0ZW0oYSl9O2EuandQbGF5bGlzdE5leHQ9ZnVuY3Rpb24oKXthLmp3UGxheWxpc3RJdGVtKGYuaXRlbSsxKX07YS5qd1BsYXlsaXN0UHJldj1mdW5jdGlvbigpe2EuandQbGF5bGlzdEl0ZW0oZi5pdGVtLTEpfTthLmp3U2V0Vm9sdW1lPWZ1bmN0aW9uKGEpe2cuZXhpc3RzKGEpJiYoYT1NYXRoLm1pbihNYXRoLm1heCgwLGEpLDEwMCl8MCxMKGEpJiYoYT1NYXRoLm1heCgwLE1hdGgubWluKGEvMTAwLDEpKSx3LnNldFJlY2VpdmVyVm9sdW1lTGV2ZWwoYSx5LGZ1bmN0aW9uKGEpe2ouZXJyb3IoInNldCB2b2x1bWUgZXJyb3IiLGEpO3koKX0pKSl9O2EuandTZXRNdXRlPWZ1bmN0aW9uKGEpe2cuZXhpc3RzKGEpfHwoYT0hSy5tdXRlKTtRKGEpJiZ3LnNldFJlY2VpdmVyTXV0ZWQoISFhLAp5LGZ1bmN0aW9uKGEpe2ouZXJyb3IoInNldCBtdXRlZCBlcnJvciIsYSk7eSgpfSl9O2EuandHZXRWb2x1bWU9ZnVuY3Rpb24oKXtyZXR1cm4gSy52b2x1bWV8MH07YS5qd0dldE11dGU9ZnVuY3Rpb24oKXtyZXR1cm4hIUsubXV0ZX07YS5qd0lzQmVmb3JlUGxheT1mdW5jdGlvbigpe3JldHVybiExfTt2YXIgaz1hLmp3U2V0Q3VycmVudENhcHRpb25zO2EuandTZXRDdXJyZW50Q2FwdGlvbnM9ZnVuY3Rpb24oYSl7ayhhKX07YS5qd1NraXBBZD1mdW5jdGlvbihhKXt6JiYoei5za2lwQWQoYSksYT16LmdldEFkTW9kZWwoKSxhLmNvbXBsZXRlPSEwLGYuc2VuZEV2ZW50KGIuSldQTEFZRVJfQ0FTVF9BRF9DSEFOR0VELGEpKX07YS5qd0NsaWNrQWQ9ZnVuY3Rpb24oYyl7aWYoeiYmMzAwPHoudGltZVNpbmNlQ2xpY2soKSYmKHouY2xpY2tBZChjKSxmLnN0YXRlIT09ZS5QQVVTRUQpKXt2YXIgZz17dGFnOmMudGFnfTtjLnNlcXVlbmNlJiYoZy5zZXF1ZW5jZT1jLnNlcXVlbmNlKTtjLnBvZGNvdW50JiYKKGcucG9kY291bnQ9Yy5wb2Rjb3VudCk7ZChhLmlkKS5kaXNwYXRjaEV2ZW50KGIuSldQTEFZRVJfQURfQ0xJQ0ssZyk7aC5vcGVuKGMuY2xpY2t0aHJvdWdoKX19O2EuandQbGF5QWQ9YS5qd1BhdXNlQWQ9YS5qd1NldENvbnRyb2xzPWEuandGb3JjZVN0YXRlPWEuandSZWxlYXNlU3RhdGU9YS5qd1NldEZ1bGxzY3JlZW49YS5qd0RldGFjaE1lZGlhPWEuandBdHRhY2hNZWRpYT1PO3ZhciBwPWQoYS5pZCkucGx1Z2lucztwLnZhc3QmJnAudmFzdC5qd1BhdXNlQWQhPT1PJiYoUj17andQbGF5QWQ6cC52YXN0Lmp3UGxheUFkLGp3UGF1c2VBZDpwLnZhc3QuandQYXVzZUFkfSxwLnZhc3QuandQbGF5QWQ9cC52YXN0Lmp3UGF1c2VBZD1PKTt5KCk7eCghMCk7bCE9PUomJkMuc2V0dXAoSCgpLGYpfWZ1bmN0aW9uIHYoYSl7ai5sb2coIkNhc3QgU2Vzc2lvbiBzdGF0dXMiLGEpO2E/eSgpOihDLnNlbmRFdmVudChiLkpXUExBWUVSX1BMQVlFUl9TVEFURSx7b2xkc3RhdGU6Zi5zdGF0ZSxuZXdzdGF0ZTplLkJVRkZFUklOR30pLApBKCkpfWZ1bmN0aW9uIEEoKXt3JiYoRygpLHc9bnVsbCk7aWYoTil7ZGVsZXRlIGEuandTa2lwQWQ7ZGVsZXRlIGEuandDbGlja0FkO2EuaW5pdGlhbGl6ZUFQSSgpO3ZhciBqPWQoYS5pZCkucGx1Z2lucztqLnZhc3QmJmcuZXh0ZW5kKGoudmFzdCxSKTtmLnZvbHVtZT1jO2YubXV0ZT1uO2Yuc2V0VmlkZW8oTik7Zi5kdXJhdGlvbj0wO0MmJihDLmRlc3Ryb3koKSxDPW51bGwpO3omJih6LmRlc3Ryb3koKSx6PW51bGwpO2Yuc3RhdGUhPT1lLklETEU/KGYuc3RhdGU9ZS5JRExFLGEuandQbGF5KCEwKSxhLmp3U2VlayhmLnBvc2l0aW9uKSk6Ti5zZW5kRXZlbnQoYi5KV1BMQVlFUl9QTEFZRVJfU1RBVEUse29sZHN0YXRlOmUuQlVGRkVSSU5HLG5ld3N0YXRlOmUuSURMRX0pO049bnVsbH14KCExKX1mdW5jdGlvbiBHKCl7dy5yZW1vdmVVcGRhdGVMaXN0ZW5lcih2KTt3LnJlbW92ZU1lc3NhZ2VMaXN0ZW5lcihqLk5TLEIpfWZ1bmN0aW9uIEIoYSxiKXt2YXIgYz1KU09OLnBhcnNlKGIpOwppZighYyl0aHJvdyJNZXNzYWdlIG5vdCBwcm9wZXIgSlNPTiI7RChjKX1mdW5jdGlvbiBEKGMpe2lmKCJzdGF0ZSI9PT1jLnR5cGUpe2lmKHomJihjLmRpZmYubmV3c3RhdGV8fGMuZGlmZi5wb3NpdGlvbikpei5kZXN0cm95KCksej1udWxsLGYuc2V0VmlkZW8oQyksZi5zZW5kRXZlbnQoYi5KV1BMQVlFUl9DQVNUX0FEX0NIQU5HRUQse2RvbmU6ITB9KTtDLnVwZGF0ZU1vZGVsKGMuZGlmZixjLnR5cGUpO2M9Yy5kaWZmO3ZvaWQgMCE9PWMuaXRlbSYmZi5pdGVtIT09Yy5pdGVtJiYoZi5pdGVtPWMuaXRlbSxmLnNlbmRFdmVudChiLkpXUExBWUVSX1BMQVlMSVNUX0lURU0se2luZGV4OmYuaXRlbX0pKX1lbHNlIGlmKCJhZCI9PT1jLnR5cGUpe251bGw9PT16JiYoej1uZXcgai5hZHByb3ZpZGVyKGouTlMsdyksei5pbml0KCksZi5zZXRWaWRlbyh6KSk7ei51cGRhdGVNb2RlbChjLmRpZmYsYy50eXBlKTt2YXIgZD16LmdldEFkTW9kZWwoKTtjLmRpZmYuY2xpY2t0aHJvdWdoJiYoZC5vbkNsaWNrPQphLmp3Q2xpY2tBZCk7Yy5kaWZmLnNraXBvZmZzZXQmJihkLm9uU2tpcEFkPWEuandTa2lwQWQpO2Yuc2VuZEV2ZW50KGIuSldQTEFZRVJfQ0FTVF9BRF9DSEFOR0VELGQpO2MuZGlmZi5jb21wbGV0ZSYmei5yZXNldEFkTW9kZWwoKX1lbHNlImNvbm5lY3Rpb24iPT09Yy50eXBlPyEwPT09Yy5jbG9zZWQmJnEoKTpqLmVycm9yKCJyZWNlaXZlZCB1bmhhbmRsZWQgbWVzc2FnZSIsYy50eXBlLGMpfWZ1bmN0aW9uIEgoKXt2YXIgYT1nLmV4dGVuZCh7fSxmLmNvbmZpZyk7YS5jYXN0PWcuZXh0ZW5kKHtwYWdlVXJsOlB9LEkpO2Zvcih2YXIgYj0iYmFzZSBhdXRvc3RhcnQgY29udHJvbHMgZmFsbGJhY2sgZnVsbHNjcmVlbiB3aWR0aCBoZWlnaHQgbW9iaWxlY29udHJvbHMgbW9kZXMgcGxheWxpc3RsYXlvdXQgcGxheWxpc3Rwb3NpdGlvbiBwbGF5bGlzdHNpemUgcHJpbWFyeSBzdHJldGNoaW5nIHNoYXJpbmcgcmVsYXRlZCBnYSBza2luIGxvZ28gbGlzdGJhciIuc3BsaXQoIiAiKSxjPWIubGVuZ3RoO2MtLTspZGVsZXRlIGFbYltjXV07CmI9YS5wbHVnaW5zO2RlbGV0ZSBhLnBsdWdpbnM7Zm9yKHZhciBkIGluIGIpaWYoYi5oYXNPd25Qcm9wZXJ0eShkKSl7dmFyIGU9YltkXTtpZihlLmNsaWVudCYmKC9bXC5cL10vLnRlc3QoZS5jbGllbnQpJiZtKGUsImNsaWVudCIpLC0xPGUuY2xpZW50LmluZGV4T2YoInZhc3QiKSkpe2M9YTtlPWcuZXh0ZW5kKHt9LGUpO2UuY2xpZW50PSJ2YXN0IjtkZWxldGUgZS5jb21wYW5pb25kaXY7aWYoZS5zY2hlZHVsZSl7dmFyIGo9dm9pZCAwO2ZvcihqIGluIGUuc2NoZWR1bGUpZS5zY2hlZHVsZS5oYXNPd25Qcm9wZXJ0eShqKSYmbShlLnNjaGVkdWxlW2pdLmFkfHxlLnNjaGVkdWxlW2pdLCJ0YWciKX1tKGUsInRhZyIpO2MuYWR2ZXJ0aXNpbmc9ZX19Zi5wb3NpdGlvbiYmKGEucG9zaXRpb249Zi5wb3NpdGlvbik7MDxmLml0ZW0mJihhLml0ZW09Zi5pdGVtKTtyZXR1cm4gYX1mdW5jdGlvbiB5KCl7aWYodyYmdy5yZWNlaXZlcil7dmFyIGE9dy5yZWNlaXZlci52b2x1bWU7aWYoYSl7dmFyIGI9CjEwMCphLmxldmVsfDA7USghIWEubXV0ZWQpO0woYil9fX1mdW5jdGlvbiBMKGEpe3ZhciBjPUsudm9sdW1lIT09YTtjJiYoSy52b2x1bWU9YSxDLnNlbmRFdmVudChiLkpXUExBWUVSX01FRElBX1ZPTFVNRSx7dm9sdW1lOmF9KSk7cmV0dXJuIGN9ZnVuY3Rpb24gUShhKXt2YXIgYz1LLm11dGUhPT1hO2MmJihLLm11dGU9YSxDLnNlbmRFdmVudChiLkpXUExBWUVSX01FRElBX01VVEUse211dGU6YX0pKTtyZXR1cm4gY31mdW5jdGlvbiBPKCl7fXZhciB3PW51bGwsTT17YXZhaWxhYmxlOiExLGFjdGl2ZTohMSxkZXZpY2VOYW1lOiIifSxLPXt2b2x1bWU6bnVsbCxtdXRlOm51bGx9LFA9aC5sb2NhdGlvbi5ocmVmLEksQz1udWxsLHo9bnVsbCxOPW51bGw7Yz1mLnZvbHVtZTtuPWYubXV0ZTt2YXIgSj1udWxsLFI9bnVsbDtJPWcuZXh0ZW5kKHt9LHAsZi5jYXN0KTttKEksImxvYWRzY3JlZW4iKTttKEksImVuZHNjcmVlbiIpO20oSSwibG9nbyIpO2lmKEkuYXBwaWQmJighaC5jYXN0fHwKIWguY2FzdC5yZWNlaXZlcikpai5sb2FkZXIuYWRkRXZlbnRMaXN0ZW5lcigiYXZhaWxhYmlsaXR5IixrKSxqLmxvYWRlci5hZGRFdmVudExpc3RlbmVyKCJzZXNzaW9uIixsKSxqLmxvYWRlci5pbml0aWFsaXplKCk7dGhpcy5zdGFydENhc3Rpbmc9ZnVuY3Rpb24oKXt3fHxhLmp3SW5zdHJlYW1TdGF0ZSgpfHxoLmNocm9tZS5jYXN0LnJlcXVlc3RTZXNzaW9uKEYsdCl9O3RoaXMuc3RvcENhc3Rpbmc9cX07ai5sb2c9ZnVuY3Rpb24oKXtpZihqLmRlYnVnKXt2YXIgYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7Y29uc29sZS5sb2cuYXBwbHkoY29uc29sZSxhKX19O2ouZXJyb3I9ZnVuY3Rpb24oKXt2YXIgYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7Y29uc29sZS5lcnJvci5hcHBseShjb25zb2xlLGEpfX0od2luZG93LGp3cGxheWVyKSxmdW5jdGlvbihoLGQpe2Z1bmN0aW9uIG0oKXtkJiZkLmNhc3QmJmQuY2FzdC5pc0F2YWlsYWJsZSYmCiFhLmFwaUNvbmZpZz8oYS5hcGlDb25maWc9bmV3IGQuY2FzdC5BcGlDb25maWcobmV3IGQuY2FzdC5TZXNzaW9uUmVxdWVzdChsKSxlLHAsZC5jYXN0LkF1dG9Kb2luUG9saWN5Lk9SSUdJTl9TQ09QRUQpLGQuY2FzdC5pbml0aWFsaXplKGEuYXBpQ29uZmlnLGIsZykpOjE1PmsrKyYmc2V0VGltZW91dChtLDFFMyl9ZnVuY3Rpb24gaigpe24mJihuLnJlc2V0RXZlbnRMaXN0ZW5lcnMoKSxuPW51bGwpfWZ1bmN0aW9uIGcoKXthLmFwaUNvbmZpZz1udWxsfWZ1bmN0aW9uIGIoKXt9ZnVuY3Rpb24gZShiKXthLmxvYWRlci5zZW5kRXZlbnQoInNlc3Npb24iLHtzZXNzaW9uOmJ9KTtiLnNlbmRNZXNzYWdlKGEuTlMse3dob2FtaToxfSl9ZnVuY3Rpb24gcChiKXthLmF2YWlsYWJpbGl0eT1iO2EubG9hZGVyLnNlbmRFdmVudCgiYXZhaWxhYmlsaXR5Iix7YXZhaWxhYmlsaXR5OmJ9KX13aW5kb3cuY2hyb21lPWQ7dmFyIGE9aC5jYXN0LGY9aC51dGlscyxjPWguZXZlbnRzLG4saz0wLGw9IkM3RUYyQUM1IjsKYS5sb2FkZXI9Zi5leHRlbmQoe2luaXRpYWxpemU6ZnVuY3Rpb24oKXtudWxsIT09YS5hdmFpbGFiaWxpdHk/YS5sb2FkZXIuc2VuZEV2ZW50KCJhdmFpbGFiaWxpdHkiLHthdmFpbGFiaWxpdHk6YS5hdmFpbGFiaWxpdHl9KTpkJiZkLmNhc3Q/bSgpOm58fChuPW5ldyBmLnNjcmlwdGxvYWRlcigiaHR0cHM6Ly93d3cuZ3N0YXRpYy5jb20vY3YvanMvc2VuZGVyL3YxL2Nhc3Rfc2VuZGVyLmpzIiksbi5hZGRFdmVudExpc3RlbmVyKGMuRVJST1Isaiksbi5hZGRFdmVudExpc3RlbmVyKGMuQ09NUExFVEUsbSksbi5sb2FkKCkpfX0sbmV3IGMuZXZlbnRkaXNwYXRjaGVyKCJjYXN0LmxvYWRlciIpKTthLmF2YWlsYWJpbGl0eT1udWxsfSh3aW5kb3cuandwbGF5ZXIsd2luZG93LmNocm9tZXx8e30pLGZ1bmN0aW9uKGgpe2Z1bmN0aW9uIGQoYil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGJ9fWZ1bmN0aW9uIG0oKXt9dmFyIGo9aC5jYXN0LGc9aC51dGlscyxiPWguZXZlbnRzLGU9Yi5zdGF0ZTsKai5wcm92aWRlcj1mdW5jdGlvbihoLGEpe2Z1bmN0aW9uIGYoYixjKXt2YXIgZD17Y29tbWFuZDpifTt2b2lkIDAhPT1jJiYoZC5hcmdzPWMpO2Euc2VuZE1lc3NhZ2UoaCxkLG0sZnVuY3Rpb24oYSl7ai5lcnJvcigibWVzc2FnZSBzZW5kIGVycm9yIixhKX0pfWZ1bmN0aW9uIGMoYSl7bC5vbGRzdGF0ZT1sLm5ld3N0YXRlO2wubmV3c3RhdGU9YTtuLnNlbmRFdmVudChiLkpXUExBWUVSX1BMQVlFUl9TVEFURSx7b2xkc3RhdGU6bC5vbGRzdGF0ZSxuZXdzdGF0ZTpsLm5ld3N0YXRlfSl9dmFyIG49Zy5leHRlbmQodGhpcyxuZXcgYi5ldmVudGRpc3BhdGNoZXIoImNhc3QucHJvdmlkZXIiKSksaz0tMSxsPXtuZXdzdGF0ZTplLklETEUsb2xkc3RhdGU6ZS5JRExFLGJ1ZmZlcjowLHBvc2l0aW9uOjAsZHVyYXRpb246LTEsYXVkaW9Nb2RlOiExfTtuLmlzQ2FzdGVyPSEwO24uaW5pdD1mdW5jdGlvbigpe307bi5kZXN0cm95PWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGspO2E9bnVsbH07Cm4udXBkYXRlTW9kZWw9ZnVuY3Rpb24oYSxjKXthLm5ld3N0YXRlJiYobC5uZXdzdGF0ZT1hLm5ld3N0YXRlLGwub2xkc3RhdGU9YS5vbGRzdGF0ZXx8bC5vbGRzdGF0ZSxuLnNlbmRFdmVudChiLkpXUExBWUVSX1BMQVlFUl9TVEFURSx7b2xkc3RhdGU6bC5vbGRzdGF0ZSxuZXdzdGF0ZTpsLm5ld3N0YXRlfSkpO2lmKCJhZCIhPT1jKXtpZih2b2lkIDAhPT1hLnBvc2l0aW9ufHx2b2lkIDAhPT1hLmR1cmF0aW9uKXZvaWQgMCE9PWEucG9zaXRpb24mJihsLnBvc2l0aW9uPWEucG9zaXRpb24pLHZvaWQgMCE9PWEuZHVyYXRpb24mJihsLmR1cmF0aW9uPWEuZHVyYXRpb24pLG4uc2VuZEV2ZW50KGIuSldQTEFZRVJfTUVESUFfVElNRSx7cG9zaXRpb246bC5wb3NpdGlvbixkdXJhdGlvbjpsLmR1cmF0aW9ufSk7dm9pZCAwIT09YS5idWZmZXImJihsLmJ1ZmZlcj1hLmJ1ZmZlcixuLnNlbmRFdmVudChiLkpXUExBWUVSX01FRElBX0JVRkZFUix7YnVmZmVyUGVyY2VudDpsLmJ1ZmZlcn0pKX19OwpuLnN1cHBvcnRzRnVsbHNjcmVlbj1mdW5jdGlvbigpe3JldHVybiExfTtuLnNldHVwPWZ1bmN0aW9uKGEsYil7Yi5zdGF0ZSYmKGwubmV3c3RhdGU9Yi5zdGF0ZSk7dm9pZCAwIT09Yi5idWZmZXImJihsLmJ1ZmZlcj1iLmJ1ZmZlcik7dm9pZCAwIT09YS5wb3NpdGlvbiYmKGwucG9zaXRpb249YS5wb3NpdGlvbik7dm9pZCAwIT09YS5kdXJhdGlvbiYmKGwuZHVyYXRpb249YS5kdXJhdGlvbik7YyhlLkJVRkZFUklORyk7Zigic2V0dXAiLGEpfTtuLnBsYXlsaXN0SXRlbT1mdW5jdGlvbihhKXtjKGUuQlVGRkVSSU5HKTtmKCJpdGVtIixhKX07bi5sb2FkPWZ1bmN0aW9uKGEpe2MoZS5CVUZGRVJJTkcpO2YoImxvYWQiLGEpfTtuLnN0b3A9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoayk7az1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YyhlLklETEUpO2YoInN0b3AiKX0sMCl9O24ucGxheT1mdW5jdGlvbigpe2YoInBsYXkiKX07bi5wYXVzZT1mdW5jdGlvbigpe2MoZS5QQVVTRUQpO2YoInBhdXNlIil9OwpuLnNlZWs9ZnVuY3Rpb24oYSl7YyhlLkJVRkZFUklORyk7bi5zZW5kRXZlbnQoYi5KV1BMQVlFUl9NRURJQV9TRUVLLHtwb3NpdGlvbjpsLnBvc2l0aW9uLG9mZnNldDphfSk7Zigic2VlayIsYSl9O24uYXVkaW9Nb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIGwuYXVkaW9Nb2RlfTtuLmRldGFjaE1lZGlhPWZ1bmN0aW9uKCl7ai5lcnJvcigiZGV0YWNoTWVkaWEgY2FsbGVkIHdoaWxlIGNhc3RpbmciKTtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidmlkZW8iKX07bi5hdHRhY2hNZWRpYT1mdW5jdGlvbigpe2ouZXJyb3IoImF0dGFjaE1lZGlhIGNhbGxlZCB3aGlsZSBjYXN0aW5nIil9O3ZhciByO24uc2V0Q29udGFpbmVyPWZ1bmN0aW9uKGEpe3I9YX07bi5nZXRDb250YWluZXI9ZnVuY3Rpb24oKXtyZXR1cm4gcn07bi52b2x1bWU9bi5tdXRlPW4uc2V0Q29udHJvbHM9bi5zZXRDdXJyZW50UXVhbGl0eT1uLnJlbW92ZT1uLnJlc2l6ZT1uLnNlZWtEcmFnPW4uYWRkQ2FwdGlvbnM9Cm4ucmVzZXRDYXB0aW9ucz1uLnNldFZpc2liaWxpdHk9bi5mc0NhcHRpb25zPW07bi5zZXRGdWxsU2NyZWVuPW4uZ2V0RnVsbFNjcmVlbj1uLmNoZWNrQ29tcGxldGU9ZCghMSk7bi5nZXRXaWR0aD1uLmdldEhlaWdodD1uLmdldEN1cnJlbnRRdWFsaXR5PWQoMCk7bi5nZXRRdWFsaXR5TGV2ZWxzPWQoWyJBdXRvIl0pfX0od2luZG93Lmp3cGxheWVyKSxmdW5jdGlvbihoKXtmdW5jdGlvbiBkKGEsYil7ai5mb3JlYWNoKGIsZnVuY3Rpb24oYixjKXt2YXIgZD1hW2JdOyJmdW5jdGlvbiI9PXR5cGVvZiBkJiZkLmNhbGwoYSxjKX0pfWZ1bmN0aW9uIG0oYSxiLGQpe3ZhciBlPWEuc3R5bGU7ZS5iYWNrZ3JvdW5kQ29sb3I9IiMwMDAiO2UuY29sb3I9IiNGRkYiO2Uud2lkdGg9ai5zdHlsZURpbWVuc2lvbihkLndpZHRoKTtlLmhlaWdodD1qLnN0eWxlRGltZW5zaW9uKGQuaGVpZ2h0KTtlLmRpc3BsYXk9InRhYmxlIjtlLm9wYWNpdHk9MTtkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKTsKZT1kLnN0eWxlO2UudmVydGljYWxBbGlnbj0ibWlkZGxlIjtlLnRleHRBbGlnbj0iY2VudGVyIjtlLmRpc3BsYXk9InRhYmxlLWNlbGwiO2UuZm9udD0iMTVweC8yMHB4IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWYiO2QuaW5uZXJIVE1MPWIucmVwbGFjZSgiOiIsIjpceDNjYnJceDNlIik7YS5pbm5lckhUTUw9IiI7YS5hcHBlbmRDaGlsZChkKX12YXIgaj1oLnV0aWxzLGc9aC5ldmVudHMsYj0hMCxlPSExLHA9ZG9jdW1lbnQsYT1oLmVtYmVkPWZ1bmN0aW9uKGYpe2Z1bmN0aW9uIGMoKXtpZighQilpZigiYXJyYXkiPT09ai50eXBlT2YodS5wbGF5bGlzdCkmJjI+dS5wbGF5bGlzdC5sZW5ndGgmJigwPT09dS5wbGF5bGlzdC5sZW5ndGh8fCF1LnBsYXlsaXN0WzBdLnNvdXJjZXN8fDA9PT11LnBsYXlsaXN0WzBdLnNvdXJjZXMubGVuZ3RoKSlsKCk7ZWxzZSBpZighRylpZigic3RyaW5nIj09PWoudHlwZU9mKHUucGxheWxpc3QpKUE9bmV3IGgucGxheWxpc3QubG9hZGVyLEEuYWRkRXZlbnRMaXN0ZW5lcihnLkpXUExBWUVSX1BMQVlMSVNUX0xPQURFRCwKZnVuY3Rpb24oYSl7dS5wbGF5bGlzdD1hLnBsYXlsaXN0O0c9ZTtjKCl9KSxBLmFkZEV2ZW50TGlzdGVuZXIoZy5KV1BMQVlFUl9FUlJPUixmdW5jdGlvbihhKXtHPWU7bChhKX0pLEc9YixBLmxvYWQodS5wbGF5bGlzdCk7ZWxzZSBpZih2LmdldFN0YXR1cygpPT1qLmxvYWRlcnN0YXR1cy5DT01QTEVURSl7Zm9yKHZhciBrPTA7azx1Lm1vZGVzLmxlbmd0aDtrKyspaWYodS5tb2Rlc1trXS50eXBlJiZhW3UubW9kZXNba10udHlwZV0pe3ZhciBwPWouZXh0ZW5kKHt9LHUpLG09bmV3IGFbdS5tb2Rlc1trXS50eXBlXSh5LHUubW9kZXNba10scCx2LGYpO2lmKG0uc3VwcG9ydHNDb25maWcoKSlyZXR1cm4gbS5hZGRFdmVudExpc3RlbmVyKGcuRVJST1IsbiksbS5lbWJlZCgpLGouY3NzKCJvYmplY3Quandzd2YsIC5qd3BsYXllcjpmb2N1cyIse291dGxpbmU6Im5vbmUifSksai5jc3MoIi5qdy10YWItZm9jdXM6Zm9jdXMiLHtvdXRsaW5lOiJzb2xpZCAycHggIzBCN0VGNCJ9KSxkKGYsCnAuZXZlbnRzKSxmfXZhciBxO3UuZmFsbGJhY2s/KHE9Ik5vIHN1aXRhYmxlIHBsYXllcnMgZm91bmQgYW5kIGZhbGxiYWNrIGVuYWJsZWQiLEQ9c2V0VGltZW91dChmdW5jdGlvbigpe3IocSxiKX0sMTApLGoubG9nKHEpLG5ldyBhLmRvd25sb2FkKHksdSxsKSk6KHE9Ik5vIHN1aXRhYmxlIHBsYXllcnMgZm91bmQgYW5kIGZhbGxiYWNrIGRpc2FibGVkIixyKHEsZSksai5sb2cocSkseS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChILHkpKX19ZnVuY3Rpb24gbihhKXt4KEUrYS5tZXNzYWdlKX1mdW5jdGlvbiBrKGEpe2YuZGlzcGF0Y2hFdmVudChnLkpXUExBWUVSX0VSUk9SLHttZXNzYWdlOiJDb3VsZCBub3QgbG9hZCBwbHVnaW46ICIrYS5tZXNzYWdlfSl9ZnVuY3Rpb24gbChhKXthJiZhLm1lc3NhZ2U/eCgiRXJyb3IgbG9hZGluZyBwbGF5bGlzdDogIithLm1lc3NhZ2UpOngoRSsiTm8gcGxheWFibGUgc291cmNlcyBmb3VuZCIpfWZ1bmN0aW9uIHIoYSxiKXtEJiYoY2xlYXJUaW1lb3V0KEQpLApEPW51bGwpO0Q9c2V0VGltZW91dChmdW5jdGlvbigpe0Q9bnVsbDtmLmRpc3BhdGNoRXZlbnQoZy5KV1BMQVlFUl9TRVRVUF9FUlJPUix7bWVzc2FnZTphLGZhbGxiYWNrOmJ9KX0sMCl9ZnVuY3Rpb24geChhKXtCfHwodS5mYWxsYmFjaz8oQj1iLG0oeSxhLHUpLHIoYSxiKSk6cihhLGUpKX12YXIgdT1uZXcgYS5jb25maWcoZi5jb25maWcpLHQ9dS53aWR0aCxxPXUuaGVpZ2h0LEU9IkVycm9yIGxvYWRpbmcgcGxheWVyOiAiLEY9cC5nZXRFbGVtZW50QnlJZChmLmlkKSx2PWgucGx1Z2lucy5sb2FkUGx1Z2lucyhmLmlkLHUucGx1Z2lucyksQSxHPWUsQj1lLEQ9bnVsbCxIPW51bGw7dS5mYWxsYmFja0RpdiYmKEg9dS5mYWxsYmFja0RpdixkZWxldGUgdS5mYWxsYmFja0Rpdik7dS5pZD1mLmlkO3UuYXNwZWN0cmF0aW8/Zi5jb25maWcuYXNwZWN0cmF0aW89dS5hc3BlY3RyYXRpbzpkZWxldGUgZi5jb25maWcuYXNwZWN0cmF0aW87dmFyIHk9cC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKeS5pZD1GLmlkO3kuc3R5bGUud2lkdGg9MDx0LnRvU3RyaW5nKCkuaW5kZXhPZigiJSIpP3Q6dCsicHgiO3kuc3R5bGUuaGVpZ2h0PTA8cS50b1N0cmluZygpLmluZGV4T2YoIiUiKT9xOnErInB4IjtGLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHksRik7dGhpcy5lbWJlZD1mdW5jdGlvbigpe0J8fCh2LmFkZEV2ZW50TGlzdGVuZXIoZy5DT01QTEVURSxjKSx2LmFkZEV2ZW50TGlzdGVuZXIoZy5FUlJPUixrKSx2LmxvYWQoKSl9O3RoaXMuZGVzdHJveT1mdW5jdGlvbigpe3YmJih2LmRlc3Ryb3koKSx2PW51bGwpO0EmJihBLnJlc2V0RXZlbnRMaXN0ZW5lcnMoKSxBPW51bGwpfTt0aGlzLmVycm9yU2NyZWVuPXg7cmV0dXJuIHRoaXN9O2guZW1iZWQuZXJyb3JTY3JlZW49bX0oandwbGF5ZXIpLGZ1bmN0aW9uKGgpe2Z1bmN0aW9uIGQoYil7aWYoYi5wbGF5bGlzdClmb3IodmFyIGQ9MDtkPGIucGxheWxpc3QubGVuZ3RoO2QrKyliLnBsYXlsaXN0W2RdPW5ldyBnKGIucGxheWxpc3RbZF0pOwplbHNle3ZhciBoPXt9O2ouZm9yZWFjaChnLmRlZmF1bHRzLGZ1bmN0aW9uKGEpe20oYixoLGEpfSk7aC5zb3VyY2VzfHwoYi5sZXZlbHM/KGguc291cmNlcz1iLmxldmVscyxkZWxldGUgYi5sZXZlbHMpOihkPXt9LG0oYixkLCJmaWxlIiksbShiLGQsInR5cGUiKSxoLnNvdXJjZXM9ZC5maWxlP1tkXTpbXSkpO2IucGxheWxpc3Q9W25ldyBnKGgpXX19ZnVuY3Rpb24gbShiLGQsZyl7ai5leGlzdHMoYltnXSkmJihkW2ddPWJbZ10sZGVsZXRlIGJbZ10pfXZhciBqPWgudXRpbHMsZz1oLnBsYXlsaXN0Lml0ZW07KGguZW1iZWQuY29uZmlnPWZ1bmN0aW9uKGIpe3ZhciBlPXtmYWxsYmFjazohMCxoZWlnaHQ6MjcwLHByaW1hcnk6Imh0bWw1Iix3aWR0aDo0ODAsYmFzZTpiLmJhc2U/Yi5iYXNlOmouZ2V0U2NyaXB0UGF0aCgiandwbGF5ZXIuanMiKSxhc3BlY3RyYXRpbzoiIn07Yj1qLmV4dGVuZChlLGguZGVmYXVsdHMsYik7dmFyIGU9e3R5cGU6Imh0bWw1IixzcmM6Yi5iYXNlKyJqd3BsYXllci5odG1sNS5qcyJ9LApnPXt0eXBlOiJmbGFzaCIsc3JjOmIuYmFzZSsiandwbGF5ZXIuZmxhc2guc3dmIn07Yi5tb2Rlcz0iZmxhc2giPT1iLnByaW1hcnk/W2csZV06W2UsZ107Yi5saXN0YmFyJiYoYi5wbGF5bGlzdHNpemU9Yi5saXN0YmFyLnNpemUsYi5wbGF5bGlzdHBvc2l0aW9uPWIubGlzdGJhci5wb3NpdGlvbixiLnBsYXlsaXN0bGF5b3V0PWIubGlzdGJhci5sYXlvdXQpO2IuZmxhc2hwbGF5ZXImJihnLnNyYz1iLmZsYXNocGxheWVyKTtiLmh0bWw1cGxheWVyJiYoZS5zcmM9Yi5odG1sNXBsYXllcik7ZChiKTtnPWIuYXNwZWN0cmF0aW87aWYoInN0cmluZyIhPXR5cGVvZiBnfHwhai5leGlzdHMoZykpZT0wO2Vsc2V7dmFyIGE9Zy5pbmRleE9mKCI6Iik7LTE9PWE/ZT0wOihlPXBhcnNlRmxvYXQoZy5zdWJzdHIoMCxhKSksZz1wYXJzZUZsb2F0KGcuc3Vic3RyKGErMSkpLGU9MD49ZXx8MD49Zz8wOjEwMCooZy9lKSsiJSIpfS0xPT1iLndpZHRoLnRvU3RyaW5nKCkuaW5kZXhPZigiJSIpP2RlbGV0ZSBiLmFzcGVjdHJhdGlvOgplP2IuYXNwZWN0cmF0aW89ZTpkZWxldGUgYi5hc3BlY3RyYXRpbztyZXR1cm4gYn0pLmFkZENvbmZpZz1mdW5jdGlvbihiLGUpe2QoZSk7cmV0dXJuIGouZXh0ZW5kKGIsZSl9fShqd3BsYXllciksZnVuY3Rpb24oaCl7dmFyIGQ9aC51dGlscyxtPWRvY3VtZW50O2guZW1iZWQuZG93bmxvYWQ9ZnVuY3Rpb24oaixnLGIpe2Z1bmN0aW9uIGUoYSxiKXtmb3IodmFyIGM9bS5xdWVyeVNlbGVjdG9yQWxsKGEpLGU9MDtlPGMubGVuZ3RoO2UrKylkLmZvcmVhY2goYixmdW5jdGlvbihhLGIpe2NbZV0uc3R5bGVbYV09Yn0pfWZ1bmN0aW9uIGgoYSxiLGMpe2E9bS5jcmVhdGVFbGVtZW50KGEpO2ImJihhLmNsYXNzTmFtZT0iandkb3dubG9hZCIrYik7YyYmYy5hcHBlbmRDaGlsZChhKTtyZXR1cm4gYX12YXIgYT1kLmV4dGVuZCh7fSxnKSxmPWEud2lkdGg/YS53aWR0aDo0ODAsYz1hLmhlaWdodD9hLmhlaWdodDozMjAsbjtnPWcubG9nbz9nLmxvZ286e3ByZWZpeDpkLnJlcG8oKSxmaWxlOiJsb2dvLnBuZyIsCm1hcmdpbjoxMH07dmFyIGssbCxyLGE9YS5wbGF5bGlzdCx4LHU9WyJtcDQiLCJhYWMiLCJtcDMiXTtpZihhJiZhLmxlbmd0aCl7eD1hWzBdO249eC5zb3VyY2VzO2ZvcihhPTA7YTxuLmxlbmd0aDthKyspe3ZhciB0PW5bYV0scT10LnR5cGU/dC50eXBlOmQuZXh0ZW5zaW9ubWFwLmV4dFR5cGUoZC5leHRlbnNpb24odC5maWxlKSk7dC5maWxlJiZkLmZvcmVhY2godSxmdW5jdGlvbihhKXtxPT11W2FdPyhrPXQuZmlsZSxsPXguaW1hZ2UpOmQuaXNZb3VUdWJlKHQuZmlsZSkmJihyPXQuZmlsZSl9KX1rPyhuPWssYj1sLGomJihhPWgoImEiLCJkaXNwbGF5IixqKSxoKCJkaXYiLCJpY29uIixhKSxoKCJkaXYiLCJsb2dvIixhKSxuJiZhLnNldEF0dHJpYnV0ZSgiaHJlZiIsZC5nZXRBYnNvbHV0ZVBhdGgobikpKSxhPSIjIitqLmlkKyIgLmp3ZG93bmxvYWQiLGouc3R5bGUud2lkdGg9IiIsai5zdHlsZS5oZWlnaHQ9IiIsZShhKyJkaXNwbGF5Iix7d2lkdGg6ZC5zdHlsZURpbWVuc2lvbihNYXRoLm1heCgzMjAsCmYpKSxoZWlnaHQ6ZC5zdHlsZURpbWVuc2lvbihNYXRoLm1heCgxODAsYykpLGJhY2tncm91bmQ6ImJsYWNrIGNlbnRlciBuby1yZXBlYXQgIisoYj8idXJsKCIrYisiKSI6IiIpLGJhY2tncm91bmRTaXplOiJjb250YWluIixwb3NpdGlvbjoicmVsYXRpdmUiLGJvcmRlcjoibm9uZSIsZGlzcGxheToiYmxvY2sifSksZShhKyJkaXNwbGF5IGRpdiIse3Bvc2l0aW9uOiJhYnNvbHV0ZSIsd2lkdGg6IjEwMCUiLGhlaWdodDoiMTAwJSJ9KSxlKGErImxvZ28iLHt0b3A6Zy5tYXJnaW4rInB4IixyaWdodDpnLm1hcmdpbisicHgiLGJhY2tncm91bmQ6InRvcCByaWdodCBuby1yZXBlYXQgdXJsKCIrZy5wcmVmaXgrZy5maWxlKyIpIn0pLGUoYSsiaWNvbiIse2JhY2tncm91bmQ6ImNlbnRlciBuby1yZXBlYXQgdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRHdBQUFBOENBWUFBQUE2L05seUFBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBZ05KUkVGVWVOcnMyOGxxd2tBWUIvQ1pxTlZERGoycjZGTjQxUWVJeThGZStnajZCTDI3NVEwOHU5RmJUOFpkd1Zmb3RTQllFUFVreEZPb2tzNEVLaUpkYUR1VGpNbjN3V0JPMFYvK3N5U1I4U05TcVZSS0lSOHFhWEhremxxUzlqQ2Z6eldjVENZcDloRjVvKzU5c1Zqc2lSemNlZ1Nja0Z6Y2pUK3J1TjgwVGVTbEFqQ0FBWHpkSlNHUEZYUnBBQU1Zd0FDR1pRa1NkaEc0V0N6ZWhNTmhxVjZ2RzZ2VlNyaXJLVkV3NjZZb1NxRGI3Y3FsVWlsRThKakhkL3kxTVFlZlZ6cWREbWlhSnBmTFpXSGdYTUhuOEY2dkoxY3FsVkFrRXNHdUFuODNKNGdBZDJSWnltUXlnWDYvTDFlclZRdCs5WlBXYitDRHdjQ0MyelhHSmFld2wvRGhjSGhLM0RWaitLZktack1XdkZhcmNZTkxvbUF2NGFQUlNGWlZsVGxjU1BBNWZEd2VXL0JvTklxRm5LVjUzSnZuY2prTG5zL24vY0xkUys5Mk83UllMTGdzS2Z2OS90OFhsRG40ZUR5aXcrSEE5Snl6MmV5dDAra1kyKzNXRkM1aGx1ZWowSGE3elFRcTlQUHdkRHExRXQxc05zeC9uRkJnQ3FXSjhvQUsxYVVwdE5WcWNZV2V3RTRuYWhmVTBZUW5rNG50VUVmR01JVTJtMDFIb0xhQ0tiVFJhRGdLdGFWTGs5dEJZYUJjRS82QXJ0ZHI0Ulo1VEI2L2RDKzlpSWUvV2dBTVlBRERwQVVKQXhqQUFBWXdnR0ZaZ29TL0F0Tk5URjdaMmJMMEJZUEJWM0p3NXhGd3dXY1l4Z3RCUDVPa0U4aTlHN2FXR09PQ3J1dmF1d0FEQUxNTE1FYktmNFNkQUFBQUFFbEZUa1N1UW1DQykifSkpOgpyPyhnPXIsaj1oKCJpZnJhbWUiLCIiLGopLGouc3JjPSJodHRwOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLyIrZC55b3VUdWJlSUQoZyksai53aWR0aD1mLGouaGVpZ2h0PWMsai5zdHlsZS5ib3JkZXI9Im5vbmUiKTpiKCl9fX0oandwbGF5ZXIpLGZ1bmN0aW9uKGgpe3ZhciBkPWgudXRpbHMsbT1oLmV2ZW50cyxqPXt9OyhoLmVtYmVkLmZsYXNoPWZ1bmN0aW9uKGIsZSxwLGEsZil7ZnVuY3Rpb24gYyhhLGIsYyl7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicGFyYW0iKTtkLnNldEF0dHJpYnV0ZSgibmFtZSIsYik7ZC5zZXRBdHRyaWJ1dGUoInZhbHVlIixjKTthLmFwcGVuZENoaWxkKGQpfWZ1bmN0aW9uIG4oYSxiLGMpe3JldHVybiBmdW5jdGlvbigpe3RyeXtjJiZkb2N1bWVudC5nZXRFbGVtZW50QnlJZChmLmlkKyJfd3JhcHBlciIpLmFwcGVuZENoaWxkKGIpO3ZhciBkPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGYuaWQpLmdldFBsdWdpbkNvbmZpZygiZGlzcGxheSIpOwoiZnVuY3Rpb24iPT10eXBlb2YgYS5yZXNpemUmJmEucmVzaXplKGQud2lkdGgsZC5oZWlnaHQpO2Iuc3R5bGUubGVmdD1kLng7Yi5zdHlsZS50b3A9ZC5ofWNhdGNoKGUpe319fWZ1bmN0aW9uIGsoYSl7aWYoIWEpcmV0dXJue307dmFyIGI9e30sYz1bXTtkLmZvcmVhY2goYSxmdW5jdGlvbihhLGUpe3ZhciBmPWQuZ2V0UGx1Z2luTmFtZShhKTtjLnB1c2goYSk7ZC5mb3JlYWNoKGUsZnVuY3Rpb24oYSxjKXtiW2YrIi4iK2FdPWN9KX0pO2IucGx1Z2lucz1jLmpvaW4oIiwiKTtyZXR1cm4gYn12YXIgbD1uZXcgaC5ldmVudHMuZXZlbnRkaXNwYXRjaGVyLHI9ZC5mbGFzaFZlcnNpb24oKTtkLmV4dGVuZCh0aGlzLGwpO3RoaXMuZW1iZWQ9ZnVuY3Rpb24oKXtwLmlkPWYuaWQ7aWYoMTA+cilyZXR1cm4gbC5zZW5kRXZlbnQobS5FUlJPUix7bWVzc2FnZToiRmxhc2ggdmVyc2lvbiBtdXN0IGJlIDEwLjAgb3IgZ3JlYXRlciJ9KSwhMTt2YXIgZyxoLHQ9Zi5jb25maWcubGlzdGJhcixxPWQuZXh0ZW5kKHt9LApwKTtpZihiLmlkKyJfd3JhcHBlciI9PWIucGFyZW50Tm9kZS5pZClnPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGIuaWQrIl93cmFwcGVyIik7ZWxzZXtnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2g9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7aC5zdHlsZS5kaXNwbGF5PSJub25lIjtoLmlkPWIuaWQrIl9hc3BlY3QiO2cuaWQ9Yi5pZCsiX3dyYXBwZXIiO2cuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIjtnLnN0eWxlLmRpc3BsYXk9ImJsb2NrIjtnLnN0eWxlLndpZHRoPWQuc3R5bGVEaW1lbnNpb24ocS53aWR0aCk7Zy5zdHlsZS5oZWlnaHQ9ZC5zdHlsZURpbWVuc2lvbihxLmhlaWdodCk7aWYoZi5jb25maWcuYXNwZWN0cmF0aW8pe3ZhciBFPXBhcnNlRmxvYXQoZi5jb25maWcuYXNwZWN0cmF0aW8pO2guc3R5bGUuZGlzcGxheT0iYmxvY2siO2guc3R5bGUubWFyZ2luVG9wPWYuY29uZmlnLmFzcGVjdHJhdGlvO2cuc3R5bGUuaGVpZ2h0PSJhdXRvIjtnLnN0eWxlLmRpc3BsYXk9CiJpbmxpbmUtYmxvY2siO3QmJigiYm90dG9tIj09dC5wb3NpdGlvbj9oLnN0eWxlLnBhZGRpbmdCb3R0b209dC5zaXplKyJweCI6InJpZ2h0Ij09dC5wb3NpdGlvbiYmKGguc3R5bGUubWFyZ2luQm90dG9tPS0xKnQuc2l6ZSooRS8xMDApKyJweCIpKX1iLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGcsYik7Zy5hcHBlbmRDaGlsZChiKTtnLmFwcGVuZENoaWxkKGgpfWc9YS5zZXR1cFBsdWdpbnMoZixxLG4pOzA8Zy5sZW5ndGg/ZC5leHRlbmQocSxrKGcucGx1Z2lucykpOmRlbGV0ZSBxLnBsdWdpbnM7InVuZGVmaW5lZCIhPXR5cGVvZiBxWyJkb2NrLnBvc2l0aW9uIl0mJiJmYWxzZSI9PXFbImRvY2sucG9zaXRpb24iXS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkmJihxLmRvY2s9cVsiZG9jay5wb3NpdGlvbiJdLGRlbGV0ZSBxWyJkb2NrLnBvc2l0aW9uIl0pO2c9cS53bW9kZT9xLndtb2RlOnEuaGVpZ2h0JiY0MD49cS5oZWlnaHQ/InRyYW5zcGFyZW50Ijoib3BhcXVlIjtoPSJoZWlnaHQgd2lkdGggbW9kZXMgZXZlbnRzIHByaW1hcnkgYmFzZSBmYWxsYmFjayB2b2x1bWUiLnNwbGl0KCIgIik7CmZvcih0PTA7dDxoLmxlbmd0aDt0KyspZGVsZXRlIHFbaFt0XV07aD1kLmdldENvb2tpZXMoKTtkLmZvcmVhY2goaCxmdW5jdGlvbihhLGIpeyJ1bmRlZmluZWQiPT10eXBlb2YgcVthXSYmKHFbYV09Yil9KTtoPXdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KCIvIik7aC5zcGxpY2UoaC5sZW5ndGgtMSwxKTtoPWguam9pbigiLyIpO3EuYmFzZT1oKyIvIjtqW2IuaWRdPXE7ZC5pc01TSUUoKT8oaD0nXHgzY29iamVjdCBjbGFzc2lkXHgzZCJjbHNpZDpEMjdDREI2RS1BRTZELTExY2YtOTZCOC00NDQ1NTM1NDAwMDAiICIgd2lkdGhceDNkIjEwMCUiIGhlaWdodFx4M2QiMTAwJSJpZFx4M2QiJytiLmlkKyciIG5hbWVceDNkIicrYi5pZCsnIiB0YWJpbmRleFx4M2QwIiJceDNlJyxoKz0nXHgzY3BhcmFtIG5hbWVceDNkIm1vdmllIiB2YWx1ZVx4M2QiJytlLnNyYysnIlx4M2UnLGgrPSdceDNjcGFyYW0gbmFtZVx4M2QiYWxsb3dmdWxsc2NyZWVuIiB2YWx1ZVx4M2QidHJ1ZSJceDNlXHgzY3BhcmFtIG5hbWVceDNkImFsbG93c2NyaXB0YWNjZXNzIiB2YWx1ZVx4M2QiYWx3YXlzIlx4M2UnLApoKz0nXHgzY3BhcmFtIG5hbWVceDNkInNlYW1sZXNzdGFiYmluZyIgdmFsdWVceDNkInRydWUiXHgzZScsaCs9J1x4M2NwYXJhbSBuYW1lXHgzZCJ3bW9kZSIgdmFsdWVceDNkIicrZysnIlx4M2UnLGgrPSdceDNjcGFyYW0gbmFtZVx4M2QiYmdjb2xvciIgdmFsdWVceDNkIiMwMDAwMDAiXHgzZScsaCs9Ilx4M2Mvb2JqZWN0XHgzZSIsYi5vdXRlckhUTUw9aCxnPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGIuaWQpKTooaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvYmplY3QiKSxoLnNldEF0dHJpYnV0ZSgidHlwZSIsImFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoIiksaC5zZXRBdHRyaWJ1dGUoImRhdGEiLGUuc3JjKSxoLnNldEF0dHJpYnV0ZSgid2lkdGgiLCIxMDAlIiksaC5zZXRBdHRyaWJ1dGUoImhlaWdodCIsIjEwMCUiKSxoLnNldEF0dHJpYnV0ZSgiYmdjb2xvciIsIiMwMDAwMDAiKSxoLnNldEF0dHJpYnV0ZSgiaWQiLGIuaWQpLGguc2V0QXR0cmlidXRlKCJuYW1lIiwKYi5pZCksaC5jbGFzc05hbWU9Imp3c3dmIixjKGgsImFsbG93ZnVsbHNjcmVlbiIsInRydWUiKSxjKGgsImFsbG93c2NyaXB0YWNjZXNzIiwiYWx3YXlzIiksYyhoLCJzZWFtbGVzc3RhYmJpbmciLCJ0cnVlIiksYyhoLCJ3bW9kZSIsZyksYi5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChoLGIpLGc9aCk7Zi5jb25maWcuYXNwZWN0cmF0aW8mJihnLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIpO2YuY29udGFpbmVyPWc7Zi5zZXRQbGF5ZXIoZywiZmxhc2giKX07dGhpcy5zdXBwb3J0c0NvbmZpZz1mdW5jdGlvbigpe2lmKHIpaWYocCl7aWYoInN0cmluZyI9PWQudHlwZU9mKHAucGxheWxpc3QpKXJldHVybiEwO3RyeXt2YXIgYT1wLnBsYXlsaXN0WzBdLnNvdXJjZXM7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBhKXJldHVybiEwO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWlmKGFbYl0uZmlsZSYmZyhhW2JdLmZpbGUsYVtiXS50eXBlKSlyZXR1cm4hMH1jYXRjaChjKXt9fWVsc2UgcmV0dXJuITA7CnJldHVybiExfX0pLmdldFZhcnM9ZnVuY3Rpb24oYil7cmV0dXJuIGpbYl19O3ZhciBnPWguZW1iZWQuZmxhc2hDYW5QbGF5PWZ1bmN0aW9uKGIsZSl7aWYoZC5pc1lvdVR1YmUoYil8fGQuaXNSdG1wKGIsZSl8fCJobHMiPT1lKXJldHVybiEwO3ZhciBnPWQuZXh0ZW5zaW9ubWFwW2U/ZTpkLmV4dGVuc2lvbihiKV07cmV0dXJuIWc/ITE6ISFnLmZsYXNofX0oandwbGF5ZXIpLGZ1bmN0aW9uKGgpe2Z1bmN0aW9uIGQoYixkLGcpe2lmKG51bGwhPT1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9CbGFja0JlcnJ5L2kpKXJldHVybiExO2lmKCJ5b3V0dWJlIj09PWR8fG0uaXNZb3VUdWJlKGIpKXJldHVybiEwO3ZhciBhPW0uZXh0ZW5zaW9uKGIpO2Q9ZHx8ai5leHRUeXBlKGEpO2lmKCJobHMiPT09ZClpZihnKXtnPW0uaXNBbmRyb2lkTmF0aXZlO2lmKGcoMil8fGcoMyl8fGcoIjQuMCIpKXJldHVybiExO2lmKG0uaXNBbmRyb2lkKCkpcmV0dXJuITB9ZWxzZSBpZihtLmlzQW5kcm9pZCgpKXJldHVybiExOwppZihtLmlzUnRtcChiLGQpKXJldHVybiExO2I9altkXXx8althXTtpZighYnx8Yi5mbGFzaCYmIWIuaHRtbDUpcmV0dXJuITE7dmFyIGY7YTppZihiPWIuaHRtbDUpe3RyeXtmPSEhaC52aWQuY2FuUGxheVR5cGUoYik7YnJlYWsgYX1jYXRjaChjKXt9Zj0hMX1lbHNlIGY9ITA7cmV0dXJuIGZ9dmFyIG09aC51dGlscyxqPW0uZXh0ZW5zaW9ubWFwLGc9aC5ldmVudHM7aC5lbWJlZC5odG1sNT1mdW5jdGlvbihiLGUsaixhLGYpe2Z1bmN0aW9uIGMoYSxjLGQpe3JldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjIitiLmlkKyIgLmp3bWFpbiIpO2QmJmUuYXBwZW5kQ2hpbGQoYyk7ImZ1bmN0aW9uIj09dHlwZW9mIGEucmVzaXplJiYoYS5yZXNpemUoZS5jbGllbnRXaWR0aCxlLmNsaWVudEhlaWdodCksc2V0VGltZW91dChmdW5jdGlvbigpe2EucmVzaXplKGUuY2xpZW50V2lkdGgsZS5jbGllbnRIZWlnaHQpfSw0MDApKTtjLmxlZnQ9ZS5zdHlsZS5sZWZ0OwpjLnRvcD1lLnN0eWxlLnRvcH1jYXRjaChmKXt9fX1mdW5jdGlvbiBuKGEpe2suc2VuZEV2ZW50KGEudHlwZSx7bWVzc2FnZToiSFRNTDUgcGxheWVyIG5vdCBmb3VuZCJ9KX12YXIgaz10aGlzLGw9bmV3IGcuZXZlbnRkaXNwYXRjaGVyO20uZXh0ZW5kKGssbCk7ay5lbWJlZD1mdW5jdGlvbigpe2lmKGguaHRtbDUpe2Euc2V0dXBQbHVnaW5zKGYsaixjKTtiLmlubmVySFRNTD0iIjt2YXIgZD1oLnV0aWxzLmV4dGVuZCh7fSxqKTtkZWxldGUgZC52b2x1bWU7ZD1uZXcgaC5odG1sNS5wbGF5ZXIoZCk7Zi5jb250YWluZXI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZi5pZCk7Zi5zZXRQbGF5ZXIoZCwiaHRtbDUiKX1lbHNlIGQ9bmV3IG0uc2NyaXB0bG9hZGVyKGUuc3JjKSxkLmFkZEV2ZW50TGlzdGVuZXIoZy5FUlJPUixuKSxkLmFkZEV2ZW50TGlzdGVuZXIoZy5DT01QTEVURSxrLmVtYmVkKSxkLmxvYWQoKX07ay5zdXBwb3J0c0NvbmZpZz1mdW5jdGlvbigpe2lmKGgudmlkLmNhblBsYXlUeXBlKXRyeXtpZigic3RyaW5nIj09Cm0udHlwZU9mKGoucGxheWxpc3QpKXJldHVybiEwO2Zvcih2YXIgYT1qLnBsYXlsaXN0WzBdLnNvdXJjZXMsYj0wO2I8YS5sZW5ndGg7YisrKWlmKGQoYVtiXS5maWxlLGFbYl0udHlwZSxqLmFuZHJvaWRobHMpKXJldHVybiEwfWNhdGNoKGMpe31yZXR1cm4hMX19O2guZW1iZWQuaHRtbDVDYW5QbGF5PWR9KGp3cGxheWVyKSxmdW5jdGlvbihoKXt2YXIgZD1oLmVtYmVkLG09aC51dGlscyxqPS9cLihqc3xzd2YpJC87aC5lbWJlZD1tLmV4dGVuZChmdW5jdGlvbihnKXtmdW5jdGlvbiBiKCl7dD0iQWRvYmUgU2l0ZUNhdGFseXN0IEVycm9yOiBDb3VsZCBub3QgZmluZCBNZWRpYSBNb2R1bGUifXZhciBlPW0ucmVwbygpLHA9bS5leHRlbmQoe30saC5kZWZhdWx0cyksYT1tLmV4dGVuZCh7fSxwLGcuY29uZmlnKSxmPWcuY29uZmlnLGM9YS5wbHVnaW5zLG49YS5hbmFseXRpY3Msaz1lKyJqd3BzcnYuanMiLGw9ZSsic2hhcmluZy5qcyIscj1lKyJyZWxhdGVkLmpzIix4PWUrImdhcHJvLmpzIiwKcD1oLmtleT9oLmtleTpwLmtleSx1PShuZXcgaC51dGlscy5rZXkocCkpLmVkaXRpb24oKSx0LGM9Yz9jOnt9OyJhZHMiPT11JiZhLmFkdmVydGlzaW5nJiYoai50ZXN0KGEuYWR2ZXJ0aXNpbmcuY2xpZW50KT9jW2EuYWR2ZXJ0aXNpbmcuY2xpZW50XT1hLmFkdmVydGlzaW5nOmNbZSthLmFkdmVydGlzaW5nLmNsaWVudCsiLmpzIl09YS5hZHZlcnRpc2luZyk7ZGVsZXRlIGYuYWR2ZXJ0aXNpbmc7Zi5rZXk9cDthLmFuYWx5dGljcyYmai50ZXN0KGEuYW5hbHl0aWNzLmNsaWVudCkmJihrPWEuYW5hbHl0aWNzLmNsaWVudCk7ZGVsZXRlIGYuYW5hbHl0aWNzO24mJiEoImFkcyI9PT11fHwiZW50ZXJwcmlzZSI9PT11KSYmZGVsZXRlIG4uZW5hYmxlZDtpZigiZnJlZSI9PXV8fCFufHwhMSE9PW4uZW5hYmxlZCljW2tdPW4/bjp7fTtkZWxldGUgYy5zaGFyaW5nO2RlbGV0ZSBjLnJlbGF0ZWQ7c3dpdGNoKHUpe2Nhc2UgImFkcyI6Y2FzZSAiZW50ZXJwcmlzZSI6aWYoZi5zaXRlY2F0YWx5c3QpdHJ5e3dpbmRvdy5zJiYKd2luZG93LnMuaGFzT3duUHJvcGVydHkoIk1lZGlhIik/bmV3IGguZW1iZWQuc2l0ZWNhdGFseXN0KGcpOmIoKX1jYXRjaChxKXtiKCl9Y2FzZSAicHJlbWl1bSI6YS5yZWxhdGVkJiYoai50ZXN0KGEucmVsYXRlZC5jbGllbnQpJiYocj1hLnJlbGF0ZWQuY2xpZW50KSxjW3JdPWEucmVsYXRlZCksYS5nYSYmKGoudGVzdChhLmdhLmNsaWVudCkmJih4PWEuZ2EuY2xpZW50KSxjW3hdPWEuZ2EpO2Nhc2UgInBybyI6YS5zaGFyaW5nJiYoai50ZXN0KGEuc2hhcmluZy5jbGllbnQpJiYobD1hLnNoYXJpbmcuY2xpZW50KSxjW2xdPWEuc2hhcmluZyksYS5za2luJiYoZi5za2luPWEuc2tpbi5yZXBsYWNlKC9eKGJlZWxkZW58YmVrbGV8Zml2ZXxnbG93fG1vZGlldXN8cm91bmRzdGVyfHN0b3JtdHJvb3Blcnx2YXBvcikkL2ksbS5yZXBvKCkrInNraW5zLyQxLnhtbCIpKX1mLnBsdWdpbnM9YztnLmNvbmZpZz1mO2c9bmV3IGQoZyk7dCYmZy5lcnJvclNjcmVlbih0KTtyZXR1cm4gZ30saC5lbWJlZCl9KGp3cGxheWVyKSwKZnVuY3Rpb24oaCl7dmFyIGQ9andwbGF5ZXIudXRpbHM7aC5zaXRlY2F0YWx5c3Q9ZnVuY3Rpb24oaCl7ZnVuY3Rpb24gaihiKXthLmRlYnVnJiZkLmxvZyhiKX1mdW5jdGlvbiBnKGEpe2E9YS5zcGxpdCgiLyIpO2E9YVthLmxlbmd0aC0xXTthPWEuc3BsaXQoIj8iKTtyZXR1cm4gYVswXX1mdW5jdGlvbiBiKCl7aWYoIWwpe2w9ITA7dmFyIGE9cC5nZXRQb3NpdGlvbigpO2ooInN0b3A6ICIrYysiIDogIithKTtzLk1lZGlhLnN0b3AoYyxhKX19ZnVuY3Rpb24gZSgpe3J8fChiKCkscj0hMCxqKCJjbG9zZTogIitjKSxzLk1lZGlhLmNsb3NlKGMpLHg9ITAsaz0wKX12YXIgcD1oLGE9ZC5leHRlbmQoe30scC5jb25maWcuc2l0ZWNhdGFseXN0KSxmPXtvblBsYXk6ZnVuY3Rpb24oKXtpZigheCl7dmFyIGE9cC5nZXRQb3NpdGlvbigpO2w9ITE7aigicGxheTogIitjKyIgOiAiK2EpO3MuTWVkaWEucGxheShjLGEpfX0sb25QYXVzZTpiLG9uQnVmZmVyOmIsb25JZGxlOmUsb25QbGF5bGlzdEl0ZW06ZnVuY3Rpb24oYil7dHJ5e3g9CiEwO2UoKTtrPTA7dmFyIGY7aWYoYS5tZWRpYU5hbWUpZj1hLm1lZGlhTmFtZTtlbHNle3ZhciBoPXAuZ2V0UGxheWxpc3RJdGVtKGIuaW5kZXgpO2Y9aC50aXRsZT9oLnRpdGxlOmguZmlsZT9nKGguZmlsZSk6aC5zb3VyY2VzJiZoLnNvdXJjZXMubGVuZ3RoP2coaC5zb3VyY2VzWzBdLmZpbGUpOiIifWM9ZjtuPWEucGxheWVyTmFtZT9hLnBsYXllck5hbWU6cC5pZH1jYXRjaChqKXtkLmxvZyhqKX19LG9uVGltZTpmdW5jdGlvbigpe2lmKHgpe3ZhciBhPXAuZ2V0RHVyYXRpb24oKTtpZigtMT09YSlyZXR1cm47cj1sPXg9ITE7aigib3BlbjogIitjKyIgOiAiK2ErIiA6ICIrbik7cy5NZWRpYS5vcGVuKGMsYSxuKTtqKCJwbGF5OiAiK2MrIiA6IDAiKTtzLk1lZGlhLnBsYXkoYywwKX1hPXAuZ2V0UG9zaXRpb24oKTtpZigzPD1NYXRoLmFicyhhLWspKXt2YXIgYj1rO2ooInNlZWs6ICIrYisiIHRvICIrYSk7aigic3RvcDogIitjKyIgOiAiK2IpO3MuTWVkaWEuc3RvcChjLGIpO2ooInBsYXk6ICIrCmMrIiA6ICIrYSk7cy5NZWRpYS5wbGF5KGMsYSl9az1hfSxvbkNvbXBsZXRlOmV9LGMsbixrLGw9ITAscj0hMCx4O2QuZm9yZWFjaChmLGZ1bmN0aW9uKGEpe3BbYV0oZlthXSl9KX19KGp3cGxheWVyLmVtYmVkKSxmdW5jdGlvbihoLGQpe3ZhciBtPVtdLGo9aC51dGlscyxnPWguZXZlbnRzLGI9Zy5zdGF0ZSxlPWRvY3VtZW50LHA9ImdldEJ1ZmZlciBnZXRDYXB0aW9uc0xpc3QgZ2V0Q29udHJvbHMgZ2V0Q3VycmVudENhcHRpb25zIGdldEN1cnJlbnRRdWFsaXR5IGdldER1cmF0aW9uIGdldEZ1bGxzY3JlZW4gZ2V0SGVpZ2h0IGdldExvY2tTdGF0ZSBnZXRNdXRlIGdldFBsYXlsaXN0SW5kZXggZ2V0U2FmZVJlZ2lvbiBnZXRQb3NpdGlvbiBnZXRRdWFsaXR5TGV2ZWxzIGdldFN0YXRlIGdldFZvbHVtZSBnZXRXaWR0aCBpc0JlZm9yZUNvbXBsZXRlIGlzQmVmb3JlUGxheSByZWxlYXNlU3RhdGUiLnNwbGl0KCIgIiksYT0icGxheWxpc3ROZXh0IHN0b3AgZm9yY2VTdGF0ZSBwbGF5bGlzdFByZXYgc2VlayBzZXRDdXJyZW50Q2FwdGlvbnMgc2V0Q29udHJvbHMgc2V0Q3VycmVudFF1YWxpdHkgc2V0Vm9sdW1lIi5zcGxpdCgiICIpLApmPXtvbkJ1ZmZlckNoYW5nZTpnLkpXUExBWUVSX01FRElBX0JVRkZFUixvbkJ1ZmZlckZ1bGw6Zy5KV1BMQVlFUl9NRURJQV9CVUZGRVJfRlVMTCxvbkVycm9yOmcuSldQTEFZRVJfRVJST1Isb25TZXR1cEVycm9yOmcuSldQTEFZRVJfU0VUVVBfRVJST1Isb25GdWxsc2NyZWVuOmcuSldQTEFZRVJfRlVMTFNDUkVFTixvbk1ldGE6Zy5KV1BMQVlFUl9NRURJQV9NRVRBLG9uTXV0ZTpnLkpXUExBWUVSX01FRElBX01VVEUsb25QbGF5bGlzdDpnLkpXUExBWUVSX1BMQVlMSVNUX0xPQURFRCxvblBsYXlsaXN0SXRlbTpnLkpXUExBWUVSX1BMQVlMSVNUX0lURU0sb25QbGF5bGlzdENvbXBsZXRlOmcuSldQTEFZRVJfUExBWUxJU1RfQ09NUExFVEUsb25SZWFkeTpnLkFQSV9SRUFEWSxvblJlc2l6ZTpnLkpXUExBWUVSX1JFU0laRSxvbkNvbXBsZXRlOmcuSldQTEFZRVJfTUVESUFfQ09NUExFVEUsb25TZWVrOmcuSldQTEFZRVJfTUVESUFfU0VFSyxvblRpbWU6Zy5KV1BMQVlFUl9NRURJQV9USU1FLApvblZvbHVtZTpnLkpXUExBWUVSX01FRElBX1ZPTFVNRSxvbkJlZm9yZVBsYXk6Zy5KV1BMQVlFUl9NRURJQV9CRUZPUkVQTEFZLG9uQmVmb3JlQ29tcGxldGU6Zy5KV1BMQVlFUl9NRURJQV9CRUZPUkVDT01QTEVURSxvbkRpc3BsYXlDbGljazpnLkpXUExBWUVSX0RJU1BMQVlfQ0xJQ0ssb25Db250cm9sczpnLkpXUExBWUVSX0NPTlRST0xTLG9uUXVhbGl0eUxldmVsczpnLkpXUExBWUVSX01FRElBX0xFVkVMUyxvblF1YWxpdHlDaGFuZ2U6Zy5KV1BMQVlFUl9NRURJQV9MRVZFTF9DSEFOR0VELG9uQ2FwdGlvbnNMaXN0OmcuSldQTEFZRVJfQ0FQVElPTlNfTElTVCxvbkNhcHRpb25zQ2hhbmdlOmcuSldQTEFZRVJfQ0FQVElPTlNfQ0hBTkdFRCxvbkFkRXJyb3I6Zy5KV1BMQVlFUl9BRF9FUlJPUixvbkFkQ2xpY2s6Zy5KV1BMQVlFUl9BRF9DTElDSyxvbkFkSW1wcmVzc2lvbjpnLkpXUExBWUVSX0FEX0lNUFJFU1NJT04sb25BZFRpbWU6Zy5KV1BMQVlFUl9BRF9USU1FLG9uQWRDb21wbGV0ZTpnLkpXUExBWUVSX0FEX0NPTVBMRVRFLApvbkFkQ29tcGFuaW9uczpnLkpXUExBWUVSX0FEX0NPTVBBTklPTlMsb25BZFNraXBwZWQ6Zy5KV1BMQVlFUl9BRF9TS0lQUEVELG9uQWRQbGF5OmcuSldQTEFZRVJfQURfUExBWSxvbkFkUGF1c2U6Zy5KV1BMQVlFUl9BRF9QQVVTRSxvbkFkTWV0YTpnLkpXUExBWUVSX0FEX01FVEEsb25DYXN0OmcuSldQTEFZRVJfQ0FTVF9TRVNTSU9OfSxjPXtvbkJ1ZmZlcjpiLkJVRkZFUklORyxvblBhdXNlOmIuUEFVU0VELG9uUGxheTpiLlBMQVlJTkcsb25JZGxlOmIuSURMRX07aC5hcGk9ZnVuY3Rpb24obSl7ZnVuY3Rpb24gayhhLGIpe2ouZm9yZWFjaChhLGZ1bmN0aW9uKGEsYyl7cVthXT1mdW5jdGlvbihhKXtyZXR1cm4gYihjLGEpfX0pfWZ1bmN0aW9uIGwoYSxiKXt2YXIgYz0ianciK2IuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYi5zbGljZSgxKTtxW2JdPWZ1bmN0aW9uKCl7dmFyIGI9dC5hcHBseSh0aGlzLFtjXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLAowKSkpO3JldHVybiBhP3E6Yn19ZnVuY3Rpb24gcihhKXtHPVtdO0QmJkQuZGVzdHJveSYmRC5kZXN0cm95KCk7aC5hcGkuZGVzdHJveVBsYXllcihhLmlkKX1mdW5jdGlvbiB4KGEsYil7dHJ5e2EuandBZGRFdmVudExpc3RlbmVyKGIsJ2Z1bmN0aW9uKGRhdCkgeyBqd3BsYXllcigiJytxLmlkKyciKS5kaXNwYXRjaEV2ZW50KCInK2IrJyIsIGRhdCk7IH0nKX1jYXRjaChjKXtqLmxvZygiQ291bGQgbm90IGFkZCBpbnRlcm5hbCBsaXN0ZW5lciIpfX1mdW5jdGlvbiB1KGEsYil7RVthXXx8KEVbYV09W10sdiYmQSYmeCh2LGEpKTtFW2FdLnB1c2goYik7cmV0dXJuIHF9ZnVuY3Rpb24gdCgpe2lmKEEpe2lmKHYpe3ZhciBhPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSxiPWEuc2hpZnQoKTtpZigiZnVuY3Rpb24iPT09dHlwZW9mIHZbYl0pe3N3aXRjaChhLmxlbmd0aCl7Y2FzZSA2OnJldHVybiB2W2JdKGFbMF0sYVsxXSxhWzJdLGFbM10sYVs0XSxhWzVdKTsKY2FzZSA1OnJldHVybiB2W2JdKGFbMF0sYVsxXSxhWzJdLGFbM10sYVs0XSk7Y2FzZSA0OnJldHVybiB2W2JdKGFbMF0sYVsxXSxhWzJdLGFbM10pO2Nhc2UgMzpyZXR1cm4gdltiXShhWzBdLGFbMV0sYVsyXSk7Y2FzZSAyOnJldHVybiB2W2JdKGFbMF0sYVsxXSk7Y2FzZSAxOnJldHVybiB2W2JdKGFbMF0pfXJldHVybiB2W2JdKCl9fXJldHVybiBudWxsfUcucHVzaChhcmd1bWVudHMpfXZhciBxPXRoaXMsRT17fSxGPXt9LHYsQT0hMSxHPVtdLEIsRCxIPXt9LHk9e307cS5jb250YWluZXI9bTtxLmlkPW0uaWQ7cS5zZXR1cD1mdW5jdGlvbihhKXtpZihoLmVtYmVkKXt2YXIgYj1lLmdldEVsZW1lbnRCeUlkKHEuaWQpO2ImJihhLmZhbGxiYWNrRGl2PWIpO3IocSk7Yj1oKHEuaWQpO2IuY29uZmlnPWE7RD1uZXcgaC5lbWJlZChiKTtELmVtYmVkKCk7cmV0dXJuIGJ9cmV0dXJuIHF9O3EuZ2V0Q29udGFpbmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHEuY29udGFpbmVyfTtxLmFkZEJ1dHRvbj0KZnVuY3Rpb24oYSxiLGMsZCl7dHJ5e3lbZF09Yyx0KCJqd0RvY2tBZGRCdXR0b24iLGEsYiwiandwbGF5ZXIoJyIrcS5pZCsiJykuY2FsbGJhY2soJyIrZCsiJykiLGQpfWNhdGNoKGUpe2oubG9nKCJDb3VsZCBub3QgYWRkIGRvY2sgYnV0dG9uIitlLm1lc3NhZ2UpfX07cS5yZW1vdmVCdXR0b249ZnVuY3Rpb24oYSl7dCgiandEb2NrUmVtb3ZlQnV0dG9uIixhKX07cS5jYWxsYmFjaz1mdW5jdGlvbihhKXtpZih5W2FdKXlbYV0oKX07cS5nZXRNZXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHEuZ2V0SXRlbU1ldGEoKX07cS5nZXRQbGF5bGlzdD1mdW5jdGlvbigpe3ZhciBhPXQoImp3R2V0UGxheWxpc3QiKTsiZmxhc2giPT1xLnJlbmRlcmluZ01vZGUmJmouZGVlcFJlcGxhY2VLZXlOYW1lKGEsWyJfX2RvdF9fIiwiX19zcGNfXyIsIl9fZHNoX18iLCJfX2RlZmF1bHRfXyJdLFsiLiIsIiAiLCItIiwiZGVmYXVsdCJdKTtyZXR1cm4gYX07cS5nZXRQbGF5bGlzdEl0ZW09ZnVuY3Rpb24oYSl7ai5leGlzdHMoYSl8fAooYT1xLmdldFBsYXlsaXN0SW5kZXgoKSk7cmV0dXJuIHEuZ2V0UGxheWxpc3QoKVthXX07cS5nZXRSZW5kZXJpbmdNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHEucmVuZGVyaW5nTW9kZX07cS5zZXRGdWxsc2NyZWVuPWZ1bmN0aW9uKGEpe2ouZXhpc3RzKGEpP3QoImp3U2V0RnVsbHNjcmVlbiIsYSk6dCgiandTZXRGdWxsc2NyZWVuIiwhdCgiandHZXRGdWxsc2NyZWVuIikpO3JldHVybiBxfTtxLnNldE11dGU9ZnVuY3Rpb24oYSl7ai5leGlzdHMoYSk/dCgiandTZXRNdXRlIixhKTp0KCJqd1NldE11dGUiLCF0KCJqd0dldE11dGUiKSk7cmV0dXJuIHF9O3EubG9jaz1mdW5jdGlvbigpe3JldHVybiBxfTtxLnVubG9jaz1mdW5jdGlvbigpe3JldHVybiBxfTtxLmxvYWQ9ZnVuY3Rpb24oYSl7dCgiandJbnN0cmVhbURlc3Ryb3kiKTtoKHEuaWQpLnBsdWdpbnMuZ29vZ2ltYSYmdCgiandEZXN0cm95R29vZ2ltYSIpO3QoImp3TG9hZCIsYSk7cmV0dXJuIHF9O3EucGxheWxpc3RJdGVtPWZ1bmN0aW9uKGEpe3QoImp3UGxheWxpc3RJdGVtIiwKcGFyc2VJbnQoYSwxMCkpO3JldHVybiBxfTtxLnJlc2l6ZT1mdW5jdGlvbihhLGIpe2lmKCJmbGFzaCIhPT1xLnJlbmRlcmluZ01vZGUpdCgiandSZXNpemUiLGEsYik7ZWxzZXt2YXIgYz1lLmdldEVsZW1lbnRCeUlkKHEuaWQrIl93cmFwcGVyIiksZD1lLmdldEVsZW1lbnRCeUlkKHEuaWQrIl9hc3BlY3QiKTtkJiYoZC5zdHlsZS5kaXNwbGF5PSJub25lIik7YyYmKGMuc3R5bGUuZGlzcGxheT0iYmxvY2siLGMuc3R5bGUud2lkdGg9ai5zdHlsZURpbWVuc2lvbihhKSxjLnN0eWxlLmhlaWdodD1qLnN0eWxlRGltZW5zaW9uKGIpKX1yZXR1cm4gcX07cS5wbGF5PWZ1bmN0aW9uKGEpe2lmKGEhPT1kKXJldHVybiB0KCJqd1BsYXkiLGEpLHE7YT1xLmdldFN0YXRlKCk7dmFyIGM9QiYmQi5nZXRTdGF0ZSgpO2M/Yz09PWIuSURMRXx8Yz09PWIuUExBWUlOR3x8Yz09PWIuQlVGRkVSSU5HP3QoImp3SW5zdHJlYW1QYXVzZSIpOnQoImp3SW5zdHJlYW1QbGF5Iik6YT09Yi5QTEFZSU5HfHxhPT0KYi5CVUZGRVJJTkc/dCgiandQYXVzZSIpOnQoImp3UGxheSIpO3JldHVybiBxfTtxLnBhdXNlPWZ1bmN0aW9uKGEpe2E9PT1kPyhhPXEuZ2V0U3RhdGUoKSxhPT1iLlBMQVlJTkd8fGE9PWIuQlVGRkVSSU5HP3QoImp3UGF1c2UiKTp0KCJqd1BsYXkiKSk6dCgiandQYXVzZSIsYSk7cmV0dXJuIHF9O3EuY3JlYXRlSW5zdHJlYW09ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGguYXBpLmluc3RyZWFtKHRoaXMsdil9O3Euc2V0SW5zdHJlYW09ZnVuY3Rpb24oYSl7cmV0dXJuIEI9YX07cS5sb2FkSW5zdHJlYW09ZnVuY3Rpb24oYSxiKXtCPXEuc2V0SW5zdHJlYW0ocS5jcmVhdGVJbnN0cmVhbSgpKS5pbml0KGIpO0IubG9hZEl0ZW0oYSk7cmV0dXJuIEJ9O3EuZGVzdHJveVBsYXllcj1mdW5jdGlvbigpe3QoImp3UGxheWVyRGVzdHJveSIpfTtxLnBsYXlBZD1mdW5jdGlvbihhKXt2YXIgYj1oKHEuaWQpLnBsdWdpbnM7Yi52YXN0P2IudmFzdC5qd1BsYXlBZChhKTp0KCJqd1BsYXlBZCIsYSl9OwpxLnBhdXNlQWQ9ZnVuY3Rpb24oKXt2YXIgYT1oKHEuaWQpLnBsdWdpbnM7YS52YXN0P2EudmFzdC5qd1BhdXNlQWQoKTp0KCJqd1BhdXNlQWQiKX07ayhjLGZ1bmN0aW9uKGEsYil7RlthXXx8KEZbYV09W10sdShnLkpXUExBWUVSX1BMQVlFUl9TVEFURSxmdW5jdGlvbihiKXt2YXIgYz1iLm5ld3N0YXRlO2I9Yi5vbGRzdGF0ZTtpZihjPT1hKXt2YXIgZD1GW2NdO2lmKGQpZm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV07ImZ1bmN0aW9uIj09dHlwZW9mIGYmJmYuY2FsbCh0aGlzLHtvbGRzdGF0ZTpiLG5ld3N0YXRlOmN9KX19fSkpO0ZbYV0ucHVzaChiKTtyZXR1cm4gcX0pO2soZix1KTtqLmZvcmVhY2gocCxmdW5jdGlvbihhLGIpe2woITEsYil9KTtqLmZvcmVhY2goYSxmdW5jdGlvbihhLGIpe2woITAsYil9KTtxLnJlbW92ZT1mdW5jdGlvbigpe2lmKCFBKXRocm93IkNhbm5vdCBjYWxsIHJlbW92ZSgpIGJlZm9yZSBwbGF5ZXIgaXMgcmVhZHkiO3IodGhpcyl9OwpxLnJlZ2lzdGVyUGx1Z2luPWZ1bmN0aW9uKGEsYixjLGQpe2gucGx1Z2lucy5yZWdpc3RlclBsdWdpbihhLGIsYyxkKX07cS5zZXRQbGF5ZXI9ZnVuY3Rpb24oYSxiKXt2PWE7cS5yZW5kZXJpbmdNb2RlPWJ9O3EuZGV0YWNoTWVkaWE9ZnVuY3Rpb24oKXtpZigiaHRtbDUiPT1xLnJlbmRlcmluZ01vZGUpcmV0dXJuIHQoImp3RGV0YWNoTWVkaWEiKX07cS5hdHRhY2hNZWRpYT1mdW5jdGlvbihhKXtpZigiaHRtbDUiPT1xLnJlbmRlcmluZ01vZGUpcmV0dXJuIHQoImp3QXR0YWNoTWVkaWEiLGEpfTtxLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1FW2FdO2lmKGMpZm9yKHZhciBkPWMubGVuZ3RoO2QtLTspY1tkXT09PWImJmMuc3BsaWNlKGQsMSl9O3EuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihhLGIpe3ZhciBjPUVbYV07aWYoYylmb3IodmFyIGM9Yy5zbGljZSgwKSxkPWoudHJhbnNsYXRlRXZlbnRSZXNwb25zZShhLGIpLGU9MDtlPGMubGVuZ3RoO2UrKyl7dmFyIGY9CmNbZV07aWYoImZ1bmN0aW9uIj09PXR5cGVvZiBmKXRyeXthPT09Zy5KV1BMQVlFUl9QTEFZTElTVF9MT0FERUQmJmouZGVlcFJlcGxhY2VLZXlOYW1lKGQucGxheWxpc3QsWyJfX2RvdF9fIiwiX19zcGNfXyIsIl9fZHNoX18iLCJfX2RlZmF1bHRfXyJdLFsiLiIsIiAiLCItIiwiZGVmYXVsdCJdKSxmLmNhbGwodGhpcyxkKX1jYXRjaChoKXtqLmxvZygiVGhlcmUgd2FzIGFuIGVycm9yIGNhbGxpbmcgYmFjayBhbiBldmVudCBoYW5kbGVyIil9fX07cS5kaXNwYXRjaEluc3RyZWFtRXZlbnQ9ZnVuY3Rpb24oYSl7QiYmQi5kaXNwYXRjaEV2ZW50KGEsYXJndW1lbnRzKX07cS5jYWxsSW50ZXJuYWw9dDtxLnBsYXllclJlYWR5PWZ1bmN0aW9uKGEpe0E9ITA7dnx8cS5zZXRQbGF5ZXIoZS5nZXRFbGVtZW50QnlJZChhLmlkKSk7cS5jb250YWluZXI9ZS5nZXRFbGVtZW50QnlJZChxLmlkKTtqLmZvcmVhY2goRSxmdW5jdGlvbihhKXt4KHYsYSl9KTt1KGcuSldQTEFZRVJfUExBWUxJU1RfSVRFTSwKZnVuY3Rpb24oKXtIPXt9fSk7dShnLkpXUExBWUVSX01FRElBX01FVEEsZnVuY3Rpb24oYSl7ai5leHRlbmQoSCxhLm1ldGFkYXRhKX0pO3UoZy5KV1BMQVlFUl9WSUVXX1RBQl9GT0NVUyxmdW5jdGlvbihhKXt2YXIgYj1xLmdldENvbnRhaW5lcigpOyEwPT09YS5oYXNGb2N1cz9qLmFkZENsYXNzKGIsImp3LXRhYi1mb2N1cyIpOmoucmVtb3ZlQ2xhc3MoYiwianctdGFiLWZvY3VzIil9KTtmb3IocS5kaXNwYXRjaEV2ZW50KGcuQVBJX1JFQURZKTswPEcubGVuZ3RoOyl0LmFwcGx5KHRoaXMsRy5zaGlmdCgpKX07cS5nZXRJdGVtTWV0YT1mdW5jdGlvbigpe3JldHVybiBIfTtyZXR1cm4gcX07aC5wbGF5ZXJSZWFkeT1mdW5jdGlvbihhKXt2YXIgYj1oLmFwaS5wbGF5ZXJCeUlkKGEuaWQpO2I/Yi5wbGF5ZXJSZWFkeShhKTpoLmFwaS5zZWxlY3RQbGF5ZXIoYS5pZCkucGxheWVyUmVhZHkoYSl9O2guYXBpLnNlbGVjdFBsYXllcj1mdW5jdGlvbihhKXt2YXIgYjtqLmV4aXN0cyhhKXx8CihhPTApO2Eubm9kZVR5cGU/Yj1hOiJzdHJpbmciPT10eXBlb2YgYSYmKGI9ZS5nZXRFbGVtZW50QnlJZChhKSk7cmV0dXJuIGI/KGE9aC5hcGkucGxheWVyQnlJZChiLmlkKSk/YTpoLmFwaS5hZGRQbGF5ZXIobmV3IGguYXBpKGIpKToibnVtYmVyIj09dHlwZW9mIGE/bVthXTpudWxsfTtoLmFwaS5wbGF5ZXJCeUlkPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8bS5sZW5ndGg7YisrKWlmKG1bYl0uaWQ9PWEpcmV0dXJuIG1bYl07cmV0dXJuIG51bGx9O2guYXBpLmFkZFBsYXllcj1mdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPG0ubGVuZ3RoO2IrKylpZihtW2JdPT1hKXJldHVybiBhO20ucHVzaChhKTtyZXR1cm4gYX07aC5hcGkuZGVzdHJveVBsYXllcj1mdW5jdGlvbihhKXt2YXIgYixjLGY7ai5mb3JlYWNoKG0sZnVuY3Rpb24oZCxlKXtlLmlkPT09YSYmKGI9ZCxjPWUpfSk7aWYoYj09PWR8fGM9PT1kKXJldHVybiBudWxsO2ouY2xlYXJDc3MoIiMiK2MuaWQpO2lmKGY9ZS5nZXRFbGVtZW50QnlJZChjLmlkKwooImZsYXNoIj09Yy5yZW5kZXJpbmdNb2RlPyJfd3JhcHBlciI6IiIpKSl7Imh0bWw1Ij09PWMucmVuZGVyaW5nTW9kZSYmYy5kZXN0cm95UGxheWVyKCk7dmFyIGc9ZS5jcmVhdGVFbGVtZW50KCJkaXYiKTtnLmlkPWMuaWQ7Zi5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChnLGYpfW0uc3BsaWNlKGIsMSk7cmV0dXJuIG51bGx9fSh3aW5kb3cuandwbGF5ZXIpLGZ1bmN0aW9uKGgpe3ZhciBkPWguZXZlbnRzLG09aC51dGlscyxqPWQuc3RhdGU7aC5hcGkuaW5zdHJlYW09ZnVuY3Rpb24oZyxiKXtmdW5jdGlvbiBlKGEsZCl7Y1thXXx8KGNbYV09W10sYi5qd0luc3RyZWFtQWRkRXZlbnRMaXN0ZW5lcihhLCdmdW5jdGlvbihkYXQpIHsgandwbGF5ZXIoIicrZy5pZCsnIikuZGlzcGF0Y2hJbnN0cmVhbUV2ZW50KCInK2ErJyIsIGRhdCk7IH0nKSk7Y1thXS5wdXNoKGQpO3JldHVybiB0aGlzfWZ1bmN0aW9uIGgoYSxiKXtuW2FdfHwoblthXT1bXSxlKGQuSldQTEFZRVJfUExBWUVSX1NUQVRFLApmdW5jdGlvbihiKXt2YXIgYz1iLm5ld3N0YXRlLGQ9Yi5vbGRzdGF0ZTtpZihjPT1hKXt2YXIgZT1uW2NdO2lmKGUpZm9yKHZhciBmPTA7ZjxlLmxlbmd0aDtmKyspe3ZhciBnPWVbZl07ImZ1bmN0aW9uIj09dHlwZW9mIGcmJmcuY2FsbCh0aGlzLHtvbGRzdGF0ZTpkLG5ld3N0YXRlOmMsdHlwZTpiLnR5cGV9KX19fSkpO25bYV0ucHVzaChiKTtyZXR1cm4gdGhpc312YXIgYSxmLGM9e30sbj17fSxrPXRoaXM7ay50eXBlPSJpbnN0cmVhbSI7ay5pbml0PWZ1bmN0aW9uKCl7Zy5jYWxsSW50ZXJuYWwoImp3SW5pdEluc3RyZWFtIik7cmV0dXJuIGt9O2subG9hZEl0ZW09ZnVuY3Rpb24oYixjKXthPWI7Zj1jfHx7fTsiYXJyYXkiPT1tLnR5cGVPZihiKT9nLmNhbGxJbnRlcm5hbCgiandMb2FkQXJyYXlJbnN0cmVhbSIsYSxmKTpnLmNhbGxJbnRlcm5hbCgiandMb2FkSXRlbUluc3RyZWFtIixhLGYpfTtrLnJlbW92ZUV2ZW50cz1mdW5jdGlvbigpe2M9bj17fX07ay5yZW1vdmVFdmVudExpc3RlbmVyPQpmdW5jdGlvbihhLGIpe3ZhciBkPWNbYV07aWYoZClmb3IodmFyIGU9ZC5sZW5ndGg7ZS0tOylkW2VdPT09YiYmZC5zcGxpY2UoZSwxKX07ay5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGEsYil7dmFyIGQ9Y1thXTtpZihkKWZvcih2YXIgZD1kLnNsaWNlKDApLGU9bS50cmFuc2xhdGVFdmVudFJlc3BvbnNlKGEsYlsxXSksZj0wO2Y8ZC5sZW5ndGg7ZisrKXt2YXIgZz1kW2ZdOyJmdW5jdGlvbiI9PXR5cGVvZiBnJiZnLmNhbGwodGhpcyxlKX19O2sub25FcnJvcj1mdW5jdGlvbihhKXtyZXR1cm4gZShkLkpXUExBWUVSX0VSUk9SLGEpfTtrLm9uTWVkaWFFcnJvcj1mdW5jdGlvbihhKXtyZXR1cm4gZShkLkpXUExBWUVSX01FRElBX0VSUk9SLGEpfTtrLm9uRnVsbHNjcmVlbj1mdW5jdGlvbihhKXtyZXR1cm4gZShkLkpXUExBWUVSX0ZVTExTQ1JFRU4sYSl9O2sub25NZXRhPWZ1bmN0aW9uKGEpe3JldHVybiBlKGQuSldQTEFZRVJfTUVESUFfTUVUQSxhKX07ay5vbk11dGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGUoZC5KV1BMQVlFUl9NRURJQV9NVVRFLAphKX07ay5vbkNvbXBsZXRlPWZ1bmN0aW9uKGEpe3JldHVybiBlKGQuSldQTEFZRVJfTUVESUFfQ09NUExFVEUsYSl9O2sub25QbGF5bGlzdENvbXBsZXRlPWZ1bmN0aW9uKGEpe3JldHVybiBlKGQuSldQTEFZRVJfUExBWUxJU1RfQ09NUExFVEUsYSl9O2sub25QbGF5bGlzdEl0ZW09ZnVuY3Rpb24oYSl7cmV0dXJuIGUoZC5KV1BMQVlFUl9QTEFZTElTVF9JVEVNLGEpfTtrLm9uVGltZT1mdW5jdGlvbihhKXtyZXR1cm4gZShkLkpXUExBWUVSX01FRElBX1RJTUUsYSl9O2sub25CdWZmZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIGgoai5CVUZGRVJJTkcsYSl9O2sub25QYXVzZT1mdW5jdGlvbihhKXtyZXR1cm4gaChqLlBBVVNFRCxhKX07ay5vblBsYXk9ZnVuY3Rpb24oYSl7cmV0dXJuIGgoai5QTEFZSU5HLGEpfTtrLm9uSWRsZT1mdW5jdGlvbihhKXtyZXR1cm4gaChqLklETEUsYSl9O2sub25DbGljaz1mdW5jdGlvbihhKXtyZXR1cm4gZShkLkpXUExBWUVSX0lOU1RSRUFNX0NMSUNLLGEpfTsKay5vbkluc3RyZWFtRGVzdHJveWVkPWZ1bmN0aW9uKGEpe3JldHVybiBlKGQuSldQTEFZRVJfSU5TVFJFQU1fREVTVFJPWUVELGEpfTtrLm9uQWRTa2lwcGVkPWZ1bmN0aW9uKGEpe3JldHVybiBlKGQuSldQTEFZRVJfQURfU0tJUFBFRCxhKX07ay5wbGF5PWZ1bmN0aW9uKGEpe2IuandJbnN0cmVhbVBsYXkoYSl9O2sucGF1c2U9ZnVuY3Rpb24oYSl7Yi5qd0luc3RyZWFtUGF1c2UoYSl9O2suaGlkZT1mdW5jdGlvbigpe2cuY2FsbEludGVybmFsKCJqd0luc3RyZWFtSGlkZSIpfTtrLmRlc3Ryb3k9ZnVuY3Rpb24oKXtrLnJlbW92ZUV2ZW50cygpO2cuY2FsbEludGVybmFsKCJqd0luc3RyZWFtRGVzdHJveSIpfTtrLnNldFRleHQ9ZnVuY3Rpb24oYSl7Yi5qd0luc3RyZWFtU2V0VGV4dChhP2E6IiIpfTtrLmdldFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGIuandJbnN0cmVhbVN0YXRlKCl9O2suc2V0Q2xpY2s9ZnVuY3Rpb24oYSl7Yi5qd0luc3RyZWFtQ2xpY2smJmIuandJbnN0cmVhbUNsaWNrKGEpfX19KHdpbmRvdy5qd3BsYXllciksCmZ1bmN0aW9uKGgpe3ZhciBkPWguYXBpLG09ZC5zZWxlY3RQbGF5ZXI7ZC5zZWxlY3RQbGF5ZXI9ZnVuY3Rpb24oZCl7cmV0dXJuKGQ9bShkKSk/ZDp7cmVnaXN0ZXJQbHVnaW46ZnVuY3Rpb24oZCxiLGUpe2gucGx1Z2lucy5yZWdpc3RlclBsdWdpbihkLGIsZSl9fX19KGp3cGxheWVyKSk7",
                "body": "InVuZGVmaW5lZCI9PXR5cGVvZiBqd3BsYXllciYmKGp3cGxheWVyPWZ1bmN0aW9uKGgpe2lmKGp3cGxheWVyLmFwaSlyZXR1cm4gandwbGF5ZXIuYXBpLnNlbGVjdFBsYXllcihoKX0sandwbGF5ZXIudmVyc2lvbj0iNi45LjQ4NjciLGp3cGxheWVyLnZpZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ2aWRlbyIpLGp3cGxheWVyLmF1ZGlvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImF1ZGlvIiksandwbGF5ZXIuc291cmNlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNvdXJjZSIpLGZ1bmN0aW9uKGgpe2Z1bmN0aW9uIGQoYyl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEoYyl9fWZ1bmN0aW9uIG0oYyxhLGssbCxiKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZCxmO2lmKGIpayhjKTtlbHNle3RyeXtpZihkPWMucmVzcG9uc2VYTUwpaWYoZj1kLmZpcnN0Q2hpbGQsZC5sYXN0Q2hpbGQmJiJwYXJzZXJlcnJvciI9PT1kLmxhc3RDaGlsZC5ub2RlTmFtZSl7bCYmbCgiSW52YWxpZCBYTUwiLAphLGMpO3JldHVybn19Y2F0Y2goZyl7fWlmKGQmJmYpcmV0dXJuIGsoYyk7KGQ9ZS5wYXJzZVhNTChjLnJlc3BvbnNlVGV4dCkpJiZkLmZpcnN0Q2hpbGQ/KGM9ZS5leHRlbmQoe30sYyx7cmVzcG9uc2VYTUw6ZH0pLGsoYykpOmwmJmwoYy5yZXNwb25zZVRleHQ/IkludmFsaWQgWE1MIjphLGEsYyl9fX12YXIgaj1kb2N1bWVudCxnPXdpbmRvdyxiPW5hdmlnYXRvcixlPWgudXRpbHM9e307ZS5leGlzdHM9ZnVuY3Rpb24oYyl7c3dpdGNoKHR5cGVvZiBjKXtjYXNlICJzdHJpbmciOnJldHVybiAwPGMubGVuZ3RoO2Nhc2UgIm9iamVjdCI6cmV0dXJuIG51bGwhPT1jO2Nhc2UgInVuZGVmaW5lZCI6cmV0dXJuITF9cmV0dXJuITB9O2Uuc3R5bGVEaW1lbnNpb249ZnVuY3Rpb24oYyl7cmV0dXJuIGMrKDA8Yy50b1N0cmluZygpLmluZGV4T2YoIiUiKT8iIjoicHgiKX07ZS5nZXRBYnNvbHV0ZVBhdGg9ZnVuY3Rpb24oYyxhKXtlLmV4aXN0cyhhKXx8KGE9ai5sb2NhdGlvbi5ocmVmKTtpZihlLmV4aXN0cyhjKSl7dmFyIGs7CmlmKGUuZXhpc3RzKGMpKXtrPWMuaW5kZXhPZigiOi8vIik7dmFyIGw9Yy5pbmRleE9mKCI/Iik7az0wPGsmJigwPmx8fGw+ayl9ZWxzZSBrPXZvaWQgMDtpZihrKXJldHVybiBjO2s9YS5zdWJzdHJpbmcoMCxhLmluZGV4T2YoIjovLyIpKzMpO3ZhciBsPWEuc3Vic3RyaW5nKGsubGVuZ3RoLGEuaW5kZXhPZigiLyIsay5sZW5ndGgrMSkpLGI7MD09PWMuaW5kZXhPZigiLyIpP2I9Yy5zcGxpdCgiLyIpOihiPWEuc3BsaXQoIj8iKVswXSxiPWIuc3Vic3RyaW5nKGsubGVuZ3RoK2wubGVuZ3RoKzEsYi5sYXN0SW5kZXhPZigiLyIpKSxiPWIuc3BsaXQoIi8iKS5jb25jYXQoYy5zcGxpdCgiLyIpKSk7Zm9yKHZhciBkPVtdLGY9MDtmPGIubGVuZ3RoO2YrKyliW2ZdJiYoZS5leGlzdHMoYltmXSkmJiIuIiE9YltmXSkmJigiLi4iPT1iW2ZdP2QucG9wKCk6ZC5wdXNoKGJbZl0pKTtyZXR1cm4gaytsKyIvIitkLmpvaW4oIi8iKX19O2UuZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLAowKTtpZigxPGMubGVuZ3RoKXtmb3IodmFyIGE9Y1swXSxrPWZ1bmN0aW9uKGMsbCl7dm9pZCAwIT09bCYmbnVsbCE9PWwmJihhW2NdPWwpfSxsPTE7bDxjLmxlbmd0aDtsKyspZS5mb3JlYWNoKGNbbF0sayk7cmV0dXJuIGF9cmV0dXJuIG51bGx9O3ZhciBwPXdpbmRvdy5jb25zb2xlPXdpbmRvdy5jb25zb2xlfHx7bG9nOmZ1bmN0aW9uKCl7fX07ZS5sb2c9ZnVuY3Rpb24oKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7Im9iamVjdCI9PT10eXBlb2YgcC5sb2c/cC5sb2coYyk6cC5sb2cuYXBwbHkocCxjKX07dmFyIGE9ZS51c2VyQWdlbnRNYXRjaD1mdW5jdGlvbihjKXtyZXR1cm4gbnVsbCE9PWIudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goYyl9O2UuaXNGRj1kKC9maXJlZm94L2kpO2UuaXNDaHJvbWU9ZCgvY2hyb21lL2kpO2UuaXNJUG9kPWQoL2lQKGhvbmV8b2QpL2kpO2UuaXNJUGFkPWQoL2lQYWQvaSk7ZS5pc1NhZmFyaTYwMj0KZCgvTWFjaW50b3NoLipNYWMgT1MgWCAxMF84Lio2XC4wXC5cZCogU2FmYXJpL2kpO2UuaXNJRVRyaWRlbnQ9ZnVuY3Rpb24oYyl7cmV0dXJuIGM/KGM9cGFyc2VGbG9hdChjKS50b0ZpeGVkKDEpLGEoUmVnRXhwKCJ0cmlkZW50Ly4rcnY6XFxzKiIrYywiaSIpKSk6YSgvdHJpZGVudC9pKX07ZS5pc01TSUU9ZnVuY3Rpb24oYyl7cmV0dXJuIGM/KGM9cGFyc2VGbG9hdChjKS50b0ZpeGVkKDEpLGEoUmVnRXhwKCJtc2llXFxzKiIrYywiaSIpKSk6YSgvbXNpZS9pKX07ZS5pc0lFPWZ1bmN0aW9uKGMpe3JldHVybiBjPyhjPXBhcnNlRmxvYXQoYykudG9GaXhlZCgxKSwxMTw9Yz9lLmlzSUVUcmlkZW50KGMpOmUuaXNNU0lFKGMpKTplLmlzTVNJRSgpfHxlLmlzSUVUcmlkZW50KCl9O2UuaXNTYWZhcmk9ZnVuY3Rpb24oKXtyZXR1cm4gYSgvc2FmYXJpL2kpJiYhYSgvY2hyb21lL2kpJiYhYSgvY2hyb21pdW0vaSkmJiFhKC9hbmRyb2lkL2kpfTtlLmlzSU9TPWZ1bmN0aW9uKGMpe3JldHVybiBjPwphKFJlZ0V4cCgiaVAoaG9uZXxhZHxvZCkuK1xcc09TXFxzIitjLCJpIikpOmEoL2lQKGhvbmV8YWR8b2QpL2kpfTtlLmlzQW5kcm9pZE5hdGl2ZT1mdW5jdGlvbihjKXtyZXR1cm4gZS5pc0FuZHJvaWQoYywhMCl9O2UuaXNBbmRyb2lkPWZ1bmN0aW9uKGMsYil7cmV0dXJuIGImJmEoL2Nocm9tZVwvWzEyMzQ1Njc4OV0vaSkmJiFhKC9jaHJvbWVcLzE4Lyk/ITE6Yz8oZS5pc0ludChjKSYmIS9cLi8udGVzdChjKSYmKGM9IiIrYysiLiIpLGEoUmVnRXhwKCJBbmRyb2lkXFxzKiIrYywiaSIpKSk6YSgvQW5kcm9pZC9pKX07ZS5pc01vYmlsZT1mdW5jdGlvbigpe3JldHVybiBlLmlzSU9TKCl8fGUuaXNBbmRyb2lkKCl9O2Uuc2F2ZUNvb2tpZT1mdW5jdGlvbihjLGEpe2ouY29va2llPSJqd3BsYXllci4iK2MrIlx4M2QiK2ErIjsgcGF0aFx4M2QvIn07ZS5nZXRDb29raWVzPWZ1bmN0aW9uKCl7Zm9yKHZhciBjPXt9LGE9ai5jb29raWUuc3BsaXQoIjsgIiksaz0wO2s8YS5sZW5ndGg7aysrKXt2YXIgbD0KYVtrXS5zcGxpdCgiXHgzZCIpOzA9PT1sWzBdLmluZGV4T2YoImp3cGxheWVyLiIpJiYoY1tsWzBdLnN1YnN0cmluZyg5LGxbMF0ubGVuZ3RoKV09bFsxXSl9cmV0dXJuIGN9O2UuaXNJbnQ9ZnVuY3Rpb24oYyl7cmV0dXJuIDA9PT1jJTF9O2UudHlwZU9mPWZ1bmN0aW9uKGMpe3ZhciBhPXR5cGVvZiBjO3JldHVybiJvYmplY3QiPT09YT8hYz8ibnVsbCI6YyBpbnN0YW5jZW9mIEFycmF5PyJhcnJheSI6YTphfTtlLnRyYW5zbGF0ZUV2ZW50UmVzcG9uc2U9ZnVuY3Rpb24oYyxhKXt2YXIgaz1lLmV4dGVuZCh7fSxhKTtpZihjPT1oLmV2ZW50cy5KV1BMQVlFUl9GVUxMU0NSRUVOJiYhay5mdWxsc2NyZWVuKWsuZnVsbHNjcmVlbj0idHJ1ZSI9PT1rLm1lc3NhZ2UsZGVsZXRlIGsubWVzc2FnZTtlbHNlIGlmKCJvYmplY3QiPT10eXBlb2Ygay5kYXRhKXt2YXIgbD1rLmRhdGE7ZGVsZXRlIGsuZGF0YTtrPWUuZXh0ZW5kKGssbCl9ZWxzZSJvYmplY3QiPT10eXBlb2Ygay5tZXRhZGF0YSYmCmUuZGVlcFJlcGxhY2VLZXlOYW1lKGsubWV0YWRhdGEsWyJfX2RvdF9fIiwiX19zcGNfXyIsIl9fZHNoX18iLCJfX2RlZmF1bHRfXyJdLFsiLiIsIiAiLCItIiwiZGVmYXVsdCJdKTtlLmZvcmVhY2goWyJwb3NpdGlvbiIsImR1cmF0aW9uIiwib2Zmc2V0Il0sZnVuY3Rpb24oYyxsKXtrW2xdJiYoa1tsXT1NYXRoLnJvdW5kKDFFMyprW2xdKS8xRTMpfSk7cmV0dXJuIGt9O2UuZmxhc2hWZXJzaW9uPWZ1bmN0aW9uKCl7aWYoZS5pc0FuZHJvaWQoKSlyZXR1cm4gMDt2YXIgYz1iLnBsdWdpbnMsYTt0cnl7aWYoInVuZGVmaW5lZCIhPT1jJiYoYT1jWyJTaG9ja3dhdmUgRmxhc2giXSkpcmV0dXJuIHBhcnNlSW50KGEuZGVzY3JpcHRpb24ucmVwbGFjZSgvXEQrKFxkKylcLi4qLywiJDEiKSwxMCl9Y2F0Y2goayl7fWlmKCJ1bmRlZmluZWQiIT10eXBlb2YgZy5BY3RpdmVYT2JqZWN0KXRyeXtpZihhPW5ldyBnLkFjdGl2ZVhPYmplY3QoIlNob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoIikpcmV0dXJuIHBhcnNlSW50KGEuR2V0VmFyaWFibGUoIiR2ZXJzaW9uIikuc3BsaXQoIiAiKVsxXS5zcGxpdCgiLCIpWzBdLAoxMCl9Y2F0Y2gobCl7fXJldHVybiAwfTtlLmdldFNjcmlwdFBhdGg9ZnVuY3Rpb24oYyl7Zm9yKHZhciBhPWouZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLGs9MDtrPGEubGVuZ3RoO2srKyl7dmFyIGw9YVtrXS5zcmM7aWYobCYmMDw9bC5pbmRleE9mKGMpKXJldHVybiBsLnN1YnN0cigwLGwuaW5kZXhPZihjKSl9cmV0dXJuIiJ9O2UuZGVlcFJlcGxhY2VLZXlOYW1lPWZ1bmN0aW9uKGMsYSxrKXtzd2l0Y2goaC51dGlscy50eXBlT2YoYykpe2Nhc2UgImFycmF5Ijpmb3IodmFyIGw9MDtsPGMubGVuZ3RoO2wrKyljW2xdPWgudXRpbHMuZGVlcFJlcGxhY2VLZXlOYW1lKGNbbF0sYSxrKTticmVhaztjYXNlICJvYmplY3QiOmUuZm9yZWFjaChjLGZ1bmN0aW9uKGwsYil7dmFyIGU7aWYoYSBpbnN0YW5jZW9mIEFycmF5JiZrIGluc3RhbmNlb2YgQXJyYXkpe2lmKGEubGVuZ3RoIT1rLmxlbmd0aClyZXR1cm47ZT1hfWVsc2UgZT1bYV07Zm9yKHZhciBkPWwsZj0wO2Y8ZS5sZW5ndGg7ZisrKWQ9CmQucmVwbGFjZShSZWdFeHAoYVtmXSwiZyIpLGtbZl0pO2NbZF09aC51dGlscy5kZWVwUmVwbGFjZUtleU5hbWUoYixhLGspO2whPWQmJmRlbGV0ZSBjW2xdfSl9cmV0dXJuIGN9O3ZhciBmPWUucGx1Z2luUGF0aFR5cGU9e0FCU09MVVRFOjAsUkVMQVRJVkU6MSxDRE46Mn07ZS5nZXRQbHVnaW5QYXRoVHlwZT1mdW5jdGlvbihjKXtpZigic3RyaW5nIj09dHlwZW9mIGMpe2M9Yy5zcGxpdCgiPyIpWzBdO3ZhciBhPWMuaW5kZXhPZigiOi8vIik7aWYoMDxhKXJldHVybiBmLkFCU09MVVRFO3ZhciBrPWMuaW5kZXhPZigiLyIpO2M9ZS5leHRlbnNpb24oYyk7cmV0dXJuIDA+YSYmMD5rJiYoIWN8fCFpc05hTihjKSk/Zi5DRE46Zi5SRUxBVElWRX19O2UuZ2V0UGx1Z2luTmFtZT1mdW5jdGlvbihjKXtyZXR1cm4gYy5yZXBsYWNlKC9eKC4qXC8pPyhbXi1dKiktPy4qXC4oc3dmfGpzKSQvLCIkMiIpfTtlLmdldFBsdWdpblZlcnNpb249ZnVuY3Rpb24oYyl7cmV0dXJuIGMucmVwbGFjZSgvW14tXSotPyhbXlwuXSopLiokLywKIiQxIil9O2UuaXNZb3VUdWJlPWZ1bmN0aW9uKGMpe3JldHVybi9eKGh0dHB8XC9cLykuKih5b3V0dWJlXC5jb218eW91dHVcLmJlKVwvLisvLnRlc3QoYyl9O2UueW91VHViZUlEPWZ1bmN0aW9uKGMpe3RyeXtyZXR1cm4vdls9XC9dKFtePyZdKil8eW91dHVcLmJlXC8oW14/XSopfF4oW1x3LV0qKSQvaS5leGVjKGMpLnNsaWNlKDEpLmpvaW4oIiIpLnJlcGxhY2UoIj8iLCIiKX1jYXRjaChhKXtyZXR1cm4iIn19O2UuaXNSdG1wPWZ1bmN0aW9uKGMsYSl7cmV0dXJuIDA9PT1jLmluZGV4T2YoInJ0bXAiKXx8InJ0bXAiPT1hfTtlLmZvcmVhY2g9ZnVuY3Rpb24oYyxhKXt2YXIgayxsO2ZvcihrIGluIGMpImZ1bmN0aW9uIj09ZS50eXBlT2YoYy5oYXNPd25Qcm9wZXJ0eSk/Yy5oYXNPd25Qcm9wZXJ0eShrKSYmKGw9Y1trXSxhKGssbCkpOihsPWNba10sYShrLGwpKX07ZS5pc0hUVFBTPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT1nLmxvY2F0aW9uLmhyZWYuaW5kZXhPZigiaHR0cHMiKX07CmUucmVwbz1mdW5jdGlvbigpe3ZhciBjPSJodHRwOi8vcC5qd3BjZG4uY29tLyIraC52ZXJzaW9uLnNwbGl0KC9cVy8pLnNwbGljZSgwLDIpLmpvaW4oIi8iKSsiLyI7dHJ5e2UuaXNIVFRQUygpJiYoYz1jLnJlcGxhY2UoImh0dHA6Ly8iLCJodHRwczovL3NzbC4iKSl9Y2F0Y2goYSl7fXJldHVybiBjfTtlLmFqYXg9ZnVuY3Rpb24oYyxhLGssbCl7dmFyIGIsZD0hMTswPGMuaW5kZXhPZigiIyIpJiYoYz1jLnJlcGxhY2UoLyMuKiQvLCIiKSk7aWYoYyYmMDw9Yy5pbmRleE9mKCI6Ly8iKSYmYy5zcGxpdCgiLyIpWzJdIT1nLmxvY2F0aW9uLmhyZWYuc3BsaXQoIi8iKVsyXSYmZS5leGlzdHMoZy5YRG9tYWluUmVxdWVzdCkpYj1uZXcgZy5YRG9tYWluUmVxdWVzdCxiLm9ubG9hZD1tKGIsYyxhLGssbCksYi5vbnRpbWVvdXQ9Yi5vbnByb2dyZXNzPWZ1bmN0aW9uKCl7fSxiLnRpbWVvdXQ9NUUzO2Vsc2UgaWYoZS5leGlzdHMoZy5YTUxIdHRwUmVxdWVzdCkpe3ZhciBmPWI9bmV3IGcuWE1MSHR0cFJlcXVlc3QsCmo9YztiLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKDQ9PT1mLnJlYWR5U3RhdGUpc3dpdGNoKGYuc3RhdHVzKXtjYXNlIDIwMDptKGYsaixhLGssbCkoKTticmVhaztjYXNlIDQwNDprKCJGaWxlIG5vdCBmb3VuZCIsaixmKX19fWVsc2UgcmV0dXJuIGsmJmsoIiIsYyxiKSxiO2Iub3ZlcnJpZGVNaW1lVHlwZSYmYi5vdmVycmlkZU1pbWVUeXBlKCJ0ZXh0L3htbCIpO3ZhciBwPWMsaD1iO2Iub25lcnJvcj1mdW5jdGlvbigpe2soIkVycm9yIGxvYWRpbmcgZmlsZSIscCxoKX07dHJ5e2Iub3BlbigiR0VUIixjLCEwKX1jYXRjaChGKXtkPSEwfXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihkKWsmJmsoYyxjLGIpO2Vsc2UgdHJ5e2Iuc2VuZCgpfWNhdGNoKGEpe2smJmsoYyxjLGIpfX0sMCk7cmV0dXJuIGJ9O2UucGFyc2VYTUw9ZnVuY3Rpb24oYyl7dmFyIGE7dHJ5e2lmKGcuRE9NUGFyc2VyKXtpZihhPShuZXcgZy5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhjLCJ0ZXh0L3htbCIpLAphLmNoaWxkTm9kZXMmJmEuY2hpbGROb2Rlcy5sZW5ndGgmJiJwYXJzZXJlcnJvciI9PWEuY2hpbGROb2Rlc1swXS5maXJzdENoaWxkLm5vZGVOYW1lKXJldHVybn1lbHNlIGE9bmV3IGcuQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTERPTSIpLGEuYXN5bmM9ImZhbHNlIixhLmxvYWRYTUwoYyl9Y2F0Y2goYil7cmV0dXJufXJldHVybiBhfTtlLmZpbHRlclBsYXlsaXN0PWZ1bmN0aW9uKGEsYixrKXt2YXIgbD1bXSxkLGYsZyxqO2ZvcihkPTA7ZDxhLmxlbmd0aDtkKyspaWYoZj1lLmV4dGVuZCh7fSxhW2RdKSxmLnNvdXJjZXM9ZS5maWx0ZXJTb3VyY2VzKGYuc291cmNlcywhMSxrKSwwPGYuc291cmNlcy5sZW5ndGgpe2ZvcihnPTA7ZzxmLnNvdXJjZXMubGVuZ3RoO2crKylqPWYuc291cmNlc1tnXSxqLmxhYmVsfHwoai5sYWJlbD1nLnRvU3RyaW5nKCkpO2wucHVzaChmKX1pZihiJiYwPT09bC5sZW5ndGgpZm9yKGQ9MDtkPGEubGVuZ3RoO2QrKylpZihmPWUuZXh0ZW5kKHt9LGFbZF0pLApmLnNvdXJjZXM9ZS5maWx0ZXJTb3VyY2VzKGYuc291cmNlcywhMCxrKSwwPGYuc291cmNlcy5sZW5ndGgpe2ZvcihnPTA7ZzxmLnNvdXJjZXMubGVuZ3RoO2crKylqPWYuc291cmNlc1tnXSxqLmxhYmVsfHwoai5sYWJlbD1nLnRvU3RyaW5nKCkpO2wucHVzaChmKX1yZXR1cm4gbH07ZS5iZXR3ZWVuPWZ1bmN0aW9uKGEsYixrKXtyZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4oYSxrKSxiKX07ZS5maWx0ZXJTb3VyY2VzPWZ1bmN0aW9uKGEsYixrKXt2YXIgbCxkO2lmKGEpe2Q9W107Zm9yKHZhciBmPTA7ZjxhLmxlbmd0aDtmKyspe3ZhciBnPWUuZXh0ZW5kKHt9LGFbZl0pLGo9Zy5maWxlLHA9Zy50eXBlO2omJihnLmZpbGU9aj1lLnRyaW0oIiIraikscHx8KHA9ZS5leHRlbnNpb24oaiksZy50eXBlPXA9ZS5leHRlbnNpb25tYXAuZXh0VHlwZShwKSksYj9oLmVtYmVkLmZsYXNoQ2FuUGxheShqLHApJiYobHx8KGw9cCkscD09bCYmZC5wdXNoKGcpKTpoLmVtYmVkLmh0bWw1Q2FuUGxheShqLApwLGspJiYobHx8KGw9cCkscD09bCYmZC5wdXNoKGcpKSl9fXJldHVybiBkfTtlLmNhblBsYXlIVE1MNT1mdW5jdGlvbihhKXthPWUuZXh0ZW5zaW9ubWFwLnR5cGVzW2FdO3JldHVybiEhYSYmISFoLnZpZC5jYW5QbGF5VHlwZSYmISFoLnZpZC5jYW5QbGF5VHlwZShhKX07ZS5zZWNvbmRzPWZ1bmN0aW9uKGEpe2E9YS5yZXBsYWNlKCIsIiwiLiIpO3ZhciBiPWEuc3BsaXQoIjoiKSxrPTA7InMiPT1hLnNsaWNlKC0xKT9rPXBhcnNlRmxvYXQoYSk6Im0iPT1hLnNsaWNlKC0xKT9rPTYwKnBhcnNlRmxvYXQoYSk6ImgiPT1hLnNsaWNlKC0xKT9rPTM2MDAqcGFyc2VGbG9hdChhKToxPGIubGVuZ3RoPyhrPXBhcnNlRmxvYXQoYltiLmxlbmd0aC0xXSksays9NjAqcGFyc2VGbG9hdChiW2IubGVuZ3RoLTJdKSwzPT1iLmxlbmd0aCYmKGsrPTM2MDAqcGFyc2VGbG9hdChiW2IubGVuZ3RoLTNdKSkpOms9cGFyc2VGbG9hdChhKTtyZXR1cm4ga307ZS5zZXJpYWxpemU9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PT0KYT9udWxsOiJ0cnVlIj09YS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCk/ITA6ImZhbHNlIj09YS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCk/ITE6aXNOYU4oTnVtYmVyKGEpKXx8NTxhLmxlbmd0aHx8MD09PWEubGVuZ3RoP2E6TnVtYmVyKGEpfTtlLmFkZENsYXNzPWZ1bmN0aW9uKGEsYil7YS5jbGFzc05hbWU9YS5jbGFzc05hbWUrIiAiK2J9O2UucmVtb3ZlQ2xhc3M9ZnVuY3Rpb24oYSxiKXthLmNsYXNzTmFtZT1hLmNsYXNzTmFtZS5yZXBsYWNlKFJlZ0V4cCgiICoiK2IsImciKSwiICIpfX0oandwbGF5ZXIpLGZ1bmN0aW9uKGgpe2Z1bmN0aW9uIGQoYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTthJiZiLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGEpKTtiLnR5cGU9InRleHQvY3NzIjtkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLmFwcGVuZENoaWxkKGIpO3JldHVybiBifWZ1bmN0aW9uIG0oYSxsLGMpe2lmKCFiLmV4aXN0cyhsKSlyZXR1cm4iIjsKYz1jPyIgIWltcG9ydGFudCI6IiI7cmV0dXJuInN0cmluZyI9PT10eXBlb2YgbCYmaXNOYU4obCk/L3BuZ3xnaWZ8anBlP2cvaS50ZXN0KGwpJiYwPmwuaW5kZXhPZigidXJsIik/InVybCgiK2wrIikiOmwrYzowPT09bHx8InotaW5kZXgiPT09YXx8Im9wYWNpdHkiPT09YT8iIitsK2M6L2NvbG9yL2kudGVzdChhKT8iIyIrYi5wYWQobC50b1N0cmluZygxNikucmVwbGFjZSgvXjB4L2ksIiIpLDYpK2M6TWF0aC5jZWlsKGwpKyJweCIrY31mdW5jdGlvbiBqKGEsYil7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBlPWFbY10sZCxmO2lmKHZvaWQgMCE9PWUmJm51bGwhPT1lKWZvcihkIGluIGIpe2Y9ZDtmPWYuc3BsaXQoIi0iKTtmb3IodmFyIGc9MTtnPGYubGVuZ3RoO2crKylmW2ddPWZbZ10uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZltnXS5zbGljZSgxKTtmPWYuam9pbigiIik7ZS5zdHlsZVtmXSE9PWJbZF0mJihlLnN0eWxlW2ZdPWJbZF0pfX19ZnVuY3Rpb24gZyhiKXt2YXIgbD0KZVtiXS5zaGVldCxkLGYsZztpZihsKXtkPWwuY3NzUnVsZXM7Zj1jW2JdO2c9Yjt2YXIgaj1hW2ddO2crPSIgeyAiO2Zvcih2YXIgcCBpbiBqKWcrPXArIjogIitqW3BdKyI7ICI7Zys9In0iO2lmKHZvaWQgMCE9PWYmJmY8ZC5sZW5ndGgmJmRbZl0uc2VsZWN0b3JUZXh0PT09Yil7aWYoZz09PWRbZl0uY3NzVGV4dClyZXR1cm47bC5kZWxldGVSdWxlKGYpfWVsc2UgZj1kLmxlbmd0aCxjW2JdPWY7dHJ5e2wuaW5zZXJ0UnVsZShnLGYpfWNhdGNoKGgpe319fXZhciBiPWgudXRpbHMsZT17fSxwLGE9e30sZj1udWxsLGM9e307Yi5jc3NLZXlmcmFtZXM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1lLmtleWZyYW1lcztjfHwoYz1kKCksZS5rZXlmcmFtZXM9Yyk7dmFyIGM9Yy5zaGVldCxmPSJAa2V5ZnJhbWVzICIrYSsiIHsgIitiKyIgfSI7dHJ5e2MuaW5zZXJ0UnVsZShmLGMuY3NzUnVsZXMubGVuZ3RoKX1jYXRjaChnKXt9Zj1mLnJlcGxhY2UoLyhrZXlmcmFtZXN8dHJhbnNmb3JtKS9nLCItd2Via2l0LSQxIik7CnRyeXtjLmluc2VydFJ1bGUoZixjLmNzc1J1bGVzLmxlbmd0aCl9Y2F0Y2goail7fX07dmFyIG49Yi5jc3M9ZnVuY3Rpb24oYixjLGope2FbYl18fChhW2JdPXt9KTt2YXIgaD1hW2JdO2o9anx8ITE7dmFyIHU9ITEsbixxO2ZvcihuIGluIGMpcT1tKG4sY1tuXSxqKSwiIiE9PXE/cSE9PWhbbl0mJihoW25dPXEsdT0hMCk6dm9pZCAwIT09aFtuXSYmKGRlbGV0ZSBoW25dLHU9ITApO2lmKHUpe2lmKCFlW2JdKXtjPXAmJnAuc2hlZXQmJnAuc2hlZXQuY3NzUnVsZXMmJnAuc2hlZXQuY3NzUnVsZXMubGVuZ3RofHwwO2lmKCFwfHw1RTQ8YylwPWQoKTtlW2JdPXB9bnVsbCE9PWY/Zi5zdHlsZVNoZWV0c1tiXT1hW2JdOmcoYil9fTtuLnN0eWxlPWZ1bmN0aW9uKGEsYixjKXtpZighKHZvaWQgMD09PWF8fG51bGw9PT1hKSl7dm9pZCAwPT09YS5sZW5ndGgmJihhPVthXSk7dmFyIGQ9e30sZTtmb3IoZSBpbiBiKWRbZV09bShlLGJbZV0pO2lmKG51bGwhPT1mJiYhYyl7Yj0oYj1hLl9fY3NzUnVsZXMpfHwKe307Zm9yKHZhciBnIGluIGQpYltnXT1kW2ddO2EuX19jc3NSdWxlcz1iOzA+Zi5lbGVtZW50cy5pbmRleE9mKGEpJiZmLmVsZW1lbnRzLnB1c2goYSl9ZWxzZSBqKGEsZCl9fTtuLmJsb2NrPWZ1bmN0aW9uKGEpe251bGw9PT1mJiYoZj17aWQ6YSxzdHlsZVNoZWV0czp7fSxlbGVtZW50czpbXX0pfTtuLnVuYmxvY2s9ZnVuY3Rpb24oYSl7aWYoZiYmKCFhfHxmLmlkPT09YSkpe2Zvcih2YXIgYiBpbiBmLnN0eWxlU2hlZXRzKWcoYik7Zm9yKGE9MDthPGYuZWxlbWVudHMubGVuZ3RoO2ErKyliPWYuZWxlbWVudHNbYV0saihiLGIuX19jc3NSdWxlcyk7Zj1udWxsfX07Yi5jbGVhckNzcz1mdW5jdGlvbihiKXtmb3IodmFyIGMgaW4gYSkwPD1jLmluZGV4T2YoYikmJmRlbGV0ZSBhW2NdO2Zvcih2YXIgZiBpbiBlKTA8PWYuaW5kZXhPZihiKSYmZyhmKX07Yi50cmFuc2Zvcm09ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTtiPWJ8fCIiO2MudHJhbnNmb3JtPWI7Y1siLXdlYmtpdC10cmFuc2Zvcm0iXT0KYjtjWyItbXMtdHJhbnNmb3JtIl09YjtjWyItbW96LXRyYW5zZm9ybSJdPWI7Y1siLW8tdHJhbnNmb3JtIl09Yjsic3RyaW5nIj09PXR5cGVvZiBhP24oYSxjKTpuLnN0eWxlKGEsYyl9O2IuZHJhZ1N0eWxlPWZ1bmN0aW9uKGEsYil7bihhLHsiLXdlYmtpdC11c2VyLXNlbGVjdCI6YiwiLW1vei11c2VyLXNlbGVjdCI6YiwiLW1zLXVzZXItc2VsZWN0IjpiLCItd2Via2l0LXVzZXItZHJhZyI6YiwidXNlci1zZWxlY3QiOmIsInVzZXItZHJhZyI6Yn0pfTtiLnRyYW5zaXRpb25TdHlsZT1mdW5jdGlvbihhLGIpe25hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goLzVcLlxkKFwuXGQpPyBzYWZhcmkvaSl8fG4oYSx7Ii13ZWJraXQtdHJhbnNpdGlvbiI6YiwiLW1vei10cmFuc2l0aW9uIjpiLCItby10cmFuc2l0aW9uIjpiLHRyYW5zaXRpb246Yn0pfTtiLnJvdGF0ZT1mdW5jdGlvbihhLGMpe2IudHJhbnNmb3JtKGEsInJvdGF0ZSgiK2MrImRlZykiKX07Yi5yZ2JIZXg9ZnVuY3Rpb24oYSl7YT0KU3RyaW5nKGEpLnJlcGxhY2UoIiMiLCIiKTszPT09YS5sZW5ndGgmJihhPWFbMF0rYVswXSthWzFdK2FbMV0rYVsyXSthWzJdKTtyZXR1cm4iIyIrYS5zdWJzdHIoLTYpfTtiLmhleFRvUmdiYT1mdW5jdGlvbihhLGIpe3ZhciBjPSJyZ2IiLGY9W3BhcnNlSW50KGEuc3Vic3RyKDEsMiksMTYpLHBhcnNlSW50KGEuc3Vic3RyKDMsMiksMTYpLHBhcnNlSW50KGEuc3Vic3RyKDUsMiksMTYpXTt2b2lkIDAhPT1iJiYxMDAhPT1iJiYoYys9ImEiLGYucHVzaChiLzEwMCkpO3JldHVybiBjKyIoIitmLmpvaW4oIiwiKSsiKSJ9fShqd3BsYXllciksZnVuY3Rpb24oaCl7dmFyIGQ9aC5mb3JlYWNoLG09e21wNDoidmlkZW8vbXA0IixvZ2c6InZpZGVvL29nZyIsb2dhOiJhdWRpby9vZ2ciLHZvcmJpczoiYXVkaW8vb2dnIix3ZWJtOiJ2aWRlby93ZWJtIixhYWM6ImF1ZGlvL21wNCIsbXAzOiJhdWRpby9tcGVnIixobHM6ImFwcGxpY2F0aW9uL3ZuZC5hcHBsZS5tcGVndXJsIn0saj17bXA0Om0ubXA0LApmNHY6bS5tcDQsbTR2Om0ubXA0LG1vdjptLm1wNCxtNGE6bS5hYWMsZjRhOm0uYWFjLGFhYzptLmFhYyxtcDM6bS5tcDMsb2d2Om0ub2dnLG9nZzptLm9nZyxvZ2E6bS52b3JiaXMsdm9yYmlzOm0udm9yYmlzLHdlYm06bS53ZWJtLG0zdTg6bS5obHMsbTN1Om0uaGxzLGhsczptLmhsc30sZz1oLmV4dGVuc2lvbm1hcD17fTtkKGosZnVuY3Rpb24oYixkKXtnW2JdPXtodG1sNTpkfX0pO2Qoe2ZsdjoidmlkZW8iLGY0djoidmlkZW8iLG1vdjoidmlkZW8iLG00YToidmlkZW8iLG00djoidmlkZW8iLG1wNDoidmlkZW8iLGFhYzoidmlkZW8iLGY0YToidmlkZW8iLG1wMzoic291bmQiLHNtaWw6InJ0bXAiLG0zdTg6ImhscyIsaGxzOiJobHMifSxmdW5jdGlvbihiLGQpe2dbYl18fChnW2JdPXt9KTtnW2JdLmZsYXNoPWR9KTtnLnR5cGVzPW07Zy5taW1lVHlwZT1mdW5jdGlvbihiKXt2YXIgZTtkKG0sZnVuY3Rpb24oZCxhKXshZSYmYT09YiYmKGU9ZCl9KTtyZXR1cm4gZX07Zy5leHRUeXBlPQpmdW5jdGlvbihiKXtyZXR1cm4gZy5taW1lVHlwZShqW2JdKX19KGp3cGxheWVyLnV0aWxzKSxmdW5jdGlvbihoKXt2YXIgZD1oLmxvYWRlcnN0YXR1cz17TkVXOjAsTE9BRElORzoxLEVSUk9SOjIsQ09NUExFVEU6M30sbT1kb2N1bWVudDtoLnNjcmlwdGxvYWRlcj1mdW5jdGlvbihqKXtmdW5jdGlvbiBnKGIpe2E9ZC5FUlJPUjtwLnNlbmRFdmVudChlLkVSUk9SLGIpfWZ1bmN0aW9uIGIoYil7YT1kLkNPTVBMRVRFO3Auc2VuZEV2ZW50KGUuQ09NUExFVEUsYil9dmFyIGU9andwbGF5ZXIuZXZlbnRzLHA9aC5leHRlbmQodGhpcyxuZXcgZS5ldmVudGRpc3BhdGNoZXIpLGE9ZC5ORVc7dGhpcy5sb2FkPWZ1bmN0aW9uKCl7aWYoYT09ZC5ORVcpe3ZhciBmPWguc2NyaXB0bG9hZGVyLmxvYWRlcnNbal07aWYoZiYmKGE9Zi5nZXRTdGF0dXMoKSwyPmEpKXtmLmFkZEV2ZW50TGlzdGVuZXIoZS5FUlJPUixnKTtmLmFkZEV2ZW50TGlzdGVuZXIoZS5DT01QTEVURSxiKTtyZXR1cm59dmFyIGM9Cm0uY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7Yy5hZGRFdmVudExpc3RlbmVyPyhjLm9ubG9hZD1iLGMub25lcnJvcj1nKTpjLnJlYWR5U3RhdGUmJihjLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbihhKXsoImxvYWRlZCI9PWMucmVhZHlTdGF0ZXx8ImNvbXBsZXRlIj09Yy5yZWFkeVN0YXRlKSYmYihhKX0pO20uZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXS5hcHBlbmRDaGlsZChjKTtjLnNyYz1qO2E9ZC5MT0FESU5HO2guc2NyaXB0bG9hZGVyLmxvYWRlcnNbal09dGhpc319O3RoaXMuZ2V0U3RhdHVzPWZ1bmN0aW9uKCl7cmV0dXJuIGF9fTtoLnNjcmlwdGxvYWRlci5sb2FkZXJzPXt9fShqd3BsYXllci51dGlscyksZnVuY3Rpb24oaCl7aC50cmltPWZ1bmN0aW9uKGQpe3JldHVybiBkLnJlcGxhY2UoL15ccyovLCIiKS5yZXBsYWNlKC9ccyokLywiIil9O2gucGFkPWZ1bmN0aW9uKGQsaCxqKXtmb3Ioanx8KGo9IjAiKTtkLmxlbmd0aDxoOylkPWorZDtyZXR1cm4gZH07CmgueG1sQXR0cmlidXRlPWZ1bmN0aW9uKGQsaCl7Zm9yKHZhciBqPTA7ajxkLmF0dHJpYnV0ZXMubGVuZ3RoO2orKylpZihkLmF0dHJpYnV0ZXNbal0ubmFtZSYmZC5hdHRyaWJ1dGVzW2pdLm5hbWUudG9Mb3dlckNhc2UoKT09aC50b0xvd2VyQ2FzZSgpKXJldHVybiBkLmF0dHJpYnV0ZXNbal0udmFsdWUudG9TdHJpbmcoKTtyZXR1cm4iIn07aC5leHRlbnNpb249ZnVuY3Rpb24oZCl7aWYoIWR8fCJydG1wIj09ZC5zdWJzdHIoMCw0KSlyZXR1cm4iIjt2YXIgaDtoPWQubWF0Y2goL21hbmlmZXN0XChmb3JtYXQ9KC4qKSxhdWRpb1RyYWNrLyk7aD0haHx8IWhbMV0/ITE6aFsxXS5zcGxpdCgiLSIpWzBdO2lmKGgpcmV0dXJuIGg7ZD1kLnN1YnN0cmluZyhkLmxhc3RJbmRleE9mKCIvIikrMSxkLmxlbmd0aCkuc3BsaXQoIj8iKVswXS5zcGxpdCgiIyIpWzBdO2lmKC0xPGQubGFzdEluZGV4T2YoIi4iKSlyZXR1cm4gZC5zdWJzdHIoZC5sYXN0SW5kZXhPZigiLiIpKzEsZC5sZW5ndGgpLnRvTG93ZXJDYXNlKCl9OwpoLnN0cmluZ1RvQ29sb3I9ZnVuY3Rpb24oZCl7ZD1kLnJlcGxhY2UoLygjfDB4KT8oWzAtOUEtRl17Myw2fSkkL2dpLCIkMiIpOzM9PWQubGVuZ3RoJiYoZD1kLmNoYXJBdCgwKStkLmNoYXJBdCgwKStkLmNoYXJBdCgxKStkLmNoYXJBdCgxKStkLmNoYXJBdCgyKStkLmNoYXJBdCgyKSk7cmV0dXJuIHBhcnNlSW50KGQsMTYpfX0oandwbGF5ZXIudXRpbHMpLGZ1bmN0aW9uKGgpe3ZhciBkPSJ0b3VjaG1vdmUiLG09InRvdWNoc3RhcnQiO2gudG91Y2g9ZnVuY3Rpb24oail7ZnVuY3Rpb24gZyhmKXtmLnR5cGU9PW0/KGE9ITAsYz1lKGsuRFJBR19TVEFSVCxmKSk6Zi50eXBlPT1kP2EmJihufHwoYihrLkRSQUdfU1RBUlQsZixjKSxuPSEwKSxiKGsuRFJBRyxmKSk6KGEmJihuP2Ioay5EUkFHX0VORCxmKTooZi5jYW5jZWxCdWJibGU9ITAsYihrLlRBUCxmKSkpLGE9bj0hMSxjPW51bGwpfWZ1bmN0aW9uIGIoYSxiLGMpe2lmKGZbYV0mJihiLnByZXZlbnRNYW5pcHVsYXRpb24mJmIucHJldmVudE1hbmlwdWxhdGlvbigpLApiLnByZXZlbnREZWZhdWx0JiZiLnByZXZlbnREZWZhdWx0KCksYj1jP2M6ZShhLGIpKSlmW2FdKGIpfWZ1bmN0aW9uIGUoYSxiKXt2YXIgZj1udWxsO2IudG91Y2hlcyYmYi50b3VjaGVzLmxlbmd0aD9mPWIudG91Y2hlc1swXTpiLmNoYW5nZWRUb3VjaGVzJiZiLmNoYW5nZWRUb3VjaGVzLmxlbmd0aCYmKGY9Yi5jaGFuZ2VkVG91Y2hlc1swXSk7aWYoIWYpcmV0dXJuIG51bGw7dmFyIGQ9cC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxmPXt0eXBlOmEsdGFyZ2V0OnAseDpmLnBhZ2VYLXdpbmRvdy5wYWdlWE9mZnNldC1kLmxlZnQseTpmLnBhZ2VZLGRlbHRhWDowLGRlbHRhWTowfTthIT1rLlRBUCYmYyYmKGYuZGVsdGFYPWYueC1jLngsZi5kZWx0YVk9Zi55LWMueSk7cmV0dXJuIGZ9dmFyIHA9aixhPSExLGY9e30sYz1udWxsLG49ITEsaz1oLnRvdWNoRXZlbnRzO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZCxnKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaGVuZCIsCmZ1bmN0aW9uKGYpe2EmJm4mJmIoay5EUkFHX0VORCxmKTthPW49ITE7Yz1udWxsfSk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hjYW5jZWwiLGcpO2ouYWRkRXZlbnRMaXN0ZW5lcihtLGcpO2ouYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hlbmQiLGcpO3RoaXMuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe2ZbYV09Yn07dGhpcy5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGEpe2RlbGV0ZSBmW2FdfTtyZXR1cm4gdGhpc319KGp3cGxheWVyLnV0aWxzKSxmdW5jdGlvbihoKXtoLnRvdWNoRXZlbnRzPXtEUkFHOiJqd3BsYXllckRyYWciLERSQUdfU1RBUlQ6Imp3cGxheWVyRHJhZ1N0YXJ0IixEUkFHX0VORDoiandwbGF5ZXJEcmFnRW5kIixUQVA6Imp3cGxheWVyVGFwIn19KGp3cGxheWVyLnV0aWxzKSxmdW5jdGlvbihoKXtoLmtleT1mdW5jdGlvbihkKXt2YXIgbSxqLGc7dGhpcy5lZGl0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGcmJmcuZ2V0VGltZSgpPAoobmV3IERhdGUpLmdldFRpbWUoKT8iaW52YWxpZCI6bX07dGhpcy50b2tlbj1mdW5jdGlvbigpe3JldHVybiBqfTtoLmV4aXN0cyhkKXx8KGQ9IiIpO3RyeXtkPWgudGVhLmRlY3J5cHQoZCwiMzZRWHE0V0BHU0JWXnRlUiIpO3ZhciBiPWQuc3BsaXQoIi8iKTsobT1iWzBdKT8vXihmcmVlfHByb3xwcmVtaXVtfGVudGVycHJpc2V8YWRzKSQvaS50ZXN0KG0pPyhqPWJbMV0sYlsyXSYmMDxwYXJzZUludChiWzJdKSYmKGc9bmV3IERhdGUsZy5zZXRUaW1lKFN0cmluZyhiWzJdKSkpKTptPSJpbnZhbGlkIjptPSJmcmVlIn1jYXRjaChlKXttPSJpbnZhbGlkIn19fShqd3BsYXllci51dGlscyksZnVuY3Rpb24oaCl7dmFyIGQ9aC50ZWE9e307ZC5lbmNyeXB0PWZ1bmN0aW9uKGcsYil7aWYoMD09Zy5sZW5ndGgpcmV0dXJuIiI7dmFyIGU9ZC5zdHJUb0xvbmdzKGouZW5jb2RlKGcpKTsxPj1lLmxlbmd0aCYmKGVbMV09MCk7Zm9yKHZhciBoPWQuc3RyVG9Mb25ncyhqLmVuY29kZShiKS5zbGljZSgwLAoxNikpLGE9ZS5sZW5ndGgsZj1lW2EtMV0sYz1lWzBdLG4saz1NYXRoLmZsb29yKDYrNTIvYSksbD0wOzA8ay0tOyl7bCs9MjY1NDQzNTc2OTtuPWw+Pj4yJjM7Zm9yKHZhciByPTA7cjxhO3IrKyljPWVbKHIrMSklYV0sZj0oZj4+PjVeYzw8MikrKGM+Pj4zXmY8PDQpXihsXmMpKyhoW3ImM15uXV5mKSxmPWVbcl0rPWZ9ZT1kLmxvbmdzVG9TdHIoZSk7cmV0dXJuIG0uZW5jb2RlKGUpfTtkLmRlY3J5cHQ9ZnVuY3Rpb24oZyxiKXtpZigwPT1nLmxlbmd0aClyZXR1cm4iIjtmb3IodmFyIGU9ZC5zdHJUb0xvbmdzKG0uZGVjb2RlKGcpKSxoPWQuc3RyVG9Mb25ncyhqLmVuY29kZShiKS5zbGljZSgwLDE2KSksYT1lLmxlbmd0aCxmPWVbYS0xXSxjPWVbMF0sbixrPTI2NTQ0MzU3NjkqTWF0aC5mbG9vcig2KzUyL2EpOzAhPWs7KXtuPWs+Pj4yJjM7Zm9yKHZhciBsPWEtMTswPD1sO2wtLSlmPWVbMDxsP2wtMTphLTFdLGY9KGY+Pj41XmM8PDIpKyhjPj4+M15mPDw0KV4oa15jKSsoaFtsJjNeCm5dXmYpLGM9ZVtsXS09ZjtrLT0yNjU0NDM1NzY5fWU9ZC5sb25nc1RvU3RyKGUpO2U9ZS5yZXBsYWNlKC9cMCskLywiIik7cmV0dXJuIGouZGVjb2RlKGUpfTtkLnN0clRvTG9uZ3M9ZnVuY3Rpb24oZCl7Zm9yKHZhciBiPUFycmF5KE1hdGguY2VpbChkLmxlbmd0aC80KSksZT0wO2U8Yi5sZW5ndGg7ZSsrKWJbZV09ZC5jaGFyQ29kZUF0KDQqZSkrKGQuY2hhckNvZGVBdCg0KmUrMSk8PDgpKyhkLmNoYXJDb2RlQXQoNCplKzIpPDwxNikrKGQuY2hhckNvZGVBdCg0KmUrMyk8PDI0KTtyZXR1cm4gYn07ZC5sb25nc1RvU3RyPWZ1bmN0aW9uKGQpe2Zvcih2YXIgYj1BcnJheShkLmxlbmd0aCksZT0wO2U8ZC5sZW5ndGg7ZSsrKWJbZV09U3RyaW5nLmZyb21DaGFyQ29kZShkW2VdJjI1NSxkW2VdPj4+OCYyNTUsZFtlXT4+PjE2JjI1NSxkW2VdPj4+MjQmMjU1KTtyZXR1cm4gYi5qb2luKCIiKX07dmFyIG09e2NvZGU6IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9ceDNkIiwKZW5jb2RlOmZ1bmN0aW9uKGQsYil7dmFyIGUsaCxhLGYsYz1bXSxuPSIiLGssbCxyPW0uY29kZTtsPSgidW5kZWZpbmVkIj09dHlwZW9mIGI/MDpiKT9qLmVuY29kZShkKTpkO2s9bC5sZW5ndGglMztpZigwPGspZm9yKDszPmsrKzspbis9Ilx4M2QiLGwrPSJceDAwIjtmb3Ioaz0wO2s8bC5sZW5ndGg7ays9MyllPWwuY2hhckNvZGVBdChrKSxoPWwuY2hhckNvZGVBdChrKzEpLGE9bC5jaGFyQ29kZUF0KGsrMiksZj1lPDwxNnxoPDw4fGEsZT1mPj4xOCY2MyxoPWY+PjEyJjYzLGE9Zj4+NiY2MyxmJj02MyxjW2svM109ci5jaGFyQXQoZSkrci5jaGFyQXQoaCkrci5jaGFyQXQoYSkrci5jaGFyQXQoZik7Yz1jLmpvaW4oIiIpO3JldHVybiBjPWMuc2xpY2UoMCxjLmxlbmd0aC1uLmxlbmd0aCkrbn0sZGVjb2RlOmZ1bmN0aW9uKGQsYil7Yj0idW5kZWZpbmVkIj09dHlwZW9mIGI/ITE6Yjt2YXIgZSxoLGEsZixjLG49W10sayxsPW0uY29kZTtrPWI/ai5kZWNvZGUoZCk6ZDtmb3IodmFyIHI9CjA7cjxrLmxlbmd0aDtyKz00KWU9bC5pbmRleE9mKGsuY2hhckF0KHIpKSxoPWwuaW5kZXhPZihrLmNoYXJBdChyKzEpKSxmPWwuaW5kZXhPZihrLmNoYXJBdChyKzIpKSxjPWwuaW5kZXhPZihrLmNoYXJBdChyKzMpKSxhPWU8PDE4fGg8PDEyfGY8PDZ8YyxlPWE+Pj4xNiYyNTUsaD1hPj4+OCYyNTUsYSY9MjU1LG5bci80XT1TdHJpbmcuZnJvbUNoYXJDb2RlKGUsaCxhKSw2ND09YyYmKG5bci80XT1TdHJpbmcuZnJvbUNoYXJDb2RlKGUsaCkpLDY0PT1mJiYobltyLzRdPVN0cmluZy5mcm9tQ2hhckNvZGUoZSkpO2Y9bi5qb2luKCIiKTtyZXR1cm4gYj9qLmRlY29kZShmKTpmfX0saj17ZW5jb2RlOmZ1bmN0aW9uKGQpe2Q9ZC5yZXBsYWNlKC9bXHUwMDgwLVx1MDdmZl0vZyxmdW5jdGlvbihiKXtiPWIuY2hhckNvZGVBdCgwKTtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSgxOTJ8Yj4+NiwxMjh8YiY2Myl9KTtyZXR1cm4gZD1kLnJlcGxhY2UoL1tcdTA4MDAtXHVmZmZmXS9nLGZ1bmN0aW9uKGIpe2I9CmIuY2hhckNvZGVBdCgwKTtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSgyMjR8Yj4+MTIsMTI4fGI+PjYmNjMsMTI4fGImNjMpfSl9LGRlY29kZTpmdW5jdGlvbihkKXtkPWQucmVwbGFjZSgvW1x1MDBlMC1cdTAwZWZdW1x1MDA4MC1cdTAwYmZdW1x1MDA4MC1cdTAwYmZdL2csZnVuY3Rpb24oYil7Yj0oYi5jaGFyQ29kZUF0KDApJjE1KTw8MTJ8KGIuY2hhckNvZGVBdCgxKSY2Myk8PDZ8Yi5jaGFyQ29kZUF0KDIpJjYzO3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGIpfSk7cmV0dXJuIGQ9ZC5yZXBsYWNlKC9bXHUwMGMwLVx1MDBkZl1bXHUwMDgwLVx1MDBiZl0vZyxmdW5jdGlvbihiKXtiPShiLmNoYXJDb2RlQXQoMCkmMzEpPDw2fGIuY2hhckNvZGVBdCgxKSY2MztyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShiKX0pfX19KGp3cGxheWVyLnV0aWxzKSxmdW5jdGlvbihoKXtoLmV2ZW50cz17Q09NUExFVEU6IkNPTVBMRVRFIixFUlJPUjoiRVJST1IiLEFQSV9SRUFEWToiandwbGF5ZXJBUElSZWFkeSIsCkpXUExBWUVSX1JFQURZOiJqd3BsYXllclJlYWR5IixKV1BMQVlFUl9GVUxMU0NSRUVOOiJqd3BsYXllckZ1bGxzY3JlZW4iLEpXUExBWUVSX1JFU0laRToiandwbGF5ZXJSZXNpemUiLEpXUExBWUVSX0VSUk9SOiJqd3BsYXllckVycm9yIixKV1BMQVlFUl9TRVRVUF9FUlJPUjoiandwbGF5ZXJTZXR1cEVycm9yIixKV1BMQVlFUl9NRURJQV9CRUZPUkVQTEFZOiJqd3BsYXllck1lZGlhQmVmb3JlUGxheSIsSldQTEFZRVJfTUVESUFfQkVGT1JFQ09NUExFVEU6Imp3cGxheWVyTWVkaWFCZWZvcmVDb21wbGV0ZSIsSldQTEFZRVJfQ09NUE9ORU5UX1NIT1c6Imp3cGxheWVyQ29tcG9uZW50U2hvdyIsSldQTEFZRVJfQ09NUE9ORU5UX0hJREU6Imp3cGxheWVyQ29tcG9uZW50SGlkZSIsSldQTEFZRVJfTUVESUFfQlVGRkVSOiJqd3BsYXllck1lZGlhQnVmZmVyIixKV1BMQVlFUl9NRURJQV9CVUZGRVJfRlVMTDoiandwbGF5ZXJNZWRpYUJ1ZmZlckZ1bGwiLEpXUExBWUVSX01FRElBX0VSUk9SOiJqd3BsYXllck1lZGlhRXJyb3IiLApKV1BMQVlFUl9NRURJQV9MT0FERUQ6Imp3cGxheWVyTWVkaWFMb2FkZWQiLEpXUExBWUVSX01FRElBX0NPTVBMRVRFOiJqd3BsYXllck1lZGlhQ29tcGxldGUiLEpXUExBWUVSX01FRElBX1NFRUs6Imp3cGxheWVyTWVkaWFTZWVrIixKV1BMQVlFUl9NRURJQV9USU1FOiJqd3BsYXllck1lZGlhVGltZSIsSldQTEFZRVJfTUVESUFfVk9MVU1FOiJqd3BsYXllck1lZGlhVm9sdW1lIixKV1BMQVlFUl9NRURJQV9NRVRBOiJqd3BsYXllck1lZGlhTWV0YSIsSldQTEFZRVJfTUVESUFfTVVURToiandwbGF5ZXJNZWRpYU11dGUiLEpXUExBWUVSX01FRElBX0xFVkVMUzoiandwbGF5ZXJNZWRpYUxldmVscyIsSldQTEFZRVJfTUVESUFfTEVWRUxfQ0hBTkdFRDoiandwbGF5ZXJNZWRpYUxldmVsQ2hhbmdlZCIsSldQTEFZRVJfQ0FQVElPTlNfQ0hBTkdFRDoiandwbGF5ZXJDYXB0aW9uc0NoYW5nZWQiLEpXUExBWUVSX0NBUFRJT05TX0xJU1Q6Imp3cGxheWVyQ2FwdGlvbnNMaXN0IixKV1BMQVlFUl9DQVBUSU9OU19MT0FERUQ6Imp3cGxheWVyQ2FwdGlvbnNMb2FkZWQiLApKV1BMQVlFUl9QTEFZRVJfU1RBVEU6Imp3cGxheWVyUGxheWVyU3RhdGUiLHN0YXRlOntCVUZGRVJJTkc6IkJVRkZFUklORyIsSURMRToiSURMRSIsUEFVU0VEOiJQQVVTRUQiLFBMQVlJTkc6IlBMQVlJTkcifSxKV1BMQVlFUl9QTEFZTElTVF9MT0FERUQ6Imp3cGxheWVyUGxheWxpc3RMb2FkZWQiLEpXUExBWUVSX1BMQVlMSVNUX0lURU06Imp3cGxheWVyUGxheWxpc3RJdGVtIixKV1BMQVlFUl9QTEFZTElTVF9DT01QTEVURToiandwbGF5ZXJQbGF5bGlzdENvbXBsZXRlIixKV1BMQVlFUl9ESVNQTEFZX0NMSUNLOiJqd3BsYXllclZpZXdDbGljayIsSldQTEFZRVJfVklFV19UQUJfRk9DVVM6Imp3cGxheWVyVmlld1RhYkZvY3VzIixKV1BMQVlFUl9DT05UUk9MUzoiandwbGF5ZXJWaWV3Q29udHJvbHMiLEpXUExBWUVSX1VTRVJfQUNUSU9OOiJqd3BsYXllclVzZXJBY3Rpb24iLEpXUExBWUVSX0lOU1RSRUFNX0NMSUNLOiJqd3BsYXllckluc3RyZWFtQ2xpY2tlZCIsSldQTEFZRVJfSU5TVFJFQU1fREVTVFJPWUVEOiJqd3BsYXllckluc3RyZWFtRGVzdHJveWVkIiwKSldQTEFZRVJfQURfVElNRToiandwbGF5ZXJBZFRpbWUiLEpXUExBWUVSX0FEX0VSUk9SOiJqd3BsYXllckFkRXJyb3IiLEpXUExBWUVSX0FEX0NMSUNLOiJqd3BsYXllckFkQ2xpY2tlZCIsSldQTEFZRVJfQURfQ09NUExFVEU6Imp3cGxheWVyQWRDb21wbGV0ZSIsSldQTEFZRVJfQURfSU1QUkVTU0lPTjoiandwbGF5ZXJBZEltcHJlc3Npb24iLEpXUExBWUVSX0FEX0NPTVBBTklPTlM6Imp3cGxheWVyQWRDb21wYW5pb25zIixKV1BMQVlFUl9BRF9TS0lQUEVEOiJqd3BsYXllckFkU2tpcHBlZCIsSldQTEFZRVJfQURfUExBWToiandwbGF5ZXJBZFBsYXkiLEpXUExBWUVSX0FEX1BBVVNFOiJqd3BsYXllckFkUGF1c2UiLEpXUExBWUVSX0FEX01FVEE6Imp3cGxheWVyQWRNZXRhIixKV1BMQVlFUl9DQVNUX0FWQUlMQUJMRToiandwbGF5ZXJDYXN0QXZhaWxhYmxlIixKV1BMQVlFUl9DQVNUX1NFU1NJT046Imp3cGxheWVyQ2FzdFNlc3Npb24iLEpXUExBWUVSX0NBU1RfQURfQ0hBTkdFRDoiandwbGF5ZXJDYXN0QWRDaGFuZ2VkIn19KGp3cGxheWVyKSwKZnVuY3Rpb24oaCl7dmFyIGQ9aC51dGlscztoLmV2ZW50cy5ldmVudGRpc3BhdGNoZXI9ZnVuY3Rpb24obSxqKXtmdW5jdGlvbiBnKGIsYSxmKXtpZihiKWZvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZT1iW2NdO2lmKGUpe251bGwhPT1lLmNvdW50JiYwPT09LS1lLmNvdW50JiZkZWxldGUgYltjXTt0cnl7ZS5saXN0ZW5lcihhKX1jYXRjaChnKXtkLmxvZygnRXJyb3IgaGFuZGxpbmcgIicrZisnIiBldmVudCBsaXN0ZW5lciBbJytjKyJdOiAiK2cudG9TdHJpbmcoKSxlLmxpc3RlbmVyLGEpfX19fXZhciBiLGU7dGhpcy5yZXNldEV2ZW50TGlzdGVuZXJzPWZ1bmN0aW9uKCl7Yj17fTtlPVtdfTt0aGlzLnJlc2V0RXZlbnRMaXN0ZW5lcnMoKTt0aGlzLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZSxhLGYpe3RyeXtkLmV4aXN0cyhiW2VdKXx8KGJbZV09W10pLCJzdHJpbmciPT1kLnR5cGVPZihhKSYmKGE9KG5ldyBGdW5jdGlvbigicmV0dXJuICIrYSkpKCkpLGJbZV0ucHVzaCh7bGlzdGVuZXI6YSwKY291bnQ6Znx8bnVsbH0pfWNhdGNoKGMpe2QubG9nKCJlcnJvciIsYyl9cmV0dXJuITF9O3RoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLGEpe2lmKGJbZV0pe3RyeXtpZih2b2lkIDA9PT1hKXtiW2VdPVtdO3JldHVybn1mb3IodmFyIGY9MDtmPGJbZV0ubGVuZ3RoO2YrKylpZihiW2VdW2ZdLmxpc3RlbmVyLnRvU3RyaW5nKCk9PWEudG9TdHJpbmcoKSl7YltlXS5zcGxpY2UoZiwxKTticmVha319Y2F0Y2goYyl7ZC5sb2coImVycm9yIixjKX1yZXR1cm4hMX19O3RoaXMuYWRkR2xvYmFsTGlzdGVuZXI9ZnVuY3Rpb24oYixhKXt0cnl7InN0cmluZyI9PWQudHlwZU9mKGIpJiYoYj0obmV3IEZ1bmN0aW9uKCJyZXR1cm4gIitiKSkoKSksZS5wdXNoKHtsaXN0ZW5lcjpiLGNvdW50OmF8fG51bGx9KX1jYXRjaChmKXtkLmxvZygiZXJyb3IiLGYpfXJldHVybiExfTt0aGlzLnJlbW92ZUdsb2JhbExpc3RlbmVyPWZ1bmN0aW9uKGIpe2lmKGIpe3RyeXtmb3IodmFyIGE9ZS5sZW5ndGg7YS0tOyllW2FdLmxpc3RlbmVyLnRvU3RyaW5nKCk9PQpiLnRvU3RyaW5nKCkmJmUuc3BsaWNlKGEsMSl9Y2F0Y2goZil7ZC5sb2coImVycm9yIixmKX1yZXR1cm4hMX19O3RoaXMuc2VuZEV2ZW50PWZ1bmN0aW9uKHAsYSl7ZC5leGlzdHMoYSl8fChhPXt9KTtkLmV4dGVuZChhLHtpZDptLHZlcnNpb246aC52ZXJzaW9uLHR5cGU6cH0pO2omJmQubG9nKHAsYSk7ZyhiW3BdLGEscCk7ZyhlLGEscCl9fX0od2luZG93Lmp3cGxheWVyKSxmdW5jdGlvbihoKXt2YXIgZD17fSxtPXt9O2gucGx1Z2lucz1mdW5jdGlvbigpe307aC5wbHVnaW5zLmxvYWRQbHVnaW5zPWZ1bmN0aW9uKGosZyl7bVtqXT1uZXcgaC5wbHVnaW5zLnBsdWdpbmxvYWRlcihuZXcgaC5wbHVnaW5zLm1vZGVsKGQpLGcpO3JldHVybiBtW2pdfTtoLnBsdWdpbnMucmVnaXN0ZXJQbHVnaW49ZnVuY3Rpb24oaixnLGIsZSl7dmFyIHA9aC51dGlscy5nZXRQbHVnaW5OYW1lKGopO2RbcF18fChkW3BdPW5ldyBoLnBsdWdpbnMucGx1Z2luKGopKTtkW3BdLnJlZ2lzdGVyUGx1Z2luKGosCmcsYixlKX19KGp3cGxheWVyKSxmdW5jdGlvbihoKXtoLnBsdWdpbnMubW9kZWw9ZnVuY3Rpb24oZCl7dGhpcy5hZGRQbHVnaW49ZnVuY3Rpb24obSl7dmFyIGo9aC51dGlscy5nZXRQbHVnaW5OYW1lKG0pO2Rbal18fChkW2pdPW5ldyBoLnBsdWdpbnMucGx1Z2luKG0pKTtyZXR1cm4gZFtqXX07dGhpcy5nZXRQbHVnaW5zPWZ1bmN0aW9uKCl7cmV0dXJuIGR9fX0oandwbGF5ZXIpLGZ1bmN0aW9uKGgpe3ZhciBkPWp3cGxheWVyLnV0aWxzLG09andwbGF5ZXIuZXZlbnRzO2gucGx1Z2lubW9kZXM9e0ZMQVNIOjAsSkFWQVNDUklQVDoxLEhZQlJJRDoyfTtoLnBsdWdpbj1mdW5jdGlvbihqKXtmdW5jdGlvbiBnKCl7c3dpdGNoKGQuZ2V0UGx1Z2luUGF0aFR5cGUoaikpe2Nhc2UgZC5wbHVnaW5QYXRoVHlwZS5BQlNPTFVURTpyZXR1cm4gajtjYXNlIGQucGx1Z2luUGF0aFR5cGUuUkVMQVRJVkU6cmV0dXJuIGQuZ2V0QWJzb2x1dGVQYXRoKGosd2luZG93LmxvY2F0aW9uLmhyZWYpfX1mdW5jdGlvbiBiKCl7bj0Kc2V0VGltZW91dChmdW5jdGlvbigpe3A9ZC5sb2FkZXJzdGF0dXMuQ09NUExFVEU7ay5zZW5kRXZlbnQobS5DT01QTEVURSl9LDFFMyl9ZnVuY3Rpb24gZSgpe3A9ZC5sb2FkZXJzdGF0dXMuRVJST1I7ay5zZW5kRXZlbnQobS5FUlJPUil9dmFyIHA9ZC5sb2FkZXJzdGF0dXMuTkVXLGEsZixjLG4saz1uZXcgbS5ldmVudGRpc3BhdGNoZXI7ZC5leHRlbmQodGhpcyxrKTt0aGlzLmxvYWQ9ZnVuY3Rpb24oKXtpZihwPT1kLmxvYWRlcnN0YXR1cy5ORVcpaWYoMDxqLmxhc3RJbmRleE9mKCIuc3dmIikpYT1qLHA9ZC5sb2FkZXJzdGF0dXMuQ09NUExFVEUsay5zZW5kRXZlbnQobS5DT01QTEVURSk7ZWxzZSBpZihkLmdldFBsdWdpblBhdGhUeXBlKGopPT1kLnBsdWdpblBhdGhUeXBlLkNETilwPWQubG9hZGVyc3RhdHVzLkNPTVBMRVRFLGsuc2VuZEV2ZW50KG0uQ09NUExFVEUpO2Vsc2V7cD1kLmxvYWRlcnN0YXR1cy5MT0FESU5HO3ZhciBjPW5ldyBkLnNjcmlwdGxvYWRlcihnKCkpO2MuYWRkRXZlbnRMaXN0ZW5lcihtLkNPTVBMRVRFLApiKTtjLmFkZEV2ZW50TGlzdGVuZXIobS5FUlJPUixlKTtjLmxvYWQoKX19O3RoaXMucmVnaXN0ZXJQbHVnaW49ZnVuY3Rpb24oYixlLGcsail7biYmKGNsZWFyVGltZW91dChuKSxuPXZvaWQgMCk7Yz1lO2cmJmo/KGE9aixmPWcpOiJzdHJpbmciPT10eXBlb2YgZz9hPWc6ImZ1bmN0aW9uIj09dHlwZW9mIGc/Zj1nOiFnJiYhaiYmKGE9Yik7cD1kLmxvYWRlcnN0YXR1cy5DT01QTEVURTtrLnNlbmRFdmVudChtLkNPTVBMRVRFKX07dGhpcy5nZXRTdGF0dXM9ZnVuY3Rpb24oKXtyZXR1cm4gcH07dGhpcy5nZXRQbHVnaW5OYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIGQuZ2V0UGx1Z2luTmFtZShqKX07dGhpcy5nZXRGbGFzaFBhdGg9ZnVuY3Rpb24oKXtpZihhKXN3aXRjaChkLmdldFBsdWdpblBhdGhUeXBlKGEpKXtjYXNlIGQucGx1Z2luUGF0aFR5cGUuQUJTT0xVVEU6cmV0dXJuIGE7Y2FzZSBkLnBsdWdpblBhdGhUeXBlLlJFTEFUSVZFOnJldHVybiAwPGoubGFzdEluZGV4T2YoIi5zd2YiKT8KZC5nZXRBYnNvbHV0ZVBhdGgoYSx3aW5kb3cubG9jYXRpb24uaHJlZik6ZC5nZXRBYnNvbHV0ZVBhdGgoYSxnKCkpfXJldHVybiBudWxsfTt0aGlzLmdldEpTPWZ1bmN0aW9uKCl7cmV0dXJuIGZ9O3RoaXMuZ2V0VGFyZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGN9O3RoaXMuZ2V0UGx1Z2lubW9kZT1mdW5jdGlvbigpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgYSYmInVuZGVmaW5lZCIhPXR5cGVvZiBmKXJldHVybiBoLnBsdWdpbm1vZGVzLkhZQlJJRDtpZigidW5kZWZpbmVkIiE9dHlwZW9mIGEpcmV0dXJuIGgucGx1Z2lubW9kZXMuRkxBU0g7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBmKXJldHVybiBoLnBsdWdpbm1vZGVzLkpBVkFTQ1JJUFR9O3RoaXMuZ2V0TmV3SW5zdGFuY2U9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuZXcgZihhLGIsYyl9O3RoaXMuZ2V0VVJMPWZ1bmN0aW9uKCl7cmV0dXJuIGp9fX0oandwbGF5ZXIucGx1Z2lucyksZnVuY3Rpb24oaCl7dmFyIGQ9aC51dGlscyxtPQpoLmV2ZW50cyxqPWQuZm9yZWFjaDtoLnBsdWdpbnMucGx1Z2lubG9hZGVyPWZ1bmN0aW9uKGcsYil7ZnVuY3Rpb24gZSgpe2MmJmwuc2VuZEV2ZW50KG0uRVJST1Ise21lc3NhZ2U6bn0pO2Z8fChmPSEwLGE9ZC5sb2FkZXJzdGF0dXMuQ09NUExFVEUsbC5zZW5kRXZlbnQobS5DT01QTEVURSkpfWZ1bmN0aW9uIHAoKXtrfHxlKCk7aWYoIWYmJiFjKXt2YXIgYT0wLGI9Zy5nZXRQbHVnaW5zKCk7ZC5mb3JlYWNoKGssZnVuY3Rpb24oZil7Zj1kLmdldFBsdWdpbk5hbWUoZik7dmFyIGc9YltmXTtmPWcuZ2V0SlMoKTt2YXIgbD1nLmdldFRhcmdldCgpLGc9Zy5nZXRTdGF0dXMoKTtpZihnPT1kLmxvYWRlcnN0YXR1cy5MT0FESU5HfHxnPT1kLmxvYWRlcnN0YXR1cy5ORVcpYSsrO2Vsc2UgaWYoZiYmKCFsfHxwYXJzZUZsb2F0KGwpPnBhcnNlRmxvYXQoaC52ZXJzaW9uKSkpYz0hMCxuPSJJbmNvbXBhdGlibGUgcGxheWVyIHZlcnNpb24iLGUoKX0pOzA9PT1hJiZlKCl9fXZhciBhPWQubG9hZGVyc3RhdHVzLk5FVywKZj0hMSxjPSExLG4saz1iLGw9bmV3IG0uZXZlbnRkaXNwYXRjaGVyO2QuZXh0ZW5kKHRoaXMsbCk7dGhpcy5zZXR1cFBsdWdpbnM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBmPXtsZW5ndGg6MCxwbHVnaW5zOnt9fSxlPTAsbD17fSxrPWcuZ2V0UGx1Z2lucygpO2ooYi5wbHVnaW5zLGZ1bmN0aW9uKGcsail7dmFyIGg9ZC5nZXRQbHVnaW5OYW1lKGcpLG49a1toXSxwPW4uZ2V0Rmxhc2hQYXRoKCksbT1uLmdldEpTKCksTD1uLmdldFVSTCgpO3AmJihmLnBsdWdpbnNbcF09ZC5leHRlbmQoe30saiksZi5wbHVnaW5zW3BdLnBsdWdpbm1vZGU9bi5nZXRQbHVnaW5tb2RlKCksZi5sZW5ndGgrKyk7dHJ5e2lmKG0mJmIucGx1Z2lucyYmYi5wbHVnaW5zW0xdKXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtyLmlkPWEuaWQrIl8iK2g7ci5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO3Iuc3R5bGUudG9wPTA7ci5zdHlsZS56SW5kZXg9ZSsxMDtsW2hdPW4uZ2V0TmV3SW5zdGFuY2UoYSwKZC5leHRlbmQoe30sYi5wbHVnaW5zW0xdKSxyKTtlKys7YS5vblJlYWR5KGMobFtoXSxyLCEwKSk7YS5vblJlc2l6ZShjKGxbaF0scikpfX1jYXRjaChPKXtkLmxvZygiRVJST1I6IEZhaWxlZCB0byBsb2FkICIraCsiLiIpfX0pO2EucGx1Z2lucz1sO3JldHVybiBmfTt0aGlzLmxvYWQ9ZnVuY3Rpb24oKXtpZighKGQuZXhpc3RzKGIpJiYib2JqZWN0IiE9ZC50eXBlT2YoYikpKXthPWQubG9hZGVyc3RhdHVzLkxPQURJTkc7aihiLGZ1bmN0aW9uKGEpe2QuZXhpc3RzKGEpJiYoYT1nLmFkZFBsdWdpbihhKSxhLmFkZEV2ZW50TGlzdGVuZXIobS5DT01QTEVURSxwKSxhLmFkZEV2ZW50TGlzdGVuZXIobS5FUlJPUixyKSl9KTt2YXIgYz1nLmdldFBsdWdpbnMoKTtqKGMsZnVuY3Rpb24oYSxiKXtiLmxvYWQoKX0pfXAoKX07dGhpcy5kZXN0cm95PWZ1bmN0aW9uKCl7bCYmKGwucmVzZXRFdmVudExpc3RlbmVycygpLGw9bnVsbCl9O3ZhciByPXRoaXMucGx1Z2luRmFpbGVkPWZ1bmN0aW9uKCl7Y3x8CihjPSEwLG49IkZpbGUgbm90IGZvdW5kIixlKCkpfTt0aGlzLmdldFN0YXR1cz1mdW5jdGlvbigpe3JldHVybiBhfX19KGp3cGxheWVyKSxmdW5jdGlvbihoKXtoLnBhcnNlcnM9e2xvY2FsTmFtZTpmdW5jdGlvbihkKXtyZXR1cm4gZD9kLmxvY2FsTmFtZT9kLmxvY2FsTmFtZTpkLmJhc2VOYW1lP2QuYmFzZU5hbWU6IiI6IiJ9LHRleHRDb250ZW50OmZ1bmN0aW9uKGQpe3JldHVybiBkP2QudGV4dENvbnRlbnQ/aC51dGlscy50cmltKGQudGV4dENvbnRlbnQpOmQudGV4dD9oLnV0aWxzLnRyaW0oZC50ZXh0KToiIjoiIn0sZ2V0Q2hpbGROb2RlOmZ1bmN0aW9uKGQsaCl7cmV0dXJuIGQuY2hpbGROb2Rlc1toXX0sbnVtQ2hpbGRyZW46ZnVuY3Rpb24oZCl7cmV0dXJuIGQuY2hpbGROb2Rlcz9kLmNoaWxkTm9kZXMubGVuZ3RoOjB9fX0oandwbGF5ZXIpLGZ1bmN0aW9uKGgpe3ZhciBkPWgucGFyc2VyczsoZC5qd3BhcnNlcj1mdW5jdGlvbigpe30pLnBhcnNlRW50cnk9ZnVuY3Rpb24obSwKail7Zm9yKHZhciBnPVtdLGI9W10sZT1oLnV0aWxzLnhtbEF0dHJpYnV0ZSxwPTA7cDxtLmNoaWxkTm9kZXMubGVuZ3RoO3ArKyl7dmFyIGE9bS5jaGlsZE5vZGVzW3BdO2lmKCJqd3BsYXllciI9PWEucHJlZml4KXt2YXIgZj1kLmxvY2FsTmFtZShhKTsic291cmNlIj09Zj8oZGVsZXRlIGouc291cmNlcyxnLnB1c2goe2ZpbGU6ZShhLCJmaWxlIiksImRlZmF1bHQiOmUoYSwiZGVmYXVsdCIpLGxhYmVsOmUoYSwibGFiZWwiKSx0eXBlOmUoYSwidHlwZSIpfSkpOiJ0cmFjayI9PWY/KGRlbGV0ZSBqLnRyYWNrcyxiLnB1c2goe2ZpbGU6ZShhLCJmaWxlIiksImRlZmF1bHQiOmUoYSwiZGVmYXVsdCIpLGtpbmQ6ZShhLCJraW5kIiksbGFiZWw6ZShhLCJsYWJlbCIpfSkpOihqW2ZdPWgudXRpbHMuc2VyaWFsaXplKGQudGV4dENvbnRlbnQoYSkpLCJmaWxlIj09ZiYmai5zb3VyY2VzJiZkZWxldGUgai5zb3VyY2VzKX1qLmZpbGV8fChqLmZpbGU9ai5saW5rKX1pZihnLmxlbmd0aCl7ai5zb3VyY2VzPQpbXTtmb3IocD0wO3A8Zy5sZW5ndGg7cCsrKTA8Z1twXS5maWxlLmxlbmd0aCYmKGdbcF1bImRlZmF1bHQiXT0idHJ1ZSI9PWdbcF1bImRlZmF1bHQiXT8hMDohMSxnW3BdLmxhYmVsLmxlbmd0aHx8ZGVsZXRlIGdbcF0ubGFiZWwsai5zb3VyY2VzLnB1c2goZ1twXSkpfWlmKGIubGVuZ3RoKXtqLnRyYWNrcz1bXTtmb3IocD0wO3A8Yi5sZW5ndGg7cCsrKTA8YltwXS5maWxlLmxlbmd0aCYmKGJbcF1bImRlZmF1bHQiXT0idHJ1ZSI9PWJbcF1bImRlZmF1bHQiXT8hMDohMSxiW3BdLmtpbmQ9IWJbcF0ua2luZC5sZW5ndGg/ImNhcHRpb25zIjpiW3BdLmtpbmQsYltwXS5sYWJlbC5sZW5ndGh8fGRlbGV0ZSBiW3BdLmxhYmVsLGoudHJhY2tzLnB1c2goYltwXSkpfXJldHVybiBqfX0oandwbGF5ZXIpLGZ1bmN0aW9uKGgpe3ZhciBkPWp3cGxheWVyLnV0aWxzLG09ZC54bWxBdHRyaWJ1dGUsaj1oLmxvY2FsTmFtZSxnPWgudGV4dENvbnRlbnQsYj1oLm51bUNoaWxkcmVuLGU9aC5tZWRpYXBhcnNlcj0KZnVuY3Rpb24oKXt9O2UucGFyc2VHcm91cD1mdW5jdGlvbihoLGEpe3ZhciBmLGMsbj1bXTtmb3IoYz0wO2M8YihoKTtjKyspaWYoZj1oLmNoaWxkTm9kZXNbY10sIm1lZGlhIj09Zi5wcmVmaXgmJmooZikpc3dpdGNoKGooZikudG9Mb3dlckNhc2UoKSl7Y2FzZSAiY29udGVudCI6bShmLCJkdXJhdGlvbiIpJiYoYS5kdXJhdGlvbj1kLnNlY29uZHMobShmLCJkdXJhdGlvbiIpKSk7MDxiKGYpJiYoYT1lLnBhcnNlR3JvdXAoZixhKSk7bShmLCJ1cmwiKSYmKGEuc291cmNlc3x8KGEuc291cmNlcz1bXSksYS5zb3VyY2VzLnB1c2goe2ZpbGU6bShmLCJ1cmwiKSx0eXBlOm0oZiwidHlwZSIpLHdpZHRoOm0oZiwid2lkdGgiKSxsYWJlbDptKGYsImxhYmVsIil9KSk7YnJlYWs7Y2FzZSAidGl0bGUiOmEudGl0bGU9ZyhmKTticmVhaztjYXNlICJkZXNjcmlwdGlvbiI6YS5kZXNjcmlwdGlvbj1nKGYpO2JyZWFrO2Nhc2UgImd1aWQiOmEubWVkaWFpZD1nKGYpO2JyZWFrO2Nhc2UgInRodW1ibmFpbCI6YS5pbWFnZXx8CihhLmltYWdlPW0oZiwidXJsIikpO2JyZWFrO2Nhc2UgImdyb3VwIjplLnBhcnNlR3JvdXAoZixhKTticmVhaztjYXNlICJzdWJ0aXRsZSI6dmFyIGs9e307ay5maWxlPW0oZiwidXJsIik7ay5raW5kPSJjYXB0aW9ucyI7aWYoMDxtKGYsImxhbmciKS5sZW5ndGgpe3ZhciBsPWs7Zj1tKGYsImxhbmciKTt2YXIgcj17emg6IkNoaW5lc2UiLG5sOiJEdXRjaCIsZW46IkVuZ2xpc2giLGZyOiJGcmVuY2giLGRlOiJHZXJtYW4iLGl0OiJJdGFsaWFuIixqYToiSmFwYW5lc2UiLHB0OiJQb3J0dWd1ZXNlIixydToiUnVzc2lhbiIsZXM6IlNwYW5pc2gifTtmPXJbZl0/cltmXTpmO2wubGFiZWw9Zn1uLnB1c2goayl9YS5oYXNPd25Qcm9wZXJ0eSgidHJhY2tzIil8fChhLnRyYWNrcz1bXSk7Zm9yKGM9MDtjPG4ubGVuZ3RoO2MrKylhLnRyYWNrcy5wdXNoKG5bY10pO3JldHVybiBhfX0oandwbGF5ZXIucGFyc2VycyksZnVuY3Rpb24oaCl7ZnVuY3Rpb24gZChiKXtmb3IodmFyIGE9e30sZj0wO2Y8CmIuY2hpbGROb2Rlcy5sZW5ndGg7ZisrKXt2YXIgYz1iLmNoaWxkTm9kZXNbZl0sZD1lKGMpO2lmKGQpc3dpdGNoKGQudG9Mb3dlckNhc2UoKSl7Y2FzZSAiZW5jbG9zdXJlIjphLmZpbGU9bS54bWxBdHRyaWJ1dGUoYywidXJsIik7YnJlYWs7Y2FzZSAidGl0bGUiOmEudGl0bGU9aihjKTticmVhaztjYXNlICJndWlkIjphLm1lZGlhaWQ9aihjKTticmVhaztjYXNlICJwdWJkYXRlIjphLmRhdGU9aihjKTticmVhaztjYXNlICJkZXNjcmlwdGlvbiI6YS5kZXNjcmlwdGlvbj1qKGMpO2JyZWFrO2Nhc2UgImxpbmsiOmEubGluaz1qKGMpO2JyZWFrO2Nhc2UgImNhdGVnb3J5IjphLnRhZ3M9YS50YWdzP2EudGFncytqKGMpOmooYyl9fWE9aC5tZWRpYXBhcnNlci5wYXJzZUdyb3VwKGIsYSk7YT1oLmp3cGFyc2VyLnBhcnNlRW50cnkoYixhKTtyZXR1cm4gbmV3IGp3cGxheWVyLnBsYXlsaXN0Lml0ZW0oYSl9dmFyIG09andwbGF5ZXIudXRpbHMsaj1oLnRleHRDb250ZW50LGc9aC5nZXRDaGlsZE5vZGUsCmI9aC5udW1DaGlsZHJlbixlPWgubG9jYWxOYW1lO2gucnNzcGFyc2VyPXt9O2gucnNzcGFyc2VyLnBhcnNlPWZ1bmN0aW9uKGope2Zvcih2YXIgYT1bXSxmPTA7ZjxiKGopO2YrKyl7dmFyIGM9ZyhqLGYpO2lmKCJjaGFubmVsIj09ZShjKS50b0xvd2VyQ2FzZSgpKWZvcih2YXIgaD0wO2g8YihjKTtoKyspe3ZhciBrPWcoYyxoKTsiaXRlbSI9PWUoaykudG9Mb3dlckNhc2UoKSYmYS5wdXNoKGQoaykpfX1yZXR1cm4gYX19KGp3cGxheWVyLnBhcnNlcnMpLGZ1bmN0aW9uKGgpe2gucGxheWxpc3Q9ZnVuY3Rpb24oZCl7dmFyIG09W107aWYoImFycmF5Ij09aC51dGlscy50eXBlT2YoZCkpZm9yKHZhciBqPTA7ajxkLmxlbmd0aDtqKyspbS5wdXNoKG5ldyBoLnBsYXlsaXN0Lml0ZW0oZFtqXSkpO2Vsc2UgbS5wdXNoKG5ldyBoLnBsYXlsaXN0Lml0ZW0oZCkpO3JldHVybiBtfX0oandwbGF5ZXIpLGZ1bmN0aW9uKGgpe3ZhciBkPWguaXRlbT1mdW5jdGlvbihtKXt2YXIgaj1qd3BsYXllci51dGlscywKZz1qLmV4dGVuZCh7fSxkLmRlZmF1bHRzLG0pLGIsZTtnLnRyYWNrcz1tJiZqLmV4aXN0cyhtLnRyYWNrcyk/bS50cmFja3M6W107MD09PWcuc291cmNlcy5sZW5ndGgmJihnLnNvdXJjZXM9W25ldyBoLnNvdXJjZShnKV0pO2ZvcihiPTA7YjxnLnNvdXJjZXMubGVuZ3RoO2IrKyllPWcuc291cmNlc1tiXVsiZGVmYXVsdCJdLGcuc291cmNlc1tiXVsiZGVmYXVsdCJdPWU/InRydWUiPT1lLnRvU3RyaW5nKCk6ITEsZy5zb3VyY2VzW2JdPW5ldyBoLnNvdXJjZShnLnNvdXJjZXNbYl0pO2lmKGcuY2FwdGlvbnMmJiFqLmV4aXN0cyhtLnRyYWNrcykpe2ZvcihtPTA7bTxnLmNhcHRpb25zLmxlbmd0aDttKyspZy50cmFja3MucHVzaChnLmNhcHRpb25zW21dKTtkZWxldGUgZy5jYXB0aW9uc31mb3IoYj0wO2I8Zy50cmFja3MubGVuZ3RoO2IrKylnLnRyYWNrc1tiXT1uZXcgaC50cmFjayhnLnRyYWNrc1tiXSk7cmV0dXJuIGd9O2QuZGVmYXVsdHM9e2Rlc2NyaXB0aW9uOnZvaWQgMCxpbWFnZTp2b2lkIDAsCm1lZGlhaWQ6dm9pZCAwLHRpdGxlOnZvaWQgMCxzb3VyY2VzOltdLHRyYWNrczpbXX19KGp3cGxheWVyLnBsYXlsaXN0KSxmdW5jdGlvbihoKXt2YXIgZD1qd3BsYXllcixtPWQudXRpbHMsaj1kLmV2ZW50cyxnPWQucGFyc2VycztoLmxvYWRlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoYil7dHJ5e3ZhciBjPWIucmVzcG9uc2VYTUwuY2hpbGROb2RlcztiPSIiO2Zvcih2YXIgZD0wO2Q8Yy5sZW5ndGgmJiEoYj1jW2RdLDghPWIubm9kZVR5cGUpO2QrKyk7InhtbCI9PWcubG9jYWxOYW1lKGIpJiYoYj1iLm5leHRTaWJsaW5nKTtpZigicnNzIiE9Zy5sb2NhbE5hbWUoYikpcCgiTm90IGEgdmFsaWQgUlNTIGZlZWQiKTtlbHNle3ZhciBlPW5ldyBoKGcucnNzcGFyc2VyLnBhcnNlKGIpKTthLnNlbmRFdmVudChqLkpXUExBWUVSX1BMQVlMSVNUX0xPQURFRCx7cGxheWxpc3Q6ZX0pfX1jYXRjaChsKXtwKCl9fWZ1bmN0aW9uIGQoYSl7cChhLm1hdGNoKC9pbnZhbGlkL2kpPyJOb3QgYSB2YWxpZCBSU1MgZmVlZCI6CiIiKX1mdW5jdGlvbiBwKGIpe2Euc2VuZEV2ZW50KGouSldQTEFZRVJfRVJST1Ise21lc3NhZ2U6Yj9iOiJFcnJvciBsb2FkaW5nIGZpbGUifSl9dmFyIGE9bmV3IGouZXZlbnRkaXNwYXRjaGVyO20uZXh0ZW5kKHRoaXMsYSk7dGhpcy5sb2FkPWZ1bmN0aW9uKGEpe20uYWpheChhLGIsZCl9fX0oandwbGF5ZXIucGxheWxpc3QpLGZ1bmN0aW9uKGgpe3ZhciBkPWp3cGxheWVyLnV0aWxzLG09e2ZpbGU6dm9pZCAwLGxhYmVsOnZvaWQgMCx0eXBlOnZvaWQgMCwiZGVmYXVsdCI6dm9pZCAwfTtoLnNvdXJjZT1mdW5jdGlvbihqKXt2YXIgZz1kLmV4dGVuZCh7fSxtKTtkLmZvcmVhY2gobSxmdW5jdGlvbihiKXtkLmV4aXN0cyhqW2JdKSYmKGdbYl09altiXSxkZWxldGUgaltiXSl9KTtnLnR5cGUmJjA8Zy50eXBlLmluZGV4T2YoIi8iKSYmKGcudHlwZT1kLmV4dGVuc2lvbm1hcC5taW1lVHlwZShnLnR5cGUpKTsibTN1OCI9PWcudHlwZSYmKGcudHlwZT0iaGxzIik7InNtaWwiPT1nLnR5cGUmJgooZy50eXBlPSJydG1wIik7cmV0dXJuIGd9fShqd3BsYXllci5wbGF5bGlzdCksZnVuY3Rpb24oaCl7dmFyIGQ9andwbGF5ZXIudXRpbHMsbT17ZmlsZTp2b2lkIDAsbGFiZWw6dm9pZCAwLGtpbmQ6ImNhcHRpb25zIiwiZGVmYXVsdCI6ITF9O2gudHJhY2s9ZnVuY3Rpb24oail7dmFyIGc9ZC5leHRlbmQoe30sbSk7anx8KGo9e30pO2QuZm9yZWFjaChtLGZ1bmN0aW9uKGIpe2QuZXhpc3RzKGpbYl0pJiYoZ1tiXT1qW2JdLGRlbGV0ZSBqW2JdKX0pO3JldHVybiBnfX0oandwbGF5ZXIucGxheWxpc3QpLGZ1bmN0aW9uKGgpe3ZhciBkPWguY2FzdD17fSxtPWgudXRpbHM7ZC5hZHByb3ZpZGVyPWZ1bmN0aW9uKGosZyl7ZnVuY3Rpb24gYigpe2M9e21lc3NhZ2U6bixwb3NpdGlvbjowLGR1cmF0aW9uOi0xfX1mdW5jdGlvbiBlKGEsYil7dmFyIGM9e2NvbW1hbmQ6YX07dm9pZCAwIT09YiYmKGMuYXJncz1iKTtnLnNlbmRNZXNzYWdlKGosYyxwLGZ1bmN0aW9uKGEpe2QuZXJyb3IoIm1lc3NhZ2Ugc2VuZCBlcnJvciIsCmEpfSl9ZnVuY3Rpb24gcCgpe312YXIgYT1uZXcgZC5wcm92aWRlcihqLGcpLGY9bS5leHRlbmQodGhpcyxhKSxjLG49IkxvYWRpbmcgYWQiLGs9MDtmLmluaXQ9ZnVuY3Rpb24oKXthLmluaXQoKTtiKCl9O2YuZGVzdHJveT1mdW5jdGlvbigpe2EuZGVzdHJveSgpfTtmLnVwZGF0ZU1vZGVsPWZ1bmN0aW9uKGYsZSl7KGYudGFnfHxmLm5ld3N0YXRlfHxmLnNlcXVlbmNlfHxmLmNvbXBhbmlvbnMpJiZkLmxvZygicmVjZWl2ZWQgYWQgY2hhbmdlOiIsZik7Zi50YWcmJihjLnRhZyYmZi50YWchPT1jLnRhZykmJihkLmVycm9yKCJhZCBtZXNzYWdlcyBub3QgcmVjZWl2ZWQgaW4gb3JkZXIuIG5ldyBtb2RlbDoiLGYsIm9sZCBtb2RlbDoiLGMpLGIoKSk7aC51dGlscy5leHRlbmQoYyxmKTthLnVwZGF0ZU1vZGVsKGYsZSl9O2YuZ2V0QWRNb2RlbD1mdW5jdGlvbigpe3ZhciBhPW0uZXh0ZW5kKHt9LGMpO2EubWVzc2FnZT0wPGMuZHVyYXRpb24/dGhpcy5nZXRBZE1lc3NhZ2UoKTpuO3JldHVybiBhfTsKZi5yZXNldEFkTW9kZWw9ZnVuY3Rpb24oKXtiKCl9O2YuZ2V0QWRNZXNzYWdlPWZ1bmN0aW9uKCl7dmFyIGE9Yy5tZXNzYWdlLnJlcGxhY2UoL3h4L2dpLCIiK01hdGgubWluKGMuZHVyYXRpb258MCxNYXRoLmNlaWwoYy5kdXJhdGlvbi1jLnBvc2l0aW9uKSkpO2MucG9kTWVzc2FnZSYmMTxjLnBvZGNvdW50JiYoYT1jLnBvZE1lc3NhZ2UucmVwbGFjZSgvX19BRF9QT0RfQ1VSUkVOVF9fL2csIiIrYy5zZXF1ZW5jZSkucmVwbGFjZSgvX19BRF9QT0RfTEVOR1RIX18vZywiIitjLnBvZGNvdW50KSthKTtyZXR1cm4gYX07Zi5za2lwQWQ9ZnVuY3Rpb24oYSl7ZSgic2tpcEFkIix7dGFnOmEudGFnfSl9O2YuY2xpY2tBZD1mdW5jdGlvbihhKXtrPTEqbmV3IERhdGU7ZSgiY2xpY2tBZCIse3RhZzphLnRhZ30pfTtmLnRpbWVTaW5jZUNsaWNrPWZ1bmN0aW9uKCl7cmV0dXJuIDEqbmV3IERhdGUta319fSh3aW5kb3cuandwbGF5ZXIpLGZ1bmN0aW9uKGgsZCl7ZnVuY3Rpb24gbShhLGIpe2FbYl0mJgooYVtiXT1nLmdldEFic29sdXRlUGF0aChhW2JdKSl9dmFyIGo9ZC5jYXN0LGc9ZC51dGlscyxiPWQuZXZlbnRzLGU9Yi5zdGF0ZSxwPXt9O2ouTlM9InVybjp4LWNhc3Q6Y29tLmxvbmd0YWlsdmlkZW8uandwbGF5ZXIiO2ouY29udHJvbGxlcj1mdW5jdGlvbihhLGYpe3ZhciBjLG47ZnVuY3Rpb24gayhhKXthPWEuYXZhaWxhYmlsaXR5PT09aC5jaHJvbWUuY2FzdC5SZWNlaXZlckF2YWlsYWJpbGl0eS5BVkFJTEFCTEU7TS5hdmFpbGFibGUhPT1hJiYoTS5hdmFpbGFibGU9YSx1KGIuSldQTEFZRVJfQ0FTVF9BVkFJTEFCTEUpKX1mdW5jdGlvbiBsKGEpe2oubG9nKCJleGlzdGluZyBzZXNzaW9uIixhKTt3fHwoSj1hLnNlc3Npb24sSi5hZGRNZXNzYWdlTGlzdGVuZXIoai5OUyxyKSl9ZnVuY3Rpb24gcihjLGUpe3ZhciBnPUpTT04ucGFyc2UoZSk7aWYoIWcpdGhyb3ciTWVzc2FnZSBub3QgcHJvcGVyIEpTT04iO2lmKGcucmVjb25jaWxlKXtKLnJlbW92ZU1lc3NhZ2VMaXN0ZW5lcihqLk5TLApyKTt2YXIgaD1nLmRpZmYsbD1KO2lmKCFoLmlkfHwhZy5hcHBpZHx8IWcucGFnZVVybCloLmlkPWQoKS5pZCxnLmFwcGlkPUkuYXBwaWQsZy5wYWdlVXJsPVAsSj13PW51bGw7aC5pZD09PWEuaWQmJihnLmFwcGlkPT09SS5hcHBpZCYmZy5wYWdlVXJsPT09UCkmJih3fHwoYS5qd0luc3RyZWFtU3RhdGUoKSYmYS5qd0luc3RyZWFtRGVzdHJveSghMCksRihsKSxmLnNlbmRFdmVudChiLkpXUExBWUVSX1BMQVlFUl9TVEFURSx7b2xkc3RhdGU6aC5vbGRzdGF0ZSxuZXdzdGF0ZTpoLm5ld3N0YXRlfSkpLEQoZykpO0o9bnVsbH19ZnVuY3Rpb24geChhKXtNLmFjdGl2ZT0hIWE7YT1NO3ZhciBjO2M9dyYmdy5yZWNlaXZlcj93LnJlY2VpdmVyLmZyaWVuZGx5TmFtZToiIjthLmRldmljZU5hbWU9Yzt1KGIuSldQTEFZRVJfQ0FTVF9TRVNTSU9OLHt9KX1mdW5jdGlvbiB1KGEpe3ZhciBiPWcuZXh0ZW5kKHt9LE0pO2Yuc2VuZEV2ZW50KGEsYil9ZnVuY3Rpb24gdChhKXt2YXIgYj1oLmNocm9tZTsKYS5jb2RlIT09Yi5jYXN0LkVycm9yQ29kZS5DQU5DRUwmJihqLmxvZygiQ2FzdCBTZXNzaW9uIEVycm9yOiIsYSx3KSxhLmNvZGU9PT1iLmNhc3QuRXJyb3JDb2RlLlNFU1NJT05fRVJST1ImJnEoKSl9ZnVuY3Rpb24gcSgpe3c/KEcoKSx3LnN0b3AoQSxFKSk6QSgpfWZ1bmN0aW9uIEUoYSl7ai5lcnJvcigiQ2FzdCBTZXNzaW9uIFN0b3AgZXJyb3I6IixhLHcpO0EoKX1mdW5jdGlvbiBGKGwpe3c9bDt3LmFkZE1lc3NhZ2VMaXN0ZW5lcihqLk5TLEIpO3cuYWRkVXBkYXRlTGlzdGVuZXIodik7YS5qd1BhdXNlKCEwKTthLmp3U2V0RnVsbHNjcmVlbighMSk7Tj1mLmdldFZpZGVvKCk7Yz1mLnZvbHVtZTtuPWYubXV0ZTtDPW5ldyBqLnByb3ZpZGVyKGouTlMsdyk7Qy5pbml0KCk7Zi5zZXRWaWRlbyhDKTthLmp3UGxheT1mdW5jdGlvbihhKXshMT09PWE/Qy5wYXVzZSgpOkMucGxheSgpfTthLmp3UGF1c2U9ZnVuY3Rpb24oYil7YS5qd1BsYXkoISFiKX07YS5qd0xvYWQ9ZnVuY3Rpb24oYSl7Im51bWJlciI9PT0KZy50eXBlT2YoYSkmJmYuc2V0SXRlbShhKTtDLmxvYWQoYSl9O2EuandQbGF5bGlzdEl0ZW09ZnVuY3Rpb24oYSl7Im51bWJlciI9PT1nLnR5cGVPZihhKSYmZi5zZXRJdGVtKGEpO0MucGxheWxpc3RJdGVtKGEpfTthLmp3UGxheWxpc3ROZXh0PWZ1bmN0aW9uKCl7YS5qd1BsYXlsaXN0SXRlbShmLml0ZW0rMSl9O2EuandQbGF5bGlzdFByZXY9ZnVuY3Rpb24oKXthLmp3UGxheWxpc3RJdGVtKGYuaXRlbS0xKX07YS5qd1NldFZvbHVtZT1mdW5jdGlvbihhKXtnLmV4aXN0cyhhKSYmKGE9TWF0aC5taW4oTWF0aC5tYXgoMCxhKSwxMDApfDAsTChhKSYmKGE9TWF0aC5tYXgoMCxNYXRoLm1pbihhLzEwMCwxKSksdy5zZXRSZWNlaXZlclZvbHVtZUxldmVsKGEseSxmdW5jdGlvbihhKXtqLmVycm9yKCJzZXQgdm9sdW1lIGVycm9yIixhKTt5KCl9KSkpfTthLmp3U2V0TXV0ZT1mdW5jdGlvbihhKXtnLmV4aXN0cyhhKXx8KGE9IUsubXV0ZSk7UShhKSYmdy5zZXRSZWNlaXZlck11dGVkKCEhYSwKeSxmdW5jdGlvbihhKXtqLmVycm9yKCJzZXQgbXV0ZWQgZXJyb3IiLGEpO3koKX0pfTthLmp3R2V0Vm9sdW1lPWZ1bmN0aW9uKCl7cmV0dXJuIEsudm9sdW1lfDB9O2EuandHZXRNdXRlPWZ1bmN0aW9uKCl7cmV0dXJuISFLLm11dGV9O2EuandJc0JlZm9yZVBsYXk9ZnVuY3Rpb24oKXtyZXR1cm4hMX07dmFyIGs9YS5qd1NldEN1cnJlbnRDYXB0aW9uczthLmp3U2V0Q3VycmVudENhcHRpb25zPWZ1bmN0aW9uKGEpe2soYSl9O2EuandTa2lwQWQ9ZnVuY3Rpb24oYSl7eiYmKHouc2tpcEFkKGEpLGE9ei5nZXRBZE1vZGVsKCksYS5jb21wbGV0ZT0hMCxmLnNlbmRFdmVudChiLkpXUExBWUVSX0NBU1RfQURfQ0hBTkdFRCxhKSl9O2EuandDbGlja0FkPWZ1bmN0aW9uKGMpe2lmKHomJjMwMDx6LnRpbWVTaW5jZUNsaWNrKCkmJih6LmNsaWNrQWQoYyksZi5zdGF0ZSE9PWUuUEFVU0VEKSl7dmFyIGc9e3RhZzpjLnRhZ307Yy5zZXF1ZW5jZSYmKGcuc2VxdWVuY2U9Yy5zZXF1ZW5jZSk7Yy5wb2Rjb3VudCYmCihnLnBvZGNvdW50PWMucG9kY291bnQpO2QoYS5pZCkuZGlzcGF0Y2hFdmVudChiLkpXUExBWUVSX0FEX0NMSUNLLGcpO2gub3BlbihjLmNsaWNrdGhyb3VnaCl9fTthLmp3UGxheUFkPWEuandQYXVzZUFkPWEuandTZXRDb250cm9scz1hLmp3Rm9yY2VTdGF0ZT1hLmp3UmVsZWFzZVN0YXRlPWEuandTZXRGdWxsc2NyZWVuPWEuandEZXRhY2hNZWRpYT1hLmp3QXR0YWNoTWVkaWE9Tzt2YXIgcD1kKGEuaWQpLnBsdWdpbnM7cC52YXN0JiZwLnZhc3QuandQYXVzZUFkIT09TyYmKFI9e2p3UGxheUFkOnAudmFzdC5qd1BsYXlBZCxqd1BhdXNlQWQ6cC52YXN0Lmp3UGF1c2VBZH0scC52YXN0Lmp3UGxheUFkPXAudmFzdC5qd1BhdXNlQWQ9Tyk7eSgpO3goITApO2whPT1KJiZDLnNldHVwKEgoKSxmKX1mdW5jdGlvbiB2KGEpe2oubG9nKCJDYXN0IFNlc3Npb24gc3RhdHVzIixhKTthP3koKTooQy5zZW5kRXZlbnQoYi5KV1BMQVlFUl9QTEFZRVJfU1RBVEUse29sZHN0YXRlOmYuc3RhdGUsbmV3c3RhdGU6ZS5CVUZGRVJJTkd9KSwKQSgpKX1mdW5jdGlvbiBBKCl7dyYmKEcoKSx3PW51bGwpO2lmKE4pe2RlbGV0ZSBhLmp3U2tpcEFkO2RlbGV0ZSBhLmp3Q2xpY2tBZDthLmluaXRpYWxpemVBUEkoKTt2YXIgaj1kKGEuaWQpLnBsdWdpbnM7ai52YXN0JiZnLmV4dGVuZChqLnZhc3QsUik7Zi52b2x1bWU9YztmLm11dGU9bjtmLnNldFZpZGVvKE4pO2YuZHVyYXRpb249MDtDJiYoQy5kZXN0cm95KCksQz1udWxsKTt6JiYoei5kZXN0cm95KCksej1udWxsKTtmLnN0YXRlIT09ZS5JRExFPyhmLnN0YXRlPWUuSURMRSxhLmp3UGxheSghMCksYS5qd1NlZWsoZi5wb3NpdGlvbikpOk4uc2VuZEV2ZW50KGIuSldQTEFZRVJfUExBWUVSX1NUQVRFLHtvbGRzdGF0ZTplLkJVRkZFUklORyxuZXdzdGF0ZTplLklETEV9KTtOPW51bGx9eCghMSl9ZnVuY3Rpb24gRygpe3cucmVtb3ZlVXBkYXRlTGlzdGVuZXIodik7dy5yZW1vdmVNZXNzYWdlTGlzdGVuZXIoai5OUyxCKX1mdW5jdGlvbiBCKGEsYil7dmFyIGM9SlNPTi5wYXJzZShiKTsKaWYoIWMpdGhyb3ciTWVzc2FnZSBub3QgcHJvcGVyIEpTT04iO0QoYyl9ZnVuY3Rpb24gRChjKXtpZigic3RhdGUiPT09Yy50eXBlKXtpZih6JiYoYy5kaWZmLm5ld3N0YXRlfHxjLmRpZmYucG9zaXRpb24pKXouZGVzdHJveSgpLHo9bnVsbCxmLnNldFZpZGVvKEMpLGYuc2VuZEV2ZW50KGIuSldQTEFZRVJfQ0FTVF9BRF9DSEFOR0VELHtkb25lOiEwfSk7Qy51cGRhdGVNb2RlbChjLmRpZmYsYy50eXBlKTtjPWMuZGlmZjt2b2lkIDAhPT1jLml0ZW0mJmYuaXRlbSE9PWMuaXRlbSYmKGYuaXRlbT1jLml0ZW0sZi5zZW5kRXZlbnQoYi5KV1BMQVlFUl9QTEFZTElTVF9JVEVNLHtpbmRleDpmLml0ZW19KSl9ZWxzZSBpZigiYWQiPT09Yy50eXBlKXtudWxsPT09eiYmKHo9bmV3IGouYWRwcm92aWRlcihqLk5TLHcpLHouaW5pdCgpLGYuc2V0VmlkZW8oeikpO3oudXBkYXRlTW9kZWwoYy5kaWZmLGMudHlwZSk7dmFyIGQ9ei5nZXRBZE1vZGVsKCk7Yy5kaWZmLmNsaWNrdGhyb3VnaCYmKGQub25DbGljaz0KYS5qd0NsaWNrQWQpO2MuZGlmZi5za2lwb2Zmc2V0JiYoZC5vblNraXBBZD1hLmp3U2tpcEFkKTtmLnNlbmRFdmVudChiLkpXUExBWUVSX0NBU1RfQURfQ0hBTkdFRCxkKTtjLmRpZmYuY29tcGxldGUmJnoucmVzZXRBZE1vZGVsKCl9ZWxzZSJjb25uZWN0aW9uIj09PWMudHlwZT8hMD09PWMuY2xvc2VkJiZxKCk6ai5lcnJvcigicmVjZWl2ZWQgdW5oYW5kbGVkIG1lc3NhZ2UiLGMudHlwZSxjKX1mdW5jdGlvbiBIKCl7dmFyIGE9Zy5leHRlbmQoe30sZi5jb25maWcpO2EuY2FzdD1nLmV4dGVuZCh7cGFnZVVybDpQfSxJKTtmb3IodmFyIGI9ImJhc2UgYXV0b3N0YXJ0IGNvbnRyb2xzIGZhbGxiYWNrIGZ1bGxzY3JlZW4gd2lkdGggaGVpZ2h0IG1vYmlsZWNvbnRyb2xzIG1vZGVzIHBsYXlsaXN0bGF5b3V0IHBsYXlsaXN0cG9zaXRpb24gcGxheWxpc3RzaXplIHByaW1hcnkgc3RyZXRjaGluZyBzaGFyaW5nIHJlbGF0ZWQgZ2Egc2tpbiBsb2dvIGxpc3RiYXIiLnNwbGl0KCIgIiksYz1iLmxlbmd0aDtjLS07KWRlbGV0ZSBhW2JbY11dOwpiPWEucGx1Z2lucztkZWxldGUgYS5wbHVnaW5zO2Zvcih2YXIgZCBpbiBiKWlmKGIuaGFzT3duUHJvcGVydHkoZCkpe3ZhciBlPWJbZF07aWYoZS5jbGllbnQmJigvW1wuXC9dLy50ZXN0KGUuY2xpZW50KSYmbShlLCJjbGllbnQiKSwtMTxlLmNsaWVudC5pbmRleE9mKCJ2YXN0IikpKXtjPWE7ZT1nLmV4dGVuZCh7fSxlKTtlLmNsaWVudD0idmFzdCI7ZGVsZXRlIGUuY29tcGFuaW9uZGl2O2lmKGUuc2NoZWR1bGUpe3ZhciBqPXZvaWQgMDtmb3IoaiBpbiBlLnNjaGVkdWxlKWUuc2NoZWR1bGUuaGFzT3duUHJvcGVydHkoaikmJm0oZS5zY2hlZHVsZVtqXS5hZHx8ZS5zY2hlZHVsZVtqXSwidGFnIil9bShlLCJ0YWciKTtjLmFkdmVydGlzaW5nPWV9fWYucG9zaXRpb24mJihhLnBvc2l0aW9uPWYucG9zaXRpb24pOzA8Zi5pdGVtJiYoYS5pdGVtPWYuaXRlbSk7cmV0dXJuIGF9ZnVuY3Rpb24geSgpe2lmKHcmJncucmVjZWl2ZXIpe3ZhciBhPXcucmVjZWl2ZXIudm9sdW1lO2lmKGEpe3ZhciBiPQoxMDAqYS5sZXZlbHwwO1EoISFhLm11dGVkKTtMKGIpfX19ZnVuY3Rpb24gTChhKXt2YXIgYz1LLnZvbHVtZSE9PWE7YyYmKEsudm9sdW1lPWEsQy5zZW5kRXZlbnQoYi5KV1BMQVlFUl9NRURJQV9WT0xVTUUse3ZvbHVtZTphfSkpO3JldHVybiBjfWZ1bmN0aW9uIFEoYSl7dmFyIGM9Sy5tdXRlIT09YTtjJiYoSy5tdXRlPWEsQy5zZW5kRXZlbnQoYi5KV1BMQVlFUl9NRURJQV9NVVRFLHttdXRlOmF9KSk7cmV0dXJuIGN9ZnVuY3Rpb24gTygpe312YXIgdz1udWxsLE09e2F2YWlsYWJsZTohMSxhY3RpdmU6ITEsZGV2aWNlTmFtZToiIn0sSz17dm9sdW1lOm51bGwsbXV0ZTpudWxsfSxQPWgubG9jYXRpb24uaHJlZixJLEM9bnVsbCx6PW51bGwsTj1udWxsO2M9Zi52b2x1bWU7bj1mLm11dGU7dmFyIEo9bnVsbCxSPW51bGw7ST1nLmV4dGVuZCh7fSxwLGYuY2FzdCk7bShJLCJsb2Fkc2NyZWVuIik7bShJLCJlbmRzY3JlZW4iKTttKEksImxvZ28iKTtpZihJLmFwcGlkJiYoIWguY2FzdHx8CiFoLmNhc3QucmVjZWl2ZXIpKWoubG9hZGVyLmFkZEV2ZW50TGlzdGVuZXIoImF2YWlsYWJpbGl0eSIsayksai5sb2FkZXIuYWRkRXZlbnRMaXN0ZW5lcigic2Vzc2lvbiIsbCksai5sb2FkZXIuaW5pdGlhbGl6ZSgpO3RoaXMuc3RhcnRDYXN0aW5nPWZ1bmN0aW9uKCl7d3x8YS5qd0luc3RyZWFtU3RhdGUoKXx8aC5jaHJvbWUuY2FzdC5yZXF1ZXN0U2Vzc2lvbihGLHQpfTt0aGlzLnN0b3BDYXN0aW5nPXF9O2oubG9nPWZ1bmN0aW9uKCl7aWYoai5kZWJ1Zyl7dmFyIGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO2NvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsYSl9fTtqLmVycm9yPWZ1bmN0aW9uKCl7dmFyIGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO2NvbnNvbGUuZXJyb3IuYXBwbHkoY29uc29sZSxhKX19KHdpbmRvdyxqd3BsYXllciksZnVuY3Rpb24oaCxkKXtmdW5jdGlvbiBtKCl7ZCYmZC5jYXN0JiZkLmNhc3QuaXNBdmFpbGFibGUmJgohYS5hcGlDb25maWc/KGEuYXBpQ29uZmlnPW5ldyBkLmNhc3QuQXBpQ29uZmlnKG5ldyBkLmNhc3QuU2Vzc2lvblJlcXVlc3QobCksZSxwLGQuY2FzdC5BdXRvSm9pblBvbGljeS5PUklHSU5fU0NPUEVEKSxkLmNhc3QuaW5pdGlhbGl6ZShhLmFwaUNvbmZpZyxiLGcpKToxNT5rKysmJnNldFRpbWVvdXQobSwxRTMpfWZ1bmN0aW9uIGooKXtuJiYobi5yZXNldEV2ZW50TGlzdGVuZXJzKCksbj1udWxsKX1mdW5jdGlvbiBnKCl7YS5hcGlDb25maWc9bnVsbH1mdW5jdGlvbiBiKCl7fWZ1bmN0aW9uIGUoYil7YS5sb2FkZXIuc2VuZEV2ZW50KCJzZXNzaW9uIix7c2Vzc2lvbjpifSk7Yi5zZW5kTWVzc2FnZShhLk5TLHt3aG9hbWk6MX0pfWZ1bmN0aW9uIHAoYil7YS5hdmFpbGFiaWxpdHk9YjthLmxvYWRlci5zZW5kRXZlbnQoImF2YWlsYWJpbGl0eSIse2F2YWlsYWJpbGl0eTpifSl9d2luZG93LmNocm9tZT1kO3ZhciBhPWguY2FzdCxmPWgudXRpbHMsYz1oLmV2ZW50cyxuLGs9MCxsPSJDN0VGMkFDNSI7CmEubG9hZGVyPWYuZXh0ZW5kKHtpbml0aWFsaXplOmZ1bmN0aW9uKCl7bnVsbCE9PWEuYXZhaWxhYmlsaXR5P2EubG9hZGVyLnNlbmRFdmVudCgiYXZhaWxhYmlsaXR5Iix7YXZhaWxhYmlsaXR5OmEuYXZhaWxhYmlsaXR5fSk6ZCYmZC5jYXN0P20oKTpufHwobj1uZXcgZi5zY3JpcHRsb2FkZXIoImh0dHBzOi8vd3d3LmdzdGF0aWMuY29tL2N2L2pzL3NlbmRlci92MS9jYXN0X3NlbmRlci5qcyIpLG4uYWRkRXZlbnRMaXN0ZW5lcihjLkVSUk9SLGopLG4uYWRkRXZlbnRMaXN0ZW5lcihjLkNPTVBMRVRFLG0pLG4ubG9hZCgpKX19LG5ldyBjLmV2ZW50ZGlzcGF0Y2hlcigiY2FzdC5sb2FkZXIiKSk7YS5hdmFpbGFiaWxpdHk9bnVsbH0od2luZG93Lmp3cGxheWVyLHdpbmRvdy5jaHJvbWV8fHt9KSxmdW5jdGlvbihoKXtmdW5jdGlvbiBkKGIpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBifX1mdW5jdGlvbiBtKCl7fXZhciBqPWguY2FzdCxnPWgudXRpbHMsYj1oLmV2ZW50cyxlPWIuc3RhdGU7CmoucHJvdmlkZXI9ZnVuY3Rpb24oaCxhKXtmdW5jdGlvbiBmKGIsYyl7dmFyIGQ9e2NvbW1hbmQ6Yn07dm9pZCAwIT09YyYmKGQuYXJncz1jKTthLnNlbmRNZXNzYWdlKGgsZCxtLGZ1bmN0aW9uKGEpe2ouZXJyb3IoIm1lc3NhZ2Ugc2VuZCBlcnJvciIsYSl9KX1mdW5jdGlvbiBjKGEpe2wub2xkc3RhdGU9bC5uZXdzdGF0ZTtsLm5ld3N0YXRlPWE7bi5zZW5kRXZlbnQoYi5KV1BMQVlFUl9QTEFZRVJfU1RBVEUse29sZHN0YXRlOmwub2xkc3RhdGUsbmV3c3RhdGU6bC5uZXdzdGF0ZX0pfXZhciBuPWcuZXh0ZW5kKHRoaXMsbmV3IGIuZXZlbnRkaXNwYXRjaGVyKCJjYXN0LnByb3ZpZGVyIikpLGs9LTEsbD17bmV3c3RhdGU6ZS5JRExFLG9sZHN0YXRlOmUuSURMRSxidWZmZXI6MCxwb3NpdGlvbjowLGR1cmF0aW9uOi0xLGF1ZGlvTW9kZTohMX07bi5pc0Nhc3Rlcj0hMDtuLmluaXQ9ZnVuY3Rpb24oKXt9O24uZGVzdHJveT1mdW5jdGlvbigpe2NsZWFyVGltZW91dChrKTthPW51bGx9OwpuLnVwZGF0ZU1vZGVsPWZ1bmN0aW9uKGEsYyl7YS5uZXdzdGF0ZSYmKGwubmV3c3RhdGU9YS5uZXdzdGF0ZSxsLm9sZHN0YXRlPWEub2xkc3RhdGV8fGwub2xkc3RhdGUsbi5zZW5kRXZlbnQoYi5KV1BMQVlFUl9QTEFZRVJfU1RBVEUse29sZHN0YXRlOmwub2xkc3RhdGUsbmV3c3RhdGU6bC5uZXdzdGF0ZX0pKTtpZigiYWQiIT09Yyl7aWYodm9pZCAwIT09YS5wb3NpdGlvbnx8dm9pZCAwIT09YS5kdXJhdGlvbil2b2lkIDAhPT1hLnBvc2l0aW9uJiYobC5wb3NpdGlvbj1hLnBvc2l0aW9uKSx2b2lkIDAhPT1hLmR1cmF0aW9uJiYobC5kdXJhdGlvbj1hLmR1cmF0aW9uKSxuLnNlbmRFdmVudChiLkpXUExBWUVSX01FRElBX1RJTUUse3Bvc2l0aW9uOmwucG9zaXRpb24sZHVyYXRpb246bC5kdXJhdGlvbn0pO3ZvaWQgMCE9PWEuYnVmZmVyJiYobC5idWZmZXI9YS5idWZmZXIsbi5zZW5kRXZlbnQoYi5KV1BMQVlFUl9NRURJQV9CVUZGRVIse2J1ZmZlclBlcmNlbnQ6bC5idWZmZXJ9KSl9fTsKbi5zdXBwb3J0c0Z1bGxzY3JlZW49ZnVuY3Rpb24oKXtyZXR1cm4hMX07bi5zZXR1cD1mdW5jdGlvbihhLGIpe2Iuc3RhdGUmJihsLm5ld3N0YXRlPWIuc3RhdGUpO3ZvaWQgMCE9PWIuYnVmZmVyJiYobC5idWZmZXI9Yi5idWZmZXIpO3ZvaWQgMCE9PWEucG9zaXRpb24mJihsLnBvc2l0aW9uPWEucG9zaXRpb24pO3ZvaWQgMCE9PWEuZHVyYXRpb24mJihsLmR1cmF0aW9uPWEuZHVyYXRpb24pO2MoZS5CVUZGRVJJTkcpO2YoInNldHVwIixhKX07bi5wbGF5bGlzdEl0ZW09ZnVuY3Rpb24oYSl7YyhlLkJVRkZFUklORyk7ZigiaXRlbSIsYSl9O24ubG9hZD1mdW5jdGlvbihhKXtjKGUuQlVGRkVSSU5HKTtmKCJsb2FkIixhKX07bi5zdG9wPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGspO2s9c2V0VGltZW91dChmdW5jdGlvbigpe2MoZS5JRExFKTtmKCJzdG9wIil9LDApfTtuLnBsYXk9ZnVuY3Rpb24oKXtmKCJwbGF5Iil9O24ucGF1c2U9ZnVuY3Rpb24oKXtjKGUuUEFVU0VEKTtmKCJwYXVzZSIpfTsKbi5zZWVrPWZ1bmN0aW9uKGEpe2MoZS5CVUZGRVJJTkcpO24uc2VuZEV2ZW50KGIuSldQTEFZRVJfTUVESUFfU0VFSyx7cG9zaXRpb246bC5wb3NpdGlvbixvZmZzZXQ6YX0pO2YoInNlZWsiLGEpfTtuLmF1ZGlvTW9kZT1mdW5jdGlvbigpe3JldHVybiBsLmF1ZGlvTW9kZX07bi5kZXRhY2hNZWRpYT1mdW5jdGlvbigpe2ouZXJyb3IoImRldGFjaE1lZGlhIGNhbGxlZCB3aGlsZSBjYXN0aW5nIik7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInZpZGVvIil9O24uYXR0YWNoTWVkaWE9ZnVuY3Rpb24oKXtqLmVycm9yKCJhdHRhY2hNZWRpYSBjYWxsZWQgd2hpbGUgY2FzdGluZyIpfTt2YXIgcjtuLnNldENvbnRhaW5lcj1mdW5jdGlvbihhKXtyPWF9O24uZ2V0Q29udGFpbmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHJ9O24udm9sdW1lPW4ubXV0ZT1uLnNldENvbnRyb2xzPW4uc2V0Q3VycmVudFF1YWxpdHk9bi5yZW1vdmU9bi5yZXNpemU9bi5zZWVrRHJhZz1uLmFkZENhcHRpb25zPQpuLnJlc2V0Q2FwdGlvbnM9bi5zZXRWaXNpYmlsaXR5PW4uZnNDYXB0aW9ucz1tO24uc2V0RnVsbFNjcmVlbj1uLmdldEZ1bGxTY3JlZW49bi5jaGVja0NvbXBsZXRlPWQoITEpO24uZ2V0V2lkdGg9bi5nZXRIZWlnaHQ9bi5nZXRDdXJyZW50UXVhbGl0eT1kKDApO24uZ2V0UXVhbGl0eUxldmVscz1kKFsiQXV0byJdKX19KHdpbmRvdy5qd3BsYXllciksZnVuY3Rpb24oaCl7ZnVuY3Rpb24gZChhLGIpe2ouZm9yZWFjaChiLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9YVtiXTsiZnVuY3Rpb24iPT10eXBlb2YgZCYmZC5jYWxsKGEsYyl9KX1mdW5jdGlvbiBtKGEsYixkKXt2YXIgZT1hLnN0eWxlO2UuYmFja2dyb3VuZENvbG9yPSIjMDAwIjtlLmNvbG9yPSIjRkZGIjtlLndpZHRoPWouc3R5bGVEaW1lbnNpb24oZC53aWR0aCk7ZS5oZWlnaHQ9ai5zdHlsZURpbWVuc2lvbihkLmhlaWdodCk7ZS5kaXNwbGF5PSJ0YWJsZSI7ZS5vcGFjaXR5PTE7ZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwIik7CmU9ZC5zdHlsZTtlLnZlcnRpY2FsQWxpZ249Im1pZGRsZSI7ZS50ZXh0QWxpZ249ImNlbnRlciI7ZS5kaXNwbGF5PSJ0YWJsZS1jZWxsIjtlLmZvbnQ9IjE1cHgvMjBweCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmIjtkLmlubmVySFRNTD1iLnJlcGxhY2UoIjoiLCI6XHgzY2JyXHgzZSIpO2EuaW5uZXJIVE1MPSIiO2EuYXBwZW5kQ2hpbGQoZCl9dmFyIGo9aC51dGlscyxnPWguZXZlbnRzLGI9ITAsZT0hMSxwPWRvY3VtZW50LGE9aC5lbWJlZD1mdW5jdGlvbihmKXtmdW5jdGlvbiBjKCl7aWYoIUIpaWYoImFycmF5Ij09PWoudHlwZU9mKHUucGxheWxpc3QpJiYyPnUucGxheWxpc3QubGVuZ3RoJiYoMD09PXUucGxheWxpc3QubGVuZ3RofHwhdS5wbGF5bGlzdFswXS5zb3VyY2VzfHwwPT09dS5wbGF5bGlzdFswXS5zb3VyY2VzLmxlbmd0aCkpbCgpO2Vsc2UgaWYoIUcpaWYoInN0cmluZyI9PT1qLnR5cGVPZih1LnBsYXlsaXN0KSlBPW5ldyBoLnBsYXlsaXN0LmxvYWRlcixBLmFkZEV2ZW50TGlzdGVuZXIoZy5KV1BMQVlFUl9QTEFZTElTVF9MT0FERUQsCmZ1bmN0aW9uKGEpe3UucGxheWxpc3Q9YS5wbGF5bGlzdDtHPWU7YygpfSksQS5hZGRFdmVudExpc3RlbmVyKGcuSldQTEFZRVJfRVJST1IsZnVuY3Rpb24oYSl7Rz1lO2woYSl9KSxHPWIsQS5sb2FkKHUucGxheWxpc3QpO2Vsc2UgaWYodi5nZXRTdGF0dXMoKT09ai5sb2FkZXJzdGF0dXMuQ09NUExFVEUpe2Zvcih2YXIgaz0wO2s8dS5tb2Rlcy5sZW5ndGg7aysrKWlmKHUubW9kZXNba10udHlwZSYmYVt1Lm1vZGVzW2tdLnR5cGVdKXt2YXIgcD1qLmV4dGVuZCh7fSx1KSxtPW5ldyBhW3UubW9kZXNba10udHlwZV0oeSx1Lm1vZGVzW2tdLHAsdixmKTtpZihtLnN1cHBvcnRzQ29uZmlnKCkpcmV0dXJuIG0uYWRkRXZlbnRMaXN0ZW5lcihnLkVSUk9SLG4pLG0uZW1iZWQoKSxqLmNzcygib2JqZWN0Lmp3c3dmLCAuandwbGF5ZXI6Zm9jdXMiLHtvdXRsaW5lOiJub25lIn0pLGouY3NzKCIuanctdGFiLWZvY3VzOmZvY3VzIix7b3V0bGluZToic29saWQgMnB4ICMwQjdFRjQifSksZChmLApwLmV2ZW50cyksZn12YXIgcTt1LmZhbGxiYWNrPyhxPSJObyBzdWl0YWJsZSBwbGF5ZXJzIGZvdW5kIGFuZCBmYWxsYmFjayBlbmFibGVkIixEPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtyKHEsYil9LDEwKSxqLmxvZyhxKSxuZXcgYS5kb3dubG9hZCh5LHUsbCkpOihxPSJObyBzdWl0YWJsZSBwbGF5ZXJzIGZvdW5kIGFuZCBmYWxsYmFjayBkaXNhYmxlZCIscihxLGUpLGoubG9nKHEpLHkucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoSCx5KSl9fWZ1bmN0aW9uIG4oYSl7eChFK2EubWVzc2FnZSl9ZnVuY3Rpb24gayhhKXtmLmRpc3BhdGNoRXZlbnQoZy5KV1BMQVlFUl9FUlJPUix7bWVzc2FnZToiQ291bGQgbm90IGxvYWQgcGx1Z2luOiAiK2EubWVzc2FnZX0pfWZ1bmN0aW9uIGwoYSl7YSYmYS5tZXNzYWdlP3goIkVycm9yIGxvYWRpbmcgcGxheWxpc3Q6ICIrYS5tZXNzYWdlKTp4KEUrIk5vIHBsYXlhYmxlIHNvdXJjZXMgZm91bmQiKX1mdW5jdGlvbiByKGEsYil7RCYmKGNsZWFyVGltZW91dChEKSwKRD1udWxsKTtEPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtEPW51bGw7Zi5kaXNwYXRjaEV2ZW50KGcuSldQTEFZRVJfU0VUVVBfRVJST1Ise21lc3NhZ2U6YSxmYWxsYmFjazpifSl9LDApfWZ1bmN0aW9uIHgoYSl7Qnx8KHUuZmFsbGJhY2s/KEI9YixtKHksYSx1KSxyKGEsYikpOnIoYSxlKSl9dmFyIHU9bmV3IGEuY29uZmlnKGYuY29uZmlnKSx0PXUud2lkdGgscT11LmhlaWdodCxFPSJFcnJvciBsb2FkaW5nIHBsYXllcjogIixGPXAuZ2V0RWxlbWVudEJ5SWQoZi5pZCksdj1oLnBsdWdpbnMubG9hZFBsdWdpbnMoZi5pZCx1LnBsdWdpbnMpLEEsRz1lLEI9ZSxEPW51bGwsSD1udWxsO3UuZmFsbGJhY2tEaXYmJihIPXUuZmFsbGJhY2tEaXYsZGVsZXRlIHUuZmFsbGJhY2tEaXYpO3UuaWQ9Zi5pZDt1LmFzcGVjdHJhdGlvP2YuY29uZmlnLmFzcGVjdHJhdGlvPXUuYXNwZWN0cmF0aW86ZGVsZXRlIGYuY29uZmlnLmFzcGVjdHJhdGlvO3ZhciB5PXAuY3JlYXRlRWxlbWVudCgiZGl2Iik7CnkuaWQ9Ri5pZDt5LnN0eWxlLndpZHRoPTA8dC50b1N0cmluZygpLmluZGV4T2YoIiUiKT90OnQrInB4Ijt5LnN0eWxlLmhlaWdodD0wPHEudG9TdHJpbmcoKS5pbmRleE9mKCIlIik/cTpxKyJweCI7Ri5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh5LEYpO3RoaXMuZW1iZWQ9ZnVuY3Rpb24oKXtCfHwodi5hZGRFdmVudExpc3RlbmVyKGcuQ09NUExFVEUsYyksdi5hZGRFdmVudExpc3RlbmVyKGcuRVJST1Isayksdi5sb2FkKCkpfTt0aGlzLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2JiYodi5kZXN0cm95KCksdj1udWxsKTtBJiYoQS5yZXNldEV2ZW50TGlzdGVuZXJzKCksQT1udWxsKX07dGhpcy5lcnJvclNjcmVlbj14O3JldHVybiB0aGlzfTtoLmVtYmVkLmVycm9yU2NyZWVuPW19KGp3cGxheWVyKSxmdW5jdGlvbihoKXtmdW5jdGlvbiBkKGIpe2lmKGIucGxheWxpc3QpZm9yKHZhciBkPTA7ZDxiLnBsYXlsaXN0Lmxlbmd0aDtkKyspYi5wbGF5bGlzdFtkXT1uZXcgZyhiLnBsYXlsaXN0W2RdKTsKZWxzZXt2YXIgaD17fTtqLmZvcmVhY2goZy5kZWZhdWx0cyxmdW5jdGlvbihhKXttKGIsaCxhKX0pO2guc291cmNlc3x8KGIubGV2ZWxzPyhoLnNvdXJjZXM9Yi5sZXZlbHMsZGVsZXRlIGIubGV2ZWxzKTooZD17fSxtKGIsZCwiZmlsZSIpLG0oYixkLCJ0eXBlIiksaC5zb3VyY2VzPWQuZmlsZT9bZF06W10pKTtiLnBsYXlsaXN0PVtuZXcgZyhoKV19fWZ1bmN0aW9uIG0oYixkLGcpe2ouZXhpc3RzKGJbZ10pJiYoZFtnXT1iW2ddLGRlbGV0ZSBiW2ddKX12YXIgaj1oLnV0aWxzLGc9aC5wbGF5bGlzdC5pdGVtOyhoLmVtYmVkLmNvbmZpZz1mdW5jdGlvbihiKXt2YXIgZT17ZmFsbGJhY2s6ITAsaGVpZ2h0OjI3MCxwcmltYXJ5OiJodG1sNSIsd2lkdGg6NDgwLGJhc2U6Yi5iYXNlP2IuYmFzZTpqLmdldFNjcmlwdFBhdGgoImp3cGxheWVyLmpzIiksYXNwZWN0cmF0aW86IiJ9O2I9ai5leHRlbmQoZSxoLmRlZmF1bHRzLGIpO3ZhciBlPXt0eXBlOiJodG1sNSIsc3JjOmIuYmFzZSsiandwbGF5ZXIuaHRtbDUuanMifSwKZz17dHlwZToiZmxhc2giLHNyYzpiLmJhc2UrImp3cGxheWVyLmZsYXNoLnN3ZiJ9O2IubW9kZXM9ImZsYXNoIj09Yi5wcmltYXJ5P1tnLGVdOltlLGddO2IubGlzdGJhciYmKGIucGxheWxpc3RzaXplPWIubGlzdGJhci5zaXplLGIucGxheWxpc3Rwb3NpdGlvbj1iLmxpc3RiYXIucG9zaXRpb24sYi5wbGF5bGlzdGxheW91dD1iLmxpc3RiYXIubGF5b3V0KTtiLmZsYXNocGxheWVyJiYoZy5zcmM9Yi5mbGFzaHBsYXllcik7Yi5odG1sNXBsYXllciYmKGUuc3JjPWIuaHRtbDVwbGF5ZXIpO2QoYik7Zz1iLmFzcGVjdHJhdGlvO2lmKCJzdHJpbmciIT10eXBlb2YgZ3x8IWouZXhpc3RzKGcpKWU9MDtlbHNle3ZhciBhPWcuaW5kZXhPZigiOiIpOy0xPT1hP2U9MDooZT1wYXJzZUZsb2F0KGcuc3Vic3RyKDAsYSkpLGc9cGFyc2VGbG9hdChnLnN1YnN0cihhKzEpKSxlPTA+PWV8fDA+PWc/MDoxMDAqKGcvZSkrIiUiKX0tMT09Yi53aWR0aC50b1N0cmluZygpLmluZGV4T2YoIiUiKT9kZWxldGUgYi5hc3BlY3RyYXRpbzoKZT9iLmFzcGVjdHJhdGlvPWU6ZGVsZXRlIGIuYXNwZWN0cmF0aW87cmV0dXJuIGJ9KS5hZGRDb25maWc9ZnVuY3Rpb24oYixlKXtkKGUpO3JldHVybiBqLmV4dGVuZChiLGUpfX0oandwbGF5ZXIpLGZ1bmN0aW9uKGgpe3ZhciBkPWgudXRpbHMsbT1kb2N1bWVudDtoLmVtYmVkLmRvd25sb2FkPWZ1bmN0aW9uKGosZyxiKXtmdW5jdGlvbiBlKGEsYil7Zm9yKHZhciBjPW0ucXVlcnlTZWxlY3RvckFsbChhKSxlPTA7ZTxjLmxlbmd0aDtlKyspZC5mb3JlYWNoKGIsZnVuY3Rpb24oYSxiKXtjW2VdLnN0eWxlW2FdPWJ9KX1mdW5jdGlvbiBoKGEsYixjKXthPW0uY3JlYXRlRWxlbWVudChhKTtiJiYoYS5jbGFzc05hbWU9Imp3ZG93bmxvYWQiK2IpO2MmJmMuYXBwZW5kQ2hpbGQoYSk7cmV0dXJuIGF9dmFyIGE9ZC5leHRlbmQoe30sZyksZj1hLndpZHRoP2Eud2lkdGg6NDgwLGM9YS5oZWlnaHQ/YS5oZWlnaHQ6MzIwLG47Zz1nLmxvZ28/Zy5sb2dvOntwcmVmaXg6ZC5yZXBvKCksZmlsZToibG9nby5wbmciLAptYXJnaW46MTB9O3ZhciBrLGwscixhPWEucGxheWxpc3QseCx1PVsibXA0IiwiYWFjIiwibXAzIl07aWYoYSYmYS5sZW5ndGgpe3g9YVswXTtuPXguc291cmNlcztmb3IoYT0wO2E8bi5sZW5ndGg7YSsrKXt2YXIgdD1uW2FdLHE9dC50eXBlP3QudHlwZTpkLmV4dGVuc2lvbm1hcC5leHRUeXBlKGQuZXh0ZW5zaW9uKHQuZmlsZSkpO3QuZmlsZSYmZC5mb3JlYWNoKHUsZnVuY3Rpb24oYSl7cT09dVthXT8oaz10LmZpbGUsbD14LmltYWdlKTpkLmlzWW91VHViZSh0LmZpbGUpJiYocj10LmZpbGUpfSl9az8obj1rLGI9bCxqJiYoYT1oKCJhIiwiZGlzcGxheSIsaiksaCgiZGl2IiwiaWNvbiIsYSksaCgiZGl2IiwibG9nbyIsYSksbiYmYS5zZXRBdHRyaWJ1dGUoImhyZWYiLGQuZ2V0QWJzb2x1dGVQYXRoKG4pKSksYT0iIyIrai5pZCsiIC5qd2Rvd25sb2FkIixqLnN0eWxlLndpZHRoPSIiLGouc3R5bGUuaGVpZ2h0PSIiLGUoYSsiZGlzcGxheSIse3dpZHRoOmQuc3R5bGVEaW1lbnNpb24oTWF0aC5tYXgoMzIwLApmKSksaGVpZ2h0OmQuc3R5bGVEaW1lbnNpb24oTWF0aC5tYXgoMTgwLGMpKSxiYWNrZ3JvdW5kOiJibGFjayBjZW50ZXIgbm8tcmVwZWF0ICIrKGI/InVybCgiK2IrIikiOiIiKSxiYWNrZ3JvdW5kU2l6ZToiY29udGFpbiIscG9zaXRpb246InJlbGF0aXZlIixib3JkZXI6Im5vbmUiLGRpc3BsYXk6ImJsb2NrIn0pLGUoYSsiZGlzcGxheSBkaXYiLHtwb3NpdGlvbjoiYWJzb2x1dGUiLHdpZHRoOiIxMDAlIixoZWlnaHQ6IjEwMCUifSksZShhKyJsb2dvIix7dG9wOmcubWFyZ2luKyJweCIscmlnaHQ6Zy5tYXJnaW4rInB4IixiYWNrZ3JvdW5kOiJ0b3AgcmlnaHQgbm8tcmVwZWF0IHVybCgiK2cucHJlZml4K2cuZmlsZSsiKSJ9KSxlKGErImljb24iLHtiYWNrZ3JvdW5kOiJjZW50ZXIgbm8tcmVwZWF0IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUR3QUFBQThDQVlBQUFBNi9ObHlBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQWdOSlJFRlVlTnJzMjhscXdrQVlCL0NacU5WRERqMnI2Rk40MVFlSXk4RmUrZ2o2QkwyNzVRMDh1OUZiVDhaZHdWZm90U0JZRVBVa3hGT29rczRFS2lKZGFEdVRqTW4zd1dCTzBWLytzeVNSOFNOU3FWUktJUjhxYVhIa3pscVM5akNmenpXY1RDWXA5aEY1bys1OXNWanNpUnpjZWdTY2tGemNqVCtydU44MFRlU2xBakNBQVh6ZEpTR1BGWFJwQUFNWXdBQ0daUWtTZGhHNFdDemVoTU5ocVY2dkc2dlZTcmlyS1ZFdzY2WW9TcURiN2NxbFVpbEU4SmpIZC95MU1RZWZWenFkRG1pYUpwZkxaV0hnWE1IbjhGNnZKMWNxbFZBa0VzR3VBbjgzSjRnQWQyUlp5bVF5Z1g2L0wxZXJWUXQrOVpQV2IrQ0R3Y0NDMnpYR0phZXdsL0RoY0hoSzNEVmorS2ZLWnJNV3ZGYXJjWU5Mb21BdjRhUFJTRlpWbFRsY1NQQTVmRHdlVy9Cb05JcUZuS1Y1M0p2bmNqa0xucy9uL2NMZFMrOTJPN1JZTExnc0tmdjkvdDhYbERuNGVEeWl3K0hBOUp5ejJleXQwK2tZMiszV0ZDNWhsdWVqMEhhN3pRUXE5UFB3ZERxMUV0MXNOc3gvbkZCZ0NxV0o4b0FLMWFVcHROVnFjWVdld0U0bmFoZlUwWVFuazRudFVFZkdNSVUybTAxSG9MYUNLYlRSYURnS3RhVkxrOXRCWWFCY0UvNkFydGRyNFJaNVRCNi9kQys5aUllL1dnQU1ZQUREcEFVSkF4akFBQVl3Z0dGWmdvUy9BdE5OVEY3WjJiTDBCWVBCVjNKdzV4Rnd3V2NZeGd0QlA1T2tFOGk5RzdhV0dPT0NydXZhdXdBREFMTUxNRWJLZjRTZEFBQUFBRWxGVGtTdVFtQ0MpIn0pKToKcj8oZz1yLGo9aCgiaWZyYW1lIiwiIixqKSxqLnNyYz0iaHR0cDovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8iK2QueW91VHViZUlEKGcpLGoud2lkdGg9ZixqLmhlaWdodD1jLGouc3R5bGUuYm9yZGVyPSJub25lIik6YigpfX19KGp3cGxheWVyKSxmdW5jdGlvbihoKXt2YXIgZD1oLnV0aWxzLG09aC5ldmVudHMsaj17fTsoaC5lbWJlZC5mbGFzaD1mdW5jdGlvbihiLGUscCxhLGYpe2Z1bmN0aW9uIGMoYSxiLGMpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInBhcmFtIik7ZC5zZXRBdHRyaWJ1dGUoIm5hbWUiLGIpO2Quc2V0QXR0cmlidXRlKCJ2YWx1ZSIsYyk7YS5hcHBlbmRDaGlsZChkKX1mdW5jdGlvbiBuKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7YyYmZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZi5pZCsiX3dyYXBwZXIiKS5hcHBlbmRDaGlsZChiKTt2YXIgZD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChmLmlkKS5nZXRQbHVnaW5Db25maWcoImRpc3BsYXkiKTsKImZ1bmN0aW9uIj09dHlwZW9mIGEucmVzaXplJiZhLnJlc2l6ZShkLndpZHRoLGQuaGVpZ2h0KTtiLnN0eWxlLmxlZnQ9ZC54O2Iuc3R5bGUudG9wPWQuaH1jYXRjaChlKXt9fX1mdW5jdGlvbiBrKGEpe2lmKCFhKXJldHVybnt9O3ZhciBiPXt9LGM9W107ZC5mb3JlYWNoKGEsZnVuY3Rpb24oYSxlKXt2YXIgZj1kLmdldFBsdWdpbk5hbWUoYSk7Yy5wdXNoKGEpO2QuZm9yZWFjaChlLGZ1bmN0aW9uKGEsYyl7YltmKyIuIithXT1jfSl9KTtiLnBsdWdpbnM9Yy5qb2luKCIsIik7cmV0dXJuIGJ9dmFyIGw9bmV3IGguZXZlbnRzLmV2ZW50ZGlzcGF0Y2hlcixyPWQuZmxhc2hWZXJzaW9uKCk7ZC5leHRlbmQodGhpcyxsKTt0aGlzLmVtYmVkPWZ1bmN0aW9uKCl7cC5pZD1mLmlkO2lmKDEwPnIpcmV0dXJuIGwuc2VuZEV2ZW50KG0uRVJST1Ise21lc3NhZ2U6IkZsYXNoIHZlcnNpb24gbXVzdCBiZSAxMC4wIG9yIGdyZWF0ZXIifSksITE7dmFyIGcsaCx0PWYuY29uZmlnLmxpc3RiYXIscT1kLmV4dGVuZCh7fSwKcCk7aWYoYi5pZCsiX3dyYXBwZXIiPT1iLnBhcmVudE5vZGUuaWQpZz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChiLmlkKyJfd3JhcHBlciIpO2Vsc2V7Zz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2guc3R5bGUuZGlzcGxheT0ibm9uZSI7aC5pZD1iLmlkKyJfYXNwZWN0IjtnLmlkPWIuaWQrIl93cmFwcGVyIjtnLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSI7Zy5zdHlsZS5kaXNwbGF5PSJibG9jayI7Zy5zdHlsZS53aWR0aD1kLnN0eWxlRGltZW5zaW9uKHEud2lkdGgpO2cuc3R5bGUuaGVpZ2h0PWQuc3R5bGVEaW1lbnNpb24ocS5oZWlnaHQpO2lmKGYuY29uZmlnLmFzcGVjdHJhdGlvKXt2YXIgRT1wYXJzZUZsb2F0KGYuY29uZmlnLmFzcGVjdHJhdGlvKTtoLnN0eWxlLmRpc3BsYXk9ImJsb2NrIjtoLnN0eWxlLm1hcmdpblRvcD1mLmNvbmZpZy5hc3BlY3RyYXRpbztnLnN0eWxlLmhlaWdodD0iYXV0byI7Zy5zdHlsZS5kaXNwbGF5PQoiaW5saW5lLWJsb2NrIjt0JiYoImJvdHRvbSI9PXQucG9zaXRpb24/aC5zdHlsZS5wYWRkaW5nQm90dG9tPXQuc2l6ZSsicHgiOiJyaWdodCI9PXQucG9zaXRpb24mJihoLnN0eWxlLm1hcmdpbkJvdHRvbT0tMSp0LnNpemUqKEUvMTAwKSsicHgiKSl9Yi5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChnLGIpO2cuYXBwZW5kQ2hpbGQoYik7Zy5hcHBlbmRDaGlsZChoKX1nPWEuc2V0dXBQbHVnaW5zKGYscSxuKTswPGcubGVuZ3RoP2QuZXh0ZW5kKHEsayhnLnBsdWdpbnMpKTpkZWxldGUgcS5wbHVnaW5zOyJ1bmRlZmluZWQiIT10eXBlb2YgcVsiZG9jay5wb3NpdGlvbiJdJiYiZmFsc2UiPT1xWyJkb2NrLnBvc2l0aW9uIl0udG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpJiYocS5kb2NrPXFbImRvY2sucG9zaXRpb24iXSxkZWxldGUgcVsiZG9jay5wb3NpdGlvbiJdKTtnPXEud21vZGU/cS53bW9kZTpxLmhlaWdodCYmNDA+PXEuaGVpZ2h0PyJ0cmFuc3BhcmVudCI6Im9wYXF1ZSI7aD0iaGVpZ2h0IHdpZHRoIG1vZGVzIGV2ZW50cyBwcmltYXJ5IGJhc2UgZmFsbGJhY2sgdm9sdW1lIi5zcGxpdCgiICIpOwpmb3IodD0wO3Q8aC5sZW5ndGg7dCsrKWRlbGV0ZSBxW2hbdF1dO2g9ZC5nZXRDb29raWVzKCk7ZC5mb3JlYWNoKGgsZnVuY3Rpb24oYSxiKXsidW5kZWZpbmVkIj09dHlwZW9mIHFbYV0mJihxW2FdPWIpfSk7aD13aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgiLyIpO2guc3BsaWNlKGgubGVuZ3RoLTEsMSk7aD1oLmpvaW4oIi8iKTtxLmJhc2U9aCsiLyI7altiLmlkXT1xO2QuaXNNU0lFKCk/KGg9J1x4M2NvYmplY3QgY2xhc3NpZFx4M2QiY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2QjgtNDQ0NTUzNTQwMDAwIiAiIHdpZHRoXHgzZCIxMDAlIiBoZWlnaHRceDNkIjEwMCUiaWRceDNkIicrYi5pZCsnIiBuYW1lXHgzZCInK2IuaWQrJyIgdGFiaW5kZXhceDNkMCIiXHgzZScsaCs9J1x4M2NwYXJhbSBuYW1lXHgzZCJtb3ZpZSIgdmFsdWVceDNkIicrZS5zcmMrJyJceDNlJyxoKz0nXHgzY3BhcmFtIG5hbWVceDNkImFsbG93ZnVsbHNjcmVlbiIgdmFsdWVceDNkInRydWUiXHgzZVx4M2NwYXJhbSBuYW1lXHgzZCJhbGxvd3NjcmlwdGFjY2VzcyIgdmFsdWVceDNkImFsd2F5cyJceDNlJywKaCs9J1x4M2NwYXJhbSBuYW1lXHgzZCJzZWFtbGVzc3RhYmJpbmciIHZhbHVlXHgzZCJ0cnVlIlx4M2UnLGgrPSdceDNjcGFyYW0gbmFtZVx4M2Qid21vZGUiIHZhbHVlXHgzZCInK2crJyJceDNlJyxoKz0nXHgzY3BhcmFtIG5hbWVceDNkImJnY29sb3IiIHZhbHVlXHgzZCIjMDAwMDAwIlx4M2UnLGgrPSJceDNjL29iamVjdFx4M2UiLGIub3V0ZXJIVE1MPWgsZz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChiLmlkKSk6KGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib2JqZWN0IiksaC5zZXRBdHRyaWJ1dGUoInR5cGUiLCJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaCIpLGguc2V0QXR0cmlidXRlKCJkYXRhIixlLnNyYyksaC5zZXRBdHRyaWJ1dGUoIndpZHRoIiwiMTAwJSIpLGguc2V0QXR0cmlidXRlKCJoZWlnaHQiLCIxMDAlIiksaC5zZXRBdHRyaWJ1dGUoImJnY29sb3IiLCIjMDAwMDAwIiksaC5zZXRBdHRyaWJ1dGUoImlkIixiLmlkKSxoLnNldEF0dHJpYnV0ZSgibmFtZSIsCmIuaWQpLGguY2xhc3NOYW1lPSJqd3N3ZiIsYyhoLCJhbGxvd2Z1bGxzY3JlZW4iLCJ0cnVlIiksYyhoLCJhbGxvd3NjcmlwdGFjY2VzcyIsImFsd2F5cyIpLGMoaCwic2VhbWxlc3N0YWJiaW5nIiwidHJ1ZSIpLGMoaCwid21vZGUiLGcpLGIucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoaCxiKSxnPWgpO2YuY29uZmlnLmFzcGVjdHJhdGlvJiYoZy5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiKTtmLmNvbnRhaW5lcj1nO2Yuc2V0UGxheWVyKGcsImZsYXNoIil9O3RoaXMuc3VwcG9ydHNDb25maWc9ZnVuY3Rpb24oKXtpZihyKWlmKHApe2lmKCJzdHJpbmciPT1kLnR5cGVPZihwLnBsYXlsaXN0KSlyZXR1cm4hMDt0cnl7dmFyIGE9cC5wbGF5bGlzdFswXS5zb3VyY2VzO2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgYSlyZXR1cm4hMDtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmZpbGUmJmcoYVtiXS5maWxlLGFbYl0udHlwZSkpcmV0dXJuITB9Y2F0Y2goYyl7fX1lbHNlIHJldHVybiEwOwpyZXR1cm4hMX19KS5nZXRWYXJzPWZ1bmN0aW9uKGIpe3JldHVybiBqW2JdfTt2YXIgZz1oLmVtYmVkLmZsYXNoQ2FuUGxheT1mdW5jdGlvbihiLGUpe2lmKGQuaXNZb3VUdWJlKGIpfHxkLmlzUnRtcChiLGUpfHwiaGxzIj09ZSlyZXR1cm4hMDt2YXIgZz1kLmV4dGVuc2lvbm1hcFtlP2U6ZC5leHRlbnNpb24oYildO3JldHVybiFnPyExOiEhZy5mbGFzaH19KGp3cGxheWVyKSxmdW5jdGlvbihoKXtmdW5jdGlvbiBkKGIsZCxnKXtpZihudWxsIT09bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQmxhY2tCZXJyeS9pKSlyZXR1cm4hMTtpZigieW91dHViZSI9PT1kfHxtLmlzWW91VHViZShiKSlyZXR1cm4hMDt2YXIgYT1tLmV4dGVuc2lvbihiKTtkPWR8fGouZXh0VHlwZShhKTtpZigiaGxzIj09PWQpaWYoZyl7Zz1tLmlzQW5kcm9pZE5hdGl2ZTtpZihnKDIpfHxnKDMpfHxnKCI0LjAiKSlyZXR1cm4hMTtpZihtLmlzQW5kcm9pZCgpKXJldHVybiEwfWVsc2UgaWYobS5pc0FuZHJvaWQoKSlyZXR1cm4hMTsKaWYobS5pc1J0bXAoYixkKSlyZXR1cm4hMTtiPWpbZF18fGpbYV07aWYoIWJ8fGIuZmxhc2gmJiFiLmh0bWw1KXJldHVybiExO3ZhciBmO2E6aWYoYj1iLmh0bWw1KXt0cnl7Zj0hIWgudmlkLmNhblBsYXlUeXBlKGIpO2JyZWFrIGF9Y2F0Y2goYyl7fWY9ITF9ZWxzZSBmPSEwO3JldHVybiBmfXZhciBtPWgudXRpbHMsaj1tLmV4dGVuc2lvbm1hcCxnPWguZXZlbnRzO2guZW1iZWQuaHRtbDU9ZnVuY3Rpb24oYixlLGosYSxmKXtmdW5jdGlvbiBjKGEsYyxkKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7dmFyIGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiIyIrYi5pZCsiIC5qd21haW4iKTtkJiZlLmFwcGVuZENoaWxkKGMpOyJmdW5jdGlvbiI9PXR5cGVvZiBhLnJlc2l6ZSYmKGEucmVzaXplKGUuY2xpZW50V2lkdGgsZS5jbGllbnRIZWlnaHQpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthLnJlc2l6ZShlLmNsaWVudFdpZHRoLGUuY2xpZW50SGVpZ2h0KX0sNDAwKSk7Yy5sZWZ0PWUuc3R5bGUubGVmdDsKYy50b3A9ZS5zdHlsZS50b3B9Y2F0Y2goZil7fX19ZnVuY3Rpb24gbihhKXtrLnNlbmRFdmVudChhLnR5cGUse21lc3NhZ2U6IkhUTUw1IHBsYXllciBub3QgZm91bmQifSl9dmFyIGs9dGhpcyxsPW5ldyBnLmV2ZW50ZGlzcGF0Y2hlcjttLmV4dGVuZChrLGwpO2suZW1iZWQ9ZnVuY3Rpb24oKXtpZihoLmh0bWw1KXthLnNldHVwUGx1Z2lucyhmLGosYyk7Yi5pbm5lckhUTUw9IiI7dmFyIGQ9aC51dGlscy5leHRlbmQoe30saik7ZGVsZXRlIGQudm9sdW1lO2Q9bmV3IGguaHRtbDUucGxheWVyKGQpO2YuY29udGFpbmVyPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGYuaWQpO2Yuc2V0UGxheWVyKGQsImh0bWw1Iil9ZWxzZSBkPW5ldyBtLnNjcmlwdGxvYWRlcihlLnNyYyksZC5hZGRFdmVudExpc3RlbmVyKGcuRVJST1IsbiksZC5hZGRFdmVudExpc3RlbmVyKGcuQ09NUExFVEUsay5lbWJlZCksZC5sb2FkKCl9O2suc3VwcG9ydHNDb25maWc9ZnVuY3Rpb24oKXtpZihoLnZpZC5jYW5QbGF5VHlwZSl0cnl7aWYoInN0cmluZyI9PQptLnR5cGVPZihqLnBsYXlsaXN0KSlyZXR1cm4hMDtmb3IodmFyIGE9ai5wbGF5bGlzdFswXS5zb3VyY2VzLGI9MDtiPGEubGVuZ3RoO2IrKylpZihkKGFbYl0uZmlsZSxhW2JdLnR5cGUsai5hbmRyb2lkaGxzKSlyZXR1cm4hMH1jYXRjaChjKXt9cmV0dXJuITF9fTtoLmVtYmVkLmh0bWw1Q2FuUGxheT1kfShqd3BsYXllciksZnVuY3Rpb24oaCl7dmFyIGQ9aC5lbWJlZCxtPWgudXRpbHMsaj0vXC4oanN8c3dmKSQvO2guZW1iZWQ9bS5leHRlbmQoZnVuY3Rpb24oZyl7ZnVuY3Rpb24gYigpe3Q9IkFkb2JlIFNpdGVDYXRhbHlzdCBFcnJvcjogQ291bGQgbm90IGZpbmQgTWVkaWEgTW9kdWxlIn12YXIgZT1tLnJlcG8oKSxwPW0uZXh0ZW5kKHt9LGguZGVmYXVsdHMpLGE9bS5leHRlbmQoe30scCxnLmNvbmZpZyksZj1nLmNvbmZpZyxjPWEucGx1Z2lucyxuPWEuYW5hbHl0aWNzLGs9ZSsiandwc3J2LmpzIixsPWUrInNoYXJpbmcuanMiLHI9ZSsicmVsYXRlZC5qcyIseD1lKyJnYXByby5qcyIsCnA9aC5rZXk/aC5rZXk6cC5rZXksdT0obmV3IGgudXRpbHMua2V5KHApKS5lZGl0aW9uKCksdCxjPWM/Yzp7fTsiYWRzIj09dSYmYS5hZHZlcnRpc2luZyYmKGoudGVzdChhLmFkdmVydGlzaW5nLmNsaWVudCk/Y1thLmFkdmVydGlzaW5nLmNsaWVudF09YS5hZHZlcnRpc2luZzpjW2UrYS5hZHZlcnRpc2luZy5jbGllbnQrIi5qcyJdPWEuYWR2ZXJ0aXNpbmcpO2RlbGV0ZSBmLmFkdmVydGlzaW5nO2Yua2V5PXA7YS5hbmFseXRpY3MmJmoudGVzdChhLmFuYWx5dGljcy5jbGllbnQpJiYoaz1hLmFuYWx5dGljcy5jbGllbnQpO2RlbGV0ZSBmLmFuYWx5dGljcztuJiYhKCJhZHMiPT09dXx8ImVudGVycHJpc2UiPT09dSkmJmRlbGV0ZSBuLmVuYWJsZWQ7aWYoImZyZWUiPT11fHwhbnx8ITEhPT1uLmVuYWJsZWQpY1trXT1uP246e307ZGVsZXRlIGMuc2hhcmluZztkZWxldGUgYy5yZWxhdGVkO3N3aXRjaCh1KXtjYXNlICJhZHMiOmNhc2UgImVudGVycHJpc2UiOmlmKGYuc2l0ZWNhdGFseXN0KXRyeXt3aW5kb3cucyYmCndpbmRvdy5zLmhhc093blByb3BlcnR5KCJNZWRpYSIpP25ldyBoLmVtYmVkLnNpdGVjYXRhbHlzdChnKTpiKCl9Y2F0Y2gocSl7YigpfWNhc2UgInByZW1pdW0iOmEucmVsYXRlZCYmKGoudGVzdChhLnJlbGF0ZWQuY2xpZW50KSYmKHI9YS5yZWxhdGVkLmNsaWVudCksY1tyXT1hLnJlbGF0ZWQpLGEuZ2EmJihqLnRlc3QoYS5nYS5jbGllbnQpJiYoeD1hLmdhLmNsaWVudCksY1t4XT1hLmdhKTtjYXNlICJwcm8iOmEuc2hhcmluZyYmKGoudGVzdChhLnNoYXJpbmcuY2xpZW50KSYmKGw9YS5zaGFyaW5nLmNsaWVudCksY1tsXT1hLnNoYXJpbmcpLGEuc2tpbiYmKGYuc2tpbj1hLnNraW4ucmVwbGFjZSgvXihiZWVsZGVufGJla2xlfGZpdmV8Z2xvd3xtb2RpZXVzfHJvdW5kc3RlcnxzdG9ybXRyb29wZXJ8dmFwb3IpJC9pLG0ucmVwbygpKyJza2lucy8kMS54bWwiKSl9Zi5wbHVnaW5zPWM7Zy5jb25maWc9ZjtnPW5ldyBkKGcpO3QmJmcuZXJyb3JTY3JlZW4odCk7cmV0dXJuIGd9LGguZW1iZWQpfShqd3BsYXllciksCmZ1bmN0aW9uKGgpe3ZhciBkPWp3cGxheWVyLnV0aWxzO2guc2l0ZWNhdGFseXN0PWZ1bmN0aW9uKGgpe2Z1bmN0aW9uIGooYil7YS5kZWJ1ZyYmZC5sb2coYil9ZnVuY3Rpb24gZyhhKXthPWEuc3BsaXQoIi8iKTthPWFbYS5sZW5ndGgtMV07YT1hLnNwbGl0KCI/Iik7cmV0dXJuIGFbMF19ZnVuY3Rpb24gYigpe2lmKCFsKXtsPSEwO3ZhciBhPXAuZ2V0UG9zaXRpb24oKTtqKCJzdG9wOiAiK2MrIiA6ICIrYSk7cy5NZWRpYS5zdG9wKGMsYSl9fWZ1bmN0aW9uIGUoKXtyfHwoYigpLHI9ITAsaigiY2xvc2U6ICIrYykscy5NZWRpYS5jbG9zZShjKSx4PSEwLGs9MCl9dmFyIHA9aCxhPWQuZXh0ZW5kKHt9LHAuY29uZmlnLnNpdGVjYXRhbHlzdCksZj17b25QbGF5OmZ1bmN0aW9uKCl7aWYoIXgpe3ZhciBhPXAuZ2V0UG9zaXRpb24oKTtsPSExO2ooInBsYXk6ICIrYysiIDogIithKTtzLk1lZGlhLnBsYXkoYyxhKX19LG9uUGF1c2U6YixvbkJ1ZmZlcjpiLG9uSWRsZTplLG9uUGxheWxpc3RJdGVtOmZ1bmN0aW9uKGIpe3RyeXt4PQohMDtlKCk7az0wO3ZhciBmO2lmKGEubWVkaWFOYW1lKWY9YS5tZWRpYU5hbWU7ZWxzZXt2YXIgaD1wLmdldFBsYXlsaXN0SXRlbShiLmluZGV4KTtmPWgudGl0bGU/aC50aXRsZTpoLmZpbGU/ZyhoLmZpbGUpOmguc291cmNlcyYmaC5zb3VyY2VzLmxlbmd0aD9nKGguc291cmNlc1swXS5maWxlKToiIn1jPWY7bj1hLnBsYXllck5hbWU/YS5wbGF5ZXJOYW1lOnAuaWR9Y2F0Y2goail7ZC5sb2coail9fSxvblRpbWU6ZnVuY3Rpb24oKXtpZih4KXt2YXIgYT1wLmdldER1cmF0aW9uKCk7aWYoLTE9PWEpcmV0dXJuO3I9bD14PSExO2ooIm9wZW46ICIrYysiIDogIithKyIgOiAiK24pO3MuTWVkaWEub3BlbihjLGEsbik7aigicGxheTogIitjKyIgOiAwIik7cy5NZWRpYS5wbGF5KGMsMCl9YT1wLmdldFBvc2l0aW9uKCk7aWYoMzw9TWF0aC5hYnMoYS1rKSl7dmFyIGI9aztqKCJzZWVrOiAiK2IrIiB0byAiK2EpO2ooInN0b3A6ICIrYysiIDogIitiKTtzLk1lZGlhLnN0b3AoYyxiKTtqKCJwbGF5OiAiKwpjKyIgOiAiK2EpO3MuTWVkaWEucGxheShjLGEpfWs9YX0sb25Db21wbGV0ZTplfSxjLG4sayxsPSEwLHI9ITAseDtkLmZvcmVhY2goZixmdW5jdGlvbihhKXtwW2FdKGZbYV0pfSl9fShqd3BsYXllci5lbWJlZCksZnVuY3Rpb24oaCxkKXt2YXIgbT1bXSxqPWgudXRpbHMsZz1oLmV2ZW50cyxiPWcuc3RhdGUsZT1kb2N1bWVudCxwPSJnZXRCdWZmZXIgZ2V0Q2FwdGlvbnNMaXN0IGdldENvbnRyb2xzIGdldEN1cnJlbnRDYXB0aW9ucyBnZXRDdXJyZW50UXVhbGl0eSBnZXREdXJhdGlvbiBnZXRGdWxsc2NyZWVuIGdldEhlaWdodCBnZXRMb2NrU3RhdGUgZ2V0TXV0ZSBnZXRQbGF5bGlzdEluZGV4IGdldFNhZmVSZWdpb24gZ2V0UG9zaXRpb24gZ2V0UXVhbGl0eUxldmVscyBnZXRTdGF0ZSBnZXRWb2x1bWUgZ2V0V2lkdGggaXNCZWZvcmVDb21wbGV0ZSBpc0JlZm9yZVBsYXkgcmVsZWFzZVN0YXRlIi5zcGxpdCgiICIpLGE9InBsYXlsaXN0TmV4dCBzdG9wIGZvcmNlU3RhdGUgcGxheWxpc3RQcmV2IHNlZWsgc2V0Q3VycmVudENhcHRpb25zIHNldENvbnRyb2xzIHNldEN1cnJlbnRRdWFsaXR5IHNldFZvbHVtZSIuc3BsaXQoIiAiKSwKZj17b25CdWZmZXJDaGFuZ2U6Zy5KV1BMQVlFUl9NRURJQV9CVUZGRVIsb25CdWZmZXJGdWxsOmcuSldQTEFZRVJfTUVESUFfQlVGRkVSX0ZVTEwsb25FcnJvcjpnLkpXUExBWUVSX0VSUk9SLG9uU2V0dXBFcnJvcjpnLkpXUExBWUVSX1NFVFVQX0VSUk9SLG9uRnVsbHNjcmVlbjpnLkpXUExBWUVSX0ZVTExTQ1JFRU4sb25NZXRhOmcuSldQTEFZRVJfTUVESUFfTUVUQSxvbk11dGU6Zy5KV1BMQVlFUl9NRURJQV9NVVRFLG9uUGxheWxpc3Q6Zy5KV1BMQVlFUl9QTEFZTElTVF9MT0FERUQsb25QbGF5bGlzdEl0ZW06Zy5KV1BMQVlFUl9QTEFZTElTVF9JVEVNLG9uUGxheWxpc3RDb21wbGV0ZTpnLkpXUExBWUVSX1BMQVlMSVNUX0NPTVBMRVRFLG9uUmVhZHk6Zy5BUElfUkVBRFksb25SZXNpemU6Zy5KV1BMQVlFUl9SRVNJWkUsb25Db21wbGV0ZTpnLkpXUExBWUVSX01FRElBX0NPTVBMRVRFLG9uU2VlazpnLkpXUExBWUVSX01FRElBX1NFRUssb25UaW1lOmcuSldQTEFZRVJfTUVESUFfVElNRSwKb25Wb2x1bWU6Zy5KV1BMQVlFUl9NRURJQV9WT0xVTUUsb25CZWZvcmVQbGF5OmcuSldQTEFZRVJfTUVESUFfQkVGT1JFUExBWSxvbkJlZm9yZUNvbXBsZXRlOmcuSldQTEFZRVJfTUVESUFfQkVGT1JFQ09NUExFVEUsb25EaXNwbGF5Q2xpY2s6Zy5KV1BMQVlFUl9ESVNQTEFZX0NMSUNLLG9uQ29udHJvbHM6Zy5KV1BMQVlFUl9DT05UUk9MUyxvblF1YWxpdHlMZXZlbHM6Zy5KV1BMQVlFUl9NRURJQV9MRVZFTFMsb25RdWFsaXR5Q2hhbmdlOmcuSldQTEFZRVJfTUVESUFfTEVWRUxfQ0hBTkdFRCxvbkNhcHRpb25zTGlzdDpnLkpXUExBWUVSX0NBUFRJT05TX0xJU1Qsb25DYXB0aW9uc0NoYW5nZTpnLkpXUExBWUVSX0NBUFRJT05TX0NIQU5HRUQsb25BZEVycm9yOmcuSldQTEFZRVJfQURfRVJST1Isb25BZENsaWNrOmcuSldQTEFZRVJfQURfQ0xJQ0ssb25BZEltcHJlc3Npb246Zy5KV1BMQVlFUl9BRF9JTVBSRVNTSU9OLG9uQWRUaW1lOmcuSldQTEFZRVJfQURfVElNRSxvbkFkQ29tcGxldGU6Zy5KV1BMQVlFUl9BRF9DT01QTEVURSwKb25BZENvbXBhbmlvbnM6Zy5KV1BMQVlFUl9BRF9DT01QQU5JT05TLG9uQWRTa2lwcGVkOmcuSldQTEFZRVJfQURfU0tJUFBFRCxvbkFkUGxheTpnLkpXUExBWUVSX0FEX1BMQVksb25BZFBhdXNlOmcuSldQTEFZRVJfQURfUEFVU0Usb25BZE1ldGE6Zy5KV1BMQVlFUl9BRF9NRVRBLG9uQ2FzdDpnLkpXUExBWUVSX0NBU1RfU0VTU0lPTn0sYz17b25CdWZmZXI6Yi5CVUZGRVJJTkcsb25QYXVzZTpiLlBBVVNFRCxvblBsYXk6Yi5QTEFZSU5HLG9uSWRsZTpiLklETEV9O2guYXBpPWZ1bmN0aW9uKG0pe2Z1bmN0aW9uIGsoYSxiKXtqLmZvcmVhY2goYSxmdW5jdGlvbihhLGMpe3FbYV09ZnVuY3Rpb24oYSl7cmV0dXJuIGIoYyxhKX19KX1mdW5jdGlvbiBsKGEsYil7dmFyIGM9Imp3IitiLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Iuc2xpY2UoMSk7cVtiXT1mdW5jdGlvbigpe3ZhciBiPXQuYXBwbHkodGhpcyxbY10uY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywKMCkpKTtyZXR1cm4gYT9xOmJ9fWZ1bmN0aW9uIHIoYSl7Rz1bXTtEJiZELmRlc3Ryb3kmJkQuZGVzdHJveSgpO2guYXBpLmRlc3Ryb3lQbGF5ZXIoYS5pZCl9ZnVuY3Rpb24geChhLGIpe3RyeXthLmp3QWRkRXZlbnRMaXN0ZW5lcihiLCdmdW5jdGlvbihkYXQpIHsgandwbGF5ZXIoIicrcS5pZCsnIikuZGlzcGF0Y2hFdmVudCgiJytiKyciLCBkYXQpOyB9Jyl9Y2F0Y2goYyl7ai5sb2coIkNvdWxkIG5vdCBhZGQgaW50ZXJuYWwgbGlzdGVuZXIiKX19ZnVuY3Rpb24gdShhLGIpe0VbYV18fChFW2FdPVtdLHYmJkEmJngodixhKSk7RVthXS5wdXNoKGIpO3JldHVybiBxfWZ1bmN0aW9uIHQoKXtpZihBKXtpZih2KXt2YXIgYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCksYj1hLnNoaWZ0KCk7aWYoImZ1bmN0aW9uIj09PXR5cGVvZiB2W2JdKXtzd2l0Y2goYS5sZW5ndGgpe2Nhc2UgNjpyZXR1cm4gdltiXShhWzBdLGFbMV0sYVsyXSxhWzNdLGFbNF0sYVs1XSk7CmNhc2UgNTpyZXR1cm4gdltiXShhWzBdLGFbMV0sYVsyXSxhWzNdLGFbNF0pO2Nhc2UgNDpyZXR1cm4gdltiXShhWzBdLGFbMV0sYVsyXSxhWzNdKTtjYXNlIDM6cmV0dXJuIHZbYl0oYVswXSxhWzFdLGFbMl0pO2Nhc2UgMjpyZXR1cm4gdltiXShhWzBdLGFbMV0pO2Nhc2UgMTpyZXR1cm4gdltiXShhWzBdKX1yZXR1cm4gdltiXSgpfX1yZXR1cm4gbnVsbH1HLnB1c2goYXJndW1lbnRzKX12YXIgcT10aGlzLEU9e30sRj17fSx2LEE9ITEsRz1bXSxCLEQsSD17fSx5PXt9O3EuY29udGFpbmVyPW07cS5pZD1tLmlkO3Euc2V0dXA9ZnVuY3Rpb24oYSl7aWYoaC5lbWJlZCl7dmFyIGI9ZS5nZXRFbGVtZW50QnlJZChxLmlkKTtiJiYoYS5mYWxsYmFja0Rpdj1iKTtyKHEpO2I9aChxLmlkKTtiLmNvbmZpZz1hO0Q9bmV3IGguZW1iZWQoYik7RC5lbWJlZCgpO3JldHVybiBifXJldHVybiBxfTtxLmdldENvbnRhaW5lcj1mdW5jdGlvbigpe3JldHVybiBxLmNvbnRhaW5lcn07cS5hZGRCdXR0b249CmZ1bmN0aW9uKGEsYixjLGQpe3RyeXt5W2RdPWMsdCgiandEb2NrQWRkQnV0dG9uIixhLGIsImp3cGxheWVyKCciK3EuaWQrIicpLmNhbGxiYWNrKCciK2QrIicpIixkKX1jYXRjaChlKXtqLmxvZygiQ291bGQgbm90IGFkZCBkb2NrIGJ1dHRvbiIrZS5tZXNzYWdlKX19O3EucmVtb3ZlQnV0dG9uPWZ1bmN0aW9uKGEpe3QoImp3RG9ja1JlbW92ZUJ1dHRvbiIsYSl9O3EuY2FsbGJhY2s9ZnVuY3Rpb24oYSl7aWYoeVthXSl5W2FdKCl9O3EuZ2V0TWV0YT1mdW5jdGlvbigpe3JldHVybiBxLmdldEl0ZW1NZXRhKCl9O3EuZ2V0UGxheWxpc3Q9ZnVuY3Rpb24oKXt2YXIgYT10KCJqd0dldFBsYXlsaXN0Iik7ImZsYXNoIj09cS5yZW5kZXJpbmdNb2RlJiZqLmRlZXBSZXBsYWNlS2V5TmFtZShhLFsiX19kb3RfXyIsIl9fc3BjX18iLCJfX2RzaF9fIiwiX19kZWZhdWx0X18iXSxbIi4iLCIgIiwiLSIsImRlZmF1bHQiXSk7cmV0dXJuIGF9O3EuZ2V0UGxheWxpc3RJdGVtPWZ1bmN0aW9uKGEpe2ouZXhpc3RzKGEpfHwKKGE9cS5nZXRQbGF5bGlzdEluZGV4KCkpO3JldHVybiBxLmdldFBsYXlsaXN0KClbYV19O3EuZ2V0UmVuZGVyaW5nTW9kZT1mdW5jdGlvbigpe3JldHVybiBxLnJlbmRlcmluZ01vZGV9O3Euc2V0RnVsbHNjcmVlbj1mdW5jdGlvbihhKXtqLmV4aXN0cyhhKT90KCJqd1NldEZ1bGxzY3JlZW4iLGEpOnQoImp3U2V0RnVsbHNjcmVlbiIsIXQoImp3R2V0RnVsbHNjcmVlbiIpKTtyZXR1cm4gcX07cS5zZXRNdXRlPWZ1bmN0aW9uKGEpe2ouZXhpc3RzKGEpP3QoImp3U2V0TXV0ZSIsYSk6dCgiandTZXRNdXRlIiwhdCgiandHZXRNdXRlIikpO3JldHVybiBxfTtxLmxvY2s9ZnVuY3Rpb24oKXtyZXR1cm4gcX07cS51bmxvY2s9ZnVuY3Rpb24oKXtyZXR1cm4gcX07cS5sb2FkPWZ1bmN0aW9uKGEpe3QoImp3SW5zdHJlYW1EZXN0cm95Iik7aChxLmlkKS5wbHVnaW5zLmdvb2dpbWEmJnQoImp3RGVzdHJveUdvb2dpbWEiKTt0KCJqd0xvYWQiLGEpO3JldHVybiBxfTtxLnBsYXlsaXN0SXRlbT1mdW5jdGlvbihhKXt0KCJqd1BsYXlsaXN0SXRlbSIsCnBhcnNlSW50KGEsMTApKTtyZXR1cm4gcX07cS5yZXNpemU9ZnVuY3Rpb24oYSxiKXtpZigiZmxhc2giIT09cS5yZW5kZXJpbmdNb2RlKXQoImp3UmVzaXplIixhLGIpO2Vsc2V7dmFyIGM9ZS5nZXRFbGVtZW50QnlJZChxLmlkKyJfd3JhcHBlciIpLGQ9ZS5nZXRFbGVtZW50QnlJZChxLmlkKyJfYXNwZWN0Iik7ZCYmKGQuc3R5bGUuZGlzcGxheT0ibm9uZSIpO2MmJihjLnN0eWxlLmRpc3BsYXk9ImJsb2NrIixjLnN0eWxlLndpZHRoPWouc3R5bGVEaW1lbnNpb24oYSksYy5zdHlsZS5oZWlnaHQ9ai5zdHlsZURpbWVuc2lvbihiKSl9cmV0dXJuIHF9O3EucGxheT1mdW5jdGlvbihhKXtpZihhIT09ZClyZXR1cm4gdCgiandQbGF5IixhKSxxO2E9cS5nZXRTdGF0ZSgpO3ZhciBjPUImJkIuZ2V0U3RhdGUoKTtjP2M9PT1iLklETEV8fGM9PT1iLlBMQVlJTkd8fGM9PT1iLkJVRkZFUklORz90KCJqd0luc3RyZWFtUGF1c2UiKTp0KCJqd0luc3RyZWFtUGxheSIpOmE9PWIuUExBWUlOR3x8YT09CmIuQlVGRkVSSU5HP3QoImp3UGF1c2UiKTp0KCJqd1BsYXkiKTtyZXR1cm4gcX07cS5wYXVzZT1mdW5jdGlvbihhKXthPT09ZD8oYT1xLmdldFN0YXRlKCksYT09Yi5QTEFZSU5HfHxhPT1iLkJVRkZFUklORz90KCJqd1BhdXNlIik6dCgiandQbGF5IikpOnQoImp3UGF1c2UiLGEpO3JldHVybiBxfTtxLmNyZWF0ZUluc3RyZWFtPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBoLmFwaS5pbnN0cmVhbSh0aGlzLHYpfTtxLnNldEluc3RyZWFtPWZ1bmN0aW9uKGEpe3JldHVybiBCPWF9O3EubG9hZEluc3RyZWFtPWZ1bmN0aW9uKGEsYil7Qj1xLnNldEluc3RyZWFtKHEuY3JlYXRlSW5zdHJlYW0oKSkuaW5pdChiKTtCLmxvYWRJdGVtKGEpO3JldHVybiBCfTtxLmRlc3Ryb3lQbGF5ZXI9ZnVuY3Rpb24oKXt0KCJqd1BsYXllckRlc3Ryb3kiKX07cS5wbGF5QWQ9ZnVuY3Rpb24oYSl7dmFyIGI9aChxLmlkKS5wbHVnaW5zO2IudmFzdD9iLnZhc3QuandQbGF5QWQoYSk6dCgiandQbGF5QWQiLGEpfTsKcS5wYXVzZUFkPWZ1bmN0aW9uKCl7dmFyIGE9aChxLmlkKS5wbHVnaW5zO2EudmFzdD9hLnZhc3QuandQYXVzZUFkKCk6dCgiandQYXVzZUFkIil9O2soYyxmdW5jdGlvbihhLGIpe0ZbYV18fChGW2FdPVtdLHUoZy5KV1BMQVlFUl9QTEFZRVJfU1RBVEUsZnVuY3Rpb24oYil7dmFyIGM9Yi5uZXdzdGF0ZTtiPWIub2xkc3RhdGU7aWYoYz09YSl7dmFyIGQ9RltjXTtpZihkKWZvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdOyJmdW5jdGlvbiI9PXR5cGVvZiBmJiZmLmNhbGwodGhpcyx7b2xkc3RhdGU6YixuZXdzdGF0ZTpjfSl9fX0pKTtGW2FdLnB1c2goYik7cmV0dXJuIHF9KTtrKGYsdSk7ai5mb3JlYWNoKHAsZnVuY3Rpb24oYSxiKXtsKCExLGIpfSk7ai5mb3JlYWNoKGEsZnVuY3Rpb24oYSxiKXtsKCEwLGIpfSk7cS5yZW1vdmU9ZnVuY3Rpb24oKXtpZighQSl0aHJvdyJDYW5ub3QgY2FsbCByZW1vdmUoKSBiZWZvcmUgcGxheWVyIGlzIHJlYWR5IjtyKHRoaXMpfTsKcS5yZWdpc3RlclBsdWdpbj1mdW5jdGlvbihhLGIsYyxkKXtoLnBsdWdpbnMucmVnaXN0ZXJQbHVnaW4oYSxiLGMsZCl9O3Euc2V0UGxheWVyPWZ1bmN0aW9uKGEsYil7dj1hO3EucmVuZGVyaW5nTW9kZT1ifTtxLmRldGFjaE1lZGlhPWZ1bmN0aW9uKCl7aWYoImh0bWw1Ij09cS5yZW5kZXJpbmdNb2RlKXJldHVybiB0KCJqd0RldGFjaE1lZGlhIil9O3EuYXR0YWNoTWVkaWE9ZnVuY3Rpb24oYSl7aWYoImh0bWw1Ij09cS5yZW5kZXJpbmdNb2RlKXJldHVybiB0KCJqd0F0dGFjaE1lZGlhIixhKX07cS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGEsYil7dmFyIGM9RVthXTtpZihjKWZvcih2YXIgZD1jLmxlbmd0aDtkLS07KWNbZF09PT1iJiZjLnNwbGljZShkLDEpfTtxLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1FW2FdO2lmKGMpZm9yKHZhciBjPWMuc2xpY2UoMCksZD1qLnRyYW5zbGF0ZUV2ZW50UmVzcG9uc2UoYSxiKSxlPTA7ZTxjLmxlbmd0aDtlKyspe3ZhciBmPQpjW2VdO2lmKCJmdW5jdGlvbiI9PT10eXBlb2YgZil0cnl7YT09PWcuSldQTEFZRVJfUExBWUxJU1RfTE9BREVEJiZqLmRlZXBSZXBsYWNlS2V5TmFtZShkLnBsYXlsaXN0LFsiX19kb3RfXyIsIl9fc3BjX18iLCJfX2RzaF9fIiwiX19kZWZhdWx0X18iXSxbIi4iLCIgIiwiLSIsImRlZmF1bHQiXSksZi5jYWxsKHRoaXMsZCl9Y2F0Y2goaCl7ai5sb2coIlRoZXJlIHdhcyBhbiBlcnJvciBjYWxsaW5nIGJhY2sgYW4gZXZlbnQgaGFuZGxlciIpfX19O3EuZGlzcGF0Y2hJbnN0cmVhbUV2ZW50PWZ1bmN0aW9uKGEpe0ImJkIuZGlzcGF0Y2hFdmVudChhLGFyZ3VtZW50cyl9O3EuY2FsbEludGVybmFsPXQ7cS5wbGF5ZXJSZWFkeT1mdW5jdGlvbihhKXtBPSEwO3Z8fHEuc2V0UGxheWVyKGUuZ2V0RWxlbWVudEJ5SWQoYS5pZCkpO3EuY29udGFpbmVyPWUuZ2V0RWxlbWVudEJ5SWQocS5pZCk7ai5mb3JlYWNoKEUsZnVuY3Rpb24oYSl7eCh2LGEpfSk7dShnLkpXUExBWUVSX1BMQVlMSVNUX0lURU0sCmZ1bmN0aW9uKCl7SD17fX0pO3UoZy5KV1BMQVlFUl9NRURJQV9NRVRBLGZ1bmN0aW9uKGEpe2ouZXh0ZW5kKEgsYS5tZXRhZGF0YSl9KTt1KGcuSldQTEFZRVJfVklFV19UQUJfRk9DVVMsZnVuY3Rpb24oYSl7dmFyIGI9cS5nZXRDb250YWluZXIoKTshMD09PWEuaGFzRm9jdXM/ai5hZGRDbGFzcyhiLCJqdy10YWItZm9jdXMiKTpqLnJlbW92ZUNsYXNzKGIsImp3LXRhYi1mb2N1cyIpfSk7Zm9yKHEuZGlzcGF0Y2hFdmVudChnLkFQSV9SRUFEWSk7MDxHLmxlbmd0aDspdC5hcHBseSh0aGlzLEcuc2hpZnQoKSl9O3EuZ2V0SXRlbU1ldGE9ZnVuY3Rpb24oKXtyZXR1cm4gSH07cmV0dXJuIHF9O2gucGxheWVyUmVhZHk9ZnVuY3Rpb24oYSl7dmFyIGI9aC5hcGkucGxheWVyQnlJZChhLmlkKTtiP2IucGxheWVyUmVhZHkoYSk6aC5hcGkuc2VsZWN0UGxheWVyKGEuaWQpLnBsYXllclJlYWR5KGEpfTtoLmFwaS5zZWxlY3RQbGF5ZXI9ZnVuY3Rpb24oYSl7dmFyIGI7ai5leGlzdHMoYSl8fAooYT0wKTthLm5vZGVUeXBlP2I9YToic3RyaW5nIj09dHlwZW9mIGEmJihiPWUuZ2V0RWxlbWVudEJ5SWQoYSkpO3JldHVybiBiPyhhPWguYXBpLnBsYXllckJ5SWQoYi5pZCkpP2E6aC5hcGkuYWRkUGxheWVyKG5ldyBoLmFwaShiKSk6Im51bWJlciI9PXR5cGVvZiBhP21bYV06bnVsbH07aC5hcGkucGxheWVyQnlJZD1mdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPG0ubGVuZ3RoO2IrKylpZihtW2JdLmlkPT1hKXJldHVybiBtW2JdO3JldHVybiBudWxsfTtoLmFwaS5hZGRQbGF5ZXI9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxtLmxlbmd0aDtiKyspaWYobVtiXT09YSlyZXR1cm4gYTttLnB1c2goYSk7cmV0dXJuIGF9O2guYXBpLmRlc3Ryb3lQbGF5ZXI9ZnVuY3Rpb24oYSl7dmFyIGIsYyxmO2ouZm9yZWFjaChtLGZ1bmN0aW9uKGQsZSl7ZS5pZD09PWEmJihiPWQsYz1lKX0pO2lmKGI9PT1kfHxjPT09ZClyZXR1cm4gbnVsbDtqLmNsZWFyQ3NzKCIjIitjLmlkKTtpZihmPWUuZ2V0RWxlbWVudEJ5SWQoYy5pZCsKKCJmbGFzaCI9PWMucmVuZGVyaW5nTW9kZT8iX3dyYXBwZXIiOiIiKSkpeyJodG1sNSI9PT1jLnJlbmRlcmluZ01vZGUmJmMuZGVzdHJveVBsYXllcigpO3ZhciBnPWUuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zy5pZD1jLmlkO2YucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZyxmKX1tLnNwbGljZShiLDEpO3JldHVybiBudWxsfX0od2luZG93Lmp3cGxheWVyKSxmdW5jdGlvbihoKXt2YXIgZD1oLmV2ZW50cyxtPWgudXRpbHMsaj1kLnN0YXRlO2guYXBpLmluc3RyZWFtPWZ1bmN0aW9uKGcsYil7ZnVuY3Rpb24gZShhLGQpe2NbYV18fChjW2FdPVtdLGIuandJbnN0cmVhbUFkZEV2ZW50TGlzdGVuZXIoYSwnZnVuY3Rpb24oZGF0KSB7IGp3cGxheWVyKCInK2cuaWQrJyIpLmRpc3BhdGNoSW5zdHJlYW1FdmVudCgiJythKyciLCBkYXQpOyB9JykpO2NbYV0ucHVzaChkKTtyZXR1cm4gdGhpc31mdW5jdGlvbiBoKGEsYil7blthXXx8KG5bYV09W10sZShkLkpXUExBWUVSX1BMQVlFUl9TVEFURSwKZnVuY3Rpb24oYil7dmFyIGM9Yi5uZXdzdGF0ZSxkPWIub2xkc3RhdGU7aWYoYz09YSl7dmFyIGU9bltjXTtpZihlKWZvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgZz1lW2ZdOyJmdW5jdGlvbiI9PXR5cGVvZiBnJiZnLmNhbGwodGhpcyx7b2xkc3RhdGU6ZCxuZXdzdGF0ZTpjLHR5cGU6Yi50eXBlfSl9fX0pKTtuW2FdLnB1c2goYik7cmV0dXJuIHRoaXN9dmFyIGEsZixjPXt9LG49e30saz10aGlzO2sudHlwZT0iaW5zdHJlYW0iO2suaW5pdD1mdW5jdGlvbigpe2cuY2FsbEludGVybmFsKCJqd0luaXRJbnN0cmVhbSIpO3JldHVybiBrfTtrLmxvYWRJdGVtPWZ1bmN0aW9uKGIsYyl7YT1iO2Y9Y3x8e307ImFycmF5Ij09bS50eXBlT2YoYik/Zy5jYWxsSW50ZXJuYWwoImp3TG9hZEFycmF5SW5zdHJlYW0iLGEsZik6Zy5jYWxsSW50ZXJuYWwoImp3TG9hZEl0ZW1JbnN0cmVhbSIsYSxmKX07ay5yZW1vdmVFdmVudHM9ZnVuY3Rpb24oKXtjPW49e319O2sucmVtb3ZlRXZlbnRMaXN0ZW5lcj0KZnVuY3Rpb24oYSxiKXt2YXIgZD1jW2FdO2lmKGQpZm9yKHZhciBlPWQubGVuZ3RoO2UtLTspZFtlXT09PWImJmQuc3BsaWNlKGUsMSl9O2suZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihhLGIpe3ZhciBkPWNbYV07aWYoZClmb3IodmFyIGQ9ZC5zbGljZSgwKSxlPW0udHJhbnNsYXRlRXZlbnRSZXNwb25zZShhLGJbMV0pLGY9MDtmPGQubGVuZ3RoO2YrKyl7dmFyIGc9ZFtmXTsiZnVuY3Rpb24iPT10eXBlb2YgZyYmZy5jYWxsKHRoaXMsZSl9fTtrLm9uRXJyb3I9ZnVuY3Rpb24oYSl7cmV0dXJuIGUoZC5KV1BMQVlFUl9FUlJPUixhKX07ay5vbk1lZGlhRXJyb3I9ZnVuY3Rpb24oYSl7cmV0dXJuIGUoZC5KV1BMQVlFUl9NRURJQV9FUlJPUixhKX07ay5vbkZ1bGxzY3JlZW49ZnVuY3Rpb24oYSl7cmV0dXJuIGUoZC5KV1BMQVlFUl9GVUxMU0NSRUVOLGEpfTtrLm9uTWV0YT1mdW5jdGlvbihhKXtyZXR1cm4gZShkLkpXUExBWUVSX01FRElBX01FVEEsYSl9O2sub25NdXRlPWZ1bmN0aW9uKGEpe3JldHVybiBlKGQuSldQTEFZRVJfTUVESUFfTVVURSwKYSl9O2sub25Db21wbGV0ZT1mdW5jdGlvbihhKXtyZXR1cm4gZShkLkpXUExBWUVSX01FRElBX0NPTVBMRVRFLGEpfTtrLm9uUGxheWxpc3RDb21wbGV0ZT1mdW5jdGlvbihhKXtyZXR1cm4gZShkLkpXUExBWUVSX1BMQVlMSVNUX0NPTVBMRVRFLGEpfTtrLm9uUGxheWxpc3RJdGVtPWZ1bmN0aW9uKGEpe3JldHVybiBlKGQuSldQTEFZRVJfUExBWUxJU1RfSVRFTSxhKX07ay5vblRpbWU9ZnVuY3Rpb24oYSl7cmV0dXJuIGUoZC5KV1BMQVlFUl9NRURJQV9USU1FLGEpfTtrLm9uQnVmZmVyPWZ1bmN0aW9uKGEpe3JldHVybiBoKGouQlVGRkVSSU5HLGEpfTtrLm9uUGF1c2U9ZnVuY3Rpb24oYSl7cmV0dXJuIGgoai5QQVVTRUQsYSl9O2sub25QbGF5PWZ1bmN0aW9uKGEpe3JldHVybiBoKGouUExBWUlORyxhKX07ay5vbklkbGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGgoai5JRExFLGEpfTtrLm9uQ2xpY2s9ZnVuY3Rpb24oYSl7cmV0dXJuIGUoZC5KV1BMQVlFUl9JTlNUUkVBTV9DTElDSyxhKX07Cmsub25JbnN0cmVhbURlc3Ryb3llZD1mdW5jdGlvbihhKXtyZXR1cm4gZShkLkpXUExBWUVSX0lOU1RSRUFNX0RFU1RST1lFRCxhKX07ay5vbkFkU2tpcHBlZD1mdW5jdGlvbihhKXtyZXR1cm4gZShkLkpXUExBWUVSX0FEX1NLSVBQRUQsYSl9O2sucGxheT1mdW5jdGlvbihhKXtiLmp3SW5zdHJlYW1QbGF5KGEpfTtrLnBhdXNlPWZ1bmN0aW9uKGEpe2IuandJbnN0cmVhbVBhdXNlKGEpfTtrLmhpZGU9ZnVuY3Rpb24oKXtnLmNhbGxJbnRlcm5hbCgiandJbnN0cmVhbUhpZGUiKX07ay5kZXN0cm95PWZ1bmN0aW9uKCl7ay5yZW1vdmVFdmVudHMoKTtnLmNhbGxJbnRlcm5hbCgiandJbnN0cmVhbURlc3Ryb3kiKX07ay5zZXRUZXh0PWZ1bmN0aW9uKGEpe2IuandJbnN0cmVhbVNldFRleHQoYT9hOiIiKX07ay5nZXRTdGF0ZT1mdW5jdGlvbigpe3JldHVybiBiLmp3SW5zdHJlYW1TdGF0ZSgpfTtrLnNldENsaWNrPWZ1bmN0aW9uKGEpe2IuandJbnN0cmVhbUNsaWNrJiZiLmp3SW5zdHJlYW1DbGljayhhKX19fSh3aW5kb3cuandwbGF5ZXIpLApmdW5jdGlvbihoKXt2YXIgZD1oLmFwaSxtPWQuc2VsZWN0UGxheWVyO2Quc2VsZWN0UGxheWVyPWZ1bmN0aW9uKGQpe3JldHVybihkPW0oZCkpP2Q6e3JlZ2lzdGVyUGx1Z2luOmZ1bmN0aW9uKGQsYixlKXtoLnBsdWdpbnMucmVnaXN0ZXJQbHVnaW4oZCxiLGUpfX19fShqd3BsYXllcikpOw==",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 07:55:59 GMT",
                    "Content-Length": "66229",
                    "Date": "Fri, 07 Nov 2014 07:55:59 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
{
    "url": "http://localhost:9999/CartoDB/cartodb.js/examples/vendor/OpenLayers.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Link manipulation (DOM-based)",
    "issueType": 5246976,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based link manipulation vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this to a navigation target within the current page, such as a clickable link or the submission URL of a form. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will modify the target of links within the response. An attacker may be able to leverage this to perform various attacks, including:<ul><li>Causing the user to redirect to an arbitrary external URL, to facilitate a phishing attack.</li><li>Causing the user to submit sensitive form data to a server controlled by the attacker.</li><li>Causing the user to perform an unintended action within the application, by changing the file or query string associated with a link.</li><li>Bypassing browser anti-XSS defenses by injecting on-site links containing XSS exploits, since browser anti-XSS defenses typically do not operate on on-site links.</li></ul>",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based link manipulation vulnerabilities is not to dynamically set the target URLs of links or forms using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a link target. In general, this is best achieved by using a whitelist of URLs that are permitted link targets, and strictly validating the target against this list before setting the link target.",
    "issueDetail": "The application may be vulnerable to DOM-based link manipulation. Data is read from <b>window.location</b> and written to <b>the 'href' property of a DOM element</b> via the following statements:<ul><li>var c=window.location,d=c.port?\":\"+c.port:\"\",d=c.protocol+\"//\"+c.host.split(\":\").shift()+d;</li><li>0===a.indexOf(\"/\")?a=d+a:(c=c.pathname.split(\"/\"),c.pop(),a=d+c.join(\"/\")+\"/\"+a)</li><li>b.ignoreCase&amp;&amp;(a=a.toLowerCase());</li><li>c.href=a;</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/CartoDB/cartodb.js/examples/vendor/OpenLayers.js",
                "path": "/CartoDB/cartodb.js/examples/vendor/OpenLayers.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9DYXJ0b0RCL2NhcnRvZGIuanMvZXhhbXBsZXMvdmVuZG9yL09wZW5MYXllcnMuanMgSFRUUC8xLjENCkhvc3Q6IGxvY2FsaG9zdDo5OTk5DQoNCg==",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogOTQ0MjQ2DQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBUaHUsIDA2IE5vdiAyMDE0IDE0OjQ1OjQxIEdNVA0KTGFzdC1Nb2RpZmllZDogVGh1LCAwNiBOb3YgMjAxNCAxNDo0NTozOCBHTVQNCg0KLyoKCiAgT3BlbkxheWVycy5qcyAtLSBPcGVuTGF5ZXJzIE1hcCBWaWV3ZXIgTGlicmFyeQoKICBDb3B5cmlnaHQgKGMpIDIwMDYtMjAxMyBieSBPcGVuTGF5ZXJzIENvbnRyaWJ1dG9ycwogIFB1Ymxpc2hlZCB1bmRlciB0aGUgMi1jbGF1c2UgQlNEIGxpY2Vuc2UuCiAgU2VlIGh0dHA6Ly9vcGVubGF5ZXJzLm9yZy9kZXYvbGljZW5zZS50eHQgZm9yIHRoZSBmdWxsIHRleHQgb2YgdGhlIGxpY2Vuc2UsIGFuZCBodHRwOi8vb3BlbmxheWVycy5vcmcvZGV2L2F1dGhvcnMudHh0IGZvciBmdWxsIGxpc3Qgb2YgY29udHJpYnV0b3JzLgoKICBJbmNsdWRlcyBjb21wcmVzc2VkIGNvZGUgdW5kZXIgdGhlIGZvbGxvd2luZyBsaWNlbnNlczoKCiAgKEZvciB1bmNvbXByZXNzZWQgdmVyc2lvbnMgb2YgdGhlIGNvZGUgdXNlZCwgcGxlYXNlIHNlZSB0aGUKICBPcGVuTGF5ZXJzIEdpdGh1YiByZXBvc2l0b3J5OiA8aHR0cHM6Ly9naXRodWIuY29tL29wZW5sYXllcnMvb3BlbmxheWVycz4pCgoqLwoKLyoqCiAqIENvbnRhaW5zIFhNTEh0dHBSZXF1ZXN0LmpzIDxodHRwOi8vY29kZS5nb29nbGUuY29tL3AveG1saHR0cHJlcXVlc3QvPgogKiBDb3B5cmlnaHQgMjAwNyBTZXJnZXkgSWxpbnNreSAoaHR0cDovL3d3dy5pbGluc2t5LmNvbSkKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKi8KCi8qKgogKiBPcGVuTGF5ZXJzLlV0aWwucGFnZVBvc2l0aW9uIGlzIGJhc2VkIG9uIFlhaG9vJ3MgZ2V0WFkgbWV0aG9kLCB3aGljaCBpcwogKiBDb3B5cmlnaHQgKGMpIDIwMDYsIFlhaG9vISBJbmMuCiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIAogKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIG9mIHRoaXMgc29mdHdhcmUgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3IKICogd2l0aG91dCBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMKICogYXJlIG1ldDoKICogCiAqICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLAogKiAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuCiAqIAogKiAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwKICogICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uCiAqICAgYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uCiAqIAogKiAqIE5laXRoZXIgdGhlIG5hbWUgb2YgWWFob28hIEluYy4gbm9yIHRoZSBuYW1lcyBvZiBpdHMgY29udHJpYnV0b3JzIG1heSBiZQogKiAgIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQKICogICBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24gb2YgWWFob28hIEluYy4KICogCiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgIkFTIElTIgogKiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFCiAqIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFCiAqIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRQogKiBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SCiAqIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GCiAqIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUwogKiBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTgogKiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKQogKiBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSAKICogUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuCiAqLwp2YXIgT3BlbkxheWVycz17VkVSU0lPTl9OVU1CRVI6IlJlbGVhc2UgMi4xNCBkZXYiLHNpbmdsZUZpbGU6ITAsX2dldFNjcmlwdExvY2F0aW9uOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPS8oXnwoLio/XC8pKShPcGVuTGF5ZXJzW15cL10qP1wuanMpKFw/fCQpLyxiPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKSxjLGQ9IiIsZT0wLGY9Yi5sZW5ndGg7ZTxmO2UrKylpZihjPWJbZV0uZ2V0QXR0cmlidXRlKCJzcmMiKSlpZihjPWMubWF0Y2goYSkpe2Q9Y1sxXTticmVha31yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZH19KCksSW1nUGF0aDoiIn07T3BlbkxheWVycy5DbGFzcz1mdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50cy5sZW5ndGgsYj1hcmd1bWVudHNbMF0sYz1hcmd1bWVudHNbYS0xXSxkPSJmdW5jdGlvbiI9PXR5cGVvZiBjLmluaXRpYWxpemU/Yy5pbml0aWFsaXplOmZ1bmN0aW9uKCl7Yi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9OzE8YT8oYT1bZCxiXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKS5zbGljZSgxLGEtMSksYyksT3BlbkxheWVycy5pbmhlcml0LmFwcGx5KG51bGwsYSkpOmQucHJvdG90eXBlPWM7cmV0dXJuIGR9OwpPcGVuTGF5ZXJzLmluaGVyaXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbigpe307Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7dmFyIGQsZSxjPTI7Zm9yKGQ9YXJndW1lbnRzLmxlbmd0aDtjPGQ7YysrKWU9YXJndW1lbnRzW2NdLCJmdW5jdGlvbiI9PT10eXBlb2YgZSYmKGU9ZS5wcm90b3R5cGUpLE9wZW5MYXllcnMuVXRpbC5leHRlbmQoYS5wcm90b3R5cGUsZSl9O09wZW5MYXllcnMuVXRpbD1PcGVuTGF5ZXJzLlV0aWx8fHt9O09wZW5MYXllcnMuVXRpbC5leHRlbmQ9ZnVuY3Rpb24oYSxiKXthPWF8fHt9O2lmKGIpe2Zvcih2YXIgYyBpbiBiKXt2YXIgZD1iW2NdO3ZvaWQgMCE9PWQmJihhW2NdPWQpfSEoImZ1bmN0aW9uIj09dHlwZW9mIHdpbmRvdy5FdmVudCYmYiBpbnN0YW5jZW9mIHdpbmRvdy5FdmVudCkmJihiLmhhc093blByb3BlcnR5JiZiLmhhc093blByb3BlcnR5KCJ0b1N0cmluZyIpKSYmKGEudG9TdHJpbmc9Yi50b1N0cmluZyl9cmV0dXJuIGF9O09wZW5MYXllcnMuU3RyaW5nPXtzdGFydHNXaXRoOmZ1bmN0aW9uKGEsYil7cmV0dXJuIDA9PWEuaW5kZXhPZihiKX0sY29udGFpbnM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4tMSE9YS5pbmRleE9mKGIpfSx0cmltOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL15cc1xzKi8sIiIpLnJlcGxhY2UoL1xzXHMqJC8sIiIpfSxjYW1lbGl6ZTpmdW5jdGlvbihhKXtmb3IodmFyIGE9YS5zcGxpdCgiLSIpLGI9YVswXSxjPTEsZD1hLmxlbmd0aDtjPGQ7YysrKXZhciBlPWFbY10sYj1iKyhlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Uuc3Vic3RyaW5nKDEpKTtyZXR1cm4gYn0sZm9ybWF0OmZ1bmN0aW9uKGEsYixjKXtifHwoYj13aW5kb3cpO3JldHVybiBhLnJlcGxhY2UoT3BlbkxheWVycy5TdHJpbmcudG9rZW5SZWdFeCxmdW5jdGlvbihhLGUpe2Zvcih2YXIgZixnPWUuc3BsaXQoL1wuKy8pLGg9MDtoPGcubGVuZ3RoO2grKyl7MD09aCYmKGY9Yik7aWYodm9pZCAwPT09ZilicmVhazsKZj1mW2dbaF1dfSJmdW5jdGlvbiI9PXR5cGVvZiBmJiYoZj1jP2YuYXBwbHkobnVsbCxjKTpmKCkpO3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZj8idW5kZWZpbmVkIjpmfSl9LHRva2VuUmVnRXg6L1wkXHsoW1x3Ll0rPylcfS9nLG51bWJlclJlZ0V4Oi9eKFsrLV0/KSg/PVxkfFwuXGQpXGQqKFwuXGQqKT8oW0VlXShbKy1dP1xkKykpPyQvLGlzTnVtZXJpYzpmdW5jdGlvbihhKXtyZXR1cm4gT3BlbkxheWVycy5TdHJpbmcubnVtYmVyUmVnRXgudGVzdChhKX0sbnVtZXJpY0lmOmZ1bmN0aW9uKGEsYil7dmFyIGM9YTshMD09PWImJihudWxsIT1hJiZhLnJlcGxhY2UpJiYoYT1hLnJlcGxhY2UoL15ccyp8XHMqJC9nLCIiKSk7cmV0dXJuIE9wZW5MYXllcnMuU3RyaW5nLmlzTnVtZXJpYyhhKT9wYXJzZUZsb2F0KGEpOmN9fTsKT3BlbkxheWVycy5OdW1iZXI9e2RlY2ltYWxTZXBhcmF0b3I6Ii4iLHRob3VzYW5kc1NlcGFyYXRvcjoiLCIsbGltaXRTaWdEaWdzOmZ1bmN0aW9uKGEsYil7dmFyIGM9MDswPGImJihjPXBhcnNlRmxvYXQoYS50b1ByZWNpc2lvbihiKSkpO3JldHVybiBjfSxmb3JtYXQ6ZnVuY3Rpb24oYSxiLGMsZCl7Yj0idW5kZWZpbmVkIiE9dHlwZW9mIGI/YjowO2M9InVuZGVmaW5lZCIhPXR5cGVvZiBjP2M6T3BlbkxheWVycy5OdW1iZXIudGhvdXNhbmRzU2VwYXJhdG9yO2Q9InVuZGVmaW5lZCIhPXR5cGVvZiBkP2Q6T3BlbkxheWVycy5OdW1iZXIuZGVjaW1hbFNlcGFyYXRvcjtudWxsIT1iJiYoYT1wYXJzZUZsb2F0KGEudG9GaXhlZChiKSkpO3ZhciBlPWEudG9TdHJpbmcoKS5zcGxpdCgiLiIpOzE9PWUubGVuZ3RoJiZudWxsPT1iJiYoYj0wKTthPWVbMF07aWYoYylmb3IodmFyIGY9LygtP1swLTldKykoWzAtOV17M30pLztmLnRlc3QoYSk7KWE9YS5yZXBsYWNlKGYsIiQxIitjKyIkMiIpOwowPT1iP2I9YTooYz0xPGUubGVuZ3RoP2VbMV06IjAiLG51bGwhPWImJihjKz1BcnJheShiLWMubGVuZ3RoKzEpLmpvaW4oIjAiKSksYj1hK2QrYyk7cmV0dXJuIGJ9LHplcm9QYWQ6ZnVuY3Rpb24oYSxiLGMpe2ZvcihhPWEudG9TdHJpbmcoY3x8MTApO2EubGVuZ3RoPGI7KWE9IjAiK2E7cmV0dXJuIGF9fTsKT3BlbkxheWVycy5GdW5jdGlvbj17YmluZDpmdW5jdGlvbihhLGIpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShhcmd1bWVudHMsWzJdKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZD1jLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuYXBwbHkoYXJndW1lbnRzLFswXSkpO3JldHVybiBhLmFwcGx5KGIsZCl9fSxiaW5kQXNFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVybiBhLmNhbGwoYixjfHx3aW5kb3cuZXZlbnQpfX0sRmFsc2U6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sVHJ1ZTpmdW5jdGlvbigpe3JldHVybiEwfSxWb2lkOmZ1bmN0aW9uKCl7fX07Ck9wZW5MYXllcnMuQXJyYXk9e2ZpbHRlcjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9W107aWYoQXJyYXkucHJvdG90eXBlLmZpbHRlcilkPWEuZmlsdGVyKGIsYyk7ZWxzZXt2YXIgZT1hLmxlbmd0aDtpZigiZnVuY3Rpb24iIT10eXBlb2YgYil0aHJvdyBuZXcgVHlwZUVycm9yO2Zvcih2YXIgZj0wO2Y8ZTtmKyspaWYoZiBpbiBhKXt2YXIgZz1hW2ZdO2IuY2FsbChjLGcsZixhKSYmZC5wdXNoKGcpfX1yZXR1cm4gZH19O09wZW5MYXllcnMuQm91bmRzPU9wZW5MYXllcnMuQ2xhc3Moe2xlZnQ6bnVsbCxib3R0b206bnVsbCxyaWdodDpudWxsLHRvcDpudWxsLGNlbnRlckxvbkxhdDpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCl7T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSkmJihkPWFbM10sYz1hWzJdLGI9YVsxXSxhPWFbMF0pO251bGwhPWEmJih0aGlzLmxlZnQ9T3BlbkxheWVycy5VdGlsLnRvRmxvYXQoYSkpO251bGwhPWImJih0aGlzLmJvdHRvbT1PcGVuTGF5ZXJzLlV0aWwudG9GbG9hdChiKSk7bnVsbCE9YyYmKHRoaXMucmlnaHQ9T3BlbkxheWVycy5VdGlsLnRvRmxvYXQoYykpO251bGwhPWQmJih0aGlzLnRvcD1PcGVuTGF5ZXJzLlV0aWwudG9GbG9hdChkKSl9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkJvdW5kcyh0aGlzLmxlZnQsdGhpcy5ib3R0b20sdGhpcy5yaWdodCx0aGlzLnRvcCl9LGVxdWFsczpmdW5jdGlvbihhKXt2YXIgYj0hMTtudWxsIT0KYSYmKGI9dGhpcy5sZWZ0PT1hLmxlZnQmJnRoaXMucmlnaHQ9PWEucmlnaHQmJnRoaXMudG9wPT1hLnRvcCYmdGhpcy5ib3R0b209PWEuYm90dG9tKTtyZXR1cm4gYn0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5sZWZ0LHRoaXMuYm90dG9tLHRoaXMucmlnaHQsdGhpcy50b3BdLmpvaW4oKX0sdG9BcnJheTpmdW5jdGlvbihhKXtyZXR1cm4hMD09PWE/W3RoaXMuYm90dG9tLHRoaXMubGVmdCx0aGlzLnRvcCx0aGlzLnJpZ2h0XTpbdGhpcy5sZWZ0LHRoaXMuYm90dG9tLHRoaXMucmlnaHQsdGhpcy50b3BdfSx0b0JCT1g6ZnVuY3Rpb24oYSxiKXtudWxsPT1hJiYoYT02KTt2YXIgYz1NYXRoLnBvdygxMCxhKSxkPU1hdGgucm91bmQodGhpcy5sZWZ0KmMpL2MsZT1NYXRoLnJvdW5kKHRoaXMuYm90dG9tKmMpL2MsZj1NYXRoLnJvdW5kKHRoaXMucmlnaHQqYykvYyxjPU1hdGgucm91bmQodGhpcy50b3AqYykvYztyZXR1cm4hMD09PWI/ZSsiLCIrZCsiLCIrYysiLCIrZjpkKwoiLCIrZSsiLCIrZisiLCIrY30sdG9HZW9tZXRyeTpmdW5jdGlvbigpe3JldHVybiBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uKFtuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lYXJSaW5nKFtuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCh0aGlzLmxlZnQsdGhpcy5ib3R0b20pLG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHRoaXMucmlnaHQsdGhpcy5ib3R0b20pLG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHRoaXMucmlnaHQsdGhpcy50b3ApLG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHRoaXMubGVmdCx0aGlzLnRvcCldKV0pfSxnZXRXaWR0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJpZ2h0LXRoaXMubGVmdH0sZ2V0SGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9wLXRoaXMuYm90dG9tfSxnZXRTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLlNpemUodGhpcy5nZXRXaWR0aCgpLHRoaXMuZ2V0SGVpZ2h0KCkpfSwKZ2V0Q2VudGVyUGl4ZWw6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE9wZW5MYXllcnMuUGl4ZWwoKHRoaXMubGVmdCt0aGlzLnJpZ2h0KS8yLCh0aGlzLmJvdHRvbSt0aGlzLnRvcCkvMil9LGdldENlbnRlckxvbkxhdDpmdW5jdGlvbigpe3RoaXMuY2VudGVyTG9uTGF0fHwodGhpcy5jZW50ZXJMb25MYXQ9bmV3IE9wZW5MYXllcnMuTG9uTGF0KCh0aGlzLmxlZnQrdGhpcy5yaWdodCkvMiwodGhpcy5ib3R0b20rdGhpcy50b3ApLzIpKTtyZXR1cm4gdGhpcy5jZW50ZXJMb25MYXR9LHNjYWxlOmZ1bmN0aW9uKGEsYil7bnVsbD09YiYmKGI9dGhpcy5nZXRDZW50ZXJMb25MYXQoKSk7dmFyIGMsZDsiT3BlbkxheWVycy5Mb25MYXQiPT1iLkNMQVNTX05BTUU/KGM9Yi5sb24sZD1iLmxhdCk6KGM9Yi54LGQ9Yi55KTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuQm91bmRzKCh0aGlzLmxlZnQtYykqYStjLCh0aGlzLmJvdHRvbS1kKSphK2QsKHRoaXMucmlnaHQtYykqYStjLCh0aGlzLnRvcC1kKSphKwpkKX0sYWRkOmZ1bmN0aW9uKGEsYil7aWYobnVsbD09YXx8bnVsbD09Yil0aHJvdyBuZXcgVHlwZUVycm9yKCJCb3VuZHMuYWRkIGNhbm5vdCByZWNlaXZlIG51bGwgdmFsdWVzIik7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkJvdW5kcyh0aGlzLmxlZnQrYSx0aGlzLmJvdHRvbStiLHRoaXMucmlnaHQrYSx0aGlzLnRvcCtiKX0sZXh0ZW5kOmZ1bmN0aW9uKGEpe2lmKGEpc3dpdGNoKGEuQ0xBU1NfTkFNRSl7Y2FzZSAiT3BlbkxheWVycy5Mb25MYXQiOnRoaXMuZXh0ZW5kWFkoYS5sb24sYS5sYXQpO2JyZWFrO2Nhc2UgIk9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQiOnRoaXMuZXh0ZW5kWFkoYS54LGEueSk7YnJlYWs7Y2FzZSAiT3BlbkxheWVycy5Cb3VuZHMiOnRoaXMuY2VudGVyTG9uTGF0PW51bGw7aWYobnVsbD09dGhpcy5sZWZ0fHxhLmxlZnQ8dGhpcy5sZWZ0KXRoaXMubGVmdD1hLmxlZnQ7aWYobnVsbD09dGhpcy5ib3R0b218fGEuYm90dG9tPHRoaXMuYm90dG9tKXRoaXMuYm90dG9tPQphLmJvdHRvbTtpZihudWxsPT10aGlzLnJpZ2h0fHxhLnJpZ2h0PnRoaXMucmlnaHQpdGhpcy5yaWdodD1hLnJpZ2h0O2lmKG51bGw9PXRoaXMudG9wfHxhLnRvcD50aGlzLnRvcCl0aGlzLnRvcD1hLnRvcH19LGV4dGVuZFhZOmZ1bmN0aW9uKGEsYil7dGhpcy5jZW50ZXJMb25MYXQ9bnVsbDtpZihudWxsPT10aGlzLmxlZnR8fGE8dGhpcy5sZWZ0KXRoaXMubGVmdD1hO2lmKG51bGw9PXRoaXMuYm90dG9tfHxiPHRoaXMuYm90dG9tKXRoaXMuYm90dG9tPWI7aWYobnVsbD09dGhpcy5yaWdodHx8YT50aGlzLnJpZ2h0KXRoaXMucmlnaHQ9YTtpZihudWxsPT10aGlzLnRvcHx8Yj50aGlzLnRvcCl0aGlzLnRvcD1ifSxjb250YWluc0xvbkxhdDpmdW5jdGlvbihhLGIpeyJib29sZWFuIj09PXR5cGVvZiBiJiYoYj17aW5jbHVzaXZlOmJ9KTt2YXIgYj1ifHx7fSxjPXRoaXMuY29udGFpbnMoYS5sb24sYS5sYXQsYi5pbmNsdXNpdmUpLGQ9Yi53b3JsZEJvdW5kcztkJiYhYyYmKGM9ZC5nZXRXaWR0aCgpLApkPU1hdGgucm91bmQoKGEubG9uLShkLmxlZnQrZC5yaWdodCkvMikvYyksYz10aGlzLmNvbnRhaW5zTG9uTGF0KHtsb246YS5sb24tZCpjLGxhdDphLmxhdH0se2luY2x1c2l2ZTpiLmluY2x1c2l2ZX0pKTtyZXR1cm4gY30sY29udGFpbnNQaXhlbDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmNvbnRhaW5zKGEueCxhLnksYil9LGNvbnRhaW5zOmZ1bmN0aW9uKGEsYixjKXtudWxsPT1jJiYoYz0hMCk7aWYobnVsbD09YXx8bnVsbD09YilyZXR1cm4hMTt2YXIgYT1PcGVuTGF5ZXJzLlV0aWwudG9GbG9hdChhKSxiPU9wZW5MYXllcnMuVXRpbC50b0Zsb2F0KGIpLGQ9ITE7cmV0dXJuIGQ9Yz9hPj10aGlzLmxlZnQmJmE8PXRoaXMucmlnaHQmJmI+PXRoaXMuYm90dG9tJiZiPD10aGlzLnRvcDphPnRoaXMubGVmdCYmYTx0aGlzLnJpZ2h0JiZiPnRoaXMuYm90dG9tJiZiPHRoaXMudG9wfSxpbnRlcnNlY3RzQm91bmRzOmZ1bmN0aW9uKGEsYil7ImJvb2xlYW4iPT09dHlwZW9mIGImJihiPQp7aW5jbHVzaXZlOmJ9KTtiPWJ8fHt9O2lmKGIud29ybGRCb3VuZHMpdmFyIGM9dGhpcy53cmFwRGF0ZUxpbmUoYi53b3JsZEJvdW5kcyksYT1hLndyYXBEYXRlTGluZShiLndvcmxkQm91bmRzKTtlbHNlIGM9dGhpcztudWxsPT1iLmluY2x1c2l2ZSYmKGIuaW5jbHVzaXZlPSEwKTt2YXIgZD0hMSxlPWMubGVmdD09YS5yaWdodHx8Yy5yaWdodD09YS5sZWZ0fHxjLnRvcD09YS5ib3R0b218fGMuYm90dG9tPT1hLnRvcDtpZihiLmluY2x1c2l2ZXx8IWUpdmFyIGQ9YS50b3A+PWMuYm90dG9tJiZhLnRvcDw9Yy50b3B8fGMudG9wPmEuYm90dG9tJiZjLnRvcDxhLnRvcCxlPWEubGVmdD49Yy5sZWZ0JiZhLmxlZnQ8PWMucmlnaHR8fGMubGVmdD49YS5sZWZ0JiZjLmxlZnQ8PWEucmlnaHQsZj1hLnJpZ2h0Pj1jLmxlZnQmJmEucmlnaHQ8PWMucmlnaHR8fGMucmlnaHQ+PWEubGVmdCYmYy5yaWdodDw9YS5yaWdodCxkPShhLmJvdHRvbT49Yy5ib3R0b20mJmEuYm90dG9tPD1jLnRvcHx8Yy5ib3R0b20+PQphLmJvdHRvbSYmYy5ib3R0b208PWEudG9wfHxkKSYmKGV8fGYpO2lmKGIud29ybGRCb3VuZHMmJiFkKXt2YXIgZz1iLndvcmxkQm91bmRzLGU9Zy5nZXRXaWR0aCgpLGY9IWcuY29udGFpbnNCb3VuZHMoYyksZz0hZy5jb250YWluc0JvdW5kcyhhKTtmJiYhZz8oYT1hLmFkZCgtZSwwKSxkPWMuaW50ZXJzZWN0c0JvdW5kcyhhLHtpbmNsdXNpdmU6Yi5pbmNsdXNpdmV9KSk6ZyYmIWYmJihjPWMuYWRkKC1lLDApLGQ9YS5pbnRlcnNlY3RzQm91bmRzKGMse2luY2x1c2l2ZTpiLmluY2x1c2l2ZX0pKX1yZXR1cm4gZH0sY29udGFpbnNCb3VuZHM6ZnVuY3Rpb24oYSxiLGMpe251bGw9PWImJihiPSExKTtudWxsPT1jJiYoYz0hMCk7dmFyIGQ9dGhpcy5jb250YWlucyhhLmxlZnQsYS5ib3R0b20sYyksZT10aGlzLmNvbnRhaW5zKGEucmlnaHQsYS5ib3R0b20sYyksZj10aGlzLmNvbnRhaW5zKGEubGVmdCxhLnRvcCxjKSxhPXRoaXMuY29udGFpbnMoYS5yaWdodCxhLnRvcCxjKTtyZXR1cm4gYj8KZHx8ZXx8Znx8YTpkJiZlJiZmJiZhfSxkZXRlcm1pbmVRdWFkcmFudDpmdW5jdGlvbihhKXt2YXIgYj0iIixjPXRoaXMuZ2V0Q2VudGVyTG9uTGF0KCksYj1iKyhhLmxhdDxjLmxhdD8iYiI6InQiKTtyZXR1cm4gYis9YS5sb248Yy5sb24/ImwiOiJyIn0sdHJhbnNmb3JtOmZ1bmN0aW9uKGEsYil7dGhpcy5jZW50ZXJMb25MYXQ9bnVsbDt2YXIgYz1PcGVuTGF5ZXJzLlByb2plY3Rpb24udHJhbnNmb3JtKHt4OnRoaXMubGVmdCx5OnRoaXMuYm90dG9tfSxhLGIpLGQ9T3BlbkxheWVycy5Qcm9qZWN0aW9uLnRyYW5zZm9ybSh7eDp0aGlzLnJpZ2h0LHk6dGhpcy5ib3R0b219LGEsYiksZT1PcGVuTGF5ZXJzLlByb2plY3Rpb24udHJhbnNmb3JtKHt4OnRoaXMubGVmdCx5OnRoaXMudG9wfSxhLGIpLGY9T3BlbkxheWVycy5Qcm9qZWN0aW9uLnRyYW5zZm9ybSh7eDp0aGlzLnJpZ2h0LHk6dGhpcy50b3B9LGEsYik7dGhpcy5sZWZ0PU1hdGgubWluKGMueCxlLngpO3RoaXMuYm90dG9tPU1hdGgubWluKGMueSwKZC55KTt0aGlzLnJpZ2h0PU1hdGgubWF4KGQueCxmLngpO3RoaXMudG9wPU1hdGgubWF4KGUueSxmLnkpO3JldHVybiB0aGlzfSx3cmFwRGF0ZUxpbmU6ZnVuY3Rpb24oYSxiKXt2YXIgYj1ifHx7fSxjPWIubGVmdFRvbGVyYW5jZXx8MCxkPWIucmlnaHRUb2xlcmFuY2V8fDAsZT10aGlzLmNsb25lKCk7aWYoYSl7Zm9yKHZhciBmPWEuZ2V0V2lkdGgoKTtlLmxlZnQ8YS5sZWZ0JiZlLnJpZ2h0LWQ8PWEubGVmdDspZT1lLmFkZChmLDApO2Zvcig7ZS5sZWZ0K2M+PWEucmlnaHQmJmUucmlnaHQ+YS5yaWdodDspZT1lLmFkZCgtZiwwKTtjPWUubGVmdCtjO2M8YS5yaWdodCYmKGM+YS5sZWZ0JiZlLnJpZ2h0LWQ+YS5yaWdodCkmJihlPWUuYWRkKC1mLDApKX1yZXR1cm4gZX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Cb3VuZHMifSk7Ck9wZW5MYXllcnMuQm91bmRzLmZyb21TdHJpbmc9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnNwbGl0KCIsIik7cmV0dXJuIE9wZW5MYXllcnMuQm91bmRzLmZyb21BcnJheShjLGIpfTtPcGVuTGF5ZXJzLkJvdW5kcy5mcm9tQXJyYXk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hMD09PWI/bmV3IE9wZW5MYXllcnMuQm91bmRzKGFbMV0sYVswXSxhWzNdLGFbMl0pOm5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhhWzBdLGFbMV0sYVsyXSxhWzNdKX07T3BlbkxheWVycy5Cb3VuZHMuZnJvbVNpemU9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkJvdW5kcygwLGEuaCxhLncsMCl9O09wZW5MYXllcnMuQm91bmRzLm9wcG9zaXRlUXVhZHJhbnQ9ZnVuY3Rpb24oYSl7dmFyIGI7Yj0iIisoInQiPT1hLmNoYXJBdCgwKT8iYiI6InQiKTtyZXR1cm4gYis9ImwiPT1hLmNoYXJBdCgxKT8iciI6ImwifTtPcGVuTGF5ZXJzLkVsZW1lbnQ9e3Zpc2libGU6ZnVuY3Rpb24oYSl7cmV0dXJuIm5vbmUiIT1PcGVuTGF5ZXJzLlV0aWwuZ2V0RWxlbWVudChhKS5zdHlsZS5kaXNwbGF5fSx0b2dnbGU6ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPWFyZ3VtZW50cy5sZW5ndGg7YTxiO2ErKyl7dmFyIGM9T3BlbkxheWVycy5VdGlsLmdldEVsZW1lbnQoYXJndW1lbnRzW2FdKSxkPU9wZW5MYXllcnMuRWxlbWVudC52aXNpYmxlKGMpPyJub25lIjoiIjtjLnN0eWxlLmRpc3BsYXk9ZH19LHJlbW92ZTpmdW5jdGlvbihhKXthPU9wZW5MYXllcnMuVXRpbC5nZXRFbGVtZW50KGEpO2EucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKX0sZ2V0SGVpZ2h0OmZ1bmN0aW9uKGEpe2E9T3BlbkxheWVycy5VdGlsLmdldEVsZW1lbnQoYSk7cmV0dXJuIGEub2Zmc2V0SGVpZ2h0fSxoYXNDbGFzczpmdW5jdGlvbihhLGIpe3ZhciBjPWEuY2xhc3NOYW1lO3JldHVybiEhYyYmUmVnRXhwKCIoXnxcXHMpIitiKyIoXFxzfCQpIikudGVzdChjKX0sCmFkZENsYXNzOmZ1bmN0aW9uKGEsYil7T3BlbkxheWVycy5FbGVtZW50Lmhhc0NsYXNzKGEsYil8fChhLmNsYXNzTmFtZSs9KGEuY2xhc3NOYW1lPyIgIjoiIikrYik7cmV0dXJuIGF9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5jbGFzc05hbWU7YyYmKGEuY2xhc3NOYW1lPU9wZW5MYXllcnMuU3RyaW5nLnRyaW0oYy5yZXBsYWNlKFJlZ0V4cCgiKF58XFxzKykiK2IrIihcXHMrfCQpIiksIiAiKSkpO3JldHVybiBhfSx0b2dnbGVDbGFzczpmdW5jdGlvbihhLGIpe09wZW5MYXllcnMuRWxlbWVudC5oYXNDbGFzcyhhLGIpP09wZW5MYXllcnMuRWxlbWVudC5yZW1vdmVDbGFzcyhhLGIpOk9wZW5MYXllcnMuRWxlbWVudC5hZGRDbGFzcyhhLGIpO3JldHVybiBhfSxnZXRTdHlsZTpmdW5jdGlvbihhLGIpe3ZhciBhPU9wZW5MYXllcnMuVXRpbC5nZXRFbGVtZW50KGEpLGM9bnVsbDtpZihhJiZhLnN0eWxlKXtjPWEuc3R5bGVbT3BlbkxheWVycy5TdHJpbmcuY2FtZWxpemUoYildOwpjfHwoZG9jdW1lbnQuZGVmYXVsdFZpZXcmJmRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGU/Yz0oYz1kb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGEsbnVsbCkpP2MuZ2V0UHJvcGVydHlWYWx1ZShiKTpudWxsOmEuY3VycmVudFN0eWxlJiYoYz1hLmN1cnJlbnRTdHlsZVtPcGVuTGF5ZXJzLlN0cmluZy5jYW1lbGl6ZShiKV0pKTt2YXIgZD1bImxlZnQiLCJ0b3AiLCJyaWdodCIsImJvdHRvbSJdO3dpbmRvdy5vcGVyYSYmKC0xIT1PcGVuTGF5ZXJzLlV0aWwuaW5kZXhPZihkLGIpJiYic3RhdGljIj09T3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKGEsInBvc2l0aW9uIikpJiYoYz0iYXV0byIpfXJldHVybiJhdXRvIj09Yz9udWxsOmN9fTtPcGVuTGF5ZXJzLkxvbkxhdD1PcGVuTGF5ZXJzLkNsYXNzKHtsb246MCxsYXQ6MCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYil7T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSkmJihiPWFbMV0sYT1hWzBdKTt0aGlzLmxvbj1PcGVuTGF5ZXJzLlV0aWwudG9GbG9hdChhKTt0aGlzLmxhdD1PcGVuTGF5ZXJzLlV0aWwudG9GbG9hdChiKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4ibG9uPSIrdGhpcy5sb24rIixsYXQ9Iit0aGlzLmxhdH0sdG9TaG9ydFN0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxvbisiLCAiK3RoaXMubGF0fSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgT3BlbkxheWVycy5Mb25MYXQodGhpcy5sb24sdGhpcy5sYXQpfSxhZGQ6ZnVuY3Rpb24oYSxiKXtpZihudWxsPT1hfHxudWxsPT1iKXRocm93IG5ldyBUeXBlRXJyb3IoIkxvbkxhdC5hZGQgY2Fubm90IHJlY2VpdmUgbnVsbCB2YWx1ZXMiKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuTG9uTGF0KHRoaXMubG9uKwpPcGVuTGF5ZXJzLlV0aWwudG9GbG9hdChhKSx0aGlzLmxhdCtPcGVuTGF5ZXJzLlV0aWwudG9GbG9hdChiKSl9LGVxdWFsczpmdW5jdGlvbihhKXt2YXIgYj0hMTtudWxsIT1hJiYoYj10aGlzLmxvbj09YS5sb24mJnRoaXMubGF0PT1hLmxhdHx8aXNOYU4odGhpcy5sb24pJiZpc05hTih0aGlzLmxhdCkmJmlzTmFOKGEubG9uKSYmaXNOYU4oYS5sYXQpKTtyZXR1cm4gYn0sdHJhbnNmb3JtOmZ1bmN0aW9uKGEsYil7dmFyIGM9T3BlbkxheWVycy5Qcm9qZWN0aW9uLnRyYW5zZm9ybSh7eDp0aGlzLmxvbix5OnRoaXMubGF0fSxhLGIpO3RoaXMubG9uPWMueDt0aGlzLmxhdD1jLnk7cmV0dXJuIHRoaXN9LHdyYXBEYXRlTGluZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNsb25lKCk7aWYoYSl7Zm9yKDtiLmxvbjxhLmxlZnQ7KWIubG9uKz1hLmdldFdpZHRoKCk7Zm9yKDtiLmxvbj5hLnJpZ2h0OyliLmxvbi09YS5nZXRXaWR0aCgpfXJldHVybiBifSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxvbkxhdCJ9KTsKT3BlbkxheWVycy5Mb25MYXQuZnJvbVN0cmluZz1mdW5jdGlvbihhKXthPWEuc3BsaXQoIiwiKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuTG9uTGF0KGFbMF0sYVsxXSl9O09wZW5MYXllcnMuTG9uTGF0LmZyb21BcnJheT1mdW5jdGlvbihhKXt2YXIgYj1PcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShhKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuTG9uTGF0KGImJmFbMF0sYiYmYVsxXSl9O09wZW5MYXllcnMuUGl4ZWw9T3BlbkxheWVycy5DbGFzcyh7eDowLHk6MCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYil7dGhpcy54PXBhcnNlRmxvYXQoYSk7dGhpcy55PXBhcnNlRmxvYXQoYil9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIng9Iit0aGlzLngrIix5PSIrdGhpcy55fSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgT3BlbkxheWVycy5QaXhlbCh0aGlzLngsdGhpcy55KX0sZXF1YWxzOmZ1bmN0aW9uKGEpe3ZhciBiPSExO251bGwhPWEmJihiPXRoaXMueD09YS54JiZ0aGlzLnk9PWEueXx8aXNOYU4odGhpcy54KSYmaXNOYU4odGhpcy55KSYmaXNOYU4oYS54KSYmaXNOYU4oYS55KSk7cmV0dXJuIGJ9LGRpc3RhbmNlVG86ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyh0aGlzLngtYS54LDIpK01hdGgucG93KHRoaXMueS1hLnksMikpfSxhZGQ6ZnVuY3Rpb24oYSxiKXtpZihudWxsPT1hfHxudWxsPT1iKXRocm93IG5ldyBUeXBlRXJyb3IoIlBpeGVsLmFkZCBjYW5ub3QgcmVjZWl2ZSBudWxsIHZhbHVlcyIpOwpyZXR1cm4gbmV3IE9wZW5MYXllcnMuUGl4ZWwodGhpcy54K2EsdGhpcy55K2IpfSxvZmZzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jbG9uZSgpO2EmJihiPXRoaXMuYWRkKGEueCxhLnkpKTtyZXR1cm4gYn0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5QaXhlbCJ9KTtPcGVuTGF5ZXJzLlNpemU9T3BlbkxheWVycy5DbGFzcyh7dzowLGg6MCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYil7dGhpcy53PXBhcnNlRmxvYXQoYSk7dGhpcy5oPXBhcnNlRmxvYXQoYil9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuInc9Iit0aGlzLncrIixoPSIrdGhpcy5ofSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgT3BlbkxheWVycy5TaXplKHRoaXMudyx0aGlzLmgpfSxlcXVhbHM6ZnVuY3Rpb24oYSl7dmFyIGI9ITE7bnVsbCE9YSYmKGI9dGhpcy53PT1hLncmJnRoaXMuaD09YS5ofHxpc05hTih0aGlzLncpJiZpc05hTih0aGlzLmgpJiZpc05hTihhLncpJiZpc05hTihhLmgpKTtyZXR1cm4gYn0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5TaXplIn0pO09wZW5MYXllcnMuQ29uc29sZT17bG9nOmZ1bmN0aW9uKCl7fSxkZWJ1ZzpmdW5jdGlvbigpe30saW5mbzpmdW5jdGlvbigpe30sd2FybjpmdW5jdGlvbigpe30sZXJyb3I6ZnVuY3Rpb24oKXt9LHVzZXJFcnJvcjpmdW5jdGlvbihhKXthbGVydChhKX0sYXNzZXJ0OmZ1bmN0aW9uKCl7fSxkaXI6ZnVuY3Rpb24oKXt9LGRpcnhtbDpmdW5jdGlvbigpe30sdHJhY2U6ZnVuY3Rpb24oKXt9LGdyb3VwOmZ1bmN0aW9uKCl7fSxncm91cEVuZDpmdW5jdGlvbigpe30sdGltZTpmdW5jdGlvbigpe30sdGltZUVuZDpmdW5jdGlvbigpe30scHJvZmlsZTpmdW5jdGlvbigpe30scHJvZmlsZUVuZDpmdW5jdGlvbigpe30sY291bnQ6ZnVuY3Rpb24oKXt9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29uc29sZSJ9OwooZnVuY3Rpb24oKXtmb3IodmFyIGE9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLGI9MCxjPWEubGVuZ3RoO2I8YzsrK2IpaWYoLTEhPWFbYl0uc3JjLmluZGV4T2YoImZpcmVidWcuanMiKSYmY29uc29sZSl7T3BlbkxheWVycy5VdGlsLmV4dGVuZChPcGVuTGF5ZXJzLkNvbnNvbGUsY29uc29sZSk7YnJlYWt9fSkoKTtPcGVuTGF5ZXJzLkxhbmc9e2NvZGU6bnVsbCxkZWZhdWx0Q29kZToiZW4iLGdldENvZGU6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkxhbmcuY29kZXx8T3BlbkxheWVycy5MYW5nLnNldENvZGUoKTtyZXR1cm4gT3BlbkxheWVycy5MYW5nLmNvZGV9LHNldENvZGU6ZnVuY3Rpb24oYSl7dmFyIGI7YXx8KGE9Im1zaWUiPT1PcGVuTGF5ZXJzLkJST1dTRVJfTkFNRT9uYXZpZ2F0b3IudXNlckxhbmd1YWdlOm5hdmlnYXRvci5sYW5ndWFnZSk7YT1hLnNwbGl0KCItIik7YVswXT1hWzBdLnRvTG93ZXJDYXNlKCk7Im9iamVjdCI9PXR5cGVvZiBPcGVuTGF5ZXJzLkxhbmdbYVswXV0mJihiPWFbMF0pO2lmKGFbMV0pe3ZhciBjPWFbMF0rIi0iK2FbMV0udG9VcHBlckNhc2UoKTsib2JqZWN0Ij09dHlwZW9mIE9wZW5MYXllcnMuTGFuZ1tjXSYmKGI9Yyl9Ynx8KE9wZW5MYXllcnMuQ29uc29sZS53YXJuKCJGYWlsZWQgdG8gZmluZCBPcGVuTGF5ZXJzLkxhbmcuIithLmpvaW4oIi0iKSsiIGRpY3Rpb25hcnksIGZhbGxpbmcgYmFjayB0byBkZWZhdWx0IGxhbmd1YWdlIiksCmI9T3BlbkxheWVycy5MYW5nLmRlZmF1bHRDb2RlKTtPcGVuTGF5ZXJzLkxhbmcuY29kZT1ifSx0cmFuc2xhdGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1PcGVuTGF5ZXJzLkxhbmdbT3BlbkxheWVycy5MYW5nLmdldENvZGUoKV07KGM9YyYmY1thXSl8fChjPWEpO2ImJihjPU9wZW5MYXllcnMuU3RyaW5nLmZvcm1hdChjLGIpKTtyZXR1cm4gY319O09wZW5MYXllcnMuaTE4bj1PcGVuTGF5ZXJzLkxhbmcudHJhbnNsYXRlO09wZW5MYXllcnMuVXRpbD1PcGVuTGF5ZXJzLlV0aWx8fHt9O09wZW5MYXllcnMuVXRpbC5nZXRFbGVtZW50PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGI9MCxjPWFyZ3VtZW50cy5sZW5ndGg7YjxjO2IrKyl7dmFyIGQ9YXJndW1lbnRzW2JdOyJzdHJpbmciPT10eXBlb2YgZCYmKGQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZCkpO2lmKDE9PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGQ7YS5wdXNoKGQpfXJldHVybiBhfTtPcGVuTGF5ZXJzLlV0aWwuaXNFbGVtZW50PWZ1bmN0aW9uKGEpe3JldHVybiEhKGEmJjE9PT1hLm5vZGVUeXBlKX07T3BlbkxheWVycy5VdGlsLmlzQXJyYXk9ZnVuY3Rpb24oYSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKX07T3BlbkxheWVycy5VdGlsLnJlbW92ZUl0ZW09ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9YS5sZW5ndGgtMTswPD1jO2MtLSlhW2NdPT1iJiZhLnNwbGljZShjLDEpO3JldHVybiBhfTsKT3BlbkxheWVycy5VdGlsLmluZGV4T2Y9ZnVuY3Rpb24oYSxiKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgYS5pbmRleE9mKXJldHVybiBhLmluZGV4T2YoYik7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtjPGQ7YysrKWlmKGFbY109PWIpcmV0dXJuIGM7cmV0dXJuLTF9O09wZW5MYXllcnMuVXRpbC5kb3RsZXNzPS9cLi9nOwpPcGVuTGF5ZXJzLlV0aWwubW9kaWZ5RE9NRWxlbWVudD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe2ImJihhLmlkPWIucmVwbGFjZShPcGVuTGF5ZXJzLlV0aWwuZG90bGVzcywiXyIpKTtjJiYoYS5zdHlsZS5sZWZ0PWMueCsicHgiLGEuc3R5bGUudG9wPWMueSsicHgiKTtkJiYoYS5zdHlsZS53aWR0aD1kLncrInB4IixhLnN0eWxlLmhlaWdodD1kLmgrInB4Iik7ZSYmKGEuc3R5bGUucG9zaXRpb249ZSk7ZiYmKGEuc3R5bGUuYm9yZGVyPWYpO2cmJihhLnN0eWxlLm92ZXJmbG93PWcpOzA8PXBhcnNlRmxvYXQoaCkmJjE+cGFyc2VGbG9hdChoKT8oYS5zdHlsZS5maWx0ZXI9ImFscGhhKG9wYWNpdHk9IisxMDAqaCsiKSIsYS5zdHlsZS5vcGFjaXR5PWgpOjE9PXBhcnNlRmxvYXQoaCkmJihhLnN0eWxlLmZpbHRlcj0iIixhLnN0eWxlLm9wYWNpdHk9IiIpfTsKT3BlbkxheWVycy5VdGlsLmNyZWF0ZURpdj1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2QmJihpLnN0eWxlLmJhY2tncm91bmRJbWFnZT0idXJsKCIrZCsiKSIpO2F8fChhPU9wZW5MYXllcnMuVXRpbC5jcmVhdGVVbmlxdWVJRCgiT3BlbkxheWVyc0RpdiIpKTtlfHwoZT0iYWJzb2x1dGUiKTtPcGVuTGF5ZXJzLlV0aWwubW9kaWZ5RE9NRWxlbWVudChpLGEsYixjLGUsZixnLGgpO3JldHVybiBpfTsKT3BlbkxheWVycy5VdGlsLmNyZWF0ZUltYWdlPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7YXx8KGE9T3BlbkxheWVycy5VdGlsLmNyZWF0ZVVuaXF1ZUlEKCJPcGVuTGF5ZXJzRGl2IikpO2V8fChlPSJyZWxhdGl2ZSIpO09wZW5MYXllcnMuVXRpbC5tb2RpZnlET01FbGVtZW50KGksYSxiLGMsZSxmLG51bGwsZyk7aCYmKGkuc3R5bGUuZGlzcGxheT0ibm9uZSIsYj1mdW5jdGlvbigpe2kuc3R5bGUuZGlzcGxheT0iIjtPcGVuTGF5ZXJzLkV2ZW50LnN0b3BPYnNlcnZpbmdFbGVtZW50KGkpfSxPcGVuTGF5ZXJzLkV2ZW50Lm9ic2VydmUoaSwibG9hZCIsYiksT3BlbkxheWVycy5FdmVudC5vYnNlcnZlKGksImVycm9yIixiKSk7aS5zdHlsZS5hbHQ9YTtpLmdhbGxlcnlJbWc9Im5vIjtkJiYoaS5zcmM9ZCk7cmV0dXJuIGl9O09wZW5MYXllcnMuSU1BR0VfUkVMT0FEX0FUVEVNUFRTPTA7Ck9wZW5MYXllcnMuVXRpbC5hbHBoYUhhY2tOZWVkZWQ9bnVsbDtPcGVuTGF5ZXJzLlV0aWwuYWxwaGFIYWNrPWZ1bmN0aW9uKCl7aWYobnVsbD09T3BlbkxheWVycy5VdGlsLmFscGhhSGFja05lZWRlZCl7dmFyIGE9bmF2aWdhdG9yLmFwcFZlcnNpb24uc3BsaXQoIk1TSUUiKSxhPXBhcnNlRmxvYXQoYVsxXSksYj0hMTt0cnl7Yj0hIWRvY3VtZW50LmJvZHkuZmlsdGVyc31jYXRjaChjKXt9T3BlbkxheWVycy5VdGlsLmFscGhhSGFja05lZWRlZD1iJiY1LjU8PWEmJjc+YX1yZXR1cm4gT3BlbkxheWVycy5VdGlsLmFscGhhSGFja05lZWRlZH07Ck9wZW5MYXllcnMuVXRpbC5tb2RpZnlBbHBoYUltYWdlRGl2PWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCxpKXtPcGVuTGF5ZXJzLlV0aWwubW9kaWZ5RE9NRWxlbWVudChhLGIsYyxkLGYsbnVsbCxudWxsLGkpO2I9YS5jaGlsZE5vZGVzWzBdO2UmJihiLnNyYz1lKTtPcGVuTGF5ZXJzLlV0aWwubW9kaWZ5RE9NRWxlbWVudChiLGEuaWQrIl9pbm5lckltYWdlIixudWxsLGQsInJlbGF0aXZlIixnKTtPcGVuTGF5ZXJzLlV0aWwuYWxwaGFIYWNrKCkmJigibm9uZSIhPWEuc3R5bGUuZGlzcGxheSYmKGEuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIiksbnVsbD09aCYmKGg9InNjYWxlIiksYS5zdHlsZS5maWx0ZXI9InByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYUltYWdlTG9hZGVyKHNyYz0nIitiLnNyYysiJywgc2l6aW5nTWV0aG9kPSciK2grIicpIiwwPD1wYXJzZUZsb2F0KGEuc3R5bGUub3BhY2l0eSkmJjE+cGFyc2VGbG9hdChhLnN0eWxlLm9wYWNpdHkpJiYKKGEuc3R5bGUuZmlsdGVyKz0iIGFscGhhKG9wYWNpdHk9IisxMDAqYS5zdHlsZS5vcGFjaXR5KyIpIiksYi5zdHlsZS5maWx0ZXI9ImFscGhhKG9wYWNpdHk9MCkiKX07T3BlbkxheWVycy5VdGlsLmNyZWF0ZUFscGhhSW1hZ2VEaXY9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGkpe3ZhciBqPU9wZW5MYXllcnMuVXRpbC5jcmVhdGVEaXYoKSxpPU9wZW5MYXllcnMuVXRpbC5jcmVhdGVJbWFnZShudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLGkpO2kuY2xhc3NOYW1lPSJvbEFscGhhSW1nIjtqLmFwcGVuZENoaWxkKGkpO09wZW5MYXllcnMuVXRpbC5tb2RpZnlBbHBoYUltYWdlRGl2KGosYSxiLGMsZCxlLGYsZyxoKTtyZXR1cm4gan07T3BlbkxheWVycy5VdGlsLnVwcGVyQ2FzZU9iamVjdD1mdW5jdGlvbihhKXt2YXIgYj17fSxjO2ZvcihjIGluIGEpYltjLnRvVXBwZXJDYXNlKCldPWFbY107cmV0dXJuIGJ9OwpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cz1mdW5jdGlvbihhLGIpe3ZhciBhPWF8fHt9LGM9ImZ1bmN0aW9uIj09dHlwZW9mIHdpbmRvdy5FdmVudCYmYiBpbnN0YW5jZW9mIHdpbmRvdy5FdmVudCxkO2ZvcihkIGluIGIpaWYodm9pZCAwPT09YVtkXXx8IWMmJmIuaGFzT3duUHJvcGVydHkmJmIuaGFzT3duUHJvcGVydHkoZCkmJiFhLmhhc093blByb3BlcnR5KGQpKWFbZF09YltkXTshYyYmKGImJmIuaGFzT3duUHJvcGVydHkmJmIuaGFzT3duUHJvcGVydHkoInRvU3RyaW5nIikmJiFhLmhhc093blByb3BlcnR5KCJ0b1N0cmluZyIpKSYmKGEudG9TdHJpbmc9Yi50b1N0cmluZyk7cmV0dXJuIGF9OwpPcGVuTGF5ZXJzLlV0aWwuZ2V0UGFyYW1ldGVyU3RyaW5nPWZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM7Zm9yKGMgaW4gYSl7dmFyIGQ9YVtjXTtpZihudWxsIT1kJiYiZnVuY3Rpb24iIT10eXBlb2YgZCl7aWYoIm9iamVjdCI9PXR5cGVvZiBkJiZkLmNvbnN0cnVjdG9yPT1BcnJheSl7Zm9yKHZhciBlPVtdLGYsZz0wLGg9ZC5sZW5ndGg7ZzxoO2crKylmPWRbZ10sZS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChudWxsPT09Znx8dm9pZCAwPT09Zj8iIjpmKSk7ZD1lLmpvaW4oIiwiKX1lbHNlIGQ9ZW5jb2RlVVJJQ29tcG9uZW50KGQpO2IucHVzaChlbmNvZGVVUklDb21wb25lbnQoYykrIj0iK2QpfX1yZXR1cm4gYi5qb2luKCImIil9O09wZW5MYXllcnMuVXRpbC51cmxBcHBlbmQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hO2lmKGIpdmFyIGQ9KGErIiAiKS5zcGxpdCgvWz8mXS8pLGM9YysoIiAiPT09ZC5wb3AoKT9iOmQubGVuZ3RoPyImIitiOiI/IitiKTtyZXR1cm4gY307Ck9wZW5MYXllcnMuVXRpbC5nZXRJbWFnZXNMb2NhdGlvbj1mdW5jdGlvbigpe3JldHVybiBPcGVuTGF5ZXJzLkltZ1BhdGh8fE9wZW5MYXllcnMuX2dldFNjcmlwdExvY2F0aW9uKCkrImltZy8ifTtPcGVuTGF5ZXJzLlV0aWwuZ2V0SW1hZ2VMb2NhdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4gT3BlbkxheWVycy5VdGlsLmdldEltYWdlc0xvY2F0aW9uKCkrYX07T3BlbkxheWVycy5VdGlsLlRyeT1mdW5jdGlvbigpe2Zvcih2YXIgYT1udWxsLGI9MCxjPWFyZ3VtZW50cy5sZW5ndGg7YjxjO2IrKyl7dmFyIGQ9YXJndW1lbnRzW2JdO3RyeXthPWQoKTticmVha31jYXRjaChlKXt9fXJldHVybiBhfTsKT3BlbkxheWVycy5VdGlsLmdldFhtbE5vZGVWYWx1ZT1mdW5jdGlvbihhKXt2YXIgYj1udWxsO09wZW5MYXllcnMuVXRpbC5UcnkoZnVuY3Rpb24oKXtiPWEudGV4dDtifHwoYj1hLnRleHRDb250ZW50KTtifHwoYj1hLmZpcnN0Q2hpbGQubm9kZVZhbHVlKX0sZnVuY3Rpb24oKXtiPWEudGV4dENvbnRlbnR9KTtyZXR1cm4gYn07T3BlbkxheWVycy5VdGlsLm1vdXNlTGVmdD1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1hLnJlbGF0ZWRUYXJnZXQ/YS5yZWxhdGVkVGFyZ2V0OmEudG9FbGVtZW50O2MhPWImJm51bGwhPWM7KWM9Yy5wYXJlbnROb2RlO3JldHVybiBjIT1ifTtPcGVuTGF5ZXJzLlV0aWwuREVGQVVMVF9QUkVDSVNJT049MTQ7T3BlbkxheWVycy5VdGlsLnRvRmxvYXQ9ZnVuY3Rpb24oYSxiKXtudWxsPT1iJiYoYj1PcGVuTGF5ZXJzLlV0aWwuREVGQVVMVF9QUkVDSVNJT04pOyJudW1iZXIiIT09dHlwZW9mIGEmJihhPXBhcnNlRmxvYXQoYSkpO3JldHVybiAwPT09Yj9hOnBhcnNlRmxvYXQoYS50b1ByZWNpc2lvbihiKSl9OwpPcGVuTGF5ZXJzLlV0aWwucmFkPWZ1bmN0aW9uKGEpe3JldHVybiBhKk1hdGguUEkvMTgwfTtPcGVuTGF5ZXJzLlV0aWwuZGVnPWZ1bmN0aW9uKGEpe3JldHVybiAxODAqYS9NYXRoLlBJfTtPcGVuTGF5ZXJzLlV0aWwuVmluY2VudHlDb25zdGFudHM9e2E6NjM3ODEzNyxiOjYzNTY3NTIuMzE0MixmOjEvMjk4LjI1NzIyMzU2M307Ck9wZW5MYXllcnMuVXRpbC5kaXN0VmluY2VudHk9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9T3BlbkxheWVycy5VdGlsLlZpbmNlbnR5Q29uc3RhbnRzLGQ9Yy5hLGU9Yy5iLGM9Yy5mLGY9T3BlbkxheWVycy5VdGlsLnJhZChiLmxvbi1hLmxvbiksZz1NYXRoLmF0YW4oKDEtYykqTWF0aC50YW4oT3BlbkxheWVycy5VdGlsLnJhZChhLmxhdCkpKSxoPU1hdGguYXRhbigoMS1jKSpNYXRoLnRhbihPcGVuTGF5ZXJzLlV0aWwucmFkKGIubGF0KSkpLGk9TWF0aC5zaW4oZyksZz1NYXRoLmNvcyhnKSxqPU1hdGguc2luKGgpLGg9TWF0aC5jb3MoaCksaz1mLGw9MipNYXRoLlBJLG09MjA7MUUtMTI8TWF0aC5hYnMoay1sKSYmMDwtLW07KXt2YXIgbj1NYXRoLnNpbihrKSxwPU1hdGguY29zKGspLHE9TWF0aC5zcXJ0KGgqbipoKm4rKGcqai1pKmgqcCkqKGcqai1pKmgqcCkpO2lmKDA9PXEpcmV0dXJuIDA7dmFyIHA9aSpqK2cqaCpwLHI9TWF0aC5hdGFuMihxLHApLHM9TWF0aC5hc2luKGcqaCoKbi9xKSx0PU1hdGguY29zKHMpKk1hdGguY29zKHMpLG49cC0yKmkqai90LHU9Yy8xNip0Kig0K2MqKDQtMyp0KSksbD1rLGs9ZisoMS11KSpjKk1hdGguc2luKHMpKihyK3UqcSoobit1KnAqKC0xKzIqbipuKSkpfWlmKDA9PW0pcmV0dXJuIE5hTjtkPXQqKGQqZC1lKmUpLyhlKmUpO2M9ZC8xMDI0KigyNTYrZCooLTEyOCtkKig3NC00NypkKSkpO3JldHVybihlKigxK2QvMTYzODQqKDQwOTYrZCooLTc2OCtkKigzMjAtMTc1KmQpKSkpKihyLWMqcSoobitjLzQqKHAqKC0xKzIqbipuKS1jLzYqbiooLTMrNCpxKnEpKigtMys0Km4qbikpKSkpLnRvRml4ZWQoMykvMUUzfTsKT3BlbkxheWVycy5VdGlsLmRlc3RpbmF0aW9uVmluY2VudHk9ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1PcGVuTGF5ZXJzLlV0aWwsZT1kLlZpbmNlbnR5Q29uc3RhbnRzLGY9ZS5hLGc9ZS5iLGg9ZS5mLGU9YS5sb24sYT1hLmxhdCxpPWQucmFkKGIpLGI9TWF0aC5zaW4oaSksaT1NYXRoLmNvcyhpKSxhPSgxLWgpKk1hdGgudGFuKGQucmFkKGEpKSxqPTEvTWF0aC5zcXJ0KDErYSphKSxrPWEqaixsPU1hdGguYXRhbjIoYSxpKSxhPWoqYixtPTEtYSphLGY9bSooZipmLWcqZykvKGcqZyksbj0xK2YvMTYzODQqKDQwOTYrZiooLTc2OCtmKigzMjAtMTc1KmYpKSkscD1mLzEwMjQqKDI1NitmKigtMTI4K2YqKDc0LTQ3KmYpKSksZj1jLyhnKm4pLHE9MipNYXRoLlBJOzFFLTEyPE1hdGguYWJzKGYtcSk7KXZhciByPU1hdGguY29zKDIqbCtmKSxzPU1hdGguc2luKGYpLHQ9TWF0aC5jb3MoZiksdT1wKnMqKHIrcC80Kih0KigtMSsyKnIqciktcC82KnIqKC0zKzQqcypzKSooLTMrNCpyKgpyKSkpLHE9ZixmPWMvKGcqbikrdTtjPWsqcy1qKnQqaTtnPU1hdGguYXRhbjIoayp0K2oqcyppLCgxLWgpKk1hdGguc3FydChhKmErYypjKSk7Yj1NYXRoLmF0YW4yKHMqYixqKnQtaypzKmkpO2k9aC8xNiptKig0K2gqKDQtMyptKSk7cj1iLSgxLWkpKmgqYSooZitpKnMqKHIraSp0KigtMSsyKnIqcikpKTtNYXRoLmF0YW4yKGEsLWMpO3JldHVybiBuZXcgT3BlbkxheWVycy5Mb25MYXQoZStkLmRlZyhyKSxkLmRlZyhnKSl9OwpPcGVuTGF5ZXJzLlV0aWwuZ2V0UGFyYW1ldGVycz1mdW5jdGlvbihhLGIpe3ZhciBiPWJ8fHt9LGE9bnVsbD09PWF8fHZvaWQgMD09PWE/d2luZG93LmxvY2F0aW9uLmhyZWY6YSxjPSIiO2lmKE9wZW5MYXllcnMuU3RyaW5nLmNvbnRhaW5zKGEsIj8iKSl2YXIgZD1hLmluZGV4T2YoIj8iKSsxLGM9T3BlbkxheWVycy5TdHJpbmcuY29udGFpbnMoYSwiIyIpP2EuaW5kZXhPZigiIyIpOmEubGVuZ3RoLGM9YS5zdWJzdHJpbmcoZCxjKTtmb3IodmFyIGQ9e30sYz1jLnNwbGl0KC9bJjtdLyksZT0wLGY9Yy5sZW5ndGg7ZTxmOysrZSl7dmFyIGc9Y1tlXS5zcGxpdCgiPSIpO2lmKGdbMF0pe3ZhciBoPWdbMF07dHJ5e2g9ZGVjb2RlVVJJQ29tcG9uZW50KGgpfWNhdGNoKGkpe2g9dW5lc2NhcGUoaCl9Zz0oZ1sxXXx8IiIpLnJlcGxhY2UoL1wrL2csIiAiKTt0cnl7Zz1kZWNvZGVVUklDb21wb25lbnQoZyl9Y2F0Y2goail7Zz11bmVzY2FwZShnKX0hMSE9PWIuc3BsaXRBcmdzJiYoZz1nLnNwbGl0KCIsIikpOwoxPT1nLmxlbmd0aCYmKGc9Z1swXSk7ZFtoXT1nfX1yZXR1cm4gZH07T3BlbkxheWVycy5VdGlsLmxhc3RTZXFJRD0wO09wZW5MYXllcnMuVXRpbC5jcmVhdGVVbmlxdWVJRD1mdW5jdGlvbihhKXthPW51bGw9PWE/ImlkXyI6YS5yZXBsYWNlKE9wZW5MYXllcnMuVXRpbC5kb3RsZXNzLCJfIik7T3BlbkxheWVycy5VdGlsLmxhc3RTZXFJRCs9MTtyZXR1cm4gYStPcGVuTGF5ZXJzLlV0aWwubGFzdFNlcUlEfTtPcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVD17aW5jaGVzOjEsZnQ6MTIsbWk6NjMzNjAsbTozOS4zNyxrbTozOTM3MCxkZDo0Mzc0NzU0LHlkOjM2fTtPcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVFsiaW4iXT1PcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVC5pbmNoZXM7T3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVQuZGVncmVlcz1PcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVC5kZDtPcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVC5ubWk9MTg1MipPcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVC5tOwpPcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSD0wLjAyNTQwMDA1MDgwMDEwMTY7Ck9wZW5MYXllcnMuVXRpbC5leHRlbmQoT3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVQse0luY2g6T3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVQuaW5jaGVzLE1ldGVyOjEvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsRm9vdDowLjMwNDgwMDYwOTYwMTIxOTIvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsSUZvb3Q6MC4zMDQ4L09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILENsYXJrZUZvb3Q6MC4zMDQ3OTcyNjUxMTUxL09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILFNlYXJzRm9vdDowLjMwNDc5OTQ3MTUzODY3NjI2L09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILEdvbGRDb2FzdEZvb3Q6MC4zMDQ3OTk3MTAxODE1MDg4L09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILElJbmNoOjAuMDI1NC9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxNaWNyb0luY2g6Mi41NEUtNS9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxNaWw6Mi41NEUtOC9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCwKQ2VudGltZXRlcjowLjAxL09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILEtpbG9tZXRlcjoxRTMvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsWWFyZDowLjkxNDQwMTgyODgwMzY1NzYvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsU2VhcnNZYXJkOjAuOTE0Mzk4NDE0NjE2MDI5L09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILEluZGlhbllhcmQ6MC45MTQzOTg1MzA3NDQ0NDA4L09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILEluZGlhbllkMzc6MC45MTQzOTUyMy9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxJbmRpYW5ZZDYyOjAuOTE0Mzk4OC9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxJbmRpYW5ZZDc1OjAuOTE0Mzk4NS9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxJbmRpYW5Gb290OjAuMzA0Nzk5NTEvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsSW5kaWFuRnQzNzowLjMwNDc5ODQxL09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILEluZGlhbkZ0NjI6MC4zMDQ3OTk2LwpPcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxJbmRpYW5GdDc1OjAuMzA0Nzk5NS9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxNaWxlOjE2MDkuMzQ3MjE4Njk0NDM3My9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxJWWFyZDowLjkxNDQvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsSU1pbGU6MTYwOS4zNDQvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsTmF1dE06MTg1Mi9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCwiTGF0LTY2IjoxMTA5NDMuMzE2NDg4OTMyNzMvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsIkxhdC04MyI6MTEwOTQ2LjI1NzM2ODcyMjM1L09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILERlY2ltZXRlcjowLjEvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsTWlsbGltZXRlcjowLjAwMS9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxEZWthbWV0ZXI6MTAvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsRGVjYW1ldGVyOjEwL09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILApIZWN0b21ldGVyOjEwMC9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxHZXJtYW5NZXRlcjoxLjAwMDAxMzU5NjUvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsQ2FHcmlkOjAuOTk5NzM4L09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILENsYXJrZUNoYWluOjIwLjExNjYxOTQ5NzYvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsR3VudGVyQ2hhaW46MjAuMTE2ODQwMjMzNjgwNDcvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsQmVub2l0Q2hhaW46MjAuMTE2NzgyNDk0Mzc1ODcyL09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILFNlYXJzQ2hhaW46MjAuMTE2NzY1MTIxNTUvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsQ2xhcmtlTGluazowLjIwMTE2NjE5NDk3Ni9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxHdW50ZXJMaW5rOjAuMjAxMTY4NDAyMzM2ODA0Ny9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxCZW5vaXRMaW5rOjAuMjAxMTY3ODI0OTQzNzU4NzMvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsClNlYXJzTGluazowLjIwMTE2NzY1MTIxNTUvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsUm9kOjUuMDI5MjEwMDU4NDIwMTIvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsSW50bmxDaGFpbjoyMC4xMTY4L09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILEludG5sTGluazowLjIwMTE2OC9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxQZXJjaDo1LjAyOTIxMDA1ODQyMDEyL09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILFBvbGU6NS4wMjkyMTAwNTg0MjAxMi9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxGdXJsb25nOjIwMS4xNjg0MDIzMzY4MDQ2L09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILFJvb2Q6My43NzgyNjY4OTgvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsQ2FwZUZvb3Q6MC4zMDQ3OTcyNjE1L09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILEJyZWFsZXk6Mzc1L09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILE1vZEFtRnQ6MC4zMDQ4MTIyNTI5ODQ1MDYvCk9wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILEZhdGhvbToxLjgyODgvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsIk5hdXRNLVVLIjoxODUzLjE4NC9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCwiNTBraWxvbWV0ZXJzIjo1RTQvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsIjE1MGtpbG9tZXRlcnMiOjE1RTQvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0h9KTsKT3BlbkxheWVycy5VdGlsLmV4dGVuZChPcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVCx7bW06T3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVQuTWV0ZXIvMUUzLGNtOk9wZW5MYXllcnMuSU5DSEVTX1BFUl9VTklULk1ldGVyLzEwMCxkbToxMDAqT3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVQuTWV0ZXIsa206MUUzKk9wZW5MYXllcnMuSU5DSEVTX1BFUl9VTklULk1ldGVyLGttaTpPcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVC5ubWksZmF0aDpPcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVC5GYXRob20sY2g6T3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVQuSW50bmxDaGFpbixsaW5rOk9wZW5MYXllcnMuSU5DSEVTX1BFUl9VTklULkludG5sTGluaywidXMtaW4iOk9wZW5MYXllcnMuSU5DSEVTX1BFUl9VTklULmluY2hlcywidXMtZnQiOk9wZW5MYXllcnMuSU5DSEVTX1BFUl9VTklULkZvb3QsInVzLXlkIjpPcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVC5ZYXJkLCJ1cy1jaCI6T3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVQuR3VudGVyQ2hhaW4sCiJ1cy1taSI6T3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVQuTWlsZSwiaW5kLXlkIjpPcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVC5JbmRpYW5ZZDM3LCJpbmQtZnQiOk9wZW5MYXllcnMuSU5DSEVTX1BFUl9VTklULkluZGlhbkZ0MzcsImluZC1jaCI6MjAuMTE2Njk1MDYvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0h9KTtPcGVuTGF5ZXJzLkRPVFNfUEVSX0lOQ0g9NzI7T3BlbkxheWVycy5VdGlsLm5vcm1hbGl6ZVNjYWxlPWZ1bmN0aW9uKGEpe3JldHVybiAxPGE/MS9hOmF9O09wZW5MYXllcnMuVXRpbC5nZXRSZXNvbHV0aW9uRnJvbVNjYWxlPWZ1bmN0aW9uKGEsYil7dmFyIGM7YSYmKG51bGw9PWImJihiPSJkZWdyZWVzIiksYz0xLyhPcGVuTGF5ZXJzLlV0aWwubm9ybWFsaXplU2NhbGUoYSkqT3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVRbYl0qT3BlbkxheWVycy5ET1RTX1BFUl9JTkNIKSk7cmV0dXJuIGN9OwpPcGVuTGF5ZXJzLlV0aWwuZ2V0U2NhbGVGcm9tUmVzb2x1dGlvbj1mdW5jdGlvbihhLGIpe251bGw9PWImJihiPSJkZWdyZWVzIik7cmV0dXJuIGEqT3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVRbYl0qT3BlbkxheWVycy5ET1RTX1BFUl9JTkNIfTsKT3BlbkxheWVycy5VdGlsLnBhZ2VQb3NpdGlvbj1mdW5jdGlvbihhKXt2YXIgYj1bMCwwXSxjPU9wZW5MYXllcnMuVXRpbC5nZXRWaWV3cG9ydEVsZW1lbnQoKTtpZighYXx8YT09d2luZG93fHxhPT1jKXJldHVybiBiO3ZhciBkPU9wZW5MYXllcnMuSVNfR0VDS08mJmRvY3VtZW50LmdldEJveE9iamVjdEZvciYmImFic29sdXRlIj09T3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKGEsInBvc2l0aW9uIikmJigiIj09YS5zdHlsZS50b3B8fCIiPT1hLnN0eWxlLmxlZnQpLGU9bnVsbDtpZihhLmdldEJvdW5kaW5nQ2xpZW50UmVjdClhPWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksZT13aW5kb3cucGFnZVlPZmZzZXR8fGMuc2Nyb2xsVG9wLGJbMF09YS5sZWZ0Kyh3aW5kb3cucGFnZVhPZmZzZXR8fGMuc2Nyb2xsTGVmdCksYlsxXT1hLnRvcCtlO2Vsc2UgaWYoZG9jdW1lbnQuZ2V0Qm94T2JqZWN0Rm9yJiYhZClhPWRvY3VtZW50LmdldEJveE9iamVjdEZvcihhKSxjPWRvY3VtZW50LmdldEJveE9iamVjdEZvcihjKSwKYlswXT1hLnNjcmVlblgtYy5zY3JlZW5YLGJbMV09YS5zY3JlZW5ZLWMuc2NyZWVuWTtlbHNle2JbMF09YS5vZmZzZXRMZWZ0O2JbMV09YS5vZmZzZXRUb3A7ZT1hLm9mZnNldFBhcmVudDtpZihlIT1hKWZvcig7ZTspYlswXSs9ZS5vZmZzZXRMZWZ0LGJbMV0rPWUub2Zmc2V0VG9wLGU9ZS5vZmZzZXRQYXJlbnQ7Yz1PcGVuTGF5ZXJzLkJST1dTRVJfTkFNRTtpZigib3BlcmEiPT1jfHwic2FmYXJpIj09YyYmImFic29sdXRlIj09T3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKGEsInBvc2l0aW9uIikpYlsxXS09ZG9jdW1lbnQuYm9keS5vZmZzZXRUb3A7Zm9yKGU9YS5vZmZzZXRQYXJlbnQ7ZSYmZSE9ZG9jdW1lbnQuYm9keTspe2JbMF0tPWUuc2Nyb2xsTGVmdDtpZigib3BlcmEiIT1jfHwiVFIiIT1lLnRhZ05hbWUpYlsxXS09ZS5zY3JvbGxUb3A7ZT1lLm9mZnNldFBhcmVudH19cmV0dXJuIGJ9OwpPcGVuTGF5ZXJzLlV0aWwuZ2V0Vmlld3BvcnRFbGVtZW50PWZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzLmNhbGxlZS52aWV3cG9ydEVsZW1lbnQ7dm9pZCAwPT1hJiYoYT0ibXNpZSI9PU9wZW5MYXllcnMuQlJPV1NFUl9OQU1FJiYiQ1NTMUNvbXBhdCIhPWRvY3VtZW50LmNvbXBhdE1vZGU/ZG9jdW1lbnQuYm9keTpkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsYXJndW1lbnRzLmNhbGxlZS52aWV3cG9ydEVsZW1lbnQ9YSk7cmV0dXJuIGF9OwpPcGVuTGF5ZXJzLlV0aWwuaXNFcXVpdmFsZW50VXJsPWZ1bmN0aW9uKGEsYixjKXtjPWN8fHt9O09wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGMse2lnbm9yZUNhc2U6ITAsaWdub3JlUG9ydDgwOiEwLGlnbm9yZUhhc2g6ITAsc3BsaXRBcmdzOiExfSk7dmFyIGE9T3BlbkxheWVycy5VdGlsLmNyZWF0ZVVybE9iamVjdChhLGMpLGI9T3BlbkxheWVycy5VdGlsLmNyZWF0ZVVybE9iamVjdChiLGMpLGQ7Zm9yKGQgaW4gYSlpZigiYXJncyIhPT1kJiZhW2RdIT1iW2RdKXJldHVybiExO2ZvcihkIGluIGEuYXJncyl7aWYoYS5hcmdzW2RdIT1iLmFyZ3NbZF0pcmV0dXJuITE7ZGVsZXRlIGIuYXJnc1tkXX1mb3IoZCBpbiBiLmFyZ3MpcmV0dXJuITE7cmV0dXJuITB9OwpPcGVuTGF5ZXJzLlV0aWwuY3JlYXRlVXJsT2JqZWN0PWZ1bmN0aW9uKGEsYil7Yj1ifHx7fTtpZighL15cdys6XC9cLy8udGVzdChhKSl7dmFyIGM9d2luZG93LmxvY2F0aW9uLGQ9Yy5wb3J0PyI6IitjLnBvcnQ6IiIsZD1jLnByb3RvY29sKyIvLyIrYy5ob3N0LnNwbGl0KCI6Iikuc2hpZnQoKStkOzA9PT1hLmluZGV4T2YoIi8iKT9hPWQrYTooYz1jLnBhdGhuYW1lLnNwbGl0KCIvIiksYy5wb3AoKSxhPWQrYy5qb2luKCIvIikrIi8iK2EpfWIuaWdub3JlQ2FzZSYmKGE9YS50b0xvd2VyQ2FzZSgpKTtjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtjLmhyZWY9YTtkPXt9O2QuaG9zdD1jLmhvc3Quc3BsaXQoIjoiKS5zaGlmdCgpO2QucHJvdG9jb2w9Yy5wcm90b2NvbDtkLnBvcnQ9Yi5pZ25vcmVQb3J0ODA/IjgwIj09Yy5wb3J0fHwiMCI9PWMucG9ydD8iIjpjLnBvcnQ6IiI9PWMucG9ydHx8IjAiPT1jLnBvcnQ/IjgwIjpjLnBvcnQ7ZC5oYXNoPWIuaWdub3JlSGFzaHx8IiMiPT09CmMuaGFzaD8iIjpjLmhhc2g7dmFyIGU9Yy5zZWFyY2g7ZXx8KGU9YS5pbmRleE9mKCI/IiksZT0tMSE9ZT9hLnN1YnN0cihlKToiIik7ZC5hcmdzPU9wZW5MYXllcnMuVXRpbC5nZXRQYXJhbWV0ZXJzKGUse3NwbGl0QXJnczpiLnNwbGl0QXJnc30pO2QucGF0aG5hbWU9Ii8iPT1jLnBhdGhuYW1lLmNoYXJBdCgwKT9jLnBhdGhuYW1lOiIvIitjLnBhdGhuYW1lO3JldHVybiBkfTtPcGVuTGF5ZXJzLlV0aWwucmVtb3ZlVGFpbD1mdW5jdGlvbihhKXt2YXIgYj1udWxsLGI9YS5pbmRleE9mKCI/IiksYz1hLmluZGV4T2YoIiMiKTtyZXR1cm4gYj0tMT09Yj8tMSE9Yz9hLnN1YnN0cigwLGMpOmE6LTEhPWM/YS5zdWJzdHIoMCxNYXRoLm1pbihiLGMpKTphLnN1YnN0cigwLGIpfTtPcGVuTGF5ZXJzLklTX0dFQ0tPPWZ1bmN0aW9uKCl7dmFyIGE9bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO3JldHVybi0xPT1hLmluZGV4T2YoIndlYmtpdCIpJiYtMSE9YS5pbmRleE9mKCJnZWNrbyIpfSgpOwpPcGVuTGF5ZXJzLkNBTlZBU19TVVBQT1JURUQ9ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtyZXR1cm4hKCFhLmdldENvbnRleHR8fCFhLmdldENvbnRleHQoIjJkIikpfSgpO09wZW5MYXllcnMuQlJPV1NFUl9OQU1FPWZ1bmN0aW9uKCl7dmFyIGE9IiIsYj1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7LTEhPWIuaW5kZXhPZigib3BlcmEiKT9hPSJvcGVyYSI6LTEhPWIuaW5kZXhPZigibXNpZSIpP2E9Im1zaWUiOi0xIT1iLmluZGV4T2YoInNhZmFyaSIpP2E9InNhZmFyaSI6LTEhPWIuaW5kZXhPZigibW96aWxsYSIpJiYoYT0tMSE9Yi5pbmRleE9mKCJmaXJlZm94Iik/ImZpcmVmb3giOiJtb3ppbGxhIik7cmV0dXJuIGF9KCk7T3BlbkxheWVycy5VdGlsLmdldEJyb3dzZXJOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIE9wZW5MYXllcnMuQlJPV1NFUl9OQU1FfTsKT3BlbkxheWVycy5VdGlsLmdldFJlbmRlcmVkRGltZW5zaW9ucz1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Yuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIjtmb3IodmFyIGc9YyYmYy5jb250YWluZXJFbGVtZW50P2MuY29udGFpbmVyRWxlbWVudDpkb2N1bWVudC5ib2R5LGg9ITEsaT1udWxsLGo9ZztqJiYiYm9keSIhPWoudGFnTmFtZS50b0xvd2VyQ2FzZSgpOyl7dmFyIGs9T3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKGosInBvc2l0aW9uIik7aWYoImFic29sdXRlIj09ayl7aD0hMDticmVha31lbHNlIGlmKGsmJiJzdGF0aWMiIT1rKWJyZWFrO2o9ai5wYXJlbnROb2RlfWlmKGgmJigwPT09Zy5jbGllbnRIZWlnaHR8fDA9PT1nLmNsaWVudFdpZHRoKSlpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGkuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIixpLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsaS5zdHlsZS5vdmVyZmxvdz0KInZpc2libGUiLGkuc3R5bGUud2lkdGg9ZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCsicHgiLGkuc3R5bGUuaGVpZ2h0PWRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0KyJweCIsaS5hcHBlbmRDaGlsZChmKTtmLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7YiYmKGIudz8oZD1iLncsZi5zdHlsZS53aWR0aD1kKyJweCIpOmIuaCYmKGU9Yi5oLGYuc3R5bGUuaGVpZ2h0PWUrInB4IikpO2MmJmMuZGlzcGxheUNsYXNzJiYoZi5jbGFzc05hbWU9Yy5kaXNwbGF5Q2xhc3MpO2I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yi5pbm5lckhUTUw9YTtiLnN0eWxlLm92ZXJmbG93PSJ2aXNpYmxlIjtpZihiLmNoaWxkTm9kZXMpe2E9MDtmb3IoYz1iLmNoaWxkTm9kZXMubGVuZ3RoO2E8YzthKyspYi5jaGlsZE5vZGVzW2FdLnN0eWxlJiYoYi5jaGlsZE5vZGVzW2FdLnN0eWxlLm92ZXJmbG93PSJ2aXNpYmxlIil9Zi5hcHBlbmRDaGlsZChiKTtpP2cuYXBwZW5kQ2hpbGQoaSk6Zy5hcHBlbmRDaGlsZChmKTsKZHx8KGQ9cGFyc2VJbnQoYi5zY3JvbGxXaWR0aCksZi5zdHlsZS53aWR0aD1kKyJweCIpO2V8fChlPXBhcnNlSW50KGIuc2Nyb2xsSGVpZ2h0KSk7Zi5yZW1vdmVDaGlsZChiKTtpPyhpLnJlbW92ZUNoaWxkKGYpLGcucmVtb3ZlQ2hpbGQoaSkpOmcucmVtb3ZlQ2hpbGQoZik7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLlNpemUoZCxlKX07Ck9wZW5MYXllcnMuVXRpbC5nZXRTY3JvbGxiYXJXaWR0aD1mdW5jdGlvbigpe3ZhciBhPU9wZW5MYXllcnMuVXRpbC5fc2Nyb2xsYmFyV2lkdGg7aWYobnVsbD09YSl7dmFyIGI9bnVsbCxjPW51bGwsYj1hPTAsYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtiLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7Yi5zdHlsZS50b3A9Ii0xMDAwcHgiO2Iuc3R5bGUubGVmdD0iLTEwMDBweCI7Yi5zdHlsZS53aWR0aD0iMTAwcHgiO2Iuc3R5bGUuaGVpZ2h0PSI1MHB4IjtiLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iO2M9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yy5zdHlsZS53aWR0aD0iMTAwJSI7Yy5zdHlsZS5oZWlnaHQ9IjIwMHB4IjtiLmFwcGVuZENoaWxkKGMpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYik7YT1jLm9mZnNldFdpZHRoO2Iuc3R5bGUub3ZlcmZsb3c9InNjcm9sbCI7Yj1jLm9mZnNldFdpZHRoO2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZG9jdW1lbnQuYm9keS5sYXN0Q2hpbGQpOwpPcGVuTGF5ZXJzLlV0aWwuX3Njcm9sbGJhcldpZHRoPWEtYjthPU9wZW5MYXllcnMuVXRpbC5fc2Nyb2xsYmFyV2lkdGh9cmV0dXJuIGF9OwpPcGVuTGF5ZXJzLlV0aWwuZ2V0Rm9ybWF0dGVkTG9uTGF0PWZ1bmN0aW9uKGEsYixjKXtjfHwoYz0iZG1zIik7dmFyIGE9KGErNTQwKSUzNjAtMTgwLGQ9TWF0aC5hYnMoYSksZT1NYXRoLmZsb29yKGQpLGY9ZD0oZC1lKS8oMS82MCksZD1NYXRoLmZsb29yKGQpLGY9TWF0aC5yb3VuZCgxMCooKGYtZCkvKDEvNjApKSksZj1mLzEwOzYwPD1mJiYoZi09NjAsZCs9MSw2MDw9ZCYmKGQtPTYwLGUrPTEpKTsxMD5lJiYoZT0iMCIrZSk7ZSs9Ilx1MDBiMCI7MDw9Yy5pbmRleE9mKCJkbSIpJiYoMTA+ZCYmKGQ9IjAiK2QpLGUrPWQrIiciLDA8PWMuaW5kZXhPZigiZG1zIikmJigxMD5mJiYoZj0iMCIrZiksZSs9ZisnIicpKTtyZXR1cm4gZT0ibG9uIj09Yj9lKygwPmE/T3BlbkxheWVycy5pMThuKCJXIik6T3BlbkxheWVycy5pMThuKCJFIikpOmUrKDA+YT9PcGVuTGF5ZXJzLmkxOG4oIlMiKTpPcGVuTGF5ZXJzLmkxOG4oIk4iKSl9OwpPcGVuTGF5ZXJzLlV0aWwuZ2V0Q29uc3RydWN0b3I9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEuc3BsaXQoIi4iKSxhPSJPcGVuTGF5ZXJzIj09PWJbMF0/T3BlbkxheWVyczp3aW5kb3dbYlswXV0sYz0xLGQ9Yi5sZW5ndGg7YzxkOysrYylhPWFbYltjXV07cmV0dXJuIGF9O09wZW5MYXllcnMuRm9ybWF0PU9wZW5MYXllcnMuQ2xhc3Moe29wdGlvbnM6bnVsbCxleHRlcm5hbFByb2plY3Rpb246bnVsbCxpbnRlcm5hbFByb2plY3Rpb246bnVsbCxkYXRhOm51bGwsa2VlcERhdGE6ITEsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsYSk7dGhpcy5vcHRpb25zPWF9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt9LHJlYWQ6ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcigiUmVhZCBub3QgaW1wbGVtZW50ZWQuIik7fSx3cml0ZTpmdW5jdGlvbigpe3Rocm93IEVycm9yKCJXcml0ZSBub3QgaW1wbGVtZW50ZWQuIik7fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdCJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5DU1dHZXRSZWNvcmRzPWZ1bmN0aW9uKGEpe3ZhciBhPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGEsT3BlbkxheWVycy5Gb3JtYXQuQ1NXR2V0UmVjb3Jkcy5ERUZBVUxUUyksYj1PcGVuTGF5ZXJzLkZvcm1hdC5DU1dHZXRSZWNvcmRzWyJ2IithLnZlcnNpb24ucmVwbGFjZSgvXC4vZywiXyIpXTtpZighYil0aHJvdyJVbnN1cHBvcnRlZCBDU1dHZXRSZWNvcmRzIHZlcnNpb246ICIrYS52ZXJzaW9uO3JldHVybiBuZXcgYihhKX07T3BlbkxheWVycy5Gb3JtYXQuQ1NXR2V0UmVjb3Jkcy5ERUZBVUxUUz17dmVyc2lvbjoiMi4wLjIifTtPcGVuTGF5ZXJzLkZvcm1hdC5YTUw9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdCx7bmFtZXNwYWNlczpudWxsLG5hbWVzcGFjZUFsaWFzOm51bGwsZGVmYXVsdFByZWZpeDpudWxsLHJlYWRlcnM6e30sd3JpdGVyczp7fSx4bWxkb206bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe3dpbmRvdy5BY3RpdmVYT2JqZWN0JiYodGhpcy54bWxkb209bmV3IEFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKSk7T3BlbkxheWVycy5Gb3JtYXQucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pO3RoaXMubmFtZXNwYWNlcz1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LHRoaXMubmFtZXNwYWNlcyk7dGhpcy5uYW1lc3BhY2VBbGlhcz17fTtmb3IodmFyIGIgaW4gdGhpcy5uYW1lc3BhY2VzKXRoaXMubmFtZXNwYWNlQWxpYXNbdGhpcy5uYW1lc3BhY2VzW2JdXT1ifSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy54bWxkb209bnVsbDtPcGVuTGF5ZXJzLkZvcm1hdC5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLAphcmd1bWVudHMpfSxzZXROYW1lc3BhY2U6ZnVuY3Rpb24oYSxiKXt0aGlzLm5hbWVzcGFjZXNbYV09Yjt0aGlzLm5hbWVzcGFjZUFsaWFzW2JdPWF9LHJlYWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5pbmRleE9mKCI8Iik7MDxiJiYoYT1hLnN1YnN0cmluZyhiKSk7Yj1PcGVuTGF5ZXJzLlV0aWwuVHJ5KE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZChmdW5jdGlvbigpe3ZhciBiO2I9d2luZG93LkFjdGl2ZVhPYmplY3QmJiF0aGlzLnhtbGRvbT9uZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTERPTSIpOnRoaXMueG1sZG9tO2IubG9hZFhNTChhKTtyZXR1cm4gYn0sdGhpcyksZnVuY3Rpb24oKXtyZXR1cm4obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGEsInRleHQveG1sIil9LGZ1bmN0aW9uKCl7dmFyIGI9bmV3IFhNTEh0dHBSZXF1ZXN0O2Iub3BlbigiR0VUIiwiZGF0YTp0ZXh0L3htbDtjaGFyc2V0PXV0Zi04LCIrZW5jb2RlVVJJQ29tcG9uZW50KGEpLCExKTtiLm92ZXJyaWRlTWltZVR5cGUmJgpiLm92ZXJyaWRlTWltZVR5cGUoInRleHQveG1sIik7Yi5zZW5kKG51bGwpO3JldHVybiBiLnJlc3BvbnNlWE1MfSk7dGhpcy5rZWVwRGF0YSYmKHRoaXMuZGF0YT1iKTtyZXR1cm4gYn0sd3JpdGU6ZnVuY3Rpb24oYSl7aWYodGhpcy54bWxkb20pYT1hLnhtbDtlbHNle3ZhciBiPW5ldyBYTUxTZXJpYWxpemVyO2lmKDE9PWEubm9kZVR5cGUpe3ZhciBjPWRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZURvY3VtZW50KCIiLCIiLG51bGwpO2MuaW1wb3J0Tm9kZSYmKGE9Yy5pbXBvcnROb2RlKGEsITApKTtjLmFwcGVuZENoaWxkKGEpO2E9Yi5zZXJpYWxpemVUb1N0cmluZyhjKX1lbHNlIGE9Yi5zZXJpYWxpemVUb1N0cmluZyhhKX1yZXR1cm4gYX0sY3JlYXRlRWxlbWVudE5TOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMueG1sZG9tPyJzdHJpbmciPT10eXBlb2YgYT90aGlzLnhtbGRvbS5jcmVhdGVOb2RlKDEsYixhKTp0aGlzLnhtbGRvbS5jcmVhdGVOb2RlKDEsYiwiIik6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGEsCmIpfSxjcmVhdGVEb2N1bWVudEZyYWdtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueG1sZG9tP3RoaXMueG1sZG9tLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTpkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCl9LGNyZWF0ZVRleHROb2RlOmZ1bmN0aW9uKGEpeyJzdHJpbmciIT09dHlwZW9mIGEmJihhPVN0cmluZyhhKSk7cmV0dXJuIHRoaXMueG1sZG9tP3RoaXMueG1sZG9tLmNyZWF0ZVRleHROb2RlKGEpOmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGEpfSxnZXRFbGVtZW50c0J5VGFnTmFtZU5TOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXTtpZihhLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMpZD1hLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYixjKTtlbHNlIGZvcih2YXIgYT1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIiksZSxmLGc9MCxoPWEubGVuZ3RoO2c8aDsrK2cpaWYoZT1hW2ddLGY9ZS5wcmVmaXg/ZS5wcmVmaXgrIjoiK2M6YywiKiI9PWN8fGY9PWUubm9kZU5hbWUpKCIqIj09CmJ8fGI9PWUubmFtZXNwYWNlVVJJKSYmZC5wdXNoKGUpO3JldHVybiBkfSxnZXRBdHRyaWJ1dGVOb2RlTlM6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW51bGw7aWYoYS5nZXRBdHRyaWJ1dGVOb2RlTlMpZD1hLmdldEF0dHJpYnV0ZU5vZGVOUyhiLGMpO2Vsc2UgZm9yKHZhciBhPWEuYXR0cmlidXRlcyxlLGYsZz0wLGg9YS5sZW5ndGg7ZzxoOysrZylpZihlPWFbZ10sZS5uYW1lc3BhY2VVUkk9PWImJihmPWUucHJlZml4P2UucHJlZml4KyI6IitjOmMsZj09ZS5ub2RlTmFtZSkpe2Q9ZTticmVha31yZXR1cm4gZH0sZ2V0QXR0cmlidXRlTlM6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSIiO2lmKGEuZ2V0QXR0cmlidXRlTlMpZD1hLmdldEF0dHJpYnV0ZU5TKGIsYyl8fCIiO2Vsc2UgaWYoYT10aGlzLmdldEF0dHJpYnV0ZU5vZGVOUyhhLGIsYykpZD1hLm5vZGVWYWx1ZTtyZXR1cm4gZH0sZ2V0Q2hpbGRWYWx1ZTpmdW5jdGlvbihhLGIpe3ZhciBjPWJ8fCIiO2lmKGEpZm9yKHZhciBkPWEuZmlyc3RDaGlsZDtkO2Q9CmQubmV4dFNpYmxpbmcpc3dpdGNoKGQubm9kZVR5cGUpe2Nhc2UgMzpjYXNlIDQ6Yys9ZC5ub2RlVmFsdWV9cmV0dXJuIGN9LGlzU2ltcGxlQ29udGVudDpmdW5jdGlvbihhKXtmb3IodmFyIGI9ITAsYT1hLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpaWYoMT09PWEubm9kZVR5cGUpe2I9ITE7YnJlYWt9cmV0dXJuIGJ9LGNvbnRlbnRUeXBlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0hMSxjPSExLGQ9T3BlbkxheWVycy5Gb3JtYXQuWE1MLkNPTlRFTlRfVFlQRS5FTVBUWSxhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZyl7c3dpdGNoKGEubm9kZVR5cGUpe2Nhc2UgMTpjPSEwO2JyZWFrO2Nhc2UgODpicmVhaztkZWZhdWx0OmI9ITB9aWYoYyYmYilicmVha31pZihjJiZiKWQ9T3BlbkxheWVycy5Gb3JtYXQuWE1MLkNPTlRFTlRfVFlQRS5NSVhFRDtlbHNle2lmKGMpcmV0dXJuIE9wZW5MYXllcnMuRm9ybWF0LlhNTC5DT05URU5UX1RZUEUuQ09NUExFWDtpZihiKXJldHVybiBPcGVuTGF5ZXJzLkZvcm1hdC5YTUwuQ09OVEVOVF9UWVBFLlNJTVBMRX1yZXR1cm4gZH0sCmhhc0F0dHJpYnV0ZU5TOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD0hMTtyZXR1cm4gZD1hLmhhc0F0dHJpYnV0ZU5TP2EuaGFzQXR0cmlidXRlTlMoYixjKTohIXRoaXMuZ2V0QXR0cmlidXRlTm9kZU5TKGEsYixjKX0sc2V0QXR0cmlidXRlTlM6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYS5zZXRBdHRyaWJ1dGVOUylhLnNldEF0dHJpYnV0ZU5TKGIsYyxkKTtlbHNlIGlmKHRoaXMueG1sZG9tKWI/KGI9YS5vd25lckRvY3VtZW50LmNyZWF0ZU5vZGUoMixjLGIpLGIubm9kZVZhbHVlPWQsYS5zZXRBdHRyaWJ1dGVOb2RlKGIpKTphLnNldEF0dHJpYnV0ZShjLGQpO2Vsc2UgdGhyb3cic2V0QXR0cmlidXRlTlMgbm90IGltcGxlbWVudGVkIjt9LGNyZWF0ZUVsZW1lbnROU1BsdXM6ZnVuY3Rpb24oYSxiKXt2YXIgYj1ifHx7fSxjPWIudXJpfHx0aGlzLm5hbWVzcGFjZXNbYi5wcmVmaXhdO2N8fChjPWEuaW5kZXhPZigiOiIpLGM9dGhpcy5uYW1lc3BhY2VzW2Euc3Vic3RyaW5nKDAsYyldKTtjfHwKKGM9dGhpcy5uYW1lc3BhY2VzW3RoaXMuZGVmYXVsdFByZWZpeF0pO2M9dGhpcy5jcmVhdGVFbGVtZW50TlMoYyxhKTtiLmF0dHJpYnV0ZXMmJnRoaXMuc2V0QXR0cmlidXRlcyhjLGIuYXR0cmlidXRlcyk7dmFyIGQ9Yi52YWx1ZTtudWxsIT1kJiZjLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlVGV4dE5vZGUoZCkpO3JldHVybiBjfSxzZXRBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlO2ZvcihlIGluIGIpbnVsbCE9YltlXSYmYltlXS50b1N0cmluZyYmKGM9YltlXS50b1N0cmluZygpLGQ9dGhpcy5uYW1lc3BhY2VzW2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCI6IikpXXx8bnVsbCx0aGlzLnNldEF0dHJpYnV0ZU5TKGEsZCxlLGMpKX0scmVhZE5vZGU6ZnVuY3Rpb24oYSxiKXtifHwoYj17fSk7dmFyIGM9dGhpcy5yZWFkZXJzW2EubmFtZXNwYWNlVVJJP3RoaXMubmFtZXNwYWNlQWxpYXNbYS5uYW1lc3BhY2VVUkldOnRoaXMuZGVmYXVsdFByZWZpeF07aWYoYyl7dmFyIGQ9CmEubG9jYWxOYW1lfHxhLm5vZGVOYW1lLnNwbGl0KCI6IikucG9wKCk7KGM9Y1tkXXx8Y1siKiJdKSYmYy5hcHBseSh0aGlzLFthLGJdKX1yZXR1cm4gYn0scmVhZENoaWxkTm9kZXM6ZnVuY3Rpb24oYSxiKXtifHwoYj17fSk7Zm9yKHZhciBjPWEuY2hpbGROb2RlcyxkLGU9MCxmPWMubGVuZ3RoO2U8ZjsrK2UpZD1jW2VdLDE9PWQubm9kZVR5cGUmJnRoaXMucmVhZE5vZGUoZCxiKTtyZXR1cm4gYn0sd3JpdGVOb2RlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPWEuaW5kZXhPZigiOiIpOzA8ZT8oZD1hLnN1YnN0cmluZygwLGUpLGE9YS5zdWJzdHJpbmcoZSsxKSk6ZD1jP3RoaXMubmFtZXNwYWNlQWxpYXNbYy5uYW1lc3BhY2VVUkldOnRoaXMuZGVmYXVsdFByZWZpeDtiPXRoaXMud3JpdGVyc1tkXVthXS5hcHBseSh0aGlzLFtiXSk7YyYmYy5hcHBlbmRDaGlsZChiKTtyZXR1cm4gYn0sZ2V0Q2hpbGRFbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGEmJnRoaXMuZ2V0VGhpc09yTmV4dEVsKGEuZmlyc3RDaGlsZCwKYixjKX0sZ2V0TmV4dEVsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYSYmdGhpcy5nZXRUaGlzT3JOZXh0RWwoYS5uZXh0U2libGluZyxiLGMpfSxnZXRUaGlzT3JOZXh0RWw6ZnVuY3Rpb24oYSxiLGMpe2E6Zm9yKDthO2E9YS5uZXh0U2libGluZylzd2l0Y2goYS5ub2RlVHlwZSl7Y2FzZSAxOmlmKCghYnx8Yj09PShhLmxvY2FsTmFtZXx8YS5ub2RlTmFtZS5zcGxpdCgiOiIpLnBvcCgpKSkmJighY3x8Yz09PWEubmFtZXNwYWNlVVJJKSlicmVhayBhO2E9bnVsbDticmVhayBhO2Nhc2UgMzppZigvXlxzKiQvLnRlc3QoYS5ub2RlVmFsdWUpKWJyZWFrO2Nhc2UgNDpjYXNlIDY6Y2FzZSAxMjpjYXNlIDEwOmNhc2UgMTE6YT1udWxsO2JyZWFrIGF9cmV0dXJuIGF8fG51bGx9LGxvb2t1cE5hbWVzcGFjZVVSSTpmdW5jdGlvbihhLGIpe3ZhciBjPW51bGw7aWYoYSlpZihhLmxvb2t1cE5hbWVzcGFjZVVSSSljPWEubG9va3VwTmFtZXNwYWNlVVJJKGIpO2Vsc2UgYTpzd2l0Y2goYS5ub2RlVHlwZSl7Y2FzZSAxOmlmKG51bGwhPT0KYS5uYW1lc3BhY2VVUkkmJmEucHJlZml4PT09Yil7Yz1hLm5hbWVzcGFjZVVSSTticmVhayBhfWlmKGM9YS5hdHRyaWJ1dGVzLmxlbmd0aClmb3IodmFyIGQsZT0wO2U8YzsrK2UpaWYoZD1hLmF0dHJpYnV0ZXNbZV0sInhtbG5zIj09PWQucHJlZml4JiZkLm5hbWU9PT0ieG1sbnM6IitiKXtjPWQudmFsdWV8fG51bGw7YnJlYWsgYX1lbHNlIGlmKCJ4bWxucyI9PT1kLm5hbWUmJm51bGw9PT1iKXtjPWQudmFsdWV8fG51bGw7YnJlYWsgYX1jPXRoaXMubG9va3VwTmFtZXNwYWNlVVJJKGEucGFyZW50Tm9kZSxiKTticmVhayBhO2Nhc2UgMjpjPXRoaXMubG9va3VwTmFtZXNwYWNlVVJJKGEub3duZXJFbGVtZW50LGIpO2JyZWFrIGE7Y2FzZSA5OmM9dGhpcy5sb29rdXBOYW1lc3BhY2VVUkkoYS5kb2N1bWVudEVsZW1lbnQsYik7YnJlYWsgYTtjYXNlIDY6Y2FzZSAxMjpjYXNlIDEwOmNhc2UgMTE6YnJlYWsgYTtkZWZhdWx0OmM9dGhpcy5sb29rdXBOYW1lc3BhY2VVUkkoYS5wYXJlbnROb2RlLApiKX1yZXR1cm4gY30sZ2V0WE1MRG9jOmZ1bmN0aW9uKCl7IU9wZW5MYXllcnMuRm9ybWF0LlhNTC5kb2N1bWVudCYmIXRoaXMueG1sZG9tJiYoZG9jdW1lbnQuaW1wbGVtZW50YXRpb24mJmRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZURvY3VtZW50P09wZW5MYXllcnMuRm9ybWF0LlhNTC5kb2N1bWVudD1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVEb2N1bWVudCgiIiwiIixudWxsKTohdGhpcy54bWxkb20mJndpbmRvdy5BY3RpdmVYT2JqZWN0JiYodGhpcy54bWxkb209bmV3IEFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKSkpO3JldHVybiBPcGVuTGF5ZXJzLkZvcm1hdC5YTUwuZG9jdW1lbnR8fHRoaXMueG1sZG9tfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5YTUwifSk7T3BlbkxheWVycy5Gb3JtYXQuWE1MLkNPTlRFTlRfVFlQRT17RU1QVFk6MCxTSU1QTEU6MSxDT01QTEVYOjIsTUlYRUQ6M307Ck9wZW5MYXllcnMuRm9ybWF0LlhNTC5sb29rdXBOYW1lc3BhY2VVUkk9T3BlbkxheWVycy5GdW5jdGlvbi5iaW5kKE9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUubG9va3VwTmFtZXNwYWNlVVJJLE9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUpO09wZW5MYXllcnMuRm9ybWF0LlhNTC5kb2N1bWVudD1udWxsO09wZW5MYXllcnMuRmVhdHVyZT1PcGVuTGF5ZXJzLkNsYXNzKHtsYXllcjpudWxsLGlkOm51bGwsbG9ubGF0Om51bGwsZGF0YTpudWxsLG1hcmtlcjpudWxsLHBvcHVwQ2xhc3M6bnVsbCxwb3B1cDpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMpe3RoaXMubGF5ZXI9YTt0aGlzLmxvbmxhdD1iO3RoaXMuZGF0YT1udWxsIT1jP2M6e307dGhpcy5pZD1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlVW5pcXVlSUQodGhpcy5DTEFTU19OQU1FKyJfIil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtudWxsIT10aGlzLmxheWVyJiZudWxsIT10aGlzLmxheWVyLm1hcCYmbnVsbCE9dGhpcy5wb3B1cCYmdGhpcy5sYXllci5tYXAucmVtb3ZlUG9wdXAodGhpcy5wb3B1cCk7bnVsbCE9dGhpcy5sYXllciYmbnVsbCE9dGhpcy5tYXJrZXImJnRoaXMubGF5ZXIucmVtb3ZlTWFya2VyKHRoaXMubWFya2VyKTt0aGlzLmRhdGE9dGhpcy5sb25sYXQ9dGhpcy5pZD10aGlzLmxheWVyPW51bGw7bnVsbCE9dGhpcy5tYXJrZXImJgoodGhpcy5kZXN0cm95TWFya2VyKHRoaXMubWFya2VyKSx0aGlzLm1hcmtlcj1udWxsKTtudWxsIT10aGlzLnBvcHVwJiYodGhpcy5kZXN0cm95UG9wdXAodGhpcy5wb3B1cCksdGhpcy5wb3B1cD1udWxsKX0sb25TY3JlZW46ZnVuY3Rpb24oKXt2YXIgYT0hMTtudWxsIT10aGlzLmxheWVyJiZudWxsIT10aGlzLmxheWVyLm1hcCYmKGE9dGhpcy5sYXllci5tYXAuZ2V0RXh0ZW50KCkuY29udGFpbnNMb25MYXQodGhpcy5sb25sYXQpKTtyZXR1cm4gYX0sY3JlYXRlTWFya2VyOmZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5sb25sYXQmJih0aGlzLm1hcmtlcj1uZXcgT3BlbkxheWVycy5NYXJrZXIodGhpcy5sb25sYXQsdGhpcy5kYXRhLmljb24pKTtyZXR1cm4gdGhpcy5tYXJrZXJ9LGRlc3Ryb3lNYXJrZXI6ZnVuY3Rpb24oKXt0aGlzLm1hcmtlci5kZXN0cm95KCl9LGNyZWF0ZVBvcHVwOmZ1bmN0aW9uKGEpe251bGwhPXRoaXMubG9ubGF0JiYodGhpcy5wb3B1cHx8KHRoaXMucG9wdXA9bmV3ICh0aGlzLnBvcHVwQ2xhc3M/CnRoaXMucG9wdXBDbGFzczpPcGVuTGF5ZXJzLlBvcHVwLkFuY2hvcmVkKSh0aGlzLmlkKyJfcG9wdXAiLHRoaXMubG9ubGF0LHRoaXMuZGF0YS5wb3B1cFNpemUsdGhpcy5kYXRhLnBvcHVwQ29udGVudEhUTUwsdGhpcy5tYXJrZXI/dGhpcy5tYXJrZXIuaWNvbjpudWxsLGEpKSxudWxsIT10aGlzLmRhdGEub3ZlcmZsb3cmJih0aGlzLnBvcHVwLmNvbnRlbnREaXYuc3R5bGUub3ZlcmZsb3c9dGhpcy5kYXRhLm92ZXJmbG93KSx0aGlzLnBvcHVwLmZlYXR1cmU9dGhpcyk7cmV0dXJuIHRoaXMucG9wdXB9LGRlc3Ryb3lQb3B1cDpmdW5jdGlvbigpe3RoaXMucG9wdXAmJih0aGlzLnBvcHVwLmZlYXR1cmU9bnVsbCx0aGlzLnBvcHVwLmRlc3Ryb3koKSx0aGlzLnBvcHVwPW51bGwpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZlYXR1cmUifSk7T3BlbkxheWVycy5TdGF0ZT17VU5LTk9XTjoiVW5rbm93biIsSU5TRVJUOiJJbnNlcnQiLFVQREFURToiVXBkYXRlIixERUxFVEU6IkRlbGV0ZSJ9OwpPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5GZWF0dXJlLHtmaWQ6bnVsbCxnZW9tZXRyeTpudWxsLGF0dHJpYnV0ZXM6bnVsbCxib3VuZHM6bnVsbCxzdGF0ZTpudWxsLHN0eWxlOm51bGwsdXJsOm51bGwscmVuZGVySW50ZW50OiJkZWZhdWx0Iixtb2RpZmllZDpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMpe09wZW5MYXllcnMuRmVhdHVyZS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFtudWxsLG51bGwsYl0pO3RoaXMubG9ubGF0PW51bGw7dGhpcy5nZW9tZXRyeT1hP2E6bnVsbDt0aGlzLnN0YXRlPW51bGw7dGhpcy5hdHRyaWJ1dGVzPXt9O2ImJih0aGlzLmF0dHJpYnV0ZXM9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh0aGlzLmF0dHJpYnV0ZXMsYikpO3RoaXMuc3R5bGU9Yz9jOm51bGx9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmxheWVyJiYodGhpcy5sYXllci5yZW1vdmVGZWF0dXJlcyh0aGlzKSx0aGlzLmxheWVyPQpudWxsKTt0aGlzLm1vZGlmaWVkPXRoaXMuZ2VvbWV0cnk9bnVsbDtPcGVuTGF5ZXJzLkZlYXR1cmUucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3Rvcih0aGlzLmdlb21ldHJ5P3RoaXMuZ2VvbWV0cnkuY2xvbmUoKTpudWxsLHRoaXMuYXR0cmlidXRlcyx0aGlzLnN0eWxlKX0sb25TY3JlZW46ZnVuY3Rpb24oYSl7dmFyIGI9ITE7dGhpcy5sYXllciYmdGhpcy5sYXllci5tYXAmJihiPXRoaXMubGF5ZXIubWFwLmdldEV4dGVudCgpLGE/KGE9dGhpcy5nZW9tZXRyeS5nZXRCb3VuZHMoKSxiPWIuaW50ZXJzZWN0c0JvdW5kcyhhKSk6Yj1iLnRvR2VvbWV0cnkoKS5pbnRlcnNlY3RzKHRoaXMuZ2VvbWV0cnkpKTtyZXR1cm4gYn0sZ2V0VmlzaWJpbGl0eTpmdW5jdGlvbigpe3JldHVybiEodGhpcy5zdHlsZSYmIm5vbmUiPT10aGlzLnN0eWxlLmRpc3BsYXl8fCF0aGlzLmxheWVyfHwKdGhpcy5sYXllciYmdGhpcy5sYXllci5zdHlsZU1hcCYmIm5vbmUiPT10aGlzLmxheWVyLnN0eWxlTWFwLmNyZWF0ZVN5bWJvbGl6ZXIodGhpcyx0aGlzLnJlbmRlckludGVudCkuZGlzcGxheXx8dGhpcy5sYXllciYmIXRoaXMubGF5ZXIuZ2V0VmlzaWJpbGl0eSgpKX0sY3JlYXRlTWFya2VyOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGRlc3Ryb3lNYXJrZXI6ZnVuY3Rpb24oKXt9LGNyZWF0ZVBvcHVwOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGF0UG9pbnQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSExO3RoaXMuZ2VvbWV0cnkmJihkPXRoaXMuZ2VvbWV0cnkuYXRQb2ludChhLGIsYykpO3JldHVybiBkfSxkZXN0cm95UG9wdXA6ZnVuY3Rpb24oKXt9LG1vdmU6ZnVuY3Rpb24oYSl7aWYodGhpcy5sYXllciYmdGhpcy5nZW9tZXRyeS5tb3ZlKXt2YXIgYT0iT3BlbkxheWVycy5Mb25MYXQiPT1hLkNMQVNTX05BTUU/dGhpcy5sYXllci5nZXRWaWV3UG9ydFB4RnJvbUxvbkxhdChhKTphLApiPXRoaXMubGF5ZXIuZ2V0Vmlld1BvcnRQeEZyb21Mb25MYXQodGhpcy5nZW9tZXRyeS5nZXRCb3VuZHMoKS5nZXRDZW50ZXJMb25MYXQoKSksYz10aGlzLmxheWVyLm1hcC5nZXRSZXNvbHV0aW9uKCk7dGhpcy5nZW9tZXRyeS5tb3ZlKGMqKGEueC1iLngpLGMqKGIueS1hLnkpKTt0aGlzLmxheWVyLmRyYXdGZWF0dXJlKHRoaXMpO3JldHVybiBifX0sdG9TdGF0ZTpmdW5jdGlvbihhKXtpZihhPT1PcGVuTGF5ZXJzLlN0YXRlLlVQREFURSlzd2l0Y2godGhpcy5zdGF0ZSl7Y2FzZSBPcGVuTGF5ZXJzLlN0YXRlLlVOS05PV046Y2FzZSBPcGVuTGF5ZXJzLlN0YXRlLkRFTEVURTp0aGlzLnN0YXRlPWF9ZWxzZSBpZihhPT1PcGVuTGF5ZXJzLlN0YXRlLklOU0VSVClzd2l0Y2godGhpcy5zdGF0ZSl7Y2FzZSBPcGVuTGF5ZXJzLlN0YXRlLlVOS05PV046YnJlYWs7ZGVmYXVsdDp0aGlzLnN0YXRlPWF9ZWxzZSBpZihhPT1PcGVuTGF5ZXJzLlN0YXRlLkRFTEVURSlzd2l0Y2godGhpcy5zdGF0ZSl7Y2FzZSBPcGVuTGF5ZXJzLlN0YXRlLlVOS05PV046Y2FzZSBPcGVuTGF5ZXJzLlN0YXRlLlVQREFURTp0aGlzLnN0YXRlPQphfWVsc2UgYT09T3BlbkxheWVycy5TdGF0ZS5VTktOT1dOJiYodGhpcy5zdGF0ZT1hKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvciJ9KTsKT3BlbkxheWVycy5GZWF0dXJlLlZlY3Rvci5zdHlsZT17ImRlZmF1bHQiOntmaWxsQ29sb3I6IiNlZTk5MDAiLGZpbGxPcGFjaXR5OjAuNCxob3ZlckZpbGxDb2xvcjoid2hpdGUiLGhvdmVyRmlsbE9wYWNpdHk6MC44LHN0cm9rZUNvbG9yOiIjZWU5OTAwIixzdHJva2VPcGFjaXR5OjEsc3Ryb2tlV2lkdGg6MSxzdHJva2VMaW5lY2FwOiJyb3VuZCIsc3Ryb2tlRGFzaHN0eWxlOiJzb2xpZCIsaG92ZXJTdHJva2VDb2xvcjoicmVkIixob3ZlclN0cm9rZU9wYWNpdHk6MSxob3ZlclN0cm9rZVdpZHRoOjAuMixwb2ludFJhZGl1czo2LGhvdmVyUG9pbnRSYWRpdXM6MSxob3ZlclBvaW50VW5pdDoiJSIscG9pbnRlckV2ZW50czoidmlzaWJsZVBhaW50ZWQiLGN1cnNvcjoiaW5oZXJpdCIsZm9udENvbG9yOiIjMDAwMDAwIixsYWJlbEFsaWduOiJjbSIsbGFiZWxPdXRsaW5lQ29sb3I6IndoaXRlIixsYWJlbE91dGxpbmVXaWR0aDozfSxzZWxlY3Q6e2ZpbGxDb2xvcjoiYmx1ZSIsZmlsbE9wYWNpdHk6MC40LApob3ZlckZpbGxDb2xvcjoid2hpdGUiLGhvdmVyRmlsbE9wYWNpdHk6MC44LHN0cm9rZUNvbG9yOiJibHVlIixzdHJva2VPcGFjaXR5OjEsc3Ryb2tlV2lkdGg6MixzdHJva2VMaW5lY2FwOiJyb3VuZCIsc3Ryb2tlRGFzaHN0eWxlOiJzb2xpZCIsaG92ZXJTdHJva2VDb2xvcjoicmVkIixob3ZlclN0cm9rZU9wYWNpdHk6MSxob3ZlclN0cm9rZVdpZHRoOjAuMixwb2ludFJhZGl1czo2LGhvdmVyUG9pbnRSYWRpdXM6MSxob3ZlclBvaW50VW5pdDoiJSIscG9pbnRlckV2ZW50czoidmlzaWJsZVBhaW50ZWQiLGN1cnNvcjoicG9pbnRlciIsZm9udENvbG9yOiIjMDAwMDAwIixsYWJlbEFsaWduOiJjbSIsbGFiZWxPdXRsaW5lQ29sb3I6IndoaXRlIixsYWJlbE91dGxpbmVXaWR0aDozfSx0ZW1wb3Jhcnk6e2ZpbGxDb2xvcjoiIzY2Y2NjYyIsZmlsbE9wYWNpdHk6MC4yLGhvdmVyRmlsbENvbG9yOiJ3aGl0ZSIsaG92ZXJGaWxsT3BhY2l0eTowLjgsc3Ryb2tlQ29sb3I6IiM2NmNjY2MiLHN0cm9rZU9wYWNpdHk6MSwKc3Ryb2tlTGluZWNhcDoicm91bmQiLHN0cm9rZVdpZHRoOjIsc3Ryb2tlRGFzaHN0eWxlOiJzb2xpZCIsaG92ZXJTdHJva2VDb2xvcjoicmVkIixob3ZlclN0cm9rZU9wYWNpdHk6MSxob3ZlclN0cm9rZVdpZHRoOjAuMixwb2ludFJhZGl1czo2LGhvdmVyUG9pbnRSYWRpdXM6MSxob3ZlclBvaW50VW5pdDoiJSIscG9pbnRlckV2ZW50czoidmlzaWJsZVBhaW50ZWQiLGN1cnNvcjoiaW5oZXJpdCIsZm9udENvbG9yOiIjMDAwMDAwIixsYWJlbEFsaWduOiJjbSIsbGFiZWxPdXRsaW5lQ29sb3I6IndoaXRlIixsYWJlbE91dGxpbmVXaWR0aDozfSwiZGVsZXRlIjp7ZGlzcGxheToibm9uZSJ9fTtPcGVuTGF5ZXJzLkdlb21ldHJ5PU9wZW5MYXllcnMuQ2xhc3Moe2lkOm51bGwscGFyZW50Om51bGwsYm91bmRzOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbigpe3RoaXMuaWQ9T3BlbkxheWVycy5VdGlsLmNyZWF0ZVVuaXF1ZUlEKHRoaXMuQ0xBU1NfTkFNRSsiXyIpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5ib3VuZHM9dGhpcy5pZD1udWxsfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgT3BlbkxheWVycy5HZW9tZXRyeX0sc2V0Qm91bmRzOmZ1bmN0aW9uKGEpe2EmJih0aGlzLmJvdW5kcz1hLmNsb25lKCkpfSxjbGVhckJvdW5kczpmdW5jdGlvbigpe3RoaXMuYm91bmRzPW51bGw7dGhpcy5wYXJlbnQmJnRoaXMucGFyZW50LmNsZWFyQm91bmRzKCl9LGV4dGVuZEJvdW5kczpmdW5jdGlvbihhKXt0aGlzLmdldEJvdW5kcygpP3RoaXMuYm91bmRzLmV4dGVuZChhKTp0aGlzLnNldEJvdW5kcyhhKX0sZ2V0Qm91bmRzOmZ1bmN0aW9uKCl7bnVsbD09dGhpcy5ib3VuZHMmJnRoaXMuY2FsY3VsYXRlQm91bmRzKCk7CnJldHVybiB0aGlzLmJvdW5kc30sY2FsY3VsYXRlQm91bmRzOmZ1bmN0aW9uKCl7fSxkaXN0YW5jZVRvOmZ1bmN0aW9uKCl7fSxnZXRWZXJ0aWNlczpmdW5jdGlvbigpe30sYXRQb2ludDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9ITE7bnVsbCE9dGhpcy5nZXRCb3VuZHMoKSYmbnVsbCE9YSYmKGI9bnVsbCE9Yj9iOjAsYz1udWxsIT1jP2M6MCxkPShuZXcgT3BlbkxheWVycy5Cb3VuZHModGhpcy5ib3VuZHMubGVmdC1iLHRoaXMuYm91bmRzLmJvdHRvbS1jLHRoaXMuYm91bmRzLnJpZ2h0K2IsdGhpcy5ib3VuZHMudG9wK2MpKS5jb250YWluc0xvbkxhdChhKSk7cmV0dXJuIGR9LGdldExlbmd0aDpmdW5jdGlvbigpe3JldHVybiAwfSxnZXRBcmVhOmZ1bmN0aW9uKCl7cmV0dXJuIDB9LGdldENlbnRyb2lkOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIE9wZW5MYXllcnMuRm9ybWF0JiZPcGVuTGF5ZXJzLkZvcm1hdC5XS1Q/T3BlbkxheWVycy5Gb3JtYXQuV0tULnByb3RvdHlwZS53cml0ZShuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3Rvcih0aGlzKSk6Ck9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0aGlzKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5HZW9tZXRyeSJ9KTtPcGVuTGF5ZXJzLkdlb21ldHJ5LmZyb21XS1Q9ZnVuY3Rpb24oYSl7dmFyIGI7aWYoT3BlbkxheWVycy5Gb3JtYXQmJk9wZW5MYXllcnMuRm9ybWF0LldLVCl7dmFyIGM9T3BlbkxheWVycy5HZW9tZXRyeS5mcm9tV0tULmZvcm1hdDtjfHwoYz1uZXcgT3BlbkxheWVycy5Gb3JtYXQuV0tULE9wZW5MYXllcnMuR2VvbWV0cnkuZnJvbVdLVC5mb3JtYXQ9Yyk7YT1jLnJlYWQoYSk7aWYoYSBpbnN0YW5jZW9mIE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IpYj1hLmdlb21ldHJ5O2Vsc2UgaWYoT3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSkpe2I9YS5sZW5ndGg7Zm9yKHZhciBjPUFycmF5KGIpLGQ9MDtkPGI7KytkKWNbZF09YVtkXS5nZW9tZXRyeTtiPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LkNvbGxlY3Rpb24oYyl9fXJldHVybiBifTsKT3BlbkxheWVycy5HZW9tZXRyeS5zZWdtZW50c0ludGVyc2VjdD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YyYmYy5wb2ludCxjPWMmJmMudG9sZXJhbmNlLGU9ITEsZj1hLngxLWIueDEsZz1hLnkxLWIueTEsaD1hLngyLWEueDEsaT1hLnkyLWEueTEsaj1iLnkyLWIueTEsaz1iLngyLWIueDEsbD1qKmgtayppLGo9aypnLWoqZixnPWgqZy1pKmY7MD09bD8wPT1qJiYwPT1nJiYoZT0hMCk6KGY9ai9sLGw9Zy9sLDA8PWYmJigxPj1mJiYwPD1sJiYxPj1sKSYmKGQ/KGg9YS54MStmKmgsbD1hLnkxK2YqaSxlPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGgsbCkpOmU9ITApKTtpZihjKWlmKGUpe2lmKGQpe2E9W2EsYl07Yj0wO2E6Zm9yKDsyPmI7KytiKXtmPWFbYl07Zm9yKGk9MTszPmk7KytpKWlmKGg9ZlsieCIraV0sbD1mWyJ5IitpXSxkPU1hdGguc3FydChNYXRoLnBvdyhoLWUueCwyKStNYXRoLnBvdyhsLWUueSwyKSksZDxjKXtlLng9aDtlLnk9bDticmVhayBhfX19fWVsc2V7YT0KW2EsYl07Yj0wO2E6Zm9yKDsyPmI7KytiKXtoPWFbYl07bD1hWyhiKzEpJTJdO2ZvcihpPTE7Mz5pOysraSlpZihmPXt4OmhbIngiK2ldLHk6aFsieSIraV19LGc9T3BlbkxheWVycy5HZW9tZXRyeS5kaXN0YW5jZVRvU2VnbWVudChmLGwpLGcuZGlzdGFuY2U8Yyl7ZT1kP25ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGYueCxmLnkpOiEwO2JyZWFrIGF9fX1yZXR1cm4gZX07T3BlbkxheWVycy5HZW9tZXRyeS5kaXN0YW5jZVRvU2VnbWVudD1mdW5jdGlvbihhLGIpe3ZhciBjPU9wZW5MYXllcnMuR2VvbWV0cnkuZGlzdGFuY2VTcXVhcmVkVG9TZWdtZW50KGEsYik7Yy5kaXN0YW5jZT1NYXRoLnNxcnQoYy5kaXN0YW5jZSk7cmV0dXJuIGN9OwpPcGVuTGF5ZXJzLkdlb21ldHJ5LmRpc3RhbmNlU3F1YXJlZFRvU2VnbWVudD1mdW5jdGlvbihhLGIpe3ZhciBjPWEueCxkPWEueSxlPWIueDEsZj1iLnkxLGc9Yi54MixoPWIueTIsaT1nLWUsaj1oLWYsaz0oaSooYy1lKStqKihkLWYpKS8oTWF0aC5wb3coaSwyKStNYXRoLnBvdyhqLDIpKTswPj1rfHwoMTw9az8oZT1nLGY9aCk6KGUrPWsqaSxmKz1rKmopKTtyZXR1cm57ZGlzdGFuY2U6TWF0aC5wb3coZS1jLDIpK01hdGgucG93KGYtZCwyKSx4OmUseTpmLGFsb25nOmt9fTtPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50PU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5HZW9tZXRyeSx7eDpudWxsLHk6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYil7T3BlbkxheWVycy5HZW9tZXRyeS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy54PXBhcnNlRmxvYXQoYSk7dGhpcy55PXBhcnNlRmxvYXQoYil9LGNsb25lOmZ1bmN0aW9uKGEpe251bGw9PWEmJihhPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHRoaXMueCx0aGlzLnkpKTtPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLHRoaXMpO3JldHVybiBhfSxjYWxjdWxhdGVCb3VuZHM6ZnVuY3Rpb24oKXt0aGlzLmJvdW5kcz1uZXcgT3BlbkxheWVycy5Cb3VuZHModGhpcy54LHRoaXMueSx0aGlzLngsdGhpcy55KX0sZGlzdGFuY2VUbzpmdW5jdGlvbihhLGIpe3ZhciBjPSEoYiYmITE9PT1iLmVkZ2UpJiZiJiZiLmRldGFpbHMsZCxlLGYsZyxoO2EgaW5zdGFuY2VvZgpPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50PyhlPXRoaXMueCxmPXRoaXMueSxnPWEueCxoPWEueSxkPU1hdGguc3FydChNYXRoLnBvdyhlLWcsMikrTWF0aC5wb3coZi1oLDIpKSxkPSFjP2Q6e3gwOmUseTA6Zix4MTpnLHkxOmgsZGlzdGFuY2U6ZH0pOihkPWEuZGlzdGFuY2VUbyh0aGlzLGIpLGMmJihkPXt4MDpkLngxLHkwOmQueTEseDE6ZC54MCx5MTpkLnkwLGRpc3RhbmNlOmQuZGlzdGFuY2V9KSk7cmV0dXJuIGR9LGVxdWFsczpmdW5jdGlvbihhKXt2YXIgYj0hMTtudWxsIT1hJiYoYj10aGlzLng9PWEueCYmdGhpcy55PT1hLnl8fGlzTmFOKHRoaXMueCkmJmlzTmFOKHRoaXMueSkmJmlzTmFOKGEueCkmJmlzTmFOKGEueSkpO3JldHVybiBifSx0b1Nob3J0U3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueCsiLCAiK3RoaXMueX0sbW92ZTpmdW5jdGlvbihhLGIpe3RoaXMueCs9YTt0aGlzLnkrPWI7dGhpcy5jbGVhckJvdW5kcygpfSxyb3RhdGU6ZnVuY3Rpb24oYSxiKXt2YXIgYT0KYSooTWF0aC5QSS8xODApLGM9dGhpcy5kaXN0YW5jZVRvKGIpLGQ9YStNYXRoLmF0YW4yKHRoaXMueS1iLnksdGhpcy54LWIueCk7dGhpcy54PWIueCtjKk1hdGguY29zKGQpO3RoaXMueT1iLnkrYypNYXRoLnNpbihkKTt0aGlzLmNsZWFyQm91bmRzKCl9LGdldENlbnRyb2lkOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHRoaXMueCx0aGlzLnkpfSxyZXNpemU6ZnVuY3Rpb24oYSxiLGMpe3RoaXMueD1iLngrYSoodm9pZCAwPT1jPzE6YykqKHRoaXMueC1iLngpO3RoaXMueT1iLnkrYSoodGhpcy55LWIueSk7dGhpcy5jbGVhckJvdW5kcygpO3JldHVybiB0aGlzfSxpbnRlcnNlY3RzOmZ1bmN0aW9uKGEpe3ZhciBiPSExO3JldHVybiBiPSJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50Ij09YS5DTEFTU19OQU1FP3RoaXMuZXF1YWxzKGEpOmEuaW50ZXJzZWN0cyh0aGlzKX0sdHJhbnNmb3JtOmZ1bmN0aW9uKGEsYil7YSYmYiYmKE9wZW5MYXllcnMuUHJvamVjdGlvbi50cmFuc2Zvcm0odGhpcywKYSxiKSx0aGlzLmJvdW5kcz1udWxsKTtyZXR1cm4gdGhpc30sZ2V0VmVydGljZXM6ZnVuY3Rpb24oKXtyZXR1cm5bdGhpc119LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQifSk7T3BlbkxheWVycy5HZW9tZXRyeS5Db2xsZWN0aW9uPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5HZW9tZXRyeSx7Y29tcG9uZW50czpudWxsLGNvbXBvbmVudFR5cGVzOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkdlb21ldHJ5LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmNvbXBvbmVudHM9W107bnVsbCE9YSYmdGhpcy5hZGRDb21wb25lbnRzKGEpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5jb21wb25lbnRzLmxlbmd0aD0wO3RoaXMuY29tcG9uZW50cz1udWxsO09wZW5MYXllcnMuR2VvbWV0cnkucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxjbG9uZTpmdW5jdGlvbigpe2Zvcih2YXIgYT1uZXcgKE9wZW5MYXllcnMuVXRpbC5nZXRDb25zdHJ1Y3Rvcih0aGlzLkNMQVNTX05BTUUpKSxiPTAsYz10aGlzLmNvbXBvbmVudHMubGVuZ3RoO2I8YztiKyspYS5hZGRDb21wb25lbnQodGhpcy5jb21wb25lbnRzW2JdLmNsb25lKCkpOwpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLHRoaXMpO3JldHVybiBhfSxnZXRDb21wb25lbnRzU3RyaW5nOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGI9MCxjPXRoaXMuY29tcG9uZW50cy5sZW5ndGg7YjxjO2IrKylhLnB1c2godGhpcy5jb21wb25lbnRzW2JdLnRvU2hvcnRTdHJpbmcoKSk7cmV0dXJuIGEuam9pbigiLCIpfSxjYWxjdWxhdGVCb3VuZHM6ZnVuY3Rpb24oKXt0aGlzLmJvdW5kcz1udWxsO3ZhciBhPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyxiPXRoaXMuY29tcG9uZW50cztpZihiKWZvcih2YXIgYz0wLGQ9Yi5sZW5ndGg7YzxkO2MrKylhLmV4dGVuZChiW2NdLmdldEJvdW5kcygpKTtudWxsIT1hLmxlZnQmJihudWxsIT1hLmJvdHRvbSYmbnVsbCE9YS5yaWdodCYmbnVsbCE9YS50b3ApJiZ0aGlzLnNldEJvdW5kcyhhKX0sYWRkQ29tcG9uZW50czpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShhKXx8KGE9W2FdKTtmb3IodmFyIGI9MCxjPWEubGVuZ3RoO2I8CmM7YisrKXRoaXMuYWRkQ29tcG9uZW50KGFbYl0pfSxhZGRDb21wb25lbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz0hMTtpZihhJiYobnVsbD09dGhpcy5jb21wb25lbnRUeXBlc3x8LTE8T3BlbkxheWVycy5VdGlsLmluZGV4T2YodGhpcy5jb21wb25lbnRUeXBlcyxhLkNMQVNTX05BTUUpKSl7aWYobnVsbCE9YiYmYjx0aGlzLmNvbXBvbmVudHMubGVuZ3RoKXt2YXIgYz10aGlzLmNvbXBvbmVudHMuc2xpY2UoMCxiKSxkPXRoaXMuY29tcG9uZW50cy5zbGljZShiLHRoaXMuY29tcG9uZW50cy5sZW5ndGgpO2MucHVzaChhKTt0aGlzLmNvbXBvbmVudHM9Yy5jb25jYXQoZCl9ZWxzZSB0aGlzLmNvbXBvbmVudHMucHVzaChhKTthLnBhcmVudD10aGlzO3RoaXMuY2xlYXJCb3VuZHMoKTtjPSEwfXJldHVybiBjfSxyZW1vdmVDb21wb25lbnRzOmZ1bmN0aW9uKGEpe3ZhciBiPSExO09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEpfHwoYT1bYV0pO2Zvcih2YXIgYz1hLmxlbmd0aC0xOzA8PWM7LS1jKWI9CnRoaXMucmVtb3ZlQ29tcG9uZW50KGFbY10pfHxiO3JldHVybiBifSxyZW1vdmVDb21wb25lbnQ6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5VdGlsLnJlbW92ZUl0ZW0odGhpcy5jb21wb25lbnRzLGEpO3RoaXMuY2xlYXJCb3VuZHMoKTtyZXR1cm4hMH0sZ2V0TGVuZ3RoOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYj0wLGM9dGhpcy5jb21wb25lbnRzLmxlbmd0aDtiPGM7YisrKWErPXRoaXMuY29tcG9uZW50c1tiXS5nZXRMZW5ndGgoKTtyZXR1cm4gYX0sZ2V0QXJlYTpmdW5jdGlvbigpe2Zvcih2YXIgYT0wLGI9MCxjPXRoaXMuY29tcG9uZW50cy5sZW5ndGg7YjxjO2IrKylhKz10aGlzLmNvbXBvbmVudHNbYl0uZ2V0QXJlYSgpO3JldHVybiBhfSxnZXRHZW9kZXNpY0FyZWE6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz0wLGQ9dGhpcy5jb21wb25lbnRzLmxlbmd0aDtjPGQ7YysrKWIrPXRoaXMuY29tcG9uZW50c1tjXS5nZXRHZW9kZXNpY0FyZWEoYSk7cmV0dXJuIGJ9LGdldENlbnRyb2lkOmZ1bmN0aW9uKGEpe2lmKCFhKXJldHVybiB0aGlzLmNvbXBvbmVudHMubGVuZ3RoJiYKdGhpcy5jb21wb25lbnRzWzBdLmdldENlbnRyb2lkKCk7YT10aGlzLmNvbXBvbmVudHMubGVuZ3RoO2lmKCFhKXJldHVybiExO2Zvcih2YXIgYj1bXSxjPVtdLGQ9MCxlPU51bWJlci5NQVhfVkFMVUUsZixnPTA7ZzxhOysrZyl7Zj10aGlzLmNvbXBvbmVudHNbZ107dmFyIGg9Zi5nZXRBcmVhKCk7Zj1mLmdldENlbnRyb2lkKCEwKTshaXNOYU4oaCkmJighaXNOYU4oZi54KSYmIWlzTmFOKGYueSkpJiYoYi5wdXNoKGgpLGQrPWgsZT1oPGUmJjA8aD9oOmUsYy5wdXNoKGYpKX1hPWIubGVuZ3RoO2lmKDA9PT1kKXtmb3IoZz0wO2c8YTsrK2cpYltnXT0xO2Q9Yi5sZW5ndGh9ZWxzZXtmb3IoZz0wO2c8YTsrK2cpYltnXS89ZTtkLz1lfWZvcih2YXIgaT1lPTAsZz0wO2c8YTsrK2cpZj1jW2ddLGg9YltnXSxlKz1mLngqaCxpKz1mLnkqaDtyZXR1cm4gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoZS9kLGkvZCl9LGdldEdlb2Rlc2ljTGVuZ3RoOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0KMCxjPTAsZD10aGlzLmNvbXBvbmVudHMubGVuZ3RoO2M8ZDtjKyspYis9dGhpcy5jb21wb25lbnRzW2NdLmdldEdlb2Rlc2ljTGVuZ3RoKGEpO3JldHVybiBifSxtb3ZlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD10aGlzLmNvbXBvbmVudHMubGVuZ3RoO2M8ZDtjKyspdGhpcy5jb21wb25lbnRzW2NdLm1vdmUoYSxiKX0scm90YXRlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD10aGlzLmNvbXBvbmVudHMubGVuZ3RoO2M8ZDsrK2MpdGhpcy5jb21wb25lbnRzW2NdLnJvdGF0ZShhLGIpfSxyZXNpemU6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wO2Q8dGhpcy5jb21wb25lbnRzLmxlbmd0aDsrK2QpdGhpcy5jb21wb25lbnRzW2RdLnJlc2l6ZShhLGIsYyk7cmV0dXJuIHRoaXN9LGRpc3RhbmNlVG86ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9IShiJiYhMT09PWIuZWRnZSkmJmImJmIuZGV0YWlscyxkLGUsZixnPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxoPTAsaT10aGlzLmNvbXBvbmVudHMubGVuZ3RoO2g8CmkmJiEoZD10aGlzLmNvbXBvbmVudHNbaF0uZGlzdGFuY2VUbyhhLGIpLGY9Yz9kLmRpc3RhbmNlOmQsZjxnJiYoZz1mLGU9ZCwwPT1nKSk7KytoKTtyZXR1cm4gZX0sZXF1YWxzOmZ1bmN0aW9uKGEpe3ZhciBiPSEwO2lmKCFhfHwhYS5DTEFTU19OQU1FfHx0aGlzLkNMQVNTX05BTUUhPWEuQ0xBU1NfTkFNRSliPSExO2Vsc2UgaWYoIU9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEuY29tcG9uZW50cyl8fGEuY29tcG9uZW50cy5sZW5ndGghPXRoaXMuY29tcG9uZW50cy5sZW5ndGgpYj0hMTtlbHNlIGZvcih2YXIgYz0wLGQ9dGhpcy5jb21wb25lbnRzLmxlbmd0aDtjPGQ7KytjKWlmKCF0aGlzLmNvbXBvbmVudHNbY10uZXF1YWxzKGEuY29tcG9uZW50c1tjXSkpe2I9ITE7YnJlYWt9cmV0dXJuIGJ9LHRyYW5zZm9ybTpmdW5jdGlvbihhLGIpe2lmKGEmJmIpe2Zvcih2YXIgYz0wLGQ9dGhpcy5jb21wb25lbnRzLmxlbmd0aDtjPGQ7YysrKXRoaXMuY29tcG9uZW50c1tjXS50cmFuc2Zvcm0oYSwKYik7dGhpcy5ib3VuZHM9bnVsbH1yZXR1cm4gdGhpc30saW50ZXJzZWN0czpmdW5jdGlvbihhKXtmb3IodmFyIGI9ITEsYz0wLGQ9dGhpcy5jb21wb25lbnRzLmxlbmd0aDtjPGQmJiEoYj1hLmludGVyc2VjdHModGhpcy5jb21wb25lbnRzW2NdKSk7KytjKTtyZXR1cm4gYn0sZ2V0VmVydGljZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MCxkPXRoaXMuY29tcG9uZW50cy5sZW5ndGg7YzxkOysrYylBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShiLHRoaXMuY29tcG9uZW50c1tjXS5nZXRWZXJ0aWNlcyhhKSk7cmV0dXJuIGJ9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuR2VvbWV0cnkuQ29sbGVjdGlvbiJ9KTtPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpUG9pbnQ9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkdlb21ldHJ5LkNvbGxlY3Rpb24se2NvbXBvbmVudFR5cGVzOlsiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCJdLGFkZFBvaW50OmZ1bmN0aW9uKGEsYil7dGhpcy5hZGRDb21wb25lbnQoYSxiKX0scmVtb3ZlUG9pbnQ6ZnVuY3Rpb24oYSl7dGhpcy5yZW1vdmVDb21wb25lbnQoYSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlQb2ludCJ9KTtPcGVuTGF5ZXJzLkdlb21ldHJ5LkN1cnZlPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aVBvaW50LHtjb21wb25lbnRUeXBlczpbIk9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQiXSxnZXRMZW5ndGg6ZnVuY3Rpb24oKXt2YXIgYT0wO2lmKHRoaXMuY29tcG9uZW50cyYmMTx0aGlzLmNvbXBvbmVudHMubGVuZ3RoKWZvcih2YXIgYj0xLGM9dGhpcy5jb21wb25lbnRzLmxlbmd0aDtiPGM7YisrKWErPXRoaXMuY29tcG9uZW50c1tiLTFdLmRpc3RhbmNlVG8odGhpcy5jb21wb25lbnRzW2JdKTtyZXR1cm4gYX0sZ2V0R2VvZGVzaWNMZW5ndGg6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztpZihhKXt2YXIgYz1uZXcgT3BlbkxheWVycy5Qcm9qZWN0aW9uKCJFUFNHOjQzMjYiKTtjLmVxdWFscyhhKXx8KGI9dGhpcy5jbG9uZSgpLnRyYW5zZm9ybShhLGMpKX1hPTA7aWYoYi5jb21wb25lbnRzJiYxPGIuY29tcG9uZW50cy5sZW5ndGgpZm9yKHZhciBkLGU9MSxmPWIuY29tcG9uZW50cy5sZW5ndGg7ZTwKZjtlKyspYz1iLmNvbXBvbmVudHNbZS0xXSxkPWIuY29tcG9uZW50c1tlXSxhKz1PcGVuTGF5ZXJzLlV0aWwuZGlzdFZpbmNlbnR5KHtsb246Yy54LGxhdDpjLnl9LHtsb246ZC54LGxhdDpkLnl9KTtyZXR1cm4gMUUzKmF9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuR2VvbWV0cnkuQ3VydmUifSk7T3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5HZW9tZXRyeS5DdXJ2ZSx7cmVtb3ZlQ29tcG9uZW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29tcG9uZW50cyYmMjx0aGlzLmNvbXBvbmVudHMubGVuZ3RoO2ImJk9wZW5MYXllcnMuR2VvbWV0cnkuQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlQ29tcG9uZW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gYn0saW50ZXJzZWN0czpmdW5jdGlvbihhKXt2YXIgYj0hMSxjPWEuQ0xBU1NfTkFNRTtpZigiT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nIj09Y3x8Ik9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyI9PWN8fCJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50Ij09Yyl7dmFyIGQ9dGhpcy5nZXRTb3J0ZWRTZWdtZW50cygpLGE9Ik9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQiPT1jP1t7eDE6YS54LHkxOmEueSx4MjphLngseTI6YS55fV06YS5nZXRTb3J0ZWRTZWdtZW50cygpLAplLGYsZyxoLGksaixrLGw9MCxtPWQubGVuZ3RoO2E6Zm9yKDtsPG07KytsKXtjPWRbbF07ZT1jLngxO2Y9Yy54MjtnPWMueTE7aD1jLnkyO3ZhciBuPTAscD1hLmxlbmd0aDtmb3IoO248cDsrK24pe2k9YVtuXTtpZihpLngxPmYpYnJlYWs7aWYoIShpLngyPGUpJiYoaj1pLnkxLGs9aS55MiwhKE1hdGgubWluKGosayk+TWF0aC5tYXgoZyxoKSkmJiEoTWF0aC5tYXgoaixrKTxNYXRoLm1pbihnLGgpKSYmT3BlbkxheWVycy5HZW9tZXRyeS5zZWdtZW50c0ludGVyc2VjdChjLGkpKSl7Yj0hMDticmVhayBhfX19fWVsc2UgYj1hLmludGVyc2VjdHModGhpcyk7cmV0dXJuIGJ9LGdldFNvcnRlZFNlZ21lbnRzOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuY29tcG9uZW50cy5sZW5ndGgtMSxiPUFycmF5KGEpLGMsZCxlPTA7ZTxhOysrZSljPXRoaXMuY29tcG9uZW50c1tlXSxkPXRoaXMuY29tcG9uZW50c1tlKzFdLGJbZV09Yy54PGQueD97eDE6Yy54LHkxOmMueSx4MjpkLngseTI6ZC55fToKe3gxOmQueCx5MTpkLnkseDI6Yy54LHkyOmMueX07cmV0dXJuIGIuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLngxLWIueDF9KX0sc3BsaXRXaXRoU2VnbWVudDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0hKGImJiExPT09Yi5lZGdlKSxkPWImJmIudG9sZXJhbmNlLGU9W10sZj10aGlzLmdldFZlcnRpY2VzKCksZz1bXSxoPVtdLGk9ITEsaixrLGwsbT17cG9pbnQ6ITAsdG9sZXJhbmNlOmR9LG49bnVsbCxwPTAscT1mLmxlbmd0aC0yO3A8PXE7KytwKWlmKGQ9ZltwXSxnLnB1c2goZC5jbG9uZSgpKSxqPWZbcCsxXSxrPXt4MTpkLngseTE6ZC55LHgyOmoueCx5MjpqLnl9LGs9T3BlbkxheWVycy5HZW9tZXRyeS5zZWdtZW50c0ludGVyc2VjdChhLGssbSksayBpbnN0YW5jZW9mIE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQmJigobD1rLng9PT1hLngxJiZrLnk9PT1hLnkxfHxrLng9PT1hLngyJiZrLnk9PT1hLnkyfHxrLmVxdWFscyhkKXx8ay5lcXVhbHMoaik/ITA6ITEpfHxjKSlrLmVxdWFscyhoW2gubGVuZ3RoLQoxXSl8fGgucHVzaChrLmNsb25lKCkpLCEoMD09PXAmJmsuZXF1YWxzKGQpKSYmIWsuZXF1YWxzKGopJiYoaT0hMCxrLmVxdWFscyhkKXx8Zy5wdXNoKGspLGUucHVzaChuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nKGcpKSxnPVtrLmNsb25lKCldKTtpJiYoZy5wdXNoKGouY2xvbmUoKSksZS5wdXNoKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmcoZykpKTtpZigwPGgubGVuZ3RoKXZhciByPWEueDE8YS54Mj8xOi0xLHM9YS55MTxhLnkyPzE6LTEsbj17bGluZXM6ZSxwb2ludHM6aC5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIHIqYS54LXIqYi54fHxzKmEueS1zKmIueX0pfTtyZXR1cm4gbn0sc3BsaXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsLGQ9YiYmYi5tdXR1YWwsZSxmLGcsaDtpZihhIGluc3RhbmNlb2YgT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nKXt2YXIgaT10aGlzLmdldFZlcnRpY2VzKCksaixrLGwsbSxuLHA9W107Zz1bXTsKZm9yKHZhciBxPTAscj1pLmxlbmd0aC0yO3E8PXI7KytxKXtqPWlbcV07az1pW3ErMV07bD17eDE6ai54LHkxOmoueSx4MjprLngseTI6ay55fTtoPWh8fFthXTtkJiZwLnB1c2goai5jbG9uZSgpKTtmb3IodmFyIHM9MDtzPGgubGVuZ3RoOysrcylpZihtPWhbc10uc3BsaXRXaXRoU2VnbWVudChsLGIpKWlmKG49bS5saW5lcywwPG4ubGVuZ3RoJiYobi51bnNoaWZ0KHMsMSksQXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShoLG4pLHMrPW4ubGVuZ3RoLTIpLGQpZm9yKHZhciB0PTAsdT1tLnBvaW50cy5sZW5ndGg7dDx1OysrdCluPW0ucG9pbnRzW3RdLG4uZXF1YWxzKGopfHwocC5wdXNoKG4pLGcucHVzaChuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nKHApKSxwPW4uZXF1YWxzKGspP1tdOltuLmNsb25lKCldKX1kJiYoMDxnLmxlbmd0aCYmMDxwLmxlbmd0aCkmJihwLnB1c2goay5jbG9uZSgpKSxnLnB1c2gobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZyhwKSkpfWVsc2UgYz0KYS5zcGxpdFdpdGgodGhpcyxiKTtoJiYxPGgubGVuZ3RoP2Y9ITA6aD1bXTtnJiYxPGcubGVuZ3RoP2U9ITA6Zz1bXTtpZihmfHxlKWM9ZD9bZyxoXTpoO3JldHVybiBjfSxzcGxpdFdpdGg6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5zcGxpdCh0aGlzLGIpfSxnZXRWZXJ0aWNlczpmdW5jdGlvbihhKXtyZXR1cm4hMD09PWE/W3RoaXMuY29tcG9uZW50c1swXSx0aGlzLmNvbXBvbmVudHNbdGhpcy5jb21wb25lbnRzLmxlbmd0aC0xXV06ITE9PT1hP3RoaXMuY29tcG9uZW50cy5zbGljZSgxLHRoaXMuY29tcG9uZW50cy5sZW5ndGgtMSk6dGhpcy5jb21wb25lbnRzLnNsaWNlKCl9LGRpc3RhbmNlVG86ZnVuY3Rpb24oYSxiKXt2YXIgYz0hKGImJiExPT09Yi5lZGdlKSYmYiYmYi5kZXRhaWxzLGQsZT17fSxmPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTtpZihhIGluc3RhbmNlb2YgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCl7Zm9yKHZhciBnPXRoaXMuZ2V0U29ydGVkU2VnbWVudHMoKSwKaD1hLngsaT1hLnksaixrPTAsbD1nLmxlbmd0aDtrPGw7KytrKWlmKGo9Z1trXSxkPU9wZW5MYXllcnMuR2VvbWV0cnkuZGlzdGFuY2VUb1NlZ21lbnQoYSxqKSxkLmRpc3RhbmNlPGYpe2lmKGY9ZC5kaXN0YW5jZSxlPWQsMD09PWYpYnJlYWt9ZWxzZSBpZihqLngyPmgmJihpPmoueTEmJmk8ai55Mnx8aTxqLnkxJiZpPmoueTIpKWJyZWFrO2U9Yz97ZGlzdGFuY2U6ZS5kaXN0YW5jZSx4MDplLngseTA6ZS55LHgxOmgseTE6aX06ZS5kaXN0YW5jZX1lbHNlIGlmKGEgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmcpe3ZhciBnPXRoaXMuZ2V0U29ydGVkU2VnbWVudHMoKSxoPWEuZ2V0U29ydGVkU2VnbWVudHMoKSxtLG4scD1oLmxlbmd0aCxxPXtwb2ludDohMH0saz0wLGw9Zy5sZW5ndGg7YTpmb3IoO2s8bDsrK2spe2k9Z1trXTtqPWkueDE7bj1pLnkxO2Zvcih2YXIgcj0wO3I8cDsrK3IpaWYoZD1oW3JdLG09T3BlbkxheWVycy5HZW9tZXRyeS5zZWdtZW50c0ludGVyc2VjdChpLApkLHEpKXtmPTA7ZT17ZGlzdGFuY2U6MCx4MDptLngseTA6bS55LHgxOm0ueCx5MTptLnl9O2JyZWFrIGF9ZWxzZSBkPU9wZW5MYXllcnMuR2VvbWV0cnkuZGlzdGFuY2VUb1NlZ21lbnQoe3g6aix5Om59LGQpLGQuZGlzdGFuY2U8ZiYmKGY9ZC5kaXN0YW5jZSxlPXtkaXN0YW5jZTpmLHgwOmoseTA6bix4MTpkLngseTE6ZC55fSl9Y3x8KGU9ZS5kaXN0YW5jZSk7MCE9PWYmJmkmJihkPWEuZGlzdGFuY2VUbyhuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChpLngyLGkueTIpLGIpLGs9Yz9kLmRpc3RhbmNlOmQsazxmJiYoZT1jP3tkaXN0YW5jZTpmLHgwOmQueDEseTA6ZC55MSx4MTpkLngwLHkxOmQueTB9OmspKX1lbHNlIGU9YS5kaXN0YW5jZVRvKHRoaXMsYiksYyYmKGU9e2Rpc3RhbmNlOmUuZGlzdGFuY2UseDA6ZS54MSx5MDplLnkxLHgxOmUueDAseTE6ZS55MH0pO3JldHVybiBlfSxzaW1wbGlmeTpmdW5jdGlvbihhKXtpZih0aGlzJiZudWxsIT09dGhpcyl7dmFyIGI9dGhpcy5nZXRWZXJ0aWNlcygpOwppZigzPmIubGVuZ3RoKXJldHVybiB0aGlzO3ZhciBjPWZ1bmN0aW9uKGEsYixkLGkpe2Zvcih2YXIgaj0wLGs9MCxsPWIsbTtsPGQ7bCsrKXttPWFbYl07dmFyIG49YVtkXSxwPWFbbF0scD1NYXRoLmFicygwLjUqKG0ueCpuLnkrbi54KnAueStwLngqbS55LW4ueCptLnktcC54Km4ueS1tLngqcC55KSk7bT1NYXRoLnNxcnQoTWF0aC5wb3cobS54LW4ueCwyKStNYXRoLnBvdyhtLnktbi55LDIpKTttPTIqKHAvbSk7bT5qJiYoaj1tLGs9bCl9aj5pJiZrIT1iJiYoZS5wdXNoKGspLGMoYSxiLGssaSksYyhhLGssZCxpKSl9LGQ9Yi5sZW5ndGgtMSxlPVtdO2UucHVzaCgwKTtmb3IoZS5wdXNoKGQpO2JbMF0uZXF1YWxzKGJbZF0pOylkLS0sZS5wdXNoKGQpO2MoYiwwLGQsYSk7YT1bXTtlLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS1ifSk7Zm9yKGQ9MDtkPGUubGVuZ3RoO2QrKylhLnB1c2goYltlW2RdXSk7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmcoYSl9cmV0dXJuIHRoaXN9LApDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmcifSk7T3BlbkxheWVycy5HZW9tZXRyeS5MaW5lYXJSaW5nPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nLHtjb21wb25lbnRUeXBlczpbIk9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQiXSxhZGRDb21wb25lbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz0hMSxkPXRoaXMuY29tcG9uZW50cy5wb3AoKTtpZihudWxsIT1ifHwhYS5lcXVhbHMoZCkpYz1PcGVuTGF5ZXJzLkdlb21ldHJ5LkNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZENvbXBvbmVudC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7T3BlbkxheWVycy5HZW9tZXRyeS5Db2xsZWN0aW9uLnByb3RvdHlwZS5hZGRDb21wb25lbnQuYXBwbHkodGhpcyxbdGhpcy5jb21wb25lbnRzWzBdXSk7cmV0dXJuIGN9LHJlbW92ZUNvbXBvbmVudDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNvbXBvbmVudHMmJjM8dGhpcy5jb21wb25lbnRzLmxlbmd0aDtiJiYodGhpcy5jb21wb25lbnRzLnBvcCgpLE9wZW5MYXllcnMuR2VvbWV0cnkuQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlQ29tcG9uZW50LmFwcGx5KHRoaXMsCmFyZ3VtZW50cyksT3BlbkxheWVycy5HZW9tZXRyeS5Db2xsZWN0aW9uLnByb3RvdHlwZS5hZGRDb21wb25lbnQuYXBwbHkodGhpcyxbdGhpcy5jb21wb25lbnRzWzBdXSkpO3JldHVybiBifSxtb3ZlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD10aGlzLmNvbXBvbmVudHMubGVuZ3RoO2M8ZC0xO2MrKyl0aGlzLmNvbXBvbmVudHNbY10ubW92ZShhLGIpfSxyb3RhdGU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MCxkPXRoaXMuY29tcG9uZW50cy5sZW5ndGg7YzxkLTE7KytjKXRoaXMuY29tcG9uZW50c1tjXS5yb3RhdGUoYSxiKX0scmVzaXplOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MCxlPXRoaXMuY29tcG9uZW50cy5sZW5ndGg7ZDxlLTE7KytkKXRoaXMuY29tcG9uZW50c1tkXS5yZXNpemUoYSxiLGMpO3JldHVybiB0aGlzfSx0cmFuc2Zvcm06ZnVuY3Rpb24oYSxiKXtpZihhJiZiKXtmb3IodmFyIGM9MCxkPXRoaXMuY29tcG9uZW50cy5sZW5ndGg7YzxkLTE7YysrKXRoaXMuY29tcG9uZW50c1tjXS50cmFuc2Zvcm0oYSwKYik7dGhpcy5ib3VuZHM9bnVsbH1yZXR1cm4gdGhpc30sZ2V0Q2VudHJvaWQ6ZnVuY3Rpb24oKXtpZih0aGlzLmNvbXBvbmVudHMpe3ZhciBhPXRoaXMuY29tcG9uZW50cy5sZW5ndGg7aWYoMDxhJiYyPj1hKXJldHVybiB0aGlzLmNvbXBvbmVudHNbMF0uY2xvbmUoKTtpZigyPGEpe3ZhciBiPTAsYz0wLGQ9dGhpcy5jb21wb25lbnRzWzBdLngsZT10aGlzLmNvbXBvbmVudHNbMF0ueSxmPS0xKnRoaXMuZ2V0QXJlYSgpO2lmKDAhPWYpe2Zvcih2YXIgZz0wO2c8YS0xO2crKyl2YXIgaD10aGlzLmNvbXBvbmVudHNbZ10saT10aGlzLmNvbXBvbmVudHNbZysxXSxiPWIrKGgueCtpLngtMipkKSooKGgueC1kKSooaS55LWUpLShpLngtZCkqKGgueS1lKSksYz1jKyhoLnkraS55LTIqZSkqKChoLngtZCkqKGkueS1lKS0oaS54LWQpKihoLnktZSkpO2I9ZCtiLyg2KmYpO2E9ZStjLyg2KmYpfWVsc2V7Zm9yKGc9MDtnPGEtMTtnKyspYis9dGhpcy5jb21wb25lbnRzW2ddLngsYys9dGhpcy5jb21wb25lbnRzW2ddLnk7CmIvPWEtMTthPWMvKGEtMSl9cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGIsYSl9cmV0dXJuIG51bGx9fSxnZXRBcmVhOmZ1bmN0aW9uKCl7dmFyIGE9MDtpZih0aGlzLmNvbXBvbmVudHMmJjI8dGhpcy5jb21wb25lbnRzLmxlbmd0aCl7Zm9yKHZhciBiPWE9MCxjPXRoaXMuY29tcG9uZW50cy5sZW5ndGg7YjxjLTE7YisrKXZhciBkPXRoaXMuY29tcG9uZW50c1tiXSxlPXRoaXMuY29tcG9uZW50c1tiKzFdLGE9YSsoZC54K2UueCkqKGUueS1kLnkpO2E9LWEvMn1yZXR1cm4gYX0sZ2V0R2VvZGVzaWNBcmVhOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7aWYoYSl7dmFyIGM9bmV3IE9wZW5MYXllcnMuUHJvamVjdGlvbigiRVBTRzo0MzI2Iik7Yy5lcXVhbHMoYSl8fChiPXRoaXMuY2xvbmUoKS50cmFuc2Zvcm0oYSxjKSl9YT0wO2M9Yi5jb21wb25lbnRzJiZiLmNvbXBvbmVudHMubGVuZ3RoO2lmKDI8Yyl7Zm9yKHZhciBkLGUsZj0wO2Y8Yy0xO2YrKylkPWIuY29tcG9uZW50c1tmXSwKZT1iLmNvbXBvbmVudHNbZisxXSxhKz1PcGVuTGF5ZXJzLlV0aWwucmFkKGUueC1kLngpKigyK01hdGguc2luKE9wZW5MYXllcnMuVXRpbC5yYWQoZC55KSkrTWF0aC5zaW4oT3BlbkxheWVycy5VdGlsLnJhZChlLnkpKSk7YT00MDY4MDYzMTU5MDc2OSphLzJ9cmV0dXJuIGF9LGNvbnRhaW5zUG9pbnQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU9wZW5MYXllcnMuTnVtYmVyLmxpbWl0U2lnRGlncyxjPWIoYS54LDE0KSxhPWIoYS55LDE0KSxkPXRoaXMuY29tcG9uZW50cy5sZW5ndGgtMSxlLGYsZyxoLGksaj0wLGs9MDtrPGQ7KytrKWlmKGU9dGhpcy5jb21wb25lbnRzW2tdLGc9YihlLngsMTQpLGU9YihlLnksMTQpLGY9dGhpcy5jb21wb25lbnRzW2srMV0saD1iKGYueCwxNCksZj1iKGYueSwxNCksZT09Zil7aWYoYT09ZSYmKGc8PWgmJmM+PWcmJmM8PWh8fGc+PWgmJmM8PWcmJmM+PWgpKXtqPS0xO2JyZWFrfX1lbHNle2k9YigoYS1mKSooKGgtZykvKGYtZSkpK2gsMTQpO2lmKGk9PQpjJiYoZTxmJiZhPj1lJiZhPD1mfHxlPmYmJmE8PWUmJmE+PWYpKXtqPS0xO2JyZWFrfWk8PWN8fGchPWgmJihpPE1hdGgubWluKGcsaCl8fGk+TWF0aC5tYXgoZyxoKSl8fChlPGYmJmE+PWUmJmE8Znx8ZT5mJiZhPGUmJmE+PWYpJiYrK2p9cmV0dXJuLTE9PWo/MTohIShqJjEpfSxpbnRlcnNlY3RzOmZ1bmN0aW9uKGEpe3ZhciBiPSExO2lmKCJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50Ij09YS5DTEFTU19OQU1FKWI9dGhpcy5jb250YWluc1BvaW50KGEpO2Vsc2UgaWYoIk9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZyI9PWEuQ0xBU1NfTkFNRSliPWEuaW50ZXJzZWN0cyh0aGlzKTtlbHNlIGlmKCJPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVhclJpbmciPT1hLkNMQVNTX05BTUUpYj1PcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmcucHJvdG90eXBlLmludGVyc2VjdHMuYXBwbHkodGhpcyxbYV0pO2Vsc2UgZm9yKHZhciBjPTAsZD1hLmNvbXBvbmVudHMubGVuZ3RoO2M8CmQmJiEoYj1hLmNvbXBvbmVudHNbY10uaW50ZXJzZWN0cyh0aGlzKSk7KytjKTtyZXR1cm4gYn0sZ2V0VmVydGljZXM6ZnVuY3Rpb24oYSl7cmV0dXJuITA9PT1hP1tdOnRoaXMuY29tcG9uZW50cy5zbGljZSgwLHRoaXMuY29tcG9uZW50cy5sZW5ndGgtMSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyJ9KTtPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb249T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkdlb21ldHJ5LkNvbGxlY3Rpb24se2NvbXBvbmVudFR5cGVzOlsiT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lYXJSaW5nIl0sZ2V0QXJlYTpmdW5jdGlvbigpe3ZhciBhPTA7aWYodGhpcy5jb21wb25lbnRzJiYwPHRoaXMuY29tcG9uZW50cy5sZW5ndGgpZm9yKHZhciBhPWErTWF0aC5hYnModGhpcy5jb21wb25lbnRzWzBdLmdldEFyZWEoKSksYj0xLGM9dGhpcy5jb21wb25lbnRzLmxlbmd0aDtiPGM7YisrKWEtPU1hdGguYWJzKHRoaXMuY29tcG9uZW50c1tiXS5nZXRBcmVhKCkpO3JldHVybiBhfSxnZXRHZW9kZXNpY0FyZWE6ZnVuY3Rpb24oYSl7dmFyIGI9MDtpZih0aGlzLmNvbXBvbmVudHMmJjA8dGhpcy5jb21wb25lbnRzLmxlbmd0aClmb3IodmFyIGI9YitNYXRoLmFicyh0aGlzLmNvbXBvbmVudHNbMF0uZ2V0R2VvZGVzaWNBcmVhKGEpKSxjPTEsZD10aGlzLmNvbXBvbmVudHMubGVuZ3RoO2M8CmQ7YysrKWItPU1hdGguYWJzKHRoaXMuY29tcG9uZW50c1tjXS5nZXRHZW9kZXNpY0FyZWEoYSkpO3JldHVybiBifSxjb250YWluc1BvaW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29tcG9uZW50cy5sZW5ndGgsYz0hMTtpZigwPGImJihjPXRoaXMuY29tcG9uZW50c1swXS5jb250YWluc1BvaW50KGEpLDEhPT1jJiZjJiYxPGIpKWZvcih2YXIgZCxlPTE7ZTxiOysrZSlpZihkPXRoaXMuY29tcG9uZW50c1tlXS5jb250YWluc1BvaW50KGEpKXtjPTE9PT1kPzE6ITE7YnJlYWt9cmV0dXJuIGN9LGludGVyc2VjdHM6ZnVuY3Rpb24oYSl7dmFyIGI9ITEsYyxkO2lmKCJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50Ij09YS5DTEFTU19OQU1FKWI9dGhpcy5jb250YWluc1BvaW50KGEpO2Vsc2UgaWYoIk9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZyI9PWEuQ0xBU1NfTkFNRXx8Ik9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyI9PWEuQ0xBU1NfTkFNRSl7Yz0wO2ZvcihkPQp0aGlzLmNvbXBvbmVudHMubGVuZ3RoO2M8ZCYmIShiPWEuaW50ZXJzZWN0cyh0aGlzLmNvbXBvbmVudHNbY10pKTsrK2MpO2lmKCFiKXtjPTA7Zm9yKGQ9YS5jb21wb25lbnRzLmxlbmd0aDtjPGQmJiEoYj10aGlzLmNvbnRhaW5zUG9pbnQoYS5jb21wb25lbnRzW2NdKSk7KytjKTt9fWVsc2V7Yz0wO2ZvcihkPWEuY29tcG9uZW50cy5sZW5ndGg7YzxkJiYhKGI9dGhpcy5pbnRlcnNlY3RzKGEuY29tcG9uZW50c1tjXSkpOysrYyk7fWlmKCFiJiYiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uIj09YS5DTEFTU19OQU1FKXt2YXIgZT10aGlzLmNvbXBvbmVudHNbMF07Yz0wO2ZvcihkPWUuY29tcG9uZW50cy5sZW5ndGg7YzxkJiYhKGI9YS5jb250YWluc1BvaW50KGUuY29tcG9uZW50c1tjXSkpOysrYyk7fXJldHVybiBifSxkaXN0YW5jZVRvOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGImJiExPT09Yi5lZGdlJiZ0aGlzLmludGVyc2VjdHMoYSk/MDpPcGVuTGF5ZXJzLkdlb21ldHJ5LkNvbGxlY3Rpb24ucHJvdG90eXBlLmRpc3RhbmNlVG8uYXBwbHkodGhpcywKW2EsYl0pfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24ifSk7T3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uLmNyZWF0ZVJlZ3VsYXJQb2x5Z29uPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPU1hdGguUEkqKDEvYy0wLjUpO2QmJihlKz1kLzE4MCpNYXRoLlBJKTtmb3IodmFyIGYsZz1bXSxoPTA7aDxjOysraClmPWUrMipoKk1hdGguUEkvYyxkPWEueCtiKk1hdGguY29zKGYpLGY9YS55K2IqTWF0aC5zaW4oZiksZy5wdXNoKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGQsZikpO2E9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyhnKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbihbYV0pfTtPcGVuTGF5ZXJzLkZvcm1hdC5HZW9SU1M9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwse3Jzc25zOiJodHRwOi8vYmFja2VuZC51c2VybGFuZC5jb20vcnNzMiIsZmVhdHVyZU5TOiJodHRwOi8vbWFwc2VydmVyLmdpcy51bW4uZWR1L21hcHNlcnZlciIsZ2VvcnNzbnM6Imh0dHA6Ly93d3cuZ2VvcnNzLm9yZy9nZW9yc3MiLGdlb25zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAzLzAxL2dlby93Z3M4NF9wb3MjIixmZWF0dXJlVGl0bGU6IlVudGl0bGVkIixmZWF0dXJlRGVzY3JpcHRpb246Ik5vIERlc2NyaXB0aW9uIixnbWxQYXJzZXI6bnVsbCx4eTohMSxjcmVhdGVHZW9tZXRyeUZyb21JdGVtOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLHRoaXMuZ2VvcnNzbnMsInBvaW50IiksYz10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSx0aGlzLmdlb25zLCJsYXQiKSxkPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLAp0aGlzLmdlb25zLCJsb25nIiksZT10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSx0aGlzLmdlb3Jzc25zLCJsaW5lIiksZj10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSx0aGlzLmdlb3Jzc25zLCJwb2x5Z29uIiksZz10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSx0aGlzLmdlb3Jzc25zLCJ3aGVyZSIpLGE9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsdGhpcy5nZW9yc3NucywiYm94Iik7aWYoMDxiLmxlbmd0aHx8MDxjLmxlbmd0aCYmMDxkLmxlbmd0aCl7MDxiLmxlbmd0aD8oYz1PcGVuTGF5ZXJzLlN0cmluZy50cmltKGJbMF0uZmlyc3RDaGlsZC5ub2RlVmFsdWUpLnNwbGl0KC9ccysvKSwyIT1jLmxlbmd0aCYmKGM9T3BlbkxheWVycy5TdHJpbmcudHJpbShiWzBdLmZpcnN0Q2hpbGQubm9kZVZhbHVlKS5zcGxpdCgvXHMqLFxzKi8pKSk6Yz1bcGFyc2VGbG9hdChjWzBdLmZpcnN0Q2hpbGQubm9kZVZhbHVlKSxwYXJzZUZsb2F0KGRbMF0uZmlyc3RDaGlsZC5ub2RlVmFsdWUpXTsKdmFyIGg9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoY1sxXSxjWzBdKX1lbHNlIGlmKDA8ZS5sZW5ndGgpe2M9T3BlbkxheWVycy5TdHJpbmcudHJpbSh0aGlzLmdldENoaWxkVmFsdWUoZVswXSkpLnNwbGl0KC9ccysvKTtkPVtdO2U9MDtmb3IoZj1jLmxlbmd0aDtlPGY7ZSs9MiliPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGNbZSsxXSxjW2VdKSxkLnB1c2goYik7aD1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nKGQpfWVsc2UgaWYoMDxmLmxlbmd0aCl7Yz1PcGVuTGF5ZXJzLlN0cmluZy50cmltKHRoaXMuZ2V0Q2hpbGRWYWx1ZShmWzBdKSkuc3BsaXQoL1xzKy8pO2Q9W107ZT0wO2ZvcihmPWMubGVuZ3RoO2U8ZjtlKz0yKWI9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoY1tlKzFdLGNbZV0pLGQucHVzaChiKTtoPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24oW25ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVhclJpbmcoZCldKX1lbHNlIDA8CmcubGVuZ3RoPyh0aGlzLmdtbFBhcnNlcnx8KHRoaXMuZ21sUGFyc2VyPW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5HTUwoe3h5OnRoaXMueHl9KSksaD10aGlzLmdtbFBhcnNlci5wYXJzZUZlYXR1cmUoZ1swXSkuZ2VvbWV0cnkpOjA8YS5sZW5ndGgmJihjPU9wZW5MYXllcnMuU3RyaW5nLnRyaW0oYVswXS5maXJzdENoaWxkLm5vZGVWYWx1ZSkuc3BsaXQoL1xzKy8pLGQ9W10sMzxjLmxlbmd0aCYmKGI9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoY1sxXSxjWzBdKSxkLnB1c2goYiksYj1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChjWzFdLGNbMl0pLGQucHVzaChiKSxiPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGNbM10sY1syXSksZC5wdXNoKGIpLGI9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoY1szXSxjWzBdKSxkLnB1c2goYiksYj1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChjWzFdLGNbMF0pLGQucHVzaChiKSksaD1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uKFtuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lYXJSaW5nKGQpXSkpOwpoJiYodGhpcy5pbnRlcm5hbFByb2plY3Rpb24mJnRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uKSYmaC50cmFuc2Zvcm0odGhpcy5leHRlcm5hbFByb2plY3Rpb24sdGhpcy5pbnRlcm5hbFByb2plY3Rpb24pO3JldHVybiBofSxjcmVhdGVGZWF0dXJlRnJvbUl0ZW06ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVHZW9tZXRyeUZyb21JdGVtKGEpLGM9dGhpcy5fZ2V0Q2hpbGRWYWx1ZShhLCIqIiwidGl0bGUiLHRoaXMuZmVhdHVyZVRpdGxlKSxkPXRoaXMuX2dldENoaWxkVmFsdWUoYSwiKiIsImRlc2NyaXB0aW9uIix0aGlzLl9nZXRDaGlsZFZhbHVlKGEsIioiLCJjb250ZW50Iix0aGlzLl9nZXRDaGlsZFZhbHVlKGEsIioiLCJzdW1tYXJ5Iix0aGlzLmZlYXR1cmVEZXNjcmlwdGlvbikpKSxlPXRoaXMuX2dldENoaWxkVmFsdWUoYSwiKiIsImxpbmsiKTtpZighZSl0cnl7ZT10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSwiKiIsImxpbmsiKVswXS5nZXRBdHRyaWJ1dGUoImhyZWYiKX1jYXRjaChmKXtlPQpudWxsfWE9dGhpcy5fZ2V0Q2hpbGRWYWx1ZShhLCIqIiwiaWQiLG51bGwpO2I9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoYix7dGl0bGU6YyxkZXNjcmlwdGlvbjpkLGxpbms6ZX0pO2IuZmlkPWE7cmV0dXJuIGJ9LF9nZXRDaGlsZFZhbHVlOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybihhPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLGIsYykpJiZhWzBdJiZhWzBdLmZpcnN0Q2hpbGQmJmFbMF0uZmlyc3RDaGlsZC5ub2RlVmFsdWU/dGhpcy5nZXRDaGlsZFZhbHVlKGFbMF0pOnZvaWQgMD09ZD8iIjpkfSxyZWFkOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7dmFyIGI9bnVsbCxiPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLCIqIiwiaXRlbSIpOzA9PWIubGVuZ3RoJiYoYj10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSwiKiIsImVudHJ5IikpOwpmb3IodmFyIGE9Yi5sZW5ndGgsYz1BcnJheShhKSxkPTA7ZDxhO2QrKyljW2RdPXRoaXMuY3JlYXRlRmVhdHVyZUZyb21JdGVtKGJbZF0pO3JldHVybiBjfSx3cml0ZTpmdW5jdGlvbihhKXt2YXIgYjtpZihPcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShhKSl7Yj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLnJzc25zLCJyc3MiKTtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2M8ZDtjKyspYi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUZlYXR1cmVYTUwoYVtjXSkpfWVsc2UgYj10aGlzLmNyZWF0ZUZlYXR1cmVYTUwoYSk7cmV0dXJuIE9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUud3JpdGUuYXBwbHkodGhpcyxbYl0pfSxjcmVhdGVGZWF0dXJlWE1MOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYnVpbGRHZW9tZXRyeU5vZGUoYS5nZW9tZXRyeSksYz10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLnJzc25zLCJpdGVtIiksZD10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLnJzc25zLCJ0aXRsZSIpOwpkLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlVGV4dE5vZGUoYS5hdHRyaWJ1dGVzLnRpdGxlP2EuYXR0cmlidXRlcy50aXRsZToiIikpO3ZhciBlPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMucnNzbnMsImRlc2NyaXB0aW9uIik7ZS5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVRleHROb2RlKGEuYXR0cmlidXRlcy5kZXNjcmlwdGlvbj9hLmF0dHJpYnV0ZXMuZGVzY3JpcHRpb246IiIpKTtjLmFwcGVuZENoaWxkKGQpO2MuYXBwZW5kQ2hpbGQoZSk7YS5hdHRyaWJ1dGVzLmxpbmsmJihkPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMucnNzbnMsImxpbmsiKSxkLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlVGV4dE5vZGUoYS5hdHRyaWJ1dGVzLmxpbmspKSxjLmFwcGVuZENoaWxkKGQpKTtmb3IodmFyIGYgaW4gYS5hdHRyaWJ1dGVzKSJsaW5rIj09Znx8KCJ0aXRsZSI9PWZ8fCJkZXNjcmlwdGlvbiI9PWYpfHwoZD10aGlzLmNyZWF0ZVRleHROb2RlKGEuYXR0cmlidXRlc1tmXSksZT1mLC0xIT0KZi5zZWFyY2goIjoiKSYmKGU9Zi5zcGxpdCgiOiIpWzFdKSxlPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMuZmVhdHVyZU5TLCJmZWF0dXJlOiIrZSksZS5hcHBlbmRDaGlsZChkKSxjLmFwcGVuZENoaWxkKGUpKTtjLmFwcGVuZENoaWxkKGIpO3JldHVybiBjfSxidWlsZEdlb21ldHJ5Tm9kZTpmdW5jdGlvbihhKXt0aGlzLmludGVybmFsUHJvamVjdGlvbiYmdGhpcy5leHRlcm5hbFByb2plY3Rpb24mJihhPWEuY2xvbmUoKSxhLnRyYW5zZm9ybSh0aGlzLmludGVybmFsUHJvamVjdGlvbix0aGlzLmV4dGVybmFsUHJvamVjdGlvbikpO3ZhciBiO2lmKCJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24iPT1hLkNMQVNTX05BTUUpYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmdlb3Jzc25zLCJnZW9yc3M6cG9seWdvbiIpLGIuYXBwZW5kQ2hpbGQodGhpcy5idWlsZENvb3JkaW5hdGVzTm9kZShhLmNvbXBvbmVudHNbMF0pKTtlbHNlIGlmKCJPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmciPT0KYS5DTEFTU19OQU1FKWI9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5nZW9yc3NucywiZ2VvcnNzOmxpbmUiKSxiLmFwcGVuZENoaWxkKHRoaXMuYnVpbGRDb29yZGluYXRlc05vZGUoYSkpO2Vsc2UgaWYoIk9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQiPT1hLkNMQVNTX05BTUUpYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmdlb3Jzc25zLCJnZW9yc3M6cG9pbnQiKSxiLmFwcGVuZENoaWxkKHRoaXMuYnVpbGRDb29yZGluYXRlc05vZGUoYSkpO2Vsc2UgdGhyb3ciQ291bGRuJ3QgcGFyc2UgIithLkNMQVNTX05BTUU7cmV0dXJuIGJ9LGJ1aWxkQ29vcmRpbmF0ZXNOb2RlOmZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7YS5jb21wb25lbnRzJiYoYj1hLmNvbXBvbmVudHMpO2lmKGIpe2Zvcih2YXIgYT1iLmxlbmd0aCxjPUFycmF5KGEpLGQ9MDtkPGE7ZCsrKWNbZF09YltkXS55KyIgIitiW2RdLng7Yj1jLmpvaW4oIiAiKX1lbHNlIGI9YS55KyIgIithLng7cmV0dXJuIHRoaXMuY3JlYXRlVGV4dE5vZGUoYil9LApDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5HZW9SU1MifSk7T3BlbkxheWVycy5FdmVudD17b2JzZXJ2ZXJzOiExLEtFWV9TUEFDRTozMixLRVlfQkFDS1NQQUNFOjgsS0VZX1RBQjo5LEtFWV9SRVRVUk46MTMsS0VZX0VTQzoyNyxLRVlfTEVGVDozNyxLRVlfVVA6MzgsS0VZX1JJR0hUOjM5LEtFWV9ET1dOOjQwLEtFWV9ERUxFVEU6NDYsZWxlbWVudDpmdW5jdGlvbihhKXtyZXR1cm4gYS50YXJnZXR8fGEuc3JjRWxlbWVudH0saXNTaW5nbGVUb3VjaDpmdW5jdGlvbihhKXtyZXR1cm4gYS50b3VjaGVzJiYxPT1hLnRvdWNoZXMubGVuZ3RofSxpc011bHRpVG91Y2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEudG91Y2hlcyYmMTxhLnRvdWNoZXMubGVuZ3RofSxpc0xlZnRDbGljazpmdW5jdGlvbihhKXtyZXR1cm4gYS53aGljaCYmMT09YS53aGljaHx8YS5idXR0b24mJjE9PWEuYnV0dG9ufSxpc1JpZ2h0Q2xpY2s6ZnVuY3Rpb24oYSl7cmV0dXJuIGEud2hpY2gmJjM9PWEud2hpY2h8fGEuYnV0dG9uJiYyPT1hLmJ1dHRvbn0sc3RvcDpmdW5jdGlvbihhLApiKXtifHxPcGVuTGF5ZXJzLkV2ZW50LnByZXZlbnREZWZhdWx0KGEpO2Euc3RvcFByb3BhZ2F0aW9uP2Euc3RvcFByb3BhZ2F0aW9uKCk6YS5jYW5jZWxCdWJibGU9ITB9LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQ/YS5wcmV2ZW50RGVmYXVsdCgpOmEucmV0dXJuVmFsdWU9ITF9LGZpbmRFbGVtZW50OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPU9wZW5MYXllcnMuRXZlbnQuZWxlbWVudChhKTtjLnBhcmVudE5vZGUmJighYy50YWdOYW1lfHxjLnRhZ05hbWUudG9VcHBlckNhc2UoKSE9Yi50b1VwcGVyQ2FzZSgpKTspYz1jLnBhcmVudE5vZGU7cmV0dXJuIGN9LG9ic2VydmU6ZnVuY3Rpb24oYSxiLGMsZCl7YT1PcGVuTGF5ZXJzLlV0aWwuZ2V0RWxlbWVudChhKTtkPWR8fCExO2lmKCJrZXlwcmVzcyI9PWImJihuYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvS29ucXVlcm9yfFNhZmFyaXxLSFRNTC8pfHxhLmF0dGFjaEV2ZW50KSliPSJrZXlkb3duIjsKdGhpcy5vYnNlcnZlcnN8fCh0aGlzLm9ic2VydmVycz17fSk7aWYoIWEuX2V2ZW50Q2FjaGVJRCl7dmFyIGU9ImV2ZW50Q2FjaGVJRF8iO2EuaWQmJihlPWEuaWQrIl8iK2UpO2EuX2V2ZW50Q2FjaGVJRD1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlVW5pcXVlSUQoZSl9ZT1hLl9ldmVudENhY2hlSUQ7dGhpcy5vYnNlcnZlcnNbZV18fCh0aGlzLm9ic2VydmVyc1tlXT1bXSk7dGhpcy5vYnNlcnZlcnNbZV0ucHVzaCh7ZWxlbWVudDphLG5hbWU6YixvYnNlcnZlcjpjLHVzZUNhcHR1cmU6ZH0pO2EuYWRkRXZlbnRMaXN0ZW5lcj9hLmFkZEV2ZW50TGlzdGVuZXIoYixjLGQpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoIm9uIitiLGMpfSxzdG9wT2JzZXJ2aW5nRWxlbWVudDpmdW5jdGlvbihhKXthPU9wZW5MYXllcnMuVXRpbC5nZXRFbGVtZW50KGEpLl9ldmVudENhY2hlSUQ7dGhpcy5fcmVtb3ZlRWxlbWVudE9ic2VydmVycyhPcGVuTGF5ZXJzLkV2ZW50Lm9ic2VydmVyc1thXSl9LApfcmVtb3ZlRWxlbWVudE9ic2VydmVyczpmdW5jdGlvbihhKXtpZihhKWZvcih2YXIgYj1hLmxlbmd0aC0xOzA8PWI7Yi0tKXt2YXIgYz1hW2JdO09wZW5MYXllcnMuRXZlbnQuc3RvcE9ic2VydmluZy5hcHBseSh0aGlzLFtjLmVsZW1lbnQsYy5uYW1lLGMub2JzZXJ2ZXIsYy51c2VDYXB0dXJlXSl9fSxzdG9wT2JzZXJ2aW5nOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBkPWR8fCExLGE9T3BlbkxheWVycy5VdGlsLmdldEVsZW1lbnQoYSksZT1hLl9ldmVudENhY2hlSUQ7aWYoImtleXByZXNzIj09YiYmKG5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9Lb25xdWVyb3J8U2FmYXJpfEtIVE1MLyl8fGEuZGV0YWNoRXZlbnQpKWI9ImtleWRvd24iO3ZhciBmPSExLGc9T3BlbkxheWVycy5FdmVudC5vYnNlcnZlcnNbZV07aWYoZylmb3IodmFyIGg9MDshZiYmaDxnLmxlbmd0aDspe3ZhciBpPWdbaF07aWYoaS5uYW1lPT1iJiZpLm9ic2VydmVyPT1jJiZpLnVzZUNhcHR1cmU9PWQpe2cuc3BsaWNlKGgsCjEpOzA9PWcubGVuZ3RoJiZkZWxldGUgT3BlbkxheWVycy5FdmVudC5vYnNlcnZlcnNbZV07Zj0hMDticmVha31oKyt9ZiYmKGEucmVtb3ZlRXZlbnRMaXN0ZW5lcj9hLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixjLGQpOmEmJmEuZGV0YWNoRXZlbnQmJmEuZGV0YWNoRXZlbnQoIm9uIitiLGMpKTtyZXR1cm4gZn0sdW5sb2FkQ2FjaGU6ZnVuY3Rpb24oKXtpZihPcGVuTGF5ZXJzLkV2ZW50JiZPcGVuTGF5ZXJzLkV2ZW50Lm9ic2VydmVycyl7Zm9yKHZhciBhIGluIE9wZW5MYXllcnMuRXZlbnQub2JzZXJ2ZXJzKU9wZW5MYXllcnMuRXZlbnQuX3JlbW92ZUVsZW1lbnRPYnNlcnZlcnMuYXBwbHkodGhpcyxbT3BlbkxheWVycy5FdmVudC5vYnNlcnZlcnNbYV1dKTtPcGVuTGF5ZXJzLkV2ZW50Lm9ic2VydmVycz0hMX19LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRXZlbnQifTsKT3BlbkxheWVycy5FdmVudC5vYnNlcnZlKHdpbmRvdywidW5sb2FkIixPcGVuTGF5ZXJzLkV2ZW50LnVubG9hZENhY2hlLCExKTsKT3BlbkxheWVycy5FdmVudHM9T3BlbkxheWVycy5DbGFzcyh7QlJPV1NFUl9FVkVOVFM6Im1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgY2xpY2sgZGJsY2xpY2sgcmlnaHRjbGljayBkYmxyaWdodGNsaWNrIHJlc2l6ZSBmb2N1cyBibHVyIHRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIGtleWRvd24iLnNwbGl0KCIgIiksbGlzdGVuZXJzOm51bGwsb2JqZWN0Om51bGwsZWxlbWVudDpudWxsLGV2ZW50SGFuZGxlcjpudWxsLGZhbGxUaHJvdWdoOm51bGwsaW5jbHVkZVhZOiExLGV4dGVuc2lvbnM6bnVsbCxleHRlbnNpb25Db3VudDpudWxsLGNsZWFyTW91c2VMaXN0ZW5lcjpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCxlKXtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsZSk7dGhpcy5vYmplY3Q9YTt0aGlzLmZhbGxUaHJvdWdoPWQ7dGhpcy5saXN0ZW5lcnM9e307dGhpcy5leHRlbnNpb25zPXt9O3RoaXMuZXh0ZW5zaW9uQ291bnQ9Cnt9O3RoaXMuX21zVG91Y2hlcz1bXTtudWxsIT1iJiZ0aGlzLmF0dGFjaFRvRWxlbWVudChiKX0sZGVzdHJveTpmdW5jdGlvbigpe2Zvcih2YXIgYSBpbiB0aGlzLmV4dGVuc2lvbnMpImJvb2xlYW4iIT09dHlwZW9mIHRoaXMuZXh0ZW5zaW9uc1thXSYmdGhpcy5leHRlbnNpb25zW2FdLmRlc3Ryb3koKTt0aGlzLmV4dGVuc2lvbnM9bnVsbDt0aGlzLmVsZW1lbnQmJihPcGVuTGF5ZXJzLkV2ZW50LnN0b3BPYnNlcnZpbmdFbGVtZW50KHRoaXMuZWxlbWVudCksdGhpcy5lbGVtZW50Lmhhc1Njcm9sbEV2ZW50JiZPcGVuTGF5ZXJzLkV2ZW50LnN0b3BPYnNlcnZpbmcod2luZG93LCJzY3JvbGwiLHRoaXMuY2xlYXJNb3VzZUxpc3RlbmVyKSk7dGhpcy5ldmVudEhhbmRsZXI9dGhpcy5mYWxsVGhyb3VnaD10aGlzLm9iamVjdD10aGlzLmxpc3RlbmVycz10aGlzLmVsZW1lbnQ9bnVsbH0sYWRkRXZlbnRUeXBlOmZ1bmN0aW9uKCl7fSxhdHRhY2hUb0VsZW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50PwpPcGVuTGF5ZXJzLkV2ZW50LnN0b3BPYnNlcnZpbmdFbGVtZW50KHRoaXMuZWxlbWVudCk6KHRoaXMuZXZlbnRIYW5kbGVyPU9wZW5MYXllcnMuRnVuY3Rpb24uYmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzLmhhbmRsZUJyb3dzZXJFdmVudCx0aGlzKSx0aGlzLmNsZWFyTW91c2VMaXN0ZW5lcj1PcGVuTGF5ZXJzLkZ1bmN0aW9uLmJpbmQodGhpcy5jbGVhck1vdXNlQ2FjaGUsdGhpcykpO3RoaXMuZWxlbWVudD1hO2Zvcih2YXIgYj0hIXdpbmRvdy5uYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyxjLGQ9MCxlPXRoaXMuQlJPV1NFUl9FVkVOVFMubGVuZ3RoO2Q8ZTtkKyspYz10aGlzLkJST1dTRVJfRVZFTlRTW2RdLE9wZW5MYXllcnMuRXZlbnQub2JzZXJ2ZShhLGMsdGhpcy5ldmVudEhhbmRsZXIpLGImJjA9PT1jLmluZGV4T2YoInRvdWNoIikmJnRoaXMuYWRkTXNUb3VjaExpc3RlbmVyKGEsYyx0aGlzLmV2ZW50SGFuZGxlcik7T3BlbkxheWVycy5FdmVudC5vYnNlcnZlKGEsImRyYWdzdGFydCIsCk9wZW5MYXllcnMuRXZlbnQuc3RvcCl9LG9uOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKSJzY29wZSIhPWImJmEuaGFzT3duUHJvcGVydHkoYikmJnRoaXMucmVnaXN0ZXIoYixhLnNjb3BlLGFbYl0pfSxyZWdpc3RlcjpmdW5jdGlvbihhLGIsYyxkKXthIGluIE9wZW5MYXllcnMuRXZlbnRzJiYhdGhpcy5leHRlbnNpb25zW2FdJiYodGhpcy5leHRlbnNpb25zW2FdPW5ldyBPcGVuTGF5ZXJzLkV2ZW50c1thXSh0aGlzKSk7aWYobnVsbCE9Yyl7bnVsbD09YiYmKGI9dGhpcy5vYmplY3QpO3ZhciBlPXRoaXMubGlzdGVuZXJzW2FdO2V8fChlPVtdLHRoaXMubGlzdGVuZXJzW2FdPWUsdGhpcy5leHRlbnNpb25Db3VudFthXT0wKTtiPXtvYmo6YixmdW5jOmN9O2Q/KGUuc3BsaWNlKHRoaXMuZXh0ZW5zaW9uQ291bnRbYV0sMCxiKSwib2JqZWN0Ij09PXR5cGVvZiBkJiZkLmV4dGVuc2lvbiYmdGhpcy5leHRlbnNpb25Db3VudFthXSsrKTplLnB1c2goYil9fSxyZWdpc3RlclByaW9yaXR5OmZ1bmN0aW9uKGEsCmIsYyl7dGhpcy5yZWdpc3RlcihhLGIsYywhMCl9LHVuOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKSJzY29wZSIhPWImJmEuaGFzT3duUHJvcGVydHkoYikmJnRoaXMudW5yZWdpc3RlcihiLGEuc2NvcGUsYVtiXSl9LHVucmVnaXN0ZXI6ZnVuY3Rpb24oYSxiLGMpe251bGw9PWImJihiPXRoaXMub2JqZWN0KTthPXRoaXMubGlzdGVuZXJzW2FdO2lmKG51bGwhPWEpZm9yKHZhciBkPTAsZT1hLmxlbmd0aDtkPGU7ZCsrKWlmKGFbZF0ub2JqPT1iJiZhW2RdLmZ1bmM9PWMpe2Euc3BsaWNlKGQsMSk7YnJlYWt9fSxyZW1vdmU6ZnVuY3Rpb24oYSl7bnVsbCE9dGhpcy5saXN0ZW5lcnNbYV0mJih0aGlzLmxpc3RlbmVyc1thXT1bXSl9LHRyaWdnZXJFdmVudDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMubGlzdGVuZXJzW2FdO2lmKGMmJjAhPWMubGVuZ3RoKXtudWxsPT1iJiYoYj17fSk7Yi5vYmplY3Q9dGhpcy5vYmplY3Q7Yi5lbGVtZW50PXRoaXMuZWxlbWVudDtiLnR5cGV8fChiLnR5cGU9CmEpO2Zvcih2YXIgYz1jLnNsaWNlKCksZCxlPTAsZj1jLmxlbmd0aDtlPGYmJiEoZD1jW2VdLGQ9ZC5mdW5jLmFwcGx5KGQub2JqLFtiXSksdm9pZCAwIT1kJiYhMT09ZCk7ZSsrKTt0aGlzLmZhbGxUaHJvdWdofHxPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYiwhMCk7cmV0dXJuIGR9fSxoYW5kbGVCcm93c2VyRXZlbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS50eXBlLGM9dGhpcy5saXN0ZW5lcnNbYl07aWYoYyYmMCE9Yy5sZW5ndGgpe2lmKChjPWEudG91Y2hlcykmJmNbMF0pe2Zvcih2YXIgZD0wLGU9MCxmPWMubGVuZ3RoLGcsaD0wO2g8ZjsrK2gpZz10aGlzLmdldFRvdWNoQ2xpZW50WFkoY1toXSksZCs9Zy5jbGllbnRYLGUrPWcuY2xpZW50WTthLmNsaWVudFg9ZC9mO2EuY2xpZW50WT1lL2Z9dGhpcy5pbmNsdWRlWFkmJihhLnh5PXRoaXMuZ2V0TW91c2VQb3NpdGlvbihhKSk7dGhpcy50cmlnZ2VyRXZlbnQoYixhKX19LGdldFRvdWNoQ2xpZW50WFk6ZnVuY3Rpb24oYSl7dmFyIGI9d2luZG93Lm9sTW9ja1dpbnx8CndpbmRvdyxjPWIucGFnZVhPZmZzZXQsYj1iLnBhZ2VZT2Zmc2V0LGQ9YS5jbGllbnRYLGU9YS5jbGllbnRZO2lmKDA9PT1hLnBhZ2VZJiZNYXRoLmZsb29yKGUpPk1hdGguZmxvb3IoYS5wYWdlWSl8fDA9PT1hLnBhZ2VYJiZNYXRoLmZsb29yKGQpPk1hdGguZmxvb3IoYS5wYWdlWCkpZC09YyxlLT1iO2Vsc2UgaWYoZTxhLnBhZ2VZLWJ8fGQ8YS5wYWdlWC1jKWQ9YS5wYWdlWC1jLGU9YS5wYWdlWS1iO2Eub2xDbGllbnRYPWQ7YS5vbENsaWVudFk9ZTtyZXR1cm57Y2xpZW50WDpkLGNsaWVudFk6ZX19LGNsZWFyTW91c2VDYWNoZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5zY3JvbGxzPW51bGw7dGhpcy5lbGVtZW50LmxlZnR0b3A9bnVsbDt0aGlzLmVsZW1lbnQub2Zmc2V0cz1udWxsfSxnZXRNb3VzZVBvc2l0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuaW5jbHVkZVhZP3RoaXMuZWxlbWVudC5oYXNTY3JvbGxFdmVudHx8KE9wZW5MYXllcnMuRXZlbnQub2JzZXJ2ZSh3aW5kb3csInNjcm9sbCIsCnRoaXMuY2xlYXJNb3VzZUxpc3RlbmVyKSx0aGlzLmVsZW1lbnQuaGFzU2Nyb2xsRXZlbnQ9ITApOnRoaXMuY2xlYXJNb3VzZUNhY2hlKCk7aWYoIXRoaXMuZWxlbWVudC5zY3JvbGxzKXt2YXIgYj1PcGVuTGF5ZXJzLlV0aWwuZ2V0Vmlld3BvcnRFbGVtZW50KCk7dGhpcy5lbGVtZW50LnNjcm9sbHM9W3dpbmRvdy5wYWdlWE9mZnNldHx8Yi5zY3JvbGxMZWZ0LHdpbmRvdy5wYWdlWU9mZnNldHx8Yi5zY3JvbGxUb3BdfXRoaXMuZWxlbWVudC5sZWZ0dG9wfHwodGhpcy5lbGVtZW50LmxlZnR0b3A9W2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRMZWZ0fHwwLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRUb3B8fDBdKTt0aGlzLmVsZW1lbnQub2Zmc2V0c3x8KHRoaXMuZWxlbWVudC5vZmZzZXRzPU9wZW5MYXllcnMuVXRpbC5wYWdlUG9zaXRpb24odGhpcy5lbGVtZW50KSk7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLlBpeGVsKGEuY2xpZW50WCt0aGlzLmVsZW1lbnQuc2Nyb2xsc1swXS0KdGhpcy5lbGVtZW50Lm9mZnNldHNbMF0tdGhpcy5lbGVtZW50LmxlZnR0b3BbMF0sYS5jbGllbnRZK3RoaXMuZWxlbWVudC5zY3JvbGxzWzFdLXRoaXMuZWxlbWVudC5vZmZzZXRzWzFdLXRoaXMuZWxlbWVudC5sZWZ0dG9wWzFdKX0sYWRkTXNUb3VjaExpc3RlbmVyOmZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKGEpe2MoT3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3N0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe2Zvcih2YXIgYT1lLmxlbmd0aC0xOzA8PWE7LS1hKWVbYV0uc3RvcFByb3BhZ2F0aW9uKCl9LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7Zm9yKHZhciBhPWUubGVuZ3RoLTE7MDw9YTstLWEpZVthXS5wcmV2ZW50RGVmYXVsdCgpfSx0eXBlOmJ9LGEpKX12YXIgZT10aGlzLl9tc1RvdWNoZXM7c3dpdGNoKGIpe2Nhc2UgInRvdWNoc3RhcnQiOnJldHVybiB0aGlzLmFkZE1zVG91Y2hMaXN0ZW5lclN0YXJ0KGEsYixkKTtjYXNlICJ0b3VjaGVuZCI6cmV0dXJuIHRoaXMuYWRkTXNUb3VjaExpc3RlbmVyRW5kKGEsCmIsZCk7Y2FzZSAidG91Y2htb3ZlIjpyZXR1cm4gdGhpcy5hZGRNc1RvdWNoTGlzdGVuZXJNb3ZlKGEsYixkKTtkZWZhdWx0OnRocm93IlVua25vd24gdG91Y2ggZXZlbnQgdHlwZSI7fX0sYWRkTXNUb3VjaExpc3RlbmVyU3RhcnQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuX21zVG91Y2hlcztPcGVuTGF5ZXJzLkV2ZW50Lm9ic2VydmUoYSwiTVNQb2ludGVyRG93biIsZnVuY3Rpb24oYSl7Zm9yKHZhciBiPSExLGc9MCxoPWQubGVuZ3RoO2c8aDsrK2cpaWYoZFtnXS5wb2ludGVySWQ9PWEucG9pbnRlcklkKXtiPSEwO2JyZWFrfWJ8fGQucHVzaChhKTthLnRvdWNoZXM9ZC5zbGljZSgpO2MoYSl9KTtPcGVuTGF5ZXJzLkV2ZW50Lm9ic2VydmUoYSwiTVNQb2ludGVyVXAiLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9ZC5sZW5ndGg7YjxjOysrYilpZihkW2JdLnBvaW50ZXJJZD09YS5wb2ludGVySWQpe2Quc3BsaWNlKGIsMSk7YnJlYWt9fSl9LGFkZE1zVG91Y2hMaXN0ZW5lck1vdmU6ZnVuY3Rpb24oYSwKYixjKXt2YXIgZD10aGlzLl9tc1RvdWNoZXM7T3BlbkxheWVycy5FdmVudC5vYnNlcnZlKGEsIk1TUG9pbnRlck1vdmUiLGZ1bmN0aW9uKGEpe2lmKCEoYS5wb2ludGVyVHlwZT09YS5NU1BPSU5URVJfVFlQRV9NT1VTRSYmMD09YS5idXR0b25zKSYmISgxPT1kLmxlbmd0aCYmZFswXS5wYWdlWD09YS5wYWdlWCYmZFswXS5wYWdlWT09YS5wYWdlWSkpe2Zvcih2YXIgYj0wLGc9ZC5sZW5ndGg7YjxnOysrYilpZihkW2JdLnBvaW50ZXJJZD09YS5wb2ludGVySWQpe2RbYl09YTticmVha31hLnRvdWNoZXM9ZC5zbGljZSgpO2MoYSl9fSl9LGFkZE1zVG91Y2hMaXN0ZW5lckVuZDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5fbXNUb3VjaGVzO09wZW5MYXllcnMuRXZlbnQub2JzZXJ2ZShhLCJNU1BvaW50ZXJVcCIsZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsZz1kLmxlbmd0aDtiPGc7KytiKWlmKGRbYl0ucG9pbnRlcklkPT1hLnBvaW50ZXJJZCl7ZC5zcGxpY2UoYiwxKTticmVha31hLnRvdWNoZXM9CmQuc2xpY2UoKTtjKGEpfSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRXZlbnRzIn0pO09wZW5MYXllcnMuRXZlbnRzLmJ1dHRvbmNsaWNrPU9wZW5MYXllcnMuQ2xhc3Moe3RhcmdldDpudWxsLGV2ZW50czoibW91c2Vkb3duIG1vdXNldXAgY2xpY2sgZGJsY2xpY2sgdG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQga2V5ZG93biIuc3BsaXQoIiAiKSxzdGFydFJlZ0V4Oi9ebW91c2Vkb3dufHRvdWNoc3RhcnQkLyxjYW5jZWxSZWdFeDovXnRvdWNobW92ZSQvLGNvbXBsZXRlUmVnRXg6L15tb3VzZXVwfHRvdWNoZW5kJC8saW5pdGlhbGl6ZTpmdW5jdGlvbihhKXt0aGlzLnRhcmdldD1hO2ZvcihhPXRoaXMuZXZlbnRzLmxlbmd0aC0xOzA8PWE7LS1hKXRoaXMudGFyZ2V0LnJlZ2lzdGVyKHRoaXMuZXZlbnRzW2FdLHRoaXMsdGhpcy5idXR0b25DbGljayx7ZXh0ZW5zaW9uOiEwfSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5ldmVudHMubGVuZ3RoLTE7MDw9YTstLWEpdGhpcy50YXJnZXQudW5yZWdpc3Rlcih0aGlzLmV2ZW50c1thXSx0aGlzLHRoaXMuYnV0dG9uQ2xpY2spOwpkZWxldGUgdGhpcy50YXJnZXR9LGdldFByZXNzZWRCdXR0b246ZnVuY3Rpb24oYSl7dmFyIGI9MyxjO2Rve2lmKE9wZW5MYXllcnMuRWxlbWVudC5oYXNDbGFzcyhhLCJvbEJ1dHRvbiIpKXtjPWE7YnJlYWt9YT1hLnBhcmVudE5vZGV9d2hpbGUoMDwtLWImJmEpO3JldHVybiBjfSxpZ25vcmU6ZnVuY3Rpb24oYSl7dmFyIGI9MyxjPSExO2Rve2lmKCJhIj09PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7Yz0hMDticmVha31hPWEucGFyZW50Tm9kZX13aGlsZSgwPC0tYiYmYSk7cmV0dXJuIGN9LGJ1dHRvbkNsaWNrOmZ1bmN0aW9uKGEpe3ZhciBiPSEwLGM9T3BlbkxheWVycy5FdmVudC5lbGVtZW50KGEpO2lmKGMmJihPcGVuTGF5ZXJzLkV2ZW50LmlzTGVmdENsaWNrKGEpfHwhfmEudHlwZS5pbmRleE9mKCJtb3VzZSIpKSlpZihjPXRoaXMuZ2V0UHJlc3NlZEJ1dHRvbihjKSl7aWYoImtleWRvd24iPT09YS50eXBlKXN3aXRjaChhLmtleUNvZGUpe2Nhc2UgT3BlbkxheWVycy5FdmVudC5LRVlfUkVUVVJOOmNhc2UgT3BlbkxheWVycy5FdmVudC5LRVlfU1BBQ0U6dGhpcy50YXJnZXQudHJpZ2dlckV2ZW50KCJidXR0b25jbGljayIsCntidXR0b25FbGVtZW50OmN9KSxPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSksYj0hMX1lbHNlIGlmKHRoaXMuc3RhcnRFdnQpe2lmKHRoaXMuY29tcGxldGVSZWdFeC50ZXN0KGEudHlwZSkpe3ZhciBiPU9wZW5MYXllcnMuVXRpbC5wYWdlUG9zaXRpb24oYyksZD1PcGVuTGF5ZXJzLlV0aWwuZ2V0Vmlld3BvcnRFbGVtZW50KCksZT13aW5kb3cucGFnZVlPZmZzZXR8fGQuc2Nyb2xsVG9wO2JbMF0tPXdpbmRvdy5wYWdlWE9mZnNldHx8ZC5zY3JvbGxMZWZ0O2JbMV0tPWU7dGhpcy50YXJnZXQudHJpZ2dlckV2ZW50KCJidXR0b25jbGljayIse2J1dHRvbkVsZW1lbnQ6YyxidXR0b25YWTp7eDp0aGlzLnN0YXJ0RXZ0LmNsaWVudFgtYlswXSx5OnRoaXMuc3RhcnRFdnQuY2xpZW50WS1iWzFdfX0pfXRoaXMuY2FuY2VsUmVnRXgudGVzdChhLnR5cGUpJiZkZWxldGUgdGhpcy5zdGFydEV2dDtPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSk7Yj0hMX10aGlzLnN0YXJ0UmVnRXgudGVzdChhLnR5cGUpJiYKKHRoaXMuc3RhcnRFdnQ9YSxPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSksYj0hMSl9ZWxzZSBiPSF0aGlzLmlnbm9yZShPcGVuTGF5ZXJzLkV2ZW50LmVsZW1lbnQoYSkpLGRlbGV0ZSB0aGlzLnN0YXJ0RXZ0O3JldHVybiBifX0pO09wZW5MYXllcnMuVXRpbD1PcGVuTGF5ZXJzLlV0aWx8fHt9OwpPcGVuTGF5ZXJzLlV0aWwudmVuZG9yUHJlZml4PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe2lmKHZvaWQgMD09PWZbYl0pe3ZhciBkLGU9MCxrPWMubGVuZ3RoLGw9InVuZGVmaW5lZCIhPT10eXBlb2YgYS5jc3NUZXh0O2ZvcihmW2JdPW51bGw7ZTxrO2UrKylpZigoZD1jW2VdKT8obHx8KGQ9ZC50b0xvd2VyQ2FzZSgpKSxkPWQrYi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStiLnNsaWNlKDEpKTpkPWIsdm9pZCAwIT09YVtkXSl7ZltiXT1kO2JyZWFrfX1yZXR1cm4gZltiXX1mdW5jdGlvbiBiKGIpe3JldHVybiBhKGQsYil9dmFyIGM9WyIiLCJPIiwibXMiLCJNb3oiLCJXZWJraXQiXSxkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLnN0eWxlLGU9e30sZj17fTtyZXR1cm57Y3NzOmZ1bmN0aW9uKGEpe2lmKHZvaWQgMD09PWVbYV0pe3ZhciBjPWEucmVwbGFjZSgvKC1bXHNcU10pL2csZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckF0KDEpLnRvVXBwZXJDYXNlKCl9KSxjPQpiKGMpO2M9Yz9jLnJlcGxhY2UoLyhbQS1aXSkvZyxmdW5jdGlvbihhKXtyZXR1cm4iLSIrYS50b0xvd2VyQ2FzZSgpfSkucmVwbGFjZSgvXm1zLS8sIi1tcy0iKTpudWxsO2VbYV09Y31yZXR1cm4gZVthXX0sanM6YSxzdHlsZTpiLGNzc0NhY2hlOmUsanNDYWNoZTpmfX0oKTtPcGVuTGF5ZXJzLkFuaW1hdGlvbj1mdW5jdGlvbihhKXt2YXIgYj1PcGVuTGF5ZXJzLlV0aWwudmVuZG9yUHJlZml4LmpzKGEsInJlcXVlc3RBbmltYXRpb25GcmFtZSIpLGMsZD1hW2JdfHxmdW5jdGlvbihiKXthLnNldFRpbWVvdXQoYiwxNil9O2M9ZnVuY3Rpb24oYixjKXtkLmFwcGx5KGEsW2IsY10pfTt2YXIgZT0wLGY9e307cmV0dXJue2lzTmF0aXZlOiEhYixyZXF1ZXN0RnJhbWU6YyxzdGFydDpmdW5jdGlvbihhLGIsZCl7dmFyIGI9MDxiP2I6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGo9KytlLGs9K25ldyBEYXRlO2Zbal09ZnVuY3Rpb24oKXtmW2pdJiYrbmV3IERhdGUtazw9Yj8oYSgpLGZbal0mJmMoZltqXSxkKSk6ZGVsZXRlIGZbal19O2MoZltqXSxkKTtyZXR1cm4gan0sc3RvcDpmdW5jdGlvbihhKXtkZWxldGUgZlthXX19fSh3aW5kb3cpO09wZW5MYXllcnMuVHdlZW49T3BlbkxheWVycy5DbGFzcyh7ZWFzaW5nOm51bGwsYmVnaW46bnVsbCxmaW5pc2g6bnVsbCxkdXJhdGlvbjpudWxsLGNhbGxiYWNrczpudWxsLHRpbWU6bnVsbCxtaW5GcmFtZVJhdGU6bnVsbCxzdGFydFRpbWU6bnVsbCxhbmltYXRpb25JZDpudWxsLHBsYXlpbmc6ITEsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXt0aGlzLmVhc2luZz1hP2E6T3BlbkxheWVycy5FYXNpbmcuRXhwby5lYXNlT3V0fSxzdGFydDpmdW5jdGlvbihhLGIsYyxkKXt0aGlzLnBsYXlpbmc9ITA7dGhpcy5iZWdpbj1hO3RoaXMuZmluaXNoPWI7dGhpcy5kdXJhdGlvbj1jO3RoaXMuY2FsbGJhY2tzPWQuY2FsbGJhY2tzO3RoaXMubWluRnJhbWVSYXRlPWQubWluRnJhbWVSYXRlfHwzMDt0aGlzLnRpbWU9MDt0aGlzLnN0YXJ0VGltZT0obmV3IERhdGUpLmdldFRpbWUoKTtPcGVuTGF5ZXJzLkFuaW1hdGlvbi5zdG9wKHRoaXMuYW5pbWF0aW9uSWQpO3RoaXMuYW5pbWF0aW9uSWQ9bnVsbDsKdGhpcy5jYWxsYmFja3MmJnRoaXMuY2FsbGJhY2tzLnN0YXJ0JiZ0aGlzLmNhbGxiYWNrcy5zdGFydC5jYWxsKHRoaXMsdGhpcy5iZWdpbik7dGhpcy5hbmltYXRpb25JZD1PcGVuTGF5ZXJzLkFuaW1hdGlvbi5zdGFydChPcGVuTGF5ZXJzLkZ1bmN0aW9uLmJpbmQodGhpcy5wbGF5LHRoaXMpKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMucGxheWluZyYmKHRoaXMuY2FsbGJhY2tzJiZ0aGlzLmNhbGxiYWNrcy5kb25lJiZ0aGlzLmNhbGxiYWNrcy5kb25lLmNhbGwodGhpcyx0aGlzLmZpbmlzaCksT3BlbkxheWVycy5BbmltYXRpb24uc3RvcCh0aGlzLmFuaW1hdGlvbklkKSx0aGlzLmFuaW1hdGlvbklkPW51bGwsdGhpcy5wbGF5aW5nPSExKX0scGxheTpmdW5jdGlvbigpe3ZhciBhPXt9LGI7Zm9yKGIgaW4gdGhpcy5iZWdpbil7dmFyIGM9dGhpcy5iZWdpbltiXSxkPXRoaXMuZmluaXNoW2JdO2lmKG51bGw9PWN8fG51bGw9PWR8fGlzTmFOKGMpfHxpc05hTihkKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJpbnZhbGlkIHZhbHVlIGZvciBUd2VlbiIpOwphW2JdPXRoaXMuZWFzaW5nLmFwcGx5KHRoaXMsW3RoaXMudGltZSxjLGQtYyx0aGlzLmR1cmF0aW9uXSl9dGhpcy50aW1lKys7dGhpcy5jYWxsYmFja3MmJnRoaXMuY2FsbGJhY2tzLmVhY2hTdGVwJiYoKG5ldyBEYXRlKS5nZXRUaW1lKCktdGhpcy5zdGFydFRpbWUpL3RoaXMudGltZTw9MUUzL3RoaXMubWluRnJhbWVSYXRlJiZ0aGlzLmNhbGxiYWNrcy5lYWNoU3RlcC5jYWxsKHRoaXMsYSk7dGhpcy50aW1lPnRoaXMuZHVyYXRpb24mJnRoaXMuc3RvcCgpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlR3ZWVuIn0pO09wZW5MYXllcnMuRWFzaW5nPXtDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkVhc2luZyJ9O09wZW5MYXllcnMuRWFzaW5nLkxpbmVhcj17ZWFzZUluOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBjKmEvZCtifSxlYXNlT3V0OmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBjKmEvZCtifSxlYXNlSW5PdXQ6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGMqYS9kK2J9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRWFzaW5nLkxpbmVhciJ9OwpPcGVuTGF5ZXJzLkVhc2luZy5FeHBvPXtlYXNlSW46ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIDA9PWE/YjpjKk1hdGgucG93KDIsMTAqKGEvZC0xKSkrYn0sZWFzZU91dDpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gYT09ZD9iK2M6YyooLU1hdGgucG93KDIsLTEwKmEvZCkrMSkrYn0sZWFzZUluT3V0OmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiAwPT1hP2I6YT09ZD9iK2M6MT4oYS89ZC8yKT9jLzIqTWF0aC5wb3coMiwxMCooYS0xKSkrYjpjLzIqKC1NYXRoLnBvdygyLC0xMCotLWEpKzIpK2J9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRWFzaW5nLkV4cG8ifTsKT3BlbkxheWVycy5FYXNpbmcuUXVhZD17ZWFzZUluOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBjKihhLz1kKSphK2J9LGVhc2VPdXQ6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuLWMqKGEvPWQpKihhLTIpK2J9LGVhc2VJbk91dDpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gMT4oYS89ZC8yKT9jLzIqYSphK2I6LWMvMiooLS1hKihhLTIpLTEpK2J9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRWFzaW5nLlF1YWQifTtPcGVuTGF5ZXJzLlByb2plY3Rpb249T3BlbkxheWVycy5DbGFzcyh7cHJvajpudWxsLHByb2pDb2RlOm51bGwsdGl0bGVSZWdFeDovXCt0aXRsZT1bXlwrXSovLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsYik7dGhpcy5wcm9qQ29kZT1hOyJvYmplY3QiPT10eXBlb2YgUHJvajRqcyYmKHRoaXMucHJvaj1uZXcgUHJvajRqcy5Qcm9qKGEpKX0sZ2V0Q29kZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb2o/dGhpcy5wcm9qLnNyc0NvZGU6dGhpcy5wcm9qQ29kZX0sZ2V0VW5pdHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9qP3RoaXMucHJvai51bml0czpudWxsfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENvZGUoKX0sZXF1YWxzOmZ1bmN0aW9uKGEpe3ZhciBiPSExO2EmJihhIGluc3RhbmNlb2YgT3BlbkxheWVycy5Qcm9qZWN0aW9ufHwoYT1uZXcgT3BlbkxheWVycy5Qcm9qZWN0aW9uKGEpKSwib2JqZWN0Ij09CnR5cGVvZiBQcm9qNGpzJiZ0aGlzLnByb2ouZGVmRGF0YSYmYS5wcm9qLmRlZkRhdGE/Yj10aGlzLnByb2ouZGVmRGF0YS5yZXBsYWNlKHRoaXMudGl0bGVSZWdFeCwiIik9PWEucHJvai5kZWZEYXRhLnJlcGxhY2UodGhpcy50aXRsZVJlZ0V4LCIiKTphLmdldENvZGUmJihiPXRoaXMuZ2V0Q29kZSgpLGE9YS5nZXRDb2RlKCksYj1iPT1hfHwhIU9wZW5MYXllcnMuUHJvamVjdGlvbi50cmFuc2Zvcm1zW2JdJiZPcGVuTGF5ZXJzLlByb2plY3Rpb24udHJhbnNmb3Jtc1tiXVthXT09PU9wZW5MYXllcnMuUHJvamVjdGlvbi5udWxsVHJhbnNmb3JtKSk7cmV0dXJuIGJ9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5wcm9qO2RlbGV0ZSB0aGlzLnByb2pDb2RlfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlByb2plY3Rpb24ifSk7T3BlbkxheWVycy5Qcm9qZWN0aW9uLnRyYW5zZm9ybXM9e307Ck9wZW5MYXllcnMuUHJvamVjdGlvbi5kZWZhdWx0cz17IkVQU0c6NDMyNiI6e3VuaXRzOiJkZWdyZWVzIixtYXhFeHRlbnQ6Wy0xODAsLTkwLDE4MCw5MF0seXg6ITB9LCJDUlM6ODQiOnt1bml0czoiZGVncmVlcyIsbWF4RXh0ZW50OlstMTgwLC05MCwxODAsOTBdfSwiRVBTRzo5MDA5MTMiOnt1bml0czoibSIsbWF4RXh0ZW50OlstMi4wMDM3NTA4MzRFNywtMi4wMDM3NTA4MzRFNywyLjAwMzc1MDgzNEU3LDIuMDAzNzUwODM0RTddfX07Ck9wZW5MYXllcnMuUHJvamVjdGlvbi5hZGRUcmFuc2Zvcm09ZnVuY3Rpb24oYSxiLGMpe2lmKGM9PT1PcGVuTGF5ZXJzLlByb2plY3Rpb24ubnVsbFRyYW5zZm9ybSl7dmFyIGQ9T3BlbkxheWVycy5Qcm9qZWN0aW9uLmRlZmF1bHRzW2FdO2QmJiFPcGVuTGF5ZXJzLlByb2plY3Rpb24uZGVmYXVsdHNbYl0mJihPcGVuTGF5ZXJzLlByb2plY3Rpb24uZGVmYXVsdHNbYl09ZCl9T3BlbkxheWVycy5Qcm9qZWN0aW9uLnRyYW5zZm9ybXNbYV18fChPcGVuTGF5ZXJzLlByb2plY3Rpb24udHJhbnNmb3Jtc1thXT17fSk7T3BlbkxheWVycy5Qcm9qZWN0aW9uLnRyYW5zZm9ybXNbYV1bYl09Y307Ck9wZW5MYXllcnMuUHJvamVjdGlvbi50cmFuc2Zvcm09ZnVuY3Rpb24oYSxiLGMpe2lmKGImJmMpaWYoYiBpbnN0YW5jZW9mIE9wZW5MYXllcnMuUHJvamVjdGlvbnx8KGI9bmV3IE9wZW5MYXllcnMuUHJvamVjdGlvbihiKSksYyBpbnN0YW5jZW9mIE9wZW5MYXllcnMuUHJvamVjdGlvbnx8KGM9bmV3IE9wZW5MYXllcnMuUHJvamVjdGlvbihjKSksYi5wcm9qJiZjLnByb2opYT1Qcm9qNGpzLnRyYW5zZm9ybShiLnByb2osYy5wcm9qLGEpO2Vsc2V7dmFyIGI9Yi5nZXRDb2RlKCksYz1jLmdldENvZGUoKSxkPU9wZW5MYXllcnMuUHJvamVjdGlvbi50cmFuc2Zvcm1zO2lmKGRbYl0mJmRbYl1bY10pZFtiXVtjXShhKX1yZXR1cm4gYX07T3BlbkxheWVycy5Qcm9qZWN0aW9uLm51bGxUcmFuc2Zvcm09ZnVuY3Rpb24oYSl7cmV0dXJuIGF9OwooZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2EueD0xODAqYS54L2Q7YS55PTE4MC9NYXRoLlBJKigyKk1hdGguYXRhbihNYXRoLmV4cChhLnkvZCpNYXRoLlBJKSktTWF0aC5QSS8yKTtyZXR1cm4gYX1mdW5jdGlvbiBiKGEpe2EueD1hLngqZC8xODA7dmFyIGI9TWF0aC5sb2coTWF0aC50YW4oKDkwK2EueSkqTWF0aC5QSS8zNjApKS9NYXRoLlBJKmQ7YS55PU1hdGgubWF4KC0yLjAwMzc1MDgzNEU3LE1hdGgubWluKGIsMi4wMDM3NTA4MzRFNykpO3JldHVybiBhfWZ1bmN0aW9uIGMoYyxkKXt2YXIgZT1PcGVuTGF5ZXJzLlByb2plY3Rpb24uYWRkVHJhbnNmb3JtLGY9T3BlbkxheWVycy5Qcm9qZWN0aW9uLm51bGxUcmFuc2Zvcm0sZyxtLG4scCxxO2c9MDtmb3IobT1kLmxlbmd0aDtnPG07KytnKXtuPWRbZ107ZShjLG4sYik7ZShuLGMsYSk7Zm9yKHE9ZysxO3E8bTsrK3EpcD1kW3FdLGUobixwLGYpLGUocCxuLGYpfX12YXIgZD0yLjAwMzc1MDgzNEU3LGU9WyJFUFNHOjkwMDkxMyIsCiJFUFNHOjM4NTciLCJFUFNHOjEwMjExMyIsIkVQU0c6MTAyMTAwIiwiT1NHRU86NDEwMDEiXSxmPVsiQ1JTOjg0IiwidXJuOm9nYzpkZWY6Y3JzOkVQU0c6Ni42OjQzMjYiLCJFUFNHOjQzMjYiXSxnO2ZvcihnPWUubGVuZ3RoLTE7MDw9ZzstLWcpYyhlW2ddLGYpO2ZvcihnPWYubGVuZ3RoLTE7MDw9ZzstLWcpYyhmW2ddLGUpfSkoKTtPcGVuTGF5ZXJzLk1hcD1PcGVuTGF5ZXJzLkNsYXNzKHtaX0lOREVYX0JBU0U6e0Jhc2VMYXllcjoxMDAsT3ZlcmxheTozMjUsRmVhdHVyZTo3MjUsUG9wdXA6NzUwLENvbnRyb2w6MUUzfSxpZDpudWxsLGZyYWN0aW9uYWxab29tOiExLGV2ZW50czpudWxsLGFsbE92ZXJsYXlzOiExLGRpdjpudWxsLGRyYWdnaW5nOiExLHNpemU6bnVsbCx2aWV3UG9ydERpdjpudWxsLGxheWVyQ29udGFpbmVyT3JpZ2luOm51bGwsbGF5ZXJDb250YWluZXJEaXY6bnVsbCxsYXllcnM6bnVsbCxjb250cm9sczpudWxsLHBvcHVwczpudWxsLGJhc2VMYXllcjpudWxsLGNlbnRlcjpudWxsLHJlc29sdXRpb246bnVsbCx6b29tOjAscGFuUmF0aW86MS41LG9wdGlvbnM6bnVsbCx0aWxlU2l6ZTpudWxsLHByb2plY3Rpb246IkVQU0c6NDMyNiIsdW5pdHM6bnVsbCxyZXNvbHV0aW9uczpudWxsLG1heFJlc29sdXRpb246bnVsbCxtaW5SZXNvbHV0aW9uOm51bGwsbWF4U2NhbGU6bnVsbCxtaW5TY2FsZTpudWxsLAptYXhFeHRlbnQ6bnVsbCxtaW5FeHRlbnQ6bnVsbCxyZXN0cmljdGVkRXh0ZW50Om51bGwsbnVtWm9vbUxldmVsczoxNix0aGVtZTpudWxsLGRpc3BsYXlQcm9qZWN0aW9uOm51bGwsZmFsbFRocm91Z2g6ITEsYXV0b1VwZGF0ZVNpemU6ITAsZXZlbnRMaXN0ZW5lcnM6bnVsbCxwYW5Ud2VlbjpudWxsLHBhbk1ldGhvZDpPcGVuTGF5ZXJzLkVhc2luZy5FeHBvLmVhc2VPdXQscGFuRHVyYXRpb246NTAsem9vbVR3ZWVuOm51bGwsem9vbU1ldGhvZDpPcGVuTGF5ZXJzLkVhc2luZy5RdWFkLmVhc2VPdXQsem9vbUR1cmF0aW9uOjIwLHBhZGRpbmdGb3JQb3B1cHM6bnVsbCxsYXllckNvbnRhaW5lck9yaWdpblB4Om51bGwsbWluUHg6bnVsbCxtYXhQeDpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiKXsxPT09YXJndW1lbnRzLmxlbmd0aCYmIm9iamVjdCI9PT10eXBlb2YgYSYmKGE9KGI9YSkmJmIuZGl2KTt0aGlzLnRpbGVTaXplPW5ldyBPcGVuTGF5ZXJzLlNpemUoT3BlbkxheWVycy5NYXAuVElMRV9XSURUSCwKT3BlbkxheWVycy5NYXAuVElMRV9IRUlHSFQpO3RoaXMucGFkZGluZ0ZvclBvcHVwcz1uZXcgT3BlbkxheWVycy5Cb3VuZHMoMTUsMTUsMTUsMTUpO3RoaXMudGhlbWU9T3BlbkxheWVycy5fZ2V0U2NyaXB0TG9jYXRpb24oKSsidGhlbWUvZGVmYXVsdC9zdHlsZS5jc3MiO3RoaXMub3B0aW9ucz1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LGIpO09wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcyxiKTtPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh0aGlzLE9wZW5MYXllcnMuUHJvamVjdGlvbi5kZWZhdWx0c1t0aGlzLnByb2plY3Rpb24gaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLlByb2plY3Rpb24/dGhpcy5wcm9qZWN0aW9uLnByb2pDb2RlOnRoaXMucHJvamVjdGlvbl0pO3RoaXMubWF4RXh0ZW50JiYhKHRoaXMubWF4RXh0ZW50IGluc3RhbmNlb2YgT3BlbkxheWVycy5Cb3VuZHMpJiYodGhpcy5tYXhFeHRlbnQ9bmV3IE9wZW5MYXllcnMuQm91bmRzKHRoaXMubWF4RXh0ZW50KSk7CnRoaXMubWluRXh0ZW50JiYhKHRoaXMubWluRXh0ZW50IGluc3RhbmNlb2YgT3BlbkxheWVycy5Cb3VuZHMpJiYodGhpcy5taW5FeHRlbnQ9bmV3IE9wZW5MYXllcnMuQm91bmRzKHRoaXMubWluRXh0ZW50KSk7dGhpcy5yZXN0cmljdGVkRXh0ZW50JiYhKHRoaXMucmVzdHJpY3RlZEV4dGVudCBpbnN0YW5jZW9mIE9wZW5MYXllcnMuQm91bmRzKSYmKHRoaXMucmVzdHJpY3RlZEV4dGVudD1uZXcgT3BlbkxheWVycy5Cb3VuZHModGhpcy5yZXN0cmljdGVkRXh0ZW50KSk7dGhpcy5jZW50ZXImJiEodGhpcy5jZW50ZXIgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkxvbkxhdCkmJih0aGlzLmNlbnRlcj1uZXcgT3BlbkxheWVycy5Mb25MYXQodGhpcy5jZW50ZXIpKTt0aGlzLmxheWVycz1bXTt0aGlzLmlkPU9wZW5MYXllcnMuVXRpbC5jcmVhdGVVbmlxdWVJRCgiT3BlbkxheWVycy5NYXBfIik7dGhpcy5kaXY9T3BlbkxheWVycy5VdGlsLmdldEVsZW1lbnQoYSk7dGhpcy5kaXZ8fCh0aGlzLmRpdj0KZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5kaXYuc3R5bGUuaGVpZ2h0PSIxcHgiLHRoaXMuZGl2LnN0eWxlLndpZHRoPSIxcHgiKTtPcGVuTGF5ZXJzLkVsZW1lbnQuYWRkQ2xhc3ModGhpcy5kaXYsIm9sTWFwIik7dmFyIGM9dGhpcy5pZCsiX09wZW5MYXllcnNfVmlld1BvcnQiO3RoaXMudmlld1BvcnREaXY9T3BlbkxheWVycy5VdGlsLmNyZWF0ZURpdihjLG51bGwsbnVsbCxudWxsLCJyZWxhdGl2ZSIsbnVsbCwiaGlkZGVuIik7dGhpcy52aWV3UG9ydERpdi5zdHlsZS53aWR0aD0iMTAwJSI7dGhpcy52aWV3UG9ydERpdi5zdHlsZS5oZWlnaHQ9IjEwMCUiO3RoaXMudmlld1BvcnREaXYuY2xhc3NOYW1lPSJvbE1hcFZpZXdwb3J0Ijt0aGlzLmRpdi5hcHBlbmRDaGlsZCh0aGlzLnZpZXdQb3J0RGl2KTt0aGlzLmV2ZW50cz1uZXcgT3BlbkxheWVycy5FdmVudHModGhpcyx0aGlzLnZpZXdQb3J0RGl2LG51bGwsdGhpcy5mYWxsVGhyb3VnaCx7aW5jbHVkZVhZOiEwfSk7Ck9wZW5MYXllcnMuVGlsZU1hbmFnZXImJm51bGwhPT10aGlzLnRpbGVNYW5hZ2VyJiYodGhpcy50aWxlTWFuYWdlciBpbnN0YW5jZW9mIE9wZW5MYXllcnMuVGlsZU1hbmFnZXJ8fCh0aGlzLnRpbGVNYW5hZ2VyPW5ldyBPcGVuTGF5ZXJzLlRpbGVNYW5hZ2VyKHRoaXMudGlsZU1hbmFnZXIpKSx0aGlzLnRpbGVNYW5hZ2VyLmFkZE1hcCh0aGlzKSk7Yz10aGlzLmlkKyJfT3BlbkxheWVyc19Db250YWluZXIiO3RoaXMubGF5ZXJDb250YWluZXJEaXY9T3BlbkxheWVycy5VdGlsLmNyZWF0ZURpdihjKTt0aGlzLmxheWVyQ29udGFpbmVyRGl2LnN0eWxlLnpJbmRleD10aGlzLlpfSU5ERVhfQkFTRS5Qb3B1cC0xO3RoaXMubGF5ZXJDb250YWluZXJPcmlnaW5QeD17eDowLHk6MH07dGhpcy5hcHBseVRyYW5zZm9ybSgpO3RoaXMudmlld1BvcnREaXYuYXBwZW5kQ2hpbGQodGhpcy5sYXllckNvbnRhaW5lckRpdik7dGhpcy51cGRhdGVTaXplKCk7aWYodGhpcy5ldmVudExpc3RlbmVycyBpbnN0YW5jZW9mCk9iamVjdCl0aGlzLmV2ZW50cy5vbih0aGlzLmV2ZW50TGlzdGVuZXJzKTshMD09PXRoaXMuYXV0b1VwZGF0ZVNpemUmJih0aGlzLnVwZGF0ZVNpemVEZXN0cm95PU9wZW5MYXllcnMuRnVuY3Rpb24uYmluZCh0aGlzLnVwZGF0ZVNpemUsdGhpcyksT3BlbkxheWVycy5FdmVudC5vYnNlcnZlKHdpbmRvdywicmVzaXplIix0aGlzLnVwZGF0ZVNpemVEZXN0cm95KSk7aWYodGhpcy50aGVtZSl7Zm9yKHZhciBjPSEwLGQ9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImxpbmsiKSxlPTAsZj1kLmxlbmd0aDtlPGY7KytlKWlmKE9wZW5MYXllcnMuVXRpbC5pc0VxdWl2YWxlbnRVcmwoZC5pdGVtKGUpLmhyZWYsdGhpcy50aGVtZSkpe2M9ITE7YnJlYWt9YyYmKGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGluayIpLGMuc2V0QXR0cmlidXRlKCJyZWwiLCJzdHlsZXNoZWV0IiksYy5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0ZXh0L2NzcyIpLGMuc2V0QXR0cmlidXRlKCJocmVmIix0aGlzLnRoZW1lKSwKZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXS5hcHBlbmRDaGlsZChjKSl9bnVsbD09dGhpcy5jb250cm9scyYmKHRoaXMuY29udHJvbHM9W10sbnVsbCE9T3BlbkxheWVycy5Db250cm9sJiYoT3BlbkxheWVycy5Db250cm9sLk5hdmlnYXRpb24/dGhpcy5jb250cm9scy5wdXNoKG5ldyBPcGVuTGF5ZXJzLkNvbnRyb2wuTmF2aWdhdGlvbik6T3BlbkxheWVycy5Db250cm9sLlRvdWNoTmF2aWdhdGlvbiYmdGhpcy5jb250cm9scy5wdXNoKG5ldyBPcGVuTGF5ZXJzLkNvbnRyb2wuVG91Y2hOYXZpZ2F0aW9uKSxPcGVuTGF5ZXJzLkNvbnRyb2wuWm9vbT90aGlzLmNvbnRyb2xzLnB1c2gobmV3IE9wZW5MYXllcnMuQ29udHJvbC5ab29tKTpPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuWm9vbSYmdGhpcy5jb250cm9scy5wdXNoKG5ldyBPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuWm9vbSksT3BlbkxheWVycy5Db250cm9sLkFyZ1BhcnNlciYmdGhpcy5jb250cm9scy5wdXNoKG5ldyBPcGVuTGF5ZXJzLkNvbnRyb2wuQXJnUGFyc2VyKSwKT3BlbkxheWVycy5Db250cm9sLkF0dHJpYnV0aW9uJiZ0aGlzLmNvbnRyb2xzLnB1c2gobmV3IE9wZW5MYXllcnMuQ29udHJvbC5BdHRyaWJ1dGlvbikpKTtlPTA7Zm9yKGY9dGhpcy5jb250cm9scy5sZW5ndGg7ZTxmO2UrKyl0aGlzLmFkZENvbnRyb2xUb01hcCh0aGlzLmNvbnRyb2xzW2VdKTt0aGlzLnBvcHVwcz1bXTt0aGlzLnVubG9hZERlc3Ryb3k9T3BlbkxheWVycy5GdW5jdGlvbi5iaW5kKHRoaXMuZGVzdHJveSx0aGlzKTtPcGVuTGF5ZXJzLkV2ZW50Lm9ic2VydmUod2luZG93LCJ1bmxvYWQiLHRoaXMudW5sb2FkRGVzdHJveSk7YiYmYi5sYXllcnMmJihkZWxldGUgdGhpcy5jZW50ZXIsZGVsZXRlIHRoaXMuem9vbSx0aGlzLmFkZExheWVycyhiLmxheWVycyksYi5jZW50ZXImJiF0aGlzLmdldENlbnRlcigpJiZ0aGlzLnNldENlbnRlcihiLmNlbnRlcixiLnpvb20pKTt0aGlzLnBhbk1ldGhvZCYmKHRoaXMucGFuVHdlZW49bmV3IE9wZW5MYXllcnMuVHdlZW4odGhpcy5wYW5NZXRob2QpKTsKdGhpcy56b29tTWV0aG9kJiZ0aGlzLmFwcGx5VHJhbnNmb3JtLnRyYW5zZm9ybSYmKHRoaXMuem9vbVR3ZWVuPW5ldyBPcGVuTGF5ZXJzLlR3ZWVuKHRoaXMuem9vbU1ldGhvZCkpfSxnZXRWaWV3cG9ydDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZXdQb3J0RGl2fSxyZW5kZXI6ZnVuY3Rpb24oYSl7dGhpcy5kaXY9T3BlbkxheWVycy5VdGlsLmdldEVsZW1lbnQoYSk7T3BlbkxheWVycy5FbGVtZW50LmFkZENsYXNzKHRoaXMuZGl2LCJvbE1hcCIpO3RoaXMudmlld1BvcnREaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnZpZXdQb3J0RGl2KTt0aGlzLmRpdi5hcHBlbmRDaGlsZCh0aGlzLnZpZXdQb3J0RGl2KTt0aGlzLnVwZGF0ZVNpemUoKX0sdW5sb2FkRGVzdHJveTpudWxsLHVwZGF0ZVNpemVEZXN0cm95Om51bGwsZGVzdHJveTpmdW5jdGlvbigpe2lmKCF0aGlzLnVubG9hZERlc3Ryb3kpcmV0dXJuITE7dGhpcy5wYW5Ud2VlbiYmKHRoaXMucGFuVHdlZW4uc3RvcCgpLAp0aGlzLnBhblR3ZWVuPW51bGwpO3RoaXMuem9vbVR3ZWVuJiYodGhpcy56b29tVHdlZW4uc3RvcCgpLHRoaXMuem9vbVR3ZWVuPW51bGwpO09wZW5MYXllcnMuRXZlbnQuc3RvcE9ic2VydmluZyh3aW5kb3csInVubG9hZCIsdGhpcy51bmxvYWREZXN0cm95KTt0aGlzLnVubG9hZERlc3Ryb3k9bnVsbDt0aGlzLnVwZGF0ZVNpemVEZXN0cm95JiZPcGVuTGF5ZXJzLkV2ZW50LnN0b3BPYnNlcnZpbmcod2luZG93LCJyZXNpemUiLHRoaXMudXBkYXRlU2l6ZURlc3Ryb3kpO3RoaXMucGFkZGluZ0ZvclBvcHVwcz1udWxsO2lmKG51bGwhPXRoaXMuY29udHJvbHMpe2Zvcih2YXIgYT10aGlzLmNvbnRyb2xzLmxlbmd0aC0xOzA8PWE7LS1hKXRoaXMuY29udHJvbHNbYV0uZGVzdHJveSgpO3RoaXMuY29udHJvbHM9bnVsbH1pZihudWxsIT10aGlzLmxheWVycyl7Zm9yKGE9dGhpcy5sYXllcnMubGVuZ3RoLTE7MDw9YTstLWEpdGhpcy5sYXllcnNbYV0uZGVzdHJveSghMSk7dGhpcy5sYXllcnM9Cm51bGx9dGhpcy52aWV3UG9ydERpdiYmdGhpcy52aWV3UG9ydERpdi5wYXJlbnROb2RlJiZ0aGlzLnZpZXdQb3J0RGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy52aWV3UG9ydERpdik7dGhpcy52aWV3UG9ydERpdj1udWxsO3RoaXMudGlsZU1hbmFnZXImJih0aGlzLnRpbGVNYW5hZ2VyLnJlbW92ZU1hcCh0aGlzKSx0aGlzLnRpbGVNYW5hZ2VyPW51bGwpO3RoaXMuZXZlbnRMaXN0ZW5lcnMmJih0aGlzLmV2ZW50cy51bih0aGlzLmV2ZW50TGlzdGVuZXJzKSx0aGlzLmV2ZW50TGlzdGVuZXJzPW51bGwpO3RoaXMuZXZlbnRzLmRlc3Ryb3koKTt0aGlzLm9wdGlvbnM9dGhpcy5ldmVudHM9bnVsbH0sc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm1pblB4JiZhLnJlc3RyaWN0ZWRFeHRlbnQhPXRoaXMucmVzdHJpY3RlZEV4dGVudDtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsYSk7YiYmdGhpcy5tb3ZlVG8odGhpcy5nZXRDYWNoZWRDZW50ZXIoKSx0aGlzLnpvb20sCntmb3JjZVpvb21DaGFuZ2U6ITB9KX0sZ2V0VGlsZVNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aWxlU2l6ZX0sZ2V0Qnk6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSJmdW5jdGlvbiI9PXR5cGVvZiBjLnRlc3Q7cmV0dXJuIE9wZW5MYXllcnMuQXJyYXkuZmlsdGVyKHRoaXNbYV0sZnVuY3Rpb24oYSl7cmV0dXJuIGFbYl09PWN8fGQmJmMudGVzdChhW2JdKX0pfSxnZXRMYXllcnNCeTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmdldEJ5KCJsYXllcnMiLGEsYil9LGdldExheWVyc0J5TmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXRMYXllcnNCeSgibmFtZSIsYSl9LGdldExheWVyc0J5Q2xhc3M6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0TGF5ZXJzQnkoIkNMQVNTX05BTUUiLGEpfSxnZXRDb250cm9sc0J5OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ2V0QnkoImNvbnRyb2xzIixhLGIpfSxnZXRDb250cm9sc0J5Q2xhc3M6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0Q29udHJvbHNCeSgiQ0xBU1NfTkFNRSIsCmEpfSxnZXRMYXllcjpmdW5jdGlvbihhKXtmb3IodmFyIGI9bnVsbCxjPTAsZD10aGlzLmxheWVycy5sZW5ndGg7YzxkO2MrKyl7dmFyIGU9dGhpcy5sYXllcnNbY107aWYoZS5pZD09YSl7Yj1lO2JyZWFrfX1yZXR1cm4gYn0sc2V0TGF5ZXJaSW5kZXg6ZnVuY3Rpb24oYSxiKXthLnNldFpJbmRleCh0aGlzLlpfSU5ERVhfQkFTRVthLmlzQmFzZUxheWVyPyJCYXNlTGF5ZXIiOiJPdmVybGF5Il0rNSpiKX0scmVzZXRMYXllcnNaSW5kZXg6ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPXRoaXMubGF5ZXJzLmxlbmd0aDthPGI7YSsrKXRoaXMuc2V0TGF5ZXJaSW5kZXgodGhpcy5sYXllcnNbYV0sYSl9LGFkZExheWVyOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9dGhpcy5sYXllcnMubGVuZ3RoO2I8YztiKyspaWYodGhpcy5sYXllcnNbYl09PWEpcmV0dXJuITE7aWYoITE9PT10aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoInByZWFkZGxheWVyIix7bGF5ZXI6YX0pKXJldHVybiExO3RoaXMuYWxsT3ZlcmxheXMmJgooYS5pc0Jhc2VMYXllcj0hMSk7YS5kaXYuY2xhc3NOYW1lPSJvbExheWVyRGl2IjthLmRpdi5zdHlsZS5vdmVyZmxvdz0iIjt0aGlzLnNldExheWVyWkluZGV4KGEsdGhpcy5sYXllcnMubGVuZ3RoKTthLmlzRml4ZWQ/dGhpcy52aWV3UG9ydERpdi5hcHBlbmRDaGlsZChhLmRpdik6dGhpcy5sYXllckNvbnRhaW5lckRpdi5hcHBlbmRDaGlsZChhLmRpdik7dGhpcy5sYXllcnMucHVzaChhKTthLnNldE1hcCh0aGlzKTthLmlzQmFzZUxheWVyfHx0aGlzLmFsbE92ZXJsYXlzJiYhdGhpcy5iYXNlTGF5ZXI/bnVsbD09dGhpcy5iYXNlTGF5ZXI/dGhpcy5zZXRCYXNlTGF5ZXIoYSk6YS5zZXRWaXNpYmlsaXR5KCExKTphLnJlZHJhdygpO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiYWRkbGF5ZXIiLHtsYXllcjphfSk7YS5ldmVudHMudHJpZ2dlckV2ZW50KCJhZGRlZCIse21hcDp0aGlzLGxheWVyOmF9KTthLmFmdGVyQWRkKCk7cmV0dXJuITB9LGFkZExheWVyczpmdW5jdGlvbihhKXtmb3IodmFyIGI9CjAsYz1hLmxlbmd0aDtiPGM7YisrKXRoaXMuYWRkTGF5ZXIoYVtiXSl9LHJlbW92ZUxheWVyOmZ1bmN0aW9uKGEsYil7aWYoITEhPT10aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoInByZXJlbW92ZWxheWVyIix7bGF5ZXI6YX0pKXtudWxsPT1iJiYoYj0hMCk7YS5pc0ZpeGVkP3RoaXMudmlld1BvcnREaXYucmVtb3ZlQ2hpbGQoYS5kaXYpOnRoaXMubGF5ZXJDb250YWluZXJEaXYucmVtb3ZlQ2hpbGQoYS5kaXYpO09wZW5MYXllcnMuVXRpbC5yZW1vdmVJdGVtKHRoaXMubGF5ZXJzLGEpO2EucmVtb3ZlTWFwKHRoaXMpO2EubWFwPW51bGw7aWYodGhpcy5iYXNlTGF5ZXI9PWEmJih0aGlzLmJhc2VMYXllcj1udWxsLGIpKWZvcih2YXIgYz0wLGQ9dGhpcy5sYXllcnMubGVuZ3RoO2M8ZDtjKyspe3ZhciBlPXRoaXMubGF5ZXJzW2NdO2lmKGUuaXNCYXNlTGF5ZXJ8fHRoaXMuYWxsT3ZlcmxheXMpe3RoaXMuc2V0QmFzZUxheWVyKGUpO2JyZWFrfX10aGlzLnJlc2V0TGF5ZXJzWkluZGV4KCk7CnRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgicmVtb3ZlbGF5ZXIiLHtsYXllcjphfSk7YS5ldmVudHMudHJpZ2dlckV2ZW50KCJyZW1vdmVkIix7bWFwOnRoaXMsbGF5ZXI6YX0pfX0sZ2V0TnVtTGF5ZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGF5ZXJzLmxlbmd0aH0sZ2V0TGF5ZXJJbmRleDpmdW5jdGlvbihhKXtyZXR1cm4gT3BlbkxheWVycy5VdGlsLmluZGV4T2YodGhpcy5sYXllcnMsYSl9LHNldExheWVySW5kZXg6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldExheWVySW5kZXgoYSk7MD5iP2I9MDpiPnRoaXMubGF5ZXJzLmxlbmd0aCYmKGI9dGhpcy5sYXllcnMubGVuZ3RoKTtpZihjIT1iKXt0aGlzLmxheWVycy5zcGxpY2UoYywxKTt0aGlzLmxheWVycy5zcGxpY2UoYiwwLGEpO2Zvcih2YXIgYz0wLGQ9dGhpcy5sYXllcnMubGVuZ3RoO2M8ZDtjKyspdGhpcy5zZXRMYXllclpJbmRleCh0aGlzLmxheWVyc1tjXSxjKTt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImNoYW5nZWxheWVyIiwKe2xheWVyOmEscHJvcGVydHk6Im9yZGVyIn0pO3RoaXMuYWxsT3ZlcmxheXMmJigwPT09Yj90aGlzLnNldEJhc2VMYXllcihhKTp0aGlzLmJhc2VMYXllciE9PXRoaXMubGF5ZXJzWzBdJiZ0aGlzLnNldEJhc2VMYXllcih0aGlzLmxheWVyc1swXSkpfX0scmFpc2VMYXllcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0TGF5ZXJJbmRleChhKStiO3RoaXMuc2V0TGF5ZXJJbmRleChhLGMpfSxzZXRCYXNlTGF5ZXI6ZnVuY3Rpb24oYSl7aWYoYSE9dGhpcy5iYXNlTGF5ZXImJi0xIT1PcGVuTGF5ZXJzLlV0aWwuaW5kZXhPZih0aGlzLmxheWVycyxhKSl7dmFyIGI9dGhpcy5nZXRDYWNoZWRDZW50ZXIoKSxjPU9wZW5MYXllcnMuVXRpbC5nZXRSZXNvbHV0aW9uRnJvbVNjYWxlKHRoaXMuZ2V0U2NhbGUoKSxhLnVuaXRzKTtudWxsIT10aGlzLmJhc2VMYXllciYmIXRoaXMuYWxsT3ZlcmxheXMmJnRoaXMuYmFzZUxheWVyLnNldFZpc2liaWxpdHkoITEpO3RoaXMuYmFzZUxheWVyPWE7CmlmKCF0aGlzLmFsbE92ZXJsYXlzfHx0aGlzLmJhc2VMYXllci52aXNpYmlsaXR5KXRoaXMuYmFzZUxheWVyLnNldFZpc2liaWxpdHkoITApLCExPT09dGhpcy5iYXNlTGF5ZXIuaW5SYW5nZSYmdGhpcy5iYXNlTGF5ZXIucmVkcmF3KCk7bnVsbCE9YiYmKGE9dGhpcy5nZXRab29tRm9yUmVzb2x1dGlvbihjfHx0aGlzLnJlc29sdXRpb24sITApLHRoaXMuc2V0Q2VudGVyKGIsYSwhMSwhMCkpO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiY2hhbmdlYmFzZWxheWVyIix7bGF5ZXI6dGhpcy5iYXNlTGF5ZXJ9KX19LGFkZENvbnRyb2w6ZnVuY3Rpb24oYSxiKXt0aGlzLmNvbnRyb2xzLnB1c2goYSk7dGhpcy5hZGRDb250cm9sVG9NYXAoYSxiKX0sYWRkQ29udHJvbHM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MT09PWFyZ3VtZW50cy5sZW5ndGg/W106YixkPTAsZT1hLmxlbmd0aDtkPGU7ZCsrKXRoaXMuYWRkQ29udHJvbChhW2RdLGNbZF0/Y1tkXTpudWxsKX0sYWRkQ29udHJvbFRvTWFwOmZ1bmN0aW9uKGEsCmIpe2Eub3V0c2lkZVZpZXdwb3J0PW51bGwhPWEuZGl2O3RoaXMuZGlzcGxheVByb2plY3Rpb24mJiFhLmRpc3BsYXlQcm9qZWN0aW9uJiYoYS5kaXNwbGF5UHJvamVjdGlvbj10aGlzLmRpc3BsYXlQcm9qZWN0aW9uKTthLnNldE1hcCh0aGlzKTt2YXIgYz1hLmRyYXcoYik7YyYmIWEub3V0c2lkZVZpZXdwb3J0JiYoYy5zdHlsZS56SW5kZXg9dGhpcy5aX0lOREVYX0JBU0UuQ29udHJvbCt0aGlzLmNvbnRyb2xzLmxlbmd0aCx0aGlzLnZpZXdQb3J0RGl2LmFwcGVuZENoaWxkKGMpKTthLmF1dG9BY3RpdmF0ZSYmYS5hY3RpdmF0ZSgpfSxnZXRDb250cm9sOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1udWxsLGM9MCxkPXRoaXMuY29udHJvbHMubGVuZ3RoO2M8ZDtjKyspe3ZhciBlPXRoaXMuY29udHJvbHNbY107aWYoZS5pZD09YSl7Yj1lO2JyZWFrfX1yZXR1cm4gYn0scmVtb3ZlQ29udHJvbDpmdW5jdGlvbihhKXthJiZhPT10aGlzLmdldENvbnRyb2woYS5pZCkmJihhLmRpdiYmYS5kaXYucGFyZW50Tm9kZT09CnRoaXMudmlld1BvcnREaXYmJnRoaXMudmlld1BvcnREaXYucmVtb3ZlQ2hpbGQoYS5kaXYpLE9wZW5MYXllcnMuVXRpbC5yZW1vdmVJdGVtKHRoaXMuY29udHJvbHMsYSkpfSxhZGRQb3B1cDpmdW5jdGlvbihhLGIpe2lmKGIpZm9yKHZhciBjPXRoaXMucG9wdXBzLmxlbmd0aC0xOzA8PWM7LS1jKXRoaXMucmVtb3ZlUG9wdXAodGhpcy5wb3B1cHNbY10pO2EubWFwPXRoaXM7dGhpcy5wb3B1cHMucHVzaChhKTtpZihjPWEuZHJhdygpKWMuc3R5bGUuekluZGV4PXRoaXMuWl9JTkRFWF9CQVNFLlBvcHVwK3RoaXMucG9wdXBzLmxlbmd0aCx0aGlzLmxheWVyQ29udGFpbmVyRGl2LmFwcGVuZENoaWxkKGMpfSxyZW1vdmVQb3B1cDpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlV0aWwucmVtb3ZlSXRlbSh0aGlzLnBvcHVwcyxhKTtpZihhLmRpdil0cnl7dGhpcy5sYXllckNvbnRhaW5lckRpdi5yZW1vdmVDaGlsZChhLmRpdil9Y2F0Y2goYil7fWEubWFwPW51bGx9LGdldFNpemU6ZnVuY3Rpb24oKXt2YXIgYT0KbnVsbDtudWxsIT10aGlzLnNpemUmJihhPXRoaXMuc2l6ZS5jbG9uZSgpKTtyZXR1cm4gYX0sdXBkYXRlU2l6ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Q3VycmVudFNpemUoKTtpZihhJiYhaXNOYU4oYS5oKSYmIWlzTmFOKGEudykpe3RoaXMuZXZlbnRzLmNsZWFyTW91c2VDYWNoZSgpO3ZhciBiPXRoaXMuZ2V0U2l6ZSgpO251bGw9PWImJih0aGlzLnNpemU9Yj1hKTtpZighYS5lcXVhbHMoYikpe3RoaXMuc2l6ZT1hO2E9MDtmb3IoYj10aGlzLmxheWVycy5sZW5ndGg7YTxiO2ErKyl0aGlzLmxheWVyc1thXS5vbk1hcFJlc2l6ZSgpO2E9dGhpcy5nZXRDYWNoZWRDZW50ZXIoKTtudWxsIT10aGlzLmJhc2VMYXllciYmbnVsbCE9YSYmKGI9dGhpcy5nZXRab29tKCksdGhpcy56b29tPW51bGwsdGhpcy5zZXRDZW50ZXIoYSxiKSl9fXRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgidXBkYXRlc2l6ZSIpfSxnZXRDdXJyZW50U2l6ZTpmdW5jdGlvbigpe3ZhciBhPW5ldyBPcGVuTGF5ZXJzLlNpemUodGhpcy5kaXYuY2xpZW50V2lkdGgsCnRoaXMuZGl2LmNsaWVudEhlaWdodCk7aWYoMD09YS53JiYwPT1hLmh8fGlzTmFOKGEudykmJmlzTmFOKGEuaCkpYS53PXRoaXMuZGl2Lm9mZnNldFdpZHRoLGEuaD10aGlzLmRpdi5vZmZzZXRIZWlnaHQ7aWYoMD09YS53JiYwPT1hLmh8fGlzTmFOKGEudykmJmlzTmFOKGEuaCkpYS53PXBhcnNlSW50KHRoaXMuZGl2LnN0eWxlLndpZHRoKSxhLmg9cGFyc2VJbnQodGhpcy5kaXYuc3R5bGUuaGVpZ2h0KTtyZXR1cm4gYX0sY2FsY3VsYXRlQm91bmRzOmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtudWxsPT1hJiYoYT10aGlzLmdldENhY2hlZENlbnRlcigpKTtudWxsPT1iJiYoYj10aGlzLmdldFJlc29sdXRpb24oKSk7aWYobnVsbCE9YSYmbnVsbCE9Yil2YXIgYz10aGlzLnNpemUudypiLzIsZD10aGlzLnNpemUuaCpiLzIsYz1uZXcgT3BlbkxheWVycy5Cb3VuZHMoYS5sb24tYyxhLmxhdC1kLGEubG9uK2MsYS5sYXQrZCk7cmV0dXJuIGN9LGdldENlbnRlcjpmdW5jdGlvbigpe3ZhciBhPQpudWxsLGI9dGhpcy5nZXRDYWNoZWRDZW50ZXIoKTtiJiYoYT1iLmNsb25lKCkpO3JldHVybiBhfSxnZXRDYWNoZWRDZW50ZXI6ZnVuY3Rpb24oKXshdGhpcy5jZW50ZXImJnRoaXMuc2l6ZSYmKHRoaXMuY2VudGVyPXRoaXMuZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHgoe3g6dGhpcy5zaXplLncvMix5OnRoaXMuc2l6ZS5oLzJ9KSk7cmV0dXJuIHRoaXMuY2VudGVyfSxnZXRab29tOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuem9vbX0scGFuOmZ1bmN0aW9uKGEsYixjKXtjPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGMse2FuaW1hdGU6ITAsZHJhZ2dpbmc6ITF9KTtpZihjLmRyYWdnaW5nKSgwIT1hfHwwIT1iKSYmdGhpcy5tb3ZlQnlQeChhLGIpO2Vsc2V7dmFyIGQ9dGhpcy5nZXRWaWV3UG9ydFB4RnJvbUxvbkxhdCh0aGlzLmdldENhY2hlZENlbnRlcigpKSxhPWQuYWRkKGEsYik7aWYodGhpcy5kcmFnZ2luZ3x8IWEuZXF1YWxzKGQpKWQ9dGhpcy5nZXRMb25MYXRGcm9tVmlld1BvcnRQeChhKSwKYy5hbmltYXRlP3RoaXMucGFuVG8oZCk6KHRoaXMubW92ZVRvKGQpLHRoaXMuZHJhZ2dpbmcmJih0aGlzLmRyYWdnaW5nPSExLHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgibW92ZWVuZCIpKSl9fSxwYW5UbzpmdW5jdGlvbihhKXtpZih0aGlzLnBhblR3ZWVuJiZ0aGlzLmdldEV4dGVudCgpLnNjYWxlKHRoaXMucGFuUmF0aW8pLmNvbnRhaW5zTG9uTGF0KGEpKXt2YXIgYj10aGlzLmdldENhY2hlZENlbnRlcigpO2lmKCFhLmVxdWFscyhiKSl7dmFyIGI9dGhpcy5nZXRQaXhlbEZyb21Mb25MYXQoYiksYz10aGlzLmdldFBpeGVsRnJvbUxvbkxhdChhKSxkPTAsZT0wO3RoaXMucGFuVHdlZW4uc3RhcnQoe3g6MCx5OjB9LHt4OmMueC1iLngseTpjLnktYi55fSx0aGlzLnBhbkR1cmF0aW9uLHtjYWxsYmFja3M6e2VhY2hTdGVwOk9wZW5MYXllcnMuRnVuY3Rpb24uYmluZChmdW5jdGlvbihhKXt0aGlzLm1vdmVCeVB4KGEueC1kLGEueS1lKTtkPU1hdGgucm91bmQoYS54KTtlPU1hdGgucm91bmQoYS55KX0sCnRoaXMpLGRvbmU6T3BlbkxheWVycy5GdW5jdGlvbi5iaW5kKGZ1bmN0aW9uKCl7dGhpcy5tb3ZlVG8oYSk7dGhpcy5kcmFnZ2luZz0hMTt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoIm1vdmVlbmQiKX0sdGhpcyl9fSl9fWVsc2UgdGhpcy5zZXRDZW50ZXIoYSl9LHNldENlbnRlcjpmdW5jdGlvbihhLGIsYyxkKXt0aGlzLnBhblR3ZWVuJiZ0aGlzLnBhblR3ZWVuLnN0b3AoKTt0aGlzLnpvb21Ud2VlbiYmdGhpcy56b29tVHdlZW4uc3RvcCgpO3RoaXMubW92ZVRvKGEsYix7ZHJhZ2dpbmc6Yyxmb3JjZVpvb21DaGFuZ2U6ZH0pfSxtb3ZlQnlQeDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuc2l6ZS53LzIsZD10aGlzLnNpemUuaC8yLGU9YythLGY9ZCtiLGc9dGhpcy5iYXNlTGF5ZXIud3JhcERhdGVMaW5lLGg9MCxpPTA7dGhpcy5yZXN0cmljdGVkRXh0ZW50JiYoaD1jLGk9ZCxnPSExKTthPWd8fGU8PXRoaXMubWF4UHgueC1oJiZlPj10aGlzLm1pblB4LngraD9NYXRoLnJvdW5kKGEpOgowO2I9Zjw9dGhpcy5tYXhQeC55LWkmJmY+PXRoaXMubWluUHgueStpP01hdGgucm91bmQoYik6MDtpZihhfHxiKXt0aGlzLmRyYWdnaW5nfHwodGhpcy5kcmFnZ2luZz0hMCx0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoIm1vdmVzdGFydCIpKTt0aGlzLmNlbnRlcj1udWxsO2EmJih0aGlzLmxheWVyQ29udGFpbmVyT3JpZ2luUHgueC09YSx0aGlzLm1pblB4LngtPWEsdGhpcy5tYXhQeC54LT1hKTtiJiYodGhpcy5sYXllckNvbnRhaW5lck9yaWdpblB4LnktPWIsdGhpcy5taW5QeC55LT1iLHRoaXMubWF4UHgueS09Yik7dGhpcy5hcHBseVRyYW5zZm9ybSgpO2Q9MDtmb3IoZT10aGlzLmxheWVycy5sZW5ndGg7ZDxlOysrZClpZihjPXRoaXMubGF5ZXJzW2RdLGMudmlzaWJpbGl0eSYmKGM9PT10aGlzLmJhc2VMYXllcnx8Yy5pblJhbmdlKSljLm1vdmVCeVB4KGEsYiksYy5ldmVudHMudHJpZ2dlckV2ZW50KCJtb3ZlIik7dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJtb3ZlIil9fSwKYWRqdXN0Wm9vbTpmdW5jdGlvbihhKXtpZih0aGlzLmJhc2VMYXllciYmdGhpcy5iYXNlTGF5ZXIud3JhcERhdGVMaW5lKXt2YXIgYj10aGlzLmJhc2VMYXllci5yZXNvbHV0aW9ucyxjPXRoaXMuZ2V0TWF4RXh0ZW50KCkuZ2V0V2lkdGgoKS90aGlzLnNpemUudztpZih0aGlzLmdldFJlc29sdXRpb25Gb3Jab29tKGEpPmMpaWYodGhpcy5mcmFjdGlvbmFsWm9vbSlhPXRoaXMuZ2V0Wm9vbUZvclJlc29sdXRpb24oYyk7ZWxzZSBmb3IodmFyIGQ9YXwwLGU9Yi5sZW5ndGg7ZDxlOysrZClpZihiW2RdPD1jKXthPWQ7YnJlYWt9fXJldHVybiBhfSxnZXRNaW5ab29tOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWRqdXN0Wm9vbSgwKX0sbW92ZVRvOmZ1bmN0aW9uKGEsYixjKXtudWxsIT1hJiYhKGEgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkxvbkxhdCkmJihhPW5ldyBPcGVuTGF5ZXJzLkxvbkxhdChhKSk7Y3x8KGM9e30pO251bGwhPWImJihiPXBhcnNlRmxvYXQoYiksdGhpcy5mcmFjdGlvbmFsWm9vbXx8CihiPU1hdGgucm91bmQoYikpKTt2YXIgZD1iLGI9dGhpcy5hZGp1c3Rab29tKGIpO2IhPT1kJiYoYT10aGlzLmdldENlbnRlcigpKTt2YXIgZD1jLmRyYWdnaW5nfHx0aGlzLmRyYWdnaW5nLGU9Yy5mb3JjZVpvb21DaGFuZ2U7IXRoaXMuZ2V0Q2FjaGVkQ2VudGVyKCkmJiF0aGlzLmlzVmFsaWRMb25MYXQoYSkmJihhPXRoaXMubWF4RXh0ZW50LmdldENlbnRlckxvbkxhdCgpLHRoaXMuY2VudGVyPWEuY2xvbmUoKSk7aWYobnVsbCE9dGhpcy5yZXN0cmljdGVkRXh0ZW50KXtudWxsPT1hJiYoYT10aGlzLmNlbnRlcik7bnVsbD09YiYmKGI9dGhpcy5nZXRab29tKCkpO3ZhciBmPXRoaXMuZ2V0UmVzb2x1dGlvbkZvclpvb20oYiksZj10aGlzLmNhbGN1bGF0ZUJvdW5kcyhhLGYpO2lmKCF0aGlzLnJlc3RyaWN0ZWRFeHRlbnQuY29udGFpbnNCb3VuZHMoZikpe3ZhciBnPXRoaXMucmVzdHJpY3RlZEV4dGVudC5nZXRDZW50ZXJMb25MYXQoKTtmLmdldFdpZHRoKCk+dGhpcy5yZXN0cmljdGVkRXh0ZW50LmdldFdpZHRoKCk/CmE9bmV3IE9wZW5MYXllcnMuTG9uTGF0KGcubG9uLGEubGF0KTpmLmxlZnQ8dGhpcy5yZXN0cmljdGVkRXh0ZW50LmxlZnQ/YT1hLmFkZCh0aGlzLnJlc3RyaWN0ZWRFeHRlbnQubGVmdC1mLmxlZnQsMCk6Zi5yaWdodD50aGlzLnJlc3RyaWN0ZWRFeHRlbnQucmlnaHQmJihhPWEuYWRkKHRoaXMucmVzdHJpY3RlZEV4dGVudC5yaWdodC1mLnJpZ2h0LDApKTtmLmdldEhlaWdodCgpPnRoaXMucmVzdHJpY3RlZEV4dGVudC5nZXRIZWlnaHQoKT9hPW5ldyBPcGVuTGF5ZXJzLkxvbkxhdChhLmxvbixnLmxhdCk6Zi5ib3R0b208dGhpcy5yZXN0cmljdGVkRXh0ZW50LmJvdHRvbT9hPWEuYWRkKDAsdGhpcy5yZXN0cmljdGVkRXh0ZW50LmJvdHRvbS1mLmJvdHRvbSk6Zi50b3A+dGhpcy5yZXN0cmljdGVkRXh0ZW50LnRvcCYmKGE9YS5hZGQoMCx0aGlzLnJlc3RyaWN0ZWRFeHRlbnQudG9wLWYudG9wKSl9fWU9ZXx8dGhpcy5pc1ZhbGlkWm9vbUxldmVsKGIpJiZiIT10aGlzLmdldFpvb20oKTsKZj10aGlzLmlzVmFsaWRMb25MYXQoYSkmJiFhLmVxdWFscyh0aGlzLmNlbnRlcik7aWYoZXx8Znx8ZCl7ZHx8dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJtb3Zlc3RhcnQiLHt6b29tQ2hhbmdlZDplfSk7ZiYmKCFlJiZ0aGlzLmNlbnRlciYmdGhpcy5jZW50ZXJMYXllckNvbnRhaW5lcihhKSx0aGlzLmNlbnRlcj1hLmNsb25lKCkpO2E9ZT90aGlzLmdldFJlc29sdXRpb25Gb3Jab29tKGIpOnRoaXMuZ2V0UmVzb2x1dGlvbigpO2lmKGV8fG51bGw9PXRoaXMubGF5ZXJDb250YWluZXJPcmlnaW4pe3RoaXMubGF5ZXJDb250YWluZXJPcmlnaW49dGhpcy5nZXRDYWNoZWRDZW50ZXIoKTt0aGlzLmxheWVyQ29udGFpbmVyT3JpZ2luUHgueD0wO3RoaXMubGF5ZXJDb250YWluZXJPcmlnaW5QeC55PTA7dGhpcy5hcHBseVRyYW5zZm9ybSgpO3ZhciBmPXRoaXMuZ2V0TWF4RXh0ZW50KHtyZXN0cmljdGVkOiEwfSksaD1mLmdldENlbnRlckxvbkxhdCgpLGc9dGhpcy5jZW50ZXIubG9uLWgubG9uLApoPWgubGF0LXRoaXMuY2VudGVyLmxhdCxpPU1hdGgucm91bmQoZi5nZXRXaWR0aCgpL2EpLGo9TWF0aC5yb3VuZChmLmdldEhlaWdodCgpL2EpO3RoaXMubWluUHg9e3g6KHRoaXMuc2l6ZS53LWkpLzItZy9hLHk6KHRoaXMuc2l6ZS5oLWopLzItaC9hfTt0aGlzLm1heFB4PXt4OnRoaXMubWluUHgueCtNYXRoLnJvdW5kKGYuZ2V0V2lkdGgoKS9hKSx5OnRoaXMubWluUHgueStNYXRoLnJvdW5kKGYuZ2V0SGVpZ2h0KCkvYSl9fWUmJih0aGlzLnpvb209Yix0aGlzLnJlc29sdXRpb249YSk7YT10aGlzLmdldEV4dGVudCgpO3RoaXMuYmFzZUxheWVyLnZpc2liaWxpdHkmJih0aGlzLmJhc2VMYXllci5tb3ZlVG8oYSxlLGMuZHJhZ2dpbmcpLGMuZHJhZ2dpbmd8fHRoaXMuYmFzZUxheWVyLmV2ZW50cy50cmlnZ2VyRXZlbnQoIm1vdmVlbmQiLHt6b29tQ2hhbmdlZDplfSkpO2E9dGhpcy5iYXNlTGF5ZXIuZ2V0RXh0ZW50KCk7Zm9yKGI9dGhpcy5sYXllcnMubGVuZ3RoLTE7MDw9YjstLWIpZj0KdGhpcy5sYXllcnNbYl0sZiE9PXRoaXMuYmFzZUxheWVyJiYhZi5pc0Jhc2VMYXllciYmKGc9Zi5jYWxjdWxhdGVJblJhbmdlKCksZi5pblJhbmdlIT1nJiYoKGYuaW5SYW5nZT1nKXx8Zi5kaXNwbGF5KCExKSx0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImNoYW5nZWxheWVyIix7bGF5ZXI6Zixwcm9wZXJ0eToidmlzaWJpbGl0eSJ9KSksZyYmZi52aXNpYmlsaXR5JiYoZi5tb3ZlVG8oYSxlLGMuZHJhZ2dpbmcpLGMuZHJhZ2dpbmd8fGYuZXZlbnRzLnRyaWdnZXJFdmVudCgibW92ZWVuZCIse3pvb21DaGFuZ2VkOmV9KSkpO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgibW92ZSIpO2R8fHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgibW92ZWVuZCIpO2lmKGUpe2I9MDtmb3IoYz10aGlzLnBvcHVwcy5sZW5ndGg7YjxjO2IrKyl0aGlzLnBvcHVwc1tiXS51cGRhdGVQb3NpdGlvbigpO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiem9vbWVuZCIpfX19LGNlbnRlckxheWVyQ29udGFpbmVyOmZ1bmN0aW9uKGEpe3ZhciBiPQp0aGlzLmdldFZpZXdQb3J0UHhGcm9tTG9uTGF0KHRoaXMubGF5ZXJDb250YWluZXJPcmlnaW4pLGM9dGhpcy5nZXRWaWV3UG9ydFB4RnJvbUxvbkxhdChhKTtpZihudWxsIT1iJiZudWxsIT1jKXt2YXIgZD10aGlzLmxheWVyQ29udGFpbmVyT3JpZ2luUHgueCxhPXRoaXMubGF5ZXJDb250YWluZXJPcmlnaW5QeC55LGU9TWF0aC5yb3VuZChiLngtYy54KSxiPU1hdGgucm91bmQoYi55LWMueSk7dGhpcy5hcHBseVRyYW5zZm9ybSh0aGlzLmxheWVyQ29udGFpbmVyT3JpZ2luUHgueD1lLHRoaXMubGF5ZXJDb250YWluZXJPcmlnaW5QeC55PWIpO2QtPWU7YS09Yjt0aGlzLm1pblB4LngtPWQ7dGhpcy5tYXhQeC54LT1kO3RoaXMubWluUHgueS09YTt0aGlzLm1heFB4LnktPWF9fSxpc1ZhbGlkWm9vbUxldmVsOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiYwPD1hJiZhPHRoaXMuZ2V0TnVtWm9vbUxldmVscygpfSxpc1ZhbGlkTG9uTGF0OmZ1bmN0aW9uKGEpe3ZhciBiPSExO251bGwhPQphJiYoYj10aGlzLmdldE1heEV4dGVudCgpLGI9Yi5jb250YWluc0xvbkxhdChhLHt3b3JsZEJvdW5kczp0aGlzLmJhc2VMYXllci53cmFwRGF0ZUxpbmUmJmJ9KSk7cmV0dXJuIGJ9LGdldFByb2plY3Rpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFByb2plY3Rpb25PYmplY3QoKTtyZXR1cm4gYT9hLmdldENvZGUoKTpudWxsfSxnZXRQcm9qZWN0aW9uT2JqZWN0OmZ1bmN0aW9uKCl7dmFyIGE9bnVsbDtudWxsIT10aGlzLmJhc2VMYXllciYmKGE9dGhpcy5iYXNlTGF5ZXIucHJvamVjdGlvbik7cmV0dXJuIGF9LGdldE1heFJlc29sdXRpb246ZnVuY3Rpb24oKXt2YXIgYT1udWxsO251bGwhPXRoaXMuYmFzZUxheWVyJiYoYT10aGlzLmJhc2VMYXllci5tYXhSZXNvbHV0aW9uKTtyZXR1cm4gYX0sZ2V0TWF4RXh0ZW50OmZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7YSYmYS5yZXN0cmljdGVkJiZ0aGlzLnJlc3RyaWN0ZWRFeHRlbnQ/Yj10aGlzLnJlc3RyaWN0ZWRFeHRlbnQ6bnVsbCE9CnRoaXMuYmFzZUxheWVyJiYoYj10aGlzLmJhc2VMYXllci5tYXhFeHRlbnQpO3JldHVybiBifSxnZXROdW1ab29tTGV2ZWxzOmZ1bmN0aW9uKCl7dmFyIGE9bnVsbDtudWxsIT10aGlzLmJhc2VMYXllciYmKGE9dGhpcy5iYXNlTGF5ZXIubnVtWm9vbUxldmVscyk7cmV0dXJuIGF9LGdldEV4dGVudDpmdW5jdGlvbigpe3ZhciBhPW51bGw7bnVsbCE9dGhpcy5iYXNlTGF5ZXImJihhPXRoaXMuYmFzZUxheWVyLmdldEV4dGVudCgpKTtyZXR1cm4gYX0sZ2V0UmVzb2x1dGlvbjpmdW5jdGlvbigpe3ZhciBhPW51bGw7bnVsbCE9dGhpcy5iYXNlTGF5ZXI/YT10aGlzLmJhc2VMYXllci5nZXRSZXNvbHV0aW9uKCk6ITA9PT10aGlzLmFsbE92ZXJsYXlzJiYwPHRoaXMubGF5ZXJzLmxlbmd0aCYmKGE9dGhpcy5sYXllcnNbMF0uZ2V0UmVzb2x1dGlvbigpKTtyZXR1cm4gYX0sZ2V0VW5pdHM6ZnVuY3Rpb24oKXt2YXIgYT1udWxsO251bGwhPXRoaXMuYmFzZUxheWVyJiYoYT10aGlzLmJhc2VMYXllci51bml0cyk7CnJldHVybiBhfSxnZXRTY2FsZTpmdW5jdGlvbigpe3ZhciBhPW51bGw7bnVsbCE9dGhpcy5iYXNlTGF5ZXImJihhPXRoaXMuZ2V0UmVzb2x1dGlvbigpLGE9T3BlbkxheWVycy5VdGlsLmdldFNjYWxlRnJvbVJlc29sdXRpb24oYSx0aGlzLmJhc2VMYXllci51bml0cykpO3JldHVybiBhfSxnZXRab29tRm9yRXh0ZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtudWxsIT10aGlzLmJhc2VMYXllciYmKGM9dGhpcy5iYXNlTGF5ZXIuZ2V0Wm9vbUZvckV4dGVudChhLGIpKTtyZXR1cm4gY30sZ2V0UmVzb2x1dGlvbkZvclpvb206ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDt0aGlzLmJhc2VMYXllciYmKGI9dGhpcy5iYXNlTGF5ZXIuZ2V0UmVzb2x1dGlvbkZvclpvb20oYSkpO3JldHVybiBifSxnZXRab29tRm9yUmVzb2x1dGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjPW51bGw7bnVsbCE9dGhpcy5iYXNlTGF5ZXImJihjPXRoaXMuYmFzZUxheWVyLmdldFpvb21Gb3JSZXNvbHV0aW9uKGEsYikpOwpyZXR1cm4gY30sem9vbVRvOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztpZihjLmlzVmFsaWRab29tTGV2ZWwoYSkpaWYoYy5iYXNlTGF5ZXIud3JhcERhdGVMaW5lJiYoYT1jLmFkanVzdFpvb20oYSkpLGMuem9vbVR3ZWVuKXt2YXIgZD1jLmdldFJlc29sdXRpb24oKSxlPWMuZ2V0UmVzb2x1dGlvbkZvclpvb20oYSksZj17c2NhbGU6MX0sZD17c2NhbGU6ZC9lfTtjLnpvb21Ud2Vlbi5wbGF5aW5nJiZjLnpvb21Ud2Vlbi5kdXJhdGlvbjwzKmMuem9vbUR1cmF0aW9uP2Muem9vbVR3ZWVuLmZpbmlzaD17c2NhbGU6Yy56b29tVHdlZW4uZmluaXNoLnNjYWxlKmQuc2NhbGV9OihifHwoZT1jLmdldFNpemUoKSxiPXt4OmUudy8yLHk6ZS5oLzJ9KSxjLnpvb21Ud2Vlbi5zdGFydChmLGQsYy56b29tRHVyYXRpb24se21pbkZyYW1lUmF0ZTo1MCxjYWxsYmFja3M6e2VhY2hTdGVwOmZ1bmN0aW9uKGEpe3ZhciBkPWMubGF5ZXJDb250YWluZXJPcmlnaW5QeCxhPWEuc2NhbGU7Yy5hcHBseVRyYW5zZm9ybShkLngrCigoYS0xKSooZC54LWIueCl8MCksZC55KygoYS0xKSooZC55LWIueSl8MCksYSl9LGRvbmU6ZnVuY3Rpb24oYSl7Yy5hcHBseVRyYW5zZm9ybSgpO3ZhciBhPWMuZ2V0UmVzb2x1dGlvbigpL2Euc2NhbGUsZD1jLmdldFpvb21Gb3JSZXNvbHV0aW9uKGEsITApO2MubW92ZVRvKGMuZ2V0Wm9vbVRhcmdldENlbnRlcihiLGEpLGQsITApfX19KSl9ZWxzZSBmPWI/Yy5nZXRab29tVGFyZ2V0Q2VudGVyKGIsYy5nZXRSZXNvbHV0aW9uRm9yWm9vbShhKSk6bnVsbCxjLnNldENlbnRlcihmLGEpfSx6b29tSW46ZnVuY3Rpb24oKXt0aGlzLnpvb21Ubyh0aGlzLmdldFpvb20oKSsxKX0sem9vbU91dDpmdW5jdGlvbigpe3RoaXMuem9vbVRvKHRoaXMuZ2V0Wm9vbSgpLTEpfSx6b29tVG9FeHRlbnQ6ZnVuY3Rpb24oYSxiKXthIGluc3RhbmNlb2YgT3BlbkxheWVycy5Cb3VuZHN8fChhPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhhKSk7dmFyIGM9YS5nZXRDZW50ZXJMb25MYXQoKTtpZih0aGlzLmJhc2VMYXllci53cmFwRGF0ZUxpbmUpe2M9CnRoaXMuZ2V0TWF4RXh0ZW50KCk7Zm9yKGE9YS5jbG9uZSgpO2EucmlnaHQ8YS5sZWZ0OylhLnJpZ2h0Kz1jLmdldFdpZHRoKCk7Yz1hLmdldENlbnRlckxvbkxhdCgpLndyYXBEYXRlTGluZShjKX10aGlzLnNldENlbnRlcihjLHRoaXMuZ2V0Wm9vbUZvckV4dGVudChhLGIpKX0sem9vbVRvTWF4RXh0ZW50OmZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRNYXhFeHRlbnQoe3Jlc3RyaWN0ZWQ6YT9hLnJlc3RyaWN0ZWQ6ITB9KTt0aGlzLnpvb21Ub0V4dGVudChhKX0sem9vbVRvU2NhbGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1PcGVuTGF5ZXJzLlV0aWwuZ2V0UmVzb2x1dGlvbkZyb21TY2FsZShhLHRoaXMuYmFzZUxheWVyLnVuaXRzKSxkPXRoaXMuc2l6ZS53KmMvMixjPXRoaXMuc2l6ZS5oKmMvMixlPXRoaXMuZ2V0Q2FjaGVkQ2VudGVyKCksZD1uZXcgT3BlbkxheWVycy5Cb3VuZHMoZS5sb24tZCxlLmxhdC1jLGUubG9uK2QsZS5sYXQrYyk7dGhpcy56b29tVG9FeHRlbnQoZCxiKX0sZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHg6ZnVuY3Rpb24oYSl7dmFyIGI9Cm51bGw7bnVsbCE9dGhpcy5iYXNlTGF5ZXImJihiPXRoaXMuYmFzZUxheWVyLmdldExvbkxhdEZyb21WaWV3UG9ydFB4KGEpKTtyZXR1cm4gYn0sZ2V0Vmlld1BvcnRQeEZyb21Mb25MYXQ6ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtudWxsIT10aGlzLmJhc2VMYXllciYmKGI9dGhpcy5iYXNlTGF5ZXIuZ2V0Vmlld1BvcnRQeEZyb21Mb25MYXQoYSkpO3JldHVybiBifSxnZXRab29tVGFyZ2V0Q2VudGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbCxkPXRoaXMuZ2V0U2l6ZSgpLGU9ZC53LzItYS54LGQ9YS55LWQuaC8yLGY9dGhpcy5nZXRMb25MYXRGcm9tUGl4ZWwoYSk7ZiYmKGM9bmV3IE9wZW5MYXllcnMuTG9uTGF0KGYubG9uK2UqYixmLmxhdCtkKmIpKTtyZXR1cm4gY30sZ2V0TG9uTGF0RnJvbVBpeGVsOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldExvbkxhdEZyb21WaWV3UG9ydFB4KGEpfSxnZXRQaXhlbEZyb21Mb25MYXQ6ZnVuY3Rpb24oYSl7YT10aGlzLmdldFZpZXdQb3J0UHhGcm9tTG9uTGF0KGEpOwphLng9TWF0aC5yb3VuZChhLngpO2EueT1NYXRoLnJvdW5kKGEueSk7cmV0dXJuIGF9LGdldEdlb2Rlc2ljUGl4ZWxTaXplOmZ1bmN0aW9uKGEpe3ZhciBiPWE/dGhpcy5nZXRMb25MYXRGcm9tUGl4ZWwoYSk6dGhpcy5nZXRDYWNoZWRDZW50ZXIoKXx8bmV3IE9wZW5MYXllcnMuTG9uTGF0KDAsMCksYz10aGlzLmdldFJlc29sdXRpb24oKSxhPWIuYWRkKC1jLzIsMCksZD1iLmFkZChjLzIsMCksZT1iLmFkZCgwLC1jLzIpLGI9Yi5hZGQoMCxjLzIpLGM9bmV3IE9wZW5MYXllcnMuUHJvamVjdGlvbigiRVBTRzo0MzI2IiksZj10aGlzLmdldFByb2plY3Rpb25PYmplY3QoKXx8YztmLmVxdWFscyhjKXx8KGEudHJhbnNmb3JtKGYsYyksZC50cmFuc2Zvcm0oZixjKSxlLnRyYW5zZm9ybShmLGMpLGIudHJhbnNmb3JtKGYsYykpO3JldHVybiBuZXcgT3BlbkxheWVycy5TaXplKE9wZW5MYXllcnMuVXRpbC5kaXN0VmluY2VudHkoYSxkKSxPcGVuTGF5ZXJzLlV0aWwuZGlzdFZpbmNlbnR5KGUsCmIpKX0sZ2V0Vmlld1BvcnRQeEZyb21MYXllclB4OmZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7bnVsbCE9YSYmKGI9YS5hZGQodGhpcy5sYXllckNvbnRhaW5lck9yaWdpblB4LngsdGhpcy5sYXllckNvbnRhaW5lck9yaWdpblB4LnkpKTtyZXR1cm4gYn0sZ2V0TGF5ZXJQeEZyb21WaWV3UG9ydFB4OmZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7aWYobnVsbCE9YSYmKGI9YS5hZGQoLXRoaXMubGF5ZXJDb250YWluZXJPcmlnaW5QeC54LC10aGlzLmxheWVyQ29udGFpbmVyT3JpZ2luUHgueSksaXNOYU4oYi54KXx8aXNOYU4oYi55KSkpYj1udWxsO3JldHVybiBifSxnZXRMb25MYXRGcm9tTGF5ZXJQeDpmdW5jdGlvbihhKXthPXRoaXMuZ2V0Vmlld1BvcnRQeEZyb21MYXllclB4KGEpO3JldHVybiB0aGlzLmdldExvbkxhdEZyb21WaWV3UG9ydFB4KGEpfSxnZXRMYXllclB4RnJvbUxvbkxhdDpmdW5jdGlvbihhKXthPXRoaXMuZ2V0UGl4ZWxGcm9tTG9uTGF0KGEpO3JldHVybiB0aGlzLmdldExheWVyUHhGcm9tVmlld1BvcnRQeChhKX0sCmFwcGx5VHJhbnNmb3JtOmZ1bmN0aW9uKGEsYixjKXt2YXIgYz1jfHwxLGQ9dGhpcy5sYXllckNvbnRhaW5lck9yaWdpblB4LGU9MSE9PWMsYT1hfHxkLngsYj1ifHxkLnksZj10aGlzLmxheWVyQ29udGFpbmVyRGl2LnN0eWxlLGc9dGhpcy5hcHBseVRyYW5zZm9ybS50cmFuc2Zvcm0saD10aGlzLmFwcGx5VHJhbnNmb3JtLnRlbXBsYXRlO2lmKHZvaWQgMD09PWcmJihnPU9wZW5MYXllcnMuVXRpbC52ZW5kb3JQcmVmaXguc3R5bGUoInRyYW5zZm9ybSIpLHRoaXMuYXBwbHlUcmFuc2Zvcm0udHJhbnNmb3JtPWcpKXt2YXIgaT1PcGVuTGF5ZXJzLkVsZW1lbnQuZ2V0U3R5bGUodGhpcy52aWV3UG9ydERpdixPcGVuTGF5ZXJzLlV0aWwudmVuZG9yUHJlZml4LmNzcygidHJhbnNmb3JtIikpO2lmKCFpfHwibm9uZSIhPT1pKWg9WyJ0cmFuc2xhdGUzZCgiLCIsMCkgIiwic2NhbGUzZCgiLCIsMSkiXSxmW2ddPVtoWzBdLCIwLDAiLGhbMV1dLmpvaW4oIiIpO2lmKCFofHwhfmZbZ10uaW5kZXhPZihoWzBdKSloPQpbInRyYW5zbGF0ZSgiLCIpICIsInNjYWxlKCIsIikiXTt0aGlzLmFwcGx5VHJhbnNmb3JtLnRlbXBsYXRlPWh9bnVsbCE9PWcmJigidHJhbnNsYXRlM2QoIj09PWhbMF18fCEwPT09ZSk/KCEwPT09ZSYmInRyYW5zbGF0ZSgiPT09aFswXSYmKGEtPWQueCxiLT1kLnksZi5sZWZ0PWQueCsicHgiLGYudG9wPWQueSsicHgiKSxmW2ddPVtoWzBdLGEsInB4LCIsYiwicHgiLGhbMV0saFsyXSxjLCIsIixjLGhbM11dLmpvaW4oIiIpKTooZi5sZWZ0PWErInB4IixmLnRvcD1iKyJweCIsbnVsbCE9PWcmJihmW2ddPSIiKSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuTWFwIn0pO09wZW5MYXllcnMuTWFwLlRJTEVfV0lEVEg9MjU2O09wZW5MYXllcnMuTWFwLlRJTEVfSEVJR0hUPTI1NjtPcGVuTGF5ZXJzLkxheWVyPU9wZW5MYXllcnMuQ2xhc3Moe2lkOm51bGwsbmFtZTpudWxsLGRpdjpudWxsLG9wYWNpdHk6MSxhbHdheXNJblJhbmdlOm51bGwsUkVTT0xVVElPTl9QUk9QRVJUSUVTOiJzY2FsZXMgcmVzb2x1dGlvbnMgbWF4U2NhbGUgbWluU2NhbGUgbWF4UmVzb2x1dGlvbiBtaW5SZXNvbHV0aW9uIG51bVpvb21MZXZlbHMgbWF4Wm9vbUxldmVsIi5zcGxpdCgiICIpLGV2ZW50czpudWxsLG1hcDpudWxsLGlzQmFzZUxheWVyOiExLGFscGhhOiExLGRpc3BsYXlJbkxheWVyU3dpdGNoZXI6ITAsdmlzaWJpbGl0eTohMCxhdHRyaWJ1dGlvbjpudWxsLGluUmFuZ2U6ITEsaW1hZ2VTaXplOm51bGwsb3B0aW9uczpudWxsLGV2ZW50TGlzdGVuZXJzOm51bGwsZ3V0dGVyOjAscHJvamVjdGlvbjpudWxsLHVuaXRzOm51bGwsc2NhbGVzOm51bGwscmVzb2x1dGlvbnM6bnVsbCxtYXhFeHRlbnQ6bnVsbCxtaW5FeHRlbnQ6bnVsbCxtYXhSZXNvbHV0aW9uOm51bGwsbWluUmVzb2x1dGlvbjpudWxsLApudW1ab29tTGV2ZWxzOm51bGwsbWluU2NhbGU6bnVsbCxtYXhTY2FsZTpudWxsLGRpc3BsYXlPdXRzaWRlTWF4RXh0ZW50OiExLHdyYXBEYXRlTGluZTohMSxtZXRhZGF0YTpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiKXt0aGlzLm1ldGFkYXRhPXt9O2I9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSxiKTtudWxsIT10aGlzLmFsd2F5c0luUmFuZ2UmJihiLmFsd2F5c0luUmFuZ2U9dGhpcy5hbHdheXNJblJhbmdlKTt0aGlzLmFkZE9wdGlvbnMoYik7dGhpcy5uYW1lPWE7aWYobnVsbD09dGhpcy5pZCYmKHRoaXMuaWQ9T3BlbkxheWVycy5VdGlsLmNyZWF0ZVVuaXF1ZUlEKHRoaXMuQ0xBU1NfTkFNRSsiXyIpLHRoaXMuZGl2PU9wZW5MYXllcnMuVXRpbC5jcmVhdGVEaXYodGhpcy5pZCksdGhpcy5kaXYuc3R5bGUud2lkdGg9IjEwMCUiLHRoaXMuZGl2LnN0eWxlLmhlaWdodD0iMTAwJSIsdGhpcy5kaXYuZGlyPSJsdHIiLHRoaXMuZXZlbnRzPW5ldyBPcGVuTGF5ZXJzLkV2ZW50cyh0aGlzLAp0aGlzLmRpdiksdGhpcy5ldmVudExpc3RlbmVycyBpbnN0YW5jZW9mIE9iamVjdCkpdGhpcy5ldmVudHMub24odGhpcy5ldmVudExpc3RlbmVycyl9LGRlc3Ryb3k6ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9ITApO251bGwhPXRoaXMubWFwJiZ0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLGEpO3RoaXMub3B0aW9ucz10aGlzLmRpdj10aGlzLm5hbWU9dGhpcy5tYXA9dGhpcy5wcm9qZWN0aW9uPW51bGw7dGhpcy5ldmVudHMmJih0aGlzLmV2ZW50TGlzdGVuZXJzJiZ0aGlzLmV2ZW50cy51bih0aGlzLmV2ZW50TGlzdGVuZXJzKSx0aGlzLmV2ZW50cy5kZXN0cm95KCkpO3RoaXMuZXZlbnRzPXRoaXMuZXZlbnRMaXN0ZW5lcnM9bnVsbH0sY2xvbmU6ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9bmV3IE9wZW5MYXllcnMuTGF5ZXIodGhpcy5uYW1lLHRoaXMuZ2V0T3B0aW9ucygpKSk7T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYSx0aGlzKTthLm1hcD1udWxsO3JldHVybiBhfSwKZ2V0T3B0aW9uczpmdW5jdGlvbigpe3ZhciBhPXt9LGI7Zm9yKGIgaW4gdGhpcy5vcHRpb25zKWFbYl09dGhpc1tiXTtyZXR1cm4gYX0sc2V0TmFtZTpmdW5jdGlvbihhKXthIT10aGlzLm5hbWUmJih0aGlzLm5hbWU9YSxudWxsIT10aGlzLm1hcCYmdGhpcy5tYXAuZXZlbnRzLnRyaWdnZXJFdmVudCgiY2hhbmdlbGF5ZXIiLHtsYXllcjp0aGlzLHByb3BlcnR5OiJuYW1lIn0pKX0sYWRkT3B0aW9uczpmdW5jdGlvbihhLGIpe251bGw9PXRoaXMub3B0aW9ucyYmKHRoaXMub3B0aW9ucz17fSk7YSYmKCJzdHJpbmciPT10eXBlb2YgYS5wcm9qZWN0aW9uJiYoYS5wcm9qZWN0aW9uPW5ldyBPcGVuTGF5ZXJzLlByb2plY3Rpb24oYS5wcm9qZWN0aW9uKSksYS5wcm9qZWN0aW9uJiZPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLE9wZW5MYXllcnMuUHJvamVjdGlvbi5kZWZhdWx0c1thLnByb2plY3Rpb24uZ2V0Q29kZSgpXSksYS5tYXhFeHRlbnQmJiEoYS5tYXhFeHRlbnQgaW5zdGFuY2VvZgpPcGVuTGF5ZXJzLkJvdW5kcykmJihhLm1heEV4dGVudD1uZXcgT3BlbkxheWVycy5Cb3VuZHMoYS5tYXhFeHRlbnQpKSxhLm1pbkV4dGVudCYmIShhLm1pbkV4dGVudCBpbnN0YW5jZW9mIE9wZW5MYXllcnMuQm91bmRzKSYmKGEubWluRXh0ZW50PW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhhLm1pbkV4dGVudCkpKTtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMub3B0aW9ucyxhKTtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsYSk7dGhpcy5wcm9qZWN0aW9uJiZ0aGlzLnByb2plY3Rpb24uZ2V0VW5pdHMoKSYmKHRoaXMudW5pdHM9dGhpcy5wcm9qZWN0aW9uLmdldFVuaXRzKCkpO2lmKHRoaXMubWFwKXt2YXIgYz10aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCksZD10aGlzLlJFU09MVVRJT05fUFJPUEVSVElFUy5jb25jYXQoWyJwcm9qZWN0aW9uIiwidW5pdHMiLCJtaW5FeHRlbnQiLCJtYXhFeHRlbnQiXSksZTtmb3IoZSBpbiBhKWlmKGEuaGFzT3duUHJvcGVydHkoZSkmJjA8PU9wZW5MYXllcnMuVXRpbC5pbmRleE9mKGQsCmUpKXt0aGlzLmluaXRSZXNvbHV0aW9ucygpO2ImJnRoaXMubWFwLmJhc2VMYXllcj09PXRoaXMmJih0aGlzLm1hcC5zZXRDZW50ZXIodGhpcy5tYXAuZ2V0Q2VudGVyKCksdGhpcy5tYXAuZ2V0Wm9vbUZvclJlc29sdXRpb24oYyksITEsITApLHRoaXMubWFwLmV2ZW50cy50cmlnZ2VyRXZlbnQoImNoYW5nZWJhc2VsYXllciIse2xheWVyOnRoaXN9KSk7YnJlYWt9fX0sb25NYXBSZXNpemU6ZnVuY3Rpb24oKXt9LHJlZHJhdzpmdW5jdGlvbigpe3ZhciBhPSExO2lmKHRoaXMubWFwKXt0aGlzLmluUmFuZ2U9dGhpcy5jYWxjdWxhdGVJblJhbmdlKCk7dmFyIGI9dGhpcy5nZXRFeHRlbnQoKTtiJiYodGhpcy5pblJhbmdlJiZ0aGlzLnZpc2liaWxpdHkpJiYodGhpcy5tb3ZlVG8oYiwhMCwhMSksdGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJtb3ZlZW5kIix7em9vbUNoYW5nZWQ6ITB9KSxhPSEwKX1yZXR1cm4gYX0sbW92ZVRvOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy52aXNpYmlsaXR5Owp0aGlzLmlzQmFzZUxheWVyfHwoYT1hJiZ0aGlzLmluUmFuZ2UpO3RoaXMuZGlzcGxheShhKX0sbW92ZUJ5UHg6ZnVuY3Rpb24oKXt9LHNldE1hcDpmdW5jdGlvbihhKXtudWxsPT10aGlzLm1hcCYmKHRoaXMubWFwPWEsdGhpcy5tYXhFeHRlbnQ9dGhpcy5tYXhFeHRlbnR8fHRoaXMubWFwLm1heEV4dGVudCx0aGlzLm1pbkV4dGVudD10aGlzLm1pbkV4dGVudHx8dGhpcy5tYXAubWluRXh0ZW50LHRoaXMucHJvamVjdGlvbj10aGlzLnByb2plY3Rpb258fHRoaXMubWFwLnByb2plY3Rpb24sInN0cmluZyI9PXR5cGVvZiB0aGlzLnByb2plY3Rpb24mJih0aGlzLnByb2plY3Rpb249bmV3IE9wZW5MYXllcnMuUHJvamVjdGlvbih0aGlzLnByb2plY3Rpb24pKSx0aGlzLnVuaXRzPXRoaXMucHJvamVjdGlvbi5nZXRVbml0cygpfHx0aGlzLnVuaXRzfHx0aGlzLm1hcC51bml0cyx0aGlzLmluaXRSZXNvbHV0aW9ucygpLHRoaXMuaXNCYXNlTGF5ZXJ8fCh0aGlzLmluUmFuZ2U9dGhpcy5jYWxjdWxhdGVJblJhbmdlKCksCnRoaXMuZGl2LnN0eWxlLmRpc3BsYXk9dGhpcy52aXNpYmlsaXR5JiZ0aGlzLmluUmFuZ2U/IiI6Im5vbmUiKSx0aGlzLnNldFRpbGVTaXplKCkpfSxhZnRlckFkZDpmdW5jdGlvbigpe30scmVtb3ZlTWFwOmZ1bmN0aW9uKCl7fSxnZXRJbWFnZVNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbWFnZVNpemV8fHRoaXMudGlsZVNpemV9LHNldFRpbGVTaXplOmZ1bmN0aW9uKGEpe3RoaXMudGlsZVNpemU9YT1hP2E6dGhpcy50aWxlU2l6ZT90aGlzLnRpbGVTaXplOnRoaXMubWFwLmdldFRpbGVTaXplKCk7dGhpcy5ndXR0ZXImJih0aGlzLmltYWdlU2l6ZT1uZXcgT3BlbkxheWVycy5TaXplKGEudysyKnRoaXMuZ3V0dGVyLGEuaCsyKnRoaXMuZ3V0dGVyKSl9LGdldFZpc2liaWxpdHk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aXNpYmlsaXR5fSxzZXRWaXNpYmlsaXR5OmZ1bmN0aW9uKGEpe2EhPXRoaXMudmlzaWJpbGl0eSYmKHRoaXMudmlzaWJpbGl0eT1hLHRoaXMuZGlzcGxheShhKSwKdGhpcy5yZWRyYXcoKSxudWxsIT10aGlzLm1hcCYmdGhpcy5tYXAuZXZlbnRzLnRyaWdnZXJFdmVudCgiY2hhbmdlbGF5ZXIiLHtsYXllcjp0aGlzLHByb3BlcnR5OiJ2aXNpYmlsaXR5In0pLHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgidmlzaWJpbGl0eWNoYW5nZWQiKSl9LGRpc3BsYXk6ZnVuY3Rpb24oYSl7YSE9KCJub25lIiE9dGhpcy5kaXYuc3R5bGUuZGlzcGxheSkmJih0aGlzLmRpdi5zdHlsZS5kaXNwbGF5PWEmJnRoaXMuY2FsY3VsYXRlSW5SYW5nZSgpPyJibG9jayI6Im5vbmUiKX0sY2FsY3VsYXRlSW5SYW5nZTpmdW5jdGlvbigpe3ZhciBhPSExO3RoaXMuYWx3YXlzSW5SYW5nZT9hPSEwOnRoaXMubWFwJiYoYT10aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCksYT1hPj10aGlzLm1pblJlc29sdXRpb24mJmE8PXRoaXMubWF4UmVzb2x1dGlvbik7cmV0dXJuIGF9LHNldElzQmFzZUxheWVyOmZ1bmN0aW9uKGEpe2EhPXRoaXMuaXNCYXNlTGF5ZXImJih0aGlzLmlzQmFzZUxheWVyPQphLG51bGwhPXRoaXMubWFwJiZ0aGlzLm1hcC5ldmVudHMudHJpZ2dlckV2ZW50KCJjaGFuZ2ViYXNlbGF5ZXIiLHtsYXllcjp0aGlzfSkpfSxpbml0UmVzb2x1dGlvbnM6ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZD17fSxlPSEwO2E9MDtmb3IoYj10aGlzLlJFU09MVVRJT05fUFJPUEVSVElFUy5sZW5ndGg7YTxiO2ErKyljPXRoaXMuUkVTT0xVVElPTl9QUk9QRVJUSUVTW2FdLGRbY109dGhpcy5vcHRpb25zW2NdLGUmJnRoaXMub3B0aW9uc1tjXSYmKGU9ITEpO251bGw9PXRoaXMub3B0aW9ucy5hbHdheXNJblJhbmdlJiYodGhpcy5hbHdheXNJblJhbmdlPWUpO251bGw9PWQucmVzb2x1dGlvbnMmJihkLnJlc29sdXRpb25zPXRoaXMucmVzb2x1dGlvbnNGcm9tU2NhbGVzKGQuc2NhbGVzKSk7bnVsbD09ZC5yZXNvbHV0aW9ucyYmKGQucmVzb2x1dGlvbnM9dGhpcy5jYWxjdWxhdGVSZXNvbHV0aW9ucyhkKSk7aWYobnVsbD09ZC5yZXNvbHV0aW9ucyl7YT0wO2ZvcihiPXRoaXMuUkVTT0xVVElPTl9QUk9QRVJUSUVTLmxlbmd0aDthPApiO2ErKyljPXRoaXMuUkVTT0xVVElPTl9QUk9QRVJUSUVTW2FdLGRbY109bnVsbCE9dGhpcy5vcHRpb25zW2NdP3RoaXMub3B0aW9uc1tjXTp0aGlzLm1hcFtjXTtudWxsPT1kLnJlc29sdXRpb25zJiYoZC5yZXNvbHV0aW9ucz10aGlzLnJlc29sdXRpb25zRnJvbVNjYWxlcyhkLnNjYWxlcykpO251bGw9PWQucmVzb2x1dGlvbnMmJihkLnJlc29sdXRpb25zPXRoaXMuY2FsY3VsYXRlUmVzb2x1dGlvbnMoZCkpfXZhciBmO3RoaXMub3B0aW9ucy5tYXhSZXNvbHV0aW9uJiYiYXV0byIhPT10aGlzLm9wdGlvbnMubWF4UmVzb2x1dGlvbiYmKGY9dGhpcy5vcHRpb25zLm1heFJlc29sdXRpb24pO3RoaXMub3B0aW9ucy5taW5TY2FsZSYmKGY9T3BlbkxheWVycy5VdGlsLmdldFJlc29sdXRpb25Gcm9tU2NhbGUodGhpcy5vcHRpb25zLm1pblNjYWxlLHRoaXMudW5pdHMpKTt2YXIgZzt0aGlzLm9wdGlvbnMubWluUmVzb2x1dGlvbiYmImF1dG8iIT09dGhpcy5vcHRpb25zLm1pblJlc29sdXRpb24mJgooZz10aGlzLm9wdGlvbnMubWluUmVzb2x1dGlvbik7dGhpcy5vcHRpb25zLm1heFNjYWxlJiYoZz1PcGVuTGF5ZXJzLlV0aWwuZ2V0UmVzb2x1dGlvbkZyb21TY2FsZSh0aGlzLm9wdGlvbnMubWF4U2NhbGUsdGhpcy51bml0cykpO2QucmVzb2x1dGlvbnMmJihkLnJlc29sdXRpb25zLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi1hfSksZnx8KGY9ZC5yZXNvbHV0aW9uc1swXSksZ3x8KGc9ZC5yZXNvbHV0aW9uc1tkLnJlc29sdXRpb25zLmxlbmd0aC0xXSkpO2lmKHRoaXMucmVzb2x1dGlvbnM9ZC5yZXNvbHV0aW9ucyl7Yj10aGlzLnJlc29sdXRpb25zLmxlbmd0aDt0aGlzLnNjYWxlcz1BcnJheShiKTtmb3IoYT0wO2E8YjthKyspdGhpcy5zY2FsZXNbYV09T3BlbkxheWVycy5VdGlsLmdldFNjYWxlRnJvbVJlc29sdXRpb24odGhpcy5yZXNvbHV0aW9uc1thXSx0aGlzLnVuaXRzKTt0aGlzLm51bVpvb21MZXZlbHM9Yn1pZih0aGlzLm1pblJlc29sdXRpb249Zyl0aGlzLm1heFNjYWxlPQpPcGVuTGF5ZXJzLlV0aWwuZ2V0U2NhbGVGcm9tUmVzb2x1dGlvbihnLHRoaXMudW5pdHMpO2lmKHRoaXMubWF4UmVzb2x1dGlvbj1mKXRoaXMubWluU2NhbGU9T3BlbkxheWVycy5VdGlsLmdldFNjYWxlRnJvbVJlc29sdXRpb24oZix0aGlzLnVuaXRzKX0scmVzb2x1dGlvbnNGcm9tU2NhbGVzOmZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBiLGMsZDtkPWEubGVuZ3RoO2I9QXJyYXkoZCk7Zm9yKGM9MDtjPGQ7YysrKWJbY109T3BlbkxheWVycy5VdGlsLmdldFJlc29sdXRpb25Gcm9tU2NhbGUoYVtjXSx0aGlzLnVuaXRzKTtyZXR1cm4gYn19LGNhbGN1bGF0ZVJlc29sdXRpb25zOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZD1hLm1heFJlc29sdXRpb247bnVsbCE9YS5taW5TY2FsZT9kPU9wZW5MYXllcnMuVXRpbC5nZXRSZXNvbHV0aW9uRnJvbVNjYWxlKGEubWluU2NhbGUsdGhpcy51bml0cyk6ImF1dG8iPT1kJiZudWxsIT10aGlzLm1heEV4dGVudCYmKGI9dGhpcy5tYXAuZ2V0U2l6ZSgpLApjPXRoaXMubWF4RXh0ZW50LmdldFdpZHRoKCkvYi53LGI9dGhpcy5tYXhFeHRlbnQuZ2V0SGVpZ2h0KCkvYi5oLGQ9TWF0aC5tYXgoYyxiKSk7Yz1hLm1pblJlc29sdXRpb247bnVsbCE9YS5tYXhTY2FsZT9jPU9wZW5MYXllcnMuVXRpbC5nZXRSZXNvbHV0aW9uRnJvbVNjYWxlKGEubWF4U2NhbGUsdGhpcy51bml0cyk6ImF1dG8iPT1hLm1pblJlc29sdXRpb24mJm51bGwhPXRoaXMubWluRXh0ZW50JiYoYj10aGlzLm1hcC5nZXRTaXplKCksYz10aGlzLm1pbkV4dGVudC5nZXRXaWR0aCgpL2IudyxiPXRoaXMubWluRXh0ZW50LmdldEhlaWdodCgpL2IuaCxjPU1hdGgubWF4KGMsYikpOyJudW1iZXIiIT09dHlwZW9mIGQmJigibnVtYmVyIiE9PXR5cGVvZiBjJiZudWxsIT10aGlzLm1heEV4dGVudCkmJihkPXRoaXMubWFwLmdldFRpbGVTaXplKCksZD1NYXRoLm1heCh0aGlzLm1heEV4dGVudC5nZXRXaWR0aCgpL2Qudyx0aGlzLm1heEV4dGVudC5nZXRIZWlnaHQoKS9kLmgpKTtiPWEubWF4Wm9vbUxldmVsOwphPWEubnVtWm9vbUxldmVsczsibnVtYmVyIj09PXR5cGVvZiBjJiYibnVtYmVyIj09PXR5cGVvZiBkJiZ2b2lkIDA9PT1hP2E9TWF0aC5mbG9vcihNYXRoLmxvZyhkL2MpL01hdGgubG9nKDIpKSsxOnZvaWQgMD09PWEmJm51bGwhPWImJihhPWIrMSk7aWYoISgibnVtYmVyIiE9PXR5cGVvZiBhfHwwPj1hfHwibnVtYmVyIiE9PXR5cGVvZiBkJiYibnVtYmVyIiE9PXR5cGVvZiBjKSl7Yj1BcnJheShhKTt2YXIgZT0yOyJudW1iZXIiPT10eXBlb2YgYyYmIm51bWJlciI9PXR5cGVvZiBkJiYoZT1NYXRoLnBvdyhkL2MsMS8oYS0xKSkpO3ZhciBmO2lmKCJudW1iZXIiPT09dHlwZW9mIGQpZm9yKGY9MDtmPGE7ZisrKWJbZl09ZC9NYXRoLnBvdyhlLGYpO2Vsc2UgZm9yKGY9MDtmPGE7ZisrKWJbYS0xLWZdPWMqTWF0aC5wb3coZSxmKTtyZXR1cm4gYn19LGdldFJlc29sdXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm1hcC5nZXRab29tKCk7cmV0dXJuIHRoaXMuZ2V0UmVzb2x1dGlvbkZvclpvb20oYSl9LApnZXRFeHRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAuY2FsY3VsYXRlQm91bmRzKCl9LGdldFpvb21Gb3JFeHRlbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLm1hcC5nZXRTaXplKCksYz1NYXRoLm1heChhLmdldFdpZHRoKCkvYy53LGEuZ2V0SGVpZ2h0KCkvYy5oKTtyZXR1cm4gdGhpcy5nZXRab29tRm9yUmVzb2x1dGlvbihjLGIpfSxnZXREYXRhRXh0ZW50OmZ1bmN0aW9uKCl7fSxnZXRSZXNvbHV0aW9uRm9yWm9vbTpmdW5jdGlvbihhKXthPU1hdGgubWF4KDAsTWF0aC5taW4oYSx0aGlzLnJlc29sdXRpb25zLmxlbmd0aC0xKSk7aWYodGhpcy5tYXAuZnJhY3Rpb25hbFpvb20pdmFyIGI9TWF0aC5mbG9vcihhKSxjPU1hdGguY2VpbChhKSxhPXRoaXMucmVzb2x1dGlvbnNbYl0tKGEtYikqKHRoaXMucmVzb2x1dGlvbnNbYl0tdGhpcy5yZXNvbHV0aW9uc1tjXSk7ZWxzZSBhPXRoaXMucmVzb2x1dGlvbnNbTWF0aC5yb3VuZChhKV07cmV0dXJuIGF9LGdldFpvb21Gb3JSZXNvbHV0aW9uOmZ1bmN0aW9uKGEsCmIpe3ZhciBjLGQ7aWYodGhpcy5tYXAuZnJhY3Rpb25hbFpvb20pe3ZhciBlPTAsZj10aGlzLnJlc29sdXRpb25zW2VdLGc9dGhpcy5yZXNvbHV0aW9uc1t0aGlzLnJlc29sdXRpb25zLmxlbmd0aC0xXSxoO2M9MDtmb3IoZD10aGlzLnJlc29sdXRpb25zLmxlbmd0aDtjPGQ7KytjKWlmKGg9dGhpcy5yZXNvbHV0aW9uc1tjXSxoPj1hJiYoZj1oLGU9YyksaDw9YSl7Zz1oO2JyZWFrfWM9Zi1nO2M9MDxjP2UrKGYtYSkvYzplfWVsc2V7Zj1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Yz0wO2ZvcihkPXRoaXMucmVzb2x1dGlvbnMubGVuZ3RoO2M8ZDtjKyspaWYoYil7ZT1NYXRoLmFicyh0aGlzLnJlc29sdXRpb25zW2NdLWEpO2lmKGU+ZilicmVhaztmPWV9ZWxzZSBpZih0aGlzLnJlc29sdXRpb25zW2NdPGEpYnJlYWs7Yz1NYXRoLm1heCgwLGMtMSl9cmV0dXJuIGN9LGdldExvbkxhdEZyb21WaWV3UG9ydFB4OmZ1bmN0aW9uKGEpe3ZhciBiPW51bGwsYz10aGlzLm1hcDtpZihudWxsIT0KYSYmYy5taW5QeCl7dmFyIGI9Yy5nZXRSZXNvbHV0aW9uKCksZD1jLmdldE1heEV4dGVudCh7cmVzdHJpY3RlZDohMH0pLGI9bmV3IE9wZW5MYXllcnMuTG9uTGF0KChhLngtYy5taW5QeC54KSpiK2QubGVmdCwoYy5taW5QeC55LWEueSkqYitkLnRvcCk7dGhpcy53cmFwRGF0ZUxpbmUmJihiPWIud3JhcERhdGVMaW5lKHRoaXMubWF4RXh0ZW50KSl9cmV0dXJuIGJ9LGdldFZpZXdQb3J0UHhGcm9tTG9uTGF0OmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtudWxsIT1hJiYoYj1ifHx0aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCksYz10aGlzLm1hcC5jYWxjdWxhdGVCb3VuZHMobnVsbCxiKSxjPW5ldyBPcGVuTGF5ZXJzLlBpeGVsKDEvYiooYS5sb24tYy5sZWZ0KSwxL2IqKGMudG9wLWEubGF0KSkpO3JldHVybiBjfSxzZXRPcGFjaXR5OmZ1bmN0aW9uKGEpe2lmKGEhPXRoaXMub3BhY2l0eSl7dGhpcy5vcGFjaXR5PWE7Zm9yKHZhciBiPXRoaXMuZGl2LmNoaWxkTm9kZXMsYz0wLGQ9Yi5sZW5ndGg7YzwKZDsrK2Mpe3ZhciBlPWJbY10uZmlyc3RDaGlsZHx8YltjXSxmPWJbY10ubGFzdENoaWxkO2YmJiJpZnJhbWUiPT09Zi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYoZT1mLnBhcmVudE5vZGUpO09wZW5MYXllcnMuVXRpbC5tb2RpZnlET01FbGVtZW50KGUsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsYSl9bnVsbCE9dGhpcy5tYXAmJnRoaXMubWFwLmV2ZW50cy50cmlnZ2VyRXZlbnQoImNoYW5nZWxheWVyIix7bGF5ZXI6dGhpcyxwcm9wZXJ0eToib3BhY2l0eSJ9KX19LGdldFpJbmRleDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpdi5zdHlsZS56SW5kZXh9LHNldFpJbmRleDpmdW5jdGlvbihhKXt0aGlzLmRpdi5zdHlsZS56SW5kZXg9YX0sYWRqdXN0Qm91bmRzOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZ3V0dGVyKXZhciBiPXRoaXMuZ3V0dGVyKnRoaXMubWFwLmdldFJlc29sdXRpb24oKSxhPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhhLmxlZnQtYixhLmJvdHRvbS1iLGEucmlnaHQrCmIsYS50b3ArYik7dGhpcy53cmFwRGF0ZUxpbmUmJihiPXtyaWdodFRvbGVyYW5jZTp0aGlzLmdldFJlc29sdXRpb24oKSxsZWZ0VG9sZXJhbmNlOnRoaXMuZ2V0UmVzb2x1dGlvbigpfSxhPWEud3JhcERhdGVMaW5lKHRoaXMubWF4RXh0ZW50LGIpKTtyZXR1cm4gYX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllciJ9KTtPcGVuTGF5ZXJzLkxheWVyLlNwaGVyaWNhbE1lcmNhdG9yPXtnZXRFeHRlbnQ6ZnVuY3Rpb24oKXt2YXIgYT1udWxsO3JldHVybiBhPXRoaXMuc3BoZXJpY2FsTWVyY2F0b3I/dGhpcy5tYXAuY2FsY3VsYXRlQm91bmRzKCk6T3BlbkxheWVycy5MYXllci5GaXhlZFpvb21MZXZlbHMucHJvdG90eXBlLmdldEV4dGVudC5hcHBseSh0aGlzKX0sZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHg6ZnVuY3Rpb24oYSl7cmV0dXJuIE9wZW5MYXllcnMuTGF5ZXIucHJvdG90eXBlLmdldExvbkxhdEZyb21WaWV3UG9ydFB4LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZ2V0Vmlld1BvcnRQeEZyb21Mb25MYXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIE9wZW5MYXllcnMuTGF5ZXIucHJvdG90eXBlLmdldFZpZXdQb3J0UHhGcm9tTG9uTGF0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0saW5pdE1lcmNhdG9yUGFyYW1ldGVyczpmdW5jdGlvbigpe3RoaXMuUkVTT0xVVElPTlM9W107Zm9yKHZhciBhPTA7YTw9dGhpcy5NQVhfWk9PTV9MRVZFTDsrK2EpdGhpcy5SRVNPTFVUSU9OU1thXT0KMTU2NTQzLjAzMzkwNjI1L01hdGgucG93KDIsYSk7dGhpcy51bml0cz0ibSI7dGhpcy5wcm9qZWN0aW9uPXRoaXMucHJvamVjdGlvbnx8IkVQU0c6OTAwOTEzIn0sZm9yd2FyZE1lcmNhdG9yOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IE9wZW5MYXllcnMuUHJvamVjdGlvbigiRVBTRzo0MzI2IiksYj1uZXcgT3BlbkxheWVycy5Qcm9qZWN0aW9uKCJFUFNHOjkwMDkxMyIpO3JldHVybiBmdW5jdGlvbihjLGQpe3ZhciBlPU9wZW5MYXllcnMuUHJvamVjdGlvbi50cmFuc2Zvcm0oe3g6Yyx5OmR9LGEsYik7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkxvbkxhdChlLngsZS55KX19KCksaW52ZXJzZU1lcmNhdG9yOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IE9wZW5MYXllcnMuUHJvamVjdGlvbigiRVBTRzo0MzI2IiksYj1uZXcgT3BlbkxheWVycy5Qcm9qZWN0aW9uKCJFUFNHOjkwMDkxMyIpO3JldHVybiBmdW5jdGlvbihjLGQpe3ZhciBlPU9wZW5MYXllcnMuUHJvamVjdGlvbi50cmFuc2Zvcm0oe3g6YywKeTpkfSxiLGEpO3JldHVybiBuZXcgT3BlbkxheWVycy5Mb25MYXQoZS54LGUueSl9fSgpfTtPcGVuTGF5ZXJzLkxheWVyLkV2ZW50UGFuZT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIse3Ntb290aERyYWdQYW46ITAsaXNCYXNlTGF5ZXI6ITAsaXNGaXhlZDohMCxwYW5lOm51bGwsbWFwT2JqZWN0Om51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIpe09wZW5MYXllcnMuTGF5ZXIucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGw9PXRoaXMucGFuZSYmKHRoaXMucGFuZT1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlRGl2KHRoaXMuZGl2LmlkKyJfRXZlbnRQYW5lIikpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5wYW5lPXRoaXMubWFwT2JqZWN0PW51bGw7T3BlbkxheWVycy5MYXllci5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHNldE1hcDpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5zZXRNYXAuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMucGFuZS5zdHlsZS56SW5kZXg9CnBhcnNlSW50KHRoaXMuZGl2LnN0eWxlLnpJbmRleCkrMTt0aGlzLnBhbmUuc3R5bGUuZGlzcGxheT10aGlzLmRpdi5zdHlsZS5kaXNwbGF5O3RoaXMucGFuZS5zdHlsZS53aWR0aD0iMTAwJSI7dGhpcy5wYW5lLnN0eWxlLmhlaWdodD0iMTAwJSI7Im1zaWUiPT1PcGVuTGF5ZXJzLkJST1dTRVJfTkFNRSYmKHRoaXMucGFuZS5zdHlsZS5iYWNrZ3JvdW5kPSJ1cmwoIitPcGVuTGF5ZXJzLlV0aWwuZ2V0SW1hZ2VMb2NhdGlvbigiYmxhbmsuZ2lmIikrIikiKTt0aGlzLmlzRml4ZWQ/dGhpcy5tYXAudmlld1BvcnREaXYuYXBwZW5kQ2hpbGQodGhpcy5wYW5lKTp0aGlzLm1hcC5sYXllckNvbnRhaW5lckRpdi5hcHBlbmRDaGlsZCh0aGlzLnBhbmUpO3RoaXMubG9hZE1hcE9iamVjdCgpO251bGw9PXRoaXMubWFwT2JqZWN0JiZ0aGlzLmxvYWRXYXJuaW5nTWVzc2FnZSgpfSxyZW1vdmVNYXA6ZnVuY3Rpb24oYSl7dGhpcy5wYW5lJiZ0aGlzLnBhbmUucGFyZW50Tm9kZSYmdGhpcy5wYW5lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wYW5lKTsKT3BlbkxheWVycy5MYXllci5wcm90b3R5cGUucmVtb3ZlTWFwLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sbG9hZFdhcm5pbmdNZXNzYWdlOmZ1bmN0aW9uKCl7dGhpcy5kaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yPSJkYXJrYmx1ZSI7dmFyIGE9dGhpcy5tYXAuZ2V0U2l6ZSgpLGI9TWF0aC5taW4oYS53LDMwMCksYz1NYXRoLm1pbihhLmgsMjAwKSxiPW5ldyBPcGVuTGF5ZXJzLlNpemUoYixjKSxhPShuZXcgT3BlbkxheWVycy5QaXhlbChhLncvMixhLmgvMikpLmFkZCgtYi53LzIsLWIuaC8yKSxhPU9wZW5MYXllcnMuVXRpbC5jcmVhdGVEaXYodGhpcy5uYW1lKyJfd2FybmluZyIsYSxiLG51bGwsbnVsbCxudWxsLCJhdXRvIik7YS5zdHlsZS5wYWRkaW5nPSI3cHgiO2Euc3R5bGUuYmFja2dyb3VuZENvbG9yPSJ5ZWxsb3ciO2EuaW5uZXJIVE1MPXRoaXMuZ2V0V2FybmluZ0hUTUwoKTt0aGlzLmRpdi5hcHBlbmRDaGlsZChhKX0sZ2V0V2FybmluZ0hUTUw6ZnVuY3Rpb24oKXtyZXR1cm4iIn0sCmRpc3BsYXk6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5MYXllci5wcm90b3R5cGUuZGlzcGxheS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5wYW5lLnN0eWxlLmRpc3BsYXk9dGhpcy5kaXYuc3R5bGUuZGlzcGxheX0sc2V0WkluZGV4OmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuTGF5ZXIucHJvdG90eXBlLnNldFpJbmRleC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5wYW5lLnN0eWxlLnpJbmRleD1wYXJzZUludCh0aGlzLmRpdi5zdHlsZS56SW5kZXgpKzF9LG1vdmVCeVB4OmZ1bmN0aW9uKGEsYil7T3BlbkxheWVycy5MYXllci5wcm90b3R5cGUubW92ZUJ5UHguYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZHJhZ1Bhbk1hcE9iamVjdD90aGlzLmRyYWdQYW5NYXBPYmplY3QoYSwtYik6dGhpcy5tb3ZlVG8odGhpcy5tYXAuZ2V0Q2FjaGVkQ2VudGVyKCkpfSxtb3ZlVG86ZnVuY3Rpb24oYSxiLGMpe09wZW5MYXllcnMuTGF5ZXIucHJvdG90eXBlLm1vdmVUby5hcHBseSh0aGlzLAphcmd1bWVudHMpO2lmKG51bGwhPXRoaXMubWFwT2JqZWN0KXt2YXIgZD10aGlzLm1hcC5nZXRDZW50ZXIoKSxlPXRoaXMubWFwLmdldFpvb20oKTtpZihudWxsIT1kKXt2YXIgZj10aGlzLmdldE1hcE9iamVjdENlbnRlcigpLGY9dGhpcy5nZXRPTExvbkxhdEZyb21NYXBPYmplY3RMb25MYXQoZiksZz10aGlzLmdldE1hcE9iamVjdFpvb20oKSxnPXRoaXMuZ2V0T0xab29tRnJvbU1hcE9iamVjdFpvb20oZyk7aWYoIWQuZXF1YWxzKGYpfHxlIT1nKSFiJiZmJiZ0aGlzLmRyYWdQYW5NYXBPYmplY3QmJnRoaXMuc21vb3RoRHJhZ1Bhbj8oZT10aGlzLm1hcC5nZXRWaWV3UG9ydFB4RnJvbUxvbkxhdChmKSxkPXRoaXMubWFwLmdldFZpZXdQb3J0UHhGcm9tTG9uTGF0KGQpLHRoaXMuZHJhZ1Bhbk1hcE9iamVjdChkLngtZS54LGUueS1kLnkpKTooZD10aGlzLmdldE1hcE9iamVjdExvbkxhdEZyb21PTExvbkxhdChkKSxlPXRoaXMuZ2V0TWFwT2JqZWN0Wm9vbUZyb21PTFpvb20oZSksdGhpcy5zZXRNYXBPYmplY3RDZW50ZXIoZCwKZSxjKSl9fX0sZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHg6ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtudWxsIT10aGlzLm1hcE9iamVjdCYmbnVsbCE9dGhpcy5nZXRNYXBPYmplY3RDZW50ZXIoKSYmKGE9dGhpcy5nZXRNYXBPYmplY3RQaXhlbEZyb21PTFBpeGVsKGEpLGE9dGhpcy5nZXRNYXBPYmplY3RMb25MYXRGcm9tTWFwT2JqZWN0UGl4ZWwoYSksYj10aGlzLmdldE9MTG9uTGF0RnJvbU1hcE9iamVjdExvbkxhdChhKSk7cmV0dXJuIGJ9LGdldFZpZXdQb3J0UHhGcm9tTG9uTGF0OmZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7bnVsbCE9dGhpcy5tYXBPYmplY3QmJm51bGwhPXRoaXMuZ2V0TWFwT2JqZWN0Q2VudGVyKCkmJihhPXRoaXMuZ2V0TWFwT2JqZWN0TG9uTGF0RnJvbU9MTG9uTGF0KGEpLGE9dGhpcy5nZXRNYXBPYmplY3RQaXhlbEZyb21NYXBPYmplY3RMb25MYXQoYSksYj10aGlzLmdldE9MUGl4ZWxGcm9tTWFwT2JqZWN0UGl4ZWwoYSkpO3JldHVybiBifSxnZXRPTExvbkxhdEZyb21NYXBPYmplY3RMb25MYXQ6ZnVuY3Rpb24oYSl7dmFyIGI9Cm51bGw7bnVsbCE9YSYmKGI9dGhpcy5nZXRMb25naXR1ZGVGcm9tTWFwT2JqZWN0TG9uTGF0KGEpLGE9dGhpcy5nZXRMYXRpdHVkZUZyb21NYXBPYmplY3RMb25MYXQoYSksYj1uZXcgT3BlbkxheWVycy5Mb25MYXQoYixhKSk7cmV0dXJuIGJ9LGdldE1hcE9iamVjdExvbkxhdEZyb21PTExvbkxhdDpmdW5jdGlvbihhKXt2YXIgYj1udWxsO251bGwhPWEmJihiPXRoaXMuZ2V0TWFwT2JqZWN0TG9uTGF0RnJvbUxvbkxhdChhLmxvbixhLmxhdCkpO3JldHVybiBifSxnZXRPTFBpeGVsRnJvbU1hcE9iamVjdFBpeGVsOmZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7bnVsbCE9YSYmKGI9dGhpcy5nZXRYRnJvbU1hcE9iamVjdFBpeGVsKGEpLGE9dGhpcy5nZXRZRnJvbU1hcE9iamVjdFBpeGVsKGEpLGI9bmV3IE9wZW5MYXllcnMuUGl4ZWwoYixhKSk7cmV0dXJuIGJ9LGdldE1hcE9iamVjdFBpeGVsRnJvbU9MUGl4ZWw6ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtudWxsIT1hJiYoYj10aGlzLmdldE1hcE9iamVjdFBpeGVsRnJvbVhZKGEueCwKYS55KSk7cmV0dXJuIGJ9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuTGF5ZXIuRXZlbnRQYW5lIn0pO09wZW5MYXllcnMuTGF5ZXIuRml4ZWRab29tTGV2ZWxzPU9wZW5MYXllcnMuQ2xhc3Moe2luaXRpYWxpemU6ZnVuY3Rpb24oKXt9LGluaXRSZXNvbHV0aW9uczpmdW5jdGlvbigpe2Zvcih2YXIgYT1bIm1pblpvb21MZXZlbCIsIm1heFpvb21MZXZlbCIsIm51bVpvb21MZXZlbHMiXSxiPTAsYz1hLmxlbmd0aDtiPGM7YisrKXt2YXIgZD1hW2JdO3RoaXNbZF09bnVsbCE9dGhpcy5vcHRpb25zW2RdP3RoaXMub3B0aW9uc1tkXTp0aGlzLm1hcFtkXX1pZihudWxsPT10aGlzLm1pblpvb21MZXZlbHx8dGhpcy5taW5ab29tTGV2ZWw8dGhpcy5NSU5fWk9PTV9MRVZFTCl0aGlzLm1pblpvb21MZXZlbD10aGlzLk1JTl9aT09NX0xFVkVMO2E9dGhpcy5NQVhfWk9PTV9MRVZFTC10aGlzLm1pblpvb21MZXZlbCsxO2I9bnVsbD09dGhpcy5vcHRpb25zLm51bVpvb21MZXZlbHMmJm51bGwhPXRoaXMub3B0aW9ucy5tYXhab29tTGV2ZWx8fG51bGw9PXRoaXMubnVtWm9vbUxldmVscyYmbnVsbCE9dGhpcy5tYXhab29tTGV2ZWw/CnRoaXMubWF4Wm9vbUxldmVsLXRoaXMubWluWm9vbUxldmVsKzE6dGhpcy5udW1ab29tTGV2ZWxzO3RoaXMubnVtWm9vbUxldmVscz1udWxsIT1iP01hdGgubWluKGIsYSk6YTt0aGlzLm1heFpvb21MZXZlbD10aGlzLm1pblpvb21MZXZlbCt0aGlzLm51bVpvb21MZXZlbHMtMTtpZihudWxsIT10aGlzLlJFU09MVVRJT05TKXthPTA7dGhpcy5yZXNvbHV0aW9ucz1bXTtmb3IoYj10aGlzLm1pblpvb21MZXZlbDtiPD10aGlzLm1heFpvb21MZXZlbDtiKyspdGhpcy5yZXNvbHV0aW9uc1thKytdPXRoaXMuUkVTT0xVVElPTlNbYl07dGhpcy5tYXhSZXNvbHV0aW9uPXRoaXMucmVzb2x1dGlvbnNbMF07dGhpcy5taW5SZXNvbHV0aW9uPXRoaXMucmVzb2x1dGlvbnNbdGhpcy5yZXNvbHV0aW9ucy5sZW5ndGgtMV19fSxnZXRSZXNvbHV0aW9uOmZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5yZXNvbHV0aW9ucylyZXR1cm4gT3BlbkxheWVycy5MYXllci5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbi5hcHBseSh0aGlzLAphcmd1bWVudHMpO3ZhciBhPW51bGwsYj10aGlzLm1hcC5nZXRTaXplKCksYz10aGlzLmdldEV4dGVudCgpO251bGwhPWImJm51bGwhPWMmJihhPU1hdGgubWF4KGMuZ2V0V2lkdGgoKS9iLncsYy5nZXRIZWlnaHQoKS9iLmgpKTtyZXR1cm4gYX0sZ2V0RXh0ZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5tYXAuZ2V0U2l6ZSgpLGI9dGhpcy5nZXRMb25MYXRGcm9tVmlld1BvcnRQeCh7eDowLHk6MH0pLGE9dGhpcy5nZXRMb25MYXRGcm9tVmlld1BvcnRQeCh7eDphLncseTphLmh9KTtyZXR1cm4gbnVsbCE9YiYmbnVsbCE9YT9uZXcgT3BlbkxheWVycy5Cb3VuZHMoYi5sb24sYS5sYXQsYS5sb24sYi5sYXQpOm51bGx9LGdldFpvb21Gb3JSZXNvbHV0aW9uOmZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMucmVzb2x1dGlvbnMpcmV0dXJuIE9wZW5MYXllcnMuTGF5ZXIucHJvdG90eXBlLmdldFpvb21Gb3JSZXNvbHV0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgYj1PcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5nZXRFeHRlbnQuYXBwbHkodGhpcywKW10pO3JldHVybiB0aGlzLmdldFpvb21Gb3JFeHRlbnQoYil9LGdldE9MWm9vbUZyb21NYXBPYmplY3Rab29tOmZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7bnVsbCE9YSYmKGI9YS10aGlzLm1pblpvb21MZXZlbCx0aGlzLm1hcC5iYXNlTGF5ZXIhPT10aGlzJiYoYj10aGlzLm1hcC5iYXNlTGF5ZXIuZ2V0Wm9vbUZvclJlc29sdXRpb24odGhpcy5nZXRSZXNvbHV0aW9uRm9yWm9vbShiKSkpKTtyZXR1cm4gYn0sZ2V0TWFwT2JqZWN0Wm9vbUZyb21PTFpvb206ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtudWxsIT1hJiYoYj1hK3RoaXMubWluWm9vbUxldmVsLHRoaXMubWFwLmJhc2VMYXllciE9PXRoaXMmJihiPXRoaXMuZ2V0Wm9vbUZvclJlc29sdXRpb24odGhpcy5tYXAuYmFzZUxheWVyLmdldFJlc29sdXRpb25Gb3Jab29tKGIpKSkpO3JldHVybiBifSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLkZpeGVkWm9vbUxldmVscyJ9KTtPcGVuTGF5ZXJzLkxheWVyLkdvb2dsZT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIuRXZlbnRQYW5lLE9wZW5MYXllcnMuTGF5ZXIuRml4ZWRab29tTGV2ZWxzLHtNSU5fWk9PTV9MRVZFTDowLE1BWF9aT09NX0xFVkVMOjIxLFJFU09MVVRJT05TOlsxLjQwNjI1LDAuNzAzMTI1LDAuMzUxNTYyNSwwLjE3NTc4MTI1LDAuMDg3ODkwNjI1LDAuMDQzOTQ1MzEyNSwwLjAyMTk3MjY1NjI1LDAuMDEwOTg2MzI4MTI1LDAuMDA1NDkzMTY0MDYyNSwwLjAwMjc0NjU4MjAzMTI1LDAuMDAxMzczMjkxMDE1NjI1LDYuODY2NDU1MDc4MTI1RS00LDMuNDMzMjI3NTM5MDYyNUUtNCwxLjcxNjYxMzc2OTUzMTI1RS00LDguNTgzMDY4ODQ3NjU2MjVFLTUsNC4yOTE1MzQ0MjM4MjgxMjVFLTUsMi4xNDU3NjcyMTE5MTQwNjJFLTUsMS4wNzI4ODM2MDU5NTcwMzFFLTUsNS4zNjQ0MTgwMjk3ODUxNUUtNiwyLjY4MjIwOTAxNDg5MjU3RS02LDEuMzQxMTA0NTA3NDQ2Mjg5RS02LDYuNzA1NTIyNTM3MjMxNDQ1RS03XSwKdHlwZTpudWxsLHdyYXBEYXRlTGluZTohMCxzcGhlcmljYWxNZXJjYXRvcjohMSx2ZXJzaW9uOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIpe2I9Ynx8e307Yi52ZXJzaW9ufHwoYi52ZXJzaW9uPSJmdW5jdGlvbiI9PT10eXBlb2YgR01hcDI/IjIiOiIzIik7dmFyIGM9T3BlbkxheWVycy5MYXllci5Hb29nbGVbInYiK2IudmVyc2lvbi5yZXBsYWNlKC9cLi9nLCJfIildO2lmKGMpT3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYixjKTtlbHNlIHRocm93IlVuc3VwcG9ydGVkIEdvb2dsZSBNYXBzIEFQSSB2ZXJzaW9uOiAiK2IudmVyc2lvbjtPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhiLGMuREVGQVVMVFMpO2IubWF4RXh0ZW50JiYoYi5tYXhFeHRlbnQ9Yi5tYXhFeHRlbnQuY2xvbmUoKSk7T3BlbkxheWVycy5MYXllci5FdmVudFBhbmUucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYSxiXSk7T3BlbkxheWVycy5MYXllci5GaXhlZFpvb21MZXZlbHMucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcywKW2EsYl0pO3RoaXMuc3BoZXJpY2FsTWVyY2F0b3ImJihPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsT3BlbkxheWVycy5MYXllci5TcGhlcmljYWxNZXJjYXRvciksdGhpcy5pbml0TWVyY2F0b3JQYXJhbWV0ZXJzKCkpfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgT3BlbkxheWVycy5MYXllci5Hb29nbGUodGhpcy5uYW1lLHRoaXMuZ2V0T3B0aW9ucygpKX0sc2V0VmlzaWJpbGl0eTpmdW5jdGlvbihhKXt2YXIgYj1udWxsPT10aGlzLm9wYWNpdHk/MTp0aGlzLm9wYWNpdHk7T3BlbkxheWVycy5MYXllci5FdmVudFBhbmUucHJvdG90eXBlLnNldFZpc2liaWxpdHkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuc2V0T3BhY2l0eShiKX0sZGlzcGxheTpmdW5jdGlvbihhKXt0aGlzLl9kcmFnZ2luZ3x8dGhpcy5zZXRHTWFwVmlzaWJpbGl0eShhKTtPcGVuTGF5ZXJzLkxheWVyLkV2ZW50UGFuZS5wcm90b3R5cGUuZGlzcGxheS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG1vdmVUbzpmdW5jdGlvbihhLApiLGMpe3RoaXMuX2RyYWdnaW5nPWM7T3BlbkxheWVycy5MYXllci5FdmVudFBhbmUucHJvdG90eXBlLm1vdmVUby5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZGVsZXRlIHRoaXMuX2RyYWdnaW5nfSxzZXRPcGFjaXR5OmZ1bmN0aW9uKGEpe2EhPT10aGlzLm9wYWNpdHkmJihudWxsIT10aGlzLm1hcCYmdGhpcy5tYXAuZXZlbnRzLnRyaWdnZXJFdmVudCgiY2hhbmdlbGF5ZXIiLHtsYXllcjp0aGlzLHByb3BlcnR5OiJvcGFjaXR5In0pLHRoaXMub3BhY2l0eT1hKTtpZih0aGlzLmdldFZpc2liaWxpdHkoKSl7dmFyIGI9dGhpcy5nZXRNYXBDb250YWluZXIoKTtPcGVuTGF5ZXJzLlV0aWwubW9kaWZ5RE9NRWxlbWVudChiLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLGEpfX0sZGVzdHJveTpmdW5jdGlvbigpe2lmKHRoaXMubWFwKXt0aGlzLnNldEdNYXBWaXNpYmlsaXR5KCExKTt2YXIgYT1PcGVuTGF5ZXJzLkxheWVyLkdvb2dsZS5jYWNoZVt0aGlzLm1hcC5pZF07YSYmMT49YS5jb3VudCYmCnRoaXMucmVtb3ZlR01hcEVsZW1lbnRzKCl9T3BlbkxheWVycy5MYXllci5FdmVudFBhbmUucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxyZW1vdmVHTWFwRWxlbWVudHM6ZnVuY3Rpb24oKXt2YXIgYT1PcGVuTGF5ZXJzLkxheWVyLkdvb2dsZS5jYWNoZVt0aGlzLm1hcC5pZF07aWYoYSl7dmFyIGI9dGhpcy5tYXBPYmplY3QmJnRoaXMuZ2V0TWFwQ29udGFpbmVyKCk7YiYmYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik7KGI9YS50ZXJtc09mVXNlKSYmYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik7KGE9YS5wb3dlcmVkQnkpJiZhLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKTt0aGlzLm1hcE9iamVjdCYmKHdpbmRvdy5nb29nbGUmJmdvb2dsZS5tYXBzJiZnb29nbGUubWFwcy5ldmVudCYmZ29vZ2xlLm1hcHMuZXZlbnQuY2xlYXJMaXN0ZW5lcnMpJiZnb29nbGUubWFwcy5ldmVudC5jbGVhckxpc3RlbmVycyh0aGlzLm1hcE9iamVjdCwKInRpbGVzbG9hZGVkIil9fSxyZW1vdmVNYXA6ZnVuY3Rpb24oYSl7dGhpcy52aXNpYmlsaXR5JiZ0aGlzLm1hcE9iamVjdCYmdGhpcy5zZXRHTWFwVmlzaWJpbGl0eSghMSk7dmFyIGI9T3BlbkxheWVycy5MYXllci5Hb29nbGUuY2FjaGVbYS5pZF07YiYmKDE+PWIuY291bnQ/KHRoaXMucmVtb3ZlR01hcEVsZW1lbnRzKCksZGVsZXRlIE9wZW5MYXllcnMuTGF5ZXIuR29vZ2xlLmNhY2hlW2EuaWRdKTotLWIuY291bnQpO2RlbGV0ZSB0aGlzLnRlcm1zT2ZVc2U7ZGVsZXRlIHRoaXMucG93ZXJlZEJ5O2RlbGV0ZSB0aGlzLm1hcE9iamVjdDtkZWxldGUgdGhpcy5kcmFnT2JqZWN0O09wZW5MYXllcnMuTGF5ZXIuRXZlbnRQYW5lLnByb3RvdHlwZS5yZW1vdmVNYXAuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxnZXRPTEJvdW5kc0Zyb21NYXBPYmplY3RCb3VuZHM6ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtudWxsIT1hJiYoYj1hLmdldFNvdXRoV2VzdCgpLGE9YS5nZXROb3J0aEVhc3QoKSx0aGlzLnNwaGVyaWNhbE1lcmNhdG9yPwooYj10aGlzLmZvcndhcmRNZXJjYXRvcihiLmxuZygpLGIubGF0KCkpLGE9dGhpcy5mb3J3YXJkTWVyY2F0b3IoYS5sbmcoKSxhLmxhdCgpKSk6KGI9bmV3IE9wZW5MYXllcnMuTG9uTGF0KGIubG5nKCksYi5sYXQoKSksYT1uZXcgT3BlbkxheWVycy5Mb25MYXQoYS5sbmcoKSxhLmxhdCgpKSksYj1uZXcgT3BlbkxheWVycy5Cb3VuZHMoYi5sb24sYi5sYXQsYS5sb24sYS5sYXQpKTtyZXR1cm4gYn0sZ2V0V2FybmluZ0hUTUw6ZnVuY3Rpb24oKXtyZXR1cm4gT3BlbkxheWVycy5pMThuKCJnb29nbGVXYXJuaW5nIil9LGdldE1hcE9iamVjdENlbnRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcE9iamVjdC5nZXRDZW50ZXIoKX0sZ2V0TWFwT2JqZWN0Wm9vbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcE9iamVjdC5nZXRab29tKCl9LGdldExvbmdpdHVkZUZyb21NYXBPYmplY3RMb25MYXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc3BoZXJpY2FsTWVyY2F0b3I/dGhpcy5mb3J3YXJkTWVyY2F0b3IoYS5sbmcoKSwKYS5sYXQoKSkubG9uOmEubG5nKCl9LGdldExhdGl0dWRlRnJvbU1hcE9iamVjdExvbkxhdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zcGhlcmljYWxNZXJjYXRvcj90aGlzLmZvcndhcmRNZXJjYXRvcihhLmxuZygpLGEubGF0KCkpLmxhdDphLmxhdCgpfSxnZXRYRnJvbU1hcE9iamVjdFBpeGVsOmZ1bmN0aW9uKGEpe3JldHVybiBhLnh9LGdldFlGcm9tTWFwT2JqZWN0UGl4ZWw6ZnVuY3Rpb24oYSl7cmV0dXJuIGEueX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5Hb29nbGUifSk7T3BlbkxheWVycy5MYXllci5Hb29nbGUuY2FjaGU9e307Ck9wZW5MYXllcnMuTGF5ZXIuR29vZ2xlLnYyPXt0ZXJtc09mVXNlOm51bGwscG93ZXJlZEJ5Om51bGwsZHJhZ09iamVjdDpudWxsLGxvYWRNYXBPYmplY3Q6ZnVuY3Rpb24oKXt0aGlzLnR5cGV8fCh0aGlzLnR5cGU9R19OT1JNQUxfTUFQKTt2YXIgYSxiLGMsZD1PcGVuTGF5ZXJzLkxheWVyLkdvb2dsZS5jYWNoZVt0aGlzLm1hcC5pZF07aWYoZClhPWQubWFwT2JqZWN0LGI9ZC50ZXJtc09mVXNlLGM9ZC5wb3dlcmVkQnksKytkLmNvdW50O2Vsc2V7dmFyIGQ9dGhpcy5tYXAudmlld1BvcnREaXYsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtlLmlkPXRoaXMubWFwLmlkKyJfR01hcDJDb250YWluZXIiO2Uuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtlLnN0eWxlLndpZHRoPSIxMDAlIjtlLnN0eWxlLmhlaWdodD0iMTAwJSI7ZC5hcHBlbmRDaGlsZChlKTt0cnl7YT1uZXcgR01hcDIoZSksYj1lLmxhc3RDaGlsZCxkLmFwcGVuZENoaWxkKGIpLGIuc3R5bGUuekluZGV4PQoiMTEwMCIsYi5zdHlsZS5yaWdodD0iIixiLnN0eWxlLmJvdHRvbT0iIixiLmNsYXNzTmFtZT0ib2xMYXllckdvb2dsZUNvcHlyaWdodCIsYz1lLmxhc3RDaGlsZCxkLmFwcGVuZENoaWxkKGMpLGMuc3R5bGUuekluZGV4PSIxMTAwIixjLnN0eWxlLnJpZ2h0PSIiLGMuc3R5bGUuYm90dG9tPSIiLGMuY2xhc3NOYW1lPSJvbExheWVyR29vZ2xlUG93ZXJlZEJ5IGdtbm9wcmludCJ9Y2F0Y2goZil7dGhyb3cgZjt9T3BlbkxheWVycy5MYXllci5Hb29nbGUuY2FjaGVbdGhpcy5tYXAuaWRdPXttYXBPYmplY3Q6YSx0ZXJtc09mVXNlOmIscG93ZXJlZEJ5OmMsY291bnQ6MX19dGhpcy5tYXBPYmplY3Q9YTt0aGlzLnRlcm1zT2ZVc2U9Yjt0aGlzLnBvd2VyZWRCeT1jOy0xPT09T3BlbkxheWVycy5VdGlsLmluZGV4T2YodGhpcy5tYXBPYmplY3QuZ2V0TWFwVHlwZXMoKSx0aGlzLnR5cGUpJiZ0aGlzLm1hcE9iamVjdC5hZGRNYXBUeXBlKHRoaXMudHlwZSk7ImZ1bmN0aW9uIj09dHlwZW9mIGEuZ2V0RHJhZ09iamVjdD8KdGhpcy5kcmFnT2JqZWN0PWEuZ2V0RHJhZ09iamVjdCgpOnRoaXMuZHJhZ1Bhbk1hcE9iamVjdD1udWxsOyExPT09dGhpcy5pc0Jhc2VMYXllciYmdGhpcy5zZXRHTWFwVmlzaWJpbGl0eSgibm9uZSIhPT10aGlzLmRpdi5zdHlsZS5kaXNwbGF5KX0sb25NYXBSZXNpemU6ZnVuY3Rpb24oKXtpZih0aGlzLnZpc2liaWxpdHkmJnRoaXMubWFwT2JqZWN0LmlzTG9hZGVkKCkpdGhpcy5tYXBPYmplY3QuY2hlY2tSZXNpemUoKTtlbHNle2lmKCF0aGlzLl9yZXNpemVkKXZhciBhPXRoaXMsYj1HRXZlbnQuYWRkTGlzdGVuZXIodGhpcy5tYXBPYmplY3QsImxvYWQiLGZ1bmN0aW9uKCl7R0V2ZW50LnJlbW92ZUxpc3RlbmVyKGIpO2RlbGV0ZSBhLl9yZXNpemVkO2EubWFwT2JqZWN0LmNoZWNrUmVzaXplKCk7YS5tb3ZlVG8oYS5tYXAuZ2V0Q2VudGVyKCksYS5tYXAuZ2V0Wm9vbSgpKX0pO3RoaXMuX3Jlc2l6ZWQ9ITB9fSxzZXRHTWFwVmlzaWJpbGl0eTpmdW5jdGlvbihhKXt2YXIgYj1PcGVuTGF5ZXJzLkxheWVyLkdvb2dsZS5jYWNoZVt0aGlzLm1hcC5pZF07CmlmKGIpe3ZhciBjPXRoaXMubWFwT2JqZWN0LmdldENvbnRhaW5lcigpOyEwPT09YT8odGhpcy5tYXBPYmplY3Quc2V0TWFwVHlwZSh0aGlzLnR5cGUpLGMuc3R5bGUuZGlzcGxheT0iIix0aGlzLnRlcm1zT2ZVc2Uuc3R5bGUubGVmdD0iIix0aGlzLnRlcm1zT2ZVc2Uuc3R5bGUuZGlzcGxheT0iIix0aGlzLnBvd2VyZWRCeS5zdHlsZS5kaXNwbGF5PSIiLGIuZGlzcGxheWVkPXRoaXMuaWQpOihiLmRpc3BsYXllZD09PXRoaXMuaWQmJmRlbGV0ZSBiLmRpc3BsYXllZCxiLmRpc3BsYXllZHx8KGMuc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy50ZXJtc09mVXNlLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMudGVybXNPZlVzZS5zdHlsZS5sZWZ0PSItOTk5OXB4Iix0aGlzLnBvd2VyZWRCeS5zdHlsZS5kaXNwbGF5PSJub25lIikpfX0sZ2V0TWFwQ29udGFpbmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwT2JqZWN0LmdldENvbnRhaW5lcigpfSxnZXRNYXBPYmplY3RCb3VuZHNGcm9tT0xCb3VuZHM6ZnVuY3Rpb24oYSl7dmFyIGI9Cm51bGw7bnVsbCE9YSYmKGI9dGhpcy5zcGhlcmljYWxNZXJjYXRvcj90aGlzLmludmVyc2VNZXJjYXRvcihhLmJvdHRvbSxhLmxlZnQpOm5ldyBPcGVuTGF5ZXJzLkxvbkxhdChhLmJvdHRvbSxhLmxlZnQpLGE9dGhpcy5zcGhlcmljYWxNZXJjYXRvcj90aGlzLmludmVyc2VNZXJjYXRvcihhLnRvcCxhLnJpZ2h0KTpuZXcgT3BlbkxheWVycy5Mb25MYXQoYS50b3AsYS5yaWdodCksYj1uZXcgR0xhdExuZ0JvdW5kcyhuZXcgR0xhdExuZyhiLmxhdCxiLmxvbiksbmV3IEdMYXRMbmcoYS5sYXQsYS5sb24pKSk7cmV0dXJuIGJ9LHNldE1hcE9iamVjdENlbnRlcjpmdW5jdGlvbihhLGIpe3RoaXMubWFwT2JqZWN0LnNldENlbnRlcihhLGIpfSxkcmFnUGFuTWFwT2JqZWN0OmZ1bmN0aW9uKGEsYil7dGhpcy5kcmFnT2JqZWN0Lm1vdmVCeShuZXcgR1NpemUoLWEsYikpfSxnZXRNYXBPYmplY3RMb25MYXRGcm9tTWFwT2JqZWN0UGl4ZWw6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubWFwT2JqZWN0LmZyb21Db250YWluZXJQaXhlbFRvTGF0TG5nKGEpfSwKZ2V0TWFwT2JqZWN0UGl4ZWxGcm9tTWFwT2JqZWN0TG9uTGF0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1hcE9iamVjdC5mcm9tTGF0TG5nVG9Db250YWluZXJQaXhlbChhKX0sZ2V0TWFwT2JqZWN0Wm9vbUZyb21NYXBPYmplY3RCb3VuZHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubWFwT2JqZWN0LmdldEJvdW5kc1pvb21MZXZlbChhKX0sZ2V0TWFwT2JqZWN0TG9uTGF0RnJvbUxvbkxhdDpmdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuc3BoZXJpY2FsTWVyY2F0b3I/KGM9dGhpcy5pbnZlcnNlTWVyY2F0b3IoYSxiKSxjPW5ldyBHTGF0TG5nKGMubGF0LGMubG9uKSk6Yz1uZXcgR0xhdExuZyhiLGEpO3JldHVybiBjfSxnZXRNYXBPYmplY3RQaXhlbEZyb21YWTpmdW5jdGlvbihhLGIpe3JldHVybiBuZXcgR1BvaW50KGEsYil9fTtPcGVuTGF5ZXJzLkZvcm1hdC5UTVNDYXBhYmlsaXRpZXM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwse2RlZmF1bHRQcmVmaXg6InRtcyIscmVhZGVyczp7dG1zOntTZXJ2aWNlczpmdW5jdGlvbihhLGIpe2Iuc2VydmljZXM9W107dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxUaWxlTWFwU2VydmljZTpmdW5jdGlvbihhLGIpe2Iuc2VydmljZXM/Yi5zZXJ2aWNlcy5wdXNoKHtzZXJ2aWNlOiJUTVMiLHZlcnNpb246YS5nZXRBdHRyaWJ1dGUoInZlcnNpb24iKSx0aXRsZTphLmdldEF0dHJpYnV0ZSgidGl0bGUiKSxocmVmOmEuZ2V0QXR0cmlidXRlKCJocmVmIil9KTp0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LFRpbGVNYXBzOmZ1bmN0aW9uKGEsYil7Yi50aWxlTWFwcz1bXTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LFRpbGVNYXA6ZnVuY3Rpb24oYSxiKXtiLnRpbGVNYXBzP2IudGlsZU1hcHMucHVzaCh7aHJlZjphLmdldEF0dHJpYnV0ZSgiaHJlZiIpLApzcnM6YS5nZXRBdHRyaWJ1dGUoInNycyIpLHRpdGxlOmEuZ2V0QXR0cmlidXRlKCJ0aXRsZSIpLHByb2ZpbGU6YS5nZXRBdHRyaWJ1dGUoInByb2ZpbGUiKX0pOihiLnZlcnNpb249YS5nZXRBdHRyaWJ1dGUoInZlcnNpb24iKSxiLnRpbGVNYXBTZXJ2aWNlPWEuZ2V0QXR0cmlidXRlKCJ0aWxlbWFwc2VydmljZSIpLHRoaXMucmVhZENoaWxkTm9kZXMoYSxiKSl9LFRpdGxlOmZ1bmN0aW9uKGEsYil7Yi50aXRsZT10aGlzLmdldENoaWxkVmFsdWUoYSl9LEFic3RyYWN0OmZ1bmN0aW9uKGEsYil7YlsiYWJzdHJhY3QiXT10aGlzLmdldENoaWxkVmFsdWUoYSl9LFNSUzpmdW5jdGlvbihhLGIpe2Iuc3JzPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sQm91bmRpbmdCb3g6ZnVuY3Rpb24oYSxiKXtiLmJib3g9bmV3IE9wZW5MYXllcnMuQm91bmRzKGEuZ2V0QXR0cmlidXRlKCJtaW54IiksYS5nZXRBdHRyaWJ1dGUoIm1pbnkiKSxhLmdldEF0dHJpYnV0ZSgibWF4eCIpLGEuZ2V0QXR0cmlidXRlKCJtYXh5IikpfSwKT3JpZ2luOmZ1bmN0aW9uKGEsYil7Yi5vcmlnaW49bmV3IE9wZW5MYXllcnMuTG9uTGF0KGEuZ2V0QXR0cmlidXRlKCJ4IiksYS5nZXRBdHRyaWJ1dGUoInkiKSl9LFRpbGVGb3JtYXQ6ZnVuY3Rpb24oYSxiKXtiLnRpbGVGb3JtYXQ9e3dpZHRoOnBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpLDEwKSxoZWlnaHQ6cGFyc2VJbnQoYS5nZXRBdHRyaWJ1dGUoImhlaWdodCIpLDEwKSxtaW1lVHlwZTphLmdldEF0dHJpYnV0ZSgibWltZS10eXBlIiksZXh0ZW5zaW9uOmEuZ2V0QXR0cmlidXRlKCJleHRlbnNpb24iKX19LFRpbGVTZXRzOmZ1bmN0aW9uKGEsYil7Yi50aWxlU2V0cz1bXTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LFRpbGVTZXQ6ZnVuY3Rpb24oYSxiKXtiLnRpbGVTZXRzLnB1c2goe2hyZWY6YS5nZXRBdHRyaWJ1dGUoImhyZWYiKSx1bml0c1BlclBpeGVsOnBhcnNlRmxvYXQoYS5nZXRBdHRyaWJ1dGUoInVuaXRzLXBlci1waXhlbCIpKSxvcmRlcjpwYXJzZUludChhLmdldEF0dHJpYnV0ZSgib3JkZXIiKSwKMTApfSl9LFRpbGVNYXBTZXJ2ZXJFcnJvcjpmdW5jdGlvbihhLGIpe2IuZXJyb3I9ITB9LE1lc3NhZ2U6ZnVuY3Rpb24oYSxiKXtiLm1lc3NhZ2U9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfX19LHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PXR5cGVvZiBhJiYoYT1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxbYV0pKTthJiY5PT1hLm5vZGVUeXBlJiYoYT1hLmRvY3VtZW50RWxlbWVudCk7dmFyIGI9e307dGhpcy5yZWFkTm9kZShhLGIpO3JldHVybiBifSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5UTVNDYXBhYmlsaXRpZXMifSk7T3BlbkxheWVycy5Gb3JtYXQuV0ZTVD1mdW5jdGlvbihhKXt2YXIgYT1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLE9wZW5MYXllcnMuRm9ybWF0LldGU1QuREVGQVVMVFMpLGI9T3BlbkxheWVycy5Gb3JtYXQuV0ZTVFsidiIrYS52ZXJzaW9uLnJlcGxhY2UoL1wuL2csIl8iKV07aWYoIWIpdGhyb3ciVW5zdXBwb3J0ZWQgV0ZTVCB2ZXJzaW9uOiAiK2EudmVyc2lvbjtyZXR1cm4gbmV3IGIoYSl9O09wZW5MYXllcnMuRm9ybWF0LldGU1QuREVGQVVMVFM9e3ZlcnNpb246IjEuMC4wIn07T3BlbkxheWVycy5TdHlsZT1PcGVuTGF5ZXJzLkNsYXNzKHtpZDpudWxsLG5hbWU6bnVsbCx0aXRsZTpudWxsLGRlc2NyaXB0aW9uOm51bGwsbGF5ZXJOYW1lOm51bGwsaXNEZWZhdWx0OiExLHJ1bGVzOm51bGwsY29udGV4dDpudWxsLGRlZmF1bHRTdHlsZTpudWxsLGRlZmF1bHRzUGVyU3ltYm9saXplcjohMSxwcm9wZXJ0eVN0eWxlczpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsYik7dGhpcy5ydWxlcz1bXTtiJiZiLnJ1bGVzJiZ0aGlzLmFkZFJ1bGVzKGIucnVsZXMpO3RoaXMuc2V0RGVmYXVsdFN0eWxlKGF8fE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3Iuc3R5bGVbImRlZmF1bHQiXSk7dGhpcy5pZD1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlVW5pcXVlSUQodGhpcy5DTEFTU19OQU1FKyJfIil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPXRoaXMucnVsZXMubGVuZ3RoO2E8YjthKyspdGhpcy5ydWxlc1thXS5kZXN0cm95KCksCnRoaXMucnVsZXNbYV09bnVsbDt0aGlzLmRlZmF1bHRTdHlsZT10aGlzLnJ1bGVzPW51bGx9LGNyZWF0ZVN5bWJvbGl6ZXI6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuZGVmYXVsdHNQZXJTeW1ib2xpemVyP3t9OnRoaXMuY3JlYXRlTGl0ZXJhbHMoT3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSx0aGlzLmRlZmF1bHRTdHlsZSksYSksYz10aGlzLnJ1bGVzLGQsZT1bXSxmPSExLGc9MCxoPWMubGVuZ3RoO2c8aDtnKyspZD1jW2ddLGQuZXZhbHVhdGUoYSkmJihkIGluc3RhbmNlb2YgT3BlbkxheWVycy5SdWxlJiZkLmVsc2VGaWx0ZXI/ZS5wdXNoKGQpOihmPSEwLHRoaXMuYXBwbHlTeW1ib2xpemVyKGQsYixhKSkpO2lmKCExPT1mJiYwPGUubGVuZ3RoKXtmPSEwO2c9MDtmb3IoaD1lLmxlbmd0aDtnPGg7ZysrKXRoaXMuYXBwbHlTeW1ib2xpemVyKGVbZ10sYixhKX0wPGMubGVuZ3RoJiYhMT09ZiYmKGIuZGlzcGxheT0ibm9uZSIpO251bGwhPWIubGFiZWwmJiJzdHJpbmciIT09dHlwZW9mIGIubGFiZWwmJgooYi5sYWJlbD1TdHJpbmcoYi5sYWJlbCkpO3JldHVybiBifSxhcHBseVN5bWJvbGl6ZXI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWMuZ2VvbWV0cnk/dGhpcy5nZXRTeW1ib2xpemVyUHJlZml4KGMuZ2VvbWV0cnkpOk9wZW5MYXllcnMuU3R5bGUuU1lNQk9MSVpFUl9QUkVGSVhFU1swXSxhPWEuc3ltYm9saXplcltkXXx8YS5zeW1ib2xpemVyOyEwPT09dGhpcy5kZWZhdWx0c1BlclN5bWJvbGl6ZXImJihkPXRoaXMuZGVmYXVsdFN0eWxlLE9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGEse3BvaW50UmFkaXVzOmQucG9pbnRSYWRpdXN9KSwoITA9PT1hLnN0cm9rZXx8ITA9PT1hLmdyYXBoaWMpJiZPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLHtzdHJva2VXaWR0aDpkLnN0cm9rZVdpZHRoLHN0cm9rZUNvbG9yOmQuc3Ryb2tlQ29sb3Isc3Ryb2tlT3BhY2l0eTpkLnN0cm9rZU9wYWNpdHksc3Ryb2tlRGFzaHN0eWxlOmQuc3Ryb2tlRGFzaHN0eWxlLHN0cm9rZUxpbmVjYXA6ZC5zdHJva2VMaW5lY2FwfSksCighMD09PWEuZmlsbHx8ITA9PT1hLmdyYXBoaWMpJiZPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLHtmaWxsQ29sb3I6ZC5maWxsQ29sb3IsZmlsbE9wYWNpdHk6ZC5maWxsT3BhY2l0eX0pLCEwPT09YS5ncmFwaGljJiZPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLHtwb2ludFJhZGl1czp0aGlzLmRlZmF1bHRTdHlsZS5wb2ludFJhZGl1cyxleHRlcm5hbEdyYXBoaWM6dGhpcy5kZWZhdWx0U3R5bGUuZXh0ZXJuYWxHcmFwaGljLGdyYXBoaWNOYW1lOnRoaXMuZGVmYXVsdFN0eWxlLmdyYXBoaWNOYW1lLGdyYXBoaWNPcGFjaXR5OnRoaXMuZGVmYXVsdFN0eWxlLmdyYXBoaWNPcGFjaXR5LGdyYXBoaWNXaWR0aDp0aGlzLmRlZmF1bHRTdHlsZS5ncmFwaGljV2lkdGgsZ3JhcGhpY0hlaWdodDp0aGlzLmRlZmF1bHRTdHlsZS5ncmFwaGljSGVpZ2h0LGdyYXBoaWNYT2Zmc2V0OnRoaXMuZGVmYXVsdFN0eWxlLmdyYXBoaWNYT2Zmc2V0LGdyYXBoaWNZT2Zmc2V0OnRoaXMuZGVmYXVsdFN0eWxlLmdyYXBoaWNZT2Zmc2V0fSkpOwpyZXR1cm4gdGhpcy5jcmVhdGVMaXRlcmFscyhPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGIsYSksYyl9LGNyZWF0ZUxpdGVyYWxzOmZ1bmN0aW9uKGEsYil7dmFyIGM9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSxiLmF0dHJpYnV0ZXN8fGIuZGF0YSk7T3BlbkxheWVycy5VdGlsLmV4dGVuZChjLHRoaXMuY29udGV4dCk7Zm9yKHZhciBkIGluIHRoaXMucHJvcGVydHlTdHlsZXMpYVtkXT1PcGVuTGF5ZXJzLlN0eWxlLmNyZWF0ZUxpdGVyYWwoYVtkXSxjLGIsZCk7cmV0dXJuIGF9LGZpbmRQcm9wZXJ0eVN0eWxlczpmdW5jdGlvbigpe3ZhciBhPXt9O3RoaXMuYWRkUHJvcGVydHlTdHlsZXMoYSx0aGlzLmRlZmF1bHRTdHlsZSk7Zm9yKHZhciBiPXRoaXMucnVsZXMsYyxkLGU9MCxmPWIubGVuZ3RoO2U8ZjtlKyspe2M9YltlXS5zeW1ib2xpemVyO2Zvcih2YXIgZyBpbiBjKWlmKGQ9Y1tnXSwib2JqZWN0Ij09dHlwZW9mIGQpdGhpcy5hZGRQcm9wZXJ0eVN0eWxlcyhhLGQpO2Vsc2V7dGhpcy5hZGRQcm9wZXJ0eVN0eWxlcyhhLApjKTticmVha319cmV0dXJuIGF9LGFkZFByb3BlcnR5U3R5bGVzOmZ1bmN0aW9uKGEsYil7dmFyIGMsZDtmb3IoZCBpbiBiKWM9YltkXSwic3RyaW5nIj09dHlwZW9mIGMmJmMubWF0Y2goL1wkXHtcdytcfS8pJiYoYVtkXT0hMCk7cmV0dXJuIGF9LGFkZFJ1bGVzOmZ1bmN0aW9uKGEpe0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHRoaXMucnVsZXMsYSk7dGhpcy5wcm9wZXJ0eVN0eWxlcz10aGlzLmZpbmRQcm9wZXJ0eVN0eWxlcygpfSxzZXREZWZhdWx0U3R5bGU6ZnVuY3Rpb24oYSl7dGhpcy5kZWZhdWx0U3R5bGU9YTt0aGlzLnByb3BlcnR5U3R5bGVzPXRoaXMuZmluZFByb3BlcnR5U3R5bGVzKCl9LGdldFN5bWJvbGl6ZXJQcmVmaXg6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU9wZW5MYXllcnMuU3R5bGUuU1lNQk9MSVpFUl9QUkVGSVhFUyxjPTAsZD1iLmxlbmd0aDtjPGQ7YysrKWlmKC0xIT1hLkNMQVNTX05BTUUuaW5kZXhPZihiW2NdKSlyZXR1cm4gYltjXX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgYT0KT3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSx0aGlzKTtpZih0aGlzLnJ1bGVzKXthLnJ1bGVzPVtdO2Zvcih2YXIgYj0wLGM9dGhpcy5ydWxlcy5sZW5ndGg7YjxjOysrYilhLnJ1bGVzLnB1c2godGhpcy5ydWxlc1tiXS5jbG9uZSgpKX1hLmNvbnRleHQ9dGhpcy5jb250ZXh0JiZPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LHRoaXMuY29udGV4dCk7Yj1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LHRoaXMuZGVmYXVsdFN0eWxlKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuU3R5bGUoYixhKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5TdHlsZSJ9KTtPcGVuTGF5ZXJzLlN0eWxlLmNyZWF0ZUxpdGVyYWw9ZnVuY3Rpb24oYSxiLGMsZCl7InN0cmluZyI9PXR5cGVvZiBhJiYtMSE9YS5pbmRleE9mKCIkeyIpJiYoYT1PcGVuTGF5ZXJzLlN0cmluZy5mb3JtYXQoYSxiLFtjLGRdKSxhPWlzTmFOKGEpfHwhYT9hOnBhcnNlRmxvYXQoYSkpO3JldHVybiBhfTsKT3BlbkxheWVycy5TdHlsZS5TWU1CT0xJWkVSX1BSRUZJWEVTPVsiUG9pbnQiLCJMaW5lIiwiUG9seWdvbiIsIlRleHQiLCJSYXN0ZXIiXTtPcGVuTGF5ZXJzLkZpbHRlcj1PcGVuTGF5ZXJzLkNsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcyxhKX0sZGVzdHJveTpmdW5jdGlvbigpe30sZXZhbHVhdGU6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gT3BlbkxheWVycy5Gb3JtYXQmJk9wZW5MYXllcnMuRm9ybWF0LkNRTD9PcGVuTGF5ZXJzLkZvcm1hdC5DUUwucHJvdG90eXBlLndyaXRlKHRoaXMpOk9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0aGlzKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5GaWx0ZXIifSk7T3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRmlsdGVyLHt0eXBlOm51bGwscHJvcGVydHk6bnVsbCx2YWx1ZTpudWxsLGRpc3RhbmNlOm51bGwsZGlzdGFuY2VVbml0czpudWxsLGV2YWx1YXRlOmZ1bmN0aW9uKGEpe3ZhciBiPSExO3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5CQk9YOmNhc2UgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5JTlRFUlNFQ1RTOmlmKGEuZ2VvbWV0cnkpe3ZhciBjPXRoaXMudmFsdWU7Ik9wZW5MYXllcnMuQm91bmRzIj09dGhpcy52YWx1ZS5DTEFTU19OQU1FJiYoYz10aGlzLnZhbHVlLnRvR2VvbWV0cnkoKSk7YS5nZW9tZXRyeS5pbnRlcnNlY3RzKGMpJiYoYj0hMCl9YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcigiZXZhbHVhdGUgaXMgbm90IGltcGxlbWVudGVkIGZvciB0aGlzIGZpbHRlciB0eXBlLiIpO31yZXR1cm4gYn0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgYT0KT3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3ZhbHVlOnRoaXMudmFsdWUmJnRoaXMudmFsdWUuY2xvbmUmJnRoaXMudmFsdWUuY2xvbmUoKX0sdGhpcyk7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsKGEpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsIn0pO09wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwuQkJPWD0iQkJPWCI7T3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5JTlRFUlNFQ1RTPSJJTlRFUlNFQ1RTIjtPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsLkRXSVRISU49IkRXSVRISU4iO09wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwuV0lUSElOPSJXSVRISU4iO09wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwuQ09OVEFJTlM9IkNPTlRBSU5TIjtPcGVuTGF5ZXJzLkZpbHRlci5GZWF0dXJlSWQ9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZpbHRlcix7ZmlkczpudWxsLHR5cGU6IkZJRCIsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXt0aGlzLmZpZHM9W107T3BlbkxheWVycy5GaWx0ZXIucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pfSxldmFsdWF0ZTpmdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjPXRoaXMuZmlkcy5sZW5ndGg7YjxjO2IrKylpZigoYS5maWR8fGEuaWQpPT10aGlzLmZpZHNbYl0pcmV0dXJuITA7cmV0dXJuITF9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IE9wZW5MYXllcnMuRmlsdGVyLkZlYXR1cmVJZDtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGEsdGhpcyk7YS5maWRzPXRoaXMuZmlkcy5zbGljZSgpO3JldHVybiBhfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZpbHRlci5GZWF0dXJlSWQifSk7T3BlbkxheWVycy5Gb3JtYXQuV0ZTVC52MT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7bmFtZXNwYWNlczp7eGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiLHdmczoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC93ZnMiLGdtbDoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwiLG9nYzoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vZ2MiLG93czoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vd3MifSxkZWZhdWx0UHJlZml4OiJ3ZnMiLHZlcnNpb246bnVsbCxzY2hlbWFMb2NhdGlvbnM6bnVsbCxzcnNOYW1lOm51bGwsZXh0cmFjdEF0dHJpYnV0ZXM6ITAseHk6ITAsc3RhdGVOYW1lOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXt0aGlzLnN0YXRlTmFtZT17fTt0aGlzLnN0YXRlTmFtZVtPcGVuTGF5ZXJzLlN0YXRlLklOU0VSVF09IndmczpJbnNlcnQiO3RoaXMuc3RhdGVOYW1lW09wZW5MYXllcnMuU3RhdGUuVVBEQVRFXT0KIndmczpVcGRhdGUiO3RoaXMuc3RhdGVOYW1lW09wZW5MYXllcnMuU3RhdGUuREVMRVRFXT0id2ZzOkRlbGV0ZSI7T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKX0sZ2V0U3JzTmFtZTpmdW5jdGlvbihhLGIpe3ZhciBjPWImJmIuc3JzTmFtZTtjfHwoYz1hJiZhLmxheWVyP2EubGF5ZXIucHJvamVjdGlvbi5nZXRDb2RlKCk6dGhpcy5zcnNOYW1lKTtyZXR1cm4gY30scmVhZDpmdW5jdGlvbihhLGIpe2I9Ynx8e307T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYix7b3V0cHV0OiJmZWF0dXJlcyJ9KTsic3RyaW5nIj09dHlwZW9mIGEmJihhPU9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUucmVhZC5hcHBseSh0aGlzLFthXSkpO2EmJjk9PWEubm9kZVR5cGUmJihhPWEuZG9jdW1lbnRFbGVtZW50KTt2YXIgYz17fTthJiZ0aGlzLnJlYWROb2RlKGEsYywhMCk7Yy5mZWF0dXJlcyYmImZlYXR1cmVzIj09PWIub3V0cHV0JiYKKGM9Yy5mZWF0dXJlcyk7cmV0dXJuIGN9LHJlYWRlcnM6e3dmczp7RmVhdHVyZUNvbGxlY3Rpb246ZnVuY3Rpb24oYSxiKXtiLmZlYXR1cmVzPVtdO3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX19fSx3cml0ZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMud3JpdGVOb2RlKCJ3ZnM6VHJhbnNhY3Rpb24iLHtmZWF0dXJlczphLG9wdGlvbnM6Yn0pLGQ9dGhpcy5zY2hlbWFMb2NhdGlvbkF0dHIoKTtkJiZ0aGlzLnNldEF0dHJpYnV0ZU5TKGMsdGhpcy5uYW1lc3BhY2VzLnhzaSwieHNpOnNjaGVtYUxvY2F0aW9uIixkKTtyZXR1cm4gT3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS53cml0ZS5hcHBseSh0aGlzLFtjXSl9LHdyaXRlcnM6e3dmczp7R2V0RmVhdHVyZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIndmczpHZXRGZWF0dXJlIix7YXR0cmlidXRlczp7c2VydmljZToiV0ZTIix2ZXJzaW9uOnRoaXMudmVyc2lvbixoYW5kbGU6YSYmYS5oYW5kbGUsCm91dHB1dEZvcm1hdDphJiZhLm91dHB1dEZvcm1hdCxtYXhGZWF0dXJlczphJiZhLm1heEZlYXR1cmVzLCJ4c2k6c2NoZW1hTG9jYXRpb24iOnRoaXMuc2NoZW1hTG9jYXRpb25BdHRyKGEpfX0pO2lmKCJzdHJpbmciPT10eXBlb2YgdGhpcy5mZWF0dXJlVHlwZSl0aGlzLndyaXRlTm9kZSgiUXVlcnkiLGEsYik7ZWxzZSBmb3IodmFyIGM9MCxkPXRoaXMuZmVhdHVyZVR5cGUubGVuZ3RoO2M8ZDtjKyspYS5mZWF0dXJlVHlwZT10aGlzLmZlYXR1cmVUeXBlW2NdLHRoaXMud3JpdGVOb2RlKCJRdWVyeSIsYSxiKTtyZXR1cm4gYn0sVHJhbnNhY3Rpb246ZnVuY3Rpb24oYSl7dmFyIGE9YXx8e30sYj1hLm9wdGlvbnN8fHt9LGM9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3ZnM6VHJhbnNhY3Rpb24iLHthdHRyaWJ1dGVzOntzZXJ2aWNlOiJXRlMiLHZlcnNpb246dGhpcy52ZXJzaW9uLGhhbmRsZTpiLmhhbmRsZX19KSxkLGU9YS5mZWF0dXJlcztpZihlKXshMD09PWIubXVsdGkmJk9wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcy5nZW9tZXRyeVR5cGVzLAp7Ik9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQiOiJNdWx0aVBvaW50IiwiT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nIjohMD09PXRoaXMubXVsdGlDdXJ2ZT8iTXVsdGlDdXJ2ZSI6Ik11bHRpTGluZVN0cmluZyIsIk9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbiI6ITA9PT10aGlzLm11bHRpU3VyZmFjZT8iTXVsdGlTdXJmYWNlIjoiTXVsdGlQb2x5Z29uIn0pO3ZhciBmLGcsYT0wO2ZvcihkPWUubGVuZ3RoO2E8ZDsrK2EpZz1lW2FdLChmPXRoaXMuc3RhdGVOYW1lW2cuc3RhdGVdKSYmdGhpcy53cml0ZU5vZGUoZix7ZmVhdHVyZTpnLG9wdGlvbnM6Yn0sYyk7ITA9PT1iLm11bHRpJiZ0aGlzLnNldEdlb21ldHJ5VHlwZXMoKX1pZihiLm5hdGl2ZUVsZW1lbnRzKXthPTA7Zm9yKGQ9Yi5uYXRpdmVFbGVtZW50cy5sZW5ndGg7YTxkOysrYSl0aGlzLndyaXRlTm9kZSgid2ZzOk5hdGl2ZSIsYi5uYXRpdmVFbGVtZW50c1thXSxjKX1yZXR1cm4gY30sTmF0aXZlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIndmczpOYXRpdmUiLAp7YXR0cmlidXRlczp7dmVuZG9ySWQ6YS52ZW5kb3JJZCxzYWZlVG9JZ25vcmU6YS5zYWZlVG9JZ25vcmV9LHZhbHVlOmEudmFsdWV9KX0sSW5zZXJ0OmZ1bmN0aW9uKGEpe3ZhciBiPWEuZmVhdHVyZSxhPWEub3B0aW9ucyxhPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid2ZzOkluc2VydCIse2F0dHJpYnV0ZXM6e2hhbmRsZTphJiZhLmhhbmRsZX19KTt0aGlzLnNyc05hbWU9dGhpcy5nZXRTcnNOYW1lKGIpO3RoaXMud3JpdGVOb2RlKCJmZWF0dXJlOl90eXBlTmFtZSIsYixhKTtyZXR1cm4gYX0sVXBkYXRlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZmVhdHVyZSxhPWEub3B0aW9ucyxhPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid2ZzOlVwZGF0ZSIse2F0dHJpYnV0ZXM6e2hhbmRsZTphJiZhLmhhbmRsZSx0eXBlTmFtZToodGhpcy5mZWF0dXJlTlM/dGhpcy5mZWF0dXJlUHJlZml4KyI6IjoiIikrdGhpcy5mZWF0dXJlVHlwZX19KTt0aGlzLmZlYXR1cmVOUyYmYS5zZXRBdHRyaWJ1dGUoInhtbG5zOiIrCnRoaXMuZmVhdHVyZVByZWZpeCx0aGlzLmZlYXR1cmVOUyk7dmFyIGM9Yi5tb2RpZmllZDtpZihudWxsIT09dGhpcy5nZW9tZXRyeU5hbWUmJighY3x8dm9pZCAwIT09Yy5nZW9tZXRyeSkpdGhpcy5zcnNOYW1lPXRoaXMuZ2V0U3JzTmFtZShiKSx0aGlzLndyaXRlTm9kZSgiUHJvcGVydHkiLHtuYW1lOnRoaXMuZ2VvbWV0cnlOYW1lLHZhbHVlOmIuZ2VvbWV0cnl9LGEpO2Zvcih2YXIgZCBpbiBiLmF0dHJpYnV0ZXMpdm9pZCAwIT09Yi5hdHRyaWJ1dGVzW2RdJiYoIWN8fCFjLmF0dHJpYnV0ZXN8fGMuYXR0cmlidXRlcyYmZCBpbiBjLmF0dHJpYnV0ZXMpJiZ0aGlzLndyaXRlTm9kZSgiUHJvcGVydHkiLHtuYW1lOmQsdmFsdWU6Yi5hdHRyaWJ1dGVzW2RdfSxhKTt0aGlzLndyaXRlTm9kZSgib2djOkZpbHRlciIsbmV3IE9wZW5MYXllcnMuRmlsdGVyLkZlYXR1cmVJZCh7ZmlkczpbYi5maWRdfSksYSk7cmV0dXJuIGF9LFByb3BlcnR5OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid2ZzOlByb3BlcnR5Iik7CnRoaXMud3JpdGVOb2RlKCJOYW1lIixhLm5hbWUsYik7bnVsbCE9PWEudmFsdWUmJnRoaXMud3JpdGVOb2RlKCJWYWx1ZSIsYS52YWx1ZSxiKTtyZXR1cm4gYn0sTmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3ZnM6TmFtZSIse3ZhbHVlOmF9KX0sVmFsdWU6ZnVuY3Rpb24oYSl7dmFyIGI7YSBpbnN0YW5jZW9mIE9wZW5MYXllcnMuR2VvbWV0cnk/KGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3ZnM6VmFsdWUiKSxhPXRoaXMud3JpdGVOb2RlKCJmZWF0dXJlOl9nZW9tZXRyeSIsYSkuZmlyc3RDaGlsZCxiLmFwcGVuZENoaWxkKGEpKTpiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid2ZzOlZhbHVlIix7dmFsdWU6YX0pO3JldHVybiBifSxEZWxldGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5mZWF0dXJlLGE9YS5vcHRpb25zLGE9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3ZnM6RGVsZXRlIix7YXR0cmlidXRlczp7aGFuZGxlOmEmJgphLmhhbmRsZSx0eXBlTmFtZToodGhpcy5mZWF0dXJlTlM/dGhpcy5mZWF0dXJlUHJlZml4KyI6IjoiIikrdGhpcy5mZWF0dXJlVHlwZX19KTt0aGlzLmZlYXR1cmVOUyYmYS5zZXRBdHRyaWJ1dGUoInhtbG5zOiIrdGhpcy5mZWF0dXJlUHJlZml4LHRoaXMuZmVhdHVyZU5TKTt0aGlzLndyaXRlTm9kZSgib2djOkZpbHRlciIsbmV3IE9wZW5MYXllcnMuRmlsdGVyLkZlYXR1cmVJZCh7ZmlkczpbYi5maWRdfSksYSk7cmV0dXJuIGF9fX0sc2NoZW1hTG9jYXRpb25BdHRyOmZ1bmN0aW9uKGEpe3ZhciBhPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe2ZlYXR1cmVQcmVmaXg6dGhpcy5mZWF0dXJlUHJlZml4LHNjaGVtYTp0aGlzLnNjaGVtYX0sYSksYj1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LHRoaXMuc2NoZW1hTG9jYXRpb25zKTthLnNjaGVtYSYmKGJbYS5mZWF0dXJlUHJlZml4XT1hLnNjaGVtYSk7dmFyIGE9W10sYyxkO2ZvcihkIGluIGIpKGM9dGhpcy5uYW1lc3BhY2VzW2RdKSYmCmEucHVzaChjKyIgIitiW2RdKTtyZXR1cm4gYS5qb2luKCIgIil8fHZvaWQgMH0sc2V0RmlsdGVyUHJvcGVydHk6ZnVuY3Rpb24oYSl7aWYoYS5maWx0ZXJzKWZvcih2YXIgYj0wLGM9YS5maWx0ZXJzLmxlbmd0aDtiPGM7KytiKU9wZW5MYXllcnMuRm9ybWF0LldGU1QudjEucHJvdG90eXBlLnNldEZpbHRlclByb3BlcnR5LmNhbGwodGhpcyxhLmZpbHRlcnNbYl0pO2Vsc2UgYSBpbnN0YW5jZW9mIE9wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwmJiFhLnByb3BlcnR5JiYoYS5wcm9wZXJ0eT10aGlzLmdlb21ldHJ5TmFtZSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LldGU1QudjEifSk7T3BlbkxheWVycy5Gb3JtYXQuT0dDRXhjZXB0aW9uUmVwb3J0PU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuWE1MLHtuYW1lc3BhY2VzOntvZ2M6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvb2djIn0scmVnRXhlczp7dHJpbVNwYWNlOi9eXHMqfFxzKiQvZyxyZW1vdmVTcGFjZTovXHMqL2csc3BsaXRTcGFjZTovXHMrLyx0cmltQ29tbWE6L1xzKixccyovZ30sZGVmYXVsdFByZWZpeDoib2djIixyZWFkOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7dmFyIGI9e2V4Y2VwdGlvblJlcG9ydDpudWxsfTthLmRvY3VtZW50RWxlbWVudCYmKHRoaXMucmVhZENoaWxkTm9kZXMoYSxiKSxudWxsPT09Yi5leGNlcHRpb25SZXBvcnQmJihiPShuZXcgT3BlbkxheWVycy5Gb3JtYXQuT1dTQ29tbW9uKS5yZWFkKGEpKSk7cmV0dXJuIGJ9LHJlYWRlcnM6e29nYzp7U2VydmljZUV4Y2VwdGlvblJlcG9ydDpmdW5jdGlvbihhLApiKXtiLmV4Y2VwdGlvblJlcG9ydD17ZXhjZXB0aW9uczpbXX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuZXhjZXB0aW9uUmVwb3J0KX0sU2VydmljZUV4Y2VwdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjPXtjb2RlOmEuZ2V0QXR0cmlidXRlKCJjb2RlIiksbG9jYXRvcjphLmdldEF0dHJpYnV0ZSgibG9jYXRvciIpLHRleHQ6dGhpcy5nZXRDaGlsZFZhbHVlKGEpfTtiLmV4Y2VwdGlvbnMucHVzaChjKX19fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5PR0NFeGNlcHRpb25SZXBvcnQifSk7T3BlbkxheWVycy5Gb3JtYXQuWE1MLlZlcnNpb25lZE9HQz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7ZGVmYXVsdFZlcnNpb246bnVsbCx2ZXJzaW9uOm51bGwscHJvZmlsZTpudWxsLGFsbG93RmFsbGJhY2s6ITEsbmFtZTpudWxsLHN0cmluZ2lmeU91dHB1dDohMSxwYXJzZXI6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSk7YT10aGlzLkNMQVNTX05BTUU7dGhpcy5uYW1lPWEuc3Vic3RyaW5nKGEubGFzdEluZGV4T2YoIi4iKSsxKX0sZ2V0VmVyc2lvbjpmdW5jdGlvbihhLGIpe3ZhciBjO2E/KGM9dGhpcy52ZXJzaW9uLGN8fChjPWEuZ2V0QXR0cmlidXRlKCJ2ZXJzaW9uIiksY3x8KGM9dGhpcy5kZWZhdWx0VmVyc2lvbikpKTpjPWImJmIudmVyc2lvbnx8dGhpcy52ZXJzaW9ufHx0aGlzLmRlZmF1bHRWZXJzaW9uO3JldHVybiBjfSxnZXRQYXJzZXI6ZnVuY3Rpb24oYSl7dmFyIGE9CmF8fHRoaXMuZGVmYXVsdFZlcnNpb24sYj10aGlzLnByb2ZpbGU/Il8iK3RoaXMucHJvZmlsZToiIjtpZighdGhpcy5wYXJzZXJ8fHRoaXMucGFyc2VyLlZFUlNJT04hPWEpe3ZhciBjPU9wZW5MYXllcnMuRm9ybWF0W3RoaXMubmFtZV1bInYiK2EucmVwbGFjZSgvXC4vZywiXyIpK2JdO2lmKCFjJiYoIiIhPT1iJiZ0aGlzLmFsbG93RmFsbGJhY2smJihiPSIiLGM9T3BlbkxheWVycy5Gb3JtYXRbdGhpcy5uYW1lXVsidiIrYS5yZXBsYWNlKC9cLi9nLCJfIildKSwhYykpdGhyb3ciQ2FuJ3QgZmluZCBhICIrdGhpcy5uYW1lKyIgcGFyc2VyIGZvciB2ZXJzaW9uICIrYStiO3RoaXMucGFyc2VyPW5ldyBjKHRoaXMub3B0aW9ucyl9cmV0dXJuIHRoaXMucGFyc2VyfSx3cml0ZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0VmVyc2lvbihudWxsLGIpO3RoaXMucGFyc2VyPXRoaXMuZ2V0UGFyc2VyKGMpO2M9dGhpcy5wYXJzZXIud3JpdGUoYSxiKTtyZXR1cm4hMT09PXRoaXMuc3RyaW5naWZ5T3V0cHV0PwpjOk9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUud3JpdGUuYXBwbHkodGhpcyxbY10pfSxyZWFkOmZ1bmN0aW9uKGEsYil7InN0cmluZyI9PXR5cGVvZiBhJiYoYT1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxbYV0pKTt2YXIgYz10aGlzLmdldFZlcnNpb24oYS5kb2N1bWVudEVsZW1lbnQpO3RoaXMucGFyc2VyPXRoaXMuZ2V0UGFyc2VyKGMpO3ZhciBkPXRoaXMucGFyc2VyLnJlYWQoYSxiKSxlPXRoaXMucGFyc2VyLmVycm9yUHJvcGVydHl8fG51bGw7bnVsbCE9PWUmJnZvaWQgMD09PWRbZV0mJihlPW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5PR0NFeGNlcHRpb25SZXBvcnQsZC5lcnJvcj1lLnJlYWQoYSkpO2QudmVyc2lvbj1jO3JldHVybiBkfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5YTUwuVmVyc2lvbmVkT0dDIn0pO09wZW5MYXllcnMuRmlsdGVyLkxvZ2ljYWw9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZpbHRlcix7ZmlsdGVyczpudWxsLHR5cGU6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe3RoaXMuZmlsdGVycz1bXTtPcGVuTGF5ZXJzLkZpbHRlci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmZpbHRlcnM9bnVsbDtPcGVuTGF5ZXJzLkZpbHRlci5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzKX0sZXZhbHVhdGU6ZnVuY3Rpb24oYSl7dmFyIGIsYztzd2l0Y2godGhpcy50eXBlKXtjYXNlIE9wZW5MYXllcnMuRmlsdGVyLkxvZ2ljYWwuQU5EOmI9MDtmb3IoYz10aGlzLmZpbHRlcnMubGVuZ3RoO2I8YztiKyspaWYoITE9PXRoaXMuZmlsdGVyc1tiXS5ldmFsdWF0ZShhKSlyZXR1cm4hMTtyZXR1cm4hMDtjYXNlIE9wZW5MYXllcnMuRmlsdGVyLkxvZ2ljYWwuT1I6Yj0wO2ZvcihjPXRoaXMuZmlsdGVycy5sZW5ndGg7YjwKYztiKyspaWYoITA9PXRoaXMuZmlsdGVyc1tiXS5ldmFsdWF0ZShhKSlyZXR1cm4hMDtyZXR1cm4hMTtjYXNlIE9wZW5MYXllcnMuRmlsdGVyLkxvZ2ljYWwuTk9UOnJldHVybiF0aGlzLmZpbHRlcnNbMF0uZXZhbHVhdGUoYSl9fSxjbG9uZTpmdW5jdGlvbigpe2Zvcih2YXIgYT1bXSxiPTAsYz10aGlzLmZpbHRlcnMubGVuZ3RoO2I8YzsrK2IpYS5wdXNoKHRoaXMuZmlsdGVyc1tiXS5jbG9uZSgpKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuRmlsdGVyLkxvZ2ljYWwoe3R5cGU6dGhpcy50eXBlLGZpbHRlcnM6YX0pfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZpbHRlci5Mb2dpY2FsIn0pO09wZW5MYXllcnMuRmlsdGVyLkxvZ2ljYWwuQU5EPSImJiI7T3BlbkxheWVycy5GaWx0ZXIuTG9naWNhbC5PUj0ifHwiO09wZW5MYXllcnMuRmlsdGVyLkxvZ2ljYWwuTk9UPSIhIjtPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5GaWx0ZXIse3R5cGU6bnVsbCxwcm9wZXJ0eTpudWxsLHZhbHVlOm51bGwsbWF0Y2hDYXNlOiEwLGxvd2VyQm91bmRhcnk6bnVsbCx1cHBlckJvdW5kYXJ5Om51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkZpbHRlci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSk7dGhpcy50eXBlPT09T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5MSUtFJiZ2b2lkIDA9PT1hLm1hdGNoQ2FzZSYmKHRoaXMubWF0Y2hDYXNlPW51bGwpfSxldmFsdWF0ZTpmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvciYmKGE9YS5hdHRyaWJ1dGVzKTt2YXIgYj0hMSxhPWFbdGhpcy5wcm9wZXJ0eV07c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSBPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLkVRVUFMX1RPOmI9dGhpcy52YWx1ZTsKYj0hdGhpcy5tYXRjaENhc2UmJiJzdHJpbmciPT10eXBlb2YgYSYmInN0cmluZyI9PXR5cGVvZiBiP2EudG9VcHBlckNhc2UoKT09Yi50b1VwcGVyQ2FzZSgpOmE9PWI7YnJlYWs7Y2FzZSBPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLk5PVF9FUVVBTF9UTzpiPXRoaXMudmFsdWU7Yj0hdGhpcy5tYXRjaENhc2UmJiJzdHJpbmciPT10eXBlb2YgYSYmInN0cmluZyI9PXR5cGVvZiBiP2EudG9VcHBlckNhc2UoKSE9Yi50b1VwcGVyQ2FzZSgpOmEhPWI7YnJlYWs7Y2FzZSBPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLkxFU1NfVEhBTjpiPWE8dGhpcy52YWx1ZTticmVhaztjYXNlIE9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uR1JFQVRFUl9USEFOOmI9YT50aGlzLnZhbHVlO2JyZWFrO2Nhc2UgT3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5MRVNTX1RIQU5fT1JfRVFVQUxfVE86Yj1hPD10aGlzLnZhbHVlO2JyZWFrO2Nhc2UgT3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5HUkVBVEVSX1RIQU5fT1JfRVFVQUxfVE86Yj0KYT49dGhpcy52YWx1ZTticmVhaztjYXNlIE9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uQkVUV0VFTjpiPWE+PXRoaXMubG93ZXJCb3VuZGFyeSYmYTw9dGhpcy51cHBlckJvdW5kYXJ5O2JyZWFrO2Nhc2UgT3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5MSUtFOmI9UmVnRXhwKHRoaXMudmFsdWUsImdpIikudGVzdChhKTticmVhaztjYXNlIE9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uSVNfTlVMTDpiPW51bGw9PT1hfXJldHVybiBifSx2YWx1ZTJyZWdleDpmdW5jdGlvbihhLGIsYyl7aWYoIi4iPT1hKXRocm93IEVycm9yKCInLicgaXMgYW4gdW5zdXBwb3J0ZWQgd2lsZENhcmQgY2hhcmFjdGVyIGZvciBPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uIik7YT1hP2E6IioiO2I9Yj9iOiIuIjt0aGlzLnZhbHVlPXRoaXMudmFsdWUucmVwbGFjZShSZWdFeHAoIlxcIisoYz9jOiIhIikrIigufCQpIiwiZyIpLCJcXCQxIik7dGhpcy52YWx1ZT10aGlzLnZhbHVlLnJlcGxhY2UoUmVnRXhwKCJcXCIrCmIsImciKSwiLiIpO3RoaXMudmFsdWU9dGhpcy52YWx1ZS5yZXBsYWNlKFJlZ0V4cCgiXFwiK2EsImciKSwiLioiKTt0aGlzLnZhbHVlPXRoaXMudmFsdWUucmVwbGFjZShSZWdFeHAoIlxcXFwuXFwqIiwiZyIpLCJcXCIrYSk7cmV0dXJuIHRoaXMudmFsdWU9dGhpcy52YWx1ZS5yZXBsYWNlKFJlZ0V4cCgiXFxcXFxcLiIsImciKSwiXFwiK2IpfSxyZWdleDJ2YWx1ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMudmFsdWUsYT1hLnJlcGxhY2UoLyEvZywiISEiKSxhPWEucmVwbGFjZSgvKFxcKT9cXFwuL2csZnVuY3Rpb24oYSxjKXtyZXR1cm4gYz9hOiIhLiJ9KSxhPWEucmVwbGFjZSgvKFxcKT9cXFwqL2csZnVuY3Rpb24oYSxjKXtyZXR1cm4gYz9hOiIhKiJ9KSxhPWEucmVwbGFjZSgvXFxcXC9nLCJcXCIpO3JldHVybiBhPWEucmVwbGFjZSgvXC5cKi9nLCIqIil9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIE9wZW5MYXllcnMuVXRpbC5leHRlbmQobmV3IE9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24sCnRoaXMpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uIn0pO09wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uRVFVQUxfVE89Ij09IjtPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLk5PVF9FUVVBTF9UTz0iIT0iO09wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uTEVTU19USEFOPSI8IjtPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLkdSRUFURVJfVEhBTj0iPiI7T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5MRVNTX1RIQU5fT1JfRVFVQUxfVE89Ijw9IjtPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLkdSRUFURVJfVEhBTl9PUl9FUVVBTF9UTz0iPj0iO09wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uQkVUV0VFTj0iLi4iO09wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uTElLRT0ifiI7T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5JU19OVUxMPSJOVUxMIjtPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwuVmVyc2lvbmVkT0dDLHtkZWZhdWx0VmVyc2lvbjoiMS4wLjAiLENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LkZpbHRlciJ9KTtPcGVuTGF5ZXJzLkZpbHRlci5GdW5jdGlvbj1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRmlsdGVyLHtuYW1lOm51bGwscGFyYW1zOm51bGwsQ0xBU1NfTkFNRToiT3BlbkxheWVycy5GaWx0ZXIuRnVuY3Rpb24ifSk7T3BlbkxheWVycy5EYXRlPXtkYXRlUmVnRXg6L14oPzooXGR7NH0pKD86LShcZHsyfSkoPzotKFxkezJ9KSk/KT8pPyg/Oig/OlQoXGR7MSwyfSk6KFxkezJ9KTooXGR7Mn0oPzpcLlxkKyk/KShafCg/OlsrLV1cZHsxLDJ9KD86OihcZHsyfSkpPykpKXxaKT8kLyx0b0lTT1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJ0b0lTT1N0cmluZyJpbiBEYXRlLnByb3RvdHlwZT9mdW5jdGlvbihhKXtyZXR1cm4gYS50b0lTT1N0cmluZygpfTpmdW5jdGlvbihhKXtyZXR1cm4gaXNOYU4oYS5nZXRUaW1lKCkpPyJJbnZhbGlkIERhdGUiOmEuZ2V0VVRDRnVsbFllYXIoKSsiLSIrT3BlbkxheWVycy5OdW1iZXIuemVyb1BhZChhLmdldFVUQ01vbnRoKCkrMSwyKSsiLSIrT3BlbkxheWVycy5OdW1iZXIuemVyb1BhZChhLmdldFVUQ0RhdGUoKSwyKSsiVCIrT3BlbkxheWVycy5OdW1iZXIuemVyb1BhZChhLmdldFVUQ0hvdXJzKCksMikrIjoiK09wZW5MYXllcnMuTnVtYmVyLnplcm9QYWQoYS5nZXRVVENNaW51dGVzKCksCjIpKyI6IitPcGVuTGF5ZXJzLk51bWJlci56ZXJvUGFkKGEuZ2V0VVRDU2Vjb25kcygpLDIpKyIuIitPcGVuTGF5ZXJzLk51bWJlci56ZXJvUGFkKGEuZ2V0VVRDTWlsbGlzZWNvbmRzKCksMykrIloifX0oKSxwYXJzZTpmdW5jdGlvbihhKXt2YXIgYjtpZigoYT1hLm1hdGNoKHRoaXMuZGF0ZVJlZ0V4KSkmJihhWzFdfHxhWzddKSl7Yj1wYXJzZUludChhWzFdLDEwKXx8MDt2YXIgYz1wYXJzZUludChhWzJdLDEwKS0xfHwwLGQ9cGFyc2VJbnQoYVszXSwxMCl8fDE7Yj1uZXcgRGF0ZShEYXRlLlVUQyhiLGMsZCkpO2lmKGM9YVs3XSl7dmFyIGQ9cGFyc2VJbnQoYVs0XSwxMCksZT1wYXJzZUludChhWzVdLDEwKSxmPXBhcnNlRmxvYXQoYVs2XSksZz1mfDAsZj1NYXRoLnJvdW5kKDFFMyooZi1nKSk7Yi5zZXRVVENIb3VycyhkLGUsZyxmKTsiWiIhPT1jJiYoYz1wYXJzZUludChjLDEwKSxhPXBhcnNlSW50KGFbOF0sMTApfHwwLGI9bmV3IERhdGUoYi5nZXRUaW1lKCkrLTFFMyooNjAqNjAqCmMrNjAqYSkpKX19ZWxzZSBiPW5ldyBEYXRlKCJpbnZhbGlkIik7cmV0dXJuIGJ9fTtPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIudjE9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwse25hbWVzcGFjZXM6e29nYzoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vZ2MiLGdtbDoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwiLHhsaW5rOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIix4c2k6Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIn0sZGVmYXVsdFByZWZpeDoib2djIixzY2hlbWFMb2NhdGlvbjpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKX0scmVhZDpmdW5jdGlvbihhKXt2YXIgYj17fTt0aGlzLnJlYWRlcnMub2djLkZpbHRlci5hcHBseSh0aGlzLFthLGJdKTtyZXR1cm4gYi5maWx0ZXJ9LHJlYWRlcnM6e29nYzp7X2V4cHJlc3Npb246ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPSIiLGM9YS5maXJzdENoaWxkO2M7Yz0KYy5uZXh0U2libGluZylzd2l0Y2goYy5ub2RlVHlwZSl7Y2FzZSAxOmE9dGhpcy5yZWFkTm9kZShjKTthLnByb3BlcnR5P2IrPSIkeyIrYS5wcm9wZXJ0eSsifSI6dm9pZCAwIT09YS52YWx1ZSYmKGIrPWEudmFsdWUpO2JyZWFrO2Nhc2UgMzpjYXNlIDQ6Yis9Yy5ub2RlVmFsdWV9cmV0dXJuIGJ9LEZpbHRlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXtmaWRzOltdLGZpbHRlcnM6W119O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTswPGMuZmlkcy5sZW5ndGg/Yi5maWx0ZXI9bmV3IE9wZW5MYXllcnMuRmlsdGVyLkZlYXR1cmVJZCh7ZmlkczpjLmZpZHN9KTowPGMuZmlsdGVycy5sZW5ndGgmJihiLmZpbHRlcj1jLmZpbHRlcnNbMF0pfSxGZWF0dXJlSWQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldEF0dHJpYnV0ZSgiZmlkIik7YyYmYi5maWRzLnB1c2goYyl9LEFuZDpmdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBPcGVuTGF5ZXJzLkZpbHRlci5Mb2dpY2FsKHt0eXBlOk9wZW5MYXllcnMuRmlsdGVyLkxvZ2ljYWwuQU5EfSk7CnRoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLmZpbHRlcnMucHVzaChjKX0sT3I6ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgT3BlbkxheWVycy5GaWx0ZXIuTG9naWNhbCh7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5Mb2dpY2FsLk9SfSk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IuZmlsdGVycy5wdXNoKGMpfSxOb3Q6ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgT3BlbkxheWVycy5GaWx0ZXIuTG9naWNhbCh7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5Mb2dpY2FsLk5PVH0pO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLmZpbHRlcnMucHVzaChjKX0sUHJvcGVydHlJc0xlc3NUaGFuOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IE9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24oe3R5cGU6T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5MRVNTX1RIQU59KTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5maWx0ZXJzLnB1c2goYyl9LFByb3BlcnR5SXNHcmVhdGVyVGhhbjpmdW5jdGlvbihhLApiKXt2YXIgYz1uZXcgT3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbih7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLkdSRUFURVJfVEhBTn0pO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLmZpbHRlcnMucHVzaChjKX0sUHJvcGVydHlJc0xlc3NUaGFuT3JFcXVhbFRvOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IE9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24oe3R5cGU6T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5MRVNTX1RIQU5fT1JfRVFVQUxfVE99KTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5maWx0ZXJzLnB1c2goYyl9LFByb3BlcnR5SXNHcmVhdGVyVGhhbk9yRXF1YWxUbzpmdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uKHt0eXBlOk9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uR1JFQVRFUl9USEFOX09SX0VRVUFMX1RPfSk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IuZmlsdGVycy5wdXNoKGMpfSwKUHJvcGVydHlJc0JldHdlZW46ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgT3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbih7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLkJFVFdFRU59KTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5maWx0ZXJzLnB1c2goYyl9LExpdGVyYWw6ZnVuY3Rpb24oYSxiKXtiLnZhbHVlPU9wZW5MYXllcnMuU3RyaW5nLm51bWVyaWNJZih0aGlzLmdldENoaWxkVmFsdWUoYSksITApfSxQcm9wZXJ0eU5hbWU6ZnVuY3Rpb24oYSxiKXtiLnByb3BlcnR5PXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sTG93ZXJCb3VuZGFyeTpmdW5jdGlvbihhLGIpe2IubG93ZXJCb3VuZGFyeT1PcGVuTGF5ZXJzLlN0cmluZy5udW1lcmljSWYodGhpcy5yZWFkZXJzLm9nYy5fZXhwcmVzc2lvbi5jYWxsKHRoaXMsYSksITApfSxVcHBlckJvdW5kYXJ5OmZ1bmN0aW9uKGEsYil7Yi51cHBlckJvdW5kYXJ5PU9wZW5MYXllcnMuU3RyaW5nLm51bWVyaWNJZih0aGlzLnJlYWRlcnMub2djLl9leHByZXNzaW9uLmNhbGwodGhpcywKYSksITApfSxJbnRlcnNlY3RzOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkU3BhdGlhbChhLGIsT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5JTlRFUlNFQ1RTKX0sV2l0aGluOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkU3BhdGlhbChhLGIsT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5XSVRISU4pfSxDb250YWluczpmdW5jdGlvbihhLGIpe3RoaXMucmVhZFNwYXRpYWwoYSxiLE9wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwuQ09OVEFJTlMpfSxEV2l0aGluOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkU3BhdGlhbChhLGIsT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5EV0lUSElOKX0sRGlzdGFuY2U6ZnVuY3Rpb24oYSxiKXtiLmRpc3RhbmNlPXBhcnNlSW50KHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSk7Yi5kaXN0YW5jZVVuaXRzPWEuZ2V0QXR0cmlidXRlKCJ1bml0cyIpfSxGdW5jdGlvbjpmdW5jdGlvbigpe30sUHJvcGVydHlJc051bGw6ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgT3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbih7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLklTX05VTEx9KTsKdGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IuZmlsdGVycy5wdXNoKGMpfX19LHJlYWRTcGF0aWFsOmZ1bmN0aW9uKGEsYixjKXtjPW5ldyBPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsKHt0eXBlOmN9KTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yy52YWx1ZT1jLmNvbXBvbmVudHNbMF07ZGVsZXRlIGMuY29tcG9uZW50cztiLmZpbHRlcnMucHVzaChjKX0sZW5jb2RlTGl0ZXJhbDpmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgRGF0ZSYmKGE9T3BlbkxheWVycy5EYXRlLnRvSVNPU3RyaW5nKGEpKTtyZXR1cm4gYX0sd3JpdGVPZ2NFeHByZXNzaW9uOmZ1bmN0aW9uKGEsYil7YSBpbnN0YW5jZW9mIE9wZW5MYXllcnMuRmlsdGVyLkZ1bmN0aW9uP3RoaXMud3JpdGVOb2RlKCJGdW5jdGlvbiIsYSxiKTp0aGlzLndyaXRlTm9kZSgiTGl0ZXJhbCIsYSxiKTtyZXR1cm4gYn0sd3JpdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMud3JpdGVycy5vZ2MuRmlsdGVyLmFwcGx5KHRoaXMsW2FdKX0sCndyaXRlcnM6e29nYzp7RmlsdGVyOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOkZpbHRlciIpO3RoaXMud3JpdGVOb2RlKHRoaXMuZ2V0RmlsdGVyVHlwZShhKSxhLGIpO3JldHVybiBifSxfZmVhdHVyZUlkczpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksYz0wLGQ9YS5maWRzLmxlbmd0aDtjPGQ7KytjKXRoaXMud3JpdGVOb2RlKCJvZ2M6RmVhdHVyZUlkIixhLmZpZHNbY10sYik7cmV0dXJuIGJ9LEZlYXR1cmVJZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6RmVhdHVyZUlkIix7YXR0cmlidXRlczp7ZmlkOmF9fSl9LEFuZDpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6QW5kIiksYyxkPTAsZT1hLmZpbHRlcnMubGVuZ3RoO2Q8ZTsrK2QpYz1hLmZpbHRlcnNbZF0sdGhpcy53cml0ZU5vZGUodGhpcy5nZXRGaWx0ZXJUeXBlKGMpLApjLGIpO3JldHVybiBifSxPcjpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6T3IiKSxjLGQ9MCxlPWEuZmlsdGVycy5sZW5ndGg7ZDxlOysrZCljPWEuZmlsdGVyc1tkXSx0aGlzLndyaXRlTm9kZSh0aGlzLmdldEZpbHRlclR5cGUoYyksYyxiKTtyZXR1cm4gYn0sTm90OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOk5vdCIpLGE9YS5maWx0ZXJzWzBdO3RoaXMud3JpdGVOb2RlKHRoaXMuZ2V0RmlsdGVyVHlwZShhKSxhLGIpO3JldHVybiBifSxQcm9wZXJ0eUlzTGVzc1RoYW46ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6UHJvcGVydHlJc0xlc3NUaGFuIik7dGhpcy53cml0ZU5vZGUoIlByb3BlcnR5TmFtZSIsYSxiKTt0aGlzLndyaXRlT2djRXhwcmVzc2lvbihhLnZhbHVlLGIpO3JldHVybiBifSxQcm9wZXJ0eUlzR3JlYXRlclRoYW46ZnVuY3Rpb24oYSl7dmFyIGI9CnRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOlByb3BlcnR5SXNHcmVhdGVyVGhhbiIpO3RoaXMud3JpdGVOb2RlKCJQcm9wZXJ0eU5hbWUiLGEsYik7dGhpcy53cml0ZU9nY0V4cHJlc3Npb24oYS52YWx1ZSxiKTtyZXR1cm4gYn0sUHJvcGVydHlJc0xlc3NUaGFuT3JFcXVhbFRvOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOlByb3BlcnR5SXNMZXNzVGhhbk9yRXF1YWxUbyIpO3RoaXMud3JpdGVOb2RlKCJQcm9wZXJ0eU5hbWUiLGEsYik7dGhpcy53cml0ZU9nY0V4cHJlc3Npb24oYS52YWx1ZSxiKTtyZXR1cm4gYn0sUHJvcGVydHlJc0dyZWF0ZXJUaGFuT3JFcXVhbFRvOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOlByb3BlcnR5SXNHcmVhdGVyVGhhbk9yRXF1YWxUbyIpO3RoaXMud3JpdGVOb2RlKCJQcm9wZXJ0eU5hbWUiLGEsYik7dGhpcy53cml0ZU9nY0V4cHJlc3Npb24oYS52YWx1ZSxiKTsKcmV0dXJuIGJ9LFByb3BlcnR5SXNCZXR3ZWVuOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOlByb3BlcnR5SXNCZXR3ZWVuIik7dGhpcy53cml0ZU5vZGUoIlByb3BlcnR5TmFtZSIsYSxiKTt0aGlzLndyaXRlTm9kZSgiTG93ZXJCb3VuZGFyeSIsYSxiKTt0aGlzLndyaXRlTm9kZSgiVXBwZXJCb3VuZGFyeSIsYSxiKTtyZXR1cm4gYn0sUHJvcGVydHlOYW1lOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIm9nYzpQcm9wZXJ0eU5hbWUiLHt2YWx1ZTphLnByb3BlcnR5fSl9LExpdGVyYWw6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOkxpdGVyYWwiLHt2YWx1ZToodGhpcy5lbmNvZGVMaXRlcmFsfHxPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIudjEucHJvdG90eXBlLmVuY29kZUxpdGVyYWwpKGEpfSl9LExvd2VyQm91bmRhcnk6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6TG93ZXJCb3VuZGFyeSIpOwp0aGlzLndyaXRlT2djRXhwcmVzc2lvbihhLmxvd2VyQm91bmRhcnksYik7cmV0dXJuIGJ9LFVwcGVyQm91bmRhcnk6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6VXBwZXJCb3VuZGFyeSIpO3RoaXMud3JpdGVOb2RlKCJMaXRlcmFsIixhLnVwcGVyQm91bmRhcnksYik7cmV0dXJuIGJ9LElOVEVSU0VDVFM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMud3JpdGVTcGF0aWFsKGEsIkludGVyc2VjdHMiKX0sV0lUSElOOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLndyaXRlU3BhdGlhbChhLCJXaXRoaW4iKX0sQ09OVEFJTlM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMud3JpdGVTcGF0aWFsKGEsIkNvbnRhaW5zIil9LERXSVRISU46ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy53cml0ZVNwYXRpYWwoYSwiRFdpdGhpbiIpO3RoaXMud3JpdGVOb2RlKCJEaXN0YW5jZSIsYSxiKTtyZXR1cm4gYn0sRGlzdGFuY2U6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOkRpc3RhbmNlIiwKe2F0dHJpYnV0ZXM6e3VuaXRzOmEuZGlzdGFuY2VVbml0c30sdmFsdWU6YS5kaXN0YW5jZX0pfSxGdW5jdGlvbjpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6RnVuY3Rpb24iLHthdHRyaWJ1dGVzOntuYW1lOmEubmFtZX19KSxhPWEucGFyYW1zLGM9MCxkPWEubGVuZ3RoO2M8ZDtjKyspdGhpcy53cml0ZU9nY0V4cHJlc3Npb24oYVtjXSxiKTtyZXR1cm4gYn0sUHJvcGVydHlJc051bGw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6UHJvcGVydHlJc051bGwiKTt0aGlzLndyaXRlTm9kZSgiUHJvcGVydHlOYW1lIixhLGIpO3JldHVybiBifX19LGdldEZpbHRlclR5cGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5maWx0ZXJNYXBbYS50eXBlXTtpZighYil0aHJvdyJGaWx0ZXIgd3JpdGluZyBub3Qgc3VwcG9ydGVkIGZvciBydWxlIHR5cGU6ICIrYS50eXBlO3JldHVybiBifSxmaWx0ZXJNYXA6eyImJiI6IkFuZCIsCiJ8fCI6Ik9yIiwiISI6Ik5vdCIsIj09IjoiUHJvcGVydHlJc0VxdWFsVG8iLCIhPSI6IlByb3BlcnR5SXNOb3RFcXVhbFRvIiwiPCI6IlByb3BlcnR5SXNMZXNzVGhhbiIsIj4iOiJQcm9wZXJ0eUlzR3JlYXRlclRoYW4iLCI8PSI6IlByb3BlcnR5SXNMZXNzVGhhbk9yRXF1YWxUbyIsIj49IjoiUHJvcGVydHlJc0dyZWF0ZXJUaGFuT3JFcXVhbFRvIiwiLi4iOiJQcm9wZXJ0eUlzQmV0d2VlbiIsIn4iOiJQcm9wZXJ0eUlzTGlrZSIsTlVMTDoiUHJvcGVydHlJc051bGwiLEJCT1g6IkJCT1giLERXSVRISU46IkRXSVRISU4iLFdJVEhJTjoiV0lUSElOIixDT05UQUlOUzoiQ09OVEFJTlMiLElOVEVSU0VDVFM6IklOVEVSU0VDVFMiLEZJRDoiX2ZlYXR1cmVJZHMifSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIudjEifSk7T3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aUxpbmVTdHJpbmc9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkdlb21ldHJ5LkNvbGxlY3Rpb24se2NvbXBvbmVudFR5cGVzOlsiT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nIl0sc3BsaXQ6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9bnVsbCxkPWImJmIubXV0dWFsLGUsZixnLGgsaT1bXSxqPVthXSxrPTAsbD10aGlzLmNvbXBvbmVudHMubGVuZ3RoO2s8bDsrK2spe2Y9dGhpcy5jb21wb25lbnRzW2tdO2c9ITE7Zm9yKHZhciBtPTA7bTxqLmxlbmd0aDsrK20paWYoZT1mLnNwbGl0KGpbbV0sYikpe2lmKGQpe2c9ZVswXTtmb3IodmFyIG49MCxwPWcubGVuZ3RoO248cDsrK24pMD09PW4mJmkubGVuZ3RoP2lbaS5sZW5ndGgtMV0uYWRkQ29tcG9uZW50KGdbbl0pOmkucHVzaChuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aUxpbmVTdHJpbmcoW2dbbl1dKSk7Zz0hMDtlPWVbMV19aWYoZS5sZW5ndGgpe2UudW5zaGlmdChtLAoxKTtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KGosZSk7YnJlYWt9fWd8fChpLmxlbmd0aD9pW2kubGVuZ3RoLTFdLmFkZENvbXBvbmVudChmLmNsb25lKCkpOmk9W25ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpTGluZVN0cmluZyhmLmNsb25lKCkpXSl9aSYmMTxpLmxlbmd0aD9nPSEwOmk9W107aiYmMTxqLmxlbmd0aD9oPSEwOmo9W107aWYoZ3x8aCljPWQ/W2ksal06ajtyZXR1cm4gY30sc3BsaXRXaXRoOmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbCxkPWImJmIubXV0dWFsLGUsZixnLGgsaSxqO2lmKGEgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmcpe2o9W107aT1bYV07Zm9yKHZhciBrPTAsbD10aGlzLmNvbXBvbmVudHMubGVuZ3RoO2s8bDsrK2spe2c9ITE7Zj10aGlzLmNvbXBvbmVudHNba107Zm9yKHZhciBtPTA7bTxpLmxlbmd0aDsrK20paWYoZT1pW21dLnNwbGl0KGYsYikpe2QmJihnPWVbMF0sZy5sZW5ndGgmJihnLnVuc2hpZnQobSwKMSksQXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShpLGcpLG0rPWcubGVuZ3RoLTIpLGU9ZVsxXSwwPT09ZS5sZW5ndGgmJihlPVtmLmNsb25lKCldKSk7Zz0wO2Zvcih2YXIgbj1lLmxlbmd0aDtnPG47KytnKTA9PT1nJiZqLmxlbmd0aD9qW2oubGVuZ3RoLTFdLmFkZENvbXBvbmVudChlW2ddKTpqLnB1c2gobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlMaW5lU3RyaW5nKFtlW2ddXSkpO2c9ITB9Z3x8KGoubGVuZ3RoP2pbai5sZW5ndGgtMV0uYWRkQ29tcG9uZW50KGYuY2xvbmUoKSk6aj1bbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlMaW5lU3RyaW5nKFtmLmNsb25lKCldKV0pfX1lbHNlIGM9YS5zcGxpdCh0aGlzKTtpJiYxPGkubGVuZ3RoP2g9ITA6aT1bXTtqJiYxPGoubGVuZ3RoP2c9ITA6aj1bXTtpZihofHxnKWM9ZD9baSxqXTpqO3JldHVybiBjfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpTGluZVN0cmluZyJ9KTtPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpUG9seWdvbj1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuR2VvbWV0cnkuQ29sbGVjdGlvbix7Y29tcG9uZW50VHlwZXM6WyJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24iXSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpUG9seWdvbiJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5HTUw9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwse2ZlYXR1cmVOUzoiaHR0cDovL21hcHNlcnZlci5naXMudW1uLmVkdS9tYXBzZXJ2ZXIiLGZlYXR1cmVQcmVmaXg6ImZlYXR1cmUiLGZlYXR1cmVOYW1lOiJmZWF0dXJlTWVtYmVyIixsYXllck5hbWU6ImZlYXR1cmVzIixnZW9tZXRyeU5hbWU6Imdlb21ldHJ5Iixjb2xsZWN0aW9uTmFtZToiRmVhdHVyZUNvbGxlY3Rpb24iLGdtbG5zOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbCIsZXh0cmFjdEF0dHJpYnV0ZXM6ITAseHk6ITAsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXt0aGlzLnJlZ0V4ZXM9e3RyaW1TcGFjZTovXlxzKnxccyokL2cscmVtb3ZlU3BhY2U6L1xzKi9nLHNwbGl0U3BhY2U6L1xzKy8sdHJpbUNvbW1hOi9ccyosXHMqL2d9O09wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSl9LHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PQp0eXBlb2YgYSYmKGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7Zm9yKHZhciBhPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLmRvY3VtZW50RWxlbWVudCx0aGlzLmdtbG5zLHRoaXMuZmVhdHVyZU5hbWUpLGI9W10sYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD10aGlzLnBhcnNlRmVhdHVyZShhW2NdKTtkJiZiLnB1c2goZCl9cmV0dXJuIGJ9LHBhcnNlRmVhdHVyZTpmdW5jdGlvbihhKXtmb3IodmFyIGI9Ik11bHRpUG9seWdvbiBQb2x5Z29uIE11bHRpTGluZVN0cmluZyBMaW5lU3RyaW5nIE11bHRpUG9pbnQgUG9pbnQgRW52ZWxvcGUiLnNwbGl0KCIgIiksYyxkLGUsZj0wO2Y8Yi5sZW5ndGg7KytmKWlmKGM9YltmXSxkPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLHRoaXMuZ21sbnMsYyksMDxkLmxlbmd0aCl7aWYoZT10aGlzLnBhcnNlR2VvbWV0cnlbYy50b0xvd2VyQ2FzZSgpXSllPWUuYXBwbHkodGhpcywKW2RbMF1dKSx0aGlzLmludGVybmFsUHJvamVjdGlvbiYmdGhpcy5leHRlcm5hbFByb2plY3Rpb24mJmUudHJhbnNmb3JtKHRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uLHRoaXMuaW50ZXJuYWxQcm9qZWN0aW9uKTtlbHNlIHRocm93IG5ldyBUeXBlRXJyb3IoIlVuc3VwcG9ydGVkIGdlb21ldHJ5IHR5cGU6ICIrYyk7YnJlYWt9dmFyIGc7Yz10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSx0aGlzLmdtbG5zLCJCb3giKTtmb3IoZj0wO2Y8Yy5sZW5ndGg7KytmKWI9Y1tmXSxkPXRoaXMucGFyc2VHZW9tZXRyeS5ib3guYXBwbHkodGhpcyxbYl0pLGI9Yi5wYXJlbnROb2RlLCJib3VuZGVkQnkiPT09KGIubG9jYWxOYW1lfHxiLm5vZGVOYW1lLnNwbGl0KCI6IikucG9wKCkpP2c9ZDplPWQudG9HZW9tZXRyeSgpO3ZhciBoO3RoaXMuZXh0cmFjdEF0dHJpYnV0ZXMmJihoPXRoaXMucGFyc2VBdHRyaWJ1dGVzKGEpKTtoPW5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKGUsaCk7aC5ib3VuZHM9Cmc7aC5nbWw9e2ZlYXR1cmVUeXBlOmEuZmlyc3RDaGlsZC5ub2RlTmFtZS5zcGxpdCgiOiIpWzFdLGZlYXR1cmVOUzphLmZpcnN0Q2hpbGQubmFtZXNwYWNlVVJJLGZlYXR1cmVOU1ByZWZpeDphLmZpcnN0Q2hpbGQucHJlZml4fTtmb3IodmFyIGE9YS5maXJzdENoaWxkLGk7YSYmISgxPT1hLm5vZGVUeXBlJiYoaT1hLmdldEF0dHJpYnV0ZSgiZmlkIil8fGEuZ2V0QXR0cmlidXRlKCJpZCIpKSk7KWE9YS5uZXh0U2libGluZztoLmZpZD1pO3JldHVybiBofSxwYXJzZUdlb21ldHJ5Ontwb2ludDpmdW5jdGlvbihhKXt2YXIgYixjO2M9W107Yj10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSx0aGlzLmdtbG5zLCJwb3MiKTswPGIubGVuZ3RoJiYoYz1iWzBdLmZpcnN0Q2hpbGQubm9kZVZhbHVlLGM9Yy5yZXBsYWNlKHRoaXMucmVnRXhlcy50cmltU3BhY2UsIiIpLGM9Yy5zcGxpdCh0aGlzLnJlZ0V4ZXMuc3BsaXRTcGFjZSkpOzA9PWMubGVuZ3RoJiYoYj10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSwKdGhpcy5nbWxucywiY29vcmRpbmF0ZXMiKSwwPGIubGVuZ3RoJiYoYz1iWzBdLmZpcnN0Q2hpbGQubm9kZVZhbHVlLGM9Yy5yZXBsYWNlKHRoaXMucmVnRXhlcy5yZW1vdmVTcGFjZSwiIiksYz1jLnNwbGl0KCIsIikpKTswPT1jLmxlbmd0aCYmKGI9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsdGhpcy5nbWxucywiY29vcmQiKSwwPGIubGVuZ3RoJiYoYT10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYlswXSx0aGlzLmdtbG5zLCJYIiksYj10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYlswXSx0aGlzLmdtbG5zLCJZIiksMDxhLmxlbmd0aCYmMDxiLmxlbmd0aCYmKGM9W2FbMF0uZmlyc3RDaGlsZC5ub2RlVmFsdWUsYlswXS5maXJzdENoaWxkLm5vZGVWYWx1ZV0pKSk7Mj09Yy5sZW5ndGgmJihjWzJdPW51bGwpO3JldHVybiB0aGlzLnh5P25ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGNbMF0sY1sxXSxjWzJdKTpuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChjWzFdLApjWzBdLGNbMl0pfSxtdWx0aXBvaW50OmZ1bmN0aW9uKGEpe3ZhciBhPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLHRoaXMuZ21sbnMsIlBvaW50IiksYj1bXTtpZigwPGEubGVuZ3RoKWZvcih2YXIgYyxkPTA7ZDxhLmxlbmd0aDsrK2QpKGM9dGhpcy5wYXJzZUdlb21ldHJ5LnBvaW50LmFwcGx5KHRoaXMsW2FbZF1dKSkmJmIucHVzaChjKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlQb2ludChiKX0sbGluZXN0cmluZzpmdW5jdGlvbihhLGIpe3ZhciBjLGQ7ZD1bXTt2YXIgZT1bXTtjPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLHRoaXMuZ21sbnMsInBvc0xpc3QiKTtpZigwPGMubGVuZ3RoKXtkPXRoaXMuZ2V0Q2hpbGRWYWx1ZShjWzBdKTtkPWQucmVwbGFjZSh0aGlzLnJlZ0V4ZXMudHJpbVNwYWNlLCIiKTtkPWQuc3BsaXQodGhpcy5yZWdFeGVzLnNwbGl0U3BhY2UpO3ZhciBmPXBhcnNlSW50KGNbMF0uZ2V0QXR0cmlidXRlKCJkaW1lbnNpb24iKSksCmcsaCxpO2ZvcihjPTA7YzxkLmxlbmd0aC9mOysrYylnPWMqZixoPWRbZ10saT1kW2crMV0sZz0yPT1mP251bGw6ZFtnKzJdLHRoaXMueHk/ZS5wdXNoKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGgsaSxnKSk6ZS5wdXNoKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGksaCxnKSl9aWYoMD09ZC5sZW5ndGgmJihjPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLHRoaXMuZ21sbnMsImNvb3JkaW5hdGVzIiksMDxjLmxlbmd0aCkpe2Q9dGhpcy5nZXRDaGlsZFZhbHVlKGNbMF0pO2Q9ZC5yZXBsYWNlKHRoaXMucmVnRXhlcy50cmltU3BhY2UsIiIpO2Q9ZC5yZXBsYWNlKHRoaXMucmVnRXhlcy50cmltQ29tbWEsIiwiKTtmPWQuc3BsaXQodGhpcy5yZWdFeGVzLnNwbGl0U3BhY2UpO2ZvcihjPTA7YzxmLmxlbmd0aDsrK2MpZD1mW2NdLnNwbGl0KCIsIiksMj09ZC5sZW5ndGgmJihkWzJdPW51bGwpLHRoaXMueHk/ZS5wdXNoKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGRbMF0sCmRbMV0sZFsyXSkpOmUucHVzaChuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChkWzFdLGRbMF0sZFsyXSkpfWQ9bnVsbDswIT1lLmxlbmd0aCYmKGQ9Yj9uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lYXJSaW5nKGUpOm5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmcoZSkpO3JldHVybiBkfSxtdWx0aWxpbmVzdHJpbmc6ZnVuY3Rpb24oYSl7dmFyIGE9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsdGhpcy5nbWxucywiTGluZVN0cmluZyIpLGI9W107aWYoMDxhLmxlbmd0aClmb3IodmFyIGMsZD0wO2Q8YS5sZW5ndGg7KytkKShjPXRoaXMucGFyc2VHZW9tZXRyeS5saW5lc3RyaW5nLmFwcGx5KHRoaXMsW2FbZF1dKSkmJmIucHVzaChjKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlMaW5lU3RyaW5nKGIpfSxwb2x5Z29uOmZ1bmN0aW9uKGEpe3ZhciBhPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLHRoaXMuZ21sbnMsIkxpbmVhclJpbmciKSwKYj1bXTtpZigwPGEubGVuZ3RoKWZvcih2YXIgYyxkPTA7ZDxhLmxlbmd0aDsrK2QpKGM9dGhpcy5wYXJzZUdlb21ldHJ5LmxpbmVzdHJpbmcuYXBwbHkodGhpcyxbYVtkXSwhMF0pKSYmYi5wdXNoKGMpO3JldHVybiBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uKGIpfSxtdWx0aXBvbHlnb246ZnVuY3Rpb24oYSl7dmFyIGE9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsdGhpcy5nbWxucywiUG9seWdvbiIpLGI9W107aWYoMDxhLmxlbmd0aClmb3IodmFyIGMsZD0wO2Q8YS5sZW5ndGg7KytkKShjPXRoaXMucGFyc2VHZW9tZXRyeS5wb2x5Z29uLmFwcGx5KHRoaXMsW2FbZF1dKSkmJmIucHVzaChjKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlQb2x5Z29uKGIpfSxlbnZlbG9wZTpmdW5jdGlvbihhKXt2YXIgYj1bXSxjLGQsZT10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSx0aGlzLmdtbG5zLCJsb3dlckNvcm5lciIpO2lmKDA8ZS5sZW5ndGgpe2M9CltdOzA8ZS5sZW5ndGgmJihjPWVbMF0uZmlyc3RDaGlsZC5ub2RlVmFsdWUsYz1jLnJlcGxhY2UodGhpcy5yZWdFeGVzLnRyaW1TcGFjZSwiIiksYz1jLnNwbGl0KHRoaXMucmVnRXhlcy5zcGxpdFNwYWNlKSk7Mj09Yy5sZW5ndGgmJihjWzJdPW51bGwpO3ZhciBmPXRoaXMueHk/bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoY1swXSxjWzFdLGNbMl0pOm5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGNbMV0sY1swXSxjWzJdKX1hPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLHRoaXMuZ21sbnMsInVwcGVyQ29ybmVyIik7aWYoMDxhLmxlbmd0aCl7Yz1bXTswPGEubGVuZ3RoJiYoYz1hWzBdLmZpcnN0Q2hpbGQubm9kZVZhbHVlLGM9Yy5yZXBsYWNlKHRoaXMucmVnRXhlcy50cmltU3BhY2UsIiIpLGM9Yy5zcGxpdCh0aGlzLnJlZ0V4ZXMuc3BsaXRTcGFjZSkpOzI9PWMubGVuZ3RoJiYoY1syXT1udWxsKTt2YXIgZz10aGlzLnh5P25ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGNbMF0sCmNbMV0sY1syXSk6bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoY1sxXSxjWzBdLGNbMl0pfWYmJmcmJihiLnB1c2gobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoZi54LGYueSkpLGIucHVzaChuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChnLngsZi55KSksYi5wdXNoKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGcueCxnLnkpKSxiLnB1c2gobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoZi54LGcueSkpLGIucHVzaChuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChmLngsZi55KSksYj1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lYXJSaW5nKGIpLGQ9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbihbYl0pKTtyZXR1cm4gZH0sYm94OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLHRoaXMuZ21sbnMsImNvb3JkaW5hdGVzIiksYz1hPW51bGw7MDxiLmxlbmd0aCYmKGI9YlswXS5maXJzdENoaWxkLm5vZGVWYWx1ZSwKYj1iLnNwbGl0KCIgIiksMj09Yi5sZW5ndGgmJihhPWJbMF0uc3BsaXQoIiwiKSxjPWJbMV0uc3BsaXQoIiwiKSkpO2lmKG51bGwhPT1hJiZudWxsIT09YylyZXR1cm4gbmV3IE9wZW5MYXllcnMuQm91bmRzKHBhcnNlRmxvYXQoYVswXSkscGFyc2VGbG9hdChhWzFdKSxwYXJzZUZsb2F0KGNbMF0pLHBhcnNlRmxvYXQoY1sxXSkpfX0scGFyc2VBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj17fSxhPWEuZmlyc3RDaGlsZCxjLGQsZTthOyl7aWYoMT09YS5ub2RlVHlwZSl7YT1hLmNoaWxkTm9kZXM7Zm9yKGM9MDtjPGEubGVuZ3RoOysrYylpZihkPWFbY10sMT09ZC5ub2RlVHlwZSlpZihlPWQuY2hpbGROb2RlcywxPT1lLmxlbmd0aCl7aWYoZT1lWzBdLDM9PWUubm9kZVR5cGV8fDQ9PWUubm9kZVR5cGUpZD1kLnByZWZpeD9kLm5vZGVOYW1lLnNwbGl0KCI6IilbMV06ZC5ub2RlTmFtZSxlPWUubm9kZVZhbHVlLnJlcGxhY2UodGhpcy5yZWdFeGVzLnRyaW1TcGFjZSwiIiksCmJbZF09ZX1lbHNlIGJbZC5ub2RlTmFtZS5zcGxpdCgiOiIpLnBvcCgpXT1udWxsO2JyZWFrfWE9YS5uZXh0U2libGluZ31yZXR1cm4gYn0sd3JpdGU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSl8fChhPVthXSk7Zm9yKHZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3dmcyIsIndmczoiK3RoaXMuY29sbGVjdGlvbk5hbWUpLGM9MDtjPGEubGVuZ3RoO2MrKyliLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRmVhdHVyZVhNTChhW2NdKSk7cmV0dXJuIE9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUud3JpdGUuYXBwbHkodGhpcyxbYl0pfSxjcmVhdGVGZWF0dXJlWE1MOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYnVpbGRHZW9tZXRyeU5vZGUoYS5nZW9tZXRyeSksYz10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmZlYXR1cmVOUyx0aGlzLmZlYXR1cmVQcmVmaXgrIjoiK3RoaXMuZ2VvbWV0cnlOYW1lKTtjLmFwcGVuZENoaWxkKGIpOwp2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmdtbG5zLCJnbWw6Iit0aGlzLmZlYXR1cmVOYW1lKSxkPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMuZmVhdHVyZU5TLHRoaXMuZmVhdHVyZVByZWZpeCsiOiIrdGhpcy5sYXllck5hbWUpO2Quc2V0QXR0cmlidXRlKCJmaWQiLGEuZmlkfHxhLmlkKTtkLmFwcGVuZENoaWxkKGMpO2Zvcih2YXIgZSBpbiBhLmF0dHJpYnV0ZXMpe3ZhciBjPXRoaXMuY3JlYXRlVGV4dE5vZGUoYS5hdHRyaWJ1dGVzW2VdKSxmPWUuc3Vic3RyaW5nKGUubGFzdEluZGV4T2YoIjoiKSsxKSxmPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMuZmVhdHVyZU5TLHRoaXMuZmVhdHVyZVByZWZpeCsiOiIrZik7Zi5hcHBlbmRDaGlsZChjKTtkLmFwcGVuZENoaWxkKGYpfWIuYXBwZW5kQ2hpbGQoZCk7cmV0dXJuIGJ9LGJ1aWxkR2VvbWV0cnlOb2RlOmZ1bmN0aW9uKGEpe3RoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uJiZ0aGlzLmludGVybmFsUHJvamVjdGlvbiYmCihhPWEuY2xvbmUoKSxhLnRyYW5zZm9ybSh0aGlzLmludGVybmFsUHJvamVjdGlvbix0aGlzLmV4dGVybmFsUHJvamVjdGlvbikpO3ZhciBiPWEuQ0xBU1NfTkFNRSxiPWIuc3Vic3RyaW5nKGIubGFzdEluZGV4T2YoIi4iKSsxKTtyZXR1cm4gdGhpcy5idWlsZEdlb21ldHJ5W2IudG9Mb3dlckNhc2UoKV0uYXBwbHkodGhpcyxbYV0pfSxidWlsZEdlb21ldHJ5Ontwb2ludDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmdtbG5zLCJnbWw6UG9pbnQiKTtiLmFwcGVuZENoaWxkKHRoaXMuYnVpbGRDb29yZGluYXRlc05vZGUoYSkpO3JldHVybiBifSxtdWx0aXBvaW50OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmdtbG5zLCJnbWw6TXVsdGlQb2ludCIpLGE9YS5jb21wb25lbnRzLGMsZCxlPTA7ZTxhLmxlbmd0aDtlKyspYz10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmdtbG5zLCJnbWw6cG9pbnRNZW1iZXIiKSwKZD10aGlzLmJ1aWxkR2VvbWV0cnkucG9pbnQuYXBwbHkodGhpcyxbYVtlXV0pLGMuYXBwZW5kQ2hpbGQoZCksYi5hcHBlbmRDaGlsZChjKTtyZXR1cm4gYn0sbGluZXN0cmluZzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmdtbG5zLCJnbWw6TGluZVN0cmluZyIpO2IuYXBwZW5kQ2hpbGQodGhpcy5idWlsZENvb3JkaW5hdGVzTm9kZShhKSk7cmV0dXJuIGJ9LG11bHRpbGluZXN0cmluZzpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5nbWxucywiZ21sOk11bHRpTGluZVN0cmluZyIpLGE9YS5jb21wb25lbnRzLGMsZCxlPTA7ZTxhLmxlbmd0aDsrK2UpYz10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmdtbG5zLCJnbWw6bGluZVN0cmluZ01lbWJlciIpLGQ9dGhpcy5idWlsZEdlb21ldHJ5LmxpbmVzdHJpbmcuYXBwbHkodGhpcyxbYVtlXV0pLGMuYXBwZW5kQ2hpbGQoZCksYi5hcHBlbmRDaGlsZChjKTtyZXR1cm4gYn0sCmxpbmVhcnJpbmc6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5nbWxucywiZ21sOkxpbmVhclJpbmciKTtiLmFwcGVuZENoaWxkKHRoaXMuYnVpbGRDb29yZGluYXRlc05vZGUoYSkpO3JldHVybiBifSxwb2x5Z29uOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmdtbG5zLCJnbWw6UG9seWdvbiIpLGE9YS5jb21wb25lbnRzLGMsZCxlPTA7ZTxhLmxlbmd0aDsrK2UpYz0wPT1lPyJvdXRlckJvdW5kYXJ5SXMiOiJpbm5lckJvdW5kYXJ5SXMiLGM9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5nbWxucywiZ21sOiIrYyksZD10aGlzLmJ1aWxkR2VvbWV0cnkubGluZWFycmluZy5hcHBseSh0aGlzLFthW2VdXSksYy5hcHBlbmRDaGlsZChkKSxiLmFwcGVuZENoaWxkKGMpO3JldHVybiBifSxtdWx0aXBvbHlnb246ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMuZ21sbnMsImdtbDpNdWx0aVBvbHlnb24iKSwKYT1hLmNvbXBvbmVudHMsYyxkLGU9MDtlPGEubGVuZ3RoOysrZSljPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMuZ21sbnMsImdtbDpwb2x5Z29uTWVtYmVyIiksZD10aGlzLmJ1aWxkR2VvbWV0cnkucG9seWdvbi5hcHBseSh0aGlzLFthW2VdXSksYy5hcHBlbmRDaGlsZChkKSxiLmFwcGVuZENoaWxkKGMpO3JldHVybiBifSxib3VuZHM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5nbWxucywiZ21sOkJveCIpO2IuYXBwZW5kQ2hpbGQodGhpcy5idWlsZENvb3JkaW5hdGVzTm9kZShhKSk7cmV0dXJuIGJ9fSxidWlsZENvb3JkaW5hdGVzTm9kZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmdtbG5zLCJnbWw6Y29vcmRpbmF0ZXMiKTtiLnNldEF0dHJpYnV0ZSgiZGVjaW1hbCIsIi4iKTtiLnNldEF0dHJpYnV0ZSgiY3MiLCIsIik7Yi5zZXRBdHRyaWJ1dGUoInRzIiwiICIpO3ZhciBjPVtdO2lmKGEgaW5zdGFuY2VvZgpPcGVuTGF5ZXJzLkJvdW5kcyljLnB1c2goYS5sZWZ0KyIsIithLmJvdHRvbSksYy5wdXNoKGEucmlnaHQrIiwiK2EudG9wKTtlbHNlIGZvcih2YXIgYT1hLmNvbXBvbmVudHM/YS5jb21wb25lbnRzOlthXSxkPTA7ZDxhLmxlbmd0aDtkKyspYy5wdXNoKGFbZF0ueCsiLCIrYVtkXS55KTtjPXRoaXMuY3JlYXRlVGV4dE5vZGUoYy5qb2luKCIgIikpO2IuYXBwZW5kQ2hpbGQoYyk7cmV0dXJuIGJ9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LkdNTCJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5HTUx8fChPcGVuTGF5ZXJzLkZvcm1hdC5HTUw9e30pOwpPcGVuTGF5ZXJzLkZvcm1hdC5HTUwuQmFzZT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7bmFtZXNwYWNlczp7Z21sOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbCIseGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiLHdmczoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC93ZnMifSxkZWZhdWx0UHJlZml4OiJnbWwiLHNjaGVtYUxvY2F0aW9uOm51bGwsZmVhdHVyZVR5cGU6bnVsbCxmZWF0dXJlTlM6bnVsbCxnZW9tZXRyeU5hbWU6Imdlb21ldHJ5IixleHRyYWN0QXR0cmlidXRlczohMCxzcnNOYW1lOm51bGwseHk6ITAsZ2VvbWV0cnlUeXBlczpudWxsLHNpbmdsZUZlYXR1cmVUeXBlOm51bGwscmVnRXhlczp7dHJpbVNwYWNlOi9eXHMqfFxzKiQvZyxyZW1vdmVTcGFjZTovXHMqL2csc3BsaXRTcGFjZTovXHMrLyx0cmltQ29tbWE6L1xzKixccyovZyxmZWF0dXJlTWVtYmVyOi9eKC4qOik/ZmVhdHVyZU1lbWJlcnM/JC99LAppbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSk7dGhpcy5zZXRHZW9tZXRyeVR5cGVzKCk7YSYmYS5mZWF0dXJlTlMmJnRoaXMuc2V0TmFtZXNwYWNlKCJmZWF0dXJlIixhLmZlYXR1cmVOUyk7dGhpcy5zaW5nbGVGZWF0dXJlVHlwZT0hYXx8InN0cmluZyI9PT10eXBlb2YgYS5mZWF0dXJlVHlwZX0scmVhZDpmdW5jdGlvbihhKXsic3RyaW5nIj09dHlwZW9mIGEmJihhPU9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUucmVhZC5hcHBseSh0aGlzLFthXSkpO2EmJjk9PWEubm9kZVR5cGUmJihhPWEuZG9jdW1lbnRFbGVtZW50KTt2YXIgYj1bXTt0aGlzLnJlYWROb2RlKGEse2ZlYXR1cmVzOmJ9LCEwKTtpZigwPT1iLmxlbmd0aCl7dmFyIGM9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsdGhpcy5uYW1lc3BhY2VzLmdtbCwiZmVhdHVyZU1lbWJlciIpO2lmKGMubGVuZ3RoKWZvcih2YXIgYT0KMCxkPWMubGVuZ3RoO2E8ZDsrK2EpdGhpcy5yZWFkTm9kZShjW2FdLHtmZWF0dXJlczpifSwhMCk7ZWxzZSBjPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLHRoaXMubmFtZXNwYWNlcy5nbWwsImZlYXR1cmVNZW1iZXJzIiksYy5sZW5ndGgmJnRoaXMucmVhZE5vZGUoY1swXSx7ZmVhdHVyZXM6Yn0sITApfXJldHVybiBifSxyZWFkTm9kZTpmdW5jdGlvbihhLGIsYyl7ITA9PT1jJiYhMD09PXRoaXMuYXV0b0NvbmZpZyYmKHRoaXMuZmVhdHVyZVR5cGU9bnVsbCxkZWxldGUgdGhpcy5uYW1lc3BhY2VBbGlhc1t0aGlzLmZlYXR1cmVOU10sZGVsZXRlIHRoaXMubmFtZXNwYWNlcy5mZWF0dXJlLHRoaXMuZmVhdHVyZU5TPW51bGwpOyF0aGlzLmZlYXR1cmVOUyYmKCEoYS5wcmVmaXggaW4gdGhpcy5uYW1lc3BhY2VzKSYmYS5wYXJlbnROb2RlLm5hbWVzcGFjZVVSST09dGhpcy5uYW1lc3BhY2VzLmdtbCYmdGhpcy5yZWdFeGVzLmZlYXR1cmVNZW1iZXIudGVzdChhLnBhcmVudE5vZGUubm9kZU5hbWUpKSYmCih0aGlzLmZlYXR1cmVUeXBlPWEubm9kZU5hbWUuc3BsaXQoIjoiKS5wb3AoKSx0aGlzLnNldE5hbWVzcGFjZSgiZmVhdHVyZSIsYS5uYW1lc3BhY2VVUkkpLHRoaXMuZmVhdHVyZU5TPWEubmFtZXNwYWNlVVJJLHRoaXMuYXV0b0NvbmZpZz0hMCk7cmV0dXJuIE9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUucmVhZE5vZGUuYXBwbHkodGhpcyxbYSxiXSl9LHJlYWRlcnM6e2dtbDp7X2luaGVyaXQ6ZnVuY3Rpb24oKXt9LGZlYXR1cmVNZW1iZXI6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LGZlYXR1cmVNZW1iZXJzOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxuYW1lOmZ1bmN0aW9uKGEsYil7Yi5uYW1lPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sYm91bmRlZEJ5OmZ1bmN0aW9uKGEsYil7dmFyIGM9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2MuY29tcG9uZW50cyYmMDxjLmNvbXBvbmVudHMubGVuZ3RoJiYoYi5ib3VuZHM9CmMuY29tcG9uZW50c1swXSl9LFBvaW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9e3BvaW50czpbXX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IuY29tcG9uZW50c3x8KGIuY29tcG9uZW50cz1bXSk7Yi5jb21wb25lbnRzLnB1c2goYy5wb2ludHNbMF0pfSxjb29yZGluYXRlczpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYSkucmVwbGFjZSh0aGlzLnJlZ0V4ZXMudHJpbVNwYWNlLCIiKSxjPWMucmVwbGFjZSh0aGlzLnJlZ0V4ZXMudHJpbUNvbW1hLCIsIiksYz1jLnNwbGl0KHRoaXMucmVnRXhlcy5zcGxpdFNwYWNlKSxkLGU9Yy5sZW5ndGgsZj1BcnJheShlKSxnPTA7ZzxlOysrZylkPWNbZ10uc3BsaXQoIiwiKSxmW2ddPXRoaXMueHk/bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoZFswXSxkWzFdLGRbMl0pOm5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGRbMV0sZFswXSxkWzJdKTtiLnBvaW50cz1mfSxjb29yZDpmdW5jdGlvbihhLApiKXt2YXIgYz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5wb2ludHN8fChiLnBvaW50cz1bXSk7Yi5wb2ludHMucHVzaChuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChjLngsYy55LGMueikpfSxYOmZ1bmN0aW9uKGEsYil7Yi54PXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sWTpmdW5jdGlvbihhLGIpe2IueT10aGlzLmdldENoaWxkVmFsdWUoYSl9LFo6ZnVuY3Rpb24oYSxiKXtiLno9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxNdWx0aVBvaW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9e2NvbXBvbmVudHM6W119O3RoaXMucmVhZGVycy5nbWwuX2luaGVyaXQuYXBwbHkodGhpcyxbYSxjLGJdKTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5jb21wb25lbnRzPVtuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aVBvaW50KGMuY29tcG9uZW50cyldfSxwb2ludE1lbWJlcjpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sTGluZVN0cmluZzpmdW5jdGlvbihhLApiKXt2YXIgYz17fTt0aGlzLnJlYWRlcnMuZ21sLl9pbmhlcml0LmFwcGx5KHRoaXMsW2EsYyxiXSk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IuY29tcG9uZW50c3x8KGIuY29tcG9uZW50cz1bXSk7Yi5jb21wb25lbnRzLnB1c2gobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZyhjLnBvaW50cykpfSxNdWx0aUxpbmVTdHJpbmc6ZnVuY3Rpb24oYSxiKXt2YXIgYz17Y29tcG9uZW50czpbXX07dGhpcy5yZWFkZXJzLmdtbC5faW5oZXJpdC5hcHBseSh0aGlzLFthLGMsYl0pO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLmNvbXBvbmVudHM9W25ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpTGluZVN0cmluZyhjLmNvbXBvbmVudHMpXX0sbGluZVN0cmluZ01lbWJlcjpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sUG9seWdvbjpmdW5jdGlvbihhLGIpe3ZhciBjPXtvdXRlcjpudWxsLGlubmVyOltdfTt0aGlzLnJlYWRlcnMuZ21sLl9pbmhlcml0LmFwcGx5KHRoaXMsClthLGMsYl0pO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtjLmlubmVyLnVuc2hpZnQoYy5vdXRlcik7Yi5jb21wb25lbnRzfHwoYi5jb21wb25lbnRzPVtdKTtiLmNvbXBvbmVudHMucHVzaChuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uKGMuaW5uZXIpKX0sTGluZWFyUmluZzpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O3RoaXMucmVhZGVycy5nbWwuX2luaGVyaXQuYXBwbHkodGhpcyxbYSxjXSk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IuY29tcG9uZW50cz1bbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyhjLnBvaW50cyldfSxNdWx0aVBvbHlnb246ZnVuY3Rpb24oYSxiKXt2YXIgYz17Y29tcG9uZW50czpbXX07dGhpcy5yZWFkZXJzLmdtbC5faW5oZXJpdC5hcHBseSh0aGlzLFthLGMsYl0pO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLmNvbXBvbmVudHM9W25ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpUG9seWdvbihjLmNvbXBvbmVudHMpXX0sCnBvbHlnb25NZW1iZXI6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LEdlb21ldHJ5Q29sbGVjdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjPXtjb21wb25lbnRzOltdfTt0aGlzLnJlYWRlcnMuZ21sLl9pbmhlcml0LmFwcGx5KHRoaXMsW2EsYyxiXSk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IuY29tcG9uZW50cz1bbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuQ29sbGVjdGlvbihjLmNvbXBvbmVudHMpXX0sZ2VvbWV0cnlNZW1iZXI6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9fSxmZWF0dXJlOnsiKiI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPWEubG9jYWxOYW1lfHxhLm5vZGVOYW1lLnNwbGl0KCI6IikucG9wKCk7Yi5mZWF0dXJlcz8hdGhpcy5zaW5nbGVGZWF0dXJlVHlwZSYmLTEhPT1PcGVuTGF5ZXJzLlV0aWwuaW5kZXhPZih0aGlzLmZlYXR1cmVUeXBlLGQpP2M9Il90eXBlTmFtZSI6ZD09PXRoaXMuZmVhdHVyZVR5cGUmJihjPQoiX3R5cGVOYW1lIik6MD09YS5jaGlsZE5vZGVzLmxlbmd0aHx8MT09YS5jaGlsZE5vZGVzLmxlbmd0aCYmMz09YS5maXJzdENoaWxkLm5vZGVUeXBlP3RoaXMuZXh0cmFjdEF0dHJpYnV0ZXMmJihjPSJfYXR0cmlidXRlIik6Yz0iX2dlb21ldHJ5IjtjJiZ0aGlzLnJlYWRlcnMuZmVhdHVyZVtjXS5hcHBseSh0aGlzLFthLGJdKX0sX3R5cGVOYW1lOmZ1bmN0aW9uKGEsYil7dmFyIGM9e2NvbXBvbmVudHM6W10sYXR0cmlidXRlczp7fX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2MubmFtZSYmKGMuYXR0cmlidXRlcy5uYW1lPWMubmFtZSk7dmFyIGQ9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoYy5jb21wb25lbnRzWzBdLGMuYXR0cmlidXRlcyk7dGhpcy5zaW5nbGVGZWF0dXJlVHlwZXx8KGQudHlwZT1hLm5vZGVOYW1lLnNwbGl0KCI6IikucG9wKCksZC5uYW1lc3BhY2U9YS5uYW1lc3BhY2VVUkkpO3ZhciBlPWEuZ2V0QXR0cmlidXRlKCJmaWQiKXx8dGhpcy5nZXRBdHRyaWJ1dGVOUyhhLAp0aGlzLm5hbWVzcGFjZXMuZ21sLCJpZCIpO2UmJihkLmZpZD1lKTt0aGlzLmludGVybmFsUHJvamVjdGlvbiYmKHRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uJiZkLmdlb21ldHJ5KSYmZC5nZW9tZXRyeS50cmFuc2Zvcm0odGhpcy5leHRlcm5hbFByb2plY3Rpb24sdGhpcy5pbnRlcm5hbFByb2plY3Rpb24pO2MuYm91bmRzJiYoZC5ib3VuZHM9Yy5ib3VuZHMpO2IuZmVhdHVyZXMucHVzaChkKX0sX2dlb21ldHJ5OmZ1bmN0aW9uKGEsYil7dGhpcy5nZW9tZXRyeU5hbWV8fCh0aGlzLmdlb21ldHJ5TmFtZT1hLm5vZGVOYW1lLnNwbGl0KCI6IikucG9wKCkpO3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sX2F0dHJpYnV0ZTpmdW5jdGlvbihhLGIpe3ZhciBjPWEubG9jYWxOYW1lfHxhLm5vZGVOYW1lLnNwbGl0KCI6IikucG9wKCksZD10aGlzLmdldENoaWxkVmFsdWUoYSk7Yi5hdHRyaWJ1dGVzW2NdPWR9fSx3ZnM6e0ZlYXR1cmVDb2xsZWN0aW9uOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLApiKX19fSx3cml0ZTpmdW5jdGlvbihhKXt2YXIgYjtiPU9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEpPyJmZWF0dXJlTWVtYmVycyI6ImZlYXR1cmVNZW1iZXIiO2E9dGhpcy53cml0ZU5vZGUoImdtbDoiK2IsYSk7dGhpcy5zZXRBdHRyaWJ1dGVOUyhhLHRoaXMubmFtZXNwYWNlcy54c2ksInhzaTpzY2hlbWFMb2NhdGlvbiIsdGhpcy5zY2hlbWFMb2NhdGlvbik7cmV0dXJuIE9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUud3JpdGUuYXBwbHkodGhpcyxbYV0pfSx3cml0ZXJzOntnbWw6e2ZlYXR1cmVNZW1iZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6ZmVhdHVyZU1lbWJlciIpO3RoaXMud3JpdGVOb2RlKCJmZWF0dXJlOl90eXBlTmFtZSIsYSxiKTtyZXR1cm4gYn0sTXVsdGlQb2ludDpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6TXVsdGlQb2ludCIpLGE9YS5jb21wb25lbnRzfHwKW2FdLGM9MCxkPWEubGVuZ3RoO2M8ZDsrK2MpdGhpcy53cml0ZU5vZGUoInBvaW50TWVtYmVyIixhW2NdLGIpO3JldHVybiBifSxwb2ludE1lbWJlcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImdtbDpwb2ludE1lbWJlciIpO3RoaXMud3JpdGVOb2RlKCJQb2ludCIsYSxiKTtyZXR1cm4gYn0sTXVsdGlMaW5lU3RyaW5nOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImdtbDpNdWx0aUxpbmVTdHJpbmciKSxhPWEuY29tcG9uZW50c3x8W2FdLGM9MCxkPWEubGVuZ3RoO2M8ZDsrK2MpdGhpcy53cml0ZU5vZGUoImxpbmVTdHJpbmdNZW1iZXIiLGFbY10sYik7cmV0dXJuIGJ9LGxpbmVTdHJpbmdNZW1iZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6bGluZVN0cmluZ01lbWJlciIpO3RoaXMud3JpdGVOb2RlKCJMaW5lU3RyaW5nIixhLGIpO3JldHVybiBifSxNdWx0aVBvbHlnb246ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPQp0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImdtbDpNdWx0aVBvbHlnb24iKSxhPWEuY29tcG9uZW50c3x8W2FdLGM9MCxkPWEubGVuZ3RoO2M8ZDsrK2MpdGhpcy53cml0ZU5vZGUoInBvbHlnb25NZW1iZXIiLGFbY10sYik7cmV0dXJuIGJ9LHBvbHlnb25NZW1iZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6cG9seWdvbk1lbWJlciIpO3RoaXMud3JpdGVOb2RlKCJQb2x5Z29uIixhLGIpO3JldHVybiBifSxHZW9tZXRyeUNvbGxlY3Rpb246ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOkdlb21ldHJ5Q29sbGVjdGlvbiIpLGM9MCxkPWEuY29tcG9uZW50cy5sZW5ndGg7YzxkOysrYyl0aGlzLndyaXRlTm9kZSgiZ2VvbWV0cnlNZW1iZXIiLGEuY29tcG9uZW50c1tjXSxiKTtyZXR1cm4gYn0sZ2VvbWV0cnlNZW1iZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6Z2VvbWV0cnlNZW1iZXIiKSwKYT10aGlzLndyaXRlTm9kZSgiZmVhdHVyZTpfZ2VvbWV0cnkiLGEpO2IuYXBwZW5kQ2hpbGQoYS5maXJzdENoaWxkKTtyZXR1cm4gYn19LGZlYXR1cmU6e190eXBlTmFtZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImZlYXR1cmU6Iit0aGlzLmZlYXR1cmVUeXBlLHthdHRyaWJ1dGVzOntmaWQ6YS5maWR9fSk7YS5nZW9tZXRyeSYmdGhpcy53cml0ZU5vZGUoImZlYXR1cmU6X2dlb21ldHJ5IixhLmdlb21ldHJ5LGIpO2Zvcih2YXIgYyBpbiBhLmF0dHJpYnV0ZXMpe3ZhciBkPWEuYXR0cmlidXRlc1tjXTtudWxsIT1kJiZ0aGlzLndyaXRlTm9kZSgiZmVhdHVyZTpfYXR0cmlidXRlIix7bmFtZTpjLHZhbHVlOmR9LGIpfXJldHVybiBifSxfZ2VvbWV0cnk6ZnVuY3Rpb24oYSl7dGhpcy5leHRlcm5hbFByb2plY3Rpb24mJnRoaXMuaW50ZXJuYWxQcm9qZWN0aW9uJiYoYT1hLmNsb25lKCkudHJhbnNmb3JtKHRoaXMuaW50ZXJuYWxQcm9qZWN0aW9uLHRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uKSk7CnZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZmVhdHVyZToiK3RoaXMuZ2VvbWV0cnlOYW1lKSxhPXRoaXMud3JpdGVOb2RlKCJnbWw6Iit0aGlzLmdlb21ldHJ5VHlwZXNbYS5DTEFTU19OQU1FXSxhLGIpO3RoaXMuc3JzTmFtZSYmYS5zZXRBdHRyaWJ1dGUoInNyc05hbWUiLHRoaXMuc3JzTmFtZSk7cmV0dXJuIGJ9LF9hdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZmVhdHVyZToiK2EubmFtZSx7dmFsdWU6YS52YWx1ZX0pfX0sd2ZzOntGZWF0dXJlQ29sbGVjdGlvbjpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3ZnM6RmVhdHVyZUNvbGxlY3Rpb24iKSxjPTAsZD1hLmxlbmd0aDtjPGQ7KytjKXRoaXMud3JpdGVOb2RlKCJnbWw6ZmVhdHVyZU1lbWJlciIsYVtjXSxiKTtyZXR1cm4gYn19fSxzZXRHZW9tZXRyeVR5cGVzOmZ1bmN0aW9uKCl7dGhpcy5nZW9tZXRyeVR5cGVzPXsiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCI6IlBvaW50IiwKIk9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlQb2ludCI6Ik11bHRpUG9pbnQiLCJPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmciOiJMaW5lU3RyaW5nIiwiT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aUxpbmVTdHJpbmciOiJNdWx0aUxpbmVTdHJpbmciLCJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24iOiJQb2x5Z29uIiwiT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aVBvbHlnb24iOiJNdWx0aVBvbHlnb24iLCJPcGVuTGF5ZXJzLkdlb21ldHJ5LkNvbGxlY3Rpb24iOiJHZW9tZXRyeUNvbGxlY3Rpb24ifX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuR01MLkJhc2UifSk7T3BlbkxheWVycy5Gb3JtYXQuR01MLnYzPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuR01MLkJhc2Use3NjaGVtYUxvY2F0aW9uOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbCBodHRwOi8vc2NoZW1hcy5vcGVuZ2lzLm5ldC9nbWwvMy4xLjEvcHJvZmlsZXMvZ21sc2ZQcm9maWxlLzEuMC4wL2dtbHNmLnhzZCIsY3VydmU6ITEsbXVsdGlDdXJ2ZTohMCxzdXJmYWNlOiExLG11bHRpU3VyZmFjZTohMCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRm9ybWF0LkdNTC5CYXNlLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKX0scmVhZGVyczp7Z21sOk9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtfaW5oZXJpdDpmdW5jdGlvbihhLGIsYyl7aWYoYT1wYXJzZUludChhLmdldEF0dHJpYnV0ZSgic3JzRGltZW5zaW9uIiksMTApfHxjJiZjLnNyc0RpbWVuc2lvbiliLnNyc0RpbWVuc2lvbj1hfSxmZWF0dXJlTWVtYmVyczpmdW5jdGlvbihhLApiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LEN1cnZlOmZ1bmN0aW9uKGEsYil7dmFyIGM9e3BvaW50czpbXX07dGhpcy5yZWFkZXJzLmdtbC5faW5oZXJpdC5hcHBseSh0aGlzLFthLGMsYl0pO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLmNvbXBvbmVudHN8fChiLmNvbXBvbmVudHM9W10pO2IuY29tcG9uZW50cy5wdXNoKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmcoYy5wb2ludHMpKX0sc2VnbWVudHM6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LExpbmVTdHJpbmdTZWdtZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2MucG9pbnRzJiZBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShiLnBvaW50cyxjLnBvaW50cyl9LHBvczpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKS5yZXBsYWNlKHRoaXMucmVnRXhlcy50cmltU3BhY2UsIiIpLnNwbGl0KHRoaXMucmVnRXhlcy5zcGxpdFNwYWNlKSwKYz10aGlzLnh5P25ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGNbMF0sY1sxXSxjWzJdKTpuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChjWzFdLGNbMF0sY1syXSk7Yi5wb2ludHM9W2NdfSxwb3NMaXN0OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKS5yZXBsYWNlKHRoaXMucmVnRXhlcy50cmltU3BhY2UsIiIpLnNwbGl0KHRoaXMucmVnRXhlcy5zcGxpdFNwYWNlKSxkPWIuc3JzRGltZW5zaW9ufHxwYXJzZUludChhLmdldEF0dHJpYnV0ZSgic3JzRGltZW5zaW9uIil8fGEuZ2V0QXR0cmlidXRlKCJkaW1lbnNpb24iKSwxMCl8fDIsZSxmLGcsaD1BcnJheShjLmxlbmd0aC9kKSxpPTAsaj1jLmxlbmd0aDtpPGo7aSs9ZCllPWNbaV0sZj1jW2krMV0sZz0yPT1kP3ZvaWQgMDpjW2krMl0saFtpL2RdPXRoaXMueHk/bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoZSxmLGcpOm5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGYsCmUsZyk7Yi5wb2ludHM9aH0sU3VyZmFjZTpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0scGF0Y2hlczpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sUG9seWdvblBhdGNoOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkZXJzLmdtbC5Qb2x5Z29uLmFwcGx5KHRoaXMsW2EsYl0pfSxleHRlcmlvcjpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLm91dGVyPWMuY29tcG9uZW50c1swXX0saW50ZXJpb3I6ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5pbm5lci5wdXNoKGMuY29tcG9uZW50c1swXSl9LE11bHRpQ3VydmU6ZnVuY3Rpb24oYSxiKXt2YXIgYz17Y29tcG9uZW50czpbXX07dGhpcy5yZWFkZXJzLmdtbC5faW5oZXJpdC5hcHBseSh0aGlzLFthLGMsYl0pO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTswPGMuY29tcG9uZW50cy5sZW5ndGgmJihiLmNvbXBvbmVudHM9CltuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aUxpbmVTdHJpbmcoYy5jb21wb25lbnRzKV0pfSxjdXJ2ZU1lbWJlcjpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sTXVsdGlTdXJmYWNlOmZ1bmN0aW9uKGEsYil7dmFyIGM9e2NvbXBvbmVudHM6W119O3RoaXMucmVhZGVycy5nbWwuX2luaGVyaXQuYXBwbHkodGhpcyxbYSxjLGJdKTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7MDxjLmNvbXBvbmVudHMubGVuZ3RoJiYoYi5jb21wb25lbnRzPVtuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aVBvbHlnb24oYy5jb21wb25lbnRzKV0pfSxzdXJmYWNlTWVtYmVyOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxzdXJmYWNlTWVtYmVyczpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0scG9pbnRNZW1iZXJzOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxsaW5lU3RyaW5nTWVtYmVyczpmdW5jdGlvbihhLApiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LHBvbHlnb25NZW1iZXJzOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxnZW9tZXRyeU1lbWJlcnM6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LEVudmVsb3BlOmZ1bmN0aW9uKGEsYil7dmFyIGM9e3BvaW50czpBcnJheSgyKX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IuY29tcG9uZW50c3x8KGIuY29tcG9uZW50cz1bXSk7dmFyIGQ9Yy5wb2ludHNbMF0sYz1jLnBvaW50c1sxXTtiLmNvbXBvbmVudHMucHVzaChuZXcgT3BlbkxheWVycy5Cb3VuZHMoZC54LGQueSxjLngsYy55KSl9LGxvd2VyQ29ybmVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9e307dGhpcy5yZWFkZXJzLmdtbC5wb3MuYXBwbHkodGhpcyxbYSxjXSk7Yi5wb2ludHNbMF09Yy5wb2ludHNbMF19LHVwcGVyQ29ybmVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9e307dGhpcy5yZWFkZXJzLmdtbC5wb3MuYXBwbHkodGhpcywKW2EsY10pO2IucG9pbnRzWzFdPWMucG9pbnRzWzBdfX0sT3BlbkxheWVycy5Gb3JtYXQuR01MLkJhc2UucHJvdG90eXBlLnJlYWRlcnMuZ21sKSxmZWF0dXJlOk9wZW5MYXllcnMuRm9ybWF0LkdNTC5CYXNlLnByb3RvdHlwZS5yZWFkZXJzLmZlYXR1cmUsd2ZzOk9wZW5MYXllcnMuRm9ybWF0LkdNTC5CYXNlLnByb3RvdHlwZS5yZWFkZXJzLndmc30sd3JpdGU6ZnVuY3Rpb24oYSl7dmFyIGI7Yj1PcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShhKT8iZmVhdHVyZU1lbWJlcnMiOiJmZWF0dXJlTWVtYmVyIjthPXRoaXMud3JpdGVOb2RlKCJnbWw6IitiLGEpO3RoaXMuc2V0QXR0cmlidXRlTlMoYSx0aGlzLm5hbWVzcGFjZXMueHNpLCJ4c2k6c2NoZW1hTG9jYXRpb24iLHRoaXMuc2NoZW1hTG9jYXRpb24pO3JldHVybiBPcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLndyaXRlLmFwcGx5KHRoaXMsW2FdKX0sd3JpdGVyczp7Z21sOk9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtmZWF0dXJlTWVtYmVyczpmdW5jdGlvbihhKXtmb3IodmFyIGI9CnRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOmZlYXR1cmVNZW1iZXJzIiksYz0wLGQ9YS5sZW5ndGg7YzxkOysrYyl0aGlzLndyaXRlTm9kZSgiZmVhdHVyZTpfdHlwZU5hbWUiLGFbY10sYik7cmV0dXJuIGJ9LFBvaW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOlBvaW50Iik7dGhpcy53cml0ZU5vZGUoInBvcyIsYSxiKTtyZXR1cm4gYn0scG9zOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImdtbDpwb3MiLHt2YWx1ZTp0aGlzLnh5P2EueCsiICIrYS55OmEueSsiICIrYS54fSl9LExpbmVTdHJpbmc6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6TGluZVN0cmluZyIpO3RoaXMud3JpdGVOb2RlKCJwb3NMaXN0IixhLmNvbXBvbmVudHMsYik7cmV0dXJuIGJ9LEN1cnZlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOkN1cnZlIik7CnRoaXMud3JpdGVOb2RlKCJzZWdtZW50cyIsYSxiKTtyZXR1cm4gYn0sc2VnbWVudHM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6c2VnbWVudHMiKTt0aGlzLndyaXRlTm9kZSgiTGluZVN0cmluZ1NlZ21lbnQiLGEsYik7cmV0dXJuIGJ9LExpbmVTdHJpbmdTZWdtZW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOkxpbmVTdHJpbmdTZWdtZW50Iik7dGhpcy53cml0ZU5vZGUoInBvc0xpc3QiLGEuY29tcG9uZW50cyxiKTtyZXR1cm4gYn0scG9zTGlzdDpmdW5jdGlvbihhKXtmb3IodmFyIGI9YS5sZW5ndGgsYz1BcnJheShiKSxkLGU9MDtlPGI7KytlKWQ9YVtlXSxjW2VdPXRoaXMueHk/ZC54KyIgIitkLnk6ZC55KyIgIitkLng7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOnBvc0xpc3QiLHt2YWx1ZTpjLmpvaW4oIiAiKX0pfSxTdXJmYWNlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOlN1cmZhY2UiKTsKdGhpcy53cml0ZU5vZGUoInBhdGNoZXMiLGEsYik7cmV0dXJuIGJ9LHBhdGNoZXM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6cGF0Y2hlcyIpO3RoaXMud3JpdGVOb2RlKCJQb2x5Z29uUGF0Y2giLGEsYik7cmV0dXJuIGJ9LFBvbHlnb25QYXRjaDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImdtbDpQb2x5Z29uUGF0Y2giLHthdHRyaWJ1dGVzOntpbnRlcnBvbGF0aW9uOiJwbGFuYXIifX0pO3RoaXMud3JpdGVOb2RlKCJleHRlcmlvciIsYS5jb21wb25lbnRzWzBdLGIpO2Zvcih2YXIgYz0xLGQ9YS5jb21wb25lbnRzLmxlbmd0aDtjPGQ7KytjKXRoaXMud3JpdGVOb2RlKCJpbnRlcmlvciIsYS5jb21wb25lbnRzW2NdLGIpO3JldHVybiBifSxQb2x5Z29uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOlBvbHlnb24iKTt0aGlzLndyaXRlTm9kZSgiZXh0ZXJpb3IiLGEuY29tcG9uZW50c1swXSwKYik7Zm9yKHZhciBjPTEsZD1hLmNvbXBvbmVudHMubGVuZ3RoO2M8ZDsrK2MpdGhpcy53cml0ZU5vZGUoImludGVyaW9yIixhLmNvbXBvbmVudHNbY10sYik7cmV0dXJuIGJ9LGV4dGVyaW9yOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOmV4dGVyaW9yIik7dGhpcy53cml0ZU5vZGUoIkxpbmVhclJpbmciLGEsYik7cmV0dXJuIGJ9LGludGVyaW9yOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOmludGVyaW9yIik7dGhpcy53cml0ZU5vZGUoIkxpbmVhclJpbmciLGEsYik7cmV0dXJuIGJ9LExpbmVhclJpbmc6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6TGluZWFyUmluZyIpO3RoaXMud3JpdGVOb2RlKCJwb3NMaXN0IixhLmNvbXBvbmVudHMsYik7cmV0dXJuIGJ9LE11bHRpQ3VydmU6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOk11bHRpQ3VydmUiKSwKYT1hLmNvbXBvbmVudHN8fFthXSxjPTAsZD1hLmxlbmd0aDtjPGQ7KytjKXRoaXMud3JpdGVOb2RlKCJjdXJ2ZU1lbWJlciIsYVtjXSxiKTtyZXR1cm4gYn0sY3VydmVNZW1iZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6Y3VydmVNZW1iZXIiKTt0aGlzLmN1cnZlP3RoaXMud3JpdGVOb2RlKCJDdXJ2ZSIsYSxiKTp0aGlzLndyaXRlTm9kZSgiTGluZVN0cmluZyIsYSxiKTtyZXR1cm4gYn0sTXVsdGlTdXJmYWNlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImdtbDpNdWx0aVN1cmZhY2UiKSxhPWEuY29tcG9uZW50c3x8W2FdLGM9MCxkPWEubGVuZ3RoO2M8ZDsrK2MpdGhpcy53cml0ZU5vZGUoInN1cmZhY2VNZW1iZXIiLGFbY10sYik7cmV0dXJuIGJ9LHN1cmZhY2VNZW1iZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6c3VyZmFjZU1lbWJlciIpO3RoaXMuc3VyZmFjZT8KdGhpcy53cml0ZU5vZGUoIlN1cmZhY2UiLGEsYik6dGhpcy53cml0ZU5vZGUoIlBvbHlnb24iLGEsYik7cmV0dXJuIGJ9LEVudmVsb3BlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOkVudmVsb3BlIik7dGhpcy53cml0ZU5vZGUoImxvd2VyQ29ybmVyIixhLGIpO3RoaXMud3JpdGVOb2RlKCJ1cHBlckNvcm5lciIsYSxiKTt0aGlzLnNyc05hbWUmJmIuc2V0QXR0cmlidXRlKCJzcnNOYW1lIix0aGlzLnNyc05hbWUpO3JldHVybiBifSxsb3dlckNvcm5lcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6bG93ZXJDb3JuZXIiLHt2YWx1ZTp0aGlzLnh5P2EubGVmdCsiICIrYS5ib3R0b206YS5ib3R0b20rIiAiK2EubGVmdH0pfSx1cHBlckNvcm5lcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6dXBwZXJDb3JuZXIiLHt2YWx1ZTp0aGlzLnh5P2EucmlnaHQrIiAiKwphLnRvcDphLnRvcCsiICIrYS5yaWdodH0pfX0sT3BlbkxheWVycy5Gb3JtYXQuR01MLkJhc2UucHJvdG90eXBlLndyaXRlcnMuZ21sKSxmZWF0dXJlOk9wZW5MYXllcnMuRm9ybWF0LkdNTC5CYXNlLnByb3RvdHlwZS53cml0ZXJzLmZlYXR1cmUsd2ZzOk9wZW5MYXllcnMuRm9ybWF0LkdNTC5CYXNlLnByb3RvdHlwZS53cml0ZXJzLndmc30sc2V0R2VvbWV0cnlUeXBlczpmdW5jdGlvbigpe3RoaXMuZ2VvbWV0cnlUeXBlcz17Ik9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQiOiJQb2ludCIsIk9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlQb2ludCI6Ik11bHRpUG9pbnQiLCJPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmciOiEwPT09dGhpcy5jdXJ2ZT8iQ3VydmUiOiJMaW5lU3RyaW5nIiwiT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aUxpbmVTdHJpbmciOiExPT09dGhpcy5tdWx0aUN1cnZlPyJNdWx0aUxpbmVTdHJpbmciOiJNdWx0aUN1cnZlIiwiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uIjohMD09PQp0aGlzLnN1cmZhY2U/IlN1cmZhY2UiOiJQb2x5Z29uIiwiT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aVBvbHlnb24iOiExPT09dGhpcy5tdWx0aVN1cmZhY2U/Ik11bHRpUG9seWdvbiI6Ik11bHRpU3VyZmFjZSIsIk9wZW5MYXllcnMuR2VvbWV0cnkuQ29sbGVjdGlvbiI6Ikdlb21ldHJ5Q29sbGVjdGlvbiJ9fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjMifSk7T3BlbkxheWVycy5Gb3JtYXQuRmlsdGVyLnYxXzFfMD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LkdNTC52MyxPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIudjEse1ZFUlNJT046IjEuMS4wIixzY2hlbWFMb2NhdGlvbjoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vZ2MvZmlsdGVyLzEuMS4wL2ZpbHRlci54c2QiLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Gb3JtYXQuR01MLnYzLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKX0scmVhZGVyczp7b2djOk9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtQcm9wZXJ0eUlzRXF1YWxUbzpmdW5jdGlvbihhLGIpe3ZhciBjPWEuZ2V0QXR0cmlidXRlKCJtYXRjaENhc2UiKSxjPW5ldyBPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uKHt0eXBlOk9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uRVFVQUxfVE8sbWF0Y2hDYXNlOiEoImZhbHNlIj09PWN8fCIwIj09PWMpfSk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLApjKTtiLmZpbHRlcnMucHVzaChjKX0sUHJvcGVydHlJc05vdEVxdWFsVG86ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldEF0dHJpYnV0ZSgibWF0Y2hDYXNlIiksYz1uZXcgT3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbih7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLk5PVF9FUVVBTF9UTyxtYXRjaENhc2U6ISgiZmFsc2UiPT09Y3x8IjAiPT09Yyl9KTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5maWx0ZXJzLnB1c2goYyl9LFByb3BlcnR5SXNMaWtlOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IE9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24oe3R5cGU6T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5MSUtFfSk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO3ZhciBkPWEuZ2V0QXR0cmlidXRlKCJ3aWxkQ2FyZCIpLGU9YS5nZXRBdHRyaWJ1dGUoInNpbmdsZUNoYXIiKSxmPWEuZ2V0QXR0cmlidXRlKCJlc2NhcGVDaGFyIik7Yy52YWx1ZTJyZWdleChkLGUsCmYpO2IuZmlsdGVycy5wdXNoKGMpfX0sT3BlbkxheWVycy5Gb3JtYXQuRmlsdGVyLnYxLnByb3RvdHlwZS5yZWFkZXJzLm9nYyksZ21sOk9wZW5MYXllcnMuRm9ybWF0LkdNTC52My5wcm90b3R5cGUucmVhZGVycy5nbWwsZmVhdHVyZTpPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjMucHJvdG90eXBlLnJlYWRlcnMuZmVhdHVyZX0sd3JpdGVyczp7b2djOk9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtQcm9wZXJ0eUlzRXF1YWxUbzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIm9nYzpQcm9wZXJ0eUlzRXF1YWxUbyIse2F0dHJpYnV0ZXM6e21hdGNoQ2FzZTphLm1hdGNoQ2FzZX19KTt0aGlzLndyaXRlTm9kZSgiUHJvcGVydHlOYW1lIixhLGIpO3RoaXMud3JpdGVPZ2NFeHByZXNzaW9uKGEudmFsdWUsYik7cmV0dXJuIGJ9LFByb3BlcnR5SXNOb3RFcXVhbFRvOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOlByb3BlcnR5SXNOb3RFcXVhbFRvIiwKe2F0dHJpYnV0ZXM6e21hdGNoQ2FzZTphLm1hdGNoQ2FzZX19KTt0aGlzLndyaXRlTm9kZSgiUHJvcGVydHlOYW1lIixhLGIpO3RoaXMud3JpdGVPZ2NFeHByZXNzaW9uKGEudmFsdWUsYik7cmV0dXJuIGJ9LFByb3BlcnR5SXNMaWtlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOlByb3BlcnR5SXNMaWtlIix7YXR0cmlidXRlczp7bWF0Y2hDYXNlOmEubWF0Y2hDYXNlLHdpbGRDYXJkOiIqIixzaW5nbGVDaGFyOiIuIixlc2NhcGVDaGFyOiIhIn19KTt0aGlzLndyaXRlTm9kZSgiUHJvcGVydHlOYW1lIixhLGIpO3RoaXMud3JpdGVOb2RlKCJMaXRlcmFsIixhLnJlZ2V4MnZhbHVlKCksYik7cmV0dXJuIGJ9LEJCT1g6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6QkJPWCIpO2EucHJvcGVydHkmJnRoaXMud3JpdGVOb2RlKCJQcm9wZXJ0eU5hbWUiLGEsYik7dmFyIGM9dGhpcy53cml0ZU5vZGUoImdtbDpFbnZlbG9wZSIsCmEudmFsdWUpO2EucHJvamVjdGlvbiYmYy5zZXRBdHRyaWJ1dGUoInNyc05hbWUiLGEucHJvamVjdGlvbik7Yi5hcHBlbmRDaGlsZChjKTtyZXR1cm4gYn0sU29ydEJ5OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIm9nYzpTb3J0QnkiKSxjPTAsZD1hLmxlbmd0aDtjPGQ7YysrKXRoaXMud3JpdGVOb2RlKCJvZ2M6U29ydFByb3BlcnR5IixhW2NdLGIpO3JldHVybiBifSxTb3J0UHJvcGVydHk6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6U29ydFByb3BlcnR5Iik7dGhpcy53cml0ZU5vZGUoIm9nYzpQcm9wZXJ0eU5hbWUiLGEsYik7dGhpcy53cml0ZU5vZGUoIm9nYzpTb3J0T3JkZXIiLCJERVNDIj09YS5vcmRlcj8iREVTQyI6IkFTQyIsYik7cmV0dXJuIGJ9LFNvcnRPcmRlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6U29ydE9yZGVyIix7dmFsdWU6YX0pfX0sCk9wZW5MYXllcnMuRm9ybWF0LkZpbHRlci52MS5wcm90b3R5cGUud3JpdGVycy5vZ2MpLGdtbDpPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjMucHJvdG90eXBlLndyaXRlcnMuZ21sLGZlYXR1cmU6T3BlbkxheWVycy5Gb3JtYXQuR01MLnYzLnByb3RvdHlwZS53cml0ZXJzLmZlYXR1cmV9LHdyaXRlU3BhdGlhbDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOiIrYik7dGhpcy53cml0ZU5vZGUoIlByb3BlcnR5TmFtZSIsYSxjKTtpZihhLnZhbHVlIGluc3RhbmNlb2YgT3BlbkxheWVycy5GaWx0ZXIuRnVuY3Rpb24pdGhpcy53cml0ZU5vZGUoIkZ1bmN0aW9uIixhLnZhbHVlLGMpO2Vsc2V7dmFyIGQ7ZD1hLnZhbHVlIGluc3RhbmNlb2YgT3BlbkxheWVycy5HZW9tZXRyeT90aGlzLndyaXRlTm9kZSgiZmVhdHVyZTpfZ2VvbWV0cnkiLGEudmFsdWUpLmZpcnN0Q2hpbGQ6dGhpcy53cml0ZU5vZGUoImdtbDpFbnZlbG9wZSIsYS52YWx1ZSk7YS5wcm9qZWN0aW9uJiYKZC5zZXRBdHRyaWJ1dGUoInNyc05hbWUiLGEucHJvamVjdGlvbik7Yy5hcHBlbmRDaGlsZChkKX1yZXR1cm4gY30sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuRmlsdGVyLnYxXzFfMCJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb249T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwuVmVyc2lvbmVkT0dDLHtkZWZhdWx0VmVyc2lvbjoiMS4wLjAiLGdldFZlcnNpb246ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy52ZXJzaW9uO2J8fCgoYT1hLmdldEF0dHJpYnV0ZSgieG1sbnM6b3dzIikpJiYiMS4xIj09PWEuc3Vic3RyaW5nKGEubGFzdEluZGV4T2YoIi8iKSsxKSYmKGI9IjEuMS4wIiksYnx8KGI9dGhpcy5kZWZhdWx0VmVyc2lvbikpO3JldHVybiBifSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24ifSk7T3BlbkxheWVycy5Gb3JtYXQuT1dTQ29tbW9uLnYxPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuWE1MLHtyZWdFeGVzOnt0cmltU3BhY2U6L15ccyp8XHMqJC9nLHJlbW92ZVNwYWNlOi9ccyovZyxzcGxpdFNwYWNlOi9ccysvLHRyaW1Db21tYTovXHMqLFxzKi9nfSxyZWFkOmZ1bmN0aW9uKGEsYil7T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYix0aGlzLm9wdGlvbnMpO3ZhciBjPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtyZXR1cm4gY30scmVhZGVyczp7b3dzOntFeGNlcHRpb246ZnVuY3Rpb24oYSxiKXt2YXIgYz17Y29kZTphLmdldEF0dHJpYnV0ZSgiZXhjZXB0aW9uQ29kZSIpLGxvY2F0b3I6YS5nZXRBdHRyaWJ1dGUoImxvY2F0b3IiKSx0ZXh0czpbXX07Yi5leGNlcHRpb25zLnB1c2goYyk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpfSxFeGNlcHRpb25UZXh0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDaGlsZFZhbHVlKGEpO2IudGV4dHMucHVzaChjKX0sClNlcnZpY2VJZGVudGlmaWNhdGlvbjpmdW5jdGlvbihhLGIpe2Iuc2VydmljZUlkZW50aWZpY2F0aW9uPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnNlcnZpY2VJZGVudGlmaWNhdGlvbil9LFRpdGxlOmZ1bmN0aW9uKGEsYil7Yi50aXRsZT10aGlzLmdldENoaWxkVmFsdWUoYSl9LEFic3RyYWN0OmZ1bmN0aW9uKGEsYil7YlsiYWJzdHJhY3QiXT10aGlzLmdldENoaWxkVmFsdWUoYSl9LEtleXdvcmRzOmZ1bmN0aW9uKGEsYil7Yi5rZXl3b3Jkcz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5rZXl3b3Jkcyl9LEtleXdvcmQ6ZnVuY3Rpb24oYSxiKXtiW3RoaXMuZ2V0Q2hpbGRWYWx1ZShhKV09ITB9LFNlcnZpY2VUeXBlOmZ1bmN0aW9uKGEsYil7Yi5zZXJ2aWNlVHlwZT17Y29kZVNwYWNlOmEuZ2V0QXR0cmlidXRlKCJjb2RlU3BhY2UiKSx2YWx1ZTp0aGlzLmdldENoaWxkVmFsdWUoYSl9fSxTZXJ2aWNlVHlwZVZlcnNpb246ZnVuY3Rpb24oYSxiKXtiLnNlcnZpY2VUeXBlVmVyc2lvbj0KdGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxGZWVzOmZ1bmN0aW9uKGEsYil7Yi5mZWVzPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sQWNjZXNzQ29uc3RyYWludHM6ZnVuY3Rpb24oYSxiKXtiLmFjY2Vzc0NvbnN0cmFpbnRzPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sU2VydmljZVByb3ZpZGVyOmZ1bmN0aW9uKGEsYil7Yi5zZXJ2aWNlUHJvdmlkZXI9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuc2VydmljZVByb3ZpZGVyKX0sUHJvdmlkZXJOYW1lOmZ1bmN0aW9uKGEsYil7Yi5wcm92aWRlck5hbWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxQcm92aWRlclNpdGU6ZnVuY3Rpb24oYSxiKXtiLnByb3ZpZGVyU2l0ZT10aGlzLmdldEF0dHJpYnV0ZU5TKGEsdGhpcy5uYW1lc3BhY2VzLnhsaW5rLCJocmVmIil9LFNlcnZpY2VDb250YWN0OmZ1bmN0aW9uKGEsYil7Yi5zZXJ2aWNlQ29udGFjdD17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5zZXJ2aWNlQ29udGFjdCl9LEluZGl2aWR1YWxOYW1lOmZ1bmN0aW9uKGEsCmIpe2IuaW5kaXZpZHVhbE5hbWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxQb3NpdGlvbk5hbWU6ZnVuY3Rpb24oYSxiKXtiLnBvc2l0aW9uTmFtZT10aGlzLmdldENoaWxkVmFsdWUoYSl9LENvbnRhY3RJbmZvOmZ1bmN0aW9uKGEsYil7Yi5jb250YWN0SW5mbz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5jb250YWN0SW5mbyl9LFBob25lOmZ1bmN0aW9uKGEsYil7Yi5waG9uZT17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5waG9uZSl9LFZvaWNlOmZ1bmN0aW9uKGEsYil7Yi52b2ljZT10aGlzLmdldENoaWxkVmFsdWUoYSl9LEFkZHJlc3M6ZnVuY3Rpb24oYSxiKXtiLmFkZHJlc3M9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuYWRkcmVzcyl9LERlbGl2ZXJ5UG9pbnQ6ZnVuY3Rpb24oYSxiKXtiLmRlbGl2ZXJ5UG9pbnQ9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxDaXR5OmZ1bmN0aW9uKGEsYil7Yi5jaXR5PXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sQWRtaW5pc3RyYXRpdmVBcmVhOmZ1bmN0aW9uKGEsCmIpe2IuYWRtaW5pc3RyYXRpdmVBcmVhPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sUG9zdGFsQ29kZTpmdW5jdGlvbihhLGIpe2IucG9zdGFsQ29kZT10aGlzLmdldENoaWxkVmFsdWUoYSl9LENvdW50cnk6ZnVuY3Rpb24oYSxiKXtiLmNvdW50cnk9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxFbGVjdHJvbmljTWFpbEFkZHJlc3M6ZnVuY3Rpb24oYSxiKXtiLmVsZWN0cm9uaWNNYWlsQWRkcmVzcz10aGlzLmdldENoaWxkVmFsdWUoYSl9LFJvbGU6ZnVuY3Rpb24oYSxiKXtiLnJvbGU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxPcGVyYXRpb25zTWV0YWRhdGE6ZnVuY3Rpb24oYSxiKXtiLm9wZXJhdGlvbnNNZXRhZGF0YT17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5vcGVyYXRpb25zTWV0YWRhdGEpfSxPcGVyYXRpb246ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldEF0dHJpYnV0ZSgibmFtZSIpO2JbY109e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGJbY10pfSxEQ1A6ZnVuY3Rpb24oYSwKYil7Yi5kY3A9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuZGNwKX0sSFRUUDpmdW5jdGlvbihhLGIpe2IuaHR0cD17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5odHRwKX0sR2V0OmZ1bmN0aW9uKGEsYil7Yi5nZXR8fChiLmdldD1bXSk7dmFyIGM9e3VybDp0aGlzLmdldEF0dHJpYnV0ZU5TKGEsdGhpcy5uYW1lc3BhY2VzLnhsaW5rLCJocmVmIil9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLmdldC5wdXNoKGMpfSxQb3N0OmZ1bmN0aW9uKGEsYil7Yi5wb3N0fHwoYi5wb3N0PVtdKTt2YXIgYz17dXJsOnRoaXMuZ2V0QXR0cmlidXRlTlMoYSx0aGlzLm5hbWVzcGFjZXMueGxpbmssImhyZWYiKX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IucG9zdC5wdXNoKGMpfSxQYXJhbWV0ZXI6ZnVuY3Rpb24oYSxiKXtiLnBhcmFtZXRlcnN8fChiLnBhcmFtZXRlcnM9e30pO3ZhciBjPWEuZ2V0QXR0cmlidXRlKCJuYW1lIik7Yi5wYXJhbWV0ZXJzW2NdPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSwKYi5wYXJhbWV0ZXJzW2NdKX0sQ29uc3RyYWludDpmdW5jdGlvbihhLGIpe2IuY29uc3RyYWludHN8fChiLmNvbnN0cmFpbnRzPXt9KTt2YXIgYz1hLmdldEF0dHJpYnV0ZSgibmFtZSIpO2IuY29uc3RyYWludHNbY109e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuY29uc3RyYWludHNbY10pfSxWYWx1ZTpmdW5jdGlvbihhLGIpe2JbdGhpcy5nZXRDaGlsZFZhbHVlKGEpXT0hMH0sT3V0cHV0Rm9ybWF0OmZ1bmN0aW9uKGEsYil7Yi5mb3JtYXRzLnB1c2goe3ZhbHVlOnRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0pO3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sV0dTODRCb3VuZGluZ0JveDpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O2MuY3JzPWEuZ2V0QXR0cmlidXRlKCJjcnMiKTtiLkJvdW5kaW5nQm94P2IuQm91bmRpbmdCb3gucHVzaChjKTooYi5wcm9qZWN0aW9uPWMuY3JzLGM9Yik7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpfSxCb3VuZGluZ0JveDpmdW5jdGlvbihhLGIpe3RoaXMucmVhZGVycy5vd3MuV0dTODRCb3VuZGluZ0JveC5hcHBseSh0aGlzLApbYSxiXSl9LExvd2VyQ29ybmVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDaGlsZFZhbHVlKGEpLnJlcGxhY2UodGhpcy5yZWdFeGVzLnRyaW1TcGFjZSwiIiksYz1jLnJlcGxhY2UodGhpcy5yZWdFeGVzLnRyaW1Db21tYSwiLCIpLGM9Yy5zcGxpdCh0aGlzLnJlZ0V4ZXMuc3BsaXRTcGFjZSk7Yi5sZWZ0PWNbMF07Yi5ib3R0b209Y1sxXX0sVXBwZXJDb3JuZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYSkucmVwbGFjZSh0aGlzLnJlZ0V4ZXMudHJpbVNwYWNlLCIiKSxjPWMucmVwbGFjZSh0aGlzLnJlZ0V4ZXMudHJpbUNvbW1hLCIsIiksYz1jLnNwbGl0KHRoaXMucmVnRXhlcy5zcGxpdFNwYWNlKTtiLnJpZ2h0PWNbMF07Yi50b3A9Y1sxXTtiLmJvdW5kcz1uZXcgT3BlbkxheWVycy5Cb3VuZHMoYi5sZWZ0LGIuYm90dG9tLGIucmlnaHQsYi50b3ApO2RlbGV0ZSBiLmxlZnQ7ZGVsZXRlIGIuYm90dG9tO2RlbGV0ZSBiLnJpZ2h0O2RlbGV0ZSBiLnRvcH0sCkxhbmd1YWdlOmZ1bmN0aW9uKGEsYil7Yi5sYW5ndWFnZT10aGlzLmdldENoaWxkVmFsdWUoYSl9fX0sd3JpdGVyczp7b3dzOntCb3VuZGluZ0JveDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cyhifHwib3dzOkJvdW5kaW5nQm94Iix7YXR0cmlidXRlczp7Y3JzOmEucHJvamVjdGlvbn19KTt0aGlzLndyaXRlTm9kZSgib3dzOkxvd2VyQ29ybmVyIixhLGMpO3RoaXMud3JpdGVOb2RlKCJvd3M6VXBwZXJDb3JuZXIiLGEsYyk7cmV0dXJuIGN9LExvd2VyQ29ybmVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIm93czpMb3dlckNvcm5lciIse3ZhbHVlOmEuYm91bmRzLmxlZnQrIiAiK2EuYm91bmRzLmJvdHRvbX0pfSxVcHBlckNvcm5lcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvd3M6VXBwZXJDb3JuZXIiLHt2YWx1ZTphLmJvdW5kcy5yaWdodCsiICIrYS5ib3VuZHMudG9wfSl9LApJZGVudGlmaWVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIm93czpJZGVudGlmaWVyIix7dmFsdWU6YX0pfSxUaXRsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvd3M6VGl0bGUiLHt2YWx1ZTphfSl9LEFic3RyYWN0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIm93czpBYnN0cmFjdCIse3ZhbHVlOmF9KX0sT3V0cHV0Rm9ybWF0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIm93czpPdXRwdXRGb3JtYXQiLHt2YWx1ZTphfSl9fX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuT1dTQ29tbW9uLnYxIn0pO09wZW5MYXllcnMuRm9ybWF0Lk9XU0NvbW1vbi52MV8wXzA9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24udjEse25hbWVzcGFjZXM6e293czoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vd3MiLHhsaW5rOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIn0scmVhZGVyczp7b3dzOk9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtFeGNlcHRpb25SZXBvcnQ6ZnVuY3Rpb24oYSxiKXtiLnN1Y2Nlc3M9ITE7Yi5leGNlcHRpb25SZXBvcnQ9e3ZlcnNpb246YS5nZXRBdHRyaWJ1dGUoInZlcnNpb24iKSxsYW5ndWFnZTphLmdldEF0dHJpYnV0ZSgibGFuZ3VhZ2UiKSxleGNlcHRpb25zOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5leGNlcHRpb25SZXBvcnQpfX0sT3BlbkxheWVycy5Gb3JtYXQuT1dTQ29tbW9uLnYxLnByb3RvdHlwZS5yZWFkZXJzLm93cyl9LHdyaXRlcnM6e293czpPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24udjEucHJvdG90eXBlLndyaXRlcnMub3dzfSwKQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuT1dTQ29tbW9uLnYxXzBfMCJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5XRlNULnYxXzFfMD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LkZpbHRlci52MV8xXzAsT3BlbkxheWVycy5Gb3JtYXQuV0ZTVC52MSx7dmVyc2lvbjoiMS4xLjAiLHNjaGVtYUxvY2F0aW9uczp7d2ZzOiJodHRwOi8vc2NoZW1hcy5vcGVuZ2lzLm5ldC93ZnMvMS4xLjAvd2ZzLnhzZCJ9LGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Gb3JtYXQuRmlsdGVyLnYxXzFfMC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSk7T3BlbkxheWVycy5Gb3JtYXQuV0ZTVC52MS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSl9LHJlYWROb2RlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gT3BlbkxheWVycy5Gb3JtYXQuR01MLnYzLnByb3RvdHlwZS5yZWFkTm9kZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHJlYWRlcnM6e3dmczpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7RmVhdHVyZUNvbGxlY3Rpb246ZnVuY3Rpb24oYSwKYil7Yi5udW1iZXJPZkZlYXR1cmVzPXBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKCJudW1iZXJPZkZlYXR1cmVzIikpO09wZW5MYXllcnMuRm9ybWF0LldGU1QudjEucHJvdG90eXBlLnJlYWRlcnMud2ZzLkZlYXR1cmVDb2xsZWN0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sVHJhbnNhY3Rpb25SZXNwb25zZTpmdW5jdGlvbihhLGIpe2IuaW5zZXJ0SWRzPVtdO2Iuc3VjY2Vzcz0hMTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LFRyYW5zYWN0aW9uU3VtbWFyeTpmdW5jdGlvbihhLGIpe2Iuc3VjY2Vzcz0hMH0sSW5zZXJ0UmVzdWx0czpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sRmVhdHVyZTpmdW5jdGlvbihhLGIpe3ZhciBjPXtmaWRzOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5pbnNlcnRJZHMucHVzaChjLmZpZHNbMF0pfX0sT3BlbkxheWVycy5Gb3JtYXQuV0ZTVC52MS5wcm90b3R5cGUucmVhZGVycy53ZnMpLGdtbDpPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjMucHJvdG90eXBlLnJlYWRlcnMuZ21sLApmZWF0dXJlOk9wZW5MYXllcnMuRm9ybWF0LkdNTC52My5wcm90b3R5cGUucmVhZGVycy5mZWF0dXJlLG9nYzpPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIudjFfMV8wLnByb3RvdHlwZS5yZWFkZXJzLm9nYyxvd3M6T3BlbkxheWVycy5Gb3JtYXQuT1dTQ29tbW9uLnYxXzBfMC5wcm90b3R5cGUucmVhZGVycy5vd3N9LHdyaXRlcnM6e3dmczpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7R2V0RmVhdHVyZTpmdW5jdGlvbihhKXt2YXIgYj1PcGVuTGF5ZXJzLkZvcm1hdC5XRlNULnYxLnByb3RvdHlwZS53cml0ZXJzLndmcy5HZXRGZWF0dXJlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthJiZ0aGlzLnNldEF0dHJpYnV0ZXMoYix7cmVzdWx0VHlwZTphLnJlc3VsdFR5cGUsc3RhcnRJbmRleDphLnN0YXJ0SW5kZXgsY291bnQ6YS5jb3VudH0pO3JldHVybiBifSxRdWVyeTpmdW5jdGlvbihhKXt2YXIgYT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHtmZWF0dXJlTlM6dGhpcy5mZWF0dXJlTlMsCmZlYXR1cmVQcmVmaXg6dGhpcy5mZWF0dXJlUHJlZml4LGZlYXR1cmVUeXBlOnRoaXMuZmVhdHVyZVR5cGUsc3JzTmFtZTp0aGlzLnNyc05hbWV9LGEpLGI9YS5mZWF0dXJlUHJlZml4LGM9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3ZnM6UXVlcnkiLHthdHRyaWJ1dGVzOnt0eXBlTmFtZTooYj9iKyI6IjoiIikrYS5mZWF0dXJlVHlwZSxzcnNOYW1lOmEuc3JzTmFtZX19KTthLmZlYXR1cmVOUyYmYy5zZXRBdHRyaWJ1dGUoInhtbG5zOiIrYixhLmZlYXR1cmVOUyk7aWYoYS5wcm9wZXJ0eU5hbWVzKWZvcih2YXIgYj0wLGQ9YS5wcm9wZXJ0eU5hbWVzLmxlbmd0aDtiPGQ7YisrKXRoaXMud3JpdGVOb2RlKCJ3ZnM6UHJvcGVydHlOYW1lIix7cHJvcGVydHk6YS5wcm9wZXJ0eU5hbWVzW2JdfSxjKTthLmZpbHRlciYmKE9wZW5MYXllcnMuRm9ybWF0LldGU1QudjFfMV8wLnByb3RvdHlwZS5zZXRGaWx0ZXJQcm9wZXJ0eS5jYWxsKHRoaXMsYS5maWx0ZXIpLHRoaXMud3JpdGVOb2RlKCJvZ2M6RmlsdGVyIiwKYS5maWx0ZXIsYykpO3JldHVybiBjfSxQcm9wZXJ0eU5hbWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid2ZzOlByb3BlcnR5TmFtZSIse3ZhbHVlOmEucHJvcGVydHl9KX19LE9wZW5MYXllcnMuRm9ybWF0LldGU1QudjEucHJvdG90eXBlLndyaXRlcnMud2ZzKSxnbWw6T3BlbkxheWVycy5Gb3JtYXQuR01MLnYzLnByb3RvdHlwZS53cml0ZXJzLmdtbCxmZWF0dXJlOk9wZW5MYXllcnMuRm9ybWF0LkdNTC52My5wcm90b3R5cGUud3JpdGVycy5mZWF0dXJlLG9nYzpPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIudjFfMV8wLnByb3RvdHlwZS53cml0ZXJzLm9nY30sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuV0ZTVC52MV8xXzAifSk7T3BlbkxheWVycy5MYW5nLmlzPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtQZXJtYWxpbms6IlZhcmFubGVndXIgdGVuZ2lsbCIsT3ZlcmxheXM6Ilx1MDBkZWVranVyIiwiQmFzZSBMYXllciI6IkdydW5ubGFnIiwiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6IlNrYWxpID0gMSA6ICR7c2NhbGVEZW5vbX0iLG1ldGhvZERlcHJlY2F0ZWQ6Ilx1MDBkZWV0dGEgZmFsbCBoZWZ1ciB2ZXJpXHUwMGYwIFx1MDBmYXJlbHQgb2cgdmVyXHUwMGYwdXIgZmphcmxcdTAwZTZndCBcdTAwZWQgMy4wLiBOb3RhXHUwMGYwdSAke25ld01ldGhvZH0gXHUwMGVkIHN0YVx1MDBmMGluLiJ9KTtPcGVuTGF5ZXJzLlByb3RvY29sPU9wZW5MYXllcnMuQ2xhc3Moe2Zvcm1hdDpudWxsLG9wdGlvbnM6bnVsbCxhdXRvRGVzdHJveTohMCxkZWZhdWx0RmlsdGVyOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXthPWF8fHt9O09wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcyxhKTt0aGlzLm9wdGlvbnM9YX0sbWVyZ2VXaXRoRGVmYXVsdEZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gYSYmdGhpcy5kZWZhdWx0RmlsdGVyP25ldyBPcGVuTGF5ZXJzLkZpbHRlci5Mb2dpY2FsKHt0eXBlOk9wZW5MYXllcnMuRmlsdGVyLkxvZ2ljYWwuQU5ELGZpbHRlcnM6W3RoaXMuZGVmYXVsdEZpbHRlcixhXX0pOmF8fHRoaXMuZGVmYXVsdEZpbHRlcnx8dm9pZCAwfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5mb3JtYXQ9dGhpcy5vcHRpb25zPW51bGx9LHJlYWQ6ZnVuY3Rpb24oYSl7YT1hfHx7fTthLmZpbHRlcj10aGlzLm1lcmdlV2l0aERlZmF1bHRGaWx0ZXIoYS5maWx0ZXIpfSxjcmVhdGU6ZnVuY3Rpb24oKXt9LAp1cGRhdGU6ZnVuY3Rpb24oKXt9LCJkZWxldGUiOmZ1bmN0aW9uKCl7fSxjb21taXQ6ZnVuY3Rpb24oKXt9LGFib3J0OmZ1bmN0aW9uKCl7fSxjcmVhdGVDYWxsYmFjazpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZChmdW5jdGlvbigpe2EuYXBwbHkodGhpcyxbYixjXSl9LHRoaXMpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlByb3RvY29sIn0pO09wZW5MYXllcnMuUHJvdG9jb2wuUmVzcG9uc2U9T3BlbkxheWVycy5DbGFzcyh7Y29kZTpudWxsLHJlcXVlc3RUeXBlOm51bGwsbGFzdDohMCxmZWF0dXJlczpudWxsLGRhdGE6bnVsbCxyZXFGZWF0dXJlczpudWxsLHByaXY6bnVsbCxlcnJvcjpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5VdGlsLmV4dGVuZCh0aGlzLGEpfSxzdWNjZXNzOmZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5jb2RlfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlIn0pOwpPcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlLlNVQ0NFU1M9MTtPcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlLkZBSUxVUkU9MDtPcGVuTGF5ZXJzLkZvcm1hdC5KU09OPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQse2luZGVudDoiICAgICIsc3BhY2U6IiAiLG5ld2xpbmU6IlxuIixsZXZlbDowLHByZXR0eTohMSxuYXRpdmVKU09OOmZ1bmN0aW9uKCl7cmV0dXJuISghd2luZG93LkpTT058fCEoImZ1bmN0aW9uIj09dHlwZW9mIEpTT04ucGFyc2UmJiJmdW5jdGlvbiI9PXR5cGVvZiBKU09OLnN0cmluZ2lmeSkpfSgpLHJlYWQ6ZnVuY3Rpb24oYSxiKXt2YXIgYztpZih0aGlzLm5hdGl2ZUpTT04pYz1KU09OLnBhcnNlKGEsYik7ZWxzZSB0cnl7aWYoL15bXF0sOnt9XHNdKiQvLnRlc3QoYS5yZXBsYWNlKC9cXFsiXFxcL2JmbnJ0dV0vZywiQCIpLnJlcGxhY2UoLyJbXiJcXFxuXHJdKiJ8dHJ1ZXxmYWxzZXxudWxsfC0/XGQrKD86XC5cZCopPyg/OltlRV1bK1wtXT9cZCspPy9nLCJdIikucmVwbGFjZSgvKD86Xnw6fCwpKD86XHMqXFspKy9nLCIiKSkmJihjPWV2YWwoIigiK2ErIikiKSwiZnVuY3Rpb24iPT09CnR5cGVvZiBiKSl7dmFyIGQ9ZnVuY3Rpb24oYSxjKXtpZihjJiYib2JqZWN0Ij09PXR5cGVvZiBjKWZvcih2YXIgZSBpbiBjKWMuaGFzT3duUHJvcGVydHkoZSkmJihjW2VdPWQoZSxjW2VdKSk7cmV0dXJuIGIoYSxjKX07Yz1kKCIiLGMpfX1jYXRjaChlKXt9dGhpcy5rZWVwRGF0YSYmKHRoaXMuZGF0YT1jKTtyZXR1cm4gY30sd3JpdGU6ZnVuY3Rpb24oYSxiKXt0aGlzLnByZXR0eT0hIWI7dmFyIGM9bnVsbCxkPXR5cGVvZiBhO2lmKHRoaXMuc2VyaWFsaXplW2RdKXRyeXtjPSF0aGlzLnByZXR0eSYmdGhpcy5uYXRpdmVKU09OP0pTT04uc3RyaW5naWZ5KGEpOnRoaXMuc2VyaWFsaXplW2RdLmFwcGx5KHRoaXMsW2FdKX1jYXRjaChlKXtPcGVuTGF5ZXJzLkNvbnNvbGUuZXJyb3IoIlRyb3VibGUgc2VyaWFsaXppbmc6ICIrZSl9cmV0dXJuIGN9LHdyaXRlSW5kZW50OmZ1bmN0aW9uKCl7dmFyIGE9W107aWYodGhpcy5wcmV0dHkpZm9yKHZhciBiPTA7Yjx0aGlzLmxldmVsOysrYilhLnB1c2godGhpcy5pbmRlbnQpOwpyZXR1cm4gYS5qb2luKCIiKX0sd3JpdGVOZXdsaW5lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldHR5P3RoaXMubmV3bGluZToiIn0sd3JpdGVTcGFjZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXR0eT90aGlzLnNwYWNlOiIifSxzZXJpYWxpemU6e29iamVjdDpmdW5jdGlvbihhKXtpZihudWxsPT1hKXJldHVybiJudWxsIjtpZihhLmNvbnN0cnVjdG9yPT1EYXRlKXJldHVybiB0aGlzLnNlcmlhbGl6ZS5kYXRlLmFwcGx5KHRoaXMsW2FdKTtpZihhLmNvbnN0cnVjdG9yPT1BcnJheSlyZXR1cm4gdGhpcy5zZXJpYWxpemUuYXJyYXkuYXBwbHkodGhpcyxbYV0pO3ZhciBiPVsieyJdO3RoaXMubGV2ZWwrPTE7dmFyIGMsZCxlLGY9ITE7Zm9yKGMgaW4gYSlhLmhhc093blByb3BlcnR5KGMpJiYoZD1PcGVuTGF5ZXJzLkZvcm1hdC5KU09OLnByb3RvdHlwZS53cml0ZS5hcHBseSh0aGlzLFtjLHRoaXMucHJldHR5XSksZT1PcGVuTGF5ZXJzLkZvcm1hdC5KU09OLnByb3RvdHlwZS53cml0ZS5hcHBseSh0aGlzLApbYVtjXSx0aGlzLnByZXR0eV0pLG51bGwhPWQmJm51bGwhPWUmJihmJiZiLnB1c2goIiwiKSxiLnB1c2godGhpcy53cml0ZU5ld2xpbmUoKSx0aGlzLndyaXRlSW5kZW50KCksZCwiOiIsdGhpcy53cml0ZVNwYWNlKCksZSksZj0hMCkpO3RoaXMubGV2ZWwtPTE7Yi5wdXNoKHRoaXMud3JpdGVOZXdsaW5lKCksdGhpcy53cml0ZUluZGVudCgpLCJ9Iik7cmV0dXJuIGIuam9pbigiIil9LGFycmF5OmZ1bmN0aW9uKGEpe3ZhciBiLGM9WyJbIl07dGhpcy5sZXZlbCs9MTtmb3IodmFyIGQ9MCxlPWEubGVuZ3RoO2Q8ZTsrK2QpYj1PcGVuTGF5ZXJzLkZvcm1hdC5KU09OLnByb3RvdHlwZS53cml0ZS5hcHBseSh0aGlzLFthW2RdLHRoaXMucHJldHR5XSksbnVsbCE9YiYmKDA8ZCYmYy5wdXNoKCIsIiksYy5wdXNoKHRoaXMud3JpdGVOZXdsaW5lKCksdGhpcy53cml0ZUluZGVudCgpLGIpKTt0aGlzLmxldmVsLT0xO2MucHVzaCh0aGlzLndyaXRlTmV3bGluZSgpLHRoaXMud3JpdGVJbmRlbnQoKSwKIl0iKTtyZXR1cm4gYy5qb2luKCIiKX0sc3RyaW5nOmZ1bmN0aW9uKGEpe3ZhciBiPXsiXGIiOiJcXGIiLCJcdCI6IlxcdCIsIlxuIjoiXFxuIiwiXGYiOiJcXGYiLCJcciI6IlxcciIsJyInOidcXCInLCJcXCI6IlxcXFwifTtyZXR1cm4vWyJcXFx4MDAtXHgxZl0vLnRlc3QoYSk/JyInK2EucmVwbGFjZSgvKFtceDAwLVx4MWZcXCJdKS9nLGZ1bmN0aW9uKGEsZCl7dmFyIGU9YltkXTtpZihlKXJldHVybiBlO2U9ZC5jaGFyQ29kZUF0KCk7cmV0dXJuIlxcdTAwIitNYXRoLmZsb29yKGUvMTYpLnRvU3RyaW5nKDE2KSsoZSUxNikudG9TdHJpbmcoMTYpfSkrJyInOiciJythKyciJ30sbnVtYmVyOmZ1bmN0aW9uKGEpe3JldHVybiBpc0Zpbml0ZShhKT9TdHJpbmcoYSk6Im51bGwifSwiYm9vbGVhbiI6ZnVuY3Rpb24oYSl7cmV0dXJuIFN0cmluZyhhKX0sZGF0ZTpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiAxMD5hPyIwIithOmF9cmV0dXJuJyInK2EuZ2V0RnVsbFllYXIoKSsKIi0iK2IoYS5nZXRNb250aCgpKzEpKyItIitiKGEuZ2V0RGF0ZSgpKSsiVCIrYihhLmdldEhvdXJzKCkpKyI6IitiKGEuZ2V0TWludXRlcygpKSsiOiIrYihhLmdldFNlY29uZHMoKSkrJyInfX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuSlNPTiJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5HZW9KU09OPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuSlNPTix7aWdub3JlRXh0cmFEaW1zOiExLHJlYWQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBiPWI/YjoiRmVhdHVyZUNvbGxlY3Rpb24iLGQ9bnVsbCxlPW51bGw7aWYoZT0ic3RyaW5nIj09dHlwZW9mIGE/T3BlbkxheWVycy5Gb3JtYXQuSlNPTi5wcm90b3R5cGUucmVhZC5hcHBseSh0aGlzLFthLGNdKTphKWlmKCJzdHJpbmciIT10eXBlb2YgZS50eXBlKU9wZW5MYXllcnMuQ29uc29sZS5lcnJvcigiQmFkIEdlb0pTT04gLSBubyB0eXBlOiAiK2EpO2Vsc2V7aWYodGhpcy5pc1ZhbGlkVHlwZShlLGIpKXN3aXRjaChiKXtjYXNlICJHZW9tZXRyeSI6dHJ5e2Q9dGhpcy5wYXJzZUdlb21ldHJ5KGUpfWNhdGNoKGYpe09wZW5MYXllcnMuQ29uc29sZS5lcnJvcihmKX1icmVhaztjYXNlICJGZWF0dXJlIjp0cnl7ZD10aGlzLnBhcnNlRmVhdHVyZShlKSxkLnR5cGU9IkZlYXR1cmUifWNhdGNoKGcpe09wZW5MYXllcnMuQ29uc29sZS5lcnJvcihnKX1icmVhazsKY2FzZSAiRmVhdHVyZUNvbGxlY3Rpb24iOnN3aXRjaChkPVtdLGUudHlwZSl7Y2FzZSAiRmVhdHVyZSI6dHJ5e2QucHVzaCh0aGlzLnBhcnNlRmVhdHVyZShlKSl9Y2F0Y2goaCl7ZD1udWxsLE9wZW5MYXllcnMuQ29uc29sZS5lcnJvcihoKX1icmVhaztjYXNlICJGZWF0dXJlQ29sbGVjdGlvbiI6YT0wO2ZvcihiPWUuZmVhdHVyZXMubGVuZ3RoO2E8YjsrK2EpdHJ5e2QucHVzaCh0aGlzLnBhcnNlRmVhdHVyZShlLmZlYXR1cmVzW2FdKSl9Y2F0Y2goaSl7ZD1udWxsLE9wZW5MYXllcnMuQ29uc29sZS5lcnJvcihpKX1icmVhaztkZWZhdWx0OnRyeXt2YXIgaj10aGlzLnBhcnNlR2VvbWV0cnkoZSk7ZC5wdXNoKG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKGopKX1jYXRjaChrKXtkPW51bGwsT3BlbkxheWVycy5Db25zb2xlLmVycm9yKGspfX19fWVsc2UgT3BlbkxheWVycy5Db25zb2xlLmVycm9yKCJCYWQgSlNPTjogIithKTtyZXR1cm4gZH0saXNWYWxpZFR5cGU6ZnVuY3Rpb24oYSwKYil7dmFyIGM9ITE7c3dpdGNoKGIpe2Nhc2UgIkdlb21ldHJ5IjotMT09T3BlbkxheWVycy5VdGlsLmluZGV4T2YoIlBvaW50IE11bHRpUG9pbnQgTGluZVN0cmluZyBNdWx0aUxpbmVTdHJpbmcgUG9seWdvbiBNdWx0aVBvbHlnb24gQm94IEdlb21ldHJ5Q29sbGVjdGlvbiIuc3BsaXQoIiAiKSxhLnR5cGUpP09wZW5MYXllcnMuQ29uc29sZS5lcnJvcigiVW5zdXBwb3J0ZWQgZ2VvbWV0cnkgdHlwZTogIithLnR5cGUpOmM9ITA7YnJlYWs7Y2FzZSAiRmVhdHVyZUNvbGxlY3Rpb24iOmM9ITA7YnJlYWs7ZGVmYXVsdDphLnR5cGU9PWI/Yz0hMDpPcGVuTGF5ZXJzLkNvbnNvbGUuZXJyb3IoIkNhbm5vdCBjb252ZXJ0IHR5cGVzIGZyb20gIithLnR5cGUrIiB0byAiK2IpfXJldHVybiBjfSxwYXJzZUZlYXR1cmU6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkO2M9YS5wcm9wZXJ0aWVzP2EucHJvcGVydGllczp7fTtkPWEuZ2VvbWV0cnkmJmEuZ2VvbWV0cnkuYmJveHx8YS5iYm94O3RyeXtiPXRoaXMucGFyc2VHZW9tZXRyeShhLmdlb21ldHJ5KX1jYXRjaChlKXt0aHJvdyBlOwp9Yj1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihiLGMpO2QmJihiLmJvdW5kcz1PcGVuTGF5ZXJzLkJvdW5kcy5mcm9tQXJyYXkoZCkpO2EuaWQmJihiLmZpZD1hLmlkKTtyZXR1cm4gYn0scGFyc2VHZW9tZXRyeTpmdW5jdGlvbihhKXtpZihudWxsPT1hKXJldHVybiBudWxsO3ZhciBiLGM9ITE7aWYoIkdlb21ldHJ5Q29sbGVjdGlvbiI9PWEudHlwZSl7aWYoIU9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEuZ2VvbWV0cmllcykpdGhyb3ciR2VvbWV0cnlDb2xsZWN0aW9uIG11c3QgaGF2ZSBnZW9tZXRyaWVzIGFycmF5OiAiK2E7Yj1hLmdlb21ldHJpZXMubGVuZ3RoO2Zvcih2YXIgYz1BcnJheShiKSxkPTA7ZDxiOysrZCljW2RdPXRoaXMucGFyc2VHZW9tZXRyeS5hcHBseSh0aGlzLFthLmdlb21ldHJpZXNbZF1dKTtiPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LkNvbGxlY3Rpb24oYyk7Yz0hMH1lbHNle2lmKCFPcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShhLmNvb3JkaW5hdGVzKSl0aHJvdyJHZW9tZXRyeSBtdXN0IGhhdmUgY29vcmRpbmF0ZXMgYXJyYXk6ICIrCmE7aWYoIXRoaXMucGFyc2VDb29yZHNbYS50eXBlLnRvTG93ZXJDYXNlKCldKXRocm93IlVuc3VwcG9ydGVkIGdlb21ldHJ5IHR5cGU6ICIrYS50eXBlO3RyeXtiPXRoaXMucGFyc2VDb29yZHNbYS50eXBlLnRvTG93ZXJDYXNlKCldLmFwcGx5KHRoaXMsW2EuY29vcmRpbmF0ZXNdKX1jYXRjaChlKXt0aHJvdyBlO319dGhpcy5pbnRlcm5hbFByb2plY3Rpb24mJih0aGlzLmV4dGVybmFsUHJvamVjdGlvbiYmIWMpJiZiLnRyYW5zZm9ybSh0aGlzLmV4dGVybmFsUHJvamVjdGlvbix0aGlzLmludGVybmFsUHJvamVjdGlvbik7cmV0dXJuIGJ9LHBhcnNlQ29vcmRzOntwb2ludDpmdW5jdGlvbihhKXtpZighMT09dGhpcy5pZ25vcmVFeHRyYURpbXMmJjIhPWEubGVuZ3RoKXRocm93Ik9ubHkgMkQgcG9pbnRzIGFyZSBzdXBwb3J0ZWQ6ICIrYTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoYVswXSxhWzFdKX0sbXVsdGlwb2ludDpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sCmM9bnVsbCxkPTAsZT1hLmxlbmd0aDtkPGU7KytkKXt0cnl7Yz10aGlzLnBhcnNlQ29vcmRzLnBvaW50LmFwcGx5KHRoaXMsW2FbZF1dKX1jYXRjaChmKXt0aHJvdyBmO31iLnB1c2goYyl9cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpUG9pbnQoYil9LGxpbmVzdHJpbmc6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9bnVsbCxkPTAsZT1hLmxlbmd0aDtkPGU7KytkKXt0cnl7Yz10aGlzLnBhcnNlQ29vcmRzLnBvaW50LmFwcGx5KHRoaXMsW2FbZF1dKX1jYXRjaChmKXt0aHJvdyBmO31iLnB1c2goYyl9cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmcoYil9LG11bHRpbGluZXN0cmluZzpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz1udWxsLGQ9MCxlPWEubGVuZ3RoO2Q8ZTsrK2Qpe3RyeXtjPXRoaXMucGFyc2VDb29yZHMubGluZXN0cmluZy5hcHBseSh0aGlzLFthW2RdXSl9Y2F0Y2goZil7dGhyb3cgZjt9Yi5wdXNoKGMpfXJldHVybiBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aUxpbmVTdHJpbmcoYil9LApwb2x5Z29uOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjLGQsZT0wLGY9YS5sZW5ndGg7ZTxmOysrZSl7dHJ5e2Q9dGhpcy5wYXJzZUNvb3Jkcy5saW5lc3RyaW5nLmFwcGx5KHRoaXMsW2FbZV1dKX1jYXRjaChnKXt0aHJvdyBnO31jPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVhclJpbmcoZC5jb21wb25lbnRzKTtiLnB1c2goYyl9cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24oYil9LG11bHRpcG9seWdvbjpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz1udWxsLGQ9MCxlPWEubGVuZ3RoO2Q8ZTsrK2Qpe3RyeXtjPXRoaXMucGFyc2VDb29yZHMucG9seWdvbi5hcHBseSh0aGlzLFthW2RdXSl9Y2F0Y2goZil7dGhyb3cgZjt9Yi5wdXNoKGMpfXJldHVybiBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aVBvbHlnb24oYil9LGJveDpmdW5jdGlvbihhKXtpZigyIT1hLmxlbmd0aCl0aHJvdyJHZW9KU09OIGJveCBjb29yZGluYXRlcyBtdXN0IGhhdmUgMiBlbGVtZW50cyI7CnJldHVybiBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uKFtuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lYXJSaW5nKFtuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChhWzBdWzBdLGFbMF1bMV0pLG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGFbMV1bMF0sYVswXVsxXSksbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoYVsxXVswXSxhWzFdWzFdKSxuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChhWzBdWzBdLGFbMV1bMV0pLG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGFbMF1bMF0sYVswXVsxXSldKV0pfX0sd3JpdGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz17dHlwZTpudWxsfTtpZihPcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShhKSl7Yy50eXBlPSJGZWF0dXJlQ29sbGVjdGlvbiI7dmFyIGQ9YS5sZW5ndGg7Yy5mZWF0dXJlcz1BcnJheShkKTtmb3IodmFyIGU9MDtlPGQ7KytlKXt2YXIgZj1hW2VdO2lmKCFmIGluc3RhbmNlb2YgT3BlbkxheWVycy5GZWF0dXJlLlZlY3Rvcil0aHJvdyJGZWF0dXJlQ29sbGVjdGlvbiBvbmx5IHN1cHBvcnRzIGNvbGxlY3Rpb25zIG9mIGZlYXR1cmVzOiAiKwpmO2MuZmVhdHVyZXNbZV09dGhpcy5leHRyYWN0LmZlYXR1cmUuYXBwbHkodGhpcyxbZl0pfX1lbHNlIDA9PWEuQ0xBU1NfTkFNRS5pbmRleE9mKCJPcGVuTGF5ZXJzLkdlb21ldHJ5Iik/Yz10aGlzLmV4dHJhY3QuZ2VvbWV0cnkuYXBwbHkodGhpcyxbYV0pOmEgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yJiYoYz10aGlzLmV4dHJhY3QuZmVhdHVyZS5hcHBseSh0aGlzLFthXSksYS5sYXllciYmYS5sYXllci5wcm9qZWN0aW9uJiYoYy5jcnM9dGhpcy5jcmVhdGVDUlNPYmplY3QoYSkpKTtyZXR1cm4gT3BlbkxheWVycy5Gb3JtYXQuSlNPTi5wcm90b3R5cGUud3JpdGUuYXBwbHkodGhpcyxbYyxiXSl9LGNyZWF0ZUNSU09iamVjdDpmdW5jdGlvbihhKXt2YXIgYT1hLmxheWVyLnByb2plY3Rpb24udG9TdHJpbmcoKSxiPXt9O2EubWF0Y2goL2Vwc2c6L2kpJiYoYT1wYXJzZUludChhLnN1YnN0cmluZyhhLmluZGV4T2YoIjoiKSsxKSksYj00MzI2PT1hP3t0eXBlOiJuYW1lIiwKcHJvcGVydGllczp7bmFtZToidXJuOm9nYzpkZWY6Y3JzOk9HQzoxLjM6Q1JTODQifX06e3R5cGU6Im5hbWUiLHByb3BlcnRpZXM6e25hbWU6IkVQU0c6IithfX0pO3JldHVybiBifSxleHRyYWN0OntmZWF0dXJlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZXh0cmFjdC5nZW9tZXRyeS5hcHBseSh0aGlzLFthLmdlb21ldHJ5XSksYj17dHlwZToiRmVhdHVyZSIscHJvcGVydGllczphLmF0dHJpYnV0ZXMsZ2VvbWV0cnk6Yn07bnVsbCE9YS5maWQmJihiLmlkPWEuZmlkKTtyZXR1cm4gYn0sZ2VvbWV0cnk6ZnVuY3Rpb24oYSl7aWYobnVsbD09YSlyZXR1cm4gbnVsbDt0aGlzLmludGVybmFsUHJvamVjdGlvbiYmdGhpcy5leHRlcm5hbFByb2plY3Rpb24mJihhPWEuY2xvbmUoKSxhLnRyYW5zZm9ybSh0aGlzLmludGVybmFsUHJvamVjdGlvbix0aGlzLmV4dGVybmFsUHJvamVjdGlvbikpO3ZhciBiPWEuQ0xBU1NfTkFNRS5zcGxpdCgiLiIpWzJdLGE9dGhpcy5leHRyYWN0W2IudG9Mb3dlckNhc2UoKV0uYXBwbHkodGhpcywKW2FdKTtyZXR1cm4iQ29sbGVjdGlvbiI9PWI/e3R5cGU6Ikdlb21ldHJ5Q29sbGVjdGlvbiIsZ2VvbWV0cmllczphfTp7dHlwZTpiLGNvb3JkaW5hdGVzOmF9fSxwb2ludDpmdW5jdGlvbihhKXtyZXR1cm5bYS54LGEueV19LG11bHRpcG9pbnQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MCxkPWEuY29tcG9uZW50cy5sZW5ndGg7YzxkOysrYyliLnB1c2godGhpcy5leHRyYWN0LnBvaW50LmFwcGx5KHRoaXMsW2EuY29tcG9uZW50c1tjXV0pKTtyZXR1cm4gYn0sbGluZXN0cmluZzpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz0wLGQ9YS5jb21wb25lbnRzLmxlbmd0aDtjPGQ7KytjKWIucHVzaCh0aGlzLmV4dHJhY3QucG9pbnQuYXBwbHkodGhpcyxbYS5jb21wb25lbnRzW2NdXSkpO3JldHVybiBifSxtdWx0aWxpbmVzdHJpbmc6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MCxkPWEuY29tcG9uZW50cy5sZW5ndGg7YzxkOysrYyliLnB1c2godGhpcy5leHRyYWN0LmxpbmVzdHJpbmcuYXBwbHkodGhpcywKW2EuY29tcG9uZW50c1tjXV0pKTtyZXR1cm4gYn0scG9seWdvbjpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz0wLGQ9YS5jb21wb25lbnRzLmxlbmd0aDtjPGQ7KytjKWIucHVzaCh0aGlzLmV4dHJhY3QubGluZXN0cmluZy5hcHBseSh0aGlzLFthLmNvbXBvbmVudHNbY11dKSk7cmV0dXJuIGJ9LG11bHRpcG9seWdvbjpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz0wLGQ9YS5jb21wb25lbnRzLmxlbmd0aDtjPGQ7KytjKWIucHVzaCh0aGlzLmV4dHJhY3QucG9seWdvbi5hcHBseSh0aGlzLFthLmNvbXBvbmVudHNbY11dKSk7cmV0dXJuIGJ9LGNvbGxlY3Rpb246ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEuY29tcG9uZW50cy5sZW5ndGgsYz1BcnJheShiKSxkPTA7ZDxiOysrZCljW2RdPXRoaXMuZXh0cmFjdC5nZW9tZXRyeS5hcHBseSh0aGlzLFthLmNvbXBvbmVudHNbZF1dKTtyZXR1cm4gY319LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0Lkdlb0pTT04ifSk7T3BlbkxheWVycy5Qcm90b2NvbC5TY3JpcHQ9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlByb3RvY29sLHt1cmw6bnVsbCxwYXJhbXM6bnVsbCxjYWxsYmFjazpudWxsLGNhbGxiYWNrVGVtcGxhdGU6Ik9wZW5MYXllcnMuUHJvdG9jb2wuU2NyaXB0LnJlZ2lzdHJ5LiR7aWR9IixjYWxsYmFja0tleToiY2FsbGJhY2siLGNhbGxiYWNrUHJlZml4OiIiLHNjb3BlOm51bGwsZm9ybWF0Om51bGwscGVuZGluZ1JlcXVlc3RzOm51bGwsc3JzSW5CQk9YOiExLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7YT1hfHx7fTt0aGlzLnBhcmFtcz17fTt0aGlzLnBlbmRpbmdSZXF1ZXN0cz17fTtPcGVuTGF5ZXJzLlByb3RvY29sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmZvcm1hdHx8KHRoaXMuZm9ybWF0PW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5HZW9KU09OKTtpZighdGhpcy5maWx0ZXJUb1BhcmFtcyYmT3BlbkxheWVycy5Gb3JtYXQuUXVlcnlTdHJpbmdGaWx0ZXIpe3ZhciBiPQpuZXcgT3BlbkxheWVycy5Gb3JtYXQuUXVlcnlTdHJpbmdGaWx0ZXIoe3Nyc0luQkJPWDp0aGlzLnNyc0luQkJPWH0pO3RoaXMuZmlsdGVyVG9QYXJhbXM9ZnVuY3Rpb24oYSxkKXtyZXR1cm4gYi53cml0ZShhLGQpfX19LHJlYWQ6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Qcm90b2NvbC5wcm90b3R5cGUucmVhZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YT1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLHRoaXMub3B0aW9ucyk7YS5wYXJhbXM9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYS5wYXJhbXMsdGhpcy5vcHRpb25zLnBhcmFtcyk7YS5maWx0ZXImJnRoaXMuZmlsdGVyVG9QYXJhbXMmJihhLnBhcmFtcz10aGlzLmZpbHRlclRvUGFyYW1zKGEuZmlsdGVyLGEucGFyYW1zKSk7dmFyIGI9bmV3IE9wZW5MYXllcnMuUHJvdG9jb2wuUmVzcG9uc2Uoe3JlcXVlc3RUeXBlOiJyZWFkIn0pLGM9dGhpcy5jcmVhdGVSZXF1ZXN0KGEudXJsLGEucGFyYW1zLE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZChmdW5jdGlvbihjKXtiLmRhdGE9CmM7dGhpcy5oYW5kbGVSZWFkKGIsYSl9LHRoaXMpKTtiLnByaXY9YztyZXR1cm4gYn0sY3JlYXRlUmVxdWVzdDpmdW5jdGlvbihhLGIsYyl7dmFyIGM9T3BlbkxheWVycy5Qcm90b2NvbC5TY3JpcHQucmVnaXN0ZXIoYyksZD1PcGVuTGF5ZXJzLlN0cmluZy5mb3JtYXQodGhpcy5jYWxsYmFja1RlbXBsYXRlLHtpZDpjfSksYj1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LGIpO2JbdGhpcy5jYWxsYmFja0tleV09dGhpcy5jYWxsYmFja1ByZWZpeCtkO2E9T3BlbkxheWVycy5VdGlsLnVybEFwcGVuZChhLE9wZW5MYXllcnMuVXRpbC5nZXRQYXJhbWV0ZXJTdHJpbmcoYikpO2I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7Yi50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiO2Iuc3JjPWE7Yi5pZD0iT3BlbkxheWVyc19Qcm90b2NvbF9TY3JpcHRfIitjO3RoaXMucGVuZGluZ1JlcXVlc3RzW2IuaWRdPWI7ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXS5hcHBlbmRDaGlsZChiKTsKcmV0dXJuIGJ9LGRlc3Ryb3lSZXF1ZXN0OmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuUHJvdG9jb2wuU2NyaXB0LnVucmVnaXN0ZXIoYS5pZC5zcGxpdCgiXyIpLnBvcCgpKTtkZWxldGUgdGhpcy5wZW5kaW5nUmVxdWVzdHNbYS5pZF07YS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSl9LGhhbmRsZVJlYWQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmhhbmRsZVJlc3BvbnNlKGEsYil9LGhhbmRsZVJlc3BvbnNlOmZ1bmN0aW9uKGEsYil7Yi5jYWxsYmFjayYmKGEuZGF0YT8oYS5mZWF0dXJlcz10aGlzLnBhcnNlRmVhdHVyZXMoYS5kYXRhKSxhLmNvZGU9T3BlbkxheWVycy5Qcm90b2NvbC5SZXNwb25zZS5TVUNDRVNTKTphLmNvZGU9T3BlbkxheWVycy5Qcm90b2NvbC5SZXNwb25zZS5GQUlMVVJFLHRoaXMuZGVzdHJveVJlcXVlc3QoYS5wcml2KSxiLmNhbGxiYWNrLmNhbGwoYi5zY29wZSxhKSl9LHBhcnNlRmVhdHVyZXM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZm9ybWF0LnJlYWQoYSl9LAphYm9ydDpmdW5jdGlvbihhKXtpZihhKXRoaXMuZGVzdHJveVJlcXVlc3QoYS5wcml2KTtlbHNlIGZvcih2YXIgYiBpbiB0aGlzLnBlbmRpbmdSZXF1ZXN0cyl0aGlzLmRlc3Ryb3lSZXF1ZXN0KHRoaXMucGVuZGluZ1JlcXVlc3RzW2JdKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuYWJvcnQoKTtkZWxldGUgdGhpcy5wYXJhbXM7ZGVsZXRlIHRoaXMuZm9ybWF0O09wZW5MYXllcnMuUHJvdG9jb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuUHJvdG9jb2wuU2NyaXB0In0pOyhmdW5jdGlvbigpe3ZhciBhPU9wZW5MYXllcnMuUHJvdG9jb2wuU2NyaXB0LGI9MDthLnJlZ2lzdHJ5PXt9O2EucmVnaXN0ZXI9ZnVuY3Rpb24oYyl7dmFyIGQ9ImMiKyArK2I7YS5yZWdpc3RyeVtkXT1mdW5jdGlvbigpe2MuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gZH07YS51bnJlZ2lzdGVyPWZ1bmN0aW9uKGIpe2RlbGV0ZSBhLnJlZ2lzdHJ5W2JdfX0pKCk7T3BlbkxheWVycy5Gb3JtYXQuRW5jb2RlZFBvbHlsaW5lPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQse2dlb21ldHJ5VHlwZToibGluZXN0cmluZyIsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkZvcm1hdC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSl9LHJlYWQ6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoImxpbmVzdHJpbmciPT10aGlzLmdlb21ldHJ5VHlwZSliPU9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZztlbHNlIGlmKCJsaW5lYXJyaW5nIj09dGhpcy5nZW9tZXRyeVR5cGUpYj1PcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVhclJpbmc7ZWxzZSBpZigibXVsdGlwb2ludCI9PXRoaXMuZ2VvbWV0cnlUeXBlKWI9T3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aVBvaW50O2Vsc2UgaWYoInBvaW50IiE9dGhpcy5nZW9tZXRyeVR5cGUmJiJwb2x5Z29uIiE9dGhpcy5nZW9tZXRyeVR5cGUpcmV0dXJuIG51bGw7Zm9yKHZhciBhPXRoaXMuZGVjb2RlRGVsdGFzKGEsCjIpLGM9YS5sZW5ndGgsZD1bXSxlPTA7ZSsxPGM7KXt2YXIgZj1hW2UrK10sZz1hW2UrK107ZC5wdXNoKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGcsZikpfXJldHVybiJwb2ludCI9PXRoaXMuZ2VvbWV0cnlUeXBlP25ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKGRbMF0pOiJwb2x5Z29uIj09dGhpcy5nZW9tZXRyeVR5cGU/bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbihbbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyhkKV0pKTpuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihuZXcgYihkKSl9LGRlY29kZTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBhPXRoaXMuZGVjb2RlRGVsdGFzKGEsYixjfHwxRTUpLGM9YS5sZW5ndGgsZD1bXSxlPTA7ZSsoYi0xKTxjOyl7Zm9yKHZhciBmPVtdLGc9MDtnPGI7KytnKWYucHVzaChhW2UrK10pO2QucHVzaChmKX1yZXR1cm4gZH0sd3JpdGU6ZnVuY3Rpb24oYSl7dmFyIGE9CihhLmNvbnN0cnVjdG9yPT1BcnJheT9hWzBdOmEpLmdlb21ldHJ5LGI9YS5DTEFTU19OQU1FLnNwbGl0KCIuIilbMl0udG9Mb3dlckNhc2UoKTtpZigicG9pbnQiPT1iKWE9QXJyYXkoYSk7ZWxzZSBpZigibGluZXN0cmluZyI9PWJ8fCJsaW5lYXJyaW5nIj09Ynx8Im11bHRpcG9pbnQiPT1iKWE9YS5jb21wb25lbnRzO2Vsc2UgaWYoInBvbHlnb24iPT1iKWE9YS5jb21wb25lbnRzWzBdLmNvbXBvbmVudHM7ZWxzZSByZXR1cm4gbnVsbDtmb3IodmFyIGI9W10sYz1hLmxlbmd0aCxkPTA7ZDxjOysrZCl7dmFyIGU9YVtkXTtiLnB1c2goZS55KTtiLnB1c2goZS54KX1yZXR1cm4gdGhpcy5lbmNvZGVEZWx0YXMoYiwyKX0sZW5jb2RlOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGM9Y3x8MUU1LGQ9W10sZT1hLmxlbmd0aCxmPTA7ZjxlOysrZilmb3IodmFyIGc9YVtmXSxoPTA7aDxiOysraClkLnB1c2goZ1toXSk7cmV0dXJuIHRoaXMuZW5jb2RlRGVsdGFzKGQsYixjKX0sZW5jb2RlRGVsdGFzOmZ1bmN0aW9uKGEsCmIsYyl7dmFyIGQsZT1BcnJheShiKTtmb3IoZD0wO2Q8YjsrK2QpZVtkXT0wO2Zvcih2YXIgZj1hLmxlbmd0aCxnPTA7ZzxmOylmb3IoZD0wO2Q8YjsrK2QsKytnKXt2YXIgaD1hW2ddLGk9aC1lW2RdO2VbZF09aDthW2ddPWl9cmV0dXJuIHRoaXMuZW5jb2RlRmxvYXRzKGEsY3x8MUU1KX0sZGVjb2RlRGVsdGFzOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPUFycmF5KGIpO2ZvcihkPTA7ZDxiOysrZCllW2RdPTA7Zm9yKHZhciBhPXRoaXMuZGVjb2RlRmxvYXRzKGEsY3x8MUU1KSxjPWEubGVuZ3RoLGY9MDtmPGM7KWZvcihkPTA7ZDxiOysrZCwrK2YpZVtkXSs9YVtmXSxhW2ZdPWVbZF07cmV0dXJuIGF9LGVuY29kZUZsb2F0czpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1ifHwxRTUsZD1hLmxlbmd0aCxlPTA7ZTxkOysrZSlhW2VdPU1hdGgucm91bmQoYVtlXSpjKTtyZXR1cm4gdGhpcy5lbmNvZGVTaWduZWRJbnRlZ2VycyhhKX0sZGVjb2RlRmxvYXRzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPQpifHwxRTUsZD10aGlzLmRlY29kZVNpZ25lZEludGVnZXJzKGEpLGU9ZC5sZW5ndGgsZj0wO2Y8ZTsrK2YpZFtmXS89YztyZXR1cm4gZH0sZW5jb2RlU2lnbmVkSW50ZWdlcnM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEubGVuZ3RoLGM9MDtjPGI7KytjKXt2YXIgZD1hW2NdLGU9ZDw8MTswPmQmJihlPX5lKTthW2NdPWV9cmV0dXJuIHRoaXMuZW5jb2RlVW5zaWduZWRJbnRlZ2VycyhhKX0sZGVjb2RlU2lnbmVkSW50ZWdlcnM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBhPXRoaXMuZGVjb2RlVW5zaWduZWRJbnRlZ2VycyhhKSxiPWEubGVuZ3RoLGM9MDtjPGI7KytjKXt2YXIgZD1hW2NdO2FbY109ZCYxP34oZD4+MSk6ZD4+MX1yZXR1cm4gYX0sZW5jb2RlVW5zaWduZWRJbnRlZ2VyczpmdW5jdGlvbihhKXtmb3IodmFyIGI9IiIsYz1hLmxlbmd0aCxkPTA7ZDxjOysrZCliKz10aGlzLmVuY29kZVVuc2lnbmVkSW50ZWdlcihhW2RdKTtyZXR1cm4gYn0sZGVjb2RlVW5zaWduZWRJbnRlZ2VyczpmdW5jdGlvbihhKXtmb3IodmFyIGI9CltdLGM9MCxkPTAsZT1hLmxlbmd0aCxmPTA7ZjxlOysrZil7dmFyIGc9YS5jaGFyQ29kZUF0KGYpLTYzLGM9Y3woZyYzMSk8PGQ7MzI+Zz8oYi5wdXNoKGMpLGQ9Yz0wKTpkKz01fXJldHVybiBifSxlbmNvZGVGbG9hdDpmdW5jdGlvbihhLGIpe2E9TWF0aC5yb3VuZChhKihifHwxRTUpKTtyZXR1cm4gdGhpcy5lbmNvZGVTaWduZWRJbnRlZ2VyKGEpfSxkZWNvZGVGbG9hdDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmRlY29kZVNpZ25lZEludGVnZXIoYSkvKGJ8fDFFNSl9LGVuY29kZVNpZ25lZEludGVnZXI6ZnVuY3Rpb24oYSl7dmFyIGI9YTw8MTswPmEmJihiPX5iKTtyZXR1cm4gdGhpcy5lbmNvZGVVbnNpZ25lZEludGVnZXIoYil9LGRlY29kZVNpZ25lZEludGVnZXI6ZnVuY3Rpb24oYSl7YT10aGlzLmRlY29kZVVuc2lnbmVkSW50ZWdlcihhKTtyZXR1cm4gYSYxP34oYT4+MSk6YT4+MX0sZW5jb2RlVW5zaWduZWRJbnRlZ2VyOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPSIiOzMyPD0KYTspYj0oMzJ8YSYzMSkrNjMsYys9U3RyaW5nLmZyb21DaGFyQ29kZShiKSxhPj49NTtyZXR1cm4gYys9U3RyaW5nLmZyb21DaGFyQ29kZShhKzYzKX0sZGVjb2RlVW5zaWduZWRJbnRlZ2VyOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9MCxkPWEubGVuZ3RoLGU9MDtlPGQ7KytlKXt2YXIgZj1hLmNoYXJDb2RlQXQoZSktNjMsYj1ifChmJjMxKTw8YztpZigzMj5mKWJyZWFrO2MrPTV9cmV0dXJuIGJ9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LkVuY29kZWRQb2x5bGluZSJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2w9T3BlbkxheWVycy5DbGFzcyh7aWQ6bnVsbCxtYXA6bnVsbCxkaXY6bnVsbCx0eXBlOm51bGwsYWxsb3dTZWxlY3Rpb246ITEsZGlzcGxheUNsYXNzOiIiLHRpdGxlOiIiLGF1dG9BY3RpdmF0ZTohMSxhY3RpdmU6bnVsbCxoYW5kbGVyT3B0aW9uczpudWxsLGhhbmRsZXI6bnVsbCxldmVudExpc3RlbmVyczpudWxsLGV2ZW50czpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7dGhpcy5kaXNwbGF5Q2xhc3M9dGhpcy5DTEFTU19OQU1FLnJlcGxhY2UoIk9wZW5MYXllcnMuIiwib2wiKS5yZXBsYWNlKC9cLi9nLCIiKTtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsYSk7dGhpcy5ldmVudHM9bmV3IE9wZW5MYXllcnMuRXZlbnRzKHRoaXMpO2lmKHRoaXMuZXZlbnRMaXN0ZW5lcnMgaW5zdGFuY2VvZiBPYmplY3QpdGhpcy5ldmVudHMub24odGhpcy5ldmVudExpc3RlbmVycyk7bnVsbD09dGhpcy5pZCYmKHRoaXMuaWQ9T3BlbkxheWVycy5VdGlsLmNyZWF0ZVVuaXF1ZUlEKHRoaXMuQ0xBU1NfTkFNRSsKIl8iKSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmV2ZW50cyYmKHRoaXMuZXZlbnRMaXN0ZW5lcnMmJnRoaXMuZXZlbnRzLnVuKHRoaXMuZXZlbnRMaXN0ZW5lcnMpLHRoaXMuZXZlbnRzLmRlc3Ryb3koKSx0aGlzLmV2ZW50cz1udWxsKTt0aGlzLmV2ZW50TGlzdGVuZXJzPW51bGw7dGhpcy5oYW5kbGVyJiYodGhpcy5oYW5kbGVyLmRlc3Ryb3koKSx0aGlzLmhhbmRsZXI9bnVsbCk7aWYodGhpcy5oYW5kbGVycyl7Zm9yKHZhciBhIGluIHRoaXMuaGFuZGxlcnMpdGhpcy5oYW5kbGVycy5oYXNPd25Qcm9wZXJ0eShhKSYmImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuaGFuZGxlcnNbYV0uZGVzdHJveSYmdGhpcy5oYW5kbGVyc1thXS5kZXN0cm95KCk7dGhpcy5oYW5kbGVycz1udWxsfXRoaXMubWFwJiYodGhpcy5tYXAucmVtb3ZlQ29udHJvbCh0aGlzKSx0aGlzLm1hcD1udWxsKTt0aGlzLmRpdj1udWxsfSxzZXRNYXA6ZnVuY3Rpb24oYSl7dGhpcy5tYXA9YTt0aGlzLmhhbmRsZXImJgp0aGlzLmhhbmRsZXIuc2V0TWFwKGEpfSxkcmF3OmZ1bmN0aW9uKGEpe251bGw9PXRoaXMuZGl2JiYodGhpcy5kaXY9T3BlbkxheWVycy5VdGlsLmNyZWF0ZURpdih0aGlzLmlkKSx0aGlzLmRpdi5jbGFzc05hbWU9dGhpcy5kaXNwbGF5Q2xhc3MsdGhpcy5hbGxvd1NlbGVjdGlvbnx8KHRoaXMuZGl2LmNsYXNzTmFtZSs9IiBvbENvbnRyb2xOb1NlbGVjdCIsdGhpcy5kaXYuc2V0QXR0cmlidXRlKCJ1bnNlbGVjdGFibGUiLCJvbiIsMCksdGhpcy5kaXYub25zZWxlY3RzdGFydD1PcGVuTGF5ZXJzLkZ1bmN0aW9uLkZhbHNlKSwiIiE9dGhpcy50aXRsZSYmKHRoaXMuZGl2LnRpdGxlPXRoaXMudGl0bGUpKTtudWxsIT1hJiYodGhpcy5wb3NpdGlvbj1hLmNsb25lKCkpO3RoaXMubW92ZVRvKHRoaXMucG9zaXRpb24pO3JldHVybiB0aGlzLmRpdn0sbW92ZVRvOmZ1bmN0aW9uKGEpe251bGwhPWEmJm51bGwhPXRoaXMuZGl2JiYodGhpcy5kaXYuc3R5bGUubGVmdD1hLngrInB4Iix0aGlzLmRpdi5zdHlsZS50b3A9CmEueSsicHgiKX0sYWN0aXZhdGU6ZnVuY3Rpb24oKXtpZih0aGlzLmFjdGl2ZSlyZXR1cm4hMTt0aGlzLmhhbmRsZXImJnRoaXMuaGFuZGxlci5hY3RpdmF0ZSgpO3RoaXMuYWN0aXZlPSEwO3RoaXMubWFwJiZPcGVuTGF5ZXJzLkVsZW1lbnQuYWRkQ2xhc3ModGhpcy5tYXAudmlld1BvcnREaXYsdGhpcy5kaXNwbGF5Q2xhc3MucmVwbGFjZSgvIC9nLCIiKSsiQWN0aXZlIik7dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJhY3RpdmF0ZSIpO3JldHVybiEwfSxkZWFjdGl2YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWN0aXZlPyh0aGlzLmhhbmRsZXImJnRoaXMuaGFuZGxlci5kZWFjdGl2YXRlKCksdGhpcy5hY3RpdmU9ITEsdGhpcy5tYXAmJk9wZW5MYXllcnMuRWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm1hcC52aWV3UG9ydERpdix0aGlzLmRpc3BsYXlDbGFzcy5yZXBsYWNlKC8gL2csIiIpKyJBY3RpdmUiKSx0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImRlYWN0aXZhdGUiKSwKITApOiExfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wifSk7T3BlbkxheWVycy5Db250cm9sLlRZUEVfQlVUVE9OPTE7T3BlbkxheWVycy5Db250cm9sLlRZUEVfVE9HR0xFPTI7T3BlbkxheWVycy5Db250cm9sLlRZUEVfVE9PTD0zO09wZW5MYXllcnMuQ29udHJvbC5QYW5lbD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbCx7Y29udHJvbHM6bnVsbCxhdXRvQWN0aXZhdGU6ITAsZGVmYXVsdENvbnRyb2w6bnVsbCxzYXZlU3RhdGU6ITEsYWxsb3dEZXByZXNzOiExLGFjdGl2ZVN0YXRlOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pO3RoaXMuY29udHJvbHM9W107dGhpcy5hY3RpdmVTdGF0ZT17fX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMubWFwJiZ0aGlzLm1hcC5ldmVudHMudW5yZWdpc3RlcigiYnV0dG9uY2xpY2siLHRoaXMsdGhpcy5vbkJ1dHRvbkNsaWNrKTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Zvcih2YXIgYSxiPXRoaXMuY29udHJvbHMubGVuZ3RoLTE7MDw9YjtiLS0pYT10aGlzLmNvbnRyb2xzW2JdLGEuZXZlbnRzJiYKYS5ldmVudHMudW4oe2FjdGl2YXRlOnRoaXMuaWNvbk9uLGRlYWN0aXZhdGU6dGhpcy5pY29uT2ZmfSksYS5wYW5lbF9kaXY9bnVsbDt0aGlzLmFjdGl2ZVN0YXRlPW51bGx9LGFjdGl2YXRlOmZ1bmN0aW9uKCl7aWYoT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5hY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpe2Zvcih2YXIgYSxiPTAsYz10aGlzLmNvbnRyb2xzLmxlbmd0aDtiPGM7YisrKWE9dGhpcy5jb250cm9sc1tiXSwoYT09PXRoaXMuZGVmYXVsdENvbnRyb2x8fHRoaXMuc2F2ZVN0YXRlJiZ0aGlzLmFjdGl2ZVN0YXRlW2EuaWRdKSYmYS5hY3RpdmF0ZSgpOyEwPT09dGhpcy5zYXZlU3RhdGUmJih0aGlzLmRlZmF1bHRDb250cm9sPW51bGwpO3RoaXMucmVkcmF3KCk7cmV0dXJuITB9cmV0dXJuITF9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXtpZihPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpKXtmb3IodmFyIGEsCmI9MCxjPXRoaXMuY29udHJvbHMubGVuZ3RoO2I8YztiKyspYT10aGlzLmNvbnRyb2xzW2JdLHRoaXMuYWN0aXZlU3RhdGVbYS5pZF09YS5kZWFjdGl2YXRlKCk7dGhpcy5yZWRyYXcoKTtyZXR1cm4hMH1yZXR1cm4hMX0sZHJhdzpmdW5jdGlvbigpe09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZHJhdy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5vdXRzaWRlVmlld3BvcnQ/KHRoaXMuZXZlbnRzLmF0dGFjaFRvRWxlbWVudCh0aGlzLmRpdiksdGhpcy5ldmVudHMucmVnaXN0ZXIoImJ1dHRvbmNsaWNrIix0aGlzLHRoaXMub25CdXR0b25DbGljaykpOnRoaXMubWFwLmV2ZW50cy5yZWdpc3RlcigiYnV0dG9uY2xpY2siLHRoaXMsdGhpcy5vbkJ1dHRvbkNsaWNrKTt0aGlzLmFkZENvbnRyb2xzVG9NYXAodGhpcy5jb250cm9scyk7cmV0dXJuIHRoaXMuZGl2fSxyZWRyYXc6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5kaXYuY2hpbGROb2Rlcy5sZW5ndGgtMTswPD1hO2EtLSl0aGlzLmRpdi5yZW1vdmVDaGlsZCh0aGlzLmRpdi5jaGlsZE5vZGVzW2FdKTsKdGhpcy5kaXYuaW5uZXJIVE1MPSIiO2lmKHRoaXMuYWN0aXZlKWZvcih2YXIgYT0wLGI9dGhpcy5jb250cm9scy5sZW5ndGg7YTxiO2ErKyl0aGlzLmRpdi5hcHBlbmRDaGlsZCh0aGlzLmNvbnRyb2xzW2FdLnBhbmVsX2Rpdil9LGFjdGl2YXRlQ29udHJvbDpmdW5jdGlvbihhKXtpZighdGhpcy5hY3RpdmUpcmV0dXJuITE7aWYoYS50eXBlPT1PcGVuTGF5ZXJzLkNvbnRyb2wuVFlQRV9CVVRUT04pYS50cmlnZ2VyKCk7ZWxzZSBpZihhLnR5cGU9PU9wZW5MYXllcnMuQ29udHJvbC5UWVBFX1RPR0dMRSlhLmFjdGl2ZT9hLmRlYWN0aXZhdGUoKTphLmFjdGl2YXRlKCk7ZWxzZSBpZih0aGlzLmFsbG93RGVwcmVzcyYmYS5hY3RpdmUpYS5kZWFjdGl2YXRlKCk7ZWxzZXtmb3IodmFyIGIsYz0wLGQ9dGhpcy5jb250cm9scy5sZW5ndGg7YzxkO2MrKyliPXRoaXMuY29udHJvbHNbY10sYiE9YSYmKGIudHlwZT09PU9wZW5MYXllcnMuQ29udHJvbC5UWVBFX1RPT0x8fG51bGw9PWIudHlwZSkmJgpiLmRlYWN0aXZhdGUoKTthLmFjdGl2YXRlKCl9fSxhZGRDb250cm9sczpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShhKXx8KGE9W2FdKTt0aGlzLmNvbnRyb2xzPXRoaXMuY29udHJvbHMuY29uY2F0KGEpO2Zvcih2YXIgYj0wLGM9YS5sZW5ndGg7YjxjO2IrKyl7dmFyIGQ9YVtiXSxlPXRoaXMuY3JlYXRlQ29udHJvbE1hcmt1cChkKTtPcGVuTGF5ZXJzLkVsZW1lbnQuYWRkQ2xhc3MoZSxkLmRpc3BsYXlDbGFzcysiSXRlbUluYWN0aXZlIik7T3BlbkxheWVycy5FbGVtZW50LmFkZENsYXNzKGUsIm9sQnV0dG9uIik7IiIhPWQudGl0bGUmJiFlLnRpdGxlJiYoZS50aXRsZT1kLnRpdGxlKTtkLnBhbmVsX2Rpdj1lfXRoaXMubWFwJiYodGhpcy5hZGRDb250cm9sc1RvTWFwKGEpLHRoaXMucmVkcmF3KCkpfSxjcmVhdGVDb250cm9sTWFya3VwOmZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpfSxhZGRDb250cm9sc1RvTWFwOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiwKYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKyliPWFbY10sITA9PT1iLmF1dG9BY3RpdmF0ZT8oYi5hdXRvQWN0aXZhdGU9ITEsdGhpcy5tYXAuYWRkQ29udHJvbChiKSxiLmF1dG9BY3RpdmF0ZT0hMCk6KHRoaXMubWFwLmFkZENvbnRyb2woYiksYi5kZWFjdGl2YXRlKCkpLGIuZXZlbnRzLm9uKHthY3RpdmF0ZTp0aGlzLmljb25PbixkZWFjdGl2YXRlOnRoaXMuaWNvbk9mZn0pfSxpY29uT246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBhbmVsX2RpdjthLmNsYXNzTmFtZT1hLmNsYXNzTmFtZS5yZXBsYWNlKFJlZ0V4cCgiXFxiKCIrdGhpcy5kaXNwbGF5Q2xhc3MrIkl0ZW0pSW5hY3RpdmVcXGIiKSwiJDFBY3RpdmUiKX0saWNvbk9mZjpmdW5jdGlvbigpe3ZhciBhPXRoaXMucGFuZWxfZGl2O2EuY2xhc3NOYW1lPWEuY2xhc3NOYW1lLnJlcGxhY2UoUmVnRXhwKCJcXGIoIit0aGlzLmRpc3BsYXlDbGFzcysiSXRlbSlBY3RpdmVcXGIiKSwiJDFJbmFjdGl2ZSIpfSxvbkJ1dHRvbkNsaWNrOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0KdGhpcy5jb250cm9scyxhPWEuYnV0dG9uRWxlbWVudCxjPWIubGVuZ3RoLTE7MDw9YzstLWMpaWYoYltjXS5wYW5lbF9kaXY9PT1hKXt0aGlzLmFjdGl2YXRlQ29udHJvbChiW2NdKTticmVha319LGdldENvbnRyb2xzQnk6ZnVuY3Rpb24oYSxiKXt2YXIgYz0iZnVuY3Rpb24iPT10eXBlb2YgYi50ZXN0O3JldHVybiBPcGVuTGF5ZXJzLkFycmF5LmZpbHRlcih0aGlzLmNvbnRyb2xzLGZ1bmN0aW9uKGQpe3JldHVybiBkW2FdPT1ifHxjJiZiLnRlc3QoZFthXSl9KX0sZ2V0Q29udHJvbHNCeU5hbWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0Q29udHJvbHNCeSgibmFtZSIsYSl9LGdldENvbnRyb2xzQnlDbGFzczpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXRDb250cm9sc0J5KCJDTEFTU19OQU1FIixhKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLlBhbmVsIn0pO09wZW5MYXllcnMuQ29udHJvbC5CdXR0b249T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse3R5cGU6T3BlbkxheWVycy5Db250cm9sLlRZUEVfQlVUVE9OLHRyaWdnZXI6ZnVuY3Rpb24oKXt9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5CdXR0b24ifSk7T3BlbkxheWVycy5Db250cm9sLlpvb21Jbj1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbC5CdXR0b24se3RyaWdnZXI6ZnVuY3Rpb24oKXt0aGlzLm1hcCYmdGhpcy5tYXAuem9vbUluKCl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5ab29tSW4ifSk7T3BlbkxheWVycy5Db250cm9sLlpvb21PdXQ9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wuQnV0dG9uLHt0cmlnZ2VyOmZ1bmN0aW9uKCl7dGhpcy5tYXAmJnRoaXMubWFwLnpvb21PdXQoKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLlpvb21PdXQifSk7T3BlbkxheWVycy5Db250cm9sLlpvb21Ub01heEV4dGVudD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbC5CdXR0b24se3RyaWdnZXI6ZnVuY3Rpb24oKXt0aGlzLm1hcCYmdGhpcy5tYXAuem9vbVRvTWF4RXh0ZW50KCl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5ab29tVG9NYXhFeHRlbnQifSk7T3BlbkxheWVycy5Db250cm9sLlpvb21QYW5lbD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbC5QYW5lbCx7aW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuZWwucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pO3RoaXMuYWRkQ29udHJvbHMoW25ldyBPcGVuTGF5ZXJzLkNvbnRyb2wuWm9vbUluLG5ldyBPcGVuTGF5ZXJzLkNvbnRyb2wuWm9vbVRvTWF4RXh0ZW50LG5ldyBPcGVuTGF5ZXJzLkNvbnRyb2wuWm9vbU91dF0pfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuWm9vbVBhbmVsIn0pO09wZW5MYXllcnMuTGF5ZXIuSFRUUFJlcXVlc3Q9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkxheWVyLHtVUkxfSEFTSF9GQUNUT1I6KE1hdGguc3FydCg1KS0xKS8yLHVybDpudWxsLHBhcmFtczpudWxsLHJlcHJvamVjdDohMSxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjLGQpe09wZW5MYXllcnMuTGF5ZXIucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYSxkXSk7dGhpcy51cmw9Yjt0aGlzLnBhcmFtc3x8KHRoaXMucGFyYW1zPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe30sYykpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5wYXJhbXM9dGhpcy51cmw9bnVsbDtPcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sY2xvbmU6ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9bmV3IE9wZW5MYXllcnMuTGF5ZXIuSFRUUFJlcXVlc3QodGhpcy5uYW1lLHRoaXMudXJsLHRoaXMucGFyYW1zLHRoaXMuZ2V0T3B0aW9ucygpKSk7CnJldHVybiBhPU9wZW5MYXllcnMuTGF5ZXIucHJvdG90eXBlLmNsb25lLmFwcGx5KHRoaXMsW2FdKX0sc2V0VXJsOmZ1bmN0aW9uKGEpe3RoaXMudXJsPWF9LG1lcmdlTmV3UGFyYW1zOmZ1bmN0aW9uKGEpe3RoaXMucGFyYW1zPU9wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcy5wYXJhbXMsYSk7YT10aGlzLnJlZHJhdygpO251bGwhPXRoaXMubWFwJiZ0aGlzLm1hcC5ldmVudHMudHJpZ2dlckV2ZW50KCJjaGFuZ2VsYXllciIse2xheWVyOnRoaXMscHJvcGVydHk6InBhcmFtcyJ9KTtyZXR1cm4gYX0scmVkcmF3OmZ1bmN0aW9uKGEpe3JldHVybiBhPyh0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoInJlZnJlc2giKSx0aGlzLm1lcmdlTmV3UGFyYW1zKHtfb2xTYWx0Ok1hdGgucmFuZG9tKCl9KSk6T3BlbkxheWVycy5MYXllci5wcm90b3R5cGUucmVkcmF3LmFwcGx5KHRoaXMsW10pfSxzZWxlY3RVcmw6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MSxkPTAsZT1hLmxlbmd0aDtkPGU7ZCsrKWMqPQphLmNoYXJDb2RlQXQoZCkqdGhpcy5VUkxfSEFTSF9GQUNUT1IsYy09TWF0aC5mbG9vcihjKTtyZXR1cm4gYltNYXRoLmZsb29yKGMqYi5sZW5ndGgpXX0sZ2V0RnVsbFJlcXVlc3RTdHJpbmc6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHx0aGlzLnVybCxkPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe30sdGhpcy5wYXJhbXMpLGQ9T3BlbkxheWVycy5VdGlsLmV4dGVuZChkLGEpLGU9T3BlbkxheWVycy5VdGlsLmdldFBhcmFtZXRlclN0cmluZyhkKTtPcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShjKSYmKGM9dGhpcy5zZWxlY3RVcmwoZSxjKSk7dmFyIGU9T3BlbkxheWVycy5VdGlsLnVwcGVyQ2FzZU9iamVjdChPcGVuTGF5ZXJzLlV0aWwuZ2V0UGFyYW1ldGVycyhjKSksZjtmb3IoZiBpbiBkKWYudG9VcHBlckNhc2UoKWluIGUmJmRlbGV0ZSBkW2ZdO2U9T3BlbkxheWVycy5VdGlsLmdldFBhcmFtZXRlclN0cmluZyhkKTtyZXR1cm4gT3BlbkxheWVycy5VdGlsLnVybEFwcGVuZChjLGUpfSwKQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5IVFRQUmVxdWVzdCJ9KTtPcGVuTGF5ZXJzLlRpbGU9T3BlbkxheWVycy5DbGFzcyh7ZXZlbnRzOm51bGwsZXZlbnRMaXN0ZW5lcnM6bnVsbCxpZDpudWxsLGxheWVyOm51bGwsdXJsOm51bGwsYm91bmRzOm51bGwsc2l6ZTpudWxsLHBvc2l0aW9uOm51bGwsaXNMb2FkaW5nOiExLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMubGF5ZXI9YTt0aGlzLnBvc2l0aW9uPWIuY2xvbmUoKTt0aGlzLnNldEJvdW5kcyhjKTt0aGlzLnVybD1kO2UmJih0aGlzLnNpemU9ZS5jbG9uZSgpKTt0aGlzLmlkPU9wZW5MYXllcnMuVXRpbC5jcmVhdGVVbmlxdWVJRCgiVGlsZV8iKTtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsZik7dGhpcy5ldmVudHM9bmV3IE9wZW5MYXllcnMuRXZlbnRzKHRoaXMpO2lmKHRoaXMuZXZlbnRMaXN0ZW5lcnMgaW5zdGFuY2VvZiBPYmplY3QpdGhpcy5ldmVudHMub24odGhpcy5ldmVudExpc3RlbmVycyl9LHVubG9hZDpmdW5jdGlvbigpe3RoaXMuaXNMb2FkaW5nJiYodGhpcy5pc0xvYWRpbmc9CiExLHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgidW5sb2FkIikpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5wb3NpdGlvbj10aGlzLnNpemU9dGhpcy5ib3VuZHM9dGhpcy5sYXllcj1udWxsO3RoaXMuZXZlbnRMaXN0ZW5lcnMmJnRoaXMuZXZlbnRzLnVuKHRoaXMuZXZlbnRMaXN0ZW5lcnMpO3RoaXMuZXZlbnRzLmRlc3Ryb3koKTt0aGlzLmV2ZW50cz10aGlzLmV2ZW50TGlzdGVuZXJzPW51bGx9LGRyYXc6ZnVuY3Rpb24oYSl7YXx8dGhpcy5jbGVhcigpO3ZhciBiPXRoaXMuc2hvdWxkRHJhdygpO2ImJighYSYmITE9PT10aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImJlZm9yZWRyYXciKSkmJihiPW51bGwpO3JldHVybiBifSxzaG91bGREcmF3OmZ1bmN0aW9uKCl7dmFyIGE9ITEsYj10aGlzLmxheWVyLm1heEV4dGVudDtpZihiKXt2YXIgYz10aGlzLmxheWVyLm1hcCxjPWMuYmFzZUxheWVyLndyYXBEYXRlTGluZSYmYy5nZXRNYXhFeHRlbnQoKTt0aGlzLmJvdW5kcy5pbnRlcnNlY3RzQm91bmRzKGIsCntpbmNsdXNpdmU6ITEsd29ybGRCb3VuZHM6Y30pJiYoYT0hMCl9cmV0dXJuIGF8fHRoaXMubGF5ZXIuZGlzcGxheU91dHNpZGVNYXhFeHRlbnR9LHNldEJvdW5kczpmdW5jdGlvbihhKXthPWEuY2xvbmUoKTtpZih0aGlzLmxheWVyLm1hcC5iYXNlTGF5ZXIud3JhcERhdGVMaW5lKXZhciBiPXRoaXMubGF5ZXIubWFwLmdldE1heEV4dGVudCgpLGM9dGhpcy5sYXllci5tYXAuZ2V0UmVzb2x1dGlvbigpLGE9YS53cmFwRGF0ZUxpbmUoYix7bGVmdFRvbGVyYW5jZTpjLHJpZ2h0VG9sZXJhbmNlOmN9KTt0aGlzLmJvdW5kcz1hfSxtb3ZlVG86ZnVuY3Rpb24oYSxiLGMpe251bGw9PWMmJihjPSEwKTt0aGlzLnNldEJvdW5kcyhhKTt0aGlzLnBvc2l0aW9uPWIuY2xvbmUoKTtjJiZ0aGlzLmRyYXcoKX0sY2xlYXI6ZnVuY3Rpb24oKXt9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuVGlsZSJ9KTtPcGVuTGF5ZXJzLlRpbGUuSW1hZ2U9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlRpbGUse3VybDpudWxsLGltZ0RpdjpudWxsLGZyYW1lOm51bGwsaW1hZ2VSZWxvYWRBdHRlbXB0czpudWxsLGxheWVyQWxwaGFIYWNrOm51bGwsYXN5bmNSZXF1ZXN0SWQ6bnVsbCxtYXhHZXRVcmxMZW5ndGg6bnVsbCxjYW52YXNDb250ZXh0Om51bGwsY3Jvc3NPcmlnaW5LZXl3b3JkOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyxkLGUsZil7T3BlbkxheWVycy5UaWxlLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLnVybD1kO3RoaXMubGF5ZXJBbHBoYUhhY2s9dGhpcy5sYXllci5hbHBoYSYmT3BlbkxheWVycy5VdGlsLmFscGhhSGFjaygpO2lmKG51bGwhPXRoaXMubWF4R2V0VXJsTGVuZ3RofHx0aGlzLmxheWVyLmd1dHRlcnx8dGhpcy5sYXllckFscGhhSGFjayl0aGlzLmZyYW1lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuZnJhbWUuc3R5bGUucG9zaXRpb249CiJhYnNvbHV0ZSIsdGhpcy5mcmFtZS5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjtudWxsIT10aGlzLm1heEdldFVybExlbmd0aCYmT3BlbkxheWVycy5VdGlsLmV4dGVuZCh0aGlzLE9wZW5MYXllcnMuVGlsZS5JbWFnZS5JRnJhbWUpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5pbWdEaXYmJih0aGlzLmNsZWFyKCksdGhpcy5mcmFtZT10aGlzLmltZ0Rpdj1udWxsKTt0aGlzLmFzeW5jUmVxdWVzdElkPW51bGw7T3BlbkxheWVycy5UaWxlLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZHJhdzpmdW5jdGlvbigpe3ZhciBhPU9wZW5MYXllcnMuVGlsZS5wcm90b3R5cGUuZHJhdy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YT8odGhpcy5sYXllciE9dGhpcy5sYXllci5tYXAuYmFzZUxheWVyJiZ0aGlzLmxheWVyLnJlcHJvamVjdCYmKHRoaXMuYm91bmRzPXRoaXMuZ2V0Qm91bmRzRnJvbUJhc2VMYXllcih0aGlzLnBvc2l0aW9uKSksdGhpcy5pc0xvYWRpbmc/dGhpcy5fbG9hZEV2ZW50PQoicmVsb2FkIjoodGhpcy5pc0xvYWRpbmc9ITAsdGhpcy5fbG9hZEV2ZW50PSJsb2Fkc3RhcnQiKSx0aGlzLnJlbmRlclRpbGUoKSx0aGlzLnBvc2l0aW9uVGlsZSgpKTohMT09PWEmJnRoaXMudW5sb2FkKCk7cmV0dXJuIGF9LHJlbmRlclRpbGU6ZnVuY3Rpb24oKXtpZih0aGlzLmxheWVyLmFzeW5jKXt2YXIgYT10aGlzLmFzeW5jUmVxdWVzdElkPSh0aGlzLmFzeW5jUmVxdWVzdElkfHwwKSsxO3RoaXMubGF5ZXIuZ2V0VVJMYXN5bmModGhpcy5ib3VuZHMsZnVuY3Rpb24oYil7YT09dGhpcy5hc3luY1JlcXVlc3RJZCYmKHRoaXMudXJsPWIsdGhpcy5pbml0SW1hZ2UoKSl9LHRoaXMpfWVsc2UgdGhpcy51cmw9dGhpcy5sYXllci5nZXRVUkwodGhpcy5ib3VuZHMpLHRoaXMuaW5pdEltYWdlKCl9LHBvc2l0aW9uVGlsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0VGlsZSgpLnN0eWxlLGI9dGhpcy5mcmFtZT90aGlzLnNpemU6dGhpcy5sYXllci5nZXRJbWFnZVNpemUodGhpcy5ib3VuZHMpLApjPTE7dGhpcy5sYXllciBpbnN0YW5jZW9mIE9wZW5MYXllcnMuTGF5ZXIuR3JpZCYmKGM9dGhpcy5sYXllci5nZXRTZXJ2ZXJSZXNvbHV0aW9uKCkvdGhpcy5sYXllci5tYXAuZ2V0UmVzb2x1dGlvbigpKTthLmxlZnQ9dGhpcy5wb3NpdGlvbi54KyJweCI7YS50b3A9dGhpcy5wb3NpdGlvbi55KyJweCI7YS53aWR0aD1NYXRoLnJvdW5kKGMqYi53KSsicHgiO2EuaGVpZ2h0PU1hdGgucm91bmQoYypiLmgpKyJweCJ9LGNsZWFyOmZ1bmN0aW9uKCl7T3BlbkxheWVycy5UaWxlLnByb3RvdHlwZS5jbGVhci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGE9dGhpcy5pbWdEaXY7aWYoYSl7dmFyIGI9dGhpcy5nZXRUaWxlKCk7Yi5wYXJlbnROb2RlPT09dGhpcy5sYXllci5kaXYmJnRoaXMubGF5ZXIuZGl2LnJlbW92ZUNoaWxkKGIpO3RoaXMuc2V0SW1nU3JjKCk7ITA9PT10aGlzLmxheWVyQWxwaGFIYWNrJiYoYS5zdHlsZS5maWx0ZXI9IiIpO09wZW5MYXllcnMuRWxlbWVudC5yZW1vdmVDbGFzcyhhLAoib2xJbWFnZUxvYWRFcnJvciIpfXRoaXMuY2FudmFzQ29udGV4dD1udWxsfSxnZXRJbWFnZTpmdW5jdGlvbigpe2lmKCF0aGlzLmltZ0Rpdil7dGhpcy5pbWdEaXY9T3BlbkxheWVycy5UaWxlLkltYWdlLklNQUdFLmNsb25lTm9kZSghMSk7dmFyIGE9dGhpcy5pbWdEaXYuc3R5bGU7aWYodGhpcy5mcmFtZSl7dmFyIGI9MCxjPTA7dGhpcy5sYXllci5ndXR0ZXImJihiPTEwMCoodGhpcy5sYXllci5ndXR0ZXIvdGhpcy5sYXllci50aWxlU2l6ZS53KSxjPTEwMCoodGhpcy5sYXllci5ndXR0ZXIvdGhpcy5sYXllci50aWxlU2l6ZS5oKSk7YS5sZWZ0PS1iKyIlIjthLnRvcD0tYysiJSI7YS53aWR0aD0yKmIrMTAwKyIlIjthLmhlaWdodD0yKmMrMTAwKyIlIn1hLnZpc2liaWxpdHk9ImhpZGRlbiI7YS5vcGFjaXR5PTA7MT50aGlzLmxheWVyLm9wYWNpdHkmJihhLmZpbHRlcj0iYWxwaGEob3BhY2l0eT0iKzEwMCp0aGlzLmxheWVyLm9wYWNpdHkrIikiKTthLnBvc2l0aW9uPSJhYnNvbHV0ZSI7CnRoaXMubGF5ZXJBbHBoYUhhY2smJihhLnBhZGRpbmdUb3A9YS5oZWlnaHQsYS5oZWlnaHQ9IjAiLGEud2lkdGg9IjEwMCUiKTt0aGlzLmZyYW1lJiZ0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuaW1nRGl2KX1yZXR1cm4gdGhpcy5pbWdEaXZ9LHNldEltYWdlOmZ1bmN0aW9uKGEpe3RoaXMuaW1nRGl2PWF9LGluaXRJbWFnZTpmdW5jdGlvbigpe2lmKCF0aGlzLnVybCYmIXRoaXMuaW1nRGl2KXRoaXMuaXNMb2FkaW5nPSExO2Vsc2V7dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJiZWZvcmVsb2FkIik7dGhpcy5sYXllci5kaXYuYXBwZW5kQ2hpbGQodGhpcy5nZXRUaWxlKCkpO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCh0aGlzLl9sb2FkRXZlbnQpO3ZhciBhPXRoaXMuZ2V0SW1hZ2UoKSxiPWEuZ2V0QXR0cmlidXRlKCJzcmMiKXx8IiI7dGhpcy51cmwmJk9wZW5MYXllcnMuVXRpbC5pc0VxdWl2YWxlbnRVcmwoYix0aGlzLnVybCk/dGhpcy5fbG9hZFRpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQoT3BlbkxheWVycy5GdW5jdGlvbi5iaW5kKHRoaXMub25JbWFnZUxvYWQsCnRoaXMpLDApOih0aGlzLnN0b3BMb2FkaW5nKCksdGhpcy5jcm9zc09yaWdpbktleXdvcmQmJmEucmVtb3ZlQXR0cmlidXRlKCJjcm9zc29yaWdpbiIpLE9wZW5MYXllcnMuRXZlbnQub2JzZXJ2ZShhLCJsb2FkIixPcGVuTGF5ZXJzLkZ1bmN0aW9uLmJpbmQodGhpcy5vbkltYWdlTG9hZCx0aGlzKSksT3BlbkxheWVycy5FdmVudC5vYnNlcnZlKGEsImVycm9yIixPcGVuTGF5ZXJzLkZ1bmN0aW9uLmJpbmQodGhpcy5vbkltYWdlRXJyb3IsdGhpcykpLHRoaXMuaW1hZ2VSZWxvYWRBdHRlbXB0cz0wLHRoaXMuc2V0SW1nU3JjKHRoaXMudXJsKSl9fSxzZXRJbWdTcmM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbWdEaXY7YT8oYi5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iLGIuc3R5bGUub3BhY2l0eT0wLHRoaXMuY3Jvc3NPcmlnaW5LZXl3b3JkJiYoImRhdGE6IiE9PWEuc3Vic3RyKDAsNSk/Yi5zZXRBdHRyaWJ1dGUoImNyb3Nzb3JpZ2luIix0aGlzLmNyb3NzT3JpZ2luS2V5d29yZCk6CmIucmVtb3ZlQXR0cmlidXRlKCJjcm9zc29yaWdpbiIpKSxiLnNyYz1hKToodGhpcy5zdG9wTG9hZGluZygpLHRoaXMuaW1nRGl2PW51bGwsYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYikpfSxnZXRUaWxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnJhbWU/dGhpcy5mcmFtZTp0aGlzLmdldEltYWdlKCl9LGNyZWF0ZUJhY2tCdWZmZXI6ZnVuY3Rpb24oKXtpZih0aGlzLmltZ0RpdiYmIXRoaXMuaXNMb2FkaW5nKXt2YXIgYTt0aGlzLmZyYW1lPyhhPXRoaXMuZnJhbWUuY2xvbmVOb2RlKCExKSxhLmFwcGVuZENoaWxkKHRoaXMuaW1nRGl2KSk6YT10aGlzLmltZ0Rpdjt0aGlzLmltZ0Rpdj1udWxsO3JldHVybiBhfX0sb25JbWFnZUxvYWQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmltZ0Rpdjt0aGlzLnN0b3BMb2FkaW5nKCk7YS5zdHlsZS52aXNpYmlsaXR5PSJpbmhlcml0IjthLnN0eWxlLm9wYWNpdHk9dGhpcy5sYXllci5vcGFjaXR5O3RoaXMuaXNMb2FkaW5nPQohMTt0aGlzLmNhbnZhc0NvbnRleHQ9bnVsbDt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvYWRlbmQiKTshMD09PXRoaXMubGF5ZXJBbHBoYUhhY2smJihhLnN0eWxlLmZpbHRlcj0icHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkFscGhhSW1hZ2VMb2FkZXIoc3JjPSciK2Euc3JjKyInLCBzaXppbmdNZXRob2Q9J3NjYWxlJykiKX0sb25JbWFnZUVycm9yOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pbWdEaXY7bnVsbCE9YS5zcmMmJih0aGlzLmltYWdlUmVsb2FkQXR0ZW1wdHMrKyx0aGlzLmltYWdlUmVsb2FkQXR0ZW1wdHM8PU9wZW5MYXllcnMuSU1BR0VfUkVMT0FEX0FUVEVNUFRTP3RoaXMuc2V0SW1nU3JjKHRoaXMubGF5ZXIuZ2V0VVJMKHRoaXMuYm91bmRzKSk6KE9wZW5MYXllcnMuRWxlbWVudC5hZGRDbGFzcyhhLCJvbEltYWdlTG9hZEVycm9yIiksdGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJsb2FkZXJyb3IiKSx0aGlzLm9uSW1hZ2VMb2FkKCkpKX0sc3RvcExvYWRpbmc6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkV2ZW50LnN0b3BPYnNlcnZpbmdFbGVtZW50KHRoaXMuaW1nRGl2KTsKd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl9sb2FkVGltZW91dCk7ZGVsZXRlIHRoaXMuX2xvYWRUaW1lb3V0fSxnZXRDYW52YXNDb250ZXh0OmZ1bmN0aW9uKCl7aWYoT3BlbkxheWVycy5DQU5WQVNfU1VQUE9SVEVEJiZ0aGlzLmltZ0RpdiYmIXRoaXMuaXNMb2FkaW5nKXtpZighdGhpcy5jYW52YXNDb250ZXh0KXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTthLndpZHRoPXRoaXMuc2l6ZS53O2EuaGVpZ2h0PXRoaXMuc2l6ZS5oO3RoaXMuY2FudmFzQ29udGV4dD1hLmdldENvbnRleHQoIjJkIik7dGhpcy5jYW52YXNDb250ZXh0LmRyYXdJbWFnZSh0aGlzLmltZ0RpdiwwLDApfXJldHVybiB0aGlzLmNhbnZhc0NvbnRleHR9fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlRpbGUuSW1hZ2UifSk7Ck9wZW5MYXllcnMuVGlsZS5JbWFnZS5JTUFHRT1mdW5jdGlvbigpe3ZhciBhPW5ldyBJbWFnZTthLmNsYXNzTmFtZT0ib2xUaWxlSW1hZ2UiO2EuZ2FsbGVyeUltZz0ibm8iO3JldHVybiBhfSgpO09wZW5MYXllcnMuTGF5ZXIuR3JpZD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIuSFRUUFJlcXVlc3Qse3RpbGVTaXplOm51bGwsdGlsZU9yaWdpbkNvcm5lcjoiYmwiLHRpbGVPcmlnaW46bnVsbCx0aWxlT3B0aW9uczpudWxsLHRpbGVDbGFzczpPcGVuTGF5ZXJzLlRpbGUuSW1hZ2UsZ3JpZDpudWxsLHNpbmdsZVRpbGU6ITEscmF0aW86MS41LGJ1ZmZlcjowLHRyYW5zaXRpb25FZmZlY3Q6InJlc2l6ZSIsbnVtTG9hZGluZ1RpbGVzOjAsc2VydmVyUmVzb2x1dGlvbnM6bnVsbCxsb2FkaW5nOiExLGJhY2tCdWZmZXI6bnVsbCxncmlkUmVzb2x1dGlvbjpudWxsLGJhY2tCdWZmZXJSZXNvbHV0aW9uOm51bGwsYmFja0J1ZmZlckxvbkxhdDpudWxsLGJhY2tCdWZmZXJUaW1lcklkOm51bGwscmVtb3ZlQmFja0J1ZmZlckRlbGF5Om51bGwsY2xhc3NOYW1lOm51bGwsZ3JpZExheW91dDpudWxsLHJvd1NpZ246bnVsbCx0cmFuc2l0aW9uZW5kRXZlbnRzOlsidHJhbnNpdGlvbmVuZCIsCiJ3ZWJraXRUcmFuc2l0aW9uRW5kIiwib3RyYW5zaXRpb25lbmQiLCJvVHJhbnNpdGlvbkVuZCJdLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCl7T3BlbkxheWVycy5MYXllci5IVFRQUmVxdWVzdC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5ncmlkPVtdO3RoaXMuX3JlbW92ZUJhY2tCdWZmZXI9T3BlbkxheWVycy5GdW5jdGlvbi5iaW5kKHRoaXMucmVtb3ZlQmFja0J1ZmZlcix0aGlzKTt0aGlzLmluaXRQcm9wZXJ0aWVzKCk7dGhpcy5yb3dTaWduPSJ0Ij09PXRoaXMudGlsZU9yaWdpbkNvcm5lci5zdWJzdHIoMCwxKT8xOi0xfSxpbml0UHJvcGVydGllczpmdW5jdGlvbigpe3ZvaWQgMD09PXRoaXMub3B0aW9ucy5yZW1vdmVCYWNrQnVmZmVyRGVsYXkmJih0aGlzLnJlbW92ZUJhY2tCdWZmZXJEZWxheT10aGlzLnNpbmdsZVRpbGU/MDoyNTAwKTt2b2lkIDA9PT10aGlzLm9wdGlvbnMuY2xhc3NOYW1lJiYodGhpcy5jbGFzc05hbWU9dGhpcy5zaW5nbGVUaWxlPwoib2xMYXllckdyaWRTaW5nbGVUaWxlIjoib2xMYXllckdyaWQiKX0sc2V0TWFwOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuTGF5ZXIuSFRUUFJlcXVlc3QucHJvdG90eXBlLnNldE1hcC5jYWxsKHRoaXMsYSk7T3BlbkxheWVycy5FbGVtZW50LmFkZENsYXNzKHRoaXMuZGl2LHRoaXMuY2xhc3NOYW1lKX0scmVtb3ZlTWFwOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVCYWNrQnVmZmVyKCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUJhY2tCdWZmZXIoKTt0aGlzLmNsZWFyR3JpZCgpO3RoaXMudGlsZVNpemU9dGhpcy5ncmlkPW51bGw7T3BlbkxheWVycy5MYXllci5IVFRQUmVxdWVzdC5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGNsZWFyR3JpZDpmdW5jdGlvbigpe2lmKHRoaXMuZ3JpZCl7Zm9yKHZhciBhPTAsYj10aGlzLmdyaWQubGVuZ3RoO2E8YjthKyspZm9yKHZhciBjPXRoaXMuZ3JpZFthXSxkPTAsZT1jLmxlbmd0aDtkPGU7ZCsrKXRoaXMuZGVzdHJveVRpbGUoY1tkXSk7CnRoaXMuZ3JpZD1bXTt0aGlzLmdyaWRMYXlvdXQ9dGhpcy5ncmlkUmVzb2x1dGlvbj1udWxsfX0sYWRkT3B0aW9uczpmdW5jdGlvbihhLGIpe3ZhciBjPXZvaWQgMCE9PWEuc2luZ2xlVGlsZSYmYS5zaW5nbGVUaWxlIT09dGhpcy5zaW5nbGVUaWxlO09wZW5MYXllcnMuTGF5ZXIuSFRUUFJlcXVlc3QucHJvdG90eXBlLmFkZE9wdGlvbnMuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMubWFwJiZjJiYodGhpcy5pbml0UHJvcGVydGllcygpLHRoaXMuY2xlYXJHcmlkKCksdGhpcy50aWxlU2l6ZT10aGlzLm9wdGlvbnMudGlsZVNpemUsdGhpcy5zZXRUaWxlU2l6ZSgpLHRoaXMubW92ZVRvKG51bGwsITApKX0sY2xvbmU6ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9bmV3IE9wZW5MYXllcnMuTGF5ZXIuR3JpZCh0aGlzLm5hbWUsdGhpcy51cmwsdGhpcy5wYXJhbXMsdGhpcy5nZXRPcHRpb25zKCkpKTthPU9wZW5MYXllcnMuTGF5ZXIuSFRUUFJlcXVlc3QucHJvdG90eXBlLmNsb25lLmFwcGx5KHRoaXMsClthXSk7bnVsbCE9dGhpcy50aWxlU2l6ZSYmKGEudGlsZVNpemU9dGhpcy50aWxlU2l6ZS5jbG9uZSgpKTthLmdyaWQ9W107YS5ncmlkUmVzb2x1dGlvbj1udWxsO2EuYmFja0J1ZmZlcj1udWxsO2EuYmFja0J1ZmZlclRpbWVySWQ9bnVsbDthLmxvYWRpbmc9ITE7YS5udW1Mb2FkaW5nVGlsZXM9MDtyZXR1cm4gYX0sbW92ZVRvOmZ1bmN0aW9uKGEsYixjKXtPcGVuTGF5ZXJzLkxheWVyLkhUVFBSZXF1ZXN0LnByb3RvdHlwZS5tb3ZlVG8uYXBwbHkodGhpcyxhcmd1bWVudHMpO2E9YXx8dGhpcy5tYXAuZ2V0RXh0ZW50KCk7aWYobnVsbCE9YSl7dmFyIGQ9IXRoaXMuZ3JpZC5sZW5ndGh8fGIsZT10aGlzLmdldFRpbGVzQm91bmRzKCksZj10aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCk7dGhpcy5nZXRTZXJ2ZXJSZXNvbHV0aW9uKGYpO2lmKHRoaXMuc2luZ2xlVGlsZSl7aWYoZHx8IWMmJiFlLmNvbnRhaW5zQm91bmRzKGEpKWImJiJyZXNpemUiIT09dGhpcy50cmFuc2l0aW9uRWZmZWN0JiYKdGhpcy5yZW1vdmVCYWNrQnVmZmVyKCksKCFifHwicmVzaXplIj09PXRoaXMudHJhbnNpdGlvbkVmZmVjdCkmJnRoaXMuYXBwbHlCYWNrQnVmZmVyKGYpLHRoaXMuaW5pdFNpbmdsZVRpbGUoYSl9ZWxzZShkPWR8fCFlLmludGVyc2VjdHNCb3VuZHMoYSx7d29ybGRCb3VuZHM6dGhpcy5tYXAuYmFzZUxheWVyLndyYXBEYXRlTGluZSYmdGhpcy5tYXAuZ2V0TWF4RXh0ZW50KCl9KSk/KGImJigicmVzaXplIj09PXRoaXMudHJhbnNpdGlvbkVmZmVjdHx8dGhpcy5ncmlkUmVzb2x1dGlvbj09PWYpJiZ0aGlzLmFwcGx5QmFja0J1ZmZlcihmKSx0aGlzLmluaXRHcmlkZGVkVGlsZXMoYSkpOnRoaXMubW92ZUdyaWRkZWRUaWxlcygpfX0sZ2V0VGlsZURhdGE6ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbCxjPWEubG9uLGQ9YS5sYXQsZT10aGlzLmdyaWQubGVuZ3RoO2lmKHRoaXMubWFwJiZlKXt2YXIgZj10aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCksYT10aGlzLnRpbGVTaXplLncsZz10aGlzLnRpbGVTaXplLmgsCmg9dGhpcy5ncmlkWzBdWzBdLmJvdW5kcyxpPWgubGVmdCxoPWgudG9wO2lmKGM8aSYmdGhpcy5tYXAuYmFzZUxheWVyLndyYXBEYXRlTGluZSl2YXIgaj10aGlzLm1hcC5nZXRNYXhFeHRlbnQoKS5nZXRXaWR0aCgpLGs9TWF0aC5jZWlsKChpLWMpL2opLGM9YytqKms7Yz0oYy1pKS8oZiphKTtkPShoLWQpLyhmKmcpO2Y9TWF0aC5mbG9vcihjKTtpPU1hdGguZmxvb3IoZCk7MDw9aSYmaTxlJiYoZT10aGlzLmdyaWRbaV1bZl0pJiYoYj17dGlsZTplLGk6TWF0aC5mbG9vcigoYy1mKSphKSxqOk1hdGguZmxvb3IoKGQtaSkqZyl9KX1yZXR1cm4gYn0sZGVzdHJveVRpbGU6ZnVuY3Rpb24oYSl7dGhpcy5yZW1vdmVUaWxlTW9uaXRvcmluZ0hvb2tzKGEpO2EuZGVzdHJveSgpfSxnZXRTZXJ2ZXJSZXNvbHV0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxhPWF8fHRoaXMubWFwLmdldFJlc29sdXRpb24oKTtpZih0aGlzLnNlcnZlclJlc29sdXRpb25zJiYKLTE9PT1PcGVuTGF5ZXJzLlV0aWwuaW5kZXhPZih0aGlzLnNlcnZlclJlc29sdXRpb25zLGEpKXt2YXIgYyxkLGUsZjtmb3IoYz10aGlzLnNlcnZlclJlc29sdXRpb25zLmxlbmd0aC0xOzA8PWM7Yy0tKXtlPXRoaXMuc2VydmVyUmVzb2x1dGlvbnNbY107ZD1NYXRoLmFicyhlLWEpO2lmKGQ+YilicmVhaztiPWQ7Zj1lfWE9Zn1yZXR1cm4gYX0sZ2V0U2VydmVyWm9vbTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0U2VydmVyUmVzb2x1dGlvbigpO3JldHVybiB0aGlzLnNlcnZlclJlc29sdXRpb25zP09wZW5MYXllcnMuVXRpbC5pbmRleE9mKHRoaXMuc2VydmVyUmVzb2x1dGlvbnMsYSk6dGhpcy5tYXAuZ2V0Wm9vbUZvclJlc29sdXRpb24oYSkrKHRoaXMuem9vbU9mZnNldHx8MCl9LGFwcGx5QmFja0J1ZmZlcjpmdW5jdGlvbihhKXtudWxsIT09dGhpcy5iYWNrQnVmZmVyVGltZXJJZCYmdGhpcy5yZW1vdmVCYWNrQnVmZmVyKCk7dmFyIGI9dGhpcy5iYWNrQnVmZmVyO2lmKCFiKXtiPQp0aGlzLmNyZWF0ZUJhY2tCdWZmZXIoKTtpZighYilyZXR1cm47YT09PXRoaXMuZ3JpZFJlc29sdXRpb24/dGhpcy5kaXYuaW5zZXJ0QmVmb3JlKGIsdGhpcy5kaXYuZmlyc3RDaGlsZCk6dGhpcy5tYXAuYmFzZUxheWVyLmRpdi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShiLHRoaXMubWFwLmJhc2VMYXllci5kaXYpO3RoaXMuYmFja0J1ZmZlcj1iO3ZhciBjPXRoaXMuZ3JpZFswXVswXS5ib3VuZHM7dGhpcy5iYWNrQnVmZmVyTG9uTGF0PXtsb246Yy5sZWZ0LGxhdDpjLnRvcH07dGhpcy5iYWNrQnVmZmVyUmVzb2x1dGlvbj10aGlzLmdyaWRSZXNvbHV0aW9ufWZvcih2YXIgYz10aGlzLmJhY2tCdWZmZXJSZXNvbHV0aW9uL2EsZD1iLmNoaWxkTm9kZXMsZSxmPWQubGVuZ3RoLTE7MDw9ZjstLWYpZT1kW2ZdLGUuc3R5bGUudG9wPShjKmUuX2kqZS5faHwwKSsicHgiLGUuc3R5bGUubGVmdD0oYyplLl9qKmUuX3d8MCkrInB4IixlLnN0eWxlLndpZHRoPU1hdGgucm91bmQoYyplLl93KSsKInB4IixlLnN0eWxlLmhlaWdodD1NYXRoLnJvdW5kKGMqZS5faCkrInB4IjthPXRoaXMuZ2V0Vmlld1BvcnRQeEZyb21Mb25MYXQodGhpcy5iYWNrQnVmZmVyTG9uTGF0LGEpO2M9dGhpcy5tYXAubGF5ZXJDb250YWluZXJPcmlnaW5QeC55O2Iuc3R5bGUubGVmdD1NYXRoLnJvdW5kKGEueC10aGlzLm1hcC5sYXllckNvbnRhaW5lck9yaWdpblB4LngpKyJweCI7Yi5zdHlsZS50b3A9TWF0aC5yb3VuZChhLnktYykrInB4In0sY3JlYXRlQmFja0J1ZmZlcjpmdW5jdGlvbigpe3ZhciBhO2lmKDA8dGhpcy5ncmlkLmxlbmd0aCl7YT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTthLmlkPXRoaXMuZGl2LmlkKyJfYmIiO2EuY2xhc3NOYW1lPSJvbEJhY2tCdWZmZXIiO2Euc3R5bGUucG9zaXRpb249ImFic29sdXRlIjt2YXIgYj10aGlzLm1hcDthLnN0eWxlLnpJbmRleD0icmVzaXplIj09PXRoaXMudHJhbnNpdGlvbkVmZmVjdD90aGlzLmdldFpJbmRleCgpLTE6Yi5aX0lOREVYX0JBU0UuQmFzZUxheWVyLQooYi5nZXROdW1MYXllcnMoKS1iLmdldExheWVySW5kZXgodGhpcykpO2Zvcih2YXIgYj0wLGM9dGhpcy5ncmlkLmxlbmd0aDtiPGM7YisrKWZvcih2YXIgZD0wLGU9dGhpcy5ncmlkW2JdLmxlbmd0aDtkPGU7ZCsrKXt2YXIgZj10aGlzLmdyaWRbYl1bZF0sZz10aGlzLmdyaWRbYl1bZF0uY3JlYXRlQmFja0J1ZmZlcigpO2cmJihnLl9pPWIsZy5faj1kLGcuX3c9dGhpcy5zaW5nbGVUaWxlP3RoaXMuZ2V0SW1hZ2VTaXplKGYuYm91bmRzKS53OmYuc2l6ZS53LGcuX2g9Zi5zaXplLmgsZy5pZD1mLmlkKyJfYmIiLGEuYXBwZW5kQ2hpbGQoZykpfX1yZXR1cm4gYX0scmVtb3ZlQmFja0J1ZmZlcjpmdW5jdGlvbigpe2lmKHRoaXMuX3RyYW5zaXRpb25FbGVtZW50KXtmb3IodmFyIGE9dGhpcy50cmFuc2l0aW9uZW5kRXZlbnRzLmxlbmd0aC0xOzA8PWE7LS1hKU9wZW5MYXllcnMuRXZlbnQuc3RvcE9ic2VydmluZyh0aGlzLl90cmFuc2l0aW9uRWxlbWVudCx0aGlzLnRyYW5zaXRpb25lbmRFdmVudHNbYV0sCnRoaXMuX3JlbW92ZUJhY2tCdWZmZXIpO2RlbGV0ZSB0aGlzLl90cmFuc2l0aW9uRWxlbWVudH10aGlzLmJhY2tCdWZmZXImJih0aGlzLmJhY2tCdWZmZXIucGFyZW50Tm9kZSYmdGhpcy5iYWNrQnVmZmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5iYWNrQnVmZmVyKSx0aGlzLmJhY2tCdWZmZXJSZXNvbHV0aW9uPXRoaXMuYmFja0J1ZmZlcj1udWxsLG51bGwhPT10aGlzLmJhY2tCdWZmZXJUaW1lcklkJiYod2luZG93LmNsZWFyVGltZW91dCh0aGlzLmJhY2tCdWZmZXJUaW1lcklkKSx0aGlzLmJhY2tCdWZmZXJUaW1lcklkPW51bGwpKX0sbW92ZUJ5UHg6ZnVuY3Rpb24oKXt0aGlzLnNpbmdsZVRpbGV8fHRoaXMubW92ZUdyaWRkZWRUaWxlcygpfSxzZXRUaWxlU2l6ZTpmdW5jdGlvbihhKXt0aGlzLnNpbmdsZVRpbGUmJihhPXRoaXMubWFwLmdldFNpemUoKSxhLmg9cGFyc2VJbnQoYS5oKnRoaXMucmF0aW8sMTApLGEudz1wYXJzZUludChhLncqdGhpcy5yYXRpbywxMCkpOwpPcGVuTGF5ZXJzLkxheWVyLkhUVFBSZXF1ZXN0LnByb3RvdHlwZS5zZXRUaWxlU2l6ZS5hcHBseSh0aGlzLFthXSl9LGdldFRpbGVzQm91bmRzOmZ1bmN0aW9uKCl7dmFyIGE9bnVsbCxiPXRoaXMuZ3JpZC5sZW5ndGg7aWYoYil2YXIgYT10aGlzLmdyaWRbYi0xXVswXS5ib3VuZHMsYj10aGlzLmdyaWRbMF0ubGVuZ3RoKmEuZ2V0V2lkdGgoKSxjPXRoaXMuZ3JpZC5sZW5ndGgqYS5nZXRIZWlnaHQoKSxhPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhhLmxlZnQsYS5ib3R0b20sYS5sZWZ0K2IsYS5ib3R0b20rYyk7cmV0dXJuIGF9LGluaXRTaW5nbGVUaWxlOmZ1bmN0aW9uKGEpe3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgicmV0aWxlIik7dmFyIGI9YS5nZXRDZW50ZXJMb25MYXQoKSxjPWEuZ2V0V2lkdGgoKSp0aGlzLnJhdGlvLGE9YS5nZXRIZWlnaHQoKSp0aGlzLnJhdGlvLGI9bmV3IE9wZW5MYXllcnMuQm91bmRzKGIubG9uLWMvMixiLmxhdC1hLzIsYi5sb24rYy8yLGIubGF0K2EvCjIpO2lmKChjPXRoaXMubWF4RXh0ZW50KSYmKCF0aGlzLmRpc3BsYXlPdXRzaWRlTWF4RXh0ZW50fHx0aGlzLm1hcC5iYXNlTGF5ZXIud3JhcERhdGVMaW5lJiZ0aGlzLm1heEV4dGVudC5lcXVhbHModGhpcy5tYXAuZ2V0TWF4RXh0ZW50KCkpKSliLmxlZnQ9TWF0aC5tYXgoYi5sZWZ0LGMubGVmdCksYi5yaWdodD1NYXRoLm1pbihiLnJpZ2h0LGMucmlnaHQpO2M9dGhpcy5tYXAuZ2V0TGF5ZXJQeEZyb21Mb25MYXQoe2xvbjpiLmxlZnQsbGF0OmIudG9wfSk7dGhpcy5ncmlkLmxlbmd0aHx8KHRoaXMuZ3JpZFswXT1bXSk7KGE9dGhpcy5ncmlkWzBdWzBdKT9hLm1vdmVUbyhiLGMpOihhPXRoaXMuYWRkVGlsZShiLGMpLHRoaXMuYWRkVGlsZU1vbml0b3JpbmdIb29rcyhhKSxhLmRyYXcoKSx0aGlzLmdyaWRbMF1bMF09YSk7dGhpcy5yZW1vdmVFeGNlc3NUaWxlcygxLDEpO3RoaXMuZ3JpZFJlc29sdXRpb249dGhpcy5nZXRTZXJ2ZXJSZXNvbHV0aW9uKCl9LGNhbGN1bGF0ZUdyaWRMYXlvdXQ6ZnVuY3Rpb24oYSwKYixjKXt2YXIgZD1jKnRoaXMudGlsZVNpemUudyxjPWMqdGhpcy50aWxlU2l6ZS5oLGU9TWF0aC5mbG9vcigoYS5sZWZ0LWIubG9uKS9kKS10aGlzLmJ1ZmZlcixmPXRoaXMucm93U2lnbixhPU1hdGhbfmY/ImZsb29yIjoiY2VpbCJdKGYqKGIubGF0LWEudG9wK2MpL2MpLXRoaXMuYnVmZmVyKmY7cmV0dXJue3RpbGVsb246ZCx0aWxlbGF0OmMsc3RhcnRjb2w6ZSxzdGFydHJvdzphfX0sZ2V0SW1hZ2VTaXplOmZ1bmN0aW9uKGEpe3ZhciBiPU9wZW5MYXllcnMuTGF5ZXIuSFRUUFJlcXVlc3QucHJvdG90eXBlLmdldEltYWdlU2l6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5zaW5nbGVUaWxlJiYoYj1uZXcgT3BlbkxheWVycy5TaXplKE1hdGgucm91bmQoYS5nZXRXaWR0aCgpL3RoaXMuZ3JpZFJlc29sdXRpb24pLGIuaCkpO3JldHVybiBifSxnZXRUaWxlT3JpZ2luOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50aWxlT3JpZ2luO2lmKCFhKXZhciBhPXRoaXMuZ2V0TWF4RXh0ZW50KCksCmI9e3RsOlsibGVmdCIsInRvcCJdLHRyOlsicmlnaHQiLCJ0b3AiXSxibDpbImxlZnQiLCJib3R0b20iXSxicjpbInJpZ2h0IiwiYm90dG9tIl19W3RoaXMudGlsZU9yaWdpbkNvcm5lcl0sYT1uZXcgT3BlbkxheWVycy5Mb25MYXQoYVtiWzBdXSxhW2JbMV1dKTtyZXR1cm4gYX0sZ2V0VGlsZUJvdW5kc0ZvckdyaWRJbmRleDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0VGlsZU9yaWdpbigpLGQ9dGhpcy5ncmlkTGF5b3V0LGU9ZC50aWxlbG9uLGY9ZC50aWxlbGF0LGc9ZC5zdGFydGNvbCxkPWQuc3RhcnRyb3csaD10aGlzLnJvd1NpZ247cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhjLmxvbisoZytiKSplLGMubGF0LShkK2EqaCkqZipoLGMubG9uKyhnK2IrMSkqZSxjLmxhdC0oZCsoYS0xKSpoKSpmKmgpfSxpbml0R3JpZGRlZFRpbGVzOmZ1bmN0aW9uKGEpe3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgicmV0aWxlIik7dmFyIGI9dGhpcy5tYXAuZ2V0U2l6ZSgpLGM9dGhpcy5nZXRUaWxlT3JpZ2luKCksCmQ9dGhpcy5tYXAuZ2V0UmVzb2x1dGlvbigpLGU9dGhpcy5nZXRTZXJ2ZXJSZXNvbHV0aW9uKCksZj1kL2UsZD10aGlzLnRpbGVTaXplLncvZixmPXRoaXMudGlsZVNpemUuaC9mLGc9TWF0aC5jZWlsKGIuaC9mKSsyKnRoaXMuYnVmZmVyKzEsYj1NYXRoLmNlaWwoYi53L2QpKzIqdGhpcy5idWZmZXIrMTt0aGlzLmdyaWRMYXlvdXQ9ZT10aGlzLmNhbGN1bGF0ZUdyaWRMYXlvdXQoYSxjLGUpO3ZhciBjPWUudGlsZWxvbixoPWUudGlsZWxhdCxlPXRoaXMubWFwLmxheWVyQ29udGFpbmVyT3JpZ2luUHgueCxpPXRoaXMubWFwLmxheWVyQ29udGFpbmVyT3JpZ2luUHgueSxqPXRoaXMuZ2V0VGlsZUJvdW5kc0ZvckdyaWRJbmRleCgwLDApLGs9dGhpcy5tYXAuZ2V0Vmlld1BvcnRQeEZyb21Mb25MYXQobmV3IE9wZW5MYXllcnMuTG9uTGF0KGoubGVmdCxqLnRvcCkpO2sueD1NYXRoLnJvdW5kKGsueCktZTtrLnk9TWF0aC5yb3VuZChrLnkpLWk7dmFyIGU9W10saT10aGlzLm1hcC5nZXRDZW50ZXIoKSwKbD0wO2Rve3ZhciBtPXRoaXMuZ3JpZFtsXTttfHwobT1bXSx0aGlzLmdyaWQucHVzaChtKSk7dmFyIG49MDtkb3t2YXIgaj10aGlzLmdldFRpbGVCb3VuZHNGb3JHcmlkSW5kZXgobCxuKSxwPWsuY2xvbmUoKTtwLngrPW4qTWF0aC5yb3VuZChkKTtwLnkrPWwqTWF0aC5yb3VuZChmKTt2YXIgcT1tW25dO3E/cS5tb3ZlVG8oaixwLCExKToocT10aGlzLmFkZFRpbGUoaixwKSx0aGlzLmFkZFRpbGVNb25pdG9yaW5nSG9va3MocSksbS5wdXNoKHEpKTtwPWouZ2V0Q2VudGVyTG9uTGF0KCk7ZS5wdXNoKHt0aWxlOnEsZGlzdGFuY2U6TWF0aC5wb3cocC5sb24taS5sb24sMikrTWF0aC5wb3cocC5sYXQtaS5sYXQsMil9KTtuKz0xfXdoaWxlKGoucmlnaHQ8PWEucmlnaHQrYyp0aGlzLmJ1ZmZlcnx8bjxiKTtsKz0xfXdoaWxlKGouYm90dG9tPj1hLmJvdHRvbS1oKnRoaXMuYnVmZmVyfHxsPGcpO3RoaXMucmVtb3ZlRXhjZXNzVGlsZXMobCxuKTt0aGlzLmdyaWRSZXNvbHV0aW9uPWQ9dGhpcy5nZXRTZXJ2ZXJSZXNvbHV0aW9uKCk7CmUuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLmRpc3RhbmNlLWIuZGlzdGFuY2V9KTthPTA7Zm9yKGQ9ZS5sZW5ndGg7YTxkOysrYSllW2FdLnRpbGUuZHJhdygpfSxnZXRNYXhFeHRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXhFeHRlbnR9LGFkZFRpbGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgdGhpcy50aWxlQ2xhc3ModGhpcyxiLGEsbnVsbCx0aGlzLnRpbGVTaXplLHRoaXMudGlsZU9wdGlvbnMpO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiYWRkdGlsZSIse3RpbGU6Y30pO3JldHVybiBjfSxhZGRUaWxlTW9uaXRvcmluZ0hvb2tzOmZ1bmN0aW9uKGEpe2Eub25Mb2FkU3RhcnQ9ZnVuY3Rpb24oKXshMT09PXRoaXMubG9hZGluZyYmKHRoaXMubG9hZGluZz0hMCx0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvYWRzdGFydCIpKTt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoInRpbGVsb2Fkc3RhcnQiLHt0aWxlOmF9KTt0aGlzLm51bUxvYWRpbmdUaWxlcysrOwohdGhpcy5zaW5nbGVUaWxlJiYodGhpcy5iYWNrQnVmZmVyJiZ0aGlzLmdyaWRSZXNvbHV0aW9uPT09dGhpcy5iYWNrQnVmZmVyUmVzb2x1dGlvbikmJk9wZW5MYXllcnMuRWxlbWVudC5hZGRDbGFzcyhhLmdldFRpbGUoKSwib2xUaWxlUmVwbGFjaW5nIil9O2Eub25Mb2FkRW5kPWZ1bmN0aW9uKGIpe3RoaXMubnVtTG9hZGluZ1RpbGVzLS07Yj0idW5sb2FkIj09PWIudHlwZTt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoInRpbGVsb2FkZWQiLHt0aWxlOmEsYWJvcnRlZDpifSk7aWYoIXRoaXMuc2luZ2xlVGlsZSYmIWImJnRoaXMuYmFja0J1ZmZlciYmdGhpcy5ncmlkUmVzb2x1dGlvbj09PXRoaXMuYmFja0J1ZmZlclJlc29sdXRpb24pe3ZhciBjPWEuZ2V0VGlsZSgpO2lmKCJub25lIj09PU9wZW5MYXllcnMuRWxlbWVudC5nZXRTdHlsZShjLCJkaXNwbGF5Iikpe3ZhciBkPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEuaWQrIl9iYiIpO2QmJmQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkKX1PcGVuTGF5ZXJzLkVsZW1lbnQucmVtb3ZlQ2xhc3MoYywKIm9sVGlsZVJlcGxhY2luZyIpfWlmKDA9PT10aGlzLm51bUxvYWRpbmdUaWxlcyl7aWYodGhpcy5iYWNrQnVmZmVyKWlmKDA9PT10aGlzLmJhY2tCdWZmZXIuY2hpbGROb2Rlcy5sZW5ndGgpdGhpcy5yZW1vdmVCYWNrQnVmZmVyKCk7ZWxzZXt0aGlzLl90cmFuc2l0aW9uRWxlbWVudD1iP3RoaXMuZGl2Lmxhc3RDaGlsZDphLmltZ0RpdjtiPXRoaXMudHJhbnNpdGlvbmVuZEV2ZW50cztmb3IoYz1iLmxlbmd0aC0xOzA8PWM7LS1jKU9wZW5MYXllcnMuRXZlbnQub2JzZXJ2ZSh0aGlzLl90cmFuc2l0aW9uRWxlbWVudCxiW2NdLHRoaXMuX3JlbW92ZUJhY2tCdWZmZXIpO3RoaXMuYmFja0J1ZmZlclRpbWVySWQ9d2luZG93LnNldFRpbWVvdXQodGhpcy5fcmVtb3ZlQmFja0J1ZmZlcix0aGlzLnJlbW92ZUJhY2tCdWZmZXJEZWxheSl9dGhpcy5sb2FkaW5nPSExO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgibG9hZGVuZCIpfX07YS5vbkxvYWRFcnJvcj1mdW5jdGlvbigpe3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgidGlsZWVycm9yIiwKe3RpbGU6YX0pfTthLmV2ZW50cy5vbih7bG9hZHN0YXJ0OmEub25Mb2FkU3RhcnQsbG9hZGVuZDphLm9uTG9hZEVuZCx1bmxvYWQ6YS5vbkxvYWRFbmQsbG9hZGVycm9yOmEub25Mb2FkRXJyb3Isc2NvcGU6dGhpc30pfSxyZW1vdmVUaWxlTW9uaXRvcmluZ0hvb2tzOmZ1bmN0aW9uKGEpe2EudW5sb2FkKCk7YS5ldmVudHMudW4oe2xvYWRzdGFydDphLm9uTG9hZFN0YXJ0LGxvYWRlbmQ6YS5vbkxvYWRFbmQsdW5sb2FkOmEub25Mb2FkRW5kLGxvYWRlcnJvcjphLm9uTG9hZEVycm9yLHNjb3BlOnRoaXN9KX0sbW92ZUdyaWRkZWRUaWxlczpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmJ1ZmZlcisxOzspe3ZhciBiPXRoaXMuZ3JpZFswXVswXSxjPWIucG9zaXRpb24ueCt0aGlzLm1hcC5sYXllckNvbnRhaW5lck9yaWdpblB4LngsYj1iLnBvc2l0aW9uLnkrdGhpcy5tYXAubGF5ZXJDb250YWluZXJPcmlnaW5QeC55LGQ9dGhpcy5nZXRTZXJ2ZXJSZXNvbHV0aW9uKCkvdGhpcy5tYXAuZ2V0UmVzb2x1dGlvbigpLApkPXt3Ok1hdGgucm91bmQodGhpcy50aWxlU2l6ZS53KmQpLGg6TWF0aC5yb3VuZCh0aGlzLnRpbGVTaXplLmgqZCl9O2lmKGM+LWQudyooYS0xKSl0aGlzLnNoaWZ0Q29sdW1uKCEwLGQpO2Vsc2UgaWYoYzwtZC53KmEpdGhpcy5zaGlmdENvbHVtbighMSxkKTtlbHNlIGlmKGI+LWQuaCooYS0xKSl0aGlzLnNoaWZ0Um93KCEwLGQpO2Vsc2UgaWYoYjwtZC5oKmEpdGhpcy5zaGlmdFJvdyghMSxkKTtlbHNlIGJyZWFrfX0sc2hpZnRSb3c6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdyaWQsZD1hPzA6Yy5sZW5ndGgtMSxlPWE/LTE6MTt0aGlzLmdyaWRMYXlvdXQuc3RhcnRyb3crPWUqdGhpcy5yb3dTaWduO2Zvcih2YXIgZj1jW2RdLGc9Y1thPyJwb3AiOiJzaGlmdCJdKCksaD0wLGk9Zy5sZW5ndGg7aDxpO2grKyl7dmFyIGo9Z1toXSxrPWZbaF0ucG9zaXRpb24uY2xvbmUoKTtrLnkrPWIuaCplO2oubW92ZVRvKHRoaXMuZ2V0VGlsZUJvdW5kc0ZvckdyaWRJbmRleChkLGgpLGspfWNbYT8KInVuc2hpZnQiOiJwdXNoIl0oZyl9LHNoaWZ0Q29sdW1uOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5ncmlkLGQ9YT8wOmNbMF0ubGVuZ3RoLTEsZT1hPy0xOjE7dGhpcy5ncmlkTGF5b3V0LnN0YXJ0Y29sKz1lO2Zvcih2YXIgZj0wLGc9Yy5sZW5ndGg7ZjxnO2YrKyl7dmFyIGg9Y1tmXSxpPWhbZF0ucG9zaXRpb24uY2xvbmUoKSxqPWhbYT8icG9wIjoic2hpZnQiXSgpO2kueCs9Yi53KmU7ai5tb3ZlVG8odGhpcy5nZXRUaWxlQm91bmRzRm9yR3JpZEluZGV4KGYsZCksaSk7aFthPyJ1bnNoaWZ0IjoicHVzaCJdKGopfX0scmVtb3ZlRXhjZXNzVGlsZXM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZDt0aGlzLmdyaWQubGVuZ3RoPmE7KXt2YXIgZT10aGlzLmdyaWQucG9wKCk7Yz0wO2ZvcihkPWUubGVuZ3RoO2M8ZDtjKyspe3ZhciBmPWVbY107dGhpcy5kZXN0cm95VGlsZShmKX19Yz0wO2ZvcihkPXRoaXMuZ3JpZC5sZW5ndGg7YzxkO2MrKylmb3IoO3RoaXMuZ3JpZFtjXS5sZW5ndGg+CmI7KWU9dGhpcy5ncmlkW2NdLGY9ZS5wb3AoKSx0aGlzLmRlc3Ryb3lUaWxlKGYpfSxvbk1hcFJlc2l6ZTpmdW5jdGlvbigpe3RoaXMuc2luZ2xlVGlsZSYmKHRoaXMuY2xlYXJHcmlkKCksdGhpcy5zZXRUaWxlU2l6ZSgpKX0sZ2V0VGlsZUJvdW5kczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm1heEV4dGVudCxjPXRoaXMuZ2V0UmVzb2x1dGlvbigpLGQ9Yyp0aGlzLnRpbGVTaXplLncsYz1jKnRoaXMudGlsZVNpemUuaCxlPXRoaXMuZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHgoYSksYT1iLmxlZnQrZCpNYXRoLmZsb29yKChlLmxvbi1iLmxlZnQpL2QpLGI9Yi5ib3R0b20rYypNYXRoLmZsb29yKChlLmxhdC1iLmJvdHRvbSkvYyk7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhhLGIsYStkLGIrYyl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuTGF5ZXIuR3JpZCJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5BcmNYTUw9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwse2ZvbnRTdHlsZUtleXM6ImFudGlhbGlhc2luZyBibG9ja291dCBmb250IGZvbnRjb2xvciBmb250c2l6ZSBmb250c3R5bGUgZ2xvd2luZyBpbnRlcnZhbCBvdXRsaW5lIHByaW50bW9kZSBzaGFkb3cgdHJhbnNwYXJlbmN5Ii5zcGxpdCgiICIpLHJlcXVlc3Q6bnVsbCxyZXNwb25zZTpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7dGhpcy5yZXF1ZXN0PW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5BcmNYTUwuUmVxdWVzdDt0aGlzLnJlc3BvbnNlPW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5BcmNYTUwuUmVzcG9uc2U7aWYoYSlpZigiZmVhdHVyZSI9PWEucmVxdWVzdHR5cGUpe3RoaXMucmVxdWVzdC5nZXRfaW1hZ2U9bnVsbDt2YXIgYj10aGlzLnJlcXVlc3QuZ2V0X2ZlYXR1cmUucXVlcnk7dGhpcy5hZGRDb29yZFN5cyhiLmZlYXR1cmVjb29yZHN5cyxhLmZlYXR1cmVDb29yZFN5cyk7CnRoaXMuYWRkQ29vcmRTeXMoYi5maWx0ZXJjb29yZHN5cyxhLmZpbHRlckNvb3JkU3lzKTthLnBvbHlnb24/KGIuaXNzcGF0aWFsPSEwLGIuc3BhdGlhbGZpbHRlci5wb2x5Z29uPWEucG9seWdvbik6YS5lbnZlbG9wZSYmKGIuaXNzcGF0aWFsPSEwLGIuc3BhdGlhbGZpbHRlci5lbnZlbG9wZT17bWlueDowLG1pbnk6MCxtYXh4OjAsbWF4eTowfSx0aGlzLnBhcnNlRW52ZWxvcGUoYi5zcGF0aWFsZmlsdGVyLmVudmVsb3BlLGEuZW52ZWxvcGUpKX1lbHNlImltYWdlIj09YS5yZXF1ZXN0dHlwZT8odGhpcy5yZXF1ZXN0LmdldF9mZWF0dXJlPW51bGwsYj10aGlzLnJlcXVlc3QuZ2V0X2ltYWdlLnByb3BlcnRpZXMsdGhpcy5wYXJzZUVudmVsb3BlKGIuZW52ZWxvcGUsYS5lbnZlbG9wZSksdGhpcy5hZGRMYXllcnMoYi5sYXllcmxpc3QsYS5sYXllcnMpLHRoaXMuYWRkSW1hZ2VTaXplKGIuaW1hZ2VzaXplLGEudGlsZVNpemUpLHRoaXMuYWRkQ29vcmRTeXMoYi5mZWF0dXJlY29vcmRzeXMsCmEuZmVhdHVyZUNvb3JkU3lzKSx0aGlzLmFkZENvb3JkU3lzKGIuZmlsdGVyY29vcmRzeXMsYS5maWx0ZXJDb29yZFN5cykpOnRoaXMucmVxdWVzdD1udWxsO09wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSl9LHBhcnNlRW52ZWxvcGU6ZnVuY3Rpb24oYSxiKXtiJiY0PT1iLmxlbmd0aCYmKGEubWlueD1iWzBdLGEubWlueT1iWzFdLGEubWF4eD1iWzJdLGEubWF4eT1iWzNdKX0sYWRkTGF5ZXJzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1iLmxlbmd0aDtjPGQ7YysrKWEucHVzaChiW2NdKX0sYWRkSW1hZ2VTaXplOmZ1bmN0aW9uKGEsYil7bnVsbCE9PWImJihhLndpZHRoPWIudyxhLmhlaWdodD1iLmgsYS5wcmludHdpZHRoPWIudyxhLnByaW50aGVpZ2h0PWIuaCl9LGFkZENvb3JkU3lzOmZ1bmN0aW9uKGEsYil7InN0cmluZyI9PXR5cGVvZiBiPyhhLmlkPXBhcnNlSW50KGIpLGEuc3RyaW5nPWIpOiJvYmplY3QiPT10eXBlb2YgYiYmCm51bGwhPT1iLnByb2omJihhLmlkPWIucHJvai5zcnNQcm9qTnVtYmVyLGEuc3RyaW5nPWIucHJvai5zcnNDb2RlKX0saXNlcnJvcjpmdW5jdGlvbihhKXt2YXIgYj1udWxsO2E/KGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSxhPWEuZG9jdW1lbnRFbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJFUlJPUiIpLGI9bnVsbCE9PWEmJjA8YS5sZW5ndGgpOmI9IiIhPT10aGlzLnJlc3BvbnNlLmVycm9yO3JldHVybiBifSxyZWFkOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7dmFyIGI9bnVsbDthJiZhLmRvY3VtZW50RWxlbWVudCYmKGI9IkFSQ1hNTCI9PWEuZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lP2EuZG9jdW1lbnRFbGVtZW50OmEuZG9jdW1lbnRFbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJBUkNYTUwiKVswXSk7CmlmKCFifHwicGFyc2VyZXJyb3IiPT09Yi5maXJzdENoaWxkLm5vZGVOYW1lKXt2YXIgYyxkO3RyeXtjPWEuZmlyc3RDaGlsZC5ub2RlVmFsdWUsZD1hLmZpcnN0Q2hpbGQuY2hpbGROb2Rlc1sxXS5maXJzdENoaWxkLm5vZGVWYWx1ZX1jYXRjaChlKXt9dGhyb3d7bWVzc2FnZToiRXJyb3IgcGFyc2luZyB0aGUgQXJjWE1MIHJlcXVlc3QiLGVycm9yOmMsc291cmNlOmR9O31yZXR1cm4gdGhpcy5wYXJzZVJlc3BvbnNlKGIpfSx3cml0ZTpmdW5jdGlvbihhKXthfHwoYT10aGlzLnJlcXVlc3QpO3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TKCIiLCJBUkNYTUwiKTtiLnNldEF0dHJpYnV0ZSgidmVyc2lvbiIsIjEuMSIpO3ZhciBjPXRoaXMuY3JlYXRlRWxlbWVudE5TKCIiLCJSRVFVRVNUIik7aWYobnVsbCE9YS5nZXRfaW1hZ2Upe3ZhciBkPXRoaXMuY3JlYXRlRWxlbWVudE5TKCIiLCJHRVRfSU1BR0UiKTtjLmFwcGVuZENoaWxkKGQpO3ZhciBlPXRoaXMuY3JlYXRlRWxlbWVudE5TKCIiLAoiUFJPUEVSVElFUyIpO2QuYXBwZW5kQ2hpbGQoZSk7YT1hLmdldF9pbWFnZS5wcm9wZXJ0aWVzO251bGwhPWEuZmVhdHVyZWNvb3Jkc3lzJiYoZD10aGlzLmNyZWF0ZUVsZW1lbnROUygiIiwiRkVBVFVSRUNPT1JEU1lTIiksZS5hcHBlbmRDaGlsZChkKSwwPT09YS5mZWF0dXJlY29vcmRzeXMuaWQ/ZC5zZXRBdHRyaWJ1dGUoInN0cmluZyIsYS5mZWF0dXJlY29vcmRzeXMuc3RyaW5nKTpkLnNldEF0dHJpYnV0ZSgiaWQiLGEuZmVhdHVyZWNvb3Jkc3lzLmlkKSk7bnVsbCE9YS5maWx0ZXJjb29yZHN5cyYmKGQ9dGhpcy5jcmVhdGVFbGVtZW50TlMoIiIsIkZJTFRFUkNPT1JEU1lTIiksZS5hcHBlbmRDaGlsZChkKSwwPT09YS5maWx0ZXJjb29yZHN5cy5pZD9kLnNldEF0dHJpYnV0ZSgic3RyaW5nIixhLmZpbHRlcmNvb3Jkc3lzLnN0cmluZyk6ZC5zZXRBdHRyaWJ1dGUoImlkIixhLmZpbHRlcmNvb3Jkc3lzLmlkKSk7bnVsbCE9YS5lbnZlbG9wZSYmKGQ9dGhpcy5jcmVhdGVFbGVtZW50TlMoIiIsCiJFTlZFTE9QRSIpLGUuYXBwZW5kQ2hpbGQoZCksZC5zZXRBdHRyaWJ1dGUoIm1pbngiLGEuZW52ZWxvcGUubWlueCksZC5zZXRBdHRyaWJ1dGUoIm1pbnkiLGEuZW52ZWxvcGUubWlueSksZC5zZXRBdHRyaWJ1dGUoIm1heHgiLGEuZW52ZWxvcGUubWF4eCksZC5zZXRBdHRyaWJ1dGUoIm1heHkiLGEuZW52ZWxvcGUubWF4eSkpO2Q9dGhpcy5jcmVhdGVFbGVtZW50TlMoIiIsIklNQUdFU0laRSIpO2UuYXBwZW5kQ2hpbGQoZCk7ZC5zZXRBdHRyaWJ1dGUoImhlaWdodCIsYS5pbWFnZXNpemUuaGVpZ2h0KTtkLnNldEF0dHJpYnV0ZSgid2lkdGgiLGEuaW1hZ2VzaXplLndpZHRoKTtpZihhLmltYWdlc2l6ZS5oZWlnaHQhPWEuaW1hZ2VzaXplLnByaW50aGVpZ2h0fHxhLmltYWdlc2l6ZS53aWR0aCE9YS5pbWFnZXNpemUucHJpbnR3aWR0aClkLnNldEF0dHJpYnV0ZSgicHJpbnRoZWlnaHQiLGEuaW1hZ2VzaXplLnByaW50aGVpZ2h0KSxkLnNldEFycnRpYnV0ZSgicHJpbnR3aWR0aCIsYS5pbWFnZXNpemUucHJpbnR3aWR0aCk7Cm51bGwhPWEuYmFja2dyb3VuZCYmKGQ9dGhpcy5jcmVhdGVFbGVtZW50TlMoIiIsIkJBQ0tHUk9VTkQiKSxlLmFwcGVuZENoaWxkKGQpLGQuc2V0QXR0cmlidXRlKCJjb2xvciIsYS5iYWNrZ3JvdW5kLmNvbG9yLnIrIiwiK2EuYmFja2dyb3VuZC5jb2xvci5nKyIsIithLmJhY2tncm91bmQuY29sb3IuYiksbnVsbCE9PWEuYmFja2dyb3VuZC50cmFuc2NvbG9yJiZkLnNldEF0dHJpYnV0ZSgidHJhbnNjb2xvciIsYS5iYWNrZ3JvdW5kLnRyYW5zY29sb3IucisiLCIrYS5iYWNrZ3JvdW5kLnRyYW5zY29sb3IuZysiLCIrYS5iYWNrZ3JvdW5kLnRyYW5zY29sb3IuYikpO2lmKG51bGwhPWEubGF5ZXJsaXN0JiYwPGEubGF5ZXJsaXN0Lmxlbmd0aCl7ZD10aGlzLmNyZWF0ZUVsZW1lbnROUygiIiwiTEFZRVJMSVNUIik7ZS5hcHBlbmRDaGlsZChkKTtmb3IoZT0wO2U8YS5sYXllcmxpc3QubGVuZ3RoO2UrKyl7dmFyIGY9dGhpcy5jcmVhdGVFbGVtZW50TlMoIiIsIkxBWUVSREVGIik7ZC5hcHBlbmRDaGlsZChmKTsKZi5zZXRBdHRyaWJ1dGUoImlkIixhLmxheWVybGlzdFtlXS5pZCk7Zi5zZXRBdHRyaWJ1dGUoInZpc2libGUiLGEubGF5ZXJsaXN0W2VdLnZpc2libGUpO2lmKCJvYmplY3QiPT10eXBlb2YgYS5sYXllcmxpc3RbZV0ucXVlcnkpe3ZhciBnPWEubGF5ZXJsaXN0W2VdLnF1ZXJ5O2lmKDA+Zy53aGVyZS5sZW5ndGgpY29udGludWU7dmFyIGg9bnVsbCxoPSJib29sZWFuIj09dHlwZW9mIGcuc3BhdGlhbGZpbHRlciYmZy5zcGF0aWFsZmlsdGVyP3RoaXMuY3JlYXRlRWxlbWVudE5TKCIiLCJTUEFUSUFMUVVFUlkiKTp0aGlzLmNyZWF0ZUVsZW1lbnROUygiIiwiUVVFUlkiKTtoLnNldEF0dHJpYnV0ZSgid2hlcmUiLGcud2hlcmUpOyJudW1iZXIiPT10eXBlb2YgZy5hY2N1cmFjeSYmMDxnLmFjY3VyYWN5JiZoLnNldEF0dHJpYnV0ZSgiYWNjdXJhY3kiLGcuYWNjdXJhY3kpOyJudW1iZXIiPT10eXBlb2YgZy5mZWF0dXJlbGltaXQmJjJFMz5nLmZlYXR1cmVsaW1pdCYmaC5zZXRBdHRyaWJ1dGUoImZlYXR1cmVsaW1pdCIsCmcuZmVhdHVyZWxpbWl0KTsic3RyaW5nIj09dHlwZW9mIGcuc3ViZmllbGRzJiYiI0FMTCMiIT1nLnN1YmZpZWxkcyYmaC5zZXRBdHRyaWJ1dGUoInN1YmZpZWxkcyIsZy5zdWJmaWVsZHMpOyJzdHJpbmciPT10eXBlb2YgZy5qb2luZXhwcmVzc2lvbiYmMDxnLmpvaW5leHByZXNzaW9uLmxlbmd0aCYmaC5zZXRBdHRyaWJ1dGUoImpvaW5leHByZXNzaW9uIixnLmpvaW5leHByZXNzaW9uKTsic3RyaW5nIj09dHlwZW9mIGcuam9pbnRhYmxlcyYmMDxnLmpvaW50YWJsZXMubGVuZ3RoJiZoLnNldEF0dHJpYnV0ZSgiam9pbnRhYmxlcyIsZy5qb2ludGFibGVzKTtmLmFwcGVuZENoaWxkKGgpfSJvYmplY3QiPT10eXBlb2YgYS5sYXllcmxpc3RbZV0ucmVuZGVyZXImJnRoaXMuYWRkUmVuZGVyZXIoZixhLmxheWVybGlzdFtlXS5yZW5kZXJlcil9fX1lbHNlIG51bGwhPWEuZ2V0X2ZlYXR1cmUmJihkPXRoaXMuY3JlYXRlRWxlbWVudE5TKCIiLCJHRVRfRkVBVFVSRVMiKSxkLnNldEF0dHJpYnV0ZSgib3V0cHV0bW9kZSIsCiJuZXd4bWwiKSxkLnNldEF0dHJpYnV0ZSgiY2hlY2tlc2MiLCJ0cnVlIiksYS5nZXRfZmVhdHVyZS5nZW9tZXRyeT9kLnNldEF0dHJpYnV0ZSgiZ2VvbWV0cnkiLGEuZ2V0X2ZlYXR1cmUuZ2VvbWV0cnkpOmQuc2V0QXR0cmlidXRlKCJnZW9tZXRyeSIsImZhbHNlIiksYS5nZXRfZmVhdHVyZS5jb21wYWN0JiZkLnNldEF0dHJpYnV0ZSgiY29tcGFjdCIsYS5nZXRfZmVhdHVyZS5jb21wYWN0KSwibnVtYmVyIj09YS5nZXRfZmVhdHVyZS5mZWF0dXJlbGltaXQmJmQuc2V0QXR0cmlidXRlKCJmZWF0dXJlbGltaXQiLGEuZ2V0X2ZlYXR1cmUuZmVhdHVyZWxpbWl0KSxkLnNldEF0dHJpYnV0ZSgiZ2xvYmFsZW52ZWxvcGUiLCJ0cnVlIiksYy5hcHBlbmRDaGlsZChkKSxudWxsIT1hLmdldF9mZWF0dXJlLmxheWVyJiYwPGEuZ2V0X2ZlYXR1cmUubGF5ZXIubGVuZ3RoJiYoZT10aGlzLmNyZWF0ZUVsZW1lbnROUygiIiwiTEFZRVIiKSxlLnNldEF0dHJpYnV0ZSgiaWQiLGEuZ2V0X2ZlYXR1cmUubGF5ZXIpLApkLmFwcGVuZENoaWxkKGUpKSxhPWEuZ2V0X2ZlYXR1cmUucXVlcnksbnVsbCE9YSYmKGU9bnVsbCxlPWEuaXNzcGF0aWFsP3RoaXMuY3JlYXRlRWxlbWVudE5TKCIiLCJTUEFUSUFMUVVFUlkiKTp0aGlzLmNyZWF0ZUVsZW1lbnROUygiIiwiUVVFUlkiKSxkLmFwcGVuZENoaWxkKGUpLCJudW1iZXIiPT10eXBlb2YgYS5hY2N1cmFjeSYmZS5zZXRBdHRyaWJ1dGUoImFjY3VyYWN5IixhLmFjY3VyYWN5KSxudWxsIT1hLmZlYXR1cmVjb29yZHN5cyYmKGQ9dGhpcy5jcmVhdGVFbGVtZW50TlMoIiIsIkZFQVRVUkVDT09SRFNZUyIpLDA9PWEuZmVhdHVyZWNvb3Jkc3lzLmlkP2Quc2V0QXR0cmlidXRlKCJzdHJpbmciLGEuZmVhdHVyZWNvb3Jkc3lzLnN0cmluZyk6ZC5zZXRBdHRyaWJ1dGUoImlkIixhLmZlYXR1cmVjb29yZHN5cy5pZCksZS5hcHBlbmRDaGlsZChkKSksbnVsbCE9YS5maWx0ZXJjb29yZHN5cyYmKGQ9dGhpcy5jcmVhdGVFbGVtZW50TlMoIiIsIkZJTFRFUkNPT1JEU1lTIiksCjA9PT1hLmZpbHRlcmNvb3Jkc3lzLmlkP2Quc2V0QXR0cmlidXRlKCJzdHJpbmciLGEuZmlsdGVyY29vcmRzeXMuc3RyaW5nKTpkLnNldEF0dHJpYnV0ZSgiaWQiLGEuZmlsdGVyY29vcmRzeXMuaWQpLGUuYXBwZW5kQ2hpbGQoZCkpLDA8YS5idWZmZXImJihkPXRoaXMuY3JlYXRlRWxlbWVudE5TKCIiLCJCVUZGRVIiKSxkLnNldEF0dHJpYnV0ZSgiZGlzdGFuY2UiLGEuYnVmZmVyKSxlLmFwcGVuZENoaWxkKGQpKSxhLmlzc3BhdGlhbCYmKGQ9dGhpcy5jcmVhdGVFbGVtZW50TlMoIiIsIlNQQVRJQUxGSUxURVIiKSxkLnNldEF0dHJpYnV0ZSgicmVsYXRpb24iLGEuc3BhdGlhbGZpbHRlci5yZWxhdGlvbiksZS5hcHBlbmRDaGlsZChkKSxhLnNwYXRpYWxmaWx0ZXIuZW52ZWxvcGU/KGY9dGhpcy5jcmVhdGVFbGVtZW50TlMoIiIsIkVOVkVMT1BFIiksZi5zZXRBdHRyaWJ1dGUoIm1pbngiLGEuc3BhdGlhbGZpbHRlci5lbnZlbG9wZS5taW54KSxmLnNldEF0dHJpYnV0ZSgibWlueSIsYS5zcGF0aWFsZmlsdGVyLmVudmVsb3BlLm1pbnkpLApmLnNldEF0dHJpYnV0ZSgibWF4eCIsYS5zcGF0aWFsZmlsdGVyLmVudmVsb3BlLm1heHgpLGYuc2V0QXR0cmlidXRlKCJtYXh5IixhLnNwYXRpYWxmaWx0ZXIuZW52ZWxvcGUubWF4eSksZC5hcHBlbmRDaGlsZChmKSk6Im9iamVjdCI9PXR5cGVvZiBhLnNwYXRpYWxmaWx0ZXIucG9seWdvbiYmZC5hcHBlbmRDaGlsZCh0aGlzLndyaXRlUG9seWdvbkdlb21ldHJ5KGEuc3BhdGlhbGZpbHRlci5wb2x5Z29uKSkpLG51bGwhPWEud2hlcmUmJjA8YS53aGVyZS5sZW5ndGgmJmUuc2V0QXR0cmlidXRlKCJ3aGVyZSIsYS53aGVyZSkpKTtiLmFwcGVuZENoaWxkKGMpO3JldHVybiBPcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLndyaXRlLmFwcGx5KHRoaXMsW2JdKX0sYWRkR3JvdXBSZW5kZXJlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3JlYXRlRWxlbWVudE5TKCIiLCJHUk9VUFJFTkRFUkVSIik7YS5hcHBlbmRDaGlsZChjKTtmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKyl0aGlzLmFkZFJlbmRlcmVyKGMsCmJbZF0pfSxhZGRSZW5kZXJlcjpmdW5jdGlvbihhLGIpe2lmKE9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGIpKXRoaXMuYWRkR3JvdXBSZW5kZXJlcihhLGIpO2Vsc2V7dmFyIGM9dGhpcy5jcmVhdGVFbGVtZW50TlMoIiIsYi50eXBlLnRvVXBwZXJDYXNlKCkrIlJFTkRFUkVSIik7YS5hcHBlbmRDaGlsZChjKTsiVkFMVUVNQVBSRU5ERVJFUiI9PWMudGFnTmFtZT90aGlzLmFkZFZhbHVlTWFwUmVuZGVyZXIoYyxiKToiVkFMVUVNQVBMQUJFTFJFTkRFUkVSIj09Yy50YWdOYW1lP3RoaXMuYWRkVmFsdWVNYXBMYWJlbFJlbmRlcmVyKGMsYik6IlNJTVBMRUxBQkVMUkVOREVSRVIiPT1jLnRhZ05hbWU/dGhpcy5hZGRTaW1wbGVMYWJlbFJlbmRlcmVyKGMsYik6IlNDQUxFREVQRU5ERU5UUkVOREVSRVIiPT1jLnRhZ05hbWUmJnRoaXMuYWRkU2NhbGVEZXBlbmRlbnRSZW5kZXJlcihjLGIpfX0sYWRkU2NhbGVEZXBlbmRlbnRSZW5kZXJlcjpmdW5jdGlvbihhLGIpeygic3RyaW5nIj09dHlwZW9mIGIubG93ZXJ8fAoibnVtYmVyIj09dHlwZW9mIGIubG93ZXIpJiZhLnNldEF0dHJpYnV0ZSgibG93ZXIiLGIubG93ZXIpOygic3RyaW5nIj09dHlwZW9mIGIudXBwZXJ8fCJudW1iZXIiPT10eXBlb2YgYi51cHBlcikmJmEuc2V0QXR0cmlidXRlKCJ1cHBlciIsYi51cHBlcik7dGhpcy5hZGRSZW5kZXJlcihhLGIucmVuZGVyZXIpfSxhZGRWYWx1ZU1hcExhYmVsUmVuZGVyZXI6ZnVuY3Rpb24oYSxiKXthLnNldEF0dHJpYnV0ZSgibG9va3VwZmllbGQiLGIubG9va3VwZmllbGQpO2Euc2V0QXR0cmlidXRlKCJsYWJlbGZpZWxkIixiLmxhYmVsZmllbGQpO2lmKCJvYmplY3QiPT10eXBlb2YgYi5leGFjdHMpZm9yKHZhciBjPTAsZD1iLmV4YWN0cy5sZW5ndGg7YzxkO2MrKyl7dmFyIGU9Yi5leGFjdHNbY10sZj10aGlzLmNyZWF0ZUVsZW1lbnROUygiIiwiRVhBQ1QiKTsic3RyaW5nIj09dHlwZW9mIGUudmFsdWUmJmYuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsZS52YWx1ZSk7InN0cmluZyI9PXR5cGVvZiBlLmxhYmVsJiYKZi5zZXRBdHRyaWJ1dGUoImxhYmVsIixlLmxhYmVsKTsic3RyaW5nIj09dHlwZW9mIGUubWV0aG9kJiZmLnNldEF0dHJpYnV0ZSgibWV0aG9kIixlLm1ldGhvZCk7YS5hcHBlbmRDaGlsZChmKTtpZigib2JqZWN0Ij09dHlwZW9mIGUuc3ltYm9sKXt2YXIgZz1udWxsOyJ0ZXh0Ij09ZS5zeW1ib2wudHlwZSYmKGc9dGhpcy5jcmVhdGVFbGVtZW50TlMoIiIsIlRFWFRTWU1CT0wiKSk7aWYobnVsbCE9Zyl7Zm9yKHZhciBoPXRoaXMuZm9udFN0eWxlS2V5cyxpPTAsaj1oLmxlbmd0aDtpPGo7aSsrKXt2YXIgaz1oW2ldO2Uuc3ltYm9sW2tdJiZnLnNldEF0dHJpYnV0ZShrLGUuc3ltYm9sW2tdKX1mLmFwcGVuZENoaWxkKGcpfX19fSxhZGRWYWx1ZU1hcFJlbmRlcmVyOmZ1bmN0aW9uKGEsYil7YS5zZXRBdHRyaWJ1dGUoImxvb2t1cGZpZWxkIixiLmxvb2t1cGZpZWxkKTtpZigib2JqZWN0Ij09dHlwZW9mIGIucmFuZ2VzKWZvcih2YXIgYz0wLGQ9Yi5yYW5nZXMubGVuZ3RoO2M8ZDtjKyspe3ZhciBlPQpiLnJhbmdlc1tjXSxmPXRoaXMuY3JlYXRlRWxlbWVudE5TKCIiLCJSQU5HRSIpO2Yuc2V0QXR0cmlidXRlKCJsb3dlciIsZS5sb3dlcik7Zi5zZXRBdHRyaWJ1dGUoInVwcGVyIixlLnVwcGVyKTthLmFwcGVuZENoaWxkKGYpO2lmKCJvYmplY3QiPT10eXBlb2YgZS5zeW1ib2wpe3ZhciBnPW51bGw7InNpbXBsZXBvbHlnb24iPT1lLnN5bWJvbC50eXBlJiYoZz10aGlzLmNyZWF0ZUVsZW1lbnROUygiIiwiU0lNUExFUE9MWUdPTlNZTUJPTCIpKTtudWxsIT1nJiYoInN0cmluZyI9PXR5cGVvZiBlLnN5bWJvbC5ib3VuZGFyeWNvbG9yJiZnLnNldEF0dHJpYnV0ZSgiYm91bmRhcnljb2xvciIsZS5zeW1ib2wuYm91bmRhcnljb2xvciksInN0cmluZyI9PXR5cGVvZiBlLnN5bWJvbC5maWxsY29sb3ImJmcuc2V0QXR0cmlidXRlKCJmaWxsY29sb3IiLGUuc3ltYm9sLmZpbGxjb2xvciksIm51bWJlciI9PXR5cGVvZiBlLnN5bWJvbC5maWxsdHJhbnNwYXJlbmN5JiZnLnNldEF0dHJpYnV0ZSgiZmlsbHRyYW5zcGFyZW5jeSIsCmUuc3ltYm9sLmZpbGx0cmFuc3BhcmVuY3kpLGYuYXBwZW5kQ2hpbGQoZykpfX1lbHNlIGlmKCJvYmplY3QiPT10eXBlb2YgYi5leGFjdHMpe2M9MDtmb3IoZD1iLmV4YWN0cy5sZW5ndGg7YzxkO2MrKyllPWIuZXhhY3RzW2NdLGY9dGhpcy5jcmVhdGVFbGVtZW50TlMoIiIsIkVYQUNUIiksInN0cmluZyI9PXR5cGVvZiBlLnZhbHVlJiZmLnNldEF0dHJpYnV0ZSgidmFsdWUiLGUudmFsdWUpLCJzdHJpbmciPT10eXBlb2YgZS5sYWJlbCYmZi5zZXRBdHRyaWJ1dGUoImxhYmVsIixlLmxhYmVsKSwic3RyaW5nIj09dHlwZW9mIGUubWV0aG9kJiZmLnNldEF0dHJpYnV0ZSgibWV0aG9kIixlLm1ldGhvZCksYS5hcHBlbmRDaGlsZChmKSwib2JqZWN0Ij09dHlwZW9mIGUuc3ltYm9sJiYoZz1udWxsLCJzaW1wbGVtYXJrZXIiPT1lLnN5bWJvbC50eXBlJiYoZz10aGlzLmNyZWF0ZUVsZW1lbnROUygiIiwiU0lNUExFTUFSS0VSU1lNQk9MIikpLG51bGwhPWcmJigic3RyaW5nIj09dHlwZW9mIGUuc3ltYm9sLmFudGlhbGlhc2luZyYmCmcuc2V0QXR0cmlidXRlKCJhbnRpYWxpYXNpbmciLGUuc3ltYm9sLmFudGlhbGlhc2luZyksInN0cmluZyI9PXR5cGVvZiBlLnN5bWJvbC5jb2xvciYmZy5zZXRBdHRyaWJ1dGUoImNvbG9yIixlLnN5bWJvbC5jb2xvciksInN0cmluZyI9PXR5cGVvZiBlLnN5bWJvbC5vdXRsaW5lJiZnLnNldEF0dHJpYnV0ZSgib3V0bGluZSIsZS5zeW1ib2wub3V0bGluZSksInN0cmluZyI9PXR5cGVvZiBlLnN5bWJvbC5vdmVybGFwJiZnLnNldEF0dHJpYnV0ZSgib3ZlcmxhcCIsZS5zeW1ib2wub3ZlcmxhcCksInN0cmluZyI9PXR5cGVvZiBlLnN5bWJvbC5zaGFkb3cmJmcuc2V0QXR0cmlidXRlKCJzaGFkb3ciLGUuc3ltYm9sLnNoYWRvdyksIm51bWJlciI9PXR5cGVvZiBlLnN5bWJvbC50cmFuc3BhcmVuY3kmJmcuc2V0QXR0cmlidXRlKCJ0cmFuc3BhcmVuY3kiLGUuc3ltYm9sLnRyYW5zcGFyZW5jeSksInN0cmluZyI9PXR5cGVvZiBlLnN5bWJvbC51c2VjZW50cm9pZCYmZy5zZXRBdHRyaWJ1dGUoInVzZWNlbnRyb2lkIiwKZS5zeW1ib2wudXNlY2VudHJvaWQpLCJudW1iZXIiPT10eXBlb2YgZS5zeW1ib2wud2lkdGgmJmcuc2V0QXR0cmlidXRlKCJ3aWR0aCIsZS5zeW1ib2wud2lkdGgpLGYuYXBwZW5kQ2hpbGQoZykpKX19LGFkZFNpbXBsZUxhYmVsUmVuZGVyZXI6ZnVuY3Rpb24oYSxiKXthLnNldEF0dHJpYnV0ZSgiZmllbGQiLGIuZmllbGQpO2Zvcih2YXIgYz0iZmVhdHVyZXdlaWdodCBob3dtYW55bGFiZWxzIGxhYmVsYnVmZmVycmF0aW8gbGFiZWxwcmlvcml0aWVzIGxhYmVsd2VpZ2h0IGxpbmVsYWJlbHBvc2l0aW9uIHJvdGF0aW9uYWxhbmdsZXMiLnNwbGl0KCIgIiksZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKyl7dmFyIGY9Y1tkXTtiW2ZdJiZhLnNldEF0dHJpYnV0ZShmLGJbZl0pfWlmKCJ0ZXh0Ij09Yi5zeW1ib2wudHlwZSl7dmFyIGc9Yi5zeW1ib2wsaD10aGlzLmNyZWF0ZUVsZW1lbnROUygiIiwiVEVYVFNZTUJPTCIpO2EuYXBwZW5kQ2hpbGQoaCk7Yz10aGlzLmZvbnRTdHlsZUtleXM7ZD0wOwpmb3IoZT1jLmxlbmd0aDtkPGU7ZCsrKWY9Y1tkXSxnW2ZdJiZoLnNldEF0dHJpYnV0ZShmLGJbZl0pfX0sd3JpdGVQb2x5Z29uR2VvbWV0cnk6ZnVuY3Rpb24oYSl7aWYoIShhIGluc3RhbmNlb2YgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uKSl0aHJvd3ttZXNzYWdlOiJDYW5ub3Qgd3JpdGUgcG9seWdvbiBnZW9tZXRyeSB0byBBcmNYTUwgd2l0aCBhbiAiK2EuQ0xBU1NfTkFNRSsiIG9iamVjdC4iLGdlb21ldHJ5OmF9O2Zvcih2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUygiIiwiUE9MWUdPTiIpLGM9MCxkPWEuY29tcG9uZW50cy5sZW5ndGg7YzxkO2MrKyl7Zm9yKHZhciBlPWEuY29tcG9uZW50c1tjXSxmPXRoaXMuY3JlYXRlRWxlbWVudE5TKCIiLCJSSU5HIiksZz0wLGg9ZS5jb21wb25lbnRzLmxlbmd0aDtnPGg7ZysrKXt2YXIgaT1lLmNvbXBvbmVudHNbZ10saj10aGlzLmNyZWF0ZUVsZW1lbnROUygiIiwiUE9JTlQiKTtqLnNldEF0dHJpYnV0ZSgieCIsaS54KTtqLnNldEF0dHJpYnV0ZSgieSIsCmkueSk7Zi5hcHBlbmRDaGlsZChqKX1iLmFwcGVuZENoaWxkKGYpfXJldHVybiBifSxwYXJzZVJlc3BvbnNlOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9KG5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5YTUwpLnJlYWQoYSkpO3ZhciBiPW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5BcmNYTUwuUmVzcG9uc2UsYz1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJFUlJPUiIpO2lmKG51bGwhPWMmJjA8Yy5sZW5ndGgpYi5lcnJvcj10aGlzLmdldENoaWxkVmFsdWUoYywiVW5rbm93biBlcnJvci4iKTtlbHNle2M9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiUkVTUE9OU0UiKTtpZihudWxsPT1jfHwwPT1jLmxlbmd0aClyZXR1cm4gYi5lcnJvcj0iTm8gUkVTUE9OU0UgdGFnIGZvdW5kIGluIEFyY1hNTCByZXNwb25zZS4iLGI7dmFyIGQ9Y1swXS5maXJzdENoaWxkLm5vZGVOYW1lOyIjdGV4dCI9PWQmJihkPWNbMF0uZmlyc3RDaGlsZC5uZXh0U2libGluZy5ub2RlTmFtZSk7aWYoIklNQUdFIj09CmQpYz1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJFTlZFTE9QRSIpLGE9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiT1VUUFVUIiksbnVsbD09Y3x8MD09Yy5sZW5ndGg/Yi5lcnJvcj0iTm8gRU5WRUxPUEUgdGFnIGZvdW5kIGluIEFyY1hNTCByZXNwb25zZS4iOm51bGw9PWF8fDA9PWEubGVuZ3RoP2IuZXJyb3I9Ik5vIE9VVFBVVCB0YWcgZm91bmQgaW4gQXJjWE1MIHJlc3BvbnNlLiI6KGM9dGhpcy5wYXJzZUF0dHJpYnV0ZXMoY1swXSksZD10aGlzLnBhcnNlQXR0cmlidXRlcyhhWzBdKSxiLmltYWdlPSJzdHJpbmciPT10eXBlb2YgZC50eXBlP3tlbnZlbG9wZTpjLG91dHB1dDp7dHlwZTpkLnR5cGUsZGF0YTp0aGlzLmdldENoaWxkVmFsdWUoYVswXSl9fTp7ZW52ZWxvcGU6YyxvdXRwdXQ6ZH0pO2Vsc2UgaWYoIkZFQVRVUkVTIj09ZCl7aWYoYT1jWzBdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJGRUFUVVJFUyIpLGM9YVswXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiRkVBVFVSRUNPVU5UIiksCmIuZmVhdHVyZXMuZmVhdHVyZWNvdW50PWNbMF0uZ2V0QXR0cmlidXRlKCJjb3VudCIpLDA8Yi5mZWF0dXJlcy5mZWF0dXJlY291bnQpe2M9YVswXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiRU5WRUxPUEUiKTtiLmZlYXR1cmVzLmVudmVsb3BlPXRoaXMucGFyc2VBdHRyaWJ1dGVzKGNbMF0sIm51bWJlciIpO2E9YVswXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiRkVBVFVSRSIpO2ZvcihjPTA7YzxhLmxlbmd0aDtjKyspe2Zvcih2YXIgZD1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcixlPWFbY10uZ2V0RWxlbWVudHNCeVRhZ05hbWUoIkZJRUxEIiksZj0wO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgZz1lW2ZdLmdldEF0dHJpYnV0ZSgibmFtZSIpLGg9ZVtmXS5nZXRBdHRyaWJ1dGUoInZhbHVlIik7ZC5hdHRyaWJ1dGVzW2ddPWh9ZT1hW2NdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJQT0xZR09OIik7aWYoMDxlLmxlbmd0aCl7ZT1lWzBdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJSSU5HIik7CmY9W107Zm9yKGc9MDtnPGUubGVuZ3RoO2crKyl7aD1bXTtoLnB1c2godGhpcy5wYXJzZVBvaW50R2VvbWV0cnkoZVtnXSkpO2Zvcih2YXIgaT1lW2ddLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJIT0xFIiksaj0wO2o8aS5sZW5ndGg7aisrKWgucHVzaCh0aGlzLnBhcnNlUG9pbnRHZW9tZXRyeShpW2pdKSk7Zi5wdXNoKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24oaCkpfWQuZ2VvbWV0cnk9MT09Zi5sZW5ndGg/ZlswXTpuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aVBvbHlnb24oZil9Yi5mZWF0dXJlcy5mZWF0dXJlLnB1c2goZCl9fX1lbHNlIGIuZXJyb3I9IlVuaWRlbnRpZmllZCByZXNwb25zZSB0eXBlLiJ9cmV0dXJuIGJ9LHBhcnNlQXR0cmlidXRlczpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz17fSxkPTA7ZDxhLmF0dHJpYnV0ZXMubGVuZ3RoO2QrKyljW2EuYXR0cmlidXRlc1tkXS5ub2RlTmFtZV09Im51bWJlciI9PWI/cGFyc2VGbG9hdChhLmF0dHJpYnV0ZXNbZF0ubm9kZVZhbHVlKToKYS5hdHRyaWJ1dGVzW2RdLm5vZGVWYWx1ZTtyZXR1cm4gY30scGFyc2VQb2ludEdlb21ldHJ5OmZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiQ09PUkRTIik7aWYoMDxjLmxlbmd0aCl7YT10aGlzLmdldENoaWxkVmFsdWUoY1swXSk7YT1hLnNwbGl0KC87Lyk7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXS5zcGxpdCgvIC8pO2IucHVzaChuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChkWzBdLGRbMV0pKX19ZWxzZSBpZihhPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIlBPSU5UIiksMDxhLmxlbmd0aClmb3IoYz0wO2M8YS5sZW5ndGg7YysrKWIucHVzaChuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChwYXJzZUZsb2F0KGFbY10uZ2V0QXR0cmlidXRlKCJ4IikpLHBhcnNlRmxvYXQoYVtjXS5nZXRBdHRyaWJ1dGUoInkiKSkpKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyhiKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuQXJjWE1MIn0pOwpPcGVuTGF5ZXJzLkZvcm1hdC5BcmNYTUwuUmVxdWVzdD1PcGVuTGF5ZXJzLkNsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIE9wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcyx7Z2V0X2ltYWdlOntwcm9wZXJ0aWVzOntiYWNrZ3JvdW5kOm51bGwsZHJhdzohMCxlbnZlbG9wZTp7bWlueDowLG1pbnk6MCxtYXh4OjAsbWF4eTowfSxmZWF0dXJlY29vcmRzeXM6e2lkOjAsc3RyaW5nOiIiLGRhdHVtdHJhbnNmb3JtaWQ6MCxkYXR1bXRyYW5zZm9ybXN0cmluZzoiIn0sZmlsdGVyY29vcmRzeXM6e2lkOjAsc3RyaW5nOiIiLGRhdHVtdHJhbnNmb3JtaWQ6MCxkYXR1bXRyYW5zZm9ybXN0cmluZzoiIn0saW1hZ2VzaXplOntoZWlnaHQ6MCx3aWR0aDowLGRwaTo5NixwcmludGhlaWdodDowLHByaW50d2lkdGg6MCxzY2FsZXN5bWJvbHM6ITF9LGxheWVybGlzdDpbXSxvdXRwdXQ6e2Jhc2V1cmw6IiIsbGVnZW5kYmFzZXVybDoiIixsZWdlbmRuYW1lOiIiLGxlZ2VuZHBhdGg6IiIsCmxlZ2VuZHVybDoiIixuYW1lOiIiLHBhdGg6IiIsdHlwZToianBnIix1cmw6IiJ9fX0sZ2V0X2ZlYXR1cmU6e2xheWVyOiIiLHF1ZXJ5Ontpc3NwYXRpYWw6ITEsZmVhdHVyZWNvb3Jkc3lzOntpZDowLHN0cmluZzoiIixkYXR1bXRyYW5zZm9ybWlkOjAsZGF0dW10cmFuc2Zvcm1zdHJpbmc6IiJ9LGZpbHRlcmNvb3Jkc3lzOntpZDowLHN0cmluZzoiIixkYXR1bXRyYW5zZm9ybWlkOjAsZGF0dW10cmFuc2Zvcm1zdHJpbmc6IiJ9LGJ1ZmZlcjowLHdoZXJlOiIiLHNwYXRpYWxmaWx0ZXI6e3JlbGF0aW9uOiJlbnZlbG9wZV9pbnRlcnNlY3Rpb24iLGVudmVsb3BlOm51bGx9fX0sZW52aXJvbm1lbnQ6e3NlcGFyYXRvcnM6e2NzOiIgIix0czoiOyJ9fSxsYXllcjpbXSx3b3Jrc3BhY2VzOltdfSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LkFyY1hNTC5SZXF1ZXN0In0pOwpPcGVuTGF5ZXJzLkZvcm1hdC5BcmNYTUwuUmVzcG9uc2U9T3BlbkxheWVycy5DbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbigpe3JldHVybiBPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMse2ltYWdlOntlbnZlbG9wZTpudWxsLG91dHB1dDoiIn0sZmVhdHVyZXM6e2ZlYXR1cmVjb3VudDowLGVudmVsb3BlOm51bGwsZmVhdHVyZTpbXX0sZXJyb3I6IiJ9KX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuQXJjWE1MLlJlc3BvbnNlIn0pOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt0aGlzLl9vYmplY3Q9ZiYmIWk/bmV3IGY6bmV3IHdpbmRvdy5BY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MSFRUUCIpO3RoaXMuX2xpc3RlbmVycz1bXX1mdW5jdGlvbiBiKCl7cmV0dXJuIG5ldyBhfWZ1bmN0aW9uIGMoYSl7Yi5vbnJlYWR5c3RhdGVjaGFuZ2UmJmIub25yZWFkeXN0YXRlY2hhbmdlLmFwcGx5KGEpO2EuZGlzcGF0Y2hFdmVudCh7dHlwZToicmVhZHlzdGF0ZWNoYW5nZSIsYnViYmxlczohMSxjYW5jZWxhYmxlOiExLHRpbWVTdGFtcDpuZXcgRGF0ZSswfSl9ZnVuY3Rpb24gZChhKXt0cnl7YS5yZXNwb25zZVRleHQ9YS5fb2JqZWN0LnJlc3BvbnNlVGV4dH1jYXRjaChiKXt9dHJ5e3ZhciBjO3ZhciBkPWEuX29iamVjdCxlPWQucmVzcG9uc2VYTUwsZj1kLnJlc3BvbnNlVGV4dDtoJiYoZiYmZSYmIWUuZG9jdW1lbnRFbGVtZW50JiZkLmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKS5tYXRjaCgvW15cL10rXC9bXlwrXStcK3htbC8pKSYmCihlPW5ldyB3aW5kb3cuQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTERPTSIpLGUuYXN5bmM9ITEsZS52YWxpZGF0ZU9uUGFyc2U9ITEsZS5sb2FkWE1MKGYpKTtjPWUmJihoJiYwIT1lLnBhcnNlRXJyb3J8fCFlLmRvY3VtZW50RWxlbWVudHx8ZS5kb2N1bWVudEVsZW1lbnQmJiJwYXJzZXJlcnJvciI9PWUuZG9jdW1lbnRFbGVtZW50LnRhZ05hbWUpP251bGw6ZTthLnJlc3BvbnNlWE1MPWN9Y2F0Y2goZyl7fXRyeXthLnN0YXR1cz1hLl9vYmplY3Quc3RhdHVzfWNhdGNoKGkpe310cnl7YS5zdGF0dXNUZXh0PWEuX29iamVjdC5zdGF0dXNUZXh0fWNhdGNoKHMpe319ZnVuY3Rpb24gZShhKXthLl9vYmplY3Qub25yZWFkeXN0YXRlY2hhbmdlPW5ldyB3aW5kb3cuRnVuY3Rpb259dmFyIGY9d2luZG93LlhNTEh0dHBSZXF1ZXN0LGc9ISF3aW5kb3cuY29udHJvbGxlcnMsaD13aW5kb3cuZG9jdW1lbnQuYWxsJiYhd2luZG93Lm9wZXJhLGk9aCYmd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL01TSUUgNy4wLyk7CmIucHJvdG90eXBlPWEucHJvdG90eXBlO2cmJmYud3JhcHBlZCYmKGIud3JhcHBlZD1mLndyYXBwZWQpO2IuVU5TRU5UPTA7Yi5PUEVORUQ9MTtiLkhFQURFUlNfUkVDRUlWRUQ9MjtiLkxPQURJTkc9MztiLkRPTkU9NDtiLnByb3RvdHlwZS5yZWFkeVN0YXRlPWIuVU5TRU5UO2IucHJvdG90eXBlLnJlc3BvbnNlVGV4dD0iIjtiLnByb3RvdHlwZS5yZXNwb25zZVhNTD1udWxsO2IucHJvdG90eXBlLnN0YXR1cz0wO2IucHJvdG90eXBlLnN0YXR1c1RleHQ9IiI7Yi5wcm90b3R5cGUucHJpb3JpdHk9Ik5PUk1BTCI7Yi5wcm90b3R5cGUub25yZWFkeXN0YXRlY2hhbmdlPW51bGw7Yi5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbDtiLm9ub3Blbj1udWxsO2Iub25zZW5kPW51bGw7Yi5vbmFib3J0PW51bGw7Yi5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihhLGYsaSxtLG4pe2RlbGV0ZSB0aGlzLl9oZWFkZXJzOzM+YXJndW1lbnRzLmxlbmd0aCYmKGk9ITApO3RoaXMuX2FzeW5jPWk7dmFyIHA9dGhpcywKcT10aGlzLnJlYWR5U3RhdGUscjtoJiZpJiYocj1mdW5jdGlvbigpe3EhPWIuRE9ORSYmKGUocCkscC5hYm9ydCgpKX0sd2luZG93LmF0dGFjaEV2ZW50KCJvbnVubG9hZCIscikpO2Iub25vcGVuJiZiLm9ub3Blbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7NDxhcmd1bWVudHMubGVuZ3RoP3RoaXMuX29iamVjdC5vcGVuKGEsZixpLG0sbik6Mzxhcmd1bWVudHMubGVuZ3RoP3RoaXMuX29iamVjdC5vcGVuKGEsZixpLG0pOnRoaXMuX29iamVjdC5vcGVuKGEsZixpKTt0aGlzLnJlYWR5U3RhdGU9Yi5PUEVORUQ7Yyh0aGlzKTt0aGlzLl9vYmplY3Qub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoIWd8fGkpcC5yZWFkeVN0YXRlPXAuX29iamVjdC5yZWFkeVN0YXRlLGQocCkscC5fYWJvcnRlZD9wLnJlYWR5U3RhdGU9Yi5VTlNFTlQ6KHAucmVhZHlTdGF0ZT09Yi5ET05FJiYoZGVsZXRlIHAuX2RhdGEsZShwKSxoJiZpJiZ3aW5kb3cuZGV0YWNoRXZlbnQoIm9udW5sb2FkIixyKSksCnEhPXAucmVhZHlTdGF0ZSYmYyhwKSxxPXAucmVhZHlTdGF0ZSl9fTtiLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGEpe2Iub25zZW5kJiZiLm9uc2VuZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YXJndW1lbnRzLmxlbmd0aHx8KGE9bnVsbCk7YSYmYS5ub2RlVHlwZSYmKGE9d2luZG93LlhNTFNlcmlhbGl6ZXI/KG5ldyB3aW5kb3cuWE1MU2VyaWFsaXplcikuc2VyaWFsaXplVG9TdHJpbmcoYSk6YS54bWwsdGhpcy5faGVhZGVyc1siQ29udGVudC1UeXBlIl18fHRoaXMuX29iamVjdC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLCJhcHBsaWNhdGlvbi94bWwiKSk7dGhpcy5fZGF0YT1hO2E6aWYodGhpcy5fb2JqZWN0LnNlbmQodGhpcy5fZGF0YSksZyYmIXRoaXMuX2FzeW5jKXt0aGlzLnJlYWR5U3RhdGU9Yi5PUEVORUQ7Zm9yKGQodGhpcyk7dGhpcy5yZWFkeVN0YXRlPGIuRE9ORTspaWYodGhpcy5yZWFkeVN0YXRlKyssYyh0aGlzKSx0aGlzLl9hYm9ydGVkKWJyZWFrIGF9fTsKYi5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXtiLm9uYWJvcnQmJmIub25hYm9ydC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5yZWFkeVN0YXRlPmIuVU5TRU5UJiYodGhpcy5fYWJvcnRlZD0hMCk7dGhpcy5fb2JqZWN0LmFib3J0KCk7ZSh0aGlzKTt0aGlzLnJlYWR5U3RhdGU9Yi5VTlNFTlQ7ZGVsZXRlIHRoaXMuX2RhdGF9O2IucHJvdG90eXBlLmdldEFsbFJlc3BvbnNlSGVhZGVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9vYmplY3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCl9O2IucHJvdG90eXBlLmdldFJlc3BvbnNlSGVhZGVyPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9vYmplY3QuZ2V0UmVzcG9uc2VIZWFkZXIoYSl9O2IucHJvdG90eXBlLnNldFJlcXVlc3RIZWFkZXI9ZnVuY3Rpb24oYSxiKXt0aGlzLl9oZWFkZXJzfHwodGhpcy5faGVhZGVycz17fSk7dGhpcy5faGVhZGVyc1thXT1iO3JldHVybiB0aGlzLl9vYmplY3Quc2V0UmVxdWVzdEhlYWRlcihhLGIpfTsKYi5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTAsZTtlPXRoaXMuX2xpc3RlbmVyc1tkXTtkKyspaWYoZVswXT09YSYmZVsxXT09YiYmZVsyXT09YylyZXR1cm47dGhpcy5fbGlzdGVuZXJzLnB1c2goW2EsYixjXSl9O2IucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wLGU7KGU9dGhpcy5fbGlzdGVuZXJzW2RdKSYmIShlWzBdPT1hJiZlWzFdPT1iJiZlWzJdPT1jKTtkKyspO2UmJnRoaXMuX2xpc3RlbmVycy5zcGxpY2UoZCwxKX07Yi5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihhKXthPXt0eXBlOmEudHlwZSx0YXJnZXQ6dGhpcyxjdXJyZW50VGFyZ2V0OnRoaXMsZXZlbnRQaGFzZToyLGJ1YmJsZXM6YS5idWJibGVzLGNhbmNlbGFibGU6YS5jYW5jZWxhYmxlLHRpbWVTdGFtcDphLnRpbWVTdGFtcCxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt9LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7fSwKaW5pdEV2ZW50OmZ1bmN0aW9uKCl7fX07InJlYWR5c3RhdGVjaGFuZ2UiPT1hLnR5cGUmJnRoaXMub25yZWFkeXN0YXRlY2hhbmdlJiYodGhpcy5vbnJlYWR5c3RhdGVjaGFuZ2UuaGFuZGxlRXZlbnR8fHRoaXMub25yZWFkeXN0YXRlY2hhbmdlKS5hcHBseSh0aGlzLFthXSk7Zm9yKHZhciBiPTAsYztjPXRoaXMuX2xpc3RlbmVyc1tiXTtiKyspY1swXT09YS50eXBlJiYhY1syXSYmKGNbMV0uaGFuZGxlRXZlbnR8fGNbMV0pLmFwcGx5KHRoaXMsW2FdKX07Yi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCBYTUxIdHRwUmVxdWVzdF0ifTtiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltYTUxIdHRwUmVxdWVzdF0ifTt3aW5kb3cuRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5fHwod2luZG93LkZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihhLGIpe2J8fChiPVtdKTthLl9fZnVuYz10aGlzO2EuX19mdW5jKGJbMF0sYlsxXSxiWzJdLGJbM10sCmJbNF0pO2RlbGV0ZSBhLl9fZnVuY30pO09wZW5MYXllcnMuUmVxdWVzdHx8KE9wZW5MYXllcnMuUmVxdWVzdD17fSk7T3BlbkxheWVycy5SZXF1ZXN0LlhNTEh0dHBSZXF1ZXN0PWJ9KSgpO09wZW5MYXllcnMuUHJveHlIb3N0PSIiO09wZW5MYXllcnMuUmVxdWVzdHx8KE9wZW5MYXllcnMuUmVxdWVzdD17fSk7Ck9wZW5MYXllcnMuVXRpbC5leHRlbmQoT3BlbkxheWVycy5SZXF1ZXN0LHtERUZBVUxUX0NPTkZJRzp7bWV0aG9kOiJHRVQiLHVybDp3aW5kb3cubG9jYXRpb24uaHJlZixhc3luYzohMCx1c2VyOnZvaWQgMCxwYXNzd29yZDp2b2lkIDAscGFyYW1zOm51bGwscHJveHk6T3BlbkxheWVycy5Qcm94eUhvc3QsaGVhZGVyczp7fSxkYXRhOm51bGwsY2FsbGJhY2s6ZnVuY3Rpb24oKXt9LHN1Y2Nlc3M6bnVsbCxmYWlsdXJlOm51bGwsc2NvcGU6bnVsbH0sVVJMX1NQTElUX1JFR0VYOi8oW146XSo6KVwvXC8oW146XSo6P1teQF0qQCk/KFteOlwvXD9dKik6PyhbXlwvXD9dKikvLGV2ZW50czpuZXcgT3BlbkxheWVycy5FdmVudHModGhpcyksbWFrZVNhbWVPcmlnaW46ZnVuY3Rpb24oYSxiKXt2YXIgYz0wIT09YS5pbmRleE9mKCJodHRwIiksZD0hYyYmYS5tYXRjaCh0aGlzLlVSTF9TUExJVF9SRUdFWCk7aWYoZCl7dmFyIGU9d2luZG93LmxvY2F0aW9uLGM9ZFsxXT09ZS5wcm90b2NvbCYmZFszXT09CmUuaG9zdG5hbWUsZD1kWzRdLGU9ZS5wb3J0O2lmKDgwIT1kJiYiIiE9ZHx8IjgwIiE9ZSYmIiIhPWUpYz1jJiZkPT1lfWN8fGImJihhPSJmdW5jdGlvbiI9PXR5cGVvZiBiP2IoYSk6YitlbmNvZGVVUklDb21wb25lbnQoYSkpO3JldHVybiBhfSxpc3N1ZTpmdW5jdGlvbihhKXt2YXIgYj1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMuREVGQVVMVF9DT05GSUcse3Byb3h5Ok9wZW5MYXllcnMuUHJveHlIb3N0fSksYT1hfHx7fTthLmhlYWRlcnM9YS5oZWFkZXJzfHx7fTthPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGEsYik7YS5oZWFkZXJzPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGEuaGVhZGVycyxiLmhlYWRlcnMpO3ZhciBiPSExLGM7Zm9yKGMgaW4gYS5oZWFkZXJzKWEuaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShjKSYmIngtcmVxdWVzdGVkLXdpdGgiPT09Yy50b0xvd2VyQ2FzZSgpJiYoYj0hMCk7ITE9PT1iJiYoYS5oZWFkZXJzWyJYLVJlcXVlc3RlZC1XaXRoIl09CiJYTUxIdHRwUmVxdWVzdCIpO3ZhciBkPW5ldyBPcGVuTGF5ZXJzLlJlcXVlc3QuWE1MSHR0cFJlcXVlc3QsZT1PcGVuTGF5ZXJzLlV0aWwudXJsQXBwZW5kKGEudXJsLE9wZW5MYXllcnMuVXRpbC5nZXRQYXJhbWV0ZXJTdHJpbmcoYS5wYXJhbXN8fHt9KSksZT1PcGVuTGF5ZXJzLlJlcXVlc3QubWFrZVNhbWVPcmlnaW4oZSxhLnByb3h5KTtkLm9wZW4oYS5tZXRob2QsZSxhLmFzeW5jLGEudXNlcixhLnBhc3N3b3JkKTtmb3IodmFyIGYgaW4gYS5oZWFkZXJzKWQuc2V0UmVxdWVzdEhlYWRlcihmLGEuaGVhZGVyc1tmXSk7dmFyIGc9dGhpcy5ldmVudHMsaD10aGlzO2Qub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ZC5yZWFkeVN0YXRlPT1PcGVuTGF5ZXJzLlJlcXVlc3QuWE1MSHR0cFJlcXVlc3QuRE9ORSYmITEhPT1nLnRyaWdnZXJFdmVudCgiY29tcGxldGUiLHtyZXF1ZXN0OmQsY29uZmlnOmEscmVxdWVzdFVybDplfSkmJmgucnVuQ2FsbGJhY2tzKHtyZXF1ZXN0OmQsY29uZmlnOmEsCnJlcXVlc3RVcmw6ZX0pfTshMT09PWEuYXN5bmM/ZC5zZW5kKGEuZGF0YSk6d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXswIT09ZC5yZWFkeVN0YXRlJiZkLnNlbmQoYS5kYXRhKX0sMCk7cmV0dXJuIGR9LHJ1bkNhbGxiYWNrczpmdW5jdGlvbihhKXt2YXIgYj1hLnJlcXVlc3QsYz1hLmNvbmZpZyxkPWMuc2NvcGU/T3BlbkxheWVycy5GdW5jdGlvbi5iaW5kKGMuY2FsbGJhY2ssYy5zY29wZSk6Yy5jYWxsYmFjayxlO2Muc3VjY2VzcyYmKGU9Yy5zY29wZT9PcGVuTGF5ZXJzLkZ1bmN0aW9uLmJpbmQoYy5zdWNjZXNzLGMuc2NvcGUpOmMuc3VjY2Vzcyk7dmFyIGY7Yy5mYWlsdXJlJiYoZj1jLnNjb3BlP09wZW5MYXllcnMuRnVuY3Rpb24uYmluZChjLmZhaWx1cmUsYy5zY29wZSk6Yy5mYWlsdXJlKTsiZmlsZToiPT1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlVXJsT2JqZWN0KGMudXJsKS5wcm90b2NvbCYmYi5yZXNwb25zZVRleHQmJihiLnN0YXR1cz0yMDApO2QoYik7aWYoIWIuc3RhdHVzfHwKMjAwPD1iLnN0YXR1cyYmMzAwPmIuc3RhdHVzKXRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgic3VjY2VzcyIsYSksZSYmZShiKTtpZihiLnN0YXR1cyYmKDIwMD5iLnN0YXR1c3x8MzAwPD1iLnN0YXR1cykpdGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJmYWlsdXJlIixhKSxmJiZmKGIpfSxHRVQ6ZnVuY3Rpb24oYSl7YT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGEse21ldGhvZDoiR0VUIn0pO3JldHVybiBPcGVuTGF5ZXJzLlJlcXVlc3QuaXNzdWUoYSl9LFBPU1Q6ZnVuY3Rpb24oYSl7YT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGEse21ldGhvZDoiUE9TVCJ9KTthLmhlYWRlcnM9YS5oZWFkZXJzP2EuaGVhZGVyczp7fTsiQ09OVEVOVC1UWVBFImluIE9wZW5MYXllcnMuVXRpbC51cHBlckNhc2VPYmplY3QoYS5oZWFkZXJzKXx8KGEuaGVhZGVyc1siQ29udGVudC1UeXBlIl09ImFwcGxpY2F0aW9uL3htbCIpO3JldHVybiBPcGVuTGF5ZXJzLlJlcXVlc3QuaXNzdWUoYSl9LFBVVDpmdW5jdGlvbihhKXthPQpPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGEse21ldGhvZDoiUFVUIn0pO2EuaGVhZGVycz1hLmhlYWRlcnM/YS5oZWFkZXJzOnt9OyJDT05URU5ULVRZUEUiaW4gT3BlbkxheWVycy5VdGlsLnVwcGVyQ2FzZU9iamVjdChhLmhlYWRlcnMpfHwoYS5oZWFkZXJzWyJDb250ZW50LVR5cGUiXT0iYXBwbGljYXRpb24veG1sIik7cmV0dXJuIE9wZW5MYXllcnMuUmVxdWVzdC5pc3N1ZShhKX0sREVMRVRFOmZ1bmN0aW9uKGEpe2E9T3BlbkxheWVycy5VdGlsLmV4dGVuZChhLHttZXRob2Q6IkRFTEVURSJ9KTtyZXR1cm4gT3BlbkxheWVycy5SZXF1ZXN0Lmlzc3VlKGEpfSxIRUFEOmZ1bmN0aW9uKGEpe2E9T3BlbkxheWVycy5VdGlsLmV4dGVuZChhLHttZXRob2Q6IkhFQUQifSk7cmV0dXJuIE9wZW5MYXllcnMuUmVxdWVzdC5pc3N1ZShhKX0sT1BUSU9OUzpmdW5jdGlvbihhKXthPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoYSx7bWV0aG9kOiJPUFRJT05TIn0pO3JldHVybiBPcGVuTGF5ZXJzLlJlcXVlc3QuaXNzdWUoYSl9fSk7T3BlbkxheWVycy5MYXllci5BcmNJTVM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkxheWVyLkdyaWQse0RFRkFVTFRfUEFSQU1TOntDbGllbnRWZXJzaW9uOiI5LjIiLFNlcnZpY2VOYW1lOiIifSxmZWF0dXJlQ29vcmRTeXM6IjQzMjYiLGZpbHRlckNvb3JkU3lzOiI0MzI2IixsYXllcnM6bnVsbCxhc3luYzohMCxuYW1lOiJBcmNJTVMiLGlzQmFzZUxheWVyOiEwLERFRkFVTFRfT1BUSU9OUzp7dGlsZVNpemU6bmV3IE9wZW5MYXllcnMuU2l6ZSg1MTIsNTEyKSxmZWF0dXJlQ29vcmRTeXM6IjQzMjYiLGZpbHRlckNvb3JkU3lzOiI0MzI2IixsYXllcnM6bnVsbCxpc0Jhc2VMYXllcjohMCxhc3luYzohMCxuYW1lOiJBcmNJTVMifSxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjKXt0aGlzLnRpbGVTaXplPW5ldyBPcGVuTGF5ZXJzLlNpemUoNTEyLDUxMik7dGhpcy5wYXJhbXM9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe1NlcnZpY2VOYW1lOmMuc2VydmljZU5hbWV9LAp0aGlzLkRFRkFVTFRfUEFSQU1TKTt0aGlzLm9wdGlvbnM9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYyx0aGlzLkRFRkFVTFRfT1BUSU9OUyk7T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2EsYix0aGlzLnBhcmFtcyxjXSk7dGhpcy50cmFuc3BhcmVudCYmKHRoaXMuaXNCYXNlTGF5ZXJ8fCh0aGlzLmlzQmFzZUxheWVyPSExKSwiaW1hZ2UvanBlZyI9PXRoaXMuZm9ybWF0JiYodGhpcy5mb3JtYXQ9T3BlbkxheWVycy5VdGlsLmFscGhhSGFjaygpPyJpbWFnZS9naWYiOiJpbWFnZS9wbmciKSk7bnVsbD09PXRoaXMub3B0aW9ucy5sYXllcnMmJih0aGlzLm9wdGlvbnMubGF5ZXJzPVtdKX0sZ2V0VVJMOmZ1bmN0aW9uKGEpe3ZhciBiPSIiLGE9dGhpcy5hZGp1c3RCb3VuZHMoYSksYT1uZXcgT3BlbkxheWVycy5Gb3JtYXQuQXJjWE1MKE9wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcy5vcHRpb25zLHtyZXF1ZXN0dHlwZToiaW1hZ2UiLAplbnZlbG9wZTphLnRvQXJyYXkoKSx0aWxlU2l6ZTp0aGlzLnRpbGVTaXplfSkpLGE9bmV3IE9wZW5MYXllcnMuUmVxdWVzdC5QT1NUKHt1cmw6dGhpcy5nZXRGdWxsUmVxdWVzdFN0cmluZygpLGRhdGE6YS53cml0ZSgpLGFzeW5jOiExfSk7aWYobnVsbCE9YSl7Yj1hLnJlc3BvbnNlWE1MO2lmKCFifHwhYi5kb2N1bWVudEVsZW1lbnQpYj1hLnJlc3BvbnNlVGV4dDtiPShuZXcgT3BlbkxheWVycy5Gb3JtYXQuQXJjWE1MKS5yZWFkKGIpO2I9dGhpcy5nZXRVcmxPckltYWdlKGIuaW1hZ2Uub3V0cHV0KX1yZXR1cm4gYn0sZ2V0VVJMYXN5bmM6ZnVuY3Rpb24oYSxiLGMpe2E9dGhpcy5hZGp1c3RCb3VuZHMoYSk7YT1uZXcgT3BlbkxheWVycy5Gb3JtYXQuQXJjWE1MKE9wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcy5vcHRpb25zLHtyZXF1ZXN0dHlwZToiaW1hZ2UiLGVudmVsb3BlOmEudG9BcnJheSgpLHRpbGVTaXplOnRoaXMudGlsZVNpemV9KSk7T3BlbkxheWVycy5SZXF1ZXN0LlBPU1Qoe3VybDp0aGlzLmdldEZ1bGxSZXF1ZXN0U3RyaW5nKCksCmFzeW5jOiEwLGRhdGE6YS53cml0ZSgpLGNhbGxiYWNrOmZ1bmN0aW9uKGEpe3ZhciBlPWEucmVzcG9uc2VYTUw7aWYoIWV8fCFlLmRvY3VtZW50RWxlbWVudCllPWEucmVzcG9uc2VUZXh0O2E9KG5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5BcmNYTUwpLnJlYWQoZSk7Yi5jYWxsKGMsdGhpcy5nZXRVcmxPckltYWdlKGEuaW1hZ2Uub3V0cHV0KSl9LHNjb3BlOnRoaXN9KX0sZ2V0VXJsT3JJbWFnZTpmdW5jdGlvbihhKXt2YXIgYj0iIjthLnVybD9iPWEudXJsOmEuZGF0YSYmKGI9ImRhdGE6aW1hZ2UvIithLnR5cGUrIjtiYXNlNjQsIithLmRhdGEpO3JldHVybiBifSxzZXRMYXllclF1ZXJ5OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yzx0aGlzLm9wdGlvbnMubGF5ZXJzLmxlbmd0aDtjKyspaWYoYT09dGhpcy5vcHRpb25zLmxheWVyc1tjXS5pZCl7dGhpcy5vcHRpb25zLmxheWVyc1tjXS5xdWVyeT1iO3JldHVybn10aGlzLm9wdGlvbnMubGF5ZXJzLnB1c2goe2lkOmEsdmlzaWJsZTohMCwKcXVlcnk6Yn0pfSxnZXRGZWF0dXJlSW5mbzpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9Yy5idWZmZXJ8fDEsZT1jLmNhbGxiYWNrfHxmdW5jdGlvbigpe30sZj1jLnNjb3BlfHx3aW5kb3csZz17fTtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGcsdGhpcy5vcHRpb25zKTtnLnJlcXVlc3R0eXBlPSJmZWF0dXJlIjthIGluc3RhbmNlb2YgT3BlbkxheWVycy5Mb25MYXQ/KGcucG9seWdvbj1udWxsLGcuZW52ZWxvcGU9W2EubG9uLWQsYS5sYXQtZCxhLmxvbitkLGEubGF0K2RdKTphIGluc3RhbmNlb2YgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uJiYoZy5lbnZlbG9wZT1udWxsLGcucG9seWdvbj1hKTt2YXIgaD1uZXcgT3BlbkxheWVycy5Gb3JtYXQuQXJjWE1MKGcpO09wZW5MYXllcnMuVXRpbC5leHRlbmQoaC5yZXF1ZXN0LmdldF9mZWF0dXJlLGMpO2gucmVxdWVzdC5nZXRfZmVhdHVyZS5sYXllcj1iLmlkOyJudW1iZXIiPT10eXBlb2YgYi5xdWVyeS5hY2N1cmFjeT9oLnJlcXVlc3QuZ2V0X2ZlYXR1cmUucXVlcnkuYWNjdXJhY3k9CmIucXVlcnkuYWNjdXJhY3k6KGE9dGhpcy5tYXAuZ2V0Q2VudGVyKCksYz10aGlzLm1hcC5nZXRWaWV3UG9ydFB4RnJvbUxvbkxhdChhKSxjLngrKyxjPXRoaXMubWFwLmdldExvbkxhdEZyb21QaXhlbChjKSxoLnJlcXVlc3QuZ2V0X2ZlYXR1cmUucXVlcnkuYWNjdXJhY3k9Yy5sb24tYS5sb24pO2gucmVxdWVzdC5nZXRfZmVhdHVyZS5xdWVyeS53aGVyZT1iLnF1ZXJ5LndoZXJlO2gucmVxdWVzdC5nZXRfZmVhdHVyZS5xdWVyeS5zcGF0aWFsZmlsdGVyLnJlbGF0aW9uPSJhcmVhX2ludGVyc2VjdGlvbiI7T3BlbkxheWVycy5SZXF1ZXN0LlBPU1Qoe3VybDp0aGlzLmdldEZ1bGxSZXF1ZXN0U3RyaW5nKHtDdXN0b21TZXJ2aWNlOiJRdWVyeSJ9KSxkYXRhOmgud3JpdGUoKSxjYWxsYmFjazpmdW5jdGlvbihhKXthPWgucGFyc2VSZXNwb25zZShhLnJlc3BvbnNlVGV4dCk7aC5pc2Vycm9yKCk/ZS5jYWxsKGYsbnVsbCk6ZS5jYWxsKGYsYS5mZWF0dXJlcyl9fSl9LGNsb25lOmZ1bmN0aW9uKGEpe251bGw9PQphJiYoYT1uZXcgT3BlbkxheWVycy5MYXllci5BcmNJTVModGhpcy5uYW1lLHRoaXMudXJsLHRoaXMuZ2V0T3B0aW9ucygpKSk7cmV0dXJuIGE9T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5jbG9uZS5hcHBseSh0aGlzLFthXSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuTGF5ZXIuQXJjSU1TIn0pO09wZW5MYXllcnMuTGFuZy50ZT1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7UGVybWFsaW5rOiJcdTBjMzhcdTBjNGRcdTBjMjVcdTBjM2ZcdTBjMzBcdTBjMzJcdTBjM2ZcdTBjMDJcdTBjMTVcdTBjNDEiLFc6Ilx1MGMyYSIsRToiXHUwYzI0XHUwYzQyIixOOiJcdTBjMDkiLFM6Ilx1MGMyNiJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuWm9vbT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbCx7c2xpZGVGYWN0b3I6NTAsc2xpZGVSYXRpbzpudWxsLGJ1dHRvbnM6bnVsbCxwb3NpdGlvbjpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7dGhpcy5wb3NpdGlvbj1uZXcgT3BlbkxheWVycy5QaXhlbChPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuWm9vbS5YLE9wZW5MYXllcnMuQ29udHJvbC5QYW5ab29tLlkpO09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm1hcCYmIXRoaXMub3V0c2lkZVZpZXdwb3J0JiZ0aGlzLm1hcC5ldmVudHMudW5yZWdpc3RlcigiYnV0dG9uY2xpY2siLHRoaXMsdGhpcy5vbkJ1dHRvbkNsaWNrKTt0aGlzLnJlbW92ZUJ1dHRvbnMoKTt0aGlzLnBvc2l0aW9uPXRoaXMuYnV0dG9ucz1udWxsO09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLAphcmd1bWVudHMpfSxzZXRNYXA6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5zZXRNYXAuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBiO3RoaXMub3V0c2lkZVZpZXdwb3J0Pyh0aGlzLmV2ZW50cy5hdHRhY2hUb0VsZW1lbnQodGhpcy5kaXYpLGI9dGhpcyk6Yj10aGlzLm1hcDtiLmV2ZW50cy5yZWdpc3RlcigiYnV0dG9uY2xpY2siLHRoaXMsdGhpcy5vbkJ1dHRvbkNsaWNrKX0sZHJhdzpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRyYXcuYXBwbHkodGhpcyxhcmd1bWVudHMpO2E9dGhpcy5wb3NpdGlvbjt0aGlzLmJ1dHRvbnM9W107dmFyIGI9e3c6MTgsaDoxOH0sYz1uZXcgT3BlbkxheWVycy5QaXhlbChhLngrYi53LzIsYS55KTt0aGlzLl9hZGRCdXR0b24oInBhbnVwIiwibm9ydGgtbWluaS5wbmciLGMsYik7YS55PWMueStiLmg7dGhpcy5fYWRkQnV0dG9uKCJwYW5sZWZ0Iiwid2VzdC1taW5pLnBuZyIsYSxiKTt0aGlzLl9hZGRCdXR0b24oInBhbnJpZ2h0IiwKImVhc3QtbWluaS5wbmciLGEuYWRkKGIudywwKSxiKTt0aGlzLl9hZGRCdXR0b24oInBhbmRvd24iLCJzb3V0aC1taW5pLnBuZyIsYy5hZGQoMCwyKmIuaCksYik7dGhpcy5fYWRkQnV0dG9uKCJ6b29taW4iLCJ6b29tLXBsdXMtbWluaS5wbmciLGMuYWRkKDAsMypiLmgrNSksYik7dGhpcy5fYWRkQnV0dG9uKCJ6b29td29ybGQiLCJ6b29tLXdvcmxkLW1pbmkucG5nIixjLmFkZCgwLDQqYi5oKzUpLGIpO3RoaXMuX2FkZEJ1dHRvbigiem9vbW91dCIsInpvb20tbWludXMtbWluaS5wbmciLGMuYWRkKDAsNSpiLmgrNSksYik7cmV0dXJuIHRoaXMuZGl2fSxfYWRkQnV0dG9uOmZ1bmN0aW9uKGEsYixjLGQpe2I9T3BlbkxheWVycy5VdGlsLmdldEltYWdlTG9jYXRpb24oYik7Yz1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlQWxwaGFJbWFnZURpdih0aGlzLmlkKyJfIithLGMsZCxiLCJhYnNvbHV0ZSIpO2Muc3R5bGUuY3Vyc29yPSJwb2ludGVyIjt0aGlzLmRpdi5hcHBlbmRDaGlsZChjKTtjLmFjdGlvbj0KYTtjLmNsYXNzTmFtZT0ib2xCdXR0b24iO3RoaXMuYnV0dG9ucy5wdXNoKGMpO3JldHVybiBjfSxfcmVtb3ZlQnV0dG9uOmZ1bmN0aW9uKGEpe3RoaXMuZGl2LnJlbW92ZUNoaWxkKGEpO09wZW5MYXllcnMuVXRpbC5yZW1vdmVJdGVtKHRoaXMuYnV0dG9ucyxhKX0scmVtb3ZlQnV0dG9uczpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmJ1dHRvbnMubGVuZ3RoLTE7MDw9YTstLWEpdGhpcy5fcmVtb3ZlQnV0dG9uKHRoaXMuYnV0dG9uc1thXSl9LG9uQnV0dG9uQ2xpY2s6ZnVuY3Rpb24oYSl7c3dpdGNoKGEuYnV0dG9uRWxlbWVudC5hY3Rpb24pe2Nhc2UgInBhbnVwIjp0aGlzLm1hcC5wYW4oMCwtdGhpcy5nZXRTbGlkZUZhY3RvcigiaCIpKTticmVhaztjYXNlICJwYW5kb3duIjp0aGlzLm1hcC5wYW4oMCx0aGlzLmdldFNsaWRlRmFjdG9yKCJoIikpO2JyZWFrO2Nhc2UgInBhbmxlZnQiOnRoaXMubWFwLnBhbigtdGhpcy5nZXRTbGlkZUZhY3RvcigidyIpLDApO2JyZWFrO2Nhc2UgInBhbnJpZ2h0Ijp0aGlzLm1hcC5wYW4odGhpcy5nZXRTbGlkZUZhY3RvcigidyIpLAowKTticmVhaztjYXNlICJ6b29taW4iOnRoaXMubWFwLnpvb21JbigpO2JyZWFrO2Nhc2UgInpvb21vdXQiOnRoaXMubWFwLnpvb21PdXQoKTticmVhaztjYXNlICJ6b29td29ybGQiOnRoaXMubWFwLnpvb21Ub01heEV4dGVudCgpfX0sZ2V0U2xpZGVGYWN0b3I6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc2xpZGVSYXRpbz90aGlzLm1hcC5nZXRTaXplKClbYV0qdGhpcy5zbGlkZVJhdGlvOnRoaXMuc2xpZGVGYWN0b3J9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5QYW5ab29tIn0pO09wZW5MYXllcnMuQ29udHJvbC5QYW5ab29tLlg9NDtPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuWm9vbS5ZPTQ7T3BlbkxheWVycy5Db250cm9sLlBhblpvb21CYXI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuWm9vbSx7em9vbVN0b3BXaWR0aDoxOCx6b29tU3RvcEhlaWdodDoxMSxzbGlkZXI6bnVsbCxzbGlkZXJFdmVudHM6bnVsbCx6b29tYmFyRGl2Om51bGwsem9vbVdvcmxkSWNvbjohMSxwYW5JY29uczohMCxmb3JjZUZpeGVkWm9vbUxldmVsOiExLG1vdXNlRHJhZ1N0YXJ0Om51bGwsZGVsdGFZOm51bGwsem9vbVN0YXJ0Om51bGwsZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZVpvb21CYXIoKTt0aGlzLm1hcC5ldmVudHMudW4oe2NoYW5nZWJhc2VsYXllcjp0aGlzLnJlZHJhdyx1cGRhdGVzaXplOnRoaXMucmVkcmF3LHNjb3BlOnRoaXN9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuWm9vbS5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZGVsZXRlIHRoaXMubW91c2VEcmFnU3RhcnQ7ZGVsZXRlIHRoaXMuem9vbVN0YXJ0fSxzZXRNYXA6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db250cm9sLlBhblpvb20ucHJvdG90eXBlLnNldE1hcC5hcHBseSh0aGlzLAphcmd1bWVudHMpO3RoaXMub3V0c2lkZVZpZXdwb3J0JiZ0aGlzLmV2ZW50cy5hdHRhY2hUb0VsZW1lbnQodGhpcy5kaXYpO3RoaXMubWFwLmV2ZW50cy5vbih7Y2hhbmdlYmFzZWxheWVyOnRoaXMucmVkcmF3LHVwZGF0ZXNpemU6dGhpcy5yZWRyYXcsc2NvcGU6dGhpc30pfSxyZWRyYXc6ZnVuY3Rpb24oKXtudWxsIT10aGlzLmRpdiYmKHRoaXMucmVtb3ZlQnV0dG9ucygpLHRoaXMuX3JlbW92ZVpvb21CYXIoKSk7dGhpcy5kcmF3KCl9LGRyYXc6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kcmF3LmFwcGx5KHRoaXMsYXJndW1lbnRzKTthPXRoaXMucG9zaXRpb24uY2xvbmUoKTt0aGlzLmJ1dHRvbnM9W107dmFyIGI9e3c6MTgsaDoxOH07aWYodGhpcy5wYW5JY29ucyl7dmFyIGM9bmV3IE9wZW5MYXllcnMuUGl4ZWwoYS54K2Iudy8yLGEueSksZD1iLnc7dGhpcy56b29tV29ybGRJY29uJiYoYz1uZXcgT3BlbkxheWVycy5QaXhlbChhLngrYi53LGEueSkpOwp0aGlzLl9hZGRCdXR0b24oInBhbnVwIiwibm9ydGgtbWluaS5wbmciLGMsYik7YS55PWMueStiLmg7dGhpcy5fYWRkQnV0dG9uKCJwYW5sZWZ0Iiwid2VzdC1taW5pLnBuZyIsYSxiKTt0aGlzLnpvb21Xb3JsZEljb24mJih0aGlzLl9hZGRCdXR0b24oInpvb213b3JsZCIsInpvb20td29ybGQtbWluaS5wbmciLGEuYWRkKGIudywwKSxiKSxkKj0yKTt0aGlzLl9hZGRCdXR0b24oInBhbnJpZ2h0IiwiZWFzdC1taW5pLnBuZyIsYS5hZGQoZCwwKSxiKTt0aGlzLl9hZGRCdXR0b24oInBhbmRvd24iLCJzb3V0aC1taW5pLnBuZyIsYy5hZGQoMCwyKmIuaCksYik7dGhpcy5fYWRkQnV0dG9uKCJ6b29taW4iLCJ6b29tLXBsdXMtbWluaS5wbmciLGMuYWRkKDAsMypiLmgrNSksYik7Yz10aGlzLl9hZGRab29tQmFyKGMuYWRkKDAsNCpiLmgrNSkpO3RoaXMuX2FkZEJ1dHRvbigiem9vbW91dCIsInpvb20tbWludXMtbWluaS5wbmciLGMsYil9ZWxzZSB0aGlzLl9hZGRCdXR0b24oInpvb21pbiIsCiJ6b29tLXBsdXMtbWluaS5wbmciLGEsYiksYz10aGlzLl9hZGRab29tQmFyKGEuYWRkKDAsYi5oKSksdGhpcy5fYWRkQnV0dG9uKCJ6b29tb3V0Iiwiem9vbS1taW51cy1taW5pLnBuZyIsYyxiKSx0aGlzLnpvb21Xb3JsZEljb24mJihjPWMuYWRkKDAsYi5oKzMpLHRoaXMuX2FkZEJ1dHRvbigiem9vbXdvcmxkIiwiem9vbS13b3JsZC1taW5pLnBuZyIsYyxiKSk7cmV0dXJuIHRoaXMuZGl2fSxfYWRkWm9vbUJhcjpmdW5jdGlvbihhKXt2YXIgYj1PcGVuTGF5ZXJzLlV0aWwuZ2V0SW1hZ2VMb2NhdGlvbigic2xpZGVyLnBuZyIpLGM9dGhpcy5pZCsiXyIrdGhpcy5tYXAuaWQsZD10aGlzLm1hcC5nZXRNaW5ab29tKCksZT10aGlzLm1hcC5nZXROdW1ab29tTGV2ZWxzKCktMS10aGlzLm1hcC5nZXRab29tKCksZT1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlQWxwaGFJbWFnZURpdihjLGEuYWRkKC0xLGUqdGhpcy56b29tU3RvcEhlaWdodCkse3c6MjAsaDo5fSxiLCJhYnNvbHV0ZSIpO2Uuc3R5bGUuY3Vyc29yPQoibW92ZSI7dGhpcy5zbGlkZXI9ZTt0aGlzLnNsaWRlckV2ZW50cz1uZXcgT3BlbkxheWVycy5FdmVudHModGhpcyxlLG51bGwsITAse2luY2x1ZGVYWTohMH0pO3RoaXMuc2xpZGVyRXZlbnRzLm9uKHt0b3VjaHN0YXJ0OnRoaXMuem9vbUJhckRvd24sdG91Y2htb3ZlOnRoaXMuem9vbUJhckRyYWcsdG91Y2hlbmQ6dGhpcy56b29tQmFyVXAsbW91c2Vkb3duOnRoaXMuem9vbUJhckRvd24sbW91c2Vtb3ZlOnRoaXMuem9vbUJhckRyYWcsbW91c2V1cDp0aGlzLnpvb21CYXJVcH0pO3ZhciBmPXt3OnRoaXMuem9vbVN0b3BXaWR0aCxoOnRoaXMuem9vbVN0b3BIZWlnaHQqKHRoaXMubWFwLmdldE51bVpvb21MZXZlbHMoKS1kKX0sYj1PcGVuTGF5ZXJzLlV0aWwuZ2V0SW1hZ2VMb2NhdGlvbigiem9vbWJhci5wbmciKSxjPW51bGw7T3BlbkxheWVycy5VdGlsLmFscGhhSGFjaygpPyhjPXRoaXMuaWQrIl8iK3RoaXMubWFwLmlkLGM9T3BlbkxheWVycy5VdGlsLmNyZWF0ZUFscGhhSW1hZ2VEaXYoYywKYSx7dzpmLncsaDp0aGlzLnpvb21TdG9wSGVpZ2h0fSxiLCJhYnNvbHV0ZSIsbnVsbCwiY3JvcCIpLGMuc3R5bGUuaGVpZ2h0PWYuaCsicHgiKTpjPU9wZW5MYXllcnMuVXRpbC5jcmVhdGVEaXYoIk9wZW5MYXllcnNfQ29udHJvbF9QYW5ab29tQmFyX1pvb21iYXIiK3RoaXMubWFwLmlkLGEsZixiKTtjLnN0eWxlLmN1cnNvcj0icG9pbnRlciI7Yy5jbGFzc05hbWU9Im9sQnV0dG9uIjt0aGlzLnpvb21iYXJEaXY9Yzt0aGlzLmRpdi5hcHBlbmRDaGlsZChjKTt0aGlzLnN0YXJ0VG9wPXBhcnNlSW50KGMuc3R5bGUudG9wKTt0aGlzLmRpdi5hcHBlbmRDaGlsZChlKTt0aGlzLm1hcC5ldmVudHMucmVnaXN0ZXIoInpvb21lbmQiLHRoaXMsdGhpcy5tb3ZlWm9vbUJhcik7cmV0dXJuIGE9YS5hZGQoMCx0aGlzLnpvb21TdG9wSGVpZ2h0Kih0aGlzLm1hcC5nZXROdW1ab29tTGV2ZWxzKCktZCkpfSxfcmVtb3ZlWm9vbUJhcjpmdW5jdGlvbigpe3RoaXMuc2xpZGVyRXZlbnRzLnVuKHt0b3VjaHN0YXJ0OnRoaXMuem9vbUJhckRvd24sCnRvdWNobW92ZTp0aGlzLnpvb21CYXJEcmFnLHRvdWNoZW5kOnRoaXMuem9vbUJhclVwLG1vdXNlZG93bjp0aGlzLnpvb21CYXJEb3duLG1vdXNlbW92ZTp0aGlzLnpvb21CYXJEcmFnLG1vdXNldXA6dGhpcy56b29tQmFyVXB9KTt0aGlzLnNsaWRlckV2ZW50cy5kZXN0cm95KCk7dGhpcy5kaXYucmVtb3ZlQ2hpbGQodGhpcy56b29tYmFyRGl2KTt0aGlzLnpvb21iYXJEaXY9bnVsbDt0aGlzLmRpdi5yZW1vdmVDaGlsZCh0aGlzLnNsaWRlcik7dGhpcy5zbGlkZXI9bnVsbDt0aGlzLm1hcC5ldmVudHMudW5yZWdpc3Rlcigiem9vbWVuZCIsdGhpcyx0aGlzLm1vdmVab29tQmFyKX0sb25CdXR0b25DbGljazpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuWm9vbS5wcm90b3R5cGUub25CdXR0b25DbGljay5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoYS5idXR0b25FbGVtZW50PT09dGhpcy56b29tYmFyRGl2KXt2YXIgYj1hLmJ1dHRvblhZLnkvdGhpcy56b29tU3RvcEhlaWdodDsKaWYodGhpcy5mb3JjZUZpeGVkWm9vbUxldmVsfHwhdGhpcy5tYXAuZnJhY3Rpb25hbFpvb20pYj1NYXRoLmZsb29yKGIpO2I9dGhpcy5tYXAuZ2V0TnVtWm9vbUxldmVscygpLTEtYjtiPU1hdGgubWluKE1hdGgubWF4KGIsMCksdGhpcy5tYXAuZ2V0TnVtWm9vbUxldmVscygpLTEpO3RoaXMubWFwLnpvb21UbyhiKX19LHBhc3NFdmVudFRvU2xpZGVyOmZ1bmN0aW9uKGEpe3RoaXMuc2xpZGVyRXZlbnRzLmhhbmRsZUJyb3dzZXJFdmVudChhKX0sem9vbUJhckRvd246ZnVuY3Rpb24oYSl7aWYoT3BlbkxheWVycy5FdmVudC5pc0xlZnRDbGljayhhKXx8T3BlbkxheWVycy5FdmVudC5pc1NpbmdsZVRvdWNoKGEpKSh0aGlzLm91dHNpZGVWaWV3cG9ydD90aGlzOnRoaXMubWFwKS5ldmVudHMub24oe3RvdWNobW92ZTp0aGlzLnBhc3NFdmVudFRvU2xpZGVyLG1vdXNlbW92ZTp0aGlzLnBhc3NFdmVudFRvU2xpZGVyLG1vdXNldXA6dGhpcy5wYXNzRXZlbnRUb1NsaWRlcixzY29wZTp0aGlzfSksCnRoaXMubW91c2VEcmFnU3RhcnQ9YS54eS5jbG9uZSgpLHRoaXMuem9vbVN0YXJ0PWEueHkuY2xvbmUoKSx0aGlzLmRpdi5zdHlsZS5jdXJzb3I9Im1vdmUiLHRoaXMuem9vbWJhckRpdi5vZmZzZXRzPW51bGwsT3BlbkxheWVycy5FdmVudC5zdG9wKGEpfSx6b29tQmFyRHJhZzpmdW5jdGlvbihhKXtpZihudWxsIT10aGlzLm1vdXNlRHJhZ1N0YXJ0KXt2YXIgYj10aGlzLm1vdXNlRHJhZ1N0YXJ0LnktYS54eS55LGM9T3BlbkxheWVycy5VdGlsLnBhZ2VQb3NpdGlvbih0aGlzLnpvb21iYXJEaXYpOzA8YS5jbGllbnRZLWNbMV0mJmEuY2xpZW50WS1jWzFdPHBhcnNlSW50KHRoaXMuem9vbWJhckRpdi5zdHlsZS5oZWlnaHQpLTImJihiPXBhcnNlSW50KHRoaXMuc2xpZGVyLnN0eWxlLnRvcCktYix0aGlzLnNsaWRlci5zdHlsZS50b3A9YisicHgiLHRoaXMubW91c2VEcmFnU3RhcnQ9YS54eS5jbG9uZSgpKTt0aGlzLmRlbHRhWT10aGlzLnpvb21TdGFydC55LWEueHkueTtPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSl9fSwKem9vbUJhclVwOmZ1bmN0aW9uKGEpe2lmKChPcGVuTGF5ZXJzLkV2ZW50LmlzTGVmdENsaWNrKGEpfHwidG91Y2hlbmQiPT09YS50eXBlKSYmdGhpcy5tb3VzZURyYWdTdGFydCl7dGhpcy5kaXYuc3R5bGUuY3Vyc29yPSIiOyh0aGlzLm91dHNpZGVWaWV3cG9ydD90aGlzOnRoaXMubWFwKS5ldmVudHMudW4oe3RvdWNobW92ZTp0aGlzLnBhc3NFdmVudFRvU2xpZGVyLG1vdXNldXA6dGhpcy5wYXNzRXZlbnRUb1NsaWRlcixtb3VzZW1vdmU6dGhpcy5wYXNzRXZlbnRUb1NsaWRlcixzY29wZTp0aGlzfSk7dmFyIGI9dGhpcy5tYXAuem9vbTshdGhpcy5mb3JjZUZpeGVkWm9vbUxldmVsJiZ0aGlzLm1hcC5mcmFjdGlvbmFsWm9vbT8oYis9dGhpcy5kZWx0YVkvdGhpcy56b29tU3RvcEhlaWdodCxiPU1hdGgubWluKE1hdGgubWF4KGIsMCksdGhpcy5tYXAuZ2V0TnVtWm9vbUxldmVscygpLTEpKTooYis9dGhpcy5kZWx0YVkvdGhpcy56b29tU3RvcEhlaWdodCxiPU1hdGgubWF4KE1hdGgucm91bmQoYiksCjApKTt0aGlzLm1hcC56b29tVG8oYik7dGhpcy56b29tU3RhcnQ9dGhpcy5tb3VzZURyYWdTdGFydD1udWxsO3RoaXMuZGVsdGFZPTA7T3BlbkxheWVycy5FdmVudC5zdG9wKGEpfX0sbW92ZVpvb21CYXI6ZnVuY3Rpb24oKXt2YXIgYT0odGhpcy5tYXAuZ2V0TnVtWm9vbUxldmVscygpLTEtdGhpcy5tYXAuZ2V0Wm9vbSgpKSp0aGlzLnpvb21TdG9wSGVpZ2h0K3RoaXMuc3RhcnRUb3ArMTt0aGlzLnNsaWRlci5zdHlsZS50b3A9YSsicHgifSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuWm9vbUJhciJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5XRlNDYXBhYmlsaXRpZXM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwuVmVyc2lvbmVkT0dDLHtkZWZhdWx0VmVyc2lvbjoiMS4xLjAiLENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LldGU0NhcGFiaWxpdGllcyJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5XRlNDYXBhYmlsaXRpZXMudjE9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwse25hbWVzcGFjZXM6e3dmczoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC93ZnMiLHhsaW5rOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIix4c2k6Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIixvd3M6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvb3dzIn0sZXJyb3JQcm9wZXJ0eToiZmVhdHVyZVR5cGVMaXN0IixkZWZhdWx0UHJlZml4OiJ3ZnMiLHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PXR5cGVvZiBhJiYoYT1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxbYV0pKTthJiY5PT1hLm5vZGVUeXBlJiYoYT1hLmRvY3VtZW50RWxlbWVudCk7dmFyIGI9e307dGhpcy5yZWFkTm9kZShhLGIpO3JldHVybiBifSxyZWFkZXJzOnt3ZnM6e1dGU19DYXBhYmlsaXRpZXM6ZnVuY3Rpb24oYSwKYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxGZWF0dXJlVHlwZUxpc3Q6ZnVuY3Rpb24oYSxiKXtiLmZlYXR1cmVUeXBlTGlzdD17ZmVhdHVyZVR5cGVzOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5mZWF0dXJlVHlwZUxpc3QpfSxGZWF0dXJlVHlwZTpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLmZlYXR1cmVUeXBlcy5wdXNoKGMpfSxOYW1lOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDaGlsZFZhbHVlKGEpO2MmJihjPWMuc3BsaXQoIjoiKSxiLm5hbWU9Yy5wb3AoKSwwPGMubGVuZ3RoJiYoYi5mZWF0dXJlTlM9dGhpcy5sb29rdXBOYW1lc3BhY2VVUkkoYSxjWzBdKSkpfSxUaXRsZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKTtjJiYoYi50aXRsZT1jKX0sQWJzdHJhY3Q6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYSk7YyYmKGJbImFic3RyYWN0Il09Yyl9fX0sCkNMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LldGU0NhcGFiaWxpdGllcy52MSJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5XRlNDYXBhYmlsaXRpZXMudjFfMV8wPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuV0ZTQ2FwYWJpbGl0aWVzLnYxLHtyZWdFeGVzOnt0cmltU3BhY2U6L15ccyp8XHMqJC9nLHJlbW92ZVNwYWNlOi9ccyovZyxzcGxpdFNwYWNlOi9ccysvLHRyaW1Db21tYTovXHMqLFxzKi9nfSxyZWFkZXJzOnt3ZnM6T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe0RlZmF1bHRTUlM6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYSk7YyYmKGIuc3JzPWMpfX0sT3BlbkxheWVycy5Gb3JtYXQuV0ZTQ2FwYWJpbGl0aWVzLnYxLnByb3RvdHlwZS5yZWFkZXJzLndmcyksb3dzOk9wZW5MYXllcnMuRm9ybWF0Lk9XU0NvbW1vbi52MS5wcm90b3R5cGUucmVhZGVycy5vd3N9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LldGU0NhcGFiaWxpdGllcy52MV8xXzAifSk7T3BlbkxheWVycy5MYXllci5JbWFnZT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIse2lzQmFzZUxheWVyOiEwLHVybDpudWxsLGV4dGVudDpudWxsLHNpemU6bnVsbCx0aWxlOm51bGwsYXNwZWN0UmF0aW86bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjLGQsZSl7dGhpcy51cmw9Yjt0aGlzLm1heEV4dGVudD10aGlzLmV4dGVudD1jO3RoaXMuc2l6ZT1kO09wZW5MYXllcnMuTGF5ZXIucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYSxlXSk7dGhpcy5hc3BlY3RSYXRpbz10aGlzLmV4dGVudC5nZXRIZWlnaHQoKS90aGlzLnNpemUuaC8odGhpcy5leHRlbnQuZ2V0V2lkdGgoKS90aGlzLnNpemUudyl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnRpbGUmJih0aGlzLnJlbW92ZVRpbGVNb25pdG9yaW5nSG9va3ModGhpcy50aWxlKSx0aGlzLnRpbGUuZGVzdHJveSgpLHRoaXMudGlsZT1udWxsKTtPcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMsCmFyZ3VtZW50cyl9LGNsb25lOmZ1bmN0aW9uKGEpe251bGw9PWEmJihhPW5ldyBPcGVuTGF5ZXJzLkxheWVyLkltYWdlKHRoaXMubmFtZSx0aGlzLnVybCx0aGlzLmV4dGVudCx0aGlzLnNpemUsdGhpcy5nZXRPcHRpb25zKCkpKTtyZXR1cm4gYT1PcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5jbG9uZS5hcHBseSh0aGlzLFthXSl9LHNldE1hcDpmdW5jdGlvbihhKXtudWxsPT10aGlzLm9wdGlvbnMubWF4UmVzb2x1dGlvbiYmKHRoaXMub3B0aW9ucy5tYXhSZXNvbHV0aW9uPXRoaXMuYXNwZWN0UmF0aW8qdGhpcy5leHRlbnQuZ2V0V2lkdGgoKS90aGlzLnNpemUudyk7T3BlbkxheWVycy5MYXllci5wcm90b3R5cGUuc2V0TWFwLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sbW92ZVRvOmZ1bmN0aW9uKGEsYixjKXtPcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5tb3ZlVG8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBkPW51bGw9PXRoaXMudGlsZTtpZihifHxkKXt0aGlzLnNldFRpbGVTaXplKCk7CnZhciBlPXRoaXMubWFwLmdldExheWVyUHhGcm9tTG9uTGF0KHtsb246dGhpcy5leHRlbnQubGVmdCxsYXQ6dGhpcy5leHRlbnQudG9wfSk7ZD8odGhpcy50aWxlPW5ldyBPcGVuTGF5ZXJzLlRpbGUuSW1hZ2UodGhpcyxlLHRoaXMuZXh0ZW50LG51bGwsdGhpcy50aWxlU2l6ZSksdGhpcy5hZGRUaWxlTW9uaXRvcmluZ0hvb2tzKHRoaXMudGlsZSkpOih0aGlzLnRpbGUuc2l6ZT10aGlzLnRpbGVTaXplLmNsb25lKCksdGhpcy50aWxlLnBvc2l0aW9uPWUuY2xvbmUoKSk7dGhpcy50aWxlLmRyYXcoKX19LHNldFRpbGVTaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5leHRlbnQuZ2V0V2lkdGgoKS90aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCksYj10aGlzLmV4dGVudC5nZXRIZWlnaHQoKS90aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCk7dGhpcy50aWxlU2l6ZT1uZXcgT3BlbkxheWVycy5TaXplKGEsYil9LGFkZFRpbGVNb25pdG9yaW5nSG9va3M6ZnVuY3Rpb24oYSl7YS5vbkxvYWRTdGFydD0KZnVuY3Rpb24oKXt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvYWRzdGFydCIpfTthLmV2ZW50cy5yZWdpc3RlcigibG9hZHN0YXJ0Iix0aGlzLGEub25Mb2FkU3RhcnQpO2Eub25Mb2FkRW5kPWZ1bmN0aW9uKCl7dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJsb2FkZW5kIil9O2EuZXZlbnRzLnJlZ2lzdGVyKCJsb2FkZW5kIix0aGlzLGEub25Mb2FkRW5kKTthLmV2ZW50cy5yZWdpc3RlcigidW5sb2FkIix0aGlzLGEub25Mb2FkRW5kKX0scmVtb3ZlVGlsZU1vbml0b3JpbmdIb29rczpmdW5jdGlvbihhKXthLnVubG9hZCgpO2EuZXZlbnRzLnVuKHtsb2Fkc3RhcnQ6YS5vbkxvYWRTdGFydCxsb2FkZW5kOmEub25Mb2FkRW5kLHVubG9hZDphLm9uTG9hZEVuZCxzY29wZTp0aGlzfSl9LHNldFVybDpmdW5jdGlvbihhKXt0aGlzLnVybD1hO3RoaXMudGlsZS5kcmF3KCl9LGdldFVSTDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5JbWFnZSJ9KTtPcGVuTGF5ZXJzLlN0cmF0ZWd5PU9wZW5MYXllcnMuQ2xhc3Moe2xheWVyOm51bGwsb3B0aW9uczpudWxsLGFjdGl2ZTpudWxsLGF1dG9BY3RpdmF0ZTohMCxhdXRvRGVzdHJveTohMCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcyxhKTt0aGlzLm9wdGlvbnM9YTt0aGlzLmFjdGl2ZT0hMX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZGVhY3RpdmF0ZSgpO3RoaXMub3B0aW9ucz10aGlzLmxheWVyPW51bGx9LHNldExheWVyOmZ1bmN0aW9uKGEpe3RoaXMubGF5ZXI9YX0sYWN0aXZhdGU6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5hY3RpdmU/dGhpcy5hY3RpdmU9ITA6ITF9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmU/KHRoaXMuYWN0aXZlPSExLCEwKTohMX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5TdHJhdGVneSJ9KTtPcGVuTGF5ZXJzLlN0cmF0ZWd5LlNhdmU9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlN0cmF0ZWd5LHtldmVudHM6bnVsbCxhdXRvOiExLHRpbWVyOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlN0cmF0ZWd5LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKTt0aGlzLmV2ZW50cz1uZXcgT3BlbkxheWVycy5FdmVudHModGhpcyl9LGFjdGl2YXRlOmZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5TdHJhdGVneS5wcm90b3R5cGUuYWN0aXZhdGUuY2FsbCh0aGlzKTtpZihhJiZ0aGlzLmF1dG8paWYoIm51bWJlciI9PT10eXBlb2YgdGhpcy5hdXRvKXRoaXMudGltZXI9d2luZG93LnNldEludGVydmFsKE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZCh0aGlzLnNhdmUsdGhpcyksMUUzKnRoaXMuYXV0byk7ZWxzZSB0aGlzLmxheWVyLmV2ZW50cy5vbih7ZmVhdHVyZWFkZGVkOnRoaXMudHJpZ2dlclNhdmUsYWZ0ZXJmZWF0dXJlbW9kaWZpZWQ6dGhpcy50cmlnZ2VyU2F2ZSwKc2NvcGU6dGhpc30pO3JldHVybiBhfSxkZWFjdGl2YXRlOmZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5TdHJhdGVneS5wcm90b3R5cGUuZGVhY3RpdmF0ZS5jYWxsKHRoaXMpO2EmJnRoaXMuYXV0byYmKCJudW1iZXIiPT09dHlwZW9mIHRoaXMuYXV0bz93aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTp0aGlzLmxheWVyLmV2ZW50cy51bih7ZmVhdHVyZWFkZGVkOnRoaXMudHJpZ2dlclNhdmUsYWZ0ZXJmZWF0dXJlbW9kaWZpZWQ6dGhpcy50cmlnZ2VyU2F2ZSxzY29wZTp0aGlzfSkpO3JldHVybiBhfSx0cmlnZ2VyU2F2ZTpmdW5jdGlvbihhKXt2YXIgYj1hLmZlYXR1cmU7KGIuc3RhdGU9PT1PcGVuTGF5ZXJzLlN0YXRlLklOU0VSVHx8Yi5zdGF0ZT09PU9wZW5MYXllcnMuU3RhdGUuVVBEQVRFfHxiLnN0YXRlPT09T3BlbkxheWVycy5TdGF0ZS5ERUxFVEUpJiZ0aGlzLnNhdmUoW2EuZmVhdHVyZV0pfSxzYXZlOmZ1bmN0aW9uKGEpe2F8fChhPXRoaXMubGF5ZXIuZmVhdHVyZXMpOwp0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoInN0YXJ0Iix7ZmVhdHVyZXM6YX0pO3ZhciBiPXRoaXMubGF5ZXIucHJvamVjdGlvbixjPXRoaXMubGF5ZXIubWFwLmdldFByb2plY3Rpb25PYmplY3QoKTtpZighYy5lcXVhbHMoYikpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPUFycmF5KGQpLGYsZyxoPTA7aDxkOysraClmPWFbaF0sZz1mLmNsb25lKCksZy5maWQ9Zi5maWQsZy5zdGF0ZT1mLnN0YXRlLGYudXJsJiYoZy51cmw9Zi51cmwpLGcuX29yaWdpbmFsPWYsZy5nZW9tZXRyeS50cmFuc2Zvcm0oYyxiKSxlW2hdPWc7YT1lfXRoaXMubGF5ZXIucHJvdG9jb2wuY29tbWl0KGEse2NhbGxiYWNrOnRoaXMub25Db21taXQsc2NvcGU6dGhpc30pfSxvbkNvbW1pdDpmdW5jdGlvbihhKXt2YXIgYj17cmVzcG9uc2U6YX07aWYoYS5zdWNjZXNzKCkpe2Zvcih2YXIgYz1hLnJlcUZlYXR1cmVzLGQsZT1bXSxmPWEuaW5zZXJ0SWRzfHxbXSxnPTAsaD0wLGk9Yy5sZW5ndGg7aDxpOysraClpZihkPWNbaF0sCmQ9ZC5fb3JpZ2luYWx8fGQsYT1kLnN0YXRlKWE9PU9wZW5MYXllcnMuU3RhdGUuREVMRVRFP2UucHVzaChkKTphPT1PcGVuTGF5ZXJzLlN0YXRlLklOU0VSVCYmKGQuZmlkPWZbZ10sKytnKSxkLnN0YXRlPW51bGw7MDxlLmxlbmd0aCYmdGhpcy5sYXllci5kZXN0cm95RmVhdHVyZXMoZSk7dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJzdWNjZXNzIixiKX1lbHNlIHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiZmFpbCIsYil9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuU3RyYXRlZ3kuU2F2ZSJ9KTtPcGVuTGF5ZXJzLkV2ZW50cy5mZWF0dXJlY2xpY2s9T3BlbkxheWVycy5DbGFzcyh7Y2FjaGU6bnVsbCxtYXA6bnVsbCxwcm92aWRlczpbImZlYXR1cmVjbGljayIsIm5vZmVhdHVyZWNsaWNrIiwiZmVhdHVyZW92ZXIiLCJmZWF0dXJlb3V0Il0saW5pdGlhbGl6ZTpmdW5jdGlvbihhKXt0aGlzLnRhcmdldD1hO2lmKGEub2JqZWN0IGluc3RhbmNlb2YgT3BlbkxheWVycy5NYXApdGhpcy5zZXRNYXAoYS5vYmplY3QpO2Vsc2UgaWYoYS5vYmplY3QgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkxheWVyLlZlY3RvcilhLm9iamVjdC5tYXA/dGhpcy5zZXRNYXAoYS5vYmplY3QubWFwKTphLm9iamVjdC5ldmVudHMucmVnaXN0ZXIoImFkZGVkIix0aGlzLGZ1bmN0aW9uKCl7dGhpcy5zZXRNYXAoYS5vYmplY3QubWFwKX0pO2Vsc2UgdGhyb3ciTGlzdGVuZXJzIGZvciAnIit0aGlzLnByb3ZpZGVzLmpvaW4oIicsICciKSsiJyBldmVudHMgY2FuIG9ubHkgYmUgcmVnaXN0ZXJlZCBmb3IgT3BlbkxheWVycy5MYXllci5WZWN0b3Igb3IgT3BlbkxheWVycy5NYXAgaW5zdGFuY2VzIjsKZm9yKHZhciBiPXRoaXMucHJvdmlkZXMubGVuZ3RoLTE7MDw9YjstLWIpYS5leHRlbnNpb25zW3RoaXMucHJvdmlkZXNbYl1dPSEwfSxzZXRNYXA6ZnVuY3Rpb24oYSl7dGhpcy5tYXA9YTt0aGlzLmNhY2hlPXt9O2EuZXZlbnRzLnJlZ2lzdGVyKCJtb3VzZWRvd24iLHRoaXMsdGhpcy5zdGFydCx7ZXh0ZW5zaW9uOiEwfSk7YS5ldmVudHMucmVnaXN0ZXIoIm1vdXNldXAiLHRoaXMsdGhpcy5vbkNsaWNrLHtleHRlbnNpb246ITB9KTthLmV2ZW50cy5yZWdpc3RlcigidG91Y2hzdGFydCIsdGhpcyx0aGlzLnN0YXJ0LHtleHRlbnNpb246ITB9KTthLmV2ZW50cy5yZWdpc3RlcigidG91Y2htb3ZlIix0aGlzLHRoaXMuY2FuY2VsLHtleHRlbnNpb246ITB9KTthLmV2ZW50cy5yZWdpc3RlcigidG91Y2hlbmQiLHRoaXMsdGhpcy5vbkNsaWNrLHtleHRlbnNpb246ITB9KTthLmV2ZW50cy5yZWdpc3RlcigibW91c2Vtb3ZlIix0aGlzLHRoaXMub25Nb3VzZW1vdmUse2V4dGVuc2lvbjohMH0pfSwKc3RhcnQ6ZnVuY3Rpb24oYSl7dGhpcy5zdGFydEV2dD1hfSxjYW5jZWw6ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5zdGFydEV2dH0sb25DbGljazpmdW5jdGlvbihhKXtpZih0aGlzLnN0YXJ0RXZ0JiYoInRvdWNoZW5kIj09PWEudHlwZXx8T3BlbkxheWVycy5FdmVudC5pc0xlZnRDbGljayhhKSkpe2E9dGhpcy5nZXRGZWF0dXJlcyh0aGlzLnN0YXJ0RXZ0KTtkZWxldGUgdGhpcy5zdGFydEV2dDtmb3IodmFyIGIsYyxkPXt9LGU9MCxmPWEubGVuZ3RoO2U8ZiYmIShiPWFbZV0sYz1iLmxheWVyLGRbYy5pZF09ITAsYj10aGlzLnRyaWdnZXJFdmVudCgiZmVhdHVyZWNsaWNrIix7ZmVhdHVyZTpifSksITE9PT1iKTsrK2UpO2U9MDtmb3IoZj10aGlzLm1hcC5sYXllcnMubGVuZ3RoO2U8ZjsrK2UpYz10aGlzLm1hcC5sYXllcnNbZV0sYyBpbnN0YW5jZW9mIE9wZW5MYXllcnMuTGF5ZXIuVmVjdG9yJiYhZFtjLmlkXSYmdGhpcy50cmlnZ2VyRXZlbnQoIm5vZmVhdHVyZWNsaWNrIix7bGF5ZXI6Y30pfX0sCm9uTW91c2Vtb3ZlOmZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLnN0YXJ0RXZ0O2Zvcih2YXIgYj10aGlzLmdldEZlYXR1cmVzKGEpLGM9e30sYT1bXSxkLGU9MCxmPWIubGVuZ3RoO2U8ZjsrK2UpZD1iW2VdLGNbZC5pZF09ZCx0aGlzLmNhY2hlW2QuaWRdfHxhLnB1c2goZCk7dmFyIGI9W10sZztmb3IoZyBpbiB0aGlzLmNhY2hlKWQ9dGhpcy5jYWNoZVtnXSxkLmxheWVyJiZkLmxheWVyLm1hcD9jW2QuaWRdfHxiLnB1c2goZCk6ZGVsZXRlIHRoaXMuY2FjaGVbZ107ZT0wO2ZvcihmPWEubGVuZ3RoO2U8ZiYmIShkPWFbZV0sdGhpcy5jYWNoZVtkLmlkXT1kLGc9dGhpcy50cmlnZ2VyRXZlbnQoImZlYXR1cmVvdmVyIix7ZmVhdHVyZTpkfSksITE9PT1nKTsrK2UpO2U9MDtmb3IoZj1iLmxlbmd0aDtlPGYmJiEoZD1iW2VdLGRlbGV0ZSB0aGlzLmNhY2hlW2QuaWRdLGc9dGhpcy50cmlnZ2VyRXZlbnQoImZlYXR1cmVvdXQiLHtmZWF0dXJlOmR9KSwhMT09PWcpOysrZSk7fSx0cmlnZ2VyRXZlbnQ6ZnVuY3Rpb24oYSwKYil7dmFyIGM9Yi5mZWF0dXJlP2IuZmVhdHVyZS5sYXllcjpiLmxheWVyLGQ9dGhpcy50YXJnZXQub2JqZWN0O2lmKGQgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLk1hcHx8ZD09PWMpcmV0dXJuIHRoaXMudGFyZ2V0LnRyaWdnZXJFdmVudChhLGIpfSxnZXRGZWF0dXJlczpmdW5jdGlvbihhKXt2YXIgYj1hLmNsaWVudFgsYz1hLmNsaWVudFksZD1bXSxlPVtdLGY9W10sZyxoLGksajtmb3Ioaj10aGlzLm1hcC5sYXllcnMubGVuZ3RoLTE7MDw9ajstLWopaWYoZz10aGlzLm1hcC5sYXllcnNbal0sIm5vbmUiIT09Zy5kaXYuc3R5bGUuZGlzcGxheSlpZihnLnJlbmRlcmVyIGluc3RhbmNlb2YgT3BlbkxheWVycy5SZW5kZXJlci5FbGVtZW50cyl7aWYoZyBpbnN0YW5jZW9mIE9wZW5MYXllcnMuTGF5ZXIuVmVjdG9yKWZvcihoPWRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoYixjKTtoJiZoLl9mZWF0dXJlSWQ7KShpPWcuZ2V0RmVhdHVyZUJ5SWQoaC5fZmVhdHVyZUlkKSk/KGQucHVzaChpKSwKaC5zdHlsZS5kaXNwbGF5PSJub25lIixlLnB1c2goaCksaD1kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KGIsYykpOmg9ITE7Zi5wdXNoKGcpO2cuZGl2LnN0eWxlLmRpc3BsYXk9Im5vbmUifWVsc2UgaWYoZy5yZW5kZXJlciBpbnN0YW5jZW9mIE9wZW5MYXllcnMuUmVuZGVyZXIuQ2FudmFzJiYoaT1nLnJlbmRlcmVyLmdldEZlYXR1cmVJZEZyb21FdmVudChhKSkpZC5wdXNoKGkpLGYucHVzaChnKTtqPTA7Zm9yKGE9ZS5sZW5ndGg7ajxhOysraillW2pdLnN0eWxlLmRpc3BsYXk9IiI7Zm9yKGo9Zi5sZW5ndGgtMTswPD1qOy0tailmW2pdLmRpdi5zdHlsZS5kaXNwbGF5PSJibG9jayI7cmV0dXJuIGR9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5wcm92aWRlcy5sZW5ndGgtMTswPD1hOy0tYSlkZWxldGUgdGhpcy50YXJnZXQuZXh0ZW5zaW9uc1t0aGlzLnByb3ZpZGVzW2FdXTt0aGlzLm1hcC5ldmVudHMudW4oe21vdXNlbW92ZTp0aGlzLm9uTW91c2Vtb3ZlLG1vdXNlZG93bjp0aGlzLnN0YXJ0LAptb3VzZXVwOnRoaXMub25DbGljayx0b3VjaHN0YXJ0OnRoaXMuc3RhcnQsdG91Y2htb3ZlOnRoaXMuY2FuY2VsLHRvdWNoZW5kOnRoaXMub25DbGljayxzY29wZTp0aGlzfSk7ZGVsZXRlIHRoaXMuY2FjaGU7ZGVsZXRlIHRoaXMubWFwO2RlbGV0ZSB0aGlzLnRhcmdldH19KTtPcGVuTGF5ZXJzLkV2ZW50cy5ub2ZlYXR1cmVjbGljaz1PcGVuTGF5ZXJzLkV2ZW50cy5mZWF0dXJlY2xpY2s7T3BlbkxheWVycy5FdmVudHMuZmVhdHVyZW92ZXI9T3BlbkxheWVycy5FdmVudHMuZmVhdHVyZWNsaWNrO09wZW5MYXllcnMuRXZlbnRzLmZlYXR1cmVvdXQ9T3BlbkxheWVycy5FdmVudHMuZmVhdHVyZWNsaWNrO09wZW5MYXllcnMuRm9ybWF0LkdQWD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7ZGVmYXVsdERlc2M6Ik5vIGRlc2NyaXB0aW9uIGF2YWlsYWJsZSIsZXh0cmFjdFdheXBvaW50czohMCxleHRyYWN0VHJhY2tzOiEwLGV4dHJhY3RSb3V0ZXM6ITAsZXh0cmFjdEF0dHJpYnV0ZXM6ITAsbmFtZXNwYWNlczp7Z3B4OiJodHRwOi8vd3d3LnRvcG9ncmFmaXguY29tL0dQWC8xLzEiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UifSxzY2hlbWFMb2NhdGlvbjoiaHR0cDovL3d3dy50b3BvZ3JhZml4LmNvbS9HUFgvMS8xIGh0dHA6Ly93d3cudG9wb2dyYWZpeC5jb20vR1BYLzEvMS9ncHgueHNkIixjcmVhdG9yOiJPcGVuTGF5ZXJzIixpbml0aWFsaXplOmZ1bmN0aW9uKGEpe3RoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uPW5ldyBPcGVuTGF5ZXJzLlByb2plY3Rpb24oIkVQU0c6NDMyNiIpO09wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLApbYV0pfSxyZWFkOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7dmFyIGI9W107aWYodGhpcy5leHRyYWN0VHJhY2tzKWZvcih2YXIgYz1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0cmsiKSxkPTAsZT1jLmxlbmd0aDtkPGU7ZCsrKXt2YXIgZj17fTt0aGlzLmV4dHJhY3RBdHRyaWJ1dGVzJiYoZj10aGlzLnBhcnNlQXR0cmlidXRlcyhjW2RdKSk7Zm9yKHZhciBnPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhjW2RdLGNbZF0ubmFtZXNwYWNlVVJJLCJ0cmtzZWciKSxoPTAsaT1nLmxlbmd0aDtoPGk7aCsrKXt2YXIgaj10aGlzLmV4dHJhY3RTZWdtZW50KGdbaF0sInRya3B0Iik7Yi5wdXNoKG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKGosZikpfX1pZih0aGlzLmV4dHJhY3RSb3V0ZXMpe2U9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgicnRlIik7Yz0wO2ZvcihkPQplLmxlbmd0aDtjPGQ7YysrKWY9e30sdGhpcy5leHRyYWN0QXR0cmlidXRlcyYmKGY9dGhpcy5wYXJzZUF0dHJpYnV0ZXMoZVtjXSkpLGc9dGhpcy5leHRyYWN0U2VnbWVudChlW2NdLCJydGVwdCIpLGIucHVzaChuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihnLGYpKX1pZih0aGlzLmV4dHJhY3RXYXlwb2ludHMpe2E9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgid3B0Iik7Yz0wO2ZvcihlPWEubGVuZ3RoO2M8ZTtjKyspZj17fSx0aGlzLmV4dHJhY3RBdHRyaWJ1dGVzJiYoZj10aGlzLnBhcnNlQXR0cmlidXRlcyhhW2NdKSksZD1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChhW2NdLmdldEF0dHJpYnV0ZSgibG9uIiksYVtjXS5nZXRBdHRyaWJ1dGUoImxhdCIpKSxiLnB1c2gobmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoZCxmKSl9aWYodGhpcy5pbnRlcm5hbFByb2plY3Rpb24mJnRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uKXtmPTA7Zm9yKGE9Yi5sZW5ndGg7ZjwKYTtmKyspYltmXS5nZW9tZXRyeS50cmFuc2Zvcm0odGhpcy5leHRlcm5hbFByb2plY3Rpb24sdGhpcy5pbnRlcm5hbFByb2plY3Rpb24pfXJldHVybiBifSxleHRyYWN0U2VnbWVudDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSxhLm5hbWVzcGFjZVVSSSxiKSxkPVtdLGU9MCxmPWMubGVuZ3RoO2U8ZjtlKyspZC5wdXNoKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGNbZV0uZ2V0QXR0cmlidXRlKCJsb24iKSxjW2VdLmdldEF0dHJpYnV0ZSgibGF0IikpKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZyhkKX0scGFyc2VBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj17fSxhPWEuZmlyc3RDaGlsZCxjLGQ7YTspe2lmKDE9PWEubm9kZVR5cGUmJmEuZmlyc3RDaGlsZCYmKGM9YS5maXJzdENoaWxkLDM9PWMubm9kZVR5cGV8fDQ9PWMubm9kZVR5cGUpKWQ9YS5wcmVmaXg/YS5ub2RlTmFtZS5zcGxpdCgiOiIpWzFdOgphLm5vZGVOYW1lLCJ0cmtzZWciIT1kJiYicnRlcHQiIT1kJiYoYltkXT1jLm5vZGVWYWx1ZSk7YT1hLm5leHRTaWJsaW5nfXJldHVybiBifSx3cml0ZTpmdW5jdGlvbihhLGIpe3ZhciBhPU9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEpP2E6W2FdLGM9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5uYW1lc3BhY2VzLmdweCwiZ3B4Iik7Yy5zZXRBdHRyaWJ1dGUoInZlcnNpb24iLCIxLjEiKTtjLnNldEF0dHJpYnV0ZSgiY3JlYXRvciIsdGhpcy5jcmVhdG9yKTt0aGlzLnNldEF0dHJpYnV0ZXMoYyx7InhzaTpzY2hlbWFMb2NhdGlvbiI6dGhpcy5zY2hlbWFMb2NhdGlvbn0pO2ImJiJvYmplY3QiPT10eXBlb2YgYiYmYy5hcHBlbmRDaGlsZCh0aGlzLmJ1aWxkTWV0YWRhdGFOb2RlKGIpKTtmb3IodmFyIGQ9MCxlPWEubGVuZ3RoO2Q8ZTtkKyspYy5hcHBlbmRDaGlsZCh0aGlzLmJ1aWxkRmVhdHVyZU5vZGUoYVtkXSkpO3JldHVybiBPcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLndyaXRlLmFwcGx5KHRoaXMsCltjXSl9LGJ1aWxkTWV0YWRhdGFOb2RlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bIm5hbWUiLCJkZXNjIiwiYXV0aG9yIl0sYz10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLm5hbWVzcGFjZXMuZ3B4LCJtZXRhZGF0YSIpLGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXTtpZihhW2VdKXt2YXIgZj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLm5hbWVzcGFjZXMuZ3B4LGUpO2YuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVUZXh0Tm9kZShhW2VdKSk7Yy5hcHBlbmRDaGlsZChmKX19cmV0dXJuIGN9LGJ1aWxkRmVhdHVyZU5vZGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZW9tZXRyeSxiPWIuY2xvbmUoKTt0aGlzLmludGVybmFsUHJvamVjdGlvbiYmdGhpcy5leHRlcm5hbFByb2plY3Rpb24mJmIudHJhbnNmb3JtKHRoaXMuaW50ZXJuYWxQcm9qZWN0aW9uLHRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uKTtpZigiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCI9PWIuQ0xBU1NfTkFNRSl7dmFyIGM9CnRoaXMuYnVpbGRXcHROb2RlKGIpO3RoaXMuYXBwZW5kQXR0cmlidXRlc05vZGUoYyxhKTtyZXR1cm4gY31jPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMubmFtZXNwYWNlcy5ncHgsInRyayIpO3RoaXMuYXBwZW5kQXR0cmlidXRlc05vZGUoYyxhKTtmb3IodmFyIGE9dGhpcy5idWlsZFRya1NlZ05vZGUoYiksYT1PcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShhKT9hOlthXSxiPTAsZD1hLmxlbmd0aDtiPGQ7YisrKWMuYXBwZW5kQ2hpbGQoYVtiXSk7cmV0dXJuIGN9LGJ1aWxkVHJrU2VnTm9kZTpmdW5jdGlvbihhKXt2YXIgYixjLGQsZTtpZigiT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nIj09YS5DTEFTU19OQU1FfHwiT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lYXJSaW5nIj09YS5DTEFTU19OQU1FKXtiPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMubmFtZXNwYWNlcy5ncHgsInRya3NlZyIpO2M9MDtmb3IoZD1hLmNvbXBvbmVudHMubGVuZ3RoO2M8ZDtjKyspZT1hLmNvbXBvbmVudHNbY10sCmIuYXBwZW5kQ2hpbGQodGhpcy5idWlsZFRya1B0Tm9kZShlKSk7cmV0dXJuIGJ9Yj1bXTtjPTA7Zm9yKGQ9YS5jb21wb25lbnRzLmxlbmd0aDtjPGQ7YysrKWIucHVzaCh0aGlzLmJ1aWxkVHJrU2VnTm9kZShhLmNvbXBvbmVudHNbY10pKTtyZXR1cm4gYn0sYnVpbGRUcmtQdE5vZGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5uYW1lc3BhY2VzLmdweCwidHJrcHQiKTtiLnNldEF0dHJpYnV0ZSgibG9uIixhLngpO2Iuc2V0QXR0cmlidXRlKCJsYXQiLGEueSk7cmV0dXJuIGJ9LGJ1aWxkV3B0Tm9kZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLm5hbWVzcGFjZXMuZ3B4LCJ3cHQiKTtiLnNldEF0dHJpYnV0ZSgibG9uIixhLngpO2Iuc2V0QXR0cmlidXRlKCJsYXQiLGEueSk7cmV0dXJuIGJ9LGFwcGVuZEF0dHJpYnV0ZXNOb2RlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5uYW1lc3BhY2VzLmdweCwKIm5hbWUiKTtjLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlVGV4dE5vZGUoYi5hdHRyaWJ1dGVzLm5hbWV8fGIuaWQpKTthLmFwcGVuZENoaWxkKGMpO2M9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5uYW1lc3BhY2VzLmdweCwiZGVzYyIpO2MuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVUZXh0Tm9kZShiLmF0dHJpYnV0ZXMuZGVzY3JpcHRpb258fHRoaXMuZGVmYXVsdERlc2MpKTthLmFwcGVuZENoaWxkKGMpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5HUFgifSk7T3BlbkxheWVycy5IYW5kbGVyPU9wZW5MYXllcnMuQ2xhc3Moe2lkOm51bGwsY29udHJvbDpudWxsLG1hcDpudWxsLGtleU1hc2s6bnVsbCxhY3RpdmU6ITEsZXZ0Om51bGwsdG91Y2g6ITEsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyl7T3BlbkxheWVycy5VdGlsLmV4dGVuZCh0aGlzLGMpO3RoaXMuY29udHJvbD1hO3RoaXMuY2FsbGJhY2tzPWI7KGE9dGhpcy5tYXB8fGEubWFwKSYmdGhpcy5zZXRNYXAoYSk7dGhpcy5pZD1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlVW5pcXVlSUQodGhpcy5DTEFTU19OQU1FKyJfIil9LHNldE1hcDpmdW5jdGlvbihhKXt0aGlzLm1hcD1hfSxjaGVja01vZGlmaWVyczpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09dGhpcy5rZXlNYXNrPyEwOigoYS5zaGlmdEtleT9PcGVuTGF5ZXJzLkhhbmRsZXIuTU9EX1NISUZUOjApfChhLmN0cmxLZXk/T3BlbkxheWVycy5IYW5kbGVyLk1PRF9DVFJMOjApfChhLmFsdEtleT9PcGVuTGF5ZXJzLkhhbmRsZXIuTU9EX0FMVDoKMCl8KGEubWV0YUtleT9PcGVuTGF5ZXJzLkhhbmRsZXIuTU9EX01FVEE6MCkpPT10aGlzLmtleU1hc2t9LGFjdGl2YXRlOmZ1bmN0aW9uKCl7aWYodGhpcy5hY3RpdmUpcmV0dXJuITE7Zm9yKHZhciBhPU9wZW5MYXllcnMuRXZlbnRzLnByb3RvdHlwZS5CUk9XU0VSX0VWRU5UUyxiPTAsYz1hLmxlbmd0aDtiPGM7YisrKXRoaXNbYVtiXV0mJnRoaXMucmVnaXN0ZXIoYVtiXSx0aGlzW2FbYl1dKTtyZXR1cm4gdGhpcy5hY3RpdmU9ITB9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXtpZighdGhpcy5hY3RpdmUpcmV0dXJuITE7Zm9yKHZhciBhPU9wZW5MYXllcnMuRXZlbnRzLnByb3RvdHlwZS5CUk9XU0VSX0VWRU5UUyxiPTAsYz1hLmxlbmd0aDtiPGM7YisrKXRoaXNbYVtiXV0mJnRoaXMudW5yZWdpc3RlcihhW2JdLHRoaXNbYVtiXV0pO3RoaXMuYWN0aXZlPXRoaXMudG91Y2g9ITE7cmV0dXJuITB9LHN0YXJ0VG91Y2g6ZnVuY3Rpb24oKXtpZighdGhpcy50b3VjaCl7dGhpcy50b3VjaD0hMDsKZm9yKHZhciBhPSJtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgY2xpY2sgZGJsY2xpY2sgbW91c2VvdXQiLnNwbGl0KCIgIiksYj0wLGM9YS5sZW5ndGg7YjxjO2IrKyl0aGlzW2FbYl1dJiZ0aGlzLnVucmVnaXN0ZXIoYVtiXSx0aGlzW2FbYl1dKX19LGNhbGxiYWNrOmZ1bmN0aW9uKGEsYil7YSYmdGhpcy5jYWxsYmFja3NbYV0mJnRoaXMuY2FsbGJhY2tzW2FdLmFwcGx5KHRoaXMuY29udHJvbCxiKX0scmVnaXN0ZXI6ZnVuY3Rpb24oYSxiKXt0aGlzLm1hcC5ldmVudHMucmVnaXN0ZXJQcmlvcml0eShhLHRoaXMsYik7dGhpcy5tYXAuZXZlbnRzLnJlZ2lzdGVyUHJpb3JpdHkoYSx0aGlzLHRoaXMuc2V0RXZlbnQpfSx1bnJlZ2lzdGVyOmZ1bmN0aW9uKGEsYil7dGhpcy5tYXAuZXZlbnRzLnVucmVnaXN0ZXIoYSx0aGlzLGIpO3RoaXMubWFwLmV2ZW50cy51bnJlZ2lzdGVyKGEsdGhpcyx0aGlzLnNldEV2ZW50KX0sc2V0RXZlbnQ6ZnVuY3Rpb24oYSl7dGhpcy5ldnQ9YTtyZXR1cm4hMH0sCmRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmRlYWN0aXZhdGUoKTt0aGlzLmNvbnRyb2w9dGhpcy5tYXA9bnVsbH0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5IYW5kbGVyIn0pO09wZW5MYXllcnMuSGFuZGxlci5NT0RfTk9ORT0wO09wZW5MYXllcnMuSGFuZGxlci5NT0RfU0hJRlQ9MTtPcGVuTGF5ZXJzLkhhbmRsZXIuTU9EX0NUUkw9MjtPcGVuTGF5ZXJzLkhhbmRsZXIuTU9EX0FMVD00O09wZW5MYXllcnMuSGFuZGxlci5NT0RfTUVUQT04O09wZW5MYXllcnMuSGFuZGxlci5DbGljaz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuSGFuZGxlcix7ZGVsYXk6MzAwLHNpbmdsZTohMCwiZG91YmxlIjohMSxwaXhlbFRvbGVyYW5jZTowLGRibGNsaWNrVG9sZXJhbmNlOjEzLHN0b3BTaW5nbGU6ITEsc3RvcERvdWJsZTohMSx0aW1lcklkOm51bGwsZG93bjpudWxsLGxhc3Q6bnVsbCxmaXJzdDpudWxsLHJpZ2h0Y2xpY2tUaW1lcklkOm51bGwsdG91Y2hzdGFydDpmdW5jdGlvbihhKXt0aGlzLnN0YXJ0VG91Y2goKTt0aGlzLmRvd249dGhpcy5nZXRFdmVudEluZm8oYSk7dGhpcy5sYXN0PXRoaXMuZ2V0RXZlbnRJbmZvKGEpO3JldHVybiEwfSx0b3VjaG1vdmU6ZnVuY3Rpb24oYSl7dGhpcy5sYXN0PXRoaXMuZ2V0RXZlbnRJbmZvKGEpO3JldHVybiEwfSx0b3VjaGVuZDpmdW5jdGlvbihhKXt0aGlzLmRvd24mJihhLnh5PXRoaXMubGFzdC54eSxhLmxhc3RUb3VjaGVzPXRoaXMubGFzdC50b3VjaGVzLHRoaXMuaGFuZGxlU2luZ2xlKGEpLAp0aGlzLmRvd249bnVsbCk7cmV0dXJuITB9LG1vdXNlZG93bjpmdW5jdGlvbihhKXt0aGlzLmRvd249dGhpcy5nZXRFdmVudEluZm8oYSk7dGhpcy5sYXN0PXRoaXMuZ2V0RXZlbnRJbmZvKGEpO3JldHVybiEwfSxtb3VzZXVwOmZ1bmN0aW9uKGEpe3ZhciBiPSEwO3RoaXMuY2hlY2tNb2RpZmllcnMoYSkmJih0aGlzLmNvbnRyb2wuaGFuZGxlUmlnaHRDbGlja3MmJk9wZW5MYXllcnMuRXZlbnQuaXNSaWdodENsaWNrKGEpKSYmKGI9dGhpcy5yaWdodGNsaWNrKGEpKTtyZXR1cm4gYn0scmlnaHRjbGljazpmdW5jdGlvbihhKXtpZih0aGlzLnBhc3Nlc1RvbGVyYW5jZShhKSl7aWYobnVsbCE9dGhpcy5yaWdodGNsaWNrVGltZXJJZClyZXR1cm4gdGhpcy5jbGVhclRpbWVyKCksdGhpcy5jYWxsYmFjaygiZGJscmlnaHRjbGljayIsW2FdKSwhdGhpcy5zdG9wRG91YmxlO2E9dGhpc1siZG91YmxlIl0/T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSxhKTp0aGlzLmNhbGxiYWNrKCJyaWdodGNsaWNrIiwKW2FdKTthPU9wZW5MYXllcnMuRnVuY3Rpb24uYmluZCh0aGlzLmRlbGF5ZWRSaWdodENhbGwsdGhpcyxhKTt0aGlzLnJpZ2h0Y2xpY2tUaW1lcklkPXdpbmRvdy5zZXRUaW1lb3V0KGEsdGhpcy5kZWxheSl9cmV0dXJuIXRoaXMuc3RvcFNpbmdsZX0sZGVsYXllZFJpZ2h0Q2FsbDpmdW5jdGlvbihhKXt0aGlzLnJpZ2h0Y2xpY2tUaW1lcklkPW51bGw7YSYmdGhpcy5jYWxsYmFjaygicmlnaHRjbGljayIsW2FdKX0sY2xpY2s6ZnVuY3Rpb24oYSl7dGhpcy5sYXN0fHwodGhpcy5sYXN0PXRoaXMuZ2V0RXZlbnRJbmZvKGEpKTt0aGlzLmhhbmRsZVNpbmdsZShhKTtyZXR1cm4hdGhpcy5zdG9wU2luZ2xlfSxkYmxjbGljazpmdW5jdGlvbihhKXt0aGlzLmhhbmRsZURvdWJsZShhKTtyZXR1cm4hdGhpcy5zdG9wRG91YmxlfSxoYW5kbGVEb3VibGU6ZnVuY3Rpb24oYSl7dGhpcy5wYXNzZXNEYmxjbGlja1RvbGVyYW5jZShhKSYmKHRoaXNbImRvdWJsZSJdJiZ0aGlzLmNhbGxiYWNrKCJkYmxjbGljayIsClthXSksdGhpcy5jbGVhclRpbWVyKCkpfSxoYW5kbGVTaW5nbGU6ZnVuY3Rpb24oYSl7dGhpcy5wYXNzZXNUb2xlcmFuY2UoYSkmJihudWxsIT10aGlzLnRpbWVySWQ/KHRoaXMubGFzdC50b3VjaGVzJiYxPT09dGhpcy5sYXN0LnRvdWNoZXMubGVuZ3RoJiYodGhpc1siZG91YmxlIl0mJk9wZW5MYXllcnMuRXZlbnQucHJldmVudERlZmF1bHQoYSksdGhpcy5oYW5kbGVEb3VibGUoYSkpLCghdGhpcy5sYXN0LnRvdWNoZXN8fDIhPT10aGlzLmxhc3QudG91Y2hlcy5sZW5ndGgpJiZ0aGlzLmNsZWFyVGltZXIoKSk6KHRoaXMuZmlyc3Q9dGhpcy5nZXRFdmVudEluZm8oYSksYT10aGlzLnNpbmdsZT9PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LGEpOm51bGwsdGhpcy5xdWV1ZVBvdGVudGlhbENsaWNrKGEpKSl9LHF1ZXVlUG90ZW50aWFsQ2xpY2s6ZnVuY3Rpb24oYSl7dGhpcy50aW1lcklkPXdpbmRvdy5zZXRUaW1lb3V0KE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZCh0aGlzLmRlbGF5ZWRDYWxsLAp0aGlzLGEpLHRoaXMuZGVsYXkpfSxwYXNzZXNUb2xlcmFuY2U6ZnVuY3Rpb24oYSl7dmFyIGI9ITA7aWYobnVsbCE9dGhpcy5waXhlbFRvbGVyYW5jZSYmdGhpcy5kb3duJiZ0aGlzLmRvd24ueHkmJihiPXRoaXMucGl4ZWxUb2xlcmFuY2U+PXRoaXMuZG93bi54eS5kaXN0YW5jZVRvKGEueHkpKSYmdGhpcy50b3VjaCYmdGhpcy5kb3duLnRvdWNoZXMubGVuZ3RoPT09dGhpcy5sYXN0LnRvdWNoZXMubGVuZ3RoKWZvcih2YXIgYT0wLGM9dGhpcy5kb3duLnRvdWNoZXMubGVuZ3RoO2E8YzsrK2EpaWYodGhpcy5nZXRUb3VjaERpc3RhbmNlKHRoaXMuZG93bi50b3VjaGVzW2FdLHRoaXMubGFzdC50b3VjaGVzW2FdKT50aGlzLnBpeGVsVG9sZXJhbmNlKXtiPSExO2JyZWFrfXJldHVybiBifSxnZXRUb3VjaERpc3RhbmNlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhhLmNsaWVudFgtYi5jbGllbnRYLDIpK01hdGgucG93KGEuY2xpZW50WS1iLmNsaWVudFksMikpfSwKcGFzc2VzRGJsY2xpY2tUb2xlcmFuY2U6ZnVuY3Rpb24oKXt2YXIgYT0hMDt0aGlzLmRvd24mJnRoaXMuZmlyc3QmJihhPXRoaXMuZG93bi54eS5kaXN0YW5jZVRvKHRoaXMuZmlyc3QueHkpPD10aGlzLmRibGNsaWNrVG9sZXJhbmNlKTtyZXR1cm4gYX0sY2xlYXJUaW1lcjpmdW5jdGlvbigpe251bGwhPXRoaXMudGltZXJJZCYmKHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy50aW1lcklkKSx0aGlzLnRpbWVySWQ9bnVsbCk7bnVsbCE9dGhpcy5yaWdodGNsaWNrVGltZXJJZCYmKHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5yaWdodGNsaWNrVGltZXJJZCksdGhpcy5yaWdodGNsaWNrVGltZXJJZD1udWxsKX0sZGVsYXllZENhbGw6ZnVuY3Rpb24oYSl7dGhpcy50aW1lcklkPW51bGw7YSYmdGhpcy5jYWxsYmFjaygiY2xpY2siLFthXSl9LGdldEV2ZW50SW5mbzpmdW5jdGlvbihhKXt2YXIgYjtpZihhLnRvdWNoZXMpe3ZhciBjPWEudG91Y2hlcy5sZW5ndGg7Yj1BcnJheShjKTtmb3IodmFyIGQsCmU9MDtlPGM7ZSsrKWQ9YS50b3VjaGVzW2VdLGJbZV09e2NsaWVudFg6ZC5vbENsaWVudFgsY2xpZW50WTpkLm9sQ2xpZW50WX19cmV0dXJue3h5OmEueHksdG91Y2hlczpifX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPSExO09wZW5MYXllcnMuSGFuZGxlci5wcm90b3R5cGUuZGVhY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cykmJih0aGlzLmNsZWFyVGltZXIoKSx0aGlzLmxhc3Q9dGhpcy5maXJzdD10aGlzLmRvd249bnVsbCxhPSEwKTtyZXR1cm4gYX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5IYW5kbGVyLkNsaWNrIn0pO09wZW5MYXllcnMuSGFuZGxlci5EcmFnPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5IYW5kbGVyLHtzdGFydGVkOiExLHN0b3BEb3duOiEwLGRyYWdnaW5nOiExLGxhc3Q6bnVsbCxzdGFydDpudWxsLGxhc3RNb3ZlRXZ0Om51bGwsb2xkT25zZWxlY3RzdGFydDpudWxsLGludGVydmFsOjAsdGltZW91dElkOm51bGwsZG9jdW1lbnREcmFnOiExLGRvY3VtZW50RXZlbnRzOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyl7T3BlbkxheWVycy5IYW5kbGVyLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZighMD09PXRoaXMuZG9jdW1lbnREcmFnKXt2YXIgZD10aGlzO3RoaXMuX2RvY01vdmU9ZnVuY3Rpb24oYSl7ZC5tb3VzZW1vdmUoe3h5Ont4OmEuY2xpZW50WCx5OmEuY2xpZW50WX0sZWxlbWVudDpkb2N1bWVudH0pfTt0aGlzLl9kb2NVcD1mdW5jdGlvbihhKXtkLm1vdXNldXAoe3h5Ont4OmEuY2xpZW50WCx5OmEuY2xpZW50WX19KX19fSwKZHJhZ3N0YXJ0OmZ1bmN0aW9uKGEpe3ZhciBiPSEwO3RoaXMuZHJhZ2dpbmc9ITE7dGhpcy5jaGVja01vZGlmaWVycyhhKSYmKE9wZW5MYXllcnMuRXZlbnQuaXNMZWZ0Q2xpY2soYSl8fE9wZW5MYXllcnMuRXZlbnQuaXNTaW5nbGVUb3VjaChhKSk/KHRoaXMuc3RhcnRlZD0hMCx0aGlzLmxhc3Q9dGhpcy5zdGFydD1hLnh5LE9wZW5MYXllcnMuRWxlbWVudC5hZGRDbGFzcyh0aGlzLm1hcC52aWV3UG9ydERpdiwib2xEcmFnRG93biIpLHRoaXMuZG93bihhKSx0aGlzLmNhbGxiYWNrKCJkb3duIixbYS54eV0pLE9wZW5MYXllcnMuRXZlbnQucHJldmVudERlZmF1bHQoYSksdGhpcy5vbGRPbnNlbGVjdHN0YXJ0fHwodGhpcy5vbGRPbnNlbGVjdHN0YXJ0PWRvY3VtZW50Lm9uc2VsZWN0c3RhcnQ/ZG9jdW1lbnQub25zZWxlY3RzdGFydDpPcGVuTGF5ZXJzLkZ1bmN0aW9uLlRydWUpLGRvY3VtZW50Lm9uc2VsZWN0c3RhcnQ9T3BlbkxheWVycy5GdW5jdGlvbi5GYWxzZSxiPSF0aGlzLnN0b3BEb3duKToKKHRoaXMuc3RhcnRlZD0hMSx0aGlzLmxhc3Q9dGhpcy5zdGFydD1udWxsKTtyZXR1cm4gYn0sZHJhZ21vdmU6ZnVuY3Rpb24oYSl7dGhpcy5sYXN0TW92ZUV2dD1hO2lmKHRoaXMuc3RhcnRlZCYmIXRoaXMudGltZW91dElkJiYoYS54eS54IT10aGlzLmxhc3QueHx8YS54eS55IT10aGlzLmxhc3QueSkpITA9PT10aGlzLmRvY3VtZW50RHJhZyYmdGhpcy5kb2N1bWVudEV2ZW50cyYmKGEuZWxlbWVudD09PWRvY3VtZW50Pyh0aGlzLmFkanVzdFhZKGEpLHRoaXMuc2V0RXZlbnQoYSkpOnRoaXMucmVtb3ZlRG9jdW1lbnRFdmVudHMoKSksMDx0aGlzLmludGVydmFsJiYodGhpcy50aW1lb3V0SWQ9c2V0VGltZW91dChPcGVuTGF5ZXJzLkZ1bmN0aW9uLmJpbmQodGhpcy5yZW1vdmVUaW1lb3V0LHRoaXMpLHRoaXMuaW50ZXJ2YWwpKSx0aGlzLmRyYWdnaW5nPSEwLHRoaXMubW92ZShhKSx0aGlzLmNhbGxiYWNrKCJtb3ZlIixbYS54eV0pLHRoaXMub2xkT25zZWxlY3RzdGFydHx8KHRoaXMub2xkT25zZWxlY3RzdGFydD0KZG9jdW1lbnQub25zZWxlY3RzdGFydCxkb2N1bWVudC5vbnNlbGVjdHN0YXJ0PU9wZW5MYXllcnMuRnVuY3Rpb24uRmFsc2UpLHRoaXMubGFzdD1hLnh5O3JldHVybiEwfSxkcmFnZW5kOmZ1bmN0aW9uKGEpe2lmKHRoaXMuc3RhcnRlZCl7ITA9PT10aGlzLmRvY3VtZW50RHJhZyYmdGhpcy5kb2N1bWVudEV2ZW50cyYmKHRoaXMuYWRqdXN0WFkoYSksdGhpcy5yZW1vdmVEb2N1bWVudEV2ZW50cygpKTt2YXIgYj10aGlzLnN0YXJ0IT10aGlzLmxhc3Q7dGhpcy5kcmFnZ2luZz10aGlzLnN0YXJ0ZWQ9ITE7T3BlbkxheWVycy5FbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMubWFwLnZpZXdQb3J0RGl2LCJvbERyYWdEb3duIik7dGhpcy51cChhKTt0aGlzLmNhbGxiYWNrKCJ1cCIsW2EueHldKTtiJiZ0aGlzLmNhbGxiYWNrKCJkb25lIixbYS54eV0pO2RvY3VtZW50Lm9uc2VsZWN0c3RhcnQ9dGhpcy5vbGRPbnNlbGVjdHN0YXJ0fXJldHVybiEwfSxkb3duOmZ1bmN0aW9uKCl7fSxtb3ZlOmZ1bmN0aW9uKCl7fSwKdXA6ZnVuY3Rpb24oKXt9LG91dDpmdW5jdGlvbigpe30sbW91c2Vkb3duOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmRyYWdzdGFydChhKX0sdG91Y2hzdGFydDpmdW5jdGlvbihhKXt0aGlzLnN0YXJ0VG91Y2goKTtyZXR1cm4gdGhpcy5kcmFnc3RhcnQoYSl9LG1vdXNlbW92ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5kcmFnbW92ZShhKX0sdG91Y2htb3ZlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmRyYWdtb3ZlKGEpfSxyZW1vdmVUaW1lb3V0OmZ1bmN0aW9uKCl7dGhpcy50aW1lb3V0SWQ9bnVsbDt0aGlzLmRyYWdnaW5nJiZ0aGlzLm1vdXNlbW92ZSh0aGlzLmxhc3RNb3ZlRXZ0KX0sbW91c2V1cDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5kcmFnZW5kKGEpfSx0b3VjaGVuZDpmdW5jdGlvbihhKXthLnh5PXRoaXMubGFzdDtyZXR1cm4gdGhpcy5kcmFnZW5kKGEpfSxtb3VzZW91dDpmdW5jdGlvbihhKXtpZih0aGlzLnN0YXJ0ZWQmJk9wZW5MYXllcnMuVXRpbC5tb3VzZUxlZnQoYSwKdGhpcy5tYXAudmlld1BvcnREaXYpKWlmKCEwPT09dGhpcy5kb2N1bWVudERyYWcpdGhpcy5hZGREb2N1bWVudEV2ZW50cygpO2Vsc2V7dmFyIGI9dGhpcy5zdGFydCE9dGhpcy5sYXN0O3RoaXMuZHJhZ2dpbmc9dGhpcy5zdGFydGVkPSExO09wZW5MYXllcnMuRWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm1hcC52aWV3UG9ydERpdiwib2xEcmFnRG93biIpO3RoaXMub3V0KGEpO3RoaXMuY2FsbGJhY2soIm91dCIsW10pO2ImJnRoaXMuY2FsbGJhY2soImRvbmUiLFthLnh5XSk7ZG9jdW1lbnQub25zZWxlY3RzdGFydCYmKGRvY3VtZW50Lm9uc2VsZWN0c3RhcnQ9dGhpcy5vbGRPbnNlbGVjdHN0YXJ0KX1yZXR1cm4hMH0sY2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFydD09dGhpcy5sYXN0fSxhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPSExO09wZW5MYXllcnMuSGFuZGxlci5wcm90b3R5cGUuYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpJiYodGhpcy5kcmFnZ2luZz0KITEsYT0hMCk7cmV0dXJuIGF9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgYT0hMTtPcGVuTGF5ZXJzLkhhbmRsZXIucHJvdG90eXBlLmRlYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpJiYodGhpcy5kcmFnZ2luZz10aGlzLnN0YXJ0ZWQ9ITEsdGhpcy5sYXN0PXRoaXMuc3RhcnQ9bnVsbCxhPSEwLE9wZW5MYXllcnMuRWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm1hcC52aWV3UG9ydERpdiwib2xEcmFnRG93biIpKTtyZXR1cm4gYX0sYWRqdXN0WFk6ZnVuY3Rpb24oYSl7dmFyIGI9T3BlbkxheWVycy5VdGlsLnBhZ2VQb3NpdGlvbih0aGlzLm1hcC52aWV3UG9ydERpdik7YS54eS54LT1iWzBdO2EueHkueS09YlsxXX0sYWRkRG9jdW1lbnRFdmVudHM6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkVsZW1lbnQuYWRkQ2xhc3MoZG9jdW1lbnQuYm9keSwib2xEcmFnRG93biIpO3RoaXMuZG9jdW1lbnRFdmVudHM9ITA7T3BlbkxheWVycy5FdmVudC5vYnNlcnZlKGRvY3VtZW50LCJtb3VzZW1vdmUiLAp0aGlzLl9kb2NNb3ZlKTtPcGVuTGF5ZXJzLkV2ZW50Lm9ic2VydmUoZG9jdW1lbnQsIm1vdXNldXAiLHRoaXMuX2RvY1VwKX0scmVtb3ZlRG9jdW1lbnRFdmVudHM6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkVsZW1lbnQucmVtb3ZlQ2xhc3MoZG9jdW1lbnQuYm9keSwib2xEcmFnRG93biIpO3RoaXMuZG9jdW1lbnRFdmVudHM9ITE7T3BlbkxheWVycy5FdmVudC5zdG9wT2JzZXJ2aW5nKGRvY3VtZW50LCJtb3VzZW1vdmUiLHRoaXMuX2RvY01vdmUpO09wZW5MYXllcnMuRXZlbnQuc3RvcE9ic2VydmluZyhkb2N1bWVudCwibW91c2V1cCIsdGhpcy5fZG9jVXApfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkhhbmRsZXIuRHJhZyJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuT3ZlcnZpZXdNYXA9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse2VsZW1lbnQ6bnVsbCxvdm1hcDpudWxsLHNpemU6e3c6MTgwLGg6OTB9LGxheWVyczpudWxsLG1pblJlY3RTaXplOjE1LG1pblJlY3REaXNwbGF5Q2xhc3M6IlJlY3RSZXBsYWNlbWVudCIsbWluUmF0aW86OCxtYXhSYXRpbzozMixtYXBPcHRpb25zOm51bGwsYXV0b1BhbjohMSxoYW5kbGVyczpudWxsLHJlc29sdXRpb25GYWN0b3I6MSxtYXhpbWl6ZWQ6ITEsbWF4aW1pemVUaXRsZToiIixtaW5pbWl6ZVRpdGxlOiIiLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7dGhpcy5sYXllcnM9W107dGhpcy5oYW5kbGVycz17fTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5tYXBEaXYmJih0aGlzLmhhbmRsZXJzLmNsaWNrJiZ0aGlzLmhhbmRsZXJzLmNsaWNrLmRlc3Ryb3koKSwKdGhpcy5oYW5kbGVycy5kcmFnJiZ0aGlzLmhhbmRsZXJzLmRyYWcuZGVzdHJveSgpLHRoaXMub3ZtYXAmJnRoaXMub3ZtYXAudmlld1BvcnREaXYucmVtb3ZlQ2hpbGQodGhpcy5leHRlbnRSZWN0YW5nbGUpLHRoaXMuZXh0ZW50UmVjdGFuZ2xlPW51bGwsdGhpcy5yZWN0RXZlbnRzJiYodGhpcy5yZWN0RXZlbnRzLmRlc3Ryb3koKSx0aGlzLnJlY3RFdmVudHM9bnVsbCksdGhpcy5vdm1hcCYmKHRoaXMub3ZtYXAuZGVzdHJveSgpLHRoaXMub3ZtYXA9bnVsbCksdGhpcy5lbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMubWFwRGl2KSx0aGlzLm1hcERpdj1udWxsLHRoaXMuZGl2LnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudCksdGhpcy5lbGVtZW50PW51bGwsdGhpcy5tYXhpbWl6ZURpdiYmKHRoaXMuZGl2LnJlbW92ZUNoaWxkKHRoaXMubWF4aW1pemVEaXYpLHRoaXMubWF4aW1pemVEaXY9bnVsbCksdGhpcy5taW5pbWl6ZURpdiYmKHRoaXMuZGl2LnJlbW92ZUNoaWxkKHRoaXMubWluaW1pemVEaXYpLAp0aGlzLm1pbmltaXplRGl2PW51bGwpLHRoaXMubWFwLmV2ZW50cy51bih7YnV0dG9uY2xpY2s6dGhpcy5vbkJ1dHRvbkNsaWNrLG1vdmVlbmQ6dGhpcy51cGRhdGUsY2hhbmdlYmFzZWxheWVyOnRoaXMuYmFzZUxheWVyRHJhdyxzY29wZTp0aGlzfSksT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGRyYXc6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRyYXcuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKDA9PT10aGlzLmxheWVycy5sZW5ndGgpaWYodGhpcy5tYXAuYmFzZUxheWVyKXRoaXMubGF5ZXJzPVt0aGlzLm1hcC5iYXNlTGF5ZXIuY2xvbmUoKV07ZWxzZSByZXR1cm4gdGhpcy5tYXAuZXZlbnRzLnJlZ2lzdGVyKCJjaGFuZ2ViYXNlbGF5ZXIiLHRoaXMsdGhpcy5iYXNlTGF5ZXJEcmF3KSx0aGlzLmRpdjt0aGlzLmVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dGhpcy5lbGVtZW50LmNsYXNzTmFtZT0KdGhpcy5kaXNwbGF5Q2xhc3MrIkVsZW1lbnQiO3RoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5PSJub25lIjt0aGlzLm1hcERpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLm1hcERpdi5zdHlsZS53aWR0aD10aGlzLnNpemUudysicHgiO3RoaXMubWFwRGl2LnN0eWxlLmhlaWdodD10aGlzLnNpemUuaCsicHgiO3RoaXMubWFwRGl2LnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSI7dGhpcy5tYXBEaXYuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiI7dGhpcy5tYXBEaXYuaWQ9T3BlbkxheWVycy5VdGlsLmNyZWF0ZVVuaXF1ZUlEKCJvdmVydmlld01hcCIpO3RoaXMuZXh0ZW50UmVjdGFuZ2xlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RoaXMuZXh0ZW50UmVjdGFuZ2xlLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7dGhpcy5leHRlbnRSZWN0YW5nbGUuc3R5bGUuekluZGV4PTFFMzt0aGlzLmV4dGVudFJlY3RhbmdsZS5jbGFzc05hbWU9dGhpcy5kaXNwbGF5Q2xhc3MrCiJFeHRlbnRSZWN0YW5nbGUiO3RoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLm1hcERpdik7dGhpcy5kaXYuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtpZih0aGlzLm91dHNpZGVWaWV3cG9ydCl0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheT0iIjtlbHNle3RoaXMuZGl2LmNsYXNzTmFtZSs9IiAiK3RoaXMuZGlzcGxheUNsYXNzKyJDb250YWluZXIiO3ZhciBhPU9wZW5MYXllcnMuVXRpbC5nZXRJbWFnZUxvY2F0aW9uKCJsYXllci1zd2l0Y2hlci1tYXhpbWl6ZS5wbmciKTt0aGlzLm1heGltaXplRGl2PU9wZW5MYXllcnMuVXRpbC5jcmVhdGVBbHBoYUltYWdlRGl2KHRoaXMuZGlzcGxheUNsYXNzKyJNYXhpbWl6ZUJ1dHRvbiIsbnVsbCxudWxsLGEsImFic29sdXRlIik7dGhpcy5tYXhpbWl6ZURpdi5zdHlsZS5kaXNwbGF5PSJub25lIjt0aGlzLm1heGltaXplRGl2LmNsYXNzTmFtZT10aGlzLmRpc3BsYXlDbGFzcysiTWF4aW1pemVCdXR0b24gb2xCdXR0b24iO3RoaXMubWF4aW1pemVUaXRsZSYmCih0aGlzLm1heGltaXplRGl2LnRpdGxlPXRoaXMubWF4aW1pemVUaXRsZSk7dGhpcy5kaXYuYXBwZW5kQ2hpbGQodGhpcy5tYXhpbWl6ZURpdik7YT1PcGVuTGF5ZXJzLlV0aWwuZ2V0SW1hZ2VMb2NhdGlvbigibGF5ZXItc3dpdGNoZXItbWluaW1pemUucG5nIik7dGhpcy5taW5pbWl6ZURpdj1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlQWxwaGFJbWFnZURpdigiT3BlbkxheWVyc19Db250cm9sX21pbmltaXplRGl2IixudWxsLG51bGwsYSwiYWJzb2x1dGUiKTt0aGlzLm1pbmltaXplRGl2LnN0eWxlLmRpc3BsYXk9Im5vbmUiO3RoaXMubWluaW1pemVEaXYuY2xhc3NOYW1lPXRoaXMuZGlzcGxheUNsYXNzKyJNaW5pbWl6ZUJ1dHRvbiBvbEJ1dHRvbiI7dGhpcy5taW5pbWl6ZVRpdGxlJiYodGhpcy5taW5pbWl6ZURpdi50aXRsZT10aGlzLm1pbmltaXplVGl0bGUpO3RoaXMuZGl2LmFwcGVuZENoaWxkKHRoaXMubWluaW1pemVEaXYpO3RoaXMubWluaW1pemVDb250cm9sKCl9dGhpcy5tYXAuZ2V0RXh0ZW50KCkmJgp0aGlzLnVwZGF0ZSgpO3RoaXMubWFwLmV2ZW50cy5vbih7YnV0dG9uY2xpY2s6dGhpcy5vbkJ1dHRvbkNsaWNrLG1vdmVlbmQ6dGhpcy51cGRhdGUsc2NvcGU6dGhpc30pO3RoaXMubWF4aW1pemVkJiZ0aGlzLm1heGltaXplQ29udHJvbCgpO3JldHVybiB0aGlzLmRpdn0sYmFzZUxheWVyRHJhdzpmdW5jdGlvbigpe3RoaXMuZHJhdygpO3RoaXMubWFwLmV2ZW50cy51bnJlZ2lzdGVyKCJjaGFuZ2ViYXNlbGF5ZXIiLHRoaXMsdGhpcy5iYXNlTGF5ZXJEcmF3KX0scmVjdERyYWc6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5oYW5kbGVycy5kcmFnLmxhc3QueC1hLngsYz10aGlzLmhhbmRsZXJzLmRyYWcubGFzdC55LWEueTtpZigwIT1ifHwwIT1jKXt2YXIgZD10aGlzLnJlY3RQeEJvdW5kcy50b3AsZT10aGlzLnJlY3RQeEJvdW5kcy5sZWZ0LGE9TWF0aC5hYnModGhpcy5yZWN0UHhCb3VuZHMuZ2V0SGVpZ2h0KCkpLGY9dGhpcy5yZWN0UHhCb3VuZHMuZ2V0V2lkdGgoKSxjPU1hdGgubWF4KDAsCmQtYyksYz1NYXRoLm1pbihjLHRoaXMub3ZtYXAuc2l6ZS5oLXRoaXMuaENvbXAtYSksYj1NYXRoLm1heCgwLGUtYiksYj1NYXRoLm1pbihiLHRoaXMub3ZtYXAuc2l6ZS53LXRoaXMud0NvbXAtZik7dGhpcy5zZXRSZWN0UHhCb3VuZHMobmV3IE9wZW5MYXllcnMuQm91bmRzKGIsYythLGIrZixjKSl9fSxtYXBEaXZDbGljazpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnJlY3RQeEJvdW5kcy5nZXRDZW50ZXJQaXhlbCgpLGM9YS54eS54LWIueCxkPWEueHkueS1iLnksZT10aGlzLnJlY3RQeEJvdW5kcy50b3AsZj10aGlzLnJlY3RQeEJvdW5kcy5sZWZ0LGE9TWF0aC5hYnModGhpcy5yZWN0UHhCb3VuZHMuZ2V0SGVpZ2h0KCkpLGI9dGhpcy5yZWN0UHhCb3VuZHMuZ2V0V2lkdGgoKSxkPU1hdGgubWF4KDAsZStkKSxkPU1hdGgubWluKGQsdGhpcy5vdm1hcC5zaXplLmgtYSksYz1NYXRoLm1heCgwLGYrYyksYz1NYXRoLm1pbihjLHRoaXMub3ZtYXAuc2l6ZS53LWIpO3RoaXMuc2V0UmVjdFB4Qm91bmRzKG5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhjLApkK2EsYytiLGQpKTt0aGlzLnVwZGF0ZU1hcFRvUmVjdCgpfSxvbkJ1dHRvbkNsaWNrOmZ1bmN0aW9uKGEpe2EuYnV0dG9uRWxlbWVudD09PXRoaXMubWluaW1pemVEaXY/dGhpcy5taW5pbWl6ZUNvbnRyb2woKTphLmJ1dHRvbkVsZW1lbnQ9PT10aGlzLm1heGltaXplRGl2JiZ0aGlzLm1heGltaXplQ29udHJvbCgpfSxtYXhpbWl6ZUNvbnRyb2w6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXk9IiI7dGhpcy5zaG93VG9nZ2xlKCExKTtudWxsIT1hJiZPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSl9LG1pbmltaXplQ29udHJvbDpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheT0ibm9uZSI7dGhpcy5zaG93VG9nZ2xlKCEwKTtudWxsIT1hJiZPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSl9LHNob3dUb2dnbGU6ZnVuY3Rpb24oYSl7dGhpcy5tYXhpbWl6ZURpdiYmKHRoaXMubWF4aW1pemVEaXYuc3R5bGUuZGlzcGxheT1hPyIiOiJub25lIik7dGhpcy5taW5pbWl6ZURpdiYmCih0aGlzLm1pbmltaXplRGl2LnN0eWxlLmRpc3BsYXk9YT8ibm9uZSI6IiIpfSx1cGRhdGU6ZnVuY3Rpb24oKXtudWxsPT10aGlzLm92bWFwJiZ0aGlzLmNyZWF0ZU1hcCgpOyh0aGlzLmF1dG9QYW58fCF0aGlzLmlzU3VpdGFibGVPdmVydmlldygpKSYmdGhpcy51cGRhdGVPdmVydmlldygpO3RoaXMudXBkYXRlUmVjdFRvTWFwKCl9LGlzU3VpdGFibGVPdmVydmlldzpmdW5jdGlvbigpe3ZhciBhPXRoaXMubWFwLmdldEV4dGVudCgpLGI9dGhpcy5tYXAuZ2V0TWF4RXh0ZW50KCksYT1uZXcgT3BlbkxheWVycy5Cb3VuZHMoTWF0aC5tYXgoYS5sZWZ0LGIubGVmdCksTWF0aC5tYXgoYS5ib3R0b20sYi5ib3R0b20pLE1hdGgubWluKGEucmlnaHQsYi5yaWdodCksTWF0aC5taW4oYS50b3AsYi50b3ApKTt0aGlzLm92bWFwLmdldFByb2plY3Rpb24oKSE9dGhpcy5tYXAuZ2V0UHJvamVjdGlvbigpJiYoYT1hLnRyYW5zZm9ybSh0aGlzLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCksdGhpcy5vdm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCkpKTsKYj10aGlzLm92bWFwLmdldFJlc29sdXRpb24oKS90aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCk7cmV0dXJuIGI+dGhpcy5taW5SYXRpbyYmYjw9dGhpcy5tYXhSYXRpbyYmdGhpcy5vdm1hcC5nZXRFeHRlbnQoKS5jb250YWluc0JvdW5kcyhhKX0sdXBkYXRlT3ZlcnZpZXc6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCksYj10aGlzLm92bWFwLmdldFJlc29sdXRpb24oKSxjPWIvYTtjPnRoaXMubWF4UmF0aW8/Yj10aGlzLm1pblJhdGlvKmE6Yzw9dGhpcy5taW5SYXRpbyYmKGI9dGhpcy5tYXhSYXRpbyphKTt0aGlzLm92bWFwLmdldFByb2plY3Rpb24oKSE9dGhpcy5tYXAuZ2V0UHJvamVjdGlvbigpPyhhPXRoaXMubWFwLmNlbnRlci5jbG9uZSgpLGEudHJhbnNmb3JtKHRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSx0aGlzLm92bWFwLmdldFByb2plY3Rpb25PYmplY3QoKSkpOmE9dGhpcy5tYXAuY2VudGVyO3RoaXMub3ZtYXAuc2V0Q2VudGVyKGEsCnRoaXMub3ZtYXAuZ2V0Wm9vbUZvclJlc29sdXRpb24oYip0aGlzLnJlc29sdXRpb25GYWN0b3IpKTt0aGlzLnVwZGF0ZVJlY3RUb01hcCgpfSxjcmVhdGVNYXA6ZnVuY3Rpb24oKXt2YXIgYT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHtjb250cm9sczpbXSxtYXhSZXNvbHV0aW9uOiJhdXRvIixmYWxsVGhyb3VnaDohMX0sdGhpcy5tYXBPcHRpb25zKTt0aGlzLm92bWFwPW5ldyBPcGVuTGF5ZXJzLk1hcCh0aGlzLm1hcERpdixhKTt0aGlzLm92bWFwLnZpZXdQb3J0RGl2LmFwcGVuZENoaWxkKHRoaXMuZXh0ZW50UmVjdGFuZ2xlKTtPcGVuTGF5ZXJzLkV2ZW50LnN0b3BPYnNlcnZpbmcod2luZG93LCJ1bmxvYWQiLHRoaXMub3ZtYXAudW5sb2FkRGVzdHJveSk7dGhpcy5vdm1hcC5hZGRMYXllcnModGhpcy5sYXllcnMpO3RoaXMub3ZtYXAuem9vbVRvTWF4RXh0ZW50KCk7dGhpcy53Q29tcD0odGhpcy53Q29tcD1wYXJzZUludChPcGVuTGF5ZXJzLkVsZW1lbnQuZ2V0U3R5bGUodGhpcy5leHRlbnRSZWN0YW5nbGUsCiJib3JkZXItbGVmdC13aWR0aCIpKStwYXJzZUludChPcGVuTGF5ZXJzLkVsZW1lbnQuZ2V0U3R5bGUodGhpcy5leHRlbnRSZWN0YW5nbGUsImJvcmRlci1yaWdodC13aWR0aCIpKSk/dGhpcy53Q29tcDoyO3RoaXMuaENvbXA9KHRoaXMuaENvbXA9cGFyc2VJbnQoT3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKHRoaXMuZXh0ZW50UmVjdGFuZ2xlLCJib3JkZXItdG9wLXdpZHRoIikpK3BhcnNlSW50KE9wZW5MYXllcnMuRWxlbWVudC5nZXRTdHlsZSh0aGlzLmV4dGVudFJlY3RhbmdsZSwiYm9yZGVyLWJvdHRvbS13aWR0aCIpKSk/dGhpcy5oQ29tcDoyO3RoaXMuaGFuZGxlcnMuZHJhZz1uZXcgT3BlbkxheWVycy5IYW5kbGVyLkRyYWcodGhpcyx7bW92ZTp0aGlzLnJlY3REcmFnLGRvbmU6dGhpcy51cGRhdGVNYXBUb1JlY3R9LHttYXA6dGhpcy5vdm1hcH0pO3RoaXMuaGFuZGxlcnMuY2xpY2s9bmV3IE9wZW5MYXllcnMuSGFuZGxlci5DbGljayh0aGlzLHtjbGljazp0aGlzLm1hcERpdkNsaWNrfSwKe3NpbmdsZTohMCwiZG91YmxlIjohMSxzdG9wU2luZ2xlOiEwLHN0b3BEb3VibGU6ITAscGl4ZWxUb2xlcmFuY2U6MSxtYXA6dGhpcy5vdm1hcH0pO3RoaXMuaGFuZGxlcnMuY2xpY2suYWN0aXZhdGUoKTt0aGlzLnJlY3RFdmVudHM9bmV3IE9wZW5MYXllcnMuRXZlbnRzKHRoaXMsdGhpcy5leHRlbnRSZWN0YW5nbGUsbnVsbCwhMCk7dGhpcy5yZWN0RXZlbnRzLnJlZ2lzdGVyKCJtb3VzZW92ZXIiLHRoaXMsZnVuY3Rpb24oKXshdGhpcy5oYW5kbGVycy5kcmFnLmFjdGl2ZSYmIXRoaXMubWFwLmRyYWdnaW5nJiZ0aGlzLmhhbmRsZXJzLmRyYWcuYWN0aXZhdGUoKX0pO3RoaXMucmVjdEV2ZW50cy5yZWdpc3RlcigibW91c2VvdXQiLHRoaXMsZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXJzLmRyYWcuZHJhZ2dpbmd8fHRoaXMuaGFuZGxlcnMuZHJhZy5kZWFjdGl2YXRlKCl9KTtpZih0aGlzLm92bWFwLmdldFByb2plY3Rpb24oKSE9dGhpcy5tYXAuZ2V0UHJvamVjdGlvbigpKXt2YXIgYT10aGlzLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCkuZ2V0VW5pdHMoKXx8CnRoaXMubWFwLnVuaXRzfHx0aGlzLm1hcC5iYXNlTGF5ZXIudW5pdHMsYj10aGlzLm92bWFwLmdldFByb2plY3Rpb25PYmplY3QoKS5nZXRVbml0cygpfHx0aGlzLm92bWFwLnVuaXRzfHx0aGlzLm92bWFwLmJhc2VMYXllci51bml0czt0aGlzLnJlc29sdXRpb25GYWN0b3I9YSYmYj9PcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVFthXS9PcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVFtiXToxfX0sdXBkYXRlUmVjdFRvTWFwOmZ1bmN0aW9uKCl7dmFyIGE7YT10aGlzLm92bWFwLmdldFByb2plY3Rpb24oKSE9dGhpcy5tYXAuZ2V0UHJvamVjdGlvbigpP3RoaXMubWFwLmdldEV4dGVudCgpLnRyYW5zZm9ybSh0aGlzLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCksdGhpcy5vdm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCkpOnRoaXMubWFwLmdldEV4dGVudCgpOyhhPXRoaXMuZ2V0UmVjdEJvdW5kc0Zyb21NYXBCb3VuZHMoYSkpJiZ0aGlzLnNldFJlY3RQeEJvdW5kcyhhKX0sdXBkYXRlTWFwVG9SZWN0OmZ1bmN0aW9uKCl7dmFyIGE9CnRoaXMuZ2V0TWFwQm91bmRzRnJvbVJlY3RCb3VuZHModGhpcy5yZWN0UHhCb3VuZHMpO3RoaXMub3ZtYXAuZ2V0UHJvamVjdGlvbigpIT10aGlzLm1hcC5nZXRQcm9qZWN0aW9uKCkmJihhPWEudHJhbnNmb3JtKHRoaXMub3ZtYXAuZ2V0UHJvamVjdGlvbk9iamVjdCgpLHRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSkpO3RoaXMubWFwLnBhblRvKGEuZ2V0Q2VudGVyTG9uTGF0KCkpfSxzZXRSZWN0UHhCb3VuZHM6ZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5tYXgoYS50b3AsMCksYz1NYXRoLm1heChhLmxlZnQsMCksZD1NYXRoLm1pbihhLnRvcCtNYXRoLmFicyhhLmdldEhlaWdodCgpKSx0aGlzLm92bWFwLnNpemUuaC10aGlzLmhDb21wKSxhPU1hdGgubWluKGEubGVmdCthLmdldFdpZHRoKCksdGhpcy5vdm1hcC5zaXplLnctdGhpcy53Q29tcCksZT1NYXRoLm1heChhLWMsMCksZj1NYXRoLm1heChkLWIsMCk7ZTx0aGlzLm1pblJlY3RTaXplfHxmPHRoaXMubWluUmVjdFNpemU/Cih0aGlzLmV4dGVudFJlY3RhbmdsZS5jbGFzc05hbWU9dGhpcy5kaXNwbGF5Q2xhc3MrdGhpcy5taW5SZWN0RGlzcGxheUNsYXNzLGU9YytlLzItdGhpcy5taW5SZWN0U2l6ZS8yLHRoaXMuZXh0ZW50UmVjdGFuZ2xlLnN0eWxlLnRvcD1NYXRoLnJvdW5kKGIrZi8yLXRoaXMubWluUmVjdFNpemUvMikrInB4Iix0aGlzLmV4dGVudFJlY3RhbmdsZS5zdHlsZS5sZWZ0PU1hdGgucm91bmQoZSkrInB4Iix0aGlzLmV4dGVudFJlY3RhbmdsZS5zdHlsZS5oZWlnaHQ9dGhpcy5taW5SZWN0U2l6ZSsicHgiLHRoaXMuZXh0ZW50UmVjdGFuZ2xlLnN0eWxlLndpZHRoPXRoaXMubWluUmVjdFNpemUrInB4Iik6KHRoaXMuZXh0ZW50UmVjdGFuZ2xlLmNsYXNzTmFtZT10aGlzLmRpc3BsYXlDbGFzcysiRXh0ZW50UmVjdGFuZ2xlIix0aGlzLmV4dGVudFJlY3RhbmdsZS5zdHlsZS50b3A9TWF0aC5yb3VuZChiKSsicHgiLHRoaXMuZXh0ZW50UmVjdGFuZ2xlLnN0eWxlLmxlZnQ9TWF0aC5yb3VuZChjKSsKInB4Iix0aGlzLmV4dGVudFJlY3RhbmdsZS5zdHlsZS5oZWlnaHQ9TWF0aC5yb3VuZChmKSsicHgiLHRoaXMuZXh0ZW50UmVjdGFuZ2xlLnN0eWxlLndpZHRoPU1hdGgucm91bmQoZSkrInB4Iik7dGhpcy5yZWN0UHhCb3VuZHM9bmV3IE9wZW5MYXllcnMuQm91bmRzKE1hdGgucm91bmQoYyksTWF0aC5yb3VuZChkKSxNYXRoLnJvdW5kKGEpLE1hdGgucm91bmQoYikpfSxnZXRSZWN0Qm91bmRzRnJvbU1hcEJvdW5kczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldE92ZXJ2aWV3UHhGcm9tTG9uTGF0KHtsb246YS5sZWZ0LGxhdDphLmJvdHRvbX0pLGE9dGhpcy5nZXRPdmVydmlld1B4RnJvbUxvbkxhdCh7bG9uOmEucmlnaHQsbGF0OmEudG9wfSksYz1udWxsO2ImJmEmJihjPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhiLngsYi55LGEueCxhLnkpKTtyZXR1cm4gY30sZ2V0TWFwQm91bmRzRnJvbVJlY3RCb3VuZHM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRMb25MYXRGcm9tT3ZlcnZpZXdQeCh7eDphLmxlZnQsCnk6YS5ib3R0b219KSxhPXRoaXMuZ2V0TG9uTGF0RnJvbU92ZXJ2aWV3UHgoe3g6YS5yaWdodCx5OmEudG9wfSk7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhiLmxvbixiLmxhdCxhLmxvbixhLmxhdCl9LGdldExvbkxhdEZyb21PdmVydmlld1B4OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3ZtYXAuc2l6ZSxjPXRoaXMub3ZtYXAuZ2V0UmVzb2x1dGlvbigpLGQ9dGhpcy5vdm1hcC5nZXRFeHRlbnQoKS5nZXRDZW50ZXJMb25MYXQoKTtyZXR1cm57bG9uOmQubG9uKyhhLngtYi53LzIpKmMsbGF0OmQubGF0LShhLnktYi5oLzIpKmN9fSxnZXRPdmVydmlld1B4RnJvbUxvbkxhdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm92bWFwLmdldFJlc29sdXRpb24oKSxjPXRoaXMub3ZtYXAuZ2V0RXh0ZW50KCk7aWYoYylyZXR1cm57eDpNYXRoLnJvdW5kKDEvYiooYS5sb24tYy5sZWZ0KSkseTpNYXRoLnJvdW5kKDEvYiooYy50b3AtYS5sYXQpKX19LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5PdmVydmlld01hcCJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5XTVNEZXNjcmliZUxheWVyPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuWE1MLlZlcnNpb25lZE9HQyx7ZGVmYXVsdFZlcnNpb246IjEuMS4xIixDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XTVNEZXNjcmliZUxheWVyIn0pO09wZW5MYXllcnMuRm9ybWF0LldNU0Rlc2NyaWJlTGF5ZXIudjFfMV8xPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuV01TRGVzY3JpYmVMYXllcix7aW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkZvcm1hdC5XTVNEZXNjcmliZUxheWVyLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKX0scmVhZDpmdW5jdGlvbihhKXsic3RyaW5nIj09dHlwZW9mIGEmJihhPU9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUucmVhZC5hcHBseSh0aGlzLFthXSkpO2Zvcih2YXIgYj1hLmRvY3VtZW50RWxlbWVudC5jaGlsZE5vZGVzLGM9e2xheWVyRGVzY3JpcHRpb25zOltdfSxkLGUsZj0wO2Y8Yi5sZW5ndGg7KytmKWlmKGQ9YltmXSxlPWQubm9kZU5hbWUsIkxheWVyRGVzY3JpcHRpb24iPT1lKXtlPWQuZ2V0QXR0cmlidXRlKCJuYW1lIik7dmFyIGc9IiIsaD0iIixpPSIiO2QuZ2V0QXR0cmlidXRlKCJvd3NUeXBlIik/KGc9ZC5nZXRBdHRyaWJ1dGUoIm93c1R5cGUiKSwKaD1kLmdldEF0dHJpYnV0ZSgib3dzVVJMIikpOiIiIT1kLmdldEF0dHJpYnV0ZSgid2ZzIik/KGc9IldGUyIsaD1kLmdldEF0dHJpYnV0ZSgid2ZzIikpOiIiIT1kLmdldEF0dHJpYnV0ZSgid2NzIikmJihnPSJXQ1MiLGg9ZC5nZXRBdHRyaWJ1dGUoIndjcyIpKTtkPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIlF1ZXJ5Iik7MDxkLmxlbmd0aCYmKChpPWRbMF0uZ2V0QXR0cmlidXRlKCJ0eXBlTmFtZSIpKXx8KGk9ZFswXS5nZXRBdHRyaWJ1dGUoInR5cGVuYW1lIikpKTtkPXtsYXllck5hbWU6ZSxvd3NUeXBlOmcsb3dzVVJMOmgsdHlwZU5hbWU6aX07Yy5sYXllckRlc2NyaXB0aW9ucy5wdXNoKGQpO2MubGVuZ3RoPWMubGF5ZXJEZXNjcmlwdGlvbnMubGVuZ3RoO2NbYy5sZW5ndGgtMV09ZH1lbHNlIGlmKCJTZXJ2aWNlRXhjZXB0aW9uIj09ZSlyZXR1cm57ZXJyb3I6KG5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5PR0NFeGNlcHRpb25SZXBvcnQpLnJlYWQoYSl9O3JldHVybiBjfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XTVNEZXNjcmliZUxheWVyLnYxXzFfMSJ9KTsKT3BlbkxheWVycy5Gb3JtYXQuV01TRGVzY3JpYmVMYXllci52MV8xXzA9T3BlbkxheWVycy5Gb3JtYXQuV01TRGVzY3JpYmVMYXllci52MV8xXzE7T3BlbkxheWVycy5Gb3JtYXQuV1BTQ2FwYWJpbGl0aWVzPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuWE1MLlZlcnNpb25lZE9HQyx7ZGVmYXVsdFZlcnNpb246IjEuMC4wIixDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XUFNDYXBhYmlsaXRpZXMifSk7T3BlbkxheWVycy5SZW5kZXJlcj1PcGVuTGF5ZXJzLkNsYXNzKHtjb250YWluZXI6bnVsbCxyb290Om51bGwsZXh0ZW50Om51bGwsbG9ja2VkOiExLHNpemU6bnVsbCxyZXNvbHV0aW9uOm51bGwsbWFwOm51bGwsZmVhdHVyZUR4OjAsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIpe3RoaXMuY29udGFpbmVyPU9wZW5MYXllcnMuVXRpbC5nZXRFbGVtZW50KGEpO09wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcyxiKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMubWFwPXRoaXMucmVzb2x1dGlvbj10aGlzLnNpemU9dGhpcy5leHRlbnQ9dGhpcy5jb250YWluZXI9bnVsbH0sc3VwcG9ydGVkOmZ1bmN0aW9uKCl7cmV0dXJuITF9LHNldEV4dGVudDpmdW5jdGlvbihhLGIpe3RoaXMuZXh0ZW50PWEuY2xvbmUoKTtpZih0aGlzLm1hcC5iYXNlTGF5ZXImJnRoaXMubWFwLmJhc2VMYXllci53cmFwRGF0ZUxpbmUpe3ZhciBjPWEuZ2V0V2lkdGgoKS90aGlzLm1hcC5nZXRFeHRlbnQoKS5nZXRXaWR0aCgpLAphPWEuc2NhbGUoMS9jKTt0aGlzLmV4dGVudD1hLndyYXBEYXRlTGluZSh0aGlzLm1hcC5nZXRNYXhFeHRlbnQoKSkuc2NhbGUoYyl9YiYmKHRoaXMucmVzb2x1dGlvbj1udWxsKTtyZXR1cm4hMH0sc2V0U2l6ZTpmdW5jdGlvbihhKXt0aGlzLnNpemU9YS5jbG9uZSgpO3RoaXMucmVzb2x1dGlvbj1udWxsfSxnZXRSZXNvbHV0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzb2x1dGlvbj10aGlzLnJlc29sdXRpb258fHRoaXMubWFwLmdldFJlc29sdXRpb24oKX0sZHJhd0ZlYXR1cmU6ZnVuY3Rpb24oYSxiKXtudWxsPT1iJiYoYj1hLnN0eWxlKTtpZihhLmdlb21ldHJ5KXt2YXIgYz1hLmdlb21ldHJ5LmdldEJvdW5kcygpO2lmKGMpe3ZhciBkO3RoaXMubWFwLmJhc2VMYXllciYmdGhpcy5tYXAuYmFzZUxheWVyLndyYXBEYXRlTGluZSYmKGQ9dGhpcy5tYXAuZ2V0TWF4RXh0ZW50KCkpO2MuaW50ZXJzZWN0c0JvdW5kcyh0aGlzLmV4dGVudCx7d29ybGRCb3VuZHM6ZH0pP3RoaXMuY2FsY3VsYXRlRmVhdHVyZUR4KGMsCmQpOmI9e2Rpc3BsYXk6Im5vbmUifTtjPXRoaXMuZHJhd0dlb21ldHJ5KGEuZ2VvbWV0cnksYixhLmlkKTtpZigibm9uZSIhPWIuZGlzcGxheSYmYi5sYWJlbCYmITEhPT1jKXtkPWEuZ2VvbWV0cnkuZ2V0Q2VudHJvaWQoKTtpZihiLmxhYmVsWE9mZnNldHx8Yi5sYWJlbFlPZmZzZXQpe3ZhciBlPWlzTmFOKGIubGFiZWxYT2Zmc2V0KT8wOmIubGFiZWxYT2Zmc2V0LGY9aXNOYU4oYi5sYWJlbFlPZmZzZXQpPzA6Yi5sYWJlbFlPZmZzZXQsZz10aGlzLmdldFJlc29sdXRpb24oKTtkLm1vdmUoZSpnLGYqZyl9dGhpcy5kcmF3VGV4dChhLmlkLGIsZCl9ZWxzZSB0aGlzLnJlbW92ZVRleHQoYS5pZCk7cmV0dXJuIGN9fX0sY2FsY3VsYXRlRmVhdHVyZUR4OmZ1bmN0aW9uKGEsYil7dGhpcy5mZWF0dXJlRHg9MDtpZihiKXt2YXIgYz1iLmdldFdpZHRoKCk7dGhpcy5mZWF0dXJlRHg9TWF0aC5yb3VuZCgoKGEubGVmdCthLnJpZ2h0KS8yLSh0aGlzLmV4dGVudC5sZWZ0K3RoaXMuZXh0ZW50LnJpZ2h0KS8KMikvYykqY319LGRyYXdHZW9tZXRyeTpmdW5jdGlvbigpe30sZHJhd1RleHQ6ZnVuY3Rpb24oKXt9LHJlbW92ZVRleHQ6ZnVuY3Rpb24oKXt9LGNsZWFyOmZ1bmN0aW9uKCl7fSxnZXRGZWF0dXJlSWRGcm9tRXZlbnQ6ZnVuY3Rpb24oKXt9LGVyYXNlRmVhdHVyZXM6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSl8fChhPVthXSk7Zm9yKHZhciBiPTAsYz1hLmxlbmd0aDtiPGM7KytiKXt2YXIgZD1hW2JdO3RoaXMuZXJhc2VHZW9tZXRyeShkLmdlb21ldHJ5LGQuaWQpO3RoaXMucmVtb3ZlVGV4dChkLmlkKX19LGVyYXNlR2VvbWV0cnk6ZnVuY3Rpb24oKXt9LG1vdmVSb290OmZ1bmN0aW9uKCl7fSxnZXRSZW5kZXJMYXllcklkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFpbmVyLmlkfSxhcHBseURlZmF1bHRTeW1ib2xpemVyOmZ1bmN0aW9uKGEpe3ZhciBiPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe30sT3BlbkxheWVycy5SZW5kZXJlci5kZWZhdWx0U3ltYm9saXplcik7CiExPT09YS5zdHJva2UmJihkZWxldGUgYi5zdHJva2VXaWR0aCxkZWxldGUgYi5zdHJva2VDb2xvcik7ITE9PT1hLmZpbGwmJmRlbGV0ZSBiLmZpbGxDb2xvcjtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGIsYSk7cmV0dXJuIGJ9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuUmVuZGVyZXIifSk7T3BlbkxheWVycy5SZW5kZXJlci5kZWZhdWx0U3ltYm9saXplcj17ZmlsbENvbG9yOiIjMDAwMDAwIixzdHJva2VDb2xvcjoiIzAwMDAwMCIsc3Ryb2tlV2lkdGg6MixmaWxsT3BhY2l0eToxLHN0cm9rZU9wYWNpdHk6MSxwb2ludFJhZGl1czowLGxhYmVsQWxpZ246ImNtIn07Ck9wZW5MYXllcnMuUmVuZGVyZXIuc3ltYm9sPXtzdGFyOlszNTAsNzUsMzc5LDE2MSw0NjksMTYxLDM5NywyMTUsNDIzLDMwMSwzNTAsMjUwLDI3NywzMDEsMzAzLDIxNSwyMzEsMTYxLDMyMSwxNjEsMzUwLDc1XSxjcm9zczpbNCwwLDYsMCw2LDQsMTAsNCwxMCw2LDYsNiw2LDEwLDQsMTAsNCw2LDAsNiwwLDQsNCw0LDQsMF0seDpbMCwwLDI1LDAsNTAsMzUsNzUsMCwxMDAsMCw2NSw1MCwxMDAsMTAwLDc1LDEwMCw1MCw2NSwyNSwxMDAsMCwxMDAsMzUsNTAsMCwwXSxzcXVhcmU6WzAsMCwwLDEsMSwxLDEsMCwwLDBdLHRyaWFuZ2xlOlswLDEwLDEwLDEwLDUsMCwwLDEwXX07T3BlbkxheWVycy5SZW5kZXJlci5DYW52YXM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlJlbmRlcmVyLHtoaXREZXRlY3Rpb246ITAsaGl0T3ZlcmZsb3c6MCxjYW52YXM6bnVsbCxmZWF0dXJlczpudWxsLHBlbmRpbmdSZWRyYXc6ITEsY2FjaGVkU3ltYm9sQm91bmRzOnt9LGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLlJlbmRlcmVyLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLnJvb3Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7dGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5yb290KTt0aGlzLmNhbnZhcz10aGlzLnJvb3QuZ2V0Q29udGV4dCgiMmQiKTt0aGlzLmZlYXR1cmVzPXt9O3RoaXMuaGl0RGV0ZWN0aW9uJiYodGhpcy5oaXRDYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksdGhpcy5oaXRDb250ZXh0PXRoaXMuaGl0Q2FudmFzLmdldENvbnRleHQoIjJkIikpfSwKc2V0RXh0ZW50OmZ1bmN0aW9uKCl7T3BlbkxheWVycy5SZW5kZXJlci5wcm90b3R5cGUuc2V0RXh0ZW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4hMX0sZXJhc2VHZW9tZXRyeTpmdW5jdGlvbihhLGIpe3RoaXMuZXJhc2VGZWF0dXJlcyh0aGlzLmZlYXR1cmVzW2JdWzBdKX0sc3VwcG9ydGVkOmZ1bmN0aW9uKCl7cmV0dXJuIE9wZW5MYXllcnMuQ0FOVkFTX1NVUFBPUlRFRH0sc2V0U2l6ZTpmdW5jdGlvbihhKXt0aGlzLnNpemU9YS5jbG9uZSgpO3ZhciBiPXRoaXMucm9vdDtiLnN0eWxlLndpZHRoPWEudysicHgiO2Iuc3R5bGUuaGVpZ2h0PWEuaCsicHgiO2Iud2lkdGg9YS53O2IuaGVpZ2h0PWEuaDt0aGlzLnJlc29sdXRpb249bnVsbDt0aGlzLmhpdERldGVjdGlvbiYmKGI9dGhpcy5oaXRDYW52YXMsYi5zdHlsZS53aWR0aD1hLncrInB4IixiLnN0eWxlLmhlaWdodD1hLmgrInB4IixiLndpZHRoPWEudyxiLmhlaWdodD1hLmgpfSxkcmF3RmVhdHVyZTpmdW5jdGlvbihhLApiKXt2YXIgYztpZihhLmdlb21ldHJ5KXtiPXRoaXMuYXBwbHlEZWZhdWx0U3ltYm9saXplcihifHxhLnN0eWxlKTtjPWEuZ2VvbWV0cnkuZ2V0Qm91bmRzKCk7dmFyIGQ7dGhpcy5tYXAuYmFzZUxheWVyJiZ0aGlzLm1hcC5iYXNlTGF5ZXIud3JhcERhdGVMaW5lJiYoZD10aGlzLm1hcC5nZXRNYXhFeHRlbnQoKSk7ZD1jJiZjLmludGVyc2VjdHNCb3VuZHModGhpcy5leHRlbnQse3dvcmxkQm91bmRzOmR9KTsoYz0ibm9uZSIhPT1iLmRpc3BsYXkmJiEhYyYmZCk/dGhpcy5mZWF0dXJlc1thLmlkXT1bYSxiXTpkZWxldGUgdGhpcy5mZWF0dXJlc1thLmlkXTt0aGlzLnBlbmRpbmdSZWRyYXc9ITB9dGhpcy5wZW5kaW5nUmVkcmF3JiYhdGhpcy5sb2NrZWQmJih0aGlzLnJlZHJhdygpLHRoaXMucGVuZGluZ1JlZHJhdz0hMSk7cmV0dXJuIGN9LGRyYXdHZW9tZXRyeTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5DTEFTU19OQU1FO2lmKCJPcGVuTGF5ZXJzLkdlb21ldHJ5LkNvbGxlY3Rpb24iPT0KZHx8Ik9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlQb2ludCI9PWR8fCJPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpTGluZVN0cmluZyI9PWR8fCJPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpUG9seWdvbiI9PWQpZm9yKGQ9MDtkPGEuY29tcG9uZW50cy5sZW5ndGg7ZCsrKXRoaXMuZHJhd0dlb21ldHJ5KGEuY29tcG9uZW50c1tkXSxiLGMpO2Vsc2Ugc3dpdGNoKGEuQ0xBU1NfTkFNRSl7Y2FzZSAiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCI6dGhpcy5kcmF3UG9pbnQoYSxiLGMpO2JyZWFrO2Nhc2UgIk9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZyI6dGhpcy5kcmF3TGluZVN0cmluZyhhLGIsYyk7YnJlYWs7Y2FzZSAiT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lYXJSaW5nIjp0aGlzLmRyYXdMaW5lYXJSaW5nKGEsYixjKTticmVhaztjYXNlICJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24iOnRoaXMuZHJhd1BvbHlnb24oYSxiLGMpfX0sZHJhd0V4dGVybmFsR3JhcGhpYzpmdW5jdGlvbihhLApiLGMpe3ZhciBkPW5ldyBJbWFnZSxlPWIudGl0bGV8fGIuZ3JhcGhpY1RpdGxlO2UmJihkLnRpdGxlPWUpO3ZhciBmPWIuZ3JhcGhpY1dpZHRofHxiLmdyYXBoaWNIZWlnaHQsZz1iLmdyYXBoaWNIZWlnaHR8fGIuZ3JhcGhpY1dpZHRoLGY9Zj9mOjIqYi5wb2ludFJhZGl1cyxnPWc/ZzoyKmIucG9pbnRSYWRpdXMsaD12b2lkIDAhPWIuZ3JhcGhpY1hPZmZzZXQ/Yi5ncmFwaGljWE9mZnNldDotKDAuNSpmKSxpPXZvaWQgMCE9Yi5ncmFwaGljWU9mZnNldD9iLmdyYXBoaWNZT2Zmc2V0Oi0oMC41KmcpLGo9Yi5ncmFwaGljT3BhY2l0eXx8Yi5maWxsT3BhY2l0eTtkLm9ubG9hZD1PcGVuTGF5ZXJzLkZ1bmN0aW9uLmJpbmQoZnVuY3Rpb24oKXtpZih0aGlzLmZlYXR1cmVzW2NdKXt2YXIgYj10aGlzLmdldExvY2FsWFkoYSksZT1iWzBdLGI9YlsxXTtpZighaXNOYU4oZSkmJiFpc05hTihiKSl7dmFyIGU9ZStofDAsYj1iK2l8MCxtPXRoaXMuY2FudmFzO20uZ2xvYmFsQWxwaGE9ajt2YXIgbj0KT3BlbkxheWVycy5SZW5kZXJlci5DYW52YXMuZHJhd0ltYWdlU2NhbGVGYWN0b3J8fChPcGVuTGF5ZXJzLlJlbmRlcmVyLkNhbnZhcy5kcmF3SW1hZ2VTY2FsZUZhY3Rvcj0vYW5kcm9pZCAyLjEvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKT8zMjAvd2luZG93LnNjcmVlbi53aWR0aDoxKTttLmRyYXdJbWFnZShkLGUqbixiKm4sZipuLGcqbik7dGhpcy5oaXREZXRlY3Rpb24mJih0aGlzLnNldEhpdENvbnRleHRTdHlsZSgiZmlsbCIsYyksdGhpcy5oaXRDb250ZXh0LmZpbGxSZWN0KGUsYixmLGcpKX19fSx0aGlzKTtkLnNyYz1iLmV4dGVybmFsR3JhcGhpY30sZHJhd05hbWVkU3ltYm9sOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZztmPU1hdGguUEkvMTgwO3ZhciBoPU9wZW5MYXllcnMuUmVuZGVyZXIuc3ltYm9sW2IuZ3JhcGhpY05hbWVdO2lmKCFoKXRocm93IEVycm9yKGIuZ3JhcGhpY05hbWUrIiBpcyBub3QgYSB2YWxpZCBzeW1ib2wgbmFtZSIpOwppZihoLmxlbmd0aCYmISgyPmgubGVuZ3RoKSYmKGE9dGhpcy5nZXRMb2NhbFhZKGEpLGU9YVswXSxnPWFbMV0sIWlzTmFOKGUpJiYhaXNOYU4oZykpKXt0aGlzLmNhbnZhcy5saW5lQ2FwPSJyb3VuZCI7dGhpcy5jYW52YXMubGluZUpvaW49InJvdW5kIjt0aGlzLmhpdERldGVjdGlvbiYmKHRoaXMuaGl0Q29udGV4dC5saW5lQ2FwPSJyb3VuZCIsdGhpcy5oaXRDb250ZXh0LmxpbmVKb2luPSJyb3VuZCIpO2lmKGIuZ3JhcGhpY05hbWUgaW4gdGhpcy5jYWNoZWRTeW1ib2xCb3VuZHMpZD10aGlzLmNhY2hlZFN5bWJvbEJvdW5kc1tiLmdyYXBoaWNOYW1lXTtlbHNle2Q9bmV3IE9wZW5MYXllcnMuQm91bmRzO2ZvcihhPTA7YTxoLmxlbmd0aDthKz0yKWQuZXh0ZW5kKG5ldyBPcGVuTGF5ZXJzLkxvbkxhdChoW2FdLGhbYSsxXSkpO3RoaXMuY2FjaGVkU3ltYm9sQm91bmRzW2IuZ3JhcGhpY05hbWVdPWR9dGhpcy5jYW52YXMuc2F2ZSgpO3RoaXMuaGl0RGV0ZWN0aW9uJiZ0aGlzLmhpdENvbnRleHQuc2F2ZSgpOwp0aGlzLmNhbnZhcy50cmFuc2xhdGUoZSxnKTt0aGlzLmhpdERldGVjdGlvbiYmdGhpcy5oaXRDb250ZXh0LnRyYW5zbGF0ZShlLGcpO2E9ZipiLnJvdGF0aW9uO2lzTmFOKGEpfHwodGhpcy5jYW52YXMucm90YXRlKGEpLHRoaXMuaGl0RGV0ZWN0aW9uJiZ0aGlzLmhpdENvbnRleHQucm90YXRlKGEpKTtmPTIqYi5wb2ludFJhZGl1cy9NYXRoLm1heChkLmdldFdpZHRoKCksZC5nZXRIZWlnaHQoKSk7dGhpcy5jYW52YXMuc2NhbGUoZixmKTt0aGlzLmhpdERldGVjdGlvbiYmdGhpcy5oaXRDb250ZXh0LnNjYWxlKGYsZik7YT1kLmdldENlbnRlckxvbkxhdCgpLmxvbjtkPWQuZ2V0Q2VudGVyTG9uTGF0KCkubGF0O3RoaXMuY2FudmFzLnRyYW5zbGF0ZSgtYSwtZCk7dGhpcy5oaXREZXRlY3Rpb24mJnRoaXMuaGl0Q29udGV4dC50cmFuc2xhdGUoLWEsLWQpO2c9Yi5zdHJva2VXaWR0aDtiLnN0cm9rZVdpZHRoPWcvZjtpZighMSE9PWIuZmlsbCl7dGhpcy5zZXRDYW52YXNTdHlsZSgiZmlsbCIsCmIpO3RoaXMuY2FudmFzLmJlZ2luUGF0aCgpO2ZvcihhPTA7YTxoLmxlbmd0aDthKz0yKWQ9aFthXSxlPWhbYSsxXSwwPT1hJiZ0aGlzLmNhbnZhcy5tb3ZlVG8oZCxlKSx0aGlzLmNhbnZhcy5saW5lVG8oZCxlKTt0aGlzLmNhbnZhcy5jbG9zZVBhdGgoKTt0aGlzLmNhbnZhcy5maWxsKCk7aWYodGhpcy5oaXREZXRlY3Rpb24pe3RoaXMuc2V0SGl0Q29udGV4dFN0eWxlKCJmaWxsIixjLGIpO3RoaXMuaGl0Q29udGV4dC5iZWdpblBhdGgoKTtmb3IoYT0wO2E8aC5sZW5ndGg7YSs9MilkPWhbYV0sZT1oW2ErMV0sMD09YSYmdGhpcy5jYW52YXMubW92ZVRvKGQsZSksdGhpcy5oaXRDb250ZXh0LmxpbmVUbyhkLGUpO3RoaXMuaGl0Q29udGV4dC5jbG9zZVBhdGgoKTt0aGlzLmhpdENvbnRleHQuZmlsbCgpfX1pZighMSE9PWIuc3Ryb2tlKXt0aGlzLnNldENhbnZhc1N0eWxlKCJzdHJva2UiLGIpO3RoaXMuY2FudmFzLmJlZ2luUGF0aCgpO2ZvcihhPTA7YTxoLmxlbmd0aDthKz0yKWQ9aFthXSwKZT1oW2ErMV0sMD09YSYmdGhpcy5jYW52YXMubW92ZVRvKGQsZSksdGhpcy5jYW52YXMubGluZVRvKGQsZSk7dGhpcy5jYW52YXMuY2xvc2VQYXRoKCk7dGhpcy5jYW52YXMuc3Ryb2tlKCk7aWYodGhpcy5oaXREZXRlY3Rpb24pe3RoaXMuc2V0SGl0Q29udGV4dFN0eWxlKCJzdHJva2UiLGMsYixmKTt0aGlzLmhpdENvbnRleHQuYmVnaW5QYXRoKCk7Zm9yKGE9MDthPGgubGVuZ3RoO2ErPTIpZD1oW2FdLGU9aFthKzFdLDA9PWEmJnRoaXMuaGl0Q29udGV4dC5tb3ZlVG8oZCxlKSx0aGlzLmhpdENvbnRleHQubGluZVRvKGQsZSk7dGhpcy5oaXRDb250ZXh0LmNsb3NlUGF0aCgpO3RoaXMuaGl0Q29udGV4dC5zdHJva2UoKX19Yi5zdHJva2VXaWR0aD1nO3RoaXMuY2FudmFzLnJlc3RvcmUoKTt0aGlzLmhpdERldGVjdGlvbiYmdGhpcy5oaXRDb250ZXh0LnJlc3RvcmUoKTt0aGlzLnNldENhbnZhc1N0eWxlKCJyZXNldCIpfX0sc2V0Q2FudmFzU3R5bGU6ZnVuY3Rpb24oYSxiKXsiZmlsbCI9PT0KYT8odGhpcy5jYW52YXMuZ2xvYmFsQWxwaGE9Yi5maWxsT3BhY2l0eSx0aGlzLmNhbnZhcy5maWxsU3R5bGU9Yi5maWxsQ29sb3IpOiJzdHJva2UiPT09YT8odGhpcy5jYW52YXMuZ2xvYmFsQWxwaGE9Yi5zdHJva2VPcGFjaXR5LHRoaXMuY2FudmFzLnN0cm9rZVN0eWxlPWIuc3Ryb2tlQ29sb3IsdGhpcy5jYW52YXMubGluZVdpZHRoPWIuc3Ryb2tlV2lkdGgpOih0aGlzLmNhbnZhcy5nbG9iYWxBbHBoYT0wLHRoaXMuY2FudmFzLmxpbmVXaWR0aD0xKX0sZmVhdHVyZUlkVG9IZXg6ZnVuY3Rpb24oYSl7YT1OdW1iZXIoYS5zcGxpdCgiXyIpLnBvcCgpKSsxOzE2Nzc3MjE2PD1hJiYodGhpcy5oaXRPdmVyZmxvdz1hLTE2Nzc3MjE1LGE9YSUxNjc3NzIxNisxKTt2YXIgYT0iMDAwMDAwIithLnRvU3RyaW5nKDE2KSxiPWEubGVuZ3RoO3JldHVybiBhPSIjIithLnN1YnN0cmluZyhiLTYsYil9LHNldEhpdENvbnRleHRTdHlsZTpmdW5jdGlvbihhLGIsYyxkKXtiPXRoaXMuZmVhdHVyZUlkVG9IZXgoYik7CiJmaWxsIj09YT8odGhpcy5oaXRDb250ZXh0Lmdsb2JhbEFscGhhPTEsdGhpcy5oaXRDb250ZXh0LmZpbGxTdHlsZT1iKToic3Ryb2tlIj09YT8odGhpcy5oaXRDb250ZXh0Lmdsb2JhbEFscGhhPTEsdGhpcy5oaXRDb250ZXh0LnN0cm9rZVN0eWxlPWIsInVuZGVmaW5lZCI9PT10eXBlb2YgZD90aGlzLmhpdENvbnRleHQubGluZVdpZHRoPWMuc3Ryb2tlV2lkdGgrMjppc05hTihkKXx8KHRoaXMuaGl0Q29udGV4dC5saW5lV2lkdGg9Yy5zdHJva2VXaWR0aCsyL2QpKToodGhpcy5oaXRDb250ZXh0Lmdsb2JhbEFscGhhPTAsdGhpcy5oaXRDb250ZXh0LmxpbmVXaWR0aD0xKX0sZHJhd1BvaW50OmZ1bmN0aW9uKGEsYixjKXtpZighMSE9PWIuZ3JhcGhpYylpZihiLmV4dGVybmFsR3JhcGhpYyl0aGlzLmRyYXdFeHRlcm5hbEdyYXBoaWMoYSxiLGMpO2Vsc2UgaWYoYi5ncmFwaGljTmFtZSYmImNpcmNsZSIhPWIuZ3JhcGhpY05hbWUpdGhpcy5kcmF3TmFtZWRTeW1ib2woYSxiLGMpO2Vsc2V7dmFyIGQ9CnRoaXMuZ2V0TG9jYWxYWShhKSxhPWRbMF0sZD1kWzFdO2lmKCFpc05hTihhKSYmIWlzTmFOKGQpKXt2YXIgZT0yKk1hdGguUEksZj1iLnBvaW50UmFkaXVzOyExIT09Yi5maWxsJiYodGhpcy5zZXRDYW52YXNTdHlsZSgiZmlsbCIsYiksdGhpcy5jYW52YXMuYmVnaW5QYXRoKCksdGhpcy5jYW52YXMuYXJjKGEsZCxmLDAsZSwhMCksdGhpcy5jYW52YXMuZmlsbCgpLHRoaXMuaGl0RGV0ZWN0aW9uJiYodGhpcy5zZXRIaXRDb250ZXh0U3R5bGUoImZpbGwiLGMsYiksdGhpcy5oaXRDb250ZXh0LmJlZ2luUGF0aCgpLHRoaXMuaGl0Q29udGV4dC5hcmMoYSxkLGYsMCxlLCEwKSx0aGlzLmhpdENvbnRleHQuZmlsbCgpKSk7ITEhPT1iLnN0cm9rZSYmKHRoaXMuc2V0Q2FudmFzU3R5bGUoInN0cm9rZSIsYiksdGhpcy5jYW52YXMuYmVnaW5QYXRoKCksdGhpcy5jYW52YXMuYXJjKGEsZCxmLDAsZSwhMCksdGhpcy5jYW52YXMuc3Ryb2tlKCksdGhpcy5oaXREZXRlY3Rpb24mJih0aGlzLnNldEhpdENvbnRleHRTdHlsZSgic3Ryb2tlIiwKYyxiKSx0aGlzLmhpdENvbnRleHQuYmVnaW5QYXRoKCksdGhpcy5oaXRDb250ZXh0LmFyYyhhLGQsZiwwLGUsITApLHRoaXMuaGl0Q29udGV4dC5zdHJva2UoKSksdGhpcy5zZXRDYW52YXNTdHlsZSgicmVzZXQiKSl9fX0sZHJhd0xpbmVTdHJpbmc6ZnVuY3Rpb24oYSxiLGMpe2I9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe2ZpbGw6ITF9LGIpO3RoaXMuZHJhd0xpbmVhclJpbmcoYSxiLGMpfSxkcmF3TGluZWFyUmluZzpmdW5jdGlvbihhLGIsYyl7ITEhPT1iLmZpbGwmJih0aGlzLnNldENhbnZhc1N0eWxlKCJmaWxsIixiKSx0aGlzLnJlbmRlclBhdGgodGhpcy5jYW52YXMsYSxiLGMsImZpbGwiKSx0aGlzLmhpdERldGVjdGlvbiYmKHRoaXMuc2V0SGl0Q29udGV4dFN0eWxlKCJmaWxsIixjLGIpLHRoaXMucmVuZGVyUGF0aCh0aGlzLmhpdENvbnRleHQsYSxiLGMsImZpbGwiKSkpOyExIT09Yi5zdHJva2UmJih0aGlzLnNldENhbnZhc1N0eWxlKCJzdHJva2UiLGIpLHRoaXMucmVuZGVyUGF0aCh0aGlzLmNhbnZhcywKYSxiLGMsInN0cm9rZSIpLHRoaXMuaGl0RGV0ZWN0aW9uJiYodGhpcy5zZXRIaXRDb250ZXh0U3R5bGUoInN0cm9rZSIsYyxiKSx0aGlzLnJlbmRlclBhdGgodGhpcy5oaXRDb250ZXh0LGEsYixjLCJzdHJva2UiKSkpO3RoaXMuc2V0Q2FudmFzU3R5bGUoInJlc2V0Iil9LHJlbmRlclBhdGg6ZnVuY3Rpb24oYSxiLGMsZCxlKXtiPWIuY29tcG9uZW50cztjPWIubGVuZ3RoO2EuYmVnaW5QYXRoKCk7dmFyIGQ9dGhpcy5nZXRMb2NhbFhZKGJbMF0pLGY9ZFsxXTtpZighaXNOYU4oZFswXSkmJiFpc05hTihmKSl7YS5tb3ZlVG8oZFswXSxkWzFdKTtmb3IoZD0xO2Q8YzsrK2QpZj10aGlzLmdldExvY2FsWFkoYltkXSksYS5saW5lVG8oZlswXSxmWzFdKTsiZmlsbCI9PT1lP2EuZmlsbCgpOmEuc3Ryb2tlKCl9fSxkcmF3UG9seWdvbjpmdW5jdGlvbihhLGIsYyl7dmFyIGE9YS5jb21wb25lbnRzLGQ9YS5sZW5ndGg7dGhpcy5kcmF3TGluZWFyUmluZyhhWzBdLGIsYyk7Zm9yKHZhciBlPTE7ZTwKZDsrK2UpdGhpcy5jYW52YXMuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPSJkZXN0aW5hdGlvbi1vdXQiLHRoaXMuaGl0RGV0ZWN0aW9uJiYodGhpcy5oaXRDb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj0iZGVzdGluYXRpb24tb3V0IiksdGhpcy5kcmF3TGluZWFyUmluZyhhW2VdLE9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtzdHJva2U6ITEsZmlsbE9wYWNpdHk6MX0sYiksYyksdGhpcy5jYW52YXMuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPSJzb3VyY2Utb3ZlciIsdGhpcy5oaXREZXRlY3Rpb24mJih0aGlzLmhpdENvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPSJzb3VyY2Utb3ZlciIpLHRoaXMuZHJhd0xpbmVhclJpbmcoYVtlXSxPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7ZmlsbDohMX0sYiksYyl9LGRyYXdUZXh0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRMb2NhbFhZKGEpO3RoaXMuc2V0Q2FudmFzU3R5bGUoInJlc2V0Iik7CnRoaXMuY2FudmFzLmZpbGxTdHlsZT1iLmZvbnRDb2xvcjt0aGlzLmNhbnZhcy5nbG9iYWxBbHBoYT1iLmZvbnRPcGFjaXR5fHwxO3ZhciBkPVtiLmZvbnRTdHlsZT9iLmZvbnRTdHlsZToibm9ybWFsIiwibm9ybWFsIixiLmZvbnRXZWlnaHQ/Yi5mb250V2VpZ2h0OiJub3JtYWwiLGIuZm9udFNpemU/Yi5mb250U2l6ZToiMWVtIixiLmZvbnRGYW1pbHk/Yi5mb250RmFtaWx5OiJzYW5zLXNlcmlmIl0uam9pbigiICIpLGU9Yi5sYWJlbC5zcGxpdCgiXG4iKSxmPWUubGVuZ3RoO2lmKHRoaXMuY2FudmFzLmZpbGxUZXh0KXt0aGlzLmNhbnZhcy5mb250PWQ7dGhpcy5jYW52YXMudGV4dEFsaWduPU9wZW5MYXllcnMuUmVuZGVyZXIuQ2FudmFzLkxBQkVMX0FMSUdOW2IubGFiZWxBbGlnblswXV18fCJjZW50ZXIiO3RoaXMuY2FudmFzLnRleHRCYXNlbGluZT1PcGVuTGF5ZXJzLlJlbmRlcmVyLkNhbnZhcy5MQUJFTF9BTElHTltiLmxhYmVsQWxpZ25bMV1dfHwibWlkZGxlIjt2YXIgZz1PcGVuTGF5ZXJzLlJlbmRlcmVyLkNhbnZhcy5MQUJFTF9GQUNUT1JbYi5sYWJlbEFsaWduWzFdXTsKbnVsbD09ZyYmKGc9LTAuNSk7ZD10aGlzLmNhbnZhcy5tZWFzdXJlVGV4dCgiTWciKS5oZWlnaHR8fHRoaXMuY2FudmFzLm1lYXN1cmVUZXh0KCJ4eCIpLndpZHRoO2NbMV0rPWQqZyooZi0xKTtmb3IoZz0wO2c8ZjtnKyspYi5sYWJlbE91dGxpbmVXaWR0aCYmKHRoaXMuY2FudmFzLnNhdmUoKSx0aGlzLmNhbnZhcy5nbG9iYWxBbHBoYT1iLmxhYmVsT3V0bGluZU9wYWNpdHl8fGIuZm9udE9wYWNpdHl8fDEsdGhpcy5jYW52YXMuc3Ryb2tlU3R5bGU9Yi5sYWJlbE91dGxpbmVDb2xvcix0aGlzLmNhbnZhcy5saW5lV2lkdGg9Yi5sYWJlbE91dGxpbmVXaWR0aCx0aGlzLmNhbnZhcy5zdHJva2VUZXh0KGVbZ10sY1swXSxjWzFdK2QqZysxKSx0aGlzLmNhbnZhcy5yZXN0b3JlKCkpLHRoaXMuY2FudmFzLmZpbGxUZXh0KGVbZ10sY1swXSxjWzFdK2QqZyl9ZWxzZSBpZih0aGlzLmNhbnZhcy5tb3pEcmF3VGV4dCl7dGhpcy5jYW52YXMubW96VGV4dFN0eWxlPWQ7dmFyIGg9T3BlbkxheWVycy5SZW5kZXJlci5DYW52YXMuTEFCRUxfRkFDVE9SW2IubGFiZWxBbGlnblswXV07Cm51bGw9PWgmJihoPS0wLjUpO2c9T3BlbkxheWVycy5SZW5kZXJlci5DYW52YXMuTEFCRUxfRkFDVE9SW2IubGFiZWxBbGlnblsxXV07bnVsbD09ZyYmKGc9LTAuNSk7ZD10aGlzLmNhbnZhcy5tb3pNZWFzdXJlVGV4dCgieHgiKTtjWzFdKz1kKigxK2cqZik7Zm9yKGc9MDtnPGY7ZysrKXt2YXIgaT1jWzBdK2gqdGhpcy5jYW52YXMubW96TWVhc3VyZVRleHQoZVtnXSksaj1jWzFdK2cqZDt0aGlzLmNhbnZhcy50cmFuc2xhdGUoaSxqKTt0aGlzLmNhbnZhcy5tb3pEcmF3VGV4dChlW2ddKTt0aGlzLmNhbnZhcy50cmFuc2xhdGUoLWksLWopfX10aGlzLnNldENhbnZhc1N0eWxlKCJyZXNldCIpfSxnZXRMb2NhbFhZOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0UmVzb2x1dGlvbigpLGM9dGhpcy5leHRlbnQ7cmV0dXJuWyhhLngtdGhpcy5mZWF0dXJlRHgpL2IrLWMubGVmdC9iLGMudG9wL2ItYS55L2JdfSxjbGVhcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMucm9vdC5oZWlnaHQsYj10aGlzLnJvb3Qud2lkdGg7CnRoaXMuY2FudmFzLmNsZWFyUmVjdCgwLDAsYixhKTt0aGlzLmZlYXR1cmVzPXt9O3RoaXMuaGl0RGV0ZWN0aW9uJiZ0aGlzLmhpdENvbnRleHQuY2xlYXJSZWN0KDAsMCxiLGEpfSxnZXRGZWF0dXJlSWRGcm9tRXZlbnQ6ZnVuY3Rpb24oYSl7dmFyIGI7aWYodGhpcy5oaXREZXRlY3Rpb24mJiJub25lIiE9PXRoaXMucm9vdC5zdHlsZS5kaXNwbGF5JiYhdGhpcy5tYXAuZHJhZ2dpbmcmJihhPWEueHksYT10aGlzLmhpdENvbnRleHQuZ2V0SW1hZ2VEYXRhKGEueHwwLGEueXwwLDEsMSkuZGF0YSwyNTU9PT1hWzNdJiYoYT1hWzJdKzI1NiooYVsxXSsyNTYqYVswXSkpKSl7YT0iT3BlbkxheWVyc19GZWF0dXJlX1ZlY3Rvcl8iKyhhLTErdGhpcy5oaXRPdmVyZmxvdyk7dHJ5e2I9dGhpcy5mZWF0dXJlc1thXVswXX1jYXRjaChjKXt9fXJldHVybiBifSxlcmFzZUZlYXR1cmVzOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEpfHwoYT1bYV0pO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWRlbGV0ZSB0aGlzLmZlYXR1cmVzW2FbYl0uaWRdOwp0aGlzLnJlZHJhdygpfSxyZWRyYXc6ZnVuY3Rpb24oKXtpZighdGhpcy5sb2NrZWQpe3ZhciBhPXRoaXMucm9vdC5oZWlnaHQsYj10aGlzLnJvb3Qud2lkdGg7dGhpcy5jYW52YXMuY2xlYXJSZWN0KDAsMCxiLGEpO3RoaXMuaGl0RGV0ZWN0aW9uJiZ0aGlzLmhpdENvbnRleHQuY2xlYXJSZWN0KDAsMCxiLGEpO3ZhciBhPVtdLGMsZCxlPXRoaXMubWFwLmJhc2VMYXllciYmdGhpcy5tYXAuYmFzZUxheWVyLndyYXBEYXRlTGluZSYmdGhpcy5tYXAuZ2V0TWF4RXh0ZW50KCksZjtmb3IoZiBpbiB0aGlzLmZlYXR1cmVzKXRoaXMuZmVhdHVyZXMuaGFzT3duUHJvcGVydHkoZikmJihiPXRoaXMuZmVhdHVyZXNbZl1bMF0sYz1iLmdlb21ldHJ5LHRoaXMuY2FsY3VsYXRlRmVhdHVyZUR4KGMuZ2V0Qm91bmRzKCksZSksZD10aGlzLmZlYXR1cmVzW2ZdWzFdLHRoaXMuZHJhd0dlb21ldHJ5KGMsZCxiLmlkKSxkLmxhYmVsJiZhLnB1c2goW2IsZF0pKTtiPTA7Zm9yKGM9YS5sZW5ndGg7YjxjOysrYilmPQphW2JdLHRoaXMuZHJhd1RleHQoZlswXS5nZW9tZXRyeS5nZXRDZW50cm9pZCgpLGZbMV0pfX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5SZW5kZXJlci5DYW52YXMifSk7T3BlbkxheWVycy5SZW5kZXJlci5DYW52YXMuTEFCRUxfQUxJR049e2w6ImxlZnQiLHI6InJpZ2h0Iix0OiJ0b3AiLGI6ImJvdHRvbSJ9O09wZW5MYXllcnMuUmVuZGVyZXIuQ2FudmFzLkxBQkVMX0ZBQ1RPUj17bDowLHI6LTEsdDowLGI6LTF9O09wZW5MYXllcnMuUmVuZGVyZXIuQ2FudmFzLmRyYXdJbWFnZVNjYWxlRmFjdG9yPW51bGw7T3BlbkxheWVycy5Gb3JtYXQuT1NNPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuWE1MLHtjaGVja1RhZ3M6ITEsaW50ZXJlc3RpbmdUYWdzRXhjbHVkZTpudWxsLGFyZWFUYWdzOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtmb3IodmFyIGI9e2ludGVyZXN0aW5nVGFnc0V4Y2x1ZGU6InNvdXJjZSBzb3VyY2VfcmVmIHNvdXJjZTpyZWYgaGlzdG9yeSBhdHRyaWJ1dGlvbiBjcmVhdGVkX2J5Ii5zcGxpdCgiICIpLGFyZWFUYWdzOiJhcmVhIGJ1aWxkaW5nIGxlaXN1cmUgdG91cmlzbSBydWlucyBoaXN0b3JpYyBsYW5kdXNlIG1pbGl0YXJ5IG5hdHVyYWwgc3BvcnQiLnNwbGl0KCIgIil9LGI9T3BlbkxheWVycy5VdGlsLmV4dGVuZChiLGEpLGM9e30sYT0wO2E8Yi5pbnRlcmVzdGluZ1RhZ3NFeGNsdWRlLmxlbmd0aDthKyspY1tiLmludGVyZXN0aW5nVGFnc0V4Y2x1ZGVbYV1dPSEwO2IuaW50ZXJlc3RpbmdUYWdzRXhjbHVkZT1jO2M9e307Zm9yKGE9MDthPGIuYXJlYVRhZ3MubGVuZ3RoO2ErKyljW2IuYXJlYVRhZ3NbYV1dPQohMDtiLmFyZWFUYWdzPWM7dGhpcy5leHRlcm5hbFByb2plY3Rpb249bmV3IE9wZW5MYXllcnMuUHJvamVjdGlvbigiRVBTRzo0MzI2Iik7T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2JdKX0scmVhZDpmdW5jdGlvbihhKXsic3RyaW5nIj09dHlwZW9mIGEmJihhPU9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUucmVhZC5hcHBseSh0aGlzLFthXSkpO2Zvcih2YXIgYj10aGlzLmdldE5vZGVzKGEpLGM9dGhpcy5nZXRXYXlzKGEpLGE9QXJyYXkoYy5sZW5ndGgpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7Zm9yKHZhciBlPUFycmF5KGNbZF0ubm9kZXMubGVuZ3RoKSxmPXRoaXMuaXNXYXlBcmVhKGNbZF0pPzE6MCxnPTA7ZzxjW2RdLm5vZGVzLmxlbmd0aDtnKyspe3ZhciBoPWJbY1tkXS5ub2Rlc1tnXV0saT1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChoLmxvbixoLmxhdCk7aS5vc21faWQ9cGFyc2VJbnQoY1tkXS5ub2Rlc1tnXSk7CmVbZ109aTtoLnVzZWQ9ITB9aD1udWxsO2g9Zj9uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVhclJpbmcoZSkpOm5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmcoZSk7dGhpcy5pbnRlcm5hbFByb2plY3Rpb24mJnRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uJiZoLnRyYW5zZm9ybSh0aGlzLmV4dGVybmFsUHJvamVjdGlvbix0aGlzLmludGVybmFsUHJvamVjdGlvbik7ZT1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihoLGNbZF0udGFncyk7ZS5vc21faWQ9cGFyc2VJbnQoY1tkXS5pZCk7ZS5maWQ9IndheS4iK2Uub3NtX2lkO2FbZF09ZX1mb3IodmFyIGogaW4gYil7aD1iW2pdO2lmKCFoLnVzZWR8fHRoaXMuY2hlY2tUYWdzKXtjPW51bGw7aWYodGhpcy5jaGVja1RhZ3Mpe2M9dGhpcy5nZXRUYWdzKGgubm9kZSwhMCk7aWYoaC51c2VkJiYhY1sxXSljb250aW51ZTtjPWNbMF19ZWxzZSBjPXRoaXMuZ2V0VGFncyhoLm5vZGUpOwplPW5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGgubG9uLGgubGF0KSxjKTt0aGlzLmludGVybmFsUHJvamVjdGlvbiYmdGhpcy5leHRlcm5hbFByb2plY3Rpb24mJmUuZ2VvbWV0cnkudHJhbnNmb3JtKHRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uLHRoaXMuaW50ZXJuYWxQcm9qZWN0aW9uKTtlLm9zbV9pZD1wYXJzZUludChqKTtlLmZpZD0ibm9kZS4iK2Uub3NtX2lkO2EucHVzaChlKX1oLm5vZGU9bnVsbH1yZXR1cm4gYX0sZ2V0Tm9kZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBhPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm5vZGUiKSxiPXt9LGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXSxlPWQuZ2V0QXR0cmlidXRlKCJpZCIpO2JbZV09e2xhdDpkLmdldEF0dHJpYnV0ZSgibGF0IiksbG9uOmQuZ2V0QXR0cmlidXRlKCJsb24iKSxub2RlOmR9fXJldHVybiBifSxnZXRXYXlzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYT0KYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgid2F5IiksYj1bXSxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPWFbY10sZT17aWQ6ZC5nZXRBdHRyaWJ1dGUoImlkIil9O2UudGFncz10aGlzLmdldFRhZ3MoZCk7ZD1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJuZCIpO2Uubm9kZXM9QXJyYXkoZC5sZW5ndGgpO2Zvcih2YXIgZj0wO2Y8ZC5sZW5ndGg7ZisrKWUubm9kZXNbZl09ZFtmXS5nZXRBdHRyaWJ1dGUoInJlZiIpO2IucHVzaChlKX1yZXR1cm4gYn0sZ2V0VGFnczpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0YWciKSxkPXt9LGU9ITEsZj0wO2Y8Yy5sZW5ndGg7ZisrKXt2YXIgZz1jW2ZdLmdldEF0dHJpYnV0ZSgiayIpO2RbZ109Y1tmXS5nZXRBdHRyaWJ1dGUoInYiKTtiJiYodGhpcy5pbnRlcmVzdGluZ1RhZ3NFeGNsdWRlW2ddfHwoZT0hMCkpfXJldHVybiBiP1tkLGVdOmR9LGlzV2F5QXJlYTpmdW5jdGlvbihhKXt2YXIgYj0hMSxjPSExOwphLm5vZGVzWzBdPT1hLm5vZGVzW2Eubm9kZXMubGVuZ3RoLTFdJiYoYj0hMCk7aWYodGhpcy5jaGVja1RhZ3MpZm9yKHZhciBkIGluIGEudGFncylpZih0aGlzLmFyZWFUYWdzW2RdKXtjPSEwO2JyZWFrfXJldHVybiBiJiYodGhpcy5jaGVja1RhZ3M/YzohMCl9LHdyaXRlOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEpfHwoYT1bYV0pO3RoaXMub3NtX2lkPTE7dGhpcy5jcmVhdGVkX25vZGVzPXt9O3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TKG51bGwsIm9zbSIpO2Iuc2V0QXR0cmlidXRlKCJ2ZXJzaW9uIiwiMC41Iik7Yi5zZXRBdHRyaWJ1dGUoImdlbmVyYXRvciIsIk9wZW5MYXllcnMgIitPcGVuTGF5ZXJzLlZFUlNJT05fTlVNQkVSKTtmb3IodmFyIGM9YS5sZW5ndGgtMTswPD1jO2MtLSlmb3IodmFyIGQ9dGhpcy5jcmVhdGVGZWF0dXJlTm9kZXMoYVtjXSksZT0wO2U8ZC5sZW5ndGg7ZSsrKWIuYXBwZW5kQ2hpbGQoZFtlXSk7cmV0dXJuIE9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUud3JpdGUuYXBwbHkodGhpcywKW2JdKX0sY3JlYXRlRmVhdHVyZU5vZGVzOmZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9YS5nZW9tZXRyeS5DTEFTU19OQU1FLGM9Yy5zdWJzdHJpbmcoYy5sYXN0SW5kZXhPZigiLiIpKzEpLGM9Yy50b0xvd2VyQ2FzZSgpOyhjPXRoaXMuY3JlYXRlWE1MW2NdKSYmKGI9Yy5hcHBseSh0aGlzLFthXSkpO3JldHVybiBifSxjcmVhdGVYTUw6e3BvaW50OmZ1bmN0aW9uKGEpe3ZhciBiPW51bGwsYz1hLmdlb21ldHJ5P2EuZ2VvbWV0cnk6YTt0aGlzLmludGVybmFsUHJvamVjdGlvbiYmdGhpcy5leHRlcm5hbFByb2plY3Rpb24mJihjPWMuY2xvbmUoKSxjLnRyYW5zZm9ybSh0aGlzLmludGVybmFsUHJvamVjdGlvbix0aGlzLmV4dGVybmFsUHJvamVjdGlvbikpO3ZhciBkPSExO2Eub3NtX2lkPyhiPWEub3NtX2lkLHRoaXMuY3JlYXRlZF9ub2Rlc1tiXSYmKGQ9ITApKTooYj0tdGhpcy5vc21faWQsdGhpcy5vc21faWQrKyk7dmFyIGU9ZD90aGlzLmNyZWF0ZWRfbm9kZXNbYl06dGhpcy5jcmVhdGVFbGVtZW50TlMobnVsbCwKIm5vZGUiKTt0aGlzLmNyZWF0ZWRfbm9kZXNbYl09ZTtlLnNldEF0dHJpYnV0ZSgiaWQiLGIpO2Uuc2V0QXR0cmlidXRlKCJsb24iLGMueCk7ZS5zZXRBdHRyaWJ1dGUoImxhdCIsYy55KTthLmF0dHJpYnV0ZXMmJnRoaXMuc2VyaWFsaXplVGFncyhhLGUpO3RoaXMuc2V0U3RhdGUoYSxlKTtyZXR1cm4gZD9bXTpbZV19LGxpbmVzdHJpbmc6ZnVuY3Rpb24oYSl7dmFyIGIsYz1bXSxkPWEuZ2VvbWV0cnk7YS5vc21faWQ/Yj1hLm9zbV9pZDooYj0tdGhpcy5vc21faWQsdGhpcy5vc21faWQrKyk7dmFyIGU9dGhpcy5jcmVhdGVFbGVtZW50TlMobnVsbCwid2F5Iik7ZS5zZXRBdHRyaWJ1dGUoImlkIixiKTtmb3IoYj0wO2I8ZC5jb21wb25lbnRzLmxlbmd0aDtiKyspe3ZhciBmPXRoaXMuY3JlYXRlWE1MLnBvaW50LmFwcGx5KHRoaXMsW2QuY29tcG9uZW50c1tiXV0pO2lmKGYubGVuZ3RoKXt2YXIgZj1mWzBdLGc9Zi5nZXRBdHRyaWJ1dGUoImlkIik7Yy5wdXNoKGYpfWVsc2UgZz1kLmNvbXBvbmVudHNbYl0ub3NtX2lkLApmPXRoaXMuY3JlYXRlZF9ub2Rlc1tnXTt0aGlzLnNldFN0YXRlKGEsZik7Zj10aGlzLmNyZWF0ZUVsZW1lbnROUyhudWxsLCJuZCIpO2Yuc2V0QXR0cmlidXRlKCJyZWYiLGcpO2UuYXBwZW5kQ2hpbGQoZil9dGhpcy5zZXJpYWxpemVUYWdzKGEsZSk7Yy5wdXNoKGUpO3JldHVybiBjfSxwb2x5Z29uOmZ1bmN0aW9uKGEpe3ZhciBiPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe2FyZWE6InllcyJ9LGEuYXR0cmlidXRlcyksYj1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihhLmdlb21ldHJ5LmNvbXBvbmVudHNbMF0sYik7Yi5vc21faWQ9YS5vc21faWQ7cmV0dXJuIHRoaXMuY3JlYXRlWE1MLmxpbmVzdHJpbmcuYXBwbHkodGhpcyxbYl0pfX0sc2VyaWFsaXplVGFnczpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyBpbiBhLmF0dHJpYnV0ZXMpe3ZhciBkPXRoaXMuY3JlYXRlRWxlbWVudE5TKG51bGwsInRhZyIpO2Quc2V0QXR0cmlidXRlKCJrIixjKTtkLnNldEF0dHJpYnV0ZSgidiIsCmEuYXR0cmlidXRlc1tjXSk7Yi5hcHBlbmRDaGlsZChkKX19LHNldFN0YXRlOmZ1bmN0aW9uKGEsYil7aWYoYS5zdGF0ZSl7dmFyIGM9bnVsbDtzd2l0Y2goYS5zdGF0ZSl7Y2FzZSBPcGVuTGF5ZXJzLlN0YXRlLlVQREFURTpjYXNlIE9wZW5MYXllcnMuU3RhdGUuREVMRVRFOmM9ImRlbGV0ZSJ9YyYmYi5zZXRBdHRyaWJ1dGUoImFjdGlvbiIsYyl9fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5PU00ifSk7T3BlbkxheWVycy5IYW5kbGVyLktleWJvYXJkPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5IYW5kbGVyLHtLRVlfRVZFTlRTOlsia2V5ZG93biIsImtleXVwIl0sZXZlbnRMaXN0ZW5lcjpudWxsLG9ic2VydmVFbGVtZW50Om51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyl7T3BlbkxheWVycy5IYW5kbGVyLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmV2ZW50TGlzdGVuZXI9T3BlbkxheWVycy5GdW5jdGlvbi5iaW5kQXNFdmVudExpc3RlbmVyKHRoaXMuaGFuZGxlS2V5RXZlbnQsdGhpcyl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmRlYWN0aXZhdGUoKTt0aGlzLmV2ZW50TGlzdGVuZXI9bnVsbDtPcGVuTGF5ZXJzLkhhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxhY3RpdmF0ZTpmdW5jdGlvbigpe2lmKE9wZW5MYXllcnMuSGFuZGxlci5wcm90b3R5cGUuYWN0aXZhdGUuYXBwbHkodGhpcywKYXJndW1lbnRzKSl7dGhpcy5vYnNlcnZlRWxlbWVudD10aGlzLm9ic2VydmVFbGVtZW50fHxkb2N1bWVudDtmb3IodmFyIGE9MCxiPXRoaXMuS0VZX0VWRU5UUy5sZW5ndGg7YTxiO2ErKylPcGVuTGF5ZXJzLkV2ZW50Lm9ic2VydmUodGhpcy5vYnNlcnZlRWxlbWVudCx0aGlzLktFWV9FVkVOVFNbYV0sdGhpcy5ldmVudExpc3RlbmVyKTtyZXR1cm4hMH1yZXR1cm4hMX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPSExO2lmKE9wZW5MYXllcnMuSGFuZGxlci5wcm90b3R5cGUuZGVhY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpe2Zvcih2YXIgYT0wLGI9dGhpcy5LRVlfRVZFTlRTLmxlbmd0aDthPGI7YSsrKU9wZW5MYXllcnMuRXZlbnQuc3RvcE9ic2VydmluZyh0aGlzLm9ic2VydmVFbGVtZW50LHRoaXMuS0VZX0VWRU5UU1thXSx0aGlzLmV2ZW50TGlzdGVuZXIpO2E9ITB9cmV0dXJuIGF9LGhhbmRsZUtleUV2ZW50OmZ1bmN0aW9uKGEpe3RoaXMuY2hlY2tNb2RpZmllcnMoYSkmJgp0aGlzLmNhbGxiYWNrKGEudHlwZSxbYV0pfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkhhbmRsZXIuS2V5Ym9hcmQifSk7T3BlbkxheWVycy5Db250cm9sLk1vZGlmeUZlYXR1cmU9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse2RvY3VtZW50RHJhZzohMSxnZW9tZXRyeVR5cGVzOm51bGwsY2xpY2tvdXQ6ITAsdG9nZ2xlOiEwLHN0YW5kYWxvbmU6ITEsbGF5ZXI6bnVsbCxmZWF0dXJlOm51bGwsdmVydGV4Om51bGwsdmVydGljZXM6bnVsbCx2aXJ0dWFsVmVydGljZXM6bnVsbCxoYW5kbGVyczpudWxsLGRlbGV0ZUNvZGVzOm51bGwsdmlydHVhbFN0eWxlOm51bGwsdmVydGV4UmVuZGVySW50ZW50Om51bGwsbW9kZTpudWxsLGNyZWF0ZVZlcnRpY2VzOiEwLG1vZGlmaWVkOiExLHJhZGl1c0hhbmRsZTpudWxsLGRyYWdIYW5kbGU6bnVsbCxvbk1vZGlmaWNhdGlvblN0YXJ0OmZ1bmN0aW9uKCl7fSxvbk1vZGlmaWNhdGlvbjpmdW5jdGlvbigpe30sb25Nb2RpZmljYXRpb25FbmQ6ZnVuY3Rpb24oKXt9LGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9O3RoaXMubGF5ZXI9YTt0aGlzLnZlcnRpY2VzPQpbXTt0aGlzLnZpcnR1YWxWZXJ0aWNlcz1bXTt0aGlzLnZpcnR1YWxTdHlsZT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LHRoaXMubGF5ZXIuc3R5bGV8fHRoaXMubGF5ZXIuc3R5bGVNYXAuY3JlYXRlU3ltYm9saXplcihudWxsLGIudmVydGV4UmVuZGVySW50ZW50KSk7dGhpcy52aXJ0dWFsU3R5bGUuZmlsbE9wYWNpdHk9MC4zO3RoaXMudmlydHVhbFN0eWxlLnN0cm9rZU9wYWNpdHk9MC4zO3RoaXMuZGVsZXRlQ29kZXM9WzQ2LDY4XTt0aGlzLm1vZGU9T3BlbkxheWVycy5Db250cm9sLk1vZGlmeUZlYXR1cmUuUkVTSEFQRTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYl0pO09wZW5MYXllcnMuVXRpbC5pc0FycmF5KHRoaXMuZGVsZXRlQ29kZXMpfHwodGhpcy5kZWxldGVDb2Rlcz1bdGhpcy5kZWxldGVDb2Rlc10pO3ZhciBjPXtkb2N1bWVudERyYWc6dGhpcy5kb2N1bWVudERyYWcsc3RvcERvd246ITF9O3RoaXMuaGFuZGxlcnM9CntrZXlib2FyZDpuZXcgT3BlbkxheWVycy5IYW5kbGVyLktleWJvYXJkKHRoaXMse2tleWRvd246dGhpcy5oYW5kbGVLZXlwcmVzc30pLGRyYWc6bmV3IE9wZW5MYXllcnMuSGFuZGxlci5EcmFnKHRoaXMse2Rvd246ZnVuY3Rpb24oKXt0aGlzLnZlcnRleD1udWxsO3ZhciBhPXRoaXMubGF5ZXIuZ2V0RmVhdHVyZUZyb21FdmVudCh0aGlzLmhhbmRsZXJzLmRyYWcuZXZ0KTthP3RoaXMuZHJhZ1N0YXJ0KGEpOnRoaXMuY2xpY2tvdXQmJih0aGlzLl91bnNlbGVjdD10aGlzLmZlYXR1cmUpfSxtb3ZlOmZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLl91bnNlbGVjdDt0aGlzLnZlcnRleCYmdGhpcy5kcmFnVmVydGV4KHRoaXMudmVydGV4LGEpfSx1cDpmdW5jdGlvbigpe3RoaXMuaGFuZGxlcnMuZHJhZy5zdG9wRG93bj0hMTt0aGlzLl91bnNlbGVjdCYmKHRoaXMudW5zZWxlY3RGZWF0dXJlKHRoaXMuX3Vuc2VsZWN0KSxkZWxldGUgdGhpcy5fdW5zZWxlY3QpfSxkb25lOmZ1bmN0aW9uKCl7dGhpcy52ZXJ0ZXgmJgp0aGlzLmRyYWdDb21wbGV0ZSh0aGlzLnZlcnRleCl9fSxjKX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm1hcCYmdGhpcy5tYXAuZXZlbnRzLnVuKHtyZW1vdmVsYXllcjp0aGlzLmhhbmRsZU1hcEV2ZW50cyxjaGFuZ2VsYXllcjp0aGlzLmhhbmRsZU1hcEV2ZW50cyxzY29wZTp0aGlzfSk7dGhpcy5sYXllcj1udWxsO09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLFtdKX0sYWN0aXZhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5hY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk/KHRoaXMubW92ZUxheWVyVG9Ub3AoKSx0aGlzLm1hcC5ldmVudHMub24oe3JlbW92ZWxheWVyOnRoaXMuaGFuZGxlTWFwRXZlbnRzLGNoYW5nZWxheWVyOnRoaXMuaGFuZGxlTWFwRXZlbnRzLHNjb3BlOnRoaXN9KSx0aGlzLmhhbmRsZXJzLmtleWJvYXJkLmFjdGl2YXRlKCkmJnRoaXMuaGFuZGxlcnMuZHJhZy5hY3RpdmF0ZSgpKToKITF9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgYT0hMTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpJiYodGhpcy5tb3ZlTGF5ZXJCYWNrKCksdGhpcy5tYXAuZXZlbnRzLnVuKHtyZW1vdmVsYXllcjp0aGlzLmhhbmRsZU1hcEV2ZW50cyxjaGFuZ2VsYXllcjp0aGlzLmhhbmRsZU1hcEV2ZW50cyxzY29wZTp0aGlzfSksdGhpcy5sYXllci5yZW1vdmVGZWF0dXJlcyh0aGlzLnZlcnRpY2VzLHtzaWxlbnQ6ITB9KSx0aGlzLmxheWVyLnJlbW92ZUZlYXR1cmVzKHRoaXMudmlydHVhbFZlcnRpY2VzLHtzaWxlbnQ6ITB9KSx0aGlzLnZlcnRpY2VzPVtdLHRoaXMuaGFuZGxlcnMuZHJhZy5kZWFjdGl2YXRlKCksdGhpcy5oYW5kbGVycy5rZXlib2FyZC5kZWFjdGl2YXRlKCksKGE9dGhpcy5mZWF0dXJlKSYmKGEuZ2VvbWV0cnkmJmEubGF5ZXIpJiZ0aGlzLnVuc2VsZWN0RmVhdHVyZShhKSxhPSEwKTtyZXR1cm4gYX0sYmVmb3JlU2VsZWN0RmVhdHVyZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5sYXllci5ldmVudHMudHJpZ2dlckV2ZW50KCJiZWZvcmVmZWF0dXJlbW9kaWZpZWQiLAp7ZmVhdHVyZTphfSl9LHNlbGVjdEZlYXR1cmU6ZnVuY3Rpb24oYSl7aWYoISh0aGlzLmZlYXR1cmU9PT1hfHx0aGlzLmdlb21ldHJ5VHlwZXMmJi0xPT1PcGVuTGF5ZXJzLlV0aWwuaW5kZXhPZih0aGlzLmdlb21ldHJ5VHlwZXMsYS5nZW9tZXRyeS5DTEFTU19OQU1FKSkpeyExIT09dGhpcy5iZWZvcmVTZWxlY3RGZWF0dXJlKGEpJiYodGhpcy5mZWF0dXJlJiZ0aGlzLnVuc2VsZWN0RmVhdHVyZSh0aGlzLmZlYXR1cmUpLHRoaXMuZmVhdHVyZT1hLHRoaXMubGF5ZXIuc2VsZWN0ZWRGZWF0dXJlcy5wdXNoKGEpLHRoaXMubGF5ZXIuZHJhd0ZlYXR1cmUoYSwic2VsZWN0IiksdGhpcy5tb2RpZmllZD0hMSx0aGlzLnJlc2V0VmVydGljZXMoKSx0aGlzLm9uTW9kaWZpY2F0aW9uU3RhcnQodGhpcy5mZWF0dXJlKSk7dmFyIGI9YS5tb2RpZmllZDtpZihhLmdlb21ldHJ5JiYoIWJ8fCFiLmdlb21ldHJ5KSl0aGlzLl9vcmlnaW5hbEdlb21ldHJ5PWEuZ2VvbWV0cnkuY2xvbmUoKX19LHVuc2VsZWN0RmVhdHVyZTpmdW5jdGlvbihhKXt0aGlzLmxheWVyLnJlbW92ZUZlYXR1cmVzKHRoaXMudmVydGljZXMsCntzaWxlbnQ6ITB9KTt0aGlzLnZlcnRpY2VzPVtdO3RoaXMubGF5ZXIuZGVzdHJveUZlYXR1cmVzKHRoaXMudmlydHVhbFZlcnRpY2VzLHtzaWxlbnQ6ITB9KTt0aGlzLnZpcnR1YWxWZXJ0aWNlcz1bXTt0aGlzLmRyYWdIYW5kbGUmJih0aGlzLmxheWVyLmRlc3Ryb3lGZWF0dXJlcyhbdGhpcy5kcmFnSGFuZGxlXSx7c2lsZW50OiEwfSksZGVsZXRlIHRoaXMuZHJhZ0hhbmRsZSk7dGhpcy5yYWRpdXNIYW5kbGUmJih0aGlzLmxheWVyLmRlc3Ryb3lGZWF0dXJlcyhbdGhpcy5yYWRpdXNIYW5kbGVdLHtzaWxlbnQ6ITB9KSxkZWxldGUgdGhpcy5yYWRpdXNIYW5kbGUpO3RoaXMubGF5ZXIuZHJhd0ZlYXR1cmUodGhpcy5mZWF0dXJlLCJkZWZhdWx0Iik7dGhpcy5mZWF0dXJlPW51bGw7T3BlbkxheWVycy5VdGlsLnJlbW92ZUl0ZW0odGhpcy5sYXllci5zZWxlY3RlZEZlYXR1cmVzLGEpO3RoaXMub25Nb2RpZmljYXRpb25FbmQoYSk7dGhpcy5sYXllci5ldmVudHMudHJpZ2dlckV2ZW50KCJhZnRlcmZlYXR1cmVtb2RpZmllZCIsCntmZWF0dXJlOmEsbW9kaWZpZWQ6dGhpcy5tb2RpZmllZH0pO3RoaXMubW9kaWZpZWQ9ITF9LGRyYWdTdGFydDpmdW5jdGlvbihhKXt2YXIgYj0iT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCI9PWEuZ2VvbWV0cnkuQ0xBU1NfTkFNRTtpZighdGhpcy5zdGFuZGFsb25lJiYoIWEuX3NrZXRjaCYmYnx8IWEuX3NrZXRjaCkpdGhpcy50b2dnbGUmJnRoaXMuZmVhdHVyZT09PWEmJih0aGlzLl91bnNlbGVjdD1hKSx0aGlzLnNlbGVjdEZlYXR1cmUoYSk7aWYoYS5fc2tldGNofHxiKXRoaXMudmVydGV4PWEsdGhpcy5oYW5kbGVycy5kcmFnLnN0b3BEb3duPSEwfSxkcmFnVmVydGV4OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5tYXAuZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHgoYiksZD1hLmdlb21ldHJ5O2QubW92ZShjLmxvbi1kLngsYy5sYXQtZC55KTt0aGlzLm1vZGlmaWVkPSEwOyJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50Ij09dGhpcy5mZWF0dXJlLmdlb21ldHJ5LkNMQVNTX05BTUU/CnRoaXMubGF5ZXIuZXZlbnRzLnRyaWdnZXJFdmVudCgidmVydGV4bW9kaWZpZWQiLHt2ZXJ0ZXg6YS5nZW9tZXRyeSxmZWF0dXJlOnRoaXMuZmVhdHVyZSxwaXhlbDpifSk6KGEuX2luZGV4PyhhLmdlb21ldHJ5LnBhcmVudC5hZGRDb21wb25lbnQoYS5nZW9tZXRyeSxhLl9pbmRleCksZGVsZXRlIGEuX2luZGV4LE9wZW5MYXllcnMuVXRpbC5yZW1vdmVJdGVtKHRoaXMudmlydHVhbFZlcnRpY2VzLGEpLHRoaXMudmVydGljZXMucHVzaChhKSk6YT09dGhpcy5kcmFnSGFuZGxlPyh0aGlzLmxheWVyLnJlbW92ZUZlYXR1cmVzKHRoaXMudmVydGljZXMse3NpbGVudDohMH0pLHRoaXMudmVydGljZXM9W10sdGhpcy5yYWRpdXNIYW5kbGUmJih0aGlzLmxheWVyLmRlc3Ryb3lGZWF0dXJlcyhbdGhpcy5yYWRpdXNIYW5kbGVdLHtzaWxlbnQ6ITB9KSx0aGlzLnJhZGl1c0hhbmRsZT1udWxsKSk6YSE9PXRoaXMucmFkaXVzSGFuZGxlJiZ0aGlzLmxheWVyLmV2ZW50cy50cmlnZ2VyRXZlbnQoInZlcnRleG1vZGlmaWVkIiwKe3ZlcnRleDphLmdlb21ldHJ5LGZlYXR1cmU6dGhpcy5mZWF0dXJlLHBpeGVsOmJ9KSwwPHRoaXMudmlydHVhbFZlcnRpY2VzLmxlbmd0aCYmKHRoaXMubGF5ZXIuZGVzdHJveUZlYXR1cmVzKHRoaXMudmlydHVhbFZlcnRpY2VzLHtzaWxlbnQ6ITB9KSx0aGlzLnZpcnR1YWxWZXJ0aWNlcz1bXSksdGhpcy5sYXllci5kcmF3RmVhdHVyZSh0aGlzLmZlYXR1cmUsdGhpcy5zdGFuZGFsb25lP3ZvaWQgMDoic2VsZWN0IikpO3RoaXMubGF5ZXIuZHJhd0ZlYXR1cmUoYSl9LGRyYWdDb21wbGV0ZTpmdW5jdGlvbigpe3RoaXMucmVzZXRWZXJ0aWNlcygpO3RoaXMuc2V0RmVhdHVyZVN0YXRlKCk7dGhpcy5vbk1vZGlmaWNhdGlvbih0aGlzLmZlYXR1cmUpO3RoaXMubGF5ZXIuZXZlbnRzLnRyaWdnZXJFdmVudCgiZmVhdHVyZW1vZGlmaWVkIix7ZmVhdHVyZTp0aGlzLmZlYXR1cmV9KX0sc2V0RmVhdHVyZVN0YXRlOmZ1bmN0aW9uKCl7aWYodGhpcy5mZWF0dXJlLnN0YXRlIT1PcGVuTGF5ZXJzLlN0YXRlLklOU0VSVCYmCnRoaXMuZmVhdHVyZS5zdGF0ZSE9T3BlbkxheWVycy5TdGF0ZS5ERUxFVEUmJih0aGlzLmZlYXR1cmUuc3RhdGU9T3BlbkxheWVycy5TdGF0ZS5VUERBVEUsdGhpcy5tb2RpZmllZCYmdGhpcy5fb3JpZ2luYWxHZW9tZXRyeSkpe3ZhciBhPXRoaXMuZmVhdHVyZTthLm1vZGlmaWVkPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoYS5tb2RpZmllZCx7Z2VvbWV0cnk6dGhpcy5fb3JpZ2luYWxHZW9tZXRyeX0pO2RlbGV0ZSB0aGlzLl9vcmlnaW5hbEdlb21ldHJ5fX0scmVzZXRWZXJ0aWNlczpmdW5jdGlvbigpezA8dGhpcy52ZXJ0aWNlcy5sZW5ndGgmJih0aGlzLmxheWVyLnJlbW92ZUZlYXR1cmVzKHRoaXMudmVydGljZXMse3NpbGVudDohMH0pLHRoaXMudmVydGljZXM9W10pOzA8dGhpcy52aXJ0dWFsVmVydGljZXMubGVuZ3RoJiYodGhpcy5sYXllci5yZW1vdmVGZWF0dXJlcyh0aGlzLnZpcnR1YWxWZXJ0aWNlcyx7c2lsZW50OiEwfSksdGhpcy52aXJ0dWFsVmVydGljZXM9W10pO3RoaXMuZHJhZ0hhbmRsZSYmCih0aGlzLmxheWVyLmRlc3Ryb3lGZWF0dXJlcyhbdGhpcy5kcmFnSGFuZGxlXSx7c2lsZW50OiEwfSksdGhpcy5kcmFnSGFuZGxlPW51bGwpO3RoaXMucmFkaXVzSGFuZGxlJiYodGhpcy5sYXllci5kZXN0cm95RmVhdHVyZXMoW3RoaXMucmFkaXVzSGFuZGxlXSx7c2lsZW50OiEwfSksdGhpcy5yYWRpdXNIYW5kbGU9bnVsbCk7dGhpcy5mZWF0dXJlJiYiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCIhPXRoaXMuZmVhdHVyZS5nZW9tZXRyeS5DTEFTU19OQU1FJiYodGhpcy5tb2RlJk9wZW5MYXllcnMuQ29udHJvbC5Nb2RpZnlGZWF0dXJlLkRSQUcmJnRoaXMuY29sbGVjdERyYWdIYW5kbGUoKSx0aGlzLm1vZGUmKE9wZW5MYXllcnMuQ29udHJvbC5Nb2RpZnlGZWF0dXJlLlJPVEFURXxPcGVuTGF5ZXJzLkNvbnRyb2wuTW9kaWZ5RmVhdHVyZS5SRVNJWkUpJiZ0aGlzLmNvbGxlY3RSYWRpdXNIYW5kbGUoKSx0aGlzLm1vZGUmT3BlbkxheWVycy5Db250cm9sLk1vZGlmeUZlYXR1cmUuUkVTSEFQRSYmCih0aGlzLm1vZGUmT3BlbkxheWVycy5Db250cm9sLk1vZGlmeUZlYXR1cmUuUkVTSVpFfHx0aGlzLmNvbGxlY3RWZXJ0aWNlcygpKSl9LGhhbmRsZUtleXByZXNzOmZ1bmN0aW9uKGEpe3ZhciBiPWEua2V5Q29kZTtpZih0aGlzLmZlYXR1cmUmJi0xIT1PcGVuTGF5ZXJzLlV0aWwuaW5kZXhPZih0aGlzLmRlbGV0ZUNvZGVzLGIpJiYoYj10aGlzLmxheWVyLmdldEZlYXR1cmVGcm9tRXZlbnQodGhpcy5oYW5kbGVycy5kcmFnLmV2dCkpJiYtMSE9T3BlbkxheWVycy5VdGlsLmluZGV4T2YodGhpcy52ZXJ0aWNlcyxiKSYmIXRoaXMuaGFuZGxlcnMuZHJhZy5kcmFnZ2luZyYmYi5nZW9tZXRyeS5wYXJlbnQpYi5nZW9tZXRyeS5wYXJlbnQucmVtb3ZlQ29tcG9uZW50KGIuZ2VvbWV0cnkpLHRoaXMubGF5ZXIuZXZlbnRzLnRyaWdnZXJFdmVudCgidmVydGV4cmVtb3ZlZCIse3ZlcnRleDpiLmdlb21ldHJ5LGZlYXR1cmU6dGhpcy5mZWF0dXJlLHBpeGVsOmEueHl9KSx0aGlzLmxheWVyLmRyYXdGZWF0dXJlKHRoaXMuZmVhdHVyZSwKdGhpcy5zdGFuZGFsb25lP3ZvaWQgMDoic2VsZWN0IiksdGhpcy5tb2RpZmllZD0hMCx0aGlzLnJlc2V0VmVydGljZXMoKSx0aGlzLnNldEZlYXR1cmVTdGF0ZSgpLHRoaXMub25Nb2RpZmljYXRpb24odGhpcy5mZWF0dXJlKSx0aGlzLmxheWVyLmV2ZW50cy50cmlnZ2VyRXZlbnQoImZlYXR1cmVtb2RpZmllZCIse2ZlYXR1cmU6dGhpcy5mZWF0dXJlfSl9LGNvbGxlY3RWZXJ0aWNlczpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYyl7dmFyIGQsZSxmO2lmKCJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50Ij09Yy5DTEFTU19OQU1FKWU9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoYyksZS5fc2tldGNoPSEwLGUucmVuZGVySW50ZW50PWIudmVydGV4UmVuZGVySW50ZW50LGIudmVydGljZXMucHVzaChlKTtlbHNle2Y9Yy5jb21wb25lbnRzLmxlbmd0aDsiT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lYXJSaW5nIj09Yy5DTEFTU19OQU1FJiYoZi09MSk7Zm9yKGQ9MDtkPGY7KytkKWU9CmMuY29tcG9uZW50c1tkXSwiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCI9PWUuQ0xBU1NfTkFNRT8oZT1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihlKSxlLl9za2V0Y2g9ITAsZS5yZW5kZXJJbnRlbnQ9Yi52ZXJ0ZXhSZW5kZXJJbnRlbnQsYi52ZXJ0aWNlcy5wdXNoKGUpKTphKGUpO2lmKGIuY3JlYXRlVmVydGljZXMmJiJPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpUG9pbnQiIT1jLkNMQVNTX05BTUUpe2Q9MDtmb3IoZj1jLmNvbXBvbmVudHMubGVuZ3RoO2Q8Zi0xOysrZCl7ZT1jLmNvbXBvbmVudHNbZF07dmFyIGc9Yy5jb21wb25lbnRzW2QrMV07Ik9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQiPT1lLkNMQVNTX05BTUUmJiJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50Ij09Zy5DTEFTU19OQU1FJiYoZT1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCgoZS54K2cueCkvMiwoZS55K2cueSkvMiksbnVsbCxiLnZpcnR1YWxTdHlsZSksCmUuZ2VvbWV0cnkucGFyZW50PWMsZS5faW5kZXg9ZCsxLGUuX3NrZXRjaD0hMCxiLnZpcnR1YWxWZXJ0aWNlcy5wdXNoKGUpKX19fX10aGlzLnZlcnRpY2VzPVtdO3RoaXMudmlydHVhbFZlcnRpY2VzPVtdO3ZhciBiPXRoaXM7YS5jYWxsKHRoaXMsdGhpcy5mZWF0dXJlLmdlb21ldHJ5KTt0aGlzLmxheWVyLmFkZEZlYXR1cmVzKHRoaXMudmlydHVhbFZlcnRpY2VzLHtzaWxlbnQ6ITB9KTt0aGlzLmxheWVyLmFkZEZlYXR1cmVzKHRoaXMudmVydGljZXMse3NpbGVudDohMH0pfSxjb2xsZWN0RHJhZ0hhbmRsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZmVhdHVyZS5nZW9tZXRyeSxiPWEuZ2V0Qm91bmRzKCkuZ2V0Q2VudGVyTG9uTGF0KCksYj1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChiLmxvbixiLmxhdCksYz1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihiKTtiLm1vdmU9ZnVuY3Rpb24oYixjKXtPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50LnByb3RvdHlwZS5tb3ZlLmNhbGwodGhpcywKYixjKTthLm1vdmUoYixjKX07Yy5fc2tldGNoPSEwO3RoaXMuZHJhZ0hhbmRsZT1jO3RoaXMuZHJhZ0hhbmRsZS5yZW5kZXJJbnRlbnQ9dGhpcy52ZXJ0ZXhSZW5kZXJJbnRlbnQ7dGhpcy5sYXllci5hZGRGZWF0dXJlcyhbdGhpcy5kcmFnSGFuZGxlXSx7c2lsZW50OiEwfSl9LGNvbGxlY3RSYWRpdXNIYW5kbGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmZlYXR1cmUuZ2VvbWV0cnksYj1hLmdldEJvdW5kcygpLGM9Yi5nZXRDZW50ZXJMb25MYXQoKSxkPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGMubG9uLGMubGF0KSxiPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGIucmlnaHQsYi5ib3R0b20pLGM9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoYiksZT10aGlzLm1vZGUmT3BlbkxheWVycy5Db250cm9sLk1vZGlmeUZlYXR1cmUuUkVTSVpFLGY9dGhpcy5tb2RlJk9wZW5MYXllcnMuQ29udHJvbC5Nb2RpZnlGZWF0dXJlLlJFU0hBUEUsZz10aGlzLm1vZGUmCk9wZW5MYXllcnMuQ29udHJvbC5Nb2RpZnlGZWF0dXJlLlJPVEFURTtiLm1vdmU9ZnVuY3Rpb24oYixjKXtPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50LnByb3RvdHlwZS5tb3ZlLmNhbGwodGhpcyxiLGMpO3ZhciBqPXRoaXMueC1kLngsaz10aGlzLnktZC55LGw9ai1iLG09ay1jO2lmKGcpe3ZhciBuPU1hdGguYXRhbjIobSxsKSxuPU1hdGguYXRhbjIoayxqKS1uLG49biooMTgwL01hdGguUEkpO2Eucm90YXRlKG4sZCl9aWYoZSl7dmFyIHA7Zj8oay89bSxwPWovbC9rKToobD1NYXRoLnNxcnQobCpsK20qbSksaz1NYXRoLnNxcnQoaipqK2sqaykvbCk7YS5yZXNpemUoayxkLHApfX07Yy5fc2tldGNoPSEwO3RoaXMucmFkaXVzSGFuZGxlPWM7dGhpcy5yYWRpdXNIYW5kbGUucmVuZGVySW50ZW50PXRoaXMudmVydGV4UmVuZGVySW50ZW50O3RoaXMubGF5ZXIuYWRkRmVhdHVyZXMoW3RoaXMucmFkaXVzSGFuZGxlXSx7c2lsZW50OiEwfSl9LHNldE1hcDpmdW5jdGlvbihhKXt0aGlzLmhhbmRsZXJzLmRyYWcuc2V0TWFwKGEpOwpPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLnNldE1hcC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGhhbmRsZU1hcEV2ZW50czpmdW5jdGlvbihhKXsoInJlbW92ZWxheWVyIj09YS50eXBlfHwib3JkZXIiPT1hLnByb3BlcnR5KSYmdGhpcy5tb3ZlTGF5ZXJUb1RvcCgpfSxtb3ZlTGF5ZXJUb1RvcDpmdW5jdGlvbigpe3ZhciBhPU1hdGgubWF4KHRoaXMubWFwLlpfSU5ERVhfQkFTRS5GZWF0dXJlLTEsdGhpcy5sYXllci5nZXRaSW5kZXgoKSkrMTt0aGlzLmxheWVyLnNldFpJbmRleChhKX0sbW92ZUxheWVyQmFjazpmdW5jdGlvbigpe3ZhciBhPXRoaXMubGF5ZXIuZ2V0WkluZGV4KCktMTthPj10aGlzLm1hcC5aX0lOREVYX0JBU0UuRmVhdHVyZT90aGlzLmxheWVyLnNldFpJbmRleChhKTp0aGlzLm1hcC5zZXRMYXllclpJbmRleCh0aGlzLmxheWVyLHRoaXMubWFwLmdldExheWVySW5kZXgodGhpcy5sYXllcikpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuTW9kaWZ5RmVhdHVyZSJ9KTsKT3BlbkxheWVycy5Db250cm9sLk1vZGlmeUZlYXR1cmUuUkVTSEFQRT0xO09wZW5MYXllcnMuQ29udHJvbC5Nb2RpZnlGZWF0dXJlLlJFU0laRT0yO09wZW5MYXllcnMuQ29udHJvbC5Nb2RpZnlGZWF0dXJlLlJPVEFURT00O09wZW5MYXllcnMuQ29udHJvbC5Nb2RpZnlGZWF0dXJlLkRSQUc9ODtPcGVuTGF5ZXJzLkxheWVyLlhZWj1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIuR3JpZCx7aXNCYXNlTGF5ZXI6ITAsc3BoZXJpY2FsTWVyY2F0b3I6ITEsem9vbU9mZnNldDowLHNlcnZlclJlc29sdXRpb25zOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyl7aWYoYyYmYy5zcGhlcmljYWxNZXJjYXRvcnx8dGhpcy5zcGhlcmljYWxNZXJjYXRvciljPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe3Byb2plY3Rpb246IkVQU0c6OTAwOTEzIixudW1ab29tTGV2ZWxzOjE5fSxjKTtPcGVuTGF5ZXJzLkxheWVyLkdyaWQucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYXx8dGhpcy5uYW1lLGJ8fHRoaXMudXJsLHt9LGNdKX0sY2xvbmU6ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9bmV3IE9wZW5MYXllcnMuTGF5ZXIuWFlaKHRoaXMubmFtZSx0aGlzLnVybCx0aGlzLmdldE9wdGlvbnMoKSkpO3JldHVybiBhPU9wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUuY2xvbmUuYXBwbHkodGhpcywKW2FdKX0sZ2V0VVJMOmZ1bmN0aW9uKGEpe3ZhciBhPXRoaXMuZ2V0WFlaKGEpLGI9dGhpcy51cmw7T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYikmJihiPXRoaXMuc2VsZWN0VXJsKCIiK2EueCthLnkrYS56LGIpKTtyZXR1cm4gT3BlbkxheWVycy5TdHJpbmcuZm9ybWF0KGIsYSl9LGdldFhZWjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFNlcnZlclJlc29sdXRpb24oKSxjPU1hdGgucm91bmQoKGEubGVmdC10aGlzLm1heEV4dGVudC5sZWZ0KS8oYip0aGlzLnRpbGVTaXplLncpKSxhPU1hdGgucm91bmQoKHRoaXMubWF4RXh0ZW50LnRvcC1hLnRvcCkvKGIqdGhpcy50aWxlU2l6ZS5oKSksYj10aGlzLmdldFNlcnZlclpvb20oKTtpZih0aGlzLndyYXBEYXRlTGluZSl2YXIgZD1NYXRoLnBvdygyLGIpLGM9KGMlZCtkKSVkO3JldHVybnt4OmMseTphLHo6Yn19LHNldE1hcDpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkxheWVyLkdyaWQucHJvdG90eXBlLnNldE1hcC5hcHBseSh0aGlzLAphcmd1bWVudHMpO3RoaXMudGlsZU9yaWdpbnx8KHRoaXMudGlsZU9yaWdpbj1uZXcgT3BlbkxheWVycy5Mb25MYXQodGhpcy5tYXhFeHRlbnQubGVmdCx0aGlzLm1heEV4dGVudC5ib3R0b20pKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5YWVoifSk7T3BlbkxheWVycy5MYXllci5CaW5nPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllci5YWVose2tleTpudWxsLHNlcnZlclJlc29sdXRpb25zOlsxNTY1NDMuMDMzOTA2MjUsNzgyNzEuNTE2OTUzMTI1LDM5MTM1Ljc1ODQ3NjU2MjUsMTk1NjcuODc5MjM4MjgxMjUsOTc4My45Mzk2MTkxNDA2MjUsNDg5MS45Njk4MDk1NzAzMTI1LDI0NDUuOTg0OTA0Nzg1MTU2MiwxMjIyLjk5MjQ1MjM5MjU3ODEsNjExLjQ5NjIyNjE5NjI4OTEsMzA1Ljc0ODExMzA5ODE0NDUzLDE1Mi44NzQwNTY1NDkwNzIyNiw3Ni40MzcwMjgyNzQ1MzYxMywzOC4yMTg1MTQxMzcyNjgwNjYsMTkuMTA5MjU3MDY4NjM0MDMzLDkuNTU0NjI4NTM0MzE3MDE3LDQuNzc3MzE0MjY3MTU4NTA4LDIuMzg4NjU3MTMzNTc5MjU0LDEuMTk0MzI4NTY2Nzg5NjI3LDAuNTk3MTY0MjgzMzk0ODEzNSwwLjI5ODU4MjE0MTY5NzQwNjc3LDAuMTQ5MjkxMDcwODQ4NzAzMzgsMC4wNzQ2NDU1MzU0MjQzNTE2OV0sYXR0cmlidXRpb25UZW1wbGF0ZTonPHNwYW4gY2xhc3M9Im9sQmluZ0F0dHJpYnV0aW9uICR7dHlwZX0iPjxkaXY+PGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHA6Ly93d3cuYmluZy5jb20vbWFwcy8iPjxpbWcgc3JjPSIke2xvZ299IiAvPjwvYT48L2Rpdj4ke2NvcHlyaWdodHN9PGEgc3R5bGU9IndoaXRlLXNwYWNlOiBub3dyYXAiIHRhcmdldD0iX2JsYW5rIiBocmVmPSJodHRwOi8vd3d3Lm1pY3Jvc29mdC5jb20vbWFwcy9wcm9kdWN0L3Rlcm1zLmh0bWwiPlRlcm1zIG9mIFVzZTwvYT48L3NwYW4+JywKbWV0YWRhdGE6bnVsbCxwcm90b2NvbFJlZ2V4Oi9eaHR0cDovaSx0eXBlOiJSb2FkIixjdWx0dXJlOiJlbi1VUyIsbWV0YWRhdGFQYXJhbXM6bnVsbCx0aWxlT3B0aW9uczpudWxsLHByb3RvY29sOn53aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCJodHRwIik/IiI6Imh0dHA6Iixpbml0aWFsaXplOmZ1bmN0aW9uKGEpe2E9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3NwaGVyaWNhbE1lcmNhdG9yOiEwfSxhKTtPcGVuTGF5ZXJzLkxheWVyLlhZWi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthLm5hbWV8fCJCaW5nICIrKGEudHlwZXx8dGhpcy50eXBlKSxudWxsLGFdKTt0aGlzLnRpbGVPcHRpb25zPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe2Nyb3NzT3JpZ2luS2V5d29yZDoiYW5vbnltb3VzIn0sdGhpcy5vcHRpb25zLnRpbGVPcHRpb25zKTt0aGlzLmxvYWRNZXRhZGF0YSgpfSxsb2FkTWV0YWRhdGE6ZnVuY3Rpb24oKXt0aGlzLl9jYWxsYmFja0lkPQoiX2NhbGxiYWNrXyIrdGhpcy5pZC5yZXBsYWNlKC9cLi9nLCJfIik7d2luZG93W3RoaXMuX2NhbGxiYWNrSWRdPU9wZW5MYXllcnMuRnVuY3Rpb24uYmluZChPcGVuTGF5ZXJzLkxheWVyLkJpbmcucHJvY2Vzc01ldGFkYXRhLHRoaXMpO3ZhciBhPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtrZXk6dGhpcy5rZXksanNvbnA6dGhpcy5fY2FsbGJhY2tJZCxpbmNsdWRlOiJJbWFnZXJ5UHJvdmlkZXJzIn0sdGhpcy5tZXRhZGF0YVBhcmFtcyksYT10aGlzLnByb3RvY29sKyIvL2Rldi52aXJ0dWFsZWFydGgubmV0L1JFU1QvdjEvSW1hZ2VyeS9NZXRhZGF0YS8iK3RoaXMudHlwZSsiPyIrT3BlbkxheWVycy5VdGlsLmdldFBhcmFtZXRlclN0cmluZyhhKSxiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2IudHlwZT0idGV4dC9qYXZhc2NyaXB0IjtiLnNyYz1hO2IuaWQ9dGhpcy5fY2FsbGJhY2tJZDtkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLmFwcGVuZENoaWxkKGIpfSwKaW5pdExheWVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5tZXRhZGF0YS5yZXNvdXJjZVNldHNbMF0ucmVzb3VyY2VzWzBdLGI9YS5pbWFnZVVybC5yZXBsYWNlKCJ7cXVhZGtleX0iLCIke3F1YWRrZXl9IiksYj1iLnJlcGxhY2UoIntjdWx0dXJlfSIsdGhpcy5jdWx0dXJlKSxiPWIucmVwbGFjZSh0aGlzLnByb3RvY29sUmVnZXgsdGhpcy5wcm90b2NvbCk7dGhpcy51cmw9W107Zm9yKHZhciBjPTA7YzxhLmltYWdlVXJsU3ViZG9tYWlucy5sZW5ndGg7KytjKXRoaXMudXJsLnB1c2goYi5yZXBsYWNlKCJ7c3ViZG9tYWlufSIsYS5pbWFnZVVybFN1YmRvbWFpbnNbY10pKTt0aGlzLmFkZE9wdGlvbnMoe21heFJlc29sdXRpb246TWF0aC5taW4odGhpcy5zZXJ2ZXJSZXNvbHV0aW9uc1thLnpvb21NaW5dLHRoaXMubWF4UmVzb2x1dGlvbnx8TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSxudW1ab29tTGV2ZWxzOk1hdGgubWluKGEuem9vbU1heCsxLWEuem9vbU1pbix0aGlzLm51bVpvb21MZXZlbHMpfSwKITApO3RoaXMuaXNCYXNlTGF5ZXJ8fHRoaXMucmVkcmF3KCk7dGhpcy51cGRhdGVBdHRyaWJ1dGlvbigpfSxnZXRVUkw6ZnVuY3Rpb24oYSl7aWYodGhpcy51cmwpe2Zvcih2YXIgYj10aGlzLmdldFhZWihhKSxhPWIueCxjPWIueSxiPWIueixkPVtdLGU9YjswPGU7LS1lKXt2YXIgZj0iMCIsZz0xPDxlLTE7MCE9KGEmZykmJmYrKzswIT0oYyZnKSYmKGYrKyxmKyspO2QucHVzaChmKX1kPWQuam9pbigiIik7YT10aGlzLnNlbGVjdFVybCgiIithK2MrYix0aGlzLnVybCk7cmV0dXJuIE9wZW5MYXllcnMuU3RyaW5nLmZvcm1hdChhLHtxdWFka2V5OmR9KX19LHVwZGF0ZUF0dHJpYnV0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5tZXRhZGF0YTtpZihhLnJlc291cmNlU2V0cyYmdGhpcy5tYXAmJnRoaXMubWFwLmNlbnRlcil7dmFyIGI9YS5yZXNvdXJjZVNldHNbMF0ucmVzb3VyY2VzWzBdLGM9dGhpcy5tYXAuZ2V0RXh0ZW50KCkudHJhbnNmb3JtKHRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSwKbmV3IE9wZW5MYXllcnMuUHJvamVjdGlvbigiRVBTRzo0MzI2IikpLGQ9Yi5pbWFnZXJ5UHJvdmlkZXJzfHxbXSxlPU9wZW5MYXllcnMuVXRpbC5pbmRleE9mKHRoaXMuc2VydmVyUmVzb2x1dGlvbnMsdGhpcy5nZXRTZXJ2ZXJSZXNvbHV0aW9uKCkpLGI9IiIsZixnLGgsaSxqLGssbDtnPTA7Zm9yKGg9ZC5sZW5ndGg7ZzxoOysrZyl7Zj1kW2ddO2k9MDtmb3Ioaj1mLmNvdmVyYWdlQXJlYXMubGVuZ3RoO2k8ajsrK2kpbD1mLmNvdmVyYWdlQXJlYXNbaV0saz1PcGVuTGF5ZXJzLkJvdW5kcy5mcm9tQXJyYXkobC5iYm94LCEwKSxjLmludGVyc2VjdHNCb3VuZHMoaykmJihlPD1sLnpvb21NYXgmJmU+PWwuem9vbU1pbikmJihiKz1mLmF0dHJpYnV0aW9uKyIgIil9YT1hLmJyYW5kTG9nb1VyaS5yZXBsYWNlKHRoaXMucHJvdG9jb2xSZWdleCx0aGlzLnByb3RvY29sKTt0aGlzLmF0dHJpYnV0aW9uPU9wZW5MYXllcnMuU3RyaW5nLmZvcm1hdCh0aGlzLmF0dHJpYnV0aW9uVGVtcGxhdGUsCnt0eXBlOnRoaXMudHlwZS50b0xvd2VyQ2FzZSgpLGxvZ286YSxjb3B5cmlnaHRzOmJ9KTt0aGlzLm1hcCYmdGhpcy5tYXAuZXZlbnRzLnRyaWdnZXJFdmVudCgiY2hhbmdlbGF5ZXIiLHtsYXllcjp0aGlzLHByb3BlcnR5OiJhdHRyaWJ1dGlvbiJ9KX19LHNldE1hcDpmdW5jdGlvbigpe09wZW5MYXllcnMuTGF5ZXIuWFlaLnByb3RvdHlwZS5zZXRNYXAuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMubWFwLmV2ZW50cy5yZWdpc3RlcigibW92ZWVuZCIsdGhpcyx0aGlzLnVwZGF0ZUF0dHJpYnV0aW9uKX0sY2xvbmU6ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9bmV3IE9wZW5MYXllcnMuTGF5ZXIuQmluZyh0aGlzLm9wdGlvbnMpKTtyZXR1cm4gYT1PcGVuTGF5ZXJzLkxheWVyLlhZWi5wcm90b3R5cGUuY2xvbmUuYXBwbHkodGhpcyxbYV0pfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5tYXAmJnRoaXMubWFwLmV2ZW50cy51bnJlZ2lzdGVyKCJtb3ZlZW5kIix0aGlzLHRoaXMudXBkYXRlQXR0cmlidXRpb24pOwpPcGVuTGF5ZXJzLkxheWVyLlhZWi5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuTGF5ZXIuQmluZyJ9KTtPcGVuTGF5ZXJzLkxheWVyLkJpbmcucHJvY2Vzc01ldGFkYXRhPWZ1bmN0aW9uKGEpe3RoaXMubWV0YWRhdGE9YTt0aGlzLmluaXRMYXllcigpO2E9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fY2FsbGJhY2tJZCk7YS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpO3dpbmRvd1t0aGlzLl9jYWxsYmFja0lkXT12b2lkIDA7ZGVsZXRlIHRoaXMuX2NhbGxiYWNrSWR9O09wZW5MYXllcnMuU3R5bGVNYXA9T3BlbkxheWVycy5DbGFzcyh7c3R5bGVzOm51bGwsZXh0ZW5kRGVmYXVsdDohMCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYil7dGhpcy5zdHlsZXM9eyJkZWZhdWx0IjpuZXcgT3BlbkxheWVycy5TdHlsZShPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yLnN0eWxlWyJkZWZhdWx0Il0pLHNlbGVjdDpuZXcgT3BlbkxheWVycy5TdHlsZShPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yLnN0eWxlLnNlbGVjdCksdGVtcG9yYXJ5Om5ldyBPcGVuTGF5ZXJzLlN0eWxlKE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3Iuc3R5bGUudGVtcG9yYXJ5KSwiZGVsZXRlIjpuZXcgT3BlbkxheWVycy5TdHlsZShPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yLnN0eWxlWyJkZWxldGUiXSl9O2lmKGEgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLlN0eWxlKXRoaXMuc3R5bGVzWyJkZWZhdWx0Il09YSx0aGlzLnN0eWxlcy5zZWxlY3Q9YSx0aGlzLnN0eWxlcy50ZW1wb3Jhcnk9YSx0aGlzLnN0eWxlc1siZGVsZXRlIl09CmE7ZWxzZSBpZigib2JqZWN0Ij09dHlwZW9mIGEpZm9yKHZhciBjIGluIGEpaWYoYVtjXWluc3RhbmNlb2YgT3BlbkxheWVycy5TdHlsZSl0aGlzLnN0eWxlc1tjXT1hW2NdO2Vsc2UgaWYoIm9iamVjdCI9PXR5cGVvZiBhW2NdKXRoaXMuc3R5bGVzW2NdPW5ldyBPcGVuTGF5ZXJzLlN0eWxlKGFbY10pO2Vsc2V7dGhpcy5zdHlsZXNbImRlZmF1bHQiXT1uZXcgT3BlbkxheWVycy5TdHlsZShhKTt0aGlzLnN0eWxlcy5zZWxlY3Q9bmV3IE9wZW5MYXllcnMuU3R5bGUoYSk7dGhpcy5zdHlsZXMudGVtcG9yYXJ5PW5ldyBPcGVuTGF5ZXJzLlN0eWxlKGEpO3RoaXMuc3R5bGVzWyJkZWxldGUiXT1uZXcgT3BlbkxheWVycy5TdHlsZShhKTticmVha31PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsYil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gdGhpcy5zdHlsZXMpdGhpcy5zdHlsZXNbYV0uZGVzdHJveSgpO3RoaXMuc3R5bGVzPW51bGx9LGNyZWF0ZVN5bWJvbGl6ZXI6ZnVuY3Rpb24oYSwKYil7YXx8KGE9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IpO3RoaXMuc3R5bGVzW2JdfHwoYj0iZGVmYXVsdCIpO2EucmVuZGVySW50ZW50PWI7dmFyIGM9e307dGhpcy5leHRlbmREZWZhdWx0JiYiZGVmYXVsdCIhPWImJihjPXRoaXMuc3R5bGVzWyJkZWZhdWx0Il0uY3JlYXRlU3ltYm9saXplcihhKSk7cmV0dXJuIE9wZW5MYXllcnMuVXRpbC5leHRlbmQoYyx0aGlzLnN0eWxlc1tiXS5jcmVhdGVTeW1ib2xpemVyKGEpKX0sYWRkVW5pcXVlVmFsdWVSdWxlczpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1bXSxmO2ZvcihmIGluIGMpZS5wdXNoKG5ldyBPcGVuTGF5ZXJzLlJ1bGUoe3N5bWJvbGl6ZXI6Y1tmXSxjb250ZXh0OmQsZmlsdGVyOm5ldyBPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uKHt0eXBlOk9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uRVFVQUxfVE8scHJvcGVydHk6Yix2YWx1ZTpmfSl9KSk7dGhpcy5zdHlsZXNbYV0uYWRkUnVsZXMoZSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuU3R5bGVNYXAifSk7T3BlbkxheWVycy5MYXllci5WZWN0b3I9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkxheWVyLHtpc0Jhc2VMYXllcjohMSxpc0ZpeGVkOiExLGZlYXR1cmVzOm51bGwsZmlsdGVyOm51bGwsc2VsZWN0ZWRGZWF0dXJlczpudWxsLHVucmVuZGVyZWRGZWF0dXJlczpudWxsLHJlcG9ydEVycm9yOiEwLHN0eWxlOm51bGwsc3R5bGVNYXA6bnVsbCxzdHJhdGVnaWVzOm51bGwscHJvdG9jb2w6bnVsbCxyZW5kZXJlcnM6WyJTVkciLCJWTUwiLCJDYW52YXMiXSxyZW5kZXJlcjpudWxsLHJlbmRlcmVyT3B0aW9uczpudWxsLGdlb21ldHJ5VHlwZTpudWxsLGRyYXduOiExLHJhdGlvOjEsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIpe09wZW5MYXllcnMuTGF5ZXIucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpOyghdGhpcy5yZW5kZXJlcnx8IXRoaXMucmVuZGVyZXIuc3VwcG9ydGVkKCkpJiZ0aGlzLmFzc2lnblJlbmRlcmVyKCk7aWYoIXRoaXMucmVuZGVyZXJ8fAohdGhpcy5yZW5kZXJlci5zdXBwb3J0ZWQoKSl0aGlzLnJlbmRlcmVyPW51bGwsdGhpcy5kaXNwbGF5RXJyb3IoKTt0aGlzLnN0eWxlTWFwfHwodGhpcy5zdHlsZU1hcD1uZXcgT3BlbkxheWVycy5TdHlsZU1hcCk7dGhpcy5mZWF0dXJlcz1bXTt0aGlzLnNlbGVjdGVkRmVhdHVyZXM9W107dGhpcy51bnJlbmRlcmVkRmVhdHVyZXM9e307aWYodGhpcy5zdHJhdGVnaWVzKWZvcih2YXIgYz0wLGQ9dGhpcy5zdHJhdGVnaWVzLmxlbmd0aDtjPGQ7YysrKXRoaXMuc3RyYXRlZ2llc1tjXS5zZXRMYXllcih0aGlzKX0sZGVzdHJveTpmdW5jdGlvbigpe2lmKHRoaXMuc3RyYXRlZ2llcyl7dmFyIGEsYixjO2I9MDtmb3IoYz10aGlzLnN0cmF0ZWdpZXMubGVuZ3RoO2I8YztiKyspYT10aGlzLnN0cmF0ZWdpZXNbYl0sYS5hdXRvRGVzdHJveSYmYS5kZXN0cm95KCk7dGhpcy5zdHJhdGVnaWVzPW51bGx9dGhpcy5wcm90b2NvbCYmKHRoaXMucHJvdG9jb2wuYXV0b0Rlc3Ryb3kmJnRoaXMucHJvdG9jb2wuZGVzdHJveSgpLAp0aGlzLnByb3RvY29sPW51bGwpO3RoaXMuZGVzdHJveUZlYXR1cmVzKCk7dGhpcy51bnJlbmRlcmVkRmVhdHVyZXM9dGhpcy5zZWxlY3RlZEZlYXR1cmVzPXRoaXMuZmVhdHVyZXM9bnVsbDt0aGlzLnJlbmRlcmVyJiZ0aGlzLnJlbmRlcmVyLmRlc3Ryb3koKTt0aGlzLmRyYXduPXRoaXMuZ2VvbWV0cnlUeXBlPXRoaXMucmVuZGVyZXI9bnVsbDtPcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sY2xvbmU6ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9bmV3IE9wZW5MYXllcnMuTGF5ZXIuVmVjdG9yKHRoaXMubmFtZSx0aGlzLmdldE9wdGlvbnMoKSkpO2Zvcih2YXIgYT1PcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5jbG9uZS5hcHBseSh0aGlzLFthXSksYj10aGlzLmZlYXR1cmVzLGM9Yi5sZW5ndGgsZD1BcnJheShjKSxlPTA7ZTxjOysrZSlkW2VdPWJbZV0uY2xvbmUoKTthLmZlYXR1cmVzPWQ7cmV0dXJuIGF9LHJlZnJlc2g6ZnVuY3Rpb24oYSl7dGhpcy5jYWxjdWxhdGVJblJhbmdlKCkmJgp0aGlzLnZpc2liaWxpdHkmJnRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgicmVmcmVzaCIsYSl9LGFzc2lnblJlbmRlcmVyOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYj10aGlzLnJlbmRlcmVycy5sZW5ndGg7YTxiO2ErKyl7dmFyIGM9dGhpcy5yZW5kZXJlcnNbYV07aWYoKGM9ImZ1bmN0aW9uIj09dHlwZW9mIGM/YzpPcGVuTGF5ZXJzLlJlbmRlcmVyW2NdKSYmYy5wcm90b3R5cGUuc3VwcG9ydGVkKCkpe3RoaXMucmVuZGVyZXI9bmV3IGModGhpcy5kaXYsdGhpcy5yZW5kZXJlck9wdGlvbnMpO2JyZWFrfX19LGRpc3BsYXlFcnJvcjpmdW5jdGlvbigpe3RoaXMucmVwb3J0RXJyb3ImJk9wZW5MYXllcnMuQ29uc29sZS51c2VyRXJyb3IoT3BlbkxheWVycy5pMThuKCJicm93c2VyTm90U3VwcG9ydGVkIix7cmVuZGVyZXJzOnRoaXMucmVuZGVyZXJzLmpvaW4oIlxuIil9KSl9LHNldE1hcDpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5zZXRNYXAuYXBwbHkodGhpcywKYXJndW1lbnRzKTtpZih0aGlzLnJlbmRlcmVyKXt0aGlzLnJlbmRlcmVyLm1hcD10aGlzLm1hcDt2YXIgYj10aGlzLm1hcC5nZXRTaXplKCk7Yi53Kj10aGlzLnJhdGlvO2IuaCo9dGhpcy5yYXRpbzt0aGlzLnJlbmRlcmVyLnNldFNpemUoYil9ZWxzZSB0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzKX0sYWZ0ZXJBZGQ6ZnVuY3Rpb24oKXtpZih0aGlzLnN0cmF0ZWdpZXMpe3ZhciBhLGIsYztiPTA7Zm9yKGM9dGhpcy5zdHJhdGVnaWVzLmxlbmd0aDtiPGM7YisrKWE9dGhpcy5zdHJhdGVnaWVzW2JdLGEuYXV0b0FjdGl2YXRlJiZhLmFjdGl2YXRlKCl9fSxyZW1vdmVNYXA6ZnVuY3Rpb24oKXt0aGlzLmRyYXduPSExO2lmKHRoaXMuc3RyYXRlZ2llcyl7dmFyIGEsYixjO2I9MDtmb3IoYz10aGlzLnN0cmF0ZWdpZXMubGVuZ3RoO2I8YztiKyspYT10aGlzLnN0cmF0ZWdpZXNbYl0sYS5hdXRvQWN0aXZhdGUmJmEuZGVhY3RpdmF0ZSgpfX0sb25NYXBSZXNpemU6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5vbk1hcFJlc2l6ZS5hcHBseSh0aGlzLAphcmd1bWVudHMpO3ZhciBhPXRoaXMubWFwLmdldFNpemUoKTthLncqPXRoaXMucmF0aW87YS5oKj10aGlzLnJhdGlvO3RoaXMucmVuZGVyZXIuc2V0U2l6ZShhKX0sbW92ZVRvOmZ1bmN0aW9uKGEsYixjKXtPcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5tb3ZlVG8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBkPSEwO2lmKCFjKXt0aGlzLnJlbmRlcmVyLnJvb3Quc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIjt2YXIgZD10aGlzLm1hcC5nZXRTaXplKCksZT1kLncsZD1kLmgsZT1lLzIqdGhpcy5yYXRpby1lLzIsZD1kLzIqdGhpcy5yYXRpby1kLzIsZT1lK3RoaXMubWFwLmxheWVyQ29udGFpbmVyT3JpZ2luUHgueCxlPS1NYXRoLnJvdW5kKGUpLGQ9ZCt0aGlzLm1hcC5sYXllckNvbnRhaW5lck9yaWdpblB4LnksZD0tTWF0aC5yb3VuZChkKTt0aGlzLmRpdi5zdHlsZS5sZWZ0PWUrInB4Ijt0aGlzLmRpdi5zdHlsZS50b3A9ZCsicHgiO2U9dGhpcy5tYXAuZ2V0RXh0ZW50KCkuc2NhbGUodGhpcy5yYXRpbyk7CmQ9dGhpcy5yZW5kZXJlci5zZXRFeHRlbnQoZSxiKTt0aGlzLnJlbmRlcmVyLnJvb3Quc3R5bGUudmlzaWJpbGl0eT0idmlzaWJsZSI7ITA9PT1PcGVuTGF5ZXJzLklTX0dFQ0tPJiYodGhpcy5kaXYuc2Nyb2xsTGVmdD10aGlzLmRpdi5zY3JvbGxMZWZ0KTtpZighYiYmZClmb3IodmFyIGYgaW4gdGhpcy51bnJlbmRlcmVkRmVhdHVyZXMpZT10aGlzLnVucmVuZGVyZWRGZWF0dXJlc1tmXSx0aGlzLmRyYXdGZWF0dXJlKGUpfWlmKCF0aGlzLmRyYXdufHxifHwhZCl7dGhpcy5kcmF3bj0hMDtmPTA7Zm9yKGQ9dGhpcy5mZWF0dXJlcy5sZW5ndGg7ZjxkO2YrKyl0aGlzLnJlbmRlcmVyLmxvY2tlZD1mIT09ZC0xLGU9dGhpcy5mZWF0dXJlc1tmXSx0aGlzLmRyYXdGZWF0dXJlKGUpfX0sZGlzcGxheTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5kaXNwbGF5LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgYj10aGlzLmRpdi5zdHlsZS5kaXNwbGF5O2IhPXRoaXMucmVuZGVyZXIucm9vdC5zdHlsZS5kaXNwbGF5JiYKKHRoaXMucmVuZGVyZXIucm9vdC5zdHlsZS5kaXNwbGF5PWIpfSxhZGRGZWF0dXJlczpmdW5jdGlvbihhLGIpe09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEpfHwoYT1bYV0pO3ZhciBjPSFifHwhYi5zaWxlbnQ7aWYoYyl7dmFyIGQ9e2ZlYXR1cmVzOmF9O2lmKCExPT09dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJiZWZvcmVmZWF0dXJlc2FkZGVkIixkKSlyZXR1cm47YT1kLmZlYXR1cmVzfWZvcih2YXIgZD1bXSxlPTAsZj1hLmxlbmd0aDtlPGY7ZSsrKXt0aGlzLnJlbmRlcmVyLmxvY2tlZD1lIT1hLmxlbmd0aC0xPyEwOiExO3ZhciBnPWFbZV07aWYodGhpcy5nZW9tZXRyeVR5cGUmJiEoZy5nZW9tZXRyeSBpbnN0YW5jZW9mIHRoaXMuZ2VvbWV0cnlUeXBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJhZGRGZWF0dXJlczogY29tcG9uZW50IHNob3VsZCBiZSBhbiAiK3RoaXMuZ2VvbWV0cnlUeXBlLnByb3RvdHlwZS5DTEFTU19OQU1FKTtnLmxheWVyPXRoaXM7IWcuc3R5bGUmJnRoaXMuc3R5bGUmJgooZy5zdHlsZT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LHRoaXMuc3R5bGUpKTtpZihjKXtpZighMT09PXRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiYmVmb3JlZmVhdHVyZWFkZGVkIix7ZmVhdHVyZTpnfSkpY29udGludWU7dGhpcy5wcmVGZWF0dXJlSW5zZXJ0KGcpfWQucHVzaChnKTt0aGlzLmZlYXR1cmVzLnB1c2goZyk7dGhpcy5kcmF3RmVhdHVyZShnKTtjJiYodGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJmZWF0dXJlYWRkZWQiLHtmZWF0dXJlOmd9KSx0aGlzLm9uRmVhdHVyZUluc2VydChnKSl9YyYmdGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJmZWF0dXJlc2FkZGVkIix7ZmVhdHVyZXM6ZH0pfSxyZW1vdmVGZWF0dXJlczpmdW5jdGlvbihhLGIpe2lmKGEmJjAhPT1hLmxlbmd0aCl7aWYoYT09PXRoaXMuZmVhdHVyZXMpcmV0dXJuIHRoaXMucmVtb3ZlQWxsRmVhdHVyZXMoYik7T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSl8fChhPVthXSk7YT09PXRoaXMuc2VsZWN0ZWRGZWF0dXJlcyYmCihhPWEuc2xpY2UoKSk7dmFyIGM9IWJ8fCFiLnNpbGVudDtjJiZ0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImJlZm9yZWZlYXR1cmVzcmVtb3ZlZCIse2ZlYXR1cmVzOmF9KTtmb3IodmFyIGQ9YS5sZW5ndGgtMTswPD1kO2QtLSl7dGhpcy5yZW5kZXJlci5sb2NrZWQ9MCE9ZCYmYVtkLTFdLmdlb21ldHJ5PyEwOiExO3ZhciBlPWFbZF07ZGVsZXRlIHRoaXMudW5yZW5kZXJlZEZlYXR1cmVzW2UuaWRdO2MmJnRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiYmVmb3JlZmVhdHVyZXJlbW92ZWQiLHtmZWF0dXJlOmV9KTt0aGlzLmZlYXR1cmVzPU9wZW5MYXllcnMuVXRpbC5yZW1vdmVJdGVtKHRoaXMuZmVhdHVyZXMsZSk7ZS5sYXllcj1udWxsO2UuZ2VvbWV0cnkmJnRoaXMucmVuZGVyZXIuZXJhc2VGZWF0dXJlcyhlKTstMSE9T3BlbkxheWVycy5VdGlsLmluZGV4T2YodGhpcy5zZWxlY3RlZEZlYXR1cmVzLGUpJiZPcGVuTGF5ZXJzLlV0aWwucmVtb3ZlSXRlbSh0aGlzLnNlbGVjdGVkRmVhdHVyZXMsCmUpO2MmJnRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiZmVhdHVyZXJlbW92ZWQiLHtmZWF0dXJlOmV9KX1jJiZ0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImZlYXR1cmVzcmVtb3ZlZCIse2ZlYXR1cmVzOmF9KX19LHJlbW92ZUFsbEZlYXR1cmVzOmZ1bmN0aW9uKGEpe3ZhciBhPSFhfHwhYS5zaWxlbnQsYj10aGlzLmZlYXR1cmVzO2EmJnRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiYmVmb3JlZmVhdHVyZXNyZW1vdmVkIix7ZmVhdHVyZXM6Yn0pO2Zvcih2YXIgYyxkPWIubGVuZ3RoLTE7MDw9ZDtkLS0pYz1iW2RdLGEmJnRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiYmVmb3JlZmVhdHVyZXJlbW92ZWQiLHtmZWF0dXJlOmN9KSxjLmxheWVyPW51bGwsYSYmdGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJmZWF0dXJlcmVtb3ZlZCIse2ZlYXR1cmU6Y30pO3RoaXMucmVuZGVyZXIuY2xlYXIoKTt0aGlzLmZlYXR1cmVzPVtdO3RoaXMudW5yZW5kZXJlZEZlYXR1cmVzPXt9O3RoaXMuc2VsZWN0ZWRGZWF0dXJlcz0KW107YSYmdGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJmZWF0dXJlc3JlbW92ZWQiLHtmZWF0dXJlczpifSl9LGRlc3Ryb3lGZWF0dXJlczpmdW5jdGlvbihhLGIpe3ZvaWQgMD09YSYmKGE9dGhpcy5mZWF0dXJlcyk7aWYoYSl7dGhpcy5yZW1vdmVGZWF0dXJlcyhhLGIpO2Zvcih2YXIgYz1hLmxlbmd0aC0xOzA8PWM7Yy0tKWFbY10uZGVzdHJveSgpfX0sZHJhd0ZlYXR1cmU6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmRyYXduKXtpZigib2JqZWN0IiE9dHlwZW9mIGIpeyFiJiZhLnN0YXRlPT09T3BlbkxheWVycy5TdGF0ZS5ERUxFVEUmJihiPSJkZWxldGUiKTt2YXIgYz1ifHxhLnJlbmRlckludGVudDsoYj1hLnN0eWxlfHx0aGlzLnN0eWxlKXx8KGI9dGhpcy5zdHlsZU1hcC5jcmVhdGVTeW1ib2xpemVyKGEsYykpfWM9dGhpcy5yZW5kZXJlci5kcmF3RmVhdHVyZShhLGIpOyExPT09Y3x8bnVsbD09PWM/dGhpcy51bnJlbmRlcmVkRmVhdHVyZXNbYS5pZF09YTpkZWxldGUgdGhpcy51bnJlbmRlcmVkRmVhdHVyZXNbYS5pZF19fSwKZXJhc2VGZWF0dXJlczpmdW5jdGlvbihhKXt0aGlzLnJlbmRlcmVyLmVyYXNlRmVhdHVyZXMoYSl9LGdldEZlYXR1cmVGcm9tRXZlbnQ6ZnVuY3Rpb24oYSl7aWYoIXRoaXMucmVuZGVyZXIpdGhyb3cgRXJyb3IoImdldEZlYXR1cmVGcm9tRXZlbnQgY2FsbGVkIG9uIGxheWVyIHdpdGggbm8gcmVuZGVyZXIuIFRoaXMgdXN1YWxseSBtZWFucyB5b3UgZGVzdHJveWVkIGEgbGF5ZXIsIGJ1dCBub3Qgc29tZSBoYW5kbGVyIHdoaWNoIGlzIGFzc29jaWF0ZWQgd2l0aCBpdC4iKTt2YXIgYj1udWxsOyhhPXRoaXMucmVuZGVyZXIuZ2V0RmVhdHVyZUlkRnJvbUV2ZW50KGEpKSYmKGI9InN0cmluZyI9PT10eXBlb2YgYT90aGlzLmdldEZlYXR1cmVCeUlkKGEpOmEpO3JldHVybiBifSxnZXRGZWF0dXJlQnk6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9bnVsbCxkPTAsZT10aGlzLmZlYXR1cmVzLmxlbmd0aDtkPGU7KytkKWlmKHRoaXMuZmVhdHVyZXNbZF1bYV09PWIpe2M9dGhpcy5mZWF0dXJlc1tkXTsKYnJlYWt9cmV0dXJuIGN9LGdldEZlYXR1cmVCeUlkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldEZlYXR1cmVCeSgiaWQiLGEpfSxnZXRGZWF0dXJlQnlGaWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0RmVhdHVyZUJ5KCJmaWQiLGEpfSxnZXRGZWF0dXJlc0J5QXR0cmlidXRlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPXRoaXMuZmVhdHVyZXMubGVuZ3RoLGY9W107Zm9yKGM9MDtjPGU7YysrKShkPXRoaXMuZmVhdHVyZXNbY10pJiZkLmF0dHJpYnV0ZXMmJmQuYXR0cmlidXRlc1thXT09PWImJmYucHVzaChkKTtyZXR1cm4gZn0sb25GZWF0dXJlSW5zZXJ0OmZ1bmN0aW9uKCl7fSxwcmVGZWF0dXJlSW5zZXJ0OmZ1bmN0aW9uKCl7fSxnZXREYXRhRXh0ZW50OmZ1bmN0aW9uKCl7dmFyIGE9bnVsbCxiPXRoaXMuZmVhdHVyZXM7aWYoYiYmMDxiLmxlbmd0aClmb3IodmFyIGM9bnVsbCxkPTAsZT1iLmxlbmd0aDtkPGU7ZCsrKWlmKGM9YltkXS5nZW9tZXRyeSludWxsPT09YSYmCihhPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyksYS5leHRlbmQoYy5nZXRCb3VuZHMoKSk7cmV0dXJuIGF9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuTGF5ZXIuVmVjdG9yIn0pO09wZW5MYXllcnMuTGF5ZXIuUG9pbnRHcmlkPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllci5WZWN0b3Ise2R4Om51bGwsZHk6bnVsbCxyYXRpbzoxLjUsbWF4RmVhdHVyZXM6MjUwLHJvdGF0aW9uOjAsb3JpZ2luOm51bGwsZ3JpZEJvdW5kczpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7YT1hfHx7fTtPcGVuTGF5ZXJzLkxheWVyLlZlY3Rvci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthLm5hbWUsYV0pfSxzZXRNYXA6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5MYXllci5WZWN0b3IucHJvdG90eXBlLnNldE1hcC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5ldmVudHMucmVnaXN0ZXIoIm1vdmVlbmQiLHRoaXMsdGhpcy5vbk1vdmVFbmQpfSxyZW1vdmVNYXA6ZnVuY3Rpb24oYSl7YS5ldmVudHMudW5yZWdpc3RlcigibW92ZWVuZCIsdGhpcyx0aGlzLm9uTW92ZUVuZCk7T3BlbkxheWVycy5MYXllci5WZWN0b3IucHJvdG90eXBlLnJlbW92ZU1hcC5hcHBseSh0aGlzLAphcmd1bWVudHMpfSxzZXRSYXRpbzpmdW5jdGlvbihhKXt0aGlzLnJhdGlvPWE7dGhpcy51cGRhdGVHcmlkKCEwKX0sc2V0TWF4RmVhdHVyZXM6ZnVuY3Rpb24oYSl7dGhpcy5tYXhGZWF0dXJlcz1hO3RoaXMudXBkYXRlR3JpZCghMCl9LHNldFNwYWNpbmc6ZnVuY3Rpb24oYSxiKXt0aGlzLmR4PWE7dGhpcy5keT1ifHxhO3RoaXMudXBkYXRlR3JpZCghMCl9LHNldE9yaWdpbjpmdW5jdGlvbihhKXt0aGlzLm9yaWdpbj1hO3RoaXMudXBkYXRlR3JpZCghMCl9LGdldE9yaWdpbjpmdW5jdGlvbigpe3RoaXMub3JpZ2lufHwodGhpcy5vcmlnaW49dGhpcy5tYXAuZ2V0RXh0ZW50KCkuZ2V0Q2VudGVyTG9uTGF0KCkpO3JldHVybiB0aGlzLm9yaWdpbn0sc2V0Um90YXRpb246ZnVuY3Rpb24oYSl7dGhpcy5yb3RhdGlvbj1hO3RoaXMudXBkYXRlR3JpZCghMCl9LG9uTW92ZUVuZDpmdW5jdGlvbigpe3RoaXMudXBkYXRlR3JpZCgpfSxnZXRWaWV3Qm91bmRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5tYXAuZ2V0RXh0ZW50KCk7CmlmKHRoaXMucm90YXRpb24pe3ZhciBiPXRoaXMuZ2V0T3JpZ2luKCksYj1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChiLmxvbixiLmxhdCksYT1hLnRvR2VvbWV0cnkoKTthLnJvdGF0ZSgtdGhpcy5yb3RhdGlvbixiKTthPWEuZ2V0Qm91bmRzKCl9cmV0dXJuIGF9LHVwZGF0ZUdyaWQ6ZnVuY3Rpb24oYSl7aWYoYXx8dGhpcy5pbnZhbGlkQm91bmRzKCkpe3ZhciBiPXRoaXMuZ2V0Vmlld0JvdW5kcygpLGM9dGhpcy5nZXRPcmlnaW4oKSxhPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGMubG9uLGMubGF0KSxkPWIuZ2V0V2lkdGgoKSxlPWIuZ2V0SGVpZ2h0KCksZj1kL2UsZz1NYXRoLnNxcnQodGhpcy5keCp0aGlzLmR5KnRoaXMubWF4RmVhdHVyZXMvZiksZD1NYXRoLm1pbihkKnRoaXMucmF0aW8sZypmKSxlPU1hdGgubWluKGUqdGhpcy5yYXRpbyxnKSxiPWIuZ2V0Q2VudGVyTG9uTGF0KCk7dGhpcy5ncmlkQm91bmRzPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhiLmxvbi0KZC8yLGIubGF0LWUvMixiLmxvbitkLzIsYi5sYXQrZS8yKTtmb3IodmFyIGI9TWF0aC5mbG9vcihlL3RoaXMuZHkpLGQ9TWF0aC5mbG9vcihkL3RoaXMuZHgpLGU9Yy5sb24rdGhpcy5keCpNYXRoLmNlaWwoKHRoaXMuZ3JpZEJvdW5kcy5sZWZ0LWMubG9uKS90aGlzLmR4KSxjPWMubGF0K3RoaXMuZHkqTWF0aC5jZWlsKCh0aGlzLmdyaWRCb3VuZHMuYm90dG9tLWMubGF0KS90aGlzLmR5KSxnPUFycmF5KGIqZCksaCxpPTA7aTxkOysraSlmb3IodmFyIGY9ZStpKnRoaXMuZHgsaj0wO2o8YjsrK2opaD1jK2oqdGhpcy5keSxoPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGYsaCksdGhpcy5yb3RhdGlvbiYmaC5yb3RhdGUodGhpcy5yb3RhdGlvbixhKSxnW2kqYitqXT1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihoKTt0aGlzLmRlc3Ryb3lGZWF0dXJlcyh0aGlzLmZlYXR1cmVzLHtzaWxlbnQ6ITB9KTt0aGlzLmFkZEZlYXR1cmVzKGcse3NpbGVudDohMH0pfX0saW52YWxpZEJvdW5kczpmdW5jdGlvbigpe3JldHVybiF0aGlzLmdyaWRCb3VuZHN8fAohdGhpcy5ncmlkQm91bmRzLmNvbnRhaW5zQm91bmRzKHRoaXMuZ2V0Vmlld0JvdW5kcygpKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5Qb2ludEdyaWQifSk7T3BlbkxheWVycy5IYW5kbGVyLk1vdXNlV2hlZWw9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkhhbmRsZXIse3doZWVsTGlzdGVuZXI6bnVsbCxpbnRlcnZhbDowLG1heERlbHRhOk51bWJlci5QT1NJVElWRV9JTkZJTklUWSxkZWx0YTowLGN1bXVsYXRpdmU6ITAsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyl7T3BlbkxheWVycy5IYW5kbGVyLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLndoZWVsTGlzdGVuZXI9T3BlbkxheWVycy5GdW5jdGlvbi5iaW5kQXNFdmVudExpc3RlbmVyKHRoaXMub25XaGVlbEV2ZW50LHRoaXMpfSxkZXN0cm95OmZ1bmN0aW9uKCl7T3BlbkxheWVycy5IYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLndoZWVsTGlzdGVuZXI9bnVsbH0sb25XaGVlbEV2ZW50OmZ1bmN0aW9uKGEpe2lmKHRoaXMubWFwJiZ0aGlzLmNoZWNrTW9kaWZpZXJzKGEpKXtmb3IodmFyIGI9CiExLGM9ITEsZD0hMSxlPU9wZW5MYXllcnMuRXZlbnQuZWxlbWVudChhKTtudWxsIT1lJiYhZCYmIWI7KXtpZighYil0cnl7dmFyIGYsYj0oZj1lLmN1cnJlbnRTdHlsZT9lLmN1cnJlbnRTdHlsZS5vdmVyZmxvdzpkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGUsbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZSgib3ZlcmZsb3ciKSkmJiJhdXRvIj09Znx8InNjcm9sbCI9PWZ9Y2F0Y2goZyl7fWlmKCFjJiYoYz1PcGVuTGF5ZXJzLkVsZW1lbnQuaGFzQ2xhc3MoZSwib2xTY3JvbGxhYmxlIiksIWMpKWZvcih2YXIgZD0wLGg9dGhpcy5tYXAubGF5ZXJzLmxlbmd0aDtkPGg7ZCsrKXt2YXIgaT10aGlzLm1hcC5sYXllcnNbZF07aWYoZT09aS5kaXZ8fGU9PWkucGFuZSl7Yz0hMDticmVha319ZD1lPT10aGlzLm1hcC5kaXY7ZT1lLnBhcmVudE5vZGV9aWYoIWImJmQpe2lmKGMpaWYoYj0wLGEud2hlZWxEZWx0YT8oYj1hLndoZWVsRGVsdGEsMD09PWIlMTYwJiYoYio9MC43NSksCmIvPTEyMCk6YS5kZXRhaWwmJihiPS0oYS5kZXRhaWwvTWF0aC5hYnMoYS5kZXRhaWwpKSksdGhpcy5kZWx0YSs9Yix3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXRJZCksdGhpcy5pbnRlcnZhbCYmTWF0aC5hYnModGhpcy5kZWx0YSk8dGhpcy5tYXhEZWx0YSl7dmFyIGo9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSxhKTt0aGlzLl90aW1lb3V0SWQ9d2luZG93LnNldFRpbWVvdXQoT3BlbkxheWVycy5GdW5jdGlvbi5iaW5kKGZ1bmN0aW9uKCl7dGhpcy53aGVlbFpvb20oail9LHRoaXMpLHRoaXMuaW50ZXJ2YWwpfWVsc2UgdGhpcy53aGVlbFpvb20oYSk7T3BlbkxheWVycy5FdmVudC5zdG9wKGEpfX19LHdoZWVsWm9vbTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmRlbHRhO3RoaXMuZGVsdGE9MDtiJiYoYS54eT10aGlzLm1hcC5ldmVudHMuZ2V0TW91c2VQb3NpdGlvbihhKSwwPmI/dGhpcy5jYWxsYmFjaygiZG93biIsW2EsdGhpcy5jdW11bGF0aXZlP01hdGgubWF4KC10aGlzLm1heERlbHRhLApiKTotMV0pOnRoaXMuY2FsbGJhY2soInVwIixbYSx0aGlzLmN1bXVsYXRpdmU/TWF0aC5taW4odGhpcy5tYXhEZWx0YSxiKToxXSkpfSxhY3RpdmF0ZTpmdW5jdGlvbihhKXtpZihPcGVuTGF5ZXJzLkhhbmRsZXIucHJvdG90eXBlLmFjdGl2YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl7dmFyIGI9dGhpcy53aGVlbExpc3RlbmVyO09wZW5MYXllcnMuRXZlbnQub2JzZXJ2ZSh3aW5kb3csIkRPTU1vdXNlU2Nyb2xsIixiKTtPcGVuTGF5ZXJzLkV2ZW50Lm9ic2VydmUod2luZG93LCJtb3VzZXdoZWVsIixiKTtPcGVuTGF5ZXJzLkV2ZW50Lm9ic2VydmUoZG9jdW1lbnQsIm1vdXNld2hlZWwiLGIpO3JldHVybiEwfXJldHVybiExfSxkZWFjdGl2YXRlOmZ1bmN0aW9uKGEpe2lmKE9wZW5MYXllcnMuSGFuZGxlci5wcm90b3R5cGUuZGVhY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpe3ZhciBiPXRoaXMud2hlZWxMaXN0ZW5lcjtPcGVuTGF5ZXJzLkV2ZW50LnN0b3BPYnNlcnZpbmcod2luZG93LAoiRE9NTW91c2VTY3JvbGwiLGIpO09wZW5MYXllcnMuRXZlbnQuc3RvcE9ic2VydmluZyh3aW5kb3csIm1vdXNld2hlZWwiLGIpO09wZW5MYXllcnMuRXZlbnQuc3RvcE9ic2VydmluZyhkb2N1bWVudCwibW91c2V3aGVlbCIsYik7cmV0dXJuITB9cmV0dXJuITF9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuSGFuZGxlci5Nb3VzZVdoZWVsIn0pO09wZW5MYXllcnMuU3ltYm9saXplcj1PcGVuTGF5ZXJzLkNsYXNzKHt6SW5kZXg6MCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcyxhKX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IChPcGVuTGF5ZXJzLlV0aWwuZ2V0Q29uc3RydWN0b3IodGhpcy5DTEFTU19OQU1FKSkoT3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSx0aGlzKSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuU3ltYm9saXplciJ9KTtPcGVuTGF5ZXJzLlN5bWJvbGl6ZXIuUmFzdGVyPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5TeW1ib2xpemVyLHtpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuU3ltYm9saXplci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuU3ltYm9saXplci5SYXN0ZXIifSk7T3BlbkxheWVycy5Gb3JtYXQuV01TQ2FwYWJpbGl0aWVzPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuWE1MLlZlcnNpb25lZE9HQyx7ZGVmYXVsdFZlcnNpb246IjEuMS4xIixwcm9maWxlOm51bGwsQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuV01TQ2FwYWJpbGl0aWVzIn0pO09wZW5MYXllcnMuRm9ybWF0LldNU0NhcGFiaWxpdGllcy52MT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7bmFtZXNwYWNlczp7d21zOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3dtcyIseGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UifSxkZWZhdWx0UHJlZml4OiJ3bXMiLHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PXR5cGVvZiBhJiYoYT1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxbYV0pKTt2YXIgYj1hO2EmJjk9PWEubm9kZVR5cGUmJihhPWEuZG9jdW1lbnRFbGVtZW50KTt2YXIgYz17fTt0aGlzLnJlYWROb2RlKGEsYyk7dm9pZCAwPT09Yy5zZXJ2aWNlJiYoYT1uZXcgT3BlbkxheWVycy5Gb3JtYXQuT0dDRXhjZXB0aW9uUmVwb3J0LGMuZXJyb3I9YS5yZWFkKGIpKTtyZXR1cm4gY30scmVhZGVyczp7d21zOntTZXJ2aWNlOmZ1bmN0aW9uKGEsCmIpe2Iuc2VydmljZT17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5zZXJ2aWNlKX0sTmFtZTpmdW5jdGlvbihhLGIpe2IubmFtZT10aGlzLmdldENoaWxkVmFsdWUoYSl9LFRpdGxlOmZ1bmN0aW9uKGEsYil7Yi50aXRsZT10aGlzLmdldENoaWxkVmFsdWUoYSl9LEFic3RyYWN0OmZ1bmN0aW9uKGEsYil7YlsiYWJzdHJhY3QiXT10aGlzLmdldENoaWxkVmFsdWUoYSl9LEJvdW5kaW5nQm94OmZ1bmN0aW9uKGEpe3ZhciBiPXt9O2IuYmJveD1bcGFyc2VGbG9hdChhLmdldEF0dHJpYnV0ZSgibWlueCIpKSxwYXJzZUZsb2F0KGEuZ2V0QXR0cmlidXRlKCJtaW55IikpLHBhcnNlRmxvYXQoYS5nZXRBdHRyaWJ1dGUoIm1heHgiKSkscGFyc2VGbG9hdChhLmdldEF0dHJpYnV0ZSgibWF4eSIpKV07YT17eDpwYXJzZUZsb2F0KGEuZ2V0QXR0cmlidXRlKCJyZXN4IikpLHk6cGFyc2VGbG9hdChhLmdldEF0dHJpYnV0ZSgicmVzeSIpKX07aWYoIWlzTmFOKGEueCl8fCFpc05hTihhLnkpKWIucmVzPQphO3JldHVybiBifSxPbmxpbmVSZXNvdXJjZTpmdW5jdGlvbihhLGIpe2IuaHJlZj10aGlzLmdldEF0dHJpYnV0ZU5TKGEsdGhpcy5uYW1lc3BhY2VzLnhsaW5rLCJocmVmIil9LENvbnRhY3RJbmZvcm1hdGlvbjpmdW5jdGlvbihhLGIpe2IuY29udGFjdEluZm9ybWF0aW9uPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLmNvbnRhY3RJbmZvcm1hdGlvbil9LENvbnRhY3RQZXJzb25QcmltYXJ5OmZ1bmN0aW9uKGEsYil7Yi5wZXJzb25QcmltYXJ5PXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnBlcnNvblByaW1hcnkpfSxDb250YWN0UGVyc29uOmZ1bmN0aW9uKGEsYil7Yi5wZXJzb249dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxDb250YWN0T3JnYW5pemF0aW9uOmZ1bmN0aW9uKGEsYil7Yi5vcmdhbml6YXRpb249dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxDb250YWN0UG9zaXRpb246ZnVuY3Rpb24oYSxiKXtiLnBvc2l0aW9uPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sQ29udGFjdEFkZHJlc3M6ZnVuY3Rpb24oYSwKYil7Yi5jb250YWN0QWRkcmVzcz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5jb250YWN0QWRkcmVzcyl9LEFkZHJlc3NUeXBlOmZ1bmN0aW9uKGEsYil7Yi50eXBlPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sQWRkcmVzczpmdW5jdGlvbihhLGIpe2IuYWRkcmVzcz10aGlzLmdldENoaWxkVmFsdWUoYSl9LENpdHk6ZnVuY3Rpb24oYSxiKXtiLmNpdHk9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxTdGF0ZU9yUHJvdmluY2U6ZnVuY3Rpb24oYSxiKXtiLnN0YXRlT3JQcm92aW5jZT10aGlzLmdldENoaWxkVmFsdWUoYSl9LFBvc3RDb2RlOmZ1bmN0aW9uKGEsYil7Yi5wb3N0Y29kZT10aGlzLmdldENoaWxkVmFsdWUoYSl9LENvdW50cnk6ZnVuY3Rpb24oYSxiKXtiLmNvdW50cnk9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxDb250YWN0Vm9pY2VUZWxlcGhvbmU6ZnVuY3Rpb24oYSxiKXtiLnBob25lPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sQ29udGFjdEZhY3NpbWlsZVRlbGVwaG9uZTpmdW5jdGlvbihhLApiKXtiLmZheD10aGlzLmdldENoaWxkVmFsdWUoYSl9LENvbnRhY3RFbGVjdHJvbmljTWFpbEFkZHJlc3M6ZnVuY3Rpb24oYSxiKXtiLmVtYWlsPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sRmVlczpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKTtjJiYibm9uZSIhPWMudG9Mb3dlckNhc2UoKSYmKGIuZmVlcz1jKX0sQWNjZXNzQ29uc3RyYWludHM6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYSk7YyYmIm5vbmUiIT1jLnRvTG93ZXJDYXNlKCkmJihiLmFjY2Vzc0NvbnN0cmFpbnRzPWMpfSxDYXBhYmlsaXR5OmZ1bmN0aW9uKGEsYil7Yi5jYXBhYmlsaXR5PXtuZXN0ZWRMYXllcnM6W10sbGF5ZXJzOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5jYXBhYmlsaXR5KX0sUmVxdWVzdDpmdW5jdGlvbihhLGIpe2IucmVxdWVzdD17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5yZXF1ZXN0KX0sR2V0Q2FwYWJpbGl0aWVzOmZ1bmN0aW9uKGEsCmIpe2IuZ2V0Y2FwYWJpbGl0aWVzPXtmb3JtYXRzOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5nZXRjYXBhYmlsaXRpZXMpfSxGb3JtYXQ6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShiLmZvcm1hdHMpP2IuZm9ybWF0cy5wdXNoKHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSk6Yi5mb3JtYXQ9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxEQ1BUeXBlOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxIVFRQOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxHZXQ6ZnVuY3Rpb24oYSxiKXtiLmdldD17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5nZXQpO2IuaHJlZnx8KGIuaHJlZj1iLmdldC5ocmVmKX0sUG9zdDpmdW5jdGlvbihhLGIpe2IucG9zdD17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5wb3N0KTtiLmhyZWZ8fChiLmhyZWY9Yi5nZXQuaHJlZil9LEdldE1hcDpmdW5jdGlvbihhLGIpe2IuZ2V0bWFwPXtmb3JtYXRzOltdfTsKdGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuZ2V0bWFwKX0sR2V0RmVhdHVyZUluZm86ZnVuY3Rpb24oYSxiKXtiLmdldGZlYXR1cmVpbmZvPXtmb3JtYXRzOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5nZXRmZWF0dXJlaW5mbyl9LEV4Y2VwdGlvbjpmdW5jdGlvbihhLGIpe2IuZXhjZXB0aW9uPXtmb3JtYXRzOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5leGNlcHRpb24pfSxMYXllcjpmdW5jdGlvbihhLGIpe3ZhciBjLGQ7Yi5jYXBhYmlsaXR5PyhkPWIuY2FwYWJpbGl0eSxjPWIpOmQ9Yjt2YXIgZT1hLmdldEF0dHJpYnV0ZU5vZGUoInF1ZXJ5YWJsZSIpLGY9ZSYmZS5zcGVjaWZpZWQ/YS5nZXRBdHRyaWJ1dGUoInF1ZXJ5YWJsZSIpOm51bGwsZz0oZT1hLmdldEF0dHJpYnV0ZU5vZGUoImNhc2NhZGVkIikpJiZlLnNwZWNpZmllZD9hLmdldEF0dHJpYnV0ZSgiY2FzY2FkZWQiKTpudWxsLGU9KGU9YS5nZXRBdHRyaWJ1dGVOb2RlKCJvcGFxdWUiKSkmJmUuc3BlY2lmaWVkPwphLmdldEF0dHJpYnV0ZSgib3BhcXVlIik6bnVsbCxoPWEuZ2V0QXR0cmlidXRlKCJub1N1YnNldHMiKSxpPWEuZ2V0QXR0cmlidXRlKCJmaXhlZFdpZHRoIiksaj1hLmdldEF0dHJpYnV0ZSgiZml4ZWRIZWlnaHQiKSxrPWN8fHt9LGw9T3BlbkxheWVycy5VdGlsLmV4dGVuZDtjPXtuZXN0ZWRMYXllcnM6W10sc3R5bGVzOmM/W10uY29uY2F0KGMuc3R5bGVzKTpbXSxzcnM6Yz9sKHt9LGsuc3JzKTp7fSxtZXRhZGF0YVVSTHM6W10sYmJveDpjP2woe30say5iYm94KTp7fSxsbGJib3g6ay5sbGJib3gsZGltZW5zaW9uczpjP2woe30say5kaW1lbnNpb25zKTp7fSxhdXRob3JpdHlVUkxzOmM/bCh7fSxrLmF1dGhvcml0eVVSTHMpOnt9LGlkZW50aWZpZXJzOnt9LGtleXdvcmRzOltdLHF1ZXJ5YWJsZTpmJiYiIiE9PWY/IjEiPT09Znx8InRydWUiPT09ZjprLnF1ZXJ5YWJsZXx8ITEsY2FzY2FkZWQ6bnVsbCE9PWc/cGFyc2VJbnQoZyk6ay5jYXNjYWRlZHx8MCxvcGFxdWU6ZT8iMSI9PT0KZXx8InRydWUiPT09ZTprLm9wYXF1ZXx8ITEsbm9TdWJzZXRzOm51bGwhPT1oPyIxIj09PWh8fCJ0cnVlIj09PWg6ay5ub1N1YnNldHN8fCExLGZpeGVkV2lkdGg6bnVsbCE9aT9wYXJzZUludChpKTprLmZpeGVkV2lkdGh8fDAsZml4ZWRIZWlnaHQ6bnVsbCE9aj9wYXJzZUludChqKTprLmZpeGVkSGVpZ2h0fHwwLG1pblNjYWxlOmsubWluU2NhbGUsbWF4U2NhbGU6ay5tYXhTY2FsZSxhdHRyaWJ1dGlvbjprLmF0dHJpYnV0aW9ufTtiLm5lc3RlZExheWVycy5wdXNoKGMpO2MuY2FwYWJpbGl0eT1kO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtkZWxldGUgYy5jYXBhYmlsaXR5O2MubmFtZSYmKGY9Yy5uYW1lLnNwbGl0KCI6IiksZz1kLnJlcXVlc3QsZT1nLmdldGZlYXR1cmVpbmZvLDA8Zi5sZW5ndGgmJihjLnByZWZpeD1mWzBdKSxkLmxheWVycy5wdXNoKGMpLHZvaWQgMD09PWMuZm9ybWF0cyYmKGMuZm9ybWF0cz1nLmdldG1hcC5mb3JtYXRzKSx2b2lkIDA9PT1jLmluZm9Gb3JtYXRzJiYKZSYmKGMuaW5mb0Zvcm1hdHM9ZS5mb3JtYXRzKSl9LEF0dHJpYnV0aW9uOmZ1bmN0aW9uKGEsYil7Yi5hdHRyaWJ1dGlvbj17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5hdHRyaWJ1dGlvbil9LExvZ29VUkw6ZnVuY3Rpb24oYSxiKXtiLmxvZ289e3dpZHRoOmEuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpLGhlaWdodDphLmdldEF0dHJpYnV0ZSgiaGVpZ2h0Iil9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLmxvZ28pfSxTdHlsZTpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O2Iuc3R5bGVzLnB1c2goYyk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpfSxMZWdlbmRVUkw6ZnVuY3Rpb24oYSxiKXt2YXIgYz17d2lkdGg6YS5nZXRBdHRyaWJ1dGUoIndpZHRoIiksaGVpZ2h0OmEuZ2V0QXR0cmlidXRlKCJoZWlnaHQiKX07Yi5sZWdlbmQ9Yzt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyl9LE1ldGFkYXRhVVJMOmZ1bmN0aW9uKGEsYil7dmFyIGM9e3R5cGU6YS5nZXRBdHRyaWJ1dGUoInR5cGUiKX07CmIubWV0YWRhdGFVUkxzLnB1c2goYyk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpfSxEYXRhVVJMOmZ1bmN0aW9uKGEsYil7Yi5kYXRhVVJMPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLmRhdGFVUkwpfSxGZWF0dXJlTGlzdFVSTDpmdW5jdGlvbihhLGIpe2IuZmVhdHVyZUxpc3RVUkw9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuZmVhdHVyZUxpc3RVUkwpfSxBdXRob3JpdHlVUkw6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldEF0dHJpYnV0ZSgibmFtZSIpLGQ9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGQpO2IuYXV0aG9yaXR5VVJMc1tjXT1kLmhyZWZ9LElkZW50aWZpZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldEF0dHJpYnV0ZSgiYXV0aG9yaXR5Iik7Yi5pZGVudGlmaWVyc1tjXT10aGlzLmdldENoaWxkVmFsdWUoYSl9LEtleXdvcmRMaXN0OmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxTUlM6ZnVuY3Rpb24oYSxiKXtiLnNyc1t0aGlzLmdldENoaWxkVmFsdWUoYSldPQohMH19fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjEifSk7T3BlbkxheWVycy5Gb3JtYXQuV01TQ2FwYWJpbGl0aWVzLnYxXzM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjEse3JlYWRlcnM6e3dtczpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7V01TX0NhcGFiaWxpdGllczpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sTGF5ZXJMaW1pdDpmdW5jdGlvbihhLGIpe2IubGF5ZXJMaW1pdD1wYXJzZUludCh0aGlzLmdldENoaWxkVmFsdWUoYSkpfSxNYXhXaWR0aDpmdW5jdGlvbihhLGIpe2IubWF4V2lkdGg9cGFyc2VJbnQodGhpcy5nZXRDaGlsZFZhbHVlKGEpKX0sTWF4SGVpZ2h0OmZ1bmN0aW9uKGEsYil7Yi5tYXhIZWlnaHQ9cGFyc2VJbnQodGhpcy5nZXRDaGlsZFZhbHVlKGEpKX0sQm91bmRpbmdCb3g6ZnVuY3Rpb24oYSxiKXt2YXIgYz1PcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjEucHJvdG90eXBlLnJlYWRlcnMud21zLkJvdW5kaW5nQm94LmFwcGx5KHRoaXMsClthLGJdKTtjLnNycz1hLmdldEF0dHJpYnV0ZSgiQ1JTIik7Yi5iYm94W2Muc3JzXT1jfSxDUlM6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRlcnMud21zLlNSUy5hcHBseSh0aGlzLFthLGJdKX0sRVhfR2VvZ3JhcGhpY0JvdW5kaW5nQm94OmZ1bmN0aW9uKGEsYil7Yi5sbGJib3g9W107dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIubGxiYm94KX0sd2VzdEJvdW5kTG9uZ2l0dWRlOmZ1bmN0aW9uKGEsYil7YlswXT10aGlzLmdldENoaWxkVmFsdWUoYSl9LGVhc3RCb3VuZExvbmdpdHVkZTpmdW5jdGlvbihhLGIpe2JbMl09dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxzb3V0aEJvdW5kTGF0aXR1ZGU6ZnVuY3Rpb24oYSxiKXtiWzFdPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sbm9ydGhCb3VuZExhdGl0dWRlOmZ1bmN0aW9uKGEsYil7YlszXT10aGlzLmdldENoaWxkVmFsdWUoYSl9LE1pblNjYWxlRGVub21pbmF0b3I6ZnVuY3Rpb24oYSxiKXtiLm1heFNjYWxlPXBhcnNlRmxvYXQodGhpcy5nZXRDaGlsZFZhbHVlKGEpKS50b1ByZWNpc2lvbigxNil9LApNYXhTY2FsZURlbm9taW5hdG9yOmZ1bmN0aW9uKGEsYil7Yi5taW5TY2FsZT1wYXJzZUZsb2F0KHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSkudG9QcmVjaXNpb24oMTYpfSxEaW1lbnNpb246ZnVuY3Rpb24oYSxiKXt2YXIgYz17bmFtZTphLmdldEF0dHJpYnV0ZSgibmFtZSIpLnRvTG93ZXJDYXNlKCksdW5pdHM6YS5nZXRBdHRyaWJ1dGUoInVuaXRzIiksdW5pdHN5bWJvbDphLmdldEF0dHJpYnV0ZSgidW5pdFN5bWJvbCIpLG5lYXJlc3RWYWw6IjEiPT09YS5nZXRBdHRyaWJ1dGUoIm5lYXJlc3RWYWx1ZSIpLG11bHRpcGxlVmFsOiIxIj09PWEuZ2V0QXR0cmlidXRlKCJtdWx0aXBsZVZhbHVlcyIpLCJkZWZhdWx0IjphLmdldEF0dHJpYnV0ZSgiZGVmYXVsdCIpfHwiIixjdXJyZW50OiIxIj09PWEuZ2V0QXR0cmlidXRlKCJjdXJyZW50IiksdmFsdWVzOnRoaXMuZ2V0Q2hpbGRWYWx1ZShhKS5zcGxpdCgiLCIpfTtiLmRpbWVuc2lvbnNbYy5uYW1lXT1jfSxLZXl3b3JkOmZ1bmN0aW9uKGEsCmIpe3ZhciBjPXt2YWx1ZTp0aGlzLmdldENoaWxkVmFsdWUoYSksdm9jYWJ1bGFyeTphLmdldEF0dHJpYnV0ZSgidm9jYWJ1bGFyeSIpfTtiLmtleXdvcmRzJiZiLmtleXdvcmRzLnB1c2goYyl9fSxPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjEucHJvdG90eXBlLnJlYWRlcnMud21zKSxzbGQ6e1VzZXJEZWZpbmVkU3ltYm9saXphdGlvbjpmdW5jdGlvbihhLGIpe3RoaXMucmVhZGVycy53bXMuVXNlckRlZmluZWRTeW1ib2xpemF0aW9uLmFwcGx5KHRoaXMsW2EsYl0pO2IudXNlclN5bWJvbHMuaW5saW5lRmVhdHVyZT0xPT1wYXJzZUludChhLmdldEF0dHJpYnV0ZSgiSW5saW5lRmVhdHVyZSIpKTtiLnVzZXJTeW1ib2xzLnJlbW90ZVdDUz0xPT1wYXJzZUludChhLmdldEF0dHJpYnV0ZSgiUmVtb3RlV0NTIikpfSxEZXNjcmliZUxheWVyOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkZXJzLndtcy5EZXNjcmliZUxheWVyLmFwcGx5KHRoaXMsW2EsYl0pfSxHZXRMZWdlbmRHcmFwaGljOmZ1bmN0aW9uKGEsCmIpe3RoaXMucmVhZGVycy53bXMuR2V0TGVnZW5kR3JhcGhpYy5hcHBseSh0aGlzLFthLGJdKX19fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjFfMyJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjFfM18wPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuV01TQ2FwYWJpbGl0aWVzLnYxXzMse3ZlcnNpb246IjEuMy4wIixDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjFfM18wIn0pO09wZW5MYXllcnMuU3ltYm9saXplci5Qb2x5Z29uPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5TeW1ib2xpemVyLHtpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuU3ltYm9saXplci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuU3ltYm9saXplci5Qb2x5Z29uIn0pO09wZW5MYXllcnMuTGFuZy5uYj17dW5oYW5kbGVkUmVxdWVzdDoiVWJlaGFuZGxldCBmb3Jlc3BcdTAwZjhyc2VsIHJldHVybmVydGUgJHtzdGF0dXNUZXh0fSIsUGVybWFsaW5rOiJLb2JsaW5nIHRpbCBkZW5uZSBzaWRlbiIsT3ZlcmxheXM6IkthcnRsYWciLCJCYXNlIExheWVyIjoiQmFrZ3J1bm5za2FydCIsbm9GSUQ6IkthbiBpa2tlIG9wcGRhdGVyZSBldCBmZWF0dXJlIChldCBvYmpla3QpIHNvbSBpa2tlIGhhciBGSUQuIixicm93c2VyTm90U3VwcG9ydGVkOiJEaW4gbmV0dGxlc2VyIHN0XHUwMGY4dHRlciBpa2tlIHZla3RvcnRlZ25pbmcuIFRlZ25lbWV0b2RlbmUgc29tIHN0XHUwMGY4dHRlcyBlcjpcbiR7cmVuZGVyZXJzfSIsbWluWm9vbUxldmVsRXJyb3I6IkVnZW5za2FwZW4gbWluWm9vbUxldmVsIGVyIGt1biBtZW50IHRpbCBicnVrIHBcdTAwZTUgbGFnIGJhc2VydCBwXHUwMGU1IEZpeGVkWm9vbUxldmVscy4gQXQgZGV0dGUgd2ZzLWxhZ2V0IHNqZWtrZXIgbWluWm9vbUxldmVsIGVyIGVuIGV0dGVybGV2bmluZyBmcmEgdGlkbGlnZXJlIHZlcnNqb25lci4gRGV0IGthbiBkb2cgaWtrZSB0YXMgYm9ydCB1dGVuIFx1MDBlNSByaXNpa2VyZSBhdCBPTC1iYXNlcnRlIGFwcGxpa2Fzam9uZXIgc2x1dHRlciBcdTAwZTUgdmlya2UsIHNcdTAwZTUgZGV0IGVyIG1lcmtldCBzb20gZm9yZWxkZXQ6IG1pblpvb21MZXZlbCBpIHNqZWtrZW4gbmVkZW5mb3IgdmlsIGZqZXJuZXMgaSAzLjAuIFZlbm5saWdzdCBicnVrIGlubnN0aWxsaW5nZW5lIGZvciBtaW4vbWFrcyBvcHBsXHUwMGY4c25pbmcgc29tIGVyIGJlc2tyZXZldCBoZXI6IGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU2V0dGluZ1pvb21MZXZlbHMiLApjb21taXRTdWNjZXNzOiJXRlMtdHJhbnNha3Nqb246IExZS1RFUyAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJXRlMtdHJhbnNha3Nqb246IE1JU0xZS1RFUyAke3Jlc3BvbnNlfSIsZ29vZ2xlV2FybmluZzoiR29vZ2xlLWxhZ2V0IGt1bm5lIGlra2UgbGFzdGVzLjxicj48YnI+Qnl0dCB0aWwgZXQgYW5uZXQgYmFrZ3J1bm5zbGFnIGkgbGFndmVsZ2VyZW4gaSBcdTAwZjh2cmUgaFx1MDBmOHlyZSBoalx1MDBmOHJuZSBmb3IgXHUwMGU1IHNsaXBwZSBkZW5uZSBtZWxkaW5nZW4uPGJyPjxicj5TYW5uc3lubGlndmlzIGZvclx1MDBlNXJzYWtlcyBmZWlsZW4gYXYgYXQgR29vZ2xlIE1hcHMtYmlibGlvdGVrZXQgaWtrZSBlciByaWt0aWcgaW5rbHVkZXJ0IHBcdTAwZTUgbmV0dHNpZGVuLCBlbGxlciBhdCBkZXQgaWtrZSBlciBhbmdpdHQgcmlrdGlnIEFQSS1uXHUwMGY4a2tlbCBmb3IgbmV0dHN0ZWRldC48YnI+PGJyPlV0dmlrbGVyZTogRm9yIGhqZWxwIHRpbCBcdTAwZTUgZlx1MDBlNSBkZXR0ZSB0aWwgXHUwMGU1IHZpcmtlIHNlIDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvR29vZ2xlJyB0YXJnZXQ9J19ibGFuayc+aGVyPC9hPi4iLApnZXRMYXllcldhcm5pbmc6IiR7bGF5ZXJUeXBlfS1sYWdldCBrdW5uZSBpa2tlIGxhc3Rlcy48YnI+PGJyPkJ5dHQgdGlsIGV0IGFubmV0IGJha2dydW5uc2xhZyBpIGxhZ3ZlbGdlcmVuIGkgXHUwMGY4dnJlIGhcdTAwZjh5cmUgaGpcdTAwZjhybmUgZm9yIFx1MDBlNSBzbGlwcGUgZGVubmUgbWVsZGluZ2VuLjxicj48YnI+U2FubnN5bmxpZ3ZpcyBmb3JcdTAwZTVyc2FrZXMgZmVpbGVuIGF2IGF0ICR7bGF5ZXJMaWJ9LWJpYmxpb3Rla2V0IGlra2UgdmFyIHJpa3RpZyBpbmtsdWRlcnQgcFx1MDBlNSBuZXR0c2lkZW4uPGJyPjxicj5VdHZpa2xlcmU6IEZvciBoamVscCB0aWwgXHUwMGU1IGZcdTAwZTUgZGV0dGUgdGlsIFx1MDBlNSB2aXJrZSBzZSA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+aGVyPC9hPi4iLCJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiPHN0cm9uZz5Ta2FsYTwvc3Ryb25nPiAxIDogJHtzY2FsZURlbm9tfSIsCnJlcHJvamVjdERlcHJlY2F0ZWQ6IkR1IGJydWtlciBpbm5zdGlsbGluZ2VuICdyZXByb2plY3QnIHBcdTAwZTUgbGFnZXQgJHtsYXllck5hbWV9LiBEZW5uZSBpbm5zdGlsbGluZ2VuIGVyIGZvcmVsZGV0LCBkZW4gdmFyIG1lbnQgZm9yIFx1MDBlNSBzdFx1MDBmOHR0ZSB2aXNuaW5nIGF2IGthcnRkYXRhIG92ZXIga29tbWVyc2llbGxlIGJha2dydW5uc2thcnQsIG1lbiBkZXQgYlx1MDBmOHIgblx1MDBlNSBnalx1MDBmOHJlcyBtZWQgc3RcdTAwZjh0dGVuIGZvciBTcGhlcmljYWwgTWVyY2F0b3IuIE1lciBpbmZvcm1hc2pvbiBmaW5uZXMgcFx1MDBlNSBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NwaGVyaWNhbE1lcmNhdG9yLiIsbWV0aG9kRGVwcmVjYXRlZDoiRGVubmUgbWV0b2RlbiBlciBtYXJrZXJ0IHNvbSBmb3JlbGRldCBvZyB2aWwgYmxpIGZqZXJuZXQgaSAzLjAuIFZlbm5saWdzdCBicnVrICR7bmV3TWV0aG9kfSBpIHN0ZWRldC4iLGVuZDoiIn07Ck9wZW5MYXllcnMuTGFuZy5ubz1PcGVuTGF5ZXJzLkxhbmcubmI7T3BlbkxheWVycy5FbGVtZW50c0luZGV4ZXI9T3BlbkxheWVycy5DbGFzcyh7bWF4WkluZGV4Om51bGwsb3JkZXI6bnVsbCxpbmRpY2VzOm51bGwsY29tcGFyZTpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7dGhpcy5jb21wYXJlPWE/T3BlbkxheWVycy5FbGVtZW50c0luZGV4ZXIuSW5kZXhpbmdNZXRob2RzLlpfT1JERVJfWV9PUkRFUjpPcGVuTGF5ZXJzLkVsZW1lbnRzSW5kZXhlci5JbmRleGluZ01ldGhvZHMuWl9PUkRFUl9EUkFXSU5HX09SREVSO3RoaXMuY2xlYXIoKX0saW5zZXJ0OmZ1bmN0aW9uKGEpe3RoaXMuZXhpc3RzKGEpJiZ0aGlzLnJlbW92ZShhKTt2YXIgYj1hLmlkO3RoaXMuZGV0ZXJtaW5lWkluZGV4KGEpO2Zvcih2YXIgYz0tMSxkPXRoaXMub3JkZXIubGVuZ3RoLGU7MTxkLWM7KWU9cGFyc2VJbnQoKGMrZCkvMiksMDx0aGlzLmNvbXBhcmUodGhpcyxhLE9wZW5MYXllcnMuVXRpbC5nZXRFbGVtZW50KHRoaXMub3JkZXJbZV0pKT9jPWU6ZD1lO3RoaXMub3JkZXIuc3BsaWNlKGQsCjAsYik7dGhpcy5pbmRpY2VzW2JdPXRoaXMuZ2V0WkluZGV4KGEpO3JldHVybiB0aGlzLmdldE5leHRFbGVtZW50KGQpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7dmFyIGE9YS5pZCxiPU9wZW5MYXllcnMuVXRpbC5pbmRleE9mKHRoaXMub3JkZXIsYSk7MDw9YiYmKHRoaXMub3JkZXIuc3BsaWNlKGIsMSksZGVsZXRlIHRoaXMuaW5kaWNlc1thXSx0aGlzLm1heFpJbmRleD0wPHRoaXMub3JkZXIubGVuZ3RoP3RoaXMuaW5kaWNlc1t0aGlzLm9yZGVyW3RoaXMub3JkZXIubGVuZ3RoLTFdXTowKX0sY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLm9yZGVyPVtdO3RoaXMuaW5kaWNlcz17fTt0aGlzLm1heFpJbmRleD0wfSxleGlzdHM6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPXRoaXMuaW5kaWNlc1thLmlkXX0sZ2V0WkluZGV4OmZ1bmN0aW9uKGEpe3JldHVybiBhLl9zdHlsZS5ncmFwaGljWkluZGV4fSxkZXRlcm1pbmVaSW5kZXg6ZnVuY3Rpb24oYSl7dmFyIGI9YS5fc3R5bGUuZ3JhcGhpY1pJbmRleDsKbnVsbD09Yj8oYj10aGlzLm1heFpJbmRleCxhLl9zdHlsZS5ncmFwaGljWkluZGV4PWIpOmI+dGhpcy5tYXhaSW5kZXgmJih0aGlzLm1heFpJbmRleD1iKX0sZ2V0TmV4dEVsZW1lbnQ6ZnVuY3Rpb24oYSl7YSs9MTtpZihhPHRoaXMub3JkZXIubGVuZ3RoKXt2YXIgYj1PcGVuTGF5ZXJzLlV0aWwuZ2V0RWxlbWVudCh0aGlzLm9yZGVyW2FdKTt2b2lkIDA9PWImJihiPXRoaXMuZ2V0TmV4dEVsZW1lbnQoYSkpO3JldHVybiBifXJldHVybiBudWxsfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkVsZW1lbnRzSW5kZXhlciJ9KTsKT3BlbkxheWVycy5FbGVtZW50c0luZGV4ZXIuSW5kZXhpbmdNZXRob2RzPXtaX09SREVSOmZ1bmN0aW9uKGEsYixjKXt2YXIgYj1hLmdldFpJbmRleChiKSxkPTA7YyYmKGE9YS5nZXRaSW5kZXgoYyksZD1iLWEpO3JldHVybiBkfSxaX09SREVSX0RSQVdJTkdfT1JERVI6ZnVuY3Rpb24oYSxiLGMpe2E9T3BlbkxheWVycy5FbGVtZW50c0luZGV4ZXIuSW5kZXhpbmdNZXRob2RzLlpfT1JERVIoYSxiLGMpO2MmJjA9PWEmJihhPTEpO3JldHVybiBhfSxaX09SREVSX1lfT1JERVI6ZnVuY3Rpb24oYSxiLGMpe2E9T3BlbkxheWVycy5FbGVtZW50c0luZGV4ZXIuSW5kZXhpbmdNZXRob2RzLlpfT1JERVIoYSxiLGMpO2MmJjA9PT1hJiYoYj1jLl9ib3VuZHNCb3R0b20tYi5fYm91bmRzQm90dG9tLGE9MD09PWI/MTpiKTtyZXR1cm4gYX19OwpPcGVuTGF5ZXJzLlJlbmRlcmVyLkVsZW1lbnRzPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5SZW5kZXJlcix7cmVuZGVyZXJSb290Om51bGwscm9vdDpudWxsLHZlY3RvclJvb3Q6bnVsbCx0ZXh0Um9vdDpudWxsLHhtbG5zOm51bGwseE9mZnNldDowLGluZGV4ZXI6bnVsbCxCQUNLR1JPVU5EX0lEX1NVRkZJWDoiX2JhY2tncm91bmQiLExBQkVMX0lEX1NVRkZJWDoiX2xhYmVsIixMQUJFTF9PVVRMSU5FX1NVRkZJWDoiX291dGxpbmUiLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLlJlbmRlcmVyLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLnJlbmRlcmVyUm9vdD10aGlzLmNyZWF0ZVJlbmRlclJvb3QoKTt0aGlzLnJvb3Q9dGhpcy5jcmVhdGVSb290KCJfcm9vdCIpO3RoaXMudmVjdG9yUm9vdD10aGlzLmNyZWF0ZVJvb3QoIl92cm9vdCIpO3RoaXMudGV4dFJvb3Q9dGhpcy5jcmVhdGVSb290KCJfdHJvb3QiKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQodGhpcy52ZWN0b3JSb290KTsKdGhpcy5yb290LmFwcGVuZENoaWxkKHRoaXMudGV4dFJvb3QpO3RoaXMucmVuZGVyZXJSb290LmFwcGVuZENoaWxkKHRoaXMucm9vdCk7dGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlclJvb3QpO2lmKGImJihiLnpJbmRleGluZ3x8Yi55T3JkZXJpbmcpKXRoaXMuaW5kZXhlcj1uZXcgT3BlbkxheWVycy5FbGVtZW50c0luZGV4ZXIoYi55T3JkZXJpbmcpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5jbGVhcigpO3RoaXMueG1sbnM9dGhpcy5yb290PXRoaXMucmVuZGVyZXJSb290PW51bGw7T3BlbkxheWVycy5SZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGNsZWFyOmZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLnZlY3RvclJvb3Q7aWYoYilmb3IoO2E9Yi5maXJzdENoaWxkOyliLnJlbW92ZUNoaWxkKGEpO2lmKGI9dGhpcy50ZXh0Um9vdClmb3IoO2E9Yi5maXJzdENoaWxkOyliLnJlbW92ZUNoaWxkKGEpO3RoaXMuaW5kZXhlciYmCnRoaXMuaW5kZXhlci5jbGVhcigpfSxzZXRFeHRlbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1PcGVuTGF5ZXJzLlJlbmRlcmVyLnByb3RvdHlwZS5zZXRFeHRlbnQuYXBwbHkodGhpcyxhcmd1bWVudHMpLGQ9dGhpcy5nZXRSZXNvbHV0aW9uKCk7aWYodGhpcy5tYXAuYmFzZUxheWVyJiZ0aGlzLm1hcC5iYXNlTGF5ZXIud3JhcERhdGVMaW5lKXt2YXIgZSxmPWEuZ2V0V2lkdGgoKS90aGlzLm1hcC5nZXRFeHRlbnQoKS5nZXRXaWR0aCgpLGE9YS5zY2FsZSgxL2YpLGY9dGhpcy5tYXAuZ2V0TWF4RXh0ZW50KCk7Zi5yaWdodD5hLmxlZnQmJmYucmlnaHQ8YS5yaWdodD9lPSEwOmYubGVmdD5hLmxlZnQmJmYubGVmdDxhLnJpZ2h0JiYoZT0hMSk7aWYoZSE9PXRoaXMucmlnaHRPZkRhdGVMaW5lfHxiKWM9ITEsdGhpcy54T2Zmc2V0PSEwPT09ZT9mLmdldFdpZHRoKCkvZDowO3RoaXMucmlnaHRPZkRhdGVMaW5lPWV9cmV0dXJuIGN9LGdldE5vZGVUeXBlOmZ1bmN0aW9uKCl7fSxkcmF3R2VvbWV0cnk6ZnVuY3Rpb24oYSwKYixjKXt2YXIgZD1hLkNMQVNTX05BTUUsZT0hMDtpZigiT3BlbkxheWVycy5HZW9tZXRyeS5Db2xsZWN0aW9uIj09ZHx8Ik9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlQb2ludCI9PWR8fCJPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpTGluZVN0cmluZyI9PWR8fCJPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpUG9seWdvbiI9PWQpe2Zvcih2YXIgZD0wLGY9YS5jb21wb25lbnRzLmxlbmd0aDtkPGY7ZCsrKWU9dGhpcy5kcmF3R2VvbWV0cnkoYS5jb21wb25lbnRzW2RdLGIsYykmJmU7cmV0dXJuIGV9ZD1lPSExOyJub25lIiE9Yi5kaXNwbGF5JiYoYi5iYWNrZ3JvdW5kR3JhcGhpYz90aGlzLnJlZHJhd0JhY2tncm91bmROb2RlKGEuaWQsYSxiLGMpOmQ9ITAsZT10aGlzLnJlZHJhd05vZGUoYS5pZCxhLGIsYykpO2lmKCExPT1lJiYoYj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhLmlkKSkpYi5fc3R5bGUuYmFja2dyb3VuZEdyYXBoaWMmJihkPSEwKSxiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik7CmQmJihiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEuaWQrdGhpcy5CQUNLR1JPVU5EX0lEX1NVRkZJWCkpJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik7cmV0dXJuIGV9LHJlZHJhd05vZGU6ZnVuY3Rpb24oYSxiLGMsZCl7Yz10aGlzLmFwcGx5RGVmYXVsdFN5bWJvbGl6ZXIoYyk7YT10aGlzLm5vZGVGYWN0b3J5KGEsdGhpcy5nZXROb2RlVHlwZShiLGMpKTthLl9mZWF0dXJlSWQ9ZDthLl9ib3VuZHNCb3R0b209Yi5nZXRCb3VuZHMoKS5ib3R0b207YS5fZ2VvbWV0cnlDbGFzcz1iLkNMQVNTX05BTUU7YS5fc3R5bGU9YztiPXRoaXMuZHJhd0dlb21ldHJ5Tm9kZShhLGIsYyk7aWYoITE9PT1iKXJldHVybiExO2E9Yi5ub2RlO3RoaXMuaW5kZXhlcj8oYz10aGlzLmluZGV4ZXIuaW5zZXJ0KGEpKT90aGlzLnZlY3RvclJvb3QuaW5zZXJ0QmVmb3JlKGEsYyk6dGhpcy52ZWN0b3JSb290LmFwcGVuZENoaWxkKGEpOmEucGFyZW50Tm9kZSE9PXRoaXMudmVjdG9yUm9vdCYmdGhpcy52ZWN0b3JSb290LmFwcGVuZENoaWxkKGEpOwp0aGlzLnBvc3REcmF3KGEpO3JldHVybiBiLmNvbXBsZXRlfSxyZWRyYXdCYWNrZ3JvdW5kTm9kZTpmdW5jdGlvbihhLGIsYyl7Yz1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LGMpO2MuZXh0ZXJuYWxHcmFwaGljPWMuYmFja2dyb3VuZEdyYXBoaWM7Yy5ncmFwaGljWE9mZnNldD1jLmJhY2tncm91bmRYT2Zmc2V0O2MuZ3JhcGhpY1lPZmZzZXQ9Yy5iYWNrZ3JvdW5kWU9mZnNldDtjLmdyYXBoaWNaSW5kZXg9Yy5iYWNrZ3JvdW5kR3JhcGhpY1pJbmRleDtjLmdyYXBoaWNXaWR0aD1jLmJhY2tncm91bmRXaWR0aHx8Yy5ncmFwaGljV2lkdGg7Yy5ncmFwaGljSGVpZ2h0PWMuYmFja2dyb3VuZEhlaWdodHx8Yy5ncmFwaGljSGVpZ2h0O2MuYmFja2dyb3VuZEdyYXBoaWM9bnVsbDtjLmJhY2tncm91bmRYT2Zmc2V0PW51bGw7Yy5iYWNrZ3JvdW5kWU9mZnNldD1udWxsO2MuYmFja2dyb3VuZEdyYXBoaWNaSW5kZXg9bnVsbDtyZXR1cm4gdGhpcy5yZWRyYXdOb2RlKGErdGhpcy5CQUNLR1JPVU5EX0lEX1NVRkZJWCwKYixjLG51bGwpfSxkcmF3R2VvbWV0cnlOb2RlOmZ1bmN0aW9uKGEsYixjKXt2YXIgYz1jfHxhLl9zdHlsZSxkPXtpc0ZpbGxlZDp2b2lkIDA9PT1jLmZpbGw/ITA6Yy5maWxsLGlzU3Ryb2tlZDp2b2lkIDA9PT1jLnN0cm9rZT8hIWMuc3Ryb2tlV2lkdGg6Yy5zdHJva2V9LGU7c3dpdGNoKGIuQ0xBU1NfTkFNRSl7Y2FzZSAiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCI6ITE9PT1jLmdyYXBoaWMmJihkLmlzRmlsbGVkPSExLGQuaXNTdHJva2VkPSExKTtlPXRoaXMuZHJhd1BvaW50KGEsYik7YnJlYWs7Y2FzZSAiT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nIjpkLmlzRmlsbGVkPSExO2U9dGhpcy5kcmF3TGluZVN0cmluZyhhLGIpO2JyZWFrO2Nhc2UgIk9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyI6ZT10aGlzLmRyYXdMaW5lYXJSaW5nKGEsYik7YnJlYWs7Y2FzZSAiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uIjplPXRoaXMuZHJhd1BvbHlnb24oYSxiKTticmVhazsKY2FzZSAiT3BlbkxheWVycy5HZW9tZXRyeS5SZWN0YW5nbGUiOmU9dGhpcy5kcmF3UmVjdGFuZ2xlKGEsYil9YS5fb3B0aW9ucz1kO3JldHVybiExIT1lP3tub2RlOnRoaXMuc2V0U3R5bGUoYSxjLGQsYiksY29tcGxldGU6ZX06ITF9LHBvc3REcmF3OmZ1bmN0aW9uKCl7fSxkcmF3UG9pbnQ6ZnVuY3Rpb24oKXt9LGRyYXdMaW5lU3RyaW5nOmZ1bmN0aW9uKCl7fSxkcmF3TGluZWFyUmluZzpmdW5jdGlvbigpe30sZHJhd1BvbHlnb246ZnVuY3Rpb24oKXt9LGRyYXdSZWN0YW5nbGU6ZnVuY3Rpb24oKXt9LGRyYXdDaXJjbGU6ZnVuY3Rpb24oKXt9LHJlbW92ZVRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSt0aGlzLkxBQkVMX0lEX1NVRkZJWCk7YiYmdGhpcy50ZXh0Um9vdC5yZW1vdmVDaGlsZChiKTsoYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhK3RoaXMuTEFCRUxfT1VUTElORV9TVUZGSVgpKSYmdGhpcy50ZXh0Um9vdC5yZW1vdmVDaGlsZChhKX0sCmdldEZlYXR1cmVJZEZyb21FdmVudDpmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldCxjPWImJmIuY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQ7cmV0dXJuKGM/YzpifHxhLnNyY0VsZW1lbnQpLl9mZWF0dXJlSWR9LGVyYXNlR2VvbWV0cnk6ZnVuY3Rpb24oYSxiKXtpZigiT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aVBvaW50Ij09YS5DTEFTU19OQU1FfHwiT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aUxpbmVTdHJpbmciPT1hLkNMQVNTX05BTUV8fCJPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpUG9seWdvbiI9PWEuQ0xBU1NfTkFNRXx8Ik9wZW5MYXllcnMuR2VvbWV0cnkuQ29sbGVjdGlvbiI9PWEuQ0xBU1NfTkFNRSlmb3IodmFyIGM9MCxkPWEuY29tcG9uZW50cy5sZW5ndGg7YzxkO2MrKyl0aGlzLmVyYXNlR2VvbWV0cnkoYS5jb21wb25lbnRzW2NdLGIpO2Vsc2UgaWYoKGM9T3BlbkxheWVycy5VdGlsLmdldEVsZW1lbnQoYS5pZCkpJiZjLnBhcmVudE5vZGUpYy5nZW9tZXRyeSYmKGMuZ2VvbWV0cnkuZGVzdHJveSgpLApjLmdlb21ldHJ5PW51bGwpLGMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKSx0aGlzLmluZGV4ZXImJnRoaXMuaW5kZXhlci5yZW1vdmUoYyksYy5fc3R5bGUuYmFja2dyb3VuZEdyYXBoaWMmJihjPU9wZW5MYXllcnMuVXRpbC5nZXRFbGVtZW50KGEuaWQrdGhpcy5CQUNLR1JPVU5EX0lEX1NVRkZJWCkpJiZjLnBhcmVudE5vZGUmJmMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKX0sbm9kZUZhY3Rvcnk6ZnVuY3Rpb24oYSxiKXt2YXIgYz1PcGVuTGF5ZXJzLlV0aWwuZ2V0RWxlbWVudChhKTtjP3RoaXMubm9kZVR5cGVDb21wYXJlKGMsYil8fChjLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYyksYz10aGlzLm5vZGVGYWN0b3J5KGEsYikpOmM9dGhpcy5jcmVhdGVOb2RlKGIsYSk7cmV0dXJuIGN9LG5vZGVUeXBlQ29tcGFyZTpmdW5jdGlvbigpe30sY3JlYXRlTm9kZTpmdW5jdGlvbigpe30sbW92ZVJvb3Q6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5yb290O2Eucm9vdC5wYXJlbnROb2RlPT0KdGhpcy5yZW5kZXJlclJvb3QmJihiPWEucm9vdCk7Yi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpO2EucmVuZGVyZXJSb290LmFwcGVuZENoaWxkKGIpfSxnZXRSZW5kZXJMYXllcklkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm9vdC5wYXJlbnROb2RlLnBhcmVudE5vZGUuaWR9LGlzQ29tcGxleFN5bWJvbDpmdW5jdGlvbihhKXtyZXR1cm4iY2lyY2xlIiE9YSYmISFhfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlJlbmRlcmVyLkVsZW1lbnRzIn0pO09wZW5MYXllcnMuQ29udHJvbC5BcmdQYXJzZXI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse2NlbnRlcjpudWxsLHpvb206bnVsbCxsYXllcnM6bnVsbCxkaXNwbGF5UHJvamVjdGlvbjpudWxsLGdldFBhcmFtZXRlcnM6ZnVuY3Rpb24oYSl7dmFyIGE9YXx8d2luZG93LmxvY2F0aW9uLmhyZWYsYj1PcGVuTGF5ZXJzLlV0aWwuZ2V0UGFyYW1ldGVycyhhKSxjPWEuaW5kZXhPZigiIyIpOzA8YyYmKGE9Ij8iK2Euc3Vic3RyaW5nKGMrMSxhLmxlbmd0aCksT3BlbkxheWVycy5VdGlsLmV4dGVuZChiLE9wZW5MYXllcnMuVXRpbC5nZXRQYXJhbWV0ZXJzKGEpKSk7cmV0dXJuIGJ9LHNldE1hcDpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLnNldE1hcC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Zm9yKHZhciBiPTAsYz10aGlzLm1hcC5jb250cm9scy5sZW5ndGg7YjxjO2IrKyl7dmFyIGQ9dGhpcy5tYXAuY29udHJvbHNbYl07aWYoZCE9dGhpcyYmCiJPcGVuTGF5ZXJzLkNvbnRyb2wuQXJnUGFyc2VyIj09ZC5DTEFTU19OQU1FKXtkLmRpc3BsYXlQcm9qZWN0aW9uIT10aGlzLmRpc3BsYXlQcm9qZWN0aW9uJiYodGhpcy5kaXNwbGF5UHJvamVjdGlvbj1kLmRpc3BsYXlQcm9qZWN0aW9uKTticmVha319Yj09dGhpcy5tYXAuY29udHJvbHMubGVuZ3RoJiYoYj10aGlzLmdldFBhcmFtZXRlcnMoKSxiLmxheWVycyYmKHRoaXMubGF5ZXJzPWIubGF5ZXJzLHRoaXMubWFwLmV2ZW50cy5yZWdpc3RlcigiYWRkbGF5ZXIiLHRoaXMsdGhpcy5jb25maWd1cmVMYXllcnMpLHRoaXMuY29uZmlndXJlTGF5ZXJzKCkpLGIubGF0JiZiLmxvbiYmKHRoaXMuY2VudGVyPW5ldyBPcGVuTGF5ZXJzLkxvbkxhdChwYXJzZUZsb2F0KGIubG9uKSxwYXJzZUZsb2F0KGIubGF0KSksYi56b29tJiYodGhpcy56b29tPXBhcnNlRmxvYXQoYi56b29tKSksdGhpcy5tYXAuZXZlbnRzLnJlZ2lzdGVyKCJjaGFuZ2ViYXNlbGF5ZXIiLHRoaXMsdGhpcy5zZXRDZW50ZXIpLAp0aGlzLnNldENlbnRlcigpKSl9LHNldENlbnRlcjpmdW5jdGlvbigpe3RoaXMubWFwLmJhc2VMYXllciYmKHRoaXMubWFwLmV2ZW50cy51bnJlZ2lzdGVyKCJjaGFuZ2ViYXNlbGF5ZXIiLHRoaXMsdGhpcy5zZXRDZW50ZXIpLHRoaXMuZGlzcGxheVByb2plY3Rpb24mJnRoaXMuY2VudGVyLnRyYW5zZm9ybSh0aGlzLmRpc3BsYXlQcm9qZWN0aW9uLHRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSksdGhpcy5tYXAuc2V0Q2VudGVyKHRoaXMuY2VudGVyLHRoaXMuem9vbSkpfSxjb25maWd1cmVMYXllcnM6ZnVuY3Rpb24oKXtpZih0aGlzLmxheWVycy5sZW5ndGg9PXRoaXMubWFwLmxheWVycy5sZW5ndGgpe3RoaXMubWFwLmV2ZW50cy51bnJlZ2lzdGVyKCJhZGRsYXllciIsdGhpcyx0aGlzLmNvbmZpZ3VyZUxheWVycyk7Zm9yKHZhciBhPTAsYj10aGlzLmxheWVycy5sZW5ndGg7YTxiO2ErKyl7dmFyIGM9dGhpcy5tYXAubGF5ZXJzW2FdLGQ9dGhpcy5sYXllcnMuY2hhckF0KGEpOwoiQiI9PWQ/dGhpcy5tYXAuc2V0QmFzZUxheWVyKGMpOigiVCI9PWR8fCJGIj09ZCkmJmMuc2V0VmlzaWJpbGl0eSgiVCI9PWQpfX19LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5BcmdQYXJzZXIifSk7T3BlbkxheWVycy5Db250cm9sLlBlcm1hbGluaz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbCx7YXJnUGFyc2VyQ2xhc3M6T3BlbkxheWVycy5Db250cm9sLkFyZ1BhcnNlcixlbGVtZW50Om51bGwsYW5jaG9yOiExLGJhc2U6IiIsZGlzcGxheVByb2plY3Rpb246bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjKXtudWxsIT09YSYmIm9iamVjdCI9PXR5cGVvZiBhJiYhT3BlbkxheWVycy5VdGlsLmlzRWxlbWVudChhKT8odGhpcy5iYXNlPWRvY3VtZW50LmxvY2F0aW9uLmhyZWYsT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKSxudWxsIT10aGlzLmVsZW1lbnQmJih0aGlzLmVsZW1lbnQ9T3BlbkxheWVycy5VdGlsLmdldEVsZW1lbnQodGhpcy5lbGVtZW50KSkpOihPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbY10pLHRoaXMuZWxlbWVudD1PcGVuTGF5ZXJzLlV0aWwuZ2V0RWxlbWVudChhKSwKdGhpcy5iYXNlPWJ8fGRvY3VtZW50LmxvY2F0aW9uLmhyZWYpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50JiZ0aGlzLmVsZW1lbnQucGFyZW50Tm9kZT09dGhpcy5kaXYmJih0aGlzLmRpdi5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpLHRoaXMuZWxlbWVudD1udWxsKTt0aGlzLm1hcCYmdGhpcy5tYXAuZXZlbnRzLnVucmVnaXN0ZXIoIm1vdmVlbmQiLHRoaXMsdGhpcy51cGRhdGVMaW5rKTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzZXRNYXA6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5zZXRNYXAuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Zvcih2YXIgYj0wLGM9dGhpcy5tYXAuY29udHJvbHMubGVuZ3RoO2I8YztiKyspe3ZhciBkPXRoaXMubWFwLmNvbnRyb2xzW2JdO2lmKGQuQ0xBU1NfTkFNRT09dGhpcy5hcmdQYXJzZXJDbGFzcy5DTEFTU19OQU1FKXtkLmRpc3BsYXlQcm9qZWN0aW9uIT0KdGhpcy5kaXNwbGF5UHJvamVjdGlvbiYmKHRoaXMuZGlzcGxheVByb2plY3Rpb249ZC5kaXNwbGF5UHJvamVjdGlvbik7YnJlYWt9fWI9PXRoaXMubWFwLmNvbnRyb2xzLmxlbmd0aCYmdGhpcy5tYXAuYWRkQ29udHJvbChuZXcgdGhpcy5hcmdQYXJzZXJDbGFzcyh7ZGlzcGxheVByb2plY3Rpb246dGhpcy5kaXNwbGF5UHJvamVjdGlvbn0pKX0sZHJhdzpmdW5jdGlvbigpe09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZHJhdy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7IXRoaXMuZWxlbWVudCYmIXRoaXMuYW5jaG9yJiYodGhpcy5lbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSx0aGlzLmVsZW1lbnQuaW5uZXJIVE1MPU9wZW5MYXllcnMuaTE4bigiUGVybWFsaW5rIiksdGhpcy5lbGVtZW50LmhyZWY9IiIsdGhpcy5kaXYuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KSk7dGhpcy5tYXAuZXZlbnRzLm9uKHttb3ZlZW5kOnRoaXMudXBkYXRlTGluayxjaGFuZ2VsYXllcjp0aGlzLnVwZGF0ZUxpbmssCmNoYW5nZWJhc2VsYXllcjp0aGlzLnVwZGF0ZUxpbmssc2NvcGU6dGhpc30pO3RoaXMudXBkYXRlTGluaygpO3JldHVybiB0aGlzLmRpdn0sdXBkYXRlTGluazpmdW5jdGlvbigpe3ZhciBhPXRoaXMuYW5jaG9yPyIjIjoiPyIsYj10aGlzLmJhc2UsYz1udWxsOy0xIT1iLmluZGV4T2YoIiMiKSYmITE9PXRoaXMuYW5jaG9yJiYoYz1iLnN1YnN0cmluZyhiLmluZGV4T2YoIiMiKSxiLmxlbmd0aCkpOy0xIT1iLmluZGV4T2YoYSkmJihiPWIuc3Vic3RyaW5nKDAsYi5pbmRleE9mKGEpKSk7Yj1iLnNwbGl0KCIjIilbMF0rYStPcGVuTGF5ZXJzLlV0aWwuZ2V0UGFyYW1ldGVyU3RyaW5nKHRoaXMuY3JlYXRlUGFyYW1zKCkpO2MmJihiKz1jKTt0aGlzLmFuY2hvciYmIXRoaXMuZWxlbWVudD93aW5kb3cubG9jYXRpb24uaHJlZj1iOnRoaXMuZWxlbWVudC5ocmVmPWJ9LGNyZWF0ZVBhcmFtczpmdW5jdGlvbihhLGIsYyl7dmFyIGE9YXx8dGhpcy5tYXAuZ2V0Q2VudGVyKCksZD1PcGVuTGF5ZXJzLlV0aWwuZ2V0UGFyYW1ldGVycyh0aGlzLmJhc2UpOwppZihhKXtkLnpvb209Ynx8dGhpcy5tYXAuZ2V0Wm9vbSgpO2I9YS5sYXQ7YT1hLmxvbjt0aGlzLmRpc3BsYXlQcm9qZWN0aW9uJiYoYj1PcGVuTGF5ZXJzLlByb2plY3Rpb24udHJhbnNmb3JtKHt4OmEseTpifSx0aGlzLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCksdGhpcy5kaXNwbGF5UHJvamVjdGlvbiksYT1iLngsYj1iLnkpO2QubGF0PU1hdGgucm91bmQoMUU1KmIpLzFFNTtkLmxvbj1NYXRoLnJvdW5kKDFFNSphKS8xRTU7Yz1jfHx0aGlzLm1hcC5sYXllcnM7ZC5sYXllcnM9IiI7YT0wO2ZvcihiPWMubGVuZ3RoO2E8YjthKyspe3ZhciBlPWNbYV07ZC5sYXllcnM9ZS5pc0Jhc2VMYXllcj9kLmxheWVycysoZT09dGhpcy5tYXAuYmFzZUxheWVyPyJCIjoiMCIpOmQubGF5ZXJzKyhlLmdldFZpc2liaWxpdHkoKT8iVCI6IkYiKX19cmV0dXJuIGR9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5QZXJtYWxpbmsifSk7T3BlbkxheWVycy5MYXllci5UTVM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkxheWVyLkdyaWQse3NlcnZpY2VWZXJzaW9uOiIxLjAuMCIsbGF5ZXJuYW1lOm51bGwsdHlwZTpudWxsLGlzQmFzZUxheWVyOiEwLHRpbGVPcmlnaW46bnVsbCxzZXJ2ZXJSZXNvbHV0aW9uczpudWxsLHpvb21PZmZzZXQ6MCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXTtkLnB1c2goYSxiLHt9LGMpO09wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGQpfSxjbG9uZTpmdW5jdGlvbihhKXtudWxsPT1hJiYoYT1uZXcgT3BlbkxheWVycy5MYXllci5UTVModGhpcy5uYW1lLHRoaXMudXJsLHRoaXMuZ2V0T3B0aW9ucygpKSk7cmV0dXJuIGE9T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5jbG9uZS5hcHBseSh0aGlzLFthXSl9LGdldFVSTDpmdW5jdGlvbihhKXt2YXIgYT10aGlzLmFkanVzdEJvdW5kcyhhKSxiPXRoaXMuZ2V0U2VydmVyUmVzb2x1dGlvbigpLApjPU1hdGgucm91bmQoKGEubGVmdC10aGlzLnRpbGVPcmlnaW4ubG9uKS8oYip0aGlzLnRpbGVTaXplLncpKSxhPU1hdGgucm91bmQoKGEuYm90dG9tLXRoaXMudGlsZU9yaWdpbi5sYXQpLyhiKnRoaXMudGlsZVNpemUuaCkpLGI9dGhpcy5nZXRTZXJ2ZXJab29tKCksYz10aGlzLnNlcnZpY2VWZXJzaW9uKyIvIit0aGlzLmxheWVybmFtZSsiLyIrYisiLyIrYysiLyIrYSsiLiIrdGhpcy50eXBlLGE9dGhpcy51cmw7T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSkmJihhPXRoaXMuc2VsZWN0VXJsKGMsYSkpO3JldHVybiBhK2N9LHNldE1hcDpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkxheWVyLkdyaWQucHJvdG90eXBlLnNldE1hcC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy50aWxlT3JpZ2lufHwodGhpcy50aWxlT3JpZ2luPW5ldyBPcGVuTGF5ZXJzLkxvbkxhdCh0aGlzLm1hcC5tYXhFeHRlbnQubGVmdCx0aGlzLm1hcC5tYXhFeHRlbnQuYm90dG9tKSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuTGF5ZXIuVE1TIn0pO09wZW5MYXllcnMuRm9ybWF0LldDU0NhcGFiaWxpdGllcz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTC5WZXJzaW9uZWRPR0Mse2RlZmF1bHRWZXJzaW9uOiIxLjEuMCIsQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuV0NTQ2FwYWJpbGl0aWVzIn0pO09wZW5MYXllcnMuRm9ybWF0LldDU0NhcGFiaWxpdGllcy52MT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7cmVnRXhlczp7dHJpbVNwYWNlOi9eXHMqfFxzKiQvZyxzcGxpdFNwYWNlOi9ccysvfSxkZWZhdWx0UHJlZml4OiJ3Y3MiLHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PXR5cGVvZiBhJiYoYT1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxbYV0pKTthJiY5PT1hLm5vZGVUeXBlJiYoYT1hLmRvY3VtZW50RWxlbWVudCk7dmFyIGI9e307dGhpcy5yZWFkTm9kZShhLGIpO3JldHVybiBifSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XQ1NDYXBhYmlsaXRpZXMudjEifSk7T3BlbkxheWVycy5Gb3JtYXQuV0NTQ2FwYWJpbGl0aWVzLnYxXzBfMD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LldDU0NhcGFiaWxpdGllcy52MSx7bmFtZXNwYWNlczp7d2NzOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3djcyIseGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiLG93czoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vd3MifSxlcnJvclByb3BlcnR5OiJzZXJ2aWNlIixyZWFkZXJzOnt3Y3M6e1dDU19DYXBhYmlsaXRpZXM6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LFNlcnZpY2U6ZnVuY3Rpb24oYSxiKXtiLnNlcnZpY2U9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuc2VydmljZSl9LG5hbWU6ZnVuY3Rpb24oYSxiKXtiLm5hbWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxsYWJlbDpmdW5jdGlvbihhLGIpe2IubGFiZWw9CnRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sa2V5d29yZHM6ZnVuY3Rpb24oYSxiKXtiLmtleXdvcmRzPVtdO3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLmtleXdvcmRzKX0sa2V5d29yZDpmdW5jdGlvbihhLGIpe2IucHVzaCh0aGlzLmdldENoaWxkVmFsdWUoYSkpfSxyZXNwb25zaWJsZVBhcnR5OmZ1bmN0aW9uKGEsYil7Yi5yZXNwb25zaWJsZVBhcnR5PXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnJlc3BvbnNpYmxlUGFydHkpfSxpbmRpdmlkdWFsTmFtZTpmdW5jdGlvbihhLGIpe2IuaW5kaXZpZHVhbE5hbWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxvcmdhbmlzYXRpb25OYW1lOmZ1bmN0aW9uKGEsYil7Yi5vcmdhbmlzYXRpb25OYW1lPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0scG9zaXRpb25OYW1lOmZ1bmN0aW9uKGEsYil7Yi5wb3NpdGlvbk5hbWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxjb250YWN0SW5mbzpmdW5jdGlvbihhLGIpe2IuY29udGFjdEluZm89e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLApiLmNvbnRhY3RJbmZvKX0scGhvbmU6ZnVuY3Rpb24oYSxiKXtiLnBob25lPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnBob25lKX0sdm9pY2U6ZnVuY3Rpb24oYSxiKXtiLnZvaWNlPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sZmFjc2ltaWxlOmZ1bmN0aW9uKGEsYil7Yi5mYWNzaW1pbGU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxhZGRyZXNzOmZ1bmN0aW9uKGEsYil7Yi5hZGRyZXNzPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLmFkZHJlc3MpfSxkZWxpdmVyeVBvaW50OmZ1bmN0aW9uKGEsYil7Yi5kZWxpdmVyeVBvaW50PXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sY2l0eTpmdW5jdGlvbihhLGIpe2IuY2l0eT10aGlzLmdldENoaWxkVmFsdWUoYSl9LHBvc3RhbENvZGU6ZnVuY3Rpb24oYSxiKXtiLnBvc3RhbENvZGU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxjb3VudHJ5OmZ1bmN0aW9uKGEsYil7Yi5jb3VudHJ5PXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sZWxlY3Ryb25pY01haWxBZGRyZXNzOmZ1bmN0aW9uKGEsCmIpe2IuZWxlY3Ryb25pY01haWxBZGRyZXNzPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sZmVlczpmdW5jdGlvbihhLGIpe2IuZmVlcz10aGlzLmdldENoaWxkVmFsdWUoYSl9LGFjY2Vzc0NvbnN0cmFpbnRzOmZ1bmN0aW9uKGEsYil7Yi5hY2Nlc3NDb25zdHJhaW50cz10aGlzLmdldENoaWxkVmFsdWUoYSl9LENvbnRlbnRNZXRhZGF0YTpmdW5jdGlvbihhLGIpe2IuY29udGVudE1ldGFkYXRhPVtdO3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLmNvbnRlbnRNZXRhZGF0YSl9LENvdmVyYWdlT2ZmZXJpbmdCcmllZjpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLnB1c2goYyl9LG5hbWU6ZnVuY3Rpb24oYSxiKXtiLm5hbWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxsYWJlbDpmdW5jdGlvbihhLGIpe2IubGFiZWw9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxsb25MYXRFbnZlbG9wZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLAoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwiLCJwb3MiKTtpZigyPT1jLmxlbmd0aCl7dmFyIGQ9e30sZT17fTtPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjMucHJvdG90eXBlLnJlYWRlcnMuZ21sLnBvcy5hcHBseSh0aGlzLFtjWzBdLGRdKTtPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjMucHJvdG90eXBlLnJlYWRlcnMuZ21sLnBvcy5hcHBseSh0aGlzLFtjWzFdLGVdKTtiLmxvbkxhdEVudmVsb3BlPXt9O2IubG9uTGF0RW52ZWxvcGUuc3JzTmFtZT1hLmdldEF0dHJpYnV0ZSgic3JzTmFtZSIpO2IubG9uTGF0RW52ZWxvcGUubWluPWQucG9pbnRzWzBdO2IubG9uTGF0RW52ZWxvcGUubWF4PWUucG9pbnRzWzBdfX19fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XQ1NDYXBhYmlsaXRpZXMudjFfMF8wIn0pO09wZW5MYXllcnMuTGFuZy5zdj1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7dW5oYW5kbGVkUmVxdWVzdDoiRWogaGFudGVyYWQgZnJcdTAwZTVnYSByZXR1ciAke3N0YXR1c1RleHR9IixQZXJtYWxpbms6IlBlcm1hbFx1MDBlNG5rIixPdmVybGF5czoiS2FydGxhZ2VyIiwiQmFzZSBMYXllciI6IkJha2dydW5kc2thcnRhIixub0ZJRDoiS2FuIGVqIHVwcGRhdGVyYSBmZWF0dXJlIChvYmpla3QpIGZcdTAwZjZyIHZpbGtldCBGSUQgc2FrbmFzLiIsYnJvd3Nlck5vdFN1cHBvcnRlZDoiRGluIHdlYmJsXHUwMGU0c2FyZSBzdFx1MDBmNmRlciBpbnRlIHZla3RvcnZpc25pbmcuIEZcdTAwZjZyIG5cdTAwZTRydmFyYW5kZSBzdFx1MDBmNmRzIGZcdTAwZjZsamFuZGUgdmlzbmluZzpcbiR7cmVuZGVyZXJzfSIsbWluWm9vbUxldmVsRXJyb3I6IkVnZW5za2FwZW4gbWluWm9vbUxldmVsIFx1MDBlNHIgZW5kYXN0IGF2c2VkZCBhdHQgYW52XHUwMGU0bmRhcyBtZWQgbGFnZXIgbWVkIEZpeGVkWm9vbUxldmVscy4gQXR0IGRldHRhIFdGUy1sYWdlciBrb250cm9sbGVyYXIgbWluWm9vbUxldmVsIFx1MDBlNHIgZW4gcmVsaWsgZnJcdTAwZTVuIFx1MDBlNGxkcmUgdmVyc2lvbmVyLiBWaSBrYW4gZG9jayBpbnRlIHRhIGJvcnQgZGV0IHV0YW4gYXR0IHJpc2tlcmEgYXR0IE9MLWJhc2VyYWRlIHRpbGxcdTAwZTRtcG5pbmdhciBzb20gYW52XHUwMGU0bmRlciBkZXR0YSBzbHV0YXIgZnVuZ2VyYS4gRFx1MDBlNHJmXHUwMGY2ciBcdTAwZTRyIGRldCBzYXR0IHNvbSBkZXByZWNhdGVkLCBtaW5ab29tTGV2ZWwga29tbWVyIGF0dCB0YXMgYm9ydCBpIHZlcnNpb24gMy4wLiBBbnZcdTAwZTRuZCBpIHN0XHUwMGU0bGxldCBpbnN0XHUwMGU0bGxuaW5nIGF2IG1pbi9tYXggcmVzb2x1dGlvbiBzb20gYmVza3JpdnMgaFx1MDBlNHI6IGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU2V0dGluZ1pvb21MZXZlbHMiLApjb21taXRTdWNjZXNzOiJXRlMtdHJhbnNha3Rpb246IExZQ0tBREVTICR7cmVzcG9uc2V9Iixjb21taXRGYWlsZWQ6IldGUy10cmFuc2FrdGlvbjogTUlTU0xZQ0tBREVTICR7cmVzcG9uc2V9Iixnb29nbGVXYXJuaW5nOiJHb29nbGUtbGFncmV0IGt1bmRlIGludGUgbGFkZGFzIGtvcnJla3QuPGJyPjxicj5GXHUwMGY2ciBhdHQgc2xpcHBhIGRldHRhIG1lZGRlbGFuZGUsIHZcdTAwZTRsaiBlbiBhbm5hbiBiYWtncnVuZHNrYXJ0YSBpIGxhZ2Vydlx1MDBlNGxqYXJlbiBpIFx1MDBmNnZyZSBoXHUwMGY2Z3JhIGhcdTAwZjZybmV0Ljxicj48YnI+U2Fubm9saWt0IGJlcm9yIGZlbGV0IHBcdTAwZTUgYXR0IEdvb2dsZSBNYXBzLWJpYmxpb3Rla2V0IGludGUgXHUwMGU0ciBpbmtsdWRlcmF0IHBcdTAwZTUgd2ViYnNpZGFuIGVsbGVyIHBcdTAwZTUgYXR0IHNpZGFuIGludGUgYW5nZXIga29ycmVrdCBBUEktbnlja2VsIGZcdTAwZjZyIHdlYmJwbGF0c2VuLjxicj48YnI+VXR2ZWNrbGFyZTogaGpcdTAwZTRscCBmXHUwMGY2ciBhdHQgXHUwMGU1dGdcdTAwZTRyZGEgZGV0dGEsIDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvR29vZ2xlJyB0YXJnZXQ9J19ibGFuayc+a2xpY2thIGhcdTAwZTRyPC9hPi4iLApnZXRMYXllcldhcm5pbmc6IiR7bGF5ZXJUeXBlfS1sYWdyZXQga3VuZGUgaW50ZSBsYWRkYXMga29ycmVrdC48YnI+PGJyPkZcdTAwZjZyIGF0dCBzbGlwcGEgZGV0dGEgbWVkZGVsYW5kZSwgdlx1MDBlNGxqIGVuIGFubmFuIGJha2dydW5kc2thcnRhIGkgbGFnZXJ2XHUwMGU0bGphcmVuIGkgXHUwMGY2dnJlIGhcdTAwZjZncmEgaFx1MDBmNnJuZXQuPGJyPjxicj5TYW5ub2xpa3QgYmVyb3IgZmVsZXQgcFx1MDBlNSBhdHQgJHtsYXllckxpYn0tYmlibGlvdGVrZXQgaW50ZSBcdTAwZTRyIGlua2x1ZGVyYXQgcFx1MDBlNSB3ZWJic2lkYW4uPGJyPjxicj5VdHZlY2tsYXJlOiBoalx1MDBlNGxwIGZcdTAwZjZyIGF0dCBcdTAwZTV0Z1x1MDBlNHJkYSBkZXR0YSwgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS8ke2xheWVyTGlifScgdGFyZ2V0PSdfYmxhbmsnPmtsaWNrYSBoXHUwMGU0cjwvYT4uIiwiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6IjxzdHJvbmc+U2thbGE8L3N0cm9uZz4gMSA6ICR7c2NhbGVEZW5vbX0iLApyZXByb2plY3REZXByZWNhdGVkOiJEdSBhbnZcdTAwZTRuZGVyIGluc3RcdTAwZTRsbG5pbmdlbiAncmVwcm9qZWN0JyBwXHUwMGU1IGxhZ3JldCAke2xheWVyTmFtZX0uIERlbm5hIGluc3RcdTAwZTRsbG5pbmcgbWFya2VyYWQgc29tIGRlcHJlY2F0ZWQ6IGRlbiB2YXIgYXZzZWRkIGF0dCBhbnZcdTAwZTRuZGFzIGZcdTAwZjZyIGF0dCBzdFx1MDBmNmRqYSB2aXNuaW5nIGF2IGthcnRkYXRhIHBcdTAwZTUga29tbWVyc2llbGxhIGJha2dydW5kc2thcnRvciwgbWVuIG51IGJcdTAwZjZyIG1hbiBpIHN0XHUwMGU0bGxldCBhbnZcdTAwZTRuZGEgU3BoZXJpY2FsIE1lcmNhdG9yLXN0XHUwMGY2ZCBmXHUwMGY2ciBkZW4gZnVua3Rpb25hbGl0ZXRlbi4gTWVyIGluZm9ybWF0aW9uIGZpbm5zIHBcdTAwZTUgaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TcGhlcmljYWxNZXJjYXRvci4iLG1ldGhvZERlcHJlY2F0ZWQ6IkRlbm5hIG1ldG9kIFx1MDBlNHIgbWFya2VyYWQgc29tIGRlcHJlY2F0ZWQgb2NoIGtvbW1lciBhdHQgdGFzIGJvcnQgaSAzLjAuIEFudlx1MDBlNG5kICR7bmV3TWV0aG9kfSBpIHN0XHUwMGU0bGxldC4ifSk7T3BlbkxheWVycy5TdHJhdGVneS5GaXhlZD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuU3RyYXRlZ3kse3ByZWxvYWQ6ITEsYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgYT1PcGVuTGF5ZXJzLlN0cmF0ZWd5LnByb3RvdHlwZS5hY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoYSlpZih0aGlzLmxheWVyLmV2ZW50cy5vbih7cmVmcmVzaDp0aGlzLmxvYWQsc2NvcGU6dGhpc30pLCEwPT10aGlzLmxheWVyLnZpc2liaWxpdHl8fHRoaXMucHJlbG9hZCl0aGlzLmxvYWQoKTtlbHNlIHRoaXMubGF5ZXIuZXZlbnRzLm9uKHt2aXNpYmlsaXR5Y2hhbmdlZDp0aGlzLmxvYWQsc2NvcGU6dGhpc30pO3JldHVybiBhfSxkZWFjdGl2YXRlOmZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5TdHJhdGVneS5wcm90b3R5cGUuZGVhY3RpdmF0ZS5jYWxsKHRoaXMpO2EmJnRoaXMubGF5ZXIuZXZlbnRzLnVuKHtyZWZyZXNoOnRoaXMubG9hZCx2aXNpYmlsaXR5Y2hhbmdlZDp0aGlzLmxvYWQsCnNjb3BlOnRoaXN9KTtyZXR1cm4gYX0sbG9hZDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmxheWVyO2IuZXZlbnRzLnRyaWdnZXJFdmVudCgibG9hZHN0YXJ0Iix7ZmlsdGVyOmIuZmlsdGVyfSk7Yi5wcm90b2NvbC5yZWFkKE9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtjYWxsYmFjazp0aGlzLm1lcmdlLGZpbHRlcjpiLmZpbHRlcixzY29wZTp0aGlzfSxhKSk7Yi5ldmVudHMudW4oe3Zpc2liaWxpdHljaGFuZ2VkOnRoaXMubG9hZCxzY29wZTp0aGlzfSl9LG1lcmdlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubGF5ZXI7Yi5kZXN0cm95RmVhdHVyZXMoKTt2YXIgYz1hLmZlYXR1cmVzO2lmKGMmJjA8Yy5sZW5ndGgpe3ZhciBkPWIucHJvamVjdGlvbixlPWIubWFwLmdldFByb2plY3Rpb25PYmplY3QoKTtpZighZS5lcXVhbHMoZCkpZm9yKHZhciBmLGc9MCxoPWMubGVuZ3RoO2c8aDsrK2cpKGY9Y1tnXS5nZW9tZXRyeSkmJmYudHJhbnNmb3JtKGQsZSk7Yi5hZGRGZWF0dXJlcyhjKX1iLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvYWRlbmQiLAp7cmVzcG9uc2U6YX0pfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlN0cmF0ZWd5LkZpeGVkIn0pO09wZW5MYXllcnMuU3ltYm9saXplci5MaW5lPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5TeW1ib2xpemVyLHtpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuU3ltYm9saXplci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuU3ltYm9saXplci5MaW5lIn0pO09wZW5MYXllcnMuQ29udHJvbC5ab29tPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHt6b29tSW5UZXh0OiIrIix6b29tSW5JZDoib2xab29tSW5MaW5rIix6b29tT3V0VGV4dDoiXHUyMjEyIix6b29tT3V0SWQ6Im9sWm9vbU91dExpbmsiLGRyYXc6ZnVuY3Rpb24oKXt2YXIgYT1PcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRyYXcuYXBwbHkodGhpcyksYj10aGlzLmdldE9yQ3JlYXRlTGlua3MoYSksYz1iLnpvb21JbixiPWIuem9vbU91dCxkPXRoaXMubWFwLmV2ZW50cztiLnBhcmVudE5vZGUhPT1hJiYoZD10aGlzLmV2ZW50cyxkLmF0dGFjaFRvRWxlbWVudChiLnBhcmVudE5vZGUpKTtkLnJlZ2lzdGVyKCJidXR0b25jbGljayIsdGhpcyx0aGlzLm9uWm9vbUNsaWNrKTt0aGlzLnpvb21Jbkxpbms9Yzt0aGlzLnpvb21PdXRMaW5rPWI7cmV0dXJuIGF9LGdldE9yQ3JlYXRlTGlua3M6ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy56b29tSW5JZCksCmM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy56b29tT3V0SWQpO2J8fChiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSxiLmhyZWY9IiN6b29tSW4iLGIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy56b29tSW5UZXh0KSksYi5jbGFzc05hbWU9Im9sQ29udHJvbFpvb21JbiIsYS5hcHBlbmRDaGlsZChiKSk7T3BlbkxheWVycy5FbGVtZW50LmFkZENsYXNzKGIsIm9sQnV0dG9uIik7Y3x8KGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpLGMuaHJlZj0iI3pvb21PdXQiLGMuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy56b29tT3V0VGV4dCkpLGMuY2xhc3NOYW1lPSJvbENvbnRyb2xab29tT3V0IixhLmFwcGVuZENoaWxkKGMpKTtPcGVuTGF5ZXJzLkVsZW1lbnQuYWRkQ2xhc3MoYywib2xCdXR0b24iKTtyZXR1cm57em9vbUluOmIsem9vbU91dDpjfX0sb25ab29tQ2xpY2s6ZnVuY3Rpb24oYSl7YT1hLmJ1dHRvbkVsZW1lbnQ7CmE9PT10aGlzLnpvb21Jbkxpbms/dGhpcy5tYXAuem9vbUluKCk6YT09PXRoaXMuem9vbU91dExpbmsmJnRoaXMubWFwLnpvb21PdXQoKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMubWFwJiZ0aGlzLm1hcC5ldmVudHMudW5yZWdpc3RlcigiYnV0dG9uY2xpY2siLHRoaXMsdGhpcy5vblpvb21DbGljayk7ZGVsZXRlIHRoaXMuem9vbUluTGluaztkZWxldGUgdGhpcy56b29tT3V0TGluaztPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5ab29tIn0pO09wZW5MYXllcnMuTGF5ZXIuUG9pbnRUcmFjaz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIuVmVjdG9yLHtkYXRhRnJvbTpudWxsLHN0eWxlRnJvbTpudWxsLGFkZE5vZGVzOmZ1bmN0aW9uKGEsYil7aWYoMj5hLmxlbmd0aCl0aHJvdyBFcnJvcigiQXQgbGVhc3QgdHdvIHBvaW50IGZlYXR1cmVzIGhhdmUgdG8gYmUgYWRkZWQgdG8gY3JlYXRlIGEgbGluZSBmcm9tIik7Zm9yKHZhciBjPUFycmF5KGEubGVuZ3RoLTEpLGQsZSxmLGc9MCxoPWEubGVuZ3RoO2c8aDtnKyspe2Q9YVtnXTtpZihmPWQuZ2VvbWV0cnkpe2lmKCJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50IiE9Zi5DTEFTU19OQU1FKXRocm93IG5ldyBUeXBlRXJyb3IoIk9ubHkgZmVhdHVyZXMgd2l0aCBwb2ludCBnZW9tZXRyaWVzIGFyZSBzdXBwb3J0ZWQuIik7fWVsc2UgZj1kLmxvbmxhdCxmPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGYubG9uLGYubGF0KTtpZigwPGcpe2Q9bnVsbCE9dGhpcy5kYXRhRnJvbT8KYVtnK3RoaXMuZGF0YUZyb21dLmRhdGF8fGFbZyt0aGlzLmRhdGFGcm9tXS5hdHRyaWJ1dGVzOm51bGw7dmFyIGk9bnVsbCE9dGhpcy5zdHlsZUZyb20/YVtnK3RoaXMuc3R5bGVGcm9tXS5zdHlsZTpudWxsO2U9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZyhbZSxmXSk7Y1tnLTFdPW5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKGUsZCxpKX1lPWZ9dGhpcy5hZGRGZWF0dXJlcyhjLGIpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLlBvaW50VHJhY2sifSk7T3BlbkxheWVycy5MYXllci5Qb2ludFRyYWNrLlNPVVJDRV9OT0RFPS0xO09wZW5MYXllcnMuTGF5ZXIuUG9pbnRUcmFjay5UQVJHRVRfTk9ERT0wO09wZW5MYXllcnMuTGF5ZXIuUG9pbnRUcmFjay5kYXRhRnJvbT17U09VUkNFX05PREU6LTEsVEFSR0VUX05PREU6MH07T3BlbkxheWVycy5Qcm90b2NvbC5XRlM9ZnVuY3Rpb24oYSl7dmFyIGE9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYSxPcGVuTGF5ZXJzLlByb3RvY29sLldGUy5ERUZBVUxUUyksYj1PcGVuTGF5ZXJzLlByb3RvY29sLldGU1sidiIrYS52ZXJzaW9uLnJlcGxhY2UoL1wuL2csIl8iKV07aWYoIWIpdGhyb3ciVW5zdXBwb3J0ZWQgV0ZTIHZlcnNpb246ICIrYS52ZXJzaW9uO3JldHVybiBuZXcgYihhKX07Ck9wZW5MYXllcnMuUHJvdG9jb2wuV0ZTLmZyb21XTVNMYXllcj1mdW5jdGlvbihhLGIpe3ZhciBjLGQ7Yz1hLnBhcmFtcy5MQVlFUlM7Yz0oT3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYyk/Y1swXTpjKS5zcGxpdCgiOiIpOzE8Yy5sZW5ndGgmJihkPWNbMF0pO2M9Yy5wb3AoKTtkPXt1cmw6YS51cmwsZmVhdHVyZVR5cGU6YyxmZWF0dXJlUHJlZml4OmQsc3JzTmFtZTphLnByb2plY3Rpb24mJmEucHJvamVjdGlvbi5nZXRDb2RlKCl8fGEubWFwJiZhLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCkuZ2V0Q29kZSgpLHZlcnNpb246IjEuMS4wIn07cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLlByb3RvY29sLldGUyhPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhiLGQpKX07T3BlbkxheWVycy5Qcm90b2NvbC5XRlMuREVGQVVMVFM9e3ZlcnNpb246IjEuMC4wIn07T3BlbkxheWVycy5MYXllci5NYXJrZXJzPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllcix7aXNCYXNlTGF5ZXI6ITEsbWFya2VyczpudWxsLGRyYXduOiExLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLm1hcmtlcnM9W119LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmNsZWFyTWFya2VycygpO3RoaXMubWFya2Vycz1udWxsO09wZW5MYXllcnMuTGF5ZXIucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzZXRPcGFjaXR5OmZ1bmN0aW9uKGEpe2lmKGEhPXRoaXMub3BhY2l0eSl7dGhpcy5vcGFjaXR5PWE7Zm9yKHZhciBhPTAsYj10aGlzLm1hcmtlcnMubGVuZ3RoO2E8YjthKyspdGhpcy5tYXJrZXJzW2FdLnNldE9wYWNpdHkodGhpcy5vcGFjaXR5KX19LG1vdmVUbzpmdW5jdGlvbihhLGIsYyl7T3BlbkxheWVycy5MYXllci5wcm90b3R5cGUubW92ZVRvLmFwcGx5KHRoaXMsCmFyZ3VtZW50cyk7aWYoYnx8IXRoaXMuZHJhd24pe2Zvcih2YXIgZD0wLGU9dGhpcy5tYXJrZXJzLmxlbmd0aDtkPGU7ZCsrKXRoaXMuZHJhd01hcmtlcih0aGlzLm1hcmtlcnNbZF0pO3RoaXMuZHJhd249ITB9fSxhZGRNYXJrZXI6ZnVuY3Rpb24oYSl7dGhpcy5tYXJrZXJzLnB1c2goYSk7MT50aGlzLm9wYWNpdHkmJmEuc2V0T3BhY2l0eSh0aGlzLm9wYWNpdHkpO3RoaXMubWFwJiZ0aGlzLm1hcC5nZXRFeHRlbnQoKSYmKGEubWFwPXRoaXMubWFwLHRoaXMuZHJhd01hcmtlcihhKSl9LHJlbW92ZU1hcmtlcjpmdW5jdGlvbihhKXt0aGlzLm1hcmtlcnMmJnRoaXMubWFya2Vycy5sZW5ndGgmJihPcGVuTGF5ZXJzLlV0aWwucmVtb3ZlSXRlbSh0aGlzLm1hcmtlcnMsYSksYS5lcmFzZSgpKX0sY2xlYXJNYXJrZXJzOmZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5tYXJrZXJzKWZvcig7MDx0aGlzLm1hcmtlcnMubGVuZ3RoOyl0aGlzLnJlbW92ZU1hcmtlcih0aGlzLm1hcmtlcnNbMF0pfSwKZHJhd01hcmtlcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm1hcC5nZXRMYXllclB4RnJvbUxvbkxhdChhLmxvbmxhdCk7bnVsbD09Yj9hLmRpc3BsYXkoITEpOmEuaXNEcmF3bigpP2EuaWNvbiYmYS5pY29uLm1vdmVUbyhiKTooYT1hLmRyYXcoYiksdGhpcy5kaXYuYXBwZW5kQ2hpbGQoYSkpfSxnZXREYXRhRXh0ZW50OmZ1bmN0aW9uKCl7dmFyIGE9bnVsbDtpZih0aGlzLm1hcmtlcnMmJjA8dGhpcy5tYXJrZXJzLmxlbmd0aClmb3IodmFyIGE9bmV3IE9wZW5MYXllcnMuQm91bmRzLGI9MCxjPXRoaXMubWFya2Vycy5sZW5ndGg7YjxjO2IrKylhLmV4dGVuZCh0aGlzLm1hcmtlcnNbYl0ubG9ubGF0KTtyZXR1cm4gYX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5NYXJrZXJzIn0pO09wZW5MYXllcnMuQ29udHJvbC5QYW49T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wuQnV0dG9uLHtzbGlkZUZhY3Rvcjo1MCxzbGlkZVJhdGlvOm51bGwsZGlyZWN0aW9uOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIpe3RoaXMuZGlyZWN0aW9uPWE7dGhpcy5DTEFTU19OQU1FKz10aGlzLmRpcmVjdGlvbjtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYl0pfSx0cmlnZ2VyOmZ1bmN0aW9uKCl7aWYodGhpcy5tYXApe3ZhciBhPU9wZW5MYXllcnMuRnVuY3Rpb24uYmluZChmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zbGlkZVJhdGlvP3RoaXMubWFwLmdldFNpemUoKVthXSp0aGlzLnNsaWRlUmF0aW86dGhpcy5zbGlkZUZhY3Rvcn0sdGhpcyk7c3dpdGNoKHRoaXMuZGlyZWN0aW9uKXtjYXNlIE9wZW5MYXllcnMuQ29udHJvbC5QYW4uTk9SVEg6dGhpcy5tYXAucGFuKDAsLWEoImgiKSk7YnJlYWs7Y2FzZSBPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuLlNPVVRIOnRoaXMubWFwLnBhbigwLAphKCJoIikpO2JyZWFrO2Nhc2UgT3BlbkxheWVycy5Db250cm9sLlBhbi5XRVNUOnRoaXMubWFwLnBhbigtYSgidyIpLDApO2JyZWFrO2Nhc2UgT3BlbkxheWVycy5Db250cm9sLlBhbi5FQVNUOnRoaXMubWFwLnBhbihhKCJ3IiksMCl9fX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLlBhbiJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuLk5PUlRIPSJOb3J0aCI7T3BlbkxheWVycy5Db250cm9sLlBhbi5TT1VUSD0iU291dGgiO09wZW5MYXllcnMuQ29udHJvbC5QYW4uRUFTVD0iRWFzdCI7T3BlbkxheWVycy5Db250cm9sLlBhbi5XRVNUPSJXZXN0IjtPcGVuTGF5ZXJzLkZvcm1hdC5DU1dHZXREb21haW49ZnVuY3Rpb24oYSl7dmFyIGE9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYSxPcGVuTGF5ZXJzLkZvcm1hdC5DU1dHZXREb21haW4uREVGQVVMVFMpLGI9T3BlbkxheWVycy5Gb3JtYXQuQ1NXR2V0RG9tYWluWyJ2IithLnZlcnNpb24ucmVwbGFjZSgvXC4vZywiXyIpXTtpZighYil0aHJvdyJVbnN1cHBvcnRlZCBDU1dHZXREb21haW4gdmVyc2lvbjogIithLnZlcnNpb247cmV0dXJuIG5ldyBiKGEpfTtPcGVuTGF5ZXJzLkZvcm1hdC5DU1dHZXREb21haW4uREVGQVVMVFM9e3ZlcnNpb246IjIuMC4yIn07T3BlbkxheWVycy5Gb3JtYXQuQ1NXR2V0RG9tYWluLnYyXzBfMj1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7bmFtZXNwYWNlczp7eGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiLGNzdzoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9jYXQvY3N3LzIuMC4yIn0sZGVmYXVsdFByZWZpeDoiY3N3Iix2ZXJzaW9uOiIyLjAuMiIsc2NoZW1hTG9jYXRpb246Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvY2F0L2Nzdy8yLjAuMiBodHRwOi8vc2NoZW1hcy5vcGVuZ2lzLm5ldC9jc3cvMi4wLjIvQ1NXLWRpc2NvdmVyeS54c2QiLFByb3BlcnR5TmFtZTpudWxsLFBhcmFtZXRlck5hbWU6bnVsbCxyZWFkOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7YSYmOT09CmEubm9kZVR5cGUmJihhPWEuZG9jdW1lbnRFbGVtZW50KTt2YXIgYj17fTt0aGlzLnJlYWROb2RlKGEsYik7cmV0dXJuIGJ9LHJlYWRlcnM6e2Nzdzp7R2V0RG9tYWluUmVzcG9uc2U6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LERvbWFpblZhbHVlczpmdW5jdGlvbihhLGIpe09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGIuRG9tYWluVmFsdWVzKXx8KGIuRG9tYWluVmFsdWVzPVtdKTtmb3IodmFyIGM9YS5hdHRyaWJ1dGVzLGQ9e30sZT0wLGY9Yy5sZW5ndGg7ZTxmOysrZSlkW2NbZV0ubmFtZV09Y1tlXS5ub2RlVmFsdWU7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGQpO2IuRG9tYWluVmFsdWVzLnB1c2goZCl9LFByb3BlcnR5TmFtZTpmdW5jdGlvbihhLGIpe2IuUHJvcGVydHlOYW1lPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sUGFyYW1ldGVyTmFtZTpmdW5jdGlvbihhLGIpe2IuUGFyYW1ldGVyTmFtZT10aGlzLmdldENoaWxkVmFsdWUoYSl9LExpc3RPZlZhbHVlczpmdW5jdGlvbihhLApiKXtPcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShiLkxpc3RPZlZhbHVlcyl8fChiLkxpc3RPZlZhbHVlcz1bXSk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuTGlzdE9mVmFsdWVzKX0sVmFsdWU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9YS5hdHRyaWJ1dGVzLGQ9e30sZT0wLGY9Yy5sZW5ndGg7ZTxmOysrZSlkW2NbZV0ubmFtZV09Y1tlXS5ub2RlVmFsdWU7ZC52YWx1ZT10aGlzLmdldENoaWxkVmFsdWUoYSk7Yi5wdXNoKHtWYWx1ZTpkfSl9LENvbmNlcHR1YWxTY2hlbWU6ZnVuY3Rpb24oYSxiKXtiLkNvbmNlcHR1YWxTY2hlbWU9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuQ29uY2VwdHVhbFNjaGVtZSl9LE5hbWU6ZnVuY3Rpb24oYSxiKXtiLk5hbWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxEb2N1bWVudDpmdW5jdGlvbihhLGIpe2IuRG9jdW1lbnQ9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxBdXRob3JpdHk6ZnVuY3Rpb24oYSxiKXtiLkF1dGhvcml0eT10aGlzLmdldENoaWxkVmFsdWUoYSl9LApSYW5nZU9mVmFsdWVzOmZ1bmN0aW9uKGEsYil7Yi5SYW5nZU9mVmFsdWVzPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLlJhbmdlT2ZWYWx1ZXMpfSxNaW5WYWx1ZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1hLmF0dHJpYnV0ZXMsZD17fSxlPTAsZj1jLmxlbmd0aDtlPGY7KytlKWRbY1tlXS5uYW1lXT1jW2VdLm5vZGVWYWx1ZTtkLnZhbHVlPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKTtiLk1pblZhbHVlPWR9LE1heFZhbHVlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWEuYXR0cmlidXRlcyxkPXt9LGU9MCxmPWMubGVuZ3RoO2U8ZjsrK2UpZFtjW2VdLm5hbWVdPWNbZV0ubm9kZVZhbHVlO2QudmFsdWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpO2IuTWF4VmFsdWU9ZH19fSx3cml0ZTpmdW5jdGlvbihhKXthPXRoaXMud3JpdGVOb2RlKCJjc3c6R2V0RG9tYWluIixhKTtyZXR1cm4gT3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS53cml0ZS5hcHBseSh0aGlzLFthXSl9LHdyaXRlcnM6e2Nzdzp7R2V0RG9tYWluOmZ1bmN0aW9uKGEpe3ZhciBiPQp0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImNzdzpHZXREb21haW4iLHthdHRyaWJ1dGVzOntzZXJ2aWNlOiJDU1ciLHZlcnNpb246dGhpcy52ZXJzaW9ufX0pO2lmKGEuUHJvcGVydHlOYW1lfHx0aGlzLlByb3BlcnR5TmFtZSl0aGlzLndyaXRlTm9kZSgiY3N3OlByb3BlcnR5TmFtZSIsYS5Qcm9wZXJ0eU5hbWV8fHRoaXMuUHJvcGVydHlOYW1lLGIpO2Vsc2UgaWYoYS5QYXJhbWV0ZXJOYW1lfHx0aGlzLlBhcmFtZXRlck5hbWUpdGhpcy53cml0ZU5vZGUoImNzdzpQYXJhbWV0ZXJOYW1lIixhLlBhcmFtZXRlck5hbWV8fHRoaXMuUGFyYW1ldGVyTmFtZSxiKTt0aGlzLnJlYWRDaGlsZE5vZGVzKGIsYSk7cmV0dXJuIGJ9LFByb3BlcnR5TmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJjc3c6UHJvcGVydHlOYW1lIix7dmFsdWU6YX0pfSxQYXJhbWV0ZXJOYW1lOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImNzdzpQYXJhbWV0ZXJOYW1lIiwKe3ZhbHVlOmF9KX19fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5DU1dHZXREb21haW4udjJfMF8yIn0pO09wZW5MYXllcnMuRm9ybWF0LkFyY1hNTC5GZWF0dXJlcz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7cmVhZDpmdW5jdGlvbihhKXtyZXR1cm4obmV3IE9wZW5MYXllcnMuRm9ybWF0LkFyY1hNTCkucmVhZChhKS5mZWF0dXJlcy5mZWF0dXJlfX0pO09wZW5MYXllcnMuTGFuZy5nc3c9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3VuaGFuZGxlZFJlcXVlc3Q6Ik5pdCBiZWhhbmRsZXRpIEFhZnJvZ3NydWNrbVx1MDBlNGxkaWcgJHtzdGF0dXNUZXh0fSIsUGVybWFsaW5rOiJQZXJtYWxpbmsiLE92ZXJsYXlzOiJJYmVybGFnZXJpZ2UiLCJCYXNlIExheWVyIjoiR3J1bmRjaGFydGUiLG5vRklEOiJFIEZlYXR1cmUsIHd1IHMga2VpIEZJRCBkZXJmaXIgZ2l0LCBjaGEgbml0IGFrdHVhbGlzaWVydCB3XHUwMGU0cmUuIixicm93c2VyTm90U3VwcG9ydGVkOiJEeXkgQnJvd3NlciB1bnRlcnN0aXR6dCBrZWkgVmVrdG9yZGFyc3RlbGxpZy4gQWt0dVx1MDBlNGxsIHVudGVyc3RpdHp0aSBSZW5kZXJlcjpcbiR7cmVuZGVyZXJzfSIsbWluWm9vbUxldmVsRXJyb3I6IkQgbWluWm9vbUxldmVsLUVpZ2VzY2hhZnQgaXNjaCBudW1lIGRcdTAwZTRuayBmaXIgZCBMYXllciwgd3UgdnUgZHIgRml4ZWRab29tTGV2ZWxzIGFic3RhbW1lLiBBc3MgZFx1MDBlNFx1MDBlNCB3ZnMtTGF5ZXIgbWluWm9vbUxldmVsIHByaWVmdCwgc2NpaCBlIFJlbGlrdCB1cyBkciBWZXJnYW5nZWhlaXQuIE1pciBjaGVubmUgcyBhYmVyIG5pdCBcdTAwZTRuZGVyZSBvaG5pIE9MX2Jhc2llcnRpIEFhd1x1MDBlNG5kaWdlIHZpbGxpY2h0IGthcHV0dCBnZWhuLCB3dSBkZXJ2dSBhYmhcdTAwZTRuZ2UuICBVcyBkXHUwMGU0bSBHcnVuZCBoZXQgZGllIEZ1bmt0aW9uIGQgRWlnZXNjaGFmdCAnZGVwcmVjYXRlZCcgaWJlcmNodXUuIEQgbWluWm9vbUxldmVsLVByaWVmaWcgdW50ZSB3aXJkIGluIGRyIFZlcnNpb24gMy4wIHVzZWdudXUuIEJpdHRlIHZlcndcdTAwZTRuZCBzdGF0dCBkXHUwMGU0bSBlIG1pbi9tYXgtVWZsZXNpZyB3aWUgcyBkbyBic2NocmliZW4gaXNjaDogaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyIsCmNvbW1pdFN1Y2Nlc3M6IldGUy1UcmFuc2FrdGlvbjogRVJGT0xHUllDSCAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJXRlMtVHJhbnNha3Rpb246IEZcdTAwYzRITEdTQ0hMQUEgJHtyZXNwb25zZX0iLGdvb2dsZVdhcm5pbmc6IkRyIEdvb2dsZS1MYXllciBoZXQgbml0IGtvcnJcdTAwZTRrdCBjaGVubmUgZ2xhZGUgd1x1MDBlNHJlLjxicj48YnI+R28gZGllIE1cdTAwZTRsZGlnIG5pbWkgeiBrcmllZ2UsIHdlaGwgZSBhbmRlcmUgSGludGVyZ3J1bmRsYXllciB1cyBlbSBMYXllclN3aXRjaGVyIGltIHJcdTAwZTRjaHRlIG9iZXJlIEVja2UuPGJyPjxicj5EXHUwMGU0XHUwMGU0IEZcdTAwZTRobGVyIGdpdCBzIHNlbGkgaHlmaWcsIHdlbCBzIFNrcmlwdCB2dSBkciBHb29nbGUtTWFwcy1CaWJsaW90aGVrIG5pdCB5eWJ1bmRlIHdvcmVuIGlzY2ggb2RlciB3ZWwgcyBrZWkgZ2lsdGlnZSBBUEktU2NobGlzc2VsIGZpciBEeXkgVVJMIGRpbiBoZXQuPGJyPjxicj5FbnR3aWNrbGVyOiBGaXIgSGlsZiB6dW0ga29yclx1MDBlNGt0ZSBZeWJpbmRlIHZ1bSBHb29nbGUtTGF5ZXIgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9Hb29nbGUnIHRhcmdldD0nX2JsYW5rJz5kb28gZHJ1Y2tlPC9hPiIsCmdldExheWVyV2FybmluZzoiRHIgJHtsYXllclR5cGV9LUxheWVyIGhldCBuaXQga29yclx1MDBlNGt0IGNoZW5uZSBnbGFkZSB3XHUwMGU0cmUuPGJyPjxicj5HbyBkaWUgTVx1MDBlNGxkaWcgbmltaSB6IGtyaWVnZSwgd2VobCBlIGFuZGVyZSBIaW50ZXJncnVuZGxheWVyIHVzIGVtIExheWVyU3dpdGNoZXIgaW0gclx1MDBlNGNodGUgb2JlcmUgRWNrZS48YnI+PGJyPkRcdTAwZTRcdTAwZTQgRlx1MDBlNGhsZXIgZ2l0IHMgc2VsaSBoeWZpZywgd2VsIHMgU2tyaXB0IHZ1IGRyICcke2xheWVyTGlifSctQmlibGlvdGhlayBuaXQgeXlidW5kZSB3b3JlbiBpc2NoIG9kZXIgd2VsIHMga2VpIGdpbHRpZ2UgQVBJLVNjaGxpc3NlbCBmaXIgRHl5IFVSTCBkaW4gaGV0Ljxicj48YnI+RW50d2lja2xlcjogRmlyIEhpbGYgenVtIGtvcnJcdTAwZTRrdGUgWXliaW5kZSB2dSBMYXllciA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+ZG9vIGRydWNrZTwvYT4iLAoiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6Ik1hXHUwMGRmc3RhYiA9IDEgOiAke3NjYWxlRGVub219IixXOiJXIixFOiJPIixOOiJOIixTOiJTIixyZXByb2plY3REZXByZWNhdGVkOiJEdSBicnVjaHNjaCBkICdyZXByb2plY3QnLU9wdGlvbiBiaW0gJHtsYXllck5hbWV9LUxheWVyLiBEaWUgT3B0aW9uIGlzY2ggbmltaSBnaWx0aWc6IHNpIGlzY2ggYWFnbGVpdCB3b3JlIGdvICAgRGF0ZSBpYmVyIGtvbW1lcnppXHUwMGU0bGxpIEdydW5kY2hhcnRlIGxlZ2UsIGFiZXIgZGVzIHNvdHQgbWVyIGpldHogbWFjaGUgbWl0IGRyIFVudGVyc3RpdHppZyB2dSBTcGhlcmljYWwgTWVyY2F0b3IuIE1laCBJbmZvcm1hdGlvbmUgZ2l0IHMgdWYgaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TcGhlcmljYWxNZXJjYXRvci4iLG1ldGhvZERlcHJlY2F0ZWQ6IkRpZSBNZXRob2RlIGlzY2ggdmVyYWx0ZXQgdW4gd2lyZCB1cyBkciBWZXJzaW9uIDMuMCB1c2VnbnV1LiBCaXR0ZSB2ZXJ3XHUwMGU0Ym5kIHN0YXR0IGRcdTAwZTRtICR7bmV3TWV0aG9kfS4ifSk7T3BlbkxheWVycy5Db250cm9sLlNuYXBwaW5nPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHtERUZBVUxUUzp7dG9sZXJhbmNlOjEwLG5vZGU6ITAsZWRnZTohMCx2ZXJ0ZXg6ITB9LGdyZWVkeTohMCxwcmVjZWRlbmNlOlsibm9kZSIsInZlcnRleCIsImVkZ2UiXSxyZXNvbHV0aW9uOm51bGwsZ2VvVG9sZXJhbmNlQ2FjaGU6bnVsbCxsYXllcjpudWxsLGZlYXR1cmU6bnVsbCxwb2ludDpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKTt0aGlzLm9wdGlvbnM9YXx8e307dGhpcy5vcHRpb25zLmxheWVyJiZ0aGlzLnNldExheWVyKHRoaXMub3B0aW9ucy5sYXllcik7YT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucy5kZWZhdWx0cyk7dGhpcy5kZWZhdWx0cz1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLHRoaXMuREVGQVVMVFMpO3RoaXMuc2V0VGFyZ2V0cyh0aGlzLm9wdGlvbnMudGFyZ2V0cyk7CjA9PT10aGlzLnRhcmdldHMubGVuZ3RoJiZ0aGlzLmxheWVyJiZ0aGlzLmFkZFRhcmdldExheWVyKHRoaXMubGF5ZXIpO3RoaXMuZ2VvVG9sZXJhbmNlQ2FjaGU9e319LHNldExheWVyOmZ1bmN0aW9uKGEpe3RoaXMuYWN0aXZlPyh0aGlzLmRlYWN0aXZhdGUoKSx0aGlzLmxheWVyPWEsdGhpcy5hY3RpdmF0ZSgpKTp0aGlzLmxheWVyPWF9LHNldFRhcmdldHM6ZnVuY3Rpb24oYSl7dGhpcy50YXJnZXRzPVtdO2lmKGEmJmEubGVuZ3RoKWZvcih2YXIgYixjPTAsZD1hLmxlbmd0aDtjPGQ7KytjKWI9YVtjXSxiIGluc3RhbmNlb2YgT3BlbkxheWVycy5MYXllci5WZWN0b3I/dGhpcy5hZGRUYXJnZXRMYXllcihiKTp0aGlzLmFkZFRhcmdldChiKX0sYWRkVGFyZ2V0TGF5ZXI6ZnVuY3Rpb24oYSl7dGhpcy5hZGRUYXJnZXQoe2xheWVyOmF9KX0sYWRkVGFyZ2V0OmZ1bmN0aW9uKGEpe2E9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYSx0aGlzLmRlZmF1bHRzKTthLm5vZGVUb2xlcmFuY2U9CmEubm9kZVRvbGVyYW5jZXx8YS50b2xlcmFuY2U7YS52ZXJ0ZXhUb2xlcmFuY2U9YS52ZXJ0ZXhUb2xlcmFuY2V8fGEudG9sZXJhbmNlO2EuZWRnZVRvbGVyYW5jZT1hLmVkZ2VUb2xlcmFuY2V8fGEudG9sZXJhbmNlO3RoaXMudGFyZ2V0cy5wdXNoKGEpfSxyZW1vdmVUYXJnZXRMYXllcjpmdW5jdGlvbihhKXtmb3IodmFyIGIsYz10aGlzLnRhcmdldHMubGVuZ3RoLTE7MDw9YzstLWMpYj10aGlzLnRhcmdldHNbY10sYi5sYXllcj09PWEmJnRoaXMucmVtb3ZlVGFyZ2V0KGIpfSxyZW1vdmVUYXJnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIE9wZW5MYXllcnMuVXRpbC5yZW1vdmVJdGVtKHRoaXMudGFyZ2V0cyxhKX0sYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgYT1PcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmFjdGl2YXRlLmNhbGwodGhpcyk7aWYoYSYmdGhpcy5sYXllciYmdGhpcy5sYXllci5ldmVudHMpdGhpcy5sYXllci5ldmVudHMub24oe3NrZXRjaHN0YXJ0ZWQ6dGhpcy5vblNrZXRjaE1vZGlmaWVkLApza2V0Y2htb2RpZmllZDp0aGlzLm9uU2tldGNoTW9kaWZpZWQsdmVydGV4bW9kaWZpZWQ6dGhpcy5vblZlcnRleE1vZGlmaWVkLHNjb3BlOnRoaXN9KTtyZXR1cm4gYX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPU9wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZGVhY3RpdmF0ZS5jYWxsKHRoaXMpO2EmJnRoaXMubGF5ZXImJnRoaXMubGF5ZXIuZXZlbnRzJiZ0aGlzLmxheWVyLmV2ZW50cy51bih7c2tldGNoc3RhcnRlZDp0aGlzLm9uU2tldGNoTW9kaWZpZWQsc2tldGNobW9kaWZpZWQ6dGhpcy5vblNrZXRjaE1vZGlmaWVkLHZlcnRleG1vZGlmaWVkOnRoaXMub25WZXJ0ZXhNb2RpZmllZCxzY29wZTp0aGlzfSk7dGhpcy5wb2ludD10aGlzLmZlYXR1cmU9bnVsbDtyZXR1cm4gYX0sb25Ta2V0Y2hNb2RpZmllZDpmdW5jdGlvbihhKXt0aGlzLmZlYXR1cmU9YS5mZWF0dXJlO3RoaXMuY29uc2lkZXJTbmFwcGluZyhhLnZlcnRleCxhLnZlcnRleCl9LG9uVmVydGV4TW9kaWZpZWQ6ZnVuY3Rpb24oYSl7dGhpcy5mZWF0dXJlPQphLmZlYXR1cmU7dmFyIGI9dGhpcy5sYXllci5tYXAuZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHgoYS5waXhlbCk7dGhpcy5jb25zaWRlclNuYXBwaW5nKGEudmVydGV4LG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGIubG9uLGIubGF0KSl9LGNvbnNpZGVyU25hcHBpbmc6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9e3Jhbms6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGRpc3Q6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLHg6bnVsbCx5Om51bGx9LGQ9ITEsZSxmLGc9MCxoPXRoaXMudGFyZ2V0cy5sZW5ndGg7ZzxoOysrZylpZihmPXRoaXMudGFyZ2V0c1tnXSxlPXRoaXMudGVzdFRhcmdldChmLGIpKWlmKHRoaXMuZ3JlZWR5KXtjPWU7Yy50YXJnZXQ9ZjtkPSEwO2JyZWFrfWVsc2UgaWYoZS5yYW5rPGMucmFua3x8ZS5yYW5rPT09Yy5yYW5rJiZlLmRpc3Q8Yy5kaXN0KWM9ZSxjLnRhcmdldD1mLGQ9ITA7ZCYmKCExIT09dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJiZWZvcmVzbmFwIiwKe3BvaW50OmEseDpjLngseTpjLnksZGlzdGFuY2U6Yy5kaXN0LGxheWVyOmMudGFyZ2V0LmxheWVyLHNuYXBUeXBlOnRoaXMucHJlY2VkZW5jZVtjLnJhbmtdfSk/KGEueD1jLngsYS55PWMueSx0aGlzLnBvaW50PWEsdGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJzbmFwIix7cG9pbnQ6YSxzbmFwVHlwZTp0aGlzLnByZWNlZGVuY2VbYy5yYW5rXSxsYXllcjpjLnRhcmdldC5sYXllcixkaXN0YW5jZTpjLmRpc3R9KSk6ZD0hMSk7dGhpcy5wb2ludCYmIWQmJihhLng9Yi54LGEueT1iLnksdGhpcy5wb2ludD1udWxsLHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgidW5zbmFwIix7cG9pbnQ6YX0pKX0sdGVzdFRhcmdldDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMubGF5ZXIubWFwLmdldFJlc29sdXRpb24oKTtpZigibWluUmVzb2x1dGlvbiJpbiBhJiZjPGEubWluUmVzb2x1dGlvbnx8Im1heFJlc29sdXRpb24iaW4gYSYmYz49YS5tYXhSZXNvbHV0aW9uKXJldHVybiBudWxsO2Zvcih2YXIgYz0Ke25vZGU6dGhpcy5nZXRHZW9Ub2xlcmFuY2UoYS5ub2RlVG9sZXJhbmNlLGMpLHZlcnRleDp0aGlzLmdldEdlb1RvbGVyYW5jZShhLnZlcnRleFRvbGVyYW5jZSxjKSxlZGdlOnRoaXMuZ2V0R2VvVG9sZXJhbmNlKGEuZWRnZVRvbGVyYW5jZSxjKX0sZD1NYXRoLm1heChjLm5vZGUsYy52ZXJ0ZXgsYy5lZGdlKSxlPXtyYW5rOk51bWJlci5QT1NJVElWRV9JTkZJTklUWSxkaXN0Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWX0sZj0hMSxnPWEubGF5ZXIuZmVhdHVyZXMsaCxpLGosayxsLG0sbj10aGlzLnByZWNlZGVuY2UubGVuZ3RoLHA9bmV3IE9wZW5MYXllcnMuTG9uTGF0KGIueCxiLnkpLHE9MCxyPWcubGVuZ3RoO3E8cjsrK3EpaWYoaD1nW3FdLGghPT10aGlzLmZlYXR1cmUmJighaC5fc2tldGNoJiZoLnN0YXRlIT09T3BlbkxheWVycy5TdGF0ZS5ERUxFVEUmJighYS5maWx0ZXJ8fGEuZmlsdGVyLmV2YWx1YXRlKGgpKSkmJmguYXRQb2ludChwLGQsZCkpZm9yKHZhciBzPTAsdD1NYXRoLm1pbihlLnJhbmsrCjEsbik7czx0OysrcylpZihpPXRoaXMucHJlY2VkZW5jZVtzXSxhW2ldKWlmKCJlZGdlIj09PWkpe2lmKGo9aC5nZW9tZXRyeS5kaXN0YW5jZVRvKGIse2RldGFpbHM6ITB9KSxsPWouZGlzdGFuY2UsbDw9Y1tpXSYmbDxlLmRpc3Qpe2U9e3Jhbms6cyxkaXN0OmwseDpqLngwLHk6ai55MH07Zj0hMDticmVha319ZWxzZXtqPWguZ2VvbWV0cnkuZ2V0VmVydGljZXMoIm5vZGUiPT09aSk7bT0hMTtmb3IodmFyIHU9MCx2PWoubGVuZ3RoO3U8djsrK3UpaWYoaz1qW3VdLGw9ay5kaXN0YW5jZVRvKGIpLGw8PWNbaV0mJihzPGUucmFua3x8cz09PWUucmFuayYmbDxlLmRpc3QpKWU9e3Jhbms6cyxkaXN0OmwseDprLngseTprLnl9LG09Zj0hMDtpZihtKWJyZWFrfXJldHVybiBmP2U6bnVsbH0sZ2V0R2VvVG9sZXJhbmNlOmZ1bmN0aW9uKGEsYil7YiE9PXRoaXMucmVzb2x1dGlvbiYmKHRoaXMucmVzb2x1dGlvbj1iLHRoaXMuZ2VvVG9sZXJhbmNlQ2FjaGU9e30pO3ZhciBjPXRoaXMuZ2VvVG9sZXJhbmNlQ2FjaGVbYV07CnZvaWQgMD09PWMmJihjPWEqYix0aGlzLmdlb1RvbGVyYW5jZUNhY2hlW2FdPWMpO3JldHVybiBjfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5hY3RpdmUmJnRoaXMuZGVhY3RpdmF0ZSgpO2RlbGV0ZSB0aGlzLmxheWVyO2RlbGV0ZSB0aGlzLnRhcmdldHM7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5TbmFwcGluZyJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24udjFfMV8wPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuT1dTQ29tbW9uLnYxLHtuYW1lc3BhY2VzOntvd3M6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvb3dzLzEuMSIseGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsifSxyZWFkZXJzOntvd3M6T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe0V4Y2VwdGlvblJlcG9ydDpmdW5jdGlvbihhLGIpe2IuZXhjZXB0aW9uUmVwb3J0PXt2ZXJzaW9uOmEuZ2V0QXR0cmlidXRlKCJ2ZXJzaW9uIiksbGFuZ3VhZ2U6YS5nZXRBdHRyaWJ1dGUoInhtbDpsYW5nIiksZXhjZXB0aW9uczpbXX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuZXhjZXB0aW9uUmVwb3J0KX0sQWxsb3dlZFZhbHVlczpmdW5jdGlvbihhLGIpe2IuYWxsb3dlZFZhbHVlcz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5hbGxvd2VkVmFsdWVzKX0sQW55VmFsdWU6ZnVuY3Rpb24oYSxiKXtiLmFueVZhbHVlPQohMH0sRGF0YVR5cGU6ZnVuY3Rpb24oYSxiKXtiLmRhdGFUeXBlPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sUmFuZ2U6ZnVuY3Rpb24oYSxiKXtiLnJhbmdlPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnJhbmdlKX0sTWluaW11bVZhbHVlOmZ1bmN0aW9uKGEsYil7Yi5taW5WYWx1ZT10aGlzLmdldENoaWxkVmFsdWUoYSl9LE1heGltdW1WYWx1ZTpmdW5jdGlvbihhLGIpe2IubWF4VmFsdWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxJZGVudGlmaWVyOmZ1bmN0aW9uKGEsYil7Yi5pZGVudGlmaWVyPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sU3VwcG9ydGVkQ1JTOmZ1bmN0aW9uKGEsYil7Yi5zdXBwb3J0ZWRDUlM9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfX0sT3BlbkxheWVycy5Gb3JtYXQuT1dTQ29tbW9uLnYxLnByb3RvdHlwZS5yZWFkZXJzLm93cyl9LHdyaXRlcnM6e293czpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7UmFuZ2U6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvd3M6UmFuZ2UiLAp7YXR0cmlidXRlczp7Im93czpyYW5nZUNsb3N1cmUiOmEuY2xvc3VyZX19KTt0aGlzLndyaXRlTm9kZSgib3dzOk1pbmltdW1WYWx1ZSIsYS5taW5WYWx1ZSxiKTt0aGlzLndyaXRlTm9kZSgib3dzOk1heGltdW1WYWx1ZSIsYS5tYXhWYWx1ZSxiKTtyZXR1cm4gYn0sTWluaW11bVZhbHVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIm93czpNaW5pbXVtVmFsdWUiLHt2YWx1ZTphfSl9LE1heGltdW1WYWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvd3M6TWF4aW11bVZhbHVlIix7dmFsdWU6YX0pfSxWYWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvd3M6VmFsdWUiLHt2YWx1ZTphfSl9fSxPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24udjEucHJvdG90eXBlLndyaXRlcnMub3dzKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuT1dTQ29tbW9uLnYxXzFfMCJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5XQ1NHZXRDb3ZlcmFnZT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7bmFtZXNwYWNlczp7b3dzOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L293cy8xLjEiLHdjczoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC93Y3MvMS4xIix4bGluazoiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIseHNpOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSJ9LHJlZ0V4ZXM6e3RyaW1TcGFjZTovXlxzKnxccyokL2cscmVtb3ZlU3BhY2U6L1xzKi9nLHNwbGl0U3BhY2U6L1xzKy8sdHJpbUNvbW1hOi9ccyosXHMqL2d9LFZFUlNJT046IjEuMS4yIixzY2hlbWFMb2NhdGlvbjoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC93Y3MvMS4xIGh0dHA6Ly9zY2hlbWFzLm9wZW5naXMubmV0L3djcy8xLjEvd2NzR2V0Q292ZXJhZ2UueHNkIix3cml0ZTpmdW5jdGlvbihhKXthPXRoaXMud3JpdGVOb2RlKCJ3Y3M6R2V0Q292ZXJhZ2UiLAphKTt0aGlzLnNldEF0dHJpYnV0ZU5TKGEsdGhpcy5uYW1lc3BhY2VzLnhzaSwieHNpOnNjaGVtYUxvY2F0aW9uIix0aGlzLnNjaGVtYUxvY2F0aW9uKTtyZXR1cm4gT3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS53cml0ZS5hcHBseSh0aGlzLFthXSl9LHdyaXRlcnM6e3djczp7R2V0Q292ZXJhZ2U6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3Y3M6R2V0Q292ZXJhZ2UiLHthdHRyaWJ1dGVzOnt2ZXJzaW9uOmEudmVyc2lvbnx8dGhpcy5WRVJTSU9OLHNlcnZpY2U6IldDUyJ9fSk7dGhpcy53cml0ZU5vZGUoIm93czpJZGVudGlmaWVyIixhLmlkZW50aWZpZXIsYik7dGhpcy53cml0ZU5vZGUoIndjczpEb21haW5TdWJzZXQiLGEuZG9tYWluU3Vic2V0LGIpO3RoaXMud3JpdGVOb2RlKCJ3Y3M6T3V0cHV0IixhLm91dHB1dCxiKTtyZXR1cm4gYn0sRG9tYWluU3Vic2V0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid2NzOkRvbWFpblN1YnNldCIsCnt9KTt0aGlzLndyaXRlTm9kZSgib3dzOkJvdW5kaW5nQm94IixhLmJvdW5kaW5nQm94LGIpO2EudGVtcG9yYWxTdWJzZXQmJnRoaXMud3JpdGVOb2RlKCJ3Y3M6VGVtcG9yYWxTdWJzZXQiLGEudGVtcG9yYWxTdWJzZXQsYik7cmV0dXJuIGJ9LFRlbXBvcmFsU3Vic2V0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIndjczpUZW1wb3JhbFN1YnNldCIse30pLGM9MCxkPWEudGltZVBlcmlvZHMubGVuZ3RoO2M8ZDsrK2MpdGhpcy53cml0ZU5vZGUoIndjczpUaW1lUGVyaW9kIixhLnRpbWVQZXJpb2RzW2NdLGIpO3JldHVybiBifSxUaW1lUGVyaW9kOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid2NzOlRpbWVQZXJpb2QiLHt9KTt0aGlzLndyaXRlTm9kZSgid2NzOkJlZ2luUG9zaXRpb24iLGEuYmVnaW4sYik7dGhpcy53cml0ZU5vZGUoIndjczpFbmRQb3NpdGlvbiIsYS5lbmQsYik7YS5yZXNvbHV0aW9uJiZ0aGlzLndyaXRlTm9kZSgid2NzOlRpbWVSZXNvbHV0aW9uIiwKYS5yZXNvbHV0aW9uLGIpO3JldHVybiBifSxCZWdpblBvc2l0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIndjczpCZWdpblBvc2l0aW9uIix7dmFsdWU6YX0pfSxFbmRQb3NpdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3Y3M6RW5kUG9zaXRpb24iLHt2YWx1ZTphfSl9LFRpbWVSZXNvbHV0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIndjczpUaW1lUmVzb2x1dGlvbiIse3ZhbHVlOmF9KX0sT3V0cHV0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid2NzOk91dHB1dCIse2F0dHJpYnV0ZXM6e2Zvcm1hdDphLmZvcm1hdCxzdG9yZTphLnN0b3JlfX0pO2EuZ3JpZENSUyYmdGhpcy53cml0ZU5vZGUoIndjczpHcmlkQ1JTIixhLmdyaWRDUlMsYik7cmV0dXJuIGJ9LEdyaWRDUlM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3Y3M6R3JpZENSUyIsCnt9KTt0aGlzLndyaXRlTm9kZSgid2NzOkdyaWRCYXNlQ1JTIixhLmJhc2VDUlMsYik7YS50eXBlJiZ0aGlzLndyaXRlTm9kZSgid2NzOkdyaWRUeXBlIixhLnR5cGUsYik7YS5vcmlnaW4mJnRoaXMud3JpdGVOb2RlKCJ3Y3M6R3JpZE9yaWdpbiIsYS5vcmlnaW4sYik7dGhpcy53cml0ZU5vZGUoIndjczpHcmlkT2Zmc2V0cyIsYS5vZmZzZXRzLGIpO2EuQ1MmJnRoaXMud3JpdGVOb2RlKCJ3Y3M6R3JpZENTIixhLkNTLGIpO3JldHVybiBifSxHcmlkQmFzZUNSUzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3Y3M6R3JpZEJhc2VDUlMiLHt2YWx1ZTphfSl9LEdyaWRPcmlnaW46ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid2NzOkdyaWRPcmlnaW4iLHt2YWx1ZTphfSl9LEdyaWRUeXBlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIndjczpHcmlkVHlwZSIse3ZhbHVlOmF9KX0sR3JpZE9mZnNldHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid2NzOkdyaWRPZmZzZXRzIiwKe3ZhbHVlOmF9KX0sR3JpZENTOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIndjczpHcmlkQ1MiLHt2YWx1ZTphfSl9fSxvd3M6T3BlbkxheWVycy5Gb3JtYXQuT1dTQ29tbW9uLnYxXzFfMC5wcm90b3R5cGUud3JpdGVycy5vd3N9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LldDU0dldENvdmVyYWdlIn0pO09wZW5MYXllcnMuRm9ybWF0LktNTD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7bmFtZXNwYWNlczp7a21sOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2ttbC8yLjIiLGd4OiJodHRwOi8vd3d3Lmdvb2dsZS5jb20va21sL2V4dC8yLjIifSxrbWxuczoiaHR0cDovL2VhcnRoLmdvb2dsZS5jb20va21sLzIuMCIscGxhY2VtYXJrc0Rlc2M6Ik5vIGRlc2NyaXB0aW9uIGF2YWlsYWJsZSIsZm9sZGVyc05hbWU6Ik9wZW5MYXllcnMgZXhwb3J0Iixmb2xkZXJzRGVzYzoiRXhwb3J0ZWQgb24gIituZXcgRGF0ZSxleHRyYWN0QXR0cmlidXRlczohMCxrdnBBdHRyaWJ1dGVzOiExLGV4dHJhY3RTdHlsZXM6ITEsZXh0cmFjdFRyYWNrczohMSx0cmFja0F0dHJpYnV0ZXM6bnVsbCxpbnRlcm5hbG5zOm51bGwsZmVhdHVyZXM6bnVsbCxzdHlsZXM6bnVsbCxzdHlsZUJhc2VVcmw6IiIsZmV0Y2hlZDpudWxsLG1heERlcHRoOjAsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXt0aGlzLnJlZ0V4ZXM9Cnt0cmltU3BhY2U6L15ccyp8XHMqJC9nLHJlbW92ZVNwYWNlOi9ccyovZyxzcGxpdFNwYWNlOi9ccysvLHRyaW1Db21tYTovXHMqLFxzKi9nLGttbENvbG9yOi8oXHd7Mn0pKFx3ezJ9KShcd3syfSkoXHd7Mn0pLyxrbWxJY29uUGFsZXR0ZTovcm9vdDpcL1wvaWNvbnNcL3BhbGV0dGUtKFxkKykoXC5cdyspLyxzdHJhaWdodEJyYWNrZXQ6L1wkXFsoLio/KVxdL2d9O3RoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uPW5ldyBPcGVuTGF5ZXJzLlByb2plY3Rpb24oIkVQU0c6NDMyNiIpO09wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSl9LHJlYWQ6ZnVuY3Rpb24oYSl7dGhpcy5mZWF0dXJlcz1bXTt0aGlzLnN0eWxlcz17fTt0aGlzLmZldGNoZWQ9e307cmV0dXJuIHRoaXMucGFyc2VEYXRhKGEse2RlcHRoOjAsc3R5bGVCYXNlVXJsOnRoaXMuc3R5bGVCYXNlVXJsfSl9LHBhcnNlRGF0YTpmdW5jdGlvbihhLGIpeyJzdHJpbmciPT10eXBlb2YgYSYmCihhPU9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUucmVhZC5hcHBseSh0aGlzLFthXSkpO2Zvcih2YXIgYz1bIkxpbmsiLCJOZXR3b3JrTGluayIsIlN0eWxlIiwiU3R5bGVNYXAiLCJQbGFjZW1hcmsiXSxkPTAsZT1jLmxlbmd0aDtkPGU7KytkKXt2YXIgZj1jW2RdLGc9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsIioiLGYpO2lmKDAhPWcubGVuZ3RoKXN3aXRjaChmLnRvTG93ZXJDYXNlKCkpe2Nhc2UgImxpbmsiOmNhc2UgIm5ldHdvcmtsaW5rIjp0aGlzLnBhcnNlTGlua3MoZyxiKTticmVhaztjYXNlICJzdHlsZSI6dGhpcy5leHRyYWN0U3R5bGVzJiZ0aGlzLnBhcnNlU3R5bGVzKGcsYik7YnJlYWs7Y2FzZSAic3R5bGVtYXAiOnRoaXMuZXh0cmFjdFN0eWxlcyYmdGhpcy5wYXJzZVN0eWxlTWFwcyhnLGIpO2JyZWFrO2Nhc2UgInBsYWNlbWFyayI6dGhpcy5wYXJzZUZlYXR1cmVzKGcsYil9fXJldHVybiB0aGlzLmZlYXR1cmVzfSxwYXJzZUxpbmtzOmZ1bmN0aW9uKGEsCmIpe2lmKGIuZGVwdGg+PXRoaXMubWF4RGVwdGgpcmV0dXJuITE7dmFyIGM9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSxiKTtjLmRlcHRoKys7Zm9yKHZhciBkPTAsZT1hLmxlbmd0aDtkPGU7ZCsrKXt2YXIgZj10aGlzLnBhcnNlUHJvcGVydHkoYVtkXSwiKiIsImhyZWYiKTtmJiYhdGhpcy5mZXRjaGVkW2ZdJiYodGhpcy5mZXRjaGVkW2ZdPSEwLChmPXRoaXMuZmV0Y2hMaW5rKGYpKSYmdGhpcy5wYXJzZURhdGEoZixjKSl9fSxmZXRjaExpbms6ZnVuY3Rpb24oYSl7aWYoYT1PcGVuTGF5ZXJzLlJlcXVlc3QuR0VUKHt1cmw6YSxhc3luYzohMX0pKXJldHVybiBhLnJlc3BvbnNlVGV4dH0scGFyc2VTdHlsZXM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2M8ZDtjKyspe3ZhciBlPXRoaXMucGFyc2VTdHlsZShhW2NdKTtlJiYodGhpcy5zdHlsZXNbKGIuc3R5bGVCYXNlVXJsfHwiIikrIiMiK2UuaWRdPWUpfX0scGFyc2VLbWxDb2xvcjpmdW5jdGlvbihhKXt2YXIgYj0KbnVsbDthJiYoYT1hLm1hdGNoKHRoaXMucmVnRXhlcy5rbWxDb2xvcikpJiYoYj17Y29sb3I6IiMiK2FbNF0rYVszXSthWzJdLG9wYWNpdHk6cGFyc2VJbnQoYVsxXSwxNikvMjU1fSk7cmV0dXJuIGJ9LHBhcnNlU3R5bGU6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXt9LGM9WyJMaW5lU3R5bGUiLCJQb2x5U3R5bGUiLCJJY29uU3R5bGUiLCJCYWxsb29uU3R5bGUiLCJMYWJlbFN0eWxlIl0sZCxlLGY9MCxnPWMubGVuZ3RoO2Y8ZzsrK2YpaWYoZD1jW2ZdLGU9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsIioiLGQpWzBdKXN3aXRjaChkLnRvTG93ZXJDYXNlKCkpe2Nhc2UgImxpbmVzdHlsZSI6ZD10aGlzLnBhcnNlUHJvcGVydHkoZSwiKiIsImNvbG9yIik7aWYoZD10aGlzLnBhcnNlS21sQ29sb3IoZCkpYi5zdHJva2VDb2xvcj1kLmNvbG9yLGIuc3Ryb2tlT3BhY2l0eT1kLm9wYWNpdHk7KGQ9dGhpcy5wYXJzZVByb3BlcnR5KGUsIioiLCJ3aWR0aCIpKSYmKGIuc3Ryb2tlV2lkdGg9CmQpO2JyZWFrO2Nhc2UgInBvbHlzdHlsZSI6ZD10aGlzLnBhcnNlUHJvcGVydHkoZSwiKiIsImNvbG9yIik7aWYoZD10aGlzLnBhcnNlS21sQ29sb3IoZCkpYi5maWxsT3BhY2l0eT1kLm9wYWNpdHksYi5maWxsQ29sb3I9ZC5jb2xvcjsiMCI9PXRoaXMucGFyc2VQcm9wZXJ0eShlLCIqIiwiZmlsbCIpJiYoYi5maWxsQ29sb3I9Im5vbmUiKTsiMCI9PXRoaXMucGFyc2VQcm9wZXJ0eShlLCIqIiwib3V0bGluZSIpJiYoYi5zdHJva2VXaWR0aD0iMCIpO2JyZWFrO2Nhc2UgImljb25zdHlsZSI6dmFyIGg9cGFyc2VGbG9hdCh0aGlzLnBhcnNlUHJvcGVydHkoZSwiKiIsInNjYWxlIil8fDEpO2Q9MzIqaDt2YXIgaT0zMipoLGo9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGUsIioiLCJJY29uIilbMF07aWYoail7dmFyIGs9dGhpcy5wYXJzZVByb3BlcnR5KGosIioiLCJocmVmIik7aWYoayl7dmFyIGw9dGhpcy5wYXJzZVByb3BlcnR5KGosIioiLCJ3IiksbT10aGlzLnBhcnNlUHJvcGVydHkoaiwKIioiLCJoIik7T3BlbkxheWVycy5TdHJpbmcuc3RhcnRzV2l0aChrLCJodHRwOi8vbWFwcy5nb29nbGUuY29tL21hcGZpbGVzL2ttbCIpJiYoIWwmJiFtKSYmKG09bD02NCxoLz0yKTtsPWx8fG07bT1tfHxsO2wmJihkPXBhcnNlSW50KGwpKmgpO20mJihpPXBhcnNlSW50KG0pKmgpO2lmKG09ay5tYXRjaCh0aGlzLnJlZ0V4ZXMua21sSWNvblBhbGV0dGUpKWw9bVsxXSxtPW1bMl0saz10aGlzLnBhcnNlUHJvcGVydHkoaiwiKiIsIngiKSxqPXRoaXMucGFyc2VQcm9wZXJ0eShqLCIqIiwieSIpLGs9Imh0dHA6Ly9tYXBzLmdvb2dsZS5jb20vbWFwZmlsZXMva21sL3BhbCIrbCsiL2ljb24iKyg4KihqPzctai8zMjo3KSsoaz9rLzMyOjApKSttO2IuZ3JhcGhpY09wYWNpdHk9MTtiLmV4dGVybmFsR3JhcGhpYz1rfX1pZihlPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhlLCIqIiwiaG90U3BvdCIpWzBdKWs9cGFyc2VGbG9hdChlLmdldEF0dHJpYnV0ZSgieCIpKSxqPXBhcnNlRmxvYXQoZS5nZXRBdHRyaWJ1dGUoInkiKSksCmw9ZS5nZXRBdHRyaWJ1dGUoInh1bml0cyIpLCJwaXhlbHMiPT1sP2IuZ3JhcGhpY1hPZmZzZXQ9LWsqaDoiaW5zZXRQaXhlbHMiPT1sP2IuZ3JhcGhpY1hPZmZzZXQ9LWQraypoOiJmcmFjdGlvbiI9PWwmJihiLmdyYXBoaWNYT2Zmc2V0PS1kKmspLGU9ZS5nZXRBdHRyaWJ1dGUoInl1bml0cyIpLCJwaXhlbHMiPT1lP2IuZ3JhcGhpY1lPZmZzZXQ9LWkraipoKzE6Imluc2V0UGl4ZWxzIj09ZT9iLmdyYXBoaWNZT2Zmc2V0PS0oaipoKSsxOiJmcmFjdGlvbiI9PWUmJihiLmdyYXBoaWNZT2Zmc2V0PS1pKigxLWopKzEpO2IuZ3JhcGhpY1dpZHRoPWQ7Yi5ncmFwaGljSGVpZ2h0PWk7YnJlYWs7Y2FzZSAiYmFsbG9vbnN0eWxlIjooZT1PcGVuTGF5ZXJzLlV0aWwuZ2V0WG1sTm9kZVZhbHVlKGUpKSYmKGIuYmFsbG9vblN0eWxlPWUucmVwbGFjZSh0aGlzLnJlZ0V4ZXMuc3RyYWlnaHRCcmFja2V0LCIkeyQxfSIpKTticmVhaztjYXNlICJsYWJlbHN0eWxlIjppZihkPXRoaXMucGFyc2VQcm9wZXJ0eShlLAoiKiIsImNvbG9yIiksZD10aGlzLnBhcnNlS21sQ29sb3IoZCkpYi5mb250Q29sb3I9ZC5jb2xvcixiLmZvbnRPcGFjaXR5PWQub3BhY2l0eX0hYi5zdHJva2VDb2xvciYmYi5maWxsQ29sb3ImJihiLnN0cm9rZUNvbG9yPWIuZmlsbENvbG9yKTtpZigoYT1hLmdldEF0dHJpYnV0ZSgiaWQiKSkmJmIpYi5pZD1hO3JldHVybiBifSxwYXJzZVN0eWxlTWFwczpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKylmb3IodmFyIGU9YVtjXSxmPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhlLCIqIiwiUGFpciIpLGU9ZS5nZXRBdHRyaWJ1dGUoImlkIiksZz0wLGg9Zi5sZW5ndGg7ZzxoO2crKyl7dmFyIGk9ZltnXSxqPXRoaXMucGFyc2VQcm9wZXJ0eShpLCIqIiwia2V5Iik7KGk9dGhpcy5wYXJzZVByb3BlcnR5KGksIioiLCJzdHlsZVVybCIpKSYmIm5vcm1hbCI9PWomJih0aGlzLnN0eWxlc1soYi5zdHlsZUJhc2VVcmx8fCIiKSsiIyIrZV09dGhpcy5zdHlsZXNbKGIuc3R5bGVCYXNlVXJsfHwKIiIpK2ldKX19LHBhcnNlRmVhdHVyZXM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9W10sZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKyl7dmFyIGY9YVtkXSxnPXRoaXMucGFyc2VGZWF0dXJlLmFwcGx5KHRoaXMsW2ZdKTtpZihnKXt0aGlzLmV4dHJhY3RTdHlsZXMmJihnLmF0dHJpYnV0ZXMmJmcuYXR0cmlidXRlcy5zdHlsZVVybCkmJihnLnN0eWxlPXRoaXMuZ2V0U3R5bGUoZy5hdHRyaWJ1dGVzLnN0eWxlVXJsLGIpKTtpZih0aGlzLmV4dHJhY3RTdHlsZXMpe3ZhciBoPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhmLCIqIiwiU3R5bGUiKVswXTtpZihoJiYoaD10aGlzLnBhcnNlU3R5bGUoaCkpKWcuc3R5bGU9T3BlbkxheWVycy5VdGlsLmV4dGVuZChnLnN0eWxlLGgpfWlmKHRoaXMuZXh0cmFjdFRyYWNrcyl7aWYoKGY9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGYsdGhpcy5uYW1lc3BhY2VzLmd4LCJUcmFjayIpKSYmMDxmLmxlbmd0aClnPXtmZWF0dXJlczpbXSxmZWF0dXJlOmd9LAp0aGlzLnJlYWROb2RlKGZbMF0sZyksMDxnLmZlYXR1cmVzLmxlbmd0aCYmYy5wdXNoLmFwcGx5KGMsZy5mZWF0dXJlcyl9ZWxzZSBjLnB1c2goZyl9ZWxzZSB0aHJvdyJCYWQgUGxhY2VtYXJrOiAiK2Q7fXRoaXMuZmVhdHVyZXM9dGhpcy5mZWF0dXJlcy5jb25jYXQoYyl9LHJlYWRlcnM6e2ttbDp7d2hlbjpmdW5jdGlvbihhLGIpe2Iud2hlbnMucHVzaChPcGVuTGF5ZXJzLkRhdGUucGFyc2UodGhpcy5nZXRDaGlsZFZhbHVlKGEpKSl9LF90cmFja1BvaW50QXR0cmlidXRlOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5ub2RlTmFtZS5zcGxpdCgiOiIpLnBvcCgpO2IuYXR0cmlidXRlc1tjXS5wdXNoKHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSl9fSxneDp7VHJhY2s6ZnVuY3Rpb24oYSxiKXt2YXIgYz17d2hlbnM6W10scG9pbnRzOltdLGFuZ2xlczpbXX07aWYodGhpcy50cmFja0F0dHJpYnV0ZXMpe3ZhciBkO2MuYXR0cmlidXRlcz17fTtmb3IodmFyIGU9MCxmPXRoaXMudHJhY2tBdHRyaWJ1dGVzLmxlbmd0aDtlPApmOysrZSlkPXRoaXMudHJhY2tBdHRyaWJ1dGVzW2VdLGMuYXR0cmlidXRlc1tkXT1bXSxkIGluIHRoaXMucmVhZGVycy5rbWx8fCh0aGlzLnJlYWRlcnMua21sW2RdPXRoaXMucmVhZGVycy5rbWwuX3RyYWNrUG9pbnRBdHRyaWJ1dGUpfXRoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtpZihjLndoZW5zLmxlbmd0aCE9PWMucG9pbnRzLmxlbmd0aCl0aHJvdyBFcnJvcigiZ3g6VHJhY2sgd2l0aCB1bmVxdWFsIG51bWJlciBvZiB3aGVuICgiK2Mud2hlbnMubGVuZ3RoKyIpIGFuZCBneDpjb29yZCAoIitjLnBvaW50cy5sZW5ndGgrIikgZWxlbWVudHMuIik7dmFyIGc9MDxjLmFuZ2xlcy5sZW5ndGg7aWYoZyYmYy53aGVucy5sZW5ndGghPT1jLmFuZ2xlcy5sZW5ndGgpdGhyb3cgRXJyb3IoImd4OlRyYWNrIHdpdGggdW5lcXVhbCBudW1iZXIgb2Ygd2hlbiAoIitjLndoZW5zLmxlbmd0aCsiKSBhbmQgZ3g6YW5nbGVzICgiK2MuYW5nbGVzLmxlbmd0aCsiKSBlbGVtZW50cy4iKTtmb3IodmFyIGgsCmU9MCxmPWMud2hlbnMubGVuZ3RoO2U8ZjsrK2Upe2g9Yi5mZWF0dXJlLmNsb25lKCk7aC5maWQ9Yi5mZWF0dXJlLmZpZHx8Yi5mZWF0dXJlLmlkO2Q9Yy5wb2ludHNbZV07aC5nZW9tZXRyeT1kOyJ6ImluIGQmJihoLmF0dHJpYnV0ZXMuYWx0aXR1ZGU9ZC56KTt0aGlzLmludGVybmFsUHJvamVjdGlvbiYmdGhpcy5leHRlcm5hbFByb2plY3Rpb24mJmguZ2VvbWV0cnkudHJhbnNmb3JtKHRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uLHRoaXMuaW50ZXJuYWxQcm9qZWN0aW9uKTtpZih0aGlzLnRyYWNrQXR0cmlidXRlcylmb3IodmFyIGk9MCxqPXRoaXMudHJhY2tBdHRyaWJ1dGVzLmxlbmd0aDtpPGo7KytpKWQ9dGhpcy50cmFja0F0dHJpYnV0ZXNbaV0saC5hdHRyaWJ1dGVzW2RdPWMuYXR0cmlidXRlc1tkXVtlXTtoLmF0dHJpYnV0ZXMud2hlbj1jLndoZW5zW2VdO2guYXR0cmlidXRlcy50cmFja0lkPWIuZmVhdHVyZS5pZDtnJiYoZD1jLmFuZ2xlc1tlXSxoLmF0dHJpYnV0ZXMuaGVhZGluZz0KcGFyc2VGbG9hdChkWzBdKSxoLmF0dHJpYnV0ZXMudGlsdD1wYXJzZUZsb2F0KGRbMV0pLGguYXR0cmlidXRlcy5yb2xsPXBhcnNlRmxvYXQoZFsyXSkpO2IuZmVhdHVyZXMucHVzaChoKX19LGNvb3JkOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDaGlsZFZhbHVlKGEpLnJlcGxhY2UodGhpcy5yZWdFeGVzLnRyaW1TcGFjZSwiIikuc3BsaXQoL1xzKy8pLGQ9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoY1swXSxjWzFdKTsyPGMubGVuZ3RoJiYoZC56PXBhcnNlRmxvYXQoY1syXSkpO2IucG9pbnRzLnB1c2goZCl9LGFuZ2xlczpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKS5yZXBsYWNlKHRoaXMucmVnRXhlcy50cmltU3BhY2UsIiIpLnNwbGl0KC9ccysvKTtiLmFuZ2xlcy5wdXNoKGMpfX19LHBhcnNlRmVhdHVyZTpmdW5jdGlvbihhKXtmb3IodmFyIGI9WyJNdWx0aUdlb21ldHJ5IiwiUG9seWdvbiIsIkxpbmVTdHJpbmciLCJQb2ludCJdLApjLGQsZSxmPTAsZz1iLmxlbmd0aDtmPGc7KytmKWlmKGM9YltmXSx0aGlzLmludGVybmFsbnM9YS5uYW1lc3BhY2VVUkk/YS5uYW1lc3BhY2VVUkk6dGhpcy5rbWxucyxkPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLHRoaXMuaW50ZXJuYWxucyxjKSwwPGQubGVuZ3RoKXtpZihiPXRoaXMucGFyc2VHZW9tZXRyeVtjLnRvTG93ZXJDYXNlKCldKWU9Yi5hcHBseSh0aGlzLFtkWzBdXSksdGhpcy5pbnRlcm5hbFByb2plY3Rpb24mJnRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uJiZlLnRyYW5zZm9ybSh0aGlzLmV4dGVybmFsUHJvamVjdGlvbix0aGlzLmludGVybmFsUHJvamVjdGlvbik7ZWxzZSB0aHJvdyBuZXcgVHlwZUVycm9yKCJVbnN1cHBvcnRlZCBnZW9tZXRyeSB0eXBlOiAiK2MpO2JyZWFrfXZhciBoO3RoaXMuZXh0cmFjdEF0dHJpYnV0ZXMmJihoPXRoaXMucGFyc2VBdHRyaWJ1dGVzKGEpKTtjPW5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKGUsaCk7YT1hLmdldEF0dHJpYnV0ZSgiaWQiKXx8CmEuZ2V0QXR0cmlidXRlKCJuYW1lIik7bnVsbCE9YSYmKGMuZmlkPWEpO3JldHVybiBjfSxnZXRTdHlsZTpmdW5jdGlvbihhLGIpe3ZhciBjPU9wZW5MYXllcnMuVXRpbC5yZW1vdmVUYWlsKGEpLGQ9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSxiKTtkLmRlcHRoKys7ZC5zdHlsZUJhc2VVcmw9YzshdGhpcy5zdHlsZXNbYV0mJiFPcGVuTGF5ZXJzLlN0cmluZy5zdGFydHNXaXRoKGEsIiMiKSYmZC5kZXB0aDw9dGhpcy5tYXhEZXB0aCYmIXRoaXMuZmV0Y2hlZFtjXSYmKGM9dGhpcy5mZXRjaExpbmsoYykpJiZ0aGlzLnBhcnNlRGF0YShjLGQpO3JldHVybiBPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LHRoaXMuc3R5bGVzW2FdKX0scGFyc2VHZW9tZXRyeTp7cG9pbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsdGhpcy5pbnRlcm5hbG5zLCJjb29yZGluYXRlcyIpLGE9W107aWYoMDxiLmxlbmd0aCl2YXIgYz1iWzBdLmZpcnN0Q2hpbGQubm9kZVZhbHVlLApjPWMucmVwbGFjZSh0aGlzLnJlZ0V4ZXMucmVtb3ZlU3BhY2UsIiIpLGE9Yy5zcGxpdCgiLCIpO2I9bnVsbDtpZigxPGEubGVuZ3RoKTI9PWEubGVuZ3RoJiYoYVsyXT1udWxsKSxiPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGFbMF0sYVsxXSxhWzJdKTtlbHNlIHRocm93IkJhZCBjb29yZGluYXRlIHN0cmluZzogIitjO3JldHVybiBifSxsaW5lc3RyaW5nOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsdGhpcy5pbnRlcm5hbG5zLCJjb29yZGluYXRlcyIpLGQ9bnVsbDtpZigwPGMubGVuZ3RoKXtmb3IodmFyIGM9dGhpcy5nZXRDaGlsZFZhbHVlKGNbMF0pLGM9Yy5yZXBsYWNlKHRoaXMucmVnRXhlcy50cmltU3BhY2UsIiIpLGM9Yy5yZXBsYWNlKHRoaXMucmVnRXhlcy50cmltQ29tbWEsIiwiKSxkPWMuc3BsaXQodGhpcy5yZWdFeGVzLnNwbGl0U3BhY2UpLGU9ZC5sZW5ndGgsZj1BcnJheShlKSxnLGgsaT0wO2k8ZTsrK2kpaWYoZz0KZFtpXS5zcGxpdCgiLCIpLGg9Zy5sZW5ndGgsMTxoKTI9PWcubGVuZ3RoJiYoZ1syXT1udWxsKSxmW2ldPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGdbMF0sZ1sxXSxnWzJdKTtlbHNlIHRocm93IkJhZCBMaW5lU3RyaW5nIHBvaW50IGNvb3JkaW5hdGVzOiAiK2RbaV07aWYoZSlkPWI/bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyhmKTpuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nKGYpO2Vsc2UgdGhyb3ciQmFkIExpbmVTdHJpbmcgY29vcmRpbmF0ZXM6ICIrYzt9cmV0dXJuIGR9LHBvbHlnb246ZnVuY3Rpb24oYSl7dmFyIGE9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsdGhpcy5pbnRlcm5hbG5zLCJMaW5lYXJSaW5nIiksYj1hLmxlbmd0aCxjPUFycmF5KGIpO2lmKDA8Yilmb3IodmFyIGQ9MCxlPWEubGVuZ3RoO2Q8ZTsrK2QpaWYoYj10aGlzLnBhcnNlR2VvbWV0cnkubGluZXN0cmluZy5hcHBseSh0aGlzLFthW2RdLCEwXSkpY1tkXT0KYjtlbHNlIHRocm93IkJhZCBMaW5lYXJSaW5nIGdlb21ldHJ5OiAiK2Q7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24oYyl9LG11bHRpZ2VvbWV0cnk6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9W10sZD1hLmNoaWxkTm9kZXMsZT0wLGY9ZC5sZW5ndGg7ZTxmOysrZSlhPWRbZV0sMT09YS5ub2RlVHlwZSYmKGI9YS5wcmVmaXg/YS5ub2RlTmFtZS5zcGxpdCgiOiIpWzFdOmEubm9kZU5hbWUsKGI9dGhpcy5wYXJzZUdlb21ldHJ5W2IudG9Mb3dlckNhc2UoKV0pJiZjLnB1c2goYi5hcHBseSh0aGlzLFthXSkpKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuQ29sbGVjdGlvbihjKX19LHBhcnNlQXR0cmlidXRlczpmdW5jdGlvbihhKXt2YXIgYj17fSxjPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIkV4dGVuZGVkRGF0YSIpO2MubGVuZ3RoJiYoYj10aGlzLnBhcnNlRXh0ZW5kZWREYXRhKGNbMF0pKTtmb3IodmFyIGQsZSxmLGE9YS5jaGlsZE5vZGVzLGM9CjAsZz1hLmxlbmd0aDtjPGc7KytjKWlmKGQ9YVtjXSwxPT1kLm5vZGVUeXBlJiYoZT1kLmNoaWxkTm9kZXMsMTw9ZS5sZW5ndGgmJjM+PWUubGVuZ3RoKSl7c3dpdGNoKGUubGVuZ3RoKXtjYXNlIDE6Zj1lWzBdO2JyZWFrO2Nhc2UgMjpmPWVbMF07ZT1lWzFdO2Y9Mz09Zi5ub2RlVHlwZXx8ND09Zi5ub2RlVHlwZT9mOmU7YnJlYWs7ZGVmYXVsdDpmPWVbMV19aWYoMz09Zi5ub2RlVHlwZXx8ND09Zi5ub2RlVHlwZSlpZihkPWQucHJlZml4P2Qubm9kZU5hbWUuc3BsaXQoIjoiKVsxXTpkLm5vZGVOYW1lLGY9T3BlbkxheWVycy5VdGlsLmdldFhtbE5vZGVWYWx1ZShmKSlmPWYucmVwbGFjZSh0aGlzLnJlZ0V4ZXMudHJpbVNwYWNlLCIiKSxiW2RdPWZ9cmV0dXJuIGJ9LHBhcnNlRXh0ZW5kZWREYXRhOmZ1bmN0aW9uKGEpe3ZhciBiPXt9LGMsZCxlLGYsZz1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJEYXRhIik7Yz0wO2ZvcihkPWcubGVuZ3RoO2M8ZDtjKyspe2U9Z1tjXTtmPWUuZ2V0QXR0cmlidXRlKCJuYW1lIik7CnZhciBoPXt9LGk9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidmFsdWUiKTtpLmxlbmd0aCYmKGgudmFsdWU9dGhpcy5nZXRDaGlsZFZhbHVlKGlbMF0pKTt0aGlzLmt2cEF0dHJpYnV0ZXM/YltmXT1oLnZhbHVlOihlPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpc3BsYXlOYW1lIiksZS5sZW5ndGgmJihoLmRpc3BsYXlOYW1lPXRoaXMuZ2V0Q2hpbGRWYWx1ZShlWzBdKSksYltmXT1oKX1hPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIlNpbXBsZURhdGEiKTtjPTA7Zm9yKGQ9YS5sZW5ndGg7YzxkO2MrKyloPXt9LGU9YVtjXSxmPWUuZ2V0QXR0cmlidXRlKCJuYW1lIiksaC52YWx1ZT10aGlzLmdldENoaWxkVmFsdWUoZSksdGhpcy5rdnBBdHRyaWJ1dGVzP2JbZl09aC52YWx1ZTooaC5kaXNwbGF5TmFtZT1mLGJbZl09aCk7cmV0dXJuIGJ9LHBhcnNlUHJvcGVydHk6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGE9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsYixjKTt0cnl7ZD1PcGVuTGF5ZXJzLlV0aWwuZ2V0WG1sTm9kZVZhbHVlKGFbMF0pfWNhdGNoKGUpe2Q9Cm51bGx9cmV0dXJuIGR9LHdyaXRlOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEpfHwoYT1bYV0pO2Zvcih2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmttbG5zLCJrbWwiKSxjPXRoaXMuY3JlYXRlRm9sZGVyWE1MKCksZD0wLGU9YS5sZW5ndGg7ZDxlOysrZCljLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlUGxhY2VtYXJrWE1MKGFbZF0pKTtiLmFwcGVuZENoaWxkKGMpO3JldHVybiBPcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLndyaXRlLmFwcGx5KHRoaXMsW2JdKX0sY3JlYXRlRm9sZGVyWE1MOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5rbWxucywiRm9sZGVyIik7aWYodGhpcy5mb2xkZXJzTmFtZSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5rbWxucywibmFtZSIpLGM9dGhpcy5jcmVhdGVUZXh0Tm9kZSh0aGlzLmZvbGRlcnNOYW1lKTtiLmFwcGVuZENoaWxkKGMpO2EuYXBwZW5kQ2hpbGQoYil9dGhpcy5mb2xkZXJzRGVzYyYmCihiPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMua21sbnMsImRlc2NyaXB0aW9uIiksYz10aGlzLmNyZWF0ZVRleHROb2RlKHRoaXMuZm9sZGVyc0Rlc2MpLGIuYXBwZW5kQ2hpbGQoYyksYS5hcHBlbmRDaGlsZChiKSk7cmV0dXJuIGF9LGNyZWF0ZVBsYWNlbWFya1hNTDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmttbG5zLCJuYW1lIiksYz1hLnN0eWxlJiZhLnN0eWxlLmxhYmVsP2Euc3R5bGUubGFiZWw6YS5pZDtiLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlVGV4dE5vZGUoYS5hdHRyaWJ1dGVzLm5hbWV8fGMpKTt2YXIgZD10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmttbG5zLCJkZXNjcmlwdGlvbiIpO2QuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVUZXh0Tm9kZShhLmF0dHJpYnV0ZXMuZGVzY3JpcHRpb258fHRoaXMucGxhY2VtYXJrc0Rlc2MpKTtjPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMua21sbnMsIlBsYWNlbWFyayIpO251bGwhPQphLmZpZCYmYy5zZXRBdHRyaWJ1dGUoImlkIixhLmZpZCk7Yy5hcHBlbmRDaGlsZChiKTtjLmFwcGVuZENoaWxkKGQpO2EuYXR0cmlidXRlcyYmKGI9dGhpcy5idWlsZEV4dGVuZGVkRGF0YShhLmF0dHJpYnV0ZXMpKSYmYy5hcHBlbmRDaGlsZChiKTthPXRoaXMuYnVpbGRHZW9tZXRyeU5vZGUoYS5nZW9tZXRyeSk7Yy5hcHBlbmRDaGlsZChhKTtyZXR1cm4gY30sYnVpbGRHZW9tZXRyeU5vZGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5DTEFTU19OQU1FLGI9Yi5zdWJzdHJpbmcoYi5sYXN0SW5kZXhPZigiLiIpKzEpLGI9dGhpcy5idWlsZEdlb21ldHJ5W2IudG9Mb3dlckNhc2UoKV0sYz1udWxsO2ImJihjPWIuYXBwbHkodGhpcyxbYV0pKTtyZXR1cm4gY30sYnVpbGRHZW9tZXRyeTp7cG9pbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5rbWxucywiUG9pbnQiKTtiLmFwcGVuZENoaWxkKHRoaXMuYnVpbGRDb29yZGluYXRlc05vZGUoYSkpO3JldHVybiBifSwKbXVsdGlwb2ludDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5idWlsZEdlb21ldHJ5LmNvbGxlY3Rpb24uYXBwbHkodGhpcyxbYV0pfSxsaW5lc3RyaW5nOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMua21sbnMsIkxpbmVTdHJpbmciKTtiLmFwcGVuZENoaWxkKHRoaXMuYnVpbGRDb29yZGluYXRlc05vZGUoYSkpO3JldHVybiBifSxtdWx0aWxpbmVzdHJpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYnVpbGRHZW9tZXRyeS5jb2xsZWN0aW9uLmFwcGx5KHRoaXMsW2FdKX0sbGluZWFycmluZzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmttbG5zLCJMaW5lYXJSaW5nIik7Yi5hcHBlbmRDaGlsZCh0aGlzLmJ1aWxkQ29vcmRpbmF0ZXNOb2RlKGEpKTtyZXR1cm4gYn0scG9seWdvbjpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5rbWxucywiUG9seWdvbiIpLGE9YS5jb21wb25lbnRzLApjLGQsZT0wLGY9YS5sZW5ndGg7ZTxmOysrZSljPTA9PWU/Im91dGVyQm91bmRhcnlJcyI6ImlubmVyQm91bmRhcnlJcyIsYz10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmttbG5zLGMpLGQ9dGhpcy5idWlsZEdlb21ldHJ5LmxpbmVhcnJpbmcuYXBwbHkodGhpcyxbYVtlXV0pLGMuYXBwZW5kQ2hpbGQoZCksYi5hcHBlbmRDaGlsZChjKTtyZXR1cm4gYn0sbXVsdGlwb2x5Z29uOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmJ1aWxkR2VvbWV0cnkuY29sbGVjdGlvbi5hcHBseSh0aGlzLFthXSl9LGNvbGxlY3Rpb246ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMua21sbnMsIk11bHRpR2VvbWV0cnkiKSxjLGQ9MCxlPWEuY29tcG9uZW50cy5sZW5ndGg7ZDxlOysrZCkoYz10aGlzLmJ1aWxkR2VvbWV0cnlOb2RlLmFwcGx5KHRoaXMsW2EuY29tcG9uZW50c1tkXV0pKSYmYi5hcHBlbmRDaGlsZChjKTtyZXR1cm4gYn19LGJ1aWxkQ29vcmRpbmF0ZXNOb2RlOmZ1bmN0aW9uKGEpe3ZhciBiPQp0aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmttbG5zLCJjb29yZGluYXRlcyIpLGM7aWYoYz1hLmNvbXBvbmVudHMpe2Zvcih2YXIgZD1jLmxlbmd0aCxlPUFycmF5KGQpLGY9MDtmPGQ7KytmKWE9Y1tmXSxlW2ZdPXRoaXMuYnVpbGRDb29yZGluYXRlcyhhKTtjPWUuam9pbigiICIpfWVsc2UgYz10aGlzLmJ1aWxkQ29vcmRpbmF0ZXMoYSk7Yz10aGlzLmNyZWF0ZVRleHROb2RlKGMpO2IuYXBwZW5kQ2hpbGQoYyk7cmV0dXJuIGJ9LGJ1aWxkQ29vcmRpbmF0ZXM6ZnVuY3Rpb24oYSl7dGhpcy5pbnRlcm5hbFByb2plY3Rpb24mJnRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uJiYoYT1hLmNsb25lKCksYS50cmFuc2Zvcm0odGhpcy5pbnRlcm5hbFByb2plY3Rpb24sdGhpcy5leHRlcm5hbFByb2plY3Rpb24pKTtyZXR1cm4gYS54KyIsIithLnl9LGJ1aWxkRXh0ZW5kZWREYXRhOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMua21sbnMsIkV4dGVuZGVkRGF0YSIpLApjO2ZvcihjIGluIGEpaWYoYVtjXSYmIm5hbWUiIT1jJiYiZGVzY3JpcHRpb24iIT1jJiYic3R5bGVVcmwiIT1jKXt2YXIgZD10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmttbG5zLCJEYXRhIik7ZC5zZXRBdHRyaWJ1dGUoIm5hbWUiLGMpO3ZhciBlPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMua21sbnMsInZhbHVlIik7aWYoIm9iamVjdCI9PXR5cGVvZiBhW2NdKXtpZihhW2NdLnZhbHVlJiZlLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlVGV4dE5vZGUoYVtjXS52YWx1ZSkpLGFbY10uZGlzcGxheU5hbWUpe3ZhciBmPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMua21sbnMsImRpc3BsYXlOYW1lIik7Zi5hcHBlbmRDaGlsZCh0aGlzLmdldFhNTERvYygpLmNyZWF0ZUNEQVRBU2VjdGlvbihhW2NdLmRpc3BsYXlOYW1lKSk7ZC5hcHBlbmRDaGlsZChmKX19ZWxzZSBlLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlVGV4dE5vZGUoYVtjXSkpO2QuYXBwZW5kQ2hpbGQoZSk7Yi5hcHBlbmRDaGlsZChkKX1yZXR1cm4gdGhpcy5pc1NpbXBsZUNvbnRlbnQoYik/Cm51bGw6Yn0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuS01MIn0pO09wZW5MYXllcnMuUG9wdXA9T3BlbkxheWVycy5DbGFzcyh7ZXZlbnRzOm51bGwsaWQ6IiIsbG9ubGF0Om51bGwsZGl2Om51bGwsY29udGVudFNpemU6bnVsbCxzaXplOm51bGwsY29udGVudEhUTUw6bnVsbCxiYWNrZ3JvdW5kQ29sb3I6IiIsb3BhY2l0eToiIixib3JkZXI6IiIsY29udGVudERpdjpudWxsLGdyb3VwRGl2Om51bGwsY2xvc2VEaXY6bnVsbCxhdXRvU2l6ZTohMSxtaW5TaXplOm51bGwsbWF4U2l6ZTpudWxsLGRpc3BsYXlDbGFzczoib2xQb3B1cCIsY29udGVudERpc3BsYXlDbGFzczoib2xQb3B1cENvbnRlbnQiLHBhZGRpbmc6MCxkaXNhYmxlRmlyZWZveE92ZXJmbG93SGFjazohMSxmaXhQYWRkaW5nOmZ1bmN0aW9uKCl7Im51bWJlciI9PXR5cGVvZiB0aGlzLnBhZGRpbmcmJih0aGlzLnBhZGRpbmc9bmV3IE9wZW5MYXllcnMuQm91bmRzKHRoaXMucGFkZGluZyx0aGlzLnBhZGRpbmcsdGhpcy5wYWRkaW5nLHRoaXMucGFkZGluZykpfSxwYW5NYXBJZk91dE9mVmlldzohMSwKa2VlcEluTWFwOiExLGNsb3NlT25Nb3ZlOiExLG1hcDpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe251bGw9PWEmJihhPU9wZW5MYXllcnMuVXRpbC5jcmVhdGVVbmlxdWVJRCh0aGlzLkNMQVNTX05BTUUrIl8iKSk7dGhpcy5pZD1hO3RoaXMubG9ubGF0PWI7dGhpcy5jb250ZW50U2l6ZT1udWxsIT1jP2M6bmV3IE9wZW5MYXllcnMuU2l6ZShPcGVuTGF5ZXJzLlBvcHVwLldJRFRILE9wZW5MYXllcnMuUG9wdXAuSEVJR0hUKTtudWxsIT1kJiYodGhpcy5jb250ZW50SFRNTD1kKTt0aGlzLmJhY2tncm91bmRDb2xvcj1PcGVuTGF5ZXJzLlBvcHVwLkNPTE9SO3RoaXMub3BhY2l0eT1PcGVuTGF5ZXJzLlBvcHVwLk9QQUNJVFk7dGhpcy5ib3JkZXI9T3BlbkxheWVycy5Qb3B1cC5CT1JERVI7dGhpcy5kaXY9T3BlbkxheWVycy5VdGlsLmNyZWF0ZURpdih0aGlzLmlkLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCwiaGlkZGVuIik7dGhpcy5kaXYuY2xhc3NOYW1lPXRoaXMuZGlzcGxheUNsYXNzOwp0aGlzLmdyb3VwRGl2PU9wZW5MYXllcnMuVXRpbC5jcmVhdGVEaXYodGhpcy5pZCsiX0dyb3VwRGl2IixudWxsLG51bGwsbnVsbCwicmVsYXRpdmUiLG51bGwsImhpZGRlbiIpO2E9dGhpcy5kaXYuaWQrIl9jb250ZW50RGl2Ijt0aGlzLmNvbnRlbnREaXY9T3BlbkxheWVycy5VdGlsLmNyZWF0ZURpdihhLG51bGwsdGhpcy5jb250ZW50U2l6ZS5jbG9uZSgpLG51bGwsInJlbGF0aXZlIik7dGhpcy5jb250ZW50RGl2LmNsYXNzTmFtZT10aGlzLmNvbnRlbnREaXNwbGF5Q2xhc3M7dGhpcy5ncm91cERpdi5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnREaXYpO3RoaXMuZGl2LmFwcGVuZENoaWxkKHRoaXMuZ3JvdXBEaXYpO2UmJnRoaXMuYWRkQ2xvc2VCb3goZik7dGhpcy5yZWdpc3RlckV2ZW50cygpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5ib3JkZXI9dGhpcy5vcGFjaXR5PXRoaXMuYmFja2dyb3VuZENvbG9yPXRoaXMuY29udGVudEhUTUw9dGhpcy5zaXplPXRoaXMubG9ubGF0PXRoaXMuaWQ9Cm51bGw7dGhpcy5jbG9zZU9uTW92ZSYmdGhpcy5tYXAmJnRoaXMubWFwLmV2ZW50cy51bnJlZ2lzdGVyKCJtb3Zlc3RhcnQiLHRoaXMsdGhpcy5oaWRlKTt0aGlzLmV2ZW50cy5kZXN0cm95KCk7dGhpcy5ldmVudHM9bnVsbDt0aGlzLmNsb3NlRGl2JiYoT3BlbkxheWVycy5FdmVudC5zdG9wT2JzZXJ2aW5nRWxlbWVudCh0aGlzLmNsb3NlRGl2KSx0aGlzLmdyb3VwRGl2LnJlbW92ZUNoaWxkKHRoaXMuY2xvc2VEaXYpKTt0aGlzLmNsb3NlRGl2PW51bGw7dGhpcy5kaXYucmVtb3ZlQ2hpbGQodGhpcy5ncm91cERpdik7dGhpcy5ncm91cERpdj1udWxsO251bGwhPXRoaXMubWFwJiZ0aGlzLm1hcC5yZW1vdmVQb3B1cCh0aGlzKTt0aGlzLnBhbk1hcElmT3V0T2ZWaWV3PXRoaXMucGFkZGluZz10aGlzLm1heFNpemU9dGhpcy5taW5TaXplPXRoaXMuYXV0b1NpemU9dGhpcy5kaXY9dGhpcy5tYXA9bnVsbH0sZHJhdzpmdW5jdGlvbihhKXtudWxsPT1hJiZudWxsIT10aGlzLmxvbmxhdCYmbnVsbCE9CnRoaXMubWFwJiYoYT10aGlzLm1hcC5nZXRMYXllclB4RnJvbUxvbkxhdCh0aGlzLmxvbmxhdCkpO3RoaXMuY2xvc2VPbk1vdmUmJnRoaXMubWFwLmV2ZW50cy5yZWdpc3RlcigibW92ZXN0YXJ0Iix0aGlzLHRoaXMuaGlkZSk7IXRoaXMuZGlzYWJsZUZpcmVmb3hPdmVyZmxvd0hhY2smJiJmaXJlZm94Ij09T3BlbkxheWVycy5CUk9XU0VSX05BTUUmJih0aGlzLm1hcC5ldmVudHMucmVnaXN0ZXIoIm1vdmVzdGFydCIsdGhpcyxmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUodGhpcy5jb250ZW50RGl2LG51bGwpLmdldFByb3BlcnR5VmFsdWUoIm92ZXJmbG93Iik7ImhpZGRlbiIhPWEmJih0aGlzLmNvbnRlbnREaXYuX29sZE92ZXJmbG93PWEsdGhpcy5jb250ZW50RGl2LnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iKX0pLHRoaXMubWFwLmV2ZW50cy5yZWdpc3RlcigibW92ZWVuZCIsdGhpcyxmdW5jdGlvbigpe3ZhciBhPXRoaXMuY29udGVudERpdi5fb2xkT3ZlcmZsb3c7CmEmJih0aGlzLmNvbnRlbnREaXYuc3R5bGUub3ZlcmZsb3c9YSx0aGlzLmNvbnRlbnREaXYuX29sZE92ZXJmbG93PW51bGwpfSkpO3RoaXMubW92ZVRvKGEpOyF0aGlzLmF1dG9TaXplJiYhdGhpcy5zaXplJiZ0aGlzLnNldFNpemUodGhpcy5jb250ZW50U2l6ZSk7dGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IoKTt0aGlzLnNldE9wYWNpdHkoKTt0aGlzLnNldEJvcmRlcigpO3RoaXMuc2V0Q29udGVudEhUTUwoKTt0aGlzLnBhbk1hcElmT3V0T2ZWaWV3JiZ0aGlzLnBhbkludG9WaWV3KCk7cmV0dXJuIHRoaXMuZGl2fSx1cGRhdGVQb3NpdGlvbjpmdW5jdGlvbigpe2lmKHRoaXMubG9ubGF0JiZ0aGlzLm1hcCl7dmFyIGE9dGhpcy5tYXAuZ2V0TGF5ZXJQeEZyb21Mb25MYXQodGhpcy5sb25sYXQpO2EmJnRoaXMubW92ZVRvKGEpfX0sbW92ZVRvOmZ1bmN0aW9uKGEpe251bGwhPWEmJm51bGwhPXRoaXMuZGl2JiYodGhpcy5kaXYuc3R5bGUubGVmdD1hLngrInB4Iix0aGlzLmRpdi5zdHlsZS50b3A9CmEueSsicHgiKX0sdmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiBPcGVuTGF5ZXJzLkVsZW1lbnQudmlzaWJsZSh0aGlzLmRpdil9LHRvZ2dsZTpmdW5jdGlvbigpe3RoaXMudmlzaWJsZSgpP3RoaXMuaGlkZSgpOnRoaXMuc2hvdygpfSxzaG93OmZ1bmN0aW9uKCl7dGhpcy5kaXYuc3R5bGUuZGlzcGxheT0iIjt0aGlzLnBhbk1hcElmT3V0T2ZWaWV3JiZ0aGlzLnBhbkludG9WaWV3KCl9LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLmRpdi5zdHlsZS5kaXNwbGF5PSJub25lIn0sc2V0U2l6ZTpmdW5jdGlvbihhKXt0aGlzLnNpemU9YS5jbG9uZSgpO3ZhciBiPXRoaXMuZ2V0Q29udGVudERpdlBhZGRpbmcoKSxjPWIubGVmdCtiLnJpZ2h0LGQ9Yi50b3ArYi5ib3R0b207dGhpcy5maXhQYWRkaW5nKCk7Yys9dGhpcy5wYWRkaW5nLmxlZnQrdGhpcy5wYWRkaW5nLnJpZ2h0O2QrPXRoaXMucGFkZGluZy50b3ArdGhpcy5wYWRkaW5nLmJvdHRvbTtpZih0aGlzLmNsb3NlRGl2KXZhciBlPXBhcnNlSW50KHRoaXMuY2xvc2VEaXYuc3R5bGUud2lkdGgpLApjPWMrKGUrYi5yaWdodCk7dGhpcy5zaXplLncrPWM7dGhpcy5zaXplLmgrPWQ7Im1zaWUiPT1PcGVuTGF5ZXJzLkJST1dTRVJfTkFNRSYmKHRoaXMuY29udGVudFNpemUudys9Yi5sZWZ0K2IucmlnaHQsdGhpcy5jb250ZW50U2l6ZS5oKz1iLmJvdHRvbStiLnRvcCk7bnVsbCE9dGhpcy5kaXYmJih0aGlzLmRpdi5zdHlsZS53aWR0aD10aGlzLnNpemUudysicHgiLHRoaXMuZGl2LnN0eWxlLmhlaWdodD10aGlzLnNpemUuaCsicHgiKTtudWxsIT10aGlzLmNvbnRlbnREaXYmJih0aGlzLmNvbnRlbnREaXYuc3R5bGUud2lkdGg9YS53KyJweCIsdGhpcy5jb250ZW50RGl2LnN0eWxlLmhlaWdodD1hLmgrInB4Iil9LHVwZGF0ZVNpemU6ZnVuY3Rpb24oKXt2YXIgYT0iPGRpdiBjbGFzcz0nIit0aGlzLmNvbnRlbnREaXNwbGF5Q2xhc3MrIic+Iit0aGlzLmNvbnRlbnREaXYuaW5uZXJIVE1MKyI8L2Rpdj4iLGI9dGhpcy5tYXA/dGhpcy5tYXAuZGl2OmRvY3VtZW50LmJvZHksYz1PcGVuTGF5ZXJzLlV0aWwuZ2V0UmVuZGVyZWREaW1lbnNpb25zKGEsCm51bGwse2Rpc3BsYXlDbGFzczp0aGlzLmRpc3BsYXlDbGFzcyxjb250YWluZXJFbGVtZW50OmJ9KSxkPXRoaXMuZ2V0U2FmZUNvbnRlbnRTaXplKGMpLGU9bnVsbDtkLmVxdWFscyhjKT9lPWM6KGM9e3c6ZC53PGMudz9kLnc6bnVsbCxoOmQuaDxjLmg/ZC5oOm51bGx9LGMudyYmYy5oP2U9ZDooYT1PcGVuTGF5ZXJzLlV0aWwuZ2V0UmVuZGVyZWREaW1lbnNpb25zKGEsYyx7ZGlzcGxheUNsYXNzOnRoaXMuY29udGVudERpc3BsYXlDbGFzcyxjb250YWluZXJFbGVtZW50OmJ9KSwiaGlkZGVuIiE9T3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKHRoaXMuY29udGVudERpdiwib3ZlcmZsb3ciKSYmYS5lcXVhbHMoZCkmJihkPU9wZW5MYXllcnMuVXRpbC5nZXRTY3JvbGxiYXJXaWR0aCgpLGMudz9hLmgrPWQ6YS53Kz1kKSxlPXRoaXMuZ2V0U2FmZUNvbnRlbnRTaXplKGEpKSk7dGhpcy5zZXRTaXplKGUpfSxzZXRCYWNrZ3JvdW5kQ29sb3I6ZnVuY3Rpb24oYSl7dm9pZCAwIT1hJiYodGhpcy5iYWNrZ3JvdW5kQ29sb3I9CmEpO251bGwhPXRoaXMuZGl2JiYodGhpcy5kaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yPXRoaXMuYmFja2dyb3VuZENvbG9yKX0sc2V0T3BhY2l0eTpmdW5jdGlvbihhKXt2b2lkIDAhPWEmJih0aGlzLm9wYWNpdHk9YSk7bnVsbCE9dGhpcy5kaXYmJih0aGlzLmRpdi5zdHlsZS5vcGFjaXR5PXRoaXMub3BhY2l0eSx0aGlzLmRpdi5zdHlsZS5maWx0ZXI9ImFscGhhKG9wYWNpdHk9IisxMDAqdGhpcy5vcGFjaXR5KyIpIil9LHNldEJvcmRlcjpmdW5jdGlvbihhKXt2b2lkIDAhPWEmJih0aGlzLmJvcmRlcj1hKTtudWxsIT10aGlzLmRpdiYmKHRoaXMuZGl2LnN0eWxlLmJvcmRlcj10aGlzLmJvcmRlcil9LHNldENvbnRlbnRIVE1MOmZ1bmN0aW9uKGEpe251bGwhPWEmJih0aGlzLmNvbnRlbnRIVE1MPWEpO251bGwhPXRoaXMuY29udGVudERpdiYmKG51bGwhPXRoaXMuY29udGVudEhUTUwmJnRoaXMuY29udGVudEhUTUwhPXRoaXMuY29udGVudERpdi5pbm5lckhUTUwpJiYodGhpcy5jb250ZW50RGl2LmlubmVySFRNTD0KdGhpcy5jb250ZW50SFRNTCx0aGlzLmF1dG9TaXplJiYodGhpcy5yZWdpc3RlckltYWdlTGlzdGVuZXJzKCksdGhpcy51cGRhdGVTaXplKCkpKX0scmVnaXN0ZXJJbWFnZUxpc3RlbmVyczpmdW5jdGlvbigpe2Zvcih2YXIgYT1mdW5jdGlvbigpe251bGwhPT10aGlzLnBvcHVwLmlkJiYodGhpcy5wb3B1cC51cGRhdGVTaXplKCksdGhpcy5wb3B1cC52aXNpYmxlKCkmJnRoaXMucG9wdXAucGFuTWFwSWZPdXRPZlZpZXcmJnRoaXMucG9wdXAucGFuSW50b1ZpZXcoKSxPcGVuTGF5ZXJzLkV2ZW50LnN0b3BPYnNlcnZpbmcodGhpcy5pbWcsImxvYWQiLHRoaXMuaW1nLl9vbkltZ0xvYWQpKX0sYj10aGlzLmNvbnRlbnREaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImltZyIpLGM9MCxkPWIubGVuZ3RoO2M8ZDtjKyspe3ZhciBlPWJbY107aWYoMD09ZS53aWR0aHx8MD09ZS5oZWlnaHQpZS5fb25JbWdMb2FkPU9wZW5MYXllcnMuRnVuY3Rpb24uYmluZChhLHtwb3B1cDp0aGlzLGltZzplfSksCk9wZW5MYXllcnMuRXZlbnQub2JzZXJ2ZShlLCJsb2FkIixlLl9vbkltZ0xvYWQpfX0sZ2V0U2FmZUNvbnRlbnRTaXplOmZ1bmN0aW9uKGEpe3ZhciBhPWEuY2xvbmUoKSxiPXRoaXMuZ2V0Q29udGVudERpdlBhZGRpbmcoKSxjPWIubGVmdCtiLnJpZ2h0LGQ9Yi50b3ArYi5ib3R0b207dGhpcy5maXhQYWRkaW5nKCk7Yys9dGhpcy5wYWRkaW5nLmxlZnQrdGhpcy5wYWRkaW5nLnJpZ2h0O2QrPXRoaXMucGFkZGluZy50b3ArdGhpcy5wYWRkaW5nLmJvdHRvbTtpZih0aGlzLmNsb3NlRGl2KXZhciBlPXBhcnNlSW50KHRoaXMuY2xvc2VEaXYuc3R5bGUud2lkdGgpLGM9YysoZStiLnJpZ2h0KTt0aGlzLm1pblNpemUmJihhLnc9TWF0aC5tYXgoYS53LHRoaXMubWluU2l6ZS53LWMpLGEuaD1NYXRoLm1heChhLmgsdGhpcy5taW5TaXplLmgtZCkpO3RoaXMubWF4U2l6ZSYmKGEudz1NYXRoLm1pbihhLncsdGhpcy5tYXhTaXplLnctYyksYS5oPU1hdGgubWluKGEuaCx0aGlzLm1heFNpemUuaC0KZCkpO2lmKHRoaXMubWFwJiZ0aGlzLm1hcC5zaXplKXtlPWI9MDtpZih0aGlzLmtlZXBJbk1hcCYmIXRoaXMucGFuTWFwSWZPdXRPZlZpZXcpc3dpdGNoKGU9dGhpcy5tYXAuZ2V0UGl4ZWxGcm9tTG9uTGF0KHRoaXMubG9ubGF0KSx0aGlzLnJlbGF0aXZlUG9zaXRpb24pe2Nhc2UgInRyIjpiPWUueDtlPXRoaXMubWFwLnNpemUuaC1lLnk7YnJlYWs7Y2FzZSAidGwiOmI9dGhpcy5tYXAuc2l6ZS53LWUueDtlPXRoaXMubWFwLnNpemUuaC1lLnk7YnJlYWs7Y2FzZSAiYmwiOmI9dGhpcy5tYXAuc2l6ZS53LWUueDtlPWUueTticmVhaztjYXNlICJiciI6Yj1lLng7ZT1lLnk7YnJlYWs7ZGVmYXVsdDpiPWUueCxlPXRoaXMubWFwLnNpemUuaC1lLnl9ZD10aGlzLm1hcC5zaXplLmgtdGhpcy5tYXAucGFkZGluZ0ZvclBvcHVwcy50b3AtdGhpcy5tYXAucGFkZGluZ0ZvclBvcHVwcy5ib3R0b20tZC1lO2Eudz1NYXRoLm1pbihhLncsdGhpcy5tYXAuc2l6ZS53LXRoaXMubWFwLnBhZGRpbmdGb3JQb3B1cHMubGVmdC0KdGhpcy5tYXAucGFkZGluZ0ZvclBvcHVwcy5yaWdodC1jLWIpO2EuaD1NYXRoLm1pbihhLmgsZCl9cmV0dXJuIGF9LGdldENvbnRlbnREaXZQYWRkaW5nOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fY29udGVudERpdlBhZGRpbmc7YXx8KG51bGw9PXRoaXMuZGl2LnBhcmVudE5vZGUmJih0aGlzLmRpdi5zdHlsZS5kaXNwbGF5PSJub25lIixkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZGl2KSksdGhpcy5fY29udGVudERpdlBhZGRpbmc9YT1uZXcgT3BlbkxheWVycy5Cb3VuZHMoT3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKHRoaXMuY29udGVudERpdiwicGFkZGluZy1sZWZ0IiksT3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKHRoaXMuY29udGVudERpdiwicGFkZGluZy1ib3R0b20iKSxPcGVuTGF5ZXJzLkVsZW1lbnQuZ2V0U3R5bGUodGhpcy5jb250ZW50RGl2LCJwYWRkaW5nLXJpZ2h0IiksT3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKHRoaXMuY29udGVudERpdiwKInBhZGRpbmctdG9wIikpLHRoaXMuZGl2LnBhcmVudE5vZGU9PWRvY3VtZW50LmJvZHkmJihkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuZGl2KSx0aGlzLmRpdi5zdHlsZS5kaXNwbGF5PSIiKSk7cmV0dXJuIGF9LGFkZENsb3NlQm94OmZ1bmN0aW9uKGEpe3RoaXMuY2xvc2VEaXY9T3BlbkxheWVycy5VdGlsLmNyZWF0ZURpdih0aGlzLmlkKyJfY2xvc2UiLG51bGwse3c6MTcsaDoxN30pO3RoaXMuY2xvc2VEaXYuY2xhc3NOYW1lPSJvbFBvcHVwQ2xvc2VCb3giO3ZhciBiPXRoaXMuZ2V0Q29udGVudERpdlBhZGRpbmcoKTt0aGlzLmNsb3NlRGl2LnN0eWxlLnJpZ2h0PWIucmlnaHQrInB4Ijt0aGlzLmNsb3NlRGl2LnN0eWxlLnRvcD1iLnRvcCsicHgiO3RoaXMuZ3JvdXBEaXYuYXBwZW5kQ2hpbGQodGhpcy5jbG9zZURpdik7YT1hfHxmdW5jdGlvbihhKXt0aGlzLmhpZGUoKTtPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSl9O09wZW5MYXllcnMuRXZlbnQub2JzZXJ2ZSh0aGlzLmNsb3NlRGl2LAoidG91Y2hlbmQiLE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZEFzRXZlbnRMaXN0ZW5lcihhLHRoaXMpKTtPcGVuTGF5ZXJzLkV2ZW50Lm9ic2VydmUodGhpcy5jbG9zZURpdiwiY2xpY2siLE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZEFzRXZlbnRMaXN0ZW5lcihhLHRoaXMpKX0scGFuSW50b1ZpZXc6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm1hcC5nZXRTaXplKCksYj10aGlzLm1hcC5nZXRWaWV3UG9ydFB4RnJvbUxheWVyUHgobmV3IE9wZW5MYXllcnMuUGl4ZWwocGFyc2VJbnQodGhpcy5kaXYuc3R5bGUubGVmdCkscGFyc2VJbnQodGhpcy5kaXYuc3R5bGUudG9wKSkpLGM9Yi5jbG9uZSgpO2IueDx0aGlzLm1hcC5wYWRkaW5nRm9yUG9wdXBzLmxlZnQ/Yy54PXRoaXMubWFwLnBhZGRpbmdGb3JQb3B1cHMubGVmdDpiLngrdGhpcy5zaXplLnc+YS53LXRoaXMubWFwLnBhZGRpbmdGb3JQb3B1cHMucmlnaHQmJihjLng9YS53LXRoaXMubWFwLnBhZGRpbmdGb3JQb3B1cHMucmlnaHQtdGhpcy5zaXplLncpOwpiLnk8dGhpcy5tYXAucGFkZGluZ0ZvclBvcHVwcy50b3A/Yy55PXRoaXMubWFwLnBhZGRpbmdGb3JQb3B1cHMudG9wOmIueSt0aGlzLnNpemUuaD5hLmgtdGhpcy5tYXAucGFkZGluZ0ZvclBvcHVwcy5ib3R0b20mJihjLnk9YS5oLXRoaXMubWFwLnBhZGRpbmdGb3JQb3B1cHMuYm90dG9tLXRoaXMuc2l6ZS5oKTt0aGlzLm1hcC5wYW4oYi54LWMueCxiLnktYy55KX0scmVnaXN0ZXJFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLmV2ZW50cz1uZXcgT3BlbkxheWVycy5FdmVudHModGhpcyx0aGlzLmRpdixudWxsLCEwKTt0aGlzLmV2ZW50cy5vbih7bW91c2Vkb3duOnRoaXMub25tb3VzZWRvd24sbW91c2Vtb3ZlOnRoaXMub25tb3VzZW1vdmUsbW91c2V1cDp0aGlzLm9ubW91c2V1cCxjbGljazp0aGlzLm9uY2xpY2ssbW91c2VvdXQ6dGhpcy5vbm1vdXNlb3V0LGRibGNsaWNrOnRoaXMub25kYmxjbGljayx0b3VjaHN0YXJ0OmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRXZlbnQuc3RvcChhLCEwKX0sCnNjb3BlOnRoaXN9KX0sb25tb3VzZWRvd246ZnVuY3Rpb24oYSl7dGhpcy5tb3VzZWRvd249ITA7T3BlbkxheWVycy5FdmVudC5zdG9wKGEsITApfSxvbm1vdXNlbW92ZTpmdW5jdGlvbihhKXt0aGlzLm1vdXNlZG93biYmT3BlbkxheWVycy5FdmVudC5zdG9wKGEsITApfSxvbm1vdXNldXA6ZnVuY3Rpb24oYSl7dGhpcy5tb3VzZWRvd24mJih0aGlzLm1vdXNlZG93bj0hMSxPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSwhMCkpfSxvbmNsaWNrOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRXZlbnQuc3RvcChhLCEwKX0sb25tb3VzZW91dDpmdW5jdGlvbigpe3RoaXMubW91c2Vkb3duPSExfSxvbmRibGNsaWNrOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRXZlbnQuc3RvcChhLCEwKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Qb3B1cCJ9KTtPcGVuTGF5ZXJzLlBvcHVwLldJRFRIPTIwMDtPcGVuTGF5ZXJzLlBvcHVwLkhFSUdIVD0yMDA7T3BlbkxheWVycy5Qb3B1cC5DT0xPUj0id2hpdGUiOwpPcGVuTGF5ZXJzLlBvcHVwLk9QQUNJVFk9MTtPcGVuTGF5ZXJzLlBvcHVwLkJPUkRFUj0iMHB4IjtPcGVuTGF5ZXJzLlBvcHVwLkFuY2hvcmVkPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Qb3B1cCx7cmVsYXRpdmVQb3NpdGlvbjpudWxsLGtlZXBJbk1hcDohMCxhbmNob3I6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe09wZW5MYXllcnMuUG9wdXAucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYSxiLGMsZCxmLGddKTt0aGlzLmFuY2hvcj1udWxsIT1lP2U6e3NpemU6bmV3IE9wZW5MYXllcnMuU2l6ZSgwLDApLG9mZnNldDpuZXcgT3BlbkxheWVycy5QaXhlbCgwLDApfX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMucmVsYXRpdmVQb3NpdGlvbj10aGlzLmFuY2hvcj1udWxsO09wZW5MYXllcnMuUG9wdXAucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzaG93OmZ1bmN0aW9uKCl7dGhpcy51cGRhdGVQb3NpdGlvbigpO09wZW5MYXllcnMuUG9wdXAucHJvdG90eXBlLnNob3cuYXBwbHkodGhpcyxhcmd1bWVudHMpfSwKbW92ZVRvOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucmVsYXRpdmVQb3NpdGlvbjt0aGlzLnJlbGF0aXZlUG9zaXRpb249dGhpcy5jYWxjdWxhdGVSZWxhdGl2ZVBvc2l0aW9uKGEpO09wZW5MYXllcnMuUG9wdXAucHJvdG90eXBlLm1vdmVUby5jYWxsKHRoaXMsdGhpcy5jYWxjdWxhdGVOZXdQeChhKSk7dGhpcy5yZWxhdGl2ZVBvc2l0aW9uIT1iJiZ0aGlzLnVwZGF0ZVJlbGF0aXZlUG9zaXRpb24oKX0sc2V0U2l6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlBvcHVwLnByb3RvdHlwZS5zZXRTaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZih0aGlzLmxvbmxhdCYmdGhpcy5tYXApe3ZhciBiPXRoaXMubWFwLmdldExheWVyUHhGcm9tTG9uTGF0KHRoaXMubG9ubGF0KTt0aGlzLm1vdmVUbyhiKX19LGNhbGN1bGF0ZVJlbGF0aXZlUG9zaXRpb246ZnVuY3Rpb24oYSl7YT10aGlzLm1hcC5nZXRMb25MYXRGcm9tTGF5ZXJQeChhKTthPXRoaXMubWFwLmdldEV4dGVudCgpLmRldGVybWluZVF1YWRyYW50KGEpOwpyZXR1cm4gT3BlbkxheWVycy5Cb3VuZHMub3Bwb3NpdGVRdWFkcmFudChhKX0sdXBkYXRlUmVsYXRpdmVQb3NpdGlvbjpmdW5jdGlvbigpe30sY2FsY3VsYXRlTmV3UHg6ZnVuY3Rpb24oYSl7dmFyIGE9YS5vZmZzZXQodGhpcy5hbmNob3Iub2Zmc2V0KSxiPXRoaXMuc2l6ZXx8dGhpcy5jb250ZW50U2l6ZSxjPSJ0Ij09dGhpcy5yZWxhdGl2ZVBvc2l0aW9uLmNoYXJBdCgwKTthLnkrPWM/LWIuaDp0aGlzLmFuY2hvci5zaXplLmg7Yz0ibCI9PXRoaXMucmVsYXRpdmVQb3NpdGlvbi5jaGFyQXQoMSk7YS54Kz1jPy1iLnc6dGhpcy5hbmNob3Iuc2l6ZS53O3JldHVybiBhfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlBvcHVwLkFuY2hvcmVkIn0pOy8qCiBBcGFjaGUgMiAKCiBDb250YWlucyBwb3J0aW9ucyBvZiBSaWNvIDxodHRwOi8vb3BlbnJpY28ub3JnLz4KCiBDb3B5cmlnaHQgMjAwNSBTYWJyZSBBaXJsaW5lIFNvbHV0aW9ucyAgCgogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7IHlvdQogbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdQogbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wICAKCiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yCiBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcKIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4gCiovCk9wZW5MYXllcnMuQ29uc29sZS53YXJuKCJPcGVuTGF5ZXJzLlJpY28gaXMgZGVwcmVjYXRlZCIpO09wZW5MYXllcnMuUmljbz1PcGVuTGF5ZXJzLlJpY298fHt9OwpPcGVuTGF5ZXJzLlJpY28uQ29sb3I9T3BlbkxheWVycy5DbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyl7dGhpcy5yZ2I9e3I6YSxnOmIsYjpjfX0sc2V0UmVkOmZ1bmN0aW9uKGEpe3RoaXMucmdiLnI9YX0sc2V0R3JlZW46ZnVuY3Rpb24oYSl7dGhpcy5yZ2IuZz1hfSxzZXRCbHVlOmZ1bmN0aW9uKGEpe3RoaXMucmdiLmI9YX0sc2V0SHVlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYXNIU0IoKTtiLmg9YTt0aGlzLnJnYj1PcGVuTGF5ZXJzLlJpY28uQ29sb3IuSFNCdG9SR0IoYi5oLGIucyxiLmIpfSxzZXRTYXR1cmF0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYXNIU0IoKTtiLnM9YTt0aGlzLnJnYj1PcGVuTGF5ZXJzLlJpY28uQ29sb3IuSFNCdG9SR0IoYi5oLGIucyxiLmIpfSxzZXRCcmlnaHRuZXNzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYXNIU0IoKTtiLmI9YTt0aGlzLnJnYj1PcGVuTGF5ZXJzLlJpY28uQ29sb3IuSFNCdG9SR0IoYi5oLGIucyxiLmIpfSwKZGFya2VuOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYXNIU0IoKTt0aGlzLnJnYj1PcGVuTGF5ZXJzLlJpY28uQ29sb3IuSFNCdG9SR0IoYi5oLGIucyxNYXRoLm1heChiLmItYSwwKSl9LGJyaWdodGVuOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYXNIU0IoKTt0aGlzLnJnYj1PcGVuTGF5ZXJzLlJpY28uQ29sb3IuSFNCdG9SR0IoYi5oLGIucyxNYXRoLm1pbihiLmIrYSwxKSl9LGJsZW5kOmZ1bmN0aW9uKGEpe3RoaXMucmdiLnI9TWF0aC5mbG9vcigodGhpcy5yZ2IucithLnJnYi5yKS8yKTt0aGlzLnJnYi5nPU1hdGguZmxvb3IoKHRoaXMucmdiLmcrYS5yZ2IuZykvMik7dGhpcy5yZ2IuYj1NYXRoLmZsb29yKCh0aGlzLnJnYi5iK2EucmdiLmIpLzIpfSxpc0JyaWdodDpmdW5jdGlvbigpe3RoaXMuYXNIU0IoKTtyZXR1cm4gMC41PHRoaXMuYXNIU0IoKS5ifSxpc0Rhcms6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0JyaWdodCgpfSxhc1JHQjpmdW5jdGlvbigpe3JldHVybiJyZ2IoIisKdGhpcy5yZ2IucisiLCIrdGhpcy5yZ2IuZysiLCIrdGhpcy5yZ2IuYisiKSJ9LGFzSGV4OmZ1bmN0aW9uKCl7cmV0dXJuIiMiK3RoaXMucmdiLnIudG9Db2xvclBhcnQoKSt0aGlzLnJnYi5nLnRvQ29sb3JQYXJ0KCkrdGhpcy5yZ2IuYi50b0NvbG9yUGFydCgpfSxhc0hTQjpmdW5jdGlvbigpe3JldHVybiBPcGVuTGF5ZXJzLlJpY28uQ29sb3IuUkdCdG9IU0IodGhpcy5yZ2Iucix0aGlzLnJnYi5nLHRoaXMucmdiLmIpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFzSGV4KCl9fSk7Ck9wZW5MYXllcnMuUmljby5Db2xvci5jcmVhdGVGcm9tSGV4PWZ1bmN0aW9uKGEpe2lmKDQ9PWEubGVuZ3RoKWZvcih2YXIgYj1hLGE9IiMiLGM9MTs0PmM7YysrKWErPWIuY2hhckF0KGMpK2IuY2hhckF0KGMpOzA9PWEuaW5kZXhPZigiIyIpJiYoYT1hLnN1YnN0cmluZygxKSk7Yj1hLnN1YnN0cmluZygwLDIpO2M9YS5zdWJzdHJpbmcoMiw0KTthPWEuc3Vic3RyaW5nKDQsNik7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLlJpY28uQ29sb3IocGFyc2VJbnQoYiwxNikscGFyc2VJbnQoYywxNikscGFyc2VJbnQoYSwxNikpfTsKT3BlbkxheWVycy5SaWNvLkNvbG9yLmNyZWF0ZUNvbG9yRnJvbUJhY2tncm91bmQ9ZnVuY3Rpb24oYSl7dmFyIGI9T3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKE9wZW5MYXllcnMuVXRpbC5nZXRFbGVtZW50KGEpLCJiYWNrZ3JvdW5kQ29sb3IiKTtyZXR1cm4idHJhbnNwYXJlbnQiPT1iJiZhLnBhcmVudE5vZGU/T3BlbkxheWVycy5SaWNvLkNvbG9yLmNyZWF0ZUNvbG9yRnJvbUJhY2tncm91bmQoYS5wYXJlbnROb2RlKTpudWxsPT1iP25ldyBPcGVuTGF5ZXJzLlJpY28uQ29sb3IoMjU1LDI1NSwyNTUpOjA9PWIuaW5kZXhPZigicmdiKCIpPyhhPWIuc3Vic3RyaW5nKDQsYi5sZW5ndGgtMSkuc3BsaXQoIiwiKSxuZXcgT3BlbkxheWVycy5SaWNvLkNvbG9yKHBhcnNlSW50KGFbMF0pLHBhcnNlSW50KGFbMV0pLHBhcnNlSW50KGFbMl0pKSk6MD09Yi5pbmRleE9mKCIjIik/T3BlbkxheWVycy5SaWNvLkNvbG9yLmNyZWF0ZUZyb21IZXgoYik6bmV3IE9wZW5MYXllcnMuUmljby5Db2xvcigyNTUsCjI1NSwyNTUpfTsKT3BlbkxheWVycy5SaWNvLkNvbG9yLkhTQnRvUkdCPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD0wLGU9MCxmPTA7aWYoMD09YilmPWU9ZD1wYXJzZUludCgyNTUqYyswLjUpO2Vsc2V7dmFyIGE9NiooYS1NYXRoLmZsb29yKGEpKSxnPWEtTWF0aC5mbG9vcihhKSxoPWMqKDEtYiksaT1jKigxLWIqZyksYj1jKigxLWIqKDEtZykpO3N3aXRjaChwYXJzZUludChhKSl7Y2FzZSAwOmQ9MjU1KmMrMC41O2U9MjU1KmIrMC41O2Y9MjU1KmgrMC41O2JyZWFrO2Nhc2UgMTpkPTI1NSppKzAuNTtlPTI1NSpjKzAuNTtmPTI1NSpoKzAuNTticmVhaztjYXNlIDI6ZD0yNTUqaCswLjU7ZT0yNTUqYyswLjU7Zj0yNTUqYiswLjU7YnJlYWs7Y2FzZSAzOmQ9MjU1KmgrMC41O2U9MjU1KmkrMC41O2Y9MjU1KmMrMC41O2JyZWFrO2Nhc2UgNDpkPTI1NSpiKzAuNTtlPTI1NSpoKzAuNTtmPTI1NSpjKzAuNTticmVhaztjYXNlIDU6ZD0yNTUqYyswLjUsZT0yNTUqaCswLjUsZj0yNTUqaSswLjV9fXJldHVybntyOnBhcnNlSW50KGQpLGc6cGFyc2VJbnQoZSksCmI6cGFyc2VJbnQoZil9fTtPcGVuTGF5ZXJzLlJpY28uQ29sb3IuUkdCdG9IU0I9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9YT5iP2E6YjtjPmUmJihlPWMpO3ZhciBmPWE8Yj9hOmI7YzxmJiYoZj1jKTtkPTAhPWU/KGUtZikvZTowO2lmKDA9PWQpYT0wO2Vsc2V7dmFyIGc9KGUtYSkvKGUtZiksaD0oZS1iKS8oZS1mKSxjPShlLWMpLyhlLWYpLGE9KGE9PWU/Yy1oOmI9PWU/MitnLWM6NCtoLWcpLzY7MD5hJiYoYSs9MSl9cmV0dXJue2g6YSxzOmQsYjplLzI1NX19O09wZW5MYXllcnMuQ29uc29sZS53YXJuKCJPcGVuTGF5ZXJzLlJpY28gaXMgZGVwcmVjYXRlZCIpO09wZW5MYXllcnMuUmljbz1PcGVuTGF5ZXJzLlJpY298fHt9OwpPcGVuTGF5ZXJzLlJpY28uQ29ybmVyPXtyb3VuZDpmdW5jdGlvbihhLGIpe2E9T3BlbkxheWVycy5VdGlsLmdldEVsZW1lbnQoYSk7dGhpcy5fc2V0T3B0aW9ucyhiKTt2YXIgYz10aGlzLm9wdGlvbnMuY29sb3I7ImZyb21FbGVtZW50Ij09dGhpcy5vcHRpb25zLmNvbG9yJiYoYz10aGlzLl9iYWNrZ3JvdW5kKGEpKTt2YXIgZD10aGlzLm9wdGlvbnMuYmdDb2xvcjsiZnJvbVBhcmVudCI9PXRoaXMub3B0aW9ucy5iZ0NvbG9yJiYoZD10aGlzLl9iYWNrZ3JvdW5kKGEub2Zmc2V0UGFyZW50KSk7dGhpcy5fcm91bmRDb3JuZXJzSW1wbChhLGMsZCl9LGNoYW5nZUNvbG9yOmZ1bmN0aW9uKGEsYil7YS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9Yjtmb3IodmFyIGM9YS5wYXJlbnROb2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzcGFuIiksZD0wO2Q8Yy5sZW5ndGg7ZCsrKWNbZF0uc3R5bGUuYmFja2dyb3VuZENvbG9yPWJ9LGNoYW5nZU9wYWNpdHk6ZnVuY3Rpb24oYSxiKXt2YXIgYz0iYWxwaGEob3BhY2l0eT0iKwoxMDAqYisiKSI7YS5zdHlsZS5vcGFjaXR5PWI7YS5zdHlsZS5maWx0ZXI9Yztmb3IodmFyIGQ9YS5wYXJlbnROb2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzcGFuIiksZT0wO2U8ZC5sZW5ndGg7ZSsrKWRbZV0uc3R5bGUub3BhY2l0eT1iLGRbZV0uc3R5bGUuZmlsdGVyPWN9LHJlUm91bmQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnBhcmVudE5vZGUuY2hpbGROb2Rlc1syXTthLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYS5wYXJlbnROb2RlLmNoaWxkTm9kZXNbMF0pO2EucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKTt0aGlzLnJvdW5kKGEucGFyZW50Tm9kZSxiKX0sX3JvdW5kQ29ybmVyc0ltcGw6ZnVuY3Rpb24oYSxiLGMpe3RoaXMub3B0aW9ucy5ib3JkZXImJnRoaXMuX3JlbmRlckJvcmRlcihhLGMpO3RoaXMuX2lzVG9wUm91bmRlZCgpJiZ0aGlzLl9yb3VuZFRvcENvcm5lcnMoYSxiLGMpO3RoaXMuX2lzQm90dG9tUm91bmRlZCgpJiZ0aGlzLl9yb3VuZEJvdHRvbUNvcm5lcnMoYSwKYixjKX0sX3JlbmRlckJvcmRlcjpmdW5jdGlvbihhLGIpe3ZhciBjPSIxcHggc29saWQgIit0aGlzLl9ib3JkZXJDb2xvcihiKTthLmlubmVySFRNTD0iPGRpdiAiKygic3R5bGU9J2JvcmRlci1sZWZ0OiAiK2MrIjsiKygiYm9yZGVyLXJpZ2h0OiAiK2MpKyInIikrIj4iK2EuaW5uZXJIVE1MKyI8L2Rpdj4ifSxfcm91bmRUb3BDb3JuZXJzOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9dGhpcy5fY3JlYXRlQ29ybmVyKGMpLGU9MDtlPHRoaXMub3B0aW9ucy5udW1TbGljZXM7ZSsrKWQuYXBwZW5kQ2hpbGQodGhpcy5fY3JlYXRlQ29ybmVyU2xpY2UoYixjLGUsInRvcCIpKTthLnN0eWxlLnBhZGRpbmdUb3A9MDthLmluc2VydEJlZm9yZShkLGEuZmlyc3RDaGlsZCl9LF9yb3VuZEJvdHRvbUNvcm5lcnM6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD10aGlzLl9jcmVhdGVDb3JuZXIoYyksZT10aGlzLm9wdGlvbnMubnVtU2xpY2VzLTE7MDw9ZTtlLS0pZC5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVDb3JuZXJTbGljZShiLApjLGUsImJvdHRvbSIpKTthLnN0eWxlLnBhZGRpbmdCb3R0b209MDthLmFwcGVuZENoaWxkKGQpfSxfY3JlYXRlQ29ybmVyOmZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Iuc3R5bGUuYmFja2dyb3VuZENvbG9yPXRoaXMuX2lzVHJhbnNwYXJlbnQoKT8idHJhbnNwYXJlbnQiOmE7cmV0dXJuIGJ9LF9jcmVhdGVDb3JuZXJTbGljZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIiksZj1lLnN0eWxlO2YuYmFja2dyb3VuZENvbG9yPWE7Zi5kaXNwbGF5PSJibG9jayI7Zi5oZWlnaHQ9IjFweCI7Zi5vdmVyZmxvdz0iaGlkZGVuIjtmLmZvbnRTaXplPSIxcHgiO2E9dGhpcy5fYm9yZGVyQ29sb3IoYSxiKTt0aGlzLm9wdGlvbnMuYm9yZGVyJiYwPT1jPyhmLmJvcmRlclRvcFN0eWxlPSJzb2xpZCIsZi5ib3JkZXJUb3BXaWR0aD0iMXB4IixmLmJvcmRlckxlZnRXaWR0aD0iMHB4IixmLmJvcmRlclJpZ2h0V2lkdGg9CiIwcHgiLGYuYm9yZGVyQm90dG9tV2lkdGg9IjBweCIsZi5oZWlnaHQ9IjBweCIsZi5ib3JkZXJDb2xvcj1hKTphJiYoZi5ib3JkZXJDb2xvcj1hLGYuYm9yZGVyU3R5bGU9InNvbGlkIixmLmJvcmRlcldpZHRoPSIwcHggMXB4Iik7IXRoaXMub3B0aW9ucy5jb21wYWN0JiZjPT10aGlzLm9wdGlvbnMubnVtU2xpY2VzLTEmJihmLmhlaWdodD0iMnB4Iik7dGhpcy5fc2V0TWFyZ2luKGUsYyxkKTt0aGlzLl9zZXRCb3JkZXIoZSxjLGQpO3JldHVybiBlfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt0aGlzLm9wdGlvbnM9e2Nvcm5lcnM6ImFsbCIsY29sb3I6ImZyb21FbGVtZW50IixiZ0NvbG9yOiJmcm9tUGFyZW50IixibGVuZDohMCxib3JkZXI6ITEsY29tcGFjdDohMX07T3BlbkxheWVycy5VdGlsLmV4dGVuZCh0aGlzLm9wdGlvbnMsYXx8e30pO3RoaXMub3B0aW9ucy5udW1TbGljZXM9dGhpcy5vcHRpb25zLmNvbXBhY3Q/Mjo0O3RoaXMuX2lzVHJhbnNwYXJlbnQoKSYmKHRoaXMub3B0aW9ucy5ibGVuZD0KITEpfSxfd2hpY2hTaWRlVG9wOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hhc1N0cmluZyh0aGlzLm9wdGlvbnMuY29ybmVycywiYWxsIiwidG9wIil8fDA8PXRoaXMub3B0aW9ucy5jb3JuZXJzLmluZGV4T2YoInRsIikmJjA8PXRoaXMub3B0aW9ucy5jb3JuZXJzLmluZGV4T2YoInRyIik/IiI6MDw9dGhpcy5vcHRpb25zLmNvcm5lcnMuaW5kZXhPZigidGwiKT8ibGVmdCI6MDw9dGhpcy5vcHRpb25zLmNvcm5lcnMuaW5kZXhPZigidHIiKT8icmlnaHQiOiIifSxfd2hpY2hTaWRlQm90dG9tOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hhc1N0cmluZyh0aGlzLm9wdGlvbnMuY29ybmVycywiYWxsIiwiYm90dG9tIil8fDA8PXRoaXMub3B0aW9ucy5jb3JuZXJzLmluZGV4T2YoImJsIikmJjA8PXRoaXMub3B0aW9ucy5jb3JuZXJzLmluZGV4T2YoImJyIik/IiI6MDw9dGhpcy5vcHRpb25zLmNvcm5lcnMuaW5kZXhPZigiYmwiKT8ibGVmdCI6MDw9dGhpcy5vcHRpb25zLmNvcm5lcnMuaW5kZXhPZigiYnIiKT8KInJpZ2h0IjoiIn0sX2JvcmRlckNvbG9yOmZ1bmN0aW9uKGEsYil7cmV0dXJuInRyYW5zcGFyZW50Ij09YT9iOnRoaXMub3B0aW9ucy5ib3JkZXI/dGhpcy5vcHRpb25zLmJvcmRlcjp0aGlzLm9wdGlvbnMuYmxlbmQ/dGhpcy5fYmxlbmQoYixhKToiIn0sX3NldE1hcmdpbjpmdW5jdGlvbihhLGIsYyl7Yj10aGlzLl9tYXJnaW5TaXplKGIpO2M9InRvcCI9PWM/dGhpcy5fd2hpY2hTaWRlVG9wKCk6dGhpcy5fd2hpY2hTaWRlQm90dG9tKCk7ImxlZnQiPT1jPyhhLnN0eWxlLm1hcmdpbkxlZnQ9YisicHgiLGEuc3R5bGUubWFyZ2luUmlnaHQ9IjBweCIpOiJyaWdodCI9PWM/KGEuc3R5bGUubWFyZ2luUmlnaHQ9YisicHgiLGEuc3R5bGUubWFyZ2luTGVmdD0iMHB4Iik6KGEuc3R5bGUubWFyZ2luTGVmdD1iKyJweCIsYS5zdHlsZS5tYXJnaW5SaWdodD1iKyJweCIpfSxfc2V0Qm9yZGVyOmZ1bmN0aW9uKGEsYixjKXtiPXRoaXMuX2JvcmRlclNpemUoYik7Yz0idG9wIj09Yz90aGlzLl93aGljaFNpZGVUb3AoKToKdGhpcy5fd2hpY2hTaWRlQm90dG9tKCk7ImxlZnQiPT1jPyhhLnN0eWxlLmJvcmRlckxlZnRXaWR0aD1iKyJweCIsYS5zdHlsZS5ib3JkZXJSaWdodFdpZHRoPSIwcHgiKToicmlnaHQiPT1jPyhhLnN0eWxlLmJvcmRlclJpZ2h0V2lkdGg9YisicHgiLGEuc3R5bGUuYm9yZGVyTGVmdFdpZHRoPSIwcHgiKTooYS5zdHlsZS5ib3JkZXJMZWZ0V2lkdGg9YisicHgiLGEuc3R5bGUuYm9yZGVyUmlnaHRXaWR0aD1iKyJweCIpOyExIT10aGlzLm9wdGlvbnMuYm9yZGVyJiYoYS5zdHlsZS5ib3JkZXJMZWZ0V2lkdGg9YisicHgiLGEuc3R5bGUuYm9yZGVyUmlnaHRXaWR0aD1iKyJweCIpfSxfbWFyZ2luU2l6ZTpmdW5jdGlvbihhKXtpZih0aGlzLl9pc1RyYW5zcGFyZW50KCkpcmV0dXJuIDA7dmFyIGI9WzUsMywyLDFdLGM9WzMsMiwxLDBdLGQ9WzIsMV0sZT1bMSwwXTtyZXR1cm4gdGhpcy5vcHRpb25zLmNvbXBhY3QmJnRoaXMub3B0aW9ucy5ibGVuZD9lW2FdOnRoaXMub3B0aW9ucy5jb21wYWN0PwpkW2FdOnRoaXMub3B0aW9ucy5ibGVuZD9jW2FdOmJbYV19LF9ib3JkZXJTaXplOmZ1bmN0aW9uKGEpe3ZhciBiPVs1LDMsMiwxXSxjPVsyLDEsMSwxXSxkPVsxLDBdLGU9WzAsMiwwLDBdO3JldHVybiB0aGlzLm9wdGlvbnMuY29tcGFjdCYmKHRoaXMub3B0aW9ucy5ibGVuZHx8dGhpcy5faXNUcmFuc3BhcmVudCgpKT8xOnRoaXMub3B0aW9ucy5jb21wYWN0P2RbYV06dGhpcy5vcHRpb25zLmJsZW5kP2NbYV06dGhpcy5vcHRpb25zLmJvcmRlcj9lW2FdOnRoaXMuX2lzVHJhbnNwYXJlbnQoKT9iW2FdOjB9LF9oYXNTdHJpbmc6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTE7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKylpZigwPD1hLmluZGV4T2YoYXJndW1lbnRzW2JdKSlyZXR1cm4hMDtyZXR1cm4hMX0sX2JsZW5kOmZ1bmN0aW9uKGEsYil7dmFyIGM9T3BlbkxheWVycy5SaWNvLkNvbG9yLmNyZWF0ZUZyb21IZXgoYSk7Yy5ibGVuZChPcGVuTGF5ZXJzLlJpY28uQ29sb3IuY3JlYXRlRnJvbUhleChiKSk7CnJldHVybiBjfSxfYmFja2dyb3VuZDpmdW5jdGlvbihhKXt0cnl7cmV0dXJuIE9wZW5MYXllcnMuUmljby5Db2xvci5jcmVhdGVDb2xvckZyb21CYWNrZ3JvdW5kKGEpLmFzSGV4KCl9Y2F0Y2goYil7cmV0dXJuIiNmZmZmZmYifX0sX2lzVHJhbnNwYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4idHJhbnNwYXJlbnQiPT10aGlzLm9wdGlvbnMuY29sb3J9LF9pc1RvcFJvdW5kZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGFzU3RyaW5nKHRoaXMub3B0aW9ucy5jb3JuZXJzLCJhbGwiLCJ0b3AiLCJ0bCIsInRyIil9LF9pc0JvdHRvbVJvdW5kZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGFzU3RyaW5nKHRoaXMub3B0aW9ucy5jb3JuZXJzLCJhbGwiLCJib3R0b20iLCJibCIsImJyIil9LF9oYXNTaW5nbGVUZXh0Q2hpbGQ6ZnVuY3Rpb24oYSl7cmV0dXJuIDE9PWEuY2hpbGROb2Rlcy5sZW5ndGgmJjM9PWEuY2hpbGROb2Rlc1swXS5ub2RlVHlwZX19O09wZW5MYXllcnMuUG9wdXAuQW5jaG9yZWRCdWJibGU9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlBvcHVwLkFuY2hvcmVkLHtyb3VuZGVkOiExLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7T3BlbkxheWVycy5Db25zb2xlLndhcm4oIkFuY2hvcmVkQnViYmxlIGlzIGRlcHJlY2F0ZWQiKTt0aGlzLnBhZGRpbmc9bmV3IE9wZW5MYXllcnMuQm91bmRzKDAsT3BlbkxheWVycy5Qb3B1cC5BbmNob3JlZEJ1YmJsZS5DT1JORVJfU0laRSwwLE9wZW5MYXllcnMuUG9wdXAuQW5jaG9yZWRCdWJibGUuQ09STkVSX1NJWkUpO09wZW5MYXllcnMuUG9wdXAuQW5jaG9yZWQucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxkcmF3OmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuUG9wdXAuQW5jaG9yZWQucHJvdG90eXBlLmRyYXcuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuc2V0Q29udGVudEhUTUwoKTt0aGlzLnNldEJhY2tncm91bmRDb2xvcigpOwp0aGlzLnNldE9wYWNpdHkoKTtyZXR1cm4gdGhpcy5kaXZ9LHVwZGF0ZVJlbGF0aXZlUG9zaXRpb246ZnVuY3Rpb24oKXt0aGlzLnNldFJpY29Db3JuZXJzKCl9LHNldFNpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Qb3B1cC5BbmNob3JlZC5wcm90b3R5cGUuc2V0U2l6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5zZXRSaWNvQ29ybmVycygpfSxzZXRCYWNrZ3JvdW5kQ29sb3I6ZnVuY3Rpb24oYSl7dm9pZCAwIT1hJiYodGhpcy5iYWNrZ3JvdW5kQ29sb3I9YSk7bnVsbCE9dGhpcy5kaXYmJm51bGwhPXRoaXMuY29udGVudERpdiYmKHRoaXMuZGl2LnN0eWxlLmJhY2tncm91bmQ9InRyYW5zcGFyZW50IixPcGVuTGF5ZXJzLlJpY28uQ29ybmVyLmNoYW5nZUNvbG9yKHRoaXMuZ3JvdXBEaXYsdGhpcy5iYWNrZ3JvdW5kQ29sb3IpKX0sc2V0T3BhY2l0eTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlBvcHVwLkFuY2hvcmVkLnByb3RvdHlwZS5zZXRPcGFjaXR5LmNhbGwodGhpcywKYSk7bnVsbCE9dGhpcy5kaXYmJm51bGwhPXRoaXMuZ3JvdXBEaXYmJk9wZW5MYXllcnMuUmljby5Db3JuZXIuY2hhbmdlT3BhY2l0eSh0aGlzLmdyb3VwRGl2LHRoaXMub3BhY2l0eSl9LHNldEJvcmRlcjpmdW5jdGlvbigpe3RoaXMuYm9yZGVyPTB9LHNldFJpY29Db3JuZXJzOmZ1bmN0aW9uKCl7dmFyIGE9e2Nvcm5lcnM6dGhpcy5nZXRDb3JuZXJzVG9Sb3VuZCh0aGlzLnJlbGF0aXZlUG9zaXRpb24pLGNvbG9yOnRoaXMuYmFja2dyb3VuZENvbG9yLGJnQ29sb3I6InRyYW5zcGFyZW50IixibGVuZDohMX07dGhpcy5yb3VuZGVkPyhPcGVuTGF5ZXJzLlJpY28uQ29ybmVyLnJlUm91bmQodGhpcy5ncm91cERpdixhKSx0aGlzLnNldEJhY2tncm91bmRDb2xvcigpLHRoaXMuc2V0T3BhY2l0eSgpKTooT3BlbkxheWVycy5SaWNvLkNvcm5lci5yb3VuZCh0aGlzLmRpdixhKSx0aGlzLnJvdW5kZWQ9ITApfSxnZXRDb3JuZXJzVG9Sb3VuZDpmdW5jdGlvbigpe3ZhciBhPVsidGwiLCJ0ciIsCiJibCIsImJyIl0sYj1PcGVuTGF5ZXJzLkJvdW5kcy5vcHBvc2l0ZVF1YWRyYW50KHRoaXMucmVsYXRpdmVQb3NpdGlvbik7T3BlbkxheWVycy5VdGlsLnJlbW92ZUl0ZW0oYSxiKTtyZXR1cm4gYS5qb2luKCIgIil9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuUG9wdXAuQW5jaG9yZWRCdWJibGUifSk7T3BlbkxheWVycy5Qb3B1cC5BbmNob3JlZEJ1YmJsZS5DT1JORVJfU0laRT01O09wZW5MYXllcnMuUHJvdG9jb2wuV0ZTLnYxPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Qcm90b2NvbCx7dmVyc2lvbjpudWxsLHNyc05hbWU6IkVQU0c6NDMyNiIsZmVhdHVyZVR5cGU6bnVsbCxmZWF0dXJlTlM6bnVsbCxnZW9tZXRyeU5hbWU6InRoZV9nZW9tIixzY2hlbWE6bnVsbCxmZWF0dXJlUHJlZml4OiJmZWF0dXJlIixmb3JtYXRPcHRpb25zOm51bGwscmVhZEZvcm1hdDpudWxsLHJlYWRPcHRpb25zOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlByb3RvY29sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKTthLmZvcm1hdHx8KHRoaXMuZm9ybWF0PU9wZW5MYXllcnMuRm9ybWF0LldGU1QoT3BlbkxheWVycy5VdGlsLmV4dGVuZCh7dmVyc2lvbjp0aGlzLnZlcnNpb24sZmVhdHVyZVR5cGU6dGhpcy5mZWF0dXJlVHlwZSxmZWF0dXJlTlM6dGhpcy5mZWF0dXJlTlMsZmVhdHVyZVByZWZpeDp0aGlzLmZlYXR1cmVQcmVmaXgsZ2VvbWV0cnlOYW1lOnRoaXMuZ2VvbWV0cnlOYW1lLApzcnNOYW1lOnRoaXMuc3JzTmFtZSxzY2hlbWE6dGhpcy5zY2hlbWF9LHRoaXMuZm9ybWF0T3B0aW9ucykpKTshYS5nZW9tZXRyeU5hbWUmJjE8cGFyc2VGbG9hdCh0aGlzLmZvcm1hdC52ZXJzaW9uKSYmdGhpcy5zZXRHZW9tZXRyeU5hbWUobnVsbCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMmJiF0aGlzLm9wdGlvbnMuZm9ybWF0JiZ0aGlzLmZvcm1hdC5kZXN0cm95KCk7dGhpcy5mb3JtYXQ9bnVsbDtPcGVuTGF5ZXJzLlByb3RvY29sLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMpfSxyZWFkOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuUHJvdG9jb2wucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2E9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSxhKTtPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLHRoaXMub3B0aW9uc3x8e30pO3ZhciBiPW5ldyBPcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlKHtyZXF1ZXN0VHlwZToicmVhZCJ9KSwKYz1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLndyaXRlLmFwcGx5KHRoaXMuZm9ybWF0LFt0aGlzLmZvcm1hdC53cml0ZU5vZGUoIndmczpHZXRGZWF0dXJlIixhKV0pO2IucHJpdj1PcGVuTGF5ZXJzLlJlcXVlc3QuUE9TVCh7dXJsOmEudXJsLGNhbGxiYWNrOnRoaXMuY3JlYXRlQ2FsbGJhY2sodGhpcy5oYW5kbGVSZWFkLGIsYSkscGFyYW1zOmEucGFyYW1zLGhlYWRlcnM6YS5oZWFkZXJzLGRhdGE6Y30pO3JldHVybiBifSxzZXRGZWF0dXJlVHlwZTpmdW5jdGlvbihhKXt0aGlzLmZlYXR1cmVUeXBlPWE7dGhpcy5mb3JtYXQuZmVhdHVyZVR5cGU9YX0sc2V0R2VvbWV0cnlOYW1lOmZ1bmN0aW9uKGEpe3RoaXMuZ2VvbWV0cnlOYW1lPWE7dGhpcy5mb3JtYXQuZ2VvbWV0cnlOYW1lPWF9LGhhbmRsZVJlYWQ6ZnVuY3Rpb24oYSxiKXtiPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe30sYik7T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYix0aGlzLm9wdGlvbnMpO2lmKGIuY2FsbGJhY2spe3ZhciBjPQphLnByaXY7MjAwPD1jLnN0YXR1cyYmMzAwPmMuc3RhdHVzPyhjPXRoaXMucGFyc2VSZXNwb25zZShjLGIucmVhZE9wdGlvbnMpKSYmITEhPT1jLnN1Y2Nlc3M/KGIucmVhZE9wdGlvbnMmJiJvYmplY3QiPT1iLnJlYWRPcHRpb25zLm91dHB1dD9PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGEsYyk6YS5mZWF0dXJlcz1jLGEuY29kZT1PcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlLlNVQ0NFU1MpOihhLmNvZGU9T3BlbkxheWVycy5Qcm90b2NvbC5SZXNwb25zZS5GQUlMVVJFLGEuZXJyb3I9Yyk6YS5jb2RlPU9wZW5MYXllcnMuUHJvdG9jb2wuUmVzcG9uc2UuRkFJTFVSRTtiLmNhbGxiYWNrLmNhbGwoYi5zY29wZSxhKX19LHBhcnNlUmVzcG9uc2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnJlc3BvbnNlWE1MO2lmKCFjfHwhYy5kb2N1bWVudEVsZW1lbnQpYz1hLnJlc3BvbnNlVGV4dDtpZighY3x8MD49Yy5sZW5ndGgpcmV0dXJuIG51bGw7Yz1udWxsIT09dGhpcy5yZWFkRm9ybWF0P3RoaXMucmVhZEZvcm1hdC5yZWFkKGMpOgp0aGlzLmZvcm1hdC5yZWFkKGMsYik7aWYoIXRoaXMuZmVhdHVyZU5TKXt2YXIgZD10aGlzLnJlYWRGb3JtYXR8fHRoaXMuZm9ybWF0O3RoaXMuZmVhdHVyZU5TPWQuZmVhdHVyZU5TO2QuYXV0b0NvbmZpZz0hMTt0aGlzLmdlb21ldHJ5TmFtZXx8dGhpcy5zZXRHZW9tZXRyeU5hbWUoZC5nZW9tZXRyeU5hbWUpfXJldHVybiBjfSxjb21taXQ6ZnVuY3Rpb24oYSxiKXtiPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe30sYik7T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYix0aGlzLm9wdGlvbnMpO3ZhciBjPW5ldyBPcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlKHtyZXF1ZXN0VHlwZToiY29tbWl0IixyZXFGZWF0dXJlczphfSk7Yy5wcml2PU9wZW5MYXllcnMuUmVxdWVzdC5QT1NUKHt1cmw6Yi51cmwsaGVhZGVyczpiLmhlYWRlcnMsZGF0YTp0aGlzLmZvcm1hdC53cml0ZShhLGIpLGNhbGxiYWNrOnRoaXMuY3JlYXRlQ2FsbGJhY2sodGhpcy5oYW5kbGVDb21taXQsYyxiKX0pOwpyZXR1cm4gY30saGFuZGxlQ29tbWl0OmZ1bmN0aW9uKGEsYil7aWYoYi5jYWxsYmFjayl7dmFyIGM9YS5wcml2LGQ9Yy5yZXNwb25zZVhNTDtpZighZHx8IWQuZG9jdW1lbnRFbGVtZW50KWQ9Yy5yZXNwb25zZVRleHQ7Yz10aGlzLmZvcm1hdC5yZWFkKGQpfHx7fTthLmluc2VydElkcz1jLmluc2VydElkc3x8W107Yy5zdWNjZXNzP2EuY29kZT1PcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlLlNVQ0NFU1M6KGEuY29kZT1PcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlLkZBSUxVUkUsYS5lcnJvcj1jKTtiLmNhbGxiYWNrLmNhbGwoYi5zY29wZSxhKX19LGZpbHRlckRlbGV0ZTpmdW5jdGlvbihhLGIpe2I9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSxiKTtPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhiLHRoaXMub3B0aW9ucyk7bmV3IE9wZW5MYXllcnMuUHJvdG9jb2wuUmVzcG9uc2Uoe3JlcXVlc3RUeXBlOiJjb21taXQifSk7dmFyIGM9dGhpcy5mb3JtYXQuY3JlYXRlRWxlbWVudE5TUGx1cygid2ZzOlRyYW5zYWN0aW9uIiwKe2F0dHJpYnV0ZXM6e3NlcnZpY2U6IldGUyIsdmVyc2lvbjp0aGlzLnZlcnNpb259fSksZD10aGlzLmZvcm1hdC5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3ZnM6RGVsZXRlIix7YXR0cmlidXRlczp7dHlwZU5hbWU6KGIuZmVhdHVyZU5TP3RoaXMuZmVhdHVyZVByZWZpeCsiOiI6IiIpK2IuZmVhdHVyZVR5cGV9fSk7Yi5mZWF0dXJlTlMmJmQuc2V0QXR0cmlidXRlKCJ4bWxuczoiK3RoaXMuZmVhdHVyZVByZWZpeCxiLmZlYXR1cmVOUyk7dmFyIGU9dGhpcy5mb3JtYXQud3JpdGVOb2RlKCJvZ2M6RmlsdGVyIixhKTtkLmFwcGVuZENoaWxkKGUpO2MuYXBwZW5kQ2hpbGQoZCk7Yz1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLndyaXRlLmFwcGx5KHRoaXMuZm9ybWF0LFtjXSk7cmV0dXJuIE9wZW5MYXllcnMuUmVxdWVzdC5QT1NUKHt1cmw6dGhpcy51cmwsY2FsbGJhY2s6Yi5jYWxsYmFja3x8ZnVuY3Rpb24oKXt9LGRhdGE6Y30pfSxhYm9ydDpmdW5jdGlvbihhKXthJiZhLnByaXYuYWJvcnQoKX0sCkNMQVNTX05BTUU6Ik9wZW5MYXllcnMuUHJvdG9jb2wuV0ZTLnYxIn0pO09wZW5MYXllcnMuSGFuZGxlci5GZWF0dXJlPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5IYW5kbGVyLHtFVkVOVE1BUDp7Y2xpY2s6eyJpbiI6ImNsaWNrIixvdXQ6ImNsaWNrb3V0In0sbW91c2Vtb3ZlOnsiaW4iOiJvdmVyIixvdXQ6Im91dCJ9LGRibGNsaWNrOnsiaW4iOiJkYmxjbGljayIsb3V0Om51bGx9LG1vdXNlZG93bjp7ImluIjpudWxsLG91dDpudWxsfSxtb3VzZXVwOnsiaW4iOm51bGwsb3V0Om51bGx9LHRvdWNoc3RhcnQ6eyJpbiI6ImNsaWNrIixvdXQ6ImNsaWNrb3V0In19LGZlYXR1cmU6bnVsbCxsYXN0RmVhdHVyZTpudWxsLGRvd246bnVsbCx1cDpudWxsLGNsaWNrVG9sZXJhbmNlOjQsZ2VvbWV0cnlUeXBlczpudWxsLHN0b3BDbGljazohMCxzdG9wRG93bjohMCxzdG9wVXA6ITEsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyxkKXtPcGVuTGF5ZXJzLkhhbmRsZXIucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYSxjLGRdKTt0aGlzLmxheWVyPQpifSx0b3VjaHN0YXJ0OmZ1bmN0aW9uKGEpe3RoaXMuc3RhcnRUb3VjaCgpO3JldHVybiBPcGVuTGF5ZXJzLkV2ZW50LmlzTXVsdGlUb3VjaChhKT8hMDp0aGlzLm1vdXNlZG93bihhKX0sdG91Y2htb3ZlOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRXZlbnQucHJldmVudERlZmF1bHQoYSl9LG1vdXNlZG93bjpmdW5jdGlvbihhKXtpZihPcGVuTGF5ZXJzLkV2ZW50LmlzTGVmdENsaWNrKGEpfHxPcGVuTGF5ZXJzLkV2ZW50LmlzU2luZ2xlVG91Y2goYSkpdGhpcy5kb3duPWEueHk7cmV0dXJuIHRoaXMuaGFuZGxlKGEpPyF0aGlzLnN0b3BEb3duOiEwfSxtb3VzZXVwOmZ1bmN0aW9uKGEpe3RoaXMudXA9YS54eTtyZXR1cm4gdGhpcy5oYW5kbGUoYSk/IXRoaXMuc3RvcFVwOiEwfSxjbGljazpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYW5kbGUoYSk/IXRoaXMuc3RvcENsaWNrOiEwfSxtb3VzZW1vdmU6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuY2FsbGJhY2tzLm92ZXImJiF0aGlzLmNhbGxiYWNrcy5vdXQpcmV0dXJuITA7CnRoaXMuaGFuZGxlKGEpO3JldHVybiEwfSxkYmxjbGljazpmdW5jdGlvbihhKXtyZXR1cm4hdGhpcy5oYW5kbGUoYSl9LGdlb21ldHJ5VHlwZU1hdGNoZXM6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PXRoaXMuZ2VvbWV0cnlUeXBlc3x8LTE8T3BlbkxheWVycy5VdGlsLmluZGV4T2YodGhpcy5nZW9tZXRyeVR5cGVzLGEuZ2VvbWV0cnkuQ0xBU1NfTkFNRSl9LGhhbmRsZTpmdW5jdGlvbihhKXt0aGlzLmZlYXR1cmUmJiF0aGlzLmZlYXR1cmUubGF5ZXImJih0aGlzLmZlYXR1cmU9bnVsbCk7dmFyIGI9YS50eXBlLGM9ITEsZD0hIXRoaXMuZmVhdHVyZSxlPSJjbGljayI9PWJ8fCJkYmxjbGljayI9PWJ8fCJ0b3VjaHN0YXJ0Ij09YjtpZigodGhpcy5mZWF0dXJlPXRoaXMubGF5ZXIuZ2V0RmVhdHVyZUZyb21FdmVudChhKSkmJiF0aGlzLmZlYXR1cmUubGF5ZXIpdGhpcy5mZWF0dXJlPW51bGw7dGhpcy5sYXN0RmVhdHVyZSYmIXRoaXMubGFzdEZlYXR1cmUubGF5ZXImJih0aGlzLmxhc3RGZWF0dXJlPQpudWxsKTt0aGlzLmZlYXR1cmU/KCJ0b3VjaHN0YXJ0Ij09PWImJk9wZW5MYXllcnMuRXZlbnQucHJldmVudERlZmF1bHQoYSksYT10aGlzLmZlYXR1cmUhPXRoaXMubGFzdEZlYXR1cmUsdGhpcy5nZW9tZXRyeVR5cGVNYXRjaGVzKHRoaXMuZmVhdHVyZSk/KGQmJmE/KHRoaXMubGFzdEZlYXR1cmUmJnRoaXMudHJpZ2dlckNhbGxiYWNrKGIsIm91dCIsW3RoaXMubGFzdEZlYXR1cmVdKSx0aGlzLnRyaWdnZXJDYWxsYmFjayhiLCJpbiIsW3RoaXMuZmVhdHVyZV0pKTooIWR8fGUpJiZ0aGlzLnRyaWdnZXJDYWxsYmFjayhiLCJpbiIsW3RoaXMuZmVhdHVyZV0pLHRoaXMubGFzdEZlYXR1cmU9dGhpcy5mZWF0dXJlLGM9ITApOih0aGlzLmxhc3RGZWF0dXJlJiYoZCYmYXx8ZSkmJnRoaXMudHJpZ2dlckNhbGxiYWNrKGIsIm91dCIsW3RoaXMubGFzdEZlYXR1cmVdKSx0aGlzLmZlYXR1cmU9bnVsbCkpOnRoaXMubGFzdEZlYXR1cmUmJihkfHxlKSYmdGhpcy50cmlnZ2VyQ2FsbGJhY2soYiwKIm91dCIsW3RoaXMubGFzdEZlYXR1cmVdKTtyZXR1cm4gY30sdHJpZ2dlckNhbGxiYWNrOmZ1bmN0aW9uKGEsYixjKXtpZihiPXRoaXMuRVZFTlRNQVBbYV1bYl0pImNsaWNrIj09YSYmdGhpcy51cCYmdGhpcy5kb3duPyhNYXRoLnNxcnQoTWF0aC5wb3codGhpcy51cC54LXRoaXMuZG93bi54LDIpK01hdGgucG93KHRoaXMudXAueS10aGlzLmRvd24ueSwyKSk8PXRoaXMuY2xpY2tUb2xlcmFuY2UmJnRoaXMuY2FsbGJhY2soYixjKSx0aGlzLnVwPXRoaXMuZG93bj1udWxsKTp0aGlzLmNhbGxiYWNrKGIsYyl9LGFjdGl2YXRlOmZ1bmN0aW9uKCl7dmFyIGE9ITE7T3BlbkxheWVycy5IYW5kbGVyLnByb3RvdHlwZS5hY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cykmJih0aGlzLm1vdmVMYXllclRvVG9wKCksdGhpcy5tYXAuZXZlbnRzLm9uKHtyZW1vdmVsYXllcjp0aGlzLmhhbmRsZU1hcEV2ZW50cyxjaGFuZ2VsYXllcjp0aGlzLmhhbmRsZU1hcEV2ZW50cyxzY29wZTp0aGlzfSksCmE9ITApO3JldHVybiBhfSxkZWFjdGl2YXRlOmZ1bmN0aW9uKCl7dmFyIGE9ITE7T3BlbkxheWVycy5IYW5kbGVyLnByb3RvdHlwZS5kZWFjdGl2YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSYmKHRoaXMubW92ZUxheWVyQmFjaygpLHRoaXMudXA9dGhpcy5kb3duPXRoaXMubGFzdEZlYXR1cmU9dGhpcy5mZWF0dXJlPW51bGwsdGhpcy5tYXAuZXZlbnRzLnVuKHtyZW1vdmVsYXllcjp0aGlzLmhhbmRsZU1hcEV2ZW50cyxjaGFuZ2VsYXllcjp0aGlzLmhhbmRsZU1hcEV2ZW50cyxzY29wZTp0aGlzfSksYT0hMCk7cmV0dXJuIGF9LGhhbmRsZU1hcEV2ZW50czpmdW5jdGlvbihhKXsoInJlbW92ZWxheWVyIj09YS50eXBlfHwib3JkZXIiPT1hLnByb3BlcnR5KSYmdGhpcy5tb3ZlTGF5ZXJUb1RvcCgpfSxtb3ZlTGF5ZXJUb1RvcDpmdW5jdGlvbigpe3ZhciBhPU1hdGgubWF4KHRoaXMubWFwLlpfSU5ERVhfQkFTRS5GZWF0dXJlLTEsdGhpcy5sYXllci5nZXRaSW5kZXgoKSkrMTt0aGlzLmxheWVyLnNldFpJbmRleChhKX0sCm1vdmVMYXllckJhY2s6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxheWVyLmdldFpJbmRleCgpLTE7YT49dGhpcy5tYXAuWl9JTkRFWF9CQVNFLkZlYXR1cmU/dGhpcy5sYXllci5zZXRaSW5kZXgoYSk6dGhpcy5tYXAuc2V0TGF5ZXJaSW5kZXgodGhpcy5sYXllcix0aGlzLm1hcC5nZXRMYXllckluZGV4KHRoaXMubGF5ZXIpKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5IYW5kbGVyLkZlYXR1cmUifSk7T3BlbkxheWVycy5MYXllci5WZWN0b3IuUm9vdENvbnRhaW5lcj1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIuVmVjdG9yLHtkaXNwbGF5SW5MYXllclN3aXRjaGVyOiExLGxheWVyczpudWxsLGRpc3BsYXk6ZnVuY3Rpb24oKXt9LGdldEZlYXR1cmVGcm9tRXZlbnQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMubGF5ZXJzLGMsZD0wO2Q8Yi5sZW5ndGg7ZCsrKWlmKGM9YltkXS5nZXRGZWF0dXJlRnJvbUV2ZW50KGEpKXJldHVybiBjfSxzZXRNYXA6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5MYXllci5WZWN0b3IucHJvdG90eXBlLnNldE1hcC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5jb2xsZWN0Um9vdHMoKTthLmV2ZW50cy5yZWdpc3RlcigiY2hhbmdlbGF5ZXIiLHRoaXMsdGhpcy5oYW5kbGVDaGFuZ2VMYXllcil9LHJlbW92ZU1hcDpmdW5jdGlvbihhKXthLmV2ZW50cy51bnJlZ2lzdGVyKCJjaGFuZ2VsYXllciIsdGhpcyx0aGlzLmhhbmRsZUNoYW5nZUxheWVyKTsKdGhpcy5yZXNldFJvb3RzKCk7T3BlbkxheWVycy5MYXllci5WZWN0b3IucHJvdG90eXBlLnJlbW92ZU1hcC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGNvbGxlY3RSb290czpmdW5jdGlvbigpe2Zvcih2YXIgYSxiPTA7Yjx0aGlzLm1hcC5sYXllcnMubGVuZ3RoOysrYilhPXRoaXMubWFwLmxheWVyc1tiXSwtMSE9T3BlbkxheWVycy5VdGlsLmluZGV4T2YodGhpcy5sYXllcnMsYSkmJmEucmVuZGVyZXIubW92ZVJvb3QodGhpcy5yZW5kZXJlcil9LHJlc2V0Um9vdHM6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYj0wO2I8dGhpcy5sYXllcnMubGVuZ3RoOysrYilhPXRoaXMubGF5ZXJzW2JdLHRoaXMucmVuZGVyZXImJmEucmVuZGVyZXIuZ2V0UmVuZGVyTGF5ZXJJZCgpPT10aGlzLmlkJiZ0aGlzLnJlbmRlcmVyLm1vdmVSb290KGEucmVuZGVyZXIpfSxoYW5kbGVDaGFuZ2VMYXllcjpmdW5jdGlvbihhKXt2YXIgYj1hLmxheWVyOyJvcmRlciI9PWEucHJvcGVydHkmJi0xIT1PcGVuTGF5ZXJzLlV0aWwuaW5kZXhPZih0aGlzLmxheWVycywKYikmJih0aGlzLnJlc2V0Um9vdHMoKSx0aGlzLmNvbGxlY3RSb290cygpKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5WZWN0b3IuUm9vdENvbnRhaW5lciJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuU2VsZWN0RmVhdHVyZT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbCx7bXVsdGlwbGVLZXk6bnVsbCx0b2dnbGVLZXk6bnVsbCxtdWx0aXBsZTohMSxjbGlja291dDohMCx0b2dnbGU6ITEsaG92ZXI6ITEsaGlnaGxpZ2h0T25seTohMSxib3g6ITEsb25CZWZvcmVTZWxlY3Q6ZnVuY3Rpb24oKXt9LG9uU2VsZWN0OmZ1bmN0aW9uKCl7fSxvblVuc2VsZWN0OmZ1bmN0aW9uKCl7fSxzY29wZTpudWxsLGdlb21ldHJ5VHlwZXM6bnVsbCxsYXllcjpudWxsLGxheWVyczpudWxsLGNhbGxiYWNrczpudWxsLHNlbGVjdFN0eWxlOm51bGwscmVuZGVySW50ZW50OiJzZWxlY3QiLGhhbmRsZXJzOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIpe09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFtiXSk7bnVsbD09PXRoaXMuc2NvcGUmJih0aGlzLnNjb3BlPXRoaXMpO3RoaXMuaW5pdExheWVyKGEpO3ZhciBjPQp7Y2xpY2s6dGhpcy5jbGlja0ZlYXR1cmUsY2xpY2tvdXQ6dGhpcy5jbGlja291dEZlYXR1cmV9O3RoaXMuaG92ZXImJihjLm92ZXI9dGhpcy5vdmVyRmVhdHVyZSxjLm91dD10aGlzLm91dEZlYXR1cmUpO3RoaXMuY2FsbGJhY2tzPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoYyx0aGlzLmNhbGxiYWNrcyk7dGhpcy5oYW5kbGVycz17ZmVhdHVyZTpuZXcgT3BlbkxheWVycy5IYW5kbGVyLkZlYXR1cmUodGhpcyx0aGlzLmxheWVyLHRoaXMuY2FsbGJhY2tzLHtnZW9tZXRyeVR5cGVzOnRoaXMuZ2VvbWV0cnlUeXBlc30pfTt0aGlzLmJveCYmKHRoaXMuaGFuZGxlcnMuYm94PW5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuQm94KHRoaXMse2RvbmU6dGhpcy5zZWxlY3RCb3h9LHtib3hEaXZDbGFzc05hbWU6Im9sSGFuZGxlckJveFNlbGVjdEZlYXR1cmUifSkpfSxpbml0TGF5ZXI6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSk/KHRoaXMubGF5ZXJzPWEsdGhpcy5sYXllcj0KbmV3IE9wZW5MYXllcnMuTGF5ZXIuVmVjdG9yLlJvb3RDb250YWluZXIodGhpcy5pZCsiX2NvbnRhaW5lciIse2xheWVyczphfSkpOnRoaXMubGF5ZXI9YX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuYWN0aXZlJiZ0aGlzLmxheWVycyYmdGhpcy5tYXAucmVtb3ZlTGF5ZXIodGhpcy5sYXllcik7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmxheWVycyYmdGhpcy5sYXllci5kZXN0cm95KCl9LGFjdGl2YXRlOmZ1bmN0aW9uKCl7dGhpcy5hY3RpdmV8fCh0aGlzLmxheWVycyYmdGhpcy5tYXAuYWRkTGF5ZXIodGhpcy5sYXllciksdGhpcy5oYW5kbGVycy5mZWF0dXJlLmFjdGl2YXRlKCksdGhpcy5ib3gmJnRoaXMuaGFuZGxlcnMuYm94JiZ0aGlzLmhhbmRsZXJzLmJveC5hY3RpdmF0ZSgpKTtyZXR1cm4gT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5hY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXt0aGlzLmFjdGl2ZSYmCih0aGlzLmhhbmRsZXJzLmZlYXR1cmUuZGVhY3RpdmF0ZSgpLHRoaXMuaGFuZGxlcnMuYm94JiZ0aGlzLmhhbmRsZXJzLmJveC5kZWFjdGl2YXRlKCksdGhpcy5sYXllcnMmJnRoaXMubWFwLnJlbW92ZUxheWVyKHRoaXMubGF5ZXIpKTtyZXR1cm4gT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZWFjdGl2YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdW5zZWxlY3RBbGw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5sYXllcnN8fFt0aGlzLmxheWVyXSxjLGQsZSxmO2ZvcihlPTA7ZTxiLmxlbmd0aDsrK2UpaWYoYz1iW2VdLGY9MCxudWxsIT1jLnNlbGVjdGVkRmVhdHVyZXMpZm9yKDtjLnNlbGVjdGVkRmVhdHVyZXMubGVuZ3RoPmY7KWQ9Yy5zZWxlY3RlZEZlYXR1cmVzW2ZdLCFhfHxhLmV4Y2VwdCE9ZD90aGlzLnVuc2VsZWN0KGQpOisrZn0sY2xpY2tGZWF0dXJlOmZ1bmN0aW9uKGEpe3RoaXMuaG92ZXJ8fCgtMTxPcGVuTGF5ZXJzLlV0aWwuaW5kZXhPZihhLmxheWVyLnNlbGVjdGVkRmVhdHVyZXMsCmEpP3RoaXMudG9nZ2xlU2VsZWN0KCk/dGhpcy51bnNlbGVjdChhKTp0aGlzLm11bHRpcGxlU2VsZWN0KCl8fHRoaXMudW5zZWxlY3RBbGwoe2V4Y2VwdDphfSk6KHRoaXMubXVsdGlwbGVTZWxlY3QoKXx8dGhpcy51bnNlbGVjdEFsbCh7ZXhjZXB0OmF9KSx0aGlzLnNlbGVjdChhKSkpfSxtdWx0aXBsZVNlbGVjdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm11bHRpcGxlfHx0aGlzLmhhbmRsZXJzLmZlYXR1cmUuZXZ0JiZ0aGlzLmhhbmRsZXJzLmZlYXR1cmUuZXZ0W3RoaXMubXVsdGlwbGVLZXldfSx0b2dnbGVTZWxlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b2dnbGV8fHRoaXMuaGFuZGxlcnMuZmVhdHVyZS5ldnQmJnRoaXMuaGFuZGxlcnMuZmVhdHVyZS5ldnRbdGhpcy50b2dnbGVLZXldfSxjbGlja291dEZlYXR1cmU6ZnVuY3Rpb24oKXshdGhpcy5ob3ZlciYmdGhpcy5jbGlja291dCYmdGhpcy51bnNlbGVjdEFsbCgpfSxvdmVyRmVhdHVyZTpmdW5jdGlvbihhKXt2YXIgYj0KYS5sYXllcjt0aGlzLmhvdmVyJiYodGhpcy5oaWdobGlnaHRPbmx5P3RoaXMuaGlnaGxpZ2h0KGEpOi0xPT1PcGVuTGF5ZXJzLlV0aWwuaW5kZXhPZihiLnNlbGVjdGVkRmVhdHVyZXMsYSkmJnRoaXMuc2VsZWN0KGEpKX0sb3V0RmVhdHVyZTpmdW5jdGlvbihhKXtpZih0aGlzLmhvdmVyKWlmKHRoaXMuaGlnaGxpZ2h0T25seSl7aWYoYS5fbGFzdEhpZ2hsaWdodGVyPT10aGlzLmlkKWlmKGEuX3ByZXZIaWdobGlnaHRlciYmYS5fcHJldkhpZ2hsaWdodGVyIT10aGlzLmlkKXtkZWxldGUgYS5fbGFzdEhpZ2hsaWdodGVyO3ZhciBiPXRoaXMubWFwLmdldENvbnRyb2woYS5fcHJldkhpZ2hsaWdodGVyKTtiJiZiLmhpZ2hsaWdodChhKX1lbHNlIHRoaXMudW5oaWdobGlnaHQoYSl9ZWxzZSB0aGlzLnVuc2VsZWN0KGEpfSxoaWdobGlnaHQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5sYXllcjshMSE9PXRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiYmVmb3JlZmVhdHVyZWhpZ2hsaWdodGVkIix7ZmVhdHVyZTphfSkmJgooYS5fcHJldkhpZ2hsaWdodGVyPWEuX2xhc3RIaWdobGlnaHRlcixhLl9sYXN0SGlnaGxpZ2h0ZXI9dGhpcy5pZCxiLmRyYXdGZWF0dXJlKGEsdGhpcy5zZWxlY3RTdHlsZXx8dGhpcy5yZW5kZXJJbnRlbnQpLHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiZmVhdHVyZWhpZ2hsaWdodGVkIix7ZmVhdHVyZTphfSkpfSx1bmhpZ2hsaWdodDpmdW5jdGlvbihhKXt2YXIgYj1hLmxheWVyO3ZvaWQgMD09YS5fcHJldkhpZ2hsaWdodGVyP2RlbGV0ZSBhLl9sYXN0SGlnaGxpZ2h0ZXI6KGEuX3ByZXZIaWdobGlnaHRlciE9dGhpcy5pZCYmKGEuX2xhc3RIaWdobGlnaHRlcj1hLl9wcmV2SGlnaGxpZ2h0ZXIpLGRlbGV0ZSBhLl9wcmV2SGlnaGxpZ2h0ZXIpO2IuZHJhd0ZlYXR1cmUoYSxhLnN0eWxlfHxhLmxheWVyLnN0eWxlfHwiZGVmYXVsdCIpO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiZmVhdHVyZXVuaGlnaGxpZ2h0ZWQiLHtmZWF0dXJlOmF9KX0sc2VsZWN0OmZ1bmN0aW9uKGEpe3ZhciBiPQp0aGlzLm9uQmVmb3JlU2VsZWN0LmNhbGwodGhpcy5zY29wZSxhKSxjPWEubGF5ZXI7ITEhPT1iJiYoYj1jLmV2ZW50cy50cmlnZ2VyRXZlbnQoImJlZm9yZWZlYXR1cmVzZWxlY3RlZCIse2ZlYXR1cmU6YX0pLCExIT09YiYmKGMuc2VsZWN0ZWRGZWF0dXJlcy5wdXNoKGEpLHRoaXMuaGlnaGxpZ2h0KGEpLHRoaXMuaGFuZGxlcnMuZmVhdHVyZS5sYXN0RmVhdHVyZXx8KHRoaXMuaGFuZGxlcnMuZmVhdHVyZS5sYXN0RmVhdHVyZT1jLnNlbGVjdGVkRmVhdHVyZXNbMF0pLGMuZXZlbnRzLnRyaWdnZXJFdmVudCgiZmVhdHVyZXNlbGVjdGVkIix7ZmVhdHVyZTphfSksdGhpcy5vblNlbGVjdC5jYWxsKHRoaXMuc2NvcGUsYSkpKX0sdW5zZWxlY3Q6ZnVuY3Rpb24oYSl7dmFyIGI9YS5sYXllcjt0aGlzLnVuaGlnaGxpZ2h0KGEpO09wZW5MYXllcnMuVXRpbC5yZW1vdmVJdGVtKGIuc2VsZWN0ZWRGZWF0dXJlcyxhKTtiLmV2ZW50cy50cmlnZ2VyRXZlbnQoImZlYXR1cmV1bnNlbGVjdGVkIiwKe2ZlYXR1cmU6YX0pO3RoaXMub25VbnNlbGVjdC5jYWxsKHRoaXMuc2NvcGUsYSl9LHNlbGVjdEJveDpmdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgT3BlbkxheWVycy5Cb3VuZHMpe3ZhciBiPXRoaXMubWFwLmdldExvbkxhdEZyb21QaXhlbCh7eDphLmxlZnQseTphLmJvdHRvbX0pLGE9dGhpcy5tYXAuZ2V0TG9uTGF0RnJvbVBpeGVsKHt4OmEucmlnaHQseTphLnRvcH0pLGI9bmV3IE9wZW5MYXllcnMuQm91bmRzKGIubG9uLGIubGF0LGEubG9uLGEubGF0KTt0aGlzLm11bHRpcGxlU2VsZWN0KCl8fHRoaXMudW5zZWxlY3RBbGwoKTthPXRoaXMubXVsdGlwbGU7dGhpcy5tdWx0aXBsZT0hMDt2YXIgYz10aGlzLmxheWVyc3x8W3RoaXMubGF5ZXJdO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiYm94c2VsZWN0aW9uc3RhcnQiLHtsYXllcnM6Y30pO2Zvcih2YXIgZCxlPTA7ZTxjLmxlbmd0aDsrK2Upe2Q9Y1tlXTtmb3IodmFyIGY9MCxnPWQuZmVhdHVyZXMubGVuZ3RoO2Y8ZzsrK2Ype3ZhciBoPQpkLmZlYXR1cmVzW2ZdO2guZ2V0VmlzaWJpbGl0eSgpJiYobnVsbD09dGhpcy5nZW9tZXRyeVR5cGVzfHwtMTxPcGVuTGF5ZXJzLlV0aWwuaW5kZXhPZih0aGlzLmdlb21ldHJ5VHlwZXMsaC5nZW9tZXRyeS5DTEFTU19OQU1FKSkmJmIudG9HZW9tZXRyeSgpLmludGVyc2VjdHMoaC5nZW9tZXRyeSkmJi0xPT1PcGVuTGF5ZXJzLlV0aWwuaW5kZXhPZihkLnNlbGVjdGVkRmVhdHVyZXMsaCkmJnRoaXMuc2VsZWN0KGgpfX10aGlzLm11bHRpcGxlPWE7dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJib3hzZWxlY3Rpb25lbmQiLHtsYXllcnM6Y30pfX0sc2V0TWFwOmZ1bmN0aW9uKGEpe3RoaXMuaGFuZGxlcnMuZmVhdHVyZS5zZXRNYXAoYSk7dGhpcy5ib3gmJnRoaXMuaGFuZGxlcnMuYm94LnNldE1hcChhKTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLnNldE1hcC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHNldExheWVyOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYWN0aXZlO3RoaXMudW5zZWxlY3RBbGwoKTsKdGhpcy5kZWFjdGl2YXRlKCk7dGhpcy5sYXllcnMmJih0aGlzLmxheWVyLmRlc3Ryb3koKSx0aGlzLmxheWVycz1udWxsKTt0aGlzLmluaXRMYXllcihhKTt0aGlzLmhhbmRsZXJzLmZlYXR1cmUubGF5ZXI9dGhpcy5sYXllcjtiJiZ0aGlzLmFjdGl2YXRlKCl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5TZWxlY3RGZWF0dXJlIn0pO09wZW5MYXllcnMuSGFuZGxlci5Qb2ludD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuSGFuZGxlcix7cG9pbnQ6bnVsbCxsYXllcjpudWxsLG11bHRpOiExLGNpdGVDb21wbGlhbnQ6ITEsbW91c2VEb3duOiExLHN0b3BwZWREb3duOm51bGwsbGFzdERvd246bnVsbCxsYXN0VXA6bnVsbCxwZXJzaXN0OiExLHN0b3BEb3duOiExLHN0b3BVcDohMSxsYXllck9wdGlvbnM6bnVsbCxwaXhlbFRvbGVyYW5jZTo1LGxhc3RUb3VjaFB4Om51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyl7aWYoIWN8fCFjLmxheWVyT3B0aW9uc3x8IWMubGF5ZXJPcHRpb25zLnN0eWxlTWFwKXRoaXMuc3R5bGU9T3BlbkxheWVycy5VdGlsLmV4dGVuZChPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yLnN0eWxlWyJkZWZhdWx0Il0se30pO09wZW5MYXllcnMuSGFuZGxlci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGFjdGl2YXRlOmZ1bmN0aW9uKCl7aWYoIU9wZW5MYXllcnMuSGFuZGxlci5wcm90b3R5cGUuYWN0aXZhdGUuYXBwbHkodGhpcywKYXJndW1lbnRzKSlyZXR1cm4hMTt2YXIgYT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHtkaXNwbGF5SW5MYXllclN3aXRjaGVyOiExLGNhbGN1bGF0ZUluUmFuZ2U6T3BlbkxheWVycy5GdW5jdGlvbi5UcnVlLHdyYXBEYXRlTGluZTp0aGlzLmNpdGVDb21wbGlhbnR9LHRoaXMubGF5ZXJPcHRpb25zKTt0aGlzLmxheWVyPW5ldyBPcGVuTGF5ZXJzLkxheWVyLlZlY3Rvcih0aGlzLkNMQVNTX05BTUUsYSk7dGhpcy5tYXAuYWRkTGF5ZXIodGhpcy5sYXllcik7cmV0dXJuITB9LGNyZWF0ZUZlYXR1cmU6ZnVuY3Rpb24oYSl7YT10aGlzLmxheWVyLmdldExvbkxhdEZyb21WaWV3UG9ydFB4KGEpO2E9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoYS5sb24sYS5sYXQpO3RoaXMucG9pbnQ9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoYSk7dGhpcy5jYWxsYmFjaygiY3JlYXRlIixbdGhpcy5wb2ludC5nZW9tZXRyeSx0aGlzLnBvaW50XSk7dGhpcy5wb2ludC5nZW9tZXRyeS5jbGVhckJvdW5kcygpOwp0aGlzLmxheWVyLmFkZEZlYXR1cmVzKFt0aGlzLnBvaW50XSx7c2lsZW50OiEwfSl9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXtpZighT3BlbkxheWVycy5IYW5kbGVyLnByb3RvdHlwZS5kZWFjdGl2YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSlyZXR1cm4hMTt0aGlzLmNhbmNlbCgpO251bGwhPXRoaXMubGF5ZXIubWFwJiYodGhpcy5kZXN0cm95RmVhdHVyZSghMCksdGhpcy5sYXllci5kZXN0cm95KCExKSk7dGhpcy5sYXllcj1udWxsO3JldHVybiEwfSxkZXN0cm95RmVhdHVyZTpmdW5jdGlvbihhKXt0aGlzLmxheWVyJiYoYXx8IXRoaXMucGVyc2lzdCkmJnRoaXMubGF5ZXIuZGVzdHJveUZlYXR1cmVzKCk7dGhpcy5wb2ludD1udWxsfSxkZXN0cm95UGVyc2lzdGVkRmVhdHVyZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMubGF5ZXI7YSYmMTxhLmZlYXR1cmVzLmxlbmd0aCYmdGhpcy5sYXllci5mZWF0dXJlc1swXS5kZXN0cm95KCl9LGZpbmFsaXplOmZ1bmN0aW9uKGEpe3RoaXMubW91c2VEb3duPQohMTt0aGlzLmxhc3RUb3VjaFB4PXRoaXMubGFzdFVwPXRoaXMubGFzdERvd249bnVsbDt0aGlzLmNhbGxiYWNrKGE/ImNhbmNlbCI6ImRvbmUiLFt0aGlzLmdlb21ldHJ5Q2xvbmUoKV0pO3RoaXMuZGVzdHJveUZlYXR1cmUoYSl9LGNhbmNlbDpmdW5jdGlvbigpe3RoaXMuZmluYWxpemUoITApfSxjbGljazpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSk7cmV0dXJuITF9LGRibGNsaWNrOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRXZlbnQuc3RvcChhKTtyZXR1cm4hMX0sbW9kaWZ5RmVhdHVyZTpmdW5jdGlvbihhKXt0aGlzLnBvaW50fHx0aGlzLmNyZWF0ZUZlYXR1cmUoYSk7YT10aGlzLmxheWVyLmdldExvbkxhdEZyb21WaWV3UG9ydFB4KGEpO3RoaXMucG9pbnQuZ2VvbWV0cnkueD1hLmxvbjt0aGlzLnBvaW50Lmdlb21ldHJ5Lnk9YS5sYXQ7dGhpcy5jYWxsYmFjaygibW9kaWZ5IixbdGhpcy5wb2ludC5nZW9tZXRyeSx0aGlzLnBvaW50LCExXSk7dGhpcy5wb2ludC5nZW9tZXRyeS5jbGVhckJvdW5kcygpOwp0aGlzLmRyYXdGZWF0dXJlKCl9LGRyYXdGZWF0dXJlOmZ1bmN0aW9uKCl7dGhpcy5sYXllci5kcmF3RmVhdHVyZSh0aGlzLnBvaW50LHRoaXMuc3R5bGUpfSxnZXRHZW9tZXRyeTpmdW5jdGlvbigpe3ZhciBhPXRoaXMucG9pbnQmJnRoaXMucG9pbnQuZ2VvbWV0cnk7YSYmdGhpcy5tdWx0aSYmKGE9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlQb2ludChbYV0pKTtyZXR1cm4gYX0sZ2VvbWV0cnlDbG9uZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0R2VvbWV0cnkoKTtyZXR1cm4gYSYmYS5jbG9uZSgpfSxtb3VzZWRvd246ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZG93bihhKX0sdG91Y2hzdGFydDpmdW5jdGlvbihhKXt0aGlzLnN0YXJ0VG91Y2goKTt0aGlzLmxhc3RUb3VjaFB4PWEueHk7cmV0dXJuIHRoaXMuZG93bihhKX0sbW91c2Vtb3ZlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1vdmUoYSl9LHRvdWNobW92ZTpmdW5jdGlvbihhKXt0aGlzLmxhc3RUb3VjaFB4PWEueHk7CnJldHVybiB0aGlzLm1vdmUoYSl9LG1vdXNldXA6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudXAoYSl9LHRvdWNoZW5kOmZ1bmN0aW9uKGEpe2EueHk9dGhpcy5sYXN0VG91Y2hQeDtyZXR1cm4gdGhpcy51cChhKX0sZG93bjpmdW5jdGlvbihhKXt0aGlzLm1vdXNlRG93bj0hMDt0aGlzLmxhc3REb3duPWEueHk7dGhpcy50b3VjaHx8dGhpcy5tb2RpZnlGZWF0dXJlKGEueHkpO3RoaXMuc3RvcHBlZERvd249dGhpcy5zdG9wRG93bjtyZXR1cm4hdGhpcy5zdG9wRG93bn0sbW92ZTpmdW5jdGlvbihhKXshdGhpcy50b3VjaCYmKCF0aGlzLm1vdXNlRG93bnx8dGhpcy5zdG9wcGVkRG93bikmJnRoaXMubW9kaWZ5RmVhdHVyZShhLnh5KTtyZXR1cm4hMH0sdXA6ZnVuY3Rpb24oYSl7dGhpcy5tb3VzZURvd249ITE7dGhpcy5zdG9wcGVkRG93bj10aGlzLnN0b3BEb3duO3JldHVybiB0aGlzLmNoZWNrTW9kaWZpZXJzKGEpJiYoIXRoaXMubGFzdFVwfHwhdGhpcy5sYXN0VXAuZXF1YWxzKGEueHkpKSYmCnRoaXMubGFzdERvd24mJnRoaXMucGFzc2VzVG9sZXJhbmNlKHRoaXMubGFzdERvd24sYS54eSx0aGlzLnBpeGVsVG9sZXJhbmNlKT8odGhpcy50b3VjaCYmdGhpcy5tb2RpZnlGZWF0dXJlKGEueHkpLHRoaXMucGVyc2lzdCYmdGhpcy5kZXN0cm95UGVyc2lzdGVkRmVhdHVyZSgpLHRoaXMubGFzdFVwPWEueHksdGhpcy5maW5hbGl6ZSgpLCF0aGlzLnN0b3BVcCk6ITB9LG1vdXNlb3V0OmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuVXRpbC5tb3VzZUxlZnQoYSx0aGlzLm1hcC52aWV3UG9ydERpdikmJih0aGlzLnN0b3BwZWREb3duPXRoaXMuc3RvcERvd24sdGhpcy5tb3VzZURvd249ITEpfSxwYXNzZXNUb2xlcmFuY2U6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSEwO251bGwhPWMmJmEmJmImJmEuZGlzdGFuY2VUbyhiKT5jJiYoZD0hMSk7cmV0dXJuIGR9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuSGFuZGxlci5Qb2ludCJ9KTtPcGVuTGF5ZXJzLkhhbmRsZXIuUGF0aD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuSGFuZGxlci5Qb2ludCx7bGluZTpudWxsLG1heFZlcnRpY2VzOm51bGwsZG91YmxlVG91Y2hUb2xlcmFuY2U6MjAsZnJlZWhhbmQ6ITEsZnJlZWhhbmRUb2dnbGU6InNoaWZ0S2V5Iix0aW1lcklkOm51bGwscmVkb1N0YWNrOm51bGwsY3JlYXRlRmVhdHVyZTpmdW5jdGlvbihhKXthPXRoaXMubGF5ZXIuZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHgoYSk7YT1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChhLmxvbixhLmxhdCk7dGhpcy5wb2ludD1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihhKTt0aGlzLmxpbmU9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZyhbdGhpcy5wb2ludC5nZW9tZXRyeV0pKTt0aGlzLmNhbGxiYWNrKCJjcmVhdGUiLFt0aGlzLnBvaW50Lmdlb21ldHJ5LHRoaXMuZ2V0U2tldGNoKCldKTsKdGhpcy5wb2ludC5nZW9tZXRyeS5jbGVhckJvdW5kcygpO3RoaXMubGF5ZXIuYWRkRmVhdHVyZXMoW3RoaXMubGluZSx0aGlzLnBvaW50XSx7c2lsZW50OiEwfSl9LGRlc3Ryb3lGZWF0dXJlOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuSGFuZGxlci5Qb2ludC5wcm90b3R5cGUuZGVzdHJveUZlYXR1cmUuY2FsbCh0aGlzLGEpO3RoaXMubGluZT1udWxsfSxkZXN0cm95UGVyc2lzdGVkRmVhdHVyZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMubGF5ZXI7YSYmMjxhLmZlYXR1cmVzLmxlbmd0aCYmdGhpcy5sYXllci5mZWF0dXJlc1swXS5kZXN0cm95KCl9LHJlbW92ZVBvaW50OmZ1bmN0aW9uKCl7dGhpcy5wb2ludCYmdGhpcy5sYXllci5yZW1vdmVGZWF0dXJlcyhbdGhpcy5wb2ludF0pfSxhZGRQb2ludDpmdW5jdGlvbihhKXt0aGlzLmxheWVyLnJlbW92ZUZlYXR1cmVzKFt0aGlzLnBvaW50XSk7YT10aGlzLmxheWVyLmdldExvbkxhdEZyb21WaWV3UG9ydFB4KGEpO3RoaXMucG9pbnQ9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoYS5sb24sCmEubGF0KSk7dGhpcy5saW5lLmdlb21ldHJ5LmFkZENvbXBvbmVudCh0aGlzLnBvaW50Lmdlb21ldHJ5LHRoaXMubGluZS5nZW9tZXRyeS5jb21wb25lbnRzLmxlbmd0aCk7dGhpcy5sYXllci5hZGRGZWF0dXJlcyhbdGhpcy5wb2ludF0pO3RoaXMuY2FsbGJhY2soInBvaW50IixbdGhpcy5wb2ludC5nZW9tZXRyeSx0aGlzLmdldEdlb21ldHJ5KCldKTt0aGlzLmNhbGxiYWNrKCJtb2RpZnkiLFt0aGlzLnBvaW50Lmdlb21ldHJ5LHRoaXMuZ2V0U2tldGNoKCldKTt0aGlzLmRyYXdGZWF0dXJlKCk7ZGVsZXRlIHRoaXMucmVkb1N0YWNrfSxpbnNlcnRYWTpmdW5jdGlvbihhLGIpe3RoaXMubGluZS5nZW9tZXRyeS5hZGRDb21wb25lbnQobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoYSxiKSx0aGlzLmdldEN1cnJlbnRQb2ludEluZGV4KCkpO3RoaXMuZHJhd0ZlYXR1cmUoKTtkZWxldGUgdGhpcy5yZWRvU3RhY2t9LGluc2VydERlbHRhWFk6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldEN1cnJlbnRQb2ludEluZGV4KCktCjE7KGM9dGhpcy5saW5lLmdlb21ldHJ5LmNvbXBvbmVudHNbY10pJiYoIWlzTmFOKGMueCkmJiFpc05hTihjLnkpKSYmdGhpcy5pbnNlcnRYWShjLngrYSxjLnkrYil9LGluc2VydERpcmVjdGlvbkxlbmd0aDpmdW5jdGlvbihhLGIpe3ZhciBhPWEqKE1hdGguUEkvMTgwKSxjPWIqTWF0aC5jb3MoYSksZD1iKk1hdGguc2luKGEpO3RoaXMuaW5zZXJ0RGVsdGFYWShjLGQpfSxpbnNlcnREZWZsZWN0aW9uTGVuZ3RoOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDdXJyZW50UG9pbnRJbmRleCgpLTE7aWYoMDxjKXt2YXIgZD10aGlzLmxpbmUuZ2VvbWV0cnkuY29tcG9uZW50c1tjXSxjPXRoaXMubGluZS5nZW9tZXRyeS5jb21wb25lbnRzW2MtMV0sZD1NYXRoLmF0YW4yKGQueS1jLnksZC54LWMueCk7dGhpcy5pbnNlcnREaXJlY3Rpb25MZW5ndGgoMTgwKmQvTWF0aC5QSSthLGIpfX0sZ2V0Q3VycmVudFBvaW50SW5kZXg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5saW5lLmdlb21ldHJ5LmNvbXBvbmVudHMubGVuZ3RoLQoxfSx1bmRvOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5saW5lLmdlb21ldHJ5LGI9YS5jb21wb25lbnRzLGM9dGhpcy5nZXRDdXJyZW50UG9pbnRJbmRleCgpLTEsZD1iW2NdLGU9YS5yZW1vdmVDb21wb25lbnQoZCk7ZSYmKHRoaXMudG91Y2gmJjA8YyYmKGI9YS5jb21wb25lbnRzLGE9YltjLTFdLGM9dGhpcy5nZXRDdXJyZW50UG9pbnRJbmRleCgpLGI9YltjXSxiLng9YS54LGIueT1hLnkpLHRoaXMucmVkb1N0YWNrfHwodGhpcy5yZWRvU3RhY2s9W10pLHRoaXMucmVkb1N0YWNrLnB1c2goZCksdGhpcy5kcmF3RmVhdHVyZSgpKTtyZXR1cm4gZX0scmVkbzpmdW5jdGlvbigpe3ZhciBhPXRoaXMucmVkb1N0YWNrJiZ0aGlzLnJlZG9TdGFjay5wb3AoKTthJiYodGhpcy5saW5lLmdlb21ldHJ5LmFkZENvbXBvbmVudChhLHRoaXMuZ2V0Q3VycmVudFBvaW50SW5kZXgoKSksdGhpcy5kcmF3RmVhdHVyZSgpKTtyZXR1cm4hIWF9LGZyZWVoYW5kTW9kZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5mcmVlaGFuZFRvZ2dsZSYmCmFbdGhpcy5mcmVlaGFuZFRvZ2dsZV0/IXRoaXMuZnJlZWhhbmQ6dGhpcy5mcmVlaGFuZH0sbW9kaWZ5RmVhdHVyZTpmdW5jdGlvbihhLGIpe3RoaXMubGluZXx8dGhpcy5jcmVhdGVGZWF0dXJlKGEpO3ZhciBjPXRoaXMubGF5ZXIuZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHgoYSk7dGhpcy5wb2ludC5nZW9tZXRyeS54PWMubG9uO3RoaXMucG9pbnQuZ2VvbWV0cnkueT1jLmxhdDt0aGlzLmNhbGxiYWNrKCJtb2RpZnkiLFt0aGlzLnBvaW50Lmdlb21ldHJ5LHRoaXMuZ2V0U2tldGNoKCksYl0pO3RoaXMucG9pbnQuZ2VvbWV0cnkuY2xlYXJCb3VuZHMoKTt0aGlzLmRyYXdGZWF0dXJlKCl9LGRyYXdGZWF0dXJlOmZ1bmN0aW9uKCl7dGhpcy5sYXllci5kcmF3RmVhdHVyZSh0aGlzLmxpbmUsdGhpcy5zdHlsZSk7dGhpcy5sYXllci5kcmF3RmVhdHVyZSh0aGlzLnBvaW50LHRoaXMuc3R5bGUpfSxnZXRTa2V0Y2g6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5saW5lfSxnZXRHZW9tZXRyeTpmdW5jdGlvbigpe3ZhciBhPQp0aGlzLmxpbmUmJnRoaXMubGluZS5nZW9tZXRyeTthJiZ0aGlzLm11bHRpJiYoYT1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aUxpbmVTdHJpbmcoW2FdKSk7cmV0dXJuIGF9LHRvdWNoc3RhcnQ6ZnVuY3Rpb24oYSl7aWYodGhpcy50aW1lcklkJiZ0aGlzLnBhc3Nlc1RvbGVyYW5jZSh0aGlzLmxhc3RUb3VjaFB4LGEueHksdGhpcy5kb3VibGVUb3VjaFRvbGVyYW5jZSkpcmV0dXJuIHRoaXMuZmluaXNoR2VvbWV0cnkoKSx3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMudGltZXJJZCksdGhpcy50aW1lcklkPW51bGwsITE7dGhpcy50aW1lcklkJiYod2luZG93LmNsZWFyVGltZW91dCh0aGlzLnRpbWVySWQpLHRoaXMudGltZXJJZD1udWxsKTt0aGlzLnRpbWVySWQ9d2luZG93LnNldFRpbWVvdXQoT3BlbkxheWVycy5GdW5jdGlvbi5iaW5kKGZ1bmN0aW9uKCl7dGhpcy50aW1lcklkPW51bGx9LHRoaXMpLDMwMCk7cmV0dXJuIE9wZW5MYXllcnMuSGFuZGxlci5Qb2ludC5wcm90b3R5cGUudG91Y2hzdGFydC5jYWxsKHRoaXMsCmEpfSxkb3duOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc3RvcERvd247dGhpcy5mcmVlaGFuZE1vZGUoYSkmJihiPSEwLHRoaXMudG91Y2gmJih0aGlzLm1vZGlmeUZlYXR1cmUoYS54eSwhIXRoaXMubGFzdFVwKSxPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSkpKTshdGhpcy50b3VjaCYmKCF0aGlzLmxhc3REb3dufHwhdGhpcy5wYXNzZXNUb2xlcmFuY2UodGhpcy5sYXN0RG93bixhLnh5LHRoaXMucGl4ZWxUb2xlcmFuY2UpKSYmdGhpcy5tb2RpZnlGZWF0dXJlKGEueHksISF0aGlzLmxhc3RVcCk7dGhpcy5tb3VzZURvd249ITA7dGhpcy5sYXN0RG93bj1hLnh5O3RoaXMuc3RvcHBlZERvd249YjtyZXR1cm4hYn0sbW92ZTpmdW5jdGlvbihhKXtpZih0aGlzLnN0b3BwZWREb3duJiZ0aGlzLmZyZWVoYW5kTW9kZShhKSlyZXR1cm4gdGhpcy5wZXJzaXN0JiZ0aGlzLmRlc3Ryb3lQZXJzaXN0ZWRGZWF0dXJlKCksdGhpcy5tYXhWZXJ0aWNlcyYmdGhpcy5saW5lJiZ0aGlzLmxpbmUuZ2VvbWV0cnkuY29tcG9uZW50cy5sZW5ndGg9PT0KdGhpcy5tYXhWZXJ0aWNlcz8odGhpcy5yZW1vdmVQb2ludCgpLHRoaXMuZmluYWxpemUoKSk6dGhpcy5hZGRQb2ludChhLnh5KSwhMTshdGhpcy50b3VjaCYmKCF0aGlzLm1vdXNlRG93bnx8dGhpcy5zdG9wcGVkRG93bikmJnRoaXMubW9kaWZ5RmVhdHVyZShhLnh5LCEhdGhpcy5sYXN0VXApO3JldHVybiEwfSx1cDpmdW5jdGlvbihhKXtpZih0aGlzLm1vdXNlRG93biYmKCF0aGlzLmxhc3RVcHx8IXRoaXMubGFzdFVwLmVxdWFscyhhLnh5KSkpdGhpcy5zdG9wcGVkRG93biYmdGhpcy5mcmVlaGFuZE1vZGUoYSk/KHRoaXMucGVyc2lzdCYmdGhpcy5kZXN0cm95UGVyc2lzdGVkRmVhdHVyZSgpLHRoaXMucmVtb3ZlUG9pbnQoKSx0aGlzLmZpbmFsaXplKCkpOnRoaXMucGFzc2VzVG9sZXJhbmNlKHRoaXMubGFzdERvd24sYS54eSx0aGlzLnBpeGVsVG9sZXJhbmNlKSYmKHRoaXMudG91Y2gmJnRoaXMubW9kaWZ5RmVhdHVyZShhLnh5KSxudWxsPT10aGlzLmxhc3RVcCYmdGhpcy5wZXJzaXN0JiYKdGhpcy5kZXN0cm95UGVyc2lzdGVkRmVhdHVyZSgpLHRoaXMuYWRkUG9pbnQoYS54eSksdGhpcy5sYXN0VXA9YS54eSx0aGlzLmxpbmUuZ2VvbWV0cnkuY29tcG9uZW50cy5sZW5ndGg9PT10aGlzLm1heFZlcnRpY2VzKzEmJnRoaXMuZmluaXNoR2VvbWV0cnkoKSk7dGhpcy5zdG9wcGVkRG93bj10aGlzLnN0b3BEb3duO3RoaXMubW91c2VEb3duPSExO3JldHVybiF0aGlzLnN0b3BVcH0sZmluaXNoR2VvbWV0cnk6ZnVuY3Rpb24oKXt0aGlzLmxpbmUuZ2VvbWV0cnkucmVtb3ZlQ29tcG9uZW50KHRoaXMubGluZS5nZW9tZXRyeS5jb21wb25lbnRzW3RoaXMubGluZS5nZW9tZXRyeS5jb21wb25lbnRzLmxlbmd0aC0xXSk7dGhpcy5yZW1vdmVQb2ludCgpO3RoaXMuZmluYWxpemUoKX0sZGJsY2xpY2s6ZnVuY3Rpb24oYSl7dGhpcy5mcmVlaGFuZE1vZGUoYSl8fHRoaXMuZmluaXNoR2VvbWV0cnkoKTtyZXR1cm4hMX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5IYW5kbGVyLlBhdGgifSk7T3BlbkxheWVycy5TcGhlcmljYWw9T3BlbkxheWVycy5TcGhlcmljYWx8fHt9O09wZW5MYXllcnMuU3BoZXJpY2FsLkRFRkFVTFRfUkFESVVTPTYzNzgxMzc7T3BlbkxheWVycy5TcGhlcmljYWwuY29tcHV0ZURpc3RhbmNlQmV0d2Vlbj1mdW5jdGlvbihhLGIsYyl7dmFyIGM9Y3x8T3BlbkxheWVycy5TcGhlcmljYWwuREVGQVVMVF9SQURJVVMsZD1NYXRoLnNpbihNYXRoLlBJKihiLmxvbi1hLmxvbikvMzYwKSxlPU1hdGguc2luKE1hdGguUEkqKGIubGF0LWEubGF0KS8zNjApLGE9ZSplK2QqZCpNYXRoLmNvcyhNYXRoLlBJKmEubGF0LzE4MCkqTWF0aC5jb3MoTWF0aC5QSSpiLmxhdC8xODApO3JldHVybiAyKmMqTWF0aC5hdGFuMihNYXRoLnNxcnQoYSksTWF0aC5zcXJ0KDEtYSkpfTsKT3BlbkxheWVycy5TcGhlcmljYWwuY29tcHV0ZUhlYWRpbmc9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NYXRoLnNpbihNYXRoLlBJKihhLmxvbi1iLmxvbikvMTgwKSpNYXRoLmNvcyhNYXRoLlBJKmIubGF0LzE4MCksZD1NYXRoLmNvcyhNYXRoLlBJKmEubGF0LzE4MCkqTWF0aC5zaW4oTWF0aC5QSSpiLmxhdC8xODApLU1hdGguc2luKE1hdGguUEkqYS5sYXQvMTgwKSpNYXRoLmNvcyhNYXRoLlBJKmIubGF0LzE4MCkqTWF0aC5jb3MoTWF0aC5QSSooYS5sb24tYi5sb24pLzE4MCk7cmV0dXJuIDE4MCpNYXRoLmF0YW4yKGMsZCkvTWF0aC5QSX07T3BlbkxheWVycy5Db250cm9sLkNhY2hlV3JpdGU9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse2xheWVyczpudWxsLGltYWdlRm9ybWF0OiJpbWFnZS9wbmciLHF1b3RhUmVnRXg6L3F1b3RhL2ksc2V0TWFwOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuc2V0TWFwLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgYixjPXRoaXMubGF5ZXJzfHxhLmxheWVycztmb3IoYj1jLmxlbmd0aC0xOzA8PWI7LS1iKXRoaXMuYWRkTGF5ZXIoe2xheWVyOmNbYl19KTtpZighdGhpcy5sYXllcnMpYS5ldmVudHMub24oe2FkZGxheWVyOnRoaXMuYWRkTGF5ZXIscmVtb3ZlTGF5ZXI6dGhpcy5yZW1vdmVMYXllcixzY29wZTp0aGlzfSl9LGFkZExheWVyOmZ1bmN0aW9uKGEpe2EubGF5ZXIuZXZlbnRzLm9uKHt0aWxlbG9hZHN0YXJ0OnRoaXMubWFrZVNhbWVPcmlnaW4sdGlsZWxvYWRlZDp0aGlzLm9uVGlsZUxvYWRlZCxzY29wZTp0aGlzfSl9LHJlbW92ZUxheWVyOmZ1bmN0aW9uKGEpe2EubGF5ZXIuZXZlbnRzLnVuKHt0aWxlbG9hZHN0YXJ0OnRoaXMubWFrZVNhbWVPcmlnaW4sCnRpbGVsb2FkZWQ6dGhpcy5vblRpbGVMb2FkZWQsc2NvcGU6dGhpc30pfSxtYWtlU2FtZU9yaWdpbjpmdW5jdGlvbihhKXtpZih0aGlzLmFjdGl2ZSYmKGE9YS50aWxlLGEgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLlRpbGUuSW1hZ2UmJiFhLmNyb3NzT3JpZ2luS2V5d29yZCYmImRhdGE6IiE9PWEudXJsLnN1YnN0cigwLDUpKSl7dmFyIGI9T3BlbkxheWVycy5SZXF1ZXN0Lm1ha2VTYW1lT3JpZ2luKGEudXJsLE9wZW5MYXllcnMuUHJveHlIb3N0KTtPcGVuTGF5ZXJzLkNvbnRyb2wuQ2FjaGVXcml0ZS51cmxNYXBbYl09YS51cmw7YS51cmw9Yn19LG9uVGlsZUxvYWRlZDpmdW5jdGlvbihhKXt0aGlzLmFjdGl2ZSYmKCFhLmFib3J0ZWQmJmEudGlsZSBpbnN0YW5jZW9mIE9wZW5MYXllcnMuVGlsZS5JbWFnZSYmImRhdGE6IiE9PWEudGlsZS51cmwuc3Vic3RyKDAsNSkpJiYodGhpcy5jYWNoZSh7dGlsZTphLnRpbGV9KSxkZWxldGUgT3BlbkxheWVycy5Db250cm9sLkNhY2hlV3JpdGUudXJsTWFwW2EudGlsZS51cmxdKX0sCmNhY2hlOmZ1bmN0aW9uKGEpe2lmKHdpbmRvdy5sb2NhbFN0b3JhZ2Upe2E9YS50aWxlO3RyeXt2YXIgYj1hLmdldENhbnZhc0NvbnRleHQoKTtiJiZ3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oIm9sQ2FjaGVfIisoT3BlbkxheWVycy5Db250cm9sLkNhY2hlV3JpdGUudXJsTWFwW2EudXJsXXx8YS51cmwpLGIuY2FudmFzLnRvRGF0YVVSTCh0aGlzLmltYWdlRm9ybWF0KSl9Y2F0Y2goYyl7KGI9Yy5uYW1lfHxjLm1lc3NhZ2UpJiZ0aGlzLnF1b3RhUmVnRXgudGVzdChiKT90aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImNhY2hlZnVsbCIse3RpbGU6YX0pOk9wZW5MYXllcnMuQ29uc29sZS5lcnJvcihjLnRvU3RyaW5nKCkpfX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXtpZih0aGlzLmxheWVyc3x8dGhpcy5tYXApe3ZhciBhLGI9dGhpcy5sYXllcnN8fHRoaXMubWFwLmxheWVycztmb3IoYT1iLmxlbmd0aC0xOzA8PWE7LS1hKXRoaXMucmVtb3ZlTGF5ZXIoe2xheWVyOmJbYV19KX10aGlzLm1hcCYmCnRoaXMubWFwLmV2ZW50cy51bih7YWRkbGF5ZXI6dGhpcy5hZGRMYXllcixyZW1vdmVMYXllcjp0aGlzLnJlbW92ZUxheWVyLHNjb3BlOnRoaXN9KTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuQ2FjaGVXcml0ZSJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuQ2FjaGVXcml0ZS5jbGVhckNhY2hlPWZ1bmN0aW9uKCl7aWYod2luZG93LmxvY2FsU3RvcmFnZSl7dmFyIGEsYjtmb3IoYT13aW5kb3cubG9jYWxTdG9yYWdlLmxlbmd0aC0xOzA8PWE7LS1hKWI9d2luZG93LmxvY2FsU3RvcmFnZS5rZXkoYSksIm9sQ2FjaGVfIj09PWIuc3Vic3RyKDAsOCkmJndpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShiKX19O09wZW5MYXllcnMuQ29udHJvbC5DYWNoZVdyaXRlLnVybE1hcD17fTtPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjFfMT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LldNU0NhcGFiaWxpdGllcy52MSx7cmVhZGVyczp7d21zOk9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtXTVRfTVNfQ2FwYWJpbGl0aWVzOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxLZXl3b3JkOmZ1bmN0aW9uKGEsYil7Yi5rZXl3b3JkcyYmYi5rZXl3b3Jkcy5wdXNoKHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSl9LERlc2NyaWJlTGF5ZXI6ZnVuY3Rpb24oYSxiKXtiLmRlc2NyaWJlbGF5ZXI9e2Zvcm1hdHM6W119O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLmRlc2NyaWJlbGF5ZXIpfSxHZXRMZWdlbmRHcmFwaGljOmZ1bmN0aW9uKGEsYil7Yi5nZXRsZWdlbmRncmFwaGljPXtmb3JtYXRzOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5nZXRsZWdlbmRncmFwaGljKX0sR2V0U3R5bGVzOmZ1bmN0aW9uKGEsYil7Yi5nZXRzdHlsZXM9Cntmb3JtYXRzOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5nZXRzdHlsZXMpfSxQdXRTdHlsZXM6ZnVuY3Rpb24oYSxiKXtiLnB1dHN0eWxlcz17Zm9ybWF0czpbXX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIucHV0c3R5bGVzKX0sVXNlckRlZmluZWRTeW1ib2xpemF0aW9uOmZ1bmN0aW9uKGEsYil7dmFyIGM9e3N1cHBvcnRTTEQ6MT09cGFyc2VJbnQoYS5nZXRBdHRyaWJ1dGUoIlN1cHBvcnRTTEQiKSksdXNlckxheWVyOjE9PXBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKCJVc2VyTGF5ZXIiKSksdXNlclN0eWxlOjE9PXBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKCJVc2VyU3R5bGUiKSkscmVtb3RlV0ZTOjE9PXBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKCJSZW1vdGVXRlMiKSl9O2IudXNlclN5bWJvbHM9Y30sTGF0TG9uQm91bmRpbmdCb3g6ZnVuY3Rpb24oYSxiKXtiLmxsYmJveD1bcGFyc2VGbG9hdChhLmdldEF0dHJpYnV0ZSgibWlueCIpKSxwYXJzZUZsb2F0KGEuZ2V0QXR0cmlidXRlKCJtaW55IikpLApwYXJzZUZsb2F0KGEuZ2V0QXR0cmlidXRlKCJtYXh4IikpLHBhcnNlRmxvYXQoYS5nZXRBdHRyaWJ1dGUoIm1heHkiKSldfSxCb3VuZGluZ0JveDpmdW5jdGlvbihhLGIpe3ZhciBjPU9wZW5MYXllcnMuRm9ybWF0LldNU0NhcGFiaWxpdGllcy52MS5wcm90b3R5cGUucmVhZGVycy53bXMuQm91bmRpbmdCb3guYXBwbHkodGhpcyxbYSxiXSk7Yy5zcnM9YS5nZXRBdHRyaWJ1dGUoIlNSUyIpO2IuYmJveFtjLnNyc109Y30sU2NhbGVIaW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRBdHRyaWJ1dGUoIm1pbiIpLGQ9YS5nZXRBdHRyaWJ1dGUoIm1heCIpLGU9TWF0aC5wb3coMiwwLjUpLGY9T3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVQubTswIT1jJiYoYi5tYXhTY2FsZT1wYXJzZUZsb2F0KChjL2UqZipPcGVuTGF5ZXJzLkRPVFNfUEVSX0lOQ0gpLnRvUHJlY2lzaW9uKDEzKSkpO2QhPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSYmKGIubWluU2NhbGU9cGFyc2VGbG9hdCgoZC9lKmYqCk9wZW5MYXllcnMuRE9UU19QRVJfSU5DSCkudG9QcmVjaXNpb24oMTMpKSl9LERpbWVuc2lvbjpmdW5jdGlvbihhLGIpe3ZhciBjPXtuYW1lOmEuZ2V0QXR0cmlidXRlKCJuYW1lIikudG9Mb3dlckNhc2UoKSx1bml0czphLmdldEF0dHJpYnV0ZSgidW5pdHMiKSx1bml0c3ltYm9sOmEuZ2V0QXR0cmlidXRlKCJ1bml0U3ltYm9sIil9O2IuZGltZW5zaW9uc1tjLm5hbWVdPWN9LEV4dGVudDpmdW5jdGlvbihhLGIpe3ZhciBjPWEuZ2V0QXR0cmlidXRlKCJuYW1lIikudG9Mb3dlckNhc2UoKTtpZihjIGluIGIuZGltZW5zaW9ucyl7Yz1iLmRpbWVuc2lvbnNbY107Yy5uZWFyZXN0VmFsPSIxIj09PWEuZ2V0QXR0cmlidXRlKCJuZWFyZXN0VmFsdWUiKTtjLm11bHRpcGxlVmFsPSIxIj09PWEuZ2V0QXR0cmlidXRlKCJtdWx0aXBsZVZhbHVlcyIpO2MuY3VycmVudD0iMSI9PT1hLmdldEF0dHJpYnV0ZSgiY3VycmVudCIpO2NbImRlZmF1bHQiXT1hLmdldEF0dHJpYnV0ZSgiZGVmYXVsdCIpfHwKIiI7dmFyIGQ9dGhpcy5nZXRDaGlsZFZhbHVlKGEpO2MudmFsdWVzPWQuc3BsaXQoIiwiKX19fSxPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjEucHJvdG90eXBlLnJlYWRlcnMud21zKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuV01TQ2FwYWJpbGl0aWVzLnYxXzEifSk7T3BlbkxheWVycy5Gb3JtYXQuQ29udGV4dD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTC5WZXJzaW9uZWRPR0Mse2xheWVyT3B0aW9uczpudWxsLGxheWVyUGFyYW1zOm51bGwscmVhZDpmdW5jdGlvbihhLGIpe3ZhciBjPU9wZW5MYXllcnMuRm9ybWF0LlhNTC5WZXJzaW9uZWRPR0MucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKGImJmIubWFwKWlmKHRoaXMuY29udGV4dD1jLGIubWFwIGluc3RhbmNlb2YgT3BlbkxheWVycy5NYXApYz10aGlzLm1lcmdlQ29udGV4dFRvTWFwKGMsYi5tYXApO2Vsc2V7dmFyIGQ9Yi5tYXA7aWYoT3BlbkxheWVycy5VdGlsLmlzRWxlbWVudChkKXx8InN0cmluZyI9PXR5cGVvZiBkKWQ9e2RpdjpkfTtjPXRoaXMuY29udGV4dFRvTWFwKGMsZCl9cmV0dXJuIGN9LGdldExheWVyRnJvbUNvbnRleHQ6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPXtxdWVyeWFibGU6YS5xdWVyeWFibGUsdmlzaWJpbGl0eTphLnZpc2liaWxpdHksCm1heEV4dGVudDphLm1heEV4dGVudCxtZXRhZGF0YTpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLm1ldGFkYXRhLHtzdHlsZXM6YS5zdHlsZXMsZm9ybWF0czphLmZvcm1hdHMsImFic3RyYWN0IjphWyJhYnN0cmFjdCJdLGRhdGFVUkw6YS5kYXRhVVJMfSksbnVtWm9vbUxldmVsczphLm51bVpvb21MZXZlbHMsdW5pdHM6YS51bml0cyxpc0Jhc2VMYXllcjphLmlzQmFzZUxheWVyLG9wYWNpdHk6YS5vcGFjaXR5LGRpc3BsYXlJbkxheWVyU3dpdGNoZXI6YS5kaXNwbGF5SW5MYXllclN3aXRjaGVyLHNpbmdsZVRpbGU6YS5zaW5nbGVUaWxlLHRpbGVTaXplOmEudGlsZVNpemU/bmV3IE9wZW5MYXllcnMuU2l6ZShhLnRpbGVTaXplLndpZHRoLGEudGlsZVNpemUuaGVpZ2h0KTp2b2lkIDAsbWluU2NhbGU6YS5taW5TY2FsZXx8YS5tYXhTY2FsZURlbm9taW5hdG9yLG1heFNjYWxlOmEubWF4U2NhbGV8fGEubWluU2NhbGVEZW5vbWluYXRvcixzcnM6YS5zcnMsZGltZW5zaW9uczphLmRpbWVuc2lvbnMsCm1ldGFkYXRhVVJMOmEubWV0YWRhdGFVUkx9O3RoaXMubGF5ZXJPcHRpb25zJiZPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhkLHRoaXMubGF5ZXJPcHRpb25zKTt2YXIgZT17bGF5ZXJzOmEubmFtZSx0cmFuc3BhcmVudDphLnRyYW5zcGFyZW50LHZlcnNpb246YS52ZXJzaW9ufTtpZihhLmZvcm1hdHMmJjA8YS5mb3JtYXRzLmxlbmd0aCl7ZS5mb3JtYXQ9YS5mb3JtYXRzWzBdLnZhbHVlO2I9MDtmb3IoYz1hLmZvcm1hdHMubGVuZ3RoO2I8YztiKyspe3ZhciBmPWEuZm9ybWF0c1tiXTtpZighMD09Zi5jdXJyZW50KXtlLmZvcm1hdD1mLnZhbHVlO2JyZWFrfX19aWYoYS5zdHlsZXMmJjA8YS5zdHlsZXMubGVuZ3RoKXtiPTA7Zm9yKGM9YS5zdHlsZXMubGVuZ3RoO2I8YztiKyspaWYoZj1hLnN0eWxlc1tiXSwhMD09Zi5jdXJyZW50KXtmLmhyZWY/ZS5zbGQ9Zi5ocmVmOmYuYm9keT9lLnNsZF9ib2R5PWYuYm9keTplLnN0eWxlcz1mLm5hbWU7YnJlYWt9fXRoaXMubGF5ZXJQYXJhbXMmJgpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhlLHRoaXMubGF5ZXJQYXJhbXMpO2I9bnVsbDtjPWEuc2VydmljZTtjPT1PcGVuTGF5ZXJzLkZvcm1hdC5Db250ZXh0LnNlcnZpY2VUeXBlcy5XRlM/KGQuc3RyYXRlZ2llcz1bbmV3IE9wZW5MYXllcnMuU3RyYXRlZ3kuQkJPWF0sZC5wcm90b2NvbD1uZXcgT3BlbkxheWVycy5Qcm90b2NvbC5XRlMoe3VybDphLnVybCxmZWF0dXJlUHJlZml4OmEubmFtZS5zcGxpdCgiOiIpWzBdLGZlYXR1cmVUeXBlOmEubmFtZS5zcGxpdCgiOiIpLnBvcCgpfSksYj1uZXcgT3BlbkxheWVycy5MYXllci5WZWN0b3IoYS50aXRsZXx8YS5uYW1lLGQpKTpjPT1PcGVuTGF5ZXJzLkZvcm1hdC5Db250ZXh0LnNlcnZpY2VUeXBlcy5LTUw/KGQuc3RyYXRlZ2llcz1bbmV3IE9wZW5MYXllcnMuU3RyYXRlZ3kuRml4ZWRdLGQucHJvdG9jb2w9bmV3IE9wZW5MYXllcnMuUHJvdG9jb2wuSFRUUCh7dXJsOmEudXJsLGZvcm1hdDpuZXcgT3BlbkxheWVycy5Gb3JtYXQuS01MfSksCmI9bmV3IE9wZW5MYXllcnMuTGF5ZXIuVmVjdG9yKGEudGl0bGV8fGEubmFtZSxkKSk6Yz09T3BlbkxheWVycy5Gb3JtYXQuQ29udGV4dC5zZXJ2aWNlVHlwZXMuR01MPyhkLnN0cmF0ZWdpZXM9W25ldyBPcGVuTGF5ZXJzLlN0cmF0ZWd5LkZpeGVkXSxkLnByb3RvY29sPW5ldyBPcGVuTGF5ZXJzLlByb3RvY29sLkhUVFAoe3VybDphLnVybCxmb3JtYXQ6bmV3IE9wZW5MYXllcnMuRm9ybWF0LkdNTH0pLGI9bmV3IE9wZW5MYXllcnMuTGF5ZXIuVmVjdG9yKGEudGl0bGV8fGEubmFtZSxkKSk6YS5mZWF0dXJlcz8oYj1uZXcgT3BlbkxheWVycy5MYXllci5WZWN0b3IoYS50aXRsZXx8YS5uYW1lLGQpLGIuYWRkRmVhdHVyZXMoYS5mZWF0dXJlcykpOiEwIT09YS5jYXRlZ29yeUxheWVyJiYoYj1uZXcgT3BlbkxheWVycy5MYXllci5XTVMoYS50aXRsZXx8YS5uYW1lLGEudXJsLGUsZCkpO3JldHVybiBifSxnZXRMYXllcnNGcm9tQ29udGV4dDpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz0KMCxkPWEubGVuZ3RoO2M8ZDtjKyspe3ZhciBlPXRoaXMuZ2V0TGF5ZXJGcm9tQ29udGV4dChhW2NdKTtudWxsIT09ZSYmYi5wdXNoKGUpfXJldHVybiBifSxjb250ZXh0VG9NYXA6ZnVuY3Rpb24oYSxiKXtiPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHttYXhFeHRlbnQ6YS5tYXhFeHRlbnQscHJvamVjdGlvbjphLnByb2plY3Rpb24sdW5pdHM6YS51bml0c30sYik7Yi5tYXhFeHRlbnQmJihiLm1heFJlc29sdXRpb249Yi5tYXhFeHRlbnQuZ2V0V2lkdGgoKS9PcGVuTGF5ZXJzLk1hcC5USUxFX1dJRFRIKTtiLm1ldGFkYXRhPXtjb250YWN0SW5mb3JtYXRpb246YS5jb250YWN0SW5mb3JtYXRpb24sImFic3RyYWN0IjphWyJhYnN0cmFjdCJdLGtleXdvcmRzOmEua2V5d29yZHMsbG9nbzphLmxvZ28sZGVzY3JpcHRpb25VUkw6YS5kZXNjcmlwdGlvblVSTH07dmFyIGM9bmV3IE9wZW5MYXllcnMuTWFwKGIpO2MuYWRkTGF5ZXJzKHRoaXMuZ2V0TGF5ZXJzRnJvbUNvbnRleHQoYS5sYXllcnNDb250ZXh0KSk7CmMuc2V0Q2VudGVyKGEuYm91bmRzLmdldENlbnRlckxvbkxhdCgpLGMuZ2V0Wm9vbUZvckV4dGVudChhLmJvdW5kcywhMCkpO3JldHVybiBjfSxtZXJnZUNvbnRleHRUb01hcDpmdW5jdGlvbihhLGIpe2IuYWRkTGF5ZXJzKHRoaXMuZ2V0TGF5ZXJzRnJvbUNvbnRleHQoYS5sYXllcnNDb250ZXh0KSk7cmV0dXJuIGJ9LHdyaXRlOmZ1bmN0aW9uKGEsYil7YT10aGlzLnRvQ29udGV4dChhKTtyZXR1cm4gT3BlbkxheWVycy5Gb3JtYXQuWE1MLlZlcnNpb25lZE9HQy5wcm90b3R5cGUud3JpdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5Db250ZXh0In0pOwpPcGVuTGF5ZXJzLkZvcm1hdC5Db250ZXh0LnNlcnZpY2VUeXBlcz17V01TOiJ1cm46b2djOnNlcnZpY2VUeXBlOldNUyIsV0ZTOiJ1cm46b2djOnNlcnZpY2VUeXBlOldGUyIsV0NTOiJ1cm46b2djOnNlcnZpY2VUeXBlOldDUyIsR01MOiJ1cm46b2djOnNlcnZpY2VUeXBlOkdNTCIsU0xEOiJ1cm46b2djOnNlcnZpY2VUeXBlOlNMRCIsRkVTOiJ1cm46b2djOnNlcnZpY2VUeXBlOkZFUyIsS01MOiJ1cm46b2djOnNlcnZpY2VUeXBlOktNTCJ9O09wZW5MYXllcnMuRm9ybWF0LldNQz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LkNvbnRleHQse2RlZmF1bHRWZXJzaW9uOiIxLjEuMCIsbGF5ZXJUb0NvbnRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRQYXJzZXIoKSxjPXtxdWVyeWFibGU6YS5xdWVyeWFibGUsdmlzaWJpbGl0eTphLnZpc2liaWxpdHksbmFtZTphLnBhcmFtcy5MQVlFUlMsdGl0bGU6YS5uYW1lLCJhYnN0cmFjdCI6YS5tZXRhZGF0YVsiYWJzdHJhY3QiXSxkYXRhVVJMOmEubWV0YWRhdGEuZGF0YVVSTCxtZXRhZGF0YVVSTDphLm1ldGFkYXRhVVJMLHNlcnZlcjp7dmVyc2lvbjphLnBhcmFtcy5WRVJTSU9OLHVybDphLnVybH0sbWF4RXh0ZW50OmEubWF4RXh0ZW50LHRyYW5zcGFyZW50OmEucGFyYW1zLlRSQU5TUEFSRU5ULG51bVpvb21MZXZlbHM6YS5udW1ab29tTGV2ZWxzLHVuaXRzOmEudW5pdHMsaXNCYXNlTGF5ZXI6YS5pc0Jhc2VMYXllcixvcGFjaXR5OjE9PWEub3BhY2l0eT92b2lkIDA6CmEub3BhY2l0eSxkaXNwbGF5SW5MYXllclN3aXRjaGVyOmEuZGlzcGxheUluTGF5ZXJTd2l0Y2hlcixzaW5nbGVUaWxlOmEuc2luZ2xlVGlsZSx0aWxlU2l6ZTphLnNpbmdsZVRpbGV8fCFhLnRpbGVTaXplP3ZvaWQgMDp7d2lkdGg6YS50aWxlU2l6ZS53LGhlaWdodDphLnRpbGVTaXplLmh9LG1pblNjYWxlOmEub3B0aW9ucy5yZXNvbHV0aW9uc3x8YS5vcHRpb25zLnNjYWxlc3x8YS5vcHRpb25zLm1heFJlc29sdXRpb258fGEub3B0aW9ucy5taW5TY2FsZT9hLm1pblNjYWxlOnZvaWQgMCxtYXhTY2FsZTphLm9wdGlvbnMucmVzb2x1dGlvbnN8fGEub3B0aW9ucy5zY2FsZXN8fGEub3B0aW9ucy5taW5SZXNvbHV0aW9ufHxhLm9wdGlvbnMubWF4U2NhbGU/YS5tYXhTY2FsZTp2b2lkIDAsZm9ybWF0czpbXSxzdHlsZXM6W10sc3JzOmEuc3JzLGRpbWVuc2lvbnM6YS5kaW1lbnNpb25zfTthLm1ldGFkYXRhLnNlcnZlcnRpdGxlJiYoYy5zZXJ2ZXIudGl0bGU9YS5tZXRhZGF0YS5zZXJ2ZXJ0aXRsZSk7CmlmKGEubWV0YWRhdGEuZm9ybWF0cyYmMDxhLm1ldGFkYXRhLmZvcm1hdHMubGVuZ3RoKWZvcih2YXIgZD0wLGU9YS5tZXRhZGF0YS5mb3JtYXRzLmxlbmd0aDtkPGU7ZCsrKXt2YXIgZj1hLm1ldGFkYXRhLmZvcm1hdHNbZF07Yy5mb3JtYXRzLnB1c2goe3ZhbHVlOmYudmFsdWUsY3VycmVudDpmLnZhbHVlPT1hLnBhcmFtcy5GT1JNQVR9KX1lbHNlIGMuZm9ybWF0cy5wdXNoKHt2YWx1ZTphLnBhcmFtcy5GT1JNQVQsY3VycmVudDohMH0pO2lmKGEubWV0YWRhdGEuc3R5bGVzJiYwPGEubWV0YWRhdGEuc3R5bGVzLmxlbmd0aCl7ZD0wO2ZvcihlPWEubWV0YWRhdGEuc3R5bGVzLmxlbmd0aDtkPGU7ZCsrKWI9YS5tZXRhZGF0YS5zdHlsZXNbZF0sYi5jdXJyZW50PWIuaHJlZj09YS5wYXJhbXMuU0xEfHxiLmJvZHk9PWEucGFyYW1zLlNMRF9CT0RZfHxiLm5hbWU9PWEucGFyYW1zLlNUWUxFUz8hMDohMSxjLnN0eWxlcy5wdXNoKGIpfWVsc2UgYy5zdHlsZXMucHVzaCh7aHJlZjphLnBhcmFtcy5TTEQsCmJvZHk6YS5wYXJhbXMuU0xEX0JPRFksbmFtZTphLnBhcmFtcy5TVFlMRVN8fGIuZGVmYXVsdFN0eWxlTmFtZSx0aXRsZTpiLmRlZmF1bHRTdHlsZVRpdGxlLGN1cnJlbnQ6ITB9KTtyZXR1cm4gY30sdG9Db250ZXh0OmZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM9YS5sYXllcnM7aWYoIk9wZW5MYXllcnMuTWFwIj09YS5DTEFTU19OQU1FKXt2YXIgZD1hLm1ldGFkYXRhfHx7fTtiLnNpemU9YS5nZXRTaXplKCk7Yi5ib3VuZHM9YS5nZXRFeHRlbnQoKTtiLnByb2plY3Rpb249YS5wcm9qZWN0aW9uO2IudGl0bGU9YS50aXRsZTtiLmtleXdvcmRzPWQua2V5d29yZHM7YlsiYWJzdHJhY3QiXT1kWyJhYnN0cmFjdCJdO2IubG9nbz1kLmxvZ287Yi5kZXNjcmlwdGlvblVSTD1kLmRlc2NyaXB0aW9uVVJMO2IuY29udGFjdEluZm9ybWF0aW9uPWQuY29udGFjdEluZm9ybWF0aW9uO2IubWF4RXh0ZW50PWEubWF4RXh0ZW50fWVsc2UgT3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYixhKSx2b2lkIDAhPQpiLmxheWVycyYmZGVsZXRlIGIubGF5ZXJzO3ZvaWQgMD09Yi5sYXllcnNDb250ZXh0JiYoYi5sYXllcnNDb250ZXh0PVtdKTtpZih2b2lkIDAhPWMmJk9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGMpKXthPTA7Zm9yKGQ9Yy5sZW5ndGg7YTxkO2ErKyl7dmFyIGU9Y1thXTtlIGluc3RhbmNlb2YgT3BlbkxheWVycy5MYXllci5XTVMmJmIubGF5ZXJzQ29udGV4dC5wdXNoKHRoaXMubGF5ZXJUb0NvbnRleHQoZSkpfX1yZXR1cm4gYn0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuV01DIn0pO09wZW5MYXllcnMuRm9ybWF0LldNQy52MT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7bmFtZXNwYWNlczp7b2w6Imh0dHA6Ly9vcGVubGF5ZXJzLm9yZy9jb250ZXh0Iix3bWM6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvY29udGV4dCIsc2xkOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3NsZCIseGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UifSxzY2hlbWFMb2NhdGlvbjoiIixnZXROYW1lc3BhY2VQcmVmaXg6ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtpZihudWxsPT1hKWI9dGhpcy5uYW1lc3BhY2VzW3RoaXMuZGVmYXVsdFByZWZpeF07ZWxzZSBmb3IoYiBpbiB0aGlzLm5hbWVzcGFjZXMpaWYodGhpcy5uYW1lc3BhY2VzW2JdPT1hKWJyZWFrO3JldHVybiBifSxkZWZhdWx0UHJlZml4OiJ3bWMiLHJvb3RQcmVmaXg6bnVsbCxkZWZhdWx0U3R5bGVOYW1lOiIiLApkZWZhdWx0U3R5bGVUaXRsZToiRGVmYXVsdCIsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pfSxyZWFkOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7YT1hLmRvY3VtZW50RWxlbWVudDt0aGlzLnJvb3RQcmVmaXg9YS5wcmVmaXg7dmFyIGI9e3ZlcnNpb246YS5nZXRBdHRyaWJ1dGUoInZlcnNpb24iKX07dGhpcy5ydW5DaGlsZE5vZGVzKGIsYSk7cmV0dXJuIGJ9LHJ1bkNoaWxkTm9kZXM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9Yi5jaGlsZE5vZGVzLGQsZSxmLGc9MCxoPWMubGVuZ3RoO2c8aDsrK2cpZD1jW2ddLDE9PWQubm9kZVR5cGUmJihlPXRoaXMuZ2V0TmFtZXNwYWNlUHJlZml4KGQubmFtZXNwYWNlVVJJKSxmPWQubm9kZU5hbWUuc3BsaXQoIjoiKS5wb3AoKSwKKGU9dGhpc1sicmVhZF8iK2UrIl8iK2ZdKSYmZS5hcHBseSh0aGlzLFthLGRdKSl9LHJlYWRfd21jX0dlbmVyYWw6ZnVuY3Rpb24oYSxiKXt0aGlzLnJ1bkNoaWxkTm9kZXMoYSxiKX0scmVhZF93bWNfQm91bmRpbmdCb3g6ZnVuY3Rpb24oYSxiKXthLnByb2plY3Rpb249Yi5nZXRBdHRyaWJ1dGUoIlNSUyIpO2EuYm91bmRzPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhiLmdldEF0dHJpYnV0ZSgibWlueCIpLGIuZ2V0QXR0cmlidXRlKCJtaW55IiksYi5nZXRBdHRyaWJ1dGUoIm1heHgiKSxiLmdldEF0dHJpYnV0ZSgibWF4eSIpKX0scmVhZF93bWNfTGF5ZXJMaXN0OmZ1bmN0aW9uKGEsYil7YS5sYXllcnNDb250ZXh0PVtdO3RoaXMucnVuQ2hpbGROb2RlcyhhLGIpfSxyZWFkX3dtY19MYXllcjpmdW5jdGlvbihhLGIpe3ZhciBjPXt2aXNpYmlsaXR5OiIxIiE9Yi5nZXRBdHRyaWJ1dGUoImhpZGRlbiIpLHF1ZXJ5YWJsZToiMSI9PWIuZ2V0QXR0cmlidXRlKCJxdWVyeWFibGUiKSxmb3JtYXRzOltdLApzdHlsZXM6W10sbWV0YWRhdGE6e319O3RoaXMucnVuQ2hpbGROb2RlcyhjLGIpO2EubGF5ZXJzQ29udGV4dC5wdXNoKGMpfSxyZWFkX3dtY19FeHRlbnNpb246ZnVuY3Rpb24oYSxiKXt0aGlzLnJ1bkNoaWxkTm9kZXMoYSxiKX0scmVhZF9vbF91bml0czpmdW5jdGlvbihhLGIpe2EudW5pdHM9dGhpcy5nZXRDaGlsZFZhbHVlKGIpfSxyZWFkX29sX21heEV4dGVudDpmdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhiLmdldEF0dHJpYnV0ZSgibWlueCIpLGIuZ2V0QXR0cmlidXRlKCJtaW55IiksYi5nZXRBdHRyaWJ1dGUoIm1heHgiKSxiLmdldEF0dHJpYnV0ZSgibWF4eSIpKTthLm1heEV4dGVudD1jfSxyZWFkX29sX3RyYW5zcGFyZW50OmZ1bmN0aW9uKGEsYil7YS50cmFuc3BhcmVudD10aGlzLmdldENoaWxkVmFsdWUoYil9LHJlYWRfb2xfbnVtWm9vbUxldmVsczpmdW5jdGlvbihhLGIpe2EubnVtWm9vbUxldmVscz1wYXJzZUludCh0aGlzLmdldENoaWxkVmFsdWUoYikpfSwKcmVhZF9vbF9vcGFjaXR5OmZ1bmN0aW9uKGEsYil7YS5vcGFjaXR5PXBhcnNlRmxvYXQodGhpcy5nZXRDaGlsZFZhbHVlKGIpKX0scmVhZF9vbF9zaW5nbGVUaWxlOmZ1bmN0aW9uKGEsYil7YS5zaW5nbGVUaWxlPSJ0cnVlIj09dGhpcy5nZXRDaGlsZFZhbHVlKGIpfSxyZWFkX29sX3RpbGVTaXplOmZ1bmN0aW9uKGEsYil7dmFyIGM9e3dpZHRoOmIuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpLGhlaWdodDpiLmdldEF0dHJpYnV0ZSgiaGVpZ2h0Iil9O2EudGlsZVNpemU9Y30scmVhZF9vbF9pc0Jhc2VMYXllcjpmdW5jdGlvbihhLGIpe2EuaXNCYXNlTGF5ZXI9InRydWUiPT10aGlzLmdldENoaWxkVmFsdWUoYil9LHJlYWRfb2xfZGlzcGxheUluTGF5ZXJTd2l0Y2hlcjpmdW5jdGlvbihhLGIpe2EuZGlzcGxheUluTGF5ZXJTd2l0Y2hlcj0idHJ1ZSI9PXRoaXMuZ2V0Q2hpbGRWYWx1ZShiKX0scmVhZF93bWNfU2VydmVyOmZ1bmN0aW9uKGEsYil7YS52ZXJzaW9uPWIuZ2V0QXR0cmlidXRlKCJ2ZXJzaW9uIik7CmEudXJsPXRoaXMuZ2V0T25saW5lUmVzb3VyY2VfaHJlZihiKTthLm1ldGFkYXRhLnNlcnZlcnRpdGxlPWIuZ2V0QXR0cmlidXRlKCJ0aXRsZSIpfSxyZWFkX3dtY19Gb3JtYXRMaXN0OmZ1bmN0aW9uKGEsYil7dGhpcy5ydW5DaGlsZE5vZGVzKGEsYil9LHJlYWRfd21jX0Zvcm1hdDpmdW5jdGlvbihhLGIpe3ZhciBjPXt2YWx1ZTp0aGlzLmdldENoaWxkVmFsdWUoYil9OyIxIj09Yi5nZXRBdHRyaWJ1dGUoImN1cnJlbnQiKSYmKGMuY3VycmVudD0hMCk7YS5mb3JtYXRzLnB1c2goYyl9LHJlYWRfd21jX1N0eWxlTGlzdDpmdW5jdGlvbihhLGIpe3RoaXMucnVuQ2hpbGROb2RlcyhhLGIpfSxyZWFkX3dtY19TdHlsZTpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O3RoaXMucnVuQ2hpbGROb2RlcyhjLGIpOyIxIj09Yi5nZXRBdHRyaWJ1dGUoImN1cnJlbnQiKSYmKGMuY3VycmVudD0hMCk7YS5zdHlsZXMucHVzaChjKX0scmVhZF93bWNfU0xEOmZ1bmN0aW9uKGEsYil7dGhpcy5ydW5DaGlsZE5vZGVzKGEsCmIpfSxyZWFkX3NsZF9TdHlsZWRMYXllckRlc2NyaXB0b3I6ZnVuY3Rpb24oYSxiKXt2YXIgYz1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLndyaXRlLmFwcGx5KHRoaXMsW2JdKTthLmJvZHk9Y30scmVhZF9zbGRfRmVhdHVyZVR5cGVTdHlsZTpmdW5jdGlvbihhLGIpe3ZhciBjPU9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUud3JpdGUuYXBwbHkodGhpcyxbYl0pO2EuYm9keT1jfSxyZWFkX3dtY19PbmxpbmVSZXNvdXJjZTpmdW5jdGlvbihhLGIpe2EuaHJlZj10aGlzLmdldEF0dHJpYnV0ZU5TKGIsdGhpcy5uYW1lc3BhY2VzLnhsaW5rLCJocmVmIil9LHJlYWRfd21jX05hbWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYik7YyYmKGEubmFtZT1jKX0scmVhZF93bWNfVGl0bGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYik7YyYmKGEudGl0bGU9Yyl9LHJlYWRfd21jX01ldGFkYXRhVVJMOmZ1bmN0aW9uKGEsCmIpe2EubWV0YWRhdGFVUkw9dGhpcy5nZXRPbmxpbmVSZXNvdXJjZV9ocmVmKGIpfSxyZWFkX3dtY19LZXl3b3JkTGlzdDpmdW5jdGlvbihhLGIpe2Eua2V5d29yZHM9W107dGhpcy5ydW5DaGlsZE5vZGVzKGEua2V5d29yZHMsYil9LHJlYWRfd21jX0tleXdvcmQ6ZnVuY3Rpb24oYSxiKXthLnB1c2godGhpcy5nZXRDaGlsZFZhbHVlKGIpKX0scmVhZF93bWNfQWJzdHJhY3Q6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYik7YyYmKGFbImFic3RyYWN0Il09Yyl9LHJlYWRfd21jX0xvZ29VUkw6ZnVuY3Rpb24oYSxiKXthLmxvZ289e3dpZHRoOmIuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpLGhlaWdodDpiLmdldEF0dHJpYnV0ZSgiaGVpZ2h0IiksZm9ybWF0OmIuZ2V0QXR0cmlidXRlKCJmb3JtYXQiKSxocmVmOnRoaXMuZ2V0T25saW5lUmVzb3VyY2VfaHJlZihiKX19LHJlYWRfd21jX0Rlc2NyaXB0aW9uVVJMOmZ1bmN0aW9uKGEsYil7YS5kZXNjcmlwdGlvblVSTD0KdGhpcy5nZXRPbmxpbmVSZXNvdXJjZV9ocmVmKGIpfSxyZWFkX3dtY19Db250YWN0SW5mb3JtYXRpb246ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTt0aGlzLnJ1bkNoaWxkTm9kZXMoYyxiKTthLmNvbnRhY3RJbmZvcm1hdGlvbj1jfSxyZWFkX3dtY19Db250YWN0UGVyc29uUHJpbWFyeTpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O3RoaXMucnVuQ2hpbGROb2RlcyhjLGIpO2EucGVyc29uUHJpbWFyeT1jfSxyZWFkX3dtY19Db250YWN0UGVyc29uOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDaGlsZFZhbHVlKGIpO2MmJihhLnBlcnNvbj1jKX0scmVhZF93bWNfQ29udGFjdE9yZ2FuaXphdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q2hpbGRWYWx1ZShiKTtjJiYoYS5vcmdhbml6YXRpb249Yyl9LHJlYWRfd21jX0NvbnRhY3RQb3NpdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q2hpbGRWYWx1ZShiKTtjJiYoYS5wb3NpdGlvbj1jKX0scmVhZF93bWNfQ29udGFjdEFkZHJlc3M6ZnVuY3Rpb24oYSwKYil7dmFyIGM9e307dGhpcy5ydW5DaGlsZE5vZGVzKGMsYik7YS5jb250YWN0QWRkcmVzcz1jfSxyZWFkX3dtY19BZGRyZXNzVHlwZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q2hpbGRWYWx1ZShiKTtjJiYoYS50eXBlPWMpfSxyZWFkX3dtY19BZGRyZXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDaGlsZFZhbHVlKGIpO2MmJihhLmFkZHJlc3M9Yyl9LHJlYWRfd21jX0NpdHk6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYik7YyYmKGEuY2l0eT1jKX0scmVhZF93bWNfU3RhdGVPclByb3ZpbmNlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDaGlsZFZhbHVlKGIpO2MmJihhLnN0YXRlT3JQcm92aW5jZT1jKX0scmVhZF93bWNfUG9zdENvZGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYik7YyYmKGEucG9zdGNvZGU9Yyl9LHJlYWRfd21jX0NvdW50cnk6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYik7CmMmJihhLmNvdW50cnk9Yyl9LHJlYWRfd21jX0NvbnRhY3RWb2ljZVRlbGVwaG9uZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q2hpbGRWYWx1ZShiKTtjJiYoYS5waG9uZT1jKX0scmVhZF93bWNfQ29udGFjdEZhY3NpbWlsZVRlbGVwaG9uZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q2hpbGRWYWx1ZShiKTtjJiYoYS5mYXg9Yyl9LHJlYWRfd21jX0NvbnRhY3RFbGVjdHJvbmljTWFpbEFkZHJlc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYik7YyYmKGEuZW1haWw9Yyl9LHJlYWRfd21jX0RhdGFVUkw6ZnVuY3Rpb24oYSxiKXthLmRhdGFVUkw9dGhpcy5nZXRPbmxpbmVSZXNvdXJjZV9ocmVmKGIpfSxyZWFkX3dtY19MZWdlbmRVUkw6ZnVuY3Rpb24oYSxiKXt2YXIgYz17d2lkdGg6Yi5nZXRBdHRyaWJ1dGUoIndpZHRoIiksaGVpZ2h0OmIuZ2V0QXR0cmlidXRlKCJoZWlnaHQiKSxmb3JtYXQ6Yi5nZXRBdHRyaWJ1dGUoImZvcm1hdCIpLApocmVmOnRoaXMuZ2V0T25saW5lUmVzb3VyY2VfaHJlZihiKX07YS5sZWdlbmQ9Y30scmVhZF93bWNfRGltZW5zaW9uTGlzdDpmdW5jdGlvbihhLGIpe2EuZGltZW5zaW9ucz17fTt0aGlzLnJ1bkNoaWxkTm9kZXMoYS5kaW1lbnNpb25zLGIpfSxyZWFkX3dtY19EaW1lbnNpb246ZnVuY3Rpb24oYSxiKXt2YXIgYz17bmFtZTpiLmdldEF0dHJpYnV0ZSgibmFtZSIpLnRvTG93ZXJDYXNlKCksdW5pdHM6Yi5nZXRBdHRyaWJ1dGUoInVuaXRzIil8fCIiLHVuaXRTeW1ib2w6Yi5nZXRBdHRyaWJ1dGUoInVuaXRTeW1ib2wiKXx8IiIsdXNlclZhbHVlOmIuZ2V0QXR0cmlidXRlKCJ1c2VyVmFsdWUiKXx8IiIsbmVhcmVzdFZhbHVlOiIxIj09PWIuZ2V0QXR0cmlidXRlKCJuZWFyZXN0VmFsdWUiKSxtdWx0aXBsZVZhbHVlczoiMSI9PT1iLmdldEF0dHJpYnV0ZSgibXVsdGlwbGVWYWx1ZXMiKSxjdXJyZW50OiIxIj09PWIuZ2V0QXR0cmlidXRlKCJjdXJyZW50IiksImRlZmF1bHQiOmIuZ2V0QXR0cmlidXRlKCJkZWZhdWx0Iil8fAoiIn0sZD10aGlzLmdldENoaWxkVmFsdWUoYik7Yy52YWx1ZXM9ZC5zcGxpdCgiLCIpO2FbYy5uYW1lXT1jfSx3cml0ZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiVmlld0NvbnRleHQiKTt0aGlzLnNldEF0dHJpYnV0ZXMoYyx7dmVyc2lvbjp0aGlzLlZFUlNJT04saWQ6YiYmInN0cmluZyI9PXR5cGVvZiBiLmlkP2IuaWQ6T3BlbkxheWVycy5VdGlsLmNyZWF0ZVVuaXF1ZUlEKCJPcGVuTGF5ZXJzX0NvbnRleHRfIil9KTt0aGlzLnNldEF0dHJpYnV0ZU5TKGMsdGhpcy5uYW1lc3BhY2VzLnhzaSwieHNpOnNjaGVtYUxvY2F0aW9uIix0aGlzLnNjaGVtYUxvY2F0aW9uKTtjLmFwcGVuZENoaWxkKHRoaXMud3JpdGVfd21jX0dlbmVyYWwoYSkpO2MuYXBwZW5kQ2hpbGQodGhpcy53cml0ZV93bWNfTGF5ZXJMaXN0KGEpKTtyZXR1cm4gT3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS53cml0ZS5hcHBseSh0aGlzLFtjXSl9LGNyZWF0ZUVsZW1lbnREZWZhdWx0TlM6ZnVuY3Rpb24oYSwKYixjKXthPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMubmFtZXNwYWNlc1t0aGlzLmRlZmF1bHRQcmVmaXhdLGEpO2ImJmEuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVUZXh0Tm9kZShiKSk7YyYmdGhpcy5zZXRBdHRyaWJ1dGVzKGEsYyk7cmV0dXJuIGF9LHNldEF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkO2ZvcihkIGluIGIpYz1iW2RdLnRvU3RyaW5nKCksYy5tYXRjaCgvW0EtWl0vKT90aGlzLnNldEF0dHJpYnV0ZU5TKGEsbnVsbCxkLGMpOmEuc2V0QXR0cmlidXRlKGQsYyl9LHdyaXRlX3dtY19HZW5lcmFsOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiR2VuZXJhbCIpO2Euc2l6ZSYmYi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIldpbmRvdyIsbnVsbCx7d2lkdGg6YS5zaXplLncsaGVpZ2h0OmEuc2l6ZS5ofSkpO3ZhciBjPWEuYm91bmRzO2IuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJCb3VuZGluZ0JveCIsCm51bGwse21pbng6Yy5sZWZ0LnRvUHJlY2lzaW9uKDE4KSxtaW55OmMuYm90dG9tLnRvUHJlY2lzaW9uKDE4KSxtYXh4OmMucmlnaHQudG9QcmVjaXNpb24oMTgpLG1heHk6Yy50b3AudG9QcmVjaXNpb24oMTgpLFNSUzphLnByb2plY3Rpb259KSk7Yi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIlRpdGxlIixhLnRpdGxlKSk7YS5rZXl3b3JkcyYmYi5hcHBlbmRDaGlsZCh0aGlzLndyaXRlX3dtY19LZXl3b3JkTGlzdChhLmtleXdvcmRzKSk7YVsiYWJzdHJhY3QiXSYmYi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIkFic3RyYWN0IixhWyJhYnN0cmFjdCJdKSk7YS5sb2dvJiZiLmFwcGVuZENoaWxkKHRoaXMud3JpdGVfd21jX1VSTFR5cGUoIkxvZ29VUkwiLGEubG9nby5ocmVmLGEubG9nbykpO2EuZGVzY3JpcHRpb25VUkwmJmIuYXBwZW5kQ2hpbGQodGhpcy53cml0ZV93bWNfVVJMVHlwZSgiRGVzY3JpcHRpb25VUkwiLGEuZGVzY3JpcHRpb25VUkwpKTsKYS5jb250YWN0SW5mb3JtYXRpb24mJmIuYXBwZW5kQ2hpbGQodGhpcy53cml0ZV93bWNfQ29udGFjdEluZm9ybWF0aW9uKGEuY29udGFjdEluZm9ybWF0aW9uKSk7Yi5hcHBlbmRDaGlsZCh0aGlzLndyaXRlX29sX01hcEV4dGVuc2lvbihhKSk7cmV0dXJuIGJ9LHdyaXRlX3dtY19LZXl3b3JkTGlzdDpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJLZXl3b3JkTGlzdCIpLGM9MCxkPWEubGVuZ3RoO2M8ZDtjKyspYi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIktleXdvcmQiLGFbY10pKTtyZXR1cm4gYn0sd3JpdGVfd21jX0NvbnRhY3RJbmZvcm1hdGlvbjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIkNvbnRhY3RJbmZvcm1hdGlvbiIpO2EucGVyc29uUHJpbWFyeSYmYi5hcHBlbmRDaGlsZCh0aGlzLndyaXRlX3dtY19Db250YWN0UGVyc29uUHJpbWFyeShhLnBlcnNvblByaW1hcnkpKTsKYS5wb3NpdGlvbiYmYi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIkNvbnRhY3RQb3NpdGlvbiIsYS5wb3NpdGlvbikpO2EuY29udGFjdEFkZHJlc3MmJmIuYXBwZW5kQ2hpbGQodGhpcy53cml0ZV93bWNfQ29udGFjdEFkZHJlc3MoYS5jb250YWN0QWRkcmVzcykpO2EucGhvbmUmJmIuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJDb250YWN0Vm9pY2VUZWxlcGhvbmUiLGEucGhvbmUpKTthLmZheCYmYi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIkNvbnRhY3RGYWNzaW1pbGVUZWxlcGhvbmUiLGEuZmF4KSk7YS5lbWFpbCYmYi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIkNvbnRhY3RFbGVjdHJvbmljTWFpbEFkZHJlc3MiLGEuZW1haWwpKTtyZXR1cm4gYn0sd3JpdGVfd21jX0NvbnRhY3RQZXJzb25QcmltYXJ5OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiQ29udGFjdFBlcnNvblByaW1hcnkiKTsKYS5wZXJzb24mJmIuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJDb250YWN0UGVyc29uIixhLnBlcnNvbikpO2Eub3JnYW5pemF0aW9uJiZiLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiQ29udGFjdE9yZ2FuaXphdGlvbiIsYS5vcmdhbml6YXRpb24pKTtyZXR1cm4gYn0sd3JpdGVfd21jX0NvbnRhY3RBZGRyZXNzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiQ29udGFjdEFkZHJlc3MiKTthLnR5cGUmJmIuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJBZGRyZXNzVHlwZSIsYS50eXBlKSk7YS5hZGRyZXNzJiZiLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiQWRkcmVzcyIsYS5hZGRyZXNzKSk7YS5jaXR5JiZiLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiQ2l0eSIsYS5jaXR5KSk7YS5zdGF0ZU9yUHJvdmluY2UmJgpiLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiU3RhdGVPclByb3ZpbmNlIixhLnN0YXRlT3JQcm92aW5jZSkpO2EucG9zdGNvZGUmJmIuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJQb3N0Q29kZSIsYS5wb3N0Y29kZSkpO2EuY291bnRyeSYmYi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIkNvdW50cnkiLGEuY291bnRyeSkpO3JldHVybiBifSx3cml0ZV9vbF9NYXBFeHRlbnNpb246ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJFeHRlbnNpb24iKTtpZihhPWEubWF4RXh0ZW50KXt2YXIgYz10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLm5hbWVzcGFjZXMub2wsIm9sOm1heEV4dGVudCIpO3RoaXMuc2V0QXR0cmlidXRlcyhjLHttaW54OmEubGVmdC50b1ByZWNpc2lvbigxOCksbWlueTphLmJvdHRvbS50b1ByZWNpc2lvbigxOCksbWF4eDphLnJpZ2h0LnRvUHJlY2lzaW9uKDE4KSwKbWF4eTphLnRvcC50b1ByZWNpc2lvbigxOCl9KTtiLmFwcGVuZENoaWxkKGMpfXJldHVybiBifSx3cml0ZV93bWNfTGF5ZXJMaXN0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIkxheWVyTGlzdCIpLGM9MCxkPWEubGF5ZXJzQ29udGV4dC5sZW5ndGg7YzxkOysrYyliLmFwcGVuZENoaWxkKHRoaXMud3JpdGVfd21jX0xheWVyKGEubGF5ZXJzQ29udGV4dFtjXSkpO3JldHVybiBifSx3cml0ZV93bWNfTGF5ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJMYXllciIsbnVsbCx7cXVlcnlhYmxlOmEucXVlcnlhYmxlPyIxIjoiMCIsaGlkZGVuOmEudmlzaWJpbGl0eT8iMCI6IjEifSk7Yi5hcHBlbmRDaGlsZCh0aGlzLndyaXRlX3dtY19TZXJ2ZXIoYSkpO2IuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJOYW1lIixhLm5hbWUpKTtiLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiVGl0bGUiLAphLnRpdGxlKSk7YVsiYWJzdHJhY3QiXSYmYi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIkFic3RyYWN0IixhWyJhYnN0cmFjdCJdKSk7YS5kYXRhVVJMJiZiLmFwcGVuZENoaWxkKHRoaXMud3JpdGVfd21jX1VSTFR5cGUoIkRhdGFVUkwiLGEuZGF0YVVSTCkpO2EubWV0YWRhdGFVUkwmJmIuYXBwZW5kQ2hpbGQodGhpcy53cml0ZV93bWNfVVJMVHlwZSgiTWV0YWRhdGFVUkwiLGEubWV0YWRhdGFVUkwpKTtyZXR1cm4gYn0sd3JpdGVfd21jX0xheWVyRXh0ZW5zaW9uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiRXh0ZW5zaW9uIiksYz1hLm1heEV4dGVudCxkPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMubmFtZXNwYWNlcy5vbCwib2w6bWF4RXh0ZW50Iik7dGhpcy5zZXRBdHRyaWJ1dGVzKGQse21pbng6Yy5sZWZ0LnRvUHJlY2lzaW9uKDE4KSxtaW55OmMuYm90dG9tLnRvUHJlY2lzaW9uKDE4KSxtYXh4OmMucmlnaHQudG9QcmVjaXNpb24oMTgpLAptYXh5OmMudG9wLnRvUHJlY2lzaW9uKDE4KX0pO2IuYXBwZW5kQ2hpbGQoZCk7YS50aWxlU2l6ZSYmIWEuc2luZ2xlVGlsZSYmKGM9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5uYW1lc3BhY2VzLm9sLCJvbDp0aWxlU2l6ZSIpLHRoaXMuc2V0QXR0cmlidXRlcyhjLGEudGlsZVNpemUpLGIuYXBwZW5kQ2hpbGQoYykpO2Zvcih2YXIgYz0idHJhbnNwYXJlbnQgbnVtWm9vbUxldmVscyB1bml0cyBpc0Jhc2VMYXllciBvcGFjaXR5IGRpc3BsYXlJbkxheWVyU3dpdGNoZXIgc2luZ2xlVGlsZSIuc3BsaXQoIiAiKSxlPTAsZj1jLmxlbmd0aDtlPGY7KytlKShkPXRoaXMuY3JlYXRlT0xQcm9wZXJ0eU5vZGUoYSxjW2VdKSkmJmIuYXBwZW5kQ2hpbGQoZCk7cmV0dXJuIGJ9LGNyZWF0ZU9MUHJvcGVydHlOb2RlOmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtudWxsIT1hW2JdJiYoYz10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLm5hbWVzcGFjZXMub2wsIm9sOiIrYiksYy5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVRleHROb2RlKGFbYl0udG9TdHJpbmcoKSkpKTsKcmV0dXJuIGN9LHdyaXRlX3dtY19TZXJ2ZXI6ZnVuY3Rpb24oYSl7dmFyIGE9YS5zZXJ2ZXIsYj10aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIlNlcnZlciIpLGM9e3NlcnZpY2U6Ik9HQzpXTVMiLHZlcnNpb246YS52ZXJzaW9ufTthLnRpdGxlJiYoYy50aXRsZT1hLnRpdGxlKTt0aGlzLnNldEF0dHJpYnV0ZXMoYixjKTtiLmFwcGVuZENoaWxkKHRoaXMud3JpdGVfd21jX09ubGluZVJlc291cmNlKGEudXJsKSk7cmV0dXJuIGJ9LHdyaXRlX3dtY19VUkxUeXBlOmZ1bmN0aW9uKGEsYixjKXthPXRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUyhhKTthLmFwcGVuZENoaWxkKHRoaXMud3JpdGVfd21jX09ubGluZVJlc291cmNlKGIpKTtpZihjKWZvcih2YXIgYj1bIndpZHRoIiwiaGVpZ2h0IiwiZm9ybWF0Il0sZD0wO2Q8Yi5sZW5ndGg7ZCsrKWJbZF1pbiBjJiZhLnNldEF0dHJpYnV0ZShiW2RdLGNbYltkXV0pO3JldHVybiBhfSx3cml0ZV93bWNfRGltZW5zaW9uTGlzdDpmdW5jdGlvbihhKXt2YXIgYj0KdGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJEaW1lbnNpb25MaXN0IiksYztmb3IoYyBpbiBhLmRpbWVuc2lvbnMpe3ZhciBkPXt9LGU9YS5kaW1lbnNpb25zW2NdLGY7Zm9yKGYgaW4gZSlkW2ZdPSJib29sZWFuIj09dHlwZW9mIGVbZl0/TnVtYmVyKGVbZl0pOmVbZl07ZT0iIjtkLnZhbHVlcyYmKGU9ZC52YWx1ZXMuam9pbigiLCIpLGRlbGV0ZSBkLnZhbHVlcyk7Yi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIkRpbWVuc2lvbiIsZSxkKSl9cmV0dXJuIGJ9LHdyaXRlX3dtY19Gb3JtYXRMaXN0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIkZvcm1hdExpc3QiKSxjPTAsZD1hLmZvcm1hdHMubGVuZ3RoO2M8ZDtjKyspe3ZhciBlPWEuZm9ybWF0c1tjXTtiLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiRm9ybWF0IixlLnZhbHVlLGUuY3VycmVudCYmITA9PWUuY3VycmVudD97Y3VycmVudDoiMSJ9OgpudWxsKSl9cmV0dXJuIGJ9LHdyaXRlX3dtY19TdHlsZUxpc3Q6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJTdHlsZUxpc3QiKTtpZigoYT1hLnN0eWxlcykmJk9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEpKWZvcih2YXIgYyxkPTAsZT1hLmxlbmd0aDtkPGU7ZCsrKXt2YXIgZj1hW2RdLGc9dGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJTdHlsZSIsbnVsbCxmLmN1cnJlbnQmJiEwPT1mLmN1cnJlbnQ/e2N1cnJlbnQ6IjEifTpudWxsKTtmLmhyZWY/KGM9dGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJTTEQiKSxmLm5hbWUmJmMuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJOYW1lIixmLm5hbWUpKSxmLnRpdGxlJiZjLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiVGl0bGUiLGYudGl0bGUpKSxmLmxlZ2VuZCYmYy5hcHBlbmRDaGlsZCh0aGlzLndyaXRlX3dtY19VUkxUeXBlKCJMZWdlbmRVUkwiLApmLmxlZ2VuZC5ocmVmLGYubGVnZW5kKSksZj10aGlzLndyaXRlX3dtY19PbmxpbmVSZXNvdXJjZShmLmhyZWYpLGMuYXBwZW5kQ2hpbGQoZiksZy5hcHBlbmRDaGlsZChjKSk6Zi5ib2R5PyhjPXRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiU0xEIiksZi5uYW1lJiZjLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiTmFtZSIsZi5uYW1lKSksZi50aXRsZSYmYy5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIlRpdGxlIixmLnRpdGxlKSksZi5sZWdlbmQmJmMuYXBwZW5kQ2hpbGQodGhpcy53cml0ZV93bWNfVVJMVHlwZSgiTGVnZW5kVVJMIixmLmxlZ2VuZC5ocmVmLGYubGVnZW5kKSksZj1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxbZi5ib2R5XSkuZG9jdW1lbnRFbGVtZW50LGMub3duZXJEb2N1bWVudCYmYy5vd25lckRvY3VtZW50LmltcG9ydE5vZGUmJihmPWMub3duZXJEb2N1bWVudC5pbXBvcnROb2RlKGYsCiEwKSksYy5hcHBlbmRDaGlsZChmKSxnLmFwcGVuZENoaWxkKGMpKTooZy5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIk5hbWUiLGYubmFtZSkpLGcuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJUaXRsZSIsZi50aXRsZSkpLGZbImFic3RyYWN0Il0mJmcuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJBYnN0cmFjdCIsZlsiYWJzdHJhY3QiXSkpLGYubGVnZW5kJiZnLmFwcGVuZENoaWxkKHRoaXMud3JpdGVfd21jX1VSTFR5cGUoIkxlZ2VuZFVSTCIsZi5sZWdlbmQuaHJlZixmLmxlZ2VuZCkpKTtiLmFwcGVuZENoaWxkKGcpfXJldHVybiBifSx3cml0ZV93bWNfT25saW5lUmVzb3VyY2U6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJPbmxpbmVSZXNvdXJjZSIpO3RoaXMuc2V0QXR0cmlidXRlTlMoYix0aGlzLm5hbWVzcGFjZXMueGxpbmssInhsaW5rOnR5cGUiLAoic2ltcGxlIik7dGhpcy5zZXRBdHRyaWJ1dGVOUyhiLHRoaXMubmFtZXNwYWNlcy54bGluaywieGxpbms6aHJlZiIsYSk7cmV0dXJuIGJ9LGdldE9ubGluZVJlc291cmNlX2hyZWY6ZnVuY3Rpb24oYSl7dmFyIGI9e30sYT1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJPbmxpbmVSZXNvdXJjZSIpOzA8YS5sZW5ndGgmJnRoaXMucmVhZF93bWNfT25saW5lUmVzb3VyY2UoYixhWzBdKTtyZXR1cm4gYi5ocmVmfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XTUMudjEifSk7T3BlbkxheWVycy5Qb3B1cC5GcmFtZWQ9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlBvcHVwLkFuY2hvcmVkLHtpbWFnZVNyYzpudWxsLGltYWdlU2l6ZTpudWxsLGlzQWxwaGFJbWFnZTohMSxwb3NpdGlvbkJsb2NrczpudWxsLGJsb2NrczpudWxsLGZpeGVkUmVsYXRpdmVQb3NpdGlvbjohMSxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe09wZW5MYXllcnMuUG9wdXAuQW5jaG9yZWQucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZml4ZWRSZWxhdGl2ZVBvc2l0aW9uJiYodGhpcy51cGRhdGVSZWxhdGl2ZVBvc2l0aW9uKCksdGhpcy5jYWxjdWxhdGVSZWxhdGl2ZVBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVsYXRpdmVQb3NpdGlvbn0pO3RoaXMuY29udGVudERpdi5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO3RoaXMuY29udGVudERpdi5zdHlsZS56SW5kZXg9MTtmJiYodGhpcy5jbG9zZURpdi5zdHlsZS56SW5kZXg9CjEpO3RoaXMuZ3JvdXBEaXYuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjt0aGlzLmdyb3VwRGl2LnN0eWxlLnRvcD0iMHB4Ijt0aGlzLmdyb3VwRGl2LnN0eWxlLmxlZnQ9IjBweCI7dGhpcy5ncm91cERpdi5zdHlsZS5oZWlnaHQ9IjEwMCUiO3RoaXMuZ3JvdXBEaXYuc3R5bGUud2lkdGg9IjEwMCUifSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5pc0FscGhhSW1hZ2U9dGhpcy5pbWFnZVNpemU9dGhpcy5pbWFnZVNyYz1udWxsO3RoaXMuZml4ZWRSZWxhdGl2ZVBvc2l0aW9uPSExO3RoaXMucG9zaXRpb25CbG9ja3M9bnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYmxvY2tzLmxlbmd0aDthKyspe3ZhciBiPXRoaXMuYmxvY2tzW2FdO2IuaW1hZ2UmJmIuZGl2LnJlbW92ZUNoaWxkKGIuaW1hZ2UpO2IuaW1hZ2U9bnVsbDtiLmRpdiYmdGhpcy5ncm91cERpdi5yZW1vdmVDaGlsZChiLmRpdik7Yi5kaXY9bnVsbH10aGlzLmJsb2Nrcz1udWxsO09wZW5MYXllcnMuUG9wdXAuQW5jaG9yZWQucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcywKYXJndW1lbnRzKX0sc2V0QmFja2dyb3VuZENvbG9yOmZ1bmN0aW9uKCl7fSxzZXRCb3JkZXI6ZnVuY3Rpb24oKXt9LHNldE9wYWNpdHk6ZnVuY3Rpb24oKXt9LHNldFNpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Qb3B1cC5BbmNob3JlZC5wcm90b3R5cGUuc2V0U2l6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy51cGRhdGVCbG9ja3MoKX0sdXBkYXRlUmVsYXRpdmVQb3NpdGlvbjpmdW5jdGlvbigpe3RoaXMucGFkZGluZz10aGlzLnBvc2l0aW9uQmxvY2tzW3RoaXMucmVsYXRpdmVQb3NpdGlvbl0ucGFkZGluZztpZih0aGlzLmNsb3NlRGl2KXt2YXIgYT10aGlzLmdldENvbnRlbnREaXZQYWRkaW5nKCk7dGhpcy5jbG9zZURpdi5zdHlsZS5yaWdodD1hLnJpZ2h0K3RoaXMucGFkZGluZy5yaWdodCsicHgiO3RoaXMuY2xvc2VEaXYuc3R5bGUudG9wPWEudG9wK3RoaXMucGFkZGluZy50b3ArInB4In10aGlzLnVwZGF0ZUJsb2NrcygpfSxjYWxjdWxhdGVOZXdQeDpmdW5jdGlvbihhKXt2YXIgYj0KT3BlbkxheWVycy5Qb3B1cC5BbmNob3JlZC5wcm90b3R5cGUuY2FsY3VsYXRlTmV3UHguYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBiPWIub2Zmc2V0KHRoaXMucG9zaXRpb25CbG9ja3NbdGhpcy5yZWxhdGl2ZVBvc2l0aW9uXS5vZmZzZXQpfSxjcmVhdGVCbG9ja3M6ZnVuY3Rpb24oKXt0aGlzLmJsb2Nrcz1bXTt2YXIgYT1udWxsLGI7Zm9yKGIgaW4gdGhpcy5wb3NpdGlvbkJsb2Nrcyl7YT1iO2JyZWFrfWE9dGhpcy5wb3NpdGlvbkJsb2Nrc1thXTtmb3IoYj0wO2I8YS5ibG9ja3MubGVuZ3RoO2IrKyl7dmFyIGM9e307dGhpcy5ibG9ja3MucHVzaChjKTtjLmRpdj1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlRGl2KHRoaXMuaWQrIl9GcmFtZURlY29yYXRpb25EaXZfIitiLG51bGwsbnVsbCxudWxsLCJhYnNvbHV0ZSIsbnVsbCwiaGlkZGVuIixudWxsKTtjLmltYWdlPSh0aGlzLmlzQWxwaGFJbWFnZT9PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlQWxwaGFJbWFnZURpdjpPcGVuTGF5ZXJzLlV0aWwuY3JlYXRlSW1hZ2UpKHRoaXMuaWQrCiJfRnJhbWVEZWNvcmF0aW9uSW1nXyIrYixudWxsLHRoaXMuaW1hZ2VTaXplLHRoaXMuaW1hZ2VTcmMsImFic29sdXRlIixudWxsLG51bGwsbnVsbCk7Yy5kaXYuYXBwZW5kQ2hpbGQoYy5pbWFnZSk7dGhpcy5ncm91cERpdi5hcHBlbmRDaGlsZChjLmRpdil9fSx1cGRhdGVCbG9ja3M6ZnVuY3Rpb24oKXt0aGlzLmJsb2Nrc3x8dGhpcy5jcmVhdGVCbG9ja3MoKTtpZih0aGlzLnNpemUmJnRoaXMucmVsYXRpdmVQb3NpdGlvbil7Zm9yKHZhciBhPXRoaXMucG9zaXRpb25CbG9ja3NbdGhpcy5yZWxhdGl2ZVBvc2l0aW9uXSxiPTA7YjxhLmJsb2Nrcy5sZW5ndGg7YisrKXt2YXIgYz1hLmJsb2Nrc1tiXSxkPXRoaXMuYmxvY2tzW2JdLGU9Yy5hbmNob3IubGVmdCxmPWMuYW5jaG9yLmJvdHRvbSxnPWMuYW5jaG9yLnJpZ2h0LGg9Yy5hbmNob3IudG9wLGk9aXNOYU4oYy5zaXplLncpP3RoaXMuc2l6ZS53LShnK2UpOmMuc2l6ZS53LGo9aXNOYU4oYy5zaXplLmgpP3RoaXMuc2l6ZS5oLShmKwpoKTpjLnNpemUuaDtkLmRpdi5zdHlsZS53aWR0aD0oMD5pPzA6aSkrInB4IjtkLmRpdi5zdHlsZS5oZWlnaHQ9KDA+aj8wOmopKyJweCI7ZC5kaXYuc3R5bGUubGVmdD1udWxsIT1lP2UrInB4IjoiIjtkLmRpdi5zdHlsZS5ib3R0b209bnVsbCE9Zj9mKyJweCI6IiI7ZC5kaXYuc3R5bGUucmlnaHQ9bnVsbCE9Zz9nKyJweCI6IiI7ZC5kaXYuc3R5bGUudG9wPW51bGwhPWg/aCsicHgiOiIiO2QuaW1hZ2Uuc3R5bGUubGVmdD1jLnBvc2l0aW9uLngrInB4IjtkLmltYWdlLnN0eWxlLnRvcD1jLnBvc2l0aW9uLnkrInB4In10aGlzLmNvbnRlbnREaXYuc3R5bGUubGVmdD10aGlzLnBhZGRpbmcubGVmdCsicHgiO3RoaXMuY29udGVudERpdi5zdHlsZS50b3A9dGhpcy5wYWRkaW5nLnRvcCsicHgifX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Qb3B1cC5GcmFtZWQifSk7T3BlbkxheWVycy5Qb3B1cC5GcmFtZWRDbG91ZD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuUG9wdXAuRnJhbWVkLHtjb250ZW50RGlzcGxheUNsYXNzOiJvbEZyYW1lZENsb3VkUG9wdXBDb250ZW50IixhdXRvU2l6ZTohMCxwYW5NYXBJZk91dE9mVmlldzohMCxpbWFnZVNpemU6bmV3IE9wZW5MYXllcnMuU2l6ZSgxMjc2LDczNiksaXNBbHBoYUltYWdlOiExLGZpeGVkUmVsYXRpdmVQb3NpdGlvbjohMSxwb3NpdGlvbkJsb2Nrczp7dGw6e29mZnNldDpuZXcgT3BlbkxheWVycy5QaXhlbCg0NCwwKSxwYWRkaW5nOm5ldyBPcGVuTGF5ZXJzLkJvdW5kcyg4LDQwLDgsOSksYmxvY2tzOlt7c2l6ZTpuZXcgT3BlbkxheWVycy5TaXplKCJhdXRvIiwiYXV0byIpLGFuY2hvcjpuZXcgT3BlbkxheWVycy5Cb3VuZHMoMCw1MSwyMiwwKSxwb3NpdGlvbjpuZXcgT3BlbkxheWVycy5QaXhlbCgwLDApfSx7c2l6ZTpuZXcgT3BlbkxheWVycy5TaXplKDIyLCJhdXRvIiksYW5jaG9yOm5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhudWxsLAo1MCwwLDApLHBvc2l0aW9uOm5ldyBPcGVuTGF5ZXJzLlBpeGVsKC0xMjM4LDApfSx7c2l6ZTpuZXcgT3BlbkxheWVycy5TaXplKCJhdXRvIiwxOSksYW5jaG9yOm5ldyBPcGVuTGF5ZXJzLkJvdW5kcygwLDMyLDIyLG51bGwpLHBvc2l0aW9uOm5ldyBPcGVuTGF5ZXJzLlBpeGVsKDAsLTYzMSl9LHtzaXplOm5ldyBPcGVuTGF5ZXJzLlNpemUoMjIsMTgpLGFuY2hvcjpuZXcgT3BlbkxheWVycy5Cb3VuZHMobnVsbCwzMiwwLG51bGwpLHBvc2l0aW9uOm5ldyBPcGVuTGF5ZXJzLlBpeGVsKC0xMjM4LC02MzIpfSx7c2l6ZTpuZXcgT3BlbkxheWVycy5TaXplKDgxLDM1KSxhbmNob3I6bmV3IE9wZW5MYXllcnMuQm91bmRzKG51bGwsMCwwLG51bGwpLHBvc2l0aW9uOm5ldyBPcGVuTGF5ZXJzLlBpeGVsKDAsLTY4OCl9XX0sdHI6e29mZnNldDpuZXcgT3BlbkxheWVycy5QaXhlbCgtNDUsMCkscGFkZGluZzpuZXcgT3BlbkxheWVycy5Cb3VuZHMoOCw0MCw4LDkpLGJsb2Nrczpbe3NpemU6bmV3IE9wZW5MYXllcnMuU2l6ZSgiYXV0byIsCiJhdXRvIiksYW5jaG9yOm5ldyBPcGVuTGF5ZXJzLkJvdW5kcygwLDUxLDIyLDApLHBvc2l0aW9uOm5ldyBPcGVuTGF5ZXJzLlBpeGVsKDAsMCl9LHtzaXplOm5ldyBPcGVuTGF5ZXJzLlNpemUoMjIsImF1dG8iKSxhbmNob3I6bmV3IE9wZW5MYXllcnMuQm91bmRzKG51bGwsNTAsMCwwKSxwb3NpdGlvbjpuZXcgT3BlbkxheWVycy5QaXhlbCgtMTIzOCwwKX0se3NpemU6bmV3IE9wZW5MYXllcnMuU2l6ZSgiYXV0byIsMTkpLGFuY2hvcjpuZXcgT3BlbkxheWVycy5Cb3VuZHMoMCwzMiwyMixudWxsKSxwb3NpdGlvbjpuZXcgT3BlbkxheWVycy5QaXhlbCgwLC02MzEpfSx7c2l6ZTpuZXcgT3BlbkxheWVycy5TaXplKDIyLDE5KSxhbmNob3I6bmV3IE9wZW5MYXllcnMuQm91bmRzKG51bGwsMzIsMCxudWxsKSxwb3NpdGlvbjpuZXcgT3BlbkxheWVycy5QaXhlbCgtMTIzOCwtNjMxKX0se3NpemU6bmV3IE9wZW5MYXllcnMuU2l6ZSg4MSwzNSksYW5jaG9yOm5ldyBPcGVuTGF5ZXJzLkJvdW5kcygwLAowLG51bGwsbnVsbCkscG9zaXRpb246bmV3IE9wZW5MYXllcnMuUGl4ZWwoLTIxNSwtNjg3KX1dfSxibDp7b2Zmc2V0Om5ldyBPcGVuTGF5ZXJzLlBpeGVsKDQ1LDApLHBhZGRpbmc6bmV3IE9wZW5MYXllcnMuQm91bmRzKDgsOSw4LDQwKSxibG9ja3M6W3tzaXplOm5ldyBPcGVuTGF5ZXJzLlNpemUoImF1dG8iLCJhdXRvIiksYW5jaG9yOm5ldyBPcGVuTGF5ZXJzLkJvdW5kcygwLDIxLDIyLDMyKSxwb3NpdGlvbjpuZXcgT3BlbkxheWVycy5QaXhlbCgwLDApfSx7c2l6ZTpuZXcgT3BlbkxheWVycy5TaXplKDIyLCJhdXRvIiksYW5jaG9yOm5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhudWxsLDIxLDAsMzIpLHBvc2l0aW9uOm5ldyBPcGVuTGF5ZXJzLlBpeGVsKC0xMjM4LDApfSx7c2l6ZTpuZXcgT3BlbkxheWVycy5TaXplKCJhdXRvIiwyMSksYW5jaG9yOm5ldyBPcGVuTGF5ZXJzLkJvdW5kcygwLDAsMjIsbnVsbCkscG9zaXRpb246bmV3IE9wZW5MYXllcnMuUGl4ZWwoMCwtNjI5KX0se3NpemU6bmV3IE9wZW5MYXllcnMuU2l6ZSgyMiwKMjEpLGFuY2hvcjpuZXcgT3BlbkxheWVycy5Cb3VuZHMobnVsbCwwLDAsbnVsbCkscG9zaXRpb246bmV3IE9wZW5MYXllcnMuUGl4ZWwoLTEyMzgsLTYyOSl9LHtzaXplOm5ldyBPcGVuTGF5ZXJzLlNpemUoODEsMzMpLGFuY2hvcjpuZXcgT3BlbkxheWVycy5Cb3VuZHMobnVsbCxudWxsLDAsMCkscG9zaXRpb246bmV3IE9wZW5MYXllcnMuUGl4ZWwoLTEwMSwtNjc0KX1dfSxicjp7b2Zmc2V0Om5ldyBPcGVuTGF5ZXJzLlBpeGVsKC00NCwwKSxwYWRkaW5nOm5ldyBPcGVuTGF5ZXJzLkJvdW5kcyg4LDksOCw0MCksYmxvY2tzOlt7c2l6ZTpuZXcgT3BlbkxheWVycy5TaXplKCJhdXRvIiwiYXV0byIpLGFuY2hvcjpuZXcgT3BlbkxheWVycy5Cb3VuZHMoMCwyMSwyMiwzMikscG9zaXRpb246bmV3IE9wZW5MYXllcnMuUGl4ZWwoMCwwKX0se3NpemU6bmV3IE9wZW5MYXllcnMuU2l6ZSgyMiwiYXV0byIpLGFuY2hvcjpuZXcgT3BlbkxheWVycy5Cb3VuZHMobnVsbCwyMSwwLDMyKSxwb3NpdGlvbjpuZXcgT3BlbkxheWVycy5QaXhlbCgtMTIzOCwKMCl9LHtzaXplOm5ldyBPcGVuTGF5ZXJzLlNpemUoImF1dG8iLDIxKSxhbmNob3I6bmV3IE9wZW5MYXllcnMuQm91bmRzKDAsMCwyMixudWxsKSxwb3NpdGlvbjpuZXcgT3BlbkxheWVycy5QaXhlbCgwLC02MjkpfSx7c2l6ZTpuZXcgT3BlbkxheWVycy5TaXplKDIyLDIxKSxhbmNob3I6bmV3IE9wZW5MYXllcnMuQm91bmRzKG51bGwsMCwwLG51bGwpLHBvc2l0aW9uOm5ldyBPcGVuTGF5ZXJzLlBpeGVsKC0xMjM4LC02MjkpfSx7c2l6ZTpuZXcgT3BlbkxheWVycy5TaXplKDgxLDMzKSxhbmNob3I6bmV3IE9wZW5MYXllcnMuQm91bmRzKDAsbnVsbCxudWxsLDApLHBvc2l0aW9uOm5ldyBPcGVuTGF5ZXJzLlBpeGVsKC0zMTEsLTY3NCl9XX19LG1pblNpemU6bmV3IE9wZW5MYXllcnMuU2l6ZSgxMDUsMTApLG1heFNpemU6bmV3IE9wZW5MYXllcnMuU2l6ZSgxMjAwLDY2MCksaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyxkLGUsZixnKXt0aGlzLmltYWdlU3JjPU9wZW5MYXllcnMuVXRpbC5nZXRJbWFnZUxvY2F0aW9uKCJjbG91ZC1wb3B1cC1yZWxhdGl2ZS5wbmciKTsKT3BlbkxheWVycy5Qb3B1cC5GcmFtZWQucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuY29udGVudERpdi5jbGFzc05hbWU9dGhpcy5jb250ZW50RGlzcGxheUNsYXNzfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlBvcHVwLkZyYW1lZENsb3VkIn0pO09wZW5MYXllcnMuQ29udHJvbC5QYW5QYW5lbD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbC5QYW5lbCx7c2xpZGVGYWN0b3I6NTAsc2xpZGVSYXRpbzpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db250cm9sLlBhbmVsLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKTthPXtzbGlkZUZhY3Rvcjp0aGlzLnNsaWRlRmFjdG9yLHNsaWRlUmF0aW86dGhpcy5zbGlkZVJhdGlvfTt0aGlzLmFkZENvbnRyb2xzKFtuZXcgT3BlbkxheWVycy5Db250cm9sLlBhbihPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuLk5PUlRILGEpLG5ldyBPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuKE9wZW5MYXllcnMuQ29udHJvbC5QYW4uU09VVEgsYSksbmV3IE9wZW5MYXllcnMuQ29udHJvbC5QYW4oT3BlbkxheWVycy5Db250cm9sLlBhbi5FQVNULGEpLG5ldyBPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuKE9wZW5MYXllcnMuQ29udHJvbC5QYW4uV0VTVCxhKV0pfSwKQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLlBhblBhbmVsIn0pO09wZW5MYXllcnMuQ29udHJvbC5BdHRyaWJ1dGlvbj1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbCx7c2VwYXJhdG9yOiIsICIsdGVtcGxhdGU6IiR7bGF5ZXJzfSIsZGVzdHJveTpmdW5jdGlvbigpe3RoaXMubWFwLmV2ZW50cy51bih7cmVtb3ZlbGF5ZXI6dGhpcy51cGRhdGVBdHRyaWJ1dGlvbixhZGRsYXllcjp0aGlzLnVwZGF0ZUF0dHJpYnV0aW9uLGNoYW5nZWxheWVyOnRoaXMudXBkYXRlQXR0cmlidXRpb24sY2hhbmdlYmFzZWxheWVyOnRoaXMudXBkYXRlQXR0cmlidXRpb24sc2NvcGU6dGhpc30pO09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGRyYXc6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRyYXcuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMubWFwLmV2ZW50cy5vbih7Y2hhbmdlYmFzZWxheWVyOnRoaXMudXBkYXRlQXR0cmlidXRpb24sY2hhbmdlbGF5ZXI6dGhpcy51cGRhdGVBdHRyaWJ1dGlvbiwKYWRkbGF5ZXI6dGhpcy51cGRhdGVBdHRyaWJ1dGlvbixyZW1vdmVsYXllcjp0aGlzLnVwZGF0ZUF0dHJpYnV0aW9uLHNjb3BlOnRoaXN9KTt0aGlzLnVwZGF0ZUF0dHJpYnV0aW9uKCk7cmV0dXJuIHRoaXMuZGl2fSx1cGRhdGVBdHRyaWJ1dGlvbjpmdW5jdGlvbigpe3ZhciBhPVtdO2lmKHRoaXMubWFwJiZ0aGlzLm1hcC5sYXllcnMpe2Zvcih2YXIgYj0wLGM9dGhpcy5tYXAubGF5ZXJzLmxlbmd0aDtiPGM7YisrKXt2YXIgZD10aGlzLm1hcC5sYXllcnNbYl07ZC5hdHRyaWJ1dGlvbiYmZC5nZXRWaXNpYmlsaXR5KCkmJi0xPT09T3BlbkxheWVycy5VdGlsLmluZGV4T2YoYSxkLmF0dHJpYnV0aW9uKSYmYS5wdXNoKGQuYXR0cmlidXRpb24pfXRoaXMuZGl2LmlubmVySFRNTD1PcGVuTGF5ZXJzLlN0cmluZy5mb3JtYXQodGhpcy50ZW1wbGF0ZSx7bGF5ZXJzOmEuam9pbih0aGlzLnNlcGFyYXRvcil9KX19LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5BdHRyaWJ1dGlvbiJ9KTtPcGVuTGF5ZXJzLkxhbmcuYnI9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3VuaGFuZGxlZFJlcXVlc3Q6IkRpc3RybyBldmVsIHJla2VkIGFudmVyZXQgJHtzdGF0dXNUZXh0fSIsUGVybWFsaW5rOiJQZXVybGlhbW0iLE92ZXJsYXlzOiJHd2lza2Fkb1x1MDBmOSIsIkJhc2UgTGF5ZXIiOiJHd2lza2FkIGRpYXpleiIsbm9GSUQ6Ik4naGFsbGVyIGtldCBoaXppdmFhdCB1biBlbGZlbm4gbWEgbidldXMga2V0IGEgbml2ZXJlbm4tYW5hb3V0IChGSUQpIGV2aXRpLiIsYnJvd3Nlck5vdFN1cHBvcnRlZDoiTidlbyBrZXQgc2tvcmV0IGFuIGRhc2tvciB2ZWt0b3JlbCBnYW50IGhvIG1lcmRlZXIuIFNldHUgYXplIGFuIGRhc2tvcmVyaW9cdTAwZjkgc2tvcmV0IGV2aXQgYXIgcG9lbnQgOlxuJHtyZW5kZXJlcnN9IixtaW5ab29tTGV2ZWxFcnJvcjoiTmUgemxlZXIgaW1wbGlqb3V0IGFyIHBlcnpoIG1pblpvb21MZXZlbCBuZW1ldCBldml0IGd3aXNrYWRvXHUwMGY5IEZpeGVkWm9vbUxldmVscy1kZXNjZW5kZW50LiBBciBmZWQgbWEgd2lyaWEgYXIgZ3dpc2thZCBXSFMtc2UgaGFnLWVcdTAwZjEgZXogZXVzIGV1cyBtaW5ab29tTGV2ZWwgem8gdW4gYXNwYWRlbm4gZ296aC4gS291bHNrb3VkZSBuJ29tcCBrZXQgZXZpdCBlIHppdmVya2FcdTAwZjEga3VpdCBkYSBkZXJyaVx1MDBmMSBhcmxvYWRvXHUwMGY5IGRpYXplemV0IHdhciBPTCBhIGMnaGFsbGZlIGJlemFcdTAwZjEgc3RhZyBvdXRhXHUwMGYxLiBTZXR1IHBlcmFrIGVvIGRpc3ByZWRldCAtLSBMYW1ldCBrdWl0IGUgdm8gYXIgZ3dpcmlhXHUwMGYxIG1pblpvb21MZXZlbCBhLWlzIGVyIHN0dW1tIDMuMC4gT2JlciBnYW50IGFuIGFydmVudGVubm9cdTAwZjkgYmloYW5hXHUwMGYxL2JyYXNhXHUwMGYxIGV2ZWwgZGVza3JpdmV0IGFtYVx1MDBmMSBlIHBsYXMgOiBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NldHRpbmdab29tTGV2ZWxzIiwKY29tbWl0U3VjY2VzczoiVHJldXpncmVhZCBXRlMgOiBNQVQgRU8gJHtyZXNwb25zZX0iLGNvbW1pdEZhaWxlZDoiVHJldXpncmVhZCBXRlMgVHJhbnNhY3Rpb246IEMnSFdJVEVUICR7cmVzcG9uc2V9Iixnb29nbGVXYXJuaW5nOiJOJ2V1cyBrZXQgYmV0IGdhbGxldCBrYXJnYVx1MDBmMSBhciBnd2lza2FkIEdvb2dsZSBlbnQgcmVpemguPGJyPjxicj5Fdml0IGVuIGVtIHppem9iZXIgZXVzIGFyIGMnaGVtZW5uLW1hXHUwMGYxLCBkaWJhYml0IHVyIEJhc2VMYXllciBuZXZleiBlbiBkaXV6ZXIgZ3dpc2thZG9cdTAwZjkgZXIgYydob3JuIGRlaG9cdTAwZjkgZWwgbGFlei48YnI+PGJyPlN1ciBhLXdhbGMnaCBlbyBwZW9nd2lyIG4nZW8ga2V0IGJldCBlbnNvYydoZXQgbGV2cmFvdWVnIEdvb2dsZSBNYXBzIHBlIG5ldXplIG5lIGdsb3Qga2V0IGFuIGFsYydod2V6IEFQSSBnYW50IGhvIGxlYydoaWVubi48YnI+PGJyPkRpb3Jyb2VyaWVuIDogRXZpdCByZWl6aGFcdTAwZjEgYW4gZHJhLXNlLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZScgdGFyZ2V0PSdfYmxhbmsnPmNsaWNrIGhlcmU8L2E+IiwKZ2V0TGF5ZXJXYXJuaW5nOiJOJ2hhbGxlciBrZXQga2FyZ2FcdTAwZjEgYXIgZ3dpc2thZCAke2xheWVyVHlwZX0gZW50IHJlaXpoLjxicj48YnI+RXZpdCBlbiBlbSB6aXpvYmVyIGV1cyBhciBjJ2hlbWVubi1tYVx1MDBmMSwgZGliYWJpdCB1ciBCYXNlTGF5ZXIgbmV2ZXogZW4gZGl1emVyIGd3aXNrYWRvXHUwMGY5IGVyIGMnaG9ybiBkZWhvXHUwMGY5IGVsIGxhZXouPGJyPjxicj5TdXIgYS13YWxjJ2ggZW8gcGVvZ3dpciBuJ2VvIGtldCBiZXQgZW5zb2MnaGV0IG1hdCBhbCBsZXZyYW91ZWcgJHtsYXllckxpYn0uPGJyPjxicj5EaW9ycm9lcmllbiA6IEV2aXQgZ291em91dCBwZW5hb3MgcmVpemhhXHUwMGYxIGFuIGRyYS1zZSwgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS8ke2xheWVyTGlifScgdGFyZ2V0PSdfYmxhbmsnPmNsaWNrIGhlcmU8L2E+IiwiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6IlNrZXVsID0gMSA6ICR7c2NhbGVEZW5vbX0iLApXOiJLIixFOiJSIixOOiJOIixTOiJTIixyZXByb2plY3REZXByZWNhdGVkOiJFbWFvYydoIG9jJ2ggaW1wbGlqb3V0IGFuIGRpYmFyemggJ3JlcHJvamVjdCcgd2FyIGFyIGd3aXNrYWQgJHtsYXllck5hbWV9LiBEaXNwcmVkZXQgZW8gYW4gZGliYXJ6aC1tYVx1MDBmMSA6IGJldCBlbyBoYWcgZSB0YWx2ZXplIGRhIHppc2t3ZWwgcm9hZGVubm9cdTAwZjkgd2FyLWMnaG9ycmUga2FydGVubm9cdTAwZjkgZGlhemV6IGtlbndlcnpoZWwsIHVuIGRyYSBoYWcgYSBjJ2hhbGxlciBvYmVyIGJyZW1hXHUwMGYxIGdhbnQgYW4gYXJjJ2h3ZWwgZHJlIHNrb3IgYmFubmRyZXMgYm91bGxlayBNZXJjYXRvci4gTXVpb2MnaCBhIGRpdG91cm9cdTAwZjkgYSBjJ2hhbGxlciBkYSBnYW91dCB3YXIgaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TcGhlcmljYWxNZXJjYXRvci4iLG1ldGhvZERlcHJlY2F0ZWQ6IkRpc3ByZWRldCBlbyBhbiBkYW9yZS1zZSBoYSB0ZW5uZXQgZSB2byBrdWl0IGV1cyBhciBzdHVtbSAzLjAuIEdyaXQgZ2FudCAke25ld01ldGhvZH0gZSBwbGFzLiJ9KTtPcGVuTGF5ZXJzLktpbmV0aWM9T3BlbkxheWVycy5DbGFzcyh7dGhyZXNob2xkOjAsZGVjZWxlcmF0aW9uOjAuMDAzNSxuYlBvaW50czoxMDAsZGVsYXk6MjAwLHBvaW50czp2b2lkIDAsdGltZXJJZDp2b2lkIDAsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsYSl9LGJlZ2luOmZ1bmN0aW9uKCl7T3BlbkxheWVycy5BbmltYXRpb24uc3RvcCh0aGlzLnRpbWVySWQpO3RoaXMudGltZXJJZD12b2lkIDA7dGhpcy5wb2ludHM9W119LHVwZGF0ZTpmdW5jdGlvbihhKXt0aGlzLnBvaW50cy51bnNoaWZ0KHt4eTphLHRpY2s6KG5ldyBEYXRlKS5nZXRUaW1lKCl9KTt0aGlzLnBvaW50cy5sZW5ndGg+dGhpcy5uYlBvaW50cyYmdGhpcy5wb2ludHMucG9wKCl9LGVuZDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYz0obmV3IERhdGUpLmdldFRpbWUoKSxkPTAsZT10aGlzLnBvaW50cy5sZW5ndGgsZjtkPGU7ZCsrKXtmPXRoaXMucG9pbnRzW2RdO2lmKGMtCmYudGljaz50aGlzLmRlbGF5KWJyZWFrO2I9Zn1pZihiJiYoZD0obmV3IERhdGUpLmdldFRpbWUoKS1iLnRpY2ssYz1NYXRoLnNxcnQoTWF0aC5wb3coYS54LWIueHkueCwyKStNYXRoLnBvdyhhLnktYi54eS55LDIpKSxkPWMvZCwhKDA9PWR8fGQ8dGhpcy50aHJlc2hvbGQpKSlyZXR1cm4gYz1NYXRoLmFzaW4oKGEueS1iLnh5LnkpL2MpLGIueHkueDw9YS54JiYoYz1NYXRoLlBJLWMpLHtzcGVlZDpkLHRoZXRhOmN9fSxtb3ZlOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5zcGVlZCxkPU1hdGguY29zKGEudGhldGEpLGU9LU1hdGguc2luKGEudGhldGEpLGY9KG5ldyBEYXRlKS5nZXRUaW1lKCksZz0wLGg9MDt0aGlzLnRpbWVySWQ9T3BlbkxheWVycy5BbmltYXRpb24uc3RhcnQoT3BlbkxheWVycy5GdW5jdGlvbi5iaW5kKGZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy50aW1lcklkKXt2YXIgYT0obmV3IERhdGUpLmdldFRpbWUoKS1mLGo9LXRoaXMuZGVjZWxlcmF0aW9uKk1hdGgucG93KGEsCjIpLzIrYyphLGs9aipkLGo9aiplLGwsbTtsPSExOzA+PS10aGlzLmRlY2VsZXJhdGlvbiphK2MmJihPcGVuTGF5ZXJzLkFuaW1hdGlvbi5zdG9wKHRoaXMudGltZXJJZCksdGhpcy50aW1lcklkPW51bGwsbD0hMCk7YT1rLWc7bT1qLWg7Zz1rO2g9ajtiKGEsbSxsKX19LHRoaXMpKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5LaW5ldGljIn0pO09wZW5MYXllcnMuTGFuZy5ybz17dW5oYW5kbGVkUmVxdWVzdDoiQ2VyZXJlIG5lc29sdVx1MDIxYmlvbmF0XHUwMTAzIHJldHVybiAke3N0YXR1c1RleHR9IixQZXJtYWxpbms6IkxlZ2F0dXJcdTAxMDMgcGVybWFuZW50XHUwMTAzIixPdmVybGF5czoiU3RyYXR1cmkgdmVjdG9yIiwiQmFzZSBMYXllciI6IlN0cmF0dXJpIGRlIGJhelx1MDEwMyIsbm9GSUQ6Ik51IHBvdCBhY3R1YWxpemEgdW4gZmVhdHVyZSBwZW50cnUgY2FyZSBudSBleGlzdFx1MDEwMyBGSUQuIixicm93c2VyTm90U3VwcG9ydGVkOiJCcm93c2VydWwgdFx1MDEwM3UgbnUgc3Vwb3J0XHUwMTAzIGFmaVx1MDIxOWFyZWEgdmVjdG9yaWxvci4gU3Vwb2V0dWwgY3VyZW50IHBlbnRydSByYW5kYXJlOlxuJHtyZW5kZXJlcnN9IixtaW5ab29tTGV2ZWxFcnJvcjoiUHJvcHJpZXRhdGVhIG1pblpvb21MZXZlbCBlc3RlIGRvYXIgcGVudHJ1IGEgZmkgZm9sb3NpdFx1MDEwMyBjdSBzdHJhdHVyaWxlIEZpeGVkWm9vbUxldmVscy1kZXNjZW5kZW50LiBEZSBhY2VlYSBhY2VzdCBzdHJhdCB3ZnMgdmVyaWZpY1x1MDEwMyBkYWNcdTAxMDMgbWluWm9vbUxldmVsIGVzdGUgbyByZWxpY3ZcdTAxMDMuIE51IFx1MDBlZWwgcHV0ZW0gLCBvcmljdW0sIFx1MDBlZW5sXHUwMTAzdHVyYSBmXHUwMTAzclx1MDEwMyBhIGFmZWN0YSBhcGxpY2FcdTAyMWJpaWxlIE9wZW5sYXllcnMgY2FyZSBkZXBpbmQgZGUgZWEuIERlIGFjZWVhIGNvbnNpZGVyXHUwMTAzbSBkZXByZWNpYXQgLS0gbWluWm9vbUxldmVsIFx1MDIxOWkgXHUwMGVlbCB2b20gXHUwMGVlbmxcdTAxMDN0dXJhIFx1MDBlZW4gMy4wLiBGb2xvc2VcdTAyMTl0ZSBtaW4vbWF4IHJlc29sdXRpb24gY3VtIGVzdGUgZGVzY3Jpc1x1MDEwMyBhaWNpOiBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NldHRpbmdab29tTGV2ZWxzIiwKY29tbWl0U3VjY2VzczoiVHJhbnphY1x1MDIxYmllIFdGUzogU1VDQ0VTICR7cmVzcG9uc2V9Iixjb21taXRGYWlsZWQ6IlRyYW56YWNcdTAyMWJpZSBXRlMgOiBFXHUwMjE4RUMgJHtyZXNwb25zZX0iLGdvb2dsZVdhcm5pbmc6IlN0cmF0dWwgR29vZ2xlIG51IGEgcHV0dXQgZmkgXHUwMGVlbmNcdTAxMDNyY2F0IGNvcmVjdC48YnI+PGJyPlBlbnRydSBhIGVsaW1pbmEgYWNlc3QgbWVzYWosIHNlbGVjdGVhelx1MDEwMyB1biBub3Ugc3RyYXQgZGUgYmF6XHUwMTAzIFx1MDBlZW4gTGF5ZXJzd2l0Y2hlciBkaW4gY29sXHUwMjFidWwgZHJlYXRhLXN1cy48YnI+PGJyPkFzdGEgZGF0b3JpdFx1MDEwMywgZmFwdHVsdWkgY1x1MDEwMyBHb29nbGUgTWFwcyBsaWJyYXJ5IHNjcmlwdCBudSBlc3RlIGluY2x1cywgc2F1IG51IGNvblx1MDIxYmluZSBjaGVpYSBBUEkgY29yZWN0XHUwMTAzIHBlbnRydSBzaXR1bCB0XHUwMTAzdS48YnI+PGJyPkRldmVsb3Blcmk6IFBlbnRydSBhanV0b3IsIDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvR29vZ2xlJyB0YXJnZXQ9J19ibGFuayc+YXBcdTAxMDNzYVx1MDIxYmkgYWljaTwvYT4iLApnZXRMYXllcldhcm5pbmc6IlN0cmF0dWwgJHtsYXllclR5cGV9IG51IGEgcHV0dXQgZmkgXHUwMGVlbmNcdTAxMDNyY2F0IGNvcmVjdC48YnI+PGJyPnBlbnRydSBhIFx1MDBlZW5sXHUwMTAzdHVyYSBhY2VzdCBtZXNhaiwgc2VsZWN0ZWF6XHUwMTAzIHVuIG5vdSBzdHJhdCBkZSBiYXpcdTAxMDMgQWNlc3RhIGVyb2FyZSBhcGFyZSBkZSBvYmljZWkgY1x1MDBlMm5kICR7bGF5ZXJMaWJ9IGxpYnJhcnkgc2NyaXB0IG51IGEgZm9zdCBcdTAwZWVuY1x1MDEwM3JjYXQgY29yZWN0Ljxicj48YnI+RGV2ZWxvcGVyaTogUGVudHJ1IGFqdXRvciBwcml2aW5kIHV0aWxpemFyZWEgY29yZWN0XHUwMTAzLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+YXBhc1x1MDEwMyBhaWNpPC9hPiIsIlNjYWxlID0gMSA6ICR7c2NhbGVEZW5vbX0iOiJTY2FyYSA9IDEgOiAke3NjYWxlRGVub219IixXOiJWIixFOiJFIixOOiJOIiwKUzoiUyIsR3JhdGljdWxlOiJHcmF0aWN1bGUiLHJlcHJvamVjdERlcHJlY2F0ZWQ6ImZvbG9zZVx1MDIxOXRpIG9wXHUwMjFiaXVuZWEgJ3JlcHJvamVjdCcgcGVudHJ1IHN0cmF0dWwgJHtsYXllck5hbWV9IC4gQWNlYXN0XHUwMTAzIG9wXHUwMjFiaXVuZSBlc3RlIGRlcHJlY2lhdFx1MDEwMzogYSBmb3N0IHV0aWxpemF0XHUwMTAzIHBlbnRydSBhZmlcdTAyMTlhcmVhIHN0cmF0dXJpbG9yIGRlIGJhelx1MDEwMyBjb21lcmNpYWxlIE1haSBtdWx0ZSBpbmZvcm1hXHUwMjFiaWkgZGVzcHJlIHByb2llY1x1MDIxYmlhIE1lcmNhdG9yIHN1bnQgZGlzcG9uaWJpbGUgYWljaSBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NwaGVyaWNhbE1lcmNhdG9yLiIsbWV0aG9kRGVwcmVjYXRlZDoiQWNlYXN0XHUwMTAzIG1ldG9kXHUwMTAzIGVzdGUgZGVwcmVjaWF0XHUwMTAzIFx1MDIxOWkgdmEgZmkgXHUwMGVlbmxcdTAxMDN0dXJhdFx1MDEwMyBpbiB2ZXJzaXVuZWEgMy4wLiBmb2xvc2VcdTAyMTl0ZSBtZXRvZGEgJHtuZXdNZXRob2R9LiIsCmVuZDoiIn07T3BlbkxheWVycy5Gb3JtYXQuV1BTRXhlY3V0ZT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCxPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIudjFfMV8wLHtuYW1lc3BhY2VzOntvd3M6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvb3dzLzEuMSIsZ21sOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbCIsd3BzOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3dwcy8xLjAuMCIsd2ZzOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3dmcyIsb2djOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L29nYyIsd2NzOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3djcyIseGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UifSxyZWdFeGVzOnt0cmltU3BhY2U6L15ccyp8XHMqJC9nLHJlbW92ZVNwYWNlOi9ccyovZyxzcGxpdFNwYWNlOi9ccysvLHRyaW1Db21tYTovXHMqLFxzKi9nfSxWRVJTSU9OOiIxLjAuMCIsCnNjaGVtYUxvY2F0aW9uOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3dwcy8xLjAuMCBodHRwOi8vc2NoZW1hcy5vcGVuZ2lzLm5ldC93cHMvMS4wLjAvd3BzQWxsLnhzZCIsc2NoZW1hTG9jYXRpb25BdHRyOmZ1bmN0aW9uKCl7fSx3cml0ZTpmdW5jdGlvbihhKXt2YXIgYjt3aW5kb3cuQWN0aXZlWE9iamVjdD90aGlzLnhtbGRvbT1iPW5ldyBBY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MRE9NIik6Yj1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVEb2N1bWVudCgiIiwiIixudWxsKTthPXRoaXMud3JpdGVOb2RlKCJ3cHM6RXhlY3V0ZSIsYSxiKTt0aGlzLnNldEF0dHJpYnV0ZU5TKGEsdGhpcy5uYW1lc3BhY2VzLnhzaSwieHNpOnNjaGVtYUxvY2F0aW9uIix0aGlzLnNjaGVtYUxvY2F0aW9uKTtyZXR1cm4gT3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS53cml0ZS5hcHBseSh0aGlzLFthXSl9LHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PXR5cGVvZiBhJiYoYT0KT3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7YSYmOT09YS5ub2RlVHlwZSYmKGE9YS5kb2N1bWVudEVsZW1lbnQpO3ZhciBiPXt9O3RoaXMucmVhZE5vZGUoYSxiKTtyZXR1cm4gYn0sd3JpdGVyczp7d3BzOntFeGVjdXRlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid3BzOkV4ZWN1dGUiLHthdHRyaWJ1dGVzOnt2ZXJzaW9uOnRoaXMuVkVSU0lPTixzZXJ2aWNlOiJXUFMifX0pO3RoaXMud3JpdGVOb2RlKCJvd3M6SWRlbnRpZmllciIsYS5pZGVudGlmaWVyLGIpO3RoaXMud3JpdGVOb2RlKCJ3cHM6RGF0YUlucHV0cyIsYS5kYXRhSW5wdXRzLGIpO3RoaXMud3JpdGVOb2RlKCJ3cHM6UmVzcG9uc2VGb3JtIixhLnJlc3BvbnNlRm9ybSxiKTtyZXR1cm4gYn0sUmVzcG9uc2VGb3JtOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid3BzOlJlc3BvbnNlRm9ybSIse30pO2EucmF3RGF0YU91dHB1dCYmCnRoaXMud3JpdGVOb2RlKCJ3cHM6UmF3RGF0YU91dHB1dCIsYS5yYXdEYXRhT3V0cHV0LGIpO2EucmVzcG9uc2VEb2N1bWVudCYmdGhpcy53cml0ZU5vZGUoIndwczpSZXNwb25zZURvY3VtZW50IixhLnJlc3BvbnNlRG9jdW1lbnQsYik7cmV0dXJuIGJ9LFJlc3BvbnNlRG9jdW1lbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3cHM6UmVzcG9uc2VEb2N1bWVudCIse2F0dHJpYnV0ZXM6e3N0b3JlRXhlY3V0ZVJlc3BvbnNlOmEuc3RvcmVFeGVjdXRlUmVzcG9uc2UsbGluZWFnZTphLmxpbmVhZ2Usc3RhdHVzOmEuc3RhdHVzfX0pO2lmKGEub3V0cHV0cylmb3IodmFyIGM9MCxkPWEub3V0cHV0cy5sZW5ndGg7YzxkO2MrKyl0aGlzLndyaXRlTm9kZSgid3BzOk91dHB1dCIsYS5vdXRwdXRzW2NdLGIpO3JldHVybiBifSxPdXRwdXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3cHM6T3V0cHV0Iix7YXR0cmlidXRlczp7YXNSZWZlcmVuY2U6YS5hc1JlZmVyZW5jZSwKbWltZVR5cGU6YS5taW1lVHlwZSxlbmNvZGluZzphLmVuY29kaW5nLHNjaGVtYTphLnNjaGVtYX19KTt0aGlzLndyaXRlTm9kZSgib3dzOklkZW50aWZpZXIiLGEuaWRlbnRpZmllcixiKTt0aGlzLndyaXRlTm9kZSgib3dzOlRpdGxlIixhLnRpdGxlLGIpO3RoaXMud3JpdGVOb2RlKCJvd3M6QWJzdHJhY3QiLGFbImFic3RyYWN0Il0sYik7cmV0dXJuIGJ9LFJhd0RhdGFPdXRwdXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3cHM6UmF3RGF0YU91dHB1dCIse2F0dHJpYnV0ZXM6e21pbWVUeXBlOmEubWltZVR5cGUsZW5jb2Rpbmc6YS5lbmNvZGluZyxzY2hlbWE6YS5zY2hlbWF9fSk7dGhpcy53cml0ZU5vZGUoIm93czpJZGVudGlmaWVyIixhLmlkZW50aWZpZXIsYik7cmV0dXJuIGJ9LERhdGFJbnB1dHM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid3BzOkRhdGFJbnB1dHMiLHt9KSxjPTAsZD1hLmxlbmd0aDtjPApkOysrYyl0aGlzLndyaXRlTm9kZSgid3BzOklucHV0IixhW2NdLGIpO3JldHVybiBifSxJbnB1dDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIndwczpJbnB1dCIse30pO3RoaXMud3JpdGVOb2RlKCJvd3M6SWRlbnRpZmllciIsYS5pZGVudGlmaWVyLGIpO2EudGl0bGUmJnRoaXMud3JpdGVOb2RlKCJvd3M6VGl0bGUiLGEudGl0bGUsYik7YS5kYXRhJiZ0aGlzLndyaXRlTm9kZSgid3BzOkRhdGEiLGEuZGF0YSxiKTthLnJlZmVyZW5jZSYmdGhpcy53cml0ZU5vZGUoIndwczpSZWZlcmVuY2UiLGEucmVmZXJlbmNlLGIpO2EuYm91bmRpbmdCb3hEYXRhJiZ0aGlzLndyaXRlTm9kZSgid3BzOkJvdW5kaW5nQm94RGF0YSIsYS5ib3VuZGluZ0JveERhdGEsYik7cmV0dXJuIGJ9LERhdGE6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3cHM6RGF0YSIse30pO2EubGl0ZXJhbERhdGE/dGhpcy53cml0ZU5vZGUoIndwczpMaXRlcmFsRGF0YSIsCmEubGl0ZXJhbERhdGEsYik6YS5jb21wbGV4RGF0YT90aGlzLndyaXRlTm9kZSgid3BzOkNvbXBsZXhEYXRhIixhLmNvbXBsZXhEYXRhLGIpOmEuYm91bmRpbmdCb3hEYXRhJiZ0aGlzLndyaXRlTm9kZSgib3dzOkJvdW5kaW5nQm94IixhLmJvdW5kaW5nQm94RGF0YSxiKTtyZXR1cm4gYn0sTGl0ZXJhbERhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid3BzOkxpdGVyYWxEYXRhIix7YXR0cmlidXRlczp7dW9tOmEudW9tfSx2YWx1ZTphLnZhbHVlfSl9LENvbXBsZXhEYXRhOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid3BzOkNvbXBsZXhEYXRhIix7YXR0cmlidXRlczp7bWltZVR5cGU6YS5taW1lVHlwZSxlbmNvZGluZzphLmVuY29kaW5nLHNjaGVtYTphLnNjaGVtYX19KSxjPWEudmFsdWU7InN0cmluZyI9PT10eXBlb2YgYz9iLmFwcGVuZENoaWxkKHRoaXMuZ2V0WE1MRG9jKCkuY3JlYXRlQ0RBVEFTZWN0aW9uKGEudmFsdWUpKToKYi5hcHBlbmRDaGlsZChjKTtyZXR1cm4gYn0sUmVmZXJlbmNlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid3BzOlJlZmVyZW5jZSIse2F0dHJpYnV0ZXM6e21pbWVUeXBlOmEubWltZVR5cGUsInhsaW5rOmhyZWYiOmEuaHJlZixtZXRob2Q6YS5tZXRob2QsZW5jb2Rpbmc6YS5lbmNvZGluZyxzY2hlbWE6YS5zY2hlbWF9fSk7YS5ib2R5JiZ0aGlzLndyaXRlTm9kZSgid3BzOkJvZHkiLGEuYm9keSxiKTtyZXR1cm4gYn0sQm91bmRpbmdCb3hEYXRhOmZ1bmN0aW9uKGEsYil7dGhpcy53cml0ZXJzLm93cy5Cb3VuZGluZ0JveC5hcHBseSh0aGlzLFthLGIsIndwczpCb3VuZGluZ0JveERhdGEiXSl9LEJvZHk6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3cHM6Qm9keSIse30pO2Eud2NzP3RoaXMud3JpdGVOb2RlKCJ3Y3M6R2V0Q292ZXJhZ2UiLGEud2NzLGIpOmEud2ZzPyh0aGlzLmZlYXR1cmVUeXBlPWEud2ZzLmZlYXR1cmVUeXBlLAp0aGlzLnZlcnNpb249YS53ZnMudmVyc2lvbix0aGlzLndyaXRlTm9kZSgid2ZzOkdldEZlYXR1cmUiLGEud2ZzLGIpKTp0aGlzLndyaXRlTm9kZSgid3BzOkV4ZWN1dGUiLGEsYik7cmV0dXJuIGJ9fSx3Y3M6T3BlbkxheWVycy5Gb3JtYXQuV0NTR2V0Q292ZXJhZ2UucHJvdG90eXBlLndyaXRlcnMud2NzLHdmczpPcGVuTGF5ZXJzLkZvcm1hdC5XRlNULnYxXzFfMC5wcm90b3R5cGUud3JpdGVycy53ZnMsb2djOk9wZW5MYXllcnMuRm9ybWF0LkZpbHRlci52MV8xXzAucHJvdG90eXBlLndyaXRlcnMub2djLG93czpPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24udjFfMV8wLnByb3RvdHlwZS53cml0ZXJzLm93c30scmVhZGVyczp7d3BzOntFeGVjdXRlUmVzcG9uc2U6ZnVuY3Rpb24oYSxiKXtiLmV4ZWN1dGVSZXNwb25zZT17bGFuZzphLmdldEF0dHJpYnV0ZSgibGFuZyIpLHN0YXR1c0xvY2F0aW9uOmEuZ2V0QXR0cmlidXRlKCJzdGF0dXNMb2NhdGlvbiIpLHNlcnZpY2VJbnN0YW5jZTphLmdldEF0dHJpYnV0ZSgic2VydmljZUluc3RhbmNlIiksCnNlcnZpY2U6YS5nZXRBdHRyaWJ1dGUoInNlcnZpY2UiKX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuZXhlY3V0ZVJlc3BvbnNlKX0sUHJvY2VzczpmdW5jdGlvbihhLGIpe2IucHJvY2Vzcz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5wcm9jZXNzKX0sU3RhdHVzOmZ1bmN0aW9uKGEsYil7Yi5zdGF0dXM9e2NyZWF0aW9uVGltZTphLmdldEF0dHJpYnV0ZSgiY3JlYXRpb25UaW1lIil9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnN0YXR1cyl9LFByb2Nlc3NTdWNjZWVkZWQ6ZnVuY3Rpb24oYSxiKXtiLnByb2Nlc3NTdWNjZWVkZWQ9ITB9LFByb2Nlc3NPdXRwdXRzOmZ1bmN0aW9uKGEsYil7Yi5wcm9jZXNzT3V0cHV0cz1bXTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5wcm9jZXNzT3V0cHV0cyl9LE91dHB1dDpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLnB1c2goYyl9LFJlZmVyZW5jZTpmdW5jdGlvbihhLGIpe2IucmVmZXJlbmNlPQp7aHJlZjphLmdldEF0dHJpYnV0ZSgiaHJlZiIpLG1pbWVUeXBlOmEuZ2V0QXR0cmlidXRlKCJtaW1lVHlwZSIpLGVuY29kaW5nOmEuZ2V0QXR0cmlidXRlKCJlbmNvZGluZyIpLHNjaGVtYTphLmdldEF0dHJpYnV0ZSgic2NoZW1hIil9fSxEYXRhOmZ1bmN0aW9uKGEsYil7Yi5kYXRhPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sTGl0ZXJhbERhdGE6ZnVuY3Rpb24oYSxiKXtiLmxpdGVyYWxEYXRhPXtkYXRhVHlwZTphLmdldEF0dHJpYnV0ZSgiZGF0YVR5cGUiKSx1b206YS5nZXRBdHRyaWJ1dGUoInVvbSIpLHZhbHVlOnRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX19LENvbXBsZXhEYXRhOmZ1bmN0aW9uKGEsYil7Yi5jb21wbGV4RGF0YT17bWltZVR5cGU6YS5nZXRBdHRyaWJ1dGUoIm1pbWVUeXBlIiksc2NoZW1hOmEuZ2V0QXR0cmlidXRlKCJzY2hlbWEiKSxlbmNvZGluZzphLmdldEF0dHJpYnV0ZSgiZW5jb2RpbmciKSx2YWx1ZToiIn07aWYodGhpcy5pc1NpbXBsZUNvbnRlbnQoYSkpe3ZhciBjOwpmb3IoYz1hLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpc3dpdGNoKGMubm9kZVR5cGUpe2Nhc2UgMzpjYXNlIDQ6Yi5jb21wbGV4RGF0YS52YWx1ZSs9Yy5ub2RlVmFsdWV9fWVsc2UgZm9yKGM9YS5maXJzdENoaWxkO2M7Yz1jLm5leHRTaWJsaW5nKTE9PWMubm9kZVR5cGUmJihiLmNvbXBsZXhEYXRhLnZhbHVlPWMpfSxCb3VuZGluZ0JveDpmdW5jdGlvbihhLGIpe2IuYm91bmRpbmdCb3hEYXRhPXtkaW1lbnNpb25zOmEuZ2V0QXR0cmlidXRlKCJkaW1lbnNpb25zIiksY3JzOmEuZ2V0QXR0cmlidXRlKCJjcnMiKX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuYm91bmRpbmdCb3hEYXRhKX19LG93czpPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24udjFfMV8wLnByb3RvdHlwZS5yZWFkZXJzLm93c30sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuV1BTRXhlY3V0ZSJ9KTtPcGVuTGF5ZXJzLkxheWVyLkdlb1JTUz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIuTWFya2Vycyx7bG9jYXRpb246bnVsbCxmZWF0dXJlczpudWxsLGZvcm1hdE9wdGlvbnM6bnVsbCxzZWxlY3RlZEZlYXR1cmU6bnVsbCxpY29uOm51bGwscG9wdXBTaXplOm51bGwsdXNlRmVlZFRpdGxlOiEwLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMpe09wZW5MYXllcnMuTGF5ZXIuTWFya2Vycy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthLGNdKTt0aGlzLmxvY2F0aW9uPWI7dGhpcy5mZWF0dXJlcz1bXX0sZGVzdHJveTpmdW5jdGlvbigpe09wZW5MYXllcnMuTGF5ZXIuTWFya2Vycy5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5jbGVhckZlYXR1cmVzKCk7dGhpcy5mZWF0dXJlcz1udWxsfSxsb2FkUlNTOmZ1bmN0aW9uKCl7dGhpcy5sb2FkZWR8fCh0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvYWRzdGFydCIpLE9wZW5MYXllcnMuUmVxdWVzdC5HRVQoe3VybDp0aGlzLmxvY2F0aW9uLApzdWNjZXNzOnRoaXMucGFyc2VEYXRhLHNjb3BlOnRoaXN9KSx0aGlzLmxvYWRlZD0hMCl9LG1vdmVUbzpmdW5jdGlvbihhLGIsYyl7T3BlbkxheWVycy5MYXllci5NYXJrZXJzLnByb3RvdHlwZS5tb3ZlVG8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMudmlzaWJpbGl0eSYmIXRoaXMubG9hZGVkJiZ0aGlzLmxvYWRSU1MoKX0scGFyc2VEYXRhOmZ1bmN0aW9uKGEpe3ZhciBiPWEucmVzcG9uc2VYTUw7aWYoIWJ8fCFiLmRvY3VtZW50RWxlbWVudCliPU9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUucmVhZChhLnJlc3BvbnNlVGV4dCk7aWYodGhpcy51c2VGZWVkVGl0bGUpe2E9bnVsbDt0cnl7YT1iLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoIioiLCJ0aXRsZSIpWzBdLmZpcnN0Q2hpbGQubm9kZVZhbHVlfWNhdGNoKGMpe2E9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGl0bGUiKVswXS5maXJzdENoaWxkLm5vZGVWYWx1ZX1hJiZ0aGlzLnNldE5hbWUoYSl9YT17fTtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGEsCnRoaXMuZm9ybWF0T3B0aW9ucyk7dGhpcy5tYXAmJiF0aGlzLnByb2plY3Rpb24uZXF1YWxzKHRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSkmJihhLmV4dGVybmFsUHJvamVjdGlvbj10aGlzLnByb2plY3Rpb24sYS5pbnRlcm5hbFByb2plY3Rpb249dGhpcy5tYXAuZ2V0UHJvamVjdGlvbk9iamVjdCgpKTtmb3IodmFyIGI9KG5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5HZW9SU1MoYSkpLnJlYWQoYiksYT0wLGQ9Yi5sZW5ndGg7YTxkO2ErKyl7dmFyIGU9e30sZj1iW2FdO2lmKGYuZ2VvbWV0cnkpe3ZhciBnPWYuYXR0cmlidXRlcy50aXRsZT9mLmF0dHJpYnV0ZXMudGl0bGU6IlVudGl0bGVkIixoPWYuYXR0cmlidXRlcy5kZXNjcmlwdGlvbj9mLmF0dHJpYnV0ZXMuZGVzY3JpcHRpb246Ik5vIGRlc2NyaXB0aW9uLiIsaT1mLmF0dHJpYnV0ZXMubGluaz9mLmF0dHJpYnV0ZXMubGluazoiIixmPWYuZ2VvbWV0cnkuZ2V0Qm91bmRzKCkuZ2V0Q2VudGVyTG9uTGF0KCk7ZS5pY29uPQpudWxsPT10aGlzLmljb24/T3BlbkxheWVycy5NYXJrZXIuZGVmYXVsdEljb24oKTp0aGlzLmljb24uY2xvbmUoKTtlLnBvcHVwU2l6ZT10aGlzLnBvcHVwU2l6ZT90aGlzLnBvcHVwU2l6ZS5jbG9uZSgpOm5ldyBPcGVuTGF5ZXJzLlNpemUoMjUwLDEyMCk7aWYoZ3x8aCl7ZS50aXRsZT1nO2UuZGVzY3JpcHRpb249aDt2YXIgaj0nPGRpdiBjbGFzcz0ib2xMYXllckdlb1JTU0Nsb3NlIj5beF08L2Rpdj4nLGo9aisnPGRpdiBjbGFzcz0ib2xMYXllckdlb1JTU1RpdGxlIj4nO2kmJihqKz0nPGEgY2xhc3M9ImxpbmsiIGhyZWY9IicraSsnIiB0YXJnZXQ9Il9ibGFuayI+Jyk7ais9ZztpJiYoais9IjwvYT4iKTtqKz0iPC9kaXY+IjtqKz0nPGRpdiBzdHlsZT0iIiBjbGFzcz0ib2xMYXllckdlb1JTU0Rlc2NyaXB0aW9uIj4nO2orPWg7ais9IjwvZGl2PiI7ZS5wb3B1cENvbnRlbnRIVE1MPWp9Zj1uZXcgT3BlbkxheWVycy5GZWF0dXJlKHRoaXMsZixlKTt0aGlzLmZlYXR1cmVzLnB1c2goZik7CmU9Zi5jcmVhdGVNYXJrZXIoKTtlLmV2ZW50cy5yZWdpc3RlcigiY2xpY2siLGYsdGhpcy5tYXJrZXJDbGljayk7dGhpcy5hZGRNYXJrZXIoZSl9fXRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgibG9hZGVuZCIpfSxtYXJrZXJDbGljazpmdW5jdGlvbihhKXt2YXIgYj10aGlzPT10aGlzLmxheWVyLnNlbGVjdGVkRmVhdHVyZTt0aGlzLmxheWVyLnNlbGVjdGVkRmVhdHVyZT0hYj90aGlzOm51bGw7Zm9yKHZhciBjPTAsZD10aGlzLmxheWVyLm1hcC5wb3B1cHMubGVuZ3RoO2M8ZDtjKyspdGhpcy5sYXllci5tYXAucmVtb3ZlUG9wdXAodGhpcy5sYXllci5tYXAucG9wdXBzW2NdKTtifHwoYj10aGlzLmNyZWF0ZVBvcHVwKCksT3BlbkxheWVycy5FdmVudC5vYnNlcnZlKGIuZGl2LCJjbGljayIsT3BlbkxheWVycy5GdW5jdGlvbi5iaW5kKGZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYj10aGlzLmxheWVyLm1hcC5wb3B1cHMubGVuZ3RoO2E8YjthKyspdGhpcy5sYXllci5tYXAucmVtb3ZlUG9wdXAodGhpcy5sYXllci5tYXAucG9wdXBzW2FdKX0sCnRoaXMpKSx0aGlzLmxheWVyLm1hcC5hZGRQb3B1cChiKSk7T3BlbkxheWVycy5FdmVudC5zdG9wKGEpfSxjbGVhckZlYXR1cmVzOmZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5mZWF0dXJlcylmb3IoOzA8dGhpcy5mZWF0dXJlcy5sZW5ndGg7KXt2YXIgYT10aGlzLmZlYXR1cmVzWzBdO09wZW5MYXllcnMuVXRpbC5yZW1vdmVJdGVtKHRoaXMuZmVhdHVyZXMsYSk7YS5kZXN0cm95KCl9fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLkdlb1JTUyJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5HTUwuQmFzZSx7c2NoZW1hTG9jYXRpb246Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sIGh0dHA6Ly9zY2hlbWFzLm9wZW5naXMubmV0L2dtbC8yLjEuMi9mZWF0dXJlLnhzZCIsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkZvcm1hdC5HTUwuQmFzZS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSl9LHJlYWRlcnM6e2dtbDpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7b3V0ZXJCb3VuZGFyeUlzOmZ1bmN0aW9uKGEsYil7dmFyIGM9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2Iub3V0ZXI9Yy5jb21wb25lbnRzWzBdfSxpbm5lckJvdW5kYXJ5SXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5pbm5lci5wdXNoKGMuY29tcG9uZW50c1swXSl9LEJveDpmdW5jdGlvbihhLGIpe3ZhciBjPQp7fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5jb21wb25lbnRzfHwoYi5jb21wb25lbnRzPVtdKTt2YXIgZD1jLnBvaW50c1swXSxjPWMucG9pbnRzWzFdO2IuY29tcG9uZW50cy5wdXNoKG5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhkLngsZC55LGMueCxjLnkpKX19LE9wZW5MYXllcnMuRm9ybWF0LkdNTC5CYXNlLnByb3RvdHlwZS5yZWFkZXJzLmdtbCksZmVhdHVyZTpPcGVuTGF5ZXJzLkZvcm1hdC5HTUwuQmFzZS5wcm90b3R5cGUucmVhZGVycy5mZWF0dXJlLHdmczpPcGVuTGF5ZXJzLkZvcm1hdC5HTUwuQmFzZS5wcm90b3R5cGUucmVhZGVycy53ZnN9LHdyaXRlOmZ1bmN0aW9uKGEpe3ZhciBiO2I9T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSk/IndmczpGZWF0dXJlQ29sbGVjdGlvbiI6ImdtbDpmZWF0dXJlTWVtYmVyIjthPXRoaXMud3JpdGVOb2RlKGIsYSk7dGhpcy5zZXRBdHRyaWJ1dGVOUyhhLHRoaXMubmFtZXNwYWNlcy54c2ksInhzaTpzY2hlbWFMb2NhdGlvbiIsdGhpcy5zY2hlbWFMb2NhdGlvbik7CnJldHVybiBPcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLndyaXRlLmFwcGx5KHRoaXMsW2FdKX0sd3JpdGVyczp7Z21sOk9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtQb2ludDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImdtbDpQb2ludCIpO3RoaXMud3JpdGVOb2RlKCJjb29yZGluYXRlcyIsW2FdLGIpO3JldHVybiBifSxjb29yZGluYXRlczpmdW5jdGlvbihhKXtmb3IodmFyIGI9YS5sZW5ndGgsYz1BcnJheShiKSxkLGU9MDtlPGI7KytlKWQ9YVtlXSxjW2VdPXRoaXMueHk/ZC54KyIsIitkLnk6ZC55KyIsIitkLngsdm9pZCAwIT1kLnomJihjW2VdKz0iLCIrZC56KTtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6Y29vcmRpbmF0ZXMiLHthdHRyaWJ1dGVzOntkZWNpbWFsOiIuIixjczoiLCIsdHM6IiAifSx2YWx1ZToxPT1iP2NbMF06Yy5qb2luKCIgIil9KX0sTGluZVN0cmluZzpmdW5jdGlvbihhKXt2YXIgYj0KdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6TGluZVN0cmluZyIpO3RoaXMud3JpdGVOb2RlKCJjb29yZGluYXRlcyIsYS5jb21wb25lbnRzLGIpO3JldHVybiBifSxQb2x5Z29uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOlBvbHlnb24iKTt0aGlzLndyaXRlTm9kZSgib3V0ZXJCb3VuZGFyeUlzIixhLmNvbXBvbmVudHNbMF0sYik7Zm9yKHZhciBjPTE7YzxhLmNvbXBvbmVudHMubGVuZ3RoOysrYyl0aGlzLndyaXRlTm9kZSgiaW5uZXJCb3VuZGFyeUlzIixhLmNvbXBvbmVudHNbY10sYik7cmV0dXJuIGJ9LG91dGVyQm91bmRhcnlJczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImdtbDpvdXRlckJvdW5kYXJ5SXMiKTt0aGlzLndyaXRlTm9kZSgiTGluZWFyUmluZyIsYSxiKTtyZXR1cm4gYn0saW5uZXJCb3VuZGFyeUlzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOmlubmVyQm91bmRhcnlJcyIpOwp0aGlzLndyaXRlTm9kZSgiTGluZWFyUmluZyIsYSxiKTtyZXR1cm4gYn0sTGluZWFyUmluZzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImdtbDpMaW5lYXJSaW5nIik7dGhpcy53cml0ZU5vZGUoImNvb3JkaW5hdGVzIixhLmNvbXBvbmVudHMsYik7cmV0dXJuIGJ9LEJveDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImdtbDpCb3giKTt0aGlzLndyaXRlTm9kZSgiY29vcmRpbmF0ZXMiLFt7eDphLmxlZnQseTphLmJvdHRvbX0se3g6YS5yaWdodCx5OmEudG9wfV0sYik7dGhpcy5zcnNOYW1lJiZiLnNldEF0dHJpYnV0ZSgic3JzTmFtZSIsdGhpcy5zcnNOYW1lKTtyZXR1cm4gYn19LE9wZW5MYXllcnMuRm9ybWF0LkdNTC5CYXNlLnByb3RvdHlwZS53cml0ZXJzLmdtbCksZmVhdHVyZTpPcGVuTGF5ZXJzLkZvcm1hdC5HTUwuQmFzZS5wcm90b3R5cGUud3JpdGVycy5mZWF0dXJlLHdmczpPcGVuTGF5ZXJzLkZvcm1hdC5HTUwuQmFzZS5wcm90b3R5cGUud3JpdGVycy53ZnN9LApDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjIifSk7T3BlbkxheWVycy5Db250cm9sLkRyYWdGZWF0dXJlPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHtnZW9tZXRyeVR5cGVzOm51bGwsb25TdGFydDpmdW5jdGlvbigpe30sb25EcmFnOmZ1bmN0aW9uKCl7fSxvbkNvbXBsZXRlOmZ1bmN0aW9uKCl7fSxvbkVudGVyOmZ1bmN0aW9uKCl7fSxvbkxlYXZlOmZ1bmN0aW9uKCl7fSxkb2N1bWVudERyYWc6ITEsbGF5ZXI6bnVsbCxmZWF0dXJlOm51bGwsZHJhZ0NhbGxiYWNrczp7fSxmZWF0dXJlQ2FsbGJhY2tzOnt9LGxhc3RQaXhlbDpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYl0pO3RoaXMubGF5ZXI9YTt0aGlzLmhhbmRsZXJzPXtkcmFnOm5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuRHJhZyh0aGlzLE9wZW5MYXllcnMuVXRpbC5leHRlbmQoe2Rvd246dGhpcy5kb3duRmVhdHVyZSxtb3ZlOnRoaXMubW92ZUZlYXR1cmUsCnVwOnRoaXMudXBGZWF0dXJlLG91dDp0aGlzLmNhbmNlbCxkb25lOnRoaXMuZG9uZURyYWdnaW5nfSx0aGlzLmRyYWdDYWxsYmFja3MpLHtkb2N1bWVudERyYWc6dGhpcy5kb2N1bWVudERyYWd9KSxmZWF0dXJlOm5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuRmVhdHVyZSh0aGlzLHRoaXMubGF5ZXIsT3BlbkxheWVycy5VdGlsLmV4dGVuZCh7Y2xpY2s6dGhpcy5jbGlja0ZlYXR1cmUsY2xpY2tvdXQ6dGhpcy5jbGlja291dEZlYXR1cmUsb3Zlcjp0aGlzLm92ZXJGZWF0dXJlLG91dDp0aGlzLm91dEZlYXR1cmV9LHRoaXMuZmVhdHVyZUNhbGxiYWNrcykse2dlb21ldHJ5VHlwZXM6dGhpcy5nZW9tZXRyeVR5cGVzfSl9fSxjbGlja0ZlYXR1cmU6ZnVuY3Rpb24oYSl7dGhpcy5oYW5kbGVycy5mZWF0dXJlLnRvdWNoJiYoIXRoaXMub3ZlciYmdGhpcy5vdmVyRmVhdHVyZShhKSkmJih0aGlzLmhhbmRsZXJzLmRyYWcuZHJhZ3N0YXJ0KHRoaXMuaGFuZGxlcnMuZmVhdHVyZS5ldnQpLHRoaXMuaGFuZGxlcnMuZHJhZy5zdG9wRG93bj0KITEpfSxjbGlja291dEZlYXR1cmU6ZnVuY3Rpb24oYSl7dGhpcy5oYW5kbGVycy5mZWF0dXJlLnRvdWNoJiZ0aGlzLm92ZXImJih0aGlzLm91dEZlYXR1cmUoYSksdGhpcy5oYW5kbGVycy5kcmFnLnN0b3BEb3duPSEwKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMubGF5ZXI9bnVsbDtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxbXSl9LGFjdGl2YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFuZGxlcnMuZmVhdHVyZS5hY3RpdmF0ZSgpJiZPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmFjdGl2YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3RoaXMuaGFuZGxlcnMuZHJhZy5kZWFjdGl2YXRlKCk7dGhpcy5oYW5kbGVycy5mZWF0dXJlLmRlYWN0aXZhdGUoKTt0aGlzLmZlYXR1cmU9bnVsbDt0aGlzLmRyYWdnaW5nPSExO3RoaXMubGFzdFBpeGVsPW51bGw7T3BlbkxheWVycy5FbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMubWFwLnZpZXdQb3J0RGl2LAp0aGlzLmRpc3BsYXlDbGFzcysiT3ZlciIpO3JldHVybiBPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxvdmVyRmVhdHVyZTpmdW5jdGlvbihhKXt2YXIgYj0hMTt0aGlzLmhhbmRsZXJzLmRyYWcuZHJhZ2dpbmc/dGhpcy5vdmVyPXRoaXMuZmVhdHVyZS5pZD09YS5pZD8hMDohMToodGhpcy5mZWF0dXJlPWEsdGhpcy5oYW5kbGVycy5kcmFnLmFjdGl2YXRlKCksdGhpcy5vdmVyPWI9ITAsT3BlbkxheWVycy5FbGVtZW50LmFkZENsYXNzKHRoaXMubWFwLnZpZXdQb3J0RGl2LHRoaXMuZGlzcGxheUNsYXNzKyJPdmVyIiksdGhpcy5vbkVudGVyKGEpKTtyZXR1cm4gYn0sZG93bkZlYXR1cmU6ZnVuY3Rpb24oYSl7dGhpcy5sYXN0UGl4ZWw9YTt0aGlzLm9uU3RhcnQodGhpcy5mZWF0dXJlLGEpfSxtb3ZlRmVhdHVyZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCk7dGhpcy5mZWF0dXJlLmdlb21ldHJ5Lm1vdmUoYioKKGEueC10aGlzLmxhc3RQaXhlbC54KSxiKih0aGlzLmxhc3RQaXhlbC55LWEueSkpO3RoaXMubGF5ZXIuZHJhd0ZlYXR1cmUodGhpcy5mZWF0dXJlKTt0aGlzLmxhc3RQaXhlbD1hO3RoaXMub25EcmFnKHRoaXMuZmVhdHVyZSxhKX0sdXBGZWF0dXJlOmZ1bmN0aW9uKCl7dGhpcy5vdmVyfHx0aGlzLmhhbmRsZXJzLmRyYWcuZGVhY3RpdmF0ZSgpfSxkb25lRHJhZ2dpbmc6ZnVuY3Rpb24oYSl7dGhpcy5vbkNvbXBsZXRlKHRoaXMuZmVhdHVyZSxhKX0sb3V0RmVhdHVyZTpmdW5jdGlvbihhKXt0aGlzLmhhbmRsZXJzLmRyYWcuZHJhZ2dpbmc/dGhpcy5mZWF0dXJlLmlkPT1hLmlkJiYodGhpcy5vdmVyPSExKToodGhpcy5vdmVyPSExLHRoaXMuaGFuZGxlcnMuZHJhZy5kZWFjdGl2YXRlKCksT3BlbkxheWVycy5FbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMubWFwLnZpZXdQb3J0RGl2LHRoaXMuZGlzcGxheUNsYXNzKyJPdmVyIiksdGhpcy5vbkxlYXZlKGEpLHRoaXMuZmVhdHVyZT1udWxsKX0sCmNhbmNlbDpmdW5jdGlvbigpe3RoaXMuaGFuZGxlcnMuZHJhZy5kZWFjdGl2YXRlKCk7dGhpcy5vdmVyPSExfSxzZXRNYXA6ZnVuY3Rpb24oYSl7dGhpcy5oYW5kbGVycy5kcmFnLnNldE1hcChhKTt0aGlzLmhhbmRsZXJzLmZlYXR1cmUuc2V0TWFwKGEpO09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuc2V0TWFwLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLkRyYWdGZWF0dXJlIn0pO09wZW5MYXllcnMuQ29udHJvbC5UcmFuc2Zvcm1GZWF0dXJlPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHtnZW9tZXRyeVR5cGVzOm51bGwsbGF5ZXI6bnVsbCxwcmVzZXJ2ZUFzcGVjdFJhdGlvOiExLHJvdGF0ZTohMCxmZWF0dXJlOm51bGwscmVuZGVySW50ZW50OiJ0ZW1wb3JhcnkiLHJvdGF0aW9uSGFuZGxlU3ltYm9saXplcjpudWxsLGJveDpudWxsLGNlbnRlcjpudWxsLHNjYWxlOjEscmF0aW86MSxyb3RhdGlvbjowLGhhbmRsZXM6bnVsbCxyb3RhdGlvbkhhbmRsZXM6bnVsbCxkcmFnQ29udHJvbDpudWxsLGlycmVndWxhcjohMSxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYil7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2JdKTt0aGlzLmxheWVyPWE7dGhpcy5yb3RhdGlvbkhhbmRsZVN5bWJvbGl6ZXJ8fCh0aGlzLnJvdGF0aW9uSGFuZGxlU3ltYm9saXplcj17c3Ryb2tlOiExLHBvaW50UmFkaXVzOjEwLGZpbGxPcGFjaXR5OjAsCmN1cnNvcjoicG9pbnRlciJ9KTt0aGlzLmNyZWF0ZUJveCgpO3RoaXMuY3JlYXRlQ29udHJvbCgpfSxhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPSExO09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpJiYodGhpcy5kcmFnQ29udHJvbC5hY3RpdmF0ZSgpLHRoaXMubGF5ZXIuYWRkRmVhdHVyZXMoW3RoaXMuYm94XSksdGhpcy5yb3RhdGUmJnRoaXMubGF5ZXIuYWRkRmVhdHVyZXModGhpcy5yb3RhdGlvbkhhbmRsZXMpLHRoaXMubGF5ZXIuYWRkRmVhdHVyZXModGhpcy5oYW5kbGVzKSxhPSEwKTtyZXR1cm4gYX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPSExO09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZGVhY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cykmJih0aGlzLmxheWVyLnJlbW92ZUZlYXR1cmVzKHRoaXMuaGFuZGxlcyksdGhpcy5yb3RhdGUmJnRoaXMubGF5ZXIucmVtb3ZlRmVhdHVyZXModGhpcy5yb3RhdGlvbkhhbmRsZXMpLAp0aGlzLmxheWVyLnJlbW92ZUZlYXR1cmVzKFt0aGlzLmJveF0pLHRoaXMuZHJhZ0NvbnRyb2wuZGVhY3RpdmF0ZSgpLGE9ITApO3JldHVybiBhfSxzZXRNYXA6ZnVuY3Rpb24oYSl7dGhpcy5kcmFnQ29udHJvbC5zZXRNYXAoYSk7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5zZXRNYXAuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzZXRGZWF0dXJlOmZ1bmN0aW9uKGEsYil7dmFyIGI9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYix7cm90YXRpb246MCxzY2FsZToxLHJhdGlvOjF9KSxjPXRoaXMucm90YXRpb24sZD10aGlzLmNlbnRlcjtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsYik7aWYoITEhPT10aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImJlZm9yZXNldGZlYXR1cmUiLHtmZWF0dXJlOmF9KSl7dGhpcy5mZWF0dXJlPWE7dGhpcy5hY3RpdmF0ZSgpO3RoaXMuX3NldGZlYXR1cmU9ITA7dmFyIGU9dGhpcy5mZWF0dXJlLmdlb21ldHJ5LmdldEJvdW5kcygpO3RoaXMuYm94Lm1vdmUoZS5nZXRDZW50ZXJMb25MYXQoKSk7CnRoaXMuYm94Lmdlb21ldHJ5LnJvdGF0ZSgtYyxkKTt0aGlzLl9hbmdsZT0wO3RoaXMucm90YXRpb24/KGM9YS5nZW9tZXRyeS5jbG9uZSgpLGMucm90YXRlKC10aGlzLnJvdGF0aW9uLHRoaXMuY2VudGVyKSxjPW5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKGMuZ2V0Qm91bmRzKCkudG9HZW9tZXRyeSgpKSxjLmdlb21ldHJ5LnJvdGF0ZSh0aGlzLnJvdGF0aW9uLHRoaXMuY2VudGVyKSx0aGlzLmJveC5nZW9tZXRyeS5yb3RhdGUodGhpcy5yb3RhdGlvbix0aGlzLmNlbnRlciksdGhpcy5ib3gubW92ZShjLmdlb21ldHJ5LmdldEJvdW5kcygpLmdldENlbnRlckxvbkxhdCgpKSxjPWMuZ2VvbWV0cnkuY29tcG9uZW50c1swXS5jb21wb25lbnRzWzBdLmdldEJvdW5kcygpLmdldENlbnRlckxvbkxhdCgpKTpjPW5ldyBPcGVuTGF5ZXJzLkxvbkxhdChlLmxlZnQsZS5ib3R0b20pO3RoaXMuaGFuZGxlc1swXS5tb3ZlKGMpO2RlbGV0ZSB0aGlzLl9zZXRmZWF0dXJlO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgic2V0ZmVhdHVyZSIsCntmZWF0dXJlOmF9KX19LHVuc2V0RmVhdHVyZTpmdW5jdGlvbigpe3RoaXMuYWN0aXZlP3RoaXMuZGVhY3RpdmF0ZSgpOih0aGlzLmZlYXR1cmU9bnVsbCx0aGlzLnJvdGF0aW9uPTAsdGhpcy5yYXRpbz10aGlzLnNjYWxlPTEpfSxjcmVhdGVCb3g6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuY2VudGVyPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KDAsMCk7dGhpcy5ib3g9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZyhbbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoLTEsLTEpLG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KDAsLTEpLG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KDEsLTEpLG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KDEsMCksbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoMSwxKSxuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCgwLDEpLG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KC0xLAoxKSxuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCgtMSwwKSxuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCgtMSwtMSldKSxudWxsLCJzdHJpbmciPT10eXBlb2YgdGhpcy5yZW5kZXJJbnRlbnQ/bnVsbDp0aGlzLnJlbmRlckludGVudCk7dGhpcy5ib3guZ2VvbWV0cnkubW92ZT1mdW5jdGlvbihiLGMpe2EuX21vdmluZz0hMDtPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmcucHJvdG90eXBlLm1vdmUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EuY2VudGVyLm1vdmUoYixjKTtkZWxldGUgYS5fbW92aW5nfTtmb3IodmFyIGI9ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50LnByb3RvdHlwZS5tb3ZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9yb3RhdGlvbkhhbmRsZSYmdGhpcy5fcm90YXRpb25IYW5kbGUuZ2VvbWV0cnkubW92ZShhLGIpO3RoaXMuX2hhbmRsZS5nZW9tZXRyeS5tb3ZlKGEsYil9LGM9ZnVuY3Rpb24oYSxiLGMpe09wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQucHJvdG90eXBlLnJlc2l6ZS5hcHBseSh0aGlzLAphcmd1bWVudHMpO3RoaXMuX3JvdGF0aW9uSGFuZGxlJiZ0aGlzLl9yb3RhdGlvbkhhbmRsZS5nZW9tZXRyeS5yZXNpemUoYSxiLGMpO3RoaXMuX2hhbmRsZS5nZW9tZXRyeS5yZXNpemUoYSxiLGMpfSxkPWZ1bmN0aW9uKGEsYil7T3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludC5wcm90b3R5cGUucm90YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9yb3RhdGlvbkhhbmRsZSYmdGhpcy5fcm90YXRpb25IYW5kbGUuZ2VvbWV0cnkucm90YXRlKGEsYik7dGhpcy5faGFuZGxlLmdlb21ldHJ5LnJvdGF0ZShhLGIpfSxlPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy54LGU9dGhpcy55O09wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQucHJvdG90eXBlLm1vdmUuY2FsbCh0aGlzLGIsYyk7aWYoIWEuX21vdmluZyl7dmFyIGY9YS5kcmFnQ29udHJvbC5oYW5kbGVycy5kcmFnLmV2dCxnPSEoIWEuX3NldGZlYXR1cmUmJmEucHJlc2VydmVBc3BlY3RSYXRpbykmJiEoZiYmZi5zaGlmdEtleSksCmg9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoZCxlKSxmPWEuY2VudGVyO3RoaXMucm90YXRlKC1hLnJvdGF0aW9uLGYpO2gucm90YXRlKC1hLnJvdGF0aW9uLGYpO3ZhciBpPXRoaXMueC1mLngsaj10aGlzLnktZi55LGs9aS0odGhpcy54LWgueCksbD1qLSh0aGlzLnktaC55KTthLmlycmVndWxhciYmIWEuX3NldGZlYXR1cmUmJihpLT0odGhpcy54LWgueCkvMixqLT0odGhpcy55LWgueSkvMik7dGhpcy54PWQ7dGhpcy55PWU7aD0xO2c/KGo9MUUtNT5NYXRoLmFicyhsKT8xOmovbCxoPSgxRS01Pk1hdGguYWJzKGspPzE6aS9rKS9qKTooaz1NYXRoLnNxcnQoayprK2wqbCksaj1NYXRoLnNxcnQoaSppK2oqaikvayk7YS5fbW92aW5nPSEwO2EuYm94Lmdlb21ldHJ5LnJvdGF0ZSgtYS5yb3RhdGlvbixmKTtkZWxldGUgYS5fbW92aW5nO2EuYm94Lmdlb21ldHJ5LnJlc2l6ZShqLGYsaCk7YS5ib3guZ2VvbWV0cnkucm90YXRlKGEucm90YXRpb24sZik7YS50cmFuc2Zvcm1GZWF0dXJlKHtzY2FsZTpqLApyYXRpbzpofSk7YS5pcnJlZ3VsYXImJiFhLl9zZXRmZWF0dXJlJiYoaT1mLmNsb25lKCksaS54Kz0xRS01Pk1hdGguYWJzKGQtZi54KT8wOnRoaXMueC1kLGkueSs9MUUtNT5NYXRoLmFicyhlLWYueSk/MDp0aGlzLnktZSxhLmJveC5nZW9tZXRyeS5tb3ZlKHRoaXMueC1kLHRoaXMueS1lKSxhLnRyYW5zZm9ybUZlYXR1cmUoe2NlbnRlcjppfSkpfX0sZj1mdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMueCxlPXRoaXMueTtPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50LnByb3RvdHlwZS5tb3ZlLmNhbGwodGhpcyxiLGMpO2lmKCFhLl9tb3Zpbmcpe3ZhciBmPWEuZHJhZ0NvbnRyb2wuaGFuZGxlcnMuZHJhZy5ldnQsZj1mJiZmLnNoaWZ0S2V5PzQ1OjEsZz1hLmNlbnRlcixoPXRoaXMueC1nLngsaT10aGlzLnktZy55O3RoaXMueD1kO3RoaXMueT1lO2Q9TWF0aC5hdGFuMihpLWMsaC1iKTtkPU1hdGguYXRhbjIoaSxoKS1kO2QqPTE4MC9NYXRoLlBJO2EuX2FuZ2xlPShhLl9hbmdsZStkKSUKMzYwO2Q9YS5yb3RhdGlvbiVmO2lmKE1hdGguYWJzKGEuX2FuZ2xlKT49Znx8MCE9PWQpZD1NYXRoLnJvdW5kKGEuX2FuZ2xlL2YpKmYtZCxhLl9hbmdsZT0wLGEuYm94Lmdlb21ldHJ5LnJvdGF0ZShkLGcpLGEudHJhbnNmb3JtRmVhdHVyZSh7cm90YXRpb246ZH0pfX0sZz1BcnJheSg4KSxoPUFycmF5KDQpLGksaixrLGw9InN3IHMgc2UgZSBuZSBuIG53IHciLnNwbGl0KCIgIiksbT0wOzg+bTsrK20paT10aGlzLmJveC5nZW9tZXRyeS5jb21wb25lbnRzW21dLGo9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoaS5jbG9uZSgpLHtyb2xlOmxbbV0rIi1yZXNpemUifSwic3RyaW5nIj09dHlwZW9mIHRoaXMucmVuZGVySW50ZW50P251bGw6dGhpcy5yZW5kZXJJbnRlbnQpLDA9PW0lMiYmKGs9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoaS5jbG9uZSgpLHtyb2xlOmxbbV0rIi1yb3RhdGUifSwic3RyaW5nIj09dHlwZW9mIHRoaXMucm90YXRpb25IYW5kbGVTeW1ib2xpemVyPwpudWxsOnRoaXMucm90YXRpb25IYW5kbGVTeW1ib2xpemVyKSxrLmdlb21ldHJ5Lm1vdmU9ZixpLl9yb3RhdGlvbkhhbmRsZT1rLGhbbS8yXT1rKSxpLm1vdmU9YixpLnJlc2l6ZT1jLGkucm90YXRlPWQsai5nZW9tZXRyeS5tb3ZlPWUsaS5faGFuZGxlPWosZ1ttXT1qO3RoaXMucm90YXRpb25IYW5kbGVzPWg7dGhpcy5oYW5kbGVzPWd9LGNyZWF0ZUNvbnRyb2w6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuZHJhZ0NvbnRyb2w9bmV3IE9wZW5MYXllcnMuQ29udHJvbC5EcmFnRmVhdHVyZSh0aGlzLmxheWVyLHtkb2N1bWVudERyYWc6ITAsbW92ZUZlYXR1cmU6ZnVuY3Rpb24oYil7dGhpcy5mZWF0dXJlPT09YS5mZWF0dXJlJiYodGhpcy5mZWF0dXJlPWEuYm94KTtPcGVuTGF5ZXJzLkNvbnRyb2wuRHJhZ0ZlYXR1cmUucHJvdG90eXBlLm1vdmVGZWF0dXJlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sb25EcmFnOmZ1bmN0aW9uKGIpe2I9PT1hLmJveCYmYS50cmFuc2Zvcm1GZWF0dXJlKHtjZW50ZXI6YS5jZW50ZXJ9KX0sCm9uU3RhcnQ6ZnVuY3Rpb24oYil7dmFyIGM9IWEuZ2VvbWV0cnlUeXBlc3x8LTEhPT1PcGVuTGF5ZXJzLlV0aWwuaW5kZXhPZihhLmdlb21ldHJ5VHlwZXMsYi5nZW9tZXRyeS5DTEFTU19OQU1FKSxkPU9wZW5MYXllcnMuVXRpbC5pbmRleE9mKGEuaGFuZGxlcyxiKSxkPWQrT3BlbkxheWVycy5VdGlsLmluZGV4T2YoYS5yb3RhdGlvbkhhbmRsZXMsYik7YiE9PWEuZmVhdHVyZSYmKGIhPT1hLmJveCYmLTI9PWQmJmMpJiZhLnNldEZlYXR1cmUoYil9LG9uQ29tcGxldGU6ZnVuY3Rpb24oKXthLmV2ZW50cy50cmlnZ2VyRXZlbnQoInRyYW5zZm9ybWNvbXBsZXRlIix7ZmVhdHVyZTphLmZlYXR1cmV9KX19KX0sZHJhd0hhbmRsZXM6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5sYXllcixiPTA7OD5iOysrYil0aGlzLnJvdGF0ZSYmMD09PWIlMiYmYS5kcmF3RmVhdHVyZSh0aGlzLnJvdGF0aW9uSGFuZGxlc1tiLzJdLHRoaXMucm90YXRpb25IYW5kbGVTeW1ib2xpemVyKSxhLmRyYXdGZWF0dXJlKHRoaXMuaGFuZGxlc1tiXSwKdGhpcy5yZW5kZXJJbnRlbnQpfSx0cmFuc2Zvcm1GZWF0dXJlOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLl9zZXRmZWF0dXJlKXt0aGlzLnNjYWxlKj1hLnNjYWxlfHwxO3RoaXMucmF0aW8qPWEucmF0aW98fDE7dmFyIGI9dGhpcy5yb3RhdGlvbjt0aGlzLnJvdGF0aW9uPSh0aGlzLnJvdGF0aW9uKyhhLnJvdGF0aW9ufHwwKSklMzYwO2lmKCExIT09dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJiZWZvcmV0cmFuc2Zvcm0iLGEpKXt2YXIgYz10aGlzLmZlYXR1cmUsZD1jLmdlb21ldHJ5LGU9dGhpcy5jZW50ZXI7ZC5yb3RhdGUoLWIsZSk7YS5zY2FsZXx8YS5yYXRpbz9kLnJlc2l6ZShhLnNjYWxlLGUsYS5yYXRpbyk6YS5jZW50ZXImJmMubW92ZShhLmNlbnRlci5nZXRCb3VuZHMoKS5nZXRDZW50ZXJMb25MYXQoKSk7ZC5yb3RhdGUodGhpcy5yb3RhdGlvbixlKTt0aGlzLmxheWVyLmRyYXdGZWF0dXJlKGMpO2MudG9TdGF0ZShPcGVuTGF5ZXJzLlN0YXRlLlVQREFURSk7dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJ0cmFuc2Zvcm0iLAphKX19dGhpcy5sYXllci5kcmF3RmVhdHVyZSh0aGlzLmJveCx0aGlzLnJlbmRlckludGVudCk7dGhpcy5kcmF3SGFuZGxlcygpfSxkZXN0cm95OmZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9MDs4PmI7KytiKWE9dGhpcy5ib3guZ2VvbWV0cnkuY29tcG9uZW50c1tiXSxhLl9oYW5kbGUuZGVzdHJveSgpLGEuX2hhbmRsZT1udWxsLGEuX3JvdGF0aW9uSGFuZGxlJiZhLl9yb3RhdGlvbkhhbmRsZS5kZXN0cm95KCksYS5fcm90YXRpb25IYW5kbGU9bnVsbDt0aGlzLnJvdGF0aW9uSGFuZGxlcz10aGlzLnJvdGF0aW9uSGFuZGxlU3ltYm9saXplcj10aGlzLmhhbmRsZXM9dGhpcy5mZWF0dXJlPXRoaXMuY2VudGVyPW51bGw7dGhpcy5ib3guZGVzdHJveSgpO3RoaXMubGF5ZXI9dGhpcy5ib3g9bnVsbDt0aGlzLmRyYWdDb250cm9sLmRlc3Ryb3koKTt0aGlzLmRyYWdDb250cm9sPW51bGw7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sCkNMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5UcmFuc2Zvcm1GZWF0dXJlIn0pO09wZW5MYXllcnMuTGFuZy5pYT1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7dW5oYW5kbGVkUmVxdWVzdDoiTGUgcmVzcG9uc2EgYSB1biByZXF1ZXN0YSBub24gZXNzZXZhIG1hbmVhdGU6ICR7c3RhdHVzVGV4dH0iLFBlcm1hbGluazoiUGVybWFsaWdhbWluZSIsT3ZlcmxheXM6IlN1cGVycG9zaXRpb25lcyIsIkJhc2UgTGF5ZXIiOiJTdHJhdG8gZGUgYmFzZSIsbm9GSUQ6Ik5vbiBwb3RlIGFjdHVhbGlzYXIgdW4gZWxlbWVudG8gc2luIEZJRC4iLGJyb3dzZXJOb3RTdXBwb3J0ZWQ6IlR1IG5hdmlnYXRvciBub24gc3VwcG9ydGEgbGUgcmVuZGl0aW9uIGRlIHZlY3RvcmVzLiBMZSByZW5kaXRvcmVzIGFjdHVhbG1lbnRlIHN1cHBvcnRhdGUgZXM6XG4ke3JlbmRlcmVyc30iLG1pblpvb21MZXZlbEVycm9yOiJMZSBwcm9wcmlldGF0ZSBtaW5ab29tTGV2ZWwgZXMgc29sbWVudGUgcHJvIHVzbyBjb24gbGUgc3RyYXRvcyBkZXNjZW5kZW50ZSBkZSBGaXhlZFpvb21MZXZlbHMuIExlIGZhY3RvIHF1ZSBpc3RlIHN0cmF0byBXRlMgdmVyaWZpY2EgbWluWm9vbUxldmVsIGVzIHVuIHJlbGlxdWlhIGRlbCBwYXNzYXRvLiBOb25vYnN0YW50ZSwgc2kgbm9zIGxvIHJlbW92ZSBpbW1lZGlhdGVtZW50ZSwgbm9zIHBvdGUgcnVtcGVyIGFwcGxpY2F0aW9uZXMgYSBiYXNlIGRlIE9MIHF1ZSBkZXBlbmRlIGRlIGlsbG8uIEVyZ28gbm9zIGxvIGRlY2xhcmEgb2Jzb2xldGU7IGxlIHZlcmlmaWNhdGlvbiBkZSBtaW5ab29tTGV2ZWwgaW4gYmFzc28gZXNzZXJhIHJlbW92aXRlIGluIHZlcnNpb24gMy4wLiBQZXIgZmF2b3IgdXNhIGluIHN1IGxvY28gbGUgY29uZmlndXJhdGlvbiBkZSByZXNvbHV0aW9uZXMgbWluL21heCBjb21vIGRlc2NyaWJpdGUgYTogaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyIsCmNvbW1pdFN1Y2Nlc3M6IlRyYW5zYWN0aW9uIFdGUzogU1VDQ0VTU08gJHtyZXNwb25zZX0iLGNvbW1pdEZhaWxlZDoiVHJhbnNhY3Rpb24gV0ZTOiBGQUxMRVZBICR7cmVzcG9uc2V9Iixnb29nbGVXYXJuaW5nOiJMZSBzdHJhdG8gR29vZ2xlIG5vbiBwb3RldmEgZXNzZXIgY2FyZ2F0ZSBjb3JyZWN0ZW1lbnRlLjxicj48YnI+UHJvIGRpc2ZhY2VyIHRlIGRlIGlzdGUgbWVzc2FnZSwgc2VsaWdlIHVuIG5vdmUgQmFzZUxheWVyIGluIGxlIHNlbGVjdG9yIGRlIHN0cmF0byBpbiBhbHRvIGEgZGV4dHJhLjxicj48YnI+TXVsdG8gcHJvYmFiaWxlbWVudGUsIGlzdG8gZXMgcHJvcXVlIGxlIHNjcmlwdCBkZWwgbGlicmVyaWEgZGUgR29vZ2xlIE1hcHMgbm9uIGVzc2V2YSBpbmNsdWRpdGUgbyBub24gY29udGluZSBsZSBjbGF2ZSBBUEkgY29ycmVjdGUgcHJvIHR1IHNpdG8uPGJyPjxicj5EaXN2ZWxvcHBhdG9yZXM6IFBybyBhZGp1dGEgZGUgY29ycmlnZXIgaXN0bywgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9Hb29nbGUnIHRhcmdldD0nX2JsYW5rJz5jbGljY2EgaGljPC9hIiwKZ2V0TGF5ZXJXYXJuaW5nOiJMZSBzdHJhdG8gJHtsYXllclR5cGV9IG5vbiBwb3RldmEgZXNzZXIgY2FyZ2F0ZSBjb3JyZWN0ZW1lbnRlLjxicj48YnI+UHJvIGRpc2ZhY2VyIHRlIGRlIGlzdGUgbWVzc2FnZSwgc2VsaWdlIHVuIG5vdmUgQmFzZUxheWVyIGluIGxlIHNlbGVjdG9yIGRlIHN0cmF0byBpbiBhbHRvIGEgZGV4dHJhLjxicj48YnI+TXVsdG8gcHJvYmFiaWxlbWVudGUsIGlzdG8gZXMgcHJvcXVlIGxlIHNjcmlwdCBkZWwgbGlicmVyaWEgZGUgJHtsYXllckxpYn0gbm9uIGVzc2V2YSBjb3JyZWN0ZW1lbnRlIGluY2x1ZGl0ZS48YnI+PGJyPkRpc3ZlbG9wcGF0b3JlczogUHJvIGFkanV0YSBkZSBjb3JyaWdlciBpc3RvLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+Y2xpY2NhIGhpYzwvYT4iLCJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiU2NhbGEgPSAxIDogJHtzY2FsZURlbm9tfSIsClc6IlciLEU6IkUiLE46Ik4iLFM6IlMiLHJlcHJvamVjdERlcHJlY2F0ZWQ6IlR1IHVzYSBsZSBvcHRpb24gJ3JlcHJvamVjdCcgaW4gbGUgc3RyYXRvICR7bGF5ZXJOYW1lfSBsYXllci4gSXN0ZSBvcHRpb24gZXMgb2Jzb2xlc2NlbnRlOiBpbGxvIGVzc2V2YSBwcm8gcG90ZXIgbW9uc3RyYXIgZGF0b3Mgc3VwZXIgY2FydGFzIGRlIGJhc2UgY29tbWVyY2lhbCwgbWEgaXN0ZSBmdW5jdGlvbmFsaXRhdGUgcG90ZSBvcmEgZXNzZXIgYXR0aW5naXRlIGNvbiBsZSB1c28gZGUgU3BoZXJpY2FsIE1lcmNhdG9yLiBVbHRlcmlvciBpbmZvcm1hdGlvbiBlcyBkaXNwb25pYmlsZSBhIGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU3BoZXJpY2FsTWVyY2F0b3IuIixtZXRob2REZXByZWNhdGVkOiJJc3RlIG1ldGhvZG8gaGEgZXNzaXRlIGRlY2xhcmF0ZSBvYnNvbGVzY2VudGUgZSBlc3NlcmEgcmVtb3ZpdGUgaW4gdmVyc2lvbiAzLjAuIFBlciBmYXZvciB1c2EgJHtuZXdNZXRob2R9IGluIHN1IGxvY28uIn0pO09wZW5MYXllcnMuTGF5ZXIuV01TPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllci5HcmlkLHtERUZBVUxUX1BBUkFNUzp7c2VydmljZToiV01TIix2ZXJzaW9uOiIxLjEuMSIscmVxdWVzdDoiR2V0TWFwIixzdHlsZXM6IiIsZm9ybWF0OiJpbWFnZS9qcGVnIn0saXNCYXNlTGF5ZXI6ITAsZW5jb2RlQkJPWDohMSxub01hZ2ljOiExLHl4Ont9LGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9W10sYz1PcGVuTGF5ZXJzLlV0aWwudXBwZXJDYXNlT2JqZWN0KGMpOzEuMzw9cGFyc2VGbG9hdChjLlZFUlNJT04pJiYhYy5FWENFUFRJT05TJiYoYy5FWENFUFRJT05TPSJJTklNQUdFIik7ZS5wdXNoKGEsYixjLGQpO09wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGUpO09wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHRoaXMucGFyYW1zLE9wZW5MYXllcnMuVXRpbC51cHBlckNhc2VPYmplY3QodGhpcy5ERUZBVUxUX1BBUkFNUykpOwppZighdGhpcy5ub01hZ2ljJiZ0aGlzLnBhcmFtcy5UUkFOU1BBUkVOVCYmInRydWUiPT10aGlzLnBhcmFtcy5UUkFOU1BBUkVOVC50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkpe2lmKG51bGw9PWR8fCFkLmlzQmFzZUxheWVyKXRoaXMuaXNCYXNlTGF5ZXI9ITE7ImltYWdlL2pwZWciPT10aGlzLnBhcmFtcy5GT1JNQVQmJih0aGlzLnBhcmFtcy5GT1JNQVQ9T3BlbkxheWVycy5VdGlsLmFscGhhSGFjaygpPyJpbWFnZS9naWYiOiJpbWFnZS9wbmciKX19LGNsb25lOmZ1bmN0aW9uKGEpe251bGw9PWEmJihhPW5ldyBPcGVuTGF5ZXJzLkxheWVyLldNUyh0aGlzLm5hbWUsdGhpcy51cmwsdGhpcy5wYXJhbXMsdGhpcy5nZXRPcHRpb25zKCkpKTtyZXR1cm4gYT1PcGVuTGF5ZXJzLkxheWVyLkdyaWQucHJvdG90eXBlLmNsb25lLmFwcGx5KHRoaXMsW2FdKX0scmV2ZXJzZUF4aXNPcmRlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMucHJvamVjdGlvbi5nZXRDb2RlKCk7cmV0dXJuIDEuMzw9cGFyc2VGbG9hdCh0aGlzLnBhcmFtcy5WRVJTSU9OKSYmCiEhKHRoaXMueXhbYV18fE9wZW5MYXllcnMuUHJvamVjdGlvbi5kZWZhdWx0c1thXSYmT3BlbkxheWVycy5Qcm9qZWN0aW9uLmRlZmF1bHRzW2FdLnl4KX0sZ2V0VVJMOmZ1bmN0aW9uKGEpe3ZhciBhPXRoaXMuYWRqdXN0Qm91bmRzKGEpLGI9dGhpcy5nZXRJbWFnZVNpemUoYSksYz17fSxkPXRoaXMucmV2ZXJzZUF4aXNPcmRlcigpO2MuQkJPWD10aGlzLmVuY29kZUJCT1g/YS50b0JCT1gobnVsbCxkKTphLnRvQXJyYXkoZCk7Yy5XSURUSD1iLnc7Yy5IRUlHSFQ9Yi5oO3JldHVybiB0aGlzLmdldEZ1bGxSZXF1ZXN0U3RyaW5nKGMpfSxtZXJnZU5ld1BhcmFtczpmdW5jdGlvbihhKXthPVtPcGVuTGF5ZXJzLlV0aWwudXBwZXJDYXNlT2JqZWN0KGEpXTtyZXR1cm4gT3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5tZXJnZU5ld1BhcmFtcy5hcHBseSh0aGlzLGEpfSxnZXRGdWxsUmVxdWVzdFN0cmluZzpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSwKYz10aGlzLnByb2plY3Rpb24mJnRoaXMucHJvamVjdGlvbi5lcXVhbHMoYyk/dGhpcy5wcm9qZWN0aW9uLmdldENvZGUoKTpjLmdldENvZGUoKSxjPSJub25lIj09Yz9udWxsOmM7MS4zPD1wYXJzZUZsb2F0KHRoaXMucGFyYW1zLlZFUlNJT04pP3RoaXMucGFyYW1zLkNSUz1jOnRoaXMucGFyYW1zLlNSUz1jOyJib29sZWFuIj09dHlwZW9mIHRoaXMucGFyYW1zLlRSQU5TUEFSRU5UJiYoYS5UUkFOU1BBUkVOVD10aGlzLnBhcmFtcy5UUkFOU1BBUkVOVD8iVFJVRSI6IkZBTFNFIik7cmV0dXJuIE9wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUuZ2V0RnVsbFJlcXVlc3RTdHJpbmcuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLldNUyJ9KTtPcGVuTGF5ZXJzLkxheWVyLkthTWFwPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllci5HcmlkLHtpc0Jhc2VMYXllcjohMCxERUZBVUxUX1BBUkFNUzp7aToianBlZyIsbWFwOiIifSxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjLGQpe09wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5wYXJhbXM9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHModGhpcy5wYXJhbXMsdGhpcy5ERUZBVUxUX1BBUkFNUyl9LGdldFVSTDpmdW5jdGlvbihhKXt2YXIgYT10aGlzLmFkanVzdEJvdW5kcyhhKSxiPXRoaXMubWFwLmdldFJlc29sdXRpb24oKSxjPU1hdGgucm91bmQoMUU0KnRoaXMubWFwLmdldFNjYWxlKCkpLzFFNCxkPU1hdGgucm91bmQoYS5sZWZ0L2IpLGE9LU1hdGgucm91bmQoYS50b3AvYik7cmV0dXJuIHRoaXMuZ2V0RnVsbFJlcXVlc3RTdHJpbmcoe3Q6YSxsOmQsczpjfSl9LGNhbGN1bGF0ZUdyaWRMYXlvdXQ6ZnVuY3Rpb24oYSwKYixjKXtiPWMqdGhpcy50aWxlU2l6ZS53O2MqPXRoaXMudGlsZVNpemUuaDtyZXR1cm57dGlsZWxvbjpiLHRpbGVsYXQ6YyxzdGFydGNvbDpNYXRoLmZsb29yKGEubGVmdC9iKS10aGlzLmJ1ZmZlcixzdGFydHJvdzpNYXRoLmZsb29yKGEudG9wL2MpK3RoaXMuYnVmZmVyfX0sZ2V0VGlsZUJvdW5kc0ZvckdyaWRJbmRleDpmdW5jdGlvbihhLGIpe3RoaXMuZ2V0VGlsZU9yaWdpbigpO3ZhciBjPXRoaXMuZ3JpZExheW91dCxkPWMudGlsZWxvbixlPWMudGlsZWxhdCxmPShjLnN0YXJ0Y29sK2IpKmQsYz0oYy5zdGFydHJvdy1hKSplO3JldHVybiBuZXcgT3BlbkxheWVycy5Cb3VuZHMoZixjLGYrZCxjK2UpfSxjbG9uZTpmdW5jdGlvbihhKXtudWxsPT1hJiYoYT1uZXcgT3BlbkxheWVycy5MYXllci5LYU1hcCh0aGlzLm5hbWUsdGhpcy51cmwsdGhpcy5wYXJhbXMsdGhpcy5nZXRPcHRpb25zKCkpKTthPU9wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUuY2xvbmUuYXBwbHkodGhpcywKW2FdKTtudWxsIT10aGlzLnRpbGVTaXplJiYoYS50aWxlU2l6ZT10aGlzLnRpbGVTaXplLmNsb25lKCkpO2EuZ3JpZD1bXTtyZXR1cm4gYX0sZ2V0VGlsZUJvdW5kczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFJlc29sdXRpb24oKSxjPWIqdGhpcy50aWxlU2l6ZS53LGI9Yip0aGlzLnRpbGVTaXplLmgsZD10aGlzLmdldExvbkxhdEZyb21WaWV3UG9ydFB4KGEpLGE9YypNYXRoLmZsb29yKGQubG9uL2MpLGQ9YipNYXRoLmZsb29yKGQubGF0L2IpO3JldHVybiBuZXcgT3BlbkxheWVycy5Cb3VuZHMoYSxkLGErYyxkK2IpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLkthTWFwIn0pO09wZW5MYXllcnMuRm9ybWF0LldNQy52MV8xXzA9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5XTUMudjEse1ZFUlNJT046IjEuMS4wIixzY2hlbWFMb2NhdGlvbjoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9jb250ZXh0IGh0dHA6Ly9zY2hlbWFzLm9wZW5naXMubmV0L2NvbnRleHQvMS4xLjAvY29udGV4dC54c2QiLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Gb3JtYXQuV01DLnYxLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKX0scmVhZF9zbGRfTWluU2NhbGVEZW5vbWluYXRvcjpmdW5jdGlvbihhLGIpe3ZhciBjPXBhcnNlRmxvYXQodGhpcy5nZXRDaGlsZFZhbHVlKGIpKTswPGMmJihhLm1heFNjYWxlPWMpfSxyZWFkX3NsZF9NYXhTY2FsZURlbm9taW5hdG9yOmZ1bmN0aW9uKGEsYil7YS5taW5TY2FsZT1wYXJzZUZsb2F0KHRoaXMuZ2V0Q2hpbGRWYWx1ZShiKSl9LHJlYWRfd21jX1NSUzpmdW5jdGlvbihhLGIpeyJzcnMiaW4KYXx8KGEuc3JzPXt9KTthLnNyc1t0aGlzLmdldENoaWxkVmFsdWUoYildPSEwfSx3cml0ZV93bWNfTGF5ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9T3BlbkxheWVycy5Gb3JtYXQuV01DLnYxLnByb3RvdHlwZS53cml0ZV93bWNfTGF5ZXIuYXBwbHkodGhpcyxbYV0pO2lmKGEubWF4U2NhbGUpe3ZhciBjPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMubmFtZXNwYWNlcy5zbGQsInNsZDpNaW5TY2FsZURlbm9taW5hdG9yIik7Yy5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVRleHROb2RlKGEubWF4U2NhbGUudG9QcmVjaXNpb24oMTYpKSk7Yi5hcHBlbmRDaGlsZChjKX1hLm1pblNjYWxlJiYoYz10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLm5hbWVzcGFjZXMuc2xkLCJzbGQ6TWF4U2NhbGVEZW5vbWluYXRvciIpLGMuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVUZXh0Tm9kZShhLm1pblNjYWxlLnRvUHJlY2lzaW9uKDE2KSkpLGIuYXBwZW5kQ2hpbGQoYykpO2lmKGEuc3JzKWZvcih2YXIgZCBpbiBhLnNycyliLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiU1JTIiwKZCkpO2IuYXBwZW5kQ2hpbGQodGhpcy53cml0ZV93bWNfRm9ybWF0TGlzdChhKSk7Yi5hcHBlbmRDaGlsZCh0aGlzLndyaXRlX3dtY19TdHlsZUxpc3QoYSkpO2EuZGltZW5zaW9ucyYmYi5hcHBlbmRDaGlsZCh0aGlzLndyaXRlX3dtY19EaW1lbnNpb25MaXN0KGEpKTtiLmFwcGVuZENoaWxkKHRoaXMud3JpdGVfd21jX0xheWVyRXh0ZW5zaW9uKGEpKTtyZXR1cm4gYn0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuV01DLnYxXzFfMCJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5YTFM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwuVmVyc2lvbmVkT0dDLHtkZWZhdWx0VmVyc2lvbjoiMS4xLjAiLHN0cmluZ2lmeU91dHB1dDohMCxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5YTFMifSk7T3BlbkxheWVycy5Gb3JtYXQuWExTLnYxPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuWE1MLHtuYW1lc3BhY2VzOnt4bHM6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQveGxzIixnbWw6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sIix4c2k6Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIn0scmVnRXhlczp7dHJpbVNwYWNlOi9eXHMqfFxzKiQvZyxyZW1vdmVTcGFjZTovXHMqL2csc3BsaXRTcGFjZTovXHMrLyx0cmltQ29tbWE6L1xzKixccyovZ30seHk6ITAsZGVmYXVsdFByZWZpeDoieGxzIixzY2hlbWFMb2NhdGlvbjpudWxsLHJlYWQ6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhiLHRoaXMub3B0aW9ucyk7dmFyIGM9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO3JldHVybiBjfSxyZWFkZXJzOnt4bHM6e1hMUzpmdW5jdGlvbihhLGIpe2IudmVyc2lvbj1hLmdldEF0dHJpYnV0ZSgidmVyc2lvbiIpOwp0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LFJlc3BvbnNlOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxHZW9jb2RlUmVzcG9uc2U6ZnVuY3Rpb24oYSxiKXtiLnJlc3BvbnNlTGlzdHM9W107dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxHZW9jb2RlUmVzcG9uc2VMaXN0OmZ1bmN0aW9uKGEsYil7dmFyIGM9e2ZlYXR1cmVzOltdLG51bWJlck9mR2VvY29kZWRBZGRyZXNzZXM6cGFyc2VJbnQoYS5nZXRBdHRyaWJ1dGUoIm51bWJlck9mR2VvY29kZWRBZGRyZXNzZXMiKSl9O2IucmVzcG9uc2VMaXN0cy5wdXNoKGMpO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKX0sR2VvY29kZWRBZGRyZXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3I7Yi5mZWF0dXJlcy5wdXNoKGMpO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtjLmdlb21ldHJ5PWMuY29tcG9uZW50c1swXX0sR2VvY29kZU1hdGNoQ29kZTpmdW5jdGlvbihhLGIpe2IuYXR0cmlidXRlcy5tYXRjaENvZGU9CnthY2N1cmFjeTpwYXJzZUZsb2F0KGEuZ2V0QXR0cmlidXRlKCJhY2N1cmFjeSIpKSxtYXRjaFR5cGU6YS5nZXRBdHRyaWJ1dGUoIm1hdGNoVHlwZSIpfX0sQWRkcmVzczpmdW5jdGlvbihhLGIpe3ZhciBjPXtjb3VudHJ5Q29kZTphLmdldEF0dHJpYnV0ZSgiY291bnRyeUNvZGUiKSxhZGRyZXNzZWU6YS5nZXRBdHRyaWJ1dGUoImFkZHJlc3NlZSIpLHN0cmVldDpbXSxwbGFjZTpbXX07Yi5hdHRyaWJ1dGVzLmFkZHJlc3M9Yzt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyl9LGZyZWVGb3JtQWRkcmVzczpmdW5jdGlvbihhLGIpe2IuZnJlZUZvcm1BZGRyZXNzPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sU3RyZWV0QWRkcmVzczpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sQnVpbGRpbmc6ZnVuY3Rpb24oYSxiKXtiLmJ1aWxkaW5nPXtudW1iZXI6YS5nZXRBdHRyaWJ1dGUoIm51bWJlciIpLHN1YmRpdmlzaW9uOmEuZ2V0QXR0cmlidXRlKCJzdWJkaXZpc2lvbiIpLApidWlsZGluZ05hbWU6YS5nZXRBdHRyaWJ1dGUoImJ1aWxkaW5nTmFtZSIpfX0sU3RyZWV0OmZ1bmN0aW9uKGEsYil7Yi5zdHJlZXQucHVzaCh0aGlzLmdldENoaWxkVmFsdWUoYSkpfSxQbGFjZTpmdW5jdGlvbihhLGIpe2IucGxhY2VbYS5nZXRBdHRyaWJ1dGUoInR5cGUiKV09dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxQb3N0YWxDb2RlOmZ1bmN0aW9uKGEsYil7Yi5wb3N0YWxDb2RlPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX19LGdtbDpPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjMucHJvdG90eXBlLnJlYWRlcnMuZ21sfSx3cml0ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy53cml0ZXJzLnhscy5YTFMuYXBwbHkodGhpcyxbYV0pfSx3cml0ZXJzOnt4bHM6e1hMUzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInhsczpYTFMiLHthdHRyaWJ1dGVzOnt2ZXJzaW9uOnRoaXMuVkVSU0lPTiwieHNpOnNjaGVtYUxvY2F0aW9uIjp0aGlzLnNjaGVtYUxvY2F0aW9ufX0pOwp0aGlzLndyaXRlTm9kZSgiUmVxdWVzdEhlYWRlciIsYS5oZWFkZXIsYik7dGhpcy53cml0ZU5vZGUoIlJlcXVlc3QiLGEsYik7cmV0dXJuIGJ9LFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ4bHM6UmVxdWVzdEhlYWRlciIpfSxSZXF1ZXN0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygieGxzOlJlcXVlc3QiLHthdHRyaWJ1dGVzOnttZXRob2ROYW1lOiJHZW9jb2RlUmVxdWVzdCIscmVxdWVzdElEOmEucmVxdWVzdElEfHwiIix2ZXJzaW9uOnRoaXMuVkVSU0lPTn19KTt0aGlzLndyaXRlTm9kZSgiR2VvY29kZVJlcXVlc3QiLGEuYWRkcmVzc2VzLGIpO3JldHVybiBifSxHZW9jb2RlUmVxdWVzdDpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ4bHM6R2VvY29kZVJlcXVlc3QiKSxjPTAsZD1hLmxlbmd0aDtjPGQ7YysrKXRoaXMud3JpdGVOb2RlKCJBZGRyZXNzIiwKYVtjXSxiKTtyZXR1cm4gYn0sQWRkcmVzczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInhsczpBZGRyZXNzIix7YXR0cmlidXRlczp7Y291bnRyeUNvZGU6YS5jb3VudHJ5Q29kZX19KTthLmZyZWVGb3JtQWRkcmVzcz90aGlzLndyaXRlTm9kZSgiZnJlZUZvcm1BZGRyZXNzIixhLmZyZWVGb3JtQWRkcmVzcyxiKTooYS5zdHJlZXQmJnRoaXMud3JpdGVOb2RlKCJTdHJlZXRBZGRyZXNzIixhLGIpLGEubXVuaWNpcGFsaXR5JiZ0aGlzLndyaXRlTm9kZSgiTXVuaWNpcGFsaXR5IixhLm11bmljaXBhbGl0eSxiKSxhLmNvdW50cnlTdWJkaXZpc2lvbiYmdGhpcy53cml0ZU5vZGUoIkNvdW50cnlTdWJkaXZpc2lvbiIsYS5jb3VudHJ5U3ViZGl2aXNpb24sYiksYS5wb3N0YWxDb2RlJiZ0aGlzLndyaXRlTm9kZSgiUG9zdGFsQ29kZSIsYS5wb3N0YWxDb2RlLGIpKTtyZXR1cm4gYn0sZnJlZUZvcm1BZGRyZXNzOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImZyZWVGb3JtQWRkcmVzcyIsCnt2YWx1ZTphfSl9LFN0cmVldEFkZHJlc3M6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ4bHM6U3RyZWV0QWRkcmVzcyIpO2EuYnVpbGRpbmcmJnRoaXMud3JpdGVOb2RlKGIsIkJ1aWxkaW5nIixhLmJ1aWxkaW5nKTthPWEuc3RyZWV0O09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEpfHwoYT1bYV0pO2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKyl0aGlzLndyaXRlTm9kZSgiU3RyZWV0IixhW2NdLGIpO3JldHVybiBifSxCdWlsZGluZzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ4bHM6QnVpbGRpbmciLHthdHRyaWJ1dGVzOntudW1iZXI6YS5udW1iZXIsc3ViZGl2aXNpb246YS5zdWJkaXZpc2lvbixidWlsZGluZ05hbWU6YS5idWlsZGluZ05hbWV9fSl9LFN0cmVldDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ4bHM6U3RyZWV0Iix7dmFsdWU6YX0pfSxNdW5pY2lwYWxpdHk6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygieGxzOlBsYWNlIiwKe2F0dHJpYnV0ZXM6e3R5cGU6Ik11bmljaXBhbGl0eSJ9LHZhbHVlOmF9KX0sQ291bnRyeVN1YmRpdmlzaW9uOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInhsczpQbGFjZSIse2F0dHJpYnV0ZXM6e3R5cGU6IkNvdW50cnlTdWJkaXZpc2lvbiJ9LHZhbHVlOmF9KX0sUG9zdGFsQ29kZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ4bHM6UG9zdGFsQ29kZSIse3ZhbHVlOmF9KX19fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5YTFMudjEifSk7T3BlbkxheWVycy5Gb3JtYXQuWExTLnYxXzFfMD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhMUy52MSx7VkVSU0lPTjoiMS4xIixzY2hlbWFMb2NhdGlvbjoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC94bHMgaHR0cDovL3NjaGVtYXMub3Blbmdpcy5uZXQvb2xzLzEuMS4wL0xvY2F0aW9uVXRpbGl0eVNlcnZpY2UueHNkIixDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5YTFMudjFfMV8wIn0pO09wZW5MYXllcnMuRm9ybWF0LlhMUy52MV8xPU9wZW5MYXllcnMuRm9ybWF0LlhMUy52MV8xXzA7T3BlbkxheWVycy5MYW5nLnNrPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHt1bmhhbmRsZWRSZXF1ZXN0OiJOZW9ic2xcdTAwZmFcdTAxN2Vlblx1MDBlOSBwb1x1MDE3ZWlhZGF2a3kgdnJhY2FqXHUwMGZhICR7c3RhdHVzVGV4dH0iLFBlcm1hbGluazoiVHJ2YWxcdTAwZmQgb2RrYXoiLE92ZXJsYXlzOiJQcmVrcnl0aWEiLCJCYXNlIExheWVyIjoiWlx1MDBlMWtsYWRuXHUwMGUxIHZyc3R2YSIsbm9GSUQ6Ik5pZSBqZSBtb1x1MDE3ZW5cdTAwZTkgYWt0dWFsaXpvdmFcdTAxNjUgdmxhc3Rub3NcdTAxNjUsIHByZSBrdG9yXHUwMGZhIG5lZXhpc3R1amUgRklELiIsYnJvd3Nlck5vdFN1cHBvcnRlZDoiVlx1MDBlMVx1MDE2MSBwcmVobGlhZGFcdTAxMGQgbmVwb2Rwb3J1amUgdnlrcmVzXHUwMTNlb3ZhbmllIHZla3Rvcm92LiBNb21lbnRcdTAwZTFsbmUgcG9kcG9yb3Zhblx1MDBlOSB2eWtyZXNcdTAxM2VvdmFcdTAxMGRlIHNcdTAwZmE6XG4ke3JlbmRlcmVyc30iLG1pblpvb21MZXZlbEVycm9yOiJWbGFzdG5vc1x1MDE2NSBtaW5ab29tTGV2ZWwgamUgdXJcdTAxMGRlblx1MDBmZCBpYmEgbmEgcG91XHUwMTdlaXRpZSBzIHZyc3R2YW1pIG9kdm9kZW5cdTAwZmRtaSBvZCBGaXhlZFpvb21MZXZlbHMuIFRvLCBcdTAxN2VlIHRcdTAwZTF0byB3ZnMgdnJzdHZhIGtvbnRyb2x1amUgbWluWm9vbUxldmVsIGplIHBvem9zdGF0b2sgeiBtaW51bG9zdGkuIE5lbVx1MDBmNFx1MDE3ZWVtZSBobyB2XHUwMTYxYWsgb2RzdHJcdTAwZTFuaVx1MDE2NSwgYWJ5IHNtZSBzYSB2eWhsaSBtb1x1MDE3ZW5cdTAwZTltdSBwb3J1XHUwMTYxZW5pdSBhcGxpa1x1MDBlMWNpXHUwMGVkIHphbG9cdTAxN2Vlblx1MDBmZGNoIG5hIE9wZW4gTGF5ZXJzLCBrdG9yXHUwMGU5IG5hIHRvbXRvIG1cdTAwZjRcdTAxN2VlIHpcdTAwZTF2aXNpZVx1MDE2NS4gUHJldG8gaG8gb3puYVx1MDEwZHVqZW1lIGFrbyB6YXZyaG92YW5cdTAwZmQgLSBkb2x1IHV2ZWRlblx1MDBlMSBrb250cm9sYSBtaW5ab29tTGV2ZWwgYnVkZSBvZHN0clx1MDBlMW5lblx1MDBlMSB2byB2ZXJ6aWkgMy4wLiBQb3VcdTAxN2VpdGUgcHJvc1x1MDBlZG0gbmFtaWVzdG8gdG9obyBrb250cm9sdSBtaW4uL21heC4gcm96bFx1MDBlZFx1MDE2MWVuaWEgcG9kXHUwMTNlYSB0dSB1dmVkZW5cdTAwZTlobyBwb3Bpc3U6IGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU2V0dGluZ1pvb21MZXZlbHMiLApjb21taXRTdWNjZXNzOiJUcmFuc2FrY2lhIFdGUzogXHUwMGRhU1BFXHUwMTYwTlx1MDBjMSAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJUcmFuc2FrY2lhIFdGUzogWkxZSEFMQSAke3Jlc3BvbnNlfSIsZ29vZ2xlV2FybmluZzoiVnJzdHZ1IEdvb2dsZSBuZWJvbG8gbW9cdTAxN2VuXHUwMGU5IHNwclx1MDBlMXZuZSBuYVx1MDEwZFx1MDBlZHRhXHUwMTY1Ljxicj48YnI+QWJ5IHN0ZSBzYSB0ZWp0byBzcHJcdTAwZTF2eSB6YmF2aWxpIHZ5YmVydGUgbm92XHUwMGZhIEJhc2VMYXllciB2IHByZXBcdTAwZWRuYVx1MDEwZGkgdnJzdGlldiB2IHByYXZvbSBob3Jub20gcm9odS48YnI+PGJyPlRvdG8gc2Egc3RhbG8gcHJhdmRlcG9kb2JuZSBwcmV0bywgXHUwMTdlZSBza3JpcHQga25pXHUwMTdlbmljZSBHb29nbGUgTWFwcyBidVx1MDEwZiBuZWJvbCBuYVx1MDEwZFx1MDBlZHRhblx1MDBmZCBhbGVibyBuZW9ic2FodWplIHNwclx1MDBlMXZueSBrXHUwMTNlXHUwMGZhXHUwMTBkIEFQSSBwcmUgdmFcdTAxNjF1IGxva2FsaXR1Ljxicj48YnI+Vlx1MDBmZHZvalx1MDBlMXJpOiBUdSBtXHUwMGY0XHUwMTdlZXRlIHpcdTAwZWRza2FcdTAxNjUgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9Hb29nbGUnIHRhcmdldD0nX2JsYW5rJz5wb21vYyBzbyBzZnVua1x1MDEwZG5lblx1MDBlZG08L2E+IiwKZ2V0TGF5ZXJXYXJuaW5nOiJWcnN0dnUgJHtsYXllclR5cGV9IG5lYm9sbyBtb1x1MDE3ZW5cdTAwZTkgc3ByXHUwMGUxdm5lIG5hXHUwMTBkXHUwMGVkdGFcdTAxNjUuPGJyPjxicj5BYnkgc3RlIHNhIHRlanRvIHNwclx1MDBlMXZ5IHpiYXZpbGkgdnliZXJ0ZSBub3ZcdTAwZmEgQmFzZUxheWVyIHYgcHJlcFx1MDBlZG5hXHUwMTBkaSB2cnN0aWV2IHYgcHJhdm9tIGhvcm5vbSByb2h1Ljxicj48YnI+VG90byBzYSBzdGFsbyBwcmF2ZGVwb2RvYm5lIHByZXRvLCBcdTAxN2VlIHNrcmlwdCBrbmlcdTAxN2VuaWNlICR7bGF5ZXJUeXBlfSBidVx1MDEwZiBuZWJvbCBuYVx1MDEwZFx1MDBlZHRhblx1MDBmZCBhbGVibyBuZW9ic2FodWplIHNwclx1MDBlMXZueSBrXHUwMTNlXHUwMGZhXHUwMTBkIEFQSSBwcmUgdmFcdTAxNjF1IGxva2FsaXR1Ljxicj48YnI+Vlx1MDBmZHZvalx1MDBlMXJpOiBUdSBtXHUwMGY0XHUwMTdlZXRlIHpcdTAwZWRza2FcdTAxNjUgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS8ke2xheWVyVHlwZX0nIHRhcmdldD0nX2JsYW5rJz5wb21vYyBzbyBzZnVua1x1MDEwZG5lblx1MDBlZG08L2E+IiwKIlNjYWxlID0gMSA6ICR7c2NhbGVEZW5vbX0iOiJNaWVya2EgPSAxIDogJHtzY2FsZURlbm9tfSIscmVwcm9qZWN0RGVwcmVjYXRlZDoiUG91XHUwMTdlXHUwMGVkdmF0ZSB2b1x1MDEzZWJ5IFx1MjAxZXJlcHJvamVjdFx1MjAxYyB2cnN0dnkgJHtsYXllclR5cGV9LiBUXHUwMGUxdG8gdm9cdTAxM2ViYSBqZSB6emF2cmhvdmFuXHUwMGUxOiBqZWogcG91XHUwMTdlaXRpZSBib2xvIG5hdnJobnV0XHUwMGU5IG5hIHBvZHBvcnUgem9icmF6b3ZhbmlhIFx1MDBmYWRham92IG5hZCBrb21lclx1MDEwZG5cdTAwZmRtaSB6XHUwMGUxa2xhZG92XHUwMGZkbWkgbWFwYW1pLCBhbGUgdFx1MDBmYXRvIGZ1bmtjaW9uYWxpdHUgamUgdGVyYXogbW9cdTAxN2VuXHUwMGU5IGRvc2lhaG51XHUwMTY1IHBvbW9jb3UgU3BoZXJpY2FsIE1lcmNhdG9yLiBcdTAxMGVhbFx1MDE2MWllIGluZm9ybVx1MDBlMWNpZSB6XHUwMGVkc2thdGUgbmEgc3RyXHUwMGUxbmtlIGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU3BoZXJpY2FsTWVyY2F0b3IuIiwKbWV0aG9kRGVwcmVjYXRlZDoiVFx1MDBlMXRvIG1ldFx1MDBmM2RhIGplIHphdnJob3Zhblx1MDBlMSBhIGJ1ZGUgb2RzdHJcdTAwZTFuZW5cdTAwZTEgdm8gdmVyemlpIDMuMC4gUG91XHUwMTdlaXRlIHByb3NcdTAwZWRtIG5hbWllc3RvIG5laiBtZXRcdTAwZjNkdSAke25ld01ldGhvZH0uIn0pO09wZW5MYXllcnMuUmVuZGVyZXIuU1ZHPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5SZW5kZXJlci5FbGVtZW50cyx7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix4bGlua25zOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIixNQVhfUElYRUw6MTVFMyx0cmFuc2xhdGlvblBhcmFtZXRlcnM6bnVsbCxzeW1ib2xNZXRyaWNzOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXt0aGlzLnN1cHBvcnRlZCgpJiYoT3BlbkxheWVycy5SZW5kZXJlci5FbGVtZW50cy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy50cmFuc2xhdGlvblBhcmFtZXRlcnM9e3g6MCx5OjB9LHRoaXMuc3ltYm9sTWV0cmljcz17fSl9LHN1cHBvcnRlZDpmdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbiYmKGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUoIm9yZy53M2Muc3ZnIiwiMS4wIil8fGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUoImh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjU1ZHIiwKIjEuMSIpfHxkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlKCJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0Jhc2ljU3RydWN0dXJlIiwiMS4xIikpfSxpblZhbGlkUmFuZ2U6ZnVuY3Rpb24oYSxiLGMpe2ErPWM/MDp0aGlzLnRyYW5zbGF0aW9uUGFyYW1ldGVycy54O2IrPWM/MDp0aGlzLnRyYW5zbGF0aW9uUGFyYW1ldGVycy55O3JldHVybiBhPj0tdGhpcy5NQVhfUElYRUwmJmE8PXRoaXMuTUFYX1BJWEVMJiZiPj0tdGhpcy5NQVhfUElYRUwmJmI8PXRoaXMuTUFYX1BJWEVMfSxzZXRFeHRlbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1PcGVuTGF5ZXJzLlJlbmRlcmVyLkVsZW1lbnRzLnByb3RvdHlwZS5zZXRFeHRlbnQuYXBwbHkodGhpcyxhcmd1bWVudHMpLGQ9dGhpcy5nZXRSZXNvbHV0aW9uKCksZT0tYS5sZWZ0L2QsZD1hLnRvcC9kO2lmKGIpcmV0dXJuIHRoaXMubGVmdD1lLHRoaXMudG9wPWQsdGhpcy5yZW5kZXJlclJvb3Quc2V0QXR0cmlidXRlTlMobnVsbCwKInZpZXdCb3giLCIwIDAgIit0aGlzLnNpemUudysiICIrdGhpcy5zaXplLmgpLHRoaXMudHJhbnNsYXRlKHRoaXMueE9mZnNldCwwKSwhMDsoZT10aGlzLnRyYW5zbGF0ZShlLXRoaXMubGVmdCt0aGlzLnhPZmZzZXQsZC10aGlzLnRvcCkpfHx0aGlzLnNldEV4dGVudChhLCEwKTtyZXR1cm4gYyYmZX0sdHJhbnNsYXRlOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5pblZhbGlkUmFuZ2UoYSxiLCEwKSl7dmFyIGM9IiI7aWYoYXx8YiljPSJ0cmFuc2xhdGUoIithKyIsIitiKyIpIjt0aGlzLnJvb3Quc2V0QXR0cmlidXRlTlMobnVsbCwidHJhbnNmb3JtIixjKTt0aGlzLnRyYW5zbGF0aW9uUGFyYW1ldGVycz17eDphLHk6Yn07cmV0dXJuITB9cmV0dXJuITF9LHNldFNpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5SZW5kZXJlci5wcm90b3R5cGUuc2V0U2l6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5yZW5kZXJlclJvb3Quc2V0QXR0cmlidXRlTlMobnVsbCwid2lkdGgiLHRoaXMuc2l6ZS53KTsKdGhpcy5yZW5kZXJlclJvb3Quc2V0QXR0cmlidXRlTlMobnVsbCwiaGVpZ2h0Iix0aGlzLnNpemUuaCl9LGdldE5vZGVUeXBlOmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtzd2l0Y2goYS5DTEFTU19OQU1FKXtjYXNlICJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50IjpjPWIuZXh0ZXJuYWxHcmFwaGljPyJpbWFnZSI6dGhpcy5pc0NvbXBsZXhTeW1ib2woYi5ncmFwaGljTmFtZSk/InN2ZyI6ImNpcmNsZSI7YnJlYWs7Y2FzZSAiT3BlbkxheWVycy5HZW9tZXRyeS5SZWN0YW5nbGUiOmM9InJlY3QiO2JyZWFrO2Nhc2UgIk9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZyI6Yz0icG9seWxpbmUiO2JyZWFrO2Nhc2UgIk9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyI6Yz0icG9seWdvbiI7YnJlYWs7Y2FzZSAiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uIjpjYXNlICJPcGVuTGF5ZXJzLkdlb21ldHJ5LkN1cnZlIjpjPSJwYXRoIn1yZXR1cm4gY30sc2V0U3R5bGU6ZnVuY3Rpb24oYSwKYixjKXt2YXIgYj1ifHxhLl9zdHlsZSxjPWN8fGEuX29wdGlvbnMsZD1iLnRpdGxlfHxiLmdyYXBoaWNUaXRsZTtpZihkKXthLnNldEF0dHJpYnV0ZU5TKG51bGwsInRpdGxlIixkKTt2YXIgZT1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0aXRsZSIpOzA8ZS5sZW5ndGg/ZVswXS5maXJzdENoaWxkLnRleHRDb250ZW50PWQ6KGU9dGhpcy5ub2RlRmFjdG9yeShudWxsLCJ0aXRsZSIpLGUudGV4dENvbnRlbnQ9ZCxhLmFwcGVuZENoaWxkKGUpKX12YXIgZT1wYXJzZUZsb2F0KGEuZ2V0QXR0cmlidXRlTlMobnVsbCwiciIpKSxkPTEsZjtpZigiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCI9PWEuX2dlb21ldHJ5Q2xhc3MmJmUpe2Euc3R5bGUudmlzaWJpbGl0eT0iIjtpZighMT09PWIuZ3JhcGhpYylhLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiI7ZWxzZSBpZihiLmV4dGVybmFsR3JhcGhpYyl7Zj10aGlzLmdldFBvc2l0aW9uKGEpO2IuZ3JhcGhpY1dpZHRoJiZiLmdyYXBoaWNIZWlnaHQmJgphLnNldEF0dHJpYnV0ZU5TKG51bGwsInByZXNlcnZlQXNwZWN0UmF0aW8iLCJub25lIik7dmFyIGU9Yi5ncmFwaGljV2lkdGh8fGIuZ3JhcGhpY0hlaWdodCxnPWIuZ3JhcGhpY0hlaWdodHx8Yi5ncmFwaGljV2lkdGgsZT1lP2U6MipiLnBvaW50UmFkaXVzLGc9Zz9nOjIqYi5wb2ludFJhZGl1cyxoPXZvaWQgMCE9Yi5ncmFwaGljWU9mZnNldD9iLmdyYXBoaWNZT2Zmc2V0Oi0oMC41KmcpLGk9Yi5ncmFwaGljT3BhY2l0eXx8Yi5maWxsT3BhY2l0eTthLnNldEF0dHJpYnV0ZU5TKG51bGwsIngiLChmLngrKHZvaWQgMCE9Yi5ncmFwaGljWE9mZnNldD9iLmdyYXBoaWNYT2Zmc2V0Oi0oMC41KmUpKSkudG9GaXhlZCgpKTthLnNldEF0dHJpYnV0ZU5TKG51bGwsInkiLChmLnkraCkudG9GaXhlZCgpKTthLnNldEF0dHJpYnV0ZU5TKG51bGwsIndpZHRoIixlKTthLnNldEF0dHJpYnV0ZU5TKG51bGwsImhlaWdodCIsZyk7YS5zZXRBdHRyaWJ1dGVOUyh0aGlzLnhsaW5rbnMsInhsaW5rOmhyZWYiLApiLmV4dGVybmFsR3JhcGhpYyk7YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJzdHlsZSIsIm9wYWNpdHk6ICIraSk7YS5vbmNsaWNrPU9wZW5MYXllcnMuRXZlbnQucHJldmVudERlZmF1bHR9ZWxzZSBpZih0aGlzLmlzQ29tcGxleFN5bWJvbChiLmdyYXBoaWNOYW1lKSl7dmFyIGU9MypiLnBvaW50UmFkaXVzLGc9MiplLGo9dGhpcy5pbXBvcnRTeW1ib2woYi5ncmFwaGljTmFtZSk7Zj10aGlzLmdldFBvc2l0aW9uKGEpO2Q9Myp0aGlzLnN5bWJvbE1ldHJpY3Nbai5pZF1bMF0vZztoPWEucGFyZW50Tm9kZTtpPWEubmV4dFNpYmxpbmc7aCYmaC5yZW1vdmVDaGlsZChhKTthLmZpcnN0Q2hpbGQmJmEucmVtb3ZlQ2hpbGQoYS5maXJzdENoaWxkKTthLmFwcGVuZENoaWxkKGouZmlyc3RDaGlsZC5jbG9uZU5vZGUoITApKTthLnNldEF0dHJpYnV0ZU5TKG51bGwsInZpZXdCb3giLGouZ2V0QXR0cmlidXRlTlMobnVsbCwidmlld0JveCIpKTthLnNldEF0dHJpYnV0ZU5TKG51bGwsIndpZHRoIiwKZyk7YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJoZWlnaHQiLGcpO2Euc2V0QXR0cmlidXRlTlMobnVsbCwieCIsZi54LWUpO2Euc2V0QXR0cmlidXRlTlMobnVsbCwieSIsZi55LWUpO2k/aC5pbnNlcnRCZWZvcmUoYSxpKTpoJiZoLmFwcGVuZENoaWxkKGEpfWVsc2UgYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJyIixiLnBvaW50UmFkaXVzKTtlPWIucm90YXRpb247aWYoKHZvaWQgMCE9PWV8fHZvaWQgMCE9PWEuX3JvdGF0aW9uKSYmZilhLl9yb3RhdGlvbj1lLGV8PTAsInN2ZyIhPT1hLm5vZGVOYW1lP2Euc2V0QXR0cmlidXRlTlMobnVsbCwidHJhbnNmb3JtIiwicm90YXRlKCIrZSsiICIrZi54KyIgIitmLnkrIikiKTooZj10aGlzLnN5bWJvbE1ldHJpY3Nbai5pZF0sYS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZU5TKG51bGwsInRyYW5zZm9ybSIsInJvdGF0ZSgiK2UrIiAiK2ZbMV0rIiAiK2ZbMl0rIikiKSl9Yy5pc0ZpbGxlZD8oYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmaWxsIixiLmZpbGxDb2xvciksCmEuc2V0QXR0cmlidXRlTlMobnVsbCwiZmlsbC1vcGFjaXR5IixiLmZpbGxPcGFjaXR5KSk6YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmaWxsIiwibm9uZSIpO2MuaXNTdHJva2VkPyhhLnNldEF0dHJpYnV0ZU5TKG51bGwsInN0cm9rZSIsYi5zdHJva2VDb2xvciksYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJzdHJva2Utb3BhY2l0eSIsYi5zdHJva2VPcGFjaXR5KSxhLnNldEF0dHJpYnV0ZU5TKG51bGwsInN0cm9rZS13aWR0aCIsYi5zdHJva2VXaWR0aCpkKSxhLnNldEF0dHJpYnV0ZU5TKG51bGwsInN0cm9rZS1saW5lY2FwIixiLnN0cm9rZUxpbmVjYXB8fCJyb3VuZCIpLGEuc2V0QXR0cmlidXRlTlMobnVsbCwic3Ryb2tlLWxpbmVqb2luIiwicm91bmQiKSxiLnN0cm9rZURhc2hzdHlsZSYmYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJzdHJva2UtZGFzaGFycmF5Iix0aGlzLmRhc2hTdHlsZShiLGQpKSk6YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJzdHJva2UiLCJub25lIik7Yi5wb2ludGVyRXZlbnRzJiYKYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJwb2ludGVyLWV2ZW50cyIsYi5wb2ludGVyRXZlbnRzKTtudWxsIT1iLmN1cnNvciYmYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJjdXJzb3IiLGIuY3Vyc29yKTtyZXR1cm4gYX0sZGFzaFN0eWxlOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5zdHJva2VXaWR0aCpiLGQ9YS5zdHJva2VEYXNoc3R5bGU7c3dpdGNoKGQpe2Nhc2UgInNvbGlkIjpyZXR1cm4ibm9uZSI7Y2FzZSAiZG90IjpyZXR1cm5bMSw0KmNdLmpvaW4oKTtjYXNlICJkYXNoIjpyZXR1cm5bNCpjLDQqY10uam9pbigpO2Nhc2UgImRhc2hkb3QiOnJldHVybls0KmMsNCpjLDEsNCpjXS5qb2luKCk7Y2FzZSAibG9uZ2Rhc2giOnJldHVybls4KmMsNCpjXS5qb2luKCk7Y2FzZSAibG9uZ2Rhc2hkb3QiOnJldHVybls4KmMsNCpjLDEsNCpjXS5qb2luKCk7ZGVmYXVsdDpyZXR1cm4gT3BlbkxheWVycy5TdHJpbmcudHJpbShkKS5yZXBsYWNlKC9ccysvZywiLCIpfX0sY3JlYXRlTm9kZTpmdW5jdGlvbihhLApiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlModGhpcy54bWxucyxhKTtiJiZjLnNldEF0dHJpYnV0ZU5TKG51bGwsImlkIixiKTtyZXR1cm4gY30sbm9kZVR5cGVDb21wYXJlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI9PWEubm9kZU5hbWV9LGNyZWF0ZVJlbmRlclJvb3Q6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm5vZGVGYWN0b3J5KHRoaXMuY29udGFpbmVyLmlkKyJfc3ZnUm9vdCIsInN2ZyIpO2Euc3R5bGUuZGlzcGxheT0iYmxvY2siO3JldHVybiBhfSxjcmVhdGVSb290OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm5vZGVGYWN0b3J5KHRoaXMuY29udGFpbmVyLmlkK2EsImciKX0sY3JlYXRlRGVmczpmdW5jdGlvbigpe3ZhciBhPXRoaXMubm9kZUZhY3RvcnkodGhpcy5jb250YWluZXIuaWQrIl9kZWZzIiwiZGVmcyIpO3RoaXMucmVuZGVyZXJSb290LmFwcGVuZENoaWxkKGEpO3JldHVybiBhfSxkcmF3UG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5kcmF3Q2lyY2xlKGEsCmIsMSl9LGRyYXdDaXJjbGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZ2V0UmVzb2x1dGlvbigpLGU9KGIueC10aGlzLmZlYXR1cmVEeCkvZCt0aGlzLmxlZnQsYj10aGlzLnRvcC1iLnkvZDtyZXR1cm4gdGhpcy5pblZhbGlkUmFuZ2UoZSxiKT8oYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJjeCIsZSksYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJjeSIsYiksYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJyIixjKSxhKTohMX0sZHJhd0xpbmVTdHJpbmc6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENvbXBvbmVudHNTdHJpbmcoYi5jb21wb25lbnRzKTtyZXR1cm4gYy5wYXRoPyhhLnNldEF0dHJpYnV0ZU5TKG51bGwsInBvaW50cyIsYy5wYXRoKSxjLmNvbXBsZXRlP2E6bnVsbCk6ITF9LGRyYXdMaW5lYXJSaW5nOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDb21wb25lbnRzU3RyaW5nKGIuY29tcG9uZW50cyk7cmV0dXJuIGMucGF0aD8oYS5zZXRBdHRyaWJ1dGVOUyhudWxsLAoicG9pbnRzIixjLnBhdGgpLGMuY29tcGxldGU/YTpudWxsKTohMX0sZHJhd1BvbHlnb246ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9IiIsZD0hMCxlPSEwLGYsZyxoPTAsaT1iLmNvbXBvbmVudHMubGVuZ3RoO2g8aTtoKyspYys9IiBNIixmPXRoaXMuZ2V0Q29tcG9uZW50c1N0cmluZyhiLmNvbXBvbmVudHNbaF0uY29tcG9uZW50cywiICIpLChnPWYucGF0aCk/KGMrPSIgIitnLGU9Zi5jb21wbGV0ZSYmZSk6ZD0hMTtyZXR1cm4gZD8oYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJkIixjKyIgeiIpLGEuc2V0QXR0cmlidXRlTlMobnVsbCwiZmlsbC1ydWxlIiwiZXZlbm9kZCIpLGU/YTpudWxsKTohMX0sZHJhd1JlY3RhbmdsZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0UmVzb2x1dGlvbigpLGQ9KGIueC10aGlzLmZlYXR1cmVEeCkvYyt0aGlzLmxlZnQsZT10aGlzLnRvcC1iLnkvYztyZXR1cm4gdGhpcy5pblZhbGlkUmFuZ2UoZCxlKT8oYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ4IiwKZCksYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ5IixlKSxhLnNldEF0dHJpYnV0ZU5TKG51bGwsIndpZHRoIixiLndpZHRoL2MpLGEuc2V0QXR0cmlidXRlTlMobnVsbCwiaGVpZ2h0IixiLmhlaWdodC9jKSxhKTohMX0sZHJhd1RleHQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSEhYi5sYWJlbE91dGxpbmVXaWR0aDtpZihkKXt2YXIgZT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LGIpO2UuZm9udENvbG9yPWUubGFiZWxPdXRsaW5lQ29sb3I7ZS5mb250U3Ryb2tlQ29sb3I9ZS5sYWJlbE91dGxpbmVDb2xvcjtlLmZvbnRTdHJva2VXaWR0aD1iLmxhYmVsT3V0bGluZVdpZHRoO2IubGFiZWxPdXRsaW5lT3BhY2l0eSYmKGUuZm9udE9wYWNpdHk9Yi5sYWJlbE91dGxpbmVPcGFjaXR5KTtkZWxldGUgZS5sYWJlbE91dGxpbmVXaWR0aDt0aGlzLmRyYXdUZXh0KGEsZSxjKX12YXIgZj10aGlzLmdldFJlc29sdXRpb24oKSxlPShjLngtdGhpcy5mZWF0dXJlRHgpL2YrdGhpcy5sZWZ0LGc9Yy55LwpmLXRoaXMudG9wLGQ9ZD90aGlzLkxBQkVMX09VVExJTkVfU1VGRklYOnRoaXMuTEFCRUxfSURfU1VGRklYLGY9dGhpcy5ub2RlRmFjdG9yeShhK2QsInRleHQiKTtmLnNldEF0dHJpYnV0ZU5TKG51bGwsIngiLGUpO2Yuc2V0QXR0cmlidXRlTlMobnVsbCwieSIsLWcpO2IuZm9udENvbG9yJiZmLnNldEF0dHJpYnV0ZU5TKG51bGwsImZpbGwiLGIuZm9udENvbG9yKTtiLmZvbnRTdHJva2VDb2xvciYmZi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJzdHJva2UiLGIuZm9udFN0cm9rZUNvbG9yKTtiLmZvbnRTdHJva2VXaWR0aCYmZi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJzdHJva2Utd2lkdGgiLGIuZm9udFN0cm9rZVdpZHRoKTtiLmZvbnRPcGFjaXR5JiZmLnNldEF0dHJpYnV0ZU5TKG51bGwsIm9wYWNpdHkiLGIuZm9udE9wYWNpdHkpO2IuZm9udEZhbWlseSYmZi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmb250LWZhbWlseSIsYi5mb250RmFtaWx5KTtiLmZvbnRTaXplJiZmLnNldEF0dHJpYnV0ZU5TKG51bGwsCiJmb250LXNpemUiLGIuZm9udFNpemUpO2IuZm9udFdlaWdodCYmZi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmb250LXdlaWdodCIsYi5mb250V2VpZ2h0KTtiLmZvbnRTdHlsZSYmZi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmb250LXN0eWxlIixiLmZvbnRTdHlsZSk7ITA9PT1iLmxhYmVsU2VsZWN0PyhmLnNldEF0dHJpYnV0ZU5TKG51bGwsInBvaW50ZXItZXZlbnRzIiwidmlzaWJsZSIpLGYuX2ZlYXR1cmVJZD1hKTpmLnNldEF0dHJpYnV0ZU5TKG51bGwsInBvaW50ZXItZXZlbnRzIiwibm9uZSIpO2c9Yi5sYWJlbEFsaWdufHxPcGVuTGF5ZXJzLlJlbmRlcmVyLmRlZmF1bHRTeW1ib2xpemVyLmxhYmVsQWxpZ247Zi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ0ZXh0LWFuY2hvciIsT3BlbkxheWVycy5SZW5kZXJlci5TVkcuTEFCRUxfQUxJR05bZ1swXV18fCJtaWRkbGUiKTshMD09PU9wZW5MYXllcnMuSVNfR0VDS08mJmYuc2V0QXR0cmlidXRlTlMobnVsbCwiZG9taW5hbnQtYmFzZWxpbmUiLApPcGVuTGF5ZXJzLlJlbmRlcmVyLlNWRy5MQUJFTF9BTElHTltnWzFdXXx8ImNlbnRyYWwiKTtmb3IodmFyIGg9Yi5sYWJlbC5zcGxpdCgiXG4iKSxpPWgubGVuZ3RoO2YuY2hpbGROb2Rlcy5sZW5ndGg+aTspZi5yZW1vdmVDaGlsZChmLmxhc3RDaGlsZCk7Zm9yKHZhciBqPTA7ajxpO2orKyl7dmFyIGs9dGhpcy5ub2RlRmFjdG9yeShhK2QrIl90c3Bhbl8iK2osInRzcGFuIik7ITA9PT1iLmxhYmVsU2VsZWN0JiYoay5fZmVhdHVyZUlkPWEsay5fZ2VvbWV0cnk9YyxrLl9nZW9tZXRyeUNsYXNzPWMuQ0xBU1NfTkFNRSk7ITE9PT1PcGVuTGF5ZXJzLklTX0dFQ0tPJiZrLnNldEF0dHJpYnV0ZU5TKG51bGwsImJhc2VsaW5lLXNoaWZ0IixPcGVuTGF5ZXJzLlJlbmRlcmVyLlNWRy5MQUJFTF9WU0hJRlRbZ1sxXV18fCItMzUlIik7ay5zZXRBdHRyaWJ1dGUoIngiLGUpO2lmKDA9PWope3ZhciBsPU9wZW5MYXllcnMuUmVuZGVyZXIuU1ZHLkxBQkVMX1ZGQUNUT1JbZ1sxXV07bnVsbD09bCYmCihsPS0wLjUpO2suc2V0QXR0cmlidXRlKCJkeSIsbCooaS0xKSsiZW0iKX1lbHNlIGsuc2V0QXR0cmlidXRlKCJkeSIsIjFlbSIpO2sudGV4dENvbnRlbnQ9IiI9PT1oW2pdPyIgIjpoW2pdO2sucGFyZW50Tm9kZXx8Zi5hcHBlbmRDaGlsZChrKX1mLnBhcmVudE5vZGV8fHRoaXMudGV4dFJvb3QuYXBwZW5kQ2hpbGQoZil9LGdldENvbXBvbmVudHNTdHJpbmc6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9W10sZD0hMCxlPWEubGVuZ3RoLGY9W10sZyxoPTA7aDxlO2grKylnPWFbaF0sYy5wdXNoKGcpLChnPXRoaXMuZ2V0U2hvcnRTdHJpbmcoZykpP2YucHVzaChnKTooMDxoJiZ0aGlzLmdldFNob3J0U3RyaW5nKGFbaC0xXSkmJmYucHVzaCh0aGlzLmNsaXBMaW5lKGFbaF0sYVtoLTFdKSksaDxlLTEmJnRoaXMuZ2V0U2hvcnRTdHJpbmcoYVtoKzFdKSYmZi5wdXNoKHRoaXMuY2xpcExpbmUoYVtoXSxhW2grMV0pKSxkPSExKTtyZXR1cm57cGF0aDpmLmpvaW4oYnx8IiwiKSxjb21wbGV0ZTpkfX0sCmNsaXBMaW5lOmZ1bmN0aW9uKGEsYil7aWYoYi5lcXVhbHMoYSkpcmV0dXJuIiI7dmFyIGM9dGhpcy5nZXRSZXNvbHV0aW9uKCksZD10aGlzLk1BWF9QSVhFTC10aGlzLnRyYW5zbGF0aW9uUGFyYW1ldGVycy54LGU9dGhpcy5NQVhfUElYRUwtdGhpcy50cmFuc2xhdGlvblBhcmFtZXRlcnMueSxmPShiLngtdGhpcy5mZWF0dXJlRHgpL2MrdGhpcy5sZWZ0LGc9dGhpcy50b3AtYi55L2MsaD0oYS54LXRoaXMuZmVhdHVyZUR4KS9jK3RoaXMubGVmdCxjPXRoaXMudG9wLWEueS9jLGk7aWYoaDwtZHx8aD5kKWk9KGMtZykvKGgtZiksaD0wPmg/LWQ6ZCxjPWcrKGgtZikqaTtpZihjPC1lfHxjPmUpaT0oaC1mKS8oYy1nKSxjPTA+Yz8tZTplLGg9ZisoYy1nKSppO3JldHVybiBoKyIsIitjfSxnZXRTaG9ydFN0cmluZzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFJlc29sdXRpb24oKSxjPShhLngtdGhpcy5mZWF0dXJlRHgpL2IrdGhpcy5sZWZ0LGE9dGhpcy50b3AtYS55L2I7cmV0dXJuIHRoaXMuaW5WYWxpZFJhbmdlKGMsCmEpP2MrIiwiK2E6ITF9LGdldFBvc2l0aW9uOmZ1bmN0aW9uKGEpe3JldHVybnt4OnBhcnNlRmxvYXQoYS5nZXRBdHRyaWJ1dGVOUyhudWxsLCJjeCIpKSx5OnBhcnNlRmxvYXQoYS5nZXRBdHRyaWJ1dGVOUyhudWxsLCJjeSIpKX19LGltcG9ydFN5bWJvbDpmdW5jdGlvbihhKXt0aGlzLmRlZnN8fCh0aGlzLmRlZnM9dGhpcy5jcmVhdGVEZWZzKCkpO3ZhciBiPXRoaXMuY29udGFpbmVyLmlkKyItIithLGM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYik7aWYobnVsbCE9YylyZXR1cm4gYzt2YXIgZD1PcGVuTGF5ZXJzLlJlbmRlcmVyLnN5bWJvbFthXTtpZighZCl0aHJvdyBFcnJvcihhKyIgaXMgbm90IGEgdmFsaWQgc3ltYm9sIG5hbWUiKTt2YXIgYT10aGlzLm5vZGVGYWN0b3J5KGIsInN5bWJvbCIpLGU9dGhpcy5ub2RlRmFjdG9yeShudWxsLCJwb2x5Z29uIik7YS5hcHBlbmRDaGlsZChlKTtmb3IodmFyIGM9bmV3IE9wZW5MYXllcnMuQm91bmRzKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSwKMCwwKSxmPVtdLGcsaCxpPTA7aTxkLmxlbmd0aDtpKz0yKWc9ZFtpXSxoPWRbaSsxXSxjLmxlZnQ9TWF0aC5taW4oYy5sZWZ0LGcpLGMuYm90dG9tPU1hdGgubWluKGMuYm90dG9tLGgpLGMucmlnaHQ9TWF0aC5tYXgoYy5yaWdodCxnKSxjLnRvcD1NYXRoLm1heChjLnRvcCxoKSxmLnB1c2goZywiLCIsaCk7ZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJwb2ludHMiLGYuam9pbigiICIpKTtkPWMuZ2V0V2lkdGgoKTtlPWMuZ2V0SGVpZ2h0KCk7YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ2aWV3Qm94IixbYy5sZWZ0LWQsYy5ib3R0b20tZSwzKmQsMyplXS5qb2luKCIgIikpO3RoaXMuc3ltYm9sTWV0cmljc1tiXT1bTWF0aC5tYXgoZCxlKSxjLmdldENlbnRlckxvbkxhdCgpLmxvbixjLmdldENlbnRlckxvbkxhdCgpLmxhdF07dGhpcy5kZWZzLmFwcGVuZENoaWxkKGEpO3JldHVybiBhfSxnZXRGZWF0dXJlSWRGcm9tRXZlbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9T3BlbkxheWVycy5SZW5kZXJlci5FbGVtZW50cy5wcm90b3R5cGUuZ2V0RmVhdHVyZUlkRnJvbUV2ZW50LmFwcGx5KHRoaXMsCmFyZ3VtZW50cyk7Ynx8KGI9YS50YXJnZXQsYj1iLnBhcmVudE5vZGUmJmIhPXRoaXMucmVuZGVyZXJSb290P2IucGFyZW50Tm9kZS5fZmVhdHVyZUlkOnZvaWQgMCk7cmV0dXJuIGJ9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuUmVuZGVyZXIuU1ZHIn0pO09wZW5MYXllcnMuUmVuZGVyZXIuU1ZHLkxBQkVMX0FMSUdOPXtsOiJzdGFydCIscjoiZW5kIixiOiJib3R0b20iLHQ6ImhhbmdpbmcifTtPcGVuTGF5ZXJzLlJlbmRlcmVyLlNWRy5MQUJFTF9WU0hJRlQ9e3Q6Ii03MCUiLGI6IjAifTtPcGVuTGF5ZXJzLlJlbmRlcmVyLlNWRy5MQUJFTF9WRkFDVE9SPXt0OjAsYjotMX07T3BlbkxheWVycy5SZW5kZXJlci5TVkcucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5FdmVudC5wcmV2ZW50RGVmYXVsdChhKX07T3BlbkxheWVycy5SdWxlPU9wZW5MYXllcnMuQ2xhc3Moe2lkOm51bGwsbmFtZTpudWxsLHRpdGxlOm51bGwsZGVzY3JpcHRpb246bnVsbCxjb250ZXh0Om51bGwsZmlsdGVyOm51bGwsZWxzZUZpbHRlcjohMSxzeW1ib2xpemVyOm51bGwsc3ltYm9saXplcnM6bnVsbCxtaW5TY2FsZURlbm9taW5hdG9yOm51bGwsbWF4U2NhbGVEZW5vbWluYXRvcjpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7dGhpcy5zeW1ib2xpemVyPXt9O09wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcyxhKTt0aGlzLnN5bWJvbGl6ZXJzJiZkZWxldGUgdGhpcy5zeW1ib2xpemVyO3RoaXMuaWQ9T3BlbkxheWVycy5VdGlsLmNyZWF0ZVVuaXF1ZUlEKHRoaXMuQ0xBU1NfTkFNRSsiXyIpfSxkZXN0cm95OmZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuc3ltYm9saXplcil0aGlzLnN5bWJvbGl6ZXJbYV09bnVsbDt0aGlzLnN5bWJvbGl6ZXI9bnVsbDtkZWxldGUgdGhpcy5zeW1ib2xpemVyc30sZXZhbHVhdGU6ZnVuY3Rpb24oYSl7dmFyIGI9CnRoaXMuZ2V0Q29udGV4dChhKSxjPSEwO2lmKHRoaXMubWluU2NhbGVEZW5vbWluYXRvcnx8dGhpcy5tYXhTY2FsZURlbm9taW5hdG9yKXZhciBkPWEubGF5ZXIubWFwLmdldFNjYWxlKCk7dGhpcy5taW5TY2FsZURlbm9taW5hdG9yJiYoYz1kPj1PcGVuTGF5ZXJzLlN0eWxlLmNyZWF0ZUxpdGVyYWwodGhpcy5taW5TY2FsZURlbm9taW5hdG9yLGIpKTtjJiZ0aGlzLm1heFNjYWxlRGVub21pbmF0b3ImJihjPWQ8T3BlbkxheWVycy5TdHlsZS5jcmVhdGVMaXRlcmFsKHRoaXMubWF4U2NhbGVEZW5vbWluYXRvcixiKSk7YyYmdGhpcy5maWx0ZXImJihjPSJPcGVuTGF5ZXJzLkZpbHRlci5GZWF0dXJlSWQiPT10aGlzLmZpbHRlci5DTEFTU19OQU1FP3RoaXMuZmlsdGVyLmV2YWx1YXRlKGEpOnRoaXMuZmlsdGVyLmV2YWx1YXRlKGIpKTtyZXR1cm4gY30sZ2V0Q29udGV4dDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNvbnRleHQ7Ynx8KGI9YS5hdHRyaWJ1dGVzfHxhLmRhdGEpOyJmdW5jdGlvbiI9PQp0eXBlb2YgdGhpcy5jb250ZXh0JiYoYj10aGlzLmNvbnRleHQoYSkpO3JldHVybiBifSxjbG9uZTpmdW5jdGlvbigpe3ZhciBhPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe30sdGhpcyk7aWYodGhpcy5zeW1ib2xpemVycyl7dmFyIGI9dGhpcy5zeW1ib2xpemVycy5sZW5ndGg7YS5zeW1ib2xpemVycz1BcnJheShiKTtmb3IodmFyIGM9MDtjPGI7KytjKWEuc3ltYm9saXplcnNbY109dGhpcy5zeW1ib2xpemVyc1tjXS5jbG9uZSgpfWVsc2V7YS5zeW1ib2xpemVyPXt9O2Zvcih2YXIgZCBpbiB0aGlzLnN5bWJvbGl6ZXIpYj10aGlzLnN5bWJvbGl6ZXJbZF0sYz10eXBlb2YgYiwib2JqZWN0Ij09PWM/YS5zeW1ib2xpemVyW2RdPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe30sYik6InN0cmluZyI9PT1jJiYoYS5zeW1ib2xpemVyW2RdPWIpfWEuZmlsdGVyPXRoaXMuZmlsdGVyJiZ0aGlzLmZpbHRlci5jbG9uZSgpO2EuY29udGV4dD10aGlzLmNvbnRleHQmJk9wZW5MYXllcnMuVXRpbC5leHRlbmQoe30sCnRoaXMuY29udGV4dCk7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLlJ1bGUoYSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuUnVsZSJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5TTEQ9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwuVmVyc2lvbmVkT0dDLHtwcm9maWxlOm51bGwsZGVmYXVsdFZlcnNpb246IjEuMC4wIixzdHJpbmdpZnlPdXRwdXQ6ITAsbmFtZWRMYXllcnNBc0FycmF5OiExLENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LlNMRCJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIudjFfMF8wPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuR01MLnYyLE9wZW5MYXllcnMuRm9ybWF0LkZpbHRlci52MSx7VkVSU0lPTjoiMS4wLjAiLHNjaGVtYUxvY2F0aW9uOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L29nYy9maWx0ZXIvMS4wLjAvZmlsdGVyLnhzZCIsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjIucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pfSxyZWFkZXJzOntvZ2M6T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe1Byb3BlcnR5SXNFcXVhbFRvOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IE9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24oe3R5cGU6T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5FUVVBTF9UT30pO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLmZpbHRlcnMucHVzaChjKX0sUHJvcGVydHlJc05vdEVxdWFsVG86ZnVuY3Rpb24oYSwKYil7dmFyIGM9bmV3IE9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24oe3R5cGU6T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5OT1RfRVFVQUxfVE99KTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5maWx0ZXJzLnB1c2goYyl9LFByb3BlcnR5SXNMaWtlOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IE9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24oe3R5cGU6T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5MSUtFfSk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO3ZhciBkPWEuZ2V0QXR0cmlidXRlKCJ3aWxkQ2FyZCIpLGU9YS5nZXRBdHRyaWJ1dGUoInNpbmdsZUNoYXIiKSxmPWEuZ2V0QXR0cmlidXRlKCJlc2NhcGUiKTtjLnZhbHVlMnJlZ2V4KGQsZSxmKTtiLmZpbHRlcnMucHVzaChjKX19LE9wZW5MYXllcnMuRm9ybWF0LkZpbHRlci52MS5wcm90b3R5cGUucmVhZGVycy5vZ2MpLGdtbDpPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjIucHJvdG90eXBlLnJlYWRlcnMuZ21sLApmZWF0dXJlOk9wZW5MYXllcnMuRm9ybWF0LkdNTC52Mi5wcm90b3R5cGUucmVhZGVycy5mZWF0dXJlfSx3cml0ZXJzOntvZ2M6T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe1Byb3BlcnR5SXNFcXVhbFRvOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOlByb3BlcnR5SXNFcXVhbFRvIik7dGhpcy53cml0ZU5vZGUoIlByb3BlcnR5TmFtZSIsYSxiKTt0aGlzLndyaXRlT2djRXhwcmVzc2lvbihhLnZhbHVlLGIpO3JldHVybiBifSxQcm9wZXJ0eUlzTm90RXF1YWxUbzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIm9nYzpQcm9wZXJ0eUlzTm90RXF1YWxUbyIpO3RoaXMud3JpdGVOb2RlKCJQcm9wZXJ0eU5hbWUiLGEsYik7dGhpcy53cml0ZU9nY0V4cHJlc3Npb24oYS52YWx1ZSxiKTtyZXR1cm4gYn0sUHJvcGVydHlJc0xpa2U6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6UHJvcGVydHlJc0xpa2UiLAp7YXR0cmlidXRlczp7d2lsZENhcmQ6IioiLHNpbmdsZUNoYXI6Ii4iLGVzY2FwZToiISJ9fSk7dGhpcy53cml0ZU5vZGUoIlByb3BlcnR5TmFtZSIsYSxiKTt0aGlzLndyaXRlTm9kZSgiTGl0ZXJhbCIsYS5yZWdleDJ2YWx1ZSgpLGIpO3JldHVybiBifSxCQk9YOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOkJCT1giKTthLnByb3BlcnR5JiZ0aGlzLndyaXRlTm9kZSgiUHJvcGVydHlOYW1lIixhLGIpO3ZhciBjPXRoaXMud3JpdGVOb2RlKCJnbWw6Qm94IixhLnZhbHVlLGIpO2EucHJvamVjdGlvbiYmYy5zZXRBdHRyaWJ1dGUoInNyc05hbWUiLGEucHJvamVjdGlvbik7cmV0dXJuIGJ9fSxPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIudjEucHJvdG90eXBlLndyaXRlcnMub2djKSxnbWw6T3BlbkxheWVycy5Gb3JtYXQuR01MLnYyLnByb3RvdHlwZS53cml0ZXJzLmdtbCxmZWF0dXJlOk9wZW5MYXllcnMuRm9ybWF0LkdNTC52Mi5wcm90b3R5cGUud3JpdGVycy5mZWF0dXJlfSwKd3JpdGVTcGF0aWFsOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6IitiKTt0aGlzLndyaXRlTm9kZSgiUHJvcGVydHlOYW1lIixhLGMpO2lmKGEudmFsdWUgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkZpbHRlci5GdW5jdGlvbil0aGlzLndyaXRlTm9kZSgiRnVuY3Rpb24iLGEudmFsdWUsYyk7ZWxzZXt2YXIgZDtkPWEudmFsdWUgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkdlb21ldHJ5P3RoaXMud3JpdGVOb2RlKCJmZWF0dXJlOl9nZW9tZXRyeSIsYS52YWx1ZSkuZmlyc3RDaGlsZDp0aGlzLndyaXRlTm9kZSgiZ21sOkJveCIsYS52YWx1ZSk7YS5wcm9qZWN0aW9uJiZkLnNldEF0dHJpYnV0ZSgic3JzTmFtZSIsYS5wcm9qZWN0aW9uKTtjLmFwcGVuZENoaWxkKGQpfXJldHVybiBjfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIudjFfMF8wIn0pO09wZW5MYXllcnMuU3ltYm9saXplci5Qb2ludD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuU3ltYm9saXplcix7aW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlN5bWJvbGl6ZXIucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlN5bWJvbGl6ZXIuUG9pbnQifSk7T3BlbkxheWVycy5TeW1ib2xpemVyLlRleHQ9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlN5bWJvbGl6ZXIse2luaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5TeW1ib2xpemVyLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5TeW1ib2xpemVyLlRleHQifSk7T3BlbkxheWVycy5Gb3JtYXQuU0xELnYxPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuRmlsdGVyLnYxXzBfMCx7bmFtZXNwYWNlczp7c2xkOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3NsZCIsb2djOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L29nYyIsZ21sOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbCIseGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UifSxkZWZhdWx0UHJlZml4OiJzbGQiLHNjaGVtYUxvY2F0aW9uOm51bGwsbXVsdGlwbGVTeW1ib2xpemVyczohMSxmZWF0dXJlVHlwZUNvdW50ZXI6bnVsbCxkZWZhdWx0U3ltYm9saXplcjp7ZmlsbENvbG9yOiIjODA4MDgwIixmaWxsT3BhY2l0eToxLHN0cm9rZUNvbG9yOiIjMDAwMDAwIixzdHJva2VPcGFjaXR5OjEsc3Ryb2tlV2lkdGg6MSxzdHJva2VEYXNoc3R5bGU6InNvbGlkIixwb2ludFJhZGl1czozLApncmFwaGljTmFtZToic3F1YXJlIn0scmVhZDpmdW5jdGlvbihhLGIpe3ZhciBiPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGIsdGhpcy5vcHRpb25zKSxjPXtuYW1lZExheWVyczohMD09PWIubmFtZWRMYXllcnNBc0FycmF5P1tdOnt9fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7cmV0dXJuIGN9LHJlYWRlcnM6T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3NsZDp7U3R5bGVkTGF5ZXJEZXNjcmlwdG9yOmZ1bmN0aW9uKGEsYil7Yi52ZXJzaW9uPWEuZ2V0QXR0cmlidXRlKCJ2ZXJzaW9uIik7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxOYW1lOmZ1bmN0aW9uKGEsYil7Yi5uYW1lPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sVGl0bGU6ZnVuY3Rpb24oYSxiKXtiLnRpdGxlPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sQWJzdHJhY3Q6ZnVuY3Rpb24oYSxiKXtiLmRlc2NyaXB0aW9uPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sTmFtZWRMYXllcjpmdW5jdGlvbihhLGIpe3ZhciBjPQp7dXNlclN0eWxlczpbXSxuYW1lZFN0eWxlczpbXX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2Zvcih2YXIgZD0wLGU9Yy51c2VyU3R5bGVzLmxlbmd0aDtkPGU7KytkKWMudXNlclN0eWxlc1tkXS5sYXllck5hbWU9Yy5uYW1lO09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGIubmFtZWRMYXllcnMpP2IubmFtZWRMYXllcnMucHVzaChjKTpiLm5hbWVkTGF5ZXJzW2MubmFtZV09Y30sTmFtZWRTdHlsZTpmdW5jdGlvbihhLGIpe2IubmFtZWRTdHlsZXMucHVzaCh0aGlzLmdldENoaWxkTmFtZShhLmZpcnN0Q2hpbGQpKX0sVXNlclN0eWxlOmZ1bmN0aW9uKGEsYil7dmFyIGM9e2RlZmF1bHRzUGVyU3ltYm9saXplcjohMCxydWxlczpbXX07dGhpcy5mZWF0dXJlVHlwZUNvdW50ZXI9LTE7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO3RoaXMubXVsdGlwbGVTeW1ib2xpemVycz8oZGVsZXRlIGMuZGVmYXVsdHNQZXJTeW1ib2xpemVyLGM9bmV3IE9wZW5MYXllcnMuU3R5bGUyKGMpKTpjPW5ldyBPcGVuTGF5ZXJzLlN0eWxlKHRoaXMuZGVmYXVsdFN5bWJvbGl6ZXIsCmMpO2IudXNlclN0eWxlcy5wdXNoKGMpfSxJc0RlZmF1bHQ6ZnVuY3Rpb24oYSxiKXsiMSI9PXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSYmKGIuaXNEZWZhdWx0PSEwKX0sRmVhdHVyZVR5cGVTdHlsZTpmdW5jdGlvbihhLGIpeysrdGhpcy5mZWF0dXJlVHlwZUNvdW50ZXI7dmFyIGM9e3J1bGVzOnRoaXMubXVsdGlwbGVTeW1ib2xpemVycz9iLnJ1bGVzOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7dGhpcy5tdWx0aXBsZVN5bWJvbGl6ZXJzfHwoYi5ydWxlcz1jLnJ1bGVzKX0sUnVsZTpmdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMubXVsdGlwbGVTeW1ib2xpemVycyYmKGM9e3N5bWJvbGl6ZXJzOltdfSk7Yz1uZXcgT3BlbkxheWVycy5SdWxlKGMpO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLnJ1bGVzLnB1c2goYyl9LEVsc2VGaWx0ZXI6ZnVuY3Rpb24oYSxiKXtiLmVsc2VGaWx0ZXI9ITB9LE1pblNjYWxlRGVub21pbmF0b3I6ZnVuY3Rpb24oYSxiKXtiLm1pblNjYWxlRGVub21pbmF0b3I9CnBhcnNlRmxvYXQodGhpcy5nZXRDaGlsZFZhbHVlKGEpKX0sTWF4U2NhbGVEZW5vbWluYXRvcjpmdW5jdGlvbihhLGIpe2IubWF4U2NhbGVEZW5vbWluYXRvcj1wYXJzZUZsb2F0KHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSl9LFRleHRTeW1ib2xpemVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO3RoaXMubXVsdGlwbGVTeW1ib2xpemVycz8oYy56SW5kZXg9dGhpcy5mZWF0dXJlVHlwZUNvdW50ZXIsYi5zeW1ib2xpemVycy5wdXNoKG5ldyBPcGVuTGF5ZXJzLlN5bWJvbGl6ZXIuVGV4dChjKSkpOmIuc3ltYm9saXplci5UZXh0PU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGMsYi5zeW1ib2xpemVyLlRleHQpfSxMYWJlbFBsYWNlbWVudDpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sUG9pbnRQbGFjZW1lbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yy5sYWJlbFJvdGF0aW9uPQpjLnJvdGF0aW9uO2RlbGV0ZSBjLnJvdGF0aW9uO3ZhciBkLGU9Yi5sYWJlbEFuY2hvclBvaW50WCxmPWIubGFiZWxBbmNob3JQb2ludFk7ZTw9MS8zP2Q9ImwiOmU+MS8zJiZlPDIvMz9kPSJjIjplPj0yLzMmJihkPSJyIik7Zjw9MS8zP2QrPSJiIjpmPjEvMyYmZjwyLzM/ZCs9Im0iOmY+PTIvMyYmKGQrPSJ0Iik7Yy5sYWJlbEFsaWduPWQ7T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYixjKX0sQW5jaG9yUG9pbnQ6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LEFuY2hvclBvaW50WDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucmVhZGVycy5vZ2MuX2V4cHJlc3Npb24uY2FsbCh0aGlzLGEpO2MmJihiLmxhYmVsQW5jaG9yUG9pbnRYPWMpfSxBbmNob3JQb2ludFk6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnJlYWRlcnMub2djLl9leHByZXNzaW9uLmNhbGwodGhpcyxhKTtjJiYoYi5sYWJlbEFuY2hvclBvaW50WT1jKX0sRGlzcGxhY2VtZW50OmZ1bmN0aW9uKGEsCmIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sRGlzcGxhY2VtZW50WDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucmVhZGVycy5vZ2MuX2V4cHJlc3Npb24uY2FsbCh0aGlzLGEpO2MmJihiLmxhYmVsWE9mZnNldD1jKX0sRGlzcGxhY2VtZW50WTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucmVhZGVycy5vZ2MuX2V4cHJlc3Npb24uY2FsbCh0aGlzLGEpO2MmJihiLmxhYmVsWU9mZnNldD1jKX0sTGluZVBsYWNlbWVudDpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sUGVycGVuZGljdWxhck9mZnNldDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucmVhZGVycy5vZ2MuX2V4cHJlc3Npb24uY2FsbCh0aGlzLGEpO2MmJihiLmxhYmVsUGVycGVuZGljdWxhck9mZnNldD1jKX0sTGFiZWw6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnJlYWRlcnMub2djLl9leHByZXNzaW9uLmNhbGwodGhpcyxhKTtjJiYoYi5sYWJlbD1PcGVuTGF5ZXJzLlN0cmluZy50cmltKGMpKX0sCkZvbnQ6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LEhhbG86ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5oYWxvUmFkaXVzPWMuaGFsb1JhZGl1cztiLmhhbG9Db2xvcj1jLmZpbGxDb2xvcjtiLmhhbG9PcGFjaXR5PWMuZmlsbE9wYWNpdHl9LFJhZGl1czpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucmVhZGVycy5vZ2MuX2V4cHJlc3Npb24uY2FsbCh0aGlzLGEpO251bGwhPWMmJihiLmhhbG9SYWRpdXM9Yyl9LFJhc3RlclN5bWJvbGl6ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7dGhpcy5tdWx0aXBsZVN5bWJvbGl6ZXJzPyhjLnpJbmRleD10aGlzLmZlYXR1cmVUeXBlQ291bnRlcixiLnN5bWJvbGl6ZXJzLnB1c2gobmV3IE9wZW5MYXllcnMuU3ltYm9saXplci5SYXN0ZXIoYykpKTpiLnN5bWJvbGl6ZXIuUmFzdGVyPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGMsCmIuc3ltYm9saXplci5SYXN0ZXIpfSxHZW9tZXRyeTpmdW5jdGlvbihhLGIpe2IuZ2VvbWV0cnk9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuZ2VvbWV0cnkpfSxDb2xvck1hcDpmdW5jdGlvbihhLGIpe2IuY29sb3JNYXA9W107dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuY29sb3JNYXApfSxDb2xvck1hcEVudHJ5OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRBdHRyaWJ1dGUoInF1YW50aXR5IiksZD1hLmdldEF0dHJpYnV0ZSgib3BhY2l0eSIpO2IucHVzaCh7Y29sb3I6YS5nZXRBdHRyaWJ1dGUoImNvbG9yIikscXVhbnRpdHk6bnVsbCE9PWM/cGFyc2VGbG9hdChjKTp2b2lkIDAsbGFiZWw6YS5nZXRBdHRyaWJ1dGUoImxhYmVsIil8fHZvaWQgMCxvcGFjaXR5Om51bGwhPT1kP3BhcnNlRmxvYXQoZCk6dm9pZCAwfSl9LExpbmVTeW1ib2xpemVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO3RoaXMubXVsdGlwbGVTeW1ib2xpemVycz8oYy56SW5kZXg9CnRoaXMuZmVhdHVyZVR5cGVDb3VudGVyLGIuc3ltYm9saXplcnMucHVzaChuZXcgT3BlbkxheWVycy5TeW1ib2xpemVyLkxpbmUoYykpKTpiLnN5bWJvbGl6ZXIuTGluZT1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhjLGIuc3ltYm9saXplci5MaW5lKX0sUG9seWdvblN5bWJvbGl6ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz17ZmlsbDohMSxzdHJva2U6ITF9O3RoaXMubXVsdGlwbGVTeW1ib2xpemVyc3x8KGM9Yi5zeW1ib2xpemVyLlBvbHlnb258fGMpO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTt0aGlzLm11bHRpcGxlU3ltYm9saXplcnM/KGMuekluZGV4PXRoaXMuZmVhdHVyZVR5cGVDb3VudGVyLGIuc3ltYm9saXplcnMucHVzaChuZXcgT3BlbkxheWVycy5TeW1ib2xpemVyLlBvbHlnb24oYykpKTpiLnN5bWJvbGl6ZXIuUG9seWdvbj1jfSxQb2ludFN5bWJvbGl6ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz17ZmlsbDohMSxzdHJva2U6ITEsZ3JhcGhpYzohMX07dGhpcy5tdWx0aXBsZVN5bWJvbGl6ZXJzfHwKKGM9Yi5zeW1ib2xpemVyLlBvaW50fHxjKTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7dGhpcy5tdWx0aXBsZVN5bWJvbGl6ZXJzPyhjLnpJbmRleD10aGlzLmZlYXR1cmVUeXBlQ291bnRlcixiLnN5bWJvbGl6ZXJzLnB1c2gobmV3IE9wZW5MYXllcnMuU3ltYm9saXplci5Qb2ludChjKSkpOmIuc3ltYm9saXplci5Qb2ludD1jfSxTdHJva2U6ZnVuY3Rpb24oYSxiKXtiLnN0cm9rZT0hMDt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LEZpbGw6ZnVuY3Rpb24oYSxiKXtiLmZpbGw9ITA7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxDc3NQYXJhbWV0ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldEF0dHJpYnV0ZSgibmFtZSIpLGQ9dGhpcy5jc3NNYXBbY107Yi5sYWJlbCYmKCJmaWxsIj09PWM/ZD0iZm9udENvbG9yIjoiZmlsbC1vcGFjaXR5Ij09PWMmJihkPSJmb250T3BhY2l0eSIpKTtkJiYoYz10aGlzLnJlYWRlcnMub2djLl9leHByZXNzaW9uLmNhbGwodGhpcyxhKSkmJihiW2RdPQpjKX0sR3JhcGhpYzpmdW5jdGlvbihhLGIpe2IuZ3JhcGhpYz0hMDt2YXIgYz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Zm9yKHZhciBkPSJzdHJva2Ugc3Ryb2tlQ29sb3Igc3Ryb2tlV2lkdGggc3Ryb2tlT3BhY2l0eSBzdHJva2VMaW5lY2FwIGZpbGwgZmlsbENvbG9yIGZpbGxPcGFjaXR5IGdyYXBoaWNOYW1lIHJvdGF0aW9uIGdyYXBoaWNGb3JtYXQiLnNwbGl0KCIgIiksZSxmLGc9MCxoPWQubGVuZ3RoO2c8aDsrK2cpZT1kW2ddLGY9Y1tlXSx2b2lkIDAhPWYmJihiW2VdPWYpO3ZvaWQgMCE9Yy5vcGFjaXR5JiYoYi5ncmFwaGljT3BhY2l0eT1jLm9wYWNpdHkpO3ZvaWQgMCE9Yy5zaXplJiYoaXNOYU4oYy5zaXplLzIpP2IuZ3JhcGhpY1dpZHRoPWMuc2l6ZTpiLnBvaW50UmFkaXVzPWMuc2l6ZS8yKTt2b2lkIDAhPWMuaHJlZiYmKGIuZXh0ZXJuYWxHcmFwaGljPWMuaHJlZik7dm9pZCAwIT1jLnJvdGF0aW9uJiYoYi5yb3RhdGlvbj1jLnJvdGF0aW9uKX0sRXh0ZXJuYWxHcmFwaGljOmZ1bmN0aW9uKGEsCmIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sTWFyazpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sV2VsbEtub3duTmFtZTpmdW5jdGlvbihhLGIpe2IuZ3JhcGhpY05hbWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxPcGFjaXR5OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5yZWFkZXJzLm9nYy5fZXhwcmVzc2lvbi5jYWxsKHRoaXMsYSk7YyYmKGIub3BhY2l0eT1jKX0sU2l6ZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucmVhZGVycy5vZ2MuX2V4cHJlc3Npb24uY2FsbCh0aGlzLGEpO2MmJihiLnNpemU9Yyl9LFJvdGF0aW9uOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5yZWFkZXJzLm9nYy5fZXhwcmVzc2lvbi5jYWxsKHRoaXMsYSk7YyYmKGIucm90YXRpb249Yyl9LE9ubGluZVJlc291cmNlOmZ1bmN0aW9uKGEsYil7Yi5ocmVmPXRoaXMuZ2V0QXR0cmlidXRlTlMoYSx0aGlzLm5hbWVzcGFjZXMueGxpbmssImhyZWYiKX0sRm9ybWF0OmZ1bmN0aW9uKGEsCmIpe2IuZ3JhcGhpY0Zvcm1hdD10aGlzLmdldENoaWxkVmFsdWUoYSl9fX0sT3BlbkxheWVycy5Gb3JtYXQuRmlsdGVyLnYxXzBfMC5wcm90b3R5cGUucmVhZGVycyksY3NzTWFwOntzdHJva2U6InN0cm9rZUNvbG9yIiwic3Ryb2tlLW9wYWNpdHkiOiJzdHJva2VPcGFjaXR5Iiwic3Ryb2tlLXdpZHRoIjoic3Ryb2tlV2lkdGgiLCJzdHJva2UtbGluZWNhcCI6InN0cm9rZUxpbmVjYXAiLCJzdHJva2UtZGFzaGFycmF5Ijoic3Ryb2tlRGFzaHN0eWxlIixmaWxsOiJmaWxsQ29sb3IiLCJmaWxsLW9wYWNpdHkiOiJmaWxsT3BhY2l0eSIsImZvbnQtZmFtaWx5IjoiZm9udEZhbWlseSIsImZvbnQtc2l6ZSI6ImZvbnRTaXplIiwiZm9udC13ZWlnaHQiOiJmb250V2VpZ2h0IiwiZm9udC1zdHlsZSI6ImZvbnRTdHlsZSJ9LGdldENzc1Byb3BlcnR5OmZ1bmN0aW9uKGEpe3ZhciBiPW51bGwsYztmb3IoYyBpbiB0aGlzLmNzc01hcClpZih0aGlzLmNzc01hcFtjXT09YSl7Yj1jO2JyZWFrfXJldHVybiBifSwKZ2V0R3JhcGhpY0Zvcm1hdDpmdW5jdGlvbihhKXt2YXIgYixjO2ZvcihjIGluIHRoaXMuZ3JhcGhpY0Zvcm1hdHMpaWYodGhpcy5ncmFwaGljRm9ybWF0c1tjXS50ZXN0KGEpKXtiPWM7YnJlYWt9cmV0dXJuIGJ8fHRoaXMuZGVmYXVsdEdyYXBoaWNGb3JtYXR9LGRlZmF1bHRHcmFwaGljRm9ybWF0OiJpbWFnZS9wbmciLGdyYXBoaWNGb3JtYXRzOnsiaW1hZ2UvanBlZyI6L1wuanBlP2ckL2ksImltYWdlL2dpZiI6L1wuZ2lmJC9pLCJpbWFnZS9wbmciOi9cLnBuZyQvaX0sd3JpdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMud3JpdGVycy5zbGQuU3R5bGVkTGF5ZXJEZXNjcmlwdG9yLmFwcGx5KHRoaXMsW2FdKX0sd3JpdGVyczpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7c2xkOntfT0dDRXhwcmVzc2lvbjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cyhhKSxkPSJzdHJpbmciPT10eXBlb2YgYj9iLnNwbGl0KCIkeyIpOltiXTtjLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlVGV4dE5vZGUoZFswXSkpOwpmb3IodmFyIGUsZixnPTEsaD1kLmxlbmd0aDtnPGg7ZysrKWU9ZFtnXSxmPWUuaW5kZXhPZigifSIpLDA8Zj8odGhpcy53cml0ZU5vZGUoIm9nYzpQcm9wZXJ0eU5hbWUiLHtwcm9wZXJ0eTplLnN1YnN0cmluZygwLGYpfSxjKSxjLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlVGV4dE5vZGUoZS5zdWJzdHJpbmcoKytmKSkpKTpjLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlVGV4dE5vZGUoIiR7IitlKSk7cmV0dXJuIGN9LFN0eWxlZExheWVyRGVzY3JpcHRvcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpTdHlsZWRMYXllckRlc2NyaXB0b3IiLHthdHRyaWJ1dGVzOnt2ZXJzaW9uOnRoaXMuVkVSU0lPTiwieHNpOnNjaGVtYUxvY2F0aW9uIjp0aGlzLnNjaGVtYUxvY2F0aW9ufX0pO2Iuc2V0QXR0cmlidXRlKCJ4bWxuczpvZ2MiLHRoaXMubmFtZXNwYWNlcy5vZ2MpO2Iuc2V0QXR0cmlidXRlKCJ4bWxuczpnbWwiLHRoaXMubmFtZXNwYWNlcy5nbWwpOwphLm5hbWUmJnRoaXMud3JpdGVOb2RlKCJOYW1lIixhLm5hbWUsYik7YS50aXRsZSYmdGhpcy53cml0ZU5vZGUoIlRpdGxlIixhLnRpdGxlLGIpO2EuZGVzY3JpcHRpb24mJnRoaXMud3JpdGVOb2RlKCJBYnN0cmFjdCIsYS5kZXNjcmlwdGlvbixiKTtpZihPcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShhLm5hbWVkTGF5ZXJzKSlmb3IodmFyIGM9MCxkPWEubmFtZWRMYXllcnMubGVuZ3RoO2M8ZDsrK2MpdGhpcy53cml0ZU5vZGUoIk5hbWVkTGF5ZXIiLGEubmFtZWRMYXllcnNbY10sYik7ZWxzZSBmb3IoYyBpbiBhLm5hbWVkTGF5ZXJzKXRoaXMud3JpdGVOb2RlKCJOYW1lZExheWVyIixhLm5hbWVkTGF5ZXJzW2NdLGIpO3JldHVybiBifSxOYW1lOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpOYW1lIix7dmFsdWU6YX0pfSxUaXRsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6VGl0bGUiLHt2YWx1ZTphfSl9LApBYnN0cmFjdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6QWJzdHJhY3QiLHt2YWx1ZTphfSl9LE5hbWVkTGF5ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6TmFtZWRMYXllciIpO3RoaXMud3JpdGVOb2RlKCJOYW1lIixhLm5hbWUsYik7aWYoYS5uYW1lZFN0eWxlcylmb3IodmFyIGM9MCxkPWEubmFtZWRTdHlsZXMubGVuZ3RoO2M8ZDsrK2MpdGhpcy53cml0ZU5vZGUoIk5hbWVkU3R5bGUiLGEubmFtZWRTdHlsZXNbY10sYik7aWYoYS51c2VyU3R5bGVzKXtjPTA7Zm9yKGQ9YS51c2VyU3R5bGVzLmxlbmd0aDtjPGQ7KytjKXRoaXMud3JpdGVOb2RlKCJVc2VyU3R5bGUiLGEudXNlclN0eWxlc1tjXSxiKX1yZXR1cm4gYn0sTmFtZWRTdHlsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpOYW1lZFN0eWxlIik7dGhpcy53cml0ZU5vZGUoIk5hbWUiLGEsYik7CnJldHVybiBifSxVc2VyU3R5bGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6VXNlclN0eWxlIik7YS5uYW1lJiZ0aGlzLndyaXRlTm9kZSgiTmFtZSIsYS5uYW1lLGIpO2EudGl0bGUmJnRoaXMud3JpdGVOb2RlKCJUaXRsZSIsYS50aXRsZSxiKTthLmRlc2NyaXB0aW9uJiZ0aGlzLndyaXRlTm9kZSgiQWJzdHJhY3QiLGEuZGVzY3JpcHRpb24sYik7YS5pc0RlZmF1bHQmJnRoaXMud3JpdGVOb2RlKCJJc0RlZmF1bHQiLGEuaXNEZWZhdWx0LGIpO2lmKHRoaXMubXVsdGlwbGVTeW1ib2xpemVycyYmYS5ydWxlcyl7Zm9yKHZhciBjPXsiMCI6W119LGQ9WzBdLGUsZixnLGgsaSxqPTAsaz1hLnJ1bGVzLmxlbmd0aDtqPGs7KytqKWlmKGU9YS5ydWxlc1tqXSxlLnN5bWJvbGl6ZXJzKXtmPXt9O2Zvcih2YXIgbD0wLG09ZS5zeW1ib2xpemVycy5sZW5ndGg7bDxtOysrbClnPWUuc3ltYm9saXplcnNbbF0saD1nLnpJbmRleCxoIGluIGZ8fChpPWUuY2xvbmUoKSwKaS5zeW1ib2xpemVycz1bXSxmW2hdPWkpLGZbaF0uc3ltYm9saXplcnMucHVzaChnLmNsb25lKCkpO2ZvcihoIGluIGYpaCBpbiBjfHwoZC5wdXNoKGgpLGNbaF09W10pLGNbaF0ucHVzaChmW2hdKX1lbHNlIGNbMF0ucHVzaChlLmNsb25lKCkpO2Quc29ydCgpO2o9MDtmb3Ioaz1kLmxlbmd0aDtqPGs7KytqKWU9Y1tkW2pdXSwwPGUubGVuZ3RoJiYoaT1hLmNsb25lKCksaS5ydWxlcz1jW2Rbal1dLHRoaXMud3JpdGVOb2RlKCJGZWF0dXJlVHlwZVN0eWxlIixpLGIpKX1lbHNlIHRoaXMud3JpdGVOb2RlKCJGZWF0dXJlVHlwZVN0eWxlIixhLGIpO3JldHVybiBifSxJc0RlZmF1bHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygic2xkOklzRGVmYXVsdCIse3ZhbHVlOmE/IjEiOiIwIn0pfSxGZWF0dXJlVHlwZVN0eWxlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpGZWF0dXJlVHlwZVN0eWxlIiksYz0wLApkPWEucnVsZXMubGVuZ3RoO2M8ZDsrK2MpdGhpcy53cml0ZU5vZGUoIlJ1bGUiLGEucnVsZXNbY10sYik7cmV0dXJuIGJ9LFJ1bGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6UnVsZSIpO2EubmFtZSYmdGhpcy53cml0ZU5vZGUoIk5hbWUiLGEubmFtZSxiKTthLnRpdGxlJiZ0aGlzLndyaXRlTm9kZSgiVGl0bGUiLGEudGl0bGUsYik7YS5kZXNjcmlwdGlvbiYmdGhpcy53cml0ZU5vZGUoIkFic3RyYWN0IixhLmRlc2NyaXB0aW9uLGIpO2EuZWxzZUZpbHRlcj90aGlzLndyaXRlTm9kZSgiRWxzZUZpbHRlciIsbnVsbCxiKTphLmZpbHRlciYmdGhpcy53cml0ZU5vZGUoIm9nYzpGaWx0ZXIiLGEuZmlsdGVyLGIpO3ZvaWQgMCE9YS5taW5TY2FsZURlbm9taW5hdG9yJiZ0aGlzLndyaXRlTm9kZSgiTWluU2NhbGVEZW5vbWluYXRvciIsYS5taW5TY2FsZURlbm9taW5hdG9yLGIpO3ZvaWQgMCE9YS5tYXhTY2FsZURlbm9taW5hdG9yJiZ0aGlzLndyaXRlTm9kZSgiTWF4U2NhbGVEZW5vbWluYXRvciIsCmEubWF4U2NhbGVEZW5vbWluYXRvcixiKTt2YXIgYyxkO2lmKHRoaXMubXVsdGlwbGVTeW1ib2xpemVycyYmYS5zeW1ib2xpemVycylmb3IodmFyIGU9MCxmPWEuc3ltYm9saXplcnMubGVuZ3RoO2U8ZjsrK2UpZD1hLnN5bWJvbGl6ZXJzW2VdLGM9ZC5DTEFTU19OQU1FLnNwbGl0KCIuIikucG9wKCksdGhpcy53cml0ZU5vZGUoYysiU3ltYm9saXplciIsZCxiKTtlbHNlIGZvcih2YXIgZj1PcGVuTGF5ZXJzLlN0eWxlLlNZTUJPTElaRVJfUFJFRklYRVMsZT0wLGc9Zi5sZW5ndGg7ZTxnOysrZSljPWZbZV0sKGQ9YS5zeW1ib2xpemVyW2NdKSYmdGhpcy53cml0ZU5vZGUoYysiU3ltYm9saXplciIsZCxiKTtyZXR1cm4gYn0sRWxzZUZpbHRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpFbHNlRmlsdGVyIil9LE1pblNjYWxlRGVub21pbmF0b3I6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygic2xkOk1pblNjYWxlRGVub21pbmF0b3IiLAp7dmFsdWU6YX0pfSxNYXhTY2FsZURlbm9taW5hdG9yOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpNYXhTY2FsZURlbm9taW5hdG9yIix7dmFsdWU6YX0pfSxMaW5lU3ltYm9saXplcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpMaW5lU3ltYm9saXplciIpO3RoaXMud3JpdGVOb2RlKCJTdHJva2UiLGEsYik7cmV0dXJuIGJ9LFN0cm9rZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpTdHJva2UiKTt2b2lkIDAhPWEuc3Ryb2tlQ29sb3ImJnRoaXMud3JpdGVOb2RlKCJDc3NQYXJhbWV0ZXIiLHtzeW1ib2xpemVyOmEsa2V5OiJzdHJva2VDb2xvciJ9LGIpO3ZvaWQgMCE9YS5zdHJva2VPcGFjaXR5JiZ0aGlzLndyaXRlTm9kZSgiQ3NzUGFyYW1ldGVyIix7c3ltYm9saXplcjphLGtleToic3Ryb2tlT3BhY2l0eSJ9LGIpO3ZvaWQgMCE9YS5zdHJva2VXaWR0aCYmCnRoaXMud3JpdGVOb2RlKCJDc3NQYXJhbWV0ZXIiLHtzeW1ib2xpemVyOmEsa2V5OiJzdHJva2VXaWR0aCJ9LGIpO3ZvaWQgMCE9YS5zdHJva2VEYXNoc3R5bGUmJiJzb2xpZCIhPT1hLnN0cm9rZURhc2hzdHlsZSYmdGhpcy53cml0ZU5vZGUoIkNzc1BhcmFtZXRlciIse3N5bWJvbGl6ZXI6YSxrZXk6InN0cm9rZURhc2hzdHlsZSJ9LGIpO3ZvaWQgMCE9YS5zdHJva2VMaW5lY2FwJiZ0aGlzLndyaXRlTm9kZSgiQ3NzUGFyYW1ldGVyIix7c3ltYm9saXplcjphLGtleToic3Ryb2tlTGluZWNhcCJ9LGIpO3JldHVybiBifSxDc3NQYXJhbWV0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygic2xkOkNzc1BhcmFtZXRlciIse2F0dHJpYnV0ZXM6e25hbWU6dGhpcy5nZXRDc3NQcm9wZXJ0eShhLmtleSl9LHZhbHVlOmEuc3ltYm9saXplclthLmtleV19KX0sVGV4dFN5bWJvbGl6ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6VGV4dFN5bWJvbGl6ZXIiKTsKbnVsbCE9YS5sYWJlbCYmdGhpcy53cml0ZU5vZGUoIkxhYmVsIixhLmxhYmVsLGIpOyhudWxsIT1hLmZvbnRGYW1pbHl8fG51bGwhPWEuZm9udFNpemV8fG51bGwhPWEuZm9udFdlaWdodHx8bnVsbCE9YS5mb250U3R5bGUpJiZ0aGlzLndyaXRlTm9kZSgiRm9udCIsYSxiKTsobnVsbCE9YS5sYWJlbEFuY2hvclBvaW50WHx8bnVsbCE9YS5sYWJlbEFuY2hvclBvaW50WXx8bnVsbCE9YS5sYWJlbEFsaWdufHxudWxsIT1hLmxhYmVsWE9mZnNldHx8bnVsbCE9YS5sYWJlbFlPZmZzZXR8fG51bGwhPWEubGFiZWxSb3RhdGlvbnx8bnVsbCE9YS5sYWJlbFBlcnBlbmRpY3VsYXJPZmZzZXQpJiZ0aGlzLndyaXRlTm9kZSgiTGFiZWxQbGFjZW1lbnQiLGEsYik7KG51bGwhPWEuaGFsb1JhZGl1c3x8bnVsbCE9YS5oYWxvQ29sb3J8fG51bGwhPWEuaGFsb09wYWNpdHkpJiZ0aGlzLndyaXRlTm9kZSgiSGFsbyIsYSxiKTsobnVsbCE9YS5mb250Q29sb3J8fG51bGwhPWEuZm9udE9wYWNpdHkpJiZ0aGlzLndyaXRlTm9kZSgiRmlsbCIsCntmaWxsQ29sb3I6YS5mb250Q29sb3IsZmlsbE9wYWNpdHk6YS5mb250T3BhY2l0eX0sYik7cmV0dXJuIGJ9LExhYmVsUGxhY2VtZW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygic2xkOkxhYmVsUGxhY2VtZW50Iik7KG51bGwhPWEubGFiZWxBbmNob3JQb2ludFh8fG51bGwhPWEubGFiZWxBbmNob3JQb2ludFl8fG51bGwhPWEubGFiZWxBbGlnbnx8bnVsbCE9YS5sYWJlbFhPZmZzZXR8fG51bGwhPWEubGFiZWxZT2Zmc2V0fHxudWxsIT1hLmxhYmVsUm90YXRpb24pJiZudWxsPT1hLmxhYmVsUGVycGVuZGljdWxhck9mZnNldCYmdGhpcy53cml0ZU5vZGUoIlBvaW50UGxhY2VtZW50IixhLGIpO251bGwhPWEubGFiZWxQZXJwZW5kaWN1bGFyT2Zmc2V0JiZ0aGlzLndyaXRlTm9kZSgiTGluZVBsYWNlbWVudCIsYSxiKTtyZXR1cm4gYn0sTGluZVBsYWNlbWVudDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpMaW5lUGxhY2VtZW50Iik7CnRoaXMud3JpdGVOb2RlKCJQZXJwZW5kaWN1bGFyT2Zmc2V0IixhLmxhYmVsUGVycGVuZGljdWxhck9mZnNldCxiKTtyZXR1cm4gYn0sUGVycGVuZGljdWxhck9mZnNldDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6UGVycGVuZGljdWxhck9mZnNldCIse3ZhbHVlOmF9KX0sUG9pbnRQbGFjZW1lbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6UG9pbnRQbGFjZW1lbnQiKTsobnVsbCE9YS5sYWJlbEFuY2hvclBvaW50WHx8bnVsbCE9YS5sYWJlbEFuY2hvclBvaW50WXx8bnVsbCE9YS5sYWJlbEFsaWduKSYmdGhpcy53cml0ZU5vZGUoIkFuY2hvclBvaW50IixhLGIpOyhudWxsIT1hLmxhYmVsWE9mZnNldHx8bnVsbCE9YS5sYWJlbFlPZmZzZXQpJiZ0aGlzLndyaXRlTm9kZSgiRGlzcGxhY2VtZW50IixhLGIpO251bGwhPWEubGFiZWxSb3RhdGlvbiYmdGhpcy53cml0ZU5vZGUoIlJvdGF0aW9uIixhLmxhYmVsUm90YXRpb24sCmIpO3JldHVybiBifSxBbmNob3JQb2ludDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpBbmNob3JQb2ludCIpLGM9YS5sYWJlbEFuY2hvclBvaW50WCxkPWEubGFiZWxBbmNob3JQb2ludFk7bnVsbCE9YyYmdGhpcy53cml0ZU5vZGUoIkFuY2hvclBvaW50WCIsYyxiKTtudWxsIT1kJiZ0aGlzLndyaXRlTm9kZSgiQW5jaG9yUG9pbnRZIixkLGIpO2lmKG51bGw9PWMmJm51bGw9PWQpe3ZhciBlPWEubGFiZWxBbGlnbi5zdWJzdHIoMCwxKSxhPWEubGFiZWxBbGlnbi5zdWJzdHIoMSwxKTsibCI9PT1lP2M9MDoiYyI9PT1lP2M9MC41OiJyIj09PWUmJihjPTEpOyJiIj09PWE/ZD0wOiJtIj09PWE/ZD0wLjU6InQiPT09YSYmKGQ9MSk7dGhpcy53cml0ZU5vZGUoIkFuY2hvclBvaW50WCIsYyxiKTt0aGlzLndyaXRlTm9kZSgiQW5jaG9yUG9pbnRZIixkLGIpfXJldHVybiBifSxBbmNob3JQb2ludFg6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygic2xkOkFuY2hvclBvaW50WCIsCnt2YWx1ZTphfSl9LEFuY2hvclBvaW50WTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6QW5jaG9yUG9pbnRZIix7dmFsdWU6YX0pfSxEaXNwbGFjZW1lbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6RGlzcGxhY2VtZW50Iik7bnVsbCE9YS5sYWJlbFhPZmZzZXQmJnRoaXMud3JpdGVOb2RlKCJEaXNwbGFjZW1lbnRYIixhLmxhYmVsWE9mZnNldCxiKTtudWxsIT1hLmxhYmVsWU9mZnNldCYmdGhpcy53cml0ZU5vZGUoIkRpc3BsYWNlbWVudFkiLGEubGFiZWxZT2Zmc2V0LGIpO3JldHVybiBifSxEaXNwbGFjZW1lbnRYOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpEaXNwbGFjZW1lbnRYIix7dmFsdWU6YX0pfSxEaXNwbGFjZW1lbnRZOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpEaXNwbGFjZW1lbnRZIix7dmFsdWU6YX0pfSwKRm9udDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpGb250Iik7YS5mb250RmFtaWx5JiZ0aGlzLndyaXRlTm9kZSgiQ3NzUGFyYW1ldGVyIix7c3ltYm9saXplcjphLGtleToiZm9udEZhbWlseSJ9LGIpO2EuZm9udFNpemUmJnRoaXMud3JpdGVOb2RlKCJDc3NQYXJhbWV0ZXIiLHtzeW1ib2xpemVyOmEsa2V5OiJmb250U2l6ZSJ9LGIpO2EuZm9udFdlaWdodCYmdGhpcy53cml0ZU5vZGUoIkNzc1BhcmFtZXRlciIse3N5bWJvbGl6ZXI6YSxrZXk6ImZvbnRXZWlnaHQifSxiKTthLmZvbnRTdHlsZSYmdGhpcy53cml0ZU5vZGUoIkNzc1BhcmFtZXRlciIse3N5bWJvbGl6ZXI6YSxrZXk6ImZvbnRTdHlsZSJ9LGIpO3JldHVybiBifSxMYWJlbDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy53cml0ZXJzLnNsZC5fT0dDRXhwcmVzc2lvbi5jYWxsKHRoaXMsInNsZDpMYWJlbCIsYSl9LEhhbG86ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6SGFsbyIpOwphLmhhbG9SYWRpdXMmJnRoaXMud3JpdGVOb2RlKCJSYWRpdXMiLGEuaGFsb1JhZGl1cyxiKTsoYS5oYWxvQ29sb3J8fGEuaGFsb09wYWNpdHkpJiZ0aGlzLndyaXRlTm9kZSgiRmlsbCIse2ZpbGxDb2xvcjphLmhhbG9Db2xvcixmaWxsT3BhY2l0eTphLmhhbG9PcGFjaXR5fSxiKTtyZXR1cm4gYn0sUmFkaXVzOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpSYWRpdXMiLHt2YWx1ZTphfSl9LFJhc3RlclN5bWJvbGl6ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6UmFzdGVyU3ltYm9saXplciIpO2EuZ2VvbWV0cnkmJnRoaXMud3JpdGVOb2RlKCJHZW9tZXRyeSIsYS5nZW9tZXRyeSxiKTthLm9wYWNpdHkmJnRoaXMud3JpdGVOb2RlKCJPcGFjaXR5IixhLm9wYWNpdHksYik7YS5jb2xvck1hcCYmdGhpcy53cml0ZU5vZGUoIkNvbG9yTWFwIixhLmNvbG9yTWFwLGIpO3JldHVybiBifSxHZW9tZXRyeTpmdW5jdGlvbihhKXt2YXIgYj0KdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6R2VvbWV0cnkiKTthLnByb3BlcnR5JiZ0aGlzLndyaXRlTm9kZSgib2djOlByb3BlcnR5TmFtZSIsYSxiKTtyZXR1cm4gYn0sQ29sb3JNYXA6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygic2xkOkNvbG9yTWFwIiksYz0wLGQ9YS5sZW5ndGg7YzxkOysrYyl0aGlzLndyaXRlTm9kZSgiQ29sb3JNYXBFbnRyeSIsYVtjXSxiKTtyZXR1cm4gYn0sQ29sb3JNYXBFbnRyeTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpDb2xvck1hcEVudHJ5Iik7Yi5zZXRBdHRyaWJ1dGUoImNvbG9yIixhLmNvbG9yKTt2b2lkIDAhPT1hLm9wYWNpdHkmJmIuc2V0QXR0cmlidXRlKCJvcGFjaXR5IixwYXJzZUZsb2F0KGEub3BhY2l0eSkpO3ZvaWQgMCE9PWEucXVhbnRpdHkmJmIuc2V0QXR0cmlidXRlKCJxdWFudGl0eSIscGFyc2VGbG9hdChhLnF1YW50aXR5KSk7dm9pZCAwIT09CmEubGFiZWwmJmIuc2V0QXR0cmlidXRlKCJsYWJlbCIsYS5sYWJlbCk7cmV0dXJuIGJ9LFBvbHlnb25TeW1ib2xpemVyOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygic2xkOlBvbHlnb25TeW1ib2xpemVyIik7ITEhPT1hLmZpbGwmJnRoaXMud3JpdGVOb2RlKCJGaWxsIixhLGIpOyExIT09YS5zdHJva2UmJnRoaXMud3JpdGVOb2RlKCJTdHJva2UiLGEsYik7cmV0dXJuIGJ9LEZpbGw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6RmlsbCIpO2EuZmlsbENvbG9yJiZ0aGlzLndyaXRlTm9kZSgiQ3NzUGFyYW1ldGVyIix7c3ltYm9saXplcjphLGtleToiZmlsbENvbG9yIn0sYik7bnVsbCE9YS5maWxsT3BhY2l0eSYmdGhpcy53cml0ZU5vZGUoIkNzc1BhcmFtZXRlciIse3N5bWJvbGl6ZXI6YSxrZXk6ImZpbGxPcGFjaXR5In0sYik7cmV0dXJuIGJ9LFBvaW50U3ltYm9saXplcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpQb2ludFN5bWJvbGl6ZXIiKTsKdGhpcy53cml0ZU5vZGUoIkdyYXBoaWMiLGEsYik7cmV0dXJuIGJ9LEdyYXBoaWM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6R3JhcGhpYyIpO3ZvaWQgMCE9YS5leHRlcm5hbEdyYXBoaWM/dGhpcy53cml0ZU5vZGUoIkV4dGVybmFsR3JhcGhpYyIsYSxiKTp0aGlzLndyaXRlTm9kZSgiTWFyayIsYSxiKTt2b2lkIDAhPWEuZ3JhcGhpY09wYWNpdHkmJnRoaXMud3JpdGVOb2RlKCJPcGFjaXR5IixhLmdyYXBoaWNPcGFjaXR5LGIpO3ZvaWQgMCE9YS5wb2ludFJhZGl1cz90aGlzLndyaXRlTm9kZSgiU2l6ZSIsMiphLnBvaW50UmFkaXVzLGIpOnZvaWQgMCE9YS5ncmFwaGljV2lkdGgmJnRoaXMud3JpdGVOb2RlKCJTaXplIixhLmdyYXBoaWNXaWR0aCxiKTt2b2lkIDAhPWEucm90YXRpb24mJnRoaXMud3JpdGVOb2RlKCJSb3RhdGlvbiIsYS5yb3RhdGlvbixiKTtyZXR1cm4gYn0sRXh0ZXJuYWxHcmFwaGljOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygic2xkOkV4dGVybmFsR3JhcGhpYyIpOwp0aGlzLndyaXRlTm9kZSgiT25saW5lUmVzb3VyY2UiLGEuZXh0ZXJuYWxHcmFwaGljLGIpO2E9YS5ncmFwaGljRm9ybWF0fHx0aGlzLmdldEdyYXBoaWNGb3JtYXQoYS5leHRlcm5hbEdyYXBoaWMpO3RoaXMud3JpdGVOb2RlKCJGb3JtYXQiLGEsYik7cmV0dXJuIGJ9LE1hcms6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6TWFyayIpO2EuZ3JhcGhpY05hbWUmJnRoaXMud3JpdGVOb2RlKCJXZWxsS25vd25OYW1lIixhLmdyYXBoaWNOYW1lLGIpOyExIT09YS5maWxsJiZ0aGlzLndyaXRlTm9kZSgiRmlsbCIsYSxiKTshMSE9PWEuc3Ryb2tlJiZ0aGlzLndyaXRlTm9kZSgiU3Ryb2tlIixhLGIpO3JldHVybiBifSxXZWxsS25vd25OYW1lOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpXZWxsS25vd25OYW1lIix7dmFsdWU6YX0pfSxPcGFjaXR5OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpPcGFjaXR5IiwKe3ZhbHVlOmF9KX0sU2l6ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy53cml0ZXJzLnNsZC5fT0dDRXhwcmVzc2lvbi5jYWxsKHRoaXMsInNsZDpTaXplIixhKX0sUm90YXRpb246ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygic2xkOlJvdGF0aW9uIix7dmFsdWU6YX0pfSxPbmxpbmVSZXNvdXJjZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6T25saW5lUmVzb3VyY2UiLHthdHRyaWJ1dGVzOnsieGxpbms6dHlwZSI6InNpbXBsZSIsInhsaW5rOmhyZWYiOmF9fSl9LEZvcm1hdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6Rm9ybWF0Iix7dmFsdWU6YX0pfX19LE9wZW5MYXllcnMuRm9ybWF0LkZpbHRlci52MV8wXzAucHJvdG90eXBlLndyaXRlcnMpLENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LlNMRC52MSJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5TTEQudjFfMF8wPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuU0xELnYxLHtWRVJTSU9OOiIxLjAuMCIsc2NoZW1hTG9jYXRpb246Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvc2xkIGh0dHA6Ly9zY2hlbWFzLm9wZW5naXMubmV0L3NsZC8xLjAuMC9TdHlsZWRMYXllckRlc2NyaXB0b3IueHNkIixDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5TTEQudjFfMF8wIn0pO09wZW5MYXllcnMuRm9ybWF0Lk9XU0NvbnRleHQ9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5Db250ZXh0LHtkZWZhdWx0VmVyc2lvbjoiMC4zLjEiLGdldFZlcnNpb246ZnVuY3Rpb24oYSxiKXt2YXIgYz1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwuVmVyc2lvbmVkT0dDLnByb3RvdHlwZS5nZXRWZXJzaW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTsiMC4zLjAiPT09YyYmKGM9dGhpcy5kZWZhdWx0VmVyc2lvbik7cmV0dXJuIGN9LHRvQ29udGV4dDpmdW5jdGlvbihhKXt2YXIgYj17fTsiT3BlbkxheWVycy5NYXAiPT1hLkNMQVNTX05BTUUmJihiLmJvdW5kcz1hLmdldEV4dGVudCgpLGIubWF4RXh0ZW50PWEubWF4RXh0ZW50LGIucHJvamVjdGlvbj1hLnByb2plY3Rpb24sYi5zaXplPWEuZ2V0U2l6ZSgpLGIubGF5ZXJzPWEubGF5ZXJzKTtyZXR1cm4gYn0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuT1dTQ29udGV4dCJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb250ZXh0LnYwXzNfMT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7bmFtZXNwYWNlczp7b3djOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L293cy1jb250ZXh0IixnbWw6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sIixrbWw6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQva21sLzIuMiIsb2djOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L29nYyIsb3dzOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L293cyIsc2xkOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3NsZCIseGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UifSxWRVJTSU9OOiIwLjMuMSIsc2NoZW1hTG9jYXRpb246Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvb3dzLWNvbnRleHQgaHR0cDovL3d3dy5vZ2NuZXR3b3JrLm5ldC9zY2hlbWFzL293Yy8wLjMuMS9vd3NDb250ZXh0LnhzZCIsCmRlZmF1bHRQcmVmaXg6Im93YyIsZXh0cmFjdEF0dHJpYnV0ZXM6ITAseHk6ITAscmVnRXhlczp7dHJpbVNwYWNlOi9eXHMqfFxzKiQvZyxyZW1vdmVTcGFjZTovXHMqL2csc3BsaXRTcGFjZTovXHMrLyx0cmltQ29tbWE6L1xzKixccyovZ30sZmVhdHVyZU5TOiJodHRwOi8vbWFwc2VydmVyLmdpcy51bW4uZWR1L21hcHNlcnZlciIsZmVhdHVyZVR5cGU6InZlY3RvciIsZ2VvbWV0cnlOYW1lOiJnZW9tZXRyeSIsbmVzdGluZ0xheWVyTG9va3VwOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pO09wZW5MYXllcnMuRm9ybWF0LkdNTC52Mi5wcm90b3R5cGUuc2V0R2VvbWV0cnlUeXBlcy5jYWxsKHRoaXMpfSxzZXROZXN0aW5nUGF0aDpmdW5jdGlvbihhKXtpZihhLmxheWVyc0NvbnRleHQpZm9yKHZhciBiPTAsYz1hLmxheWVyc0NvbnRleHQubGVuZ3RoO2I8YztiKyspe3ZhciBkPQphLmxheWVyc0NvbnRleHRbYl0sZT1bXSxmPWEudGl0bGV8fCIiO2EubWV0YWRhdGEmJmEubWV0YWRhdGEubmVzdGluZ1BhdGgmJihlPWEubWV0YWRhdGEubmVzdGluZ1BhdGguc2xpY2UoKSk7IiIhPWYmJmUucHVzaChmKTtkLm1ldGFkYXRhLm5lc3RpbmdQYXRoPWU7ZC5sYXllcnNDb250ZXh0JiZ0aGlzLnNldE5lc3RpbmdQYXRoKGQpfX0sZGVjb21wb3NlTmVzdGluZ1BhdGg6ZnVuY3Rpb24oYSl7dmFyIGI9W107aWYoT3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSkpe2ZvcihhPWEuc2xpY2UoKTswPGEubGVuZ3RoOyliLnB1c2goYS5zbGljZSgpKSxhLnBvcCgpO2IucmV2ZXJzZSgpfXJldHVybiBifSxyZWFkOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7YSYmOT09YS5ub2RlVHlwZSYmKGE9YS5kb2N1bWVudEVsZW1lbnQpO3ZhciBiPXt9O3RoaXMucmVhZE5vZGUoYSwKYik7dGhpcy5zZXROZXN0aW5nUGF0aCh7bGF5ZXJzQ29udGV4dDpiLmxheWVyc0NvbnRleHR9KTthPVtdO3RoaXMucHJvY2Vzc0xheWVyKGEsYik7ZGVsZXRlIGIubGF5ZXJzQ29udGV4dDtiLmxheWVyc0NvbnRleHQ9YTtyZXR1cm4gYn0scHJvY2Vzc0xheWVyOmZ1bmN0aW9uKGEsYil7aWYoYi5sYXllcnNDb250ZXh0KWZvcih2YXIgYz0wLGQ9Yi5sYXllcnNDb250ZXh0Lmxlbmd0aDtjPGQ7YysrKXt2YXIgZT1iLmxheWVyc0NvbnRleHRbY107YS5wdXNoKGUpO2UubGF5ZXJzQ29udGV4dCYmdGhpcy5wcm9jZXNzTGF5ZXIoYSxlKX19LHdyaXRlOmZ1bmN0aW9uKGEsYil7dGhpcy5uZXN0aW5nTGF5ZXJMb29rdXA9e307Yj1ifHx7fTtPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhiLGEpO3ZhciBjPXRoaXMud3JpdGVOb2RlKCJPV1NDb250ZXh0IixiKTt0aGlzLm5lc3RpbmdMYXllckxvb2t1cD1udWxsO3RoaXMuc2V0QXR0cmlidXRlTlMoYyx0aGlzLm5hbWVzcGFjZXMueHNpLAoieHNpOnNjaGVtYUxvY2F0aW9uIix0aGlzLnNjaGVtYUxvY2F0aW9uKTtyZXR1cm4gT3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS53cml0ZS5hcHBseSh0aGlzLFtjXSl9LHJlYWRlcnM6e2ttbDp7RG9jdW1lbnQ6ZnVuY3Rpb24oYSxiKXtiLmZlYXR1cmVzPShuZXcgT3BlbkxheWVycy5Gb3JtYXQuS01MKHtrbWxuczp0aGlzLm5hbWVzcGFjZXMua21sLGV4dHJhY3RTdHlsZXM6ITB9KSkucmVhZChhKX19LG93Yzp7T1dTQ29udGV4dDpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sR2VuZXJhbDpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sUmVzb3VyY2VMaXN0OmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxMYXllcjpmdW5jdGlvbihhLGIpe3ZhciBjPXttZXRhZGF0YTp7fSx2aXNpYmlsaXR5OiIxIiE9YS5nZXRBdHRyaWJ1dGUoImhpZGRlbiIpLHF1ZXJ5YWJsZToiMSI9PWEuZ2V0QXR0cmlidXRlKCJxdWVyeWFibGUiKSwKb3BhY2l0eTpudWxsIT1hLmdldEF0dHJpYnV0ZSgib3BhY2l0eSIpP3BhcnNlRmxvYXQoYS5nZXRBdHRyaWJ1dGUoIm9wYWNpdHkiKSk6bnVsbCxuYW1lOmEuZ2V0QXR0cmlidXRlKCJuYW1lIiksY2F0ZWdvcnlMYXllcjpudWxsPT1hLmdldEF0dHJpYnV0ZSgibmFtZSIpLGZvcm1hdHM6W10sc3R5bGVzOltdfTtiLmxheWVyc0NvbnRleHR8fChiLmxheWVyc0NvbnRleHQ9W10pO2IubGF5ZXJzQ29udGV4dC5wdXNoKGMpO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKX0sSW5saW5lR2VvbWV0cnk6ZnVuY3Rpb24oYSxiKXtiLmZlYXR1cmVzPVtdO3ZhciBjPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLHRoaXMubmFtZXNwYWNlcy5nbWwsImZlYXR1cmVNZW1iZXIiKSxkOzE8PWMubGVuZ3RoJiYoZD1jWzBdKTtkJiZkLmZpcnN0Q2hpbGQmJihjPWQuZmlyc3RDaGlsZC5uZXh0U2libGluZz9kLmZpcnN0Q2hpbGQubmV4dFNpYmxpbmc6ZC5maXJzdENoaWxkLHRoaXMuc2V0TmFtZXNwYWNlKCJmZWF0dXJlIiwKYy5uYW1lc3BhY2VVUkkpLHRoaXMuZmVhdHVyZVR5cGU9Yy5sb2NhbE5hbWV8fGMubm9kZU5hbWUuc3BsaXQoIjoiKS5wb3AoKSx0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYikpfSxTZXJ2ZXI6ZnVuY3Rpb24oYSxiKXtpZighYi5zZXJ2aWNlJiYhYi52ZXJzaW9ufHxiLnNlcnZpY2UhPU9wZW5MYXllcnMuRm9ybWF0LkNvbnRleHQuc2VydmljZVR5cGVzLldNUyliLnNlcnZpY2U9YS5nZXRBdHRyaWJ1dGUoInNlcnZpY2UiKSxiLnZlcnNpb249YS5nZXRBdHRyaWJ1dGUoInZlcnNpb24iKSx0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LE5hbWU6ZnVuY3Rpb24oYSxiKXtiLm5hbWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpO3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sVGl0bGU6ZnVuY3Rpb24oYSxiKXtiLnRpdGxlPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LFN0eWxlTGlzdDpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnN0eWxlcyl9LApTdHlsZTpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O2IucHVzaChjKTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyl9LExlZ2VuZFVSTDpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O2IubGVnZW5kPWM7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpfSxPbmxpbmVSZXNvdXJjZTpmdW5jdGlvbihhLGIpe2IudXJsPXRoaXMuZ2V0QXR0cmlidXRlTlMoYSx0aGlzLm5hbWVzcGFjZXMueGxpbmssImhyZWYiKTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9fSxvd3M6T3BlbkxheWVycy5Gb3JtYXQuT1dTQ29tbW9uLnYxXzBfMC5wcm90b3R5cGUucmVhZGVycy5vd3MsZ21sOk9wZW5MYXllcnMuRm9ybWF0LkdNTC52Mi5wcm90b3R5cGUucmVhZGVycy5nbWwsc2xkOk9wZW5MYXllcnMuRm9ybWF0LlNMRC52MV8wXzAucHJvdG90eXBlLnJlYWRlcnMuc2xkLGZlYXR1cmU6T3BlbkxheWVycy5Gb3JtYXQuR01MLnYyLnByb3RvdHlwZS5yZWFkZXJzLmZlYXR1cmV9LHdyaXRlcnM6e293Yzp7T1dTQ29udGV4dDpmdW5jdGlvbihhKXt2YXIgYj0KdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJPV1NDb250ZXh0Iix7YXR0cmlidXRlczp7dmVyc2lvbjp0aGlzLlZFUlNJT04saWQ6YS5pZHx8T3BlbkxheWVycy5VdGlsLmNyZWF0ZVVuaXF1ZUlEKCJPcGVuTGF5ZXJzX09XU0NvbnRleHRfIil9fSk7dGhpcy53cml0ZU5vZGUoIkdlbmVyYWwiLGEsYik7dGhpcy53cml0ZU5vZGUoIlJlc291cmNlTGlzdCIsYSxiKTtyZXR1cm4gYn0sR2VuZXJhbDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIkdlbmVyYWwiKTt0aGlzLndyaXRlTm9kZSgib3dzOkJvdW5kaW5nQm94IixhLGIpO3RoaXMud3JpdGVOb2RlKCJvd3M6VGl0bGUiLGEudGl0bGV8fCJPcGVuTGF5ZXJzIE9XU0NvbnRleHQiLGIpO3JldHVybiBifSxSZXNvdXJjZUxpc3Q6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiUmVzb3VyY2VMaXN0IiksYz0wLGQ9YS5sYXllcnMubGVuZ3RoO2M8ZDtjKyspe3ZhciBlPQphLmxheWVyc1tjXSxmPXRoaXMuZGVjb21wb3NlTmVzdGluZ1BhdGgoZS5tZXRhZGF0YS5uZXN0aW5nUGF0aCk7dGhpcy53cml0ZU5vZGUoIl9MYXllciIse2xheWVyOmUsc3ViUGF0aHM6Zn0sYil9cmV0dXJuIGJ9LFNlcnZlcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIlNlcnZlciIse2F0dHJpYnV0ZXM6e3ZlcnNpb246YS52ZXJzaW9uLHNlcnZpY2U6YS5zZXJ2aWNlfX0pO3RoaXMud3JpdGVOb2RlKCJPbmxpbmVSZXNvdXJjZSIsYSxiKTtyZXR1cm4gYn0sT25saW5lUmVzb3VyY2U6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiT25saW5lUmVzb3VyY2UiLHthdHRyaWJ1dGVzOnsieGxpbms6aHJlZiI6YS51cmx9fSl9LElubGluZUdlb21ldHJ5OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiSW5saW5lR2VvbWV0cnkiKSxjPWEuZ2V0RGF0YUV4dGVudCgpO251bGwhPT1jJiZ0aGlzLndyaXRlTm9kZSgiZ21sOmJvdW5kZWRCeSIsCmMsYik7Zm9yKHZhciBjPTAsZD1hLmZlYXR1cmVzLmxlbmd0aDtjPGQ7YysrKXRoaXMud3JpdGVOb2RlKCJnbWw6ZmVhdHVyZU1lbWJlciIsYS5mZWF0dXJlc1tjXSxiKTtyZXR1cm4gYn0sU3R5bGVMaXN0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIlN0eWxlTGlzdCIpLGM9MCxkPWEubGVuZ3RoO2M8ZDtjKyspdGhpcy53cml0ZU5vZGUoIlN0eWxlIixhW2NdLGIpO3JldHVybiBifSxTdHlsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIlN0eWxlIik7dGhpcy53cml0ZU5vZGUoIk5hbWUiLGEsYik7dGhpcy53cml0ZU5vZGUoIlRpdGxlIixhLGIpO2EubGVnZW5kJiZ0aGlzLndyaXRlTm9kZSgiTGVnZW5kVVJMIixhLGIpO3JldHVybiBifSxOYW1lOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIk5hbWUiLHt2YWx1ZTphLm5hbWV9KX0sVGl0bGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiVGl0bGUiLAp7dmFsdWU6YS50aXRsZX0pfSxMZWdlbmRVUkw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJMZWdlbmRVUkwiKTt0aGlzLndyaXRlTm9kZSgiT25saW5lUmVzb3VyY2UiLGEubGVnZW5kLGIpO3JldHVybiBifSxfV01TOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiTGF5ZXIiLHthdHRyaWJ1dGVzOntuYW1lOmEucGFyYW1zLkxBWUVSUyxxdWVyeWFibGU6YS5xdWVyeWFibGU/IjEiOiIwIixoaWRkZW46YS52aXNpYmlsaXR5PyIwIjoiMSIsb3BhY2l0eTphLmhhc093blByb3BlcnR5KCJvcGFjaXR5Iik/YS5vcGFjaXR5Om51bGx9fSk7dGhpcy53cml0ZU5vZGUoIm93czpUaXRsZSIsYS5uYW1lLGIpO3RoaXMud3JpdGVOb2RlKCJvd3M6T3V0cHV0Rm9ybWF0IixhLnBhcmFtcy5GT1JNQVQsYik7dGhpcy53cml0ZU5vZGUoIlNlcnZlciIse3NlcnZpY2U6T3BlbkxheWVycy5Gb3JtYXQuQ29udGV4dC5zZXJ2aWNlVHlwZXMuV01TLAp2ZXJzaW9uOmEucGFyYW1zLlZFUlNJT04sdXJsOmEudXJsfSxiKTthLm1ldGFkYXRhLnN0eWxlcyYmMDxhLm1ldGFkYXRhLnN0eWxlcy5sZW5ndGgmJnRoaXMud3JpdGVOb2RlKCJTdHlsZUxpc3QiLGEubWV0YWRhdGEuc3R5bGVzLGIpO3JldHVybiBifSxfTGF5ZXI6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkO2I9YS5sYXllcjtjPWEuc3ViUGF0aHM7ZD1udWxsOzA8Yy5sZW5ndGg/KGI9Y1swXS5qb2luKCIvIiksYz1iLmxhc3RJbmRleE9mKCIvIiksZD10aGlzLm5lc3RpbmdMYXllckxvb2t1cFtiXSxjPTA8Yz9iLnN1YnN0cmluZyhjKzEsYi5sZW5ndGgpOmIsZHx8KGQ9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJMYXllciIpLHRoaXMud3JpdGVOb2RlKCJvd3M6VGl0bGUiLGMsZCksdGhpcy5uZXN0aW5nTGF5ZXJMb29rdXBbYl09ZCksYS5zdWJQYXRocy5zaGlmdCgpLHRoaXMud3JpdGVOb2RlKCJfTGF5ZXIiLGEsZCkpOihiIGluc3RhbmNlb2YgT3BlbkxheWVycy5MYXllci5XTVM/CmQ9dGhpcy53cml0ZU5vZGUoIl9XTVMiLGIpOmIgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkxheWVyLlZlY3RvciYmKGIucHJvdG9jb2wgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLlByb3RvY29sLldGUy52MT9kPXRoaXMud3JpdGVOb2RlKCJfV0ZTIixiKTpiLnByb3RvY29sIGluc3RhbmNlb2YgT3BlbkxheWVycy5Qcm90b2NvbC5IVFRQP2IucHJvdG9jb2wuZm9ybWF0IGluc3RhbmNlb2YgT3BlbkxheWVycy5Gb3JtYXQuR01MPyhiLnByb3RvY29sLmZvcm1hdC52ZXJzaW9uPSIyLjEuMiIsZD10aGlzLndyaXRlTm9kZSgiX0dNTCIsYikpOmIucHJvdG9jb2wuZm9ybWF0IGluc3RhbmNlb2YgT3BlbkxheWVycy5Gb3JtYXQuS01MJiYoYi5wcm90b2NvbC5mb3JtYXQudmVyc2lvbj0iMi4yIixkPXRoaXMud3JpdGVOb2RlKCJfS01MIixiKSk6KHRoaXMuc2V0TmFtZXNwYWNlKCJmZWF0dXJlIix0aGlzLmZlYXR1cmVOUyksZD10aGlzLndyaXRlTm9kZSgiX0lubGluZUdlb21ldHJ5IixiKSkpLApiLm9wdGlvbnMubWF4U2NhbGUmJnRoaXMud3JpdGVOb2RlKCJzbGQ6TWluU2NhbGVEZW5vbWluYXRvciIsYi5vcHRpb25zLm1heFNjYWxlLGQpLGIub3B0aW9ucy5taW5TY2FsZSYmdGhpcy53cml0ZU5vZGUoInNsZDpNYXhTY2FsZURlbm9taW5hdG9yIixiLm9wdGlvbnMubWluU2NhbGUsZCksdGhpcy5uZXN0aW5nTGF5ZXJMb29rdXBbYi5uYW1lXT1kKTtyZXR1cm4gZH0sX1dGUzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIkxheWVyIix7YXR0cmlidXRlczp7bmFtZTphLnByb3RvY29sLmZlYXR1cmVQcmVmaXgrIjoiK2EucHJvdG9jb2wuZmVhdHVyZVR5cGUsaGlkZGVuOmEudmlzaWJpbGl0eT8iMCI6IjEifX0pO3RoaXMud3JpdGVOb2RlKCJvd3M6VGl0bGUiLGEubmFtZSxiKTt0aGlzLndyaXRlTm9kZSgiU2VydmVyIix7c2VydmljZTpPcGVuTGF5ZXJzLkZvcm1hdC5Db250ZXh0LnNlcnZpY2VUeXBlcy5XRlMsdmVyc2lvbjphLnByb3RvY29sLnZlcnNpb24sCnVybDphLnByb3RvY29sLnVybH0sYik7cmV0dXJuIGJ9LF9JbmxpbmVHZW9tZXRyeTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIkxheWVyIix7YXR0cmlidXRlczp7bmFtZTp0aGlzLmZlYXR1cmVUeXBlLGhpZGRlbjphLnZpc2liaWxpdHk/IjAiOiIxIn19KTt0aGlzLndyaXRlTm9kZSgib3dzOlRpdGxlIixhLm5hbWUsYik7dGhpcy53cml0ZU5vZGUoIklubGluZUdlb21ldHJ5IixhLGIpO3JldHVybiBifSxfR01MOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiTGF5ZXIiKTt0aGlzLndyaXRlTm9kZSgib3dzOlRpdGxlIixhLm5hbWUsYik7dGhpcy53cml0ZU5vZGUoIlNlcnZlciIse3NlcnZpY2U6T3BlbkxheWVycy5Gb3JtYXQuQ29udGV4dC5zZXJ2aWNlVHlwZXMuR01MLHVybDphLnByb3RvY29sLnVybCx2ZXJzaW9uOmEucHJvdG9jb2wuZm9ybWF0LnZlcnNpb259LGIpO3JldHVybiBifSxfS01MOmZ1bmN0aW9uKGEpe3ZhciBiPQp0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIkxheWVyIik7dGhpcy53cml0ZU5vZGUoIm93czpUaXRsZSIsYS5uYW1lLGIpO3RoaXMud3JpdGVOb2RlKCJTZXJ2ZXIiLHtzZXJ2aWNlOk9wZW5MYXllcnMuRm9ybWF0LkNvbnRleHQuc2VydmljZVR5cGVzLktNTCx2ZXJzaW9uOmEucHJvdG9jb2wuZm9ybWF0LnZlcnNpb24sdXJsOmEucHJvdG9jb2wudXJsfSxiKTtyZXR1cm4gYn19LGdtbDpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7Ym91bmRlZEJ5OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOmJvdW5kZWRCeSIpO3RoaXMud3JpdGVOb2RlKCJnbWw6Qm94IixhLGIpO3JldHVybiBifX0sT3BlbkxheWVycy5Gb3JtYXQuR01MLnYyLnByb3RvdHlwZS53cml0ZXJzLmdtbCksb3dzOk9wZW5MYXllcnMuRm9ybWF0Lk9XU0NvbW1vbi52MV8wXzAucHJvdG90eXBlLndyaXRlcnMub3dzLHNsZDpPcGVuTGF5ZXJzLkZvcm1hdC5TTEQudjFfMF8wLnByb3RvdHlwZS53cml0ZXJzLnNsZCwKZmVhdHVyZTpPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjIucHJvdG90eXBlLndyaXRlcnMuZmVhdHVyZX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuT1dTQ29udGV4dC52MF8zXzEifSk7T3BlbkxheWVycy5Db250cm9sLlRleHRCdXR0b25QYW5lbD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbC5QYW5lbCx7dmVydGljYWw6ITEsYWRkaXRpb25hbENsYXNzOm51bGwsZHJhdzpmdW5jdGlvbigpe09wZW5MYXllcnMuQ29udHJvbC5QYW5lbC5wcm90b3R5cGUuZHJhdy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5zZXRPcmllbnRhdGlvbkNsYXNzKCk7dGhpcy5zZXRBZGRpdGlvbmFsQ2xhc3MoKTtyZXR1cm4gdGhpcy5kaXZ9LHJlZHJhdzpmdW5jdGlvbigpe09wZW5MYXllcnMuQ29udHJvbC5QYW5lbC5wcm90b3R5cGUucmVkcmF3LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLnNldE9yaWVudGF0aW9uQ2xhc3MoKX0sc2V0T3JpZW50YXRpb25DbGFzczpmdW5jdGlvbigpe3RoaXMudmVydGljYWw/T3BlbkxheWVycy5FbGVtZW50LmFkZENsYXNzKHRoaXMuZGl2LCJ2ZXJ0aWNhbCIpOk9wZW5MYXllcnMuRWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLmRpdiwKInZlcnRpY2FsIil9LHNldEFkZGl0aW9uYWxDbGFzczpmdW5jdGlvbigpe3RoaXMuYWRkaXRpb25hbENsYXNzJiZPcGVuTGF5ZXJzLkVsZW1lbnQuYWRkQ2xhc3ModGhpcy5kaXYsdGhpcy5hZGRpdGlvbmFsQ2xhc3MpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuVGV4dEJ1dHRvblBhbmVsIn0pO09wZW5MYXllcnMuQ29udHJvbC5TY2FsZUxpbmU9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse21heFdpZHRoOjEwMCx0b3BPdXRVbml0czoia20iLHRvcEluVW5pdHM6Im0iLGJvdHRvbU91dFVuaXRzOiJtaSIsYm90dG9tSW5Vbml0czoiZnQiLGVUb3A6bnVsbCxlQm90dG9tOm51bGwsZ2VvZGVzaWM6ITEsZHJhdzpmdW5jdGlvbigpe09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZHJhdy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5lVG9wfHwodGhpcy5lVG9wPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuZVRvcC5jbGFzc05hbWU9dGhpcy5kaXNwbGF5Q2xhc3MrIlRvcCIsdGhpcy5kaXYuYXBwZW5kQ2hpbGQodGhpcy5lVG9wKSx0aGlzLmVUb3Auc3R5bGUudmlzaWJpbGl0eT0iIj09dGhpcy50b3BPdXRVbml0c3x8IiI9PXRoaXMudG9wSW5Vbml0cz8iaGlkZGVuIjoidmlzaWJsZSIsdGhpcy5lQm90dG9tPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLAp0aGlzLmVCb3R0b20uY2xhc3NOYW1lPXRoaXMuZGlzcGxheUNsYXNzKyJCb3R0b20iLHRoaXMuZGl2LmFwcGVuZENoaWxkKHRoaXMuZUJvdHRvbSksdGhpcy5lQm90dG9tLnN0eWxlLnZpc2liaWxpdHk9IiI9PXRoaXMuYm90dG9tT3V0VW5pdHN8fCIiPT10aGlzLmJvdHRvbUluVW5pdHM/ImhpZGRlbiI6InZpc2libGUiKTt0aGlzLm1hcC5ldmVudHMucmVnaXN0ZXIoIm1vdmVlbmQiLHRoaXMsdGhpcy51cGRhdGUpO3RoaXMudXBkYXRlKCk7cmV0dXJuIHRoaXMuZGl2fSxnZXRCYXJMZW46ZnVuY3Rpb24oYSl7dmFyIGI9cGFyc2VJbnQoTWF0aC5sb2coYSkvTWF0aC5sb2coMTApKSxiPU1hdGgucG93KDEwLGIpLGE9cGFyc2VJbnQoYS9iKTtyZXR1cm4oNTxhPzU6MjxhPzI6MSkqYn0sdXBkYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5tYXAuZ2V0UmVzb2x1dGlvbigpO2lmKGEpe3ZhciBiPXRoaXMubWFwLmdldFVuaXRzKCksYz1PcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVCxkPXRoaXMubWF4V2lkdGgqCmEqY1tiXSxlPTE7ITA9PT10aGlzLmdlb2Rlc2ljJiYoZT0odGhpcy5tYXAuZ2V0R2VvZGVzaWNQaXhlbFNpemUoKS53fHwxRS02KSp0aGlzLm1heFdpZHRoLyhkL2Mua20pLGQqPWUpO3ZhciBmLGc7MUU1PGQ/KGY9dGhpcy50b3BPdXRVbml0cyxnPXRoaXMuYm90dG9tT3V0VW5pdHMpOihmPXRoaXMudG9wSW5Vbml0cyxnPXRoaXMuYm90dG9tSW5Vbml0cyk7dmFyIGg9ZC9jW2ZdLGk9ZC9jW2ddLGQ9dGhpcy5nZXRCYXJMZW4oaCksaj10aGlzLmdldEJhckxlbihpKSxoPWQvY1tiXSpjW2ZdLGk9ai9jW2JdKmNbZ10sYj1oL2EvZSxhPWkvYS9lOyJ2aXNpYmxlIj09dGhpcy5lQm90dG9tLnN0eWxlLnZpc2liaWxpdHkmJih0aGlzLmVCb3R0b20uc3R5bGUud2lkdGg9TWF0aC5yb3VuZChhKSsicHgiLHRoaXMuZUJvdHRvbS5pbm5lckhUTUw9aisiICIrZyk7InZpc2libGUiPT10aGlzLmVUb3Auc3R5bGUudmlzaWJpbGl0eSYmKHRoaXMuZVRvcC5zdHlsZS53aWR0aD1NYXRoLnJvdW5kKGIpKwoicHgiLHRoaXMuZVRvcC5pbm5lckhUTUw9ZCsiICIrZil9fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuU2NhbGVMaW5lIn0pO09wZW5MYXllcnMuSWNvbj1PcGVuTGF5ZXJzLkNsYXNzKHt1cmw6bnVsbCxzaXplOm51bGwsb2Zmc2V0Om51bGwsY2FsY3VsYXRlT2Zmc2V0Om51bGwsaW1hZ2VEaXY6bnVsbCxweDpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy51cmw9YTt0aGlzLnNpemU9Ynx8e3c6MjAsaDoyMH07dGhpcy5vZmZzZXQ9Y3x8e3g6LSh0aGlzLnNpemUudy8yKSx5Oi0odGhpcy5zaXplLmgvMil9O3RoaXMuY2FsY3VsYXRlT2Zmc2V0PWQ7YT1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlVW5pcXVlSUQoIk9MX0ljb25fIik7dGhpcy5pbWFnZURpdj1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlQWxwaGFJbWFnZURpdihhKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZXJhc2UoKTtPcGVuTGF5ZXJzLkV2ZW50LnN0b3BPYnNlcnZpbmdFbGVtZW50KHRoaXMuaW1hZ2VEaXYuZmlyc3RDaGlsZCk7dGhpcy5pbWFnZURpdi5pbm5lckhUTUw9IiI7dGhpcy5pbWFnZURpdj1udWxsfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgT3BlbkxheWVycy5JY29uKHRoaXMudXJsLAp0aGlzLnNpemUsdGhpcy5vZmZzZXQsdGhpcy5jYWxjdWxhdGVPZmZzZXQpfSxzZXRTaXplOmZ1bmN0aW9uKGEpe251bGwhPWEmJih0aGlzLnNpemU9YSk7dGhpcy5kcmF3KCl9LHNldFVybDpmdW5jdGlvbihhKXtudWxsIT1hJiYodGhpcy51cmw9YSk7dGhpcy5kcmF3KCl9LGRyYXc6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5VdGlsLm1vZGlmeUFscGhhSW1hZ2VEaXYodGhpcy5pbWFnZURpdixudWxsLG51bGwsdGhpcy5zaXplLHRoaXMudXJsLCJhYnNvbHV0ZSIpO3RoaXMubW92ZVRvKGEpO3JldHVybiB0aGlzLmltYWdlRGl2fSxlcmFzZTpmdW5jdGlvbigpe251bGwhPXRoaXMuaW1hZ2VEaXYmJm51bGwhPXRoaXMuaW1hZ2VEaXYucGFyZW50Tm9kZSYmT3BlbkxheWVycy5FbGVtZW50LnJlbW92ZSh0aGlzLmltYWdlRGl2KX0sc2V0T3BhY2l0eTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlV0aWwubW9kaWZ5QWxwaGFJbWFnZURpdih0aGlzLmltYWdlRGl2LG51bGwsbnVsbCxudWxsLG51bGwsCm51bGwsbnVsbCxudWxsLGEpfSxtb3ZlVG86ZnVuY3Rpb24oYSl7bnVsbCE9YSYmKHRoaXMucHg9YSk7bnVsbCE9dGhpcy5pbWFnZURpdiYmKG51bGw9PXRoaXMucHg/dGhpcy5kaXNwbGF5KCExKToodGhpcy5jYWxjdWxhdGVPZmZzZXQmJih0aGlzLm9mZnNldD10aGlzLmNhbGN1bGF0ZU9mZnNldCh0aGlzLnNpemUpKSxPcGVuTGF5ZXJzLlV0aWwubW9kaWZ5QWxwaGFJbWFnZURpdih0aGlzLmltYWdlRGl2LG51bGwse3g6dGhpcy5weC54K3RoaXMub2Zmc2V0LngseTp0aGlzLnB4LnkrdGhpcy5vZmZzZXQueX0pKSl9LGRpc3BsYXk6ZnVuY3Rpb24oYSl7dGhpcy5pbWFnZURpdi5zdHlsZS5kaXNwbGF5PWE/IiI6Im5vbmUifSxpc0RyYXduOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1hZ2VEaXYmJnRoaXMuaW1hZ2VEaXYucGFyZW50Tm9kZSYmMTEhPXRoaXMuaW1hZ2VEaXYucGFyZW50Tm9kZS5ub2RlVHlwZX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5JY29uIn0pO09wZW5MYXllcnMuTWFya2VyPU9wZW5MYXllcnMuQ2xhc3Moe2ljb246bnVsbCxsb25sYXQ6bnVsbCxldmVudHM6bnVsbCxtYXA6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYil7dGhpcy5sb25sYXQ9YTt2YXIgYz1iP2I6T3BlbkxheWVycy5NYXJrZXIuZGVmYXVsdEljb24oKTtudWxsPT10aGlzLmljb24/dGhpcy5pY29uPWM6KHRoaXMuaWNvbi51cmw9Yy51cmwsdGhpcy5pY29uLnNpemU9Yy5zaXplLHRoaXMuaWNvbi5vZmZzZXQ9Yy5vZmZzZXQsdGhpcy5pY29uLmNhbGN1bGF0ZU9mZnNldD1jLmNhbGN1bGF0ZU9mZnNldCk7dGhpcy5ldmVudHM9bmV3IE9wZW5MYXllcnMuRXZlbnRzKHRoaXMsdGhpcy5pY29uLmltYWdlRGl2KX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZXJhc2UoKTt0aGlzLm1hcD1udWxsO3RoaXMuZXZlbnRzLmRlc3Ryb3koKTt0aGlzLmV2ZW50cz1udWxsO251bGwhPXRoaXMuaWNvbiYmKHRoaXMuaWNvbi5kZXN0cm95KCksdGhpcy5pY29uPW51bGwpfSwKZHJhdzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pY29uLmRyYXcoYSl9LGVyYXNlOmZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5pY29uJiZ0aGlzLmljb24uZXJhc2UoKX0sbW92ZVRvOmZ1bmN0aW9uKGEpe251bGwhPWEmJm51bGwhPXRoaXMuaWNvbiYmdGhpcy5pY29uLm1vdmVUbyhhKTt0aGlzLmxvbmxhdD10aGlzLm1hcC5nZXRMb25MYXRGcm9tTGF5ZXJQeChhKX0saXNEcmF3bjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmljb24mJnRoaXMuaWNvbi5pc0RyYXduKCl9LG9uU2NyZWVuOmZ1bmN0aW9uKCl7dmFyIGE9ITE7dGhpcy5tYXAmJihhPXRoaXMubWFwLmdldEV4dGVudCgpLmNvbnRhaW5zTG9uTGF0KHRoaXMubG9ubGF0KSk7cmV0dXJuIGF9LGluZmxhdGU6ZnVuY3Rpb24oYSl7dGhpcy5pY29uJiZ0aGlzLmljb24uc2V0U2l6ZSh7dzp0aGlzLmljb24uc2l6ZS53KmEsaDp0aGlzLmljb24uc2l6ZS5oKmF9KX0sc2V0T3BhY2l0eTpmdW5jdGlvbihhKXt0aGlzLmljb24uc2V0T3BhY2l0eShhKX0sCnNldFVybDpmdW5jdGlvbihhKXt0aGlzLmljb24uc2V0VXJsKGEpfSxkaXNwbGF5OmZ1bmN0aW9uKGEpe3RoaXMuaWNvbi5kaXNwbGF5KGEpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLk1hcmtlciJ9KTtPcGVuTGF5ZXJzLk1hcmtlci5kZWZhdWx0SWNvbj1mdW5jdGlvbigpe3JldHVybiBuZXcgT3BlbkxheWVycy5JY29uKE9wZW5MYXllcnMuVXRpbC5nZXRJbWFnZUxvY2F0aW9uKCJtYXJrZXIucG5nIikse3c6MjEsaDoyNX0se3g6LTEwLjUseTotMjV9KX07T3BlbkxheWVycy5MYXllci5UaWxlQ2FjaGU9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkxheWVyLkdyaWQse2lzQmFzZUxheWVyOiEwLGZvcm1hdDoiaW1hZ2UvcG5nIixzZXJ2ZXJSZXNvbHV0aW9uczpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5sYXllcm5hbWU9YztPcGVuTGF5ZXJzLkxheWVyLkdyaWQucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYSxiLHt9LGRdKTt0aGlzLmV4dGVuc2lvbj10aGlzLmZvcm1hdC5zcGxpdCgiLyIpWzFdLnRvTG93ZXJDYXNlKCk7dGhpcy5leHRlbnNpb249ImpwZyI9PXRoaXMuZXh0ZW5zaW9uPyJqcGVnIjp0aGlzLmV4dGVuc2lvbn0sY2xvbmU6ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9bmV3IE9wZW5MYXllcnMuTGF5ZXIuVGlsZUNhY2hlKHRoaXMubmFtZSx0aGlzLnVybCx0aGlzLmxheWVybmFtZSx0aGlzLmdldE9wdGlvbnMoKSkpO3JldHVybiBhPU9wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUuY2xvbmUuYXBwbHkodGhpcywKW2FdKX0sZ2V0VVJMOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0U2VydmVyUmVzb2x1dGlvbigpLGM9dGhpcy5tYXhFeHRlbnQsZD10aGlzLnRpbGVTaXplLGU9TWF0aC5yb3VuZCgoYS5sZWZ0LWMubGVmdCkvKGIqZC53KSksYT1NYXRoLnJvdW5kKChhLmJvdHRvbS1jLmJvdHRvbSkvKGIqZC5oKSksYj1udWxsIT10aGlzLnNlcnZlclJlc29sdXRpb25zP09wZW5MYXllcnMuVXRpbC5pbmRleE9mKHRoaXMuc2VydmVyUmVzb2x1dGlvbnMsYik6dGhpcy5tYXAuZ2V0Wm9vbSgpLGU9W3RoaXMubGF5ZXJuYW1lLE9wZW5MYXllcnMuTnVtYmVyLnplcm9QYWQoYiwyKSxPcGVuTGF5ZXJzLk51bWJlci56ZXJvUGFkKHBhcnNlSW50KGUvMUU2KSwzKSxPcGVuTGF5ZXJzLk51bWJlci56ZXJvUGFkKHBhcnNlSW50KGUvMUUzKSUxRTMsMyksT3BlbkxheWVycy5OdW1iZXIuemVyb1BhZChwYXJzZUludChlKSUxRTMsMyksT3BlbkxheWVycy5OdW1iZXIuemVyb1BhZChwYXJzZUludChhLzFFNiksCjMpLE9wZW5MYXllcnMuTnVtYmVyLnplcm9QYWQocGFyc2VJbnQoYS8xRTMpJTFFMywzKSxPcGVuTGF5ZXJzLk51bWJlci56ZXJvUGFkKHBhcnNlSW50KGEpJTFFMywzKSsiLiIrdGhpcy5leHRlbnNpb25dLmpvaW4oIi8iKSxiPXRoaXMudXJsO09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGIpJiYoYj10aGlzLnNlbGVjdFVybChlLGIpKTtiPSIvIj09Yi5jaGFyQXQoYi5sZW5ndGgtMSk/YjpiKyIvIjtyZXR1cm4gYitlfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLlRpbGVDYWNoZSJ9KTtPcGVuTGF5ZXJzLlN0cmF0ZWd5LlBhZ2luZz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuU3RyYXRlZ3kse2ZlYXR1cmVzOm51bGwsbGVuZ3RoOjEwLG51bTpudWxsLHBhZ2luZzohMSxhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPU9wZW5MYXllcnMuU3RyYXRlZ3kucHJvdG90eXBlLmFjdGl2YXRlLmNhbGwodGhpcyk7aWYoYSl0aGlzLmxheWVyLmV2ZW50cy5vbih7YmVmb3JlZmVhdHVyZXNhZGRlZDp0aGlzLmNhY2hlRmVhdHVyZXMsc2NvcGU6dGhpc30pO3JldHVybiBhfSxkZWFjdGl2YXRlOmZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5TdHJhdGVneS5wcm90b3R5cGUuZGVhY3RpdmF0ZS5jYWxsKHRoaXMpO2EmJih0aGlzLmNsZWFyQ2FjaGUoKSx0aGlzLmxheWVyLmV2ZW50cy51bih7YmVmb3JlZmVhdHVyZXNhZGRlZDp0aGlzLmNhY2hlRmVhdHVyZXMsc2NvcGU6dGhpc30pKTtyZXR1cm4gYX0sY2FjaGVGZWF0dXJlczpmdW5jdGlvbihhKXt0aGlzLnBhZ2luZ3x8KHRoaXMuY2xlYXJDYWNoZSgpLAp0aGlzLmZlYXR1cmVzPWEuZmVhdHVyZXMsdGhpcy5wYWdlTmV4dChhKSl9LGNsZWFyQ2FjaGU6ZnVuY3Rpb24oKXtpZih0aGlzLmZlYXR1cmVzKWZvcih2YXIgYT0wO2E8dGhpcy5mZWF0dXJlcy5sZW5ndGg7KythKXRoaXMuZmVhdHVyZXNbYV0uZGVzdHJveSgpO3RoaXMubnVtPXRoaXMuZmVhdHVyZXM9bnVsbH0scGFnZUNvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguY2VpbCgodGhpcy5mZWF0dXJlcz90aGlzLmZlYXR1cmVzLmxlbmd0aDowKS90aGlzLmxlbmd0aCl9LHBhZ2VOdW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5udW19LHBhZ2VMZW5ndGg6ZnVuY3Rpb24oYSl7YSYmMDxhJiYodGhpcy5sZW5ndGg9YSk7cmV0dXJuIHRoaXMubGVuZ3RofSxwYWdlTmV4dDpmdW5jdGlvbihhKXt2YXIgYj0hMTt0aGlzLmZlYXR1cmVzJiYobnVsbD09PXRoaXMubnVtJiYodGhpcy5udW09LTEpLGI9dGhpcy5wYWdlKCh0aGlzLm51bSsxKSp0aGlzLmxlbmd0aCxhKSk7cmV0dXJuIGJ9LHBhZ2VQcmV2aW91czpmdW5jdGlvbigpe3ZhciBhPQohMTt0aGlzLmZlYXR1cmVzJiYobnVsbD09PXRoaXMubnVtJiYodGhpcy5udW09dGhpcy5wYWdlQ291bnQoKSksYT10aGlzLnBhZ2UoKHRoaXMubnVtLTEpKnRoaXMubGVuZ3RoKSk7cmV0dXJuIGF9LHBhZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz0hMTtpZih0aGlzLmZlYXR1cmVzJiYwPD1hJiZhPHRoaXMuZmVhdHVyZXMubGVuZ3RoKXt2YXIgZD1NYXRoLmZsb29yKGEvdGhpcy5sZW5ndGgpO2QhPXRoaXMubnVtJiYodGhpcy5wYWdpbmc9ITAsYz10aGlzLmZlYXR1cmVzLnNsaWNlKGEsYSt0aGlzLmxlbmd0aCksdGhpcy5sYXllci5yZW1vdmVGZWF0dXJlcyh0aGlzLmxheWVyLmZlYXR1cmVzKSx0aGlzLm51bT1kLGImJmIuZmVhdHVyZXM/Yi5mZWF0dXJlcz1jOnRoaXMubGF5ZXIuYWRkRmVhdHVyZXMoYyksdGhpcy5wYWdpbmc9ITEsYz0hMCl9cmV0dXJuIGN9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuU3RyYXRlZ3kuUGFnaW5nIn0pO09wZW5MYXllcnMuSGFuZGxlci5Cb3g9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkhhbmRsZXIse2RyYWdIYW5kbGVyOm51bGwsYm94RGl2Q2xhc3NOYW1lOiJvbEhhbmRsZXJCb3hab29tQm94Iixib3hPZmZzZXRzOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyl7T3BlbkxheWVycy5IYW5kbGVyLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmRyYWdIYW5kbGVyPW5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuRHJhZyh0aGlzLHtkb3duOnRoaXMuc3RhcnRCb3gsbW92ZTp0aGlzLm1vdmVCb3gsb3V0OnRoaXMucmVtb3ZlQm94LHVwOnRoaXMuZW5kQm94fSx7a2V5TWFzazp0aGlzLmtleU1hc2t9KX0sZGVzdHJveTpmdW5jdGlvbigpe09wZW5MYXllcnMuSGFuZGxlci5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5kcmFnSGFuZGxlciYmKHRoaXMuZHJhZ0hhbmRsZXIuZGVzdHJveSgpLHRoaXMuZHJhZ0hhbmRsZXI9Cm51bGwpfSxzZXRNYXA6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5IYW5kbGVyLnByb3RvdHlwZS5zZXRNYXAuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZHJhZ0hhbmRsZXImJnRoaXMuZHJhZ0hhbmRsZXIuc2V0TWFwKGEpfSxzdGFydEJveDpmdW5jdGlvbigpe3RoaXMuY2FsbGJhY2soInN0YXJ0IixbXSk7dGhpcy56b29tQm94PU9wZW5MYXllcnMuVXRpbC5jcmVhdGVEaXYoInpvb21Cb3giLHt4Oi05OTk5LHk6LTk5OTl9KTt0aGlzLnpvb21Cb3guY2xhc3NOYW1lPXRoaXMuYm94RGl2Q2xhc3NOYW1lO3RoaXMuem9vbUJveC5zdHlsZS56SW5kZXg9dGhpcy5tYXAuWl9JTkRFWF9CQVNFLlBvcHVwLTE7dGhpcy5tYXAudmlld1BvcnREaXYuYXBwZW5kQ2hpbGQodGhpcy56b29tQm94KTtPcGVuTGF5ZXJzLkVsZW1lbnQuYWRkQ2xhc3ModGhpcy5tYXAudmlld1BvcnREaXYsIm9sRHJhd0JveCIpfSxtb3ZlQm94OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZHJhZ0hhbmRsZXIuc3RhcnQueCwKYz10aGlzLmRyYWdIYW5kbGVyLnN0YXJ0LnksZD1NYXRoLmFicyhiLWEueCksZT1NYXRoLmFicyhjLWEueSksZj10aGlzLmdldEJveE9mZnNldHMoKTt0aGlzLnpvb21Cb3guc3R5bGUud2lkdGg9ZCtmLndpZHRoKzErInB4Ijt0aGlzLnpvb21Cb3guc3R5bGUuaGVpZ2h0PWUrZi5oZWlnaHQrMSsicHgiO3RoaXMuem9vbUJveC5zdHlsZS5sZWZ0PShhLng8Yj9iLWQtZi5sZWZ0OmItZi5sZWZ0KSsicHgiO3RoaXMuem9vbUJveC5zdHlsZS50b3A9KGEueTxjP2MtZS1mLnRvcDpjLWYudG9wKSsicHgifSxlbmRCb3g6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoNTxNYXRoLmFicyh0aGlzLmRyYWdIYW5kbGVyLnN0YXJ0LngtYS54KXx8NTxNYXRoLmFicyh0aGlzLmRyYWdIYW5kbGVyLnN0YXJ0LnktYS55KSl7dmFyIGM9dGhpcy5kcmFnSGFuZGxlci5zdGFydDtiPU1hdGgubWluKGMueSxhLnkpO3ZhciBkPU1hdGgubWF4KGMueSxhLnkpLGU9TWF0aC5taW4oYy54LGEueCksYT1NYXRoLm1heChjLngsCmEueCk7Yj1uZXcgT3BlbkxheWVycy5Cb3VuZHMoZSxkLGEsYil9ZWxzZSBiPXRoaXMuZHJhZ0hhbmRsZXIuc3RhcnQuY2xvbmUoKTt0aGlzLnJlbW92ZUJveCgpO3RoaXMuY2FsbGJhY2soImRvbmUiLFtiXSl9LHJlbW92ZUJveDpmdW5jdGlvbigpe3RoaXMubWFwLnZpZXdQb3J0RGl2LnJlbW92ZUNoaWxkKHRoaXMuem9vbUJveCk7dGhpcy5ib3hPZmZzZXRzPXRoaXMuem9vbUJveD1udWxsO09wZW5MYXllcnMuRWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm1hcC52aWV3UG9ydERpdiwib2xEcmF3Qm94Iil9LGFjdGl2YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIE9wZW5MYXllcnMuSGFuZGxlci5wcm90b3R5cGUuYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpPyh0aGlzLmRyYWdIYW5kbGVyLmFjdGl2YXRlKCksITApOiExfSxkZWFjdGl2YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIE9wZW5MYXllcnMuSGFuZGxlci5wcm90b3R5cGUuZGVhY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk/Cih0aGlzLmRyYWdIYW5kbGVyLmRlYWN0aXZhdGUoKSYmdGhpcy56b29tQm94JiZ0aGlzLnJlbW92ZUJveCgpLCEwKTohMX0sZ2V0Qm94T2Zmc2V0czpmdW5jdGlvbigpe2lmKCF0aGlzLmJveE9mZnNldHMpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Euc3R5bGUucG9zaXRpb249ImFic29sdXRlIjthLnN0eWxlLmJvcmRlcj0iMXB4IHNvbGlkIGJsYWNrIjthLnN0eWxlLndpZHRoPSIzcHgiO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7dmFyIGI9Mz09YS5jbGllbnRXaWR0aDtkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpO3ZhciBhPXBhcnNlSW50KE9wZW5MYXllcnMuRWxlbWVudC5nZXRTdHlsZSh0aGlzLnpvb21Cb3gsImJvcmRlci1sZWZ0LXdpZHRoIikpLGM9cGFyc2VJbnQoT3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKHRoaXMuem9vbUJveCwiYm9yZGVyLXJpZ2h0LXdpZHRoIikpLGQ9cGFyc2VJbnQoT3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKHRoaXMuem9vbUJveCwKImJvcmRlci10b3Atd2lkdGgiKSksZT1wYXJzZUludChPcGVuTGF5ZXJzLkVsZW1lbnQuZ2V0U3R5bGUodGhpcy56b29tQm94LCJib3JkZXItYm90dG9tLXdpZHRoIikpO3RoaXMuYm94T2Zmc2V0cz17bGVmdDphLHJpZ2h0OmMsdG9wOmQsYm90dG9tOmUsd2lkdGg6ITE9PT1iP2ErYzowLGhlaWdodDohMT09PWI/ZCtlOjB9fXJldHVybiB0aGlzLmJveE9mZnNldHN9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuSGFuZGxlci5Cb3gifSk7T3BlbkxheWVycy5Db250cm9sLlpvb21Cb3g9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse3R5cGU6T3BlbkxheWVycy5Db250cm9sLlRZUEVfVE9PTCxvdXQ6ITEsa2V5TWFzazpudWxsLGFsd2F5c1pvb206ITEsem9vbU9uQ2xpY2s6ITAsZHJhdzpmdW5jdGlvbigpe3RoaXMuaGFuZGxlcj1uZXcgT3BlbkxheWVycy5IYW5kbGVyLkJveCh0aGlzLHtkb25lOnRoaXMuem9vbUJveH0se2tleU1hc2s6dGhpcy5rZXlNYXNrfSl9LHpvb21Cb3g6ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIE9wZW5MYXllcnMuQm91bmRzKXt2YXIgYixjPWEuZ2V0Q2VudGVyUGl4ZWwoKTtpZih0aGlzLm91dCl7Yj1NYXRoLm1pbih0aGlzLm1hcC5zaXplLmgvKGEuYm90dG9tLWEudG9wKSx0aGlzLm1hcC5zaXplLncvKGEucmlnaHQtYS5sZWZ0KSk7dmFyIGQ9dGhpcy5tYXAuZ2V0RXh0ZW50KCksZT10aGlzLm1hcC5nZXRMb25MYXRGcm9tUGl4ZWwoYyksZj1lLmxvbi1kLmdldFdpZHRoKCkvCjIqYixhPWUubG9uK2QuZ2V0V2lkdGgoKS8yKmIsZz1lLmxhdC1kLmdldEhlaWdodCgpLzIqYjtiPWUubGF0K2QuZ2V0SGVpZ2h0KCkvMipiO2I9bmV3IE9wZW5MYXllcnMuQm91bmRzKGYsZyxhLGIpfWVsc2UgZj10aGlzLm1hcC5nZXRMb25MYXRGcm9tUGl4ZWwoe3g6YS5sZWZ0LHk6YS5ib3R0b219KSxhPXRoaXMubWFwLmdldExvbkxhdEZyb21QaXhlbCh7eDphLnJpZ2h0LHk6YS50b3B9KSxiPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhmLmxvbixmLmxhdCxhLmxvbixhLmxhdCk7Zj10aGlzLm1hcC5nZXRab29tKCk7Zz10aGlzLm1hcC5nZXRTaXplKCk7YT1nLncvMjtnPWcuaC8yO2I9dGhpcy5tYXAuZ2V0Wm9vbUZvckV4dGVudChiKTtkPXRoaXMubWFwLmdldFJlc29sdXRpb24oKTtlPXRoaXMubWFwLmdldFJlc29sdXRpb25Gb3Jab29tKGIpO2Q9PWU/dGhpcy5tYXAuc2V0Q2VudGVyKHRoaXMubWFwLmdldExvbkxhdEZyb21QaXhlbChjKSk6dGhpcy5tYXAuem9vbVRvKGIse3g6KGQqCmMueC1lKmEpLyhkLWUpLHk6KGQqYy55LWUqZykvKGQtZSl9KTtmPT10aGlzLm1hcC5nZXRab29tKCkmJiEwPT10aGlzLmFsd2F5c1pvb20mJnRoaXMubWFwLnpvb21UbyhmKyh0aGlzLm91dD8tMToxKSl9ZWxzZSB0aGlzLnpvb21PbkNsaWNrJiYodGhpcy5vdXQ/dGhpcy5tYXAuem9vbVRvKHRoaXMubWFwLmdldFpvb20oKS0xLGEpOnRoaXMubWFwLnpvb21Ubyh0aGlzLm1hcC5nZXRab29tKCkrMSxhKSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5ab29tQm94In0pO09wZW5MYXllcnMuQ29udHJvbC5EcmFnUGFuPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHt0eXBlOk9wZW5MYXllcnMuQ29udHJvbC5UWVBFX1RPT0wscGFubmVkOiExLGludGVydmFsOjAsZG9jdW1lbnREcmFnOiExLGtpbmV0aWM6bnVsbCxlbmFibGVLaW5ldGljOiEwLGtpbmV0aWNJbnRlcnZhbDoxMCxkcmF3OmZ1bmN0aW9uKCl7aWYodGhpcy5lbmFibGVLaW5ldGljJiZPcGVuTGF5ZXJzLktpbmV0aWMpe3ZhciBhPXtpbnRlcnZhbDp0aGlzLmtpbmV0aWNJbnRlcnZhbH07Im9iamVjdCI9PT10eXBlb2YgdGhpcy5lbmFibGVLaW5ldGljJiYoYT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGEsdGhpcy5lbmFibGVLaW5ldGljKSk7dGhpcy5raW5ldGljPW5ldyBPcGVuTGF5ZXJzLktpbmV0aWMoYSl9dGhpcy5oYW5kbGVyPW5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuRHJhZyh0aGlzLHttb3ZlOnRoaXMucGFuTWFwLGRvbmU6dGhpcy5wYW5NYXBEb25lLGRvd246dGhpcy5wYW5NYXBTdGFydH0sCntpbnRlcnZhbDp0aGlzLmludGVydmFsLGRvY3VtZW50RHJhZzp0aGlzLmRvY3VtZW50RHJhZ30pfSxwYW5NYXBTdGFydDpmdW5jdGlvbigpe3RoaXMua2luZXRpYyYmdGhpcy5raW5ldGljLmJlZ2luKCl9LHBhbk1hcDpmdW5jdGlvbihhKXt0aGlzLmtpbmV0aWMmJnRoaXMua2luZXRpYy51cGRhdGUoYSk7dGhpcy5wYW5uZWQ9ITA7dGhpcy5tYXAucGFuKHRoaXMuaGFuZGxlci5sYXN0LngtYS54LHRoaXMuaGFuZGxlci5sYXN0LnktYS55LHtkcmFnZ2luZzohMCxhbmltYXRlOiExfSl9LHBhbk1hcERvbmU6ZnVuY3Rpb24oYSl7aWYodGhpcy5wYW5uZWQpe3ZhciBiPW51bGw7dGhpcy5raW5ldGljJiYoYj10aGlzLmtpbmV0aWMuZW5kKGEpKTt0aGlzLm1hcC5wYW4odGhpcy5oYW5kbGVyLmxhc3QueC1hLngsdGhpcy5oYW5kbGVyLmxhc3QueS1hLnkse2RyYWdnaW5nOiEhYixhbmltYXRlOiExfSk7aWYoYil7dmFyIGM9dGhpczt0aGlzLmtpbmV0aWMubW92ZShiLGZ1bmN0aW9uKGEsYiwKZil7Yy5tYXAucGFuKGEsYix7ZHJhZ2dpbmc6IWYsYW5pbWF0ZTohMX0pfSl9dGhpcy5wYW5uZWQ9ITF9fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuRHJhZ1BhbiJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuTmF2aWdhdGlvbj1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbCx7ZHJhZ1BhbjpudWxsLGRyYWdQYW5PcHRpb25zOm51bGwscGluY2hab29tOm51bGwscGluY2hab29tT3B0aW9uczpudWxsLGRvY3VtZW50RHJhZzohMSx6b29tQm94Om51bGwsem9vbUJveEVuYWJsZWQ6ITAsem9vbVdoZWVsRW5hYmxlZDohMCxtb3VzZVdoZWVsT3B0aW9uczpudWxsLGhhbmRsZVJpZ2h0Q2xpY2tzOiExLHpvb21Cb3hLZXlNYXNrOk9wZW5MYXllcnMuSGFuZGxlci5NT0RfU0hJRlQsYXV0b0FjdGl2YXRlOiEwLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7dGhpcy5oYW5kbGVycz17fTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5kZWFjdGl2YXRlKCk7dGhpcy5kcmFnUGFuJiZ0aGlzLmRyYWdQYW4uZGVzdHJveSgpO3RoaXMuZHJhZ1Bhbj1udWxsOwp0aGlzLnpvb21Cb3gmJnRoaXMuem9vbUJveC5kZXN0cm95KCk7dGhpcy56b29tQm94PW51bGw7dGhpcy5waW5jaFpvb20mJnRoaXMucGluY2hab29tLmRlc3Ryb3koKTt0aGlzLnBpbmNoWm9vbT1udWxsO09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGFjdGl2YXRlOmZ1bmN0aW9uKCl7dGhpcy5kcmFnUGFuLmFjdGl2YXRlKCk7dGhpcy56b29tV2hlZWxFbmFibGVkJiZ0aGlzLmhhbmRsZXJzLndoZWVsLmFjdGl2YXRlKCk7dGhpcy5oYW5kbGVycy5jbGljay5hY3RpdmF0ZSgpO3RoaXMuem9vbUJveEVuYWJsZWQmJnRoaXMuem9vbUJveC5hY3RpdmF0ZSgpO3RoaXMucGluY2hab29tJiZ0aGlzLnBpbmNoWm9vbS5hY3RpdmF0ZSgpO3JldHVybiBPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmFjdGl2YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3RoaXMucGluY2hab29tJiZ0aGlzLnBpbmNoWm9vbS5kZWFjdGl2YXRlKCk7CnRoaXMuem9vbUJveC5kZWFjdGl2YXRlKCk7dGhpcy5kcmFnUGFuLmRlYWN0aXZhdGUoKTt0aGlzLmhhbmRsZXJzLmNsaWNrLmRlYWN0aXZhdGUoKTt0aGlzLmhhbmRsZXJzLndoZWVsLmRlYWN0aXZhdGUoKTtyZXR1cm4gT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZWFjdGl2YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZHJhdzpmdW5jdGlvbigpe3RoaXMuaGFuZGxlUmlnaHRDbGlja3MmJih0aGlzLm1hcC52aWV3UG9ydERpdi5vbmNvbnRleHRtZW51PU9wZW5MYXllcnMuRnVuY3Rpb24uRmFsc2UpO3RoaXMuaGFuZGxlcnMuY2xpY2s9bmV3IE9wZW5MYXllcnMuSGFuZGxlci5DbGljayh0aGlzLHtjbGljazp0aGlzLmRlZmF1bHRDbGljayxkYmxjbGljazp0aGlzLmRlZmF1bHREYmxDbGljayxkYmxyaWdodGNsaWNrOnRoaXMuZGVmYXVsdERibFJpZ2h0Q2xpY2t9LHsiZG91YmxlIjohMCxzdG9wRG91YmxlOiEwfSk7dGhpcy5kcmFnUGFuPW5ldyBPcGVuTGF5ZXJzLkNvbnRyb2wuRHJhZ1BhbihPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHttYXA6dGhpcy5tYXAsCmRvY3VtZW50RHJhZzp0aGlzLmRvY3VtZW50RHJhZ30sdGhpcy5kcmFnUGFuT3B0aW9ucykpO3RoaXMuem9vbUJveD1uZXcgT3BlbkxheWVycy5Db250cm9sLlpvb21Cb3goe21hcDp0aGlzLm1hcCxrZXlNYXNrOnRoaXMuem9vbUJveEtleU1hc2t9KTt0aGlzLmRyYWdQYW4uZHJhdygpO3RoaXMuem9vbUJveC5kcmF3KCk7dGhpcy5oYW5kbGVycy53aGVlbD1uZXcgT3BlbkxheWVycy5IYW5kbGVyLk1vdXNlV2hlZWwodGhpcyx7dXA6dGhpcy53aGVlbFVwLGRvd246dGhpcy53aGVlbERvd259LE9wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcy5tYXAuZnJhY3Rpb25hbFpvb20/e306e2N1bXVsYXRpdmU6ITEsaW50ZXJ2YWw6NTAsbWF4RGVsdGE6Nn0sdGhpcy5tb3VzZVdoZWVsT3B0aW9ucykpO09wZW5MYXllcnMuQ29udHJvbC5QaW5jaFpvb20mJih0aGlzLnBpbmNoWm9vbT1uZXcgT3BlbkxheWVycy5Db250cm9sLlBpbmNoWm9vbShPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHttYXA6dGhpcy5tYXB9LAp0aGlzLnBpbmNoWm9vbU9wdGlvbnMpKSl9LGRlZmF1bHRDbGljazpmdW5jdGlvbihhKXthLmxhc3RUb3VjaGVzJiYyPT1hLmxhc3RUb3VjaGVzLmxlbmd0aCYmdGhpcy5tYXAuem9vbU91dCgpfSxkZWZhdWx0RGJsQ2xpY2s6ZnVuY3Rpb24oYSl7dGhpcy5tYXAuem9vbVRvKHRoaXMubWFwLnpvb20rMSxhLnh5KX0sZGVmYXVsdERibFJpZ2h0Q2xpY2s6ZnVuY3Rpb24oYSl7dGhpcy5tYXAuem9vbVRvKHRoaXMubWFwLnpvb20tMSxhLnh5KX0sd2hlZWxDaGFuZ2U6ZnVuY3Rpb24oYSxiKXt0aGlzLm1hcC5mcmFjdGlvbmFsWm9vbXx8KGI9TWF0aC5yb3VuZChiKSk7dmFyIGM9dGhpcy5tYXAuZ2V0Wm9vbSgpLGQ7ZD1NYXRoLm1heChjK2IsMCk7ZD1NYXRoLm1pbihkLHRoaXMubWFwLmdldE51bVpvb21MZXZlbHMoKSk7ZCE9PWMmJnRoaXMubWFwLnpvb21UbyhkLGEueHkpfSx3aGVlbFVwOmZ1bmN0aW9uKGEsYil7dGhpcy53aGVlbENoYW5nZShhLGJ8fDEpfSx3aGVlbERvd246ZnVuY3Rpb24oYSwKYil7dGhpcy53aGVlbENoYW5nZShhLGJ8fC0xKX0sZGlzYWJsZVpvb21Cb3g6ZnVuY3Rpb24oKXt0aGlzLnpvb21Cb3hFbmFibGVkPSExO3RoaXMuem9vbUJveC5kZWFjdGl2YXRlKCl9LGVuYWJsZVpvb21Cb3g6ZnVuY3Rpb24oKXt0aGlzLnpvb21Cb3hFbmFibGVkPSEwO3RoaXMuYWN0aXZlJiZ0aGlzLnpvb21Cb3guYWN0aXZhdGUoKX0sZGlzYWJsZVpvb21XaGVlbDpmdW5jdGlvbigpe3RoaXMuem9vbVdoZWVsRW5hYmxlZD0hMTt0aGlzLmhhbmRsZXJzLndoZWVsLmRlYWN0aXZhdGUoKX0sZW5hYmxlWm9vbVdoZWVsOmZ1bmN0aW9uKCl7dGhpcy56b29tV2hlZWxFbmFibGVkPSEwO3RoaXMuYWN0aXZlJiZ0aGlzLmhhbmRsZXJzLndoZWVsLmFjdGl2YXRlKCl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5OYXZpZ2F0aW9uIn0pO09wZW5MYXllcnMuQ29udHJvbC5EcmF3RmVhdHVyZT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbCx7bGF5ZXI6bnVsbCxjYWxsYmFja3M6bnVsbCxtdWx0aTohMSxmZWF0dXJlQWRkZWQ6ZnVuY3Rpb24oKXt9LGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMpe09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFtjXSk7dGhpcy5jYWxsYmFja3M9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7ZG9uZTp0aGlzLmRyYXdGZWF0dXJlLG1vZGlmeTpmdW5jdGlvbihhLGIpe3RoaXMubGF5ZXIuZXZlbnRzLnRyaWdnZXJFdmVudCgic2tldGNobW9kaWZpZWQiLHt2ZXJ0ZXg6YSxmZWF0dXJlOmJ9KX0sY3JlYXRlOmZ1bmN0aW9uKGEsYil7dGhpcy5sYXllci5ldmVudHMudHJpZ2dlckV2ZW50KCJza2V0Y2hzdGFydGVkIix7dmVydGV4OmEsZmVhdHVyZTpifSl9fSx0aGlzLmNhbGxiYWNrcyk7dGhpcy5sYXllcj1hO3RoaXMuaGFuZGxlck9wdGlvbnM9CnRoaXMuaGFuZGxlck9wdGlvbnN8fHt9O3RoaXMuaGFuZGxlck9wdGlvbnMubGF5ZXJPcHRpb25zPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHRoaXMuaGFuZGxlck9wdGlvbnMubGF5ZXJPcHRpb25zLHtyZW5kZXJlcnM6YS5yZW5kZXJlcnMscmVuZGVyZXJPcHRpb25zOmEucmVuZGVyZXJPcHRpb25zfSk7Im11bHRpImluIHRoaXMuaGFuZGxlck9wdGlvbnN8fCh0aGlzLmhhbmRsZXJPcHRpb25zLm11bHRpPXRoaXMubXVsdGkpO2lmKGE9dGhpcy5sYXllci5zdHlsZU1hcCYmdGhpcy5sYXllci5zdHlsZU1hcC5zdHlsZXMudGVtcG9yYXJ5KXRoaXMuaGFuZGxlck9wdGlvbnMubGF5ZXJPcHRpb25zPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHRoaXMuaGFuZGxlck9wdGlvbnMubGF5ZXJPcHRpb25zLHtzdHlsZU1hcDpuZXcgT3BlbkxheWVycy5TdHlsZU1hcCh7ImRlZmF1bHQiOmF9KX0pO3RoaXMuaGFuZGxlcj1uZXcgYih0aGlzLHRoaXMuY2FsbGJhY2tzLHRoaXMuaGFuZGxlck9wdGlvbnMpfSwKZHJhd0ZlYXR1cmU6ZnVuY3Rpb24oYSl7YT1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihhKTshMSE9PXRoaXMubGF5ZXIuZXZlbnRzLnRyaWdnZXJFdmVudCgic2tldGNoY29tcGxldGUiLHtmZWF0dXJlOmF9KSYmKGEuc3RhdGU9T3BlbkxheWVycy5TdGF0ZS5JTlNFUlQsdGhpcy5sYXllci5hZGRGZWF0dXJlcyhbYV0pLHRoaXMuZmVhdHVyZUFkZGVkKGEpLHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiZmVhdHVyZWFkZGVkIix7ZmVhdHVyZTphfSkpfSxpbnNlcnRYWTpmdW5jdGlvbihhLGIpe3RoaXMuaGFuZGxlciYmdGhpcy5oYW5kbGVyLmxpbmUmJnRoaXMuaGFuZGxlci5pbnNlcnRYWShhLGIpfSxpbnNlcnREZWx0YVhZOmZ1bmN0aW9uKGEsYil7dGhpcy5oYW5kbGVyJiZ0aGlzLmhhbmRsZXIubGluZSYmdGhpcy5oYW5kbGVyLmluc2VydERlbHRhWFkoYSxiKX0saW5zZXJ0RGlyZWN0aW9uTGVuZ3RoOmZ1bmN0aW9uKGEsYil7dGhpcy5oYW5kbGVyJiZ0aGlzLmhhbmRsZXIubGluZSYmCnRoaXMuaGFuZGxlci5pbnNlcnREaXJlY3Rpb25MZW5ndGgoYSxiKX0saW5zZXJ0RGVmbGVjdGlvbkxlbmd0aDpmdW5jdGlvbihhLGIpe3RoaXMuaGFuZGxlciYmdGhpcy5oYW5kbGVyLmxpbmUmJnRoaXMuaGFuZGxlci5pbnNlcnREZWZsZWN0aW9uTGVuZ3RoKGEsYil9LHVuZG86ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYW5kbGVyLnVuZG8mJnRoaXMuaGFuZGxlci51bmRvKCl9LHJlZG86ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYW5kbGVyLnJlZG8mJnRoaXMuaGFuZGxlci5yZWRvKCl9LGZpbmlzaFNrZXRjaDpmdW5jdGlvbigpe3RoaXMuaGFuZGxlci5maW5pc2hHZW9tZXRyeSgpfSxjYW5jZWw6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXIuY2FuY2VsKCl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5EcmF3RmVhdHVyZSJ9KTtPcGVuTGF5ZXJzLkhhbmRsZXIuUG9seWdvbj1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuSGFuZGxlci5QYXRoLHtob2xlTW9kaWZpZXI6bnVsbCxkcmF3aW5nSG9sZTohMSxwb2x5Z29uOm51bGwsY3JlYXRlRmVhdHVyZTpmdW5jdGlvbihhKXthPXRoaXMubGF5ZXIuZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHgoYSk7YT1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChhLmxvbixhLmxhdCk7dGhpcy5wb2ludD1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihhKTt0aGlzLmxpbmU9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyhbdGhpcy5wb2ludC5nZW9tZXRyeV0pKTt0aGlzLnBvbHlnb249bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbihbdGhpcy5saW5lLmdlb21ldHJ5XSkpO3RoaXMuY2FsbGJhY2soImNyZWF0ZSIsW3RoaXMucG9pbnQuZ2VvbWV0cnksCnRoaXMuZ2V0U2tldGNoKCldKTt0aGlzLnBvaW50Lmdlb21ldHJ5LmNsZWFyQm91bmRzKCk7dGhpcy5sYXllci5hZGRGZWF0dXJlcyhbdGhpcy5wb2x5Z29uLHRoaXMucG9pbnRdLHtzaWxlbnQ6ITB9KX0sYWRkUG9pbnQ6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuZHJhd2luZ0hvbGUmJnRoaXMuaG9sZU1vZGlmaWVyJiZ0aGlzLmV2dCYmdGhpcy5ldnRbdGhpcy5ob2xlTW9kaWZpZXJdKWZvcih2YXIgYj10aGlzLnBvaW50Lmdlb21ldHJ5LGM9dGhpcy5jb250cm9sLmxheWVyLmZlYXR1cmVzLGQsZT1jLmxlbmd0aC0xOzA8PWU7LS1lKWlmKGQ9Y1tlXS5nZW9tZXRyeSwoZCBpbnN0YW5jZW9mIE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbnx8ZCBpbnN0YW5jZW9mIE9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlQb2x5Z29uKSYmZC5pbnRlcnNlY3RzKGIpKXtiPWNbZV07dGhpcy5jb250cm9sLmxheWVyLnJlbW92ZUZlYXR1cmVzKFtiXSx7c2lsZW50OiEwfSk7dGhpcy5jb250cm9sLmxheWVyLmV2ZW50cy5yZWdpc3RlclByaW9yaXR5KCJza2V0Y2hjb21wbGV0ZSIsCnRoaXMsdGhpcy5maW5hbGl6ZUludGVyaW9yUmluZyk7dGhpcy5jb250cm9sLmxheWVyLmV2ZW50cy5yZWdpc3RlclByaW9yaXR5KCJza2V0Y2htb2RpZmllZCIsdGhpcyx0aGlzLmVuZm9yY2VUb3BvbG9neSk7Yi5nZW9tZXRyeS5hZGRDb21wb25lbnQodGhpcy5saW5lLmdlb21ldHJ5KTt0aGlzLnBvbHlnb249Yjt0aGlzLmRyYXdpbmdIb2xlPSEwO2JyZWFrfU9wZW5MYXllcnMuSGFuZGxlci5QYXRoLnByb3RvdHlwZS5hZGRQb2ludC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGdldEN1cnJlbnRQb2ludEluZGV4OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGluZS5nZW9tZXRyeS5jb21wb25lbnRzLmxlbmd0aC0yfSxlbmZvcmNlVG9wb2xvZ3k6ZnVuY3Rpb24oYSl7dmFyIGE9YS52ZXJ0ZXgsYj10aGlzLmxpbmUuZ2VvbWV0cnkuY29tcG9uZW50czt0aGlzLnBvbHlnb24uZ2VvbWV0cnkuaW50ZXJzZWN0cyhhKXx8KGI9YltiLmxlbmd0aC0zXSxhLng9Yi54LGEueT1iLnkpfSxmaW5pc2hHZW9tZXRyeTpmdW5jdGlvbigpe3RoaXMubGluZS5nZW9tZXRyeS5yZW1vdmVDb21wb25lbnQodGhpcy5saW5lLmdlb21ldHJ5LmNvbXBvbmVudHNbdGhpcy5saW5lLmdlb21ldHJ5LmNvbXBvbmVudHMubGVuZ3RoLQoyXSk7dGhpcy5yZW1vdmVQb2ludCgpO3RoaXMuZmluYWxpemUoKX0sZmluYWxpemVJbnRlcmlvclJpbmc6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxpbmUuZ2VvbWV0cnksYj0wIT09YS5nZXRBcmVhKCk7aWYoYil7Zm9yKHZhciBjPXRoaXMucG9seWdvbi5nZW9tZXRyeS5jb21wb25lbnRzLGQ9Yy5sZW5ndGgtMjswPD1kOy0tZClpZihhLmludGVyc2VjdHMoY1tkXSkpe2I9ITE7YnJlYWt9aWYoYil7ZD1jLmxlbmd0aC0yO2E6Zm9yKDswPGQ7LS1kKWZvcih2YXIgZT1jW2RdLmNvbXBvbmVudHMsZj0wLGc9ZS5sZW5ndGg7ZjxnOysrZilpZihhLmNvbnRhaW5zUG9pbnQoZVtmXSkpe2I9ITE7YnJlYWsgYX19fWI/dGhpcy5wb2x5Z29uLnN0YXRlIT09T3BlbkxheWVycy5TdGF0ZS5JTlNFUlQmJih0aGlzLnBvbHlnb24uc3RhdGU9T3BlbkxheWVycy5TdGF0ZS5VUERBVEUpOnRoaXMucG9seWdvbi5nZW9tZXRyeS5yZW1vdmVDb21wb25lbnQoYSk7dGhpcy5yZXN0b3JlRmVhdHVyZSgpO3JldHVybiExfSwKY2FuY2VsOmZ1bmN0aW9uKCl7dGhpcy5kcmF3aW5nSG9sZSYmKHRoaXMucG9seWdvbi5nZW9tZXRyeS5yZW1vdmVDb21wb25lbnQodGhpcy5saW5lLmdlb21ldHJ5KSx0aGlzLnJlc3RvcmVGZWF0dXJlKCEwKSk7cmV0dXJuIE9wZW5MYXllcnMuSGFuZGxlci5QYXRoLnByb3RvdHlwZS5jYW5jZWwuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxyZXN0b3JlRmVhdHVyZTpmdW5jdGlvbihhKXt0aGlzLmNvbnRyb2wubGF5ZXIuZXZlbnRzLnVucmVnaXN0ZXIoInNrZXRjaGNvbXBsZXRlIix0aGlzLHRoaXMuZmluYWxpemVJbnRlcmlvclJpbmcpO3RoaXMuY29udHJvbC5sYXllci5ldmVudHMudW5yZWdpc3Rlcigic2tldGNobW9kaWZpZWQiLHRoaXMsdGhpcy5lbmZvcmNlVG9wb2xvZ3kpO3RoaXMubGF5ZXIucmVtb3ZlRmVhdHVyZXMoW3RoaXMucG9seWdvbl0se3NpbGVudDohMH0pO3RoaXMuY29udHJvbC5sYXllci5hZGRGZWF0dXJlcyhbdGhpcy5wb2x5Z29uXSx7c2lsZW50OiEwfSk7dGhpcy5kcmF3aW5nSG9sZT0KITE7YXx8dGhpcy5jb250cm9sLmxheWVyLmV2ZW50cy50cmlnZ2VyRXZlbnQoInNrZXRjaGNvbXBsZXRlIix7ZmVhdHVyZTp0aGlzLnBvbHlnb259KX0sZGVzdHJveUZlYXR1cmU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5IYW5kbGVyLlBhdGgucHJvdG90eXBlLmRlc3Ryb3lGZWF0dXJlLmNhbGwodGhpcyxhKTt0aGlzLnBvbHlnb249bnVsbH0sZHJhd0ZlYXR1cmU6ZnVuY3Rpb24oKXt0aGlzLmxheWVyLmRyYXdGZWF0dXJlKHRoaXMucG9seWdvbix0aGlzLnN0eWxlKTt0aGlzLmxheWVyLmRyYXdGZWF0dXJlKHRoaXMucG9pbnQsdGhpcy5zdHlsZSl9LGdldFNrZXRjaDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvbHlnb259LGdldEdlb21ldHJ5OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wb2x5Z29uJiZ0aGlzLnBvbHlnb24uZ2VvbWV0cnk7YSYmdGhpcy5tdWx0aSYmKGE9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlQb2x5Z29uKFthXSkpO3JldHVybiBhfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkhhbmRsZXIuUG9seWdvbiJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuRWRpdGluZ1Rvb2xiYXI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuZWwse2NpdGVDb21wbGlhbnQ6ITEsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIpe09wZW5MYXllcnMuQ29udHJvbC5QYW5lbC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFtiXSk7dGhpcy5hZGRDb250cm9scyhbbmV3IE9wZW5MYXllcnMuQ29udHJvbC5OYXZpZ2F0aW9uXSk7dmFyIGM9W25ldyBPcGVuTGF5ZXJzLkNvbnRyb2wuRHJhd0ZlYXR1cmUoYSxPcGVuTGF5ZXJzLkhhbmRsZXIuUG9pbnQse2Rpc3BsYXlDbGFzczoib2xDb250cm9sRHJhd0ZlYXR1cmVQb2ludCIsaGFuZGxlck9wdGlvbnM6e2NpdGVDb21wbGlhbnQ6dGhpcy5jaXRlQ29tcGxpYW50fX0pLG5ldyBPcGVuTGF5ZXJzLkNvbnRyb2wuRHJhd0ZlYXR1cmUoYSxPcGVuTGF5ZXJzLkhhbmRsZXIuUGF0aCx7ZGlzcGxheUNsYXNzOiJvbENvbnRyb2xEcmF3RmVhdHVyZVBhdGgiLGhhbmRsZXJPcHRpb25zOntjaXRlQ29tcGxpYW50OnRoaXMuY2l0ZUNvbXBsaWFudH19KSwKbmV3IE9wZW5MYXllcnMuQ29udHJvbC5EcmF3RmVhdHVyZShhLE9wZW5MYXllcnMuSGFuZGxlci5Qb2x5Z29uLHtkaXNwbGF5Q2xhc3M6Im9sQ29udHJvbERyYXdGZWF0dXJlUG9seWdvbiIsaGFuZGxlck9wdGlvbnM6e2NpdGVDb21wbGlhbnQ6dGhpcy5jaXRlQ29tcGxpYW50fX0pXTt0aGlzLmFkZENvbnRyb2xzKGMpfSxkcmF3OmZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5Db250cm9sLlBhbmVsLnByb3RvdHlwZS5kcmF3LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsPT09dGhpcy5kZWZhdWx0Q29udHJvbCYmKHRoaXMuZGVmYXVsdENvbnRyb2w9dGhpcy5jb250cm9sc1swXSk7cmV0dXJuIGF9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5FZGl0aW5nVG9vbGJhciJ9KTtPcGVuTGF5ZXJzLlN0cmF0ZWd5LkJCT1g9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlN0cmF0ZWd5LHtib3VuZHM6bnVsbCxyZXNvbHV0aW9uOm51bGwscmF0aW86MixyZXNGYWN0b3I6bnVsbCxyZXNwb25zZTpudWxsLGFjdGl2YXRlOmZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5TdHJhdGVneS5wcm90b3R5cGUuYWN0aXZhdGUuY2FsbCh0aGlzKTthJiYodGhpcy5sYXllci5ldmVudHMub24oe21vdmVlbmQ6dGhpcy51cGRhdGUscmVmcmVzaDp0aGlzLnVwZGF0ZSx2aXNpYmlsaXR5Y2hhbmdlZDp0aGlzLnVwZGF0ZSxzY29wZTp0aGlzfSksdGhpcy51cGRhdGUoKSk7cmV0dXJuIGF9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgYT1PcGVuTGF5ZXJzLlN0cmF0ZWd5LnByb3RvdHlwZS5kZWFjdGl2YXRlLmNhbGwodGhpcyk7YSYmdGhpcy5sYXllci5ldmVudHMudW4oe21vdmVlbmQ6dGhpcy51cGRhdGUscmVmcmVzaDp0aGlzLnVwZGF0ZSx2aXNpYmlsaXR5Y2hhbmdlZDp0aGlzLnVwZGF0ZSwKc2NvcGU6dGhpc30pO3JldHVybiBhfSx1cGRhdGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRNYXBCb3VuZHMoKTtpZihudWxsIT09YiYmKGEmJmEuZm9yY2V8fHRoaXMubGF5ZXIudmlzaWJpbGl0eSYmdGhpcy5sYXllci5jYWxjdWxhdGVJblJhbmdlKCkmJnRoaXMuaW52YWxpZEJvdW5kcyhiKSkpdGhpcy5jYWxjdWxhdGVCb3VuZHMoYiksdGhpcy5yZXNvbHV0aW9uPXRoaXMubGF5ZXIubWFwLmdldFJlc29sdXRpb24oKSx0aGlzLnRyaWdnZXJSZWFkKGEpfSxnZXRNYXBCb3VuZHM6ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5sYXllci5tYXApcmV0dXJuIG51bGw7dmFyIGE9dGhpcy5sYXllci5tYXAuZ2V0RXh0ZW50KCk7YSYmIXRoaXMubGF5ZXIucHJvamVjdGlvbi5lcXVhbHModGhpcy5sYXllci5tYXAuZ2V0UHJvamVjdGlvbk9iamVjdCgpKSYmKGE9YS5jbG9uZSgpLnRyYW5zZm9ybSh0aGlzLmxheWVyLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCksdGhpcy5sYXllci5wcm9qZWN0aW9uKSk7CnJldHVybiBhfSxpbnZhbGlkQm91bmRzOmZ1bmN0aW9uKGEpe2F8fChhPXRoaXMuZ2V0TWFwQm91bmRzKCkpO2E9IXRoaXMuYm91bmRzfHwhdGhpcy5ib3VuZHMuY29udGFpbnNCb3VuZHMoYSk7IWEmJnRoaXMucmVzRmFjdG9yJiYoYT10aGlzLnJlc29sdXRpb24vdGhpcy5sYXllci5tYXAuZ2V0UmVzb2x1dGlvbigpLGE9YT49dGhpcy5yZXNGYWN0b3J8fGE8PTEvdGhpcy5yZXNGYWN0b3IpO3JldHVybiBhfSxjYWxjdWxhdGVCb3VuZHM6ZnVuY3Rpb24oYSl7YXx8KGE9dGhpcy5nZXRNYXBCb3VuZHMoKSk7dmFyIGI9YS5nZXRDZW50ZXJMb25MYXQoKSxjPWEuZ2V0V2lkdGgoKSp0aGlzLnJhdGlvLGE9YS5nZXRIZWlnaHQoKSp0aGlzLnJhdGlvO3RoaXMuYm91bmRzPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhiLmxvbi1jLzIsYi5sYXQtYS8yLGIubG9uK2MvMixiLmxhdCthLzIpfSx0cmlnZ2VyUmVhZDpmdW5jdGlvbihhKXt0aGlzLnJlc3BvbnNlJiYhKGEmJiEwPT09YS5ub0Fib3J0KSYmCih0aGlzLmxheWVyLnByb3RvY29sLmFib3J0KHRoaXMucmVzcG9uc2UpLHRoaXMubGF5ZXIuZXZlbnRzLnRyaWdnZXJFdmVudCgibG9hZGVuZCIpKTt2YXIgYj17ZmlsdGVyOnRoaXMuY3JlYXRlRmlsdGVyKCl9O3RoaXMubGF5ZXIuZXZlbnRzLnRyaWdnZXJFdmVudCgibG9hZHN0YXJ0IixiKTt0aGlzLnJlc3BvbnNlPXRoaXMubGF5ZXIucHJvdG9jb2wucmVhZChPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7ZmlsdGVyOmIuZmlsdGVyLGNhbGxiYWNrOnRoaXMubWVyZ2Usc2NvcGU6dGhpc30sYSkpfSxjcmVhdGVGaWx0ZXI6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbCh7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsLkJCT1gsdmFsdWU6dGhpcy5ib3VuZHMscHJvamVjdGlvbjp0aGlzLmxheWVyLnByb2plY3Rpb259KTt0aGlzLmxheWVyLmZpbHRlciYmKGE9bmV3IE9wZW5MYXllcnMuRmlsdGVyLkxvZ2ljYWwoe3R5cGU6T3BlbkxheWVycy5GaWx0ZXIuTG9naWNhbC5BTkQsCmZpbHRlcnM6W3RoaXMubGF5ZXIuZmlsdGVyLGFdfSkpO3JldHVybiBhfSxtZXJnZTpmdW5jdGlvbihhKXt0aGlzLmxheWVyLmRlc3Ryb3lGZWF0dXJlcygpO2lmKGEuc3VjY2VzcygpKXt2YXIgYj1hLmZlYXR1cmVzO2lmKGImJjA8Yi5sZW5ndGgpe3ZhciBjPXRoaXMubGF5ZXIucHJvamVjdGlvbixkPXRoaXMubGF5ZXIubWFwLmdldFByb2plY3Rpb25PYmplY3QoKTtpZighZC5lcXVhbHMoYykpZm9yKHZhciBlLGY9MCxnPWIubGVuZ3RoO2Y8ZzsrK2YpKGU9YltmXS5nZW9tZXRyeSkmJmUudHJhbnNmb3JtKGMsZCk7dGhpcy5sYXllci5hZGRGZWF0dXJlcyhiKX19ZWxzZSB0aGlzLmJvdW5kcz1udWxsO3RoaXMucmVzcG9uc2U9bnVsbDt0aGlzLmxheWVyLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvYWRlbmQiLHtyZXNwb25zZTphfSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuU3RyYXRlZ3kuQkJPWCJ9KTtPcGVuTGF5ZXJzLkxhbmcubm49T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoeyJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiU2thbGEgPSAxIDogJHtzY2FsZURlbm9tfSJ9KTtPcGVuTGF5ZXJzLkxheWVyLldvcmxkV2luZD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIuR3JpZCx7REVGQVVMVF9QQVJBTVM6e30saXNCYXNlTGF5ZXI6ITAsbHpkOm51bGwsem9vbUxldmVsczpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMubHpkPWM7dGhpcy56b29tTGV2ZWxzPWQ7Yz1bXTtjLnB1c2goYSxiLGUsZik7T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYyk7dGhpcy5wYXJhbXM9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHModGhpcy5wYXJhbXMsdGhpcy5ERUZBVUxUX1BBUkFNUyl9LGdldFpvb206ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm1hcC5nZXRab29tKCk7dGhpcy5tYXAuZ2V0TWF4RXh0ZW50KCk7cmV0dXJuIGEtPU1hdGgubG9nKHRoaXMubWF4UmVzb2x1dGlvbi8odGhpcy5semQvNTEyKSkvTWF0aC5sb2coMil9LGdldFVSTDpmdW5jdGlvbihhKXt2YXIgYT0KdGhpcy5hZGp1c3RCb3VuZHMoYSksYj10aGlzLmdldFpvb20oKSxjPXRoaXMubWFwLmdldE1heEV4dGVudCgpLGQ9dGhpcy5semQvTWF0aC5wb3coMix0aGlzLmdldFpvb20oKSksZT1NYXRoLmZsb29yKChhLmxlZnQtYy5sZWZ0KS9kKSxhPU1hdGguZmxvb3IoKGEuYm90dG9tLWMuYm90dG9tKS9kKTtyZXR1cm4gdGhpcy5tYXAuZ2V0UmVzb2x1dGlvbigpPD10aGlzLmx6ZC81MTImJnRoaXMuZ2V0Wm9vbSgpPD10aGlzLnpvb21MZXZlbHM/dGhpcy5nZXRGdWxsUmVxdWVzdFN0cmluZyh7TDpiLFg6ZSxZOmF9KTpPcGVuTGF5ZXJzLlV0aWwuZ2V0SW1hZ2VMb2NhdGlvbigiYmxhbmsuZ2lmIil9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuTGF5ZXIuV29ybGRXaW5kIn0pO09wZW5MYXllcnMuUHJvdG9jb2wuQ1NXPWZ1bmN0aW9uKGEpe3ZhciBhPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGEsT3BlbkxheWVycy5Qcm90b2NvbC5DU1cuREVGQVVMVFMpLGI9T3BlbkxheWVycy5Qcm90b2NvbC5DU1dbInYiK2EudmVyc2lvbi5yZXBsYWNlKC9cLi9nLCJfIildO2lmKCFiKXRocm93IlVuc3VwcG9ydGVkIENTVyB2ZXJzaW9uOiAiK2EudmVyc2lvbjtyZXR1cm4gbmV3IGIoYSl9O09wZW5MYXllcnMuUHJvdG9jb2wuQ1NXLkRFRkFVTFRTPXt2ZXJzaW9uOiIyLjAuMiJ9O09wZW5MYXllcnMuRm9ybWF0LldNVFNDYXBhYmlsaXRpZXM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwuVmVyc2lvbmVkT0dDLHtkZWZhdWx0VmVyc2lvbjoiMS4wLjAiLHl4OnsidXJuOm9nYzpkZWY6Y3JzOkVQU0c6OjQzMjYiOiEwfSxjcmVhdGVMYXllcjpmdW5jdGlvbihhLGIpe2lmKCEoImxheWVyImluIGIpKXRocm93IEVycm9yKCJNaXNzaW5nIHByb3BlcnR5ICdsYXllcicgaW4gY29uZmlndXJhdGlvbi4iKTtmb3IodmFyIGM9YS5jb250ZW50cyxkLGU9MCxmPWMubGF5ZXJzLmxlbmd0aDtlPGY7KytlKWlmKGMubGF5ZXJzW2VdLmlkZW50aWZpZXI9PT1iLmxheWVyKXtkPWMubGF5ZXJzW2VdO2JyZWFrfWlmKCFkKXRocm93IEVycm9yKCJMYXllciBub3QgZm91bmQiKTt2YXIgZz1iLmZvcm1hdDshZyYmKGQuZm9ybWF0cyYmZC5mb3JtYXRzLmxlbmd0aCkmJihnPWQuZm9ybWF0c1swXSk7dmFyIGg7Yi5tYXRyaXhTZXQ/aD1jLnRpbGVNYXRyaXhTZXRzW2IubWF0cml4U2V0XToKMTw9ZC50aWxlTWF0cml4U2V0TGlua3MubGVuZ3RoJiYoaD1jLnRpbGVNYXRyaXhTZXRzW2QudGlsZU1hdHJpeFNldExpbmtzWzBdLnRpbGVNYXRyaXhTZXRdKTtpZighaCl0aHJvdyBFcnJvcigibWF0cml4U2V0IG5vdCBmb3VuZCIpO2Zvcih2YXIgaSxlPTAsZj1kLnN0eWxlcy5sZW5ndGg7ZTxmJiYhKGk9ZC5zdHlsZXNbZV0saS5pc0RlZmF1bHQpOysrZSk7Yz1iLnJlcXVlc3RFbmNvZGluZztpZighYyYmKGM9IktWUCIsYS5vcGVyYXRpb25zTWV0YWRhdGEuR2V0VGlsZS5kY3AuaHR0cCkpe3ZhciBqPWEub3BlcmF0aW9uc01ldGFkYXRhLkdldFRpbGUuZGNwLmh0dHA7aWYoai5nZXRbMF0uY29uc3RyYWludHMmJihqPWouZ2V0WzBdLmNvbnN0cmFpbnRzLkdldEVuY29kaW5nLmFsbG93ZWRWYWx1ZXMsIWouS1ZQJiYoai5SRVNUfHxqLlJFU1RmdWwpKSljPSJSRVNUIn12YXIgaj1bXSxrPWIucGFyYW1zfHx7fTtkZWxldGUgYi5wYXJhbXM7Zm9yKHZhciBsPTAsbT1kLmRpbWVuc2lvbnMubGVuZ3RoO2w8Cm07bCsrKXt2YXIgbj1kLmRpbWVuc2lvbnNbbF07ai5wdXNoKG4uaWRlbnRpZmllcik7ay5oYXNPd25Qcm9wZXJ0eShuLmlkZW50aWZpZXIpfHwoa1tuLmlkZW50aWZpZXJdPW5bImRlZmF1bHQiXSl9dmFyIGw9Yi5wcm9qZWN0aW9ufHxoLnN1cHBvcnRlZENSUy5yZXBsYWNlKC91cm46b2djOmRlZjpjcnM6KFx3Kyk6KC4qOik/KFx3KykkLywiJDE6JDMiKSxtPWIudW5pdHN8fCgiRVBTRzo0MzI2Ij09PWw/ImRlZ3JlZXMiOiJtIiksbj1bXSxwO2ZvcihwIGluIGgubWF0cml4SWRzKWgubWF0cml4SWRzLmhhc093blByb3BlcnR5KHApJiZuLnB1c2goMi44RS00KmgubWF0cml4SWRzW3BdLnNjYWxlRGVub21pbmF0b3IvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gvT3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVRbbV0pO2lmKCJSRVNUIj09PWMmJmQucmVzb3VyY2VVcmxzKXtwPVtdO2Zvcih2YXIgZj0wLHE9ZC5yZXNvdXJjZVVybHMubGVuZ3RoO2Y8cTsrK2YpZT1kLnJlc291cmNlVXJsc1tmXSwKZS5mb3JtYXQ9PT1nJiYidGlsZSI9PT1lLnJlc291cmNlVHlwZSYmcC5wdXNoKGUudGVtcGxhdGUpfWVsc2V7cT1hLm9wZXJhdGlvbnNNZXRhZGF0YS5HZXRUaWxlLmRjcC5odHRwLmdldDtwPVtdO2Zvcih2YXIgcixlPTAsZj1xLmxlbmd0aDtlPGY7ZSsrKXI9cVtlXS5jb25zdHJhaW50cywoIXJ8fHImJnIuR2V0RW5jb2RpbmcuYWxsb3dlZFZhbHVlc1tjXSkmJnAucHVzaChxW2VdLnVybCl9cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkxheWVyLldNVFMoT3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYix7dXJsOnAscmVxdWVzdEVuY29kaW5nOmMsbmFtZTpkLnRpdGxlLHN0eWxlOmkuaWRlbnRpZmllcixmb3JtYXQ6ZyxtYXRyaXhJZHM6aC5tYXRyaXhJZHMsbWF0cml4U2V0OmguaWRlbnRpZmllcixwcm9qZWN0aW9uOmwsdW5pdHM6bSxyZXNvbHV0aW9uczohMT09PWIuaXNCYXNlTGF5ZXI/dm9pZCAwOm4sc2VydmVyUmVzb2x1dGlvbnM6bix0aWxlRnVsbEV4dGVudDpoLmJvdW5kcywKZGltZW5zaW9uczpqLHBhcmFtczprfSkpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XTVRTQ2FwYWJpbGl0aWVzIn0pO09wZW5MYXllcnMuTGFuZy5lcz17dW5oYW5kbGVkUmVxdWVzdDoiUmVzcHVlc3RhIGEgcGV0aWNpXHUwMGYzbiBubyBnZXN0aW9uYWRhICR7c3RhdHVzVGV4dH0iLFBlcm1hbGluazoiRW5sYWNlIHBlcm1hbmVudGUiLE92ZXJsYXlzOiJDYXBhcyBzdXBlcnB1ZXN0YXMiLCJCYXNlIExheWVyIjoiQ2FwYSBCYXNlIixub0ZJRDoiTm8gc2UgcHVlZGUgYWN0dWFsaXphciB1biBlbGVtZW50byBwYXJhIGVsIHF1ZSBubyBleGlzdGUgRklELiIsYnJvd3Nlck5vdFN1cHBvcnRlZDoiU3UgbmF2ZWdhZG9yIG5vIHNvcG9ydGEgcmVuZGVyaXphY2lcdTAwZjNuIHZlY3RvcmlhbC4gTG9zIHJlbmRlcml6YWRvcmVzIHNvcG9ydGFkb3MgYWN0dWFsbWVudGUgc29uOlxuJHtyZW5kZXJlcnN9IixtaW5ab29tTGV2ZWxFcnJvcjoiTGEgcHJvcGllZGFkIG1pblpvb21MZXZlbCBkZWJlIHNcdTAwZjNsbyB1dGlsaXphcnNlIGNvbiBsYXMgY2FwYXMgcXVlIHRpZW5lbiBGaXhlZFpvb21MZXZlbHMuIEVsIGhlY2hvIGRlIHF1ZSB1bmEgY2FwYSB3ZnMgY29tcHJ1ZWJlIG1pblpvb21MZXZlbCBlcyB1bmEgcmVsaXF1aWEgZGVsIHBhc2Fkby4gU2luIGVtYmFyZ28sIG5vIHBvZGVtb3MgZWxpbWluYXJsYSBzaW4gZGlzY29udGludWFyIHByb2JhYmxlbWVudGUgbGFzIGFwbGljYWNpb25lcyBPTCBxdWUgcHVlZGFuIGRlcGVuZGVyIGRlIGVsbG8uIEFzXHUwMGVkIHB1ZXMgZXN0YW1vcyBoYWNpXHUwMGU5bmRvbG8gb2Jzb2xldG8gLS1sYSBjb21wcm9iYWNpXHUwMGYzbiBtaW5ab29tTGV2ZWwgc2UgZWxpbWluYXJcdTAwZTEgZW4gbGEgdmVyc2lcdTAwZjNuIDMuMC4gVXRpbGljZSBlbCBhanVzdGUgZGUgcmVzb2x1dGlvbiBtaW4vbWF4IGVuIHN1IGx1Z2FyLCB0YWwgY29tbyBzZSBkZXNjcmliZSBhcXVcdTAwZWQ6IGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU2V0dGluZ1pvb21MZXZlbHMiLApjb21taXRTdWNjZXNzOiJUcmFuc2FjY2lcdTAwZjNuIFdGUzogXHUwMGM5WElUTyAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJUcmFuc2FjY2lcdTAwZjNuIFdGUzogRkFMTFx1MDBkMyAke3Jlc3BvbnNlfSIsZ29vZ2xlV2FybmluZzoiTGEgY2FwYSBHb29nbGUgbm8gcHVkbyBzZXIgY2FyZ2FkYSBjb3JyZWN0YW1lbnRlLjxicj48YnI+UGFyYSBldml0YXIgZXN0ZSBtZW5zYWplLCBzZWxlY2Npb25lIHVuYSBudWV2YSBDYXBhIEJhc2UgZW4gZWwgc2VsZWN0b3IgZGUgY2FwYXMgZW4gbGEgZXNxdWluYSBzdXBlcmlvciBkZXJlY2hhLjxicj48YnI+UHJvYmFibGVtZW50ZSwgZXN0byBzZSBkZWJlIGEgcXVlIGVsIHNjcmlwdCBkZSBsYSBiaWJsaW90ZWNhIGRlIEdvb2dsZSBNYXBzIG5vIGZ1ZSBjb3JyZWN0YW1lbnRlIGluY2x1aWRvIGVuIHN1IHBcdTAwZTFnaW5hLCBvIG5vIGNvbnRpZW5lIGxhIGNsYXZlIGRlbCBBUEkgY29ycmVjdGEgcGFyYSBzdSBzaXRpby48YnI+PGJyPkRlc2Fycm9sbGFkb3JlczogUGFyYSBheXVkYXIgYSBoYWNlciBmdW5jaW9uYXIgZXN0byBjb3JyZWN0YW1lbnRlLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZScgdGFyZ2V0PSdfYmxhbmsnPmhhZ2EgY2xpYyBhcXVcdTAwZWQ8L2E+IiwKZ2V0TGF5ZXJXYXJuaW5nOiJMYSBjYXBhICR7bGF5ZXJUeXBlfSBubyBwdWRvIHNlciBjYXJnYWRhIGNvcnJlY3RhbWVudGUuPGJyPjxicj5QYXJhIGV2aXRhciBlc3RlIG1lbnNhamUsIHNlbGVjY2lvbmUgdW5hIG51ZXZhIENhcGEgQmFzZSBlbiBlbCBzZWxlY3RvciBkZSBjYXBhcyBlbiBsYSBlc3F1aW5hIHN1cGVyaW9yIGRlcmVjaGEuPGJyPjxicj5Qcm9iYWJsZW1lbnRlLCBlc3RvIHNlIGRlYmUgYSBxdWUgZWwgc2NyaXB0IGRlIGxhIGJpYmxpb3RlY2EgJHtsYXllckxpYn0gbm8gZnVlIGNvcnJlY3RhbWVudGUgaW5jbHVpZG8gZW4gc3UgcFx1MDBlMWdpbmEuPGJyPjxicj5EZXNhcnJvbGxhZG9yZXM6IFBhcmEgYXl1ZGFyIGEgaGFjZXIgZnVuY2lvbmFyIGVzdG8gY29ycmVjdGFtZW50ZSwgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS8ke2xheWVyTGlifScgdGFyZ2V0PSdfYmxhbmsnPmhhZ2EgY2xpYyBhcXVcdTAwZWQ8L2E+IiwiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6IkVzY2FsYSA9IDEgOiAke3NjYWxlRGVub219IiwKVzoiTyIsRToiRSIsTjoiTiIsUzoiUyIsR3JhdGljdWxlOiJSZXRcdTAwZWRjdWxhIixyZXByb2plY3REZXByZWNhdGVkOiJFc3RcdTAwZTEgdXNhbmRvIGxhIG9wY2lcdTAwZjNuICdyZXByb2plY3QnIGVuIGxhIGNhcGEgJHtsYXllck5hbWV9LiBFc3RhIG9wY2lcdTAwZjNuIGVzIG9ic29sZXRhOiBzdSB1c28gZnVlIGRpc2VcdTAwZjFhZG8gcGFyYSBzb3BvcnRhciBsYSB2aXN1YWxpemFjaVx1MDBmM24gZGUgZGF0b3Mgc29icmUgbWFwYXMgYmFzZSBjb21lcmNpYWxlcywgcGVybyBhaG9yYSBlc2EgZnVuY2lvbmFsaWRhZCBkZWJlclx1MDBlZGEgY29uc2VndWlyc2UgbWVkaWFudGUgZWwgc29wb3J0ZSBkZSBsYSBwcm95ZWNjaVx1MDBmM24gU3BoZXJpY2FsIE1lcmNhdG9yLiBNXHUwMGUxcyBpbmZvcm1hY2lcdTAwZjNuIGRpc3BvbmlibGUgZW4gaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TcGhlcmljYWxNZXJjYXRvci4iLG1ldGhvZERlcHJlY2F0ZWQ6IkVzdGUgbVx1MDBlOXRvZG8gZXMgb2Jzb2xldG8geSBzZSBlbGltaW5hclx1MDBlMSBlbiBsYSB2ZXJzaVx1MDBmM24gMy4wLiBQb3IgZmF2b3IgdXRpbGljZSBlbCBtXHUwMGU5dG9kbyAke25ld01ldGhvZH0gZW4gc3UgbHVnYXIuIiwKZW5kOiIifTtPcGVuTGF5ZXJzLkxheWVyLkdvb2dsZS52Mz17REVGQVVMVFM6e3NwaGVyaWNhbE1lcmNhdG9yOiEwLHByb2plY3Rpb246IkVQU0c6OTAwOTEzIn0sYW5pbWF0aW9uRW5hYmxlZDohMCxsb2FkTWFwT2JqZWN0OmZ1bmN0aW9uKCl7dGhpcy50eXBlfHwodGhpcy50eXBlPWdvb2dsZS5tYXBzLk1hcFR5cGVJZC5ST0FETUFQKTt2YXIgYSxiPU9wZW5MYXllcnMuTGF5ZXIuR29vZ2xlLmNhY2hlW3RoaXMubWFwLmlkXTtiPyhhPWIubWFwT2JqZWN0LCsrYi5jb3VudCk6KGE9dGhpcy5tYXAuZ2V0Q2VudGVyKCksYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxiLmNsYXNzTmFtZT0ib2xGb3JlaWduQ29udGFpbmVyIixiLnN0eWxlLndpZHRoPSIxMDAlIixiLnN0eWxlLmhlaWdodD0iMTAwJSIsYT1uZXcgZ29vZ2xlLm1hcHMuTWFwKGIse2NlbnRlcjphP25ldyBnb29nbGUubWFwcy5MYXRMbmcoYS5sYXQsYS5sb24pOm5ldyBnb29nbGUubWFwcy5MYXRMbmcoMCwwKSx6b29tOnRoaXMubWFwLmdldFpvb20oKXx8CjAsbWFwVHlwZUlkOnRoaXMudHlwZSxkaXNhYmxlRGVmYXVsdFVJOiEwLGtleWJvYXJkU2hvcnRjdXRzOiExLGRyYWdnYWJsZTohMSxkaXNhYmxlRG91YmxlQ2xpY2tab29tOiEwLHNjcm9sbHdoZWVsOiExLHN0cmVldFZpZXdDb250cm9sOiExfSksYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxiLnN0eWxlLndpZHRoPSIxMDAlIixiLnN0eWxlLmhlaWdodD0iMTAwJSIsYS5jb250cm9sc1tnb29nbGUubWFwcy5Db250cm9sUG9zaXRpb24uVE9QX0xFRlRdLnB1c2goYiksYj17Z29vZ2xlQ29udHJvbDpiLG1hcE9iamVjdDphLGNvdW50OjF9LE9wZW5MYXllcnMuTGF5ZXIuR29vZ2xlLmNhY2hlW3RoaXMubWFwLmlkXT1iKTt0aGlzLm1hcE9iamVjdD1hO3RoaXMuc2V0R01hcFZpc2liaWxpdHkodGhpcy52aXNpYmlsaXR5KX0sb25NYXBSZXNpemU6ZnVuY3Rpb24oKXt0aGlzLnZpc2liaWxpdHkmJmdvb2dsZS5tYXBzLmV2ZW50LnRyaWdnZXIodGhpcy5tYXBPYmplY3QsInJlc2l6ZSIpfSwKc2V0R01hcFZpc2liaWxpdHk6ZnVuY3Rpb24oYSl7dmFyIGI9T3BlbkxheWVycy5MYXllci5Hb29nbGUuY2FjaGVbdGhpcy5tYXAuaWRdLGM9dGhpcy5tYXA7aWYoYil7Zm9yKHZhciBkPXRoaXMudHlwZSxlPWMubGF5ZXJzLGYsZz1lLmxlbmd0aC0xOzA8PWc7LS1nKWlmKGY9ZVtnXSxmIGluc3RhbmNlb2YgT3BlbkxheWVycy5MYXllci5Hb29nbGUmJiEwPT09Zi52aXNpYmlsaXR5JiYhMD09PWYuaW5SYW5nZSl7ZD1mLnR5cGU7YT0hMDticmVha31lPXRoaXMubWFwT2JqZWN0LmdldERpdigpO2lmKCEwPT09YSl7aWYoZS5wYXJlbnROb2RlIT09Yy5kaXYpaWYoYi5yZW5kZXJlZCljLmRpdi5hcHBlbmRDaGlsZChlKSxiLmdvb2dsZUNvbnRyb2wuYXBwZW5kQ2hpbGQoYy52aWV3UG9ydERpdiksZ29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcih0aGlzLm1hcE9iamVjdCwicmVzaXplIik7ZWxzZXt2YXIgaD10aGlzO2dvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyT25jZSh0aGlzLm1hcE9iamVjdCwKInRpbGVzbG9hZGVkIixmdW5jdGlvbigpe2IucmVuZGVyZWQ9ITA7aC5zZXRHTWFwVmlzaWJpbGl0eShoLmdldFZpc2liaWxpdHkoKSk7aC5tb3ZlVG8oaC5tYXAuZ2V0Q2VudGVyKCkpfSl9dGhpcy5tYXBPYmplY3Quc2V0TWFwVHlwZUlkKGQpfWVsc2UgYi5nb29nbGVDb250cm9sLmhhc0NoaWxkTm9kZXMoKSYmKGMuZGl2LmFwcGVuZENoaWxkKGMudmlld1BvcnREaXYpLGMuZGl2LnJlbW92ZUNoaWxkKGUpKX19LGdldE1hcENvbnRhaW5lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcE9iamVjdC5nZXREaXYoKX0sZ2V0TWFwT2JqZWN0Qm91bmRzRnJvbU9MQm91bmRzOmZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7bnVsbCE9YSYmKGI9dGhpcy5zcGhlcmljYWxNZXJjYXRvcj90aGlzLmludmVyc2VNZXJjYXRvcihhLmJvdHRvbSxhLmxlZnQpOm5ldyBPcGVuTGF5ZXJzLkxvbkxhdChhLmJvdHRvbSxhLmxlZnQpLGE9dGhpcy5zcGhlcmljYWxNZXJjYXRvcj90aGlzLmludmVyc2VNZXJjYXRvcihhLnRvcCwKYS5yaWdodCk6bmV3IE9wZW5MYXllcnMuTG9uTGF0KGEudG9wLGEucmlnaHQpLGI9bmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcyhuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGIubGF0LGIubG9uKSxuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGEubGF0LGEubG9uKSkpO3JldHVybiBifSxnZXRNYXBPYmplY3RMb25MYXRGcm9tTWFwT2JqZWN0UGl4ZWw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5tYXAuZ2V0U2l6ZSgpLGM9dGhpcy5nZXRMb25naXR1ZGVGcm9tTWFwT2JqZWN0TG9uTGF0KHRoaXMubWFwT2JqZWN0LmNlbnRlciksZD10aGlzLmdldExhdGl0dWRlRnJvbU1hcE9iamVjdExvbkxhdCh0aGlzLm1hcE9iamVjdC5jZW50ZXIpLGU9dGhpcy5tYXAuZ2V0UmVzb2x1dGlvbigpLGE9bmV3IE9wZW5MYXllcnMuTG9uTGF0KGMrKGEueC1iLncvMikqZSxkLShhLnktYi5oLzIpKmUpO3RoaXMud3JhcERhdGVMaW5lJiYoYT1hLndyYXBEYXRlTGluZSh0aGlzLm1heEV4dGVudCkpO3JldHVybiB0aGlzLmdldE1hcE9iamVjdExvbkxhdEZyb21Mb25MYXQoYS5sb24sCmEubGF0KX0sZ2V0TWFwT2JqZWN0UGl4ZWxGcm9tTWFwT2JqZWN0TG9uTGF0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0TG9uZ2l0dWRlRnJvbU1hcE9iamVjdExvbkxhdChhKSxhPXRoaXMuZ2V0TGF0aXR1ZGVGcm9tTWFwT2JqZWN0TG9uTGF0KGEpLGM9dGhpcy5tYXAuZ2V0UmVzb2x1dGlvbigpLGQ9dGhpcy5tYXAuZ2V0RXh0ZW50KCk7cmV0dXJuIHRoaXMuZ2V0TWFwT2JqZWN0UGl4ZWxGcm9tWFkoMS9jKihiLWQubGVmdCksMS9jKihkLnRvcC1hKSl9LHNldE1hcE9iamVjdENlbnRlcjpmdW5jdGlvbihhLGIpe2lmKCExPT09dGhpcy5hbmltYXRpb25FbmFibGVkJiZiIT10aGlzLm1hcE9iamVjdC56b29tKXt2YXIgYz10aGlzLmdldE1hcENvbnRhaW5lcigpO2dvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyT25jZSh0aGlzLm1hcE9iamVjdCwiaWRsZSIsZnVuY3Rpb24oKXtjLnN0eWxlLnZpc2liaWxpdHk9IiJ9KTtjLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiJ9dGhpcy5tYXBPYmplY3Quc2V0T3B0aW9ucyh7Y2VudGVyOmEsCnpvb206Yn0pfSxnZXRNYXBPYmplY3Rab29tRnJvbU1hcE9iamVjdEJvdW5kczpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tYXBPYmplY3QuZ2V0Qm91bmRzWm9vbUxldmVsKGEpfSxnZXRNYXBPYmplY3RMb25MYXRGcm9tTG9uTGF0OmZ1bmN0aW9uKGEsYil7dmFyIGM7dGhpcy5zcGhlcmljYWxNZXJjYXRvcj8oYz10aGlzLmludmVyc2VNZXJjYXRvcihhLGIpLGM9bmV3IGdvb2dsZS5tYXBzLkxhdExuZyhjLmxhdCxjLmxvbikpOmM9bmV3IGdvb2dsZS5tYXBzLkxhdExuZyhiLGEpO3JldHVybiBjfSxnZXRNYXBPYmplY3RQaXhlbEZyb21YWTpmdW5jdGlvbihhLGIpe3JldHVybiBuZXcgZ29vZ2xlLm1hcHMuUG9pbnQoYSxiKX19O09wZW5MYXllcnMuRm9ybWF0LldQU0Rlc2NyaWJlUHJvY2Vzcz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7VkVSU0lPTjoiMS4wLjAiLG5hbWVzcGFjZXM6e3dwczoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC93cHMvMS4wLjAiLG93czoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vd3MvMS4xIix4c2k6Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIn0sc2NoZW1hTG9jYXRpb246Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvd3BzLzEuMC4wIGh0dHA6Ly9zY2hlbWFzLm9wZW5naXMubmV0L3dwcy8xLjAuMC93cHNBbGwueHNkIixkZWZhdWx0UHJlZml4OiJ3cHMiLHJlZ0V4ZXM6e3RyaW1TcGFjZTovXlxzKnxccyokL2cscmVtb3ZlU3BhY2U6L1xzKi9nLHNwbGl0U3BhY2U6L1xzKy8sdHJpbUNvbW1hOi9ccyosXHMqL2d9LHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PXR5cGVvZiBhJiYoYT1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcywKW2FdKSk7YSYmOT09YS5ub2RlVHlwZSYmKGE9YS5kb2N1bWVudEVsZW1lbnQpO3ZhciBiPXt9O3RoaXMucmVhZE5vZGUoYSxiKTtyZXR1cm4gYn0scmVhZGVyczp7d3BzOntQcm9jZXNzRGVzY3JpcHRpb25zOmZ1bmN0aW9uKGEsYil7Yi5wcm9jZXNzRGVzY3JpcHRpb25zPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnByb2Nlc3NEZXNjcmlwdGlvbnMpfSxQcm9jZXNzRGVzY3JpcHRpb246ZnVuY3Rpb24oYSxiKXt2YXIgYz17cHJvY2Vzc1ZlcnNpb246dGhpcy5nZXRBdHRyaWJ1dGVOUyhhLHRoaXMubmFtZXNwYWNlcy53cHMsInByb2Nlc3NWZXJzaW9uIiksc3RhdHVzU3VwcG9ydGVkOiJ0cnVlIj09PWEuZ2V0QXR0cmlidXRlKCJzdGF0dXNTdXBwb3J0ZWQiKSxzdG9yZVN1cHBvcnRlZDoidHJ1ZSI9PT1hLmdldEF0dHJpYnV0ZSgic3RvcmVTdXBwb3J0ZWQiKX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2JbYy5pZGVudGlmaWVyXT1jfSxEYXRhSW5wdXRzOmZ1bmN0aW9uKGEsCmIpe2IuZGF0YUlucHV0cz1bXTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5kYXRhSW5wdXRzKX0sUHJvY2Vzc091dHB1dHM6ZnVuY3Rpb24oYSxiKXtiLnByb2Nlc3NPdXRwdXRzPVtdO3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnByb2Nlc3NPdXRwdXRzKX0sT3V0cHV0OmZ1bmN0aW9uKGEsYil7dmFyIGM9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IucHVzaChjKX0sQ29tcGxleE91dHB1dDpmdW5jdGlvbihhLGIpe2IuY29tcGxleE91dHB1dD17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5jb21wbGV4T3V0cHV0KX0sTGl0ZXJhbE91dHB1dDpmdW5jdGlvbihhLGIpe2IubGl0ZXJhbE91dHB1dD17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5saXRlcmFsT3V0cHV0KX0sSW5wdXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz17bWF4T2NjdXJzOnBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKCJtYXhPY2N1cnMiKSksbWluT2NjdXJzOnBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKCJtaW5PY2N1cnMiKSl9Owp0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5wdXNoKGMpfSxCb3VuZGluZ0JveERhdGE6ZnVuY3Rpb24oYSxiKXtiLmJvdW5kaW5nQm94RGF0YT17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5ib3VuZGluZ0JveERhdGEpfSxDUlM6ZnVuY3Rpb24oYSxiKXtiLkNSU3N8fChiLkNSU3M9e30pO2IuQ1JTc1t0aGlzLmdldENoaWxkVmFsdWUoYSldPSEwfSxMaXRlcmFsRGF0YTpmdW5jdGlvbihhLGIpe2IubGl0ZXJhbERhdGE9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIubGl0ZXJhbERhdGEpfSxDb21wbGV4RGF0YTpmdW5jdGlvbihhLGIpe2IuY29tcGxleERhdGE9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuY29tcGxleERhdGEpfSxEZWZhdWx0OmZ1bmN0aW9uKGEsYil7YlsiZGVmYXVsdCJdPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiWyJkZWZhdWx0Il0pfSxTdXBwb3J0ZWQ6ZnVuY3Rpb24oYSxiKXtiLnN1cHBvcnRlZD17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5zdXBwb3J0ZWQpfSwKRm9ybWF0OmZ1bmN0aW9uKGEsYil7dmFyIGM9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IuZm9ybWF0c3x8KGIuZm9ybWF0cz17fSk7Yi5mb3JtYXRzW2MubWltZVR5cGVdPSEwfSxNaW1lVHlwZTpmdW5jdGlvbihhLGIpe2IubWltZVR5cGU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfX0sb3dzOk9wZW5MYXllcnMuRm9ybWF0Lk9XU0NvbW1vbi52MV8xXzAucHJvdG90eXBlLnJlYWRlcnMub3dzfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XUFNEZXNjcmliZVByb2Nlc3MifSk7T3BlbkxheWVycy5Db250cm9sLk5hdlRvb2xiYXI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuZWwse2luaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db250cm9sLlBhbmVsLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKTt0aGlzLmFkZENvbnRyb2xzKFtuZXcgT3BlbkxheWVycy5Db250cm9sLk5hdmlnYXRpb24sbmV3IE9wZW5MYXllcnMuQ29udHJvbC5ab29tQm94XSl9LGRyYXc6ZnVuY3Rpb24oKXt2YXIgYT1PcGVuTGF5ZXJzLkNvbnRyb2wuUGFuZWwucHJvdG90eXBlLmRyYXcuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGw9PT10aGlzLmRlZmF1bHRDb250cm9sJiYodGhpcy5kZWZhdWx0Q29udHJvbD10aGlzLmNvbnRyb2xzWzBdKTtyZXR1cm4gYX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLk5hdlRvb2xiYXIifSk7T3BlbkxheWVycy5Gb3JtYXQuV0tUPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQse2luaXRpYWxpemU6ZnVuY3Rpb24oYSl7dGhpcy5yZWdFeGVzPXt0eXBlU3RyOi9eXHMqKFx3KylccypcKFxzKiguKilccypcKVxzKiQvLHNwYWNlczovXHMrLyxwYXJlbkNvbW1hOi9cKVxzKixccypcKC8sZG91YmxlUGFyZW5Db21tYTovXClccypcKVxzKixccypcKFxzKlwoLyx0cmltUGFyZW5zOi9eXHMqXCg/KC4qPylcKT9ccyokL307T3BlbkxheWVycy5Gb3JtYXQucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pfSxyZWFkOmZ1bmN0aW9uKGEpe3ZhciBiLGMsYT1hLnJlcGxhY2UoL1tcblxyXS9nLCIgIik7aWYoYz10aGlzLnJlZ0V4ZXMudHlwZVN0ci5leGVjKGEpKWlmKGE9Y1sxXS50b0xvd2VyQ2FzZSgpLGM9Y1syXSx0aGlzLnBhcnNlW2FdJiYoYj10aGlzLnBhcnNlW2FdLmFwcGx5KHRoaXMsW2NdKSksdGhpcy5pbnRlcm5hbFByb2plY3Rpb24mJnRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uKWlmKGImJgoiT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvciI9PWIuQ0xBU1NfTkFNRSliLmdlb21ldHJ5LnRyYW5zZm9ybSh0aGlzLmV4dGVybmFsUHJvamVjdGlvbix0aGlzLmludGVybmFsUHJvamVjdGlvbik7ZWxzZSBpZihiJiYiZ2VvbWV0cnljb2xsZWN0aW9uIiE9YSYmIm9iamVjdCI9PXR5cGVvZiBiKXthPTA7Zm9yKGM9Yi5sZW5ndGg7YTxjO2ErKyliW2FdLmdlb21ldHJ5LnRyYW5zZm9ybSh0aGlzLmV4dGVybmFsUHJvamVjdGlvbix0aGlzLmludGVybmFsUHJvamVjdGlvbil9cmV0dXJuIGJ9LHdyaXRlOmZ1bmN0aW9uKGEpe3ZhciBiLGM7YS5jb25zdHJ1Y3Rvcj09QXJyYXk/Yz0hMDooYT1bYV0sYz0hMSk7dmFyIGQ9W107YyYmZC5wdXNoKCJHRU9NRVRSWUNPTExFQ1RJT04oIik7Zm9yKHZhciBlPTAsZj1hLmxlbmd0aDtlPGY7KytlKWMmJjA8ZSYmZC5wdXNoKCIsIiksYj1hW2VdLmdlb21ldHJ5LGQucHVzaCh0aGlzLmV4dHJhY3RHZW9tZXRyeShiKSk7YyYmZC5wdXNoKCIpIik7cmV0dXJuIGQuam9pbigiIil9LApleHRyYWN0R2VvbWV0cnk6ZnVuY3Rpb24oYSl7dmFyIGI9YS5DTEFTU19OQU1FLnNwbGl0KCIuIilbMl0udG9Mb3dlckNhc2UoKTtpZighdGhpcy5leHRyYWN0W2JdKXJldHVybiBudWxsO3RoaXMuaW50ZXJuYWxQcm9qZWN0aW9uJiZ0aGlzLmV4dGVybmFsUHJvamVjdGlvbiYmKGE9YS5jbG9uZSgpLGEudHJhbnNmb3JtKHRoaXMuaW50ZXJuYWxQcm9qZWN0aW9uLHRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uKSk7cmV0dXJuKCJjb2xsZWN0aW9uIj09Yj8iR0VPTUVUUllDT0xMRUNUSU9OIjpiLnRvVXBwZXJDYXNlKCkpKyIoIit0aGlzLmV4dHJhY3RbYl0uYXBwbHkodGhpcyxbYV0pKyIpIn0sZXh0cmFjdDp7cG9pbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEueCsiICIrYS55fSxtdWx0aXBvaW50OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTAsZD1hLmNvbXBvbmVudHMubGVuZ3RoO2M8ZDsrK2MpYi5wdXNoKCIoIit0aGlzLmV4dHJhY3QucG9pbnQuYXBwbHkodGhpcyxbYS5jb21wb25lbnRzW2NdXSkrCiIpIik7cmV0dXJuIGIuam9pbigiLCIpfSxsaW5lc3RyaW5nOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTAsZD1hLmNvbXBvbmVudHMubGVuZ3RoO2M8ZDsrK2MpYi5wdXNoKHRoaXMuZXh0cmFjdC5wb2ludC5hcHBseSh0aGlzLFthLmNvbXBvbmVudHNbY11dKSk7cmV0dXJuIGIuam9pbigiLCIpfSxtdWx0aWxpbmVzdHJpbmc6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MCxkPWEuY29tcG9uZW50cy5sZW5ndGg7YzxkOysrYyliLnB1c2goIigiK3RoaXMuZXh0cmFjdC5saW5lc3RyaW5nLmFwcGx5KHRoaXMsW2EuY29tcG9uZW50c1tjXV0pKyIpIik7cmV0dXJuIGIuam9pbigiLCIpfSxwb2x5Z29uOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTAsZD1hLmNvbXBvbmVudHMubGVuZ3RoO2M8ZDsrK2MpYi5wdXNoKCIoIit0aGlzLmV4dHJhY3QubGluZXN0cmluZy5hcHBseSh0aGlzLFthLmNvbXBvbmVudHNbY11dKSsiKSIpO3JldHVybiBiLmpvaW4oIiwiKX0sbXVsdGlwb2x5Z29uOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0KW10sYz0wLGQ9YS5jb21wb25lbnRzLmxlbmd0aDtjPGQ7KytjKWIucHVzaCgiKCIrdGhpcy5leHRyYWN0LnBvbHlnb24uYXBwbHkodGhpcyxbYS5jb21wb25lbnRzW2NdXSkrIikiKTtyZXR1cm4gYi5qb2luKCIsIil9LGNvbGxlY3Rpb246ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MCxkPWEuY29tcG9uZW50cy5sZW5ndGg7YzxkOysrYyliLnB1c2godGhpcy5leHRyYWN0R2VvbWV0cnkuYXBwbHkodGhpcyxbYS5jb21wb25lbnRzW2NdXSkpO3JldHVybiBiLmpvaW4oIiwiKX19LHBhcnNlOntwb2ludDpmdW5jdGlvbihhKXthPU9wZW5MYXllcnMuU3RyaW5nLnRyaW0oYSkuc3BsaXQodGhpcy5yZWdFeGVzLnNwYWNlcyk7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGFbMF0sYVsxXSkpfSxtdWx0aXBvaW50OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1PcGVuTGF5ZXJzLlN0cmluZy50cmltKGEpLnNwbGl0KCIsIiksCmM9W10sZD0wLGU9Yi5sZW5ndGg7ZDxlOysrZClhPWJbZF0ucmVwbGFjZSh0aGlzLnJlZ0V4ZXMudHJpbVBhcmVucywiJDEiKSxjLnB1c2godGhpcy5wYXJzZS5wb2ludC5hcHBseSh0aGlzLFthXSkuZ2VvbWV0cnkpO3JldHVybiBuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aVBvaW50KGMpKX0sbGluZXN0cmluZzpmdW5jdGlvbihhKXtmb3IodmFyIGE9T3BlbkxheWVycy5TdHJpbmcudHJpbShhKS5zcGxpdCgiLCIpLGI9W10sYz0wLGQ9YS5sZW5ndGg7YzxkOysrYyliLnB1c2godGhpcy5wYXJzZS5wb2ludC5hcHBseSh0aGlzLFthW2NdXSkuZ2VvbWV0cnkpO3JldHVybiBuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nKGIpKX0sbXVsdGlsaW5lc3RyaW5nOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1PcGVuTGF5ZXJzLlN0cmluZy50cmltKGEpLnNwbGl0KHRoaXMucmVnRXhlcy5wYXJlbkNvbW1hKSwKYz1bXSxkPTAsZT1iLmxlbmd0aDtkPGU7KytkKWE9YltkXS5yZXBsYWNlKHRoaXMucmVnRXhlcy50cmltUGFyZW5zLCIkMSIpLGMucHVzaCh0aGlzLnBhcnNlLmxpbmVzdHJpbmcuYXBwbHkodGhpcyxbYV0pLmdlb21ldHJ5KTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlMaW5lU3RyaW5nKGMpKX0scG9seWdvbjpmdW5jdGlvbihhKXtmb3IodmFyIGIsYT1PcGVuTGF5ZXJzLlN0cmluZy50cmltKGEpLnNwbGl0KHRoaXMucmVnRXhlcy5wYXJlbkNvbW1hKSxjPVtdLGQ9MCxlPWEubGVuZ3RoO2Q8ZTsrK2QpYj1hW2RdLnJlcGxhY2UodGhpcy5yZWdFeGVzLnRyaW1QYXJlbnMsIiQxIiksYj10aGlzLnBhcnNlLmxpbmVzdHJpbmcuYXBwbHkodGhpcyxbYl0pLmdlb21ldHJ5LGI9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyhiLmNvbXBvbmVudHMpLGMucHVzaChiKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbihjKSl9LAptdWx0aXBvbHlnb246ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU9wZW5MYXllcnMuU3RyaW5nLnRyaW0oYSkuc3BsaXQodGhpcy5yZWdFeGVzLmRvdWJsZVBhcmVuQ29tbWEpLGM9W10sZD0wLGU9Yi5sZW5ndGg7ZDxlOysrZClhPWJbZF0ucmVwbGFjZSh0aGlzLnJlZ0V4ZXMudHJpbVBhcmVucywiJDEiKSxjLnB1c2godGhpcy5wYXJzZS5wb2x5Z29uLmFwcGx5KHRoaXMsW2FdKS5nZW9tZXRyeSk7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpUG9seWdvbihjKSl9LGdlb21ldHJ5Y29sbGVjdGlvbjpmdW5jdGlvbihhKXtmb3IodmFyIGE9YS5yZXBsYWNlKC8sXHMqKFtBLVphLXpdKS9nLCJ8JDEiKSxhPU9wZW5MYXllcnMuU3RyaW5nLnRyaW0oYSkuc3BsaXQoInwiKSxiPVtdLGM9MCxkPWEubGVuZ3RoO2M8ZDsrK2MpYi5wdXNoKE9wZW5MYXllcnMuRm9ybWF0LldLVC5wcm90b3R5cGUucmVhZC5hcHBseSh0aGlzLFthW2NdXSkpOwpyZXR1cm4gYn19LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LldLVCJ9KTtPcGVuTGF5ZXJzLldQU1Byb2Nlc3M9T3BlbkxheWVycy5DbGFzcyh7Y2xpZW50Om51bGwsc2VydmVyOm51bGwsaWRlbnRpZmllcjpudWxsLGRlc2NyaXB0aW9uOm51bGwsbG9jYWxXUFM6Imh0dHA6Ly9nZW9zZXJ2ZXIvd3BzIixmb3JtYXRzOm51bGwsY2hhaW5lZDowLGV4ZWN1dGVDYWxsYmFja3M6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcyxhKTt0aGlzLmV4ZWN1dGVDYWxsYmFja3M9W107dGhpcy5mb3JtYXRzPXsiYXBwbGljYXRpb24vd2t0IjpuZXcgT3BlbkxheWVycy5Gb3JtYXQuV0tULCJhcHBsaWNhdGlvbi9qc29uIjpuZXcgT3BlbkxheWVycy5Gb3JtYXQuR2VvSlNPTn19LGRlc2NyaWJlOmZ1bmN0aW9uKGEpe2E9YXx8e307aWYodGhpcy5kZXNjcmlwdGlvbil7aWYoYS5jYWxsYmFjayl7dmFyIGI9dGhpcy5kZXNjcmlwdGlvbjt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2EuY2FsbGJhY2suY2FsbChhLnNjb3BlLApiKX0sMCl9fWVsc2UgdGhpcy5jbGllbnQuZGVzY3JpYmVQcm9jZXNzKHRoaXMuc2VydmVyLHRoaXMuaWRlbnRpZmllcixmdW5jdGlvbihiKXt0aGlzLmRlc2NyaXB0aW9ufHx0aGlzLnBhcnNlRGVzY3JpcHRpb24oYik7YS5jYWxsYmFjayYmYS5jYWxsYmFjay5jYWxsKGEuc2NvcGUsdGhpcy5kZXNjcmlwdGlvbil9LHRoaXMpfSxjb25maWd1cmU6ZnVuY3Rpb24oYSl7dGhpcy5kZXNjcmliZSh7Y2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmRlc2NyaXB0aW9uLGM9YS5pbnB1dHMsZCxlLGY7ZT0wO2ZvcihmPWIuZGF0YUlucHV0cy5sZW5ndGg7ZTxmOysrZSlkPWIuZGF0YUlucHV0c1tlXSx0aGlzLnNldElucHV0RGF0YShkLGNbZC5pZGVudGlmaWVyXSk7YS5jYWxsYmFjayYmYS5jYWxsYmFjay5jYWxsKGEuc2NvcGUpfSxzY29wZTp0aGlzfSk7cmV0dXJuIHRoaXN9LGV4ZWN1dGU6ZnVuY3Rpb24oYSl7dGhpcy5jb25maWd1cmUoe2lucHV0czphLmlucHV0cyxjYWxsYmFjazpmdW5jdGlvbigpe3ZhciBiPQp0aGlzLGM9dGhpcy5nZXRPdXRwdXRJbmRleChiLmRlc2NyaXB0aW9uLnByb2Nlc3NPdXRwdXRzLGEub3V0cHV0KTtiLnNldFJlc3BvbnNlRm9ybSh7b3V0cHV0SW5kZXg6Y30pOyhmdW5jdGlvbiBlKCl7T3BlbkxheWVycy5VdGlsLnJlbW92ZUl0ZW0oYi5leGVjdXRlQ2FsbGJhY2tzLGUpOzAhPT1iLmNoYWluZWQ/Yi5leGVjdXRlQ2FsbGJhY2tzLnB1c2goZSk6T3BlbkxheWVycy5SZXF1ZXN0LlBPU1Qoe3VybDpiLmNsaWVudC5zZXJ2ZXJzW2Iuc2VydmVyXS51cmwsZGF0YToobmV3IE9wZW5MYXllcnMuRm9ybWF0LldQU0V4ZWN1dGUpLndyaXRlKGIuZGVzY3JpcHRpb24pLHN1Y2Nlc3M6ZnVuY3Rpb24oZSl7dmFyIGc9Yi5maW5kTWltZVR5cGUoYi5kZXNjcmlwdGlvbi5wcm9jZXNzT3V0cHV0c1tjXS5jb21wbGV4T3V0cHV0LnN1cHBvcnRlZC5mb3JtYXRzKSxlPWIuZm9ybWF0c1tnXS5yZWFkKGUucmVzcG9uc2VUZXh0KTtlIGluc3RhbmNlb2YgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvciYmCihlPVtlXSk7YS5zdWNjZXNzJiYoZz17fSxnW2Eub3V0cHV0fHwicmVzdWx0Il09ZSxhLnN1Y2Nlc3MuY2FsbChhLnNjb3BlLGcpKX0sc2NvcGU6Yn0pfSkoKX0sc2NvcGU6dGhpc30pfSxvdXRwdXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLldQU1Byb2Nlc3MuQ2hhaW5MaW5rKHtwcm9jZXNzOnRoaXMsb3V0cHV0OmF9KX0scGFyc2VEZXNjcmlwdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY2xpZW50LnNlcnZlcnNbdGhpcy5zZXJ2ZXJdO3RoaXMuZGVzY3JpcHRpb249KG5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5XUFNEZXNjcmliZVByb2Nlc3MpLnJlYWQoYS5wcm9jZXNzRGVzY3JpcHRpb25bdGhpcy5pZGVudGlmaWVyXSkucHJvY2Vzc0Rlc2NyaXB0aW9uc1t0aGlzLmlkZW50aWZpZXJdfSxzZXRJbnB1dERhdGE6ZnVuY3Rpb24oYSxiKXtkZWxldGUgYS5kYXRhO2RlbGV0ZSBhLnJlZmVyZW5jZTtpZihiIGluc3RhbmNlb2YgT3BlbkxheWVycy5XUFNQcm9jZXNzLkNoYWluTGluaykrK3RoaXMuY2hhaW5lZCwKYS5yZWZlcmVuY2U9e21ldGhvZDoiUE9TVCIsaHJlZjpiLnByb2Nlc3Muc2VydmVyPT09dGhpcy5zZXJ2ZXI/dGhpcy5sb2NhbFdQUzp0aGlzLmNsaWVudC5zZXJ2ZXJzW2IucHJvY2Vzcy5zZXJ2ZXJdLnVybH0sYi5wcm9jZXNzLmRlc2NyaWJlKHtjYWxsYmFjazpmdW5jdGlvbigpey0tdGhpcy5jaGFpbmVkO3RoaXMuY2hhaW5Qcm9jZXNzKGEsYil9LHNjb3BlOnRoaXN9KTtlbHNle2EuZGF0YT17fTt2YXIgYz1hLmNvbXBsZXhEYXRhO2M/KGM9dGhpcy5maW5kTWltZVR5cGUoYy5zdXBwb3J0ZWQuZm9ybWF0cyksYS5kYXRhLmNvbXBsZXhEYXRhPXttaW1lVHlwZTpjLHZhbHVlOnRoaXMuZm9ybWF0c1tjXS53cml0ZSh0aGlzLnRvRmVhdHVyZXMoYikpfSk6YS5kYXRhLmxpdGVyYWxEYXRhPXt2YWx1ZTpifX19LHNldFJlc3BvbnNlRm9ybTpmdW5jdGlvbihhKXt2YXIgYT1hfHx7fSxiPXRoaXMuZGVzY3JpcHRpb24ucHJvY2Vzc091dHB1dHNbYS5vdXRwdXRJbmRleHx8MF07dGhpcy5kZXNjcmlwdGlvbi5yZXNwb25zZUZvcm09CntyYXdEYXRhT3V0cHV0OntpZGVudGlmaWVyOmIuaWRlbnRpZmllcixtaW1lVHlwZTp0aGlzLmZpbmRNaW1lVHlwZShiLmNvbXBsZXhPdXRwdXQuc3VwcG9ydGVkLmZvcm1hdHMsYS5zdXBwb3J0ZWRGb3JtYXRzKX19fSxnZXRPdXRwdXRJbmRleDpmdW5jdGlvbihhLGIpe3ZhciBjO2lmKGIpZm9yKHZhciBkPWEubGVuZ3RoLTE7MDw9ZDstLWQpe2lmKGFbZF0uaWRlbnRpZmllcj09PWIpe2M9ZDticmVha319ZWxzZSBjPTA7cmV0dXJuIGN9LGNoYWluUHJvY2VzczpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0T3V0cHV0SW5kZXgoYi5wcm9jZXNzLmRlc2NyaXB0aW9uLnByb2Nlc3NPdXRwdXRzLGIub3V0cHV0KTthLnJlZmVyZW5jZS5taW1lVHlwZT10aGlzLmZpbmRNaW1lVHlwZShhLmNvbXBsZXhEYXRhLnN1cHBvcnRlZC5mb3JtYXRzLGIucHJvY2Vzcy5kZXNjcmlwdGlvbi5wcm9jZXNzT3V0cHV0c1tjXS5jb21wbGV4T3V0cHV0LnN1cHBvcnRlZC5mb3JtYXRzKTt2YXIgZD17fTsKZFthLnJlZmVyZW5jZS5taW1lVHlwZV09ITA7Yi5wcm9jZXNzLnNldFJlc3BvbnNlRm9ybSh7b3V0cHV0SW5kZXg6YyxzdXBwb3J0ZWRGb3JtYXRzOmR9KTtmb3IoYS5yZWZlcmVuY2UuYm9keT1iLnByb2Nlc3MuZGVzY3JpcHRpb247MDx0aGlzLmV4ZWN1dGVDYWxsYmFja3MubGVuZ3RoOyl0aGlzLmV4ZWN1dGVDYWxsYmFja3NbMF0oKX0sdG9GZWF0dXJlczpmdW5jdGlvbihhKXt2YXIgYj1PcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShhKTtifHwoYT1bYV0pO2Zvcih2YXIgYz1BcnJheShhLmxlbmd0aCksZCxlPTAsZj1hLmxlbmd0aDtlPGY7KytlKWQ9YVtlXSxjW2VdPWQgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yP2Q6bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoZCk7cmV0dXJuIGI/YzpjWzBdfSxmaW5kTWltZVR5cGU6ZnVuY3Rpb24oYSxiKXt2YXIgYj1ifHx0aGlzLmZvcm1hdHMsYztmb3IoYyBpbiBhKWlmKGMgaW4gYilyZXR1cm4gY30sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5XUFNQcm9jZXNzIn0pOwpPcGVuTGF5ZXJzLldQU1Byb2Nlc3MuQ2hhaW5MaW5rPU9wZW5MYXllcnMuQ2xhc3Moe3Byb2Nlc3M6bnVsbCxvdXRwdXQ6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcyxhKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5XUFNQcm9jZXNzLkNoYWluTGluayJ9KTtPcGVuTGF5ZXJzLldQU0NsaWVudD1PcGVuTGF5ZXJzLkNsYXNzKHtzZXJ2ZXJzOm51bGwsdmVyc2lvbjoiMS4wLjAiLGxhenk6ITEsZXZlbnRzOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsYSk7dGhpcy5ldmVudHM9bmV3IE9wZW5MYXllcnMuRXZlbnRzKHRoaXMpO3RoaXMuc2VydmVycz17fTtmb3IodmFyIGIgaW4gYS5zZXJ2ZXJzKXRoaXMuc2VydmVyc1tiXT0ic3RyaW5nIj09dHlwZW9mIGEuc2VydmVyc1tiXT97dXJsOmEuc2VydmVyc1tiXSx2ZXJzaW9uOnRoaXMudmVyc2lvbixwcm9jZXNzRGVzY3JpcHRpb246e319OmEuc2VydmVyc1tiXX0sZXhlY3V0ZTpmdW5jdGlvbihhKXt0aGlzLmdldFByb2Nlc3MoYS5zZXJ2ZXIsYS5wcm9jZXNzKS5leGVjdXRlKHtpbnB1dHM6YS5pbnB1dHMsc3VjY2VzczphLnN1Y2Nlc3Msc2NvcGU6YS5zY29wZX0pfSxnZXRQcm9jZXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IE9wZW5MYXllcnMuV1BTUHJvY2Vzcyh7Y2xpZW50OnRoaXMsCnNlcnZlcjphLGlkZW50aWZpZXI6Yn0pO3RoaXMubGF6eXx8Yy5kZXNjcmliZSgpO3JldHVybiBjfSxkZXNjcmliZVByb2Nlc3M6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy5zZXJ2ZXJzW2FdO2UucHJvY2Vzc0Rlc2NyaXB0aW9uW2JdP3dpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5jYWxsKGQsZS5wcm9jZXNzRGVzY3JpcHRpb25bYl0pfSwwKTpiIGluIGUucHJvY2Vzc0Rlc2NyaXB0aW9uP3RoaXMuZXZlbnRzLnJlZ2lzdGVyKCJkZXNjcmliZXByb2Nlc3MiLHRoaXMsZnVuY3Rpb24gZyhhKXthLmlkZW50aWZpZXI9PT1iJiYodGhpcy5ldmVudHMudW5yZWdpc3RlcigiZGVzY3JpYmVwcm9jZXNzIix0aGlzLGcpLGMuY2FsbChkLGEucmF3KSl9KTooZS5wcm9jZXNzRGVzY3JpcHRpb25bYl09bnVsbCxPcGVuTGF5ZXJzLlJlcXVlc3QuR0VUKHt1cmw6ZS51cmwscGFyYW1zOntTRVJWSUNFOiJXUFMiLFZFUlNJT046ZS52ZXJzaW9uLFJFUVVFU1Q6IkRlc2NyaWJlUHJvY2VzcyIsCklERU5USUZJRVI6Yn0sc3VjY2VzczpmdW5jdGlvbihhKXtlLnByb2Nlc3NEZXNjcmlwdGlvbltiXT1hLnJlc3BvbnNlVGV4dDt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImRlc2NyaWJlcHJvY2VzcyIse2lkZW50aWZpZXI6YixyYXc6YS5yZXNwb25zZVRleHR9KX0sc2NvcGU6dGhpc30pKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZXZlbnRzLmRlc3Ryb3koKTt0aGlzLnNlcnZlcnM9dGhpcy5ldmVudHM9bnVsbH0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5XUFNDbGllbnQifSk7T3BlbkxheWVycy5Gb3JtYXQuQ1NXR2V0UmVjb3Jkcy52Ml8wXzI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwse25hbWVzcGFjZXM6e2NzdzoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9jYXQvY3N3LzIuMC4yIixkYzoiaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iLGRjdDoiaHR0cDovL3B1cmwub3JnL2RjL3Rlcm1zLyIsZ21kOiJodHRwOi8vd3d3Lmlzb3RjMjExLm9yZy8yMDA1L2dtZCIsZ2VvbmV0OiJodHRwOi8vd3d3LmZhby5vcmcvZ2VvbmV0d29yayIsb2djOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L29nYyIsb3dzOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L293cyIseGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UifSxkZWZhdWx0UHJlZml4OiJjc3ciLHZlcnNpb246IjIuMC4yIixzY2hlbWFMb2NhdGlvbjoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9jYXQvY3N3LzIuMC4yIGh0dHA6Ly9zY2hlbWFzLm9wZW5naXMubmV0L2Nzdy8yLjAuMi9DU1ctZGlzY292ZXJ5LnhzZCIsCnJlcXVlc3RJZDpudWxsLHJlc3VsdFR5cGU6bnVsbCxvdXRwdXRGb3JtYXQ6bnVsbCxvdXRwdXRTY2hlbWE6bnVsbCxzdGFydFBvc2l0aW9uOm51bGwsbWF4UmVjb3JkczpudWxsLERpc3RyaWJ1dGVkU2VhcmNoOm51bGwsUmVzcG9uc2VIYW5kbGVyOm51bGwsUXVlcnk6bnVsbCxyZWdFeGVzOnt0cmltU3BhY2U6L15ccyp8XHMqJC9nLHJlbW92ZVNwYWNlOi9ccyovZyxzcGxpdFNwYWNlOi9ccysvLHRyaW1Db21tYTovXHMqLFxzKi9nfSxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSl9LHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PXR5cGVvZiBhJiYoYT1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxbYV0pKTthJiY5PT1hLm5vZGVUeXBlJiYoYT1hLmRvY3VtZW50RWxlbWVudCk7dmFyIGI9e307dGhpcy5yZWFkTm9kZShhLGIpO3JldHVybiBifSwKcmVhZGVyczp7Y3N3OntHZXRSZWNvcmRzUmVzcG9uc2U6ZnVuY3Rpb24oYSxiKXtiLnJlY29yZHM9W107dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpO3ZhciBjPXRoaXMuZ2V0QXR0cmlidXRlTlMoYSwiIiwidmVyc2lvbiIpOyIiIT1jJiYoYi52ZXJzaW9uPWMpfSxSZXF1ZXN0SWQ6ZnVuY3Rpb24oYSxiKXtiLlJlcXVlc3RJZD10aGlzLmdldENoaWxkVmFsdWUoYSl9LFNlYXJjaFN0YXR1czpmdW5jdGlvbihhLGIpe2IuU2VhcmNoU3RhdHVzPXt9O3ZhciBjPXRoaXMuZ2V0QXR0cmlidXRlTlMoYSwiIiwidGltZXN0YW1wIik7IiIhPWMmJihiLlNlYXJjaFN0YXR1cy50aW1lc3RhbXA9Yyl9LFNlYXJjaFJlc3VsdHM6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYik7Zm9yKHZhciBjPWEuYXR0cmlidXRlcyxkPXt9LGU9MCxmPWMubGVuZ3RoO2U8ZjsrK2UpZFtjW2VdLm5hbWVdPSJudW1iZXJPZlJlY29yZHNNYXRjaGVkIj09Y1tlXS5uYW1lfHwibnVtYmVyT2ZSZWNvcmRzUmV0dXJuZWQiPT0KY1tlXS5uYW1lfHwibmV4dFJlY29yZCI9PWNbZV0ubmFtZT9wYXJzZUludChjW2VdLm5vZGVWYWx1ZSk6Y1tlXS5ub2RlVmFsdWU7Yi5TZWFyY2hSZXN1bHRzPWR9LFN1bW1hcnlSZWNvcmQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz17dHlwZToiU3VtbWFyeVJlY29yZCJ9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLnJlY29yZHMucHVzaChjKX0sQnJpZWZSZWNvcmQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz17dHlwZToiQnJpZWZSZWNvcmQifTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5yZWNvcmRzLnB1c2goYyl9LERDTUlSZWNvcmQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz17dHlwZToiRENNSVJlY29yZCJ9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLnJlY29yZHMucHVzaChjKX0sUmVjb3JkOmZ1bmN0aW9uKGEsYil7dmFyIGM9e3R5cGU6IlJlY29yZCJ9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLnJlY29yZHMucHVzaChjKX0sIioiOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5sb2NhbE5hbWV8fAphLm5vZGVOYW1lLnNwbGl0KCI6IikucG9wKCk7YltjXT10aGlzLmdldENoaWxkVmFsdWUoYSl9fSxnZW9uZXQ6e2luZm86ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5nbmluZm89Y319LGRjOnsiKiI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmxvY2FsTmFtZXx8YS5ub2RlTmFtZS5zcGxpdCgiOiIpLnBvcCgpO09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGJbY10pfHwoYltjXT1bXSk7Zm9yKHZhciBkPXt9LGU9YS5hdHRyaWJ1dGVzLGY9MCxnPWUubGVuZ3RoO2Y8ZzsrK2YpZFtlW2ZdLm5hbWVdPWVbZl0ubm9kZVZhbHVlO2QudmFsdWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpOyIiIT1kLnZhbHVlJiZiW2NdLnB1c2goZCl9fSxkY3Q6eyIqIjpmdW5jdGlvbihhLGIpe3ZhciBjPWEubG9jYWxOYW1lfHxhLm5vZGVOYW1lLnNwbGl0KCI6IikucG9wKCk7T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYltjXSl8fChiW2NdPVtdKTtiW2NdLnB1c2godGhpcy5nZXRDaGlsZFZhbHVlKGEpKX19LApvd3M6T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe0JvdW5kaW5nQm94OmZ1bmN0aW9uKGEsYil7Yi5ib3VuZHMmJihiLkJvdW5kaW5nQm94PVt7Y3JzOmIucHJvamVjdGlvbix2YWx1ZTpbYi5ib3VuZHMubGVmdCxiLmJvdW5kcy5ib3R0b20sYi5ib3VuZHMucmlnaHQsYi5ib3VuZHMudG9wXX1dLGRlbGV0ZSBiLnByb2plY3Rpb24sZGVsZXRlIGIuYm91bmRzKTtPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24udjFfMF8wLnByb3RvdHlwZS5yZWFkZXJzLm93cy5Cb3VuZGluZ0JveC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSxPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24udjFfMF8wLnByb3RvdHlwZS5yZWFkZXJzLm93cyl9LHdyaXRlOmZ1bmN0aW9uKGEpe2E9dGhpcy53cml0ZU5vZGUoImNzdzpHZXRSZWNvcmRzIixhKTthLnNldEF0dHJpYnV0ZSgieG1sbnM6Z21kIix0aGlzLm5hbWVzcGFjZXMuZ21kKTtyZXR1cm4gT3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS53cml0ZS5hcHBseSh0aGlzLApbYV0pfSx3cml0ZXJzOntjc3c6e0dldFJlY29yZHM6ZnVuY3Rpb24oYSl7YXx8KGE9e30pO3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiY3N3OkdldFJlY29yZHMiLHthdHRyaWJ1dGVzOntzZXJ2aWNlOiJDU1ciLHZlcnNpb246dGhpcy52ZXJzaW9uLHJlcXVlc3RJZDphLnJlcXVlc3RJZHx8dGhpcy5yZXF1ZXN0SWQscmVzdWx0VHlwZTphLnJlc3VsdFR5cGV8fHRoaXMucmVzdWx0VHlwZSxvdXRwdXRGb3JtYXQ6YS5vdXRwdXRGb3JtYXR8fHRoaXMub3V0cHV0Rm9ybWF0LG91dHB1dFNjaGVtYTphLm91dHB1dFNjaGVtYXx8dGhpcy5vdXRwdXRTY2hlbWEsc3RhcnRQb3NpdGlvbjphLnN0YXJ0UG9zaXRpb258fHRoaXMuc3RhcnRQb3NpdGlvbixtYXhSZWNvcmRzOmEubWF4UmVjb3Jkc3x8dGhpcy5tYXhSZWNvcmRzfX0pO2lmKGEuRGlzdHJpYnV0ZWRTZWFyY2h8fHRoaXMuRGlzdHJpYnV0ZWRTZWFyY2gpdGhpcy53cml0ZU5vZGUoImNzdzpEaXN0cmlidXRlZFNlYXJjaCIsCmEuRGlzdHJpYnV0ZWRTZWFyY2h8fHRoaXMuRGlzdHJpYnV0ZWRTZWFyY2gsYik7dmFyIGM9YS5SZXNwb25zZUhhbmRsZXJ8fHRoaXMuUmVzcG9uc2VIYW5kbGVyO2lmKE9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGMpJiYwPGMubGVuZ3RoKWZvcih2YXIgZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKyl0aGlzLndyaXRlTm9kZSgiY3N3OlJlc3BvbnNlSGFuZGxlciIsY1tkXSxiKTt0aGlzLndyaXRlTm9kZSgiUXVlcnkiLGEuUXVlcnl8fHRoaXMuUXVlcnksYik7cmV0dXJuIGJ9LERpc3RyaWJ1dGVkU2VhcmNoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImNzdzpEaXN0cmlidXRlZFNlYXJjaCIse2F0dHJpYnV0ZXM6e2hvcENvdW50OmEuaG9wQ291bnR9fSl9LFJlc3BvbnNlSGFuZGxlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJjc3c6UmVzcG9uc2VIYW5kbGVyIix7dmFsdWU6YS52YWx1ZX0pfSxRdWVyeTpmdW5jdGlvbihhKXthfHwKKGE9e30pO3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiY3N3OlF1ZXJ5Iix7YXR0cmlidXRlczp7dHlwZU5hbWVzOmEudHlwZU5hbWVzfHwiY3N3OlJlY29yZCJ9fSksYz1hLkVsZW1lbnROYW1lO2lmKE9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGMpJiYwPGMubGVuZ3RoKWZvcih2YXIgZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKyl0aGlzLndyaXRlTm9kZSgiY3N3OkVsZW1lbnROYW1lIixjW2RdLGIpO2Vsc2UgdGhpcy53cml0ZU5vZGUoImNzdzpFbGVtZW50U2V0TmFtZSIsYS5FbGVtZW50U2V0TmFtZXx8e3ZhbHVlOiJzdW1tYXJ5In0sYik7YS5Db25zdHJhaW50JiZ0aGlzLndyaXRlTm9kZSgiY3N3OkNvbnN0cmFpbnQiLGEuQ29uc3RyYWludCxiKTthLlNvcnRCeSYmdGhpcy53cml0ZU5vZGUoIm9nYzpTb3J0QnkiLGEuU29ydEJ5LGIpO3JldHVybiBifSxFbGVtZW50TmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJjc3c6RWxlbWVudE5hbWUiLAp7dmFsdWU6YS52YWx1ZX0pfSxFbGVtZW50U2V0TmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJjc3c6RWxlbWVudFNldE5hbWUiLHthdHRyaWJ1dGVzOnt0eXBlTmFtZXM6YS50eXBlTmFtZXN9LHZhbHVlOmEudmFsdWV9KX0sQ29uc3RyYWludDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImNzdzpDb25zdHJhaW50Iix7YXR0cmlidXRlczp7dmVyc2lvbjphLnZlcnNpb259fSk7aWYoYS5GaWx0ZXIpe3ZhciBjPW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIoe3ZlcnNpb246YS52ZXJzaW9ufSk7Yi5hcHBlbmRDaGlsZChjLndyaXRlKGEuRmlsdGVyKSl9ZWxzZSBhLkNxbFRleHQmJihhPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiQ3FsVGV4dCIse3ZhbHVlOmEuQ3FsVGV4dC52YWx1ZX0pLGIuYXBwZW5kQ2hpbGQoYSkpO3JldHVybiBifX0sb2djOk9wZW5MYXllcnMuRm9ybWF0LkZpbHRlci52MV8xXzAucHJvdG90eXBlLndyaXRlcnMub2djfSwKQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuQ1NXR2V0UmVjb3Jkcy52Ml8wXzIifSk7T3BlbkxheWVycy5MYW5nLmhzYj1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7dW5oYW5kbGVkUmVxdWVzdDoiV290bW9cdTAxNDJ3YSBuamV3b2JkXHUwMTdhXHUwMTFiXHUwMTQyYW5laG8gbmFwcmFcdTAxNjFvd2FuamEgJHtzdGF0dXNUZXh0fSIsUGVybWFsaW5rOiJUcmFqbnkgd290a2F6IixPdmVybGF5czoiTmF3b3JcdTAxNjF0b3dhbmphIiwiQmFzZSBMYXllciI6Ilpha1x1MDE0MmFkbmEgcnVuaW5hIixub0ZJRDoiRnVua2NpamEsIHphIGtvdHJ1XHUwMTdlIEZJRCBuamVqZSwgbmplZGEgc28gYWt0dWFsaXpvd2FcdTAxMDcuIixicm93c2VyTm90U3VwcG9ydGVkOiJUd1x1MDBmM2ogd29iaGxhZG93YWsgd2VrdG9yb3dlIHJ5c293YW5qZSBuamVwb2RwXHUwMTFicnVqZS4gVHVjaHdpbHUgcG9kcFx1MDExYnJvd2FuZSByeXNvd2FraSBzdTpcbiR7cmVuZGVyZXJzfSIsbWluWm9vbUxldmVsRXJyb3I6Ikthamtvc1x1MDEwNyBtaW5ab29tTGV2ZWwgamUgamVub1x1MDE3ZSB6YSB3dVx1MDE3ZWl3YW5qZSB6IHdvclx1MDE2MXRhbWkgbXlzbGVuYSwga290cmVcdTAxN2Ugd290IEZpeGVkWm9vbUxldmVscyBwb2NoYWRcdTAxN2FlamEuIFpvIHR1dGEgd29yXHUwMTYxdGEgd2ZzIHphIG1pblpvb21MZXZlbCBwXHUwMTU5ZXBydXd1amUsIGplIHJlbGlrdCB6YVx1MDE0NGRcdTAxN2Flbm9zXHUwMTA3ZS4gTmplbVx1MDBmM1x1MDE3ZWVteSB3XHUwMTYxYWsganUgd290c3Ryb25pXHUwMTA3LCBiamV6dG9obyB6byBhcGxpa2FjaWplLCBrb3RyZVx1MDE3ZSBuYSBPcGVuTGF5ZXJzIGJhelx1MDExYnJ1amEgYSBzbmFubyB0dXR1IGthamtvc1x1MDEwNyB3dVx1MDE3ZWl3YWphLCBoaVx1MDE3ZW8gbmplZnVuZ3VqYS4gVG9ob2RsYSBzbXkganUgamFrbyB6ZXN0YXJqZW51IHdvem5hbWplbmlsaSAtLSBwXHUwMTU5ZXBydXdvd2FuamUgemEgbWluWm9vbUxldmVsIGJ1ZHUgc28gd2Ugd2Vyc2lqaSAzLjAgd290c3Ryb25qZVx1MDEwNy4gUHJvXHUwMTYxdSB3dVx1MDE3ZWlqIG1cdTAxMWJzdG8gdG9obyBuYXN0YWplbmplIG1pbi9tYXgsIGthXHUwMTdlIGplIHR1IHdvcGlzYW5lOiBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NldHRpbmdab29tTGV2ZWxzIiwKY29tbWl0U3VjY2VzczoiV0ZTLVRyYW5zYWtjaWphOiBXVVNQXHUwMTFhXHUwMTYwTkEgJHtyZXNwb25zZX0iLGNvbW1pdEZhaWxlZDoiV0ZTLVRyYW5zYWtjaWphOiBOSkVQT1JBRFx1MDE3OUVOQSAke3Jlc3BvbnNlfSIsZ29vZ2xlV2FybmluZzoiV29yXHUwMTYxdGEgR29vZ2xlIG5qZW1cdTAwZjNcdTAxN2VlXHUwMTYxZSBzbyBrb3Jla3RuamUgemFcdTAxMGRpdGFcdTAxMDcuPGJyPjxicj5abyBieSB0dXR1IHpkXHUwMTdhXHUwMTFibGVua3Ugd290YnlcdTAxNDIsIHd1YmplciBub3d5IEJhc2VMYXllciB6IHd1Ylx1MDExYnJhIHdvclx1MDE2MXRvdyBob3JqZWthIG5hcHJhd28uPGJyPjxicj5OYWpza2VyamUgc28gdG8gc3Rhd2EsIGRva2VsXHUwMTdlIHNrcmlwdCBiaWJsaW90ZWtpIEdvb2dsZSBNYXBzIHBhayBuamVidSB6YXBcdTAxNTlpamF0eSBwYWsgbmpld29ic2FodWplIGtvcmVrdG55IGtsdVx1MDEwZCBBUEkgemEgdHdvamUgc3lkXHUwMTQyby48YnI+PGJyPld1d2l3YXJqbzogWmEgcG9tb2Mga2Uga29yZWt0bmVtdSBmdW5nb3dhbmp1IHdvclx1MDE2MXRvd1xuPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9Hb29nbGUnIHRhcmdldD0nX2JsYW5rJz50dSBrbGlrbnlcdTAxMDc8L2E+IiwKZ2V0TGF5ZXJXYXJuaW5nOiJXb3JcdTAxNjF0YSAke2xheWVyVHlwZX0gbmplbVx1MDBmM1x1MDE3ZWVcdTAxNjFlIHNvIGtvcmVrdG5qZSB6YVx1MDEwZGl0YVx1MDEwNy48YnI+PGJyPlpvIGJ5IHR1dHUgemRcdTAxN2FcdTAxMWJsZW5rdSB3b3RieVx1MDE0Miwgd3ViamVyIG5vd3kgQmFzZUxheWVyIHogd3ViXHUwMTFicmEgd29yXHUwMTYxdG93IGhvcmpla2EgbmFwcmF3by48YnI+PGJyPk5hanNrZXJqZSBzbyB0byBzdGF3YSwgZG9rZWxcdTAxN2Ugc2tyaXB0IGJpYmxpb3Rla2kgJHtsYXllckxpYn0gbmplYnUga29yZWt0bmplIHphcFx1MDE1OWlqYXR5Ljxicj48YnI+V3V3aXdhcmpvOiBaYSBwb21vYyBrZSBrb3Jla3RuZW11IGZ1bmdvd2FuanUgd29yXHUwMTYxdG93XG48YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+dHUga2xpa255XHUwMTA3PC9hPiIsIlNjYWxlID0gMSA6ICR7c2NhbGVEZW5vbX0iOiJNXHUwMTFicml0a28gPSAxIDogJHtzY2FsZURlbm9tfSIsClc6IloiLEU6IlciLE46IlMiLFM6IkoiLHJlcHJvamVjdERlcHJlY2F0ZWQ6J1d1XHUwMTdlaXdhXHUwMTYxIG9wY2lqdSAicmVwcm9qZWN0IiB3b1x1MDE1OVx1MDE2MXR5ICR7bGF5ZXJOYW1lfS4gVHV0YSBvcGNpamEgamUgemVzdGFyamVuYTogamVqZSB3dVx1MDE3ZWl3YW5qZSBiXHUwMTFiIG15c2xlbmUsIHpvIGJ5IHp3b2JyYXpuamVuamUgZGF0b3cgbmFkIGtvbWVyY2llbG55bWkgYmF6b3d5bWkga2FydGFtaSBwb2RwXHUwMTFicmFcdTAxNDJvLCBhbGUgZnVua2Npb25hbG5vc1x1MDEwNyBtXHUwMTFiXHUwMTQyYSBzbyBuXHUwMTFidGtvIHogcG9tb2N1IFNwZXJpY2FsIE1lcmNhdG9yIGRvY3BcdTAxMWJcdTAxMDcuIERhbFx1MDE2MWUgaW5mb3JtYWNpamUgc3RlamEgbmEgaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TcGhlcmljYWxNZXJjYXRvciBrIGRpc3BvemljaWppLicsbWV0aG9kRGVwcmVjYXRlZDoiVHV0YSBtZXRvZGEgamUgc28gbmplc2Nod2FsaVx1MDE0MmEgYSBidWRcdTAxN2FlIHNvIHcgMy4wIHdvdHN0cm9uamVcdTAxMDcuIFByb1x1MDE2MXUgd3VcdTAxN2VpaiAke25ld01ldGhvZH0gbVx1MDExYnN0byB0b2hvLiJ9KTtPcGVuTGF5ZXJzLkxhbmcuZGU9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3VuaGFuZGxlZFJlcXVlc3Q6IlVuYmVoYW5kZWx0ZSBBbmZyYWdlclx1MDBmY2NrbWVsZHVuZyAke3N0YXR1c1RleHR9IixQZXJtYWxpbms6IlBlcm1hbGluayIsT3ZlcmxheXM6Ik92ZXJsYXlzIiwiQmFzZSBMYXllciI6IkdydW5ka2FydGUiLG5vRklEOiJFaW4gRmVhdHVyZSwgZlx1MDBmY3IgZGFzIGtlaW5lIEZJRCBleGlzdGllcnQsIGthbm4gbmljaHQgYWt0dWFsaXNpZXJ0IHdlcmRlbi4iLGJyb3dzZXJOb3RTdXBwb3J0ZWQ6IklociBCcm93c2VyIHVudGVyc3RcdTAwZmN0enQga2VpbmUgVmVrdG9yZGFyc3RlbGx1bmcuIEFrdHVlbGwgdW50ZXJzdFx1MDBmY3R6dGUgUmVuZGVyZXI6XG4ke3JlbmRlcmVyc30iLG1pblpvb21MZXZlbEVycm9yOiJEaWUgPGNvZGU+bWluWm9vbUxldmVsPC9jb2RlPi1FaWdlbnNjaGFmdCBpc3QgbnVyIGZcdTAwZmNyIGRpZSBWZXJ3ZW5kdW5nIG1pdCA8Y29kZT5GaXhlZFpvb21MZXZlbHM8L2NvZGU+LXVudGVyZ2VvcmRuZXRlbiBMYXllcnMgdm9yZ2VzZWhlbi4gRGFzIGRpZXNlciA8dHQ+d2ZzPC90dD4tTGF5ZXIgZGllIDxjb2RlPm1pblpvb21MZXZlbDwvY29kZT4tRWlnZW5zY2hhZnQgXHUwMGZjYmVycHJcdTAwZmNmdCBpc3QgZWluIFJlbGlrdCBkZXIgVmVyZ2FuZ2VuaGVpdC4gV2lyIGtcdTAwZjZubmVuIGRpZXNlIFx1MDBkY2JlcnByXHUwMGZjZnVuZyBuaWNodCBlbnRmZXJuZW4sIG9obmUgZGFzIE9MIGJhc2llcmVuZGUgQXBwbGlrYXRpb25lbiBuaWNodCBtZWhyIGZ1bmt0aW9uaWVyZW4uIERhaGVyIG1hcmtpZXJlbiB3aXIgZXMgYWxzIHZlcmFsdGV0IC0gZGllIDxjb2RlPm1pblpvb21MZXZlbDwvY29kZT4tXHUwMGRjYmVycHJcdTAwZmNmdW5nIHdpcmQgaW4gVmVyc2lvbiAzLjAgZW50ZmVybnQgd2VyZGVuLiBCaXR0ZSB2ZXJ3ZW5kZW4gU2llIHN0YXR0ZGVzc2VuIGRpZSBNaW4tL01heC1MXHUwMGY2c3VuZywgd2llIHNpZSB1bnRlciBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NldHRpbmdab29tTGV2ZWxzIGJlc2NocmllYmVuIGlzdC4iLApjb21taXRTdWNjZXNzOiJXRlMtVHJhbnNha3Rpb246IEVyZm9sZ3JlaWNoICR7cmVzcG9uc2V9Iixjb21taXRGYWlsZWQ6IldGUy1UcmFuc2FrdGlvbjogRmVobGdlc2NobGFnZW4gJHtyZXNwb25zZX0iLGdvb2dsZVdhcm5pbmc6IkRlciBHb29nbGUtTGF5ZXIga29ubnRlIG5pY2h0IGtvcnJla3QgZ2VsYWRlbiB3ZXJkZW4uPGJyPjxicj5VbSBkaWVzZSBNZWxkdW5nIG5pY2h0IG1laHIgenUgZXJoYWx0ZW4sIHdcdTAwZTRobGVuIFNpZSBlaW5lbiBhbmRlcmVuIEhpbnRlcmdydW5kbGF5ZXIgYXVzIGRlbSBMYXllclN3aXRjaGVyIGluIGRlciByZWNodGVuIG9iZXJlbiBFY2tlLjxicj48YnI+U2VociB3YWhyc2NoZWlubGljaCB0cml0dCBkaWVzZXIgRmVobGVyIGF1Ziwgd2VpbCBkYXMgU2tyaXB0IGRlciBHb29nbGUtTWFwcy1CaWJsaW90aGVrIG5pY2h0IGVpbmdlYnVuZGVuIHd1cmRlIG9kZXIga2VpbmVuIGdcdTAwZmNsdGlnZW4gQVBJLVNjaGxcdTAwZmNzc2VsIGZcdTAwZmNyIElocmUgVVJMIGVudGhcdTAwZTRsdC48YnI+PGJyPkVudHdpY2tsZXI6IEJlc3VjaGUgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9Hb29nbGUnIHRhcmdldD0nX2JsYW5rJz5kYXMgV2lraTwvYT4gZlx1MDBmY3IgSGlsZmUgenVtIGtvcnJla3RlbiBFaW5iaW5kZW4gZGVzIEdvb2dsZS1MYXllcnMiLApnZXRMYXllcldhcm5pbmc6IkRlciAke2xheWVyVHlwZX0tTGF5ZXIga29ubnRlIG5pY2h0IGtvcnJla3QgZ2VsYWRlbiB3ZXJkZW4uPGJyPjxicj5VbSBkaWVzZSBNZWxkdW5nIG5pY2h0IG1laHIgenUgZXJoYWx0ZW4sIHdcdTAwZTRobGVuIFNpZSBlaW5lbiBhbmRlcmVuIEhpbnRlcmdydW5kbGF5ZXIgYXVzIGRlbSBMYXllclN3aXRjaGVyIGluIGRlciByZWNodGVuIG9iZXJlbiBFY2tlLjxicj48YnI+U2VociB3YWhyc2NoZWlubGljaCB0cml0dCBkaWVzZXIgRmVobGVyIGF1Ziwgd2VpbCBkYXMgU2tyaXB0IGRlciAnJHtsYXllckxpYn0nLUJpYmxpb3RoZWsgbmljaHQgZWluZ2VidW5kZW4gd3VyZGUuPGJyPjxicj5FbnR3aWNrbGVyOiBCZXN1Y2hlIDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvJHtsYXllckxpYn0nIHRhcmdldD0nX2JsYW5rJz5kYXMgV2lraTwvYT4gZlx1MDBmY3IgSGlsZmUgenVtIGtvcnJla3RlbiBFaW5iaW5kZW4gdm9uIExheWVybiIsCiJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiTWFcdTAwZGZzdGFiID0gMSA6ICR7c2NhbGVEZW5vbX0iLFc6IlciLEU6Ik8iLE46Ik4iLFM6IlMiLHJlcHJvamVjdERlcHJlY2F0ZWQ6IlNpZSB2ZXJ3ZW5kZW4gZGllIFx1MjAxZVJlcHJvamVjdFx1MjAxYy1PcHRpb24gZGVzIExheWVycyAke2xheWVyTmFtZX0uIERpZXNlIE9wdGlvbiBpc3QgdmVyYWx0ZXQ6IFNpZSB3dXJkZSBlbnR3aWNrZWx0IHVtIGRpZSBBbnplaWdlIHZvbiBEYXRlbiBhdWYga29tbWVyemllbGxlbiBCYXNpc2thcnRlbiB6dSB1bnRlcnN0XHUwMGZjdHplbiwgYWJlciBkaWVzZSBGdW5rdGlvbiBzb2xsdGUgamV0enQgZHVyY2ggVW50ZXJzdFx1MDBmY3R6dW5nIGRlciBcdTIwMWVTcGhlcmljYWwgTWVyY2F0b3JcdTIwMWMgZXJyZWljaHQgd2VyZGVuLiBXZWl0ZXJlIEluZm9ybWF0aW9uZW4gc2luZCB1bnRlciBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NwaGVyaWNhbE1lcmNhdG9yIHZlcmZcdTAwZmNnYmFyLiIsCm1ldGhvZERlcHJlY2F0ZWQ6IkRpZSBNZXRob2RlIGlzdCB2ZXJhbHRldCB1bmQgd2lyZCBpbiAzLjAgZW50ZmVybnQuIEJpdHRlIHZlcndlbmRlIHN0YXR0ZGVzc2VuICR7bmV3TWV0aG9kfS4ifSk7T3BlbkxheWVycy5NYXJrZXIuQm94PU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5NYXJrZXIse2JvdW5kczpudWxsLGRpdjpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMpe3RoaXMuYm91bmRzPWE7dGhpcy5kaXY9T3BlbkxheWVycy5VdGlsLmNyZWF0ZURpdigpO3RoaXMuZGl2LnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iO3RoaXMuZXZlbnRzPW5ldyBPcGVuTGF5ZXJzLkV2ZW50cyh0aGlzLHRoaXMuZGl2KTt0aGlzLnNldEJvcmRlcihiLGMpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5kaXY9dGhpcy5ib3VuZHM9bnVsbDtPcGVuTGF5ZXJzLk1hcmtlci5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHNldEJvcmRlcjpmdW5jdGlvbihhLGIpe2F8fChhPSJyZWQiKTtifHwoYj0yKTt0aGlzLmRpdi5zdHlsZS5ib3JkZXI9YisicHggc29saWQgIithfSxkcmF3OmZ1bmN0aW9uKGEsYil7T3BlbkxheWVycy5VdGlsLm1vZGlmeURPTUVsZW1lbnQodGhpcy5kaXYsCm51bGwsYSxiKTtyZXR1cm4gdGhpcy5kaXZ9LG9uU2NyZWVuOmZ1bmN0aW9uKCl7dmFyIGE9ITE7dGhpcy5tYXAmJihhPXRoaXMubWFwLmdldEV4dGVudCgpLmNvbnRhaW5zQm91bmRzKHRoaXMuYm91bmRzLCEwLCEwKSk7cmV0dXJuIGF9LGRpc3BsYXk6ZnVuY3Rpb24oYSl7dGhpcy5kaXYuc3R5bGUuZGlzcGxheT1hPyIiOiJub25lIn0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5NYXJrZXIuQm94In0pO09wZW5MYXllcnMuRm9ybWF0LlRleHQ9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdCx7ZGVmYXVsdFN0eWxlOm51bGwsZXh0cmFjdFN0eWxlczohMCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe2E9YXx8e307ITEhPT1hLmV4dHJhY3RTdHlsZXMmJihhLmRlZmF1bHRTdHlsZT17ZXh0ZXJuYWxHcmFwaGljOk9wZW5MYXllcnMuVXRpbC5nZXRJbWFnZUxvY2F0aW9uKCJtYXJrZXIucG5nIiksZ3JhcGhpY1dpZHRoOjIxLGdyYXBoaWNIZWlnaHQ6MjUsZ3JhcGhpY1hPZmZzZXQ6LTEwLjUsZ3JhcGhpY1lPZmZzZXQ6LTEyLjV9KTtPcGVuTGF5ZXJzLkZvcm1hdC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSl9LHJlYWQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBhPWEuc3BsaXQoIlxuIiksYixjPVtdLGQ9MDtkPGEubGVuZ3RoLTE7ZCsrKXt2YXIgZT1hW2RdLnJlcGxhY2UoL15ccyovLCIiKS5yZXBsYWNlKC9ccyokLywiIik7aWYoIiMiIT1lLmNoYXJBdCgwKSlpZihiKXtmb3IodmFyIGU9CmUuc3BsaXQoIlx0IiksZj1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCgwLDApLGc9e30saD10aGlzLmRlZmF1bHRTdHlsZT9PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7fSx0aGlzLmRlZmF1bHRTdHlsZSk6bnVsbCxpPSExLGo9MDtqPGUubGVuZ3RoO2orKylpZihlW2pdKWlmKCJwb2ludCI9PWJbal0paT1lW2pdLnNwbGl0KCIsIiksZi55PXBhcnNlRmxvYXQoaVswXSksZi54PXBhcnNlRmxvYXQoaVsxXSksaT0hMDtlbHNlIGlmKCJsYXQiPT1iW2pdKWYueT1wYXJzZUZsb2F0KGVbal0pLGk9ITA7ZWxzZSBpZigibG9uIj09YltqXSlmLng9cGFyc2VGbG9hdChlW2pdKSxpPSEwO2Vsc2UgaWYoInRpdGxlIj09YltqXSlnLnRpdGxlPWVbal07ZWxzZSBpZigiaW1hZ2UiPT1iW2pdfHwiaWNvbiI9PWJbal0mJmgpaC5leHRlcm5hbEdyYXBoaWM9ZVtqXTtlbHNlIGlmKCJpY29uU2l6ZSI9PWJbal0mJmgpe3ZhciBrPWVbal0uc3BsaXQoIiwiKTtoLmdyYXBoaWNXaWR0aD0KcGFyc2VGbG9hdChrWzBdKTtoLmdyYXBoaWNIZWlnaHQ9cGFyc2VGbG9hdChrWzFdKX1lbHNlImljb25PZmZzZXQiPT1iW2pdJiZoPyhrPWVbal0uc3BsaXQoIiwiKSxoLmdyYXBoaWNYT2Zmc2V0PXBhcnNlRmxvYXQoa1swXSksaC5ncmFwaGljWU9mZnNldD1wYXJzZUZsb2F0KGtbMV0pKToiZGVzY3JpcHRpb24iPT1iW2pdP2cuZGVzY3JpcHRpb249ZVtqXToib3ZlcmZsb3ciPT1iW2pdP2cub3ZlcmZsb3c9ZVtqXTpnW2Jbal1dPWVbal07aSYmKHRoaXMuaW50ZXJuYWxQcm9qZWN0aW9uJiZ0aGlzLmV4dGVybmFsUHJvamVjdGlvbiYmZi50cmFuc2Zvcm0odGhpcy5leHRlcm5hbFByb2plY3Rpb24sdGhpcy5pbnRlcm5hbFByb2plY3Rpb24pLGU9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoZixnLGgpLGMucHVzaChlKSl9ZWxzZSBiPWUuc3BsaXQoIlx0Iil9cmV0dXJuIGN9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LlRleHQifSk7T3BlbkxheWVycy5MYXllci5UZXh0PU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllci5NYXJrZXJzLHtsb2NhdGlvbjpudWxsLGZlYXR1cmVzOm51bGwsZm9ybWF0T3B0aW9uczpudWxsLHNlbGVjdGVkRmVhdHVyZTpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLkxheWVyLk1hcmtlcnMucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZmVhdHVyZXM9W119LGRlc3Ryb3k6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkxheWVyLk1hcmtlcnMucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuY2xlYXJGZWF0dXJlcygpO3RoaXMuZmVhdHVyZXM9bnVsbH0sbG9hZFRleHQ6ZnVuY3Rpb24oKXshdGhpcy5sb2FkZWQmJm51bGwhPXRoaXMubG9jYXRpb24mJih0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvYWRzdGFydCIpLE9wZW5MYXllcnMuUmVxdWVzdC5HRVQoe3VybDp0aGlzLmxvY2F0aW9uLApzdWNjZXNzOnRoaXMucGFyc2VEYXRhLGZhaWx1cmU6ZnVuY3Rpb24oKXt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvYWRlbmQiKX0sc2NvcGU6dGhpc30pLHRoaXMubG9hZGVkPSEwKX0sbW92ZVRvOmZ1bmN0aW9uKGEsYixjKXtPcGVuTGF5ZXJzLkxheWVyLk1hcmtlcnMucHJvdG90eXBlLm1vdmVUby5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy52aXNpYmlsaXR5JiYhdGhpcy5sb2FkZWQmJnRoaXMubG9hZFRleHQoKX0scGFyc2VEYXRhOmZ1bmN0aW9uKGEpe3ZhciBhPWEucmVzcG9uc2VUZXh0LGI9e307T3BlbkxheWVycy5VdGlsLmV4dGVuZChiLHRoaXMuZm9ybWF0T3B0aW9ucyk7dGhpcy5tYXAmJiF0aGlzLnByb2plY3Rpb24uZXF1YWxzKHRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSkmJihiLmV4dGVybmFsUHJvamVjdGlvbj10aGlzLnByb2plY3Rpb24sYi5pbnRlcm5hbFByb2plY3Rpb249dGhpcy5tYXAuZ2V0UHJvamVjdGlvbk9iamVjdCgpKTtmb3IodmFyIGE9CihuZXcgT3BlbkxheWVycy5Gb3JtYXQuVGV4dChiKSkucmVhZChhKSxiPTAsYz1hLmxlbmd0aDtiPGM7YisrKXt2YXIgZD17fSxlPWFbYl0sZixnLGg7Zj1uZXcgT3BlbkxheWVycy5Mb25MYXQoZS5nZW9tZXRyeS54LGUuZ2VvbWV0cnkueSk7ZS5zdHlsZS5ncmFwaGljV2lkdGgmJmUuc3R5bGUuZ3JhcGhpY0hlaWdodCYmKGc9bmV3IE9wZW5MYXllcnMuU2l6ZShlLnN0eWxlLmdyYXBoaWNXaWR0aCxlLnN0eWxlLmdyYXBoaWNIZWlnaHQpKTt2b2lkIDAhPT1lLnN0eWxlLmdyYXBoaWNYT2Zmc2V0JiZ2b2lkIDAhPT1lLnN0eWxlLmdyYXBoaWNZT2Zmc2V0JiYoaD1uZXcgT3BlbkxheWVycy5QaXhlbChlLnN0eWxlLmdyYXBoaWNYT2Zmc2V0LGUuc3R5bGUuZ3JhcGhpY1lPZmZzZXQpKTtudWxsIT1lLnN0eWxlLmV4dGVybmFsR3JhcGhpYz9kLmljb249bmV3IE9wZW5MYXllcnMuSWNvbihlLnN0eWxlLmV4dGVybmFsR3JhcGhpYyxnLGgpOihkLmljb249T3BlbkxheWVycy5NYXJrZXIuZGVmYXVsdEljb24oKSwKbnVsbCE9ZyYmZC5pY29uLnNldFNpemUoZykpO251bGwhPWUuYXR0cmlidXRlcy50aXRsZSYmbnVsbCE9ZS5hdHRyaWJ1dGVzLmRlc2NyaXB0aW9uJiYoZC5wb3B1cENvbnRlbnRIVE1MPSI8aDI+IitlLmF0dHJpYnV0ZXMudGl0bGUrIjwvaDI+PHA+IitlLmF0dHJpYnV0ZXMuZGVzY3JpcHRpb24rIjwvcD4iKTtkLm92ZXJmbG93PWUuYXR0cmlidXRlcy5vdmVyZmxvd3x8ImF1dG8iO2Q9bmV3IE9wZW5MYXllcnMuRmVhdHVyZSh0aGlzLGYsZCk7dGhpcy5mZWF0dXJlcy5wdXNoKGQpO2Y9ZC5jcmVhdGVNYXJrZXIoKTtudWxsIT1lLmF0dHJpYnV0ZXMudGl0bGUmJm51bGwhPWUuYXR0cmlidXRlcy5kZXNjcmlwdGlvbiYmZi5ldmVudHMucmVnaXN0ZXIoImNsaWNrIixkLHRoaXMubWFya2VyQ2xpY2spO3RoaXMuYWRkTWFya2VyKGYpfXRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgibG9hZGVuZCIpfSxtYXJrZXJDbGljazpmdW5jdGlvbihhKXt2YXIgYj10aGlzPT10aGlzLmxheWVyLnNlbGVjdGVkRmVhdHVyZTsKdGhpcy5sYXllci5zZWxlY3RlZEZlYXR1cmU9IWI/dGhpczpudWxsO2Zvcih2YXIgYz0wLGQ9dGhpcy5sYXllci5tYXAucG9wdXBzLmxlbmd0aDtjPGQ7YysrKXRoaXMubGF5ZXIubWFwLnJlbW92ZVBvcHVwKHRoaXMubGF5ZXIubWFwLnBvcHVwc1tjXSk7Ynx8dGhpcy5sYXllci5tYXAuYWRkUG9wdXAodGhpcy5jcmVhdGVQb3B1cCgpKTtPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSl9LGNsZWFyRmVhdHVyZXM6ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLmZlYXR1cmVzKWZvcig7MDx0aGlzLmZlYXR1cmVzLmxlbmd0aDspe3ZhciBhPXRoaXMuZmVhdHVyZXNbMF07T3BlbkxheWVycy5VdGlsLnJlbW92ZUl0ZW0odGhpcy5mZWF0dXJlcyxhKTthLmRlc3Ryb3koKX19LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuTGF5ZXIuVGV4dCJ9KTtPcGVuTGF5ZXJzLkhhbmRsZXIuUmVndWxhclBvbHlnb249T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkhhbmRsZXIuRHJhZyx7c2lkZXM6NCxyYWRpdXM6bnVsbCxzbmFwQW5nbGU6bnVsbCxzbmFwVG9nZ2xlOiJzaGlmdEtleSIsbGF5ZXJPcHRpb25zOm51bGwscGVyc2lzdDohMSxpcnJlZ3VsYXI6ITEsY2l0ZUNvbXBsaWFudDohMSxhbmdsZTpudWxsLGZpeGVkUmFkaXVzOiExLGZlYXR1cmU6bnVsbCxsYXllcjpudWxsLG9yaWdpbjpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMpe2lmKCFjfHwhYy5sYXllck9wdGlvbnN8fCFjLmxheWVyT3B0aW9ucy5zdHlsZU1hcCl0aGlzLnN0eWxlPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoT3BlbkxheWVycy5GZWF0dXJlLlZlY3Rvci5zdHlsZVsiZGVmYXVsdCJdLHt9KTtPcGVuTGF5ZXJzLkhhbmRsZXIuRHJhZy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthLGIsY10pO3RoaXMub3B0aW9ucz1jP2M6e319LHNldE9wdGlvbnM6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5VdGlsLmV4dGVuZCh0aGlzLm9wdGlvbnMsCmEpO09wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcyxhKX0sYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgYT0hMTtPcGVuTGF5ZXJzLkhhbmRsZXIuRHJhZy5wcm90b3R5cGUuYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpJiYoYT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHtkaXNwbGF5SW5MYXllclN3aXRjaGVyOiExLGNhbGN1bGF0ZUluUmFuZ2U6T3BlbkxheWVycy5GdW5jdGlvbi5UcnVlLHdyYXBEYXRlTGluZTp0aGlzLmNpdGVDb21wbGlhbnR9LHRoaXMubGF5ZXJPcHRpb25zKSx0aGlzLmxheWVyPW5ldyBPcGVuTGF5ZXJzLkxheWVyLlZlY3Rvcih0aGlzLkNMQVNTX05BTUUsYSksdGhpcy5tYXAuYWRkTGF5ZXIodGhpcy5sYXllciksYT0hMCk7cmV0dXJuIGF9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgYT0hMTtPcGVuTGF5ZXJzLkhhbmRsZXIuRHJhZy5wcm90b3R5cGUuZGVhY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cykmJih0aGlzLmRyYWdnaW5nJiZ0aGlzLmNhbmNlbCgpLApudWxsIT10aGlzLmxheWVyLm1hcCYmKHRoaXMubGF5ZXIuZGVzdHJveSghMSksdGhpcy5mZWF0dXJlJiZ0aGlzLmZlYXR1cmUuZGVzdHJveSgpKSx0aGlzLmZlYXR1cmU9dGhpcy5sYXllcj1udWxsLGE9ITApO3JldHVybiBhfSxkb3duOmZ1bmN0aW9uKGEpe3RoaXMuZml4ZWRSYWRpdXM9ISF0aGlzLnJhZGl1czthPXRoaXMubGF5ZXIuZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHgoYS54eSk7dGhpcy5vcmlnaW49bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoYS5sb24sYS5sYXQpO2lmKCF0aGlzLmZpeGVkUmFkaXVzfHx0aGlzLmlycmVndWxhcil0aGlzLnJhZGl1cz10aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCk7dGhpcy5wZXJzaXN0JiZ0aGlzLmNsZWFyKCk7dGhpcy5mZWF0dXJlPW5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yO3RoaXMuY3JlYXRlR2VvbWV0cnkoKTt0aGlzLmNhbGxiYWNrKCJjcmVhdGUiLFt0aGlzLm9yaWdpbix0aGlzLmZlYXR1cmVdKTt0aGlzLmxheWVyLmFkZEZlYXR1cmVzKFt0aGlzLmZlYXR1cmVdLAp7c2lsZW50OiEwfSk7dGhpcy5sYXllci5kcmF3RmVhdHVyZSh0aGlzLmZlYXR1cmUsdGhpcy5zdHlsZSl9LG1vdmU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5sYXllci5nZXRMb25MYXRGcm9tVmlld1BvcnRQeChhLnh5KSxiPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGIubG9uLGIubGF0KTt0aGlzLmlycmVndWxhcj8oYT1NYXRoLnNxcnQoMikqTWF0aC5hYnMoYi55LXRoaXMub3JpZ2luLnkpLzIsdGhpcy5yYWRpdXM9TWF0aC5tYXgodGhpcy5tYXAuZ2V0UmVzb2x1dGlvbigpLzIsYSkpOnRoaXMuZml4ZWRSYWRpdXM/dGhpcy5vcmlnaW49YjoodGhpcy5jYWxjdWxhdGVBbmdsZShiLGEpLHRoaXMucmFkaXVzPU1hdGgubWF4KHRoaXMubWFwLmdldFJlc29sdXRpb24oKS8yLGIuZGlzdGFuY2VUbyh0aGlzLm9yaWdpbikpKTt0aGlzLm1vZGlmeUdlb21ldHJ5KCk7aWYodGhpcy5pcnJlZ3VsYXIpe3ZhciBhPWIueC10aGlzLm9yaWdpbi54LGI9Yi55LXRoaXMub3JpZ2luLnksCmM7Yz0wPT1iP2EvKHRoaXMucmFkaXVzKk1hdGguc3FydCgyKSk6YS9iO3RoaXMuZmVhdHVyZS5nZW9tZXRyeS5yZXNpemUoMSx0aGlzLm9yaWdpbixjKTt0aGlzLmZlYXR1cmUuZ2VvbWV0cnkubW92ZShhLzIsYi8yKX10aGlzLmxheWVyLmRyYXdGZWF0dXJlKHRoaXMuZmVhdHVyZSx0aGlzLnN0eWxlKX0sdXA6ZnVuY3Rpb24oYSl7dGhpcy5maW5hbGl6ZSgpO3RoaXMuc3RhcnQ9PXRoaXMubGFzdCYmdGhpcy5jYWxsYmFjaygiZG9uZSIsW2EueHldKX0sb3V0OmZ1bmN0aW9uKCl7dGhpcy5maW5hbGl6ZSgpfSxjcmVhdGVHZW9tZXRyeTpmdW5jdGlvbigpe3RoaXMuYW5nbGU9TWF0aC5QSSooMS90aGlzLnNpZGVzLTAuNSk7dGhpcy5zbmFwQW5nbGUmJih0aGlzLmFuZ2xlKz10aGlzLnNuYXBBbmdsZSooTWF0aC5QSS8xODApKTt0aGlzLmZlYXR1cmUuZ2VvbWV0cnk9T3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uLmNyZWF0ZVJlZ3VsYXJQb2x5Z29uKHRoaXMub3JpZ2luLHRoaXMucmFkaXVzLAp0aGlzLnNpZGVzLHRoaXMuc25hcEFuZ2xlKX0sbW9kaWZ5R2VvbWV0cnk6ZnVuY3Rpb24oKXt2YXIgYSxiLGM9dGhpcy5mZWF0dXJlLmdlb21ldHJ5LmNvbXBvbmVudHNbMF07Yy5jb21wb25lbnRzLmxlbmd0aCE9dGhpcy5zaWRlcysxJiYodGhpcy5jcmVhdGVHZW9tZXRyeSgpLGM9dGhpcy5mZWF0dXJlLmdlb21ldHJ5LmNvbXBvbmVudHNbMF0pO2Zvcih2YXIgZD0wO2Q8dGhpcy5zaWRlczsrK2QpYj1jLmNvbXBvbmVudHNbZF0sYT10aGlzLmFuZ2xlKzIqZCpNYXRoLlBJL3RoaXMuc2lkZXMsYi54PXRoaXMub3JpZ2luLngrdGhpcy5yYWRpdXMqTWF0aC5jb3MoYSksYi55PXRoaXMub3JpZ2luLnkrdGhpcy5yYWRpdXMqTWF0aC5zaW4oYSksYi5jbGVhckJvdW5kcygpfSxjYWxjdWxhdGVBbmdsZTpmdW5jdGlvbihhLGIpe3ZhciBjPU1hdGguYXRhbjIoYS55LXRoaXMub3JpZ2luLnksYS54LXRoaXMub3JpZ2luLngpO2lmKHRoaXMuc25hcEFuZ2xlJiZ0aGlzLnNuYXBUb2dnbGUmJiFiW3RoaXMuc25hcFRvZ2dsZV0pe3ZhciBkPQpNYXRoLlBJLzE4MCp0aGlzLnNuYXBBbmdsZTt0aGlzLmFuZ2xlPU1hdGgucm91bmQoYy9kKSpkfWVsc2UgdGhpcy5hbmdsZT1jfSxjYW5jZWw6ZnVuY3Rpb24oKXt0aGlzLmNhbGxiYWNrKCJjYW5jZWwiLG51bGwpO3RoaXMuZmluYWxpemUoKX0sZmluYWxpemU6ZnVuY3Rpb24oKXt0aGlzLm9yaWdpbj1udWxsO3RoaXMucmFkaXVzPXRoaXMub3B0aW9ucy5yYWRpdXN9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5sYXllciYmKHRoaXMubGF5ZXIucmVuZGVyZXIuY2xlYXIoKSx0aGlzLmxheWVyLmRlc3Ryb3lGZWF0dXJlcygpKX0sY2FsbGJhY2s6ZnVuY3Rpb24oYSl7dGhpcy5jYWxsYmFja3NbYV0mJnRoaXMuY2FsbGJhY2tzW2FdLmFwcGx5KHRoaXMuY29udHJvbCxbdGhpcy5mZWF0dXJlLmdlb21ldHJ5LmNsb25lKCldKTshdGhpcy5wZXJzaXN0JiYoImRvbmUiPT1hfHwiY2FuY2VsIj09YSkmJnRoaXMuY2xlYXIoKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5IYW5kbGVyLlJlZ3VsYXJQb2x5Z29uIn0pO09wZW5MYXllcnMuQ29udHJvbC5TTERTZWxlY3Q9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse2NsZWFyT25EZWFjdGl2YXRlOiExLGxheWVyczpudWxsLGNhbGxiYWNrczpudWxsLHNlbGVjdGlvblN5bWJvbGl6ZXI6e1BvbHlnb246e2ZpbGxDb2xvcjoiI0ZGMDAwMCIsc3Ryb2tlOiExfSxMaW5lOntzdHJva2VDb2xvcjoiI0ZGMDAwMCIsc3Ryb2tlV2lkdGg6Mn0sUG9pbnQ6e2dyYXBoaWNOYW1lOiJzcXVhcmUiLGZpbGxDb2xvcjoiI0ZGMDAwMCIscG9pbnRSYWRpdXM6NX19LGxheWVyT3B0aW9uczpudWxsLHNrZXRjaFN0eWxlOm51bGwsd2ZzQ2FjaGU6e30sbGF5ZXJDYWNoZTp7fSxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYil7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2JdKTt0aGlzLmNhbGxiYWNrcz1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHtkb25lOnRoaXMuc2VsZWN0LGNsaWNrOnRoaXMuc2VsZWN0fSx0aGlzLmNhbGxiYWNrcyk7CnRoaXMuaGFuZGxlck9wdGlvbnM9dGhpcy5oYW5kbGVyT3B0aW9uc3x8e307dGhpcy5sYXllck9wdGlvbnM9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHModGhpcy5sYXllck9wdGlvbnMse2Rpc3BsYXlJbkxheWVyU3dpdGNoZXI6ITEsdGlsZU9wdGlvbnM6e21heEdldFVybExlbmd0aDoyMDQ4fX0pO3RoaXMuc2tldGNoU3R5bGUmJih0aGlzLmhhbmRsZXJPcHRpb25zLmxheWVyT3B0aW9ucz1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh0aGlzLmhhbmRsZXJPcHRpb25zLmxheWVyT3B0aW9ucyx7c3R5bGVNYXA6bmV3IE9wZW5MYXllcnMuU3R5bGVNYXAoeyJkZWZhdWx0Ijp0aGlzLnNrZXRjaFN0eWxlfSl9KSk7dGhpcy5oYW5kbGVyPW5ldyBhKHRoaXMsdGhpcy5jYWxsYmFja3MsdGhpcy5oYW5kbGVyT3B0aW9ucyl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gdGhpcy5sYXllckNhY2hlKWRlbGV0ZSB0aGlzLmxheWVyQ2FjaGVbYV07Zm9yKGEgaW4gdGhpcy53ZnNDYWNoZSlkZWxldGUgdGhpcy53ZnNDYWNoZVthXTsKT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sY291cGxlTGF5ZXJWaXNpYmxpdHk6ZnVuY3Rpb24oYSl7dGhpcy5zZXRWaXNpYmlsaXR5KGEub2JqZWN0LmdldFZpc2liaWxpdHkoKSl9LGNyZWF0ZVNlbGVjdGlvbkxheWVyOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKHRoaXMubGF5ZXJDYWNoZVthLmlkXSliPXRoaXMubGF5ZXJDYWNoZVthLmlkXTtlbHNle2I9bmV3IE9wZW5MYXllcnMuTGF5ZXIuV01TKGEubmFtZSxhLnVybCxhLnBhcmFtcyxPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh0aGlzLmxheWVyT3B0aW9ucyxhLmdldE9wdGlvbnMoKSkpO3RoaXMubGF5ZXJDYWNoZVthLmlkXT1iO2lmKCExPT09dGhpcy5sYXllck9wdGlvbnMuZGlzcGxheUluTGF5ZXJTd2l0Y2hlcilhLmV2ZW50cy5vbih7dmlzaWJpbGl0eWNoYW5nZWQ6dGhpcy5jb3VwbGVMYXllclZpc2libGl0eSxzY29wZTpifSk7dGhpcy5tYXAuYWRkTGF5ZXIoYil9cmV0dXJuIGJ9LApjcmVhdGVTTEQ6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD17dmVyc2lvbjoiMS4wLjAiLG5hbWVkTGF5ZXJzOnt9fSxlPSgiIithLnBhcmFtcy5MQVlFUlMpLnNwbGl0KCIsIiksZj0wLGc9ZS5sZW5ndGg7ZjxnO2YrKyl7dmFyIGg9ZVtmXTtkLm5hbWVkTGF5ZXJzW2hdPXtuYW1lOmgsdXNlclN0eWxlczpbXX07dmFyIGk9dGhpcy5zZWxlY3Rpb25TeW1ib2xpemVyLGo9Y1tmXTswPD1qLnR5cGUuaW5kZXhPZigiUG9seWdvbiIpP2k9e1BvbHlnb246dGhpcy5zZWxlY3Rpb25TeW1ib2xpemVyLlBvbHlnb259OjA8PWoudHlwZS5pbmRleE9mKCJMaW5lU3RyaW5nIik/aT17TGluZTp0aGlzLnNlbGVjdGlvblN5bWJvbGl6ZXIuTGluZX06MDw9ai50eXBlLmluZGV4T2YoIlBvaW50IikmJihpPXtQb2ludDp0aGlzLnNlbGVjdGlvblN5bWJvbGl6ZXIuUG9pbnR9KTtkLm5hbWVkTGF5ZXJzW2hdLnVzZXJTdHlsZXMucHVzaCh7bmFtZToiZGVmYXVsdCIscnVsZXM6W25ldyBPcGVuTGF5ZXJzLlJ1bGUoe3N5bWJvbGl6ZXI6aSwKZmlsdGVyOmJbZl0sbWF4U2NhbGVEZW5vbWluYXRvcjphLm9wdGlvbnMubWluU2NhbGV9KV19KX1yZXR1cm4obmV3IE9wZW5MYXllcnMuRm9ybWF0LlNMRCh7c3JzTmFtZTp0aGlzLm1hcC5nZXRQcm9qZWN0aW9uKCl9KSkud3JpdGUoZCl9LHBhcnNlRGVzY3JpYmVMYXllcjpmdW5jdGlvbihhKXt2YXIgYj1uZXcgT3BlbkxheWVycy5Gb3JtYXQuV01TRGVzY3JpYmVMYXllcixjPWEucmVzcG9uc2VYTUw7aWYoIWN8fCFjLmRvY3VtZW50RWxlbWVudCljPWEucmVzcG9uc2VUZXh0O2Zvcih2YXIgYT1iLnJlYWQoYyksYj1bXSxjPW51bGwsZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKykiV0ZTIj09YVtkXS5vd3NUeXBlJiYoYi5wdXNoKGFbZF0udHlwZU5hbWUpLGM9YVtkXS5vd3NVUkwpO09wZW5MYXllcnMuUmVxdWVzdC5HRVQoe3VybDpjLHBhcmFtczp7U0VSVklDRToiV0ZTIixUWVBFTkFNRTpiLnRvU3RyaW5nKCksUkVRVUVTVDoiRGVzY3JpYmVGZWF0dXJlVHlwZSIsVkVSU0lPTjoiMS4wLjAifSwKY2FsbGJhY2s6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IE9wZW5MYXllcnMuRm9ybWF0LldGU0Rlc2NyaWJlRmVhdHVyZVR5cGUsYz1hLnJlc3BvbnNlWE1MO2lmKCFjfHwhYy5kb2N1bWVudEVsZW1lbnQpYz1hLnJlc3BvbnNlVGV4dDthPWIucmVhZChjKTt0aGlzLmNvbnRyb2wud2ZzQ2FjaGVbdGhpcy5sYXllci5pZF09YTt0aGlzLmNvbnRyb2wuX3F1ZXVlJiZ0aGlzLmNvbnRyb2wuYXBwbHlTZWxlY3Rpb24oKX0sc2NvcGU6dGhpc30pfSxnZXRHZW9tZXRyeUF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGE9dGhpcy53ZnNDYWNoZVthLmlkXSxjPTAsZD1hLmZlYXR1cmVUeXBlcy5sZW5ndGg7YzxkO2MrKylmb3IodmFyIGU9YS5mZWF0dXJlVHlwZXNbY10ucHJvcGVydGllcyxmPTAsZz1lLmxlbmd0aDtmPGc7ZisrKXt2YXIgaD1lW2ZdLGk9aC50eXBlOygwPD1pLmluZGV4T2YoIkxpbmVTdHJpbmciKXx8MDw9aS5pbmRleE9mKCJHZW9tZXRyeUFzc29jaWF0aW9uVHlwZSIpfHwKMDw9aS5pbmRleE9mKCJHZW9tZXRyeVByb3BlcnR5VHlwZSIpfHwwPD1pLmluZGV4T2YoIlBvaW50Iil8fDA8PWkuaW5kZXhPZigiUG9seWdvbiIpKSYmYi5wdXNoKGgpfXJldHVybiBifSxhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPU9wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuYWN0aXZhdGUuY2FsbCh0aGlzKTtpZihhKWZvcih2YXIgYj0wLGM9dGhpcy5sYXllcnMubGVuZ3RoO2I8YztiKyspe3ZhciBkPXRoaXMubGF5ZXJzW2JdO2QmJiF0aGlzLndmc0NhY2hlW2QuaWRdJiZPcGVuTGF5ZXJzLlJlcXVlc3QuR0VUKHt1cmw6ZC51cmwscGFyYW1zOntTRVJWSUNFOiJXTVMiLFZFUlNJT046ZC5wYXJhbXMuVkVSU0lPTixMQVlFUlM6ZC5wYXJhbXMuTEFZRVJTLFJFUVVFU1Q6IkRlc2NyaWJlTGF5ZXIifSxjYWxsYmFjazp0aGlzLnBhcnNlRGVzY3JpYmVMYXllcixzY29wZTp7bGF5ZXI6ZCxjb250cm9sOnRoaXN9fSl9cmV0dXJuIGF9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgYT0KT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZWFjdGl2YXRlLmNhbGwodGhpcyk7aWYoYSlmb3IodmFyIGI9MCxjPXRoaXMubGF5ZXJzLmxlbmd0aDtiPGM7YisrKXt2YXIgZD10aGlzLmxheWVyc1tiXTtpZihkJiYhMD09PXRoaXMuY2xlYXJPbkRlYWN0aXZhdGUpe3ZhciBlPXRoaXMubGF5ZXJDYWNoZSxmPWVbZC5pZF07ZiYmKGQuZXZlbnRzLnVuKHt2aXNpYmlsaXR5Y2hhbmdlZDp0aGlzLmNvdXBsZUxheWVyVmlzaWJsaXR5LHNjb3BlOmZ9KSxmLmRlc3Ryb3koKSxkZWxldGUgZVtkLmlkXSl9fXJldHVybiBhfSxzZXRMYXllcnM6ZnVuY3Rpb24oYSl7dGhpcy5hY3RpdmU/KHRoaXMuZGVhY3RpdmF0ZSgpLHRoaXMubGF5ZXJzPWEsdGhpcy5hY3RpdmF0ZSgpKTp0aGlzLmxheWVycz1hfSxjcmVhdGVGaWx0ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsO3RoaXMuaGFuZGxlciBpbnN0YW5jZW9mIE9wZW5MYXllcnMuSGFuZGxlci5SZWd1bGFyUG9seWdvbj9jPSEwPT09dGhpcy5oYW5kbGVyLmlycmVndWxhcj8KbmV3IE9wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwoe3R5cGU6T3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5CQk9YLHByb3BlcnR5OmEubmFtZSx2YWx1ZTpiLmdldEJvdW5kcygpfSk6bmV3IE9wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwoe3R5cGU6T3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5JTlRFUlNFQ1RTLHByb3BlcnR5OmEubmFtZSx2YWx1ZTpifSk6dGhpcy5oYW5kbGVyIGluc3RhbmNlb2YgT3BlbkxheWVycy5IYW5kbGVyLlBvbHlnb24/Yz1uZXcgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbCh7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsLklOVEVSU0VDVFMscHJvcGVydHk6YS5uYW1lLHZhbHVlOmJ9KTp0aGlzLmhhbmRsZXIgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkhhbmRsZXIuUGF0aD9jPTA8PWEudHlwZS5pbmRleE9mKCJQb2ludCIpP25ldyBPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsKHt0eXBlOk9wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwuRFdJVEhJTiwKcHJvcGVydHk6YS5uYW1lLGRpc3RhbmNlOjAuMDEqdGhpcy5tYXAuZ2V0RXh0ZW50KCkuZ2V0V2lkdGgoKSxkaXN0YW5jZVVuaXRzOnRoaXMubWFwLmdldFVuaXRzKCksdmFsdWU6Yn0pOm5ldyBPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsKHt0eXBlOk9wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwuSU5URVJTRUNUUyxwcm9wZXJ0eTphLm5hbWUsdmFsdWU6Yn0pOnRoaXMuaGFuZGxlciBpbnN0YW5jZW9mIE9wZW5MYXllcnMuSGFuZGxlci5DbGljayYmKGM9MDw9YS50eXBlLmluZGV4T2YoIlBvbHlnb24iKT9uZXcgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbCh7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsLklOVEVSU0VDVFMscHJvcGVydHk6YS5uYW1lLHZhbHVlOmJ9KTpuZXcgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbCh7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsLkRXSVRISU4scHJvcGVydHk6YS5uYW1lLGRpc3RhbmNlOjAuMDEqdGhpcy5tYXAuZ2V0RXh0ZW50KCkuZ2V0V2lkdGgoKSwKZGlzdGFuY2VVbml0czp0aGlzLm1hcC5nZXRVbml0cygpLHZhbHVlOmJ9KSk7cmV0dXJuIGN9LHNlbGVjdDpmdW5jdGlvbihhKXt0aGlzLl9xdWV1ZT1mdW5jdGlvbigpe2Zvcih2YXIgYj0wLGM9dGhpcy5sYXllcnMubGVuZ3RoO2I8YztiKyspe2Zvcih2YXIgZD10aGlzLmxheWVyc1tiXSxlPXRoaXMuZ2V0R2VvbWV0cnlBdHRyaWJ1dGVzKGQpLGY9W10sZz0wLGg9ZS5sZW5ndGg7ZzxoO2crKyl7dmFyIGk9ZVtnXTtpZihudWxsIT09aSl7aWYoIShhIGluc3RhbmNlb2YgT3BlbkxheWVycy5HZW9tZXRyeSkpe3ZhciBqPXRoaXMubWFwLmdldExvbkxhdEZyb21QaXhlbChhLnh5KTthPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGoubG9uLGoubGF0KX1pPXRoaXMuY3JlYXRlRmlsdGVyKGksYSk7bnVsbCE9PWkmJmYucHVzaChpKX19Zz10aGlzLmNyZWF0ZVNlbGVjdGlvbkxheWVyKGQpO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgic2VsZWN0ZWQiLHtsYXllcjpkLGZpbHRlcnM6Zn0pOwpkPXRoaXMuY3JlYXRlU0xEKGQsZixlKTtnLm1lcmdlTmV3UGFyYW1zKHtTTERfQk9EWTpkfSk7ZGVsZXRlIHRoaXMuX3F1ZXVlfX07dGhpcy5hcHBseVNlbGVjdGlvbigpfSxhcHBseVNlbGVjdGlvbjpmdW5jdGlvbigpe2Zvcih2YXIgYT0hMCxiPTAsYz10aGlzLmxheWVycy5sZW5ndGg7YjxjO2IrKylpZighdGhpcy53ZnNDYWNoZVt0aGlzLmxheWVyc1tiXS5pZF0pe2E9ITE7YnJlYWt9YSYmdGhpcy5fcXVldWUuY2FsbCh0aGlzKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLlNMRFNlbGVjdCJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjFfMV8wPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuV01TQ2FwYWJpbGl0aWVzLnYxXzEse3ZlcnNpb246IjEuMS4wIixyZWFkZXJzOnt3bXM6T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe1NSUzpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYSkuc3BsaXQoLyArLyksZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKyliLnNyc1tjW2RdXT0hMH19LE9wZW5MYXllcnMuRm9ybWF0LldNU0NhcGFiaWxpdGllcy52MV8xLnByb3RvdHlwZS5yZWFkZXJzLndtcyl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LldNU0NhcGFiaWxpdGllcy52MV8xXzAifSk7T3BlbkxheWVycy5MYW5nLmZpPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtQZXJtYWxpbms6IklraWxpbmtraSIsT3ZlcmxheXM6IktlcnJva3NldCIsIkJhc2UgTGF5ZXIiOiJQZXJ1c2tlcnJvcyIsVzoiTCIsRToiSSIsTjoiUCIsUzoiRSJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuU2NhbGU9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse2VsZW1lbnQ6bnVsbCxnZW9kZXNpYzohMSxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYil7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2JdKTt0aGlzLmVsZW1lbnQ9T3BlbkxheWVycy5VdGlsLmdldEVsZW1lbnQoYSl9LGRyYXc6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRyYXcuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZWxlbWVudHx8KHRoaXMuZWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0aGlzLmRpdi5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpKTt0aGlzLm1hcC5ldmVudHMucmVnaXN0ZXIoIm1vdmVlbmQiLHRoaXMsdGhpcy51cGRhdGVTY2FsZSk7dGhpcy51cGRhdGVTY2FsZSgpO3JldHVybiB0aGlzLmRpdn0sdXBkYXRlU2NhbGU6ZnVuY3Rpb24oKXt2YXIgYTsKaWYoITA9PT10aGlzLmdlb2Rlc2ljKXtpZighdGhpcy5tYXAuZ2V0VW5pdHMoKSlyZXR1cm47YT1PcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVDthPSh0aGlzLm1hcC5nZXRHZW9kZXNpY1BpeGVsU2l6ZSgpLnd8fDFFLTYpKmEua20qT3BlbkxheWVycy5ET1RTX1BFUl9JTkNIfWVsc2UgYT10aGlzLm1hcC5nZXRTY2FsZSgpO2EmJihhPTk1MDA8PWEmJjk1RTQ+PWE/TWF0aC5yb3VuZChhLzFFMykrIksiOjk1RTQ8PWE/TWF0aC5yb3VuZChhLzFFNikrIk0iOk1hdGgucm91bmQoYSksdGhpcy5lbGVtZW50LmlubmVySFRNTD1PcGVuTGF5ZXJzLmkxOG4oIlNjYWxlID0gMSA6ICR7c2NhbGVEZW5vbX0iLHtzY2FsZURlbm9tOmF9KSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5TY2FsZSJ9KTtPcGVuTGF5ZXJzLkxheWVyLk1hcEd1aWRlPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllci5HcmlkLHtpc0Jhc2VMYXllcjohMCx1c2VIdHRwVGlsZTohMSxzaW5nbGVUaWxlOiExLHVzZU92ZXJsYXk6ITEsdXNlQXN5bmNPdmVybGF5OiEwLFRJTEVfUEFSQU1TOntvcGVyYXRpb246IkdFVFRJTEVJTUFHRSIsdmVyc2lvbjoiMS4yLjAifSxTSU5HTEVfVElMRV9QQVJBTVM6e29wZXJhdGlvbjoiR0VUTUFQSU1BR0UiLGZvcm1hdDoiUE5HIixsb2NhbGU6ImVuIixjbGlwOiIxIix2ZXJzaW9uOiIxLjAuMCJ9LE9WRVJMQVlfUEFSQU1TOntvcGVyYXRpb246IkdFVERZTkFNSUNNQVBPVkVSTEFZSU1BR0UiLGZvcm1hdDoiUE5HIixsb2NhbGU6ImVuIixjbGlwOiIxIix2ZXJzaW9uOiIyLjAuMCJ9LEZPTERFUl9QQVJBTVM6e3RpbGVDb2x1bW5zUGVyRm9sZGVyOjMwLHRpbGVSb3dzUGVyRm9sZGVyOjMwLGZvcm1hdDoicG5nIixxdWVyeXN0cmluZzpudWxsfSxkZWZhdWx0U2l6ZTpuZXcgT3BlbkxheWVycy5TaXplKDMwMCwKMzAwKSx0aWxlT3JpZ2luQ29ybmVyOiJ0bCIsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyxkKXtPcGVuTGF5ZXJzLkxheWVyLkdyaWQucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKG51bGw9PWR8fG51bGw9PWQuaXNCYXNlTGF5ZXIpdGhpcy5pc0Jhc2VMYXllcj0idHJ1ZSIhPXRoaXMudHJhbnNwYXJlbnQmJiEwIT10aGlzLnRyYW5zcGFyZW50O2QmJm51bGwhPWQudXNlT3ZlcmxheSYmKHRoaXMudXNlT3ZlcmxheT1kLnVzZU92ZXJsYXkpO3RoaXMuc2luZ2xlVGlsZT90aGlzLnVzZU92ZXJsYXk/KE9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHRoaXMucGFyYW1zLHRoaXMuT1ZFUkxBWV9QQVJBTVMpLHRoaXMudXNlQXN5bmNPdmVybGF5fHwodGhpcy5wYXJhbXMudmVyc2lvbj0iMS4wLjAiKSk6T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHModGhpcy5wYXJhbXMsdGhpcy5TSU5HTEVfVElMRV9QQVJBTVMpOih0aGlzLnVzZUh0dHBUaWxlPwpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh0aGlzLnBhcmFtcyx0aGlzLkZPTERFUl9QQVJBTVMpOk9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHRoaXMucGFyYW1zLHRoaXMuVElMRV9QQVJBTVMpLHRoaXMuc2V0VGlsZVNpemUodGhpcy5kZWZhdWx0U2l6ZSkpfSxjbG9uZTpmdW5jdGlvbihhKXtudWxsPT1hJiYoYT1uZXcgT3BlbkxheWVycy5MYXllci5NYXBHdWlkZSh0aGlzLm5hbWUsdGhpcy51cmwsdGhpcy5wYXJhbXMsdGhpcy5nZXRPcHRpb25zKCkpKTtyZXR1cm4gYT1PcGVuTGF5ZXJzLkxheWVyLkdyaWQucHJvdG90eXBlLmNsb25lLmFwcGx5KHRoaXMsW2FdKX0sZ2V0VVJMOmZ1bmN0aW9uKGEpe3ZhciBiO2I9YS5nZXRDZW50ZXJMb25MYXQoKTt2YXIgYz10aGlzLm1hcC5nZXRTaXplKCk7dGhpcy5zaW5nbGVUaWxlPyhhPXtzZXRkaXNwbGF5ZHBpOk9wZW5MYXllcnMuRE9UU19QRVJfSU5DSCxzZXRkaXNwbGF5aGVpZ2h0OmMuaCp0aGlzLnJhdGlvLHNldGRpc3BsYXl3aWR0aDpjLncqCnRoaXMucmF0aW8sc2V0dmlld2NlbnRlcng6Yi5sb24sc2V0dmlld2NlbnRlcnk6Yi5sYXQsc2V0dmlld3NjYWxlOnRoaXMubWFwLmdldFNjYWxlKCl9LHRoaXMudXNlT3ZlcmxheSYmIXRoaXMudXNlQXN5bmNPdmVybGF5JiYoYj17fSxiPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoYixhKSxiLm9wZXJhdGlvbj0iR0VUVklTSUJMRU1BUEVYVEVOVCIsYi52ZXJzaW9uPSIxLjAuMCIsYi5zZXNzaW9uPXRoaXMucGFyYW1zLnNlc3Npb24sYi5tYXBOYW1lPXRoaXMucGFyYW1zLm1hcE5hbWUsYi5mb3JtYXQ9InRleHQveG1sIixiPXRoaXMuZ2V0RnVsbFJlcXVlc3RTdHJpbmcoYiksT3BlbkxheWVycy5SZXF1ZXN0LkdFVCh7dXJsOmIsYXN5bmM6ITF9KSksYj10aGlzLmdldEZ1bGxSZXF1ZXN0U3RyaW5nKGEpKTooYz10aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCksYj1NYXRoLmZsb29yKChhLmxlZnQtdGhpcy5tYXhFeHRlbnQubGVmdCkvYyksYj1NYXRoLnJvdW5kKGIvdGhpcy50aWxlU2l6ZS53KSwKYT1NYXRoLmZsb29yKCh0aGlzLm1heEV4dGVudC50b3AtYS50b3ApL2MpLGE9TWF0aC5yb3VuZChhL3RoaXMudGlsZVNpemUuaCksYj10aGlzLnVzZUh0dHBUaWxlP3RoaXMuZ2V0SW1hZ2VGaWxlUGF0aCh7dGlsZWNvbDpiLHRpbGVyb3c6YSxzY2FsZWluZGV4OnRoaXMucmVzb2x1dGlvbnMubGVuZ3RoLXRoaXMubWFwLnpvb20tMX0pOnRoaXMuZ2V0RnVsbFJlcXVlc3RTdHJpbmcoe3RpbGVjb2w6Yix0aWxlcm93OmEsc2NhbGVpbmRleDp0aGlzLnJlc29sdXRpb25zLmxlbmd0aC10aGlzLm1hcC56b29tLTF9KSk7cmV0dXJuIGJ9LGdldEZ1bGxSZXF1ZXN0U3RyaW5nOmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbD09Yj90aGlzLnVybDpiOyJvYmplY3QiPT10eXBlb2YgYyYmKGM9Y1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYy5sZW5ndGgpXSk7dmFyIGQ9YyxlPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe30sdGhpcy5wYXJhbXMpLGU9T3BlbkxheWVycy5VdGlsLmV4dGVuZChlLGEpLApmPU9wZW5MYXllcnMuVXRpbC51cHBlckNhc2VPYmplY3QoT3BlbkxheWVycy5VdGlsLmdldFBhcmFtZXRlcnMoYykpLGc7Zm9yKGcgaW4gZSlnLnRvVXBwZXJDYXNlKClpbiBmJiZkZWxldGUgZVtnXTtlPU9wZW5MYXllcnMuVXRpbC5nZXRQYXJhbWV0ZXJTdHJpbmcoZSk7ZT1lLnJlcGxhY2UoLywvZywiKyIpOyIiIT1lJiYoZj1jLmNoYXJBdChjLmxlbmd0aC0xKSxkPSImIj09Znx8Ij8iPT1mP2QrZTotMT09Yy5pbmRleE9mKCI/Iik/ZCsoIj8iK2UpOmQrKCImIitlKSk7cmV0dXJuIGR9LGdldEltYWdlRmlsZVBhdGg6ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsPT1iP3RoaXMudXJsOmI7Im9iamVjdCI9PXR5cGVvZiBjJiYoYz1jW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpjLmxlbmd0aCldKTt2YXIgZD0iIixlPSIiOzA+YS50aWxlcm93JiYoZD0iLSIpO2Q9MD09YS50aWxlcm93P2QrIjAiOmQrTWF0aC5mbG9vcihNYXRoLmFicyhhLnRpbGVyb3cvdGhpcy5wYXJhbXMudGlsZVJvd3NQZXJGb2xkZXIpKSoKdGhpcy5wYXJhbXMudGlsZVJvd3NQZXJGb2xkZXI7MD5hLnRpbGVjb2wmJihlPSItIik7ZT0wPT1hLnRpbGVjb2w/ZSsiMCI6ZStNYXRoLmZsb29yKE1hdGguYWJzKGEudGlsZWNvbC90aGlzLnBhcmFtcy50aWxlQ29sdW1uc1BlckZvbGRlcikpKnRoaXMucGFyYW1zLnRpbGVDb2x1bW5zUGVyRm9sZGVyO2Q9Ii9TIitNYXRoLmZsb29yKGEuc2NhbGVpbmRleCkrIi8iK3RoaXMucGFyYW1zLmJhc2VtYXBsYXllcmdyb3VwbmFtZSsiL1IiK2QrIi9DIitlKyIvIithLnRpbGVyb3cldGhpcy5wYXJhbXMudGlsZVJvd3NQZXJGb2xkZXIrIl8iK2EudGlsZWNvbCV0aGlzLnBhcmFtcy50aWxlQ29sdW1uc1BlckZvbGRlcisiLiIrdGhpcy5wYXJhbXMuZm9ybWF0O3RoaXMucGFyYW1zLnF1ZXJ5c3RyaW5nJiYoZCs9Ij8iK3RoaXMucGFyYW1zLnF1ZXJ5c3RyaW5nKTtyZXR1cm4gYytkfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLk1hcEd1aWRlIn0pO09wZW5MYXllcnMuQ29udHJvbC5NZWFzdXJlPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHtjYWxsYmFja3M6bnVsbCxkaXNwbGF5U3lzdGVtOiJtZXRyaWMiLGdlb2Rlc2ljOiExLGRpc3BsYXlTeXN0ZW1Vbml0czp7Z2VvZ3JhcGhpYzpbImRkIl0sZW5nbGlzaDpbIm1pIiwiZnQiLCJpbiJdLG1ldHJpYzpbImttIiwibSJdfSxwYXJ0aWFsRGVsYXk6MzAwLGRlbGF5ZWRUcmlnZ2VyOm51bGwscGVyc2lzdDohMSxpbW1lZGlhdGU6ITEsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIpe09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFtiXSk7dmFyIGM9e2RvbmU6dGhpcy5tZWFzdXJlQ29tcGxldGUscG9pbnQ6dGhpcy5tZWFzdXJlUGFydGlhbH07dGhpcy5pbW1lZGlhdGUmJihjLm1vZGlmeT10aGlzLm1lYXN1cmVJbW1lZGlhdGUpO3RoaXMuY2FsbGJhY2tzPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoYyx0aGlzLmNhbGxiYWNrcyk7CnRoaXMuaGFuZGxlck9wdGlvbnM9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7cGVyc2lzdDp0aGlzLnBlcnNpc3R9LHRoaXMuaGFuZGxlck9wdGlvbnMpO3RoaXMuaGFuZGxlcj1uZXcgYSh0aGlzLHRoaXMuY2FsbGJhY2tzLHRoaXMuaGFuZGxlck9wdGlvbnMpfSxkZWFjdGl2YXRlOmZ1bmN0aW9uKCl7dGhpcy5jYW5jZWxEZWxheSgpO3JldHVybiBPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxjYW5jZWw6ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbERlbGF5KCk7dGhpcy5oYW5kbGVyLmNhbmNlbCgpfSxzZXRJbW1lZGlhdGU6ZnVuY3Rpb24oYSl7KHRoaXMuaW1tZWRpYXRlPWEpP3RoaXMuY2FsbGJhY2tzLm1vZGlmeT10aGlzLm1lYXN1cmVJbW1lZGlhdGU6ZGVsZXRlIHRoaXMuY2FsbGJhY2tzLm1vZGlmeX0sdXBkYXRlSGFuZGxlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuYWN0aXZlO2MmJnRoaXMuZGVhY3RpdmF0ZSgpOwp0aGlzLmhhbmRsZXI9bmV3IGEodGhpcyx0aGlzLmNhbGxiYWNrcyxiKTtjJiZ0aGlzLmFjdGl2YXRlKCl9LG1lYXN1cmVDb21wbGV0ZTpmdW5jdGlvbihhKXt0aGlzLmNhbmNlbERlbGF5KCk7dGhpcy5tZWFzdXJlKGEsIm1lYXN1cmUiKX0sbWVhc3VyZVBhcnRpYWw6ZnVuY3Rpb24oYSxiKXt0aGlzLmNhbmNlbERlbGF5KCk7Yj1iLmNsb25lKCk7dGhpcy5oYW5kbGVyLmZyZWVoYW5kTW9kZSh0aGlzLmhhbmRsZXIuZXZ0KT90aGlzLm1lYXN1cmUoYiwibWVhc3VyZXBhcnRpYWwiKTp0aGlzLmRlbGF5ZWRUcmlnZ2VyPXdpbmRvdy5zZXRUaW1lb3V0KE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZChmdW5jdGlvbigpe3RoaXMuZGVsYXllZFRyaWdnZXI9bnVsbDt0aGlzLm1lYXN1cmUoYiwibWVhc3VyZXBhcnRpYWwiKX0sdGhpcyksdGhpcy5wYXJ0aWFsRGVsYXkpfSxtZWFzdXJlSW1tZWRpYXRlOmZ1bmN0aW9uKGEsYixjKXtjJiYhdGhpcy5oYW5kbGVyLmZyZWVoYW5kTW9kZSh0aGlzLmhhbmRsZXIuZXZ0KSYmCih0aGlzLmNhbmNlbERlbGF5KCksdGhpcy5tZWFzdXJlKGIuZ2VvbWV0cnksIm1lYXN1cmVwYXJ0aWFsIikpfSxjYW5jZWxEZWxheTpmdW5jdGlvbigpe251bGwhPT10aGlzLmRlbGF5ZWRUcmlnZ2VyJiYod2luZG93LmNsZWFyVGltZW91dCh0aGlzLmRlbGF5ZWRUcmlnZ2VyKSx0aGlzLmRlbGF5ZWRUcmlnZ2VyPW51bGwpfSxtZWFzdXJlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZDstMTxhLkNMQVNTX05BTUUuaW5kZXhPZigiTGluZVN0cmluZyIpPyhjPXRoaXMuZ2V0QmVzdExlbmd0aChhKSxkPTEpOihjPXRoaXMuZ2V0QmVzdEFyZWEoYSksZD0yKTt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoYix7bWVhc3VyZTpjWzBdLHVuaXRzOmNbMV0sb3JkZXI6ZCxnZW9tZXRyeTphfSl9LGdldEJlc3RBcmVhOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmRpc3BsYXlTeXN0ZW1Vbml0c1t0aGlzLmRpc3BsYXlTeXN0ZW1dLGMsZCxlPTAsZj1iLmxlbmd0aDtlPGYmJiEoYz1iW2VdLGQ9dGhpcy5nZXRBcmVhKGEsCmMpLDE8ZCk7KytlKTtyZXR1cm5bZCxjXX0sZ2V0QXJlYTpmdW5jdGlvbihhLGIpe3ZhciBjLGQ7dGhpcy5nZW9kZXNpYz8oYz1hLmdldEdlb2Rlc2ljQXJlYSh0aGlzLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCkpLGQ9Im0iKTooYz1hLmdldEFyZWEoKSxkPXRoaXMubWFwLmdldFVuaXRzKCkpO3ZhciBlPU9wZW5MYXllcnMuSU5DSEVTX1BFUl9VTklUW2JdO2UmJihjKj1NYXRoLnBvdyhPcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVFtkXS9lLDIpKTtyZXR1cm4gY30sZ2V0QmVzdExlbmd0aDpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5kaXNwbGF5U3lzdGVtVW5pdHNbdGhpcy5kaXNwbGF5U3lzdGVtXSxjLGQsZT0wLGY9Yi5sZW5ndGg7ZTxmJiYhKGM9YltlXSxkPXRoaXMuZ2V0TGVuZ3RoKGEsYyksMTxkKTsrK2UpO3JldHVybltkLGNdfSxnZXRMZW5ndGg6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkO3RoaXMuZ2VvZGVzaWM/KGM9YS5nZXRHZW9kZXNpY0xlbmd0aCh0aGlzLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCkpLApkPSJtIik6KGM9YS5nZXRMZW5ndGgoKSxkPXRoaXMubWFwLmdldFVuaXRzKCkpO3ZhciBlPU9wZW5MYXllcnMuSU5DSEVTX1BFUl9VTklUW2JdO2UmJihjKj1PcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVFtkXS9lKTtyZXR1cm4gY30sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLk1lYXN1cmUifSk7T3BlbkxheWVycy5Gb3JtYXQuV01DLnYxXzBfMD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LldNQy52MSx7VkVSU0lPTjoiMS4wLjAiLHNjaGVtYUxvY2F0aW9uOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2NvbnRleHQgaHR0cDovL3NjaGVtYXMub3Blbmdpcy5uZXQvY29udGV4dC8xLjAuMC9jb250ZXh0LnhzZCIsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkZvcm1hdC5XTUMudjEucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pfSxyZWFkX3dtY19TUlM6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYik7Im9iamVjdCIhPXR5cGVvZiBhLnByb2plY3Rpb25zJiYoYS5wcm9qZWN0aW9ucz17fSk7Zm9yKHZhciBjPWMuc3BsaXQoLyArLyksZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKylhLnByb2plY3Rpb25zW2NbZF1dPSEwfSx3cml0ZV93bWNfTGF5ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9T3BlbkxheWVycy5Gb3JtYXQuV01DLnYxLnByb3RvdHlwZS53cml0ZV93bWNfTGF5ZXIuYXBwbHkodGhpcywKW2FdKTtpZihhLnNycyl7dmFyIGM9W10sZDtmb3IoZCBpbiBhLnNycyljLnB1c2goZCk7Yi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIlNSUyIsYy5qb2luKCIgIikpKX1iLmFwcGVuZENoaWxkKHRoaXMud3JpdGVfd21jX0Zvcm1hdExpc3QoYSkpO2IuYXBwZW5kQ2hpbGQodGhpcy53cml0ZV93bWNfU3R5bGVMaXN0KGEpKTthLmRpbWVuc2lvbnMmJmIuYXBwZW5kQ2hpbGQodGhpcy53cml0ZV93bWNfRGltZW5zaW9uTGlzdChhKSk7Yi5hcHBlbmRDaGlsZCh0aGlzLndyaXRlX3dtY19MYXllckV4dGVuc2lvbihhKSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LldNQy52MV8wXzAifSk7T3BlbkxheWVycy5MYW5nWyJkYS1ESyJdPXt1bmhhbmRsZWRSZXF1ZXN0OiJFbiBpa2tlIGhcdTAwZTVuZHRlcmV0IGZvcmVzcFx1MDBmOHJnc2VsIHJldHVybmVyZWRlICR7c3RhdHVzVGV4dH0iLFBlcm1hbGluazoiUGVybWFsaW5rIixPdmVybGF5czoiS29ydGxhZyIsIkJhc2UgTGF5ZXIiOiJCYWdncnVuZHNsYWciLG5vRklEOiJLYW4gaWtrZSBvcGRhdGVyZXQgZW4gZmVhdHVyZSAoZXQgb2JqZWt0KSBkZXIgaWtrZSBoYXIgZXQgRklELiIsYnJvd3Nlck5vdFN1cHBvcnRlZDoiRGluIGJyb3dzZXIgdW5kZXJzdFx1MDBmOHR0ZXIgaWtrZSB2ZWt0b3IgdmlzbmluZy4gRlx1MDBmOGxnZW5kZSB2ZWt0b3IgdmlzbmluZ2VyIHVuZGVyc3RcdTAwZjh0dGVzOlxuJHtyZW5kZXJlcnN9IixtaW5ab29tTGV2ZWxFcnJvcjoiRWdlbnNrYWJlbiBtaW5ab29tTGV2ZWwgZXIga3VuIGJlcmVnbmV0IHRpbCBicnVnIG1lZCBGaXhlZFpvb21MZXZlbHMuIEF0IGRldHRlIFdGUyBsYWcga29udHJvbGxlcmVyIG1pblpvb21MZXZlbCBlZ2Vuc2thYmVuLCBlciBldCBsZXZuIGZyYSBlbiB0aWRsaWdlcmUgdmVyc2lvbi4gVmkga2FuIGRlc3ZcdTAwZTZycmUgaWtrZSBmamVybmUgZGV0dGUgdWRlbiBhdCByaXNpa2VyZSBhdCBcdTAwZjhkZWxcdTAwZTZnZ2UgZWtzaXN0ZXJlbmRlIE9MIGJhc2VyZWRlIHByb2dyYW1tZXIgZGVyICBiZW55dHRlciBkZW5uZSBmdW5rdGlvbmFsaXRldC4gRWdlbnNrYWJlbiBiXHUwMGY4ciBkZXJmb3IgaWtrZSBhbnZlbmRlcywgb2cgbWluWm9vbUxldmVsIGtvbnRyb2xsZW4gaGVydW5kZXIgdmlsIGJsaXZlIGZqZXJuZXQgaSB2ZXJzaW9uIDMuMC4gQmVueXQgaXN0ZWRldCBtaW4vbWF4IG9wbFx1MDBmOHNuaW5ncyBpbmRzdGlsbGluZ2VybmUsIHNvbSBlciBiZXNrcmV2ZXQgaGVyOiBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NldHRpbmdab29tTGV2ZWxzIiwKY29tbWl0U3VjY2VzczoiV0ZTIHRyYW5zYWt0aW9uOiBMWUtLRURFUyAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJXRlMgdHJhbnNha3Rpb246IE1JU0xZS0tFREVTICR7cmVzcG9uc2V9Iixnb29nbGVXYXJuaW5nOiJHb29nbGUgbGFnZXQga3VubmUgaWtrZSBpbmRsXHUwMGU2c2VzLjxicj48YnI+Rm9yIGF0IGZqZXJuZSBkZW5uZSBiZXNrZWQsIHZcdTAwZTZsZyBldCBueXQgYmFncnVuZHNrb3J0IGkgbGFnc2tpZnRlcmVuIGkgXHUwMGY4dmVyc3RlIGhcdTAwZjhqcmUgaGpcdTAwZjhybmUuPGJyPjxicj5GZWpsZW4gc2t5bGRlcyBmb3JtZW50bGlnIGF0IEdvb2dsZSBNYXBzIGJpYmxpb3Rla3RzIHNjcmlwdGV0IGlra2UgZXIgaW5rbHVkZXJldCwgZWxsZXIgaWtrZSBpbmRlaG9sZGVyIGRlbiBrb3Jya3RlIEFQSSBuXHUwMGY4Z2xlIGZvciBkaXQgc2l0ZS48YnI+PGJyPlVkdmlrbGVyZTogRm9yIGhqXHUwMGU2bHAgdGlsIGF0IGZcdTAwZTUgZGV0dGUgdGlsIGF0IGZ1bmdlcmUsIDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvR29vZ2xlJyB0YXJnZXQ9J19ibGFuayc+a2xpayBoZXI8L2E+IiwKZ2V0TGF5ZXJXYXJuaW5nOiIke2xheWVyVHlwZX0tbGFnZXQga3VubmUgaWtrZSBpbmRsXHUwMGU2c2VzLjxicj48YnI+Rm9yIGF0IGZqZXJuZSBkZW5uZSBiZXNrZWQsIHZcdTAwZTZsZyBldCBueXQgYmFncnVuZHNrb3J0IGkgbGFnc2tpZnRlcmVuIGkgXHUwMGY4dmVyc3RlIGhcdTAwZjhqcmUgaGpcdTAwZjhybmUuPGJyPjxicj5GZWpsZW4gc2t5bGRlcyBmb3JtZW50bGlnIGF0ICR7bGF5ZXJMaWJ9IGJpYmxpb3Rla3RzIHNjcmlwdGV0IGlra2UgZXIgaW5rbHVkZXJldC48YnI+PGJyPlVkdmlrbGVyZTogRm9yIGhqXHUwMGU2bHAgdGlsIGF0IGZcdTAwZTUgZGV0dGUgdGlsIGF0IGZ1bmdlcmUsIDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvJHtsYXllckxpYn0nIHRhcmdldD0nX2JsYW5rJz5rbGlrIGhlcjwvYT4iLCJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiTVx1MDBlNWxmb3Job2xkID0gMSA6ICR7c2NhbGVEZW5vbX0iLHJlcHJvamVjdERlcHJlY2F0ZWQ6IkR1IGFudmVuZGVyIGluZHN0aWxsaW5nZW4gJ3JlcHJvamVjdCcgcFx1MDBlNSBsYWdldCAke2xheWVyTmFtZX0uRGVubmUgaW5kc3RpbGxpbmcgYlx1MDBmOHIgaWtrZSBsXHUwMGU2bmdlcmUgYW52ZW5kZXMuIERlbiB2YXIgYmVyZWduZXQgdGlsIGF0IHZpc2UgZGF0YSBvdmVucFx1MDBlNSBrb21tZXJjaWVsbGUgZ3J1bmRrb3J0LCBtZW4gZGVuIGZ1bmt0aW9uYWxpdGV0IGJcdTAwZjhyIG51IG9wblx1MDBlNXMgdmVkIGF0IGFudmVuZGUgU3BoZXJpY2FsIE1lcmNhdG9yIHVuZGVyc3RcdTAwZjh0dGVsc2VuLiBNZXJlIGluZm9ybWF0aW9uIGVyIHRpbGdcdTAwZTZuZ2VsaWcgaGVyOiBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NwaGVyaWNhbE1lcmNhdG9yLiIsCm1ldGhvZERlcHJlY2F0ZWQ6IkRlbm5lIGZ1bmt0aW9uIGJcdTAwZjhyIGlra2UgbFx1MDBlNm5nZXJlIGFudmVuZGVzLCBvZyB2aWwgYmxpdmUgZmplcm5ldCBpIHZlcnNpb24gMy4wLiBBbnZlbmQgdmVubGlnc3QgZnVua3Rpb25lbiAke25ld01ldGhvZH0gaXN0ZWRldC4ifTtPcGVuTGF5ZXJzLkxhbmcuaHU9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3VuaGFuZGxlZFJlcXVlc3Q6Ik5lbSBrZXplbHQga1x1MDBlOXJcdTAwZTlzIHZpc3N6YXRcdTAwZTlyXHUwMGU5c2UgJHtzdGF0dXNUZXh0fSIsUGVybWFsaW5rOiJQZXJtYWxpbmsiLE92ZXJsYXlzOiJSXHUwMGUxdmV0XHUwMGVkdFx1MDBlOXNlayIsIkJhc2UgTGF5ZXIiOiJBbGFwclx1MDBlOXRlZyIsbm9GSUQ6Ik5lbSBmcmlzc1x1MDBlZHRoZXRcdTAxNTEgb2x5YW4gamVsbGVtelx1MDE1MSwgYW1lbHkgbmVtIHJlbmRlbGtlemlrIEZJRC1kZWwuIixicm93c2VyTm90U3VwcG9ydGVkOiJBIGJcdTAwZjZuZ1x1MDBlOXN6XHUwMTUxamUgbmVtIHRcdTAwZTFtb2dhdGphIGEgdmVrdG9yb3MgcmVuZGVyZWxcdTAwZTlzdC4gQSBqZWxlbmxlZyB0XHUwMGUxbW9nYXRvdHQgcmVuZGVyZWxcdTAxNTFrOlxuJHtyZW5kZXJlcnN9IixtaW5ab29tTGV2ZWxFcnJvcjoiQSBtaW5ab29tTGV2ZWwgdHVsYWpkb25zXHUwMGUxZ290IGNzYWsgYSBrXHUwMGY2dmV0a2V6XHUwMTUxdmVsIHZhbFx1MDBmMyBoYXN6blx1MDBlMWxhdHJhIHN6XHUwMGUxbnRcdTAwZTFrOiBGaXhlZFpvb21MZXZlbHMtbGVzelx1MDBlMXJtYXpvdHQgZlx1MDBmM2xpXHUwMGUxay4gRXogYXp0IGplbGVudGksIGhvZ3kgYSBtaW5ab29tTGV2ZWwgd2ZzIGZcdTAwZjNsaWEgamVsXHUwMGY2bFx1MDE1MW5cdTAwZTlneXpldGVpIG1cdTAwZTFyIGEgbVx1MDBmYWx0XHUwMGU5LiBNaSBhem9uYmFuIG5lbSB0XHUwMGUxdm9sXHUwMGVkdGhhdGp1ayBlbCBhbm5hayBhIHZlc3pcdTAwZTlseWUgblx1MDBlOWxrXHUwMGZjbCwgaG9neSBheiBlc2V0bGVnZXNlbiBldHRcdTAxNTFsIGZcdTAwZmNnZ1x1MDE1MSBPTCBhbGFwXHUwMGZhIGFsa2FsbWF6XHUwMGUxc29rYXQgdFx1MDBmNm5rcmV0ZW5uXHUwMGU5bmsuIEV6XHUwMGU5cnQgZXp0IFx1MDBlOXJ2XHUwMGU5bnl0ZWxlblx1MDBlZHRqXHUwMGZjayAtLSBhIG1pblpvb21MZXZlbCBheiBhbHVsIGxldlx1MDE1MSBqZWxcdTAwZjZsXHUwMTUxblx1MDBlOWd5emV0IGEgMy4wLXMgdmVyemlcdTAwZjNiXHUwMGYzbCBlbCBsZXN6IHRcdTAwZTF2b2xcdTAwZWR0dmEuIEtcdTAwZTlyalx1MDBmY2ssIGhlbHlldHRlIGhhc3puXHUwMGUxbGphIGEgIG1pbi9tYXggZmVsYm9udFx1MDBlMXMgYmVcdTAwZTFsbFx1MDBlZHRcdTAwZTFzdCwgYW1lbHlyXHUwMTUxbCBheiBhbFx1MDBlMWJiaSBoZWx5ZW4gdGFsXHUwMGUxbCBsZVx1MDBlZHJcdTAwZTFzdDogaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyIsCmNvbW1pdFN1Y2Nlc3M6IldGUyB0cmFuemFrY2lcdTAwZjM6IFNJS0VSRVMgJHtyZXNwb25zZX0iLGNvbW1pdEZhaWxlZDoiV0ZTIHRyYW56YWtjaVx1MDBmMzogU0lLRVJURUxFTiAke3Jlc3BvbnNlfSIsZ29vZ2xlV2FybmluZzoiQSBHb29nbGUgZlx1MDBmM2xpYSBiZXRcdTAwZjZsdFx1MDBlOXNlIHNpa2VydGVsZW4uPGJyPjxicj5BaGhveiwgaG9neSBleiBheiBcdTAwZmN6ZW5ldCBlbHRcdTAxNzFualx1MDBmNm4sIHZcdTAwZTFsYXNzem9uIGVneSBcdTAwZmFqIEJhc2VMYXllciBmXHUwMGYzbGlcdTAwZTF0IGEgam9iYiBmZWxzXHUwMTUxIHNhcm9rYmFuIHRhbFx1MDBlMWxoYXRcdTAwZjMgZlx1MDBmM2xpYWthcGNzb2xcdTAwZjMgc2VnXHUwMGVkdHNcdTAwZTlnXHUwMGU5dmVsLjxicj48YnI+TmFneSB2YWxcdTAwZjNzelx1MDBlZG5cdTAxNzFzXHUwMGU5Z2dlbCBleiBhelx1MDBlOXJ0IHZhbiwgbWVydCBhIEdvb2dsZSBNYXBzIGtcdTAwZjZueXZ0XHUwMGUxciBwYXJhbmNzZlx1MDBlMWpsamEgbmVtIHRhbFx1MDBlMWxoYXRcdTAwZjMsIHZhZ3kgbmVtIHRhcnRhbG1henphIGF6IFx1MDBkNm4gb2xkYWxcdTAwZTFob3ogdGFydG96XHUwMGYzIG1lZ2ZlbGVsXHUwMTUxIEFQSS1rdWxjc290Ljxicj48YnI+RmVqbGVzenRcdTAxNTFrbmVrOiBBIGhlbHllcyBtXHUwMTcxa1x1MDBmNmR0ZXRcdTAwZTlzcmUgdm9uYXRrb3pcdTAwZjMgc2VnXHUwMGVkdHNcdTAwZTlnIGF6IGFsXHUwMGUxYmJpIGhlbHllbiBcdTAwZTlyaGV0XHUwMTUxIGVsLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZScgdGFyZ2V0PSdfYmxhbmsnPmthdHRpbnRzb24gaWRlPC9hPiIsCmdldExheWVyV2FybmluZzoiQSh6KSAke2xheWVyVHlwZX0gZlx1MDBmM2xpYSBuZW0gdFx1MDBmNmx0XHUwMTUxZFx1MDBmNnR0IGJlIGhlbHllc2VuLjxicj48YnI+QWhob3osIGhvZ3kgZXogYXogXHUwMGZjemVuZXQgZWx0XHUwMTcxbmpcdTAwZjZuLCB2XHUwMGUxbGFzc3pvbiBlZ3kgXHUwMGZhaiBCYXNlTGF5ZXIgZlx1MDBmM2xpXHUwMGUxdCBhIGpvYmIgZmVsc1x1MDE1MSBzYXJva2JhbiB0YWxcdTAwZTFsaGF0XHUwMGYzIGZcdTAwZjNsaWFrYXBjc29sXHUwMGYzIHNlZ1x1MDBlZHRzXHUwMGU5Z1x1MDBlOXZlbC48YnI+PGJyPk5hZ3kgdmFsXHUwMGYzc3pcdTAwZWRuXHUwMTcxc1x1MDBlOWdnZWwgZXogYXpcdTAwZTlydCB2YW4sIG1lcnQgYSh6KSAke2xheWVyTGlifSBrXHUwMGY2bnl2dFx1MDBlMXIgcGFyYW5jc2ZcdTAwZTFqbGphIGhlbHl0ZWxlbi48YnI+PGJyPkZlamxlc3p0XHUwMTUxa25lazogQSBoZWx5ZXMgbVx1MDE3MWtcdTAwZjZkdGV0XHUwMGU5c3JlIHZvbmF0a296XHUwMGYzIHNlZ1x1MDBlZHRzXHUwMGU5ZyBheiBhbFx1MDBlMWJiaSBoZWx5ZW4gXHUwMGU5cmhldFx1MDE1MSBlbCwgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS8ke2xheWVyTGlifScgdGFyZ2V0PSdfYmxhbmsnPmthdHRpbnRzb24gaWRlPC9hPiIsCiJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiTFx1MDBlOXB0XHUwMGU5ayA9IDEgOiAke3NjYWxlRGVub219IixXOiJOeSIsRToiSyIsTjoiXHUwMGM5IixTOiJEIixyZXByb2plY3REZXByZWNhdGVkOiJcdTAwZDZuIGEgJ3JlcHJvamVjdCcgYmVcdTAwZTFsbFx1MDBlZHRcdTAwZTFzdCBoYXN6blx1MDBlMWxqYSBhKHopICR7bGF5ZXJOYW1lfSBmXHUwMGYzbGlcdTAwZTFuLiBFeiBhIGJlXHUwMGUxbGxcdTAwZWR0XHUwMGUxcyBcdTAwZTlydlx1MDBlOW55dGVsZW46IGhhc3puXHUwMGUxbGF0YSBheiBcdTAwZmN6bGV0aSBhbGFwdFx1MDBlOXJrXHUwMGU5cGVrIGZcdTAwZjZsXHUwMGY2dHRpIGFkYXRvayBtZWdqZWxlblx1MDBlZHRcdTAwZTlzXHUwMGU5bmVrIHRcdTAwZTFtb2dhdFx1MDBlMXNcdTAwZTFyYSBzem9sZ1x1MDBlMWx0LCBkZSBlenQgYSBmdW5rY2lcdTAwZjMgZXplbnRcdTAwZmFsIGEgR1x1MDBmNm1iaSBNZXJjYXRvciBoYXN6blx1MDBlMWxhdFx1MDBlMXZhbCBcdTAwZTlyaGV0XHUwMTUxIGVsLiBUb3ZcdTAwZTFiYmkgaW5mb3JtXHUwMGUxY2lcdTAwZjMgYXogYWxcdTAwZTFiYmkgaGVseWVuIFx1MDBlOXJoZXRcdTAxNTEgZWw6IGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU3BoZXJpY2FsTWVyY2F0b3IiLAptZXRob2REZXByZWNhdGVkOiJFeiBhIG1cdTAwZjNkc3plciBcdTAwZTlydlx1MDBlOW55dGVsZW5cdTAwZWR0dmUgbGV0dCBcdTAwZTlzIGEgMy4wLXMgdmVyemlcdTAwZjNiXHUwMGYzbCBlbCBsZXN6IHRcdTAwZTF2b2xcdTAwZWR0dmEuIEhhc3puXHUwMGUxbGphIGEoeikgJHtuZXdNZXRob2R9IG1cdTAwZjNkc3plcnQgaGVseWV0dGUuIn0pO09wZW5MYXllcnMuTGFuZ1siemgtVFciXT17dW5oYW5kbGVkUmVxdWVzdDoiXHU2NzJhXHU4NjU1XHU3NDA2XHU3Njg0XHU4YWNiXHU2YzQyXHVmZjBjXHU1MGIzXHU1NmRlXHU1MDNjXHU3MGJhICR7c3RhdHVzVGV4dH1cdTMwMDIiLFBlcm1hbGluazoiXHU2YzM4XHU0ZTQ1XHU5MDIzXHU3ZDUwIixPdmVybGF5czoiXHU5ODRkXHU1OTE2XHU1NzE2XHU1YzY0IiwiQmFzZSBMYXllciI6Ilx1NTdmYVx1NzkwZVx1NTcxNlx1NWM2NCIsbm9GSUQ6Ilx1NTZlMFx1NzBiYVx1NmM5Mlx1NjcwOSBGSUQgXHU2MjQwXHU0ZWU1XHU3MTIxXHU2Y2Q1XHU2NmY0XHU2NWIwIGZlYXR1cmVcdTMwMDIiLGJyb3dzZXJOb3RTdXBwb3J0ZWQ6Ilx1NjBhOFx1NzY4NFx1NzAwZlx1ODliZFx1NTY2OFx1NjcyYVx1NjUyZlx1NjNmNFx1NTQxMVx1OTFjZlx1NmUzMlx1NjdkMy4gXHU3NmVlXHU1MjRkXHU2NTJmXHU2M2Y0XHU3Njg0XHU2ZTMyXHU2N2QzXHU2NWI5XHU1ZjBmXHU2NjJmOlxuJHtyZW5kZXJlcnN9IiwKbWluWm9vbUxldmVsRXJyb3I6Im1pblpvb21MZXZlbCBcdTVjNmNcdTYwMjdcdTUwYzVcdTkwNjlcdTU0MDhcdTc1MjhcdTU3MjggRml4ZWRab29tTGV2ZWxzLWRlc2NlbmRlbnQgXHU5ODVlXHU1NzhiXHU3Njg0XHU1NzE2XHU1YzY0LiBcdTkwMTlcdTUwMGJ3ZnMgbGF5ZXIgXHU3Njg0IG1pblpvb21MZXZlbCBcdTY2MmZcdTkwNGVcdTUzYmJcdTYyNDBcdTkwN2FcdTc1NTlcdTRlMGJcdTRmODZcdTc2ODRcdWZmMGNcdTcxMzZcdTgwMGNcdTYyMTFcdTUwMTFcdTRlMGRcdTgwZmRcdTc5ZmJcdTk2NjRcdTViODNcdTgwMGNcdTRlMGRcdThiOTNcdTViODNcdTVjMDdcdTkwNGVcdTUzYmJcdTc2ODRcdTdhMGJcdTVmMGZcdTc2ZjhcdTViYjlcdTYwMjdcdTdkNjZcdTc4MzRcdTU4ZGVcdTYzODlcdTMwMDJcdTU2ZTBcdTZiNjRcdTYyMTFcdTUwMTFcdTVjMDdcdTY3MDNcdThmZjRcdTkwN2ZcdTRmN2ZcdTc1MjhcdTViODMgLS0gbWluWm9vbUxldmVsIFx1NjcwM1x1NTcyODMuMFx1ODhhYlx1NzlmYlx1OTY2NFx1ZmYwY1x1OGFjYlx1NjUzOVx1NzUyOFx1NTcyOFx1OTAxOVx1OTA4YVx1NjNjZlx1OGZmMFx1NzY4NCBtaW4vbWF4IHJlc29sdXRpb24gXHU4YTJkXHU1YjlhOiBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NldHRpbmdab29tTGV2ZWxzIiwKY29tbWl0U3VjY2VzczoiV0ZTIFRyYW5zYWN0aW9uOiBcdTYyMTBcdTUyOWYgJHtyZXNwb25zZX0iLGNvbW1pdEZhaWxlZDoiV0ZTIFRyYW5zYWN0aW9uOiBcdTU5MzFcdTY1NTcgJHtyZXNwb25zZX0iLGdvb2dsZVdhcm5pbmc6IlRoZSBHb29nbGUgTGF5ZXIgXHU1NzE2XHU1YzY0XHU3MTIxXHU2Y2Q1XHU4OGFiXHU2YjYzXHU3OGJhXHU3Njg0XHU4ZjA5XHU1MTY1XHUzMDAyPGJyPjxicj5cdTg5ODFcdThmZjRcdTkwN2ZcdTkwMTlcdTUwMGJcdThhMGFcdTYwNmYsIFx1OGFjYlx1NTcyOFx1NTNmM1x1NGUwYVx1ODlkMlx1NzY4NFx1NTcxNlx1NWM2NFx1NjUzOVx1OGI4YVx1NTY2OFx1ODhlMVx1ZmYwY1x1OTA3OFx1NGUwMFx1NTAwYlx1NjViMFx1NzY4NFx1NTdmYVx1NzkwZVx1NTcxNlx1NWM2NFx1MzAwMjxicj48YnI+XHU1Zjg4XHU2NzA5XHU1M2VmXHU4MGZkXHU2NjJmXHU1NmUwXHU3MGJhIEdvb2dsZSBNYXBzIFx1NzY4NFx1NTFmZFx1NWYwZlx1NWVhYlx1ODE3M1x1NjcyY1x1NmM5Mlx1NjcwOVx1ODhhYlx1NmI2M1x1NzhiYVx1NzY4NFx1N2Y2ZVx1NTE2NVx1ZmYwY1x1NjIxNlx1NmM5Mlx1NjcwOVx1NTMwNVx1NTQyYiBcdTYwYThcdTdkYjJcdTdhZDlcdTRlMGFcdTZiNjNcdTc4YmFcdTc2ODQgQVBJIGtleSA8YnI+PGJyPlx1OTU4Ylx1NzY3Y1x1ODAwNTogXHU4OTgxXHU1ZTZiXHU1MmE5XHU5MDE5XHU1MDBiXHU4ODRjXHU3MGJhXHU2YjYzXHU3OGJhXHU1YjhjXHU2MjEwXHVmZjBjPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9Hb29nbGUnIHRhcmdldD0nX2JsYW5rJz5cdThhY2JcdTYzMDlcdTkwMTlcdTg4ZTE8L2E+IiwKZ2V0TGF5ZXJXYXJuaW5nOiIke2xheWVyVHlwZX0gXHU1NzE2XHU1YzY0XHU3MTIxXHU2Y2Q1XHU4OGFiXHU2YjYzXHU3OGJhXHU3Njg0XHU4ZjA5XHU1MTY1XHUzMDAyPGJyPjxicj5cdTg5ODFcdThmZjRcdTkwN2ZcdTkwMTlcdTUwMGJcdThhMGFcdTYwNmYsIFx1OGFjYlx1NTcyOFx1NTNmM1x1NGUwYVx1ODlkMlx1NzY4NFx1NTcxNlx1NWM2NFx1NjUzOVx1OGI4YVx1NTY2OFx1ODhlMVx1ZmYwY1x1OTA3OFx1NGUwMFx1NTAwYlx1NjViMFx1NzY4NFx1NTdmYVx1NzkwZVx1NTcxNlx1NWM2NFx1MzAwMjxicj48YnI+XHU1Zjg4XHU2NzA5XHU1M2VmXHU4MGZkXHU2NjJmXHU1NmUwXHU3MGJhICR7bGF5ZXJMaWJ9IFx1NzY4NFx1NTFmZFx1NWYwZlx1NWVhYlx1ODE3M1x1NjcyY1x1NmM5Mlx1NjcwOVx1ODhhYlx1NmI2M1x1NzhiYVx1NzY4NFx1N2Y2ZVx1NTE2NVx1MzAwMjxicj48YnI+XHU5NThiXHU3NjdjXHU4MDA1OiBcdTg5ODFcdTVlNmJcdTUyYTlcdTkwMTlcdTUwMGJcdTg4NGNcdTcwYmFcdTZiNjNcdTc4YmFcdTViOGNcdTYyMTBcdWZmMGM8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+XHU4YWNiXHU2MzA5XHU5MDE5XHU4OGUxPC9hPiIsCiJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSIscmVwcm9qZWN0RGVwcmVjYXRlZDoiXHU0ZjYwXHU2YjYzXHU0ZjdmXHU3NTI4ICdyZXByb2plY3QnIFx1OTAxOVx1NTAwYlx1OTA3OFx1OTgwNSBcdTU3MjggJHtsYXllck5hbWV9IFx1NWM2NFx1MzAwMlx1OTAxOVx1NTAwYlx1OTA3OFx1OTgwNVx1NWRmMlx1N2Q5M1x1NGUwZFx1NTE4ZFx1NGY3Zlx1NzUyODpcdTViODNcdTc2ODRcdTRmN2ZcdTc1MjhcdTUzOWZcdTY3MmNcdTY2MmZcdThhMmRcdThhMDhcdTc1MjhcdTRmODZcdTY1MmZcdTYzZjRcdTU3MjhcdTU1NDZcdTY5NmRcdTU3MzBcdTU3MTZcdTRlMGFcdTc5YzBcdTUxZmFcdThjYzdcdTY1OTlcdWZmMGNcdTRmNDZcdTkwMTlcdTUwMGJcdTUyOWZcdTgwZmRcdTVkZjJcdTdkOTNcdTg4YWJTcGhlcmljYWwgTWVyY2F0b3JcdTYyNDBcdTUzZDZcdTRlZTNcdTMwMDJcdTY2ZjRcdTU5MWFcdTc2ODRcdThjYzdcdThhMGFcdTUzZWZcdTRlZTVcdTU3MjggaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TcGhlcmljYWxNZXJjYXRvciBcdTYyN2VcdTUyMzBcdTMwMDIiLAptZXRob2REZXByZWNhdGVkOiJcdTkwMTlcdTUwMGJcdTY1YjlcdTZjZDVcdTVkZjJcdTdkOTNcdTRlMGRcdTUxOGRcdTRmN2ZcdTc1MjhcdTRlMTRcdTU3MjgzLjBcdTVjMDdcdTY3MDNcdTg4YWJcdTc5ZmJcdTk2NjRcdWZmMGNcdThhY2JcdTRmN2ZcdTc1MjggJHtuZXdNZXRob2R9IFx1NGY4Nlx1NGVlM1x1NjZmZlx1MzAwMiIsZW5kOiIifTtPcGVuTGF5ZXJzLkxhbmdbInB0LUJSIl09T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3VuaGFuZGxlZFJlcXVlc3Q6IkEgcmVxdWlzaVx1MDBlN1x1MDBlM28gcmV0b3Jub3UgdW0gZXJybyBuXHUwMGUzbyB0cmF0YWRvOiAke3N0YXR1c1RleHR9IixQZXJtYWxpbms6IkxpbmsgcGFyYSBlc3NhIHBcdTAwZTFnaW5hIixPdmVybGF5czoiQ2FtYWRhcyBkZSBTb2JyZXBvc2lcdTAwZTdcdTAwZTNvIiwiQmFzZSBMYXllciI6IkNhbWFkYSBCYXNlIixub0ZJRDoiTlx1MDBlM28gXHUwMGU5IHBvc3NcdTAwZWR2ZWwgYXR1YWxpemFyIHVtYSBmZWlcdTAwZTdcdTAwZTNvIHF1ZSBuXHUwMGUzbyB0ZW5oYSB1bSBGSUQuIixicm93c2VyTm90U3VwcG9ydGVkOiJTZXUgbmF2ZWdhZG9yIG5cdTAwZTNvIHN1cG9ydGEgcmVuZGVyaXphXHUwMGU3XHUwMGUzbyBkZSB2ZXRvcmVzLiBPcyByZW5kZXJpemFkb3JlcyBzdXBvcnRhZG9zIGF0dWFsbWVudGUgc1x1MDBlM286XG4ke3JlbmRlcmVyc30iLAptaW5ab29tTGV2ZWxFcnJvcjoiQSBwcm9wcmllZGFkZSBtaW5ab29tTGV2ZWwgXHUwMGU5IGRlIHVzbyByZXN0cml0byBkYXMgY2FtYWRhcyBkZXNjZW5kZW50ZXMgZGUgRml4ZWRab29tTGV2ZWxzLiBBIHZlcmlmaWNhXHUwMGU3XHUwMGUzbyBkZXNzYSBwcm9wcmllZGFkZSBwZWxhcyBjYW1hZGFzIHdmcyBcdTAwZTkgdW0gcmVzXHUwMGVkZHVvIGRvIHBhc3NhZG8uIE5cdTAwZTNvIHBvZGVtb3MsIGVudHJldGFudG8gblx1MDBlM28gXHUwMGU5IHBvc3NcdTAwZWR2ZWwgcmVtb3ZcdTAwZWEtbGEgc2VtIHBvc3NcdTAwZWR2ZWxtZW50ZSBxdWVicmFyIG8gZnVuY2lvbmFtZW50byBkZSBhcGxpY2FcdTAwZTdcdTAwZjVlcyBPTCBxdWUgcG9zc3VlbSBkZXBcdTAwZWFuY2lhIGNvbSBlbGEuIFBvcnRhbnRvIGVzdGFtb3MgdG9ybmFuZG8gc2V1IHVzbyBvYnNvbGV0byAtLSBhIHZlcmlmaWNhXHUwMGU3XHUwMGUzbyBkZXNzZSBhdHJpYnV0byBzZXJcdTAwZTEgcmVtb3ZpZGEgbmEgdmVyc1x1MDBlM28gMy4wLiBBbyBpbnZcdTAwZTlzLCB1c2UgYXMgb3BcdTAwZTdcdTAwZjVlcyBkZSByZXNvbHVcdTAwZTdcdTAwZTNvIG1pbi9tYXggY29tbyBkZXNjcml0byBlbTogaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyIsCmNvbW1pdFN1Y2Nlc3M6IlRyYW5zYVx1MDBlN1x1MDBlM28gV0ZTIDogU1VDRVNTTyAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJUcmFuc2FcdTAwZTdcdTAwZTNvIFdGUyA6IEVSUk8gJHtyZXNwb25zZX0iLGdvb2dsZVdhcm5pbmc6Ik5cdTAwZTNvIGZvaSBwb3NzXHUwMGVkdmVsIGNhcnJlZ2FyIGEgY2FtYWRhIEdvb2dsZSBjb3JyZXRhbWVudGUuPGJyPjxicj5QYXJhIHNlIGxpdnJhciBkZXNzYSBtZW5zYWdlbSwgc2VsZWNpb25lIHVtYSBub3ZhIENhbWFkYSBCYXNlLCBuYSBmZXJyYW1lbnRhIGRlIGFsdGVybmFcdTAwZTdcdTAwZTNvIGRlIGNhbWFkYXMgbG9jYWxpemFcdTAwZTdcdTAwZTNvIGRvIGNhbnRvIHN1cGVyaW9yIGRpcmVpdG8uPGJyPjxicj5NdWl0byBwcm92YXZlbG1lbnRlLCBpc3NvIGZvaSBjYXVzYWRvIHBvcnF1ZSBvIHNjcmlwdCBkYSBiaWJsaW90ZWNhIGRvIEdvb2dsZSBNYXBzIG5cdTAwZTNvIGZvaSBpbmNsdVx1MDBlZGRvLCBvdSBwb3JxdWUgZWxlIG5cdTAwZTNvIGNvbnRcdTAwZTltIGEgY2hhdmUgY29ycmV0YSBkYSBBUEkgcGFyYSBvIHNldSBzaXRlLjxicj48YnI+RGVzZW52b2x2ZWRvcmVzOiBQYXJhIG9idGVyIGFqdWRhIGVtIHNvbHVjaW9uYXIgZXNzZSBwcm9ibGVtYSA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZScgdGFyZ2V0PSdfYmxhbmsnPmNsaXF1ZW0gYXF1aTwvYT4iLApnZXRMYXllcldhcm5pbmc6Ik5cdTAwZTNvIGZvaSBwb3NzXHUwMGVkdmVsIGNhcnJlZ2FyIGEgY2FtYWRhICR7bGF5ZXJUeXBlfSBjb3JyZXRhbWVudGUuPGJyPjxicj5QYXJhIHNlIGxpdnJhciBkZXNzYSBtZW5zYWdlbSwgc2VsZWNpb25lIHVtYSBub3ZhIENhbWFkYSBCYXNlLCBuYSBmZXJyYW1lbnRhIGRlIGFsdGVybmFcdTAwZTdcdTAwZTNvIGRlIGNhbWFkYXMgbG9jYWxpemFcdTAwZTdcdTAwZTNvIGRvIGNhbnRvIHN1cGVyaW9yIGRpcmVpdG8uPGJyPjxicj5NdWl0byBwcm92YXZlbG1lbnRlLCBpc3NvIGZvaSBjYXVzYWRvIHBvcnF1ZSBvIHNjcmlwdCBkYSBiaWJsaW90ZWNhICR7bGF5ZXJMaWJ9IG5cdTAwZTNvIGZvaSBpbmNsdVx1MDBlZGRvIGNvcnJldGFtZW50ZS48YnI+PGJyPkRlc2Vudm9sdmVkb3JlczogUGFyYSBvYnRlciBhanVkYSBlbSBzb2x1Y2lvbmFyIGVzc2UgcHJvYmxlbWEgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS8ke2xheWVyTGlifScgdGFyZ2V0PSdfYmxhbmsnPmNsaXF1ZW0gYXF1aTwvYT4iLAoiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6IkVzY2FsYSA9IDEgOiAke3NjYWxlRGVub219IixXOiJPIixFOiJMIixOOiJOIixTOiJTIixyZXByb2plY3REZXByZWNhdGVkOiJWb2NcdTAwZWEgZXN0XHUwMGUxIHVzYW5kbyBhIG9wXHUwMGU3XHUwMGUzbyAncmVwcm9qZWN0JyBuYSBjYW1hZGEgJHtsYXllck5hbWV9LiBFc3NhIG9wXHUwMGU3XHUwMGUzbyBlc3RcdTAwZTEgb2Jzb2xldGE6IHNldSB1c28gZm9pIHByb2pldGFkbyBwYXJhIHN1cG9ydGFyIGEgdmlzdWFsaXphXHUwMGU3XHUwMGUzbyBkZSBkYWRvcyBzb2JyZSBiYXNlcyBkZSBtYXBhcyBjb21lcmNpYWlzLCBlbnRyZXRhbnRvIGVzc2EgZnVuY2lvbmFsaWRhZGUgZGV2ZSBhZ29yYSBzZXIgYWxjYW5cdTAwZTdhZGEgdXNhbmRvIG8gc3Vwb3J0ZSBcdTAwZTAgcHJvamVcdTAwZTdcdTAwZTNvIE1lcmNhdG9yLiBNYWlzIGluZm9ybWFcdTAwZTdcdTAwZTNvIGVzdFx1MDBlMSBkaXNwb25cdTAwZWR2ZWwgZW06IGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU3BoZXJpY2FsTWVyY2F0b3IuIiwKbWV0aG9kRGVwcmVjYXRlZDoiRXNzZSBtXHUwMGU5dG9kbyBlc3RcdTAwZTEgb2Jzb2xldG8gZSBzZXJcdTAwZTEgcmVtb3ZpZG8gbmEgdmVyc1x1MDBlM28gMy4wLiBBbyBpbnZcdTAwZTlzLCBwb3IgZmF2b3IgdXNlICR7bmV3TWV0aG9kfS4ifSk7T3BlbkxheWVycy5MYW5nWyJ6aC1DTiJdPXt1bmhhbmRsZWRSZXF1ZXN0OiJcdTY3MmFcdTU5MDRcdTc0MDZcdTc2ODRcdThiZjdcdTZjNDJcdWZmMGNcdThmZDRcdTU2ZGVcdTUwM2NcdTRlM2EgJHtzdGF0dXNUZXh0fSIsUGVybWFsaW5rOiJcdTZjMzhcdTRlNDVcdTk0ZmVcdTYzYTUiLE92ZXJsYXlzOiJcdTUzZTBcdTUyYTBcdTVjNDIiLCJCYXNlIExheWVyIjoiXHU1N2ZhXHU3ODQwXHU1NmZlXHU1YzQyIixub0ZJRDoiXHU2NWUwXHU2Y2Q1XHU2NmY0XHU2NWIwZmVhdHVyZVx1ZmYwY1x1N2YzYVx1NWMxMUZJRFx1MzAwMiIsYnJvd3Nlck5vdFN1cHBvcnRlZDoiXHU0ZjYwXHU0ZjdmXHU3NTI4XHU3Njg0XHU2ZDRmXHU4OWM4XHU1NjY4XHU0ZTBkXHU2NTJmXHU2MzAxXHU3N2UyXHU5MWNmXHU2ZTMyXHU2N2QzXHUzMDAyXHU1ZjUzXHU1MjRkXHU2NTJmXHU2MzAxXHU3Njg0XHU2ZTMyXHU2N2QzXHU2NWI5XHU1ZjBmXHU1MzA1XHU2MmVjXHVmZjFhXG4ke3JlbmRlcmVyc30iLG1pblpvb21MZXZlbEVycm9yOiJtaW5ab29tTGV2ZWxcdTVjNWVcdTYwMjdcdTRlYzVcdTkwMDJcdTU0MDhcdTc1MjhcdTRlOGVcdTRmN2ZcdTc1MjhcdTRlODZcdTU2ZmFcdTViOWFcdTdmMjlcdTY1M2VcdTdlYTdcdTUyMmJcdTc2ODRcdTU2ZmVcdTVjNDJcdTMwMDJcdThmZDlcdTRlMmEgd2ZzIFx1NTZmZVx1NWM0Mlx1NjhjMFx1NjdlNSBtaW5ab29tTGV2ZWwgXHU2NjJmXHU4ZmM3XHU1M2JiXHU5MDU3XHU3NTU5XHU0ZTBiXHU2NzY1XHU3Njg0XHUzMDAyXHU3MTM2XHU4MDBjXHVmZjBjXHU2MjExXHU0ZWVjXHU0ZTBkXHU4MGZkXHU3OWZiXHU5NjY0XHU1YjgzXHVmZjBjXHU4MDBjXHU3ODM0XHU1NzRmXHU0ZjlkXHU4ZDU2XHU0ZThlXHU1YjgzXHU3Njg0XHU1N2ZhXHU0ZThlT0xcdTc2ODRcdTVlOTRcdTc1MjhcdTdhMGJcdTVlOGZcdTMwMDJcdTU2ZTBcdTZiNjRcdWZmMGNcdTYyMTFcdTRlZWNcdTVlOWZcdTk2NjRcdTRlODZcdTViODMgLS0gbWluWm9vbUxldmVsIFx1NWMwNlx1NGYxYVx1NTcyODMuMFx1NGUyZFx1ODhhYlx1NzlmYlx1OTY2NFx1MzAwMlx1OGJmN1x1NjUzOVx1NzUyOCBtaW4vbWF4IHJlc29sdXRpb24gXHU4YmJlXHU3ZjZlXHVmZjBjXHU1M2MyXHU4MDAzXHVmZjFhaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyIsCmNvbW1pdFN1Y2Nlc3M6IldGUyBUcmFuc2FjdGlvbjogXHU2MjEwXHU1MjlmXHUzMDAyICR7cmVzcG9uc2V9Iixjb21taXRGYWlsZWQ6IldGUyBUcmFuc2FjdGlvbjogXHU1OTMxXHU4ZDI1XHUzMDAyICR7cmVzcG9uc2V9Iixnb29nbGVXYXJuaW5nOiJHb29nbGVcdTU2ZmVcdTVjNDJcdTRlMGRcdTgwZmRcdTZiNjNcdTc4NmVcdTUyYTBcdThmN2RcdTMwMDI8YnI+PGJyPlx1ODk4MVx1NmQ4OFx1OTY2NFx1OGZkOVx1NGUyYVx1NGZlMVx1NjA2Zlx1ZmYwY1x1OGJmN1x1NTcyOFx1NTNmM1x1NGUwYVx1ODlkMlx1NzY4NFx1NTZmZVx1NWM0Mlx1NjNhN1x1NTIzNlx1OTc2Mlx1Njc3Zlx1NGUyZFx1OTAwOVx1NjJlOVx1NTE3Nlx1NGVkNlx1NzY4NFx1NTdmYVx1Nzg0MFx1NTZmZVx1NWM0Mlx1MzAwMjxicj48YnI+XHU4ZmQ5XHU3OWNkXHU2MGM1XHU1MWI1XHU1Zjg4XHU1M2VmXHU4MGZkXHU2NjJmXHU2Y2ExXHU2NzA5XHU2YjYzXHU3ODZlXHU3Njg0XHU1MzA1XHU1NDJiR29vZ2xlXHU1NzMwXHU1NmZlXHU4MTFhXHU2NzJjXHU1ZTkzXHVmZjBjXHU2MjE2XHU4MDA1XHU2NjJmXHU2Y2ExXHU2NzA5XHU1MzA1XHU1NDJiXHU1NzI4XHU0ZjYwXHU3Njg0XHU3YWQ5XHU3MGI5XHU0ZTBhXHU0ZjdmXHU3NTI4XHU3Njg0XHU2YjYzXHU3ODZlXHU3Njg0R29vZ2xlIE1hcHMgQVBJXHU1YmM2XHU1MzE5XHUzMDAyPGJyPjxicj5cdTVmMDBcdTUzZDFcdTgwMDVcdWZmMWFcdTgzYjdcdTUzZDZcdTRmN2ZcdTUxNzZcdTZiNjNcdTc4NmVcdTVkZTVcdTRmNWNcdTc2ODRcdTVlMmVcdTUyYTlcdTRmZTFcdTYwNmZcdWZmMGM8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZScgdGFyZ2V0PSdfYmxhbmsnPlx1NzBiOVx1NTFmYlx1OGZkOVx1OTFjYzwvYT4iLApnZXRMYXllcldhcm5pbmc6IiR7bGF5ZXJUeXBlfSBcdTU2ZmVcdTVjNDJcdTRlMGRcdTgwZmRcdTZiNjNcdTc4NmVcdTUyYTBcdThmN2RcdTMwMDI8YnI+PGJyPlx1ODk4MVx1NmQ4OFx1OTY2NFx1OGZkOVx1NGUyYVx1NGZlMVx1NjA2Zlx1ZmYwY1x1OGJmN1x1NTcyOFx1NTNmM1x1NGUwYVx1ODlkMlx1NzY4NFx1NTZmZVx1NWM0Mlx1NjNhN1x1NTIzNlx1OTc2Mlx1Njc3Zlx1NGUyZFx1OTAwOVx1NjJlOVx1NTE3Nlx1NGVkNlx1NzY4NFx1NTdmYVx1Nzg0MFx1NTZmZVx1NWM0Mlx1MzAwMjxicj48YnI+XHU4ZmQ5XHU3OWNkXHU2MGM1XHU1MWI1XHU1Zjg4XHU1M2VmXHU4MGZkXHU2NjJmXHU2Y2ExXHU2NzA5XHU2YjYzXHU3ODZlXHU3Njg0XHU1MzA1XHU1NDJiJHtsYXllckxpYn0gXHU4MTFhXHU2NzJjXHU1ZTkzXHUzMDAyPGJyPjxicj5cdTVmMDBcdTUzZDFcdTgwMDVcdWZmMWFcdTgzYjdcdTUzZDZcdTRmN2ZcdTUxNzZcdTZiNjNcdTc4NmVcdTVkZTVcdTRmNWNcdTc2ODRcdTVlMmVcdTUyYTlcdTRmZTFcdTYwNmZcdWZmMGM8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+XHU3MGI5XHU1MWZiXHU4ZmQ5XHU5MWNjPC9hPiIsCiJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiXHU2YmQ0XHU0ZjhiXHU1YzNhID0gMSA6ICR7c2NhbGVEZW5vbX0iLHJlcHJvamVjdERlcHJlY2F0ZWQ6Ilx1NGY2MFx1NmI2M1x1NTcyOFx1NGY3Zlx1NzUyOCAke2xheWVyTmFtZX0gXHU1NmZlXHU1YzQyXHU0ZTBhXHU3Njg0J3JlcHJvamVjdCdcdTkwMDlcdTk4NzlcdTMwMDJcdThmZDlcdTRlMmFcdTkwMDlcdTk4NzlcdTVkZjJcdTdlY2ZcdTRlMGRcdTUxOGRcdTRmN2ZcdTc1MjhcdWZmMWFcdTViODNcdTY2MmZcdTg4YWJcdThiYmVcdThiYTFcdTc1MjhcdTY3NjVcdTY1MmZcdTYzMDFcdTY2M2VcdTc5M2FcdTU1NDZcdTRlMWFcdTc2ODRcdTU3MzBcdTU2ZmVcdTY1NzBcdTYzNmVcdWZmMGNcdTRlMGRcdThmYzdcdTczYjBcdTU3MjhcdThiZTVcdTUyOWZcdTgwZmRcdTUzZWZcdTRlZTVcdTkwMWFcdThmYzdcdTRmN2ZcdTc1MjhTcGhlcmljYWwgTWVyY2F0b3JcdTY3NjVcdTViOWVcdTczYjBcdTMwMDJcdTY2ZjRcdTU5MWFcdTRmZTFcdTYwNmZcdTUzZWZcdTRlZTVcdTUzYzJcdTk2MDVodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NwaGVyaWNhbE1lcmNhdG9yLiIsCm1ldGhvZERlcHJlY2F0ZWQ6Ilx1OGJlNVx1NjViOVx1NmNkNVx1NWRmMlx1N2VjZlx1NGUwZFx1NTE4ZFx1ODhhYlx1NjUyZlx1NjMwMVx1ZmYwY1x1NWU3Nlx1NGUxNFx1NWMwNlx1NTcyODMuMFx1NGUyZFx1ODhhYlx1NzlmYlx1OTY2NFx1MzAwMlx1OGJmN1x1NGY3Zlx1NzUyOCAke25ld01ldGhvZH0gXHU2NWI5XHU2Y2Q1XHU2NzY1XHU2NmZmXHU0ZWUzXHUzMDAyIixlbmQ6IiJ9O09wZW5MYXllcnMuTGFuZy5ydT1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7dW5oYW5kbGVkUmVxdWVzdDoiXHUwNDFkXHUwNDM1XHUwNDNlXHUwNDMxXHUwNDQwXHUwNDMwXHUwNDMxXHUwNDNlXHUwNDQyXHUwNDMwXHUwNDNkXHUwNDNkXHUwNDRiXHUwNDM5IFx1MDQzN1x1MDQzMFx1MDQzZlx1MDQ0MFx1MDQzZVx1MDQ0MSBcdTA0MzJcdTA0MzVcdTA0NDBcdTA0M2RcdTA0NDNcdTA0M2IgJHtzdGF0dXNUZXh0fSIsUGVybWFsaW5rOiJcdTA0MWZcdTA0M2VcdTA0NDFcdTA0NDJcdTA0M2VcdTA0NGZcdTA0M2RcdTA0M2RcdTA0MzBcdTA0NGYgXHUwNDQxXHUwNDQxXHUwNDRiXHUwNDNiXHUwNDNhXHUwNDMwIixPdmVybGF5czoiXHUwNDIxXHUwNDNiXHUwNDNlXHUwNDM4IiwiQmFzZSBMYXllciI6Ilx1MDQxZVx1MDQ0MVx1MDQzZFx1MDQzZVx1MDQzMlx1MDQzZFx1MDQzZVx1MDQzOSBcdTA0NDFcdTA0M2JcdTA0M2VcdTA0MzkiLG5vRklEOiJcdTA0MWRcdTA0MzVcdTA0MzJcdTA0M2VcdTA0MzdcdTA0M2NcdTA0M2VcdTA0MzZcdTA0M2RcdTA0M2UgXHUwNDNlXHUwNDMxXHUwNDNkXHUwNDNlXHUwNDMyXHUwNDM4XHUwNDQyXHUwNDRjIFx1MDQzZVx1MDQzMVx1MDQ0YVx1MDQzNVx1MDQzYVx1MDQ0MiwgXHUwNDM0XHUwNDNiXHUwNDRmIFx1MDQzYVx1MDQzZVx1MDQ0Mlx1MDQzZVx1MDQ0MFx1MDQzZVx1MDQzM1x1MDQzZSBcdTA0M2RcdTA0MzVcdTA0NDIgRklELiIsCmJyb3dzZXJOb3RTdXBwb3J0ZWQ6Ilx1MDQxMlx1MDQzMFx1MDQ0OCBcdTA0MzFcdTA0NDBcdTA0MzBcdTA0NDNcdTA0MzdcdTA0MzVcdTA0NDAgXHUwNDNkXHUwNDM1IFx1MDQzZlx1MDQzZVx1MDQzNFx1MDQzNFx1MDQzNVx1MDQ0MFx1MDQzNlx1MDQzOFx1MDQzMlx1MDQzMFx1MDQzNVx1MDQ0MiBcdTA0MzJcdTA0MzVcdTA0M2FcdTA0NDJcdTA0M2VcdTA0NDBcdTA0M2RcdTA0NDNcdTA0NGUgXHUwNDMzXHUwNDQwXHUwNDMwXHUwNDQ0XHUwNDM4XHUwNDNhXHUwNDQzLiBcdTA0MWRcdTA0MzAgXHUwNDM0XHUwNDMwXHUwNDNkXHUwNDNkXHUwNDRiXHUwNDM5IFx1MDQzY1x1MDQzZVx1MDQzY1x1MDQzNVx1MDQzZFx1MDQ0MiBcdTA0M2ZcdTA0M2VcdTA0MzRcdTA0MzRcdTA0MzVcdTA0NDBcdTA0MzZcdTA0MzhcdTA0MzJcdTA0MzBcdTA0NGVcdTA0NDJcdTA0NDFcdTA0NGY6XG4ke3JlbmRlcmVyc30iLG1pblpvb21MZXZlbEVycm9yOiJcdTA0MjFcdTA0MzJcdTA0M2VcdTA0MzlcdTA0NDFcdTA0NDJcdTA0MzJcdTA0M2UgbWluWm9vbUxldmVsIFx1MDQzZlx1MDQ0MFx1MDQzNVx1MDQzNFx1MDQzZFx1MDQzMFx1MDQzN1x1MDQzZFx1MDQzMFx1MDQ0N1x1MDQzNVx1MDQzZFx1MDQzZSBcdTA0NDJcdTA0M2VcdTA0M2JcdTA0NGNcdTA0M2FcdTA0M2UgXHUwNDM0XHUwNDNiXHUwNDRmIFx1MDQzOFx1MDQ0MVx1MDQzZlx1MDQzZVx1MDQzYlx1MDQ0Y1x1MDQzN1x1MDQzZVx1MDQzMlx1MDQzMFx1MDQzZFx1MDQzOFx1MDQ0ZiBcdTA0NDFcdTA0M2UgXHUwNDQxXHUwNDNiXHUwNDNlXHUwNDRmXHUwNDNjXHUwNDM4LCBcdTA0NGZcdTA0MzJcdTA0M2JcdTA0NGZcdTA0NGVcdTA0NDlcdTA0MzhcdTA0M2NcdTA0MzhcdTA0NDFcdTA0NGYgXHUwNDNmXHUwNDNlXHUwNDQyXHUwNDNlXHUwNDNjXHUwNDNhXHUwNDMwXHUwNDNjXHUwNDM4IEZpeGVkWm9vbUxldmVscy4gXHUwNDIyXHUwNDNlLCBcdTA0NDdcdTA0NDJcdTA0M2UgXHUwNDRkXHUwNDQyXHUwNDNlXHUwNDQyIFdGUy1cdTA0NDFcdTA0M2JcdTA0M2VcdTA0MzkgXHUwNDNmXHUwNDQwXHUwNDNlXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDRmXHUwNDM1XHUwNDQyXHUwNDQxXHUwNDRmIFx1MDQzZFx1MDQzMCBtaW5ab29tTGV2ZWwgXHUyMDE0IFx1MDQ0MFx1MDQzNVx1MDQzYlx1MDQzOFx1MDQzYVx1MDQ0MiBcdTA0M2ZcdTA0NDBcdTA0M2VcdTA0NDhcdTA0M2JcdTA0M2VcdTA0MzNcdTA0M2UuIFx1MDQxZVx1MDQzNFx1MDQzZFx1MDQzMFx1MDQzYVx1MDQzZSBcdTA0M2NcdTA0NGIgXHUwNDNkXHUwNDM1IFx1MDQzY1x1MDQzZVx1MDQzNlx1MDQzNVx1MDQzYyBcdTA0NDNcdTA0MzRcdTA0MzBcdTA0M2JcdTA0MzhcdTA0NDJcdTA0NGMgXHUwNDRkXHUwNDQyXHUwNDQzIFx1MDQ0NFx1MDQ0M1x1MDQzZFx1MDQzYVx1MDQ0Nlx1MDQzOFx1MDQ0ZSwgXHUwNDQyXHUwNDMwXHUwNDNhIFx1MDQzYVx1MDQzMFx1MDQzYSwgXHUwNDMyXHUwNDNlXHUwNDM3XHUwNDNjXHUwNDNlXHUwNDM2XHUwNDNkXHUwNDNlLCBcdTA0M2VcdTA0NDIgXHUwNDNkXHUwNDM1XHUwNDUxIFx1MDQzN1x1MDQzMFx1MDQzMlx1MDQzOFx1MDQ0MVx1MDQ0Zlx1MDQ0MiBcdTA0M2RcdTA0MzVcdTA0M2FcdTA0M2VcdTA0NDJcdTA0M2VcdTA0NDBcdTA0NGJcdTA0MzUgXHUwNDNlXHUwNDQxXHUwNDNkXHUwNDNlXHUwNDMyXHUwNDMwXHUwNDNkXHUwNDNkXHUwNDRiXHUwNDM1IFx1MDQzZFx1MDQzMCBPcGVuTGF5ZXJzIFx1MDQzZlx1MDQ0MFx1MDQzOFx1MDQzYlx1MDQzZVx1MDQzNlx1MDQzNVx1MDQzZFx1MDQzOFx1MDQ0Zi4gXHUwNDI0XHUwNDQzXHUwNDNkXHUwNDNhXHUwNDQ2XHUwNDM4XHUwNDRmIFx1MDQzZVx1MDQzMVx1MDQ0YVx1MDQ0Zlx1MDQzMlx1MDQzYlx1MDQzNVx1MDQzZFx1MDQzMCBcdTA0NDNcdTA0NDFcdTA0NDJcdTA0MzBcdTA0NDBcdTA0MzVcdTA0MzJcdTA0NDhcdTA0MzVcdTA0MzkgXHUyMDE0IFx1MDQzZlx1MDQ0MFx1MDQzZVx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQzYVx1MDQzMCBtaW5ab29tTGV2ZWwgXHUwNDMxXHUwNDQzXHUwNDM0XHUwNDM1XHUwNDQyIFx1MDQ0M1x1MDQzNFx1MDQzMFx1MDQzYlx1MDQzNVx1MDQzZFx1MDQzMCBcdTA0MzIgMy4wLiBcdTA0MWZcdTA0M2VcdTA0MzZcdTA0MzBcdTA0M2JcdTA0NDNcdTA0MzlcdTA0NDFcdTA0NDJcdTA0MzAsIFx1MDQzOFx1MDQ0MVx1MDQzZlx1MDQzZVx1MDQzYlx1MDQ0Y1x1MDQzN1x1MDQ0M1x1MDQzOVx1MDQ0Mlx1MDQzNSBcdTA0MzJcdTA0M2NcdTA0MzVcdTA0NDFcdTA0NDJcdTA0M2UgXHUwNDNkXHUwNDM1XHUwNDUxIFx1MDQzZFx1MDQzMFx1MDQ0MVx1MDQ0Mlx1MDQ0MFx1MDQzZVx1MDQzOVx1MDQzYVx1MDQ0MyBcdTA0M2NcdTA0MzhcdTA0M2QvXHUwNDNjXHUwNDMwXHUwNDNhXHUwNDQxIFx1MDQ0MFx1MDQzMFx1MDQzN1x1MDQ0MFx1MDQzNVx1MDQ0OFx1MDQzNVx1MDQzZFx1MDQzOFx1MDQ0ZiwgXHUwNDNlXHUwNDNmXHUwNDM4XHUwNDQxXHUwNDMwXHUwNDNkXHUwNDNkXHUwNDQzXHUwNDRlIFx1MDQzN1x1MDQzNFx1MDQzNVx1MDQ0MVx1MDQ0YzogaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyIsCmNvbW1pdFN1Y2Nlc3M6Ilx1MDQyMlx1MDQ0MFx1MDQzMFx1MDQzZFx1MDQzN1x1MDQzMFx1MDQzYVx1MDQ0Nlx1MDQzOFx1MDQ0ZiBXRlM6IFx1MDQyM1x1MDQyMVx1MDQxZlx1MDQxNVx1MDQyOFx1MDQxZFx1MDQxZSAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJcdTA0MjJcdTA0NDBcdTA0MzBcdTA0M2RcdTA0MzdcdTA0MzBcdTA0M2FcdTA0NDZcdTA0MzhcdTA0NGYgV0ZTOiBcdTA0MWVcdTA0MjhcdTA0MThcdTA0MTFcdTA0MWFcdTA0MTAgJHtyZXNwb25zZX0iLGdvb2dsZVdhcm5pbmc6Ilx1MDQyMVx1MDQzYlx1MDQzZVx1MDQzOSBHb29nbGUgXHUwNDNkXHUwNDM1IFx1MDQ0M1x1MDQzNFx1MDQzMFx1MDQzYlx1MDQzZVx1MDQ0MVx1MDQ0YyBcdTA0M2RcdTA0M2VcdTA0NDBcdTA0M2NcdTA0MzBcdTA0M2JcdTA0NGNcdTA0M2RcdTA0M2UgXHUwNDM3XHUwNDMwXHUwNDMzXHUwNDQwXHUwNDQzXHUwNDM3XHUwNDM4XHUwNDQyXHUwNDRjLjxicj48YnI+XHUwNDI3XHUwNDQyXHUwNDNlXHUwNDMxXHUwNDRiIFx1MDQzOFx1MDQzN1x1MDQzMVx1MDQzMFx1MDQzMlx1MDQzOFx1MDQ0Mlx1MDQ0Y1x1MDQ0MVx1MDQ0ZiBcdTA0M2VcdTA0NDIgXHUwNDRkXHUwNDQyXHUwNDNlXHUwNDMzXHUwNDNlIFx1MDQ0MVx1MDQzZVx1MDQzZVx1MDQzMVx1MDQ0OVx1MDQzNVx1MDQzZFx1MDQzOFx1MDQ0ZiwgXHUwNDMyXHUwNDRiXHUwNDMxXHUwNDM4XHUwNDQyXHUwNDM1IFx1MDQzNFx1MDQ0MFx1MDQ0M1x1MDQzM1x1MDQzZVx1MDQzOSBcdTA0M2VcdTA0NDFcdTA0M2RcdTA0M2VcdTA0MzJcdTA0M2RcdTA0M2VcdTA0MzkgXHUwNDQxXHUwNDNiXHUwNDNlXHUwNDM5IFx1MDQzMiBcdTA0M2ZcdTA0MzVcdTA0NDBcdTA0MzVcdTA0M2FcdTA0M2JcdTA0NGVcdTA0NDdcdTA0MzBcdTA0NDJcdTA0MzVcdTA0M2JcdTA0MzUgXHUwNDMyIFx1MDQzZlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQzZVx1MDQzYyBcdTA0MzJcdTA0MzVcdTA0NDBcdTA0NDVcdTA0M2RcdTA0MzVcdTA0M2MgXHUwNDQzXHUwNDMzXHUwNDNiXHUwNDQzLjxicj48YnI+XHUwNDIxXHUwNDNhXHUwNDNlXHUwNDQwXHUwNDM1XHUwNDM1IFx1MDQzMlx1MDQ0MVx1MDQzNVx1MDQzM1x1MDQzZSwgXHUwNDNmXHUwNDQwXHUwNDM4XHUwNDQ3XHUwNDM4XHUwNDNkXHUwNDMwIFx1MDQzMiBcdTA0NDJcdTA0M2VcdTA0M2MsIFx1MDQ0N1x1MDQ0Mlx1MDQzZSBcdTA0MzFcdTA0MzhcdTA0MzFcdTA0M2JcdTA0MzhcdTA0M2VcdTA0NDJcdTA0MzVcdTA0M2FcdTA0MzAgR29vZ2xlIE1hcHMgXHUwNDNkXHUwNDM1IFx1MDQzMVx1MDQ0Ylx1MDQzYlx1MDQzMCBcdTA0MzJcdTA0M2FcdTA0M2JcdTA0NGVcdTA0NDdcdTA0MzVcdTA0M2RcdTA0MzAgXHUwNDM4XHUwNDNiXHUwNDM4IFx1MDQzZFx1MDQzNSBcdTA0NDFcdTA0M2VcdTA0MzRcdTA0MzVcdTA0NDBcdTA0MzZcdTA0MzhcdTA0NDIgXHUwNDNhXHUwNDNlXHUwNDQwXHUwNDQwXHUwNDM1XHUwNDNhXHUwNDQyXHUwNDNkXHUwNDNlXHUwNDMzXHUwNDNlIEFQSS1cdTA0M2FcdTA0M2JcdTA0NGVcdTA0NDdcdTA0MzAgXHUwNDM0XHUwNDNiXHUwNDRmIFx1MDQzMlx1MDQzMFx1MDQ0OFx1MDQzNVx1MDQzM1x1MDQzZSBcdTA0NDFcdTA0MzBcdTA0MzlcdTA0NDJcdTA0MzAuPGJyPjxicj5cdTA0MjBcdTA0MzBcdTA0MzdcdTA0NDBcdTA0MzBcdTA0MzFcdTA0M2VcdTA0NDJcdTA0NDdcdTA0MzhcdTA0M2FcdTA0MzBcdTA0M2M6IFx1MDQ0N1x1MDQ0Mlx1MDQzZVx1MDQzMVx1MDQ0YiBcdTA0NDNcdTA0MzdcdTA0M2RcdTA0MzBcdTA0NDJcdTA0NGMsIFx1MDQzYVx1MDQzMFx1MDQzYSBcdTA0NDFcdTA0MzRcdTA0MzVcdTA0M2JcdTA0MzBcdTA0NDJcdTA0NGMsIFx1MDQ0N1x1MDQ0Mlx1MDQzZVx1MDQzMVx1MDQ0YiBcdTA0MzJcdTA0NDFcdTA0NTEgXHUwNDM3XHUwNDMwXHUwNDQwXHUwNDMwXHUwNDMxXHUwNDNlXHUwNDQyXHUwNDMwXHUwNDNiXHUwNDNlLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZScgdGFyZ2V0PSdfYmxhbmsnPlx1MDQ0OVx1MDQ1MVx1MDQzYlx1MDQzYVx1MDQzZFx1MDQzOFx1MDQ0Mlx1MDQzNSBcdTA0NDJcdTA0NDNcdTA0NDI8L2E+IiwKZ2V0TGF5ZXJXYXJuaW5nOiJcdTA0MjFcdTA0M2JcdTA0M2VcdTA0MzkgJHtsYXllclR5cGV9IFx1MDQzZFx1MDQzNSBcdTA0NDNcdTA0MzRcdTA0MzBcdTA0M2JcdTA0M2VcdTA0NDFcdTA0NGMgXHUwNDNkXHUwNDNlXHUwNDQwXHUwNDNjXHUwNDMwXHUwNDNiXHUwNDRjXHUwNDNkXHUwNDNlIFx1MDQzN1x1MDQzMFx1MDQzM1x1MDQ0MFx1MDQ0M1x1MDQzN1x1MDQzOFx1MDQ0Mlx1MDQ0Yy4gPGJyPjxicj5cdTA0MjdcdTA0NDJcdTA0M2VcdTA0MzFcdTA0NGIgXHUwNDM4XHUwNDM3XHUwNDMxXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDQyXHUwNDRjXHUwNDQxXHUwNDRmIFx1MDQzZVx1MDQ0MiBcdTA0NGRcdTA0NDJcdTA0M2VcdTA0MzNcdTA0M2UgXHUwNDQxXHUwNDNlXHUwNDNlXHUwNDMxXHUwNDQ5XHUwNDM1XHUwNDNkXHUwNDM4XHUwNDRmLCBcdTA0MzJcdTA0NGJcdTA0MzFcdTA0MzhcdTA0NDJcdTA0MzUgXHUwNDM0XHUwNDQwXHUwNDQzXHUwNDMzXHUwNDNlXHUwNDM5IFx1MDQzZVx1MDQ0MVx1MDQzZFx1MDQzZVx1MDQzMlx1MDQzZFx1MDQzZVx1MDQzOSBcdTA0NDFcdTA0M2JcdTA0M2VcdTA0MzkgXHUwNDMyIFx1MDQzZlx1MDQzNVx1MDQ0MFx1MDQzNVx1MDQzYVx1MDQzYlx1MDQ0ZVx1MDQ0N1x1MDQzMFx1MDQ0Mlx1MDQzNVx1MDQzYlx1MDQzNSBcdTA0MzIgXHUwNDNmXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDNlXHUwNDNjIFx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQ0NVx1MDQzZFx1MDQzNVx1MDQzYyBcdTA0NDNcdTA0MzNcdTA0M2JcdTA0NDMuPGJyPjxicj5cdTA0MjFcdTA0M2FcdTA0M2VcdTA0NDBcdTA0MzVcdTA0MzUgXHUwNDMyXHUwNDQxXHUwNDM1XHUwNDMzXHUwNDNlLCBcdTA0M2ZcdTA0NDBcdTA0MzhcdTA0NDdcdTA0MzhcdTA0M2RcdTA0MzAgXHUwNDMyIFx1MDQ0Mlx1MDQzZVx1MDQzYywgXHUwNDQ3XHUwNDQyXHUwNDNlIFx1MDQzMVx1MDQzOFx1MDQzMVx1MDQzYlx1MDQzOFx1MDQzZVx1MDQ0Mlx1MDQzNVx1MDQzYVx1MDQzMCAke2xheWVyTGlifSBcdTA0M2RcdTA0MzUgXHUwNDMxXHUwNDRiXHUwNDNiXHUwNDMwIFx1MDQzMlx1MDQzYVx1MDQzYlx1MDQ0ZVx1MDQ0N1x1MDQzNVx1MDQzZFx1MDQzMCBcdTA0MzhcdTA0M2JcdTA0MzggXHUwNDMxXHUwNDRiXHUwNDNiXHUwNDMwIFx1MDQzMlx1MDQzYVx1MDQzYlx1MDQ0ZVx1MDQ0N1x1MDQzNVx1MDQzZFx1MDQzMCBcdTA0M2RcdTA0MzVcdTA0M2FcdTA0M2VcdTA0NDBcdTA0NDBcdTA0MzVcdTA0M2FcdTA0NDJcdTA0M2RcdTA0M2UuPGJyPjxicj5cdTA0MjBcdTA0MzBcdTA0MzdcdTA0NDBcdTA0MzBcdTA0MzFcdTA0M2VcdTA0NDJcdTA0NDdcdTA0MzhcdTA0M2FcdTA0MzBcdTA0M2M6IFx1MDQ0N1x1MDQ0Mlx1MDQzZVx1MDQzMVx1MDQ0YiBcdTA0NDNcdTA0MzdcdTA0M2RcdTA0MzBcdTA0NDJcdTA0NGMsIFx1MDQzYVx1MDQzMFx1MDQzYSBcdTA0NDFcdTA0MzRcdTA0MzVcdTA0M2JcdTA0MzBcdTA0NDJcdTA0NGMsIFx1MDQ0N1x1MDQ0Mlx1MDQzZVx1MDQzMVx1MDQ0YiBcdTA0MzJcdTA0NDFcdTA0NTEgXHUwNDM3XHUwNDMwXHUwNDQwXHUwNDMwXHUwNDMxXHUwNDNlXHUwNDQyXHUwNDMwXHUwNDNiXHUwNDNlLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+XHUwNDQ5XHUwNDUxXHUwNDNiXHUwNDNhXHUwNDNkXHUwNDM4XHUwNDQyXHUwNDM1IFx1MDQ0Mlx1MDQ0M1x1MDQ0MjwvYT4iLAoiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6Ilx1MDQxY1x1MDQzMFx1MDQ0MVx1MDQ0OFx1MDQ0Mlx1MDQzMFx1MDQzMSA9IDEgOiAke3NjYWxlRGVub219IixXOiJcdTA0MTciLEU6Ilx1MDQxMiIsTjoiXHUwNDIxIixTOiJcdTA0MmUiLHJlcHJvamVjdERlcHJlY2F0ZWQ6Ilx1MDQxMlx1MDQ0YiBcdTA0MzhcdTA0NDFcdTA0M2ZcdTA0M2VcdTA0M2JcdTA0NGNcdTA0MzdcdTA0NDNcdTA0MzVcdTA0NDJcdTA0MzUgXHUwNDNlXHUwNDNmXHUwNDQ2XHUwNDM4XHUwNDRlICdyZXByb2plY3QnIFx1MDQzNFx1MDQzYlx1MDQ0ZiBcdTA0NDFcdTA0M2JcdTA0M2VcdTA0NGYgJHtsYXllck5hbWV9LiBcdTA0MmRcdTA0NDJcdTA0MzAgXHUwNDNlXHUwNDNmXHUwNDQ2XHUwNDM4XHUwNDRmIFx1MDQ0Zlx1MDQzMlx1MDQzYlx1MDQ0Zlx1MDQzNVx1MDQ0Mlx1MDQ0MVx1MDQ0ZiBcdTA0NDNcdTA0NDFcdTA0NDJcdTA0MzBcdTA0NDBcdTA0MzVcdTA0MzJcdTA0NDhcdTA0MzVcdTA0Mzk6IFx1MDQzNVx1MDQzNSBcdTA0MzhcdTA0NDFcdTA0M2ZcdTA0M2VcdTA0M2JcdTA0NGNcdTA0MzdcdTA0M2VcdTA0MzJcdTA0MzBcdTA0M2RcdTA0MzhcdTA0MzUgXHUwNDNmXHUwNDQwXHUwNDM1XHUwNDM0XHUwNDNmXHUwNDNlXHUwNDNiXHUwNDMwXHUwNDMzXHUwNDMwXHUwNDNiXHUwNDNlXHUwNDQxXHUwNDRjIFx1MDQzNFx1MDQzYlx1MDQ0ZiBcdTA0M2ZcdTA0M2VcdTA0MzRcdTA0MzRcdTA0MzVcdTA0NDBcdTA0MzZcdTA0M2FcdTA0MzggXHUwNDNmXHUwNDNlXHUwNDNhXHUwNDMwXHUwNDM3XHUwNDMwIFx1MDQzNFx1MDQzMFx1MDQzZFx1MDQzZFx1MDQ0Ylx1MDQ0NSBcdTA0M2ZcdTA0M2VcdTA0MzJcdTA0MzVcdTA0NDBcdTA0NDUgXHUwNDNhXHUwNDNlXHUwNDNjXHUwNDNjXHUwNDM1XHUwNDQwXHUwNDQ3XHUwNDM1XHUwNDQxXHUwNDNhXHUwNDM4XHUwNDQ1IFx1MDQzMVx1MDQzMFx1MDQzN1x1MDQzZVx1MDQzMlx1MDQ0Ylx1MDQ0NSBcdTA0M2FcdTA0MzBcdTA0NDBcdTA0NDIsIFx1MDQzZFx1MDQzZSBcdTA0NDJcdTA0MzVcdTA0M2ZcdTA0MzVcdTA0NDBcdTA0NGMgXHUwNDRkXHUwNDQyXHUwNDNlXHUwNDQyIFx1MDQ0NFx1MDQ0M1x1MDQzZFx1MDQzYVx1MDQ0Nlx1MDQzOFx1MDQzZVx1MDQzZFx1MDQzMFx1MDQzYiBcdTA0M2RcdTA0MzVcdTA0NDFcdTA0NTFcdTA0NDIgXHUwNDMyXHUwNDQxXHUwNDQyXHUwNDQwXHUwNDNlXHUwNDM1XHUwNDNkXHUwNDNkXHUwNDMwXHUwNDRmIFx1MDQzZlx1MDQzZVx1MDQzNFx1MDQzNFx1MDQzNVx1MDQ0MFx1MDQzNlx1MDQzYVx1MDQzMCBcdTA0NDFcdTA0NDRcdTA0MzVcdTA0NDBcdTA0MzhcdTA0NDdcdTA0MzVcdTA0NDFcdTA0M2FcdTA0M2VcdTA0MzkgXHUwNDNmXHUwNDQwXHUwNDNlXHUwNDM1XHUwNDNhXHUwNDQ2XHUwNDM4XHUwNDM4IFx1MDQxY1x1MDQzNVx1MDQ0MFx1MDQzYVx1MDQzMFx1MDQ0Mlx1MDQzZVx1MDQ0MFx1MDQzMC4gXHUwNDExXHUwNDNlXHUwNDNiXHUwNDRjXHUwNDQ4XHUwNDM1IFx1MDQ0MVx1MDQzMlx1MDQzNVx1MDQzNFx1MDQzNVx1MDQzZFx1MDQzOFx1MDQzOSBcdTA0MzRcdTA0M2VcdTA0NDFcdTA0NDJcdTA0NDNcdTA0M2ZcdTA0M2RcdTA0M2UgXHUwNDNkXHUwNDMwIGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU3BoZXJpY2FsTWVyY2F0b3IuIiwKbWV0aG9kRGVwcmVjYXRlZDoiXHUwNDJkXHUwNDQyXHUwNDNlXHUwNDQyIFx1MDQzY1x1MDQzNVx1MDQ0Mlx1MDQzZVx1MDQzNCBcdTA0NDFcdTA0NDdcdTA0MzhcdTA0NDJcdTA0MzBcdTA0MzVcdTA0NDJcdTA0NDFcdTA0NGYgXHUwNDQzXHUwNDQxXHUwNDQyXHUwNDMwXHUwNDQwXHUwNDM1XHUwNDMyXHUwNDQ4XHUwNDM4XHUwNDNjIFx1MDQzOCBcdTA0MzFcdTA0NDNcdTA0MzRcdTA0MzVcdTA0NDIgXHUwNDQzXHUwNDM0XHUwNDMwXHUwNDNiXHUwNDUxXHUwNDNkIFx1MDQzMiBcdTA0MzJcdTA0MzVcdTA0NDBcdTA0NDFcdTA0MzhcdTA0MzggMy4wLiBcdTA0MWZcdTA0M2VcdTA0MzZcdTA0MzBcdTA0M2JcdTA0NDNcdTA0MzlcdTA0NDFcdTA0NDJcdTA0MzAsIFx1MDQzZlx1MDQzZVx1MDQzYlx1MDQ0Y1x1MDQzN1x1MDQ0M1x1MDQzOVx1MDQ0Mlx1MDQzNVx1MDQ0MVx1MDQ0YyAke25ld01ldGhvZH0uIn0pO09wZW5MYXllcnMuTGFuZy5nbD1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7dW5oYW5kbGVkUmVxdWVzdDoiU29saWNpdHVkZSBub24geGVyYWRhOyBhIHJlc3Bvc3RhIGZvaTogJHtzdGF0dXNUZXh0fSIsUGVybWFsaW5rOiJMaWdhelx1MDBmM24gcGVybWFuZW50ZSIsT3ZlcmxheXM6IkNhcGFzIHN1cGVycG9zdGFzIiwiQmFzZSBMYXllciI6IkNhcGEgYmFzZSIsbm9GSUQ6Ik5vbiBzZSBwb2RlIGFjdHVhbGl6YXIgYSBmdW5jaW9uYWxpZGFkZSBwYXJhIGEgcXVlIG5vbiBoYWkgRklELiIsYnJvd3Nlck5vdFN1cHBvcnRlZDoiTyBzZXUgbmF2ZWdhZG9yIG5vbiBzb3BvcnRhIGEgcmVuZGVyaXphY2lcdTAwZjNuIGRlIHZlY3RvcmVzLiBPcyByZW5kZXJpemFkb3JlcyBzb3BvcnRhZG9zIGFjdHVhbG1lbnRlIHNvbjpcbiR7cmVuZGVyZXJzfSIsbWluWm9vbUxldmVsRXJyb3I6IkEgcHJvcGllZGFkZSBtaW5ab29tTGV2ZWwgXHUwMGU5IHNcdTAwZjMgcGFyYSB1c28gY29ueHVudGFtZW50ZSBjb2FzIGNhcGFzIEZpeGVkWm9vbUxldmVscy1kZXNjZW5kZW50LiBPIGZlaXRvIGRlIHF1ZSBlc2EgY2FwYSB3ZnMgdmVyaWZpcXVlIG8gbWluWm9vbUxldmVsIFx1MDBlOSB1bmhhIHJlbGlxdWlhIGRvIHBhc2Fkby4gTm9uIHBvZGVtb3MsIGNvbiB0b2RvLCBlbGltaW5hbGEgc2VuIGEgcG9zaWJpbGlkYWRlIGRlIG5vbiByb21wZXIgYXMgYXBsaWNhY2lcdTAwZjNucyBiYXNlYWRhcyBlbiBPTCBxdWUgcG9pZGFuIGRlcGVuZGVyIGRlbGEuIFBvciBpc28gYSBlc3RhbW9zIGRlaXhhbmRvIG9ic29sZXRhIChhIGNvbXByb2JhY2lcdTAwZjNuIG1pblpvb21MZXZlbCBkZSBlbWJhaXhvIHNlclx1MDBlMSBlbGltaW5hZGEgbmEgdmVyc2lcdTAwZjNuIDMuMCkuIFBvciBmYXZvciwgbm8gY2FudG8gZGlzbyB1c2UgbyBheHVzdGUgZGUgcmVzb2x1Y2lcdTAwZjNuIG1cdTAwZWRuL21cdTAwZTF4IHRhbCBlIGNvbW8gZXN0XHUwMGUxIGRlc2NyaXRvIGFxdVx1MDBlZDogaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyIsCmNvbW1pdFN1Y2Nlc3M6IlRyYW5zYWNjaVx1MDBmM24gV0ZTOiBcdTAwYzlYSVRPICR7cmVzcG9uc2V9Iixjb21taXRGYWlsZWQ6IlRyYW5zYWNjaVx1MDBmM24gV0ZTOiBGQUxMSURBICR7cmVzcG9uc2V9Iixnb29nbGVXYXJuaW5nOiJBIGNhcGEgZG8gR29vZ2xlIG5vbiBwdWlkbyBjYXJnYXJzZSBjb3JyZWN0YW1lbnRlLjxicj48YnI+UGFyYSBldml0YXIgZXN0YSBtZW5zYXhlLCBlc2NvbGxhIHVuaGEgbm92YSBjYXBhIGJhc2Ugbm8gc2VsZWNjaW9uYWRvciBkZSBjYXBhcyBuYSBtYXJ4ZSBzdXBlcmlvciBkZXJlaXRhLjxicj48YnI+UHJvYmFibGVtZW50ZSwgaXN0byBhY29udGVjZSBwb3JxdWUgYSBlc2NyaXR1cmEgZGEgbGlicmFyXHUwMGVkYSBkbyBHb29nbGUgTWFwcyBvdSBiZW4gbm9uIGZvaSBpbmNsdVx1MDBlZGRhIG91IGJlbiBub24gY29udFx1MDBlOW4gYSBjbGF2ZSBBUEkgY29ycmVjdGEgcGFyYSBvIHNldSBzaXRpby48YnI+PGJyPkRlc2Vudm9sdmVkb3JlczogcGFyYSBheHVkYXIgYSBmYWNlciBmdW5jaW9uYXIgaXN0byBjb3JyZWN0YW1lbnRlLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZScgdGFyZ2V0PSdfYmxhbmsnPnByZW1lZGUgYXF1XHUwMGVkPC9hPiIsCmdldExheWVyV2FybmluZzoiQSBjYXBhICR7bGF5ZXJUeXBlfSBmb2kgaW5jYXBheiBkZSBjYXJnYXJzZSBjb3JyZWN0YW1lbnRlLjxicj48YnI+UGFyYSBldml0YXIgZXN0YSBtZW5zYXhlLCBlc2NvbGxhIHVuaGEgbm92YSBjYXBhIGJhc2Ugbm8gc2VsZWNjaW9uYWRvciBkZSBjYXBhcyBuYSBtYXJ4ZSBzdXBlcmlvciBkZXJlaXRhLjxicj48YnI+UHJvYmFibGVtZW50ZSwgaXN0byBhY29udGVjZSBwb3JxdWUgYSBlc2NyaXR1cmEgZGEgbGlicmFyXHUwMGVkYSAke2xheWVyTGlifSBub24gZm9pIGJlbiBpbmNsdVx1MDBlZGRhLjxicj48YnI+RGVzZW52b2x2ZWRvcmVzOiBwYXJhIGF4dWRhciBhIGZhY2VyIGZ1bmNpb25hciBpc3RvIGNvcnJlY3RhbWVudGUsIDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvJHtsYXllckxpYn0nIHRhcmdldD0nX2JsYW5rJz5wcmVtZWRlIGFxdVx1MDBlZDwvYT4iLCJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiRXNjYWxhID0gMSA6ICR7c2NhbGVEZW5vbX0iLApXOiJPIixFOiJMIixOOiJOIixTOiJTIixyZXByb2plY3REZXByZWNhdGVkOidFc3RcdTAwZTEgdXNhbmRvIGEgb3BjaVx1MDBmM24gInJlcHJvamVjdCIgbmEgY2FwYSAke2xheWVyTmFtZX0uIEVzdGEgb3BjaVx1MDBmM24gZXN0XHUwMGUxIG9ic29sZXRhOiBvIHNldSB1c28gZm9pIGRlc2VcdTAwZjFhZG8gcGFyYSBhIHZpc3VhbGl6YWNpXHUwMGYzbiBkZSBkYXRvcyBzb2JyZSBtYXBhcyBiYXNlIGNvbWVyY2lhaXMsIHBlcm8gZXN0YSBmdW5jaW9uYWxpZGFkZSBkZWJlcmEgYWdvcmEgc2VyIG9idGlkYSB1dGlsaXphbmRvIGEgcHJveGVjY2lcdTAwZjNuIFNwaGVyaWNhbCBNZXJjYXRvci4gSGFpIGRpc3BvXHUwMGYxaWJsZSBtXHUwMGUxaXMgaW5mb3JtYWNpXHUwMGYzbiBlbiBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NwaGVyaWNhbE1lcmNhdG9yLicsbWV0aG9kRGVwcmVjYXRlZDoiRXN0ZSBtXHUwMGU5dG9kbyBlc3RcdTAwZTEgb2Jzb2xldG8gZSBzZXJcdTAwZTEgZWxpbWluYWRvIG5hIHZlcnNpXHUwMGYzbiAzLjAuIFBvciBmYXZvciwgbm8gY2FudG8gZGVzdGUgdXNlICR7bmV3TWV0aG9kfS4ifSk7T3BlbkxheWVycy5MYW5nLmlkPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHt1bmhhbmRsZWRSZXF1ZXN0OiJQZXJtaW50YWFuIHlhbmcgdGFrIHRlcnRhbmdhbmkgbWVuZ2hhc2lsa2FuICR7c3RhdHVzVGV4dH0iLFBlcm1hbGluazoiUHJhbmFsYSBwZXJtYW5lbiIsT3ZlcmxheXM6IkhhbXBhcmFuIiwiQmFzZSBMYXllciI6IkxhcGlzYW4gRGFzYXIiLG5vRklEOiJUaWRhayBkYXBhdCBtZW1wZXJiYXJ1aSBmaXR1ciB5YW5nIHRpZGFrIG1lbWlsaWtpIEZJRC4iLGJyb3dzZXJOb3RTdXBwb3J0ZWQ6IlBlcmFtYmFuIEFuZGEgdGlkYWsgbWVuZHVrdW5nIHBlbmdnYW1iYXJhbiB2ZWt0b3IuIFBlbmdnYW1iYXIgeWFuZyBkaWR1a3VuZyBzYWF0IGluaSBhZGFsYWg6XG4ke3JlbmRlcmVyc30iLG1pblpvb21MZXZlbEVycm9yOiJQcm9wZXJ0aSBtaW5ab29tTGV2ZWwgaGFueWEgZGl0dWp1a2FuIGJla2VyamEgZGVuZ2FuIGxhcGlzYW4gRml4ZWRab29tTGV2ZWxzLWRlc2NlbmRlbnQuIFBlbmdlY2VrYW4gbWluWm9vbUxldmVsIG9sZWggbGFwaXNhbiB3ZnMgYWRhbGFoIHBlbmluZ2dhbGFuIG1hc2EgbGFsdS4gS2FtaSB0aWRhayBkYXBhdCBtZW5naGFwdXNueWEgdGFucGEga2VtdW5na2luYW4gbWVydXNhayBhcGxpa2FzaSBiZXJiYXNpcyBPTCB5YW5nIG11bmdraW4gYmVyZ2FudHVuZyBwYWRhbnlhLiBLYXJlbmFueWEsIGthbWkgbWVuZ2FuZ2dhcG55YSB0aWRhayBiZXJsYWt1IC0tIENlayBtaW5ab29tTGV2ZWwgZGkgYmF3YWggaW5pIGFrYW4gZGloYXB1cyBwYWRhIDMuMC4gU2lsYWthbiBndW5ha2FuIHBlbnlldGVsYW4gcmVzb2x1c2kgbWluL21ha3Mgc2VwZXJ0aSBkaWphYmFya2FuIGRpIHNpbmk6IGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU2V0dGluZ1pvb21MZXZlbHMiLApjb21taXRTdWNjZXNzOiJXRlMgVHJhbnNha3NpOiBCRVJIQVNJTCAke3Jlc3Bvbn0iLGNvbW1pdEZhaWxlZDoiV0ZTIFRyYW5zYWtzaTogR0FHQUwgJHtyZXNwb259Iixnb29nbGVXYXJuaW5nOiJMYXBpc2FuIEdvb2dsZSB0aWRhayBkYXBhdCBkaW11YXQgZGVuZ2FuIGJlbmFyLjxicj48YnI+VW50dWsgbWVuZ2hpbGFuZ2thbiBwZXNhbiBpbmksIHBpbGloIHN1YXR1IEJhc2VMYXllciBiYXJ1IG1lbGFsdWkgcGVudWthciBsYXBpc2FuIChsYXllciBzd2l0Y2hlcikgZGkgdWp1bmcga2FuYW4gYXRhcy48YnI+PGJyPktlbXVuZ2tpbmFuIGJlc2FyIGluaSBrYXJlbmEgcHVzdGFrYSBza3JpcCBHb29nbGUgTWFwcyB0aWRhayBkaXNlcnRha2FuIGF0YXUgdGlkYWsgbWVuZ2FuZHVuZyBrdW5jaSBBUEkgeWFuZyB0ZXBhdCB1bnR1ayBzaXR1cyBBbmRhLjxicj48YnI+UGVuZ2VtYmFuZzogVW50dWsgYmFudHVhbiBtZW5nYXRhc2kgbWFzYWxhaCBpbmksIDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvR29vZ2xlJyB0YXJnZXQ9J19ibGFuayc+a2xpayBkaSBzaW5pPC9hPiIsCmdldExheWVyV2FybmluZzoiTGFwaXNhbiAke2xheWVyVHlwZX0gdGlkYWsgZGFwYXQgZGltdWF0IGRlbmdhbiBiZW5hci48YnI+PGJyPlVudHVrIG1lbmdoaWxhbmdrYW4gcGVzYW4gaW5pLCBwaWxpaCBzdWF0dSBCYXNlTGF5ZXIgYmFydSBtZWxhbHVpIHBlbnVrYXIgbGFwaXNhbiAobGF5ZXIgc3dpdGNoZXIpIGRpIHVqdW5nIGthbmFuIGF0YXMuPGJyPjxicj5LZW11bmdraW5hbiBiZXNhciBpbmkga2FyZW5hIHB1c3Rha2Egc2tyaXAgR29vZ2xlIE1hcHMgdGlkYWsgZGlzZXJ0YWthbiBkZW5nYW4gYmVuYXIuPGJyPjxicj5QZW5nZW1iYW5nOiBVbnR1ayBiYW50dWFuIG1lbmdhdGFzaSBtYXNhbGFoIGluaSwgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS8ke2xheWVyTGlifScgdGFyZ2V0PSdfYmxhbmsnPmtsaWsgZGkgc2luaTwvYT4iLCJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiU2VrYWxhID0gMSA6ICR7c2NhbGVEZW5vbX0iLFc6IkIiLEU6IlQiLApOOiJVIixTOiJTIixyZXByb2plY3REZXByZWNhdGVkOiJBbmRhIG1lbmdndW5ha2FuIG9wc2kgJ3JlcHJvamVjdCcgcGFkYSBsYXBpc2FuICR7bGF5ZXJOYW1lfS4gT3BzaSBpbmkgdGVsYWggZGl0aW5nZ2Fsa2FuOiBwZW5nZ3VuYWFubnlhIGRpcmFuY2FuZyB1bnR1ayBtZW5kdWt1bmcgdGFtcGlsYW4gZGF0YSBtZWxhbHVpIHBldGEgZGFzYXIga29tZXJzaWFsLCB0YXBpIGZ1bmdzaW9uYWxpdGFzIHRlcnNlYnV0IHNhYXQgaW5pIGhhcnVzIGRpbGFrdWthbiBkZW5nYW4gbWVuZ2d1bmFrYW4gZHVrdW5nYW4gU3BoZXJpY2FsIE1lcmNhdG9yLiBJbmZvcm1hc2kgbGViaWggbGFuanV0IHRlcnNlZGlhIGRpIGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU3BoZXJpY2FsTWVyY2F0b3IuIixtZXRob2REZXByZWNhdGVkOiJNZXRvZGUgaW5pIHRlbGFoIHVzYW5nIGRhbiBha2FuIGRpaGFwdXMgZGkgMy4wLiBTZWJhbGlrbnlhLCBoYXJhcCBndW5ha2FuICR7bmV3TWV0aG9kfS4ifSk7T3BlbkxheWVycy5MYW5nLnBsPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHt1bmhhbmRsZWRSZXF1ZXN0OiJOaWVvYnNcdTAxNDJ1Z2l3YW5lIFx1MDE3Y1x1MDEwNWRhbmllIHp3clx1MDBmM2NpXHUwMTQybyAke3N0YXR1c1RleHR9IixQZXJtYWxpbms6IlBlcm1hbGluayIsT3ZlcmxheXM6Ik5ha1x1MDE0MmFka2kiLCJCYXNlIExheWVyIjoiV2Fyc3R3YSBwb2RzdGF3b3dhIixub0ZJRDoiTmllIG1vXHUwMTdjbmEgemFrdHVhbGl6b3dhXHUwMTA3IGZ1bmtjamksIGRsYSBrdFx1MDBmM3J5Y2ggbmllIG1hIEZJRC4iLGJyb3dzZXJOb3RTdXBwb3J0ZWQ6IlR3b2phIHByemVnbFx1MDEwNWRhcmthIG5pZSBvYnNcdTAxNDJ1Z3VqZSByZW5kZXJvd2FuaWEgd2VrdG9yXHUwMGYzdy4gT2JlY25pZSBvYnNcdTAxNDJ1Z2l3YW5lIHJlbmRlcm93YW5pZSB0bzpcbiR7cmVuZGVyZXJzfSIsbWluWm9vbUxldmVsRXJyb3I6IldcdTAxNDJhXHUwMTViY2l3b1x1MDE1Ylx1MDEwNyBtaW5ab29tTGV2ZWwgamVzdCBwcnplem5hY3pvbmEgdHlsa28gZG8gdVx1MDE3Y3l0a3UgeiB3YXJzdHdhbWkgRml4ZWRab29tTGV2ZWxzLWRlc2NlbmRlbnQuV2Fyc3R3YSB3ZnMsIGt0XHUwMGYzcmEgc3ByYXdkemEgbWluWm9vbUxldmVsIGplc3QgcmVsaWt0ZW0gcHJ6ZXN6XHUwMTQyb1x1MDE1YmNpLk5pZSBtb1x1MDE3Y2VteSBqZWogamVkbmFrIHVzdW5cdTAxMDVjIGJleiBtb3psaXdvXHUwMTViY2kgXHUwMTQyYW1hbmlhIE9MIGFwbGlrYWNqaSwga3RcdTAwZjNyZSBtb2dcdTAxMDUgYnlcdTAxMDcgb2QgbmllaiB6YWxlXHUwMTdjbmUuIERsYXRlZ28gamVzdGVcdTAxNWJteSB6YSBkZXByZWNqYWNqXHUwMTE5IC0tIG1pblpvb21MZXZlbCB6b3N0YW5pZSB1c3VuaVx1MDExOXRhIHcgd2Vyc2ppIDMuMC4gVyB6YW1pYW4gcHJvc3plIHVcdTAxN2N5aiBtaW4vbWF4IHJvemR6aWVsY3pvXHUwMTViY2kgdyBzcG9zXHUwMGYzYiBvcGlzYW55IHR1dGFqOiBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NldHRpbmdab29tTGV2ZWxzIiwKY29tbWl0U3VjY2VzczoiVHJhbnNha2NqYSBXRlM6IFNVS0NFUyAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJUcmFuc2FrY2phIFdGUzogRkFJTEVEICR7cmVzcG9uc2V9Iixnb29nbGVXYXJuaW5nOiJXYXJzdHdhIEdvb2dsZSBuaWUgYnlcdTAxNDIgdyBzdGFuaWUgemFcdTAxNDJhZG93YVx1MDEwNyBzaVx1MDExOSBwb3ByYXduaWUuPGJyPjxicj5BYnkgcG96YnlcdTAxMDcgc2lcdTAxMTkgdGVqIHdpYWRvbW9cdTAxNWJjaSwgd3liaWVyeiBub3dcdTAxMDUgV2Fyc3R3ZSBwb2RzdGF3b3dcdTAxMDUgdyBwcnplXHUwMTQyXHUwMTA1Y3puaWt1IHdhcnN0dyB3IGdcdTAwZjNybnltIHByYXd5bSByb2d1IG1hcHkuPGJyPjxicj5OYWpwcmF3ZG9wb2RvYm5pZWogamVzdCB0byBzcG93b2Rvd2FuZSB0eW0sIFx1MDE3Y2UgYmlibGlvdGVrYSBHb29nbGUgTWFwcyBuaWUgamVzdCB6YVx1MDE0MmFkb3dhbmEsIGx1YiBuaWUgemF3aWVyYSBwb3ByYXduZWdvIGtsdWN6YSBkbyBBUEkgZGxhIHR3b2plaiBzdHJvbnk8YnI+PGJyPlByb2dyYW1pc3RvOiBBYnkgdXp5c2thXHUwMTA3IHBvbW9jICwgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9Hb29nbGUnIHRhcmdldD0nX2JsYW5rJz5rbGlrbmlqIHR1dGFqPC9hPiIsCmdldExheWVyV2FybmluZzoiV2Fyc3R3YSAke2xheWVyVHlwZX0gbmllIG1vZ1x1MDE0MmEgem9zdGFcdTAxMDcgemFcdTAxNDJhZG93YW5hIHBvcHJhd25pZS48YnI+PGJyPkFieSBwb3pieVx1MDEwNyBzaVx1MDExOSB0ZWogd2lhZG9tb1x1MDE1YmNpLCB3eWJpZXJ6IG5vd1x1MDEwNSBXYXJzdHdlIHBvZHN0YXdvd1x1MDEwNSB3IHByemVcdTAxNDJcdTAxMDVjem5pa3Ugd2Fyc3R3IHcgZ1x1MDBmM3JueW0gcHJhd3ltIHJvZ3UgbWFweS48YnI+PGJyPk5hanByYXdkb3BvZG9ibmllaiBqZXN0IHRvIHNwb3dvZG93YW5lIHR5bSwgXHUwMTdjZSBiaWJsaW90ZWthICR7bGF5ZXJMaWJ9IG5pZSBqZXN0IHphXHUwMTQyYWRvd2FuYSwgbHViIG1vXHUwMTdjZShvIGlsZSBiaWJsaW90ZWthIHRlZ28gd3ltYWdhKSBieWMgcG90cnplYm55IGtsdWN6YSBkbyBBUEkgZGxhIHR3b2plaiBzdHJvbnk8YnI+PGJyPlByb2dyYW1pc3RvOiBBYnkgdXp5c2thXHUwMTA3IHBvbW9jICwgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS8ke2xheWVyTGlifScgdGFyZ2V0PSdfYmxhbmsnPmtsaWtuaWogdHV0YWo8L2E+IiwKIlNjYWxlID0gMSA6ICR7c2NhbGVEZW5vbX0iOiJTa2FsYSA9IDEgOiAke3NjYWxlRGVub219IixXOiJaQUNIIixFOiJXU0NIIixOOiJQTiIsUzoiUEQiLEdyYXRpY3VsZToiU2lhdGthIixyZXByb2plY3REZXByZWNhdGVkOiJ3IHdhcnN0d2llICR7bGF5ZXJOYW1lfSB1XHUwMTdjeXdhc3ogb3BjamkgJ3JlcHJvamVjdCcuIFRhIG9wY2phIGplc3QgcHJ6ZXN0YXJ6YVx1MDE0MmE6IGplaiB6YXN0b3Nvd2FuaWUgem9zdGFcdTAxNDIgemFwcm9qZWt0b3dhbnksIGFieSB3c3BpZXJhXHUwMTA3IHd5XHUwMTVid2lldGxhbmlhIGRhbnljaCBwcnpleiBrb21lcmN5am5lIG1hcHksIGplZG5hayBvYmVjbmllIHRhIGZ1bmtjam9uYWxub1x1MDE1Ylx1MDEwNyBwb3dpbmllbiB6b3N0YVx1MDEwNyBvc2lcdTAxMDVnbmlcdTAxMTl0eSB6YSBwb21vY1x1MDEwNSBTcGhlcmljYWwgTWVyY2F0b3IgaXRzIHVzZSB3YXMgZGVzaWduZWQgdG8gc3VwcG9ydCBkaXNwbGF5aW5nIGRhdGEgb3ZlciBjb21tZXJjaWFsLiBXaVx1MDExOWNqZSBpbmZvcm1hY2ppIG5hIHRlbiB0ZW1hdCBtb1x1MDE3Y2VzeiB6bmFsZVx1MDE3YVx1MDEwNyBuYSBzdHJvbmllIGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU3BoZXJpY2FsTWVyY2F0b3IuIiwKbWV0aG9kRGVwcmVjYXRlZDoiVGEgbWV0b2RhIGplc3QgcHJ6ZXN0YXJ6YVx1MDE0MmEgaSBiXHUwMTE5ZHppZSB1c3VuaVx1MDExOXRhIG9kIHdlcnNqaSAzLjAuIFcgemFtaWFuIHVcdTAxN2N5aiAke25ld01ldGhvZH0uIn0pO09wZW5MYXllcnMuRm9ybWF0LlNPU0NhcGFiaWxpdGllcz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTC5WZXJzaW9uZWRPR0Mse2RlZmF1bHRWZXJzaW9uOiIxLjAuMCIsQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuU09TQ2FwYWJpbGl0aWVzIn0pO09wZW5MYXllcnMuRm9ybWF0LlNPU0NhcGFiaWxpdGllcy52MV8wXzA9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5TT1NDYXBhYmlsaXRpZXMse25hbWVzcGFjZXM6e293czoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vd3MvMS4xIixzb3M6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvc29zLzEuMCIsZ21sOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbCIseGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsifSxyZWdFeGVzOnt0cmltU3BhY2U6L15ccyp8XHMqJC9nLHJlbW92ZVNwYWNlOi9ccyovZyxzcGxpdFNwYWNlOi9ccysvLHRyaW1Db21tYTovXHMqLFxzKi9nfSxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSk7dGhpcy5vcHRpb25zPWF9LHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PXR5cGVvZiBhJiYoYT1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcywKW2FdKSk7YSYmOT09YS5ub2RlVHlwZSYmKGE9YS5kb2N1bWVudEVsZW1lbnQpO3ZhciBiPXt9O3RoaXMucmVhZE5vZGUoYSxiKTtyZXR1cm4gYn0scmVhZGVyczp7Z21sOk9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtuYW1lOmZ1bmN0aW9uKGEsYil7Yi5uYW1lPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sVGltZVBlcmlvZDpmdW5jdGlvbihhLGIpe2IudGltZVBlcmlvZD17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi50aW1lUGVyaW9kKX0sYmVnaW5Qb3NpdGlvbjpmdW5jdGlvbihhLGIpe2IuYmVnaW5Qb3NpdGlvbj10aGlzLmdldENoaWxkVmFsdWUoYSl9LGVuZFBvc2l0aW9uOmZ1bmN0aW9uKGEsYil7Yi5lbmRQb3NpdGlvbj10aGlzLmdldENoaWxkVmFsdWUoYSl9fSxPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjMucHJvdG90eXBlLnJlYWRlcnMuZ21sKSxzb3M6e0NhcGFiaWxpdGllczpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sQ29udGVudHM6ZnVuY3Rpb24oYSwKYil7Yi5jb250ZW50cz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5jb250ZW50cyl9LE9ic2VydmF0aW9uT2ZmZXJpbmdMaXN0OmZ1bmN0aW9uKGEsYil7Yi5vZmZlcmluZ0xpc3Q9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIub2ZmZXJpbmdMaXN0KX0sT2JzZXJ2YXRpb25PZmZlcmluZzpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0QXR0cmlidXRlTlMoYSx0aGlzLm5hbWVzcGFjZXMuZ21sLCJpZCIpO2JbY109e3Byb2NlZHVyZXM6W10sb2JzZXJ2ZWRQcm9wZXJ0aWVzOltdLGZlYXR1cmVPZkludGVyZXN0SWRzOltdLHJlc3BvbnNlRm9ybWF0czpbXSxyZXN1bHRNb2RlbHM6W10scmVzcG9uc2VNb2RlczpbXX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGJbY10pfSx0aW1lOmZ1bmN0aW9uKGEsYil7Yi50aW1lPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnRpbWUpfSxwcm9jZWR1cmU6ZnVuY3Rpb24oYSxiKXtiLnByb2NlZHVyZXMucHVzaCh0aGlzLmdldEF0dHJpYnV0ZU5TKGEsCnRoaXMubmFtZXNwYWNlcy54bGluaywiaHJlZiIpKX0sb2JzZXJ2ZWRQcm9wZXJ0eTpmdW5jdGlvbihhLGIpe2Iub2JzZXJ2ZWRQcm9wZXJ0aWVzLnB1c2godGhpcy5nZXRBdHRyaWJ1dGVOUyhhLHRoaXMubmFtZXNwYWNlcy54bGluaywiaHJlZiIpKX0sZmVhdHVyZU9mSW50ZXJlc3Q6ZnVuY3Rpb24oYSxiKXtiLmZlYXR1cmVPZkludGVyZXN0SWRzLnB1c2godGhpcy5nZXRBdHRyaWJ1dGVOUyhhLHRoaXMubmFtZXNwYWNlcy54bGluaywiaHJlZiIpKX0scmVzcG9uc2VGb3JtYXQ6ZnVuY3Rpb24oYSxiKXtiLnJlc3BvbnNlRm9ybWF0cy5wdXNoKHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSl9LHJlc3VsdE1vZGVsOmZ1bmN0aW9uKGEsYil7Yi5yZXN1bHRNb2RlbHMucHVzaCh0aGlzLmdldENoaWxkVmFsdWUoYSkpfSxyZXNwb25zZU1vZGU6ZnVuY3Rpb24oYSxiKXtiLnJlc3BvbnNlTW9kZXMucHVzaCh0aGlzLmdldENoaWxkVmFsdWUoYSkpfX0sb3dzOk9wZW5MYXllcnMuRm9ybWF0Lk9XU0NvbW1vbi52MV8xXzAucHJvdG90eXBlLnJlYWRlcnMub3dzfSwKQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuU09TQ2FwYWJpbGl0aWVzLnYxXzBfMCJ9KTtPcGVuTGF5ZXJzLkxhbmcuYXI9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe1Blcm1hbGluazoiXHUwNjQ4XHUwNjM1XHUwNjQ0XHUwNjI5IFx1MDYyZlx1MDYyN1x1MDYyNlx1MDY0NVx1MDYyOSIsIkJhc2UgTGF5ZXIiOiJcdTA2MjdcdTA2NDRcdTA2MzdcdTA2MjhcdTA2NDJcdTA2MjkgXHUwNjI3XHUwNjQ0XHUwNjI3XHUwNjMzXHUwNjI3XHUwNjMzXHUwNjRhXHUwNjI5IiwiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6Ilx1MDYyN1x1MDY0NFx1MDY0Nlx1MDYzM1x1MDYyOFx1MDYyOSA9IDEgOiAke3NjYWxlRGVub219IixXOiJcdTA2M2EiLEU6Ilx1MDYzNFx1MDYzMSIsTjoiXHUwNjM0XHUwNjQ1IixTOiJcdTA2MmMifSk7T3BlbkxheWVycy5IYW5kbGVyLlBpbmNoPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5IYW5kbGVyLHtzdGFydGVkOiExLHN0b3BEb3duOiExLHBpbmNoaW5nOiExLGxhc3Q6bnVsbCxzdGFydDpudWxsLHRvdWNoc3RhcnQ6ZnVuY3Rpb24oYSl7dmFyIGI9ITA7dGhpcy5waW5jaGluZz0hMTtpZihPcGVuTGF5ZXJzLkV2ZW50LmlzTXVsdGlUb3VjaChhKSl0aGlzLnN0YXJ0ZWQ9ITAsdGhpcy5sYXN0PXRoaXMuc3RhcnQ9e2Rpc3RhbmNlOnRoaXMuZ2V0RGlzdGFuY2UoYS50b3VjaGVzKSxkZWx0YTowLHNjYWxlOjF9LHRoaXMuY2FsbGJhY2soInN0YXJ0IixbYSx0aGlzLnN0YXJ0XSksYj0hdGhpcy5zdG9wRG93bjtlbHNle2lmKHRoaXMuc3RhcnRlZClyZXR1cm4hMTt0aGlzLnN0YXJ0ZWQ9ITE7dGhpcy5sYXN0PXRoaXMuc3RhcnQ9bnVsbH1PcGVuTGF5ZXJzLkV2ZW50LnByZXZlbnREZWZhdWx0KGEpO3JldHVybiBifSx0b3VjaG1vdmU6ZnVuY3Rpb24oYSl7aWYodGhpcy5zdGFydGVkJiYKT3BlbkxheWVycy5FdmVudC5pc011bHRpVG91Y2goYSkpe3RoaXMucGluY2hpbmc9ITA7dmFyIGI9dGhpcy5nZXRQaW5jaERhdGEoYSk7dGhpcy5jYWxsYmFjaygibW92ZSIsW2EsYl0pO3RoaXMubGFzdD1iO09wZW5MYXllcnMuRXZlbnQuc3RvcChhKX1lbHNlIGlmKHRoaXMuc3RhcnRlZClyZXR1cm4hMTtyZXR1cm4hMH0sdG91Y2hlbmQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc3RhcnRlZCYmIU9wZW5MYXllcnMuRXZlbnQuaXNNdWx0aVRvdWNoKGEpPyh0aGlzLnBpbmNoaW5nPXRoaXMuc3RhcnRlZD0hMSx0aGlzLmNhbGxiYWNrKCJkb25lIixbYSx0aGlzLnN0YXJ0LHRoaXMubGFzdF0pLHRoaXMubGFzdD10aGlzLnN0YXJ0PW51bGwsITEpOiEwfSxhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPSExO09wZW5MYXllcnMuSGFuZGxlci5wcm90b3R5cGUuYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpJiYodGhpcy5waW5jaGluZz0hMSxhPSEwKTtyZXR1cm4gYX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPQohMTtPcGVuTGF5ZXJzLkhhbmRsZXIucHJvdG90eXBlLmRlYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpJiYodGhpcy5waW5jaGluZz10aGlzLnN0YXJ0ZWQ9ITEsdGhpcy5sYXN0PXRoaXMuc3RhcnQ9bnVsbCxhPSEwKTtyZXR1cm4gYX0sZ2V0RGlzdGFuY2U6ZnVuY3Rpb24oYSl7dmFyIGI9YVswXSxhPWFbMV07cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhiLm9sQ2xpZW50WC1hLm9sQ2xpZW50WCwyKStNYXRoLnBvdyhiLm9sQ2xpZW50WS1hLm9sQ2xpZW50WSwyKSl9LGdldFBpbmNoRGF0YTpmdW5jdGlvbihhKXthPXRoaXMuZ2V0RGlzdGFuY2UoYS50b3VjaGVzKTtyZXR1cm57ZGlzdGFuY2U6YSxkZWx0YTp0aGlzLmxhc3QuZGlzdGFuY2UtYSxzY2FsZTphL3RoaXMuc3RhcnQuZGlzdGFuY2V9fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkhhbmRsZXIuUGluY2gifSk7T3BlbkxheWVycy5MYW5nLmx0PU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHt1bmhhbmRsZWRSZXF1ZXN0OiJOZWFwZG9yb3RhIHVcdTAxN2VrbGF1c2EgZ3JhXHUwMTdlaW5vICR7c3RhdHVzVGV4dH0iLFBlcm1hbGluazoiUGFzdG92aSBudW9yb2RhIixPdmVybGF5czoiUGFwaWxkb21pIHNsdW9rc25pYWkiLCJCYXNlIExheWVyIjoiUGFncmluZGluaXMgc2x1b2tzbmlzIixub0ZJRDoiTmVnYWxpdSBhdG5hdWppbnRpIG9iamVrdG8sIGt1cmlzIG5ldHVyaSBGSUQuIixicm93c2VyTm90U3VwcG9ydGVkOiJKXHUwMTZic1x1MDE3MyBuYXJcdTAxNjF5a2xcdTAxMTcgbmVtb2thIHBhcm9keXRpIHZla3RvcmlcdTAxNzMuIFx1MDE2MGl1byBtZXR1IGdhbGltYSBuYXVkb3RpcyB0b2tpYWlzIHJvZHltbyB2YXJpa2xpYWlzOlxue3JlbmRlcmVyc30iLGNvbW1pdFN1Y2Nlc3M6IldGUyBUcmFuemFrY2lqYTogUEFWWUtPICR7cmVzcG9uc2V9Iixjb21taXRGYWlsZWQ6IldGUyBUcmFuemFrY2lqYTogXHUwMTdkTFVHTyAke3Jlc3BvbnNlfSIsCiJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiTWFzdGVsaXMgPSAxIDogJHtzY2FsZURlbm9tfSIsVzoiViIsRToiUiIsTjoiXHUwMTYwIixTOiJQIixHcmF0aWN1bGU6IlRpbmtsZWxpcyIsbWV0aG9kRGVwcmVjYXRlZDoiXHUwMTYwaXMgbWV0b2RhcyB5cmEgcGFzZW5cdTAxMTlzIGlyIDMuMCB2ZXJzaWpvamUgYnVzIHBhXHUwMTYxYWxpbnRhcy4gUHJhXHUwMTYxb21lIG5hdWRvdGkgJHtuZXdNZXRob2R9LiIsZW5kOiIifSk7T3BlbkxheWVycy5MYXllci5PU009T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkxheWVyLlhZWix7bmFtZToiT3BlblN0cmVldE1hcCIsdXJsOlsiaHR0cDovL2EudGlsZS5vcGVuc3RyZWV0bWFwLm9yZy8ke3p9LyR7eH0vJHt5fS5wbmciLCJodHRwOi8vYi50aWxlLm9wZW5zdHJlZXRtYXAub3JnLyR7en0vJHt4fS8ke3l9LnBuZyIsImh0dHA6Ly9jLnRpbGUub3BlbnN0cmVldG1hcC5vcmcvJHt6fS8ke3h9LyR7eX0ucG5nIl0sYXR0cmlidXRpb246IiZjb3B5OyA8YSBocmVmPSdodHRwOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2NvcHlyaWdodCc+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzIixzcGhlcmljYWxNZXJjYXRvcjohMCx3cmFwRGF0ZUxpbmU6ITAsdGlsZU9wdGlvbnM6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjKXtPcGVuTGF5ZXJzLkxheWVyLlhZWi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy50aWxlT3B0aW9ucz0KT3BlbkxheWVycy5VdGlsLmV4dGVuZCh7Y3Jvc3NPcmlnaW5LZXl3b3JkOiJhbm9ueW1vdXMifSx0aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy50aWxlT3B0aW9ucyl9LGNsb25lOmZ1bmN0aW9uKGEpe251bGw9PWEmJihhPW5ldyBPcGVuTGF5ZXJzLkxheWVyLk9TTSh0aGlzLm5hbWUsdGhpcy51cmwsdGhpcy5nZXRPcHRpb25zKCkpKTtyZXR1cm4gYT1PcGVuTGF5ZXJzLkxheWVyLlhZWi5wcm90b3R5cGUuY2xvbmUuYXBwbHkodGhpcyxbYV0pfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLk9TTSJ9KTtPcGVuTGF5ZXJzLkxhbmcuY2E9e3VuaGFuZGxlZFJlcXVlc3Q6IlJlc3Bvc3RhIGEgcGV0aWNpXHUwMGYzIG5vIGdlc3Rpb25hZGEgJHtzdGF0dXNUZXh0fSIsUGVybWFsaW5rOiJFbmxsYVx1MDBlNyBwZXJtYW5lbnQiLE92ZXJsYXlzOiJDYXBlcyBhZGRpY2lvbmFscyIsIkJhc2UgTGF5ZXIiOiJDYXBhIEJhc2UiLG5vRklEOiJObyBlcyBwb3QgYWN0dWFsaXR6YXIgdW4gZWxlbWVudCBwZXIgYWwgcXVlIG5vIGV4aXN0ZWl4IEZJRC4iLGJyb3dzZXJOb3RTdXBwb3J0ZWQ6IkVsIHNldSBuYXZlZ2Fkb3Igbm8gc3Vwb3J0YSByZW5kZXJpdHphY2lcdTAwZjMgdmVjdG9yaWFsLiBFbHMgcmVuZGVyaXR6YWRvcnMgc3Vwb3J0YXRzIGFjdHVhbG1lbnQgc1x1MDBmM246XG4ke3JlbmRlcmVyc30iLG1pblpvb21MZXZlbEVycm9yOiJMYSBwcm9waWV0YXQgbWluWm9vbUxldmVsIHMnaGEgZCd1dGlsaXR6YXIgbm9tXHUwMGU5cyBhbWIgbGVzIGNhcGVzIHF1ZSB0ZW5lbiBGaXhlZFpvb21MZXZlbHMuIEVsIGZldCBxdWUgdW5hIGNhcGEgd2ZzIGNvbXByb3ZpIG1pblpvb21MZXZlbCBcdTAwZTlzIHVuYSByZWxcdTAwZWRxdWlhIGRlbCBwYXNzYXQuIE5vIHBvZGVtLCBwZXJcdTAwZjIsIGVsaW1pbmFyLWxhIHNlbnNlIHRyZW5jYXIgbGVzIGFwbGljYWNpb25zIGQnT3BlbkxheWVycyBxdWUgZW4gcHVndWluIGRlcGVuZHJlLiBBaXhcdTAwZWQgZG9uY3MgZXN0ZW0gZmVudC1sYSBvYnNvbGV0YSAtLSBsYSBjb21wcm92YWNpXHUwMGYzIG1pblpvb21MZXZlbCBzJ2VsaW1pbmFyXHUwMGUwIGEgbGEgdmVyc2lcdTAwZjMgMy4wLiBGZXUgc2VydmlyIGVscyBwYXJcdTAwZTBtZXRyZXMgbWluL21heCByZXNvbHV0aW9uIGVuIHN1YnN0aXR1Y2lcdTAwZjMsIHRhbCBjb20gZXMgZGVzY3JpdSBhcXVcdTAwZWQ6IGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU2V0dGluZ1pvb21MZXZlbHMiLApjb21taXRTdWNjZXNzOiJUcmFuc2FjY2lcdTAwZjMgV0ZTOiBDT1JSRUNUQSAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJUcmFuc2FjY2lcdTAwZjMgV0ZTOiBIQSBGQUxMQVQgJHtyZXNwb25zZX0iLGdvb2dsZVdhcm5pbmc6IkxhIGNhcGEgR29vZ2xlIG5vIHMnaGEgcG9ndXQgY2FycmVnYXIgY29ycmVjdGFtZW50Ljxicj48YnI+UGVyIGV2aXRhciBhcXVlc3QgbWlzc2F0Z2UsIHNlbGVjY2lvbmV1IHVuYSBub3ZhIENhcGEgQmFzZSBhbCBnZXN0b3IgZGUgY2FwZXMgZGUgbGEgY2FudG9uYWRhIHN1cGVyaW9yIGRyZXRhLjxicj48YnI+UHJvYmFibGVtZW50IGFpeFx1MDBmMiBcdTAwZTlzIGRlZ3V0IGEgcXVlIGwnc2NyaXB0IGRlIGxhIGJpYmxpb3RlY2EgZGUgR29vZ2xlIE1hcHMgbm8gaGEgZXN0YXQgaW5jbFx1MDBmMnMgYSBsYSB2b3N0cmEgcFx1MDBlMGdpbmEsIG8gbm8gY29udFx1MDBlOSBsYSBjbGF1IGRlIGwnQVBJIGNvcnJlY3RhIHBlciBhIGxhIHZvc3RyYSBhZHJlXHUwMGU3YS48YnI+PGJyPkRlc2Vudm9sdXBhZG9yczogUGVyIG9idGVuaXIgY29uc2VsbHMgc29icmUgY29tIGZlciBhbmFyIGFpeFx1MDBmMiwgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9Hb29nbGUnIHRhcmdldD0nX2JsYW5rJz5mXHUwMGU5dSBjbGljIGFxdVx1MDBlZDwvYT4iLApnZXRMYXllcldhcm5pbmc6IlBlciBldml0YXIgYXF1ZXN0IG1pc3NhdGdlLCBzZWxlY2Npb25ldSB1bmEgbm92YSBDYXBhIEJhc2UgYWwgZ2VzdG9yIGRlIGNhcGVzIGRlIGxhIGNhbnRvbmFkYSBzdXBlcmlvciBkcmV0YS48YnI+PGJyPlByb2JhYmxlbWVudCBhaXhcdTAwZjIgXHUwMGU5cyBkZWd1dCBhIHF1ZSBsJ3NjcmlwdCBkZSBsYSBiaWJsaW90ZWNhICR7bGF5ZXJMaWJ9IG5vIGhhIGVzdGF0IGluY2xcdTAwZjJzIGEgbGEgdm9zdHJhIHBcdTAwZTBnaW5hLjxicj48YnI+RGVzZW52b2x1cGFkb3JzOiBQZXIgb2J0ZW5pciBjb25zZWxscyBzb2JyZSBjb20gZmVyIGFuYXIgYWl4XHUwMGYyLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+Zlx1MDBlOXUgY2xpYyBhcXVcdTAwZWQ8L2E+IiwiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6IkVzY2FsYSA9IDEgOiAke3NjYWxlRGVub219IixXOiJPIiwKRToiRSIsTjoiTiIsUzoiUyIsR3JhdGljdWxlOiJSZXRcdTAwZWRjdWxhIixyZXByb2plY3REZXByZWNhdGVkOiJFc3RldSBmZW50IHNlcnZpciBsJ29wY2lcdTAwZjMgJ3JlcHJvamVjdCcgYSBsYSBjYXBhICR7bGF5ZXJOYW1lfS4gQXF1ZXN0YSBvcGNpXHUwMGYzIFx1MDBlOXMgb2Jzb2xldGE6IGVsIHNldSBcdTAwZmFzIGZvdSBjb25jZWJ1dCBwZXIgc3Vwb3J0YXIgbGEgdmlzdWFsaXR6YWNpXHUwMGYzIGRlIGRhZGVzIHNvYnJlIG1hcGVzIGJhc2UgY29tZXJjaWFscywgcGVyXHUwMGYyIGFyYSBhcXVlc3RhIGZ1bmNpb25hbGl0YXQgcydoYXVyaWEgZCdhc3NvbGlyIG1pdGphblx1MDBlN2FudCBlbCBzdXBvcnQgZGUgbGEgcHJvamVjY2lcdTAwZjMgU3BoZXJpY2FsIE1lcmNhdG9yLiBNXHUwMGU5cyBpbmZvcm1hY2lcdTAwZjMgZGlzcG9uaWJsZSBhIGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU3BoZXJpY2FsTWVyY2F0b3IuIixtZXRob2REZXByZWNhdGVkOiJBcXVlc3QgbVx1MDBlOHRvZGUgXHUwMGU5cyBvYnNvbGV0IGkgcydlbGltaW5hclx1MDBlMCBhIGxhIHZlcnNpXHUwMGYzIDMuMC4gU2kgdXMgcGxhdSBmZXUgc2VydmlyIGVtIG1cdTAwZTh0b2RlIGFsdGVybmF0aXUgJHtuZXdNZXRob2R9LiIsCmVuZDoiIn07T3BlbkxheWVycy5TdHJhdGVneS5SZWZyZXNoPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5TdHJhdGVneSx7Zm9yY2U6ITEsaW50ZXJ2YWw6MCx0aW1lcjpudWxsLGFjdGl2YXRlOmZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5TdHJhdGVneS5wcm90b3R5cGUuYWN0aXZhdGUuY2FsbCh0aGlzKTthJiYoITA9PT10aGlzLmxheWVyLnZpc2liaWxpdHkmJnRoaXMuc3RhcnQoKSx0aGlzLmxheWVyLmV2ZW50cy5vbih7dmlzaWJpbGl0eWNoYW5nZWQ6dGhpcy5yZXNldCxzY29wZTp0aGlzfSkpO3JldHVybiBhfSxkZWFjdGl2YXRlOmZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5TdHJhdGVneS5wcm90b3R5cGUuZGVhY3RpdmF0ZS5jYWxsKHRoaXMpO2EmJih0aGlzLnN0b3AoKSx0aGlzLmxheWVyLmV2ZW50cy51bih7dmlzaWJpbGl0eWNoYW5nZWQ6dGhpcy5yZXNldCxzY29wZTp0aGlzfSkpO3JldHVybiBhfSxyZXNldDpmdW5jdGlvbigpeyEwPT09dGhpcy5sYXllci52aXNpYmlsaXR5Pwp0aGlzLnN0YXJ0KCk6dGhpcy5zdG9wKCl9LHN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5pbnRlcnZhbCYmKCJudW1iZXIiPT09dHlwZW9mIHRoaXMuaW50ZXJ2YWwmJjA8dGhpcy5pbnRlcnZhbCkmJih0aGlzLnRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbChPcGVuTGF5ZXJzLkZ1bmN0aW9uLmJpbmQodGhpcy5yZWZyZXNoLHRoaXMpLHRoaXMuaW50ZXJ2YWwpKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMubGF5ZXImJih0aGlzLmxheWVyLnJlZnJlc2gmJiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLmxheWVyLnJlZnJlc2gpJiZ0aGlzLmxheWVyLnJlZnJlc2goe2ZvcmNlOnRoaXMuZm9yY2V9KX0sc3RvcDpmdW5jdGlvbigpe251bGwhPT10aGlzLnRpbWVyJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy50aW1lciksdGhpcy50aW1lcj1udWxsKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5TdHJhdGVneS5SZWZyZXNoIn0pO09wZW5MYXllcnMuTGF5ZXIuQXJjR0lTOTNSZXN0PU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllci5HcmlkLHtERUZBVUxUX1BBUkFNUzp7Zm9ybWF0OiJwbmcifSxpc0Jhc2VMYXllcjohMCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPVtdLGM9T3BlbkxheWVycy5VdGlsLnVwcGVyQ2FzZU9iamVjdChjKTtlLnB1c2goYSxiLGMsZCk7T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsZSk7T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHModGhpcy5wYXJhbXMsT3BlbkxheWVycy5VdGlsLnVwcGVyQ2FzZU9iamVjdCh0aGlzLkRFRkFVTFRfUEFSQU1TKSk7aWYodGhpcy5wYXJhbXMuVFJBTlNQQVJFTlQmJiJ0cnVlIj09dGhpcy5wYXJhbXMuVFJBTlNQQVJFTlQudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpKXtpZihudWxsPT1kfHwhZC5pc0Jhc2VMYXllcil0aGlzLmlzQmFzZUxheWVyPSExOyJqcGciPT10aGlzLnBhcmFtcy5GT1JNQVQmJgoodGhpcy5wYXJhbXMuRk9STUFUPU9wZW5MYXllcnMuVXRpbC5hbHBoYUhhY2soKT8iZ2lmIjoicG5nIil9fSxjbG9uZTpmdW5jdGlvbihhKXtudWxsPT1hJiYoYT1uZXcgT3BlbkxheWVycy5MYXllci5BcmNHSVM5M1Jlc3QodGhpcy5uYW1lLHRoaXMudXJsLHRoaXMucGFyYW1zLHRoaXMuZ2V0T3B0aW9ucygpKSk7cmV0dXJuIGE9T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5jbG9uZS5hcHBseSh0aGlzLFthXSl9LGdldFVSTDpmdW5jdGlvbihhKXt2YXIgYT10aGlzLmFkanVzdEJvdW5kcyhhKSxiPXRoaXMucHJvamVjdGlvbi5nZXRDb2RlKCkuc3BsaXQoIjoiKSxiPWJbYi5sZW5ndGgtMV0sYz10aGlzLmdldEltYWdlU2l6ZShhKSxhPXtCQk9YOmEudG9CQk9YKCksU0laRTpjLncrIiwiK2MuaCxGOiJpbWFnZSIsQkJPWFNSOmIsSU1BR0VTUjpifTtpZih0aGlzLmxheWVyRGVmcyl7dmFyIGI9W10sZDtmb3IoZCBpbiB0aGlzLmxheWVyRGVmcyl0aGlzLmxheWVyRGVmcy5oYXNPd25Qcm9wZXJ0eShkKSYmCnRoaXMubGF5ZXJEZWZzW2RdJiYoYi5wdXNoKGQpLGIucHVzaCgiOiIpLGIucHVzaCh0aGlzLmxheWVyRGVmc1tkXSksYi5wdXNoKCI7IikpOzA8Yi5sZW5ndGgmJihhLkxBWUVSREVGUz1iLmpvaW4oIiIpKX1yZXR1cm4gdGhpcy5nZXRGdWxsUmVxdWVzdFN0cmluZyhhKX0sc2V0TGF5ZXJGaWx0ZXI6ZnVuY3Rpb24oYSxiKXt0aGlzLmxheWVyRGVmc3x8KHRoaXMubGF5ZXJEZWZzPXt9KTtiP3RoaXMubGF5ZXJEZWZzW2FdPWI6ZGVsZXRlIHRoaXMubGF5ZXJEZWZzW2FdfSxjbGVhckxheWVyRmlsdGVyOmZ1bmN0aW9uKGEpe2E/ZGVsZXRlIHRoaXMubGF5ZXJEZWZzW2FdOmRlbGV0ZSB0aGlzLmxheWVyRGVmc30sbWVyZ2VOZXdQYXJhbXM6ZnVuY3Rpb24oYSl7YT1bT3BlbkxheWVycy5VdGlsLnVwcGVyQ2FzZU9iamVjdChhKV07cmV0dXJuIE9wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUubWVyZ2VOZXdQYXJhbXMuYXBwbHkodGhpcyxhKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5BcmNHSVM5M1Jlc3QifSk7T3BlbkxheWVycy5IYW5kbGVyLkhvdmVyPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5IYW5kbGVyLHtkZWxheTo1MDAscGl4ZWxUb2xlcmFuY2U6bnVsbCxzdG9wTW92ZTohMSxweDpudWxsLHRpbWVySWQ6bnVsbCxtb3VzZW1vdmU6ZnVuY3Rpb24oYSl7dGhpcy5wYXNzZXNUb2xlcmFuY2UoYS54eSkmJih0aGlzLmNsZWFyVGltZXIoKSx0aGlzLmNhbGxiYWNrKCJtb3ZlIixbYV0pLHRoaXMucHg9YS54eSxhPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe30sYSksdGhpcy50aW1lcklkPXdpbmRvdy5zZXRUaW1lb3V0KE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZCh0aGlzLmRlbGF5ZWRDYWxsLHRoaXMsYSksdGhpcy5kZWxheSkpO3JldHVybiF0aGlzLnN0b3BNb3ZlfSxtb3VzZW91dDpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlV0aWwubW91c2VMZWZ0KGEsdGhpcy5tYXAudmlld1BvcnREaXYpJiYodGhpcy5jbGVhclRpbWVyKCksdGhpcy5jYWxsYmFjaygibW92ZSIsW2FdKSk7cmV0dXJuITB9LApwYXNzZXNUb2xlcmFuY2U6ZnVuY3Rpb24oYSl7dmFyIGI9ITA7dGhpcy5waXhlbFRvbGVyYW5jZSYmdGhpcy5weCYmTWF0aC5zcXJ0KE1hdGgucG93KHRoaXMucHgueC1hLngsMikrTWF0aC5wb3codGhpcy5weC55LWEueSwyKSk8dGhpcy5waXhlbFRvbGVyYW5jZSYmKGI9ITEpO3JldHVybiBifSxjbGVhclRpbWVyOmZ1bmN0aW9uKCl7bnVsbCE9dGhpcy50aW1lcklkJiYod2luZG93LmNsZWFyVGltZW91dCh0aGlzLnRpbWVySWQpLHRoaXMudGltZXJJZD1udWxsKX0sZGVsYXllZENhbGw6ZnVuY3Rpb24oYSl7dGhpcy5jYWxsYmFjaygicGF1c2UiLFthXSl9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgYT0hMTtPcGVuTGF5ZXJzLkhhbmRsZXIucHJvdG90eXBlLmRlYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpJiYodGhpcy5jbGVhclRpbWVyKCksYT0hMCk7cmV0dXJuIGF9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuSGFuZGxlci5Ib3ZlciJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuR2V0RmVhdHVyZT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbCx7cHJvdG9jb2w6bnVsbCxtdWx0aXBsZUtleTpudWxsLHRvZ2dsZUtleTpudWxsLG1vZGlmaWVyczpudWxsLG11bHRpcGxlOiExLGNsaWNrOiEwLHNpbmdsZTohMCxjbGlja291dDohMCx0b2dnbGU6ITEsY2xpY2tUb2xlcmFuY2U6NSxob3ZlcjohMSxib3g6ITEsbWF4RmVhdHVyZXM6MTAsZmVhdHVyZXM6bnVsbCxob3ZlckZlYXR1cmU6bnVsbCxoYW5kbGVyczpudWxsLGhvdmVyUmVzcG9uc2U6bnVsbCxmaWx0ZXJUeXBlOk9wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwuQkJPWCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe2EuaGFuZGxlck9wdGlvbnM9YS5oYW5kbGVyT3B0aW9uc3x8e307T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKTt0aGlzLmZlYXR1cmVzPXt9O3RoaXMuaGFuZGxlcnM9e307dGhpcy5jbGljayYmKHRoaXMuaGFuZGxlcnMuY2xpY2s9Cm5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuQ2xpY2sodGhpcyx7Y2xpY2s6dGhpcy5zZWxlY3RDbGlja30sdGhpcy5oYW5kbGVyT3B0aW9ucy5jbGlja3x8e30pKTt0aGlzLmJveCYmKHRoaXMuaGFuZGxlcnMuYm94PW5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuQm94KHRoaXMse2RvbmU6dGhpcy5zZWxlY3RCb3h9LE9wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcy5oYW5kbGVyT3B0aW9ucy5ib3gse2JveERpdkNsYXNzTmFtZToib2xIYW5kbGVyQm94U2VsZWN0RmVhdHVyZSJ9KSkpO3RoaXMuaG92ZXImJih0aGlzLmhhbmRsZXJzLmhvdmVyPW5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuSG92ZXIodGhpcyx7bW92ZTp0aGlzLmNhbmNlbEhvdmVyLHBhdXNlOnRoaXMuc2VsZWN0SG92ZXJ9LE9wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcy5oYW5kbGVyT3B0aW9ucy5ob3Zlcix7ZGVsYXk6MjUwLHBpeGVsVG9sZXJhbmNlOjJ9KSkpfSxhY3RpdmF0ZTpmdW5jdGlvbigpe2lmKCF0aGlzLmFjdGl2ZSlmb3IodmFyIGEgaW4gdGhpcy5oYW5kbGVycyl0aGlzLmhhbmRsZXJzW2FdLmFjdGl2YXRlKCk7CnJldHVybiBPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmFjdGl2YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe2lmKHRoaXMuYWN0aXZlKWZvcih2YXIgYSBpbiB0aGlzLmhhbmRsZXJzKXRoaXMuaGFuZGxlcnNbYV0uZGVhY3RpdmF0ZSgpO3JldHVybiBPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzZWxlY3RDbGljazpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnBpeGVsVG9Cb3VuZHMoYS54eSk7dGhpcy5zZXRNb2RpZmllcnMoYSk7dGhpcy5yZXF1ZXN0KGIse3NpbmdsZTp0aGlzLnNpbmdsZX0pfSxzZWxlY3RCb3g6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoYSBpbnN0YW5jZW9mIE9wZW5MYXllcnMuQm91bmRzKWI9dGhpcy5tYXAuZ2V0TG9uTGF0RnJvbVBpeGVsKHt4OmEubGVmdCx5OmEuYm90dG9tfSksYT10aGlzLm1hcC5nZXRMb25MYXRGcm9tUGl4ZWwoe3g6YS5yaWdodCwKeTphLnRvcH0pLGI9bmV3IE9wZW5MYXllcnMuQm91bmRzKGIubG9uLGIubGF0LGEubG9uLGEubGF0KTtlbHNle2lmKHRoaXMuY2xpY2spcmV0dXJuO2I9dGhpcy5waXhlbFRvQm91bmRzKGEpfXRoaXMuc2V0TW9kaWZpZXJzKHRoaXMuaGFuZGxlcnMuYm94LmRyYWdIYW5kbGVyLmV2dCk7dGhpcy5yZXF1ZXN0KGIpfSxzZWxlY3RIb3ZlcjpmdW5jdGlvbihhKXthPXRoaXMucGl4ZWxUb0JvdW5kcyhhLnh5KTt0aGlzLnJlcXVlc3QoYSx7c2luZ2xlOiEwLGhvdmVyOiEwfSl9LGNhbmNlbEhvdmVyOmZ1bmN0aW9uKCl7dGhpcy5ob3ZlclJlc3BvbnNlJiYodGhpcy5wcm90b2NvbC5hYm9ydCh0aGlzLmhvdmVyUmVzcG9uc2UpLHRoaXMuaG92ZXJSZXNwb25zZT1udWxsLE9wZW5MYXllcnMuRWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm1hcC52aWV3UG9ydERpdiwib2xDdXJzb3JXYWl0IikpfSxyZXF1ZXN0OmZ1bmN0aW9uKGEsYil7dmFyIGI9Ynx8e30sYz1uZXcgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbCh7dHlwZTp0aGlzLmZpbHRlclR5cGUsCnZhbHVlOmF9KTtPcGVuTGF5ZXJzLkVsZW1lbnQuYWRkQ2xhc3ModGhpcy5tYXAudmlld1BvcnREaXYsIm9sQ3Vyc29yV2FpdCIpO2M9dGhpcy5wcm90b2NvbC5yZWFkKHttYXhGZWF0dXJlczohMD09Yi5zaW5nbGU/dGhpcy5tYXhGZWF0dXJlczp2b2lkIDAsZmlsdGVyOmMsY2FsbGJhY2s6ZnVuY3Rpb24oYyl7Yy5zdWNjZXNzKCkmJihjLmZlYXR1cmVzLmxlbmd0aD8hMD09Yi5zaW5nbGU/dGhpcy5zZWxlY3RCZXN0RmVhdHVyZShjLmZlYXR1cmVzLGEuZ2V0Q2VudGVyTG9uTGF0KCksYik6dGhpcy5zZWxlY3QoYy5mZWF0dXJlcyk6Yi5ob3Zlcj90aGlzLmhvdmVyU2VsZWN0KCk6KHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiY2xpY2tvdXQiKSx0aGlzLmNsaWNrb3V0JiZ0aGlzLnVuc2VsZWN0QWxsKCkpKTtPcGVuTGF5ZXJzLkVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5tYXAudmlld1BvcnREaXYsIm9sQ3Vyc29yV2FpdCIpfSxzY29wZTp0aGlzfSk7ITA9PWIuaG92ZXImJih0aGlzLmhvdmVyUmVzcG9uc2U9CmMpfSxzZWxlY3RCZXN0RmVhdHVyZTpmdW5jdGlvbihhLGIsYyl7Yz1jfHx7fTtpZihhLmxlbmd0aCl7Zm9yKHZhciBiPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGIubG9uLGIubGF0KSxkLGUsZixnPU51bWJlci5NQVhfVkFMVUUsaD0wO2g8YS5sZW5ndGgmJiEoZD1hW2hdLGQuZ2VvbWV0cnkmJihmPWIuZGlzdGFuY2VUbyhkLmdlb21ldHJ5LHtlZGdlOiExfSksZjxnJiYoZz1mLGU9ZCwwPT1nKSkpOysraCk7ITA9PWMuaG92ZXI/dGhpcy5ob3ZlclNlbGVjdChlKTp0aGlzLnNlbGVjdChlfHxhKX19LHNldE1vZGlmaWVyczpmdW5jdGlvbihhKXt0aGlzLm1vZGlmaWVycz17bXVsdGlwbGU6dGhpcy5tdWx0aXBsZXx8dGhpcy5tdWx0aXBsZUtleSYmYVt0aGlzLm11bHRpcGxlS2V5XSx0b2dnbGU6dGhpcy50b2dnbGV8fHRoaXMudG9nZ2xlS2V5JiZhW3RoaXMudG9nZ2xlS2V5XX19LHNlbGVjdDpmdW5jdGlvbihhKXshdGhpcy5tb2RpZmllcnMubXVsdGlwbGUmJiF0aGlzLm1vZGlmaWVycy50b2dnbGUmJgp0aGlzLnVuc2VsZWN0QWxsKCk7T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSl8fChhPVthXSk7dmFyIGI9dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJiZWZvcmVmZWF0dXJlc3NlbGVjdGVkIix7ZmVhdHVyZXM6YX0pO2lmKCExIT09Yil7Zm9yKHZhciBjPVtdLGQsZT0wLGY9YS5sZW5ndGg7ZTxmOysrZSlkPWFbZV0sdGhpcy5mZWF0dXJlc1tkLmZpZHx8ZC5pZF0/dGhpcy5tb2RpZmllcnMudG9nZ2xlJiZ0aGlzLnVuc2VsZWN0KHRoaXMuZmVhdHVyZXNbZC5maWR8fGQuaWRdKTooYj10aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImJlZm9yZWZlYXR1cmVzZWxlY3RlZCIse2ZlYXR1cmU6ZH0pLCExIT09YiYmKHRoaXMuZmVhdHVyZXNbZC5maWR8fGQuaWRdPWQsYy5wdXNoKGQpLHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiZmVhdHVyZXNlbGVjdGVkIix7ZmVhdHVyZTpkfSkpKTt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImZlYXR1cmVzc2VsZWN0ZWQiLHtmZWF0dXJlczpjfSl9fSwKaG92ZXJTZWxlY3Q6ZnVuY3Rpb24oYSl7dmFyIGI9YT9hLmZpZHx8YS5pZDpudWxsLGM9dGhpcy5ob3ZlckZlYXR1cmU/dGhpcy5ob3ZlckZlYXR1cmUuZmlkfHx0aGlzLmhvdmVyRmVhdHVyZS5pZDpudWxsO2MmJmMhPWImJih0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoIm91dGZlYXR1cmUiLHtmZWF0dXJlOnRoaXMuaG92ZXJGZWF0dXJlfSksdGhpcy5ob3ZlckZlYXR1cmU9bnVsbCk7YiYmYiE9YyYmKHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiaG92ZXJmZWF0dXJlIix7ZmVhdHVyZTphfSksdGhpcy5ob3ZlckZlYXR1cmU9YSl9LHVuc2VsZWN0OmZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLmZlYXR1cmVzW2EuZmlkfHxhLmlkXTt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImZlYXR1cmV1bnNlbGVjdGVkIix7ZmVhdHVyZTphfSl9LHVuc2VsZWN0QWxsOmZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuZmVhdHVyZXMpdGhpcy51bnNlbGVjdCh0aGlzLmZlYXR1cmVzW2FdKX0sCnNldE1hcDpmdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gdGhpcy5oYW5kbGVycyl0aGlzLmhhbmRsZXJzW2JdLnNldE1hcChhKTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLnNldE1hcC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHBpeGVsVG9Cb3VuZHM6ZnVuY3Rpb24oYSl7dmFyIGI9YS5hZGQoLXRoaXMuY2xpY2tUb2xlcmFuY2UvMix0aGlzLmNsaWNrVG9sZXJhbmNlLzIpLGE9YS5hZGQodGhpcy5jbGlja1RvbGVyYW5jZS8yLC10aGlzLmNsaWNrVG9sZXJhbmNlLzIpLGI9dGhpcy5tYXAuZ2V0TG9uTGF0RnJvbVBpeGVsKGIpLGE9dGhpcy5tYXAuZ2V0TG9uTGF0RnJvbVBpeGVsKGEpO3JldHVybiBuZXcgT3BlbkxheWVycy5Cb3VuZHMoYi5sb24sYi5sYXQsYS5sb24sYS5sYXQpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuR2V0RmVhdHVyZSJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5RdWVyeVN0cmluZ0ZpbHRlcj1mdW5jdGlvbigpe3ZhciBhPXt9O2FbT3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5FUVVBTF9UT109ImVxIjthW09wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uTk9UX0VRVUFMX1RPXT0ibmUiO2FbT3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5MRVNTX1RIQU5dPSJsdCI7YVtPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLkxFU1NfVEhBTl9PUl9FUVVBTF9UT109Imx0ZSI7YVtPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLkdSRUFURVJfVEhBTl09Imd0IjthW09wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uR1JFQVRFUl9USEFOX09SX0VRVUFMX1RPXT0iZ3RlIjthW09wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uTElLRV09ImlsaWtlIjtyZXR1cm4gT3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdCx7d2lsZGNhcmRlZDohMSxzcnNJbkJCT1g6ITEsd3JpdGU6ZnVuY3Rpb24oYiwKYyl7dmFyIGM9Y3x8e30sZD1iLkNMQVNTX05BTUUsZD1kLnN1YnN0cmluZyhkLmxhc3RJbmRleE9mKCIuIikrMSk7c3dpdGNoKGQpe2Nhc2UgIlNwYXRpYWwiOnN3aXRjaChiLnR5cGUpe2Nhc2UgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5CQk9YOmMuYmJveD1iLnZhbHVlLnRvQXJyYXkoKTt0aGlzLnNyc0luQkJPWCYmYi5wcm9qZWN0aW9uJiZjLmJib3gucHVzaChiLnByb2plY3Rpb24uZ2V0Q29kZSgpKTticmVhaztjYXNlIE9wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwuRFdJVEhJTjpjLnRvbGVyYW5jZT1iLmRpc3RhbmNlO2Nhc2UgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5XSVRISU46Yy5sb249Yi52YWx1ZS54O2MubGF0PWIudmFsdWUueTticmVhaztkZWZhdWx0Ok9wZW5MYXllcnMuQ29uc29sZS53YXJuKCJVbmtub3duIHNwYXRpYWwgZmlsdGVyIHR5cGUgIitiLnR5cGUpfWJyZWFrO2Nhc2UgIkNvbXBhcmlzb24iOmQ9YVtiLnR5cGVdO2lmKHZvaWQgMCE9PWQpe3ZhciBlPQpiLnZhbHVlO2IudHlwZT09T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5MSUtFJiYoZT1lLnJlcGxhY2UoLyUvZywiXFwlIiksZT1lLnJlcGxhY2UoL1xcXFxcLihcKik/L2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9hOiJcXFxcXyJ9KSxlPWUucmVwbGFjZSgvXFxcXFwuXCovZywiXFxcXCUiKSxlPWUucmVwbGFjZSgvKFxcKT9cLihcKik/L2csZnVuY3Rpb24oYSxiLGMpe3JldHVybiBifHxjP2E6Il8ifSksZT1lLnJlcGxhY2UoLyhcXCk/XC5cKi9nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/YToiJSJ9KSxlPWUucmVwbGFjZSgvXFxcLi9nLCIuIiksZT1lLnJlcGxhY2UoLyhcXCk/XFxcKi9nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/YToiKiJ9KSx0aGlzLndpbGRjYXJkZWQmJihlPSIlIitlKyIlIikpO2NbYi5wcm9wZXJ0eSsiX18iK2RdPWU7Yy5xdWVyeWFibGU9Yy5xdWVyeWFibGV8fFtdO2MucXVlcnlhYmxlLnB1c2goYi5wcm9wZXJ0eSl9ZWxzZSBPcGVuTGF5ZXJzLkNvbnNvbGUud2FybigiVW5rbm93biBjb21wYXJpc29uIGZpbHRlciB0eXBlICIrCmIudHlwZSk7YnJlYWs7Y2FzZSAiTG9naWNhbCI6aWYoYi50eXBlPT09T3BlbkxheWVycy5GaWx0ZXIuTG9naWNhbC5BTkQpe2Q9MDtmb3IoZT1iLmZpbHRlcnMubGVuZ3RoO2Q8ZTtkKyspYz10aGlzLndyaXRlKGIuZmlsdGVyc1tkXSxjKX1lbHNlIE9wZW5MYXllcnMuQ29uc29sZS53YXJuKCJVbnN1cHBvcnRlZCBsb2dpY2FsIGZpbHRlciB0eXBlICIrYi50eXBlKTticmVhaztkZWZhdWx0Ok9wZW5MYXllcnMuQ29uc29sZS53YXJuKCJVbmtub3duIGZpbHRlciB0eXBlICIrZCl9cmV0dXJuIGN9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LlF1ZXJ5U3RyaW5nRmlsdGVyIn0pfSgpO09wZW5MYXllcnMuQ29udHJvbC5Nb3VzZVBvc2l0aW9uPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHthdXRvQWN0aXZhdGU6ITAsZWxlbWVudDpudWxsLHByZWZpeDoiIixzZXBhcmF0b3I6IiwgIixzdWZmaXg6IiIsbnVtRGlnaXRzOjUsZ3JhbnVsYXJpdHk6MTAsZW1wdHlTdHJpbmc6bnVsbCxsYXN0WHk6bnVsbCxkaXNwbGF5UHJvamVjdGlvbjpudWxsLGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmRlYWN0aXZhdGUoKTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxhY3RpdmF0ZTpmdW5jdGlvbigpe3JldHVybiBPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmFjdGl2YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKT8odGhpcy5tYXAuZXZlbnRzLnJlZ2lzdGVyKCJtb3VzZW1vdmUiLHRoaXMsdGhpcy5yZWRyYXcpLHRoaXMubWFwLmV2ZW50cy5yZWdpc3RlcigibW91c2VvdXQiLHRoaXMsdGhpcy5yZXNldCksCnRoaXMucmVkcmF3KCksITApOiExfSxkZWFjdGl2YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIE9wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZGVhY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk/KHRoaXMubWFwLmV2ZW50cy51bnJlZ2lzdGVyKCJtb3VzZW1vdmUiLHRoaXMsdGhpcy5yZWRyYXcpLHRoaXMubWFwLmV2ZW50cy51bnJlZ2lzdGVyKCJtb3VzZW91dCIsdGhpcyx0aGlzLnJlc2V0KSx0aGlzLmVsZW1lbnQuaW5uZXJIVE1MPSIiLCEwKTohMX0sZHJhdzpmdW5jdGlvbigpe09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZHJhdy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5lbGVtZW50fHwodGhpcy5kaXYubGVmdD0iIix0aGlzLmRpdi50b3A9IiIsdGhpcy5lbGVtZW50PXRoaXMuZGl2KTtyZXR1cm4gdGhpcy5kaXZ9LHJlZHJhdzpmdW5jdGlvbihhKXt2YXIgYjtpZihudWxsPT1hKXRoaXMucmVzZXQoKTtlbHNlIGlmKG51bGw9PXRoaXMubGFzdFh5fHxNYXRoLmFicyhhLnh5LngtCnRoaXMubGFzdFh5LngpPnRoaXMuZ3JhbnVsYXJpdHl8fE1hdGguYWJzKGEueHkueS10aGlzLmxhc3RYeS55KT50aGlzLmdyYW51bGFyaXR5KXRoaXMubGFzdFh5PWEueHk7ZWxzZSBpZihiPXRoaXMubWFwLmdldExvbkxhdEZyb21QaXhlbChhLnh5KSl0aGlzLmRpc3BsYXlQcm9qZWN0aW9uJiZiLnRyYW5zZm9ybSh0aGlzLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCksdGhpcy5kaXNwbGF5UHJvamVjdGlvbiksdGhpcy5sYXN0WHk9YS54eSxhPXRoaXMuZm9ybWF0T3V0cHV0KGIpLGEhPXRoaXMuZWxlbWVudC5pbm5lckhUTUwmJih0aGlzLmVsZW1lbnQuaW5uZXJIVE1MPWEpfSxyZXNldDpmdW5jdGlvbigpe251bGwhPXRoaXMuZW1wdHlTdHJpbmcmJih0aGlzLmVsZW1lbnQuaW5uZXJIVE1MPXRoaXMuZW1wdHlTdHJpbmcpfSxmb3JtYXRPdXRwdXQ6ZnVuY3Rpb24oYSl7dmFyIGI9cGFyc2VJbnQodGhpcy5udW1EaWdpdHMpO3JldHVybiB0aGlzLnByZWZpeCthLmxvbi50b0ZpeGVkKGIpKwp0aGlzLnNlcGFyYXRvcithLmxhdC50b0ZpeGVkKGIpK3RoaXMuc3VmZml4fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuTW91c2VQb3NpdGlvbiJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuR2VvbG9jYXRlPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHtnZW9sb2NhdGlvbjpudWxsLGF2YWlsYWJsZToiZ2VvbG9jYXRpb24iaW4gbmF2aWdhdG9yLGJpbmQ6ITAsd2F0Y2g6ITEsZ2VvbG9jYXRpb25PcHRpb25zOm51bGwsZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZGVhY3RpdmF0ZSgpO09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGFjdGl2YXRlOmZ1bmN0aW9uKCl7dGhpcy5hdmFpbGFibGUmJiF0aGlzLmdlb2xvY2F0aW9uJiYodGhpcy5nZW9sb2NhdGlvbj1uYXZpZ2F0b3IuZ2VvbG9jYXRpb24pO3JldHVybiF0aGlzLmdlb2xvY2F0aW9uPyh0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvY2F0aW9udW5jYXBhYmxlIiksITEpOk9wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpPyh0aGlzLndhdGNoP3RoaXMud2F0Y2hJZD0KdGhpcy5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZCh0aGlzLmdlb2xvY2F0ZSx0aGlzKSxPcGVuTGF5ZXJzLkZ1bmN0aW9uLmJpbmQodGhpcy5mYWlsdXJlLHRoaXMpLHRoaXMuZ2VvbG9jYXRpb25PcHRpb25zKTp0aGlzLmdldEN1cnJlbnRMb2NhdGlvbigpLCEwKTohMX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3RoaXMuYWN0aXZlJiZudWxsIT09dGhpcy53YXRjaElkJiZ0aGlzLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2godGhpcy53YXRjaElkKTtyZXR1cm4gT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZWFjdGl2YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZ2VvbG9jYXRlOmZ1bmN0aW9uKGEpe3ZhciBiPShuZXcgT3BlbkxheWVycy5Mb25MYXQoYS5jb29yZHMubG9uZ2l0dWRlLGEuY29vcmRzLmxhdGl0dWRlKSkudHJhbnNmb3JtKG5ldyBPcGVuTGF5ZXJzLlByb2plY3Rpb24oIkVQU0c6NDMyNiIpLHRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSk7CnRoaXMuYmluZCYmdGhpcy5tYXAuc2V0Q2VudGVyKGIpO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgibG9jYXRpb251cGRhdGVkIix7cG9zaXRpb246YSxwb2ludDpuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChiLmxvbixiLmxhdCl9KX0sZ2V0Q3VycmVudExvY2F0aW9uOmZ1bmN0aW9uKCl7aWYoIXRoaXMuYWN0aXZlfHx0aGlzLndhdGNoKXJldHVybiExO3RoaXMuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZCh0aGlzLmdlb2xvY2F0ZSx0aGlzKSxPcGVuTGF5ZXJzLkZ1bmN0aW9uLmJpbmQodGhpcy5mYWlsdXJlLHRoaXMpLHRoaXMuZ2VvbG9jYXRpb25PcHRpb25zKTtyZXR1cm4hMH0sZmFpbHVyZTpmdW5jdGlvbihhKXt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvY2F0aW9uZmFpbGVkIix7ZXJyb3I6YX0pfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuR2VvbG9jYXRlIn0pO09wZW5MYXllcnMuVGlsZS5VVEZHcmlkPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5UaWxlLHt1cmw6bnVsbCx1dGZncmlkUmVzb2x1dGlvbjoyLGpzb246bnVsbCxmb3JtYXQ6bnVsbCxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5jbGVhcigpO09wZW5MYXllcnMuVGlsZS5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGRyYXc6ZnVuY3Rpb24oKXt2YXIgYT1PcGVuTGF5ZXJzLlRpbGUucHJvdG90eXBlLmRyYXcuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKGEpaWYodGhpcy5pc0xvYWRpbmc/KHRoaXMuYWJvcnRMb2FkaW5nKCksdGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJyZWxvYWQiKSk6KHRoaXMuaXNMb2FkaW5nPSEwLHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgibG9hZHN0YXJ0IikpLHRoaXMudXJsPXRoaXMubGF5ZXIuZ2V0VVJMKHRoaXMuYm91bmRzKSx0aGlzLmxheWVyLnVzZUpTT05QKXt2YXIgYj1uZXcgT3BlbkxheWVycy5Qcm90b2NvbC5TY3JpcHQoe3VybDp0aGlzLnVybCwKY2FsbGJhY2s6ZnVuY3Rpb24oYSl7dGhpcy5pc0xvYWRpbmc9ITE7dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJsb2FkZW5kIik7dGhpcy5qc29uPWEuZGF0YX0sc2NvcGU6dGhpc30pO2IucmVhZCgpO3RoaXMucmVxdWVzdD1ifWVsc2UgdGhpcy5yZXF1ZXN0PU9wZW5MYXllcnMuUmVxdWVzdC5HRVQoe3VybDp0aGlzLnVybCxjYWxsYmFjazpmdW5jdGlvbihhKXt0aGlzLmlzTG9hZGluZz0hMTt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvYWRlbmQiKTsyMDA9PT1hLnN0YXR1cyYmdGhpcy5wYXJzZURhdGEoYS5yZXNwb25zZVRleHQpfSxzY29wZTp0aGlzfSk7ZWxzZSB0aGlzLnVubG9hZCgpO3JldHVybiBhfSxhYm9ydExvYWRpbmc6ZnVuY3Rpb24oKXt0aGlzLnJlcXVlc3QmJih0aGlzLnJlcXVlc3QuYWJvcnQoKSxkZWxldGUgdGhpcy5yZXF1ZXN0KTt0aGlzLmlzTG9hZGluZz0hMX0sZ2V0RmVhdHVyZUluZm86ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsO2lmKHRoaXMuanNvbil7dmFyIGQ9CnRoaXMuZ2V0RmVhdHVyZUlkKGEsYik7bnVsbCE9PWQmJihjPXtpZDpkLGRhdGE6dGhpcy5qc29uLmRhdGFbZF19KX1yZXR1cm4gY30sZ2V0RmVhdHVyZUlkOmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtpZih0aGlzLmpzb24pe3ZhciBkPXRoaXMudXRmZ3JpZFJlc29sdXRpb24sZD10aGlzLmpzb24uZ3JpZFtNYXRoLmZsb29yKGIvZCldLmNoYXJDb2RlQXQoTWF0aC5mbG9vcihhL2QpKSxkPXRoaXMuaW5kZXhGcm9tQ2hhckNvZGUoZCksZT10aGlzLmpzb24ua2V5czshaXNOYU4oZCkmJmQgaW4gZSYmKGM9ZVtkXSl9cmV0dXJuIGN9LGluZGV4RnJvbUNoYXJDb2RlOmZ1bmN0aW9uKGEpezkzPD1hJiZhLS07MzU8PWEmJmEtLTtyZXR1cm4gYS0zMn0scGFyc2VEYXRhOmZ1bmN0aW9uKGEpe3RoaXMuZm9ybWF0fHwodGhpcy5mb3JtYXQ9bmV3IE9wZW5MYXllcnMuRm9ybWF0LkpTT04pO3RoaXMuanNvbj10aGlzLmZvcm1hdC5yZWFkKGEpfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuanNvbj0KbnVsbH0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5UaWxlLlVURkdyaWQifSk7T3BlbkxheWVycy5Qcm90b2NvbC5IVFRQPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Qcm90b2NvbCx7dXJsOm51bGwsaGVhZGVyczpudWxsLHBhcmFtczpudWxsLGNhbGxiYWNrOm51bGwsc2NvcGU6bnVsbCxyZWFkV2l0aFBPU1Q6ITEsdXBkYXRlV2l0aFBPU1Q6ITEsZGVsZXRlV2l0aFBPU1Q6ITEsd2lsZGNhcmRlZDohMSxzcnNJbkJCT1g6ITEsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXthPWF8fHt9O3RoaXMucGFyYW1zPXt9O3RoaXMuaGVhZGVycz17fTtPcGVuTGF5ZXJzLlByb3RvY29sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZighdGhpcy5maWx0ZXJUb1BhcmFtcyYmT3BlbkxheWVycy5Gb3JtYXQuUXVlcnlTdHJpbmdGaWx0ZXIpe3ZhciBiPW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5RdWVyeVN0cmluZ0ZpbHRlcih7d2lsZGNhcmRlZDp0aGlzLndpbGRjYXJkZWQsc3JzSW5CQk9YOnRoaXMuc3JzSW5CQk9YfSk7dGhpcy5maWx0ZXJUb1BhcmFtcz0KZnVuY3Rpb24oYSxkKXtyZXR1cm4gYi53cml0ZShhLGQpfX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmhlYWRlcnM9dGhpcy5wYXJhbXM9bnVsbDtPcGVuTGF5ZXJzLlByb3RvY29sLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMpfSxyZWFkOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuUHJvdG9jb2wucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2E9YXx8e307YS5wYXJhbXM9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYS5wYXJhbXMsdGhpcy5vcHRpb25zLnBhcmFtcyk7YT1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLHRoaXMub3B0aW9ucyk7YS5maWx0ZXImJnRoaXMuZmlsdGVyVG9QYXJhbXMmJihhLnBhcmFtcz10aGlzLmZpbHRlclRvUGFyYW1zKGEuZmlsdGVyLGEucGFyYW1zKSk7dmFyIGI9dm9pZCAwIT09YS5yZWFkV2l0aFBPU1Q/YS5yZWFkV2l0aFBPU1Q6dGhpcy5yZWFkV2l0aFBPU1QsYz1uZXcgT3BlbkxheWVycy5Qcm90b2NvbC5SZXNwb25zZSh7cmVxdWVzdFR5cGU6InJlYWQifSk7CmI/KGI9YS5oZWFkZXJzfHx7fSxiWyJDb250ZW50LVR5cGUiXT0iYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIixjLnByaXY9T3BlbkxheWVycy5SZXF1ZXN0LlBPU1Qoe3VybDphLnVybCxjYWxsYmFjazp0aGlzLmNyZWF0ZUNhbGxiYWNrKHRoaXMuaGFuZGxlUmVhZCxjLGEpLGRhdGE6T3BlbkxheWVycy5VdGlsLmdldFBhcmFtZXRlclN0cmluZyhhLnBhcmFtcyksaGVhZGVyczpifSkpOmMucHJpdj1PcGVuTGF5ZXJzLlJlcXVlc3QuR0VUKHt1cmw6YS51cmwsY2FsbGJhY2s6dGhpcy5jcmVhdGVDYWxsYmFjayh0aGlzLmhhbmRsZVJlYWQsYyxhKSxwYXJhbXM6YS5wYXJhbXMsaGVhZGVyczphLmhlYWRlcnN9KTtyZXR1cm4gY30saGFuZGxlUmVhZDpmdW5jdGlvbihhLGIpe3RoaXMuaGFuZGxlUmVzcG9uc2UoYSxiKX0sY3JlYXRlOmZ1bmN0aW9uKGEsYil7dmFyIGI9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYix0aGlzLm9wdGlvbnMpLGM9bmV3IE9wZW5MYXllcnMuUHJvdG9jb2wuUmVzcG9uc2Uoe3JlcUZlYXR1cmVzOmEsCnJlcXVlc3RUeXBlOiJjcmVhdGUifSk7Yy5wcml2PU9wZW5MYXllcnMuUmVxdWVzdC5QT1NUKHt1cmw6Yi51cmwsY2FsbGJhY2s6dGhpcy5jcmVhdGVDYWxsYmFjayh0aGlzLmhhbmRsZUNyZWF0ZSxjLGIpLGhlYWRlcnM6Yi5oZWFkZXJzLGRhdGE6dGhpcy5mb3JtYXQud3JpdGUoYSl9KTtyZXR1cm4gY30saGFuZGxlQ3JlYXRlOmZ1bmN0aW9uKGEsYil7dGhpcy5oYW5kbGVSZXNwb25zZShhLGIpfSx1cGRhdGU6ZnVuY3Rpb24oYSxiKXt2YXIgYj1ifHx7fSxjPWIudXJsfHxhLnVybHx8dGhpcy5vcHRpb25zLnVybCsiLyIrYS5maWQsYj1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhiLHRoaXMub3B0aW9ucyksZD1uZXcgT3BlbkxheWVycy5Qcm90b2NvbC5SZXNwb25zZSh7cmVxRmVhdHVyZXM6YSxyZXF1ZXN0VHlwZToidXBkYXRlIn0pO2QucHJpdj1PcGVuTGF5ZXJzLlJlcXVlc3RbdGhpcy51cGRhdGVXaXRoUE9TVD8iUE9TVCI6IlBVVCJdKHt1cmw6YyxjYWxsYmFjazp0aGlzLmNyZWF0ZUNhbGxiYWNrKHRoaXMuaGFuZGxlVXBkYXRlLApkLGIpLGhlYWRlcnM6Yi5oZWFkZXJzLGRhdGE6dGhpcy5mb3JtYXQud3JpdGUoYSl9KTtyZXR1cm4gZH0saGFuZGxlVXBkYXRlOmZ1bmN0aW9uKGEsYil7dGhpcy5oYW5kbGVSZXNwb25zZShhLGIpfSwiZGVsZXRlIjpmdW5jdGlvbihhLGIpe3ZhciBiPWJ8fHt9LGM9Yi51cmx8fGEudXJsfHx0aGlzLm9wdGlvbnMudXJsKyIvIithLmZpZCxiPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGIsdGhpcy5vcHRpb25zKSxkPW5ldyBPcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlKHtyZXFGZWF0dXJlczphLHJlcXVlc3RUeXBlOiJkZWxldGUifSksZT10aGlzLmRlbGV0ZVdpdGhQT1NUPyJQT1NUIjoiREVMRVRFIixjPXt1cmw6YyxjYWxsYmFjazp0aGlzLmNyZWF0ZUNhbGxiYWNrKHRoaXMuaGFuZGxlRGVsZXRlLGQsYiksaGVhZGVyczpiLmhlYWRlcnN9O3RoaXMuZGVsZXRlV2l0aFBPU1QmJihjLmRhdGE9dGhpcy5mb3JtYXQud3JpdGUoYSkpO2QucHJpdj1PcGVuTGF5ZXJzLlJlcXVlc3RbZV0oYyk7CnJldHVybiBkfSxoYW5kbGVEZWxldGU6ZnVuY3Rpb24oYSxiKXt0aGlzLmhhbmRsZVJlc3BvbnNlKGEsYil9LGhhbmRsZVJlc3BvbnNlOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5wcml2O2IuY2FsbGJhY2smJigyMDA8PWMuc3RhdHVzJiYzMDA+Yy5zdGF0dXM/KCJkZWxldGUiIT1hLnJlcXVlc3RUeXBlJiYoYS5mZWF0dXJlcz10aGlzLnBhcnNlRmVhdHVyZXMoYykpLGEuY29kZT1PcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlLlNVQ0NFU1MpOmEuY29kZT1PcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlLkZBSUxVUkUsYi5jYWxsYmFjay5jYWxsKGIuc2NvcGUsYSkpfSxwYXJzZUZlYXR1cmVzOmZ1bmN0aW9uKGEpe3ZhciBiPWEucmVzcG9uc2VYTUw7aWYoIWJ8fCFiLmRvY3VtZW50RWxlbWVudCliPWEucmVzcG9uc2VUZXh0O3JldHVybiFifHwwPj1iLmxlbmd0aD9udWxsOnRoaXMuZm9ybWF0LnJlYWQoYil9LGNvbW1pdDpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7Zm9yKHZhciBiPQphLmZlYXR1cmVzP2EuZmVhdHVyZXMubGVuZ3RoOjAsYz1BcnJheShiKSxlPTA7ZTxiOysrZSljW2VdPWEuZmVhdHVyZXNbZV0uZmlkO3AuaW5zZXJ0SWRzPWM7ZC5hcHBseSh0aGlzLFthXSl9ZnVuY3Rpb24gZChhKXt0aGlzLmNhbGxVc2VyQ2FsbGJhY2soYSxiKTtuPW4mJmEuc3VjY2VzcygpO2YrKztmPj1tJiZiLmNhbGxiYWNrJiYocC5jb2RlPW4/T3BlbkxheWVycy5Qcm90b2NvbC5SZXNwb25zZS5TVUNDRVNTOk9wZW5MYXllcnMuUHJvdG9jb2wuUmVzcG9uc2UuRkFJTFVSRSxiLmNhbGxiYWNrLmFwcGx5KGIuc2NvcGUsW3BdKSl9dmFyIGI9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYix0aGlzLm9wdGlvbnMpLGU9W10sZj0wLGc9e307Z1tPcGVuTGF5ZXJzLlN0YXRlLklOU0VSVF09W107Z1tPcGVuTGF5ZXJzLlN0YXRlLlVQREFURV09W107Z1tPcGVuTGF5ZXJzLlN0YXRlLkRFTEVURV09W107Zm9yKHZhciBoLGksaj1bXSxrPTAsbD1hLmxlbmd0aDtrPGw7KytrKWlmKGg9CmFba10saT1nW2guc3RhdGVdKWkucHVzaChoKSxqLnB1c2goaCk7dmFyIG09KDA8Z1tPcGVuTGF5ZXJzLlN0YXRlLklOU0VSVF0ubGVuZ3RoPzE6MCkrZ1tPcGVuTGF5ZXJzLlN0YXRlLlVQREFURV0ubGVuZ3RoK2dbT3BlbkxheWVycy5TdGF0ZS5ERUxFVEVdLmxlbmd0aCxuPSEwLHA9bmV3IE9wZW5MYXllcnMuUHJvdG9jb2wuUmVzcG9uc2Uoe3JlcUZlYXR1cmVzOmp9KTtoPWdbT3BlbkxheWVycy5TdGF0ZS5JTlNFUlRdOzA8aC5sZW5ndGgmJmUucHVzaCh0aGlzLmNyZWF0ZShoLE9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtjYWxsYmFjazpjLHNjb3BlOnRoaXN9LGIuY3JlYXRlKSkpO2g9Z1tPcGVuTGF5ZXJzLlN0YXRlLlVQREFURV07Zm9yKGs9aC5sZW5ndGgtMTswPD1rOy0tayllLnB1c2godGhpcy51cGRhdGUoaFtrXSxPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7Y2FsbGJhY2s6ZCxzY29wZTp0aGlzfSxiLnVwZGF0ZSkpKTtoPWdbT3BlbkxheWVycy5TdGF0ZS5ERUxFVEVdOwpmb3Ioaz1oLmxlbmd0aC0xOzA8PWs7LS1rKWUucHVzaCh0aGlzWyJkZWxldGUiXShoW2tdLE9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtjYWxsYmFjazpkLHNjb3BlOnRoaXN9LGJbImRlbGV0ZSJdKSkpO3JldHVybiBlfSxhYm9ydDpmdW5jdGlvbihhKXthJiZhLnByaXYuYWJvcnQoKX0sY2FsbFVzZXJDYWxsYmFjazpmdW5jdGlvbihhLGIpe3ZhciBjPWJbYS5yZXF1ZXN0VHlwZV07YyYmYy5jYWxsYmFjayYmYy5jYWxsYmFjay5jYWxsKGMuc2NvcGUsYSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuUHJvdG9jb2wuSFRUUCJ9KTtPcGVuTGF5ZXJzLkxhbmcubmw9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3VuaGFuZGxlZFJlcXVlc3Q6IkhldCB2ZXJ6b2VrIGlzIG5pZXQgYWZnZWhhbmRlbGQgbWV0IGRlIHZvbGdlbmRlIG1lbGRpbmc6ICR7c3RhdHVzVGV4dH0iLFBlcm1hbGluazoiUGVybWFuZW50ZSB2ZXJ3aWp6aW5nIixPdmVybGF5czoiT3ZlcmxheXMiLCJCYXNlIExheWVyIjoiQWNodGVyZ3JvbmRrYWFydCIsbm9GSUQ6IkVlbiBvcHRpZSBkaWUgZ2VlbiBGSUQgaGVlZnQga2FuIG5pZXQgYmlqZ2V3ZXJrdCB3b3JkZW4uIixicm93c2VyTm90U3VwcG9ydGVkOiJVdyBicm93c2VyIG9uZGVyc3RldW50IGhldCB3ZWVyZ2V2ZW4gdmFuIHZlY3RvcmVuIG5pZXQuXG5Nb21lbnRlZWwgb25kZXJzdGV1bmRlIHdlZXJnYXZlbW9nZWxpamtoZWRlbjpcbiR7cmVuZGVyZXJzfSIsbWluWm9vbUxldmVsRXJyb3I6IkRlIGVpZ2Vuc2NoYXAgbWluWm9vbUxldmVsIGlzIGFsbGVlbiBiZWRvZWxkIHZvb3IgZ2VicnVpayBsYWdlbiBtZXQgZGllIGFmc3RhbW1lbiB2YW4gRml4ZWRab29tTGV2ZWxzLWxhZ2VuLlxuRGF0IGRlemUgV0ZTLWxhYWcgbWluWm9vbUxldmVsIGNvbnRyb2xlZXJ0LCBpcyBlZW4gb3ZlcmJsaWpmc2VsIHVpdCBoZXQgdmVybGVkZW4uXG5XZSBrdW5uZW4gZGV6ZSBjb250cm9sZSBlY2h0ZXIgbmlldCB2ZXJ3aWpkZXJlbiB6b25kZXIgb3AgT0wgZ2ViYXNlZXJkZSBhcHBsaWNhdGllcyBkaWUgaGVydmFuIGFmaGFua2VsaWprIHppam4gc3R1ayB0ZSBtYWtlbi5cbkRhYXJvbSBoZWVmdCBkZXplIGZ1bmN0aW9uYWxpdGVpdCBkZSBlaWdlbnNjaGFwICdkZXByZWNhdGVkJyBnZWtyZWdlbiAtIGRlIG1pblpvb21MZXZlbCB3b3JkdCB2ZXJ3aWpkZXJkIGluIHZlcnNpZSAzLjAuXG5HZWJydWlrIGluIHBsYWF0cyB2YW4gZGV6ZSBmdW5jdGllIGRlIG1vZ2VsaWpraGVpZCBvbSBtaW4vbWF4IHZvb3IgcmVzb2x1dGllIGluIHRlIHN0ZWxsZW4gem9hbHMgb3AgZGUgdm9sZ2VuZGUgcGFnaW5hIHdvcmR0IGJlc2NocmV2ZW46XG5odHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NldHRpbmdab29tTGV2ZWxzIiwKY29tbWl0U3VjY2VzczoiV0ZTLXRyYW5zYWN0aWU6IHN1Y2Nlc3ZvbCAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJXRlMtdHJhbnNhY3RpZTogbWlzbHVrdCAke3Jlc3BvbnNlfSIsZ29vZ2xlV2FybmluZzoiRGUgR29vZ2xlLUxheWVyIGtvbiBuaWV0IGNvcnJlY3QgZ2VsYWRlbiB3b3JkZW4uPGJyIC8+PGJyIC8+XG5PbSBkZXplIG1lbGRpbmcgbmlldCBtZWVyIHRlIGtyaWpnZW4sIG1vZXQgdSBlZW4gYW5kZXJlIGFjaHRlcmdyb25ka2FhcnQga2llemVuIGluIGRlIGxhYWd3aXNzZWxhYXIgaW4gZGUgcmVjaHRlcmJvdmVuaG9lay48YnIgLz48YnIgLz5cbkRpdCBrb210IHdhYXJzY2hpam5saWprIGRvb3JkYXQgZGUgYmlibGlvdGhlZWsgJHtsYXllckxpYn0gbmlldCBjb3JyZWN0IGluZ2V2b2VnZCBpcy48YnIgLz48YnIgLz5cbk9udHdpa2tlbGFhcnM6IDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvJHtsYXllckxpYn0nIHRhcmdldD0nX2JsYW5rJz5rbGlrIGhpZXI8L2E+IG9tIGRpdCB3ZXJrZW5kIHRlIGtyaWpnZW4uIiwKZ2V0TGF5ZXJXYXJuaW5nOiJEZSBsYWFnICR7bGF5ZXJUeXBlfSBrb24gbmlldCBnb2VkIGdlbGFkZW4gd29yZGVuLjxiciAvPjxiciAvPlxuT20gZGV6ZSBtZWxkaW5nIG5pZXQgbWVlciB0ZSBrcmlqZ2VuLCBtb2V0IHUgZWVuIGFuZGVyZSBhY2h0ZXJncm9uZGthYXJ0IGtpZXplbiBpbiBkZSBsYWFnd2lzc2VsYWFyIGluIGRlIHJlY2h0ZXJib3ZlbmhvZWsuPGJyIC8+PGJyIC8+XG5EaXQga29tdCB3YWFyc2NoaWpubGlqayBkb29yZGF0IGRlIGJpYmxpb3RoZWVrICR7bGF5ZXJMaWJ9IG5pZXQgY29ycmVjdCBpcyBpbmdldm9lZ2QuPGJyIC8+PGJyIC8+XG5PbnR3aWtrZWxhYXJzOiA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+a2xpayBoaWVyPC9hPiBvbSBkaXQgd2Vya2VuZCB0ZSBrcmlqZ2VuLiIsIlNjYWxlID0gMSA6ICR7c2NhbGVEZW5vbX0iOiJTY2hhYWwgPSAxIDogJHtzY2FsZURlbm9tfSIsClc6IlciLEU6Ik8iLE46Ik4iLFM6IloiLHJlcHJvamVjdERlcHJlY2F0ZWQ6IlUgZ2VicnVpa3QgZGUgb3B0aWUgJ3JlcHJvamVjdCcgb3AgZGUgbGFhZyAke2xheWVyTmFtZX0uXG5EZXplIG9wdGllIGlzIHZlcnZhbGxlbjogZGV6ZSBvcHRpZSB3YXMgb250d2lra2VsZCBvbSBnZWdldmVucyBvdmVyIGNvbW1lcmNpXHUwMGVibGUgYmFzaXNrYWFydGVuIHdlZXIgdGUgZ2V2ZW4sIG1hYXIgZGV6ZSBmdW5jdGlvbmFsaXRlaXQgd29yZHQgbnUgYmVyZWlrdCBkb29yIG9uZGVyc3RldW5pbmcgdmFuIFNwaGVyaWNhbCBNZXJjYXRvci5cbk1lZXIgaW5mb3JtYXRpZSBpcyBiZXNjaGlrYmFhciBvcCBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NwaGVyaWNhbE1lcmNhdG9yLiIsbWV0aG9kRGVwcmVjYXRlZDoiRGV6ZSBtZXRob2RlIGlzIHZlcm91ZGVyZCBlbiB3b3JkdCB2ZXJ3aWpkZXJkIGluIHZlcnNpZSAzLjAuXG5HZWJydWlrICR7bmV3TWV0aG9kfS4ifSk7T3BlbkxheWVycy5TdHJhdGVneS5DbHVzdGVyPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5TdHJhdGVneSx7ZGlzdGFuY2U6MjAsdGhyZXNob2xkOm51bGwsZmVhdHVyZXM6bnVsbCxjbHVzdGVyczpudWxsLGNsdXN0ZXJpbmc6ITEscmVzb2x1dGlvbjpudWxsLGFjdGl2YXRlOmZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5TdHJhdGVneS5wcm90b3R5cGUuYWN0aXZhdGUuY2FsbCh0aGlzKTtpZihhKXRoaXMubGF5ZXIuZXZlbnRzLm9uKHtiZWZvcmVmZWF0dXJlc2FkZGVkOnRoaXMuY2FjaGVGZWF0dXJlcyxmZWF0dXJlc3JlbW92ZWQ6dGhpcy5jbGVhckNhY2hlLG1vdmVlbmQ6dGhpcy5jbHVzdGVyLHNjb3BlOnRoaXN9KTtyZXR1cm4gYX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPU9wZW5MYXllcnMuU3RyYXRlZ3kucHJvdG90eXBlLmRlYWN0aXZhdGUuY2FsbCh0aGlzKTthJiYodGhpcy5jbGVhckNhY2hlKCksdGhpcy5sYXllci5ldmVudHMudW4oe2JlZm9yZWZlYXR1cmVzYWRkZWQ6dGhpcy5jYWNoZUZlYXR1cmVzLApmZWF0dXJlc3JlbW92ZWQ6dGhpcy5jbGVhckNhY2hlLG1vdmVlbmQ6dGhpcy5jbHVzdGVyLHNjb3BlOnRoaXN9KSk7cmV0dXJuIGF9LGNhY2hlRmVhdHVyZXM6ZnVuY3Rpb24oYSl7dmFyIGI9ITA7dGhpcy5jbHVzdGVyaW5nfHwodGhpcy5jbGVhckNhY2hlKCksdGhpcy5mZWF0dXJlcz1hLmZlYXR1cmVzLHRoaXMuY2x1c3RlcigpLGI9ITEpO3JldHVybiBifSxjbGVhckNhY2hlOmZ1bmN0aW9uKCl7dGhpcy5jbHVzdGVyaW5nfHwodGhpcy5mZWF0dXJlcz1udWxsKX0sY2x1c3RlcjpmdW5jdGlvbihhKXtpZigoIWF8fGEuem9vbUNoYW5nZWQpJiZ0aGlzLmZlYXR1cmVzKWlmKGE9dGhpcy5sYXllci5tYXAuZ2V0UmVzb2x1dGlvbigpLGEhPXRoaXMucmVzb2x1dGlvbnx8IXRoaXMuY2x1c3RlcnNFeGlzdCgpKXt0aGlzLnJlc29sdXRpb249YTtmb3IodmFyIGE9W10sYixjLGQsZT0wO2U8dGhpcy5mZWF0dXJlcy5sZW5ndGg7KytlKWlmKGI9dGhpcy5mZWF0dXJlc1tlXSxiLmdlb21ldHJ5KXtjPQohMTtmb3IodmFyIGY9YS5sZW5ndGgtMTswPD1mOy0tZilpZihkPWFbZl0sdGhpcy5zaG91bGRDbHVzdGVyKGQsYikpe3RoaXMuYWRkVG9DbHVzdGVyKGQsYik7Yz0hMDticmVha31jfHxhLnB1c2godGhpcy5jcmVhdGVDbHVzdGVyKHRoaXMuZmVhdHVyZXNbZV0pKX10aGlzLmNsdXN0ZXJpbmc9ITA7dGhpcy5sYXllci5yZW1vdmVBbGxGZWF0dXJlcygpO3RoaXMuY2x1c3RlcmluZz0hMTtpZigwPGEubGVuZ3RoKXtpZigxPHRoaXMudGhyZXNob2xkKXtiPWEuc2xpY2UoKTthPVtdO2U9MDtmb3IoZD1iLmxlbmd0aDtlPGQ7KytlKWM9YltlXSxjLmF0dHJpYnV0ZXMuY291bnQ8dGhpcy50aHJlc2hvbGQ/QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoYSxjLmNsdXN0ZXIpOmEucHVzaChjKX10aGlzLmNsdXN0ZXJpbmc9ITA7dGhpcy5sYXllci5hZGRGZWF0dXJlcyhhKTt0aGlzLmNsdXN0ZXJpbmc9ITF9dGhpcy5jbHVzdGVycz1hfX0sY2x1c3RlcnNFeGlzdDpmdW5jdGlvbigpe3ZhciBhPQohMTtpZih0aGlzLmNsdXN0ZXJzJiYwPHRoaXMuY2x1c3RlcnMubGVuZ3RoJiZ0aGlzLmNsdXN0ZXJzLmxlbmd0aD09dGhpcy5sYXllci5mZWF0dXJlcy5sZW5ndGgpZm9yKHZhciBhPSEwLGI9MDtiPHRoaXMuY2x1c3RlcnMubGVuZ3RoOysrYilpZih0aGlzLmNsdXN0ZXJzW2JdIT10aGlzLmxheWVyLmZlYXR1cmVzW2JdKXthPSExO2JyZWFrfXJldHVybiBhfSxzaG91bGRDbHVzdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZW9tZXRyeS5nZXRCb3VuZHMoKS5nZXRDZW50ZXJMb25MYXQoKSxkPWIuZ2VvbWV0cnkuZ2V0Qm91bmRzKCkuZ2V0Q2VudGVyTG9uTGF0KCk7cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhjLmxvbi1kLmxvbiwyKStNYXRoLnBvdyhjLmxhdC1kLmxhdCwyKSkvdGhpcy5yZXNvbHV0aW9uPD10aGlzLmRpc3RhbmNlfSxhZGRUb0NsdXN0ZXI6ZnVuY3Rpb24oYSxiKXthLmNsdXN0ZXIucHVzaChiKTthLmF0dHJpYnV0ZXMuY291bnQrPTF9LGNyZWF0ZUNsdXN0ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9CmEuZ2VvbWV0cnkuZ2V0Qm91bmRzKCkuZ2V0Q2VudGVyTG9uTGF0KCksYj1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChiLmxvbixiLmxhdCkse2NvdW50OjF9KTtiLmNsdXN0ZXI9W2FdO3JldHVybiBifSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlN0cmF0ZWd5LkNsdXN0ZXIifSk7T3BlbkxheWVycy5TdHJhdGVneS5GaWx0ZXI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlN0cmF0ZWd5LHtmaWx0ZXI6bnVsbCxjYWNoZTpudWxsLGNhY2hpbmc6ITEsYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgYT1PcGVuTGF5ZXJzLlN0cmF0ZWd5LnByb3RvdHlwZS5hY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YSYmKHRoaXMuY2FjaGU9W10sdGhpcy5sYXllci5ldmVudHMub24oe2JlZm9yZWZlYXR1cmVzYWRkZWQ6dGhpcy5oYW5kbGVBZGQsYmVmb3JlZmVhdHVyZXNyZW1vdmVkOnRoaXMuaGFuZGxlUmVtb3ZlLHNjb3BlOnRoaXN9KSk7cmV0dXJuIGF9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXt0aGlzLmNhY2hlPW51bGw7dGhpcy5sYXllciYmdGhpcy5sYXllci5ldmVudHMmJnRoaXMubGF5ZXIuZXZlbnRzLnVuKHtiZWZvcmVmZWF0dXJlc2FkZGVkOnRoaXMuaGFuZGxlQWRkLGJlZm9yZWZlYXR1cmVzcmVtb3ZlZDp0aGlzLmhhbmRsZVJlbW92ZSxzY29wZTp0aGlzfSk7CnJldHVybiBPcGVuTGF5ZXJzLlN0cmF0ZWd5LnByb3RvdHlwZS5kZWFjdGl2YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0saGFuZGxlQWRkOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmNhY2hpbmcmJnRoaXMuZmlsdGVyKXt2YXIgYj1hLmZlYXR1cmVzO2EuZmVhdHVyZXM9W107Zm9yKHZhciBjLGQ9MCxlPWIubGVuZ3RoO2Q8ZTsrK2QpYz1iW2RdLHRoaXMuZmlsdGVyLmV2YWx1YXRlKGMpP2EuZmVhdHVyZXMucHVzaChjKTp0aGlzLmNhY2hlLnB1c2goYyl9fSxoYW5kbGVSZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLmNhY2hpbmd8fCh0aGlzLmNhY2hlPVtdKX0sc2V0RmlsdGVyOmZ1bmN0aW9uKGEpe3RoaXMuZmlsdGVyPWE7YT10aGlzLmNhY2hlO3RoaXMuY2FjaGU9W107dGhpcy5oYW5kbGVBZGQoe2ZlYXR1cmVzOnRoaXMubGF5ZXIuZmVhdHVyZXN9KTswPHRoaXMuY2FjaGUubGVuZ3RoJiYodGhpcy5jYWNoaW5nPSEwLHRoaXMubGF5ZXIucmVtb3ZlRmVhdHVyZXModGhpcy5jYWNoZS5zbGljZSgpKSwKdGhpcy5jYWNoaW5nPSExKTswPGEubGVuZ3RoJiYoYT17ZmVhdHVyZXM6YX0sdGhpcy5oYW5kbGVBZGQoYSksMDxhLmZlYXR1cmVzLmxlbmd0aCYmKHRoaXMuY2FjaGluZz0hMCx0aGlzLmxheWVyLmFkZEZlYXR1cmVzKGEuZmVhdHVyZXMpLHRoaXMuY2FjaGluZz0hMSkpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlN0cmF0ZWd5LkZpbHRlciJ9KTtPcGVuTGF5ZXJzLlByb3RvY29sLlNPUz1mdW5jdGlvbihhKXt2YXIgYT1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLE9wZW5MYXllcnMuUHJvdG9jb2wuU09TLkRFRkFVTFRTKSxiPU9wZW5MYXllcnMuUHJvdG9jb2wuU09TWyJ2IithLnZlcnNpb24ucmVwbGFjZSgvXC4vZywiXyIpXTtpZighYil0aHJvdyJVbnN1cHBvcnRlZCBTT1MgdmVyc2lvbjogIithLnZlcnNpb247cmV0dXJuIG5ldyBiKGEpfTtPcGVuTGF5ZXJzLlByb3RvY29sLlNPUy5ERUZBVUxUUz17dmVyc2lvbjoiMS4wLjAifTtPcGVuTGF5ZXJzLkZvcm1hdC5XRlNEZXNjcmliZUZlYXR1cmVUeXBlPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuWE1MLHtyZWdFeGVzOnt0cmltU3BhY2U6L15ccyp8XHMqJC9nfSxuYW1lc3BhY2VzOnt4c2Q6Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hIn0scmVhZGVyczp7eHNkOntzY2hlbWE6ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkPXt9LGUsZjt0aGlzLnJlYWRDaGlsZE5vZGVzKGEse2NvbXBsZXhUeXBlczpjLGN1c3RvbVR5cGVzOmR9KTt2YXIgZz1hLmF0dHJpYnV0ZXMsaCxpO2U9MDtmb3IoZj1nLmxlbmd0aDtlPGY7KytlKWg9Z1tlXSxpPWgubmFtZSwwPT09aS5pbmRleE9mKCJ4bWxucyIpP3RoaXMuc2V0TmFtZXNwYWNlKGkuc3BsaXQoIjoiKVsxXXx8IiIsaC52YWx1ZSk6YltpXT1oLnZhbHVlO2IuZmVhdHVyZVR5cGVzPWM7Yi50YXJnZXRQcmVmaXg9dGhpcy5uYW1lc3BhY2VBbGlhc1tiLnRhcmdldE5hbWVzcGFjZV07ZT0wO2ZvcihmPQpjLmxlbmd0aDtlPGY7KytlKWc9Y1tlXSxoPWRbZy50eXBlTmFtZV0sZFtnLnR5cGVOYW1lXSYmKGcudHlwZU5hbWU9aC5uYW1lKX0sY29tcGxleFR5cGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz17dHlwZU5hbWU6YS5nZXRBdHRyaWJ1dGUoIm5hbWUiKX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IuY29tcGxleFR5cGVzLnB1c2goYyl9LGNvbXBsZXhDb250ZW50OmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxleHRlbnNpb246ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LHNlcXVlbmNlOmZ1bmN0aW9uKGEsYil7dmFyIGM9e2VsZW1lbnRzOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5wcm9wZXJ0aWVzPWMuZWxlbWVudHN9LGVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYztpZihiLmVsZW1lbnRzKXt2YXIgZD17fTtjPWEuYXR0cmlidXRlcztmb3IodmFyIGUsZj0wLGc9Yy5sZW5ndGg7ZjxnOysrZillPWNbZl0sZFtlLm5hbWVdPQplLnZhbHVlO2M9ZC50eXBlO2N8fChjPXt9LHRoaXMucmVhZENoaWxkTm9kZXMoYSxjKSxkLnJlc3RyaWN0aW9uPWMsZC50eXBlPWMuYmFzZSk7ZC5sb2NhbFR5cGU9KGMuYmFzZXx8Yykuc3BsaXQoIjoiKS5wb3AoKTtiLmVsZW1lbnRzLnB1c2goZCk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGQpfWIuY29tcGxleFR5cGVzJiYoYz1hLmdldEF0dHJpYnV0ZSgidHlwZSIpLGQ9Yy5zcGxpdCgiOiIpLnBvcCgpLGIuY3VzdG9tVHlwZXNbZF09e25hbWU6YS5nZXRBdHRyaWJ1dGUoIm5hbWUiKSx0eXBlOmN9KX0sYW5ub3RhdGlvbjpmdW5jdGlvbihhLGIpe2IuYW5ub3RhdGlvbj17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5hbm5vdGF0aW9uKX0sYXBwaW5mbzpmdW5jdGlvbihhLGIpe2IuYXBwaW5mb3x8KGIuYXBwaW5mbz1bXSk7Yi5hcHBpbmZvLnB1c2godGhpcy5nZXRDaGlsZFZhbHVlKGEpKX0sZG9jdW1lbnRhdGlvbjpmdW5jdGlvbihhLGIpe2IuZG9jdW1lbnRhdGlvbnx8KGIuZG9jdW1lbnRhdGlvbj0KW10pO3ZhciBjPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKTtiLmRvY3VtZW50YXRpb24ucHVzaCh7bGFuZzphLmdldEF0dHJpYnV0ZSgieG1sOmxhbmciKSx0ZXh0Q29udGVudDpjLnJlcGxhY2UodGhpcy5yZWdFeGVzLnRyaW1TcGFjZSwiIil9KX0sc2ltcGxlVHlwZTpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0scmVzdHJpY3Rpb246ZnVuY3Rpb24oYSxiKXtiLmJhc2U9YS5nZXRBdHRyaWJ1dGUoImJhc2UiKTt0aGlzLnJlYWRSZXN0cmljdGlvbihhLGIpfX19LHJlYWRSZXN0cmljdGlvbjpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1hLmNoaWxkTm9kZXMsZCxlLGY9MCxnPWMubGVuZ3RoO2Y8ZzsrK2YpZD1jW2ZdLDE9PWQubm9kZVR5cGUmJihlPWQubm9kZU5hbWUuc3BsaXQoIjoiKS5wb3AoKSxkPWQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpLGJbZV0/KCJzdHJpbmciPT10eXBlb2YgYltlXSYmKGJbZV09W2JbZV1dKSxiW2VdLnB1c2goZCkpOmJbZV09ZCl9LHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PQp0eXBlb2YgYSYmKGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7YSYmOT09YS5ub2RlVHlwZSYmKGE9YS5kb2N1bWVudEVsZW1lbnQpO3ZhciBiPXt9O2lmKCJFeGNlcHRpb25SZXBvcnQiPT09YS5ub2RlTmFtZS5zcGxpdCgiOiIpLnBvcCgpKXt2YXIgYz1uZXcgT3BlbkxheWVycy5Gb3JtYXQuT0dDRXhjZXB0aW9uUmVwb3J0O2IuZXJyb3I9Yy5yZWFkKGEpfWVsc2UgdGhpcy5yZWFkTm9kZShhLGIpO3JldHVybiBifSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XRlNEZXNjcmliZUZlYXR1cmVUeXBlIn0pO09wZW5MYXllcnMuTGFuZy5mcj1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7dW5oYW5kbGVkUmVxdWVzdDoiUmVxdVx1MDBlYXRlIG5vbiBnXHUwMGU5clx1MDBlOWUsIHJldG91cm5hbnQgJHtzdGF0dXNUZXh0fSIsUGVybWFsaW5rOiJQZXJtYWxpZW4iLE92ZXJsYXlzOiJDYWxxdWVzIiwiQmFzZSBMYXllciI6IkNhbHF1ZSBkZSBiYXNlIixub0ZJRDoiSW1wb3NzaWJsZSBkZSBtZXR0cmUgXHUwMGUwIGpvdXIgdW4gb2JqZXQgc2FucyBpZGVudGlmaWFudCAoZmlkKS4iLGJyb3dzZXJOb3RTdXBwb3J0ZWQ6IlZvdHJlIG5hdmlnYXRldXIgbmUgc3VwcG9ydGUgcGFzIGxlIHJlbmR1IHZlY3RvcmllbC4gTGVzIHJlbmRlcmVycyBhY3R1ZWxsZW1lbnQgc3VwcG9ydFx1MDBlOXMgc29udCA6IFxuJHtyZW5kZXJlcnN9IixtaW5ab29tTGV2ZWxFcnJvcjoiTGEgcHJvcHJpXHUwMGU5dFx1MDBlOSBtaW5ab29tTGV2ZWwgZG9pdCBzZXVsZW1lbnQgXHUwMGVhdHJlIHV0aWxpc1x1MDBlOWUgcG91ciBkZXMgY291Y2hlcyBGaXhlZFpvb21MZXZlbHMtZGVzY2VuZGVudC4gTGUgZmFpdCBxdWUgY2V0dGUgY291Y2hlIFdGUyB2XHUwMGU5cmlmaWUgbGEgcHJcdTAwZTlzZW5jZSBkZSBtaW5ab29tTGV2ZWwgZXN0IHVuZSByZWxpcXVlIGR1IHBhc3NcdTAwZTkuIE5vdXMgbmUgcG91dm9ucyB0b3V0ZWZvaXMgbGEgc3VwcHJpbWVyIHNhbnMgY2Fzc2VyIGRlcyBhcHBsaWNhdGlvbnMgcXVpIHBvdXJyYWllbnQgZW4gZFx1MDBlOXBlbmRyZS4gQydlc3QgcG91cnF1b2kgbm91cyBsYSBkXHUwMGU5cHJcdTAwZTljaW9ucyAtLSBsYSB2XHUwMGU5cmlmaWNhdGlvbiBkdSBtaW5ab29tTGV2ZWwgc2VyYSBzdXBwcmltXHUwMGU5ZSBlbiB2ZXJzaW9uIDMuMC4gQSBsYSBwbGFjZSwgbWVyY2kgZCd1dGlsaXNlciBsZXMgcGFyYW1cdTAwZTh0cmVzIGRlIHJcdTAwZTlzb2x1dGlvbnMgbWluL21heCB0ZWwgcXVlIGRcdTAwZTljcml0IHN1ciA6IGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU2V0dGluZ1pvb21MZXZlbHMiLApjb21taXRTdWNjZXNzOiJUcmFuc2FjdGlvbiBXRlMgOiBTVUNDRVMgJHtyZXNwb25zZX0iLGNvbW1pdEZhaWxlZDoiVHJhbnNhY3Rpb24gV0ZTIDogRUNIRUMgJHtyZXNwb25zZX0iLGdvb2dsZVdhcm5pbmc6IkxhIGNvdWNoZSBHb29nbGUgbidhIHBhcyBcdTAwZTl0XHUwMGU5IGVuIG1lc3VyZSBkZSBzZSBjaGFyZ2VyIGNvcnJlY3RlbWVudC48YnI+PGJyPlBvdXIgc3VwcHJpbWVyIGNlIG1lc3NhZ2UsIGNob2lzaXNzZXogdW5lIG5vdXZlbGxlIEJhc2VMYXllciBkYW5zIGxlIHNcdTAwZTlsZWN0ZXVyIGRlIGNvdWNoZSBlbiBoYXV0IFx1MDBlMCBkcm9pdGUuPGJyPjxicj5DZWxhIGVzdCBwb3NzaWJsZW1lbnQgY2F1c1x1MDBlOSBwYXIgbGEgbm9uLWluY2x1c2lvbiBkZSBsYSBsaWJyYWlyaWUgR29vZ2xlIE1hcHMsIG91IGFsb3JzIHBhcmNlIHF1ZSBsYSBjbFx1MDBlOSBkZSBsJ0FQSSBuZSBjb3JyZXNwb25kIHBhcyBcdTAwZTAgdm90cmUgc2l0ZS48YnI+PGJyPkRcdTAwZTl2ZWxvcHBldXJzIDogcG91ciBzYXZvaXIgY29tbWVudCBjb3JyaWdlciBjZWNpLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZScgdGFyZ2V0PSdfYmxhbmsnPmNsaXF1ZXogaWNpPC9hPiIsCmdldExheWVyV2FybmluZzoiTGEgY291Y2hlICR7bGF5ZXJUeXBlfSBuJ2VzdCBwYXMgZW4gbWVzdXJlIGRlIHNlIGNoYXJnZXIgY29ycmVjdGVtZW50Ljxicj48YnI+UG91ciBzdXBwcmltZXIgY2UgbWVzc2FnZSwgY2hvaXNpc3NleiB1bmUgbm91dmVsbGUgQmFzZUxheWVyIGRhbnMgbGUgc1x1MDBlOWxlY3RldXIgZGUgY291Y2hlIGVuIGhhdXQgXHUwMGUwIGRyb2l0ZS48YnI+PGJyPkNlbGEgZXN0IHBvc3NpYmxlbWVudCBjYXVzXHUwMGU5IHBhciBsYSBub24taW5jbHVzaW9uIGRlIGxhIGxpYnJhaXJpZSAke2xheWVyTGlifS48YnI+PGJyPkRcdTAwZTl2ZWxvcHBldXJzIDogcG91ciBzYXZvaXIgY29tbWVudCBjb3JyaWdlciBjZWNpLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+Y2xpcXVleiBpY2k8L2E+IiwiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6IkVjaGVsbGUgfiAxIDogJHtzY2FsZURlbm9tfSIsClc6Ik8iLEU6IkUiLE46Ik4iLFM6IlMiLHJlcHJvamVjdERlcHJlY2F0ZWQ6IlZvdXMgdXRpbGlzZXogbCdvcHRpb24gJ3JlcHJvamVjdCcgc3VyIGxhIGNvdWNoZSAke2xheWVyTmFtZX0uIENldHRlIG9wdGlvbiBlc3QgZFx1MDBlOXByXHUwMGU5Y2lcdTAwZTllIDogU29uIHVzYWdlIHBlcm1ldHRhaXQgZCdhZmZpY2hlciBkZXMgZG9ublx1MDBlOWVzIGF1IGRlc3N1cyBkZSBjb3VjaGVzIHJhc3RlciBjb21tZXJjaWFsZXMuQ2V0dGUgZm9uY3Rpb25hbGl0XHUwMGU5IGVzdCBtYWludGVuYW50IHN1cHBvcnRcdTAwZTllIGVuIHV0aWxpc2FudCBsZSBzdXBwb3J0IGRlIGxhIHByb2plY3Rpb24gTWVyY2F0b3IgU3BoXHUwMGU5cmlxdWUuIFBsdXMgZCdpbmZvcm1hdGlvbiBlc3QgZGlzcG9uaWJsZSBzdXIgaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TcGhlcmljYWxNZXJjYXRvci4iLG1ldGhvZERlcHJlY2F0ZWQ6IkNldHRlIG1cdTAwZTl0aG9kZSBlc3QgZFx1MDBlOXByXHUwMGU5Y2lcdTAwZTllLCBldCBzZXJhIHN1cHByaW1cdTAwZTllIFx1MDBlMCBsYSB2ZXJzaW9uIDMuMC4gTWVyY2kgZCd1dGlsaXNlciAke25ld01ldGhvZH0gXHUwMGUwIGxhIHBsYWNlLiJ9KTtPcGVuTGF5ZXJzLkxhbmcua3NoPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHt1bmhhbmRsZWRSZXF1ZXN0OiJNZXQgZFx1MDBlNCBBbnR3b290IG9wIGVuIEFhbmZyb29jaCBoYW1fbWVyIG5peCBhYW5qZWZhbmdlOiAke3N0YXR1c1RleHR9IixQZXJtYWxpbms6IkxlbmdrIG9wIER1dWVyIixPdmVybGF5czoiRHJcdTAwZjZ2dmVyIGplbGFhdCIsIkJhc2UgTGF5ZXIiOiJKcnVuZC1OaXZvaCIsbm9GSUQ6J0VuIFNhYWNoLCB3b2gga2VpbiA8aSBsYW5nPSJlbiI+RklEPC9pPiBmXHUwMGY2ciBkb2ggZXMsIGxcdTAwZjZodCBzZXNjaCBuaXQgXHUwMGU0bmRlcmUuJyxicm93c2VyTm90U3VwcG9ydGVkOiJEaW5nZSBCcmF1c2VyIGthbm4ga2VpbiBWXHUwMGU0a3RvcmUgdVx1MDBkZmpcdTAwZTR2dmUuIERlIFpvb3RlIFVcdTAwZGZqYWFiZSwgZGkgZW0gTW9tYW5nIGpvbiwgc2VuOlxuJHtyZW5kZXJlcnN9IixtaW5ab29tTGV2ZWxFcnJvcjonRGUgRWlqZXNjaGFmZiBcdTIwMWU8Y29kZSBsYW5nPSJlbiI+bWluWm9vbUxldmVsPC9jb2RlPlx1MjAxYyBlcyBibG9cdTAwZGYgZG9mXHUwMGY2ciBqZWRhYWNoLCBkYXQgbWVyIHNlIG1ldCBkXHUwMGU0IE5pdnZvaFx1MDBkZiBicnVjaCwgZGkgdnVuIDxjb2RlIGxhbmc9ImVuIj5GaXhlZFpvb21MZXZlbHM8L2NvZGU+IGFmZmhhbmdlIGRvbi4gRGF0IGRhdCA8aSBsYW5nPSJlbiI+V0ZTPC9pPi1OaXZ2b2ggXHUwMGY2dnZlcmhvdXAgZGUgRWlqZXNjaGFmZiBcdTIwMWU8Y29kZSBsYW5nPSJlbiI+bWluWm9vbUxldmVsPC9jb2RlPlx1MjAxYyBwclx1MDBmNmhmZSBkZWlodCwgZXMgbm9jaCBcdTAwZjZ2dmVyZXNjaCB2dW4gZnJcdTAwZjZoamVyLiBNZXIga1x1MDBmY25uZSBkYXQgXHUwMGU0dnZlciBqZXogbml0IGZvdHQgbG9oXHUwMGRmZSwgb29obmUgZGF0IG1lciBKZXZhYSBsb3VmZSwgZGF0IEFhbndlbmR1bmdlIHZ1biBPcGVuTGF5ZXJzIG5pdCBtaWVoIGxvdWZlLCBkaSBzZXNjaCBkb2ggdmVsbGVpanNjaCBub2NoIGRyb3AgYW0gdmVybG9oXHUwMGRmZSBzaW4uIERyXHUwMGY2bSBzYXJlIG1lciwgZGF0IG1lciBldCBuaXQgbWllaCBoYW4gd2VsbGUsIHVuIGRlIFx1MjAxZTxjb2RlIGxhbmc9ImVuIj5taW5ab29tTGV2ZWw8L2NvZGU+XHUyMDFjLUVpamVzY2hhZmYgd2VlZCBoZWUgdnVuIGRlIFZlcnNpb24gMy4wIGFmIG5pdCBtaWVoIGplcHJcdTAwZjZcdTAwZjZmIHdcdTAwZTRkZS4gTmVtbSBkb2ZcdTAwZjZyIGRlIEVuc3RlbGx1bmcgZlx1MDBmNnIgZGUgaFx1MDBmY2hcdTAwZGZ0ZSB1biBkZSBrbGVpblx1MDBkZnRlIE9wbFx1MDBmNmhzdW5nLCBlc3Ugd2kgZXQgZW4gaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyBvcGplc2NocmV2dmUgZXMuJywKY29tbWl0U3VjY2VzczonRFx1MDBlNCA8aSBsYW5nPSJlbiI+V0ZTPC9pPi1WXHUwMGY2cmphbmcgZXMgam9vdCBqZWxvdWZlOiAke3Jlc3BvbnNlfScsY29tbWl0RmFpbGVkOidEXHUwMGU0IDxpIGxhbmc9ImVuIj5XRlM8L2k+LVZcdTAwZjZyamFuZyBlcyBzY2hlaWYgamVqYW5nZTogJHtyZXNwb25zZX0nLGdvb2dsZVdhcm5pbmc6J0RhdCBOaXZ2b2ggPGNvZGUgbGFuZz0iZW4iPkdvb2dsZTwvY29kZT4ga3VubnQgbml0IHJlc2NodGVzY2ggamVsYWFkZSB3XHUwMGU0XHUwMGU0ZGUuPGJyIC8+PGJyIC8+XHUwMGQ2bSBoZWUgZGkgTm9ocmVlc2NoIGxvXHUwMGRmIHplIGtyaWpqZSwgZG9ubiBlbiBhbmRlciBKcnVuZC1OaXZ2b2ggdVx1MDBkZnNcdTAwZjZoa2UsIHJcdTAwZTRoXHUwMGRmIGJvdnZlIGVuIGRlIFx1MDBjNGsuPGJyIC8+PGJyIC8+V2FzY2hlaW5sZXNjaCBlcyBkYXQgd2llbCBkYXQgPGkgbGFuZz0iZW4iPkdvb2dsZS1NYXBzPC9pPi1Ta3JlcHAgZW50d2VlZGVyIG5pdCByZXNjaHRlc2NoIGVuamVib25nZSB3b29kLCB1ZGRlciBuaXQgZFx1MDBlNCByZXNjaHRlamplIDxpIGxhbmc9ImVuIj5BUEk8L2k+LVNjaGxcdTAwZjZcdTAwZGZlbCBmXHUwMGY2ciBEaW5nIFdlYi1cdTAwZGZhaXQgc2NoZWtlIGRlaWh0LjxiciAvPjxiciAvPkZcdTAwZjZyIFByb2pyYW1taWVyZXIgamlkZF9ldCBIXHUwMGY2bHAgZG9fZHJcdTAwZjZ2dmVyLCA8YSBocmVmPSJodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZSIgdGFyZ2V0PSJfYmxhbmsiPndpIG1lciBkYXQgYWFuIGV0IExvdWZlIGJyZW5nazwvYT4uJywKZ2V0TGF5ZXJXYXJuaW5nOidEYXQgTml2dm9oIDxjb2RlPiR7bGF5ZXJUeXBlfTwvY29kZT4ga3VubnQgbml0IHJlc2NodGVzY2ggamVsYWFkZSB3XHUwMGU0XHUwMGU0ZGUuPGJyIC8+PGJyIC8+XHUwMGQ2bSBoZWUgZGkgTm9ocmVlc2NoIGxvXHUwMGRmIHplIGtyaWpqZSwgZG9ubiBlbiBhbmRlciBKcnVuZC1OaXZ2b2ggdVx1MDBkZnNcdTAwZjZoa3JlLCByXHUwMGU0aFx1MDBkZiBib3Z2ZSBlbiBkZSBcdTAwYzRrLjxiciAvPjxiciAvPldhc2NoZWlubGVzY2ggZXMgZGF0LCB3aWVsIGRhdCBTa3JlcHAgPGNvZGU+JHtsYXllckxpYn08L2NvZGU+IG5pdCByZXNjaHRlc2NoIGVuamVib25nZSB3b29kLjxiciAvPjxiciAvPkZcdTAwZjZyIFByb2pyYW1taWVyZXIgamlkZF9FdCBIXHUwMGY2bHAgZG9fZHJcdTAwZjZ2dmVyLCA8YSBocmVmPSJodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9IiB0YXJnZXQ9Il9ibGFuayI+d2kgbWVyIGRhdCBhYW4gZXQgTG91ZmUgYnJlbmdrPC9hPi4nLAoiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6Ik1vaFx1MDBkZnNodGFhYiA9IDEgOiAke3NjYWxlRGVub219IixXOiJXIixFOiJPIixOOiJOIixTOiJTIixyZXByb2plY3REZXByZWNhdGVkOiJEbyBicnVjaHMgZGUgVVx1MDBkZndhaGwgPGNvZGU+cmVwcm9qZWN0PC9jb2RlPiBvcCBkXHUwMGU0bSBOaXZ2b2ggPGNvZGU+JHtsYXllck5hbWV9PC9jb2RlPi4gRGkgVVx1MDBkZndhaGwgZXMgbml0IG1pZWggalx1MDBlNGhuIGplc2lubi4gU2Ugd29ociBkb2ZcdTAwZjZyIGplZGFhY2gsIFx1MDBmNm0gRGF0ZSBvcCBqZXNjaFx1MDBlNFx1MDBlNGZzbVx1MDBlNFx1MDBkZmVzY2ggZXJ1XHUwMGRmIGplam92dmUgS2FhdGUgYm92dmUgZHJvcCB6ZSBtb29sZSwgd2F0IFx1MDBlNHZ2ZXIgZW56d2VzY2hlIGJlc3NlciBtZXQgZFx1MDBlNCBcdTAwZDZuZ2Vyc2h0XHUwMGY2enVuZyBmXHUwMGY2ciBkZSBcdTAwZGZmXHUwMGU0XHUwMGU0cmVzY2hlIE1cdTAwZTRrYWF0b3IgQmVsZHNjaGVyIGplaWh0LiBEb2gga2FubnMgRGUgbWllaCBkclx1MDBmNnZ2ZXIgZmVuZ2Ugb3AgZFx1MDBlNCBTaWdnOiBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NwaGVyaWNhbE1lcmNhdG9yLiIsCm1ldGhvZERlcHJlY2F0ZWQ6IkhlZSBkaSBNZXRvb2QgZXMgbmltX21paCBha3RvXHUwMGU0bGwgdW4gZXQgd2VlZCBzZSBlbiBkXHUwMGU0IFZlcnNpb24gMy4wIG5pdCBtaWVoIGpcdTAwZTR2dmUuIE5lbW0gPGNvZGU+JHtuZXdNZXRob2R9PC9jb2RlPiBkb2ZcdTAwZjZcdTAwZjZyLiJ9KTtPcGVuTGF5ZXJzLkxhbmcuaXQ9e3VuaGFuZGxlZFJlcXVlc3Q6IkNvZGljZSBkaSByaXRvcm5vIGRlbGxhIHJpY2hpZXN0YSAke3N0YXR1c1RleHR9IixQZXJtYWxpbms6IlBlcm1hbGluayIsT3ZlcmxheXM6Ik92ZXJsYXlzIiwiQmFzZSBMYXllciI6IkxpdmVsbG8gYmFzZSIsbm9GSUQ6IkltcG9zc2liaWxlIGFnZ2lvcm5hcmUgdW4gZWxlbWVudG8gZ3JhZmljbyBjaGUgbm9uIGFiYmlhIGlsIEZJRC4iLGJyb3dzZXJOb3RTdXBwb3J0ZWQ6IklsIHR1byBicm93c2VyIG5vbiBzdXBwb3J0YSBpbCByZW5kZXJpbmcgdmV0dG9yaWFsZS4gSSByZW5kZXJpenphdG9yZSBhdHR1YWxlbW50ZSBzdXBwb3J0YXRpIHNvbm86XG4ke3JlbmRlcmVyc30iLG1pblpvb21MZXZlbEVycm9yOiJMYSBwcm9wcmlldFx1MDBlMCBtaW5ab29tTGV2ZWwgXHUwMGU4IGRhIHV0aWxpenphcmUgc29sYW1lbnRlIGNvbiBsaXZlbGxpIGNoZSBhYmJpYW5vIEZpeGVkWm9vbUxldmVscy4gSWwgZmF0dG8gY2hlIHF1ZXN0byBsaXZlbGxvIHdmcyBjb250cm9sbGkgbGEgcHJvcHJpZXRcdTAwZTAgbWluWm9vbUxldmVsIFx1MDBlOCB1biByZXRhZ2dpbyBkZWwgcGFzc2F0by4gTm9uIHBvc3NpYW1vIGNvbXVucXVlIHJpbXVvdmVybGEgc2VuemEgcm9tcGVyZSBsZSB2ZWNjaGllIGFwcGxpY2F6aW9uaSBjaGUgZGlwZW5kb25vIHN1IGRpIGVzc2EuUXVpbmRpIHNpYW1vIGNvc3RyZXR0aSBhIGRlcHJlY2FybGEgLS0gbWluWm9vbUxldmVsIGUgc2FyXHUwMGUwIHJpbW9zc2EgZGFsbGEgdmVzaW9uZSAzLjAuIFNpIHByZWdhIGRpIHV0aWxpenphcmUgaSBzZXR0YWdnaSBkaSByaXNvbHV6aW9uZSBtaW4vbWF4IGNvbWUgZGVzY3JpdHRvIHF1aTogaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyIsCmNvbW1pdFN1Y2Nlc3M6IlRyYW5zYXppb25lIFdGUzogU1VDQ0VTUyAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJUcmFuc2F6aW9uZSBXRlM6IEZBSUxFRCAke3Jlc3BvbnNlfSIsZ29vZ2xlV2FybmluZzoiSWwgbGl2ZWxsbyBHb29nbGUgbm9uIFx1MDBlOCByaXVzY2l0byBhIGNhcmljYXJlIGNvcnJldHRhbWVudGUuPGJyPjxicj5QZXIgZXZpdGFyZSBxdWVzdG8gbWVzc2FnZ2lvLCBzZWxlemlvbmEgdW4gbnVvdm8gQmFzZUxheWVyIG5lbCBzZWxldHRvcmUgZGkgbGl2ZWxsaSBuZWxsJ2FuZ29sbyBpbiBhbHRvIGEgZGVzdHJhLjxicj48YnI+UGlcdTAwZjkgcHJlY2lzYW1lbnRlLCBjaVx1MDBmMiBhY2NhZGUgcGVyY2hcdTAwZTggbGEgbGlicmVyaWEgR29vZ2xlIE1hcHMgbm9uIFx1MDBlOCBzdGF0YSBpbmNsdXNhIG5lbGxhIHBhZ2luYSwgb3BwdXJlIG5vbiBjb250aWVuZSBsYSBjb3JyZXR0YSBBUEkga2V5IHBlciBpbCB0dW8gc2l0by48YnI+PGJyPlN2aWx1cHBhdG9yaTogUGVyIGFpdXRvIHN1IGNvbWUgZmFybG8gZnVuemlvbmFyZSBjb3JyZXR0YW1lbnRlLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZScgdGFyZ2V0PSdfYmxhbmsnPmNsaWNjYSBxdWk8L2E+IiwKZ2V0TGF5ZXJXYXJuaW5nOiJJbCBsaXZlbGxvICR7bGF5ZXJUeXBlfSBub24gXHUwMGU4IHJpdXNjaXRvIGEgY2FyaWNhcmUgY29ycmV0dGFtZW50ZS48YnI+PGJyPlBlciBldml0YXJlIHF1ZXN0byBtZXNzYWdnaW8sIHNlbGV6aW9uYSB1biBudW92byBCYXNlTGF5ZXIgbmVsIHNlbGV0dG9yZSBkaSBsaXZlbGxpIG5lbGwnYW5nb2xvIGluIGFsdG8gYSBkZXN0cmEuPGJyPjxicj5QaVx1MDBmOSBwcmVjaXNhbWVudGUsIGNpXHUwMGYyIGFjY2FkZSBwZXJjaFx1MDBlOCBsYSBsaWJyZXJpYSAke2xheWVyTGlifSBub24gXHUwMGU4IHN0YXRhIGluY2x1c2EgbmVsbGEgcGFnaW5hLjxicj48YnI+U3ZpbHVwcGF0b3JpOiBQZXIgYWl1dG8gc3UgY29tZSBmYXJsbyBmdW56aW9uYXJlIGNvcnJldHRhbWVudGUsIDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvJHtsYXllckxpYn0nIHRhcmdldD0nX2JsYW5rJz5jbGljY2EgcXVpPC9hPiIsIlNjYWxlID0gMSA6ICR7c2NhbGVEZW5vbX0iOiJTY2FsYSA9IDEgOiAke3NjYWxlRGVub219IiwKcmVwcm9qZWN0RGVwcmVjYXRlZDoiU3RhaSB1dGlsaXp6YW5kbyBsJ29wemlvbmUgJ3JlcHJvamVjdCcgc3VsIGxpdmVsbG8gJHtsYXllck5hbWV9LiBRdWVzdGEgb3B6aW9uZSBcdTAwZTggZGVwcmVjYXRhOiBpbCBzdW8gdXRpbGl6em8gXHUwMGU4IHN0YXRvIGludHJvZG90dG8gcGVyc3VwcG9ydGFyZSBpbCBkaXNlZ25vIGRlaSBkYXRpIHNvcHJhIG1hcHBlIGNvbW1lcmNpYWxpLCBtYSB0YWxlIGZ1bnppb25hbGl0XHUwMGUwIGRvdnJlYmJlIGVzc2VyZSBvdHRlbnV0YSB0cmFtaXRlIGwndXRpbGl6em8gZGVsbGEgcHJvaWV6aW9uZSBTcGhlcmljYWwgTWVyY2F0b3IuIFBlciBtYWdnaW9yaSBpbmZvcm1hemlvbmkgY29uc3VsdGFyZSBxdWkgaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TcGhlcmljYWxNZXJjYXRvci4iLG1ldGhvZERlcHJlY2F0ZWQ6IlF1ZXN0byBtZXRvZG8gXHUwMGU4IHN0YXRvIGRlcHJlY2F0byBlIHNhclx1MDBlMCByaW1vc3NvIGRhbGxhIHZlcnNpb25lIDMuMC4gU2kgcHJlZ2EgZGkgdXRpbGl6emFyZSBpbCBtZXRvZG8gJHtuZXdNZXRob2R9IGluIGFsdGVybmF0aXZhLiIsCmVuZDoiIn07T3BlbkxheWVycy5Gb3JtYXQuV1BTQ2FwYWJpbGl0aWVzLnYxXzBfMD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7bmFtZXNwYWNlczp7b3dzOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L293cy8xLjEiLHdwczoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC93cHMvMS4wLjAiLHhsaW5rOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIn0scmVnRXhlczp7dHJpbVNwYWNlOi9eXHMqfFxzKiQvZyxyZW1vdmVTcGFjZTovXHMqL2csc3BsaXRTcGFjZTovXHMrLyx0cmltQ29tbWE6L1xzKixccyovZ30saW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pfSxyZWFkOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7YSYmOT09YS5ub2RlVHlwZSYmKGE9YS5kb2N1bWVudEVsZW1lbnQpOwp2YXIgYj17fTt0aGlzLnJlYWROb2RlKGEsYik7cmV0dXJuIGJ9LHJlYWRlcnM6e3dwczp7Q2FwYWJpbGl0aWVzOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxQcm9jZXNzT2ZmZXJpbmdzOmZ1bmN0aW9uKGEsYil7Yi5wcm9jZXNzT2ZmZXJpbmdzPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnByb2Nlc3NPZmZlcmluZ3MpfSxQcm9jZXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9e3Byb2Nlc3NWZXJzaW9uOnRoaXMuZ2V0QXR0cmlidXRlTlMoYSx0aGlzLm5hbWVzcGFjZXMud3BzLCJwcm9jZXNzVmVyc2lvbiIpfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7YltjLmlkZW50aWZpZXJdPWN9LExhbmd1YWdlczpmdW5jdGlvbihhLGIpe2IubGFuZ3VhZ2VzPVtdO3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLmxhbmd1YWdlcyl9LERlZmF1bHQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz17aXNEZWZhdWx0OiEwfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5wdXNoKGMpfSwKU3VwcG9ydGVkOmZ1bmN0aW9uKGEsYil7dmFyIGM9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IucHVzaChjKX19LG93czpPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24udjFfMV8wLnByb3RvdHlwZS5yZWFkZXJzLm93c30sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuV1BTQ2FwYWJpbGl0aWVzLnYxXzBfMCJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuUGluY2hab29tPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHt0eXBlOk9wZW5MYXllcnMuQ29udHJvbC5UWVBFX1RPT0wscGluY2hPcmlnaW46bnVsbCxjdXJyZW50Q2VudGVyOm51bGwsYXV0b0FjdGl2YXRlOiEwLHByZXNlcnZlQ2VudGVyOiExLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmhhbmRsZXI9bmV3IE9wZW5MYXllcnMuSGFuZGxlci5QaW5jaCh0aGlzLHtzdGFydDp0aGlzLnBpbmNoU3RhcnQsbW92ZTp0aGlzLnBpbmNoTW92ZSxkb25lOnRoaXMucGluY2hEb25lfSx0aGlzLmhhbmRsZXJPcHRpb25zKX0scGluY2hTdGFydDpmdW5jdGlvbihhKXt0aGlzLmN1cnJlbnRDZW50ZXI9dGhpcy5waW5jaE9yaWdpbj1hPXRoaXMucHJlc2VydmVDZW50ZXI/dGhpcy5tYXAuZ2V0UGl4ZWxGcm9tTG9uTGF0KHRoaXMubWFwLmdldENlbnRlcigpKToKYS54eX0scGluY2hNb3ZlOmZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5zY2FsZSxkPXRoaXMubWFwLmxheWVyQ29udGFpbmVyT3JpZ2luUHgsZT10aGlzLnBpbmNoT3JpZ2luLGY9dGhpcy5wcmVzZXJ2ZUNlbnRlcj90aGlzLm1hcC5nZXRQaXhlbEZyb21Mb25MYXQodGhpcy5tYXAuZ2V0Q2VudGVyKCkpOmEueHksZz1NYXRoLnJvdW5kKGQueCtmLngtZS54KyhjLTEpKihkLngtZS54KSksZD1NYXRoLnJvdW5kKGQueStmLnktZS55KyhjLTEpKihkLnktZS55KSk7dGhpcy5tYXAuYXBwbHlUcmFuc2Zvcm0oZyxkLGMpO3RoaXMuY3VycmVudENlbnRlcj1mfSxwaW5jaERvbmU6ZnVuY3Rpb24oYSxiLGMpe3RoaXMubWFwLmFwcGx5VHJhbnNmb3JtKCk7YT10aGlzLm1hcC5nZXRab29tRm9yUmVzb2x1dGlvbih0aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCkvYy5zY2FsZSwhMCk7aWYoYSE9PXRoaXMubWFwLmdldFpvb20oKXx8IXRoaXMuY3VycmVudENlbnRlci5lcXVhbHModGhpcy5waW5jaE9yaWdpbikpe3ZhciBiPQp0aGlzLm1hcC5nZXRSZXNvbHV0aW9uRm9yWm9vbShhKSxjPXRoaXMubWFwLmdldExvbkxhdEZyb21QaXhlbCh0aGlzLnBpbmNoT3JpZ2luKSxkPXRoaXMuY3VycmVudENlbnRlcixlPXRoaXMubWFwLmdldFNpemUoKTtjLmxvbis9YiooZS53LzItZC54KTtjLmxhdC09YiooZS5oLzItZC55KTt0aGlzLm1hcC5kaXYuY2xpZW50V2lkdGg9dGhpcy5tYXAuZGl2LmNsaWVudFdpZHRoO3RoaXMubWFwLnNldENlbnRlcihjLGEpfX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLlBpbmNoWm9vbSJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuVG91Y2hOYXZpZ2F0aW9uPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHtkcmFnUGFuOm51bGwsZHJhZ1Bhbk9wdGlvbnM6bnVsbCxwaW5jaFpvb206bnVsbCxwaW5jaFpvb21PcHRpb25zOm51bGwsY2xpY2tIYW5kbGVyT3B0aW9uczpudWxsLGRvY3VtZW50RHJhZzohMSxhdXRvQWN0aXZhdGU6ITAsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXt0aGlzLmhhbmRsZXJzPXt9O09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmRlYWN0aXZhdGUoKTt0aGlzLmRyYWdQYW4mJnRoaXMuZHJhZ1Bhbi5kZXN0cm95KCk7dGhpcy5kcmFnUGFuPW51bGw7dGhpcy5waW5jaFpvb20mJih0aGlzLnBpbmNoWm9vbS5kZXN0cm95KCksZGVsZXRlIHRoaXMucGluY2hab29tKTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcywKYXJndW1lbnRzKX0sYWN0aXZhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5hY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk/KHRoaXMuZHJhZ1Bhbi5hY3RpdmF0ZSgpLHRoaXMuaGFuZGxlcnMuY2xpY2suYWN0aXZhdGUoKSx0aGlzLnBpbmNoWm9vbS5hY3RpdmF0ZSgpLCEwKTohMX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3JldHVybiBPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpPyh0aGlzLmRyYWdQYW4uZGVhY3RpdmF0ZSgpLHRoaXMuaGFuZGxlcnMuY2xpY2suZGVhY3RpdmF0ZSgpLHRoaXMucGluY2hab29tLmRlYWN0aXZhdGUoKSwhMCk6ITF9LGRyYXc6ZnVuY3Rpb24oKXt2YXIgYT17Y2xpY2s6dGhpcy5kZWZhdWx0Q2xpY2ssZGJsY2xpY2s6dGhpcy5kZWZhdWx0RGJsQ2xpY2t9LGI9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7ImRvdWJsZSI6ITAsc3RvcERvdWJsZTohMCwKcGl4ZWxUb2xlcmFuY2U6Mn0sdGhpcy5jbGlja0hhbmRsZXJPcHRpb25zKTt0aGlzLmhhbmRsZXJzLmNsaWNrPW5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuQ2xpY2sodGhpcyxhLGIpO3RoaXMuZHJhZ1Bhbj1uZXcgT3BlbkxheWVycy5Db250cm9sLkRyYWdQYW4oT3BlbkxheWVycy5VdGlsLmV4dGVuZCh7bWFwOnRoaXMubWFwLGRvY3VtZW50RHJhZzp0aGlzLmRvY3VtZW50RHJhZ30sdGhpcy5kcmFnUGFuT3B0aW9ucykpO3RoaXMuZHJhZ1Bhbi5kcmF3KCk7dGhpcy5waW5jaFpvb209bmV3IE9wZW5MYXllcnMuQ29udHJvbC5QaW5jaFpvb20oT3BlbkxheWVycy5VdGlsLmV4dGVuZCh7bWFwOnRoaXMubWFwfSx0aGlzLnBpbmNoWm9vbU9wdGlvbnMpKX0sZGVmYXVsdENsaWNrOmZ1bmN0aW9uKGEpe2EubGFzdFRvdWNoZXMmJjI9PWEubGFzdFRvdWNoZXMubGVuZ3RoJiZ0aGlzLm1hcC56b29tT3V0KCl9LGRlZmF1bHREYmxDbGljazpmdW5jdGlvbihhKXt0aGlzLm1hcC56b29tVG8odGhpcy5tYXAuem9vbSsKMSxhLnh5KX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLlRvdWNoTmF2aWdhdGlvbiJ9KTtPcGVuTGF5ZXJzLlN0eWxlMj1PcGVuTGF5ZXJzLkNsYXNzKHtpZDpudWxsLG5hbWU6bnVsbCx0aXRsZTpudWxsLGRlc2NyaXB0aW9uOm51bGwsbGF5ZXJOYW1lOm51bGwsaXNEZWZhdWx0OiExLHJ1bGVzOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsYSk7dGhpcy5pZD1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlVW5pcXVlSUQodGhpcy5DTEFTU19OQU1FKyJfIil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPXRoaXMucnVsZXMubGVuZ3RoO2E8YjthKyspdGhpcy5ydWxlc1thXS5kZXN0cm95KCk7ZGVsZXRlIHRoaXMucnVsZXN9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSx0aGlzKTtpZih0aGlzLnJ1bGVzKXthLnJ1bGVzPVtdO2Zvcih2YXIgYj0wLGM9dGhpcy5ydWxlcy5sZW5ndGg7YjxjOysrYilhLnJ1bGVzLnB1c2godGhpcy5ydWxlc1tiXS5jbG9uZSgpKX1yZXR1cm4gbmV3IE9wZW5MYXllcnMuU3R5bGUyKGEpfSwKQ0xBU1NfTkFNRToiT3BlbkxheWVycy5TdHlsZTIifSk7T3BlbkxheWVycy5MYW5nLmZ1cj1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7UGVybWFsaW5rOiJMZWFtIFBlcm1hbmVudCIsT3ZlcmxheXM6IkxpdmVpIHBhcnNvcmUiLCJCYXNlIExheWVyIjoiTGl2ZWwgZGkgYmFzZSIsYnJvd3Nlck5vdFN1cHBvcnRlZDoiSWwgdG8gc2dhcmZhZFx1MDBmNHIgbm9sIHN1cHVhcnRlIGxhIHJlbmRlcml6YXppb24gdmV0b3JpXHUwMGUybC4gQWwgbW9tZW50IGEgc29uIHN1cHVhcnRcdTAwZTJ0czpcbiR7cmVuZGVyZXJzfSIsIlNjYWxlID0gMSA6ICR7c2NhbGVEZW5vbX0iOiJTY2phbGUgPSAxIDogJHtzY2FsZURlbm9tfSIsVzoiTyIsRToiRSIsTjoiTiIsUzoiUyJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5XRlM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5HTUwse2xheWVyOm51bGwsd2ZzbnM6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvd2ZzIixvZ2NuczoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vZ2MiLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLkZvcm1hdC5HTUwucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pO3RoaXMubGF5ZXI9Yjt0aGlzLmxheWVyLmZlYXR1cmVOUyYmKHRoaXMuZmVhdHVyZU5TPXRoaXMubGF5ZXIuZmVhdHVyZU5TKTt0aGlzLmxheWVyLm9wdGlvbnMuZ2VvbWV0cnlfY29sdW1uJiYodGhpcy5nZW9tZXRyeU5hbWU9dGhpcy5sYXllci5vcHRpb25zLmdlb21ldHJ5X2NvbHVtbik7dGhpcy5sYXllci5vcHRpb25zLnR5cGVuYW1lJiYodGhpcy5mZWF0dXJlTmFtZT10aGlzLmxheWVyLm9wdGlvbnMudHlwZW5hbWUpfSx3cml0ZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLndmc25zLAoid2ZzOlRyYW5zYWN0aW9uIik7Yi5zZXRBdHRyaWJ1dGUoInZlcnNpb24iLCIxLjAuMCIpO2Iuc2V0QXR0cmlidXRlKCJzZXJ2aWNlIiwiV0ZTIik7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspc3dpdGNoKGFbY10uc3RhdGUpe2Nhc2UgT3BlbkxheWVycy5TdGF0ZS5JTlNFUlQ6Yi5hcHBlbmRDaGlsZCh0aGlzLmluc2VydChhW2NdKSk7YnJlYWs7Y2FzZSBPcGVuTGF5ZXJzLlN0YXRlLlVQREFURTpiLmFwcGVuZENoaWxkKHRoaXMudXBkYXRlKGFbY10pKTticmVhaztjYXNlIE9wZW5MYXllcnMuU3RhdGUuREVMRVRFOmIuYXBwZW5kQ2hpbGQodGhpcy5yZW1vdmUoYVtjXSkpfXJldHVybiBPcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLndyaXRlLmFwcGx5KHRoaXMsW2JdKX0sY3JlYXRlRmVhdHVyZVhNTDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmJ1aWxkR2VvbWV0cnlOb2RlKGEuZ2VvbWV0cnkpLGM9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5mZWF0dXJlTlMsImZlYXR1cmU6IisKdGhpcy5nZW9tZXRyeU5hbWUpO2MuYXBwZW5kQ2hpbGQoYik7Yj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmZlYXR1cmVOUywiZmVhdHVyZToiK3RoaXMuZmVhdHVyZU5hbWUpO2IuYXBwZW5kQ2hpbGQoYyk7Zm9yKHZhciBkIGluIGEuYXR0cmlidXRlcyl7dmFyIGM9dGhpcy5jcmVhdGVUZXh0Tm9kZShhLmF0dHJpYnV0ZXNbZF0pLGU9ZDstMSE9ZC5zZWFyY2goIjoiKSYmKGU9ZC5zcGxpdCgiOiIpWzFdKTtlPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMuZmVhdHVyZU5TLCJmZWF0dXJlOiIrZSk7ZS5hcHBlbmRDaGlsZChjKTtiLmFwcGVuZENoaWxkKGUpfXJldHVybiBifSxpbnNlcnQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy53ZnNucywid2ZzOkluc2VydCIpO2IuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVGZWF0dXJlWE1MKGEpKTtyZXR1cm4gYn0sdXBkYXRlOmZ1bmN0aW9uKGEpe2EuZmlkfHxPcGVuTGF5ZXJzLkNvbnNvbGUudXNlckVycm9yKE9wZW5MYXllcnMuaTE4bigibm9GSUQiKSk7CnZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMud2ZzbnMsIndmczpVcGRhdGUiKTtiLnNldEF0dHJpYnV0ZSgidHlwZU5hbWUiLHRoaXMuZmVhdHVyZVByZWZpeCsiOiIrdGhpcy5mZWF0dXJlTmFtZSk7Yi5zZXRBdHRyaWJ1dGUoInhtbG5zOiIrdGhpcy5mZWF0dXJlUHJlZml4LHRoaXMuZmVhdHVyZU5TKTt2YXIgYz10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLndmc25zLCJ3ZnM6UHJvcGVydHkiKSxkPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMud2ZzbnMsIndmczpOYW1lIiksZT10aGlzLmNyZWF0ZVRleHROb2RlKHRoaXMuZ2VvbWV0cnlOYW1lKTtkLmFwcGVuZENoaWxkKGUpO2MuYXBwZW5kQ2hpbGQoZCk7ZD10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLndmc25zLCJ3ZnM6VmFsdWUiKTtlPXRoaXMuYnVpbGRHZW9tZXRyeU5vZGUoYS5nZW9tZXRyeSk7YS5sYXllciYmZS5zZXRBdHRyaWJ1dGUoInNyc05hbWUiLGEubGF5ZXIucHJvamVjdGlvbi5nZXRDb2RlKCkpOwpkLmFwcGVuZENoaWxkKGUpO2MuYXBwZW5kQ2hpbGQoZCk7Yi5hcHBlbmRDaGlsZChjKTtmb3IodmFyIGYgaW4gYS5hdHRyaWJ1dGVzKWM9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy53ZnNucywid2ZzOlByb3BlcnR5IiksZD10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLndmc25zLCJ3ZnM6TmFtZSIpLGQuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVUZXh0Tm9kZShmKSksYy5hcHBlbmRDaGlsZChkKSxkPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMud2ZzbnMsIndmczpWYWx1ZSIpLGQuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVUZXh0Tm9kZShhLmF0dHJpYnV0ZXNbZl0pKSxjLmFwcGVuZENoaWxkKGQpLGIuYXBwZW5kQ2hpbGQoYyk7Yz10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLm9nY25zLCJvZ2M6RmlsdGVyIik7Zj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLm9nY25zLCJvZ2M6RmVhdHVyZUlkIik7Zi5zZXRBdHRyaWJ1dGUoImZpZCIsYS5maWQpO2MuYXBwZW5kQ2hpbGQoZik7CmIuYXBwZW5kQ2hpbGQoYyk7cmV0dXJuIGJ9LHJlbW92ZTpmdW5jdGlvbihhKXtpZighYS5maWQpcmV0dXJuIE9wZW5MYXllcnMuQ29uc29sZS51c2VyRXJyb3IoT3BlbkxheWVycy5pMThuKCJub0ZJRCIpKSwhMTt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLndmc25zLCJ3ZnM6RGVsZXRlIik7Yi5zZXRBdHRyaWJ1dGUoInR5cGVOYW1lIix0aGlzLmZlYXR1cmVQcmVmaXgrIjoiK3RoaXMuZmVhdHVyZU5hbWUpO2Iuc2V0QXR0cmlidXRlKCJ4bWxuczoiK3RoaXMuZmVhdHVyZVByZWZpeCx0aGlzLmZlYXR1cmVOUyk7dmFyIGM9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5vZ2Nucywib2djOkZpbHRlciIpLGQ9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5vZ2Nucywib2djOkZlYXR1cmVJZCIpO2Quc2V0QXR0cmlidXRlKCJmaWQiLGEuZmlkKTtjLmFwcGVuZENoaWxkKGQpO2IuYXBwZW5kQ2hpbGQoYyk7cmV0dXJuIGJ9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmxheWVyPQpudWxsfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XRlMifSk7T3BlbkxheWVycy5Gb3JtYXQuU0xELnYxXzBfMF9HZW9TZXJ2ZXI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5TTEQudjFfMF8wLHt2ZXJzaW9uOiIxLjAuMCIscHJvZmlsZToiR2VvU2VydmVyIixyZWFkZXJzOk9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtzbGQ6T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe1ByaW9yaXR5OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5yZWFkZXJzLm9nYy5fZXhwcmVzc2lvbi5jYWxsKHRoaXMsYSk7YyYmKGIucHJpb3JpdHk9Yyl9LFZlbmRvck9wdGlvbjpmdW5jdGlvbihhLGIpe2IudmVuZG9yT3B0aW9uc3x8KGIudmVuZG9yT3B0aW9ucz17fSk7Yi52ZW5kb3JPcHRpb25zW2EuZ2V0QXR0cmlidXRlKCJuYW1lIildPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sVGV4dFN5bWJvbGl6ZXI6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLkZvcm1hdC5TTEQudjFfMF8wLnByb3RvdHlwZS5yZWFkZXJzLnNsZC5UZXh0U3ltYm9saXplci5hcHBseSh0aGlzLAphcmd1bWVudHMpO3ZhciBjPXRoaXMubXVsdGlwbGVTeW1ib2xpemVycz9iLnN5bWJvbGl6ZXJzW2Iuc3ltYm9saXplcnMubGVuZ3RoLTFdOmIuc3ltYm9saXplci5UZXh0O3ZvaWQgMD09PWMuZ3JhcGhpYyYmKGMuZ3JhcGhpYz0hMSl9fSxPcGVuTGF5ZXJzLkZvcm1hdC5TTEQudjFfMF8wLnByb3RvdHlwZS5yZWFkZXJzLnNsZCl9LE9wZW5MYXllcnMuRm9ybWF0LlNMRC52MV8wXzAucHJvdG90eXBlLnJlYWRlcnMpLHdyaXRlcnM6T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3NsZDpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7UHJpb3JpdHk6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMud3JpdGVycy5zbGQuX09HQ0V4cHJlc3Npb24uY2FsbCh0aGlzLCJzbGQ6UHJpb3JpdHkiLGEpfSxWZW5kb3JPcHRpb246ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygic2xkOlZlbmRvck9wdGlvbiIse2F0dHJpYnV0ZXM6e25hbWU6YS5uYW1lfSwKdmFsdWU6YS52YWx1ZX0pfSxUZXh0U3ltYm9saXplcjpmdW5jdGlvbihhKXt2YXIgYj1PcGVuTGF5ZXJzLkZvcm1hdC5TTEQudjFfMF8wLnByb3RvdHlwZS53cml0ZXJzLnNsZC5UZXh0U3ltYm9saXplci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ITEhPT1hLmdyYXBoaWMmJihhLmV4dGVybmFsR3JhcGhpY3x8YS5ncmFwaGljTmFtZSkmJnRoaXMud3JpdGVOb2RlKCJHcmFwaGljIixhLGIpOyJwcmlvcml0eSJpbiBhJiZ0aGlzLndyaXRlTm9kZSgiUHJpb3JpdHkiLGEucHJpb3JpdHksYik7cmV0dXJuIHRoaXMuYWRkVmVuZG9yT3B0aW9ucyhiLGEpfSxQb2ludFN5bWJvbGl6ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9T3BlbkxheWVycy5Gb3JtYXQuU0xELnYxXzBfMC5wcm90b3R5cGUud3JpdGVycy5zbGQuUG9pbnRTeW1ib2xpemVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5hZGRWZW5kb3JPcHRpb25zKGIsYSl9LExpbmVTeW1ib2xpemVyOmZ1bmN0aW9uKGEpe3ZhciBiPQpPcGVuTGF5ZXJzLkZvcm1hdC5TTEQudjFfMF8wLnByb3RvdHlwZS53cml0ZXJzLnNsZC5MaW5lU3ltYm9saXplci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuYWRkVmVuZG9yT3B0aW9ucyhiLGEpfSxQb2x5Z29uU3ltYm9saXplcjpmdW5jdGlvbihhKXt2YXIgYj1PcGVuTGF5ZXJzLkZvcm1hdC5TTEQudjFfMF8wLnByb3RvdHlwZS53cml0ZXJzLnNsZC5Qb2x5Z29uU3ltYm9saXplci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuYWRkVmVuZG9yT3B0aW9ucyhiLGEpfX0sT3BlbkxheWVycy5Gb3JtYXQuU0xELnYxXzBfMC5wcm90b3R5cGUud3JpdGVycy5zbGQpfSxPcGVuTGF5ZXJzLkZvcm1hdC5TTEQudjFfMF8wLnByb3RvdHlwZS53cml0ZXJzKSxhZGRWZW5kb3JPcHRpb25zOmZ1bmN0aW9uKGEsYil7aWYoYi52ZW5kb3JPcHRpb25zKWZvcih2YXIgYyBpbiBiLnZlbmRvck9wdGlvbnMpdGhpcy53cml0ZU5vZGUoIlZlbmRvck9wdGlvbiIse25hbWU6YywKdmFsdWU6Yi52ZW5kb3JPcHRpb25zW2NdfSxhKTtyZXR1cm4gYX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuU0xELnYxXzBfMF9HZW9TZXJ2ZXIifSk7T3BlbkxheWVycy5MYXllci5Cb3hlcz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIuTWFya2Vycyx7ZHJhd01hcmtlcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm1hcC5nZXRMYXllclB4RnJvbUxvbkxhdCh7bG9uOmEuYm91bmRzLmxlZnQsbGF0OmEuYm91bmRzLnRvcH0pLGM9dGhpcy5tYXAuZ2V0TGF5ZXJQeEZyb21Mb25MYXQoe2xvbjphLmJvdW5kcy5yaWdodCxsYXQ6YS5ib3VuZHMuYm90dG9tfSk7bnVsbD09Y3x8bnVsbD09Yj9hLmRpc3BsYXkoITEpOihiPWEuZHJhdyhiLHt3Ok1hdGgubWF4KDEsYy54LWIueCksaDpNYXRoLm1heCgxLGMueS1iLnkpfSksYS5kcmF3bnx8KHRoaXMuZGl2LmFwcGVuZENoaWxkKGIpLGEuZHJhd249ITApKX0scmVtb3ZlTWFya2VyOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuVXRpbC5yZW1vdmVJdGVtKHRoaXMubWFya2VycyxhKTtudWxsIT1hLmRpdiYmYS5kaXYucGFyZW50Tm9kZT09dGhpcy5kaXYmJnRoaXMuZGl2LnJlbW92ZUNoaWxkKGEuZGl2KX0sCkNMQVNTX05BTUU6Ik9wZW5MYXllcnMuTGF5ZXIuQm94ZXMifSk7T3BlbkxheWVycy5Gb3JtYXQuV0ZTQ2FwYWJpbGl0aWVzLnYxXzBfMD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LldGU0NhcGFiaWxpdGllcy52MSx7cmVhZGVyczp7d2ZzOk9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtTZXJ2aWNlOmZ1bmN0aW9uKGEsYil7Yi5zZXJ2aWNlPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnNlcnZpY2UpfSxGZWVzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDaGlsZFZhbHVlKGEpO2MmJiJub25lIiE9Yy50b0xvd2VyQ2FzZSgpJiYoYi5mZWVzPWMpfSxBY2Nlc3NDb25zdHJhaW50czpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKTtjJiYibm9uZSIhPWMudG9Mb3dlckNhc2UoKSYmKGIuYWNjZXNzQ29uc3RyYWludHM9Yyl9LE9ubGluZVJlc291cmNlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDaGlsZFZhbHVlKGEpO2MmJiJub25lIiE9Yy50b0xvd2VyQ2FzZSgpJiYoYi5vbmxpbmVSZXNvdXJjZT0KYyl9LEtleXdvcmRzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDaGlsZFZhbHVlKGEpO2MmJiJub25lIiE9Yy50b0xvd2VyQ2FzZSgpJiYoYi5rZXl3b3Jkcz1jLnNwbGl0KCIsICIpKX0sQ2FwYWJpbGl0eTpmdW5jdGlvbihhLGIpe2IuY2FwYWJpbGl0eT17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5jYXBhYmlsaXR5KX0sUmVxdWVzdDpmdW5jdGlvbihhLGIpe2IucmVxdWVzdD17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5yZXF1ZXN0KX0sR2V0RmVhdHVyZTpmdW5jdGlvbihhLGIpe2IuZ2V0ZmVhdHVyZT17aHJlZjp7fSxmb3JtYXRzOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5nZXRmZWF0dXJlKX0sUmVzdWx0Rm9ybWF0OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWEuY2hpbGROb2RlcyxkLGU9MDtlPGMubGVuZ3RoO2UrKylkPWNbZV0sMT09ZC5ub2RlVHlwZSYmYi5mb3JtYXRzLnB1c2goZC5ub2RlTmFtZSl9LERDUFR5cGU6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsCmIpfSxIVFRQOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuaHJlZil9LEdldDpmdW5jdGlvbihhLGIpe2IuZ2V0PWEuZ2V0QXR0cmlidXRlKCJvbmxpbmVSZXNvdXJjZSIpfSxQb3N0OmZ1bmN0aW9uKGEsYil7Yi5wb3N0PWEuZ2V0QXR0cmlidXRlKCJvbmxpbmVSZXNvdXJjZSIpfSxTUlM6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYSk7YyYmKGIuc3JzPWMpfX0sT3BlbkxheWVycy5Gb3JtYXQuV0ZTQ2FwYWJpbGl0aWVzLnYxLnByb3RvdHlwZS5yZWFkZXJzLndmcyl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LldGU0NhcGFiaWxpdGllcy52MV8wXzAifSk7T3BlbkxheWVycy5MYW5nLmVuPXt1bmhhbmRsZWRSZXF1ZXN0OiJVbmhhbmRsZWQgcmVxdWVzdCByZXR1cm4gJHtzdGF0dXNUZXh0fSIsUGVybWFsaW5rOiJQZXJtYWxpbmsiLE92ZXJsYXlzOiJPdmVybGF5cyIsIkJhc2UgTGF5ZXIiOiJCYXNlIExheWVyIixub0ZJRDoiQ2FuJ3QgdXBkYXRlIGEgZmVhdHVyZSBmb3Igd2hpY2ggdGhlcmUgaXMgbm8gRklELiIsYnJvd3Nlck5vdFN1cHBvcnRlZDoiWW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdmVjdG9yIHJlbmRlcmluZy4gQ3VycmVudGx5IHN1cHBvcnRlZCByZW5kZXJlcnMgYXJlOlxuJHtyZW5kZXJlcnN9IixtaW5ab29tTGV2ZWxFcnJvcjoiVGhlIG1pblpvb21MZXZlbCBwcm9wZXJ0eSBpcyBvbmx5IGludGVuZGVkIGZvciB1c2Ugd2l0aCB0aGUgRml4ZWRab29tTGV2ZWxzLWRlc2NlbmRlbnQgbGF5ZXJzLiBUaGF0IHRoaXMgd2ZzIGxheWVyIGNoZWNrcyBmb3IgbWluWm9vbUxldmVsIGlzIGEgcmVsaWMgb2YgdGhlcGFzdC4gV2UgY2Fubm90LCBob3dldmVyLCByZW1vdmUgaXQgd2l0aG91dCBwb3NzaWJseSBicmVha2luZyBPTCBiYXNlZCBhcHBsaWNhdGlvbnMgdGhhdCBtYXkgZGVwZW5kIG9uIGl0LiBUaGVyZWZvcmUgd2UgYXJlIGRlcHJlY2F0aW5nIGl0IC0tIHRoZSBtaW5ab29tTGV2ZWwgY2hlY2sgYmVsb3cgd2lsbCBiZSByZW1vdmVkIGF0IDMuMC4gUGxlYXNlIGluc3RlYWQgdXNlIG1pbi9tYXggcmVzb2x1dGlvbiBzZXR0aW5nIGFzIGRlc2NyaWJlZCBoZXJlOiBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NldHRpbmdab29tTGV2ZWxzIiwKY29tbWl0U3VjY2VzczoiV0ZTIFRyYW5zYWN0aW9uOiBTVUNDRVNTICR7cmVzcG9uc2V9Iixjb21taXRGYWlsZWQ6IldGUyBUcmFuc2FjdGlvbjogRkFJTEVEICR7cmVzcG9uc2V9Iixnb29nbGVXYXJuaW5nOiJUaGUgR29vZ2xlIExheWVyIHdhcyB1bmFibGUgdG8gbG9hZCBjb3JyZWN0bHkuPGJyPjxicj5UbyBnZXQgcmlkIG9mIHRoaXMgbWVzc2FnZSwgc2VsZWN0IGEgbmV3IEJhc2VMYXllciBpbiB0aGUgbGF5ZXIgc3dpdGNoZXIgaW4gdGhlIHVwcGVyLXJpZ2h0IGNvcm5lci48YnI+PGJyPk1vc3QgbGlrZWx5LCB0aGlzIGlzIGJlY2F1c2UgdGhlIEdvb2dsZSBNYXBzIGxpYnJhcnkgc2NyaXB0IHdhcyBlaXRoZXIgbm90IGluY2x1ZGVkLCBvciBkb2VzIG5vdCBjb250YWluIHRoZSBjb3JyZWN0IEFQSSBrZXkgZm9yIHlvdXIgc2l0ZS48YnI+PGJyPkRldmVsb3BlcnM6IEZvciBoZWxwIGdldHRpbmcgdGhpcyB3b3JraW5nIGNvcnJlY3RseSwgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9Hb29nbGUnIHRhcmdldD0nX2JsYW5rJz5jbGljayBoZXJlPC9hPiIsCmdldExheWVyV2FybmluZzoiVGhlICR7bGF5ZXJUeXBlfSBMYXllciB3YXMgdW5hYmxlIHRvIGxvYWQgY29ycmVjdGx5Ljxicj48YnI+VG8gZ2V0IHJpZCBvZiB0aGlzIG1lc3NhZ2UsIHNlbGVjdCBhIG5ldyBCYXNlTGF5ZXIgaW4gdGhlIGxheWVyIHN3aXRjaGVyIGluIHRoZSB1cHBlci1yaWdodCBjb3JuZXIuPGJyPjxicj5Nb3N0IGxpa2VseSwgdGhpcyBpcyBiZWNhdXNlIHRoZSAke2xheWVyTGlifSBsaWJyYXJ5IHNjcmlwdCB3YXMgbm90IGNvcnJlY3RseSBpbmNsdWRlZC48YnI+PGJyPkRldmVsb3BlcnM6IEZvciBoZWxwIGdldHRpbmcgdGhpcyB3b3JraW5nIGNvcnJlY3RseSwgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS8ke2xheWVyTGlifScgdGFyZ2V0PSdfYmxhbmsnPmNsaWNrIGhlcmU8L2E+IiwiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6IlNjYWxlID0gMSA6ICR7c2NhbGVEZW5vbX0iLFc6IlciLEU6IkUiLE46Ik4iLFM6IlMiLEdyYXRpY3VsZToiR3JhdGljdWxlIiwKcmVwcm9qZWN0RGVwcmVjYXRlZDoiWW91IGFyZSB1c2luZyB0aGUgJ3JlcHJvamVjdCcgb3B0aW9uIG9uIHRoZSAke2xheWVyTmFtZX0gbGF5ZXIuIFRoaXMgb3B0aW9uIGlzIGRlcHJlY2F0ZWQ6IGl0cyB1c2Ugd2FzIGRlc2lnbmVkIHRvIHN1cHBvcnQgZGlzcGxheWluZyBkYXRhIG92ZXIgY29tbWVyY2lhbCBiYXNlbWFwcywgYnV0IHRoYXQgZnVuY3Rpb25hbGl0eSBzaG91bGQgbm93IGJlIGFjaGlldmVkIGJ5IHVzaW5nIFNwaGVyaWNhbCBNZXJjYXRvciBzdXBwb3J0LiBNb3JlIGluZm9ybWF0aW9uIGlzIGF2YWlsYWJsZSBmcm9tIGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU3BoZXJpY2FsTWVyY2F0b3IuIixtZXRob2REZXByZWNhdGVkOiJUaGlzIG1ldGhvZCBoYXMgYmVlbiBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gMy4wLiBQbGVhc2UgdXNlICR7bmV3TWV0aG9kfSBpbnN0ZWFkLiIsZW5kOiIifTtPcGVuTGF5ZXJzLkxhbmdbImVuLUNBIl09T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe30sT3BlbkxheWVycy5MYW5nLmVuKTtPcGVuTGF5ZXJzLkxhbmcuamE9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3VuaGFuZGxlZFJlcXVlc3Q6Ilx1NjcyYVx1NTFlNlx1NzQwNlx1MzA2ZVx1ODk4MVx1NmM0Mlx1MzA2ZiAke3N0YXR1c1RleHR9IFx1MzA5Mlx1OGZkNFx1MzA1N1x1MzA3ZVx1MzA1OSIsUGVybWFsaW5rOiJcdTMwZDFcdTMwZmNcdTMwZGVcdTMwZWFcdTMwZjNcdTMwYWYiLE92ZXJsYXlzOiJcdTMwYWFcdTMwZmNcdTMwZDBcdTMwZmNcdTMwZWNcdTMwYTQiLCJCYXNlIExheWVyIjoiXHU1N2ZhXHU1ZTk1XHUzMGVjXHUzMGE0XHUzMGU0XHUzMGZjIixub0ZJRDoiRklEIFx1MzA2ZVx1MzA2YVx1MzA0NFx1NTczMFx1NzI2OVx1MzA2Zlx1NjZmNFx1NjViMFx1MzA2N1x1MzA0ZFx1MzA3ZVx1MzA1Ylx1MzA5M1x1MzAwMiIsYnJvd3Nlck5vdFN1cHBvcnRlZDoiXHUzMDQyXHUzMDZhXHUzMDVmXHUzMDZlXHUzMGQ2XHUzMGU5XHUzMGE2XHUzMGI2XHUzMDZmXHUzMGQ5XHUzMGFmXHUzMGJmXHUzMGZjXHUzMGIwXHUzMGU5XHUzMGQ1XHUzMGEzXHUzMGMzXHUzMGFmXHUzMGI5XHUzMDZlXHU2M2NmXHU1MTk5XHUzMDZiXHU1YmZlXHU1ZmRjXHUzMDU3XHUzMDY2XHUzMDQ0XHUzMDdlXHUzMDViXHUzMDkzXHUzMDAyXHU3M2ZlXHU2NjQyXHU3MGI5XHUzMDY3XHU1YmZlXHU1ZmRjXHUzMDU3XHUzMDY2XHUzMDQ0XHUzMDhiXHUzMGJkXHUzMGQ1XHUzMGM4XHUzMGE2XHUzMGE3XHUzMGEyXHUzMDZmXHU0ZWU1XHU0ZTBiXHUzMDZlXHUzMDgyXHUzMDZlXHUzMDY3XHUzMDU5XHUzMDAyXG4ke3JlbmRlcmVyc30iLAptaW5ab29tTGV2ZWxFcnJvcjoibWluWm9vbUxldmVsIFx1MzBkN1x1MzBlZFx1MzBkMVx1MzBjNlx1MzBhM1x1MzA2ZiBGaXhlZFpvb21MZXZlbHMgXHUzMDkyXHU3ZDk5XHU2MjdmXHUzMDU5XHUzMDhiXHUzMGVjXHUzMGE0XHUzMGU0XHUzMGZjXHUzMDY3XHUzMDZlXHU0ZjdmXHU3NTI4XHUzMDZlXHUzMDdmXHUzMDkyXHU2MGYzXHU1YjlhXHUzMDU3XHUzMDY2XHUzMDQ0XHUzMDdlXHUzMDU5XHUzMDAyXHUzMDUzXHUzMDZlIG1pblpvb21MZXZlbCBcdTMwNmJcdTViZmVcdTMwNTlcdTMwOGIgV0ZTIFx1MzBlY1x1MzBhNFx1MzBlNFx1MzBmY1x1MzA2ZVx1NjkxY1x1NjdmYlx1MzA2Zlx1NmI3NFx1NTNmMlx1NzY4NFx1MzA2YVx1MzA4Mlx1MzA2ZVx1MzA2N1x1MzA1OVx1MzAwMlx1MzA1N1x1MzA0Ylx1MzA1N1x1MzA2YVx1MzA0Y1x1MzA4OVx1MzAwMVx1MzA1M1x1MzA2ZVx1NjkxY1x1NjdmYlx1MzA5Mlx1OTY2NFx1NTNiYlx1MzA1OVx1MzA4Ylx1MzA2OFx1MzA1ZFx1MzA4Y1x1MzA2Ylx1NGY5ZFx1NWI1OFx1MzA1OVx1MzA4YiBPcGVuTGF5ZXJzIFx1MzBkOVx1MzBmY1x1MzBiOVx1MzA2ZVx1MzBhMlx1MzBkN1x1MzBlYVx1MzBiMVx1MzBmY1x1MzBiN1x1MzBlN1x1MzBmM1x1MzA5Mlx1NzgzNFx1NThjYVx1MzA1N1x1MzA2Nlx1MzA1N1x1MzA3ZVx1MzA0Nlx1NTNlZlx1ODBmZFx1NjAyN1x1MzA0Y1x1MzA0Mlx1MzA4YVx1MzA3ZVx1MzA1OVx1MzAwMlx1MzA4OFx1MzA2M1x1MzA2Nlx1NWVjM1x1NmI2Mlx1MzA0Y1x1NGU4OFx1NWI5YVx1MzA1NVx1MzA4Y1x1MzA2Nlx1MzA0YVx1MzA4YVx1MzAwMVx1MzA1M1x1MzA2ZSBtaW5ab29tTGV2ZWwgXHU2OTFjXHU2N2ZiXHUzMDZmXHUzMGQwXHUzMGZjXHUzMGI4XHUzMGU3XHUzMGYzMy4wXHUzMDY3XHU5NjY0XHU1M2JiXHUzMDU1XHUzMDhjXHUzMDdlXHUzMDU5XHUzMDAyXHU0ZWUzXHUzMDhmXHUzMDhhXHUzMDZiXHUzMDAxaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyBcdTMwNjdcdTg5ZTNcdThhYWNcdTMwNTVcdTMwOGNcdTMwNjZcdTMwNDRcdTMwOGJcdTMwMDFcdTY3MDBcdTVjMGZcdTMwNGFcdTMwODhcdTMwNzNcdTY3MDBcdTU5MjdcdTg5ZTNcdTUwY2ZcdTVlYTZcdThhMmRcdTViOWFcdTMwOTJcdTRmN2ZcdTc1MjhcdTMwNTdcdTMwNjZcdTMwNGZcdTMwNjBcdTMwNTVcdTMwNDRcdTMwMDIiLApjb21taXRTdWNjZXNzOiJXRlMgXHUzMGM4XHUzMGU5XHUzMGYzXHUzMGI2XHUzMGFmXHUzMGI3XHUzMGU3XHUzMGYzOiBcdTYyMTBcdTUyOWYgJHtyZXNwb25zZX0iLGNvbW1pdEZhaWxlZDoiV0ZTIFx1MzBjOFx1MzBlOVx1MzBmM1x1MzBiNlx1MzBhZlx1MzBiN1x1MzBlN1x1MzBmMzogXHU1OTMxXHU2NTU3ICR7cmVzcG9uc2V9Iixnb29nbGVXYXJuaW5nOiJHb29nbGUgXHUzMGVjXHUzMGE0XHUzMGU0XHUzMGZjXHUzMDRjXHU2YjYzXHUzMDU3XHUzMDRmXHU4YWFkXHUzMDdmXHU4ZmJjXHUzMDdmXHUzMDkyXHU4ODRjXHUzMDQ4XHUzMDdlXHUzMDViXHUzMDkzXHUzMDY3XHUzMDU3XHUzMDVmXHUzMDAyPGJyPjxicj5cdTMwNTNcdTMwNmVcdTMwZTFcdTMwYzNcdTMwYmJcdTMwZmNcdTMwYjhcdTMwOTJcdTZkODhcdTMwNTlcdTMwNmJcdTMwNmZcdTMwMDFcdTUzZjNcdTRlMGFcdTMwNmVcdTk2ODVcdTMwNmJcdTMwNDJcdTMwOGJcdTMwZWNcdTMwYTRcdTMwZTRcdTMwZmNcdTUyMDdcdTMwOGFcdTY2ZmZcdTMwNDhcdTkwZThcdTUyMDZcdTMwNjdcdTY1YjBcdTMwNTdcdTMwNDRcdTU3ZmFcdTVlOTVcdTMwZWNcdTMwYTRcdTMwZTRcdTMwZmNcdTMwOTJcdTkwNzhcdTMwOTNcdTMwNjdcdTMwNGZcdTMwNjBcdTMwNTVcdTMwNDRcdTMwMDI8YnI+PGJyPlx1MzA0YVx1MzA1ZFx1MzA4OVx1MzA0Zlx1MzAwMVx1MzA1M1x1MzA4Y1x1MzA2ZiBHb29nbGUgXHUzMGRlXHUzMGMzXHUzMGQ3XHU3NTI4XHUzMGU5XHUzMGE0XHUzMGQ2XHUzMGU5XHUzMGVhXHUzMDZlXHUzMGI5XHUzMGFmXHUzMGVhXHUzMGQ3XHUzMGM4XHUzMDRjXHU3ZDQ0XHUzMDdmXHU4ZmJjXHUzMDdlXHUzMDhjXHUzMDY2XHUzMDQ0XHUzMDZhXHUzMDQ0XHUzMDRiXHUzMDAxXHUzMDQyXHUzMDZhXHUzMDVmXHUzMDZlXHUzMGI1XHUzMGE0XHUzMGM4XHUzMDZiXHU1YmZlXHU1ZmRjXHUzMDU5XHUzMDhiXHU2YjYzXHUzMDU3XHUzMDQ0IEFQSSBcdTMwYWRcdTMwZmNcdTMwNGNcdThhMmRcdTViOWFcdTMwNTVcdTMwOGNcdTMwNjZcdTMwNDRcdTMwNmFcdTMwNDRcdTMwNWZcdTMwODFcdTMwNjdcdTMwNTlcdTMwMDI8YnI+PGJyPlx1OTU4Ylx1NzY3YVx1ODAwNVx1MzA2ZVx1NjViOVx1MzA3ODogXHU2YjYzXHUzMDU3XHUzMDQ0XHU1MmQ1XHU0ZjVjXHUzMDkyXHUzMDU1XHUzMDViXHUzMDhiXHUzMDVmXHUzMDgxXHUzMDZiPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9Hb29nbGUnIHRhcmdldD0nX2JsYW5rJz5cdTMwNTNcdTMwNjFcdTMwODlcdTMwNmVcdTMwYTZcdTMwYTNcdTMwYWQ8L2E+XHUzMDkyXHU1M2MyXHU3MTY3XHUzMDU3XHUzMDY2XHUzMDRmXHUzMDYwXHUzMDU1XHUzMDQ0XHUzMDAyIiwKZ2V0TGF5ZXJXYXJuaW5nOiIke2xheWVyVHlwZX0gXHUzMGVjXHUzMGE0XHUzMGU0XHUzMGZjXHUzMDRjXHU2YjYzXHUzMDU3XHUzMDRmXHU4YWFkXHUzMDdmXHU4ZmJjXHUzMDdmXHUzMDkyXHU4ODRjXHUzMDQ4XHUzMDdlXHUzMDViXHUzMDkzXHUzMDY3XHUzMDU3XHUzMDVmXHUzMDAyPGJyPjxicj5cdTMwNTNcdTMwNmVcdTMwZTFcdTMwYzNcdTMwYmJcdTMwZmNcdTMwYjhcdTMwOTJcdTZkODhcdTMwNTlcdTMwNmJcdTMwNmZcdTMwMDFcdTUzZjNcdTRlMGFcdTMwNmVcdTk2ODVcdTMwNmJcdTMwNDJcdTMwOGJcdTMwZWNcdTMwYTRcdTMwZTRcdTMwZmNcdTUyMDdcdTMwOGFcdTY2ZmZcdTMwNDhcdTkwZThcdTUyMDZcdTMwNjdcdTY1YjBcdTMwNTdcdTMwNDRcdTU3ZmFcdTVlOTVcdTMwZWNcdTMwYTRcdTMwZTRcdTMwZmNcdTMwOTJcdTkwNzhcdTMwOTNcdTMwNjdcdTMwNGZcdTMwNjBcdTMwNTVcdTMwNDRcdTMwMDI8YnI+PGJyPlx1MzA0YVx1MzA1ZFx1MzA4OVx1MzA0Zlx1MzAwMVx1MzA1M1x1MzA4Y1x1MzA2ZiAke2xheWVyTGlifSBcdTMwZTlcdTMwYTRcdTMwZDZcdTMwZTlcdTMwZWFcdTMwNmVcdTMwYjlcdTMwYWZcdTMwZWFcdTMwZDdcdTMwYzhcdTMwNGNcdTZiNjNcdTMwNTdcdTMwNGZcdTdkNDRcdTMwN2ZcdThmYmNcdTMwN2VcdTMwOGNcdTMwNjZcdTMwNDRcdTMwNmFcdTMwNDRcdTMwNWZcdTMwODFcdTMwNjdcdTMwNTlcdTMwMDI8YnI+PGJyPlx1OTU4Ylx1NzY3YVx1ODAwNVx1MzA2ZVx1NjViOVx1MzA3ODogXHU2YjYzXHUzMDU3XHUzMDQ0XHU1MmQ1XHU0ZjVjXHUzMDkyXHUzMDU1XHUzMDViXHUzMDhiXHUzMDVmXHUzMDgxXHUzMDZiPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS8ke2xheWVyTGlifScgdGFyZ2V0PSdfYmxhbmsnPlx1MzA1M1x1MzA2MVx1MzA4OVx1MzA2ZVx1MzBhNlx1MzBhM1x1MzBhZDwvYT5cdTMwOTJcdTUzYzJcdTcxNjdcdTMwNTdcdTMwNjZcdTMwNGZcdTMwNjBcdTMwNTVcdTMwNDRcdTMwMDIiLAoiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6Ilx1N2UyZVx1NWMzYSA9IDEgOiAke3NjYWxlRGVub219IixXOiJcdTg5N2YiLEU6Ilx1Njc3MSIsTjoiXHU1MzE3IixTOiJcdTUzNTciLHJlcHJvamVjdERlcHJlY2F0ZWQ6Ilx1MzA0Mlx1MzA2YVx1MzA1Zlx1MzA2Zlx1MzAwYyR7bGF5ZXJOYW1lfVx1MzAwZFx1MzBlY1x1MzBhNFx1MzBlNFx1MzBmY1x1MzA2NyByZXByb2plY3QgXHUzMGFhXHUzMGQ3XHUzMGI3XHUzMGU3XHUzMGYzXHUzMDkyXHU0ZjdmXHUzMDYzXHUzMDY2XHUzMDQ0XHUzMDdlXHUzMDU5XHUzMDAyXHUzMDUzXHUzMDZlXHUzMGFhXHUzMGQ3XHUzMGI3XHUzMGU3XHUzMGYzXHUzMDZmXHU1NTQ2XHU3NTI4XHUzMDZlXHU1N2ZhXHU1ZTk1XHU1NzMwXHU1NmYzXHU0ZTBhXHUzMDZiXHU2MGM1XHU1ODMxXHUzMDkyXHU4ODY4XHU3OTNhXHUzMDU5XHUzMDhiXHU3NmVlXHU3Njg0XHUzMDY3XHU4YTJkXHU4YTA4XHUzMDU1XHUzMDhjXHUzMDdlXHUzMDU3XHUzMDVmXHUzMDRjXHUzMDAxXHU3M2ZlXHU1NzI4XHUzMDY3XHUzMDZmXHUzMDVkXHUzMDZlXHU2YTVmXHU4MGZkXHUzMDZmIFNwaGVyaWNhbCBNZXJjYXRvciBcdTMwYjVcdTMwZGRcdTMwZmNcdTMwYzhcdTMwOTJcdTUyMjlcdTc1MjhcdTMwNTdcdTMwNjZcdTViOWZcdTczZmVcdTMwNTVcdTMwOGNcdTMwNjZcdTMwNGFcdTMwOGFcdTMwMDFcdTMwNTNcdTMwNmVcdTMwYWFcdTMwZDdcdTMwYjdcdTMwZTdcdTMwZjNcdTMwNmVcdTRmN2ZcdTc1MjhcdTMwNmZcdTk3NWVcdTYzYThcdTU5NjhcdTMwNjdcdTMwNTlcdTMwMDJcdThmZmRcdTUyYTBcdTMwNmVcdTYwYzVcdTU4MzFcdTMwNmYgaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TcGhlcmljYWxNZXJjYXRvciBcdTMwNjdcdTUxNjVcdTYyNGJcdTMwNjdcdTMwNGRcdTMwN2VcdTMwNTlcdTMwMDIiLAptZXRob2REZXByZWNhdGVkOiJcdTMwNTNcdTMwNmVcdTMwZTFcdTMwYmRcdTMwYzNcdTMwYzlcdTMwNmZcdTVlYzNcdTZiNjJcdTMwNGNcdTRlODhcdTViOWFcdTMwNTVcdTMwOGNcdTMwNjZcdTMwNGFcdTMwOGFcdTMwMDFcdTMwZDBcdTMwZmNcdTMwYjhcdTMwZTdcdTMwZjMzLjBcdTMwNjdcdTk2NjRcdTUzYmJcdTMwNTVcdTMwOGNcdTMwN2VcdTMwNTlcdTMwMDJcdTRlZTNcdTMwOGZcdTMwOGFcdTMwNmIgJHtuZXdNZXRob2R9IFx1MzA5Mlx1NGY3Zlx1NzUyOFx1MzA1N1x1MzA2Nlx1MzA0Zlx1MzA2MFx1MzA1NVx1MzA0NFx1MzAwMiJ9KTtPcGVuTGF5ZXJzLkxhbmcubmRzPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHt1bmhhbmRsZWRSZXF1ZXN0OiJVbmJlaGFubmVsdCBUclx1MDBmY2NobWVsbGVscyBmXHUwMGY2ciBkZSBBbmZyYWFnICR7c3RhdHVzVGV4dH0iLFBlcm1hbGluazoiUGVybWFsaW5rIixPdmVybGF5czoiT3ZlcmxheXMiLCJCYXNlIExheWVyIjoiQWNodGVyZ3J1bmRrb29ydCIsbm9GSUQ6IkVuIEZlYXR1cmUsIGRhdCBrZWVuIEZJRCBoZXR0LCBrYW5uIG5pY2ggYWt0dWVsbCBtYWFrdCB3YXJybi4iLGJyb3dzZXJOb3RTdXBwb3J0ZWQ6IkRpZW4gQnJvd3NlciBcdTAwZmNubmVyc3RcdTAwZmN0dCBrZWVuIFZla3RvcmJpbGxlci4gXHUwMGRjbm5lcnN0XHUwMGZjdHQgUmVuZGVyZXJzOlxuJHtyZW5kZXJlcnN9Iixjb21taXRTdWNjZXNzOiJXRlMtVHJhbnNha3NjaG9vbjogaGV0dCBrbGFwcHQgJHtyZXNwb25zZX0iLGNvbW1pdEZhaWxlZDoiV0ZTLVRyYW5zYWtzY2hvb246IGhldHQgbmljaCBrbGFwcHQgJHtyZXNwb25zZX0iLAoiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6IlNrYWFsID0gMSA6ICR7c2NhbGVEZW5vbX0iLG1ldGhvZERlcHJlY2F0ZWQ6IkRpc3NlIE1ldGhvb2QgaXMgb29sZCB1biBzY2hhbGwgZGF0IGluIDMuMCBuaWNoIG1laHIgZ2V2ZW4uIEJydXVrIGRvciBtYW4gYmV0ZXIgJHtuZXdNZXRob2R9IGZcdTAwZjZyLiJ9KTtPcGVuTGF5ZXJzLkxheWVyLlpvb21pZnk9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkxheWVyLkdyaWQse3NpemU6bnVsbCxpc0Jhc2VMYXllcjohMCxzdGFuZGFyZFRpbGVTaXplOjI1Nix0aWxlT3JpZ2luQ29ybmVyOiJ0bCIsbnVtYmVyT2ZUaWVyczowLHRpbGVDb3VudFVwVG9UaWVyOm51bGwsdGllclNpemVJblRpbGVzOm51bGwsdGllckltYWdlU2l6ZTpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5pbml0aWFsaXplWm9vbWlmeShjKTtPcGVuTGF5ZXJzLkxheWVyLkdyaWQucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYSxiLGMse30sZF0pfSxpbml0aWFsaXplWm9vbWlmeTpmdW5jdGlvbihhKXt2YXIgYj1hLmNsb25lKCk7dGhpcy5zaXplPWEuY2xvbmUoKTthPW5ldyBPcGVuTGF5ZXJzLlNpemUoTWF0aC5jZWlsKGIudy90aGlzLnN0YW5kYXJkVGlsZVNpemUpLE1hdGguY2VpbChiLmgvdGhpcy5zdGFuZGFyZFRpbGVTaXplKSk7dGhpcy50aWVyU2l6ZUluVGlsZXM9ClthXTtmb3IodGhpcy50aWVySW1hZ2VTaXplPVtiXTtiLnc+dGhpcy5zdGFuZGFyZFRpbGVTaXplfHxiLmg+dGhpcy5zdGFuZGFyZFRpbGVTaXplOyliPW5ldyBPcGVuTGF5ZXJzLlNpemUoTWF0aC5mbG9vcihiLncvMiksTWF0aC5mbG9vcihiLmgvMikpLGE9bmV3IE9wZW5MYXllcnMuU2l6ZShNYXRoLmNlaWwoYi53L3RoaXMuc3RhbmRhcmRUaWxlU2l6ZSksTWF0aC5jZWlsKGIuaC90aGlzLnN0YW5kYXJkVGlsZVNpemUpKSx0aGlzLnRpZXJTaXplSW5UaWxlcy5wdXNoKGEpLHRoaXMudGllckltYWdlU2l6ZS5wdXNoKGIpO3RoaXMudGllclNpemVJblRpbGVzLnJldmVyc2UoKTt0aGlzLnRpZXJJbWFnZVNpemUucmV2ZXJzZSgpO3RoaXMubnVtYmVyT2ZUaWVycz10aGlzLnRpZXJTaXplSW5UaWxlcy5sZW5ndGg7Yj1bMV07dGhpcy50aWxlQ291bnRVcFRvVGllcj1bMF07Zm9yKGE9MTthPHRoaXMubnVtYmVyT2ZUaWVyczthKyspYi51bnNoaWZ0KE1hdGgucG93KDIsYSkpLHRoaXMudGlsZUNvdW50VXBUb1RpZXIucHVzaCh0aGlzLnRpZXJTaXplSW5UaWxlc1thLQoxXS53KnRoaXMudGllclNpemVJblRpbGVzW2EtMV0uaCt0aGlzLnRpbGVDb3VudFVwVG9UaWVyW2EtMV0pO3RoaXMuc2VydmVyUmVzb2x1dGlvbnN8fCh0aGlzLnNlcnZlclJlc29sdXRpb25zPWIpfSxkZXN0cm95OmZ1bmN0aW9uKCl7T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLnRpbGVDb3VudFVwVG9UaWVyLmxlbmd0aD0wO3RoaXMudGllclNpemVJblRpbGVzLmxlbmd0aD0wO3RoaXMudGllckltYWdlU2l6ZS5sZW5ndGg9MH0sY2xvbmU6ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9bmV3IE9wZW5MYXllcnMuTGF5ZXIuWm9vbWlmeSh0aGlzLm5hbWUsdGhpcy51cmwsdGhpcy5zaXplLHRoaXMub3B0aW9ucykpO3JldHVybiBhPU9wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUuY2xvbmUuYXBwbHkodGhpcyxbYV0pfSxnZXRVUkw6ZnVuY3Rpb24oYSl7dmFyIGE9dGhpcy5hZGp1c3RCb3VuZHMoYSksYj0KdGhpcy5nZXRTZXJ2ZXJSZXNvbHV0aW9uKCksYz1NYXRoLnJvdW5kKChhLmxlZnQtdGhpcy50aWxlT3JpZ2luLmxvbikvKGIqdGhpcy50aWxlU2l6ZS53KSksYT1NYXRoLnJvdW5kKCh0aGlzLnRpbGVPcmlnaW4ubGF0LWEudG9wKS8oYip0aGlzLnRpbGVTaXplLmgpKSxiPXRoaXMuZ2V0Wm9vbUZvclJlc29sdXRpb24oYiksYz0iVGlsZUdyb3VwIitNYXRoLmZsb29yKChjK2EqdGhpcy50aWVyU2l6ZUluVGlsZXNbYl0udyt0aGlzLnRpbGVDb3VudFVwVG9UaWVyW2JdKS8yNTYpKyIvIitiKyItIitjKyItIithKyIuanBnIixiPXRoaXMudXJsO09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGIpJiYoYj10aGlzLnNlbGVjdFVybChjLGIpKTtyZXR1cm4gYitjfSxnZXRJbWFnZVNpemU6ZnVuY3Rpb24oKXtpZigwPGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBhPXRoaXMuYWRqdXN0Qm91bmRzKGFyZ3VtZW50c1swXSksYj10aGlzLmdldFNlcnZlclJlc29sdXRpb24oKSxjPU1hdGgucm91bmQoKGEubGVmdC0KdGhpcy50aWxlT3JpZ2luLmxvbikvKGIqdGhpcy50aWxlU2l6ZS53KSksYT1NYXRoLnJvdW5kKCh0aGlzLnRpbGVPcmlnaW4ubGF0LWEudG9wKS8oYip0aGlzLnRpbGVTaXplLmgpKSxiPXRoaXMuZ2V0Wm9vbUZvclJlc29sdXRpb24oYiksZD10aGlzLnN0YW5kYXJkVGlsZVNpemUsZT10aGlzLnN0YW5kYXJkVGlsZVNpemU7Yz09dGhpcy50aWVyU2l6ZUluVGlsZXNbYl0udy0xJiYoZD10aGlzLnRpZXJJbWFnZVNpemVbYl0udyV0aGlzLnN0YW5kYXJkVGlsZVNpemUpO2E9PXRoaXMudGllclNpemVJblRpbGVzW2JdLmgtMSYmKGU9dGhpcy50aWVySW1hZ2VTaXplW2JdLmgldGhpcy5zdGFuZGFyZFRpbGVTaXplKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuU2l6ZShkLGUpfXJldHVybiB0aGlzLnRpbGVTaXplfSxzZXRNYXA6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5zZXRNYXAuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMudGlsZU9yaWdpbj1uZXcgT3BlbkxheWVycy5Mb25MYXQodGhpcy5tYXAubWF4RXh0ZW50LmxlZnQsCnRoaXMubWFwLm1heEV4dGVudC50b3ApfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLlpvb21pZnkifSk7T3BlbkxheWVycy5MYXllci5NYXBTZXJ2ZXI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkxheWVyLkdyaWQse0RFRkFVTFRfUEFSQU1TOnttb2RlOiJtYXAiLG1hcF9pbWFnZXR5cGU6InBuZyJ9LGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCl7T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLnBhcmFtcz1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh0aGlzLnBhcmFtcyx0aGlzLkRFRkFVTFRfUEFSQU1TKTtpZihudWxsPT1kfHxudWxsPT1kLmlzQmFzZUxheWVyKXRoaXMuaXNCYXNlTGF5ZXI9InRydWUiIT10aGlzLnBhcmFtcy50cmFuc3BhcmVudCYmITAhPXRoaXMucGFyYW1zLnRyYW5zcGFyZW50fSxjbG9uZTpmdW5jdGlvbihhKXtudWxsPT1hJiYoYT1uZXcgT3BlbkxheWVycy5MYXllci5NYXBTZXJ2ZXIodGhpcy5uYW1lLHRoaXMudXJsLHRoaXMucGFyYW1zLHRoaXMuZ2V0T3B0aW9ucygpKSk7CnJldHVybiBhPU9wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUuY2xvbmUuYXBwbHkodGhpcyxbYV0pfSxnZXRVUkw6ZnVuY3Rpb24oYSl7dmFyIGE9dGhpcy5hZGp1c3RCb3VuZHMoYSksYj1bYS5sZWZ0LGEuYm90dG9tLGEucmlnaHQsYS50b3BdLGE9dGhpcy5nZXRJbWFnZVNpemUoYSk7cmV0dXJuIHRoaXMuZ2V0RnVsbFJlcXVlc3RTdHJpbmcoe21hcGV4dDpiLGltZ2V4dDpiLG1hcF9zaXplOlthLncsYS5oXSxpbWd4OmEudy8yLGltZ3k6YS5oLzIsaW1neHk6W2EudyxhLmhdfSl9LGdldEZ1bGxSZXF1ZXN0U3RyaW5nOmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbD09Yj90aGlzLnVybDpiLGQ9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSx0aGlzLnBhcmFtcyksZD1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGQsYSksZT1PcGVuTGF5ZXJzLlV0aWwuZ2V0UGFyYW1ldGVyU3RyaW5nKGQpO09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGMpJiYoYz10aGlzLnNlbGVjdFVybChlLGMpKTsKdmFyIGU9T3BlbkxheWVycy5VdGlsLnVwcGVyQ2FzZU9iamVjdChPcGVuTGF5ZXJzLlV0aWwuZ2V0UGFyYW1ldGVycyhjKSksZjtmb3IoZiBpbiBkKWYudG9VcHBlckNhc2UoKWluIGUmJmRlbGV0ZSBkW2ZdO2U9T3BlbkxheWVycy5VdGlsLmdldFBhcmFtZXRlclN0cmluZyhkKTtkPWM7ZT1lLnJlcGxhY2UoLywvZywiKyIpOyIiIT1lJiYoZj1jLmNoYXJBdChjLmxlbmd0aC0xKSxkPSImIj09Znx8Ij8iPT1mP2QrZTotMT09Yy5pbmRleE9mKCI/Iik/ZCsoIj8iK2UpOmQrKCImIitlKSk7cmV0dXJuIGR9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuTGF5ZXIuTWFwU2VydmVyIn0pO09wZW5MYXllcnMuUmVuZGVyZXIuVk1MPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5SZW5kZXJlci5FbGVtZW50cyx7eG1sbnM6InVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206dm1sIixzeW1ib2xDYWNoZTp7fSxvZmZzZXQ6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe2lmKHRoaXMuc3VwcG9ydGVkKCkpe2lmKCFkb2N1bWVudC5uYW1lc3BhY2VzLm9sdil7ZG9jdW1lbnQubmFtZXNwYWNlcy5hZGQoIm9sdiIsdGhpcy54bWxucyk7Zm9yKHZhciBiPWRvY3VtZW50LmNyZWF0ZVN0eWxlU2hlZXQoKSxjPSJzaGFwZSByZWN0IG92YWwgZmlsbCBzdHJva2UgaW1hZ2VkYXRhIGdyb3VwIHRleHRib3giLnNwbGl0KCIgIiksZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKyliLmFkZFJ1bGUoIm9sdlxcOiIrY1tkXSwiYmVoYXZpb3I6IHVybCgjZGVmYXVsdCNWTUwpOyBwb3NpdGlvbjogYWJzb2x1dGU7IGRpc3BsYXk6IGlubGluZS1ibG9jazsiKX1PcGVuTGF5ZXJzLlJlbmRlcmVyLkVsZW1lbnRzLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsCmFyZ3VtZW50cyl9fSxzdXBwb3J0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWRvY3VtZW50Lm5hbWVzcGFjZXN9LHNldEV4dGVudDpmdW5jdGlvbihhLGIpe3ZhciBjPU9wZW5MYXllcnMuUmVuZGVyZXIuRWxlbWVudHMucHJvdG90eXBlLnNldEV4dGVudC5hcHBseSh0aGlzLGFyZ3VtZW50cyksZD10aGlzLmdldFJlc29sdXRpb24oKSxlPWEubGVmdC9kfDAsZD1hLnRvcC9kLXRoaXMuc2l6ZS5ofDA7Ynx8IXRoaXMub2Zmc2V0Pyh0aGlzLm9mZnNldD17eDplLHk6ZH0sZD1lPTApOihlLT10aGlzLm9mZnNldC54LGQtPXRoaXMub2Zmc2V0LnkpO3RoaXMucm9vdC5jb29yZG9yaWdpbj1lLXRoaXMueE9mZnNldCsiICIrZDtmb3IodmFyIGU9W3RoaXMucm9vdCx0aGlzLnZlY3RvclJvb3QsdGhpcy50ZXh0Um9vdF0sZj0wLGc9ZS5sZW5ndGg7ZjxnOysrZilkPWVbZl0sZC5jb29yZHNpemU9dGhpcy5zaXplLncrIiAiK3RoaXMuc2l6ZS5oO3RoaXMucm9vdC5zdHlsZS5mbGlwPSJ5IjtyZXR1cm4gY30sCnNldFNpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5SZW5kZXJlci5wcm90b3R5cGUuc2V0U2l6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Zm9yKHZhciBiPVt0aGlzLnJlbmRlcmVyUm9vdCx0aGlzLnJvb3QsdGhpcy52ZWN0b3JSb290LHRoaXMudGV4dFJvb3RdLGM9dGhpcy5zaXplLncrInB4IixkPXRoaXMuc2l6ZS5oKyJweCIsZSxmPTAsZz1iLmxlbmd0aDtmPGc7KytmKWU9YltmXSxlLnN0eWxlLndpZHRoPWMsZS5zdHlsZS5oZWlnaHQ9ZH0sZ2V0Tm9kZVR5cGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsO3N3aXRjaChhLkNMQVNTX05BTUUpe2Nhc2UgIk9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQiOmM9Yi5leHRlcm5hbEdyYXBoaWM/Im9sdjpyZWN0Ijp0aGlzLmlzQ29tcGxleFN5bWJvbChiLmdyYXBoaWNOYW1lKT8ib2x2OnNoYXBlIjoib2x2Om92YWwiO2JyZWFrO2Nhc2UgIk9wZW5MYXllcnMuR2VvbWV0cnkuUmVjdGFuZ2xlIjpjPSJvbHY6cmVjdCI7YnJlYWs7Y2FzZSAiT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nIjpjYXNlICJPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVhclJpbmciOmNhc2UgIk9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbiI6Y2FzZSAiT3BlbkxheWVycy5HZW9tZXRyeS5DdXJ2ZSI6Yz0KIm9sdjpzaGFwZSJ9cmV0dXJuIGN9LHNldFN0eWxlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBiPWJ8fGEuX3N0eWxlLGM9Y3x8YS5fb3B0aW9ucyxlPWIuZmlsbENvbG9yLGY9Yi50aXRsZXx8Yi5ncmFwaGljVGl0bGU7ZiYmKGEudGl0bGU9Zik7aWYoIk9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQiPT09YS5fZ2VvbWV0cnlDbGFzcylpZihiLmV4dGVybmFsR3JhcGhpYyl7Yy5pc0ZpbGxlZD0hMDt2YXIgZT1iLmdyYXBoaWNXaWR0aHx8Yi5ncmFwaGljSGVpZ2h0LGY9Yi5ncmFwaGljSGVpZ2h0fHxiLmdyYXBoaWNXaWR0aCxlPWU/ZToyKmIucG9pbnRSYWRpdXMsZj1mP2Y6MipiLnBvaW50UmFkaXVzLGc9dGhpcy5nZXRSZXNvbHV0aW9uKCksaD12b2lkIDAhPWIuZ3JhcGhpY1hPZmZzZXQ/Yi5ncmFwaGljWE9mZnNldDotKDAuNSplKSxpPXZvaWQgMCE9Yi5ncmFwaGljWU9mZnNldD9iLmdyYXBoaWNZT2Zmc2V0Oi0oMC41KmYpO2Euc3R5bGUubGVmdD0oKGQueC10aGlzLmZlYXR1cmVEeCkvCmctdGhpcy5vZmZzZXQueCtofDApKyJweCI7YS5zdHlsZS50b3A9KGQueS9nLXRoaXMub2Zmc2V0LnktKGkrZil8MCkrInB4IjthLnN0eWxlLndpZHRoPWUrInB4IjthLnN0eWxlLmhlaWdodD1mKyJweCI7YS5zdHlsZS5mbGlwPSJ5IjtlPSJub25lIjtjLmlzU3Ryb2tlZD0hMX1lbHNlIHRoaXMuaXNDb21wbGV4U3ltYm9sKGIuZ3JhcGhpY05hbWUpPyhmPXRoaXMuaW1wb3J0U3ltYm9sKGIuZ3JhcGhpY05hbWUpLGEucGF0aD1mLnBhdGgsYS5jb29yZG9yaWdpbj1mLmxlZnQrIiwiK2YuYm90dG9tLGY9Zi5zaXplLGEuY29vcmRzaXplPWYrIiwiK2YsdGhpcy5kcmF3Q2lyY2xlKGEsZCxiLnBvaW50UmFkaXVzKSxhLnN0eWxlLmZsaXA9InkiKTp0aGlzLmRyYXdDaXJjbGUoYSxkLGIucG9pbnRSYWRpdXMpO2MuaXNGaWxsZWQ/YS5maWxsY29sb3I9ZTphLmZpbGxlZD0iZmFsc2UiO2Q9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZmlsbCIpO2Q9MD09ZC5sZW5ndGg/bnVsbDpkWzBdO2lmKGMuaXNGaWxsZWQpe2R8fAooZD10aGlzLmNyZWF0ZU5vZGUoIm9sdjpmaWxsIixhLmlkKyJfZmlsbCIpKTtkLm9wYWNpdHk9Yi5maWxsT3BhY2l0eTtpZigiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCI9PT1hLl9nZW9tZXRyeUNsYXNzJiZiLmV4dGVybmFsR3JhcGhpYyYmKGIuZ3JhcGhpY09wYWNpdHkmJihkLm9wYWNpdHk9Yi5ncmFwaGljT3BhY2l0eSksZC5zcmM9Yi5leHRlcm5hbEdyYXBoaWMsZC50eXBlPSJmcmFtZSIsIWIuZ3JhcGhpY1dpZHRofHwhYi5ncmFwaGljSGVpZ2h0KSlkLmFzcGVjdD0iYXRtb3N0IjtkLnBhcmVudE5vZGUhPWEmJmEuYXBwZW5kQ2hpbGQoZCl9ZWxzZSBkJiZhLnJlbW92ZUNoaWxkKGQpO2U9Yi5yb3RhdGlvbjtpZih2b2lkIDAhPT1lfHx2b2lkIDAhPT1hLl9yb3RhdGlvbilhLl9yb3RhdGlvbj1lLGIuZXh0ZXJuYWxHcmFwaGljPyh0aGlzLmdyYXBoaWNSb3RhdGUoYSxoLGksYiksZC5vcGFjaXR5PTApOiJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50Ij09PWEuX2dlb21ldHJ5Q2xhc3MmJgooYS5zdHlsZS5yb3RhdGlvbj1lfHwwKTtoPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInN0cm9rZSIpO2g9MD09aC5sZW5ndGg/bnVsbDpoWzBdO2MuaXNTdHJva2VkPyhofHwoaD10aGlzLmNyZWF0ZU5vZGUoIm9sdjpzdHJva2UiLGEuaWQrIl9zdHJva2UiKSxhLmFwcGVuZENoaWxkKGgpKSxoLm9uPSEwLGguY29sb3I9Yi5zdHJva2VDb2xvcixoLndlaWdodD1iLnN0cm9rZVdpZHRoKyJweCIsaC5vcGFjaXR5PWIuc3Ryb2tlT3BhY2l0eSxoLmVuZGNhcD0iYnV0dCI9PWIuc3Ryb2tlTGluZWNhcD8iZmxhdCI6Yi5zdHJva2VMaW5lY2FwfHwicm91bmQiLGIuc3Ryb2tlRGFzaHN0eWxlJiYoaC5kYXNoc3R5bGU9dGhpcy5kYXNoU3R5bGUoYikpKTooYS5zdHJva2VkPSExLGgmJihoLm9uPSExKSk7ImluaGVyaXQiIT1iLmN1cnNvciYmbnVsbCE9Yi5jdXJzb3ImJihhLnN0eWxlLmN1cnNvcj1iLmN1cnNvcik7cmV0dXJuIGF9LGdyYXBoaWNSb3RhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGQ9CmR8fGEuX3N0eWxlLGU9ZC5yb3RhdGlvbnx8MCxmLGc7aWYoIWQuZ3JhcGhpY1dpZHRofHwhZC5ncmFwaGljSGVpZ2h0KXt2YXIgaD1uZXcgSW1hZ2U7aC5vbnJlYWR5c3RhdGVjaGFuZ2U9T3BlbkxheWVycy5GdW5jdGlvbi5iaW5kKGZ1bmN0aW9uKCl7aWYoImNvbXBsZXRlIj09aC5yZWFkeVN0YXRlfHwiaW50ZXJhY3RpdmUiPT1oLnJlYWR5U3RhdGUpZj1oLndpZHRoL2guaGVpZ2h0LGc9TWF0aC5tYXgoMipkLnBvaW50UmFkaXVzLGQuZ3JhcGhpY1dpZHRofHwwLGQuZ3JhcGhpY0hlaWdodHx8MCksYio9ZixkLmdyYXBoaWNXaWR0aD1nKmYsZC5ncmFwaGljSGVpZ2h0PWcsdGhpcy5ncmFwaGljUm90YXRlKGEsYixjLGQpfSx0aGlzKTtoLnNyYz1kLmV4dGVybmFsR3JhcGhpY31lbHNle2c9TWF0aC5tYXgoZC5ncmFwaGljV2lkdGgsZC5ncmFwaGljSGVpZ2h0KTtmPWQuZ3JhcGhpY1dpZHRoL2QuZ3JhcGhpY0hlaWdodDt2YXIgaT1NYXRoLnJvdW5kKGQuZ3JhcGhpY1dpZHRofHxnKgpmKSxqPU1hdGgucm91bmQoZC5ncmFwaGljSGVpZ2h0fHxnKTthLnN0eWxlLndpZHRoPWkrInB4IjthLnN0eWxlLmhlaWdodD1qKyJweCI7dmFyIGs9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYS5pZCsiX2ltYWdlIik7a3x8KGs9dGhpcy5jcmVhdGVOb2RlKCJvbHY6aW1hZ2VkYXRhIixhLmlkKyJfaW1hZ2UiKSxhLmFwcGVuZENoaWxkKGspKTtrLnN0eWxlLndpZHRoPWkrInB4IjtrLnN0eWxlLmhlaWdodD1qKyJweCI7ay5zcmM9ZC5leHRlcm5hbEdyYXBoaWM7ay5zdHlsZS5maWx0ZXI9InByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYUltYWdlTG9hZGVyKHNyYz0nJywgc2l6aW5nTWV0aG9kPSdzY2FsZScpIjtrPWUqTWF0aC5QSS8xODA7ZT1NYXRoLnNpbihrKTtrPU1hdGguY29zKGspO2U9InByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5NYXRyaXgoTTExPSIraysiLE0xMj0iKy1lKyIsTTIxPSIrZSsiLE0yMj0iK2srIixTaXppbmdNZXRob2Q9J2F1dG8gZXhwYW5kJylcbiI7CihrPWQuZ3JhcGhpY09wYWNpdHl8fGQuZmlsbE9wYWNpdHkpJiYxIT1rJiYoZSs9InByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5CYXNpY0ltYWdlKG9wYWNpdHk9IitrKyIpXG4iKTthLnN0eWxlLmZpbHRlcj1lO2U9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoLWIsLWMpO2k9KG5ldyBPcGVuTGF5ZXJzLkJvdW5kcygwLDAsaSxqKSkudG9HZW9tZXRyeSgpO2kucm90YXRlKGQucm90YXRpb24sZSk7aT1pLmdldEJvdW5kcygpO2Euc3R5bGUubGVmdD1NYXRoLnJvdW5kKHBhcnNlSW50KGEuc3R5bGUubGVmdCkraS5sZWZ0KSsicHgiO2Euc3R5bGUudG9wPU1hdGgucm91bmQocGFyc2VJbnQoYS5zdHlsZS50b3ApLWkuYm90dG9tKSsicHgifX0scG9zdERyYXc6ZnVuY3Rpb24oYSl7YS5zdHlsZS52aXNpYmlsaXR5PSJ2aXNpYmxlIjt2YXIgYj1hLl9zdHlsZS5maWxsQ29sb3IsYz1hLl9zdHlsZS5zdHJva2VDb2xvcjsibm9uZSI9PWImJmEuZmlsbGNvbG9yIT1iJiYKKGEuZmlsbGNvbG9yPWIpOyJub25lIj09YyYmYS5zdHJva2Vjb2xvciE9YyYmKGEuc3Ryb2tlY29sb3I9Yyl9LHNldE5vZGVEaW1lbnNpb246ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmdldEJvdW5kcygpO2lmKGMpe3ZhciBkPXRoaXMuZ2V0UmVzb2x1dGlvbigpLGM9bmV3IE9wZW5MYXllcnMuQm91bmRzKChjLmxlZnQtdGhpcy5mZWF0dXJlRHgpL2QtdGhpcy5vZmZzZXQueHwwLGMuYm90dG9tL2QtdGhpcy5vZmZzZXQueXwwLChjLnJpZ2h0LXRoaXMuZmVhdHVyZUR4KS9kLXRoaXMub2Zmc2V0Lnh8MCxjLnRvcC9kLXRoaXMub2Zmc2V0Lnl8MCk7YS5zdHlsZS5sZWZ0PWMubGVmdCsicHgiO2Euc3R5bGUudG9wPWMudG9wKyJweCI7YS5zdHlsZS53aWR0aD1jLmdldFdpZHRoKCkrInB4IjthLnN0eWxlLmhlaWdodD1jLmdldEhlaWdodCgpKyJweCI7YS5jb29yZG9yaWdpbj1jLmxlZnQrIiAiK2MudG9wO2EuY29vcmRzaXplPWMuZ2V0V2lkdGgoKSsiICIrYy5nZXRIZWlnaHQoKX19LGRhc2hTdHlsZTpmdW5jdGlvbihhKXthPQphLnN0cm9rZURhc2hzdHlsZTtzd2l0Y2goYSl7Y2FzZSAic29saWQiOmNhc2UgImRvdCI6Y2FzZSAiZGFzaCI6Y2FzZSAiZGFzaGRvdCI6Y2FzZSAibG9uZ2Rhc2giOmNhc2UgImxvbmdkYXNoZG90IjpyZXR1cm4gYTtkZWZhdWx0OnJldHVybiBhPWEuc3BsaXQoL1sgLF0vKSwyPT1hLmxlbmd0aD8xKmFbMF0+PTIqYVsxXT8ibG9uZ2Rhc2giOjE9PWFbMF18fDE9PWFbMV0/ImRvdCI6ImRhc2giOjQ9PWEubGVuZ3RoPzEqYVswXT49MiphWzFdPyJsb25nZGFzaGRvdCI6ImRhc2hkb3QiOiJzb2xpZCJ9fSxjcmVhdGVOb2RlOmZ1bmN0aW9uKGEsYil7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKTtiJiYoYy5pZD1iKTtjLnVuc2VsZWN0YWJsZT0ib24iO2Mub25zZWxlY3RzdGFydD1PcGVuTGF5ZXJzLkZ1bmN0aW9uLkZhbHNlO3JldHVybiBjfSxub2RlVHlwZUNvbXBhcmU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLGQ9Yy5pbmRleE9mKCI6Iik7LTEhPWQmJihjPWMuc3Vic3RyKGQrCjEpKTt2YXIgZT1hLm5vZGVOYW1lLGQ9ZS5pbmRleE9mKCI6Iik7LTEhPWQmJihlPWUuc3Vic3RyKGQrMSkpO3JldHVybiBjPT1lfSxjcmVhdGVSZW5kZXJSb290OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZUZhY3RvcnkodGhpcy5jb250YWluZXIuaWQrIl92bWxSb290IiwiZGl2Iil9LGNyZWF0ZVJvb3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubm9kZUZhY3RvcnkodGhpcy5jb250YWluZXIuaWQrYSwib2x2Omdyb3VwIil9LGRyYXdQb2ludDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmRyYXdDaXJjbGUoYSxiLDEpfSxkcmF3Q2lyY2xlOmZ1bmN0aW9uKGEsYixjKXtpZighaXNOYU4oYi54KSYmIWlzTmFOKGIueSkpe3ZhciBkPXRoaXMuZ2V0UmVzb2x1dGlvbigpO2Euc3R5bGUubGVmdD0oKGIueC10aGlzLmZlYXR1cmVEeCkvZC10aGlzLm9mZnNldC54fDApLWMrInB4IjthLnN0eWxlLnRvcD0oYi55L2QtdGhpcy5vZmZzZXQueXwwKS1jKyJweCI7Yj0yKmM7YS5zdHlsZS53aWR0aD0KYisicHgiO2Euc3R5bGUuaGVpZ2h0PWIrInB4IjtyZXR1cm4gYX1yZXR1cm4hMX0sZHJhd0xpbmVTdHJpbmc6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5kcmF3TGluZShhLGIsITEpfSxkcmF3TGluZWFyUmluZzpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmRyYXdMaW5lKGEsYiwhMCl9LGRyYXdMaW5lOmZ1bmN0aW9uKGEsYixjKXt0aGlzLnNldE5vZGVEaW1lbnNpb24oYSxiKTtmb3IodmFyIGQ9dGhpcy5nZXRSZXNvbHV0aW9uKCksZT1iLmNvbXBvbmVudHMubGVuZ3RoLGY9QXJyYXkoZSksZyxoLGk9MDtpPGU7aSsrKWc9Yi5jb21wb25lbnRzW2ldLGg9KGcueC10aGlzLmZlYXR1cmVEeCkvZC10aGlzLm9mZnNldC54fDAsZz1nLnkvZC10aGlzLm9mZnNldC55fDAsZltpXT0iICIraCsiLCIrZysiIGwgIjthLnBhdGg9Im0iK2Yuam9pbigiIikrKGM/IiB4IGUiOiIgZSIpO3JldHVybiBhfSxkcmF3UG9seWdvbjpmdW5jdGlvbihhLGIpe3RoaXMuc2V0Tm9kZURpbWVuc2lvbihhLApiKTt2YXIgYz10aGlzLmdldFJlc29sdXRpb24oKSxkPVtdLGUsZixnLGgsaSxqLGssbCxtLG47ZT0wO2ZvcihmPWIuY29tcG9uZW50cy5sZW5ndGg7ZTxmO2UrKyl7ZC5wdXNoKCJtIik7Zz1iLmNvbXBvbmVudHNbZV0uY29tcG9uZW50cztoPTA9PT1lO2o9aT1udWxsO2s9MDtmb3IobD1nLmxlbmd0aDtrPGw7aysrKW09Z1trXSxuPShtLngtdGhpcy5mZWF0dXJlRHgpL2MtdGhpcy5vZmZzZXQueHwwLG09bS55L2MtdGhpcy5vZmZzZXQueXwwLG49IiAiK24rIiwiK20sZC5wdXNoKG4pLDA9PWsmJmQucHVzaCgiIGwiKSxofHwoaT9pIT1uJiYoaj9qIT1uJiYoaD0hMCk6aj1uKTppPW4pO2QucHVzaChoPyIgeCAiOiIgIil9ZC5wdXNoKCJlIik7YS5wYXRoPWQuam9pbigiIik7cmV0dXJuIGF9LGRyYXdSZWN0YW5nbGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldFJlc29sdXRpb24oKTthLnN0eWxlLmxlZnQ9KChiLngtdGhpcy5mZWF0dXJlRHgpL2MtdGhpcy5vZmZzZXQueHwwKSsKInB4IjthLnN0eWxlLnRvcD0oYi55L2MtdGhpcy5vZmZzZXQueXwwKSsicHgiO2Euc3R5bGUud2lkdGg9KGIud2lkdGgvY3wwKSsicHgiO2Euc3R5bGUuaGVpZ2h0PShiLmhlaWdodC9jfDApKyJweCI7cmV0dXJuIGF9LGRyYXdUZXh0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLm5vZGVGYWN0b3J5KGErdGhpcy5MQUJFTF9JRF9TVUZGSVgsIm9sdjpyZWN0IiksZT10aGlzLm5vZGVGYWN0b3J5KGErdGhpcy5MQUJFTF9JRF9TVUZGSVgrIl90ZXh0Ym94Iiwib2x2OnRleHRib3giKSxmPXRoaXMuZ2V0UmVzb2x1dGlvbigpO2Quc3R5bGUubGVmdD0oKGMueC10aGlzLmZlYXR1cmVEeCkvZi10aGlzLm9mZnNldC54fDApKyJweCI7ZC5zdHlsZS50b3A9KGMueS9mLXRoaXMub2Zmc2V0Lnl8MCkrInB4IjtkLnN0eWxlLmZsaXA9InkiO2UuaW5uZXJUZXh0PWIubGFiZWw7ImluaGVyaXQiIT1iLmN1cnNvciYmbnVsbCE9Yi5jdXJzb3ImJihlLnN0eWxlLmN1cnNvcj1iLmN1cnNvcik7Yi5mb250Q29sb3ImJgooZS5zdHlsZS5jb2xvcj1iLmZvbnRDb2xvcik7Yi5mb250T3BhY2l0eSYmKGUuc3R5bGUuZmlsdGVyPSJhbHBoYShvcGFjaXR5PSIrMTAwKmIuZm9udE9wYWNpdHkrIikiKTtiLmZvbnRGYW1pbHkmJihlLnN0eWxlLmZvbnRGYW1pbHk9Yi5mb250RmFtaWx5KTtiLmZvbnRTaXplJiYoZS5zdHlsZS5mb250U2l6ZT1iLmZvbnRTaXplKTtiLmZvbnRXZWlnaHQmJihlLnN0eWxlLmZvbnRXZWlnaHQ9Yi5mb250V2VpZ2h0KTtiLmZvbnRTdHlsZSYmKGUuc3R5bGUuZm9udFN0eWxlPWIuZm9udFN0eWxlKTshMD09PWIubGFiZWxTZWxlY3QmJihkLl9mZWF0dXJlSWQ9YSxlLl9mZWF0dXJlSWQ9YSxlLl9nZW9tZXRyeT1jLGUuX2dlb21ldHJ5Q2xhc3M9Yy5DTEFTU19OQU1FKTtlLnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCI7ZS5pbnNldD0iMXB4LDBweCwwcHgsMHB4IjtkLnBhcmVudE5vZGV8fChkLmFwcGVuZENoaWxkKGUpLHRoaXMudGV4dFJvb3QuYXBwZW5kQ2hpbGQoZCkpO2I9Yi5sYWJlbEFsaWdufHwKImNtIjsxPT1iLmxlbmd0aCYmKGIrPSJtIik7YT1lLmNsaWVudFdpZHRoKk9wZW5MYXllcnMuUmVuZGVyZXIuVk1MLkxBQkVMX1NISUZUW2Iuc3Vic3RyKDAsMSldO2U9ZS5jbGllbnRIZWlnaHQqT3BlbkxheWVycy5SZW5kZXJlci5WTUwuTEFCRUxfU0hJRlRbYi5zdWJzdHIoMSwxKV07ZC5zdHlsZS5sZWZ0PXBhcnNlSW50KGQuc3R5bGUubGVmdCktYS0xKyJweCI7ZC5zdHlsZS50b3A9cGFyc2VJbnQoZC5zdHlsZS50b3ApK2UrInB4In0sbW92ZVJvb3Q6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5tYXAuZ2V0TGF5ZXIoYS5jb250YWluZXIuaWQpO2IgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkxheWVyLlZlY3Rvci5Sb290Q29udGFpbmVyJiYoYj10aGlzLm1hcC5nZXRMYXllcih0aGlzLmNvbnRhaW5lci5pZCkpO2ImJmIucmVuZGVyZXIuY2xlYXIoKTtPcGVuTGF5ZXJzLlJlbmRlcmVyLkVsZW1lbnRzLnByb3RvdHlwZS5tb3ZlUm9vdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YiYmYi5yZWRyYXcoKX0sCmltcG9ydFN5bWJvbDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNvbnRhaW5lci5pZCsiLSIrYSxjPXRoaXMuc3ltYm9sQ2FjaGVbYl07aWYoYylyZXR1cm4gYztjPU9wZW5MYXllcnMuUmVuZGVyZXIuc3ltYm9sW2FdO2lmKCFjKXRocm93IEVycm9yKGErIiBpcyBub3QgYSB2YWxpZCBzeW1ib2wgbmFtZSIpO2Zvcih2YXIgYT1uZXcgT3BlbkxheWVycy5Cb3VuZHMoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLDAsMCksZD1bIm0iXSxlPTA7ZTxjLmxlbmd0aDtlKz0yKXt2YXIgZj1jW2VdLGc9Y1tlKzFdO2EubGVmdD1NYXRoLm1pbihhLmxlZnQsZik7YS5ib3R0b209TWF0aC5taW4oYS5ib3R0b20sZyk7YS5yaWdodD1NYXRoLm1heChhLnJpZ2h0LGYpO2EudG9wPU1hdGgubWF4KGEudG9wLGcpO2QucHVzaChmKTtkLnB1c2goZyk7MD09ZSYmZC5wdXNoKCJsIil9ZC5wdXNoKCJ4IGUiKTtjPWQuam9pbigiICIpO2Q9KGEuZ2V0V2lkdGgoKS1hLmdldEhlaWdodCgpKS8yOwowPGQ/KGEuYm90dG9tLT1kLGEudG9wKz1kKTooYS5sZWZ0Kz1kLGEucmlnaHQtPWQpO2M9e3BhdGg6YyxzaXplOmEuZ2V0V2lkdGgoKSxsZWZ0OmEubGVmdCxib3R0b206YS5ib3R0b219O3JldHVybiB0aGlzLnN5bWJvbENhY2hlW2JdPWN9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuUmVuZGVyZXIuVk1MIn0pO09wZW5MYXllcnMuUmVuZGVyZXIuVk1MLkxBQkVMX1NISUZUPXtsOjAsYzowLjUscjoxLHQ6MCxtOjAuNSxiOjF9O09wZW5MYXllcnMuTGFuZy52aT1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7dW5oYW5kbGVkUmVxdWVzdDoiS2hcdTAwZjRuZyB4XHUxZWVkIGxcdTAwZmQgXHUwMTExXHUwMWIwXHUxZWUzYyBwaFx1MWVhM24gaFx1MWVkM2kgJHtzdGF0dXNUZXh0fSBjaG8geVx1MDBlYXUgY1x1MWVhN3UiLFBlcm1hbGluazoiTGlcdTAwZWFuIGtcdTFlYmZ0IHRoXHUwMWIwXHUxZWRkbmcgdHJcdTFlZjFjIixPdmVybGF5czoiTFx1MWVhNXAgYlx1MWVhM24gXHUwMTExXHUxZWQzIiwiQmFzZSBMYXllciI6IkxcdTFlZGJwIG5cdTFlYzFuIixub0ZJRDoiS2hcdTAwZjRuZyB0aFx1MWVjMyBjXHUxZWFkcCBuaFx1MWVhZHQgdFx1MDBlZG5oIG5cdTAxMDNuZyB0aGlcdTFlYmZ1IEZJRC4iLGJyb3dzZXJOb3RTdXBwb3J0ZWQ6IlRyXHUwMGVjbmggZHV5XHUxZWM3dCBjXHUxZWU3YSBiXHUxZWExbiBraFx1MDBmNG5nIGhcdTFlZDcgdHJcdTFlZTMgY2hcdTFlZTljIG5cdTAxMDNuZyB2XHUxZWJkIGJcdTFlYjFuZyB2ZWN0XHUwMWExLiBIaVx1MWVjN24gaFx1MWVkNyB0clx1MWVlMyBjXHUwMGUxYyBiXHUxZWQ5IGtcdTFlYmZ0IHh1XHUxZWE1dDpcbiR7cmVuZGVyZXJzfSIsCm1pblpvb21MZXZlbEVycm9yOiJDaFx1MWVjOSBuXHUwMGVhbiBzXHUxZWVkIGRcdTFlZTVuZyB0aHVcdTFlZDljIHRcdTAwZWRuaCBtaW5ab29tTGV2ZWwgdlx1MWVkYmkgY1x1MDBlMWMgbFx1MWVkYnAgRml4ZWRab29tTGV2ZWxzLWRlc2NlbmRlbnQuIFZpXHUxZWM3YyBsXHUxZWRicCB3ZnMgblx1MDBlMHkgdFx1MDBlY20gY2hvIG1pblpvb21MZXZlbCBsXHUwMGUwIGRpIHRcdTAwZWRjaCBjXHUwMGYybiBsXHUxZWExaSB0XHUxZWViIHhcdTAxYjBhLiBUdXkgbmhpXHUwMGVhbiwgblx1MWViZnUgY2hcdTAwZmFuZyB0XHUwMGY0aSBkXHUxZWRkaSBuXHUwMGYzIHRoXHUwMGVjIHNcdTFlYmQgdlx1MWVlMSBjXHUwMGUxYyBjaFx1MDFiMFx1MDFhMW5nIHRyXHUwMGVjbmggT3BlbkxheWVycyBtXHUwMGUwIGRcdTFlZjFhIHRyXHUwMGVhbiBuXHUwMGYzLiBCXHUxZWRmaSB2XHUxZWFkeSBjaFx1MDBmYW5nIHRcdTAwZjRpIHBoXHUxZWEzbiBcdTAxMTFcdTFlZDFpIHNcdTFlZWQgZFx1MWVlNW5nIG5cdTAwZjMmbmJzcDtcdTIwMTMgYlx1MDFiMFx1MWVkYmMgdFx1MDBlY20gY2hvIG1pblpvb21MZXZlbCBzXHUxZWJkIFx1MDExMVx1MDFiMFx1MWVlM2MgZFx1MWVkZGkgdlx1MDBlMG8gcGhpXHUwMGVhbiBiXHUxZWEzbiAzLjAuIFhpbiBzXHUxZWVkIGRcdTFlZTVuZyB0aGlcdTFlYmZ0IGxcdTFlYWRwIFx1MDExMVx1MWVkOSBwaFx1MDBlMm4gdFx1MDBlZGNoIHRcdTFlZDFpIHRoaVx1MWVjM3UgLyB0XHUxZWQxaSBcdTAxMTFhIHRoYXkgdGhcdTFlYmYsIHRoZW8gaFx1MDFiMFx1MWVkYm5nIGRcdTFlYWJuIG5cdTAwZTB5OiBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NldHRpbmdab29tTGV2ZWxzIiwKY29tbWl0U3VjY2VzczoiR2lhbyBkXHUxZWNiY2ggV0ZTOiBUSFx1MDBjME5IIENcdTAwZDRORyAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJHaWFvIGRcdTFlY2JjaCBXRlM6IFRIXHUxZWE0VCBCXHUxZWEwSSAke3Jlc3BvbnNlfSIsZ29vZ2xlV2FybmluZzoiS2hcdTAwZjRuZyB0aFx1MWVjMyB0XHUxZWEzaSBsXHUxZWRicCBHb29nbGUgXHUwMTExXHUwMGZhbmcgXHUwMTExXHUxZWFmbi48YnI+PGJyPlx1MDExMFx1MWVjMyB0clx1MDBlMW5oIHRoXHUwMGY0bmcgYlx1MDBlMW8gblx1MDBlMHkgbFx1MWVhN24gc2F1LCBoXHUwMGUzeSBjaFx1MWVjZG4gQmFzZUxheWVyIG1cdTFlZGJpIGRcdTAwZjluZyBcdTAxMTFpXHUxZWMxdSBraGlcdTFlYzNuIGNoXHUxZWNkbiBsXHUxZWRicCBcdTFlZGYgZ1x1MDBmM2MgdHJcdTAwZWFuIHBoXHUxZWEzaS48YnI+PGJyPkNoXHUxZWFmYyBzY3JpcHQgdGhcdTAxYjAgdmlcdTFlYzduIEdvb2dsZSBNYXBzIGhvXHUxZWI3YyBraFx1MDBmNG5nIFx1MDExMVx1MDFiMFx1MWVlM2MgYmFvIGdcdTFlZDNtIGhvXHUxZWI3YyBraFx1MDBmNG5nIGNoXHUxZWU5YSBraFx1MDBmM2EgQVBJIGhcdTFlZTNwIHZcdTFlZGJpIHdlYnNpdGUgY1x1MWVlN2EgYlx1MWVhMW4uPGJyPjxicj48YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZScgdGFyZ2V0PSdfYmxhbmsnPlRyXHUxZWUzIGdpXHUwMGZhcCB2XHUxZWMxIHRcdTAwZWRuaCBuXHUwMTAzbmcgblx1MDBlMHk8L2E+IGNobyBuZ1x1MDFiMFx1MWVkZGkgcGhcdTAwZTF0IHRyaVx1MWVjM24uIiwKZ2V0TGF5ZXJXYXJuaW5nOiJLaFx1MDBmNG5nIHRoXHUxZWMzIHRcdTFlYTNpIGxcdTFlZGJwICR7bGF5ZXJUeXBlfSBcdTAxMTFcdTAwZmFuZyBcdTAxMTFcdTFlYWZuLjxicj48YnI+XHUwMTEwXHUxZWMzIHRyXHUwMGUxbmggdGhcdTAwZjRuZyBiXHUwMGUxbyBuXHUwMGUweSBsXHUxZWE3biBzYXUsIGhcdTAwZTN5IGNoXHUxZWNkbiBCYXNlTGF5ZXIgbVx1MWVkYmkgZFx1MDBmOW5nIFx1MDExMWlcdTFlYzF1IGtoaVx1MWVjM24gY2hcdTFlY2RuIGxcdTFlZGJwIFx1MWVkZiBnXHUwMGYzYyB0clx1MDBlYW4gcGhcdTFlYTNpLjxicj48YnI+Q2hcdTFlYWZjIHNjcmlwdCB0aFx1MDFiMCB2aVx1MWVjN24gJHtsYXllckxpYn0ga2hcdTAwZjRuZyBcdTAxMTFcdTAxYjBcdTFlZTNjIGJhbyBnXHUxZWQzbSBcdTAxMTFcdTAwZmFuZyBraVx1MWVjM3UuPGJyPjxicj48YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+VHJcdTFlZTMgZ2lcdTAwZmFwIHZcdTFlYzEgdFx1MDBlZG5oIG5cdTAxMDNuZyBuXHUwMGUweTwvYT4gY2hvIG5nXHUwMWIwXHUxZWRkaSBwaFx1MDBlMXQgdHJpXHUxZWMzbi4iLAoiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6IlRcdTFlZjcgbFx1MWVjNyA9IDEgOiAke3NjYWxlRGVub219IixXOiJUIixFOiJcdTAxMTAiLE46IkIiLFM6Ik4iLHJlcHJvamVjdERlcHJlY2F0ZWQ6IkJcdTFlYTFuIFx1MDExMWFuZyBcdTAwZTFwIGRcdTFlZTVuZyBjaFx1MWViZiBcdTAxMTFcdTFlZDkgXHUyMDFjcmVwcm9qZWN0XHUyMDFkIHZcdTAwZTBvIGxcdTFlZGJwICR7bGF5ZXJOYW1lfS4gQ2hcdTFlYmYgXHUwMTExXHUxZWQ5IG5cdTAwZTB5IFx1MDExMVx1MDBlMyBiXHUxZWNiIHBoXHUxZWEzbiBcdTAxMTFcdTFlZDFpOiBuXHUwMGYzIGNcdTAwZjMgbVx1MWVlNWMgXHUwMTExXHUwMGVkY2ggaFx1MWVkNyB0clx1MWVlMyBsXHUxZWE1cCBkXHUxZWVmIGxpXHUxZWM3dSB0clx1MDBlYW4gY1x1MDBlMWMgblx1MWVjMW4gYlx1MWVhM24gXHUwMTExXHUxZWQzIHRoXHUwMWIwXHUwMWExbmcgbVx1MWVhMWk7IG5cdTAwZWFuIHRoXHUxZWYxYyBoaVx1MWVjN24gaGlcdTFlYzd1IFx1MWVlOW5nIFx1MDExMVx1MDBmMyBkXHUwMGY5bmcgdFx1MDBlZG5oIG5cdTAxMDNuZyBNZXJjYXRvciBIXHUwMGVjbmggY1x1MWVhN3UuIENcdTAwZjMgc1x1MWViNW4gdGhcdTAwZWFtIGNoaSB0aVx1MWViZnQgdFx1MWVhMWkgaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TcGhlcmljYWxNZXJjYXRvciAuIiwKbWV0aG9kRGVwcmVjYXRlZDoiUGhcdTAxYjBcdTAxYTFuZyB0aFx1MWVlOWMgblx1MDBlMHkgXHUwMTExXHUwMGUzIGJcdTFlY2IgcGhcdTFlYTNuIFx1MDExMVx1MWVkMWkgdlx1MDBlMCBzXHUxZWJkIGJcdTFlY2IgZFx1MWVkZGkgdlx1MDBlMG8gcGhpXHUwMGVhbiBiXHUxZWEzbiAzLjAuIFhpbiBoXHUwMGUzeSBzXHUxZWVkIGRcdTFlZTVuZyAke25ld01ldGhvZH0gdGhheSB0aFx1MWViZi4ifSk7T3BlbkxheWVycy5Db250cm9sLkNhY2hlUmVhZD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbCx7ZmV0Y2hFdmVudDoidGlsZWxvYWRzdGFydCIsbGF5ZXJzOm51bGwsYXV0b0FjdGl2YXRlOiEwLHNldE1hcDpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLnNldE1hcC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGIsYz10aGlzLmxheWVyc3x8YS5sYXllcnM7Zm9yKGI9Yy5sZW5ndGgtMTswPD1iOy0tYil0aGlzLmFkZExheWVyKHtsYXllcjpjW2JdfSk7aWYoIXRoaXMubGF5ZXJzKWEuZXZlbnRzLm9uKHthZGRsYXllcjp0aGlzLmFkZExheWVyLHJlbW92ZUxheWVyOnRoaXMucmVtb3ZlTGF5ZXIsc2NvcGU6dGhpc30pfSxhZGRMYXllcjpmdW5jdGlvbihhKXthLmxheWVyLmV2ZW50cy5yZWdpc3Rlcih0aGlzLmZldGNoRXZlbnQsdGhpcyx0aGlzLmZldGNoKX0scmVtb3ZlTGF5ZXI6ZnVuY3Rpb24oYSl7YS5sYXllci5ldmVudHMudW5yZWdpc3Rlcih0aGlzLmZldGNoRXZlbnQsCnRoaXMsdGhpcy5mZXRjaCl9LGZldGNoOmZ1bmN0aW9uKGEpe2lmKHRoaXMuYWN0aXZlJiZ3aW5kb3cubG9jYWxTdG9yYWdlJiZhLnRpbGUgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLlRpbGUuSW1hZ2Upe3ZhciBiPWEudGlsZSxjPWIudXJsOyFiLmxheWVyLmNyb3NzT3JpZ2luS2V5d29yZCYmKE9wZW5MYXllcnMuUHJveHlIb3N0JiYwPT09Yy5pbmRleE9mKE9wZW5MYXllcnMuUHJveHlIb3N0KSkmJihjPU9wZW5MYXllcnMuQ29udHJvbC5DYWNoZVdyaXRlLnVybE1hcFtjXSk7aWYoYz13aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oIm9sQ2FjaGVfIitjKSliLnVybD1jLCJ0aWxlZXJyb3IiPT09YS50eXBlJiZiLnNldEltZ1NyYyhjKX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXtpZih0aGlzLmxheWVyc3x8dGhpcy5tYXApe3ZhciBhLGI9dGhpcy5sYXllcnN8fHRoaXMubWFwLmxheWVycztmb3IoYT1iLmxlbmd0aC0xOzA8PWE7LS1hKXRoaXMucmVtb3ZlTGF5ZXIoe2xheWVyOmJbYV19KX10aGlzLm1hcCYmCnRoaXMubWFwLmV2ZW50cy51bih7YWRkbGF5ZXI6dGhpcy5hZGRMYXllcixyZW1vdmVMYXllcjp0aGlzLnJlbW92ZUxheWVyLHNjb3BlOnRoaXN9KTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuQ2FjaGVSZWFkIn0pO09wZW5MYXllcnMuTGFuZy5rbT1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7UGVybWFsaW5rOiJcdTE3OGZcdTE3YzZcdTE3OGVcdTE3OTdcdTE3ZDJcdTE3ODdcdTE3YjZcdTE3OTRcdTE3Y2JcdTE3YTJcdTE3ODVcdTE3YjdcdTE3OTNcdTE3ZDJcdTE3OGZcdTE3ZDJcdTE3OWFcdTE3YzNcdTE3OTlcdTE3Y2QiLCJCYXNlIExheWVyIjoiXHUxNzlmXHUxN2QyXHUxNzlhXHUxNzkxXHUxN2I2XHUxNzk0XHUxN2NiXHUxNzk0XHUxN2I2XHUxNzhmXHUyMDBiIiwiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6Ilx1MTc5OFx1MTdiNlx1MTc4Zlx1MTdkMlx1MTc5YVx1MTc4YVx1MTdkMlx1MTc4Ylx1MTdiNlx1MTc5MyA9IFx1MTdlMSBcdTE3ZDYgJHtzY2FsZURlbm9tfSJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5XRlNULnYxXzBfMD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LkZpbHRlci52MV8wXzAsT3BlbkxheWVycy5Gb3JtYXQuV0ZTVC52MSx7dmVyc2lvbjoiMS4wLjAiLHNyc05hbWVJblF1ZXJ5OiExLHNjaGVtYUxvY2F0aW9uczp7d2ZzOiJodHRwOi8vc2NoZW1hcy5vcGVuZ2lzLm5ldC93ZnMvMS4wLjAvV0ZTLXRyYW5zYWN0aW9uLnhzZCJ9LGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Gb3JtYXQuRmlsdGVyLnYxXzBfMC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSk7T3BlbkxheWVycy5Gb3JtYXQuV0ZTVC52MS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSl9LHJlYWROb2RlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gT3BlbkxheWVycy5Gb3JtYXQuR01MLnYyLnByb3RvdHlwZS5yZWFkTm9kZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHJlYWRlcnM6e3dmczpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7V0ZTX1RyYW5zYWN0aW9uUmVzcG9uc2U6ZnVuY3Rpb24oYSwKYil7Yi5pbnNlcnRJZHM9W107Yi5zdWNjZXNzPSExO3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sSW5zZXJ0UmVzdWx0OmZ1bmN0aW9uKGEsYil7dmFyIGM9e2ZpZHM6W119O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLmluc2VydElkcz1iLmluc2VydElkcy5jb25jYXQoYy5maWRzKX0sVHJhbnNhY3Rpb25SZXN1bHQ6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LFN0YXR1czpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sU1VDQ0VTUzpmdW5jdGlvbihhLGIpe2Iuc3VjY2Vzcz0hMH19LE9wZW5MYXllcnMuRm9ybWF0LldGU1QudjEucHJvdG90eXBlLnJlYWRlcnMud2ZzKSxnbWw6T3BlbkxheWVycy5Gb3JtYXQuR01MLnYyLnByb3RvdHlwZS5yZWFkZXJzLmdtbCxmZWF0dXJlOk9wZW5MYXllcnMuRm9ybWF0LkdNTC52Mi5wcm90b3R5cGUucmVhZGVycy5mZWF0dXJlLG9nYzpPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIudjFfMF8wLnByb3RvdHlwZS5yZWFkZXJzLm9nY30sCndyaXRlcnM6e3dmczpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7UXVlcnk6ZnVuY3Rpb24oYSl7dmFyIGE9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7ZmVhdHVyZU5TOnRoaXMuZmVhdHVyZU5TLGZlYXR1cmVQcmVmaXg6dGhpcy5mZWF0dXJlUHJlZml4LGZlYXR1cmVUeXBlOnRoaXMuZmVhdHVyZVR5cGUsc3JzTmFtZTp0aGlzLnNyc05hbWUsc3JzTmFtZUluUXVlcnk6dGhpcy5zcnNOYW1lSW5RdWVyeX0sYSksYj1hLmZlYXR1cmVQcmVmaXgsYz10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIndmczpRdWVyeSIse2F0dHJpYnV0ZXM6e3R5cGVOYW1lOihiP2IrIjoiOiIiKSthLmZlYXR1cmVUeXBlfX0pO2Euc3JzTmFtZUluUXVlcnkmJmEuc3JzTmFtZSYmYy5zZXRBdHRyaWJ1dGUoInNyc05hbWUiLGEuc3JzTmFtZSk7YS5mZWF0dXJlTlMmJmMuc2V0QXR0cmlidXRlKCJ4bWxuczoiK2IsYS5mZWF0dXJlTlMpO2lmKGEucHJvcGVydHlOYW1lcylmb3IodmFyIGI9MCxkPWEucHJvcGVydHlOYW1lcy5sZW5ndGg7YjwKZDtiKyspdGhpcy53cml0ZU5vZGUoIm9nYzpQcm9wZXJ0eU5hbWUiLHtwcm9wZXJ0eTphLnByb3BlcnR5TmFtZXNbYl19LGMpO2EuZmlsdGVyJiYodGhpcy5zZXRGaWx0ZXJQcm9wZXJ0eShhLmZpbHRlciksdGhpcy53cml0ZU5vZGUoIm9nYzpGaWx0ZXIiLGEuZmlsdGVyLGMpKTtyZXR1cm4gY319LE9wZW5MYXllcnMuRm9ybWF0LldGU1QudjEucHJvdG90eXBlLndyaXRlcnMud2ZzKSxnbWw6T3BlbkxheWVycy5Gb3JtYXQuR01MLnYyLnByb3RvdHlwZS53cml0ZXJzLmdtbCxmZWF0dXJlOk9wZW5MYXllcnMuRm9ybWF0LkdNTC52Mi5wcm90b3R5cGUud3JpdGVycy5mZWF0dXJlLG9nYzpPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIudjFfMF8wLnByb3RvdHlwZS53cml0ZXJzLm9nY30sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuV0ZTVC52MV8wXzAifSk7T3BlbkxheWVycy5Qcm90b2NvbC5XRlMudjFfMF8wPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Qcm90b2NvbC5XRlMudjEse3ZlcnNpb246IjEuMC4wIixDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlByb3RvY29sLldGUy52MV8wXzAifSk7T3BlbkxheWVycy5Gb3JtYXQuV01TR2V0RmVhdHVyZUluZm89T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwse2xheWVySWRlbnRpZmllcjoiX2xheWVyIixmZWF0dXJlSWRlbnRpZmllcjoiX2ZlYXR1cmUiLHJlZ0V4ZXM6e3RyaW1TcGFjZTovXlxzKnxccyokL2cscmVtb3ZlU3BhY2U6L1xzKi9nLHNwbGl0U3BhY2U6L1xzKy8sdHJpbUNvbW1hOi9ccyosXHMqL2d9LGdtbEZvcm1hdDpudWxsLHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PXR5cGVvZiBhJiYoYT1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxbYV0pKTt2YXIgYj1hLmRvY3VtZW50RWxlbWVudDtpZihiKXZhciBjPXRoaXNbInJlYWRfIitiLm5vZGVOYW1lXSxhPWM/Yy5jYWxsKHRoaXMsYik6KG5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5HTUwodGhpcy5vcHRpb25zP3RoaXMub3B0aW9uczp7fSkpLnJlYWQoYSk7cmV0dXJuIGF9LHJlYWRfbXNHTUxPdXRwdXQ6ZnVuY3Rpb24oYSl7dmFyIGI9CltdO2lmKGE9dGhpcy5nZXRTaWJsaW5nTm9kZXNCeVRhZ0NyaXRlcmlhKGEsdGhpcy5sYXllcklkZW50aWZpZXIpKWZvcih2YXIgYz0wLGQ9YS5sZW5ndGg7YzxkOysrYyl7dmFyIGU9YVtjXSxmPWUubm9kZU5hbWU7ZS5wcmVmaXgmJihmPWYuc3BsaXQoIjoiKVsxXSk7Zj1mLnJlcGxhY2UodGhpcy5sYXllcklkZW50aWZpZXIsIiIpO2lmKGU9dGhpcy5nZXRTaWJsaW5nTm9kZXNCeVRhZ0NyaXRlcmlhKGUsdGhpcy5mZWF0dXJlSWRlbnRpZmllcikpZm9yKHZhciBnPTA7ZzxlLmxlbmd0aDtnKyspe3ZhciBoPWVbZ10saT10aGlzLnBhcnNlR2VvbWV0cnkoaCksaD10aGlzLnBhcnNlQXR0cmlidXRlcyhoKSxoPW5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKGkuZ2VvbWV0cnksaCxudWxsKTtoLmJvdW5kcz1pLmJvdW5kcztoLnR5cGU9ZjtiLnB1c2goaCl9fXJldHVybiBifSxyZWFkX0ZlYXR1cmVJbmZvUmVzcG9uc2U6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGE9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsCiIqIiwiRklFTERTIiksYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKyl7dmFyIGU9YVtjXSxmPXt9LGcsaD1lLmF0dHJpYnV0ZXMubGVuZ3RoO2lmKDA8aClmb3IoZz0wO2c8aDtnKyspe3ZhciBpPWUuYXR0cmlidXRlc1tnXTtmW2kubm9kZU5hbWVdPWkubm9kZVZhbHVlfWVsc2V7ZT1lLmNoaWxkTm9kZXM7Zz0wO2ZvcihoPWUubGVuZ3RoO2c8aDsrK2cpaT1lW2ddLDMhPWkubm9kZVR5cGUmJihmW2kuZ2V0QXR0cmlidXRlKCJuYW1lIildPWkuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpKX1iLnB1c2gobmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobnVsbCxmLG51bGwpKX1yZXR1cm4gYn0sZ2V0U2libGluZ05vZGVzQnlUYWdDcml0ZXJpYTpmdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQsZSxmLGc7aWYoYSYmYS5oYXNDaGlsZE5vZGVzKCkpe2Q9YS5jaGlsZE5vZGVzO2Y9ZC5sZW5ndGg7Zm9yKHZhciBoPTA7aDxmO2grKyl7Zm9yKGc9ZFtoXTtnJiYxIT1nLm5vZGVUeXBlOylnPWcubmV4dFNpYmxpbmcsCmgrKztlPWc/Zy5ub2RlTmFtZToiIjswPGUubGVuZ3RoJiYtMTxlLmluZGV4T2YoYik/Yy5wdXNoKGcpOihlPXRoaXMuZ2V0U2libGluZ05vZGVzQnlUYWdDcml0ZXJpYShnLGIpLDA8ZS5sZW5ndGgmJigwPT1jLmxlbmd0aD9jPWU6Yy5wdXNoKGUpKSl9fXJldHVybiBjfSxwYXJzZUF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSl7dmFyIGI9e307aWYoMT09YS5ub2RlVHlwZSlmb3IodmFyIGE9YS5jaGlsZE5vZGVzLGM9YS5sZW5ndGgsZD0wO2Q8YzsrK2Qpe3ZhciBlPWFbZF07aWYoMT09ZS5ub2RlVHlwZSl7dmFyIGY9ZS5jaGlsZE5vZGVzLGU9ZS5wcmVmaXg/ZS5ub2RlTmFtZS5zcGxpdCgiOiIpWzFdOmUubm9kZU5hbWU7aWYoMD09Zi5sZW5ndGgpYltlXT1udWxsO2Vsc2UgaWYoMT09Zi5sZW5ndGgmJihmPWZbMF0sMz09Zi5ub2RlVHlwZXx8ND09Zi5ub2RlVHlwZSkpZj1mLm5vZGVWYWx1ZS5yZXBsYWNlKHRoaXMucmVnRXhlcy50cmltU3BhY2UsIiIpLGJbZV09Zn19cmV0dXJuIGJ9LApwYXJzZUdlb21ldHJ5OmZ1bmN0aW9uKGEpe3RoaXMuZ21sRm9ybWF0fHwodGhpcy5nbWxGb3JtYXQ9bmV3IE9wZW5MYXllcnMuRm9ybWF0LkdNTCk7dmFyIGE9dGhpcy5nbWxGb3JtYXQucGFyc2VGZWF0dXJlKGEpLGIsYz1udWxsO2EmJihiPWEuZ2VvbWV0cnkmJmEuZ2VvbWV0cnkuY2xvbmUoKSxjPWEuYm91bmRzJiZhLmJvdW5kcy5jbG9uZSgpLGEuZGVzdHJveSgpKTtyZXR1cm57Z2VvbWV0cnk6Yixib3VuZHM6Y319LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LldNU0dldEZlYXR1cmVJbmZvIn0pO09wZW5MYXllcnMuQ29udHJvbC5XTVRTR2V0RmVhdHVyZUluZm89T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse2hvdmVyOiExLHJlcXVlc3RFbmNvZGluZzoiS1ZQIixkcmlsbERvd246ITEsbWF4RmVhdHVyZXM6MTAsY2xpY2tDYWxsYmFjazoiY2xpY2siLGxheWVyczpudWxsLHF1ZXJ5VmlzaWJsZTohMCxpbmZvRm9ybWF0OiJ0ZXh0L2h0bWwiLHZlbmRvclBhcmFtczp7fSxmb3JtYXQ6bnVsbCxmb3JtYXRPcHRpb25zOm51bGwsaGFuZGxlcjpudWxsLGhvdmVyUmVxdWVzdDpudWxsLHBlbmRpbmc6MCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe2E9YXx8e307YS5oYW5kbGVyT3B0aW9ucz1hLmhhbmRsZXJPcHRpb25zfHx7fTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pO3RoaXMuZm9ybWF0fHwodGhpcy5mb3JtYXQ9bmV3IE9wZW5MYXllcnMuRm9ybWF0LldNU0dldEZlYXR1cmVJbmZvKGEuZm9ybWF0T3B0aW9ucykpOwohMD09PXRoaXMuZHJpbGxEb3duJiYodGhpcy5ob3Zlcj0hMSk7dGhpcy5ob3Zlcj90aGlzLmhhbmRsZXI9bmV3IE9wZW5MYXllcnMuSGFuZGxlci5Ib3Zlcih0aGlzLHttb3ZlOnRoaXMuY2FuY2VsSG92ZXIscGF1c2U6dGhpcy5nZXRJbmZvRm9ySG92ZXJ9LE9wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcy5oYW5kbGVyT3B0aW9ucy5ob3Zlcnx8e30se2RlbGF5OjI1MH0pKTooYT17fSxhW3RoaXMuY2xpY2tDYWxsYmFja109dGhpcy5nZXRJbmZvRm9yQ2xpY2ssdGhpcy5oYW5kbGVyPW5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuQ2xpY2sodGhpcyxhLHRoaXMuaGFuZGxlck9wdGlvbnMuY2xpY2t8fHt9KSl9LGdldEluZm9Gb3JDbGljazpmdW5jdGlvbihhKXt0aGlzLnJlcXVlc3QoYS54eSx7fSl9LGdldEluZm9Gb3JIb3ZlcjpmdW5jdGlvbihhKXt0aGlzLnJlcXVlc3QoYS54eSx7aG92ZXI6ITB9KX0sY2FuY2VsSG92ZXI6ZnVuY3Rpb24oKXt0aGlzLmhvdmVyUmVxdWVzdCYmKC0tdGhpcy5wZW5kaW5nLAowPj10aGlzLnBlbmRpbmcmJihPcGVuTGF5ZXJzLkVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5tYXAudmlld1BvcnREaXYsIm9sQ3Vyc29yV2FpdCIpLHRoaXMucGVuZGluZz0wKSx0aGlzLmhvdmVyUmVxdWVzdC5hYm9ydCgpLHRoaXMuaG92ZXJSZXF1ZXN0PW51bGwpfSxmaW5kTGF5ZXJzOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMubGF5ZXJzfHx0aGlzLm1hcC5sYXllcnMsYj1bXSxjLGQ9YS5sZW5ndGgtMTswPD1kOy0tZClpZihjPWFbZF0sYyBpbnN0YW5jZW9mIE9wZW5MYXllcnMuTGF5ZXIuV01UUyYmYy5yZXF1ZXN0RW5jb2Rpbmc9PT10aGlzLnJlcXVlc3RFbmNvZGluZyYmKCF0aGlzLnF1ZXJ5VmlzaWJsZXx8Yy5nZXRWaXNpYmlsaXR5KCkpKWlmKGIucHVzaChjKSwhdGhpcy5kcmlsbERvd258fHRoaXMuaG92ZXIpYnJlYWs7cmV0dXJuIGJ9LGJ1aWxkUmVxdWVzdE9wdGlvbnM6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLm1hcC5nZXRMb25MYXRGcm9tUGl4ZWwoYiksZD0KYS5nZXRVUkwobmV3IE9wZW5MYXllcnMuQm91bmRzKGMubG9uLGMubGF0LGMubG9uLGMubGF0KSksZD1PcGVuTGF5ZXJzLlV0aWwuZ2V0UGFyYW1ldGVycyhkKSxjPWEuZ2V0VGlsZUluZm8oYyk7T3BlbkxheWVycy5VdGlsLmV4dGVuZChkLHtzZXJ2aWNlOiJXTVRTIix2ZXJzaW9uOmEudmVyc2lvbixyZXF1ZXN0OiJHZXRGZWF0dXJlSW5mbyIsaW5mb0Zvcm1hdDp0aGlzLmluZm9Gb3JtYXQsaTpjLmksajpjLmp9KTtPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhkLHRoaXMudmVuZG9yUGFyYW1zKTtyZXR1cm57dXJsOk9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEudXJsKT9hLnVybFswXTphLnVybCxwYXJhbXM6T3BlbkxheWVycy5VdGlsLnVwcGVyQ2FzZU9iamVjdChkKSxjYWxsYmFjazpmdW5jdGlvbihjKXt0aGlzLmhhbmRsZVJlc3BvbnNlKGIsYyxhKX0sc2NvcGU6dGhpc319LHJlcXVlc3Q6ZnVuY3Rpb24oYSxiKXt2YXIgYj1ifHx7fSxjPXRoaXMuZmluZExheWVycygpOwppZigwPGMubGVuZ3RoKXtmb3IodmFyIGQsZSxmPTAsZz1jLmxlbmd0aDtmPGc7ZisrKWU9Y1tmXSxkPXRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiYmVmb3JlZ2V0ZmVhdHVyZWluZm8iLHt4eTphLGxheWVyOmV9KSwhMSE9PWQmJigrK3RoaXMucGVuZGluZyxkPXRoaXMuYnVpbGRSZXF1ZXN0T3B0aW9ucyhlLGEpLGQ9T3BlbkxheWVycy5SZXF1ZXN0LkdFVChkKSwhMD09PWIuaG92ZXImJih0aGlzLmhvdmVyUmVxdWVzdD1kKSk7MDx0aGlzLnBlbmRpbmcmJk9wZW5MYXllcnMuRWxlbWVudC5hZGRDbGFzcyh0aGlzLm1hcC52aWV3UG9ydERpdiwib2xDdXJzb3JXYWl0Iil9fSxoYW5kbGVSZXNwb25zZTpmdW5jdGlvbihhLGIsYyl7LS10aGlzLnBlbmRpbmc7MD49dGhpcy5wZW5kaW5nJiYoT3BlbkxheWVycy5FbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMubWFwLnZpZXdQb3J0RGl2LCJvbEN1cnNvcldhaXQiKSx0aGlzLnBlbmRpbmc9MCk7aWYoYi5zdGF0dXMmJigyMDA+Yi5zdGF0dXN8fAozMDA8PWIuc3RhdHVzKSl0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImV4Y2VwdGlvbiIse3h5OmEscmVxdWVzdDpiLGxheWVyOmN9KTtlbHNle3ZhciBkPWIucmVzcG9uc2VYTUw7aWYoIWR8fCFkLmRvY3VtZW50RWxlbWVudClkPWIucmVzcG9uc2VUZXh0O3ZhciBlLGY7dHJ5e2U9dGhpcy5mb3JtYXQucmVhZChkKX1jYXRjaChnKXtmPSEwLHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiZXhjZXB0aW9uIix7eHk6YSxyZXF1ZXN0OmIsZXJyb3I6ZyxsYXllcjpjfSl9Znx8dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJnZXRmZWF0dXJlaW5mbyIse3RleHQ6Yi5yZXNwb25zZVRleHQsZmVhdHVyZXM6ZSxyZXF1ZXN0OmIseHk6YSxsYXllcjpjfSl9fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuV01UU0dldEZlYXR1cmVJbmZvIn0pO09wZW5MYXllcnMuTGFuZy5iZz1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7UGVybWFsaW5rOiJcdTA0MWZcdTA0M2VcdTA0NDFcdTA0NDJcdTA0M2VcdTA0NGZcdTA0M2RcdTA0M2RcdTA0MzAgXHUwNDNmXHUwNDQwXHUwNDM1XHUwNDNmXHUwNDQwXHUwNDMwXHUwNDQyXHUwNDNhXHUwNDMwIiwiQmFzZSBMYXllciI6Ilx1MDQxZVx1MDQ0MVx1MDQzZFx1MDQzZVx1MDQzMlx1MDQzNVx1MDQzZCBcdTA0NDFcdTA0M2JcdTA0M2VcdTA0MzkiLCJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiXHUwNDFjXHUwNDMwXHUwNDQ5XHUwNDMwXHUwNDMxID0gMSA6ICR7c2NhbGVEZW5vbX0iLG1ldGhvZERlcHJlY2F0ZWQ6Ilx1MDQyMlx1MDQzZVx1MDQzN1x1MDQzOCBcdTA0M2NcdTA0MzVcdTA0NDJcdTA0M2VcdTA0MzQgXHUwNDM1IFx1MDQzZVx1MDQ0MVx1MDQ0Mlx1MDQzMFx1MDQ0MFx1MDQ0Zlx1MDQzYiBcdTA0MzggXHUwNDQ5XHUwNDM1IFx1MDQzMVx1MDQ0YVx1MDQzNFx1MDQzNSBcdTA0M2ZcdTA0NDBcdTA0MzVcdTA0M2NcdTA0MzBcdTA0NDVcdTA0MzJcdTA0MzBcdTA0NDIgXHUwNDMyIDMuMC4gXHUwNDEyXHUwNDNjXHUwNDM1XHUwNDQxXHUwNDQyXHUwNDNlIFx1MDQzZFx1MDQzNVx1MDQzM1x1MDQzZSBcdTA0MzhcdTA0MzdcdTA0M2ZcdTA0M2VcdTA0M2JcdTA0MzdcdTA0MzJcdTA0MzBcdTA0MzlcdTA0NDJcdTA0MzUgJHtuZXdNZXRob2R9LiJ9KTtPcGVuTGF5ZXJzLlByb3RvY29sLkNTVy52Ml8wXzI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlByb3RvY29sLHtmb3JtYXRPcHRpb25zOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlByb3RvY29sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKTthLmZvcm1hdHx8KHRoaXMuZm9ybWF0PW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5DU1dHZXRSZWNvcmRzLnYyXzBfMihPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LHRoaXMuZm9ybWF0T3B0aW9ucykpKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucyYmIXRoaXMub3B0aW9ucy5mb3JtYXQmJnRoaXMuZm9ybWF0LmRlc3Ryb3koKTt0aGlzLmZvcm1hdD1udWxsO09wZW5MYXllcnMuUHJvdG9jb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyl9LHJlYWQ6ZnVuY3Rpb24oYSl7YT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LGEpO09wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGEsCnRoaXMub3B0aW9uc3x8e30pO3ZhciBiPW5ldyBPcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlKHtyZXF1ZXN0VHlwZToicmVhZCJ9KSxjPXRoaXMuZm9ybWF0LndyaXRlKGEucGFyYW1zfHxhKTtiLnByaXY9T3BlbkxheWVycy5SZXF1ZXN0LlBPU1Qoe3VybDphLnVybCxjYWxsYmFjazp0aGlzLmNyZWF0ZUNhbGxiYWNrKHRoaXMuaGFuZGxlUmVhZCxiLGEpLHBhcmFtczphLnBhcmFtcyxoZWFkZXJzOmEuaGVhZGVycyxkYXRhOmN9KTtyZXR1cm4gYn0saGFuZGxlUmVhZDpmdW5jdGlvbihhLGIpe2lmKGIuY2FsbGJhY2spe3ZhciBjPWEucHJpdjsyMDA8PWMuc3RhdHVzJiYzMDA+Yy5zdGF0dXM/KGEuZGF0YT10aGlzLnBhcnNlRGF0YShjKSxhLmNvZGU9T3BlbkxheWVycy5Qcm90b2NvbC5SZXNwb25zZS5TVUNDRVNTKTphLmNvZGU9T3BlbkxheWVycy5Qcm90b2NvbC5SZXNwb25zZS5GQUlMVVJFO2IuY2FsbGJhY2suY2FsbChiLnNjb3BlLGEpfX0scGFyc2VEYXRhOmZ1bmN0aW9uKGEpe3ZhciBiPQphLnJlc3BvbnNlWE1MO2lmKCFifHwhYi5kb2N1bWVudEVsZW1lbnQpYj1hLnJlc3BvbnNlVGV4dDtyZXR1cm4hYnx8MD49Yi5sZW5ndGg/bnVsbDp0aGlzLmZvcm1hdC5yZWFkKGIpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlByb3RvY29sLkNTVy52Ml8wXzIifSk7T3BlbkxheWVycy5Gb3JtYXQuV0NTQ2FwYWJpbGl0aWVzLnYxXzFfMD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LldDU0NhcGFiaWxpdGllcy52MSx7bmFtZXNwYWNlczp7d2NzOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3djcy8xLjEiLHhsaW5rOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIix4c2k6Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIixvd3M6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvb3dzLzEuMSJ9LGVycm9yUHJvcGVydHk6Im9wZXJhdGlvbnNNZXRhZGF0YSIscmVhZGVyczp7d2NzOk9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtDYXBhYmlsaXRpZXM6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LENvbnRlbnRzOmZ1bmN0aW9uKGEsYil7Yi5jb250ZW50TWV0YWRhdGE9W107dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuY29udGVudE1ldGFkYXRhKX0sQ292ZXJhZ2VTdW1tYXJ5OmZ1bmN0aW9uKGEsCmIpe3ZhciBjPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLnB1c2goYyl9LElkZW50aWZpZXI6ZnVuY3Rpb24oYSxiKXtiLmlkZW50aWZpZXI9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxUaXRsZTpmdW5jdGlvbihhLGIpe2IudGl0bGU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxBYnN0cmFjdDpmdW5jdGlvbihhLGIpe2JbImFic3RyYWN0Il09dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxTdXBwb3J0ZWRDUlM6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYSk7YyYmKGIuc3VwcG9ydGVkQ1JTfHwoYi5zdXBwb3J0ZWRDUlM9W10pLGIuc3VwcG9ydGVkQ1JTLnB1c2goYykpfSxTdXBwb3J0ZWRGb3JtYXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYSk7YyYmKGIuc3VwcG9ydGVkRm9ybWF0fHwoYi5zdXBwb3J0ZWRGb3JtYXQ9W10pLGIuc3VwcG9ydGVkRm9ybWF0LnB1c2goYykpfX0sT3BlbkxheWVycy5Gb3JtYXQuV0NTQ2FwYWJpbGl0aWVzLnYxLnByb3RvdHlwZS5yZWFkZXJzLndjcyksCm93czpPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24udjFfMV8wLnByb3RvdHlwZS5yZWFkZXJzLm93c30sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuV0NTQ2FwYWJpbGl0aWVzLnYxXzFfMCJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuR3JhdGljdWxlPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHthdXRvQWN0aXZhdGU6ITAsaW50ZXJ2YWxzOls0NSwzMCwyMCwxMCw1LDIsMSwwLjUsMC4yLDAuMSwwLjA1LDAuMDEsMC4wMDUsMC4wMDIsMC4wMDFdLGRpc3BsYXlJbkxheWVyU3dpdGNoZXI6ITAsdmlzaWJsZTohMCxudW1Qb2ludHM6NTAsdGFyZ2V0U2l6ZToyMDAsbGF5ZXJOYW1lOm51bGwsbGFiZWxsZWQ6ITAsbGFiZWxGb3JtYXQ6ImRtIixsaW5lU3ltYm9saXplcjp7c3Ryb2tlQ29sb3I6IiMzMzMiLHN0cm9rZVdpZHRoOjEsc3Ryb2tlT3BhY2l0eTowLjV9LGxhYmVsU3ltYm9saXplcjp7fSxncmF0TGF5ZXI6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe2E9YXx8e307YS5sYXllck5hbWU9YS5sYXllck5hbWV8fE9wZW5MYXllcnMuaTE4bigiR3JhdGljdWxlIik7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKTsKdGhpcy5sYWJlbFN5bWJvbGl6ZXIuc3Ryb2tlPSExO3RoaXMubGFiZWxTeW1ib2xpemVyLmZpbGw9ITE7dGhpcy5sYWJlbFN5bWJvbGl6ZXIubGFiZWw9IiR7bGFiZWx9Ijt0aGlzLmxhYmVsU3ltYm9saXplci5sYWJlbEFsaWduPSIke2xhYmVsQWxpZ259Ijt0aGlzLmxhYmVsU3ltYm9saXplci5sYWJlbFhPZmZzZXQ9IiR7eE9mZnNldH0iO3RoaXMubGFiZWxTeW1ib2xpemVyLmxhYmVsWU9mZnNldD0iJHt5T2Zmc2V0fSJ9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmRlYWN0aXZhdGUoKTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZ3JhdExheWVyJiYodGhpcy5ncmF0TGF5ZXIuZGVzdHJveSgpLHRoaXMuZ3JhdExheWVyPW51bGwpfSxkcmF3OmZ1bmN0aW9uKCl7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kcmF3LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZighdGhpcy5ncmF0TGF5ZXIpe3ZhciBhPW5ldyBPcGVuTGF5ZXJzLlN0eWxlKHt9LAp7cnVsZXM6W25ldyBPcGVuTGF5ZXJzLlJ1bGUoe3N5bWJvbGl6ZXI6e1BvaW50OnRoaXMubGFiZWxTeW1ib2xpemVyLExpbmU6dGhpcy5saW5lU3ltYm9saXplcn19KV19KTt0aGlzLmdyYXRMYXllcj1uZXcgT3BlbkxheWVycy5MYXllci5WZWN0b3IodGhpcy5sYXllck5hbWUse3N0eWxlTWFwOm5ldyBPcGVuTGF5ZXJzLlN0eWxlTWFwKHsiZGVmYXVsdCI6YX0pLHZpc2liaWxpdHk6dGhpcy52aXNpYmxlLGRpc3BsYXlJbkxheWVyU3dpdGNoZXI6dGhpcy5kaXNwbGF5SW5MYXllclN3aXRjaGVyfSl9cmV0dXJuIHRoaXMuZGl2fSxhY3RpdmF0ZTpmdW5jdGlvbigpe3JldHVybiBPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmFjdGl2YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKT8odGhpcy5tYXAuYWRkTGF5ZXIodGhpcy5ncmF0TGF5ZXIpLHRoaXMubWFwLmV2ZW50cy5yZWdpc3RlcigibW92ZWVuZCIsdGhpcyx0aGlzLnVwZGF0ZSksdGhpcy51cGRhdGUoKSwhMCk6ITF9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZWFjdGl2YXRlLmFwcGx5KHRoaXMsCmFyZ3VtZW50cyk/KHRoaXMubWFwLmV2ZW50cy51bnJlZ2lzdGVyKCJtb3ZlZW5kIix0aGlzLHRoaXMudXBkYXRlKSx0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLmdyYXRMYXllciksITApOiExfSx1cGRhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm1hcC5nZXRFeHRlbnQoKTtpZihhKXt0aGlzLmdyYXRMYXllci5kZXN0cm95RmVhdHVyZXMoKTt2YXIgYj1uZXcgT3BlbkxheWVycy5Qcm9qZWN0aW9uKCJFUFNHOjQzMjYiKSxjPXRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSxkPXRoaXMubWFwLmdldFJlc29sdXRpb24oKTtjLnByb2omJiJsb25nbGF0Ij09Yy5wcm9qLnByb2pOYW1lJiYodGhpcy5udW1Qb2ludHM9MSk7dmFyIGU9dGhpcy5tYXAuZ2V0Q2VudGVyKCksZj1uZXcgT3BlbkxheWVycy5QaXhlbChlLmxvbixlLmxhdCk7T3BlbkxheWVycy5Qcm9qZWN0aW9uLnRyYW5zZm9ybShmLGMsYik7Zm9yKHZhciBlPXRoaXMudGFyZ2V0U2l6ZSpkLGU9ZSplLGcsZD0wO2Q8dGhpcy5pbnRlcnZhbHMubGVuZ3RoOysrZCl7Zz0KdGhpcy5pbnRlcnZhbHNbZF07dmFyIGg9Zy8yLGk9Zi5vZmZzZXQoe3g6LWgseTotaH0pLGg9Zi5vZmZzZXQoe3g6aCx5Omh9KTtPcGVuTGF5ZXJzLlByb2plY3Rpb24udHJhbnNmb3JtKGksYixjKTtPcGVuTGF5ZXJzLlByb2plY3Rpb24udHJhbnNmb3JtKGgsYixjKTtpZigoaS54LWgueCkqKGkueC1oLngpKyhpLnktaC55KSooaS55LWgueSk8PWUpYnJlYWt9Zi54PU1hdGguZmxvb3IoZi54L2cpKmc7Zi55PU1hdGguZmxvb3IoZi55L2cpKmc7dmFyIGQ9MCxlPVtmLmNsb25lKCldLGg9Zi5jbG9uZSgpLGo7ZG8gaD1oLm9mZnNldCh7eDowLHk6Z30pLGo9T3BlbkxheWVycy5Qcm9qZWN0aW9uLnRyYW5zZm9ybShoLmNsb25lKCksYixjKSxlLnVuc2hpZnQoaCk7d2hpbGUoYS5jb250YWluc1BpeGVsKGopJiYxRTM+KytkKTtoPWYuY2xvbmUoKTtkbyBoPWgub2Zmc2V0KHt4OjAseTotZ30pLGo9T3BlbkxheWVycy5Qcm9qZWN0aW9uLnRyYW5zZm9ybShoLmNsb25lKCksYixjKSxlLnB1c2goaCk7CndoaWxlKGEuY29udGFpbnNQaXhlbChqKSYmMUUzPisrZCk7ZD0wO2k9W2YuY2xvbmUoKV07aD1mLmNsb25lKCk7ZG8gaD1oLm9mZnNldCh7eDotZyx5OjB9KSxqPU9wZW5MYXllcnMuUHJvamVjdGlvbi50cmFuc2Zvcm0oaC5jbG9uZSgpLGIsYyksaS51bnNoaWZ0KGgpO3doaWxlKGEuY29udGFpbnNQaXhlbChqKSYmMUUzPisrZCk7aD1mLmNsb25lKCk7ZG8gaD1oLm9mZnNldCh7eDpnLHk6MH0pLGo9T3BlbkxheWVycy5Qcm9qZWN0aW9uLnRyYW5zZm9ybShoLmNsb25lKCksYixjKSxpLnB1c2goaCk7d2hpbGUoYS5jb250YWluc1BpeGVsKGopJiYxRTM+KytkKTtnPVtdO2ZvcihkPTA7ZDxpLmxlbmd0aDsrK2Qpe2o9aVtkXS54O2Zvcih2YXIgZj1bXSxrPW51bGwsbD1NYXRoLm1pbihlWzBdLnksOTApLGg9TWF0aC5tYXgoZVtlLmxlbmd0aC0xXS55LC05MCksbT0obC1oKS90aGlzLm51bVBvaW50cyxsPWgsaD0wO2g8PXRoaXMubnVtUG9pbnRzOysraCl7dmFyIG49bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoaiwKbCk7bi50cmFuc2Zvcm0oYixjKTtmLnB1c2gobik7bCs9bTtuLnk+PWEuYm90dG9tJiYhayYmKGs9bil9dGhpcy5sYWJlbGxlZCYmKGs9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoay54LGEuYm90dG9tKSxqPXt2YWx1ZTpqLGxhYmVsOnRoaXMubGFiZWxsZWQ/T3BlbkxheWVycy5VdGlsLmdldEZvcm1hdHRlZExvbkxhdChqLCJsb24iLHRoaXMubGFiZWxGb3JtYXQpOiIiLGxhYmVsQWxpZ246ImNiIix4T2Zmc2V0OjAseU9mZnNldDoyfSx0aGlzLmdyYXRMYXllci5hZGRGZWF0dXJlcyhuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihrLGopKSk7Zj1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nKGYpO2cucHVzaChuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihmKSl9Zm9yKGg9MDtoPGUubGVuZ3RoOysraClpZihsPWVbaF0ueSwhKC05MD5sfHw5MDxsKSl7Zj1bXTtkPWlbMF0ueDttPShpW2kubGVuZ3RoLTFdLngtZCkvdGhpcy5udW1Qb2ludHM7Cmo9ZDtrPW51bGw7Zm9yKGQ9MDtkPD10aGlzLm51bVBvaW50czsrK2Qpbj1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChqLGwpLG4udHJhbnNmb3JtKGIsYyksZi5wdXNoKG4pLGorPW0sbi54PGEucmlnaHQmJihrPW4pO3RoaXMubGFiZWxsZWQmJihrPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGEucmlnaHQsay55KSxqPXt2YWx1ZTpsLGxhYmVsOnRoaXMubGFiZWxsZWQ/T3BlbkxheWVycy5VdGlsLmdldEZvcm1hdHRlZExvbkxhdChsLCJsYXQiLHRoaXMubGFiZWxGb3JtYXQpOiIiLGxhYmVsQWxpZ246InJiIix4T2Zmc2V0Oi0yLHlPZmZzZXQ6Mn0sdGhpcy5ncmF0TGF5ZXIuYWRkRmVhdHVyZXMobmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoayxqKSkpO2Y9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZyhmKTtnLnB1c2gobmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoZikpfXRoaXMuZ3JhdExheWVyLmFkZEZlYXR1cmVzKGcpfX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLkdyYXRpY3VsZSJ9KTtPcGVuTGF5ZXJzLkxhbmcuaHI9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3VuaGFuZGxlZFJlcXVlc3Q6Ik5lcG9kclx1MDE3ZWFuaSB6YWh0amV2ICR7c3RhdHVzVGV4dH0iLFBlcm1hbGluazoiUGVybWFsaW5rIixPdmVybGF5czoiT3ZlcmxheXMiLCJCYXNlIExheWVyIjoiT3Nub3ZuYSBrYXJ0YSIsbm9GSUQ6Ik5lIG1vZ3UgYVx1MDE3ZXVyaXJhdGkgem5hXHUwMTBkYWprdSB6YSBrb2p1IG5lIHBvc3RvamkgRklELiIsYnJvd3Nlck5vdFN1cHBvcnRlZDoiVmFcdTAxNjEgcHJlZ2xlZG5payBuZSBwb2RyXHUwMTdlYXZhIHZla3RvcnNrbyByZW5kZXJpcmFuamUuIFRyZW51dG5vIHBvZHJcdTAxN2VhbmkgcmVuZGVyZXJpIHN1OiAke3JlbmRlcmVyc30iLGNvbW1pdFN1Y2Nlc3M6IldGUyBUcmFuc2FrY2lqYTogVVNQSkVcdTAxNjBOQSAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJXRlMgVHJhbnNha2NpamE6IE5FVVNQSkVcdTAxNjBOQSAke3Jlc3BvbnNlfSIsIlNjYWxlID0gMSA6ICR7c2NhbGVEZW5vbX0iOiJNamVyaWxvID0gMSA6ICR7c2NhbGVEZW5vbX0iLAptZXRob2REZXByZWNhdGVkOiJPdmEgbWV0b2RhIG5pamUgb2RvYnJlbmEgaSBiaXRpIFx1MDEwN2UgbWFrbnV0YSB1IDMuMC4gS29yaXN0aXRlICR7bmV3TWV0aG9kfS4ifSk7T3BlbkxheWVycy5Db250cm9sLk5hdmlnYXRpb25IaXN0b3J5PU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHt0eXBlOk9wZW5MYXllcnMuQ29udHJvbC5UWVBFX1RPR0dMRSxwcmV2aW91czpudWxsLHByZXZpb3VzT3B0aW9uczpudWxsLG5leHQ6bnVsbCxuZXh0T3B0aW9uczpudWxsLGxpbWl0OjUwLGF1dG9BY3RpdmF0ZTohMCxjbGVhck9uRGVhY3RpdmF0ZTohMSxyZWdpc3RyeTpudWxsLG5leHRTdGFjazpudWxsLHByZXZpb3VzU3RhY2s6bnVsbCxsaXN0ZW5lcnM6bnVsbCxyZXN0b3Jpbmc6ITEsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pO3RoaXMucmVnaXN0cnk9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7bW92ZWVuZDp0aGlzLmdldFN0YXRlfSx0aGlzLnJlZ2lzdHJ5KTthPXt0cmlnZ2VyOk9wZW5MYXllcnMuRnVuY3Rpb24uYmluZCh0aGlzLnByZXZpb3VzVHJpZ2dlciwKdGhpcyksZGlzcGxheUNsYXNzOnRoaXMuZGlzcGxheUNsYXNzKyIgIit0aGlzLmRpc3BsYXlDbGFzcysiUHJldmlvdXMifTtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGEsdGhpcy5wcmV2aW91c09wdGlvbnMpO3RoaXMucHJldmlvdXM9bmV3IE9wZW5MYXllcnMuQ29udHJvbC5CdXR0b24oYSk7YT17dHJpZ2dlcjpPcGVuTGF5ZXJzLkZ1bmN0aW9uLmJpbmQodGhpcy5uZXh0VHJpZ2dlcix0aGlzKSxkaXNwbGF5Q2xhc3M6dGhpcy5kaXNwbGF5Q2xhc3MrIiAiK3RoaXMuZGlzcGxheUNsYXNzKyJOZXh0In07T3BlbkxheWVycy5VdGlsLmV4dGVuZChhLHRoaXMubmV4dE9wdGlvbnMpO3RoaXMubmV4dD1uZXcgT3BlbkxheWVycy5Db250cm9sLkJ1dHRvbihhKTt0aGlzLmNsZWFyKCl9LG9uUHJldmlvdXNDaGFuZ2U6ZnVuY3Rpb24oYSl7YSYmIXRoaXMucHJldmlvdXMuYWN0aXZlP3RoaXMucHJldmlvdXMuYWN0aXZhdGUoKTohYSYmdGhpcy5wcmV2aW91cy5hY3RpdmUmJnRoaXMucHJldmlvdXMuZGVhY3RpdmF0ZSgpfSwKb25OZXh0Q2hhbmdlOmZ1bmN0aW9uKGEpe2EmJiF0aGlzLm5leHQuYWN0aXZlP3RoaXMubmV4dC5hY3RpdmF0ZSgpOiFhJiZ0aGlzLm5leHQuYWN0aXZlJiZ0aGlzLm5leHQuZGVhY3RpdmF0ZSgpfSxkZXN0cm95OmZ1bmN0aW9uKCl7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMpO3RoaXMucHJldmlvdXMuZGVzdHJveSgpO3RoaXMubmV4dC5kZXN0cm95KCk7dGhpcy5kZWFjdGl2YXRlKCk7Zm9yKHZhciBhIGluIHRoaXMpdGhpc1thXT1udWxsfSxzZXRNYXA6ZnVuY3Rpb24oYSl7dGhpcy5tYXA9YTt0aGlzLm5leHQuc2V0TWFwKGEpO3RoaXMucHJldmlvdXMuc2V0TWFwKGEpfSxkcmF3OmZ1bmN0aW9uKCl7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kcmF3LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLm5leHQuZHJhdygpO3RoaXMucHJldmlvdXMuZHJhdygpfSxwcmV2aW91c1RyaWdnZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnByZXZpb3VzU3RhY2suc2hpZnQoKSwKYj10aGlzLnByZXZpb3VzU3RhY2suc2hpZnQoKTt2b2lkIDAhPWI/KHRoaXMubmV4dFN0YWNrLnVuc2hpZnQoYSksdGhpcy5wcmV2aW91c1N0YWNrLnVuc2hpZnQoYiksdGhpcy5yZXN0b3Jpbmc9ITAsdGhpcy5yZXN0b3JlKGIpLHRoaXMucmVzdG9yaW5nPSExLHRoaXMub25OZXh0Q2hhbmdlKHRoaXMubmV4dFN0YWNrWzBdLHRoaXMubmV4dFN0YWNrLmxlbmd0aCksdGhpcy5vblByZXZpb3VzQ2hhbmdlKHRoaXMucHJldmlvdXNTdGFja1sxXSx0aGlzLnByZXZpb3VzU3RhY2subGVuZ3RoLTEpKTp0aGlzLnByZXZpb3VzU3RhY2sudW5zaGlmdChhKTtyZXR1cm4gYn0sbmV4dFRyaWdnZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm5leHRTdGFjay5zaGlmdCgpO3ZvaWQgMCE9YSYmKHRoaXMucHJldmlvdXNTdGFjay51bnNoaWZ0KGEpLHRoaXMucmVzdG9yaW5nPSEwLHRoaXMucmVzdG9yZShhKSx0aGlzLnJlc3RvcmluZz0hMSx0aGlzLm9uTmV4dENoYW5nZSh0aGlzLm5leHRTdGFja1swXSwKdGhpcy5uZXh0U3RhY2subGVuZ3RoKSx0aGlzLm9uUHJldmlvdXNDaGFuZ2UodGhpcy5wcmV2aW91c1N0YWNrWzFdLHRoaXMucHJldmlvdXNTdGFjay5sZW5ndGgtMSkpO3JldHVybiBhfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMucHJldmlvdXNTdGFjaz1bXTt0aGlzLnByZXZpb3VzLmRlYWN0aXZhdGUoKTt0aGlzLm5leHRTdGFjaz1bXTt0aGlzLm5leHQuZGVhY3RpdmF0ZSgpfSxnZXRTdGF0ZTpmdW5jdGlvbigpe3JldHVybntjZW50ZXI6dGhpcy5tYXAuZ2V0Q2VudGVyKCkscmVzb2x1dGlvbjp0aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCkscHJvamVjdGlvbjp0aGlzLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCksdW5pdHM6dGhpcy5tYXAuZ2V0UHJvamVjdGlvbk9iamVjdCgpLmdldFVuaXRzKCl8fHRoaXMubWFwLnVuaXRzfHx0aGlzLm1hcC5iYXNlTGF5ZXIudW5pdHN9fSxyZXN0b3JlOmZ1bmN0aW9uKGEpe3ZhciBiLGM7aWYodGhpcy5tYXAuZ2V0UHJvamVjdGlvbk9iamVjdCgpPT0KYS5wcm9qZWN0aW9uKWM9dGhpcy5tYXAuZ2V0Wm9vbUZvclJlc29sdXRpb24oYS5yZXNvbHV0aW9uKSxiPWEuY2VudGVyO2Vsc2V7Yj1hLmNlbnRlci5jbG9uZSgpO2IudHJhbnNmb3JtKGEucHJvamVjdGlvbix0aGlzLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCkpO2M9YS51bml0czt2YXIgZD10aGlzLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCkuZ2V0VW5pdHMoKXx8dGhpcy5tYXAudW5pdHN8fHRoaXMubWFwLmJhc2VMYXllci51bml0cztjPXRoaXMubWFwLmdldFpvb21Gb3JSZXNvbHV0aW9uKChjJiZkP09wZW5MYXllcnMuSU5DSEVTX1BFUl9VTklUW2NdL09wZW5MYXllcnMuSU5DSEVTX1BFUl9VTklUW2RdOjEpKmEucmVzb2x1dGlvbil9dGhpcy5tYXAuc2V0Q2VudGVyKGIsYyl9LHNldExpc3RlbmVyczpmdW5jdGlvbigpe3RoaXMubGlzdGVuZXJzPXt9O2Zvcih2YXIgYSBpbiB0aGlzLnJlZ2lzdHJ5KXRoaXMubGlzdGVuZXJzW2FdPU9wZW5MYXllcnMuRnVuY3Rpb24uYmluZChmdW5jdGlvbigpe2lmKCF0aGlzLnJlc3RvcmluZyl7dmFyIGI9CnRoaXMucmVnaXN0cnlbYV0uYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMucHJldmlvdXNTdGFjay51bnNoaWZ0KGIpO2lmKDE8dGhpcy5wcmV2aW91c1N0YWNrLmxlbmd0aCl0aGlzLm9uUHJldmlvdXNDaGFuZ2UodGhpcy5wcmV2aW91c1N0YWNrWzFdLHRoaXMucHJldmlvdXNTdGFjay5sZW5ndGgtMSk7dGhpcy5wcmV2aW91c1N0YWNrLmxlbmd0aD50aGlzLmxpbWl0KzEmJnRoaXMucHJldmlvdXNTdGFjay5wb3AoKTswPHRoaXMubmV4dFN0YWNrLmxlbmd0aCYmKHRoaXMubmV4dFN0YWNrPVtdLHRoaXMub25OZXh0Q2hhbmdlKG51bGwsMCkpfXJldHVybiEwfSx0aGlzKX0sYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgYT0hMTtpZih0aGlzLm1hcCYmT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5hY3RpdmF0ZS5hcHBseSh0aGlzKSl7bnVsbD09dGhpcy5saXN0ZW5lcnMmJnRoaXMuc2V0TGlzdGVuZXJzKCk7Zm9yKHZhciBiIGluIHRoaXMubGlzdGVuZXJzKXRoaXMubWFwLmV2ZW50cy5yZWdpc3RlcihiLAp0aGlzLHRoaXMubGlzdGVuZXJzW2JdKTthPSEwOzA9PXRoaXMucHJldmlvdXNTdGFjay5sZW5ndGgmJnRoaXMuaW5pdFN0YWNrKCl9cmV0dXJuIGF9LGluaXRTdGFjazpmdW5jdGlvbigpe3RoaXMubWFwLmdldENlbnRlcigpJiZ0aGlzLmxpc3RlbmVycy5tb3ZlZW5kKCl9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgYT0hMTtpZih0aGlzLm1hcCYmT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZWFjdGl2YXRlLmFwcGx5KHRoaXMpKXtmb3IodmFyIGIgaW4gdGhpcy5saXN0ZW5lcnMpdGhpcy5tYXAuZXZlbnRzLnVucmVnaXN0ZXIoYix0aGlzLHRoaXMubGlzdGVuZXJzW2JdKTt0aGlzLmNsZWFyT25EZWFjdGl2YXRlJiZ0aGlzLmNsZWFyKCk7YT0hMH1yZXR1cm4gYX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLk5hdmlnYXRpb25IaXN0b3J5In0pO09wZW5MYXllcnMuTGFuZy5vYz1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7dW5oYW5kbGVkUmVxdWVzdDoiUmVxdVx1MDBlOHN0YSBwYXMgZ2VyaWRhLCByZXRvcm5hICR7c3RhdHVzVGV4dH0iLFBlcm1hbGluazoiUGVybWFsaWdhbSIsT3ZlcmxheXM6IkNhbHF1ZXMiLCJCYXNlIExheWVyIjoiQ2FsYyBkZSBiYXNhIixub0ZJRDoiSW1wb3NzaWJsZSBkZSBtZXRyZSBhIGpvcm4gdW4gb2JqXHUwMGU4Y3RlIHNlbnMgaWRlbnRpZmljYW50IChmaWQpLiIsYnJvd3Nlck5vdFN1cHBvcnRlZDoiVlx1MDBmMnN0cmUgbmF2ZWdpZG9yIHN1cFx1MDBmMnJ0YSBwYXMgbG8gcmVuZHV0IHZlY3RvcmlhbC4gTG9zIHJlbmRlcmVycyBhY3R1YWxhbWVudCBzdXBvcnRhdHMgc29uIDogXG4ke3JlbmRlcmVyc30iLG1pblpvb21MZXZlbEVycm9yOiJMYSBwcm9wcmlldGF0IG1pblpvb21MZXZlbCBkZXUgXHUwMGU4c3NlciB1dGlsaXphZGEgc29sYW1lbnQgcGVyIGRlIGphY2VzIEZpeGVkWm9vbUxldmVscy1kZXNjZW5kZW50LiBMbyBmYWNoIHF1J2FxdWVzdGUgamFcdTAwZTcgV0ZTIHZlcmlmaXF1ZSBsYSBwcmVzXHUwMGU5bmNpYSBkZSBtaW5ab29tTGV2ZWwgZXMgdW5hIHJlbGljYSBkZWwgcGFzc2F0LiBcdTAwYzdhcXVlbFx1MDBlMCwgbGEgcG9kXHUwMGU4bSBzdXByaW1pciBzZW5zIGNvcGFyIGQnYXBsaWNhY2lvbnMgcXVlIG5lIHBvaXJpXHUwMGUxbiBkZXBlbmRyZS4gRXMgcGVyIGFxdVx1MDBmMiBxdWUgbGEgZGVwcmVjaWFtIC0tIGxhIHZlcmlmaWNhY2lvbiBkZWwgbWluWm9vbUxldmVsIHNlclx1MDBlMCBzdXByaW1pZGEgZW4gdmVyc2lvbiAzLjAuIEEgbGEgcGxhXHUwMGU3YSwgbWVyY1x1MDBlOXMgZCd1dGlsaXphciBsb3MgcGFyYW1cdTAwZTh0cmVzIGRlIHJlc29sdWNpb25zIG1pbi9tYXggdGFsIGNvbWEgZGVzY3JpY2ggc3VzIDogaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyIsCmNvbW1pdFN1Y2Nlc3M6IlRyYW5zYWNjaW9uIFdGUyA6IFNVQ0NFUyAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJUcmFuc2FjY2lvbiBXRlMgOiBGUkFDQVMgJHtyZXNwb25zZX0iLGdvb2dsZVdhcm5pbmc6IkxvIGphXHUwMGU3IEdvb2dsZSBlcyBwYXMgZXN0YXQgZW4gbWVzdXJhIGRlIHNlIGNhcmdhciBjb3JyXHUwMGU4Y3RhbWVudC48YnI+PGJyPlBlciBzdXByaW1pciBhcXVlc3RlIG1lc3NhdGdlLCBjYXVzaXNzXHUwMGU4dHogdW5hIEJhc2VMYXllciBub3ZcdTAwZThsYSBkaW5zIGxvIHNlbGVjdG9yIGRlIGphXHUwMGU3IGVuIG5hdXQgYSBkcmVjaGEuPGJyPjxicj5BcXVcdTAwZjIgZXMgcG9zc2libGFtZW50IGNhdXNhdCBwYXIgbGEgbm9uLWluY2x1c2lvbiBkZSBsYSBsaWJyYXJpXHUwMGUxIEdvb2dsZSBNYXBzLCBvIGFsYXJhIHBlcnF1ZSBxdWUgbGEgY2xhdSBkZSBsJ0FQSSBjb3JyZXNwb25kIHBhcyBhIHZcdTAwZjJzdHJlIHNpdGUuPGJyPjxicj5EZXN2b2xvcGFpcmVzIDogcGVyIHNhYmVyIGNvc3NcdTAwZWQgY29ycmVnaXIgYXF1XHUwMGYyLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZScgdGFyZ2V0PSdfYmxhbmsnPmNsaWNhdHogYWljXHUwMGVkPC9hPiIsCmdldExheWVyV2FybmluZzoiTG8gamFcdTAwZTcgJHtsYXllclR5cGV9IGVzIHBhcyBlbiBtZXN1cmEgZGUgc2UgY2FyZ2FyIGNvcnJcdTAwZThjdGFtZW50Ljxicj48YnI+UGVyIHN1cHJpbWlyIGFxdWVzdGUgbWVzc2F0Z2UsIGNhdXNpc3NcdTAwZTh0eiB1bmEgIEJhc2VMYXllciBub3ZcdTAwZThsYSBkaW5zIGxvIHNlbGVjdG9yIGRlIGphXHUwMGU3IGVuIG5hdXQgYSBkcmVjaGEuPGJyPjxicj5BcXVcdTAwZjIgZXMgcG9zc2libGFtZW50IGNhdXNhdCBwZXIgbGEgbm9uLWluY2x1c2lvbiBkZSBsYSBsaWJyYXJpXHUwMGUxICR7bGF5ZXJMaWJ9Ljxicj48YnI+RGVzdm9sb3BhaXJlcyA6IHBlciBzYWJlciBjb3NzXHUwMGVkIGNvcnJlZ2lyIGFxdVx1MDBlZCwgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS8ke2xheWVyTGlifScgdGFyZ2V0PSdfYmxhbmsnPmNsaWNhdHogYWljXHUwMGVkPC9hPiIsIlNjYWxlID0gMSA6ICR7c2NhbGVEZW5vbX0iOiJFc2NhbGEgfiAxIDogJHtzY2FsZURlbm9tfSIsClc6Ik8iLEU6Ilx1MDBjOCIsTjoiTiIsUzoiUyIscmVwcm9qZWN0RGVwcmVjYXRlZDoiVXRpbGl6YXR6IGwnb3BjaW9uICdyZXByb2plY3QnIHN1bCBqYVx1MDBlNyAke2xheWVyTmFtZX0uIEFxdWVzdGEgb3BjaW9uIGVzIGRlc3ByZWNpYWRhIDogU29uIHVzYXRnZSBwZXJtZXRpXHUwMGUxIGQnYWZpY2hhciBkZSBkb25hZGFzIGFsIGRlc3NcdTAwZmFzIGRlIGphY2VzIHJhc3RlciBjb21lcmNpYWxzLiBBcXVlc3RhIGZvbmNpb25hbGl0YXQgYXJhIGVzIHN1cG9ydGFkYSBlbiB1dGlsaXphbnQgbG8gc3VwXHUwMGYycnQgZGUgbGEgcHJvamVjY2lvbiBNZXJjYXRvciBFc2ZlcmljYS4gTWFpIGQnaW5mb3JtYWNpb24gZXMgZGlzcG9uaWJsYSBzdXMgaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TcGhlcmljYWxNZXJjYXRvci4iLG1ldGhvZERlcHJlY2F0ZWQ6IkFxdWVzdGUgbWV0XHUwMGYyZGUgZXMgZGVzcHJlY2lhZGEsIGUgc2VyXHUwMGUwIHN1cHJpbWlkYSBhIGxhIHZlcnNpb24gMy4wLiBNZXJjXHUwMGU5cyBkJ3V0aWxpemFyICR7bmV3TWV0aG9kfSBhIGxhIHBsYVx1MDBlN2EuIn0pO09wZW5MYXllcnMuTGF5ZXIuVVRGR3JpZD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIuWFlaLHtpc0Jhc2VMYXllcjohMSxwcm9qZWN0aW9uOm5ldyBPcGVuTGF5ZXJzLlByb2plY3Rpb24oIkVQU0c6OTAwOTEzIiksdXNlSlNPTlA6ITEsdGlsZUNsYXNzOk9wZW5MYXllcnMuVGlsZS5VVEZHcmlkLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2EubmFtZSxhLnVybCx7fSxhXSk7dGhpcy50aWxlT3B0aW9ucz1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt1dGZncmlkUmVzb2x1dGlvbjp0aGlzLnV0ZmdyaWRSZXNvbHV0aW9ufSx0aGlzLnRpbGVPcHRpb25zKX0sY3JlYXRlQmFja0J1ZmZlcjpmdW5jdGlvbigpe30sY2xvbmU6ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9bmV3IE9wZW5MYXllcnMuTGF5ZXIuVVRGR3JpZCh0aGlzLmdldE9wdGlvbnMoKSkpO3JldHVybiBhPU9wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUuY2xvbmUuYXBwbHkodGhpcywKW2FdKX0sZ2V0RmVhdHVyZUluZm86ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDsoYT10aGlzLmdldFRpbGVEYXRhKGEpKSYmYS50aWxlJiYoYj1hLnRpbGUuZ2V0RmVhdHVyZUluZm8oYS5pLGEuaikpO3JldHVybiBifSxnZXRGZWF0dXJlSWQ6ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbCxhPXRoaXMuZ2V0VGlsZURhdGEoYSk7YS50aWxlJiYoYj1hLnRpbGUuZ2V0RmVhdHVyZUlkKGEuaSxhLmopKTtyZXR1cm4gYn0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5VVEZHcmlkIn0pO09wZW5MYXllcnMuVGlsZU1hbmFnZXI9T3BlbkxheWVycy5DbGFzcyh7Y2FjaGVTaXplOjI1Nix0aWxlc1BlckZyYW1lOjIsZnJhbWVEZWxheToxNixtb3ZlRGVsYXk6MTAwLHpvb21EZWxheToyMDAsbWFwczpudWxsLHRpbGVRdWV1ZUlkOm51bGwsdGlsZVF1ZXVlOm51bGwsdGlsZUNhY2hlOm51bGwsdGlsZUNhY2hlSW5kZXg6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcyxhKTt0aGlzLm1hcHM9W107dGhpcy50aWxlUXVldWVJZD17fTt0aGlzLnRpbGVRdWV1ZT17fTt0aGlzLnRpbGVDYWNoZT17fTt0aGlzLnRpbGVDYWNoZUluZGV4PVtdfSxhZGRNYXA6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuX2Rlc3Ryb3llZCYmT3BlbkxheWVycy5MYXllci5HcmlkKXt0aGlzLm1hcHMucHVzaChhKTt0aGlzLnRpbGVRdWV1ZVthLmlkXT1bXTtmb3IodmFyIGI9MCxjPWEubGF5ZXJzLmxlbmd0aDtiPGM7KytiKXRoaXMuYWRkTGF5ZXIoe2xheWVyOmEubGF5ZXJzW2JdfSk7CmEuZXZlbnRzLm9uKHttb3ZlOnRoaXMubW92ZSx6b29tZW5kOnRoaXMuem9vbUVuZCxjaGFuZ2VsYXllcjp0aGlzLmNoYW5nZUxheWVyLGFkZGxheWVyOnRoaXMuYWRkTGF5ZXIscHJlcmVtb3ZlbGF5ZXI6dGhpcy5yZW1vdmVMYXllcixzY29wZTp0aGlzfSl9fSxyZW1vdmVNYXA6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuX2Rlc3Ryb3llZCYmT3BlbkxheWVycy5MYXllci5HcmlkKXt3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMudGlsZVF1ZXVlSWRbYS5pZF0pO2lmKGEubGF5ZXJzKWZvcih2YXIgYj0wLGM9YS5sYXllcnMubGVuZ3RoO2I8YzsrK2IpdGhpcy5yZW1vdmVMYXllcih7bGF5ZXI6YS5sYXllcnNbYl19KTthLmV2ZW50cyYmYS5ldmVudHMudW4oe21vdmU6dGhpcy5tb3ZlLHpvb21lbmQ6dGhpcy56b29tRW5kLGNoYW5nZWxheWVyOnRoaXMuY2hhbmdlTGF5ZXIsYWRkbGF5ZXI6dGhpcy5hZGRMYXllcixwcmVyZW1vdmVsYXllcjp0aGlzLnJlbW92ZUxheWVyLHNjb3BlOnRoaXN9KTsKZGVsZXRlIHRoaXMudGlsZVF1ZXVlW2EuaWRdO2RlbGV0ZSB0aGlzLnRpbGVRdWV1ZUlkW2EuaWRdO09wZW5MYXllcnMuVXRpbC5yZW1vdmVJdGVtKHRoaXMubWFwcyxhKX19LG1vdmU6ZnVuY3Rpb24oYSl7dGhpcy51cGRhdGVUaW1lb3V0KGEub2JqZWN0LHRoaXMubW92ZURlbGF5LCEwKX0sem9vbUVuZDpmdW5jdGlvbihhKXt0aGlzLnVwZGF0ZVRpbWVvdXQoYS5vYmplY3QsdGhpcy56b29tRGVsYXkpfSxjaGFuZ2VMYXllcjpmdW5jdGlvbihhKXsoInZpc2liaWxpdHkiPT09YS5wcm9wZXJ0eXx8InBhcmFtcyI9PT1hLnByb3BlcnR5KSYmdGhpcy51cGRhdGVUaW1lb3V0KGEub2JqZWN0LDApfSxhZGRMYXllcjpmdW5jdGlvbihhKXthPWEubGF5ZXI7aWYoYSBpbnN0YW5jZW9mIE9wZW5MYXllcnMuTGF5ZXIuR3JpZCl7YS5ldmVudHMub24oe2FkZHRpbGU6dGhpcy5hZGRUaWxlLHJlZnJlc2g6dGhpcy5oYW5kbGVMYXllclJlZnJlc2gscmV0aWxlOnRoaXMuY2xlYXJUaWxlUXVldWUsCnNjb3BlOnRoaXN9KTt2YXIgYixjLGQ7Zm9yKGI9YS5ncmlkLmxlbmd0aC0xOzA8PWI7LS1iKWZvcihjPWEuZ3JpZFtiXS5sZW5ndGgtMTswPD1jOy0tYylkPWEuZ3JpZFtiXVtjXSx0aGlzLmFkZFRpbGUoe3RpbGU6ZH0pLGQudXJsJiYhZC5pbWdEaXYmJnRoaXMubWFuYWdlVGlsZUNhY2hlKHtvYmplY3Q6ZH0pfX0scmVtb3ZlTGF5ZXI6ZnVuY3Rpb24oYSl7YT1hLmxheWVyO2lmKGEgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkxheWVyLkdyaWQmJih0aGlzLmNsZWFyVGlsZVF1ZXVlKHtvYmplY3Q6YX0pLGEuZXZlbnRzJiZhLmV2ZW50cy51bih7YWRkdGlsZTp0aGlzLmFkZFRpbGUscmVmcmVzaDp0aGlzLmhhbmRsZUxheWVyUmVmcmVzaCxyZXRpbGU6dGhpcy5jbGVhclRpbGVRdWV1ZSxzY29wZTp0aGlzfSksYS5ncmlkKSl7dmFyIGIsYyxkO2ZvcihiPWEuZ3JpZC5sZW5ndGgtMTswPD1iOy0tYilmb3IoYz1hLmdyaWRbYl0ubGVuZ3RoLTE7MDw9YzstLWMpZD1hLmdyaWRbYl1bY10sdGhpcy51bmxvYWRUaWxlKHtvYmplY3Q6ZH0pfX0sCmhhbmRsZUxheWVyUmVmcmVzaDpmdW5jdGlvbihhKXthPWEub2JqZWN0O2lmKGEuZ3JpZCl7dmFyIGIsYyxkO2ZvcihiPWEuZ3JpZC5sZW5ndGgtMTswPD1iOy0tYilmb3IoYz1hLmdyaWRbYl0ubGVuZ3RoLTE7MDw9YzstLWMpZD1hLmdyaWRbYl1bY10sT3BlbkxheWVycy5VdGlsLnJlbW92ZUl0ZW0odGhpcy50aWxlQ2FjaGVJbmRleCxkLnVybCksZGVsZXRlIHRoaXMudGlsZUNhY2hlW2QudXJsXX19LHVwZGF0ZVRpbWVvdXQ6ZnVuY3Rpb24oYSxiLGMpe3dpbmRvdy5jbGVhclRpbWVvdXQodGhpcy50aWxlUXVldWVJZFthLmlkXSk7dmFyIGQ9dGhpcy50aWxlUXVldWVbYS5pZF07aWYoIWN8fGQubGVuZ3RoKXRoaXMudGlsZVF1ZXVlSWRbYS5pZF09d2luZG93LnNldFRpbWVvdXQoT3BlbkxheWVycy5GdW5jdGlvbi5iaW5kKGZ1bmN0aW9uKCl7dGhpcy5kcmF3VGlsZXNGcm9tUXVldWUoYSk7ZC5sZW5ndGgmJnRoaXMudXBkYXRlVGltZW91dChhLHRoaXMuZnJhbWVEZWxheSl9LHRoaXMpLApiKX0sYWRkVGlsZTpmdW5jdGlvbihhKXtpZihhLnRpbGUgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLlRpbGUuSW1hZ2UpYS50aWxlLmV2ZW50cy5vbih7YmVmb3JlZHJhdzp0aGlzLnF1ZXVlVGlsZURyYXcsYmVmb3JlbG9hZDp0aGlzLm1hbmFnZVRpbGVDYWNoZSxsb2FkZW5kOnRoaXMuYWRkVG9DYWNoZSx1bmxvYWQ6dGhpcy51bmxvYWRUaWxlLHNjb3BlOnRoaXN9KTtlbHNlIHRoaXMucmVtb3ZlTGF5ZXIoe2xheWVyOmEudGlsZS5sYXllcn0pfSx1bmxvYWRUaWxlOmZ1bmN0aW9uKGEpe2E9YS5vYmplY3Q7YS5ldmVudHMudW4oe2JlZm9yZWRyYXc6dGhpcy5xdWV1ZVRpbGVEcmF3LGJlZm9yZWxvYWQ6dGhpcy5tYW5hZ2VUaWxlQ2FjaGUsbG9hZGVuZDp0aGlzLmFkZFRvQ2FjaGUsdW5sb2FkOnRoaXMudW5sb2FkVGlsZSxzY29wZTp0aGlzfSk7T3BlbkxheWVycy5VdGlsLnJlbW92ZUl0ZW0odGhpcy50aWxlUXVldWVbYS5sYXllci5tYXAuaWRdLGEpfSxxdWV1ZVRpbGVEcmF3OmZ1bmN0aW9uKGEpe3ZhciBhPQphLm9iamVjdCxiPSExLGM9YS5sYXllcixkPWMuZ2V0VVJMKGEuYm91bmRzKSxlPXRoaXMudGlsZUNhY2hlW2RdO2UmJiJvbFRpbGVJbWFnZSIhPT1lLmNsYXNzTmFtZSYmKGRlbGV0ZSB0aGlzLnRpbGVDYWNoZVtkXSxPcGVuTGF5ZXJzLlV0aWwucmVtb3ZlSXRlbSh0aGlzLnRpbGVDYWNoZUluZGV4LGQpLGU9bnVsbCk7aWYoYy51cmwmJihjLmFzeW5jfHwhZSkpYj10aGlzLnRpbGVRdWV1ZVtjLm1hcC5pZF0sfk9wZW5MYXllcnMuVXRpbC5pbmRleE9mKGIsYSl8fGIucHVzaChhKSxiPSEwO3JldHVybiFifSxkcmF3VGlsZXNGcm9tUXVldWU6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMudGlsZVF1ZXVlW2EuaWRdLGM9dGhpcy50aWxlc1BlckZyYW1lLGE9YS56b29tVHdlZW4mJmEuem9vbVR3ZWVuLnBsYXlpbmc7IWEmJmIubGVuZ3RoJiZjOyliLnNoaWZ0KCkuZHJhdyghMCksLS1jfSxtYW5hZ2VUaWxlQ2FjaGU6ZnVuY3Rpb24oYSl7dmFyIGE9YS5vYmplY3QsYj10aGlzLnRpbGVDYWNoZVthLnVybF07CmImJihiLnBhcmVudE5vZGUmJk9wZW5MYXllcnMuRWxlbWVudC5oYXNDbGFzcyhiLnBhcmVudE5vZGUsIm9sQmFja0J1ZmZlciIpJiYoYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGIuaWQ9bnVsbCksYi5wYXJlbnROb2RlfHwoYi5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iLGIuc3R5bGUub3BhY2l0eT0wLGEuc2V0SW1hZ2UoYiksT3BlbkxheWVycy5VdGlsLnJlbW92ZUl0ZW0odGhpcy50aWxlQ2FjaGVJbmRleCxhLnVybCksdGhpcy50aWxlQ2FjaGVJbmRleC5wdXNoKGEudXJsKSkpfSxhZGRUb0NhY2hlOmZ1bmN0aW9uKGEpe2E9YS5vYmplY3Q7IXRoaXMudGlsZUNhY2hlW2EudXJsXSYmIU9wZW5MYXllcnMuRWxlbWVudC5oYXNDbGFzcyhhLmltZ0Rpdiwib2xJbWFnZUxvYWRFcnJvciIpJiYodGhpcy50aWxlQ2FjaGVJbmRleC5sZW5ndGg+PXRoaXMuY2FjaGVTaXplJiYoZGVsZXRlIHRoaXMudGlsZUNhY2hlW3RoaXMudGlsZUNhY2hlSW5kZXhbMF1dLHRoaXMudGlsZUNhY2hlSW5kZXguc2hpZnQoKSksCnRoaXMudGlsZUNhY2hlW2EudXJsXT1hLmltZ0Rpdix0aGlzLnRpbGVDYWNoZUluZGV4LnB1c2goYS51cmwpKX0sY2xlYXJUaWxlUXVldWU6ZnVuY3Rpb24oYSl7Zm9yKHZhciBhPWEub2JqZWN0LGI9dGhpcy50aWxlUXVldWVbYS5tYXAuaWRdLGM9Yi5sZW5ndGgtMTswPD1jOy0tYyliW2NdLmxheWVyPT09YSYmYi5zcGxpY2UoYywxKX0sZGVzdHJveTpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLm1hcHMubGVuZ3RoLTE7MDw9YTstLWEpdGhpcy5yZW1vdmVNYXAodGhpcy5tYXBzW2FdKTt0aGlzLnRpbGVDYWNoZUluZGV4PXRoaXMudGlsZUNhY2hlPXRoaXMudGlsZVF1ZXVlSWQ9dGhpcy50aWxlUXVldWU9dGhpcy5tYXBzPW51bGw7dGhpcy5fZGVzdHJveWVkPSEwfX0pO09wZW5MYXllcnMuTGFuZy5wdD1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7dW5oYW5kbGVkUmVxdWVzdDoiU2Vydmlkb3IgZGV2b2x2ZXUgZXJybyBuXHUwMGUzbyBjb250ZW1wbGFkbyAke3N0YXR1c1RleHR9IixQZXJtYWxpbms6IkxpZ2FcdTAwZTdcdTAwZTNvIHBlcm1hbmVudGUiLE92ZXJsYXlzOiJTb2JyZXBvc2lcdTAwZTdcdTAwZjVlcyIsIkJhc2UgTGF5ZXIiOiJDYW1hZGEgQmFzZSIsbm9GSUQ6Ik5cdTAwZTNvIFx1MDBlOSBwb3NzXHUwMGVkdmVsIGF0dWFsaXphciB1bSBlbGVtZW50byBwYXJhIGEgcXVhbCBuXHUwMGUzbyBoXHUwMGUxIEZJRC4iLGJyb3dzZXJOb3RTdXBwb3J0ZWQ6Ik8gc2V1IG5hdmVnYWRvciBuXHUwMGUzbyBzdXBvcnRhIHJlbmRlcml6YVx1MDBlN1x1MDBlM28gdmV0b3JpYWwuIEFjdHVhbG1lbnRlIG9zIHJlbmRlcml6YWRvcmVzIHN1cG9ydGFkb3Mgc1x1MDBlM286XG4ke3JlbmRlcmVyc30iLG1pblpvb21MZXZlbEVycm9yOiJBIHByb3ByaWVkYWRlIG1pblpvb21MZXZlbCBzXHUwMGYzIGRldmUgc2VyIHVzYWRhIGNvbSBhcyBjYW1hZGFzIGRlc2NlbmRlbnRlcyBkYSBGaXhlZFpvb21MZXZlbHMuIEEgdmVyaWZpY2FcdTAwZTdcdTAwZTNvIGRhIHByb3ByaWVkYWRlIHBvciBlc3RhIGNhbWFkYSB3ZnMgXHUwMGU5IHVtYSByZWxcdTAwZWRxdWlhIGRvIHBhc3NhZG8uIE5vIGVudGFudG8sIG5cdTAwZTNvIHBvZGVtb3MgcmVtb3ZcdTAwZWEtbGEgc2VtIGNvcnJlciBvIHJpc2NvIGRlIGFmZWN0YXIgYXBsaWNhXHUwMGU3XHUwMGY1ZXMgT0wgcXVlIGRlcGVuZGFtIGRlbGEuIFBvcnRhbnRvLCBlc3RhbW9zIGEgdG9yblx1MDBlMS1sYSBvYnNvbGV0YSAtLSBhIHZlcmlmaWNhXHUwMGU3XHUwMGUzbyBtaW5ab29tTGV2ZWwgc2VyXHUwMGUxIHJlbW92aWRhIG5hIHZlcnNcdTAwZTNvIDMuMC4gRW0gdmV6IGRlbGEsIHBvciBmYXZvciwgdXNlIGFzIG9wXHUwMGU3XHUwMGY1ZXMgZGUgcmVzb2x1XHUwMGU3XHUwMGUzbyBtaW4vbWF4IGRlc2NyaXRhcyBhcXVpOiBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NldHRpbmdab29tTGV2ZWxzIiwKY29tbWl0U3VjY2VzczoiVHJhbnNhY1x1MDBlN1x1MDBlM28gV0ZTOiBTVUNFU1NPICR7cmVzcG9uc2V9Iixjb21taXRGYWlsZWQ6IlRyYW5zYWNcdTAwZTdcdTAwZTNvIFdGUzogRkFMSE9VICR7cmVzcG9uc2V9Iixnb29nbGVXYXJuaW5nOiJBIENhbWFkYSBHb29nbGUgblx1MDBlM28gZm9pIGNvcnJlY3RhbWVudGUgY2FycmVnYWRhLjxicj48YnI+UGFyYSBkZWl4YXIgZGUgcmVjZWJlciBlc3RhIG1lbnNhZ2VtLCBzZWxlY2Npb25lIHVtYSBub3ZhIENhbWFkYS1CYXNlIG5vICcnc3dpdGNoZXInJyBkZSBjYW1hZGFzIG5vIGNhbnRvIHN1cGVyaW9yIGRpcmVpdG8uPGJyPjxicj5Qcm92YXZlbG1lbnRlLCBpc3RvIGFjb250ZWNlIHBvcnF1ZSBvICcnc2NyaXB0JycgZGEgYmlibGlvdGVjYSBkbyBHb29nbGUgTWFwcyBuXHUwMGUzbyBmb2kgaW5jbHVcdTAwZWRkbyBvdSBuXHUwMGUzbyBjb250XHUwMGU5bSBhIGNoYXZlIEFQSSBjb3JyZWN0YSBwYXJhIG8gc2V1IHNcdTAwZWR0aW8uPGJyPjxicj5Qcm9ncmFtYWRvcmVzOiBQYXJhIGFqdWRhIHNvYnJlIGNvbW8gc29sdWNpb25hciBvIHByb2JsZW1hIDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvR29vZ2xlJyB0YXJnZXQ9J19ibGFuayc+Y2xpcXVlIGFxdWk8L2E+IC4iLApnZXRMYXllcldhcm5pbmc6IkEgY2FtYWRhICR7bGF5ZXJUeXBlfSBuXHUwMGUzbyBmb2kgY29ycmVjdGFtZW50ZSBjYXJyZWdhZGEuPGJyPjxicj5QYXJhIGRlc2FjdGl2YXIgZXN0YSBtZW5zYWdlbSwgc2VsZWNjaW9uZSB1bWEgbm92YSBDYW1hZGEtQmFzZSBubyAnJ3N3aXRjaGVyJycgZGUgY2FtYWRhcyBubyBjYW50byBzdXBlcmlvciBkaXJlaXRvLjxicj48YnI+UHJvdmF2ZWxtZW50ZSwgaXN0byBhY29udGVjZSBwb3JxdWUgbyAnJ3NjcmlwdCcnIGRhIGJpYmxpb3RlY2EgJHtsYXllckxpYn0gblx1MDBlM28gZm9pIGluY2x1XHUwMGVkZG8gY29ycmVjdGFtZW50ZS48YnI+PGJyPlByb2dyYW1hZG9yZXM6IFBhcmEgYWp1ZGEgc29icmUgY29tbyBzb2x1Y2lvbmFyIG8gcHJvYmxlbWEgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS8ke2xheWVyTGlifScgdGFyZ2V0PSdfYmxhbmsnPmNsaXF1ZSBhcXVpPC9hPiAuIiwiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6IkVzY2FsYSA9IDEgOiAke3NjYWxlRGVub219IiwKVzoiTyIsRToiRSIsTjoiTiIsUzoiUyIscmVwcm9qZWN0RGVwcmVjYXRlZDoiRXN0XHUwMGUxIHVzYW5kbyBhIG9wXHUwMGU3XHUwMGUzbyAncmVwcm9qZWN0JyBuYSBjYW1hZGEgJHtsYXllck5hbWV9LiBFc3RhIG9wXHUwMGU3XHUwMGUzbyBcdTAwZTkgb2Jzb2xldGE6IGZvaSBjb25jZWJpZGEgcGFyYSBwZXJtaXRpciBhIGFwcmVzZW50YVx1MDBlN1x1MDBlM28gZGUgZGFkb3Mgc29icmUgbWFwYXMtYmFzZSBjb21lcmNpYWlzLCBtYXMgZXN0YSBmdW5jaW9uYWxpZGFkZSBcdTAwZTkgYWdvcmEgc3Vwb3J0YWRhIHBlbG8gTWVyY2F0b3IgRXNmXHUwMGU5cmljby4gTWFpcyBpbmZvcm1hXHUwMGU3XHUwMGUzbyBlc3RcdTAwZTEgZGlzcG9uXHUwMGVkdmVsIGVtIGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU3BoZXJpY2FsTWVyY2F0b3IuIixtZXRob2REZXByZWNhdGVkOiJFc3RlIG1cdTAwZTl0b2RvIGZvaSBkZWNsYXJhZG8gb2Jzb2xldG8gZSBzZXJcdTAwZTEgcmVtb3ZpZG8gbmEgdmVyc1x1MDBlM28gMy4wLiBQb3IgZmF2b3IsIHVzZSAke25ld01ldGhvZH0gZW0gdmV6IGRpc3NvLiJ9KTtPcGVuTGF5ZXJzLkxheWVyLkFyY0dJU0NhY2hlPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllci5YWVose3VybDpudWxsLHRpbGVPcmlnaW46bnVsbCx0aWxlU2l6ZTpuZXcgT3BlbkxheWVycy5TaXplKDI1NiwyNTYpLHVzZUFyY0dJU1NlcnZlcjohMCx0eXBlOiJwbmciLHVzZVNjYWxlczohMSxvdmVycmlkZURQSTohMSxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjKXtPcGVuTGF5ZXJzLkxheWVyLlhZWi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5yZXNvbHV0aW9ucyYmKHRoaXMuc2VydmVyUmVzb2x1dGlvbnM9dGhpcy5yZXNvbHV0aW9ucyx0aGlzLm1heEV4dGVudD10aGlzLmdldE1heEV4dGVudEZvclJlc29sdXRpb24odGhpcy5yZXNvbHV0aW9uc1swXSkpO2lmKHRoaXMubGF5ZXJJbmZvKXt2YXIgZD10aGlzLmxheWVySW5mbyxlPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhkLmZ1bGxFeHRlbnQueG1pbixkLmZ1bGxFeHRlbnQueW1pbiwKZC5mdWxsRXh0ZW50LnhtYXgsZC5mdWxsRXh0ZW50LnltYXgpO3RoaXMucHJvamVjdGlvbj0iRVBTRzoiK2Quc3BhdGlhbFJlZmVyZW5jZS53a2lkO3RoaXMuc3BoZXJpY2FsTWVyY2F0b3I9MTAyMTAwPT1kLnNwYXRpYWxSZWZlcmVuY2Uud2tpZDt0aGlzLnVuaXRzPSJlc3JpRmVldCI9PWQudW5pdHM/ImZ0IjoibSI7aWYoZC50aWxlSW5mbyl7dGhpcy50aWxlU2l6ZT1uZXcgT3BlbkxheWVycy5TaXplKGQudGlsZUluZm8ud2lkdGh8fGQudGlsZUluZm8uY29scyxkLnRpbGVJbmZvLmhlaWdodHx8ZC50aWxlSW5mby5yb3dzKTt0aGlzLnRpbGVPcmlnaW49bmV3IE9wZW5MYXllcnMuTG9uTGF0KGQudGlsZUluZm8ub3JpZ2luLngsZC50aWxlSW5mby5vcmlnaW4ueSk7dmFyIGY9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoZS5sZWZ0LGUudG9wKSxlPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGUucmlnaHQsZS5ib3R0b20pO3RoaXMudXNlU2NhbGVzP3RoaXMuc2NhbGVzPQpbXTp0aGlzLnJlc29sdXRpb25zPVtdO3RoaXMubG9kcz1bXTtmb3IodmFyIGcgaW4gZC50aWxlSW5mby5sb2RzKWlmKGQudGlsZUluZm8ubG9kcy5oYXNPd25Qcm9wZXJ0eShnKSl7dmFyIGg9ZC50aWxlSW5mby5sb2RzW2ddO3RoaXMudXNlU2NhbGVzP3RoaXMuc2NhbGVzLnB1c2goaC5zY2FsZSk6dGhpcy5yZXNvbHV0aW9ucy5wdXNoKGgucmVzb2x1dGlvbik7dmFyIGk9dGhpcy5nZXRDb250YWluaW5nVGlsZUNvb3JkcyhmLGgucmVzb2x1dGlvbik7aC5zdGFydFRpbGVDb2w9aS54O2guc3RhcnRUaWxlUm93PWkueTtpPXRoaXMuZ2V0Q29udGFpbmluZ1RpbGVDb29yZHMoZSxoLnJlc29sdXRpb24pO2guZW5kVGlsZUNvbD1pLng7aC5lbmRUaWxlUm93PWkueTt0aGlzLmxvZHMucHVzaChoKX10aGlzLm1heEV4dGVudD10aGlzLmNhbGN1bGF0ZU1heEV4dGVudFdpdGhMT0QodGhpcy5sb2RzWzBdKTt0aGlzLnNlcnZlclJlc29sdXRpb25zPXRoaXMucmVzb2x1dGlvbnM7dGhpcy5vdmVycmlkZURQSSYmCmQudGlsZUluZm8uZHBpJiYoT3BlbkxheWVycy5ET1RTX1BFUl9JTkNIPWQudGlsZUluZm8uZHBpKX19fSxnZXRDb250YWluaW5nVGlsZUNvb3JkczpmdW5jdGlvbihhLGIpe3JldHVybiBuZXcgT3BlbkxheWVycy5QaXhlbChNYXRoLm1heChNYXRoLmZsb29yKChhLngtdGhpcy50aWxlT3JpZ2luLmxvbikvKHRoaXMudGlsZVNpemUudypiKSksMCksTWF0aC5tYXgoTWF0aC5mbG9vcigodGhpcy50aWxlT3JpZ2luLmxhdC1hLnkpLyh0aGlzLnRpbGVTaXplLmgqYikpLDApKX0sY2FsY3VsYXRlTWF4RXh0ZW50V2l0aExPRDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnRpbGVPcmlnaW4ubG9uK2Euc3RhcnRUaWxlQ29sKnRoaXMudGlsZVNpemUudyphLnJlc29sdXRpb24sYz10aGlzLnRpbGVPcmlnaW4ubGF0LWEuc3RhcnRUaWxlUm93KnRoaXMudGlsZVNpemUuaCphLnJlc29sdXRpb247cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhiLGMtKGEuZW5kVGlsZVJvdy1hLnN0YXJ0VGlsZVJvdysKMSkqdGhpcy50aWxlU2l6ZS5oKmEucmVzb2x1dGlvbixiKyhhLmVuZFRpbGVDb2wtYS5zdGFydFRpbGVDb2wrMSkqdGhpcy50aWxlU2l6ZS53KmEucmVzb2x1dGlvbixjKX0sY2FsY3VsYXRlTWF4RXh0ZW50V2l0aEV4dGVudDpmdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGEubGVmdCxhLnRvcCksZD1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChhLnJpZ2h0LGEuYm90dG9tKSxjPXRoaXMuZ2V0Q29udGFpbmluZ1RpbGVDb29yZHMoYyxiKSxkPXRoaXMuZ2V0Q29udGFpbmluZ1RpbGVDb29yZHMoZCxiKTtyZXR1cm4gdGhpcy5jYWxjdWxhdGVNYXhFeHRlbnRXaXRoTE9EKHtyZXNvbHV0aW9uOmIsc3RhcnRUaWxlQ29sOmMueCxzdGFydFRpbGVSb3c6Yy55LGVuZFRpbGVDb2w6ZC54LGVuZFRpbGVSb3c6ZC55fSl9LGdldFVwcGVyTGVmdFRpbGVDb29yZDpmdW5jdGlvbihhKXt2YXIgYj1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCh0aGlzLm1heEV4dGVudC5sZWZ0LAp0aGlzLm1heEV4dGVudC50b3ApO3JldHVybiB0aGlzLmdldENvbnRhaW5pbmdUaWxlQ29vcmRzKGIsYSl9LGdldExvd2VyUmlnaHRUaWxlQ29vcmQ6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQodGhpcy5tYXhFeHRlbnQucmlnaHQsdGhpcy5tYXhFeHRlbnQuYm90dG9tKTtyZXR1cm4gdGhpcy5nZXRDb250YWluaW5nVGlsZUNvb3JkcyhiLGEpfSxnZXRNYXhFeHRlbnRGb3JSZXNvbHV0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0VXBwZXJMZWZ0VGlsZUNvb3JkKGEpLGM9dGhpcy5nZXRMb3dlclJpZ2h0VGlsZUNvb3JkKGEpLGQ9dGhpcy50aWxlT3JpZ2luLmxvbitiLngqdGhpcy50aWxlU2l6ZS53KmEsZT10aGlzLnRpbGVPcmlnaW4ubGF0LWIueSp0aGlzLnRpbGVTaXplLmgqYTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuQm91bmRzKGQsZS0oYy55LWIueSsxKSp0aGlzLnRpbGVTaXplLmgqYSxkKyhjLngtYi54KzEpKnRoaXMudGlsZVNpemUudyoKYSxlKX0sY2xvbmU6ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9bmV3IE9wZW5MYXllcnMuTGF5ZXIuQXJjR0lTQ2FjaGUodGhpcy5uYW1lLHRoaXMudXJsLHRoaXMub3B0aW9ucykpO3JldHVybiBPcGVuTGF5ZXJzLkxheWVyLlhZWi5wcm90b3R5cGUuY2xvbmUuYXBwbHkodGhpcyxbYV0pfSxpbml0R3JpZGRlZFRpbGVzOmZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLl90aWxlT3JpZ2luO09wZW5MYXllcnMuTGF5ZXIuWFlaLnByb3RvdHlwZS5pbml0R3JpZGRlZFRpbGVzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZ2V0TWF4RXh0ZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5tYXAuZ2V0UmVzb2x1dGlvbigpO3JldHVybiB0aGlzLm1heEV4dGVudD10aGlzLmdldE1heEV4dGVudEZvclJlc29sdXRpb24oYSl9LGdldFRpbGVPcmlnaW46ZnVuY3Rpb24oKXtpZighdGhpcy5fdGlsZU9yaWdpbil7dmFyIGE9dGhpcy5nZXRNYXhFeHRlbnQoKTt0aGlzLl90aWxlT3JpZ2luPW5ldyBPcGVuTGF5ZXJzLkxvbkxhdChhLmxlZnQsCmEuYm90dG9tKX1yZXR1cm4gdGhpcy5fdGlsZU9yaWdpbn0sZ2V0VVJMOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0UmVzb2x1dGlvbigpLGM9dGhpcy50aWxlT3JpZ2luLmxvbitiKnRoaXMudGlsZVNpemUudy8yLGQ9dGhpcy50aWxlT3JpZ2luLmxhdC1iKnRoaXMudGlsZVNpemUuaC8yLGE9YS5nZXRDZW50ZXJMb25MYXQoKSxjPU1hdGgucm91bmQoTWF0aC5hYnMoKGEubG9uLWMpLyhiKnRoaXMudGlsZVNpemUudykpKSxkPU1hdGgucm91bmQoTWF0aC5hYnMoKGQtYS5sYXQpLyhiKnRoaXMudGlsZVNpemUuaCkpKSxhPXRoaXMubWFwLmdldFpvb20oKTtpZih0aGlzLmxvZHMpe2lmKGI9dGhpcy5sb2RzW3RoaXMubWFwLmdldFpvb20oKV0sYzxiLnN0YXJ0VGlsZUNvbHx8Yz5iLmVuZFRpbGVDb2x8fGQ8Yi5zdGFydFRpbGVSb3d8fGQ+Yi5lbmRUaWxlUm93KXJldHVybiBudWxsfWVsc2V7dmFyIGU9dGhpcy5nZXRVcHBlckxlZnRUaWxlQ29vcmQoYiksYj10aGlzLmdldExvd2VyUmlnaHRUaWxlQ29vcmQoYik7CmlmKGM8ZS54fHxjPj1iLnh8fGQ8ZS55fHxkPj1iLnkpcmV0dXJuIG51bGx9Yj10aGlzLnVybDtlPSIiK2MrZCthO09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGIpJiYoYj10aGlzLnNlbGVjdFVybChlLGIpKTt0aGlzLnVzZUFyY0dJU1NlcnZlcj9iKz0iL3RpbGUvJHt6fS8ke3l9LyR7eH0iOihjPSJDIitPcGVuTGF5ZXJzLk51bWJlci56ZXJvUGFkKGMsOCwxNiksZD0iUiIrT3BlbkxheWVycy5OdW1iZXIuemVyb1BhZChkLDgsMTYpLGE9IkwiK09wZW5MYXllcnMuTnVtYmVyLnplcm9QYWQoYSwyLDEwKSxiPWIrIi8ke3p9LyR7eX0vJHt4fS4iK3RoaXMudHlwZSk7Yj1PcGVuTGF5ZXJzLlN0cmluZy5mb3JtYXQoYix7eDpjLHk6ZCx6OmF9KTtyZXR1cm4gT3BlbkxheWVycy5VdGlsLnVybEFwcGVuZChiLE9wZW5MYXllcnMuVXRpbC5nZXRQYXJhbWV0ZXJTdHJpbmcodGhpcy5wYXJhbXMpKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5BcmNHSVNDYWNoZSJ9KTtPcGVuTGF5ZXJzLkxhbmdbImJlLXRhcmFzayJdPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHt1bmhhbmRsZWRSZXF1ZXN0OiJcdTA0MWRcdTA0MzVcdTA0MzBcdTA0M2ZcdTA0NDBcdTA0MzBcdTA0NDZcdTA0MzBcdTA0MzJcdTA0MzBcdTA0M2RcdTA0NGIgXHUwNDMyXHUwNDRiXHUwNDNkXHUwNDU2XHUwNDNhIFx1MDQzN1x1MDQzMFx1MDQzZlx1MDQ0Ylx1MDQ0Mlx1MDQ0MyAke3N0YXR1c1RleHR9IixQZXJtYWxpbms6Ilx1MDQyMVx1MDQ0Mlx1MDQzMFx1MDQzYlx1MDQzMFx1MDQ0ZiBcdTA0NDFcdTA0M2ZcdTA0MzBcdTA0NDFcdTA0NGJcdTA0M2JcdTA0M2FcdTA0MzAiLE92ZXJsYXlzOiJcdTA0MjFcdTA0M2JcdTA0MzBcdTA0NTYiLCJCYXNlIExheWVyIjoiXHUwNDExXHUwNDMwXHUwNDM3XHUwNDMwXHUwNDMyXHUwNDRiIFx1MDQ0MVx1MDQzYlx1MDQzZVx1MDQzOSIsbm9GSUQ6Ilx1MDQxZFx1MDQzNVx1MDQzY1x1MDQzMFx1MDQzM1x1MDQ0N1x1MDQ0Ylx1MDQzY1x1MDQzMCBcdTA0MzBcdTA0MzFcdTA0M2RcdTA0MzBcdTA0MzJcdTA0NTZcdTA0NDZcdTA0NGMgXHUwNDNjXHUwNDMwXHUwNDMzXHUwNDQ3XHUwNDRiXHUwNDNjXHUwNDMwXHUwNDQxXHUwNDRjXHUwNDQ2XHUwNDRjLCBcdTA0MzRcdTA0M2JcdTA0NGYgXHUwNDRmXHUwNDNhXHUwNDNlXHUwNDMzXHUwNDMwIFx1MDQzZFx1MDQzNSBcdTA0NTZcdTA0NDFcdTA0M2RcdTA0NDNcdTA0MzUgRklELiIsCmJyb3dzZXJOb3RTdXBwb3J0ZWQ6Ilx1MDQxMlx1MDQzMFx1MDQ0OCBcdTA0MzFcdTA0NDBcdTA0MzBcdTA0NWVcdTA0MzdcdTA0NGRcdTA0NDAgXHUwNDNkXHUwNDM1IFx1MDQzZlx1MDQzMFx1MDQzNFx1MDQ0Mlx1MDQ0MFx1MDQ0Ylx1MDQzY1x1MDQzYlx1MDQ1Nlx1MDQzMlx1MDQzMFx1MDQzNSBcdTA0MzJcdTA0NGRcdTA0M2FcdTA0NDJcdTA0MzBcdTA0NDBcdTA0M2RcdTA0NDNcdTA0NGUgXHUwNDMzXHUwNDQwXHUwNDMwXHUwNDQ0XHUwNDU2XHUwNDNhXHUwNDQzLiBcdTA0MjMgXHUwNDQ2XHUwNDRmXHUwNDNmXHUwNDM1XHUwNDQwXHUwNDMwXHUwNDQ4XHUwNDNkXHUwNDU2IFx1MDQzY1x1MDQzZVx1MDQzY1x1MDQzMFx1MDQzZFx1MDQ0MiBcdTA0M2ZcdTA0MzBcdTA0MzRcdTA0NDJcdTA0NDBcdTA0NGJcdTA0M2NcdTA0M2JcdTA0NTZcdTA0MzJcdTA0MzBcdTA0NGVcdTA0NDZcdTA0NDZcdTA0MzA6ICR7cmVuZGVyZXJzfSIsbWluWm9vbUxldmVsRXJyb3I6Ilx1MDQyM1x1MDQzYlx1MDQzMFx1MDQ0MVx1MDQ0Y1x1MDQ0Nlx1MDQ1Nlx1MDQzMlx1MDQzMFx1MDQ0MVx1MDQ0Y1x1MDQ0Nlx1MDQ0YyBtaW5ab29tTGV2ZWwgXHUwNDNmXHUwNDQwXHUwNDRiXHUwNDM3XHUwNDNkXHUwNDMwXHUwNDQ3XHUwNDMwXHUwNDNkXHUwNDMwIFx1MDQ0Mlx1MDQzZVx1MDQzYlx1MDQ0Y1x1MDQzYVx1MDQ1NiBcdTA0MzRcdTA0M2JcdTA0NGYgXHUwNDMyXHUwNDRiXHUwNDNhXHUwNDMwXHUwNDQwXHUwNDRiXHUwNDQxXHUwNDQyXHUwNDMwXHUwNDNkXHUwNDRjXHUwNDNkXHUwNDRmIFx1MDQ0MVx1MDQzMCBcdTA0NDFcdTA0M2JcdTA0MzBcdTA0NGZcdTA0M2NcdTA0NTYgXHUwNDMyXHUwNDRiXHUwNDQyXHUwNDMyXHUwNDNlXHUwNDQwXHUwNDNkXHUwNDRiXHUwNDNjXHUwNDU2IFx1MDQzMFx1MDQzNCBGaXhlZFpvb21MZXZlbHMuIFx1MDQyMlx1MDQzZVx1MDQzNSwgXHUwNDQ4XHUwNDQyXHUwNDNlICBcdTA0MzNcdTA0NGRcdTA0NDJcdTA0NGIgd2ZzLVx1MDQ0MVx1MDQzYlx1MDQzZVx1MDQzOSBcdTA0M2ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0NGZcdTA0NDBcdTA0MzBcdTA0MzVcdTA0NDZcdTA0NDZcdTA0MzAgXHUwNDNkXHUwNDMwIG1pblpvb21MZXZlbCBcdTIwMTQgXHUwNDQwXHUwNDRkXHUwNDQ1XHUwNDMwIFx1MDQzZlx1MDQ0MFx1MDQzZVx1MDQ0OFx1MDQzYlx1MDQzMFx1MDQzM1x1MDQzMC4gXHUwNDEwXHUwNDNiXHUwNDM1IFx1MDQzY1x1MDQ0YiBcdTA0M2RcdTA0NGYgXHUwNDNjXHUwNDNlXHUwNDM2XHUwNDMwXHUwNDNjIFx1MDQzMlx1MDQ0Ylx1MDQzNFx1MDQzMFx1MDQzYlx1MDQ1Nlx1MDQ0Nlx1MDQ0YyBcdTA0MzNcdTA0NGRcdTA0NDJcdTA0NDNcdTA0NGUgXHUwNDNjXHUwNDMwXHUwNDMzXHUwNDQ3XHUwNDRiXHUwNDNjXHUwNDMwXHUwNDQxXHUwNDRjXHUwNDQ2XHUwNDRjLCBcdTA0NDJcdTA0MzBcdTA0M2NcdTA0NDMgXHUwNDQ4XHUwNDQyXHUwNDNlIFx1MDQzMFx1MDQzNCBcdTA0NGZcdTA0MzUgXHUwNDM3XHUwNDMwXHUwNDNiXHUwNDM1XHUwNDM2XHUwNDMwXHUwNDQ2XHUwNDRjIFx1MDQzZFx1MDQzNVx1MDQzYVx1MDQzMFx1MDQ0Mlx1MDQzZVx1MDQ0MFx1MDQ0Ylx1MDQ0ZiBcdTA0MzdcdTA0MzBcdTA0NDFcdTA0M2RcdTA0MzBcdTA0MzJcdTA0MzBcdTA0M2RcdTA0NGJcdTA0NGYgXHUwNDNkXHUwNDMwIE9MIFx1MDQzNFx1MDQzMFx1MDQ0MVx1MDQ0Mlx1MDQzMFx1MDQ0MVx1MDQzMFx1MDQzMlx1MDQzMFx1MDQzZFx1MDQ0Y1x1MDQzZFx1MDQ1Ni4gXHUwNDIyXHUwNDRiXHUwNDNjIFx1MDQzZFx1MDQ0ZiBcdTA0M2NcdTA0MzVcdTA0M2RcdTA0NDgsIFx1MDQzZlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQzYVx1MDQzMCBtaW5ab29tTGV2ZWwgXHUwNDMxXHUwNDQzXHUwNDM0XHUwNDM3XHUwNDM1IFx1MDQzMlx1MDQ0Ylx1MDQzNFx1MDQzMFx1MDQzYlx1MDQzNVx1MDQzZFx1MDQzMFx1MDQ0ZiBcdTA0NWUgXHUwNDMyXHUwNDRkXHUwNDQwXHUwNDQxXHUwNDU2XHUwNDU2IDMuMC4gXHUwNDFhXHUwNDMwXHUwNDNiXHUwNDU2IFx1MDQzYlx1MDQzMFx1MDQ0MVx1MDQzYVx1MDQzMCwgXHUwNDMyXHUwNDRiXHUwNDNhXHUwNDMwXHUwNDQwXHUwNDRiXHUwNDQxXHUwNDQyXHUwNDNlXHUwNDVlXHUwNDMyXHUwNDMwXHUwNDM1XHUwNDQ2XHUwNDM1IFx1MDQzN1x1MDQzMFx1MDQzY1x1MDQzNVx1MDQ0MVx1MDQ0MiBcdTA0NGZcdTA0MzUgXHUwNDVlXHUwNDQxXHUwNDQyXHUwNDMwXHUwNDNkXHUwNDNlXHUwNDVlXHUwNDNhXHUwNDU2IFx1MDQzY1x1MDQ1Nlx1MDQzZFx1MDQ1Nlx1MDQzY1x1MDQzMFx1MDQzYlx1MDQ0Y1x1MDQzZFx1MDQzMFx1MDQzM1x1MDQzMC9cdTA0M2NcdTA0MzBcdTA0M2FcdTA0NDFcdTA0NGJcdTA0M2NcdTA0MzBcdTA0M2JcdTA0NGNcdTA0M2RcdTA0MzBcdTA0MzNcdTA0MzAgXHUwNDNmXHUwNDMwXHUwNDNjXHUwNDM1XHUwNDQwXHUwNDMwXHUwNDVlLCBcdTA0NGZcdTA0M2EgXHUwNDMwXHUwNDNmXHUwNDU2XHUwNDQxXHUwNDMwXHUwNDNkXHUwNDMwIFx1MDQ0Mlx1MDQ0M1x1MDQ0MjogaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyIsCmNvbW1pdFN1Y2Nlc3M6IldGUy1cdTA0NDJcdTA0NDBcdTA0MzBcdTA0M2RcdTA0MzdcdTA0MzBcdTA0M2FcdTA0NDZcdTA0NGJcdTA0NGY6IFx1MDQxZlx1MDQxZVx1MDQyMVx1MDQyY1x1MDQxZlx1MDQxNVx1MDQyNSAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJXRlMtXHUwNDQyXHUwNDQwXHUwNDMwXHUwNDNkXHUwNDM3XHUwNDMwXHUwNDNhXHUwNDQ2XHUwNDRiXHUwNDRmOiBcdTA0MWZcdTA0MTBcdTA0MWNcdTA0MmJcdTA0MWJcdTA0MWFcdTA0MTAgJHtyZXNwb25zZX0iLGdvb2dsZVdhcm5pbmc6Ilx1MDQxZFx1MDQzNSBcdTA0MzBcdTA0NDJcdTA0NDBcdTA0NGJcdTA0M2NcdTA0MzBcdTA0M2JcdTA0MzBcdTA0NDFcdTA0NGYgXHUwNDM3XHUwNDMwXHUwNDMzXHUwNDQwXHUwNDQzXHUwNDM3XHUwNDU2XHUwNDQ2XHUwNDRjIFx1MDQ0MVx1MDQzYlx1MDQzZVx1MDQzOSBHb29nbGUuIDxicj48YnI+XHUwNDFhXHUwNDMwXHUwNDMxIFx1MDQzZlx1MDQzMFx1MDQzN1x1MDQzMVx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQ0Nlx1MDQ0Nlx1MDQzMCBcdTA0MzNcdTA0NGRcdTA0NDJcdTA0MzBcdTA0MzNcdTA0MzAgXHUwNDNmXHUwNDMwXHUwNDMyXHUwNDM1XHUwNDM0XHUwNDMwXHUwNDNjXHUwNDNiXHUwNDM1XHUwNDNkXHUwNDRjXHUwNDNkXHUwNDRmLCBcdTA0MzJcdTA0NGJcdTA0MzFcdTA0MzVcdTA0NDBcdTA0NGJcdTA0NDZcdTA0MzUgXHUwNDNkXHUwNDNlXHUwNDMyXHUwNDRiIFx1MDQzMVx1MDQzMFx1MDQzN1x1MDQzMFx1MDQzMlx1MDQ0YiBcdTA0NDFcdTA0M2JcdTA0M2VcdTA0MzkgXHUwNDQzIFx1MDQ0MVx1MDQ0Y1x1MDQzZlx1MDQ1Nlx1MDQ0MVx1MDQzNSBcdTA0NWUgXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDQ1XHUwNDNkXHUwNDU2XHUwNDNjIFx1MDQzZlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQ0Ylx1MDQzYyBcdTA0M2FcdTA0NDNcdTA0NDZcdTA0MzUuPGJyPjxicj4gXHUwNDI1XHUwNDQzXHUwNDQyXHUwNDQ3XHUwNDRkXHUwNDM5IFx1MDQzN1x1MDQzMCBcdTA0NWVcdTA0NDFcdTA0NTEsIFx1MDQzZlx1MDQ0MFx1MDQ0Ylx1MDQ0N1x1MDQ0Ylx1MDQzZFx1MDQzMCBcdTA0NWUgXHUwNDQyXHUwNDRiXHUwNDNjLCBcdTA0NDhcdTA0NDJcdTA0M2UgXHUwNDQxXHUwNDNhXHUwNDQwXHUwNDRiXHUwNDNmXHUwNDQyIFx1MDQzMVx1MDQ1Nlx1MDQzMVx1MDQzYlx1MDQ1Nlx1MDQ0Zlx1MDQ0Mlx1MDQ0ZFx1MDQzYVx1MDQ1NiBHb29nbGUgTWFwcyBcdTA0M2RcdTA0NGYgXHUwNDMxXHUwNDRiXHUwNDVlIFx1MDQ0M1x1MDQzYVx1MDQzYlx1MDQ0ZVx1MDQ0N1x1MDQzMFx1MDQzZFx1MDQ0Ylx1MDQ0ZiBcdTA0MzBcdTA0M2JcdTA0NGNcdTA0MzFcdTA0M2UgXHUwNDNkXHUwNDM1IFx1MDQ1ZVx1MDQ0Mlx1MDQ0MFx1MDQ0Ylx1MDQzY1x1MDQzYlx1MDQ1Nlx1MDQzMlx1MDQzMFx1MDQzNSBcdTA0NDFcdTA0M2JcdTA0NDNcdTA0NDhcdTA0M2RcdTA0NGIgQVBJLVx1MDQzYVx1MDQzYlx1MDQ0ZVx1MDQ0NyBcdTA0MzRcdTA0M2JcdTA0NGYgXHUwNDEyXHUwNDMwXHUwNDQ4XHUwNDMwXHUwNDMzXHUwNDMwIFx1MDQ0MVx1MDQzMFx1MDQzOVx1MDQ0Mlx1MDQzMC48YnI+PGJyPlx1MDQyMFx1MDQzMFx1MDQ0MVx1MDQzZlx1MDQ0MFx1MDQzMFx1MDQ0Nlx1MDQzZVx1MDQ1ZVx1MDQ0OFx1MDQ0N1x1MDQ0Ylx1MDQzYVx1MDQzMFx1MDQzYzogXHUwNDE0XHUwNDNiXHUwNDRmIFx1MDQ0Mlx1MDQzMFx1MDQzM1x1MDQzZSwgXHUwNDNhXHUwNDMwXHUwNDMxIFx1MDQzNFx1MDQzMFx1MDQzMlx1MDQzNVx1MDQzNFx1MDQzMFx1MDQ0Nlx1MDQ0Nlx1MDQzMCBcdTA0NGZcdTA0M2EgXHUwNDM3XHUwNDQwXHUwNDMwXHUwNDMxXHUwNDU2XHUwNDQ2XHUwNDRjIFx1MDQ0Mlx1MDQzMFx1MDQzYSwgXHUwNDNhXHUwNDMwXHUwNDMxIFx1MDQ0M1x1MDQ0MVx1MDQ1MSBcdTA0M2ZcdTA0NDBcdTA0MzBcdTA0NDZcdTA0MzBcdTA0MzJcdTA0MzBcdTA0M2JcdTA0MzAsIDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvR29vZ2xlJyB0YXJnZXQ9J19ibGFuayc+XHUwNDNkXHUwNDMwXHUwNDQ2XHUwNDU2XHUwNDQxXHUwNDRjXHUwNDNkXHUwNDU2XHUwNDQ2XHUwNDM1IFx1MDQ0Mlx1MDQ0M1x1MDQ0MjwvYT4iLApnZXRMYXllcldhcm5pbmc6Ilx1MDQxZFx1MDQzNVx1MDQzY1x1MDQzMFx1MDQzM1x1MDQ0N1x1MDQ0Ylx1MDQzY1x1MDQzMCBcdTA0MzdcdTA0MzBcdTA0MzNcdTA0NDBcdTA0NDNcdTA0MzdcdTA0NTZcdTA0NDZcdTA0NGMgXHUwNDQxXHUwNDNiXHUwNDNlXHUwNDM5ICR7bGF5ZXJUeXBlfS48YnI+PGJyPlx1MDQxYVx1MDQzMFx1MDQzMSBcdTA0M2ZcdTA0MzBcdTA0MzdcdTA0MzFcdTA0MzBcdTA0MzJcdTA0NTZcdTA0NDZcdTA0NDZcdTA0MzAgXHUwNDMzXHUwNDRkXHUwNDQyXHUwNDMwXHUwNDMzXHUwNDMwIFx1MDQzZlx1MDQzMFx1MDQzMlx1MDQzNVx1MDQzNFx1MDQzMFx1MDQzY1x1MDQzYlx1MDQzNVx1MDQzZFx1MDQ0Y1x1MDQzZFx1MDQ0ZiwgXHUwNDMyXHUwNDRiXHUwNDMxXHUwNDM1XHUwNDQwXHUwNDRiXHUwNDQ2XHUwNDM1IFx1MDQzZFx1MDQzZVx1MDQzMlx1MDQ0YiBcdTA0MzFcdTA0MzBcdTA0MzdcdTA0MzBcdTA0MzJcdTA0NGIgXHUwNDQxXHUwNDNiXHUwNDNlXHUwNDM5IFx1MDQ0MyBcdTA0NDFcdTA0NGNcdTA0M2ZcdTA0NTZcdTA0NDFcdTA0MzUgXHUwNDVlIFx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQ0NVx1MDQzZFx1MDQ1Nlx1MDQzYyBcdTA0M2ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0NGJcdTA0M2MgXHUwNDNhXHUwNDQzXHUwNDQ2XHUwNDM1Ljxicj48YnI+XHUwNDI1XHUwNDQzXHUwNDQyXHUwNDQ3XHUwNDRkXHUwNDM5IFx1MDQzN1x1MDQzMCBcdTA0NWVcdTA0NDFcdTA0NTEsIFx1MDQzZlx1MDQ0MFx1MDQ0Ylx1MDQ0N1x1MDQ0Ylx1MDQzZFx1MDQzMCBcdTA0NWUgXHUwNDQyXHUwNDRiXHUwNDNjLCBcdTA0NDhcdTA0NDJcdTA0M2UgXHUwNDQxXHUwNDNhXHUwNDQwXHUwNDRiXHUwNDNmXHUwNDQyIFx1MDQzMVx1MDQ1Nlx1MDQzMVx1MDQzYlx1MDQ1Nlx1MDQ0Zlx1MDQ0Mlx1MDQ0ZFx1MDQzYVx1MDQ1NiAke2xheWVyTGlifSBcdTA0M2RcdTA0NGYgXHUwNDMxXHUwNDRiXHUwNDVlIFx1MDQ0MVx1MDQzYlx1MDQ0M1x1MDQ0OFx1MDQzZFx1MDQzMCBcdTA0NWVcdTA0M2FcdTA0M2JcdTA0NGVcdTA0NDdcdTA0MzBcdTA0M2RcdTA0NGIuPGJyPjxicj5cdTA0MjBcdTA0MzBcdTA0NDFcdTA0M2ZcdTA0NDBcdTA0MzBcdTA0NDZcdTA0M2VcdTA0NWVcdTA0NDhcdTA0NDdcdTA0NGJcdTA0M2FcdTA0MzBcdTA0M2M6IFx1MDQxNFx1MDQzYlx1MDQ0ZiBcdTA0NDJcdTA0MzBcdTA0MzNcdTA0M2UsIFx1MDQzYVx1MDQzMFx1MDQzMSBcdTA0MzRcdTA0MzBcdTA0MzJcdTA0MzVcdTA0MzRcdTA0MzBcdTA0NDZcdTA0NDZcdTA0MzAgXHUwNDRmXHUwNDNhIFx1MDQzN1x1MDQ0MFx1MDQzMFx1MDQzMVx1MDQ1Nlx1MDQ0Nlx1MDQ0YyBcdTA0NDJcdTA0MzBcdTA0M2EsIFx1MDQzYVx1MDQzMFx1MDQzMSBcdTA0NDNcdTA0NDFcdTA0NTEgXHUwNDNmXHUwNDQwXHUwNDMwXHUwNDQ2XHUwNDMwXHUwNDMyXHUwNDMwXHUwNDNiXHUwNDMwLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+XHUwNDNkXHUwNDMwXHUwNDQ2XHUwNDU2XHUwNDQxXHUwNDRjXHUwNDNkXHUwNDU2XHUwNDQ2XHUwNDM1IFx1MDQ0Mlx1MDQ0M1x1MDQ0MjwvYT4iLAoiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6Ilx1MDQxY1x1MDQzMFx1MDQ0OFx1MDQ0Mlx1MDQzMFx1MDQzMSA9IDEgOiAke3NjYWxlRGVub219IixXOiJcdTA0MTciLEU6Ilx1MDQyMyIsTjoiXHUwNDFmXHUwNDNkIixTOiJcdTA0MWZcdTA0MzQiLHJlcHJvamVjdERlcHJlY2F0ZWQ6Ilx1MDQxMlx1MDQ0YiBcdTA0MzJcdTA0NGJcdTA0M2FcdTA0MzBcdTA0NDBcdTA0NGJcdTA0NDFcdTA0NDJcdTA0M2VcdTA0NWVcdTA0MzJcdTA0MzBcdTA0MzVcdTA0NDZcdTA0MzUgXHUwNDVlXHUwNDQxXHUwNDQyXHUwNDMwXHUwNDNkXHUwNDNlXHUwNDVlXHUwNDNhXHUwNDQzICdyZXByb2plY3QnIFx1MDQzNFx1MDQzYlx1MDQ0ZiBcdTA0NDFcdTA0M2JcdTA0M2VcdTA0NGYgJHtsYXllck5hbWV9LiBcdTA0MTNcdTA0NGRcdTA0NDJcdTA0MzBcdTA0NGYgXHUwNDVlXHUwNDQxXHUwNDQyXHUwNDMwXHUwNDNkXHUwNDNlXHUwNDVlXHUwNDNhXHUwNDMwIFx1MDQzN1x1MDQ0Y1x1MDQ0Zlx1MDQ1ZVx1MDQzYlx1MDQ0Zlx1MDQzNVx1MDQ0Nlx1MDQ0Nlx1MDQzMCBcdTA0NDFcdTA0MzBcdTA0NDFcdTA0NDJcdTA0MzBcdTA0NDBcdTA0NGRcdTA0M2JcdTA0MzBcdTA0Mzk6IFx1MDQ0Zlx1MDQzZFx1MDQzMCBcdTA0MzJcdTA0NGJcdTA0M2FcdTA0MzBcdTA0NDBcdTA0NGJcdTA0NDFcdTA0NDJcdTA0M2VcdTA0NWVcdTA0MzJcdTA0MzBcdTA0M2JcdTA0MzBcdTA0NDFcdTA0NGYgXHUwNDM0XHUwNDNiXHUwNDRmIFx1MDQzZlx1MDQzMFx1MDQzNFx1MDQ0Mlx1MDQ0MFx1MDQ0Ylx1MDQzY1x1MDQzYVx1MDQ1NiBcdTA0M2ZcdTA0MzBcdTA0M2FcdTA0MzBcdTA0MzdcdTA0NDMgXHUwNDM3XHUwNDRjXHUwNDMyXHUwNDM1XHUwNDQxXHUwNDQyXHUwNDMwXHUwNDNhIFx1MDQzZFx1MDQzMCBcdTA0M2FcdTA0MzBcdTA0M2NcdTA0NGRcdTA0NDBcdTA0NDZcdTA0NGJcdTA0MzlcdTA0M2RcdTA0NGJcdTA0NDUgXHUwNDMxXHUwNDMwXHUwNDM3XHUwNDMwXHUwNDMyXHUwNDRiXHUwNDQ1IFx1MDQzY1x1MDQzMFx1MDQzZlx1MDQzMFx1MDQ0NSwgXHUwNDMwXHUwNDNiXHUwNDM1IFx1MDQzM1x1MDQ0ZFx1MDQ0Mlx1MDQzMCBcdTA0NDRcdTA0NDNcdTA0M2RcdTA0M2FcdTA0NDZcdTA0NGJcdTA0NGYgXHUwNDQ2XHUwNDRmXHUwNDNmXHUwNDM1XHUwNDQwIFx1MDQ0MFx1MDQ0ZFx1MDQzMFx1MDQzYlx1MDQ1Nlx1MDQzN1x1MDQzMFx1MDQzMlx1MDQzMFx1MDQzZFx1MDQzMFx1MDQ0ZiBcdTA0NWUgXHUwNDQzXHUwNDMxXHUwNDQzXHUwNDM0XHUwNDMwXHUwNDMyXHUwNDMwXHUwNDNkXHUwNDMwXHUwNDM5IFx1MDQzZlx1MDQzMFx1MDQzNFx1MDQ0Mlx1MDQ0MFx1MDQ0Ylx1MDQzY1x1MDQ0Nlx1MDQ0YiBcdTA0NDFcdTA0NDRcdTA0NGRcdTA0NDBcdTA0NGJcdTA0NDdcdTA0M2RcdTA0MzBcdTA0MzkgXHUwNDNmXHUwNDQwXHUwNDMwXHUwNDM1XHUwNDNhXHUwNDQ2XHUwNDRiXHUwNDU2IFx1MDQxY1x1MDQ0ZFx1MDQ0MFx1MDQzYVx1MDQzMFx1MDQ0Mlx1MDQzMFx1MDQ0MFx1MDQzMC4gXHUwNDE0XHUwNDMwXHUwNDM0XHUwNDMwXHUwNDQyXHUwNDNhXHUwNDNlXHUwNDMyXHUwNDMwXHUwNDRmIFx1MDQ1Nlx1MDQzZFx1MDQ0NFx1MDQzMFx1MDQ0MFx1MDQzY1x1MDQzMFx1MDQ0Nlx1MDQ0Ylx1MDQ0ZiBcdTA0NTFcdTA0NDFcdTA0NGNcdTA0NDZcdTA0NGMgXHUwNDNkXHUwNDMwIGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU3BoZXJpY2FsTWVyY2F0b3IuIiwKbWV0aG9kRGVwcmVjYXRlZDoiXHUwNDEzXHUwNDRkXHUwNDQyXHUwNDRiIFx1MDQzY1x1MDQ0ZFx1MDQ0Mlx1MDQzMFx1MDQzNCBcdTA0NDFcdTA0MzBcdTA0NDFcdTA0NDJcdTA0MzBcdTA0NDBcdTA0NGRcdTA0M2JcdTA0NGIgXHUwNDU2IFx1MDQzMVx1MDQ0M1x1MDQzNFx1MDQzN1x1MDQzNSBcdTA0MzJcdTA0NGJcdTA0MzRcdTA0MzBcdTA0M2JcdTA0MzVcdTA0M2RcdTA0NGIgXHUwNDVlIFx1MDQzMlx1MDQ0ZFx1MDQ0MFx1MDQ0MVx1MDQ1Nlx1MDQ1NiAzLjAuIFx1MDQxYVx1MDQzMFx1MDQzYlx1MDQ1NiBcdTA0M2JcdTA0MzBcdTA0NDFcdTA0M2FcdTA0MzAsIFx1MDQzN1x1MDQzMFx1MDQzY1x1MDQzNVx1MDQ0MVx1MDQ0MiBcdTA0NGZcdTA0MzNcdTA0M2UgXHUwNDMyXHUwNDRiXHUwNDNhXHUwNDMwXHUwNDQwXHUwNDRiXHUwNDQxXHUwNDQyXHUwNDNlXHUwNDVlXHUwNDMyXHUwNDMwXHUwNDM5XHUwNDQ2XHUwNDM1ICR7bmV3TWV0aG9kfS4ifSk7T3BlbkxheWVycy5Db250cm9sLldNU0dldEZlYXR1cmVJbmZvPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHtob3ZlcjohMSxkcmlsbERvd246ITEsbWF4RmVhdHVyZXM6MTAsY2xpY2tDYWxsYmFjazoiY2xpY2siLG91dHB1dDoiZmVhdHVyZXMiLGxheWVyczpudWxsLHF1ZXJ5VmlzaWJsZTohMSx1cmw6bnVsbCxsYXllclVybHM6bnVsbCxpbmZvRm9ybWF0OiJ0ZXh0L2h0bWwiLHZlbmRvclBhcmFtczp7fSxmb3JtYXQ6bnVsbCxmb3JtYXRPcHRpb25zOm51bGwsaGFuZGxlcjpudWxsLGhvdmVyUmVxdWVzdDpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7YT1hfHx7fTthLmhhbmRsZXJPcHRpb25zPWEuaGFuZGxlck9wdGlvbnN8fHt9O09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSk7dGhpcy5mb3JtYXR8fCh0aGlzLmZvcm1hdD1uZXcgT3BlbkxheWVycy5Gb3JtYXQuV01TR2V0RmVhdHVyZUluZm8oYS5mb3JtYXRPcHRpb25zKSk7CiEwPT09dGhpcy5kcmlsbERvd24mJih0aGlzLmhvdmVyPSExKTt0aGlzLmhvdmVyP3RoaXMuaGFuZGxlcj1uZXcgT3BlbkxheWVycy5IYW5kbGVyLkhvdmVyKHRoaXMse21vdmU6dGhpcy5jYW5jZWxIb3ZlcixwYXVzZTp0aGlzLmdldEluZm9Gb3JIb3Zlcn0sT3BlbkxheWVycy5VdGlsLmV4dGVuZCh0aGlzLmhhbmRsZXJPcHRpb25zLmhvdmVyfHx7fSx7ZGVsYXk6MjUwfSkpOihhPXt9LGFbdGhpcy5jbGlja0NhbGxiYWNrXT10aGlzLmdldEluZm9Gb3JDbGljayx0aGlzLmhhbmRsZXI9bmV3IE9wZW5MYXllcnMuSGFuZGxlci5DbGljayh0aGlzLGEsdGhpcy5oYW5kbGVyT3B0aW9ucy5jbGlja3x8e30pKX0sZ2V0SW5mb0ZvckNsaWNrOmZ1bmN0aW9uKGEpe3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiYmVmb3JlZ2V0ZmVhdHVyZWluZm8iLHt4eTphLnh5fSk7T3BlbkxheWVycy5FbGVtZW50LmFkZENsYXNzKHRoaXMubWFwLnZpZXdQb3J0RGl2LCJvbEN1cnNvcldhaXQiKTt0aGlzLnJlcXVlc3QoYS54eSwKe30pfSxnZXRJbmZvRm9ySG92ZXI6ZnVuY3Rpb24oYSl7dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJiZWZvcmVnZXRmZWF0dXJlaW5mbyIse3h5OmEueHl9KTt0aGlzLnJlcXVlc3QoYS54eSx7aG92ZXI6ITB9KX0sY2FuY2VsSG92ZXI6ZnVuY3Rpb24oKXt0aGlzLmhvdmVyUmVxdWVzdCYmKHRoaXMuaG92ZXJSZXF1ZXN0LmFib3J0KCksdGhpcy5ob3ZlclJlcXVlc3Q9bnVsbCl9LGZpbmRMYXllcnM6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5sYXllcnN8fHRoaXMubWFwLmxheWVycyxiPVtdLGMsZCxlPWEubGVuZ3RoLTE7MDw9ZTstLWUpaWYoYz1hW2VdLGMgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkxheWVyLldNUyYmKCF0aGlzLnF1ZXJ5VmlzaWJsZXx8Yy5nZXRWaXNpYmlsaXR5KCkpKWQ9T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYy51cmwpP2MudXJsWzBdOmMudXJsLCExPT09dGhpcy5kcmlsbERvd24mJiF0aGlzLnVybCYmKHRoaXMudXJsPWQpLCghMD09PXRoaXMuZHJpbGxEb3dufHwKdGhpcy51cmxNYXRjaGVzKGQpKSYmYi5wdXNoKGMpO3JldHVybiBifSx1cmxNYXRjaGVzOmZ1bmN0aW9uKGEpe3ZhciBiPU9wZW5MYXllcnMuVXRpbC5pc0VxdWl2YWxlbnRVcmwodGhpcy51cmwsYSk7aWYoIWImJnRoaXMubGF5ZXJVcmxzKWZvcih2YXIgYz0wLGQ9dGhpcy5sYXllclVybHMubGVuZ3RoO2M8ZDsrK2MpaWYoT3BlbkxheWVycy5VdGlsLmlzRXF1aXZhbGVudFVybCh0aGlzLmxheWVyVXJsc1tjXSxhKSl7Yj0hMDticmVha31yZXR1cm4gYn0sYnVpbGRXTVNPcHRpb25zOmZ1bmN0aW9uKGEsYixjLGQpe2Zvcih2YXIgZT1bXSxmPVtdLGc9MCxoPWIubGVuZ3RoO2c8aDtnKyspbnVsbCE9YltnXS5wYXJhbXMuTEFZRVJTJiYoZT1lLmNvbmNhdChiW2ddLnBhcmFtcy5MQVlFUlMpLGY9Zi5jb25jYXQodGhpcy5nZXRTdHlsZU5hbWVzKGJbZ10pKSk7Yj1iWzBdO2c9dGhpcy5tYXAuZ2V0UHJvamVjdGlvbigpOyhoPWIucHJvamVjdGlvbikmJmguZXF1YWxzKHRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSkmJgooZz1oLmdldENvZGUoKSk7ZD1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHtzZXJ2aWNlOiJXTVMiLHZlcnNpb246Yi5wYXJhbXMuVkVSU0lPTixyZXF1ZXN0OiJHZXRGZWF0dXJlSW5mbyIsZXhjZXB0aW9uczpiLnBhcmFtcy5FWENFUFRJT05TLGJib3g6dGhpcy5tYXAuZ2V0RXh0ZW50KCkudG9CQk9YKG51bGwsYi5yZXZlcnNlQXhpc09yZGVyKCkpLGZlYXR1cmVfY291bnQ6dGhpcy5tYXhGZWF0dXJlcyxoZWlnaHQ6dGhpcy5tYXAuZ2V0U2l6ZSgpLmgsd2lkdGg6dGhpcy5tYXAuZ2V0U2l6ZSgpLncsZm9ybWF0OmQsaW5mb19mb3JtYXQ6Yi5wYXJhbXMuSU5GT19GT1JNQVR8fHRoaXMuaW5mb0Zvcm1hdH0sMS4zPD1wYXJzZUZsb2F0KGIucGFyYW1zLlZFUlNJT04pP3tjcnM6ZyxpOnBhcnNlSW50KGMueCksajpwYXJzZUludChjLnkpfTp7c3JzOmcseDpwYXJzZUludChjLngpLHk6cGFyc2VJbnQoYy55KX0pOzAhPWUubGVuZ3RoJiYoZD1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHtsYXllcnM6ZSwKcXVlcnlfbGF5ZXJzOmUsc3R5bGVzOmZ9LGQpKTtPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhkLHRoaXMudmVuZG9yUGFyYW1zKTtyZXR1cm57dXJsOmEscGFyYW1zOk9wZW5MYXllcnMuVXRpbC51cHBlckNhc2VPYmplY3QoZCksY2FsbGJhY2s6ZnVuY3Rpb24oYil7dGhpcy5oYW5kbGVSZXNwb25zZShjLGIsYSl9LHNjb3BlOnRoaXN9fSxnZXRTdHlsZU5hbWVzOmZ1bmN0aW9uKGEpe3JldHVybiBhLnBhcmFtcy5TVFlMRVM/YS5wYXJhbXMuU1RZTEVTOk9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEucGFyYW1zLkxBWUVSUyk/QXJyYXkoYS5wYXJhbXMuTEFZRVJTLmxlbmd0aCk6YS5wYXJhbXMuTEFZRVJTLnJlcGxhY2UoL1teLF0vZywiIil9LHJlcXVlc3Q6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmZpbmRMYXllcnMoKTtpZigwPT1jLmxlbmd0aCl0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoIm5vZ2V0ZmVhdHVyZWluZm8iKSxPcGVuTGF5ZXJzLkVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5tYXAudmlld1BvcnREaXYsCiJvbEN1cnNvcldhaXQiKTtlbHNlIGlmKGI9Ynx8e30sITE9PT10aGlzLmRyaWxsRG93bil7dmFyIGM9dGhpcy5idWlsZFdNU09wdGlvbnModGhpcy51cmwsYyxhLGNbMF0ucGFyYW1zLkZPUk1BVCksZD1PcGVuTGF5ZXJzLlJlcXVlc3QuR0VUKGMpOyEwPT09Yi5ob3ZlciYmKHRoaXMuaG92ZXJSZXF1ZXN0PWQpfWVsc2V7dGhpcy5fbnVtUmVxdWVzdHM9dGhpcy5fcmVxdWVzdENvdW50PTA7dGhpcy5mZWF0dXJlcz1bXTtmb3IodmFyIGQ9e30sZSxmPTAsZz1jLmxlbmd0aDtmPGc7ZisrKXt2YXIgaD1jW2ZdO2U9T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoaC51cmwpP2gudXJsWzBdOmgudXJsO2UgaW4gZD9kW2VdLnB1c2goaCk6KHRoaXMuX251bVJlcXVlc3RzKyssZFtlXT1baF0pfWZvcihlIGluIGQpYz1kW2VdLGM9dGhpcy5idWlsZFdNU09wdGlvbnMoZSxjLGEsY1swXS5wYXJhbXMuRk9STUFUKSxPcGVuTGF5ZXJzLlJlcXVlc3QuR0VUKGMpfX0sdHJpZ2dlckdldEZlYXR1cmVJbmZvOmZ1bmN0aW9uKGEsCmIsYyl7dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJnZXRmZWF0dXJlaW5mbyIse3RleHQ6YS5yZXNwb25zZVRleHQsZmVhdHVyZXM6YyxyZXF1ZXN0OmEseHk6Yn0pO09wZW5MYXllcnMuRWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm1hcC52aWV3UG9ydERpdiwib2xDdXJzb3JXYWl0Iil9LGhhbmRsZVJlc3BvbnNlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1iLnJlc3BvbnNlWE1MO2lmKCFkfHwhZC5kb2N1bWVudEVsZW1lbnQpZD1iLnJlc3BvbnNlVGV4dDtkPXRoaXMuZm9ybWF0LnJlYWQoZCk7ITE9PT10aGlzLmRyaWxsRG93bj90aGlzLnRyaWdnZXJHZXRGZWF0dXJlSW5mbyhiLGEsZCk6KHRoaXMuX3JlcXVlc3RDb3VudCsrLHRoaXMuX2ZlYXR1cmVzPSJvYmplY3QiPT09dGhpcy5vdXRwdXQ/KHRoaXMuX2ZlYXR1cmVzfHxbXSkuY29uY2F0KHt1cmw6YyxmZWF0dXJlczpkfSk6KHRoaXMuX2ZlYXR1cmVzfHxbXSkuY29uY2F0KGQpLHRoaXMuX3JlcXVlc3RDb3VudD09PXRoaXMuX251bVJlcXVlc3RzJiYKKHRoaXMudHJpZ2dlckdldEZlYXR1cmVJbmZvKGIsYSx0aGlzLl9mZWF0dXJlcy5jb25jYXQoKSksZGVsZXRlIHRoaXMuX2ZlYXR1cmVzLGRlbGV0ZSB0aGlzLl9yZXF1ZXN0Q291bnQsZGVsZXRlIHRoaXMuX251bVJlcXVlc3RzKSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5XTVNHZXRGZWF0dXJlSW5mbyJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5TT1NHZXRGZWF0dXJlT2ZJbnRlcmVzdD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7VkVSU0lPTjoiMS4wLjAiLG5hbWVzcGFjZXM6e3NvczoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9zb3MvMS4wIixnbWw6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sIixzYToiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9zYW1wbGluZy8xLjAiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UifSxzY2hlbWFMb2NhdGlvbjoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9zb3MvMS4wIGh0dHA6Ly9zY2hlbWFzLm9wZW5naXMubmV0L3Nvcy8xLjAuMC9zb3NBbGwueHNkIixkZWZhdWx0UHJlZml4OiJzb3MiLHJlZ0V4ZXM6e3RyaW1TcGFjZTovXlxzKnxccyokL2cscmVtb3ZlU3BhY2U6L1xzKi9nLHNwbGl0U3BhY2U6L1xzKy8sdHJpbUNvbW1hOi9ccyosXHMqL2d9LHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PQp0eXBlb2YgYSYmKGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7YSYmOT09YS5ub2RlVHlwZSYmKGE9YS5kb2N1bWVudEVsZW1lbnQpO3ZhciBiPXtmZWF0dXJlczpbXX07dGhpcy5yZWFkTm9kZShhLGIpO2Zvcih2YXIgYT1bXSxjPTAsZD1iLmZlYXR1cmVzLmxlbmd0aDtjPGQ7YysrKXt2YXIgZT1iLmZlYXR1cmVzW2NdO3RoaXMuaW50ZXJuYWxQcm9qZWN0aW9uJiYodGhpcy5leHRlcm5hbFByb2plY3Rpb24mJmUuY29tcG9uZW50c1swXSkmJmUuY29tcG9uZW50c1swXS50cmFuc2Zvcm0odGhpcy5leHRlcm5hbFByb2plY3Rpb24sdGhpcy5pbnRlcm5hbFByb2plY3Rpb24pO2U9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoZS5jb21wb25lbnRzWzBdLGUuYXR0cmlidXRlcyk7YS5wdXNoKGUpfXJldHVybiBhfSxyZWFkZXJzOntzYTp7U2FtcGxpbmdQb2ludDpmdW5jdGlvbihhLGIpe2lmKCFiLmF0dHJpYnV0ZXMpe3ZhciBjPQp7YXR0cmlidXRlczp7fX07Yi5mZWF0dXJlcy5wdXNoKGMpO2I9Y31iLmF0dHJpYnV0ZXMuaWQ9dGhpcy5nZXRBdHRyaWJ1dGVOUyhhLHRoaXMubmFtZXNwYWNlcy5nbWwsImlkIik7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxwb3NpdGlvbjpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX19LGdtbDpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7RmVhdHVyZUNvbGxlY3Rpb246ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LGZlYXR1cmVNZW1iZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz17YXR0cmlidXRlczp7fX07Yi5mZWF0dXJlcy5wdXNoKGMpO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKX0sbmFtZTpmdW5jdGlvbihhLGIpe2IuYXR0cmlidXRlcy5uYW1lPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0scG9zOmZ1bmN0aW9uKGEsYil7dGhpcy5leHRlcm5hbFByb2plY3Rpb258fCh0aGlzLmV4dGVybmFsUHJvamVjdGlvbj1uZXcgT3BlbkxheWVycy5Qcm9qZWN0aW9uKGEuZ2V0QXR0cmlidXRlKCJzcnNOYW1lIikpKTsKT3BlbkxheWVycy5Gb3JtYXQuR01MLnYzLnByb3RvdHlwZS5yZWFkZXJzLmdtbC5wb3MuYXBwbHkodGhpcyxbYSxiXSl9fSxPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjMucHJvdG90eXBlLnJlYWRlcnMuZ21sKX0sd3JpdGVyczp7c29zOntHZXRGZWF0dXJlT2ZJbnRlcmVzdDpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJHZXRGZWF0dXJlT2ZJbnRlcmVzdCIse2F0dHJpYnV0ZXM6e3ZlcnNpb246dGhpcy5WRVJTSU9OLHNlcnZpY2U6IlNPUyIsInhzaTpzY2hlbWFMb2NhdGlvbiI6dGhpcy5zY2hlbWFMb2NhdGlvbn19KSxjPTAsZD1hLmZvaXMubGVuZ3RoO2M8ZDtjKyspdGhpcy53cml0ZU5vZGUoIkZlYXR1cmVPZkludGVyZXN0SWQiLHtmb2k6YS5mb2lzW2NdfSxiKTtyZXR1cm4gYn0sRmVhdHVyZU9mSW50ZXJlc3RJZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJGZWF0dXJlT2ZJbnRlcmVzdElkIix7dmFsdWU6YS5mb2l9KX19fSwKQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuU09TR2V0RmVhdHVyZU9mSW50ZXJlc3QifSk7T3BlbkxheWVycy5Gb3JtYXQuU09TR2V0T2JzZXJ2YXRpb249T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwse25hbWVzcGFjZXM6e293czoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vd3MiLGdtbDoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwiLHNvczoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9zb3MvMS4wIixvZ2M6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvb2djIixvbToiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vbS8xLjAiLHNhOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3NhbXBsaW5nLzEuMCIseGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UifSxyZWdFeGVzOnt0cmltU3BhY2U6L15ccyp8XHMqJC9nLHJlbW92ZVNwYWNlOi9ccyovZyxzcGxpdFNwYWNlOi9ccysvLHRyaW1Db21tYTovXHMqLFxzKi9nfSxWRVJTSU9OOiIxLjAuMCIsc2NoZW1hTG9jYXRpb246Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvc29zLzEuMCBodHRwOi8vc2NoZW1hcy5vcGVuZ2lzLm5ldC9zb3MvMS4wLjAvc29zR2V0T2JzZXJ2YXRpb24ueHNkIiwKZGVmYXVsdFByZWZpeDoic29zIixyZWFkOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7YSYmOT09YS5ub2RlVHlwZSYmKGE9YS5kb2N1bWVudEVsZW1lbnQpO3ZhciBiPXttZWFzdXJlbWVudHM6W10sb2JzZXJ2YXRpb25zOltdfTt0aGlzLnJlYWROb2RlKGEsYik7cmV0dXJuIGJ9LHdyaXRlOmZ1bmN0aW9uKGEpe2E9dGhpcy53cml0ZU5vZGUoInNvczpHZXRPYnNlcnZhdGlvbiIsYSk7YS5zZXRBdHRyaWJ1dGUoInhtbG5zOm9tIix0aGlzLm5hbWVzcGFjZXMub20pO2Euc2V0QXR0cmlidXRlKCJ4bWxuczpvZ2MiLHRoaXMubmFtZXNwYWNlcy5vZ2MpO3RoaXMuc2V0QXR0cmlidXRlTlMoYSx0aGlzLm5hbWVzcGFjZXMueHNpLCJ4c2k6c2NoZW1hTG9jYXRpb24iLHRoaXMuc2NoZW1hTG9jYXRpb24pO3JldHVybiBPcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLndyaXRlLmFwcGx5KHRoaXMsClthXSl9LHJlYWRlcnM6e29tOntPYnNlcnZhdGlvbkNvbGxlY3Rpb246ZnVuY3Rpb24oYSxiKXtiLmlkPXRoaXMuZ2V0QXR0cmlidXRlTlMoYSx0aGlzLm5hbWVzcGFjZXMuZ21sLCJpZCIpO3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sbWVtYmVyOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxNZWFzdXJlbWVudDpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O2IubWVhc3VyZW1lbnRzLnB1c2goYyk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpfSxPYnNlcnZhdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O2Iub2JzZXJ2YXRpb25zLnB1c2goYyk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpfSxzYW1wbGluZ1RpbWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTtiLnNhbXBsaW5nVGltZT1jO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKX0sb2JzZXJ2ZWRQcm9wZXJ0eTpmdW5jdGlvbihhLGIpe2Iub2JzZXJ2ZWRQcm9wZXJ0eT10aGlzLmdldEF0dHJpYnV0ZU5TKGEsdGhpcy5uYW1lc3BhY2VzLnhsaW5rLAoiaHJlZiIpO3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0scHJvY2VkdXJlOmZ1bmN0aW9uKGEsYil7Yi5wcm9jZWR1cmU9dGhpcy5nZXRBdHRyaWJ1dGVOUyhhLHRoaXMubmFtZXNwYWNlcy54bGluaywiaHJlZiIpO3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sZmVhdHVyZU9mSW50ZXJlc3Q6ZnVuY3Rpb24oYSxiKXt2YXIgYz17ZmVhdHVyZXM6W119O2IuZm9pcz1bXTtiLmZvaXMucHVzaChjKTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Zm9yKHZhciBkPVtdLGU9MCxmPWMuZmVhdHVyZXMubGVuZ3RoO2U8ZjtlKyspe3ZhciBnPWMuZmVhdHVyZXNbZV07ZC5wdXNoKG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKGcuY29tcG9uZW50c1swXSxnLmF0dHJpYnV0ZXMpKX1jLmZlYXR1cmVzPWR9LHJlc3VsdDpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O2IucmVzdWx0PWM7IiIhPT10aGlzLmdldENoaWxkVmFsdWUoYSk/KGMudmFsdWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpLGMudW9tPQphLmdldEF0dHJpYnV0ZSgidW9tIikpOnRoaXMucmVhZENoaWxkTm9kZXMoYSxjKX19LHNhOk9wZW5MYXllcnMuRm9ybWF0LlNPU0dldEZlYXR1cmVPZkludGVyZXN0LnByb3RvdHlwZS5yZWFkZXJzLnNhLGdtbDpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7VGltZUluc3RhbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTtiLnRpbWVJbnN0YW50PWM7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpfSx0aW1lUG9zaXRpb246ZnVuY3Rpb24oYSxiKXtiLnRpbWVQb3NpdGlvbj10aGlzLmdldENoaWxkVmFsdWUoYSl9fSxPcGVuTGF5ZXJzLkZvcm1hdC5TT1NHZXRGZWF0dXJlT2ZJbnRlcmVzdC5wcm90b3R5cGUucmVhZGVycy5nbWwpfSx3cml0ZXJzOntzb3M6e0dldE9ic2VydmF0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiR2V0T2JzZXJ2YXRpb24iLHthdHRyaWJ1dGVzOnt2ZXJzaW9uOnRoaXMuVkVSU0lPTixzZXJ2aWNlOiJTT1MifX0pO3RoaXMud3JpdGVOb2RlKCJvZmZlcmluZyIsCmEsYik7YS5ldmVudFRpbWUmJnRoaXMud3JpdGVOb2RlKCJldmVudFRpbWUiLGEsYik7Zm9yKHZhciBjIGluIGEucHJvY2VkdXJlcyl0aGlzLndyaXRlTm9kZSgicHJvY2VkdXJlIixhLnByb2NlZHVyZXNbY10sYik7Zm9yKHZhciBkIGluIGEub2JzZXJ2ZWRQcm9wZXJ0aWVzKXRoaXMud3JpdGVOb2RlKCJvYnNlcnZlZFByb3BlcnR5IixhLm9ic2VydmVkUHJvcGVydGllc1tkXSxiKTthLmZvaSYmdGhpcy53cml0ZU5vZGUoImZlYXR1cmVPZkludGVyZXN0IixhLmZvaSxiKTt0aGlzLndyaXRlTm9kZSgicmVzcG9uc2VGb3JtYXQiLGEsYik7YS5yZXN1bHRNb2RlbCYmdGhpcy53cml0ZU5vZGUoInJlc3VsdE1vZGVsIixhLGIpO2EucmVzcG9uc2VNb2RlJiZ0aGlzLndyaXRlTm9kZSgicmVzcG9uc2VNb2RlIixhLGIpO3JldHVybiBifSxmZWF0dXJlT2ZJbnRlcmVzdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImZlYXR1cmVPZkludGVyZXN0Iik7dGhpcy53cml0ZU5vZGUoIk9iamVjdElEIiwKYS5vYmplY3RJZCxiKTtyZXR1cm4gYn0sT2JqZWN0SUQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiT2JqZWN0SUQiLHt2YWx1ZTphfSl9LHJlc3BvbnNlRm9ybWF0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInJlc3BvbnNlRm9ybWF0Iix7dmFsdWU6YS5yZXNwb25zZUZvcm1hdH0pfSxwcm9jZWR1cmU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygicHJvY2VkdXJlIix7dmFsdWU6YX0pfSxvZmZlcmluZzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZmZlcmluZyIse3ZhbHVlOmEub2ZmZXJpbmd9KX0sb2JzZXJ2ZWRQcm9wZXJ0eTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvYnNlcnZlZFByb3BlcnR5Iix7dmFsdWU6YX0pfSxldmVudFRpbWU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJldmVudFRpbWUiKTsKImxhdGVzdCI9PT1hLmV2ZW50VGltZSYmdGhpcy53cml0ZU5vZGUoIm9nYzpUTV9FcXVhbHMiLGEsYik7cmV0dXJuIGJ9LHJlc3VsdE1vZGVsOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInJlc3VsdE1vZGVsIix7dmFsdWU6YS5yZXN1bHRNb2RlbH0pfSxyZXNwb25zZU1vZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygicmVzcG9uc2VNb2RlIix7dmFsdWU6YS5yZXNwb25zZU1vZGV9KX19LG9nYzp7VE1fRXF1YWxzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOlRNX0VxdWFscyIpO3RoaXMud3JpdGVOb2RlKCJvZ2M6UHJvcGVydHlOYW1lIix7cHJvcGVydHk6InVybjpvZ2M6ZGF0YTp0aW1lOmlzbzg2MDEifSxiKTsibGF0ZXN0Ij09PWEuZXZlbnRUaW1lJiZ0aGlzLndyaXRlTm9kZSgiZ21sOlRpbWVJbnN0YW50Iix7dmFsdWU6ImxhdGVzdCJ9LGIpO3JldHVybiBifSxQcm9wZXJ0eU5hbWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOlByb3BlcnR5TmFtZSIsCnt2YWx1ZTphLnByb3BlcnR5fSl9fSxnbWw6e1RpbWVJbnN0YW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOlRpbWVJbnN0YW50Iik7dGhpcy53cml0ZU5vZGUoImdtbDp0aW1lUG9zaXRpb24iLGEsYik7cmV0dXJuIGJ9LHRpbWVQb3NpdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6dGltZVBvc2l0aW9uIix7dmFsdWU6YS52YWx1ZX0pfX19LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LlNPU0dldE9ic2VydmF0aW9uIn0pO09wZW5MYXllcnMuTGFuZ1siY3MtQ1oiXT1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7dW5oYW5kbGVkUmVxdWVzdDoiTmV6cHJhY292YW5cdTAwZTEgblx1MDBlMXZyYXRvdlx1MDBlMSBob2Rub3RhICR7c3RhdHVzVGV4dH0iLFBlcm1hbGluazoiVHJ2YWxcdTAwZmQgb2RrYXoiLE92ZXJsYXlzOiJQXHUwMTU5ZWtyeXZuXHUwMGU5IHZyc3R2eSIsIkJhc2UgTGF5ZXIiOiJQb2RrbGFkb3ZcdTAwZTkgdnJzdHZ5Iixub0ZJRDoiTmVsemUgYWt0dWFsaXpvdmF0IHBydmVrLCBwcm8ga3Rlclx1MDBmZCBuZWV4aXN0dWplIEZJRC4iLGJyb3dzZXJOb3RTdXBwb3J0ZWQ6IlZcdTAwZTFcdTAxNjEgcHJvaGxcdTAwZWRcdTAxN2VlXHUwMTBkIG5lcG9kcG9ydWplIHZ5a3Jlc2xvdlx1MDBlMW5cdTAwZWQgdmVrdG9yXHUwMTZmLiBNb21lbnRcdTAwZTFsblx1MDExYiBwb2Rwb3JvdmFuXHUwMGU5IG5cdTAwZTFzdHJvamUganNvdTo6XG4ke3JlbmRlcmVyc30iLG1pblpvb21MZXZlbEVycm9yOiJWbGFzdG5vc3QgbWluWm9vbUxldmVsIGJ5IHNlIG1cdTAxMWJsYSBwb3VcdTAxN2VcdTAwZWR2YXQgcG91emUgcyBwb3RvbWt5IEZpeGVkWm9vbUxldmVscyB2cnN0dmFtaS4gVG8gem5hbWVuXHUwMGUxLCBcdTAxN2VlIHZyc3R2YSB3ZnMga29udHJvbHVqZSwgemRhLWxpIG1pblpvb21MZXZlbCBuZW5cdTAwZWQgemJ5dGVrIHogbWludWxvc3RpLk5lbHplIHRvIG92XHUwMTYxZW0gdnlqbW91dCBiZXogbW9cdTAxN2Vub3N0aSwgXHUwMTdlZSBieWNob20gcm96YmlsaSBhcGxpa2FjZSBwb3N0YXZlblx1MDBlOSBuYSBPTCwga3Rlclx1MDBlOSBieSBuYSB0b20gbW9obHkgelx1MDBlMXZpc2V0LiBQcm90byB0dXRvIHZsYXN0bm9zdCBuZWRvcG9ydVx1MDEwZHVqZW1lIHBvdVx1MDE3ZVx1MDBlZHZhdCAtLSAga29udHJvbGEgbWluWm9vbUxldmVsIGJ1ZGUgb2RzdHJhblx1MDExYm5hIHZlIHZlcnppIDMuMC4gUG91XHUwMTdlaWp0ZSBwcm9zXHUwMGVkbSByYWRcdTAxMWJqaSBuYXN0YXZlblx1MDBlZCBtaW4vbWF4IHBvZGxlIHBcdTAxNTlcdTAwZWRrYWxkdSBwb3BzYW5cdTAwZTlobyBuYTogaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyIsCmNvbW1pdFN1Y2Nlc3M6IldGUyBUcmFuc2FjdGlvbjogXHUwMGRhU1BcdTAxMWFDSCAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJXRlMgVHJhbnNhY3Rpb246IENIWUJBICR7cmVzcG9uc2V9Iixnb29nbGVXYXJuaW5nOiJOZXBvZGFcdTAxNTlpbG8gc2Ugc3ByXHUwMGUxdm5cdTAxMWIgbmFcdTAxMGRcdTAwZWRzdCB2cnN0dnUgR29vZ2xlLjxicj48YnI+QWJ5c3RlIHNlIHpiYXZpbGkgdFx1MDBlOXRvIHpwclx1MDBlMXZ5LCB6dm9sdGUgamlub3Ugelx1MDBlMWtsYWRuXHUwMGVkIHZyc3R2dSB2IHBcdTAxNTllcFx1MDBlZG5hXHUwMTBkaSB2cnN0ZXYuPGJyPjxicj5UbyBzZSB2XHUwMTFidFx1MDE2MWlub3Ugc3RcdTAwZTF2XHUwMGUxLCBwb2t1ZCBuZWJ5bCBuYVx1MDEwZHRlbiBza3JpcHQsIG5lYm8gbmVvYnNhaHVqZSBzcHJcdTAwZTF2blx1MDBmZCBrbFx1MDBlZFx1MDEwZCBwcm8gQVBJIHBybyB0dXRvIHN0clx1MDBlMW5rdS48YnI+PGJyPlZcdTAwZmR2b2pcdTAwZTFcdTAxNTlpOiBQcm8gcG9tb2MsIGFieSB0b2hsZSBmdW5nb3ZhbG8gLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZScgdGFyZ2V0PSdfYmxhbmsnPmtsaWtuXHUwMTFidGUgc2VtPC9hPiIsCmdldExheWVyV2FybmluZzoiVGhlICR7bGF5ZXJUeXBlfSBMYXllciB3YXMgdW5hYmxlIHRvIGxvYWQgY29ycmVjdGx5Ljxicj48YnI+VG8gZ2V0IHJpZCBvZiB0aGlzIG1lc3NhZ2UsIHNlbGVjdCBhIG5ldyBCYXNlTGF5ZXIgaW4gdGhlIGxheWVyIHN3aXRjaGVyIGluIHRoZSB1cHBlci1yaWdodCBjb3JuZXIuPGJyPjxicj5Nb3N0IGxpa2VseSwgdGhpcyBpcyBiZWNhdXNlIHRoZSAke2xheWVyTGlifSBsaWJyYXJ5IHNjcmlwdCB3YXMgZWl0aGVyIG5vdCBjb3JyZWN0bHkgaW5jbHVkZWQuPGJyPjxicj5EZXZlbG9wZXJzOiBGb3IgaGVscCBnZXR0aW5nIHRoaXMgd29ya2luZyBjb3JyZWN0bHksIDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvJHtsYXllckxpYn0nIHRhcmdldD0nX2JsYW5rJz5jbGljayBoZXJlPC9hPiIsIlNjYWxlID0gMSA6ICR7c2NhbGVEZW5vbX0iOiJNXHUwMTFiXHUwMTU5XHUwMGVkdGtvID0gMSA6ICR7c2NhbGVEZW5vbX0iLHJlcHJvamVjdERlcHJlY2F0ZWQ6IlBvdVx1MDE3ZWlsIGpzdGUgdm9sYnUgJ3JlcHJvamVjdCcgdmUgdnJzdHZcdTAxMWIgJHtsYXllck5hbWV9LiBUYXRvIHZvbGJhIG5lblx1MDBlZCBkb3BvcnVcdTAxMGRlblx1MDBlMTogYnlsYSB6ZGUgcHJvdG8sIGFieSBieWxvIG1vXHUwMTdlbm8gem9icmF6b3ZhdCBkYXRhIHogb2tvbWVyXHUwMTBkblx1MDBlZGNoIHNlcnZlclx1MDE2ZiwgYWxlIHRhdG8gZnVua2NlIGplIG55blx1MDBlZCB6YWppXHUwMTYxdFx1MDExYm5hIHBvbW9jXHUwMGVkIHBvZHBvcnkgU3BoZXJpY2FsIE1lcmNhdG9yLiBWXHUwMGVkY2UgaW5mb3JtYWNcdTAwZWQgbmFsZXpuZXRlIG5hIGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU3BoZXJpY2FsTWVyY2F0b3IuIiwKbWV0aG9kRGVwcmVjYXRlZDoiVGF0byBtZXRvZGEgamUgemF2clx1MDE3ZWVuXHUwMGUxIGEgYnVkZSB2ZSB2ZXJ6aSAzLjAgb2RzdHJhblx1MDExYm5hLiBQcm9zXHUwMGVkbSwgcG91XHUwMTdlaWp0ZSByYWRcdTAxMWJqaSAke25ld01ldGhvZH0uIn0pO09wZW5MYXllcnMuQ29udHJvbC5VVEZHcmlkPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHthdXRvQWN0aXZhdGU6ITAsbGF5ZXJzOm51bGwsZGVmYXVsdEhhbmRsZXJPcHRpb25zOntkZWxheTozMDAscGl4ZWxUb2xlcmFuY2U6NCxzdG9wTW92ZTohMSxzaW5nbGU6ITAsImRvdWJsZSI6ITEsc3RvcFNpbmdsZTohMSxzdG9wRG91YmxlOiExfSxoYW5kbGVyTW9kZToiY2xpY2siLHNldEhhbmRsZXI6ZnVuY3Rpb24oYSl7dGhpcy5oYW5kbGVyTW9kZT1hO3RoaXMucmVzZXRIYW5kbGVyKCl9LHJlc2V0SGFuZGxlcjpmdW5jdGlvbigpe3RoaXMuaGFuZGxlciYmKHRoaXMuaGFuZGxlci5kZWFjdGl2YXRlKCksdGhpcy5oYW5kbGVyLmRlc3Ryb3koKSx0aGlzLmhhbmRsZXI9bnVsbCk7ImhvdmVyIj09dGhpcy5oYW5kbGVyTW9kZT90aGlzLmhhbmRsZXI9bmV3IE9wZW5MYXllcnMuSGFuZGxlci5Ib3Zlcih0aGlzLHtwYXVzZTp0aGlzLmhhbmRsZUV2ZW50LG1vdmU6dGhpcy5yZXNldH0sCnRoaXMuaGFuZGxlck9wdGlvbnMpOiJjbGljayI9PXRoaXMuaGFuZGxlck1vZGU/dGhpcy5oYW5kbGVyPW5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuQ2xpY2sodGhpcyx7Y2xpY2s6dGhpcy5oYW5kbGVFdmVudH0sdGhpcy5oYW5kbGVyT3B0aW9ucyk6Im1vdmUiPT10aGlzLmhhbmRsZXJNb2RlJiYodGhpcy5oYW5kbGVyPW5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuSG92ZXIodGhpcyx7cGF1c2U6dGhpcy5oYW5kbGVFdmVudCxtb3ZlOnRoaXMuaGFuZGxlRXZlbnR9LHRoaXMuaGFuZGxlck9wdGlvbnMpKTtyZXR1cm4gdGhpcy5oYW5kbGVyPyEwOiExfSxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe2E9YXx8e307YS5oYW5kbGVyT3B0aW9ucz1hLmhhbmRsZXJPcHRpb25zfHx0aGlzLmRlZmF1bHRIYW5kbGVyT3B0aW9ucztPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pO3RoaXMucmVzZXRIYW5kbGVyKCl9LGhhbmRsZUV2ZW50OmZ1bmN0aW9uKGEpe2lmKG51bGw9PQphKXRoaXMucmVzZXQoKTtlbHNle3ZhciBiPXRoaXMubWFwLmdldExvbkxhdEZyb21QaXhlbChhLnh5KTtpZihiKXt2YXIgYz10aGlzLmZpbmRMYXllcnMoKTtpZigwPGMubGVuZ3RoKXtmb3IodmFyIGQ9e30sZSxmLGc9MCxoPWMubGVuZ3RoO2c8aDtnKyspZT1jW2ddLGY9T3BlbkxheWVycy5VdGlsLmluZGV4T2YodGhpcy5tYXAubGF5ZXJzLGUpLGRbZl09ZS5nZXRGZWF0dXJlSW5mbyhiKTt0aGlzLmNhbGxiYWNrKGQsYixhLnh5KX19fX0sY2FsbGJhY2s6ZnVuY3Rpb24oKXt9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5jYWxsYmFjayhudWxsKX0sZmluZExheWVyczpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmxheWVyc3x8dGhpcy5tYXAubGF5ZXJzLGI9W10sYyxkPWEubGVuZ3RoLTE7MDw9ZDstLWQpYz1hW2RdLGMgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkxheWVyLlVURkdyaWQmJmIucHVzaChjKTtyZXR1cm4gYn0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLlVURkdyaWQifSk7T3BlbkxheWVycy5Gb3JtYXQuQ1FMPWZ1bmN0aW9uKCl7dmFyIGE9e1BST1BFUlRZOi9eW19hLXpBLVpdXHcqLyxDT01QQVJJU09OOi9eKD18PD58PD18PHw+PXw+fExJS0UpL2ksSVNfTlVMTDovXklTIE5VTEwvaSxDT01NQTovXiwvLExPR0lDQUw6L14oQU5EfE9SKS9pLFZBTFVFOi9eKCcoW14nXXwnJykqJ3xcZCsoXC5cZCopP3xcLlxkKykvLExQQVJFTjovXlwoLyxSUEFSRU46L15cKS8sU1BBVElBTDovXihCQk9YfElOVEVSU0VDVFN8RFdJVEhJTnxXSVRISU58Q09OVEFJTlMpL2ksTk9UOi9eTk9UL2ksQkVUV0VFTjovXkJFVFdFRU4vaSxHRU9NRVRSWTpmdW5jdGlvbihhKXt2YXIgYj0vXihQT0lOVHxMSU5FU1RSSU5HfFBPTFlHT058TVVMVElQT0lOVHxNVUxUSUxJTkVTVFJJTkd8TVVMVElQT0xZR09OfEdFT01FVFJZQ09MTEVDVElPTikvLmV4ZWMoYSk7aWYoYil7dmFyIGM9YS5sZW5ndGgsYj1hLmluZGV4T2YoIigiLGJbMF0ubGVuZ3RoKTtpZigtMTxiKWZvcih2YXIgZD0xO2I8CmMmJjA8ZDspc3dpdGNoKGIrKyxhLmNoYXJBdChiKSl7Y2FzZSAiKCI6ZCsrO2JyZWFrO2Nhc2UgIikiOmQtLX1yZXR1cm5bYS5zdWJzdHIoMCxiKzEpXX19LEVORDovXiQvfSxiPXtMUEFSRU46WyJHRU9NRVRSWSIsIlNQQVRJQUwiLCJQUk9QRVJUWSIsIlZBTFVFIiwiTFBBUkVOIl0sUlBBUkVOOlsiTk9UIiwiTE9HSUNBTCIsIkVORCIsIlJQQVJFTiJdLFBST1BFUlRZOlsiQ09NUEFSSVNPTiIsIkJFVFdFRU4iLCJDT01NQSIsIklTX05VTEwiXSxCRVRXRUVOOlsiVkFMVUUiXSxJU19OVUxMOlsiRU5EIl0sQ09NUEFSSVNPTjpbIlZBTFVFIl0sQ09NTUE6WyJHRU9NRVRSWSIsIlZBTFVFIiwiUFJPUEVSVFkiXSxWQUxVRTpbIkxPR0lDQUwiLCJDT01NQSIsIlJQQVJFTiIsIkVORCJdLFNQQVRJQUw6WyJMUEFSRU4iXSxMT0dJQ0FMOlsiTk9UIiwiVkFMVUUiLCJTUEFUSUFMIiwiUFJPUEVSVFkiLCJMUEFSRU4iXSxOT1Q6WyJQUk9QRVJUWSIsIkxQQVJFTiJdLEdFT01FVFJZOlsiQ09NTUEiLAoiUlBBUkVOIl19LGM9eyI9IjpPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLkVRVUFMX1RPLCI8PiI6T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5OT1RfRVFVQUxfVE8sIjwiOk9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uTEVTU19USEFOLCI8PSI6T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5MRVNTX1RIQU5fT1JfRVFVQUxfVE8sIj4iOk9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uR1JFQVRFUl9USEFOLCI+PSI6T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5HUkVBVEVSX1RIQU5fT1JfRVFVQUxfVE8sTElLRTpPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLkxJS0UsQkVUV0VFTjpPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLkJFVFdFRU4sIklTIE5VTEwiOk9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uSVNfTlVMTH0sZD17fSxlPXtBTkQ6T3BlbkxheWVycy5GaWx0ZXIuTG9naWNhbC5BTkQsT1I6T3BlbkxheWVycy5GaWx0ZXIuTG9naWNhbC5PUn0sCmY9e30sZz17UlBBUkVOOjMsTE9HSUNBTDoyLENPTVBBUklTT046MX0saDtmb3IoaCBpbiBjKWMuaGFzT3duUHJvcGVydHkoaCkmJihkW2NbaF1dPWgpO2ZvcihoIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShoKSYmKGZbZVtoXV09aCk7cmV0dXJuIE9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQse3JlYWQ6ZnVuY3Rpb24oZCl7dmFyIGY9ZCxkPVtdLGgsbD1bIk5PVCIsIkdFT01FVFJZIiwiU1BBVElBTCIsIlBST1BFUlRZIiwiTFBBUkVOIl07ZG97YTp7aD1sO2Zvcih2YXIgbT12b2lkIDAsbD12b2lkIDAsbj1oLmxlbmd0aCxtPTA7bTxuO20rKyl7dmFyIGw9aFttXSxwPWFbbF1pbnN0YW5jZW9mIFJlZ0V4cD9hW2xdLmV4ZWMoZik6KDAsYVtsXSkoZik7aWYocCl7aD1wWzBdO2Y9Zi5zdWJzdHIoaC5sZW5ndGgpLnJlcGxhY2UoL15ccyovLCIiKTtoPXt0eXBlOmwsdGV4dDpoLHJlbWFpbmRlcjpmfTticmVhayBhfX1kPSJFUlJPUjogSW4gcGFyc2luZzogWyIrZisiXSwgZXhwZWN0ZWQgb25lIG9mOiAiOwpmb3IobT0wO208bjttKyspbD1oW21dLGQrPSJcbiAgICAiK2wrIjogIithW2xdO3Rocm93IEVycm9yKGQpO31mPWgucmVtYWluZGVyO2w9YltoLnR5cGVdO2lmKCJFTkQiIT1oLnR5cGUmJiFsKXRocm93IEVycm9yKCJObyBmb2xsb3dzIGxpc3QgZm9yICIraC50eXBlKTtkLnB1c2goaCl9d2hpbGUoIkVORCIhPWgudHlwZSk7Zm9yKHZhciBxPWZ1bmN0aW9uKCl7dmFyIGE9ci5wb3AoKTtzd2l0Y2goYS50eXBlKXtjYXNlICJMT0dJQ0FMIjp2YXIgYj1xKCksZD1xKCk7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkZpbHRlci5Mb2dpY2FsKHtmaWx0ZXJzOltkLGJdLHR5cGU6ZVthLnRleHQudG9VcHBlckNhc2UoKV19KTtjYXNlICJOT1QiOnJldHVybiBhPXEoKSxuZXcgT3BlbkxheWVycy5GaWx0ZXIuTG9naWNhbCh7ZmlsdGVyczpbYV0sdHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5Mb2dpY2FsLk5PVH0pO2Nhc2UgIkJFVFdFRU4iOnJldHVybiByLnBvcCgpLGQ9cSgpLGE9cSgpLGI9cSgpLG5ldyBPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uKHtwcm9wZXJ0eTpiLApsb3dlckJvdW5kYXJ5OmEsdXBwZXJCb3VuZGFyeTpkLHR5cGU6T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5CRVRXRUVOfSk7Y2FzZSAiQ09NUEFSSVNPTiI6cmV0dXJuIGQ9cSgpLGI9cSgpLG5ldyBPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uKHtwcm9wZXJ0eTpiLHZhbHVlOmQsdHlwZTpjW2EudGV4dC50b1VwcGVyQ2FzZSgpXX0pO2Nhc2UgIklTX05VTEwiOnJldHVybiBiPXEoKSxuZXcgT3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbih7cHJvcGVydHk6Yix0eXBlOmNbYS50ZXh0LnRvVXBwZXJDYXNlKCldfSk7Y2FzZSAiVkFMVUUiOnJldHVybihiPWEudGV4dC5tYXRjaCgvXicoLiopJyQvKSk/YlsxXS5yZXBsYWNlKC8nJy9nLCInIik6TnVtYmVyKGEudGV4dCk7Y2FzZSAiU1BBVElBTCI6c3dpdGNoKGEudGV4dC50b1VwcGVyQ2FzZSgpKXtjYXNlICJCQk9YIjp2YXIgYT1xKCksYj1xKCksZD1xKCksZj1xKCksZz1xKCk7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsKHt0eXBlOk9wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwuQkJPWCwKcHJvcGVydHk6Zyx2YWx1ZTpPcGVuTGF5ZXJzLkJvdW5kcy5mcm9tQXJyYXkoW2YsZCxiLGFdKX0pO2Nhc2UgIklOVEVSU0VDVFMiOnJldHVybiBkPXEoKSxiPXEoKSxuZXcgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbCh7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsLklOVEVSU0VDVFMscHJvcGVydHk6Yix2YWx1ZTpkfSk7Y2FzZSAiV0lUSElOIjpyZXR1cm4gZD1xKCksYj1xKCksbmV3IE9wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwoe3R5cGU6T3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5XSVRISU4scHJvcGVydHk6Yix2YWx1ZTpkfSk7Y2FzZSAiQ09OVEFJTlMiOnJldHVybiBkPXEoKSxiPXEoKSxuZXcgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbCh7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsLkNPTlRBSU5TLHByb3BlcnR5OmIsdmFsdWU6ZH0pO2Nhc2UgIkRXSVRISU4iOnJldHVybiBhPXEoKSxkPXEoKSxiPXEoKSxuZXcgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbCh7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsLkRXSVRISU4sCnZhbHVlOmQscHJvcGVydHk6YixkaXN0YW5jZTpOdW1iZXIoYSl9KX1jYXNlICJHRU9NRVRSWSI6cmV0dXJuIE9wZW5MYXllcnMuR2VvbWV0cnkuZnJvbVdLVChhLnRleHQpO2RlZmF1bHQ6cmV0dXJuIGEudGV4dH19LGw9W10scj1bXTtkLmxlbmd0aDspc3dpdGNoKGY9ZC5zaGlmdCgpLGYudHlwZSl7Y2FzZSAiUFJPUEVSVFkiOmNhc2UgIkdFT01FVFJZIjpjYXNlICJWQUxVRSI6ci5wdXNoKGYpO2JyZWFrO2Nhc2UgIkNPTVBBUklTT04iOmNhc2UgIkJFVFdFRU4iOmNhc2UgIklTX05VTEwiOmNhc2UgIkxPR0lDQUwiOmZvcihoPWdbZi50eXBlXTswPGwubGVuZ3RoJiZnW2xbbC5sZW5ndGgtMV0udHlwZV08PWg7KXIucHVzaChsLnBvcCgpKTtsLnB1c2goZik7YnJlYWs7Y2FzZSAiU1BBVElBTCI6Y2FzZSAiTk9UIjpjYXNlICJMUEFSRU4iOmwucHVzaChmKTticmVhaztjYXNlICJSUEFSRU4iOmZvcig7MDxsLmxlbmd0aCYmIkxQQVJFTiIhPWxbbC5sZW5ndGgtMV0udHlwZTspci5wdXNoKGwucG9wKCkpOwpsLnBvcCgpOzA8bC5sZW5ndGgmJiJTUEFUSUFMIj09bFtsLmxlbmd0aC0xXS50eXBlJiZyLnB1c2gobC5wb3AoKSk7Y2FzZSAiQ09NTUEiOmNhc2UgIkVORCI6YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcigiVW5rbm93biB0b2tlbiB0eXBlICIrZi50eXBlKTt9Zm9yKDswPGwubGVuZ3RoOylyLnB1c2gobC5wb3AoKSk7ZD1xKCk7aWYoMDxyLmxlbmd0aCl7ZD0iUmVtYWluaW5nIHRva2VucyBhZnRlciBidWlsZGluZyBBU1Q6IFxuIjtmb3IobD1yLmxlbmd0aC0xOzA8PWw7bC0tKWQrPXJbbF0udHlwZSsiOiAiK3JbbF0udGV4dCsiXG4iO3Rocm93IEVycm9yKGQpO310aGlzLmtlZXBEYXRhJiYodGhpcy5kYXRhPWQpO3JldHVybiBkfSx3cml0ZTpmdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgT3BlbkxheWVycy5HZW9tZXRyeSlyZXR1cm4gYS50b1N0cmluZygpO3N3aXRjaChhLkNMQVNTX05BTUUpe2Nhc2UgIk9wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwiOnN3aXRjaChhLnR5cGUpe2Nhc2UgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5CQk9YOnJldHVybiJCQk9YKCIrCmEucHJvcGVydHkrIiwiK2EudmFsdWUudG9CQk9YKCkrIikiO2Nhc2UgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5EV0lUSElOOnJldHVybiJEV0lUSElOKCIrYS5wcm9wZXJ0eSsiLCAiK3RoaXMud3JpdGUoYS52YWx1ZSkrIiwgIithLmRpc3RhbmNlKyIpIjtjYXNlIE9wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwuV0lUSElOOnJldHVybiJXSVRISU4oIithLnByb3BlcnR5KyIsICIrdGhpcy53cml0ZShhLnZhbHVlKSsiKSI7Y2FzZSBPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsLklOVEVSU0VDVFM6cmV0dXJuIklOVEVSU0VDVFMoIithLnByb3BlcnR5KyIsICIrdGhpcy53cml0ZShhLnZhbHVlKSsiKSI7Y2FzZSBPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsLkNPTlRBSU5TOnJldHVybiJDT05UQUlOUygiK2EucHJvcGVydHkrIiwgIit0aGlzLndyaXRlKGEudmFsdWUpKyIpIjtkZWZhdWx0OnRocm93IEVycm9yKCJVbmtub3duIHNwYXRpYWwgZmlsdGVyIHR5cGU6ICIrYS50eXBlKTsKfWNhc2UgIk9wZW5MYXllcnMuRmlsdGVyLkxvZ2ljYWwiOmlmKGEudHlwZT09T3BlbkxheWVycy5GaWx0ZXIuTG9naWNhbC5OT1QpcmV0dXJuIk5PVCAoIit0aGlzLndyaXRlKGEuZmlsdGVyc1swXSkrIikiO2Zvcih2YXIgYj0iKCIsYz0hMCxlPTA7ZTxhLmZpbHRlcnMubGVuZ3RoO2UrKyljP2M9ITE6Yis9IikgIitmW2EudHlwZV0rIiAoIixiKz10aGlzLndyaXRlKGEuZmlsdGVyc1tlXSk7cmV0dXJuIGIrIikiO2Nhc2UgIk9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24iOnJldHVybiBhLnR5cGU9PU9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uQkVUV0VFTj9hLnByb3BlcnR5KyIgQkVUV0VFTiAiK3RoaXMud3JpdGUoYS5sb3dlckJvdW5kYXJ5KSsiIEFORCAiK3RoaXMud3JpdGUoYS51cHBlckJvdW5kYXJ5KTpudWxsIT09YS52YWx1ZT9hLnByb3BlcnR5KyIgIitkW2EudHlwZV0rIiAiK3RoaXMud3JpdGUoYS52YWx1ZSk6YS5wcm9wZXJ0eSsiICIrZFthLnR5cGVdO2Nhc2Ugdm9pZCAwOmlmKCJzdHJpbmciPT09CnR5cGVvZiBhKXJldHVybiInIithLnJlcGxhY2UoLycvZywiJyciKSsiJyI7aWYoIm51bWJlciI9PT10eXBlb2YgYSlyZXR1cm4gU3RyaW5nKGEpO2RlZmF1bHQ6dGhyb3cgRXJyb3IoIkNhbid0IGVuY29kZTogIithLkNMQVNTX05BTUUrIiAiK2EpO319LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LkNRTCJ9KX0oKTtPcGVuTGF5ZXJzLkNsYXNzLmlzUHJvdG90eXBlPWZ1bmN0aW9uKCl7fTtPcGVuTGF5ZXJzLkNsYXNzLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe2FyZ3VtZW50cyYmYXJndW1lbnRzWzBdIT1PcGVuTGF5ZXJzLkNsYXNzLmlzUHJvdG90eXBlJiZ0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX07T3BlbkxheWVycy5DbGFzcy5pbmhlcml0PWZ1bmN0aW9uKGEpe3ZhciBiPWZ1bmN0aW9uKCl7YS5jYWxsKHRoaXMpfSxjPVtiXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7T3BlbkxheWVycy5pbmhlcml0LmFwcGx5KG51bGwsYyk7cmV0dXJuIGIucHJvdG90eXBlfTtPcGVuTGF5ZXJzLlV0aWwuY2xlYXJBcnJheT1mdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkNvbnNvbGUud2FybihPcGVuTGF5ZXJzLmkxOG4oIm1ldGhvZERlcHJlY2F0ZWQiLHtuZXdNZXRob2Q6ImFycmF5ID0gW10ifSkpO2EubGVuZ3RoPTB9OwpPcGVuTGF5ZXJzLlV0aWwuc2V0T3BhY2l0eT1mdW5jdGlvbihhLGIpe09wZW5MYXllcnMuVXRpbC5tb2RpZnlET01FbGVtZW50KGEsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsYil9O09wZW5MYXllcnMuVXRpbC5zYWZlU3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRXZlbnQuc3RvcChhLCEwKX07T3BlbkxheWVycy5VdGlsLmdldEFyZ3M9ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db25zb2xlLndhcm4oT3BlbkxheWVycy5pMThuKCJtZXRob2REZXByZWNhdGVkIix7bmV3TWV0aG9kOiJPcGVuTGF5ZXJzLlV0aWwuZ2V0UGFyYW1ldGVycyJ9KSk7cmV0dXJuIE9wZW5MYXllcnMuVXRpbC5nZXRQYXJhbWV0ZXJzKGEpfTsidW5kZWZpbmVkIj09PXR5cGVvZiB3aW5kb3cuJCYmKHdpbmRvdy4kPU9wZW5MYXllcnMuVXRpbC5nZXRFbGVtZW50KTsKT3BlbkxheWVycy5udWxsSGFuZGxlcj1mdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkNvbnNvbGUudXNlckVycm9yKE9wZW5MYXllcnMuaTE4bigidW5oYW5kbGVkUmVxdWVzdCIse3N0YXR1c1RleHQ6YS5zdGF0dXNUZXh0fSkpfTtPcGVuTGF5ZXJzLmxvYWRVUkw9ZnVuY3Rpb24oYSxiLGMsZCxlKXsic3RyaW5nIj09dHlwZW9mIGImJihiPU9wZW5MYXllcnMuVXRpbC5nZXRQYXJhbWV0ZXJzKGIpKTtyZXR1cm4gT3BlbkxheWVycy5SZXF1ZXN0LkdFVCh7dXJsOmEscGFyYW1zOmIsc3VjY2VzczpkP2Q6T3BlbkxheWVycy5udWxsSGFuZGxlcixmYWlsdXJlOmU/ZTpPcGVuTGF5ZXJzLm51bGxIYW5kbGVyLHNjb3BlOmN9KX07Ck9wZW5MYXllcnMucGFyc2VYTUxTdHJpbmc9ZnVuY3Rpb24oYSl7dmFyIGI9YS5pbmRleE9mKCI8Iik7MDxiJiYoYT1hLnN1YnN0cmluZyhiKSk7cmV0dXJuIE9wZW5MYXllcnMuVXRpbC5UcnkoZnVuY3Rpb24oKXt2YXIgYj1uZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTERPTSIpO2IubG9hZFhNTChhKTtyZXR1cm4gYn0sZnVuY3Rpb24oKXtyZXR1cm4obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGEsInRleHQveG1sIil9LGZ1bmN0aW9uKCl7dmFyIGI9bmV3IFhNTEh0dHBSZXF1ZXN0O2Iub3BlbigiR0VUIiwiZGF0YTp0ZXh0L3htbDtjaGFyc2V0PXV0Zi04LCIrZW5jb2RlVVJJQ29tcG9uZW50KGEpLCExKTtiLm92ZXJyaWRlTWltZVR5cGUmJmIub3ZlcnJpZGVNaW1lVHlwZSgidGV4dC94bWwiKTtiLnNlbmQobnVsbCk7cmV0dXJuIGIucmVzcG9uc2VYTUx9KX07Ck9wZW5MYXllcnMuQWpheD17ZW1wdHlGdW5jdGlvbjpmdW5jdGlvbigpe30sZ2V0VHJhbnNwb3J0OmZ1bmN0aW9uKCl7cmV0dXJuIE9wZW5MYXllcnMuVXRpbC5UcnkoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0fSxmdW5jdGlvbigpe3JldHVybiBuZXcgQWN0aXZlWE9iamVjdCgiTXN4bWwyLlhNTEhUVFAiKX0sZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxIVFRQIil9KXx8ITF9LGFjdGl2ZVJlcXVlc3RDb3VudDowfTsKT3BlbkxheWVycy5BamF4LlJlc3BvbmRlcnM9e3Jlc3BvbmRlcnM6W10scmVnaXN0ZXI6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7Yjx0aGlzLnJlc3BvbmRlcnMubGVuZ3RoO2IrKylpZihhPT10aGlzLnJlc3BvbmRlcnNbYl0pcmV0dXJuO3RoaXMucmVzcG9uZGVycy5wdXNoKGEpfSx1bnJlZ2lzdGVyOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuVXRpbC5yZW1vdmVJdGVtKHRoaXMucmVwb25kZXJzLGEpfSxkaXNwYXRjaDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkLGU9MDtlPHRoaXMucmVzcG9uZGVycy5sZW5ndGg7ZSsrKWlmKGQ9dGhpcy5yZXNwb25kZXJzW2VdLGRbYV0mJiJmdW5jdGlvbiI9PXR5cGVvZiBkW2FdKXRyeXtkW2FdLmFwcGx5KGQsW2IsY10pfWNhdGNoKGYpe319fTtPcGVuTGF5ZXJzLkFqYXguUmVzcG9uZGVycy5yZWdpc3Rlcih7b25DcmVhdGU6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkFqYXguYWN0aXZlUmVxdWVzdENvdW50Kyt9LG9uQ29tcGxldGU6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkFqYXguYWN0aXZlUmVxdWVzdENvdW50LS19fSk7Ck9wZW5MYXllcnMuQWpheC5CYXNlPU9wZW5MYXllcnMuQ2xhc3Moe2luaXRpYWxpemU6ZnVuY3Rpb24oYSl7dGhpcy5vcHRpb25zPXttZXRob2Q6InBvc3QiLGFzeW5jaHJvbm91czohMCxjb250ZW50VHlwZToiYXBwbGljYXRpb24veG1sIixwYXJhbWV0ZXJzOiIifTtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMub3B0aW9ucyxhfHx7fSk7dGhpcy5vcHRpb25zLm1ldGhvZD10aGlzLm9wdGlvbnMubWV0aG9kLnRvTG93ZXJDYXNlKCk7InN0cmluZyI9PXR5cGVvZiB0aGlzLm9wdGlvbnMucGFyYW1ldGVycyYmKHRoaXMub3B0aW9ucy5wYXJhbWV0ZXJzPU9wZW5MYXllcnMuVXRpbC5nZXRQYXJhbWV0ZXJzKHRoaXMub3B0aW9ucy5wYXJhbWV0ZXJzKSl9fSk7Ck9wZW5MYXllcnMuQWpheC5SZXF1ZXN0PU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5BamF4LkJhc2Use19jb21wbGV0ZTohMSxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYil7T3BlbkxheWVycy5BamF4LkJhc2UucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYl0pO09wZW5MYXllcnMuUHJveHlIb3N0JiZPcGVuTGF5ZXJzLlN0cmluZy5zdGFydHNXaXRoKGEsImh0dHAiKSYmKGE9T3BlbkxheWVycy5Qcm94eUhvc3QrZW5jb2RlVVJJQ29tcG9uZW50KGEpKTt0aGlzLnRyYW5zcG9ydD1PcGVuTGF5ZXJzLkFqYXguZ2V0VHJhbnNwb3J0KCk7dGhpcy5yZXF1ZXN0KGEpfSxyZXF1ZXN0OmZ1bmN0aW9uKGEpe3RoaXMudXJsPWE7dGhpcy5tZXRob2Q9dGhpcy5vcHRpb25zLm1ldGhvZDthPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe30sdGhpcy5vcHRpb25zLnBhcmFtZXRlcnMpOyJnZXQiIT10aGlzLm1ldGhvZCYmInBvc3QiIT10aGlzLm1ldGhvZCYmKGEuX21ldGhvZD10aGlzLm1ldGhvZCwKdGhpcy5tZXRob2Q9InBvc3QiKTt0aGlzLnBhcmFtZXRlcnM9YTtpZihhPU9wZW5MYXllcnMuVXRpbC5nZXRQYXJhbWV0ZXJTdHJpbmcoYSkpImdldCI9PXRoaXMubWV0aG9kP3RoaXMudXJsKz0oLTE8dGhpcy51cmwuaW5kZXhPZigiPyIpPyImIjoiPyIpK2E6L0tvbnF1ZXJvcnxTYWZhcml8S0hUTUwvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJihhKz0iJl89Iik7dHJ5e3ZhciBiPW5ldyBPcGVuTGF5ZXJzLkFqYXguUmVzcG9uc2UodGhpcyk7aWYodGhpcy5vcHRpb25zLm9uQ3JlYXRlKXRoaXMub3B0aW9ucy5vbkNyZWF0ZShiKTtPcGVuTGF5ZXJzLkFqYXguUmVzcG9uZGVycy5kaXNwYXRjaCgib25DcmVhdGUiLHRoaXMsYik7dGhpcy50cmFuc3BvcnQub3Blbih0aGlzLm1ldGhvZC50b1VwcGVyQ2FzZSgpLHRoaXMudXJsLHRoaXMub3B0aW9ucy5hc3luY2hyb25vdXMpO3RoaXMub3B0aW9ucy5hc3luY2hyb25vdXMmJndpbmRvdy5zZXRUaW1lb3V0KE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZCh0aGlzLnJlc3BvbmRUb1JlYWR5U3RhdGUsCnRoaXMsMSksMTApO3RoaXMudHJhbnNwb3J0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1PcGVuTGF5ZXJzLkZ1bmN0aW9uLmJpbmQodGhpcy5vblN0YXRlQ2hhbmdlLHRoaXMpO3RoaXMuc2V0UmVxdWVzdEhlYWRlcnMoKTt0aGlzLmJvZHk9InBvc3QiPT10aGlzLm1ldGhvZD90aGlzLm9wdGlvbnMucG9zdEJvZHl8fGE6bnVsbDt0aGlzLnRyYW5zcG9ydC5zZW5kKHRoaXMuYm9keSk7aWYoIXRoaXMub3B0aW9ucy5hc3luY2hyb25vdXMmJnRoaXMudHJhbnNwb3J0Lm92ZXJyaWRlTWltZVR5cGUpdGhpcy5vblN0YXRlQ2hhbmdlKCl9Y2F0Y2goYyl7dGhpcy5kaXNwYXRjaEV4Y2VwdGlvbihjKX19LG9uU3RhdGVDaGFuZ2U6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRyYW5zcG9ydC5yZWFkeVN0YXRlOzE8YSYmISg0PT1hJiZ0aGlzLl9jb21wbGV0ZSkmJnRoaXMucmVzcG9uZFRvUmVhZHlTdGF0ZSh0aGlzLnRyYW5zcG9ydC5yZWFkeVN0YXRlKX0sc2V0UmVxdWVzdEhlYWRlcnM6ZnVuY3Rpb24oKXt2YXIgYT0KeyJYLVJlcXVlc3RlZC1XaXRoIjoiWE1MSHR0cFJlcXVlc3QiLEFjY2VwdDoidGV4dC9qYXZhc2NyaXB0LCB0ZXh0L2h0bWwsIGFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwsICovKiIsT3BlbkxheWVyczohMH07aWYoInBvc3QiPT10aGlzLm1ldGhvZCYmKGFbIkNvbnRlbnQtdHlwZSJdPXRoaXMub3B0aW9ucy5jb250ZW50VHlwZSsodGhpcy5vcHRpb25zLmVuY29kaW5nPyI7IGNoYXJzZXQ9Iit0aGlzLm9wdGlvbnMuZW5jb2Rpbmc6IiIpLHRoaXMudHJhbnNwb3J0Lm92ZXJyaWRlTWltZVR5cGUmJjIwMDU+KG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0dlY2tvXC8oXGR7NH0pLyl8fFswLDIwMDVdKVsxXSkpYS5Db25uZWN0aW9uPSJjbG9zZSI7aWYoIm9iamVjdCI9PXR5cGVvZiB0aGlzLm9wdGlvbnMucmVxdWVzdEhlYWRlcnMpe3ZhciBiPXRoaXMub3B0aW9ucy5yZXF1ZXN0SGVhZGVycztpZigiZnVuY3Rpb24iPT10eXBlb2YgYi5wdXNoKWZvcih2YXIgYz0wLGQ9Yi5sZW5ndGg7YzwKZDtjKz0yKWFbYltjXV09YltjKzFdO2Vsc2UgZm9yKGMgaW4gYilhW2NdPWJbY119Zm9yKHZhciBlIGluIGEpdGhpcy50cmFuc3BvcnQuc2V0UmVxdWVzdEhlYWRlcihlLGFbZV0pfSxzdWNjZXNzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRTdGF0dXMoKTtyZXR1cm4hYXx8MjAwPD1hJiYzMDA+YX0sZ2V0U3RhdHVzOmZ1bmN0aW9uKCl7dHJ5e3JldHVybiB0aGlzLnRyYW5zcG9ydC5zdGF0dXN8fDB9Y2F0Y2goYSl7cmV0dXJuIDB9fSxyZXNwb25kVG9SZWFkeVN0YXRlOmZ1bmN0aW9uKGEpe3ZhciBhPU9wZW5MYXllcnMuQWpheC5SZXF1ZXN0LkV2ZW50c1thXSxiPW5ldyBPcGVuTGF5ZXJzLkFqYXguUmVzcG9uc2UodGhpcyk7aWYoIkNvbXBsZXRlIj09YSl7dHJ5e3RoaXMuX2NvbXBsZXRlPSEwLCh0aGlzLm9wdGlvbnNbIm9uIitiLnN0YXR1c118fHRoaXMub3B0aW9uc1sib24iKyh0aGlzLnN1Y2Nlc3MoKT8iU3VjY2VzcyI6IkZhaWx1cmUiKV18fE9wZW5MYXllcnMuQWpheC5lbXB0eUZ1bmN0aW9uKShiKX1jYXRjaChjKXt0aGlzLmRpc3BhdGNoRXhjZXB0aW9uKGMpfWIuZ2V0SGVhZGVyKCJDb250ZW50LXR5cGUiKX10cnl7KHRoaXMub3B0aW9uc1sib24iKwphXXx8T3BlbkxheWVycy5BamF4LmVtcHR5RnVuY3Rpb24pKGIpLE9wZW5MYXllcnMuQWpheC5SZXNwb25kZXJzLmRpc3BhdGNoKCJvbiIrYSx0aGlzLGIpfWNhdGNoKGQpe3RoaXMuZGlzcGF0Y2hFeGNlcHRpb24oZCl9IkNvbXBsZXRlIj09YSYmKHRoaXMudHJhbnNwb3J0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1PcGVuTGF5ZXJzLkFqYXguZW1wdHlGdW5jdGlvbil9LGdldEhlYWRlcjpmdW5jdGlvbihhKXt0cnl7cmV0dXJuIHRoaXMudHJhbnNwb3J0LmdldFJlc3BvbnNlSGVhZGVyKGEpfWNhdGNoKGIpe3JldHVybiBudWxsfX0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zLm9uRXhjZXB0aW9uO2lmKGIpYih0aGlzLGEpLE9wZW5MYXllcnMuQWpheC5SZXNwb25kZXJzLmRpc3BhdGNoKCJvbkV4Y2VwdGlvbiIsdGhpcyxhKTtlbHNle2Zvcih2YXIgYj0hMSxjPU9wZW5MYXllcnMuQWpheC5SZXNwb25kZXJzLnJlc3BvbmRlcnMsZD0wO2Q8Yy5sZW5ndGg7ZCsrKWlmKGNbZF0ub25FeGNlcHRpb24pe2I9CiEwO2JyZWFrfWlmKGIpT3BlbkxheWVycy5BamF4LlJlc3BvbmRlcnMuZGlzcGF0Y2goIm9uRXhjZXB0aW9uIix0aGlzLGEpO2Vsc2UgdGhyb3cgYTt9fX0pO09wZW5MYXllcnMuQWpheC5SZXF1ZXN0LkV2ZW50cz1bIlVuaW5pdGlhbGl6ZWQiLCJMb2FkaW5nIiwiTG9hZGVkIiwiSW50ZXJhY3RpdmUiLCJDb21wbGV0ZSJdOwpPcGVuTGF5ZXJzLkFqYXguUmVzcG9uc2U9T3BlbkxheWVycy5DbGFzcyh7c3RhdHVzOjAsc3RhdHVzVGV4dDoiIixpbml0aWFsaXplOmZ1bmN0aW9uKGEpe3RoaXMucmVxdWVzdD1hO3ZhciBhPXRoaXMudHJhbnNwb3J0PWEudHJhbnNwb3J0LGI9dGhpcy5yZWFkeVN0YXRlPWEucmVhZHlTdGF0ZTtpZigyPGImJighd2luZG93LmF0dGFjaEV2ZW50fHx3aW5kb3cub3BlcmEpfHw0PT1iKXRoaXMuc3RhdHVzPXRoaXMuZ2V0U3RhdHVzKCksdGhpcy5zdGF0dXNUZXh0PXRoaXMuZ2V0U3RhdHVzVGV4dCgpLHRoaXMucmVzcG9uc2VUZXh0PW51bGw9PWEucmVzcG9uc2VUZXh0PyIiOlN0cmluZyhhLnJlc3BvbnNlVGV4dCk7ND09YiYmKGE9YS5yZXNwb25zZVhNTCx0aGlzLnJlc3BvbnNlWE1MPXZvaWQgMD09PWE/bnVsbDphKX0sZ2V0U3RhdHVzOk9wZW5MYXllcnMuQWpheC5SZXF1ZXN0LnByb3RvdHlwZS5nZXRTdGF0dXMsZ2V0U3RhdHVzVGV4dDpmdW5jdGlvbigpe3RyeXtyZXR1cm4gdGhpcy50cmFuc3BvcnQuc3RhdHVzVGV4dHx8CiIifWNhdGNoKGEpe3JldHVybiIifX0sZ2V0SGVhZGVyOk9wZW5MYXllcnMuQWpheC5SZXF1ZXN0LnByb3RvdHlwZS5nZXRIZWFkZXIsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudHJhbnNwb3J0LmdldFJlc3BvbnNlSGVhZGVyKGEpfX0pO09wZW5MYXllcnMuQWpheC5nZXRFbGVtZW50c0J5VGFnTmFtZU5TPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW51bGw7cmV0dXJuIGU9YS5nZXRFbGVtZW50c0J5VGFnTmFtZU5TP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhiLGQpOmEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYysiOiIrZCl9O09wZW5MYXllcnMuQWpheC5zZXJpYWxpemVYTUxUb1N0cmluZz1mdW5jdGlvbihhKXtyZXR1cm4obmV3IFhNTFNlcmlhbGl6ZXIpLnNlcmlhbGl6ZVRvU3RyaW5nKGEpfTsKT3BlbkxheWVycy5VdGlsLmV4dGVuZChPcGVuTGF5ZXJzLkVsZW1lbnQse2hpZGU6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkNvbnNvbGUud2FybihPcGVuTGF5ZXJzLmkxOG4oIm1ldGhvZERlcHJlY2F0ZWQiLHtuZXdNZXRob2Q6ImVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsifSkpO2Zvcih2YXIgYT0wLGI9YXJndW1lbnRzLmxlbmd0aDthPGI7YSsrKXt2YXIgYz1PcGVuTGF5ZXJzLlV0aWwuZ2V0RWxlbWVudChhcmd1bWVudHNbYV0pO2MmJihjLnN0eWxlLmRpc3BsYXk9Im5vbmUiKX19LHNob3c6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkNvbnNvbGUud2FybihPcGVuTGF5ZXJzLmkxOG4oIm1ldGhvZERlcHJlY2F0ZWQiLHtuZXdNZXRob2Q6ImVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnOyJ9KSk7Zm9yKHZhciBhPTAsYj1hcmd1bWVudHMubGVuZ3RoO2E8YjthKyspe3ZhciBjPU9wZW5MYXllcnMuVXRpbC5nZXRFbGVtZW50KGFyZ3VtZW50c1thXSk7YyYmKGMuc3R5bGUuZGlzcGxheT0KIiIpfX0sZ2V0RGltZW5zaW9uczpmdW5jdGlvbihhKXthPU9wZW5MYXllcnMuVXRpbC5nZXRFbGVtZW50KGEpO2lmKCJub25lIiE9T3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKGEsImRpc3BsYXkiKSlyZXR1cm57d2lkdGg6YS5vZmZzZXRXaWR0aCxoZWlnaHQ6YS5vZmZzZXRIZWlnaHR9O3ZhciBiPWEuc3R5bGUsYz1iLnZpc2liaWxpdHksZD1iLnBvc2l0aW9uLGU9Yi5kaXNwbGF5O2IudmlzaWJpbGl0eT0iaGlkZGVuIjtiLnBvc2l0aW9uPSJhYnNvbHV0ZSI7Yi5kaXNwbGF5PSIiO3ZhciBmPWEuY2xpZW50V2lkdGgsYT1hLmNsaWVudEhlaWdodDtiLmRpc3BsYXk9ZTtiLnBvc2l0aW9uPWQ7Yi52aXNpYmlsaXR5PWM7cmV0dXJue3dpZHRoOmYsaGVpZ2h0OmF9fX0pOwpTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGh8fChTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGg9ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db25zb2xlLndhcm4oT3BlbkxheWVycy5pMThuKCJtZXRob2REZXByZWNhdGVkIix7bmV3TWV0aG9kOiJPcGVuTGF5ZXJzLlN0cmluZy5zdGFydHNXaXRoIn0pKTtyZXR1cm4gT3BlbkxheWVycy5TdHJpbmcuc3RhcnRzV2l0aCh0aGlzLGEpfSk7U3RyaW5nLnByb3RvdHlwZS5jb250YWluc3x8KFN0cmluZy5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db25zb2xlLndhcm4oT3BlbkxheWVycy5pMThuKCJtZXRob2REZXByZWNhdGVkIix7bmV3TWV0aG9kOiJPcGVuTGF5ZXJzLlN0cmluZy5jb250YWlucyJ9KSk7cmV0dXJuIE9wZW5MYXllcnMuU3RyaW5nLmNvbnRhaW5zKHRoaXMsYSl9KTsKU3RyaW5nLnByb3RvdHlwZS50cmltfHwoU3RyaW5nLnByb3RvdHlwZS50cmltPWZ1bmN0aW9uKCl7T3BlbkxheWVycy5Db25zb2xlLndhcm4oT3BlbkxheWVycy5pMThuKCJtZXRob2REZXByZWNhdGVkIix7bmV3TWV0aG9kOiJPcGVuTGF5ZXJzLlN0cmluZy50cmltIn0pKTtyZXR1cm4gT3BlbkxheWVycy5TdHJpbmcudHJpbSh0aGlzKX0pO1N0cmluZy5wcm90b3R5cGUuY2FtZWxpemV8fChTdHJpbmcucHJvdG90eXBlLmNhbWVsaXplPWZ1bmN0aW9uKCl7T3BlbkxheWVycy5Db25zb2xlLndhcm4oT3BlbkxheWVycy5pMThuKCJtZXRob2REZXByZWNhdGVkIix7bmV3TWV0aG9kOiJPcGVuTGF5ZXJzLlN0cmluZy5jYW1lbGl6ZSJ9KSk7cmV0dXJuIE9wZW5MYXllcnMuU3RyaW5nLmNhbWVsaXplKHRoaXMpfSk7CkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHwoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkNvbnNvbGUud2FybihPcGVuTGF5ZXJzLmkxOG4oIm1ldGhvZERlcHJlY2F0ZWQiLHtuZXdNZXRob2Q6Ik9wZW5MYXllcnMuRnVuY3Rpb24uYmluZCJ9KSk7QXJyYXkucHJvdG90eXBlLnVuc2hpZnQuYXBwbHkoYXJndW1lbnRzLFt0aGlzXSk7cmV0dXJuIE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZC5hcHBseShudWxsLGFyZ3VtZW50cyl9KTsKRnVuY3Rpb24ucHJvdG90eXBlLmJpbmRBc0V2ZW50TGlzdGVuZXJ8fChGdW5jdGlvbi5wcm90b3R5cGUuYmluZEFzRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkNvbnNvbGUud2FybihPcGVuTGF5ZXJzLmkxOG4oIm1ldGhvZERlcHJlY2F0ZWQiLHtuZXdNZXRob2Q6Ik9wZW5MYXllcnMuRnVuY3Rpb24uYmluZEFzRXZlbnRMaXN0ZW5lciJ9KSk7cmV0dXJuIE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzLGEpfSk7aWYod2luZG93LkV2ZW50KU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHdpbmRvdy5FdmVudCxPcGVuTGF5ZXJzLkV2ZW50KTtlbHNlIHZhciBFdmVudD1PcGVuTGF5ZXJzLkV2ZW50OwpPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKE9wZW5MYXllcnMuVGlsZS5wcm90b3R5cGUse2dldEJvdW5kc0Zyb21CYXNlTGF5ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9T3BlbkxheWVycy5pMThuKCJyZXByb2plY3REZXByZWNhdGVkIix7bGF5ZXJOYW1lOnRoaXMubGF5ZXIubmFtZX0pO09wZW5MYXllcnMuQ29uc29sZS53YXJuKGIpO2I9dGhpcy5sYXllci5tYXAuZ2V0TG9uTGF0RnJvbUxheWVyUHgoYSk7YT1hLmNsb25lKCk7YS54Kz10aGlzLnNpemUudzthLnkrPXRoaXMuc2l6ZS5oO2E9dGhpcy5sYXllci5tYXAuZ2V0TG9uTGF0RnJvbUxheWVyUHgoYSk7Yi5sb24+YS5sb24mJigwPmIubG9uP2IubG9uPS0xODAtKGIubG9uKzE4MCk6YS5sb249MTgwK2EubG9uKzE4MCk7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhiLmxvbixhLmxhdCxhLmxvbixiLmxhdCl9fSk7Ck9wZW5MYXllcnMuQ29udHJvbC5Nb3VzZURlZmF1bHRzPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHtwZXJmb3JtZWREcmFnOiExLHdoZWVsT2JzZXJ2ZXI6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKCl7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuaGFuZGxlciYmdGhpcy5oYW5kbGVyLmRlc3Ryb3koKTt0aGlzLmhhbmRsZXI9bnVsbDt0aGlzLm1hcC5ldmVudHMudW4oe2NsaWNrOnRoaXMuZGVmYXVsdENsaWNrLGRibGNsaWNrOnRoaXMuZGVmYXVsdERibENsaWNrLG1vdXNlZG93bjp0aGlzLmRlZmF1bHRNb3VzZURvd24sbW91c2V1cDp0aGlzLmRlZmF1bHRNb3VzZVVwLG1vdXNlbW92ZTp0aGlzLmRlZmF1bHRNb3VzZU1vdmUsbW91c2VvdXQ6dGhpcy5kZWZhdWx0TW91c2VPdXQsc2NvcGU6dGhpc30pO09wZW5MYXllcnMuRXZlbnQuc3RvcE9ic2VydmluZyh3aW5kb3csCiJET01Nb3VzZVNjcm9sbCIsdGhpcy53aGVlbE9ic2VydmVyKTtPcGVuTGF5ZXJzLkV2ZW50LnN0b3BPYnNlcnZpbmcod2luZG93LCJtb3VzZXdoZWVsIix0aGlzLndoZWVsT2JzZXJ2ZXIpO09wZW5MYXllcnMuRXZlbnQuc3RvcE9ic2VydmluZyhkb2N1bWVudCwibW91c2V3aGVlbCIsdGhpcy53aGVlbE9ic2VydmVyKTt0aGlzLndoZWVsT2JzZXJ2ZXI9bnVsbDtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxkcmF3OmZ1bmN0aW9uKCl7dGhpcy5tYXAuZXZlbnRzLm9uKHtjbGljazp0aGlzLmRlZmF1bHRDbGljayxkYmxjbGljazp0aGlzLmRlZmF1bHREYmxDbGljayxtb3VzZWRvd246dGhpcy5kZWZhdWx0TW91c2VEb3duLG1vdXNldXA6dGhpcy5kZWZhdWx0TW91c2VVcCxtb3VzZW1vdmU6dGhpcy5kZWZhdWx0TW91c2VNb3ZlLG1vdXNlb3V0OnRoaXMuZGVmYXVsdE1vdXNlT3V0LHNjb3BlOnRoaXN9KTt0aGlzLnJlZ2lzdGVyV2hlZWxFdmVudHMoKX0sCnJlZ2lzdGVyV2hlZWxFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLndoZWVsT2JzZXJ2ZXI9T3BlbkxheWVycy5GdW5jdGlvbi5iaW5kQXNFdmVudExpc3RlbmVyKHRoaXMub25XaGVlbEV2ZW50LHRoaXMpO09wZW5MYXllcnMuRXZlbnQub2JzZXJ2ZSh3aW5kb3csIkRPTU1vdXNlU2Nyb2xsIix0aGlzLndoZWVsT2JzZXJ2ZXIpO09wZW5MYXllcnMuRXZlbnQub2JzZXJ2ZSh3aW5kb3csIm1vdXNld2hlZWwiLHRoaXMud2hlZWxPYnNlcnZlcik7T3BlbkxheWVycy5FdmVudC5vYnNlcnZlKGRvY3VtZW50LCJtb3VzZXdoZWVsIix0aGlzLndoZWVsT2JzZXJ2ZXIpfSxkZWZhdWx0Q2xpY2s6ZnVuY3Rpb24oYSl7aWYoT3BlbkxheWVycy5FdmVudC5pc0xlZnRDbGljayhhKSlyZXR1cm4gYT0hdGhpcy5wZXJmb3JtZWREcmFnLHRoaXMucGVyZm9ybWVkRHJhZz0hMSxhfSxkZWZhdWx0RGJsQ2xpY2s6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5tYXAuZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHgoYS54eSk7CnRoaXMubWFwLnNldENlbnRlcihiLHRoaXMubWFwLnpvb20rMSk7T3BlbkxheWVycy5FdmVudC5zdG9wKGEpO3JldHVybiExfSxkZWZhdWx0TW91c2VEb3duOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRXZlbnQuaXNMZWZ0Q2xpY2soYSkmJih0aGlzLm1vdXNlRHJhZ1N0YXJ0PWEueHkuY2xvbmUoKSx0aGlzLnBlcmZvcm1lZERyYWc9ITEsYS5zaGlmdEtleSYmKHRoaXMubWFwLmRpdi5zdHlsZS5jdXJzb3I9ImNyb3NzaGFpciIsdGhpcy56b29tQm94PU9wZW5MYXllcnMuVXRpbC5jcmVhdGVEaXYoInpvb21Cb3giLHRoaXMubW91c2VEcmFnU3RhcnQsbnVsbCxudWxsLCJhYnNvbHV0ZSIsIjJweCBzb2xpZCByZWQiKSx0aGlzLnpvb21Cb3guc3R5bGUuYmFja2dyb3VuZENvbG9yPSJ3aGl0ZSIsdGhpcy56b29tQm94LnN0eWxlLmZpbHRlcj0iYWxwaGEob3BhY2l0eT01MCkiLHRoaXMuem9vbUJveC5zdHlsZS5vcGFjaXR5PSIwLjUwIix0aGlzLnpvb21Cb3guc3R5bGUuZm9udFNpemU9IjFweCIsCnRoaXMuem9vbUJveC5zdHlsZS56SW5kZXg9dGhpcy5tYXAuWl9JTkRFWF9CQVNFLlBvcHVwLTEsdGhpcy5tYXAudmlld1BvcnREaXYuYXBwZW5kQ2hpbGQodGhpcy56b29tQm94KSksZG9jdW1lbnQub25zZWxlY3RzdGFydD1PcGVuTGF5ZXJzLkZ1bmN0aW9uLkZhbHNlLE9wZW5MYXllcnMuRXZlbnQuc3RvcChhKSl9LGRlZmF1bHRNb3VzZU1vdmU6ZnVuY3Rpb24oYSl7dGhpcy5tb3VzZVBvc2l0aW9uPWEueHkuY2xvbmUoKTtpZihudWxsIT10aGlzLm1vdXNlRHJhZ1N0YXJ0KXtpZih0aGlzLnpvb21Cb3gpe3ZhciBiPU1hdGguYWJzKHRoaXMubW91c2VEcmFnU3RhcnQueC1hLnh5LngpLGM9TWF0aC5hYnModGhpcy5tb3VzZURyYWdTdGFydC55LWEueHkueSk7dGhpcy56b29tQm94LnN0eWxlLndpZHRoPU1hdGgubWF4KDEsYikrInB4Ijt0aGlzLnpvb21Cb3guc3R5bGUuaGVpZ2h0PU1hdGgubWF4KDEsYykrInB4IjthLnh5Lng8dGhpcy5tb3VzZURyYWdTdGFydC54JiYodGhpcy56b29tQm94LnN0eWxlLmxlZnQ9CmEueHkueCsicHgiKTthLnh5Lnk8dGhpcy5tb3VzZURyYWdTdGFydC55JiYodGhpcy56b29tQm94LnN0eWxlLnRvcD1hLnh5LnkrInB4Iil9ZWxzZXt2YXIgYj10aGlzLm1vdXNlRHJhZ1N0YXJ0LngtYS54eS54LGM9dGhpcy5tb3VzZURyYWdTdGFydC55LWEueHkueSxkPXRoaXMubWFwLmdldFNpemUoKSxiPW5ldyBPcGVuTGF5ZXJzLlBpeGVsKGQudy8yK2IsZC5oLzIrYyksYj10aGlzLm1hcC5nZXRMb25MYXRGcm9tVmlld1BvcnRQeChiKTt0aGlzLm1hcC5zZXRDZW50ZXIoYixudWxsLCEwKTt0aGlzLm1vdXNlRHJhZ1N0YXJ0PWEueHkuY2xvbmUoKTt0aGlzLm1hcC5kaXYuc3R5bGUuY3Vyc29yPSJtb3ZlIn10aGlzLnBlcmZvcm1lZERyYWc9ITB9fSxkZWZhdWx0TW91c2VVcDpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkV2ZW50LmlzTGVmdENsaWNrKGEpJiYodGhpcy56b29tQm94P3RoaXMuem9vbUJveEVuZChhKTp0aGlzLnBlcmZvcm1lZERyYWcmJnRoaXMubWFwLnNldENlbnRlcih0aGlzLm1hcC5jZW50ZXIpLAp0aGlzLm1vdXNlRHJhZ1N0YXJ0PWRvY3VtZW50Lm9uc2VsZWN0c3RhcnQ9bnVsbCx0aGlzLm1hcC5kaXYuc3R5bGUuY3Vyc29yPSIiKX0sZGVmYXVsdE1vdXNlT3V0OmZ1bmN0aW9uKGEpe251bGwhPXRoaXMubW91c2VEcmFnU3RhcnQmJk9wZW5MYXllcnMuVXRpbC5tb3VzZUxlZnQoYSx0aGlzLm1hcC52aWV3UG9ydERpdikmJih0aGlzLnpvb21Cb3gmJnRoaXMucmVtb3ZlWm9vbUJveCgpLHRoaXMubW91c2VEcmFnU3RhcnQ9bnVsbCl9LGRlZmF1bHRXaGVlbFVwOmZ1bmN0aW9uKGEpe3RoaXMubWFwLmdldFpvb20oKTw9dGhpcy5tYXAuZ2V0TnVtWm9vbUxldmVscygpJiZ0aGlzLm1hcC5zZXRDZW50ZXIodGhpcy5tYXAuZ2V0TG9uTGF0RnJvbVBpeGVsKGEueHkpLHRoaXMubWFwLmdldFpvb20oKSsxKX0sZGVmYXVsdFdoZWVsRG93bjpmdW5jdGlvbihhKXswPHRoaXMubWFwLmdldFpvb20oKSYmdGhpcy5tYXAuc2V0Q2VudGVyKHRoaXMubWFwLmdldExvbkxhdEZyb21QaXhlbChhLnh5KSwKdGhpcy5tYXAuZ2V0Wm9vbSgpLTEpfSx6b29tQm94RW5kOmZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMubW91c2VEcmFnU3RhcnQpe2lmKDU8TWF0aC5hYnModGhpcy5tb3VzZURyYWdTdGFydC54LWEueHkueCl8fDU8TWF0aC5hYnModGhpcy5tb3VzZURyYWdTdGFydC55LWEueHkueSkpe3ZhciBiPXRoaXMubWFwLmdldExvbkxhdEZyb21WaWV3UG9ydFB4KHRoaXMubW91c2VEcmFnU3RhcnQpLGM9dGhpcy5tYXAuZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHgoYS54eSksYT1NYXRoLm1heChiLmxhdCxjLmxhdCksZD1NYXRoLm1pbihiLmxhdCxjLmxhdCksZT1NYXRoLm1pbihiLmxvbixjLmxvbiksYj1NYXRoLm1heChiLmxvbixjLmxvbiksYj1uZXcgT3BlbkxheWVycy5Cb3VuZHMoZSxkLGIsYSk7dGhpcy5tYXAuem9vbVRvRXh0ZW50KGIpfWVsc2UgYz10aGlzLm1hcC5nZXRMb25MYXRGcm9tVmlld1BvcnRQeChhLnh5KSx0aGlzLm1hcC5zZXRDZW50ZXIobmV3IE9wZW5MYXllcnMuTG9uTGF0KGMubG9uLApjLmxhdCksdGhpcy5tYXAuZ2V0Wm9vbSgpKzEpO3RoaXMucmVtb3ZlWm9vbUJveCgpfX0scmVtb3ZlWm9vbUJveDpmdW5jdGlvbigpe3RoaXMubWFwLnZpZXdQb3J0RGl2LnJlbW92ZUNoaWxkKHRoaXMuem9vbUJveCk7dGhpcy56b29tQm94PW51bGx9LG9uV2hlZWxFdmVudDpmdW5jdGlvbihhKXtmb3IodmFyIGI9ITEsYz1PcGVuTGF5ZXJzLkV2ZW50LmVsZW1lbnQoYSk7bnVsbCE9Yzspe2lmKHRoaXMubWFwJiZjPT10aGlzLm1hcC5kaXYpe2I9ITA7YnJlYWt9Yz1jLnBhcmVudE5vZGV9YiYmKGI9MCxhfHwoYT13aW5kb3cuZXZlbnQpLGEud2hlZWxEZWx0YT8oYj1hLndoZWVsRGVsdGEvMTIwLHdpbmRvdy5vcGVyYSYmOS4yPndpbmRvdy5vcGVyYS52ZXJzaW9uKCkmJihiPS1iKSk6YS5kZXRhaWwmJihiPS1hLmRldGFpbC8zKSxiJiYoYS54eT10aGlzLm1vdXNlUG9zaXRpb24sMD5iP3RoaXMuZGVmYXVsdFdoZWVsRG93bihhKTp0aGlzLmRlZmF1bHRXaGVlbFVwKGEpKSxPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSkpfSwKQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLk1vdXNlRGVmYXVsdHMifSk7Ck9wZW5MYXllcnMuQ29udHJvbC5Nb3VzZVRvb2xiYXI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wuTW91c2VEZWZhdWx0cyx7bW9kZTpudWxsLGJ1dHRvbnM6bnVsbCxkaXJlY3Rpb246InZlcnRpY2FsIixidXR0b25DbGlja2VkOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIpe09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5wb3NpdGlvbj1uZXcgT3BlbkxheWVycy5QaXhlbChPcGVuTGF5ZXJzLkNvbnRyb2wuTW91c2VUb29sYmFyLlgsT3BlbkxheWVycy5Db250cm9sLk1vdXNlVG9vbGJhci5ZKTthJiYodGhpcy5wb3NpdGlvbj1hKTtiJiYodGhpcy5kaXJlY3Rpb249Yik7dGhpcy5tZWFzdXJlRGl2cz1bXX0sZGVzdHJveTpmdW5jdGlvbigpe2Zvcih2YXIgYSBpbiB0aGlzLmJ1dHRvbnMpe3ZhciBiPXRoaXMuYnV0dG9uc1thXTtiLm1hcD1udWxsO2IuZXZlbnRzLmRlc3Ryb3koKX1PcGVuTGF5ZXJzLkNvbnRyb2wuTW91c2VEZWZhdWx0cy5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLAphcmd1bWVudHMpfSxkcmF3OmZ1bmN0aW9uKCl7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kcmF3LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtPcGVuTGF5ZXJzLkNvbnRyb2wuTW91c2VEZWZhdWx0cy5wcm90b3R5cGUuZHJhdy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5idXR0b25zPXt9O3ZhciBhPW5ldyBPcGVuTGF5ZXJzLlNpemUoMjgsMjgpLGI9bmV3IE9wZW5MYXllcnMuUGl4ZWwoT3BlbkxheWVycy5Db250cm9sLk1vdXNlVG9vbGJhci5YLDApO3RoaXMuX2FkZEJ1dHRvbigiem9vbWJveCIsImRyYWctcmVjdGFuZ2xlLW9mZi5wbmciLCJkcmFnLXJlY3RhbmdsZS1vbi5wbmciLGIsYSwiU2hpZnQtPkRyYWcgdG8gem9vbSB0byBhcmVhIik7Yj1iLmFkZCgidmVydGljYWwiPT10aGlzLmRpcmVjdGlvbj8wOmEudywidmVydGljYWwiPT10aGlzLmRpcmVjdGlvbj9hLmg6MCk7dGhpcy5fYWRkQnV0dG9uKCJwYW4iLCJwYW5uaW5nLWhhbmQtb2ZmLnBuZyIsInBhbm5pbmctaGFuZC1vbi5wbmciLApiLGEsIkRyYWcgdGhlIG1hcCB0byBwYW4uIik7Yi5hZGQoInZlcnRpY2FsIj09dGhpcy5kaXJlY3Rpb24/MDphLncsInZlcnRpY2FsIj09dGhpcy5kaXJlY3Rpb24/YS5oOjApO3RoaXMuc3dpdGNoTW9kZVRvKCJwYW4iKTtyZXR1cm4gdGhpcy5kaXZ9LF9hZGRCdXR0b246ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2I9T3BlbkxheWVycy5VdGlsLmdldEltYWdlTG9jYXRpb24oYik7Yz1PcGVuTGF5ZXJzLlV0aWwuZ2V0SW1hZ2VMb2NhdGlvbihjKTtkPU9wZW5MYXllcnMuVXRpbC5jcmVhdGVBbHBoYUltYWdlRGl2KCJPcGVuTGF5ZXJzX0NvbnRyb2xfTW91c2VUb29sYmFyXyIrYSxkLGUsYiwiYWJzb2x1dGUiKTt0aGlzLmRpdi5hcHBlbmRDaGlsZChkKTtkLmltZ0xvY2F0aW9uPWI7ZC5hY3RpdmVJbWdMb2NhdGlvbj1jO2QuZXZlbnRzPW5ldyBPcGVuTGF5ZXJzLkV2ZW50cyh0aGlzLGQsbnVsbCwhMCk7ZC5ldmVudHMub24oe21vdXNlZG93bjp0aGlzLmJ1dHRvbkRvd24sbW91c2V1cDp0aGlzLmJ1dHRvblVwLApkYmxjbGljazpPcGVuTGF5ZXJzLkV2ZW50LnN0b3Asc2NvcGU6dGhpc30pO2QuYWN0aW9uPWE7ZC50aXRsZT1mO2QuYWx0PWY7ZC5tYXA9dGhpcy5tYXA7cmV0dXJuIHRoaXMuYnV0dG9uc1thXT1kfSxidXR0b25Eb3duOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRXZlbnQuaXNMZWZ0Q2xpY2soYSkmJih0aGlzLmJ1dHRvbkNsaWNrZWQ9YS5lbGVtZW50LmFjdGlvbixPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSkpfSxidXR0b25VcDpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkV2ZW50LmlzTGVmdENsaWNrKGEpJiZudWxsIT10aGlzLmJ1dHRvbkNsaWNrZWQmJih0aGlzLmJ1dHRvbkNsaWNrZWQ9PWEuZWxlbWVudC5hY3Rpb24mJnRoaXMuc3dpdGNoTW9kZVRvKGEuZWxlbWVudC5hY3Rpb24pLE9wZW5MYXllcnMuRXZlbnQuc3RvcChhKSx0aGlzLmJ1dHRvbkNsaWNrZWQ9bnVsbCl9LGRlZmF1bHREYmxDbGljazpmdW5jdGlvbihhKXt0aGlzLnN3aXRjaE1vZGVUbygicGFuIik7dGhpcy5wZXJmb3JtZWREcmFnPQohMTt2YXIgYj10aGlzLm1hcC5nZXRMb25MYXRGcm9tVmlld1BvcnRQeChhLnh5KTt0aGlzLm1hcC5zZXRDZW50ZXIoYix0aGlzLm1hcC56b29tKzEpO09wZW5MYXllcnMuRXZlbnQuc3RvcChhKTtyZXR1cm4hMX0sZGVmYXVsdE1vdXNlRG93bjpmdW5jdGlvbihhKXtpZihPcGVuTGF5ZXJzLkV2ZW50LmlzTGVmdENsaWNrKGEpKXt0aGlzLm1vdXNlRHJhZ1N0YXJ0PWEueHkuY2xvbmUoKTt0aGlzLnN0YXJ0VmlhS2V5Ym9hcmQ9dGhpcy5wZXJmb3JtZWREcmFnPSExO2Euc2hpZnRLZXkmJiJ6b29tYm94IiE9dGhpcy5tb2RlPyh0aGlzLnN3aXRjaE1vZGVUbygiem9vbWJveCIpLHRoaXMuc3RhcnRWaWFLZXlib2FyZD0hMCk6YS5hbHRLZXkmJiJtZWFzdXJlIiE9dGhpcy5tb2RlP3RoaXMuc3dpdGNoTW9kZVRvKCJtZWFzdXJlIik6dGhpcy5tb2RlfHx0aGlzLnN3aXRjaE1vZGVUbygicGFuIik7c3dpdGNoKHRoaXMubW9kZSl7Y2FzZSAiem9vbWJveCI6dGhpcy5tYXAuZGl2LnN0eWxlLmN1cnNvcj0KImNyb3NzaGFpciI7dGhpcy56b29tQm94PU9wZW5MYXllcnMuVXRpbC5jcmVhdGVEaXYoInpvb21Cb3giLHRoaXMubW91c2VEcmFnU3RhcnQsbnVsbCxudWxsLCJhYnNvbHV0ZSIsIjJweCBzb2xpZCByZWQiKTt0aGlzLnpvb21Cb3guc3R5bGUuYmFja2dyb3VuZENvbG9yPSJ3aGl0ZSI7dGhpcy56b29tQm94LnN0eWxlLmZpbHRlcj0iYWxwaGEob3BhY2l0eT01MCkiO3RoaXMuem9vbUJveC5zdHlsZS5vcGFjaXR5PSIwLjUwIjt0aGlzLnpvb21Cb3guc3R5bGUuZm9udFNpemU9IjFweCI7dGhpcy56b29tQm94LnN0eWxlLnpJbmRleD10aGlzLm1hcC5aX0lOREVYX0JBU0UuUG9wdXAtMTt0aGlzLm1hcC52aWV3UG9ydERpdi5hcHBlbmRDaGlsZCh0aGlzLnpvb21Cb3gpO3RoaXMucGVyZm9ybWVkRHJhZz0hMDticmVhaztjYXNlICJtZWFzdXJlIjp2YXIgYj0iIjt0aGlzLm1lYXN1cmVTdGFydCYmKGI9dGhpcy5tYXAuZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHgodGhpcy5tb3VzZURyYWdTdGFydCksCmI9T3BlbkxheWVycy5VdGlsLmRpc3RWaW5jZW50eSh0aGlzLm1lYXN1cmVTdGFydCxiKSxiPU1hdGgucm91bmQoMTAwKmIpLzEwMCxiKz0ia20iLHRoaXMubWVhc3VyZVN0YXJ0Qm94PXRoaXMubWVhc3VyZUJveCk7dGhpcy5tZWFzdXJlU3RhcnQ9dGhpcy5tYXAuZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHgodGhpcy5tb3VzZURyYWdTdGFydCk7dGhpcy5tZWFzdXJlQm94PU9wZW5MYXllcnMuVXRpbC5jcmVhdGVEaXYobnVsbCx0aGlzLm1vdXNlRHJhZ1N0YXJ0LmFkZCgtMi1wYXJzZUludCh0aGlzLm1hcC5sYXllckNvbnRhaW5lckRpdi5zdHlsZS5sZWZ0KSwtMi1wYXJzZUludCh0aGlzLm1hcC5sYXllckNvbnRhaW5lckRpdi5zdHlsZS50b3ApKSxudWxsLG51bGwsImFic29sdXRlIik7dGhpcy5tZWFzdXJlQm94LnN0eWxlLndpZHRoPSI0cHgiO3RoaXMubWVhc3VyZUJveC5zdHlsZS5oZWlnaHQ9IjRweCI7dGhpcy5tZWFzdXJlQm94LnN0eWxlLmZvbnRTaXplPSIxcHgiO3RoaXMubWVhc3VyZUJveC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9CiJyZWQiO3RoaXMubWVhc3VyZUJveC5zdHlsZS56SW5kZXg9dGhpcy5tYXAuWl9JTkRFWF9CQVNFLlBvcHVwLTE7dGhpcy5tYXAubGF5ZXJDb250YWluZXJEaXYuYXBwZW5kQ2hpbGQodGhpcy5tZWFzdXJlQm94KTtiJiYodGhpcy5tZWFzdXJlQm94RGlzdGFuY2U9T3BlbkxheWVycy5VdGlsLmNyZWF0ZURpdihudWxsLHRoaXMubW91c2VEcmFnU3RhcnQuYWRkKC0yLXBhcnNlSW50KHRoaXMubWFwLmxheWVyQ29udGFpbmVyRGl2LnN0eWxlLmxlZnQpLDItcGFyc2VJbnQodGhpcy5tYXAubGF5ZXJDb250YWluZXJEaXYuc3R5bGUudG9wKSksbnVsbCxudWxsLCJhYnNvbHV0ZSIpLHRoaXMubWVhc3VyZUJveERpc3RhbmNlLmlubmVySFRNTD1iLHRoaXMubWVhc3VyZUJveERpc3RhbmNlLnN0eWxlLnpJbmRleD10aGlzLm1hcC5aX0lOREVYX0JBU0UuUG9wdXAtMSx0aGlzLm1hcC5sYXllckNvbnRhaW5lckRpdi5hcHBlbmRDaGlsZCh0aGlzLm1lYXN1cmVCb3hEaXN0YW5jZSksdGhpcy5tZWFzdXJlRGl2cy5wdXNoKHRoaXMubWVhc3VyZUJveERpc3RhbmNlKSk7CnRoaXMubWVhc3VyZUJveC5zdHlsZS56SW5kZXg9dGhpcy5tYXAuWl9JTkRFWF9CQVNFLlBvcHVwLTE7dGhpcy5tYXAubGF5ZXJDb250YWluZXJEaXYuYXBwZW5kQ2hpbGQodGhpcy5tZWFzdXJlQm94KTt0aGlzLm1lYXN1cmVEaXZzLnB1c2godGhpcy5tZWFzdXJlQm94KTticmVhaztkZWZhdWx0OnRoaXMubWFwLmRpdi5zdHlsZS5jdXJzb3I9Im1vdmUifWRvY3VtZW50Lm9uc2VsZWN0c3RhcnQ9T3BlbkxheWVycy5GdW5jdGlvbi5GYWxzZTtPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSl9fSxzd2l0Y2hNb2RlVG86ZnVuY3Rpb24oYSl7aWYoYSE9dGhpcy5tb2RlKXt0aGlzLm1vZGUmJnRoaXMuYnV0dG9uc1t0aGlzLm1vZGVdJiZPcGVuTGF5ZXJzLlV0aWwubW9kaWZ5QWxwaGFJbWFnZURpdih0aGlzLmJ1dHRvbnNbdGhpcy5tb2RlXSxudWxsLG51bGwsbnVsbCx0aGlzLmJ1dHRvbnNbdGhpcy5tb2RlXS5pbWdMb2NhdGlvbik7aWYoIm1lYXN1cmUiPT10aGlzLm1vZGUmJiJtZWFzdXJlIiE9CmEpe2Zvcih2YXIgYj0wLGM9dGhpcy5tZWFzdXJlRGl2cy5sZW5ndGg7YjxjO2IrKyl0aGlzLm1lYXN1cmVEaXZzW2JdJiZ0aGlzLm1hcC5sYXllckNvbnRhaW5lckRpdi5yZW1vdmVDaGlsZCh0aGlzLm1lYXN1cmVEaXZzW2JdKTt0aGlzLm1lYXN1cmVEaXZzPVtdO3RoaXMubWVhc3VyZVN0YXJ0PW51bGx9dGhpcy5tb2RlPWE7dGhpcy5idXR0b25zW2FdJiZPcGVuTGF5ZXJzLlV0aWwubW9kaWZ5QWxwaGFJbWFnZURpdih0aGlzLmJ1dHRvbnNbYV0sbnVsbCxudWxsLG51bGwsdGhpcy5idXR0b25zW2FdLmFjdGl2ZUltZ0xvY2F0aW9uKTtzd2l0Y2godGhpcy5tb2RlKXtjYXNlICJ6b29tYm94Ijp0aGlzLm1hcC5kaXYuc3R5bGUuY3Vyc29yPSJjcm9zc2hhaXIiO2JyZWFrO2RlZmF1bHQ6dGhpcy5tYXAuZGl2LnN0eWxlLmN1cnNvcj0iIn19fSxsZWF2ZU1vZGU6ZnVuY3Rpb24oKXt0aGlzLnN3aXRjaE1vZGVUbygicGFuIil9LGRlZmF1bHRNb3VzZU1vdmU6ZnVuY3Rpb24oYSl7aWYobnVsbCE9CnRoaXMubW91c2VEcmFnU3RhcnQpe3N3aXRjaCh0aGlzLm1vZGUpe2Nhc2UgInpvb21ib3giOnZhciBiPU1hdGguYWJzKHRoaXMubW91c2VEcmFnU3RhcnQueC1hLnh5LngpLGM9TWF0aC5hYnModGhpcy5tb3VzZURyYWdTdGFydC55LWEueHkueSk7dGhpcy56b29tQm94LnN0eWxlLndpZHRoPU1hdGgubWF4KDEsYikrInB4Ijt0aGlzLnpvb21Cb3guc3R5bGUuaGVpZ2h0PU1hdGgubWF4KDEsYykrInB4IjthLnh5Lng8dGhpcy5tb3VzZURyYWdTdGFydC54JiYodGhpcy56b29tQm94LnN0eWxlLmxlZnQ9YS54eS54KyJweCIpO2EueHkueTx0aGlzLm1vdXNlRHJhZ1N0YXJ0LnkmJih0aGlzLnpvb21Cb3guc3R5bGUudG9wPWEueHkueSsicHgiKTticmVhaztkZWZhdWx0OnZhciBiPXRoaXMubW91c2VEcmFnU3RhcnQueC1hLnh5LngsYz10aGlzLm1vdXNlRHJhZ1N0YXJ0LnktYS54eS55LGQ9dGhpcy5tYXAuZ2V0U2l6ZSgpLGI9bmV3IE9wZW5MYXllcnMuUGl4ZWwoZC53LzIrYixkLmgvMisKYyksYj10aGlzLm1hcC5nZXRMb25MYXRGcm9tVmlld1BvcnRQeChiKTt0aGlzLm1hcC5zZXRDZW50ZXIoYixudWxsLCEwKTt0aGlzLm1vdXNlRHJhZ1N0YXJ0PWEueHkuY2xvbmUoKX10aGlzLnBlcmZvcm1lZERyYWc9ITB9fSxkZWZhdWx0TW91c2VVcDpmdW5jdGlvbihhKXtpZihPcGVuTGF5ZXJzLkV2ZW50LmlzTGVmdENsaWNrKGEpKXtzd2l0Y2godGhpcy5tb2RlKXtjYXNlICJ6b29tYm94Ijp0aGlzLnpvb21Cb3hFbmQoYSk7dGhpcy5zdGFydFZpYUtleWJvYXJkJiZ0aGlzLmxlYXZlTW9kZSgpO2JyZWFrO2Nhc2UgInBhbiI6dGhpcy5wZXJmb3JtZWREcmFnJiZ0aGlzLm1hcC5zZXRDZW50ZXIodGhpcy5tYXAuY2VudGVyKX10aGlzLm1vdXNlRHJhZ1N0YXJ0PWRvY3VtZW50Lm9uc2VsZWN0c3RhcnQ9bnVsbDt0aGlzLm1hcC5kaXYuc3R5bGUuY3Vyc29yPSJkZWZhdWx0In19LGRlZmF1bHRNb3VzZU91dDpmdW5jdGlvbihhKXtudWxsIT10aGlzLm1vdXNlRHJhZ1N0YXJ0JiZPcGVuTGF5ZXJzLlV0aWwubW91c2VMZWZ0KGEsCnRoaXMubWFwLnZpZXdQb3J0RGl2KSYmKHRoaXMuem9vbUJveCYmKHRoaXMucmVtb3ZlWm9vbUJveCgpLHRoaXMuc3RhcnRWaWFLZXlib2FyZCYmdGhpcy5sZWF2ZU1vZGUoKSksdGhpcy5tb3VzZURyYWdTdGFydD1udWxsLHRoaXMubWFwLmRpdi5zdHlsZS5jdXJzb3I9ImRlZmF1bHQiKX0sZGVmYXVsdENsaWNrOmZ1bmN0aW9uKCl7aWYodGhpcy5wZXJmb3JtZWREcmFnKXJldHVybiB0aGlzLnBlcmZvcm1lZERyYWc9ITF9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5Nb3VzZVRvb2xiYXIifSk7T3BlbkxheWVycy5Db250cm9sLk1vdXNlVG9vbGJhci5YPTY7T3BlbkxheWVycy5Db250cm9sLk1vdXNlVG9vbGJhci5ZPTMwMDsKT3BlbkxheWVycy5VdGlsLmV4dGVuZChPcGVuTGF5ZXJzLkxheWVyLkdyaWQucHJvdG90eXBlLHtnZXRHcmlkQm91bmRzOmZ1bmN0aW9uKCl7T3BlbkxheWVycy5Db25zb2xlLndhcm4oIlRoZSBnZXRHcmlkQm91bmRzKCkgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZC4gSXQgd2lsbCBiZSByZW1vdmVkIGluIDMuMC4gUGxlYXNlIHVzZSBnZXRUaWxlc0JvdW5kcygpIGluc3RlYWQuIik7cmV0dXJuIHRoaXMuZ2V0VGlsZXNCb3VuZHMoKX19KTtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKE9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUse2NvbmNhdENoaWxkVmFsdWVzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPSIiLGQ9YS5maXJzdENoaWxkLGU7ZDspKGU9ZC5ub2RlVmFsdWUpJiYoYys9ZSksZD1kLm5leHRTaWJsaW5nOyIiPT1jJiZ2b2lkIDAhPWImJihjPWIpO3JldHVybiBjfX0pOwpPcGVuTGF5ZXJzLkxheWVyLldNUy5Qb3N0PU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllci5XTVMse3Vuc3VwcG9ydGVkQnJvd3NlcnM6WyJtb3ppbGxhIiwiZmlyZWZveCIsIm9wZXJhIl0sU1VQUE9SVEVEX1RSQU5TSVRJT05TOltdLHVzZVBvc3Q6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPVtdO2UucHVzaChhLGIsYyxkKTtPcGVuTGF5ZXJzLkxheWVyLldNUy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGUpO3RoaXMudXNlUG9zdD0tMT09T3BlbkxheWVycy5VdGlsLmluZGV4T2YodGhpcy51bnN1cHBvcnRlZEJyb3dzZXJzLE9wZW5MYXllcnMuQlJPV1NFUl9OQU1FKX0sYWRkVGlsZTpmdW5jdGlvbihhLGIpe3JldHVybiBuZXcgT3BlbkxheWVycy5UaWxlLkltYWdlKHRoaXMsYixhLG51bGwsdGhpcy50aWxlU2l6ZSx7bWF4R2V0VXJsTGVuZ3RoOnRoaXMudXNlUG9zdD8wOm51bGx9KX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5XTVMuUG9zdCJ9KTsKT3BlbkxheWVycy5MYXllci5XTVMuVW50aWxlZD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIuV01TLHtzaW5nbGVUaWxlOiEwLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCl7T3BlbkxheWVycy5MYXllci5XTVMucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO09wZW5MYXllcnMuQ29uc29sZS53YXJuKCJUaGUgT3BlbkxheWVycy5MYXllci5XTVMuVW50aWxlZCBjbGFzcyBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gMy4wLiBJbnN0ZWFkLCB5b3Ugc2hvdWxkIHVzZSB0aGUgbm9ybWFsIE9wZW5MYXllcnMuTGF5ZXIuV01TIGNsYXNzLCBwYXNzaW5nIGl0IHRoZSBvcHRpb24gJ3NpbmdsZVRpbGUnIGFzIHRydWUuIil9LGNsb25lOmZ1bmN0aW9uKGEpe251bGw9PWEmJihhPW5ldyBPcGVuTGF5ZXJzLkxheWVyLldNUy5VbnRpbGVkKHRoaXMubmFtZSx0aGlzLnVybCx0aGlzLnBhcmFtcyx0aGlzLmdldE9wdGlvbnMoKSkpOwpyZXR1cm4gYT1PcGVuTGF5ZXJzLkxheWVyLldNUy5wcm90b3R5cGUuY2xvbmUuYXBwbHkodGhpcyxbYV0pfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLldNUy5VbnRpbGVkIn0pOwpPcGVuTGF5ZXJzLkxheWVyLk1hcFNlcnZlci5VbnRpbGVkPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllci5NYXBTZXJ2ZXIse3NpbmdsZVRpbGU6ITAsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyxkKXtPcGVuTGF5ZXJzLkxheWVyLk1hcFNlcnZlci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7T3BlbkxheWVycy5Db25zb2xlLndhcm4oIlRoZSBPcGVuTGF5ZXJzLkxheWVyLk1hcFNlcnZlci5VbnRpbGVkIGNsYXNzIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAzLjAuIEluc3RlYWQsIHlvdSBzaG91bGQgdXNlIHRoZSBub3JtYWwgT3BlbkxheWVycy5MYXllci5NYXBTZXJ2ZXIgY2xhc3MsIHBhc3NpbmcgaXQgdGhlIG9wdGlvbiAnc2luZ2xlVGlsZScgYXMgdHJ1ZS4iKX0sY2xvbmU6ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9bmV3IE9wZW5MYXllcnMuTGF5ZXIuTWFwU2VydmVyLlVudGlsZWQodGhpcy5uYW1lLHRoaXMudXJsLAp0aGlzLnBhcmFtcyx0aGlzLmdldE9wdGlvbnMoKSkpO3JldHVybiBhPU9wZW5MYXllcnMuTGF5ZXIuTWFwU2VydmVyLnByb3RvdHlwZS5jbG9uZS5hcHBseSh0aGlzLFthXSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuTGF5ZXIuTWFwU2VydmVyLlVudGlsZWQifSk7Ck9wZW5MYXllcnMuVGlsZS5XRlM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlRpbGUse2ZlYXR1cmVzOm51bGwsdXJsOm51bGwscmVxdWVzdDpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCxlKXtPcGVuTGF5ZXJzLlRpbGUucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMudXJsPWQ7dGhpcy5mZWF0dXJlcz1bXX0sZGVzdHJveTpmdW5jdGlvbigpe09wZW5MYXllcnMuVGlsZS5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5kZXN0cm95QWxsRmVhdHVyZXMoKTt0aGlzLnVybD10aGlzLmZlYXR1cmVzPW51bGw7dGhpcy5yZXF1ZXN0JiYodGhpcy5yZXF1ZXN0LmFib3J0KCksdGhpcy5yZXF1ZXN0PW51bGwpfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuZGVzdHJveUFsbEZlYXR1cmVzKCl9LGRyYXc6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLlRpbGUucHJvdG90eXBlLmRyYXcuYXBwbHkodGhpcyxhcmd1bWVudHMpJiYKKHRoaXMuaXNMb2FkaW5nP3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgicmVsb2FkIik6KHRoaXMuaXNMb2FkaW5nPSEwLHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgibG9hZHN0YXJ0IikpLHRoaXMubG9hZEZlYXR1cmVzRm9yUmVnaW9uKHRoaXMucmVxdWVzdFN1Y2Nlc3MpKX0sbG9hZEZlYXR1cmVzRm9yUmVnaW9uOmZ1bmN0aW9uKGEsYil7dGhpcy5yZXF1ZXN0JiZ0aGlzLnJlcXVlc3QuYWJvcnQoKTt0aGlzLnJlcXVlc3Q9T3BlbkxheWVycy5SZXF1ZXN0LkdFVCh7dXJsOnRoaXMudXJsLHN1Y2Nlc3M6YSxmYWlsdXJlOmIsc2NvcGU6dGhpc30pfSxyZXF1ZXN0U3VjY2VzczpmdW5jdGlvbihhKXtpZih0aGlzLmZlYXR1cmVzKXt2YXIgYj1hLnJlc3BvbnNlWE1MO2lmKCFifHwhYi5kb2N1bWVudEVsZW1lbnQpYj1hLnJlc3BvbnNlVGV4dDt0aGlzLmxheWVyLnZlY3Rvck1vZGU/dGhpcy5sYXllci5hZGRGZWF0dXJlcyh0aGlzLmxheWVyLmZvcm1hdE9iamVjdC5yZWFkKGIpKTooYT0KbmV3IE9wZW5MYXllcnMuRm9ybWF0LlhNTCwic3RyaW5nIj09dHlwZW9mIGImJihiPWEucmVhZChiKSksYj1hLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYiwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwiLCJmZWF0dXJlTWVtYmVyIiksdGhpcy5hZGRSZXN1bHRzKGIpKX10aGlzLmV2ZW50cyYmdGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJsb2FkZW5kIik7dGhpcy5yZXF1ZXN0PW51bGx9LGFkZFJlc3VsdHM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPW5ldyB0aGlzLmxheWVyLmZlYXR1cmVDbGFzcyh0aGlzLmxheWVyLGFbYl0pO3RoaXMuZmVhdHVyZXMucHVzaChjKX19LGRlc3Ryb3lBbGxGZWF0dXJlczpmdW5jdGlvbigpe2Zvcig7MDx0aGlzLmZlYXR1cmVzLmxlbmd0aDspdGhpcy5mZWF0dXJlcy5zaGlmdCgpLmRlc3Ryb3koKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5UaWxlLldGUyJ9KTsKT3BlbkxheWVycy5GZWF0dXJlLldGUz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRmVhdHVyZSx7aW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIpe3ZhciBjPWFyZ3VtZW50cyxjPXRoaXMucHJvY2Vzc1hNTE5vZGUoYiksYz1bYSxjLmxvbmxhdCxjXTtPcGVuTGF5ZXJzLkZlYXR1cmUucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxjKTt0aGlzLmNyZWF0ZU1hcmtlcigpO3RoaXMubGF5ZXIuYWRkTWFya2VyKHRoaXMubWFya2VyKX0sZGVzdHJveTpmdW5jdGlvbigpe251bGwhPXRoaXMubWFya2VyJiZ0aGlzLmxheWVyLnJlbW92ZU1hcmtlcih0aGlzLm1hcmtlcik7T3BlbkxheWVycy5GZWF0dXJlLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0scHJvY2Vzc1hNTE5vZGU6ZnVuY3Rpb24oYSl7YT1PcGVuTGF5ZXJzLkFqYXguZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbCIsImdtbCIsIlBvaW50Iik7CmE9T3BlbkxheWVycy5VdGlsLmdldFhtbE5vZGVWYWx1ZShPcGVuTGF5ZXJzLkFqYXguZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhWzBdLCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbCIsImdtbCIsImNvb3JkaW5hdGVzIilbMF0pLnNwbGl0KCIsIik7cmV0dXJue2xvbmxhdDpuZXcgT3BlbkxheWVycy5Mb25MYXQocGFyc2VGbG9hdChhWzBdKSxwYXJzZUZsb2F0KGFbMV0pKSxpZDpudWxsfX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5GZWF0dXJlLldGUyJ9KTsKT3BlbkxheWVycy5MYXllci5XRlM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkxheWVyLlZlY3RvcixPcGVuTGF5ZXJzLkxheWVyLk1hcmtlcnMse2lzQmFzZUxheWVyOiExLHRpbGU6bnVsbCxyYXRpbzoyLERFRkFVTFRfUEFSQU1TOntzZXJ2aWNlOiJXRlMiLHZlcnNpb246IjEuMC4wIixyZXF1ZXN0OiJHZXRGZWF0dXJlIn0sZmVhdHVyZUNsYXNzOm51bGwsZm9ybWF0Om51bGwsZm9ybWF0T2JqZWN0Om51bGwsZm9ybWF0T3B0aW9uczpudWxsLHZlY3Rvck1vZGU6ITAsZW5jb2RlQkJPWDohMSxleHRyYWN0QXR0cmlidXRlczohMSxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjLGQpe3ZvaWQgMD09ZCYmKGQ9e30pO2lmKGQuZmVhdHVyZUNsYXNzfHwhT3BlbkxheWVycy5MYXllci5WZWN0b3J8fCFPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKXRoaXMudmVjdG9yTW9kZT0hMTtjPU9wZW5MYXllcnMuVXRpbC51cHBlckNhc2VPYmplY3QoYyk7T3BlbkxheWVycy5VdGlsLmV4dGVuZChkLAp7cmVwb3J0RXJyb3I6ITF9KTt2YXIgZT1bXTtlLnB1c2goYSxkKTtPcGVuTGF5ZXJzLkxheWVyLlZlY3Rvci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGUpO2lmKCF0aGlzLnJlbmRlcmVyfHwhdGhpcy52ZWN0b3JNb2RlKXRoaXMudmVjdG9yTW9kZT0hMSxkLmZlYXR1cmVDbGFzc3x8KGQuZmVhdHVyZUNsYXNzPU9wZW5MYXllcnMuRmVhdHVyZS5XRlMpLE9wZW5MYXllcnMuTGF5ZXIuTWFya2Vycy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGUpO3RoaXMucGFyYW1zJiYodGhpcy5wYXJhbXMudHlwZW5hbWUmJiF0aGlzLm9wdGlvbnMudHlwZW5hbWUpJiYodGhpcy5vcHRpb25zLnR5cGVuYW1lPXRoaXMucGFyYW1zLnR5cGVuYW1lKTt0aGlzLm9wdGlvbnMuZ2VvbWV0cnlfY29sdW1ufHwodGhpcy5vcHRpb25zLmdlb21ldHJ5X2NvbHVtbj0idGhlX2dlb20iKTt0aGlzLnBhcmFtcz1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhjLE9wZW5MYXllcnMuVXRpbC51cHBlckNhc2VPYmplY3QodGhpcy5ERUZBVUxUX1BBUkFNUykpOwp0aGlzLnVybD1ifSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy52ZWN0b3JNb2RlP09wZW5MYXllcnMuTGF5ZXIuVmVjdG9yLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMsYXJndW1lbnRzKTpPcGVuTGF5ZXJzLkxheWVyLk1hcmtlcnMucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMudGlsZSYmdGhpcy50aWxlLmRlc3Ryb3koKTt0aGlzLmZvcm1hdD10aGlzLmZlYXR1cmVDbGFzcz10aGlzLnJhdGlvPXRoaXMudGlsZT1udWxsO3RoaXMuZm9ybWF0T2JqZWN0JiZ0aGlzLmZvcm1hdE9iamVjdC5kZXN0cm95JiZ0aGlzLmZvcm1hdE9iamVjdC5kZXN0cm95KCk7dGhpcy5leHRyYWN0QXR0cmlidXRlcz10aGlzLmVuY29kZUJCT1g9dGhpcy52ZWN0b3JNb2RlPXRoaXMuZm9ybWF0T3B0aW9ucz10aGlzLmZvcm1hdE9iamVjdD1udWxsfSxzZXRNYXA6ZnVuY3Rpb24oYSl7aWYodGhpcy52ZWN0b3JNb2RlKXtPcGVuTGF5ZXJzLkxheWVyLlZlY3Rvci5wcm90b3R5cGUuc2V0TWFwLmFwcGx5KHRoaXMsCmFyZ3VtZW50cyk7dmFyIGI9e2V4dHJhY3RBdHRyaWJ1dGVzOnRoaXMuZXh0cmFjdEF0dHJpYnV0ZXN9O09wZW5MYXllcnMuVXRpbC5leHRlbmQoYix0aGlzLmZvcm1hdE9wdGlvbnMpO3RoaXMubWFwJiYhdGhpcy5wcm9qZWN0aW9uLmVxdWFscyh0aGlzLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCkpJiYoYi5leHRlcm5hbFByb2plY3Rpb249dGhpcy5wcm9qZWN0aW9uLGIuaW50ZXJuYWxQcm9qZWN0aW9uPXRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSk7dGhpcy5mb3JtYXRPYmplY3Q9dGhpcy5mb3JtYXQ/bmV3IHRoaXMuZm9ybWF0KGIpOm5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5HTUwoYil9ZWxzZSBPcGVuTGF5ZXJzLkxheWVyLk1hcmtlcnMucHJvdG90eXBlLnNldE1hcC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG1vdmVUbzpmdW5jdGlvbihhLGIsYyl7dGhpcy52ZWN0b3JNb2RlP09wZW5MYXllcnMuTGF5ZXIuVmVjdG9yLnByb3RvdHlwZS5tb3ZlVG8uYXBwbHkodGhpcywKYXJndW1lbnRzKTpPcGVuTGF5ZXJzLkxheWVyLk1hcmtlcnMucHJvdG90eXBlLm1vdmVUby5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoYylyZXR1cm4hMTtiJiZ0aGlzLnZlY3Rvck1vZGUmJnRoaXMucmVuZGVyZXIuY2xlYXIoKTtpZih0aGlzLm9wdGlvbnMubWluWm9vbUxldmVsJiYoT3BlbkxheWVycy5Db25zb2xlLndhcm4oT3BlbkxheWVycy5pMThuKCJtaW5ab29tTGV2ZWxFcnJvciIpKSx0aGlzLm1hcC5nZXRab29tKCk8dGhpcy5vcHRpb25zLm1pblpvb21MZXZlbCkpcmV0dXJuIG51bGw7bnVsbD09YSYmKGE9dGhpcy5tYXAuZ2V0RXh0ZW50KCkpO3ZhciBkPW51bGw9PXRoaXMudGlsZSxlPSFkJiYhdGhpcy50aWxlLmJvdW5kcy5jb250YWluc0JvdW5kcyhhKTtpZihifHxkfHwhYyYmZSl7dmFyIGQ9YS5nZXRDZW50ZXJMb25MYXQoKSxlPWEuZ2V0V2lkdGgoKSp0aGlzLnJhdGlvLGY9YS5nZXRIZWlnaHQoKSp0aGlzLnJhdGlvLGQ9bmV3IE9wZW5MYXllcnMuQm91bmRzKGQubG9uLQplLzIsZC5sYXQtZi8yLGQubG9uK2UvMixkLmxhdCtmLzIpLGU9dGhpcy5tYXAuZ2V0U2l6ZSgpO2Uudyo9dGhpcy5yYXRpbztlLmgqPXRoaXMucmF0aW87dmFyIGY9bmV3IE9wZW5MYXllcnMuTG9uTGF0KGQubGVmdCxkLnRvcCksZj10aGlzLm1hcC5nZXRMYXllclB4RnJvbUxvbkxhdChmKSxnPXRoaXMuZ2V0RnVsbFJlcXVlc3RTdHJpbmcoKSxoPW51bGwsaT10aGlzLnBhcmFtcy5maWx0ZXJ8fHRoaXMucGFyYW1zLkZJTFRFUixoPWk/e0ZJTFRFUjppfTp7QkJPWDp0aGlzLmVuY29kZUJCT1g/ZC50b0JCT1goKTpkLnRvQXJyYXkoKX07aWYodGhpcy5tYXAmJiF0aGlzLnByb2plY3Rpb24uZXF1YWxzKHRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSkpe3ZhciBqPWQuY2xvbmUoKTtqLnRyYW5zZm9ybSh0aGlzLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCksdGhpcy5wcm9qZWN0aW9uKTtpfHwoaC5CQk9YPXRoaXMuZW5jb2RlQkJPWD9qLnRvQkJPWCgpOmoudG9BcnJheSgpKX1nKz0KIiYiK09wZW5MYXllcnMuVXRpbC5nZXRQYXJhbWV0ZXJTdHJpbmcoaCk7dGhpcy50aWxlJiYodGhpcy52ZWN0b3JNb2RlPyh0aGlzLmRlc3Ryb3lGZWF0dXJlcygpLHRoaXMucmVuZGVyZXIuY2xlYXIoKSk6dGhpcy5jbGVhck1hcmtlcnMoKSx0aGlzLnJlbW92ZVRpbGVNb25pdG9yaW5nSG9va3ModGhpcy50aWxlKSx0aGlzLnRpbGUuZGVzdHJveSgpLHRoaXMudGlsZT1udWxsKTt0aGlzLnRpbGU9bmV3IE9wZW5MYXllcnMuVGlsZS5XRlModGhpcyxmLGQsZyxlKTt0aGlzLmFkZFRpbGVNb25pdG9yaW5nSG9va3ModGhpcy50aWxlKTt0aGlzLnRpbGUuZHJhdygpfX0sYWRkVGlsZU1vbml0b3JpbmdIb29rczpmdW5jdGlvbihhKXthLm9uTG9hZFN0YXJ0PWZ1bmN0aW9uKCl7dGhpcz09dGhpcy5sYXllci50aWxlJiZ0aGlzLmxheWVyLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvYWRzdGFydCIpfTthLmV2ZW50cy5yZWdpc3RlcigibG9hZHN0YXJ0IixhLGEub25Mb2FkU3RhcnQpO2Eub25Mb2FkRW5kPQpmdW5jdGlvbigpe3RoaXM9PXRoaXMubGF5ZXIudGlsZSYmKHRoaXMubGF5ZXIuZXZlbnRzLnRyaWdnZXJFdmVudCgidGlsZWxvYWRlZCIpLHRoaXMubGF5ZXIuZXZlbnRzLnRyaWdnZXJFdmVudCgibG9hZGVuZCIpKX07YS5ldmVudHMucmVnaXN0ZXIoImxvYWRlbmQiLGEsYS5vbkxvYWRFbmQpO2EuZXZlbnRzLnJlZ2lzdGVyKCJ1bmxvYWQiLGEsYS5vbkxvYWRFbmQpfSxyZW1vdmVUaWxlTW9uaXRvcmluZ0hvb2tzOmZ1bmN0aW9uKGEpe2EudW5sb2FkKCk7YS5ldmVudHMudW4oe2xvYWRzdGFydDphLm9uTG9hZFN0YXJ0LGxvYWRlbmQ6YS5vbkxvYWRFbmQsdW5sb2FkOmEub25Mb2FkRW5kLHNjb3BlOmF9KX0sb25NYXBSZXNpemU6ZnVuY3Rpb24oKXt0aGlzLnZlY3Rvck1vZGU/T3BlbkxheWVycy5MYXllci5WZWN0b3IucHJvdG90eXBlLm9uTWFwUmVzaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTpPcGVuTGF5ZXJzLkxheWVyLk1hcmtlcnMucHJvdG90eXBlLm9uTWFwUmVzaXplLmFwcGx5KHRoaXMsCmFyZ3VtZW50cyl9LGRpc3BsYXk6ZnVuY3Rpb24oKXt0aGlzLnZlY3Rvck1vZGU/T3BlbkxheWVycy5MYXllci5WZWN0b3IucHJvdG90eXBlLmRpc3BsYXkuYXBwbHkodGhpcyxhcmd1bWVudHMpOk9wZW5MYXllcnMuTGF5ZXIuTWFya2Vycy5wcm90b3R5cGUuZGlzcGxheS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG1lcmdlTmV3UGFyYW1zOmZ1bmN0aW9uKGEpe2E9W09wZW5MYXllcnMuVXRpbC51cHBlckNhc2VPYmplY3QoYSldO3JldHVybiBPcGVuTGF5ZXJzLkxheWVyLkhUVFBSZXF1ZXN0LnByb3RvdHlwZS5tZXJnZU5ld1BhcmFtcy5hcHBseSh0aGlzLGEpfSxjbG9uZTpmdW5jdGlvbihhKXtudWxsPT1hJiYoYT1uZXcgT3BlbkxheWVycy5MYXllci5XRlModGhpcy5uYW1lLHRoaXMudXJsLHRoaXMucGFyYW1zLHRoaXMuZ2V0T3B0aW9ucygpKSk7cmV0dXJuIGE9dGhpcy52ZWN0b3JNb2RlP09wZW5MYXllcnMuTGF5ZXIuVmVjdG9yLnByb3RvdHlwZS5jbG9uZS5hcHBseSh0aGlzLApbYV0pOk9wZW5MYXllcnMuTGF5ZXIuTWFya2Vycy5wcm90b3R5cGUuY2xvbmUuYXBwbHkodGhpcyxbYV0pfSxnZXRGdWxsUmVxdWVzdFN0cmluZzpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucHJvamVjdGlvbi5nZXRDb2RlKCl8fHRoaXMubWFwLmdldFByb2plY3Rpb24oKTt0aGlzLnBhcmFtcy5TUlM9Im5vbmUiPT1jP251bGw6YztyZXR1cm4gT3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5nZXRGdWxsUmVxdWVzdFN0cmluZy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGNvbW1pdDpmdW5jdGlvbigpe2lmKCF0aGlzLndyaXRlcil7dmFyIGE9e307dGhpcy5tYXAmJiF0aGlzLnByb2plY3Rpb24uZXF1YWxzKHRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSkmJihhLmV4dGVybmFsUHJvamVjdGlvbj10aGlzLnByb2plY3Rpb24sYS5pbnRlcm5hbFByb2plY3Rpb249dGhpcy5tYXAuZ2V0UHJvamVjdGlvbk9iamVjdCgpKTt0aGlzLndyaXRlcj1uZXcgT3BlbkxheWVycy5Gb3JtYXQuV0ZTKGEsCnRoaXMpfWE9dGhpcy53cml0ZXIud3JpdGUodGhpcy5mZWF0dXJlcyk7T3BlbkxheWVycy5SZXF1ZXN0LlBPU1Qoe3VybDp0aGlzLnVybCxkYXRhOmEsc3VjY2Vzczp0aGlzLmNvbW1pdFN1Y2Nlc3MsZmFpbHVyZTp0aGlzLmNvbW1pdEZhaWx1cmUsc2NvcGU6dGhpc30pfSxjb21taXRTdWNjZXNzOmZ1bmN0aW9uKGEpe2E9YS5yZXNwb25zZVRleHQ7aWYoLTEhPWEuaW5kZXhPZigiU1VDQ0VTUyIpKXt0aGlzLmNvbW1pdFJlcG9ydChPcGVuTGF5ZXJzLmkxOG4oImNvbW1pdFN1Y2Nlc3MiLHtyZXNwb25zZTphfSkpO2ZvcihhPTA7YTx0aGlzLmZlYXR1cmVzLmxlbmd0aDthKyspdGhpcy5mZWF0dXJlc1thXS5zdGF0ZT1udWxsfWVsc2UoLTEhPWEuaW5kZXhPZigiRkFJTEVEIil8fC0xIT1hLmluZGV4T2YoIkV4Y2VwdGlvbiIpKSYmdGhpcy5jb21taXRSZXBvcnQoT3BlbkxheWVycy5pMThuKCJjb21taXRGYWlsZWQiLHtyZXNwb25zZTphfSkpfSxjb21taXRGYWlsdXJlOmZ1bmN0aW9uKCl7fSwKY29tbWl0UmVwb3J0OmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuQ29uc29sZS51c2VyRXJyb3IoYSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLnRpbGUmJih0aGlzLnZlY3Rvck1vZGU/KHRoaXMucmVuZGVyZXIuY2xlYXIoKSx0aGlzLmZlYXR1cmVzLmxlbmd0aD0wKToodGhpcy5jbGVhck1hcmtlcnMoKSx0aGlzLm1hcmtlcnMubGVuZ3RoPTApLHRoaXMudGlsZS5kcmF3KCkpfSxnZXREYXRhRXh0ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmVjdG9yTW9kZT9PcGVuTGF5ZXJzLkxheWVyLlZlY3Rvci5wcm90b3R5cGUuZ2V0RGF0YUV4dGVudC5hcHBseSh0aGlzKTpPcGVuTGF5ZXJzLkxheWVyLk1hcmtlcnMucHJvdG90eXBlLmdldERhdGFFeHRlbnQuYXBwbHkodGhpcyl9LHNldE9wYWNpdHk6ZnVuY3Rpb24oYSl7dGhpcy52ZWN0b3JNb2RlP09wZW5MYXllcnMuTGF5ZXIuVmVjdG9yLnByb3RvdHlwZS5zZXRPcGFjaXR5LmFwcGx5KHRoaXMsW2FdKTpPcGVuTGF5ZXJzLkxheWVyLk1hcmtlcnMucHJvdG90eXBlLnNldE9wYWNpdHkuYXBwbHkodGhpcywKW2FdKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5XRlMifSk7Ck9wZW5MYXllcnMuTGF5ZXIuVmlydHVhbEVhcnRoPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllci5FdmVudFBhbmUsT3BlbkxheWVycy5MYXllci5GaXhlZFpvb21MZXZlbHMse01JTl9aT09NX0xFVkVMOjEsTUFYX1pPT01fTEVWRUw6MTksUkVTT0xVVElPTlM6WzEuNDA2MjUsMC43MDMxMjUsMC4zNTE1NjI1LDAuMTc1NzgxMjUsMC4wODc4OTA2MjUsMC4wNDM5NDUzMTI1LDAuMDIxOTcyNjU2MjUsMC4wMTA5ODYzMjgxMjUsMC4wMDU0OTMxNjQwNjI1LDAuMDAyNzQ2NTgyMDMxMjUsMC4wMDEzNzMyOTEwMTU2MjUsNi44NjY0NTUwNzgxMjVFLTQsMy40MzMyMjc1MzkwNjI1RS00LDEuNzE2NjEzNzY5NTMxMjVFLTQsOC41ODMwNjg4NDc2NTYyNUUtNSw0LjI5MTUzNDQyMzgyODEyNUUtNSwyLjE0NTc2NzIxMTkxNDA2MkUtNSwxLjA3Mjg4MzYwNTk1NzAzMUUtNSw1LjM2NDQxODAyOTc4NTE1RS02XSx0eXBlOm51bGwsd3JhcERhdGVMaW5lOiEwLHNwaGVyaWNhbE1lcmNhdG9yOiExLAphbmltYXRpb25FbmFibGVkOiEwLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLkxheWVyLkV2ZW50UGFuZS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7T3BlbkxheWVycy5MYXllci5GaXhlZFpvb21MZXZlbHMucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuc3BoZXJpY2FsTWVyY2F0b3ImJihPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsT3BlbkxheWVycy5MYXllci5TcGhlcmljYWxNZXJjYXRvciksdGhpcy5pbml0TWVyY2F0b3JQYXJhbWV0ZXJzKCkpfSxsb2FkTWFwT2JqZWN0OmZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5VdGlsLmNyZWF0ZURpdih0aGlzLm5hbWUpLGI9dGhpcy5tYXAuZ2V0U2l6ZSgpO2Euc3R5bGUud2lkdGg9Yi53KyJweCI7YS5zdHlsZS5oZWlnaHQ9Yi5oKyJweCI7dGhpcy5kaXYuYXBwZW5kQ2hpbGQoYSk7dHJ5e3RoaXMubWFwT2JqZWN0PW5ldyBWRU1hcCh0aGlzLm5hbWUpfWNhdGNoKGMpe31pZihudWxsIT0KdGhpcy5tYXBPYmplY3Qpe3RyeXt0aGlzLm1hcE9iamVjdC5Mb2FkTWFwKG51bGwsbnVsbCx0aGlzLnR5cGUsITApLHRoaXMubWFwT2JqZWN0LkF0dGFjaEV2ZW50KCJvbm1vdXNlZG93biIsT3BlbkxheWVycy5GdW5jdGlvbi5UcnVlKX1jYXRjaChkKXt9dGhpcy5tYXBPYmplY3QuSGlkZURhc2hib2FyZCgpOyJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLm1hcE9iamVjdC5TZXRBbmltYXRpb25FbmFibGVkJiZ0aGlzLm1hcE9iamVjdC5TZXRBbmltYXRpb25FbmFibGVkKHRoaXMuYW5pbWF0aW9uRW5hYmxlZCl9aWYoIXRoaXMubWFwT2JqZWN0fHwhdGhpcy5tYXBPYmplY3QudmVtYXBjb250cm9sfHwhdGhpcy5tYXBPYmplY3QudmVtYXBjb250cm9sLlBhbk1hcHx8ImZ1bmN0aW9uIiE9dHlwZW9mIHRoaXMubWFwT2JqZWN0LnZlbWFwY29udHJvbC5QYW5NYXApdGhpcy5kcmFnUGFuTWFwT2JqZWN0PW51bGx9LG9uTWFwUmVzaXplOmZ1bmN0aW9uKCl7dGhpcy5tYXBPYmplY3QuUmVzaXplKHRoaXMubWFwLnNpemUudywKdGhpcy5tYXAuc2l6ZS5oKX0sZ2V0V2FybmluZ0hUTUw6ZnVuY3Rpb24oKXtyZXR1cm4gT3BlbkxheWVycy5pMThuKCJnZXRMYXllcldhcm5pbmciLHtsYXllclR5cGU6IlZFIixsYXllckxpYjoiVmlydHVhbEVhcnRoIn0pfSxzZXRNYXBPYmplY3RDZW50ZXI6ZnVuY3Rpb24oYSxiKXt0aGlzLm1hcE9iamVjdC5TZXRDZW50ZXJBbmRab29tKGEsYil9LGdldE1hcE9iamVjdENlbnRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcE9iamVjdC5HZXRDZW50ZXIoKX0sZHJhZ1Bhbk1hcE9iamVjdDpmdW5jdGlvbihhLGIpe3RoaXMubWFwT2JqZWN0LnZlbWFwY29udHJvbC5QYW5NYXAoYSwtYil9LGdldE1hcE9iamVjdFpvb206ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXBPYmplY3QuR2V0Wm9vbUxldmVsKCl9LGdldE1hcE9iamVjdExvbkxhdEZyb21NYXBPYmplY3RQaXhlbDpmdW5jdGlvbihhKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFZFUGl4ZWw/dGhpcy5tYXBPYmplY3QuUGl4ZWxUb0xhdExvbmcoYSk6CnRoaXMubWFwT2JqZWN0LlBpeGVsVG9MYXRMb25nKGEueCxhLnkpfSxnZXRNYXBPYmplY3RQaXhlbEZyb21NYXBPYmplY3RMb25MYXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubWFwT2JqZWN0LkxhdExvbmdUb1BpeGVsKGEpfSxnZXRMb25naXR1ZGVGcm9tTWFwT2JqZWN0TG9uTGF0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNwaGVyaWNhbE1lcmNhdG9yP3RoaXMuZm9yd2FyZE1lcmNhdG9yKGEuTG9uZ2l0dWRlLGEuTGF0aXR1ZGUpLmxvbjphLkxvbmdpdHVkZX0sZ2V0TGF0aXR1ZGVGcm9tTWFwT2JqZWN0TG9uTGF0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNwaGVyaWNhbE1lcmNhdG9yP3RoaXMuZm9yd2FyZE1lcmNhdG9yKGEuTG9uZ2l0dWRlLGEuTGF0aXR1ZGUpLmxhdDphLkxhdGl0dWRlfSxnZXRNYXBPYmplY3RMb25MYXRGcm9tTG9uTGF0OmZ1bmN0aW9uKGEsYil7dmFyIGM7dGhpcy5zcGhlcmljYWxNZXJjYXRvcj8oYz10aGlzLmludmVyc2VNZXJjYXRvcihhLGIpLApjPW5ldyBWRUxhdExvbmcoYy5sYXQsYy5sb24pKTpjPW5ldyBWRUxhdExvbmcoYixhKTtyZXR1cm4gY30sZ2V0WEZyb21NYXBPYmplY3RQaXhlbDpmdW5jdGlvbihhKXtyZXR1cm4gYS54fSxnZXRZRnJvbU1hcE9iamVjdFBpeGVsOmZ1bmN0aW9uKGEpe3JldHVybiBhLnl9LGdldE1hcE9iamVjdFBpeGVsRnJvbVhZOmZ1bmN0aW9uKGEsYil7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBWRVBpeGVsP25ldyBWRVBpeGVsKGEsYik6bmV3IE1zbi5WRS5QaXhlbChhLGIpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLlZpcnR1YWxFYXJ0aCJ9KTsKKGZ1bmN0aW9uKCl7aWYoIXdpbmRvdy5nb29nbGV8fCFnb29nbGUuZ2VhcnMpe3ZhciBhPW51bGw7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBHZWFyc0ZhY3RvcnkpYT1uZXcgR2VhcnNGYWN0b3J5O2Vsc2UgdHJ5e2E9bmV3IEFjdGl2ZVhPYmplY3QoIkdlYXJzLkZhY3RvcnkiKSwtMSE9YS5nZXRCdWlsZEluZm8oKS5pbmRleE9mKCJpZV9tb2JpbGUiKSYmYS5wcml2YXRlU2V0R2xvYmFsT2JqZWN0KHRoaXMpfWNhdGNoKGIpeyJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yLm1pbWVUeXBlcyYmbmF2aWdhdG9yLm1pbWVUeXBlc1siYXBwbGljYXRpb24veC1nb29nbGVnZWFycyJdJiYoYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvYmplY3QiKSxhLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGEud2lkdGg9MCxhLmhlaWdodD0wLGEudHlwZT0iYXBwbGljYXRpb24veC1nb29nbGVnZWFycyIsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGEpKX1hJiYod2luZG93Lmdvb2dsZXx8Cihnb29nbGU9e30pLGdvb2dsZS5nZWFyc3x8KGdvb2dsZS5nZWFycz17ZmFjdG9yeTphfSkpfX0pKCk7T3BlbkxheWVycy5Qcm90b2NvbC5TUUw9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlByb3RvY29sLHtkYXRhYmFzZU5hbWU6Im9sIix0YWJsZU5hbWU6Im9sX3ZlY3Rvcl9mZWF0dXJlcyIscG9zdFJlYWRGaWx0ZXJpbmc6ITAsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlByb3RvY29sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKX0sZGVzdHJveTpmdW5jdGlvbigpe09wZW5MYXllcnMuUHJvdG9jb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyl9LHN1cHBvcnRlZDpmdW5jdGlvbigpe3JldHVybiExfSxldmFsdWF0ZUZpbHRlcjpmdW5jdGlvbihhLGIpe3JldHVybiBiJiZ0aGlzLnBvc3RSZWFkRmlsdGVyaW5nP2IuZXZhbHVhdGUoYSk6ITB9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuUHJvdG9jb2wuU1FMIn0pOwpPcGVuTGF5ZXJzLlByb3RvY29sLlNRTC5HZWFycz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuUHJvdG9jb2wuU1FMLHtGSURfUFJFRklYOiJfX2dlYXJzX2ZpZF9fIixOVUxMX0dFT01FVFJZOiJfX2dlYXJzX251bGxfZ2VvbWV0cnlfXyIsTlVMTF9GRUFUVVJFX1NUQVRFOiJfX2dlYXJzX251bGxfZmVhdHVyZV9zdGF0ZV9fIixqc29uUGFyc2VyOm51bGwsd2t0UGFyc2VyOm51bGwsZmlkUmVnRXhwOm51bGwsc2F2ZUZlYXR1cmVTdGF0ZTohMCx0eXBlT2ZGaWQ6InN0cmluZyIsZGI6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe3RoaXMuc3VwcG9ydGVkKCkmJihPcGVuTGF5ZXJzLlByb3RvY29sLlNRTC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSksdGhpcy5qc29uUGFyc2VyPW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5KU09OLHRoaXMud2t0UGFyc2VyPW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5XS1QsdGhpcy5maWRSZWdFeHA9UmVnRXhwKCJeIit0aGlzLkZJRF9QUkVGSVgpLAp0aGlzLmluaXRpYWxpemVEYXRhYmFzZSgpKX0saW5pdGlhbGl6ZURhdGFiYXNlOmZ1bmN0aW9uKCl7dGhpcy5kYj1nb29nbGUuZ2VhcnMuZmFjdG9yeS5jcmVhdGUoImJldGEuZGF0YWJhc2UiKTt0aGlzLmRiLm9wZW4odGhpcy5kYXRhYmFzZU5hbWUpO3RoaXMuZGIuZXhlY3V0ZSgiQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgIit0aGlzLnRhYmxlTmFtZSsiIChmaWQgVEVYVCBVTklRVUUsIGdlb21ldHJ5IFRFWFQsIHByb3BlcnRpZXMgVEVYVCwgIHN0YXRlIFRFWFQpIil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmRiLmNsb3NlKCk7dGhpcy53a3RQYXJzZXI9dGhpcy5qc29uUGFyc2VyPXRoaXMuZGI9bnVsbDtPcGVuTGF5ZXJzLlByb3RvY29sLlNRTC5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzKX0sc3VwcG9ydGVkOmZ1bmN0aW9uKCl7cmV0dXJuISghd2luZG93Lmdvb2dsZXx8IWdvb2dsZS5nZWFycyl9LHJlYWQ6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Qcm90b2NvbC5wcm90b3R5cGUucmVhZC5hcHBseSh0aGlzLAphcmd1bWVudHMpO2Zvcih2YXIgYT1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLHRoaXMub3B0aW9ucyksYixjPVtdLGQ9dGhpcy5kYi5leGVjdXRlKCJTRUxFQ1QgKiBGUk9NICIrdGhpcy50YWJsZU5hbWUpO2QuaXNWYWxpZFJvdygpOyliPXRoaXMudW5mcmVlemVGZWF0dXJlKGQpLHRoaXMuZXZhbHVhdGVGaWx0ZXIoYixhLmZpbHRlcikmJihhLm5vRmVhdHVyZVN0YXRlUmVzZXR8fChiLnN0YXRlPW51bGwpLGMucHVzaChiKSksZC5uZXh0KCk7ZC5jbG9zZSgpO2I9bmV3IE9wZW5MYXllcnMuUHJvdG9jb2wuUmVzcG9uc2Uoe2NvZGU6T3BlbkxheWVycy5Qcm90b2NvbC5SZXNwb25zZS5TVUNDRVNTLHJlcXVlc3RUeXBlOiJyZWFkIixmZWF0dXJlczpjfSk7YSYmYS5jYWxsYmFjayYmYS5jYWxsYmFjay5jYWxsKGEuc2NvcGUsYik7cmV0dXJuIGJ9LHVuZnJlZXplRmVhdHVyZTpmdW5jdGlvbihhKXt2YXIgYjtiPWEuZmllbGRCeU5hbWUoImdlb21ldHJ5Iik7Yj1iPT10aGlzLk5VTExfR0VPTUVUUlk/Cm5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yOnRoaXMud2t0UGFyc2VyLnJlYWQoYik7Yi5hdHRyaWJ1dGVzPXRoaXMuanNvblBhcnNlci5yZWFkKGEuZmllbGRCeU5hbWUoInByb3BlcnRpZXMiKSk7Yi5maWQ9dGhpcy5leHRyYWN0RmlkRnJvbUZpZWxkKGEuZmllbGRCeU5hbWUoImZpZCIpKTthPWEuZmllbGRCeU5hbWUoInN0YXRlIik7YT09dGhpcy5OVUxMX0ZFQVRVUkVfU1RBVEUmJihhPW51bGwpO2Iuc3RhdGU9YTtyZXR1cm4gYn0sZXh0cmFjdEZpZEZyb21GaWVsZDpmdW5jdGlvbihhKXshYS5tYXRjaCh0aGlzLmZpZFJlZ0V4cCkmJiJudW1iZXIiPT10aGlzLnR5cGVPZkZpZCYmKGE9cGFyc2VGbG9hdChhKSk7cmV0dXJuIGF9LGNyZWF0ZTpmdW5jdGlvbihhLGIpe3ZhciBiPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGIsdGhpcy5vcHRpb25zKSxjPXRoaXMuY3JlYXRlT3JVcGRhdGUoYSk7Yy5yZXF1ZXN0VHlwZT0iY3JlYXRlIjtiJiZiLmNhbGxiYWNrJiZiLmNhbGxiYWNrLmNhbGwoYi5zY29wZSwKYyk7cmV0dXJuIGN9LHVwZGF0ZTpmdW5jdGlvbihhLGIpe3ZhciBiPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGIsdGhpcy5vcHRpb25zKSxjPXRoaXMuY3JlYXRlT3JVcGRhdGUoYSk7Yy5yZXF1ZXN0VHlwZT0idXBkYXRlIjtiJiZiLmNhbGxiYWNrJiZiLmNhbGxiYWNrLmNhbGwoYi5zY29wZSxjKTtyZXR1cm4gY30sY3JlYXRlT3JVcGRhdGU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSl8fChhPVthXSk7dmFyIGIsYz1hLmxlbmd0aCxkLGU9QXJyYXkoYyk7Zm9yKGI9MDtiPGM7YisrKXtkPWFbYl07dmFyIGY9dGhpcy5mcmVlemVGZWF0dXJlKGQpO3RoaXMuZGIuZXhlY3V0ZSgiUkVQTEFDRSBJTlRPICIrdGhpcy50YWJsZU5hbWUrIiAoZmlkLCBnZW9tZXRyeSwgcHJvcGVydGllcywgc3RhdGUpIFZBTFVFUyAoPywgPywgPywgPykiLGYpO2Q9ZC5jbG9uZSgpO2QuZmlkPXRoaXMuZXh0cmFjdEZpZEZyb21GaWVsZChmWzBdKTtlW2JdPWR9cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlKHtjb2RlOk9wZW5MYXllcnMuUHJvdG9jb2wuUmVzcG9uc2UuU1VDQ0VTUywKZmVhdHVyZXM6ZSxyZXFGZWF0dXJlczphfSl9LGZyZWV6ZUZlYXR1cmU6ZnVuY3Rpb24oYSl7YS5maWQ9bnVsbCE9YS5maWQ/IiIrYS5maWQ6T3BlbkxheWVycy5VdGlsLmNyZWF0ZVVuaXF1ZUlEKHRoaXMuRklEX1BSRUZJWCk7dmFyIGI9bnVsbCE9YS5nZW9tZXRyeT9hLmdlb21ldHJ5LnRvU3RyaW5nKCk6dGhpcy5OVUxMX0dFT01FVFJZLGM9dGhpcy5qc29uUGFyc2VyLndyaXRlKGEuYXR0cmlidXRlcyksZD10aGlzLmdldEZlYXR1cmVTdGF0ZUZvckZyZWV6ZShhKTtyZXR1cm5bYS5maWQsYixjLGRdfSxnZXRGZWF0dXJlU3RhdGVGb3JGcmVlemU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc2F2ZUZlYXR1cmVTdGF0ZT90aGlzLmNyZWF0ZWRPZmZsaW5lKGEpP09wZW5MYXllcnMuU3RhdGUuSU5TRVJUOmEuc3RhdGU6dGhpcy5OVUxMX0ZFQVRVUkVfU1RBVEV9LCJkZWxldGUiOmZ1bmN0aW9uKGEsYil7T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSl8fChhPVthXSk7dmFyIGI9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYiwKdGhpcy5vcHRpb25zKSxjLGQsZTtjPTA7Zm9yKGQ9YS5sZW5ndGg7YzxkO2MrKylpZihlPWFbY10sdGhpcy5zYXZlRmVhdHVyZVN0YXRlJiYhdGhpcy5jcmVhdGVkT2ZmbGluZShlKSl7dmFyIGY9ZS5jbG9uZSgpO2YuZmlkPWUuZmlkO2YuZ2VvbWV0cnkmJihmLmdlb21ldHJ5LmRlc3Ryb3koKSxmLmdlb21ldHJ5PW51bGwpO2Yuc3RhdGU9ZS5zdGF0ZTt0aGlzLmNyZWF0ZU9yVXBkYXRlKGYpfWVsc2UgdGhpcy5kYi5leGVjdXRlKCJERUxFVEUgRlJPTSAiK3RoaXMudGFibGVOYW1lKyIgV0hFUkUgZmlkID0gPyIsW2UuZmlkXSk7Yz1uZXcgT3BlbkxheWVycy5Qcm90b2NvbC5SZXNwb25zZSh7Y29kZTpPcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlLlNVQ0NFU1MscmVxdWVzdFR5cGU6ImRlbGV0ZSIscmVxRmVhdHVyZXM6YX0pO2ImJmIuY2FsbGJhY2smJmIuY2FsbGJhY2suY2FsbChiLnNjb3BlLGMpO3JldHVybiBjfSxjcmVhdGVkT2ZmbGluZTpmdW5jdGlvbihhKXtyZXR1cm4ic3RyaW5nIj09CnR5cGVvZiBhLmZpZCYmISFhLmZpZC5tYXRjaCh0aGlzLmZpZFJlZ0V4cCl9LGNvbW1pdDpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7KytnPGYmJihhLmxhc3Q9ITEpO3RoaXMuY2FsbFVzZXJDYWxsYmFjayhiLGEpfWZvcih2YXIgZCxlPVtdLGY9MCxnPTAsaD1bXSxpPVtdLGo9W10saz1hLmxlbmd0aC0xOzA8PWs7ay0tKXN3aXRjaChkPWFba10sZC5zdGF0ZSl7Y2FzZSBPcGVuTGF5ZXJzLlN0YXRlLklOU0VSVDpoLnB1c2goZCk7YnJlYWs7Y2FzZSBPcGVuTGF5ZXJzLlN0YXRlLlVQREFURTppLnB1c2goZCk7YnJlYWs7Y2FzZSBPcGVuTGF5ZXJzLlN0YXRlLkRFTEVURTpqLnB1c2goZCl9MDxoLmxlbmd0aCYmKGYrKyxkPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtjYWxsYmFjazpjLHNjb3BlOnRoaXN9LGIuY3JlYXRlKSxlLnB1c2godGhpcy5jcmVhdGUoaCxkKSkpOzA8aS5sZW5ndGgmJihmKyssZD1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7Y2FsbGJhY2s6YywKc2NvcGU6dGhpc30sYi51cGRhdGUpLGUucHVzaCh0aGlzLnVwZGF0ZShpLGQpKSk7MDxqLmxlbmd0aCYmKGYrKyxkPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtjYWxsYmFjazpjLHNjb3BlOnRoaXN9LGJbImRlbGV0ZSJdKSxlLnB1c2godGhpc1siZGVsZXRlIl0oaixkKSkpO3JldHVybiBlfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuZGIuZXhlY3V0ZSgiREVMRVRFIEZST00gIit0aGlzLnRhYmxlTmFtZSl9LGNhbGxVc2VyQ2FsbGJhY2s6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hW2IucmVxdWVzdFR5cGVdO2MmJmMuY2FsbGJhY2smJmMuY2FsbGJhY2suY2FsbChjLnNjb3BlLGIpO2IubGFzdCYmYS5jYWxsYmFjayYmYS5jYWxsYmFjay5jYWxsKGEuc2NvcGUpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlByb3RvY29sLlNRTC5HZWFycyJ9KTsKT3BlbkxheWVycy5MYXllci5ZYWhvbz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIuRXZlbnRQYW5lLE9wZW5MYXllcnMuTGF5ZXIuRml4ZWRab29tTGV2ZWxzLHtNSU5fWk9PTV9MRVZFTDowLE1BWF9aT09NX0xFVkVMOjE3LFJFU09MVVRJT05TOlsxLjQwNjI1LDAuNzAzMTI1LDAuMzUxNTYyNSwwLjE3NTc4MTI1LDAuMDg3ODkwNjI1LDAuMDQzOTQ1MzEyNSwwLjAyMTk3MjY1NjI1LDAuMDEwOTg2MzI4MTI1LDAuMDA1NDkzMTY0MDYyNSwwLjAwMjc0NjU4MjAzMTI1LDAuMDAxMzczMjkxMDE1NjI1LDYuODY2NDU1MDc4MTI1RS00LDMuNDMzMjI3NTM5MDYyNUUtNCwxLjcxNjYxMzc2OTUzMTI1RS00LDguNTgzMDY4ODQ3NjU2MjVFLTUsNC4yOTE1MzQ0MjM4MjgxMjVFLTUsMi4xNDU3NjcyMTE5MTQwNjJFLTUsMS4wNzI4ODM2MDU5NTcwMzFFLTVdLHR5cGU6bnVsbCx3cmFwRGF0ZUxpbmU6ITAsc3BoZXJpY2FsTWVyY2F0b3I6ITEsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLApiKXtPcGVuTGF5ZXJzLkxheWVyLkV2ZW50UGFuZS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7T3BlbkxheWVycy5MYXllci5GaXhlZFpvb21MZXZlbHMucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuc3BoZXJpY2FsTWVyY2F0b3ImJihPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsT3BlbkxheWVycy5MYXllci5TcGhlcmljYWxNZXJjYXRvciksdGhpcy5pbml0TWVyY2F0b3JQYXJhbWV0ZXJzKCkpfSxsb2FkTWFwT2JqZWN0OmZ1bmN0aW9uKCl7dHJ5e3ZhciBhPXRoaXMuZ2V0TWFwT2JqZWN0U2l6ZUZyb21PTFNpemUodGhpcy5tYXAuZ2V0U2l6ZSgpKTt0aGlzLm1hcE9iamVjdD1uZXcgWU1hcCh0aGlzLmRpdix0aGlzLnR5cGUsYSk7dGhpcy5tYXBPYmplY3QuZGlzYWJsZUtleUNvbnRyb2xzKCk7dGhpcy5tYXBPYmplY3QuZGlzYWJsZURyYWdNYXAoKTtpZighdGhpcy5tYXBPYmplY3QubW92ZUJ5WFl8fCJmdW5jdGlvbiIhPQp0eXBlb2YgdGhpcy5tYXBPYmplY3QubW92ZUJ5WFkpdGhpcy5kcmFnUGFuTWFwT2JqZWN0PW51bGx9Y2F0Y2goYil7fX0sb25NYXBSZXNpemU6ZnVuY3Rpb24oKXt0cnl7dmFyIGE9dGhpcy5nZXRNYXBPYmplY3RTaXplRnJvbU9MU2l6ZSh0aGlzLm1hcC5nZXRTaXplKCkpO3RoaXMubWFwT2JqZWN0LnJlc2l6ZVRvKGEpfWNhdGNoKGIpe319LHNldE1hcDpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkxheWVyLkV2ZW50UGFuZS5wcm90b3R5cGUuc2V0TWFwLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLm1hcC5ldmVudHMucmVnaXN0ZXIoIm1vdmVlbmQiLHRoaXMsdGhpcy5maXhZYWhvb0V2ZW50UGFuZSl9LGZpeFlhaG9vRXZlbnRQYW5lOmZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5VdGlsLmdldEVsZW1lbnQoInlnZGRmZGl2Iik7bnVsbCE9YSYmKG51bGwhPWEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpLHRoaXMubWFwLmV2ZW50cy51bnJlZ2lzdGVyKCJtb3ZlZW5kIiwKdGhpcyx0aGlzLmZpeFlhaG9vRXZlbnRQYW5lKSl9LGdldFdhcm5pbmdIVE1MOmZ1bmN0aW9uKCl7cmV0dXJuIE9wZW5MYXllcnMuaTE4bigiZ2V0TGF5ZXJXYXJuaW5nIix7bGF5ZXJUeXBlOiJZYWhvbyIsbGF5ZXJMaWI6IllhaG9vIn0pfSxnZXRPTFpvb21Gcm9tTWFwT2JqZWN0Wm9vbTpmdW5jdGlvbihhKXt2YXIgYj1udWxsO251bGwhPWEmJihiPU9wZW5MYXllcnMuTGF5ZXIuRml4ZWRab29tTGV2ZWxzLnByb3RvdHlwZS5nZXRPTFpvb21Gcm9tTWFwT2JqZWN0Wm9vbS5hcHBseSh0aGlzLFthXSksYj0xOC1iKTtyZXR1cm4gYn0sZ2V0TWFwT2JqZWN0Wm9vbUZyb21PTFpvb206ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtudWxsIT1hJiYoYj1PcGVuTGF5ZXJzLkxheWVyLkZpeGVkWm9vbUxldmVscy5wcm90b3R5cGUuZ2V0TWFwT2JqZWN0Wm9vbUZyb21PTFpvb20uYXBwbHkodGhpcyxbYV0pLGI9MTgtYik7cmV0dXJuIGJ9LHNldE1hcE9iamVjdENlbnRlcjpmdW5jdGlvbihhLGIpe3RoaXMubWFwT2JqZWN0LmRyYXdab29tQW5kQ2VudGVyKGEsCmIpfSxnZXRNYXBPYmplY3RDZW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXBPYmplY3QuZ2V0Q2VudGVyTGF0TG9uKCl9LGRyYWdQYW5NYXBPYmplY3Q6ZnVuY3Rpb24oYSxiKXt0aGlzLm1hcE9iamVjdC5tb3ZlQnlYWSh7eDotYSx5OmJ9KX0sZ2V0TWFwT2JqZWN0Wm9vbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcE9iamVjdC5nZXRab29tTGV2ZWwoKX0sZ2V0TWFwT2JqZWN0TG9uTGF0RnJvbU1hcE9iamVjdFBpeGVsOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1hcE9iamVjdC5jb252ZXJ0WFlMYXRMb24oYSl9LGdldE1hcE9iamVjdFBpeGVsRnJvbU1hcE9iamVjdExvbkxhdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tYXBPYmplY3QuY29udmVydExhdExvblhZKGEpfSxnZXRMb25naXR1ZGVGcm9tTWFwT2JqZWN0TG9uTGF0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNwaGVyaWNhbE1lcmNhdG9yP3RoaXMuZm9yd2FyZE1lcmNhdG9yKGEuTG9uLGEuTGF0KS5sb246CmEuTG9ufSxnZXRMYXRpdHVkZUZyb21NYXBPYmplY3RMb25MYXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc3BoZXJpY2FsTWVyY2F0b3I/dGhpcy5mb3J3YXJkTWVyY2F0b3IoYS5Mb24sYS5MYXQpLmxhdDphLkxhdH0sZ2V0TWFwT2JqZWN0TG9uTGF0RnJvbUxvbkxhdDpmdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuc3BoZXJpY2FsTWVyY2F0b3I/KGM9dGhpcy5pbnZlcnNlTWVyY2F0b3IoYSxiKSxjPW5ldyBZR2VvUG9pbnQoYy5sYXQsYy5sb24pKTpjPW5ldyBZR2VvUG9pbnQoYixhKTtyZXR1cm4gY30sZ2V0WEZyb21NYXBPYmplY3RQaXhlbDpmdW5jdGlvbihhKXtyZXR1cm4gYS54fSxnZXRZRnJvbU1hcE9iamVjdFBpeGVsOmZ1bmN0aW9uKGEpe3JldHVybiBhLnl9LGdldE1hcE9iamVjdFBpeGVsRnJvbVhZOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBZQ29vcmRQb2ludChhLGIpfSxnZXRNYXBPYmplY3RTaXplRnJvbU9MU2l6ZTpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IFlTaXplKGEudywKYS5oKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5ZYWhvbyJ9KTsKT3BlbkxheWVycy5MYXllci5HTUw9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkxheWVyLlZlY3Rvcix7bG9hZGVkOiExLGZvcm1hdDpudWxsLGZvcm1hdE9wdGlvbnM6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXTtkLnB1c2goYSxjKTtPcGVuTGF5ZXJzLkxheWVyLlZlY3Rvci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGQpO3RoaXMudXJsPWJ9LHNldFZpc2liaWxpdHk6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLkxheWVyLlZlY3Rvci5wcm90b3R5cGUuc2V0VmlzaWJpbGl0eS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy52aXNpYmlsaXR5JiYhdGhpcy5sb2FkZWQmJnRoaXMubG9hZEdNTCgpfSxtb3ZlVG86ZnVuY3Rpb24oYSxiLGMpe09wZW5MYXllcnMuTGF5ZXIuVmVjdG9yLnByb3RvdHlwZS5tb3ZlVG8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMudmlzaWJpbGl0eSYmIXRoaXMubG9hZGVkJiZ0aGlzLmxvYWRHTUwoKX0sCmxvYWRHTUw6ZnVuY3Rpb24oKXt0aGlzLmxvYWRlZHx8KHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgibG9hZHN0YXJ0IiksT3BlbkxheWVycy5SZXF1ZXN0LkdFVCh7dXJsOnRoaXMudXJsLHN1Y2Nlc3M6dGhpcy5yZXF1ZXN0U3VjY2VzcyxmYWlsdXJlOnRoaXMucmVxdWVzdEZhaWx1cmUsc2NvcGU6dGhpc30pLHRoaXMubG9hZGVkPSEwKX0sc2V0VXJsOmZ1bmN0aW9uKGEpe3RoaXMudXJsPWE7dGhpcy5kZXN0cm95RmVhdHVyZXMoKTt0aGlzLmxvYWRlZD0hMTt0aGlzLmxvYWRHTUwoKX0scmVxdWVzdFN1Y2Nlc3M6ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXNwb25zZVhNTDtpZighYnx8IWIuZG9jdW1lbnRFbGVtZW50KWI9YS5yZXNwb25zZVRleHQ7YT17fTtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGEsdGhpcy5mb3JtYXRPcHRpb25zKTt0aGlzLm1hcCYmIXRoaXMucHJvamVjdGlvbi5lcXVhbHModGhpcy5tYXAuZ2V0UHJvamVjdGlvbk9iamVjdCgpKSYmKGEuZXh0ZXJuYWxQcm9qZWN0aW9uPQp0aGlzLnByb2plY3Rpb24sYS5pbnRlcm5hbFByb2plY3Rpb249dGhpcy5tYXAuZ2V0UHJvamVjdGlvbk9iamVjdCgpKTthPXRoaXMuZm9ybWF0P25ldyB0aGlzLmZvcm1hdChhKTpuZXcgT3BlbkxheWVycy5Gb3JtYXQuR01MKGEpO3RoaXMuYWRkRmVhdHVyZXMoYS5yZWFkKGIpKTt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvYWRlbmQiKX0scmVxdWVzdEZhaWx1cmU6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkNvbnNvbGUudXNlckVycm9yKCJFcnJvciBpbiBsb2FkaW5nIEdNTCBmaWxlICIrdGhpcy51cmwpO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgibG9hZGVuZCIpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLkdNTCJ9KTsKT3BlbkxheWVycy5HZW9tZXRyeS5SZWN0YW5nbGU9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkdlb21ldHJ5LHt4Om51bGwseTpudWxsLHdpZHRoOm51bGwsaGVpZ2h0Om51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyxkKXtPcGVuTGF5ZXJzLkdlb21ldHJ5LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLng9YTt0aGlzLnk9Yjt0aGlzLndpZHRoPWM7dGhpcy5oZWlnaHQ9ZH0sY2FsY3VsYXRlQm91bmRzOmZ1bmN0aW9uKCl7dGhpcy5ib3VuZHM9bmV3IE9wZW5MYXllcnMuQm91bmRzKHRoaXMueCx0aGlzLnksdGhpcy54K3RoaXMud2lkdGgsdGhpcy55K3RoaXMuaGVpZ2h0KX0sZ2V0TGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIDIqdGhpcy53aWR0aCsyKnRoaXMuaGVpZ2h0fSxnZXRBcmVhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2lkdGgqdGhpcy5oZWlnaHR9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuR2VvbWV0cnkuUmVjdGFuZ2xlIn0pOwpPcGVuTGF5ZXJzLlJlbmRlcmVyLk5HPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5SZW5kZXJlci5FbGVtZW50cyx7bGFiZWxOb2RlVHlwZTpudWxsLHVwZGF0ZURpbWVuc2lvbnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm1hcC5nZXRFeHRlbnQoKSxiPWEuc2NhbGUoMyk7dGhpcy5zZXRFeHRlbnQoYiwhMCk7dmFyIGM9dGhpcy5nZXRSZXNvbHV0aW9uKCksZD10aGlzLnJlbmRlcmVyUm9vdC5wYXJlbnROb2RlLGU9cGFyc2VGbG9hdChkLnBhcmVudE5vZGUuc3R5bGUubGVmdCksZj1wYXJzZUZsb2F0KGQucGFyZW50Tm9kZS5zdHlsZS50b3ApO2Quc3R5bGUubGVmdD0oYi5sZWZ0LWEubGVmdCkvYy1lKyJweCI7ZC5zdHlsZS50b3A9KGEudG9wLWIudG9wKS9jLWYrInB4In0sc2V0U2l6ZTpmdW5jdGlvbigpe3RoaXMubWFwLmdldEV4dGVudCgpJiZ0aGlzLnVwZGF0ZURpbWVuc2lvbnMoKX0sZHJhd0ZlYXR1cmU6ZnVuY3Rpb24oYSxiKXtudWxsPT1iJiYoYj1hLnN0eWxlKTtpZihhLmdlb21ldHJ5KXt2YXIgYz0KdGhpcy5kcmF3R2VvbWV0cnkoYS5nZW9tZXRyeSxiLGEuaWQpO2lmKCExIT09YyYmYi5sYWJlbCl7dmFyIGQ9YS5nZW9tZXRyeS5nZXRDZW50cm9pZCgpO3RoaXMuZHJhd1RleHQoYS5pZCxiLGQpfWVsc2UgdGhpcy5yZW1vdmVUZXh0KGEuaWQpO3JldHVybiBjfX0sZHJhd1RleHQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkOyJzdHJpbmciIT09dHlwZW9mIGE/ZD1hOihkPXRoaXMubm9kZUZhY3RvcnkoYSt0aGlzLkxBQkVMX0lEX1NVRkZJWCx0aGlzLmxhYmVsTm9kZVR5cGUpLGQuX2ZlYXR1cmVJZD1hKTtkLl9zdHlsZT1iO2QuX3g9Yy54O2QuX3k9Yy55O2lmKGIubGFiZWxYT2Zmc2V0fHxiLmxhYmVsWU9mZnNldCl7dmFyIGE9aXNOYU4oYi5sYWJlbFhPZmZzZXQpPzA6Yi5sYWJlbFhPZmZzZXQsYj1pc05hTihiLmxhYmVsWU9mZnNldCk/MDpiLmxhYmVsWU9mZnNldCxlPXRoaXMuZ2V0UmVzb2x1dGlvbigpO2MubW92ZShhKmUsYiplKX1kLnBhcmVudE5vZGUhPT10aGlzLnRleHRSb290JiYKdGhpcy50ZXh0Um9vdC5hcHBlbmRDaGlsZChkKTtyZXR1cm4gZH0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5SZW5kZXJlci5ORyJ9KTsKKGZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5MYXllci5WZWN0b3IucHJvdG90eXBlLm1vdmVUbztPcGVuTGF5ZXJzLkxheWVyLlZlY3Rvci5wcm90b3R5cGUubW92ZVRvPWZ1bmN0aW9uKGIsZCxlKXtpZihPcGVuTGF5ZXJzLlJlbmRlcmVyLk5HJiZ0aGlzLnJlbmRlcmVyIGluc3RhbmNlb2YgT3BlbkxheWVycy5SZW5kZXJlci5ORyl7aWYoT3BlbkxheWVycy5MYXllci5wcm90b3R5cGUubW92ZVRvLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlfHx0aGlzLnJlbmRlcmVyLnVwZGF0ZURpbWVuc2lvbnMoZCksIXRoaXMuZHJhd24pe3RoaXMuZHJhd249ITA7Zm9yKHZhciBmLGc9MCxoPXRoaXMuZmVhdHVyZXMubGVuZ3RoO2c8aDtnKyspdGhpcy5yZW5kZXJlci5sb2NrZWQ9ZyE9PWgtMSxmPXRoaXMuZmVhdHVyZXNbZ10sdGhpcy5kcmF3RmVhdHVyZShmKX19ZWxzZSBhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIGI9T3BlbkxheWVycy5MYXllci5WZWN0b3IucHJvdG90eXBlLnJlZHJhdzsKT3BlbkxheWVycy5MYXllci5WZWN0b3IucHJvdG90eXBlLnJlZHJhdz1mdW5jdGlvbigpe09wZW5MYXllcnMuUmVuZGVyZXIuTkcmJnRoaXMucmVuZGVyZXIgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLlJlbmRlcmVyLk5HJiYodGhpcy5kcmF3bj0hMSk7Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSkoKTsKT3BlbkxheWVycy5SZW5kZXJlci5TVkcyPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5SZW5kZXJlci5ORyx7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix4bGlua25zOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIixzeW1ib2xNZXRyaWNzOm51bGwsbGFiZWxOb2RlVHlwZToiZyIsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXt0aGlzLnN1cHBvcnRlZCgpJiYoT3BlbkxheWVycy5SZW5kZXJlci5FbGVtZW50cy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5zeW1ib2xNZXRyaWNzPXt9KX0sc3VwcG9ydGVkOmZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmltcGxlbWVudGF0aW9uJiYoZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZSgib3JnLnczYy5zdmciLCIxLjAiKXx8ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZSgiaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNTVkciLAoiMS4xIil8fGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUoImh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjQmFzaWNTdHJ1Y3R1cmUiLCIxLjEiKSl9LHVwZGF0ZURpbWVuc2lvbnM6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5SZW5kZXJlci5ORy5wcm90b3R5cGUudXBkYXRlRGltZW5zaW9ucy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGI9dGhpcy5nZXRSZXNvbHV0aW9uKCksYz10aGlzLmV4dGVudC5nZXRXaWR0aCgpLGQ9dGhpcy5leHRlbnQuZ2V0SGVpZ2h0KCksZT1bdGhpcy5leHRlbnQubGVmdCwtdGhpcy5leHRlbnQudG9wLGMsZF0uam9pbigiICIpO3RoaXMucmVuZGVyZXJSb290LnNldEF0dHJpYnV0ZU5TKG51bGwsInZpZXdCb3giLGUpO3RoaXMucmVuZGVyZXJSb290LnNldEF0dHJpYnV0ZU5TKG51bGwsIndpZHRoIixjL2IpO3RoaXMucmVuZGVyZXJSb290LnNldEF0dHJpYnV0ZU5TKG51bGwsImhlaWdodCIsZC9iKTtpZighMD09PWEpe2Q9CnRoaXMudmVjdG9yUm9vdC5jaGlsZE5vZGVzO2I9MDtmb3IoYz1kLmxlbmd0aDtiPGM7KytiKXRoaXMuc2V0U3R5bGUoZFtiXSk7ZD10aGlzLnRleHRSb290LmNoaWxkTm9kZXM7Yj0wO2ZvcihjPWQubGVuZ3RoO2I8YzsrK2IpZT1kW2JdLHRoaXMuZHJhd1RleHQoZSxlLl9zdHlsZSxuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChlLl94LGUuX3kpKX19LGdldE5vZGVUeXBlOmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtzd2l0Y2goYS5DTEFTU19OQU1FKXtjYXNlICJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50IjpjPWIuZXh0ZXJuYWxHcmFwaGljPyJpbWFnZSI6dGhpcy5pc0NvbXBsZXhTeW1ib2woYi5ncmFwaGljTmFtZSk/InN2ZyI6ImNpcmNsZSI7YnJlYWs7Y2FzZSAiT3BlbkxheWVycy5HZW9tZXRyeS5SZWN0YW5nbGUiOmM9InJlY3QiO2JyZWFrO2Nhc2UgIk9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZyI6Yz0icG9seWxpbmUiO2JyZWFrO2Nhc2UgIk9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyI6Yz0KInBvbHlnb24iO2JyZWFrO2Nhc2UgIk9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbiI6Y2FzZSAiT3BlbkxheWVycy5HZW9tZXRyeS5DdXJ2ZSI6Yz0icGF0aCJ9cmV0dXJuIGN9LHNldFN0eWxlOmZ1bmN0aW9uKGEsYixjKXt2YXIgYj1ifHxhLl9zdHlsZSxjPWN8fGEuX29wdGlvbnMsZD10aGlzLmdldFJlc29sdXRpb24oKSxlPWEuX3JhZGl1cyxmPWQ7aWYoIk9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQiPT1hLl9nZW9tZXRyeUNsYXNzJiZlKXthLnN0eWxlLnZpc2liaWxpdHk9IiI7aWYoITE9PT1iLmdyYXBoaWMpYS5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iO2Vsc2UgaWYoYi5leHRlcm5hbEdyYXBoaWMpe2IuZ3JhcGhpY1RpdGxlJiYoYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ0aXRsZSIsYi5ncmFwaGljVGl0bGUpLGU9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGl0bGUiKSwwPGUubGVuZ3RoP2VbMF0uZmlyc3RDaGlsZC50ZXh0Q29udGVudD1iLmdyYXBoaWNUaXRsZTooZT0KdGhpcy5ub2RlRmFjdG9yeShudWxsLCJ0aXRsZSIpLGUudGV4dENvbnRlbnQ9Yi5ncmFwaGljVGl0bGUsYS5hcHBlbmRDaGlsZChlKSkpO2IuZ3JhcGhpY1dpZHRoJiZiLmdyYXBoaWNIZWlnaHQmJmEuc2V0QXR0cmlidXRlTlMobnVsbCwicHJlc2VydmVBc3BlY3RSYXRpbyIsIm5vbmUiKTt2YXIgZT1iLmdyYXBoaWNXaWR0aHx8Yi5ncmFwaGljSGVpZ2h0LGc9Yi5ncmFwaGljSGVpZ2h0fHxiLmdyYXBoaWNXaWR0aCxlPWU/ZToyKmIucG9pbnRSYWRpdXMsZz1nP2c6MipiLnBvaW50UmFkaXVzLGU9ZSpkLGc9ZypkLGg9dm9pZCAwIT1iLmdyYXBoaWNZT2Zmc2V0P2IuZ3JhcGhpY1lPZmZzZXQqZDotKDAuNSpnKSxpPWIuZ3JhcGhpY09wYWNpdHl8fGIuZmlsbE9wYWNpdHk7YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ4IixhLl94Kyh2b2lkIDAhPWIuZ3JhcGhpY1hPZmZzZXQ/Yi5ncmFwaGljWE9mZnNldCpkOi0oMC41KmUpKSk7YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ5IixhLl95K2gpOwphLnNldEF0dHJpYnV0ZU5TKG51bGwsIndpZHRoIixlKTthLnNldEF0dHJpYnV0ZU5TKG51bGwsImhlaWdodCIsZyk7YS5zZXRBdHRyaWJ1dGVOUyh0aGlzLnhsaW5rbnMsImhyZWYiLGIuZXh0ZXJuYWxHcmFwaGljKTthLnNldEF0dHJpYnV0ZU5TKG51bGwsInN0eWxlIiwib3BhY2l0eTogIitpKTthLm9uY2xpY2s9T3BlbkxheWVycy5SZW5kZXJlci5TVkcyLnByZXZlbnREZWZhdWx0fWVsc2UgaWYodGhpcy5pc0NvbXBsZXhTeW1ib2woYi5ncmFwaGljTmFtZSkpe3ZhciBlPTMqYi5wb2ludFJhZGl1cypkLGc9MiplLGo9dGhpcy5pbXBvcnRTeW1ib2woYi5ncmFwaGljTmFtZSksZj0zKnRoaXMuc3ltYm9sTWV0cmljc1tqLmlkXS5zaXplL2cqZCxkPWEucGFyZW50Tm9kZSxoPWEubmV4dFNpYmxpbmc7ZCYmZC5yZW1vdmVDaGlsZChhKTthLmZpcnN0Q2hpbGQmJmEucmVtb3ZlQ2hpbGQoYS5maXJzdENoaWxkKTthLmFwcGVuZENoaWxkKGouZmlyc3RDaGlsZC5jbG9uZU5vZGUoITApKTsKYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ2aWV3Qm94IixqLmdldEF0dHJpYnV0ZU5TKG51bGwsInZpZXdCb3giKSk7YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ3aWR0aCIsZyk7YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJoZWlnaHQiLGcpO2Euc2V0QXR0cmlidXRlTlMobnVsbCwieCIsYS5feC1lKTthLnNldEF0dHJpYnV0ZU5TKG51bGwsInkiLGEuX3ktZSk7aD9kLmluc2VydEJlZm9yZShhLGgpOmQmJmQuYXBwZW5kQ2hpbGQoYSl9ZWxzZSBhLnNldEF0dHJpYnV0ZU5TKG51bGwsInIiLGIucG9pbnRSYWRpdXMqZCk7ZD1iLnJvdGF0aW9uO2lmKHZvaWQgMCE9PWR8fHZvaWQgMCE9PWEuX3JvdGF0aW9uKWEuX3JvdGF0aW9uPWQsZHw9MCwic3ZnIiE9PWEubm9kZU5hbWU/YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ0cmFuc2Zvcm0iLFsicm90YXRlKCIsZCxhLl94LGEuX3ksIikiXS5qb2luKCIgIikpOihqPXRoaXMuc3ltYm9sTWV0cmljc1tqLmlkXSxhLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlTlMobnVsbCwKInRyYW5zZm9ybSIsWyJyb3RhdGUoIixkLGoueCxqLnksIikiXS5qb2luKCIgIikpKX1jLmlzRmlsbGVkPyhhLnNldEF0dHJpYnV0ZU5TKG51bGwsImZpbGwiLGIuZmlsbENvbG9yKSxhLnNldEF0dHJpYnV0ZU5TKG51bGwsImZpbGwtb3BhY2l0eSIsYi5maWxsT3BhY2l0eSkpOmEuc2V0QXR0cmlidXRlTlMobnVsbCwiZmlsbCIsIm5vbmUiKTtjLmlzU3Ryb2tlZD8oYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJzdHJva2UiLGIuc3Ryb2tlQ29sb3IpLGEuc2V0QXR0cmlidXRlTlMobnVsbCwic3Ryb2tlLW9wYWNpdHkiLGIuc3Ryb2tlT3BhY2l0eSksYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJzdHJva2Utd2lkdGgiLGIuc3Ryb2tlV2lkdGgqZiksYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJzdHJva2UtbGluZWNhcCIsYi5zdHJva2VMaW5lY2FwfHwicm91bmQiKSxhLnNldEF0dHJpYnV0ZU5TKG51bGwsInN0cm9rZS1saW5lam9pbiIsInJvdW5kIiksYi5zdHJva2VEYXNoc3R5bGUmJmEuc2V0QXR0cmlidXRlTlMobnVsbCwKInN0cm9rZS1kYXNoYXJyYXkiLHRoaXMuZGFzaFN0eWxlKGIsZikpKTphLnNldEF0dHJpYnV0ZU5TKG51bGwsInN0cm9rZSIsIm5vbmUiKTtiLnBvaW50ZXJFdmVudHMmJmEuc2V0QXR0cmlidXRlTlMobnVsbCwicG9pbnRlci1ldmVudHMiLGIucG9pbnRlckV2ZW50cyk7bnVsbCE9Yi5jdXJzb3ImJmEuc2V0QXR0cmlidXRlTlMobnVsbCwiY3Vyc29yIixiLmN1cnNvcik7cmV0dXJuIGF9LGRhc2hTdHlsZTpmdW5jdGlvbihhLGIpe3ZhciBjPWEuc3Ryb2tlV2lkdGgqYixkPWEuc3Ryb2tlRGFzaHN0eWxlO3N3aXRjaChkKXtjYXNlICJzb2xpZCI6cmV0dXJuIm5vbmUiO2Nhc2UgImRvdCI6cmV0dXJuW2IsNCpjXS5qb2luKCk7Y2FzZSAiZGFzaCI6cmV0dXJuWzQqYyw0KmNdLmpvaW4oKTtjYXNlICJkYXNoZG90IjpyZXR1cm5bNCpjLDQqYyxiLDQqY10uam9pbigpO2Nhc2UgImxvbmdkYXNoIjpyZXR1cm5bOCpjLDQqY10uam9pbigpO2Nhc2UgImxvbmdkYXNoZG90IjpyZXR1cm5bOCpjLAo0KmMsYiw0KmNdLmpvaW4oKTtkZWZhdWx0OmZvcih2YXIgYz1PcGVuTGF5ZXJzLlN0cmluZy50cmltKGQpLnNwbGl0KC9ccysvZyksZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKyljW2RdKj1iO3JldHVybiBjLmpvaW4oKX19LGNyZWF0ZU5vZGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlModGhpcy54bWxucyxhKTtiJiZjLnNldEF0dHJpYnV0ZU5TKG51bGwsImlkIixiKTtyZXR1cm4gY30sbm9kZVR5cGVDb21wYXJlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI9PWEubm9kZU5hbWV9LGNyZWF0ZVJlbmRlclJvb3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlRmFjdG9yeSh0aGlzLmNvbnRhaW5lci5pZCsiX3N2Z1Jvb3QiLCJzdmciKX0sY3JlYXRlUm9vdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5ub2RlRmFjdG9yeSh0aGlzLmNvbnRhaW5lci5pZCthLCJnIil9LGNyZWF0ZURlZnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm5vZGVGYWN0b3J5KHRoaXMuY29udGFpbmVyLmlkKwoiX2RlZnMiLCJkZWZzIik7dGhpcy5yZW5kZXJlclJvb3QuYXBwZW5kQ2hpbGQoYSk7cmV0dXJuIGF9LGRyYXdQb2ludDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmRyYXdDaXJjbGUoYSxiLDEpfSxkcmF3Q2lyY2xlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1iLngsYj0tYi55O2Euc2V0QXR0cmlidXRlTlMobnVsbCwiY3giLGQpO2Euc2V0QXR0cmlidXRlTlMobnVsbCwiY3kiLGIpO2EuX3g9ZDthLl95PWI7YS5fcmFkaXVzPWM7cmV0dXJuIGF9LGRyYXdMaW5lU3RyaW5nOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDb21wb25lbnRzU3RyaW5nKGIuY29tcG9uZW50cyk7YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJwb2ludHMiLGMpO3JldHVybiBhfSxkcmF3TGluZWFyUmluZzpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q29tcG9uZW50c1N0cmluZyhiLmNvbXBvbmVudHMpO2Euc2V0QXR0cmlidXRlTlMobnVsbCwicG9pbnRzIixjKTtyZXR1cm4gYX0sZHJhd1BvbHlnb246ZnVuY3Rpb24oYSwKYil7Zm9yKHZhciBjPVtdLGQsZT0wLGY9Yi5jb21wb25lbnRzLmxlbmd0aDtlPGY7ZSsrKWMucHVzaCgiTSIpLGQ9dGhpcy5nZXRDb21wb25lbnRzU3RyaW5nKGIuY29tcG9uZW50c1tlXS5jb21wb25lbnRzLCIgIiksYy5wdXNoKGQpO2MucHVzaCgieiIpO2Euc2V0QXR0cmlidXRlTlMobnVsbCwiZCIsYy5qb2luKCIgIikpO2Euc2V0QXR0cmlidXRlTlMobnVsbCwiZmlsbC1ydWxlIiwiZXZlbm9kZCIpO3JldHVybiBhfSxkcmF3UmVjdGFuZ2xlOmZ1bmN0aW9uKGEsYil7YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ4IixiLngpO2Euc2V0QXR0cmlidXRlTlMobnVsbCwieSIsLWIueSk7YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ3aWR0aCIsYi53aWR0aCk7YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJoZWlnaHQiLGIuaGVpZ2h0KTtyZXR1cm4gYX0sZHJhd1RleHQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPU9wZW5MYXllcnMuUmVuZGVyZXIuTkcucHJvdG90eXBlLmRyYXdUZXh0LmFwcGx5KHRoaXMsCmFyZ3VtZW50cyksZT1kLmZpcnN0Q2hpbGR8fHRoaXMubm9kZUZhY3RvcnkoYSt0aGlzLkxBQkVMX0lEX1NVRkZJWCsiX3RleHQiLCJ0ZXh0IiksZj10aGlzLmdldFJlc29sdXRpb24oKTtlLnNldEF0dHJpYnV0ZU5TKG51bGwsIngiLGMueC9mKTtlLnNldEF0dHJpYnV0ZU5TKG51bGwsInkiLC1jLnkvZik7ZC5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ0cmFuc2Zvcm0iLCJzY2FsZSgiK2YrIikiKTtiLmZvbnRDb2xvciYmZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmaWxsIixiLmZvbnRDb2xvcik7Yi5mb250T3BhY2l0eSYmZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJvcGFjaXR5IixiLmZvbnRPcGFjaXR5KTtiLmZvbnRGYW1pbHkmJmUuc2V0QXR0cmlidXRlTlMobnVsbCwiZm9udC1mYW1pbHkiLGIuZm9udEZhbWlseSk7Yi5mb250U2l6ZSYmZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmb250LXNpemUiLGIuZm9udFNpemUpO2IuZm9udFdlaWdodCYmZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmb250LXdlaWdodCIsCmIuZm9udFdlaWdodCk7Yi5mb250U3R5bGUmJmUuc2V0QXR0cmlidXRlTlMobnVsbCwiZm9udC1zdHlsZSIsYi5mb250U3R5bGUpOyEwPT09Yi5sYWJlbFNlbGVjdD8oZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJwb2ludGVyLWV2ZW50cyIsInZpc2libGUiKSxlLl9mZWF0dXJlSWQ9YSk6ZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJwb2ludGVyLWV2ZW50cyIsIm5vbmUiKTt2YXIgZz1iLmxhYmVsQWxpZ258fE9wZW5MYXllcnMuUmVuZGVyZXIuZGVmYXVsdFN5bWJvbGl6ZXIubGFiZWxBbGlnbjtlLnNldEF0dHJpYnV0ZU5TKG51bGwsInRleHQtYW5jaG9yIixPcGVuTGF5ZXJzLlJlbmRlcmVyLlNWRzIuTEFCRUxfQUxJR05bZ1swXV18fCJtaWRkbGUiKTshMD09PU9wZW5MYXllcnMuSVNfR0VDS08mJmUuc2V0QXR0cmlidXRlTlMobnVsbCwiZG9taW5hbnQtYmFzZWxpbmUiLE9wZW5MYXllcnMuUmVuZGVyZXIuU1ZHMi5MQUJFTF9BTElHTltnWzFdXXx8ImNlbnRyYWwiKTtmb3IodmFyIGg9Yi5sYWJlbC5zcGxpdCgiXG4iKSwKaT1oLmxlbmd0aDtlLmNoaWxkTm9kZXMubGVuZ3RoPmk7KWUucmVtb3ZlQ2hpbGQoZS5sYXN0Q2hpbGQpO2Zvcih2YXIgaj0wO2o8aTtqKyspe3ZhciBrPWUuY2hpbGROb2Rlc1tqXXx8dGhpcy5ub2RlRmFjdG9yeShhK3RoaXMuTEFCRUxfSURfU1VGRklYKyJfdHNwYW5fIitqLCJ0c3BhbiIpOyEwPT09Yi5sYWJlbFNlbGVjdCYmKGsuX2ZlYXR1cmVJZD1hKTshMT09PU9wZW5MYXllcnMuSVNfR0VDS08mJmsuc2V0QXR0cmlidXRlTlMobnVsbCwiYmFzZWxpbmUtc2hpZnQiLE9wZW5MYXllcnMuUmVuZGVyZXIuU1ZHMi5MQUJFTF9WU0hJRlRbZ1sxXV18fCItMzUlIik7ay5zZXRBdHRyaWJ1dGUoIngiLGMueC9mKTtpZigwPT1qKXt2YXIgbD1PcGVuTGF5ZXJzLlJlbmRlcmVyLlNWRzIuTEFCRUxfVkZBQ1RPUltnWzFdXTtudWxsPT1sJiYobD0tMC41KTtrLnNldEF0dHJpYnV0ZSgiZHkiLGwqKGktMSkrImVtIil9ZWxzZSBrLnNldEF0dHJpYnV0ZSgiZHkiLCIxZW0iKTtrLnRleHRDb250ZW50PQoiIj09PWhbal0/IiAiOmhbal07ay5wYXJlbnROb2RlfHxlLmFwcGVuZENoaWxkKGspfWUucGFyZW50Tm9kZXx8ZC5hcHBlbmRDaGlsZChlKTtyZXR1cm4gZH0sZ2V0Q29tcG9uZW50c1N0cmluZzpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1hLmxlbmd0aCxkPUFycmF5KGMpLGU9MDtlPGM7ZSsrKWRbZV09dGhpcy5nZXRTaG9ydFN0cmluZyhhW2VdKTtyZXR1cm4gZC5qb2luKGJ8fCIsIil9LGdldFNob3J0U3RyaW5nOmZ1bmN0aW9uKGEpe3JldHVybiBhLngrIiwiKy1hLnl9LGltcG9ydFN5bWJvbDpmdW5jdGlvbihhKXt0aGlzLmRlZnN8fCh0aGlzLmRlZnM9dGhpcy5jcmVhdGVEZWZzKCkpO3ZhciBiPXRoaXMuY29udGFpbmVyLmlkKyItIithLGM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYik7aWYobnVsbCE9YylyZXR1cm4gYzt2YXIgZD1PcGVuTGF5ZXJzLlJlbmRlcmVyLnN5bWJvbFthXTtpZighZCl0aHJvdyBFcnJvcihhKyIgaXMgbm90IGEgdmFsaWQgc3ltYm9sIG5hbWUiKTsKdmFyIGE9dGhpcy5ub2RlRmFjdG9yeShiLCJzeW1ib2wiKSxlPXRoaXMubm9kZUZhY3RvcnkobnVsbCwicG9seWdvbiIpO2EuYXBwZW5kQ2hpbGQoZSk7Zm9yKHZhciBjPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsMCwwKSxmPVtdLGcsaCxpPTAsaj1kLmxlbmd0aDtpPGo7aSs9MilnPWRbaV0saD1kW2krMV0sYy5sZWZ0PU1hdGgubWluKGMubGVmdCxnKSxjLmJvdHRvbT1NYXRoLm1pbihjLmJvdHRvbSxoKSxjLnJpZ2h0PU1hdGgubWF4KGMucmlnaHQsZyksYy50b3A9TWF0aC5tYXgoYy50b3AsaCksZi5wdXNoKGcsIiwiLGgpO2Uuc2V0QXR0cmlidXRlTlMobnVsbCwicG9pbnRzIixmLmpvaW4oIiAiKSk7ZD1jLmdldFdpZHRoKCk7ZT1jLmdldEhlaWdodCgpO2Euc2V0QXR0cmlidXRlTlMobnVsbCwidmlld0JveCIsW2MubGVmdC1kLGMuYm90dG9tLWUsMypkLDMqZV0uam9pbigiICIpKTt0aGlzLnN5bWJvbE1ldHJpY3NbYl09CntzaXplOk1hdGgubWF4KGQsZSkseDpjLmdldENlbnRlckxvbkxhdCgpLmxvbix5OmMuZ2V0Q2VudGVyTG9uTGF0KCkubGF0fTt0aGlzLmRlZnMuYXBwZW5kQ2hpbGQoYSk7cmV0dXJuIGF9LGdldEZlYXR1cmVJZEZyb21FdmVudDpmdW5jdGlvbihhKXt2YXIgYj1PcGVuTGF5ZXJzLlJlbmRlcmVyLkVsZW1lbnRzLnByb3RvdHlwZS5nZXRGZWF0dXJlSWRGcm9tRXZlbnQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2J8fChiPWEudGFyZ2V0LGI9Yi5wYXJlbnROb2RlJiZiIT10aGlzLnJlbmRlcmVyUm9vdD9iLnBhcmVudE5vZGUuX2ZlYXR1cmVJZDp2b2lkIDApO3JldHVybiBifSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlJlbmRlcmVyLlNWRzIifSk7T3BlbkxheWVycy5SZW5kZXJlci5TVkcyLkxBQkVMX0FMSUdOPXtsOiJzdGFydCIscjoiZW5kIixiOiJib3R0b20iLHQ6ImhhbmdpbmcifTtPcGVuTGF5ZXJzLlJlbmRlcmVyLlNWRzIuTEFCRUxfVlNISUZUPXt0OiItNzAlIixiOiIwIn07Ck9wZW5MYXllcnMuUmVuZGVyZXIuU1ZHMi5MQUJFTF9WRkFDVE9SPXt0OjAsYjotMX07T3BlbkxheWVycy5SZW5kZXJlci5TVkcyLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQmJmEucHJldmVudERlZmF1bHQoKX07Ck9wZW5MYXllcnMuUG9wdXAuQW5jaG9yZWRCdWJibGU9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlBvcHVwLkFuY2hvcmVkLHtyb3VuZGVkOiExLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dGhpcy5wYWRkaW5nPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcygwLE9wZW5MYXllcnMuUG9wdXAuQW5jaG9yZWRCdWJibGUuQ09STkVSX1NJWkUsMCxPcGVuTGF5ZXJzLlBvcHVwLkFuY2hvcmVkQnViYmxlLkNPUk5FUl9TSVpFKTtPcGVuTGF5ZXJzLlBvcHVwLkFuY2hvcmVkLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZHJhdzpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlBvcHVwLkFuY2hvcmVkLnByb3RvdHlwZS5kcmF3LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLnNldENvbnRlbnRIVE1MKCk7dGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IoKTt0aGlzLnNldE9wYWNpdHkoKTtyZXR1cm4gdGhpcy5kaXZ9LHVwZGF0ZVJlbGF0aXZlUG9zaXRpb246ZnVuY3Rpb24oKXt0aGlzLnNldFJpY29Db3JuZXJzKCl9LApzZXRTaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuUG9wdXAuQW5jaG9yZWQucHJvdG90eXBlLnNldFNpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuc2V0Umljb0Nvcm5lcnMoKX0sc2V0QmFja2dyb3VuZENvbG9yOmZ1bmN0aW9uKGEpe3ZvaWQgMCE9YSYmKHRoaXMuYmFja2dyb3VuZENvbG9yPWEpO251bGwhPXRoaXMuZGl2JiZudWxsIT10aGlzLmNvbnRlbnREaXYmJih0aGlzLmRpdi5zdHlsZS5iYWNrZ3JvdW5kPSJ0cmFuc3BhcmVudCIsT3BlbkxheWVycy5SaWNvLkNvcm5lci5jaGFuZ2VDb2xvcih0aGlzLmdyb3VwRGl2LHRoaXMuYmFja2dyb3VuZENvbG9yKSl9LHNldE9wYWNpdHk6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Qb3B1cC5BbmNob3JlZC5wcm90b3R5cGUuc2V0T3BhY2l0eS5jYWxsKHRoaXMsYSk7bnVsbCE9dGhpcy5kaXYmJm51bGwhPXRoaXMuZ3JvdXBEaXYmJk9wZW5MYXllcnMuUmljby5Db3JuZXIuY2hhbmdlT3BhY2l0eSh0aGlzLmdyb3VwRGl2LHRoaXMub3BhY2l0eSl9LApzZXRCb3JkZXI6ZnVuY3Rpb24oKXt0aGlzLmJvcmRlcj0wfSxzZXRSaWNvQ29ybmVyczpmdW5jdGlvbigpe3ZhciBhPXtjb3JuZXJzOnRoaXMuZ2V0Q29ybmVyc1RvUm91bmQodGhpcy5yZWxhdGl2ZVBvc2l0aW9uKSxjb2xvcjp0aGlzLmJhY2tncm91bmRDb2xvcixiZ0NvbG9yOiJ0cmFuc3BhcmVudCIsYmxlbmQ6ITF9O3RoaXMucm91bmRlZD8oT3BlbkxheWVycy5SaWNvLkNvcm5lci5yZVJvdW5kKHRoaXMuZ3JvdXBEaXYsYSksdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IoKSx0aGlzLnNldE9wYWNpdHkoKSk6KE9wZW5MYXllcnMuUmljby5Db3JuZXIucm91bmQodGhpcy5kaXYsYSksdGhpcy5yb3VuZGVkPSEwKX0sZ2V0Q29ybmVyc1RvUm91bmQ6ZnVuY3Rpb24oKXt2YXIgYT1bInRsIiwidHIiLCJibCIsImJyIl0sYj1PcGVuTGF5ZXJzLkJvdW5kcy5vcHBvc2l0ZVF1YWRyYW50KHRoaXMucmVsYXRpdmVQb3NpdGlvbik7T3BlbkxheWVycy5VdGlsLnJlbW92ZUl0ZW0oYSxiKTtyZXR1cm4gYS5qb2luKCIgIil9LApDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlBvcHVwLkFuY2hvcmVkQnViYmxlIn0pO09wZW5MYXllcnMuUG9wdXAuQW5jaG9yZWRCdWJibGUuQ09STkVSX1NJWkU9NTtPcGVuTGF5ZXJzLkNvbnRyb2wuU3BsaXQ9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse2xheWVyOm51bGwsc291cmNlOm51bGwsc291cmNlT3B0aW9uczpudWxsLHRvbGVyYW5jZTpudWxsLGVkZ2U6ITAsZGVmZXJEZWxldGU6ITEsbXV0dWFsOiEwLHRhcmdldEZpbHRlcjpudWxsLHNvdXJjZUZpbHRlcjpudWxsLGhhbmRsZXI6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSk7dGhpcy5vcHRpb25zPWF8fHt9O3RoaXMub3B0aW9ucy5zb3VyY2UmJnRoaXMuc2V0U291cmNlKHRoaXMub3B0aW9ucy5zb3VyY2UpfSxzZXRTb3VyY2U6ZnVuY3Rpb24oYSl7dGhpcy5hY3RpdmU/KHRoaXMuZGVhY3RpdmF0ZSgpLHRoaXMuaGFuZGxlciYmKHRoaXMuaGFuZGxlci5kZXN0cm95KCksZGVsZXRlIHRoaXMuaGFuZGxlciksdGhpcy5zb3VyY2U9YSx0aGlzLmFjdGl2YXRlKCkpOnRoaXMuc291cmNlPQphfSxhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPU9wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuYWN0aXZhdGUuY2FsbCh0aGlzKTtpZihhKWlmKHRoaXMuc291cmNlKXtpZih0aGlzLnNvdXJjZS5ldmVudHMpdGhpcy5zb3VyY2UuZXZlbnRzLm9uKHtza2V0Y2hjb21wbGV0ZTp0aGlzLm9uU2tldGNoQ29tcGxldGUsYWZ0ZXJmZWF0dXJlbW9kaWZpZWQ6dGhpcy5hZnRlckZlYXR1cmVNb2RpZmllZCxzY29wZTp0aGlzfSl9ZWxzZSB0aGlzLmhhbmRsZXJ8fCh0aGlzLmhhbmRsZXI9bmV3IE9wZW5MYXllcnMuSGFuZGxlci5QYXRoKHRoaXMse2RvbmU6ZnVuY3Rpb24oYSl7dGhpcy5vblNrZXRjaENvbXBsZXRlKHtmZWF0dXJlOm5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKGEpfSl9fSx7bGF5ZXJPcHRpb25zOnRoaXMuc291cmNlT3B0aW9uc30pKSx0aGlzLmhhbmRsZXIuYWN0aXZhdGUoKTtyZXR1cm4gYX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPU9wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZGVhY3RpdmF0ZS5jYWxsKHRoaXMpOwphJiZ0aGlzLnNvdXJjZSYmdGhpcy5zb3VyY2UuZXZlbnRzJiZ0aGlzLnNvdXJjZS5ldmVudHMudW4oe3NrZXRjaGNvbXBsZXRlOnRoaXMub25Ta2V0Y2hDb21wbGV0ZSxhZnRlcmZlYXR1cmVtb2RpZmllZDp0aGlzLmFmdGVyRmVhdHVyZU1vZGlmaWVkLHNjb3BlOnRoaXN9KTtyZXR1cm4gYX0sb25Ta2V0Y2hDb21wbGV0ZTpmdW5jdGlvbihhKXt0aGlzLmZlYXR1cmU9bnVsbDtyZXR1cm4hdGhpcy5jb25zaWRlclNwbGl0KGEuZmVhdHVyZSl9LGFmdGVyRmVhdHVyZU1vZGlmaWVkOmZ1bmN0aW9uKGEpe2EubW9kaWZpZWQmJiJmdW5jdGlvbiI9PT10eXBlb2YgYS5mZWF0dXJlLmdlb21ldHJ5LnNwbGl0JiYodGhpcy5mZWF0dXJlPWEuZmVhdHVyZSx0aGlzLmNvbnNpZGVyU3BsaXQoYS5mZWF0dXJlKSl9LHJlbW92ZUJ5R2VvbWV0cnk6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2M8ZDsrK2MpaWYoYVtjXS5nZW9tZXRyeT09PWIpe2Euc3BsaWNlKGMsMSk7YnJlYWt9fSwKaXNFbGlnaWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5nZW9tZXRyeT9hLnN0YXRlIT09T3BlbkxheWVycy5TdGF0ZS5ERUxFVEUmJiJmdW5jdGlvbiI9PT10eXBlb2YgYS5nZW9tZXRyeS5zcGxpdCYmdGhpcy5mZWF0dXJlIT09YSYmKCF0aGlzLnRhcmdldEZpbHRlcnx8dGhpcy50YXJnZXRGaWx0ZXIuZXZhbHVhdGUoYS5hdHRyaWJ1dGVzKSk6ITF9LGNvbnNpZGVyU3BsaXQ6ZnVuY3Rpb24oYSl7dmFyIGI9ITEsYz0hMTtpZighdGhpcy5zb3VyY2VGaWx0ZXJ8fHRoaXMuc291cmNlRmlsdGVyLmV2YWx1YXRlKGEuYXR0cmlidXRlcykpe2Zvcih2YXIgZD10aGlzLmxheWVyJiZ0aGlzLmxheWVyLmZlYXR1cmVzfHxbXSxlLGYsZz1bXSxoPVtdLGk9dGhpcy5sYXllcj09PXRoaXMuc291cmNlJiZ0aGlzLm11dHVhbCxqPXtlZGdlOnRoaXMuZWRnZSx0b2xlcmFuY2U6dGhpcy50b2xlcmFuY2UsbXV0dWFsOml9LGs9W2EuZ2VvbWV0cnldLGwsbSxuLHA9MCxxPWQubGVuZ3RoO3A8cTsrK3ApaWYobD0KZFtwXSx0aGlzLmlzRWxpZ2libGUobCkpe209W2wuZ2VvbWV0cnldO2Zvcih2YXIgcj0wO3I8ay5sZW5ndGg7KytyKXtuPWtbcl07Zm9yKHZhciBzPTA7czxtLmxlbmd0aDsrK3MpaWYoZT1tW3NdLG4uZ2V0Qm91bmRzKCkuaW50ZXJzZWN0c0JvdW5kcyhlLmdldEJvdW5kcygpKSYmKGU9bi5zcGxpdChlLGopKSlmPXRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiYmVmb3Jlc3BsaXQiLHtzb3VyY2U6YSx0YXJnZXQ6bH0pLCExIT09ZiYmKGkmJihmPWVbMF0sMTxmLmxlbmd0aCYmKGYudW5zaGlmdChyLDEpLEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkoayxmKSxyKz1mLmxlbmd0aC0zKSxlPWVbMV0pLDE8ZS5sZW5ndGgmJihlLnVuc2hpZnQocywxKSxBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KG0sZSkscys9ZS5sZW5ndGgtMykpfW0mJjE8bS5sZW5ndGgmJih0aGlzLmdlb21zVG9GZWF0dXJlcyhsLG0pLHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgic3BsaXQiLHtvcmlnaW5hbDpsLApmZWF0dXJlczptfSksQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoZyxtKSxoLnB1c2gobCksYz0hMCl9ayYmMTxrLmxlbmd0aCYmKHRoaXMuZ2VvbXNUb0ZlYXR1cmVzKGEsayksdGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJzcGxpdCIse29yaWdpbmFsOmEsZmVhdHVyZXM6a30pLEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGcsayksaC5wdXNoKGEpLGI9ITApO2lmKGJ8fGMpe2lmKHRoaXMuZGVmZXJEZWxldGUpe2Q9W107cD0wO2ZvcihxPWgubGVuZ3RoO3A8cTsrK3ApYz1oW3BdLGMuc3RhdGU9PT1PcGVuTGF5ZXJzLlN0YXRlLklOU0VSVD9kLnB1c2goYyk6KGMuc3RhdGU9T3BlbkxheWVycy5TdGF0ZS5ERUxFVEUsdGhpcy5sYXllci5kcmF3RmVhdHVyZShjKSk7dGhpcy5sYXllci5kZXN0cm95RmVhdHVyZXMoZCx7c2lsZW50OiEwfSk7cD0wO2ZvcihxPWcubGVuZ3RoO3A8cTsrK3ApZ1twXS5zdGF0ZT1PcGVuTGF5ZXJzLlN0YXRlLklOU0VSVH1lbHNlIHRoaXMubGF5ZXIuZGVzdHJveUZlYXR1cmVzKGgsCntzaWxlbnQ6ITB9KTt0aGlzLmxheWVyLmFkZEZlYXR1cmVzKGcse3NpbGVudDohMH0pO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiYWZ0ZXJzcGxpdCIse3NvdXJjZTphLGZlYXR1cmVzOmd9KX19cmV0dXJuIGJ9LGdlb21zVG9GZWF0dXJlczpmdW5jdGlvbihhLGIpe3ZhciBjPWEuY2xvbmUoKTtkZWxldGUgYy5nZW9tZXRyeTtmb3IodmFyIGQsZT0wLGY9Yi5sZW5ndGg7ZTxmOysrZSlkPWMuY2xvbmUoKSxkLmdlb21ldHJ5PWJbZV0sZC5zdGF0ZT1PcGVuTGF5ZXJzLlN0YXRlLklOU0VSVCxiW2VdPWR9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmFjdGl2ZSYmdGhpcy5kZWFjdGl2YXRlKCk7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5TcGxpdCJ9KTtPcGVuTGF5ZXJzLkxheWVyLldNVFM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkxheWVyLkdyaWQse2lzQmFzZUxheWVyOiEwLHZlcnNpb246IjEuMC4wIixyZXF1ZXN0RW5jb2Rpbmc6IktWUCIsdXJsOm51bGwsbGF5ZXI6bnVsbCxtYXRyaXhTZXQ6bnVsbCxzdHlsZTpudWxsLGZvcm1hdDoiaW1hZ2UvanBlZyIsdGlsZU9yaWdpbjpudWxsLHRpbGVGdWxsRXh0ZW50Om51bGwsZm9ybWF0U3VmZml4Om51bGwsbWF0cml4SWRzOm51bGwsZGltZW5zaW9uczpudWxsLHBhcmFtczpudWxsLHpvb21PZmZzZXQ6MCxzZXJ2ZXJSZXNvbHV0aW9uczpudWxsLGZvcm1hdFN1ZmZpeE1hcDp7ImltYWdlL3BuZyI6InBuZyIsImltYWdlL3BuZzgiOiJwbmciLCJpbWFnZS9wbmcyNCI6InBuZyIsImltYWdlL3BuZzMyIjoicG5nIixwbmc6InBuZyIsImltYWdlL2pwZWciOiJqcGciLCJpbWFnZS9qcGciOiJqcGciLGpwZWc6ImpwZyIsanBnOiJqcGcifSxtYXRyaXg6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe3ZhciBiPQp7dXJsOiEwLGxheWVyOiEwLHN0eWxlOiEwLG1hdHJpeFNldDohMH0sYztmb3IoYyBpbiBiKWlmKCEoYyBpbiBhKSl0aHJvdyBFcnJvcigiTWlzc2luZyBwcm9wZXJ0eSAnIitjKyInIGluIGxheWVyIGNvbmZpZ3VyYXRpb24uIik7YS5wYXJhbXM9T3BlbkxheWVycy5VdGlsLnVwcGVyQ2FzZU9iamVjdChhLnBhcmFtcyk7T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2EubmFtZSxhLnVybCxhLnBhcmFtcyxhXSk7dGhpcy5mb3JtYXRTdWZmaXh8fCh0aGlzLmZvcm1hdFN1ZmZpeD10aGlzLmZvcm1hdFN1ZmZpeE1hcFt0aGlzLmZvcm1hdF18fHRoaXMuZm9ybWF0LnNwbGl0KCIvIikucG9wKCkpO2lmKHRoaXMubWF0cml4SWRzJiYoYT10aGlzLm1hdHJpeElkcy5sZW5ndGgpJiYic3RyaW5nIj09PXR5cGVvZiB0aGlzLm1hdHJpeElkc1swXSl7Yj10aGlzLm1hdHJpeElkczt0aGlzLm1hdHJpeElkcz1BcnJheShhKTtmb3IoYz0wO2M8YTsrK2MpdGhpcy5tYXRyaXhJZHNbY109CntpZGVudGlmaWVyOmJbY119fX0sc2V0TWFwOmZ1bmN0aW9uKCl7T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5zZXRNYXAuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx1cGRhdGVNYXRyaXhQcm9wZXJ0aWVzOmZ1bmN0aW9uKCl7aWYodGhpcy5tYXRyaXg9dGhpcy5nZXRNYXRyaXgoKSl0aGlzLm1hdHJpeC50b3BMZWZ0Q29ybmVyJiYodGhpcy50aWxlT3JpZ2luPXRoaXMubWF0cml4LnRvcExlZnRDb3JuZXIpLHRoaXMubWF0cml4LnRpbGVXaWR0aCYmdGhpcy5tYXRyaXgudGlsZUhlaWdodCYmKHRoaXMudGlsZVNpemU9bmV3IE9wZW5MYXllcnMuU2l6ZSh0aGlzLm1hdHJpeC50aWxlV2lkdGgsdGhpcy5tYXRyaXgudGlsZUhlaWdodCkpLHRoaXMudGlsZU9yaWdpbnx8KHRoaXMudGlsZU9yaWdpbj1uZXcgT3BlbkxheWVycy5Mb25MYXQodGhpcy5tYXhFeHRlbnQubGVmdCx0aGlzLm1heEV4dGVudC50b3ApKSx0aGlzLnRpbGVGdWxsRXh0ZW50fHwodGhpcy50aWxlRnVsbEV4dGVudD0KdGhpcy5tYXhFeHRlbnQpfSxtb3ZlVG86ZnVuY3Rpb24oYSxiLGMpeyhifHwhdGhpcy5tYXRyaXgpJiZ0aGlzLnVwZGF0ZU1hdHJpeFByb3BlcnRpZXMoKTtyZXR1cm4gT3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5tb3ZlVG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxjbG9uZTpmdW5jdGlvbihhKXtudWxsPT1hJiYoYT1uZXcgT3BlbkxheWVycy5MYXllci5XTVRTKHRoaXMub3B0aW9ucykpO3JldHVybiBhPU9wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUuY2xvbmUuYXBwbHkodGhpcyxbYV0pfSxnZXRJZGVudGlmaWVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U2VydmVyWm9vbSgpfSxnZXRNYXRyaXg6ZnVuY3Rpb24oKXt2YXIgYTtpZighdGhpcy5tYXRyaXhJZHN8fDA9PT10aGlzLm1hdHJpeElkcy5sZW5ndGgpYT17aWRlbnRpZmllcjp0aGlzLmdldElkZW50aWZpZXIoKX07ZWxzZSBpZigic2NhbGVEZW5vbWluYXRvciJpbiB0aGlzLm1hdHJpeElkc1swXSlmb3IodmFyIGI9Ck9wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNIKk9wZW5MYXllcnMuSU5DSEVTX1BFUl9VTklUW3RoaXMudW5pdHNdKnRoaXMuZ2V0U2VydmVyUmVzb2x1dGlvbigpLzIuOEUtNCxjPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxkLGU9MCxmPXRoaXMubWF0cml4SWRzLmxlbmd0aDtlPGY7KytlKWQ9TWF0aC5hYnMoMS10aGlzLm1hdHJpeElkc1tlXS5zY2FsZURlbm9taW5hdG9yL2IpLGQ8YyYmKGM9ZCxhPXRoaXMubWF0cml4SWRzW2VdKTtlbHNlIGE9dGhpcy5tYXRyaXhJZHNbdGhpcy5nZXRJZGVudGlmaWVyKCldO3JldHVybiBhfSxnZXRUaWxlSW5mbzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFNlcnZlclJlc29sdXRpb24oKSxjPShhLmxvbi10aGlzLnRpbGVPcmlnaW4ubG9uKS8oYip0aGlzLnRpbGVTaXplLncpLGE9KHRoaXMudGlsZU9yaWdpbi5sYXQtYS5sYXQpLyhiKnRoaXMudGlsZVNpemUuaCksYj1NYXRoLmZsb29yKGMpLGQ9TWF0aC5mbG9vcihhKTtyZXR1cm57Y29sOmIsCnJvdzpkLGk6TWF0aC5mbG9vcigoYy1iKSp0aGlzLnRpbGVTaXplLncpLGo6TWF0aC5mbG9vcigoYS1kKSp0aGlzLnRpbGVTaXplLmgpfX0sZ2V0VVJMOmZ1bmN0aW9uKGEpe3ZhciBhPXRoaXMuYWRqdXN0Qm91bmRzKGEpLGI9IiI7aWYoIXRoaXMudGlsZUZ1bGxFeHRlbnR8fHRoaXMudGlsZUZ1bGxFeHRlbnQuaW50ZXJzZWN0c0JvdW5kcyhhKSl7dmFyIGE9YS5nZXRDZW50ZXJMb25MYXQoKSxjPXRoaXMuZ2V0VGlsZUluZm8oYSksYT10aGlzLmRpbWVuc2lvbnMsZCxiPU9wZW5MYXllcnMuVXRpbC5pc0FycmF5KHRoaXMudXJsKT90aGlzLnNlbGVjdFVybChbdGhpcy52ZXJzaW9uLHRoaXMuc3R5bGUsdGhpcy5tYXRyaXhTZXQsdGhpcy5tYXRyaXguaWRlbnRpZmllcixjLnJvdyxjLmNvbF0uam9pbigpLHRoaXMudXJsKTp0aGlzLnVybDtpZigiUkVTVCI9PT10aGlzLnJlcXVlc3RFbmNvZGluZy50b1VwcGVyQ2FzZSgpKWlmKGQ9dGhpcy5wYXJhbXMsLTEhPT1iLmluZGV4T2YoInsiKSl7Yj0KYi5yZXBsYWNlKC9cey9nLCIkeyIpO2M9e3N0eWxlOnRoaXMuc3R5bGUsU3R5bGU6dGhpcy5zdHlsZSxUaWxlTWF0cml4U2V0OnRoaXMubWF0cml4U2V0LFRpbGVNYXRyaXg6dGhpcy5tYXRyaXguaWRlbnRpZmllcixUaWxlUm93OmMucm93LFRpbGVDb2w6Yy5jb2x9O2lmKGEpe3ZhciBlLGY7Zm9yKGY9YS5sZW5ndGgtMTswPD1mOy0tZillPWFbZl0sY1tlXT1kW2UudG9VcHBlckNhc2UoKV19Yj1PcGVuTGF5ZXJzLlN0cmluZy5mb3JtYXQoYixjKX1lbHNle2U9dGhpcy52ZXJzaW9uKyIvIit0aGlzLmxheWVyKyIvIit0aGlzLnN0eWxlKyIvIjtpZihhKWZvcihmPTA7ZjxhLmxlbmd0aDtmKyspZFthW2ZdXSYmKGU9ZStkW2FbZl1dKyIvIik7ZT1lK3RoaXMubWF0cml4U2V0KyIvIit0aGlzLm1hdHJpeC5pZGVudGlmaWVyKyIvIitjLnJvdysiLyIrYy5jb2wrIi4iK3RoaXMuZm9ybWF0U3VmZml4O2IubWF0Y2goL1wvJC8pfHwoYis9Ii8iKTtiKz1lfWVsc2UiS1ZQIj09PXRoaXMucmVxdWVzdEVuY29kaW5nLnRvVXBwZXJDYXNlKCkmJgooZD17U0VSVklDRToiV01UUyIsUkVRVUVTVDoiR2V0VGlsZSIsVkVSU0lPTjp0aGlzLnZlcnNpb24sTEFZRVI6dGhpcy5sYXllcixTVFlMRTp0aGlzLnN0eWxlLFRJTEVNQVRSSVhTRVQ6dGhpcy5tYXRyaXhTZXQsVElMRU1BVFJJWDp0aGlzLm1hdHJpeC5pZGVudGlmaWVyLFRJTEVST1c6Yy5yb3csVElMRUNPTDpjLmNvbCxGT1JNQVQ6dGhpcy5mb3JtYXR9LGI9T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5nZXRGdWxsUmVxdWVzdFN0cmluZy5hcHBseSh0aGlzLFtkXSkpfXJldHVybiBifSxtZXJnZU5ld1BhcmFtczpmdW5jdGlvbihhKXtpZigiS1ZQIj09PXRoaXMucmVxdWVzdEVuY29kaW5nLnRvVXBwZXJDYXNlKCkpcmV0dXJuIE9wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUubWVyZ2VOZXdQYXJhbXMuYXBwbHkodGhpcyxbT3BlbkxheWVycy5VdGlsLnVwcGVyQ2FzZU9iamVjdChhKV0pfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLldNVFMifSk7T3BlbkxheWVycy5Qcm90b2NvbC5TT1MudjFfMF8wPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Qcm90b2NvbCx7Zm9pczpudWxsLGZvcm1hdE9wdGlvbnM6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuUHJvdG9jb2wucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pO2EuZm9ybWF0fHwodGhpcy5mb3JtYXQ9bmV3IE9wZW5MYXllcnMuRm9ybWF0LlNPU0dldEZlYXR1cmVPZkludGVyZXN0KHRoaXMuZm9ybWF0T3B0aW9ucykpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zJiYhdGhpcy5vcHRpb25zLmZvcm1hdCYmdGhpcy5mb3JtYXQuZGVzdHJveSgpO3RoaXMuZm9ybWF0PW51bGw7T3BlbkxheWVycy5Qcm90b2NvbC5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzKX0scmVhZDpmdW5jdGlvbihhKXthPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe30sYSk7T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYSx0aGlzLm9wdGlvbnN8fAp7fSk7dmFyIGI9bmV3IE9wZW5MYXllcnMuUHJvdG9jb2wuUmVzcG9uc2Uoe3JlcXVlc3RUeXBlOiJyZWFkIn0pLGM9dGhpcy5mb3JtYXQsYz1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLndyaXRlLmFwcGx5KGMsW2Mud3JpdGVOb2RlKCJzb3M6R2V0RmVhdHVyZU9mSW50ZXJlc3QiLHtmb2lzOnRoaXMuZm9pc30pXSk7Yi5wcml2PU9wZW5MYXllcnMuUmVxdWVzdC5QT1NUKHt1cmw6YS51cmwsY2FsbGJhY2s6dGhpcy5jcmVhdGVDYWxsYmFjayh0aGlzLmhhbmRsZVJlYWQsYixhKSxkYXRhOmN9KTtyZXR1cm4gYn0saGFuZGxlUmVhZDpmdW5jdGlvbihhLGIpe2lmKGIuY2FsbGJhY2spe3ZhciBjPWEucHJpdjsyMDA8PWMuc3RhdHVzJiYzMDA+Yy5zdGF0dXM/KGEuZmVhdHVyZXM9dGhpcy5wYXJzZUZlYXR1cmVzKGMpLGEuY29kZT1PcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlLlNVQ0NFU1MpOmEuY29kZT1PcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlLkZBSUxVUkU7CmIuY2FsbGJhY2suY2FsbChiLnNjb3BlLGEpfX0scGFyc2VGZWF0dXJlczpmdW5jdGlvbihhKXt2YXIgYj1hLnJlc3BvbnNlWE1MO2lmKCFifHwhYi5kb2N1bWVudEVsZW1lbnQpYj1hLnJlc3BvbnNlVGV4dDtyZXR1cm4hYnx8MD49Yi5sZW5ndGg/bnVsbDp0aGlzLmZvcm1hdC5yZWFkKGIpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlByb3RvY29sLlNPUy52MV8wXzAifSk7T3BlbkxheWVycy5MYXllci5LYU1hcENhY2hlPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllci5LYU1hcCx7SU1BR0VfRVhURU5TSU9OUzp7anBlZzoianBnIixnaWY6ImdpZiIscG5nOiJwbmciLHBuZzg6InBuZyIscG5nMjQ6InBuZyIsZGl0aGVyZWQ6InBuZyJ9LERFRkFVTFRfRk9STUFUOiJqcGVnIixpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjLGQpe09wZW5MYXllcnMuTGF5ZXIuS2FNYXAucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZXh0ZW5zaW9uPXRoaXMuSU1BR0VfRVhURU5TSU9OU1t0aGlzLnBhcmFtcy5pLnRvTG93ZXJDYXNlKCl8fHRoaXMuREVGQVVMVF9GT1JNQVRdfSxnZXRVUkw6ZnVuY3Rpb24oYSl7dmFyIGE9dGhpcy5hZGp1c3RCb3VuZHMoYSksYj10aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCksYz1NYXRoLnJvdW5kKDFFNCp0aGlzLm1hcC5nZXRTY2FsZSgpKS8xRTQsZD1NYXRoLnJvdW5kKGEubGVmdC9iKSxhPQotTWF0aC5yb3VuZChhLnRvcC9iKSxiPU1hdGguZmxvb3IoZC90aGlzLnRpbGVTaXplLncvdGhpcy5wYXJhbXMubWV0YVRpbGVTaXplLncpKnRoaXMudGlsZVNpemUudyp0aGlzLnBhcmFtcy5tZXRhVGlsZVNpemUudyxlPU1hdGguZmxvb3IoYS90aGlzLnRpbGVTaXplLmgvdGhpcy5wYXJhbXMubWV0YVRpbGVTaXplLmgpKnRoaXMudGlsZVNpemUuaCp0aGlzLnBhcmFtcy5tZXRhVGlsZVNpemUuaCxjPVsiLyIsdGhpcy5wYXJhbXMubWFwLCIvIixjLCIvIix0aGlzLnBhcmFtcy5nLnJlcGxhY2UoL1xzL2csIl8iKSwiL2RlZi90IixlLCIvbCIsYiwiL3QiLGEsImwiLGQsIi4iLHRoaXMuZXh0ZW5zaW9uXSxkPXRoaXMudXJsO09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGQpJiYoZD10aGlzLnNlbGVjdFVybChjLmpvaW4oIiIpLGQpKTtyZXR1cm4gZCtjLmpvaW4oIiIpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLkthTWFwQ2FjaGUifSk7T3BlbkxheWVycy5Qcm90b2NvbC5XRlMudjFfMV8wPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Qcm90b2NvbC5XRlMudjEse3ZlcnNpb246IjEuMS4wIixpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuUHJvdG9jb2wuV0ZTLnYxLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLm91dHB1dEZvcm1hdCYmIXRoaXMucmVhZEZvcm1hdCYmKCJnbWwyIj09dGhpcy5vdXRwdXRGb3JtYXQudG9Mb3dlckNhc2UoKT90aGlzLnJlYWRGb3JtYXQ9bmV3IE9wZW5MYXllcnMuRm9ybWF0LkdNTC52Mih7ZmVhdHVyZVR5cGU6dGhpcy5mZWF0dXJlVHlwZSxmZWF0dXJlTlM6dGhpcy5mZWF0dXJlTlMsZ2VvbWV0cnlOYW1lOnRoaXMuZ2VvbWV0cnlOYW1lfSk6Impzb24iPT10aGlzLm91dHB1dEZvcm1hdC50b0xvd2VyQ2FzZSgpJiYodGhpcy5yZWFkRm9ybWF0PW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5HZW9KU09OKSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuUHJvdG9jb2wuV0ZTLnYxXzFfMCJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjFfMV8xPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuV01TQ2FwYWJpbGl0aWVzLnYxXzEse3ZlcnNpb246IjEuMS4xIixyZWFkZXJzOnt3bXM6T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe1NSUzpmdW5jdGlvbihhLGIpe2Iuc3JzW3RoaXMuZ2V0Q2hpbGRWYWx1ZShhKV09ITB9fSxPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjFfMS5wcm90b3R5cGUucmVhZGVycy53bXMpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjFfMV8xIn0pO09wZW5MYXllcnMuRm9ybWF0LldNU0NhcGFiaWxpdGllcy52MV8xXzFfV01TQz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LldNU0NhcGFiaWxpdGllcy52MV8xXzEse3ZlcnNpb246IjEuMS4xIixwcm9maWxlOiJXTVNDIixyZWFkZXJzOnt3bXM6T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe1ZlbmRvclNwZWNpZmljQ2FwYWJpbGl0aWVzOmZ1bmN0aW9uKGEsYil7Yi52ZW5kb3JTcGVjaWZpYz17dGlsZVNldHM6W119O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnZlbmRvclNwZWNpZmljKX0sVGlsZVNldDpmdW5jdGlvbihhLGIpe3ZhciBjPXtzcnM6e30sYmJveDp7fSxyZXNvbHV0aW9uczpbXX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IudGlsZVNldHMucHVzaChjKX0sUmVzb2x1dGlvbnM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5nZXRDaGlsZFZhbHVlKGEpLnNwbGl0KCIgIiksZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKykiIiE9Y1tkXSYmYi5yZXNvbHV0aW9ucy5wdXNoKHBhcnNlRmxvYXQoY1tkXSkpfSwKV2lkdGg6ZnVuY3Rpb24oYSxiKXtiLndpZHRoPXBhcnNlSW50KHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSl9LEhlaWdodDpmdW5jdGlvbihhLGIpe2IuaGVpZ2h0PXBhcnNlSW50KHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSl9LExheWVyczpmdW5jdGlvbihhLGIpe2IubGF5ZXJzPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sU3R5bGVzOmZ1bmN0aW9uKGEsYil7Yi5zdHlsZXM9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfX0sT3BlbkxheWVycy5Gb3JtYXQuV01TQ2FwYWJpbGl0aWVzLnYxXzFfMS5wcm90b3R5cGUucmVhZGVycy53bXMpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjFfMV8xX1dNU0MifSk7T3BlbkxheWVycy5MYW5nLmlvPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHsiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6IlNrYWxvID0gMSA6ICR7c2NhbGVEZW5vbX0ifSk7T3BlbkxheWVycy5Db250cm9sLkxheWVyU3dpdGNoZXI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse2xheWVyU3RhdGVzOm51bGwsbGF5ZXJzRGl2Om51bGwsYmFzZUxheWVyc0RpdjpudWxsLGJhc2VMYXllcnM6bnVsbCxkYXRhTGJsOm51bGwsZGF0YUxheWVyc0RpdjpudWxsLGRhdGFMYXllcnM6bnVsbCxtaW5pbWl6ZURpdjpudWxsLG1heGltaXplRGl2Om51bGwsYXNjZW5kaW5nOiEwLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmxheWVyU3RhdGVzPVtdfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5jbGVhckxheWVyc0FycmF5KCJiYXNlIik7dGhpcy5jbGVhckxheWVyc0FycmF5KCJkYXRhIik7dGhpcy5tYXAuZXZlbnRzLnVuKHtidXR0b25jbGljazp0aGlzLm9uQnV0dG9uQ2xpY2ssYWRkbGF5ZXI6dGhpcy5yZWRyYXcsY2hhbmdlbGF5ZXI6dGhpcy5yZWRyYXcsCnJlbW92ZWxheWVyOnRoaXMucmVkcmF3LGNoYW5nZWJhc2VsYXllcjp0aGlzLnJlZHJhdyxzY29wZTp0aGlzfSk7dGhpcy5ldmVudHMudW5yZWdpc3RlcigiYnV0dG9uY2xpY2siLHRoaXMsdGhpcy5vbkJ1dHRvbkNsaWNrKTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzZXRNYXA6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5zZXRNYXAuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMubWFwLmV2ZW50cy5vbih7YWRkbGF5ZXI6dGhpcy5yZWRyYXcsY2hhbmdlbGF5ZXI6dGhpcy5yZWRyYXcscmVtb3ZlbGF5ZXI6dGhpcy5yZWRyYXcsY2hhbmdlYmFzZWxheWVyOnRoaXMucmVkcmF3LHNjb3BlOnRoaXN9KTt0aGlzLm91dHNpZGVWaWV3cG9ydD8odGhpcy5ldmVudHMuYXR0YWNoVG9FbGVtZW50KHRoaXMuZGl2KSx0aGlzLmV2ZW50cy5yZWdpc3RlcigiYnV0dG9uY2xpY2siLHRoaXMsdGhpcy5vbkJ1dHRvbkNsaWNrKSk6CnRoaXMubWFwLmV2ZW50cy5yZWdpc3RlcigiYnV0dG9uY2xpY2siLHRoaXMsdGhpcy5vbkJ1dHRvbkNsaWNrKX0sZHJhdzpmdW5jdGlvbigpe09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZHJhdy5hcHBseSh0aGlzKTt0aGlzLmxvYWRDb250ZW50cygpO3RoaXMub3V0c2lkZVZpZXdwb3J0fHx0aGlzLm1pbmltaXplQ29udHJvbCgpO3RoaXMucmVkcmF3KCk7cmV0dXJuIHRoaXMuZGl2fSxvbkJ1dHRvbkNsaWNrOmZ1bmN0aW9uKGEpe2E9YS5idXR0b25FbGVtZW50O2E9PT10aGlzLm1pbmltaXplRGl2P3RoaXMubWluaW1pemVDb250cm9sKCk6YT09PXRoaXMubWF4aW1pemVEaXY/dGhpcy5tYXhpbWl6ZUNvbnRyb2woKTphLl9sYXllclN3aXRjaGVyPT09dGhpcy5pZCYmKGFbImZvciJdJiYoYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhWyJmb3IiXSkpLGEuZGlzYWJsZWR8fCgicmFkaW8iPT1hLnR5cGU/KGEuY2hlY2tlZD0hMCx0aGlzLm1hcC5zZXRCYXNlTGF5ZXIodGhpcy5tYXAuZ2V0TGF5ZXIoYS5fbGF5ZXIpKSk6CihhLmNoZWNrZWQ9IWEuY2hlY2tlZCx0aGlzLnVwZGF0ZU1hcCgpKSkpfSxjbGVhckxheWVyc0FycmF5OmZ1bmN0aW9uKGEpe3RoaXNbYSsiTGF5ZXJzRGl2Il0uaW5uZXJIVE1MPSIiO3RoaXNbYSsiTGF5ZXJzIl09W119LGNoZWNrUmVkcmF3OmZ1bmN0aW9uKCl7aWYoIXRoaXMubGF5ZXJTdGF0ZXMubGVuZ3RofHx0aGlzLm1hcC5sYXllcnMubGVuZ3RoIT10aGlzLmxheWVyU3RhdGVzLmxlbmd0aClyZXR1cm4hMDtmb3IodmFyIGE9MCxiPXRoaXMubGF5ZXJTdGF0ZXMubGVuZ3RoO2E8YjthKyspe3ZhciBjPXRoaXMubGF5ZXJTdGF0ZXNbYV0sZD10aGlzLm1hcC5sYXllcnNbYV07aWYoYy5uYW1lIT1kLm5hbWV8fGMuaW5SYW5nZSE9ZC5pblJhbmdlfHxjLmlkIT1kLmlkfHxjLnZpc2liaWxpdHkhPWQudmlzaWJpbGl0eSlyZXR1cm4hMH1yZXR1cm4hMX0scmVkcmF3OmZ1bmN0aW9uKCl7aWYoIXRoaXMuY2hlY2tSZWRyYXcoKSlyZXR1cm4gdGhpcy5kaXY7dGhpcy5jbGVhckxheWVyc0FycmF5KCJiYXNlIik7CnRoaXMuY2xlYXJMYXllcnNBcnJheSgiZGF0YSIpO3ZhciBhPSExLGI9ITEsYz10aGlzLm1hcC5sYXllcnMubGVuZ3RoO3RoaXMubGF5ZXJTdGF0ZXM9QXJyYXkoYyk7Zm9yKHZhciBkPTA7ZDxjO2QrKyl7dmFyIGU9dGhpcy5tYXAubGF5ZXJzW2RdO3RoaXMubGF5ZXJTdGF0ZXNbZF09e25hbWU6ZS5uYW1lLHZpc2liaWxpdHk6ZS52aXNpYmlsaXR5LGluUmFuZ2U6ZS5pblJhbmdlLGlkOmUuaWR9fXZhciBmPXRoaXMubWFwLmxheWVycy5zbGljZSgpO3RoaXMuYXNjZW5kaW5nfHxmLnJldmVyc2UoKTtkPTA7Zm9yKGM9Zi5sZW5ndGg7ZDxjO2QrKyl7dmFyIGU9ZltkXSxnPWUuaXNCYXNlTGF5ZXI7aWYoZS5kaXNwbGF5SW5MYXllclN3aXRjaGVyKXtnP2I9ITA6YT0hMDt2YXIgaD1nP2U9PXRoaXMubWFwLmJhc2VMYXllcjplLmdldFZpc2liaWxpdHkoKSxpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iiksaj1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlVW5pcXVlSUQodGhpcy5pZCsKIl9pbnB1dF8iKTtpLmlkPWo7aS5uYW1lPWc/dGhpcy5pZCsiX2Jhc2VMYXllcnMiOmUubmFtZTtpLnR5cGU9Zz8icmFkaW8iOiJjaGVja2JveCI7aS52YWx1ZT1lLm5hbWU7aS5jaGVja2VkPWg7aS5kZWZhdWx0Q2hlY2tlZD1oO2kuY2xhc3NOYW1lPSJvbEJ1dHRvbiI7aS5fbGF5ZXI9ZS5pZDtpLl9sYXllclN3aXRjaGVyPXRoaXMuaWQ7IWcmJiFlLmluUmFuZ2UmJihpLmRpc2FibGVkPSEwKTtoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxhYmVsIik7aFsiZm9yIl09aS5pZDtPcGVuTGF5ZXJzLkVsZW1lbnQuYWRkQ2xhc3MoaCwibGFiZWxTcGFuIG9sQnV0dG9uIik7aC5fbGF5ZXI9ZS5pZDtoLl9sYXllclN3aXRjaGVyPXRoaXMuaWQ7IWcmJiFlLmluUmFuZ2UmJihoLnN0eWxlLmNvbG9yPSJncmF5Iik7aC5pbm5lckhUTUw9ZS5uYW1lO2guc3R5bGUudmVydGljYWxBbGlnbj1nPyJib3R0b20iOiJiYXNlbGluZSI7aj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiciIpOyhnP3RoaXMuYmFzZUxheWVyczoKdGhpcy5kYXRhTGF5ZXJzKS5wdXNoKHtsYXllcjplLGlucHV0RWxlbTppLGxhYmVsU3BhbjpofSk7ZT1nP3RoaXMuYmFzZUxheWVyc0Rpdjp0aGlzLmRhdGFMYXllcnNEaXY7ZS5hcHBlbmRDaGlsZChpKTtlLmFwcGVuZENoaWxkKGgpO2UuYXBwZW5kQ2hpbGQoail9fXRoaXMuZGF0YUxibC5zdHlsZS5kaXNwbGF5PWE/IiI6Im5vbmUiO3RoaXMuYmFzZUxibC5zdHlsZS5kaXNwbGF5PWI/IiI6Im5vbmUiO3JldHVybiB0aGlzLmRpdn0sdXBkYXRlTWFwOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYj10aGlzLmJhc2VMYXllcnMubGVuZ3RoO2E8YjthKyspe3ZhciBjPXRoaXMuYmFzZUxheWVyc1thXTtjLmlucHV0RWxlbS5jaGVja2VkJiZ0aGlzLm1hcC5zZXRCYXNlTGF5ZXIoYy5sYXllciwhMSl9YT0wO2ZvcihiPXRoaXMuZGF0YUxheWVycy5sZW5ndGg7YTxiO2ErKyljPXRoaXMuZGF0YUxheWVyc1thXSxjLmxheWVyLnNldFZpc2liaWxpdHkoYy5pbnB1dEVsZW0uY2hlY2tlZCl9LG1heGltaXplQ29udHJvbDpmdW5jdGlvbihhKXt0aGlzLmRpdi5zdHlsZS53aWR0aD0KIiI7dGhpcy5kaXYuc3R5bGUuaGVpZ2h0PSIiO3RoaXMuc2hvd0NvbnRyb2xzKCExKTtudWxsIT1hJiZPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSl9LG1pbmltaXplQ29udHJvbDpmdW5jdGlvbihhKXt0aGlzLmRpdi5zdHlsZS53aWR0aD0iMHB4Ijt0aGlzLmRpdi5zdHlsZS5oZWlnaHQ9IjBweCI7dGhpcy5zaG93Q29udHJvbHMoITApO251bGwhPWEmJk9wZW5MYXllcnMuRXZlbnQuc3RvcChhKX0sc2hvd0NvbnRyb2xzOmZ1bmN0aW9uKGEpe3RoaXMubWF4aW1pemVEaXYuc3R5bGUuZGlzcGxheT1hPyIiOiJub25lIjt0aGlzLm1pbmltaXplRGl2LnN0eWxlLmRpc3BsYXk9YT8ibm9uZSI6IiI7dGhpcy5sYXllcnNEaXYuc3R5bGUuZGlzcGxheT1hPyJub25lIjoiIn0sbG9hZENvbnRlbnRzOmZ1bmN0aW9uKCl7dGhpcy5sYXllcnNEaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dGhpcy5sYXllcnNEaXYuaWQ9dGhpcy5pZCsiX2xheWVyc0RpdiI7T3BlbkxheWVycy5FbGVtZW50LmFkZENsYXNzKHRoaXMubGF5ZXJzRGl2LAoibGF5ZXJzRGl2Iik7dGhpcy5iYXNlTGJsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RoaXMuYmFzZUxibC5pbm5lckhUTUw9T3BlbkxheWVycy5pMThuKCJCYXNlIExheWVyIik7T3BlbkxheWVycy5FbGVtZW50LmFkZENsYXNzKHRoaXMuYmFzZUxibCwiYmFzZUxibCIpO3RoaXMuYmFzZUxheWVyc0Rpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtPcGVuTGF5ZXJzLkVsZW1lbnQuYWRkQ2xhc3ModGhpcy5iYXNlTGF5ZXJzRGl2LCJiYXNlTGF5ZXJzRGl2Iik7dGhpcy5kYXRhTGJsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RoaXMuZGF0YUxibC5pbm5lckhUTUw9T3BlbkxheWVycy5pMThuKCJPdmVybGF5cyIpO09wZW5MYXllcnMuRWxlbWVudC5hZGRDbGFzcyh0aGlzLmRhdGFMYmwsImRhdGFMYmwiKTt0aGlzLmRhdGFMYXllcnNEaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7T3BlbkxheWVycy5FbGVtZW50LmFkZENsYXNzKHRoaXMuZGF0YUxheWVyc0RpdiwKImRhdGFMYXllcnNEaXYiKTt0aGlzLmFzY2VuZGluZz8odGhpcy5sYXllcnNEaXYuYXBwZW5kQ2hpbGQodGhpcy5iYXNlTGJsKSx0aGlzLmxheWVyc0Rpdi5hcHBlbmRDaGlsZCh0aGlzLmJhc2VMYXllcnNEaXYpLHRoaXMubGF5ZXJzRGl2LmFwcGVuZENoaWxkKHRoaXMuZGF0YUxibCksdGhpcy5sYXllcnNEaXYuYXBwZW5kQ2hpbGQodGhpcy5kYXRhTGF5ZXJzRGl2KSk6KHRoaXMubGF5ZXJzRGl2LmFwcGVuZENoaWxkKHRoaXMuZGF0YUxibCksdGhpcy5sYXllcnNEaXYuYXBwZW5kQ2hpbGQodGhpcy5kYXRhTGF5ZXJzRGl2KSx0aGlzLmxheWVyc0Rpdi5hcHBlbmRDaGlsZCh0aGlzLmJhc2VMYmwpLHRoaXMubGF5ZXJzRGl2LmFwcGVuZENoaWxkKHRoaXMuYmFzZUxheWVyc0RpdikpO3RoaXMuZGl2LmFwcGVuZENoaWxkKHRoaXMubGF5ZXJzRGl2KTt2YXIgYT1PcGVuTGF5ZXJzLlV0aWwuZ2V0SW1hZ2VMb2NhdGlvbigibGF5ZXItc3dpdGNoZXItbWF4aW1pemUucG5nIik7dGhpcy5tYXhpbWl6ZURpdj0KT3BlbkxheWVycy5VdGlsLmNyZWF0ZUFscGhhSW1hZ2VEaXYoIk9wZW5MYXllcnNfQ29udHJvbF9NYXhpbWl6ZURpdiIsbnVsbCxudWxsLGEsImFic29sdXRlIik7T3BlbkxheWVycy5FbGVtZW50LmFkZENsYXNzKHRoaXMubWF4aW1pemVEaXYsIm1heGltaXplRGl2IG9sQnV0dG9uIik7dGhpcy5tYXhpbWl6ZURpdi5zdHlsZS5kaXNwbGF5PSJub25lIjt0aGlzLmRpdi5hcHBlbmRDaGlsZCh0aGlzLm1heGltaXplRGl2KTthPU9wZW5MYXllcnMuVXRpbC5nZXRJbWFnZUxvY2F0aW9uKCJsYXllci1zd2l0Y2hlci1taW5pbWl6ZS5wbmciKTt0aGlzLm1pbmltaXplRGl2PU9wZW5MYXllcnMuVXRpbC5jcmVhdGVBbHBoYUltYWdlRGl2KCJPcGVuTGF5ZXJzX0NvbnRyb2xfTWluaW1pemVEaXYiLG51bGwsbnVsbCxhLCJhYnNvbHV0ZSIpO09wZW5MYXllcnMuRWxlbWVudC5hZGRDbGFzcyh0aGlzLm1pbmltaXplRGl2LCJtaW5pbWl6ZURpdiBvbEJ1dHRvbiIpO3RoaXMubWluaW1pemVEaXYuc3R5bGUuZGlzcGxheT0KIm5vbmUiO3RoaXMuZGl2LmFwcGVuZENoaWxkKHRoaXMubWluaW1pemVEaXYpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuTGF5ZXJTd2l0Y2hlciJ9KTtPcGVuTGF5ZXJzLkxhbmcuZWw9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoeyJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiXHUwMzlhXHUwM2JiXHUwM2FmXHUwM2JjXHUwM2IxXHUwM2JhXHUwM2IxIH4gMSA6ICR7c2NhbGVEZW5vbX0ifSk7T3BlbkxheWVycy5Gb3JtYXQuQXRvbT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7bmFtZXNwYWNlczp7YXRvbToiaHR0cDovL3d3dy53My5vcmcvMjAwNS9BdG9tIixnZW9yc3M6Imh0dHA6Ly93d3cuZ2VvcnNzLm9yZy9nZW9yc3MifSxmZWVkVGl0bGU6InVudGl0bGVkIixkZWZhdWx0RW50cnlUaXRsZToidW50aXRsZWQiLGdtbFBhcnNlcjpudWxsLHh5OiExLHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PXR5cGVvZiBhJiYoYT1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxbYV0pKTtyZXR1cm4gdGhpcy5wYXJzZUZlYXR1cmVzKGEpfSx3cml0ZTpmdW5jdGlvbihhKXt2YXIgYjtpZihPcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShhKSl7Yj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImF0b206ZmVlZCIpO2IuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJhdG9tOnRpdGxlIix7dmFsdWU6dGhpcy5mZWVkVGl0bGV9KSk7CmZvcih2YXIgYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKyliLmFwcGVuZENoaWxkKHRoaXMuYnVpbGRFbnRyeU5vZGUoYVtjXSkpfWVsc2UgYj10aGlzLmJ1aWxkRW50cnlOb2RlKGEpO3JldHVybiBPcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLndyaXRlLmFwcGx5KHRoaXMsW2JdKX0sYnVpbGRDb250ZW50Tm9kZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImF0b206Y29udGVudCIse2F0dHJpYnV0ZXM6e3R5cGU6YS50eXBlfHxudWxsfX0pO2lmKGEuc3JjKWIuc2V0QXR0cmlidXRlKCJzcmMiLGEuc3JjKTtlbHNlIGlmKCJ0ZXh0Ij09YS50eXBlfHxudWxsPT1hLnR5cGUpYi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVRleHROb2RlKGEudmFsdWUpKTtlbHNlIGlmKCJodG1sIj09YS50eXBlKXtpZigic3RyaW5nIiE9dHlwZW9mIGEudmFsdWUpdGhyb3ciSFRNTCBjb250ZW50IG11c3QgYmUgaW4gZm9ybSBvZiBhbiBlc2NhcGVkIHN0cmluZyI7Yi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVRleHROb2RlKGEudmFsdWUpKX1lbHNlInhodG1sIj09CmEudHlwZT9iLmFwcGVuZENoaWxkKGEudmFsdWUpOiJ4aHRtbCI9PWEudHlwZXx8YS50eXBlLm1hdGNoKC8oXCt8XC8peG1sJC8pP2IuYXBwZW5kQ2hpbGQoYS52YWx1ZSk6Yi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVRleHROb2RlKGEudmFsdWUpKTtyZXR1cm4gYn0sYnVpbGRFbnRyeU5vZGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5hdHRyaWJ1dGVzLGM9Yi5hdG9tfHx7fSxkPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiYXRvbTplbnRyeSIpO2lmKGMuYXV0aG9ycylmb3IodmFyIGU9T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYy5hdXRob3JzKT9jLmF1dGhvcnM6W2MuYXV0aG9yc10sZj0wLGc9ZS5sZW5ndGg7ZjxnO2YrKylkLmFwcGVuZENoaWxkKHRoaXMuYnVpbGRQZXJzb25Db25zdHJ1Y3ROb2RlKCJhdXRob3IiLGVbZl0pKTtpZihjLmNhdGVnb3JpZXMpZm9yKHZhciBlPU9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGMuY2F0ZWdvcmllcyk/Yy5jYXRlZ29yaWVzOltjLmNhdGVnb3JpZXNdLApoLGY9MCxnPWUubGVuZ3RoO2Y8ZztmKyspaD1lW2ZdLGQuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJhdG9tOmNhdGVnb3J5Iix7YXR0cmlidXRlczp7dGVybTpoLnRlcm0sc2NoZW1lOmguc2NoZW1lfHxudWxsLGxhYmVsOmgubGFiZWx8fG51bGx9fSkpO2MuY29udGVudCYmZC5hcHBlbmRDaGlsZCh0aGlzLmJ1aWxkQ29udGVudE5vZGUoYy5jb250ZW50KSk7aWYoYy5jb250cmlidXRvcnMpe2U9T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYy5jb250cmlidXRvcnMpP2MuY29udHJpYnV0b3JzOltjLmNvbnRyaWJ1dG9yc107Zj0wO2ZvcihnPWUubGVuZ3RoO2Y8ZztmKyspZC5hcHBlbmRDaGlsZCh0aGlzLmJ1aWxkUGVyc29uQ29uc3RydWN0Tm9kZSgiY29udHJpYnV0b3IiLGVbZl0pKX1hLmZpZCYmZC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImF0b206aWQiLHt2YWx1ZTphLmZpZH0pKTtpZihjLmxpbmtzKXtlPU9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGMubGlua3MpPwpjLmxpbmtzOltjLmxpbmtzXTtmPTA7Zm9yKGc9ZS5sZW5ndGg7ZjxnO2YrKyloPWVbZl0sZC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImF0b206bGluayIse2F0dHJpYnV0ZXM6e2hyZWY6aC5ocmVmLHJlbDpoLnJlbHx8bnVsbCx0eXBlOmgudHlwZXx8bnVsbCxocmVmbGFuZzpoLmhyZWZsYW5nfHxudWxsLHRpdGxlOmgudGl0bGV8fG51bGwsbGVuZ3RoOmgubGVuZ3RofHxudWxsfX0pKX1jLnB1Ymxpc2hlZCYmZC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImF0b206cHVibGlzaGVkIix7dmFsdWU6Yy5wdWJsaXNoZWR9KSk7Yy5yaWdodHMmJmQuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJhdG9tOnJpZ2h0cyIse3ZhbHVlOmMucmlnaHRzfSkpO2lmKGMuc3VtbWFyeXx8Yi5kZXNjcmlwdGlvbilkLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiYXRvbTpzdW1tYXJ5Iix7dmFsdWU6Yy5zdW1tYXJ5fHwKYi5kZXNjcmlwdGlvbn0pKTtkLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiYXRvbTp0aXRsZSIse3ZhbHVlOmMudGl0bGV8fGIudGl0bGV8fHRoaXMuZGVmYXVsdEVudHJ5VGl0bGV9KSk7Yy51cGRhdGVkJiZkLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiYXRvbTp1cGRhdGVkIix7dmFsdWU6Yy51cGRhdGVkfSkpO2EuZ2VvbWV0cnkmJihiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ2VvcnNzOndoZXJlIiksYi5hcHBlbmRDaGlsZCh0aGlzLmJ1aWxkR2VvbWV0cnlOb2RlKGEuZ2VvbWV0cnkpKSxkLmFwcGVuZENoaWxkKGIpKTtyZXR1cm4gZH0saW5pdEdtbFBhcnNlcjpmdW5jdGlvbigpe3RoaXMuZ21sUGFyc2VyPW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjMoe3h5OnRoaXMueHksZmVhdHVyZU5TOiJodHRwOi8vZXhhbXBsZS5jb20jZmVhdHVyZSIsaW50ZXJuYWxQcm9qZWN0aW9uOnRoaXMuaW50ZXJuYWxQcm9qZWN0aW9uLApleHRlcm5hbFByb2plY3Rpb246dGhpcy5leHRlcm5hbFByb2plY3Rpb259KX0sYnVpbGRHZW9tZXRyeU5vZGU6ZnVuY3Rpb24oYSl7dGhpcy5nbWxQYXJzZXJ8fHRoaXMuaW5pdEdtbFBhcnNlcigpO3JldHVybiB0aGlzLmdtbFBhcnNlci53cml0ZU5vZGUoImZlYXR1cmU6X2dlb21ldHJ5IixhKS5maXJzdENoaWxkfSxidWlsZFBlcnNvbkNvbnN0cnVjdE5vZGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1bInVyaSIsImVtYWlsIl0sZD10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImF0b206IithKTtkLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiYXRvbTpuYW1lIix7dmFsdWU6Yi5uYW1lfSkpO2Zvcih2YXIgZT0wLGY9Yy5sZW5ndGg7ZTxmO2UrKyliW2NbZV1dJiZkLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiYXRvbToiK2NbZV0se3ZhbHVlOmJbY1tlXV19KSk7cmV0dXJuIGR9LGdldEZpcnN0Q2hpbGRWYWx1ZTpmdW5jdGlvbihhLGIsYywKZCl7cmV0dXJuKGE9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsYixjKSkmJjA8YS5sZW5ndGg/dGhpcy5nZXRDaGlsZFZhbHVlKGFbMF0sZCk6ZH0scGFyc2VGZWF0dXJlOmZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM9bnVsbCxkPW51bGwsZT1udWxsLGY9dGhpcy5uYW1lc3BhY2VzLmF0b207dGhpcy5wYXJzZVBlcnNvbkNvbnN0cnVjdHMoYSwiYXV0aG9yIixiKTtkPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLGYsImNhdGVnb3J5Iik7MDxkLmxlbmd0aCYmKGIuY2F0ZWdvcmllcz1bXSk7Zm9yKHZhciBnPTAsaD1kLmxlbmd0aDtnPGg7ZysrKXtjPXt9O2MudGVybT1kW2ddLmdldEF0dHJpYnV0ZSgidGVybSIpO2lmKGU9ZFtnXS5nZXRBdHRyaWJ1dGUoInNjaGVtZSIpKWMuc2NoZW1lPWU7aWYoZT1kW2ddLmdldEF0dHJpYnV0ZSgibGFiZWwiKSljLmxhYmVsPWU7Yi5jYXRlZ29yaWVzLnB1c2goYyl9ZD10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSxmLCJjb250ZW50Iik7CmlmKDA8ZC5sZW5ndGgpe2M9e307aWYoZT1kWzBdLmdldEF0dHJpYnV0ZSgidHlwZSIpKWMudHlwZT1lOyhlPWRbMF0uZ2V0QXR0cmlidXRlKCJzcmMiKSk/Yy5zcmM9ZTooYy52YWx1ZT0idGV4dCI9PWMudHlwZXx8Imh0bWwiPT1jLnR5cGV8fG51bGw9PWMudHlwZT90aGlzLmdldEZpcnN0Q2hpbGRWYWx1ZShhLGYsImNvbnRlbnQiLG51bGwpOiJ4aHRtbCI9PWMudHlwZXx8Yy50eXBlLm1hdGNoKC8oXCt8XC8peG1sJC8pP3RoaXMuZ2V0Q2hpbGRFbChkWzBdKTp0aGlzLmdldEZpcnN0Q2hpbGRWYWx1ZShhLGYsImNvbnRlbnQiLG51bGwpLGIuY29udGVudD1jKX10aGlzLnBhcnNlUGVyc29uQ29uc3RydWN0cyhhLCJjb250cmlidXRvciIsYik7Yi5pZD10aGlzLmdldEZpcnN0Q2hpbGRWYWx1ZShhLGYsImlkIixudWxsKTtkPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLGYsImxpbmsiKTswPGQubGVuZ3RoJiYoYi5saW5rcz1BcnJheShkLmxlbmd0aCkpO2Zvcih2YXIgaT1bInJlbCIsCiJ0eXBlIiwiaHJlZmxhbmciLCJ0aXRsZSIsImxlbmd0aCJdLGc9MCxoPWQubGVuZ3RoO2c8aDtnKyspe2M9e307Yy5ocmVmPWRbZ10uZ2V0QXR0cmlidXRlKCJocmVmIik7Zm9yKHZhciBqPTAsaz1pLmxlbmd0aDtqPGs7aisrKShlPWRbZ10uZ2V0QXR0cmlidXRlKGlbal0pKSYmKGNbaVtqXV09ZSk7Yi5saW5rc1tnXT1jfWlmKGM9dGhpcy5nZXRGaXJzdENoaWxkVmFsdWUoYSxmLCJwdWJsaXNoZWQiLG51bGwpKWIucHVibGlzaGVkPWM7aWYoYz10aGlzLmdldEZpcnN0Q2hpbGRWYWx1ZShhLGYsInJpZ2h0cyIsbnVsbCkpYi5yaWdodHM9YztpZihjPXRoaXMuZ2V0Rmlyc3RDaGlsZFZhbHVlKGEsZiwic3VtbWFyeSIsbnVsbCkpYi5zdW1tYXJ5PWM7Yi50aXRsZT10aGlzLmdldEZpcnN0Q2hpbGRWYWx1ZShhLGYsInRpdGxlIixudWxsKTtiLnVwZGF0ZWQ9dGhpcy5nZXRGaXJzdENoaWxkVmFsdWUoYSxmLCJ1cGRhdGVkIixudWxsKTtjPXt0aXRsZTpiLnRpdGxlLGRlc2NyaXB0aW9uOmIuc3VtbWFyeSwKYXRvbTpifTthPXRoaXMucGFyc2VMb2NhdGlvbnMoYSlbMF07YT1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihhLGMpO2EuZmlkPWIuaWQ7cmV0dXJuIGF9LHBhcnNlRmVhdHVyZXM6ZnVuY3Rpb24oYSl7dmFyIGI9W10sYz10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSx0aGlzLm5hbWVzcGFjZXMuYXRvbSwiZW50cnkiKTswPT1jLmxlbmd0aCYmKGM9W2FdKTtmb3IodmFyIGE9MCxkPWMubGVuZ3RoO2E8ZDthKyspYi5wdXNoKHRoaXMucGFyc2VGZWF0dXJlKGNbYV0pKTtyZXR1cm4gYn0scGFyc2VMb2NhdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5uYW1lc3BhY2VzLmdlb3JzcyxjPXtjb21wb25lbnRzOltdfSxkPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLGIsIndoZXJlIik7aWYoZCYmMDxkLmxlbmd0aCl7dGhpcy5nbWxQYXJzZXJ8fHRoaXMuaW5pdEdtbFBhcnNlcigpO2Zvcih2YXIgZT0wLGY9ZC5sZW5ndGg7ZTxmO2UrKyl0aGlzLmdtbFBhcnNlci5yZWFkQ2hpbGROb2RlcyhkW2VdLApjKX1jPWMuY29tcG9uZW50cztpZigoZD10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSxiLCJwb2ludCIpKSYmMDxkLmxlbmd0aCl7ZT0wO2ZvcihmPWQubGVuZ3RoO2U8ZjtlKyspe3ZhciBnPU9wZW5MYXllcnMuU3RyaW5nLnRyaW0oZFtlXS5maXJzdENoaWxkLm5vZGVWYWx1ZSkuc3BsaXQoL1xzKy8pOzIhPWcubGVuZ3RoJiYoZz1PcGVuTGF5ZXJzLlN0cmluZy50cmltKGRbZV0uZmlyc3RDaGlsZC5ub2RlVmFsdWUpLnNwbGl0KC9ccyosXHMqLykpO2MucHVzaChuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChnWzFdLGdbMF0pKX19dmFyIGg9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsYiwibGluZSIpO2lmKGgmJjA8aC5sZW5ndGgpZm9yKHZhciBpLGU9MCxmPWgubGVuZ3RoO2U8ZjtlKyspe2Q9T3BlbkxheWVycy5TdHJpbmcudHJpbShoW2VdLmZpcnN0Q2hpbGQubm9kZVZhbHVlKS5zcGxpdCgvXHMrLyk7aT1bXTtmb3IodmFyIGo9MCxrPWQubGVuZ3RoO2o8Cms7ais9MilnPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGRbaisxXSxkW2pdKSxpLnB1c2goZyk7Yy5wdXNoKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmcoaSkpfWlmKChhPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLGIsInBvbHlnb24iKSkmJjA8YS5sZW5ndGgpe2U9MDtmb3IoZj1hLmxlbmd0aDtlPGY7ZSsrKXtkPU9wZW5MYXllcnMuU3RyaW5nLnRyaW0oYVtlXS5maXJzdENoaWxkLm5vZGVWYWx1ZSkuc3BsaXQoL1xzKy8pO2k9W107aj0wO2ZvcihrPWQubGVuZ3RoO2o8aztqKz0yKWc9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoZFtqKzFdLGRbal0pLGkucHVzaChnKTtjLnB1c2gobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbihbbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyhpKV0pKX19aWYodGhpcy5pbnRlcm5hbFByb2plY3Rpb24mJnRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uKXtlPTA7Zm9yKGY9Yy5sZW5ndGg7ZTwKZjtlKyspY1tlXSYmY1tlXS50cmFuc2Zvcm0odGhpcy5leHRlcm5hbFByb2plY3Rpb24sdGhpcy5pbnRlcm5hbFByb2plY3Rpb24pfXJldHVybiBjfSxwYXJzZVBlcnNvbkNvbnN0cnVjdHM6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1bXSxlPXRoaXMubmFtZXNwYWNlcy5hdG9tLGE9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsZSxiKSxmPVsidXJpIiwiZW1haWwiXSxnPTAsaD1hLmxlbmd0aDtnPGg7ZysrKXt2YXIgaT17fTtpLm5hbWU9dGhpcy5nZXRGaXJzdENoaWxkVmFsdWUoYVtnXSxlLCJuYW1lIixudWxsKTtmb3IodmFyIGo9MCxrPWYubGVuZ3RoO2o8aztqKyspe3ZhciBsPXRoaXMuZ2V0Rmlyc3RDaGlsZFZhbHVlKGFbZ10sZSxmW2pdLG51bGwpO2wmJihpW2Zbal1dPWwpfWQucHVzaChpKX0wPGQubGVuZ3RoJiYoY1tiKyJzIl09ZCl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LkF0b20ifSk7T3BlbkxheWVycy5Db250cm9sLktleWJvYXJkRGVmYXVsdHM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse2F1dG9BY3RpdmF0ZTohMCxzbGlkZUZhY3Rvcjo3NSxvYnNlcnZlRWxlbWVudDpudWxsLGRyYXc6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXI9bmV3IE9wZW5MYXllcnMuSGFuZGxlci5LZXlib2FyZCh0aGlzLHtrZXlkb3duOnRoaXMuZGVmYXVsdEtleVByZXNzfSx7b2JzZXJ2ZUVsZW1lbnQ6dGhpcy5vYnNlcnZlRWxlbWVudHx8ZG9jdW1lbnR9KX0sZGVmYXVsdEtleVByZXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGM9ITA7Yj1PcGVuTGF5ZXJzLkV2ZW50LmVsZW1lbnQoYSk7aWYoIWJ8fCEoIklOUFVUIj09Yi50YWdOYW1lfHwiVEVYVEFSRUEiPT1iLnRhZ05hbWV8fCJTRUxFQ1QiPT1iLnRhZ05hbWUpKXtzd2l0Y2goYS5rZXlDb2RlKXtjYXNlIE9wZW5MYXllcnMuRXZlbnQuS0VZX0xFRlQ6dGhpcy5tYXAucGFuKC10aGlzLnNsaWRlRmFjdG9yLDApO2JyZWFrOwpjYXNlIE9wZW5MYXllcnMuRXZlbnQuS0VZX1JJR0hUOnRoaXMubWFwLnBhbih0aGlzLnNsaWRlRmFjdG9yLDApO2JyZWFrO2Nhc2UgT3BlbkxheWVycy5FdmVudC5LRVlfVVA6dGhpcy5tYXAucGFuKDAsLXRoaXMuc2xpZGVGYWN0b3IpO2JyZWFrO2Nhc2UgT3BlbkxheWVycy5FdmVudC5LRVlfRE9XTjp0aGlzLm1hcC5wYW4oMCx0aGlzLnNsaWRlRmFjdG9yKTticmVhaztjYXNlIDMzOmI9dGhpcy5tYXAuZ2V0U2l6ZSgpO3RoaXMubWFwLnBhbigwLC0wLjc1KmIuaCk7YnJlYWs7Y2FzZSAzNDpiPXRoaXMubWFwLmdldFNpemUoKTt0aGlzLm1hcC5wYW4oMCwwLjc1KmIuaCk7YnJlYWs7Y2FzZSAzNTpiPXRoaXMubWFwLmdldFNpemUoKTt0aGlzLm1hcC5wYW4oMC43NSpiLncsMCk7YnJlYWs7Y2FzZSAzNjpiPXRoaXMubWFwLmdldFNpemUoKTt0aGlzLm1hcC5wYW4oLTAuNzUqYi53LDApO2JyZWFrO2Nhc2UgNDM6Y2FzZSA2MTpjYXNlIDE4NzpjYXNlIDEwNzp0aGlzLm1hcC56b29tSW4oKTsKYnJlYWs7Y2FzZSA0NTpjYXNlIDEwOTpjYXNlIDE4OTpjYXNlIDk1OnRoaXMubWFwLnpvb21PdXQoKTticmVhaztkZWZhdWx0OmM9ITF9YyYmT3BlbkxheWVycy5FdmVudC5zdG9wKGEpfX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLktleWJvYXJkRGVmYXVsdHMifSk7T3BlbkxheWVycy5Gb3JtYXQuV01UU0NhcGFiaWxpdGllcy52MV8wXzA9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24udjFfMV8wLHt2ZXJzaW9uOiIxLjAuMCIsbmFtZXNwYWNlczp7b3dzOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L293cy8xLjEiLHdtdHM6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvd210cy8xLjAiLHhsaW5rOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIn0seXg6bnVsbCxkZWZhdWx0UHJlZml4OiJ3bXRzIixpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSk7dGhpcy5vcHRpb25zPWE7YT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LE9wZW5MYXllcnMuRm9ybWF0LldNVFNDYXBhYmlsaXRpZXMucHJvdG90eXBlLnl4KTt0aGlzLnl4PU9wZW5MYXllcnMuVXRpbC5leHRlbmQoYSx0aGlzLnl4KX0scmVhZDpmdW5jdGlvbihhKXsic3RyaW5nIj09CnR5cGVvZiBhJiYoYT1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxbYV0pKTthJiY5PT1hLm5vZGVUeXBlJiYoYT1hLmRvY3VtZW50RWxlbWVudCk7dmFyIGI9e307dGhpcy5yZWFkTm9kZShhLGIpO2IudmVyc2lvbj10aGlzLnZlcnNpb247cmV0dXJuIGJ9LHJlYWRlcnM6e3dtdHM6e0NhcGFiaWxpdGllczpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sQ29udGVudHM6ZnVuY3Rpb24oYSxiKXtiLmNvbnRlbnRzPXt9O2IuY29udGVudHMubGF5ZXJzPVtdO2IuY29udGVudHMudGlsZU1hdHJpeFNldHM9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuY29udGVudHMpfSxMYXllcjpmdW5jdGlvbihhLGIpe3ZhciBjPXtzdHlsZXM6W10sZm9ybWF0czpbXSxkaW1lbnNpb25zOltdLHRpbGVNYXRyaXhTZXRMaW5rczpbXSxsYXllcnM6W119O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLmxheWVycy5wdXNoKGMpfSxTdHlsZTpmdW5jdGlvbihhLApiKXt2YXIgYz17fTtjLmlzRGVmYXVsdD0idHJ1ZSI9PT1hLmdldEF0dHJpYnV0ZSgiaXNEZWZhdWx0Iik7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2Iuc3R5bGVzLnB1c2goYyl9LEZvcm1hdDpmdW5jdGlvbihhLGIpe2IuZm9ybWF0cy5wdXNoKHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSl9LFRpbGVNYXRyaXhTZXRMaW5rOmZ1bmN0aW9uKGEsYil7dmFyIGM9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IudGlsZU1hdHJpeFNldExpbmtzLnB1c2goYyl9LFRpbGVNYXRyaXhTZXQ6ZnVuY3Rpb24oYSxiKXtpZihiLmxheWVycyl7dmFyIGM9e21hdHJpeElkczpbXX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IudGlsZU1hdHJpeFNldHNbYy5pZGVudGlmaWVyXT1jfWVsc2UgYi50aWxlTWF0cml4U2V0PXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sVGlsZU1hdHJpeDpmdW5jdGlvbihhLGIpe3ZhciBjPXtzdXBwb3J0ZWRDUlM6Yi5zdXBwb3J0ZWRDUlN9O3RoaXMucmVhZENoaWxkTm9kZXMoYSwKYyk7Yi5tYXRyaXhJZHMucHVzaChjKX0sU2NhbGVEZW5vbWluYXRvcjpmdW5jdGlvbihhLGIpe2Iuc2NhbGVEZW5vbWluYXRvcj1wYXJzZUZsb2F0KHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSl9LFRvcExlZnRDb3JuZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYSkuc3BsaXQoIiAiKSxkO2Iuc3VwcG9ydGVkQ1JTJiYoZD1iLnN1cHBvcnRlZENSUy5yZXBsYWNlKC91cm46b2djOmRlZjpjcnM6KFx3Kyk6Lis6KFx3KykkLywidXJuOm9nYzpkZWY6Y3JzOiQxOjokMiIpLGQ9ISF0aGlzLnl4W2RdKTtiLnRvcExlZnRDb3JuZXI9ZD9uZXcgT3BlbkxheWVycy5Mb25MYXQoY1sxXSxjWzBdKTpuZXcgT3BlbkxheWVycy5Mb25MYXQoY1swXSxjWzFdKX0sVGlsZVdpZHRoOmZ1bmN0aW9uKGEsYil7Yi50aWxlV2lkdGg9cGFyc2VJbnQodGhpcy5nZXRDaGlsZFZhbHVlKGEpKX0sVGlsZUhlaWdodDpmdW5jdGlvbihhLGIpe2IudGlsZUhlaWdodD1wYXJzZUludCh0aGlzLmdldENoaWxkVmFsdWUoYSkpfSwKTWF0cml4V2lkdGg6ZnVuY3Rpb24oYSxiKXtiLm1hdHJpeFdpZHRoPXBhcnNlSW50KHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSl9LE1hdHJpeEhlaWdodDpmdW5jdGlvbihhLGIpe2IubWF0cml4SGVpZ2h0PXBhcnNlSW50KHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSl9LFJlc291cmNlVVJMOmZ1bmN0aW9uKGEsYil7Yi5yZXNvdXJjZVVybD1iLnJlc291cmNlVXJsfHx7fTt2YXIgYz1hLmdldEF0dHJpYnV0ZSgicmVzb3VyY2VUeXBlIik7Yi5yZXNvdXJjZVVybHN8fChiLnJlc291cmNlVXJscz1bXSk7Yz1iLnJlc291cmNlVXJsW2NdPXtmb3JtYXQ6YS5nZXRBdHRyaWJ1dGUoImZvcm1hdCIpLHRlbXBsYXRlOmEuZ2V0QXR0cmlidXRlKCJ0ZW1wbGF0ZSIpLHJlc291cmNlVHlwZTpjfTtiLnJlc291cmNlVXJscy5wdXNoKGMpfSxXU0RMOmZ1bmN0aW9uKGEsYil7Yi53c2RsPXt9O2Iud3NkbC5ocmVmPWEuZ2V0QXR0cmlidXRlKCJ4bGluazpocmVmIil9LFNlcnZpY2VNZXRhZGF0YVVSTDpmdW5jdGlvbihhLApiKXtiLnNlcnZpY2VNZXRhZGF0YVVybD17fTtiLnNlcnZpY2VNZXRhZGF0YVVybC5ocmVmPWEuZ2V0QXR0cmlidXRlKCJ4bGluazpocmVmIil9LExlZ2VuZFVSTDpmdW5jdGlvbihhLGIpe2IubGVnZW5kPXt9O2IubGVnZW5kLmhyZWY9YS5nZXRBdHRyaWJ1dGUoInhsaW5rOmhyZWYiKTtiLmxlZ2VuZC5mb3JtYXQ9YS5nZXRBdHRyaWJ1dGUoImZvcm1hdCIpfSxEaW1lbnNpb246ZnVuY3Rpb24oYSxiKXt2YXIgYz17dmFsdWVzOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5kaW1lbnNpb25zLnB1c2goYyl9LERlZmF1bHQ6ZnVuY3Rpb24oYSxiKXtiWyJkZWZhdWx0Il09dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxWYWx1ZTpmdW5jdGlvbihhLGIpe2IudmFsdWVzLnB1c2godGhpcy5nZXRDaGlsZFZhbHVlKGEpKX19LG93czpPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24udjFfMV8wLnByb3RvdHlwZS5yZWFkZXJzLm93c30sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuV01UU0NhcGFiaWxpdGllcy52MV8wXzAifSk7T3BlbkxheWVycy5UaWxlLkltYWdlLklGcmFtZT17dXNlSUZyYW1lOm51bGwsYmxhbmtJbWFnZVVybDoiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBQUFBQVAvLy95SDVCQUVBQUFBQUxBQUFBQUFCQUFFQVFBSUJSQUE3IixkcmF3OmZ1bmN0aW9uKCl7aWYoT3BlbkxheWVycy5UaWxlLkltYWdlLnByb3RvdHlwZS5zaG91bGREcmF3LmNhbGwodGhpcykpe3ZhciBhPXRoaXMubGF5ZXIuZ2V0VVJMKHRoaXMuYm91bmRzKSxiPXRoaXMudXNlSUZyYW1lO3RoaXMudXNlSUZyYW1lPW51bGwhPT10aGlzLm1heEdldFVybExlbmd0aCYmIXRoaXMubGF5ZXIuYXN5bmMmJmEubGVuZ3RoPnRoaXMubWF4R2V0VXJsTGVuZ3RoO2E9YiYmIXRoaXMudXNlSUZyYW1lO2I9IWImJnRoaXMudXNlSUZyYW1lO2lmKGF8fGIpdGhpcy5pbWdEaXYmJnRoaXMuaW1nRGl2LnBhcmVudE5vZGU9PT10aGlzLmZyYW1lJiZ0aGlzLmZyYW1lLnJlbW92ZUNoaWxkKHRoaXMuaW1nRGl2KSx0aGlzLmltZ0Rpdj0KbnVsbCxhJiZ0aGlzLmZyYW1lLnJlbW92ZUNoaWxkKHRoaXMuZnJhbWUuZmlyc3RDaGlsZCl9cmV0dXJuIE9wZW5MYXllcnMuVGlsZS5JbWFnZS5wcm90b3R5cGUuZHJhdy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGdldEltYWdlOmZ1bmN0aW9uKCl7aWYoITA9PT10aGlzLnVzZUlGcmFtZSl7aWYoIXRoaXMuZnJhbWUuY2hpbGROb2Rlcy5sZW5ndGgpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGI9YS5zdHlsZTtiLnBvc2l0aW9uPSJhYnNvbHV0ZSI7Yi53aWR0aD0iMTAwJSI7Yi5oZWlnaHQ9IjEwMCUiO2IuekluZGV4PTE7Yi5iYWNrZ3JvdW5kSW1hZ2U9InVybCgiK3RoaXMuYmxhbmtJbWFnZVVybCsiKSI7dGhpcy5mcmFtZS5hcHBlbmRDaGlsZChhKX1hPXRoaXMuaWQrIl9pRnJhbWUiOzk+cGFyc2VGbG9hdChuYXZpZ2F0b3IuYXBwVmVyc2lvbi5zcGxpdCgiTVNJRSIpWzFdKT8oYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCc8aWZyYW1lIG5hbWU9IicrYSsnIj4nKSwKYi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiNGRkZGRkYiLGIuc3R5bGUuZmlsdGVyPSJjaHJvbWEoY29sb3I9I0ZGRkZGRikiKTooYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKSxiLnN0eWxlLmJhY2tncm91bmRDb2xvcj0idHJhbnNwYXJlbnQiLGIubmFtZT1hKTtiLnNjcm9sbGluZz0ibm8iO2IubWFyZ2luV2lkdGg9IjBweCI7Yi5tYXJnaW5IZWlnaHQ9IjBweCI7Yi5mcmFtZUJvcmRlcj0iMCI7Yi5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2Iuc3R5bGUud2lkdGg9IjEwMCUiO2Iuc3R5bGUuaGVpZ2h0PSIxMDAlIjsxPnRoaXMubGF5ZXIub3BhY2l0eSYmT3BlbkxheWVycy5VdGlsLm1vZGlmeURPTUVsZW1lbnQoYixudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCx0aGlzLmxheWVyLm9wYWNpdHkpO3RoaXMuZnJhbWUuYXBwZW5kQ2hpbGQoYik7cmV0dXJuIHRoaXMuaW1nRGl2PWJ9cmV0dXJuIE9wZW5MYXllcnMuVGlsZS5JbWFnZS5wcm90b3R5cGUuZ2V0SW1hZ2UuYXBwbHkodGhpcywKYXJndW1lbnRzKX0sY3JlYXRlUmVxdWVzdEZvcm06ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJmb3JtIik7YS5tZXRob2Q9IlBPU1QiO3ZhciBiPXRoaXMubGF5ZXIucGFyYW1zLl9PTFNBTFQsYj0oYj9iKyJfIjoiIikrdGhpcy5ib3VuZHMudG9CQk9YKCk7YS5hY3Rpb249T3BlbkxheWVycy5VdGlsLnVybEFwcGVuZCh0aGlzLmxheWVyLnVybCxiKTthLnRhcmdldD10aGlzLmlkKyJfaUZyYW1lIjt0aGlzLmxheWVyLmdldEltYWdlU2l6ZSgpO3ZhciBiPU9wZW5MYXllcnMuVXRpbC5nZXRQYXJhbWV0ZXJzKHRoaXMudXJsKSxjLGQ7Zm9yKGQgaW4gYiljPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0IiksYy50eXBlPSJoaWRkZW4iLGMubmFtZT1kLGMudmFsdWU9YltkXSxhLmFwcGVuZENoaWxkKGMpO3JldHVybiBhfSxzZXRJbWdTcmM6ZnVuY3Rpb24oYSl7aWYoITA9PT10aGlzLnVzZUlGcmFtZSlpZihhKXt2YXIgYj10aGlzLmNyZWF0ZVJlcXVlc3RGb3JtKCk7CnRoaXMuZnJhbWUuYXBwZW5kQ2hpbGQoYik7Yi5zdWJtaXQoKTt0aGlzLmZyYW1lLnJlbW92ZUNoaWxkKGIpfWVsc2UgdGhpcy5pbWdEaXYucGFyZW50Tm9kZT09PXRoaXMuZnJhbWUmJih0aGlzLmZyYW1lLnJlbW92ZUNoaWxkKHRoaXMuaW1nRGl2KSx0aGlzLmltZ0Rpdj1udWxsKTtlbHNlIE9wZW5MYXllcnMuVGlsZS5JbWFnZS5wcm90b3R5cGUuc2V0SW1nU3JjLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sb25JbWFnZUxvYWQ6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLlRpbGUuSW1hZ2UucHJvdG90eXBlLm9uSW1hZ2VMb2FkLmFwcGx5KHRoaXMsYXJndW1lbnRzKTshMD09PXRoaXMudXNlSUZyYW1lJiYodGhpcy5pbWdEaXYuc3R5bGUub3BhY2l0eT0xLHRoaXMuZnJhbWUuc3R5bGUub3BhY2l0eT10aGlzLmxheWVyLm9wYWNpdHkpfSxjcmVhdGVCYWNrQnVmZmVyOmZ1bmN0aW9uKCl7dmFyIGE7ITE9PT10aGlzLnVzZUlGcmFtZSYmKGE9T3BlbkxheWVycy5UaWxlLkltYWdlLnByb3RvdHlwZS5jcmVhdGVCYWNrQnVmZmVyLmNhbGwodGhpcykpOwpyZXR1cm4gYX19Owo=",
                "body": "LyoKCiAgT3BlbkxheWVycy5qcyAtLSBPcGVuTGF5ZXJzIE1hcCBWaWV3ZXIgTGlicmFyeQoKICBDb3B5cmlnaHQgKGMpIDIwMDYtMjAxMyBieSBPcGVuTGF5ZXJzIENvbnRyaWJ1dG9ycwogIFB1Ymxpc2hlZCB1bmRlciB0aGUgMi1jbGF1c2UgQlNEIGxpY2Vuc2UuCiAgU2VlIGh0dHA6Ly9vcGVubGF5ZXJzLm9yZy9kZXYvbGljZW5zZS50eHQgZm9yIHRoZSBmdWxsIHRleHQgb2YgdGhlIGxpY2Vuc2UsIGFuZCBodHRwOi8vb3BlbmxheWVycy5vcmcvZGV2L2F1dGhvcnMudHh0IGZvciBmdWxsIGxpc3Qgb2YgY29udHJpYnV0b3JzLgoKICBJbmNsdWRlcyBjb21wcmVzc2VkIGNvZGUgdW5kZXIgdGhlIGZvbGxvd2luZyBsaWNlbnNlczoKCiAgKEZvciB1bmNvbXByZXNzZWQgdmVyc2lvbnMgb2YgdGhlIGNvZGUgdXNlZCwgcGxlYXNlIHNlZSB0aGUKICBPcGVuTGF5ZXJzIEdpdGh1YiByZXBvc2l0b3J5OiA8aHR0cHM6Ly9naXRodWIuY29tL29wZW5sYXllcnMvb3BlbmxheWVycz4pCgoqLwoKLyoqCiAqIENvbnRhaW5zIFhNTEh0dHBSZXF1ZXN0LmpzIDxodHRwOi8vY29kZS5nb29nbGUuY29tL3AveG1saHR0cHJlcXVlc3QvPgogKiBDb3B5cmlnaHQgMjAwNyBTZXJnZXkgSWxpbnNreSAoaHR0cDovL3d3dy5pbGluc2t5LmNvbSkKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKi8KCi8qKgogKiBPcGVuTGF5ZXJzLlV0aWwucGFnZVBvc2l0aW9uIGlzIGJhc2VkIG9uIFlhaG9vJ3MgZ2V0WFkgbWV0aG9kLCB3aGljaCBpcwogKiBDb3B5cmlnaHQgKGMpIDIwMDYsIFlhaG9vISBJbmMuCiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIAogKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIG9mIHRoaXMgc29mdHdhcmUgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3IKICogd2l0aG91dCBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMKICogYXJlIG1ldDoKICogCiAqICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLAogKiAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuCiAqIAogKiAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwKICogICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uCiAqICAgYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uCiAqIAogKiAqIE5laXRoZXIgdGhlIG5hbWUgb2YgWWFob28hIEluYy4gbm9yIHRoZSBuYW1lcyBvZiBpdHMgY29udHJpYnV0b3JzIG1heSBiZQogKiAgIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQKICogICBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24gb2YgWWFob28hIEluYy4KICogCiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgIkFTIElTIgogKiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFCiAqIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFCiAqIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRQogKiBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SCiAqIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GCiAqIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUwogKiBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTgogKiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKQogKiBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSAKICogUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuCiAqLwp2YXIgT3BlbkxheWVycz17VkVSU0lPTl9OVU1CRVI6IlJlbGVhc2UgMi4xNCBkZXYiLHNpbmdsZUZpbGU6ITAsX2dldFNjcmlwdExvY2F0aW9uOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPS8oXnwoLio/XC8pKShPcGVuTGF5ZXJzW15cL10qP1wuanMpKFw/fCQpLyxiPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKSxjLGQ9IiIsZT0wLGY9Yi5sZW5ndGg7ZTxmO2UrKylpZihjPWJbZV0uZ2V0QXR0cmlidXRlKCJzcmMiKSlpZihjPWMubWF0Y2goYSkpe2Q9Y1sxXTticmVha31yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZH19KCksSW1nUGF0aDoiIn07T3BlbkxheWVycy5DbGFzcz1mdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50cy5sZW5ndGgsYj1hcmd1bWVudHNbMF0sYz1hcmd1bWVudHNbYS0xXSxkPSJmdW5jdGlvbiI9PXR5cGVvZiBjLmluaXRpYWxpemU/Yy5pbml0aWFsaXplOmZ1bmN0aW9uKCl7Yi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9OzE8YT8oYT1bZCxiXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKS5zbGljZSgxLGEtMSksYyksT3BlbkxheWVycy5pbmhlcml0LmFwcGx5KG51bGwsYSkpOmQucHJvdG90eXBlPWM7cmV0dXJuIGR9OwpPcGVuTGF5ZXJzLmluaGVyaXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbigpe307Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7dmFyIGQsZSxjPTI7Zm9yKGQ9YXJndW1lbnRzLmxlbmd0aDtjPGQ7YysrKWU9YXJndW1lbnRzW2NdLCJmdW5jdGlvbiI9PT10eXBlb2YgZSYmKGU9ZS5wcm90b3R5cGUpLE9wZW5MYXllcnMuVXRpbC5leHRlbmQoYS5wcm90b3R5cGUsZSl9O09wZW5MYXllcnMuVXRpbD1PcGVuTGF5ZXJzLlV0aWx8fHt9O09wZW5MYXllcnMuVXRpbC5leHRlbmQ9ZnVuY3Rpb24oYSxiKXthPWF8fHt9O2lmKGIpe2Zvcih2YXIgYyBpbiBiKXt2YXIgZD1iW2NdO3ZvaWQgMCE9PWQmJihhW2NdPWQpfSEoImZ1bmN0aW9uIj09dHlwZW9mIHdpbmRvdy5FdmVudCYmYiBpbnN0YW5jZW9mIHdpbmRvdy5FdmVudCkmJihiLmhhc093blByb3BlcnR5JiZiLmhhc093blByb3BlcnR5KCJ0b1N0cmluZyIpKSYmKGEudG9TdHJpbmc9Yi50b1N0cmluZyl9cmV0dXJuIGF9O09wZW5MYXllcnMuU3RyaW5nPXtzdGFydHNXaXRoOmZ1bmN0aW9uKGEsYil7cmV0dXJuIDA9PWEuaW5kZXhPZihiKX0sY29udGFpbnM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4tMSE9YS5pbmRleE9mKGIpfSx0cmltOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL15cc1xzKi8sIiIpLnJlcGxhY2UoL1xzXHMqJC8sIiIpfSxjYW1lbGl6ZTpmdW5jdGlvbihhKXtmb3IodmFyIGE9YS5zcGxpdCgiLSIpLGI9YVswXSxjPTEsZD1hLmxlbmd0aDtjPGQ7YysrKXZhciBlPWFbY10sYj1iKyhlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Uuc3Vic3RyaW5nKDEpKTtyZXR1cm4gYn0sZm9ybWF0OmZ1bmN0aW9uKGEsYixjKXtifHwoYj13aW5kb3cpO3JldHVybiBhLnJlcGxhY2UoT3BlbkxheWVycy5TdHJpbmcudG9rZW5SZWdFeCxmdW5jdGlvbihhLGUpe2Zvcih2YXIgZixnPWUuc3BsaXQoL1wuKy8pLGg9MDtoPGcubGVuZ3RoO2grKyl7MD09aCYmKGY9Yik7aWYodm9pZCAwPT09ZilicmVhazsKZj1mW2dbaF1dfSJmdW5jdGlvbiI9PXR5cGVvZiBmJiYoZj1jP2YuYXBwbHkobnVsbCxjKTpmKCkpO3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZj8idW5kZWZpbmVkIjpmfSl9LHRva2VuUmVnRXg6L1wkXHsoW1x3Ll0rPylcfS9nLG51bWJlclJlZ0V4Oi9eKFsrLV0/KSg/PVxkfFwuXGQpXGQqKFwuXGQqKT8oW0VlXShbKy1dP1xkKykpPyQvLGlzTnVtZXJpYzpmdW5jdGlvbihhKXtyZXR1cm4gT3BlbkxheWVycy5TdHJpbmcubnVtYmVyUmVnRXgudGVzdChhKX0sbnVtZXJpY0lmOmZ1bmN0aW9uKGEsYil7dmFyIGM9YTshMD09PWImJihudWxsIT1hJiZhLnJlcGxhY2UpJiYoYT1hLnJlcGxhY2UoL15ccyp8XHMqJC9nLCIiKSk7cmV0dXJuIE9wZW5MYXllcnMuU3RyaW5nLmlzTnVtZXJpYyhhKT9wYXJzZUZsb2F0KGEpOmN9fTsKT3BlbkxheWVycy5OdW1iZXI9e2RlY2ltYWxTZXBhcmF0b3I6Ii4iLHRob3VzYW5kc1NlcGFyYXRvcjoiLCIsbGltaXRTaWdEaWdzOmZ1bmN0aW9uKGEsYil7dmFyIGM9MDswPGImJihjPXBhcnNlRmxvYXQoYS50b1ByZWNpc2lvbihiKSkpO3JldHVybiBjfSxmb3JtYXQ6ZnVuY3Rpb24oYSxiLGMsZCl7Yj0idW5kZWZpbmVkIiE9dHlwZW9mIGI/YjowO2M9InVuZGVmaW5lZCIhPXR5cGVvZiBjP2M6T3BlbkxheWVycy5OdW1iZXIudGhvdXNhbmRzU2VwYXJhdG9yO2Q9InVuZGVmaW5lZCIhPXR5cGVvZiBkP2Q6T3BlbkxheWVycy5OdW1iZXIuZGVjaW1hbFNlcGFyYXRvcjtudWxsIT1iJiYoYT1wYXJzZUZsb2F0KGEudG9GaXhlZChiKSkpO3ZhciBlPWEudG9TdHJpbmcoKS5zcGxpdCgiLiIpOzE9PWUubGVuZ3RoJiZudWxsPT1iJiYoYj0wKTthPWVbMF07aWYoYylmb3IodmFyIGY9LygtP1swLTldKykoWzAtOV17M30pLztmLnRlc3QoYSk7KWE9YS5yZXBsYWNlKGYsIiQxIitjKyIkMiIpOwowPT1iP2I9YTooYz0xPGUubGVuZ3RoP2VbMV06IjAiLG51bGwhPWImJihjKz1BcnJheShiLWMubGVuZ3RoKzEpLmpvaW4oIjAiKSksYj1hK2QrYyk7cmV0dXJuIGJ9LHplcm9QYWQ6ZnVuY3Rpb24oYSxiLGMpe2ZvcihhPWEudG9TdHJpbmcoY3x8MTApO2EubGVuZ3RoPGI7KWE9IjAiK2E7cmV0dXJuIGF9fTsKT3BlbkxheWVycy5GdW5jdGlvbj17YmluZDpmdW5jdGlvbihhLGIpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShhcmd1bWVudHMsWzJdKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZD1jLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuYXBwbHkoYXJndW1lbnRzLFswXSkpO3JldHVybiBhLmFwcGx5KGIsZCl9fSxiaW5kQXNFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVybiBhLmNhbGwoYixjfHx3aW5kb3cuZXZlbnQpfX0sRmFsc2U6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sVHJ1ZTpmdW5jdGlvbigpe3JldHVybiEwfSxWb2lkOmZ1bmN0aW9uKCl7fX07Ck9wZW5MYXllcnMuQXJyYXk9e2ZpbHRlcjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9W107aWYoQXJyYXkucHJvdG90eXBlLmZpbHRlcilkPWEuZmlsdGVyKGIsYyk7ZWxzZXt2YXIgZT1hLmxlbmd0aDtpZigiZnVuY3Rpb24iIT10eXBlb2YgYil0aHJvdyBuZXcgVHlwZUVycm9yO2Zvcih2YXIgZj0wO2Y8ZTtmKyspaWYoZiBpbiBhKXt2YXIgZz1hW2ZdO2IuY2FsbChjLGcsZixhKSYmZC5wdXNoKGcpfX1yZXR1cm4gZH19O09wZW5MYXllcnMuQm91bmRzPU9wZW5MYXllcnMuQ2xhc3Moe2xlZnQ6bnVsbCxib3R0b206bnVsbCxyaWdodDpudWxsLHRvcDpudWxsLGNlbnRlckxvbkxhdDpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCl7T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSkmJihkPWFbM10sYz1hWzJdLGI9YVsxXSxhPWFbMF0pO251bGwhPWEmJih0aGlzLmxlZnQ9T3BlbkxheWVycy5VdGlsLnRvRmxvYXQoYSkpO251bGwhPWImJih0aGlzLmJvdHRvbT1PcGVuTGF5ZXJzLlV0aWwudG9GbG9hdChiKSk7bnVsbCE9YyYmKHRoaXMucmlnaHQ9T3BlbkxheWVycy5VdGlsLnRvRmxvYXQoYykpO251bGwhPWQmJih0aGlzLnRvcD1PcGVuTGF5ZXJzLlV0aWwudG9GbG9hdChkKSl9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkJvdW5kcyh0aGlzLmxlZnQsdGhpcy5ib3R0b20sdGhpcy5yaWdodCx0aGlzLnRvcCl9LGVxdWFsczpmdW5jdGlvbihhKXt2YXIgYj0hMTtudWxsIT0KYSYmKGI9dGhpcy5sZWZ0PT1hLmxlZnQmJnRoaXMucmlnaHQ9PWEucmlnaHQmJnRoaXMudG9wPT1hLnRvcCYmdGhpcy5ib3R0b209PWEuYm90dG9tKTtyZXR1cm4gYn0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5sZWZ0LHRoaXMuYm90dG9tLHRoaXMucmlnaHQsdGhpcy50b3BdLmpvaW4oKX0sdG9BcnJheTpmdW5jdGlvbihhKXtyZXR1cm4hMD09PWE/W3RoaXMuYm90dG9tLHRoaXMubGVmdCx0aGlzLnRvcCx0aGlzLnJpZ2h0XTpbdGhpcy5sZWZ0LHRoaXMuYm90dG9tLHRoaXMucmlnaHQsdGhpcy50b3BdfSx0b0JCT1g6ZnVuY3Rpb24oYSxiKXtudWxsPT1hJiYoYT02KTt2YXIgYz1NYXRoLnBvdygxMCxhKSxkPU1hdGgucm91bmQodGhpcy5sZWZ0KmMpL2MsZT1NYXRoLnJvdW5kKHRoaXMuYm90dG9tKmMpL2MsZj1NYXRoLnJvdW5kKHRoaXMucmlnaHQqYykvYyxjPU1hdGgucm91bmQodGhpcy50b3AqYykvYztyZXR1cm4hMD09PWI/ZSsiLCIrZCsiLCIrYysiLCIrZjpkKwoiLCIrZSsiLCIrZisiLCIrY30sdG9HZW9tZXRyeTpmdW5jdGlvbigpe3JldHVybiBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uKFtuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lYXJSaW5nKFtuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCh0aGlzLmxlZnQsdGhpcy5ib3R0b20pLG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHRoaXMucmlnaHQsdGhpcy5ib3R0b20pLG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHRoaXMucmlnaHQsdGhpcy50b3ApLG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHRoaXMubGVmdCx0aGlzLnRvcCldKV0pfSxnZXRXaWR0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJpZ2h0LXRoaXMubGVmdH0sZ2V0SGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9wLXRoaXMuYm90dG9tfSxnZXRTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLlNpemUodGhpcy5nZXRXaWR0aCgpLHRoaXMuZ2V0SGVpZ2h0KCkpfSwKZ2V0Q2VudGVyUGl4ZWw6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE9wZW5MYXllcnMuUGl4ZWwoKHRoaXMubGVmdCt0aGlzLnJpZ2h0KS8yLCh0aGlzLmJvdHRvbSt0aGlzLnRvcCkvMil9LGdldENlbnRlckxvbkxhdDpmdW5jdGlvbigpe3RoaXMuY2VudGVyTG9uTGF0fHwodGhpcy5jZW50ZXJMb25MYXQ9bmV3IE9wZW5MYXllcnMuTG9uTGF0KCh0aGlzLmxlZnQrdGhpcy5yaWdodCkvMiwodGhpcy5ib3R0b20rdGhpcy50b3ApLzIpKTtyZXR1cm4gdGhpcy5jZW50ZXJMb25MYXR9LHNjYWxlOmZ1bmN0aW9uKGEsYil7bnVsbD09YiYmKGI9dGhpcy5nZXRDZW50ZXJMb25MYXQoKSk7dmFyIGMsZDsiT3BlbkxheWVycy5Mb25MYXQiPT1iLkNMQVNTX05BTUU/KGM9Yi5sb24sZD1iLmxhdCk6KGM9Yi54LGQ9Yi55KTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuQm91bmRzKCh0aGlzLmxlZnQtYykqYStjLCh0aGlzLmJvdHRvbS1kKSphK2QsKHRoaXMucmlnaHQtYykqYStjLCh0aGlzLnRvcC1kKSphKwpkKX0sYWRkOmZ1bmN0aW9uKGEsYil7aWYobnVsbD09YXx8bnVsbD09Yil0aHJvdyBuZXcgVHlwZUVycm9yKCJCb3VuZHMuYWRkIGNhbm5vdCByZWNlaXZlIG51bGwgdmFsdWVzIik7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkJvdW5kcyh0aGlzLmxlZnQrYSx0aGlzLmJvdHRvbStiLHRoaXMucmlnaHQrYSx0aGlzLnRvcCtiKX0sZXh0ZW5kOmZ1bmN0aW9uKGEpe2lmKGEpc3dpdGNoKGEuQ0xBU1NfTkFNRSl7Y2FzZSAiT3BlbkxheWVycy5Mb25MYXQiOnRoaXMuZXh0ZW5kWFkoYS5sb24sYS5sYXQpO2JyZWFrO2Nhc2UgIk9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQiOnRoaXMuZXh0ZW5kWFkoYS54LGEueSk7YnJlYWs7Y2FzZSAiT3BlbkxheWVycy5Cb3VuZHMiOnRoaXMuY2VudGVyTG9uTGF0PW51bGw7aWYobnVsbD09dGhpcy5sZWZ0fHxhLmxlZnQ8dGhpcy5sZWZ0KXRoaXMubGVmdD1hLmxlZnQ7aWYobnVsbD09dGhpcy5ib3R0b218fGEuYm90dG9tPHRoaXMuYm90dG9tKXRoaXMuYm90dG9tPQphLmJvdHRvbTtpZihudWxsPT10aGlzLnJpZ2h0fHxhLnJpZ2h0PnRoaXMucmlnaHQpdGhpcy5yaWdodD1hLnJpZ2h0O2lmKG51bGw9PXRoaXMudG9wfHxhLnRvcD50aGlzLnRvcCl0aGlzLnRvcD1hLnRvcH19LGV4dGVuZFhZOmZ1bmN0aW9uKGEsYil7dGhpcy5jZW50ZXJMb25MYXQ9bnVsbDtpZihudWxsPT10aGlzLmxlZnR8fGE8dGhpcy5sZWZ0KXRoaXMubGVmdD1hO2lmKG51bGw9PXRoaXMuYm90dG9tfHxiPHRoaXMuYm90dG9tKXRoaXMuYm90dG9tPWI7aWYobnVsbD09dGhpcy5yaWdodHx8YT50aGlzLnJpZ2h0KXRoaXMucmlnaHQ9YTtpZihudWxsPT10aGlzLnRvcHx8Yj50aGlzLnRvcCl0aGlzLnRvcD1ifSxjb250YWluc0xvbkxhdDpmdW5jdGlvbihhLGIpeyJib29sZWFuIj09PXR5cGVvZiBiJiYoYj17aW5jbHVzaXZlOmJ9KTt2YXIgYj1ifHx7fSxjPXRoaXMuY29udGFpbnMoYS5sb24sYS5sYXQsYi5pbmNsdXNpdmUpLGQ9Yi53b3JsZEJvdW5kcztkJiYhYyYmKGM9ZC5nZXRXaWR0aCgpLApkPU1hdGgucm91bmQoKGEubG9uLShkLmxlZnQrZC5yaWdodCkvMikvYyksYz10aGlzLmNvbnRhaW5zTG9uTGF0KHtsb246YS5sb24tZCpjLGxhdDphLmxhdH0se2luY2x1c2l2ZTpiLmluY2x1c2l2ZX0pKTtyZXR1cm4gY30sY29udGFpbnNQaXhlbDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmNvbnRhaW5zKGEueCxhLnksYil9LGNvbnRhaW5zOmZ1bmN0aW9uKGEsYixjKXtudWxsPT1jJiYoYz0hMCk7aWYobnVsbD09YXx8bnVsbD09YilyZXR1cm4hMTt2YXIgYT1PcGVuTGF5ZXJzLlV0aWwudG9GbG9hdChhKSxiPU9wZW5MYXllcnMuVXRpbC50b0Zsb2F0KGIpLGQ9ITE7cmV0dXJuIGQ9Yz9hPj10aGlzLmxlZnQmJmE8PXRoaXMucmlnaHQmJmI+PXRoaXMuYm90dG9tJiZiPD10aGlzLnRvcDphPnRoaXMubGVmdCYmYTx0aGlzLnJpZ2h0JiZiPnRoaXMuYm90dG9tJiZiPHRoaXMudG9wfSxpbnRlcnNlY3RzQm91bmRzOmZ1bmN0aW9uKGEsYil7ImJvb2xlYW4iPT09dHlwZW9mIGImJihiPQp7aW5jbHVzaXZlOmJ9KTtiPWJ8fHt9O2lmKGIud29ybGRCb3VuZHMpdmFyIGM9dGhpcy53cmFwRGF0ZUxpbmUoYi53b3JsZEJvdW5kcyksYT1hLndyYXBEYXRlTGluZShiLndvcmxkQm91bmRzKTtlbHNlIGM9dGhpcztudWxsPT1iLmluY2x1c2l2ZSYmKGIuaW5jbHVzaXZlPSEwKTt2YXIgZD0hMSxlPWMubGVmdD09YS5yaWdodHx8Yy5yaWdodD09YS5sZWZ0fHxjLnRvcD09YS5ib3R0b218fGMuYm90dG9tPT1hLnRvcDtpZihiLmluY2x1c2l2ZXx8IWUpdmFyIGQ9YS50b3A+PWMuYm90dG9tJiZhLnRvcDw9Yy50b3B8fGMudG9wPmEuYm90dG9tJiZjLnRvcDxhLnRvcCxlPWEubGVmdD49Yy5sZWZ0JiZhLmxlZnQ8PWMucmlnaHR8fGMubGVmdD49YS5sZWZ0JiZjLmxlZnQ8PWEucmlnaHQsZj1hLnJpZ2h0Pj1jLmxlZnQmJmEucmlnaHQ8PWMucmlnaHR8fGMucmlnaHQ+PWEubGVmdCYmYy5yaWdodDw9YS5yaWdodCxkPShhLmJvdHRvbT49Yy5ib3R0b20mJmEuYm90dG9tPD1jLnRvcHx8Yy5ib3R0b20+PQphLmJvdHRvbSYmYy5ib3R0b208PWEudG9wfHxkKSYmKGV8fGYpO2lmKGIud29ybGRCb3VuZHMmJiFkKXt2YXIgZz1iLndvcmxkQm91bmRzLGU9Zy5nZXRXaWR0aCgpLGY9IWcuY29udGFpbnNCb3VuZHMoYyksZz0hZy5jb250YWluc0JvdW5kcyhhKTtmJiYhZz8oYT1hLmFkZCgtZSwwKSxkPWMuaW50ZXJzZWN0c0JvdW5kcyhhLHtpbmNsdXNpdmU6Yi5pbmNsdXNpdmV9KSk6ZyYmIWYmJihjPWMuYWRkKC1lLDApLGQ9YS5pbnRlcnNlY3RzQm91bmRzKGMse2luY2x1c2l2ZTpiLmluY2x1c2l2ZX0pKX1yZXR1cm4gZH0sY29udGFpbnNCb3VuZHM6ZnVuY3Rpb24oYSxiLGMpe251bGw9PWImJihiPSExKTtudWxsPT1jJiYoYz0hMCk7dmFyIGQ9dGhpcy5jb250YWlucyhhLmxlZnQsYS5ib3R0b20sYyksZT10aGlzLmNvbnRhaW5zKGEucmlnaHQsYS5ib3R0b20sYyksZj10aGlzLmNvbnRhaW5zKGEubGVmdCxhLnRvcCxjKSxhPXRoaXMuY29udGFpbnMoYS5yaWdodCxhLnRvcCxjKTtyZXR1cm4gYj8KZHx8ZXx8Znx8YTpkJiZlJiZmJiZhfSxkZXRlcm1pbmVRdWFkcmFudDpmdW5jdGlvbihhKXt2YXIgYj0iIixjPXRoaXMuZ2V0Q2VudGVyTG9uTGF0KCksYj1iKyhhLmxhdDxjLmxhdD8iYiI6InQiKTtyZXR1cm4gYis9YS5sb248Yy5sb24/ImwiOiJyIn0sdHJhbnNmb3JtOmZ1bmN0aW9uKGEsYil7dGhpcy5jZW50ZXJMb25MYXQ9bnVsbDt2YXIgYz1PcGVuTGF5ZXJzLlByb2plY3Rpb24udHJhbnNmb3JtKHt4OnRoaXMubGVmdCx5OnRoaXMuYm90dG9tfSxhLGIpLGQ9T3BlbkxheWVycy5Qcm9qZWN0aW9uLnRyYW5zZm9ybSh7eDp0aGlzLnJpZ2h0LHk6dGhpcy5ib3R0b219LGEsYiksZT1PcGVuTGF5ZXJzLlByb2plY3Rpb24udHJhbnNmb3JtKHt4OnRoaXMubGVmdCx5OnRoaXMudG9wfSxhLGIpLGY9T3BlbkxheWVycy5Qcm9qZWN0aW9uLnRyYW5zZm9ybSh7eDp0aGlzLnJpZ2h0LHk6dGhpcy50b3B9LGEsYik7dGhpcy5sZWZ0PU1hdGgubWluKGMueCxlLngpO3RoaXMuYm90dG9tPU1hdGgubWluKGMueSwKZC55KTt0aGlzLnJpZ2h0PU1hdGgubWF4KGQueCxmLngpO3RoaXMudG9wPU1hdGgubWF4KGUueSxmLnkpO3JldHVybiB0aGlzfSx3cmFwRGF0ZUxpbmU6ZnVuY3Rpb24oYSxiKXt2YXIgYj1ifHx7fSxjPWIubGVmdFRvbGVyYW5jZXx8MCxkPWIucmlnaHRUb2xlcmFuY2V8fDAsZT10aGlzLmNsb25lKCk7aWYoYSl7Zm9yKHZhciBmPWEuZ2V0V2lkdGgoKTtlLmxlZnQ8YS5sZWZ0JiZlLnJpZ2h0LWQ8PWEubGVmdDspZT1lLmFkZChmLDApO2Zvcig7ZS5sZWZ0K2M+PWEucmlnaHQmJmUucmlnaHQ+YS5yaWdodDspZT1lLmFkZCgtZiwwKTtjPWUubGVmdCtjO2M8YS5yaWdodCYmKGM+YS5sZWZ0JiZlLnJpZ2h0LWQ+YS5yaWdodCkmJihlPWUuYWRkKC1mLDApKX1yZXR1cm4gZX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Cb3VuZHMifSk7Ck9wZW5MYXllcnMuQm91bmRzLmZyb21TdHJpbmc9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnNwbGl0KCIsIik7cmV0dXJuIE9wZW5MYXllcnMuQm91bmRzLmZyb21BcnJheShjLGIpfTtPcGVuTGF5ZXJzLkJvdW5kcy5mcm9tQXJyYXk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hMD09PWI/bmV3IE9wZW5MYXllcnMuQm91bmRzKGFbMV0sYVswXSxhWzNdLGFbMl0pOm5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhhWzBdLGFbMV0sYVsyXSxhWzNdKX07T3BlbkxheWVycy5Cb3VuZHMuZnJvbVNpemU9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkJvdW5kcygwLGEuaCxhLncsMCl9O09wZW5MYXllcnMuQm91bmRzLm9wcG9zaXRlUXVhZHJhbnQ9ZnVuY3Rpb24oYSl7dmFyIGI7Yj0iIisoInQiPT1hLmNoYXJBdCgwKT8iYiI6InQiKTtyZXR1cm4gYis9ImwiPT1hLmNoYXJBdCgxKT8iciI6ImwifTtPcGVuTGF5ZXJzLkVsZW1lbnQ9e3Zpc2libGU6ZnVuY3Rpb24oYSl7cmV0dXJuIm5vbmUiIT1PcGVuTGF5ZXJzLlV0aWwuZ2V0RWxlbWVudChhKS5zdHlsZS5kaXNwbGF5fSx0b2dnbGU6ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPWFyZ3VtZW50cy5sZW5ndGg7YTxiO2ErKyl7dmFyIGM9T3BlbkxheWVycy5VdGlsLmdldEVsZW1lbnQoYXJndW1lbnRzW2FdKSxkPU9wZW5MYXllcnMuRWxlbWVudC52aXNpYmxlKGMpPyJub25lIjoiIjtjLnN0eWxlLmRpc3BsYXk9ZH19LHJlbW92ZTpmdW5jdGlvbihhKXthPU9wZW5MYXllcnMuVXRpbC5nZXRFbGVtZW50KGEpO2EucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKX0sZ2V0SGVpZ2h0OmZ1bmN0aW9uKGEpe2E9T3BlbkxheWVycy5VdGlsLmdldEVsZW1lbnQoYSk7cmV0dXJuIGEub2Zmc2V0SGVpZ2h0fSxoYXNDbGFzczpmdW5jdGlvbihhLGIpe3ZhciBjPWEuY2xhc3NOYW1lO3JldHVybiEhYyYmUmVnRXhwKCIoXnxcXHMpIitiKyIoXFxzfCQpIikudGVzdChjKX0sCmFkZENsYXNzOmZ1bmN0aW9uKGEsYil7T3BlbkxheWVycy5FbGVtZW50Lmhhc0NsYXNzKGEsYil8fChhLmNsYXNzTmFtZSs9KGEuY2xhc3NOYW1lPyIgIjoiIikrYik7cmV0dXJuIGF9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5jbGFzc05hbWU7YyYmKGEuY2xhc3NOYW1lPU9wZW5MYXllcnMuU3RyaW5nLnRyaW0oYy5yZXBsYWNlKFJlZ0V4cCgiKF58XFxzKykiK2IrIihcXHMrfCQpIiksIiAiKSkpO3JldHVybiBhfSx0b2dnbGVDbGFzczpmdW5jdGlvbihhLGIpe09wZW5MYXllcnMuRWxlbWVudC5oYXNDbGFzcyhhLGIpP09wZW5MYXllcnMuRWxlbWVudC5yZW1vdmVDbGFzcyhhLGIpOk9wZW5MYXllcnMuRWxlbWVudC5hZGRDbGFzcyhhLGIpO3JldHVybiBhfSxnZXRTdHlsZTpmdW5jdGlvbihhLGIpe3ZhciBhPU9wZW5MYXllcnMuVXRpbC5nZXRFbGVtZW50KGEpLGM9bnVsbDtpZihhJiZhLnN0eWxlKXtjPWEuc3R5bGVbT3BlbkxheWVycy5TdHJpbmcuY2FtZWxpemUoYildOwpjfHwoZG9jdW1lbnQuZGVmYXVsdFZpZXcmJmRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGU/Yz0oYz1kb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGEsbnVsbCkpP2MuZ2V0UHJvcGVydHlWYWx1ZShiKTpudWxsOmEuY3VycmVudFN0eWxlJiYoYz1hLmN1cnJlbnRTdHlsZVtPcGVuTGF5ZXJzLlN0cmluZy5jYW1lbGl6ZShiKV0pKTt2YXIgZD1bImxlZnQiLCJ0b3AiLCJyaWdodCIsImJvdHRvbSJdO3dpbmRvdy5vcGVyYSYmKC0xIT1PcGVuTGF5ZXJzLlV0aWwuaW5kZXhPZihkLGIpJiYic3RhdGljIj09T3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKGEsInBvc2l0aW9uIikpJiYoYz0iYXV0byIpfXJldHVybiJhdXRvIj09Yz9udWxsOmN9fTtPcGVuTGF5ZXJzLkxvbkxhdD1PcGVuTGF5ZXJzLkNsYXNzKHtsb246MCxsYXQ6MCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYil7T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSkmJihiPWFbMV0sYT1hWzBdKTt0aGlzLmxvbj1PcGVuTGF5ZXJzLlV0aWwudG9GbG9hdChhKTt0aGlzLmxhdD1PcGVuTGF5ZXJzLlV0aWwudG9GbG9hdChiKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4ibG9uPSIrdGhpcy5sb24rIixsYXQ9Iit0aGlzLmxhdH0sdG9TaG9ydFN0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxvbisiLCAiK3RoaXMubGF0fSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgT3BlbkxheWVycy5Mb25MYXQodGhpcy5sb24sdGhpcy5sYXQpfSxhZGQ6ZnVuY3Rpb24oYSxiKXtpZihudWxsPT1hfHxudWxsPT1iKXRocm93IG5ldyBUeXBlRXJyb3IoIkxvbkxhdC5hZGQgY2Fubm90IHJlY2VpdmUgbnVsbCB2YWx1ZXMiKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuTG9uTGF0KHRoaXMubG9uKwpPcGVuTGF5ZXJzLlV0aWwudG9GbG9hdChhKSx0aGlzLmxhdCtPcGVuTGF5ZXJzLlV0aWwudG9GbG9hdChiKSl9LGVxdWFsczpmdW5jdGlvbihhKXt2YXIgYj0hMTtudWxsIT1hJiYoYj10aGlzLmxvbj09YS5sb24mJnRoaXMubGF0PT1hLmxhdHx8aXNOYU4odGhpcy5sb24pJiZpc05hTih0aGlzLmxhdCkmJmlzTmFOKGEubG9uKSYmaXNOYU4oYS5sYXQpKTtyZXR1cm4gYn0sdHJhbnNmb3JtOmZ1bmN0aW9uKGEsYil7dmFyIGM9T3BlbkxheWVycy5Qcm9qZWN0aW9uLnRyYW5zZm9ybSh7eDp0aGlzLmxvbix5OnRoaXMubGF0fSxhLGIpO3RoaXMubG9uPWMueDt0aGlzLmxhdD1jLnk7cmV0dXJuIHRoaXN9LHdyYXBEYXRlTGluZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNsb25lKCk7aWYoYSl7Zm9yKDtiLmxvbjxhLmxlZnQ7KWIubG9uKz1hLmdldFdpZHRoKCk7Zm9yKDtiLmxvbj5hLnJpZ2h0OyliLmxvbi09YS5nZXRXaWR0aCgpfXJldHVybiBifSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxvbkxhdCJ9KTsKT3BlbkxheWVycy5Mb25MYXQuZnJvbVN0cmluZz1mdW5jdGlvbihhKXthPWEuc3BsaXQoIiwiKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuTG9uTGF0KGFbMF0sYVsxXSl9O09wZW5MYXllcnMuTG9uTGF0LmZyb21BcnJheT1mdW5jdGlvbihhKXt2YXIgYj1PcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShhKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuTG9uTGF0KGImJmFbMF0sYiYmYVsxXSl9O09wZW5MYXllcnMuUGl4ZWw9T3BlbkxheWVycy5DbGFzcyh7eDowLHk6MCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYil7dGhpcy54PXBhcnNlRmxvYXQoYSk7dGhpcy55PXBhcnNlRmxvYXQoYil9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIng9Iit0aGlzLngrIix5PSIrdGhpcy55fSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgT3BlbkxheWVycy5QaXhlbCh0aGlzLngsdGhpcy55KX0sZXF1YWxzOmZ1bmN0aW9uKGEpe3ZhciBiPSExO251bGwhPWEmJihiPXRoaXMueD09YS54JiZ0aGlzLnk9PWEueXx8aXNOYU4odGhpcy54KSYmaXNOYU4odGhpcy55KSYmaXNOYU4oYS54KSYmaXNOYU4oYS55KSk7cmV0dXJuIGJ9LGRpc3RhbmNlVG86ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyh0aGlzLngtYS54LDIpK01hdGgucG93KHRoaXMueS1hLnksMikpfSxhZGQ6ZnVuY3Rpb24oYSxiKXtpZihudWxsPT1hfHxudWxsPT1iKXRocm93IG5ldyBUeXBlRXJyb3IoIlBpeGVsLmFkZCBjYW5ub3QgcmVjZWl2ZSBudWxsIHZhbHVlcyIpOwpyZXR1cm4gbmV3IE9wZW5MYXllcnMuUGl4ZWwodGhpcy54K2EsdGhpcy55K2IpfSxvZmZzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jbG9uZSgpO2EmJihiPXRoaXMuYWRkKGEueCxhLnkpKTtyZXR1cm4gYn0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5QaXhlbCJ9KTtPcGVuTGF5ZXJzLlNpemU9T3BlbkxheWVycy5DbGFzcyh7dzowLGg6MCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYil7dGhpcy53PXBhcnNlRmxvYXQoYSk7dGhpcy5oPXBhcnNlRmxvYXQoYil9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuInc9Iit0aGlzLncrIixoPSIrdGhpcy5ofSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgT3BlbkxheWVycy5TaXplKHRoaXMudyx0aGlzLmgpfSxlcXVhbHM6ZnVuY3Rpb24oYSl7dmFyIGI9ITE7bnVsbCE9YSYmKGI9dGhpcy53PT1hLncmJnRoaXMuaD09YS5ofHxpc05hTih0aGlzLncpJiZpc05hTih0aGlzLmgpJiZpc05hTihhLncpJiZpc05hTihhLmgpKTtyZXR1cm4gYn0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5TaXplIn0pO09wZW5MYXllcnMuQ29uc29sZT17bG9nOmZ1bmN0aW9uKCl7fSxkZWJ1ZzpmdW5jdGlvbigpe30saW5mbzpmdW5jdGlvbigpe30sd2FybjpmdW5jdGlvbigpe30sZXJyb3I6ZnVuY3Rpb24oKXt9LHVzZXJFcnJvcjpmdW5jdGlvbihhKXthbGVydChhKX0sYXNzZXJ0OmZ1bmN0aW9uKCl7fSxkaXI6ZnVuY3Rpb24oKXt9LGRpcnhtbDpmdW5jdGlvbigpe30sdHJhY2U6ZnVuY3Rpb24oKXt9LGdyb3VwOmZ1bmN0aW9uKCl7fSxncm91cEVuZDpmdW5jdGlvbigpe30sdGltZTpmdW5jdGlvbigpe30sdGltZUVuZDpmdW5jdGlvbigpe30scHJvZmlsZTpmdW5jdGlvbigpe30scHJvZmlsZUVuZDpmdW5jdGlvbigpe30sY291bnQ6ZnVuY3Rpb24oKXt9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29uc29sZSJ9OwooZnVuY3Rpb24oKXtmb3IodmFyIGE9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLGI9MCxjPWEubGVuZ3RoO2I8YzsrK2IpaWYoLTEhPWFbYl0uc3JjLmluZGV4T2YoImZpcmVidWcuanMiKSYmY29uc29sZSl7T3BlbkxheWVycy5VdGlsLmV4dGVuZChPcGVuTGF5ZXJzLkNvbnNvbGUsY29uc29sZSk7YnJlYWt9fSkoKTtPcGVuTGF5ZXJzLkxhbmc9e2NvZGU6bnVsbCxkZWZhdWx0Q29kZToiZW4iLGdldENvZGU6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkxhbmcuY29kZXx8T3BlbkxheWVycy5MYW5nLnNldENvZGUoKTtyZXR1cm4gT3BlbkxheWVycy5MYW5nLmNvZGV9LHNldENvZGU6ZnVuY3Rpb24oYSl7dmFyIGI7YXx8KGE9Im1zaWUiPT1PcGVuTGF5ZXJzLkJST1dTRVJfTkFNRT9uYXZpZ2F0b3IudXNlckxhbmd1YWdlOm5hdmlnYXRvci5sYW5ndWFnZSk7YT1hLnNwbGl0KCItIik7YVswXT1hWzBdLnRvTG93ZXJDYXNlKCk7Im9iamVjdCI9PXR5cGVvZiBPcGVuTGF5ZXJzLkxhbmdbYVswXV0mJihiPWFbMF0pO2lmKGFbMV0pe3ZhciBjPWFbMF0rIi0iK2FbMV0udG9VcHBlckNhc2UoKTsib2JqZWN0Ij09dHlwZW9mIE9wZW5MYXllcnMuTGFuZ1tjXSYmKGI9Yyl9Ynx8KE9wZW5MYXllcnMuQ29uc29sZS53YXJuKCJGYWlsZWQgdG8gZmluZCBPcGVuTGF5ZXJzLkxhbmcuIithLmpvaW4oIi0iKSsiIGRpY3Rpb25hcnksIGZhbGxpbmcgYmFjayB0byBkZWZhdWx0IGxhbmd1YWdlIiksCmI9T3BlbkxheWVycy5MYW5nLmRlZmF1bHRDb2RlKTtPcGVuTGF5ZXJzLkxhbmcuY29kZT1ifSx0cmFuc2xhdGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1PcGVuTGF5ZXJzLkxhbmdbT3BlbkxheWVycy5MYW5nLmdldENvZGUoKV07KGM9YyYmY1thXSl8fChjPWEpO2ImJihjPU9wZW5MYXllcnMuU3RyaW5nLmZvcm1hdChjLGIpKTtyZXR1cm4gY319O09wZW5MYXllcnMuaTE4bj1PcGVuTGF5ZXJzLkxhbmcudHJhbnNsYXRlO09wZW5MYXllcnMuVXRpbD1PcGVuTGF5ZXJzLlV0aWx8fHt9O09wZW5MYXllcnMuVXRpbC5nZXRFbGVtZW50PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGI9MCxjPWFyZ3VtZW50cy5sZW5ndGg7YjxjO2IrKyl7dmFyIGQ9YXJndW1lbnRzW2JdOyJzdHJpbmciPT10eXBlb2YgZCYmKGQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZCkpO2lmKDE9PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGQ7YS5wdXNoKGQpfXJldHVybiBhfTtPcGVuTGF5ZXJzLlV0aWwuaXNFbGVtZW50PWZ1bmN0aW9uKGEpe3JldHVybiEhKGEmJjE9PT1hLm5vZGVUeXBlKX07T3BlbkxheWVycy5VdGlsLmlzQXJyYXk9ZnVuY3Rpb24oYSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKX07T3BlbkxheWVycy5VdGlsLnJlbW92ZUl0ZW09ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9YS5sZW5ndGgtMTswPD1jO2MtLSlhW2NdPT1iJiZhLnNwbGljZShjLDEpO3JldHVybiBhfTsKT3BlbkxheWVycy5VdGlsLmluZGV4T2Y9ZnVuY3Rpb24oYSxiKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgYS5pbmRleE9mKXJldHVybiBhLmluZGV4T2YoYik7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtjPGQ7YysrKWlmKGFbY109PWIpcmV0dXJuIGM7cmV0dXJuLTF9O09wZW5MYXllcnMuVXRpbC5kb3RsZXNzPS9cLi9nOwpPcGVuTGF5ZXJzLlV0aWwubW9kaWZ5RE9NRWxlbWVudD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe2ImJihhLmlkPWIucmVwbGFjZShPcGVuTGF5ZXJzLlV0aWwuZG90bGVzcywiXyIpKTtjJiYoYS5zdHlsZS5sZWZ0PWMueCsicHgiLGEuc3R5bGUudG9wPWMueSsicHgiKTtkJiYoYS5zdHlsZS53aWR0aD1kLncrInB4IixhLnN0eWxlLmhlaWdodD1kLmgrInB4Iik7ZSYmKGEuc3R5bGUucG9zaXRpb249ZSk7ZiYmKGEuc3R5bGUuYm9yZGVyPWYpO2cmJihhLnN0eWxlLm92ZXJmbG93PWcpOzA8PXBhcnNlRmxvYXQoaCkmJjE+cGFyc2VGbG9hdChoKT8oYS5zdHlsZS5maWx0ZXI9ImFscGhhKG9wYWNpdHk9IisxMDAqaCsiKSIsYS5zdHlsZS5vcGFjaXR5PWgpOjE9PXBhcnNlRmxvYXQoaCkmJihhLnN0eWxlLmZpbHRlcj0iIixhLnN0eWxlLm9wYWNpdHk9IiIpfTsKT3BlbkxheWVycy5VdGlsLmNyZWF0ZURpdj1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2QmJihpLnN0eWxlLmJhY2tncm91bmRJbWFnZT0idXJsKCIrZCsiKSIpO2F8fChhPU9wZW5MYXllcnMuVXRpbC5jcmVhdGVVbmlxdWVJRCgiT3BlbkxheWVyc0RpdiIpKTtlfHwoZT0iYWJzb2x1dGUiKTtPcGVuTGF5ZXJzLlV0aWwubW9kaWZ5RE9NRWxlbWVudChpLGEsYixjLGUsZixnLGgpO3JldHVybiBpfTsKT3BlbkxheWVycy5VdGlsLmNyZWF0ZUltYWdlPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7YXx8KGE9T3BlbkxheWVycy5VdGlsLmNyZWF0ZVVuaXF1ZUlEKCJPcGVuTGF5ZXJzRGl2IikpO2V8fChlPSJyZWxhdGl2ZSIpO09wZW5MYXllcnMuVXRpbC5tb2RpZnlET01FbGVtZW50KGksYSxiLGMsZSxmLG51bGwsZyk7aCYmKGkuc3R5bGUuZGlzcGxheT0ibm9uZSIsYj1mdW5jdGlvbigpe2kuc3R5bGUuZGlzcGxheT0iIjtPcGVuTGF5ZXJzLkV2ZW50LnN0b3BPYnNlcnZpbmdFbGVtZW50KGkpfSxPcGVuTGF5ZXJzLkV2ZW50Lm9ic2VydmUoaSwibG9hZCIsYiksT3BlbkxheWVycy5FdmVudC5vYnNlcnZlKGksImVycm9yIixiKSk7aS5zdHlsZS5hbHQ9YTtpLmdhbGxlcnlJbWc9Im5vIjtkJiYoaS5zcmM9ZCk7cmV0dXJuIGl9O09wZW5MYXllcnMuSU1BR0VfUkVMT0FEX0FUVEVNUFRTPTA7Ck9wZW5MYXllcnMuVXRpbC5hbHBoYUhhY2tOZWVkZWQ9bnVsbDtPcGVuTGF5ZXJzLlV0aWwuYWxwaGFIYWNrPWZ1bmN0aW9uKCl7aWYobnVsbD09T3BlbkxheWVycy5VdGlsLmFscGhhSGFja05lZWRlZCl7dmFyIGE9bmF2aWdhdG9yLmFwcFZlcnNpb24uc3BsaXQoIk1TSUUiKSxhPXBhcnNlRmxvYXQoYVsxXSksYj0hMTt0cnl7Yj0hIWRvY3VtZW50LmJvZHkuZmlsdGVyc31jYXRjaChjKXt9T3BlbkxheWVycy5VdGlsLmFscGhhSGFja05lZWRlZD1iJiY1LjU8PWEmJjc+YX1yZXR1cm4gT3BlbkxheWVycy5VdGlsLmFscGhhSGFja05lZWRlZH07Ck9wZW5MYXllcnMuVXRpbC5tb2RpZnlBbHBoYUltYWdlRGl2PWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCxpKXtPcGVuTGF5ZXJzLlV0aWwubW9kaWZ5RE9NRWxlbWVudChhLGIsYyxkLGYsbnVsbCxudWxsLGkpO2I9YS5jaGlsZE5vZGVzWzBdO2UmJihiLnNyYz1lKTtPcGVuTGF5ZXJzLlV0aWwubW9kaWZ5RE9NRWxlbWVudChiLGEuaWQrIl9pbm5lckltYWdlIixudWxsLGQsInJlbGF0aXZlIixnKTtPcGVuTGF5ZXJzLlV0aWwuYWxwaGFIYWNrKCkmJigibm9uZSIhPWEuc3R5bGUuZGlzcGxheSYmKGEuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIiksbnVsbD09aCYmKGg9InNjYWxlIiksYS5zdHlsZS5maWx0ZXI9InByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYUltYWdlTG9hZGVyKHNyYz0nIitiLnNyYysiJywgc2l6aW5nTWV0aG9kPSciK2grIicpIiwwPD1wYXJzZUZsb2F0KGEuc3R5bGUub3BhY2l0eSkmJjE+cGFyc2VGbG9hdChhLnN0eWxlLm9wYWNpdHkpJiYKKGEuc3R5bGUuZmlsdGVyKz0iIGFscGhhKG9wYWNpdHk9IisxMDAqYS5zdHlsZS5vcGFjaXR5KyIpIiksYi5zdHlsZS5maWx0ZXI9ImFscGhhKG9wYWNpdHk9MCkiKX07T3BlbkxheWVycy5VdGlsLmNyZWF0ZUFscGhhSW1hZ2VEaXY9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGkpe3ZhciBqPU9wZW5MYXllcnMuVXRpbC5jcmVhdGVEaXYoKSxpPU9wZW5MYXllcnMuVXRpbC5jcmVhdGVJbWFnZShudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLGkpO2kuY2xhc3NOYW1lPSJvbEFscGhhSW1nIjtqLmFwcGVuZENoaWxkKGkpO09wZW5MYXllcnMuVXRpbC5tb2RpZnlBbHBoYUltYWdlRGl2KGosYSxiLGMsZCxlLGYsZyxoKTtyZXR1cm4gan07T3BlbkxheWVycy5VdGlsLnVwcGVyQ2FzZU9iamVjdD1mdW5jdGlvbihhKXt2YXIgYj17fSxjO2ZvcihjIGluIGEpYltjLnRvVXBwZXJDYXNlKCldPWFbY107cmV0dXJuIGJ9OwpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cz1mdW5jdGlvbihhLGIpe3ZhciBhPWF8fHt9LGM9ImZ1bmN0aW9uIj09dHlwZW9mIHdpbmRvdy5FdmVudCYmYiBpbnN0YW5jZW9mIHdpbmRvdy5FdmVudCxkO2ZvcihkIGluIGIpaWYodm9pZCAwPT09YVtkXXx8IWMmJmIuaGFzT3duUHJvcGVydHkmJmIuaGFzT3duUHJvcGVydHkoZCkmJiFhLmhhc093blByb3BlcnR5KGQpKWFbZF09YltkXTshYyYmKGImJmIuaGFzT3duUHJvcGVydHkmJmIuaGFzT3duUHJvcGVydHkoInRvU3RyaW5nIikmJiFhLmhhc093blByb3BlcnR5KCJ0b1N0cmluZyIpKSYmKGEudG9TdHJpbmc9Yi50b1N0cmluZyk7cmV0dXJuIGF9OwpPcGVuTGF5ZXJzLlV0aWwuZ2V0UGFyYW1ldGVyU3RyaW5nPWZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM7Zm9yKGMgaW4gYSl7dmFyIGQ9YVtjXTtpZihudWxsIT1kJiYiZnVuY3Rpb24iIT10eXBlb2YgZCl7aWYoIm9iamVjdCI9PXR5cGVvZiBkJiZkLmNvbnN0cnVjdG9yPT1BcnJheSl7Zm9yKHZhciBlPVtdLGYsZz0wLGg9ZC5sZW5ndGg7ZzxoO2crKylmPWRbZ10sZS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChudWxsPT09Znx8dm9pZCAwPT09Zj8iIjpmKSk7ZD1lLmpvaW4oIiwiKX1lbHNlIGQ9ZW5jb2RlVVJJQ29tcG9uZW50KGQpO2IucHVzaChlbmNvZGVVUklDb21wb25lbnQoYykrIj0iK2QpfX1yZXR1cm4gYi5qb2luKCImIil9O09wZW5MYXllcnMuVXRpbC51cmxBcHBlbmQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hO2lmKGIpdmFyIGQ9KGErIiAiKS5zcGxpdCgvWz8mXS8pLGM9YysoIiAiPT09ZC5wb3AoKT9iOmQubGVuZ3RoPyImIitiOiI/IitiKTtyZXR1cm4gY307Ck9wZW5MYXllcnMuVXRpbC5nZXRJbWFnZXNMb2NhdGlvbj1mdW5jdGlvbigpe3JldHVybiBPcGVuTGF5ZXJzLkltZ1BhdGh8fE9wZW5MYXllcnMuX2dldFNjcmlwdExvY2F0aW9uKCkrImltZy8ifTtPcGVuTGF5ZXJzLlV0aWwuZ2V0SW1hZ2VMb2NhdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4gT3BlbkxheWVycy5VdGlsLmdldEltYWdlc0xvY2F0aW9uKCkrYX07T3BlbkxheWVycy5VdGlsLlRyeT1mdW5jdGlvbigpe2Zvcih2YXIgYT1udWxsLGI9MCxjPWFyZ3VtZW50cy5sZW5ndGg7YjxjO2IrKyl7dmFyIGQ9YXJndW1lbnRzW2JdO3RyeXthPWQoKTticmVha31jYXRjaChlKXt9fXJldHVybiBhfTsKT3BlbkxheWVycy5VdGlsLmdldFhtbE5vZGVWYWx1ZT1mdW5jdGlvbihhKXt2YXIgYj1udWxsO09wZW5MYXllcnMuVXRpbC5UcnkoZnVuY3Rpb24oKXtiPWEudGV4dDtifHwoYj1hLnRleHRDb250ZW50KTtifHwoYj1hLmZpcnN0Q2hpbGQubm9kZVZhbHVlKX0sZnVuY3Rpb24oKXtiPWEudGV4dENvbnRlbnR9KTtyZXR1cm4gYn07T3BlbkxheWVycy5VdGlsLm1vdXNlTGVmdD1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1hLnJlbGF0ZWRUYXJnZXQ/YS5yZWxhdGVkVGFyZ2V0OmEudG9FbGVtZW50O2MhPWImJm51bGwhPWM7KWM9Yy5wYXJlbnROb2RlO3JldHVybiBjIT1ifTtPcGVuTGF5ZXJzLlV0aWwuREVGQVVMVF9QUkVDSVNJT049MTQ7T3BlbkxheWVycy5VdGlsLnRvRmxvYXQ9ZnVuY3Rpb24oYSxiKXtudWxsPT1iJiYoYj1PcGVuTGF5ZXJzLlV0aWwuREVGQVVMVF9QUkVDSVNJT04pOyJudW1iZXIiIT09dHlwZW9mIGEmJihhPXBhcnNlRmxvYXQoYSkpO3JldHVybiAwPT09Yj9hOnBhcnNlRmxvYXQoYS50b1ByZWNpc2lvbihiKSl9OwpPcGVuTGF5ZXJzLlV0aWwucmFkPWZ1bmN0aW9uKGEpe3JldHVybiBhKk1hdGguUEkvMTgwfTtPcGVuTGF5ZXJzLlV0aWwuZGVnPWZ1bmN0aW9uKGEpe3JldHVybiAxODAqYS9NYXRoLlBJfTtPcGVuTGF5ZXJzLlV0aWwuVmluY2VudHlDb25zdGFudHM9e2E6NjM3ODEzNyxiOjYzNTY3NTIuMzE0MixmOjEvMjk4LjI1NzIyMzU2M307Ck9wZW5MYXllcnMuVXRpbC5kaXN0VmluY2VudHk9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9T3BlbkxheWVycy5VdGlsLlZpbmNlbnR5Q29uc3RhbnRzLGQ9Yy5hLGU9Yy5iLGM9Yy5mLGY9T3BlbkxheWVycy5VdGlsLnJhZChiLmxvbi1hLmxvbiksZz1NYXRoLmF0YW4oKDEtYykqTWF0aC50YW4oT3BlbkxheWVycy5VdGlsLnJhZChhLmxhdCkpKSxoPU1hdGguYXRhbigoMS1jKSpNYXRoLnRhbihPcGVuTGF5ZXJzLlV0aWwucmFkKGIubGF0KSkpLGk9TWF0aC5zaW4oZyksZz1NYXRoLmNvcyhnKSxqPU1hdGguc2luKGgpLGg9TWF0aC5jb3MoaCksaz1mLGw9MipNYXRoLlBJLG09MjA7MUUtMTI8TWF0aC5hYnMoay1sKSYmMDwtLW07KXt2YXIgbj1NYXRoLnNpbihrKSxwPU1hdGguY29zKGspLHE9TWF0aC5zcXJ0KGgqbipoKm4rKGcqai1pKmgqcCkqKGcqai1pKmgqcCkpO2lmKDA9PXEpcmV0dXJuIDA7dmFyIHA9aSpqK2cqaCpwLHI9TWF0aC5hdGFuMihxLHApLHM9TWF0aC5hc2luKGcqaCoKbi9xKSx0PU1hdGguY29zKHMpKk1hdGguY29zKHMpLG49cC0yKmkqai90LHU9Yy8xNip0Kig0K2MqKDQtMyp0KSksbD1rLGs9ZisoMS11KSpjKk1hdGguc2luKHMpKihyK3UqcSoobit1KnAqKC0xKzIqbipuKSkpfWlmKDA9PW0pcmV0dXJuIE5hTjtkPXQqKGQqZC1lKmUpLyhlKmUpO2M9ZC8xMDI0KigyNTYrZCooLTEyOCtkKig3NC00NypkKSkpO3JldHVybihlKigxK2QvMTYzODQqKDQwOTYrZCooLTc2OCtkKigzMjAtMTc1KmQpKSkpKihyLWMqcSoobitjLzQqKHAqKC0xKzIqbipuKS1jLzYqbiooLTMrNCpxKnEpKigtMys0Km4qbikpKSkpLnRvRml4ZWQoMykvMUUzfTsKT3BlbkxheWVycy5VdGlsLmRlc3RpbmF0aW9uVmluY2VudHk9ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1PcGVuTGF5ZXJzLlV0aWwsZT1kLlZpbmNlbnR5Q29uc3RhbnRzLGY9ZS5hLGc9ZS5iLGg9ZS5mLGU9YS5sb24sYT1hLmxhdCxpPWQucmFkKGIpLGI9TWF0aC5zaW4oaSksaT1NYXRoLmNvcyhpKSxhPSgxLWgpKk1hdGgudGFuKGQucmFkKGEpKSxqPTEvTWF0aC5zcXJ0KDErYSphKSxrPWEqaixsPU1hdGguYXRhbjIoYSxpKSxhPWoqYixtPTEtYSphLGY9bSooZipmLWcqZykvKGcqZyksbj0xK2YvMTYzODQqKDQwOTYrZiooLTc2OCtmKigzMjAtMTc1KmYpKSkscD1mLzEwMjQqKDI1NitmKigtMTI4K2YqKDc0LTQ3KmYpKSksZj1jLyhnKm4pLHE9MipNYXRoLlBJOzFFLTEyPE1hdGguYWJzKGYtcSk7KXZhciByPU1hdGguY29zKDIqbCtmKSxzPU1hdGguc2luKGYpLHQ9TWF0aC5jb3MoZiksdT1wKnMqKHIrcC80Kih0KigtMSsyKnIqciktcC82KnIqKC0zKzQqcypzKSooLTMrNCpyKgpyKSkpLHE9ZixmPWMvKGcqbikrdTtjPWsqcy1qKnQqaTtnPU1hdGguYXRhbjIoayp0K2oqcyppLCgxLWgpKk1hdGguc3FydChhKmErYypjKSk7Yj1NYXRoLmF0YW4yKHMqYixqKnQtaypzKmkpO2k9aC8xNiptKig0K2gqKDQtMyptKSk7cj1iLSgxLWkpKmgqYSooZitpKnMqKHIraSp0KigtMSsyKnIqcikpKTtNYXRoLmF0YW4yKGEsLWMpO3JldHVybiBuZXcgT3BlbkxheWVycy5Mb25MYXQoZStkLmRlZyhyKSxkLmRlZyhnKSl9OwpPcGVuTGF5ZXJzLlV0aWwuZ2V0UGFyYW1ldGVycz1mdW5jdGlvbihhLGIpe3ZhciBiPWJ8fHt9LGE9bnVsbD09PWF8fHZvaWQgMD09PWE/d2luZG93LmxvY2F0aW9uLmhyZWY6YSxjPSIiO2lmKE9wZW5MYXllcnMuU3RyaW5nLmNvbnRhaW5zKGEsIj8iKSl2YXIgZD1hLmluZGV4T2YoIj8iKSsxLGM9T3BlbkxheWVycy5TdHJpbmcuY29udGFpbnMoYSwiIyIpP2EuaW5kZXhPZigiIyIpOmEubGVuZ3RoLGM9YS5zdWJzdHJpbmcoZCxjKTtmb3IodmFyIGQ9e30sYz1jLnNwbGl0KC9bJjtdLyksZT0wLGY9Yy5sZW5ndGg7ZTxmOysrZSl7dmFyIGc9Y1tlXS5zcGxpdCgiPSIpO2lmKGdbMF0pe3ZhciBoPWdbMF07dHJ5e2g9ZGVjb2RlVVJJQ29tcG9uZW50KGgpfWNhdGNoKGkpe2g9dW5lc2NhcGUoaCl9Zz0oZ1sxXXx8IiIpLnJlcGxhY2UoL1wrL2csIiAiKTt0cnl7Zz1kZWNvZGVVUklDb21wb25lbnQoZyl9Y2F0Y2goail7Zz11bmVzY2FwZShnKX0hMSE9PWIuc3BsaXRBcmdzJiYoZz1nLnNwbGl0KCIsIikpOwoxPT1nLmxlbmd0aCYmKGc9Z1swXSk7ZFtoXT1nfX1yZXR1cm4gZH07T3BlbkxheWVycy5VdGlsLmxhc3RTZXFJRD0wO09wZW5MYXllcnMuVXRpbC5jcmVhdGVVbmlxdWVJRD1mdW5jdGlvbihhKXthPW51bGw9PWE/ImlkXyI6YS5yZXBsYWNlKE9wZW5MYXllcnMuVXRpbC5kb3RsZXNzLCJfIik7T3BlbkxheWVycy5VdGlsLmxhc3RTZXFJRCs9MTtyZXR1cm4gYStPcGVuTGF5ZXJzLlV0aWwubGFzdFNlcUlEfTtPcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVD17aW5jaGVzOjEsZnQ6MTIsbWk6NjMzNjAsbTozOS4zNyxrbTozOTM3MCxkZDo0Mzc0NzU0LHlkOjM2fTtPcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVFsiaW4iXT1PcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVC5pbmNoZXM7T3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVQuZGVncmVlcz1PcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVC5kZDtPcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVC5ubWk9MTg1MipPcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVC5tOwpPcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSD0wLjAyNTQwMDA1MDgwMDEwMTY7Ck9wZW5MYXllcnMuVXRpbC5leHRlbmQoT3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVQse0luY2g6T3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVQuaW5jaGVzLE1ldGVyOjEvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsRm9vdDowLjMwNDgwMDYwOTYwMTIxOTIvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsSUZvb3Q6MC4zMDQ4L09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILENsYXJrZUZvb3Q6MC4zMDQ3OTcyNjUxMTUxL09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILFNlYXJzRm9vdDowLjMwNDc5OTQ3MTUzODY3NjI2L09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILEdvbGRDb2FzdEZvb3Q6MC4zMDQ3OTk3MTAxODE1MDg4L09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILElJbmNoOjAuMDI1NC9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxNaWNyb0luY2g6Mi41NEUtNS9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxNaWw6Mi41NEUtOC9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCwKQ2VudGltZXRlcjowLjAxL09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILEtpbG9tZXRlcjoxRTMvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsWWFyZDowLjkxNDQwMTgyODgwMzY1NzYvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsU2VhcnNZYXJkOjAuOTE0Mzk4NDE0NjE2MDI5L09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILEluZGlhbllhcmQ6MC45MTQzOTg1MzA3NDQ0NDA4L09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILEluZGlhbllkMzc6MC45MTQzOTUyMy9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxJbmRpYW5ZZDYyOjAuOTE0Mzk4OC9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxJbmRpYW5ZZDc1OjAuOTE0Mzk4NS9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxJbmRpYW5Gb290OjAuMzA0Nzk5NTEvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsSW5kaWFuRnQzNzowLjMwNDc5ODQxL09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILEluZGlhbkZ0NjI6MC4zMDQ3OTk2LwpPcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxJbmRpYW5GdDc1OjAuMzA0Nzk5NS9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxNaWxlOjE2MDkuMzQ3MjE4Njk0NDM3My9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxJWWFyZDowLjkxNDQvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsSU1pbGU6MTYwOS4zNDQvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsTmF1dE06MTg1Mi9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCwiTGF0LTY2IjoxMTA5NDMuMzE2NDg4OTMyNzMvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsIkxhdC04MyI6MTEwOTQ2LjI1NzM2ODcyMjM1L09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILERlY2ltZXRlcjowLjEvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsTWlsbGltZXRlcjowLjAwMS9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxEZWthbWV0ZXI6MTAvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsRGVjYW1ldGVyOjEwL09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILApIZWN0b21ldGVyOjEwMC9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxHZXJtYW5NZXRlcjoxLjAwMDAxMzU5NjUvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsQ2FHcmlkOjAuOTk5NzM4L09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILENsYXJrZUNoYWluOjIwLjExNjYxOTQ5NzYvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsR3VudGVyQ2hhaW46MjAuMTE2ODQwMjMzNjgwNDcvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsQmVub2l0Q2hhaW46MjAuMTE2NzgyNDk0Mzc1ODcyL09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILFNlYXJzQ2hhaW46MjAuMTE2NzY1MTIxNTUvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsQ2xhcmtlTGluazowLjIwMTE2NjE5NDk3Ni9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxHdW50ZXJMaW5rOjAuMjAxMTY4NDAyMzM2ODA0Ny9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxCZW5vaXRMaW5rOjAuMjAxMTY3ODI0OTQzNzU4NzMvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsClNlYXJzTGluazowLjIwMTE2NzY1MTIxNTUvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsUm9kOjUuMDI5MjEwMDU4NDIwMTIvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsSW50bmxDaGFpbjoyMC4xMTY4L09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILEludG5sTGluazowLjIwMTE2OC9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxQZXJjaDo1LjAyOTIxMDA1ODQyMDEyL09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILFBvbGU6NS4wMjkyMTAwNTg0MjAxMi9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCxGdXJsb25nOjIwMS4xNjg0MDIzMzY4MDQ2L09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILFJvb2Q6My43NzgyNjY4OTgvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsQ2FwZUZvb3Q6MC4zMDQ3OTcyNjE1L09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILEJyZWFsZXk6Mzc1L09wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILE1vZEFtRnQ6MC4zMDQ4MTIyNTI5ODQ1MDYvCk9wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNILEZhdGhvbToxLjgyODgvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsIk5hdXRNLVVLIjoxODUzLjE4NC9PcGVuTGF5ZXJzLk1FVEVSU19QRVJfSU5DSCwiNTBraWxvbWV0ZXJzIjo1RTQvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gsIjE1MGtpbG9tZXRlcnMiOjE1RTQvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0h9KTsKT3BlbkxheWVycy5VdGlsLmV4dGVuZChPcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVCx7bW06T3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVQuTWV0ZXIvMUUzLGNtOk9wZW5MYXllcnMuSU5DSEVTX1BFUl9VTklULk1ldGVyLzEwMCxkbToxMDAqT3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVQuTWV0ZXIsa206MUUzKk9wZW5MYXllcnMuSU5DSEVTX1BFUl9VTklULk1ldGVyLGttaTpPcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVC5ubWksZmF0aDpPcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVC5GYXRob20sY2g6T3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVQuSW50bmxDaGFpbixsaW5rOk9wZW5MYXllcnMuSU5DSEVTX1BFUl9VTklULkludG5sTGluaywidXMtaW4iOk9wZW5MYXllcnMuSU5DSEVTX1BFUl9VTklULmluY2hlcywidXMtZnQiOk9wZW5MYXllcnMuSU5DSEVTX1BFUl9VTklULkZvb3QsInVzLXlkIjpPcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVC5ZYXJkLCJ1cy1jaCI6T3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVQuR3VudGVyQ2hhaW4sCiJ1cy1taSI6T3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVQuTWlsZSwiaW5kLXlkIjpPcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVC5JbmRpYW5ZZDM3LCJpbmQtZnQiOk9wZW5MYXllcnMuSU5DSEVTX1BFUl9VTklULkluZGlhbkZ0MzcsImluZC1jaCI6MjAuMTE2Njk1MDYvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0h9KTtPcGVuTGF5ZXJzLkRPVFNfUEVSX0lOQ0g9NzI7T3BlbkxheWVycy5VdGlsLm5vcm1hbGl6ZVNjYWxlPWZ1bmN0aW9uKGEpe3JldHVybiAxPGE/MS9hOmF9O09wZW5MYXllcnMuVXRpbC5nZXRSZXNvbHV0aW9uRnJvbVNjYWxlPWZ1bmN0aW9uKGEsYil7dmFyIGM7YSYmKG51bGw9PWImJihiPSJkZWdyZWVzIiksYz0xLyhPcGVuTGF5ZXJzLlV0aWwubm9ybWFsaXplU2NhbGUoYSkqT3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVRbYl0qT3BlbkxheWVycy5ET1RTX1BFUl9JTkNIKSk7cmV0dXJuIGN9OwpPcGVuTGF5ZXJzLlV0aWwuZ2V0U2NhbGVGcm9tUmVzb2x1dGlvbj1mdW5jdGlvbihhLGIpe251bGw9PWImJihiPSJkZWdyZWVzIik7cmV0dXJuIGEqT3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVRbYl0qT3BlbkxheWVycy5ET1RTX1BFUl9JTkNIfTsKT3BlbkxheWVycy5VdGlsLnBhZ2VQb3NpdGlvbj1mdW5jdGlvbihhKXt2YXIgYj1bMCwwXSxjPU9wZW5MYXllcnMuVXRpbC5nZXRWaWV3cG9ydEVsZW1lbnQoKTtpZighYXx8YT09d2luZG93fHxhPT1jKXJldHVybiBiO3ZhciBkPU9wZW5MYXllcnMuSVNfR0VDS08mJmRvY3VtZW50LmdldEJveE9iamVjdEZvciYmImFic29sdXRlIj09T3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKGEsInBvc2l0aW9uIikmJigiIj09YS5zdHlsZS50b3B8fCIiPT1hLnN0eWxlLmxlZnQpLGU9bnVsbDtpZihhLmdldEJvdW5kaW5nQ2xpZW50UmVjdClhPWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksZT13aW5kb3cucGFnZVlPZmZzZXR8fGMuc2Nyb2xsVG9wLGJbMF09YS5sZWZ0Kyh3aW5kb3cucGFnZVhPZmZzZXR8fGMuc2Nyb2xsTGVmdCksYlsxXT1hLnRvcCtlO2Vsc2UgaWYoZG9jdW1lbnQuZ2V0Qm94T2JqZWN0Rm9yJiYhZClhPWRvY3VtZW50LmdldEJveE9iamVjdEZvcihhKSxjPWRvY3VtZW50LmdldEJveE9iamVjdEZvcihjKSwKYlswXT1hLnNjcmVlblgtYy5zY3JlZW5YLGJbMV09YS5zY3JlZW5ZLWMuc2NyZWVuWTtlbHNle2JbMF09YS5vZmZzZXRMZWZ0O2JbMV09YS5vZmZzZXRUb3A7ZT1hLm9mZnNldFBhcmVudDtpZihlIT1hKWZvcig7ZTspYlswXSs9ZS5vZmZzZXRMZWZ0LGJbMV0rPWUub2Zmc2V0VG9wLGU9ZS5vZmZzZXRQYXJlbnQ7Yz1PcGVuTGF5ZXJzLkJST1dTRVJfTkFNRTtpZigib3BlcmEiPT1jfHwic2FmYXJpIj09YyYmImFic29sdXRlIj09T3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKGEsInBvc2l0aW9uIikpYlsxXS09ZG9jdW1lbnQuYm9keS5vZmZzZXRUb3A7Zm9yKGU9YS5vZmZzZXRQYXJlbnQ7ZSYmZSE9ZG9jdW1lbnQuYm9keTspe2JbMF0tPWUuc2Nyb2xsTGVmdDtpZigib3BlcmEiIT1jfHwiVFIiIT1lLnRhZ05hbWUpYlsxXS09ZS5zY3JvbGxUb3A7ZT1lLm9mZnNldFBhcmVudH19cmV0dXJuIGJ9OwpPcGVuTGF5ZXJzLlV0aWwuZ2V0Vmlld3BvcnRFbGVtZW50PWZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzLmNhbGxlZS52aWV3cG9ydEVsZW1lbnQ7dm9pZCAwPT1hJiYoYT0ibXNpZSI9PU9wZW5MYXllcnMuQlJPV1NFUl9OQU1FJiYiQ1NTMUNvbXBhdCIhPWRvY3VtZW50LmNvbXBhdE1vZGU/ZG9jdW1lbnQuYm9keTpkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsYXJndW1lbnRzLmNhbGxlZS52aWV3cG9ydEVsZW1lbnQ9YSk7cmV0dXJuIGF9OwpPcGVuTGF5ZXJzLlV0aWwuaXNFcXVpdmFsZW50VXJsPWZ1bmN0aW9uKGEsYixjKXtjPWN8fHt9O09wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGMse2lnbm9yZUNhc2U6ITAsaWdub3JlUG9ydDgwOiEwLGlnbm9yZUhhc2g6ITAsc3BsaXRBcmdzOiExfSk7dmFyIGE9T3BlbkxheWVycy5VdGlsLmNyZWF0ZVVybE9iamVjdChhLGMpLGI9T3BlbkxheWVycy5VdGlsLmNyZWF0ZVVybE9iamVjdChiLGMpLGQ7Zm9yKGQgaW4gYSlpZigiYXJncyIhPT1kJiZhW2RdIT1iW2RdKXJldHVybiExO2ZvcihkIGluIGEuYXJncyl7aWYoYS5hcmdzW2RdIT1iLmFyZ3NbZF0pcmV0dXJuITE7ZGVsZXRlIGIuYXJnc1tkXX1mb3IoZCBpbiBiLmFyZ3MpcmV0dXJuITE7cmV0dXJuITB9OwpPcGVuTGF5ZXJzLlV0aWwuY3JlYXRlVXJsT2JqZWN0PWZ1bmN0aW9uKGEsYil7Yj1ifHx7fTtpZighL15cdys6XC9cLy8udGVzdChhKSl7dmFyIGM9d2luZG93LmxvY2F0aW9uLGQ9Yy5wb3J0PyI6IitjLnBvcnQ6IiIsZD1jLnByb3RvY29sKyIvLyIrYy5ob3N0LnNwbGl0KCI6Iikuc2hpZnQoKStkOzA9PT1hLmluZGV4T2YoIi8iKT9hPWQrYTooYz1jLnBhdGhuYW1lLnNwbGl0KCIvIiksYy5wb3AoKSxhPWQrYy5qb2luKCIvIikrIi8iK2EpfWIuaWdub3JlQ2FzZSYmKGE9YS50b0xvd2VyQ2FzZSgpKTtjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtjLmhyZWY9YTtkPXt9O2QuaG9zdD1jLmhvc3Quc3BsaXQoIjoiKS5zaGlmdCgpO2QucHJvdG9jb2w9Yy5wcm90b2NvbDtkLnBvcnQ9Yi5pZ25vcmVQb3J0ODA/IjgwIj09Yy5wb3J0fHwiMCI9PWMucG9ydD8iIjpjLnBvcnQ6IiI9PWMucG9ydHx8IjAiPT1jLnBvcnQ/IjgwIjpjLnBvcnQ7ZC5oYXNoPWIuaWdub3JlSGFzaHx8IiMiPT09CmMuaGFzaD8iIjpjLmhhc2g7dmFyIGU9Yy5zZWFyY2g7ZXx8KGU9YS5pbmRleE9mKCI/IiksZT0tMSE9ZT9hLnN1YnN0cihlKToiIik7ZC5hcmdzPU9wZW5MYXllcnMuVXRpbC5nZXRQYXJhbWV0ZXJzKGUse3NwbGl0QXJnczpiLnNwbGl0QXJnc30pO2QucGF0aG5hbWU9Ii8iPT1jLnBhdGhuYW1lLmNoYXJBdCgwKT9jLnBhdGhuYW1lOiIvIitjLnBhdGhuYW1lO3JldHVybiBkfTtPcGVuTGF5ZXJzLlV0aWwucmVtb3ZlVGFpbD1mdW5jdGlvbihhKXt2YXIgYj1udWxsLGI9YS5pbmRleE9mKCI/IiksYz1hLmluZGV4T2YoIiMiKTtyZXR1cm4gYj0tMT09Yj8tMSE9Yz9hLnN1YnN0cigwLGMpOmE6LTEhPWM/YS5zdWJzdHIoMCxNYXRoLm1pbihiLGMpKTphLnN1YnN0cigwLGIpfTtPcGVuTGF5ZXJzLklTX0dFQ0tPPWZ1bmN0aW9uKCl7dmFyIGE9bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO3JldHVybi0xPT1hLmluZGV4T2YoIndlYmtpdCIpJiYtMSE9YS5pbmRleE9mKCJnZWNrbyIpfSgpOwpPcGVuTGF5ZXJzLkNBTlZBU19TVVBQT1JURUQ9ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtyZXR1cm4hKCFhLmdldENvbnRleHR8fCFhLmdldENvbnRleHQoIjJkIikpfSgpO09wZW5MYXllcnMuQlJPV1NFUl9OQU1FPWZ1bmN0aW9uKCl7dmFyIGE9IiIsYj1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7LTEhPWIuaW5kZXhPZigib3BlcmEiKT9hPSJvcGVyYSI6LTEhPWIuaW5kZXhPZigibXNpZSIpP2E9Im1zaWUiOi0xIT1iLmluZGV4T2YoInNhZmFyaSIpP2E9InNhZmFyaSI6LTEhPWIuaW5kZXhPZigibW96aWxsYSIpJiYoYT0tMSE9Yi5pbmRleE9mKCJmaXJlZm94Iik/ImZpcmVmb3giOiJtb3ppbGxhIik7cmV0dXJuIGF9KCk7T3BlbkxheWVycy5VdGlsLmdldEJyb3dzZXJOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIE9wZW5MYXllcnMuQlJPV1NFUl9OQU1FfTsKT3BlbkxheWVycy5VdGlsLmdldFJlbmRlcmVkRGltZW5zaW9ucz1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Yuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIjtmb3IodmFyIGc9YyYmYy5jb250YWluZXJFbGVtZW50P2MuY29udGFpbmVyRWxlbWVudDpkb2N1bWVudC5ib2R5LGg9ITEsaT1udWxsLGo9ZztqJiYiYm9keSIhPWoudGFnTmFtZS50b0xvd2VyQ2FzZSgpOyl7dmFyIGs9T3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKGosInBvc2l0aW9uIik7aWYoImFic29sdXRlIj09ayl7aD0hMDticmVha31lbHNlIGlmKGsmJiJzdGF0aWMiIT1rKWJyZWFrO2o9ai5wYXJlbnROb2RlfWlmKGgmJigwPT09Zy5jbGllbnRIZWlnaHR8fDA9PT1nLmNsaWVudFdpZHRoKSlpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGkuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIixpLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsaS5zdHlsZS5vdmVyZmxvdz0KInZpc2libGUiLGkuc3R5bGUud2lkdGg9ZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCsicHgiLGkuc3R5bGUuaGVpZ2h0PWRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0KyJweCIsaS5hcHBlbmRDaGlsZChmKTtmLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7YiYmKGIudz8oZD1iLncsZi5zdHlsZS53aWR0aD1kKyJweCIpOmIuaCYmKGU9Yi5oLGYuc3R5bGUuaGVpZ2h0PWUrInB4IikpO2MmJmMuZGlzcGxheUNsYXNzJiYoZi5jbGFzc05hbWU9Yy5kaXNwbGF5Q2xhc3MpO2I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yi5pbm5lckhUTUw9YTtiLnN0eWxlLm92ZXJmbG93PSJ2aXNpYmxlIjtpZihiLmNoaWxkTm9kZXMpe2E9MDtmb3IoYz1iLmNoaWxkTm9kZXMubGVuZ3RoO2E8YzthKyspYi5jaGlsZE5vZGVzW2FdLnN0eWxlJiYoYi5jaGlsZE5vZGVzW2FdLnN0eWxlLm92ZXJmbG93PSJ2aXNpYmxlIil9Zi5hcHBlbmRDaGlsZChiKTtpP2cuYXBwZW5kQ2hpbGQoaSk6Zy5hcHBlbmRDaGlsZChmKTsKZHx8KGQ9cGFyc2VJbnQoYi5zY3JvbGxXaWR0aCksZi5zdHlsZS53aWR0aD1kKyJweCIpO2V8fChlPXBhcnNlSW50KGIuc2Nyb2xsSGVpZ2h0KSk7Zi5yZW1vdmVDaGlsZChiKTtpPyhpLnJlbW92ZUNoaWxkKGYpLGcucmVtb3ZlQ2hpbGQoaSkpOmcucmVtb3ZlQ2hpbGQoZik7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLlNpemUoZCxlKX07Ck9wZW5MYXllcnMuVXRpbC5nZXRTY3JvbGxiYXJXaWR0aD1mdW5jdGlvbigpe3ZhciBhPU9wZW5MYXllcnMuVXRpbC5fc2Nyb2xsYmFyV2lkdGg7aWYobnVsbD09YSl7dmFyIGI9bnVsbCxjPW51bGwsYj1hPTAsYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtiLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7Yi5zdHlsZS50b3A9Ii0xMDAwcHgiO2Iuc3R5bGUubGVmdD0iLTEwMDBweCI7Yi5zdHlsZS53aWR0aD0iMTAwcHgiO2Iuc3R5bGUuaGVpZ2h0PSI1MHB4IjtiLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iO2M9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yy5zdHlsZS53aWR0aD0iMTAwJSI7Yy5zdHlsZS5oZWlnaHQ9IjIwMHB4IjtiLmFwcGVuZENoaWxkKGMpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYik7YT1jLm9mZnNldFdpZHRoO2Iuc3R5bGUub3ZlcmZsb3c9InNjcm9sbCI7Yj1jLm9mZnNldFdpZHRoO2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZG9jdW1lbnQuYm9keS5sYXN0Q2hpbGQpOwpPcGVuTGF5ZXJzLlV0aWwuX3Njcm9sbGJhcldpZHRoPWEtYjthPU9wZW5MYXllcnMuVXRpbC5fc2Nyb2xsYmFyV2lkdGh9cmV0dXJuIGF9OwpPcGVuTGF5ZXJzLlV0aWwuZ2V0Rm9ybWF0dGVkTG9uTGF0PWZ1bmN0aW9uKGEsYixjKXtjfHwoYz0iZG1zIik7dmFyIGE9KGErNTQwKSUzNjAtMTgwLGQ9TWF0aC5hYnMoYSksZT1NYXRoLmZsb29yKGQpLGY9ZD0oZC1lKS8oMS82MCksZD1NYXRoLmZsb29yKGQpLGY9TWF0aC5yb3VuZCgxMCooKGYtZCkvKDEvNjApKSksZj1mLzEwOzYwPD1mJiYoZi09NjAsZCs9MSw2MDw9ZCYmKGQtPTYwLGUrPTEpKTsxMD5lJiYoZT0iMCIrZSk7ZSs9Ilx1MDBiMCI7MDw9Yy5pbmRleE9mKCJkbSIpJiYoMTA+ZCYmKGQ9IjAiK2QpLGUrPWQrIiciLDA8PWMuaW5kZXhPZigiZG1zIikmJigxMD5mJiYoZj0iMCIrZiksZSs9ZisnIicpKTtyZXR1cm4gZT0ibG9uIj09Yj9lKygwPmE/T3BlbkxheWVycy5pMThuKCJXIik6T3BlbkxheWVycy5pMThuKCJFIikpOmUrKDA+YT9PcGVuTGF5ZXJzLmkxOG4oIlMiKTpPcGVuTGF5ZXJzLmkxOG4oIk4iKSl9OwpPcGVuTGF5ZXJzLlV0aWwuZ2V0Q29uc3RydWN0b3I9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEuc3BsaXQoIi4iKSxhPSJPcGVuTGF5ZXJzIj09PWJbMF0/T3BlbkxheWVyczp3aW5kb3dbYlswXV0sYz0xLGQ9Yi5sZW5ndGg7YzxkOysrYylhPWFbYltjXV07cmV0dXJuIGF9O09wZW5MYXllcnMuRm9ybWF0PU9wZW5MYXllcnMuQ2xhc3Moe29wdGlvbnM6bnVsbCxleHRlcm5hbFByb2plY3Rpb246bnVsbCxpbnRlcm5hbFByb2plY3Rpb246bnVsbCxkYXRhOm51bGwsa2VlcERhdGE6ITEsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsYSk7dGhpcy5vcHRpb25zPWF9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt9LHJlYWQ6ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcigiUmVhZCBub3QgaW1wbGVtZW50ZWQuIik7fSx3cml0ZTpmdW5jdGlvbigpe3Rocm93IEVycm9yKCJXcml0ZSBub3QgaW1wbGVtZW50ZWQuIik7fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdCJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5DU1dHZXRSZWNvcmRzPWZ1bmN0aW9uKGEpe3ZhciBhPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGEsT3BlbkxheWVycy5Gb3JtYXQuQ1NXR2V0UmVjb3Jkcy5ERUZBVUxUUyksYj1PcGVuTGF5ZXJzLkZvcm1hdC5DU1dHZXRSZWNvcmRzWyJ2IithLnZlcnNpb24ucmVwbGFjZSgvXC4vZywiXyIpXTtpZighYil0aHJvdyJVbnN1cHBvcnRlZCBDU1dHZXRSZWNvcmRzIHZlcnNpb246ICIrYS52ZXJzaW9uO3JldHVybiBuZXcgYihhKX07T3BlbkxheWVycy5Gb3JtYXQuQ1NXR2V0UmVjb3Jkcy5ERUZBVUxUUz17dmVyc2lvbjoiMi4wLjIifTtPcGVuTGF5ZXJzLkZvcm1hdC5YTUw9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdCx7bmFtZXNwYWNlczpudWxsLG5hbWVzcGFjZUFsaWFzOm51bGwsZGVmYXVsdFByZWZpeDpudWxsLHJlYWRlcnM6e30sd3JpdGVyczp7fSx4bWxkb206bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe3dpbmRvdy5BY3RpdmVYT2JqZWN0JiYodGhpcy54bWxkb209bmV3IEFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKSk7T3BlbkxheWVycy5Gb3JtYXQucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pO3RoaXMubmFtZXNwYWNlcz1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LHRoaXMubmFtZXNwYWNlcyk7dGhpcy5uYW1lc3BhY2VBbGlhcz17fTtmb3IodmFyIGIgaW4gdGhpcy5uYW1lc3BhY2VzKXRoaXMubmFtZXNwYWNlQWxpYXNbdGhpcy5uYW1lc3BhY2VzW2JdXT1ifSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy54bWxkb209bnVsbDtPcGVuTGF5ZXJzLkZvcm1hdC5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLAphcmd1bWVudHMpfSxzZXROYW1lc3BhY2U6ZnVuY3Rpb24oYSxiKXt0aGlzLm5hbWVzcGFjZXNbYV09Yjt0aGlzLm5hbWVzcGFjZUFsaWFzW2JdPWF9LHJlYWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5pbmRleE9mKCI8Iik7MDxiJiYoYT1hLnN1YnN0cmluZyhiKSk7Yj1PcGVuTGF5ZXJzLlV0aWwuVHJ5KE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZChmdW5jdGlvbigpe3ZhciBiO2I9d2luZG93LkFjdGl2ZVhPYmplY3QmJiF0aGlzLnhtbGRvbT9uZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTERPTSIpOnRoaXMueG1sZG9tO2IubG9hZFhNTChhKTtyZXR1cm4gYn0sdGhpcyksZnVuY3Rpb24oKXtyZXR1cm4obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGEsInRleHQveG1sIil9LGZ1bmN0aW9uKCl7dmFyIGI9bmV3IFhNTEh0dHBSZXF1ZXN0O2Iub3BlbigiR0VUIiwiZGF0YTp0ZXh0L3htbDtjaGFyc2V0PXV0Zi04LCIrZW5jb2RlVVJJQ29tcG9uZW50KGEpLCExKTtiLm92ZXJyaWRlTWltZVR5cGUmJgpiLm92ZXJyaWRlTWltZVR5cGUoInRleHQveG1sIik7Yi5zZW5kKG51bGwpO3JldHVybiBiLnJlc3BvbnNlWE1MfSk7dGhpcy5rZWVwRGF0YSYmKHRoaXMuZGF0YT1iKTtyZXR1cm4gYn0sd3JpdGU6ZnVuY3Rpb24oYSl7aWYodGhpcy54bWxkb20pYT1hLnhtbDtlbHNle3ZhciBiPW5ldyBYTUxTZXJpYWxpemVyO2lmKDE9PWEubm9kZVR5cGUpe3ZhciBjPWRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZURvY3VtZW50KCIiLCIiLG51bGwpO2MuaW1wb3J0Tm9kZSYmKGE9Yy5pbXBvcnROb2RlKGEsITApKTtjLmFwcGVuZENoaWxkKGEpO2E9Yi5zZXJpYWxpemVUb1N0cmluZyhjKX1lbHNlIGE9Yi5zZXJpYWxpemVUb1N0cmluZyhhKX1yZXR1cm4gYX0sY3JlYXRlRWxlbWVudE5TOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMueG1sZG9tPyJzdHJpbmciPT10eXBlb2YgYT90aGlzLnhtbGRvbS5jcmVhdGVOb2RlKDEsYixhKTp0aGlzLnhtbGRvbS5jcmVhdGVOb2RlKDEsYiwiIik6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGEsCmIpfSxjcmVhdGVEb2N1bWVudEZyYWdtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueG1sZG9tP3RoaXMueG1sZG9tLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTpkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCl9LGNyZWF0ZVRleHROb2RlOmZ1bmN0aW9uKGEpeyJzdHJpbmciIT09dHlwZW9mIGEmJihhPVN0cmluZyhhKSk7cmV0dXJuIHRoaXMueG1sZG9tP3RoaXMueG1sZG9tLmNyZWF0ZVRleHROb2RlKGEpOmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGEpfSxnZXRFbGVtZW50c0J5VGFnTmFtZU5TOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXTtpZihhLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMpZD1hLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYixjKTtlbHNlIGZvcih2YXIgYT1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIiksZSxmLGc9MCxoPWEubGVuZ3RoO2c8aDsrK2cpaWYoZT1hW2ddLGY9ZS5wcmVmaXg/ZS5wcmVmaXgrIjoiK2M6YywiKiI9PWN8fGY9PWUubm9kZU5hbWUpKCIqIj09CmJ8fGI9PWUubmFtZXNwYWNlVVJJKSYmZC5wdXNoKGUpO3JldHVybiBkfSxnZXRBdHRyaWJ1dGVOb2RlTlM6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW51bGw7aWYoYS5nZXRBdHRyaWJ1dGVOb2RlTlMpZD1hLmdldEF0dHJpYnV0ZU5vZGVOUyhiLGMpO2Vsc2UgZm9yKHZhciBhPWEuYXR0cmlidXRlcyxlLGYsZz0wLGg9YS5sZW5ndGg7ZzxoOysrZylpZihlPWFbZ10sZS5uYW1lc3BhY2VVUkk9PWImJihmPWUucHJlZml4P2UucHJlZml4KyI6IitjOmMsZj09ZS5ub2RlTmFtZSkpe2Q9ZTticmVha31yZXR1cm4gZH0sZ2V0QXR0cmlidXRlTlM6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSIiO2lmKGEuZ2V0QXR0cmlidXRlTlMpZD1hLmdldEF0dHJpYnV0ZU5TKGIsYyl8fCIiO2Vsc2UgaWYoYT10aGlzLmdldEF0dHJpYnV0ZU5vZGVOUyhhLGIsYykpZD1hLm5vZGVWYWx1ZTtyZXR1cm4gZH0sZ2V0Q2hpbGRWYWx1ZTpmdW5jdGlvbihhLGIpe3ZhciBjPWJ8fCIiO2lmKGEpZm9yKHZhciBkPWEuZmlyc3RDaGlsZDtkO2Q9CmQubmV4dFNpYmxpbmcpc3dpdGNoKGQubm9kZVR5cGUpe2Nhc2UgMzpjYXNlIDQ6Yys9ZC5ub2RlVmFsdWV9cmV0dXJuIGN9LGlzU2ltcGxlQ29udGVudDpmdW5jdGlvbihhKXtmb3IodmFyIGI9ITAsYT1hLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpaWYoMT09PWEubm9kZVR5cGUpe2I9ITE7YnJlYWt9cmV0dXJuIGJ9LGNvbnRlbnRUeXBlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0hMSxjPSExLGQ9T3BlbkxheWVycy5Gb3JtYXQuWE1MLkNPTlRFTlRfVFlQRS5FTVBUWSxhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZyl7c3dpdGNoKGEubm9kZVR5cGUpe2Nhc2UgMTpjPSEwO2JyZWFrO2Nhc2UgODpicmVhaztkZWZhdWx0OmI9ITB9aWYoYyYmYilicmVha31pZihjJiZiKWQ9T3BlbkxheWVycy5Gb3JtYXQuWE1MLkNPTlRFTlRfVFlQRS5NSVhFRDtlbHNle2lmKGMpcmV0dXJuIE9wZW5MYXllcnMuRm9ybWF0LlhNTC5DT05URU5UX1RZUEUuQ09NUExFWDtpZihiKXJldHVybiBPcGVuTGF5ZXJzLkZvcm1hdC5YTUwuQ09OVEVOVF9UWVBFLlNJTVBMRX1yZXR1cm4gZH0sCmhhc0F0dHJpYnV0ZU5TOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD0hMTtyZXR1cm4gZD1hLmhhc0F0dHJpYnV0ZU5TP2EuaGFzQXR0cmlidXRlTlMoYixjKTohIXRoaXMuZ2V0QXR0cmlidXRlTm9kZU5TKGEsYixjKX0sc2V0QXR0cmlidXRlTlM6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYS5zZXRBdHRyaWJ1dGVOUylhLnNldEF0dHJpYnV0ZU5TKGIsYyxkKTtlbHNlIGlmKHRoaXMueG1sZG9tKWI/KGI9YS5vd25lckRvY3VtZW50LmNyZWF0ZU5vZGUoMixjLGIpLGIubm9kZVZhbHVlPWQsYS5zZXRBdHRyaWJ1dGVOb2RlKGIpKTphLnNldEF0dHJpYnV0ZShjLGQpO2Vsc2UgdGhyb3cic2V0QXR0cmlidXRlTlMgbm90IGltcGxlbWVudGVkIjt9LGNyZWF0ZUVsZW1lbnROU1BsdXM6ZnVuY3Rpb24oYSxiKXt2YXIgYj1ifHx7fSxjPWIudXJpfHx0aGlzLm5hbWVzcGFjZXNbYi5wcmVmaXhdO2N8fChjPWEuaW5kZXhPZigiOiIpLGM9dGhpcy5uYW1lc3BhY2VzW2Euc3Vic3RyaW5nKDAsYyldKTtjfHwKKGM9dGhpcy5uYW1lc3BhY2VzW3RoaXMuZGVmYXVsdFByZWZpeF0pO2M9dGhpcy5jcmVhdGVFbGVtZW50TlMoYyxhKTtiLmF0dHJpYnV0ZXMmJnRoaXMuc2V0QXR0cmlidXRlcyhjLGIuYXR0cmlidXRlcyk7dmFyIGQ9Yi52YWx1ZTtudWxsIT1kJiZjLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlVGV4dE5vZGUoZCkpO3JldHVybiBjfSxzZXRBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlO2ZvcihlIGluIGIpbnVsbCE9YltlXSYmYltlXS50b1N0cmluZyYmKGM9YltlXS50b1N0cmluZygpLGQ9dGhpcy5uYW1lc3BhY2VzW2Uuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCI6IikpXXx8bnVsbCx0aGlzLnNldEF0dHJpYnV0ZU5TKGEsZCxlLGMpKX0scmVhZE5vZGU6ZnVuY3Rpb24oYSxiKXtifHwoYj17fSk7dmFyIGM9dGhpcy5yZWFkZXJzW2EubmFtZXNwYWNlVVJJP3RoaXMubmFtZXNwYWNlQWxpYXNbYS5uYW1lc3BhY2VVUkldOnRoaXMuZGVmYXVsdFByZWZpeF07aWYoYyl7dmFyIGQ9CmEubG9jYWxOYW1lfHxhLm5vZGVOYW1lLnNwbGl0KCI6IikucG9wKCk7KGM9Y1tkXXx8Y1siKiJdKSYmYy5hcHBseSh0aGlzLFthLGJdKX1yZXR1cm4gYn0scmVhZENoaWxkTm9kZXM6ZnVuY3Rpb24oYSxiKXtifHwoYj17fSk7Zm9yKHZhciBjPWEuY2hpbGROb2RlcyxkLGU9MCxmPWMubGVuZ3RoO2U8ZjsrK2UpZD1jW2VdLDE9PWQubm9kZVR5cGUmJnRoaXMucmVhZE5vZGUoZCxiKTtyZXR1cm4gYn0sd3JpdGVOb2RlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPWEuaW5kZXhPZigiOiIpOzA8ZT8oZD1hLnN1YnN0cmluZygwLGUpLGE9YS5zdWJzdHJpbmcoZSsxKSk6ZD1jP3RoaXMubmFtZXNwYWNlQWxpYXNbYy5uYW1lc3BhY2VVUkldOnRoaXMuZGVmYXVsdFByZWZpeDtiPXRoaXMud3JpdGVyc1tkXVthXS5hcHBseSh0aGlzLFtiXSk7YyYmYy5hcHBlbmRDaGlsZChiKTtyZXR1cm4gYn0sZ2V0Q2hpbGRFbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGEmJnRoaXMuZ2V0VGhpc09yTmV4dEVsKGEuZmlyc3RDaGlsZCwKYixjKX0sZ2V0TmV4dEVsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYSYmdGhpcy5nZXRUaGlzT3JOZXh0RWwoYS5uZXh0U2libGluZyxiLGMpfSxnZXRUaGlzT3JOZXh0RWw6ZnVuY3Rpb24oYSxiLGMpe2E6Zm9yKDthO2E9YS5uZXh0U2libGluZylzd2l0Y2goYS5ub2RlVHlwZSl7Y2FzZSAxOmlmKCghYnx8Yj09PShhLmxvY2FsTmFtZXx8YS5ub2RlTmFtZS5zcGxpdCgiOiIpLnBvcCgpKSkmJighY3x8Yz09PWEubmFtZXNwYWNlVVJJKSlicmVhayBhO2E9bnVsbDticmVhayBhO2Nhc2UgMzppZigvXlxzKiQvLnRlc3QoYS5ub2RlVmFsdWUpKWJyZWFrO2Nhc2UgNDpjYXNlIDY6Y2FzZSAxMjpjYXNlIDEwOmNhc2UgMTE6YT1udWxsO2JyZWFrIGF9cmV0dXJuIGF8fG51bGx9LGxvb2t1cE5hbWVzcGFjZVVSSTpmdW5jdGlvbihhLGIpe3ZhciBjPW51bGw7aWYoYSlpZihhLmxvb2t1cE5hbWVzcGFjZVVSSSljPWEubG9va3VwTmFtZXNwYWNlVVJJKGIpO2Vsc2UgYTpzd2l0Y2goYS5ub2RlVHlwZSl7Y2FzZSAxOmlmKG51bGwhPT0KYS5uYW1lc3BhY2VVUkkmJmEucHJlZml4PT09Yil7Yz1hLm5hbWVzcGFjZVVSSTticmVhayBhfWlmKGM9YS5hdHRyaWJ1dGVzLmxlbmd0aClmb3IodmFyIGQsZT0wO2U8YzsrK2UpaWYoZD1hLmF0dHJpYnV0ZXNbZV0sInhtbG5zIj09PWQucHJlZml4JiZkLm5hbWU9PT0ieG1sbnM6IitiKXtjPWQudmFsdWV8fG51bGw7YnJlYWsgYX1lbHNlIGlmKCJ4bWxucyI9PT1kLm5hbWUmJm51bGw9PT1iKXtjPWQudmFsdWV8fG51bGw7YnJlYWsgYX1jPXRoaXMubG9va3VwTmFtZXNwYWNlVVJJKGEucGFyZW50Tm9kZSxiKTticmVhayBhO2Nhc2UgMjpjPXRoaXMubG9va3VwTmFtZXNwYWNlVVJJKGEub3duZXJFbGVtZW50LGIpO2JyZWFrIGE7Y2FzZSA5OmM9dGhpcy5sb29rdXBOYW1lc3BhY2VVUkkoYS5kb2N1bWVudEVsZW1lbnQsYik7YnJlYWsgYTtjYXNlIDY6Y2FzZSAxMjpjYXNlIDEwOmNhc2UgMTE6YnJlYWsgYTtkZWZhdWx0OmM9dGhpcy5sb29rdXBOYW1lc3BhY2VVUkkoYS5wYXJlbnROb2RlLApiKX1yZXR1cm4gY30sZ2V0WE1MRG9jOmZ1bmN0aW9uKCl7IU9wZW5MYXllcnMuRm9ybWF0LlhNTC5kb2N1bWVudCYmIXRoaXMueG1sZG9tJiYoZG9jdW1lbnQuaW1wbGVtZW50YXRpb24mJmRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZURvY3VtZW50P09wZW5MYXllcnMuRm9ybWF0LlhNTC5kb2N1bWVudD1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVEb2N1bWVudCgiIiwiIixudWxsKTohdGhpcy54bWxkb20mJndpbmRvdy5BY3RpdmVYT2JqZWN0JiYodGhpcy54bWxkb209bmV3IEFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKSkpO3JldHVybiBPcGVuTGF5ZXJzLkZvcm1hdC5YTUwuZG9jdW1lbnR8fHRoaXMueG1sZG9tfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5YTUwifSk7T3BlbkxheWVycy5Gb3JtYXQuWE1MLkNPTlRFTlRfVFlQRT17RU1QVFk6MCxTSU1QTEU6MSxDT01QTEVYOjIsTUlYRUQ6M307Ck9wZW5MYXllcnMuRm9ybWF0LlhNTC5sb29rdXBOYW1lc3BhY2VVUkk9T3BlbkxheWVycy5GdW5jdGlvbi5iaW5kKE9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUubG9va3VwTmFtZXNwYWNlVVJJLE9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUpO09wZW5MYXllcnMuRm9ybWF0LlhNTC5kb2N1bWVudD1udWxsO09wZW5MYXllcnMuRmVhdHVyZT1PcGVuTGF5ZXJzLkNsYXNzKHtsYXllcjpudWxsLGlkOm51bGwsbG9ubGF0Om51bGwsZGF0YTpudWxsLG1hcmtlcjpudWxsLHBvcHVwQ2xhc3M6bnVsbCxwb3B1cDpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMpe3RoaXMubGF5ZXI9YTt0aGlzLmxvbmxhdD1iO3RoaXMuZGF0YT1udWxsIT1jP2M6e307dGhpcy5pZD1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlVW5pcXVlSUQodGhpcy5DTEFTU19OQU1FKyJfIil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtudWxsIT10aGlzLmxheWVyJiZudWxsIT10aGlzLmxheWVyLm1hcCYmbnVsbCE9dGhpcy5wb3B1cCYmdGhpcy5sYXllci5tYXAucmVtb3ZlUG9wdXAodGhpcy5wb3B1cCk7bnVsbCE9dGhpcy5sYXllciYmbnVsbCE9dGhpcy5tYXJrZXImJnRoaXMubGF5ZXIucmVtb3ZlTWFya2VyKHRoaXMubWFya2VyKTt0aGlzLmRhdGE9dGhpcy5sb25sYXQ9dGhpcy5pZD10aGlzLmxheWVyPW51bGw7bnVsbCE9dGhpcy5tYXJrZXImJgoodGhpcy5kZXN0cm95TWFya2VyKHRoaXMubWFya2VyKSx0aGlzLm1hcmtlcj1udWxsKTtudWxsIT10aGlzLnBvcHVwJiYodGhpcy5kZXN0cm95UG9wdXAodGhpcy5wb3B1cCksdGhpcy5wb3B1cD1udWxsKX0sb25TY3JlZW46ZnVuY3Rpb24oKXt2YXIgYT0hMTtudWxsIT10aGlzLmxheWVyJiZudWxsIT10aGlzLmxheWVyLm1hcCYmKGE9dGhpcy5sYXllci5tYXAuZ2V0RXh0ZW50KCkuY29udGFpbnNMb25MYXQodGhpcy5sb25sYXQpKTtyZXR1cm4gYX0sY3JlYXRlTWFya2VyOmZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5sb25sYXQmJih0aGlzLm1hcmtlcj1uZXcgT3BlbkxheWVycy5NYXJrZXIodGhpcy5sb25sYXQsdGhpcy5kYXRhLmljb24pKTtyZXR1cm4gdGhpcy5tYXJrZXJ9LGRlc3Ryb3lNYXJrZXI6ZnVuY3Rpb24oKXt0aGlzLm1hcmtlci5kZXN0cm95KCl9LGNyZWF0ZVBvcHVwOmZ1bmN0aW9uKGEpe251bGwhPXRoaXMubG9ubGF0JiYodGhpcy5wb3B1cHx8KHRoaXMucG9wdXA9bmV3ICh0aGlzLnBvcHVwQ2xhc3M/CnRoaXMucG9wdXBDbGFzczpPcGVuTGF5ZXJzLlBvcHVwLkFuY2hvcmVkKSh0aGlzLmlkKyJfcG9wdXAiLHRoaXMubG9ubGF0LHRoaXMuZGF0YS5wb3B1cFNpemUsdGhpcy5kYXRhLnBvcHVwQ29udGVudEhUTUwsdGhpcy5tYXJrZXI/dGhpcy5tYXJrZXIuaWNvbjpudWxsLGEpKSxudWxsIT10aGlzLmRhdGEub3ZlcmZsb3cmJih0aGlzLnBvcHVwLmNvbnRlbnREaXYuc3R5bGUub3ZlcmZsb3c9dGhpcy5kYXRhLm92ZXJmbG93KSx0aGlzLnBvcHVwLmZlYXR1cmU9dGhpcyk7cmV0dXJuIHRoaXMucG9wdXB9LGRlc3Ryb3lQb3B1cDpmdW5jdGlvbigpe3RoaXMucG9wdXAmJih0aGlzLnBvcHVwLmZlYXR1cmU9bnVsbCx0aGlzLnBvcHVwLmRlc3Ryb3koKSx0aGlzLnBvcHVwPW51bGwpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZlYXR1cmUifSk7T3BlbkxheWVycy5TdGF0ZT17VU5LTk9XTjoiVW5rbm93biIsSU5TRVJUOiJJbnNlcnQiLFVQREFURToiVXBkYXRlIixERUxFVEU6IkRlbGV0ZSJ9OwpPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5GZWF0dXJlLHtmaWQ6bnVsbCxnZW9tZXRyeTpudWxsLGF0dHJpYnV0ZXM6bnVsbCxib3VuZHM6bnVsbCxzdGF0ZTpudWxsLHN0eWxlOm51bGwsdXJsOm51bGwscmVuZGVySW50ZW50OiJkZWZhdWx0Iixtb2RpZmllZDpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMpe09wZW5MYXllcnMuRmVhdHVyZS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFtudWxsLG51bGwsYl0pO3RoaXMubG9ubGF0PW51bGw7dGhpcy5nZW9tZXRyeT1hP2E6bnVsbDt0aGlzLnN0YXRlPW51bGw7dGhpcy5hdHRyaWJ1dGVzPXt9O2ImJih0aGlzLmF0dHJpYnV0ZXM9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh0aGlzLmF0dHJpYnV0ZXMsYikpO3RoaXMuc3R5bGU9Yz9jOm51bGx9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmxheWVyJiYodGhpcy5sYXllci5yZW1vdmVGZWF0dXJlcyh0aGlzKSx0aGlzLmxheWVyPQpudWxsKTt0aGlzLm1vZGlmaWVkPXRoaXMuZ2VvbWV0cnk9bnVsbDtPcGVuTGF5ZXJzLkZlYXR1cmUucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3Rvcih0aGlzLmdlb21ldHJ5P3RoaXMuZ2VvbWV0cnkuY2xvbmUoKTpudWxsLHRoaXMuYXR0cmlidXRlcyx0aGlzLnN0eWxlKX0sb25TY3JlZW46ZnVuY3Rpb24oYSl7dmFyIGI9ITE7dGhpcy5sYXllciYmdGhpcy5sYXllci5tYXAmJihiPXRoaXMubGF5ZXIubWFwLmdldEV4dGVudCgpLGE/KGE9dGhpcy5nZW9tZXRyeS5nZXRCb3VuZHMoKSxiPWIuaW50ZXJzZWN0c0JvdW5kcyhhKSk6Yj1iLnRvR2VvbWV0cnkoKS5pbnRlcnNlY3RzKHRoaXMuZ2VvbWV0cnkpKTtyZXR1cm4gYn0sZ2V0VmlzaWJpbGl0eTpmdW5jdGlvbigpe3JldHVybiEodGhpcy5zdHlsZSYmIm5vbmUiPT10aGlzLnN0eWxlLmRpc3BsYXl8fCF0aGlzLmxheWVyfHwKdGhpcy5sYXllciYmdGhpcy5sYXllci5zdHlsZU1hcCYmIm5vbmUiPT10aGlzLmxheWVyLnN0eWxlTWFwLmNyZWF0ZVN5bWJvbGl6ZXIodGhpcyx0aGlzLnJlbmRlckludGVudCkuZGlzcGxheXx8dGhpcy5sYXllciYmIXRoaXMubGF5ZXIuZ2V0VmlzaWJpbGl0eSgpKX0sY3JlYXRlTWFya2VyOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGRlc3Ryb3lNYXJrZXI6ZnVuY3Rpb24oKXt9LGNyZWF0ZVBvcHVwOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGF0UG9pbnQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSExO3RoaXMuZ2VvbWV0cnkmJihkPXRoaXMuZ2VvbWV0cnkuYXRQb2ludChhLGIsYykpO3JldHVybiBkfSxkZXN0cm95UG9wdXA6ZnVuY3Rpb24oKXt9LG1vdmU6ZnVuY3Rpb24oYSl7aWYodGhpcy5sYXllciYmdGhpcy5nZW9tZXRyeS5tb3ZlKXt2YXIgYT0iT3BlbkxheWVycy5Mb25MYXQiPT1hLkNMQVNTX05BTUU/dGhpcy5sYXllci5nZXRWaWV3UG9ydFB4RnJvbUxvbkxhdChhKTphLApiPXRoaXMubGF5ZXIuZ2V0Vmlld1BvcnRQeEZyb21Mb25MYXQodGhpcy5nZW9tZXRyeS5nZXRCb3VuZHMoKS5nZXRDZW50ZXJMb25MYXQoKSksYz10aGlzLmxheWVyLm1hcC5nZXRSZXNvbHV0aW9uKCk7dGhpcy5nZW9tZXRyeS5tb3ZlKGMqKGEueC1iLngpLGMqKGIueS1hLnkpKTt0aGlzLmxheWVyLmRyYXdGZWF0dXJlKHRoaXMpO3JldHVybiBifX0sdG9TdGF0ZTpmdW5jdGlvbihhKXtpZihhPT1PcGVuTGF5ZXJzLlN0YXRlLlVQREFURSlzd2l0Y2godGhpcy5zdGF0ZSl7Y2FzZSBPcGVuTGF5ZXJzLlN0YXRlLlVOS05PV046Y2FzZSBPcGVuTGF5ZXJzLlN0YXRlLkRFTEVURTp0aGlzLnN0YXRlPWF9ZWxzZSBpZihhPT1PcGVuTGF5ZXJzLlN0YXRlLklOU0VSVClzd2l0Y2godGhpcy5zdGF0ZSl7Y2FzZSBPcGVuTGF5ZXJzLlN0YXRlLlVOS05PV046YnJlYWs7ZGVmYXVsdDp0aGlzLnN0YXRlPWF9ZWxzZSBpZihhPT1PcGVuTGF5ZXJzLlN0YXRlLkRFTEVURSlzd2l0Y2godGhpcy5zdGF0ZSl7Y2FzZSBPcGVuTGF5ZXJzLlN0YXRlLlVOS05PV046Y2FzZSBPcGVuTGF5ZXJzLlN0YXRlLlVQREFURTp0aGlzLnN0YXRlPQphfWVsc2UgYT09T3BlbkxheWVycy5TdGF0ZS5VTktOT1dOJiYodGhpcy5zdGF0ZT1hKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvciJ9KTsKT3BlbkxheWVycy5GZWF0dXJlLlZlY3Rvci5zdHlsZT17ImRlZmF1bHQiOntmaWxsQ29sb3I6IiNlZTk5MDAiLGZpbGxPcGFjaXR5OjAuNCxob3ZlckZpbGxDb2xvcjoid2hpdGUiLGhvdmVyRmlsbE9wYWNpdHk6MC44LHN0cm9rZUNvbG9yOiIjZWU5OTAwIixzdHJva2VPcGFjaXR5OjEsc3Ryb2tlV2lkdGg6MSxzdHJva2VMaW5lY2FwOiJyb3VuZCIsc3Ryb2tlRGFzaHN0eWxlOiJzb2xpZCIsaG92ZXJTdHJva2VDb2xvcjoicmVkIixob3ZlclN0cm9rZU9wYWNpdHk6MSxob3ZlclN0cm9rZVdpZHRoOjAuMixwb2ludFJhZGl1czo2LGhvdmVyUG9pbnRSYWRpdXM6MSxob3ZlclBvaW50VW5pdDoiJSIscG9pbnRlckV2ZW50czoidmlzaWJsZVBhaW50ZWQiLGN1cnNvcjoiaW5oZXJpdCIsZm9udENvbG9yOiIjMDAwMDAwIixsYWJlbEFsaWduOiJjbSIsbGFiZWxPdXRsaW5lQ29sb3I6IndoaXRlIixsYWJlbE91dGxpbmVXaWR0aDozfSxzZWxlY3Q6e2ZpbGxDb2xvcjoiYmx1ZSIsZmlsbE9wYWNpdHk6MC40LApob3ZlckZpbGxDb2xvcjoid2hpdGUiLGhvdmVyRmlsbE9wYWNpdHk6MC44LHN0cm9rZUNvbG9yOiJibHVlIixzdHJva2VPcGFjaXR5OjEsc3Ryb2tlV2lkdGg6MixzdHJva2VMaW5lY2FwOiJyb3VuZCIsc3Ryb2tlRGFzaHN0eWxlOiJzb2xpZCIsaG92ZXJTdHJva2VDb2xvcjoicmVkIixob3ZlclN0cm9rZU9wYWNpdHk6MSxob3ZlclN0cm9rZVdpZHRoOjAuMixwb2ludFJhZGl1czo2LGhvdmVyUG9pbnRSYWRpdXM6MSxob3ZlclBvaW50VW5pdDoiJSIscG9pbnRlckV2ZW50czoidmlzaWJsZVBhaW50ZWQiLGN1cnNvcjoicG9pbnRlciIsZm9udENvbG9yOiIjMDAwMDAwIixsYWJlbEFsaWduOiJjbSIsbGFiZWxPdXRsaW5lQ29sb3I6IndoaXRlIixsYWJlbE91dGxpbmVXaWR0aDozfSx0ZW1wb3Jhcnk6e2ZpbGxDb2xvcjoiIzY2Y2NjYyIsZmlsbE9wYWNpdHk6MC4yLGhvdmVyRmlsbENvbG9yOiJ3aGl0ZSIsaG92ZXJGaWxsT3BhY2l0eTowLjgsc3Ryb2tlQ29sb3I6IiM2NmNjY2MiLHN0cm9rZU9wYWNpdHk6MSwKc3Ryb2tlTGluZWNhcDoicm91bmQiLHN0cm9rZVdpZHRoOjIsc3Ryb2tlRGFzaHN0eWxlOiJzb2xpZCIsaG92ZXJTdHJva2VDb2xvcjoicmVkIixob3ZlclN0cm9rZU9wYWNpdHk6MSxob3ZlclN0cm9rZVdpZHRoOjAuMixwb2ludFJhZGl1czo2LGhvdmVyUG9pbnRSYWRpdXM6MSxob3ZlclBvaW50VW5pdDoiJSIscG9pbnRlckV2ZW50czoidmlzaWJsZVBhaW50ZWQiLGN1cnNvcjoiaW5oZXJpdCIsZm9udENvbG9yOiIjMDAwMDAwIixsYWJlbEFsaWduOiJjbSIsbGFiZWxPdXRsaW5lQ29sb3I6IndoaXRlIixsYWJlbE91dGxpbmVXaWR0aDozfSwiZGVsZXRlIjp7ZGlzcGxheToibm9uZSJ9fTtPcGVuTGF5ZXJzLkdlb21ldHJ5PU9wZW5MYXllcnMuQ2xhc3Moe2lkOm51bGwscGFyZW50Om51bGwsYm91bmRzOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbigpe3RoaXMuaWQ9T3BlbkxheWVycy5VdGlsLmNyZWF0ZVVuaXF1ZUlEKHRoaXMuQ0xBU1NfTkFNRSsiXyIpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5ib3VuZHM9dGhpcy5pZD1udWxsfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgT3BlbkxheWVycy5HZW9tZXRyeX0sc2V0Qm91bmRzOmZ1bmN0aW9uKGEpe2EmJih0aGlzLmJvdW5kcz1hLmNsb25lKCkpfSxjbGVhckJvdW5kczpmdW5jdGlvbigpe3RoaXMuYm91bmRzPW51bGw7dGhpcy5wYXJlbnQmJnRoaXMucGFyZW50LmNsZWFyQm91bmRzKCl9LGV4dGVuZEJvdW5kczpmdW5jdGlvbihhKXt0aGlzLmdldEJvdW5kcygpP3RoaXMuYm91bmRzLmV4dGVuZChhKTp0aGlzLnNldEJvdW5kcyhhKX0sZ2V0Qm91bmRzOmZ1bmN0aW9uKCl7bnVsbD09dGhpcy5ib3VuZHMmJnRoaXMuY2FsY3VsYXRlQm91bmRzKCk7CnJldHVybiB0aGlzLmJvdW5kc30sY2FsY3VsYXRlQm91bmRzOmZ1bmN0aW9uKCl7fSxkaXN0YW5jZVRvOmZ1bmN0aW9uKCl7fSxnZXRWZXJ0aWNlczpmdW5jdGlvbigpe30sYXRQb2ludDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9ITE7bnVsbCE9dGhpcy5nZXRCb3VuZHMoKSYmbnVsbCE9YSYmKGI9bnVsbCE9Yj9iOjAsYz1udWxsIT1jP2M6MCxkPShuZXcgT3BlbkxheWVycy5Cb3VuZHModGhpcy5ib3VuZHMubGVmdC1iLHRoaXMuYm91bmRzLmJvdHRvbS1jLHRoaXMuYm91bmRzLnJpZ2h0K2IsdGhpcy5ib3VuZHMudG9wK2MpKS5jb250YWluc0xvbkxhdChhKSk7cmV0dXJuIGR9LGdldExlbmd0aDpmdW5jdGlvbigpe3JldHVybiAwfSxnZXRBcmVhOmZ1bmN0aW9uKCl7cmV0dXJuIDB9LGdldENlbnRyb2lkOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIE9wZW5MYXllcnMuRm9ybWF0JiZPcGVuTGF5ZXJzLkZvcm1hdC5XS1Q/T3BlbkxheWVycy5Gb3JtYXQuV0tULnByb3RvdHlwZS53cml0ZShuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3Rvcih0aGlzKSk6Ck9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0aGlzKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5HZW9tZXRyeSJ9KTtPcGVuTGF5ZXJzLkdlb21ldHJ5LmZyb21XS1Q9ZnVuY3Rpb24oYSl7dmFyIGI7aWYoT3BlbkxheWVycy5Gb3JtYXQmJk9wZW5MYXllcnMuRm9ybWF0LldLVCl7dmFyIGM9T3BlbkxheWVycy5HZW9tZXRyeS5mcm9tV0tULmZvcm1hdDtjfHwoYz1uZXcgT3BlbkxheWVycy5Gb3JtYXQuV0tULE9wZW5MYXllcnMuR2VvbWV0cnkuZnJvbVdLVC5mb3JtYXQ9Yyk7YT1jLnJlYWQoYSk7aWYoYSBpbnN0YW5jZW9mIE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IpYj1hLmdlb21ldHJ5O2Vsc2UgaWYoT3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSkpe2I9YS5sZW5ndGg7Zm9yKHZhciBjPUFycmF5KGIpLGQ9MDtkPGI7KytkKWNbZF09YVtkXS5nZW9tZXRyeTtiPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LkNvbGxlY3Rpb24oYyl9fXJldHVybiBifTsKT3BlbkxheWVycy5HZW9tZXRyeS5zZWdtZW50c0ludGVyc2VjdD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YyYmYy5wb2ludCxjPWMmJmMudG9sZXJhbmNlLGU9ITEsZj1hLngxLWIueDEsZz1hLnkxLWIueTEsaD1hLngyLWEueDEsaT1hLnkyLWEueTEsaj1iLnkyLWIueTEsaz1iLngyLWIueDEsbD1qKmgtayppLGo9aypnLWoqZixnPWgqZy1pKmY7MD09bD8wPT1qJiYwPT1nJiYoZT0hMCk6KGY9ai9sLGw9Zy9sLDA8PWYmJigxPj1mJiYwPD1sJiYxPj1sKSYmKGQ/KGg9YS54MStmKmgsbD1hLnkxK2YqaSxlPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGgsbCkpOmU9ITApKTtpZihjKWlmKGUpe2lmKGQpe2E9W2EsYl07Yj0wO2E6Zm9yKDsyPmI7KytiKXtmPWFbYl07Zm9yKGk9MTszPmk7KytpKWlmKGg9ZlsieCIraV0sbD1mWyJ5IitpXSxkPU1hdGguc3FydChNYXRoLnBvdyhoLWUueCwyKStNYXRoLnBvdyhsLWUueSwyKSksZDxjKXtlLng9aDtlLnk9bDticmVhayBhfX19fWVsc2V7YT0KW2EsYl07Yj0wO2E6Zm9yKDsyPmI7KytiKXtoPWFbYl07bD1hWyhiKzEpJTJdO2ZvcihpPTE7Mz5pOysraSlpZihmPXt4OmhbIngiK2ldLHk6aFsieSIraV19LGc9T3BlbkxheWVycy5HZW9tZXRyeS5kaXN0YW5jZVRvU2VnbWVudChmLGwpLGcuZGlzdGFuY2U8Yyl7ZT1kP25ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGYueCxmLnkpOiEwO2JyZWFrIGF9fX1yZXR1cm4gZX07T3BlbkxheWVycy5HZW9tZXRyeS5kaXN0YW5jZVRvU2VnbWVudD1mdW5jdGlvbihhLGIpe3ZhciBjPU9wZW5MYXllcnMuR2VvbWV0cnkuZGlzdGFuY2VTcXVhcmVkVG9TZWdtZW50KGEsYik7Yy5kaXN0YW5jZT1NYXRoLnNxcnQoYy5kaXN0YW5jZSk7cmV0dXJuIGN9OwpPcGVuTGF5ZXJzLkdlb21ldHJ5LmRpc3RhbmNlU3F1YXJlZFRvU2VnbWVudD1mdW5jdGlvbihhLGIpe3ZhciBjPWEueCxkPWEueSxlPWIueDEsZj1iLnkxLGc9Yi54MixoPWIueTIsaT1nLWUsaj1oLWYsaz0oaSooYy1lKStqKihkLWYpKS8oTWF0aC5wb3coaSwyKStNYXRoLnBvdyhqLDIpKTswPj1rfHwoMTw9az8oZT1nLGY9aCk6KGUrPWsqaSxmKz1rKmopKTtyZXR1cm57ZGlzdGFuY2U6TWF0aC5wb3coZS1jLDIpK01hdGgucG93KGYtZCwyKSx4OmUseTpmLGFsb25nOmt9fTtPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50PU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5HZW9tZXRyeSx7eDpudWxsLHk6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYil7T3BlbkxheWVycy5HZW9tZXRyeS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy54PXBhcnNlRmxvYXQoYSk7dGhpcy55PXBhcnNlRmxvYXQoYil9LGNsb25lOmZ1bmN0aW9uKGEpe251bGw9PWEmJihhPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHRoaXMueCx0aGlzLnkpKTtPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLHRoaXMpO3JldHVybiBhfSxjYWxjdWxhdGVCb3VuZHM6ZnVuY3Rpb24oKXt0aGlzLmJvdW5kcz1uZXcgT3BlbkxheWVycy5Cb3VuZHModGhpcy54LHRoaXMueSx0aGlzLngsdGhpcy55KX0sZGlzdGFuY2VUbzpmdW5jdGlvbihhLGIpe3ZhciBjPSEoYiYmITE9PT1iLmVkZ2UpJiZiJiZiLmRldGFpbHMsZCxlLGYsZyxoO2EgaW5zdGFuY2VvZgpPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50PyhlPXRoaXMueCxmPXRoaXMueSxnPWEueCxoPWEueSxkPU1hdGguc3FydChNYXRoLnBvdyhlLWcsMikrTWF0aC5wb3coZi1oLDIpKSxkPSFjP2Q6e3gwOmUseTA6Zix4MTpnLHkxOmgsZGlzdGFuY2U6ZH0pOihkPWEuZGlzdGFuY2VUbyh0aGlzLGIpLGMmJihkPXt4MDpkLngxLHkwOmQueTEseDE6ZC54MCx5MTpkLnkwLGRpc3RhbmNlOmQuZGlzdGFuY2V9KSk7cmV0dXJuIGR9LGVxdWFsczpmdW5jdGlvbihhKXt2YXIgYj0hMTtudWxsIT1hJiYoYj10aGlzLng9PWEueCYmdGhpcy55PT1hLnl8fGlzTmFOKHRoaXMueCkmJmlzTmFOKHRoaXMueSkmJmlzTmFOKGEueCkmJmlzTmFOKGEueSkpO3JldHVybiBifSx0b1Nob3J0U3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueCsiLCAiK3RoaXMueX0sbW92ZTpmdW5jdGlvbihhLGIpe3RoaXMueCs9YTt0aGlzLnkrPWI7dGhpcy5jbGVhckJvdW5kcygpfSxyb3RhdGU6ZnVuY3Rpb24oYSxiKXt2YXIgYT0KYSooTWF0aC5QSS8xODApLGM9dGhpcy5kaXN0YW5jZVRvKGIpLGQ9YStNYXRoLmF0YW4yKHRoaXMueS1iLnksdGhpcy54LWIueCk7dGhpcy54PWIueCtjKk1hdGguY29zKGQpO3RoaXMueT1iLnkrYypNYXRoLnNpbihkKTt0aGlzLmNsZWFyQm91bmRzKCl9LGdldENlbnRyb2lkOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KHRoaXMueCx0aGlzLnkpfSxyZXNpemU6ZnVuY3Rpb24oYSxiLGMpe3RoaXMueD1iLngrYSoodm9pZCAwPT1jPzE6YykqKHRoaXMueC1iLngpO3RoaXMueT1iLnkrYSoodGhpcy55LWIueSk7dGhpcy5jbGVhckJvdW5kcygpO3JldHVybiB0aGlzfSxpbnRlcnNlY3RzOmZ1bmN0aW9uKGEpe3ZhciBiPSExO3JldHVybiBiPSJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50Ij09YS5DTEFTU19OQU1FP3RoaXMuZXF1YWxzKGEpOmEuaW50ZXJzZWN0cyh0aGlzKX0sdHJhbnNmb3JtOmZ1bmN0aW9uKGEsYil7YSYmYiYmKE9wZW5MYXllcnMuUHJvamVjdGlvbi50cmFuc2Zvcm0odGhpcywKYSxiKSx0aGlzLmJvdW5kcz1udWxsKTtyZXR1cm4gdGhpc30sZ2V0VmVydGljZXM6ZnVuY3Rpb24oKXtyZXR1cm5bdGhpc119LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQifSk7T3BlbkxheWVycy5HZW9tZXRyeS5Db2xsZWN0aW9uPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5HZW9tZXRyeSx7Y29tcG9uZW50czpudWxsLGNvbXBvbmVudFR5cGVzOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkdlb21ldHJ5LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmNvbXBvbmVudHM9W107bnVsbCE9YSYmdGhpcy5hZGRDb21wb25lbnRzKGEpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5jb21wb25lbnRzLmxlbmd0aD0wO3RoaXMuY29tcG9uZW50cz1udWxsO09wZW5MYXllcnMuR2VvbWV0cnkucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxjbG9uZTpmdW5jdGlvbigpe2Zvcih2YXIgYT1uZXcgKE9wZW5MYXllcnMuVXRpbC5nZXRDb25zdHJ1Y3Rvcih0aGlzLkNMQVNTX05BTUUpKSxiPTAsYz10aGlzLmNvbXBvbmVudHMubGVuZ3RoO2I8YztiKyspYS5hZGRDb21wb25lbnQodGhpcy5jb21wb25lbnRzW2JdLmNsb25lKCkpOwpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLHRoaXMpO3JldHVybiBhfSxnZXRDb21wb25lbnRzU3RyaW5nOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGI9MCxjPXRoaXMuY29tcG9uZW50cy5sZW5ndGg7YjxjO2IrKylhLnB1c2godGhpcy5jb21wb25lbnRzW2JdLnRvU2hvcnRTdHJpbmcoKSk7cmV0dXJuIGEuam9pbigiLCIpfSxjYWxjdWxhdGVCb3VuZHM6ZnVuY3Rpb24oKXt0aGlzLmJvdW5kcz1udWxsO3ZhciBhPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyxiPXRoaXMuY29tcG9uZW50cztpZihiKWZvcih2YXIgYz0wLGQ9Yi5sZW5ndGg7YzxkO2MrKylhLmV4dGVuZChiW2NdLmdldEJvdW5kcygpKTtudWxsIT1hLmxlZnQmJihudWxsIT1hLmJvdHRvbSYmbnVsbCE9YS5yaWdodCYmbnVsbCE9YS50b3ApJiZ0aGlzLnNldEJvdW5kcyhhKX0sYWRkQ29tcG9uZW50czpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShhKXx8KGE9W2FdKTtmb3IodmFyIGI9MCxjPWEubGVuZ3RoO2I8CmM7YisrKXRoaXMuYWRkQ29tcG9uZW50KGFbYl0pfSxhZGRDb21wb25lbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz0hMTtpZihhJiYobnVsbD09dGhpcy5jb21wb25lbnRUeXBlc3x8LTE8T3BlbkxheWVycy5VdGlsLmluZGV4T2YodGhpcy5jb21wb25lbnRUeXBlcyxhLkNMQVNTX05BTUUpKSl7aWYobnVsbCE9YiYmYjx0aGlzLmNvbXBvbmVudHMubGVuZ3RoKXt2YXIgYz10aGlzLmNvbXBvbmVudHMuc2xpY2UoMCxiKSxkPXRoaXMuY29tcG9uZW50cy5zbGljZShiLHRoaXMuY29tcG9uZW50cy5sZW5ndGgpO2MucHVzaChhKTt0aGlzLmNvbXBvbmVudHM9Yy5jb25jYXQoZCl9ZWxzZSB0aGlzLmNvbXBvbmVudHMucHVzaChhKTthLnBhcmVudD10aGlzO3RoaXMuY2xlYXJCb3VuZHMoKTtjPSEwfXJldHVybiBjfSxyZW1vdmVDb21wb25lbnRzOmZ1bmN0aW9uKGEpe3ZhciBiPSExO09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEpfHwoYT1bYV0pO2Zvcih2YXIgYz1hLmxlbmd0aC0xOzA8PWM7LS1jKWI9CnRoaXMucmVtb3ZlQ29tcG9uZW50KGFbY10pfHxiO3JldHVybiBifSxyZW1vdmVDb21wb25lbnQ6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5VdGlsLnJlbW92ZUl0ZW0odGhpcy5jb21wb25lbnRzLGEpO3RoaXMuY2xlYXJCb3VuZHMoKTtyZXR1cm4hMH0sZ2V0TGVuZ3RoOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYj0wLGM9dGhpcy5jb21wb25lbnRzLmxlbmd0aDtiPGM7YisrKWErPXRoaXMuY29tcG9uZW50c1tiXS5nZXRMZW5ndGgoKTtyZXR1cm4gYX0sZ2V0QXJlYTpmdW5jdGlvbigpe2Zvcih2YXIgYT0wLGI9MCxjPXRoaXMuY29tcG9uZW50cy5sZW5ndGg7YjxjO2IrKylhKz10aGlzLmNvbXBvbmVudHNbYl0uZ2V0QXJlYSgpO3JldHVybiBhfSxnZXRHZW9kZXNpY0FyZWE6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz0wLGQ9dGhpcy5jb21wb25lbnRzLmxlbmd0aDtjPGQ7YysrKWIrPXRoaXMuY29tcG9uZW50c1tjXS5nZXRHZW9kZXNpY0FyZWEoYSk7cmV0dXJuIGJ9LGdldENlbnRyb2lkOmZ1bmN0aW9uKGEpe2lmKCFhKXJldHVybiB0aGlzLmNvbXBvbmVudHMubGVuZ3RoJiYKdGhpcy5jb21wb25lbnRzWzBdLmdldENlbnRyb2lkKCk7YT10aGlzLmNvbXBvbmVudHMubGVuZ3RoO2lmKCFhKXJldHVybiExO2Zvcih2YXIgYj1bXSxjPVtdLGQ9MCxlPU51bWJlci5NQVhfVkFMVUUsZixnPTA7ZzxhOysrZyl7Zj10aGlzLmNvbXBvbmVudHNbZ107dmFyIGg9Zi5nZXRBcmVhKCk7Zj1mLmdldENlbnRyb2lkKCEwKTshaXNOYU4oaCkmJighaXNOYU4oZi54KSYmIWlzTmFOKGYueSkpJiYoYi5wdXNoKGgpLGQrPWgsZT1oPGUmJjA8aD9oOmUsYy5wdXNoKGYpKX1hPWIubGVuZ3RoO2lmKDA9PT1kKXtmb3IoZz0wO2c8YTsrK2cpYltnXT0xO2Q9Yi5sZW5ndGh9ZWxzZXtmb3IoZz0wO2c8YTsrK2cpYltnXS89ZTtkLz1lfWZvcih2YXIgaT1lPTAsZz0wO2c8YTsrK2cpZj1jW2ddLGg9YltnXSxlKz1mLngqaCxpKz1mLnkqaDtyZXR1cm4gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoZS9kLGkvZCl9LGdldEdlb2Rlc2ljTGVuZ3RoOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0KMCxjPTAsZD10aGlzLmNvbXBvbmVudHMubGVuZ3RoO2M8ZDtjKyspYis9dGhpcy5jb21wb25lbnRzW2NdLmdldEdlb2Rlc2ljTGVuZ3RoKGEpO3JldHVybiBifSxtb3ZlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD10aGlzLmNvbXBvbmVudHMubGVuZ3RoO2M8ZDtjKyspdGhpcy5jb21wb25lbnRzW2NdLm1vdmUoYSxiKX0scm90YXRlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD10aGlzLmNvbXBvbmVudHMubGVuZ3RoO2M8ZDsrK2MpdGhpcy5jb21wb25lbnRzW2NdLnJvdGF0ZShhLGIpfSxyZXNpemU6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wO2Q8dGhpcy5jb21wb25lbnRzLmxlbmd0aDsrK2QpdGhpcy5jb21wb25lbnRzW2RdLnJlc2l6ZShhLGIsYyk7cmV0dXJuIHRoaXN9LGRpc3RhbmNlVG86ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9IShiJiYhMT09PWIuZWRnZSkmJmImJmIuZGV0YWlscyxkLGUsZixnPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxoPTAsaT10aGlzLmNvbXBvbmVudHMubGVuZ3RoO2g8CmkmJiEoZD10aGlzLmNvbXBvbmVudHNbaF0uZGlzdGFuY2VUbyhhLGIpLGY9Yz9kLmRpc3RhbmNlOmQsZjxnJiYoZz1mLGU9ZCwwPT1nKSk7KytoKTtyZXR1cm4gZX0sZXF1YWxzOmZ1bmN0aW9uKGEpe3ZhciBiPSEwO2lmKCFhfHwhYS5DTEFTU19OQU1FfHx0aGlzLkNMQVNTX05BTUUhPWEuQ0xBU1NfTkFNRSliPSExO2Vsc2UgaWYoIU9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEuY29tcG9uZW50cyl8fGEuY29tcG9uZW50cy5sZW5ndGghPXRoaXMuY29tcG9uZW50cy5sZW5ndGgpYj0hMTtlbHNlIGZvcih2YXIgYz0wLGQ9dGhpcy5jb21wb25lbnRzLmxlbmd0aDtjPGQ7KytjKWlmKCF0aGlzLmNvbXBvbmVudHNbY10uZXF1YWxzKGEuY29tcG9uZW50c1tjXSkpe2I9ITE7YnJlYWt9cmV0dXJuIGJ9LHRyYW5zZm9ybTpmdW5jdGlvbihhLGIpe2lmKGEmJmIpe2Zvcih2YXIgYz0wLGQ9dGhpcy5jb21wb25lbnRzLmxlbmd0aDtjPGQ7YysrKXRoaXMuY29tcG9uZW50c1tjXS50cmFuc2Zvcm0oYSwKYik7dGhpcy5ib3VuZHM9bnVsbH1yZXR1cm4gdGhpc30saW50ZXJzZWN0czpmdW5jdGlvbihhKXtmb3IodmFyIGI9ITEsYz0wLGQ9dGhpcy5jb21wb25lbnRzLmxlbmd0aDtjPGQmJiEoYj1hLmludGVyc2VjdHModGhpcy5jb21wb25lbnRzW2NdKSk7KytjKTtyZXR1cm4gYn0sZ2V0VmVydGljZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MCxkPXRoaXMuY29tcG9uZW50cy5sZW5ndGg7YzxkOysrYylBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShiLHRoaXMuY29tcG9uZW50c1tjXS5nZXRWZXJ0aWNlcyhhKSk7cmV0dXJuIGJ9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuR2VvbWV0cnkuQ29sbGVjdGlvbiJ9KTtPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpUG9pbnQ9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkdlb21ldHJ5LkNvbGxlY3Rpb24se2NvbXBvbmVudFR5cGVzOlsiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCJdLGFkZFBvaW50OmZ1bmN0aW9uKGEsYil7dGhpcy5hZGRDb21wb25lbnQoYSxiKX0scmVtb3ZlUG9pbnQ6ZnVuY3Rpb24oYSl7dGhpcy5yZW1vdmVDb21wb25lbnQoYSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlQb2ludCJ9KTtPcGVuTGF5ZXJzLkdlb21ldHJ5LkN1cnZlPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aVBvaW50LHtjb21wb25lbnRUeXBlczpbIk9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQiXSxnZXRMZW5ndGg6ZnVuY3Rpb24oKXt2YXIgYT0wO2lmKHRoaXMuY29tcG9uZW50cyYmMTx0aGlzLmNvbXBvbmVudHMubGVuZ3RoKWZvcih2YXIgYj0xLGM9dGhpcy5jb21wb25lbnRzLmxlbmd0aDtiPGM7YisrKWErPXRoaXMuY29tcG9uZW50c1tiLTFdLmRpc3RhbmNlVG8odGhpcy5jb21wb25lbnRzW2JdKTtyZXR1cm4gYX0sZ2V0R2VvZGVzaWNMZW5ndGg6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztpZihhKXt2YXIgYz1uZXcgT3BlbkxheWVycy5Qcm9qZWN0aW9uKCJFUFNHOjQzMjYiKTtjLmVxdWFscyhhKXx8KGI9dGhpcy5jbG9uZSgpLnRyYW5zZm9ybShhLGMpKX1hPTA7aWYoYi5jb21wb25lbnRzJiYxPGIuY29tcG9uZW50cy5sZW5ndGgpZm9yKHZhciBkLGU9MSxmPWIuY29tcG9uZW50cy5sZW5ndGg7ZTwKZjtlKyspYz1iLmNvbXBvbmVudHNbZS0xXSxkPWIuY29tcG9uZW50c1tlXSxhKz1PcGVuTGF5ZXJzLlV0aWwuZGlzdFZpbmNlbnR5KHtsb246Yy54LGxhdDpjLnl9LHtsb246ZC54LGxhdDpkLnl9KTtyZXR1cm4gMUUzKmF9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuR2VvbWV0cnkuQ3VydmUifSk7T3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5HZW9tZXRyeS5DdXJ2ZSx7cmVtb3ZlQ29tcG9uZW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29tcG9uZW50cyYmMjx0aGlzLmNvbXBvbmVudHMubGVuZ3RoO2ImJk9wZW5MYXllcnMuR2VvbWV0cnkuQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlQ29tcG9uZW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gYn0saW50ZXJzZWN0czpmdW5jdGlvbihhKXt2YXIgYj0hMSxjPWEuQ0xBU1NfTkFNRTtpZigiT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nIj09Y3x8Ik9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyI9PWN8fCJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50Ij09Yyl7dmFyIGQ9dGhpcy5nZXRTb3J0ZWRTZWdtZW50cygpLGE9Ik9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQiPT1jP1t7eDE6YS54LHkxOmEueSx4MjphLngseTI6YS55fV06YS5nZXRTb3J0ZWRTZWdtZW50cygpLAplLGYsZyxoLGksaixrLGw9MCxtPWQubGVuZ3RoO2E6Zm9yKDtsPG07KytsKXtjPWRbbF07ZT1jLngxO2Y9Yy54MjtnPWMueTE7aD1jLnkyO3ZhciBuPTAscD1hLmxlbmd0aDtmb3IoO248cDsrK24pe2k9YVtuXTtpZihpLngxPmYpYnJlYWs7aWYoIShpLngyPGUpJiYoaj1pLnkxLGs9aS55MiwhKE1hdGgubWluKGosayk+TWF0aC5tYXgoZyxoKSkmJiEoTWF0aC5tYXgoaixrKTxNYXRoLm1pbihnLGgpKSYmT3BlbkxheWVycy5HZW9tZXRyeS5zZWdtZW50c0ludGVyc2VjdChjLGkpKSl7Yj0hMDticmVhayBhfX19fWVsc2UgYj1hLmludGVyc2VjdHModGhpcyk7cmV0dXJuIGJ9LGdldFNvcnRlZFNlZ21lbnRzOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuY29tcG9uZW50cy5sZW5ndGgtMSxiPUFycmF5KGEpLGMsZCxlPTA7ZTxhOysrZSljPXRoaXMuY29tcG9uZW50c1tlXSxkPXRoaXMuY29tcG9uZW50c1tlKzFdLGJbZV09Yy54PGQueD97eDE6Yy54LHkxOmMueSx4MjpkLngseTI6ZC55fToKe3gxOmQueCx5MTpkLnkseDI6Yy54LHkyOmMueX07cmV0dXJuIGIuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLngxLWIueDF9KX0sc3BsaXRXaXRoU2VnbWVudDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0hKGImJiExPT09Yi5lZGdlKSxkPWImJmIudG9sZXJhbmNlLGU9W10sZj10aGlzLmdldFZlcnRpY2VzKCksZz1bXSxoPVtdLGk9ITEsaixrLGwsbT17cG9pbnQ6ITAsdG9sZXJhbmNlOmR9LG49bnVsbCxwPTAscT1mLmxlbmd0aC0yO3A8PXE7KytwKWlmKGQ9ZltwXSxnLnB1c2goZC5jbG9uZSgpKSxqPWZbcCsxXSxrPXt4MTpkLngseTE6ZC55LHgyOmoueCx5MjpqLnl9LGs9T3BlbkxheWVycy5HZW9tZXRyeS5zZWdtZW50c0ludGVyc2VjdChhLGssbSksayBpbnN0YW5jZW9mIE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQmJigobD1rLng9PT1hLngxJiZrLnk9PT1hLnkxfHxrLng9PT1hLngyJiZrLnk9PT1hLnkyfHxrLmVxdWFscyhkKXx8ay5lcXVhbHMoaik/ITA6ITEpfHxjKSlrLmVxdWFscyhoW2gubGVuZ3RoLQoxXSl8fGgucHVzaChrLmNsb25lKCkpLCEoMD09PXAmJmsuZXF1YWxzKGQpKSYmIWsuZXF1YWxzKGopJiYoaT0hMCxrLmVxdWFscyhkKXx8Zy5wdXNoKGspLGUucHVzaChuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nKGcpKSxnPVtrLmNsb25lKCldKTtpJiYoZy5wdXNoKGouY2xvbmUoKSksZS5wdXNoKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmcoZykpKTtpZigwPGgubGVuZ3RoKXZhciByPWEueDE8YS54Mj8xOi0xLHM9YS55MTxhLnkyPzE6LTEsbj17bGluZXM6ZSxwb2ludHM6aC5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIHIqYS54LXIqYi54fHxzKmEueS1zKmIueX0pfTtyZXR1cm4gbn0sc3BsaXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsLGQ9YiYmYi5tdXR1YWwsZSxmLGcsaDtpZihhIGluc3RhbmNlb2YgT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nKXt2YXIgaT10aGlzLmdldFZlcnRpY2VzKCksaixrLGwsbSxuLHA9W107Zz1bXTsKZm9yKHZhciBxPTAscj1pLmxlbmd0aC0yO3E8PXI7KytxKXtqPWlbcV07az1pW3ErMV07bD17eDE6ai54LHkxOmoueSx4MjprLngseTI6ay55fTtoPWh8fFthXTtkJiZwLnB1c2goai5jbG9uZSgpKTtmb3IodmFyIHM9MDtzPGgubGVuZ3RoOysrcylpZihtPWhbc10uc3BsaXRXaXRoU2VnbWVudChsLGIpKWlmKG49bS5saW5lcywwPG4ubGVuZ3RoJiYobi51bnNoaWZ0KHMsMSksQXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShoLG4pLHMrPW4ubGVuZ3RoLTIpLGQpZm9yKHZhciB0PTAsdT1tLnBvaW50cy5sZW5ndGg7dDx1OysrdCluPW0ucG9pbnRzW3RdLG4uZXF1YWxzKGopfHwocC5wdXNoKG4pLGcucHVzaChuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nKHApKSxwPW4uZXF1YWxzKGspP1tdOltuLmNsb25lKCldKX1kJiYoMDxnLmxlbmd0aCYmMDxwLmxlbmd0aCkmJihwLnB1c2goay5jbG9uZSgpKSxnLnB1c2gobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZyhwKSkpfWVsc2UgYz0KYS5zcGxpdFdpdGgodGhpcyxiKTtoJiYxPGgubGVuZ3RoP2Y9ITA6aD1bXTtnJiYxPGcubGVuZ3RoP2U9ITA6Zz1bXTtpZihmfHxlKWM9ZD9bZyxoXTpoO3JldHVybiBjfSxzcGxpdFdpdGg6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5zcGxpdCh0aGlzLGIpfSxnZXRWZXJ0aWNlczpmdW5jdGlvbihhKXtyZXR1cm4hMD09PWE/W3RoaXMuY29tcG9uZW50c1swXSx0aGlzLmNvbXBvbmVudHNbdGhpcy5jb21wb25lbnRzLmxlbmd0aC0xXV06ITE9PT1hP3RoaXMuY29tcG9uZW50cy5zbGljZSgxLHRoaXMuY29tcG9uZW50cy5sZW5ndGgtMSk6dGhpcy5jb21wb25lbnRzLnNsaWNlKCl9LGRpc3RhbmNlVG86ZnVuY3Rpb24oYSxiKXt2YXIgYz0hKGImJiExPT09Yi5lZGdlKSYmYiYmYi5kZXRhaWxzLGQsZT17fSxmPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTtpZihhIGluc3RhbmNlb2YgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCl7Zm9yKHZhciBnPXRoaXMuZ2V0U29ydGVkU2VnbWVudHMoKSwKaD1hLngsaT1hLnksaixrPTAsbD1nLmxlbmd0aDtrPGw7KytrKWlmKGo9Z1trXSxkPU9wZW5MYXllcnMuR2VvbWV0cnkuZGlzdGFuY2VUb1NlZ21lbnQoYSxqKSxkLmRpc3RhbmNlPGYpe2lmKGY9ZC5kaXN0YW5jZSxlPWQsMD09PWYpYnJlYWt9ZWxzZSBpZihqLngyPmgmJihpPmoueTEmJmk8ai55Mnx8aTxqLnkxJiZpPmoueTIpKWJyZWFrO2U9Yz97ZGlzdGFuY2U6ZS5kaXN0YW5jZSx4MDplLngseTA6ZS55LHgxOmgseTE6aX06ZS5kaXN0YW5jZX1lbHNlIGlmKGEgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmcpe3ZhciBnPXRoaXMuZ2V0U29ydGVkU2VnbWVudHMoKSxoPWEuZ2V0U29ydGVkU2VnbWVudHMoKSxtLG4scD1oLmxlbmd0aCxxPXtwb2ludDohMH0saz0wLGw9Zy5sZW5ndGg7YTpmb3IoO2s8bDsrK2spe2k9Z1trXTtqPWkueDE7bj1pLnkxO2Zvcih2YXIgcj0wO3I8cDsrK3IpaWYoZD1oW3JdLG09T3BlbkxheWVycy5HZW9tZXRyeS5zZWdtZW50c0ludGVyc2VjdChpLApkLHEpKXtmPTA7ZT17ZGlzdGFuY2U6MCx4MDptLngseTA6bS55LHgxOm0ueCx5MTptLnl9O2JyZWFrIGF9ZWxzZSBkPU9wZW5MYXllcnMuR2VvbWV0cnkuZGlzdGFuY2VUb1NlZ21lbnQoe3g6aix5Om59LGQpLGQuZGlzdGFuY2U8ZiYmKGY9ZC5kaXN0YW5jZSxlPXtkaXN0YW5jZTpmLHgwOmoseTA6bix4MTpkLngseTE6ZC55fSl9Y3x8KGU9ZS5kaXN0YW5jZSk7MCE9PWYmJmkmJihkPWEuZGlzdGFuY2VUbyhuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChpLngyLGkueTIpLGIpLGs9Yz9kLmRpc3RhbmNlOmQsazxmJiYoZT1jP3tkaXN0YW5jZTpmLHgwOmQueDEseTA6ZC55MSx4MTpkLngwLHkxOmQueTB9OmspKX1lbHNlIGU9YS5kaXN0YW5jZVRvKHRoaXMsYiksYyYmKGU9e2Rpc3RhbmNlOmUuZGlzdGFuY2UseDA6ZS54MSx5MDplLnkxLHgxOmUueDAseTE6ZS55MH0pO3JldHVybiBlfSxzaW1wbGlmeTpmdW5jdGlvbihhKXtpZih0aGlzJiZudWxsIT09dGhpcyl7dmFyIGI9dGhpcy5nZXRWZXJ0aWNlcygpOwppZigzPmIubGVuZ3RoKXJldHVybiB0aGlzO3ZhciBjPWZ1bmN0aW9uKGEsYixkLGkpe2Zvcih2YXIgaj0wLGs9MCxsPWIsbTtsPGQ7bCsrKXttPWFbYl07dmFyIG49YVtkXSxwPWFbbF0scD1NYXRoLmFicygwLjUqKG0ueCpuLnkrbi54KnAueStwLngqbS55LW4ueCptLnktcC54Km4ueS1tLngqcC55KSk7bT1NYXRoLnNxcnQoTWF0aC5wb3cobS54LW4ueCwyKStNYXRoLnBvdyhtLnktbi55LDIpKTttPTIqKHAvbSk7bT5qJiYoaj1tLGs9bCl9aj5pJiZrIT1iJiYoZS5wdXNoKGspLGMoYSxiLGssaSksYyhhLGssZCxpKSl9LGQ9Yi5sZW5ndGgtMSxlPVtdO2UucHVzaCgwKTtmb3IoZS5wdXNoKGQpO2JbMF0uZXF1YWxzKGJbZF0pOylkLS0sZS5wdXNoKGQpO2MoYiwwLGQsYSk7YT1bXTtlLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS1ifSk7Zm9yKGQ9MDtkPGUubGVuZ3RoO2QrKylhLnB1c2goYltlW2RdXSk7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmcoYSl9cmV0dXJuIHRoaXN9LApDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmcifSk7T3BlbkxheWVycy5HZW9tZXRyeS5MaW5lYXJSaW5nPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nLHtjb21wb25lbnRUeXBlczpbIk9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQiXSxhZGRDb21wb25lbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz0hMSxkPXRoaXMuY29tcG9uZW50cy5wb3AoKTtpZihudWxsIT1ifHwhYS5lcXVhbHMoZCkpYz1PcGVuTGF5ZXJzLkdlb21ldHJ5LkNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZENvbXBvbmVudC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7T3BlbkxheWVycy5HZW9tZXRyeS5Db2xsZWN0aW9uLnByb3RvdHlwZS5hZGRDb21wb25lbnQuYXBwbHkodGhpcyxbdGhpcy5jb21wb25lbnRzWzBdXSk7cmV0dXJuIGN9LHJlbW92ZUNvbXBvbmVudDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNvbXBvbmVudHMmJjM8dGhpcy5jb21wb25lbnRzLmxlbmd0aDtiJiYodGhpcy5jb21wb25lbnRzLnBvcCgpLE9wZW5MYXllcnMuR2VvbWV0cnkuQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlQ29tcG9uZW50LmFwcGx5KHRoaXMsCmFyZ3VtZW50cyksT3BlbkxheWVycy5HZW9tZXRyeS5Db2xsZWN0aW9uLnByb3RvdHlwZS5hZGRDb21wb25lbnQuYXBwbHkodGhpcyxbdGhpcy5jb21wb25lbnRzWzBdXSkpO3JldHVybiBifSxtb3ZlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD10aGlzLmNvbXBvbmVudHMubGVuZ3RoO2M8ZC0xO2MrKyl0aGlzLmNvbXBvbmVudHNbY10ubW92ZShhLGIpfSxyb3RhdGU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MCxkPXRoaXMuY29tcG9uZW50cy5sZW5ndGg7YzxkLTE7KytjKXRoaXMuY29tcG9uZW50c1tjXS5yb3RhdGUoYSxiKX0scmVzaXplOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MCxlPXRoaXMuY29tcG9uZW50cy5sZW5ndGg7ZDxlLTE7KytkKXRoaXMuY29tcG9uZW50c1tkXS5yZXNpemUoYSxiLGMpO3JldHVybiB0aGlzfSx0cmFuc2Zvcm06ZnVuY3Rpb24oYSxiKXtpZihhJiZiKXtmb3IodmFyIGM9MCxkPXRoaXMuY29tcG9uZW50cy5sZW5ndGg7YzxkLTE7YysrKXRoaXMuY29tcG9uZW50c1tjXS50cmFuc2Zvcm0oYSwKYik7dGhpcy5ib3VuZHM9bnVsbH1yZXR1cm4gdGhpc30sZ2V0Q2VudHJvaWQ6ZnVuY3Rpb24oKXtpZih0aGlzLmNvbXBvbmVudHMpe3ZhciBhPXRoaXMuY29tcG9uZW50cy5sZW5ndGg7aWYoMDxhJiYyPj1hKXJldHVybiB0aGlzLmNvbXBvbmVudHNbMF0uY2xvbmUoKTtpZigyPGEpe3ZhciBiPTAsYz0wLGQ9dGhpcy5jb21wb25lbnRzWzBdLngsZT10aGlzLmNvbXBvbmVudHNbMF0ueSxmPS0xKnRoaXMuZ2V0QXJlYSgpO2lmKDAhPWYpe2Zvcih2YXIgZz0wO2c8YS0xO2crKyl2YXIgaD10aGlzLmNvbXBvbmVudHNbZ10saT10aGlzLmNvbXBvbmVudHNbZysxXSxiPWIrKGgueCtpLngtMipkKSooKGgueC1kKSooaS55LWUpLShpLngtZCkqKGgueS1lKSksYz1jKyhoLnkraS55LTIqZSkqKChoLngtZCkqKGkueS1lKS0oaS54LWQpKihoLnktZSkpO2I9ZCtiLyg2KmYpO2E9ZStjLyg2KmYpfWVsc2V7Zm9yKGc9MDtnPGEtMTtnKyspYis9dGhpcy5jb21wb25lbnRzW2ddLngsYys9dGhpcy5jb21wb25lbnRzW2ddLnk7CmIvPWEtMTthPWMvKGEtMSl9cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGIsYSl9cmV0dXJuIG51bGx9fSxnZXRBcmVhOmZ1bmN0aW9uKCl7dmFyIGE9MDtpZih0aGlzLmNvbXBvbmVudHMmJjI8dGhpcy5jb21wb25lbnRzLmxlbmd0aCl7Zm9yKHZhciBiPWE9MCxjPXRoaXMuY29tcG9uZW50cy5sZW5ndGg7YjxjLTE7YisrKXZhciBkPXRoaXMuY29tcG9uZW50c1tiXSxlPXRoaXMuY29tcG9uZW50c1tiKzFdLGE9YSsoZC54K2UueCkqKGUueS1kLnkpO2E9LWEvMn1yZXR1cm4gYX0sZ2V0R2VvZGVzaWNBcmVhOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7aWYoYSl7dmFyIGM9bmV3IE9wZW5MYXllcnMuUHJvamVjdGlvbigiRVBTRzo0MzI2Iik7Yy5lcXVhbHMoYSl8fChiPXRoaXMuY2xvbmUoKS50cmFuc2Zvcm0oYSxjKSl9YT0wO2M9Yi5jb21wb25lbnRzJiZiLmNvbXBvbmVudHMubGVuZ3RoO2lmKDI8Yyl7Zm9yKHZhciBkLGUsZj0wO2Y8Yy0xO2YrKylkPWIuY29tcG9uZW50c1tmXSwKZT1iLmNvbXBvbmVudHNbZisxXSxhKz1PcGVuTGF5ZXJzLlV0aWwucmFkKGUueC1kLngpKigyK01hdGguc2luKE9wZW5MYXllcnMuVXRpbC5yYWQoZC55KSkrTWF0aC5zaW4oT3BlbkxheWVycy5VdGlsLnJhZChlLnkpKSk7YT00MDY4MDYzMTU5MDc2OSphLzJ9cmV0dXJuIGF9LGNvbnRhaW5zUG9pbnQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU9wZW5MYXllcnMuTnVtYmVyLmxpbWl0U2lnRGlncyxjPWIoYS54LDE0KSxhPWIoYS55LDE0KSxkPXRoaXMuY29tcG9uZW50cy5sZW5ndGgtMSxlLGYsZyxoLGksaj0wLGs9MDtrPGQ7KytrKWlmKGU9dGhpcy5jb21wb25lbnRzW2tdLGc9YihlLngsMTQpLGU9YihlLnksMTQpLGY9dGhpcy5jb21wb25lbnRzW2srMV0saD1iKGYueCwxNCksZj1iKGYueSwxNCksZT09Zil7aWYoYT09ZSYmKGc8PWgmJmM+PWcmJmM8PWh8fGc+PWgmJmM8PWcmJmM+PWgpKXtqPS0xO2JyZWFrfX1lbHNle2k9YigoYS1mKSooKGgtZykvKGYtZSkpK2gsMTQpO2lmKGk9PQpjJiYoZTxmJiZhPj1lJiZhPD1mfHxlPmYmJmE8PWUmJmE+PWYpKXtqPS0xO2JyZWFrfWk8PWN8fGchPWgmJihpPE1hdGgubWluKGcsaCl8fGk+TWF0aC5tYXgoZyxoKSl8fChlPGYmJmE+PWUmJmE8Znx8ZT5mJiZhPGUmJmE+PWYpJiYrK2p9cmV0dXJuLTE9PWo/MTohIShqJjEpfSxpbnRlcnNlY3RzOmZ1bmN0aW9uKGEpe3ZhciBiPSExO2lmKCJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50Ij09YS5DTEFTU19OQU1FKWI9dGhpcy5jb250YWluc1BvaW50KGEpO2Vsc2UgaWYoIk9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZyI9PWEuQ0xBU1NfTkFNRSliPWEuaW50ZXJzZWN0cyh0aGlzKTtlbHNlIGlmKCJPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVhclJpbmciPT1hLkNMQVNTX05BTUUpYj1PcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmcucHJvdG90eXBlLmludGVyc2VjdHMuYXBwbHkodGhpcyxbYV0pO2Vsc2UgZm9yKHZhciBjPTAsZD1hLmNvbXBvbmVudHMubGVuZ3RoO2M8CmQmJiEoYj1hLmNvbXBvbmVudHNbY10uaW50ZXJzZWN0cyh0aGlzKSk7KytjKTtyZXR1cm4gYn0sZ2V0VmVydGljZXM6ZnVuY3Rpb24oYSl7cmV0dXJuITA9PT1hP1tdOnRoaXMuY29tcG9uZW50cy5zbGljZSgwLHRoaXMuY29tcG9uZW50cy5sZW5ndGgtMSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyJ9KTtPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb249T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkdlb21ldHJ5LkNvbGxlY3Rpb24se2NvbXBvbmVudFR5cGVzOlsiT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lYXJSaW5nIl0sZ2V0QXJlYTpmdW5jdGlvbigpe3ZhciBhPTA7aWYodGhpcy5jb21wb25lbnRzJiYwPHRoaXMuY29tcG9uZW50cy5sZW5ndGgpZm9yKHZhciBhPWErTWF0aC5hYnModGhpcy5jb21wb25lbnRzWzBdLmdldEFyZWEoKSksYj0xLGM9dGhpcy5jb21wb25lbnRzLmxlbmd0aDtiPGM7YisrKWEtPU1hdGguYWJzKHRoaXMuY29tcG9uZW50c1tiXS5nZXRBcmVhKCkpO3JldHVybiBhfSxnZXRHZW9kZXNpY0FyZWE6ZnVuY3Rpb24oYSl7dmFyIGI9MDtpZih0aGlzLmNvbXBvbmVudHMmJjA8dGhpcy5jb21wb25lbnRzLmxlbmd0aClmb3IodmFyIGI9YitNYXRoLmFicyh0aGlzLmNvbXBvbmVudHNbMF0uZ2V0R2VvZGVzaWNBcmVhKGEpKSxjPTEsZD10aGlzLmNvbXBvbmVudHMubGVuZ3RoO2M8CmQ7YysrKWItPU1hdGguYWJzKHRoaXMuY29tcG9uZW50c1tjXS5nZXRHZW9kZXNpY0FyZWEoYSkpO3JldHVybiBifSxjb250YWluc1BvaW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29tcG9uZW50cy5sZW5ndGgsYz0hMTtpZigwPGImJihjPXRoaXMuY29tcG9uZW50c1swXS5jb250YWluc1BvaW50KGEpLDEhPT1jJiZjJiYxPGIpKWZvcih2YXIgZCxlPTE7ZTxiOysrZSlpZihkPXRoaXMuY29tcG9uZW50c1tlXS5jb250YWluc1BvaW50KGEpKXtjPTE9PT1kPzE6ITE7YnJlYWt9cmV0dXJuIGN9LGludGVyc2VjdHM6ZnVuY3Rpb24oYSl7dmFyIGI9ITEsYyxkO2lmKCJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50Ij09YS5DTEFTU19OQU1FKWI9dGhpcy5jb250YWluc1BvaW50KGEpO2Vsc2UgaWYoIk9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZyI9PWEuQ0xBU1NfTkFNRXx8Ik9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyI9PWEuQ0xBU1NfTkFNRSl7Yz0wO2ZvcihkPQp0aGlzLmNvbXBvbmVudHMubGVuZ3RoO2M8ZCYmIShiPWEuaW50ZXJzZWN0cyh0aGlzLmNvbXBvbmVudHNbY10pKTsrK2MpO2lmKCFiKXtjPTA7Zm9yKGQ9YS5jb21wb25lbnRzLmxlbmd0aDtjPGQmJiEoYj10aGlzLmNvbnRhaW5zUG9pbnQoYS5jb21wb25lbnRzW2NdKSk7KytjKTt9fWVsc2V7Yz0wO2ZvcihkPWEuY29tcG9uZW50cy5sZW5ndGg7YzxkJiYhKGI9dGhpcy5pbnRlcnNlY3RzKGEuY29tcG9uZW50c1tjXSkpOysrYyk7fWlmKCFiJiYiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uIj09YS5DTEFTU19OQU1FKXt2YXIgZT10aGlzLmNvbXBvbmVudHNbMF07Yz0wO2ZvcihkPWUuY29tcG9uZW50cy5sZW5ndGg7YzxkJiYhKGI9YS5jb250YWluc1BvaW50KGUuY29tcG9uZW50c1tjXSkpOysrYyk7fXJldHVybiBifSxkaXN0YW5jZVRvOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGImJiExPT09Yi5lZGdlJiZ0aGlzLmludGVyc2VjdHMoYSk/MDpPcGVuTGF5ZXJzLkdlb21ldHJ5LkNvbGxlY3Rpb24ucHJvdG90eXBlLmRpc3RhbmNlVG8uYXBwbHkodGhpcywKW2EsYl0pfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24ifSk7T3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uLmNyZWF0ZVJlZ3VsYXJQb2x5Z29uPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPU1hdGguUEkqKDEvYy0wLjUpO2QmJihlKz1kLzE4MCpNYXRoLlBJKTtmb3IodmFyIGYsZz1bXSxoPTA7aDxjOysraClmPWUrMipoKk1hdGguUEkvYyxkPWEueCtiKk1hdGguY29zKGYpLGY9YS55K2IqTWF0aC5zaW4oZiksZy5wdXNoKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGQsZikpO2E9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyhnKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbihbYV0pfTtPcGVuTGF5ZXJzLkZvcm1hdC5HZW9SU1M9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwse3Jzc25zOiJodHRwOi8vYmFja2VuZC51c2VybGFuZC5jb20vcnNzMiIsZmVhdHVyZU5TOiJodHRwOi8vbWFwc2VydmVyLmdpcy51bW4uZWR1L21hcHNlcnZlciIsZ2VvcnNzbnM6Imh0dHA6Ly93d3cuZ2VvcnNzLm9yZy9nZW9yc3MiLGdlb25zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAzLzAxL2dlby93Z3M4NF9wb3MjIixmZWF0dXJlVGl0bGU6IlVudGl0bGVkIixmZWF0dXJlRGVzY3JpcHRpb246Ik5vIERlc2NyaXB0aW9uIixnbWxQYXJzZXI6bnVsbCx4eTohMSxjcmVhdGVHZW9tZXRyeUZyb21JdGVtOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLHRoaXMuZ2VvcnNzbnMsInBvaW50IiksYz10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSx0aGlzLmdlb25zLCJsYXQiKSxkPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLAp0aGlzLmdlb25zLCJsb25nIiksZT10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSx0aGlzLmdlb3Jzc25zLCJsaW5lIiksZj10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSx0aGlzLmdlb3Jzc25zLCJwb2x5Z29uIiksZz10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSx0aGlzLmdlb3Jzc25zLCJ3aGVyZSIpLGE9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsdGhpcy5nZW9yc3NucywiYm94Iik7aWYoMDxiLmxlbmd0aHx8MDxjLmxlbmd0aCYmMDxkLmxlbmd0aCl7MDxiLmxlbmd0aD8oYz1PcGVuTGF5ZXJzLlN0cmluZy50cmltKGJbMF0uZmlyc3RDaGlsZC5ub2RlVmFsdWUpLnNwbGl0KC9ccysvKSwyIT1jLmxlbmd0aCYmKGM9T3BlbkxheWVycy5TdHJpbmcudHJpbShiWzBdLmZpcnN0Q2hpbGQubm9kZVZhbHVlKS5zcGxpdCgvXHMqLFxzKi8pKSk6Yz1bcGFyc2VGbG9hdChjWzBdLmZpcnN0Q2hpbGQubm9kZVZhbHVlKSxwYXJzZUZsb2F0KGRbMF0uZmlyc3RDaGlsZC5ub2RlVmFsdWUpXTsKdmFyIGg9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoY1sxXSxjWzBdKX1lbHNlIGlmKDA8ZS5sZW5ndGgpe2M9T3BlbkxheWVycy5TdHJpbmcudHJpbSh0aGlzLmdldENoaWxkVmFsdWUoZVswXSkpLnNwbGl0KC9ccysvKTtkPVtdO2U9MDtmb3IoZj1jLmxlbmd0aDtlPGY7ZSs9MiliPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGNbZSsxXSxjW2VdKSxkLnB1c2goYik7aD1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nKGQpfWVsc2UgaWYoMDxmLmxlbmd0aCl7Yz1PcGVuTGF5ZXJzLlN0cmluZy50cmltKHRoaXMuZ2V0Q2hpbGRWYWx1ZShmWzBdKSkuc3BsaXQoL1xzKy8pO2Q9W107ZT0wO2ZvcihmPWMubGVuZ3RoO2U8ZjtlKz0yKWI9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoY1tlKzFdLGNbZV0pLGQucHVzaChiKTtoPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24oW25ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVhclJpbmcoZCldKX1lbHNlIDA8CmcubGVuZ3RoPyh0aGlzLmdtbFBhcnNlcnx8KHRoaXMuZ21sUGFyc2VyPW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5HTUwoe3h5OnRoaXMueHl9KSksaD10aGlzLmdtbFBhcnNlci5wYXJzZUZlYXR1cmUoZ1swXSkuZ2VvbWV0cnkpOjA8YS5sZW5ndGgmJihjPU9wZW5MYXllcnMuU3RyaW5nLnRyaW0oYVswXS5maXJzdENoaWxkLm5vZGVWYWx1ZSkuc3BsaXQoL1xzKy8pLGQ9W10sMzxjLmxlbmd0aCYmKGI9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoY1sxXSxjWzBdKSxkLnB1c2goYiksYj1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChjWzFdLGNbMl0pLGQucHVzaChiKSxiPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGNbM10sY1syXSksZC5wdXNoKGIpLGI9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoY1szXSxjWzBdKSxkLnB1c2goYiksYj1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChjWzFdLGNbMF0pLGQucHVzaChiKSksaD1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uKFtuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lYXJSaW5nKGQpXSkpOwpoJiYodGhpcy5pbnRlcm5hbFByb2plY3Rpb24mJnRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uKSYmaC50cmFuc2Zvcm0odGhpcy5leHRlcm5hbFByb2plY3Rpb24sdGhpcy5pbnRlcm5hbFByb2plY3Rpb24pO3JldHVybiBofSxjcmVhdGVGZWF0dXJlRnJvbUl0ZW06ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVHZW9tZXRyeUZyb21JdGVtKGEpLGM9dGhpcy5fZ2V0Q2hpbGRWYWx1ZShhLCIqIiwidGl0bGUiLHRoaXMuZmVhdHVyZVRpdGxlKSxkPXRoaXMuX2dldENoaWxkVmFsdWUoYSwiKiIsImRlc2NyaXB0aW9uIix0aGlzLl9nZXRDaGlsZFZhbHVlKGEsIioiLCJjb250ZW50Iix0aGlzLl9nZXRDaGlsZFZhbHVlKGEsIioiLCJzdW1tYXJ5Iix0aGlzLmZlYXR1cmVEZXNjcmlwdGlvbikpKSxlPXRoaXMuX2dldENoaWxkVmFsdWUoYSwiKiIsImxpbmsiKTtpZighZSl0cnl7ZT10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSwiKiIsImxpbmsiKVswXS5nZXRBdHRyaWJ1dGUoImhyZWYiKX1jYXRjaChmKXtlPQpudWxsfWE9dGhpcy5fZ2V0Q2hpbGRWYWx1ZShhLCIqIiwiaWQiLG51bGwpO2I9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoYix7dGl0bGU6YyxkZXNjcmlwdGlvbjpkLGxpbms6ZX0pO2IuZmlkPWE7cmV0dXJuIGJ9LF9nZXRDaGlsZFZhbHVlOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybihhPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLGIsYykpJiZhWzBdJiZhWzBdLmZpcnN0Q2hpbGQmJmFbMF0uZmlyc3RDaGlsZC5ub2RlVmFsdWU/dGhpcy5nZXRDaGlsZFZhbHVlKGFbMF0pOnZvaWQgMD09ZD8iIjpkfSxyZWFkOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7dmFyIGI9bnVsbCxiPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLCIqIiwiaXRlbSIpOzA9PWIubGVuZ3RoJiYoYj10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSwiKiIsImVudHJ5IikpOwpmb3IodmFyIGE9Yi5sZW5ndGgsYz1BcnJheShhKSxkPTA7ZDxhO2QrKyljW2RdPXRoaXMuY3JlYXRlRmVhdHVyZUZyb21JdGVtKGJbZF0pO3JldHVybiBjfSx3cml0ZTpmdW5jdGlvbihhKXt2YXIgYjtpZihPcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShhKSl7Yj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLnJzc25zLCJyc3MiKTtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2M8ZDtjKyspYi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUZlYXR1cmVYTUwoYVtjXSkpfWVsc2UgYj10aGlzLmNyZWF0ZUZlYXR1cmVYTUwoYSk7cmV0dXJuIE9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUud3JpdGUuYXBwbHkodGhpcyxbYl0pfSxjcmVhdGVGZWF0dXJlWE1MOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYnVpbGRHZW9tZXRyeU5vZGUoYS5nZW9tZXRyeSksYz10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLnJzc25zLCJpdGVtIiksZD10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLnJzc25zLCJ0aXRsZSIpOwpkLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlVGV4dE5vZGUoYS5hdHRyaWJ1dGVzLnRpdGxlP2EuYXR0cmlidXRlcy50aXRsZToiIikpO3ZhciBlPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMucnNzbnMsImRlc2NyaXB0aW9uIik7ZS5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVRleHROb2RlKGEuYXR0cmlidXRlcy5kZXNjcmlwdGlvbj9hLmF0dHJpYnV0ZXMuZGVzY3JpcHRpb246IiIpKTtjLmFwcGVuZENoaWxkKGQpO2MuYXBwZW5kQ2hpbGQoZSk7YS5hdHRyaWJ1dGVzLmxpbmsmJihkPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMucnNzbnMsImxpbmsiKSxkLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlVGV4dE5vZGUoYS5hdHRyaWJ1dGVzLmxpbmspKSxjLmFwcGVuZENoaWxkKGQpKTtmb3IodmFyIGYgaW4gYS5hdHRyaWJ1dGVzKSJsaW5rIj09Znx8KCJ0aXRsZSI9PWZ8fCJkZXNjcmlwdGlvbiI9PWYpfHwoZD10aGlzLmNyZWF0ZVRleHROb2RlKGEuYXR0cmlidXRlc1tmXSksZT1mLC0xIT0KZi5zZWFyY2goIjoiKSYmKGU9Zi5zcGxpdCgiOiIpWzFdKSxlPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMuZmVhdHVyZU5TLCJmZWF0dXJlOiIrZSksZS5hcHBlbmRDaGlsZChkKSxjLmFwcGVuZENoaWxkKGUpKTtjLmFwcGVuZENoaWxkKGIpO3JldHVybiBjfSxidWlsZEdlb21ldHJ5Tm9kZTpmdW5jdGlvbihhKXt0aGlzLmludGVybmFsUHJvamVjdGlvbiYmdGhpcy5leHRlcm5hbFByb2plY3Rpb24mJihhPWEuY2xvbmUoKSxhLnRyYW5zZm9ybSh0aGlzLmludGVybmFsUHJvamVjdGlvbix0aGlzLmV4dGVybmFsUHJvamVjdGlvbikpO3ZhciBiO2lmKCJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24iPT1hLkNMQVNTX05BTUUpYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmdlb3Jzc25zLCJnZW9yc3M6cG9seWdvbiIpLGIuYXBwZW5kQ2hpbGQodGhpcy5idWlsZENvb3JkaW5hdGVzTm9kZShhLmNvbXBvbmVudHNbMF0pKTtlbHNlIGlmKCJPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmciPT0KYS5DTEFTU19OQU1FKWI9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5nZW9yc3NucywiZ2VvcnNzOmxpbmUiKSxiLmFwcGVuZENoaWxkKHRoaXMuYnVpbGRDb29yZGluYXRlc05vZGUoYSkpO2Vsc2UgaWYoIk9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQiPT1hLkNMQVNTX05BTUUpYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmdlb3Jzc25zLCJnZW9yc3M6cG9pbnQiKSxiLmFwcGVuZENoaWxkKHRoaXMuYnVpbGRDb29yZGluYXRlc05vZGUoYSkpO2Vsc2UgdGhyb3ciQ291bGRuJ3QgcGFyc2UgIithLkNMQVNTX05BTUU7cmV0dXJuIGJ9LGJ1aWxkQ29vcmRpbmF0ZXNOb2RlOmZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7YS5jb21wb25lbnRzJiYoYj1hLmNvbXBvbmVudHMpO2lmKGIpe2Zvcih2YXIgYT1iLmxlbmd0aCxjPUFycmF5KGEpLGQ9MDtkPGE7ZCsrKWNbZF09YltkXS55KyIgIitiW2RdLng7Yj1jLmpvaW4oIiAiKX1lbHNlIGI9YS55KyIgIithLng7cmV0dXJuIHRoaXMuY3JlYXRlVGV4dE5vZGUoYil9LApDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5HZW9SU1MifSk7T3BlbkxheWVycy5FdmVudD17b2JzZXJ2ZXJzOiExLEtFWV9TUEFDRTozMixLRVlfQkFDS1NQQUNFOjgsS0VZX1RBQjo5LEtFWV9SRVRVUk46MTMsS0VZX0VTQzoyNyxLRVlfTEVGVDozNyxLRVlfVVA6MzgsS0VZX1JJR0hUOjM5LEtFWV9ET1dOOjQwLEtFWV9ERUxFVEU6NDYsZWxlbWVudDpmdW5jdGlvbihhKXtyZXR1cm4gYS50YXJnZXR8fGEuc3JjRWxlbWVudH0saXNTaW5nbGVUb3VjaDpmdW5jdGlvbihhKXtyZXR1cm4gYS50b3VjaGVzJiYxPT1hLnRvdWNoZXMubGVuZ3RofSxpc011bHRpVG91Y2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEudG91Y2hlcyYmMTxhLnRvdWNoZXMubGVuZ3RofSxpc0xlZnRDbGljazpmdW5jdGlvbihhKXtyZXR1cm4gYS53aGljaCYmMT09YS53aGljaHx8YS5idXR0b24mJjE9PWEuYnV0dG9ufSxpc1JpZ2h0Q2xpY2s6ZnVuY3Rpb24oYSl7cmV0dXJuIGEud2hpY2gmJjM9PWEud2hpY2h8fGEuYnV0dG9uJiYyPT1hLmJ1dHRvbn0sc3RvcDpmdW5jdGlvbihhLApiKXtifHxPcGVuTGF5ZXJzLkV2ZW50LnByZXZlbnREZWZhdWx0KGEpO2Euc3RvcFByb3BhZ2F0aW9uP2Euc3RvcFByb3BhZ2F0aW9uKCk6YS5jYW5jZWxCdWJibGU9ITB9LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQ/YS5wcmV2ZW50RGVmYXVsdCgpOmEucmV0dXJuVmFsdWU9ITF9LGZpbmRFbGVtZW50OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPU9wZW5MYXllcnMuRXZlbnQuZWxlbWVudChhKTtjLnBhcmVudE5vZGUmJighYy50YWdOYW1lfHxjLnRhZ05hbWUudG9VcHBlckNhc2UoKSE9Yi50b1VwcGVyQ2FzZSgpKTspYz1jLnBhcmVudE5vZGU7cmV0dXJuIGN9LG9ic2VydmU6ZnVuY3Rpb24oYSxiLGMsZCl7YT1PcGVuTGF5ZXJzLlV0aWwuZ2V0RWxlbWVudChhKTtkPWR8fCExO2lmKCJrZXlwcmVzcyI9PWImJihuYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvS29ucXVlcm9yfFNhZmFyaXxLSFRNTC8pfHxhLmF0dGFjaEV2ZW50KSliPSJrZXlkb3duIjsKdGhpcy5vYnNlcnZlcnN8fCh0aGlzLm9ic2VydmVycz17fSk7aWYoIWEuX2V2ZW50Q2FjaGVJRCl7dmFyIGU9ImV2ZW50Q2FjaGVJRF8iO2EuaWQmJihlPWEuaWQrIl8iK2UpO2EuX2V2ZW50Q2FjaGVJRD1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlVW5pcXVlSUQoZSl9ZT1hLl9ldmVudENhY2hlSUQ7dGhpcy5vYnNlcnZlcnNbZV18fCh0aGlzLm9ic2VydmVyc1tlXT1bXSk7dGhpcy5vYnNlcnZlcnNbZV0ucHVzaCh7ZWxlbWVudDphLG5hbWU6YixvYnNlcnZlcjpjLHVzZUNhcHR1cmU6ZH0pO2EuYWRkRXZlbnRMaXN0ZW5lcj9hLmFkZEV2ZW50TGlzdGVuZXIoYixjLGQpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoIm9uIitiLGMpfSxzdG9wT2JzZXJ2aW5nRWxlbWVudDpmdW5jdGlvbihhKXthPU9wZW5MYXllcnMuVXRpbC5nZXRFbGVtZW50KGEpLl9ldmVudENhY2hlSUQ7dGhpcy5fcmVtb3ZlRWxlbWVudE9ic2VydmVycyhPcGVuTGF5ZXJzLkV2ZW50Lm9ic2VydmVyc1thXSl9LApfcmVtb3ZlRWxlbWVudE9ic2VydmVyczpmdW5jdGlvbihhKXtpZihhKWZvcih2YXIgYj1hLmxlbmd0aC0xOzA8PWI7Yi0tKXt2YXIgYz1hW2JdO09wZW5MYXllcnMuRXZlbnQuc3RvcE9ic2VydmluZy5hcHBseSh0aGlzLFtjLmVsZW1lbnQsYy5uYW1lLGMub2JzZXJ2ZXIsYy51c2VDYXB0dXJlXSl9fSxzdG9wT2JzZXJ2aW5nOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBkPWR8fCExLGE9T3BlbkxheWVycy5VdGlsLmdldEVsZW1lbnQoYSksZT1hLl9ldmVudENhY2hlSUQ7aWYoImtleXByZXNzIj09YiYmKG5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9Lb25xdWVyb3J8U2FmYXJpfEtIVE1MLyl8fGEuZGV0YWNoRXZlbnQpKWI9ImtleWRvd24iO3ZhciBmPSExLGc9T3BlbkxheWVycy5FdmVudC5vYnNlcnZlcnNbZV07aWYoZylmb3IodmFyIGg9MDshZiYmaDxnLmxlbmd0aDspe3ZhciBpPWdbaF07aWYoaS5uYW1lPT1iJiZpLm9ic2VydmVyPT1jJiZpLnVzZUNhcHR1cmU9PWQpe2cuc3BsaWNlKGgsCjEpOzA9PWcubGVuZ3RoJiZkZWxldGUgT3BlbkxheWVycy5FdmVudC5vYnNlcnZlcnNbZV07Zj0hMDticmVha31oKyt9ZiYmKGEucmVtb3ZlRXZlbnRMaXN0ZW5lcj9hLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixjLGQpOmEmJmEuZGV0YWNoRXZlbnQmJmEuZGV0YWNoRXZlbnQoIm9uIitiLGMpKTtyZXR1cm4gZn0sdW5sb2FkQ2FjaGU6ZnVuY3Rpb24oKXtpZihPcGVuTGF5ZXJzLkV2ZW50JiZPcGVuTGF5ZXJzLkV2ZW50Lm9ic2VydmVycyl7Zm9yKHZhciBhIGluIE9wZW5MYXllcnMuRXZlbnQub2JzZXJ2ZXJzKU9wZW5MYXllcnMuRXZlbnQuX3JlbW92ZUVsZW1lbnRPYnNlcnZlcnMuYXBwbHkodGhpcyxbT3BlbkxheWVycy5FdmVudC5vYnNlcnZlcnNbYV1dKTtPcGVuTGF5ZXJzLkV2ZW50Lm9ic2VydmVycz0hMX19LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRXZlbnQifTsKT3BlbkxheWVycy5FdmVudC5vYnNlcnZlKHdpbmRvdywidW5sb2FkIixPcGVuTGF5ZXJzLkV2ZW50LnVubG9hZENhY2hlLCExKTsKT3BlbkxheWVycy5FdmVudHM9T3BlbkxheWVycy5DbGFzcyh7QlJPV1NFUl9FVkVOVFM6Im1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgY2xpY2sgZGJsY2xpY2sgcmlnaHRjbGljayBkYmxyaWdodGNsaWNrIHJlc2l6ZSBmb2N1cyBibHVyIHRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIGtleWRvd24iLnNwbGl0KCIgIiksbGlzdGVuZXJzOm51bGwsb2JqZWN0Om51bGwsZWxlbWVudDpudWxsLGV2ZW50SGFuZGxlcjpudWxsLGZhbGxUaHJvdWdoOm51bGwsaW5jbHVkZVhZOiExLGV4dGVuc2lvbnM6bnVsbCxleHRlbnNpb25Db3VudDpudWxsLGNsZWFyTW91c2VMaXN0ZW5lcjpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCxlKXtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsZSk7dGhpcy5vYmplY3Q9YTt0aGlzLmZhbGxUaHJvdWdoPWQ7dGhpcy5saXN0ZW5lcnM9e307dGhpcy5leHRlbnNpb25zPXt9O3RoaXMuZXh0ZW5zaW9uQ291bnQ9Cnt9O3RoaXMuX21zVG91Y2hlcz1bXTtudWxsIT1iJiZ0aGlzLmF0dGFjaFRvRWxlbWVudChiKX0sZGVzdHJveTpmdW5jdGlvbigpe2Zvcih2YXIgYSBpbiB0aGlzLmV4dGVuc2lvbnMpImJvb2xlYW4iIT09dHlwZW9mIHRoaXMuZXh0ZW5zaW9uc1thXSYmdGhpcy5leHRlbnNpb25zW2FdLmRlc3Ryb3koKTt0aGlzLmV4dGVuc2lvbnM9bnVsbDt0aGlzLmVsZW1lbnQmJihPcGVuTGF5ZXJzLkV2ZW50LnN0b3BPYnNlcnZpbmdFbGVtZW50KHRoaXMuZWxlbWVudCksdGhpcy5lbGVtZW50Lmhhc1Njcm9sbEV2ZW50JiZPcGVuTGF5ZXJzLkV2ZW50LnN0b3BPYnNlcnZpbmcod2luZG93LCJzY3JvbGwiLHRoaXMuY2xlYXJNb3VzZUxpc3RlbmVyKSk7dGhpcy5ldmVudEhhbmRsZXI9dGhpcy5mYWxsVGhyb3VnaD10aGlzLm9iamVjdD10aGlzLmxpc3RlbmVycz10aGlzLmVsZW1lbnQ9bnVsbH0sYWRkRXZlbnRUeXBlOmZ1bmN0aW9uKCl7fSxhdHRhY2hUb0VsZW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50PwpPcGVuTGF5ZXJzLkV2ZW50LnN0b3BPYnNlcnZpbmdFbGVtZW50KHRoaXMuZWxlbWVudCk6KHRoaXMuZXZlbnRIYW5kbGVyPU9wZW5MYXllcnMuRnVuY3Rpb24uYmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzLmhhbmRsZUJyb3dzZXJFdmVudCx0aGlzKSx0aGlzLmNsZWFyTW91c2VMaXN0ZW5lcj1PcGVuTGF5ZXJzLkZ1bmN0aW9uLmJpbmQodGhpcy5jbGVhck1vdXNlQ2FjaGUsdGhpcykpO3RoaXMuZWxlbWVudD1hO2Zvcih2YXIgYj0hIXdpbmRvdy5uYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyxjLGQ9MCxlPXRoaXMuQlJPV1NFUl9FVkVOVFMubGVuZ3RoO2Q8ZTtkKyspYz10aGlzLkJST1dTRVJfRVZFTlRTW2RdLE9wZW5MYXllcnMuRXZlbnQub2JzZXJ2ZShhLGMsdGhpcy5ldmVudEhhbmRsZXIpLGImJjA9PT1jLmluZGV4T2YoInRvdWNoIikmJnRoaXMuYWRkTXNUb3VjaExpc3RlbmVyKGEsYyx0aGlzLmV2ZW50SGFuZGxlcik7T3BlbkxheWVycy5FdmVudC5vYnNlcnZlKGEsImRyYWdzdGFydCIsCk9wZW5MYXllcnMuRXZlbnQuc3RvcCl9LG9uOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKSJzY29wZSIhPWImJmEuaGFzT3duUHJvcGVydHkoYikmJnRoaXMucmVnaXN0ZXIoYixhLnNjb3BlLGFbYl0pfSxyZWdpc3RlcjpmdW5jdGlvbihhLGIsYyxkKXthIGluIE9wZW5MYXllcnMuRXZlbnRzJiYhdGhpcy5leHRlbnNpb25zW2FdJiYodGhpcy5leHRlbnNpb25zW2FdPW5ldyBPcGVuTGF5ZXJzLkV2ZW50c1thXSh0aGlzKSk7aWYobnVsbCE9Yyl7bnVsbD09YiYmKGI9dGhpcy5vYmplY3QpO3ZhciBlPXRoaXMubGlzdGVuZXJzW2FdO2V8fChlPVtdLHRoaXMubGlzdGVuZXJzW2FdPWUsdGhpcy5leHRlbnNpb25Db3VudFthXT0wKTtiPXtvYmo6YixmdW5jOmN9O2Q/KGUuc3BsaWNlKHRoaXMuZXh0ZW5zaW9uQ291bnRbYV0sMCxiKSwib2JqZWN0Ij09PXR5cGVvZiBkJiZkLmV4dGVuc2lvbiYmdGhpcy5leHRlbnNpb25Db3VudFthXSsrKTplLnB1c2goYil9fSxyZWdpc3RlclByaW9yaXR5OmZ1bmN0aW9uKGEsCmIsYyl7dGhpcy5yZWdpc3RlcihhLGIsYywhMCl9LHVuOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKSJzY29wZSIhPWImJmEuaGFzT3duUHJvcGVydHkoYikmJnRoaXMudW5yZWdpc3RlcihiLGEuc2NvcGUsYVtiXSl9LHVucmVnaXN0ZXI6ZnVuY3Rpb24oYSxiLGMpe251bGw9PWImJihiPXRoaXMub2JqZWN0KTthPXRoaXMubGlzdGVuZXJzW2FdO2lmKG51bGwhPWEpZm9yKHZhciBkPTAsZT1hLmxlbmd0aDtkPGU7ZCsrKWlmKGFbZF0ub2JqPT1iJiZhW2RdLmZ1bmM9PWMpe2Euc3BsaWNlKGQsMSk7YnJlYWt9fSxyZW1vdmU6ZnVuY3Rpb24oYSl7bnVsbCE9dGhpcy5saXN0ZW5lcnNbYV0mJih0aGlzLmxpc3RlbmVyc1thXT1bXSl9LHRyaWdnZXJFdmVudDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMubGlzdGVuZXJzW2FdO2lmKGMmJjAhPWMubGVuZ3RoKXtudWxsPT1iJiYoYj17fSk7Yi5vYmplY3Q9dGhpcy5vYmplY3Q7Yi5lbGVtZW50PXRoaXMuZWxlbWVudDtiLnR5cGV8fChiLnR5cGU9CmEpO2Zvcih2YXIgYz1jLnNsaWNlKCksZCxlPTAsZj1jLmxlbmd0aDtlPGYmJiEoZD1jW2VdLGQ9ZC5mdW5jLmFwcGx5KGQub2JqLFtiXSksdm9pZCAwIT1kJiYhMT09ZCk7ZSsrKTt0aGlzLmZhbGxUaHJvdWdofHxPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYiwhMCk7cmV0dXJuIGR9fSxoYW5kbGVCcm93c2VyRXZlbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS50eXBlLGM9dGhpcy5saXN0ZW5lcnNbYl07aWYoYyYmMCE9Yy5sZW5ndGgpe2lmKChjPWEudG91Y2hlcykmJmNbMF0pe2Zvcih2YXIgZD0wLGU9MCxmPWMubGVuZ3RoLGcsaD0wO2g8ZjsrK2gpZz10aGlzLmdldFRvdWNoQ2xpZW50WFkoY1toXSksZCs9Zy5jbGllbnRYLGUrPWcuY2xpZW50WTthLmNsaWVudFg9ZC9mO2EuY2xpZW50WT1lL2Z9dGhpcy5pbmNsdWRlWFkmJihhLnh5PXRoaXMuZ2V0TW91c2VQb3NpdGlvbihhKSk7dGhpcy50cmlnZ2VyRXZlbnQoYixhKX19LGdldFRvdWNoQ2xpZW50WFk6ZnVuY3Rpb24oYSl7dmFyIGI9d2luZG93Lm9sTW9ja1dpbnx8CndpbmRvdyxjPWIucGFnZVhPZmZzZXQsYj1iLnBhZ2VZT2Zmc2V0LGQ9YS5jbGllbnRYLGU9YS5jbGllbnRZO2lmKDA9PT1hLnBhZ2VZJiZNYXRoLmZsb29yKGUpPk1hdGguZmxvb3IoYS5wYWdlWSl8fDA9PT1hLnBhZ2VYJiZNYXRoLmZsb29yKGQpPk1hdGguZmxvb3IoYS5wYWdlWCkpZC09YyxlLT1iO2Vsc2UgaWYoZTxhLnBhZ2VZLWJ8fGQ8YS5wYWdlWC1jKWQ9YS5wYWdlWC1jLGU9YS5wYWdlWS1iO2Eub2xDbGllbnRYPWQ7YS5vbENsaWVudFk9ZTtyZXR1cm57Y2xpZW50WDpkLGNsaWVudFk6ZX19LGNsZWFyTW91c2VDYWNoZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5zY3JvbGxzPW51bGw7dGhpcy5lbGVtZW50LmxlZnR0b3A9bnVsbDt0aGlzLmVsZW1lbnQub2Zmc2V0cz1udWxsfSxnZXRNb3VzZVBvc2l0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuaW5jbHVkZVhZP3RoaXMuZWxlbWVudC5oYXNTY3JvbGxFdmVudHx8KE9wZW5MYXllcnMuRXZlbnQub2JzZXJ2ZSh3aW5kb3csInNjcm9sbCIsCnRoaXMuY2xlYXJNb3VzZUxpc3RlbmVyKSx0aGlzLmVsZW1lbnQuaGFzU2Nyb2xsRXZlbnQ9ITApOnRoaXMuY2xlYXJNb3VzZUNhY2hlKCk7aWYoIXRoaXMuZWxlbWVudC5zY3JvbGxzKXt2YXIgYj1PcGVuTGF5ZXJzLlV0aWwuZ2V0Vmlld3BvcnRFbGVtZW50KCk7dGhpcy5lbGVtZW50LnNjcm9sbHM9W3dpbmRvdy5wYWdlWE9mZnNldHx8Yi5zY3JvbGxMZWZ0LHdpbmRvdy5wYWdlWU9mZnNldHx8Yi5zY3JvbGxUb3BdfXRoaXMuZWxlbWVudC5sZWZ0dG9wfHwodGhpcy5lbGVtZW50LmxlZnR0b3A9W2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRMZWZ0fHwwLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRUb3B8fDBdKTt0aGlzLmVsZW1lbnQub2Zmc2V0c3x8KHRoaXMuZWxlbWVudC5vZmZzZXRzPU9wZW5MYXllcnMuVXRpbC5wYWdlUG9zaXRpb24odGhpcy5lbGVtZW50KSk7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLlBpeGVsKGEuY2xpZW50WCt0aGlzLmVsZW1lbnQuc2Nyb2xsc1swXS0KdGhpcy5lbGVtZW50Lm9mZnNldHNbMF0tdGhpcy5lbGVtZW50LmxlZnR0b3BbMF0sYS5jbGllbnRZK3RoaXMuZWxlbWVudC5zY3JvbGxzWzFdLXRoaXMuZWxlbWVudC5vZmZzZXRzWzFdLXRoaXMuZWxlbWVudC5sZWZ0dG9wWzFdKX0sYWRkTXNUb3VjaExpc3RlbmVyOmZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKGEpe2MoT3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3N0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe2Zvcih2YXIgYT1lLmxlbmd0aC0xOzA8PWE7LS1hKWVbYV0uc3RvcFByb3BhZ2F0aW9uKCl9LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7Zm9yKHZhciBhPWUubGVuZ3RoLTE7MDw9YTstLWEpZVthXS5wcmV2ZW50RGVmYXVsdCgpfSx0eXBlOmJ9LGEpKX12YXIgZT10aGlzLl9tc1RvdWNoZXM7c3dpdGNoKGIpe2Nhc2UgInRvdWNoc3RhcnQiOnJldHVybiB0aGlzLmFkZE1zVG91Y2hMaXN0ZW5lclN0YXJ0KGEsYixkKTtjYXNlICJ0b3VjaGVuZCI6cmV0dXJuIHRoaXMuYWRkTXNUb3VjaExpc3RlbmVyRW5kKGEsCmIsZCk7Y2FzZSAidG91Y2htb3ZlIjpyZXR1cm4gdGhpcy5hZGRNc1RvdWNoTGlzdGVuZXJNb3ZlKGEsYixkKTtkZWZhdWx0OnRocm93IlVua25vd24gdG91Y2ggZXZlbnQgdHlwZSI7fX0sYWRkTXNUb3VjaExpc3RlbmVyU3RhcnQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuX21zVG91Y2hlcztPcGVuTGF5ZXJzLkV2ZW50Lm9ic2VydmUoYSwiTVNQb2ludGVyRG93biIsZnVuY3Rpb24oYSl7Zm9yKHZhciBiPSExLGc9MCxoPWQubGVuZ3RoO2c8aDsrK2cpaWYoZFtnXS5wb2ludGVySWQ9PWEucG9pbnRlcklkKXtiPSEwO2JyZWFrfWJ8fGQucHVzaChhKTthLnRvdWNoZXM9ZC5zbGljZSgpO2MoYSl9KTtPcGVuTGF5ZXJzLkV2ZW50Lm9ic2VydmUoYSwiTVNQb2ludGVyVXAiLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9ZC5sZW5ndGg7YjxjOysrYilpZihkW2JdLnBvaW50ZXJJZD09YS5wb2ludGVySWQpe2Quc3BsaWNlKGIsMSk7YnJlYWt9fSl9LGFkZE1zVG91Y2hMaXN0ZW5lck1vdmU6ZnVuY3Rpb24oYSwKYixjKXt2YXIgZD10aGlzLl9tc1RvdWNoZXM7T3BlbkxheWVycy5FdmVudC5vYnNlcnZlKGEsIk1TUG9pbnRlck1vdmUiLGZ1bmN0aW9uKGEpe2lmKCEoYS5wb2ludGVyVHlwZT09YS5NU1BPSU5URVJfVFlQRV9NT1VTRSYmMD09YS5idXR0b25zKSYmISgxPT1kLmxlbmd0aCYmZFswXS5wYWdlWD09YS5wYWdlWCYmZFswXS5wYWdlWT09YS5wYWdlWSkpe2Zvcih2YXIgYj0wLGc9ZC5sZW5ndGg7YjxnOysrYilpZihkW2JdLnBvaW50ZXJJZD09YS5wb2ludGVySWQpe2RbYl09YTticmVha31hLnRvdWNoZXM9ZC5zbGljZSgpO2MoYSl9fSl9LGFkZE1zVG91Y2hMaXN0ZW5lckVuZDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5fbXNUb3VjaGVzO09wZW5MYXllcnMuRXZlbnQub2JzZXJ2ZShhLCJNU1BvaW50ZXJVcCIsZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsZz1kLmxlbmd0aDtiPGc7KytiKWlmKGRbYl0ucG9pbnRlcklkPT1hLnBvaW50ZXJJZCl7ZC5zcGxpY2UoYiwxKTticmVha31hLnRvdWNoZXM9CmQuc2xpY2UoKTtjKGEpfSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRXZlbnRzIn0pO09wZW5MYXllcnMuRXZlbnRzLmJ1dHRvbmNsaWNrPU9wZW5MYXllcnMuQ2xhc3Moe3RhcmdldDpudWxsLGV2ZW50czoibW91c2Vkb3duIG1vdXNldXAgY2xpY2sgZGJsY2xpY2sgdG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQga2V5ZG93biIuc3BsaXQoIiAiKSxzdGFydFJlZ0V4Oi9ebW91c2Vkb3dufHRvdWNoc3RhcnQkLyxjYW5jZWxSZWdFeDovXnRvdWNobW92ZSQvLGNvbXBsZXRlUmVnRXg6L15tb3VzZXVwfHRvdWNoZW5kJC8saW5pdGlhbGl6ZTpmdW5jdGlvbihhKXt0aGlzLnRhcmdldD1hO2ZvcihhPXRoaXMuZXZlbnRzLmxlbmd0aC0xOzA8PWE7LS1hKXRoaXMudGFyZ2V0LnJlZ2lzdGVyKHRoaXMuZXZlbnRzW2FdLHRoaXMsdGhpcy5idXR0b25DbGljayx7ZXh0ZW5zaW9uOiEwfSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5ldmVudHMubGVuZ3RoLTE7MDw9YTstLWEpdGhpcy50YXJnZXQudW5yZWdpc3Rlcih0aGlzLmV2ZW50c1thXSx0aGlzLHRoaXMuYnV0dG9uQ2xpY2spOwpkZWxldGUgdGhpcy50YXJnZXR9LGdldFByZXNzZWRCdXR0b246ZnVuY3Rpb24oYSl7dmFyIGI9MyxjO2Rve2lmKE9wZW5MYXllcnMuRWxlbWVudC5oYXNDbGFzcyhhLCJvbEJ1dHRvbiIpKXtjPWE7YnJlYWt9YT1hLnBhcmVudE5vZGV9d2hpbGUoMDwtLWImJmEpO3JldHVybiBjfSxpZ25vcmU6ZnVuY3Rpb24oYSl7dmFyIGI9MyxjPSExO2Rve2lmKCJhIj09PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7Yz0hMDticmVha31hPWEucGFyZW50Tm9kZX13aGlsZSgwPC0tYiYmYSk7cmV0dXJuIGN9LGJ1dHRvbkNsaWNrOmZ1bmN0aW9uKGEpe3ZhciBiPSEwLGM9T3BlbkxheWVycy5FdmVudC5lbGVtZW50KGEpO2lmKGMmJihPcGVuTGF5ZXJzLkV2ZW50LmlzTGVmdENsaWNrKGEpfHwhfmEudHlwZS5pbmRleE9mKCJtb3VzZSIpKSlpZihjPXRoaXMuZ2V0UHJlc3NlZEJ1dHRvbihjKSl7aWYoImtleWRvd24iPT09YS50eXBlKXN3aXRjaChhLmtleUNvZGUpe2Nhc2UgT3BlbkxheWVycy5FdmVudC5LRVlfUkVUVVJOOmNhc2UgT3BlbkxheWVycy5FdmVudC5LRVlfU1BBQ0U6dGhpcy50YXJnZXQudHJpZ2dlckV2ZW50KCJidXR0b25jbGljayIsCntidXR0b25FbGVtZW50OmN9KSxPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSksYj0hMX1lbHNlIGlmKHRoaXMuc3RhcnRFdnQpe2lmKHRoaXMuY29tcGxldGVSZWdFeC50ZXN0KGEudHlwZSkpe3ZhciBiPU9wZW5MYXllcnMuVXRpbC5wYWdlUG9zaXRpb24oYyksZD1PcGVuTGF5ZXJzLlV0aWwuZ2V0Vmlld3BvcnRFbGVtZW50KCksZT13aW5kb3cucGFnZVlPZmZzZXR8fGQuc2Nyb2xsVG9wO2JbMF0tPXdpbmRvdy5wYWdlWE9mZnNldHx8ZC5zY3JvbGxMZWZ0O2JbMV0tPWU7dGhpcy50YXJnZXQudHJpZ2dlckV2ZW50KCJidXR0b25jbGljayIse2J1dHRvbkVsZW1lbnQ6YyxidXR0b25YWTp7eDp0aGlzLnN0YXJ0RXZ0LmNsaWVudFgtYlswXSx5OnRoaXMuc3RhcnRFdnQuY2xpZW50WS1iWzFdfX0pfXRoaXMuY2FuY2VsUmVnRXgudGVzdChhLnR5cGUpJiZkZWxldGUgdGhpcy5zdGFydEV2dDtPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSk7Yj0hMX10aGlzLnN0YXJ0UmVnRXgudGVzdChhLnR5cGUpJiYKKHRoaXMuc3RhcnRFdnQ9YSxPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSksYj0hMSl9ZWxzZSBiPSF0aGlzLmlnbm9yZShPcGVuTGF5ZXJzLkV2ZW50LmVsZW1lbnQoYSkpLGRlbGV0ZSB0aGlzLnN0YXJ0RXZ0O3JldHVybiBifX0pO09wZW5MYXllcnMuVXRpbD1PcGVuTGF5ZXJzLlV0aWx8fHt9OwpPcGVuTGF5ZXJzLlV0aWwudmVuZG9yUHJlZml4PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe2lmKHZvaWQgMD09PWZbYl0pe3ZhciBkLGU9MCxrPWMubGVuZ3RoLGw9InVuZGVmaW5lZCIhPT10eXBlb2YgYS5jc3NUZXh0O2ZvcihmW2JdPW51bGw7ZTxrO2UrKylpZigoZD1jW2VdKT8obHx8KGQ9ZC50b0xvd2VyQ2FzZSgpKSxkPWQrYi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStiLnNsaWNlKDEpKTpkPWIsdm9pZCAwIT09YVtkXSl7ZltiXT1kO2JyZWFrfX1yZXR1cm4gZltiXX1mdW5jdGlvbiBiKGIpe3JldHVybiBhKGQsYil9dmFyIGM9WyIiLCJPIiwibXMiLCJNb3oiLCJXZWJraXQiXSxkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLnN0eWxlLGU9e30sZj17fTtyZXR1cm57Y3NzOmZ1bmN0aW9uKGEpe2lmKHZvaWQgMD09PWVbYV0pe3ZhciBjPWEucmVwbGFjZSgvKC1bXHNcU10pL2csZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckF0KDEpLnRvVXBwZXJDYXNlKCl9KSxjPQpiKGMpO2M9Yz9jLnJlcGxhY2UoLyhbQS1aXSkvZyxmdW5jdGlvbihhKXtyZXR1cm4iLSIrYS50b0xvd2VyQ2FzZSgpfSkucmVwbGFjZSgvXm1zLS8sIi1tcy0iKTpudWxsO2VbYV09Y31yZXR1cm4gZVthXX0sanM6YSxzdHlsZTpiLGNzc0NhY2hlOmUsanNDYWNoZTpmfX0oKTtPcGVuTGF5ZXJzLkFuaW1hdGlvbj1mdW5jdGlvbihhKXt2YXIgYj1PcGVuTGF5ZXJzLlV0aWwudmVuZG9yUHJlZml4LmpzKGEsInJlcXVlc3RBbmltYXRpb25GcmFtZSIpLGMsZD1hW2JdfHxmdW5jdGlvbihiKXthLnNldFRpbWVvdXQoYiwxNil9O2M9ZnVuY3Rpb24oYixjKXtkLmFwcGx5KGEsW2IsY10pfTt2YXIgZT0wLGY9e307cmV0dXJue2lzTmF0aXZlOiEhYixyZXF1ZXN0RnJhbWU6YyxzdGFydDpmdW5jdGlvbihhLGIsZCl7dmFyIGI9MDxiP2I6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGo9KytlLGs9K25ldyBEYXRlO2Zbal09ZnVuY3Rpb24oKXtmW2pdJiYrbmV3IERhdGUtazw9Yj8oYSgpLGZbal0mJmMoZltqXSxkKSk6ZGVsZXRlIGZbal19O2MoZltqXSxkKTtyZXR1cm4gan0sc3RvcDpmdW5jdGlvbihhKXtkZWxldGUgZlthXX19fSh3aW5kb3cpO09wZW5MYXllcnMuVHdlZW49T3BlbkxheWVycy5DbGFzcyh7ZWFzaW5nOm51bGwsYmVnaW46bnVsbCxmaW5pc2g6bnVsbCxkdXJhdGlvbjpudWxsLGNhbGxiYWNrczpudWxsLHRpbWU6bnVsbCxtaW5GcmFtZVJhdGU6bnVsbCxzdGFydFRpbWU6bnVsbCxhbmltYXRpb25JZDpudWxsLHBsYXlpbmc6ITEsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXt0aGlzLmVhc2luZz1hP2E6T3BlbkxheWVycy5FYXNpbmcuRXhwby5lYXNlT3V0fSxzdGFydDpmdW5jdGlvbihhLGIsYyxkKXt0aGlzLnBsYXlpbmc9ITA7dGhpcy5iZWdpbj1hO3RoaXMuZmluaXNoPWI7dGhpcy5kdXJhdGlvbj1jO3RoaXMuY2FsbGJhY2tzPWQuY2FsbGJhY2tzO3RoaXMubWluRnJhbWVSYXRlPWQubWluRnJhbWVSYXRlfHwzMDt0aGlzLnRpbWU9MDt0aGlzLnN0YXJ0VGltZT0obmV3IERhdGUpLmdldFRpbWUoKTtPcGVuTGF5ZXJzLkFuaW1hdGlvbi5zdG9wKHRoaXMuYW5pbWF0aW9uSWQpO3RoaXMuYW5pbWF0aW9uSWQ9bnVsbDsKdGhpcy5jYWxsYmFja3MmJnRoaXMuY2FsbGJhY2tzLnN0YXJ0JiZ0aGlzLmNhbGxiYWNrcy5zdGFydC5jYWxsKHRoaXMsdGhpcy5iZWdpbik7dGhpcy5hbmltYXRpb25JZD1PcGVuTGF5ZXJzLkFuaW1hdGlvbi5zdGFydChPcGVuTGF5ZXJzLkZ1bmN0aW9uLmJpbmQodGhpcy5wbGF5LHRoaXMpKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMucGxheWluZyYmKHRoaXMuY2FsbGJhY2tzJiZ0aGlzLmNhbGxiYWNrcy5kb25lJiZ0aGlzLmNhbGxiYWNrcy5kb25lLmNhbGwodGhpcyx0aGlzLmZpbmlzaCksT3BlbkxheWVycy5BbmltYXRpb24uc3RvcCh0aGlzLmFuaW1hdGlvbklkKSx0aGlzLmFuaW1hdGlvbklkPW51bGwsdGhpcy5wbGF5aW5nPSExKX0scGxheTpmdW5jdGlvbigpe3ZhciBhPXt9LGI7Zm9yKGIgaW4gdGhpcy5iZWdpbil7dmFyIGM9dGhpcy5iZWdpbltiXSxkPXRoaXMuZmluaXNoW2JdO2lmKG51bGw9PWN8fG51bGw9PWR8fGlzTmFOKGMpfHxpc05hTihkKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJpbnZhbGlkIHZhbHVlIGZvciBUd2VlbiIpOwphW2JdPXRoaXMuZWFzaW5nLmFwcGx5KHRoaXMsW3RoaXMudGltZSxjLGQtYyx0aGlzLmR1cmF0aW9uXSl9dGhpcy50aW1lKys7dGhpcy5jYWxsYmFja3MmJnRoaXMuY2FsbGJhY2tzLmVhY2hTdGVwJiYoKG5ldyBEYXRlKS5nZXRUaW1lKCktdGhpcy5zdGFydFRpbWUpL3RoaXMudGltZTw9MUUzL3RoaXMubWluRnJhbWVSYXRlJiZ0aGlzLmNhbGxiYWNrcy5lYWNoU3RlcC5jYWxsKHRoaXMsYSk7dGhpcy50aW1lPnRoaXMuZHVyYXRpb24mJnRoaXMuc3RvcCgpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlR3ZWVuIn0pO09wZW5MYXllcnMuRWFzaW5nPXtDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkVhc2luZyJ9O09wZW5MYXllcnMuRWFzaW5nLkxpbmVhcj17ZWFzZUluOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBjKmEvZCtifSxlYXNlT3V0OmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBjKmEvZCtifSxlYXNlSW5PdXQ6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGMqYS9kK2J9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRWFzaW5nLkxpbmVhciJ9OwpPcGVuTGF5ZXJzLkVhc2luZy5FeHBvPXtlYXNlSW46ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIDA9PWE/YjpjKk1hdGgucG93KDIsMTAqKGEvZC0xKSkrYn0sZWFzZU91dDpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gYT09ZD9iK2M6YyooLU1hdGgucG93KDIsLTEwKmEvZCkrMSkrYn0sZWFzZUluT3V0OmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiAwPT1hP2I6YT09ZD9iK2M6MT4oYS89ZC8yKT9jLzIqTWF0aC5wb3coMiwxMCooYS0xKSkrYjpjLzIqKC1NYXRoLnBvdygyLC0xMCotLWEpKzIpK2J9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRWFzaW5nLkV4cG8ifTsKT3BlbkxheWVycy5FYXNpbmcuUXVhZD17ZWFzZUluOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBjKihhLz1kKSphK2J9LGVhc2VPdXQ6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuLWMqKGEvPWQpKihhLTIpK2J9LGVhc2VJbk91dDpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gMT4oYS89ZC8yKT9jLzIqYSphK2I6LWMvMiooLS1hKihhLTIpLTEpK2J9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRWFzaW5nLlF1YWQifTtPcGVuTGF5ZXJzLlByb2plY3Rpb249T3BlbkxheWVycy5DbGFzcyh7cHJvajpudWxsLHByb2pDb2RlOm51bGwsdGl0bGVSZWdFeDovXCt0aXRsZT1bXlwrXSovLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsYik7dGhpcy5wcm9qQ29kZT1hOyJvYmplY3QiPT10eXBlb2YgUHJvajRqcyYmKHRoaXMucHJvaj1uZXcgUHJvajRqcy5Qcm9qKGEpKX0sZ2V0Q29kZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb2o/dGhpcy5wcm9qLnNyc0NvZGU6dGhpcy5wcm9qQ29kZX0sZ2V0VW5pdHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9qP3RoaXMucHJvai51bml0czpudWxsfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENvZGUoKX0sZXF1YWxzOmZ1bmN0aW9uKGEpe3ZhciBiPSExO2EmJihhIGluc3RhbmNlb2YgT3BlbkxheWVycy5Qcm9qZWN0aW9ufHwoYT1uZXcgT3BlbkxheWVycy5Qcm9qZWN0aW9uKGEpKSwib2JqZWN0Ij09CnR5cGVvZiBQcm9qNGpzJiZ0aGlzLnByb2ouZGVmRGF0YSYmYS5wcm9qLmRlZkRhdGE/Yj10aGlzLnByb2ouZGVmRGF0YS5yZXBsYWNlKHRoaXMudGl0bGVSZWdFeCwiIik9PWEucHJvai5kZWZEYXRhLnJlcGxhY2UodGhpcy50aXRsZVJlZ0V4LCIiKTphLmdldENvZGUmJihiPXRoaXMuZ2V0Q29kZSgpLGE9YS5nZXRDb2RlKCksYj1iPT1hfHwhIU9wZW5MYXllcnMuUHJvamVjdGlvbi50cmFuc2Zvcm1zW2JdJiZPcGVuTGF5ZXJzLlByb2plY3Rpb24udHJhbnNmb3Jtc1tiXVthXT09PU9wZW5MYXllcnMuUHJvamVjdGlvbi5udWxsVHJhbnNmb3JtKSk7cmV0dXJuIGJ9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5wcm9qO2RlbGV0ZSB0aGlzLnByb2pDb2RlfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlByb2plY3Rpb24ifSk7T3BlbkxheWVycy5Qcm9qZWN0aW9uLnRyYW5zZm9ybXM9e307Ck9wZW5MYXllcnMuUHJvamVjdGlvbi5kZWZhdWx0cz17IkVQU0c6NDMyNiI6e3VuaXRzOiJkZWdyZWVzIixtYXhFeHRlbnQ6Wy0xODAsLTkwLDE4MCw5MF0seXg6ITB9LCJDUlM6ODQiOnt1bml0czoiZGVncmVlcyIsbWF4RXh0ZW50OlstMTgwLC05MCwxODAsOTBdfSwiRVBTRzo5MDA5MTMiOnt1bml0czoibSIsbWF4RXh0ZW50OlstMi4wMDM3NTA4MzRFNywtMi4wMDM3NTA4MzRFNywyLjAwMzc1MDgzNEU3LDIuMDAzNzUwODM0RTddfX07Ck9wZW5MYXllcnMuUHJvamVjdGlvbi5hZGRUcmFuc2Zvcm09ZnVuY3Rpb24oYSxiLGMpe2lmKGM9PT1PcGVuTGF5ZXJzLlByb2plY3Rpb24ubnVsbFRyYW5zZm9ybSl7dmFyIGQ9T3BlbkxheWVycy5Qcm9qZWN0aW9uLmRlZmF1bHRzW2FdO2QmJiFPcGVuTGF5ZXJzLlByb2plY3Rpb24uZGVmYXVsdHNbYl0mJihPcGVuTGF5ZXJzLlByb2plY3Rpb24uZGVmYXVsdHNbYl09ZCl9T3BlbkxheWVycy5Qcm9qZWN0aW9uLnRyYW5zZm9ybXNbYV18fChPcGVuTGF5ZXJzLlByb2plY3Rpb24udHJhbnNmb3Jtc1thXT17fSk7T3BlbkxheWVycy5Qcm9qZWN0aW9uLnRyYW5zZm9ybXNbYV1bYl09Y307Ck9wZW5MYXllcnMuUHJvamVjdGlvbi50cmFuc2Zvcm09ZnVuY3Rpb24oYSxiLGMpe2lmKGImJmMpaWYoYiBpbnN0YW5jZW9mIE9wZW5MYXllcnMuUHJvamVjdGlvbnx8KGI9bmV3IE9wZW5MYXllcnMuUHJvamVjdGlvbihiKSksYyBpbnN0YW5jZW9mIE9wZW5MYXllcnMuUHJvamVjdGlvbnx8KGM9bmV3IE9wZW5MYXllcnMuUHJvamVjdGlvbihjKSksYi5wcm9qJiZjLnByb2opYT1Qcm9qNGpzLnRyYW5zZm9ybShiLnByb2osYy5wcm9qLGEpO2Vsc2V7dmFyIGI9Yi5nZXRDb2RlKCksYz1jLmdldENvZGUoKSxkPU9wZW5MYXllcnMuUHJvamVjdGlvbi50cmFuc2Zvcm1zO2lmKGRbYl0mJmRbYl1bY10pZFtiXVtjXShhKX1yZXR1cm4gYX07T3BlbkxheWVycy5Qcm9qZWN0aW9uLm51bGxUcmFuc2Zvcm09ZnVuY3Rpb24oYSl7cmV0dXJuIGF9OwooZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2EueD0xODAqYS54L2Q7YS55PTE4MC9NYXRoLlBJKigyKk1hdGguYXRhbihNYXRoLmV4cChhLnkvZCpNYXRoLlBJKSktTWF0aC5QSS8yKTtyZXR1cm4gYX1mdW5jdGlvbiBiKGEpe2EueD1hLngqZC8xODA7dmFyIGI9TWF0aC5sb2coTWF0aC50YW4oKDkwK2EueSkqTWF0aC5QSS8zNjApKS9NYXRoLlBJKmQ7YS55PU1hdGgubWF4KC0yLjAwMzc1MDgzNEU3LE1hdGgubWluKGIsMi4wMDM3NTA4MzRFNykpO3JldHVybiBhfWZ1bmN0aW9uIGMoYyxkKXt2YXIgZT1PcGVuTGF5ZXJzLlByb2plY3Rpb24uYWRkVHJhbnNmb3JtLGY9T3BlbkxheWVycy5Qcm9qZWN0aW9uLm51bGxUcmFuc2Zvcm0sZyxtLG4scCxxO2c9MDtmb3IobT1kLmxlbmd0aDtnPG07KytnKXtuPWRbZ107ZShjLG4sYik7ZShuLGMsYSk7Zm9yKHE9ZysxO3E8bTsrK3EpcD1kW3FdLGUobixwLGYpLGUocCxuLGYpfX12YXIgZD0yLjAwMzc1MDgzNEU3LGU9WyJFUFNHOjkwMDkxMyIsCiJFUFNHOjM4NTciLCJFUFNHOjEwMjExMyIsIkVQU0c6MTAyMTAwIiwiT1NHRU86NDEwMDEiXSxmPVsiQ1JTOjg0IiwidXJuOm9nYzpkZWY6Y3JzOkVQU0c6Ni42OjQzMjYiLCJFUFNHOjQzMjYiXSxnO2ZvcihnPWUubGVuZ3RoLTE7MDw9ZzstLWcpYyhlW2ddLGYpO2ZvcihnPWYubGVuZ3RoLTE7MDw9ZzstLWcpYyhmW2ddLGUpfSkoKTtPcGVuTGF5ZXJzLk1hcD1PcGVuTGF5ZXJzLkNsYXNzKHtaX0lOREVYX0JBU0U6e0Jhc2VMYXllcjoxMDAsT3ZlcmxheTozMjUsRmVhdHVyZTo3MjUsUG9wdXA6NzUwLENvbnRyb2w6MUUzfSxpZDpudWxsLGZyYWN0aW9uYWxab29tOiExLGV2ZW50czpudWxsLGFsbE92ZXJsYXlzOiExLGRpdjpudWxsLGRyYWdnaW5nOiExLHNpemU6bnVsbCx2aWV3UG9ydERpdjpudWxsLGxheWVyQ29udGFpbmVyT3JpZ2luOm51bGwsbGF5ZXJDb250YWluZXJEaXY6bnVsbCxsYXllcnM6bnVsbCxjb250cm9sczpudWxsLHBvcHVwczpudWxsLGJhc2VMYXllcjpudWxsLGNlbnRlcjpudWxsLHJlc29sdXRpb246bnVsbCx6b29tOjAscGFuUmF0aW86MS41LG9wdGlvbnM6bnVsbCx0aWxlU2l6ZTpudWxsLHByb2plY3Rpb246IkVQU0c6NDMyNiIsdW5pdHM6bnVsbCxyZXNvbHV0aW9uczpudWxsLG1heFJlc29sdXRpb246bnVsbCxtaW5SZXNvbHV0aW9uOm51bGwsbWF4U2NhbGU6bnVsbCxtaW5TY2FsZTpudWxsLAptYXhFeHRlbnQ6bnVsbCxtaW5FeHRlbnQ6bnVsbCxyZXN0cmljdGVkRXh0ZW50Om51bGwsbnVtWm9vbUxldmVsczoxNix0aGVtZTpudWxsLGRpc3BsYXlQcm9qZWN0aW9uOm51bGwsZmFsbFRocm91Z2g6ITEsYXV0b1VwZGF0ZVNpemU6ITAsZXZlbnRMaXN0ZW5lcnM6bnVsbCxwYW5Ud2VlbjpudWxsLHBhbk1ldGhvZDpPcGVuTGF5ZXJzLkVhc2luZy5FeHBvLmVhc2VPdXQscGFuRHVyYXRpb246NTAsem9vbVR3ZWVuOm51bGwsem9vbU1ldGhvZDpPcGVuTGF5ZXJzLkVhc2luZy5RdWFkLmVhc2VPdXQsem9vbUR1cmF0aW9uOjIwLHBhZGRpbmdGb3JQb3B1cHM6bnVsbCxsYXllckNvbnRhaW5lck9yaWdpblB4Om51bGwsbWluUHg6bnVsbCxtYXhQeDpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiKXsxPT09YXJndW1lbnRzLmxlbmd0aCYmIm9iamVjdCI9PT10eXBlb2YgYSYmKGE9KGI9YSkmJmIuZGl2KTt0aGlzLnRpbGVTaXplPW5ldyBPcGVuTGF5ZXJzLlNpemUoT3BlbkxheWVycy5NYXAuVElMRV9XSURUSCwKT3BlbkxheWVycy5NYXAuVElMRV9IRUlHSFQpO3RoaXMucGFkZGluZ0ZvclBvcHVwcz1uZXcgT3BlbkxheWVycy5Cb3VuZHMoMTUsMTUsMTUsMTUpO3RoaXMudGhlbWU9T3BlbkxheWVycy5fZ2V0U2NyaXB0TG9jYXRpb24oKSsidGhlbWUvZGVmYXVsdC9zdHlsZS5jc3MiO3RoaXMub3B0aW9ucz1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LGIpO09wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcyxiKTtPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh0aGlzLE9wZW5MYXllcnMuUHJvamVjdGlvbi5kZWZhdWx0c1t0aGlzLnByb2plY3Rpb24gaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLlByb2plY3Rpb24/dGhpcy5wcm9qZWN0aW9uLnByb2pDb2RlOnRoaXMucHJvamVjdGlvbl0pO3RoaXMubWF4RXh0ZW50JiYhKHRoaXMubWF4RXh0ZW50IGluc3RhbmNlb2YgT3BlbkxheWVycy5Cb3VuZHMpJiYodGhpcy5tYXhFeHRlbnQ9bmV3IE9wZW5MYXllcnMuQm91bmRzKHRoaXMubWF4RXh0ZW50KSk7CnRoaXMubWluRXh0ZW50JiYhKHRoaXMubWluRXh0ZW50IGluc3RhbmNlb2YgT3BlbkxheWVycy5Cb3VuZHMpJiYodGhpcy5taW5FeHRlbnQ9bmV3IE9wZW5MYXllcnMuQm91bmRzKHRoaXMubWluRXh0ZW50KSk7dGhpcy5yZXN0cmljdGVkRXh0ZW50JiYhKHRoaXMucmVzdHJpY3RlZEV4dGVudCBpbnN0YW5jZW9mIE9wZW5MYXllcnMuQm91bmRzKSYmKHRoaXMucmVzdHJpY3RlZEV4dGVudD1uZXcgT3BlbkxheWVycy5Cb3VuZHModGhpcy5yZXN0cmljdGVkRXh0ZW50KSk7dGhpcy5jZW50ZXImJiEodGhpcy5jZW50ZXIgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkxvbkxhdCkmJih0aGlzLmNlbnRlcj1uZXcgT3BlbkxheWVycy5Mb25MYXQodGhpcy5jZW50ZXIpKTt0aGlzLmxheWVycz1bXTt0aGlzLmlkPU9wZW5MYXllcnMuVXRpbC5jcmVhdGVVbmlxdWVJRCgiT3BlbkxheWVycy5NYXBfIik7dGhpcy5kaXY9T3BlbkxheWVycy5VdGlsLmdldEVsZW1lbnQoYSk7dGhpcy5kaXZ8fCh0aGlzLmRpdj0KZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5kaXYuc3R5bGUuaGVpZ2h0PSIxcHgiLHRoaXMuZGl2LnN0eWxlLndpZHRoPSIxcHgiKTtPcGVuTGF5ZXJzLkVsZW1lbnQuYWRkQ2xhc3ModGhpcy5kaXYsIm9sTWFwIik7dmFyIGM9dGhpcy5pZCsiX09wZW5MYXllcnNfVmlld1BvcnQiO3RoaXMudmlld1BvcnREaXY9T3BlbkxheWVycy5VdGlsLmNyZWF0ZURpdihjLG51bGwsbnVsbCxudWxsLCJyZWxhdGl2ZSIsbnVsbCwiaGlkZGVuIik7dGhpcy52aWV3UG9ydERpdi5zdHlsZS53aWR0aD0iMTAwJSI7dGhpcy52aWV3UG9ydERpdi5zdHlsZS5oZWlnaHQ9IjEwMCUiO3RoaXMudmlld1BvcnREaXYuY2xhc3NOYW1lPSJvbE1hcFZpZXdwb3J0Ijt0aGlzLmRpdi5hcHBlbmRDaGlsZCh0aGlzLnZpZXdQb3J0RGl2KTt0aGlzLmV2ZW50cz1uZXcgT3BlbkxheWVycy5FdmVudHModGhpcyx0aGlzLnZpZXdQb3J0RGl2LG51bGwsdGhpcy5mYWxsVGhyb3VnaCx7aW5jbHVkZVhZOiEwfSk7Ck9wZW5MYXllcnMuVGlsZU1hbmFnZXImJm51bGwhPT10aGlzLnRpbGVNYW5hZ2VyJiYodGhpcy50aWxlTWFuYWdlciBpbnN0YW5jZW9mIE9wZW5MYXllcnMuVGlsZU1hbmFnZXJ8fCh0aGlzLnRpbGVNYW5hZ2VyPW5ldyBPcGVuTGF5ZXJzLlRpbGVNYW5hZ2VyKHRoaXMudGlsZU1hbmFnZXIpKSx0aGlzLnRpbGVNYW5hZ2VyLmFkZE1hcCh0aGlzKSk7Yz10aGlzLmlkKyJfT3BlbkxheWVyc19Db250YWluZXIiO3RoaXMubGF5ZXJDb250YWluZXJEaXY9T3BlbkxheWVycy5VdGlsLmNyZWF0ZURpdihjKTt0aGlzLmxheWVyQ29udGFpbmVyRGl2LnN0eWxlLnpJbmRleD10aGlzLlpfSU5ERVhfQkFTRS5Qb3B1cC0xO3RoaXMubGF5ZXJDb250YWluZXJPcmlnaW5QeD17eDowLHk6MH07dGhpcy5hcHBseVRyYW5zZm9ybSgpO3RoaXMudmlld1BvcnREaXYuYXBwZW5kQ2hpbGQodGhpcy5sYXllckNvbnRhaW5lckRpdik7dGhpcy51cGRhdGVTaXplKCk7aWYodGhpcy5ldmVudExpc3RlbmVycyBpbnN0YW5jZW9mCk9iamVjdCl0aGlzLmV2ZW50cy5vbih0aGlzLmV2ZW50TGlzdGVuZXJzKTshMD09PXRoaXMuYXV0b1VwZGF0ZVNpemUmJih0aGlzLnVwZGF0ZVNpemVEZXN0cm95PU9wZW5MYXllcnMuRnVuY3Rpb24uYmluZCh0aGlzLnVwZGF0ZVNpemUsdGhpcyksT3BlbkxheWVycy5FdmVudC5vYnNlcnZlKHdpbmRvdywicmVzaXplIix0aGlzLnVwZGF0ZVNpemVEZXN0cm95KSk7aWYodGhpcy50aGVtZSl7Zm9yKHZhciBjPSEwLGQ9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImxpbmsiKSxlPTAsZj1kLmxlbmd0aDtlPGY7KytlKWlmKE9wZW5MYXllcnMuVXRpbC5pc0VxdWl2YWxlbnRVcmwoZC5pdGVtKGUpLmhyZWYsdGhpcy50aGVtZSkpe2M9ITE7YnJlYWt9YyYmKGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGluayIpLGMuc2V0QXR0cmlidXRlKCJyZWwiLCJzdHlsZXNoZWV0IiksYy5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0ZXh0L2NzcyIpLGMuc2V0QXR0cmlidXRlKCJocmVmIix0aGlzLnRoZW1lKSwKZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXS5hcHBlbmRDaGlsZChjKSl9bnVsbD09dGhpcy5jb250cm9scyYmKHRoaXMuY29udHJvbHM9W10sbnVsbCE9T3BlbkxheWVycy5Db250cm9sJiYoT3BlbkxheWVycy5Db250cm9sLk5hdmlnYXRpb24/dGhpcy5jb250cm9scy5wdXNoKG5ldyBPcGVuTGF5ZXJzLkNvbnRyb2wuTmF2aWdhdGlvbik6T3BlbkxheWVycy5Db250cm9sLlRvdWNoTmF2aWdhdGlvbiYmdGhpcy5jb250cm9scy5wdXNoKG5ldyBPcGVuTGF5ZXJzLkNvbnRyb2wuVG91Y2hOYXZpZ2F0aW9uKSxPcGVuTGF5ZXJzLkNvbnRyb2wuWm9vbT90aGlzLmNvbnRyb2xzLnB1c2gobmV3IE9wZW5MYXllcnMuQ29udHJvbC5ab29tKTpPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuWm9vbSYmdGhpcy5jb250cm9scy5wdXNoKG5ldyBPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuWm9vbSksT3BlbkxheWVycy5Db250cm9sLkFyZ1BhcnNlciYmdGhpcy5jb250cm9scy5wdXNoKG5ldyBPcGVuTGF5ZXJzLkNvbnRyb2wuQXJnUGFyc2VyKSwKT3BlbkxheWVycy5Db250cm9sLkF0dHJpYnV0aW9uJiZ0aGlzLmNvbnRyb2xzLnB1c2gobmV3IE9wZW5MYXllcnMuQ29udHJvbC5BdHRyaWJ1dGlvbikpKTtlPTA7Zm9yKGY9dGhpcy5jb250cm9scy5sZW5ndGg7ZTxmO2UrKyl0aGlzLmFkZENvbnRyb2xUb01hcCh0aGlzLmNvbnRyb2xzW2VdKTt0aGlzLnBvcHVwcz1bXTt0aGlzLnVubG9hZERlc3Ryb3k9T3BlbkxheWVycy5GdW5jdGlvbi5iaW5kKHRoaXMuZGVzdHJveSx0aGlzKTtPcGVuTGF5ZXJzLkV2ZW50Lm9ic2VydmUod2luZG93LCJ1bmxvYWQiLHRoaXMudW5sb2FkRGVzdHJveSk7YiYmYi5sYXllcnMmJihkZWxldGUgdGhpcy5jZW50ZXIsZGVsZXRlIHRoaXMuem9vbSx0aGlzLmFkZExheWVycyhiLmxheWVycyksYi5jZW50ZXImJiF0aGlzLmdldENlbnRlcigpJiZ0aGlzLnNldENlbnRlcihiLmNlbnRlcixiLnpvb20pKTt0aGlzLnBhbk1ldGhvZCYmKHRoaXMucGFuVHdlZW49bmV3IE9wZW5MYXllcnMuVHdlZW4odGhpcy5wYW5NZXRob2QpKTsKdGhpcy56b29tTWV0aG9kJiZ0aGlzLmFwcGx5VHJhbnNmb3JtLnRyYW5zZm9ybSYmKHRoaXMuem9vbVR3ZWVuPW5ldyBPcGVuTGF5ZXJzLlR3ZWVuKHRoaXMuem9vbU1ldGhvZCkpfSxnZXRWaWV3cG9ydDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZXdQb3J0RGl2fSxyZW5kZXI6ZnVuY3Rpb24oYSl7dGhpcy5kaXY9T3BlbkxheWVycy5VdGlsLmdldEVsZW1lbnQoYSk7T3BlbkxheWVycy5FbGVtZW50LmFkZENsYXNzKHRoaXMuZGl2LCJvbE1hcCIpO3RoaXMudmlld1BvcnREaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnZpZXdQb3J0RGl2KTt0aGlzLmRpdi5hcHBlbmRDaGlsZCh0aGlzLnZpZXdQb3J0RGl2KTt0aGlzLnVwZGF0ZVNpemUoKX0sdW5sb2FkRGVzdHJveTpudWxsLHVwZGF0ZVNpemVEZXN0cm95Om51bGwsZGVzdHJveTpmdW5jdGlvbigpe2lmKCF0aGlzLnVubG9hZERlc3Ryb3kpcmV0dXJuITE7dGhpcy5wYW5Ud2VlbiYmKHRoaXMucGFuVHdlZW4uc3RvcCgpLAp0aGlzLnBhblR3ZWVuPW51bGwpO3RoaXMuem9vbVR3ZWVuJiYodGhpcy56b29tVHdlZW4uc3RvcCgpLHRoaXMuem9vbVR3ZWVuPW51bGwpO09wZW5MYXllcnMuRXZlbnQuc3RvcE9ic2VydmluZyh3aW5kb3csInVubG9hZCIsdGhpcy51bmxvYWREZXN0cm95KTt0aGlzLnVubG9hZERlc3Ryb3k9bnVsbDt0aGlzLnVwZGF0ZVNpemVEZXN0cm95JiZPcGVuTGF5ZXJzLkV2ZW50LnN0b3BPYnNlcnZpbmcod2luZG93LCJyZXNpemUiLHRoaXMudXBkYXRlU2l6ZURlc3Ryb3kpO3RoaXMucGFkZGluZ0ZvclBvcHVwcz1udWxsO2lmKG51bGwhPXRoaXMuY29udHJvbHMpe2Zvcih2YXIgYT10aGlzLmNvbnRyb2xzLmxlbmd0aC0xOzA8PWE7LS1hKXRoaXMuY29udHJvbHNbYV0uZGVzdHJveSgpO3RoaXMuY29udHJvbHM9bnVsbH1pZihudWxsIT10aGlzLmxheWVycyl7Zm9yKGE9dGhpcy5sYXllcnMubGVuZ3RoLTE7MDw9YTstLWEpdGhpcy5sYXllcnNbYV0uZGVzdHJveSghMSk7dGhpcy5sYXllcnM9Cm51bGx9dGhpcy52aWV3UG9ydERpdiYmdGhpcy52aWV3UG9ydERpdi5wYXJlbnROb2RlJiZ0aGlzLnZpZXdQb3J0RGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy52aWV3UG9ydERpdik7dGhpcy52aWV3UG9ydERpdj1udWxsO3RoaXMudGlsZU1hbmFnZXImJih0aGlzLnRpbGVNYW5hZ2VyLnJlbW92ZU1hcCh0aGlzKSx0aGlzLnRpbGVNYW5hZ2VyPW51bGwpO3RoaXMuZXZlbnRMaXN0ZW5lcnMmJih0aGlzLmV2ZW50cy51bih0aGlzLmV2ZW50TGlzdGVuZXJzKSx0aGlzLmV2ZW50TGlzdGVuZXJzPW51bGwpO3RoaXMuZXZlbnRzLmRlc3Ryb3koKTt0aGlzLm9wdGlvbnM9dGhpcy5ldmVudHM9bnVsbH0sc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm1pblB4JiZhLnJlc3RyaWN0ZWRFeHRlbnQhPXRoaXMucmVzdHJpY3RlZEV4dGVudDtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsYSk7YiYmdGhpcy5tb3ZlVG8odGhpcy5nZXRDYWNoZWRDZW50ZXIoKSx0aGlzLnpvb20sCntmb3JjZVpvb21DaGFuZ2U6ITB9KX0sZ2V0VGlsZVNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aWxlU2l6ZX0sZ2V0Qnk6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSJmdW5jdGlvbiI9PXR5cGVvZiBjLnRlc3Q7cmV0dXJuIE9wZW5MYXllcnMuQXJyYXkuZmlsdGVyKHRoaXNbYV0sZnVuY3Rpb24oYSl7cmV0dXJuIGFbYl09PWN8fGQmJmMudGVzdChhW2JdKX0pfSxnZXRMYXllcnNCeTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmdldEJ5KCJsYXllcnMiLGEsYil9LGdldExheWVyc0J5TmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXRMYXllcnNCeSgibmFtZSIsYSl9LGdldExheWVyc0J5Q2xhc3M6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0TGF5ZXJzQnkoIkNMQVNTX05BTUUiLGEpfSxnZXRDb250cm9sc0J5OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ2V0QnkoImNvbnRyb2xzIixhLGIpfSxnZXRDb250cm9sc0J5Q2xhc3M6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0Q29udHJvbHNCeSgiQ0xBU1NfTkFNRSIsCmEpfSxnZXRMYXllcjpmdW5jdGlvbihhKXtmb3IodmFyIGI9bnVsbCxjPTAsZD10aGlzLmxheWVycy5sZW5ndGg7YzxkO2MrKyl7dmFyIGU9dGhpcy5sYXllcnNbY107aWYoZS5pZD09YSl7Yj1lO2JyZWFrfX1yZXR1cm4gYn0sc2V0TGF5ZXJaSW5kZXg6ZnVuY3Rpb24oYSxiKXthLnNldFpJbmRleCh0aGlzLlpfSU5ERVhfQkFTRVthLmlzQmFzZUxheWVyPyJCYXNlTGF5ZXIiOiJPdmVybGF5Il0rNSpiKX0scmVzZXRMYXllcnNaSW5kZXg6ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPXRoaXMubGF5ZXJzLmxlbmd0aDthPGI7YSsrKXRoaXMuc2V0TGF5ZXJaSW5kZXgodGhpcy5sYXllcnNbYV0sYSl9LGFkZExheWVyOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9dGhpcy5sYXllcnMubGVuZ3RoO2I8YztiKyspaWYodGhpcy5sYXllcnNbYl09PWEpcmV0dXJuITE7aWYoITE9PT10aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoInByZWFkZGxheWVyIix7bGF5ZXI6YX0pKXJldHVybiExO3RoaXMuYWxsT3ZlcmxheXMmJgooYS5pc0Jhc2VMYXllcj0hMSk7YS5kaXYuY2xhc3NOYW1lPSJvbExheWVyRGl2IjthLmRpdi5zdHlsZS5vdmVyZmxvdz0iIjt0aGlzLnNldExheWVyWkluZGV4KGEsdGhpcy5sYXllcnMubGVuZ3RoKTthLmlzRml4ZWQ/dGhpcy52aWV3UG9ydERpdi5hcHBlbmRDaGlsZChhLmRpdik6dGhpcy5sYXllckNvbnRhaW5lckRpdi5hcHBlbmRDaGlsZChhLmRpdik7dGhpcy5sYXllcnMucHVzaChhKTthLnNldE1hcCh0aGlzKTthLmlzQmFzZUxheWVyfHx0aGlzLmFsbE92ZXJsYXlzJiYhdGhpcy5iYXNlTGF5ZXI/bnVsbD09dGhpcy5iYXNlTGF5ZXI/dGhpcy5zZXRCYXNlTGF5ZXIoYSk6YS5zZXRWaXNpYmlsaXR5KCExKTphLnJlZHJhdygpO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiYWRkbGF5ZXIiLHtsYXllcjphfSk7YS5ldmVudHMudHJpZ2dlckV2ZW50KCJhZGRlZCIse21hcDp0aGlzLGxheWVyOmF9KTthLmFmdGVyQWRkKCk7cmV0dXJuITB9LGFkZExheWVyczpmdW5jdGlvbihhKXtmb3IodmFyIGI9CjAsYz1hLmxlbmd0aDtiPGM7YisrKXRoaXMuYWRkTGF5ZXIoYVtiXSl9LHJlbW92ZUxheWVyOmZ1bmN0aW9uKGEsYil7aWYoITEhPT10aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoInByZXJlbW92ZWxheWVyIix7bGF5ZXI6YX0pKXtudWxsPT1iJiYoYj0hMCk7YS5pc0ZpeGVkP3RoaXMudmlld1BvcnREaXYucmVtb3ZlQ2hpbGQoYS5kaXYpOnRoaXMubGF5ZXJDb250YWluZXJEaXYucmVtb3ZlQ2hpbGQoYS5kaXYpO09wZW5MYXllcnMuVXRpbC5yZW1vdmVJdGVtKHRoaXMubGF5ZXJzLGEpO2EucmVtb3ZlTWFwKHRoaXMpO2EubWFwPW51bGw7aWYodGhpcy5iYXNlTGF5ZXI9PWEmJih0aGlzLmJhc2VMYXllcj1udWxsLGIpKWZvcih2YXIgYz0wLGQ9dGhpcy5sYXllcnMubGVuZ3RoO2M8ZDtjKyspe3ZhciBlPXRoaXMubGF5ZXJzW2NdO2lmKGUuaXNCYXNlTGF5ZXJ8fHRoaXMuYWxsT3ZlcmxheXMpe3RoaXMuc2V0QmFzZUxheWVyKGUpO2JyZWFrfX10aGlzLnJlc2V0TGF5ZXJzWkluZGV4KCk7CnRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgicmVtb3ZlbGF5ZXIiLHtsYXllcjphfSk7YS5ldmVudHMudHJpZ2dlckV2ZW50KCJyZW1vdmVkIix7bWFwOnRoaXMsbGF5ZXI6YX0pfX0sZ2V0TnVtTGF5ZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGF5ZXJzLmxlbmd0aH0sZ2V0TGF5ZXJJbmRleDpmdW5jdGlvbihhKXtyZXR1cm4gT3BlbkxheWVycy5VdGlsLmluZGV4T2YodGhpcy5sYXllcnMsYSl9LHNldExheWVySW5kZXg6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldExheWVySW5kZXgoYSk7MD5iP2I9MDpiPnRoaXMubGF5ZXJzLmxlbmd0aCYmKGI9dGhpcy5sYXllcnMubGVuZ3RoKTtpZihjIT1iKXt0aGlzLmxheWVycy5zcGxpY2UoYywxKTt0aGlzLmxheWVycy5zcGxpY2UoYiwwLGEpO2Zvcih2YXIgYz0wLGQ9dGhpcy5sYXllcnMubGVuZ3RoO2M8ZDtjKyspdGhpcy5zZXRMYXllclpJbmRleCh0aGlzLmxheWVyc1tjXSxjKTt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImNoYW5nZWxheWVyIiwKe2xheWVyOmEscHJvcGVydHk6Im9yZGVyIn0pO3RoaXMuYWxsT3ZlcmxheXMmJigwPT09Yj90aGlzLnNldEJhc2VMYXllcihhKTp0aGlzLmJhc2VMYXllciE9PXRoaXMubGF5ZXJzWzBdJiZ0aGlzLnNldEJhc2VMYXllcih0aGlzLmxheWVyc1swXSkpfX0scmFpc2VMYXllcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0TGF5ZXJJbmRleChhKStiO3RoaXMuc2V0TGF5ZXJJbmRleChhLGMpfSxzZXRCYXNlTGF5ZXI6ZnVuY3Rpb24oYSl7aWYoYSE9dGhpcy5iYXNlTGF5ZXImJi0xIT1PcGVuTGF5ZXJzLlV0aWwuaW5kZXhPZih0aGlzLmxheWVycyxhKSl7dmFyIGI9dGhpcy5nZXRDYWNoZWRDZW50ZXIoKSxjPU9wZW5MYXllcnMuVXRpbC5nZXRSZXNvbHV0aW9uRnJvbVNjYWxlKHRoaXMuZ2V0U2NhbGUoKSxhLnVuaXRzKTtudWxsIT10aGlzLmJhc2VMYXllciYmIXRoaXMuYWxsT3ZlcmxheXMmJnRoaXMuYmFzZUxheWVyLnNldFZpc2liaWxpdHkoITEpO3RoaXMuYmFzZUxheWVyPWE7CmlmKCF0aGlzLmFsbE92ZXJsYXlzfHx0aGlzLmJhc2VMYXllci52aXNpYmlsaXR5KXRoaXMuYmFzZUxheWVyLnNldFZpc2liaWxpdHkoITApLCExPT09dGhpcy5iYXNlTGF5ZXIuaW5SYW5nZSYmdGhpcy5iYXNlTGF5ZXIucmVkcmF3KCk7bnVsbCE9YiYmKGE9dGhpcy5nZXRab29tRm9yUmVzb2x1dGlvbihjfHx0aGlzLnJlc29sdXRpb24sITApLHRoaXMuc2V0Q2VudGVyKGIsYSwhMSwhMCkpO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiY2hhbmdlYmFzZWxheWVyIix7bGF5ZXI6dGhpcy5iYXNlTGF5ZXJ9KX19LGFkZENvbnRyb2w6ZnVuY3Rpb24oYSxiKXt0aGlzLmNvbnRyb2xzLnB1c2goYSk7dGhpcy5hZGRDb250cm9sVG9NYXAoYSxiKX0sYWRkQ29udHJvbHM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MT09PWFyZ3VtZW50cy5sZW5ndGg/W106YixkPTAsZT1hLmxlbmd0aDtkPGU7ZCsrKXRoaXMuYWRkQ29udHJvbChhW2RdLGNbZF0/Y1tkXTpudWxsKX0sYWRkQ29udHJvbFRvTWFwOmZ1bmN0aW9uKGEsCmIpe2Eub3V0c2lkZVZpZXdwb3J0PW51bGwhPWEuZGl2O3RoaXMuZGlzcGxheVByb2plY3Rpb24mJiFhLmRpc3BsYXlQcm9qZWN0aW9uJiYoYS5kaXNwbGF5UHJvamVjdGlvbj10aGlzLmRpc3BsYXlQcm9qZWN0aW9uKTthLnNldE1hcCh0aGlzKTt2YXIgYz1hLmRyYXcoYik7YyYmIWEub3V0c2lkZVZpZXdwb3J0JiYoYy5zdHlsZS56SW5kZXg9dGhpcy5aX0lOREVYX0JBU0UuQ29udHJvbCt0aGlzLmNvbnRyb2xzLmxlbmd0aCx0aGlzLnZpZXdQb3J0RGl2LmFwcGVuZENoaWxkKGMpKTthLmF1dG9BY3RpdmF0ZSYmYS5hY3RpdmF0ZSgpfSxnZXRDb250cm9sOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1udWxsLGM9MCxkPXRoaXMuY29udHJvbHMubGVuZ3RoO2M8ZDtjKyspe3ZhciBlPXRoaXMuY29udHJvbHNbY107aWYoZS5pZD09YSl7Yj1lO2JyZWFrfX1yZXR1cm4gYn0scmVtb3ZlQ29udHJvbDpmdW5jdGlvbihhKXthJiZhPT10aGlzLmdldENvbnRyb2woYS5pZCkmJihhLmRpdiYmYS5kaXYucGFyZW50Tm9kZT09CnRoaXMudmlld1BvcnREaXYmJnRoaXMudmlld1BvcnREaXYucmVtb3ZlQ2hpbGQoYS5kaXYpLE9wZW5MYXllcnMuVXRpbC5yZW1vdmVJdGVtKHRoaXMuY29udHJvbHMsYSkpfSxhZGRQb3B1cDpmdW5jdGlvbihhLGIpe2lmKGIpZm9yKHZhciBjPXRoaXMucG9wdXBzLmxlbmd0aC0xOzA8PWM7LS1jKXRoaXMucmVtb3ZlUG9wdXAodGhpcy5wb3B1cHNbY10pO2EubWFwPXRoaXM7dGhpcy5wb3B1cHMucHVzaChhKTtpZihjPWEuZHJhdygpKWMuc3R5bGUuekluZGV4PXRoaXMuWl9JTkRFWF9CQVNFLlBvcHVwK3RoaXMucG9wdXBzLmxlbmd0aCx0aGlzLmxheWVyQ29udGFpbmVyRGl2LmFwcGVuZENoaWxkKGMpfSxyZW1vdmVQb3B1cDpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlV0aWwucmVtb3ZlSXRlbSh0aGlzLnBvcHVwcyxhKTtpZihhLmRpdil0cnl7dGhpcy5sYXllckNvbnRhaW5lckRpdi5yZW1vdmVDaGlsZChhLmRpdil9Y2F0Y2goYil7fWEubWFwPW51bGx9LGdldFNpemU6ZnVuY3Rpb24oKXt2YXIgYT0KbnVsbDtudWxsIT10aGlzLnNpemUmJihhPXRoaXMuc2l6ZS5jbG9uZSgpKTtyZXR1cm4gYX0sdXBkYXRlU2l6ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Q3VycmVudFNpemUoKTtpZihhJiYhaXNOYU4oYS5oKSYmIWlzTmFOKGEudykpe3RoaXMuZXZlbnRzLmNsZWFyTW91c2VDYWNoZSgpO3ZhciBiPXRoaXMuZ2V0U2l6ZSgpO251bGw9PWImJih0aGlzLnNpemU9Yj1hKTtpZighYS5lcXVhbHMoYikpe3RoaXMuc2l6ZT1hO2E9MDtmb3IoYj10aGlzLmxheWVycy5sZW5ndGg7YTxiO2ErKyl0aGlzLmxheWVyc1thXS5vbk1hcFJlc2l6ZSgpO2E9dGhpcy5nZXRDYWNoZWRDZW50ZXIoKTtudWxsIT10aGlzLmJhc2VMYXllciYmbnVsbCE9YSYmKGI9dGhpcy5nZXRab29tKCksdGhpcy56b29tPW51bGwsdGhpcy5zZXRDZW50ZXIoYSxiKSl9fXRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgidXBkYXRlc2l6ZSIpfSxnZXRDdXJyZW50U2l6ZTpmdW5jdGlvbigpe3ZhciBhPW5ldyBPcGVuTGF5ZXJzLlNpemUodGhpcy5kaXYuY2xpZW50V2lkdGgsCnRoaXMuZGl2LmNsaWVudEhlaWdodCk7aWYoMD09YS53JiYwPT1hLmh8fGlzTmFOKGEudykmJmlzTmFOKGEuaCkpYS53PXRoaXMuZGl2Lm9mZnNldFdpZHRoLGEuaD10aGlzLmRpdi5vZmZzZXRIZWlnaHQ7aWYoMD09YS53JiYwPT1hLmh8fGlzTmFOKGEudykmJmlzTmFOKGEuaCkpYS53PXBhcnNlSW50KHRoaXMuZGl2LnN0eWxlLndpZHRoKSxhLmg9cGFyc2VJbnQodGhpcy5kaXYuc3R5bGUuaGVpZ2h0KTtyZXR1cm4gYX0sY2FsY3VsYXRlQm91bmRzOmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtudWxsPT1hJiYoYT10aGlzLmdldENhY2hlZENlbnRlcigpKTtudWxsPT1iJiYoYj10aGlzLmdldFJlc29sdXRpb24oKSk7aWYobnVsbCE9YSYmbnVsbCE9Yil2YXIgYz10aGlzLnNpemUudypiLzIsZD10aGlzLnNpemUuaCpiLzIsYz1uZXcgT3BlbkxheWVycy5Cb3VuZHMoYS5sb24tYyxhLmxhdC1kLGEubG9uK2MsYS5sYXQrZCk7cmV0dXJuIGN9LGdldENlbnRlcjpmdW5jdGlvbigpe3ZhciBhPQpudWxsLGI9dGhpcy5nZXRDYWNoZWRDZW50ZXIoKTtiJiYoYT1iLmNsb25lKCkpO3JldHVybiBhfSxnZXRDYWNoZWRDZW50ZXI6ZnVuY3Rpb24oKXshdGhpcy5jZW50ZXImJnRoaXMuc2l6ZSYmKHRoaXMuY2VudGVyPXRoaXMuZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHgoe3g6dGhpcy5zaXplLncvMix5OnRoaXMuc2l6ZS5oLzJ9KSk7cmV0dXJuIHRoaXMuY2VudGVyfSxnZXRab29tOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuem9vbX0scGFuOmZ1bmN0aW9uKGEsYixjKXtjPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGMse2FuaW1hdGU6ITAsZHJhZ2dpbmc6ITF9KTtpZihjLmRyYWdnaW5nKSgwIT1hfHwwIT1iKSYmdGhpcy5tb3ZlQnlQeChhLGIpO2Vsc2V7dmFyIGQ9dGhpcy5nZXRWaWV3UG9ydFB4RnJvbUxvbkxhdCh0aGlzLmdldENhY2hlZENlbnRlcigpKSxhPWQuYWRkKGEsYik7aWYodGhpcy5kcmFnZ2luZ3x8IWEuZXF1YWxzKGQpKWQ9dGhpcy5nZXRMb25MYXRGcm9tVmlld1BvcnRQeChhKSwKYy5hbmltYXRlP3RoaXMucGFuVG8oZCk6KHRoaXMubW92ZVRvKGQpLHRoaXMuZHJhZ2dpbmcmJih0aGlzLmRyYWdnaW5nPSExLHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgibW92ZWVuZCIpKSl9fSxwYW5UbzpmdW5jdGlvbihhKXtpZih0aGlzLnBhblR3ZWVuJiZ0aGlzLmdldEV4dGVudCgpLnNjYWxlKHRoaXMucGFuUmF0aW8pLmNvbnRhaW5zTG9uTGF0KGEpKXt2YXIgYj10aGlzLmdldENhY2hlZENlbnRlcigpO2lmKCFhLmVxdWFscyhiKSl7dmFyIGI9dGhpcy5nZXRQaXhlbEZyb21Mb25MYXQoYiksYz10aGlzLmdldFBpeGVsRnJvbUxvbkxhdChhKSxkPTAsZT0wO3RoaXMucGFuVHdlZW4uc3RhcnQoe3g6MCx5OjB9LHt4OmMueC1iLngseTpjLnktYi55fSx0aGlzLnBhbkR1cmF0aW9uLHtjYWxsYmFja3M6e2VhY2hTdGVwOk9wZW5MYXllcnMuRnVuY3Rpb24uYmluZChmdW5jdGlvbihhKXt0aGlzLm1vdmVCeVB4KGEueC1kLGEueS1lKTtkPU1hdGgucm91bmQoYS54KTtlPU1hdGgucm91bmQoYS55KX0sCnRoaXMpLGRvbmU6T3BlbkxheWVycy5GdW5jdGlvbi5iaW5kKGZ1bmN0aW9uKCl7dGhpcy5tb3ZlVG8oYSk7dGhpcy5kcmFnZ2luZz0hMTt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoIm1vdmVlbmQiKX0sdGhpcyl9fSl9fWVsc2UgdGhpcy5zZXRDZW50ZXIoYSl9LHNldENlbnRlcjpmdW5jdGlvbihhLGIsYyxkKXt0aGlzLnBhblR3ZWVuJiZ0aGlzLnBhblR3ZWVuLnN0b3AoKTt0aGlzLnpvb21Ud2VlbiYmdGhpcy56b29tVHdlZW4uc3RvcCgpO3RoaXMubW92ZVRvKGEsYix7ZHJhZ2dpbmc6Yyxmb3JjZVpvb21DaGFuZ2U6ZH0pfSxtb3ZlQnlQeDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuc2l6ZS53LzIsZD10aGlzLnNpemUuaC8yLGU9YythLGY9ZCtiLGc9dGhpcy5iYXNlTGF5ZXIud3JhcERhdGVMaW5lLGg9MCxpPTA7dGhpcy5yZXN0cmljdGVkRXh0ZW50JiYoaD1jLGk9ZCxnPSExKTthPWd8fGU8PXRoaXMubWF4UHgueC1oJiZlPj10aGlzLm1pblB4LngraD9NYXRoLnJvdW5kKGEpOgowO2I9Zjw9dGhpcy5tYXhQeC55LWkmJmY+PXRoaXMubWluUHgueStpP01hdGgucm91bmQoYik6MDtpZihhfHxiKXt0aGlzLmRyYWdnaW5nfHwodGhpcy5kcmFnZ2luZz0hMCx0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoIm1vdmVzdGFydCIpKTt0aGlzLmNlbnRlcj1udWxsO2EmJih0aGlzLmxheWVyQ29udGFpbmVyT3JpZ2luUHgueC09YSx0aGlzLm1pblB4LngtPWEsdGhpcy5tYXhQeC54LT1hKTtiJiYodGhpcy5sYXllckNvbnRhaW5lck9yaWdpblB4LnktPWIsdGhpcy5taW5QeC55LT1iLHRoaXMubWF4UHgueS09Yik7dGhpcy5hcHBseVRyYW5zZm9ybSgpO2Q9MDtmb3IoZT10aGlzLmxheWVycy5sZW5ndGg7ZDxlOysrZClpZihjPXRoaXMubGF5ZXJzW2RdLGMudmlzaWJpbGl0eSYmKGM9PT10aGlzLmJhc2VMYXllcnx8Yy5pblJhbmdlKSljLm1vdmVCeVB4KGEsYiksYy5ldmVudHMudHJpZ2dlckV2ZW50KCJtb3ZlIik7dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJtb3ZlIil9fSwKYWRqdXN0Wm9vbTpmdW5jdGlvbihhKXtpZih0aGlzLmJhc2VMYXllciYmdGhpcy5iYXNlTGF5ZXIud3JhcERhdGVMaW5lKXt2YXIgYj10aGlzLmJhc2VMYXllci5yZXNvbHV0aW9ucyxjPXRoaXMuZ2V0TWF4RXh0ZW50KCkuZ2V0V2lkdGgoKS90aGlzLnNpemUudztpZih0aGlzLmdldFJlc29sdXRpb25Gb3Jab29tKGEpPmMpaWYodGhpcy5mcmFjdGlvbmFsWm9vbSlhPXRoaXMuZ2V0Wm9vbUZvclJlc29sdXRpb24oYyk7ZWxzZSBmb3IodmFyIGQ9YXwwLGU9Yi5sZW5ndGg7ZDxlOysrZClpZihiW2RdPD1jKXthPWQ7YnJlYWt9fXJldHVybiBhfSxnZXRNaW5ab29tOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWRqdXN0Wm9vbSgwKX0sbW92ZVRvOmZ1bmN0aW9uKGEsYixjKXtudWxsIT1hJiYhKGEgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkxvbkxhdCkmJihhPW5ldyBPcGVuTGF5ZXJzLkxvbkxhdChhKSk7Y3x8KGM9e30pO251bGwhPWImJihiPXBhcnNlRmxvYXQoYiksdGhpcy5mcmFjdGlvbmFsWm9vbXx8CihiPU1hdGgucm91bmQoYikpKTt2YXIgZD1iLGI9dGhpcy5hZGp1c3Rab29tKGIpO2IhPT1kJiYoYT10aGlzLmdldENlbnRlcigpKTt2YXIgZD1jLmRyYWdnaW5nfHx0aGlzLmRyYWdnaW5nLGU9Yy5mb3JjZVpvb21DaGFuZ2U7IXRoaXMuZ2V0Q2FjaGVkQ2VudGVyKCkmJiF0aGlzLmlzVmFsaWRMb25MYXQoYSkmJihhPXRoaXMubWF4RXh0ZW50LmdldENlbnRlckxvbkxhdCgpLHRoaXMuY2VudGVyPWEuY2xvbmUoKSk7aWYobnVsbCE9dGhpcy5yZXN0cmljdGVkRXh0ZW50KXtudWxsPT1hJiYoYT10aGlzLmNlbnRlcik7bnVsbD09YiYmKGI9dGhpcy5nZXRab29tKCkpO3ZhciBmPXRoaXMuZ2V0UmVzb2x1dGlvbkZvclpvb20oYiksZj10aGlzLmNhbGN1bGF0ZUJvdW5kcyhhLGYpO2lmKCF0aGlzLnJlc3RyaWN0ZWRFeHRlbnQuY29udGFpbnNCb3VuZHMoZikpe3ZhciBnPXRoaXMucmVzdHJpY3RlZEV4dGVudC5nZXRDZW50ZXJMb25MYXQoKTtmLmdldFdpZHRoKCk+dGhpcy5yZXN0cmljdGVkRXh0ZW50LmdldFdpZHRoKCk/CmE9bmV3IE9wZW5MYXllcnMuTG9uTGF0KGcubG9uLGEubGF0KTpmLmxlZnQ8dGhpcy5yZXN0cmljdGVkRXh0ZW50LmxlZnQ/YT1hLmFkZCh0aGlzLnJlc3RyaWN0ZWRFeHRlbnQubGVmdC1mLmxlZnQsMCk6Zi5yaWdodD50aGlzLnJlc3RyaWN0ZWRFeHRlbnQucmlnaHQmJihhPWEuYWRkKHRoaXMucmVzdHJpY3RlZEV4dGVudC5yaWdodC1mLnJpZ2h0LDApKTtmLmdldEhlaWdodCgpPnRoaXMucmVzdHJpY3RlZEV4dGVudC5nZXRIZWlnaHQoKT9hPW5ldyBPcGVuTGF5ZXJzLkxvbkxhdChhLmxvbixnLmxhdCk6Zi5ib3R0b208dGhpcy5yZXN0cmljdGVkRXh0ZW50LmJvdHRvbT9hPWEuYWRkKDAsdGhpcy5yZXN0cmljdGVkRXh0ZW50LmJvdHRvbS1mLmJvdHRvbSk6Zi50b3A+dGhpcy5yZXN0cmljdGVkRXh0ZW50LnRvcCYmKGE9YS5hZGQoMCx0aGlzLnJlc3RyaWN0ZWRFeHRlbnQudG9wLWYudG9wKSl9fWU9ZXx8dGhpcy5pc1ZhbGlkWm9vbUxldmVsKGIpJiZiIT10aGlzLmdldFpvb20oKTsKZj10aGlzLmlzVmFsaWRMb25MYXQoYSkmJiFhLmVxdWFscyh0aGlzLmNlbnRlcik7aWYoZXx8Znx8ZCl7ZHx8dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJtb3Zlc3RhcnQiLHt6b29tQ2hhbmdlZDplfSk7ZiYmKCFlJiZ0aGlzLmNlbnRlciYmdGhpcy5jZW50ZXJMYXllckNvbnRhaW5lcihhKSx0aGlzLmNlbnRlcj1hLmNsb25lKCkpO2E9ZT90aGlzLmdldFJlc29sdXRpb25Gb3Jab29tKGIpOnRoaXMuZ2V0UmVzb2x1dGlvbigpO2lmKGV8fG51bGw9PXRoaXMubGF5ZXJDb250YWluZXJPcmlnaW4pe3RoaXMubGF5ZXJDb250YWluZXJPcmlnaW49dGhpcy5nZXRDYWNoZWRDZW50ZXIoKTt0aGlzLmxheWVyQ29udGFpbmVyT3JpZ2luUHgueD0wO3RoaXMubGF5ZXJDb250YWluZXJPcmlnaW5QeC55PTA7dGhpcy5hcHBseVRyYW5zZm9ybSgpO3ZhciBmPXRoaXMuZ2V0TWF4RXh0ZW50KHtyZXN0cmljdGVkOiEwfSksaD1mLmdldENlbnRlckxvbkxhdCgpLGc9dGhpcy5jZW50ZXIubG9uLWgubG9uLApoPWgubGF0LXRoaXMuY2VudGVyLmxhdCxpPU1hdGgucm91bmQoZi5nZXRXaWR0aCgpL2EpLGo9TWF0aC5yb3VuZChmLmdldEhlaWdodCgpL2EpO3RoaXMubWluUHg9e3g6KHRoaXMuc2l6ZS53LWkpLzItZy9hLHk6KHRoaXMuc2l6ZS5oLWopLzItaC9hfTt0aGlzLm1heFB4PXt4OnRoaXMubWluUHgueCtNYXRoLnJvdW5kKGYuZ2V0V2lkdGgoKS9hKSx5OnRoaXMubWluUHgueStNYXRoLnJvdW5kKGYuZ2V0SGVpZ2h0KCkvYSl9fWUmJih0aGlzLnpvb209Yix0aGlzLnJlc29sdXRpb249YSk7YT10aGlzLmdldEV4dGVudCgpO3RoaXMuYmFzZUxheWVyLnZpc2liaWxpdHkmJih0aGlzLmJhc2VMYXllci5tb3ZlVG8oYSxlLGMuZHJhZ2dpbmcpLGMuZHJhZ2dpbmd8fHRoaXMuYmFzZUxheWVyLmV2ZW50cy50cmlnZ2VyRXZlbnQoIm1vdmVlbmQiLHt6b29tQ2hhbmdlZDplfSkpO2E9dGhpcy5iYXNlTGF5ZXIuZ2V0RXh0ZW50KCk7Zm9yKGI9dGhpcy5sYXllcnMubGVuZ3RoLTE7MDw9YjstLWIpZj0KdGhpcy5sYXllcnNbYl0sZiE9PXRoaXMuYmFzZUxheWVyJiYhZi5pc0Jhc2VMYXllciYmKGc9Zi5jYWxjdWxhdGVJblJhbmdlKCksZi5pblJhbmdlIT1nJiYoKGYuaW5SYW5nZT1nKXx8Zi5kaXNwbGF5KCExKSx0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImNoYW5nZWxheWVyIix7bGF5ZXI6Zixwcm9wZXJ0eToidmlzaWJpbGl0eSJ9KSksZyYmZi52aXNpYmlsaXR5JiYoZi5tb3ZlVG8oYSxlLGMuZHJhZ2dpbmcpLGMuZHJhZ2dpbmd8fGYuZXZlbnRzLnRyaWdnZXJFdmVudCgibW92ZWVuZCIse3pvb21DaGFuZ2VkOmV9KSkpO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgibW92ZSIpO2R8fHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgibW92ZWVuZCIpO2lmKGUpe2I9MDtmb3IoYz10aGlzLnBvcHVwcy5sZW5ndGg7YjxjO2IrKyl0aGlzLnBvcHVwc1tiXS51cGRhdGVQb3NpdGlvbigpO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiem9vbWVuZCIpfX19LGNlbnRlckxheWVyQ29udGFpbmVyOmZ1bmN0aW9uKGEpe3ZhciBiPQp0aGlzLmdldFZpZXdQb3J0UHhGcm9tTG9uTGF0KHRoaXMubGF5ZXJDb250YWluZXJPcmlnaW4pLGM9dGhpcy5nZXRWaWV3UG9ydFB4RnJvbUxvbkxhdChhKTtpZihudWxsIT1iJiZudWxsIT1jKXt2YXIgZD10aGlzLmxheWVyQ29udGFpbmVyT3JpZ2luUHgueCxhPXRoaXMubGF5ZXJDb250YWluZXJPcmlnaW5QeC55LGU9TWF0aC5yb3VuZChiLngtYy54KSxiPU1hdGgucm91bmQoYi55LWMueSk7dGhpcy5hcHBseVRyYW5zZm9ybSh0aGlzLmxheWVyQ29udGFpbmVyT3JpZ2luUHgueD1lLHRoaXMubGF5ZXJDb250YWluZXJPcmlnaW5QeC55PWIpO2QtPWU7YS09Yjt0aGlzLm1pblB4LngtPWQ7dGhpcy5tYXhQeC54LT1kO3RoaXMubWluUHgueS09YTt0aGlzLm1heFB4LnktPWF9fSxpc1ZhbGlkWm9vbUxldmVsOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiYwPD1hJiZhPHRoaXMuZ2V0TnVtWm9vbUxldmVscygpfSxpc1ZhbGlkTG9uTGF0OmZ1bmN0aW9uKGEpe3ZhciBiPSExO251bGwhPQphJiYoYj10aGlzLmdldE1heEV4dGVudCgpLGI9Yi5jb250YWluc0xvbkxhdChhLHt3b3JsZEJvdW5kczp0aGlzLmJhc2VMYXllci53cmFwRGF0ZUxpbmUmJmJ9KSk7cmV0dXJuIGJ9LGdldFByb2plY3Rpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFByb2plY3Rpb25PYmplY3QoKTtyZXR1cm4gYT9hLmdldENvZGUoKTpudWxsfSxnZXRQcm9qZWN0aW9uT2JqZWN0OmZ1bmN0aW9uKCl7dmFyIGE9bnVsbDtudWxsIT10aGlzLmJhc2VMYXllciYmKGE9dGhpcy5iYXNlTGF5ZXIucHJvamVjdGlvbik7cmV0dXJuIGF9LGdldE1heFJlc29sdXRpb246ZnVuY3Rpb24oKXt2YXIgYT1udWxsO251bGwhPXRoaXMuYmFzZUxheWVyJiYoYT10aGlzLmJhc2VMYXllci5tYXhSZXNvbHV0aW9uKTtyZXR1cm4gYX0sZ2V0TWF4RXh0ZW50OmZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7YSYmYS5yZXN0cmljdGVkJiZ0aGlzLnJlc3RyaWN0ZWRFeHRlbnQ/Yj10aGlzLnJlc3RyaWN0ZWRFeHRlbnQ6bnVsbCE9CnRoaXMuYmFzZUxheWVyJiYoYj10aGlzLmJhc2VMYXllci5tYXhFeHRlbnQpO3JldHVybiBifSxnZXROdW1ab29tTGV2ZWxzOmZ1bmN0aW9uKCl7dmFyIGE9bnVsbDtudWxsIT10aGlzLmJhc2VMYXllciYmKGE9dGhpcy5iYXNlTGF5ZXIubnVtWm9vbUxldmVscyk7cmV0dXJuIGF9LGdldEV4dGVudDpmdW5jdGlvbigpe3ZhciBhPW51bGw7bnVsbCE9dGhpcy5iYXNlTGF5ZXImJihhPXRoaXMuYmFzZUxheWVyLmdldEV4dGVudCgpKTtyZXR1cm4gYX0sZ2V0UmVzb2x1dGlvbjpmdW5jdGlvbigpe3ZhciBhPW51bGw7bnVsbCE9dGhpcy5iYXNlTGF5ZXI/YT10aGlzLmJhc2VMYXllci5nZXRSZXNvbHV0aW9uKCk6ITA9PT10aGlzLmFsbE92ZXJsYXlzJiYwPHRoaXMubGF5ZXJzLmxlbmd0aCYmKGE9dGhpcy5sYXllcnNbMF0uZ2V0UmVzb2x1dGlvbigpKTtyZXR1cm4gYX0sZ2V0VW5pdHM6ZnVuY3Rpb24oKXt2YXIgYT1udWxsO251bGwhPXRoaXMuYmFzZUxheWVyJiYoYT10aGlzLmJhc2VMYXllci51bml0cyk7CnJldHVybiBhfSxnZXRTY2FsZTpmdW5jdGlvbigpe3ZhciBhPW51bGw7bnVsbCE9dGhpcy5iYXNlTGF5ZXImJihhPXRoaXMuZ2V0UmVzb2x1dGlvbigpLGE9T3BlbkxheWVycy5VdGlsLmdldFNjYWxlRnJvbVJlc29sdXRpb24oYSx0aGlzLmJhc2VMYXllci51bml0cykpO3JldHVybiBhfSxnZXRab29tRm9yRXh0ZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtudWxsIT10aGlzLmJhc2VMYXllciYmKGM9dGhpcy5iYXNlTGF5ZXIuZ2V0Wm9vbUZvckV4dGVudChhLGIpKTtyZXR1cm4gY30sZ2V0UmVzb2x1dGlvbkZvclpvb206ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDt0aGlzLmJhc2VMYXllciYmKGI9dGhpcy5iYXNlTGF5ZXIuZ2V0UmVzb2x1dGlvbkZvclpvb20oYSkpO3JldHVybiBifSxnZXRab29tRm9yUmVzb2x1dGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjPW51bGw7bnVsbCE9dGhpcy5iYXNlTGF5ZXImJihjPXRoaXMuYmFzZUxheWVyLmdldFpvb21Gb3JSZXNvbHV0aW9uKGEsYikpOwpyZXR1cm4gY30sem9vbVRvOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztpZihjLmlzVmFsaWRab29tTGV2ZWwoYSkpaWYoYy5iYXNlTGF5ZXIud3JhcERhdGVMaW5lJiYoYT1jLmFkanVzdFpvb20oYSkpLGMuem9vbVR3ZWVuKXt2YXIgZD1jLmdldFJlc29sdXRpb24oKSxlPWMuZ2V0UmVzb2x1dGlvbkZvclpvb20oYSksZj17c2NhbGU6MX0sZD17c2NhbGU6ZC9lfTtjLnpvb21Ud2Vlbi5wbGF5aW5nJiZjLnpvb21Ud2Vlbi5kdXJhdGlvbjwzKmMuem9vbUR1cmF0aW9uP2Muem9vbVR3ZWVuLmZpbmlzaD17c2NhbGU6Yy56b29tVHdlZW4uZmluaXNoLnNjYWxlKmQuc2NhbGV9OihifHwoZT1jLmdldFNpemUoKSxiPXt4OmUudy8yLHk6ZS5oLzJ9KSxjLnpvb21Ud2Vlbi5zdGFydChmLGQsYy56b29tRHVyYXRpb24se21pbkZyYW1lUmF0ZTo1MCxjYWxsYmFja3M6e2VhY2hTdGVwOmZ1bmN0aW9uKGEpe3ZhciBkPWMubGF5ZXJDb250YWluZXJPcmlnaW5QeCxhPWEuc2NhbGU7Yy5hcHBseVRyYW5zZm9ybShkLngrCigoYS0xKSooZC54LWIueCl8MCksZC55KygoYS0xKSooZC55LWIueSl8MCksYSl9LGRvbmU6ZnVuY3Rpb24oYSl7Yy5hcHBseVRyYW5zZm9ybSgpO3ZhciBhPWMuZ2V0UmVzb2x1dGlvbigpL2Euc2NhbGUsZD1jLmdldFpvb21Gb3JSZXNvbHV0aW9uKGEsITApO2MubW92ZVRvKGMuZ2V0Wm9vbVRhcmdldENlbnRlcihiLGEpLGQsITApfX19KSl9ZWxzZSBmPWI/Yy5nZXRab29tVGFyZ2V0Q2VudGVyKGIsYy5nZXRSZXNvbHV0aW9uRm9yWm9vbShhKSk6bnVsbCxjLnNldENlbnRlcihmLGEpfSx6b29tSW46ZnVuY3Rpb24oKXt0aGlzLnpvb21Ubyh0aGlzLmdldFpvb20oKSsxKX0sem9vbU91dDpmdW5jdGlvbigpe3RoaXMuem9vbVRvKHRoaXMuZ2V0Wm9vbSgpLTEpfSx6b29tVG9FeHRlbnQ6ZnVuY3Rpb24oYSxiKXthIGluc3RhbmNlb2YgT3BlbkxheWVycy5Cb3VuZHN8fChhPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhhKSk7dmFyIGM9YS5nZXRDZW50ZXJMb25MYXQoKTtpZih0aGlzLmJhc2VMYXllci53cmFwRGF0ZUxpbmUpe2M9CnRoaXMuZ2V0TWF4RXh0ZW50KCk7Zm9yKGE9YS5jbG9uZSgpO2EucmlnaHQ8YS5sZWZ0OylhLnJpZ2h0Kz1jLmdldFdpZHRoKCk7Yz1hLmdldENlbnRlckxvbkxhdCgpLndyYXBEYXRlTGluZShjKX10aGlzLnNldENlbnRlcihjLHRoaXMuZ2V0Wm9vbUZvckV4dGVudChhLGIpKX0sem9vbVRvTWF4RXh0ZW50OmZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRNYXhFeHRlbnQoe3Jlc3RyaWN0ZWQ6YT9hLnJlc3RyaWN0ZWQ6ITB9KTt0aGlzLnpvb21Ub0V4dGVudChhKX0sem9vbVRvU2NhbGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1PcGVuTGF5ZXJzLlV0aWwuZ2V0UmVzb2x1dGlvbkZyb21TY2FsZShhLHRoaXMuYmFzZUxheWVyLnVuaXRzKSxkPXRoaXMuc2l6ZS53KmMvMixjPXRoaXMuc2l6ZS5oKmMvMixlPXRoaXMuZ2V0Q2FjaGVkQ2VudGVyKCksZD1uZXcgT3BlbkxheWVycy5Cb3VuZHMoZS5sb24tZCxlLmxhdC1jLGUubG9uK2QsZS5sYXQrYyk7dGhpcy56b29tVG9FeHRlbnQoZCxiKX0sZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHg6ZnVuY3Rpb24oYSl7dmFyIGI9Cm51bGw7bnVsbCE9dGhpcy5iYXNlTGF5ZXImJihiPXRoaXMuYmFzZUxheWVyLmdldExvbkxhdEZyb21WaWV3UG9ydFB4KGEpKTtyZXR1cm4gYn0sZ2V0Vmlld1BvcnRQeEZyb21Mb25MYXQ6ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtudWxsIT10aGlzLmJhc2VMYXllciYmKGI9dGhpcy5iYXNlTGF5ZXIuZ2V0Vmlld1BvcnRQeEZyb21Mb25MYXQoYSkpO3JldHVybiBifSxnZXRab29tVGFyZ2V0Q2VudGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbCxkPXRoaXMuZ2V0U2l6ZSgpLGU9ZC53LzItYS54LGQ9YS55LWQuaC8yLGY9dGhpcy5nZXRMb25MYXRGcm9tUGl4ZWwoYSk7ZiYmKGM9bmV3IE9wZW5MYXllcnMuTG9uTGF0KGYubG9uK2UqYixmLmxhdCtkKmIpKTtyZXR1cm4gY30sZ2V0TG9uTGF0RnJvbVBpeGVsOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldExvbkxhdEZyb21WaWV3UG9ydFB4KGEpfSxnZXRQaXhlbEZyb21Mb25MYXQ6ZnVuY3Rpb24oYSl7YT10aGlzLmdldFZpZXdQb3J0UHhGcm9tTG9uTGF0KGEpOwphLng9TWF0aC5yb3VuZChhLngpO2EueT1NYXRoLnJvdW5kKGEueSk7cmV0dXJuIGF9LGdldEdlb2Rlc2ljUGl4ZWxTaXplOmZ1bmN0aW9uKGEpe3ZhciBiPWE/dGhpcy5nZXRMb25MYXRGcm9tUGl4ZWwoYSk6dGhpcy5nZXRDYWNoZWRDZW50ZXIoKXx8bmV3IE9wZW5MYXllcnMuTG9uTGF0KDAsMCksYz10aGlzLmdldFJlc29sdXRpb24oKSxhPWIuYWRkKC1jLzIsMCksZD1iLmFkZChjLzIsMCksZT1iLmFkZCgwLC1jLzIpLGI9Yi5hZGQoMCxjLzIpLGM9bmV3IE9wZW5MYXllcnMuUHJvamVjdGlvbigiRVBTRzo0MzI2IiksZj10aGlzLmdldFByb2plY3Rpb25PYmplY3QoKXx8YztmLmVxdWFscyhjKXx8KGEudHJhbnNmb3JtKGYsYyksZC50cmFuc2Zvcm0oZixjKSxlLnRyYW5zZm9ybShmLGMpLGIudHJhbnNmb3JtKGYsYykpO3JldHVybiBuZXcgT3BlbkxheWVycy5TaXplKE9wZW5MYXllcnMuVXRpbC5kaXN0VmluY2VudHkoYSxkKSxPcGVuTGF5ZXJzLlV0aWwuZGlzdFZpbmNlbnR5KGUsCmIpKX0sZ2V0Vmlld1BvcnRQeEZyb21MYXllclB4OmZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7bnVsbCE9YSYmKGI9YS5hZGQodGhpcy5sYXllckNvbnRhaW5lck9yaWdpblB4LngsdGhpcy5sYXllckNvbnRhaW5lck9yaWdpblB4LnkpKTtyZXR1cm4gYn0sZ2V0TGF5ZXJQeEZyb21WaWV3UG9ydFB4OmZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7aWYobnVsbCE9YSYmKGI9YS5hZGQoLXRoaXMubGF5ZXJDb250YWluZXJPcmlnaW5QeC54LC10aGlzLmxheWVyQ29udGFpbmVyT3JpZ2luUHgueSksaXNOYU4oYi54KXx8aXNOYU4oYi55KSkpYj1udWxsO3JldHVybiBifSxnZXRMb25MYXRGcm9tTGF5ZXJQeDpmdW5jdGlvbihhKXthPXRoaXMuZ2V0Vmlld1BvcnRQeEZyb21MYXllclB4KGEpO3JldHVybiB0aGlzLmdldExvbkxhdEZyb21WaWV3UG9ydFB4KGEpfSxnZXRMYXllclB4RnJvbUxvbkxhdDpmdW5jdGlvbihhKXthPXRoaXMuZ2V0UGl4ZWxGcm9tTG9uTGF0KGEpO3JldHVybiB0aGlzLmdldExheWVyUHhGcm9tVmlld1BvcnRQeChhKX0sCmFwcGx5VHJhbnNmb3JtOmZ1bmN0aW9uKGEsYixjKXt2YXIgYz1jfHwxLGQ9dGhpcy5sYXllckNvbnRhaW5lck9yaWdpblB4LGU9MSE9PWMsYT1hfHxkLngsYj1ifHxkLnksZj10aGlzLmxheWVyQ29udGFpbmVyRGl2LnN0eWxlLGc9dGhpcy5hcHBseVRyYW5zZm9ybS50cmFuc2Zvcm0saD10aGlzLmFwcGx5VHJhbnNmb3JtLnRlbXBsYXRlO2lmKHZvaWQgMD09PWcmJihnPU9wZW5MYXllcnMuVXRpbC52ZW5kb3JQcmVmaXguc3R5bGUoInRyYW5zZm9ybSIpLHRoaXMuYXBwbHlUcmFuc2Zvcm0udHJhbnNmb3JtPWcpKXt2YXIgaT1PcGVuTGF5ZXJzLkVsZW1lbnQuZ2V0U3R5bGUodGhpcy52aWV3UG9ydERpdixPcGVuTGF5ZXJzLlV0aWwudmVuZG9yUHJlZml4LmNzcygidHJhbnNmb3JtIikpO2lmKCFpfHwibm9uZSIhPT1pKWg9WyJ0cmFuc2xhdGUzZCgiLCIsMCkgIiwic2NhbGUzZCgiLCIsMSkiXSxmW2ddPVtoWzBdLCIwLDAiLGhbMV1dLmpvaW4oIiIpO2lmKCFofHwhfmZbZ10uaW5kZXhPZihoWzBdKSloPQpbInRyYW5zbGF0ZSgiLCIpICIsInNjYWxlKCIsIikiXTt0aGlzLmFwcGx5VHJhbnNmb3JtLnRlbXBsYXRlPWh9bnVsbCE9PWcmJigidHJhbnNsYXRlM2QoIj09PWhbMF18fCEwPT09ZSk/KCEwPT09ZSYmInRyYW5zbGF0ZSgiPT09aFswXSYmKGEtPWQueCxiLT1kLnksZi5sZWZ0PWQueCsicHgiLGYudG9wPWQueSsicHgiKSxmW2ddPVtoWzBdLGEsInB4LCIsYiwicHgiLGhbMV0saFsyXSxjLCIsIixjLGhbM11dLmpvaW4oIiIpKTooZi5sZWZ0PWErInB4IixmLnRvcD1iKyJweCIsbnVsbCE9PWcmJihmW2ddPSIiKSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuTWFwIn0pO09wZW5MYXllcnMuTWFwLlRJTEVfV0lEVEg9MjU2O09wZW5MYXllcnMuTWFwLlRJTEVfSEVJR0hUPTI1NjtPcGVuTGF5ZXJzLkxheWVyPU9wZW5MYXllcnMuQ2xhc3Moe2lkOm51bGwsbmFtZTpudWxsLGRpdjpudWxsLG9wYWNpdHk6MSxhbHdheXNJblJhbmdlOm51bGwsUkVTT0xVVElPTl9QUk9QRVJUSUVTOiJzY2FsZXMgcmVzb2x1dGlvbnMgbWF4U2NhbGUgbWluU2NhbGUgbWF4UmVzb2x1dGlvbiBtaW5SZXNvbHV0aW9uIG51bVpvb21MZXZlbHMgbWF4Wm9vbUxldmVsIi5zcGxpdCgiICIpLGV2ZW50czpudWxsLG1hcDpudWxsLGlzQmFzZUxheWVyOiExLGFscGhhOiExLGRpc3BsYXlJbkxheWVyU3dpdGNoZXI6ITAsdmlzaWJpbGl0eTohMCxhdHRyaWJ1dGlvbjpudWxsLGluUmFuZ2U6ITEsaW1hZ2VTaXplOm51bGwsb3B0aW9uczpudWxsLGV2ZW50TGlzdGVuZXJzOm51bGwsZ3V0dGVyOjAscHJvamVjdGlvbjpudWxsLHVuaXRzOm51bGwsc2NhbGVzOm51bGwscmVzb2x1dGlvbnM6bnVsbCxtYXhFeHRlbnQ6bnVsbCxtaW5FeHRlbnQ6bnVsbCxtYXhSZXNvbHV0aW9uOm51bGwsbWluUmVzb2x1dGlvbjpudWxsLApudW1ab29tTGV2ZWxzOm51bGwsbWluU2NhbGU6bnVsbCxtYXhTY2FsZTpudWxsLGRpc3BsYXlPdXRzaWRlTWF4RXh0ZW50OiExLHdyYXBEYXRlTGluZTohMSxtZXRhZGF0YTpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiKXt0aGlzLm1ldGFkYXRhPXt9O2I9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSxiKTtudWxsIT10aGlzLmFsd2F5c0luUmFuZ2UmJihiLmFsd2F5c0luUmFuZ2U9dGhpcy5hbHdheXNJblJhbmdlKTt0aGlzLmFkZE9wdGlvbnMoYik7dGhpcy5uYW1lPWE7aWYobnVsbD09dGhpcy5pZCYmKHRoaXMuaWQ9T3BlbkxheWVycy5VdGlsLmNyZWF0ZVVuaXF1ZUlEKHRoaXMuQ0xBU1NfTkFNRSsiXyIpLHRoaXMuZGl2PU9wZW5MYXllcnMuVXRpbC5jcmVhdGVEaXYodGhpcy5pZCksdGhpcy5kaXYuc3R5bGUud2lkdGg9IjEwMCUiLHRoaXMuZGl2LnN0eWxlLmhlaWdodD0iMTAwJSIsdGhpcy5kaXYuZGlyPSJsdHIiLHRoaXMuZXZlbnRzPW5ldyBPcGVuTGF5ZXJzLkV2ZW50cyh0aGlzLAp0aGlzLmRpdiksdGhpcy5ldmVudExpc3RlbmVycyBpbnN0YW5jZW9mIE9iamVjdCkpdGhpcy5ldmVudHMub24odGhpcy5ldmVudExpc3RlbmVycyl9LGRlc3Ryb3k6ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9ITApO251bGwhPXRoaXMubWFwJiZ0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLGEpO3RoaXMub3B0aW9ucz10aGlzLmRpdj10aGlzLm5hbWU9dGhpcy5tYXA9dGhpcy5wcm9qZWN0aW9uPW51bGw7dGhpcy5ldmVudHMmJih0aGlzLmV2ZW50TGlzdGVuZXJzJiZ0aGlzLmV2ZW50cy51bih0aGlzLmV2ZW50TGlzdGVuZXJzKSx0aGlzLmV2ZW50cy5kZXN0cm95KCkpO3RoaXMuZXZlbnRzPXRoaXMuZXZlbnRMaXN0ZW5lcnM9bnVsbH0sY2xvbmU6ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9bmV3IE9wZW5MYXllcnMuTGF5ZXIodGhpcy5uYW1lLHRoaXMuZ2V0T3B0aW9ucygpKSk7T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYSx0aGlzKTthLm1hcD1udWxsO3JldHVybiBhfSwKZ2V0T3B0aW9uczpmdW5jdGlvbigpe3ZhciBhPXt9LGI7Zm9yKGIgaW4gdGhpcy5vcHRpb25zKWFbYl09dGhpc1tiXTtyZXR1cm4gYX0sc2V0TmFtZTpmdW5jdGlvbihhKXthIT10aGlzLm5hbWUmJih0aGlzLm5hbWU9YSxudWxsIT10aGlzLm1hcCYmdGhpcy5tYXAuZXZlbnRzLnRyaWdnZXJFdmVudCgiY2hhbmdlbGF5ZXIiLHtsYXllcjp0aGlzLHByb3BlcnR5OiJuYW1lIn0pKX0sYWRkT3B0aW9uczpmdW5jdGlvbihhLGIpe251bGw9PXRoaXMub3B0aW9ucyYmKHRoaXMub3B0aW9ucz17fSk7YSYmKCJzdHJpbmciPT10eXBlb2YgYS5wcm9qZWN0aW9uJiYoYS5wcm9qZWN0aW9uPW5ldyBPcGVuTGF5ZXJzLlByb2plY3Rpb24oYS5wcm9qZWN0aW9uKSksYS5wcm9qZWN0aW9uJiZPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLE9wZW5MYXllcnMuUHJvamVjdGlvbi5kZWZhdWx0c1thLnByb2plY3Rpb24uZ2V0Q29kZSgpXSksYS5tYXhFeHRlbnQmJiEoYS5tYXhFeHRlbnQgaW5zdGFuY2VvZgpPcGVuTGF5ZXJzLkJvdW5kcykmJihhLm1heEV4dGVudD1uZXcgT3BlbkxheWVycy5Cb3VuZHMoYS5tYXhFeHRlbnQpKSxhLm1pbkV4dGVudCYmIShhLm1pbkV4dGVudCBpbnN0YW5jZW9mIE9wZW5MYXllcnMuQm91bmRzKSYmKGEubWluRXh0ZW50PW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhhLm1pbkV4dGVudCkpKTtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMub3B0aW9ucyxhKTtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsYSk7dGhpcy5wcm9qZWN0aW9uJiZ0aGlzLnByb2plY3Rpb24uZ2V0VW5pdHMoKSYmKHRoaXMudW5pdHM9dGhpcy5wcm9qZWN0aW9uLmdldFVuaXRzKCkpO2lmKHRoaXMubWFwKXt2YXIgYz10aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCksZD10aGlzLlJFU09MVVRJT05fUFJPUEVSVElFUy5jb25jYXQoWyJwcm9qZWN0aW9uIiwidW5pdHMiLCJtaW5FeHRlbnQiLCJtYXhFeHRlbnQiXSksZTtmb3IoZSBpbiBhKWlmKGEuaGFzT3duUHJvcGVydHkoZSkmJjA8PU9wZW5MYXllcnMuVXRpbC5pbmRleE9mKGQsCmUpKXt0aGlzLmluaXRSZXNvbHV0aW9ucygpO2ImJnRoaXMubWFwLmJhc2VMYXllcj09PXRoaXMmJih0aGlzLm1hcC5zZXRDZW50ZXIodGhpcy5tYXAuZ2V0Q2VudGVyKCksdGhpcy5tYXAuZ2V0Wm9vbUZvclJlc29sdXRpb24oYyksITEsITApLHRoaXMubWFwLmV2ZW50cy50cmlnZ2VyRXZlbnQoImNoYW5nZWJhc2VsYXllciIse2xheWVyOnRoaXN9KSk7YnJlYWt9fX0sb25NYXBSZXNpemU6ZnVuY3Rpb24oKXt9LHJlZHJhdzpmdW5jdGlvbigpe3ZhciBhPSExO2lmKHRoaXMubWFwKXt0aGlzLmluUmFuZ2U9dGhpcy5jYWxjdWxhdGVJblJhbmdlKCk7dmFyIGI9dGhpcy5nZXRFeHRlbnQoKTtiJiYodGhpcy5pblJhbmdlJiZ0aGlzLnZpc2liaWxpdHkpJiYodGhpcy5tb3ZlVG8oYiwhMCwhMSksdGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJtb3ZlZW5kIix7em9vbUNoYW5nZWQ6ITB9KSxhPSEwKX1yZXR1cm4gYX0sbW92ZVRvOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy52aXNpYmlsaXR5Owp0aGlzLmlzQmFzZUxheWVyfHwoYT1hJiZ0aGlzLmluUmFuZ2UpO3RoaXMuZGlzcGxheShhKX0sbW92ZUJ5UHg6ZnVuY3Rpb24oKXt9LHNldE1hcDpmdW5jdGlvbihhKXtudWxsPT10aGlzLm1hcCYmKHRoaXMubWFwPWEsdGhpcy5tYXhFeHRlbnQ9dGhpcy5tYXhFeHRlbnR8fHRoaXMubWFwLm1heEV4dGVudCx0aGlzLm1pbkV4dGVudD10aGlzLm1pbkV4dGVudHx8dGhpcy5tYXAubWluRXh0ZW50LHRoaXMucHJvamVjdGlvbj10aGlzLnByb2plY3Rpb258fHRoaXMubWFwLnByb2plY3Rpb24sInN0cmluZyI9PXR5cGVvZiB0aGlzLnByb2plY3Rpb24mJih0aGlzLnByb2plY3Rpb249bmV3IE9wZW5MYXllcnMuUHJvamVjdGlvbih0aGlzLnByb2plY3Rpb24pKSx0aGlzLnVuaXRzPXRoaXMucHJvamVjdGlvbi5nZXRVbml0cygpfHx0aGlzLnVuaXRzfHx0aGlzLm1hcC51bml0cyx0aGlzLmluaXRSZXNvbHV0aW9ucygpLHRoaXMuaXNCYXNlTGF5ZXJ8fCh0aGlzLmluUmFuZ2U9dGhpcy5jYWxjdWxhdGVJblJhbmdlKCksCnRoaXMuZGl2LnN0eWxlLmRpc3BsYXk9dGhpcy52aXNpYmlsaXR5JiZ0aGlzLmluUmFuZ2U/IiI6Im5vbmUiKSx0aGlzLnNldFRpbGVTaXplKCkpfSxhZnRlckFkZDpmdW5jdGlvbigpe30scmVtb3ZlTWFwOmZ1bmN0aW9uKCl7fSxnZXRJbWFnZVNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbWFnZVNpemV8fHRoaXMudGlsZVNpemV9LHNldFRpbGVTaXplOmZ1bmN0aW9uKGEpe3RoaXMudGlsZVNpemU9YT1hP2E6dGhpcy50aWxlU2l6ZT90aGlzLnRpbGVTaXplOnRoaXMubWFwLmdldFRpbGVTaXplKCk7dGhpcy5ndXR0ZXImJih0aGlzLmltYWdlU2l6ZT1uZXcgT3BlbkxheWVycy5TaXplKGEudysyKnRoaXMuZ3V0dGVyLGEuaCsyKnRoaXMuZ3V0dGVyKSl9LGdldFZpc2liaWxpdHk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aXNpYmlsaXR5fSxzZXRWaXNpYmlsaXR5OmZ1bmN0aW9uKGEpe2EhPXRoaXMudmlzaWJpbGl0eSYmKHRoaXMudmlzaWJpbGl0eT1hLHRoaXMuZGlzcGxheShhKSwKdGhpcy5yZWRyYXcoKSxudWxsIT10aGlzLm1hcCYmdGhpcy5tYXAuZXZlbnRzLnRyaWdnZXJFdmVudCgiY2hhbmdlbGF5ZXIiLHtsYXllcjp0aGlzLHByb3BlcnR5OiJ2aXNpYmlsaXR5In0pLHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgidmlzaWJpbGl0eWNoYW5nZWQiKSl9LGRpc3BsYXk6ZnVuY3Rpb24oYSl7YSE9KCJub25lIiE9dGhpcy5kaXYuc3R5bGUuZGlzcGxheSkmJih0aGlzLmRpdi5zdHlsZS5kaXNwbGF5PWEmJnRoaXMuY2FsY3VsYXRlSW5SYW5nZSgpPyJibG9jayI6Im5vbmUiKX0sY2FsY3VsYXRlSW5SYW5nZTpmdW5jdGlvbigpe3ZhciBhPSExO3RoaXMuYWx3YXlzSW5SYW5nZT9hPSEwOnRoaXMubWFwJiYoYT10aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCksYT1hPj10aGlzLm1pblJlc29sdXRpb24mJmE8PXRoaXMubWF4UmVzb2x1dGlvbik7cmV0dXJuIGF9LHNldElzQmFzZUxheWVyOmZ1bmN0aW9uKGEpe2EhPXRoaXMuaXNCYXNlTGF5ZXImJih0aGlzLmlzQmFzZUxheWVyPQphLG51bGwhPXRoaXMubWFwJiZ0aGlzLm1hcC5ldmVudHMudHJpZ2dlckV2ZW50KCJjaGFuZ2ViYXNlbGF5ZXIiLHtsYXllcjp0aGlzfSkpfSxpbml0UmVzb2x1dGlvbnM6ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZD17fSxlPSEwO2E9MDtmb3IoYj10aGlzLlJFU09MVVRJT05fUFJPUEVSVElFUy5sZW5ndGg7YTxiO2ErKyljPXRoaXMuUkVTT0xVVElPTl9QUk9QRVJUSUVTW2FdLGRbY109dGhpcy5vcHRpb25zW2NdLGUmJnRoaXMub3B0aW9uc1tjXSYmKGU9ITEpO251bGw9PXRoaXMub3B0aW9ucy5hbHdheXNJblJhbmdlJiYodGhpcy5hbHdheXNJblJhbmdlPWUpO251bGw9PWQucmVzb2x1dGlvbnMmJihkLnJlc29sdXRpb25zPXRoaXMucmVzb2x1dGlvbnNGcm9tU2NhbGVzKGQuc2NhbGVzKSk7bnVsbD09ZC5yZXNvbHV0aW9ucyYmKGQucmVzb2x1dGlvbnM9dGhpcy5jYWxjdWxhdGVSZXNvbHV0aW9ucyhkKSk7aWYobnVsbD09ZC5yZXNvbHV0aW9ucyl7YT0wO2ZvcihiPXRoaXMuUkVTT0xVVElPTl9QUk9QRVJUSUVTLmxlbmd0aDthPApiO2ErKyljPXRoaXMuUkVTT0xVVElPTl9QUk9QRVJUSUVTW2FdLGRbY109bnVsbCE9dGhpcy5vcHRpb25zW2NdP3RoaXMub3B0aW9uc1tjXTp0aGlzLm1hcFtjXTtudWxsPT1kLnJlc29sdXRpb25zJiYoZC5yZXNvbHV0aW9ucz10aGlzLnJlc29sdXRpb25zRnJvbVNjYWxlcyhkLnNjYWxlcykpO251bGw9PWQucmVzb2x1dGlvbnMmJihkLnJlc29sdXRpb25zPXRoaXMuY2FsY3VsYXRlUmVzb2x1dGlvbnMoZCkpfXZhciBmO3RoaXMub3B0aW9ucy5tYXhSZXNvbHV0aW9uJiYiYXV0byIhPT10aGlzLm9wdGlvbnMubWF4UmVzb2x1dGlvbiYmKGY9dGhpcy5vcHRpb25zLm1heFJlc29sdXRpb24pO3RoaXMub3B0aW9ucy5taW5TY2FsZSYmKGY9T3BlbkxheWVycy5VdGlsLmdldFJlc29sdXRpb25Gcm9tU2NhbGUodGhpcy5vcHRpb25zLm1pblNjYWxlLHRoaXMudW5pdHMpKTt2YXIgZzt0aGlzLm9wdGlvbnMubWluUmVzb2x1dGlvbiYmImF1dG8iIT09dGhpcy5vcHRpb25zLm1pblJlc29sdXRpb24mJgooZz10aGlzLm9wdGlvbnMubWluUmVzb2x1dGlvbik7dGhpcy5vcHRpb25zLm1heFNjYWxlJiYoZz1PcGVuTGF5ZXJzLlV0aWwuZ2V0UmVzb2x1dGlvbkZyb21TY2FsZSh0aGlzLm9wdGlvbnMubWF4U2NhbGUsdGhpcy51bml0cykpO2QucmVzb2x1dGlvbnMmJihkLnJlc29sdXRpb25zLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi1hfSksZnx8KGY9ZC5yZXNvbHV0aW9uc1swXSksZ3x8KGc9ZC5yZXNvbHV0aW9uc1tkLnJlc29sdXRpb25zLmxlbmd0aC0xXSkpO2lmKHRoaXMucmVzb2x1dGlvbnM9ZC5yZXNvbHV0aW9ucyl7Yj10aGlzLnJlc29sdXRpb25zLmxlbmd0aDt0aGlzLnNjYWxlcz1BcnJheShiKTtmb3IoYT0wO2E8YjthKyspdGhpcy5zY2FsZXNbYV09T3BlbkxheWVycy5VdGlsLmdldFNjYWxlRnJvbVJlc29sdXRpb24odGhpcy5yZXNvbHV0aW9uc1thXSx0aGlzLnVuaXRzKTt0aGlzLm51bVpvb21MZXZlbHM9Yn1pZih0aGlzLm1pblJlc29sdXRpb249Zyl0aGlzLm1heFNjYWxlPQpPcGVuTGF5ZXJzLlV0aWwuZ2V0U2NhbGVGcm9tUmVzb2x1dGlvbihnLHRoaXMudW5pdHMpO2lmKHRoaXMubWF4UmVzb2x1dGlvbj1mKXRoaXMubWluU2NhbGU9T3BlbkxheWVycy5VdGlsLmdldFNjYWxlRnJvbVJlc29sdXRpb24oZix0aGlzLnVuaXRzKX0scmVzb2x1dGlvbnNGcm9tU2NhbGVzOmZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBiLGMsZDtkPWEubGVuZ3RoO2I9QXJyYXkoZCk7Zm9yKGM9MDtjPGQ7YysrKWJbY109T3BlbkxheWVycy5VdGlsLmdldFJlc29sdXRpb25Gcm9tU2NhbGUoYVtjXSx0aGlzLnVuaXRzKTtyZXR1cm4gYn19LGNhbGN1bGF0ZVJlc29sdXRpb25zOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZD1hLm1heFJlc29sdXRpb247bnVsbCE9YS5taW5TY2FsZT9kPU9wZW5MYXllcnMuVXRpbC5nZXRSZXNvbHV0aW9uRnJvbVNjYWxlKGEubWluU2NhbGUsdGhpcy51bml0cyk6ImF1dG8iPT1kJiZudWxsIT10aGlzLm1heEV4dGVudCYmKGI9dGhpcy5tYXAuZ2V0U2l6ZSgpLApjPXRoaXMubWF4RXh0ZW50LmdldFdpZHRoKCkvYi53LGI9dGhpcy5tYXhFeHRlbnQuZ2V0SGVpZ2h0KCkvYi5oLGQ9TWF0aC5tYXgoYyxiKSk7Yz1hLm1pblJlc29sdXRpb247bnVsbCE9YS5tYXhTY2FsZT9jPU9wZW5MYXllcnMuVXRpbC5nZXRSZXNvbHV0aW9uRnJvbVNjYWxlKGEubWF4U2NhbGUsdGhpcy51bml0cyk6ImF1dG8iPT1hLm1pblJlc29sdXRpb24mJm51bGwhPXRoaXMubWluRXh0ZW50JiYoYj10aGlzLm1hcC5nZXRTaXplKCksYz10aGlzLm1pbkV4dGVudC5nZXRXaWR0aCgpL2IudyxiPXRoaXMubWluRXh0ZW50LmdldEhlaWdodCgpL2IuaCxjPU1hdGgubWF4KGMsYikpOyJudW1iZXIiIT09dHlwZW9mIGQmJigibnVtYmVyIiE9PXR5cGVvZiBjJiZudWxsIT10aGlzLm1heEV4dGVudCkmJihkPXRoaXMubWFwLmdldFRpbGVTaXplKCksZD1NYXRoLm1heCh0aGlzLm1heEV4dGVudC5nZXRXaWR0aCgpL2Qudyx0aGlzLm1heEV4dGVudC5nZXRIZWlnaHQoKS9kLmgpKTtiPWEubWF4Wm9vbUxldmVsOwphPWEubnVtWm9vbUxldmVsczsibnVtYmVyIj09PXR5cGVvZiBjJiYibnVtYmVyIj09PXR5cGVvZiBkJiZ2b2lkIDA9PT1hP2E9TWF0aC5mbG9vcihNYXRoLmxvZyhkL2MpL01hdGgubG9nKDIpKSsxOnZvaWQgMD09PWEmJm51bGwhPWImJihhPWIrMSk7aWYoISgibnVtYmVyIiE9PXR5cGVvZiBhfHwwPj1hfHwibnVtYmVyIiE9PXR5cGVvZiBkJiYibnVtYmVyIiE9PXR5cGVvZiBjKSl7Yj1BcnJheShhKTt2YXIgZT0yOyJudW1iZXIiPT10eXBlb2YgYyYmIm51bWJlciI9PXR5cGVvZiBkJiYoZT1NYXRoLnBvdyhkL2MsMS8oYS0xKSkpO3ZhciBmO2lmKCJudW1iZXIiPT09dHlwZW9mIGQpZm9yKGY9MDtmPGE7ZisrKWJbZl09ZC9NYXRoLnBvdyhlLGYpO2Vsc2UgZm9yKGY9MDtmPGE7ZisrKWJbYS0xLWZdPWMqTWF0aC5wb3coZSxmKTtyZXR1cm4gYn19LGdldFJlc29sdXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm1hcC5nZXRab29tKCk7cmV0dXJuIHRoaXMuZ2V0UmVzb2x1dGlvbkZvclpvb20oYSl9LApnZXRFeHRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAuY2FsY3VsYXRlQm91bmRzKCl9LGdldFpvb21Gb3JFeHRlbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLm1hcC5nZXRTaXplKCksYz1NYXRoLm1heChhLmdldFdpZHRoKCkvYy53LGEuZ2V0SGVpZ2h0KCkvYy5oKTtyZXR1cm4gdGhpcy5nZXRab29tRm9yUmVzb2x1dGlvbihjLGIpfSxnZXREYXRhRXh0ZW50OmZ1bmN0aW9uKCl7fSxnZXRSZXNvbHV0aW9uRm9yWm9vbTpmdW5jdGlvbihhKXthPU1hdGgubWF4KDAsTWF0aC5taW4oYSx0aGlzLnJlc29sdXRpb25zLmxlbmd0aC0xKSk7aWYodGhpcy5tYXAuZnJhY3Rpb25hbFpvb20pdmFyIGI9TWF0aC5mbG9vcihhKSxjPU1hdGguY2VpbChhKSxhPXRoaXMucmVzb2x1dGlvbnNbYl0tKGEtYikqKHRoaXMucmVzb2x1dGlvbnNbYl0tdGhpcy5yZXNvbHV0aW9uc1tjXSk7ZWxzZSBhPXRoaXMucmVzb2x1dGlvbnNbTWF0aC5yb3VuZChhKV07cmV0dXJuIGF9LGdldFpvb21Gb3JSZXNvbHV0aW9uOmZ1bmN0aW9uKGEsCmIpe3ZhciBjLGQ7aWYodGhpcy5tYXAuZnJhY3Rpb25hbFpvb20pe3ZhciBlPTAsZj10aGlzLnJlc29sdXRpb25zW2VdLGc9dGhpcy5yZXNvbHV0aW9uc1t0aGlzLnJlc29sdXRpb25zLmxlbmd0aC0xXSxoO2M9MDtmb3IoZD10aGlzLnJlc29sdXRpb25zLmxlbmd0aDtjPGQ7KytjKWlmKGg9dGhpcy5yZXNvbHV0aW9uc1tjXSxoPj1hJiYoZj1oLGU9YyksaDw9YSl7Zz1oO2JyZWFrfWM9Zi1nO2M9MDxjP2UrKGYtYSkvYzplfWVsc2V7Zj1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Yz0wO2ZvcihkPXRoaXMucmVzb2x1dGlvbnMubGVuZ3RoO2M8ZDtjKyspaWYoYil7ZT1NYXRoLmFicyh0aGlzLnJlc29sdXRpb25zW2NdLWEpO2lmKGU+ZilicmVhaztmPWV9ZWxzZSBpZih0aGlzLnJlc29sdXRpb25zW2NdPGEpYnJlYWs7Yz1NYXRoLm1heCgwLGMtMSl9cmV0dXJuIGN9LGdldExvbkxhdEZyb21WaWV3UG9ydFB4OmZ1bmN0aW9uKGEpe3ZhciBiPW51bGwsYz10aGlzLm1hcDtpZihudWxsIT0KYSYmYy5taW5QeCl7dmFyIGI9Yy5nZXRSZXNvbHV0aW9uKCksZD1jLmdldE1heEV4dGVudCh7cmVzdHJpY3RlZDohMH0pLGI9bmV3IE9wZW5MYXllcnMuTG9uTGF0KChhLngtYy5taW5QeC54KSpiK2QubGVmdCwoYy5taW5QeC55LWEueSkqYitkLnRvcCk7dGhpcy53cmFwRGF0ZUxpbmUmJihiPWIud3JhcERhdGVMaW5lKHRoaXMubWF4RXh0ZW50KSl9cmV0dXJuIGJ9LGdldFZpZXdQb3J0UHhGcm9tTG9uTGF0OmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtudWxsIT1hJiYoYj1ifHx0aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCksYz10aGlzLm1hcC5jYWxjdWxhdGVCb3VuZHMobnVsbCxiKSxjPW5ldyBPcGVuTGF5ZXJzLlBpeGVsKDEvYiooYS5sb24tYy5sZWZ0KSwxL2IqKGMudG9wLWEubGF0KSkpO3JldHVybiBjfSxzZXRPcGFjaXR5OmZ1bmN0aW9uKGEpe2lmKGEhPXRoaXMub3BhY2l0eSl7dGhpcy5vcGFjaXR5PWE7Zm9yKHZhciBiPXRoaXMuZGl2LmNoaWxkTm9kZXMsYz0wLGQ9Yi5sZW5ndGg7YzwKZDsrK2Mpe3ZhciBlPWJbY10uZmlyc3RDaGlsZHx8YltjXSxmPWJbY10ubGFzdENoaWxkO2YmJiJpZnJhbWUiPT09Zi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYoZT1mLnBhcmVudE5vZGUpO09wZW5MYXllcnMuVXRpbC5tb2RpZnlET01FbGVtZW50KGUsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsYSl9bnVsbCE9dGhpcy5tYXAmJnRoaXMubWFwLmV2ZW50cy50cmlnZ2VyRXZlbnQoImNoYW5nZWxheWVyIix7bGF5ZXI6dGhpcyxwcm9wZXJ0eToib3BhY2l0eSJ9KX19LGdldFpJbmRleDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpdi5zdHlsZS56SW5kZXh9LHNldFpJbmRleDpmdW5jdGlvbihhKXt0aGlzLmRpdi5zdHlsZS56SW5kZXg9YX0sYWRqdXN0Qm91bmRzOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZ3V0dGVyKXZhciBiPXRoaXMuZ3V0dGVyKnRoaXMubWFwLmdldFJlc29sdXRpb24oKSxhPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhhLmxlZnQtYixhLmJvdHRvbS1iLGEucmlnaHQrCmIsYS50b3ArYik7dGhpcy53cmFwRGF0ZUxpbmUmJihiPXtyaWdodFRvbGVyYW5jZTp0aGlzLmdldFJlc29sdXRpb24oKSxsZWZ0VG9sZXJhbmNlOnRoaXMuZ2V0UmVzb2x1dGlvbigpfSxhPWEud3JhcERhdGVMaW5lKHRoaXMubWF4RXh0ZW50LGIpKTtyZXR1cm4gYX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllciJ9KTtPcGVuTGF5ZXJzLkxheWVyLlNwaGVyaWNhbE1lcmNhdG9yPXtnZXRFeHRlbnQ6ZnVuY3Rpb24oKXt2YXIgYT1udWxsO3JldHVybiBhPXRoaXMuc3BoZXJpY2FsTWVyY2F0b3I/dGhpcy5tYXAuY2FsY3VsYXRlQm91bmRzKCk6T3BlbkxheWVycy5MYXllci5GaXhlZFpvb21MZXZlbHMucHJvdG90eXBlLmdldEV4dGVudC5hcHBseSh0aGlzKX0sZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHg6ZnVuY3Rpb24oYSl7cmV0dXJuIE9wZW5MYXllcnMuTGF5ZXIucHJvdG90eXBlLmdldExvbkxhdEZyb21WaWV3UG9ydFB4LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZ2V0Vmlld1BvcnRQeEZyb21Mb25MYXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIE9wZW5MYXllcnMuTGF5ZXIucHJvdG90eXBlLmdldFZpZXdQb3J0UHhGcm9tTG9uTGF0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0saW5pdE1lcmNhdG9yUGFyYW1ldGVyczpmdW5jdGlvbigpe3RoaXMuUkVTT0xVVElPTlM9W107Zm9yKHZhciBhPTA7YTw9dGhpcy5NQVhfWk9PTV9MRVZFTDsrK2EpdGhpcy5SRVNPTFVUSU9OU1thXT0KMTU2NTQzLjAzMzkwNjI1L01hdGgucG93KDIsYSk7dGhpcy51bml0cz0ibSI7dGhpcy5wcm9qZWN0aW9uPXRoaXMucHJvamVjdGlvbnx8IkVQU0c6OTAwOTEzIn0sZm9yd2FyZE1lcmNhdG9yOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IE9wZW5MYXllcnMuUHJvamVjdGlvbigiRVBTRzo0MzI2IiksYj1uZXcgT3BlbkxheWVycy5Qcm9qZWN0aW9uKCJFUFNHOjkwMDkxMyIpO3JldHVybiBmdW5jdGlvbihjLGQpe3ZhciBlPU9wZW5MYXllcnMuUHJvamVjdGlvbi50cmFuc2Zvcm0oe3g6Yyx5OmR9LGEsYik7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkxvbkxhdChlLngsZS55KX19KCksaW52ZXJzZU1lcmNhdG9yOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IE9wZW5MYXllcnMuUHJvamVjdGlvbigiRVBTRzo0MzI2IiksYj1uZXcgT3BlbkxheWVycy5Qcm9qZWN0aW9uKCJFUFNHOjkwMDkxMyIpO3JldHVybiBmdW5jdGlvbihjLGQpe3ZhciBlPU9wZW5MYXllcnMuUHJvamVjdGlvbi50cmFuc2Zvcm0oe3g6YywKeTpkfSxiLGEpO3JldHVybiBuZXcgT3BlbkxheWVycy5Mb25MYXQoZS54LGUueSl9fSgpfTtPcGVuTGF5ZXJzLkxheWVyLkV2ZW50UGFuZT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIse3Ntb290aERyYWdQYW46ITAsaXNCYXNlTGF5ZXI6ITAsaXNGaXhlZDohMCxwYW5lOm51bGwsbWFwT2JqZWN0Om51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIpe09wZW5MYXllcnMuTGF5ZXIucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGw9PXRoaXMucGFuZSYmKHRoaXMucGFuZT1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlRGl2KHRoaXMuZGl2LmlkKyJfRXZlbnRQYW5lIikpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5wYW5lPXRoaXMubWFwT2JqZWN0PW51bGw7T3BlbkxheWVycy5MYXllci5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHNldE1hcDpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5zZXRNYXAuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMucGFuZS5zdHlsZS56SW5kZXg9CnBhcnNlSW50KHRoaXMuZGl2LnN0eWxlLnpJbmRleCkrMTt0aGlzLnBhbmUuc3R5bGUuZGlzcGxheT10aGlzLmRpdi5zdHlsZS5kaXNwbGF5O3RoaXMucGFuZS5zdHlsZS53aWR0aD0iMTAwJSI7dGhpcy5wYW5lLnN0eWxlLmhlaWdodD0iMTAwJSI7Im1zaWUiPT1PcGVuTGF5ZXJzLkJST1dTRVJfTkFNRSYmKHRoaXMucGFuZS5zdHlsZS5iYWNrZ3JvdW5kPSJ1cmwoIitPcGVuTGF5ZXJzLlV0aWwuZ2V0SW1hZ2VMb2NhdGlvbigiYmxhbmsuZ2lmIikrIikiKTt0aGlzLmlzRml4ZWQ/dGhpcy5tYXAudmlld1BvcnREaXYuYXBwZW5kQ2hpbGQodGhpcy5wYW5lKTp0aGlzLm1hcC5sYXllckNvbnRhaW5lckRpdi5hcHBlbmRDaGlsZCh0aGlzLnBhbmUpO3RoaXMubG9hZE1hcE9iamVjdCgpO251bGw9PXRoaXMubWFwT2JqZWN0JiZ0aGlzLmxvYWRXYXJuaW5nTWVzc2FnZSgpfSxyZW1vdmVNYXA6ZnVuY3Rpb24oYSl7dGhpcy5wYW5lJiZ0aGlzLnBhbmUucGFyZW50Tm9kZSYmdGhpcy5wYW5lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wYW5lKTsKT3BlbkxheWVycy5MYXllci5wcm90b3R5cGUucmVtb3ZlTWFwLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sbG9hZFdhcm5pbmdNZXNzYWdlOmZ1bmN0aW9uKCl7dGhpcy5kaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yPSJkYXJrYmx1ZSI7dmFyIGE9dGhpcy5tYXAuZ2V0U2l6ZSgpLGI9TWF0aC5taW4oYS53LDMwMCksYz1NYXRoLm1pbihhLmgsMjAwKSxiPW5ldyBPcGVuTGF5ZXJzLlNpemUoYixjKSxhPShuZXcgT3BlbkxheWVycy5QaXhlbChhLncvMixhLmgvMikpLmFkZCgtYi53LzIsLWIuaC8yKSxhPU9wZW5MYXllcnMuVXRpbC5jcmVhdGVEaXYodGhpcy5uYW1lKyJfd2FybmluZyIsYSxiLG51bGwsbnVsbCxudWxsLCJhdXRvIik7YS5zdHlsZS5wYWRkaW5nPSI3cHgiO2Euc3R5bGUuYmFja2dyb3VuZENvbG9yPSJ5ZWxsb3ciO2EuaW5uZXJIVE1MPXRoaXMuZ2V0V2FybmluZ0hUTUwoKTt0aGlzLmRpdi5hcHBlbmRDaGlsZChhKX0sZ2V0V2FybmluZ0hUTUw6ZnVuY3Rpb24oKXtyZXR1cm4iIn0sCmRpc3BsYXk6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5MYXllci5wcm90b3R5cGUuZGlzcGxheS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5wYW5lLnN0eWxlLmRpc3BsYXk9dGhpcy5kaXYuc3R5bGUuZGlzcGxheX0sc2V0WkluZGV4OmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuTGF5ZXIucHJvdG90eXBlLnNldFpJbmRleC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5wYW5lLnN0eWxlLnpJbmRleD1wYXJzZUludCh0aGlzLmRpdi5zdHlsZS56SW5kZXgpKzF9LG1vdmVCeVB4OmZ1bmN0aW9uKGEsYil7T3BlbkxheWVycy5MYXllci5wcm90b3R5cGUubW92ZUJ5UHguYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZHJhZ1Bhbk1hcE9iamVjdD90aGlzLmRyYWdQYW5NYXBPYmplY3QoYSwtYik6dGhpcy5tb3ZlVG8odGhpcy5tYXAuZ2V0Q2FjaGVkQ2VudGVyKCkpfSxtb3ZlVG86ZnVuY3Rpb24oYSxiLGMpe09wZW5MYXllcnMuTGF5ZXIucHJvdG90eXBlLm1vdmVUby5hcHBseSh0aGlzLAphcmd1bWVudHMpO2lmKG51bGwhPXRoaXMubWFwT2JqZWN0KXt2YXIgZD10aGlzLm1hcC5nZXRDZW50ZXIoKSxlPXRoaXMubWFwLmdldFpvb20oKTtpZihudWxsIT1kKXt2YXIgZj10aGlzLmdldE1hcE9iamVjdENlbnRlcigpLGY9dGhpcy5nZXRPTExvbkxhdEZyb21NYXBPYmplY3RMb25MYXQoZiksZz10aGlzLmdldE1hcE9iamVjdFpvb20oKSxnPXRoaXMuZ2V0T0xab29tRnJvbU1hcE9iamVjdFpvb20oZyk7aWYoIWQuZXF1YWxzKGYpfHxlIT1nKSFiJiZmJiZ0aGlzLmRyYWdQYW5NYXBPYmplY3QmJnRoaXMuc21vb3RoRHJhZ1Bhbj8oZT10aGlzLm1hcC5nZXRWaWV3UG9ydFB4RnJvbUxvbkxhdChmKSxkPXRoaXMubWFwLmdldFZpZXdQb3J0UHhGcm9tTG9uTGF0KGQpLHRoaXMuZHJhZ1Bhbk1hcE9iamVjdChkLngtZS54LGUueS1kLnkpKTooZD10aGlzLmdldE1hcE9iamVjdExvbkxhdEZyb21PTExvbkxhdChkKSxlPXRoaXMuZ2V0TWFwT2JqZWN0Wm9vbUZyb21PTFpvb20oZSksdGhpcy5zZXRNYXBPYmplY3RDZW50ZXIoZCwKZSxjKSl9fX0sZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHg6ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtudWxsIT10aGlzLm1hcE9iamVjdCYmbnVsbCE9dGhpcy5nZXRNYXBPYmplY3RDZW50ZXIoKSYmKGE9dGhpcy5nZXRNYXBPYmplY3RQaXhlbEZyb21PTFBpeGVsKGEpLGE9dGhpcy5nZXRNYXBPYmplY3RMb25MYXRGcm9tTWFwT2JqZWN0UGl4ZWwoYSksYj10aGlzLmdldE9MTG9uTGF0RnJvbU1hcE9iamVjdExvbkxhdChhKSk7cmV0dXJuIGJ9LGdldFZpZXdQb3J0UHhGcm9tTG9uTGF0OmZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7bnVsbCE9dGhpcy5tYXBPYmplY3QmJm51bGwhPXRoaXMuZ2V0TWFwT2JqZWN0Q2VudGVyKCkmJihhPXRoaXMuZ2V0TWFwT2JqZWN0TG9uTGF0RnJvbU9MTG9uTGF0KGEpLGE9dGhpcy5nZXRNYXBPYmplY3RQaXhlbEZyb21NYXBPYmplY3RMb25MYXQoYSksYj10aGlzLmdldE9MUGl4ZWxGcm9tTWFwT2JqZWN0UGl4ZWwoYSkpO3JldHVybiBifSxnZXRPTExvbkxhdEZyb21NYXBPYmplY3RMb25MYXQ6ZnVuY3Rpb24oYSl7dmFyIGI9Cm51bGw7bnVsbCE9YSYmKGI9dGhpcy5nZXRMb25naXR1ZGVGcm9tTWFwT2JqZWN0TG9uTGF0KGEpLGE9dGhpcy5nZXRMYXRpdHVkZUZyb21NYXBPYmplY3RMb25MYXQoYSksYj1uZXcgT3BlbkxheWVycy5Mb25MYXQoYixhKSk7cmV0dXJuIGJ9LGdldE1hcE9iamVjdExvbkxhdEZyb21PTExvbkxhdDpmdW5jdGlvbihhKXt2YXIgYj1udWxsO251bGwhPWEmJihiPXRoaXMuZ2V0TWFwT2JqZWN0TG9uTGF0RnJvbUxvbkxhdChhLmxvbixhLmxhdCkpO3JldHVybiBifSxnZXRPTFBpeGVsRnJvbU1hcE9iamVjdFBpeGVsOmZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7bnVsbCE9YSYmKGI9dGhpcy5nZXRYRnJvbU1hcE9iamVjdFBpeGVsKGEpLGE9dGhpcy5nZXRZRnJvbU1hcE9iamVjdFBpeGVsKGEpLGI9bmV3IE9wZW5MYXllcnMuUGl4ZWwoYixhKSk7cmV0dXJuIGJ9LGdldE1hcE9iamVjdFBpeGVsRnJvbU9MUGl4ZWw6ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtudWxsIT1hJiYoYj10aGlzLmdldE1hcE9iamVjdFBpeGVsRnJvbVhZKGEueCwKYS55KSk7cmV0dXJuIGJ9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuTGF5ZXIuRXZlbnRQYW5lIn0pO09wZW5MYXllcnMuTGF5ZXIuRml4ZWRab29tTGV2ZWxzPU9wZW5MYXllcnMuQ2xhc3Moe2luaXRpYWxpemU6ZnVuY3Rpb24oKXt9LGluaXRSZXNvbHV0aW9uczpmdW5jdGlvbigpe2Zvcih2YXIgYT1bIm1pblpvb21MZXZlbCIsIm1heFpvb21MZXZlbCIsIm51bVpvb21MZXZlbHMiXSxiPTAsYz1hLmxlbmd0aDtiPGM7YisrKXt2YXIgZD1hW2JdO3RoaXNbZF09bnVsbCE9dGhpcy5vcHRpb25zW2RdP3RoaXMub3B0aW9uc1tkXTp0aGlzLm1hcFtkXX1pZihudWxsPT10aGlzLm1pblpvb21MZXZlbHx8dGhpcy5taW5ab29tTGV2ZWw8dGhpcy5NSU5fWk9PTV9MRVZFTCl0aGlzLm1pblpvb21MZXZlbD10aGlzLk1JTl9aT09NX0xFVkVMO2E9dGhpcy5NQVhfWk9PTV9MRVZFTC10aGlzLm1pblpvb21MZXZlbCsxO2I9bnVsbD09dGhpcy5vcHRpb25zLm51bVpvb21MZXZlbHMmJm51bGwhPXRoaXMub3B0aW9ucy5tYXhab29tTGV2ZWx8fG51bGw9PXRoaXMubnVtWm9vbUxldmVscyYmbnVsbCE9dGhpcy5tYXhab29tTGV2ZWw/CnRoaXMubWF4Wm9vbUxldmVsLXRoaXMubWluWm9vbUxldmVsKzE6dGhpcy5udW1ab29tTGV2ZWxzO3RoaXMubnVtWm9vbUxldmVscz1udWxsIT1iP01hdGgubWluKGIsYSk6YTt0aGlzLm1heFpvb21MZXZlbD10aGlzLm1pblpvb21MZXZlbCt0aGlzLm51bVpvb21MZXZlbHMtMTtpZihudWxsIT10aGlzLlJFU09MVVRJT05TKXthPTA7dGhpcy5yZXNvbHV0aW9ucz1bXTtmb3IoYj10aGlzLm1pblpvb21MZXZlbDtiPD10aGlzLm1heFpvb21MZXZlbDtiKyspdGhpcy5yZXNvbHV0aW9uc1thKytdPXRoaXMuUkVTT0xVVElPTlNbYl07dGhpcy5tYXhSZXNvbHV0aW9uPXRoaXMucmVzb2x1dGlvbnNbMF07dGhpcy5taW5SZXNvbHV0aW9uPXRoaXMucmVzb2x1dGlvbnNbdGhpcy5yZXNvbHV0aW9ucy5sZW5ndGgtMV19fSxnZXRSZXNvbHV0aW9uOmZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5yZXNvbHV0aW9ucylyZXR1cm4gT3BlbkxheWVycy5MYXllci5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbi5hcHBseSh0aGlzLAphcmd1bWVudHMpO3ZhciBhPW51bGwsYj10aGlzLm1hcC5nZXRTaXplKCksYz10aGlzLmdldEV4dGVudCgpO251bGwhPWImJm51bGwhPWMmJihhPU1hdGgubWF4KGMuZ2V0V2lkdGgoKS9iLncsYy5nZXRIZWlnaHQoKS9iLmgpKTtyZXR1cm4gYX0sZ2V0RXh0ZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5tYXAuZ2V0U2l6ZSgpLGI9dGhpcy5nZXRMb25MYXRGcm9tVmlld1BvcnRQeCh7eDowLHk6MH0pLGE9dGhpcy5nZXRMb25MYXRGcm9tVmlld1BvcnRQeCh7eDphLncseTphLmh9KTtyZXR1cm4gbnVsbCE9YiYmbnVsbCE9YT9uZXcgT3BlbkxheWVycy5Cb3VuZHMoYi5sb24sYS5sYXQsYS5sb24sYi5sYXQpOm51bGx9LGdldFpvb21Gb3JSZXNvbHV0aW9uOmZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMucmVzb2x1dGlvbnMpcmV0dXJuIE9wZW5MYXllcnMuTGF5ZXIucHJvdG90eXBlLmdldFpvb21Gb3JSZXNvbHV0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgYj1PcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5nZXRFeHRlbnQuYXBwbHkodGhpcywKW10pO3JldHVybiB0aGlzLmdldFpvb21Gb3JFeHRlbnQoYil9LGdldE9MWm9vbUZyb21NYXBPYmplY3Rab29tOmZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7bnVsbCE9YSYmKGI9YS10aGlzLm1pblpvb21MZXZlbCx0aGlzLm1hcC5iYXNlTGF5ZXIhPT10aGlzJiYoYj10aGlzLm1hcC5iYXNlTGF5ZXIuZ2V0Wm9vbUZvclJlc29sdXRpb24odGhpcy5nZXRSZXNvbHV0aW9uRm9yWm9vbShiKSkpKTtyZXR1cm4gYn0sZ2V0TWFwT2JqZWN0Wm9vbUZyb21PTFpvb206ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtudWxsIT1hJiYoYj1hK3RoaXMubWluWm9vbUxldmVsLHRoaXMubWFwLmJhc2VMYXllciE9PXRoaXMmJihiPXRoaXMuZ2V0Wm9vbUZvclJlc29sdXRpb24odGhpcy5tYXAuYmFzZUxheWVyLmdldFJlc29sdXRpb25Gb3Jab29tKGIpKSkpO3JldHVybiBifSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLkZpeGVkWm9vbUxldmVscyJ9KTtPcGVuTGF5ZXJzLkxheWVyLkdvb2dsZT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIuRXZlbnRQYW5lLE9wZW5MYXllcnMuTGF5ZXIuRml4ZWRab29tTGV2ZWxzLHtNSU5fWk9PTV9MRVZFTDowLE1BWF9aT09NX0xFVkVMOjIxLFJFU09MVVRJT05TOlsxLjQwNjI1LDAuNzAzMTI1LDAuMzUxNTYyNSwwLjE3NTc4MTI1LDAuMDg3ODkwNjI1LDAuMDQzOTQ1MzEyNSwwLjAyMTk3MjY1NjI1LDAuMDEwOTg2MzI4MTI1LDAuMDA1NDkzMTY0MDYyNSwwLjAwMjc0NjU4MjAzMTI1LDAuMDAxMzczMjkxMDE1NjI1LDYuODY2NDU1MDc4MTI1RS00LDMuNDMzMjI3NTM5MDYyNUUtNCwxLjcxNjYxMzc2OTUzMTI1RS00LDguNTgzMDY4ODQ3NjU2MjVFLTUsNC4yOTE1MzQ0MjM4MjgxMjVFLTUsMi4xNDU3NjcyMTE5MTQwNjJFLTUsMS4wNzI4ODM2MDU5NTcwMzFFLTUsNS4zNjQ0MTgwMjk3ODUxNUUtNiwyLjY4MjIwOTAxNDg5MjU3RS02LDEuMzQxMTA0NTA3NDQ2Mjg5RS02LDYuNzA1NTIyNTM3MjMxNDQ1RS03XSwKdHlwZTpudWxsLHdyYXBEYXRlTGluZTohMCxzcGhlcmljYWxNZXJjYXRvcjohMSx2ZXJzaW9uOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIpe2I9Ynx8e307Yi52ZXJzaW9ufHwoYi52ZXJzaW9uPSJmdW5jdGlvbiI9PT10eXBlb2YgR01hcDI/IjIiOiIzIik7dmFyIGM9T3BlbkxheWVycy5MYXllci5Hb29nbGVbInYiK2IudmVyc2lvbi5yZXBsYWNlKC9cLi9nLCJfIildO2lmKGMpT3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYixjKTtlbHNlIHRocm93IlVuc3VwcG9ydGVkIEdvb2dsZSBNYXBzIEFQSSB2ZXJzaW9uOiAiK2IudmVyc2lvbjtPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhiLGMuREVGQVVMVFMpO2IubWF4RXh0ZW50JiYoYi5tYXhFeHRlbnQ9Yi5tYXhFeHRlbnQuY2xvbmUoKSk7T3BlbkxheWVycy5MYXllci5FdmVudFBhbmUucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYSxiXSk7T3BlbkxheWVycy5MYXllci5GaXhlZFpvb21MZXZlbHMucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcywKW2EsYl0pO3RoaXMuc3BoZXJpY2FsTWVyY2F0b3ImJihPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsT3BlbkxheWVycy5MYXllci5TcGhlcmljYWxNZXJjYXRvciksdGhpcy5pbml0TWVyY2F0b3JQYXJhbWV0ZXJzKCkpfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgT3BlbkxheWVycy5MYXllci5Hb29nbGUodGhpcy5uYW1lLHRoaXMuZ2V0T3B0aW9ucygpKX0sc2V0VmlzaWJpbGl0eTpmdW5jdGlvbihhKXt2YXIgYj1udWxsPT10aGlzLm9wYWNpdHk/MTp0aGlzLm9wYWNpdHk7T3BlbkxheWVycy5MYXllci5FdmVudFBhbmUucHJvdG90eXBlLnNldFZpc2liaWxpdHkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuc2V0T3BhY2l0eShiKX0sZGlzcGxheTpmdW5jdGlvbihhKXt0aGlzLl9kcmFnZ2luZ3x8dGhpcy5zZXRHTWFwVmlzaWJpbGl0eShhKTtPcGVuTGF5ZXJzLkxheWVyLkV2ZW50UGFuZS5wcm90b3R5cGUuZGlzcGxheS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG1vdmVUbzpmdW5jdGlvbihhLApiLGMpe3RoaXMuX2RyYWdnaW5nPWM7T3BlbkxheWVycy5MYXllci5FdmVudFBhbmUucHJvdG90eXBlLm1vdmVUby5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZGVsZXRlIHRoaXMuX2RyYWdnaW5nfSxzZXRPcGFjaXR5OmZ1bmN0aW9uKGEpe2EhPT10aGlzLm9wYWNpdHkmJihudWxsIT10aGlzLm1hcCYmdGhpcy5tYXAuZXZlbnRzLnRyaWdnZXJFdmVudCgiY2hhbmdlbGF5ZXIiLHtsYXllcjp0aGlzLHByb3BlcnR5OiJvcGFjaXR5In0pLHRoaXMub3BhY2l0eT1hKTtpZih0aGlzLmdldFZpc2liaWxpdHkoKSl7dmFyIGI9dGhpcy5nZXRNYXBDb250YWluZXIoKTtPcGVuTGF5ZXJzLlV0aWwubW9kaWZ5RE9NRWxlbWVudChiLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLGEpfX0sZGVzdHJveTpmdW5jdGlvbigpe2lmKHRoaXMubWFwKXt0aGlzLnNldEdNYXBWaXNpYmlsaXR5KCExKTt2YXIgYT1PcGVuTGF5ZXJzLkxheWVyLkdvb2dsZS5jYWNoZVt0aGlzLm1hcC5pZF07YSYmMT49YS5jb3VudCYmCnRoaXMucmVtb3ZlR01hcEVsZW1lbnRzKCl9T3BlbkxheWVycy5MYXllci5FdmVudFBhbmUucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxyZW1vdmVHTWFwRWxlbWVudHM6ZnVuY3Rpb24oKXt2YXIgYT1PcGVuTGF5ZXJzLkxheWVyLkdvb2dsZS5jYWNoZVt0aGlzLm1hcC5pZF07aWYoYSl7dmFyIGI9dGhpcy5tYXBPYmplY3QmJnRoaXMuZ2V0TWFwQ29udGFpbmVyKCk7YiYmYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik7KGI9YS50ZXJtc09mVXNlKSYmYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik7KGE9YS5wb3dlcmVkQnkpJiZhLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKTt0aGlzLm1hcE9iamVjdCYmKHdpbmRvdy5nb29nbGUmJmdvb2dsZS5tYXBzJiZnb29nbGUubWFwcy5ldmVudCYmZ29vZ2xlLm1hcHMuZXZlbnQuY2xlYXJMaXN0ZW5lcnMpJiZnb29nbGUubWFwcy5ldmVudC5jbGVhckxpc3RlbmVycyh0aGlzLm1hcE9iamVjdCwKInRpbGVzbG9hZGVkIil9fSxyZW1vdmVNYXA6ZnVuY3Rpb24oYSl7dGhpcy52aXNpYmlsaXR5JiZ0aGlzLm1hcE9iamVjdCYmdGhpcy5zZXRHTWFwVmlzaWJpbGl0eSghMSk7dmFyIGI9T3BlbkxheWVycy5MYXllci5Hb29nbGUuY2FjaGVbYS5pZF07YiYmKDE+PWIuY291bnQ/KHRoaXMucmVtb3ZlR01hcEVsZW1lbnRzKCksZGVsZXRlIE9wZW5MYXllcnMuTGF5ZXIuR29vZ2xlLmNhY2hlW2EuaWRdKTotLWIuY291bnQpO2RlbGV0ZSB0aGlzLnRlcm1zT2ZVc2U7ZGVsZXRlIHRoaXMucG93ZXJlZEJ5O2RlbGV0ZSB0aGlzLm1hcE9iamVjdDtkZWxldGUgdGhpcy5kcmFnT2JqZWN0O09wZW5MYXllcnMuTGF5ZXIuRXZlbnRQYW5lLnByb3RvdHlwZS5yZW1vdmVNYXAuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxnZXRPTEJvdW5kc0Zyb21NYXBPYmplY3RCb3VuZHM6ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtudWxsIT1hJiYoYj1hLmdldFNvdXRoV2VzdCgpLGE9YS5nZXROb3J0aEVhc3QoKSx0aGlzLnNwaGVyaWNhbE1lcmNhdG9yPwooYj10aGlzLmZvcndhcmRNZXJjYXRvcihiLmxuZygpLGIubGF0KCkpLGE9dGhpcy5mb3J3YXJkTWVyY2F0b3IoYS5sbmcoKSxhLmxhdCgpKSk6KGI9bmV3IE9wZW5MYXllcnMuTG9uTGF0KGIubG5nKCksYi5sYXQoKSksYT1uZXcgT3BlbkxheWVycy5Mb25MYXQoYS5sbmcoKSxhLmxhdCgpKSksYj1uZXcgT3BlbkxheWVycy5Cb3VuZHMoYi5sb24sYi5sYXQsYS5sb24sYS5sYXQpKTtyZXR1cm4gYn0sZ2V0V2FybmluZ0hUTUw6ZnVuY3Rpb24oKXtyZXR1cm4gT3BlbkxheWVycy5pMThuKCJnb29nbGVXYXJuaW5nIil9LGdldE1hcE9iamVjdENlbnRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcE9iamVjdC5nZXRDZW50ZXIoKX0sZ2V0TWFwT2JqZWN0Wm9vbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcE9iamVjdC5nZXRab29tKCl9LGdldExvbmdpdHVkZUZyb21NYXBPYmplY3RMb25MYXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc3BoZXJpY2FsTWVyY2F0b3I/dGhpcy5mb3J3YXJkTWVyY2F0b3IoYS5sbmcoKSwKYS5sYXQoKSkubG9uOmEubG5nKCl9LGdldExhdGl0dWRlRnJvbU1hcE9iamVjdExvbkxhdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zcGhlcmljYWxNZXJjYXRvcj90aGlzLmZvcndhcmRNZXJjYXRvcihhLmxuZygpLGEubGF0KCkpLmxhdDphLmxhdCgpfSxnZXRYRnJvbU1hcE9iamVjdFBpeGVsOmZ1bmN0aW9uKGEpe3JldHVybiBhLnh9LGdldFlGcm9tTWFwT2JqZWN0UGl4ZWw6ZnVuY3Rpb24oYSl7cmV0dXJuIGEueX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5Hb29nbGUifSk7T3BlbkxheWVycy5MYXllci5Hb29nbGUuY2FjaGU9e307Ck9wZW5MYXllcnMuTGF5ZXIuR29vZ2xlLnYyPXt0ZXJtc09mVXNlOm51bGwscG93ZXJlZEJ5Om51bGwsZHJhZ09iamVjdDpudWxsLGxvYWRNYXBPYmplY3Q6ZnVuY3Rpb24oKXt0aGlzLnR5cGV8fCh0aGlzLnR5cGU9R19OT1JNQUxfTUFQKTt2YXIgYSxiLGMsZD1PcGVuTGF5ZXJzLkxheWVyLkdvb2dsZS5jYWNoZVt0aGlzLm1hcC5pZF07aWYoZClhPWQubWFwT2JqZWN0LGI9ZC50ZXJtc09mVXNlLGM9ZC5wb3dlcmVkQnksKytkLmNvdW50O2Vsc2V7dmFyIGQ9dGhpcy5tYXAudmlld1BvcnREaXYsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtlLmlkPXRoaXMubWFwLmlkKyJfR01hcDJDb250YWluZXIiO2Uuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtlLnN0eWxlLndpZHRoPSIxMDAlIjtlLnN0eWxlLmhlaWdodD0iMTAwJSI7ZC5hcHBlbmRDaGlsZChlKTt0cnl7YT1uZXcgR01hcDIoZSksYj1lLmxhc3RDaGlsZCxkLmFwcGVuZENoaWxkKGIpLGIuc3R5bGUuekluZGV4PQoiMTEwMCIsYi5zdHlsZS5yaWdodD0iIixiLnN0eWxlLmJvdHRvbT0iIixiLmNsYXNzTmFtZT0ib2xMYXllckdvb2dsZUNvcHlyaWdodCIsYz1lLmxhc3RDaGlsZCxkLmFwcGVuZENoaWxkKGMpLGMuc3R5bGUuekluZGV4PSIxMTAwIixjLnN0eWxlLnJpZ2h0PSIiLGMuc3R5bGUuYm90dG9tPSIiLGMuY2xhc3NOYW1lPSJvbExheWVyR29vZ2xlUG93ZXJlZEJ5IGdtbm9wcmludCJ9Y2F0Y2goZil7dGhyb3cgZjt9T3BlbkxheWVycy5MYXllci5Hb29nbGUuY2FjaGVbdGhpcy5tYXAuaWRdPXttYXBPYmplY3Q6YSx0ZXJtc09mVXNlOmIscG93ZXJlZEJ5OmMsY291bnQ6MX19dGhpcy5tYXBPYmplY3Q9YTt0aGlzLnRlcm1zT2ZVc2U9Yjt0aGlzLnBvd2VyZWRCeT1jOy0xPT09T3BlbkxheWVycy5VdGlsLmluZGV4T2YodGhpcy5tYXBPYmplY3QuZ2V0TWFwVHlwZXMoKSx0aGlzLnR5cGUpJiZ0aGlzLm1hcE9iamVjdC5hZGRNYXBUeXBlKHRoaXMudHlwZSk7ImZ1bmN0aW9uIj09dHlwZW9mIGEuZ2V0RHJhZ09iamVjdD8KdGhpcy5kcmFnT2JqZWN0PWEuZ2V0RHJhZ09iamVjdCgpOnRoaXMuZHJhZ1Bhbk1hcE9iamVjdD1udWxsOyExPT09dGhpcy5pc0Jhc2VMYXllciYmdGhpcy5zZXRHTWFwVmlzaWJpbGl0eSgibm9uZSIhPT10aGlzLmRpdi5zdHlsZS5kaXNwbGF5KX0sb25NYXBSZXNpemU6ZnVuY3Rpb24oKXtpZih0aGlzLnZpc2liaWxpdHkmJnRoaXMubWFwT2JqZWN0LmlzTG9hZGVkKCkpdGhpcy5tYXBPYmplY3QuY2hlY2tSZXNpemUoKTtlbHNle2lmKCF0aGlzLl9yZXNpemVkKXZhciBhPXRoaXMsYj1HRXZlbnQuYWRkTGlzdGVuZXIodGhpcy5tYXBPYmplY3QsImxvYWQiLGZ1bmN0aW9uKCl7R0V2ZW50LnJlbW92ZUxpc3RlbmVyKGIpO2RlbGV0ZSBhLl9yZXNpemVkO2EubWFwT2JqZWN0LmNoZWNrUmVzaXplKCk7YS5tb3ZlVG8oYS5tYXAuZ2V0Q2VudGVyKCksYS5tYXAuZ2V0Wm9vbSgpKX0pO3RoaXMuX3Jlc2l6ZWQ9ITB9fSxzZXRHTWFwVmlzaWJpbGl0eTpmdW5jdGlvbihhKXt2YXIgYj1PcGVuTGF5ZXJzLkxheWVyLkdvb2dsZS5jYWNoZVt0aGlzLm1hcC5pZF07CmlmKGIpe3ZhciBjPXRoaXMubWFwT2JqZWN0LmdldENvbnRhaW5lcigpOyEwPT09YT8odGhpcy5tYXBPYmplY3Quc2V0TWFwVHlwZSh0aGlzLnR5cGUpLGMuc3R5bGUuZGlzcGxheT0iIix0aGlzLnRlcm1zT2ZVc2Uuc3R5bGUubGVmdD0iIix0aGlzLnRlcm1zT2ZVc2Uuc3R5bGUuZGlzcGxheT0iIix0aGlzLnBvd2VyZWRCeS5zdHlsZS5kaXNwbGF5PSIiLGIuZGlzcGxheWVkPXRoaXMuaWQpOihiLmRpc3BsYXllZD09PXRoaXMuaWQmJmRlbGV0ZSBiLmRpc3BsYXllZCxiLmRpc3BsYXllZHx8KGMuc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy50ZXJtc09mVXNlLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMudGVybXNPZlVzZS5zdHlsZS5sZWZ0PSItOTk5OXB4Iix0aGlzLnBvd2VyZWRCeS5zdHlsZS5kaXNwbGF5PSJub25lIikpfX0sZ2V0TWFwQ29udGFpbmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwT2JqZWN0LmdldENvbnRhaW5lcigpfSxnZXRNYXBPYmplY3RCb3VuZHNGcm9tT0xCb3VuZHM6ZnVuY3Rpb24oYSl7dmFyIGI9Cm51bGw7bnVsbCE9YSYmKGI9dGhpcy5zcGhlcmljYWxNZXJjYXRvcj90aGlzLmludmVyc2VNZXJjYXRvcihhLmJvdHRvbSxhLmxlZnQpOm5ldyBPcGVuTGF5ZXJzLkxvbkxhdChhLmJvdHRvbSxhLmxlZnQpLGE9dGhpcy5zcGhlcmljYWxNZXJjYXRvcj90aGlzLmludmVyc2VNZXJjYXRvcihhLnRvcCxhLnJpZ2h0KTpuZXcgT3BlbkxheWVycy5Mb25MYXQoYS50b3AsYS5yaWdodCksYj1uZXcgR0xhdExuZ0JvdW5kcyhuZXcgR0xhdExuZyhiLmxhdCxiLmxvbiksbmV3IEdMYXRMbmcoYS5sYXQsYS5sb24pKSk7cmV0dXJuIGJ9LHNldE1hcE9iamVjdENlbnRlcjpmdW5jdGlvbihhLGIpe3RoaXMubWFwT2JqZWN0LnNldENlbnRlcihhLGIpfSxkcmFnUGFuTWFwT2JqZWN0OmZ1bmN0aW9uKGEsYil7dGhpcy5kcmFnT2JqZWN0Lm1vdmVCeShuZXcgR1NpemUoLWEsYikpfSxnZXRNYXBPYmplY3RMb25MYXRGcm9tTWFwT2JqZWN0UGl4ZWw6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubWFwT2JqZWN0LmZyb21Db250YWluZXJQaXhlbFRvTGF0TG5nKGEpfSwKZ2V0TWFwT2JqZWN0UGl4ZWxGcm9tTWFwT2JqZWN0TG9uTGF0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1hcE9iamVjdC5mcm9tTGF0TG5nVG9Db250YWluZXJQaXhlbChhKX0sZ2V0TWFwT2JqZWN0Wm9vbUZyb21NYXBPYmplY3RCb3VuZHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubWFwT2JqZWN0LmdldEJvdW5kc1pvb21MZXZlbChhKX0sZ2V0TWFwT2JqZWN0TG9uTGF0RnJvbUxvbkxhdDpmdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuc3BoZXJpY2FsTWVyY2F0b3I/KGM9dGhpcy5pbnZlcnNlTWVyY2F0b3IoYSxiKSxjPW5ldyBHTGF0TG5nKGMubGF0LGMubG9uKSk6Yz1uZXcgR0xhdExuZyhiLGEpO3JldHVybiBjfSxnZXRNYXBPYmplY3RQaXhlbEZyb21YWTpmdW5jdGlvbihhLGIpe3JldHVybiBuZXcgR1BvaW50KGEsYil9fTtPcGVuTGF5ZXJzLkZvcm1hdC5UTVNDYXBhYmlsaXRpZXM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwse2RlZmF1bHRQcmVmaXg6InRtcyIscmVhZGVyczp7dG1zOntTZXJ2aWNlczpmdW5jdGlvbihhLGIpe2Iuc2VydmljZXM9W107dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxUaWxlTWFwU2VydmljZTpmdW5jdGlvbihhLGIpe2Iuc2VydmljZXM/Yi5zZXJ2aWNlcy5wdXNoKHtzZXJ2aWNlOiJUTVMiLHZlcnNpb246YS5nZXRBdHRyaWJ1dGUoInZlcnNpb24iKSx0aXRsZTphLmdldEF0dHJpYnV0ZSgidGl0bGUiKSxocmVmOmEuZ2V0QXR0cmlidXRlKCJocmVmIil9KTp0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LFRpbGVNYXBzOmZ1bmN0aW9uKGEsYil7Yi50aWxlTWFwcz1bXTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LFRpbGVNYXA6ZnVuY3Rpb24oYSxiKXtiLnRpbGVNYXBzP2IudGlsZU1hcHMucHVzaCh7aHJlZjphLmdldEF0dHJpYnV0ZSgiaHJlZiIpLApzcnM6YS5nZXRBdHRyaWJ1dGUoInNycyIpLHRpdGxlOmEuZ2V0QXR0cmlidXRlKCJ0aXRsZSIpLHByb2ZpbGU6YS5nZXRBdHRyaWJ1dGUoInByb2ZpbGUiKX0pOihiLnZlcnNpb249YS5nZXRBdHRyaWJ1dGUoInZlcnNpb24iKSxiLnRpbGVNYXBTZXJ2aWNlPWEuZ2V0QXR0cmlidXRlKCJ0aWxlbWFwc2VydmljZSIpLHRoaXMucmVhZENoaWxkTm9kZXMoYSxiKSl9LFRpdGxlOmZ1bmN0aW9uKGEsYil7Yi50aXRsZT10aGlzLmdldENoaWxkVmFsdWUoYSl9LEFic3RyYWN0OmZ1bmN0aW9uKGEsYil7YlsiYWJzdHJhY3QiXT10aGlzLmdldENoaWxkVmFsdWUoYSl9LFNSUzpmdW5jdGlvbihhLGIpe2Iuc3JzPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sQm91bmRpbmdCb3g6ZnVuY3Rpb24oYSxiKXtiLmJib3g9bmV3IE9wZW5MYXllcnMuQm91bmRzKGEuZ2V0QXR0cmlidXRlKCJtaW54IiksYS5nZXRBdHRyaWJ1dGUoIm1pbnkiKSxhLmdldEF0dHJpYnV0ZSgibWF4eCIpLGEuZ2V0QXR0cmlidXRlKCJtYXh5IikpfSwKT3JpZ2luOmZ1bmN0aW9uKGEsYil7Yi5vcmlnaW49bmV3IE9wZW5MYXllcnMuTG9uTGF0KGEuZ2V0QXR0cmlidXRlKCJ4IiksYS5nZXRBdHRyaWJ1dGUoInkiKSl9LFRpbGVGb3JtYXQ6ZnVuY3Rpb24oYSxiKXtiLnRpbGVGb3JtYXQ9e3dpZHRoOnBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpLDEwKSxoZWlnaHQ6cGFyc2VJbnQoYS5nZXRBdHRyaWJ1dGUoImhlaWdodCIpLDEwKSxtaW1lVHlwZTphLmdldEF0dHJpYnV0ZSgibWltZS10eXBlIiksZXh0ZW5zaW9uOmEuZ2V0QXR0cmlidXRlKCJleHRlbnNpb24iKX19LFRpbGVTZXRzOmZ1bmN0aW9uKGEsYil7Yi50aWxlU2V0cz1bXTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LFRpbGVTZXQ6ZnVuY3Rpb24oYSxiKXtiLnRpbGVTZXRzLnB1c2goe2hyZWY6YS5nZXRBdHRyaWJ1dGUoImhyZWYiKSx1bml0c1BlclBpeGVsOnBhcnNlRmxvYXQoYS5nZXRBdHRyaWJ1dGUoInVuaXRzLXBlci1waXhlbCIpKSxvcmRlcjpwYXJzZUludChhLmdldEF0dHJpYnV0ZSgib3JkZXIiKSwKMTApfSl9LFRpbGVNYXBTZXJ2ZXJFcnJvcjpmdW5jdGlvbihhLGIpe2IuZXJyb3I9ITB9LE1lc3NhZ2U6ZnVuY3Rpb24oYSxiKXtiLm1lc3NhZ2U9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfX19LHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PXR5cGVvZiBhJiYoYT1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxbYV0pKTthJiY5PT1hLm5vZGVUeXBlJiYoYT1hLmRvY3VtZW50RWxlbWVudCk7dmFyIGI9e307dGhpcy5yZWFkTm9kZShhLGIpO3JldHVybiBifSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5UTVNDYXBhYmlsaXRpZXMifSk7T3BlbkxheWVycy5Gb3JtYXQuV0ZTVD1mdW5jdGlvbihhKXt2YXIgYT1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLE9wZW5MYXllcnMuRm9ybWF0LldGU1QuREVGQVVMVFMpLGI9T3BlbkxheWVycy5Gb3JtYXQuV0ZTVFsidiIrYS52ZXJzaW9uLnJlcGxhY2UoL1wuL2csIl8iKV07aWYoIWIpdGhyb3ciVW5zdXBwb3J0ZWQgV0ZTVCB2ZXJzaW9uOiAiK2EudmVyc2lvbjtyZXR1cm4gbmV3IGIoYSl9O09wZW5MYXllcnMuRm9ybWF0LldGU1QuREVGQVVMVFM9e3ZlcnNpb246IjEuMC4wIn07T3BlbkxheWVycy5TdHlsZT1PcGVuTGF5ZXJzLkNsYXNzKHtpZDpudWxsLG5hbWU6bnVsbCx0aXRsZTpudWxsLGRlc2NyaXB0aW9uOm51bGwsbGF5ZXJOYW1lOm51bGwsaXNEZWZhdWx0OiExLHJ1bGVzOm51bGwsY29udGV4dDpudWxsLGRlZmF1bHRTdHlsZTpudWxsLGRlZmF1bHRzUGVyU3ltYm9saXplcjohMSxwcm9wZXJ0eVN0eWxlczpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsYik7dGhpcy5ydWxlcz1bXTtiJiZiLnJ1bGVzJiZ0aGlzLmFkZFJ1bGVzKGIucnVsZXMpO3RoaXMuc2V0RGVmYXVsdFN0eWxlKGF8fE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3Iuc3R5bGVbImRlZmF1bHQiXSk7dGhpcy5pZD1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlVW5pcXVlSUQodGhpcy5DTEFTU19OQU1FKyJfIil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPXRoaXMucnVsZXMubGVuZ3RoO2E8YjthKyspdGhpcy5ydWxlc1thXS5kZXN0cm95KCksCnRoaXMucnVsZXNbYV09bnVsbDt0aGlzLmRlZmF1bHRTdHlsZT10aGlzLnJ1bGVzPW51bGx9LGNyZWF0ZVN5bWJvbGl6ZXI6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuZGVmYXVsdHNQZXJTeW1ib2xpemVyP3t9OnRoaXMuY3JlYXRlTGl0ZXJhbHMoT3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSx0aGlzLmRlZmF1bHRTdHlsZSksYSksYz10aGlzLnJ1bGVzLGQsZT1bXSxmPSExLGc9MCxoPWMubGVuZ3RoO2c8aDtnKyspZD1jW2ddLGQuZXZhbHVhdGUoYSkmJihkIGluc3RhbmNlb2YgT3BlbkxheWVycy5SdWxlJiZkLmVsc2VGaWx0ZXI/ZS5wdXNoKGQpOihmPSEwLHRoaXMuYXBwbHlTeW1ib2xpemVyKGQsYixhKSkpO2lmKCExPT1mJiYwPGUubGVuZ3RoKXtmPSEwO2c9MDtmb3IoaD1lLmxlbmd0aDtnPGg7ZysrKXRoaXMuYXBwbHlTeW1ib2xpemVyKGVbZ10sYixhKX0wPGMubGVuZ3RoJiYhMT09ZiYmKGIuZGlzcGxheT0ibm9uZSIpO251bGwhPWIubGFiZWwmJiJzdHJpbmciIT09dHlwZW9mIGIubGFiZWwmJgooYi5sYWJlbD1TdHJpbmcoYi5sYWJlbCkpO3JldHVybiBifSxhcHBseVN5bWJvbGl6ZXI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWMuZ2VvbWV0cnk/dGhpcy5nZXRTeW1ib2xpemVyUHJlZml4KGMuZ2VvbWV0cnkpOk9wZW5MYXllcnMuU3R5bGUuU1lNQk9MSVpFUl9QUkVGSVhFU1swXSxhPWEuc3ltYm9saXplcltkXXx8YS5zeW1ib2xpemVyOyEwPT09dGhpcy5kZWZhdWx0c1BlclN5bWJvbGl6ZXImJihkPXRoaXMuZGVmYXVsdFN0eWxlLE9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGEse3BvaW50UmFkaXVzOmQucG9pbnRSYWRpdXN9KSwoITA9PT1hLnN0cm9rZXx8ITA9PT1hLmdyYXBoaWMpJiZPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLHtzdHJva2VXaWR0aDpkLnN0cm9rZVdpZHRoLHN0cm9rZUNvbG9yOmQuc3Ryb2tlQ29sb3Isc3Ryb2tlT3BhY2l0eTpkLnN0cm9rZU9wYWNpdHksc3Ryb2tlRGFzaHN0eWxlOmQuc3Ryb2tlRGFzaHN0eWxlLHN0cm9rZUxpbmVjYXA6ZC5zdHJva2VMaW5lY2FwfSksCighMD09PWEuZmlsbHx8ITA9PT1hLmdyYXBoaWMpJiZPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLHtmaWxsQ29sb3I6ZC5maWxsQ29sb3IsZmlsbE9wYWNpdHk6ZC5maWxsT3BhY2l0eX0pLCEwPT09YS5ncmFwaGljJiZPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLHtwb2ludFJhZGl1czp0aGlzLmRlZmF1bHRTdHlsZS5wb2ludFJhZGl1cyxleHRlcm5hbEdyYXBoaWM6dGhpcy5kZWZhdWx0U3R5bGUuZXh0ZXJuYWxHcmFwaGljLGdyYXBoaWNOYW1lOnRoaXMuZGVmYXVsdFN0eWxlLmdyYXBoaWNOYW1lLGdyYXBoaWNPcGFjaXR5OnRoaXMuZGVmYXVsdFN0eWxlLmdyYXBoaWNPcGFjaXR5LGdyYXBoaWNXaWR0aDp0aGlzLmRlZmF1bHRTdHlsZS5ncmFwaGljV2lkdGgsZ3JhcGhpY0hlaWdodDp0aGlzLmRlZmF1bHRTdHlsZS5ncmFwaGljSGVpZ2h0LGdyYXBoaWNYT2Zmc2V0OnRoaXMuZGVmYXVsdFN0eWxlLmdyYXBoaWNYT2Zmc2V0LGdyYXBoaWNZT2Zmc2V0OnRoaXMuZGVmYXVsdFN0eWxlLmdyYXBoaWNZT2Zmc2V0fSkpOwpyZXR1cm4gdGhpcy5jcmVhdGVMaXRlcmFscyhPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGIsYSksYyl9LGNyZWF0ZUxpdGVyYWxzOmZ1bmN0aW9uKGEsYil7dmFyIGM9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSxiLmF0dHJpYnV0ZXN8fGIuZGF0YSk7T3BlbkxheWVycy5VdGlsLmV4dGVuZChjLHRoaXMuY29udGV4dCk7Zm9yKHZhciBkIGluIHRoaXMucHJvcGVydHlTdHlsZXMpYVtkXT1PcGVuTGF5ZXJzLlN0eWxlLmNyZWF0ZUxpdGVyYWwoYVtkXSxjLGIsZCk7cmV0dXJuIGF9LGZpbmRQcm9wZXJ0eVN0eWxlczpmdW5jdGlvbigpe3ZhciBhPXt9O3RoaXMuYWRkUHJvcGVydHlTdHlsZXMoYSx0aGlzLmRlZmF1bHRTdHlsZSk7Zm9yKHZhciBiPXRoaXMucnVsZXMsYyxkLGU9MCxmPWIubGVuZ3RoO2U8ZjtlKyspe2M9YltlXS5zeW1ib2xpemVyO2Zvcih2YXIgZyBpbiBjKWlmKGQ9Y1tnXSwib2JqZWN0Ij09dHlwZW9mIGQpdGhpcy5hZGRQcm9wZXJ0eVN0eWxlcyhhLGQpO2Vsc2V7dGhpcy5hZGRQcm9wZXJ0eVN0eWxlcyhhLApjKTticmVha319cmV0dXJuIGF9LGFkZFByb3BlcnR5U3R5bGVzOmZ1bmN0aW9uKGEsYil7dmFyIGMsZDtmb3IoZCBpbiBiKWM9YltkXSwic3RyaW5nIj09dHlwZW9mIGMmJmMubWF0Y2goL1wkXHtcdytcfS8pJiYoYVtkXT0hMCk7cmV0dXJuIGF9LGFkZFJ1bGVzOmZ1bmN0aW9uKGEpe0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHRoaXMucnVsZXMsYSk7dGhpcy5wcm9wZXJ0eVN0eWxlcz10aGlzLmZpbmRQcm9wZXJ0eVN0eWxlcygpfSxzZXREZWZhdWx0U3R5bGU6ZnVuY3Rpb24oYSl7dGhpcy5kZWZhdWx0U3R5bGU9YTt0aGlzLnByb3BlcnR5U3R5bGVzPXRoaXMuZmluZFByb3BlcnR5U3R5bGVzKCl9LGdldFN5bWJvbGl6ZXJQcmVmaXg6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU9wZW5MYXllcnMuU3R5bGUuU1lNQk9MSVpFUl9QUkVGSVhFUyxjPTAsZD1iLmxlbmd0aDtjPGQ7YysrKWlmKC0xIT1hLkNMQVNTX05BTUUuaW5kZXhPZihiW2NdKSlyZXR1cm4gYltjXX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgYT0KT3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSx0aGlzKTtpZih0aGlzLnJ1bGVzKXthLnJ1bGVzPVtdO2Zvcih2YXIgYj0wLGM9dGhpcy5ydWxlcy5sZW5ndGg7YjxjOysrYilhLnJ1bGVzLnB1c2godGhpcy5ydWxlc1tiXS5jbG9uZSgpKX1hLmNvbnRleHQ9dGhpcy5jb250ZXh0JiZPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LHRoaXMuY29udGV4dCk7Yj1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LHRoaXMuZGVmYXVsdFN0eWxlKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuU3R5bGUoYixhKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5TdHlsZSJ9KTtPcGVuTGF5ZXJzLlN0eWxlLmNyZWF0ZUxpdGVyYWw9ZnVuY3Rpb24oYSxiLGMsZCl7InN0cmluZyI9PXR5cGVvZiBhJiYtMSE9YS5pbmRleE9mKCIkeyIpJiYoYT1PcGVuTGF5ZXJzLlN0cmluZy5mb3JtYXQoYSxiLFtjLGRdKSxhPWlzTmFOKGEpfHwhYT9hOnBhcnNlRmxvYXQoYSkpO3JldHVybiBhfTsKT3BlbkxheWVycy5TdHlsZS5TWU1CT0xJWkVSX1BSRUZJWEVTPVsiUG9pbnQiLCJMaW5lIiwiUG9seWdvbiIsIlRleHQiLCJSYXN0ZXIiXTtPcGVuTGF5ZXJzLkZpbHRlcj1PcGVuTGF5ZXJzLkNsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcyxhKX0sZGVzdHJveTpmdW5jdGlvbigpe30sZXZhbHVhdGU6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gT3BlbkxheWVycy5Gb3JtYXQmJk9wZW5MYXllcnMuRm9ybWF0LkNRTD9PcGVuTGF5ZXJzLkZvcm1hdC5DUUwucHJvdG90eXBlLndyaXRlKHRoaXMpOk9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0aGlzKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5GaWx0ZXIifSk7T3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRmlsdGVyLHt0eXBlOm51bGwscHJvcGVydHk6bnVsbCx2YWx1ZTpudWxsLGRpc3RhbmNlOm51bGwsZGlzdGFuY2VVbml0czpudWxsLGV2YWx1YXRlOmZ1bmN0aW9uKGEpe3ZhciBiPSExO3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5CQk9YOmNhc2UgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5JTlRFUlNFQ1RTOmlmKGEuZ2VvbWV0cnkpe3ZhciBjPXRoaXMudmFsdWU7Ik9wZW5MYXllcnMuQm91bmRzIj09dGhpcy52YWx1ZS5DTEFTU19OQU1FJiYoYz10aGlzLnZhbHVlLnRvR2VvbWV0cnkoKSk7YS5nZW9tZXRyeS5pbnRlcnNlY3RzKGMpJiYoYj0hMCl9YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcigiZXZhbHVhdGUgaXMgbm90IGltcGxlbWVudGVkIGZvciB0aGlzIGZpbHRlciB0eXBlLiIpO31yZXR1cm4gYn0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgYT0KT3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3ZhbHVlOnRoaXMudmFsdWUmJnRoaXMudmFsdWUuY2xvbmUmJnRoaXMudmFsdWUuY2xvbmUoKX0sdGhpcyk7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsKGEpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsIn0pO09wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwuQkJPWD0iQkJPWCI7T3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5JTlRFUlNFQ1RTPSJJTlRFUlNFQ1RTIjtPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsLkRXSVRISU49IkRXSVRISU4iO09wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwuV0lUSElOPSJXSVRISU4iO09wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwuQ09OVEFJTlM9IkNPTlRBSU5TIjtPcGVuTGF5ZXJzLkZpbHRlci5GZWF0dXJlSWQ9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZpbHRlcix7ZmlkczpudWxsLHR5cGU6IkZJRCIsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXt0aGlzLmZpZHM9W107T3BlbkxheWVycy5GaWx0ZXIucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pfSxldmFsdWF0ZTpmdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjPXRoaXMuZmlkcy5sZW5ndGg7YjxjO2IrKylpZigoYS5maWR8fGEuaWQpPT10aGlzLmZpZHNbYl0pcmV0dXJuITA7cmV0dXJuITF9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IE9wZW5MYXllcnMuRmlsdGVyLkZlYXR1cmVJZDtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGEsdGhpcyk7YS5maWRzPXRoaXMuZmlkcy5zbGljZSgpO3JldHVybiBhfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZpbHRlci5GZWF0dXJlSWQifSk7T3BlbkxheWVycy5Gb3JtYXQuV0ZTVC52MT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7bmFtZXNwYWNlczp7eGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiLHdmczoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC93ZnMiLGdtbDoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwiLG9nYzoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vZ2MiLG93czoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vd3MifSxkZWZhdWx0UHJlZml4OiJ3ZnMiLHZlcnNpb246bnVsbCxzY2hlbWFMb2NhdGlvbnM6bnVsbCxzcnNOYW1lOm51bGwsZXh0cmFjdEF0dHJpYnV0ZXM6ITAseHk6ITAsc3RhdGVOYW1lOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXt0aGlzLnN0YXRlTmFtZT17fTt0aGlzLnN0YXRlTmFtZVtPcGVuTGF5ZXJzLlN0YXRlLklOU0VSVF09IndmczpJbnNlcnQiO3RoaXMuc3RhdGVOYW1lW09wZW5MYXllcnMuU3RhdGUuVVBEQVRFXT0KIndmczpVcGRhdGUiO3RoaXMuc3RhdGVOYW1lW09wZW5MYXllcnMuU3RhdGUuREVMRVRFXT0id2ZzOkRlbGV0ZSI7T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKX0sZ2V0U3JzTmFtZTpmdW5jdGlvbihhLGIpe3ZhciBjPWImJmIuc3JzTmFtZTtjfHwoYz1hJiZhLmxheWVyP2EubGF5ZXIucHJvamVjdGlvbi5nZXRDb2RlKCk6dGhpcy5zcnNOYW1lKTtyZXR1cm4gY30scmVhZDpmdW5jdGlvbihhLGIpe2I9Ynx8e307T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYix7b3V0cHV0OiJmZWF0dXJlcyJ9KTsic3RyaW5nIj09dHlwZW9mIGEmJihhPU9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUucmVhZC5hcHBseSh0aGlzLFthXSkpO2EmJjk9PWEubm9kZVR5cGUmJihhPWEuZG9jdW1lbnRFbGVtZW50KTt2YXIgYz17fTthJiZ0aGlzLnJlYWROb2RlKGEsYywhMCk7Yy5mZWF0dXJlcyYmImZlYXR1cmVzIj09PWIub3V0cHV0JiYKKGM9Yy5mZWF0dXJlcyk7cmV0dXJuIGN9LHJlYWRlcnM6e3dmczp7RmVhdHVyZUNvbGxlY3Rpb246ZnVuY3Rpb24oYSxiKXtiLmZlYXR1cmVzPVtdO3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX19fSx3cml0ZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMud3JpdGVOb2RlKCJ3ZnM6VHJhbnNhY3Rpb24iLHtmZWF0dXJlczphLG9wdGlvbnM6Yn0pLGQ9dGhpcy5zY2hlbWFMb2NhdGlvbkF0dHIoKTtkJiZ0aGlzLnNldEF0dHJpYnV0ZU5TKGMsdGhpcy5uYW1lc3BhY2VzLnhzaSwieHNpOnNjaGVtYUxvY2F0aW9uIixkKTtyZXR1cm4gT3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS53cml0ZS5hcHBseSh0aGlzLFtjXSl9LHdyaXRlcnM6e3dmczp7R2V0RmVhdHVyZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIndmczpHZXRGZWF0dXJlIix7YXR0cmlidXRlczp7c2VydmljZToiV0ZTIix2ZXJzaW9uOnRoaXMudmVyc2lvbixoYW5kbGU6YSYmYS5oYW5kbGUsCm91dHB1dEZvcm1hdDphJiZhLm91dHB1dEZvcm1hdCxtYXhGZWF0dXJlczphJiZhLm1heEZlYXR1cmVzLCJ4c2k6c2NoZW1hTG9jYXRpb24iOnRoaXMuc2NoZW1hTG9jYXRpb25BdHRyKGEpfX0pO2lmKCJzdHJpbmciPT10eXBlb2YgdGhpcy5mZWF0dXJlVHlwZSl0aGlzLndyaXRlTm9kZSgiUXVlcnkiLGEsYik7ZWxzZSBmb3IodmFyIGM9MCxkPXRoaXMuZmVhdHVyZVR5cGUubGVuZ3RoO2M8ZDtjKyspYS5mZWF0dXJlVHlwZT10aGlzLmZlYXR1cmVUeXBlW2NdLHRoaXMud3JpdGVOb2RlKCJRdWVyeSIsYSxiKTtyZXR1cm4gYn0sVHJhbnNhY3Rpb246ZnVuY3Rpb24oYSl7dmFyIGE9YXx8e30sYj1hLm9wdGlvbnN8fHt9LGM9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3ZnM6VHJhbnNhY3Rpb24iLHthdHRyaWJ1dGVzOntzZXJ2aWNlOiJXRlMiLHZlcnNpb246dGhpcy52ZXJzaW9uLGhhbmRsZTpiLmhhbmRsZX19KSxkLGU9YS5mZWF0dXJlcztpZihlKXshMD09PWIubXVsdGkmJk9wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcy5nZW9tZXRyeVR5cGVzLAp7Ik9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQiOiJNdWx0aVBvaW50IiwiT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nIjohMD09PXRoaXMubXVsdGlDdXJ2ZT8iTXVsdGlDdXJ2ZSI6Ik11bHRpTGluZVN0cmluZyIsIk9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbiI6ITA9PT10aGlzLm11bHRpU3VyZmFjZT8iTXVsdGlTdXJmYWNlIjoiTXVsdGlQb2x5Z29uIn0pO3ZhciBmLGcsYT0wO2ZvcihkPWUubGVuZ3RoO2E8ZDsrK2EpZz1lW2FdLChmPXRoaXMuc3RhdGVOYW1lW2cuc3RhdGVdKSYmdGhpcy53cml0ZU5vZGUoZix7ZmVhdHVyZTpnLG9wdGlvbnM6Yn0sYyk7ITA9PT1iLm11bHRpJiZ0aGlzLnNldEdlb21ldHJ5VHlwZXMoKX1pZihiLm5hdGl2ZUVsZW1lbnRzKXthPTA7Zm9yKGQ9Yi5uYXRpdmVFbGVtZW50cy5sZW5ndGg7YTxkOysrYSl0aGlzLndyaXRlTm9kZSgid2ZzOk5hdGl2ZSIsYi5uYXRpdmVFbGVtZW50c1thXSxjKX1yZXR1cm4gY30sTmF0aXZlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIndmczpOYXRpdmUiLAp7YXR0cmlidXRlczp7dmVuZG9ySWQ6YS52ZW5kb3JJZCxzYWZlVG9JZ25vcmU6YS5zYWZlVG9JZ25vcmV9LHZhbHVlOmEudmFsdWV9KX0sSW5zZXJ0OmZ1bmN0aW9uKGEpe3ZhciBiPWEuZmVhdHVyZSxhPWEub3B0aW9ucyxhPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid2ZzOkluc2VydCIse2F0dHJpYnV0ZXM6e2hhbmRsZTphJiZhLmhhbmRsZX19KTt0aGlzLnNyc05hbWU9dGhpcy5nZXRTcnNOYW1lKGIpO3RoaXMud3JpdGVOb2RlKCJmZWF0dXJlOl90eXBlTmFtZSIsYixhKTtyZXR1cm4gYX0sVXBkYXRlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZmVhdHVyZSxhPWEub3B0aW9ucyxhPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid2ZzOlVwZGF0ZSIse2F0dHJpYnV0ZXM6e2hhbmRsZTphJiZhLmhhbmRsZSx0eXBlTmFtZToodGhpcy5mZWF0dXJlTlM/dGhpcy5mZWF0dXJlUHJlZml4KyI6IjoiIikrdGhpcy5mZWF0dXJlVHlwZX19KTt0aGlzLmZlYXR1cmVOUyYmYS5zZXRBdHRyaWJ1dGUoInhtbG5zOiIrCnRoaXMuZmVhdHVyZVByZWZpeCx0aGlzLmZlYXR1cmVOUyk7dmFyIGM9Yi5tb2RpZmllZDtpZihudWxsIT09dGhpcy5nZW9tZXRyeU5hbWUmJighY3x8dm9pZCAwIT09Yy5nZW9tZXRyeSkpdGhpcy5zcnNOYW1lPXRoaXMuZ2V0U3JzTmFtZShiKSx0aGlzLndyaXRlTm9kZSgiUHJvcGVydHkiLHtuYW1lOnRoaXMuZ2VvbWV0cnlOYW1lLHZhbHVlOmIuZ2VvbWV0cnl9LGEpO2Zvcih2YXIgZCBpbiBiLmF0dHJpYnV0ZXMpdm9pZCAwIT09Yi5hdHRyaWJ1dGVzW2RdJiYoIWN8fCFjLmF0dHJpYnV0ZXN8fGMuYXR0cmlidXRlcyYmZCBpbiBjLmF0dHJpYnV0ZXMpJiZ0aGlzLndyaXRlTm9kZSgiUHJvcGVydHkiLHtuYW1lOmQsdmFsdWU6Yi5hdHRyaWJ1dGVzW2RdfSxhKTt0aGlzLndyaXRlTm9kZSgib2djOkZpbHRlciIsbmV3IE9wZW5MYXllcnMuRmlsdGVyLkZlYXR1cmVJZCh7ZmlkczpbYi5maWRdfSksYSk7cmV0dXJuIGF9LFByb3BlcnR5OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid2ZzOlByb3BlcnR5Iik7CnRoaXMud3JpdGVOb2RlKCJOYW1lIixhLm5hbWUsYik7bnVsbCE9PWEudmFsdWUmJnRoaXMud3JpdGVOb2RlKCJWYWx1ZSIsYS52YWx1ZSxiKTtyZXR1cm4gYn0sTmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3ZnM6TmFtZSIse3ZhbHVlOmF9KX0sVmFsdWU6ZnVuY3Rpb24oYSl7dmFyIGI7YSBpbnN0YW5jZW9mIE9wZW5MYXllcnMuR2VvbWV0cnk/KGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3ZnM6VmFsdWUiKSxhPXRoaXMud3JpdGVOb2RlKCJmZWF0dXJlOl9nZW9tZXRyeSIsYSkuZmlyc3RDaGlsZCxiLmFwcGVuZENoaWxkKGEpKTpiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid2ZzOlZhbHVlIix7dmFsdWU6YX0pO3JldHVybiBifSxEZWxldGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5mZWF0dXJlLGE9YS5vcHRpb25zLGE9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3ZnM6RGVsZXRlIix7YXR0cmlidXRlczp7aGFuZGxlOmEmJgphLmhhbmRsZSx0eXBlTmFtZToodGhpcy5mZWF0dXJlTlM/dGhpcy5mZWF0dXJlUHJlZml4KyI6IjoiIikrdGhpcy5mZWF0dXJlVHlwZX19KTt0aGlzLmZlYXR1cmVOUyYmYS5zZXRBdHRyaWJ1dGUoInhtbG5zOiIrdGhpcy5mZWF0dXJlUHJlZml4LHRoaXMuZmVhdHVyZU5TKTt0aGlzLndyaXRlTm9kZSgib2djOkZpbHRlciIsbmV3IE9wZW5MYXllcnMuRmlsdGVyLkZlYXR1cmVJZCh7ZmlkczpbYi5maWRdfSksYSk7cmV0dXJuIGF9fX0sc2NoZW1hTG9jYXRpb25BdHRyOmZ1bmN0aW9uKGEpe3ZhciBhPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe2ZlYXR1cmVQcmVmaXg6dGhpcy5mZWF0dXJlUHJlZml4LHNjaGVtYTp0aGlzLnNjaGVtYX0sYSksYj1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LHRoaXMuc2NoZW1hTG9jYXRpb25zKTthLnNjaGVtYSYmKGJbYS5mZWF0dXJlUHJlZml4XT1hLnNjaGVtYSk7dmFyIGE9W10sYyxkO2ZvcihkIGluIGIpKGM9dGhpcy5uYW1lc3BhY2VzW2RdKSYmCmEucHVzaChjKyIgIitiW2RdKTtyZXR1cm4gYS5qb2luKCIgIil8fHZvaWQgMH0sc2V0RmlsdGVyUHJvcGVydHk6ZnVuY3Rpb24oYSl7aWYoYS5maWx0ZXJzKWZvcih2YXIgYj0wLGM9YS5maWx0ZXJzLmxlbmd0aDtiPGM7KytiKU9wZW5MYXllcnMuRm9ybWF0LldGU1QudjEucHJvdG90eXBlLnNldEZpbHRlclByb3BlcnR5LmNhbGwodGhpcyxhLmZpbHRlcnNbYl0pO2Vsc2UgYSBpbnN0YW5jZW9mIE9wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwmJiFhLnByb3BlcnR5JiYoYS5wcm9wZXJ0eT10aGlzLmdlb21ldHJ5TmFtZSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LldGU1QudjEifSk7T3BlbkxheWVycy5Gb3JtYXQuT0dDRXhjZXB0aW9uUmVwb3J0PU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuWE1MLHtuYW1lc3BhY2VzOntvZ2M6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvb2djIn0scmVnRXhlczp7dHJpbVNwYWNlOi9eXHMqfFxzKiQvZyxyZW1vdmVTcGFjZTovXHMqL2csc3BsaXRTcGFjZTovXHMrLyx0cmltQ29tbWE6L1xzKixccyovZ30sZGVmYXVsdFByZWZpeDoib2djIixyZWFkOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7dmFyIGI9e2V4Y2VwdGlvblJlcG9ydDpudWxsfTthLmRvY3VtZW50RWxlbWVudCYmKHRoaXMucmVhZENoaWxkTm9kZXMoYSxiKSxudWxsPT09Yi5leGNlcHRpb25SZXBvcnQmJihiPShuZXcgT3BlbkxheWVycy5Gb3JtYXQuT1dTQ29tbW9uKS5yZWFkKGEpKSk7cmV0dXJuIGJ9LHJlYWRlcnM6e29nYzp7U2VydmljZUV4Y2VwdGlvblJlcG9ydDpmdW5jdGlvbihhLApiKXtiLmV4Y2VwdGlvblJlcG9ydD17ZXhjZXB0aW9uczpbXX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuZXhjZXB0aW9uUmVwb3J0KX0sU2VydmljZUV4Y2VwdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjPXtjb2RlOmEuZ2V0QXR0cmlidXRlKCJjb2RlIiksbG9jYXRvcjphLmdldEF0dHJpYnV0ZSgibG9jYXRvciIpLHRleHQ6dGhpcy5nZXRDaGlsZFZhbHVlKGEpfTtiLmV4Y2VwdGlvbnMucHVzaChjKX19fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5PR0NFeGNlcHRpb25SZXBvcnQifSk7T3BlbkxheWVycy5Gb3JtYXQuWE1MLlZlcnNpb25lZE9HQz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7ZGVmYXVsdFZlcnNpb246bnVsbCx2ZXJzaW9uOm51bGwscHJvZmlsZTpudWxsLGFsbG93RmFsbGJhY2s6ITEsbmFtZTpudWxsLHN0cmluZ2lmeU91dHB1dDohMSxwYXJzZXI6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSk7YT10aGlzLkNMQVNTX05BTUU7dGhpcy5uYW1lPWEuc3Vic3RyaW5nKGEubGFzdEluZGV4T2YoIi4iKSsxKX0sZ2V0VmVyc2lvbjpmdW5jdGlvbihhLGIpe3ZhciBjO2E/KGM9dGhpcy52ZXJzaW9uLGN8fChjPWEuZ2V0QXR0cmlidXRlKCJ2ZXJzaW9uIiksY3x8KGM9dGhpcy5kZWZhdWx0VmVyc2lvbikpKTpjPWImJmIudmVyc2lvbnx8dGhpcy52ZXJzaW9ufHx0aGlzLmRlZmF1bHRWZXJzaW9uO3JldHVybiBjfSxnZXRQYXJzZXI6ZnVuY3Rpb24oYSl7dmFyIGE9CmF8fHRoaXMuZGVmYXVsdFZlcnNpb24sYj10aGlzLnByb2ZpbGU/Il8iK3RoaXMucHJvZmlsZToiIjtpZighdGhpcy5wYXJzZXJ8fHRoaXMucGFyc2VyLlZFUlNJT04hPWEpe3ZhciBjPU9wZW5MYXllcnMuRm9ybWF0W3RoaXMubmFtZV1bInYiK2EucmVwbGFjZSgvXC4vZywiXyIpK2JdO2lmKCFjJiYoIiIhPT1iJiZ0aGlzLmFsbG93RmFsbGJhY2smJihiPSIiLGM9T3BlbkxheWVycy5Gb3JtYXRbdGhpcy5uYW1lXVsidiIrYS5yZXBsYWNlKC9cLi9nLCJfIildKSwhYykpdGhyb3ciQ2FuJ3QgZmluZCBhICIrdGhpcy5uYW1lKyIgcGFyc2VyIGZvciB2ZXJzaW9uICIrYStiO3RoaXMucGFyc2VyPW5ldyBjKHRoaXMub3B0aW9ucyl9cmV0dXJuIHRoaXMucGFyc2VyfSx3cml0ZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0VmVyc2lvbihudWxsLGIpO3RoaXMucGFyc2VyPXRoaXMuZ2V0UGFyc2VyKGMpO2M9dGhpcy5wYXJzZXIud3JpdGUoYSxiKTtyZXR1cm4hMT09PXRoaXMuc3RyaW5naWZ5T3V0cHV0PwpjOk9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUud3JpdGUuYXBwbHkodGhpcyxbY10pfSxyZWFkOmZ1bmN0aW9uKGEsYil7InN0cmluZyI9PXR5cGVvZiBhJiYoYT1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxbYV0pKTt2YXIgYz10aGlzLmdldFZlcnNpb24oYS5kb2N1bWVudEVsZW1lbnQpO3RoaXMucGFyc2VyPXRoaXMuZ2V0UGFyc2VyKGMpO3ZhciBkPXRoaXMucGFyc2VyLnJlYWQoYSxiKSxlPXRoaXMucGFyc2VyLmVycm9yUHJvcGVydHl8fG51bGw7bnVsbCE9PWUmJnZvaWQgMD09PWRbZV0mJihlPW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5PR0NFeGNlcHRpb25SZXBvcnQsZC5lcnJvcj1lLnJlYWQoYSkpO2QudmVyc2lvbj1jO3JldHVybiBkfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5YTUwuVmVyc2lvbmVkT0dDIn0pO09wZW5MYXllcnMuRmlsdGVyLkxvZ2ljYWw9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZpbHRlcix7ZmlsdGVyczpudWxsLHR5cGU6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe3RoaXMuZmlsdGVycz1bXTtPcGVuTGF5ZXJzLkZpbHRlci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmZpbHRlcnM9bnVsbDtPcGVuTGF5ZXJzLkZpbHRlci5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzKX0sZXZhbHVhdGU6ZnVuY3Rpb24oYSl7dmFyIGIsYztzd2l0Y2godGhpcy50eXBlKXtjYXNlIE9wZW5MYXllcnMuRmlsdGVyLkxvZ2ljYWwuQU5EOmI9MDtmb3IoYz10aGlzLmZpbHRlcnMubGVuZ3RoO2I8YztiKyspaWYoITE9PXRoaXMuZmlsdGVyc1tiXS5ldmFsdWF0ZShhKSlyZXR1cm4hMTtyZXR1cm4hMDtjYXNlIE9wZW5MYXllcnMuRmlsdGVyLkxvZ2ljYWwuT1I6Yj0wO2ZvcihjPXRoaXMuZmlsdGVycy5sZW5ndGg7YjwKYztiKyspaWYoITA9PXRoaXMuZmlsdGVyc1tiXS5ldmFsdWF0ZShhKSlyZXR1cm4hMDtyZXR1cm4hMTtjYXNlIE9wZW5MYXllcnMuRmlsdGVyLkxvZ2ljYWwuTk9UOnJldHVybiF0aGlzLmZpbHRlcnNbMF0uZXZhbHVhdGUoYSl9fSxjbG9uZTpmdW5jdGlvbigpe2Zvcih2YXIgYT1bXSxiPTAsYz10aGlzLmZpbHRlcnMubGVuZ3RoO2I8YzsrK2IpYS5wdXNoKHRoaXMuZmlsdGVyc1tiXS5jbG9uZSgpKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuRmlsdGVyLkxvZ2ljYWwoe3R5cGU6dGhpcy50eXBlLGZpbHRlcnM6YX0pfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZpbHRlci5Mb2dpY2FsIn0pO09wZW5MYXllcnMuRmlsdGVyLkxvZ2ljYWwuQU5EPSImJiI7T3BlbkxheWVycy5GaWx0ZXIuTG9naWNhbC5PUj0ifHwiO09wZW5MYXllcnMuRmlsdGVyLkxvZ2ljYWwuTk9UPSIhIjtPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5GaWx0ZXIse3R5cGU6bnVsbCxwcm9wZXJ0eTpudWxsLHZhbHVlOm51bGwsbWF0Y2hDYXNlOiEwLGxvd2VyQm91bmRhcnk6bnVsbCx1cHBlckJvdW5kYXJ5Om51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkZpbHRlci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSk7dGhpcy50eXBlPT09T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5MSUtFJiZ2b2lkIDA9PT1hLm1hdGNoQ2FzZSYmKHRoaXMubWF0Y2hDYXNlPW51bGwpfSxldmFsdWF0ZTpmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvciYmKGE9YS5hdHRyaWJ1dGVzKTt2YXIgYj0hMSxhPWFbdGhpcy5wcm9wZXJ0eV07c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSBPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLkVRVUFMX1RPOmI9dGhpcy52YWx1ZTsKYj0hdGhpcy5tYXRjaENhc2UmJiJzdHJpbmciPT10eXBlb2YgYSYmInN0cmluZyI9PXR5cGVvZiBiP2EudG9VcHBlckNhc2UoKT09Yi50b1VwcGVyQ2FzZSgpOmE9PWI7YnJlYWs7Y2FzZSBPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLk5PVF9FUVVBTF9UTzpiPXRoaXMudmFsdWU7Yj0hdGhpcy5tYXRjaENhc2UmJiJzdHJpbmciPT10eXBlb2YgYSYmInN0cmluZyI9PXR5cGVvZiBiP2EudG9VcHBlckNhc2UoKSE9Yi50b1VwcGVyQ2FzZSgpOmEhPWI7YnJlYWs7Y2FzZSBPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLkxFU1NfVEhBTjpiPWE8dGhpcy52YWx1ZTticmVhaztjYXNlIE9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uR1JFQVRFUl9USEFOOmI9YT50aGlzLnZhbHVlO2JyZWFrO2Nhc2UgT3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5MRVNTX1RIQU5fT1JfRVFVQUxfVE86Yj1hPD10aGlzLnZhbHVlO2JyZWFrO2Nhc2UgT3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5HUkVBVEVSX1RIQU5fT1JfRVFVQUxfVE86Yj0KYT49dGhpcy52YWx1ZTticmVhaztjYXNlIE9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uQkVUV0VFTjpiPWE+PXRoaXMubG93ZXJCb3VuZGFyeSYmYTw9dGhpcy51cHBlckJvdW5kYXJ5O2JyZWFrO2Nhc2UgT3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5MSUtFOmI9UmVnRXhwKHRoaXMudmFsdWUsImdpIikudGVzdChhKTticmVhaztjYXNlIE9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uSVNfTlVMTDpiPW51bGw9PT1hfXJldHVybiBifSx2YWx1ZTJyZWdleDpmdW5jdGlvbihhLGIsYyl7aWYoIi4iPT1hKXRocm93IEVycm9yKCInLicgaXMgYW4gdW5zdXBwb3J0ZWQgd2lsZENhcmQgY2hhcmFjdGVyIGZvciBPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uIik7YT1hP2E6IioiO2I9Yj9iOiIuIjt0aGlzLnZhbHVlPXRoaXMudmFsdWUucmVwbGFjZShSZWdFeHAoIlxcIisoYz9jOiIhIikrIigufCQpIiwiZyIpLCJcXCQxIik7dGhpcy52YWx1ZT10aGlzLnZhbHVlLnJlcGxhY2UoUmVnRXhwKCJcXCIrCmIsImciKSwiLiIpO3RoaXMudmFsdWU9dGhpcy52YWx1ZS5yZXBsYWNlKFJlZ0V4cCgiXFwiK2EsImciKSwiLioiKTt0aGlzLnZhbHVlPXRoaXMudmFsdWUucmVwbGFjZShSZWdFeHAoIlxcXFwuXFwqIiwiZyIpLCJcXCIrYSk7cmV0dXJuIHRoaXMudmFsdWU9dGhpcy52YWx1ZS5yZXBsYWNlKFJlZ0V4cCgiXFxcXFxcLiIsImciKSwiXFwiK2IpfSxyZWdleDJ2YWx1ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMudmFsdWUsYT1hLnJlcGxhY2UoLyEvZywiISEiKSxhPWEucmVwbGFjZSgvKFxcKT9cXFwuL2csZnVuY3Rpb24oYSxjKXtyZXR1cm4gYz9hOiIhLiJ9KSxhPWEucmVwbGFjZSgvKFxcKT9cXFwqL2csZnVuY3Rpb24oYSxjKXtyZXR1cm4gYz9hOiIhKiJ9KSxhPWEucmVwbGFjZSgvXFxcXC9nLCJcXCIpO3JldHVybiBhPWEucmVwbGFjZSgvXC5cKi9nLCIqIil9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIE9wZW5MYXllcnMuVXRpbC5leHRlbmQobmV3IE9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24sCnRoaXMpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uIn0pO09wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uRVFVQUxfVE89Ij09IjtPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLk5PVF9FUVVBTF9UTz0iIT0iO09wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uTEVTU19USEFOPSI8IjtPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLkdSRUFURVJfVEhBTj0iPiI7T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5MRVNTX1RIQU5fT1JfRVFVQUxfVE89Ijw9IjtPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLkdSRUFURVJfVEhBTl9PUl9FUVVBTF9UTz0iPj0iO09wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uQkVUV0VFTj0iLi4iO09wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uTElLRT0ifiI7T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5JU19OVUxMPSJOVUxMIjtPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwuVmVyc2lvbmVkT0dDLHtkZWZhdWx0VmVyc2lvbjoiMS4wLjAiLENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LkZpbHRlciJ9KTtPcGVuTGF5ZXJzLkZpbHRlci5GdW5jdGlvbj1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRmlsdGVyLHtuYW1lOm51bGwscGFyYW1zOm51bGwsQ0xBU1NfTkFNRToiT3BlbkxheWVycy5GaWx0ZXIuRnVuY3Rpb24ifSk7T3BlbkxheWVycy5EYXRlPXtkYXRlUmVnRXg6L14oPzooXGR7NH0pKD86LShcZHsyfSkoPzotKFxkezJ9KSk/KT8pPyg/Oig/OlQoXGR7MSwyfSk6KFxkezJ9KTooXGR7Mn0oPzpcLlxkKyk/KShafCg/OlsrLV1cZHsxLDJ9KD86OihcZHsyfSkpPykpKXxaKT8kLyx0b0lTT1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJ0b0lTT1N0cmluZyJpbiBEYXRlLnByb3RvdHlwZT9mdW5jdGlvbihhKXtyZXR1cm4gYS50b0lTT1N0cmluZygpfTpmdW5jdGlvbihhKXtyZXR1cm4gaXNOYU4oYS5nZXRUaW1lKCkpPyJJbnZhbGlkIERhdGUiOmEuZ2V0VVRDRnVsbFllYXIoKSsiLSIrT3BlbkxheWVycy5OdW1iZXIuemVyb1BhZChhLmdldFVUQ01vbnRoKCkrMSwyKSsiLSIrT3BlbkxheWVycy5OdW1iZXIuemVyb1BhZChhLmdldFVUQ0RhdGUoKSwyKSsiVCIrT3BlbkxheWVycy5OdW1iZXIuemVyb1BhZChhLmdldFVUQ0hvdXJzKCksMikrIjoiK09wZW5MYXllcnMuTnVtYmVyLnplcm9QYWQoYS5nZXRVVENNaW51dGVzKCksCjIpKyI6IitPcGVuTGF5ZXJzLk51bWJlci56ZXJvUGFkKGEuZ2V0VVRDU2Vjb25kcygpLDIpKyIuIitPcGVuTGF5ZXJzLk51bWJlci56ZXJvUGFkKGEuZ2V0VVRDTWlsbGlzZWNvbmRzKCksMykrIloifX0oKSxwYXJzZTpmdW5jdGlvbihhKXt2YXIgYjtpZigoYT1hLm1hdGNoKHRoaXMuZGF0ZVJlZ0V4KSkmJihhWzFdfHxhWzddKSl7Yj1wYXJzZUludChhWzFdLDEwKXx8MDt2YXIgYz1wYXJzZUludChhWzJdLDEwKS0xfHwwLGQ9cGFyc2VJbnQoYVszXSwxMCl8fDE7Yj1uZXcgRGF0ZShEYXRlLlVUQyhiLGMsZCkpO2lmKGM9YVs3XSl7dmFyIGQ9cGFyc2VJbnQoYVs0XSwxMCksZT1wYXJzZUludChhWzVdLDEwKSxmPXBhcnNlRmxvYXQoYVs2XSksZz1mfDAsZj1NYXRoLnJvdW5kKDFFMyooZi1nKSk7Yi5zZXRVVENIb3VycyhkLGUsZyxmKTsiWiIhPT1jJiYoYz1wYXJzZUludChjLDEwKSxhPXBhcnNlSW50KGFbOF0sMTApfHwwLGI9bmV3IERhdGUoYi5nZXRUaW1lKCkrLTFFMyooNjAqNjAqCmMrNjAqYSkpKX19ZWxzZSBiPW5ldyBEYXRlKCJpbnZhbGlkIik7cmV0dXJuIGJ9fTtPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIudjE9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwse25hbWVzcGFjZXM6e29nYzoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vZ2MiLGdtbDoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwiLHhsaW5rOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIix4c2k6Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIn0sZGVmYXVsdFByZWZpeDoib2djIixzY2hlbWFMb2NhdGlvbjpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKX0scmVhZDpmdW5jdGlvbihhKXt2YXIgYj17fTt0aGlzLnJlYWRlcnMub2djLkZpbHRlci5hcHBseSh0aGlzLFthLGJdKTtyZXR1cm4gYi5maWx0ZXJ9LHJlYWRlcnM6e29nYzp7X2V4cHJlc3Npb246ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPSIiLGM9YS5maXJzdENoaWxkO2M7Yz0KYy5uZXh0U2libGluZylzd2l0Y2goYy5ub2RlVHlwZSl7Y2FzZSAxOmE9dGhpcy5yZWFkTm9kZShjKTthLnByb3BlcnR5P2IrPSIkeyIrYS5wcm9wZXJ0eSsifSI6dm9pZCAwIT09YS52YWx1ZSYmKGIrPWEudmFsdWUpO2JyZWFrO2Nhc2UgMzpjYXNlIDQ6Yis9Yy5ub2RlVmFsdWV9cmV0dXJuIGJ9LEZpbHRlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXtmaWRzOltdLGZpbHRlcnM6W119O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTswPGMuZmlkcy5sZW5ndGg/Yi5maWx0ZXI9bmV3IE9wZW5MYXllcnMuRmlsdGVyLkZlYXR1cmVJZCh7ZmlkczpjLmZpZHN9KTowPGMuZmlsdGVycy5sZW5ndGgmJihiLmZpbHRlcj1jLmZpbHRlcnNbMF0pfSxGZWF0dXJlSWQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldEF0dHJpYnV0ZSgiZmlkIik7YyYmYi5maWRzLnB1c2goYyl9LEFuZDpmdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBPcGVuTGF5ZXJzLkZpbHRlci5Mb2dpY2FsKHt0eXBlOk9wZW5MYXllcnMuRmlsdGVyLkxvZ2ljYWwuQU5EfSk7CnRoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLmZpbHRlcnMucHVzaChjKX0sT3I6ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgT3BlbkxheWVycy5GaWx0ZXIuTG9naWNhbCh7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5Mb2dpY2FsLk9SfSk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IuZmlsdGVycy5wdXNoKGMpfSxOb3Q6ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgT3BlbkxheWVycy5GaWx0ZXIuTG9naWNhbCh7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5Mb2dpY2FsLk5PVH0pO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLmZpbHRlcnMucHVzaChjKX0sUHJvcGVydHlJc0xlc3NUaGFuOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IE9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24oe3R5cGU6T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5MRVNTX1RIQU59KTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5maWx0ZXJzLnB1c2goYyl9LFByb3BlcnR5SXNHcmVhdGVyVGhhbjpmdW5jdGlvbihhLApiKXt2YXIgYz1uZXcgT3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbih7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLkdSRUFURVJfVEhBTn0pO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLmZpbHRlcnMucHVzaChjKX0sUHJvcGVydHlJc0xlc3NUaGFuT3JFcXVhbFRvOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IE9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24oe3R5cGU6T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5MRVNTX1RIQU5fT1JfRVFVQUxfVE99KTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5maWx0ZXJzLnB1c2goYyl9LFByb3BlcnR5SXNHcmVhdGVyVGhhbk9yRXF1YWxUbzpmdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uKHt0eXBlOk9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uR1JFQVRFUl9USEFOX09SX0VRVUFMX1RPfSk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IuZmlsdGVycy5wdXNoKGMpfSwKUHJvcGVydHlJc0JldHdlZW46ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgT3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbih7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLkJFVFdFRU59KTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5maWx0ZXJzLnB1c2goYyl9LExpdGVyYWw6ZnVuY3Rpb24oYSxiKXtiLnZhbHVlPU9wZW5MYXllcnMuU3RyaW5nLm51bWVyaWNJZih0aGlzLmdldENoaWxkVmFsdWUoYSksITApfSxQcm9wZXJ0eU5hbWU6ZnVuY3Rpb24oYSxiKXtiLnByb3BlcnR5PXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sTG93ZXJCb3VuZGFyeTpmdW5jdGlvbihhLGIpe2IubG93ZXJCb3VuZGFyeT1PcGVuTGF5ZXJzLlN0cmluZy5udW1lcmljSWYodGhpcy5yZWFkZXJzLm9nYy5fZXhwcmVzc2lvbi5jYWxsKHRoaXMsYSksITApfSxVcHBlckJvdW5kYXJ5OmZ1bmN0aW9uKGEsYil7Yi51cHBlckJvdW5kYXJ5PU9wZW5MYXllcnMuU3RyaW5nLm51bWVyaWNJZih0aGlzLnJlYWRlcnMub2djLl9leHByZXNzaW9uLmNhbGwodGhpcywKYSksITApfSxJbnRlcnNlY3RzOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkU3BhdGlhbChhLGIsT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5JTlRFUlNFQ1RTKX0sV2l0aGluOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkU3BhdGlhbChhLGIsT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5XSVRISU4pfSxDb250YWluczpmdW5jdGlvbihhLGIpe3RoaXMucmVhZFNwYXRpYWwoYSxiLE9wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwuQ09OVEFJTlMpfSxEV2l0aGluOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkU3BhdGlhbChhLGIsT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5EV0lUSElOKX0sRGlzdGFuY2U6ZnVuY3Rpb24oYSxiKXtiLmRpc3RhbmNlPXBhcnNlSW50KHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSk7Yi5kaXN0YW5jZVVuaXRzPWEuZ2V0QXR0cmlidXRlKCJ1bml0cyIpfSxGdW5jdGlvbjpmdW5jdGlvbigpe30sUHJvcGVydHlJc051bGw6ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgT3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbih7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLklTX05VTEx9KTsKdGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IuZmlsdGVycy5wdXNoKGMpfX19LHJlYWRTcGF0aWFsOmZ1bmN0aW9uKGEsYixjKXtjPW5ldyBPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsKHt0eXBlOmN9KTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yy52YWx1ZT1jLmNvbXBvbmVudHNbMF07ZGVsZXRlIGMuY29tcG9uZW50cztiLmZpbHRlcnMucHVzaChjKX0sZW5jb2RlTGl0ZXJhbDpmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgRGF0ZSYmKGE9T3BlbkxheWVycy5EYXRlLnRvSVNPU3RyaW5nKGEpKTtyZXR1cm4gYX0sd3JpdGVPZ2NFeHByZXNzaW9uOmZ1bmN0aW9uKGEsYil7YSBpbnN0YW5jZW9mIE9wZW5MYXllcnMuRmlsdGVyLkZ1bmN0aW9uP3RoaXMud3JpdGVOb2RlKCJGdW5jdGlvbiIsYSxiKTp0aGlzLndyaXRlTm9kZSgiTGl0ZXJhbCIsYSxiKTtyZXR1cm4gYn0sd3JpdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMud3JpdGVycy5vZ2MuRmlsdGVyLmFwcGx5KHRoaXMsW2FdKX0sCndyaXRlcnM6e29nYzp7RmlsdGVyOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOkZpbHRlciIpO3RoaXMud3JpdGVOb2RlKHRoaXMuZ2V0RmlsdGVyVHlwZShhKSxhLGIpO3JldHVybiBifSxfZmVhdHVyZUlkczpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksYz0wLGQ9YS5maWRzLmxlbmd0aDtjPGQ7KytjKXRoaXMud3JpdGVOb2RlKCJvZ2M6RmVhdHVyZUlkIixhLmZpZHNbY10sYik7cmV0dXJuIGJ9LEZlYXR1cmVJZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6RmVhdHVyZUlkIix7YXR0cmlidXRlczp7ZmlkOmF9fSl9LEFuZDpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6QW5kIiksYyxkPTAsZT1hLmZpbHRlcnMubGVuZ3RoO2Q8ZTsrK2QpYz1hLmZpbHRlcnNbZF0sdGhpcy53cml0ZU5vZGUodGhpcy5nZXRGaWx0ZXJUeXBlKGMpLApjLGIpO3JldHVybiBifSxPcjpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6T3IiKSxjLGQ9MCxlPWEuZmlsdGVycy5sZW5ndGg7ZDxlOysrZCljPWEuZmlsdGVyc1tkXSx0aGlzLndyaXRlTm9kZSh0aGlzLmdldEZpbHRlclR5cGUoYyksYyxiKTtyZXR1cm4gYn0sTm90OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOk5vdCIpLGE9YS5maWx0ZXJzWzBdO3RoaXMud3JpdGVOb2RlKHRoaXMuZ2V0RmlsdGVyVHlwZShhKSxhLGIpO3JldHVybiBifSxQcm9wZXJ0eUlzTGVzc1RoYW46ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6UHJvcGVydHlJc0xlc3NUaGFuIik7dGhpcy53cml0ZU5vZGUoIlByb3BlcnR5TmFtZSIsYSxiKTt0aGlzLndyaXRlT2djRXhwcmVzc2lvbihhLnZhbHVlLGIpO3JldHVybiBifSxQcm9wZXJ0eUlzR3JlYXRlclRoYW46ZnVuY3Rpb24oYSl7dmFyIGI9CnRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOlByb3BlcnR5SXNHcmVhdGVyVGhhbiIpO3RoaXMud3JpdGVOb2RlKCJQcm9wZXJ0eU5hbWUiLGEsYik7dGhpcy53cml0ZU9nY0V4cHJlc3Npb24oYS52YWx1ZSxiKTtyZXR1cm4gYn0sUHJvcGVydHlJc0xlc3NUaGFuT3JFcXVhbFRvOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOlByb3BlcnR5SXNMZXNzVGhhbk9yRXF1YWxUbyIpO3RoaXMud3JpdGVOb2RlKCJQcm9wZXJ0eU5hbWUiLGEsYik7dGhpcy53cml0ZU9nY0V4cHJlc3Npb24oYS52YWx1ZSxiKTtyZXR1cm4gYn0sUHJvcGVydHlJc0dyZWF0ZXJUaGFuT3JFcXVhbFRvOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOlByb3BlcnR5SXNHcmVhdGVyVGhhbk9yRXF1YWxUbyIpO3RoaXMud3JpdGVOb2RlKCJQcm9wZXJ0eU5hbWUiLGEsYik7dGhpcy53cml0ZU9nY0V4cHJlc3Npb24oYS52YWx1ZSxiKTsKcmV0dXJuIGJ9LFByb3BlcnR5SXNCZXR3ZWVuOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOlByb3BlcnR5SXNCZXR3ZWVuIik7dGhpcy53cml0ZU5vZGUoIlByb3BlcnR5TmFtZSIsYSxiKTt0aGlzLndyaXRlTm9kZSgiTG93ZXJCb3VuZGFyeSIsYSxiKTt0aGlzLndyaXRlTm9kZSgiVXBwZXJCb3VuZGFyeSIsYSxiKTtyZXR1cm4gYn0sUHJvcGVydHlOYW1lOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIm9nYzpQcm9wZXJ0eU5hbWUiLHt2YWx1ZTphLnByb3BlcnR5fSl9LExpdGVyYWw6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOkxpdGVyYWwiLHt2YWx1ZToodGhpcy5lbmNvZGVMaXRlcmFsfHxPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIudjEucHJvdG90eXBlLmVuY29kZUxpdGVyYWwpKGEpfSl9LExvd2VyQm91bmRhcnk6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6TG93ZXJCb3VuZGFyeSIpOwp0aGlzLndyaXRlT2djRXhwcmVzc2lvbihhLmxvd2VyQm91bmRhcnksYik7cmV0dXJuIGJ9LFVwcGVyQm91bmRhcnk6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6VXBwZXJCb3VuZGFyeSIpO3RoaXMud3JpdGVOb2RlKCJMaXRlcmFsIixhLnVwcGVyQm91bmRhcnksYik7cmV0dXJuIGJ9LElOVEVSU0VDVFM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMud3JpdGVTcGF0aWFsKGEsIkludGVyc2VjdHMiKX0sV0lUSElOOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLndyaXRlU3BhdGlhbChhLCJXaXRoaW4iKX0sQ09OVEFJTlM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMud3JpdGVTcGF0aWFsKGEsIkNvbnRhaW5zIil9LERXSVRISU46ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy53cml0ZVNwYXRpYWwoYSwiRFdpdGhpbiIpO3RoaXMud3JpdGVOb2RlKCJEaXN0YW5jZSIsYSxiKTtyZXR1cm4gYn0sRGlzdGFuY2U6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOkRpc3RhbmNlIiwKe2F0dHJpYnV0ZXM6e3VuaXRzOmEuZGlzdGFuY2VVbml0c30sdmFsdWU6YS5kaXN0YW5jZX0pfSxGdW5jdGlvbjpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6RnVuY3Rpb24iLHthdHRyaWJ1dGVzOntuYW1lOmEubmFtZX19KSxhPWEucGFyYW1zLGM9MCxkPWEubGVuZ3RoO2M8ZDtjKyspdGhpcy53cml0ZU9nY0V4cHJlc3Npb24oYVtjXSxiKTtyZXR1cm4gYn0sUHJvcGVydHlJc051bGw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6UHJvcGVydHlJc051bGwiKTt0aGlzLndyaXRlTm9kZSgiUHJvcGVydHlOYW1lIixhLGIpO3JldHVybiBifX19LGdldEZpbHRlclR5cGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5maWx0ZXJNYXBbYS50eXBlXTtpZighYil0aHJvdyJGaWx0ZXIgd3JpdGluZyBub3Qgc3VwcG9ydGVkIGZvciBydWxlIHR5cGU6ICIrYS50eXBlO3JldHVybiBifSxmaWx0ZXJNYXA6eyImJiI6IkFuZCIsCiJ8fCI6Ik9yIiwiISI6Ik5vdCIsIj09IjoiUHJvcGVydHlJc0VxdWFsVG8iLCIhPSI6IlByb3BlcnR5SXNOb3RFcXVhbFRvIiwiPCI6IlByb3BlcnR5SXNMZXNzVGhhbiIsIj4iOiJQcm9wZXJ0eUlzR3JlYXRlclRoYW4iLCI8PSI6IlByb3BlcnR5SXNMZXNzVGhhbk9yRXF1YWxUbyIsIj49IjoiUHJvcGVydHlJc0dyZWF0ZXJUaGFuT3JFcXVhbFRvIiwiLi4iOiJQcm9wZXJ0eUlzQmV0d2VlbiIsIn4iOiJQcm9wZXJ0eUlzTGlrZSIsTlVMTDoiUHJvcGVydHlJc051bGwiLEJCT1g6IkJCT1giLERXSVRISU46IkRXSVRISU4iLFdJVEhJTjoiV0lUSElOIixDT05UQUlOUzoiQ09OVEFJTlMiLElOVEVSU0VDVFM6IklOVEVSU0VDVFMiLEZJRDoiX2ZlYXR1cmVJZHMifSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIudjEifSk7T3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aUxpbmVTdHJpbmc9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkdlb21ldHJ5LkNvbGxlY3Rpb24se2NvbXBvbmVudFR5cGVzOlsiT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nIl0sc3BsaXQ6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9bnVsbCxkPWImJmIubXV0dWFsLGUsZixnLGgsaT1bXSxqPVthXSxrPTAsbD10aGlzLmNvbXBvbmVudHMubGVuZ3RoO2s8bDsrK2spe2Y9dGhpcy5jb21wb25lbnRzW2tdO2c9ITE7Zm9yKHZhciBtPTA7bTxqLmxlbmd0aDsrK20paWYoZT1mLnNwbGl0KGpbbV0sYikpe2lmKGQpe2c9ZVswXTtmb3IodmFyIG49MCxwPWcubGVuZ3RoO248cDsrK24pMD09PW4mJmkubGVuZ3RoP2lbaS5sZW5ndGgtMV0uYWRkQ29tcG9uZW50KGdbbl0pOmkucHVzaChuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aUxpbmVTdHJpbmcoW2dbbl1dKSk7Zz0hMDtlPWVbMV19aWYoZS5sZW5ndGgpe2UudW5zaGlmdChtLAoxKTtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KGosZSk7YnJlYWt9fWd8fChpLmxlbmd0aD9pW2kubGVuZ3RoLTFdLmFkZENvbXBvbmVudChmLmNsb25lKCkpOmk9W25ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpTGluZVN0cmluZyhmLmNsb25lKCkpXSl9aSYmMTxpLmxlbmd0aD9nPSEwOmk9W107aiYmMTxqLmxlbmd0aD9oPSEwOmo9W107aWYoZ3x8aCljPWQ/W2ksal06ajtyZXR1cm4gY30sc3BsaXRXaXRoOmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbCxkPWImJmIubXV0dWFsLGUsZixnLGgsaSxqO2lmKGEgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmcpe2o9W107aT1bYV07Zm9yKHZhciBrPTAsbD10aGlzLmNvbXBvbmVudHMubGVuZ3RoO2s8bDsrK2spe2c9ITE7Zj10aGlzLmNvbXBvbmVudHNba107Zm9yKHZhciBtPTA7bTxpLmxlbmd0aDsrK20paWYoZT1pW21dLnNwbGl0KGYsYikpe2QmJihnPWVbMF0sZy5sZW5ndGgmJihnLnVuc2hpZnQobSwKMSksQXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShpLGcpLG0rPWcubGVuZ3RoLTIpLGU9ZVsxXSwwPT09ZS5sZW5ndGgmJihlPVtmLmNsb25lKCldKSk7Zz0wO2Zvcih2YXIgbj1lLmxlbmd0aDtnPG47KytnKTA9PT1nJiZqLmxlbmd0aD9qW2oubGVuZ3RoLTFdLmFkZENvbXBvbmVudChlW2ddKTpqLnB1c2gobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlMaW5lU3RyaW5nKFtlW2ddXSkpO2c9ITB9Z3x8KGoubGVuZ3RoP2pbai5sZW5ndGgtMV0uYWRkQ29tcG9uZW50KGYuY2xvbmUoKSk6aj1bbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlMaW5lU3RyaW5nKFtmLmNsb25lKCldKV0pfX1lbHNlIGM9YS5zcGxpdCh0aGlzKTtpJiYxPGkubGVuZ3RoP2g9ITA6aT1bXTtqJiYxPGoubGVuZ3RoP2c9ITA6aj1bXTtpZihofHxnKWM9ZD9baSxqXTpqO3JldHVybiBjfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpTGluZVN0cmluZyJ9KTtPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpUG9seWdvbj1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuR2VvbWV0cnkuQ29sbGVjdGlvbix7Y29tcG9uZW50VHlwZXM6WyJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24iXSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpUG9seWdvbiJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5HTUw9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwse2ZlYXR1cmVOUzoiaHR0cDovL21hcHNlcnZlci5naXMudW1uLmVkdS9tYXBzZXJ2ZXIiLGZlYXR1cmVQcmVmaXg6ImZlYXR1cmUiLGZlYXR1cmVOYW1lOiJmZWF0dXJlTWVtYmVyIixsYXllck5hbWU6ImZlYXR1cmVzIixnZW9tZXRyeU5hbWU6Imdlb21ldHJ5Iixjb2xsZWN0aW9uTmFtZToiRmVhdHVyZUNvbGxlY3Rpb24iLGdtbG5zOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbCIsZXh0cmFjdEF0dHJpYnV0ZXM6ITAseHk6ITAsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXt0aGlzLnJlZ0V4ZXM9e3RyaW1TcGFjZTovXlxzKnxccyokL2cscmVtb3ZlU3BhY2U6L1xzKi9nLHNwbGl0U3BhY2U6L1xzKy8sdHJpbUNvbW1hOi9ccyosXHMqL2d9O09wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSl9LHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PQp0eXBlb2YgYSYmKGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7Zm9yKHZhciBhPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLmRvY3VtZW50RWxlbWVudCx0aGlzLmdtbG5zLHRoaXMuZmVhdHVyZU5hbWUpLGI9W10sYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD10aGlzLnBhcnNlRmVhdHVyZShhW2NdKTtkJiZiLnB1c2goZCl9cmV0dXJuIGJ9LHBhcnNlRmVhdHVyZTpmdW5jdGlvbihhKXtmb3IodmFyIGI9Ik11bHRpUG9seWdvbiBQb2x5Z29uIE11bHRpTGluZVN0cmluZyBMaW5lU3RyaW5nIE11bHRpUG9pbnQgUG9pbnQgRW52ZWxvcGUiLnNwbGl0KCIgIiksYyxkLGUsZj0wO2Y8Yi5sZW5ndGg7KytmKWlmKGM9YltmXSxkPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLHRoaXMuZ21sbnMsYyksMDxkLmxlbmd0aCl7aWYoZT10aGlzLnBhcnNlR2VvbWV0cnlbYy50b0xvd2VyQ2FzZSgpXSllPWUuYXBwbHkodGhpcywKW2RbMF1dKSx0aGlzLmludGVybmFsUHJvamVjdGlvbiYmdGhpcy5leHRlcm5hbFByb2plY3Rpb24mJmUudHJhbnNmb3JtKHRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uLHRoaXMuaW50ZXJuYWxQcm9qZWN0aW9uKTtlbHNlIHRocm93IG5ldyBUeXBlRXJyb3IoIlVuc3VwcG9ydGVkIGdlb21ldHJ5IHR5cGU6ICIrYyk7YnJlYWt9dmFyIGc7Yz10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSx0aGlzLmdtbG5zLCJCb3giKTtmb3IoZj0wO2Y8Yy5sZW5ndGg7KytmKWI9Y1tmXSxkPXRoaXMucGFyc2VHZW9tZXRyeS5ib3guYXBwbHkodGhpcyxbYl0pLGI9Yi5wYXJlbnROb2RlLCJib3VuZGVkQnkiPT09KGIubG9jYWxOYW1lfHxiLm5vZGVOYW1lLnNwbGl0KCI6IikucG9wKCkpP2c9ZDplPWQudG9HZW9tZXRyeSgpO3ZhciBoO3RoaXMuZXh0cmFjdEF0dHJpYnV0ZXMmJihoPXRoaXMucGFyc2VBdHRyaWJ1dGVzKGEpKTtoPW5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKGUsaCk7aC5ib3VuZHM9Cmc7aC5nbWw9e2ZlYXR1cmVUeXBlOmEuZmlyc3RDaGlsZC5ub2RlTmFtZS5zcGxpdCgiOiIpWzFdLGZlYXR1cmVOUzphLmZpcnN0Q2hpbGQubmFtZXNwYWNlVVJJLGZlYXR1cmVOU1ByZWZpeDphLmZpcnN0Q2hpbGQucHJlZml4fTtmb3IodmFyIGE9YS5maXJzdENoaWxkLGk7YSYmISgxPT1hLm5vZGVUeXBlJiYoaT1hLmdldEF0dHJpYnV0ZSgiZmlkIil8fGEuZ2V0QXR0cmlidXRlKCJpZCIpKSk7KWE9YS5uZXh0U2libGluZztoLmZpZD1pO3JldHVybiBofSxwYXJzZUdlb21ldHJ5Ontwb2ludDpmdW5jdGlvbihhKXt2YXIgYixjO2M9W107Yj10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSx0aGlzLmdtbG5zLCJwb3MiKTswPGIubGVuZ3RoJiYoYz1iWzBdLmZpcnN0Q2hpbGQubm9kZVZhbHVlLGM9Yy5yZXBsYWNlKHRoaXMucmVnRXhlcy50cmltU3BhY2UsIiIpLGM9Yy5zcGxpdCh0aGlzLnJlZ0V4ZXMuc3BsaXRTcGFjZSkpOzA9PWMubGVuZ3RoJiYoYj10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSwKdGhpcy5nbWxucywiY29vcmRpbmF0ZXMiKSwwPGIubGVuZ3RoJiYoYz1iWzBdLmZpcnN0Q2hpbGQubm9kZVZhbHVlLGM9Yy5yZXBsYWNlKHRoaXMucmVnRXhlcy5yZW1vdmVTcGFjZSwiIiksYz1jLnNwbGl0KCIsIikpKTswPT1jLmxlbmd0aCYmKGI9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsdGhpcy5nbWxucywiY29vcmQiKSwwPGIubGVuZ3RoJiYoYT10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYlswXSx0aGlzLmdtbG5zLCJYIiksYj10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYlswXSx0aGlzLmdtbG5zLCJZIiksMDxhLmxlbmd0aCYmMDxiLmxlbmd0aCYmKGM9W2FbMF0uZmlyc3RDaGlsZC5ub2RlVmFsdWUsYlswXS5maXJzdENoaWxkLm5vZGVWYWx1ZV0pKSk7Mj09Yy5sZW5ndGgmJihjWzJdPW51bGwpO3JldHVybiB0aGlzLnh5P25ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGNbMF0sY1sxXSxjWzJdKTpuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChjWzFdLApjWzBdLGNbMl0pfSxtdWx0aXBvaW50OmZ1bmN0aW9uKGEpe3ZhciBhPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLHRoaXMuZ21sbnMsIlBvaW50IiksYj1bXTtpZigwPGEubGVuZ3RoKWZvcih2YXIgYyxkPTA7ZDxhLmxlbmd0aDsrK2QpKGM9dGhpcy5wYXJzZUdlb21ldHJ5LnBvaW50LmFwcGx5KHRoaXMsW2FbZF1dKSkmJmIucHVzaChjKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlQb2ludChiKX0sbGluZXN0cmluZzpmdW5jdGlvbihhLGIpe3ZhciBjLGQ7ZD1bXTt2YXIgZT1bXTtjPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLHRoaXMuZ21sbnMsInBvc0xpc3QiKTtpZigwPGMubGVuZ3RoKXtkPXRoaXMuZ2V0Q2hpbGRWYWx1ZShjWzBdKTtkPWQucmVwbGFjZSh0aGlzLnJlZ0V4ZXMudHJpbVNwYWNlLCIiKTtkPWQuc3BsaXQodGhpcy5yZWdFeGVzLnNwbGl0U3BhY2UpO3ZhciBmPXBhcnNlSW50KGNbMF0uZ2V0QXR0cmlidXRlKCJkaW1lbnNpb24iKSksCmcsaCxpO2ZvcihjPTA7YzxkLmxlbmd0aC9mOysrYylnPWMqZixoPWRbZ10saT1kW2crMV0sZz0yPT1mP251bGw6ZFtnKzJdLHRoaXMueHk/ZS5wdXNoKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGgsaSxnKSk6ZS5wdXNoKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGksaCxnKSl9aWYoMD09ZC5sZW5ndGgmJihjPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLHRoaXMuZ21sbnMsImNvb3JkaW5hdGVzIiksMDxjLmxlbmd0aCkpe2Q9dGhpcy5nZXRDaGlsZFZhbHVlKGNbMF0pO2Q9ZC5yZXBsYWNlKHRoaXMucmVnRXhlcy50cmltU3BhY2UsIiIpO2Q9ZC5yZXBsYWNlKHRoaXMucmVnRXhlcy50cmltQ29tbWEsIiwiKTtmPWQuc3BsaXQodGhpcy5yZWdFeGVzLnNwbGl0U3BhY2UpO2ZvcihjPTA7YzxmLmxlbmd0aDsrK2MpZD1mW2NdLnNwbGl0KCIsIiksMj09ZC5sZW5ndGgmJihkWzJdPW51bGwpLHRoaXMueHk/ZS5wdXNoKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGRbMF0sCmRbMV0sZFsyXSkpOmUucHVzaChuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChkWzFdLGRbMF0sZFsyXSkpfWQ9bnVsbDswIT1lLmxlbmd0aCYmKGQ9Yj9uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lYXJSaW5nKGUpOm5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmcoZSkpO3JldHVybiBkfSxtdWx0aWxpbmVzdHJpbmc6ZnVuY3Rpb24oYSl7dmFyIGE9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsdGhpcy5nbWxucywiTGluZVN0cmluZyIpLGI9W107aWYoMDxhLmxlbmd0aClmb3IodmFyIGMsZD0wO2Q8YS5sZW5ndGg7KytkKShjPXRoaXMucGFyc2VHZW9tZXRyeS5saW5lc3RyaW5nLmFwcGx5KHRoaXMsW2FbZF1dKSkmJmIucHVzaChjKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlMaW5lU3RyaW5nKGIpfSxwb2x5Z29uOmZ1bmN0aW9uKGEpe3ZhciBhPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLHRoaXMuZ21sbnMsIkxpbmVhclJpbmciKSwKYj1bXTtpZigwPGEubGVuZ3RoKWZvcih2YXIgYyxkPTA7ZDxhLmxlbmd0aDsrK2QpKGM9dGhpcy5wYXJzZUdlb21ldHJ5LmxpbmVzdHJpbmcuYXBwbHkodGhpcyxbYVtkXSwhMF0pKSYmYi5wdXNoKGMpO3JldHVybiBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uKGIpfSxtdWx0aXBvbHlnb246ZnVuY3Rpb24oYSl7dmFyIGE9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsdGhpcy5nbWxucywiUG9seWdvbiIpLGI9W107aWYoMDxhLmxlbmd0aClmb3IodmFyIGMsZD0wO2Q8YS5sZW5ndGg7KytkKShjPXRoaXMucGFyc2VHZW9tZXRyeS5wb2x5Z29uLmFwcGx5KHRoaXMsW2FbZF1dKSkmJmIucHVzaChjKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlQb2x5Z29uKGIpfSxlbnZlbG9wZTpmdW5jdGlvbihhKXt2YXIgYj1bXSxjLGQsZT10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSx0aGlzLmdtbG5zLCJsb3dlckNvcm5lciIpO2lmKDA8ZS5sZW5ndGgpe2M9CltdOzA8ZS5sZW5ndGgmJihjPWVbMF0uZmlyc3RDaGlsZC5ub2RlVmFsdWUsYz1jLnJlcGxhY2UodGhpcy5yZWdFeGVzLnRyaW1TcGFjZSwiIiksYz1jLnNwbGl0KHRoaXMucmVnRXhlcy5zcGxpdFNwYWNlKSk7Mj09Yy5sZW5ndGgmJihjWzJdPW51bGwpO3ZhciBmPXRoaXMueHk/bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoY1swXSxjWzFdLGNbMl0pOm5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGNbMV0sY1swXSxjWzJdKX1hPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLHRoaXMuZ21sbnMsInVwcGVyQ29ybmVyIik7aWYoMDxhLmxlbmd0aCl7Yz1bXTswPGEubGVuZ3RoJiYoYz1hWzBdLmZpcnN0Q2hpbGQubm9kZVZhbHVlLGM9Yy5yZXBsYWNlKHRoaXMucmVnRXhlcy50cmltU3BhY2UsIiIpLGM9Yy5zcGxpdCh0aGlzLnJlZ0V4ZXMuc3BsaXRTcGFjZSkpOzI9PWMubGVuZ3RoJiYoY1syXT1udWxsKTt2YXIgZz10aGlzLnh5P25ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGNbMF0sCmNbMV0sY1syXSk6bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoY1sxXSxjWzBdLGNbMl0pfWYmJmcmJihiLnB1c2gobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoZi54LGYueSkpLGIucHVzaChuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChnLngsZi55KSksYi5wdXNoKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGcueCxnLnkpKSxiLnB1c2gobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoZi54LGcueSkpLGIucHVzaChuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChmLngsZi55KSksYj1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lYXJSaW5nKGIpLGQ9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbihbYl0pKTtyZXR1cm4gZH0sYm94OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLHRoaXMuZ21sbnMsImNvb3JkaW5hdGVzIiksYz1hPW51bGw7MDxiLmxlbmd0aCYmKGI9YlswXS5maXJzdENoaWxkLm5vZGVWYWx1ZSwKYj1iLnNwbGl0KCIgIiksMj09Yi5sZW5ndGgmJihhPWJbMF0uc3BsaXQoIiwiKSxjPWJbMV0uc3BsaXQoIiwiKSkpO2lmKG51bGwhPT1hJiZudWxsIT09YylyZXR1cm4gbmV3IE9wZW5MYXllcnMuQm91bmRzKHBhcnNlRmxvYXQoYVswXSkscGFyc2VGbG9hdChhWzFdKSxwYXJzZUZsb2F0KGNbMF0pLHBhcnNlRmxvYXQoY1sxXSkpfX0scGFyc2VBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj17fSxhPWEuZmlyc3RDaGlsZCxjLGQsZTthOyl7aWYoMT09YS5ub2RlVHlwZSl7YT1hLmNoaWxkTm9kZXM7Zm9yKGM9MDtjPGEubGVuZ3RoOysrYylpZihkPWFbY10sMT09ZC5ub2RlVHlwZSlpZihlPWQuY2hpbGROb2RlcywxPT1lLmxlbmd0aCl7aWYoZT1lWzBdLDM9PWUubm9kZVR5cGV8fDQ9PWUubm9kZVR5cGUpZD1kLnByZWZpeD9kLm5vZGVOYW1lLnNwbGl0KCI6IilbMV06ZC5ub2RlTmFtZSxlPWUubm9kZVZhbHVlLnJlcGxhY2UodGhpcy5yZWdFeGVzLnRyaW1TcGFjZSwiIiksCmJbZF09ZX1lbHNlIGJbZC5ub2RlTmFtZS5zcGxpdCgiOiIpLnBvcCgpXT1udWxsO2JyZWFrfWE9YS5uZXh0U2libGluZ31yZXR1cm4gYn0sd3JpdGU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSl8fChhPVthXSk7Zm9yKHZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3dmcyIsIndmczoiK3RoaXMuY29sbGVjdGlvbk5hbWUpLGM9MDtjPGEubGVuZ3RoO2MrKyliLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRmVhdHVyZVhNTChhW2NdKSk7cmV0dXJuIE9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUud3JpdGUuYXBwbHkodGhpcyxbYl0pfSxjcmVhdGVGZWF0dXJlWE1MOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYnVpbGRHZW9tZXRyeU5vZGUoYS5nZW9tZXRyeSksYz10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmZlYXR1cmVOUyx0aGlzLmZlYXR1cmVQcmVmaXgrIjoiK3RoaXMuZ2VvbWV0cnlOYW1lKTtjLmFwcGVuZENoaWxkKGIpOwp2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmdtbG5zLCJnbWw6Iit0aGlzLmZlYXR1cmVOYW1lKSxkPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMuZmVhdHVyZU5TLHRoaXMuZmVhdHVyZVByZWZpeCsiOiIrdGhpcy5sYXllck5hbWUpO2Quc2V0QXR0cmlidXRlKCJmaWQiLGEuZmlkfHxhLmlkKTtkLmFwcGVuZENoaWxkKGMpO2Zvcih2YXIgZSBpbiBhLmF0dHJpYnV0ZXMpe3ZhciBjPXRoaXMuY3JlYXRlVGV4dE5vZGUoYS5hdHRyaWJ1dGVzW2VdKSxmPWUuc3Vic3RyaW5nKGUubGFzdEluZGV4T2YoIjoiKSsxKSxmPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMuZmVhdHVyZU5TLHRoaXMuZmVhdHVyZVByZWZpeCsiOiIrZik7Zi5hcHBlbmRDaGlsZChjKTtkLmFwcGVuZENoaWxkKGYpfWIuYXBwZW5kQ2hpbGQoZCk7cmV0dXJuIGJ9LGJ1aWxkR2VvbWV0cnlOb2RlOmZ1bmN0aW9uKGEpe3RoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uJiZ0aGlzLmludGVybmFsUHJvamVjdGlvbiYmCihhPWEuY2xvbmUoKSxhLnRyYW5zZm9ybSh0aGlzLmludGVybmFsUHJvamVjdGlvbix0aGlzLmV4dGVybmFsUHJvamVjdGlvbikpO3ZhciBiPWEuQ0xBU1NfTkFNRSxiPWIuc3Vic3RyaW5nKGIubGFzdEluZGV4T2YoIi4iKSsxKTtyZXR1cm4gdGhpcy5idWlsZEdlb21ldHJ5W2IudG9Mb3dlckNhc2UoKV0uYXBwbHkodGhpcyxbYV0pfSxidWlsZEdlb21ldHJ5Ontwb2ludDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmdtbG5zLCJnbWw6UG9pbnQiKTtiLmFwcGVuZENoaWxkKHRoaXMuYnVpbGRDb29yZGluYXRlc05vZGUoYSkpO3JldHVybiBifSxtdWx0aXBvaW50OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmdtbG5zLCJnbWw6TXVsdGlQb2ludCIpLGE9YS5jb21wb25lbnRzLGMsZCxlPTA7ZTxhLmxlbmd0aDtlKyspYz10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmdtbG5zLCJnbWw6cG9pbnRNZW1iZXIiKSwKZD10aGlzLmJ1aWxkR2VvbWV0cnkucG9pbnQuYXBwbHkodGhpcyxbYVtlXV0pLGMuYXBwZW5kQ2hpbGQoZCksYi5hcHBlbmRDaGlsZChjKTtyZXR1cm4gYn0sbGluZXN0cmluZzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmdtbG5zLCJnbWw6TGluZVN0cmluZyIpO2IuYXBwZW5kQ2hpbGQodGhpcy5idWlsZENvb3JkaW5hdGVzTm9kZShhKSk7cmV0dXJuIGJ9LG11bHRpbGluZXN0cmluZzpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5nbWxucywiZ21sOk11bHRpTGluZVN0cmluZyIpLGE9YS5jb21wb25lbnRzLGMsZCxlPTA7ZTxhLmxlbmd0aDsrK2UpYz10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmdtbG5zLCJnbWw6bGluZVN0cmluZ01lbWJlciIpLGQ9dGhpcy5idWlsZEdlb21ldHJ5LmxpbmVzdHJpbmcuYXBwbHkodGhpcyxbYVtlXV0pLGMuYXBwZW5kQ2hpbGQoZCksYi5hcHBlbmRDaGlsZChjKTtyZXR1cm4gYn0sCmxpbmVhcnJpbmc6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5nbWxucywiZ21sOkxpbmVhclJpbmciKTtiLmFwcGVuZENoaWxkKHRoaXMuYnVpbGRDb29yZGluYXRlc05vZGUoYSkpO3JldHVybiBifSxwb2x5Z29uOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmdtbG5zLCJnbWw6UG9seWdvbiIpLGE9YS5jb21wb25lbnRzLGMsZCxlPTA7ZTxhLmxlbmd0aDsrK2UpYz0wPT1lPyJvdXRlckJvdW5kYXJ5SXMiOiJpbm5lckJvdW5kYXJ5SXMiLGM9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5nbWxucywiZ21sOiIrYyksZD10aGlzLmJ1aWxkR2VvbWV0cnkubGluZWFycmluZy5hcHBseSh0aGlzLFthW2VdXSksYy5hcHBlbmRDaGlsZChkKSxiLmFwcGVuZENoaWxkKGMpO3JldHVybiBifSxtdWx0aXBvbHlnb246ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMuZ21sbnMsImdtbDpNdWx0aVBvbHlnb24iKSwKYT1hLmNvbXBvbmVudHMsYyxkLGU9MDtlPGEubGVuZ3RoOysrZSljPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMuZ21sbnMsImdtbDpwb2x5Z29uTWVtYmVyIiksZD10aGlzLmJ1aWxkR2VvbWV0cnkucG9seWdvbi5hcHBseSh0aGlzLFthW2VdXSksYy5hcHBlbmRDaGlsZChkKSxiLmFwcGVuZENoaWxkKGMpO3JldHVybiBifSxib3VuZHM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5nbWxucywiZ21sOkJveCIpO2IuYXBwZW5kQ2hpbGQodGhpcy5idWlsZENvb3JkaW5hdGVzTm9kZShhKSk7cmV0dXJuIGJ9fSxidWlsZENvb3JkaW5hdGVzTm9kZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmdtbG5zLCJnbWw6Y29vcmRpbmF0ZXMiKTtiLnNldEF0dHJpYnV0ZSgiZGVjaW1hbCIsIi4iKTtiLnNldEF0dHJpYnV0ZSgiY3MiLCIsIik7Yi5zZXRBdHRyaWJ1dGUoInRzIiwiICIpO3ZhciBjPVtdO2lmKGEgaW5zdGFuY2VvZgpPcGVuTGF5ZXJzLkJvdW5kcyljLnB1c2goYS5sZWZ0KyIsIithLmJvdHRvbSksYy5wdXNoKGEucmlnaHQrIiwiK2EudG9wKTtlbHNlIGZvcih2YXIgYT1hLmNvbXBvbmVudHM/YS5jb21wb25lbnRzOlthXSxkPTA7ZDxhLmxlbmd0aDtkKyspYy5wdXNoKGFbZF0ueCsiLCIrYVtkXS55KTtjPXRoaXMuY3JlYXRlVGV4dE5vZGUoYy5qb2luKCIgIikpO2IuYXBwZW5kQ2hpbGQoYyk7cmV0dXJuIGJ9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LkdNTCJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5HTUx8fChPcGVuTGF5ZXJzLkZvcm1hdC5HTUw9e30pOwpPcGVuTGF5ZXJzLkZvcm1hdC5HTUwuQmFzZT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7bmFtZXNwYWNlczp7Z21sOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbCIseGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiLHdmczoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC93ZnMifSxkZWZhdWx0UHJlZml4OiJnbWwiLHNjaGVtYUxvY2F0aW9uOm51bGwsZmVhdHVyZVR5cGU6bnVsbCxmZWF0dXJlTlM6bnVsbCxnZW9tZXRyeU5hbWU6Imdlb21ldHJ5IixleHRyYWN0QXR0cmlidXRlczohMCxzcnNOYW1lOm51bGwseHk6ITAsZ2VvbWV0cnlUeXBlczpudWxsLHNpbmdsZUZlYXR1cmVUeXBlOm51bGwscmVnRXhlczp7dHJpbVNwYWNlOi9eXHMqfFxzKiQvZyxyZW1vdmVTcGFjZTovXHMqL2csc3BsaXRTcGFjZTovXHMrLyx0cmltQ29tbWE6L1xzKixccyovZyxmZWF0dXJlTWVtYmVyOi9eKC4qOik/ZmVhdHVyZU1lbWJlcnM/JC99LAppbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSk7dGhpcy5zZXRHZW9tZXRyeVR5cGVzKCk7YSYmYS5mZWF0dXJlTlMmJnRoaXMuc2V0TmFtZXNwYWNlKCJmZWF0dXJlIixhLmZlYXR1cmVOUyk7dGhpcy5zaW5nbGVGZWF0dXJlVHlwZT0hYXx8InN0cmluZyI9PT10eXBlb2YgYS5mZWF0dXJlVHlwZX0scmVhZDpmdW5jdGlvbihhKXsic3RyaW5nIj09dHlwZW9mIGEmJihhPU9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUucmVhZC5hcHBseSh0aGlzLFthXSkpO2EmJjk9PWEubm9kZVR5cGUmJihhPWEuZG9jdW1lbnRFbGVtZW50KTt2YXIgYj1bXTt0aGlzLnJlYWROb2RlKGEse2ZlYXR1cmVzOmJ9LCEwKTtpZigwPT1iLmxlbmd0aCl7dmFyIGM9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsdGhpcy5uYW1lc3BhY2VzLmdtbCwiZmVhdHVyZU1lbWJlciIpO2lmKGMubGVuZ3RoKWZvcih2YXIgYT0KMCxkPWMubGVuZ3RoO2E8ZDsrK2EpdGhpcy5yZWFkTm9kZShjW2FdLHtmZWF0dXJlczpifSwhMCk7ZWxzZSBjPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLHRoaXMubmFtZXNwYWNlcy5nbWwsImZlYXR1cmVNZW1iZXJzIiksYy5sZW5ndGgmJnRoaXMucmVhZE5vZGUoY1swXSx7ZmVhdHVyZXM6Yn0sITApfXJldHVybiBifSxyZWFkTm9kZTpmdW5jdGlvbihhLGIsYyl7ITA9PT1jJiYhMD09PXRoaXMuYXV0b0NvbmZpZyYmKHRoaXMuZmVhdHVyZVR5cGU9bnVsbCxkZWxldGUgdGhpcy5uYW1lc3BhY2VBbGlhc1t0aGlzLmZlYXR1cmVOU10sZGVsZXRlIHRoaXMubmFtZXNwYWNlcy5mZWF0dXJlLHRoaXMuZmVhdHVyZU5TPW51bGwpOyF0aGlzLmZlYXR1cmVOUyYmKCEoYS5wcmVmaXggaW4gdGhpcy5uYW1lc3BhY2VzKSYmYS5wYXJlbnROb2RlLm5hbWVzcGFjZVVSST09dGhpcy5uYW1lc3BhY2VzLmdtbCYmdGhpcy5yZWdFeGVzLmZlYXR1cmVNZW1iZXIudGVzdChhLnBhcmVudE5vZGUubm9kZU5hbWUpKSYmCih0aGlzLmZlYXR1cmVUeXBlPWEubm9kZU5hbWUuc3BsaXQoIjoiKS5wb3AoKSx0aGlzLnNldE5hbWVzcGFjZSgiZmVhdHVyZSIsYS5uYW1lc3BhY2VVUkkpLHRoaXMuZmVhdHVyZU5TPWEubmFtZXNwYWNlVVJJLHRoaXMuYXV0b0NvbmZpZz0hMCk7cmV0dXJuIE9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUucmVhZE5vZGUuYXBwbHkodGhpcyxbYSxiXSl9LHJlYWRlcnM6e2dtbDp7X2luaGVyaXQ6ZnVuY3Rpb24oKXt9LGZlYXR1cmVNZW1iZXI6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LGZlYXR1cmVNZW1iZXJzOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxuYW1lOmZ1bmN0aW9uKGEsYil7Yi5uYW1lPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sYm91bmRlZEJ5OmZ1bmN0aW9uKGEsYil7dmFyIGM9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2MuY29tcG9uZW50cyYmMDxjLmNvbXBvbmVudHMubGVuZ3RoJiYoYi5ib3VuZHM9CmMuY29tcG9uZW50c1swXSl9LFBvaW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9e3BvaW50czpbXX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IuY29tcG9uZW50c3x8KGIuY29tcG9uZW50cz1bXSk7Yi5jb21wb25lbnRzLnB1c2goYy5wb2ludHNbMF0pfSxjb29yZGluYXRlczpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYSkucmVwbGFjZSh0aGlzLnJlZ0V4ZXMudHJpbVNwYWNlLCIiKSxjPWMucmVwbGFjZSh0aGlzLnJlZ0V4ZXMudHJpbUNvbW1hLCIsIiksYz1jLnNwbGl0KHRoaXMucmVnRXhlcy5zcGxpdFNwYWNlKSxkLGU9Yy5sZW5ndGgsZj1BcnJheShlKSxnPTA7ZzxlOysrZylkPWNbZ10uc3BsaXQoIiwiKSxmW2ddPXRoaXMueHk/bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoZFswXSxkWzFdLGRbMl0pOm5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGRbMV0sZFswXSxkWzJdKTtiLnBvaW50cz1mfSxjb29yZDpmdW5jdGlvbihhLApiKXt2YXIgYz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5wb2ludHN8fChiLnBvaW50cz1bXSk7Yi5wb2ludHMucHVzaChuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChjLngsYy55LGMueikpfSxYOmZ1bmN0aW9uKGEsYil7Yi54PXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sWTpmdW5jdGlvbihhLGIpe2IueT10aGlzLmdldENoaWxkVmFsdWUoYSl9LFo6ZnVuY3Rpb24oYSxiKXtiLno9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxNdWx0aVBvaW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9e2NvbXBvbmVudHM6W119O3RoaXMucmVhZGVycy5nbWwuX2luaGVyaXQuYXBwbHkodGhpcyxbYSxjLGJdKTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5jb21wb25lbnRzPVtuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aVBvaW50KGMuY29tcG9uZW50cyldfSxwb2ludE1lbWJlcjpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sTGluZVN0cmluZzpmdW5jdGlvbihhLApiKXt2YXIgYz17fTt0aGlzLnJlYWRlcnMuZ21sLl9pbmhlcml0LmFwcGx5KHRoaXMsW2EsYyxiXSk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IuY29tcG9uZW50c3x8KGIuY29tcG9uZW50cz1bXSk7Yi5jb21wb25lbnRzLnB1c2gobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZyhjLnBvaW50cykpfSxNdWx0aUxpbmVTdHJpbmc6ZnVuY3Rpb24oYSxiKXt2YXIgYz17Y29tcG9uZW50czpbXX07dGhpcy5yZWFkZXJzLmdtbC5faW5oZXJpdC5hcHBseSh0aGlzLFthLGMsYl0pO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLmNvbXBvbmVudHM9W25ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpTGluZVN0cmluZyhjLmNvbXBvbmVudHMpXX0sbGluZVN0cmluZ01lbWJlcjpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sUG9seWdvbjpmdW5jdGlvbihhLGIpe3ZhciBjPXtvdXRlcjpudWxsLGlubmVyOltdfTt0aGlzLnJlYWRlcnMuZ21sLl9pbmhlcml0LmFwcGx5KHRoaXMsClthLGMsYl0pO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtjLmlubmVyLnVuc2hpZnQoYy5vdXRlcik7Yi5jb21wb25lbnRzfHwoYi5jb21wb25lbnRzPVtdKTtiLmNvbXBvbmVudHMucHVzaChuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uKGMuaW5uZXIpKX0sTGluZWFyUmluZzpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O3RoaXMucmVhZGVycy5nbWwuX2luaGVyaXQuYXBwbHkodGhpcyxbYSxjXSk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IuY29tcG9uZW50cz1bbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyhjLnBvaW50cyldfSxNdWx0aVBvbHlnb246ZnVuY3Rpb24oYSxiKXt2YXIgYz17Y29tcG9uZW50czpbXX07dGhpcy5yZWFkZXJzLmdtbC5faW5oZXJpdC5hcHBseSh0aGlzLFthLGMsYl0pO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLmNvbXBvbmVudHM9W25ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpUG9seWdvbihjLmNvbXBvbmVudHMpXX0sCnBvbHlnb25NZW1iZXI6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LEdlb21ldHJ5Q29sbGVjdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjPXtjb21wb25lbnRzOltdfTt0aGlzLnJlYWRlcnMuZ21sLl9pbmhlcml0LmFwcGx5KHRoaXMsW2EsYyxiXSk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IuY29tcG9uZW50cz1bbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuQ29sbGVjdGlvbihjLmNvbXBvbmVudHMpXX0sZ2VvbWV0cnlNZW1iZXI6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9fSxmZWF0dXJlOnsiKiI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPWEubG9jYWxOYW1lfHxhLm5vZGVOYW1lLnNwbGl0KCI6IikucG9wKCk7Yi5mZWF0dXJlcz8hdGhpcy5zaW5nbGVGZWF0dXJlVHlwZSYmLTEhPT1PcGVuTGF5ZXJzLlV0aWwuaW5kZXhPZih0aGlzLmZlYXR1cmVUeXBlLGQpP2M9Il90eXBlTmFtZSI6ZD09PXRoaXMuZmVhdHVyZVR5cGUmJihjPQoiX3R5cGVOYW1lIik6MD09YS5jaGlsZE5vZGVzLmxlbmd0aHx8MT09YS5jaGlsZE5vZGVzLmxlbmd0aCYmMz09YS5maXJzdENoaWxkLm5vZGVUeXBlP3RoaXMuZXh0cmFjdEF0dHJpYnV0ZXMmJihjPSJfYXR0cmlidXRlIik6Yz0iX2dlb21ldHJ5IjtjJiZ0aGlzLnJlYWRlcnMuZmVhdHVyZVtjXS5hcHBseSh0aGlzLFthLGJdKX0sX3R5cGVOYW1lOmZ1bmN0aW9uKGEsYil7dmFyIGM9e2NvbXBvbmVudHM6W10sYXR0cmlidXRlczp7fX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2MubmFtZSYmKGMuYXR0cmlidXRlcy5uYW1lPWMubmFtZSk7dmFyIGQ9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoYy5jb21wb25lbnRzWzBdLGMuYXR0cmlidXRlcyk7dGhpcy5zaW5nbGVGZWF0dXJlVHlwZXx8KGQudHlwZT1hLm5vZGVOYW1lLnNwbGl0KCI6IikucG9wKCksZC5uYW1lc3BhY2U9YS5uYW1lc3BhY2VVUkkpO3ZhciBlPWEuZ2V0QXR0cmlidXRlKCJmaWQiKXx8dGhpcy5nZXRBdHRyaWJ1dGVOUyhhLAp0aGlzLm5hbWVzcGFjZXMuZ21sLCJpZCIpO2UmJihkLmZpZD1lKTt0aGlzLmludGVybmFsUHJvamVjdGlvbiYmKHRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uJiZkLmdlb21ldHJ5KSYmZC5nZW9tZXRyeS50cmFuc2Zvcm0odGhpcy5leHRlcm5hbFByb2plY3Rpb24sdGhpcy5pbnRlcm5hbFByb2plY3Rpb24pO2MuYm91bmRzJiYoZC5ib3VuZHM9Yy5ib3VuZHMpO2IuZmVhdHVyZXMucHVzaChkKX0sX2dlb21ldHJ5OmZ1bmN0aW9uKGEsYil7dGhpcy5nZW9tZXRyeU5hbWV8fCh0aGlzLmdlb21ldHJ5TmFtZT1hLm5vZGVOYW1lLnNwbGl0KCI6IikucG9wKCkpO3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sX2F0dHJpYnV0ZTpmdW5jdGlvbihhLGIpe3ZhciBjPWEubG9jYWxOYW1lfHxhLm5vZGVOYW1lLnNwbGl0KCI6IikucG9wKCksZD10aGlzLmdldENoaWxkVmFsdWUoYSk7Yi5hdHRyaWJ1dGVzW2NdPWR9fSx3ZnM6e0ZlYXR1cmVDb2xsZWN0aW9uOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLApiKX19fSx3cml0ZTpmdW5jdGlvbihhKXt2YXIgYjtiPU9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEpPyJmZWF0dXJlTWVtYmVycyI6ImZlYXR1cmVNZW1iZXIiO2E9dGhpcy53cml0ZU5vZGUoImdtbDoiK2IsYSk7dGhpcy5zZXRBdHRyaWJ1dGVOUyhhLHRoaXMubmFtZXNwYWNlcy54c2ksInhzaTpzY2hlbWFMb2NhdGlvbiIsdGhpcy5zY2hlbWFMb2NhdGlvbik7cmV0dXJuIE9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUud3JpdGUuYXBwbHkodGhpcyxbYV0pfSx3cml0ZXJzOntnbWw6e2ZlYXR1cmVNZW1iZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6ZmVhdHVyZU1lbWJlciIpO3RoaXMud3JpdGVOb2RlKCJmZWF0dXJlOl90eXBlTmFtZSIsYSxiKTtyZXR1cm4gYn0sTXVsdGlQb2ludDpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6TXVsdGlQb2ludCIpLGE9YS5jb21wb25lbnRzfHwKW2FdLGM9MCxkPWEubGVuZ3RoO2M8ZDsrK2MpdGhpcy53cml0ZU5vZGUoInBvaW50TWVtYmVyIixhW2NdLGIpO3JldHVybiBifSxwb2ludE1lbWJlcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImdtbDpwb2ludE1lbWJlciIpO3RoaXMud3JpdGVOb2RlKCJQb2ludCIsYSxiKTtyZXR1cm4gYn0sTXVsdGlMaW5lU3RyaW5nOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImdtbDpNdWx0aUxpbmVTdHJpbmciKSxhPWEuY29tcG9uZW50c3x8W2FdLGM9MCxkPWEubGVuZ3RoO2M8ZDsrK2MpdGhpcy53cml0ZU5vZGUoImxpbmVTdHJpbmdNZW1iZXIiLGFbY10sYik7cmV0dXJuIGJ9LGxpbmVTdHJpbmdNZW1iZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6bGluZVN0cmluZ01lbWJlciIpO3RoaXMud3JpdGVOb2RlKCJMaW5lU3RyaW5nIixhLGIpO3JldHVybiBifSxNdWx0aVBvbHlnb246ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPQp0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImdtbDpNdWx0aVBvbHlnb24iKSxhPWEuY29tcG9uZW50c3x8W2FdLGM9MCxkPWEubGVuZ3RoO2M8ZDsrK2MpdGhpcy53cml0ZU5vZGUoInBvbHlnb25NZW1iZXIiLGFbY10sYik7cmV0dXJuIGJ9LHBvbHlnb25NZW1iZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6cG9seWdvbk1lbWJlciIpO3RoaXMud3JpdGVOb2RlKCJQb2x5Z29uIixhLGIpO3JldHVybiBifSxHZW9tZXRyeUNvbGxlY3Rpb246ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOkdlb21ldHJ5Q29sbGVjdGlvbiIpLGM9MCxkPWEuY29tcG9uZW50cy5sZW5ndGg7YzxkOysrYyl0aGlzLndyaXRlTm9kZSgiZ2VvbWV0cnlNZW1iZXIiLGEuY29tcG9uZW50c1tjXSxiKTtyZXR1cm4gYn0sZ2VvbWV0cnlNZW1iZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6Z2VvbWV0cnlNZW1iZXIiKSwKYT10aGlzLndyaXRlTm9kZSgiZmVhdHVyZTpfZ2VvbWV0cnkiLGEpO2IuYXBwZW5kQ2hpbGQoYS5maXJzdENoaWxkKTtyZXR1cm4gYn19LGZlYXR1cmU6e190eXBlTmFtZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImZlYXR1cmU6Iit0aGlzLmZlYXR1cmVUeXBlLHthdHRyaWJ1dGVzOntmaWQ6YS5maWR9fSk7YS5nZW9tZXRyeSYmdGhpcy53cml0ZU5vZGUoImZlYXR1cmU6X2dlb21ldHJ5IixhLmdlb21ldHJ5LGIpO2Zvcih2YXIgYyBpbiBhLmF0dHJpYnV0ZXMpe3ZhciBkPWEuYXR0cmlidXRlc1tjXTtudWxsIT1kJiZ0aGlzLndyaXRlTm9kZSgiZmVhdHVyZTpfYXR0cmlidXRlIix7bmFtZTpjLHZhbHVlOmR9LGIpfXJldHVybiBifSxfZ2VvbWV0cnk6ZnVuY3Rpb24oYSl7dGhpcy5leHRlcm5hbFByb2plY3Rpb24mJnRoaXMuaW50ZXJuYWxQcm9qZWN0aW9uJiYoYT1hLmNsb25lKCkudHJhbnNmb3JtKHRoaXMuaW50ZXJuYWxQcm9qZWN0aW9uLHRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uKSk7CnZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZmVhdHVyZToiK3RoaXMuZ2VvbWV0cnlOYW1lKSxhPXRoaXMud3JpdGVOb2RlKCJnbWw6Iit0aGlzLmdlb21ldHJ5VHlwZXNbYS5DTEFTU19OQU1FXSxhLGIpO3RoaXMuc3JzTmFtZSYmYS5zZXRBdHRyaWJ1dGUoInNyc05hbWUiLHRoaXMuc3JzTmFtZSk7cmV0dXJuIGJ9LF9hdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZmVhdHVyZToiK2EubmFtZSx7dmFsdWU6YS52YWx1ZX0pfX0sd2ZzOntGZWF0dXJlQ29sbGVjdGlvbjpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3ZnM6RmVhdHVyZUNvbGxlY3Rpb24iKSxjPTAsZD1hLmxlbmd0aDtjPGQ7KytjKXRoaXMud3JpdGVOb2RlKCJnbWw6ZmVhdHVyZU1lbWJlciIsYVtjXSxiKTtyZXR1cm4gYn19fSxzZXRHZW9tZXRyeVR5cGVzOmZ1bmN0aW9uKCl7dGhpcy5nZW9tZXRyeVR5cGVzPXsiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCI6IlBvaW50IiwKIk9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlQb2ludCI6Ik11bHRpUG9pbnQiLCJPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmciOiJMaW5lU3RyaW5nIiwiT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aUxpbmVTdHJpbmciOiJNdWx0aUxpbmVTdHJpbmciLCJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24iOiJQb2x5Z29uIiwiT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aVBvbHlnb24iOiJNdWx0aVBvbHlnb24iLCJPcGVuTGF5ZXJzLkdlb21ldHJ5LkNvbGxlY3Rpb24iOiJHZW9tZXRyeUNvbGxlY3Rpb24ifX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuR01MLkJhc2UifSk7T3BlbkxheWVycy5Gb3JtYXQuR01MLnYzPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuR01MLkJhc2Use3NjaGVtYUxvY2F0aW9uOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbCBodHRwOi8vc2NoZW1hcy5vcGVuZ2lzLm5ldC9nbWwvMy4xLjEvcHJvZmlsZXMvZ21sc2ZQcm9maWxlLzEuMC4wL2dtbHNmLnhzZCIsY3VydmU6ITEsbXVsdGlDdXJ2ZTohMCxzdXJmYWNlOiExLG11bHRpU3VyZmFjZTohMCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRm9ybWF0LkdNTC5CYXNlLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKX0scmVhZGVyczp7Z21sOk9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtfaW5oZXJpdDpmdW5jdGlvbihhLGIsYyl7aWYoYT1wYXJzZUludChhLmdldEF0dHJpYnV0ZSgic3JzRGltZW5zaW9uIiksMTApfHxjJiZjLnNyc0RpbWVuc2lvbiliLnNyc0RpbWVuc2lvbj1hfSxmZWF0dXJlTWVtYmVyczpmdW5jdGlvbihhLApiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LEN1cnZlOmZ1bmN0aW9uKGEsYil7dmFyIGM9e3BvaW50czpbXX07dGhpcy5yZWFkZXJzLmdtbC5faW5oZXJpdC5hcHBseSh0aGlzLFthLGMsYl0pO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLmNvbXBvbmVudHN8fChiLmNvbXBvbmVudHM9W10pO2IuY29tcG9uZW50cy5wdXNoKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmcoYy5wb2ludHMpKX0sc2VnbWVudHM6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LExpbmVTdHJpbmdTZWdtZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2MucG9pbnRzJiZBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShiLnBvaW50cyxjLnBvaW50cyl9LHBvczpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKS5yZXBsYWNlKHRoaXMucmVnRXhlcy50cmltU3BhY2UsIiIpLnNwbGl0KHRoaXMucmVnRXhlcy5zcGxpdFNwYWNlKSwKYz10aGlzLnh5P25ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGNbMF0sY1sxXSxjWzJdKTpuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChjWzFdLGNbMF0sY1syXSk7Yi5wb2ludHM9W2NdfSxwb3NMaXN0OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKS5yZXBsYWNlKHRoaXMucmVnRXhlcy50cmltU3BhY2UsIiIpLnNwbGl0KHRoaXMucmVnRXhlcy5zcGxpdFNwYWNlKSxkPWIuc3JzRGltZW5zaW9ufHxwYXJzZUludChhLmdldEF0dHJpYnV0ZSgic3JzRGltZW5zaW9uIil8fGEuZ2V0QXR0cmlidXRlKCJkaW1lbnNpb24iKSwxMCl8fDIsZSxmLGcsaD1BcnJheShjLmxlbmd0aC9kKSxpPTAsaj1jLmxlbmd0aDtpPGo7aSs9ZCllPWNbaV0sZj1jW2krMV0sZz0yPT1kP3ZvaWQgMDpjW2krMl0saFtpL2RdPXRoaXMueHk/bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoZSxmLGcpOm5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGYsCmUsZyk7Yi5wb2ludHM9aH0sU3VyZmFjZTpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0scGF0Y2hlczpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sUG9seWdvblBhdGNoOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkZXJzLmdtbC5Qb2x5Z29uLmFwcGx5KHRoaXMsW2EsYl0pfSxleHRlcmlvcjpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLm91dGVyPWMuY29tcG9uZW50c1swXX0saW50ZXJpb3I6ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5pbm5lci5wdXNoKGMuY29tcG9uZW50c1swXSl9LE11bHRpQ3VydmU6ZnVuY3Rpb24oYSxiKXt2YXIgYz17Y29tcG9uZW50czpbXX07dGhpcy5yZWFkZXJzLmdtbC5faW5oZXJpdC5hcHBseSh0aGlzLFthLGMsYl0pO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTswPGMuY29tcG9uZW50cy5sZW5ndGgmJihiLmNvbXBvbmVudHM9CltuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aUxpbmVTdHJpbmcoYy5jb21wb25lbnRzKV0pfSxjdXJ2ZU1lbWJlcjpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sTXVsdGlTdXJmYWNlOmZ1bmN0aW9uKGEsYil7dmFyIGM9e2NvbXBvbmVudHM6W119O3RoaXMucmVhZGVycy5nbWwuX2luaGVyaXQuYXBwbHkodGhpcyxbYSxjLGJdKTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7MDxjLmNvbXBvbmVudHMubGVuZ3RoJiYoYi5jb21wb25lbnRzPVtuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aVBvbHlnb24oYy5jb21wb25lbnRzKV0pfSxzdXJmYWNlTWVtYmVyOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxzdXJmYWNlTWVtYmVyczpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0scG9pbnRNZW1iZXJzOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxsaW5lU3RyaW5nTWVtYmVyczpmdW5jdGlvbihhLApiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LHBvbHlnb25NZW1iZXJzOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxnZW9tZXRyeU1lbWJlcnM6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LEVudmVsb3BlOmZ1bmN0aW9uKGEsYil7dmFyIGM9e3BvaW50czpBcnJheSgyKX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IuY29tcG9uZW50c3x8KGIuY29tcG9uZW50cz1bXSk7dmFyIGQ9Yy5wb2ludHNbMF0sYz1jLnBvaW50c1sxXTtiLmNvbXBvbmVudHMucHVzaChuZXcgT3BlbkxheWVycy5Cb3VuZHMoZC54LGQueSxjLngsYy55KSl9LGxvd2VyQ29ybmVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9e307dGhpcy5yZWFkZXJzLmdtbC5wb3MuYXBwbHkodGhpcyxbYSxjXSk7Yi5wb2ludHNbMF09Yy5wb2ludHNbMF19LHVwcGVyQ29ybmVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9e307dGhpcy5yZWFkZXJzLmdtbC5wb3MuYXBwbHkodGhpcywKW2EsY10pO2IucG9pbnRzWzFdPWMucG9pbnRzWzBdfX0sT3BlbkxheWVycy5Gb3JtYXQuR01MLkJhc2UucHJvdG90eXBlLnJlYWRlcnMuZ21sKSxmZWF0dXJlOk9wZW5MYXllcnMuRm9ybWF0LkdNTC5CYXNlLnByb3RvdHlwZS5yZWFkZXJzLmZlYXR1cmUsd2ZzOk9wZW5MYXllcnMuRm9ybWF0LkdNTC5CYXNlLnByb3RvdHlwZS5yZWFkZXJzLndmc30sd3JpdGU6ZnVuY3Rpb24oYSl7dmFyIGI7Yj1PcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShhKT8iZmVhdHVyZU1lbWJlcnMiOiJmZWF0dXJlTWVtYmVyIjthPXRoaXMud3JpdGVOb2RlKCJnbWw6IitiLGEpO3RoaXMuc2V0QXR0cmlidXRlTlMoYSx0aGlzLm5hbWVzcGFjZXMueHNpLCJ4c2k6c2NoZW1hTG9jYXRpb24iLHRoaXMuc2NoZW1hTG9jYXRpb24pO3JldHVybiBPcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLndyaXRlLmFwcGx5KHRoaXMsW2FdKX0sd3JpdGVyczp7Z21sOk9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtmZWF0dXJlTWVtYmVyczpmdW5jdGlvbihhKXtmb3IodmFyIGI9CnRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOmZlYXR1cmVNZW1iZXJzIiksYz0wLGQ9YS5sZW5ndGg7YzxkOysrYyl0aGlzLndyaXRlTm9kZSgiZmVhdHVyZTpfdHlwZU5hbWUiLGFbY10sYik7cmV0dXJuIGJ9LFBvaW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOlBvaW50Iik7dGhpcy53cml0ZU5vZGUoInBvcyIsYSxiKTtyZXR1cm4gYn0scG9zOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImdtbDpwb3MiLHt2YWx1ZTp0aGlzLnh5P2EueCsiICIrYS55OmEueSsiICIrYS54fSl9LExpbmVTdHJpbmc6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6TGluZVN0cmluZyIpO3RoaXMud3JpdGVOb2RlKCJwb3NMaXN0IixhLmNvbXBvbmVudHMsYik7cmV0dXJuIGJ9LEN1cnZlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOkN1cnZlIik7CnRoaXMud3JpdGVOb2RlKCJzZWdtZW50cyIsYSxiKTtyZXR1cm4gYn0sc2VnbWVudHM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6c2VnbWVudHMiKTt0aGlzLndyaXRlTm9kZSgiTGluZVN0cmluZ1NlZ21lbnQiLGEsYik7cmV0dXJuIGJ9LExpbmVTdHJpbmdTZWdtZW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOkxpbmVTdHJpbmdTZWdtZW50Iik7dGhpcy53cml0ZU5vZGUoInBvc0xpc3QiLGEuY29tcG9uZW50cyxiKTtyZXR1cm4gYn0scG9zTGlzdDpmdW5jdGlvbihhKXtmb3IodmFyIGI9YS5sZW5ndGgsYz1BcnJheShiKSxkLGU9MDtlPGI7KytlKWQ9YVtlXSxjW2VdPXRoaXMueHk/ZC54KyIgIitkLnk6ZC55KyIgIitkLng7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOnBvc0xpc3QiLHt2YWx1ZTpjLmpvaW4oIiAiKX0pfSxTdXJmYWNlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOlN1cmZhY2UiKTsKdGhpcy53cml0ZU5vZGUoInBhdGNoZXMiLGEsYik7cmV0dXJuIGJ9LHBhdGNoZXM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6cGF0Y2hlcyIpO3RoaXMud3JpdGVOb2RlKCJQb2x5Z29uUGF0Y2giLGEsYik7cmV0dXJuIGJ9LFBvbHlnb25QYXRjaDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImdtbDpQb2x5Z29uUGF0Y2giLHthdHRyaWJ1dGVzOntpbnRlcnBvbGF0aW9uOiJwbGFuYXIifX0pO3RoaXMud3JpdGVOb2RlKCJleHRlcmlvciIsYS5jb21wb25lbnRzWzBdLGIpO2Zvcih2YXIgYz0xLGQ9YS5jb21wb25lbnRzLmxlbmd0aDtjPGQ7KytjKXRoaXMud3JpdGVOb2RlKCJpbnRlcmlvciIsYS5jb21wb25lbnRzW2NdLGIpO3JldHVybiBifSxQb2x5Z29uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOlBvbHlnb24iKTt0aGlzLndyaXRlTm9kZSgiZXh0ZXJpb3IiLGEuY29tcG9uZW50c1swXSwKYik7Zm9yKHZhciBjPTEsZD1hLmNvbXBvbmVudHMubGVuZ3RoO2M8ZDsrK2MpdGhpcy53cml0ZU5vZGUoImludGVyaW9yIixhLmNvbXBvbmVudHNbY10sYik7cmV0dXJuIGJ9LGV4dGVyaW9yOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOmV4dGVyaW9yIik7dGhpcy53cml0ZU5vZGUoIkxpbmVhclJpbmciLGEsYik7cmV0dXJuIGJ9LGludGVyaW9yOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOmludGVyaW9yIik7dGhpcy53cml0ZU5vZGUoIkxpbmVhclJpbmciLGEsYik7cmV0dXJuIGJ9LExpbmVhclJpbmc6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6TGluZWFyUmluZyIpO3RoaXMud3JpdGVOb2RlKCJwb3NMaXN0IixhLmNvbXBvbmVudHMsYik7cmV0dXJuIGJ9LE11bHRpQ3VydmU6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOk11bHRpQ3VydmUiKSwKYT1hLmNvbXBvbmVudHN8fFthXSxjPTAsZD1hLmxlbmd0aDtjPGQ7KytjKXRoaXMud3JpdGVOb2RlKCJjdXJ2ZU1lbWJlciIsYVtjXSxiKTtyZXR1cm4gYn0sY3VydmVNZW1iZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6Y3VydmVNZW1iZXIiKTt0aGlzLmN1cnZlP3RoaXMud3JpdGVOb2RlKCJDdXJ2ZSIsYSxiKTp0aGlzLndyaXRlTm9kZSgiTGluZVN0cmluZyIsYSxiKTtyZXR1cm4gYn0sTXVsdGlTdXJmYWNlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImdtbDpNdWx0aVN1cmZhY2UiKSxhPWEuY29tcG9uZW50c3x8W2FdLGM9MCxkPWEubGVuZ3RoO2M8ZDsrK2MpdGhpcy53cml0ZU5vZGUoInN1cmZhY2VNZW1iZXIiLGFbY10sYik7cmV0dXJuIGJ9LHN1cmZhY2VNZW1iZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6c3VyZmFjZU1lbWJlciIpO3RoaXMuc3VyZmFjZT8KdGhpcy53cml0ZU5vZGUoIlN1cmZhY2UiLGEsYik6dGhpcy53cml0ZU5vZGUoIlBvbHlnb24iLGEsYik7cmV0dXJuIGJ9LEVudmVsb3BlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOkVudmVsb3BlIik7dGhpcy53cml0ZU5vZGUoImxvd2VyQ29ybmVyIixhLGIpO3RoaXMud3JpdGVOb2RlKCJ1cHBlckNvcm5lciIsYSxiKTt0aGlzLnNyc05hbWUmJmIuc2V0QXR0cmlidXRlKCJzcnNOYW1lIix0aGlzLnNyc05hbWUpO3JldHVybiBifSxsb3dlckNvcm5lcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6bG93ZXJDb3JuZXIiLHt2YWx1ZTp0aGlzLnh5P2EubGVmdCsiICIrYS5ib3R0b206YS5ib3R0b20rIiAiK2EubGVmdH0pfSx1cHBlckNvcm5lcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6dXBwZXJDb3JuZXIiLHt2YWx1ZTp0aGlzLnh5P2EucmlnaHQrIiAiKwphLnRvcDphLnRvcCsiICIrYS5yaWdodH0pfX0sT3BlbkxheWVycy5Gb3JtYXQuR01MLkJhc2UucHJvdG90eXBlLndyaXRlcnMuZ21sKSxmZWF0dXJlOk9wZW5MYXllcnMuRm9ybWF0LkdNTC5CYXNlLnByb3RvdHlwZS53cml0ZXJzLmZlYXR1cmUsd2ZzOk9wZW5MYXllcnMuRm9ybWF0LkdNTC5CYXNlLnByb3RvdHlwZS53cml0ZXJzLndmc30sc2V0R2VvbWV0cnlUeXBlczpmdW5jdGlvbigpe3RoaXMuZ2VvbWV0cnlUeXBlcz17Ik9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQiOiJQb2ludCIsIk9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlQb2ludCI6Ik11bHRpUG9pbnQiLCJPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmciOiEwPT09dGhpcy5jdXJ2ZT8iQ3VydmUiOiJMaW5lU3RyaW5nIiwiT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aUxpbmVTdHJpbmciOiExPT09dGhpcy5tdWx0aUN1cnZlPyJNdWx0aUxpbmVTdHJpbmciOiJNdWx0aUN1cnZlIiwiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uIjohMD09PQp0aGlzLnN1cmZhY2U/IlN1cmZhY2UiOiJQb2x5Z29uIiwiT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aVBvbHlnb24iOiExPT09dGhpcy5tdWx0aVN1cmZhY2U/Ik11bHRpUG9seWdvbiI6Ik11bHRpU3VyZmFjZSIsIk9wZW5MYXllcnMuR2VvbWV0cnkuQ29sbGVjdGlvbiI6Ikdlb21ldHJ5Q29sbGVjdGlvbiJ9fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjMifSk7T3BlbkxheWVycy5Gb3JtYXQuRmlsdGVyLnYxXzFfMD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LkdNTC52MyxPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIudjEse1ZFUlNJT046IjEuMS4wIixzY2hlbWFMb2NhdGlvbjoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vZ2MvZmlsdGVyLzEuMS4wL2ZpbHRlci54c2QiLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Gb3JtYXQuR01MLnYzLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKX0scmVhZGVyczp7b2djOk9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtQcm9wZXJ0eUlzRXF1YWxUbzpmdW5jdGlvbihhLGIpe3ZhciBjPWEuZ2V0QXR0cmlidXRlKCJtYXRjaENhc2UiKSxjPW5ldyBPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uKHt0eXBlOk9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uRVFVQUxfVE8sbWF0Y2hDYXNlOiEoImZhbHNlIj09PWN8fCIwIj09PWMpfSk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLApjKTtiLmZpbHRlcnMucHVzaChjKX0sUHJvcGVydHlJc05vdEVxdWFsVG86ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldEF0dHJpYnV0ZSgibWF0Y2hDYXNlIiksYz1uZXcgT3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbih7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLk5PVF9FUVVBTF9UTyxtYXRjaENhc2U6ISgiZmFsc2UiPT09Y3x8IjAiPT09Yyl9KTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5maWx0ZXJzLnB1c2goYyl9LFByb3BlcnR5SXNMaWtlOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IE9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24oe3R5cGU6T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5MSUtFfSk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO3ZhciBkPWEuZ2V0QXR0cmlidXRlKCJ3aWxkQ2FyZCIpLGU9YS5nZXRBdHRyaWJ1dGUoInNpbmdsZUNoYXIiKSxmPWEuZ2V0QXR0cmlidXRlKCJlc2NhcGVDaGFyIik7Yy52YWx1ZTJyZWdleChkLGUsCmYpO2IuZmlsdGVycy5wdXNoKGMpfX0sT3BlbkxheWVycy5Gb3JtYXQuRmlsdGVyLnYxLnByb3RvdHlwZS5yZWFkZXJzLm9nYyksZ21sOk9wZW5MYXllcnMuRm9ybWF0LkdNTC52My5wcm90b3R5cGUucmVhZGVycy5nbWwsZmVhdHVyZTpPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjMucHJvdG90eXBlLnJlYWRlcnMuZmVhdHVyZX0sd3JpdGVyczp7b2djOk9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtQcm9wZXJ0eUlzRXF1YWxUbzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIm9nYzpQcm9wZXJ0eUlzRXF1YWxUbyIse2F0dHJpYnV0ZXM6e21hdGNoQ2FzZTphLm1hdGNoQ2FzZX19KTt0aGlzLndyaXRlTm9kZSgiUHJvcGVydHlOYW1lIixhLGIpO3RoaXMud3JpdGVPZ2NFeHByZXNzaW9uKGEudmFsdWUsYik7cmV0dXJuIGJ9LFByb3BlcnR5SXNOb3RFcXVhbFRvOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOlByb3BlcnR5SXNOb3RFcXVhbFRvIiwKe2F0dHJpYnV0ZXM6e21hdGNoQ2FzZTphLm1hdGNoQ2FzZX19KTt0aGlzLndyaXRlTm9kZSgiUHJvcGVydHlOYW1lIixhLGIpO3RoaXMud3JpdGVPZ2NFeHByZXNzaW9uKGEudmFsdWUsYik7cmV0dXJuIGJ9LFByb3BlcnR5SXNMaWtlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOlByb3BlcnR5SXNMaWtlIix7YXR0cmlidXRlczp7bWF0Y2hDYXNlOmEubWF0Y2hDYXNlLHdpbGRDYXJkOiIqIixzaW5nbGVDaGFyOiIuIixlc2NhcGVDaGFyOiIhIn19KTt0aGlzLndyaXRlTm9kZSgiUHJvcGVydHlOYW1lIixhLGIpO3RoaXMud3JpdGVOb2RlKCJMaXRlcmFsIixhLnJlZ2V4MnZhbHVlKCksYik7cmV0dXJuIGJ9LEJCT1g6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6QkJPWCIpO2EucHJvcGVydHkmJnRoaXMud3JpdGVOb2RlKCJQcm9wZXJ0eU5hbWUiLGEsYik7dmFyIGM9dGhpcy53cml0ZU5vZGUoImdtbDpFbnZlbG9wZSIsCmEudmFsdWUpO2EucHJvamVjdGlvbiYmYy5zZXRBdHRyaWJ1dGUoInNyc05hbWUiLGEucHJvamVjdGlvbik7Yi5hcHBlbmRDaGlsZChjKTtyZXR1cm4gYn0sU29ydEJ5OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIm9nYzpTb3J0QnkiKSxjPTAsZD1hLmxlbmd0aDtjPGQ7YysrKXRoaXMud3JpdGVOb2RlKCJvZ2M6U29ydFByb3BlcnR5IixhW2NdLGIpO3JldHVybiBifSxTb3J0UHJvcGVydHk6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6U29ydFByb3BlcnR5Iik7dGhpcy53cml0ZU5vZGUoIm9nYzpQcm9wZXJ0eU5hbWUiLGEsYik7dGhpcy53cml0ZU5vZGUoIm9nYzpTb3J0T3JkZXIiLCJERVNDIj09YS5vcmRlcj8iREVTQyI6IkFTQyIsYik7cmV0dXJuIGJ9LFNvcnRPcmRlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6U29ydE9yZGVyIix7dmFsdWU6YX0pfX0sCk9wZW5MYXllcnMuRm9ybWF0LkZpbHRlci52MS5wcm90b3R5cGUud3JpdGVycy5vZ2MpLGdtbDpPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjMucHJvdG90eXBlLndyaXRlcnMuZ21sLGZlYXR1cmU6T3BlbkxheWVycy5Gb3JtYXQuR01MLnYzLnByb3RvdHlwZS53cml0ZXJzLmZlYXR1cmV9LHdyaXRlU3BhdGlhbDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOiIrYik7dGhpcy53cml0ZU5vZGUoIlByb3BlcnR5TmFtZSIsYSxjKTtpZihhLnZhbHVlIGluc3RhbmNlb2YgT3BlbkxheWVycy5GaWx0ZXIuRnVuY3Rpb24pdGhpcy53cml0ZU5vZGUoIkZ1bmN0aW9uIixhLnZhbHVlLGMpO2Vsc2V7dmFyIGQ7ZD1hLnZhbHVlIGluc3RhbmNlb2YgT3BlbkxheWVycy5HZW9tZXRyeT90aGlzLndyaXRlTm9kZSgiZmVhdHVyZTpfZ2VvbWV0cnkiLGEudmFsdWUpLmZpcnN0Q2hpbGQ6dGhpcy53cml0ZU5vZGUoImdtbDpFbnZlbG9wZSIsYS52YWx1ZSk7YS5wcm9qZWN0aW9uJiYKZC5zZXRBdHRyaWJ1dGUoInNyc05hbWUiLGEucHJvamVjdGlvbik7Yy5hcHBlbmRDaGlsZChkKX1yZXR1cm4gY30sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuRmlsdGVyLnYxXzFfMCJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb249T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwuVmVyc2lvbmVkT0dDLHtkZWZhdWx0VmVyc2lvbjoiMS4wLjAiLGdldFZlcnNpb246ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy52ZXJzaW9uO2J8fCgoYT1hLmdldEF0dHJpYnV0ZSgieG1sbnM6b3dzIikpJiYiMS4xIj09PWEuc3Vic3RyaW5nKGEubGFzdEluZGV4T2YoIi8iKSsxKSYmKGI9IjEuMS4wIiksYnx8KGI9dGhpcy5kZWZhdWx0VmVyc2lvbikpO3JldHVybiBifSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24ifSk7T3BlbkxheWVycy5Gb3JtYXQuT1dTQ29tbW9uLnYxPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuWE1MLHtyZWdFeGVzOnt0cmltU3BhY2U6L15ccyp8XHMqJC9nLHJlbW92ZVNwYWNlOi9ccyovZyxzcGxpdFNwYWNlOi9ccysvLHRyaW1Db21tYTovXHMqLFxzKi9nfSxyZWFkOmZ1bmN0aW9uKGEsYil7T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYix0aGlzLm9wdGlvbnMpO3ZhciBjPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtyZXR1cm4gY30scmVhZGVyczp7b3dzOntFeGNlcHRpb246ZnVuY3Rpb24oYSxiKXt2YXIgYz17Y29kZTphLmdldEF0dHJpYnV0ZSgiZXhjZXB0aW9uQ29kZSIpLGxvY2F0b3I6YS5nZXRBdHRyaWJ1dGUoImxvY2F0b3IiKSx0ZXh0czpbXX07Yi5leGNlcHRpb25zLnB1c2goYyk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpfSxFeGNlcHRpb25UZXh0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDaGlsZFZhbHVlKGEpO2IudGV4dHMucHVzaChjKX0sClNlcnZpY2VJZGVudGlmaWNhdGlvbjpmdW5jdGlvbihhLGIpe2Iuc2VydmljZUlkZW50aWZpY2F0aW9uPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnNlcnZpY2VJZGVudGlmaWNhdGlvbil9LFRpdGxlOmZ1bmN0aW9uKGEsYil7Yi50aXRsZT10aGlzLmdldENoaWxkVmFsdWUoYSl9LEFic3RyYWN0OmZ1bmN0aW9uKGEsYil7YlsiYWJzdHJhY3QiXT10aGlzLmdldENoaWxkVmFsdWUoYSl9LEtleXdvcmRzOmZ1bmN0aW9uKGEsYil7Yi5rZXl3b3Jkcz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5rZXl3b3Jkcyl9LEtleXdvcmQ6ZnVuY3Rpb24oYSxiKXtiW3RoaXMuZ2V0Q2hpbGRWYWx1ZShhKV09ITB9LFNlcnZpY2VUeXBlOmZ1bmN0aW9uKGEsYil7Yi5zZXJ2aWNlVHlwZT17Y29kZVNwYWNlOmEuZ2V0QXR0cmlidXRlKCJjb2RlU3BhY2UiKSx2YWx1ZTp0aGlzLmdldENoaWxkVmFsdWUoYSl9fSxTZXJ2aWNlVHlwZVZlcnNpb246ZnVuY3Rpb24oYSxiKXtiLnNlcnZpY2VUeXBlVmVyc2lvbj0KdGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxGZWVzOmZ1bmN0aW9uKGEsYil7Yi5mZWVzPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sQWNjZXNzQ29uc3RyYWludHM6ZnVuY3Rpb24oYSxiKXtiLmFjY2Vzc0NvbnN0cmFpbnRzPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sU2VydmljZVByb3ZpZGVyOmZ1bmN0aW9uKGEsYil7Yi5zZXJ2aWNlUHJvdmlkZXI9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuc2VydmljZVByb3ZpZGVyKX0sUHJvdmlkZXJOYW1lOmZ1bmN0aW9uKGEsYil7Yi5wcm92aWRlck5hbWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxQcm92aWRlclNpdGU6ZnVuY3Rpb24oYSxiKXtiLnByb3ZpZGVyU2l0ZT10aGlzLmdldEF0dHJpYnV0ZU5TKGEsdGhpcy5uYW1lc3BhY2VzLnhsaW5rLCJocmVmIil9LFNlcnZpY2VDb250YWN0OmZ1bmN0aW9uKGEsYil7Yi5zZXJ2aWNlQ29udGFjdD17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5zZXJ2aWNlQ29udGFjdCl9LEluZGl2aWR1YWxOYW1lOmZ1bmN0aW9uKGEsCmIpe2IuaW5kaXZpZHVhbE5hbWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxQb3NpdGlvbk5hbWU6ZnVuY3Rpb24oYSxiKXtiLnBvc2l0aW9uTmFtZT10aGlzLmdldENoaWxkVmFsdWUoYSl9LENvbnRhY3RJbmZvOmZ1bmN0aW9uKGEsYil7Yi5jb250YWN0SW5mbz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5jb250YWN0SW5mbyl9LFBob25lOmZ1bmN0aW9uKGEsYil7Yi5waG9uZT17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5waG9uZSl9LFZvaWNlOmZ1bmN0aW9uKGEsYil7Yi52b2ljZT10aGlzLmdldENoaWxkVmFsdWUoYSl9LEFkZHJlc3M6ZnVuY3Rpb24oYSxiKXtiLmFkZHJlc3M9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuYWRkcmVzcyl9LERlbGl2ZXJ5UG9pbnQ6ZnVuY3Rpb24oYSxiKXtiLmRlbGl2ZXJ5UG9pbnQ9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxDaXR5OmZ1bmN0aW9uKGEsYil7Yi5jaXR5PXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sQWRtaW5pc3RyYXRpdmVBcmVhOmZ1bmN0aW9uKGEsCmIpe2IuYWRtaW5pc3RyYXRpdmVBcmVhPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sUG9zdGFsQ29kZTpmdW5jdGlvbihhLGIpe2IucG9zdGFsQ29kZT10aGlzLmdldENoaWxkVmFsdWUoYSl9LENvdW50cnk6ZnVuY3Rpb24oYSxiKXtiLmNvdW50cnk9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxFbGVjdHJvbmljTWFpbEFkZHJlc3M6ZnVuY3Rpb24oYSxiKXtiLmVsZWN0cm9uaWNNYWlsQWRkcmVzcz10aGlzLmdldENoaWxkVmFsdWUoYSl9LFJvbGU6ZnVuY3Rpb24oYSxiKXtiLnJvbGU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxPcGVyYXRpb25zTWV0YWRhdGE6ZnVuY3Rpb24oYSxiKXtiLm9wZXJhdGlvbnNNZXRhZGF0YT17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5vcGVyYXRpb25zTWV0YWRhdGEpfSxPcGVyYXRpb246ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldEF0dHJpYnV0ZSgibmFtZSIpO2JbY109e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGJbY10pfSxEQ1A6ZnVuY3Rpb24oYSwKYil7Yi5kY3A9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuZGNwKX0sSFRUUDpmdW5jdGlvbihhLGIpe2IuaHR0cD17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5odHRwKX0sR2V0OmZ1bmN0aW9uKGEsYil7Yi5nZXR8fChiLmdldD1bXSk7dmFyIGM9e3VybDp0aGlzLmdldEF0dHJpYnV0ZU5TKGEsdGhpcy5uYW1lc3BhY2VzLnhsaW5rLCJocmVmIil9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLmdldC5wdXNoKGMpfSxQb3N0OmZ1bmN0aW9uKGEsYil7Yi5wb3N0fHwoYi5wb3N0PVtdKTt2YXIgYz17dXJsOnRoaXMuZ2V0QXR0cmlidXRlTlMoYSx0aGlzLm5hbWVzcGFjZXMueGxpbmssImhyZWYiKX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IucG9zdC5wdXNoKGMpfSxQYXJhbWV0ZXI6ZnVuY3Rpb24oYSxiKXtiLnBhcmFtZXRlcnN8fChiLnBhcmFtZXRlcnM9e30pO3ZhciBjPWEuZ2V0QXR0cmlidXRlKCJuYW1lIik7Yi5wYXJhbWV0ZXJzW2NdPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSwKYi5wYXJhbWV0ZXJzW2NdKX0sQ29uc3RyYWludDpmdW5jdGlvbihhLGIpe2IuY29uc3RyYWludHN8fChiLmNvbnN0cmFpbnRzPXt9KTt2YXIgYz1hLmdldEF0dHJpYnV0ZSgibmFtZSIpO2IuY29uc3RyYWludHNbY109e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuY29uc3RyYWludHNbY10pfSxWYWx1ZTpmdW5jdGlvbihhLGIpe2JbdGhpcy5nZXRDaGlsZFZhbHVlKGEpXT0hMH0sT3V0cHV0Rm9ybWF0OmZ1bmN0aW9uKGEsYil7Yi5mb3JtYXRzLnB1c2goe3ZhbHVlOnRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0pO3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sV0dTODRCb3VuZGluZ0JveDpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O2MuY3JzPWEuZ2V0QXR0cmlidXRlKCJjcnMiKTtiLkJvdW5kaW5nQm94P2IuQm91bmRpbmdCb3gucHVzaChjKTooYi5wcm9qZWN0aW9uPWMuY3JzLGM9Yik7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpfSxCb3VuZGluZ0JveDpmdW5jdGlvbihhLGIpe3RoaXMucmVhZGVycy5vd3MuV0dTODRCb3VuZGluZ0JveC5hcHBseSh0aGlzLApbYSxiXSl9LExvd2VyQ29ybmVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDaGlsZFZhbHVlKGEpLnJlcGxhY2UodGhpcy5yZWdFeGVzLnRyaW1TcGFjZSwiIiksYz1jLnJlcGxhY2UodGhpcy5yZWdFeGVzLnRyaW1Db21tYSwiLCIpLGM9Yy5zcGxpdCh0aGlzLnJlZ0V4ZXMuc3BsaXRTcGFjZSk7Yi5sZWZ0PWNbMF07Yi5ib3R0b209Y1sxXX0sVXBwZXJDb3JuZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYSkucmVwbGFjZSh0aGlzLnJlZ0V4ZXMudHJpbVNwYWNlLCIiKSxjPWMucmVwbGFjZSh0aGlzLnJlZ0V4ZXMudHJpbUNvbW1hLCIsIiksYz1jLnNwbGl0KHRoaXMucmVnRXhlcy5zcGxpdFNwYWNlKTtiLnJpZ2h0PWNbMF07Yi50b3A9Y1sxXTtiLmJvdW5kcz1uZXcgT3BlbkxheWVycy5Cb3VuZHMoYi5sZWZ0LGIuYm90dG9tLGIucmlnaHQsYi50b3ApO2RlbGV0ZSBiLmxlZnQ7ZGVsZXRlIGIuYm90dG9tO2RlbGV0ZSBiLnJpZ2h0O2RlbGV0ZSBiLnRvcH0sCkxhbmd1YWdlOmZ1bmN0aW9uKGEsYil7Yi5sYW5ndWFnZT10aGlzLmdldENoaWxkVmFsdWUoYSl9fX0sd3JpdGVyczp7b3dzOntCb3VuZGluZ0JveDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cyhifHwib3dzOkJvdW5kaW5nQm94Iix7YXR0cmlidXRlczp7Y3JzOmEucHJvamVjdGlvbn19KTt0aGlzLndyaXRlTm9kZSgib3dzOkxvd2VyQ29ybmVyIixhLGMpO3RoaXMud3JpdGVOb2RlKCJvd3M6VXBwZXJDb3JuZXIiLGEsYyk7cmV0dXJuIGN9LExvd2VyQ29ybmVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIm93czpMb3dlckNvcm5lciIse3ZhbHVlOmEuYm91bmRzLmxlZnQrIiAiK2EuYm91bmRzLmJvdHRvbX0pfSxVcHBlckNvcm5lcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvd3M6VXBwZXJDb3JuZXIiLHt2YWx1ZTphLmJvdW5kcy5yaWdodCsiICIrYS5ib3VuZHMudG9wfSl9LApJZGVudGlmaWVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIm93czpJZGVudGlmaWVyIix7dmFsdWU6YX0pfSxUaXRsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvd3M6VGl0bGUiLHt2YWx1ZTphfSl9LEFic3RyYWN0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIm93czpBYnN0cmFjdCIse3ZhbHVlOmF9KX0sT3V0cHV0Rm9ybWF0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIm93czpPdXRwdXRGb3JtYXQiLHt2YWx1ZTphfSl9fX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuT1dTQ29tbW9uLnYxIn0pO09wZW5MYXllcnMuRm9ybWF0Lk9XU0NvbW1vbi52MV8wXzA9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24udjEse25hbWVzcGFjZXM6e293czoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vd3MiLHhsaW5rOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIn0scmVhZGVyczp7b3dzOk9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtFeGNlcHRpb25SZXBvcnQ6ZnVuY3Rpb24oYSxiKXtiLnN1Y2Nlc3M9ITE7Yi5leGNlcHRpb25SZXBvcnQ9e3ZlcnNpb246YS5nZXRBdHRyaWJ1dGUoInZlcnNpb24iKSxsYW5ndWFnZTphLmdldEF0dHJpYnV0ZSgibGFuZ3VhZ2UiKSxleGNlcHRpb25zOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5leGNlcHRpb25SZXBvcnQpfX0sT3BlbkxheWVycy5Gb3JtYXQuT1dTQ29tbW9uLnYxLnByb3RvdHlwZS5yZWFkZXJzLm93cyl9LHdyaXRlcnM6e293czpPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24udjEucHJvdG90eXBlLndyaXRlcnMub3dzfSwKQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuT1dTQ29tbW9uLnYxXzBfMCJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5XRlNULnYxXzFfMD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LkZpbHRlci52MV8xXzAsT3BlbkxheWVycy5Gb3JtYXQuV0ZTVC52MSx7dmVyc2lvbjoiMS4xLjAiLHNjaGVtYUxvY2F0aW9uczp7d2ZzOiJodHRwOi8vc2NoZW1hcy5vcGVuZ2lzLm5ldC93ZnMvMS4xLjAvd2ZzLnhzZCJ9LGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Gb3JtYXQuRmlsdGVyLnYxXzFfMC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSk7T3BlbkxheWVycy5Gb3JtYXQuV0ZTVC52MS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSl9LHJlYWROb2RlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gT3BlbkxheWVycy5Gb3JtYXQuR01MLnYzLnByb3RvdHlwZS5yZWFkTm9kZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHJlYWRlcnM6e3dmczpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7RmVhdHVyZUNvbGxlY3Rpb246ZnVuY3Rpb24oYSwKYil7Yi5udW1iZXJPZkZlYXR1cmVzPXBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKCJudW1iZXJPZkZlYXR1cmVzIikpO09wZW5MYXllcnMuRm9ybWF0LldGU1QudjEucHJvdG90eXBlLnJlYWRlcnMud2ZzLkZlYXR1cmVDb2xsZWN0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sVHJhbnNhY3Rpb25SZXNwb25zZTpmdW5jdGlvbihhLGIpe2IuaW5zZXJ0SWRzPVtdO2Iuc3VjY2Vzcz0hMTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LFRyYW5zYWN0aW9uU3VtbWFyeTpmdW5jdGlvbihhLGIpe2Iuc3VjY2Vzcz0hMH0sSW5zZXJ0UmVzdWx0czpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sRmVhdHVyZTpmdW5jdGlvbihhLGIpe3ZhciBjPXtmaWRzOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5pbnNlcnRJZHMucHVzaChjLmZpZHNbMF0pfX0sT3BlbkxheWVycy5Gb3JtYXQuV0ZTVC52MS5wcm90b3R5cGUucmVhZGVycy53ZnMpLGdtbDpPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjMucHJvdG90eXBlLnJlYWRlcnMuZ21sLApmZWF0dXJlOk9wZW5MYXllcnMuRm9ybWF0LkdNTC52My5wcm90b3R5cGUucmVhZGVycy5mZWF0dXJlLG9nYzpPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIudjFfMV8wLnByb3RvdHlwZS5yZWFkZXJzLm9nYyxvd3M6T3BlbkxheWVycy5Gb3JtYXQuT1dTQ29tbW9uLnYxXzBfMC5wcm90b3R5cGUucmVhZGVycy5vd3N9LHdyaXRlcnM6e3dmczpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7R2V0RmVhdHVyZTpmdW5jdGlvbihhKXt2YXIgYj1PcGVuTGF5ZXJzLkZvcm1hdC5XRlNULnYxLnByb3RvdHlwZS53cml0ZXJzLndmcy5HZXRGZWF0dXJlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthJiZ0aGlzLnNldEF0dHJpYnV0ZXMoYix7cmVzdWx0VHlwZTphLnJlc3VsdFR5cGUsc3RhcnRJbmRleDphLnN0YXJ0SW5kZXgsY291bnQ6YS5jb3VudH0pO3JldHVybiBifSxRdWVyeTpmdW5jdGlvbihhKXt2YXIgYT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHtmZWF0dXJlTlM6dGhpcy5mZWF0dXJlTlMsCmZlYXR1cmVQcmVmaXg6dGhpcy5mZWF0dXJlUHJlZml4LGZlYXR1cmVUeXBlOnRoaXMuZmVhdHVyZVR5cGUsc3JzTmFtZTp0aGlzLnNyc05hbWV9LGEpLGI9YS5mZWF0dXJlUHJlZml4LGM9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3ZnM6UXVlcnkiLHthdHRyaWJ1dGVzOnt0eXBlTmFtZTooYj9iKyI6IjoiIikrYS5mZWF0dXJlVHlwZSxzcnNOYW1lOmEuc3JzTmFtZX19KTthLmZlYXR1cmVOUyYmYy5zZXRBdHRyaWJ1dGUoInhtbG5zOiIrYixhLmZlYXR1cmVOUyk7aWYoYS5wcm9wZXJ0eU5hbWVzKWZvcih2YXIgYj0wLGQ9YS5wcm9wZXJ0eU5hbWVzLmxlbmd0aDtiPGQ7YisrKXRoaXMud3JpdGVOb2RlKCJ3ZnM6UHJvcGVydHlOYW1lIix7cHJvcGVydHk6YS5wcm9wZXJ0eU5hbWVzW2JdfSxjKTthLmZpbHRlciYmKE9wZW5MYXllcnMuRm9ybWF0LldGU1QudjFfMV8wLnByb3RvdHlwZS5zZXRGaWx0ZXJQcm9wZXJ0eS5jYWxsKHRoaXMsYS5maWx0ZXIpLHRoaXMud3JpdGVOb2RlKCJvZ2M6RmlsdGVyIiwKYS5maWx0ZXIsYykpO3JldHVybiBjfSxQcm9wZXJ0eU5hbWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid2ZzOlByb3BlcnR5TmFtZSIse3ZhbHVlOmEucHJvcGVydHl9KX19LE9wZW5MYXllcnMuRm9ybWF0LldGU1QudjEucHJvdG90eXBlLndyaXRlcnMud2ZzKSxnbWw6T3BlbkxheWVycy5Gb3JtYXQuR01MLnYzLnByb3RvdHlwZS53cml0ZXJzLmdtbCxmZWF0dXJlOk9wZW5MYXllcnMuRm9ybWF0LkdNTC52My5wcm90b3R5cGUud3JpdGVycy5mZWF0dXJlLG9nYzpPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIudjFfMV8wLnByb3RvdHlwZS53cml0ZXJzLm9nY30sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuV0ZTVC52MV8xXzAifSk7T3BlbkxheWVycy5MYW5nLmlzPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtQZXJtYWxpbms6IlZhcmFubGVndXIgdGVuZ2lsbCIsT3ZlcmxheXM6Ilx1MDBkZWVranVyIiwiQmFzZSBMYXllciI6IkdydW5ubGFnIiwiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6IlNrYWxpID0gMSA6ICR7c2NhbGVEZW5vbX0iLG1ldGhvZERlcHJlY2F0ZWQ6Ilx1MDBkZWV0dGEgZmFsbCBoZWZ1ciB2ZXJpXHUwMGYwIFx1MDBmYXJlbHQgb2cgdmVyXHUwMGYwdXIgZmphcmxcdTAwZTZndCBcdTAwZWQgMy4wLiBOb3RhXHUwMGYwdSAke25ld01ldGhvZH0gXHUwMGVkIHN0YVx1MDBmMGluLiJ9KTtPcGVuTGF5ZXJzLlByb3RvY29sPU9wZW5MYXllcnMuQ2xhc3Moe2Zvcm1hdDpudWxsLG9wdGlvbnM6bnVsbCxhdXRvRGVzdHJveTohMCxkZWZhdWx0RmlsdGVyOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXthPWF8fHt9O09wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcyxhKTt0aGlzLm9wdGlvbnM9YX0sbWVyZ2VXaXRoRGVmYXVsdEZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gYSYmdGhpcy5kZWZhdWx0RmlsdGVyP25ldyBPcGVuTGF5ZXJzLkZpbHRlci5Mb2dpY2FsKHt0eXBlOk9wZW5MYXllcnMuRmlsdGVyLkxvZ2ljYWwuQU5ELGZpbHRlcnM6W3RoaXMuZGVmYXVsdEZpbHRlcixhXX0pOmF8fHRoaXMuZGVmYXVsdEZpbHRlcnx8dm9pZCAwfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5mb3JtYXQ9dGhpcy5vcHRpb25zPW51bGx9LHJlYWQ6ZnVuY3Rpb24oYSl7YT1hfHx7fTthLmZpbHRlcj10aGlzLm1lcmdlV2l0aERlZmF1bHRGaWx0ZXIoYS5maWx0ZXIpfSxjcmVhdGU6ZnVuY3Rpb24oKXt9LAp1cGRhdGU6ZnVuY3Rpb24oKXt9LCJkZWxldGUiOmZ1bmN0aW9uKCl7fSxjb21taXQ6ZnVuY3Rpb24oKXt9LGFib3J0OmZ1bmN0aW9uKCl7fSxjcmVhdGVDYWxsYmFjazpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZChmdW5jdGlvbigpe2EuYXBwbHkodGhpcyxbYixjXSl9LHRoaXMpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlByb3RvY29sIn0pO09wZW5MYXllcnMuUHJvdG9jb2wuUmVzcG9uc2U9T3BlbkxheWVycy5DbGFzcyh7Y29kZTpudWxsLHJlcXVlc3RUeXBlOm51bGwsbGFzdDohMCxmZWF0dXJlczpudWxsLGRhdGE6bnVsbCxyZXFGZWF0dXJlczpudWxsLHByaXY6bnVsbCxlcnJvcjpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5VdGlsLmV4dGVuZCh0aGlzLGEpfSxzdWNjZXNzOmZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5jb2RlfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlIn0pOwpPcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlLlNVQ0NFU1M9MTtPcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlLkZBSUxVUkU9MDtPcGVuTGF5ZXJzLkZvcm1hdC5KU09OPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQse2luZGVudDoiICAgICIsc3BhY2U6IiAiLG5ld2xpbmU6IlxuIixsZXZlbDowLHByZXR0eTohMSxuYXRpdmVKU09OOmZ1bmN0aW9uKCl7cmV0dXJuISghd2luZG93LkpTT058fCEoImZ1bmN0aW9uIj09dHlwZW9mIEpTT04ucGFyc2UmJiJmdW5jdGlvbiI9PXR5cGVvZiBKU09OLnN0cmluZ2lmeSkpfSgpLHJlYWQ6ZnVuY3Rpb24oYSxiKXt2YXIgYztpZih0aGlzLm5hdGl2ZUpTT04pYz1KU09OLnBhcnNlKGEsYik7ZWxzZSB0cnl7aWYoL15bXF0sOnt9XHNdKiQvLnRlc3QoYS5yZXBsYWNlKC9cXFsiXFxcL2JmbnJ0dV0vZywiQCIpLnJlcGxhY2UoLyJbXiJcXFxuXHJdKiJ8dHJ1ZXxmYWxzZXxudWxsfC0/XGQrKD86XC5cZCopPyg/OltlRV1bK1wtXT9cZCspPy9nLCJdIikucmVwbGFjZSgvKD86Xnw6fCwpKD86XHMqXFspKy9nLCIiKSkmJihjPWV2YWwoIigiK2ErIikiKSwiZnVuY3Rpb24iPT09CnR5cGVvZiBiKSl7dmFyIGQ9ZnVuY3Rpb24oYSxjKXtpZihjJiYib2JqZWN0Ij09PXR5cGVvZiBjKWZvcih2YXIgZSBpbiBjKWMuaGFzT3duUHJvcGVydHkoZSkmJihjW2VdPWQoZSxjW2VdKSk7cmV0dXJuIGIoYSxjKX07Yz1kKCIiLGMpfX1jYXRjaChlKXt9dGhpcy5rZWVwRGF0YSYmKHRoaXMuZGF0YT1jKTtyZXR1cm4gY30sd3JpdGU6ZnVuY3Rpb24oYSxiKXt0aGlzLnByZXR0eT0hIWI7dmFyIGM9bnVsbCxkPXR5cGVvZiBhO2lmKHRoaXMuc2VyaWFsaXplW2RdKXRyeXtjPSF0aGlzLnByZXR0eSYmdGhpcy5uYXRpdmVKU09OP0pTT04uc3RyaW5naWZ5KGEpOnRoaXMuc2VyaWFsaXplW2RdLmFwcGx5KHRoaXMsW2FdKX1jYXRjaChlKXtPcGVuTGF5ZXJzLkNvbnNvbGUuZXJyb3IoIlRyb3VibGUgc2VyaWFsaXppbmc6ICIrZSl9cmV0dXJuIGN9LHdyaXRlSW5kZW50OmZ1bmN0aW9uKCl7dmFyIGE9W107aWYodGhpcy5wcmV0dHkpZm9yKHZhciBiPTA7Yjx0aGlzLmxldmVsOysrYilhLnB1c2godGhpcy5pbmRlbnQpOwpyZXR1cm4gYS5qb2luKCIiKX0sd3JpdGVOZXdsaW5lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldHR5P3RoaXMubmV3bGluZToiIn0sd3JpdGVTcGFjZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXR0eT90aGlzLnNwYWNlOiIifSxzZXJpYWxpemU6e29iamVjdDpmdW5jdGlvbihhKXtpZihudWxsPT1hKXJldHVybiJudWxsIjtpZihhLmNvbnN0cnVjdG9yPT1EYXRlKXJldHVybiB0aGlzLnNlcmlhbGl6ZS5kYXRlLmFwcGx5KHRoaXMsW2FdKTtpZihhLmNvbnN0cnVjdG9yPT1BcnJheSlyZXR1cm4gdGhpcy5zZXJpYWxpemUuYXJyYXkuYXBwbHkodGhpcyxbYV0pO3ZhciBiPVsieyJdO3RoaXMubGV2ZWwrPTE7dmFyIGMsZCxlLGY9ITE7Zm9yKGMgaW4gYSlhLmhhc093blByb3BlcnR5KGMpJiYoZD1PcGVuTGF5ZXJzLkZvcm1hdC5KU09OLnByb3RvdHlwZS53cml0ZS5hcHBseSh0aGlzLFtjLHRoaXMucHJldHR5XSksZT1PcGVuTGF5ZXJzLkZvcm1hdC5KU09OLnByb3RvdHlwZS53cml0ZS5hcHBseSh0aGlzLApbYVtjXSx0aGlzLnByZXR0eV0pLG51bGwhPWQmJm51bGwhPWUmJihmJiZiLnB1c2goIiwiKSxiLnB1c2godGhpcy53cml0ZU5ld2xpbmUoKSx0aGlzLndyaXRlSW5kZW50KCksZCwiOiIsdGhpcy53cml0ZVNwYWNlKCksZSksZj0hMCkpO3RoaXMubGV2ZWwtPTE7Yi5wdXNoKHRoaXMud3JpdGVOZXdsaW5lKCksdGhpcy53cml0ZUluZGVudCgpLCJ9Iik7cmV0dXJuIGIuam9pbigiIil9LGFycmF5OmZ1bmN0aW9uKGEpe3ZhciBiLGM9WyJbIl07dGhpcy5sZXZlbCs9MTtmb3IodmFyIGQ9MCxlPWEubGVuZ3RoO2Q8ZTsrK2QpYj1PcGVuTGF5ZXJzLkZvcm1hdC5KU09OLnByb3RvdHlwZS53cml0ZS5hcHBseSh0aGlzLFthW2RdLHRoaXMucHJldHR5XSksbnVsbCE9YiYmKDA8ZCYmYy5wdXNoKCIsIiksYy5wdXNoKHRoaXMud3JpdGVOZXdsaW5lKCksdGhpcy53cml0ZUluZGVudCgpLGIpKTt0aGlzLmxldmVsLT0xO2MucHVzaCh0aGlzLndyaXRlTmV3bGluZSgpLHRoaXMud3JpdGVJbmRlbnQoKSwKIl0iKTtyZXR1cm4gYy5qb2luKCIiKX0sc3RyaW5nOmZ1bmN0aW9uKGEpe3ZhciBiPXsiXGIiOiJcXGIiLCJcdCI6IlxcdCIsIlxuIjoiXFxuIiwiXGYiOiJcXGYiLCJcciI6IlxcciIsJyInOidcXCInLCJcXCI6IlxcXFwifTtyZXR1cm4vWyJcXFx4MDAtXHgxZl0vLnRlc3QoYSk/JyInK2EucmVwbGFjZSgvKFtceDAwLVx4MWZcXCJdKS9nLGZ1bmN0aW9uKGEsZCl7dmFyIGU9YltkXTtpZihlKXJldHVybiBlO2U9ZC5jaGFyQ29kZUF0KCk7cmV0dXJuIlxcdTAwIitNYXRoLmZsb29yKGUvMTYpLnRvU3RyaW5nKDE2KSsoZSUxNikudG9TdHJpbmcoMTYpfSkrJyInOiciJythKyciJ30sbnVtYmVyOmZ1bmN0aW9uKGEpe3JldHVybiBpc0Zpbml0ZShhKT9TdHJpbmcoYSk6Im51bGwifSwiYm9vbGVhbiI6ZnVuY3Rpb24oYSl7cmV0dXJuIFN0cmluZyhhKX0sZGF0ZTpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiAxMD5hPyIwIithOmF9cmV0dXJuJyInK2EuZ2V0RnVsbFllYXIoKSsKIi0iK2IoYS5nZXRNb250aCgpKzEpKyItIitiKGEuZ2V0RGF0ZSgpKSsiVCIrYihhLmdldEhvdXJzKCkpKyI6IitiKGEuZ2V0TWludXRlcygpKSsiOiIrYihhLmdldFNlY29uZHMoKSkrJyInfX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuSlNPTiJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5HZW9KU09OPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuSlNPTix7aWdub3JlRXh0cmFEaW1zOiExLHJlYWQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBiPWI/YjoiRmVhdHVyZUNvbGxlY3Rpb24iLGQ9bnVsbCxlPW51bGw7aWYoZT0ic3RyaW5nIj09dHlwZW9mIGE/T3BlbkxheWVycy5Gb3JtYXQuSlNPTi5wcm90b3R5cGUucmVhZC5hcHBseSh0aGlzLFthLGNdKTphKWlmKCJzdHJpbmciIT10eXBlb2YgZS50eXBlKU9wZW5MYXllcnMuQ29uc29sZS5lcnJvcigiQmFkIEdlb0pTT04gLSBubyB0eXBlOiAiK2EpO2Vsc2V7aWYodGhpcy5pc1ZhbGlkVHlwZShlLGIpKXN3aXRjaChiKXtjYXNlICJHZW9tZXRyeSI6dHJ5e2Q9dGhpcy5wYXJzZUdlb21ldHJ5KGUpfWNhdGNoKGYpe09wZW5MYXllcnMuQ29uc29sZS5lcnJvcihmKX1icmVhaztjYXNlICJGZWF0dXJlIjp0cnl7ZD10aGlzLnBhcnNlRmVhdHVyZShlKSxkLnR5cGU9IkZlYXR1cmUifWNhdGNoKGcpe09wZW5MYXllcnMuQ29uc29sZS5lcnJvcihnKX1icmVhazsKY2FzZSAiRmVhdHVyZUNvbGxlY3Rpb24iOnN3aXRjaChkPVtdLGUudHlwZSl7Y2FzZSAiRmVhdHVyZSI6dHJ5e2QucHVzaCh0aGlzLnBhcnNlRmVhdHVyZShlKSl9Y2F0Y2goaCl7ZD1udWxsLE9wZW5MYXllcnMuQ29uc29sZS5lcnJvcihoKX1icmVhaztjYXNlICJGZWF0dXJlQ29sbGVjdGlvbiI6YT0wO2ZvcihiPWUuZmVhdHVyZXMubGVuZ3RoO2E8YjsrK2EpdHJ5e2QucHVzaCh0aGlzLnBhcnNlRmVhdHVyZShlLmZlYXR1cmVzW2FdKSl9Y2F0Y2goaSl7ZD1udWxsLE9wZW5MYXllcnMuQ29uc29sZS5lcnJvcihpKX1icmVhaztkZWZhdWx0OnRyeXt2YXIgaj10aGlzLnBhcnNlR2VvbWV0cnkoZSk7ZC5wdXNoKG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKGopKX1jYXRjaChrKXtkPW51bGwsT3BlbkxheWVycy5Db25zb2xlLmVycm9yKGspfX19fWVsc2UgT3BlbkxheWVycy5Db25zb2xlLmVycm9yKCJCYWQgSlNPTjogIithKTtyZXR1cm4gZH0saXNWYWxpZFR5cGU6ZnVuY3Rpb24oYSwKYil7dmFyIGM9ITE7c3dpdGNoKGIpe2Nhc2UgIkdlb21ldHJ5IjotMT09T3BlbkxheWVycy5VdGlsLmluZGV4T2YoIlBvaW50IE11bHRpUG9pbnQgTGluZVN0cmluZyBNdWx0aUxpbmVTdHJpbmcgUG9seWdvbiBNdWx0aVBvbHlnb24gQm94IEdlb21ldHJ5Q29sbGVjdGlvbiIuc3BsaXQoIiAiKSxhLnR5cGUpP09wZW5MYXllcnMuQ29uc29sZS5lcnJvcigiVW5zdXBwb3J0ZWQgZ2VvbWV0cnkgdHlwZTogIithLnR5cGUpOmM9ITA7YnJlYWs7Y2FzZSAiRmVhdHVyZUNvbGxlY3Rpb24iOmM9ITA7YnJlYWs7ZGVmYXVsdDphLnR5cGU9PWI/Yz0hMDpPcGVuTGF5ZXJzLkNvbnNvbGUuZXJyb3IoIkNhbm5vdCBjb252ZXJ0IHR5cGVzIGZyb20gIithLnR5cGUrIiB0byAiK2IpfXJldHVybiBjfSxwYXJzZUZlYXR1cmU6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkO2M9YS5wcm9wZXJ0aWVzP2EucHJvcGVydGllczp7fTtkPWEuZ2VvbWV0cnkmJmEuZ2VvbWV0cnkuYmJveHx8YS5iYm94O3RyeXtiPXRoaXMucGFyc2VHZW9tZXRyeShhLmdlb21ldHJ5KX1jYXRjaChlKXt0aHJvdyBlOwp9Yj1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihiLGMpO2QmJihiLmJvdW5kcz1PcGVuTGF5ZXJzLkJvdW5kcy5mcm9tQXJyYXkoZCkpO2EuaWQmJihiLmZpZD1hLmlkKTtyZXR1cm4gYn0scGFyc2VHZW9tZXRyeTpmdW5jdGlvbihhKXtpZihudWxsPT1hKXJldHVybiBudWxsO3ZhciBiLGM9ITE7aWYoIkdlb21ldHJ5Q29sbGVjdGlvbiI9PWEudHlwZSl7aWYoIU9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEuZ2VvbWV0cmllcykpdGhyb3ciR2VvbWV0cnlDb2xsZWN0aW9uIG11c3QgaGF2ZSBnZW9tZXRyaWVzIGFycmF5OiAiK2E7Yj1hLmdlb21ldHJpZXMubGVuZ3RoO2Zvcih2YXIgYz1BcnJheShiKSxkPTA7ZDxiOysrZCljW2RdPXRoaXMucGFyc2VHZW9tZXRyeS5hcHBseSh0aGlzLFthLmdlb21ldHJpZXNbZF1dKTtiPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LkNvbGxlY3Rpb24oYyk7Yz0hMH1lbHNle2lmKCFPcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShhLmNvb3JkaW5hdGVzKSl0aHJvdyJHZW9tZXRyeSBtdXN0IGhhdmUgY29vcmRpbmF0ZXMgYXJyYXk6ICIrCmE7aWYoIXRoaXMucGFyc2VDb29yZHNbYS50eXBlLnRvTG93ZXJDYXNlKCldKXRocm93IlVuc3VwcG9ydGVkIGdlb21ldHJ5IHR5cGU6ICIrYS50eXBlO3RyeXtiPXRoaXMucGFyc2VDb29yZHNbYS50eXBlLnRvTG93ZXJDYXNlKCldLmFwcGx5KHRoaXMsW2EuY29vcmRpbmF0ZXNdKX1jYXRjaChlKXt0aHJvdyBlO319dGhpcy5pbnRlcm5hbFByb2plY3Rpb24mJih0aGlzLmV4dGVybmFsUHJvamVjdGlvbiYmIWMpJiZiLnRyYW5zZm9ybSh0aGlzLmV4dGVybmFsUHJvamVjdGlvbix0aGlzLmludGVybmFsUHJvamVjdGlvbik7cmV0dXJuIGJ9LHBhcnNlQ29vcmRzOntwb2ludDpmdW5jdGlvbihhKXtpZighMT09dGhpcy5pZ25vcmVFeHRyYURpbXMmJjIhPWEubGVuZ3RoKXRocm93Ik9ubHkgMkQgcG9pbnRzIGFyZSBzdXBwb3J0ZWQ6ICIrYTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoYVswXSxhWzFdKX0sbXVsdGlwb2ludDpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sCmM9bnVsbCxkPTAsZT1hLmxlbmd0aDtkPGU7KytkKXt0cnl7Yz10aGlzLnBhcnNlQ29vcmRzLnBvaW50LmFwcGx5KHRoaXMsW2FbZF1dKX1jYXRjaChmKXt0aHJvdyBmO31iLnB1c2goYyl9cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpUG9pbnQoYil9LGxpbmVzdHJpbmc6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9bnVsbCxkPTAsZT1hLmxlbmd0aDtkPGU7KytkKXt0cnl7Yz10aGlzLnBhcnNlQ29vcmRzLnBvaW50LmFwcGx5KHRoaXMsW2FbZF1dKX1jYXRjaChmKXt0aHJvdyBmO31iLnB1c2goYyl9cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmcoYil9LG11bHRpbGluZXN0cmluZzpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz1udWxsLGQ9MCxlPWEubGVuZ3RoO2Q8ZTsrK2Qpe3RyeXtjPXRoaXMucGFyc2VDb29yZHMubGluZXN0cmluZy5hcHBseSh0aGlzLFthW2RdXSl9Y2F0Y2goZil7dGhyb3cgZjt9Yi5wdXNoKGMpfXJldHVybiBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aUxpbmVTdHJpbmcoYil9LApwb2x5Z29uOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjLGQsZT0wLGY9YS5sZW5ndGg7ZTxmOysrZSl7dHJ5e2Q9dGhpcy5wYXJzZUNvb3Jkcy5saW5lc3RyaW5nLmFwcGx5KHRoaXMsW2FbZV1dKX1jYXRjaChnKXt0aHJvdyBnO31jPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVhclJpbmcoZC5jb21wb25lbnRzKTtiLnB1c2goYyl9cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24oYil9LG11bHRpcG9seWdvbjpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz1udWxsLGQ9MCxlPWEubGVuZ3RoO2Q8ZTsrK2Qpe3RyeXtjPXRoaXMucGFyc2VDb29yZHMucG9seWdvbi5hcHBseSh0aGlzLFthW2RdXSl9Y2F0Y2goZil7dGhyb3cgZjt9Yi5wdXNoKGMpfXJldHVybiBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aVBvbHlnb24oYil9LGJveDpmdW5jdGlvbihhKXtpZigyIT1hLmxlbmd0aCl0aHJvdyJHZW9KU09OIGJveCBjb29yZGluYXRlcyBtdXN0IGhhdmUgMiBlbGVtZW50cyI7CnJldHVybiBuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uKFtuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lYXJSaW5nKFtuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChhWzBdWzBdLGFbMF1bMV0pLG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGFbMV1bMF0sYVswXVsxXSksbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoYVsxXVswXSxhWzFdWzFdKSxuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChhWzBdWzBdLGFbMV1bMV0pLG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGFbMF1bMF0sYVswXVsxXSldKV0pfX0sd3JpdGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz17dHlwZTpudWxsfTtpZihPcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShhKSl7Yy50eXBlPSJGZWF0dXJlQ29sbGVjdGlvbiI7dmFyIGQ9YS5sZW5ndGg7Yy5mZWF0dXJlcz1BcnJheShkKTtmb3IodmFyIGU9MDtlPGQ7KytlKXt2YXIgZj1hW2VdO2lmKCFmIGluc3RhbmNlb2YgT3BlbkxheWVycy5GZWF0dXJlLlZlY3Rvcil0aHJvdyJGZWF0dXJlQ29sbGVjdGlvbiBvbmx5IHN1cHBvcnRzIGNvbGxlY3Rpb25zIG9mIGZlYXR1cmVzOiAiKwpmO2MuZmVhdHVyZXNbZV09dGhpcy5leHRyYWN0LmZlYXR1cmUuYXBwbHkodGhpcyxbZl0pfX1lbHNlIDA9PWEuQ0xBU1NfTkFNRS5pbmRleE9mKCJPcGVuTGF5ZXJzLkdlb21ldHJ5Iik/Yz10aGlzLmV4dHJhY3QuZ2VvbWV0cnkuYXBwbHkodGhpcyxbYV0pOmEgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yJiYoYz10aGlzLmV4dHJhY3QuZmVhdHVyZS5hcHBseSh0aGlzLFthXSksYS5sYXllciYmYS5sYXllci5wcm9qZWN0aW9uJiYoYy5jcnM9dGhpcy5jcmVhdGVDUlNPYmplY3QoYSkpKTtyZXR1cm4gT3BlbkxheWVycy5Gb3JtYXQuSlNPTi5wcm90b3R5cGUud3JpdGUuYXBwbHkodGhpcyxbYyxiXSl9LGNyZWF0ZUNSU09iamVjdDpmdW5jdGlvbihhKXt2YXIgYT1hLmxheWVyLnByb2plY3Rpb24udG9TdHJpbmcoKSxiPXt9O2EubWF0Y2goL2Vwc2c6L2kpJiYoYT1wYXJzZUludChhLnN1YnN0cmluZyhhLmluZGV4T2YoIjoiKSsxKSksYj00MzI2PT1hP3t0eXBlOiJuYW1lIiwKcHJvcGVydGllczp7bmFtZToidXJuOm9nYzpkZWY6Y3JzOk9HQzoxLjM6Q1JTODQifX06e3R5cGU6Im5hbWUiLHByb3BlcnRpZXM6e25hbWU6IkVQU0c6IithfX0pO3JldHVybiBifSxleHRyYWN0OntmZWF0dXJlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZXh0cmFjdC5nZW9tZXRyeS5hcHBseSh0aGlzLFthLmdlb21ldHJ5XSksYj17dHlwZToiRmVhdHVyZSIscHJvcGVydGllczphLmF0dHJpYnV0ZXMsZ2VvbWV0cnk6Yn07bnVsbCE9YS5maWQmJihiLmlkPWEuZmlkKTtyZXR1cm4gYn0sZ2VvbWV0cnk6ZnVuY3Rpb24oYSl7aWYobnVsbD09YSlyZXR1cm4gbnVsbDt0aGlzLmludGVybmFsUHJvamVjdGlvbiYmdGhpcy5leHRlcm5hbFByb2plY3Rpb24mJihhPWEuY2xvbmUoKSxhLnRyYW5zZm9ybSh0aGlzLmludGVybmFsUHJvamVjdGlvbix0aGlzLmV4dGVybmFsUHJvamVjdGlvbikpO3ZhciBiPWEuQ0xBU1NfTkFNRS5zcGxpdCgiLiIpWzJdLGE9dGhpcy5leHRyYWN0W2IudG9Mb3dlckNhc2UoKV0uYXBwbHkodGhpcywKW2FdKTtyZXR1cm4iQ29sbGVjdGlvbiI9PWI/e3R5cGU6Ikdlb21ldHJ5Q29sbGVjdGlvbiIsZ2VvbWV0cmllczphfTp7dHlwZTpiLGNvb3JkaW5hdGVzOmF9fSxwb2ludDpmdW5jdGlvbihhKXtyZXR1cm5bYS54LGEueV19LG11bHRpcG9pbnQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MCxkPWEuY29tcG9uZW50cy5sZW5ndGg7YzxkOysrYyliLnB1c2godGhpcy5leHRyYWN0LnBvaW50LmFwcGx5KHRoaXMsW2EuY29tcG9uZW50c1tjXV0pKTtyZXR1cm4gYn0sbGluZXN0cmluZzpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz0wLGQ9YS5jb21wb25lbnRzLmxlbmd0aDtjPGQ7KytjKWIucHVzaCh0aGlzLmV4dHJhY3QucG9pbnQuYXBwbHkodGhpcyxbYS5jb21wb25lbnRzW2NdXSkpO3JldHVybiBifSxtdWx0aWxpbmVzdHJpbmc6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MCxkPWEuY29tcG9uZW50cy5sZW5ndGg7YzxkOysrYyliLnB1c2godGhpcy5leHRyYWN0LmxpbmVzdHJpbmcuYXBwbHkodGhpcywKW2EuY29tcG9uZW50c1tjXV0pKTtyZXR1cm4gYn0scG9seWdvbjpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz0wLGQ9YS5jb21wb25lbnRzLmxlbmd0aDtjPGQ7KytjKWIucHVzaCh0aGlzLmV4dHJhY3QubGluZXN0cmluZy5hcHBseSh0aGlzLFthLmNvbXBvbmVudHNbY11dKSk7cmV0dXJuIGJ9LG11bHRpcG9seWdvbjpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz0wLGQ9YS5jb21wb25lbnRzLmxlbmd0aDtjPGQ7KytjKWIucHVzaCh0aGlzLmV4dHJhY3QucG9seWdvbi5hcHBseSh0aGlzLFthLmNvbXBvbmVudHNbY11dKSk7cmV0dXJuIGJ9LGNvbGxlY3Rpb246ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEuY29tcG9uZW50cy5sZW5ndGgsYz1BcnJheShiKSxkPTA7ZDxiOysrZCljW2RdPXRoaXMuZXh0cmFjdC5nZW9tZXRyeS5hcHBseSh0aGlzLFthLmNvbXBvbmVudHNbZF1dKTtyZXR1cm4gY319LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0Lkdlb0pTT04ifSk7T3BlbkxheWVycy5Qcm90b2NvbC5TY3JpcHQ9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlByb3RvY29sLHt1cmw6bnVsbCxwYXJhbXM6bnVsbCxjYWxsYmFjazpudWxsLGNhbGxiYWNrVGVtcGxhdGU6Ik9wZW5MYXllcnMuUHJvdG9jb2wuU2NyaXB0LnJlZ2lzdHJ5LiR7aWR9IixjYWxsYmFja0tleToiY2FsbGJhY2siLGNhbGxiYWNrUHJlZml4OiIiLHNjb3BlOm51bGwsZm9ybWF0Om51bGwscGVuZGluZ1JlcXVlc3RzOm51bGwsc3JzSW5CQk9YOiExLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7YT1hfHx7fTt0aGlzLnBhcmFtcz17fTt0aGlzLnBlbmRpbmdSZXF1ZXN0cz17fTtPcGVuTGF5ZXJzLlByb3RvY29sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmZvcm1hdHx8KHRoaXMuZm9ybWF0PW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5HZW9KU09OKTtpZighdGhpcy5maWx0ZXJUb1BhcmFtcyYmT3BlbkxheWVycy5Gb3JtYXQuUXVlcnlTdHJpbmdGaWx0ZXIpe3ZhciBiPQpuZXcgT3BlbkxheWVycy5Gb3JtYXQuUXVlcnlTdHJpbmdGaWx0ZXIoe3Nyc0luQkJPWDp0aGlzLnNyc0luQkJPWH0pO3RoaXMuZmlsdGVyVG9QYXJhbXM9ZnVuY3Rpb24oYSxkKXtyZXR1cm4gYi53cml0ZShhLGQpfX19LHJlYWQ6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Qcm90b2NvbC5wcm90b3R5cGUucmVhZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YT1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLHRoaXMub3B0aW9ucyk7YS5wYXJhbXM9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYS5wYXJhbXMsdGhpcy5vcHRpb25zLnBhcmFtcyk7YS5maWx0ZXImJnRoaXMuZmlsdGVyVG9QYXJhbXMmJihhLnBhcmFtcz10aGlzLmZpbHRlclRvUGFyYW1zKGEuZmlsdGVyLGEucGFyYW1zKSk7dmFyIGI9bmV3IE9wZW5MYXllcnMuUHJvdG9jb2wuUmVzcG9uc2Uoe3JlcXVlc3RUeXBlOiJyZWFkIn0pLGM9dGhpcy5jcmVhdGVSZXF1ZXN0KGEudXJsLGEucGFyYW1zLE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZChmdW5jdGlvbihjKXtiLmRhdGE9CmM7dGhpcy5oYW5kbGVSZWFkKGIsYSl9LHRoaXMpKTtiLnByaXY9YztyZXR1cm4gYn0sY3JlYXRlUmVxdWVzdDpmdW5jdGlvbihhLGIsYyl7dmFyIGM9T3BlbkxheWVycy5Qcm90b2NvbC5TY3JpcHQucmVnaXN0ZXIoYyksZD1PcGVuTGF5ZXJzLlN0cmluZy5mb3JtYXQodGhpcy5jYWxsYmFja1RlbXBsYXRlLHtpZDpjfSksYj1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LGIpO2JbdGhpcy5jYWxsYmFja0tleV09dGhpcy5jYWxsYmFja1ByZWZpeCtkO2E9T3BlbkxheWVycy5VdGlsLnVybEFwcGVuZChhLE9wZW5MYXllcnMuVXRpbC5nZXRQYXJhbWV0ZXJTdHJpbmcoYikpO2I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7Yi50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiO2Iuc3JjPWE7Yi5pZD0iT3BlbkxheWVyc19Qcm90b2NvbF9TY3JpcHRfIitjO3RoaXMucGVuZGluZ1JlcXVlc3RzW2IuaWRdPWI7ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXS5hcHBlbmRDaGlsZChiKTsKcmV0dXJuIGJ9LGRlc3Ryb3lSZXF1ZXN0OmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuUHJvdG9jb2wuU2NyaXB0LnVucmVnaXN0ZXIoYS5pZC5zcGxpdCgiXyIpLnBvcCgpKTtkZWxldGUgdGhpcy5wZW5kaW5nUmVxdWVzdHNbYS5pZF07YS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSl9LGhhbmRsZVJlYWQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmhhbmRsZVJlc3BvbnNlKGEsYil9LGhhbmRsZVJlc3BvbnNlOmZ1bmN0aW9uKGEsYil7Yi5jYWxsYmFjayYmKGEuZGF0YT8oYS5mZWF0dXJlcz10aGlzLnBhcnNlRmVhdHVyZXMoYS5kYXRhKSxhLmNvZGU9T3BlbkxheWVycy5Qcm90b2NvbC5SZXNwb25zZS5TVUNDRVNTKTphLmNvZGU9T3BlbkxheWVycy5Qcm90b2NvbC5SZXNwb25zZS5GQUlMVVJFLHRoaXMuZGVzdHJveVJlcXVlc3QoYS5wcml2KSxiLmNhbGxiYWNrLmNhbGwoYi5zY29wZSxhKSl9LHBhcnNlRmVhdHVyZXM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZm9ybWF0LnJlYWQoYSl9LAphYm9ydDpmdW5jdGlvbihhKXtpZihhKXRoaXMuZGVzdHJveVJlcXVlc3QoYS5wcml2KTtlbHNlIGZvcih2YXIgYiBpbiB0aGlzLnBlbmRpbmdSZXF1ZXN0cyl0aGlzLmRlc3Ryb3lSZXF1ZXN0KHRoaXMucGVuZGluZ1JlcXVlc3RzW2JdKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuYWJvcnQoKTtkZWxldGUgdGhpcy5wYXJhbXM7ZGVsZXRlIHRoaXMuZm9ybWF0O09wZW5MYXllcnMuUHJvdG9jb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuUHJvdG9jb2wuU2NyaXB0In0pOyhmdW5jdGlvbigpe3ZhciBhPU9wZW5MYXllcnMuUHJvdG9jb2wuU2NyaXB0LGI9MDthLnJlZ2lzdHJ5PXt9O2EucmVnaXN0ZXI9ZnVuY3Rpb24oYyl7dmFyIGQ9ImMiKyArK2I7YS5yZWdpc3RyeVtkXT1mdW5jdGlvbigpe2MuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gZH07YS51bnJlZ2lzdGVyPWZ1bmN0aW9uKGIpe2RlbGV0ZSBhLnJlZ2lzdHJ5W2JdfX0pKCk7T3BlbkxheWVycy5Gb3JtYXQuRW5jb2RlZFBvbHlsaW5lPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQse2dlb21ldHJ5VHlwZToibGluZXN0cmluZyIsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkZvcm1hdC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSl9LHJlYWQ6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoImxpbmVzdHJpbmciPT10aGlzLmdlb21ldHJ5VHlwZSliPU9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZztlbHNlIGlmKCJsaW5lYXJyaW5nIj09dGhpcy5nZW9tZXRyeVR5cGUpYj1PcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVhclJpbmc7ZWxzZSBpZigibXVsdGlwb2ludCI9PXRoaXMuZ2VvbWV0cnlUeXBlKWI9T3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aVBvaW50O2Vsc2UgaWYoInBvaW50IiE9dGhpcy5nZW9tZXRyeVR5cGUmJiJwb2x5Z29uIiE9dGhpcy5nZW9tZXRyeVR5cGUpcmV0dXJuIG51bGw7Zm9yKHZhciBhPXRoaXMuZGVjb2RlRGVsdGFzKGEsCjIpLGM9YS5sZW5ndGgsZD1bXSxlPTA7ZSsxPGM7KXt2YXIgZj1hW2UrK10sZz1hW2UrK107ZC5wdXNoKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGcsZikpfXJldHVybiJwb2ludCI9PXRoaXMuZ2VvbWV0cnlUeXBlP25ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKGRbMF0pOiJwb2x5Z29uIj09dGhpcy5nZW9tZXRyeVR5cGU/bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbihbbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyhkKV0pKTpuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihuZXcgYihkKSl9LGRlY29kZTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBhPXRoaXMuZGVjb2RlRGVsdGFzKGEsYixjfHwxRTUpLGM9YS5sZW5ndGgsZD1bXSxlPTA7ZSsoYi0xKTxjOyl7Zm9yKHZhciBmPVtdLGc9MDtnPGI7KytnKWYucHVzaChhW2UrK10pO2QucHVzaChmKX1yZXR1cm4gZH0sd3JpdGU6ZnVuY3Rpb24oYSl7dmFyIGE9CihhLmNvbnN0cnVjdG9yPT1BcnJheT9hWzBdOmEpLmdlb21ldHJ5LGI9YS5DTEFTU19OQU1FLnNwbGl0KCIuIilbMl0udG9Mb3dlckNhc2UoKTtpZigicG9pbnQiPT1iKWE9QXJyYXkoYSk7ZWxzZSBpZigibGluZXN0cmluZyI9PWJ8fCJsaW5lYXJyaW5nIj09Ynx8Im11bHRpcG9pbnQiPT1iKWE9YS5jb21wb25lbnRzO2Vsc2UgaWYoInBvbHlnb24iPT1iKWE9YS5jb21wb25lbnRzWzBdLmNvbXBvbmVudHM7ZWxzZSByZXR1cm4gbnVsbDtmb3IodmFyIGI9W10sYz1hLmxlbmd0aCxkPTA7ZDxjOysrZCl7dmFyIGU9YVtkXTtiLnB1c2goZS55KTtiLnB1c2goZS54KX1yZXR1cm4gdGhpcy5lbmNvZGVEZWx0YXMoYiwyKX0sZW5jb2RlOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGM9Y3x8MUU1LGQ9W10sZT1hLmxlbmd0aCxmPTA7ZjxlOysrZilmb3IodmFyIGc9YVtmXSxoPTA7aDxiOysraClkLnB1c2goZ1toXSk7cmV0dXJuIHRoaXMuZW5jb2RlRGVsdGFzKGQsYixjKX0sZW5jb2RlRGVsdGFzOmZ1bmN0aW9uKGEsCmIsYyl7dmFyIGQsZT1BcnJheShiKTtmb3IoZD0wO2Q8YjsrK2QpZVtkXT0wO2Zvcih2YXIgZj1hLmxlbmd0aCxnPTA7ZzxmOylmb3IoZD0wO2Q8YjsrK2QsKytnKXt2YXIgaD1hW2ddLGk9aC1lW2RdO2VbZF09aDthW2ddPWl9cmV0dXJuIHRoaXMuZW5jb2RlRmxvYXRzKGEsY3x8MUU1KX0sZGVjb2RlRGVsdGFzOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPUFycmF5KGIpO2ZvcihkPTA7ZDxiOysrZCllW2RdPTA7Zm9yKHZhciBhPXRoaXMuZGVjb2RlRmxvYXRzKGEsY3x8MUU1KSxjPWEubGVuZ3RoLGY9MDtmPGM7KWZvcihkPTA7ZDxiOysrZCwrK2YpZVtkXSs9YVtmXSxhW2ZdPWVbZF07cmV0dXJuIGF9LGVuY29kZUZsb2F0czpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1ifHwxRTUsZD1hLmxlbmd0aCxlPTA7ZTxkOysrZSlhW2VdPU1hdGgucm91bmQoYVtlXSpjKTtyZXR1cm4gdGhpcy5lbmNvZGVTaWduZWRJbnRlZ2VycyhhKX0sZGVjb2RlRmxvYXRzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPQpifHwxRTUsZD10aGlzLmRlY29kZVNpZ25lZEludGVnZXJzKGEpLGU9ZC5sZW5ndGgsZj0wO2Y8ZTsrK2YpZFtmXS89YztyZXR1cm4gZH0sZW5jb2RlU2lnbmVkSW50ZWdlcnM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEubGVuZ3RoLGM9MDtjPGI7KytjKXt2YXIgZD1hW2NdLGU9ZDw8MTswPmQmJihlPX5lKTthW2NdPWV9cmV0dXJuIHRoaXMuZW5jb2RlVW5zaWduZWRJbnRlZ2VycyhhKX0sZGVjb2RlU2lnbmVkSW50ZWdlcnM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBhPXRoaXMuZGVjb2RlVW5zaWduZWRJbnRlZ2VycyhhKSxiPWEubGVuZ3RoLGM9MDtjPGI7KytjKXt2YXIgZD1hW2NdO2FbY109ZCYxP34oZD4+MSk6ZD4+MX1yZXR1cm4gYX0sZW5jb2RlVW5zaWduZWRJbnRlZ2VyczpmdW5jdGlvbihhKXtmb3IodmFyIGI9IiIsYz1hLmxlbmd0aCxkPTA7ZDxjOysrZCliKz10aGlzLmVuY29kZVVuc2lnbmVkSW50ZWdlcihhW2RdKTtyZXR1cm4gYn0sZGVjb2RlVW5zaWduZWRJbnRlZ2VyczpmdW5jdGlvbihhKXtmb3IodmFyIGI9CltdLGM9MCxkPTAsZT1hLmxlbmd0aCxmPTA7ZjxlOysrZil7dmFyIGc9YS5jaGFyQ29kZUF0KGYpLTYzLGM9Y3woZyYzMSk8PGQ7MzI+Zz8oYi5wdXNoKGMpLGQ9Yz0wKTpkKz01fXJldHVybiBifSxlbmNvZGVGbG9hdDpmdW5jdGlvbihhLGIpe2E9TWF0aC5yb3VuZChhKihifHwxRTUpKTtyZXR1cm4gdGhpcy5lbmNvZGVTaWduZWRJbnRlZ2VyKGEpfSxkZWNvZGVGbG9hdDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmRlY29kZVNpZ25lZEludGVnZXIoYSkvKGJ8fDFFNSl9LGVuY29kZVNpZ25lZEludGVnZXI6ZnVuY3Rpb24oYSl7dmFyIGI9YTw8MTswPmEmJihiPX5iKTtyZXR1cm4gdGhpcy5lbmNvZGVVbnNpZ25lZEludGVnZXIoYil9LGRlY29kZVNpZ25lZEludGVnZXI6ZnVuY3Rpb24oYSl7YT10aGlzLmRlY29kZVVuc2lnbmVkSW50ZWdlcihhKTtyZXR1cm4gYSYxP34oYT4+MSk6YT4+MX0sZW5jb2RlVW5zaWduZWRJbnRlZ2VyOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPSIiOzMyPD0KYTspYj0oMzJ8YSYzMSkrNjMsYys9U3RyaW5nLmZyb21DaGFyQ29kZShiKSxhPj49NTtyZXR1cm4gYys9U3RyaW5nLmZyb21DaGFyQ29kZShhKzYzKX0sZGVjb2RlVW5zaWduZWRJbnRlZ2VyOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9MCxkPWEubGVuZ3RoLGU9MDtlPGQ7KytlKXt2YXIgZj1hLmNoYXJDb2RlQXQoZSktNjMsYj1ifChmJjMxKTw8YztpZigzMj5mKWJyZWFrO2MrPTV9cmV0dXJuIGJ9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LkVuY29kZWRQb2x5bGluZSJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2w9T3BlbkxheWVycy5DbGFzcyh7aWQ6bnVsbCxtYXA6bnVsbCxkaXY6bnVsbCx0eXBlOm51bGwsYWxsb3dTZWxlY3Rpb246ITEsZGlzcGxheUNsYXNzOiIiLHRpdGxlOiIiLGF1dG9BY3RpdmF0ZTohMSxhY3RpdmU6bnVsbCxoYW5kbGVyT3B0aW9uczpudWxsLGhhbmRsZXI6bnVsbCxldmVudExpc3RlbmVyczpudWxsLGV2ZW50czpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7dGhpcy5kaXNwbGF5Q2xhc3M9dGhpcy5DTEFTU19OQU1FLnJlcGxhY2UoIk9wZW5MYXllcnMuIiwib2wiKS5yZXBsYWNlKC9cLi9nLCIiKTtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsYSk7dGhpcy5ldmVudHM9bmV3IE9wZW5MYXllcnMuRXZlbnRzKHRoaXMpO2lmKHRoaXMuZXZlbnRMaXN0ZW5lcnMgaW5zdGFuY2VvZiBPYmplY3QpdGhpcy5ldmVudHMub24odGhpcy5ldmVudExpc3RlbmVycyk7bnVsbD09dGhpcy5pZCYmKHRoaXMuaWQ9T3BlbkxheWVycy5VdGlsLmNyZWF0ZVVuaXF1ZUlEKHRoaXMuQ0xBU1NfTkFNRSsKIl8iKSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmV2ZW50cyYmKHRoaXMuZXZlbnRMaXN0ZW5lcnMmJnRoaXMuZXZlbnRzLnVuKHRoaXMuZXZlbnRMaXN0ZW5lcnMpLHRoaXMuZXZlbnRzLmRlc3Ryb3koKSx0aGlzLmV2ZW50cz1udWxsKTt0aGlzLmV2ZW50TGlzdGVuZXJzPW51bGw7dGhpcy5oYW5kbGVyJiYodGhpcy5oYW5kbGVyLmRlc3Ryb3koKSx0aGlzLmhhbmRsZXI9bnVsbCk7aWYodGhpcy5oYW5kbGVycyl7Zm9yKHZhciBhIGluIHRoaXMuaGFuZGxlcnMpdGhpcy5oYW5kbGVycy5oYXNPd25Qcm9wZXJ0eShhKSYmImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuaGFuZGxlcnNbYV0uZGVzdHJveSYmdGhpcy5oYW5kbGVyc1thXS5kZXN0cm95KCk7dGhpcy5oYW5kbGVycz1udWxsfXRoaXMubWFwJiYodGhpcy5tYXAucmVtb3ZlQ29udHJvbCh0aGlzKSx0aGlzLm1hcD1udWxsKTt0aGlzLmRpdj1udWxsfSxzZXRNYXA6ZnVuY3Rpb24oYSl7dGhpcy5tYXA9YTt0aGlzLmhhbmRsZXImJgp0aGlzLmhhbmRsZXIuc2V0TWFwKGEpfSxkcmF3OmZ1bmN0aW9uKGEpe251bGw9PXRoaXMuZGl2JiYodGhpcy5kaXY9T3BlbkxheWVycy5VdGlsLmNyZWF0ZURpdih0aGlzLmlkKSx0aGlzLmRpdi5jbGFzc05hbWU9dGhpcy5kaXNwbGF5Q2xhc3MsdGhpcy5hbGxvd1NlbGVjdGlvbnx8KHRoaXMuZGl2LmNsYXNzTmFtZSs9IiBvbENvbnRyb2xOb1NlbGVjdCIsdGhpcy5kaXYuc2V0QXR0cmlidXRlKCJ1bnNlbGVjdGFibGUiLCJvbiIsMCksdGhpcy5kaXYub25zZWxlY3RzdGFydD1PcGVuTGF5ZXJzLkZ1bmN0aW9uLkZhbHNlKSwiIiE9dGhpcy50aXRsZSYmKHRoaXMuZGl2LnRpdGxlPXRoaXMudGl0bGUpKTtudWxsIT1hJiYodGhpcy5wb3NpdGlvbj1hLmNsb25lKCkpO3RoaXMubW92ZVRvKHRoaXMucG9zaXRpb24pO3JldHVybiB0aGlzLmRpdn0sbW92ZVRvOmZ1bmN0aW9uKGEpe251bGwhPWEmJm51bGwhPXRoaXMuZGl2JiYodGhpcy5kaXYuc3R5bGUubGVmdD1hLngrInB4Iix0aGlzLmRpdi5zdHlsZS50b3A9CmEueSsicHgiKX0sYWN0aXZhdGU6ZnVuY3Rpb24oKXtpZih0aGlzLmFjdGl2ZSlyZXR1cm4hMTt0aGlzLmhhbmRsZXImJnRoaXMuaGFuZGxlci5hY3RpdmF0ZSgpO3RoaXMuYWN0aXZlPSEwO3RoaXMubWFwJiZPcGVuTGF5ZXJzLkVsZW1lbnQuYWRkQ2xhc3ModGhpcy5tYXAudmlld1BvcnREaXYsdGhpcy5kaXNwbGF5Q2xhc3MucmVwbGFjZSgvIC9nLCIiKSsiQWN0aXZlIik7dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJhY3RpdmF0ZSIpO3JldHVybiEwfSxkZWFjdGl2YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWN0aXZlPyh0aGlzLmhhbmRsZXImJnRoaXMuaGFuZGxlci5kZWFjdGl2YXRlKCksdGhpcy5hY3RpdmU9ITEsdGhpcy5tYXAmJk9wZW5MYXllcnMuRWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm1hcC52aWV3UG9ydERpdix0aGlzLmRpc3BsYXlDbGFzcy5yZXBsYWNlKC8gL2csIiIpKyJBY3RpdmUiKSx0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImRlYWN0aXZhdGUiKSwKITApOiExfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wifSk7T3BlbkxheWVycy5Db250cm9sLlRZUEVfQlVUVE9OPTE7T3BlbkxheWVycy5Db250cm9sLlRZUEVfVE9HR0xFPTI7T3BlbkxheWVycy5Db250cm9sLlRZUEVfVE9PTD0zO09wZW5MYXllcnMuQ29udHJvbC5QYW5lbD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbCx7Y29udHJvbHM6bnVsbCxhdXRvQWN0aXZhdGU6ITAsZGVmYXVsdENvbnRyb2w6bnVsbCxzYXZlU3RhdGU6ITEsYWxsb3dEZXByZXNzOiExLGFjdGl2ZVN0YXRlOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pO3RoaXMuY29udHJvbHM9W107dGhpcy5hY3RpdmVTdGF0ZT17fX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMubWFwJiZ0aGlzLm1hcC5ldmVudHMudW5yZWdpc3RlcigiYnV0dG9uY2xpY2siLHRoaXMsdGhpcy5vbkJ1dHRvbkNsaWNrKTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Zvcih2YXIgYSxiPXRoaXMuY29udHJvbHMubGVuZ3RoLTE7MDw9YjtiLS0pYT10aGlzLmNvbnRyb2xzW2JdLGEuZXZlbnRzJiYKYS5ldmVudHMudW4oe2FjdGl2YXRlOnRoaXMuaWNvbk9uLGRlYWN0aXZhdGU6dGhpcy5pY29uT2ZmfSksYS5wYW5lbF9kaXY9bnVsbDt0aGlzLmFjdGl2ZVN0YXRlPW51bGx9LGFjdGl2YXRlOmZ1bmN0aW9uKCl7aWYoT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5hY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpe2Zvcih2YXIgYSxiPTAsYz10aGlzLmNvbnRyb2xzLmxlbmd0aDtiPGM7YisrKWE9dGhpcy5jb250cm9sc1tiXSwoYT09PXRoaXMuZGVmYXVsdENvbnRyb2x8fHRoaXMuc2F2ZVN0YXRlJiZ0aGlzLmFjdGl2ZVN0YXRlW2EuaWRdKSYmYS5hY3RpdmF0ZSgpOyEwPT09dGhpcy5zYXZlU3RhdGUmJih0aGlzLmRlZmF1bHRDb250cm9sPW51bGwpO3RoaXMucmVkcmF3KCk7cmV0dXJuITB9cmV0dXJuITF9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXtpZihPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpKXtmb3IodmFyIGEsCmI9MCxjPXRoaXMuY29udHJvbHMubGVuZ3RoO2I8YztiKyspYT10aGlzLmNvbnRyb2xzW2JdLHRoaXMuYWN0aXZlU3RhdGVbYS5pZF09YS5kZWFjdGl2YXRlKCk7dGhpcy5yZWRyYXcoKTtyZXR1cm4hMH1yZXR1cm4hMX0sZHJhdzpmdW5jdGlvbigpe09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZHJhdy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5vdXRzaWRlVmlld3BvcnQ/KHRoaXMuZXZlbnRzLmF0dGFjaFRvRWxlbWVudCh0aGlzLmRpdiksdGhpcy5ldmVudHMucmVnaXN0ZXIoImJ1dHRvbmNsaWNrIix0aGlzLHRoaXMub25CdXR0b25DbGljaykpOnRoaXMubWFwLmV2ZW50cy5yZWdpc3RlcigiYnV0dG9uY2xpY2siLHRoaXMsdGhpcy5vbkJ1dHRvbkNsaWNrKTt0aGlzLmFkZENvbnRyb2xzVG9NYXAodGhpcy5jb250cm9scyk7cmV0dXJuIHRoaXMuZGl2fSxyZWRyYXc6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5kaXYuY2hpbGROb2Rlcy5sZW5ndGgtMTswPD1hO2EtLSl0aGlzLmRpdi5yZW1vdmVDaGlsZCh0aGlzLmRpdi5jaGlsZE5vZGVzW2FdKTsKdGhpcy5kaXYuaW5uZXJIVE1MPSIiO2lmKHRoaXMuYWN0aXZlKWZvcih2YXIgYT0wLGI9dGhpcy5jb250cm9scy5sZW5ndGg7YTxiO2ErKyl0aGlzLmRpdi5hcHBlbmRDaGlsZCh0aGlzLmNvbnRyb2xzW2FdLnBhbmVsX2Rpdil9LGFjdGl2YXRlQ29udHJvbDpmdW5jdGlvbihhKXtpZighdGhpcy5hY3RpdmUpcmV0dXJuITE7aWYoYS50eXBlPT1PcGVuTGF5ZXJzLkNvbnRyb2wuVFlQRV9CVVRUT04pYS50cmlnZ2VyKCk7ZWxzZSBpZihhLnR5cGU9PU9wZW5MYXllcnMuQ29udHJvbC5UWVBFX1RPR0dMRSlhLmFjdGl2ZT9hLmRlYWN0aXZhdGUoKTphLmFjdGl2YXRlKCk7ZWxzZSBpZih0aGlzLmFsbG93RGVwcmVzcyYmYS5hY3RpdmUpYS5kZWFjdGl2YXRlKCk7ZWxzZXtmb3IodmFyIGIsYz0wLGQ9dGhpcy5jb250cm9scy5sZW5ndGg7YzxkO2MrKyliPXRoaXMuY29udHJvbHNbY10sYiE9YSYmKGIudHlwZT09PU9wZW5MYXllcnMuQ29udHJvbC5UWVBFX1RPT0x8fG51bGw9PWIudHlwZSkmJgpiLmRlYWN0aXZhdGUoKTthLmFjdGl2YXRlKCl9fSxhZGRDb250cm9sczpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShhKXx8KGE9W2FdKTt0aGlzLmNvbnRyb2xzPXRoaXMuY29udHJvbHMuY29uY2F0KGEpO2Zvcih2YXIgYj0wLGM9YS5sZW5ndGg7YjxjO2IrKyl7dmFyIGQ9YVtiXSxlPXRoaXMuY3JlYXRlQ29udHJvbE1hcmt1cChkKTtPcGVuTGF5ZXJzLkVsZW1lbnQuYWRkQ2xhc3MoZSxkLmRpc3BsYXlDbGFzcysiSXRlbUluYWN0aXZlIik7T3BlbkxheWVycy5FbGVtZW50LmFkZENsYXNzKGUsIm9sQnV0dG9uIik7IiIhPWQudGl0bGUmJiFlLnRpdGxlJiYoZS50aXRsZT1kLnRpdGxlKTtkLnBhbmVsX2Rpdj1lfXRoaXMubWFwJiYodGhpcy5hZGRDb250cm9sc1RvTWFwKGEpLHRoaXMucmVkcmF3KCkpfSxjcmVhdGVDb250cm9sTWFya3VwOmZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpfSxhZGRDb250cm9sc1RvTWFwOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiwKYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKyliPWFbY10sITA9PT1iLmF1dG9BY3RpdmF0ZT8oYi5hdXRvQWN0aXZhdGU9ITEsdGhpcy5tYXAuYWRkQ29udHJvbChiKSxiLmF1dG9BY3RpdmF0ZT0hMCk6KHRoaXMubWFwLmFkZENvbnRyb2woYiksYi5kZWFjdGl2YXRlKCkpLGIuZXZlbnRzLm9uKHthY3RpdmF0ZTp0aGlzLmljb25PbixkZWFjdGl2YXRlOnRoaXMuaWNvbk9mZn0pfSxpY29uT246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBhbmVsX2RpdjthLmNsYXNzTmFtZT1hLmNsYXNzTmFtZS5yZXBsYWNlKFJlZ0V4cCgiXFxiKCIrdGhpcy5kaXNwbGF5Q2xhc3MrIkl0ZW0pSW5hY3RpdmVcXGIiKSwiJDFBY3RpdmUiKX0saWNvbk9mZjpmdW5jdGlvbigpe3ZhciBhPXRoaXMucGFuZWxfZGl2O2EuY2xhc3NOYW1lPWEuY2xhc3NOYW1lLnJlcGxhY2UoUmVnRXhwKCJcXGIoIit0aGlzLmRpc3BsYXlDbGFzcysiSXRlbSlBY3RpdmVcXGIiKSwiJDFJbmFjdGl2ZSIpfSxvbkJ1dHRvbkNsaWNrOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0KdGhpcy5jb250cm9scyxhPWEuYnV0dG9uRWxlbWVudCxjPWIubGVuZ3RoLTE7MDw9YzstLWMpaWYoYltjXS5wYW5lbF9kaXY9PT1hKXt0aGlzLmFjdGl2YXRlQ29udHJvbChiW2NdKTticmVha319LGdldENvbnRyb2xzQnk6ZnVuY3Rpb24oYSxiKXt2YXIgYz0iZnVuY3Rpb24iPT10eXBlb2YgYi50ZXN0O3JldHVybiBPcGVuTGF5ZXJzLkFycmF5LmZpbHRlcih0aGlzLmNvbnRyb2xzLGZ1bmN0aW9uKGQpe3JldHVybiBkW2FdPT1ifHxjJiZiLnRlc3QoZFthXSl9KX0sZ2V0Q29udHJvbHNCeU5hbWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0Q29udHJvbHNCeSgibmFtZSIsYSl9LGdldENvbnRyb2xzQnlDbGFzczpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXRDb250cm9sc0J5KCJDTEFTU19OQU1FIixhKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLlBhbmVsIn0pO09wZW5MYXllcnMuQ29udHJvbC5CdXR0b249T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse3R5cGU6T3BlbkxheWVycy5Db250cm9sLlRZUEVfQlVUVE9OLHRyaWdnZXI6ZnVuY3Rpb24oKXt9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5CdXR0b24ifSk7T3BlbkxheWVycy5Db250cm9sLlpvb21Jbj1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbC5CdXR0b24se3RyaWdnZXI6ZnVuY3Rpb24oKXt0aGlzLm1hcCYmdGhpcy5tYXAuem9vbUluKCl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5ab29tSW4ifSk7T3BlbkxheWVycy5Db250cm9sLlpvb21PdXQ9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wuQnV0dG9uLHt0cmlnZ2VyOmZ1bmN0aW9uKCl7dGhpcy5tYXAmJnRoaXMubWFwLnpvb21PdXQoKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLlpvb21PdXQifSk7T3BlbkxheWVycy5Db250cm9sLlpvb21Ub01heEV4dGVudD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbC5CdXR0b24se3RyaWdnZXI6ZnVuY3Rpb24oKXt0aGlzLm1hcCYmdGhpcy5tYXAuem9vbVRvTWF4RXh0ZW50KCl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5ab29tVG9NYXhFeHRlbnQifSk7T3BlbkxheWVycy5Db250cm9sLlpvb21QYW5lbD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbC5QYW5lbCx7aW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuZWwucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pO3RoaXMuYWRkQ29udHJvbHMoW25ldyBPcGVuTGF5ZXJzLkNvbnRyb2wuWm9vbUluLG5ldyBPcGVuTGF5ZXJzLkNvbnRyb2wuWm9vbVRvTWF4RXh0ZW50LG5ldyBPcGVuTGF5ZXJzLkNvbnRyb2wuWm9vbU91dF0pfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuWm9vbVBhbmVsIn0pO09wZW5MYXllcnMuTGF5ZXIuSFRUUFJlcXVlc3Q9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkxheWVyLHtVUkxfSEFTSF9GQUNUT1I6KE1hdGguc3FydCg1KS0xKS8yLHVybDpudWxsLHBhcmFtczpudWxsLHJlcHJvamVjdDohMSxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjLGQpe09wZW5MYXllcnMuTGF5ZXIucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYSxkXSk7dGhpcy51cmw9Yjt0aGlzLnBhcmFtc3x8KHRoaXMucGFyYW1zPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe30sYykpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5wYXJhbXM9dGhpcy51cmw9bnVsbDtPcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sY2xvbmU6ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9bmV3IE9wZW5MYXllcnMuTGF5ZXIuSFRUUFJlcXVlc3QodGhpcy5uYW1lLHRoaXMudXJsLHRoaXMucGFyYW1zLHRoaXMuZ2V0T3B0aW9ucygpKSk7CnJldHVybiBhPU9wZW5MYXllcnMuTGF5ZXIucHJvdG90eXBlLmNsb25lLmFwcGx5KHRoaXMsW2FdKX0sc2V0VXJsOmZ1bmN0aW9uKGEpe3RoaXMudXJsPWF9LG1lcmdlTmV3UGFyYW1zOmZ1bmN0aW9uKGEpe3RoaXMucGFyYW1zPU9wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcy5wYXJhbXMsYSk7YT10aGlzLnJlZHJhdygpO251bGwhPXRoaXMubWFwJiZ0aGlzLm1hcC5ldmVudHMudHJpZ2dlckV2ZW50KCJjaGFuZ2VsYXllciIse2xheWVyOnRoaXMscHJvcGVydHk6InBhcmFtcyJ9KTtyZXR1cm4gYX0scmVkcmF3OmZ1bmN0aW9uKGEpe3JldHVybiBhPyh0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoInJlZnJlc2giKSx0aGlzLm1lcmdlTmV3UGFyYW1zKHtfb2xTYWx0Ok1hdGgucmFuZG9tKCl9KSk6T3BlbkxheWVycy5MYXllci5wcm90b3R5cGUucmVkcmF3LmFwcGx5KHRoaXMsW10pfSxzZWxlY3RVcmw6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MSxkPTAsZT1hLmxlbmd0aDtkPGU7ZCsrKWMqPQphLmNoYXJDb2RlQXQoZCkqdGhpcy5VUkxfSEFTSF9GQUNUT1IsYy09TWF0aC5mbG9vcihjKTtyZXR1cm4gYltNYXRoLmZsb29yKGMqYi5sZW5ndGgpXX0sZ2V0RnVsbFJlcXVlc3RTdHJpbmc6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHx0aGlzLnVybCxkPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe30sdGhpcy5wYXJhbXMpLGQ9T3BlbkxheWVycy5VdGlsLmV4dGVuZChkLGEpLGU9T3BlbkxheWVycy5VdGlsLmdldFBhcmFtZXRlclN0cmluZyhkKTtPcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShjKSYmKGM9dGhpcy5zZWxlY3RVcmwoZSxjKSk7dmFyIGU9T3BlbkxheWVycy5VdGlsLnVwcGVyQ2FzZU9iamVjdChPcGVuTGF5ZXJzLlV0aWwuZ2V0UGFyYW1ldGVycyhjKSksZjtmb3IoZiBpbiBkKWYudG9VcHBlckNhc2UoKWluIGUmJmRlbGV0ZSBkW2ZdO2U9T3BlbkxheWVycy5VdGlsLmdldFBhcmFtZXRlclN0cmluZyhkKTtyZXR1cm4gT3BlbkxheWVycy5VdGlsLnVybEFwcGVuZChjLGUpfSwKQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5IVFRQUmVxdWVzdCJ9KTtPcGVuTGF5ZXJzLlRpbGU9T3BlbkxheWVycy5DbGFzcyh7ZXZlbnRzOm51bGwsZXZlbnRMaXN0ZW5lcnM6bnVsbCxpZDpudWxsLGxheWVyOm51bGwsdXJsOm51bGwsYm91bmRzOm51bGwsc2l6ZTpudWxsLHBvc2l0aW9uOm51bGwsaXNMb2FkaW5nOiExLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMubGF5ZXI9YTt0aGlzLnBvc2l0aW9uPWIuY2xvbmUoKTt0aGlzLnNldEJvdW5kcyhjKTt0aGlzLnVybD1kO2UmJih0aGlzLnNpemU9ZS5jbG9uZSgpKTt0aGlzLmlkPU9wZW5MYXllcnMuVXRpbC5jcmVhdGVVbmlxdWVJRCgiVGlsZV8iKTtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsZik7dGhpcy5ldmVudHM9bmV3IE9wZW5MYXllcnMuRXZlbnRzKHRoaXMpO2lmKHRoaXMuZXZlbnRMaXN0ZW5lcnMgaW5zdGFuY2VvZiBPYmplY3QpdGhpcy5ldmVudHMub24odGhpcy5ldmVudExpc3RlbmVycyl9LHVubG9hZDpmdW5jdGlvbigpe3RoaXMuaXNMb2FkaW5nJiYodGhpcy5pc0xvYWRpbmc9CiExLHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgidW5sb2FkIikpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5wb3NpdGlvbj10aGlzLnNpemU9dGhpcy5ib3VuZHM9dGhpcy5sYXllcj1udWxsO3RoaXMuZXZlbnRMaXN0ZW5lcnMmJnRoaXMuZXZlbnRzLnVuKHRoaXMuZXZlbnRMaXN0ZW5lcnMpO3RoaXMuZXZlbnRzLmRlc3Ryb3koKTt0aGlzLmV2ZW50cz10aGlzLmV2ZW50TGlzdGVuZXJzPW51bGx9LGRyYXc6ZnVuY3Rpb24oYSl7YXx8dGhpcy5jbGVhcigpO3ZhciBiPXRoaXMuc2hvdWxkRHJhdygpO2ImJighYSYmITE9PT10aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImJlZm9yZWRyYXciKSkmJihiPW51bGwpO3JldHVybiBifSxzaG91bGREcmF3OmZ1bmN0aW9uKCl7dmFyIGE9ITEsYj10aGlzLmxheWVyLm1heEV4dGVudDtpZihiKXt2YXIgYz10aGlzLmxheWVyLm1hcCxjPWMuYmFzZUxheWVyLndyYXBEYXRlTGluZSYmYy5nZXRNYXhFeHRlbnQoKTt0aGlzLmJvdW5kcy5pbnRlcnNlY3RzQm91bmRzKGIsCntpbmNsdXNpdmU6ITEsd29ybGRCb3VuZHM6Y30pJiYoYT0hMCl9cmV0dXJuIGF8fHRoaXMubGF5ZXIuZGlzcGxheU91dHNpZGVNYXhFeHRlbnR9LHNldEJvdW5kczpmdW5jdGlvbihhKXthPWEuY2xvbmUoKTtpZih0aGlzLmxheWVyLm1hcC5iYXNlTGF5ZXIud3JhcERhdGVMaW5lKXZhciBiPXRoaXMubGF5ZXIubWFwLmdldE1heEV4dGVudCgpLGM9dGhpcy5sYXllci5tYXAuZ2V0UmVzb2x1dGlvbigpLGE9YS53cmFwRGF0ZUxpbmUoYix7bGVmdFRvbGVyYW5jZTpjLHJpZ2h0VG9sZXJhbmNlOmN9KTt0aGlzLmJvdW5kcz1hfSxtb3ZlVG86ZnVuY3Rpb24oYSxiLGMpe251bGw9PWMmJihjPSEwKTt0aGlzLnNldEJvdW5kcyhhKTt0aGlzLnBvc2l0aW9uPWIuY2xvbmUoKTtjJiZ0aGlzLmRyYXcoKX0sY2xlYXI6ZnVuY3Rpb24oKXt9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuVGlsZSJ9KTtPcGVuTGF5ZXJzLlRpbGUuSW1hZ2U9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlRpbGUse3VybDpudWxsLGltZ0RpdjpudWxsLGZyYW1lOm51bGwsaW1hZ2VSZWxvYWRBdHRlbXB0czpudWxsLGxheWVyQWxwaGFIYWNrOm51bGwsYXN5bmNSZXF1ZXN0SWQ6bnVsbCxtYXhHZXRVcmxMZW5ndGg6bnVsbCxjYW52YXNDb250ZXh0Om51bGwsY3Jvc3NPcmlnaW5LZXl3b3JkOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyxkLGUsZil7T3BlbkxheWVycy5UaWxlLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLnVybD1kO3RoaXMubGF5ZXJBbHBoYUhhY2s9dGhpcy5sYXllci5hbHBoYSYmT3BlbkxheWVycy5VdGlsLmFscGhhSGFjaygpO2lmKG51bGwhPXRoaXMubWF4R2V0VXJsTGVuZ3RofHx0aGlzLmxheWVyLmd1dHRlcnx8dGhpcy5sYXllckFscGhhSGFjayl0aGlzLmZyYW1lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuZnJhbWUuc3R5bGUucG9zaXRpb249CiJhYnNvbHV0ZSIsdGhpcy5mcmFtZS5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjtudWxsIT10aGlzLm1heEdldFVybExlbmd0aCYmT3BlbkxheWVycy5VdGlsLmV4dGVuZCh0aGlzLE9wZW5MYXllcnMuVGlsZS5JbWFnZS5JRnJhbWUpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5pbWdEaXYmJih0aGlzLmNsZWFyKCksdGhpcy5mcmFtZT10aGlzLmltZ0Rpdj1udWxsKTt0aGlzLmFzeW5jUmVxdWVzdElkPW51bGw7T3BlbkxheWVycy5UaWxlLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZHJhdzpmdW5jdGlvbigpe3ZhciBhPU9wZW5MYXllcnMuVGlsZS5wcm90b3R5cGUuZHJhdy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YT8odGhpcy5sYXllciE9dGhpcy5sYXllci5tYXAuYmFzZUxheWVyJiZ0aGlzLmxheWVyLnJlcHJvamVjdCYmKHRoaXMuYm91bmRzPXRoaXMuZ2V0Qm91bmRzRnJvbUJhc2VMYXllcih0aGlzLnBvc2l0aW9uKSksdGhpcy5pc0xvYWRpbmc/dGhpcy5fbG9hZEV2ZW50PQoicmVsb2FkIjoodGhpcy5pc0xvYWRpbmc9ITAsdGhpcy5fbG9hZEV2ZW50PSJsb2Fkc3RhcnQiKSx0aGlzLnJlbmRlclRpbGUoKSx0aGlzLnBvc2l0aW9uVGlsZSgpKTohMT09PWEmJnRoaXMudW5sb2FkKCk7cmV0dXJuIGF9LHJlbmRlclRpbGU6ZnVuY3Rpb24oKXtpZih0aGlzLmxheWVyLmFzeW5jKXt2YXIgYT10aGlzLmFzeW5jUmVxdWVzdElkPSh0aGlzLmFzeW5jUmVxdWVzdElkfHwwKSsxO3RoaXMubGF5ZXIuZ2V0VVJMYXN5bmModGhpcy5ib3VuZHMsZnVuY3Rpb24oYil7YT09dGhpcy5hc3luY1JlcXVlc3RJZCYmKHRoaXMudXJsPWIsdGhpcy5pbml0SW1hZ2UoKSl9LHRoaXMpfWVsc2UgdGhpcy51cmw9dGhpcy5sYXllci5nZXRVUkwodGhpcy5ib3VuZHMpLHRoaXMuaW5pdEltYWdlKCl9LHBvc2l0aW9uVGlsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0VGlsZSgpLnN0eWxlLGI9dGhpcy5mcmFtZT90aGlzLnNpemU6dGhpcy5sYXllci5nZXRJbWFnZVNpemUodGhpcy5ib3VuZHMpLApjPTE7dGhpcy5sYXllciBpbnN0YW5jZW9mIE9wZW5MYXllcnMuTGF5ZXIuR3JpZCYmKGM9dGhpcy5sYXllci5nZXRTZXJ2ZXJSZXNvbHV0aW9uKCkvdGhpcy5sYXllci5tYXAuZ2V0UmVzb2x1dGlvbigpKTthLmxlZnQ9dGhpcy5wb3NpdGlvbi54KyJweCI7YS50b3A9dGhpcy5wb3NpdGlvbi55KyJweCI7YS53aWR0aD1NYXRoLnJvdW5kKGMqYi53KSsicHgiO2EuaGVpZ2h0PU1hdGgucm91bmQoYypiLmgpKyJweCJ9LGNsZWFyOmZ1bmN0aW9uKCl7T3BlbkxheWVycy5UaWxlLnByb3RvdHlwZS5jbGVhci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGE9dGhpcy5pbWdEaXY7aWYoYSl7dmFyIGI9dGhpcy5nZXRUaWxlKCk7Yi5wYXJlbnROb2RlPT09dGhpcy5sYXllci5kaXYmJnRoaXMubGF5ZXIuZGl2LnJlbW92ZUNoaWxkKGIpO3RoaXMuc2V0SW1nU3JjKCk7ITA9PT10aGlzLmxheWVyQWxwaGFIYWNrJiYoYS5zdHlsZS5maWx0ZXI9IiIpO09wZW5MYXllcnMuRWxlbWVudC5yZW1vdmVDbGFzcyhhLAoib2xJbWFnZUxvYWRFcnJvciIpfXRoaXMuY2FudmFzQ29udGV4dD1udWxsfSxnZXRJbWFnZTpmdW5jdGlvbigpe2lmKCF0aGlzLmltZ0Rpdil7dGhpcy5pbWdEaXY9T3BlbkxheWVycy5UaWxlLkltYWdlLklNQUdFLmNsb25lTm9kZSghMSk7dmFyIGE9dGhpcy5pbWdEaXYuc3R5bGU7aWYodGhpcy5mcmFtZSl7dmFyIGI9MCxjPTA7dGhpcy5sYXllci5ndXR0ZXImJihiPTEwMCoodGhpcy5sYXllci5ndXR0ZXIvdGhpcy5sYXllci50aWxlU2l6ZS53KSxjPTEwMCoodGhpcy5sYXllci5ndXR0ZXIvdGhpcy5sYXllci50aWxlU2l6ZS5oKSk7YS5sZWZ0PS1iKyIlIjthLnRvcD0tYysiJSI7YS53aWR0aD0yKmIrMTAwKyIlIjthLmhlaWdodD0yKmMrMTAwKyIlIn1hLnZpc2liaWxpdHk9ImhpZGRlbiI7YS5vcGFjaXR5PTA7MT50aGlzLmxheWVyLm9wYWNpdHkmJihhLmZpbHRlcj0iYWxwaGEob3BhY2l0eT0iKzEwMCp0aGlzLmxheWVyLm9wYWNpdHkrIikiKTthLnBvc2l0aW9uPSJhYnNvbHV0ZSI7CnRoaXMubGF5ZXJBbHBoYUhhY2smJihhLnBhZGRpbmdUb3A9YS5oZWlnaHQsYS5oZWlnaHQ9IjAiLGEud2lkdGg9IjEwMCUiKTt0aGlzLmZyYW1lJiZ0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuaW1nRGl2KX1yZXR1cm4gdGhpcy5pbWdEaXZ9LHNldEltYWdlOmZ1bmN0aW9uKGEpe3RoaXMuaW1nRGl2PWF9LGluaXRJbWFnZTpmdW5jdGlvbigpe2lmKCF0aGlzLnVybCYmIXRoaXMuaW1nRGl2KXRoaXMuaXNMb2FkaW5nPSExO2Vsc2V7dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJiZWZvcmVsb2FkIik7dGhpcy5sYXllci5kaXYuYXBwZW5kQ2hpbGQodGhpcy5nZXRUaWxlKCkpO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCh0aGlzLl9sb2FkRXZlbnQpO3ZhciBhPXRoaXMuZ2V0SW1hZ2UoKSxiPWEuZ2V0QXR0cmlidXRlKCJzcmMiKXx8IiI7dGhpcy51cmwmJk9wZW5MYXllcnMuVXRpbC5pc0VxdWl2YWxlbnRVcmwoYix0aGlzLnVybCk/dGhpcy5fbG9hZFRpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQoT3BlbkxheWVycy5GdW5jdGlvbi5iaW5kKHRoaXMub25JbWFnZUxvYWQsCnRoaXMpLDApOih0aGlzLnN0b3BMb2FkaW5nKCksdGhpcy5jcm9zc09yaWdpbktleXdvcmQmJmEucmVtb3ZlQXR0cmlidXRlKCJjcm9zc29yaWdpbiIpLE9wZW5MYXllcnMuRXZlbnQub2JzZXJ2ZShhLCJsb2FkIixPcGVuTGF5ZXJzLkZ1bmN0aW9uLmJpbmQodGhpcy5vbkltYWdlTG9hZCx0aGlzKSksT3BlbkxheWVycy5FdmVudC5vYnNlcnZlKGEsImVycm9yIixPcGVuTGF5ZXJzLkZ1bmN0aW9uLmJpbmQodGhpcy5vbkltYWdlRXJyb3IsdGhpcykpLHRoaXMuaW1hZ2VSZWxvYWRBdHRlbXB0cz0wLHRoaXMuc2V0SW1nU3JjKHRoaXMudXJsKSl9fSxzZXRJbWdTcmM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbWdEaXY7YT8oYi5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iLGIuc3R5bGUub3BhY2l0eT0wLHRoaXMuY3Jvc3NPcmlnaW5LZXl3b3JkJiYoImRhdGE6IiE9PWEuc3Vic3RyKDAsNSk/Yi5zZXRBdHRyaWJ1dGUoImNyb3Nzb3JpZ2luIix0aGlzLmNyb3NzT3JpZ2luS2V5d29yZCk6CmIucmVtb3ZlQXR0cmlidXRlKCJjcm9zc29yaWdpbiIpKSxiLnNyYz1hKToodGhpcy5zdG9wTG9hZGluZygpLHRoaXMuaW1nRGl2PW51bGwsYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYikpfSxnZXRUaWxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnJhbWU/dGhpcy5mcmFtZTp0aGlzLmdldEltYWdlKCl9LGNyZWF0ZUJhY2tCdWZmZXI6ZnVuY3Rpb24oKXtpZih0aGlzLmltZ0RpdiYmIXRoaXMuaXNMb2FkaW5nKXt2YXIgYTt0aGlzLmZyYW1lPyhhPXRoaXMuZnJhbWUuY2xvbmVOb2RlKCExKSxhLmFwcGVuZENoaWxkKHRoaXMuaW1nRGl2KSk6YT10aGlzLmltZ0Rpdjt0aGlzLmltZ0Rpdj1udWxsO3JldHVybiBhfX0sb25JbWFnZUxvYWQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmltZ0Rpdjt0aGlzLnN0b3BMb2FkaW5nKCk7YS5zdHlsZS52aXNpYmlsaXR5PSJpbmhlcml0IjthLnN0eWxlLm9wYWNpdHk9dGhpcy5sYXllci5vcGFjaXR5O3RoaXMuaXNMb2FkaW5nPQohMTt0aGlzLmNhbnZhc0NvbnRleHQ9bnVsbDt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvYWRlbmQiKTshMD09PXRoaXMubGF5ZXJBbHBoYUhhY2smJihhLnN0eWxlLmZpbHRlcj0icHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkFscGhhSW1hZ2VMb2FkZXIoc3JjPSciK2Euc3JjKyInLCBzaXppbmdNZXRob2Q9J3NjYWxlJykiKX0sb25JbWFnZUVycm9yOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pbWdEaXY7bnVsbCE9YS5zcmMmJih0aGlzLmltYWdlUmVsb2FkQXR0ZW1wdHMrKyx0aGlzLmltYWdlUmVsb2FkQXR0ZW1wdHM8PU9wZW5MYXllcnMuSU1BR0VfUkVMT0FEX0FUVEVNUFRTP3RoaXMuc2V0SW1nU3JjKHRoaXMubGF5ZXIuZ2V0VVJMKHRoaXMuYm91bmRzKSk6KE9wZW5MYXllcnMuRWxlbWVudC5hZGRDbGFzcyhhLCJvbEltYWdlTG9hZEVycm9yIiksdGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJsb2FkZXJyb3IiKSx0aGlzLm9uSW1hZ2VMb2FkKCkpKX0sc3RvcExvYWRpbmc6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkV2ZW50LnN0b3BPYnNlcnZpbmdFbGVtZW50KHRoaXMuaW1nRGl2KTsKd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl9sb2FkVGltZW91dCk7ZGVsZXRlIHRoaXMuX2xvYWRUaW1lb3V0fSxnZXRDYW52YXNDb250ZXh0OmZ1bmN0aW9uKCl7aWYoT3BlbkxheWVycy5DQU5WQVNfU1VQUE9SVEVEJiZ0aGlzLmltZ0RpdiYmIXRoaXMuaXNMb2FkaW5nKXtpZighdGhpcy5jYW52YXNDb250ZXh0KXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTthLndpZHRoPXRoaXMuc2l6ZS53O2EuaGVpZ2h0PXRoaXMuc2l6ZS5oO3RoaXMuY2FudmFzQ29udGV4dD1hLmdldENvbnRleHQoIjJkIik7dGhpcy5jYW52YXNDb250ZXh0LmRyYXdJbWFnZSh0aGlzLmltZ0RpdiwwLDApfXJldHVybiB0aGlzLmNhbnZhc0NvbnRleHR9fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlRpbGUuSW1hZ2UifSk7Ck9wZW5MYXllcnMuVGlsZS5JbWFnZS5JTUFHRT1mdW5jdGlvbigpe3ZhciBhPW5ldyBJbWFnZTthLmNsYXNzTmFtZT0ib2xUaWxlSW1hZ2UiO2EuZ2FsbGVyeUltZz0ibm8iO3JldHVybiBhfSgpO09wZW5MYXllcnMuTGF5ZXIuR3JpZD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIuSFRUUFJlcXVlc3Qse3RpbGVTaXplOm51bGwsdGlsZU9yaWdpbkNvcm5lcjoiYmwiLHRpbGVPcmlnaW46bnVsbCx0aWxlT3B0aW9uczpudWxsLHRpbGVDbGFzczpPcGVuTGF5ZXJzLlRpbGUuSW1hZ2UsZ3JpZDpudWxsLHNpbmdsZVRpbGU6ITEscmF0aW86MS41LGJ1ZmZlcjowLHRyYW5zaXRpb25FZmZlY3Q6InJlc2l6ZSIsbnVtTG9hZGluZ1RpbGVzOjAsc2VydmVyUmVzb2x1dGlvbnM6bnVsbCxsb2FkaW5nOiExLGJhY2tCdWZmZXI6bnVsbCxncmlkUmVzb2x1dGlvbjpudWxsLGJhY2tCdWZmZXJSZXNvbHV0aW9uOm51bGwsYmFja0J1ZmZlckxvbkxhdDpudWxsLGJhY2tCdWZmZXJUaW1lcklkOm51bGwscmVtb3ZlQmFja0J1ZmZlckRlbGF5Om51bGwsY2xhc3NOYW1lOm51bGwsZ3JpZExheW91dDpudWxsLHJvd1NpZ246bnVsbCx0cmFuc2l0aW9uZW5kRXZlbnRzOlsidHJhbnNpdGlvbmVuZCIsCiJ3ZWJraXRUcmFuc2l0aW9uRW5kIiwib3RyYW5zaXRpb25lbmQiLCJvVHJhbnNpdGlvbkVuZCJdLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCl7T3BlbkxheWVycy5MYXllci5IVFRQUmVxdWVzdC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5ncmlkPVtdO3RoaXMuX3JlbW92ZUJhY2tCdWZmZXI9T3BlbkxheWVycy5GdW5jdGlvbi5iaW5kKHRoaXMucmVtb3ZlQmFja0J1ZmZlcix0aGlzKTt0aGlzLmluaXRQcm9wZXJ0aWVzKCk7dGhpcy5yb3dTaWduPSJ0Ij09PXRoaXMudGlsZU9yaWdpbkNvcm5lci5zdWJzdHIoMCwxKT8xOi0xfSxpbml0UHJvcGVydGllczpmdW5jdGlvbigpe3ZvaWQgMD09PXRoaXMub3B0aW9ucy5yZW1vdmVCYWNrQnVmZmVyRGVsYXkmJih0aGlzLnJlbW92ZUJhY2tCdWZmZXJEZWxheT10aGlzLnNpbmdsZVRpbGU/MDoyNTAwKTt2b2lkIDA9PT10aGlzLm9wdGlvbnMuY2xhc3NOYW1lJiYodGhpcy5jbGFzc05hbWU9dGhpcy5zaW5nbGVUaWxlPwoib2xMYXllckdyaWRTaW5nbGVUaWxlIjoib2xMYXllckdyaWQiKX0sc2V0TWFwOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuTGF5ZXIuSFRUUFJlcXVlc3QucHJvdG90eXBlLnNldE1hcC5jYWxsKHRoaXMsYSk7T3BlbkxheWVycy5FbGVtZW50LmFkZENsYXNzKHRoaXMuZGl2LHRoaXMuY2xhc3NOYW1lKX0scmVtb3ZlTWFwOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVCYWNrQnVmZmVyKCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUJhY2tCdWZmZXIoKTt0aGlzLmNsZWFyR3JpZCgpO3RoaXMudGlsZVNpemU9dGhpcy5ncmlkPW51bGw7T3BlbkxheWVycy5MYXllci5IVFRQUmVxdWVzdC5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGNsZWFyR3JpZDpmdW5jdGlvbigpe2lmKHRoaXMuZ3JpZCl7Zm9yKHZhciBhPTAsYj10aGlzLmdyaWQubGVuZ3RoO2E8YjthKyspZm9yKHZhciBjPXRoaXMuZ3JpZFthXSxkPTAsZT1jLmxlbmd0aDtkPGU7ZCsrKXRoaXMuZGVzdHJveVRpbGUoY1tkXSk7CnRoaXMuZ3JpZD1bXTt0aGlzLmdyaWRMYXlvdXQ9dGhpcy5ncmlkUmVzb2x1dGlvbj1udWxsfX0sYWRkT3B0aW9uczpmdW5jdGlvbihhLGIpe3ZhciBjPXZvaWQgMCE9PWEuc2luZ2xlVGlsZSYmYS5zaW5nbGVUaWxlIT09dGhpcy5zaW5nbGVUaWxlO09wZW5MYXllcnMuTGF5ZXIuSFRUUFJlcXVlc3QucHJvdG90eXBlLmFkZE9wdGlvbnMuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMubWFwJiZjJiYodGhpcy5pbml0UHJvcGVydGllcygpLHRoaXMuY2xlYXJHcmlkKCksdGhpcy50aWxlU2l6ZT10aGlzLm9wdGlvbnMudGlsZVNpemUsdGhpcy5zZXRUaWxlU2l6ZSgpLHRoaXMubW92ZVRvKG51bGwsITApKX0sY2xvbmU6ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9bmV3IE9wZW5MYXllcnMuTGF5ZXIuR3JpZCh0aGlzLm5hbWUsdGhpcy51cmwsdGhpcy5wYXJhbXMsdGhpcy5nZXRPcHRpb25zKCkpKTthPU9wZW5MYXllcnMuTGF5ZXIuSFRUUFJlcXVlc3QucHJvdG90eXBlLmNsb25lLmFwcGx5KHRoaXMsClthXSk7bnVsbCE9dGhpcy50aWxlU2l6ZSYmKGEudGlsZVNpemU9dGhpcy50aWxlU2l6ZS5jbG9uZSgpKTthLmdyaWQ9W107YS5ncmlkUmVzb2x1dGlvbj1udWxsO2EuYmFja0J1ZmZlcj1udWxsO2EuYmFja0J1ZmZlclRpbWVySWQ9bnVsbDthLmxvYWRpbmc9ITE7YS5udW1Mb2FkaW5nVGlsZXM9MDtyZXR1cm4gYX0sbW92ZVRvOmZ1bmN0aW9uKGEsYixjKXtPcGVuTGF5ZXJzLkxheWVyLkhUVFBSZXF1ZXN0LnByb3RvdHlwZS5tb3ZlVG8uYXBwbHkodGhpcyxhcmd1bWVudHMpO2E9YXx8dGhpcy5tYXAuZ2V0RXh0ZW50KCk7aWYobnVsbCE9YSl7dmFyIGQ9IXRoaXMuZ3JpZC5sZW5ndGh8fGIsZT10aGlzLmdldFRpbGVzQm91bmRzKCksZj10aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCk7dGhpcy5nZXRTZXJ2ZXJSZXNvbHV0aW9uKGYpO2lmKHRoaXMuc2luZ2xlVGlsZSl7aWYoZHx8IWMmJiFlLmNvbnRhaW5zQm91bmRzKGEpKWImJiJyZXNpemUiIT09dGhpcy50cmFuc2l0aW9uRWZmZWN0JiYKdGhpcy5yZW1vdmVCYWNrQnVmZmVyKCksKCFifHwicmVzaXplIj09PXRoaXMudHJhbnNpdGlvbkVmZmVjdCkmJnRoaXMuYXBwbHlCYWNrQnVmZmVyKGYpLHRoaXMuaW5pdFNpbmdsZVRpbGUoYSl9ZWxzZShkPWR8fCFlLmludGVyc2VjdHNCb3VuZHMoYSx7d29ybGRCb3VuZHM6dGhpcy5tYXAuYmFzZUxheWVyLndyYXBEYXRlTGluZSYmdGhpcy5tYXAuZ2V0TWF4RXh0ZW50KCl9KSk/KGImJigicmVzaXplIj09PXRoaXMudHJhbnNpdGlvbkVmZmVjdHx8dGhpcy5ncmlkUmVzb2x1dGlvbj09PWYpJiZ0aGlzLmFwcGx5QmFja0J1ZmZlcihmKSx0aGlzLmluaXRHcmlkZGVkVGlsZXMoYSkpOnRoaXMubW92ZUdyaWRkZWRUaWxlcygpfX0sZ2V0VGlsZURhdGE6ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbCxjPWEubG9uLGQ9YS5sYXQsZT10aGlzLmdyaWQubGVuZ3RoO2lmKHRoaXMubWFwJiZlKXt2YXIgZj10aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCksYT10aGlzLnRpbGVTaXplLncsZz10aGlzLnRpbGVTaXplLmgsCmg9dGhpcy5ncmlkWzBdWzBdLmJvdW5kcyxpPWgubGVmdCxoPWgudG9wO2lmKGM8aSYmdGhpcy5tYXAuYmFzZUxheWVyLndyYXBEYXRlTGluZSl2YXIgaj10aGlzLm1hcC5nZXRNYXhFeHRlbnQoKS5nZXRXaWR0aCgpLGs9TWF0aC5jZWlsKChpLWMpL2opLGM9YytqKms7Yz0oYy1pKS8oZiphKTtkPShoLWQpLyhmKmcpO2Y9TWF0aC5mbG9vcihjKTtpPU1hdGguZmxvb3IoZCk7MDw9aSYmaTxlJiYoZT10aGlzLmdyaWRbaV1bZl0pJiYoYj17dGlsZTplLGk6TWF0aC5mbG9vcigoYy1mKSphKSxqOk1hdGguZmxvb3IoKGQtaSkqZyl9KX1yZXR1cm4gYn0sZGVzdHJveVRpbGU6ZnVuY3Rpb24oYSl7dGhpcy5yZW1vdmVUaWxlTW9uaXRvcmluZ0hvb2tzKGEpO2EuZGVzdHJveSgpfSxnZXRTZXJ2ZXJSZXNvbHV0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxhPWF8fHRoaXMubWFwLmdldFJlc29sdXRpb24oKTtpZih0aGlzLnNlcnZlclJlc29sdXRpb25zJiYKLTE9PT1PcGVuTGF5ZXJzLlV0aWwuaW5kZXhPZih0aGlzLnNlcnZlclJlc29sdXRpb25zLGEpKXt2YXIgYyxkLGUsZjtmb3IoYz10aGlzLnNlcnZlclJlc29sdXRpb25zLmxlbmd0aC0xOzA8PWM7Yy0tKXtlPXRoaXMuc2VydmVyUmVzb2x1dGlvbnNbY107ZD1NYXRoLmFicyhlLWEpO2lmKGQ+YilicmVhaztiPWQ7Zj1lfWE9Zn1yZXR1cm4gYX0sZ2V0U2VydmVyWm9vbTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0U2VydmVyUmVzb2x1dGlvbigpO3JldHVybiB0aGlzLnNlcnZlclJlc29sdXRpb25zP09wZW5MYXllcnMuVXRpbC5pbmRleE9mKHRoaXMuc2VydmVyUmVzb2x1dGlvbnMsYSk6dGhpcy5tYXAuZ2V0Wm9vbUZvclJlc29sdXRpb24oYSkrKHRoaXMuem9vbU9mZnNldHx8MCl9LGFwcGx5QmFja0J1ZmZlcjpmdW5jdGlvbihhKXtudWxsIT09dGhpcy5iYWNrQnVmZmVyVGltZXJJZCYmdGhpcy5yZW1vdmVCYWNrQnVmZmVyKCk7dmFyIGI9dGhpcy5iYWNrQnVmZmVyO2lmKCFiKXtiPQp0aGlzLmNyZWF0ZUJhY2tCdWZmZXIoKTtpZighYilyZXR1cm47YT09PXRoaXMuZ3JpZFJlc29sdXRpb24/dGhpcy5kaXYuaW5zZXJ0QmVmb3JlKGIsdGhpcy5kaXYuZmlyc3RDaGlsZCk6dGhpcy5tYXAuYmFzZUxheWVyLmRpdi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShiLHRoaXMubWFwLmJhc2VMYXllci5kaXYpO3RoaXMuYmFja0J1ZmZlcj1iO3ZhciBjPXRoaXMuZ3JpZFswXVswXS5ib3VuZHM7dGhpcy5iYWNrQnVmZmVyTG9uTGF0PXtsb246Yy5sZWZ0LGxhdDpjLnRvcH07dGhpcy5iYWNrQnVmZmVyUmVzb2x1dGlvbj10aGlzLmdyaWRSZXNvbHV0aW9ufWZvcih2YXIgYz10aGlzLmJhY2tCdWZmZXJSZXNvbHV0aW9uL2EsZD1iLmNoaWxkTm9kZXMsZSxmPWQubGVuZ3RoLTE7MDw9ZjstLWYpZT1kW2ZdLGUuc3R5bGUudG9wPShjKmUuX2kqZS5faHwwKSsicHgiLGUuc3R5bGUubGVmdD0oYyplLl9qKmUuX3d8MCkrInB4IixlLnN0eWxlLndpZHRoPU1hdGgucm91bmQoYyplLl93KSsKInB4IixlLnN0eWxlLmhlaWdodD1NYXRoLnJvdW5kKGMqZS5faCkrInB4IjthPXRoaXMuZ2V0Vmlld1BvcnRQeEZyb21Mb25MYXQodGhpcy5iYWNrQnVmZmVyTG9uTGF0LGEpO2M9dGhpcy5tYXAubGF5ZXJDb250YWluZXJPcmlnaW5QeC55O2Iuc3R5bGUubGVmdD1NYXRoLnJvdW5kKGEueC10aGlzLm1hcC5sYXllckNvbnRhaW5lck9yaWdpblB4LngpKyJweCI7Yi5zdHlsZS50b3A9TWF0aC5yb3VuZChhLnktYykrInB4In0sY3JlYXRlQmFja0J1ZmZlcjpmdW5jdGlvbigpe3ZhciBhO2lmKDA8dGhpcy5ncmlkLmxlbmd0aCl7YT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTthLmlkPXRoaXMuZGl2LmlkKyJfYmIiO2EuY2xhc3NOYW1lPSJvbEJhY2tCdWZmZXIiO2Euc3R5bGUucG9zaXRpb249ImFic29sdXRlIjt2YXIgYj10aGlzLm1hcDthLnN0eWxlLnpJbmRleD0icmVzaXplIj09PXRoaXMudHJhbnNpdGlvbkVmZmVjdD90aGlzLmdldFpJbmRleCgpLTE6Yi5aX0lOREVYX0JBU0UuQmFzZUxheWVyLQooYi5nZXROdW1MYXllcnMoKS1iLmdldExheWVySW5kZXgodGhpcykpO2Zvcih2YXIgYj0wLGM9dGhpcy5ncmlkLmxlbmd0aDtiPGM7YisrKWZvcih2YXIgZD0wLGU9dGhpcy5ncmlkW2JdLmxlbmd0aDtkPGU7ZCsrKXt2YXIgZj10aGlzLmdyaWRbYl1bZF0sZz10aGlzLmdyaWRbYl1bZF0uY3JlYXRlQmFja0J1ZmZlcigpO2cmJihnLl9pPWIsZy5faj1kLGcuX3c9dGhpcy5zaW5nbGVUaWxlP3RoaXMuZ2V0SW1hZ2VTaXplKGYuYm91bmRzKS53OmYuc2l6ZS53LGcuX2g9Zi5zaXplLmgsZy5pZD1mLmlkKyJfYmIiLGEuYXBwZW5kQ2hpbGQoZykpfX1yZXR1cm4gYX0scmVtb3ZlQmFja0J1ZmZlcjpmdW5jdGlvbigpe2lmKHRoaXMuX3RyYW5zaXRpb25FbGVtZW50KXtmb3IodmFyIGE9dGhpcy50cmFuc2l0aW9uZW5kRXZlbnRzLmxlbmd0aC0xOzA8PWE7LS1hKU9wZW5MYXllcnMuRXZlbnQuc3RvcE9ic2VydmluZyh0aGlzLl90cmFuc2l0aW9uRWxlbWVudCx0aGlzLnRyYW5zaXRpb25lbmRFdmVudHNbYV0sCnRoaXMuX3JlbW92ZUJhY2tCdWZmZXIpO2RlbGV0ZSB0aGlzLl90cmFuc2l0aW9uRWxlbWVudH10aGlzLmJhY2tCdWZmZXImJih0aGlzLmJhY2tCdWZmZXIucGFyZW50Tm9kZSYmdGhpcy5iYWNrQnVmZmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5iYWNrQnVmZmVyKSx0aGlzLmJhY2tCdWZmZXJSZXNvbHV0aW9uPXRoaXMuYmFja0J1ZmZlcj1udWxsLG51bGwhPT10aGlzLmJhY2tCdWZmZXJUaW1lcklkJiYod2luZG93LmNsZWFyVGltZW91dCh0aGlzLmJhY2tCdWZmZXJUaW1lcklkKSx0aGlzLmJhY2tCdWZmZXJUaW1lcklkPW51bGwpKX0sbW92ZUJ5UHg6ZnVuY3Rpb24oKXt0aGlzLnNpbmdsZVRpbGV8fHRoaXMubW92ZUdyaWRkZWRUaWxlcygpfSxzZXRUaWxlU2l6ZTpmdW5jdGlvbihhKXt0aGlzLnNpbmdsZVRpbGUmJihhPXRoaXMubWFwLmdldFNpemUoKSxhLmg9cGFyc2VJbnQoYS5oKnRoaXMucmF0aW8sMTApLGEudz1wYXJzZUludChhLncqdGhpcy5yYXRpbywxMCkpOwpPcGVuTGF5ZXJzLkxheWVyLkhUVFBSZXF1ZXN0LnByb3RvdHlwZS5zZXRUaWxlU2l6ZS5hcHBseSh0aGlzLFthXSl9LGdldFRpbGVzQm91bmRzOmZ1bmN0aW9uKCl7dmFyIGE9bnVsbCxiPXRoaXMuZ3JpZC5sZW5ndGg7aWYoYil2YXIgYT10aGlzLmdyaWRbYi0xXVswXS5ib3VuZHMsYj10aGlzLmdyaWRbMF0ubGVuZ3RoKmEuZ2V0V2lkdGgoKSxjPXRoaXMuZ3JpZC5sZW5ndGgqYS5nZXRIZWlnaHQoKSxhPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhhLmxlZnQsYS5ib3R0b20sYS5sZWZ0K2IsYS5ib3R0b20rYyk7cmV0dXJuIGF9LGluaXRTaW5nbGVUaWxlOmZ1bmN0aW9uKGEpe3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgicmV0aWxlIik7dmFyIGI9YS5nZXRDZW50ZXJMb25MYXQoKSxjPWEuZ2V0V2lkdGgoKSp0aGlzLnJhdGlvLGE9YS5nZXRIZWlnaHQoKSp0aGlzLnJhdGlvLGI9bmV3IE9wZW5MYXllcnMuQm91bmRzKGIubG9uLWMvMixiLmxhdC1hLzIsYi5sb24rYy8yLGIubGF0K2EvCjIpO2lmKChjPXRoaXMubWF4RXh0ZW50KSYmKCF0aGlzLmRpc3BsYXlPdXRzaWRlTWF4RXh0ZW50fHx0aGlzLm1hcC5iYXNlTGF5ZXIud3JhcERhdGVMaW5lJiZ0aGlzLm1heEV4dGVudC5lcXVhbHModGhpcy5tYXAuZ2V0TWF4RXh0ZW50KCkpKSliLmxlZnQ9TWF0aC5tYXgoYi5sZWZ0LGMubGVmdCksYi5yaWdodD1NYXRoLm1pbihiLnJpZ2h0LGMucmlnaHQpO2M9dGhpcy5tYXAuZ2V0TGF5ZXJQeEZyb21Mb25MYXQoe2xvbjpiLmxlZnQsbGF0OmIudG9wfSk7dGhpcy5ncmlkLmxlbmd0aHx8KHRoaXMuZ3JpZFswXT1bXSk7KGE9dGhpcy5ncmlkWzBdWzBdKT9hLm1vdmVUbyhiLGMpOihhPXRoaXMuYWRkVGlsZShiLGMpLHRoaXMuYWRkVGlsZU1vbml0b3JpbmdIb29rcyhhKSxhLmRyYXcoKSx0aGlzLmdyaWRbMF1bMF09YSk7dGhpcy5yZW1vdmVFeGNlc3NUaWxlcygxLDEpO3RoaXMuZ3JpZFJlc29sdXRpb249dGhpcy5nZXRTZXJ2ZXJSZXNvbHV0aW9uKCl9LGNhbGN1bGF0ZUdyaWRMYXlvdXQ6ZnVuY3Rpb24oYSwKYixjKXt2YXIgZD1jKnRoaXMudGlsZVNpemUudyxjPWMqdGhpcy50aWxlU2l6ZS5oLGU9TWF0aC5mbG9vcigoYS5sZWZ0LWIubG9uKS9kKS10aGlzLmJ1ZmZlcixmPXRoaXMucm93U2lnbixhPU1hdGhbfmY/ImZsb29yIjoiY2VpbCJdKGYqKGIubGF0LWEudG9wK2MpL2MpLXRoaXMuYnVmZmVyKmY7cmV0dXJue3RpbGVsb246ZCx0aWxlbGF0OmMsc3RhcnRjb2w6ZSxzdGFydHJvdzphfX0sZ2V0SW1hZ2VTaXplOmZ1bmN0aW9uKGEpe3ZhciBiPU9wZW5MYXllcnMuTGF5ZXIuSFRUUFJlcXVlc3QucHJvdG90eXBlLmdldEltYWdlU2l6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5zaW5nbGVUaWxlJiYoYj1uZXcgT3BlbkxheWVycy5TaXplKE1hdGgucm91bmQoYS5nZXRXaWR0aCgpL3RoaXMuZ3JpZFJlc29sdXRpb24pLGIuaCkpO3JldHVybiBifSxnZXRUaWxlT3JpZ2luOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50aWxlT3JpZ2luO2lmKCFhKXZhciBhPXRoaXMuZ2V0TWF4RXh0ZW50KCksCmI9e3RsOlsibGVmdCIsInRvcCJdLHRyOlsicmlnaHQiLCJ0b3AiXSxibDpbImxlZnQiLCJib3R0b20iXSxicjpbInJpZ2h0IiwiYm90dG9tIl19W3RoaXMudGlsZU9yaWdpbkNvcm5lcl0sYT1uZXcgT3BlbkxheWVycy5Mb25MYXQoYVtiWzBdXSxhW2JbMV1dKTtyZXR1cm4gYX0sZ2V0VGlsZUJvdW5kc0ZvckdyaWRJbmRleDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0VGlsZU9yaWdpbigpLGQ9dGhpcy5ncmlkTGF5b3V0LGU9ZC50aWxlbG9uLGY9ZC50aWxlbGF0LGc9ZC5zdGFydGNvbCxkPWQuc3RhcnRyb3csaD10aGlzLnJvd1NpZ247cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhjLmxvbisoZytiKSplLGMubGF0LShkK2EqaCkqZipoLGMubG9uKyhnK2IrMSkqZSxjLmxhdC0oZCsoYS0xKSpoKSpmKmgpfSxpbml0R3JpZGRlZFRpbGVzOmZ1bmN0aW9uKGEpe3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgicmV0aWxlIik7dmFyIGI9dGhpcy5tYXAuZ2V0U2l6ZSgpLGM9dGhpcy5nZXRUaWxlT3JpZ2luKCksCmQ9dGhpcy5tYXAuZ2V0UmVzb2x1dGlvbigpLGU9dGhpcy5nZXRTZXJ2ZXJSZXNvbHV0aW9uKCksZj1kL2UsZD10aGlzLnRpbGVTaXplLncvZixmPXRoaXMudGlsZVNpemUuaC9mLGc9TWF0aC5jZWlsKGIuaC9mKSsyKnRoaXMuYnVmZmVyKzEsYj1NYXRoLmNlaWwoYi53L2QpKzIqdGhpcy5idWZmZXIrMTt0aGlzLmdyaWRMYXlvdXQ9ZT10aGlzLmNhbGN1bGF0ZUdyaWRMYXlvdXQoYSxjLGUpO3ZhciBjPWUudGlsZWxvbixoPWUudGlsZWxhdCxlPXRoaXMubWFwLmxheWVyQ29udGFpbmVyT3JpZ2luUHgueCxpPXRoaXMubWFwLmxheWVyQ29udGFpbmVyT3JpZ2luUHgueSxqPXRoaXMuZ2V0VGlsZUJvdW5kc0ZvckdyaWRJbmRleCgwLDApLGs9dGhpcy5tYXAuZ2V0Vmlld1BvcnRQeEZyb21Mb25MYXQobmV3IE9wZW5MYXllcnMuTG9uTGF0KGoubGVmdCxqLnRvcCkpO2sueD1NYXRoLnJvdW5kKGsueCktZTtrLnk9TWF0aC5yb3VuZChrLnkpLWk7dmFyIGU9W10saT10aGlzLm1hcC5nZXRDZW50ZXIoKSwKbD0wO2Rve3ZhciBtPXRoaXMuZ3JpZFtsXTttfHwobT1bXSx0aGlzLmdyaWQucHVzaChtKSk7dmFyIG49MDtkb3t2YXIgaj10aGlzLmdldFRpbGVCb3VuZHNGb3JHcmlkSW5kZXgobCxuKSxwPWsuY2xvbmUoKTtwLngrPW4qTWF0aC5yb3VuZChkKTtwLnkrPWwqTWF0aC5yb3VuZChmKTt2YXIgcT1tW25dO3E/cS5tb3ZlVG8oaixwLCExKToocT10aGlzLmFkZFRpbGUoaixwKSx0aGlzLmFkZFRpbGVNb25pdG9yaW5nSG9va3MocSksbS5wdXNoKHEpKTtwPWouZ2V0Q2VudGVyTG9uTGF0KCk7ZS5wdXNoKHt0aWxlOnEsZGlzdGFuY2U6TWF0aC5wb3cocC5sb24taS5sb24sMikrTWF0aC5wb3cocC5sYXQtaS5sYXQsMil9KTtuKz0xfXdoaWxlKGoucmlnaHQ8PWEucmlnaHQrYyp0aGlzLmJ1ZmZlcnx8bjxiKTtsKz0xfXdoaWxlKGouYm90dG9tPj1hLmJvdHRvbS1oKnRoaXMuYnVmZmVyfHxsPGcpO3RoaXMucmVtb3ZlRXhjZXNzVGlsZXMobCxuKTt0aGlzLmdyaWRSZXNvbHV0aW9uPWQ9dGhpcy5nZXRTZXJ2ZXJSZXNvbHV0aW9uKCk7CmUuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLmRpc3RhbmNlLWIuZGlzdGFuY2V9KTthPTA7Zm9yKGQ9ZS5sZW5ndGg7YTxkOysrYSllW2FdLnRpbGUuZHJhdygpfSxnZXRNYXhFeHRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXhFeHRlbnR9LGFkZFRpbGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgdGhpcy50aWxlQ2xhc3ModGhpcyxiLGEsbnVsbCx0aGlzLnRpbGVTaXplLHRoaXMudGlsZU9wdGlvbnMpO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiYWRkdGlsZSIse3RpbGU6Y30pO3JldHVybiBjfSxhZGRUaWxlTW9uaXRvcmluZ0hvb2tzOmZ1bmN0aW9uKGEpe2Eub25Mb2FkU3RhcnQ9ZnVuY3Rpb24oKXshMT09PXRoaXMubG9hZGluZyYmKHRoaXMubG9hZGluZz0hMCx0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvYWRzdGFydCIpKTt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoInRpbGVsb2Fkc3RhcnQiLHt0aWxlOmF9KTt0aGlzLm51bUxvYWRpbmdUaWxlcysrOwohdGhpcy5zaW5nbGVUaWxlJiYodGhpcy5iYWNrQnVmZmVyJiZ0aGlzLmdyaWRSZXNvbHV0aW9uPT09dGhpcy5iYWNrQnVmZmVyUmVzb2x1dGlvbikmJk9wZW5MYXllcnMuRWxlbWVudC5hZGRDbGFzcyhhLmdldFRpbGUoKSwib2xUaWxlUmVwbGFjaW5nIil9O2Eub25Mb2FkRW5kPWZ1bmN0aW9uKGIpe3RoaXMubnVtTG9hZGluZ1RpbGVzLS07Yj0idW5sb2FkIj09PWIudHlwZTt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoInRpbGVsb2FkZWQiLHt0aWxlOmEsYWJvcnRlZDpifSk7aWYoIXRoaXMuc2luZ2xlVGlsZSYmIWImJnRoaXMuYmFja0J1ZmZlciYmdGhpcy5ncmlkUmVzb2x1dGlvbj09PXRoaXMuYmFja0J1ZmZlclJlc29sdXRpb24pe3ZhciBjPWEuZ2V0VGlsZSgpO2lmKCJub25lIj09PU9wZW5MYXllcnMuRWxlbWVudC5nZXRTdHlsZShjLCJkaXNwbGF5Iikpe3ZhciBkPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEuaWQrIl9iYiIpO2QmJmQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkKX1PcGVuTGF5ZXJzLkVsZW1lbnQucmVtb3ZlQ2xhc3MoYywKIm9sVGlsZVJlcGxhY2luZyIpfWlmKDA9PT10aGlzLm51bUxvYWRpbmdUaWxlcyl7aWYodGhpcy5iYWNrQnVmZmVyKWlmKDA9PT10aGlzLmJhY2tCdWZmZXIuY2hpbGROb2Rlcy5sZW5ndGgpdGhpcy5yZW1vdmVCYWNrQnVmZmVyKCk7ZWxzZXt0aGlzLl90cmFuc2l0aW9uRWxlbWVudD1iP3RoaXMuZGl2Lmxhc3RDaGlsZDphLmltZ0RpdjtiPXRoaXMudHJhbnNpdGlvbmVuZEV2ZW50cztmb3IoYz1iLmxlbmd0aC0xOzA8PWM7LS1jKU9wZW5MYXllcnMuRXZlbnQub2JzZXJ2ZSh0aGlzLl90cmFuc2l0aW9uRWxlbWVudCxiW2NdLHRoaXMuX3JlbW92ZUJhY2tCdWZmZXIpO3RoaXMuYmFja0J1ZmZlclRpbWVySWQ9d2luZG93LnNldFRpbWVvdXQodGhpcy5fcmVtb3ZlQmFja0J1ZmZlcix0aGlzLnJlbW92ZUJhY2tCdWZmZXJEZWxheSl9dGhpcy5sb2FkaW5nPSExO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgibG9hZGVuZCIpfX07YS5vbkxvYWRFcnJvcj1mdW5jdGlvbigpe3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgidGlsZWVycm9yIiwKe3RpbGU6YX0pfTthLmV2ZW50cy5vbih7bG9hZHN0YXJ0OmEub25Mb2FkU3RhcnQsbG9hZGVuZDphLm9uTG9hZEVuZCx1bmxvYWQ6YS5vbkxvYWRFbmQsbG9hZGVycm9yOmEub25Mb2FkRXJyb3Isc2NvcGU6dGhpc30pfSxyZW1vdmVUaWxlTW9uaXRvcmluZ0hvb2tzOmZ1bmN0aW9uKGEpe2EudW5sb2FkKCk7YS5ldmVudHMudW4oe2xvYWRzdGFydDphLm9uTG9hZFN0YXJ0LGxvYWRlbmQ6YS5vbkxvYWRFbmQsdW5sb2FkOmEub25Mb2FkRW5kLGxvYWRlcnJvcjphLm9uTG9hZEVycm9yLHNjb3BlOnRoaXN9KX0sbW92ZUdyaWRkZWRUaWxlczpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmJ1ZmZlcisxOzspe3ZhciBiPXRoaXMuZ3JpZFswXVswXSxjPWIucG9zaXRpb24ueCt0aGlzLm1hcC5sYXllckNvbnRhaW5lck9yaWdpblB4LngsYj1iLnBvc2l0aW9uLnkrdGhpcy5tYXAubGF5ZXJDb250YWluZXJPcmlnaW5QeC55LGQ9dGhpcy5nZXRTZXJ2ZXJSZXNvbHV0aW9uKCkvdGhpcy5tYXAuZ2V0UmVzb2x1dGlvbigpLApkPXt3Ok1hdGgucm91bmQodGhpcy50aWxlU2l6ZS53KmQpLGg6TWF0aC5yb3VuZCh0aGlzLnRpbGVTaXplLmgqZCl9O2lmKGM+LWQudyooYS0xKSl0aGlzLnNoaWZ0Q29sdW1uKCEwLGQpO2Vsc2UgaWYoYzwtZC53KmEpdGhpcy5zaGlmdENvbHVtbighMSxkKTtlbHNlIGlmKGI+LWQuaCooYS0xKSl0aGlzLnNoaWZ0Um93KCEwLGQpO2Vsc2UgaWYoYjwtZC5oKmEpdGhpcy5zaGlmdFJvdyghMSxkKTtlbHNlIGJyZWFrfX0sc2hpZnRSb3c6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdyaWQsZD1hPzA6Yy5sZW5ndGgtMSxlPWE/LTE6MTt0aGlzLmdyaWRMYXlvdXQuc3RhcnRyb3crPWUqdGhpcy5yb3dTaWduO2Zvcih2YXIgZj1jW2RdLGc9Y1thPyJwb3AiOiJzaGlmdCJdKCksaD0wLGk9Zy5sZW5ndGg7aDxpO2grKyl7dmFyIGo9Z1toXSxrPWZbaF0ucG9zaXRpb24uY2xvbmUoKTtrLnkrPWIuaCplO2oubW92ZVRvKHRoaXMuZ2V0VGlsZUJvdW5kc0ZvckdyaWRJbmRleChkLGgpLGspfWNbYT8KInVuc2hpZnQiOiJwdXNoIl0oZyl9LHNoaWZ0Q29sdW1uOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5ncmlkLGQ9YT8wOmNbMF0ubGVuZ3RoLTEsZT1hPy0xOjE7dGhpcy5ncmlkTGF5b3V0LnN0YXJ0Y29sKz1lO2Zvcih2YXIgZj0wLGc9Yy5sZW5ndGg7ZjxnO2YrKyl7dmFyIGg9Y1tmXSxpPWhbZF0ucG9zaXRpb24uY2xvbmUoKSxqPWhbYT8icG9wIjoic2hpZnQiXSgpO2kueCs9Yi53KmU7ai5tb3ZlVG8odGhpcy5nZXRUaWxlQm91bmRzRm9yR3JpZEluZGV4KGYsZCksaSk7aFthPyJ1bnNoaWZ0IjoicHVzaCJdKGopfX0scmVtb3ZlRXhjZXNzVGlsZXM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZDt0aGlzLmdyaWQubGVuZ3RoPmE7KXt2YXIgZT10aGlzLmdyaWQucG9wKCk7Yz0wO2ZvcihkPWUubGVuZ3RoO2M8ZDtjKyspe3ZhciBmPWVbY107dGhpcy5kZXN0cm95VGlsZShmKX19Yz0wO2ZvcihkPXRoaXMuZ3JpZC5sZW5ndGg7YzxkO2MrKylmb3IoO3RoaXMuZ3JpZFtjXS5sZW5ndGg+CmI7KWU9dGhpcy5ncmlkW2NdLGY9ZS5wb3AoKSx0aGlzLmRlc3Ryb3lUaWxlKGYpfSxvbk1hcFJlc2l6ZTpmdW5jdGlvbigpe3RoaXMuc2luZ2xlVGlsZSYmKHRoaXMuY2xlYXJHcmlkKCksdGhpcy5zZXRUaWxlU2l6ZSgpKX0sZ2V0VGlsZUJvdW5kczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm1heEV4dGVudCxjPXRoaXMuZ2V0UmVzb2x1dGlvbigpLGQ9Yyp0aGlzLnRpbGVTaXplLncsYz1jKnRoaXMudGlsZVNpemUuaCxlPXRoaXMuZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHgoYSksYT1iLmxlZnQrZCpNYXRoLmZsb29yKChlLmxvbi1iLmxlZnQpL2QpLGI9Yi5ib3R0b20rYypNYXRoLmZsb29yKChlLmxhdC1iLmJvdHRvbSkvYyk7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhhLGIsYStkLGIrYyl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuTGF5ZXIuR3JpZCJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5BcmNYTUw9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwse2ZvbnRTdHlsZUtleXM6ImFudGlhbGlhc2luZyBibG9ja291dCBmb250IGZvbnRjb2xvciBmb250c2l6ZSBmb250c3R5bGUgZ2xvd2luZyBpbnRlcnZhbCBvdXRsaW5lIHByaW50bW9kZSBzaGFkb3cgdHJhbnNwYXJlbmN5Ii5zcGxpdCgiICIpLHJlcXVlc3Q6bnVsbCxyZXNwb25zZTpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7dGhpcy5yZXF1ZXN0PW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5BcmNYTUwuUmVxdWVzdDt0aGlzLnJlc3BvbnNlPW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5BcmNYTUwuUmVzcG9uc2U7aWYoYSlpZigiZmVhdHVyZSI9PWEucmVxdWVzdHR5cGUpe3RoaXMucmVxdWVzdC5nZXRfaW1hZ2U9bnVsbDt2YXIgYj10aGlzLnJlcXVlc3QuZ2V0X2ZlYXR1cmUucXVlcnk7dGhpcy5hZGRDb29yZFN5cyhiLmZlYXR1cmVjb29yZHN5cyxhLmZlYXR1cmVDb29yZFN5cyk7CnRoaXMuYWRkQ29vcmRTeXMoYi5maWx0ZXJjb29yZHN5cyxhLmZpbHRlckNvb3JkU3lzKTthLnBvbHlnb24/KGIuaXNzcGF0aWFsPSEwLGIuc3BhdGlhbGZpbHRlci5wb2x5Z29uPWEucG9seWdvbik6YS5lbnZlbG9wZSYmKGIuaXNzcGF0aWFsPSEwLGIuc3BhdGlhbGZpbHRlci5lbnZlbG9wZT17bWlueDowLG1pbnk6MCxtYXh4OjAsbWF4eTowfSx0aGlzLnBhcnNlRW52ZWxvcGUoYi5zcGF0aWFsZmlsdGVyLmVudmVsb3BlLGEuZW52ZWxvcGUpKX1lbHNlImltYWdlIj09YS5yZXF1ZXN0dHlwZT8odGhpcy5yZXF1ZXN0LmdldF9mZWF0dXJlPW51bGwsYj10aGlzLnJlcXVlc3QuZ2V0X2ltYWdlLnByb3BlcnRpZXMsdGhpcy5wYXJzZUVudmVsb3BlKGIuZW52ZWxvcGUsYS5lbnZlbG9wZSksdGhpcy5hZGRMYXllcnMoYi5sYXllcmxpc3QsYS5sYXllcnMpLHRoaXMuYWRkSW1hZ2VTaXplKGIuaW1hZ2VzaXplLGEudGlsZVNpemUpLHRoaXMuYWRkQ29vcmRTeXMoYi5mZWF0dXJlY29vcmRzeXMsCmEuZmVhdHVyZUNvb3JkU3lzKSx0aGlzLmFkZENvb3JkU3lzKGIuZmlsdGVyY29vcmRzeXMsYS5maWx0ZXJDb29yZFN5cykpOnRoaXMucmVxdWVzdD1udWxsO09wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSl9LHBhcnNlRW52ZWxvcGU6ZnVuY3Rpb24oYSxiKXtiJiY0PT1iLmxlbmd0aCYmKGEubWlueD1iWzBdLGEubWlueT1iWzFdLGEubWF4eD1iWzJdLGEubWF4eT1iWzNdKX0sYWRkTGF5ZXJzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1iLmxlbmd0aDtjPGQ7YysrKWEucHVzaChiW2NdKX0sYWRkSW1hZ2VTaXplOmZ1bmN0aW9uKGEsYil7bnVsbCE9PWImJihhLndpZHRoPWIudyxhLmhlaWdodD1iLmgsYS5wcmludHdpZHRoPWIudyxhLnByaW50aGVpZ2h0PWIuaCl9LGFkZENvb3JkU3lzOmZ1bmN0aW9uKGEsYil7InN0cmluZyI9PXR5cGVvZiBiPyhhLmlkPXBhcnNlSW50KGIpLGEuc3RyaW5nPWIpOiJvYmplY3QiPT10eXBlb2YgYiYmCm51bGwhPT1iLnByb2omJihhLmlkPWIucHJvai5zcnNQcm9qTnVtYmVyLGEuc3RyaW5nPWIucHJvai5zcnNDb2RlKX0saXNlcnJvcjpmdW5jdGlvbihhKXt2YXIgYj1udWxsO2E/KGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSxhPWEuZG9jdW1lbnRFbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJFUlJPUiIpLGI9bnVsbCE9PWEmJjA8YS5sZW5ndGgpOmI9IiIhPT10aGlzLnJlc3BvbnNlLmVycm9yO3JldHVybiBifSxyZWFkOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7dmFyIGI9bnVsbDthJiZhLmRvY3VtZW50RWxlbWVudCYmKGI9IkFSQ1hNTCI9PWEuZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lP2EuZG9jdW1lbnRFbGVtZW50OmEuZG9jdW1lbnRFbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJBUkNYTUwiKVswXSk7CmlmKCFifHwicGFyc2VyZXJyb3IiPT09Yi5maXJzdENoaWxkLm5vZGVOYW1lKXt2YXIgYyxkO3RyeXtjPWEuZmlyc3RDaGlsZC5ub2RlVmFsdWUsZD1hLmZpcnN0Q2hpbGQuY2hpbGROb2Rlc1sxXS5maXJzdENoaWxkLm5vZGVWYWx1ZX1jYXRjaChlKXt9dGhyb3d7bWVzc2FnZToiRXJyb3IgcGFyc2luZyB0aGUgQXJjWE1MIHJlcXVlc3QiLGVycm9yOmMsc291cmNlOmR9O31yZXR1cm4gdGhpcy5wYXJzZVJlc3BvbnNlKGIpfSx3cml0ZTpmdW5jdGlvbihhKXthfHwoYT10aGlzLnJlcXVlc3QpO3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TKCIiLCJBUkNYTUwiKTtiLnNldEF0dHJpYnV0ZSgidmVyc2lvbiIsIjEuMSIpO3ZhciBjPXRoaXMuY3JlYXRlRWxlbWVudE5TKCIiLCJSRVFVRVNUIik7aWYobnVsbCE9YS5nZXRfaW1hZ2Upe3ZhciBkPXRoaXMuY3JlYXRlRWxlbWVudE5TKCIiLCJHRVRfSU1BR0UiKTtjLmFwcGVuZENoaWxkKGQpO3ZhciBlPXRoaXMuY3JlYXRlRWxlbWVudE5TKCIiLAoiUFJPUEVSVElFUyIpO2QuYXBwZW5kQ2hpbGQoZSk7YT1hLmdldF9pbWFnZS5wcm9wZXJ0aWVzO251bGwhPWEuZmVhdHVyZWNvb3Jkc3lzJiYoZD10aGlzLmNyZWF0ZUVsZW1lbnROUygiIiwiRkVBVFVSRUNPT1JEU1lTIiksZS5hcHBlbmRDaGlsZChkKSwwPT09YS5mZWF0dXJlY29vcmRzeXMuaWQ/ZC5zZXRBdHRyaWJ1dGUoInN0cmluZyIsYS5mZWF0dXJlY29vcmRzeXMuc3RyaW5nKTpkLnNldEF0dHJpYnV0ZSgiaWQiLGEuZmVhdHVyZWNvb3Jkc3lzLmlkKSk7bnVsbCE9YS5maWx0ZXJjb29yZHN5cyYmKGQ9dGhpcy5jcmVhdGVFbGVtZW50TlMoIiIsIkZJTFRFUkNPT1JEU1lTIiksZS5hcHBlbmRDaGlsZChkKSwwPT09YS5maWx0ZXJjb29yZHN5cy5pZD9kLnNldEF0dHJpYnV0ZSgic3RyaW5nIixhLmZpbHRlcmNvb3Jkc3lzLnN0cmluZyk6ZC5zZXRBdHRyaWJ1dGUoImlkIixhLmZpbHRlcmNvb3Jkc3lzLmlkKSk7bnVsbCE9YS5lbnZlbG9wZSYmKGQ9dGhpcy5jcmVhdGVFbGVtZW50TlMoIiIsCiJFTlZFTE9QRSIpLGUuYXBwZW5kQ2hpbGQoZCksZC5zZXRBdHRyaWJ1dGUoIm1pbngiLGEuZW52ZWxvcGUubWlueCksZC5zZXRBdHRyaWJ1dGUoIm1pbnkiLGEuZW52ZWxvcGUubWlueSksZC5zZXRBdHRyaWJ1dGUoIm1heHgiLGEuZW52ZWxvcGUubWF4eCksZC5zZXRBdHRyaWJ1dGUoIm1heHkiLGEuZW52ZWxvcGUubWF4eSkpO2Q9dGhpcy5jcmVhdGVFbGVtZW50TlMoIiIsIklNQUdFU0laRSIpO2UuYXBwZW5kQ2hpbGQoZCk7ZC5zZXRBdHRyaWJ1dGUoImhlaWdodCIsYS5pbWFnZXNpemUuaGVpZ2h0KTtkLnNldEF0dHJpYnV0ZSgid2lkdGgiLGEuaW1hZ2VzaXplLndpZHRoKTtpZihhLmltYWdlc2l6ZS5oZWlnaHQhPWEuaW1hZ2VzaXplLnByaW50aGVpZ2h0fHxhLmltYWdlc2l6ZS53aWR0aCE9YS5pbWFnZXNpemUucHJpbnR3aWR0aClkLnNldEF0dHJpYnV0ZSgicHJpbnRoZWlnaHQiLGEuaW1hZ2VzaXplLnByaW50aGVpZ2h0KSxkLnNldEFycnRpYnV0ZSgicHJpbnR3aWR0aCIsYS5pbWFnZXNpemUucHJpbnR3aWR0aCk7Cm51bGwhPWEuYmFja2dyb3VuZCYmKGQ9dGhpcy5jcmVhdGVFbGVtZW50TlMoIiIsIkJBQ0tHUk9VTkQiKSxlLmFwcGVuZENoaWxkKGQpLGQuc2V0QXR0cmlidXRlKCJjb2xvciIsYS5iYWNrZ3JvdW5kLmNvbG9yLnIrIiwiK2EuYmFja2dyb3VuZC5jb2xvci5nKyIsIithLmJhY2tncm91bmQuY29sb3IuYiksbnVsbCE9PWEuYmFja2dyb3VuZC50cmFuc2NvbG9yJiZkLnNldEF0dHJpYnV0ZSgidHJhbnNjb2xvciIsYS5iYWNrZ3JvdW5kLnRyYW5zY29sb3IucisiLCIrYS5iYWNrZ3JvdW5kLnRyYW5zY29sb3IuZysiLCIrYS5iYWNrZ3JvdW5kLnRyYW5zY29sb3IuYikpO2lmKG51bGwhPWEubGF5ZXJsaXN0JiYwPGEubGF5ZXJsaXN0Lmxlbmd0aCl7ZD10aGlzLmNyZWF0ZUVsZW1lbnROUygiIiwiTEFZRVJMSVNUIik7ZS5hcHBlbmRDaGlsZChkKTtmb3IoZT0wO2U8YS5sYXllcmxpc3QubGVuZ3RoO2UrKyl7dmFyIGY9dGhpcy5jcmVhdGVFbGVtZW50TlMoIiIsIkxBWUVSREVGIik7ZC5hcHBlbmRDaGlsZChmKTsKZi5zZXRBdHRyaWJ1dGUoImlkIixhLmxheWVybGlzdFtlXS5pZCk7Zi5zZXRBdHRyaWJ1dGUoInZpc2libGUiLGEubGF5ZXJsaXN0W2VdLnZpc2libGUpO2lmKCJvYmplY3QiPT10eXBlb2YgYS5sYXllcmxpc3RbZV0ucXVlcnkpe3ZhciBnPWEubGF5ZXJsaXN0W2VdLnF1ZXJ5O2lmKDA+Zy53aGVyZS5sZW5ndGgpY29udGludWU7dmFyIGg9bnVsbCxoPSJib29sZWFuIj09dHlwZW9mIGcuc3BhdGlhbGZpbHRlciYmZy5zcGF0aWFsZmlsdGVyP3RoaXMuY3JlYXRlRWxlbWVudE5TKCIiLCJTUEFUSUFMUVVFUlkiKTp0aGlzLmNyZWF0ZUVsZW1lbnROUygiIiwiUVVFUlkiKTtoLnNldEF0dHJpYnV0ZSgid2hlcmUiLGcud2hlcmUpOyJudW1iZXIiPT10eXBlb2YgZy5hY2N1cmFjeSYmMDxnLmFjY3VyYWN5JiZoLnNldEF0dHJpYnV0ZSgiYWNjdXJhY3kiLGcuYWNjdXJhY3kpOyJudW1iZXIiPT10eXBlb2YgZy5mZWF0dXJlbGltaXQmJjJFMz5nLmZlYXR1cmVsaW1pdCYmaC5zZXRBdHRyaWJ1dGUoImZlYXR1cmVsaW1pdCIsCmcuZmVhdHVyZWxpbWl0KTsic3RyaW5nIj09dHlwZW9mIGcuc3ViZmllbGRzJiYiI0FMTCMiIT1nLnN1YmZpZWxkcyYmaC5zZXRBdHRyaWJ1dGUoInN1YmZpZWxkcyIsZy5zdWJmaWVsZHMpOyJzdHJpbmciPT10eXBlb2YgZy5qb2luZXhwcmVzc2lvbiYmMDxnLmpvaW5leHByZXNzaW9uLmxlbmd0aCYmaC5zZXRBdHRyaWJ1dGUoImpvaW5leHByZXNzaW9uIixnLmpvaW5leHByZXNzaW9uKTsic3RyaW5nIj09dHlwZW9mIGcuam9pbnRhYmxlcyYmMDxnLmpvaW50YWJsZXMubGVuZ3RoJiZoLnNldEF0dHJpYnV0ZSgiam9pbnRhYmxlcyIsZy5qb2ludGFibGVzKTtmLmFwcGVuZENoaWxkKGgpfSJvYmplY3QiPT10eXBlb2YgYS5sYXllcmxpc3RbZV0ucmVuZGVyZXImJnRoaXMuYWRkUmVuZGVyZXIoZixhLmxheWVybGlzdFtlXS5yZW5kZXJlcil9fX1lbHNlIG51bGwhPWEuZ2V0X2ZlYXR1cmUmJihkPXRoaXMuY3JlYXRlRWxlbWVudE5TKCIiLCJHRVRfRkVBVFVSRVMiKSxkLnNldEF0dHJpYnV0ZSgib3V0cHV0bW9kZSIsCiJuZXd4bWwiKSxkLnNldEF0dHJpYnV0ZSgiY2hlY2tlc2MiLCJ0cnVlIiksYS5nZXRfZmVhdHVyZS5nZW9tZXRyeT9kLnNldEF0dHJpYnV0ZSgiZ2VvbWV0cnkiLGEuZ2V0X2ZlYXR1cmUuZ2VvbWV0cnkpOmQuc2V0QXR0cmlidXRlKCJnZW9tZXRyeSIsImZhbHNlIiksYS5nZXRfZmVhdHVyZS5jb21wYWN0JiZkLnNldEF0dHJpYnV0ZSgiY29tcGFjdCIsYS5nZXRfZmVhdHVyZS5jb21wYWN0KSwibnVtYmVyIj09YS5nZXRfZmVhdHVyZS5mZWF0dXJlbGltaXQmJmQuc2V0QXR0cmlidXRlKCJmZWF0dXJlbGltaXQiLGEuZ2V0X2ZlYXR1cmUuZmVhdHVyZWxpbWl0KSxkLnNldEF0dHJpYnV0ZSgiZ2xvYmFsZW52ZWxvcGUiLCJ0cnVlIiksYy5hcHBlbmRDaGlsZChkKSxudWxsIT1hLmdldF9mZWF0dXJlLmxheWVyJiYwPGEuZ2V0X2ZlYXR1cmUubGF5ZXIubGVuZ3RoJiYoZT10aGlzLmNyZWF0ZUVsZW1lbnROUygiIiwiTEFZRVIiKSxlLnNldEF0dHJpYnV0ZSgiaWQiLGEuZ2V0X2ZlYXR1cmUubGF5ZXIpLApkLmFwcGVuZENoaWxkKGUpKSxhPWEuZ2V0X2ZlYXR1cmUucXVlcnksbnVsbCE9YSYmKGU9bnVsbCxlPWEuaXNzcGF0aWFsP3RoaXMuY3JlYXRlRWxlbWVudE5TKCIiLCJTUEFUSUFMUVVFUlkiKTp0aGlzLmNyZWF0ZUVsZW1lbnROUygiIiwiUVVFUlkiKSxkLmFwcGVuZENoaWxkKGUpLCJudW1iZXIiPT10eXBlb2YgYS5hY2N1cmFjeSYmZS5zZXRBdHRyaWJ1dGUoImFjY3VyYWN5IixhLmFjY3VyYWN5KSxudWxsIT1hLmZlYXR1cmVjb29yZHN5cyYmKGQ9dGhpcy5jcmVhdGVFbGVtZW50TlMoIiIsIkZFQVRVUkVDT09SRFNZUyIpLDA9PWEuZmVhdHVyZWNvb3Jkc3lzLmlkP2Quc2V0QXR0cmlidXRlKCJzdHJpbmciLGEuZmVhdHVyZWNvb3Jkc3lzLnN0cmluZyk6ZC5zZXRBdHRyaWJ1dGUoImlkIixhLmZlYXR1cmVjb29yZHN5cy5pZCksZS5hcHBlbmRDaGlsZChkKSksbnVsbCE9YS5maWx0ZXJjb29yZHN5cyYmKGQ9dGhpcy5jcmVhdGVFbGVtZW50TlMoIiIsIkZJTFRFUkNPT1JEU1lTIiksCjA9PT1hLmZpbHRlcmNvb3Jkc3lzLmlkP2Quc2V0QXR0cmlidXRlKCJzdHJpbmciLGEuZmlsdGVyY29vcmRzeXMuc3RyaW5nKTpkLnNldEF0dHJpYnV0ZSgiaWQiLGEuZmlsdGVyY29vcmRzeXMuaWQpLGUuYXBwZW5kQ2hpbGQoZCkpLDA8YS5idWZmZXImJihkPXRoaXMuY3JlYXRlRWxlbWVudE5TKCIiLCJCVUZGRVIiKSxkLnNldEF0dHJpYnV0ZSgiZGlzdGFuY2UiLGEuYnVmZmVyKSxlLmFwcGVuZENoaWxkKGQpKSxhLmlzc3BhdGlhbCYmKGQ9dGhpcy5jcmVhdGVFbGVtZW50TlMoIiIsIlNQQVRJQUxGSUxURVIiKSxkLnNldEF0dHJpYnV0ZSgicmVsYXRpb24iLGEuc3BhdGlhbGZpbHRlci5yZWxhdGlvbiksZS5hcHBlbmRDaGlsZChkKSxhLnNwYXRpYWxmaWx0ZXIuZW52ZWxvcGU/KGY9dGhpcy5jcmVhdGVFbGVtZW50TlMoIiIsIkVOVkVMT1BFIiksZi5zZXRBdHRyaWJ1dGUoIm1pbngiLGEuc3BhdGlhbGZpbHRlci5lbnZlbG9wZS5taW54KSxmLnNldEF0dHJpYnV0ZSgibWlueSIsYS5zcGF0aWFsZmlsdGVyLmVudmVsb3BlLm1pbnkpLApmLnNldEF0dHJpYnV0ZSgibWF4eCIsYS5zcGF0aWFsZmlsdGVyLmVudmVsb3BlLm1heHgpLGYuc2V0QXR0cmlidXRlKCJtYXh5IixhLnNwYXRpYWxmaWx0ZXIuZW52ZWxvcGUubWF4eSksZC5hcHBlbmRDaGlsZChmKSk6Im9iamVjdCI9PXR5cGVvZiBhLnNwYXRpYWxmaWx0ZXIucG9seWdvbiYmZC5hcHBlbmRDaGlsZCh0aGlzLndyaXRlUG9seWdvbkdlb21ldHJ5KGEuc3BhdGlhbGZpbHRlci5wb2x5Z29uKSkpLG51bGwhPWEud2hlcmUmJjA8YS53aGVyZS5sZW5ndGgmJmUuc2V0QXR0cmlidXRlKCJ3aGVyZSIsYS53aGVyZSkpKTtiLmFwcGVuZENoaWxkKGMpO3JldHVybiBPcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLndyaXRlLmFwcGx5KHRoaXMsW2JdKX0sYWRkR3JvdXBSZW5kZXJlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3JlYXRlRWxlbWVudE5TKCIiLCJHUk9VUFJFTkRFUkVSIik7YS5hcHBlbmRDaGlsZChjKTtmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKyl0aGlzLmFkZFJlbmRlcmVyKGMsCmJbZF0pfSxhZGRSZW5kZXJlcjpmdW5jdGlvbihhLGIpe2lmKE9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGIpKXRoaXMuYWRkR3JvdXBSZW5kZXJlcihhLGIpO2Vsc2V7dmFyIGM9dGhpcy5jcmVhdGVFbGVtZW50TlMoIiIsYi50eXBlLnRvVXBwZXJDYXNlKCkrIlJFTkRFUkVSIik7YS5hcHBlbmRDaGlsZChjKTsiVkFMVUVNQVBSRU5ERVJFUiI9PWMudGFnTmFtZT90aGlzLmFkZFZhbHVlTWFwUmVuZGVyZXIoYyxiKToiVkFMVUVNQVBMQUJFTFJFTkRFUkVSIj09Yy50YWdOYW1lP3RoaXMuYWRkVmFsdWVNYXBMYWJlbFJlbmRlcmVyKGMsYik6IlNJTVBMRUxBQkVMUkVOREVSRVIiPT1jLnRhZ05hbWU/dGhpcy5hZGRTaW1wbGVMYWJlbFJlbmRlcmVyKGMsYik6IlNDQUxFREVQRU5ERU5UUkVOREVSRVIiPT1jLnRhZ05hbWUmJnRoaXMuYWRkU2NhbGVEZXBlbmRlbnRSZW5kZXJlcihjLGIpfX0sYWRkU2NhbGVEZXBlbmRlbnRSZW5kZXJlcjpmdW5jdGlvbihhLGIpeygic3RyaW5nIj09dHlwZW9mIGIubG93ZXJ8fAoibnVtYmVyIj09dHlwZW9mIGIubG93ZXIpJiZhLnNldEF0dHJpYnV0ZSgibG93ZXIiLGIubG93ZXIpOygic3RyaW5nIj09dHlwZW9mIGIudXBwZXJ8fCJudW1iZXIiPT10eXBlb2YgYi51cHBlcikmJmEuc2V0QXR0cmlidXRlKCJ1cHBlciIsYi51cHBlcik7dGhpcy5hZGRSZW5kZXJlcihhLGIucmVuZGVyZXIpfSxhZGRWYWx1ZU1hcExhYmVsUmVuZGVyZXI6ZnVuY3Rpb24oYSxiKXthLnNldEF0dHJpYnV0ZSgibG9va3VwZmllbGQiLGIubG9va3VwZmllbGQpO2Euc2V0QXR0cmlidXRlKCJsYWJlbGZpZWxkIixiLmxhYmVsZmllbGQpO2lmKCJvYmplY3QiPT10eXBlb2YgYi5leGFjdHMpZm9yKHZhciBjPTAsZD1iLmV4YWN0cy5sZW5ndGg7YzxkO2MrKyl7dmFyIGU9Yi5leGFjdHNbY10sZj10aGlzLmNyZWF0ZUVsZW1lbnROUygiIiwiRVhBQ1QiKTsic3RyaW5nIj09dHlwZW9mIGUudmFsdWUmJmYuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsZS52YWx1ZSk7InN0cmluZyI9PXR5cGVvZiBlLmxhYmVsJiYKZi5zZXRBdHRyaWJ1dGUoImxhYmVsIixlLmxhYmVsKTsic3RyaW5nIj09dHlwZW9mIGUubWV0aG9kJiZmLnNldEF0dHJpYnV0ZSgibWV0aG9kIixlLm1ldGhvZCk7YS5hcHBlbmRDaGlsZChmKTtpZigib2JqZWN0Ij09dHlwZW9mIGUuc3ltYm9sKXt2YXIgZz1udWxsOyJ0ZXh0Ij09ZS5zeW1ib2wudHlwZSYmKGc9dGhpcy5jcmVhdGVFbGVtZW50TlMoIiIsIlRFWFRTWU1CT0wiKSk7aWYobnVsbCE9Zyl7Zm9yKHZhciBoPXRoaXMuZm9udFN0eWxlS2V5cyxpPTAsaj1oLmxlbmd0aDtpPGo7aSsrKXt2YXIgaz1oW2ldO2Uuc3ltYm9sW2tdJiZnLnNldEF0dHJpYnV0ZShrLGUuc3ltYm9sW2tdKX1mLmFwcGVuZENoaWxkKGcpfX19fSxhZGRWYWx1ZU1hcFJlbmRlcmVyOmZ1bmN0aW9uKGEsYil7YS5zZXRBdHRyaWJ1dGUoImxvb2t1cGZpZWxkIixiLmxvb2t1cGZpZWxkKTtpZigib2JqZWN0Ij09dHlwZW9mIGIucmFuZ2VzKWZvcih2YXIgYz0wLGQ9Yi5yYW5nZXMubGVuZ3RoO2M8ZDtjKyspe3ZhciBlPQpiLnJhbmdlc1tjXSxmPXRoaXMuY3JlYXRlRWxlbWVudE5TKCIiLCJSQU5HRSIpO2Yuc2V0QXR0cmlidXRlKCJsb3dlciIsZS5sb3dlcik7Zi5zZXRBdHRyaWJ1dGUoInVwcGVyIixlLnVwcGVyKTthLmFwcGVuZENoaWxkKGYpO2lmKCJvYmplY3QiPT10eXBlb2YgZS5zeW1ib2wpe3ZhciBnPW51bGw7InNpbXBsZXBvbHlnb24iPT1lLnN5bWJvbC50eXBlJiYoZz10aGlzLmNyZWF0ZUVsZW1lbnROUygiIiwiU0lNUExFUE9MWUdPTlNZTUJPTCIpKTtudWxsIT1nJiYoInN0cmluZyI9PXR5cGVvZiBlLnN5bWJvbC5ib3VuZGFyeWNvbG9yJiZnLnNldEF0dHJpYnV0ZSgiYm91bmRhcnljb2xvciIsZS5zeW1ib2wuYm91bmRhcnljb2xvciksInN0cmluZyI9PXR5cGVvZiBlLnN5bWJvbC5maWxsY29sb3ImJmcuc2V0QXR0cmlidXRlKCJmaWxsY29sb3IiLGUuc3ltYm9sLmZpbGxjb2xvciksIm51bWJlciI9PXR5cGVvZiBlLnN5bWJvbC5maWxsdHJhbnNwYXJlbmN5JiZnLnNldEF0dHJpYnV0ZSgiZmlsbHRyYW5zcGFyZW5jeSIsCmUuc3ltYm9sLmZpbGx0cmFuc3BhcmVuY3kpLGYuYXBwZW5kQ2hpbGQoZykpfX1lbHNlIGlmKCJvYmplY3QiPT10eXBlb2YgYi5leGFjdHMpe2M9MDtmb3IoZD1iLmV4YWN0cy5sZW5ndGg7YzxkO2MrKyllPWIuZXhhY3RzW2NdLGY9dGhpcy5jcmVhdGVFbGVtZW50TlMoIiIsIkVYQUNUIiksInN0cmluZyI9PXR5cGVvZiBlLnZhbHVlJiZmLnNldEF0dHJpYnV0ZSgidmFsdWUiLGUudmFsdWUpLCJzdHJpbmciPT10eXBlb2YgZS5sYWJlbCYmZi5zZXRBdHRyaWJ1dGUoImxhYmVsIixlLmxhYmVsKSwic3RyaW5nIj09dHlwZW9mIGUubWV0aG9kJiZmLnNldEF0dHJpYnV0ZSgibWV0aG9kIixlLm1ldGhvZCksYS5hcHBlbmRDaGlsZChmKSwib2JqZWN0Ij09dHlwZW9mIGUuc3ltYm9sJiYoZz1udWxsLCJzaW1wbGVtYXJrZXIiPT1lLnN5bWJvbC50eXBlJiYoZz10aGlzLmNyZWF0ZUVsZW1lbnROUygiIiwiU0lNUExFTUFSS0VSU1lNQk9MIikpLG51bGwhPWcmJigic3RyaW5nIj09dHlwZW9mIGUuc3ltYm9sLmFudGlhbGlhc2luZyYmCmcuc2V0QXR0cmlidXRlKCJhbnRpYWxpYXNpbmciLGUuc3ltYm9sLmFudGlhbGlhc2luZyksInN0cmluZyI9PXR5cGVvZiBlLnN5bWJvbC5jb2xvciYmZy5zZXRBdHRyaWJ1dGUoImNvbG9yIixlLnN5bWJvbC5jb2xvciksInN0cmluZyI9PXR5cGVvZiBlLnN5bWJvbC5vdXRsaW5lJiZnLnNldEF0dHJpYnV0ZSgib3V0bGluZSIsZS5zeW1ib2wub3V0bGluZSksInN0cmluZyI9PXR5cGVvZiBlLnN5bWJvbC5vdmVybGFwJiZnLnNldEF0dHJpYnV0ZSgib3ZlcmxhcCIsZS5zeW1ib2wub3ZlcmxhcCksInN0cmluZyI9PXR5cGVvZiBlLnN5bWJvbC5zaGFkb3cmJmcuc2V0QXR0cmlidXRlKCJzaGFkb3ciLGUuc3ltYm9sLnNoYWRvdyksIm51bWJlciI9PXR5cGVvZiBlLnN5bWJvbC50cmFuc3BhcmVuY3kmJmcuc2V0QXR0cmlidXRlKCJ0cmFuc3BhcmVuY3kiLGUuc3ltYm9sLnRyYW5zcGFyZW5jeSksInN0cmluZyI9PXR5cGVvZiBlLnN5bWJvbC51c2VjZW50cm9pZCYmZy5zZXRBdHRyaWJ1dGUoInVzZWNlbnRyb2lkIiwKZS5zeW1ib2wudXNlY2VudHJvaWQpLCJudW1iZXIiPT10eXBlb2YgZS5zeW1ib2wud2lkdGgmJmcuc2V0QXR0cmlidXRlKCJ3aWR0aCIsZS5zeW1ib2wud2lkdGgpLGYuYXBwZW5kQ2hpbGQoZykpKX19LGFkZFNpbXBsZUxhYmVsUmVuZGVyZXI6ZnVuY3Rpb24oYSxiKXthLnNldEF0dHJpYnV0ZSgiZmllbGQiLGIuZmllbGQpO2Zvcih2YXIgYz0iZmVhdHVyZXdlaWdodCBob3dtYW55bGFiZWxzIGxhYmVsYnVmZmVycmF0aW8gbGFiZWxwcmlvcml0aWVzIGxhYmVsd2VpZ2h0IGxpbmVsYWJlbHBvc2l0aW9uIHJvdGF0aW9uYWxhbmdsZXMiLnNwbGl0KCIgIiksZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKyl7dmFyIGY9Y1tkXTtiW2ZdJiZhLnNldEF0dHJpYnV0ZShmLGJbZl0pfWlmKCJ0ZXh0Ij09Yi5zeW1ib2wudHlwZSl7dmFyIGc9Yi5zeW1ib2wsaD10aGlzLmNyZWF0ZUVsZW1lbnROUygiIiwiVEVYVFNZTUJPTCIpO2EuYXBwZW5kQ2hpbGQoaCk7Yz10aGlzLmZvbnRTdHlsZUtleXM7ZD0wOwpmb3IoZT1jLmxlbmd0aDtkPGU7ZCsrKWY9Y1tkXSxnW2ZdJiZoLnNldEF0dHJpYnV0ZShmLGJbZl0pfX0sd3JpdGVQb2x5Z29uR2VvbWV0cnk6ZnVuY3Rpb24oYSl7aWYoIShhIGluc3RhbmNlb2YgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uKSl0aHJvd3ttZXNzYWdlOiJDYW5ub3Qgd3JpdGUgcG9seWdvbiBnZW9tZXRyeSB0byBBcmNYTUwgd2l0aCBhbiAiK2EuQ0xBU1NfTkFNRSsiIG9iamVjdC4iLGdlb21ldHJ5OmF9O2Zvcih2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUygiIiwiUE9MWUdPTiIpLGM9MCxkPWEuY29tcG9uZW50cy5sZW5ndGg7YzxkO2MrKyl7Zm9yKHZhciBlPWEuY29tcG9uZW50c1tjXSxmPXRoaXMuY3JlYXRlRWxlbWVudE5TKCIiLCJSSU5HIiksZz0wLGg9ZS5jb21wb25lbnRzLmxlbmd0aDtnPGg7ZysrKXt2YXIgaT1lLmNvbXBvbmVudHNbZ10saj10aGlzLmNyZWF0ZUVsZW1lbnROUygiIiwiUE9JTlQiKTtqLnNldEF0dHJpYnV0ZSgieCIsaS54KTtqLnNldEF0dHJpYnV0ZSgieSIsCmkueSk7Zi5hcHBlbmRDaGlsZChqKX1iLmFwcGVuZENoaWxkKGYpfXJldHVybiBifSxwYXJzZVJlc3BvbnNlOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9KG5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5YTUwpLnJlYWQoYSkpO3ZhciBiPW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5BcmNYTUwuUmVzcG9uc2UsYz1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJFUlJPUiIpO2lmKG51bGwhPWMmJjA8Yy5sZW5ndGgpYi5lcnJvcj10aGlzLmdldENoaWxkVmFsdWUoYywiVW5rbm93biBlcnJvci4iKTtlbHNle2M9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiUkVTUE9OU0UiKTtpZihudWxsPT1jfHwwPT1jLmxlbmd0aClyZXR1cm4gYi5lcnJvcj0iTm8gUkVTUE9OU0UgdGFnIGZvdW5kIGluIEFyY1hNTCByZXNwb25zZS4iLGI7dmFyIGQ9Y1swXS5maXJzdENoaWxkLm5vZGVOYW1lOyIjdGV4dCI9PWQmJihkPWNbMF0uZmlyc3RDaGlsZC5uZXh0U2libGluZy5ub2RlTmFtZSk7aWYoIklNQUdFIj09CmQpYz1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJFTlZFTE9QRSIpLGE9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiT1VUUFVUIiksbnVsbD09Y3x8MD09Yy5sZW5ndGg/Yi5lcnJvcj0iTm8gRU5WRUxPUEUgdGFnIGZvdW5kIGluIEFyY1hNTCByZXNwb25zZS4iOm51bGw9PWF8fDA9PWEubGVuZ3RoP2IuZXJyb3I9Ik5vIE9VVFBVVCB0YWcgZm91bmQgaW4gQXJjWE1MIHJlc3BvbnNlLiI6KGM9dGhpcy5wYXJzZUF0dHJpYnV0ZXMoY1swXSksZD10aGlzLnBhcnNlQXR0cmlidXRlcyhhWzBdKSxiLmltYWdlPSJzdHJpbmciPT10eXBlb2YgZC50eXBlP3tlbnZlbG9wZTpjLG91dHB1dDp7dHlwZTpkLnR5cGUsZGF0YTp0aGlzLmdldENoaWxkVmFsdWUoYVswXSl9fTp7ZW52ZWxvcGU6YyxvdXRwdXQ6ZH0pO2Vsc2UgaWYoIkZFQVRVUkVTIj09ZCl7aWYoYT1jWzBdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJGRUFUVVJFUyIpLGM9YVswXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiRkVBVFVSRUNPVU5UIiksCmIuZmVhdHVyZXMuZmVhdHVyZWNvdW50PWNbMF0uZ2V0QXR0cmlidXRlKCJjb3VudCIpLDA8Yi5mZWF0dXJlcy5mZWF0dXJlY291bnQpe2M9YVswXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiRU5WRUxPUEUiKTtiLmZlYXR1cmVzLmVudmVsb3BlPXRoaXMucGFyc2VBdHRyaWJ1dGVzKGNbMF0sIm51bWJlciIpO2E9YVswXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiRkVBVFVSRSIpO2ZvcihjPTA7YzxhLmxlbmd0aDtjKyspe2Zvcih2YXIgZD1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcixlPWFbY10uZ2V0RWxlbWVudHNCeVRhZ05hbWUoIkZJRUxEIiksZj0wO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgZz1lW2ZdLmdldEF0dHJpYnV0ZSgibmFtZSIpLGg9ZVtmXS5nZXRBdHRyaWJ1dGUoInZhbHVlIik7ZC5hdHRyaWJ1dGVzW2ddPWh9ZT1hW2NdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJQT0xZR09OIik7aWYoMDxlLmxlbmd0aCl7ZT1lWzBdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJSSU5HIik7CmY9W107Zm9yKGc9MDtnPGUubGVuZ3RoO2crKyl7aD1bXTtoLnB1c2godGhpcy5wYXJzZVBvaW50R2VvbWV0cnkoZVtnXSkpO2Zvcih2YXIgaT1lW2ddLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJIT0xFIiksaj0wO2o8aS5sZW5ndGg7aisrKWgucHVzaCh0aGlzLnBhcnNlUG9pbnRHZW9tZXRyeShpW2pdKSk7Zi5wdXNoKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24oaCkpfWQuZ2VvbWV0cnk9MT09Zi5sZW5ndGg/ZlswXTpuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aVBvbHlnb24oZil9Yi5mZWF0dXJlcy5mZWF0dXJlLnB1c2goZCl9fX1lbHNlIGIuZXJyb3I9IlVuaWRlbnRpZmllZCByZXNwb25zZSB0eXBlLiJ9cmV0dXJuIGJ9LHBhcnNlQXR0cmlidXRlczpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz17fSxkPTA7ZDxhLmF0dHJpYnV0ZXMubGVuZ3RoO2QrKyljW2EuYXR0cmlidXRlc1tkXS5ub2RlTmFtZV09Im51bWJlciI9PWI/cGFyc2VGbG9hdChhLmF0dHJpYnV0ZXNbZF0ubm9kZVZhbHVlKToKYS5hdHRyaWJ1dGVzW2RdLm5vZGVWYWx1ZTtyZXR1cm4gY30scGFyc2VQb2ludEdlb21ldHJ5OmZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiQ09PUkRTIik7aWYoMDxjLmxlbmd0aCl7YT10aGlzLmdldENoaWxkVmFsdWUoY1swXSk7YT1hLnNwbGl0KC87Lyk7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXS5zcGxpdCgvIC8pO2IucHVzaChuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChkWzBdLGRbMV0pKX19ZWxzZSBpZihhPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIlBPSU5UIiksMDxhLmxlbmd0aClmb3IoYz0wO2M8YS5sZW5ndGg7YysrKWIucHVzaChuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChwYXJzZUZsb2F0KGFbY10uZ2V0QXR0cmlidXRlKCJ4IikpLHBhcnNlRmxvYXQoYVtjXS5nZXRBdHRyaWJ1dGUoInkiKSkpKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyhiKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuQXJjWE1MIn0pOwpPcGVuTGF5ZXJzLkZvcm1hdC5BcmNYTUwuUmVxdWVzdD1PcGVuTGF5ZXJzLkNsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIE9wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcyx7Z2V0X2ltYWdlOntwcm9wZXJ0aWVzOntiYWNrZ3JvdW5kOm51bGwsZHJhdzohMCxlbnZlbG9wZTp7bWlueDowLG1pbnk6MCxtYXh4OjAsbWF4eTowfSxmZWF0dXJlY29vcmRzeXM6e2lkOjAsc3RyaW5nOiIiLGRhdHVtdHJhbnNmb3JtaWQ6MCxkYXR1bXRyYW5zZm9ybXN0cmluZzoiIn0sZmlsdGVyY29vcmRzeXM6e2lkOjAsc3RyaW5nOiIiLGRhdHVtdHJhbnNmb3JtaWQ6MCxkYXR1bXRyYW5zZm9ybXN0cmluZzoiIn0saW1hZ2VzaXplOntoZWlnaHQ6MCx3aWR0aDowLGRwaTo5NixwcmludGhlaWdodDowLHByaW50d2lkdGg6MCxzY2FsZXN5bWJvbHM6ITF9LGxheWVybGlzdDpbXSxvdXRwdXQ6e2Jhc2V1cmw6IiIsbGVnZW5kYmFzZXVybDoiIixsZWdlbmRuYW1lOiIiLGxlZ2VuZHBhdGg6IiIsCmxlZ2VuZHVybDoiIixuYW1lOiIiLHBhdGg6IiIsdHlwZToianBnIix1cmw6IiJ9fX0sZ2V0X2ZlYXR1cmU6e2xheWVyOiIiLHF1ZXJ5Ontpc3NwYXRpYWw6ITEsZmVhdHVyZWNvb3Jkc3lzOntpZDowLHN0cmluZzoiIixkYXR1bXRyYW5zZm9ybWlkOjAsZGF0dW10cmFuc2Zvcm1zdHJpbmc6IiJ9LGZpbHRlcmNvb3Jkc3lzOntpZDowLHN0cmluZzoiIixkYXR1bXRyYW5zZm9ybWlkOjAsZGF0dW10cmFuc2Zvcm1zdHJpbmc6IiJ9LGJ1ZmZlcjowLHdoZXJlOiIiLHNwYXRpYWxmaWx0ZXI6e3JlbGF0aW9uOiJlbnZlbG9wZV9pbnRlcnNlY3Rpb24iLGVudmVsb3BlOm51bGx9fX0sZW52aXJvbm1lbnQ6e3NlcGFyYXRvcnM6e2NzOiIgIix0czoiOyJ9fSxsYXllcjpbXSx3b3Jrc3BhY2VzOltdfSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LkFyY1hNTC5SZXF1ZXN0In0pOwpPcGVuTGF5ZXJzLkZvcm1hdC5BcmNYTUwuUmVzcG9uc2U9T3BlbkxheWVycy5DbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbigpe3JldHVybiBPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMse2ltYWdlOntlbnZlbG9wZTpudWxsLG91dHB1dDoiIn0sZmVhdHVyZXM6e2ZlYXR1cmVjb3VudDowLGVudmVsb3BlOm51bGwsZmVhdHVyZTpbXX0sZXJyb3I6IiJ9KX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuQXJjWE1MLlJlc3BvbnNlIn0pOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt0aGlzLl9vYmplY3Q9ZiYmIWk/bmV3IGY6bmV3IHdpbmRvdy5BY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MSFRUUCIpO3RoaXMuX2xpc3RlbmVycz1bXX1mdW5jdGlvbiBiKCl7cmV0dXJuIG5ldyBhfWZ1bmN0aW9uIGMoYSl7Yi5vbnJlYWR5c3RhdGVjaGFuZ2UmJmIub25yZWFkeXN0YXRlY2hhbmdlLmFwcGx5KGEpO2EuZGlzcGF0Y2hFdmVudCh7dHlwZToicmVhZHlzdGF0ZWNoYW5nZSIsYnViYmxlczohMSxjYW5jZWxhYmxlOiExLHRpbWVTdGFtcDpuZXcgRGF0ZSswfSl9ZnVuY3Rpb24gZChhKXt0cnl7YS5yZXNwb25zZVRleHQ9YS5fb2JqZWN0LnJlc3BvbnNlVGV4dH1jYXRjaChiKXt9dHJ5e3ZhciBjO3ZhciBkPWEuX29iamVjdCxlPWQucmVzcG9uc2VYTUwsZj1kLnJlc3BvbnNlVGV4dDtoJiYoZiYmZSYmIWUuZG9jdW1lbnRFbGVtZW50JiZkLmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKS5tYXRjaCgvW15cL10rXC9bXlwrXStcK3htbC8pKSYmCihlPW5ldyB3aW5kb3cuQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTERPTSIpLGUuYXN5bmM9ITEsZS52YWxpZGF0ZU9uUGFyc2U9ITEsZS5sb2FkWE1MKGYpKTtjPWUmJihoJiYwIT1lLnBhcnNlRXJyb3J8fCFlLmRvY3VtZW50RWxlbWVudHx8ZS5kb2N1bWVudEVsZW1lbnQmJiJwYXJzZXJlcnJvciI9PWUuZG9jdW1lbnRFbGVtZW50LnRhZ05hbWUpP251bGw6ZTthLnJlc3BvbnNlWE1MPWN9Y2F0Y2goZyl7fXRyeXthLnN0YXR1cz1hLl9vYmplY3Quc3RhdHVzfWNhdGNoKGkpe310cnl7YS5zdGF0dXNUZXh0PWEuX29iamVjdC5zdGF0dXNUZXh0fWNhdGNoKHMpe319ZnVuY3Rpb24gZShhKXthLl9vYmplY3Qub25yZWFkeXN0YXRlY2hhbmdlPW5ldyB3aW5kb3cuRnVuY3Rpb259dmFyIGY9d2luZG93LlhNTEh0dHBSZXF1ZXN0LGc9ISF3aW5kb3cuY29udHJvbGxlcnMsaD13aW5kb3cuZG9jdW1lbnQuYWxsJiYhd2luZG93Lm9wZXJhLGk9aCYmd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL01TSUUgNy4wLyk7CmIucHJvdG90eXBlPWEucHJvdG90eXBlO2cmJmYud3JhcHBlZCYmKGIud3JhcHBlZD1mLndyYXBwZWQpO2IuVU5TRU5UPTA7Yi5PUEVORUQ9MTtiLkhFQURFUlNfUkVDRUlWRUQ9MjtiLkxPQURJTkc9MztiLkRPTkU9NDtiLnByb3RvdHlwZS5yZWFkeVN0YXRlPWIuVU5TRU5UO2IucHJvdG90eXBlLnJlc3BvbnNlVGV4dD0iIjtiLnByb3RvdHlwZS5yZXNwb25zZVhNTD1udWxsO2IucHJvdG90eXBlLnN0YXR1cz0wO2IucHJvdG90eXBlLnN0YXR1c1RleHQ9IiI7Yi5wcm90b3R5cGUucHJpb3JpdHk9Ik5PUk1BTCI7Yi5wcm90b3R5cGUub25yZWFkeXN0YXRlY2hhbmdlPW51bGw7Yi5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbDtiLm9ub3Blbj1udWxsO2Iub25zZW5kPW51bGw7Yi5vbmFib3J0PW51bGw7Yi5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihhLGYsaSxtLG4pe2RlbGV0ZSB0aGlzLl9oZWFkZXJzOzM+YXJndW1lbnRzLmxlbmd0aCYmKGk9ITApO3RoaXMuX2FzeW5jPWk7dmFyIHA9dGhpcywKcT10aGlzLnJlYWR5U3RhdGUscjtoJiZpJiYocj1mdW5jdGlvbigpe3EhPWIuRE9ORSYmKGUocCkscC5hYm9ydCgpKX0sd2luZG93LmF0dGFjaEV2ZW50KCJvbnVubG9hZCIscikpO2Iub25vcGVuJiZiLm9ub3Blbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7NDxhcmd1bWVudHMubGVuZ3RoP3RoaXMuX29iamVjdC5vcGVuKGEsZixpLG0sbik6Mzxhcmd1bWVudHMubGVuZ3RoP3RoaXMuX29iamVjdC5vcGVuKGEsZixpLG0pOnRoaXMuX29iamVjdC5vcGVuKGEsZixpKTt0aGlzLnJlYWR5U3RhdGU9Yi5PUEVORUQ7Yyh0aGlzKTt0aGlzLl9vYmplY3Qub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoIWd8fGkpcC5yZWFkeVN0YXRlPXAuX29iamVjdC5yZWFkeVN0YXRlLGQocCkscC5fYWJvcnRlZD9wLnJlYWR5U3RhdGU9Yi5VTlNFTlQ6KHAucmVhZHlTdGF0ZT09Yi5ET05FJiYoZGVsZXRlIHAuX2RhdGEsZShwKSxoJiZpJiZ3aW5kb3cuZGV0YWNoRXZlbnQoIm9udW5sb2FkIixyKSksCnEhPXAucmVhZHlTdGF0ZSYmYyhwKSxxPXAucmVhZHlTdGF0ZSl9fTtiLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGEpe2Iub25zZW5kJiZiLm9uc2VuZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YXJndW1lbnRzLmxlbmd0aHx8KGE9bnVsbCk7YSYmYS5ub2RlVHlwZSYmKGE9d2luZG93LlhNTFNlcmlhbGl6ZXI/KG5ldyB3aW5kb3cuWE1MU2VyaWFsaXplcikuc2VyaWFsaXplVG9TdHJpbmcoYSk6YS54bWwsdGhpcy5faGVhZGVyc1siQ29udGVudC1UeXBlIl18fHRoaXMuX29iamVjdC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLCJhcHBsaWNhdGlvbi94bWwiKSk7dGhpcy5fZGF0YT1hO2E6aWYodGhpcy5fb2JqZWN0LnNlbmQodGhpcy5fZGF0YSksZyYmIXRoaXMuX2FzeW5jKXt0aGlzLnJlYWR5U3RhdGU9Yi5PUEVORUQ7Zm9yKGQodGhpcyk7dGhpcy5yZWFkeVN0YXRlPGIuRE9ORTspaWYodGhpcy5yZWFkeVN0YXRlKyssYyh0aGlzKSx0aGlzLl9hYm9ydGVkKWJyZWFrIGF9fTsKYi5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXtiLm9uYWJvcnQmJmIub25hYm9ydC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5yZWFkeVN0YXRlPmIuVU5TRU5UJiYodGhpcy5fYWJvcnRlZD0hMCk7dGhpcy5fb2JqZWN0LmFib3J0KCk7ZSh0aGlzKTt0aGlzLnJlYWR5U3RhdGU9Yi5VTlNFTlQ7ZGVsZXRlIHRoaXMuX2RhdGF9O2IucHJvdG90eXBlLmdldEFsbFJlc3BvbnNlSGVhZGVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9vYmplY3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCl9O2IucHJvdG90eXBlLmdldFJlc3BvbnNlSGVhZGVyPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9vYmplY3QuZ2V0UmVzcG9uc2VIZWFkZXIoYSl9O2IucHJvdG90eXBlLnNldFJlcXVlc3RIZWFkZXI9ZnVuY3Rpb24oYSxiKXt0aGlzLl9oZWFkZXJzfHwodGhpcy5faGVhZGVycz17fSk7dGhpcy5faGVhZGVyc1thXT1iO3JldHVybiB0aGlzLl9vYmplY3Quc2V0UmVxdWVzdEhlYWRlcihhLGIpfTsKYi5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTAsZTtlPXRoaXMuX2xpc3RlbmVyc1tkXTtkKyspaWYoZVswXT09YSYmZVsxXT09YiYmZVsyXT09YylyZXR1cm47dGhpcy5fbGlzdGVuZXJzLnB1c2goW2EsYixjXSl9O2IucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wLGU7KGU9dGhpcy5fbGlzdGVuZXJzW2RdKSYmIShlWzBdPT1hJiZlWzFdPT1iJiZlWzJdPT1jKTtkKyspO2UmJnRoaXMuX2xpc3RlbmVycy5zcGxpY2UoZCwxKX07Yi5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihhKXthPXt0eXBlOmEudHlwZSx0YXJnZXQ6dGhpcyxjdXJyZW50VGFyZ2V0OnRoaXMsZXZlbnRQaGFzZToyLGJ1YmJsZXM6YS5idWJibGVzLGNhbmNlbGFibGU6YS5jYW5jZWxhYmxlLHRpbWVTdGFtcDphLnRpbWVTdGFtcCxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt9LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7fSwKaW5pdEV2ZW50OmZ1bmN0aW9uKCl7fX07InJlYWR5c3RhdGVjaGFuZ2UiPT1hLnR5cGUmJnRoaXMub25yZWFkeXN0YXRlY2hhbmdlJiYodGhpcy5vbnJlYWR5c3RhdGVjaGFuZ2UuaGFuZGxlRXZlbnR8fHRoaXMub25yZWFkeXN0YXRlY2hhbmdlKS5hcHBseSh0aGlzLFthXSk7Zm9yKHZhciBiPTAsYztjPXRoaXMuX2xpc3RlbmVyc1tiXTtiKyspY1swXT09YS50eXBlJiYhY1syXSYmKGNbMV0uaGFuZGxlRXZlbnR8fGNbMV0pLmFwcGx5KHRoaXMsW2FdKX07Yi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCBYTUxIdHRwUmVxdWVzdF0ifTtiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltYTUxIdHRwUmVxdWVzdF0ifTt3aW5kb3cuRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5fHwod2luZG93LkZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihhLGIpe2J8fChiPVtdKTthLl9fZnVuYz10aGlzO2EuX19mdW5jKGJbMF0sYlsxXSxiWzJdLGJbM10sCmJbNF0pO2RlbGV0ZSBhLl9fZnVuY30pO09wZW5MYXllcnMuUmVxdWVzdHx8KE9wZW5MYXllcnMuUmVxdWVzdD17fSk7T3BlbkxheWVycy5SZXF1ZXN0LlhNTEh0dHBSZXF1ZXN0PWJ9KSgpO09wZW5MYXllcnMuUHJveHlIb3N0PSIiO09wZW5MYXllcnMuUmVxdWVzdHx8KE9wZW5MYXllcnMuUmVxdWVzdD17fSk7Ck9wZW5MYXllcnMuVXRpbC5leHRlbmQoT3BlbkxheWVycy5SZXF1ZXN0LHtERUZBVUxUX0NPTkZJRzp7bWV0aG9kOiJHRVQiLHVybDp3aW5kb3cubG9jYXRpb24uaHJlZixhc3luYzohMCx1c2VyOnZvaWQgMCxwYXNzd29yZDp2b2lkIDAscGFyYW1zOm51bGwscHJveHk6T3BlbkxheWVycy5Qcm94eUhvc3QsaGVhZGVyczp7fSxkYXRhOm51bGwsY2FsbGJhY2s6ZnVuY3Rpb24oKXt9LHN1Y2Nlc3M6bnVsbCxmYWlsdXJlOm51bGwsc2NvcGU6bnVsbH0sVVJMX1NQTElUX1JFR0VYOi8oW146XSo6KVwvXC8oW146XSo6P1teQF0qQCk/KFteOlwvXD9dKik6PyhbXlwvXD9dKikvLGV2ZW50czpuZXcgT3BlbkxheWVycy5FdmVudHModGhpcyksbWFrZVNhbWVPcmlnaW46ZnVuY3Rpb24oYSxiKXt2YXIgYz0wIT09YS5pbmRleE9mKCJodHRwIiksZD0hYyYmYS5tYXRjaCh0aGlzLlVSTF9TUExJVF9SRUdFWCk7aWYoZCl7dmFyIGU9d2luZG93LmxvY2F0aW9uLGM9ZFsxXT09ZS5wcm90b2NvbCYmZFszXT09CmUuaG9zdG5hbWUsZD1kWzRdLGU9ZS5wb3J0O2lmKDgwIT1kJiYiIiE9ZHx8IjgwIiE9ZSYmIiIhPWUpYz1jJiZkPT1lfWN8fGImJihhPSJmdW5jdGlvbiI9PXR5cGVvZiBiP2IoYSk6YitlbmNvZGVVUklDb21wb25lbnQoYSkpO3JldHVybiBhfSxpc3N1ZTpmdW5jdGlvbihhKXt2YXIgYj1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMuREVGQVVMVF9DT05GSUcse3Byb3h5Ok9wZW5MYXllcnMuUHJveHlIb3N0fSksYT1hfHx7fTthLmhlYWRlcnM9YS5oZWFkZXJzfHx7fTthPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGEsYik7YS5oZWFkZXJzPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGEuaGVhZGVycyxiLmhlYWRlcnMpO3ZhciBiPSExLGM7Zm9yKGMgaW4gYS5oZWFkZXJzKWEuaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShjKSYmIngtcmVxdWVzdGVkLXdpdGgiPT09Yy50b0xvd2VyQ2FzZSgpJiYoYj0hMCk7ITE9PT1iJiYoYS5oZWFkZXJzWyJYLVJlcXVlc3RlZC1XaXRoIl09CiJYTUxIdHRwUmVxdWVzdCIpO3ZhciBkPW5ldyBPcGVuTGF5ZXJzLlJlcXVlc3QuWE1MSHR0cFJlcXVlc3QsZT1PcGVuTGF5ZXJzLlV0aWwudXJsQXBwZW5kKGEudXJsLE9wZW5MYXllcnMuVXRpbC5nZXRQYXJhbWV0ZXJTdHJpbmcoYS5wYXJhbXN8fHt9KSksZT1PcGVuTGF5ZXJzLlJlcXVlc3QubWFrZVNhbWVPcmlnaW4oZSxhLnByb3h5KTtkLm9wZW4oYS5tZXRob2QsZSxhLmFzeW5jLGEudXNlcixhLnBhc3N3b3JkKTtmb3IodmFyIGYgaW4gYS5oZWFkZXJzKWQuc2V0UmVxdWVzdEhlYWRlcihmLGEuaGVhZGVyc1tmXSk7dmFyIGc9dGhpcy5ldmVudHMsaD10aGlzO2Qub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ZC5yZWFkeVN0YXRlPT1PcGVuTGF5ZXJzLlJlcXVlc3QuWE1MSHR0cFJlcXVlc3QuRE9ORSYmITEhPT1nLnRyaWdnZXJFdmVudCgiY29tcGxldGUiLHtyZXF1ZXN0OmQsY29uZmlnOmEscmVxdWVzdFVybDplfSkmJmgucnVuQ2FsbGJhY2tzKHtyZXF1ZXN0OmQsY29uZmlnOmEsCnJlcXVlc3RVcmw6ZX0pfTshMT09PWEuYXN5bmM/ZC5zZW5kKGEuZGF0YSk6d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXswIT09ZC5yZWFkeVN0YXRlJiZkLnNlbmQoYS5kYXRhKX0sMCk7cmV0dXJuIGR9LHJ1bkNhbGxiYWNrczpmdW5jdGlvbihhKXt2YXIgYj1hLnJlcXVlc3QsYz1hLmNvbmZpZyxkPWMuc2NvcGU/T3BlbkxheWVycy5GdW5jdGlvbi5iaW5kKGMuY2FsbGJhY2ssYy5zY29wZSk6Yy5jYWxsYmFjayxlO2Muc3VjY2VzcyYmKGU9Yy5zY29wZT9PcGVuTGF5ZXJzLkZ1bmN0aW9uLmJpbmQoYy5zdWNjZXNzLGMuc2NvcGUpOmMuc3VjY2Vzcyk7dmFyIGY7Yy5mYWlsdXJlJiYoZj1jLnNjb3BlP09wZW5MYXllcnMuRnVuY3Rpb24uYmluZChjLmZhaWx1cmUsYy5zY29wZSk6Yy5mYWlsdXJlKTsiZmlsZToiPT1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlVXJsT2JqZWN0KGMudXJsKS5wcm90b2NvbCYmYi5yZXNwb25zZVRleHQmJihiLnN0YXR1cz0yMDApO2QoYik7aWYoIWIuc3RhdHVzfHwKMjAwPD1iLnN0YXR1cyYmMzAwPmIuc3RhdHVzKXRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgic3VjY2VzcyIsYSksZSYmZShiKTtpZihiLnN0YXR1cyYmKDIwMD5iLnN0YXR1c3x8MzAwPD1iLnN0YXR1cykpdGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJmYWlsdXJlIixhKSxmJiZmKGIpfSxHRVQ6ZnVuY3Rpb24oYSl7YT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGEse21ldGhvZDoiR0VUIn0pO3JldHVybiBPcGVuTGF5ZXJzLlJlcXVlc3QuaXNzdWUoYSl9LFBPU1Q6ZnVuY3Rpb24oYSl7YT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGEse21ldGhvZDoiUE9TVCJ9KTthLmhlYWRlcnM9YS5oZWFkZXJzP2EuaGVhZGVyczp7fTsiQ09OVEVOVC1UWVBFImluIE9wZW5MYXllcnMuVXRpbC51cHBlckNhc2VPYmplY3QoYS5oZWFkZXJzKXx8KGEuaGVhZGVyc1siQ29udGVudC1UeXBlIl09ImFwcGxpY2F0aW9uL3htbCIpO3JldHVybiBPcGVuTGF5ZXJzLlJlcXVlc3QuaXNzdWUoYSl9LFBVVDpmdW5jdGlvbihhKXthPQpPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGEse21ldGhvZDoiUFVUIn0pO2EuaGVhZGVycz1hLmhlYWRlcnM/YS5oZWFkZXJzOnt9OyJDT05URU5ULVRZUEUiaW4gT3BlbkxheWVycy5VdGlsLnVwcGVyQ2FzZU9iamVjdChhLmhlYWRlcnMpfHwoYS5oZWFkZXJzWyJDb250ZW50LVR5cGUiXT0iYXBwbGljYXRpb24veG1sIik7cmV0dXJuIE9wZW5MYXllcnMuUmVxdWVzdC5pc3N1ZShhKX0sREVMRVRFOmZ1bmN0aW9uKGEpe2E9T3BlbkxheWVycy5VdGlsLmV4dGVuZChhLHttZXRob2Q6IkRFTEVURSJ9KTtyZXR1cm4gT3BlbkxheWVycy5SZXF1ZXN0Lmlzc3VlKGEpfSxIRUFEOmZ1bmN0aW9uKGEpe2E9T3BlbkxheWVycy5VdGlsLmV4dGVuZChhLHttZXRob2Q6IkhFQUQifSk7cmV0dXJuIE9wZW5MYXllcnMuUmVxdWVzdC5pc3N1ZShhKX0sT1BUSU9OUzpmdW5jdGlvbihhKXthPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoYSx7bWV0aG9kOiJPUFRJT05TIn0pO3JldHVybiBPcGVuTGF5ZXJzLlJlcXVlc3QuaXNzdWUoYSl9fSk7T3BlbkxheWVycy5MYXllci5BcmNJTVM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkxheWVyLkdyaWQse0RFRkFVTFRfUEFSQU1TOntDbGllbnRWZXJzaW9uOiI5LjIiLFNlcnZpY2VOYW1lOiIifSxmZWF0dXJlQ29vcmRTeXM6IjQzMjYiLGZpbHRlckNvb3JkU3lzOiI0MzI2IixsYXllcnM6bnVsbCxhc3luYzohMCxuYW1lOiJBcmNJTVMiLGlzQmFzZUxheWVyOiEwLERFRkFVTFRfT1BUSU9OUzp7dGlsZVNpemU6bmV3IE9wZW5MYXllcnMuU2l6ZSg1MTIsNTEyKSxmZWF0dXJlQ29vcmRTeXM6IjQzMjYiLGZpbHRlckNvb3JkU3lzOiI0MzI2IixsYXllcnM6bnVsbCxpc0Jhc2VMYXllcjohMCxhc3luYzohMCxuYW1lOiJBcmNJTVMifSxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjKXt0aGlzLnRpbGVTaXplPW5ldyBPcGVuTGF5ZXJzLlNpemUoNTEyLDUxMik7dGhpcy5wYXJhbXM9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe1NlcnZpY2VOYW1lOmMuc2VydmljZU5hbWV9LAp0aGlzLkRFRkFVTFRfUEFSQU1TKTt0aGlzLm9wdGlvbnM9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYyx0aGlzLkRFRkFVTFRfT1BUSU9OUyk7T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2EsYix0aGlzLnBhcmFtcyxjXSk7dGhpcy50cmFuc3BhcmVudCYmKHRoaXMuaXNCYXNlTGF5ZXJ8fCh0aGlzLmlzQmFzZUxheWVyPSExKSwiaW1hZ2UvanBlZyI9PXRoaXMuZm9ybWF0JiYodGhpcy5mb3JtYXQ9T3BlbkxheWVycy5VdGlsLmFscGhhSGFjaygpPyJpbWFnZS9naWYiOiJpbWFnZS9wbmciKSk7bnVsbD09PXRoaXMub3B0aW9ucy5sYXllcnMmJih0aGlzLm9wdGlvbnMubGF5ZXJzPVtdKX0sZ2V0VVJMOmZ1bmN0aW9uKGEpe3ZhciBiPSIiLGE9dGhpcy5hZGp1c3RCb3VuZHMoYSksYT1uZXcgT3BlbkxheWVycy5Gb3JtYXQuQXJjWE1MKE9wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcy5vcHRpb25zLHtyZXF1ZXN0dHlwZToiaW1hZ2UiLAplbnZlbG9wZTphLnRvQXJyYXkoKSx0aWxlU2l6ZTp0aGlzLnRpbGVTaXplfSkpLGE9bmV3IE9wZW5MYXllcnMuUmVxdWVzdC5QT1NUKHt1cmw6dGhpcy5nZXRGdWxsUmVxdWVzdFN0cmluZygpLGRhdGE6YS53cml0ZSgpLGFzeW5jOiExfSk7aWYobnVsbCE9YSl7Yj1hLnJlc3BvbnNlWE1MO2lmKCFifHwhYi5kb2N1bWVudEVsZW1lbnQpYj1hLnJlc3BvbnNlVGV4dDtiPShuZXcgT3BlbkxheWVycy5Gb3JtYXQuQXJjWE1MKS5yZWFkKGIpO2I9dGhpcy5nZXRVcmxPckltYWdlKGIuaW1hZ2Uub3V0cHV0KX1yZXR1cm4gYn0sZ2V0VVJMYXN5bmM6ZnVuY3Rpb24oYSxiLGMpe2E9dGhpcy5hZGp1c3RCb3VuZHMoYSk7YT1uZXcgT3BlbkxheWVycy5Gb3JtYXQuQXJjWE1MKE9wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcy5vcHRpb25zLHtyZXF1ZXN0dHlwZToiaW1hZ2UiLGVudmVsb3BlOmEudG9BcnJheSgpLHRpbGVTaXplOnRoaXMudGlsZVNpemV9KSk7T3BlbkxheWVycy5SZXF1ZXN0LlBPU1Qoe3VybDp0aGlzLmdldEZ1bGxSZXF1ZXN0U3RyaW5nKCksCmFzeW5jOiEwLGRhdGE6YS53cml0ZSgpLGNhbGxiYWNrOmZ1bmN0aW9uKGEpe3ZhciBlPWEucmVzcG9uc2VYTUw7aWYoIWV8fCFlLmRvY3VtZW50RWxlbWVudCllPWEucmVzcG9uc2VUZXh0O2E9KG5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5BcmNYTUwpLnJlYWQoZSk7Yi5jYWxsKGMsdGhpcy5nZXRVcmxPckltYWdlKGEuaW1hZ2Uub3V0cHV0KSl9LHNjb3BlOnRoaXN9KX0sZ2V0VXJsT3JJbWFnZTpmdW5jdGlvbihhKXt2YXIgYj0iIjthLnVybD9iPWEudXJsOmEuZGF0YSYmKGI9ImRhdGE6aW1hZ2UvIithLnR5cGUrIjtiYXNlNjQsIithLmRhdGEpO3JldHVybiBifSxzZXRMYXllclF1ZXJ5OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yzx0aGlzLm9wdGlvbnMubGF5ZXJzLmxlbmd0aDtjKyspaWYoYT09dGhpcy5vcHRpb25zLmxheWVyc1tjXS5pZCl7dGhpcy5vcHRpb25zLmxheWVyc1tjXS5xdWVyeT1iO3JldHVybn10aGlzLm9wdGlvbnMubGF5ZXJzLnB1c2goe2lkOmEsdmlzaWJsZTohMCwKcXVlcnk6Yn0pfSxnZXRGZWF0dXJlSW5mbzpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9Yy5idWZmZXJ8fDEsZT1jLmNhbGxiYWNrfHxmdW5jdGlvbigpe30sZj1jLnNjb3BlfHx3aW5kb3csZz17fTtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGcsdGhpcy5vcHRpb25zKTtnLnJlcXVlc3R0eXBlPSJmZWF0dXJlIjthIGluc3RhbmNlb2YgT3BlbkxheWVycy5Mb25MYXQ/KGcucG9seWdvbj1udWxsLGcuZW52ZWxvcGU9W2EubG9uLWQsYS5sYXQtZCxhLmxvbitkLGEubGF0K2RdKTphIGluc3RhbmNlb2YgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uJiYoZy5lbnZlbG9wZT1udWxsLGcucG9seWdvbj1hKTt2YXIgaD1uZXcgT3BlbkxheWVycy5Gb3JtYXQuQXJjWE1MKGcpO09wZW5MYXllcnMuVXRpbC5leHRlbmQoaC5yZXF1ZXN0LmdldF9mZWF0dXJlLGMpO2gucmVxdWVzdC5nZXRfZmVhdHVyZS5sYXllcj1iLmlkOyJudW1iZXIiPT10eXBlb2YgYi5xdWVyeS5hY2N1cmFjeT9oLnJlcXVlc3QuZ2V0X2ZlYXR1cmUucXVlcnkuYWNjdXJhY3k9CmIucXVlcnkuYWNjdXJhY3k6KGE9dGhpcy5tYXAuZ2V0Q2VudGVyKCksYz10aGlzLm1hcC5nZXRWaWV3UG9ydFB4RnJvbUxvbkxhdChhKSxjLngrKyxjPXRoaXMubWFwLmdldExvbkxhdEZyb21QaXhlbChjKSxoLnJlcXVlc3QuZ2V0X2ZlYXR1cmUucXVlcnkuYWNjdXJhY3k9Yy5sb24tYS5sb24pO2gucmVxdWVzdC5nZXRfZmVhdHVyZS5xdWVyeS53aGVyZT1iLnF1ZXJ5LndoZXJlO2gucmVxdWVzdC5nZXRfZmVhdHVyZS5xdWVyeS5zcGF0aWFsZmlsdGVyLnJlbGF0aW9uPSJhcmVhX2ludGVyc2VjdGlvbiI7T3BlbkxheWVycy5SZXF1ZXN0LlBPU1Qoe3VybDp0aGlzLmdldEZ1bGxSZXF1ZXN0U3RyaW5nKHtDdXN0b21TZXJ2aWNlOiJRdWVyeSJ9KSxkYXRhOmgud3JpdGUoKSxjYWxsYmFjazpmdW5jdGlvbihhKXthPWgucGFyc2VSZXNwb25zZShhLnJlc3BvbnNlVGV4dCk7aC5pc2Vycm9yKCk/ZS5jYWxsKGYsbnVsbCk6ZS5jYWxsKGYsYS5mZWF0dXJlcyl9fSl9LGNsb25lOmZ1bmN0aW9uKGEpe251bGw9PQphJiYoYT1uZXcgT3BlbkxheWVycy5MYXllci5BcmNJTVModGhpcy5uYW1lLHRoaXMudXJsLHRoaXMuZ2V0T3B0aW9ucygpKSk7cmV0dXJuIGE9T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5jbG9uZS5hcHBseSh0aGlzLFthXSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuTGF5ZXIuQXJjSU1TIn0pO09wZW5MYXllcnMuTGFuZy50ZT1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7UGVybWFsaW5rOiJcdTBjMzhcdTBjNGRcdTBjMjVcdTBjM2ZcdTBjMzBcdTBjMzJcdTBjM2ZcdTBjMDJcdTBjMTVcdTBjNDEiLFc6Ilx1MGMyYSIsRToiXHUwYzI0XHUwYzQyIixOOiJcdTBjMDkiLFM6Ilx1MGMyNiJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuWm9vbT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbCx7c2xpZGVGYWN0b3I6NTAsc2xpZGVSYXRpbzpudWxsLGJ1dHRvbnM6bnVsbCxwb3NpdGlvbjpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7dGhpcy5wb3NpdGlvbj1uZXcgT3BlbkxheWVycy5QaXhlbChPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuWm9vbS5YLE9wZW5MYXllcnMuQ29udHJvbC5QYW5ab29tLlkpO09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm1hcCYmIXRoaXMub3V0c2lkZVZpZXdwb3J0JiZ0aGlzLm1hcC5ldmVudHMudW5yZWdpc3RlcigiYnV0dG9uY2xpY2siLHRoaXMsdGhpcy5vbkJ1dHRvbkNsaWNrKTt0aGlzLnJlbW92ZUJ1dHRvbnMoKTt0aGlzLnBvc2l0aW9uPXRoaXMuYnV0dG9ucz1udWxsO09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLAphcmd1bWVudHMpfSxzZXRNYXA6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5zZXRNYXAuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBiO3RoaXMub3V0c2lkZVZpZXdwb3J0Pyh0aGlzLmV2ZW50cy5hdHRhY2hUb0VsZW1lbnQodGhpcy5kaXYpLGI9dGhpcyk6Yj10aGlzLm1hcDtiLmV2ZW50cy5yZWdpc3RlcigiYnV0dG9uY2xpY2siLHRoaXMsdGhpcy5vbkJ1dHRvbkNsaWNrKX0sZHJhdzpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRyYXcuYXBwbHkodGhpcyxhcmd1bWVudHMpO2E9dGhpcy5wb3NpdGlvbjt0aGlzLmJ1dHRvbnM9W107dmFyIGI9e3c6MTgsaDoxOH0sYz1uZXcgT3BlbkxheWVycy5QaXhlbChhLngrYi53LzIsYS55KTt0aGlzLl9hZGRCdXR0b24oInBhbnVwIiwibm9ydGgtbWluaS5wbmciLGMsYik7YS55PWMueStiLmg7dGhpcy5fYWRkQnV0dG9uKCJwYW5sZWZ0Iiwid2VzdC1taW5pLnBuZyIsYSxiKTt0aGlzLl9hZGRCdXR0b24oInBhbnJpZ2h0IiwKImVhc3QtbWluaS5wbmciLGEuYWRkKGIudywwKSxiKTt0aGlzLl9hZGRCdXR0b24oInBhbmRvd24iLCJzb3V0aC1taW5pLnBuZyIsYy5hZGQoMCwyKmIuaCksYik7dGhpcy5fYWRkQnV0dG9uKCJ6b29taW4iLCJ6b29tLXBsdXMtbWluaS5wbmciLGMuYWRkKDAsMypiLmgrNSksYik7dGhpcy5fYWRkQnV0dG9uKCJ6b29td29ybGQiLCJ6b29tLXdvcmxkLW1pbmkucG5nIixjLmFkZCgwLDQqYi5oKzUpLGIpO3RoaXMuX2FkZEJ1dHRvbigiem9vbW91dCIsInpvb20tbWludXMtbWluaS5wbmciLGMuYWRkKDAsNSpiLmgrNSksYik7cmV0dXJuIHRoaXMuZGl2fSxfYWRkQnV0dG9uOmZ1bmN0aW9uKGEsYixjLGQpe2I9T3BlbkxheWVycy5VdGlsLmdldEltYWdlTG9jYXRpb24oYik7Yz1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlQWxwaGFJbWFnZURpdih0aGlzLmlkKyJfIithLGMsZCxiLCJhYnNvbHV0ZSIpO2Muc3R5bGUuY3Vyc29yPSJwb2ludGVyIjt0aGlzLmRpdi5hcHBlbmRDaGlsZChjKTtjLmFjdGlvbj0KYTtjLmNsYXNzTmFtZT0ib2xCdXR0b24iO3RoaXMuYnV0dG9ucy5wdXNoKGMpO3JldHVybiBjfSxfcmVtb3ZlQnV0dG9uOmZ1bmN0aW9uKGEpe3RoaXMuZGl2LnJlbW92ZUNoaWxkKGEpO09wZW5MYXllcnMuVXRpbC5yZW1vdmVJdGVtKHRoaXMuYnV0dG9ucyxhKX0scmVtb3ZlQnV0dG9uczpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmJ1dHRvbnMubGVuZ3RoLTE7MDw9YTstLWEpdGhpcy5fcmVtb3ZlQnV0dG9uKHRoaXMuYnV0dG9uc1thXSl9LG9uQnV0dG9uQ2xpY2s6ZnVuY3Rpb24oYSl7c3dpdGNoKGEuYnV0dG9uRWxlbWVudC5hY3Rpb24pe2Nhc2UgInBhbnVwIjp0aGlzLm1hcC5wYW4oMCwtdGhpcy5nZXRTbGlkZUZhY3RvcigiaCIpKTticmVhaztjYXNlICJwYW5kb3duIjp0aGlzLm1hcC5wYW4oMCx0aGlzLmdldFNsaWRlRmFjdG9yKCJoIikpO2JyZWFrO2Nhc2UgInBhbmxlZnQiOnRoaXMubWFwLnBhbigtdGhpcy5nZXRTbGlkZUZhY3RvcigidyIpLDApO2JyZWFrO2Nhc2UgInBhbnJpZ2h0Ijp0aGlzLm1hcC5wYW4odGhpcy5nZXRTbGlkZUZhY3RvcigidyIpLAowKTticmVhaztjYXNlICJ6b29taW4iOnRoaXMubWFwLnpvb21JbigpO2JyZWFrO2Nhc2UgInpvb21vdXQiOnRoaXMubWFwLnpvb21PdXQoKTticmVhaztjYXNlICJ6b29td29ybGQiOnRoaXMubWFwLnpvb21Ub01heEV4dGVudCgpfX0sZ2V0U2xpZGVGYWN0b3I6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc2xpZGVSYXRpbz90aGlzLm1hcC5nZXRTaXplKClbYV0qdGhpcy5zbGlkZVJhdGlvOnRoaXMuc2xpZGVGYWN0b3J9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5QYW5ab29tIn0pO09wZW5MYXllcnMuQ29udHJvbC5QYW5ab29tLlg9NDtPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuWm9vbS5ZPTQ7T3BlbkxheWVycy5Db250cm9sLlBhblpvb21CYXI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuWm9vbSx7em9vbVN0b3BXaWR0aDoxOCx6b29tU3RvcEhlaWdodDoxMSxzbGlkZXI6bnVsbCxzbGlkZXJFdmVudHM6bnVsbCx6b29tYmFyRGl2Om51bGwsem9vbVdvcmxkSWNvbjohMSxwYW5JY29uczohMCxmb3JjZUZpeGVkWm9vbUxldmVsOiExLG1vdXNlRHJhZ1N0YXJ0Om51bGwsZGVsdGFZOm51bGwsem9vbVN0YXJ0Om51bGwsZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZVpvb21CYXIoKTt0aGlzLm1hcC5ldmVudHMudW4oe2NoYW5nZWJhc2VsYXllcjp0aGlzLnJlZHJhdyx1cGRhdGVzaXplOnRoaXMucmVkcmF3LHNjb3BlOnRoaXN9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuWm9vbS5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZGVsZXRlIHRoaXMubW91c2VEcmFnU3RhcnQ7ZGVsZXRlIHRoaXMuem9vbVN0YXJ0fSxzZXRNYXA6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db250cm9sLlBhblpvb20ucHJvdG90eXBlLnNldE1hcC5hcHBseSh0aGlzLAphcmd1bWVudHMpO3RoaXMub3V0c2lkZVZpZXdwb3J0JiZ0aGlzLmV2ZW50cy5hdHRhY2hUb0VsZW1lbnQodGhpcy5kaXYpO3RoaXMubWFwLmV2ZW50cy5vbih7Y2hhbmdlYmFzZWxheWVyOnRoaXMucmVkcmF3LHVwZGF0ZXNpemU6dGhpcy5yZWRyYXcsc2NvcGU6dGhpc30pfSxyZWRyYXc6ZnVuY3Rpb24oKXtudWxsIT10aGlzLmRpdiYmKHRoaXMucmVtb3ZlQnV0dG9ucygpLHRoaXMuX3JlbW92ZVpvb21CYXIoKSk7dGhpcy5kcmF3KCl9LGRyYXc6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kcmF3LmFwcGx5KHRoaXMsYXJndW1lbnRzKTthPXRoaXMucG9zaXRpb24uY2xvbmUoKTt0aGlzLmJ1dHRvbnM9W107dmFyIGI9e3c6MTgsaDoxOH07aWYodGhpcy5wYW5JY29ucyl7dmFyIGM9bmV3IE9wZW5MYXllcnMuUGl4ZWwoYS54K2Iudy8yLGEueSksZD1iLnc7dGhpcy56b29tV29ybGRJY29uJiYoYz1uZXcgT3BlbkxheWVycy5QaXhlbChhLngrYi53LGEueSkpOwp0aGlzLl9hZGRCdXR0b24oInBhbnVwIiwibm9ydGgtbWluaS5wbmciLGMsYik7YS55PWMueStiLmg7dGhpcy5fYWRkQnV0dG9uKCJwYW5sZWZ0Iiwid2VzdC1taW5pLnBuZyIsYSxiKTt0aGlzLnpvb21Xb3JsZEljb24mJih0aGlzLl9hZGRCdXR0b24oInpvb213b3JsZCIsInpvb20td29ybGQtbWluaS5wbmciLGEuYWRkKGIudywwKSxiKSxkKj0yKTt0aGlzLl9hZGRCdXR0b24oInBhbnJpZ2h0IiwiZWFzdC1taW5pLnBuZyIsYS5hZGQoZCwwKSxiKTt0aGlzLl9hZGRCdXR0b24oInBhbmRvd24iLCJzb3V0aC1taW5pLnBuZyIsYy5hZGQoMCwyKmIuaCksYik7dGhpcy5fYWRkQnV0dG9uKCJ6b29taW4iLCJ6b29tLXBsdXMtbWluaS5wbmciLGMuYWRkKDAsMypiLmgrNSksYik7Yz10aGlzLl9hZGRab29tQmFyKGMuYWRkKDAsNCpiLmgrNSkpO3RoaXMuX2FkZEJ1dHRvbigiem9vbW91dCIsInpvb20tbWludXMtbWluaS5wbmciLGMsYil9ZWxzZSB0aGlzLl9hZGRCdXR0b24oInpvb21pbiIsCiJ6b29tLXBsdXMtbWluaS5wbmciLGEsYiksYz10aGlzLl9hZGRab29tQmFyKGEuYWRkKDAsYi5oKSksdGhpcy5fYWRkQnV0dG9uKCJ6b29tb3V0Iiwiem9vbS1taW51cy1taW5pLnBuZyIsYyxiKSx0aGlzLnpvb21Xb3JsZEljb24mJihjPWMuYWRkKDAsYi5oKzMpLHRoaXMuX2FkZEJ1dHRvbigiem9vbXdvcmxkIiwiem9vbS13b3JsZC1taW5pLnBuZyIsYyxiKSk7cmV0dXJuIHRoaXMuZGl2fSxfYWRkWm9vbUJhcjpmdW5jdGlvbihhKXt2YXIgYj1PcGVuTGF5ZXJzLlV0aWwuZ2V0SW1hZ2VMb2NhdGlvbigic2xpZGVyLnBuZyIpLGM9dGhpcy5pZCsiXyIrdGhpcy5tYXAuaWQsZD10aGlzLm1hcC5nZXRNaW5ab29tKCksZT10aGlzLm1hcC5nZXROdW1ab29tTGV2ZWxzKCktMS10aGlzLm1hcC5nZXRab29tKCksZT1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlQWxwaGFJbWFnZURpdihjLGEuYWRkKC0xLGUqdGhpcy56b29tU3RvcEhlaWdodCkse3c6MjAsaDo5fSxiLCJhYnNvbHV0ZSIpO2Uuc3R5bGUuY3Vyc29yPQoibW92ZSI7dGhpcy5zbGlkZXI9ZTt0aGlzLnNsaWRlckV2ZW50cz1uZXcgT3BlbkxheWVycy5FdmVudHModGhpcyxlLG51bGwsITAse2luY2x1ZGVYWTohMH0pO3RoaXMuc2xpZGVyRXZlbnRzLm9uKHt0b3VjaHN0YXJ0OnRoaXMuem9vbUJhckRvd24sdG91Y2htb3ZlOnRoaXMuem9vbUJhckRyYWcsdG91Y2hlbmQ6dGhpcy56b29tQmFyVXAsbW91c2Vkb3duOnRoaXMuem9vbUJhckRvd24sbW91c2Vtb3ZlOnRoaXMuem9vbUJhckRyYWcsbW91c2V1cDp0aGlzLnpvb21CYXJVcH0pO3ZhciBmPXt3OnRoaXMuem9vbVN0b3BXaWR0aCxoOnRoaXMuem9vbVN0b3BIZWlnaHQqKHRoaXMubWFwLmdldE51bVpvb21MZXZlbHMoKS1kKX0sYj1PcGVuTGF5ZXJzLlV0aWwuZ2V0SW1hZ2VMb2NhdGlvbigiem9vbWJhci5wbmciKSxjPW51bGw7T3BlbkxheWVycy5VdGlsLmFscGhhSGFjaygpPyhjPXRoaXMuaWQrIl8iK3RoaXMubWFwLmlkLGM9T3BlbkxheWVycy5VdGlsLmNyZWF0ZUFscGhhSW1hZ2VEaXYoYywKYSx7dzpmLncsaDp0aGlzLnpvb21TdG9wSGVpZ2h0fSxiLCJhYnNvbHV0ZSIsbnVsbCwiY3JvcCIpLGMuc3R5bGUuaGVpZ2h0PWYuaCsicHgiKTpjPU9wZW5MYXllcnMuVXRpbC5jcmVhdGVEaXYoIk9wZW5MYXllcnNfQ29udHJvbF9QYW5ab29tQmFyX1pvb21iYXIiK3RoaXMubWFwLmlkLGEsZixiKTtjLnN0eWxlLmN1cnNvcj0icG9pbnRlciI7Yy5jbGFzc05hbWU9Im9sQnV0dG9uIjt0aGlzLnpvb21iYXJEaXY9Yzt0aGlzLmRpdi5hcHBlbmRDaGlsZChjKTt0aGlzLnN0YXJ0VG9wPXBhcnNlSW50KGMuc3R5bGUudG9wKTt0aGlzLmRpdi5hcHBlbmRDaGlsZChlKTt0aGlzLm1hcC5ldmVudHMucmVnaXN0ZXIoInpvb21lbmQiLHRoaXMsdGhpcy5tb3ZlWm9vbUJhcik7cmV0dXJuIGE9YS5hZGQoMCx0aGlzLnpvb21TdG9wSGVpZ2h0Kih0aGlzLm1hcC5nZXROdW1ab29tTGV2ZWxzKCktZCkpfSxfcmVtb3ZlWm9vbUJhcjpmdW5jdGlvbigpe3RoaXMuc2xpZGVyRXZlbnRzLnVuKHt0b3VjaHN0YXJ0OnRoaXMuem9vbUJhckRvd24sCnRvdWNobW92ZTp0aGlzLnpvb21CYXJEcmFnLHRvdWNoZW5kOnRoaXMuem9vbUJhclVwLG1vdXNlZG93bjp0aGlzLnpvb21CYXJEb3duLG1vdXNlbW92ZTp0aGlzLnpvb21CYXJEcmFnLG1vdXNldXA6dGhpcy56b29tQmFyVXB9KTt0aGlzLnNsaWRlckV2ZW50cy5kZXN0cm95KCk7dGhpcy5kaXYucmVtb3ZlQ2hpbGQodGhpcy56b29tYmFyRGl2KTt0aGlzLnpvb21iYXJEaXY9bnVsbDt0aGlzLmRpdi5yZW1vdmVDaGlsZCh0aGlzLnNsaWRlcik7dGhpcy5zbGlkZXI9bnVsbDt0aGlzLm1hcC5ldmVudHMudW5yZWdpc3Rlcigiem9vbWVuZCIsdGhpcyx0aGlzLm1vdmVab29tQmFyKX0sb25CdXR0b25DbGljazpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuWm9vbS5wcm90b3R5cGUub25CdXR0b25DbGljay5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoYS5idXR0b25FbGVtZW50PT09dGhpcy56b29tYmFyRGl2KXt2YXIgYj1hLmJ1dHRvblhZLnkvdGhpcy56b29tU3RvcEhlaWdodDsKaWYodGhpcy5mb3JjZUZpeGVkWm9vbUxldmVsfHwhdGhpcy5tYXAuZnJhY3Rpb25hbFpvb20pYj1NYXRoLmZsb29yKGIpO2I9dGhpcy5tYXAuZ2V0TnVtWm9vbUxldmVscygpLTEtYjtiPU1hdGgubWluKE1hdGgubWF4KGIsMCksdGhpcy5tYXAuZ2V0TnVtWm9vbUxldmVscygpLTEpO3RoaXMubWFwLnpvb21UbyhiKX19LHBhc3NFdmVudFRvU2xpZGVyOmZ1bmN0aW9uKGEpe3RoaXMuc2xpZGVyRXZlbnRzLmhhbmRsZUJyb3dzZXJFdmVudChhKX0sem9vbUJhckRvd246ZnVuY3Rpb24oYSl7aWYoT3BlbkxheWVycy5FdmVudC5pc0xlZnRDbGljayhhKXx8T3BlbkxheWVycy5FdmVudC5pc1NpbmdsZVRvdWNoKGEpKSh0aGlzLm91dHNpZGVWaWV3cG9ydD90aGlzOnRoaXMubWFwKS5ldmVudHMub24oe3RvdWNobW92ZTp0aGlzLnBhc3NFdmVudFRvU2xpZGVyLG1vdXNlbW92ZTp0aGlzLnBhc3NFdmVudFRvU2xpZGVyLG1vdXNldXA6dGhpcy5wYXNzRXZlbnRUb1NsaWRlcixzY29wZTp0aGlzfSksCnRoaXMubW91c2VEcmFnU3RhcnQ9YS54eS5jbG9uZSgpLHRoaXMuem9vbVN0YXJ0PWEueHkuY2xvbmUoKSx0aGlzLmRpdi5zdHlsZS5jdXJzb3I9Im1vdmUiLHRoaXMuem9vbWJhckRpdi5vZmZzZXRzPW51bGwsT3BlbkxheWVycy5FdmVudC5zdG9wKGEpfSx6b29tQmFyRHJhZzpmdW5jdGlvbihhKXtpZihudWxsIT10aGlzLm1vdXNlRHJhZ1N0YXJ0KXt2YXIgYj10aGlzLm1vdXNlRHJhZ1N0YXJ0LnktYS54eS55LGM9T3BlbkxheWVycy5VdGlsLnBhZ2VQb3NpdGlvbih0aGlzLnpvb21iYXJEaXYpOzA8YS5jbGllbnRZLWNbMV0mJmEuY2xpZW50WS1jWzFdPHBhcnNlSW50KHRoaXMuem9vbWJhckRpdi5zdHlsZS5oZWlnaHQpLTImJihiPXBhcnNlSW50KHRoaXMuc2xpZGVyLnN0eWxlLnRvcCktYix0aGlzLnNsaWRlci5zdHlsZS50b3A9YisicHgiLHRoaXMubW91c2VEcmFnU3RhcnQ9YS54eS5jbG9uZSgpKTt0aGlzLmRlbHRhWT10aGlzLnpvb21TdGFydC55LWEueHkueTtPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSl9fSwKem9vbUJhclVwOmZ1bmN0aW9uKGEpe2lmKChPcGVuTGF5ZXJzLkV2ZW50LmlzTGVmdENsaWNrKGEpfHwidG91Y2hlbmQiPT09YS50eXBlKSYmdGhpcy5tb3VzZURyYWdTdGFydCl7dGhpcy5kaXYuc3R5bGUuY3Vyc29yPSIiOyh0aGlzLm91dHNpZGVWaWV3cG9ydD90aGlzOnRoaXMubWFwKS5ldmVudHMudW4oe3RvdWNobW92ZTp0aGlzLnBhc3NFdmVudFRvU2xpZGVyLG1vdXNldXA6dGhpcy5wYXNzRXZlbnRUb1NsaWRlcixtb3VzZW1vdmU6dGhpcy5wYXNzRXZlbnRUb1NsaWRlcixzY29wZTp0aGlzfSk7dmFyIGI9dGhpcy5tYXAuem9vbTshdGhpcy5mb3JjZUZpeGVkWm9vbUxldmVsJiZ0aGlzLm1hcC5mcmFjdGlvbmFsWm9vbT8oYis9dGhpcy5kZWx0YVkvdGhpcy56b29tU3RvcEhlaWdodCxiPU1hdGgubWluKE1hdGgubWF4KGIsMCksdGhpcy5tYXAuZ2V0TnVtWm9vbUxldmVscygpLTEpKTooYis9dGhpcy5kZWx0YVkvdGhpcy56b29tU3RvcEhlaWdodCxiPU1hdGgubWF4KE1hdGgucm91bmQoYiksCjApKTt0aGlzLm1hcC56b29tVG8oYik7dGhpcy56b29tU3RhcnQ9dGhpcy5tb3VzZURyYWdTdGFydD1udWxsO3RoaXMuZGVsdGFZPTA7T3BlbkxheWVycy5FdmVudC5zdG9wKGEpfX0sbW92ZVpvb21CYXI6ZnVuY3Rpb24oKXt2YXIgYT0odGhpcy5tYXAuZ2V0TnVtWm9vbUxldmVscygpLTEtdGhpcy5tYXAuZ2V0Wm9vbSgpKSp0aGlzLnpvb21TdG9wSGVpZ2h0K3RoaXMuc3RhcnRUb3ArMTt0aGlzLnNsaWRlci5zdHlsZS50b3A9YSsicHgifSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuWm9vbUJhciJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5XRlNDYXBhYmlsaXRpZXM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwuVmVyc2lvbmVkT0dDLHtkZWZhdWx0VmVyc2lvbjoiMS4xLjAiLENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LldGU0NhcGFiaWxpdGllcyJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5XRlNDYXBhYmlsaXRpZXMudjE9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwse25hbWVzcGFjZXM6e3dmczoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC93ZnMiLHhsaW5rOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIix4c2k6Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIixvd3M6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvb3dzIn0sZXJyb3JQcm9wZXJ0eToiZmVhdHVyZVR5cGVMaXN0IixkZWZhdWx0UHJlZml4OiJ3ZnMiLHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PXR5cGVvZiBhJiYoYT1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxbYV0pKTthJiY5PT1hLm5vZGVUeXBlJiYoYT1hLmRvY3VtZW50RWxlbWVudCk7dmFyIGI9e307dGhpcy5yZWFkTm9kZShhLGIpO3JldHVybiBifSxyZWFkZXJzOnt3ZnM6e1dGU19DYXBhYmlsaXRpZXM6ZnVuY3Rpb24oYSwKYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxGZWF0dXJlVHlwZUxpc3Q6ZnVuY3Rpb24oYSxiKXtiLmZlYXR1cmVUeXBlTGlzdD17ZmVhdHVyZVR5cGVzOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5mZWF0dXJlVHlwZUxpc3QpfSxGZWF0dXJlVHlwZTpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLmZlYXR1cmVUeXBlcy5wdXNoKGMpfSxOYW1lOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDaGlsZFZhbHVlKGEpO2MmJihjPWMuc3BsaXQoIjoiKSxiLm5hbWU9Yy5wb3AoKSwwPGMubGVuZ3RoJiYoYi5mZWF0dXJlTlM9dGhpcy5sb29rdXBOYW1lc3BhY2VVUkkoYSxjWzBdKSkpfSxUaXRsZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKTtjJiYoYi50aXRsZT1jKX0sQWJzdHJhY3Q6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYSk7YyYmKGJbImFic3RyYWN0Il09Yyl9fX0sCkNMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LldGU0NhcGFiaWxpdGllcy52MSJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5XRlNDYXBhYmlsaXRpZXMudjFfMV8wPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuV0ZTQ2FwYWJpbGl0aWVzLnYxLHtyZWdFeGVzOnt0cmltU3BhY2U6L15ccyp8XHMqJC9nLHJlbW92ZVNwYWNlOi9ccyovZyxzcGxpdFNwYWNlOi9ccysvLHRyaW1Db21tYTovXHMqLFxzKi9nfSxyZWFkZXJzOnt3ZnM6T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe0RlZmF1bHRTUlM6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYSk7YyYmKGIuc3JzPWMpfX0sT3BlbkxheWVycy5Gb3JtYXQuV0ZTQ2FwYWJpbGl0aWVzLnYxLnByb3RvdHlwZS5yZWFkZXJzLndmcyksb3dzOk9wZW5MYXllcnMuRm9ybWF0Lk9XU0NvbW1vbi52MS5wcm90b3R5cGUucmVhZGVycy5vd3N9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LldGU0NhcGFiaWxpdGllcy52MV8xXzAifSk7T3BlbkxheWVycy5MYXllci5JbWFnZT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIse2lzQmFzZUxheWVyOiEwLHVybDpudWxsLGV4dGVudDpudWxsLHNpemU6bnVsbCx0aWxlOm51bGwsYXNwZWN0UmF0aW86bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjLGQsZSl7dGhpcy51cmw9Yjt0aGlzLm1heEV4dGVudD10aGlzLmV4dGVudD1jO3RoaXMuc2l6ZT1kO09wZW5MYXllcnMuTGF5ZXIucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYSxlXSk7dGhpcy5hc3BlY3RSYXRpbz10aGlzLmV4dGVudC5nZXRIZWlnaHQoKS90aGlzLnNpemUuaC8odGhpcy5leHRlbnQuZ2V0V2lkdGgoKS90aGlzLnNpemUudyl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnRpbGUmJih0aGlzLnJlbW92ZVRpbGVNb25pdG9yaW5nSG9va3ModGhpcy50aWxlKSx0aGlzLnRpbGUuZGVzdHJveSgpLHRoaXMudGlsZT1udWxsKTtPcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMsCmFyZ3VtZW50cyl9LGNsb25lOmZ1bmN0aW9uKGEpe251bGw9PWEmJihhPW5ldyBPcGVuTGF5ZXJzLkxheWVyLkltYWdlKHRoaXMubmFtZSx0aGlzLnVybCx0aGlzLmV4dGVudCx0aGlzLnNpemUsdGhpcy5nZXRPcHRpb25zKCkpKTtyZXR1cm4gYT1PcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5jbG9uZS5hcHBseSh0aGlzLFthXSl9LHNldE1hcDpmdW5jdGlvbihhKXtudWxsPT10aGlzLm9wdGlvbnMubWF4UmVzb2x1dGlvbiYmKHRoaXMub3B0aW9ucy5tYXhSZXNvbHV0aW9uPXRoaXMuYXNwZWN0UmF0aW8qdGhpcy5leHRlbnQuZ2V0V2lkdGgoKS90aGlzLnNpemUudyk7T3BlbkxheWVycy5MYXllci5wcm90b3R5cGUuc2V0TWFwLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sbW92ZVRvOmZ1bmN0aW9uKGEsYixjKXtPcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5tb3ZlVG8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBkPW51bGw9PXRoaXMudGlsZTtpZihifHxkKXt0aGlzLnNldFRpbGVTaXplKCk7CnZhciBlPXRoaXMubWFwLmdldExheWVyUHhGcm9tTG9uTGF0KHtsb246dGhpcy5leHRlbnQubGVmdCxsYXQ6dGhpcy5leHRlbnQudG9wfSk7ZD8odGhpcy50aWxlPW5ldyBPcGVuTGF5ZXJzLlRpbGUuSW1hZ2UodGhpcyxlLHRoaXMuZXh0ZW50LG51bGwsdGhpcy50aWxlU2l6ZSksdGhpcy5hZGRUaWxlTW9uaXRvcmluZ0hvb2tzKHRoaXMudGlsZSkpOih0aGlzLnRpbGUuc2l6ZT10aGlzLnRpbGVTaXplLmNsb25lKCksdGhpcy50aWxlLnBvc2l0aW9uPWUuY2xvbmUoKSk7dGhpcy50aWxlLmRyYXcoKX19LHNldFRpbGVTaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5leHRlbnQuZ2V0V2lkdGgoKS90aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCksYj10aGlzLmV4dGVudC5nZXRIZWlnaHQoKS90aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCk7dGhpcy50aWxlU2l6ZT1uZXcgT3BlbkxheWVycy5TaXplKGEsYil9LGFkZFRpbGVNb25pdG9yaW5nSG9va3M6ZnVuY3Rpb24oYSl7YS5vbkxvYWRTdGFydD0KZnVuY3Rpb24oKXt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvYWRzdGFydCIpfTthLmV2ZW50cy5yZWdpc3RlcigibG9hZHN0YXJ0Iix0aGlzLGEub25Mb2FkU3RhcnQpO2Eub25Mb2FkRW5kPWZ1bmN0aW9uKCl7dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJsb2FkZW5kIil9O2EuZXZlbnRzLnJlZ2lzdGVyKCJsb2FkZW5kIix0aGlzLGEub25Mb2FkRW5kKTthLmV2ZW50cy5yZWdpc3RlcigidW5sb2FkIix0aGlzLGEub25Mb2FkRW5kKX0scmVtb3ZlVGlsZU1vbml0b3JpbmdIb29rczpmdW5jdGlvbihhKXthLnVubG9hZCgpO2EuZXZlbnRzLnVuKHtsb2Fkc3RhcnQ6YS5vbkxvYWRTdGFydCxsb2FkZW5kOmEub25Mb2FkRW5kLHVubG9hZDphLm9uTG9hZEVuZCxzY29wZTp0aGlzfSl9LHNldFVybDpmdW5jdGlvbihhKXt0aGlzLnVybD1hO3RoaXMudGlsZS5kcmF3KCl9LGdldFVSTDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVybH0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5JbWFnZSJ9KTtPcGVuTGF5ZXJzLlN0cmF0ZWd5PU9wZW5MYXllcnMuQ2xhc3Moe2xheWVyOm51bGwsb3B0aW9uczpudWxsLGFjdGl2ZTpudWxsLGF1dG9BY3RpdmF0ZTohMCxhdXRvRGVzdHJveTohMCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcyxhKTt0aGlzLm9wdGlvbnM9YTt0aGlzLmFjdGl2ZT0hMX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZGVhY3RpdmF0ZSgpO3RoaXMub3B0aW9ucz10aGlzLmxheWVyPW51bGx9LHNldExheWVyOmZ1bmN0aW9uKGEpe3RoaXMubGF5ZXI9YX0sYWN0aXZhdGU6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5hY3RpdmU/dGhpcy5hY3RpdmU9ITA6ITF9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmU/KHRoaXMuYWN0aXZlPSExLCEwKTohMX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5TdHJhdGVneSJ9KTtPcGVuTGF5ZXJzLlN0cmF0ZWd5LlNhdmU9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlN0cmF0ZWd5LHtldmVudHM6bnVsbCxhdXRvOiExLHRpbWVyOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlN0cmF0ZWd5LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKTt0aGlzLmV2ZW50cz1uZXcgT3BlbkxheWVycy5FdmVudHModGhpcyl9LGFjdGl2YXRlOmZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5TdHJhdGVneS5wcm90b3R5cGUuYWN0aXZhdGUuY2FsbCh0aGlzKTtpZihhJiZ0aGlzLmF1dG8paWYoIm51bWJlciI9PT10eXBlb2YgdGhpcy5hdXRvKXRoaXMudGltZXI9d2luZG93LnNldEludGVydmFsKE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZCh0aGlzLnNhdmUsdGhpcyksMUUzKnRoaXMuYXV0byk7ZWxzZSB0aGlzLmxheWVyLmV2ZW50cy5vbih7ZmVhdHVyZWFkZGVkOnRoaXMudHJpZ2dlclNhdmUsYWZ0ZXJmZWF0dXJlbW9kaWZpZWQ6dGhpcy50cmlnZ2VyU2F2ZSwKc2NvcGU6dGhpc30pO3JldHVybiBhfSxkZWFjdGl2YXRlOmZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5TdHJhdGVneS5wcm90b3R5cGUuZGVhY3RpdmF0ZS5jYWxsKHRoaXMpO2EmJnRoaXMuYXV0byYmKCJudW1iZXIiPT09dHlwZW9mIHRoaXMuYXV0bz93aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTp0aGlzLmxheWVyLmV2ZW50cy51bih7ZmVhdHVyZWFkZGVkOnRoaXMudHJpZ2dlclNhdmUsYWZ0ZXJmZWF0dXJlbW9kaWZpZWQ6dGhpcy50cmlnZ2VyU2F2ZSxzY29wZTp0aGlzfSkpO3JldHVybiBhfSx0cmlnZ2VyU2F2ZTpmdW5jdGlvbihhKXt2YXIgYj1hLmZlYXR1cmU7KGIuc3RhdGU9PT1PcGVuTGF5ZXJzLlN0YXRlLklOU0VSVHx8Yi5zdGF0ZT09PU9wZW5MYXllcnMuU3RhdGUuVVBEQVRFfHxiLnN0YXRlPT09T3BlbkxheWVycy5TdGF0ZS5ERUxFVEUpJiZ0aGlzLnNhdmUoW2EuZmVhdHVyZV0pfSxzYXZlOmZ1bmN0aW9uKGEpe2F8fChhPXRoaXMubGF5ZXIuZmVhdHVyZXMpOwp0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoInN0YXJ0Iix7ZmVhdHVyZXM6YX0pO3ZhciBiPXRoaXMubGF5ZXIucHJvamVjdGlvbixjPXRoaXMubGF5ZXIubWFwLmdldFByb2plY3Rpb25PYmplY3QoKTtpZighYy5lcXVhbHMoYikpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPUFycmF5KGQpLGYsZyxoPTA7aDxkOysraClmPWFbaF0sZz1mLmNsb25lKCksZy5maWQ9Zi5maWQsZy5zdGF0ZT1mLnN0YXRlLGYudXJsJiYoZy51cmw9Zi51cmwpLGcuX29yaWdpbmFsPWYsZy5nZW9tZXRyeS50cmFuc2Zvcm0oYyxiKSxlW2hdPWc7YT1lfXRoaXMubGF5ZXIucHJvdG9jb2wuY29tbWl0KGEse2NhbGxiYWNrOnRoaXMub25Db21taXQsc2NvcGU6dGhpc30pfSxvbkNvbW1pdDpmdW5jdGlvbihhKXt2YXIgYj17cmVzcG9uc2U6YX07aWYoYS5zdWNjZXNzKCkpe2Zvcih2YXIgYz1hLnJlcUZlYXR1cmVzLGQsZT1bXSxmPWEuaW5zZXJ0SWRzfHxbXSxnPTAsaD0wLGk9Yy5sZW5ndGg7aDxpOysraClpZihkPWNbaF0sCmQ9ZC5fb3JpZ2luYWx8fGQsYT1kLnN0YXRlKWE9PU9wZW5MYXllcnMuU3RhdGUuREVMRVRFP2UucHVzaChkKTphPT1PcGVuTGF5ZXJzLlN0YXRlLklOU0VSVCYmKGQuZmlkPWZbZ10sKytnKSxkLnN0YXRlPW51bGw7MDxlLmxlbmd0aCYmdGhpcy5sYXllci5kZXN0cm95RmVhdHVyZXMoZSk7dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJzdWNjZXNzIixiKX1lbHNlIHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiZmFpbCIsYil9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuU3RyYXRlZ3kuU2F2ZSJ9KTtPcGVuTGF5ZXJzLkV2ZW50cy5mZWF0dXJlY2xpY2s9T3BlbkxheWVycy5DbGFzcyh7Y2FjaGU6bnVsbCxtYXA6bnVsbCxwcm92aWRlczpbImZlYXR1cmVjbGljayIsIm5vZmVhdHVyZWNsaWNrIiwiZmVhdHVyZW92ZXIiLCJmZWF0dXJlb3V0Il0saW5pdGlhbGl6ZTpmdW5jdGlvbihhKXt0aGlzLnRhcmdldD1hO2lmKGEub2JqZWN0IGluc3RhbmNlb2YgT3BlbkxheWVycy5NYXApdGhpcy5zZXRNYXAoYS5vYmplY3QpO2Vsc2UgaWYoYS5vYmplY3QgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkxheWVyLlZlY3RvcilhLm9iamVjdC5tYXA/dGhpcy5zZXRNYXAoYS5vYmplY3QubWFwKTphLm9iamVjdC5ldmVudHMucmVnaXN0ZXIoImFkZGVkIix0aGlzLGZ1bmN0aW9uKCl7dGhpcy5zZXRNYXAoYS5vYmplY3QubWFwKX0pO2Vsc2UgdGhyb3ciTGlzdGVuZXJzIGZvciAnIit0aGlzLnByb3ZpZGVzLmpvaW4oIicsICciKSsiJyBldmVudHMgY2FuIG9ubHkgYmUgcmVnaXN0ZXJlZCBmb3IgT3BlbkxheWVycy5MYXllci5WZWN0b3Igb3IgT3BlbkxheWVycy5NYXAgaW5zdGFuY2VzIjsKZm9yKHZhciBiPXRoaXMucHJvdmlkZXMubGVuZ3RoLTE7MDw9YjstLWIpYS5leHRlbnNpb25zW3RoaXMucHJvdmlkZXNbYl1dPSEwfSxzZXRNYXA6ZnVuY3Rpb24oYSl7dGhpcy5tYXA9YTt0aGlzLmNhY2hlPXt9O2EuZXZlbnRzLnJlZ2lzdGVyKCJtb3VzZWRvd24iLHRoaXMsdGhpcy5zdGFydCx7ZXh0ZW5zaW9uOiEwfSk7YS5ldmVudHMucmVnaXN0ZXIoIm1vdXNldXAiLHRoaXMsdGhpcy5vbkNsaWNrLHtleHRlbnNpb246ITB9KTthLmV2ZW50cy5yZWdpc3RlcigidG91Y2hzdGFydCIsdGhpcyx0aGlzLnN0YXJ0LHtleHRlbnNpb246ITB9KTthLmV2ZW50cy5yZWdpc3RlcigidG91Y2htb3ZlIix0aGlzLHRoaXMuY2FuY2VsLHtleHRlbnNpb246ITB9KTthLmV2ZW50cy5yZWdpc3RlcigidG91Y2hlbmQiLHRoaXMsdGhpcy5vbkNsaWNrLHtleHRlbnNpb246ITB9KTthLmV2ZW50cy5yZWdpc3RlcigibW91c2Vtb3ZlIix0aGlzLHRoaXMub25Nb3VzZW1vdmUse2V4dGVuc2lvbjohMH0pfSwKc3RhcnQ6ZnVuY3Rpb24oYSl7dGhpcy5zdGFydEV2dD1hfSxjYW5jZWw6ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5zdGFydEV2dH0sb25DbGljazpmdW5jdGlvbihhKXtpZih0aGlzLnN0YXJ0RXZ0JiYoInRvdWNoZW5kIj09PWEudHlwZXx8T3BlbkxheWVycy5FdmVudC5pc0xlZnRDbGljayhhKSkpe2E9dGhpcy5nZXRGZWF0dXJlcyh0aGlzLnN0YXJ0RXZ0KTtkZWxldGUgdGhpcy5zdGFydEV2dDtmb3IodmFyIGIsYyxkPXt9LGU9MCxmPWEubGVuZ3RoO2U8ZiYmIShiPWFbZV0sYz1iLmxheWVyLGRbYy5pZF09ITAsYj10aGlzLnRyaWdnZXJFdmVudCgiZmVhdHVyZWNsaWNrIix7ZmVhdHVyZTpifSksITE9PT1iKTsrK2UpO2U9MDtmb3IoZj10aGlzLm1hcC5sYXllcnMubGVuZ3RoO2U8ZjsrK2UpYz10aGlzLm1hcC5sYXllcnNbZV0sYyBpbnN0YW5jZW9mIE9wZW5MYXllcnMuTGF5ZXIuVmVjdG9yJiYhZFtjLmlkXSYmdGhpcy50cmlnZ2VyRXZlbnQoIm5vZmVhdHVyZWNsaWNrIix7bGF5ZXI6Y30pfX0sCm9uTW91c2Vtb3ZlOmZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLnN0YXJ0RXZ0O2Zvcih2YXIgYj10aGlzLmdldEZlYXR1cmVzKGEpLGM9e30sYT1bXSxkLGU9MCxmPWIubGVuZ3RoO2U8ZjsrK2UpZD1iW2VdLGNbZC5pZF09ZCx0aGlzLmNhY2hlW2QuaWRdfHxhLnB1c2goZCk7dmFyIGI9W10sZztmb3IoZyBpbiB0aGlzLmNhY2hlKWQ9dGhpcy5jYWNoZVtnXSxkLmxheWVyJiZkLmxheWVyLm1hcD9jW2QuaWRdfHxiLnB1c2goZCk6ZGVsZXRlIHRoaXMuY2FjaGVbZ107ZT0wO2ZvcihmPWEubGVuZ3RoO2U8ZiYmIShkPWFbZV0sdGhpcy5jYWNoZVtkLmlkXT1kLGc9dGhpcy50cmlnZ2VyRXZlbnQoImZlYXR1cmVvdmVyIix7ZmVhdHVyZTpkfSksITE9PT1nKTsrK2UpO2U9MDtmb3IoZj1iLmxlbmd0aDtlPGYmJiEoZD1iW2VdLGRlbGV0ZSB0aGlzLmNhY2hlW2QuaWRdLGc9dGhpcy50cmlnZ2VyRXZlbnQoImZlYXR1cmVvdXQiLHtmZWF0dXJlOmR9KSwhMT09PWcpOysrZSk7fSx0cmlnZ2VyRXZlbnQ6ZnVuY3Rpb24oYSwKYil7dmFyIGM9Yi5mZWF0dXJlP2IuZmVhdHVyZS5sYXllcjpiLmxheWVyLGQ9dGhpcy50YXJnZXQub2JqZWN0O2lmKGQgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLk1hcHx8ZD09PWMpcmV0dXJuIHRoaXMudGFyZ2V0LnRyaWdnZXJFdmVudChhLGIpfSxnZXRGZWF0dXJlczpmdW5jdGlvbihhKXt2YXIgYj1hLmNsaWVudFgsYz1hLmNsaWVudFksZD1bXSxlPVtdLGY9W10sZyxoLGksajtmb3Ioaj10aGlzLm1hcC5sYXllcnMubGVuZ3RoLTE7MDw9ajstLWopaWYoZz10aGlzLm1hcC5sYXllcnNbal0sIm5vbmUiIT09Zy5kaXYuc3R5bGUuZGlzcGxheSlpZihnLnJlbmRlcmVyIGluc3RhbmNlb2YgT3BlbkxheWVycy5SZW5kZXJlci5FbGVtZW50cyl7aWYoZyBpbnN0YW5jZW9mIE9wZW5MYXllcnMuTGF5ZXIuVmVjdG9yKWZvcihoPWRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoYixjKTtoJiZoLl9mZWF0dXJlSWQ7KShpPWcuZ2V0RmVhdHVyZUJ5SWQoaC5fZmVhdHVyZUlkKSk/KGQucHVzaChpKSwKaC5zdHlsZS5kaXNwbGF5PSJub25lIixlLnB1c2goaCksaD1kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KGIsYykpOmg9ITE7Zi5wdXNoKGcpO2cuZGl2LnN0eWxlLmRpc3BsYXk9Im5vbmUifWVsc2UgaWYoZy5yZW5kZXJlciBpbnN0YW5jZW9mIE9wZW5MYXllcnMuUmVuZGVyZXIuQ2FudmFzJiYoaT1nLnJlbmRlcmVyLmdldEZlYXR1cmVJZEZyb21FdmVudChhKSkpZC5wdXNoKGkpLGYucHVzaChnKTtqPTA7Zm9yKGE9ZS5sZW5ndGg7ajxhOysraillW2pdLnN0eWxlLmRpc3BsYXk9IiI7Zm9yKGo9Zi5sZW5ndGgtMTswPD1qOy0tailmW2pdLmRpdi5zdHlsZS5kaXNwbGF5PSJibG9jayI7cmV0dXJuIGR9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5wcm92aWRlcy5sZW5ndGgtMTswPD1hOy0tYSlkZWxldGUgdGhpcy50YXJnZXQuZXh0ZW5zaW9uc1t0aGlzLnByb3ZpZGVzW2FdXTt0aGlzLm1hcC5ldmVudHMudW4oe21vdXNlbW92ZTp0aGlzLm9uTW91c2Vtb3ZlLG1vdXNlZG93bjp0aGlzLnN0YXJ0LAptb3VzZXVwOnRoaXMub25DbGljayx0b3VjaHN0YXJ0OnRoaXMuc3RhcnQsdG91Y2htb3ZlOnRoaXMuY2FuY2VsLHRvdWNoZW5kOnRoaXMub25DbGljayxzY29wZTp0aGlzfSk7ZGVsZXRlIHRoaXMuY2FjaGU7ZGVsZXRlIHRoaXMubWFwO2RlbGV0ZSB0aGlzLnRhcmdldH19KTtPcGVuTGF5ZXJzLkV2ZW50cy5ub2ZlYXR1cmVjbGljaz1PcGVuTGF5ZXJzLkV2ZW50cy5mZWF0dXJlY2xpY2s7T3BlbkxheWVycy5FdmVudHMuZmVhdHVyZW92ZXI9T3BlbkxheWVycy5FdmVudHMuZmVhdHVyZWNsaWNrO09wZW5MYXllcnMuRXZlbnRzLmZlYXR1cmVvdXQ9T3BlbkxheWVycy5FdmVudHMuZmVhdHVyZWNsaWNrO09wZW5MYXllcnMuRm9ybWF0LkdQWD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7ZGVmYXVsdERlc2M6Ik5vIGRlc2NyaXB0aW9uIGF2YWlsYWJsZSIsZXh0cmFjdFdheXBvaW50czohMCxleHRyYWN0VHJhY2tzOiEwLGV4dHJhY3RSb3V0ZXM6ITAsZXh0cmFjdEF0dHJpYnV0ZXM6ITAsbmFtZXNwYWNlczp7Z3B4OiJodHRwOi8vd3d3LnRvcG9ncmFmaXguY29tL0dQWC8xLzEiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UifSxzY2hlbWFMb2NhdGlvbjoiaHR0cDovL3d3dy50b3BvZ3JhZml4LmNvbS9HUFgvMS8xIGh0dHA6Ly93d3cudG9wb2dyYWZpeC5jb20vR1BYLzEvMS9ncHgueHNkIixjcmVhdG9yOiJPcGVuTGF5ZXJzIixpbml0aWFsaXplOmZ1bmN0aW9uKGEpe3RoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uPW5ldyBPcGVuTGF5ZXJzLlByb2plY3Rpb24oIkVQU0c6NDMyNiIpO09wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLApbYV0pfSxyZWFkOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7dmFyIGI9W107aWYodGhpcy5leHRyYWN0VHJhY2tzKWZvcih2YXIgYz1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0cmsiKSxkPTAsZT1jLmxlbmd0aDtkPGU7ZCsrKXt2YXIgZj17fTt0aGlzLmV4dHJhY3RBdHRyaWJ1dGVzJiYoZj10aGlzLnBhcnNlQXR0cmlidXRlcyhjW2RdKSk7Zm9yKHZhciBnPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhjW2RdLGNbZF0ubmFtZXNwYWNlVVJJLCJ0cmtzZWciKSxoPTAsaT1nLmxlbmd0aDtoPGk7aCsrKXt2YXIgaj10aGlzLmV4dHJhY3RTZWdtZW50KGdbaF0sInRya3B0Iik7Yi5wdXNoKG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKGosZikpfX1pZih0aGlzLmV4dHJhY3RSb3V0ZXMpe2U9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgicnRlIik7Yz0wO2ZvcihkPQplLmxlbmd0aDtjPGQ7YysrKWY9e30sdGhpcy5leHRyYWN0QXR0cmlidXRlcyYmKGY9dGhpcy5wYXJzZUF0dHJpYnV0ZXMoZVtjXSkpLGc9dGhpcy5leHRyYWN0U2VnbWVudChlW2NdLCJydGVwdCIpLGIucHVzaChuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihnLGYpKX1pZih0aGlzLmV4dHJhY3RXYXlwb2ludHMpe2E9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgid3B0Iik7Yz0wO2ZvcihlPWEubGVuZ3RoO2M8ZTtjKyspZj17fSx0aGlzLmV4dHJhY3RBdHRyaWJ1dGVzJiYoZj10aGlzLnBhcnNlQXR0cmlidXRlcyhhW2NdKSksZD1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChhW2NdLmdldEF0dHJpYnV0ZSgibG9uIiksYVtjXS5nZXRBdHRyaWJ1dGUoImxhdCIpKSxiLnB1c2gobmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoZCxmKSl9aWYodGhpcy5pbnRlcm5hbFByb2plY3Rpb24mJnRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uKXtmPTA7Zm9yKGE9Yi5sZW5ndGg7ZjwKYTtmKyspYltmXS5nZW9tZXRyeS50cmFuc2Zvcm0odGhpcy5leHRlcm5hbFByb2plY3Rpb24sdGhpcy5pbnRlcm5hbFByb2plY3Rpb24pfXJldHVybiBifSxleHRyYWN0U2VnbWVudDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSxhLm5hbWVzcGFjZVVSSSxiKSxkPVtdLGU9MCxmPWMubGVuZ3RoO2U8ZjtlKyspZC5wdXNoKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGNbZV0uZ2V0QXR0cmlidXRlKCJsb24iKSxjW2VdLmdldEF0dHJpYnV0ZSgibGF0IikpKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZyhkKX0scGFyc2VBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj17fSxhPWEuZmlyc3RDaGlsZCxjLGQ7YTspe2lmKDE9PWEubm9kZVR5cGUmJmEuZmlyc3RDaGlsZCYmKGM9YS5maXJzdENoaWxkLDM9PWMubm9kZVR5cGV8fDQ9PWMubm9kZVR5cGUpKWQ9YS5wcmVmaXg/YS5ub2RlTmFtZS5zcGxpdCgiOiIpWzFdOgphLm5vZGVOYW1lLCJ0cmtzZWciIT1kJiYicnRlcHQiIT1kJiYoYltkXT1jLm5vZGVWYWx1ZSk7YT1hLm5leHRTaWJsaW5nfXJldHVybiBifSx3cml0ZTpmdW5jdGlvbihhLGIpe3ZhciBhPU9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEpP2E6W2FdLGM9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5uYW1lc3BhY2VzLmdweCwiZ3B4Iik7Yy5zZXRBdHRyaWJ1dGUoInZlcnNpb24iLCIxLjEiKTtjLnNldEF0dHJpYnV0ZSgiY3JlYXRvciIsdGhpcy5jcmVhdG9yKTt0aGlzLnNldEF0dHJpYnV0ZXMoYyx7InhzaTpzY2hlbWFMb2NhdGlvbiI6dGhpcy5zY2hlbWFMb2NhdGlvbn0pO2ImJiJvYmplY3QiPT10eXBlb2YgYiYmYy5hcHBlbmRDaGlsZCh0aGlzLmJ1aWxkTWV0YWRhdGFOb2RlKGIpKTtmb3IodmFyIGQ9MCxlPWEubGVuZ3RoO2Q8ZTtkKyspYy5hcHBlbmRDaGlsZCh0aGlzLmJ1aWxkRmVhdHVyZU5vZGUoYVtkXSkpO3JldHVybiBPcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLndyaXRlLmFwcGx5KHRoaXMsCltjXSl9LGJ1aWxkTWV0YWRhdGFOb2RlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bIm5hbWUiLCJkZXNjIiwiYXV0aG9yIl0sYz10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLm5hbWVzcGFjZXMuZ3B4LCJtZXRhZGF0YSIpLGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXTtpZihhW2VdKXt2YXIgZj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLm5hbWVzcGFjZXMuZ3B4LGUpO2YuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVUZXh0Tm9kZShhW2VdKSk7Yy5hcHBlbmRDaGlsZChmKX19cmV0dXJuIGN9LGJ1aWxkRmVhdHVyZU5vZGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZW9tZXRyeSxiPWIuY2xvbmUoKTt0aGlzLmludGVybmFsUHJvamVjdGlvbiYmdGhpcy5leHRlcm5hbFByb2plY3Rpb24mJmIudHJhbnNmb3JtKHRoaXMuaW50ZXJuYWxQcm9qZWN0aW9uLHRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uKTtpZigiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCI9PWIuQ0xBU1NfTkFNRSl7dmFyIGM9CnRoaXMuYnVpbGRXcHROb2RlKGIpO3RoaXMuYXBwZW5kQXR0cmlidXRlc05vZGUoYyxhKTtyZXR1cm4gY31jPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMubmFtZXNwYWNlcy5ncHgsInRyayIpO3RoaXMuYXBwZW5kQXR0cmlidXRlc05vZGUoYyxhKTtmb3IodmFyIGE9dGhpcy5idWlsZFRya1NlZ05vZGUoYiksYT1PcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShhKT9hOlthXSxiPTAsZD1hLmxlbmd0aDtiPGQ7YisrKWMuYXBwZW5kQ2hpbGQoYVtiXSk7cmV0dXJuIGN9LGJ1aWxkVHJrU2VnTm9kZTpmdW5jdGlvbihhKXt2YXIgYixjLGQsZTtpZigiT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nIj09YS5DTEFTU19OQU1FfHwiT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lYXJSaW5nIj09YS5DTEFTU19OQU1FKXtiPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMubmFtZXNwYWNlcy5ncHgsInRya3NlZyIpO2M9MDtmb3IoZD1hLmNvbXBvbmVudHMubGVuZ3RoO2M8ZDtjKyspZT1hLmNvbXBvbmVudHNbY10sCmIuYXBwZW5kQ2hpbGQodGhpcy5idWlsZFRya1B0Tm9kZShlKSk7cmV0dXJuIGJ9Yj1bXTtjPTA7Zm9yKGQ9YS5jb21wb25lbnRzLmxlbmd0aDtjPGQ7YysrKWIucHVzaCh0aGlzLmJ1aWxkVHJrU2VnTm9kZShhLmNvbXBvbmVudHNbY10pKTtyZXR1cm4gYn0sYnVpbGRUcmtQdE5vZGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5uYW1lc3BhY2VzLmdweCwidHJrcHQiKTtiLnNldEF0dHJpYnV0ZSgibG9uIixhLngpO2Iuc2V0QXR0cmlidXRlKCJsYXQiLGEueSk7cmV0dXJuIGJ9LGJ1aWxkV3B0Tm9kZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLm5hbWVzcGFjZXMuZ3B4LCJ3cHQiKTtiLnNldEF0dHJpYnV0ZSgibG9uIixhLngpO2Iuc2V0QXR0cmlidXRlKCJsYXQiLGEueSk7cmV0dXJuIGJ9LGFwcGVuZEF0dHJpYnV0ZXNOb2RlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5uYW1lc3BhY2VzLmdweCwKIm5hbWUiKTtjLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlVGV4dE5vZGUoYi5hdHRyaWJ1dGVzLm5hbWV8fGIuaWQpKTthLmFwcGVuZENoaWxkKGMpO2M9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5uYW1lc3BhY2VzLmdweCwiZGVzYyIpO2MuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVUZXh0Tm9kZShiLmF0dHJpYnV0ZXMuZGVzY3JpcHRpb258fHRoaXMuZGVmYXVsdERlc2MpKTthLmFwcGVuZENoaWxkKGMpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5HUFgifSk7T3BlbkxheWVycy5IYW5kbGVyPU9wZW5MYXllcnMuQ2xhc3Moe2lkOm51bGwsY29udHJvbDpudWxsLG1hcDpudWxsLGtleU1hc2s6bnVsbCxhY3RpdmU6ITEsZXZ0Om51bGwsdG91Y2g6ITEsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyl7T3BlbkxheWVycy5VdGlsLmV4dGVuZCh0aGlzLGMpO3RoaXMuY29udHJvbD1hO3RoaXMuY2FsbGJhY2tzPWI7KGE9dGhpcy5tYXB8fGEubWFwKSYmdGhpcy5zZXRNYXAoYSk7dGhpcy5pZD1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlVW5pcXVlSUQodGhpcy5DTEFTU19OQU1FKyJfIil9LHNldE1hcDpmdW5jdGlvbihhKXt0aGlzLm1hcD1hfSxjaGVja01vZGlmaWVyczpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09dGhpcy5rZXlNYXNrPyEwOigoYS5zaGlmdEtleT9PcGVuTGF5ZXJzLkhhbmRsZXIuTU9EX1NISUZUOjApfChhLmN0cmxLZXk/T3BlbkxheWVycy5IYW5kbGVyLk1PRF9DVFJMOjApfChhLmFsdEtleT9PcGVuTGF5ZXJzLkhhbmRsZXIuTU9EX0FMVDoKMCl8KGEubWV0YUtleT9PcGVuTGF5ZXJzLkhhbmRsZXIuTU9EX01FVEE6MCkpPT10aGlzLmtleU1hc2t9LGFjdGl2YXRlOmZ1bmN0aW9uKCl7aWYodGhpcy5hY3RpdmUpcmV0dXJuITE7Zm9yKHZhciBhPU9wZW5MYXllcnMuRXZlbnRzLnByb3RvdHlwZS5CUk9XU0VSX0VWRU5UUyxiPTAsYz1hLmxlbmd0aDtiPGM7YisrKXRoaXNbYVtiXV0mJnRoaXMucmVnaXN0ZXIoYVtiXSx0aGlzW2FbYl1dKTtyZXR1cm4gdGhpcy5hY3RpdmU9ITB9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXtpZighdGhpcy5hY3RpdmUpcmV0dXJuITE7Zm9yKHZhciBhPU9wZW5MYXllcnMuRXZlbnRzLnByb3RvdHlwZS5CUk9XU0VSX0VWRU5UUyxiPTAsYz1hLmxlbmd0aDtiPGM7YisrKXRoaXNbYVtiXV0mJnRoaXMudW5yZWdpc3RlcihhW2JdLHRoaXNbYVtiXV0pO3RoaXMuYWN0aXZlPXRoaXMudG91Y2g9ITE7cmV0dXJuITB9LHN0YXJ0VG91Y2g6ZnVuY3Rpb24oKXtpZighdGhpcy50b3VjaCl7dGhpcy50b3VjaD0hMDsKZm9yKHZhciBhPSJtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgY2xpY2sgZGJsY2xpY2sgbW91c2VvdXQiLnNwbGl0KCIgIiksYj0wLGM9YS5sZW5ndGg7YjxjO2IrKyl0aGlzW2FbYl1dJiZ0aGlzLnVucmVnaXN0ZXIoYVtiXSx0aGlzW2FbYl1dKX19LGNhbGxiYWNrOmZ1bmN0aW9uKGEsYil7YSYmdGhpcy5jYWxsYmFja3NbYV0mJnRoaXMuY2FsbGJhY2tzW2FdLmFwcGx5KHRoaXMuY29udHJvbCxiKX0scmVnaXN0ZXI6ZnVuY3Rpb24oYSxiKXt0aGlzLm1hcC5ldmVudHMucmVnaXN0ZXJQcmlvcml0eShhLHRoaXMsYik7dGhpcy5tYXAuZXZlbnRzLnJlZ2lzdGVyUHJpb3JpdHkoYSx0aGlzLHRoaXMuc2V0RXZlbnQpfSx1bnJlZ2lzdGVyOmZ1bmN0aW9uKGEsYil7dGhpcy5tYXAuZXZlbnRzLnVucmVnaXN0ZXIoYSx0aGlzLGIpO3RoaXMubWFwLmV2ZW50cy51bnJlZ2lzdGVyKGEsdGhpcyx0aGlzLnNldEV2ZW50KX0sc2V0RXZlbnQ6ZnVuY3Rpb24oYSl7dGhpcy5ldnQ9YTtyZXR1cm4hMH0sCmRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmRlYWN0aXZhdGUoKTt0aGlzLmNvbnRyb2w9dGhpcy5tYXA9bnVsbH0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5IYW5kbGVyIn0pO09wZW5MYXllcnMuSGFuZGxlci5NT0RfTk9ORT0wO09wZW5MYXllcnMuSGFuZGxlci5NT0RfU0hJRlQ9MTtPcGVuTGF5ZXJzLkhhbmRsZXIuTU9EX0NUUkw9MjtPcGVuTGF5ZXJzLkhhbmRsZXIuTU9EX0FMVD00O09wZW5MYXllcnMuSGFuZGxlci5NT0RfTUVUQT04O09wZW5MYXllcnMuSGFuZGxlci5DbGljaz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuSGFuZGxlcix7ZGVsYXk6MzAwLHNpbmdsZTohMCwiZG91YmxlIjohMSxwaXhlbFRvbGVyYW5jZTowLGRibGNsaWNrVG9sZXJhbmNlOjEzLHN0b3BTaW5nbGU6ITEsc3RvcERvdWJsZTohMSx0aW1lcklkOm51bGwsZG93bjpudWxsLGxhc3Q6bnVsbCxmaXJzdDpudWxsLHJpZ2h0Y2xpY2tUaW1lcklkOm51bGwsdG91Y2hzdGFydDpmdW5jdGlvbihhKXt0aGlzLnN0YXJ0VG91Y2goKTt0aGlzLmRvd249dGhpcy5nZXRFdmVudEluZm8oYSk7dGhpcy5sYXN0PXRoaXMuZ2V0RXZlbnRJbmZvKGEpO3JldHVybiEwfSx0b3VjaG1vdmU6ZnVuY3Rpb24oYSl7dGhpcy5sYXN0PXRoaXMuZ2V0RXZlbnRJbmZvKGEpO3JldHVybiEwfSx0b3VjaGVuZDpmdW5jdGlvbihhKXt0aGlzLmRvd24mJihhLnh5PXRoaXMubGFzdC54eSxhLmxhc3RUb3VjaGVzPXRoaXMubGFzdC50b3VjaGVzLHRoaXMuaGFuZGxlU2luZ2xlKGEpLAp0aGlzLmRvd249bnVsbCk7cmV0dXJuITB9LG1vdXNlZG93bjpmdW5jdGlvbihhKXt0aGlzLmRvd249dGhpcy5nZXRFdmVudEluZm8oYSk7dGhpcy5sYXN0PXRoaXMuZ2V0RXZlbnRJbmZvKGEpO3JldHVybiEwfSxtb3VzZXVwOmZ1bmN0aW9uKGEpe3ZhciBiPSEwO3RoaXMuY2hlY2tNb2RpZmllcnMoYSkmJih0aGlzLmNvbnRyb2wuaGFuZGxlUmlnaHRDbGlja3MmJk9wZW5MYXllcnMuRXZlbnQuaXNSaWdodENsaWNrKGEpKSYmKGI9dGhpcy5yaWdodGNsaWNrKGEpKTtyZXR1cm4gYn0scmlnaHRjbGljazpmdW5jdGlvbihhKXtpZih0aGlzLnBhc3Nlc1RvbGVyYW5jZShhKSl7aWYobnVsbCE9dGhpcy5yaWdodGNsaWNrVGltZXJJZClyZXR1cm4gdGhpcy5jbGVhclRpbWVyKCksdGhpcy5jYWxsYmFjaygiZGJscmlnaHRjbGljayIsW2FdKSwhdGhpcy5zdG9wRG91YmxlO2E9dGhpc1siZG91YmxlIl0/T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSxhKTp0aGlzLmNhbGxiYWNrKCJyaWdodGNsaWNrIiwKW2FdKTthPU9wZW5MYXllcnMuRnVuY3Rpb24uYmluZCh0aGlzLmRlbGF5ZWRSaWdodENhbGwsdGhpcyxhKTt0aGlzLnJpZ2h0Y2xpY2tUaW1lcklkPXdpbmRvdy5zZXRUaW1lb3V0KGEsdGhpcy5kZWxheSl9cmV0dXJuIXRoaXMuc3RvcFNpbmdsZX0sZGVsYXllZFJpZ2h0Q2FsbDpmdW5jdGlvbihhKXt0aGlzLnJpZ2h0Y2xpY2tUaW1lcklkPW51bGw7YSYmdGhpcy5jYWxsYmFjaygicmlnaHRjbGljayIsW2FdKX0sY2xpY2s6ZnVuY3Rpb24oYSl7dGhpcy5sYXN0fHwodGhpcy5sYXN0PXRoaXMuZ2V0RXZlbnRJbmZvKGEpKTt0aGlzLmhhbmRsZVNpbmdsZShhKTtyZXR1cm4hdGhpcy5zdG9wU2luZ2xlfSxkYmxjbGljazpmdW5jdGlvbihhKXt0aGlzLmhhbmRsZURvdWJsZShhKTtyZXR1cm4hdGhpcy5zdG9wRG91YmxlfSxoYW5kbGVEb3VibGU6ZnVuY3Rpb24oYSl7dGhpcy5wYXNzZXNEYmxjbGlja1RvbGVyYW5jZShhKSYmKHRoaXNbImRvdWJsZSJdJiZ0aGlzLmNhbGxiYWNrKCJkYmxjbGljayIsClthXSksdGhpcy5jbGVhclRpbWVyKCkpfSxoYW5kbGVTaW5nbGU6ZnVuY3Rpb24oYSl7dGhpcy5wYXNzZXNUb2xlcmFuY2UoYSkmJihudWxsIT10aGlzLnRpbWVySWQ/KHRoaXMubGFzdC50b3VjaGVzJiYxPT09dGhpcy5sYXN0LnRvdWNoZXMubGVuZ3RoJiYodGhpc1siZG91YmxlIl0mJk9wZW5MYXllcnMuRXZlbnQucHJldmVudERlZmF1bHQoYSksdGhpcy5oYW5kbGVEb3VibGUoYSkpLCghdGhpcy5sYXN0LnRvdWNoZXN8fDIhPT10aGlzLmxhc3QudG91Y2hlcy5sZW5ndGgpJiZ0aGlzLmNsZWFyVGltZXIoKSk6KHRoaXMuZmlyc3Q9dGhpcy5nZXRFdmVudEluZm8oYSksYT10aGlzLnNpbmdsZT9PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LGEpOm51bGwsdGhpcy5xdWV1ZVBvdGVudGlhbENsaWNrKGEpKSl9LHF1ZXVlUG90ZW50aWFsQ2xpY2s6ZnVuY3Rpb24oYSl7dGhpcy50aW1lcklkPXdpbmRvdy5zZXRUaW1lb3V0KE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZCh0aGlzLmRlbGF5ZWRDYWxsLAp0aGlzLGEpLHRoaXMuZGVsYXkpfSxwYXNzZXNUb2xlcmFuY2U6ZnVuY3Rpb24oYSl7dmFyIGI9ITA7aWYobnVsbCE9dGhpcy5waXhlbFRvbGVyYW5jZSYmdGhpcy5kb3duJiZ0aGlzLmRvd24ueHkmJihiPXRoaXMucGl4ZWxUb2xlcmFuY2U+PXRoaXMuZG93bi54eS5kaXN0YW5jZVRvKGEueHkpKSYmdGhpcy50b3VjaCYmdGhpcy5kb3duLnRvdWNoZXMubGVuZ3RoPT09dGhpcy5sYXN0LnRvdWNoZXMubGVuZ3RoKWZvcih2YXIgYT0wLGM9dGhpcy5kb3duLnRvdWNoZXMubGVuZ3RoO2E8YzsrK2EpaWYodGhpcy5nZXRUb3VjaERpc3RhbmNlKHRoaXMuZG93bi50b3VjaGVzW2FdLHRoaXMubGFzdC50b3VjaGVzW2FdKT50aGlzLnBpeGVsVG9sZXJhbmNlKXtiPSExO2JyZWFrfXJldHVybiBifSxnZXRUb3VjaERpc3RhbmNlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhhLmNsaWVudFgtYi5jbGllbnRYLDIpK01hdGgucG93KGEuY2xpZW50WS1iLmNsaWVudFksMikpfSwKcGFzc2VzRGJsY2xpY2tUb2xlcmFuY2U6ZnVuY3Rpb24oKXt2YXIgYT0hMDt0aGlzLmRvd24mJnRoaXMuZmlyc3QmJihhPXRoaXMuZG93bi54eS5kaXN0YW5jZVRvKHRoaXMuZmlyc3QueHkpPD10aGlzLmRibGNsaWNrVG9sZXJhbmNlKTtyZXR1cm4gYX0sY2xlYXJUaW1lcjpmdW5jdGlvbigpe251bGwhPXRoaXMudGltZXJJZCYmKHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy50aW1lcklkKSx0aGlzLnRpbWVySWQ9bnVsbCk7bnVsbCE9dGhpcy5yaWdodGNsaWNrVGltZXJJZCYmKHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5yaWdodGNsaWNrVGltZXJJZCksdGhpcy5yaWdodGNsaWNrVGltZXJJZD1udWxsKX0sZGVsYXllZENhbGw6ZnVuY3Rpb24oYSl7dGhpcy50aW1lcklkPW51bGw7YSYmdGhpcy5jYWxsYmFjaygiY2xpY2siLFthXSl9LGdldEV2ZW50SW5mbzpmdW5jdGlvbihhKXt2YXIgYjtpZihhLnRvdWNoZXMpe3ZhciBjPWEudG91Y2hlcy5sZW5ndGg7Yj1BcnJheShjKTtmb3IodmFyIGQsCmU9MDtlPGM7ZSsrKWQ9YS50b3VjaGVzW2VdLGJbZV09e2NsaWVudFg6ZC5vbENsaWVudFgsY2xpZW50WTpkLm9sQ2xpZW50WX19cmV0dXJue3h5OmEueHksdG91Y2hlczpifX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPSExO09wZW5MYXllcnMuSGFuZGxlci5wcm90b3R5cGUuZGVhY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cykmJih0aGlzLmNsZWFyVGltZXIoKSx0aGlzLmxhc3Q9dGhpcy5maXJzdD10aGlzLmRvd249bnVsbCxhPSEwKTtyZXR1cm4gYX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5IYW5kbGVyLkNsaWNrIn0pO09wZW5MYXllcnMuSGFuZGxlci5EcmFnPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5IYW5kbGVyLHtzdGFydGVkOiExLHN0b3BEb3duOiEwLGRyYWdnaW5nOiExLGxhc3Q6bnVsbCxzdGFydDpudWxsLGxhc3RNb3ZlRXZ0Om51bGwsb2xkT25zZWxlY3RzdGFydDpudWxsLGludGVydmFsOjAsdGltZW91dElkOm51bGwsZG9jdW1lbnREcmFnOiExLGRvY3VtZW50RXZlbnRzOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyl7T3BlbkxheWVycy5IYW5kbGVyLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZighMD09PXRoaXMuZG9jdW1lbnREcmFnKXt2YXIgZD10aGlzO3RoaXMuX2RvY01vdmU9ZnVuY3Rpb24oYSl7ZC5tb3VzZW1vdmUoe3h5Ont4OmEuY2xpZW50WCx5OmEuY2xpZW50WX0sZWxlbWVudDpkb2N1bWVudH0pfTt0aGlzLl9kb2NVcD1mdW5jdGlvbihhKXtkLm1vdXNldXAoe3h5Ont4OmEuY2xpZW50WCx5OmEuY2xpZW50WX19KX19fSwKZHJhZ3N0YXJ0OmZ1bmN0aW9uKGEpe3ZhciBiPSEwO3RoaXMuZHJhZ2dpbmc9ITE7dGhpcy5jaGVja01vZGlmaWVycyhhKSYmKE9wZW5MYXllcnMuRXZlbnQuaXNMZWZ0Q2xpY2soYSl8fE9wZW5MYXllcnMuRXZlbnQuaXNTaW5nbGVUb3VjaChhKSk/KHRoaXMuc3RhcnRlZD0hMCx0aGlzLmxhc3Q9dGhpcy5zdGFydD1hLnh5LE9wZW5MYXllcnMuRWxlbWVudC5hZGRDbGFzcyh0aGlzLm1hcC52aWV3UG9ydERpdiwib2xEcmFnRG93biIpLHRoaXMuZG93bihhKSx0aGlzLmNhbGxiYWNrKCJkb3duIixbYS54eV0pLE9wZW5MYXllcnMuRXZlbnQucHJldmVudERlZmF1bHQoYSksdGhpcy5vbGRPbnNlbGVjdHN0YXJ0fHwodGhpcy5vbGRPbnNlbGVjdHN0YXJ0PWRvY3VtZW50Lm9uc2VsZWN0c3RhcnQ/ZG9jdW1lbnQub25zZWxlY3RzdGFydDpPcGVuTGF5ZXJzLkZ1bmN0aW9uLlRydWUpLGRvY3VtZW50Lm9uc2VsZWN0c3RhcnQ9T3BlbkxheWVycy5GdW5jdGlvbi5GYWxzZSxiPSF0aGlzLnN0b3BEb3duKToKKHRoaXMuc3RhcnRlZD0hMSx0aGlzLmxhc3Q9dGhpcy5zdGFydD1udWxsKTtyZXR1cm4gYn0sZHJhZ21vdmU6ZnVuY3Rpb24oYSl7dGhpcy5sYXN0TW92ZUV2dD1hO2lmKHRoaXMuc3RhcnRlZCYmIXRoaXMudGltZW91dElkJiYoYS54eS54IT10aGlzLmxhc3QueHx8YS54eS55IT10aGlzLmxhc3QueSkpITA9PT10aGlzLmRvY3VtZW50RHJhZyYmdGhpcy5kb2N1bWVudEV2ZW50cyYmKGEuZWxlbWVudD09PWRvY3VtZW50Pyh0aGlzLmFkanVzdFhZKGEpLHRoaXMuc2V0RXZlbnQoYSkpOnRoaXMucmVtb3ZlRG9jdW1lbnRFdmVudHMoKSksMDx0aGlzLmludGVydmFsJiYodGhpcy50aW1lb3V0SWQ9c2V0VGltZW91dChPcGVuTGF5ZXJzLkZ1bmN0aW9uLmJpbmQodGhpcy5yZW1vdmVUaW1lb3V0LHRoaXMpLHRoaXMuaW50ZXJ2YWwpKSx0aGlzLmRyYWdnaW5nPSEwLHRoaXMubW92ZShhKSx0aGlzLmNhbGxiYWNrKCJtb3ZlIixbYS54eV0pLHRoaXMub2xkT25zZWxlY3RzdGFydHx8KHRoaXMub2xkT25zZWxlY3RzdGFydD0KZG9jdW1lbnQub25zZWxlY3RzdGFydCxkb2N1bWVudC5vbnNlbGVjdHN0YXJ0PU9wZW5MYXllcnMuRnVuY3Rpb24uRmFsc2UpLHRoaXMubGFzdD1hLnh5O3JldHVybiEwfSxkcmFnZW5kOmZ1bmN0aW9uKGEpe2lmKHRoaXMuc3RhcnRlZCl7ITA9PT10aGlzLmRvY3VtZW50RHJhZyYmdGhpcy5kb2N1bWVudEV2ZW50cyYmKHRoaXMuYWRqdXN0WFkoYSksdGhpcy5yZW1vdmVEb2N1bWVudEV2ZW50cygpKTt2YXIgYj10aGlzLnN0YXJ0IT10aGlzLmxhc3Q7dGhpcy5kcmFnZ2luZz10aGlzLnN0YXJ0ZWQ9ITE7T3BlbkxheWVycy5FbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMubWFwLnZpZXdQb3J0RGl2LCJvbERyYWdEb3duIik7dGhpcy51cChhKTt0aGlzLmNhbGxiYWNrKCJ1cCIsW2EueHldKTtiJiZ0aGlzLmNhbGxiYWNrKCJkb25lIixbYS54eV0pO2RvY3VtZW50Lm9uc2VsZWN0c3RhcnQ9dGhpcy5vbGRPbnNlbGVjdHN0YXJ0fXJldHVybiEwfSxkb3duOmZ1bmN0aW9uKCl7fSxtb3ZlOmZ1bmN0aW9uKCl7fSwKdXA6ZnVuY3Rpb24oKXt9LG91dDpmdW5jdGlvbigpe30sbW91c2Vkb3duOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmRyYWdzdGFydChhKX0sdG91Y2hzdGFydDpmdW5jdGlvbihhKXt0aGlzLnN0YXJ0VG91Y2goKTtyZXR1cm4gdGhpcy5kcmFnc3RhcnQoYSl9LG1vdXNlbW92ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5kcmFnbW92ZShhKX0sdG91Y2htb3ZlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmRyYWdtb3ZlKGEpfSxyZW1vdmVUaW1lb3V0OmZ1bmN0aW9uKCl7dGhpcy50aW1lb3V0SWQ9bnVsbDt0aGlzLmRyYWdnaW5nJiZ0aGlzLm1vdXNlbW92ZSh0aGlzLmxhc3RNb3ZlRXZ0KX0sbW91c2V1cDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5kcmFnZW5kKGEpfSx0b3VjaGVuZDpmdW5jdGlvbihhKXthLnh5PXRoaXMubGFzdDtyZXR1cm4gdGhpcy5kcmFnZW5kKGEpfSxtb3VzZW91dDpmdW5jdGlvbihhKXtpZih0aGlzLnN0YXJ0ZWQmJk9wZW5MYXllcnMuVXRpbC5tb3VzZUxlZnQoYSwKdGhpcy5tYXAudmlld1BvcnREaXYpKWlmKCEwPT09dGhpcy5kb2N1bWVudERyYWcpdGhpcy5hZGREb2N1bWVudEV2ZW50cygpO2Vsc2V7dmFyIGI9dGhpcy5zdGFydCE9dGhpcy5sYXN0O3RoaXMuZHJhZ2dpbmc9dGhpcy5zdGFydGVkPSExO09wZW5MYXllcnMuRWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm1hcC52aWV3UG9ydERpdiwib2xEcmFnRG93biIpO3RoaXMub3V0KGEpO3RoaXMuY2FsbGJhY2soIm91dCIsW10pO2ImJnRoaXMuY2FsbGJhY2soImRvbmUiLFthLnh5XSk7ZG9jdW1lbnQub25zZWxlY3RzdGFydCYmKGRvY3VtZW50Lm9uc2VsZWN0c3RhcnQ9dGhpcy5vbGRPbnNlbGVjdHN0YXJ0KX1yZXR1cm4hMH0sY2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFydD09dGhpcy5sYXN0fSxhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPSExO09wZW5MYXllcnMuSGFuZGxlci5wcm90b3R5cGUuYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpJiYodGhpcy5kcmFnZ2luZz0KITEsYT0hMCk7cmV0dXJuIGF9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgYT0hMTtPcGVuTGF5ZXJzLkhhbmRsZXIucHJvdG90eXBlLmRlYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpJiYodGhpcy5kcmFnZ2luZz10aGlzLnN0YXJ0ZWQ9ITEsdGhpcy5sYXN0PXRoaXMuc3RhcnQ9bnVsbCxhPSEwLE9wZW5MYXllcnMuRWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm1hcC52aWV3UG9ydERpdiwib2xEcmFnRG93biIpKTtyZXR1cm4gYX0sYWRqdXN0WFk6ZnVuY3Rpb24oYSl7dmFyIGI9T3BlbkxheWVycy5VdGlsLnBhZ2VQb3NpdGlvbih0aGlzLm1hcC52aWV3UG9ydERpdik7YS54eS54LT1iWzBdO2EueHkueS09YlsxXX0sYWRkRG9jdW1lbnRFdmVudHM6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkVsZW1lbnQuYWRkQ2xhc3MoZG9jdW1lbnQuYm9keSwib2xEcmFnRG93biIpO3RoaXMuZG9jdW1lbnRFdmVudHM9ITA7T3BlbkxheWVycy5FdmVudC5vYnNlcnZlKGRvY3VtZW50LCJtb3VzZW1vdmUiLAp0aGlzLl9kb2NNb3ZlKTtPcGVuTGF5ZXJzLkV2ZW50Lm9ic2VydmUoZG9jdW1lbnQsIm1vdXNldXAiLHRoaXMuX2RvY1VwKX0scmVtb3ZlRG9jdW1lbnRFdmVudHM6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkVsZW1lbnQucmVtb3ZlQ2xhc3MoZG9jdW1lbnQuYm9keSwib2xEcmFnRG93biIpO3RoaXMuZG9jdW1lbnRFdmVudHM9ITE7T3BlbkxheWVycy5FdmVudC5zdG9wT2JzZXJ2aW5nKGRvY3VtZW50LCJtb3VzZW1vdmUiLHRoaXMuX2RvY01vdmUpO09wZW5MYXllcnMuRXZlbnQuc3RvcE9ic2VydmluZyhkb2N1bWVudCwibW91c2V1cCIsdGhpcy5fZG9jVXApfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkhhbmRsZXIuRHJhZyJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuT3ZlcnZpZXdNYXA9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse2VsZW1lbnQ6bnVsbCxvdm1hcDpudWxsLHNpemU6e3c6MTgwLGg6OTB9LGxheWVyczpudWxsLG1pblJlY3RTaXplOjE1LG1pblJlY3REaXNwbGF5Q2xhc3M6IlJlY3RSZXBsYWNlbWVudCIsbWluUmF0aW86OCxtYXhSYXRpbzozMixtYXBPcHRpb25zOm51bGwsYXV0b1BhbjohMSxoYW5kbGVyczpudWxsLHJlc29sdXRpb25GYWN0b3I6MSxtYXhpbWl6ZWQ6ITEsbWF4aW1pemVUaXRsZToiIixtaW5pbWl6ZVRpdGxlOiIiLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7dGhpcy5sYXllcnM9W107dGhpcy5oYW5kbGVycz17fTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5tYXBEaXYmJih0aGlzLmhhbmRsZXJzLmNsaWNrJiZ0aGlzLmhhbmRsZXJzLmNsaWNrLmRlc3Ryb3koKSwKdGhpcy5oYW5kbGVycy5kcmFnJiZ0aGlzLmhhbmRsZXJzLmRyYWcuZGVzdHJveSgpLHRoaXMub3ZtYXAmJnRoaXMub3ZtYXAudmlld1BvcnREaXYucmVtb3ZlQ2hpbGQodGhpcy5leHRlbnRSZWN0YW5nbGUpLHRoaXMuZXh0ZW50UmVjdGFuZ2xlPW51bGwsdGhpcy5yZWN0RXZlbnRzJiYodGhpcy5yZWN0RXZlbnRzLmRlc3Ryb3koKSx0aGlzLnJlY3RFdmVudHM9bnVsbCksdGhpcy5vdm1hcCYmKHRoaXMub3ZtYXAuZGVzdHJveSgpLHRoaXMub3ZtYXA9bnVsbCksdGhpcy5lbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMubWFwRGl2KSx0aGlzLm1hcERpdj1udWxsLHRoaXMuZGl2LnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudCksdGhpcy5lbGVtZW50PW51bGwsdGhpcy5tYXhpbWl6ZURpdiYmKHRoaXMuZGl2LnJlbW92ZUNoaWxkKHRoaXMubWF4aW1pemVEaXYpLHRoaXMubWF4aW1pemVEaXY9bnVsbCksdGhpcy5taW5pbWl6ZURpdiYmKHRoaXMuZGl2LnJlbW92ZUNoaWxkKHRoaXMubWluaW1pemVEaXYpLAp0aGlzLm1pbmltaXplRGl2PW51bGwpLHRoaXMubWFwLmV2ZW50cy51bih7YnV0dG9uY2xpY2s6dGhpcy5vbkJ1dHRvbkNsaWNrLG1vdmVlbmQ6dGhpcy51cGRhdGUsY2hhbmdlYmFzZWxheWVyOnRoaXMuYmFzZUxheWVyRHJhdyxzY29wZTp0aGlzfSksT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGRyYXc6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRyYXcuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKDA9PT10aGlzLmxheWVycy5sZW5ndGgpaWYodGhpcy5tYXAuYmFzZUxheWVyKXRoaXMubGF5ZXJzPVt0aGlzLm1hcC5iYXNlTGF5ZXIuY2xvbmUoKV07ZWxzZSByZXR1cm4gdGhpcy5tYXAuZXZlbnRzLnJlZ2lzdGVyKCJjaGFuZ2ViYXNlbGF5ZXIiLHRoaXMsdGhpcy5iYXNlTGF5ZXJEcmF3KSx0aGlzLmRpdjt0aGlzLmVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dGhpcy5lbGVtZW50LmNsYXNzTmFtZT0KdGhpcy5kaXNwbGF5Q2xhc3MrIkVsZW1lbnQiO3RoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5PSJub25lIjt0aGlzLm1hcERpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLm1hcERpdi5zdHlsZS53aWR0aD10aGlzLnNpemUudysicHgiO3RoaXMubWFwRGl2LnN0eWxlLmhlaWdodD10aGlzLnNpemUuaCsicHgiO3RoaXMubWFwRGl2LnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSI7dGhpcy5tYXBEaXYuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiI7dGhpcy5tYXBEaXYuaWQ9T3BlbkxheWVycy5VdGlsLmNyZWF0ZVVuaXF1ZUlEKCJvdmVydmlld01hcCIpO3RoaXMuZXh0ZW50UmVjdGFuZ2xlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RoaXMuZXh0ZW50UmVjdGFuZ2xlLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7dGhpcy5leHRlbnRSZWN0YW5nbGUuc3R5bGUuekluZGV4PTFFMzt0aGlzLmV4dGVudFJlY3RhbmdsZS5jbGFzc05hbWU9dGhpcy5kaXNwbGF5Q2xhc3MrCiJFeHRlbnRSZWN0YW5nbGUiO3RoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLm1hcERpdik7dGhpcy5kaXYuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtpZih0aGlzLm91dHNpZGVWaWV3cG9ydCl0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheT0iIjtlbHNle3RoaXMuZGl2LmNsYXNzTmFtZSs9IiAiK3RoaXMuZGlzcGxheUNsYXNzKyJDb250YWluZXIiO3ZhciBhPU9wZW5MYXllcnMuVXRpbC5nZXRJbWFnZUxvY2F0aW9uKCJsYXllci1zd2l0Y2hlci1tYXhpbWl6ZS5wbmciKTt0aGlzLm1heGltaXplRGl2PU9wZW5MYXllcnMuVXRpbC5jcmVhdGVBbHBoYUltYWdlRGl2KHRoaXMuZGlzcGxheUNsYXNzKyJNYXhpbWl6ZUJ1dHRvbiIsbnVsbCxudWxsLGEsImFic29sdXRlIik7dGhpcy5tYXhpbWl6ZURpdi5zdHlsZS5kaXNwbGF5PSJub25lIjt0aGlzLm1heGltaXplRGl2LmNsYXNzTmFtZT10aGlzLmRpc3BsYXlDbGFzcysiTWF4aW1pemVCdXR0b24gb2xCdXR0b24iO3RoaXMubWF4aW1pemVUaXRsZSYmCih0aGlzLm1heGltaXplRGl2LnRpdGxlPXRoaXMubWF4aW1pemVUaXRsZSk7dGhpcy5kaXYuYXBwZW5kQ2hpbGQodGhpcy5tYXhpbWl6ZURpdik7YT1PcGVuTGF5ZXJzLlV0aWwuZ2V0SW1hZ2VMb2NhdGlvbigibGF5ZXItc3dpdGNoZXItbWluaW1pemUucG5nIik7dGhpcy5taW5pbWl6ZURpdj1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlQWxwaGFJbWFnZURpdigiT3BlbkxheWVyc19Db250cm9sX21pbmltaXplRGl2IixudWxsLG51bGwsYSwiYWJzb2x1dGUiKTt0aGlzLm1pbmltaXplRGl2LnN0eWxlLmRpc3BsYXk9Im5vbmUiO3RoaXMubWluaW1pemVEaXYuY2xhc3NOYW1lPXRoaXMuZGlzcGxheUNsYXNzKyJNaW5pbWl6ZUJ1dHRvbiBvbEJ1dHRvbiI7dGhpcy5taW5pbWl6ZVRpdGxlJiYodGhpcy5taW5pbWl6ZURpdi50aXRsZT10aGlzLm1pbmltaXplVGl0bGUpO3RoaXMuZGl2LmFwcGVuZENoaWxkKHRoaXMubWluaW1pemVEaXYpO3RoaXMubWluaW1pemVDb250cm9sKCl9dGhpcy5tYXAuZ2V0RXh0ZW50KCkmJgp0aGlzLnVwZGF0ZSgpO3RoaXMubWFwLmV2ZW50cy5vbih7YnV0dG9uY2xpY2s6dGhpcy5vbkJ1dHRvbkNsaWNrLG1vdmVlbmQ6dGhpcy51cGRhdGUsc2NvcGU6dGhpc30pO3RoaXMubWF4aW1pemVkJiZ0aGlzLm1heGltaXplQ29udHJvbCgpO3JldHVybiB0aGlzLmRpdn0sYmFzZUxheWVyRHJhdzpmdW5jdGlvbigpe3RoaXMuZHJhdygpO3RoaXMubWFwLmV2ZW50cy51bnJlZ2lzdGVyKCJjaGFuZ2ViYXNlbGF5ZXIiLHRoaXMsdGhpcy5iYXNlTGF5ZXJEcmF3KX0scmVjdERyYWc6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5oYW5kbGVycy5kcmFnLmxhc3QueC1hLngsYz10aGlzLmhhbmRsZXJzLmRyYWcubGFzdC55LWEueTtpZigwIT1ifHwwIT1jKXt2YXIgZD10aGlzLnJlY3RQeEJvdW5kcy50b3AsZT10aGlzLnJlY3RQeEJvdW5kcy5sZWZ0LGE9TWF0aC5hYnModGhpcy5yZWN0UHhCb3VuZHMuZ2V0SGVpZ2h0KCkpLGY9dGhpcy5yZWN0UHhCb3VuZHMuZ2V0V2lkdGgoKSxjPU1hdGgubWF4KDAsCmQtYyksYz1NYXRoLm1pbihjLHRoaXMub3ZtYXAuc2l6ZS5oLXRoaXMuaENvbXAtYSksYj1NYXRoLm1heCgwLGUtYiksYj1NYXRoLm1pbihiLHRoaXMub3ZtYXAuc2l6ZS53LXRoaXMud0NvbXAtZik7dGhpcy5zZXRSZWN0UHhCb3VuZHMobmV3IE9wZW5MYXllcnMuQm91bmRzKGIsYythLGIrZixjKSl9fSxtYXBEaXZDbGljazpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnJlY3RQeEJvdW5kcy5nZXRDZW50ZXJQaXhlbCgpLGM9YS54eS54LWIueCxkPWEueHkueS1iLnksZT10aGlzLnJlY3RQeEJvdW5kcy50b3AsZj10aGlzLnJlY3RQeEJvdW5kcy5sZWZ0LGE9TWF0aC5hYnModGhpcy5yZWN0UHhCb3VuZHMuZ2V0SGVpZ2h0KCkpLGI9dGhpcy5yZWN0UHhCb3VuZHMuZ2V0V2lkdGgoKSxkPU1hdGgubWF4KDAsZStkKSxkPU1hdGgubWluKGQsdGhpcy5vdm1hcC5zaXplLmgtYSksYz1NYXRoLm1heCgwLGYrYyksYz1NYXRoLm1pbihjLHRoaXMub3ZtYXAuc2l6ZS53LWIpO3RoaXMuc2V0UmVjdFB4Qm91bmRzKG5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhjLApkK2EsYytiLGQpKTt0aGlzLnVwZGF0ZU1hcFRvUmVjdCgpfSxvbkJ1dHRvbkNsaWNrOmZ1bmN0aW9uKGEpe2EuYnV0dG9uRWxlbWVudD09PXRoaXMubWluaW1pemVEaXY/dGhpcy5taW5pbWl6ZUNvbnRyb2woKTphLmJ1dHRvbkVsZW1lbnQ9PT10aGlzLm1heGltaXplRGl2JiZ0aGlzLm1heGltaXplQ29udHJvbCgpfSxtYXhpbWl6ZUNvbnRyb2w6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXk9IiI7dGhpcy5zaG93VG9nZ2xlKCExKTtudWxsIT1hJiZPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSl9LG1pbmltaXplQ29udHJvbDpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheT0ibm9uZSI7dGhpcy5zaG93VG9nZ2xlKCEwKTtudWxsIT1hJiZPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSl9LHNob3dUb2dnbGU6ZnVuY3Rpb24oYSl7dGhpcy5tYXhpbWl6ZURpdiYmKHRoaXMubWF4aW1pemVEaXYuc3R5bGUuZGlzcGxheT1hPyIiOiJub25lIik7dGhpcy5taW5pbWl6ZURpdiYmCih0aGlzLm1pbmltaXplRGl2LnN0eWxlLmRpc3BsYXk9YT8ibm9uZSI6IiIpfSx1cGRhdGU6ZnVuY3Rpb24oKXtudWxsPT10aGlzLm92bWFwJiZ0aGlzLmNyZWF0ZU1hcCgpOyh0aGlzLmF1dG9QYW58fCF0aGlzLmlzU3VpdGFibGVPdmVydmlldygpKSYmdGhpcy51cGRhdGVPdmVydmlldygpO3RoaXMudXBkYXRlUmVjdFRvTWFwKCl9LGlzU3VpdGFibGVPdmVydmlldzpmdW5jdGlvbigpe3ZhciBhPXRoaXMubWFwLmdldEV4dGVudCgpLGI9dGhpcy5tYXAuZ2V0TWF4RXh0ZW50KCksYT1uZXcgT3BlbkxheWVycy5Cb3VuZHMoTWF0aC5tYXgoYS5sZWZ0LGIubGVmdCksTWF0aC5tYXgoYS5ib3R0b20sYi5ib3R0b20pLE1hdGgubWluKGEucmlnaHQsYi5yaWdodCksTWF0aC5taW4oYS50b3AsYi50b3ApKTt0aGlzLm92bWFwLmdldFByb2plY3Rpb24oKSE9dGhpcy5tYXAuZ2V0UHJvamVjdGlvbigpJiYoYT1hLnRyYW5zZm9ybSh0aGlzLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCksdGhpcy5vdm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCkpKTsKYj10aGlzLm92bWFwLmdldFJlc29sdXRpb24oKS90aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCk7cmV0dXJuIGI+dGhpcy5taW5SYXRpbyYmYjw9dGhpcy5tYXhSYXRpbyYmdGhpcy5vdm1hcC5nZXRFeHRlbnQoKS5jb250YWluc0JvdW5kcyhhKX0sdXBkYXRlT3ZlcnZpZXc6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCksYj10aGlzLm92bWFwLmdldFJlc29sdXRpb24oKSxjPWIvYTtjPnRoaXMubWF4UmF0aW8/Yj10aGlzLm1pblJhdGlvKmE6Yzw9dGhpcy5taW5SYXRpbyYmKGI9dGhpcy5tYXhSYXRpbyphKTt0aGlzLm92bWFwLmdldFByb2plY3Rpb24oKSE9dGhpcy5tYXAuZ2V0UHJvamVjdGlvbigpPyhhPXRoaXMubWFwLmNlbnRlci5jbG9uZSgpLGEudHJhbnNmb3JtKHRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSx0aGlzLm92bWFwLmdldFByb2plY3Rpb25PYmplY3QoKSkpOmE9dGhpcy5tYXAuY2VudGVyO3RoaXMub3ZtYXAuc2V0Q2VudGVyKGEsCnRoaXMub3ZtYXAuZ2V0Wm9vbUZvclJlc29sdXRpb24oYip0aGlzLnJlc29sdXRpb25GYWN0b3IpKTt0aGlzLnVwZGF0ZVJlY3RUb01hcCgpfSxjcmVhdGVNYXA6ZnVuY3Rpb24oKXt2YXIgYT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHtjb250cm9sczpbXSxtYXhSZXNvbHV0aW9uOiJhdXRvIixmYWxsVGhyb3VnaDohMX0sdGhpcy5tYXBPcHRpb25zKTt0aGlzLm92bWFwPW5ldyBPcGVuTGF5ZXJzLk1hcCh0aGlzLm1hcERpdixhKTt0aGlzLm92bWFwLnZpZXdQb3J0RGl2LmFwcGVuZENoaWxkKHRoaXMuZXh0ZW50UmVjdGFuZ2xlKTtPcGVuTGF5ZXJzLkV2ZW50LnN0b3BPYnNlcnZpbmcod2luZG93LCJ1bmxvYWQiLHRoaXMub3ZtYXAudW5sb2FkRGVzdHJveSk7dGhpcy5vdm1hcC5hZGRMYXllcnModGhpcy5sYXllcnMpO3RoaXMub3ZtYXAuem9vbVRvTWF4RXh0ZW50KCk7dGhpcy53Q29tcD0odGhpcy53Q29tcD1wYXJzZUludChPcGVuTGF5ZXJzLkVsZW1lbnQuZ2V0U3R5bGUodGhpcy5leHRlbnRSZWN0YW5nbGUsCiJib3JkZXItbGVmdC13aWR0aCIpKStwYXJzZUludChPcGVuTGF5ZXJzLkVsZW1lbnQuZ2V0U3R5bGUodGhpcy5leHRlbnRSZWN0YW5nbGUsImJvcmRlci1yaWdodC13aWR0aCIpKSk/dGhpcy53Q29tcDoyO3RoaXMuaENvbXA9KHRoaXMuaENvbXA9cGFyc2VJbnQoT3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKHRoaXMuZXh0ZW50UmVjdGFuZ2xlLCJib3JkZXItdG9wLXdpZHRoIikpK3BhcnNlSW50KE9wZW5MYXllcnMuRWxlbWVudC5nZXRTdHlsZSh0aGlzLmV4dGVudFJlY3RhbmdsZSwiYm9yZGVyLWJvdHRvbS13aWR0aCIpKSk/dGhpcy5oQ29tcDoyO3RoaXMuaGFuZGxlcnMuZHJhZz1uZXcgT3BlbkxheWVycy5IYW5kbGVyLkRyYWcodGhpcyx7bW92ZTp0aGlzLnJlY3REcmFnLGRvbmU6dGhpcy51cGRhdGVNYXBUb1JlY3R9LHttYXA6dGhpcy5vdm1hcH0pO3RoaXMuaGFuZGxlcnMuY2xpY2s9bmV3IE9wZW5MYXllcnMuSGFuZGxlci5DbGljayh0aGlzLHtjbGljazp0aGlzLm1hcERpdkNsaWNrfSwKe3NpbmdsZTohMCwiZG91YmxlIjohMSxzdG9wU2luZ2xlOiEwLHN0b3BEb3VibGU6ITAscGl4ZWxUb2xlcmFuY2U6MSxtYXA6dGhpcy5vdm1hcH0pO3RoaXMuaGFuZGxlcnMuY2xpY2suYWN0aXZhdGUoKTt0aGlzLnJlY3RFdmVudHM9bmV3IE9wZW5MYXllcnMuRXZlbnRzKHRoaXMsdGhpcy5leHRlbnRSZWN0YW5nbGUsbnVsbCwhMCk7dGhpcy5yZWN0RXZlbnRzLnJlZ2lzdGVyKCJtb3VzZW92ZXIiLHRoaXMsZnVuY3Rpb24oKXshdGhpcy5oYW5kbGVycy5kcmFnLmFjdGl2ZSYmIXRoaXMubWFwLmRyYWdnaW5nJiZ0aGlzLmhhbmRsZXJzLmRyYWcuYWN0aXZhdGUoKX0pO3RoaXMucmVjdEV2ZW50cy5yZWdpc3RlcigibW91c2VvdXQiLHRoaXMsZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXJzLmRyYWcuZHJhZ2dpbmd8fHRoaXMuaGFuZGxlcnMuZHJhZy5kZWFjdGl2YXRlKCl9KTtpZih0aGlzLm92bWFwLmdldFByb2plY3Rpb24oKSE9dGhpcy5tYXAuZ2V0UHJvamVjdGlvbigpKXt2YXIgYT10aGlzLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCkuZ2V0VW5pdHMoKXx8CnRoaXMubWFwLnVuaXRzfHx0aGlzLm1hcC5iYXNlTGF5ZXIudW5pdHMsYj10aGlzLm92bWFwLmdldFByb2plY3Rpb25PYmplY3QoKS5nZXRVbml0cygpfHx0aGlzLm92bWFwLnVuaXRzfHx0aGlzLm92bWFwLmJhc2VMYXllci51bml0czt0aGlzLnJlc29sdXRpb25GYWN0b3I9YSYmYj9PcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVFthXS9PcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVFtiXToxfX0sdXBkYXRlUmVjdFRvTWFwOmZ1bmN0aW9uKCl7dmFyIGE7YT10aGlzLm92bWFwLmdldFByb2plY3Rpb24oKSE9dGhpcy5tYXAuZ2V0UHJvamVjdGlvbigpP3RoaXMubWFwLmdldEV4dGVudCgpLnRyYW5zZm9ybSh0aGlzLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCksdGhpcy5vdm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCkpOnRoaXMubWFwLmdldEV4dGVudCgpOyhhPXRoaXMuZ2V0UmVjdEJvdW5kc0Zyb21NYXBCb3VuZHMoYSkpJiZ0aGlzLnNldFJlY3RQeEJvdW5kcyhhKX0sdXBkYXRlTWFwVG9SZWN0OmZ1bmN0aW9uKCl7dmFyIGE9CnRoaXMuZ2V0TWFwQm91bmRzRnJvbVJlY3RCb3VuZHModGhpcy5yZWN0UHhCb3VuZHMpO3RoaXMub3ZtYXAuZ2V0UHJvamVjdGlvbigpIT10aGlzLm1hcC5nZXRQcm9qZWN0aW9uKCkmJihhPWEudHJhbnNmb3JtKHRoaXMub3ZtYXAuZ2V0UHJvamVjdGlvbk9iamVjdCgpLHRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSkpO3RoaXMubWFwLnBhblRvKGEuZ2V0Q2VudGVyTG9uTGF0KCkpfSxzZXRSZWN0UHhCb3VuZHM6ZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5tYXgoYS50b3AsMCksYz1NYXRoLm1heChhLmxlZnQsMCksZD1NYXRoLm1pbihhLnRvcCtNYXRoLmFicyhhLmdldEhlaWdodCgpKSx0aGlzLm92bWFwLnNpemUuaC10aGlzLmhDb21wKSxhPU1hdGgubWluKGEubGVmdCthLmdldFdpZHRoKCksdGhpcy5vdm1hcC5zaXplLnctdGhpcy53Q29tcCksZT1NYXRoLm1heChhLWMsMCksZj1NYXRoLm1heChkLWIsMCk7ZTx0aGlzLm1pblJlY3RTaXplfHxmPHRoaXMubWluUmVjdFNpemU/Cih0aGlzLmV4dGVudFJlY3RhbmdsZS5jbGFzc05hbWU9dGhpcy5kaXNwbGF5Q2xhc3MrdGhpcy5taW5SZWN0RGlzcGxheUNsYXNzLGU9YytlLzItdGhpcy5taW5SZWN0U2l6ZS8yLHRoaXMuZXh0ZW50UmVjdGFuZ2xlLnN0eWxlLnRvcD1NYXRoLnJvdW5kKGIrZi8yLXRoaXMubWluUmVjdFNpemUvMikrInB4Iix0aGlzLmV4dGVudFJlY3RhbmdsZS5zdHlsZS5sZWZ0PU1hdGgucm91bmQoZSkrInB4Iix0aGlzLmV4dGVudFJlY3RhbmdsZS5zdHlsZS5oZWlnaHQ9dGhpcy5taW5SZWN0U2l6ZSsicHgiLHRoaXMuZXh0ZW50UmVjdGFuZ2xlLnN0eWxlLndpZHRoPXRoaXMubWluUmVjdFNpemUrInB4Iik6KHRoaXMuZXh0ZW50UmVjdGFuZ2xlLmNsYXNzTmFtZT10aGlzLmRpc3BsYXlDbGFzcysiRXh0ZW50UmVjdGFuZ2xlIix0aGlzLmV4dGVudFJlY3RhbmdsZS5zdHlsZS50b3A9TWF0aC5yb3VuZChiKSsicHgiLHRoaXMuZXh0ZW50UmVjdGFuZ2xlLnN0eWxlLmxlZnQ9TWF0aC5yb3VuZChjKSsKInB4Iix0aGlzLmV4dGVudFJlY3RhbmdsZS5zdHlsZS5oZWlnaHQ9TWF0aC5yb3VuZChmKSsicHgiLHRoaXMuZXh0ZW50UmVjdGFuZ2xlLnN0eWxlLndpZHRoPU1hdGgucm91bmQoZSkrInB4Iik7dGhpcy5yZWN0UHhCb3VuZHM9bmV3IE9wZW5MYXllcnMuQm91bmRzKE1hdGgucm91bmQoYyksTWF0aC5yb3VuZChkKSxNYXRoLnJvdW5kKGEpLE1hdGgucm91bmQoYikpfSxnZXRSZWN0Qm91bmRzRnJvbU1hcEJvdW5kczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldE92ZXJ2aWV3UHhGcm9tTG9uTGF0KHtsb246YS5sZWZ0LGxhdDphLmJvdHRvbX0pLGE9dGhpcy5nZXRPdmVydmlld1B4RnJvbUxvbkxhdCh7bG9uOmEucmlnaHQsbGF0OmEudG9wfSksYz1udWxsO2ImJmEmJihjPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhiLngsYi55LGEueCxhLnkpKTtyZXR1cm4gY30sZ2V0TWFwQm91bmRzRnJvbVJlY3RCb3VuZHM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRMb25MYXRGcm9tT3ZlcnZpZXdQeCh7eDphLmxlZnQsCnk6YS5ib3R0b219KSxhPXRoaXMuZ2V0TG9uTGF0RnJvbU92ZXJ2aWV3UHgoe3g6YS5yaWdodCx5OmEudG9wfSk7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhiLmxvbixiLmxhdCxhLmxvbixhLmxhdCl9LGdldExvbkxhdEZyb21PdmVydmlld1B4OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3ZtYXAuc2l6ZSxjPXRoaXMub3ZtYXAuZ2V0UmVzb2x1dGlvbigpLGQ9dGhpcy5vdm1hcC5nZXRFeHRlbnQoKS5nZXRDZW50ZXJMb25MYXQoKTtyZXR1cm57bG9uOmQubG9uKyhhLngtYi53LzIpKmMsbGF0OmQubGF0LShhLnktYi5oLzIpKmN9fSxnZXRPdmVydmlld1B4RnJvbUxvbkxhdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm92bWFwLmdldFJlc29sdXRpb24oKSxjPXRoaXMub3ZtYXAuZ2V0RXh0ZW50KCk7aWYoYylyZXR1cm57eDpNYXRoLnJvdW5kKDEvYiooYS5sb24tYy5sZWZ0KSkseTpNYXRoLnJvdW5kKDEvYiooYy50b3AtYS5sYXQpKX19LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5PdmVydmlld01hcCJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5XTVNEZXNjcmliZUxheWVyPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuWE1MLlZlcnNpb25lZE9HQyx7ZGVmYXVsdFZlcnNpb246IjEuMS4xIixDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XTVNEZXNjcmliZUxheWVyIn0pO09wZW5MYXllcnMuRm9ybWF0LldNU0Rlc2NyaWJlTGF5ZXIudjFfMV8xPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuV01TRGVzY3JpYmVMYXllcix7aW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkZvcm1hdC5XTVNEZXNjcmliZUxheWVyLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKX0scmVhZDpmdW5jdGlvbihhKXsic3RyaW5nIj09dHlwZW9mIGEmJihhPU9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUucmVhZC5hcHBseSh0aGlzLFthXSkpO2Zvcih2YXIgYj1hLmRvY3VtZW50RWxlbWVudC5jaGlsZE5vZGVzLGM9e2xheWVyRGVzY3JpcHRpb25zOltdfSxkLGUsZj0wO2Y8Yi5sZW5ndGg7KytmKWlmKGQ9YltmXSxlPWQubm9kZU5hbWUsIkxheWVyRGVzY3JpcHRpb24iPT1lKXtlPWQuZ2V0QXR0cmlidXRlKCJuYW1lIik7dmFyIGc9IiIsaD0iIixpPSIiO2QuZ2V0QXR0cmlidXRlKCJvd3NUeXBlIik/KGc9ZC5nZXRBdHRyaWJ1dGUoIm93c1R5cGUiKSwKaD1kLmdldEF0dHJpYnV0ZSgib3dzVVJMIikpOiIiIT1kLmdldEF0dHJpYnV0ZSgid2ZzIik/KGc9IldGUyIsaD1kLmdldEF0dHJpYnV0ZSgid2ZzIikpOiIiIT1kLmdldEF0dHJpYnV0ZSgid2NzIikmJihnPSJXQ1MiLGg9ZC5nZXRBdHRyaWJ1dGUoIndjcyIpKTtkPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIlF1ZXJ5Iik7MDxkLmxlbmd0aCYmKChpPWRbMF0uZ2V0QXR0cmlidXRlKCJ0eXBlTmFtZSIpKXx8KGk9ZFswXS5nZXRBdHRyaWJ1dGUoInR5cGVuYW1lIikpKTtkPXtsYXllck5hbWU6ZSxvd3NUeXBlOmcsb3dzVVJMOmgsdHlwZU5hbWU6aX07Yy5sYXllckRlc2NyaXB0aW9ucy5wdXNoKGQpO2MubGVuZ3RoPWMubGF5ZXJEZXNjcmlwdGlvbnMubGVuZ3RoO2NbYy5sZW5ndGgtMV09ZH1lbHNlIGlmKCJTZXJ2aWNlRXhjZXB0aW9uIj09ZSlyZXR1cm57ZXJyb3I6KG5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5PR0NFeGNlcHRpb25SZXBvcnQpLnJlYWQoYSl9O3JldHVybiBjfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XTVNEZXNjcmliZUxheWVyLnYxXzFfMSJ9KTsKT3BlbkxheWVycy5Gb3JtYXQuV01TRGVzY3JpYmVMYXllci52MV8xXzA9T3BlbkxheWVycy5Gb3JtYXQuV01TRGVzY3JpYmVMYXllci52MV8xXzE7T3BlbkxheWVycy5Gb3JtYXQuV1BTQ2FwYWJpbGl0aWVzPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuWE1MLlZlcnNpb25lZE9HQyx7ZGVmYXVsdFZlcnNpb246IjEuMC4wIixDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XUFNDYXBhYmlsaXRpZXMifSk7T3BlbkxheWVycy5SZW5kZXJlcj1PcGVuTGF5ZXJzLkNsYXNzKHtjb250YWluZXI6bnVsbCxyb290Om51bGwsZXh0ZW50Om51bGwsbG9ja2VkOiExLHNpemU6bnVsbCxyZXNvbHV0aW9uOm51bGwsbWFwOm51bGwsZmVhdHVyZUR4OjAsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIpe3RoaXMuY29udGFpbmVyPU9wZW5MYXllcnMuVXRpbC5nZXRFbGVtZW50KGEpO09wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcyxiKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMubWFwPXRoaXMucmVzb2x1dGlvbj10aGlzLnNpemU9dGhpcy5leHRlbnQ9dGhpcy5jb250YWluZXI9bnVsbH0sc3VwcG9ydGVkOmZ1bmN0aW9uKCl7cmV0dXJuITF9LHNldEV4dGVudDpmdW5jdGlvbihhLGIpe3RoaXMuZXh0ZW50PWEuY2xvbmUoKTtpZih0aGlzLm1hcC5iYXNlTGF5ZXImJnRoaXMubWFwLmJhc2VMYXllci53cmFwRGF0ZUxpbmUpe3ZhciBjPWEuZ2V0V2lkdGgoKS90aGlzLm1hcC5nZXRFeHRlbnQoKS5nZXRXaWR0aCgpLAphPWEuc2NhbGUoMS9jKTt0aGlzLmV4dGVudD1hLndyYXBEYXRlTGluZSh0aGlzLm1hcC5nZXRNYXhFeHRlbnQoKSkuc2NhbGUoYyl9YiYmKHRoaXMucmVzb2x1dGlvbj1udWxsKTtyZXR1cm4hMH0sc2V0U2l6ZTpmdW5jdGlvbihhKXt0aGlzLnNpemU9YS5jbG9uZSgpO3RoaXMucmVzb2x1dGlvbj1udWxsfSxnZXRSZXNvbHV0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzb2x1dGlvbj10aGlzLnJlc29sdXRpb258fHRoaXMubWFwLmdldFJlc29sdXRpb24oKX0sZHJhd0ZlYXR1cmU6ZnVuY3Rpb24oYSxiKXtudWxsPT1iJiYoYj1hLnN0eWxlKTtpZihhLmdlb21ldHJ5KXt2YXIgYz1hLmdlb21ldHJ5LmdldEJvdW5kcygpO2lmKGMpe3ZhciBkO3RoaXMubWFwLmJhc2VMYXllciYmdGhpcy5tYXAuYmFzZUxheWVyLndyYXBEYXRlTGluZSYmKGQ9dGhpcy5tYXAuZ2V0TWF4RXh0ZW50KCkpO2MuaW50ZXJzZWN0c0JvdW5kcyh0aGlzLmV4dGVudCx7d29ybGRCb3VuZHM6ZH0pP3RoaXMuY2FsY3VsYXRlRmVhdHVyZUR4KGMsCmQpOmI9e2Rpc3BsYXk6Im5vbmUifTtjPXRoaXMuZHJhd0dlb21ldHJ5KGEuZ2VvbWV0cnksYixhLmlkKTtpZigibm9uZSIhPWIuZGlzcGxheSYmYi5sYWJlbCYmITEhPT1jKXtkPWEuZ2VvbWV0cnkuZ2V0Q2VudHJvaWQoKTtpZihiLmxhYmVsWE9mZnNldHx8Yi5sYWJlbFlPZmZzZXQpe3ZhciBlPWlzTmFOKGIubGFiZWxYT2Zmc2V0KT8wOmIubGFiZWxYT2Zmc2V0LGY9aXNOYU4oYi5sYWJlbFlPZmZzZXQpPzA6Yi5sYWJlbFlPZmZzZXQsZz10aGlzLmdldFJlc29sdXRpb24oKTtkLm1vdmUoZSpnLGYqZyl9dGhpcy5kcmF3VGV4dChhLmlkLGIsZCl9ZWxzZSB0aGlzLnJlbW92ZVRleHQoYS5pZCk7cmV0dXJuIGN9fX0sY2FsY3VsYXRlRmVhdHVyZUR4OmZ1bmN0aW9uKGEsYil7dGhpcy5mZWF0dXJlRHg9MDtpZihiKXt2YXIgYz1iLmdldFdpZHRoKCk7dGhpcy5mZWF0dXJlRHg9TWF0aC5yb3VuZCgoKGEubGVmdCthLnJpZ2h0KS8yLSh0aGlzLmV4dGVudC5sZWZ0K3RoaXMuZXh0ZW50LnJpZ2h0KS8KMikvYykqY319LGRyYXdHZW9tZXRyeTpmdW5jdGlvbigpe30sZHJhd1RleHQ6ZnVuY3Rpb24oKXt9LHJlbW92ZVRleHQ6ZnVuY3Rpb24oKXt9LGNsZWFyOmZ1bmN0aW9uKCl7fSxnZXRGZWF0dXJlSWRGcm9tRXZlbnQ6ZnVuY3Rpb24oKXt9LGVyYXNlRmVhdHVyZXM6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSl8fChhPVthXSk7Zm9yKHZhciBiPTAsYz1hLmxlbmd0aDtiPGM7KytiKXt2YXIgZD1hW2JdO3RoaXMuZXJhc2VHZW9tZXRyeShkLmdlb21ldHJ5LGQuaWQpO3RoaXMucmVtb3ZlVGV4dChkLmlkKX19LGVyYXNlR2VvbWV0cnk6ZnVuY3Rpb24oKXt9LG1vdmVSb290OmZ1bmN0aW9uKCl7fSxnZXRSZW5kZXJMYXllcklkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFpbmVyLmlkfSxhcHBseURlZmF1bHRTeW1ib2xpemVyOmZ1bmN0aW9uKGEpe3ZhciBiPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe30sT3BlbkxheWVycy5SZW5kZXJlci5kZWZhdWx0U3ltYm9saXplcik7CiExPT09YS5zdHJva2UmJihkZWxldGUgYi5zdHJva2VXaWR0aCxkZWxldGUgYi5zdHJva2VDb2xvcik7ITE9PT1hLmZpbGwmJmRlbGV0ZSBiLmZpbGxDb2xvcjtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGIsYSk7cmV0dXJuIGJ9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuUmVuZGVyZXIifSk7T3BlbkxheWVycy5SZW5kZXJlci5kZWZhdWx0U3ltYm9saXplcj17ZmlsbENvbG9yOiIjMDAwMDAwIixzdHJva2VDb2xvcjoiIzAwMDAwMCIsc3Ryb2tlV2lkdGg6MixmaWxsT3BhY2l0eToxLHN0cm9rZU9wYWNpdHk6MSxwb2ludFJhZGl1czowLGxhYmVsQWxpZ246ImNtIn07Ck9wZW5MYXllcnMuUmVuZGVyZXIuc3ltYm9sPXtzdGFyOlszNTAsNzUsMzc5LDE2MSw0NjksMTYxLDM5NywyMTUsNDIzLDMwMSwzNTAsMjUwLDI3NywzMDEsMzAzLDIxNSwyMzEsMTYxLDMyMSwxNjEsMzUwLDc1XSxjcm9zczpbNCwwLDYsMCw2LDQsMTAsNCwxMCw2LDYsNiw2LDEwLDQsMTAsNCw2LDAsNiwwLDQsNCw0LDQsMF0seDpbMCwwLDI1LDAsNTAsMzUsNzUsMCwxMDAsMCw2NSw1MCwxMDAsMTAwLDc1LDEwMCw1MCw2NSwyNSwxMDAsMCwxMDAsMzUsNTAsMCwwXSxzcXVhcmU6WzAsMCwwLDEsMSwxLDEsMCwwLDBdLHRyaWFuZ2xlOlswLDEwLDEwLDEwLDUsMCwwLDEwXX07T3BlbkxheWVycy5SZW5kZXJlci5DYW52YXM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlJlbmRlcmVyLHtoaXREZXRlY3Rpb246ITAsaGl0T3ZlcmZsb3c6MCxjYW52YXM6bnVsbCxmZWF0dXJlczpudWxsLHBlbmRpbmdSZWRyYXc6ITEsY2FjaGVkU3ltYm9sQm91bmRzOnt9LGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLlJlbmRlcmVyLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLnJvb3Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7dGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5yb290KTt0aGlzLmNhbnZhcz10aGlzLnJvb3QuZ2V0Q29udGV4dCgiMmQiKTt0aGlzLmZlYXR1cmVzPXt9O3RoaXMuaGl0RGV0ZWN0aW9uJiYodGhpcy5oaXRDYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksdGhpcy5oaXRDb250ZXh0PXRoaXMuaGl0Q2FudmFzLmdldENvbnRleHQoIjJkIikpfSwKc2V0RXh0ZW50OmZ1bmN0aW9uKCl7T3BlbkxheWVycy5SZW5kZXJlci5wcm90b3R5cGUuc2V0RXh0ZW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4hMX0sZXJhc2VHZW9tZXRyeTpmdW5jdGlvbihhLGIpe3RoaXMuZXJhc2VGZWF0dXJlcyh0aGlzLmZlYXR1cmVzW2JdWzBdKX0sc3VwcG9ydGVkOmZ1bmN0aW9uKCl7cmV0dXJuIE9wZW5MYXllcnMuQ0FOVkFTX1NVUFBPUlRFRH0sc2V0U2l6ZTpmdW5jdGlvbihhKXt0aGlzLnNpemU9YS5jbG9uZSgpO3ZhciBiPXRoaXMucm9vdDtiLnN0eWxlLndpZHRoPWEudysicHgiO2Iuc3R5bGUuaGVpZ2h0PWEuaCsicHgiO2Iud2lkdGg9YS53O2IuaGVpZ2h0PWEuaDt0aGlzLnJlc29sdXRpb249bnVsbDt0aGlzLmhpdERldGVjdGlvbiYmKGI9dGhpcy5oaXRDYW52YXMsYi5zdHlsZS53aWR0aD1hLncrInB4IixiLnN0eWxlLmhlaWdodD1hLmgrInB4IixiLndpZHRoPWEudyxiLmhlaWdodD1hLmgpfSxkcmF3RmVhdHVyZTpmdW5jdGlvbihhLApiKXt2YXIgYztpZihhLmdlb21ldHJ5KXtiPXRoaXMuYXBwbHlEZWZhdWx0U3ltYm9saXplcihifHxhLnN0eWxlKTtjPWEuZ2VvbWV0cnkuZ2V0Qm91bmRzKCk7dmFyIGQ7dGhpcy5tYXAuYmFzZUxheWVyJiZ0aGlzLm1hcC5iYXNlTGF5ZXIud3JhcERhdGVMaW5lJiYoZD10aGlzLm1hcC5nZXRNYXhFeHRlbnQoKSk7ZD1jJiZjLmludGVyc2VjdHNCb3VuZHModGhpcy5leHRlbnQse3dvcmxkQm91bmRzOmR9KTsoYz0ibm9uZSIhPT1iLmRpc3BsYXkmJiEhYyYmZCk/dGhpcy5mZWF0dXJlc1thLmlkXT1bYSxiXTpkZWxldGUgdGhpcy5mZWF0dXJlc1thLmlkXTt0aGlzLnBlbmRpbmdSZWRyYXc9ITB9dGhpcy5wZW5kaW5nUmVkcmF3JiYhdGhpcy5sb2NrZWQmJih0aGlzLnJlZHJhdygpLHRoaXMucGVuZGluZ1JlZHJhdz0hMSk7cmV0dXJuIGN9LGRyYXdHZW9tZXRyeTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5DTEFTU19OQU1FO2lmKCJPcGVuTGF5ZXJzLkdlb21ldHJ5LkNvbGxlY3Rpb24iPT0KZHx8Ik9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlQb2ludCI9PWR8fCJPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpTGluZVN0cmluZyI9PWR8fCJPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpUG9seWdvbiI9PWQpZm9yKGQ9MDtkPGEuY29tcG9uZW50cy5sZW5ndGg7ZCsrKXRoaXMuZHJhd0dlb21ldHJ5KGEuY29tcG9uZW50c1tkXSxiLGMpO2Vsc2Ugc3dpdGNoKGEuQ0xBU1NfTkFNRSl7Y2FzZSAiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCI6dGhpcy5kcmF3UG9pbnQoYSxiLGMpO2JyZWFrO2Nhc2UgIk9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZyI6dGhpcy5kcmF3TGluZVN0cmluZyhhLGIsYyk7YnJlYWs7Y2FzZSAiT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lYXJSaW5nIjp0aGlzLmRyYXdMaW5lYXJSaW5nKGEsYixjKTticmVhaztjYXNlICJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24iOnRoaXMuZHJhd1BvbHlnb24oYSxiLGMpfX0sZHJhd0V4dGVybmFsR3JhcGhpYzpmdW5jdGlvbihhLApiLGMpe3ZhciBkPW5ldyBJbWFnZSxlPWIudGl0bGV8fGIuZ3JhcGhpY1RpdGxlO2UmJihkLnRpdGxlPWUpO3ZhciBmPWIuZ3JhcGhpY1dpZHRofHxiLmdyYXBoaWNIZWlnaHQsZz1iLmdyYXBoaWNIZWlnaHR8fGIuZ3JhcGhpY1dpZHRoLGY9Zj9mOjIqYi5wb2ludFJhZGl1cyxnPWc/ZzoyKmIucG9pbnRSYWRpdXMsaD12b2lkIDAhPWIuZ3JhcGhpY1hPZmZzZXQ/Yi5ncmFwaGljWE9mZnNldDotKDAuNSpmKSxpPXZvaWQgMCE9Yi5ncmFwaGljWU9mZnNldD9iLmdyYXBoaWNZT2Zmc2V0Oi0oMC41KmcpLGo9Yi5ncmFwaGljT3BhY2l0eXx8Yi5maWxsT3BhY2l0eTtkLm9ubG9hZD1PcGVuTGF5ZXJzLkZ1bmN0aW9uLmJpbmQoZnVuY3Rpb24oKXtpZih0aGlzLmZlYXR1cmVzW2NdKXt2YXIgYj10aGlzLmdldExvY2FsWFkoYSksZT1iWzBdLGI9YlsxXTtpZighaXNOYU4oZSkmJiFpc05hTihiKSl7dmFyIGU9ZStofDAsYj1iK2l8MCxtPXRoaXMuY2FudmFzO20uZ2xvYmFsQWxwaGE9ajt2YXIgbj0KT3BlbkxheWVycy5SZW5kZXJlci5DYW52YXMuZHJhd0ltYWdlU2NhbGVGYWN0b3J8fChPcGVuTGF5ZXJzLlJlbmRlcmVyLkNhbnZhcy5kcmF3SW1hZ2VTY2FsZUZhY3Rvcj0vYW5kcm9pZCAyLjEvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKT8zMjAvd2luZG93LnNjcmVlbi53aWR0aDoxKTttLmRyYXdJbWFnZShkLGUqbixiKm4sZipuLGcqbik7dGhpcy5oaXREZXRlY3Rpb24mJih0aGlzLnNldEhpdENvbnRleHRTdHlsZSgiZmlsbCIsYyksdGhpcy5oaXRDb250ZXh0LmZpbGxSZWN0KGUsYixmLGcpKX19fSx0aGlzKTtkLnNyYz1iLmV4dGVybmFsR3JhcGhpY30sZHJhd05hbWVkU3ltYm9sOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZztmPU1hdGguUEkvMTgwO3ZhciBoPU9wZW5MYXllcnMuUmVuZGVyZXIuc3ltYm9sW2IuZ3JhcGhpY05hbWVdO2lmKCFoKXRocm93IEVycm9yKGIuZ3JhcGhpY05hbWUrIiBpcyBub3QgYSB2YWxpZCBzeW1ib2wgbmFtZSIpOwppZihoLmxlbmd0aCYmISgyPmgubGVuZ3RoKSYmKGE9dGhpcy5nZXRMb2NhbFhZKGEpLGU9YVswXSxnPWFbMV0sIWlzTmFOKGUpJiYhaXNOYU4oZykpKXt0aGlzLmNhbnZhcy5saW5lQ2FwPSJyb3VuZCI7dGhpcy5jYW52YXMubGluZUpvaW49InJvdW5kIjt0aGlzLmhpdERldGVjdGlvbiYmKHRoaXMuaGl0Q29udGV4dC5saW5lQ2FwPSJyb3VuZCIsdGhpcy5oaXRDb250ZXh0LmxpbmVKb2luPSJyb3VuZCIpO2lmKGIuZ3JhcGhpY05hbWUgaW4gdGhpcy5jYWNoZWRTeW1ib2xCb3VuZHMpZD10aGlzLmNhY2hlZFN5bWJvbEJvdW5kc1tiLmdyYXBoaWNOYW1lXTtlbHNle2Q9bmV3IE9wZW5MYXllcnMuQm91bmRzO2ZvcihhPTA7YTxoLmxlbmd0aDthKz0yKWQuZXh0ZW5kKG5ldyBPcGVuTGF5ZXJzLkxvbkxhdChoW2FdLGhbYSsxXSkpO3RoaXMuY2FjaGVkU3ltYm9sQm91bmRzW2IuZ3JhcGhpY05hbWVdPWR9dGhpcy5jYW52YXMuc2F2ZSgpO3RoaXMuaGl0RGV0ZWN0aW9uJiZ0aGlzLmhpdENvbnRleHQuc2F2ZSgpOwp0aGlzLmNhbnZhcy50cmFuc2xhdGUoZSxnKTt0aGlzLmhpdERldGVjdGlvbiYmdGhpcy5oaXRDb250ZXh0LnRyYW5zbGF0ZShlLGcpO2E9ZipiLnJvdGF0aW9uO2lzTmFOKGEpfHwodGhpcy5jYW52YXMucm90YXRlKGEpLHRoaXMuaGl0RGV0ZWN0aW9uJiZ0aGlzLmhpdENvbnRleHQucm90YXRlKGEpKTtmPTIqYi5wb2ludFJhZGl1cy9NYXRoLm1heChkLmdldFdpZHRoKCksZC5nZXRIZWlnaHQoKSk7dGhpcy5jYW52YXMuc2NhbGUoZixmKTt0aGlzLmhpdERldGVjdGlvbiYmdGhpcy5oaXRDb250ZXh0LnNjYWxlKGYsZik7YT1kLmdldENlbnRlckxvbkxhdCgpLmxvbjtkPWQuZ2V0Q2VudGVyTG9uTGF0KCkubGF0O3RoaXMuY2FudmFzLnRyYW5zbGF0ZSgtYSwtZCk7dGhpcy5oaXREZXRlY3Rpb24mJnRoaXMuaGl0Q29udGV4dC50cmFuc2xhdGUoLWEsLWQpO2c9Yi5zdHJva2VXaWR0aDtiLnN0cm9rZVdpZHRoPWcvZjtpZighMSE9PWIuZmlsbCl7dGhpcy5zZXRDYW52YXNTdHlsZSgiZmlsbCIsCmIpO3RoaXMuY2FudmFzLmJlZ2luUGF0aCgpO2ZvcihhPTA7YTxoLmxlbmd0aDthKz0yKWQ9aFthXSxlPWhbYSsxXSwwPT1hJiZ0aGlzLmNhbnZhcy5tb3ZlVG8oZCxlKSx0aGlzLmNhbnZhcy5saW5lVG8oZCxlKTt0aGlzLmNhbnZhcy5jbG9zZVBhdGgoKTt0aGlzLmNhbnZhcy5maWxsKCk7aWYodGhpcy5oaXREZXRlY3Rpb24pe3RoaXMuc2V0SGl0Q29udGV4dFN0eWxlKCJmaWxsIixjLGIpO3RoaXMuaGl0Q29udGV4dC5iZWdpblBhdGgoKTtmb3IoYT0wO2E8aC5sZW5ndGg7YSs9MilkPWhbYV0sZT1oW2ErMV0sMD09YSYmdGhpcy5jYW52YXMubW92ZVRvKGQsZSksdGhpcy5oaXRDb250ZXh0LmxpbmVUbyhkLGUpO3RoaXMuaGl0Q29udGV4dC5jbG9zZVBhdGgoKTt0aGlzLmhpdENvbnRleHQuZmlsbCgpfX1pZighMSE9PWIuc3Ryb2tlKXt0aGlzLnNldENhbnZhc1N0eWxlKCJzdHJva2UiLGIpO3RoaXMuY2FudmFzLmJlZ2luUGF0aCgpO2ZvcihhPTA7YTxoLmxlbmd0aDthKz0yKWQ9aFthXSwKZT1oW2ErMV0sMD09YSYmdGhpcy5jYW52YXMubW92ZVRvKGQsZSksdGhpcy5jYW52YXMubGluZVRvKGQsZSk7dGhpcy5jYW52YXMuY2xvc2VQYXRoKCk7dGhpcy5jYW52YXMuc3Ryb2tlKCk7aWYodGhpcy5oaXREZXRlY3Rpb24pe3RoaXMuc2V0SGl0Q29udGV4dFN0eWxlKCJzdHJva2UiLGMsYixmKTt0aGlzLmhpdENvbnRleHQuYmVnaW5QYXRoKCk7Zm9yKGE9MDthPGgubGVuZ3RoO2ErPTIpZD1oW2FdLGU9aFthKzFdLDA9PWEmJnRoaXMuaGl0Q29udGV4dC5tb3ZlVG8oZCxlKSx0aGlzLmhpdENvbnRleHQubGluZVRvKGQsZSk7dGhpcy5oaXRDb250ZXh0LmNsb3NlUGF0aCgpO3RoaXMuaGl0Q29udGV4dC5zdHJva2UoKX19Yi5zdHJva2VXaWR0aD1nO3RoaXMuY2FudmFzLnJlc3RvcmUoKTt0aGlzLmhpdERldGVjdGlvbiYmdGhpcy5oaXRDb250ZXh0LnJlc3RvcmUoKTt0aGlzLnNldENhbnZhc1N0eWxlKCJyZXNldCIpfX0sc2V0Q2FudmFzU3R5bGU6ZnVuY3Rpb24oYSxiKXsiZmlsbCI9PT0KYT8odGhpcy5jYW52YXMuZ2xvYmFsQWxwaGE9Yi5maWxsT3BhY2l0eSx0aGlzLmNhbnZhcy5maWxsU3R5bGU9Yi5maWxsQ29sb3IpOiJzdHJva2UiPT09YT8odGhpcy5jYW52YXMuZ2xvYmFsQWxwaGE9Yi5zdHJva2VPcGFjaXR5LHRoaXMuY2FudmFzLnN0cm9rZVN0eWxlPWIuc3Ryb2tlQ29sb3IsdGhpcy5jYW52YXMubGluZVdpZHRoPWIuc3Ryb2tlV2lkdGgpOih0aGlzLmNhbnZhcy5nbG9iYWxBbHBoYT0wLHRoaXMuY2FudmFzLmxpbmVXaWR0aD0xKX0sZmVhdHVyZUlkVG9IZXg6ZnVuY3Rpb24oYSl7YT1OdW1iZXIoYS5zcGxpdCgiXyIpLnBvcCgpKSsxOzE2Nzc3MjE2PD1hJiYodGhpcy5oaXRPdmVyZmxvdz1hLTE2Nzc3MjE1LGE9YSUxNjc3NzIxNisxKTt2YXIgYT0iMDAwMDAwIithLnRvU3RyaW5nKDE2KSxiPWEubGVuZ3RoO3JldHVybiBhPSIjIithLnN1YnN0cmluZyhiLTYsYil9LHNldEhpdENvbnRleHRTdHlsZTpmdW5jdGlvbihhLGIsYyxkKXtiPXRoaXMuZmVhdHVyZUlkVG9IZXgoYik7CiJmaWxsIj09YT8odGhpcy5oaXRDb250ZXh0Lmdsb2JhbEFscGhhPTEsdGhpcy5oaXRDb250ZXh0LmZpbGxTdHlsZT1iKToic3Ryb2tlIj09YT8odGhpcy5oaXRDb250ZXh0Lmdsb2JhbEFscGhhPTEsdGhpcy5oaXRDb250ZXh0LnN0cm9rZVN0eWxlPWIsInVuZGVmaW5lZCI9PT10eXBlb2YgZD90aGlzLmhpdENvbnRleHQubGluZVdpZHRoPWMuc3Ryb2tlV2lkdGgrMjppc05hTihkKXx8KHRoaXMuaGl0Q29udGV4dC5saW5lV2lkdGg9Yy5zdHJva2VXaWR0aCsyL2QpKToodGhpcy5oaXRDb250ZXh0Lmdsb2JhbEFscGhhPTAsdGhpcy5oaXRDb250ZXh0LmxpbmVXaWR0aD0xKX0sZHJhd1BvaW50OmZ1bmN0aW9uKGEsYixjKXtpZighMSE9PWIuZ3JhcGhpYylpZihiLmV4dGVybmFsR3JhcGhpYyl0aGlzLmRyYXdFeHRlcm5hbEdyYXBoaWMoYSxiLGMpO2Vsc2UgaWYoYi5ncmFwaGljTmFtZSYmImNpcmNsZSIhPWIuZ3JhcGhpY05hbWUpdGhpcy5kcmF3TmFtZWRTeW1ib2woYSxiLGMpO2Vsc2V7dmFyIGQ9CnRoaXMuZ2V0TG9jYWxYWShhKSxhPWRbMF0sZD1kWzFdO2lmKCFpc05hTihhKSYmIWlzTmFOKGQpKXt2YXIgZT0yKk1hdGguUEksZj1iLnBvaW50UmFkaXVzOyExIT09Yi5maWxsJiYodGhpcy5zZXRDYW52YXNTdHlsZSgiZmlsbCIsYiksdGhpcy5jYW52YXMuYmVnaW5QYXRoKCksdGhpcy5jYW52YXMuYXJjKGEsZCxmLDAsZSwhMCksdGhpcy5jYW52YXMuZmlsbCgpLHRoaXMuaGl0RGV0ZWN0aW9uJiYodGhpcy5zZXRIaXRDb250ZXh0U3R5bGUoImZpbGwiLGMsYiksdGhpcy5oaXRDb250ZXh0LmJlZ2luUGF0aCgpLHRoaXMuaGl0Q29udGV4dC5hcmMoYSxkLGYsMCxlLCEwKSx0aGlzLmhpdENvbnRleHQuZmlsbCgpKSk7ITEhPT1iLnN0cm9rZSYmKHRoaXMuc2V0Q2FudmFzU3R5bGUoInN0cm9rZSIsYiksdGhpcy5jYW52YXMuYmVnaW5QYXRoKCksdGhpcy5jYW52YXMuYXJjKGEsZCxmLDAsZSwhMCksdGhpcy5jYW52YXMuc3Ryb2tlKCksdGhpcy5oaXREZXRlY3Rpb24mJih0aGlzLnNldEhpdENvbnRleHRTdHlsZSgic3Ryb2tlIiwKYyxiKSx0aGlzLmhpdENvbnRleHQuYmVnaW5QYXRoKCksdGhpcy5oaXRDb250ZXh0LmFyYyhhLGQsZiwwLGUsITApLHRoaXMuaGl0Q29udGV4dC5zdHJva2UoKSksdGhpcy5zZXRDYW52YXNTdHlsZSgicmVzZXQiKSl9fX0sZHJhd0xpbmVTdHJpbmc6ZnVuY3Rpb24oYSxiLGMpe2I9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe2ZpbGw6ITF9LGIpO3RoaXMuZHJhd0xpbmVhclJpbmcoYSxiLGMpfSxkcmF3TGluZWFyUmluZzpmdW5jdGlvbihhLGIsYyl7ITEhPT1iLmZpbGwmJih0aGlzLnNldENhbnZhc1N0eWxlKCJmaWxsIixiKSx0aGlzLnJlbmRlclBhdGgodGhpcy5jYW52YXMsYSxiLGMsImZpbGwiKSx0aGlzLmhpdERldGVjdGlvbiYmKHRoaXMuc2V0SGl0Q29udGV4dFN0eWxlKCJmaWxsIixjLGIpLHRoaXMucmVuZGVyUGF0aCh0aGlzLmhpdENvbnRleHQsYSxiLGMsImZpbGwiKSkpOyExIT09Yi5zdHJva2UmJih0aGlzLnNldENhbnZhc1N0eWxlKCJzdHJva2UiLGIpLHRoaXMucmVuZGVyUGF0aCh0aGlzLmNhbnZhcywKYSxiLGMsInN0cm9rZSIpLHRoaXMuaGl0RGV0ZWN0aW9uJiYodGhpcy5zZXRIaXRDb250ZXh0U3R5bGUoInN0cm9rZSIsYyxiKSx0aGlzLnJlbmRlclBhdGgodGhpcy5oaXRDb250ZXh0LGEsYixjLCJzdHJva2UiKSkpO3RoaXMuc2V0Q2FudmFzU3R5bGUoInJlc2V0Iil9LHJlbmRlclBhdGg6ZnVuY3Rpb24oYSxiLGMsZCxlKXtiPWIuY29tcG9uZW50cztjPWIubGVuZ3RoO2EuYmVnaW5QYXRoKCk7dmFyIGQ9dGhpcy5nZXRMb2NhbFhZKGJbMF0pLGY9ZFsxXTtpZighaXNOYU4oZFswXSkmJiFpc05hTihmKSl7YS5tb3ZlVG8oZFswXSxkWzFdKTtmb3IoZD0xO2Q8YzsrK2QpZj10aGlzLmdldExvY2FsWFkoYltkXSksYS5saW5lVG8oZlswXSxmWzFdKTsiZmlsbCI9PT1lP2EuZmlsbCgpOmEuc3Ryb2tlKCl9fSxkcmF3UG9seWdvbjpmdW5jdGlvbihhLGIsYyl7dmFyIGE9YS5jb21wb25lbnRzLGQ9YS5sZW5ndGg7dGhpcy5kcmF3TGluZWFyUmluZyhhWzBdLGIsYyk7Zm9yKHZhciBlPTE7ZTwKZDsrK2UpdGhpcy5jYW52YXMuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPSJkZXN0aW5hdGlvbi1vdXQiLHRoaXMuaGl0RGV0ZWN0aW9uJiYodGhpcy5oaXRDb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj0iZGVzdGluYXRpb24tb3V0IiksdGhpcy5kcmF3TGluZWFyUmluZyhhW2VdLE9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtzdHJva2U6ITEsZmlsbE9wYWNpdHk6MX0sYiksYyksdGhpcy5jYW52YXMuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPSJzb3VyY2Utb3ZlciIsdGhpcy5oaXREZXRlY3Rpb24mJih0aGlzLmhpdENvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPSJzb3VyY2Utb3ZlciIpLHRoaXMuZHJhd0xpbmVhclJpbmcoYVtlXSxPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7ZmlsbDohMX0sYiksYyl9LGRyYXdUZXh0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRMb2NhbFhZKGEpO3RoaXMuc2V0Q2FudmFzU3R5bGUoInJlc2V0Iik7CnRoaXMuY2FudmFzLmZpbGxTdHlsZT1iLmZvbnRDb2xvcjt0aGlzLmNhbnZhcy5nbG9iYWxBbHBoYT1iLmZvbnRPcGFjaXR5fHwxO3ZhciBkPVtiLmZvbnRTdHlsZT9iLmZvbnRTdHlsZToibm9ybWFsIiwibm9ybWFsIixiLmZvbnRXZWlnaHQ/Yi5mb250V2VpZ2h0OiJub3JtYWwiLGIuZm9udFNpemU/Yi5mb250U2l6ZToiMWVtIixiLmZvbnRGYW1pbHk/Yi5mb250RmFtaWx5OiJzYW5zLXNlcmlmIl0uam9pbigiICIpLGU9Yi5sYWJlbC5zcGxpdCgiXG4iKSxmPWUubGVuZ3RoO2lmKHRoaXMuY2FudmFzLmZpbGxUZXh0KXt0aGlzLmNhbnZhcy5mb250PWQ7dGhpcy5jYW52YXMudGV4dEFsaWduPU9wZW5MYXllcnMuUmVuZGVyZXIuQ2FudmFzLkxBQkVMX0FMSUdOW2IubGFiZWxBbGlnblswXV18fCJjZW50ZXIiO3RoaXMuY2FudmFzLnRleHRCYXNlbGluZT1PcGVuTGF5ZXJzLlJlbmRlcmVyLkNhbnZhcy5MQUJFTF9BTElHTltiLmxhYmVsQWxpZ25bMV1dfHwibWlkZGxlIjt2YXIgZz1PcGVuTGF5ZXJzLlJlbmRlcmVyLkNhbnZhcy5MQUJFTF9GQUNUT1JbYi5sYWJlbEFsaWduWzFdXTsKbnVsbD09ZyYmKGc9LTAuNSk7ZD10aGlzLmNhbnZhcy5tZWFzdXJlVGV4dCgiTWciKS5oZWlnaHR8fHRoaXMuY2FudmFzLm1lYXN1cmVUZXh0KCJ4eCIpLndpZHRoO2NbMV0rPWQqZyooZi0xKTtmb3IoZz0wO2c8ZjtnKyspYi5sYWJlbE91dGxpbmVXaWR0aCYmKHRoaXMuY2FudmFzLnNhdmUoKSx0aGlzLmNhbnZhcy5nbG9iYWxBbHBoYT1iLmxhYmVsT3V0bGluZU9wYWNpdHl8fGIuZm9udE9wYWNpdHl8fDEsdGhpcy5jYW52YXMuc3Ryb2tlU3R5bGU9Yi5sYWJlbE91dGxpbmVDb2xvcix0aGlzLmNhbnZhcy5saW5lV2lkdGg9Yi5sYWJlbE91dGxpbmVXaWR0aCx0aGlzLmNhbnZhcy5zdHJva2VUZXh0KGVbZ10sY1swXSxjWzFdK2QqZysxKSx0aGlzLmNhbnZhcy5yZXN0b3JlKCkpLHRoaXMuY2FudmFzLmZpbGxUZXh0KGVbZ10sY1swXSxjWzFdK2QqZyl9ZWxzZSBpZih0aGlzLmNhbnZhcy5tb3pEcmF3VGV4dCl7dGhpcy5jYW52YXMubW96VGV4dFN0eWxlPWQ7dmFyIGg9T3BlbkxheWVycy5SZW5kZXJlci5DYW52YXMuTEFCRUxfRkFDVE9SW2IubGFiZWxBbGlnblswXV07Cm51bGw9PWgmJihoPS0wLjUpO2c9T3BlbkxheWVycy5SZW5kZXJlci5DYW52YXMuTEFCRUxfRkFDVE9SW2IubGFiZWxBbGlnblsxXV07bnVsbD09ZyYmKGc9LTAuNSk7ZD10aGlzLmNhbnZhcy5tb3pNZWFzdXJlVGV4dCgieHgiKTtjWzFdKz1kKigxK2cqZik7Zm9yKGc9MDtnPGY7ZysrKXt2YXIgaT1jWzBdK2gqdGhpcy5jYW52YXMubW96TWVhc3VyZVRleHQoZVtnXSksaj1jWzFdK2cqZDt0aGlzLmNhbnZhcy50cmFuc2xhdGUoaSxqKTt0aGlzLmNhbnZhcy5tb3pEcmF3VGV4dChlW2ddKTt0aGlzLmNhbnZhcy50cmFuc2xhdGUoLWksLWopfX10aGlzLnNldENhbnZhc1N0eWxlKCJyZXNldCIpfSxnZXRMb2NhbFhZOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0UmVzb2x1dGlvbigpLGM9dGhpcy5leHRlbnQ7cmV0dXJuWyhhLngtdGhpcy5mZWF0dXJlRHgpL2IrLWMubGVmdC9iLGMudG9wL2ItYS55L2JdfSxjbGVhcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMucm9vdC5oZWlnaHQsYj10aGlzLnJvb3Qud2lkdGg7CnRoaXMuY2FudmFzLmNsZWFyUmVjdCgwLDAsYixhKTt0aGlzLmZlYXR1cmVzPXt9O3RoaXMuaGl0RGV0ZWN0aW9uJiZ0aGlzLmhpdENvbnRleHQuY2xlYXJSZWN0KDAsMCxiLGEpfSxnZXRGZWF0dXJlSWRGcm9tRXZlbnQ6ZnVuY3Rpb24oYSl7dmFyIGI7aWYodGhpcy5oaXREZXRlY3Rpb24mJiJub25lIiE9PXRoaXMucm9vdC5zdHlsZS5kaXNwbGF5JiYhdGhpcy5tYXAuZHJhZ2dpbmcmJihhPWEueHksYT10aGlzLmhpdENvbnRleHQuZ2V0SW1hZ2VEYXRhKGEueHwwLGEueXwwLDEsMSkuZGF0YSwyNTU9PT1hWzNdJiYoYT1hWzJdKzI1NiooYVsxXSsyNTYqYVswXSkpKSl7YT0iT3BlbkxheWVyc19GZWF0dXJlX1ZlY3Rvcl8iKyhhLTErdGhpcy5oaXRPdmVyZmxvdyk7dHJ5e2I9dGhpcy5mZWF0dXJlc1thXVswXX1jYXRjaChjKXt9fXJldHVybiBifSxlcmFzZUZlYXR1cmVzOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEpfHwoYT1bYV0pO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWRlbGV0ZSB0aGlzLmZlYXR1cmVzW2FbYl0uaWRdOwp0aGlzLnJlZHJhdygpfSxyZWRyYXc6ZnVuY3Rpb24oKXtpZighdGhpcy5sb2NrZWQpe3ZhciBhPXRoaXMucm9vdC5oZWlnaHQsYj10aGlzLnJvb3Qud2lkdGg7dGhpcy5jYW52YXMuY2xlYXJSZWN0KDAsMCxiLGEpO3RoaXMuaGl0RGV0ZWN0aW9uJiZ0aGlzLmhpdENvbnRleHQuY2xlYXJSZWN0KDAsMCxiLGEpO3ZhciBhPVtdLGMsZCxlPXRoaXMubWFwLmJhc2VMYXllciYmdGhpcy5tYXAuYmFzZUxheWVyLndyYXBEYXRlTGluZSYmdGhpcy5tYXAuZ2V0TWF4RXh0ZW50KCksZjtmb3IoZiBpbiB0aGlzLmZlYXR1cmVzKXRoaXMuZmVhdHVyZXMuaGFzT3duUHJvcGVydHkoZikmJihiPXRoaXMuZmVhdHVyZXNbZl1bMF0sYz1iLmdlb21ldHJ5LHRoaXMuY2FsY3VsYXRlRmVhdHVyZUR4KGMuZ2V0Qm91bmRzKCksZSksZD10aGlzLmZlYXR1cmVzW2ZdWzFdLHRoaXMuZHJhd0dlb21ldHJ5KGMsZCxiLmlkKSxkLmxhYmVsJiZhLnB1c2goW2IsZF0pKTtiPTA7Zm9yKGM9YS5sZW5ndGg7YjxjOysrYilmPQphW2JdLHRoaXMuZHJhd1RleHQoZlswXS5nZW9tZXRyeS5nZXRDZW50cm9pZCgpLGZbMV0pfX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5SZW5kZXJlci5DYW52YXMifSk7T3BlbkxheWVycy5SZW5kZXJlci5DYW52YXMuTEFCRUxfQUxJR049e2w6ImxlZnQiLHI6InJpZ2h0Iix0OiJ0b3AiLGI6ImJvdHRvbSJ9O09wZW5MYXllcnMuUmVuZGVyZXIuQ2FudmFzLkxBQkVMX0ZBQ1RPUj17bDowLHI6LTEsdDowLGI6LTF9O09wZW5MYXllcnMuUmVuZGVyZXIuQ2FudmFzLmRyYXdJbWFnZVNjYWxlRmFjdG9yPW51bGw7T3BlbkxheWVycy5Gb3JtYXQuT1NNPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuWE1MLHtjaGVja1RhZ3M6ITEsaW50ZXJlc3RpbmdUYWdzRXhjbHVkZTpudWxsLGFyZWFUYWdzOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtmb3IodmFyIGI9e2ludGVyZXN0aW5nVGFnc0V4Y2x1ZGU6InNvdXJjZSBzb3VyY2VfcmVmIHNvdXJjZTpyZWYgaGlzdG9yeSBhdHRyaWJ1dGlvbiBjcmVhdGVkX2J5Ii5zcGxpdCgiICIpLGFyZWFUYWdzOiJhcmVhIGJ1aWxkaW5nIGxlaXN1cmUgdG91cmlzbSBydWlucyBoaXN0b3JpYyBsYW5kdXNlIG1pbGl0YXJ5IG5hdHVyYWwgc3BvcnQiLnNwbGl0KCIgIil9LGI9T3BlbkxheWVycy5VdGlsLmV4dGVuZChiLGEpLGM9e30sYT0wO2E8Yi5pbnRlcmVzdGluZ1RhZ3NFeGNsdWRlLmxlbmd0aDthKyspY1tiLmludGVyZXN0aW5nVGFnc0V4Y2x1ZGVbYV1dPSEwO2IuaW50ZXJlc3RpbmdUYWdzRXhjbHVkZT1jO2M9e307Zm9yKGE9MDthPGIuYXJlYVRhZ3MubGVuZ3RoO2ErKyljW2IuYXJlYVRhZ3NbYV1dPQohMDtiLmFyZWFUYWdzPWM7dGhpcy5leHRlcm5hbFByb2plY3Rpb249bmV3IE9wZW5MYXllcnMuUHJvamVjdGlvbigiRVBTRzo0MzI2Iik7T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2JdKX0scmVhZDpmdW5jdGlvbihhKXsic3RyaW5nIj09dHlwZW9mIGEmJihhPU9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUucmVhZC5hcHBseSh0aGlzLFthXSkpO2Zvcih2YXIgYj10aGlzLmdldE5vZGVzKGEpLGM9dGhpcy5nZXRXYXlzKGEpLGE9QXJyYXkoYy5sZW5ndGgpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7Zm9yKHZhciBlPUFycmF5KGNbZF0ubm9kZXMubGVuZ3RoKSxmPXRoaXMuaXNXYXlBcmVhKGNbZF0pPzE6MCxnPTA7ZzxjW2RdLm5vZGVzLmxlbmd0aDtnKyspe3ZhciBoPWJbY1tkXS5ub2Rlc1tnXV0saT1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChoLmxvbixoLmxhdCk7aS5vc21faWQ9cGFyc2VJbnQoY1tkXS5ub2Rlc1tnXSk7CmVbZ109aTtoLnVzZWQ9ITB9aD1udWxsO2g9Zj9uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVhclJpbmcoZSkpOm5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmcoZSk7dGhpcy5pbnRlcm5hbFByb2plY3Rpb24mJnRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uJiZoLnRyYW5zZm9ybSh0aGlzLmV4dGVybmFsUHJvamVjdGlvbix0aGlzLmludGVybmFsUHJvamVjdGlvbik7ZT1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihoLGNbZF0udGFncyk7ZS5vc21faWQ9cGFyc2VJbnQoY1tkXS5pZCk7ZS5maWQ9IndheS4iK2Uub3NtX2lkO2FbZF09ZX1mb3IodmFyIGogaW4gYil7aD1iW2pdO2lmKCFoLnVzZWR8fHRoaXMuY2hlY2tUYWdzKXtjPW51bGw7aWYodGhpcy5jaGVja1RhZ3Mpe2M9dGhpcy5nZXRUYWdzKGgubm9kZSwhMCk7aWYoaC51c2VkJiYhY1sxXSljb250aW51ZTtjPWNbMF19ZWxzZSBjPXRoaXMuZ2V0VGFncyhoLm5vZGUpOwplPW5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGgubG9uLGgubGF0KSxjKTt0aGlzLmludGVybmFsUHJvamVjdGlvbiYmdGhpcy5leHRlcm5hbFByb2plY3Rpb24mJmUuZ2VvbWV0cnkudHJhbnNmb3JtKHRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uLHRoaXMuaW50ZXJuYWxQcm9qZWN0aW9uKTtlLm9zbV9pZD1wYXJzZUludChqKTtlLmZpZD0ibm9kZS4iK2Uub3NtX2lkO2EucHVzaChlKX1oLm5vZGU9bnVsbH1yZXR1cm4gYX0sZ2V0Tm9kZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBhPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm5vZGUiKSxiPXt9LGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXSxlPWQuZ2V0QXR0cmlidXRlKCJpZCIpO2JbZV09e2xhdDpkLmdldEF0dHJpYnV0ZSgibGF0IiksbG9uOmQuZ2V0QXR0cmlidXRlKCJsb24iKSxub2RlOmR9fXJldHVybiBifSxnZXRXYXlzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYT0KYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgid2F5IiksYj1bXSxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPWFbY10sZT17aWQ6ZC5nZXRBdHRyaWJ1dGUoImlkIil9O2UudGFncz10aGlzLmdldFRhZ3MoZCk7ZD1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJuZCIpO2Uubm9kZXM9QXJyYXkoZC5sZW5ndGgpO2Zvcih2YXIgZj0wO2Y8ZC5sZW5ndGg7ZisrKWUubm9kZXNbZl09ZFtmXS5nZXRBdHRyaWJ1dGUoInJlZiIpO2IucHVzaChlKX1yZXR1cm4gYn0sZ2V0VGFnczpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0YWciKSxkPXt9LGU9ITEsZj0wO2Y8Yy5sZW5ndGg7ZisrKXt2YXIgZz1jW2ZdLmdldEF0dHJpYnV0ZSgiayIpO2RbZ109Y1tmXS5nZXRBdHRyaWJ1dGUoInYiKTtiJiYodGhpcy5pbnRlcmVzdGluZ1RhZ3NFeGNsdWRlW2ddfHwoZT0hMCkpfXJldHVybiBiP1tkLGVdOmR9LGlzV2F5QXJlYTpmdW5jdGlvbihhKXt2YXIgYj0hMSxjPSExOwphLm5vZGVzWzBdPT1hLm5vZGVzW2Eubm9kZXMubGVuZ3RoLTFdJiYoYj0hMCk7aWYodGhpcy5jaGVja1RhZ3MpZm9yKHZhciBkIGluIGEudGFncylpZih0aGlzLmFyZWFUYWdzW2RdKXtjPSEwO2JyZWFrfXJldHVybiBiJiYodGhpcy5jaGVja1RhZ3M/YzohMCl9LHdyaXRlOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEpfHwoYT1bYV0pO3RoaXMub3NtX2lkPTE7dGhpcy5jcmVhdGVkX25vZGVzPXt9O3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TKG51bGwsIm9zbSIpO2Iuc2V0QXR0cmlidXRlKCJ2ZXJzaW9uIiwiMC41Iik7Yi5zZXRBdHRyaWJ1dGUoImdlbmVyYXRvciIsIk9wZW5MYXllcnMgIitPcGVuTGF5ZXJzLlZFUlNJT05fTlVNQkVSKTtmb3IodmFyIGM9YS5sZW5ndGgtMTswPD1jO2MtLSlmb3IodmFyIGQ9dGhpcy5jcmVhdGVGZWF0dXJlTm9kZXMoYVtjXSksZT0wO2U8ZC5sZW5ndGg7ZSsrKWIuYXBwZW5kQ2hpbGQoZFtlXSk7cmV0dXJuIE9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUud3JpdGUuYXBwbHkodGhpcywKW2JdKX0sY3JlYXRlRmVhdHVyZU5vZGVzOmZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9YS5nZW9tZXRyeS5DTEFTU19OQU1FLGM9Yy5zdWJzdHJpbmcoYy5sYXN0SW5kZXhPZigiLiIpKzEpLGM9Yy50b0xvd2VyQ2FzZSgpOyhjPXRoaXMuY3JlYXRlWE1MW2NdKSYmKGI9Yy5hcHBseSh0aGlzLFthXSkpO3JldHVybiBifSxjcmVhdGVYTUw6e3BvaW50OmZ1bmN0aW9uKGEpe3ZhciBiPW51bGwsYz1hLmdlb21ldHJ5P2EuZ2VvbWV0cnk6YTt0aGlzLmludGVybmFsUHJvamVjdGlvbiYmdGhpcy5leHRlcm5hbFByb2plY3Rpb24mJihjPWMuY2xvbmUoKSxjLnRyYW5zZm9ybSh0aGlzLmludGVybmFsUHJvamVjdGlvbix0aGlzLmV4dGVybmFsUHJvamVjdGlvbikpO3ZhciBkPSExO2Eub3NtX2lkPyhiPWEub3NtX2lkLHRoaXMuY3JlYXRlZF9ub2Rlc1tiXSYmKGQ9ITApKTooYj0tdGhpcy5vc21faWQsdGhpcy5vc21faWQrKyk7dmFyIGU9ZD90aGlzLmNyZWF0ZWRfbm9kZXNbYl06dGhpcy5jcmVhdGVFbGVtZW50TlMobnVsbCwKIm5vZGUiKTt0aGlzLmNyZWF0ZWRfbm9kZXNbYl09ZTtlLnNldEF0dHJpYnV0ZSgiaWQiLGIpO2Uuc2V0QXR0cmlidXRlKCJsb24iLGMueCk7ZS5zZXRBdHRyaWJ1dGUoImxhdCIsYy55KTthLmF0dHJpYnV0ZXMmJnRoaXMuc2VyaWFsaXplVGFncyhhLGUpO3RoaXMuc2V0U3RhdGUoYSxlKTtyZXR1cm4gZD9bXTpbZV19LGxpbmVzdHJpbmc6ZnVuY3Rpb24oYSl7dmFyIGIsYz1bXSxkPWEuZ2VvbWV0cnk7YS5vc21faWQ/Yj1hLm9zbV9pZDooYj0tdGhpcy5vc21faWQsdGhpcy5vc21faWQrKyk7dmFyIGU9dGhpcy5jcmVhdGVFbGVtZW50TlMobnVsbCwid2F5Iik7ZS5zZXRBdHRyaWJ1dGUoImlkIixiKTtmb3IoYj0wO2I8ZC5jb21wb25lbnRzLmxlbmd0aDtiKyspe3ZhciBmPXRoaXMuY3JlYXRlWE1MLnBvaW50LmFwcGx5KHRoaXMsW2QuY29tcG9uZW50c1tiXV0pO2lmKGYubGVuZ3RoKXt2YXIgZj1mWzBdLGc9Zi5nZXRBdHRyaWJ1dGUoImlkIik7Yy5wdXNoKGYpfWVsc2UgZz1kLmNvbXBvbmVudHNbYl0ub3NtX2lkLApmPXRoaXMuY3JlYXRlZF9ub2Rlc1tnXTt0aGlzLnNldFN0YXRlKGEsZik7Zj10aGlzLmNyZWF0ZUVsZW1lbnROUyhudWxsLCJuZCIpO2Yuc2V0QXR0cmlidXRlKCJyZWYiLGcpO2UuYXBwZW5kQ2hpbGQoZil9dGhpcy5zZXJpYWxpemVUYWdzKGEsZSk7Yy5wdXNoKGUpO3JldHVybiBjfSxwb2x5Z29uOmZ1bmN0aW9uKGEpe3ZhciBiPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe2FyZWE6InllcyJ9LGEuYXR0cmlidXRlcyksYj1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihhLmdlb21ldHJ5LmNvbXBvbmVudHNbMF0sYik7Yi5vc21faWQ9YS5vc21faWQ7cmV0dXJuIHRoaXMuY3JlYXRlWE1MLmxpbmVzdHJpbmcuYXBwbHkodGhpcyxbYl0pfX0sc2VyaWFsaXplVGFnczpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyBpbiBhLmF0dHJpYnV0ZXMpe3ZhciBkPXRoaXMuY3JlYXRlRWxlbWVudE5TKG51bGwsInRhZyIpO2Quc2V0QXR0cmlidXRlKCJrIixjKTtkLnNldEF0dHJpYnV0ZSgidiIsCmEuYXR0cmlidXRlc1tjXSk7Yi5hcHBlbmRDaGlsZChkKX19LHNldFN0YXRlOmZ1bmN0aW9uKGEsYil7aWYoYS5zdGF0ZSl7dmFyIGM9bnVsbDtzd2l0Y2goYS5zdGF0ZSl7Y2FzZSBPcGVuTGF5ZXJzLlN0YXRlLlVQREFURTpjYXNlIE9wZW5MYXllcnMuU3RhdGUuREVMRVRFOmM9ImRlbGV0ZSJ9YyYmYi5zZXRBdHRyaWJ1dGUoImFjdGlvbiIsYyl9fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5PU00ifSk7T3BlbkxheWVycy5IYW5kbGVyLktleWJvYXJkPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5IYW5kbGVyLHtLRVlfRVZFTlRTOlsia2V5ZG93biIsImtleXVwIl0sZXZlbnRMaXN0ZW5lcjpudWxsLG9ic2VydmVFbGVtZW50Om51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyl7T3BlbkxheWVycy5IYW5kbGVyLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmV2ZW50TGlzdGVuZXI9T3BlbkxheWVycy5GdW5jdGlvbi5iaW5kQXNFdmVudExpc3RlbmVyKHRoaXMuaGFuZGxlS2V5RXZlbnQsdGhpcyl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmRlYWN0aXZhdGUoKTt0aGlzLmV2ZW50TGlzdGVuZXI9bnVsbDtPcGVuTGF5ZXJzLkhhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxhY3RpdmF0ZTpmdW5jdGlvbigpe2lmKE9wZW5MYXllcnMuSGFuZGxlci5wcm90b3R5cGUuYWN0aXZhdGUuYXBwbHkodGhpcywKYXJndW1lbnRzKSl7dGhpcy5vYnNlcnZlRWxlbWVudD10aGlzLm9ic2VydmVFbGVtZW50fHxkb2N1bWVudDtmb3IodmFyIGE9MCxiPXRoaXMuS0VZX0VWRU5UUy5sZW5ndGg7YTxiO2ErKylPcGVuTGF5ZXJzLkV2ZW50Lm9ic2VydmUodGhpcy5vYnNlcnZlRWxlbWVudCx0aGlzLktFWV9FVkVOVFNbYV0sdGhpcy5ldmVudExpc3RlbmVyKTtyZXR1cm4hMH1yZXR1cm4hMX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPSExO2lmKE9wZW5MYXllcnMuSGFuZGxlci5wcm90b3R5cGUuZGVhY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpe2Zvcih2YXIgYT0wLGI9dGhpcy5LRVlfRVZFTlRTLmxlbmd0aDthPGI7YSsrKU9wZW5MYXllcnMuRXZlbnQuc3RvcE9ic2VydmluZyh0aGlzLm9ic2VydmVFbGVtZW50LHRoaXMuS0VZX0VWRU5UU1thXSx0aGlzLmV2ZW50TGlzdGVuZXIpO2E9ITB9cmV0dXJuIGF9LGhhbmRsZUtleUV2ZW50OmZ1bmN0aW9uKGEpe3RoaXMuY2hlY2tNb2RpZmllcnMoYSkmJgp0aGlzLmNhbGxiYWNrKGEudHlwZSxbYV0pfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkhhbmRsZXIuS2V5Ym9hcmQifSk7T3BlbkxheWVycy5Db250cm9sLk1vZGlmeUZlYXR1cmU9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse2RvY3VtZW50RHJhZzohMSxnZW9tZXRyeVR5cGVzOm51bGwsY2xpY2tvdXQ6ITAsdG9nZ2xlOiEwLHN0YW5kYWxvbmU6ITEsbGF5ZXI6bnVsbCxmZWF0dXJlOm51bGwsdmVydGV4Om51bGwsdmVydGljZXM6bnVsbCx2aXJ0dWFsVmVydGljZXM6bnVsbCxoYW5kbGVyczpudWxsLGRlbGV0ZUNvZGVzOm51bGwsdmlydHVhbFN0eWxlOm51bGwsdmVydGV4UmVuZGVySW50ZW50Om51bGwsbW9kZTpudWxsLGNyZWF0ZVZlcnRpY2VzOiEwLG1vZGlmaWVkOiExLHJhZGl1c0hhbmRsZTpudWxsLGRyYWdIYW5kbGU6bnVsbCxvbk1vZGlmaWNhdGlvblN0YXJ0OmZ1bmN0aW9uKCl7fSxvbk1vZGlmaWNhdGlvbjpmdW5jdGlvbigpe30sb25Nb2RpZmljYXRpb25FbmQ6ZnVuY3Rpb24oKXt9LGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9O3RoaXMubGF5ZXI9YTt0aGlzLnZlcnRpY2VzPQpbXTt0aGlzLnZpcnR1YWxWZXJ0aWNlcz1bXTt0aGlzLnZpcnR1YWxTdHlsZT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LHRoaXMubGF5ZXIuc3R5bGV8fHRoaXMubGF5ZXIuc3R5bGVNYXAuY3JlYXRlU3ltYm9saXplcihudWxsLGIudmVydGV4UmVuZGVySW50ZW50KSk7dGhpcy52aXJ0dWFsU3R5bGUuZmlsbE9wYWNpdHk9MC4zO3RoaXMudmlydHVhbFN0eWxlLnN0cm9rZU9wYWNpdHk9MC4zO3RoaXMuZGVsZXRlQ29kZXM9WzQ2LDY4XTt0aGlzLm1vZGU9T3BlbkxheWVycy5Db250cm9sLk1vZGlmeUZlYXR1cmUuUkVTSEFQRTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYl0pO09wZW5MYXllcnMuVXRpbC5pc0FycmF5KHRoaXMuZGVsZXRlQ29kZXMpfHwodGhpcy5kZWxldGVDb2Rlcz1bdGhpcy5kZWxldGVDb2Rlc10pO3ZhciBjPXtkb2N1bWVudERyYWc6dGhpcy5kb2N1bWVudERyYWcsc3RvcERvd246ITF9O3RoaXMuaGFuZGxlcnM9CntrZXlib2FyZDpuZXcgT3BlbkxheWVycy5IYW5kbGVyLktleWJvYXJkKHRoaXMse2tleWRvd246dGhpcy5oYW5kbGVLZXlwcmVzc30pLGRyYWc6bmV3IE9wZW5MYXllcnMuSGFuZGxlci5EcmFnKHRoaXMse2Rvd246ZnVuY3Rpb24oKXt0aGlzLnZlcnRleD1udWxsO3ZhciBhPXRoaXMubGF5ZXIuZ2V0RmVhdHVyZUZyb21FdmVudCh0aGlzLmhhbmRsZXJzLmRyYWcuZXZ0KTthP3RoaXMuZHJhZ1N0YXJ0KGEpOnRoaXMuY2xpY2tvdXQmJih0aGlzLl91bnNlbGVjdD10aGlzLmZlYXR1cmUpfSxtb3ZlOmZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLl91bnNlbGVjdDt0aGlzLnZlcnRleCYmdGhpcy5kcmFnVmVydGV4KHRoaXMudmVydGV4LGEpfSx1cDpmdW5jdGlvbigpe3RoaXMuaGFuZGxlcnMuZHJhZy5zdG9wRG93bj0hMTt0aGlzLl91bnNlbGVjdCYmKHRoaXMudW5zZWxlY3RGZWF0dXJlKHRoaXMuX3Vuc2VsZWN0KSxkZWxldGUgdGhpcy5fdW5zZWxlY3QpfSxkb25lOmZ1bmN0aW9uKCl7dGhpcy52ZXJ0ZXgmJgp0aGlzLmRyYWdDb21wbGV0ZSh0aGlzLnZlcnRleCl9fSxjKX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm1hcCYmdGhpcy5tYXAuZXZlbnRzLnVuKHtyZW1vdmVsYXllcjp0aGlzLmhhbmRsZU1hcEV2ZW50cyxjaGFuZ2VsYXllcjp0aGlzLmhhbmRsZU1hcEV2ZW50cyxzY29wZTp0aGlzfSk7dGhpcy5sYXllcj1udWxsO09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLFtdKX0sYWN0aXZhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5hY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk/KHRoaXMubW92ZUxheWVyVG9Ub3AoKSx0aGlzLm1hcC5ldmVudHMub24oe3JlbW92ZWxheWVyOnRoaXMuaGFuZGxlTWFwRXZlbnRzLGNoYW5nZWxheWVyOnRoaXMuaGFuZGxlTWFwRXZlbnRzLHNjb3BlOnRoaXN9KSx0aGlzLmhhbmRsZXJzLmtleWJvYXJkLmFjdGl2YXRlKCkmJnRoaXMuaGFuZGxlcnMuZHJhZy5hY3RpdmF0ZSgpKToKITF9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgYT0hMTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpJiYodGhpcy5tb3ZlTGF5ZXJCYWNrKCksdGhpcy5tYXAuZXZlbnRzLnVuKHtyZW1vdmVsYXllcjp0aGlzLmhhbmRsZU1hcEV2ZW50cyxjaGFuZ2VsYXllcjp0aGlzLmhhbmRsZU1hcEV2ZW50cyxzY29wZTp0aGlzfSksdGhpcy5sYXllci5yZW1vdmVGZWF0dXJlcyh0aGlzLnZlcnRpY2VzLHtzaWxlbnQ6ITB9KSx0aGlzLmxheWVyLnJlbW92ZUZlYXR1cmVzKHRoaXMudmlydHVhbFZlcnRpY2VzLHtzaWxlbnQ6ITB9KSx0aGlzLnZlcnRpY2VzPVtdLHRoaXMuaGFuZGxlcnMuZHJhZy5kZWFjdGl2YXRlKCksdGhpcy5oYW5kbGVycy5rZXlib2FyZC5kZWFjdGl2YXRlKCksKGE9dGhpcy5mZWF0dXJlKSYmKGEuZ2VvbWV0cnkmJmEubGF5ZXIpJiZ0aGlzLnVuc2VsZWN0RmVhdHVyZShhKSxhPSEwKTtyZXR1cm4gYX0sYmVmb3JlU2VsZWN0RmVhdHVyZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5sYXllci5ldmVudHMudHJpZ2dlckV2ZW50KCJiZWZvcmVmZWF0dXJlbW9kaWZpZWQiLAp7ZmVhdHVyZTphfSl9LHNlbGVjdEZlYXR1cmU6ZnVuY3Rpb24oYSl7aWYoISh0aGlzLmZlYXR1cmU9PT1hfHx0aGlzLmdlb21ldHJ5VHlwZXMmJi0xPT1PcGVuTGF5ZXJzLlV0aWwuaW5kZXhPZih0aGlzLmdlb21ldHJ5VHlwZXMsYS5nZW9tZXRyeS5DTEFTU19OQU1FKSkpeyExIT09dGhpcy5iZWZvcmVTZWxlY3RGZWF0dXJlKGEpJiYodGhpcy5mZWF0dXJlJiZ0aGlzLnVuc2VsZWN0RmVhdHVyZSh0aGlzLmZlYXR1cmUpLHRoaXMuZmVhdHVyZT1hLHRoaXMubGF5ZXIuc2VsZWN0ZWRGZWF0dXJlcy5wdXNoKGEpLHRoaXMubGF5ZXIuZHJhd0ZlYXR1cmUoYSwic2VsZWN0IiksdGhpcy5tb2RpZmllZD0hMSx0aGlzLnJlc2V0VmVydGljZXMoKSx0aGlzLm9uTW9kaWZpY2F0aW9uU3RhcnQodGhpcy5mZWF0dXJlKSk7dmFyIGI9YS5tb2RpZmllZDtpZihhLmdlb21ldHJ5JiYoIWJ8fCFiLmdlb21ldHJ5KSl0aGlzLl9vcmlnaW5hbEdlb21ldHJ5PWEuZ2VvbWV0cnkuY2xvbmUoKX19LHVuc2VsZWN0RmVhdHVyZTpmdW5jdGlvbihhKXt0aGlzLmxheWVyLnJlbW92ZUZlYXR1cmVzKHRoaXMudmVydGljZXMsCntzaWxlbnQ6ITB9KTt0aGlzLnZlcnRpY2VzPVtdO3RoaXMubGF5ZXIuZGVzdHJveUZlYXR1cmVzKHRoaXMudmlydHVhbFZlcnRpY2VzLHtzaWxlbnQ6ITB9KTt0aGlzLnZpcnR1YWxWZXJ0aWNlcz1bXTt0aGlzLmRyYWdIYW5kbGUmJih0aGlzLmxheWVyLmRlc3Ryb3lGZWF0dXJlcyhbdGhpcy5kcmFnSGFuZGxlXSx7c2lsZW50OiEwfSksZGVsZXRlIHRoaXMuZHJhZ0hhbmRsZSk7dGhpcy5yYWRpdXNIYW5kbGUmJih0aGlzLmxheWVyLmRlc3Ryb3lGZWF0dXJlcyhbdGhpcy5yYWRpdXNIYW5kbGVdLHtzaWxlbnQ6ITB9KSxkZWxldGUgdGhpcy5yYWRpdXNIYW5kbGUpO3RoaXMubGF5ZXIuZHJhd0ZlYXR1cmUodGhpcy5mZWF0dXJlLCJkZWZhdWx0Iik7dGhpcy5mZWF0dXJlPW51bGw7T3BlbkxheWVycy5VdGlsLnJlbW92ZUl0ZW0odGhpcy5sYXllci5zZWxlY3RlZEZlYXR1cmVzLGEpO3RoaXMub25Nb2RpZmljYXRpb25FbmQoYSk7dGhpcy5sYXllci5ldmVudHMudHJpZ2dlckV2ZW50KCJhZnRlcmZlYXR1cmVtb2RpZmllZCIsCntmZWF0dXJlOmEsbW9kaWZpZWQ6dGhpcy5tb2RpZmllZH0pO3RoaXMubW9kaWZpZWQ9ITF9LGRyYWdTdGFydDpmdW5jdGlvbihhKXt2YXIgYj0iT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCI9PWEuZ2VvbWV0cnkuQ0xBU1NfTkFNRTtpZighdGhpcy5zdGFuZGFsb25lJiYoIWEuX3NrZXRjaCYmYnx8IWEuX3NrZXRjaCkpdGhpcy50b2dnbGUmJnRoaXMuZmVhdHVyZT09PWEmJih0aGlzLl91bnNlbGVjdD1hKSx0aGlzLnNlbGVjdEZlYXR1cmUoYSk7aWYoYS5fc2tldGNofHxiKXRoaXMudmVydGV4PWEsdGhpcy5oYW5kbGVycy5kcmFnLnN0b3BEb3duPSEwfSxkcmFnVmVydGV4OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5tYXAuZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHgoYiksZD1hLmdlb21ldHJ5O2QubW92ZShjLmxvbi1kLngsYy5sYXQtZC55KTt0aGlzLm1vZGlmaWVkPSEwOyJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50Ij09dGhpcy5mZWF0dXJlLmdlb21ldHJ5LkNMQVNTX05BTUU/CnRoaXMubGF5ZXIuZXZlbnRzLnRyaWdnZXJFdmVudCgidmVydGV4bW9kaWZpZWQiLHt2ZXJ0ZXg6YS5nZW9tZXRyeSxmZWF0dXJlOnRoaXMuZmVhdHVyZSxwaXhlbDpifSk6KGEuX2luZGV4PyhhLmdlb21ldHJ5LnBhcmVudC5hZGRDb21wb25lbnQoYS5nZW9tZXRyeSxhLl9pbmRleCksZGVsZXRlIGEuX2luZGV4LE9wZW5MYXllcnMuVXRpbC5yZW1vdmVJdGVtKHRoaXMudmlydHVhbFZlcnRpY2VzLGEpLHRoaXMudmVydGljZXMucHVzaChhKSk6YT09dGhpcy5kcmFnSGFuZGxlPyh0aGlzLmxheWVyLnJlbW92ZUZlYXR1cmVzKHRoaXMudmVydGljZXMse3NpbGVudDohMH0pLHRoaXMudmVydGljZXM9W10sdGhpcy5yYWRpdXNIYW5kbGUmJih0aGlzLmxheWVyLmRlc3Ryb3lGZWF0dXJlcyhbdGhpcy5yYWRpdXNIYW5kbGVdLHtzaWxlbnQ6ITB9KSx0aGlzLnJhZGl1c0hhbmRsZT1udWxsKSk6YSE9PXRoaXMucmFkaXVzSGFuZGxlJiZ0aGlzLmxheWVyLmV2ZW50cy50cmlnZ2VyRXZlbnQoInZlcnRleG1vZGlmaWVkIiwKe3ZlcnRleDphLmdlb21ldHJ5LGZlYXR1cmU6dGhpcy5mZWF0dXJlLHBpeGVsOmJ9KSwwPHRoaXMudmlydHVhbFZlcnRpY2VzLmxlbmd0aCYmKHRoaXMubGF5ZXIuZGVzdHJveUZlYXR1cmVzKHRoaXMudmlydHVhbFZlcnRpY2VzLHtzaWxlbnQ6ITB9KSx0aGlzLnZpcnR1YWxWZXJ0aWNlcz1bXSksdGhpcy5sYXllci5kcmF3RmVhdHVyZSh0aGlzLmZlYXR1cmUsdGhpcy5zdGFuZGFsb25lP3ZvaWQgMDoic2VsZWN0IikpO3RoaXMubGF5ZXIuZHJhd0ZlYXR1cmUoYSl9LGRyYWdDb21wbGV0ZTpmdW5jdGlvbigpe3RoaXMucmVzZXRWZXJ0aWNlcygpO3RoaXMuc2V0RmVhdHVyZVN0YXRlKCk7dGhpcy5vbk1vZGlmaWNhdGlvbih0aGlzLmZlYXR1cmUpO3RoaXMubGF5ZXIuZXZlbnRzLnRyaWdnZXJFdmVudCgiZmVhdHVyZW1vZGlmaWVkIix7ZmVhdHVyZTp0aGlzLmZlYXR1cmV9KX0sc2V0RmVhdHVyZVN0YXRlOmZ1bmN0aW9uKCl7aWYodGhpcy5mZWF0dXJlLnN0YXRlIT1PcGVuTGF5ZXJzLlN0YXRlLklOU0VSVCYmCnRoaXMuZmVhdHVyZS5zdGF0ZSE9T3BlbkxheWVycy5TdGF0ZS5ERUxFVEUmJih0aGlzLmZlYXR1cmUuc3RhdGU9T3BlbkxheWVycy5TdGF0ZS5VUERBVEUsdGhpcy5tb2RpZmllZCYmdGhpcy5fb3JpZ2luYWxHZW9tZXRyeSkpe3ZhciBhPXRoaXMuZmVhdHVyZTthLm1vZGlmaWVkPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoYS5tb2RpZmllZCx7Z2VvbWV0cnk6dGhpcy5fb3JpZ2luYWxHZW9tZXRyeX0pO2RlbGV0ZSB0aGlzLl9vcmlnaW5hbEdlb21ldHJ5fX0scmVzZXRWZXJ0aWNlczpmdW5jdGlvbigpezA8dGhpcy52ZXJ0aWNlcy5sZW5ndGgmJih0aGlzLmxheWVyLnJlbW92ZUZlYXR1cmVzKHRoaXMudmVydGljZXMse3NpbGVudDohMH0pLHRoaXMudmVydGljZXM9W10pOzA8dGhpcy52aXJ0dWFsVmVydGljZXMubGVuZ3RoJiYodGhpcy5sYXllci5yZW1vdmVGZWF0dXJlcyh0aGlzLnZpcnR1YWxWZXJ0aWNlcyx7c2lsZW50OiEwfSksdGhpcy52aXJ0dWFsVmVydGljZXM9W10pO3RoaXMuZHJhZ0hhbmRsZSYmCih0aGlzLmxheWVyLmRlc3Ryb3lGZWF0dXJlcyhbdGhpcy5kcmFnSGFuZGxlXSx7c2lsZW50OiEwfSksdGhpcy5kcmFnSGFuZGxlPW51bGwpO3RoaXMucmFkaXVzSGFuZGxlJiYodGhpcy5sYXllci5kZXN0cm95RmVhdHVyZXMoW3RoaXMucmFkaXVzSGFuZGxlXSx7c2lsZW50OiEwfSksdGhpcy5yYWRpdXNIYW5kbGU9bnVsbCk7dGhpcy5mZWF0dXJlJiYiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCIhPXRoaXMuZmVhdHVyZS5nZW9tZXRyeS5DTEFTU19OQU1FJiYodGhpcy5tb2RlJk9wZW5MYXllcnMuQ29udHJvbC5Nb2RpZnlGZWF0dXJlLkRSQUcmJnRoaXMuY29sbGVjdERyYWdIYW5kbGUoKSx0aGlzLm1vZGUmKE9wZW5MYXllcnMuQ29udHJvbC5Nb2RpZnlGZWF0dXJlLlJPVEFURXxPcGVuTGF5ZXJzLkNvbnRyb2wuTW9kaWZ5RmVhdHVyZS5SRVNJWkUpJiZ0aGlzLmNvbGxlY3RSYWRpdXNIYW5kbGUoKSx0aGlzLm1vZGUmT3BlbkxheWVycy5Db250cm9sLk1vZGlmeUZlYXR1cmUuUkVTSEFQRSYmCih0aGlzLm1vZGUmT3BlbkxheWVycy5Db250cm9sLk1vZGlmeUZlYXR1cmUuUkVTSVpFfHx0aGlzLmNvbGxlY3RWZXJ0aWNlcygpKSl9LGhhbmRsZUtleXByZXNzOmZ1bmN0aW9uKGEpe3ZhciBiPWEua2V5Q29kZTtpZih0aGlzLmZlYXR1cmUmJi0xIT1PcGVuTGF5ZXJzLlV0aWwuaW5kZXhPZih0aGlzLmRlbGV0ZUNvZGVzLGIpJiYoYj10aGlzLmxheWVyLmdldEZlYXR1cmVGcm9tRXZlbnQodGhpcy5oYW5kbGVycy5kcmFnLmV2dCkpJiYtMSE9T3BlbkxheWVycy5VdGlsLmluZGV4T2YodGhpcy52ZXJ0aWNlcyxiKSYmIXRoaXMuaGFuZGxlcnMuZHJhZy5kcmFnZ2luZyYmYi5nZW9tZXRyeS5wYXJlbnQpYi5nZW9tZXRyeS5wYXJlbnQucmVtb3ZlQ29tcG9uZW50KGIuZ2VvbWV0cnkpLHRoaXMubGF5ZXIuZXZlbnRzLnRyaWdnZXJFdmVudCgidmVydGV4cmVtb3ZlZCIse3ZlcnRleDpiLmdlb21ldHJ5LGZlYXR1cmU6dGhpcy5mZWF0dXJlLHBpeGVsOmEueHl9KSx0aGlzLmxheWVyLmRyYXdGZWF0dXJlKHRoaXMuZmVhdHVyZSwKdGhpcy5zdGFuZGFsb25lP3ZvaWQgMDoic2VsZWN0IiksdGhpcy5tb2RpZmllZD0hMCx0aGlzLnJlc2V0VmVydGljZXMoKSx0aGlzLnNldEZlYXR1cmVTdGF0ZSgpLHRoaXMub25Nb2RpZmljYXRpb24odGhpcy5mZWF0dXJlKSx0aGlzLmxheWVyLmV2ZW50cy50cmlnZ2VyRXZlbnQoImZlYXR1cmVtb2RpZmllZCIse2ZlYXR1cmU6dGhpcy5mZWF0dXJlfSl9LGNvbGxlY3RWZXJ0aWNlczpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYyl7dmFyIGQsZSxmO2lmKCJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50Ij09Yy5DTEFTU19OQU1FKWU9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoYyksZS5fc2tldGNoPSEwLGUucmVuZGVySW50ZW50PWIudmVydGV4UmVuZGVySW50ZW50LGIudmVydGljZXMucHVzaChlKTtlbHNle2Y9Yy5jb21wb25lbnRzLmxlbmd0aDsiT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lYXJSaW5nIj09Yy5DTEFTU19OQU1FJiYoZi09MSk7Zm9yKGQ9MDtkPGY7KytkKWU9CmMuY29tcG9uZW50c1tkXSwiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCI9PWUuQ0xBU1NfTkFNRT8oZT1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihlKSxlLl9za2V0Y2g9ITAsZS5yZW5kZXJJbnRlbnQ9Yi52ZXJ0ZXhSZW5kZXJJbnRlbnQsYi52ZXJ0aWNlcy5wdXNoKGUpKTphKGUpO2lmKGIuY3JlYXRlVmVydGljZXMmJiJPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpUG9pbnQiIT1jLkNMQVNTX05BTUUpe2Q9MDtmb3IoZj1jLmNvbXBvbmVudHMubGVuZ3RoO2Q8Zi0xOysrZCl7ZT1jLmNvbXBvbmVudHNbZF07dmFyIGc9Yy5jb21wb25lbnRzW2QrMV07Ik9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQiPT1lLkNMQVNTX05BTUUmJiJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50Ij09Zy5DTEFTU19OQU1FJiYoZT1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCgoZS54K2cueCkvMiwoZS55K2cueSkvMiksbnVsbCxiLnZpcnR1YWxTdHlsZSksCmUuZ2VvbWV0cnkucGFyZW50PWMsZS5faW5kZXg9ZCsxLGUuX3NrZXRjaD0hMCxiLnZpcnR1YWxWZXJ0aWNlcy5wdXNoKGUpKX19fX10aGlzLnZlcnRpY2VzPVtdO3RoaXMudmlydHVhbFZlcnRpY2VzPVtdO3ZhciBiPXRoaXM7YS5jYWxsKHRoaXMsdGhpcy5mZWF0dXJlLmdlb21ldHJ5KTt0aGlzLmxheWVyLmFkZEZlYXR1cmVzKHRoaXMudmlydHVhbFZlcnRpY2VzLHtzaWxlbnQ6ITB9KTt0aGlzLmxheWVyLmFkZEZlYXR1cmVzKHRoaXMudmVydGljZXMse3NpbGVudDohMH0pfSxjb2xsZWN0RHJhZ0hhbmRsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZmVhdHVyZS5nZW9tZXRyeSxiPWEuZ2V0Qm91bmRzKCkuZ2V0Q2VudGVyTG9uTGF0KCksYj1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChiLmxvbixiLmxhdCksYz1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihiKTtiLm1vdmU9ZnVuY3Rpb24oYixjKXtPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50LnByb3RvdHlwZS5tb3ZlLmNhbGwodGhpcywKYixjKTthLm1vdmUoYixjKX07Yy5fc2tldGNoPSEwO3RoaXMuZHJhZ0hhbmRsZT1jO3RoaXMuZHJhZ0hhbmRsZS5yZW5kZXJJbnRlbnQ9dGhpcy52ZXJ0ZXhSZW5kZXJJbnRlbnQ7dGhpcy5sYXllci5hZGRGZWF0dXJlcyhbdGhpcy5kcmFnSGFuZGxlXSx7c2lsZW50OiEwfSl9LGNvbGxlY3RSYWRpdXNIYW5kbGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmZlYXR1cmUuZ2VvbWV0cnksYj1hLmdldEJvdW5kcygpLGM9Yi5nZXRDZW50ZXJMb25MYXQoKSxkPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGMubG9uLGMubGF0KSxiPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGIucmlnaHQsYi5ib3R0b20pLGM9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoYiksZT10aGlzLm1vZGUmT3BlbkxheWVycy5Db250cm9sLk1vZGlmeUZlYXR1cmUuUkVTSVpFLGY9dGhpcy5tb2RlJk9wZW5MYXllcnMuQ29udHJvbC5Nb2RpZnlGZWF0dXJlLlJFU0hBUEUsZz10aGlzLm1vZGUmCk9wZW5MYXllcnMuQ29udHJvbC5Nb2RpZnlGZWF0dXJlLlJPVEFURTtiLm1vdmU9ZnVuY3Rpb24oYixjKXtPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50LnByb3RvdHlwZS5tb3ZlLmNhbGwodGhpcyxiLGMpO3ZhciBqPXRoaXMueC1kLngsaz10aGlzLnktZC55LGw9ai1iLG09ay1jO2lmKGcpe3ZhciBuPU1hdGguYXRhbjIobSxsKSxuPU1hdGguYXRhbjIoayxqKS1uLG49biooMTgwL01hdGguUEkpO2Eucm90YXRlKG4sZCl9aWYoZSl7dmFyIHA7Zj8oay89bSxwPWovbC9rKToobD1NYXRoLnNxcnQobCpsK20qbSksaz1NYXRoLnNxcnQoaipqK2sqaykvbCk7YS5yZXNpemUoayxkLHApfX07Yy5fc2tldGNoPSEwO3RoaXMucmFkaXVzSGFuZGxlPWM7dGhpcy5yYWRpdXNIYW5kbGUucmVuZGVySW50ZW50PXRoaXMudmVydGV4UmVuZGVySW50ZW50O3RoaXMubGF5ZXIuYWRkRmVhdHVyZXMoW3RoaXMucmFkaXVzSGFuZGxlXSx7c2lsZW50OiEwfSl9LHNldE1hcDpmdW5jdGlvbihhKXt0aGlzLmhhbmRsZXJzLmRyYWcuc2V0TWFwKGEpOwpPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLnNldE1hcC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGhhbmRsZU1hcEV2ZW50czpmdW5jdGlvbihhKXsoInJlbW92ZWxheWVyIj09YS50eXBlfHwib3JkZXIiPT1hLnByb3BlcnR5KSYmdGhpcy5tb3ZlTGF5ZXJUb1RvcCgpfSxtb3ZlTGF5ZXJUb1RvcDpmdW5jdGlvbigpe3ZhciBhPU1hdGgubWF4KHRoaXMubWFwLlpfSU5ERVhfQkFTRS5GZWF0dXJlLTEsdGhpcy5sYXllci5nZXRaSW5kZXgoKSkrMTt0aGlzLmxheWVyLnNldFpJbmRleChhKX0sbW92ZUxheWVyQmFjazpmdW5jdGlvbigpe3ZhciBhPXRoaXMubGF5ZXIuZ2V0WkluZGV4KCktMTthPj10aGlzLm1hcC5aX0lOREVYX0JBU0UuRmVhdHVyZT90aGlzLmxheWVyLnNldFpJbmRleChhKTp0aGlzLm1hcC5zZXRMYXllclpJbmRleCh0aGlzLmxheWVyLHRoaXMubWFwLmdldExheWVySW5kZXgodGhpcy5sYXllcikpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuTW9kaWZ5RmVhdHVyZSJ9KTsKT3BlbkxheWVycy5Db250cm9sLk1vZGlmeUZlYXR1cmUuUkVTSEFQRT0xO09wZW5MYXllcnMuQ29udHJvbC5Nb2RpZnlGZWF0dXJlLlJFU0laRT0yO09wZW5MYXllcnMuQ29udHJvbC5Nb2RpZnlGZWF0dXJlLlJPVEFURT00O09wZW5MYXllcnMuQ29udHJvbC5Nb2RpZnlGZWF0dXJlLkRSQUc9ODtPcGVuTGF5ZXJzLkxheWVyLlhZWj1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIuR3JpZCx7aXNCYXNlTGF5ZXI6ITAsc3BoZXJpY2FsTWVyY2F0b3I6ITEsem9vbU9mZnNldDowLHNlcnZlclJlc29sdXRpb25zOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyl7aWYoYyYmYy5zcGhlcmljYWxNZXJjYXRvcnx8dGhpcy5zcGhlcmljYWxNZXJjYXRvciljPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe3Byb2plY3Rpb246IkVQU0c6OTAwOTEzIixudW1ab29tTGV2ZWxzOjE5fSxjKTtPcGVuTGF5ZXJzLkxheWVyLkdyaWQucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYXx8dGhpcy5uYW1lLGJ8fHRoaXMudXJsLHt9LGNdKX0sY2xvbmU6ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9bmV3IE9wZW5MYXllcnMuTGF5ZXIuWFlaKHRoaXMubmFtZSx0aGlzLnVybCx0aGlzLmdldE9wdGlvbnMoKSkpO3JldHVybiBhPU9wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUuY2xvbmUuYXBwbHkodGhpcywKW2FdKX0sZ2V0VVJMOmZ1bmN0aW9uKGEpe3ZhciBhPXRoaXMuZ2V0WFlaKGEpLGI9dGhpcy51cmw7T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYikmJihiPXRoaXMuc2VsZWN0VXJsKCIiK2EueCthLnkrYS56LGIpKTtyZXR1cm4gT3BlbkxheWVycy5TdHJpbmcuZm9ybWF0KGIsYSl9LGdldFhZWjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFNlcnZlclJlc29sdXRpb24oKSxjPU1hdGgucm91bmQoKGEubGVmdC10aGlzLm1heEV4dGVudC5sZWZ0KS8oYip0aGlzLnRpbGVTaXplLncpKSxhPU1hdGgucm91bmQoKHRoaXMubWF4RXh0ZW50LnRvcC1hLnRvcCkvKGIqdGhpcy50aWxlU2l6ZS5oKSksYj10aGlzLmdldFNlcnZlclpvb20oKTtpZih0aGlzLndyYXBEYXRlTGluZSl2YXIgZD1NYXRoLnBvdygyLGIpLGM9KGMlZCtkKSVkO3JldHVybnt4OmMseTphLHo6Yn19LHNldE1hcDpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkxheWVyLkdyaWQucHJvdG90eXBlLnNldE1hcC5hcHBseSh0aGlzLAphcmd1bWVudHMpO3RoaXMudGlsZU9yaWdpbnx8KHRoaXMudGlsZU9yaWdpbj1uZXcgT3BlbkxheWVycy5Mb25MYXQodGhpcy5tYXhFeHRlbnQubGVmdCx0aGlzLm1heEV4dGVudC5ib3R0b20pKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5YWVoifSk7T3BlbkxheWVycy5MYXllci5CaW5nPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllci5YWVose2tleTpudWxsLHNlcnZlclJlc29sdXRpb25zOlsxNTY1NDMuMDMzOTA2MjUsNzgyNzEuNTE2OTUzMTI1LDM5MTM1Ljc1ODQ3NjU2MjUsMTk1NjcuODc5MjM4MjgxMjUsOTc4My45Mzk2MTkxNDA2MjUsNDg5MS45Njk4MDk1NzAzMTI1LDI0NDUuOTg0OTA0Nzg1MTU2MiwxMjIyLjk5MjQ1MjM5MjU3ODEsNjExLjQ5NjIyNjE5NjI4OTEsMzA1Ljc0ODExMzA5ODE0NDUzLDE1Mi44NzQwNTY1NDkwNzIyNiw3Ni40MzcwMjgyNzQ1MzYxMywzOC4yMTg1MTQxMzcyNjgwNjYsMTkuMTA5MjU3MDY4NjM0MDMzLDkuNTU0NjI4NTM0MzE3MDE3LDQuNzc3MzE0MjY3MTU4NTA4LDIuMzg4NjU3MTMzNTc5MjU0LDEuMTk0MzI4NTY2Nzg5NjI3LDAuNTk3MTY0MjgzMzk0ODEzNSwwLjI5ODU4MjE0MTY5NzQwNjc3LDAuMTQ5MjkxMDcwODQ4NzAzMzgsMC4wNzQ2NDU1MzU0MjQzNTE2OV0sYXR0cmlidXRpb25UZW1wbGF0ZTonPHNwYW4gY2xhc3M9Im9sQmluZ0F0dHJpYnV0aW9uICR7dHlwZX0iPjxkaXY+PGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHA6Ly93d3cuYmluZy5jb20vbWFwcy8iPjxpbWcgc3JjPSIke2xvZ299IiAvPjwvYT48L2Rpdj4ke2NvcHlyaWdodHN9PGEgc3R5bGU9IndoaXRlLXNwYWNlOiBub3dyYXAiIHRhcmdldD0iX2JsYW5rIiBocmVmPSJodHRwOi8vd3d3Lm1pY3Jvc29mdC5jb20vbWFwcy9wcm9kdWN0L3Rlcm1zLmh0bWwiPlRlcm1zIG9mIFVzZTwvYT48L3NwYW4+JywKbWV0YWRhdGE6bnVsbCxwcm90b2NvbFJlZ2V4Oi9eaHR0cDovaSx0eXBlOiJSb2FkIixjdWx0dXJlOiJlbi1VUyIsbWV0YWRhdGFQYXJhbXM6bnVsbCx0aWxlT3B0aW9uczpudWxsLHByb3RvY29sOn53aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCJodHRwIik/IiI6Imh0dHA6Iixpbml0aWFsaXplOmZ1bmN0aW9uKGEpe2E9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3NwaGVyaWNhbE1lcmNhdG9yOiEwfSxhKTtPcGVuTGF5ZXJzLkxheWVyLlhZWi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthLm5hbWV8fCJCaW5nICIrKGEudHlwZXx8dGhpcy50eXBlKSxudWxsLGFdKTt0aGlzLnRpbGVPcHRpb25zPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe2Nyb3NzT3JpZ2luS2V5d29yZDoiYW5vbnltb3VzIn0sdGhpcy5vcHRpb25zLnRpbGVPcHRpb25zKTt0aGlzLmxvYWRNZXRhZGF0YSgpfSxsb2FkTWV0YWRhdGE6ZnVuY3Rpb24oKXt0aGlzLl9jYWxsYmFja0lkPQoiX2NhbGxiYWNrXyIrdGhpcy5pZC5yZXBsYWNlKC9cLi9nLCJfIik7d2luZG93W3RoaXMuX2NhbGxiYWNrSWRdPU9wZW5MYXllcnMuRnVuY3Rpb24uYmluZChPcGVuTGF5ZXJzLkxheWVyLkJpbmcucHJvY2Vzc01ldGFkYXRhLHRoaXMpO3ZhciBhPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtrZXk6dGhpcy5rZXksanNvbnA6dGhpcy5fY2FsbGJhY2tJZCxpbmNsdWRlOiJJbWFnZXJ5UHJvdmlkZXJzIn0sdGhpcy5tZXRhZGF0YVBhcmFtcyksYT10aGlzLnByb3RvY29sKyIvL2Rldi52aXJ0dWFsZWFydGgubmV0L1JFU1QvdjEvSW1hZ2VyeS9NZXRhZGF0YS8iK3RoaXMudHlwZSsiPyIrT3BlbkxheWVycy5VdGlsLmdldFBhcmFtZXRlclN0cmluZyhhKSxiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2IudHlwZT0idGV4dC9qYXZhc2NyaXB0IjtiLnNyYz1hO2IuaWQ9dGhpcy5fY2FsbGJhY2tJZDtkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLmFwcGVuZENoaWxkKGIpfSwKaW5pdExheWVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5tZXRhZGF0YS5yZXNvdXJjZVNldHNbMF0ucmVzb3VyY2VzWzBdLGI9YS5pbWFnZVVybC5yZXBsYWNlKCJ7cXVhZGtleX0iLCIke3F1YWRrZXl9IiksYj1iLnJlcGxhY2UoIntjdWx0dXJlfSIsdGhpcy5jdWx0dXJlKSxiPWIucmVwbGFjZSh0aGlzLnByb3RvY29sUmVnZXgsdGhpcy5wcm90b2NvbCk7dGhpcy51cmw9W107Zm9yKHZhciBjPTA7YzxhLmltYWdlVXJsU3ViZG9tYWlucy5sZW5ndGg7KytjKXRoaXMudXJsLnB1c2goYi5yZXBsYWNlKCJ7c3ViZG9tYWlufSIsYS5pbWFnZVVybFN1YmRvbWFpbnNbY10pKTt0aGlzLmFkZE9wdGlvbnMoe21heFJlc29sdXRpb246TWF0aC5taW4odGhpcy5zZXJ2ZXJSZXNvbHV0aW9uc1thLnpvb21NaW5dLHRoaXMubWF4UmVzb2x1dGlvbnx8TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSxudW1ab29tTGV2ZWxzOk1hdGgubWluKGEuem9vbU1heCsxLWEuem9vbU1pbix0aGlzLm51bVpvb21MZXZlbHMpfSwKITApO3RoaXMuaXNCYXNlTGF5ZXJ8fHRoaXMucmVkcmF3KCk7dGhpcy51cGRhdGVBdHRyaWJ1dGlvbigpfSxnZXRVUkw6ZnVuY3Rpb24oYSl7aWYodGhpcy51cmwpe2Zvcih2YXIgYj10aGlzLmdldFhZWihhKSxhPWIueCxjPWIueSxiPWIueixkPVtdLGU9YjswPGU7LS1lKXt2YXIgZj0iMCIsZz0xPDxlLTE7MCE9KGEmZykmJmYrKzswIT0oYyZnKSYmKGYrKyxmKyspO2QucHVzaChmKX1kPWQuam9pbigiIik7YT10aGlzLnNlbGVjdFVybCgiIithK2MrYix0aGlzLnVybCk7cmV0dXJuIE9wZW5MYXllcnMuU3RyaW5nLmZvcm1hdChhLHtxdWFka2V5OmR9KX19LHVwZGF0ZUF0dHJpYnV0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5tZXRhZGF0YTtpZihhLnJlc291cmNlU2V0cyYmdGhpcy5tYXAmJnRoaXMubWFwLmNlbnRlcil7dmFyIGI9YS5yZXNvdXJjZVNldHNbMF0ucmVzb3VyY2VzWzBdLGM9dGhpcy5tYXAuZ2V0RXh0ZW50KCkudHJhbnNmb3JtKHRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSwKbmV3IE9wZW5MYXllcnMuUHJvamVjdGlvbigiRVBTRzo0MzI2IikpLGQ9Yi5pbWFnZXJ5UHJvdmlkZXJzfHxbXSxlPU9wZW5MYXllcnMuVXRpbC5pbmRleE9mKHRoaXMuc2VydmVyUmVzb2x1dGlvbnMsdGhpcy5nZXRTZXJ2ZXJSZXNvbHV0aW9uKCkpLGI9IiIsZixnLGgsaSxqLGssbDtnPTA7Zm9yKGg9ZC5sZW5ndGg7ZzxoOysrZyl7Zj1kW2ddO2k9MDtmb3Ioaj1mLmNvdmVyYWdlQXJlYXMubGVuZ3RoO2k8ajsrK2kpbD1mLmNvdmVyYWdlQXJlYXNbaV0saz1PcGVuTGF5ZXJzLkJvdW5kcy5mcm9tQXJyYXkobC5iYm94LCEwKSxjLmludGVyc2VjdHNCb3VuZHMoaykmJihlPD1sLnpvb21NYXgmJmU+PWwuem9vbU1pbikmJihiKz1mLmF0dHJpYnV0aW9uKyIgIil9YT1hLmJyYW5kTG9nb1VyaS5yZXBsYWNlKHRoaXMucHJvdG9jb2xSZWdleCx0aGlzLnByb3RvY29sKTt0aGlzLmF0dHJpYnV0aW9uPU9wZW5MYXllcnMuU3RyaW5nLmZvcm1hdCh0aGlzLmF0dHJpYnV0aW9uVGVtcGxhdGUsCnt0eXBlOnRoaXMudHlwZS50b0xvd2VyQ2FzZSgpLGxvZ286YSxjb3B5cmlnaHRzOmJ9KTt0aGlzLm1hcCYmdGhpcy5tYXAuZXZlbnRzLnRyaWdnZXJFdmVudCgiY2hhbmdlbGF5ZXIiLHtsYXllcjp0aGlzLHByb3BlcnR5OiJhdHRyaWJ1dGlvbiJ9KX19LHNldE1hcDpmdW5jdGlvbigpe09wZW5MYXllcnMuTGF5ZXIuWFlaLnByb3RvdHlwZS5zZXRNYXAuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMubWFwLmV2ZW50cy5yZWdpc3RlcigibW92ZWVuZCIsdGhpcyx0aGlzLnVwZGF0ZUF0dHJpYnV0aW9uKX0sY2xvbmU6ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9bmV3IE9wZW5MYXllcnMuTGF5ZXIuQmluZyh0aGlzLm9wdGlvbnMpKTtyZXR1cm4gYT1PcGVuTGF5ZXJzLkxheWVyLlhZWi5wcm90b3R5cGUuY2xvbmUuYXBwbHkodGhpcyxbYV0pfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5tYXAmJnRoaXMubWFwLmV2ZW50cy51bnJlZ2lzdGVyKCJtb3ZlZW5kIix0aGlzLHRoaXMudXBkYXRlQXR0cmlidXRpb24pOwpPcGVuTGF5ZXJzLkxheWVyLlhZWi5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuTGF5ZXIuQmluZyJ9KTtPcGVuTGF5ZXJzLkxheWVyLkJpbmcucHJvY2Vzc01ldGFkYXRhPWZ1bmN0aW9uKGEpe3RoaXMubWV0YWRhdGE9YTt0aGlzLmluaXRMYXllcigpO2E9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fY2FsbGJhY2tJZCk7YS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpO3dpbmRvd1t0aGlzLl9jYWxsYmFja0lkXT12b2lkIDA7ZGVsZXRlIHRoaXMuX2NhbGxiYWNrSWR9O09wZW5MYXllcnMuU3R5bGVNYXA9T3BlbkxheWVycy5DbGFzcyh7c3R5bGVzOm51bGwsZXh0ZW5kRGVmYXVsdDohMCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYil7dGhpcy5zdHlsZXM9eyJkZWZhdWx0IjpuZXcgT3BlbkxheWVycy5TdHlsZShPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yLnN0eWxlWyJkZWZhdWx0Il0pLHNlbGVjdDpuZXcgT3BlbkxheWVycy5TdHlsZShPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yLnN0eWxlLnNlbGVjdCksdGVtcG9yYXJ5Om5ldyBPcGVuTGF5ZXJzLlN0eWxlKE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3Iuc3R5bGUudGVtcG9yYXJ5KSwiZGVsZXRlIjpuZXcgT3BlbkxheWVycy5TdHlsZShPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yLnN0eWxlWyJkZWxldGUiXSl9O2lmKGEgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLlN0eWxlKXRoaXMuc3R5bGVzWyJkZWZhdWx0Il09YSx0aGlzLnN0eWxlcy5zZWxlY3Q9YSx0aGlzLnN0eWxlcy50ZW1wb3Jhcnk9YSx0aGlzLnN0eWxlc1siZGVsZXRlIl09CmE7ZWxzZSBpZigib2JqZWN0Ij09dHlwZW9mIGEpZm9yKHZhciBjIGluIGEpaWYoYVtjXWluc3RhbmNlb2YgT3BlbkxheWVycy5TdHlsZSl0aGlzLnN0eWxlc1tjXT1hW2NdO2Vsc2UgaWYoIm9iamVjdCI9PXR5cGVvZiBhW2NdKXRoaXMuc3R5bGVzW2NdPW5ldyBPcGVuTGF5ZXJzLlN0eWxlKGFbY10pO2Vsc2V7dGhpcy5zdHlsZXNbImRlZmF1bHQiXT1uZXcgT3BlbkxheWVycy5TdHlsZShhKTt0aGlzLnN0eWxlcy5zZWxlY3Q9bmV3IE9wZW5MYXllcnMuU3R5bGUoYSk7dGhpcy5zdHlsZXMudGVtcG9yYXJ5PW5ldyBPcGVuTGF5ZXJzLlN0eWxlKGEpO3RoaXMuc3R5bGVzWyJkZWxldGUiXT1uZXcgT3BlbkxheWVycy5TdHlsZShhKTticmVha31PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsYil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gdGhpcy5zdHlsZXMpdGhpcy5zdHlsZXNbYV0uZGVzdHJveSgpO3RoaXMuc3R5bGVzPW51bGx9LGNyZWF0ZVN5bWJvbGl6ZXI6ZnVuY3Rpb24oYSwKYil7YXx8KGE9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IpO3RoaXMuc3R5bGVzW2JdfHwoYj0iZGVmYXVsdCIpO2EucmVuZGVySW50ZW50PWI7dmFyIGM9e307dGhpcy5leHRlbmREZWZhdWx0JiYiZGVmYXVsdCIhPWImJihjPXRoaXMuc3R5bGVzWyJkZWZhdWx0Il0uY3JlYXRlU3ltYm9saXplcihhKSk7cmV0dXJuIE9wZW5MYXllcnMuVXRpbC5leHRlbmQoYyx0aGlzLnN0eWxlc1tiXS5jcmVhdGVTeW1ib2xpemVyKGEpKX0sYWRkVW5pcXVlVmFsdWVSdWxlczpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1bXSxmO2ZvcihmIGluIGMpZS5wdXNoKG5ldyBPcGVuTGF5ZXJzLlJ1bGUoe3N5bWJvbGl6ZXI6Y1tmXSxjb250ZXh0OmQsZmlsdGVyOm5ldyBPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uKHt0eXBlOk9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uRVFVQUxfVE8scHJvcGVydHk6Yix2YWx1ZTpmfSl9KSk7dGhpcy5zdHlsZXNbYV0uYWRkUnVsZXMoZSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuU3R5bGVNYXAifSk7T3BlbkxheWVycy5MYXllci5WZWN0b3I9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkxheWVyLHtpc0Jhc2VMYXllcjohMSxpc0ZpeGVkOiExLGZlYXR1cmVzOm51bGwsZmlsdGVyOm51bGwsc2VsZWN0ZWRGZWF0dXJlczpudWxsLHVucmVuZGVyZWRGZWF0dXJlczpudWxsLHJlcG9ydEVycm9yOiEwLHN0eWxlOm51bGwsc3R5bGVNYXA6bnVsbCxzdHJhdGVnaWVzOm51bGwscHJvdG9jb2w6bnVsbCxyZW5kZXJlcnM6WyJTVkciLCJWTUwiLCJDYW52YXMiXSxyZW5kZXJlcjpudWxsLHJlbmRlcmVyT3B0aW9uczpudWxsLGdlb21ldHJ5VHlwZTpudWxsLGRyYXduOiExLHJhdGlvOjEsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIpe09wZW5MYXllcnMuTGF5ZXIucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpOyghdGhpcy5yZW5kZXJlcnx8IXRoaXMucmVuZGVyZXIuc3VwcG9ydGVkKCkpJiZ0aGlzLmFzc2lnblJlbmRlcmVyKCk7aWYoIXRoaXMucmVuZGVyZXJ8fAohdGhpcy5yZW5kZXJlci5zdXBwb3J0ZWQoKSl0aGlzLnJlbmRlcmVyPW51bGwsdGhpcy5kaXNwbGF5RXJyb3IoKTt0aGlzLnN0eWxlTWFwfHwodGhpcy5zdHlsZU1hcD1uZXcgT3BlbkxheWVycy5TdHlsZU1hcCk7dGhpcy5mZWF0dXJlcz1bXTt0aGlzLnNlbGVjdGVkRmVhdHVyZXM9W107dGhpcy51bnJlbmRlcmVkRmVhdHVyZXM9e307aWYodGhpcy5zdHJhdGVnaWVzKWZvcih2YXIgYz0wLGQ9dGhpcy5zdHJhdGVnaWVzLmxlbmd0aDtjPGQ7YysrKXRoaXMuc3RyYXRlZ2llc1tjXS5zZXRMYXllcih0aGlzKX0sZGVzdHJveTpmdW5jdGlvbigpe2lmKHRoaXMuc3RyYXRlZ2llcyl7dmFyIGEsYixjO2I9MDtmb3IoYz10aGlzLnN0cmF0ZWdpZXMubGVuZ3RoO2I8YztiKyspYT10aGlzLnN0cmF0ZWdpZXNbYl0sYS5hdXRvRGVzdHJveSYmYS5kZXN0cm95KCk7dGhpcy5zdHJhdGVnaWVzPW51bGx9dGhpcy5wcm90b2NvbCYmKHRoaXMucHJvdG9jb2wuYXV0b0Rlc3Ryb3kmJnRoaXMucHJvdG9jb2wuZGVzdHJveSgpLAp0aGlzLnByb3RvY29sPW51bGwpO3RoaXMuZGVzdHJveUZlYXR1cmVzKCk7dGhpcy51bnJlbmRlcmVkRmVhdHVyZXM9dGhpcy5zZWxlY3RlZEZlYXR1cmVzPXRoaXMuZmVhdHVyZXM9bnVsbDt0aGlzLnJlbmRlcmVyJiZ0aGlzLnJlbmRlcmVyLmRlc3Ryb3koKTt0aGlzLmRyYXduPXRoaXMuZ2VvbWV0cnlUeXBlPXRoaXMucmVuZGVyZXI9bnVsbDtPcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sY2xvbmU6ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9bmV3IE9wZW5MYXllcnMuTGF5ZXIuVmVjdG9yKHRoaXMubmFtZSx0aGlzLmdldE9wdGlvbnMoKSkpO2Zvcih2YXIgYT1PcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5jbG9uZS5hcHBseSh0aGlzLFthXSksYj10aGlzLmZlYXR1cmVzLGM9Yi5sZW5ndGgsZD1BcnJheShjKSxlPTA7ZTxjOysrZSlkW2VdPWJbZV0uY2xvbmUoKTthLmZlYXR1cmVzPWQ7cmV0dXJuIGF9LHJlZnJlc2g6ZnVuY3Rpb24oYSl7dGhpcy5jYWxjdWxhdGVJblJhbmdlKCkmJgp0aGlzLnZpc2liaWxpdHkmJnRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgicmVmcmVzaCIsYSl9LGFzc2lnblJlbmRlcmVyOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYj10aGlzLnJlbmRlcmVycy5sZW5ndGg7YTxiO2ErKyl7dmFyIGM9dGhpcy5yZW5kZXJlcnNbYV07aWYoKGM9ImZ1bmN0aW9uIj09dHlwZW9mIGM/YzpPcGVuTGF5ZXJzLlJlbmRlcmVyW2NdKSYmYy5wcm90b3R5cGUuc3VwcG9ydGVkKCkpe3RoaXMucmVuZGVyZXI9bmV3IGModGhpcy5kaXYsdGhpcy5yZW5kZXJlck9wdGlvbnMpO2JyZWFrfX19LGRpc3BsYXlFcnJvcjpmdW5jdGlvbigpe3RoaXMucmVwb3J0RXJyb3ImJk9wZW5MYXllcnMuQ29uc29sZS51c2VyRXJyb3IoT3BlbkxheWVycy5pMThuKCJicm93c2VyTm90U3VwcG9ydGVkIix7cmVuZGVyZXJzOnRoaXMucmVuZGVyZXJzLmpvaW4oIlxuIil9KSl9LHNldE1hcDpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5zZXRNYXAuYXBwbHkodGhpcywKYXJndW1lbnRzKTtpZih0aGlzLnJlbmRlcmVyKXt0aGlzLnJlbmRlcmVyLm1hcD10aGlzLm1hcDt2YXIgYj10aGlzLm1hcC5nZXRTaXplKCk7Yi53Kj10aGlzLnJhdGlvO2IuaCo9dGhpcy5yYXRpbzt0aGlzLnJlbmRlcmVyLnNldFNpemUoYil9ZWxzZSB0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzKX0sYWZ0ZXJBZGQ6ZnVuY3Rpb24oKXtpZih0aGlzLnN0cmF0ZWdpZXMpe3ZhciBhLGIsYztiPTA7Zm9yKGM9dGhpcy5zdHJhdGVnaWVzLmxlbmd0aDtiPGM7YisrKWE9dGhpcy5zdHJhdGVnaWVzW2JdLGEuYXV0b0FjdGl2YXRlJiZhLmFjdGl2YXRlKCl9fSxyZW1vdmVNYXA6ZnVuY3Rpb24oKXt0aGlzLmRyYXduPSExO2lmKHRoaXMuc3RyYXRlZ2llcyl7dmFyIGEsYixjO2I9MDtmb3IoYz10aGlzLnN0cmF0ZWdpZXMubGVuZ3RoO2I8YztiKyspYT10aGlzLnN0cmF0ZWdpZXNbYl0sYS5hdXRvQWN0aXZhdGUmJmEuZGVhY3RpdmF0ZSgpfX0sb25NYXBSZXNpemU6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5vbk1hcFJlc2l6ZS5hcHBseSh0aGlzLAphcmd1bWVudHMpO3ZhciBhPXRoaXMubWFwLmdldFNpemUoKTthLncqPXRoaXMucmF0aW87YS5oKj10aGlzLnJhdGlvO3RoaXMucmVuZGVyZXIuc2V0U2l6ZShhKX0sbW92ZVRvOmZ1bmN0aW9uKGEsYixjKXtPcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5tb3ZlVG8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBkPSEwO2lmKCFjKXt0aGlzLnJlbmRlcmVyLnJvb3Quc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIjt2YXIgZD10aGlzLm1hcC5nZXRTaXplKCksZT1kLncsZD1kLmgsZT1lLzIqdGhpcy5yYXRpby1lLzIsZD1kLzIqdGhpcy5yYXRpby1kLzIsZT1lK3RoaXMubWFwLmxheWVyQ29udGFpbmVyT3JpZ2luUHgueCxlPS1NYXRoLnJvdW5kKGUpLGQ9ZCt0aGlzLm1hcC5sYXllckNvbnRhaW5lck9yaWdpblB4LnksZD0tTWF0aC5yb3VuZChkKTt0aGlzLmRpdi5zdHlsZS5sZWZ0PWUrInB4Ijt0aGlzLmRpdi5zdHlsZS50b3A9ZCsicHgiO2U9dGhpcy5tYXAuZ2V0RXh0ZW50KCkuc2NhbGUodGhpcy5yYXRpbyk7CmQ9dGhpcy5yZW5kZXJlci5zZXRFeHRlbnQoZSxiKTt0aGlzLnJlbmRlcmVyLnJvb3Quc3R5bGUudmlzaWJpbGl0eT0idmlzaWJsZSI7ITA9PT1PcGVuTGF5ZXJzLklTX0dFQ0tPJiYodGhpcy5kaXYuc2Nyb2xsTGVmdD10aGlzLmRpdi5zY3JvbGxMZWZ0KTtpZighYiYmZClmb3IodmFyIGYgaW4gdGhpcy51bnJlbmRlcmVkRmVhdHVyZXMpZT10aGlzLnVucmVuZGVyZWRGZWF0dXJlc1tmXSx0aGlzLmRyYXdGZWF0dXJlKGUpfWlmKCF0aGlzLmRyYXdufHxifHwhZCl7dGhpcy5kcmF3bj0hMDtmPTA7Zm9yKGQ9dGhpcy5mZWF0dXJlcy5sZW5ndGg7ZjxkO2YrKyl0aGlzLnJlbmRlcmVyLmxvY2tlZD1mIT09ZC0xLGU9dGhpcy5mZWF0dXJlc1tmXSx0aGlzLmRyYXdGZWF0dXJlKGUpfX0sZGlzcGxheTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5kaXNwbGF5LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgYj10aGlzLmRpdi5zdHlsZS5kaXNwbGF5O2IhPXRoaXMucmVuZGVyZXIucm9vdC5zdHlsZS5kaXNwbGF5JiYKKHRoaXMucmVuZGVyZXIucm9vdC5zdHlsZS5kaXNwbGF5PWIpfSxhZGRGZWF0dXJlczpmdW5jdGlvbihhLGIpe09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEpfHwoYT1bYV0pO3ZhciBjPSFifHwhYi5zaWxlbnQ7aWYoYyl7dmFyIGQ9e2ZlYXR1cmVzOmF9O2lmKCExPT09dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJiZWZvcmVmZWF0dXJlc2FkZGVkIixkKSlyZXR1cm47YT1kLmZlYXR1cmVzfWZvcih2YXIgZD1bXSxlPTAsZj1hLmxlbmd0aDtlPGY7ZSsrKXt0aGlzLnJlbmRlcmVyLmxvY2tlZD1lIT1hLmxlbmd0aC0xPyEwOiExO3ZhciBnPWFbZV07aWYodGhpcy5nZW9tZXRyeVR5cGUmJiEoZy5nZW9tZXRyeSBpbnN0YW5jZW9mIHRoaXMuZ2VvbWV0cnlUeXBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJhZGRGZWF0dXJlczogY29tcG9uZW50IHNob3VsZCBiZSBhbiAiK3RoaXMuZ2VvbWV0cnlUeXBlLnByb3RvdHlwZS5DTEFTU19OQU1FKTtnLmxheWVyPXRoaXM7IWcuc3R5bGUmJnRoaXMuc3R5bGUmJgooZy5zdHlsZT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LHRoaXMuc3R5bGUpKTtpZihjKXtpZighMT09PXRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiYmVmb3JlZmVhdHVyZWFkZGVkIix7ZmVhdHVyZTpnfSkpY29udGludWU7dGhpcy5wcmVGZWF0dXJlSW5zZXJ0KGcpfWQucHVzaChnKTt0aGlzLmZlYXR1cmVzLnB1c2goZyk7dGhpcy5kcmF3RmVhdHVyZShnKTtjJiYodGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJmZWF0dXJlYWRkZWQiLHtmZWF0dXJlOmd9KSx0aGlzLm9uRmVhdHVyZUluc2VydChnKSl9YyYmdGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJmZWF0dXJlc2FkZGVkIix7ZmVhdHVyZXM6ZH0pfSxyZW1vdmVGZWF0dXJlczpmdW5jdGlvbihhLGIpe2lmKGEmJjAhPT1hLmxlbmd0aCl7aWYoYT09PXRoaXMuZmVhdHVyZXMpcmV0dXJuIHRoaXMucmVtb3ZlQWxsRmVhdHVyZXMoYik7T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSl8fChhPVthXSk7YT09PXRoaXMuc2VsZWN0ZWRGZWF0dXJlcyYmCihhPWEuc2xpY2UoKSk7dmFyIGM9IWJ8fCFiLnNpbGVudDtjJiZ0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImJlZm9yZWZlYXR1cmVzcmVtb3ZlZCIse2ZlYXR1cmVzOmF9KTtmb3IodmFyIGQ9YS5sZW5ndGgtMTswPD1kO2QtLSl7dGhpcy5yZW5kZXJlci5sb2NrZWQ9MCE9ZCYmYVtkLTFdLmdlb21ldHJ5PyEwOiExO3ZhciBlPWFbZF07ZGVsZXRlIHRoaXMudW5yZW5kZXJlZEZlYXR1cmVzW2UuaWRdO2MmJnRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiYmVmb3JlZmVhdHVyZXJlbW92ZWQiLHtmZWF0dXJlOmV9KTt0aGlzLmZlYXR1cmVzPU9wZW5MYXllcnMuVXRpbC5yZW1vdmVJdGVtKHRoaXMuZmVhdHVyZXMsZSk7ZS5sYXllcj1udWxsO2UuZ2VvbWV0cnkmJnRoaXMucmVuZGVyZXIuZXJhc2VGZWF0dXJlcyhlKTstMSE9T3BlbkxheWVycy5VdGlsLmluZGV4T2YodGhpcy5zZWxlY3RlZEZlYXR1cmVzLGUpJiZPcGVuTGF5ZXJzLlV0aWwucmVtb3ZlSXRlbSh0aGlzLnNlbGVjdGVkRmVhdHVyZXMsCmUpO2MmJnRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiZmVhdHVyZXJlbW92ZWQiLHtmZWF0dXJlOmV9KX1jJiZ0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImZlYXR1cmVzcmVtb3ZlZCIse2ZlYXR1cmVzOmF9KX19LHJlbW92ZUFsbEZlYXR1cmVzOmZ1bmN0aW9uKGEpe3ZhciBhPSFhfHwhYS5zaWxlbnQsYj10aGlzLmZlYXR1cmVzO2EmJnRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiYmVmb3JlZmVhdHVyZXNyZW1vdmVkIix7ZmVhdHVyZXM6Yn0pO2Zvcih2YXIgYyxkPWIubGVuZ3RoLTE7MDw9ZDtkLS0pYz1iW2RdLGEmJnRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiYmVmb3JlZmVhdHVyZXJlbW92ZWQiLHtmZWF0dXJlOmN9KSxjLmxheWVyPW51bGwsYSYmdGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJmZWF0dXJlcmVtb3ZlZCIse2ZlYXR1cmU6Y30pO3RoaXMucmVuZGVyZXIuY2xlYXIoKTt0aGlzLmZlYXR1cmVzPVtdO3RoaXMudW5yZW5kZXJlZEZlYXR1cmVzPXt9O3RoaXMuc2VsZWN0ZWRGZWF0dXJlcz0KW107YSYmdGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJmZWF0dXJlc3JlbW92ZWQiLHtmZWF0dXJlczpifSl9LGRlc3Ryb3lGZWF0dXJlczpmdW5jdGlvbihhLGIpe3ZvaWQgMD09YSYmKGE9dGhpcy5mZWF0dXJlcyk7aWYoYSl7dGhpcy5yZW1vdmVGZWF0dXJlcyhhLGIpO2Zvcih2YXIgYz1hLmxlbmd0aC0xOzA8PWM7Yy0tKWFbY10uZGVzdHJveSgpfX0sZHJhd0ZlYXR1cmU6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmRyYXduKXtpZigib2JqZWN0IiE9dHlwZW9mIGIpeyFiJiZhLnN0YXRlPT09T3BlbkxheWVycy5TdGF0ZS5ERUxFVEUmJihiPSJkZWxldGUiKTt2YXIgYz1ifHxhLnJlbmRlckludGVudDsoYj1hLnN0eWxlfHx0aGlzLnN0eWxlKXx8KGI9dGhpcy5zdHlsZU1hcC5jcmVhdGVTeW1ib2xpemVyKGEsYykpfWM9dGhpcy5yZW5kZXJlci5kcmF3RmVhdHVyZShhLGIpOyExPT09Y3x8bnVsbD09PWM/dGhpcy51bnJlbmRlcmVkRmVhdHVyZXNbYS5pZF09YTpkZWxldGUgdGhpcy51bnJlbmRlcmVkRmVhdHVyZXNbYS5pZF19fSwKZXJhc2VGZWF0dXJlczpmdW5jdGlvbihhKXt0aGlzLnJlbmRlcmVyLmVyYXNlRmVhdHVyZXMoYSl9LGdldEZlYXR1cmVGcm9tRXZlbnQ6ZnVuY3Rpb24oYSl7aWYoIXRoaXMucmVuZGVyZXIpdGhyb3cgRXJyb3IoImdldEZlYXR1cmVGcm9tRXZlbnQgY2FsbGVkIG9uIGxheWVyIHdpdGggbm8gcmVuZGVyZXIuIFRoaXMgdXN1YWxseSBtZWFucyB5b3UgZGVzdHJveWVkIGEgbGF5ZXIsIGJ1dCBub3Qgc29tZSBoYW5kbGVyIHdoaWNoIGlzIGFzc29jaWF0ZWQgd2l0aCBpdC4iKTt2YXIgYj1udWxsOyhhPXRoaXMucmVuZGVyZXIuZ2V0RmVhdHVyZUlkRnJvbUV2ZW50KGEpKSYmKGI9InN0cmluZyI9PT10eXBlb2YgYT90aGlzLmdldEZlYXR1cmVCeUlkKGEpOmEpO3JldHVybiBifSxnZXRGZWF0dXJlQnk6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9bnVsbCxkPTAsZT10aGlzLmZlYXR1cmVzLmxlbmd0aDtkPGU7KytkKWlmKHRoaXMuZmVhdHVyZXNbZF1bYV09PWIpe2M9dGhpcy5mZWF0dXJlc1tkXTsKYnJlYWt9cmV0dXJuIGN9LGdldEZlYXR1cmVCeUlkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldEZlYXR1cmVCeSgiaWQiLGEpfSxnZXRGZWF0dXJlQnlGaWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0RmVhdHVyZUJ5KCJmaWQiLGEpfSxnZXRGZWF0dXJlc0J5QXR0cmlidXRlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPXRoaXMuZmVhdHVyZXMubGVuZ3RoLGY9W107Zm9yKGM9MDtjPGU7YysrKShkPXRoaXMuZmVhdHVyZXNbY10pJiZkLmF0dHJpYnV0ZXMmJmQuYXR0cmlidXRlc1thXT09PWImJmYucHVzaChkKTtyZXR1cm4gZn0sb25GZWF0dXJlSW5zZXJ0OmZ1bmN0aW9uKCl7fSxwcmVGZWF0dXJlSW5zZXJ0OmZ1bmN0aW9uKCl7fSxnZXREYXRhRXh0ZW50OmZ1bmN0aW9uKCl7dmFyIGE9bnVsbCxiPXRoaXMuZmVhdHVyZXM7aWYoYiYmMDxiLmxlbmd0aClmb3IodmFyIGM9bnVsbCxkPTAsZT1iLmxlbmd0aDtkPGU7ZCsrKWlmKGM9YltkXS5nZW9tZXRyeSludWxsPT09YSYmCihhPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyksYS5leHRlbmQoYy5nZXRCb3VuZHMoKSk7cmV0dXJuIGF9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuTGF5ZXIuVmVjdG9yIn0pO09wZW5MYXllcnMuTGF5ZXIuUG9pbnRHcmlkPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllci5WZWN0b3Ise2R4Om51bGwsZHk6bnVsbCxyYXRpbzoxLjUsbWF4RmVhdHVyZXM6MjUwLHJvdGF0aW9uOjAsb3JpZ2luOm51bGwsZ3JpZEJvdW5kczpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7YT1hfHx7fTtPcGVuTGF5ZXJzLkxheWVyLlZlY3Rvci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthLm5hbWUsYV0pfSxzZXRNYXA6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5MYXllci5WZWN0b3IucHJvdG90eXBlLnNldE1hcC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5ldmVudHMucmVnaXN0ZXIoIm1vdmVlbmQiLHRoaXMsdGhpcy5vbk1vdmVFbmQpfSxyZW1vdmVNYXA6ZnVuY3Rpb24oYSl7YS5ldmVudHMudW5yZWdpc3RlcigibW92ZWVuZCIsdGhpcyx0aGlzLm9uTW92ZUVuZCk7T3BlbkxheWVycy5MYXllci5WZWN0b3IucHJvdG90eXBlLnJlbW92ZU1hcC5hcHBseSh0aGlzLAphcmd1bWVudHMpfSxzZXRSYXRpbzpmdW5jdGlvbihhKXt0aGlzLnJhdGlvPWE7dGhpcy51cGRhdGVHcmlkKCEwKX0sc2V0TWF4RmVhdHVyZXM6ZnVuY3Rpb24oYSl7dGhpcy5tYXhGZWF0dXJlcz1hO3RoaXMudXBkYXRlR3JpZCghMCl9LHNldFNwYWNpbmc6ZnVuY3Rpb24oYSxiKXt0aGlzLmR4PWE7dGhpcy5keT1ifHxhO3RoaXMudXBkYXRlR3JpZCghMCl9LHNldE9yaWdpbjpmdW5jdGlvbihhKXt0aGlzLm9yaWdpbj1hO3RoaXMudXBkYXRlR3JpZCghMCl9LGdldE9yaWdpbjpmdW5jdGlvbigpe3RoaXMub3JpZ2lufHwodGhpcy5vcmlnaW49dGhpcy5tYXAuZ2V0RXh0ZW50KCkuZ2V0Q2VudGVyTG9uTGF0KCkpO3JldHVybiB0aGlzLm9yaWdpbn0sc2V0Um90YXRpb246ZnVuY3Rpb24oYSl7dGhpcy5yb3RhdGlvbj1hO3RoaXMudXBkYXRlR3JpZCghMCl9LG9uTW92ZUVuZDpmdW5jdGlvbigpe3RoaXMudXBkYXRlR3JpZCgpfSxnZXRWaWV3Qm91bmRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5tYXAuZ2V0RXh0ZW50KCk7CmlmKHRoaXMucm90YXRpb24pe3ZhciBiPXRoaXMuZ2V0T3JpZ2luKCksYj1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChiLmxvbixiLmxhdCksYT1hLnRvR2VvbWV0cnkoKTthLnJvdGF0ZSgtdGhpcy5yb3RhdGlvbixiKTthPWEuZ2V0Qm91bmRzKCl9cmV0dXJuIGF9LHVwZGF0ZUdyaWQ6ZnVuY3Rpb24oYSl7aWYoYXx8dGhpcy5pbnZhbGlkQm91bmRzKCkpe3ZhciBiPXRoaXMuZ2V0Vmlld0JvdW5kcygpLGM9dGhpcy5nZXRPcmlnaW4oKSxhPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGMubG9uLGMubGF0KSxkPWIuZ2V0V2lkdGgoKSxlPWIuZ2V0SGVpZ2h0KCksZj1kL2UsZz1NYXRoLnNxcnQodGhpcy5keCp0aGlzLmR5KnRoaXMubWF4RmVhdHVyZXMvZiksZD1NYXRoLm1pbihkKnRoaXMucmF0aW8sZypmKSxlPU1hdGgubWluKGUqdGhpcy5yYXRpbyxnKSxiPWIuZ2V0Q2VudGVyTG9uTGF0KCk7dGhpcy5ncmlkQm91bmRzPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhiLmxvbi0KZC8yLGIubGF0LWUvMixiLmxvbitkLzIsYi5sYXQrZS8yKTtmb3IodmFyIGI9TWF0aC5mbG9vcihlL3RoaXMuZHkpLGQ9TWF0aC5mbG9vcihkL3RoaXMuZHgpLGU9Yy5sb24rdGhpcy5keCpNYXRoLmNlaWwoKHRoaXMuZ3JpZEJvdW5kcy5sZWZ0LWMubG9uKS90aGlzLmR4KSxjPWMubGF0K3RoaXMuZHkqTWF0aC5jZWlsKCh0aGlzLmdyaWRCb3VuZHMuYm90dG9tLWMubGF0KS90aGlzLmR5KSxnPUFycmF5KGIqZCksaCxpPTA7aTxkOysraSlmb3IodmFyIGY9ZStpKnRoaXMuZHgsaj0wO2o8YjsrK2opaD1jK2oqdGhpcy5keSxoPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGYsaCksdGhpcy5yb3RhdGlvbiYmaC5yb3RhdGUodGhpcy5yb3RhdGlvbixhKSxnW2kqYitqXT1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihoKTt0aGlzLmRlc3Ryb3lGZWF0dXJlcyh0aGlzLmZlYXR1cmVzLHtzaWxlbnQ6ITB9KTt0aGlzLmFkZEZlYXR1cmVzKGcse3NpbGVudDohMH0pfX0saW52YWxpZEJvdW5kczpmdW5jdGlvbigpe3JldHVybiF0aGlzLmdyaWRCb3VuZHN8fAohdGhpcy5ncmlkQm91bmRzLmNvbnRhaW5zQm91bmRzKHRoaXMuZ2V0Vmlld0JvdW5kcygpKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5Qb2ludEdyaWQifSk7T3BlbkxheWVycy5IYW5kbGVyLk1vdXNlV2hlZWw9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkhhbmRsZXIse3doZWVsTGlzdGVuZXI6bnVsbCxpbnRlcnZhbDowLG1heERlbHRhOk51bWJlci5QT1NJVElWRV9JTkZJTklUWSxkZWx0YTowLGN1bXVsYXRpdmU6ITAsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyl7T3BlbkxheWVycy5IYW5kbGVyLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLndoZWVsTGlzdGVuZXI9T3BlbkxheWVycy5GdW5jdGlvbi5iaW5kQXNFdmVudExpc3RlbmVyKHRoaXMub25XaGVlbEV2ZW50LHRoaXMpfSxkZXN0cm95OmZ1bmN0aW9uKCl7T3BlbkxheWVycy5IYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLndoZWVsTGlzdGVuZXI9bnVsbH0sb25XaGVlbEV2ZW50OmZ1bmN0aW9uKGEpe2lmKHRoaXMubWFwJiZ0aGlzLmNoZWNrTW9kaWZpZXJzKGEpKXtmb3IodmFyIGI9CiExLGM9ITEsZD0hMSxlPU9wZW5MYXllcnMuRXZlbnQuZWxlbWVudChhKTtudWxsIT1lJiYhZCYmIWI7KXtpZighYil0cnl7dmFyIGYsYj0oZj1lLmN1cnJlbnRTdHlsZT9lLmN1cnJlbnRTdHlsZS5vdmVyZmxvdzpkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGUsbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZSgib3ZlcmZsb3ciKSkmJiJhdXRvIj09Znx8InNjcm9sbCI9PWZ9Y2F0Y2goZyl7fWlmKCFjJiYoYz1PcGVuTGF5ZXJzLkVsZW1lbnQuaGFzQ2xhc3MoZSwib2xTY3JvbGxhYmxlIiksIWMpKWZvcih2YXIgZD0wLGg9dGhpcy5tYXAubGF5ZXJzLmxlbmd0aDtkPGg7ZCsrKXt2YXIgaT10aGlzLm1hcC5sYXllcnNbZF07aWYoZT09aS5kaXZ8fGU9PWkucGFuZSl7Yz0hMDticmVha319ZD1lPT10aGlzLm1hcC5kaXY7ZT1lLnBhcmVudE5vZGV9aWYoIWImJmQpe2lmKGMpaWYoYj0wLGEud2hlZWxEZWx0YT8oYj1hLndoZWVsRGVsdGEsMD09PWIlMTYwJiYoYio9MC43NSksCmIvPTEyMCk6YS5kZXRhaWwmJihiPS0oYS5kZXRhaWwvTWF0aC5hYnMoYS5kZXRhaWwpKSksdGhpcy5kZWx0YSs9Yix3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXRJZCksdGhpcy5pbnRlcnZhbCYmTWF0aC5hYnModGhpcy5kZWx0YSk8dGhpcy5tYXhEZWx0YSl7dmFyIGo9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSxhKTt0aGlzLl90aW1lb3V0SWQ9d2luZG93LnNldFRpbWVvdXQoT3BlbkxheWVycy5GdW5jdGlvbi5iaW5kKGZ1bmN0aW9uKCl7dGhpcy53aGVlbFpvb20oail9LHRoaXMpLHRoaXMuaW50ZXJ2YWwpfWVsc2UgdGhpcy53aGVlbFpvb20oYSk7T3BlbkxheWVycy5FdmVudC5zdG9wKGEpfX19LHdoZWVsWm9vbTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmRlbHRhO3RoaXMuZGVsdGE9MDtiJiYoYS54eT10aGlzLm1hcC5ldmVudHMuZ2V0TW91c2VQb3NpdGlvbihhKSwwPmI/dGhpcy5jYWxsYmFjaygiZG93biIsW2EsdGhpcy5jdW11bGF0aXZlP01hdGgubWF4KC10aGlzLm1heERlbHRhLApiKTotMV0pOnRoaXMuY2FsbGJhY2soInVwIixbYSx0aGlzLmN1bXVsYXRpdmU/TWF0aC5taW4odGhpcy5tYXhEZWx0YSxiKToxXSkpfSxhY3RpdmF0ZTpmdW5jdGlvbihhKXtpZihPcGVuTGF5ZXJzLkhhbmRsZXIucHJvdG90eXBlLmFjdGl2YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl7dmFyIGI9dGhpcy53aGVlbExpc3RlbmVyO09wZW5MYXllcnMuRXZlbnQub2JzZXJ2ZSh3aW5kb3csIkRPTU1vdXNlU2Nyb2xsIixiKTtPcGVuTGF5ZXJzLkV2ZW50Lm9ic2VydmUod2luZG93LCJtb3VzZXdoZWVsIixiKTtPcGVuTGF5ZXJzLkV2ZW50Lm9ic2VydmUoZG9jdW1lbnQsIm1vdXNld2hlZWwiLGIpO3JldHVybiEwfXJldHVybiExfSxkZWFjdGl2YXRlOmZ1bmN0aW9uKGEpe2lmKE9wZW5MYXllcnMuSGFuZGxlci5wcm90b3R5cGUuZGVhY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpe3ZhciBiPXRoaXMud2hlZWxMaXN0ZW5lcjtPcGVuTGF5ZXJzLkV2ZW50LnN0b3BPYnNlcnZpbmcod2luZG93LAoiRE9NTW91c2VTY3JvbGwiLGIpO09wZW5MYXllcnMuRXZlbnQuc3RvcE9ic2VydmluZyh3aW5kb3csIm1vdXNld2hlZWwiLGIpO09wZW5MYXllcnMuRXZlbnQuc3RvcE9ic2VydmluZyhkb2N1bWVudCwibW91c2V3aGVlbCIsYik7cmV0dXJuITB9cmV0dXJuITF9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuSGFuZGxlci5Nb3VzZVdoZWVsIn0pO09wZW5MYXllcnMuU3ltYm9saXplcj1PcGVuTGF5ZXJzLkNsYXNzKHt6SW5kZXg6MCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcyxhKX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IChPcGVuTGF5ZXJzLlV0aWwuZ2V0Q29uc3RydWN0b3IodGhpcy5DTEFTU19OQU1FKSkoT3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSx0aGlzKSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuU3ltYm9saXplciJ9KTtPcGVuTGF5ZXJzLlN5bWJvbGl6ZXIuUmFzdGVyPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5TeW1ib2xpemVyLHtpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuU3ltYm9saXplci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuU3ltYm9saXplci5SYXN0ZXIifSk7T3BlbkxheWVycy5Gb3JtYXQuV01TQ2FwYWJpbGl0aWVzPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuWE1MLlZlcnNpb25lZE9HQyx7ZGVmYXVsdFZlcnNpb246IjEuMS4xIixwcm9maWxlOm51bGwsQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuV01TQ2FwYWJpbGl0aWVzIn0pO09wZW5MYXllcnMuRm9ybWF0LldNU0NhcGFiaWxpdGllcy52MT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7bmFtZXNwYWNlczp7d21zOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3dtcyIseGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UifSxkZWZhdWx0UHJlZml4OiJ3bXMiLHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PXR5cGVvZiBhJiYoYT1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxbYV0pKTt2YXIgYj1hO2EmJjk9PWEubm9kZVR5cGUmJihhPWEuZG9jdW1lbnRFbGVtZW50KTt2YXIgYz17fTt0aGlzLnJlYWROb2RlKGEsYyk7dm9pZCAwPT09Yy5zZXJ2aWNlJiYoYT1uZXcgT3BlbkxheWVycy5Gb3JtYXQuT0dDRXhjZXB0aW9uUmVwb3J0LGMuZXJyb3I9YS5yZWFkKGIpKTtyZXR1cm4gY30scmVhZGVyczp7d21zOntTZXJ2aWNlOmZ1bmN0aW9uKGEsCmIpe2Iuc2VydmljZT17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5zZXJ2aWNlKX0sTmFtZTpmdW5jdGlvbihhLGIpe2IubmFtZT10aGlzLmdldENoaWxkVmFsdWUoYSl9LFRpdGxlOmZ1bmN0aW9uKGEsYil7Yi50aXRsZT10aGlzLmdldENoaWxkVmFsdWUoYSl9LEFic3RyYWN0OmZ1bmN0aW9uKGEsYil7YlsiYWJzdHJhY3QiXT10aGlzLmdldENoaWxkVmFsdWUoYSl9LEJvdW5kaW5nQm94OmZ1bmN0aW9uKGEpe3ZhciBiPXt9O2IuYmJveD1bcGFyc2VGbG9hdChhLmdldEF0dHJpYnV0ZSgibWlueCIpKSxwYXJzZUZsb2F0KGEuZ2V0QXR0cmlidXRlKCJtaW55IikpLHBhcnNlRmxvYXQoYS5nZXRBdHRyaWJ1dGUoIm1heHgiKSkscGFyc2VGbG9hdChhLmdldEF0dHJpYnV0ZSgibWF4eSIpKV07YT17eDpwYXJzZUZsb2F0KGEuZ2V0QXR0cmlidXRlKCJyZXN4IikpLHk6cGFyc2VGbG9hdChhLmdldEF0dHJpYnV0ZSgicmVzeSIpKX07aWYoIWlzTmFOKGEueCl8fCFpc05hTihhLnkpKWIucmVzPQphO3JldHVybiBifSxPbmxpbmVSZXNvdXJjZTpmdW5jdGlvbihhLGIpe2IuaHJlZj10aGlzLmdldEF0dHJpYnV0ZU5TKGEsdGhpcy5uYW1lc3BhY2VzLnhsaW5rLCJocmVmIil9LENvbnRhY3RJbmZvcm1hdGlvbjpmdW5jdGlvbihhLGIpe2IuY29udGFjdEluZm9ybWF0aW9uPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLmNvbnRhY3RJbmZvcm1hdGlvbil9LENvbnRhY3RQZXJzb25QcmltYXJ5OmZ1bmN0aW9uKGEsYil7Yi5wZXJzb25QcmltYXJ5PXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnBlcnNvblByaW1hcnkpfSxDb250YWN0UGVyc29uOmZ1bmN0aW9uKGEsYil7Yi5wZXJzb249dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxDb250YWN0T3JnYW5pemF0aW9uOmZ1bmN0aW9uKGEsYil7Yi5vcmdhbml6YXRpb249dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxDb250YWN0UG9zaXRpb246ZnVuY3Rpb24oYSxiKXtiLnBvc2l0aW9uPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sQ29udGFjdEFkZHJlc3M6ZnVuY3Rpb24oYSwKYil7Yi5jb250YWN0QWRkcmVzcz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5jb250YWN0QWRkcmVzcyl9LEFkZHJlc3NUeXBlOmZ1bmN0aW9uKGEsYil7Yi50eXBlPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sQWRkcmVzczpmdW5jdGlvbihhLGIpe2IuYWRkcmVzcz10aGlzLmdldENoaWxkVmFsdWUoYSl9LENpdHk6ZnVuY3Rpb24oYSxiKXtiLmNpdHk9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxTdGF0ZU9yUHJvdmluY2U6ZnVuY3Rpb24oYSxiKXtiLnN0YXRlT3JQcm92aW5jZT10aGlzLmdldENoaWxkVmFsdWUoYSl9LFBvc3RDb2RlOmZ1bmN0aW9uKGEsYil7Yi5wb3N0Y29kZT10aGlzLmdldENoaWxkVmFsdWUoYSl9LENvdW50cnk6ZnVuY3Rpb24oYSxiKXtiLmNvdW50cnk9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxDb250YWN0Vm9pY2VUZWxlcGhvbmU6ZnVuY3Rpb24oYSxiKXtiLnBob25lPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sQ29udGFjdEZhY3NpbWlsZVRlbGVwaG9uZTpmdW5jdGlvbihhLApiKXtiLmZheD10aGlzLmdldENoaWxkVmFsdWUoYSl9LENvbnRhY3RFbGVjdHJvbmljTWFpbEFkZHJlc3M6ZnVuY3Rpb24oYSxiKXtiLmVtYWlsPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sRmVlczpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKTtjJiYibm9uZSIhPWMudG9Mb3dlckNhc2UoKSYmKGIuZmVlcz1jKX0sQWNjZXNzQ29uc3RyYWludHM6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYSk7YyYmIm5vbmUiIT1jLnRvTG93ZXJDYXNlKCkmJihiLmFjY2Vzc0NvbnN0cmFpbnRzPWMpfSxDYXBhYmlsaXR5OmZ1bmN0aW9uKGEsYil7Yi5jYXBhYmlsaXR5PXtuZXN0ZWRMYXllcnM6W10sbGF5ZXJzOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5jYXBhYmlsaXR5KX0sUmVxdWVzdDpmdW5jdGlvbihhLGIpe2IucmVxdWVzdD17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5yZXF1ZXN0KX0sR2V0Q2FwYWJpbGl0aWVzOmZ1bmN0aW9uKGEsCmIpe2IuZ2V0Y2FwYWJpbGl0aWVzPXtmb3JtYXRzOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5nZXRjYXBhYmlsaXRpZXMpfSxGb3JtYXQ6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShiLmZvcm1hdHMpP2IuZm9ybWF0cy5wdXNoKHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSk6Yi5mb3JtYXQ9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxEQ1BUeXBlOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxIVFRQOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxHZXQ6ZnVuY3Rpb24oYSxiKXtiLmdldD17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5nZXQpO2IuaHJlZnx8KGIuaHJlZj1iLmdldC5ocmVmKX0sUG9zdDpmdW5jdGlvbihhLGIpe2IucG9zdD17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5wb3N0KTtiLmhyZWZ8fChiLmhyZWY9Yi5nZXQuaHJlZil9LEdldE1hcDpmdW5jdGlvbihhLGIpe2IuZ2V0bWFwPXtmb3JtYXRzOltdfTsKdGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuZ2V0bWFwKX0sR2V0RmVhdHVyZUluZm86ZnVuY3Rpb24oYSxiKXtiLmdldGZlYXR1cmVpbmZvPXtmb3JtYXRzOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5nZXRmZWF0dXJlaW5mbyl9LEV4Y2VwdGlvbjpmdW5jdGlvbihhLGIpe2IuZXhjZXB0aW9uPXtmb3JtYXRzOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5leGNlcHRpb24pfSxMYXllcjpmdW5jdGlvbihhLGIpe3ZhciBjLGQ7Yi5jYXBhYmlsaXR5PyhkPWIuY2FwYWJpbGl0eSxjPWIpOmQ9Yjt2YXIgZT1hLmdldEF0dHJpYnV0ZU5vZGUoInF1ZXJ5YWJsZSIpLGY9ZSYmZS5zcGVjaWZpZWQ/YS5nZXRBdHRyaWJ1dGUoInF1ZXJ5YWJsZSIpOm51bGwsZz0oZT1hLmdldEF0dHJpYnV0ZU5vZGUoImNhc2NhZGVkIikpJiZlLnNwZWNpZmllZD9hLmdldEF0dHJpYnV0ZSgiY2FzY2FkZWQiKTpudWxsLGU9KGU9YS5nZXRBdHRyaWJ1dGVOb2RlKCJvcGFxdWUiKSkmJmUuc3BlY2lmaWVkPwphLmdldEF0dHJpYnV0ZSgib3BhcXVlIik6bnVsbCxoPWEuZ2V0QXR0cmlidXRlKCJub1N1YnNldHMiKSxpPWEuZ2V0QXR0cmlidXRlKCJmaXhlZFdpZHRoIiksaj1hLmdldEF0dHJpYnV0ZSgiZml4ZWRIZWlnaHQiKSxrPWN8fHt9LGw9T3BlbkxheWVycy5VdGlsLmV4dGVuZDtjPXtuZXN0ZWRMYXllcnM6W10sc3R5bGVzOmM/W10uY29uY2F0KGMuc3R5bGVzKTpbXSxzcnM6Yz9sKHt9LGsuc3JzKTp7fSxtZXRhZGF0YVVSTHM6W10sYmJveDpjP2woe30say5iYm94KTp7fSxsbGJib3g6ay5sbGJib3gsZGltZW5zaW9uczpjP2woe30say5kaW1lbnNpb25zKTp7fSxhdXRob3JpdHlVUkxzOmM/bCh7fSxrLmF1dGhvcml0eVVSTHMpOnt9LGlkZW50aWZpZXJzOnt9LGtleXdvcmRzOltdLHF1ZXJ5YWJsZTpmJiYiIiE9PWY/IjEiPT09Znx8InRydWUiPT09ZjprLnF1ZXJ5YWJsZXx8ITEsY2FzY2FkZWQ6bnVsbCE9PWc/cGFyc2VJbnQoZyk6ay5jYXNjYWRlZHx8MCxvcGFxdWU6ZT8iMSI9PT0KZXx8InRydWUiPT09ZTprLm9wYXF1ZXx8ITEsbm9TdWJzZXRzOm51bGwhPT1oPyIxIj09PWh8fCJ0cnVlIj09PWg6ay5ub1N1YnNldHN8fCExLGZpeGVkV2lkdGg6bnVsbCE9aT9wYXJzZUludChpKTprLmZpeGVkV2lkdGh8fDAsZml4ZWRIZWlnaHQ6bnVsbCE9aj9wYXJzZUludChqKTprLmZpeGVkSGVpZ2h0fHwwLG1pblNjYWxlOmsubWluU2NhbGUsbWF4U2NhbGU6ay5tYXhTY2FsZSxhdHRyaWJ1dGlvbjprLmF0dHJpYnV0aW9ufTtiLm5lc3RlZExheWVycy5wdXNoKGMpO2MuY2FwYWJpbGl0eT1kO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtkZWxldGUgYy5jYXBhYmlsaXR5O2MubmFtZSYmKGY9Yy5uYW1lLnNwbGl0KCI6IiksZz1kLnJlcXVlc3QsZT1nLmdldGZlYXR1cmVpbmZvLDA8Zi5sZW5ndGgmJihjLnByZWZpeD1mWzBdKSxkLmxheWVycy5wdXNoKGMpLHZvaWQgMD09PWMuZm9ybWF0cyYmKGMuZm9ybWF0cz1nLmdldG1hcC5mb3JtYXRzKSx2b2lkIDA9PT1jLmluZm9Gb3JtYXRzJiYKZSYmKGMuaW5mb0Zvcm1hdHM9ZS5mb3JtYXRzKSl9LEF0dHJpYnV0aW9uOmZ1bmN0aW9uKGEsYil7Yi5hdHRyaWJ1dGlvbj17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5hdHRyaWJ1dGlvbil9LExvZ29VUkw6ZnVuY3Rpb24oYSxiKXtiLmxvZ289e3dpZHRoOmEuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpLGhlaWdodDphLmdldEF0dHJpYnV0ZSgiaGVpZ2h0Iil9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLmxvZ28pfSxTdHlsZTpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O2Iuc3R5bGVzLnB1c2goYyk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpfSxMZWdlbmRVUkw6ZnVuY3Rpb24oYSxiKXt2YXIgYz17d2lkdGg6YS5nZXRBdHRyaWJ1dGUoIndpZHRoIiksaGVpZ2h0OmEuZ2V0QXR0cmlidXRlKCJoZWlnaHQiKX07Yi5sZWdlbmQ9Yzt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyl9LE1ldGFkYXRhVVJMOmZ1bmN0aW9uKGEsYil7dmFyIGM9e3R5cGU6YS5nZXRBdHRyaWJ1dGUoInR5cGUiKX07CmIubWV0YWRhdGFVUkxzLnB1c2goYyk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpfSxEYXRhVVJMOmZ1bmN0aW9uKGEsYil7Yi5kYXRhVVJMPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLmRhdGFVUkwpfSxGZWF0dXJlTGlzdFVSTDpmdW5jdGlvbihhLGIpe2IuZmVhdHVyZUxpc3RVUkw9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuZmVhdHVyZUxpc3RVUkwpfSxBdXRob3JpdHlVUkw6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldEF0dHJpYnV0ZSgibmFtZSIpLGQ9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGQpO2IuYXV0aG9yaXR5VVJMc1tjXT1kLmhyZWZ9LElkZW50aWZpZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldEF0dHJpYnV0ZSgiYXV0aG9yaXR5Iik7Yi5pZGVudGlmaWVyc1tjXT10aGlzLmdldENoaWxkVmFsdWUoYSl9LEtleXdvcmRMaXN0OmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxTUlM6ZnVuY3Rpb24oYSxiKXtiLnNyc1t0aGlzLmdldENoaWxkVmFsdWUoYSldPQohMH19fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjEifSk7T3BlbkxheWVycy5Gb3JtYXQuV01TQ2FwYWJpbGl0aWVzLnYxXzM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjEse3JlYWRlcnM6e3dtczpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7V01TX0NhcGFiaWxpdGllczpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sTGF5ZXJMaW1pdDpmdW5jdGlvbihhLGIpe2IubGF5ZXJMaW1pdD1wYXJzZUludCh0aGlzLmdldENoaWxkVmFsdWUoYSkpfSxNYXhXaWR0aDpmdW5jdGlvbihhLGIpe2IubWF4V2lkdGg9cGFyc2VJbnQodGhpcy5nZXRDaGlsZFZhbHVlKGEpKX0sTWF4SGVpZ2h0OmZ1bmN0aW9uKGEsYil7Yi5tYXhIZWlnaHQ9cGFyc2VJbnQodGhpcy5nZXRDaGlsZFZhbHVlKGEpKX0sQm91bmRpbmdCb3g6ZnVuY3Rpb24oYSxiKXt2YXIgYz1PcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjEucHJvdG90eXBlLnJlYWRlcnMud21zLkJvdW5kaW5nQm94LmFwcGx5KHRoaXMsClthLGJdKTtjLnNycz1hLmdldEF0dHJpYnV0ZSgiQ1JTIik7Yi5iYm94W2Muc3JzXT1jfSxDUlM6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRlcnMud21zLlNSUy5hcHBseSh0aGlzLFthLGJdKX0sRVhfR2VvZ3JhcGhpY0JvdW5kaW5nQm94OmZ1bmN0aW9uKGEsYil7Yi5sbGJib3g9W107dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIubGxiYm94KX0sd2VzdEJvdW5kTG9uZ2l0dWRlOmZ1bmN0aW9uKGEsYil7YlswXT10aGlzLmdldENoaWxkVmFsdWUoYSl9LGVhc3RCb3VuZExvbmdpdHVkZTpmdW5jdGlvbihhLGIpe2JbMl09dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxzb3V0aEJvdW5kTGF0aXR1ZGU6ZnVuY3Rpb24oYSxiKXtiWzFdPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sbm9ydGhCb3VuZExhdGl0dWRlOmZ1bmN0aW9uKGEsYil7YlszXT10aGlzLmdldENoaWxkVmFsdWUoYSl9LE1pblNjYWxlRGVub21pbmF0b3I6ZnVuY3Rpb24oYSxiKXtiLm1heFNjYWxlPXBhcnNlRmxvYXQodGhpcy5nZXRDaGlsZFZhbHVlKGEpKS50b1ByZWNpc2lvbigxNil9LApNYXhTY2FsZURlbm9taW5hdG9yOmZ1bmN0aW9uKGEsYil7Yi5taW5TY2FsZT1wYXJzZUZsb2F0KHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSkudG9QcmVjaXNpb24oMTYpfSxEaW1lbnNpb246ZnVuY3Rpb24oYSxiKXt2YXIgYz17bmFtZTphLmdldEF0dHJpYnV0ZSgibmFtZSIpLnRvTG93ZXJDYXNlKCksdW5pdHM6YS5nZXRBdHRyaWJ1dGUoInVuaXRzIiksdW5pdHN5bWJvbDphLmdldEF0dHJpYnV0ZSgidW5pdFN5bWJvbCIpLG5lYXJlc3RWYWw6IjEiPT09YS5nZXRBdHRyaWJ1dGUoIm5lYXJlc3RWYWx1ZSIpLG11bHRpcGxlVmFsOiIxIj09PWEuZ2V0QXR0cmlidXRlKCJtdWx0aXBsZVZhbHVlcyIpLCJkZWZhdWx0IjphLmdldEF0dHJpYnV0ZSgiZGVmYXVsdCIpfHwiIixjdXJyZW50OiIxIj09PWEuZ2V0QXR0cmlidXRlKCJjdXJyZW50IiksdmFsdWVzOnRoaXMuZ2V0Q2hpbGRWYWx1ZShhKS5zcGxpdCgiLCIpfTtiLmRpbWVuc2lvbnNbYy5uYW1lXT1jfSxLZXl3b3JkOmZ1bmN0aW9uKGEsCmIpe3ZhciBjPXt2YWx1ZTp0aGlzLmdldENoaWxkVmFsdWUoYSksdm9jYWJ1bGFyeTphLmdldEF0dHJpYnV0ZSgidm9jYWJ1bGFyeSIpfTtiLmtleXdvcmRzJiZiLmtleXdvcmRzLnB1c2goYyl9fSxPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjEucHJvdG90eXBlLnJlYWRlcnMud21zKSxzbGQ6e1VzZXJEZWZpbmVkU3ltYm9saXphdGlvbjpmdW5jdGlvbihhLGIpe3RoaXMucmVhZGVycy53bXMuVXNlckRlZmluZWRTeW1ib2xpemF0aW9uLmFwcGx5KHRoaXMsW2EsYl0pO2IudXNlclN5bWJvbHMuaW5saW5lRmVhdHVyZT0xPT1wYXJzZUludChhLmdldEF0dHJpYnV0ZSgiSW5saW5lRmVhdHVyZSIpKTtiLnVzZXJTeW1ib2xzLnJlbW90ZVdDUz0xPT1wYXJzZUludChhLmdldEF0dHJpYnV0ZSgiUmVtb3RlV0NTIikpfSxEZXNjcmliZUxheWVyOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkZXJzLndtcy5EZXNjcmliZUxheWVyLmFwcGx5KHRoaXMsW2EsYl0pfSxHZXRMZWdlbmRHcmFwaGljOmZ1bmN0aW9uKGEsCmIpe3RoaXMucmVhZGVycy53bXMuR2V0TGVnZW5kR3JhcGhpYy5hcHBseSh0aGlzLFthLGJdKX19fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjFfMyJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjFfM18wPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuV01TQ2FwYWJpbGl0aWVzLnYxXzMse3ZlcnNpb246IjEuMy4wIixDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjFfM18wIn0pO09wZW5MYXllcnMuU3ltYm9saXplci5Qb2x5Z29uPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5TeW1ib2xpemVyLHtpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuU3ltYm9saXplci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuU3ltYm9saXplci5Qb2x5Z29uIn0pO09wZW5MYXllcnMuTGFuZy5uYj17dW5oYW5kbGVkUmVxdWVzdDoiVWJlaGFuZGxldCBmb3Jlc3BcdTAwZjhyc2VsIHJldHVybmVydGUgJHtzdGF0dXNUZXh0fSIsUGVybWFsaW5rOiJLb2JsaW5nIHRpbCBkZW5uZSBzaWRlbiIsT3ZlcmxheXM6IkthcnRsYWciLCJCYXNlIExheWVyIjoiQmFrZ3J1bm5za2FydCIsbm9GSUQ6IkthbiBpa2tlIG9wcGRhdGVyZSBldCBmZWF0dXJlIChldCBvYmpla3QpIHNvbSBpa2tlIGhhciBGSUQuIixicm93c2VyTm90U3VwcG9ydGVkOiJEaW4gbmV0dGxlc2VyIHN0XHUwMGY4dHRlciBpa2tlIHZla3RvcnRlZ25pbmcuIFRlZ25lbWV0b2RlbmUgc29tIHN0XHUwMGY4dHRlcyBlcjpcbiR7cmVuZGVyZXJzfSIsbWluWm9vbUxldmVsRXJyb3I6IkVnZW5za2FwZW4gbWluWm9vbUxldmVsIGVyIGt1biBtZW50IHRpbCBicnVrIHBcdTAwZTUgbGFnIGJhc2VydCBwXHUwMGU1IEZpeGVkWm9vbUxldmVscy4gQXQgZGV0dGUgd2ZzLWxhZ2V0IHNqZWtrZXIgbWluWm9vbUxldmVsIGVyIGVuIGV0dGVybGV2bmluZyBmcmEgdGlkbGlnZXJlIHZlcnNqb25lci4gRGV0IGthbiBkb2cgaWtrZSB0YXMgYm9ydCB1dGVuIFx1MDBlNSByaXNpa2VyZSBhdCBPTC1iYXNlcnRlIGFwcGxpa2Fzam9uZXIgc2x1dHRlciBcdTAwZTUgdmlya2UsIHNcdTAwZTUgZGV0IGVyIG1lcmtldCBzb20gZm9yZWxkZXQ6IG1pblpvb21MZXZlbCBpIHNqZWtrZW4gbmVkZW5mb3IgdmlsIGZqZXJuZXMgaSAzLjAuIFZlbm5saWdzdCBicnVrIGlubnN0aWxsaW5nZW5lIGZvciBtaW4vbWFrcyBvcHBsXHUwMGY4c25pbmcgc29tIGVyIGJlc2tyZXZldCBoZXI6IGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU2V0dGluZ1pvb21MZXZlbHMiLApjb21taXRTdWNjZXNzOiJXRlMtdHJhbnNha3Nqb246IExZS1RFUyAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJXRlMtdHJhbnNha3Nqb246IE1JU0xZS1RFUyAke3Jlc3BvbnNlfSIsZ29vZ2xlV2FybmluZzoiR29vZ2xlLWxhZ2V0IGt1bm5lIGlra2UgbGFzdGVzLjxicj48YnI+Qnl0dCB0aWwgZXQgYW5uZXQgYmFrZ3J1bm5zbGFnIGkgbGFndmVsZ2VyZW4gaSBcdTAwZjh2cmUgaFx1MDBmOHlyZSBoalx1MDBmOHJuZSBmb3IgXHUwMGU1IHNsaXBwZSBkZW5uZSBtZWxkaW5nZW4uPGJyPjxicj5TYW5uc3lubGlndmlzIGZvclx1MDBlNXJzYWtlcyBmZWlsZW4gYXYgYXQgR29vZ2xlIE1hcHMtYmlibGlvdGVrZXQgaWtrZSBlciByaWt0aWcgaW5rbHVkZXJ0IHBcdTAwZTUgbmV0dHNpZGVuLCBlbGxlciBhdCBkZXQgaWtrZSBlciBhbmdpdHQgcmlrdGlnIEFQSS1uXHUwMGY4a2tlbCBmb3IgbmV0dHN0ZWRldC48YnI+PGJyPlV0dmlrbGVyZTogRm9yIGhqZWxwIHRpbCBcdTAwZTUgZlx1MDBlNSBkZXR0ZSB0aWwgXHUwMGU1IHZpcmtlIHNlIDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvR29vZ2xlJyB0YXJnZXQ9J19ibGFuayc+aGVyPC9hPi4iLApnZXRMYXllcldhcm5pbmc6IiR7bGF5ZXJUeXBlfS1sYWdldCBrdW5uZSBpa2tlIGxhc3Rlcy48YnI+PGJyPkJ5dHQgdGlsIGV0IGFubmV0IGJha2dydW5uc2xhZyBpIGxhZ3ZlbGdlcmVuIGkgXHUwMGY4dnJlIGhcdTAwZjh5cmUgaGpcdTAwZjhybmUgZm9yIFx1MDBlNSBzbGlwcGUgZGVubmUgbWVsZGluZ2VuLjxicj48YnI+U2FubnN5bmxpZ3ZpcyBmb3JcdTAwZTVyc2FrZXMgZmVpbGVuIGF2IGF0ICR7bGF5ZXJMaWJ9LWJpYmxpb3Rla2V0IGlra2UgdmFyIHJpa3RpZyBpbmtsdWRlcnQgcFx1MDBlNSBuZXR0c2lkZW4uPGJyPjxicj5VdHZpa2xlcmU6IEZvciBoamVscCB0aWwgXHUwMGU1IGZcdTAwZTUgZGV0dGUgdGlsIFx1MDBlNSB2aXJrZSBzZSA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+aGVyPC9hPi4iLCJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiPHN0cm9uZz5Ta2FsYTwvc3Ryb25nPiAxIDogJHtzY2FsZURlbm9tfSIsCnJlcHJvamVjdERlcHJlY2F0ZWQ6IkR1IGJydWtlciBpbm5zdGlsbGluZ2VuICdyZXByb2plY3QnIHBcdTAwZTUgbGFnZXQgJHtsYXllck5hbWV9LiBEZW5uZSBpbm5zdGlsbGluZ2VuIGVyIGZvcmVsZGV0LCBkZW4gdmFyIG1lbnQgZm9yIFx1MDBlNSBzdFx1MDBmOHR0ZSB2aXNuaW5nIGF2IGthcnRkYXRhIG92ZXIga29tbWVyc2llbGxlIGJha2dydW5uc2thcnQsIG1lbiBkZXQgYlx1MDBmOHIgblx1MDBlNSBnalx1MDBmOHJlcyBtZWQgc3RcdTAwZjh0dGVuIGZvciBTcGhlcmljYWwgTWVyY2F0b3IuIE1lciBpbmZvcm1hc2pvbiBmaW5uZXMgcFx1MDBlNSBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NwaGVyaWNhbE1lcmNhdG9yLiIsbWV0aG9kRGVwcmVjYXRlZDoiRGVubmUgbWV0b2RlbiBlciBtYXJrZXJ0IHNvbSBmb3JlbGRldCBvZyB2aWwgYmxpIGZqZXJuZXQgaSAzLjAuIFZlbm5saWdzdCBicnVrICR7bmV3TWV0aG9kfSBpIHN0ZWRldC4iLGVuZDoiIn07Ck9wZW5MYXllcnMuTGFuZy5ubz1PcGVuTGF5ZXJzLkxhbmcubmI7T3BlbkxheWVycy5FbGVtZW50c0luZGV4ZXI9T3BlbkxheWVycy5DbGFzcyh7bWF4WkluZGV4Om51bGwsb3JkZXI6bnVsbCxpbmRpY2VzOm51bGwsY29tcGFyZTpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7dGhpcy5jb21wYXJlPWE/T3BlbkxheWVycy5FbGVtZW50c0luZGV4ZXIuSW5kZXhpbmdNZXRob2RzLlpfT1JERVJfWV9PUkRFUjpPcGVuTGF5ZXJzLkVsZW1lbnRzSW5kZXhlci5JbmRleGluZ01ldGhvZHMuWl9PUkRFUl9EUkFXSU5HX09SREVSO3RoaXMuY2xlYXIoKX0saW5zZXJ0OmZ1bmN0aW9uKGEpe3RoaXMuZXhpc3RzKGEpJiZ0aGlzLnJlbW92ZShhKTt2YXIgYj1hLmlkO3RoaXMuZGV0ZXJtaW5lWkluZGV4KGEpO2Zvcih2YXIgYz0tMSxkPXRoaXMub3JkZXIubGVuZ3RoLGU7MTxkLWM7KWU9cGFyc2VJbnQoKGMrZCkvMiksMDx0aGlzLmNvbXBhcmUodGhpcyxhLE9wZW5MYXllcnMuVXRpbC5nZXRFbGVtZW50KHRoaXMub3JkZXJbZV0pKT9jPWU6ZD1lO3RoaXMub3JkZXIuc3BsaWNlKGQsCjAsYik7dGhpcy5pbmRpY2VzW2JdPXRoaXMuZ2V0WkluZGV4KGEpO3JldHVybiB0aGlzLmdldE5leHRFbGVtZW50KGQpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7dmFyIGE9YS5pZCxiPU9wZW5MYXllcnMuVXRpbC5pbmRleE9mKHRoaXMub3JkZXIsYSk7MDw9YiYmKHRoaXMub3JkZXIuc3BsaWNlKGIsMSksZGVsZXRlIHRoaXMuaW5kaWNlc1thXSx0aGlzLm1heFpJbmRleD0wPHRoaXMub3JkZXIubGVuZ3RoP3RoaXMuaW5kaWNlc1t0aGlzLm9yZGVyW3RoaXMub3JkZXIubGVuZ3RoLTFdXTowKX0sY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLm9yZGVyPVtdO3RoaXMuaW5kaWNlcz17fTt0aGlzLm1heFpJbmRleD0wfSxleGlzdHM6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPXRoaXMuaW5kaWNlc1thLmlkXX0sZ2V0WkluZGV4OmZ1bmN0aW9uKGEpe3JldHVybiBhLl9zdHlsZS5ncmFwaGljWkluZGV4fSxkZXRlcm1pbmVaSW5kZXg6ZnVuY3Rpb24oYSl7dmFyIGI9YS5fc3R5bGUuZ3JhcGhpY1pJbmRleDsKbnVsbD09Yj8oYj10aGlzLm1heFpJbmRleCxhLl9zdHlsZS5ncmFwaGljWkluZGV4PWIpOmI+dGhpcy5tYXhaSW5kZXgmJih0aGlzLm1heFpJbmRleD1iKX0sZ2V0TmV4dEVsZW1lbnQ6ZnVuY3Rpb24oYSl7YSs9MTtpZihhPHRoaXMub3JkZXIubGVuZ3RoKXt2YXIgYj1PcGVuTGF5ZXJzLlV0aWwuZ2V0RWxlbWVudCh0aGlzLm9yZGVyW2FdKTt2b2lkIDA9PWImJihiPXRoaXMuZ2V0TmV4dEVsZW1lbnQoYSkpO3JldHVybiBifXJldHVybiBudWxsfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkVsZW1lbnRzSW5kZXhlciJ9KTsKT3BlbkxheWVycy5FbGVtZW50c0luZGV4ZXIuSW5kZXhpbmdNZXRob2RzPXtaX09SREVSOmZ1bmN0aW9uKGEsYixjKXt2YXIgYj1hLmdldFpJbmRleChiKSxkPTA7YyYmKGE9YS5nZXRaSW5kZXgoYyksZD1iLWEpO3JldHVybiBkfSxaX09SREVSX0RSQVdJTkdfT1JERVI6ZnVuY3Rpb24oYSxiLGMpe2E9T3BlbkxheWVycy5FbGVtZW50c0luZGV4ZXIuSW5kZXhpbmdNZXRob2RzLlpfT1JERVIoYSxiLGMpO2MmJjA9PWEmJihhPTEpO3JldHVybiBhfSxaX09SREVSX1lfT1JERVI6ZnVuY3Rpb24oYSxiLGMpe2E9T3BlbkxheWVycy5FbGVtZW50c0luZGV4ZXIuSW5kZXhpbmdNZXRob2RzLlpfT1JERVIoYSxiLGMpO2MmJjA9PT1hJiYoYj1jLl9ib3VuZHNCb3R0b20tYi5fYm91bmRzQm90dG9tLGE9MD09PWI/MTpiKTtyZXR1cm4gYX19OwpPcGVuTGF5ZXJzLlJlbmRlcmVyLkVsZW1lbnRzPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5SZW5kZXJlcix7cmVuZGVyZXJSb290Om51bGwscm9vdDpudWxsLHZlY3RvclJvb3Q6bnVsbCx0ZXh0Um9vdDpudWxsLHhtbG5zOm51bGwseE9mZnNldDowLGluZGV4ZXI6bnVsbCxCQUNLR1JPVU5EX0lEX1NVRkZJWDoiX2JhY2tncm91bmQiLExBQkVMX0lEX1NVRkZJWDoiX2xhYmVsIixMQUJFTF9PVVRMSU5FX1NVRkZJWDoiX291dGxpbmUiLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLlJlbmRlcmVyLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLnJlbmRlcmVyUm9vdD10aGlzLmNyZWF0ZVJlbmRlclJvb3QoKTt0aGlzLnJvb3Q9dGhpcy5jcmVhdGVSb290KCJfcm9vdCIpO3RoaXMudmVjdG9yUm9vdD10aGlzLmNyZWF0ZVJvb3QoIl92cm9vdCIpO3RoaXMudGV4dFJvb3Q9dGhpcy5jcmVhdGVSb290KCJfdHJvb3QiKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQodGhpcy52ZWN0b3JSb290KTsKdGhpcy5yb290LmFwcGVuZENoaWxkKHRoaXMudGV4dFJvb3QpO3RoaXMucmVuZGVyZXJSb290LmFwcGVuZENoaWxkKHRoaXMucm9vdCk7dGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlclJvb3QpO2lmKGImJihiLnpJbmRleGluZ3x8Yi55T3JkZXJpbmcpKXRoaXMuaW5kZXhlcj1uZXcgT3BlbkxheWVycy5FbGVtZW50c0luZGV4ZXIoYi55T3JkZXJpbmcpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5jbGVhcigpO3RoaXMueG1sbnM9dGhpcy5yb290PXRoaXMucmVuZGVyZXJSb290PW51bGw7T3BlbkxheWVycy5SZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGNsZWFyOmZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLnZlY3RvclJvb3Q7aWYoYilmb3IoO2E9Yi5maXJzdENoaWxkOyliLnJlbW92ZUNoaWxkKGEpO2lmKGI9dGhpcy50ZXh0Um9vdClmb3IoO2E9Yi5maXJzdENoaWxkOyliLnJlbW92ZUNoaWxkKGEpO3RoaXMuaW5kZXhlciYmCnRoaXMuaW5kZXhlci5jbGVhcigpfSxzZXRFeHRlbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1PcGVuTGF5ZXJzLlJlbmRlcmVyLnByb3RvdHlwZS5zZXRFeHRlbnQuYXBwbHkodGhpcyxhcmd1bWVudHMpLGQ9dGhpcy5nZXRSZXNvbHV0aW9uKCk7aWYodGhpcy5tYXAuYmFzZUxheWVyJiZ0aGlzLm1hcC5iYXNlTGF5ZXIud3JhcERhdGVMaW5lKXt2YXIgZSxmPWEuZ2V0V2lkdGgoKS90aGlzLm1hcC5nZXRFeHRlbnQoKS5nZXRXaWR0aCgpLGE9YS5zY2FsZSgxL2YpLGY9dGhpcy5tYXAuZ2V0TWF4RXh0ZW50KCk7Zi5yaWdodD5hLmxlZnQmJmYucmlnaHQ8YS5yaWdodD9lPSEwOmYubGVmdD5hLmxlZnQmJmYubGVmdDxhLnJpZ2h0JiYoZT0hMSk7aWYoZSE9PXRoaXMucmlnaHRPZkRhdGVMaW5lfHxiKWM9ITEsdGhpcy54T2Zmc2V0PSEwPT09ZT9mLmdldFdpZHRoKCkvZDowO3RoaXMucmlnaHRPZkRhdGVMaW5lPWV9cmV0dXJuIGN9LGdldE5vZGVUeXBlOmZ1bmN0aW9uKCl7fSxkcmF3R2VvbWV0cnk6ZnVuY3Rpb24oYSwKYixjKXt2YXIgZD1hLkNMQVNTX05BTUUsZT0hMDtpZigiT3BlbkxheWVycy5HZW9tZXRyeS5Db2xsZWN0aW9uIj09ZHx8Ik9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlQb2ludCI9PWR8fCJPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpTGluZVN0cmluZyI9PWR8fCJPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpUG9seWdvbiI9PWQpe2Zvcih2YXIgZD0wLGY9YS5jb21wb25lbnRzLmxlbmd0aDtkPGY7ZCsrKWU9dGhpcy5kcmF3R2VvbWV0cnkoYS5jb21wb25lbnRzW2RdLGIsYykmJmU7cmV0dXJuIGV9ZD1lPSExOyJub25lIiE9Yi5kaXNwbGF5JiYoYi5iYWNrZ3JvdW5kR3JhcGhpYz90aGlzLnJlZHJhd0JhY2tncm91bmROb2RlKGEuaWQsYSxiLGMpOmQ9ITAsZT10aGlzLnJlZHJhd05vZGUoYS5pZCxhLGIsYykpO2lmKCExPT1lJiYoYj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhLmlkKSkpYi5fc3R5bGUuYmFja2dyb3VuZEdyYXBoaWMmJihkPSEwKSxiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik7CmQmJihiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEuaWQrdGhpcy5CQUNLR1JPVU5EX0lEX1NVRkZJWCkpJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik7cmV0dXJuIGV9LHJlZHJhd05vZGU6ZnVuY3Rpb24oYSxiLGMsZCl7Yz10aGlzLmFwcGx5RGVmYXVsdFN5bWJvbGl6ZXIoYyk7YT10aGlzLm5vZGVGYWN0b3J5KGEsdGhpcy5nZXROb2RlVHlwZShiLGMpKTthLl9mZWF0dXJlSWQ9ZDthLl9ib3VuZHNCb3R0b209Yi5nZXRCb3VuZHMoKS5ib3R0b207YS5fZ2VvbWV0cnlDbGFzcz1iLkNMQVNTX05BTUU7YS5fc3R5bGU9YztiPXRoaXMuZHJhd0dlb21ldHJ5Tm9kZShhLGIsYyk7aWYoITE9PT1iKXJldHVybiExO2E9Yi5ub2RlO3RoaXMuaW5kZXhlcj8oYz10aGlzLmluZGV4ZXIuaW5zZXJ0KGEpKT90aGlzLnZlY3RvclJvb3QuaW5zZXJ0QmVmb3JlKGEsYyk6dGhpcy52ZWN0b3JSb290LmFwcGVuZENoaWxkKGEpOmEucGFyZW50Tm9kZSE9PXRoaXMudmVjdG9yUm9vdCYmdGhpcy52ZWN0b3JSb290LmFwcGVuZENoaWxkKGEpOwp0aGlzLnBvc3REcmF3KGEpO3JldHVybiBiLmNvbXBsZXRlfSxyZWRyYXdCYWNrZ3JvdW5kTm9kZTpmdW5jdGlvbihhLGIsYyl7Yz1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LGMpO2MuZXh0ZXJuYWxHcmFwaGljPWMuYmFja2dyb3VuZEdyYXBoaWM7Yy5ncmFwaGljWE9mZnNldD1jLmJhY2tncm91bmRYT2Zmc2V0O2MuZ3JhcGhpY1lPZmZzZXQ9Yy5iYWNrZ3JvdW5kWU9mZnNldDtjLmdyYXBoaWNaSW5kZXg9Yy5iYWNrZ3JvdW5kR3JhcGhpY1pJbmRleDtjLmdyYXBoaWNXaWR0aD1jLmJhY2tncm91bmRXaWR0aHx8Yy5ncmFwaGljV2lkdGg7Yy5ncmFwaGljSGVpZ2h0PWMuYmFja2dyb3VuZEhlaWdodHx8Yy5ncmFwaGljSGVpZ2h0O2MuYmFja2dyb3VuZEdyYXBoaWM9bnVsbDtjLmJhY2tncm91bmRYT2Zmc2V0PW51bGw7Yy5iYWNrZ3JvdW5kWU9mZnNldD1udWxsO2MuYmFja2dyb3VuZEdyYXBoaWNaSW5kZXg9bnVsbDtyZXR1cm4gdGhpcy5yZWRyYXdOb2RlKGErdGhpcy5CQUNLR1JPVU5EX0lEX1NVRkZJWCwKYixjLG51bGwpfSxkcmF3R2VvbWV0cnlOb2RlOmZ1bmN0aW9uKGEsYixjKXt2YXIgYz1jfHxhLl9zdHlsZSxkPXtpc0ZpbGxlZDp2b2lkIDA9PT1jLmZpbGw/ITA6Yy5maWxsLGlzU3Ryb2tlZDp2b2lkIDA9PT1jLnN0cm9rZT8hIWMuc3Ryb2tlV2lkdGg6Yy5zdHJva2V9LGU7c3dpdGNoKGIuQ0xBU1NfTkFNRSl7Y2FzZSAiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCI6ITE9PT1jLmdyYXBoaWMmJihkLmlzRmlsbGVkPSExLGQuaXNTdHJva2VkPSExKTtlPXRoaXMuZHJhd1BvaW50KGEsYik7YnJlYWs7Y2FzZSAiT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nIjpkLmlzRmlsbGVkPSExO2U9dGhpcy5kcmF3TGluZVN0cmluZyhhLGIpO2JyZWFrO2Nhc2UgIk9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyI6ZT10aGlzLmRyYXdMaW5lYXJSaW5nKGEsYik7YnJlYWs7Y2FzZSAiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uIjplPXRoaXMuZHJhd1BvbHlnb24oYSxiKTticmVhazsKY2FzZSAiT3BlbkxheWVycy5HZW9tZXRyeS5SZWN0YW5nbGUiOmU9dGhpcy5kcmF3UmVjdGFuZ2xlKGEsYil9YS5fb3B0aW9ucz1kO3JldHVybiExIT1lP3tub2RlOnRoaXMuc2V0U3R5bGUoYSxjLGQsYiksY29tcGxldGU6ZX06ITF9LHBvc3REcmF3OmZ1bmN0aW9uKCl7fSxkcmF3UG9pbnQ6ZnVuY3Rpb24oKXt9LGRyYXdMaW5lU3RyaW5nOmZ1bmN0aW9uKCl7fSxkcmF3TGluZWFyUmluZzpmdW5jdGlvbigpe30sZHJhd1BvbHlnb246ZnVuY3Rpb24oKXt9LGRyYXdSZWN0YW5nbGU6ZnVuY3Rpb24oKXt9LGRyYXdDaXJjbGU6ZnVuY3Rpb24oKXt9LHJlbW92ZVRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSt0aGlzLkxBQkVMX0lEX1NVRkZJWCk7YiYmdGhpcy50ZXh0Um9vdC5yZW1vdmVDaGlsZChiKTsoYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhK3RoaXMuTEFCRUxfT1VUTElORV9TVUZGSVgpKSYmdGhpcy50ZXh0Um9vdC5yZW1vdmVDaGlsZChhKX0sCmdldEZlYXR1cmVJZEZyb21FdmVudDpmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldCxjPWImJmIuY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQ7cmV0dXJuKGM/YzpifHxhLnNyY0VsZW1lbnQpLl9mZWF0dXJlSWR9LGVyYXNlR2VvbWV0cnk6ZnVuY3Rpb24oYSxiKXtpZigiT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aVBvaW50Ij09YS5DTEFTU19OQU1FfHwiT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aUxpbmVTdHJpbmciPT1hLkNMQVNTX05BTUV8fCJPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpUG9seWdvbiI9PWEuQ0xBU1NfTkFNRXx8Ik9wZW5MYXllcnMuR2VvbWV0cnkuQ29sbGVjdGlvbiI9PWEuQ0xBU1NfTkFNRSlmb3IodmFyIGM9MCxkPWEuY29tcG9uZW50cy5sZW5ndGg7YzxkO2MrKyl0aGlzLmVyYXNlR2VvbWV0cnkoYS5jb21wb25lbnRzW2NdLGIpO2Vsc2UgaWYoKGM9T3BlbkxheWVycy5VdGlsLmdldEVsZW1lbnQoYS5pZCkpJiZjLnBhcmVudE5vZGUpYy5nZW9tZXRyeSYmKGMuZ2VvbWV0cnkuZGVzdHJveSgpLApjLmdlb21ldHJ5PW51bGwpLGMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKSx0aGlzLmluZGV4ZXImJnRoaXMuaW5kZXhlci5yZW1vdmUoYyksYy5fc3R5bGUuYmFja2dyb3VuZEdyYXBoaWMmJihjPU9wZW5MYXllcnMuVXRpbC5nZXRFbGVtZW50KGEuaWQrdGhpcy5CQUNLR1JPVU5EX0lEX1NVRkZJWCkpJiZjLnBhcmVudE5vZGUmJmMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKX0sbm9kZUZhY3Rvcnk6ZnVuY3Rpb24oYSxiKXt2YXIgYz1PcGVuTGF5ZXJzLlV0aWwuZ2V0RWxlbWVudChhKTtjP3RoaXMubm9kZVR5cGVDb21wYXJlKGMsYil8fChjLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYyksYz10aGlzLm5vZGVGYWN0b3J5KGEsYikpOmM9dGhpcy5jcmVhdGVOb2RlKGIsYSk7cmV0dXJuIGN9LG5vZGVUeXBlQ29tcGFyZTpmdW5jdGlvbigpe30sY3JlYXRlTm9kZTpmdW5jdGlvbigpe30sbW92ZVJvb3Q6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5yb290O2Eucm9vdC5wYXJlbnROb2RlPT0KdGhpcy5yZW5kZXJlclJvb3QmJihiPWEucm9vdCk7Yi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpO2EucmVuZGVyZXJSb290LmFwcGVuZENoaWxkKGIpfSxnZXRSZW5kZXJMYXllcklkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm9vdC5wYXJlbnROb2RlLnBhcmVudE5vZGUuaWR9LGlzQ29tcGxleFN5bWJvbDpmdW5jdGlvbihhKXtyZXR1cm4iY2lyY2xlIiE9YSYmISFhfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlJlbmRlcmVyLkVsZW1lbnRzIn0pO09wZW5MYXllcnMuQ29udHJvbC5BcmdQYXJzZXI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse2NlbnRlcjpudWxsLHpvb206bnVsbCxsYXllcnM6bnVsbCxkaXNwbGF5UHJvamVjdGlvbjpudWxsLGdldFBhcmFtZXRlcnM6ZnVuY3Rpb24oYSl7dmFyIGE9YXx8d2luZG93LmxvY2F0aW9uLmhyZWYsYj1PcGVuTGF5ZXJzLlV0aWwuZ2V0UGFyYW1ldGVycyhhKSxjPWEuaW5kZXhPZigiIyIpOzA8YyYmKGE9Ij8iK2Euc3Vic3RyaW5nKGMrMSxhLmxlbmd0aCksT3BlbkxheWVycy5VdGlsLmV4dGVuZChiLE9wZW5MYXllcnMuVXRpbC5nZXRQYXJhbWV0ZXJzKGEpKSk7cmV0dXJuIGJ9LHNldE1hcDpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLnNldE1hcC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Zm9yKHZhciBiPTAsYz10aGlzLm1hcC5jb250cm9scy5sZW5ndGg7YjxjO2IrKyl7dmFyIGQ9dGhpcy5tYXAuY29udHJvbHNbYl07aWYoZCE9dGhpcyYmCiJPcGVuTGF5ZXJzLkNvbnRyb2wuQXJnUGFyc2VyIj09ZC5DTEFTU19OQU1FKXtkLmRpc3BsYXlQcm9qZWN0aW9uIT10aGlzLmRpc3BsYXlQcm9qZWN0aW9uJiYodGhpcy5kaXNwbGF5UHJvamVjdGlvbj1kLmRpc3BsYXlQcm9qZWN0aW9uKTticmVha319Yj09dGhpcy5tYXAuY29udHJvbHMubGVuZ3RoJiYoYj10aGlzLmdldFBhcmFtZXRlcnMoKSxiLmxheWVycyYmKHRoaXMubGF5ZXJzPWIubGF5ZXJzLHRoaXMubWFwLmV2ZW50cy5yZWdpc3RlcigiYWRkbGF5ZXIiLHRoaXMsdGhpcy5jb25maWd1cmVMYXllcnMpLHRoaXMuY29uZmlndXJlTGF5ZXJzKCkpLGIubGF0JiZiLmxvbiYmKHRoaXMuY2VudGVyPW5ldyBPcGVuTGF5ZXJzLkxvbkxhdChwYXJzZUZsb2F0KGIubG9uKSxwYXJzZUZsb2F0KGIubGF0KSksYi56b29tJiYodGhpcy56b29tPXBhcnNlRmxvYXQoYi56b29tKSksdGhpcy5tYXAuZXZlbnRzLnJlZ2lzdGVyKCJjaGFuZ2ViYXNlbGF5ZXIiLHRoaXMsdGhpcy5zZXRDZW50ZXIpLAp0aGlzLnNldENlbnRlcigpKSl9LHNldENlbnRlcjpmdW5jdGlvbigpe3RoaXMubWFwLmJhc2VMYXllciYmKHRoaXMubWFwLmV2ZW50cy51bnJlZ2lzdGVyKCJjaGFuZ2ViYXNlbGF5ZXIiLHRoaXMsdGhpcy5zZXRDZW50ZXIpLHRoaXMuZGlzcGxheVByb2plY3Rpb24mJnRoaXMuY2VudGVyLnRyYW5zZm9ybSh0aGlzLmRpc3BsYXlQcm9qZWN0aW9uLHRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSksdGhpcy5tYXAuc2V0Q2VudGVyKHRoaXMuY2VudGVyLHRoaXMuem9vbSkpfSxjb25maWd1cmVMYXllcnM6ZnVuY3Rpb24oKXtpZih0aGlzLmxheWVycy5sZW5ndGg9PXRoaXMubWFwLmxheWVycy5sZW5ndGgpe3RoaXMubWFwLmV2ZW50cy51bnJlZ2lzdGVyKCJhZGRsYXllciIsdGhpcyx0aGlzLmNvbmZpZ3VyZUxheWVycyk7Zm9yKHZhciBhPTAsYj10aGlzLmxheWVycy5sZW5ndGg7YTxiO2ErKyl7dmFyIGM9dGhpcy5tYXAubGF5ZXJzW2FdLGQ9dGhpcy5sYXllcnMuY2hhckF0KGEpOwoiQiI9PWQ/dGhpcy5tYXAuc2V0QmFzZUxheWVyKGMpOigiVCI9PWR8fCJGIj09ZCkmJmMuc2V0VmlzaWJpbGl0eSgiVCI9PWQpfX19LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5BcmdQYXJzZXIifSk7T3BlbkxheWVycy5Db250cm9sLlBlcm1hbGluaz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbCx7YXJnUGFyc2VyQ2xhc3M6T3BlbkxheWVycy5Db250cm9sLkFyZ1BhcnNlcixlbGVtZW50Om51bGwsYW5jaG9yOiExLGJhc2U6IiIsZGlzcGxheVByb2plY3Rpb246bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjKXtudWxsIT09YSYmIm9iamVjdCI9PXR5cGVvZiBhJiYhT3BlbkxheWVycy5VdGlsLmlzRWxlbWVudChhKT8odGhpcy5iYXNlPWRvY3VtZW50LmxvY2F0aW9uLmhyZWYsT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKSxudWxsIT10aGlzLmVsZW1lbnQmJih0aGlzLmVsZW1lbnQ9T3BlbkxheWVycy5VdGlsLmdldEVsZW1lbnQodGhpcy5lbGVtZW50KSkpOihPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbY10pLHRoaXMuZWxlbWVudD1PcGVuTGF5ZXJzLlV0aWwuZ2V0RWxlbWVudChhKSwKdGhpcy5iYXNlPWJ8fGRvY3VtZW50LmxvY2F0aW9uLmhyZWYpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50JiZ0aGlzLmVsZW1lbnQucGFyZW50Tm9kZT09dGhpcy5kaXYmJih0aGlzLmRpdi5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpLHRoaXMuZWxlbWVudD1udWxsKTt0aGlzLm1hcCYmdGhpcy5tYXAuZXZlbnRzLnVucmVnaXN0ZXIoIm1vdmVlbmQiLHRoaXMsdGhpcy51cGRhdGVMaW5rKTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzZXRNYXA6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5zZXRNYXAuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Zvcih2YXIgYj0wLGM9dGhpcy5tYXAuY29udHJvbHMubGVuZ3RoO2I8YztiKyspe3ZhciBkPXRoaXMubWFwLmNvbnRyb2xzW2JdO2lmKGQuQ0xBU1NfTkFNRT09dGhpcy5hcmdQYXJzZXJDbGFzcy5DTEFTU19OQU1FKXtkLmRpc3BsYXlQcm9qZWN0aW9uIT0KdGhpcy5kaXNwbGF5UHJvamVjdGlvbiYmKHRoaXMuZGlzcGxheVByb2plY3Rpb249ZC5kaXNwbGF5UHJvamVjdGlvbik7YnJlYWt9fWI9PXRoaXMubWFwLmNvbnRyb2xzLmxlbmd0aCYmdGhpcy5tYXAuYWRkQ29udHJvbChuZXcgdGhpcy5hcmdQYXJzZXJDbGFzcyh7ZGlzcGxheVByb2plY3Rpb246dGhpcy5kaXNwbGF5UHJvamVjdGlvbn0pKX0sZHJhdzpmdW5jdGlvbigpe09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZHJhdy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7IXRoaXMuZWxlbWVudCYmIXRoaXMuYW5jaG9yJiYodGhpcy5lbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSx0aGlzLmVsZW1lbnQuaW5uZXJIVE1MPU9wZW5MYXllcnMuaTE4bigiUGVybWFsaW5rIiksdGhpcy5lbGVtZW50LmhyZWY9IiIsdGhpcy5kaXYuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KSk7dGhpcy5tYXAuZXZlbnRzLm9uKHttb3ZlZW5kOnRoaXMudXBkYXRlTGluayxjaGFuZ2VsYXllcjp0aGlzLnVwZGF0ZUxpbmssCmNoYW5nZWJhc2VsYXllcjp0aGlzLnVwZGF0ZUxpbmssc2NvcGU6dGhpc30pO3RoaXMudXBkYXRlTGluaygpO3JldHVybiB0aGlzLmRpdn0sdXBkYXRlTGluazpmdW5jdGlvbigpe3ZhciBhPXRoaXMuYW5jaG9yPyIjIjoiPyIsYj10aGlzLmJhc2UsYz1udWxsOy0xIT1iLmluZGV4T2YoIiMiKSYmITE9PXRoaXMuYW5jaG9yJiYoYz1iLnN1YnN0cmluZyhiLmluZGV4T2YoIiMiKSxiLmxlbmd0aCkpOy0xIT1iLmluZGV4T2YoYSkmJihiPWIuc3Vic3RyaW5nKDAsYi5pbmRleE9mKGEpKSk7Yj1iLnNwbGl0KCIjIilbMF0rYStPcGVuTGF5ZXJzLlV0aWwuZ2V0UGFyYW1ldGVyU3RyaW5nKHRoaXMuY3JlYXRlUGFyYW1zKCkpO2MmJihiKz1jKTt0aGlzLmFuY2hvciYmIXRoaXMuZWxlbWVudD93aW5kb3cubG9jYXRpb24uaHJlZj1iOnRoaXMuZWxlbWVudC5ocmVmPWJ9LGNyZWF0ZVBhcmFtczpmdW5jdGlvbihhLGIsYyl7dmFyIGE9YXx8dGhpcy5tYXAuZ2V0Q2VudGVyKCksZD1PcGVuTGF5ZXJzLlV0aWwuZ2V0UGFyYW1ldGVycyh0aGlzLmJhc2UpOwppZihhKXtkLnpvb209Ynx8dGhpcy5tYXAuZ2V0Wm9vbSgpO2I9YS5sYXQ7YT1hLmxvbjt0aGlzLmRpc3BsYXlQcm9qZWN0aW9uJiYoYj1PcGVuTGF5ZXJzLlByb2plY3Rpb24udHJhbnNmb3JtKHt4OmEseTpifSx0aGlzLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCksdGhpcy5kaXNwbGF5UHJvamVjdGlvbiksYT1iLngsYj1iLnkpO2QubGF0PU1hdGgucm91bmQoMUU1KmIpLzFFNTtkLmxvbj1NYXRoLnJvdW5kKDFFNSphKS8xRTU7Yz1jfHx0aGlzLm1hcC5sYXllcnM7ZC5sYXllcnM9IiI7YT0wO2ZvcihiPWMubGVuZ3RoO2E8YjthKyspe3ZhciBlPWNbYV07ZC5sYXllcnM9ZS5pc0Jhc2VMYXllcj9kLmxheWVycysoZT09dGhpcy5tYXAuYmFzZUxheWVyPyJCIjoiMCIpOmQubGF5ZXJzKyhlLmdldFZpc2liaWxpdHkoKT8iVCI6IkYiKX19cmV0dXJuIGR9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5QZXJtYWxpbmsifSk7T3BlbkxheWVycy5MYXllci5UTVM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkxheWVyLkdyaWQse3NlcnZpY2VWZXJzaW9uOiIxLjAuMCIsbGF5ZXJuYW1lOm51bGwsdHlwZTpudWxsLGlzQmFzZUxheWVyOiEwLHRpbGVPcmlnaW46bnVsbCxzZXJ2ZXJSZXNvbHV0aW9uczpudWxsLHpvb21PZmZzZXQ6MCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXTtkLnB1c2goYSxiLHt9LGMpO09wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGQpfSxjbG9uZTpmdW5jdGlvbihhKXtudWxsPT1hJiYoYT1uZXcgT3BlbkxheWVycy5MYXllci5UTVModGhpcy5uYW1lLHRoaXMudXJsLHRoaXMuZ2V0T3B0aW9ucygpKSk7cmV0dXJuIGE9T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5jbG9uZS5hcHBseSh0aGlzLFthXSl9LGdldFVSTDpmdW5jdGlvbihhKXt2YXIgYT10aGlzLmFkanVzdEJvdW5kcyhhKSxiPXRoaXMuZ2V0U2VydmVyUmVzb2x1dGlvbigpLApjPU1hdGgucm91bmQoKGEubGVmdC10aGlzLnRpbGVPcmlnaW4ubG9uKS8oYip0aGlzLnRpbGVTaXplLncpKSxhPU1hdGgucm91bmQoKGEuYm90dG9tLXRoaXMudGlsZU9yaWdpbi5sYXQpLyhiKnRoaXMudGlsZVNpemUuaCkpLGI9dGhpcy5nZXRTZXJ2ZXJab29tKCksYz10aGlzLnNlcnZpY2VWZXJzaW9uKyIvIit0aGlzLmxheWVybmFtZSsiLyIrYisiLyIrYysiLyIrYSsiLiIrdGhpcy50eXBlLGE9dGhpcy51cmw7T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSkmJihhPXRoaXMuc2VsZWN0VXJsKGMsYSkpO3JldHVybiBhK2N9LHNldE1hcDpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkxheWVyLkdyaWQucHJvdG90eXBlLnNldE1hcC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy50aWxlT3JpZ2lufHwodGhpcy50aWxlT3JpZ2luPW5ldyBPcGVuTGF5ZXJzLkxvbkxhdCh0aGlzLm1hcC5tYXhFeHRlbnQubGVmdCx0aGlzLm1hcC5tYXhFeHRlbnQuYm90dG9tKSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuTGF5ZXIuVE1TIn0pO09wZW5MYXllcnMuRm9ybWF0LldDU0NhcGFiaWxpdGllcz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTC5WZXJzaW9uZWRPR0Mse2RlZmF1bHRWZXJzaW9uOiIxLjEuMCIsQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuV0NTQ2FwYWJpbGl0aWVzIn0pO09wZW5MYXllcnMuRm9ybWF0LldDU0NhcGFiaWxpdGllcy52MT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7cmVnRXhlczp7dHJpbVNwYWNlOi9eXHMqfFxzKiQvZyxzcGxpdFNwYWNlOi9ccysvfSxkZWZhdWx0UHJlZml4OiJ3Y3MiLHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PXR5cGVvZiBhJiYoYT1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxbYV0pKTthJiY5PT1hLm5vZGVUeXBlJiYoYT1hLmRvY3VtZW50RWxlbWVudCk7dmFyIGI9e307dGhpcy5yZWFkTm9kZShhLGIpO3JldHVybiBifSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XQ1NDYXBhYmlsaXRpZXMudjEifSk7T3BlbkxheWVycy5Gb3JtYXQuV0NTQ2FwYWJpbGl0aWVzLnYxXzBfMD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LldDU0NhcGFiaWxpdGllcy52MSx7bmFtZXNwYWNlczp7d2NzOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3djcyIseGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiLG93czoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vd3MifSxlcnJvclByb3BlcnR5OiJzZXJ2aWNlIixyZWFkZXJzOnt3Y3M6e1dDU19DYXBhYmlsaXRpZXM6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LFNlcnZpY2U6ZnVuY3Rpb24oYSxiKXtiLnNlcnZpY2U9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuc2VydmljZSl9LG5hbWU6ZnVuY3Rpb24oYSxiKXtiLm5hbWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxsYWJlbDpmdW5jdGlvbihhLGIpe2IubGFiZWw9CnRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sa2V5d29yZHM6ZnVuY3Rpb24oYSxiKXtiLmtleXdvcmRzPVtdO3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLmtleXdvcmRzKX0sa2V5d29yZDpmdW5jdGlvbihhLGIpe2IucHVzaCh0aGlzLmdldENoaWxkVmFsdWUoYSkpfSxyZXNwb25zaWJsZVBhcnR5OmZ1bmN0aW9uKGEsYil7Yi5yZXNwb25zaWJsZVBhcnR5PXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnJlc3BvbnNpYmxlUGFydHkpfSxpbmRpdmlkdWFsTmFtZTpmdW5jdGlvbihhLGIpe2IuaW5kaXZpZHVhbE5hbWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxvcmdhbmlzYXRpb25OYW1lOmZ1bmN0aW9uKGEsYil7Yi5vcmdhbmlzYXRpb25OYW1lPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0scG9zaXRpb25OYW1lOmZ1bmN0aW9uKGEsYil7Yi5wb3NpdGlvbk5hbWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxjb250YWN0SW5mbzpmdW5jdGlvbihhLGIpe2IuY29udGFjdEluZm89e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLApiLmNvbnRhY3RJbmZvKX0scGhvbmU6ZnVuY3Rpb24oYSxiKXtiLnBob25lPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnBob25lKX0sdm9pY2U6ZnVuY3Rpb24oYSxiKXtiLnZvaWNlPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sZmFjc2ltaWxlOmZ1bmN0aW9uKGEsYil7Yi5mYWNzaW1pbGU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxhZGRyZXNzOmZ1bmN0aW9uKGEsYil7Yi5hZGRyZXNzPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLmFkZHJlc3MpfSxkZWxpdmVyeVBvaW50OmZ1bmN0aW9uKGEsYil7Yi5kZWxpdmVyeVBvaW50PXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sY2l0eTpmdW5jdGlvbihhLGIpe2IuY2l0eT10aGlzLmdldENoaWxkVmFsdWUoYSl9LHBvc3RhbENvZGU6ZnVuY3Rpb24oYSxiKXtiLnBvc3RhbENvZGU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxjb3VudHJ5OmZ1bmN0aW9uKGEsYil7Yi5jb3VudHJ5PXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sZWxlY3Ryb25pY01haWxBZGRyZXNzOmZ1bmN0aW9uKGEsCmIpe2IuZWxlY3Ryb25pY01haWxBZGRyZXNzPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sZmVlczpmdW5jdGlvbihhLGIpe2IuZmVlcz10aGlzLmdldENoaWxkVmFsdWUoYSl9LGFjY2Vzc0NvbnN0cmFpbnRzOmZ1bmN0aW9uKGEsYil7Yi5hY2Nlc3NDb25zdHJhaW50cz10aGlzLmdldENoaWxkVmFsdWUoYSl9LENvbnRlbnRNZXRhZGF0YTpmdW5jdGlvbihhLGIpe2IuY29udGVudE1ldGFkYXRhPVtdO3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLmNvbnRlbnRNZXRhZGF0YSl9LENvdmVyYWdlT2ZmZXJpbmdCcmllZjpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLnB1c2goYyl9LG5hbWU6ZnVuY3Rpb24oYSxiKXtiLm5hbWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxsYWJlbDpmdW5jdGlvbihhLGIpe2IubGFiZWw9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxsb25MYXRFbnZlbG9wZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLAoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwiLCJwb3MiKTtpZigyPT1jLmxlbmd0aCl7dmFyIGQ9e30sZT17fTtPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjMucHJvdG90eXBlLnJlYWRlcnMuZ21sLnBvcy5hcHBseSh0aGlzLFtjWzBdLGRdKTtPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjMucHJvdG90eXBlLnJlYWRlcnMuZ21sLnBvcy5hcHBseSh0aGlzLFtjWzFdLGVdKTtiLmxvbkxhdEVudmVsb3BlPXt9O2IubG9uTGF0RW52ZWxvcGUuc3JzTmFtZT1hLmdldEF0dHJpYnV0ZSgic3JzTmFtZSIpO2IubG9uTGF0RW52ZWxvcGUubWluPWQucG9pbnRzWzBdO2IubG9uTGF0RW52ZWxvcGUubWF4PWUucG9pbnRzWzBdfX19fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XQ1NDYXBhYmlsaXRpZXMudjFfMF8wIn0pO09wZW5MYXllcnMuTGFuZy5zdj1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7dW5oYW5kbGVkUmVxdWVzdDoiRWogaGFudGVyYWQgZnJcdTAwZTVnYSByZXR1ciAke3N0YXR1c1RleHR9IixQZXJtYWxpbms6IlBlcm1hbFx1MDBlNG5rIixPdmVybGF5czoiS2FydGxhZ2VyIiwiQmFzZSBMYXllciI6IkJha2dydW5kc2thcnRhIixub0ZJRDoiS2FuIGVqIHVwcGRhdGVyYSBmZWF0dXJlIChvYmpla3QpIGZcdTAwZjZyIHZpbGtldCBGSUQgc2FrbmFzLiIsYnJvd3Nlck5vdFN1cHBvcnRlZDoiRGluIHdlYmJsXHUwMGU0c2FyZSBzdFx1MDBmNmRlciBpbnRlIHZla3RvcnZpc25pbmcuIEZcdTAwZjZyIG5cdTAwZTRydmFyYW5kZSBzdFx1MDBmNmRzIGZcdTAwZjZsamFuZGUgdmlzbmluZzpcbiR7cmVuZGVyZXJzfSIsbWluWm9vbUxldmVsRXJyb3I6IkVnZW5za2FwZW4gbWluWm9vbUxldmVsIFx1MDBlNHIgZW5kYXN0IGF2c2VkZCBhdHQgYW52XHUwMGU0bmRhcyBtZWQgbGFnZXIgbWVkIEZpeGVkWm9vbUxldmVscy4gQXR0IGRldHRhIFdGUy1sYWdlciBrb250cm9sbGVyYXIgbWluWm9vbUxldmVsIFx1MDBlNHIgZW4gcmVsaWsgZnJcdTAwZTVuIFx1MDBlNGxkcmUgdmVyc2lvbmVyLiBWaSBrYW4gZG9jayBpbnRlIHRhIGJvcnQgZGV0IHV0YW4gYXR0IHJpc2tlcmEgYXR0IE9MLWJhc2VyYWRlIHRpbGxcdTAwZTRtcG5pbmdhciBzb20gYW52XHUwMGU0bmRlciBkZXR0YSBzbHV0YXIgZnVuZ2VyYS4gRFx1MDBlNHJmXHUwMGY2ciBcdTAwZTRyIGRldCBzYXR0IHNvbSBkZXByZWNhdGVkLCBtaW5ab29tTGV2ZWwga29tbWVyIGF0dCB0YXMgYm9ydCBpIHZlcnNpb24gMy4wLiBBbnZcdTAwZTRuZCBpIHN0XHUwMGU0bGxldCBpbnN0XHUwMGU0bGxuaW5nIGF2IG1pbi9tYXggcmVzb2x1dGlvbiBzb20gYmVza3JpdnMgaFx1MDBlNHI6IGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU2V0dGluZ1pvb21MZXZlbHMiLApjb21taXRTdWNjZXNzOiJXRlMtdHJhbnNha3Rpb246IExZQ0tBREVTICR7cmVzcG9uc2V9Iixjb21taXRGYWlsZWQ6IldGUy10cmFuc2FrdGlvbjogTUlTU0xZQ0tBREVTICR7cmVzcG9uc2V9Iixnb29nbGVXYXJuaW5nOiJHb29nbGUtbGFncmV0IGt1bmRlIGludGUgbGFkZGFzIGtvcnJla3QuPGJyPjxicj5GXHUwMGY2ciBhdHQgc2xpcHBhIGRldHRhIG1lZGRlbGFuZGUsIHZcdTAwZTRsaiBlbiBhbm5hbiBiYWtncnVuZHNrYXJ0YSBpIGxhZ2Vydlx1MDBlNGxqYXJlbiBpIFx1MDBmNnZyZSBoXHUwMGY2Z3JhIGhcdTAwZjZybmV0Ljxicj48YnI+U2Fubm9saWt0IGJlcm9yIGZlbGV0IHBcdTAwZTUgYXR0IEdvb2dsZSBNYXBzLWJpYmxpb3Rla2V0IGludGUgXHUwMGU0ciBpbmtsdWRlcmF0IHBcdTAwZTUgd2ViYnNpZGFuIGVsbGVyIHBcdTAwZTUgYXR0IHNpZGFuIGludGUgYW5nZXIga29ycmVrdCBBUEktbnlja2VsIGZcdTAwZjZyIHdlYmJwbGF0c2VuLjxicj48YnI+VXR2ZWNrbGFyZTogaGpcdTAwZTRscCBmXHUwMGY2ciBhdHQgXHUwMGU1dGdcdTAwZTRyZGEgZGV0dGEsIDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvR29vZ2xlJyB0YXJnZXQ9J19ibGFuayc+a2xpY2thIGhcdTAwZTRyPC9hPi4iLApnZXRMYXllcldhcm5pbmc6IiR7bGF5ZXJUeXBlfS1sYWdyZXQga3VuZGUgaW50ZSBsYWRkYXMga29ycmVrdC48YnI+PGJyPkZcdTAwZjZyIGF0dCBzbGlwcGEgZGV0dGEgbWVkZGVsYW5kZSwgdlx1MDBlNGxqIGVuIGFubmFuIGJha2dydW5kc2thcnRhIGkgbGFnZXJ2XHUwMGU0bGphcmVuIGkgXHUwMGY2dnJlIGhcdTAwZjZncmEgaFx1MDBmNnJuZXQuPGJyPjxicj5TYW5ub2xpa3QgYmVyb3IgZmVsZXQgcFx1MDBlNSBhdHQgJHtsYXllckxpYn0tYmlibGlvdGVrZXQgaW50ZSBcdTAwZTRyIGlua2x1ZGVyYXQgcFx1MDBlNSB3ZWJic2lkYW4uPGJyPjxicj5VdHZlY2tsYXJlOiBoalx1MDBlNGxwIGZcdTAwZjZyIGF0dCBcdTAwZTV0Z1x1MDBlNHJkYSBkZXR0YSwgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS8ke2xheWVyTGlifScgdGFyZ2V0PSdfYmxhbmsnPmtsaWNrYSBoXHUwMGU0cjwvYT4uIiwiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6IjxzdHJvbmc+U2thbGE8L3N0cm9uZz4gMSA6ICR7c2NhbGVEZW5vbX0iLApyZXByb2plY3REZXByZWNhdGVkOiJEdSBhbnZcdTAwZTRuZGVyIGluc3RcdTAwZTRsbG5pbmdlbiAncmVwcm9qZWN0JyBwXHUwMGU1IGxhZ3JldCAke2xheWVyTmFtZX0uIERlbm5hIGluc3RcdTAwZTRsbG5pbmcgbWFya2VyYWQgc29tIGRlcHJlY2F0ZWQ6IGRlbiB2YXIgYXZzZWRkIGF0dCBhbnZcdTAwZTRuZGFzIGZcdTAwZjZyIGF0dCBzdFx1MDBmNmRqYSB2aXNuaW5nIGF2IGthcnRkYXRhIHBcdTAwZTUga29tbWVyc2llbGxhIGJha2dydW5kc2thcnRvciwgbWVuIG51IGJcdTAwZjZyIG1hbiBpIHN0XHUwMGU0bGxldCBhbnZcdTAwZTRuZGEgU3BoZXJpY2FsIE1lcmNhdG9yLXN0XHUwMGY2ZCBmXHUwMGY2ciBkZW4gZnVua3Rpb25hbGl0ZXRlbi4gTWVyIGluZm9ybWF0aW9uIGZpbm5zIHBcdTAwZTUgaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TcGhlcmljYWxNZXJjYXRvci4iLG1ldGhvZERlcHJlY2F0ZWQ6IkRlbm5hIG1ldG9kIFx1MDBlNHIgbWFya2VyYWQgc29tIGRlcHJlY2F0ZWQgb2NoIGtvbW1lciBhdHQgdGFzIGJvcnQgaSAzLjAuIEFudlx1MDBlNG5kICR7bmV3TWV0aG9kfSBpIHN0XHUwMGU0bGxldC4ifSk7T3BlbkxheWVycy5TdHJhdGVneS5GaXhlZD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuU3RyYXRlZ3kse3ByZWxvYWQ6ITEsYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgYT1PcGVuTGF5ZXJzLlN0cmF0ZWd5LnByb3RvdHlwZS5hY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoYSlpZih0aGlzLmxheWVyLmV2ZW50cy5vbih7cmVmcmVzaDp0aGlzLmxvYWQsc2NvcGU6dGhpc30pLCEwPT10aGlzLmxheWVyLnZpc2liaWxpdHl8fHRoaXMucHJlbG9hZCl0aGlzLmxvYWQoKTtlbHNlIHRoaXMubGF5ZXIuZXZlbnRzLm9uKHt2aXNpYmlsaXR5Y2hhbmdlZDp0aGlzLmxvYWQsc2NvcGU6dGhpc30pO3JldHVybiBhfSxkZWFjdGl2YXRlOmZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5TdHJhdGVneS5wcm90b3R5cGUuZGVhY3RpdmF0ZS5jYWxsKHRoaXMpO2EmJnRoaXMubGF5ZXIuZXZlbnRzLnVuKHtyZWZyZXNoOnRoaXMubG9hZCx2aXNpYmlsaXR5Y2hhbmdlZDp0aGlzLmxvYWQsCnNjb3BlOnRoaXN9KTtyZXR1cm4gYX0sbG9hZDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmxheWVyO2IuZXZlbnRzLnRyaWdnZXJFdmVudCgibG9hZHN0YXJ0Iix7ZmlsdGVyOmIuZmlsdGVyfSk7Yi5wcm90b2NvbC5yZWFkKE9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtjYWxsYmFjazp0aGlzLm1lcmdlLGZpbHRlcjpiLmZpbHRlcixzY29wZTp0aGlzfSxhKSk7Yi5ldmVudHMudW4oe3Zpc2liaWxpdHljaGFuZ2VkOnRoaXMubG9hZCxzY29wZTp0aGlzfSl9LG1lcmdlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubGF5ZXI7Yi5kZXN0cm95RmVhdHVyZXMoKTt2YXIgYz1hLmZlYXR1cmVzO2lmKGMmJjA8Yy5sZW5ndGgpe3ZhciBkPWIucHJvamVjdGlvbixlPWIubWFwLmdldFByb2plY3Rpb25PYmplY3QoKTtpZighZS5lcXVhbHMoZCkpZm9yKHZhciBmLGc9MCxoPWMubGVuZ3RoO2c8aDsrK2cpKGY9Y1tnXS5nZW9tZXRyeSkmJmYudHJhbnNmb3JtKGQsZSk7Yi5hZGRGZWF0dXJlcyhjKX1iLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvYWRlbmQiLAp7cmVzcG9uc2U6YX0pfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlN0cmF0ZWd5LkZpeGVkIn0pO09wZW5MYXllcnMuU3ltYm9saXplci5MaW5lPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5TeW1ib2xpemVyLHtpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuU3ltYm9saXplci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuU3ltYm9saXplci5MaW5lIn0pO09wZW5MYXllcnMuQ29udHJvbC5ab29tPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHt6b29tSW5UZXh0OiIrIix6b29tSW5JZDoib2xab29tSW5MaW5rIix6b29tT3V0VGV4dDoiXHUyMjEyIix6b29tT3V0SWQ6Im9sWm9vbU91dExpbmsiLGRyYXc6ZnVuY3Rpb24oKXt2YXIgYT1PcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRyYXcuYXBwbHkodGhpcyksYj10aGlzLmdldE9yQ3JlYXRlTGlua3MoYSksYz1iLnpvb21JbixiPWIuem9vbU91dCxkPXRoaXMubWFwLmV2ZW50cztiLnBhcmVudE5vZGUhPT1hJiYoZD10aGlzLmV2ZW50cyxkLmF0dGFjaFRvRWxlbWVudChiLnBhcmVudE5vZGUpKTtkLnJlZ2lzdGVyKCJidXR0b25jbGljayIsdGhpcyx0aGlzLm9uWm9vbUNsaWNrKTt0aGlzLnpvb21Jbkxpbms9Yzt0aGlzLnpvb21PdXRMaW5rPWI7cmV0dXJuIGF9LGdldE9yQ3JlYXRlTGlua3M6ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy56b29tSW5JZCksCmM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy56b29tT3V0SWQpO2J8fChiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSxiLmhyZWY9IiN6b29tSW4iLGIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy56b29tSW5UZXh0KSksYi5jbGFzc05hbWU9Im9sQ29udHJvbFpvb21JbiIsYS5hcHBlbmRDaGlsZChiKSk7T3BlbkxheWVycy5FbGVtZW50LmFkZENsYXNzKGIsIm9sQnV0dG9uIik7Y3x8KGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpLGMuaHJlZj0iI3pvb21PdXQiLGMuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy56b29tT3V0VGV4dCkpLGMuY2xhc3NOYW1lPSJvbENvbnRyb2xab29tT3V0IixhLmFwcGVuZENoaWxkKGMpKTtPcGVuTGF5ZXJzLkVsZW1lbnQuYWRkQ2xhc3MoYywib2xCdXR0b24iKTtyZXR1cm57em9vbUluOmIsem9vbU91dDpjfX0sb25ab29tQ2xpY2s6ZnVuY3Rpb24oYSl7YT1hLmJ1dHRvbkVsZW1lbnQ7CmE9PT10aGlzLnpvb21Jbkxpbms/dGhpcy5tYXAuem9vbUluKCk6YT09PXRoaXMuem9vbU91dExpbmsmJnRoaXMubWFwLnpvb21PdXQoKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMubWFwJiZ0aGlzLm1hcC5ldmVudHMudW5yZWdpc3RlcigiYnV0dG9uY2xpY2siLHRoaXMsdGhpcy5vblpvb21DbGljayk7ZGVsZXRlIHRoaXMuem9vbUluTGluaztkZWxldGUgdGhpcy56b29tT3V0TGluaztPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5ab29tIn0pO09wZW5MYXllcnMuTGF5ZXIuUG9pbnRUcmFjaz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIuVmVjdG9yLHtkYXRhRnJvbTpudWxsLHN0eWxlRnJvbTpudWxsLGFkZE5vZGVzOmZ1bmN0aW9uKGEsYil7aWYoMj5hLmxlbmd0aCl0aHJvdyBFcnJvcigiQXQgbGVhc3QgdHdvIHBvaW50IGZlYXR1cmVzIGhhdmUgdG8gYmUgYWRkZWQgdG8gY3JlYXRlIGEgbGluZSBmcm9tIik7Zm9yKHZhciBjPUFycmF5KGEubGVuZ3RoLTEpLGQsZSxmLGc9MCxoPWEubGVuZ3RoO2c8aDtnKyspe2Q9YVtnXTtpZihmPWQuZ2VvbWV0cnkpe2lmKCJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50IiE9Zi5DTEFTU19OQU1FKXRocm93IG5ldyBUeXBlRXJyb3IoIk9ubHkgZmVhdHVyZXMgd2l0aCBwb2ludCBnZW9tZXRyaWVzIGFyZSBzdXBwb3J0ZWQuIik7fWVsc2UgZj1kLmxvbmxhdCxmPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGYubG9uLGYubGF0KTtpZigwPGcpe2Q9bnVsbCE9dGhpcy5kYXRhRnJvbT8KYVtnK3RoaXMuZGF0YUZyb21dLmRhdGF8fGFbZyt0aGlzLmRhdGFGcm9tXS5hdHRyaWJ1dGVzOm51bGw7dmFyIGk9bnVsbCE9dGhpcy5zdHlsZUZyb20/YVtnK3RoaXMuc3R5bGVGcm9tXS5zdHlsZTpudWxsO2U9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZyhbZSxmXSk7Y1tnLTFdPW5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKGUsZCxpKX1lPWZ9dGhpcy5hZGRGZWF0dXJlcyhjLGIpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLlBvaW50VHJhY2sifSk7T3BlbkxheWVycy5MYXllci5Qb2ludFRyYWNrLlNPVVJDRV9OT0RFPS0xO09wZW5MYXllcnMuTGF5ZXIuUG9pbnRUcmFjay5UQVJHRVRfTk9ERT0wO09wZW5MYXllcnMuTGF5ZXIuUG9pbnRUcmFjay5kYXRhRnJvbT17U09VUkNFX05PREU6LTEsVEFSR0VUX05PREU6MH07T3BlbkxheWVycy5Qcm90b2NvbC5XRlM9ZnVuY3Rpb24oYSl7dmFyIGE9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYSxPcGVuTGF5ZXJzLlByb3RvY29sLldGUy5ERUZBVUxUUyksYj1PcGVuTGF5ZXJzLlByb3RvY29sLldGU1sidiIrYS52ZXJzaW9uLnJlcGxhY2UoL1wuL2csIl8iKV07aWYoIWIpdGhyb3ciVW5zdXBwb3J0ZWQgV0ZTIHZlcnNpb246ICIrYS52ZXJzaW9uO3JldHVybiBuZXcgYihhKX07Ck9wZW5MYXllcnMuUHJvdG9jb2wuV0ZTLmZyb21XTVNMYXllcj1mdW5jdGlvbihhLGIpe3ZhciBjLGQ7Yz1hLnBhcmFtcy5MQVlFUlM7Yz0oT3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYyk/Y1swXTpjKS5zcGxpdCgiOiIpOzE8Yy5sZW5ndGgmJihkPWNbMF0pO2M9Yy5wb3AoKTtkPXt1cmw6YS51cmwsZmVhdHVyZVR5cGU6YyxmZWF0dXJlUHJlZml4OmQsc3JzTmFtZTphLnByb2plY3Rpb24mJmEucHJvamVjdGlvbi5nZXRDb2RlKCl8fGEubWFwJiZhLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCkuZ2V0Q29kZSgpLHZlcnNpb246IjEuMS4wIn07cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLlByb3RvY29sLldGUyhPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhiLGQpKX07T3BlbkxheWVycy5Qcm90b2NvbC5XRlMuREVGQVVMVFM9e3ZlcnNpb246IjEuMC4wIn07T3BlbkxheWVycy5MYXllci5NYXJrZXJzPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllcix7aXNCYXNlTGF5ZXI6ITEsbWFya2VyczpudWxsLGRyYXduOiExLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLkxheWVyLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLm1hcmtlcnM9W119LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmNsZWFyTWFya2VycygpO3RoaXMubWFya2Vycz1udWxsO09wZW5MYXllcnMuTGF5ZXIucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzZXRPcGFjaXR5OmZ1bmN0aW9uKGEpe2lmKGEhPXRoaXMub3BhY2l0eSl7dGhpcy5vcGFjaXR5PWE7Zm9yKHZhciBhPTAsYj10aGlzLm1hcmtlcnMubGVuZ3RoO2E8YjthKyspdGhpcy5tYXJrZXJzW2FdLnNldE9wYWNpdHkodGhpcy5vcGFjaXR5KX19LG1vdmVUbzpmdW5jdGlvbihhLGIsYyl7T3BlbkxheWVycy5MYXllci5wcm90b3R5cGUubW92ZVRvLmFwcGx5KHRoaXMsCmFyZ3VtZW50cyk7aWYoYnx8IXRoaXMuZHJhd24pe2Zvcih2YXIgZD0wLGU9dGhpcy5tYXJrZXJzLmxlbmd0aDtkPGU7ZCsrKXRoaXMuZHJhd01hcmtlcih0aGlzLm1hcmtlcnNbZF0pO3RoaXMuZHJhd249ITB9fSxhZGRNYXJrZXI6ZnVuY3Rpb24oYSl7dGhpcy5tYXJrZXJzLnB1c2goYSk7MT50aGlzLm9wYWNpdHkmJmEuc2V0T3BhY2l0eSh0aGlzLm9wYWNpdHkpO3RoaXMubWFwJiZ0aGlzLm1hcC5nZXRFeHRlbnQoKSYmKGEubWFwPXRoaXMubWFwLHRoaXMuZHJhd01hcmtlcihhKSl9LHJlbW92ZU1hcmtlcjpmdW5jdGlvbihhKXt0aGlzLm1hcmtlcnMmJnRoaXMubWFya2Vycy5sZW5ndGgmJihPcGVuTGF5ZXJzLlV0aWwucmVtb3ZlSXRlbSh0aGlzLm1hcmtlcnMsYSksYS5lcmFzZSgpKX0sY2xlYXJNYXJrZXJzOmZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5tYXJrZXJzKWZvcig7MDx0aGlzLm1hcmtlcnMubGVuZ3RoOyl0aGlzLnJlbW92ZU1hcmtlcih0aGlzLm1hcmtlcnNbMF0pfSwKZHJhd01hcmtlcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm1hcC5nZXRMYXllclB4RnJvbUxvbkxhdChhLmxvbmxhdCk7bnVsbD09Yj9hLmRpc3BsYXkoITEpOmEuaXNEcmF3bigpP2EuaWNvbiYmYS5pY29uLm1vdmVUbyhiKTooYT1hLmRyYXcoYiksdGhpcy5kaXYuYXBwZW5kQ2hpbGQoYSkpfSxnZXREYXRhRXh0ZW50OmZ1bmN0aW9uKCl7dmFyIGE9bnVsbDtpZih0aGlzLm1hcmtlcnMmJjA8dGhpcy5tYXJrZXJzLmxlbmd0aClmb3IodmFyIGE9bmV3IE9wZW5MYXllcnMuQm91bmRzLGI9MCxjPXRoaXMubWFya2Vycy5sZW5ndGg7YjxjO2IrKylhLmV4dGVuZCh0aGlzLm1hcmtlcnNbYl0ubG9ubGF0KTtyZXR1cm4gYX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5NYXJrZXJzIn0pO09wZW5MYXllcnMuQ29udHJvbC5QYW49T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wuQnV0dG9uLHtzbGlkZUZhY3Rvcjo1MCxzbGlkZVJhdGlvOm51bGwsZGlyZWN0aW9uOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIpe3RoaXMuZGlyZWN0aW9uPWE7dGhpcy5DTEFTU19OQU1FKz10aGlzLmRpcmVjdGlvbjtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYl0pfSx0cmlnZ2VyOmZ1bmN0aW9uKCl7aWYodGhpcy5tYXApe3ZhciBhPU9wZW5MYXllcnMuRnVuY3Rpb24uYmluZChmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zbGlkZVJhdGlvP3RoaXMubWFwLmdldFNpemUoKVthXSp0aGlzLnNsaWRlUmF0aW86dGhpcy5zbGlkZUZhY3Rvcn0sdGhpcyk7c3dpdGNoKHRoaXMuZGlyZWN0aW9uKXtjYXNlIE9wZW5MYXllcnMuQ29udHJvbC5QYW4uTk9SVEg6dGhpcy5tYXAucGFuKDAsLWEoImgiKSk7YnJlYWs7Y2FzZSBPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuLlNPVVRIOnRoaXMubWFwLnBhbigwLAphKCJoIikpO2JyZWFrO2Nhc2UgT3BlbkxheWVycy5Db250cm9sLlBhbi5XRVNUOnRoaXMubWFwLnBhbigtYSgidyIpLDApO2JyZWFrO2Nhc2UgT3BlbkxheWVycy5Db250cm9sLlBhbi5FQVNUOnRoaXMubWFwLnBhbihhKCJ3IiksMCl9fX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLlBhbiJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuLk5PUlRIPSJOb3J0aCI7T3BlbkxheWVycy5Db250cm9sLlBhbi5TT1VUSD0iU291dGgiO09wZW5MYXllcnMuQ29udHJvbC5QYW4uRUFTVD0iRWFzdCI7T3BlbkxheWVycy5Db250cm9sLlBhbi5XRVNUPSJXZXN0IjtPcGVuTGF5ZXJzLkZvcm1hdC5DU1dHZXREb21haW49ZnVuY3Rpb24oYSl7dmFyIGE9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYSxPcGVuTGF5ZXJzLkZvcm1hdC5DU1dHZXREb21haW4uREVGQVVMVFMpLGI9T3BlbkxheWVycy5Gb3JtYXQuQ1NXR2V0RG9tYWluWyJ2IithLnZlcnNpb24ucmVwbGFjZSgvXC4vZywiXyIpXTtpZighYil0aHJvdyJVbnN1cHBvcnRlZCBDU1dHZXREb21haW4gdmVyc2lvbjogIithLnZlcnNpb247cmV0dXJuIG5ldyBiKGEpfTtPcGVuTGF5ZXJzLkZvcm1hdC5DU1dHZXREb21haW4uREVGQVVMVFM9e3ZlcnNpb246IjIuMC4yIn07T3BlbkxheWVycy5Gb3JtYXQuQ1NXR2V0RG9tYWluLnYyXzBfMj1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7bmFtZXNwYWNlczp7eGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiLGNzdzoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9jYXQvY3N3LzIuMC4yIn0sZGVmYXVsdFByZWZpeDoiY3N3Iix2ZXJzaW9uOiIyLjAuMiIsc2NoZW1hTG9jYXRpb246Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvY2F0L2Nzdy8yLjAuMiBodHRwOi8vc2NoZW1hcy5vcGVuZ2lzLm5ldC9jc3cvMi4wLjIvQ1NXLWRpc2NvdmVyeS54c2QiLFByb3BlcnR5TmFtZTpudWxsLFBhcmFtZXRlck5hbWU6bnVsbCxyZWFkOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7YSYmOT09CmEubm9kZVR5cGUmJihhPWEuZG9jdW1lbnRFbGVtZW50KTt2YXIgYj17fTt0aGlzLnJlYWROb2RlKGEsYik7cmV0dXJuIGJ9LHJlYWRlcnM6e2Nzdzp7R2V0RG9tYWluUmVzcG9uc2U6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LERvbWFpblZhbHVlczpmdW5jdGlvbihhLGIpe09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGIuRG9tYWluVmFsdWVzKXx8KGIuRG9tYWluVmFsdWVzPVtdKTtmb3IodmFyIGM9YS5hdHRyaWJ1dGVzLGQ9e30sZT0wLGY9Yy5sZW5ndGg7ZTxmOysrZSlkW2NbZV0ubmFtZV09Y1tlXS5ub2RlVmFsdWU7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGQpO2IuRG9tYWluVmFsdWVzLnB1c2goZCl9LFByb3BlcnR5TmFtZTpmdW5jdGlvbihhLGIpe2IuUHJvcGVydHlOYW1lPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sUGFyYW1ldGVyTmFtZTpmdW5jdGlvbihhLGIpe2IuUGFyYW1ldGVyTmFtZT10aGlzLmdldENoaWxkVmFsdWUoYSl9LExpc3RPZlZhbHVlczpmdW5jdGlvbihhLApiKXtPcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShiLkxpc3RPZlZhbHVlcyl8fChiLkxpc3RPZlZhbHVlcz1bXSk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuTGlzdE9mVmFsdWVzKX0sVmFsdWU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9YS5hdHRyaWJ1dGVzLGQ9e30sZT0wLGY9Yy5sZW5ndGg7ZTxmOysrZSlkW2NbZV0ubmFtZV09Y1tlXS5ub2RlVmFsdWU7ZC52YWx1ZT10aGlzLmdldENoaWxkVmFsdWUoYSk7Yi5wdXNoKHtWYWx1ZTpkfSl9LENvbmNlcHR1YWxTY2hlbWU6ZnVuY3Rpb24oYSxiKXtiLkNvbmNlcHR1YWxTY2hlbWU9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuQ29uY2VwdHVhbFNjaGVtZSl9LE5hbWU6ZnVuY3Rpb24oYSxiKXtiLk5hbWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxEb2N1bWVudDpmdW5jdGlvbihhLGIpe2IuRG9jdW1lbnQ9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxBdXRob3JpdHk6ZnVuY3Rpb24oYSxiKXtiLkF1dGhvcml0eT10aGlzLmdldENoaWxkVmFsdWUoYSl9LApSYW5nZU9mVmFsdWVzOmZ1bmN0aW9uKGEsYil7Yi5SYW5nZU9mVmFsdWVzPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLlJhbmdlT2ZWYWx1ZXMpfSxNaW5WYWx1ZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1hLmF0dHJpYnV0ZXMsZD17fSxlPTAsZj1jLmxlbmd0aDtlPGY7KytlKWRbY1tlXS5uYW1lXT1jW2VdLm5vZGVWYWx1ZTtkLnZhbHVlPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKTtiLk1pblZhbHVlPWR9LE1heFZhbHVlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWEuYXR0cmlidXRlcyxkPXt9LGU9MCxmPWMubGVuZ3RoO2U8ZjsrK2UpZFtjW2VdLm5hbWVdPWNbZV0ubm9kZVZhbHVlO2QudmFsdWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpO2IuTWF4VmFsdWU9ZH19fSx3cml0ZTpmdW5jdGlvbihhKXthPXRoaXMud3JpdGVOb2RlKCJjc3c6R2V0RG9tYWluIixhKTtyZXR1cm4gT3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS53cml0ZS5hcHBseSh0aGlzLFthXSl9LHdyaXRlcnM6e2Nzdzp7R2V0RG9tYWluOmZ1bmN0aW9uKGEpe3ZhciBiPQp0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImNzdzpHZXREb21haW4iLHthdHRyaWJ1dGVzOntzZXJ2aWNlOiJDU1ciLHZlcnNpb246dGhpcy52ZXJzaW9ufX0pO2lmKGEuUHJvcGVydHlOYW1lfHx0aGlzLlByb3BlcnR5TmFtZSl0aGlzLndyaXRlTm9kZSgiY3N3OlByb3BlcnR5TmFtZSIsYS5Qcm9wZXJ0eU5hbWV8fHRoaXMuUHJvcGVydHlOYW1lLGIpO2Vsc2UgaWYoYS5QYXJhbWV0ZXJOYW1lfHx0aGlzLlBhcmFtZXRlck5hbWUpdGhpcy53cml0ZU5vZGUoImNzdzpQYXJhbWV0ZXJOYW1lIixhLlBhcmFtZXRlck5hbWV8fHRoaXMuUGFyYW1ldGVyTmFtZSxiKTt0aGlzLnJlYWRDaGlsZE5vZGVzKGIsYSk7cmV0dXJuIGJ9LFByb3BlcnR5TmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJjc3c6UHJvcGVydHlOYW1lIix7dmFsdWU6YX0pfSxQYXJhbWV0ZXJOYW1lOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImNzdzpQYXJhbWV0ZXJOYW1lIiwKe3ZhbHVlOmF9KX19fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5DU1dHZXREb21haW4udjJfMF8yIn0pO09wZW5MYXllcnMuRm9ybWF0LkFyY1hNTC5GZWF0dXJlcz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7cmVhZDpmdW5jdGlvbihhKXtyZXR1cm4obmV3IE9wZW5MYXllcnMuRm9ybWF0LkFyY1hNTCkucmVhZChhKS5mZWF0dXJlcy5mZWF0dXJlfX0pO09wZW5MYXllcnMuTGFuZy5nc3c9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3VuaGFuZGxlZFJlcXVlc3Q6Ik5pdCBiZWhhbmRsZXRpIEFhZnJvZ3NydWNrbVx1MDBlNGxkaWcgJHtzdGF0dXNUZXh0fSIsUGVybWFsaW5rOiJQZXJtYWxpbmsiLE92ZXJsYXlzOiJJYmVybGFnZXJpZ2UiLCJCYXNlIExheWVyIjoiR3J1bmRjaGFydGUiLG5vRklEOiJFIEZlYXR1cmUsIHd1IHMga2VpIEZJRCBkZXJmaXIgZ2l0LCBjaGEgbml0IGFrdHVhbGlzaWVydCB3XHUwMGU0cmUuIixicm93c2VyTm90U3VwcG9ydGVkOiJEeXkgQnJvd3NlciB1bnRlcnN0aXR6dCBrZWkgVmVrdG9yZGFyc3RlbGxpZy4gQWt0dVx1MDBlNGxsIHVudGVyc3RpdHp0aSBSZW5kZXJlcjpcbiR7cmVuZGVyZXJzfSIsbWluWm9vbUxldmVsRXJyb3I6IkQgbWluWm9vbUxldmVsLUVpZ2VzY2hhZnQgaXNjaCBudW1lIGRcdTAwZTRuayBmaXIgZCBMYXllciwgd3UgdnUgZHIgRml4ZWRab29tTGV2ZWxzIGFic3RhbW1lLiBBc3MgZFx1MDBlNFx1MDBlNCB3ZnMtTGF5ZXIgbWluWm9vbUxldmVsIHByaWVmdCwgc2NpaCBlIFJlbGlrdCB1cyBkciBWZXJnYW5nZWhlaXQuIE1pciBjaGVubmUgcyBhYmVyIG5pdCBcdTAwZTRuZGVyZSBvaG5pIE9MX2Jhc2llcnRpIEFhd1x1MDBlNG5kaWdlIHZpbGxpY2h0IGthcHV0dCBnZWhuLCB3dSBkZXJ2dSBhYmhcdTAwZTRuZ2UuICBVcyBkXHUwMGU0bSBHcnVuZCBoZXQgZGllIEZ1bmt0aW9uIGQgRWlnZXNjaGFmdCAnZGVwcmVjYXRlZCcgaWJlcmNodXUuIEQgbWluWm9vbUxldmVsLVByaWVmaWcgdW50ZSB3aXJkIGluIGRyIFZlcnNpb24gMy4wIHVzZWdudXUuIEJpdHRlIHZlcndcdTAwZTRuZCBzdGF0dCBkXHUwMGU0bSBlIG1pbi9tYXgtVWZsZXNpZyB3aWUgcyBkbyBic2NocmliZW4gaXNjaDogaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyIsCmNvbW1pdFN1Y2Nlc3M6IldGUy1UcmFuc2FrdGlvbjogRVJGT0xHUllDSCAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJXRlMtVHJhbnNha3Rpb246IEZcdTAwYzRITEdTQ0hMQUEgJHtyZXNwb25zZX0iLGdvb2dsZVdhcm5pbmc6IkRyIEdvb2dsZS1MYXllciBoZXQgbml0IGtvcnJcdTAwZTRrdCBjaGVubmUgZ2xhZGUgd1x1MDBlNHJlLjxicj48YnI+R28gZGllIE1cdTAwZTRsZGlnIG5pbWkgeiBrcmllZ2UsIHdlaGwgZSBhbmRlcmUgSGludGVyZ3J1bmRsYXllciB1cyBlbSBMYXllclN3aXRjaGVyIGltIHJcdTAwZTRjaHRlIG9iZXJlIEVja2UuPGJyPjxicj5EXHUwMGU0XHUwMGU0IEZcdTAwZTRobGVyIGdpdCBzIHNlbGkgaHlmaWcsIHdlbCBzIFNrcmlwdCB2dSBkciBHb29nbGUtTWFwcy1CaWJsaW90aGVrIG5pdCB5eWJ1bmRlIHdvcmVuIGlzY2ggb2RlciB3ZWwgcyBrZWkgZ2lsdGlnZSBBUEktU2NobGlzc2VsIGZpciBEeXkgVVJMIGRpbiBoZXQuPGJyPjxicj5FbnR3aWNrbGVyOiBGaXIgSGlsZiB6dW0ga29yclx1MDBlNGt0ZSBZeWJpbmRlIHZ1bSBHb29nbGUtTGF5ZXIgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9Hb29nbGUnIHRhcmdldD0nX2JsYW5rJz5kb28gZHJ1Y2tlPC9hPiIsCmdldExheWVyV2FybmluZzoiRHIgJHtsYXllclR5cGV9LUxheWVyIGhldCBuaXQga29yclx1MDBlNGt0IGNoZW5uZSBnbGFkZSB3XHUwMGU0cmUuPGJyPjxicj5HbyBkaWUgTVx1MDBlNGxkaWcgbmltaSB6IGtyaWVnZSwgd2VobCBlIGFuZGVyZSBIaW50ZXJncnVuZGxheWVyIHVzIGVtIExheWVyU3dpdGNoZXIgaW0gclx1MDBlNGNodGUgb2JlcmUgRWNrZS48YnI+PGJyPkRcdTAwZTRcdTAwZTQgRlx1MDBlNGhsZXIgZ2l0IHMgc2VsaSBoeWZpZywgd2VsIHMgU2tyaXB0IHZ1IGRyICcke2xheWVyTGlifSctQmlibGlvdGhlayBuaXQgeXlidW5kZSB3b3JlbiBpc2NoIG9kZXIgd2VsIHMga2VpIGdpbHRpZ2UgQVBJLVNjaGxpc3NlbCBmaXIgRHl5IFVSTCBkaW4gaGV0Ljxicj48YnI+RW50d2lja2xlcjogRmlyIEhpbGYgenVtIGtvcnJcdTAwZTRrdGUgWXliaW5kZSB2dSBMYXllciA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+ZG9vIGRydWNrZTwvYT4iLAoiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6Ik1hXHUwMGRmc3RhYiA9IDEgOiAke3NjYWxlRGVub219IixXOiJXIixFOiJPIixOOiJOIixTOiJTIixyZXByb2plY3REZXByZWNhdGVkOiJEdSBicnVjaHNjaCBkICdyZXByb2plY3QnLU9wdGlvbiBiaW0gJHtsYXllck5hbWV9LUxheWVyLiBEaWUgT3B0aW9uIGlzY2ggbmltaSBnaWx0aWc6IHNpIGlzY2ggYWFnbGVpdCB3b3JlIGdvICAgRGF0ZSBpYmVyIGtvbW1lcnppXHUwMGU0bGxpIEdydW5kY2hhcnRlIGxlZ2UsIGFiZXIgZGVzIHNvdHQgbWVyIGpldHogbWFjaGUgbWl0IGRyIFVudGVyc3RpdHppZyB2dSBTcGhlcmljYWwgTWVyY2F0b3IuIE1laCBJbmZvcm1hdGlvbmUgZ2l0IHMgdWYgaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TcGhlcmljYWxNZXJjYXRvci4iLG1ldGhvZERlcHJlY2F0ZWQ6IkRpZSBNZXRob2RlIGlzY2ggdmVyYWx0ZXQgdW4gd2lyZCB1cyBkciBWZXJzaW9uIDMuMCB1c2VnbnV1LiBCaXR0ZSB2ZXJ3XHUwMGU0Ym5kIHN0YXR0IGRcdTAwZTRtICR7bmV3TWV0aG9kfS4ifSk7T3BlbkxheWVycy5Db250cm9sLlNuYXBwaW5nPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHtERUZBVUxUUzp7dG9sZXJhbmNlOjEwLG5vZGU6ITAsZWRnZTohMCx2ZXJ0ZXg6ITB9LGdyZWVkeTohMCxwcmVjZWRlbmNlOlsibm9kZSIsInZlcnRleCIsImVkZ2UiXSxyZXNvbHV0aW9uOm51bGwsZ2VvVG9sZXJhbmNlQ2FjaGU6bnVsbCxsYXllcjpudWxsLGZlYXR1cmU6bnVsbCxwb2ludDpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKTt0aGlzLm9wdGlvbnM9YXx8e307dGhpcy5vcHRpb25zLmxheWVyJiZ0aGlzLnNldExheWVyKHRoaXMub3B0aW9ucy5sYXllcik7YT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucy5kZWZhdWx0cyk7dGhpcy5kZWZhdWx0cz1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLHRoaXMuREVGQVVMVFMpO3RoaXMuc2V0VGFyZ2V0cyh0aGlzLm9wdGlvbnMudGFyZ2V0cyk7CjA9PT10aGlzLnRhcmdldHMubGVuZ3RoJiZ0aGlzLmxheWVyJiZ0aGlzLmFkZFRhcmdldExheWVyKHRoaXMubGF5ZXIpO3RoaXMuZ2VvVG9sZXJhbmNlQ2FjaGU9e319LHNldExheWVyOmZ1bmN0aW9uKGEpe3RoaXMuYWN0aXZlPyh0aGlzLmRlYWN0aXZhdGUoKSx0aGlzLmxheWVyPWEsdGhpcy5hY3RpdmF0ZSgpKTp0aGlzLmxheWVyPWF9LHNldFRhcmdldHM6ZnVuY3Rpb24oYSl7dGhpcy50YXJnZXRzPVtdO2lmKGEmJmEubGVuZ3RoKWZvcih2YXIgYixjPTAsZD1hLmxlbmd0aDtjPGQ7KytjKWI9YVtjXSxiIGluc3RhbmNlb2YgT3BlbkxheWVycy5MYXllci5WZWN0b3I/dGhpcy5hZGRUYXJnZXRMYXllcihiKTp0aGlzLmFkZFRhcmdldChiKX0sYWRkVGFyZ2V0TGF5ZXI6ZnVuY3Rpb24oYSl7dGhpcy5hZGRUYXJnZXQoe2xheWVyOmF9KX0sYWRkVGFyZ2V0OmZ1bmN0aW9uKGEpe2E9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYSx0aGlzLmRlZmF1bHRzKTthLm5vZGVUb2xlcmFuY2U9CmEubm9kZVRvbGVyYW5jZXx8YS50b2xlcmFuY2U7YS52ZXJ0ZXhUb2xlcmFuY2U9YS52ZXJ0ZXhUb2xlcmFuY2V8fGEudG9sZXJhbmNlO2EuZWRnZVRvbGVyYW5jZT1hLmVkZ2VUb2xlcmFuY2V8fGEudG9sZXJhbmNlO3RoaXMudGFyZ2V0cy5wdXNoKGEpfSxyZW1vdmVUYXJnZXRMYXllcjpmdW5jdGlvbihhKXtmb3IodmFyIGIsYz10aGlzLnRhcmdldHMubGVuZ3RoLTE7MDw9YzstLWMpYj10aGlzLnRhcmdldHNbY10sYi5sYXllcj09PWEmJnRoaXMucmVtb3ZlVGFyZ2V0KGIpfSxyZW1vdmVUYXJnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIE9wZW5MYXllcnMuVXRpbC5yZW1vdmVJdGVtKHRoaXMudGFyZ2V0cyxhKX0sYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgYT1PcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmFjdGl2YXRlLmNhbGwodGhpcyk7aWYoYSYmdGhpcy5sYXllciYmdGhpcy5sYXllci5ldmVudHMpdGhpcy5sYXllci5ldmVudHMub24oe3NrZXRjaHN0YXJ0ZWQ6dGhpcy5vblNrZXRjaE1vZGlmaWVkLApza2V0Y2htb2RpZmllZDp0aGlzLm9uU2tldGNoTW9kaWZpZWQsdmVydGV4bW9kaWZpZWQ6dGhpcy5vblZlcnRleE1vZGlmaWVkLHNjb3BlOnRoaXN9KTtyZXR1cm4gYX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPU9wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZGVhY3RpdmF0ZS5jYWxsKHRoaXMpO2EmJnRoaXMubGF5ZXImJnRoaXMubGF5ZXIuZXZlbnRzJiZ0aGlzLmxheWVyLmV2ZW50cy51bih7c2tldGNoc3RhcnRlZDp0aGlzLm9uU2tldGNoTW9kaWZpZWQsc2tldGNobW9kaWZpZWQ6dGhpcy5vblNrZXRjaE1vZGlmaWVkLHZlcnRleG1vZGlmaWVkOnRoaXMub25WZXJ0ZXhNb2RpZmllZCxzY29wZTp0aGlzfSk7dGhpcy5wb2ludD10aGlzLmZlYXR1cmU9bnVsbDtyZXR1cm4gYX0sb25Ta2V0Y2hNb2RpZmllZDpmdW5jdGlvbihhKXt0aGlzLmZlYXR1cmU9YS5mZWF0dXJlO3RoaXMuY29uc2lkZXJTbmFwcGluZyhhLnZlcnRleCxhLnZlcnRleCl9LG9uVmVydGV4TW9kaWZpZWQ6ZnVuY3Rpb24oYSl7dGhpcy5mZWF0dXJlPQphLmZlYXR1cmU7dmFyIGI9dGhpcy5sYXllci5tYXAuZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHgoYS5waXhlbCk7dGhpcy5jb25zaWRlclNuYXBwaW5nKGEudmVydGV4LG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGIubG9uLGIubGF0KSl9LGNvbnNpZGVyU25hcHBpbmc6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9e3Jhbms6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGRpc3Q6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLHg6bnVsbCx5Om51bGx9LGQ9ITEsZSxmLGc9MCxoPXRoaXMudGFyZ2V0cy5sZW5ndGg7ZzxoOysrZylpZihmPXRoaXMudGFyZ2V0c1tnXSxlPXRoaXMudGVzdFRhcmdldChmLGIpKWlmKHRoaXMuZ3JlZWR5KXtjPWU7Yy50YXJnZXQ9ZjtkPSEwO2JyZWFrfWVsc2UgaWYoZS5yYW5rPGMucmFua3x8ZS5yYW5rPT09Yy5yYW5rJiZlLmRpc3Q8Yy5kaXN0KWM9ZSxjLnRhcmdldD1mLGQ9ITA7ZCYmKCExIT09dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJiZWZvcmVzbmFwIiwKe3BvaW50OmEseDpjLngseTpjLnksZGlzdGFuY2U6Yy5kaXN0LGxheWVyOmMudGFyZ2V0LmxheWVyLHNuYXBUeXBlOnRoaXMucHJlY2VkZW5jZVtjLnJhbmtdfSk/KGEueD1jLngsYS55PWMueSx0aGlzLnBvaW50PWEsdGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJzbmFwIix7cG9pbnQ6YSxzbmFwVHlwZTp0aGlzLnByZWNlZGVuY2VbYy5yYW5rXSxsYXllcjpjLnRhcmdldC5sYXllcixkaXN0YW5jZTpjLmRpc3R9KSk6ZD0hMSk7dGhpcy5wb2ludCYmIWQmJihhLng9Yi54LGEueT1iLnksdGhpcy5wb2ludD1udWxsLHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgidW5zbmFwIix7cG9pbnQ6YX0pKX0sdGVzdFRhcmdldDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMubGF5ZXIubWFwLmdldFJlc29sdXRpb24oKTtpZigibWluUmVzb2x1dGlvbiJpbiBhJiZjPGEubWluUmVzb2x1dGlvbnx8Im1heFJlc29sdXRpb24iaW4gYSYmYz49YS5tYXhSZXNvbHV0aW9uKXJldHVybiBudWxsO2Zvcih2YXIgYz0Ke25vZGU6dGhpcy5nZXRHZW9Ub2xlcmFuY2UoYS5ub2RlVG9sZXJhbmNlLGMpLHZlcnRleDp0aGlzLmdldEdlb1RvbGVyYW5jZShhLnZlcnRleFRvbGVyYW5jZSxjKSxlZGdlOnRoaXMuZ2V0R2VvVG9sZXJhbmNlKGEuZWRnZVRvbGVyYW5jZSxjKX0sZD1NYXRoLm1heChjLm5vZGUsYy52ZXJ0ZXgsYy5lZGdlKSxlPXtyYW5rOk51bWJlci5QT1NJVElWRV9JTkZJTklUWSxkaXN0Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWX0sZj0hMSxnPWEubGF5ZXIuZmVhdHVyZXMsaCxpLGosayxsLG0sbj10aGlzLnByZWNlZGVuY2UubGVuZ3RoLHA9bmV3IE9wZW5MYXllcnMuTG9uTGF0KGIueCxiLnkpLHE9MCxyPWcubGVuZ3RoO3E8cjsrK3EpaWYoaD1nW3FdLGghPT10aGlzLmZlYXR1cmUmJighaC5fc2tldGNoJiZoLnN0YXRlIT09T3BlbkxheWVycy5TdGF0ZS5ERUxFVEUmJighYS5maWx0ZXJ8fGEuZmlsdGVyLmV2YWx1YXRlKGgpKSkmJmguYXRQb2ludChwLGQsZCkpZm9yKHZhciBzPTAsdD1NYXRoLm1pbihlLnJhbmsrCjEsbik7czx0OysrcylpZihpPXRoaXMucHJlY2VkZW5jZVtzXSxhW2ldKWlmKCJlZGdlIj09PWkpe2lmKGo9aC5nZW9tZXRyeS5kaXN0YW5jZVRvKGIse2RldGFpbHM6ITB9KSxsPWouZGlzdGFuY2UsbDw9Y1tpXSYmbDxlLmRpc3Qpe2U9e3Jhbms6cyxkaXN0OmwseDpqLngwLHk6ai55MH07Zj0hMDticmVha319ZWxzZXtqPWguZ2VvbWV0cnkuZ2V0VmVydGljZXMoIm5vZGUiPT09aSk7bT0hMTtmb3IodmFyIHU9MCx2PWoubGVuZ3RoO3U8djsrK3UpaWYoaz1qW3VdLGw9ay5kaXN0YW5jZVRvKGIpLGw8PWNbaV0mJihzPGUucmFua3x8cz09PWUucmFuayYmbDxlLmRpc3QpKWU9e3Jhbms6cyxkaXN0OmwseDprLngseTprLnl9LG09Zj0hMDtpZihtKWJyZWFrfXJldHVybiBmP2U6bnVsbH0sZ2V0R2VvVG9sZXJhbmNlOmZ1bmN0aW9uKGEsYil7YiE9PXRoaXMucmVzb2x1dGlvbiYmKHRoaXMucmVzb2x1dGlvbj1iLHRoaXMuZ2VvVG9sZXJhbmNlQ2FjaGU9e30pO3ZhciBjPXRoaXMuZ2VvVG9sZXJhbmNlQ2FjaGVbYV07CnZvaWQgMD09PWMmJihjPWEqYix0aGlzLmdlb1RvbGVyYW5jZUNhY2hlW2FdPWMpO3JldHVybiBjfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5hY3RpdmUmJnRoaXMuZGVhY3RpdmF0ZSgpO2RlbGV0ZSB0aGlzLmxheWVyO2RlbGV0ZSB0aGlzLnRhcmdldHM7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5TbmFwcGluZyJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24udjFfMV8wPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuT1dTQ29tbW9uLnYxLHtuYW1lc3BhY2VzOntvd3M6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvb3dzLzEuMSIseGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsifSxyZWFkZXJzOntvd3M6T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe0V4Y2VwdGlvblJlcG9ydDpmdW5jdGlvbihhLGIpe2IuZXhjZXB0aW9uUmVwb3J0PXt2ZXJzaW9uOmEuZ2V0QXR0cmlidXRlKCJ2ZXJzaW9uIiksbGFuZ3VhZ2U6YS5nZXRBdHRyaWJ1dGUoInhtbDpsYW5nIiksZXhjZXB0aW9uczpbXX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuZXhjZXB0aW9uUmVwb3J0KX0sQWxsb3dlZFZhbHVlczpmdW5jdGlvbihhLGIpe2IuYWxsb3dlZFZhbHVlcz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5hbGxvd2VkVmFsdWVzKX0sQW55VmFsdWU6ZnVuY3Rpb24oYSxiKXtiLmFueVZhbHVlPQohMH0sRGF0YVR5cGU6ZnVuY3Rpb24oYSxiKXtiLmRhdGFUeXBlPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sUmFuZ2U6ZnVuY3Rpb24oYSxiKXtiLnJhbmdlPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnJhbmdlKX0sTWluaW11bVZhbHVlOmZ1bmN0aW9uKGEsYil7Yi5taW5WYWx1ZT10aGlzLmdldENoaWxkVmFsdWUoYSl9LE1heGltdW1WYWx1ZTpmdW5jdGlvbihhLGIpe2IubWF4VmFsdWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxJZGVudGlmaWVyOmZ1bmN0aW9uKGEsYil7Yi5pZGVudGlmaWVyPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sU3VwcG9ydGVkQ1JTOmZ1bmN0aW9uKGEsYil7Yi5zdXBwb3J0ZWRDUlM9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfX0sT3BlbkxheWVycy5Gb3JtYXQuT1dTQ29tbW9uLnYxLnByb3RvdHlwZS5yZWFkZXJzLm93cyl9LHdyaXRlcnM6e293czpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7UmFuZ2U6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvd3M6UmFuZ2UiLAp7YXR0cmlidXRlczp7Im93czpyYW5nZUNsb3N1cmUiOmEuY2xvc3VyZX19KTt0aGlzLndyaXRlTm9kZSgib3dzOk1pbmltdW1WYWx1ZSIsYS5taW5WYWx1ZSxiKTt0aGlzLndyaXRlTm9kZSgib3dzOk1heGltdW1WYWx1ZSIsYS5tYXhWYWx1ZSxiKTtyZXR1cm4gYn0sTWluaW11bVZhbHVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIm93czpNaW5pbXVtVmFsdWUiLHt2YWx1ZTphfSl9LE1heGltdW1WYWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvd3M6TWF4aW11bVZhbHVlIix7dmFsdWU6YX0pfSxWYWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvd3M6VmFsdWUiLHt2YWx1ZTphfSl9fSxPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24udjEucHJvdG90eXBlLndyaXRlcnMub3dzKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuT1dTQ29tbW9uLnYxXzFfMCJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5XQ1NHZXRDb3ZlcmFnZT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7bmFtZXNwYWNlczp7b3dzOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L293cy8xLjEiLHdjczoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC93Y3MvMS4xIix4bGluazoiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIseHNpOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSJ9LHJlZ0V4ZXM6e3RyaW1TcGFjZTovXlxzKnxccyokL2cscmVtb3ZlU3BhY2U6L1xzKi9nLHNwbGl0U3BhY2U6L1xzKy8sdHJpbUNvbW1hOi9ccyosXHMqL2d9LFZFUlNJT046IjEuMS4yIixzY2hlbWFMb2NhdGlvbjoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC93Y3MvMS4xIGh0dHA6Ly9zY2hlbWFzLm9wZW5naXMubmV0L3djcy8xLjEvd2NzR2V0Q292ZXJhZ2UueHNkIix3cml0ZTpmdW5jdGlvbihhKXthPXRoaXMud3JpdGVOb2RlKCJ3Y3M6R2V0Q292ZXJhZ2UiLAphKTt0aGlzLnNldEF0dHJpYnV0ZU5TKGEsdGhpcy5uYW1lc3BhY2VzLnhzaSwieHNpOnNjaGVtYUxvY2F0aW9uIix0aGlzLnNjaGVtYUxvY2F0aW9uKTtyZXR1cm4gT3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS53cml0ZS5hcHBseSh0aGlzLFthXSl9LHdyaXRlcnM6e3djczp7R2V0Q292ZXJhZ2U6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3Y3M6R2V0Q292ZXJhZ2UiLHthdHRyaWJ1dGVzOnt2ZXJzaW9uOmEudmVyc2lvbnx8dGhpcy5WRVJTSU9OLHNlcnZpY2U6IldDUyJ9fSk7dGhpcy53cml0ZU5vZGUoIm93czpJZGVudGlmaWVyIixhLmlkZW50aWZpZXIsYik7dGhpcy53cml0ZU5vZGUoIndjczpEb21haW5TdWJzZXQiLGEuZG9tYWluU3Vic2V0LGIpO3RoaXMud3JpdGVOb2RlKCJ3Y3M6T3V0cHV0IixhLm91dHB1dCxiKTtyZXR1cm4gYn0sRG9tYWluU3Vic2V0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid2NzOkRvbWFpblN1YnNldCIsCnt9KTt0aGlzLndyaXRlTm9kZSgib3dzOkJvdW5kaW5nQm94IixhLmJvdW5kaW5nQm94LGIpO2EudGVtcG9yYWxTdWJzZXQmJnRoaXMud3JpdGVOb2RlKCJ3Y3M6VGVtcG9yYWxTdWJzZXQiLGEudGVtcG9yYWxTdWJzZXQsYik7cmV0dXJuIGJ9LFRlbXBvcmFsU3Vic2V0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIndjczpUZW1wb3JhbFN1YnNldCIse30pLGM9MCxkPWEudGltZVBlcmlvZHMubGVuZ3RoO2M8ZDsrK2MpdGhpcy53cml0ZU5vZGUoIndjczpUaW1lUGVyaW9kIixhLnRpbWVQZXJpb2RzW2NdLGIpO3JldHVybiBifSxUaW1lUGVyaW9kOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid2NzOlRpbWVQZXJpb2QiLHt9KTt0aGlzLndyaXRlTm9kZSgid2NzOkJlZ2luUG9zaXRpb24iLGEuYmVnaW4sYik7dGhpcy53cml0ZU5vZGUoIndjczpFbmRQb3NpdGlvbiIsYS5lbmQsYik7YS5yZXNvbHV0aW9uJiZ0aGlzLndyaXRlTm9kZSgid2NzOlRpbWVSZXNvbHV0aW9uIiwKYS5yZXNvbHV0aW9uLGIpO3JldHVybiBifSxCZWdpblBvc2l0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIndjczpCZWdpblBvc2l0aW9uIix7dmFsdWU6YX0pfSxFbmRQb3NpdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3Y3M6RW5kUG9zaXRpb24iLHt2YWx1ZTphfSl9LFRpbWVSZXNvbHV0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIndjczpUaW1lUmVzb2x1dGlvbiIse3ZhbHVlOmF9KX0sT3V0cHV0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid2NzOk91dHB1dCIse2F0dHJpYnV0ZXM6e2Zvcm1hdDphLmZvcm1hdCxzdG9yZTphLnN0b3JlfX0pO2EuZ3JpZENSUyYmdGhpcy53cml0ZU5vZGUoIndjczpHcmlkQ1JTIixhLmdyaWRDUlMsYik7cmV0dXJuIGJ9LEdyaWRDUlM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3Y3M6R3JpZENSUyIsCnt9KTt0aGlzLndyaXRlTm9kZSgid2NzOkdyaWRCYXNlQ1JTIixhLmJhc2VDUlMsYik7YS50eXBlJiZ0aGlzLndyaXRlTm9kZSgid2NzOkdyaWRUeXBlIixhLnR5cGUsYik7YS5vcmlnaW4mJnRoaXMud3JpdGVOb2RlKCJ3Y3M6R3JpZE9yaWdpbiIsYS5vcmlnaW4sYik7dGhpcy53cml0ZU5vZGUoIndjczpHcmlkT2Zmc2V0cyIsYS5vZmZzZXRzLGIpO2EuQ1MmJnRoaXMud3JpdGVOb2RlKCJ3Y3M6R3JpZENTIixhLkNTLGIpO3JldHVybiBifSxHcmlkQmFzZUNSUzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3Y3M6R3JpZEJhc2VDUlMiLHt2YWx1ZTphfSl9LEdyaWRPcmlnaW46ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid2NzOkdyaWRPcmlnaW4iLHt2YWx1ZTphfSl9LEdyaWRUeXBlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIndjczpHcmlkVHlwZSIse3ZhbHVlOmF9KX0sR3JpZE9mZnNldHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid2NzOkdyaWRPZmZzZXRzIiwKe3ZhbHVlOmF9KX0sR3JpZENTOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIndjczpHcmlkQ1MiLHt2YWx1ZTphfSl9fSxvd3M6T3BlbkxheWVycy5Gb3JtYXQuT1dTQ29tbW9uLnYxXzFfMC5wcm90b3R5cGUud3JpdGVycy5vd3N9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LldDU0dldENvdmVyYWdlIn0pO09wZW5MYXllcnMuRm9ybWF0LktNTD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7bmFtZXNwYWNlczp7a21sOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2ttbC8yLjIiLGd4OiJodHRwOi8vd3d3Lmdvb2dsZS5jb20va21sL2V4dC8yLjIifSxrbWxuczoiaHR0cDovL2VhcnRoLmdvb2dsZS5jb20va21sLzIuMCIscGxhY2VtYXJrc0Rlc2M6Ik5vIGRlc2NyaXB0aW9uIGF2YWlsYWJsZSIsZm9sZGVyc05hbWU6Ik9wZW5MYXllcnMgZXhwb3J0Iixmb2xkZXJzRGVzYzoiRXhwb3J0ZWQgb24gIituZXcgRGF0ZSxleHRyYWN0QXR0cmlidXRlczohMCxrdnBBdHRyaWJ1dGVzOiExLGV4dHJhY3RTdHlsZXM6ITEsZXh0cmFjdFRyYWNrczohMSx0cmFja0F0dHJpYnV0ZXM6bnVsbCxpbnRlcm5hbG5zOm51bGwsZmVhdHVyZXM6bnVsbCxzdHlsZXM6bnVsbCxzdHlsZUJhc2VVcmw6IiIsZmV0Y2hlZDpudWxsLG1heERlcHRoOjAsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXt0aGlzLnJlZ0V4ZXM9Cnt0cmltU3BhY2U6L15ccyp8XHMqJC9nLHJlbW92ZVNwYWNlOi9ccyovZyxzcGxpdFNwYWNlOi9ccysvLHRyaW1Db21tYTovXHMqLFxzKi9nLGttbENvbG9yOi8oXHd7Mn0pKFx3ezJ9KShcd3syfSkoXHd7Mn0pLyxrbWxJY29uUGFsZXR0ZTovcm9vdDpcL1wvaWNvbnNcL3BhbGV0dGUtKFxkKykoXC5cdyspLyxzdHJhaWdodEJyYWNrZXQ6L1wkXFsoLio/KVxdL2d9O3RoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uPW5ldyBPcGVuTGF5ZXJzLlByb2plY3Rpb24oIkVQU0c6NDMyNiIpO09wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSl9LHJlYWQ6ZnVuY3Rpb24oYSl7dGhpcy5mZWF0dXJlcz1bXTt0aGlzLnN0eWxlcz17fTt0aGlzLmZldGNoZWQ9e307cmV0dXJuIHRoaXMucGFyc2VEYXRhKGEse2RlcHRoOjAsc3R5bGVCYXNlVXJsOnRoaXMuc3R5bGVCYXNlVXJsfSl9LHBhcnNlRGF0YTpmdW5jdGlvbihhLGIpeyJzdHJpbmciPT10eXBlb2YgYSYmCihhPU9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUucmVhZC5hcHBseSh0aGlzLFthXSkpO2Zvcih2YXIgYz1bIkxpbmsiLCJOZXR3b3JrTGluayIsIlN0eWxlIiwiU3R5bGVNYXAiLCJQbGFjZW1hcmsiXSxkPTAsZT1jLmxlbmd0aDtkPGU7KytkKXt2YXIgZj1jW2RdLGc9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsIioiLGYpO2lmKDAhPWcubGVuZ3RoKXN3aXRjaChmLnRvTG93ZXJDYXNlKCkpe2Nhc2UgImxpbmsiOmNhc2UgIm5ldHdvcmtsaW5rIjp0aGlzLnBhcnNlTGlua3MoZyxiKTticmVhaztjYXNlICJzdHlsZSI6dGhpcy5leHRyYWN0U3R5bGVzJiZ0aGlzLnBhcnNlU3R5bGVzKGcsYik7YnJlYWs7Y2FzZSAic3R5bGVtYXAiOnRoaXMuZXh0cmFjdFN0eWxlcyYmdGhpcy5wYXJzZVN0eWxlTWFwcyhnLGIpO2JyZWFrO2Nhc2UgInBsYWNlbWFyayI6dGhpcy5wYXJzZUZlYXR1cmVzKGcsYil9fXJldHVybiB0aGlzLmZlYXR1cmVzfSxwYXJzZUxpbmtzOmZ1bmN0aW9uKGEsCmIpe2lmKGIuZGVwdGg+PXRoaXMubWF4RGVwdGgpcmV0dXJuITE7dmFyIGM9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSxiKTtjLmRlcHRoKys7Zm9yKHZhciBkPTAsZT1hLmxlbmd0aDtkPGU7ZCsrKXt2YXIgZj10aGlzLnBhcnNlUHJvcGVydHkoYVtkXSwiKiIsImhyZWYiKTtmJiYhdGhpcy5mZXRjaGVkW2ZdJiYodGhpcy5mZXRjaGVkW2ZdPSEwLChmPXRoaXMuZmV0Y2hMaW5rKGYpKSYmdGhpcy5wYXJzZURhdGEoZixjKSl9fSxmZXRjaExpbms6ZnVuY3Rpb24oYSl7aWYoYT1PcGVuTGF5ZXJzLlJlcXVlc3QuR0VUKHt1cmw6YSxhc3luYzohMX0pKXJldHVybiBhLnJlc3BvbnNlVGV4dH0scGFyc2VTdHlsZXM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2M8ZDtjKyspe3ZhciBlPXRoaXMucGFyc2VTdHlsZShhW2NdKTtlJiYodGhpcy5zdHlsZXNbKGIuc3R5bGVCYXNlVXJsfHwiIikrIiMiK2UuaWRdPWUpfX0scGFyc2VLbWxDb2xvcjpmdW5jdGlvbihhKXt2YXIgYj0KbnVsbDthJiYoYT1hLm1hdGNoKHRoaXMucmVnRXhlcy5rbWxDb2xvcikpJiYoYj17Y29sb3I6IiMiK2FbNF0rYVszXSthWzJdLG9wYWNpdHk6cGFyc2VJbnQoYVsxXSwxNikvMjU1fSk7cmV0dXJuIGJ9LHBhcnNlU3R5bGU6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXt9LGM9WyJMaW5lU3R5bGUiLCJQb2x5U3R5bGUiLCJJY29uU3R5bGUiLCJCYWxsb29uU3R5bGUiLCJMYWJlbFN0eWxlIl0sZCxlLGY9MCxnPWMubGVuZ3RoO2Y8ZzsrK2YpaWYoZD1jW2ZdLGU9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsIioiLGQpWzBdKXN3aXRjaChkLnRvTG93ZXJDYXNlKCkpe2Nhc2UgImxpbmVzdHlsZSI6ZD10aGlzLnBhcnNlUHJvcGVydHkoZSwiKiIsImNvbG9yIik7aWYoZD10aGlzLnBhcnNlS21sQ29sb3IoZCkpYi5zdHJva2VDb2xvcj1kLmNvbG9yLGIuc3Ryb2tlT3BhY2l0eT1kLm9wYWNpdHk7KGQ9dGhpcy5wYXJzZVByb3BlcnR5KGUsIioiLCJ3aWR0aCIpKSYmKGIuc3Ryb2tlV2lkdGg9CmQpO2JyZWFrO2Nhc2UgInBvbHlzdHlsZSI6ZD10aGlzLnBhcnNlUHJvcGVydHkoZSwiKiIsImNvbG9yIik7aWYoZD10aGlzLnBhcnNlS21sQ29sb3IoZCkpYi5maWxsT3BhY2l0eT1kLm9wYWNpdHksYi5maWxsQ29sb3I9ZC5jb2xvcjsiMCI9PXRoaXMucGFyc2VQcm9wZXJ0eShlLCIqIiwiZmlsbCIpJiYoYi5maWxsQ29sb3I9Im5vbmUiKTsiMCI9PXRoaXMucGFyc2VQcm9wZXJ0eShlLCIqIiwib3V0bGluZSIpJiYoYi5zdHJva2VXaWR0aD0iMCIpO2JyZWFrO2Nhc2UgImljb25zdHlsZSI6dmFyIGg9cGFyc2VGbG9hdCh0aGlzLnBhcnNlUHJvcGVydHkoZSwiKiIsInNjYWxlIil8fDEpO2Q9MzIqaDt2YXIgaT0zMipoLGo9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGUsIioiLCJJY29uIilbMF07aWYoail7dmFyIGs9dGhpcy5wYXJzZVByb3BlcnR5KGosIioiLCJocmVmIik7aWYoayl7dmFyIGw9dGhpcy5wYXJzZVByb3BlcnR5KGosIioiLCJ3IiksbT10aGlzLnBhcnNlUHJvcGVydHkoaiwKIioiLCJoIik7T3BlbkxheWVycy5TdHJpbmcuc3RhcnRzV2l0aChrLCJodHRwOi8vbWFwcy5nb29nbGUuY29tL21hcGZpbGVzL2ttbCIpJiYoIWwmJiFtKSYmKG09bD02NCxoLz0yKTtsPWx8fG07bT1tfHxsO2wmJihkPXBhcnNlSW50KGwpKmgpO20mJihpPXBhcnNlSW50KG0pKmgpO2lmKG09ay5tYXRjaCh0aGlzLnJlZ0V4ZXMua21sSWNvblBhbGV0dGUpKWw9bVsxXSxtPW1bMl0saz10aGlzLnBhcnNlUHJvcGVydHkoaiwiKiIsIngiKSxqPXRoaXMucGFyc2VQcm9wZXJ0eShqLCIqIiwieSIpLGs9Imh0dHA6Ly9tYXBzLmdvb2dsZS5jb20vbWFwZmlsZXMva21sL3BhbCIrbCsiL2ljb24iKyg4KihqPzctai8zMjo3KSsoaz9rLzMyOjApKSttO2IuZ3JhcGhpY09wYWNpdHk9MTtiLmV4dGVybmFsR3JhcGhpYz1rfX1pZihlPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhlLCIqIiwiaG90U3BvdCIpWzBdKWs9cGFyc2VGbG9hdChlLmdldEF0dHJpYnV0ZSgieCIpKSxqPXBhcnNlRmxvYXQoZS5nZXRBdHRyaWJ1dGUoInkiKSksCmw9ZS5nZXRBdHRyaWJ1dGUoInh1bml0cyIpLCJwaXhlbHMiPT1sP2IuZ3JhcGhpY1hPZmZzZXQ9LWsqaDoiaW5zZXRQaXhlbHMiPT1sP2IuZ3JhcGhpY1hPZmZzZXQ9LWQraypoOiJmcmFjdGlvbiI9PWwmJihiLmdyYXBoaWNYT2Zmc2V0PS1kKmspLGU9ZS5nZXRBdHRyaWJ1dGUoInl1bml0cyIpLCJwaXhlbHMiPT1lP2IuZ3JhcGhpY1lPZmZzZXQ9LWkraipoKzE6Imluc2V0UGl4ZWxzIj09ZT9iLmdyYXBoaWNZT2Zmc2V0PS0oaipoKSsxOiJmcmFjdGlvbiI9PWUmJihiLmdyYXBoaWNZT2Zmc2V0PS1pKigxLWopKzEpO2IuZ3JhcGhpY1dpZHRoPWQ7Yi5ncmFwaGljSGVpZ2h0PWk7YnJlYWs7Y2FzZSAiYmFsbG9vbnN0eWxlIjooZT1PcGVuTGF5ZXJzLlV0aWwuZ2V0WG1sTm9kZVZhbHVlKGUpKSYmKGIuYmFsbG9vblN0eWxlPWUucmVwbGFjZSh0aGlzLnJlZ0V4ZXMuc3RyYWlnaHRCcmFja2V0LCIkeyQxfSIpKTticmVhaztjYXNlICJsYWJlbHN0eWxlIjppZihkPXRoaXMucGFyc2VQcm9wZXJ0eShlLAoiKiIsImNvbG9yIiksZD10aGlzLnBhcnNlS21sQ29sb3IoZCkpYi5mb250Q29sb3I9ZC5jb2xvcixiLmZvbnRPcGFjaXR5PWQub3BhY2l0eX0hYi5zdHJva2VDb2xvciYmYi5maWxsQ29sb3ImJihiLnN0cm9rZUNvbG9yPWIuZmlsbENvbG9yKTtpZigoYT1hLmdldEF0dHJpYnV0ZSgiaWQiKSkmJmIpYi5pZD1hO3JldHVybiBifSxwYXJzZVN0eWxlTWFwczpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKylmb3IodmFyIGU9YVtjXSxmPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhlLCIqIiwiUGFpciIpLGU9ZS5nZXRBdHRyaWJ1dGUoImlkIiksZz0wLGg9Zi5sZW5ndGg7ZzxoO2crKyl7dmFyIGk9ZltnXSxqPXRoaXMucGFyc2VQcm9wZXJ0eShpLCIqIiwia2V5Iik7KGk9dGhpcy5wYXJzZVByb3BlcnR5KGksIioiLCJzdHlsZVVybCIpKSYmIm5vcm1hbCI9PWomJih0aGlzLnN0eWxlc1soYi5zdHlsZUJhc2VVcmx8fCIiKSsiIyIrZV09dGhpcy5zdHlsZXNbKGIuc3R5bGVCYXNlVXJsfHwKIiIpK2ldKX19LHBhcnNlRmVhdHVyZXM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9W10sZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKyl7dmFyIGY9YVtkXSxnPXRoaXMucGFyc2VGZWF0dXJlLmFwcGx5KHRoaXMsW2ZdKTtpZihnKXt0aGlzLmV4dHJhY3RTdHlsZXMmJihnLmF0dHJpYnV0ZXMmJmcuYXR0cmlidXRlcy5zdHlsZVVybCkmJihnLnN0eWxlPXRoaXMuZ2V0U3R5bGUoZy5hdHRyaWJ1dGVzLnN0eWxlVXJsLGIpKTtpZih0aGlzLmV4dHJhY3RTdHlsZXMpe3ZhciBoPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhmLCIqIiwiU3R5bGUiKVswXTtpZihoJiYoaD10aGlzLnBhcnNlU3R5bGUoaCkpKWcuc3R5bGU9T3BlbkxheWVycy5VdGlsLmV4dGVuZChnLnN0eWxlLGgpfWlmKHRoaXMuZXh0cmFjdFRyYWNrcyl7aWYoKGY9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGYsdGhpcy5uYW1lc3BhY2VzLmd4LCJUcmFjayIpKSYmMDxmLmxlbmd0aClnPXtmZWF0dXJlczpbXSxmZWF0dXJlOmd9LAp0aGlzLnJlYWROb2RlKGZbMF0sZyksMDxnLmZlYXR1cmVzLmxlbmd0aCYmYy5wdXNoLmFwcGx5KGMsZy5mZWF0dXJlcyl9ZWxzZSBjLnB1c2goZyl9ZWxzZSB0aHJvdyJCYWQgUGxhY2VtYXJrOiAiK2Q7fXRoaXMuZmVhdHVyZXM9dGhpcy5mZWF0dXJlcy5jb25jYXQoYyl9LHJlYWRlcnM6e2ttbDp7d2hlbjpmdW5jdGlvbihhLGIpe2Iud2hlbnMucHVzaChPcGVuTGF5ZXJzLkRhdGUucGFyc2UodGhpcy5nZXRDaGlsZFZhbHVlKGEpKSl9LF90cmFja1BvaW50QXR0cmlidXRlOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5ub2RlTmFtZS5zcGxpdCgiOiIpLnBvcCgpO2IuYXR0cmlidXRlc1tjXS5wdXNoKHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSl9fSxneDp7VHJhY2s6ZnVuY3Rpb24oYSxiKXt2YXIgYz17d2hlbnM6W10scG9pbnRzOltdLGFuZ2xlczpbXX07aWYodGhpcy50cmFja0F0dHJpYnV0ZXMpe3ZhciBkO2MuYXR0cmlidXRlcz17fTtmb3IodmFyIGU9MCxmPXRoaXMudHJhY2tBdHRyaWJ1dGVzLmxlbmd0aDtlPApmOysrZSlkPXRoaXMudHJhY2tBdHRyaWJ1dGVzW2VdLGMuYXR0cmlidXRlc1tkXT1bXSxkIGluIHRoaXMucmVhZGVycy5rbWx8fCh0aGlzLnJlYWRlcnMua21sW2RdPXRoaXMucmVhZGVycy5rbWwuX3RyYWNrUG9pbnRBdHRyaWJ1dGUpfXRoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtpZihjLndoZW5zLmxlbmd0aCE9PWMucG9pbnRzLmxlbmd0aCl0aHJvdyBFcnJvcigiZ3g6VHJhY2sgd2l0aCB1bmVxdWFsIG51bWJlciBvZiB3aGVuICgiK2Mud2hlbnMubGVuZ3RoKyIpIGFuZCBneDpjb29yZCAoIitjLnBvaW50cy5sZW5ndGgrIikgZWxlbWVudHMuIik7dmFyIGc9MDxjLmFuZ2xlcy5sZW5ndGg7aWYoZyYmYy53aGVucy5sZW5ndGghPT1jLmFuZ2xlcy5sZW5ndGgpdGhyb3cgRXJyb3IoImd4OlRyYWNrIHdpdGggdW5lcXVhbCBudW1iZXIgb2Ygd2hlbiAoIitjLndoZW5zLmxlbmd0aCsiKSBhbmQgZ3g6YW5nbGVzICgiK2MuYW5nbGVzLmxlbmd0aCsiKSBlbGVtZW50cy4iKTtmb3IodmFyIGgsCmU9MCxmPWMud2hlbnMubGVuZ3RoO2U8ZjsrK2Upe2g9Yi5mZWF0dXJlLmNsb25lKCk7aC5maWQ9Yi5mZWF0dXJlLmZpZHx8Yi5mZWF0dXJlLmlkO2Q9Yy5wb2ludHNbZV07aC5nZW9tZXRyeT1kOyJ6ImluIGQmJihoLmF0dHJpYnV0ZXMuYWx0aXR1ZGU9ZC56KTt0aGlzLmludGVybmFsUHJvamVjdGlvbiYmdGhpcy5leHRlcm5hbFByb2plY3Rpb24mJmguZ2VvbWV0cnkudHJhbnNmb3JtKHRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uLHRoaXMuaW50ZXJuYWxQcm9qZWN0aW9uKTtpZih0aGlzLnRyYWNrQXR0cmlidXRlcylmb3IodmFyIGk9MCxqPXRoaXMudHJhY2tBdHRyaWJ1dGVzLmxlbmd0aDtpPGo7KytpKWQ9dGhpcy50cmFja0F0dHJpYnV0ZXNbaV0saC5hdHRyaWJ1dGVzW2RdPWMuYXR0cmlidXRlc1tkXVtlXTtoLmF0dHJpYnV0ZXMud2hlbj1jLndoZW5zW2VdO2guYXR0cmlidXRlcy50cmFja0lkPWIuZmVhdHVyZS5pZDtnJiYoZD1jLmFuZ2xlc1tlXSxoLmF0dHJpYnV0ZXMuaGVhZGluZz0KcGFyc2VGbG9hdChkWzBdKSxoLmF0dHJpYnV0ZXMudGlsdD1wYXJzZUZsb2F0KGRbMV0pLGguYXR0cmlidXRlcy5yb2xsPXBhcnNlRmxvYXQoZFsyXSkpO2IuZmVhdHVyZXMucHVzaChoKX19LGNvb3JkOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDaGlsZFZhbHVlKGEpLnJlcGxhY2UodGhpcy5yZWdFeGVzLnRyaW1TcGFjZSwiIikuc3BsaXQoL1xzKy8pLGQ9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoY1swXSxjWzFdKTsyPGMubGVuZ3RoJiYoZC56PXBhcnNlRmxvYXQoY1syXSkpO2IucG9pbnRzLnB1c2goZCl9LGFuZ2xlczpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKS5yZXBsYWNlKHRoaXMucmVnRXhlcy50cmltU3BhY2UsIiIpLnNwbGl0KC9ccysvKTtiLmFuZ2xlcy5wdXNoKGMpfX19LHBhcnNlRmVhdHVyZTpmdW5jdGlvbihhKXtmb3IodmFyIGI9WyJNdWx0aUdlb21ldHJ5IiwiUG9seWdvbiIsIkxpbmVTdHJpbmciLCJQb2ludCJdLApjLGQsZSxmPTAsZz1iLmxlbmd0aDtmPGc7KytmKWlmKGM9YltmXSx0aGlzLmludGVybmFsbnM9YS5uYW1lc3BhY2VVUkk/YS5uYW1lc3BhY2VVUkk6dGhpcy5rbWxucyxkPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLHRoaXMuaW50ZXJuYWxucyxjKSwwPGQubGVuZ3RoKXtpZihiPXRoaXMucGFyc2VHZW9tZXRyeVtjLnRvTG93ZXJDYXNlKCldKWU9Yi5hcHBseSh0aGlzLFtkWzBdXSksdGhpcy5pbnRlcm5hbFByb2plY3Rpb24mJnRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uJiZlLnRyYW5zZm9ybSh0aGlzLmV4dGVybmFsUHJvamVjdGlvbix0aGlzLmludGVybmFsUHJvamVjdGlvbik7ZWxzZSB0aHJvdyBuZXcgVHlwZUVycm9yKCJVbnN1cHBvcnRlZCBnZW9tZXRyeSB0eXBlOiAiK2MpO2JyZWFrfXZhciBoO3RoaXMuZXh0cmFjdEF0dHJpYnV0ZXMmJihoPXRoaXMucGFyc2VBdHRyaWJ1dGVzKGEpKTtjPW5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKGUsaCk7YT1hLmdldEF0dHJpYnV0ZSgiaWQiKXx8CmEuZ2V0QXR0cmlidXRlKCJuYW1lIik7bnVsbCE9YSYmKGMuZmlkPWEpO3JldHVybiBjfSxnZXRTdHlsZTpmdW5jdGlvbihhLGIpe3ZhciBjPU9wZW5MYXllcnMuVXRpbC5yZW1vdmVUYWlsKGEpLGQ9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSxiKTtkLmRlcHRoKys7ZC5zdHlsZUJhc2VVcmw9YzshdGhpcy5zdHlsZXNbYV0mJiFPcGVuTGF5ZXJzLlN0cmluZy5zdGFydHNXaXRoKGEsIiMiKSYmZC5kZXB0aDw9dGhpcy5tYXhEZXB0aCYmIXRoaXMuZmV0Y2hlZFtjXSYmKGM9dGhpcy5mZXRjaExpbmsoYykpJiZ0aGlzLnBhcnNlRGF0YShjLGQpO3JldHVybiBPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LHRoaXMuc3R5bGVzW2FdKX0scGFyc2VHZW9tZXRyeTp7cG9pbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsdGhpcy5pbnRlcm5hbG5zLCJjb29yZGluYXRlcyIpLGE9W107aWYoMDxiLmxlbmd0aCl2YXIgYz1iWzBdLmZpcnN0Q2hpbGQubm9kZVZhbHVlLApjPWMucmVwbGFjZSh0aGlzLnJlZ0V4ZXMucmVtb3ZlU3BhY2UsIiIpLGE9Yy5zcGxpdCgiLCIpO2I9bnVsbDtpZigxPGEubGVuZ3RoKTI9PWEubGVuZ3RoJiYoYVsyXT1udWxsKSxiPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGFbMF0sYVsxXSxhWzJdKTtlbHNlIHRocm93IkJhZCBjb29yZGluYXRlIHN0cmluZzogIitjO3JldHVybiBifSxsaW5lc3RyaW5nOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsdGhpcy5pbnRlcm5hbG5zLCJjb29yZGluYXRlcyIpLGQ9bnVsbDtpZigwPGMubGVuZ3RoKXtmb3IodmFyIGM9dGhpcy5nZXRDaGlsZFZhbHVlKGNbMF0pLGM9Yy5yZXBsYWNlKHRoaXMucmVnRXhlcy50cmltU3BhY2UsIiIpLGM9Yy5yZXBsYWNlKHRoaXMucmVnRXhlcy50cmltQ29tbWEsIiwiKSxkPWMuc3BsaXQodGhpcy5yZWdFeGVzLnNwbGl0U3BhY2UpLGU9ZC5sZW5ndGgsZj1BcnJheShlKSxnLGgsaT0wO2k8ZTsrK2kpaWYoZz0KZFtpXS5zcGxpdCgiLCIpLGg9Zy5sZW5ndGgsMTxoKTI9PWcubGVuZ3RoJiYoZ1syXT1udWxsKSxmW2ldPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGdbMF0sZ1sxXSxnWzJdKTtlbHNlIHRocm93IkJhZCBMaW5lU3RyaW5nIHBvaW50IGNvb3JkaW5hdGVzOiAiK2RbaV07aWYoZSlkPWI/bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyhmKTpuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nKGYpO2Vsc2UgdGhyb3ciQmFkIExpbmVTdHJpbmcgY29vcmRpbmF0ZXM6ICIrYzt9cmV0dXJuIGR9LHBvbHlnb246ZnVuY3Rpb24oYSl7dmFyIGE9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsdGhpcy5pbnRlcm5hbG5zLCJMaW5lYXJSaW5nIiksYj1hLmxlbmd0aCxjPUFycmF5KGIpO2lmKDA8Yilmb3IodmFyIGQ9MCxlPWEubGVuZ3RoO2Q8ZTsrK2QpaWYoYj10aGlzLnBhcnNlR2VvbWV0cnkubGluZXN0cmluZy5hcHBseSh0aGlzLFthW2RdLCEwXSkpY1tkXT0KYjtlbHNlIHRocm93IkJhZCBMaW5lYXJSaW5nIGdlb21ldHJ5OiAiK2Q7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvbHlnb24oYyl9LG11bHRpZ2VvbWV0cnk6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9W10sZD1hLmNoaWxkTm9kZXMsZT0wLGY9ZC5sZW5ndGg7ZTxmOysrZSlhPWRbZV0sMT09YS5ub2RlVHlwZSYmKGI9YS5wcmVmaXg/YS5ub2RlTmFtZS5zcGxpdCgiOiIpWzFdOmEubm9kZU5hbWUsKGI9dGhpcy5wYXJzZUdlb21ldHJ5W2IudG9Mb3dlckNhc2UoKV0pJiZjLnB1c2goYi5hcHBseSh0aGlzLFthXSkpKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuQ29sbGVjdGlvbihjKX19LHBhcnNlQXR0cmlidXRlczpmdW5jdGlvbihhKXt2YXIgYj17fSxjPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIkV4dGVuZGVkRGF0YSIpO2MubGVuZ3RoJiYoYj10aGlzLnBhcnNlRXh0ZW5kZWREYXRhKGNbMF0pKTtmb3IodmFyIGQsZSxmLGE9YS5jaGlsZE5vZGVzLGM9CjAsZz1hLmxlbmd0aDtjPGc7KytjKWlmKGQ9YVtjXSwxPT1kLm5vZGVUeXBlJiYoZT1kLmNoaWxkTm9kZXMsMTw9ZS5sZW5ndGgmJjM+PWUubGVuZ3RoKSl7c3dpdGNoKGUubGVuZ3RoKXtjYXNlIDE6Zj1lWzBdO2JyZWFrO2Nhc2UgMjpmPWVbMF07ZT1lWzFdO2Y9Mz09Zi5ub2RlVHlwZXx8ND09Zi5ub2RlVHlwZT9mOmU7YnJlYWs7ZGVmYXVsdDpmPWVbMV19aWYoMz09Zi5ub2RlVHlwZXx8ND09Zi5ub2RlVHlwZSlpZihkPWQucHJlZml4P2Qubm9kZU5hbWUuc3BsaXQoIjoiKVsxXTpkLm5vZGVOYW1lLGY9T3BlbkxheWVycy5VdGlsLmdldFhtbE5vZGVWYWx1ZShmKSlmPWYucmVwbGFjZSh0aGlzLnJlZ0V4ZXMudHJpbVNwYWNlLCIiKSxiW2RdPWZ9cmV0dXJuIGJ9LHBhcnNlRXh0ZW5kZWREYXRhOmZ1bmN0aW9uKGEpe3ZhciBiPXt9LGMsZCxlLGYsZz1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJEYXRhIik7Yz0wO2ZvcihkPWcubGVuZ3RoO2M8ZDtjKyspe2U9Z1tjXTtmPWUuZ2V0QXR0cmlidXRlKCJuYW1lIik7CnZhciBoPXt9LGk9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidmFsdWUiKTtpLmxlbmd0aCYmKGgudmFsdWU9dGhpcy5nZXRDaGlsZFZhbHVlKGlbMF0pKTt0aGlzLmt2cEF0dHJpYnV0ZXM/YltmXT1oLnZhbHVlOihlPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpc3BsYXlOYW1lIiksZS5sZW5ndGgmJihoLmRpc3BsYXlOYW1lPXRoaXMuZ2V0Q2hpbGRWYWx1ZShlWzBdKSksYltmXT1oKX1hPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIlNpbXBsZURhdGEiKTtjPTA7Zm9yKGQ9YS5sZW5ndGg7YzxkO2MrKyloPXt9LGU9YVtjXSxmPWUuZ2V0QXR0cmlidXRlKCJuYW1lIiksaC52YWx1ZT10aGlzLmdldENoaWxkVmFsdWUoZSksdGhpcy5rdnBBdHRyaWJ1dGVzP2JbZl09aC52YWx1ZTooaC5kaXNwbGF5TmFtZT1mLGJbZl09aCk7cmV0dXJuIGJ9LHBhcnNlUHJvcGVydHk6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGE9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsYixjKTt0cnl7ZD1PcGVuTGF5ZXJzLlV0aWwuZ2V0WG1sTm9kZVZhbHVlKGFbMF0pfWNhdGNoKGUpe2Q9Cm51bGx9cmV0dXJuIGR9LHdyaXRlOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEpfHwoYT1bYV0pO2Zvcih2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmttbG5zLCJrbWwiKSxjPXRoaXMuY3JlYXRlRm9sZGVyWE1MKCksZD0wLGU9YS5sZW5ndGg7ZDxlOysrZCljLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlUGxhY2VtYXJrWE1MKGFbZF0pKTtiLmFwcGVuZENoaWxkKGMpO3JldHVybiBPcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLndyaXRlLmFwcGx5KHRoaXMsW2JdKX0sY3JlYXRlRm9sZGVyWE1MOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5rbWxucywiRm9sZGVyIik7aWYodGhpcy5mb2xkZXJzTmFtZSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5rbWxucywibmFtZSIpLGM9dGhpcy5jcmVhdGVUZXh0Tm9kZSh0aGlzLmZvbGRlcnNOYW1lKTtiLmFwcGVuZENoaWxkKGMpO2EuYXBwZW5kQ2hpbGQoYil9dGhpcy5mb2xkZXJzRGVzYyYmCihiPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMua21sbnMsImRlc2NyaXB0aW9uIiksYz10aGlzLmNyZWF0ZVRleHROb2RlKHRoaXMuZm9sZGVyc0Rlc2MpLGIuYXBwZW5kQ2hpbGQoYyksYS5hcHBlbmRDaGlsZChiKSk7cmV0dXJuIGF9LGNyZWF0ZVBsYWNlbWFya1hNTDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmttbG5zLCJuYW1lIiksYz1hLnN0eWxlJiZhLnN0eWxlLmxhYmVsP2Euc3R5bGUubGFiZWw6YS5pZDtiLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlVGV4dE5vZGUoYS5hdHRyaWJ1dGVzLm5hbWV8fGMpKTt2YXIgZD10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmttbG5zLCJkZXNjcmlwdGlvbiIpO2QuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVUZXh0Tm9kZShhLmF0dHJpYnV0ZXMuZGVzY3JpcHRpb258fHRoaXMucGxhY2VtYXJrc0Rlc2MpKTtjPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMua21sbnMsIlBsYWNlbWFyayIpO251bGwhPQphLmZpZCYmYy5zZXRBdHRyaWJ1dGUoImlkIixhLmZpZCk7Yy5hcHBlbmRDaGlsZChiKTtjLmFwcGVuZENoaWxkKGQpO2EuYXR0cmlidXRlcyYmKGI9dGhpcy5idWlsZEV4dGVuZGVkRGF0YShhLmF0dHJpYnV0ZXMpKSYmYy5hcHBlbmRDaGlsZChiKTthPXRoaXMuYnVpbGRHZW9tZXRyeU5vZGUoYS5nZW9tZXRyeSk7Yy5hcHBlbmRDaGlsZChhKTtyZXR1cm4gY30sYnVpbGRHZW9tZXRyeU5vZGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5DTEFTU19OQU1FLGI9Yi5zdWJzdHJpbmcoYi5sYXN0SW5kZXhPZigiLiIpKzEpLGI9dGhpcy5idWlsZEdlb21ldHJ5W2IudG9Mb3dlckNhc2UoKV0sYz1udWxsO2ImJihjPWIuYXBwbHkodGhpcyxbYV0pKTtyZXR1cm4gY30sYnVpbGRHZW9tZXRyeTp7cG9pbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5rbWxucywiUG9pbnQiKTtiLmFwcGVuZENoaWxkKHRoaXMuYnVpbGRDb29yZGluYXRlc05vZGUoYSkpO3JldHVybiBifSwKbXVsdGlwb2ludDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5idWlsZEdlb21ldHJ5LmNvbGxlY3Rpb24uYXBwbHkodGhpcyxbYV0pfSxsaW5lc3RyaW5nOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMua21sbnMsIkxpbmVTdHJpbmciKTtiLmFwcGVuZENoaWxkKHRoaXMuYnVpbGRDb29yZGluYXRlc05vZGUoYSkpO3JldHVybiBifSxtdWx0aWxpbmVzdHJpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYnVpbGRHZW9tZXRyeS5jb2xsZWN0aW9uLmFwcGx5KHRoaXMsW2FdKX0sbGluZWFycmluZzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmttbG5zLCJMaW5lYXJSaW5nIik7Yi5hcHBlbmRDaGlsZCh0aGlzLmJ1aWxkQ29vcmRpbmF0ZXNOb2RlKGEpKTtyZXR1cm4gYn0scG9seWdvbjpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5rbWxucywiUG9seWdvbiIpLGE9YS5jb21wb25lbnRzLApjLGQsZT0wLGY9YS5sZW5ndGg7ZTxmOysrZSljPTA9PWU/Im91dGVyQm91bmRhcnlJcyI6ImlubmVyQm91bmRhcnlJcyIsYz10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmttbG5zLGMpLGQ9dGhpcy5idWlsZEdlb21ldHJ5LmxpbmVhcnJpbmcuYXBwbHkodGhpcyxbYVtlXV0pLGMuYXBwZW5kQ2hpbGQoZCksYi5hcHBlbmRDaGlsZChjKTtyZXR1cm4gYn0sbXVsdGlwb2x5Z29uOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmJ1aWxkR2VvbWV0cnkuY29sbGVjdGlvbi5hcHBseSh0aGlzLFthXSl9LGNvbGxlY3Rpb246ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMua21sbnMsIk11bHRpR2VvbWV0cnkiKSxjLGQ9MCxlPWEuY29tcG9uZW50cy5sZW5ndGg7ZDxlOysrZCkoYz10aGlzLmJ1aWxkR2VvbWV0cnlOb2RlLmFwcGx5KHRoaXMsW2EuY29tcG9uZW50c1tkXV0pKSYmYi5hcHBlbmRDaGlsZChjKTtyZXR1cm4gYn19LGJ1aWxkQ29vcmRpbmF0ZXNOb2RlOmZ1bmN0aW9uKGEpe3ZhciBiPQp0aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmttbG5zLCJjb29yZGluYXRlcyIpLGM7aWYoYz1hLmNvbXBvbmVudHMpe2Zvcih2YXIgZD1jLmxlbmd0aCxlPUFycmF5KGQpLGY9MDtmPGQ7KytmKWE9Y1tmXSxlW2ZdPXRoaXMuYnVpbGRDb29yZGluYXRlcyhhKTtjPWUuam9pbigiICIpfWVsc2UgYz10aGlzLmJ1aWxkQ29vcmRpbmF0ZXMoYSk7Yz10aGlzLmNyZWF0ZVRleHROb2RlKGMpO2IuYXBwZW5kQ2hpbGQoYyk7cmV0dXJuIGJ9LGJ1aWxkQ29vcmRpbmF0ZXM6ZnVuY3Rpb24oYSl7dGhpcy5pbnRlcm5hbFByb2plY3Rpb24mJnRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uJiYoYT1hLmNsb25lKCksYS50cmFuc2Zvcm0odGhpcy5pbnRlcm5hbFByb2plY3Rpb24sdGhpcy5leHRlcm5hbFByb2plY3Rpb24pKTtyZXR1cm4gYS54KyIsIithLnl9LGJ1aWxkRXh0ZW5kZWREYXRhOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMua21sbnMsIkV4dGVuZGVkRGF0YSIpLApjO2ZvcihjIGluIGEpaWYoYVtjXSYmIm5hbWUiIT1jJiYiZGVzY3JpcHRpb24iIT1jJiYic3R5bGVVcmwiIT1jKXt2YXIgZD10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmttbG5zLCJEYXRhIik7ZC5zZXRBdHRyaWJ1dGUoIm5hbWUiLGMpO3ZhciBlPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMua21sbnMsInZhbHVlIik7aWYoIm9iamVjdCI9PXR5cGVvZiBhW2NdKXtpZihhW2NdLnZhbHVlJiZlLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlVGV4dE5vZGUoYVtjXS52YWx1ZSkpLGFbY10uZGlzcGxheU5hbWUpe3ZhciBmPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMua21sbnMsImRpc3BsYXlOYW1lIik7Zi5hcHBlbmRDaGlsZCh0aGlzLmdldFhNTERvYygpLmNyZWF0ZUNEQVRBU2VjdGlvbihhW2NdLmRpc3BsYXlOYW1lKSk7ZC5hcHBlbmRDaGlsZChmKX19ZWxzZSBlLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlVGV4dE5vZGUoYVtjXSkpO2QuYXBwZW5kQ2hpbGQoZSk7Yi5hcHBlbmRDaGlsZChkKX1yZXR1cm4gdGhpcy5pc1NpbXBsZUNvbnRlbnQoYik/Cm51bGw6Yn0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuS01MIn0pO09wZW5MYXllcnMuUG9wdXA9T3BlbkxheWVycy5DbGFzcyh7ZXZlbnRzOm51bGwsaWQ6IiIsbG9ubGF0Om51bGwsZGl2Om51bGwsY29udGVudFNpemU6bnVsbCxzaXplOm51bGwsY29udGVudEhUTUw6bnVsbCxiYWNrZ3JvdW5kQ29sb3I6IiIsb3BhY2l0eToiIixib3JkZXI6IiIsY29udGVudERpdjpudWxsLGdyb3VwRGl2Om51bGwsY2xvc2VEaXY6bnVsbCxhdXRvU2l6ZTohMSxtaW5TaXplOm51bGwsbWF4U2l6ZTpudWxsLGRpc3BsYXlDbGFzczoib2xQb3B1cCIsY29udGVudERpc3BsYXlDbGFzczoib2xQb3B1cENvbnRlbnQiLHBhZGRpbmc6MCxkaXNhYmxlRmlyZWZveE92ZXJmbG93SGFjazohMSxmaXhQYWRkaW5nOmZ1bmN0aW9uKCl7Im51bWJlciI9PXR5cGVvZiB0aGlzLnBhZGRpbmcmJih0aGlzLnBhZGRpbmc9bmV3IE9wZW5MYXllcnMuQm91bmRzKHRoaXMucGFkZGluZyx0aGlzLnBhZGRpbmcsdGhpcy5wYWRkaW5nLHRoaXMucGFkZGluZykpfSxwYW5NYXBJZk91dE9mVmlldzohMSwKa2VlcEluTWFwOiExLGNsb3NlT25Nb3ZlOiExLG1hcDpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe251bGw9PWEmJihhPU9wZW5MYXllcnMuVXRpbC5jcmVhdGVVbmlxdWVJRCh0aGlzLkNMQVNTX05BTUUrIl8iKSk7dGhpcy5pZD1hO3RoaXMubG9ubGF0PWI7dGhpcy5jb250ZW50U2l6ZT1udWxsIT1jP2M6bmV3IE9wZW5MYXllcnMuU2l6ZShPcGVuTGF5ZXJzLlBvcHVwLldJRFRILE9wZW5MYXllcnMuUG9wdXAuSEVJR0hUKTtudWxsIT1kJiYodGhpcy5jb250ZW50SFRNTD1kKTt0aGlzLmJhY2tncm91bmRDb2xvcj1PcGVuTGF5ZXJzLlBvcHVwLkNPTE9SO3RoaXMub3BhY2l0eT1PcGVuTGF5ZXJzLlBvcHVwLk9QQUNJVFk7dGhpcy5ib3JkZXI9T3BlbkxheWVycy5Qb3B1cC5CT1JERVI7dGhpcy5kaXY9T3BlbkxheWVycy5VdGlsLmNyZWF0ZURpdih0aGlzLmlkLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCwiaGlkZGVuIik7dGhpcy5kaXYuY2xhc3NOYW1lPXRoaXMuZGlzcGxheUNsYXNzOwp0aGlzLmdyb3VwRGl2PU9wZW5MYXllcnMuVXRpbC5jcmVhdGVEaXYodGhpcy5pZCsiX0dyb3VwRGl2IixudWxsLG51bGwsbnVsbCwicmVsYXRpdmUiLG51bGwsImhpZGRlbiIpO2E9dGhpcy5kaXYuaWQrIl9jb250ZW50RGl2Ijt0aGlzLmNvbnRlbnREaXY9T3BlbkxheWVycy5VdGlsLmNyZWF0ZURpdihhLG51bGwsdGhpcy5jb250ZW50U2l6ZS5jbG9uZSgpLG51bGwsInJlbGF0aXZlIik7dGhpcy5jb250ZW50RGl2LmNsYXNzTmFtZT10aGlzLmNvbnRlbnREaXNwbGF5Q2xhc3M7dGhpcy5ncm91cERpdi5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnREaXYpO3RoaXMuZGl2LmFwcGVuZENoaWxkKHRoaXMuZ3JvdXBEaXYpO2UmJnRoaXMuYWRkQ2xvc2VCb3goZik7dGhpcy5yZWdpc3RlckV2ZW50cygpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5ib3JkZXI9dGhpcy5vcGFjaXR5PXRoaXMuYmFja2dyb3VuZENvbG9yPXRoaXMuY29udGVudEhUTUw9dGhpcy5zaXplPXRoaXMubG9ubGF0PXRoaXMuaWQ9Cm51bGw7dGhpcy5jbG9zZU9uTW92ZSYmdGhpcy5tYXAmJnRoaXMubWFwLmV2ZW50cy51bnJlZ2lzdGVyKCJtb3Zlc3RhcnQiLHRoaXMsdGhpcy5oaWRlKTt0aGlzLmV2ZW50cy5kZXN0cm95KCk7dGhpcy5ldmVudHM9bnVsbDt0aGlzLmNsb3NlRGl2JiYoT3BlbkxheWVycy5FdmVudC5zdG9wT2JzZXJ2aW5nRWxlbWVudCh0aGlzLmNsb3NlRGl2KSx0aGlzLmdyb3VwRGl2LnJlbW92ZUNoaWxkKHRoaXMuY2xvc2VEaXYpKTt0aGlzLmNsb3NlRGl2PW51bGw7dGhpcy5kaXYucmVtb3ZlQ2hpbGQodGhpcy5ncm91cERpdik7dGhpcy5ncm91cERpdj1udWxsO251bGwhPXRoaXMubWFwJiZ0aGlzLm1hcC5yZW1vdmVQb3B1cCh0aGlzKTt0aGlzLnBhbk1hcElmT3V0T2ZWaWV3PXRoaXMucGFkZGluZz10aGlzLm1heFNpemU9dGhpcy5taW5TaXplPXRoaXMuYXV0b1NpemU9dGhpcy5kaXY9dGhpcy5tYXA9bnVsbH0sZHJhdzpmdW5jdGlvbihhKXtudWxsPT1hJiZudWxsIT10aGlzLmxvbmxhdCYmbnVsbCE9CnRoaXMubWFwJiYoYT10aGlzLm1hcC5nZXRMYXllclB4RnJvbUxvbkxhdCh0aGlzLmxvbmxhdCkpO3RoaXMuY2xvc2VPbk1vdmUmJnRoaXMubWFwLmV2ZW50cy5yZWdpc3RlcigibW92ZXN0YXJ0Iix0aGlzLHRoaXMuaGlkZSk7IXRoaXMuZGlzYWJsZUZpcmVmb3hPdmVyZmxvd0hhY2smJiJmaXJlZm94Ij09T3BlbkxheWVycy5CUk9XU0VSX05BTUUmJih0aGlzLm1hcC5ldmVudHMucmVnaXN0ZXIoIm1vdmVzdGFydCIsdGhpcyxmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUodGhpcy5jb250ZW50RGl2LG51bGwpLmdldFByb3BlcnR5VmFsdWUoIm92ZXJmbG93Iik7ImhpZGRlbiIhPWEmJih0aGlzLmNvbnRlbnREaXYuX29sZE92ZXJmbG93PWEsdGhpcy5jb250ZW50RGl2LnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iKX0pLHRoaXMubWFwLmV2ZW50cy5yZWdpc3RlcigibW92ZWVuZCIsdGhpcyxmdW5jdGlvbigpe3ZhciBhPXRoaXMuY29udGVudERpdi5fb2xkT3ZlcmZsb3c7CmEmJih0aGlzLmNvbnRlbnREaXYuc3R5bGUub3ZlcmZsb3c9YSx0aGlzLmNvbnRlbnREaXYuX29sZE92ZXJmbG93PW51bGwpfSkpO3RoaXMubW92ZVRvKGEpOyF0aGlzLmF1dG9TaXplJiYhdGhpcy5zaXplJiZ0aGlzLnNldFNpemUodGhpcy5jb250ZW50U2l6ZSk7dGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IoKTt0aGlzLnNldE9wYWNpdHkoKTt0aGlzLnNldEJvcmRlcigpO3RoaXMuc2V0Q29udGVudEhUTUwoKTt0aGlzLnBhbk1hcElmT3V0T2ZWaWV3JiZ0aGlzLnBhbkludG9WaWV3KCk7cmV0dXJuIHRoaXMuZGl2fSx1cGRhdGVQb3NpdGlvbjpmdW5jdGlvbigpe2lmKHRoaXMubG9ubGF0JiZ0aGlzLm1hcCl7dmFyIGE9dGhpcy5tYXAuZ2V0TGF5ZXJQeEZyb21Mb25MYXQodGhpcy5sb25sYXQpO2EmJnRoaXMubW92ZVRvKGEpfX0sbW92ZVRvOmZ1bmN0aW9uKGEpe251bGwhPWEmJm51bGwhPXRoaXMuZGl2JiYodGhpcy5kaXYuc3R5bGUubGVmdD1hLngrInB4Iix0aGlzLmRpdi5zdHlsZS50b3A9CmEueSsicHgiKX0sdmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiBPcGVuTGF5ZXJzLkVsZW1lbnQudmlzaWJsZSh0aGlzLmRpdil9LHRvZ2dsZTpmdW5jdGlvbigpe3RoaXMudmlzaWJsZSgpP3RoaXMuaGlkZSgpOnRoaXMuc2hvdygpfSxzaG93OmZ1bmN0aW9uKCl7dGhpcy5kaXYuc3R5bGUuZGlzcGxheT0iIjt0aGlzLnBhbk1hcElmT3V0T2ZWaWV3JiZ0aGlzLnBhbkludG9WaWV3KCl9LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLmRpdi5zdHlsZS5kaXNwbGF5PSJub25lIn0sc2V0U2l6ZTpmdW5jdGlvbihhKXt0aGlzLnNpemU9YS5jbG9uZSgpO3ZhciBiPXRoaXMuZ2V0Q29udGVudERpdlBhZGRpbmcoKSxjPWIubGVmdCtiLnJpZ2h0LGQ9Yi50b3ArYi5ib3R0b207dGhpcy5maXhQYWRkaW5nKCk7Yys9dGhpcy5wYWRkaW5nLmxlZnQrdGhpcy5wYWRkaW5nLnJpZ2h0O2QrPXRoaXMucGFkZGluZy50b3ArdGhpcy5wYWRkaW5nLmJvdHRvbTtpZih0aGlzLmNsb3NlRGl2KXZhciBlPXBhcnNlSW50KHRoaXMuY2xvc2VEaXYuc3R5bGUud2lkdGgpLApjPWMrKGUrYi5yaWdodCk7dGhpcy5zaXplLncrPWM7dGhpcy5zaXplLmgrPWQ7Im1zaWUiPT1PcGVuTGF5ZXJzLkJST1dTRVJfTkFNRSYmKHRoaXMuY29udGVudFNpemUudys9Yi5sZWZ0K2IucmlnaHQsdGhpcy5jb250ZW50U2l6ZS5oKz1iLmJvdHRvbStiLnRvcCk7bnVsbCE9dGhpcy5kaXYmJih0aGlzLmRpdi5zdHlsZS53aWR0aD10aGlzLnNpemUudysicHgiLHRoaXMuZGl2LnN0eWxlLmhlaWdodD10aGlzLnNpemUuaCsicHgiKTtudWxsIT10aGlzLmNvbnRlbnREaXYmJih0aGlzLmNvbnRlbnREaXYuc3R5bGUud2lkdGg9YS53KyJweCIsdGhpcy5jb250ZW50RGl2LnN0eWxlLmhlaWdodD1hLmgrInB4Iil9LHVwZGF0ZVNpemU6ZnVuY3Rpb24oKXt2YXIgYT0iPGRpdiBjbGFzcz0nIit0aGlzLmNvbnRlbnREaXNwbGF5Q2xhc3MrIic+Iit0aGlzLmNvbnRlbnREaXYuaW5uZXJIVE1MKyI8L2Rpdj4iLGI9dGhpcy5tYXA/dGhpcy5tYXAuZGl2OmRvY3VtZW50LmJvZHksYz1PcGVuTGF5ZXJzLlV0aWwuZ2V0UmVuZGVyZWREaW1lbnNpb25zKGEsCm51bGwse2Rpc3BsYXlDbGFzczp0aGlzLmRpc3BsYXlDbGFzcyxjb250YWluZXJFbGVtZW50OmJ9KSxkPXRoaXMuZ2V0U2FmZUNvbnRlbnRTaXplKGMpLGU9bnVsbDtkLmVxdWFscyhjKT9lPWM6KGM9e3c6ZC53PGMudz9kLnc6bnVsbCxoOmQuaDxjLmg/ZC5oOm51bGx9LGMudyYmYy5oP2U9ZDooYT1PcGVuTGF5ZXJzLlV0aWwuZ2V0UmVuZGVyZWREaW1lbnNpb25zKGEsYyx7ZGlzcGxheUNsYXNzOnRoaXMuY29udGVudERpc3BsYXlDbGFzcyxjb250YWluZXJFbGVtZW50OmJ9KSwiaGlkZGVuIiE9T3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKHRoaXMuY29udGVudERpdiwib3ZlcmZsb3ciKSYmYS5lcXVhbHMoZCkmJihkPU9wZW5MYXllcnMuVXRpbC5nZXRTY3JvbGxiYXJXaWR0aCgpLGMudz9hLmgrPWQ6YS53Kz1kKSxlPXRoaXMuZ2V0U2FmZUNvbnRlbnRTaXplKGEpKSk7dGhpcy5zZXRTaXplKGUpfSxzZXRCYWNrZ3JvdW5kQ29sb3I6ZnVuY3Rpb24oYSl7dm9pZCAwIT1hJiYodGhpcy5iYWNrZ3JvdW5kQ29sb3I9CmEpO251bGwhPXRoaXMuZGl2JiYodGhpcy5kaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yPXRoaXMuYmFja2dyb3VuZENvbG9yKX0sc2V0T3BhY2l0eTpmdW5jdGlvbihhKXt2b2lkIDAhPWEmJih0aGlzLm9wYWNpdHk9YSk7bnVsbCE9dGhpcy5kaXYmJih0aGlzLmRpdi5zdHlsZS5vcGFjaXR5PXRoaXMub3BhY2l0eSx0aGlzLmRpdi5zdHlsZS5maWx0ZXI9ImFscGhhKG9wYWNpdHk9IisxMDAqdGhpcy5vcGFjaXR5KyIpIil9LHNldEJvcmRlcjpmdW5jdGlvbihhKXt2b2lkIDAhPWEmJih0aGlzLmJvcmRlcj1hKTtudWxsIT10aGlzLmRpdiYmKHRoaXMuZGl2LnN0eWxlLmJvcmRlcj10aGlzLmJvcmRlcil9LHNldENvbnRlbnRIVE1MOmZ1bmN0aW9uKGEpe251bGwhPWEmJih0aGlzLmNvbnRlbnRIVE1MPWEpO251bGwhPXRoaXMuY29udGVudERpdiYmKG51bGwhPXRoaXMuY29udGVudEhUTUwmJnRoaXMuY29udGVudEhUTUwhPXRoaXMuY29udGVudERpdi5pbm5lckhUTUwpJiYodGhpcy5jb250ZW50RGl2LmlubmVySFRNTD0KdGhpcy5jb250ZW50SFRNTCx0aGlzLmF1dG9TaXplJiYodGhpcy5yZWdpc3RlckltYWdlTGlzdGVuZXJzKCksdGhpcy51cGRhdGVTaXplKCkpKX0scmVnaXN0ZXJJbWFnZUxpc3RlbmVyczpmdW5jdGlvbigpe2Zvcih2YXIgYT1mdW5jdGlvbigpe251bGwhPT10aGlzLnBvcHVwLmlkJiYodGhpcy5wb3B1cC51cGRhdGVTaXplKCksdGhpcy5wb3B1cC52aXNpYmxlKCkmJnRoaXMucG9wdXAucGFuTWFwSWZPdXRPZlZpZXcmJnRoaXMucG9wdXAucGFuSW50b1ZpZXcoKSxPcGVuTGF5ZXJzLkV2ZW50LnN0b3BPYnNlcnZpbmcodGhpcy5pbWcsImxvYWQiLHRoaXMuaW1nLl9vbkltZ0xvYWQpKX0sYj10aGlzLmNvbnRlbnREaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImltZyIpLGM9MCxkPWIubGVuZ3RoO2M8ZDtjKyspe3ZhciBlPWJbY107aWYoMD09ZS53aWR0aHx8MD09ZS5oZWlnaHQpZS5fb25JbWdMb2FkPU9wZW5MYXllcnMuRnVuY3Rpb24uYmluZChhLHtwb3B1cDp0aGlzLGltZzplfSksCk9wZW5MYXllcnMuRXZlbnQub2JzZXJ2ZShlLCJsb2FkIixlLl9vbkltZ0xvYWQpfX0sZ2V0U2FmZUNvbnRlbnRTaXplOmZ1bmN0aW9uKGEpe3ZhciBhPWEuY2xvbmUoKSxiPXRoaXMuZ2V0Q29udGVudERpdlBhZGRpbmcoKSxjPWIubGVmdCtiLnJpZ2h0LGQ9Yi50b3ArYi5ib3R0b207dGhpcy5maXhQYWRkaW5nKCk7Yys9dGhpcy5wYWRkaW5nLmxlZnQrdGhpcy5wYWRkaW5nLnJpZ2h0O2QrPXRoaXMucGFkZGluZy50b3ArdGhpcy5wYWRkaW5nLmJvdHRvbTtpZih0aGlzLmNsb3NlRGl2KXZhciBlPXBhcnNlSW50KHRoaXMuY2xvc2VEaXYuc3R5bGUud2lkdGgpLGM9YysoZStiLnJpZ2h0KTt0aGlzLm1pblNpemUmJihhLnc9TWF0aC5tYXgoYS53LHRoaXMubWluU2l6ZS53LWMpLGEuaD1NYXRoLm1heChhLmgsdGhpcy5taW5TaXplLmgtZCkpO3RoaXMubWF4U2l6ZSYmKGEudz1NYXRoLm1pbihhLncsdGhpcy5tYXhTaXplLnctYyksYS5oPU1hdGgubWluKGEuaCx0aGlzLm1heFNpemUuaC0KZCkpO2lmKHRoaXMubWFwJiZ0aGlzLm1hcC5zaXplKXtlPWI9MDtpZih0aGlzLmtlZXBJbk1hcCYmIXRoaXMucGFuTWFwSWZPdXRPZlZpZXcpc3dpdGNoKGU9dGhpcy5tYXAuZ2V0UGl4ZWxGcm9tTG9uTGF0KHRoaXMubG9ubGF0KSx0aGlzLnJlbGF0aXZlUG9zaXRpb24pe2Nhc2UgInRyIjpiPWUueDtlPXRoaXMubWFwLnNpemUuaC1lLnk7YnJlYWs7Y2FzZSAidGwiOmI9dGhpcy5tYXAuc2l6ZS53LWUueDtlPXRoaXMubWFwLnNpemUuaC1lLnk7YnJlYWs7Y2FzZSAiYmwiOmI9dGhpcy5tYXAuc2l6ZS53LWUueDtlPWUueTticmVhaztjYXNlICJiciI6Yj1lLng7ZT1lLnk7YnJlYWs7ZGVmYXVsdDpiPWUueCxlPXRoaXMubWFwLnNpemUuaC1lLnl9ZD10aGlzLm1hcC5zaXplLmgtdGhpcy5tYXAucGFkZGluZ0ZvclBvcHVwcy50b3AtdGhpcy5tYXAucGFkZGluZ0ZvclBvcHVwcy5ib3R0b20tZC1lO2Eudz1NYXRoLm1pbihhLncsdGhpcy5tYXAuc2l6ZS53LXRoaXMubWFwLnBhZGRpbmdGb3JQb3B1cHMubGVmdC0KdGhpcy5tYXAucGFkZGluZ0ZvclBvcHVwcy5yaWdodC1jLWIpO2EuaD1NYXRoLm1pbihhLmgsZCl9cmV0dXJuIGF9LGdldENvbnRlbnREaXZQYWRkaW5nOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fY29udGVudERpdlBhZGRpbmc7YXx8KG51bGw9PXRoaXMuZGl2LnBhcmVudE5vZGUmJih0aGlzLmRpdi5zdHlsZS5kaXNwbGF5PSJub25lIixkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZGl2KSksdGhpcy5fY29udGVudERpdlBhZGRpbmc9YT1uZXcgT3BlbkxheWVycy5Cb3VuZHMoT3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKHRoaXMuY29udGVudERpdiwicGFkZGluZy1sZWZ0IiksT3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKHRoaXMuY29udGVudERpdiwicGFkZGluZy1ib3R0b20iKSxPcGVuTGF5ZXJzLkVsZW1lbnQuZ2V0U3R5bGUodGhpcy5jb250ZW50RGl2LCJwYWRkaW5nLXJpZ2h0IiksT3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKHRoaXMuY29udGVudERpdiwKInBhZGRpbmctdG9wIikpLHRoaXMuZGl2LnBhcmVudE5vZGU9PWRvY3VtZW50LmJvZHkmJihkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuZGl2KSx0aGlzLmRpdi5zdHlsZS5kaXNwbGF5PSIiKSk7cmV0dXJuIGF9LGFkZENsb3NlQm94OmZ1bmN0aW9uKGEpe3RoaXMuY2xvc2VEaXY9T3BlbkxheWVycy5VdGlsLmNyZWF0ZURpdih0aGlzLmlkKyJfY2xvc2UiLG51bGwse3c6MTcsaDoxN30pO3RoaXMuY2xvc2VEaXYuY2xhc3NOYW1lPSJvbFBvcHVwQ2xvc2VCb3giO3ZhciBiPXRoaXMuZ2V0Q29udGVudERpdlBhZGRpbmcoKTt0aGlzLmNsb3NlRGl2LnN0eWxlLnJpZ2h0PWIucmlnaHQrInB4Ijt0aGlzLmNsb3NlRGl2LnN0eWxlLnRvcD1iLnRvcCsicHgiO3RoaXMuZ3JvdXBEaXYuYXBwZW5kQ2hpbGQodGhpcy5jbG9zZURpdik7YT1hfHxmdW5jdGlvbihhKXt0aGlzLmhpZGUoKTtPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSl9O09wZW5MYXllcnMuRXZlbnQub2JzZXJ2ZSh0aGlzLmNsb3NlRGl2LAoidG91Y2hlbmQiLE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZEFzRXZlbnRMaXN0ZW5lcihhLHRoaXMpKTtPcGVuTGF5ZXJzLkV2ZW50Lm9ic2VydmUodGhpcy5jbG9zZURpdiwiY2xpY2siLE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZEFzRXZlbnRMaXN0ZW5lcihhLHRoaXMpKX0scGFuSW50b1ZpZXc6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm1hcC5nZXRTaXplKCksYj10aGlzLm1hcC5nZXRWaWV3UG9ydFB4RnJvbUxheWVyUHgobmV3IE9wZW5MYXllcnMuUGl4ZWwocGFyc2VJbnQodGhpcy5kaXYuc3R5bGUubGVmdCkscGFyc2VJbnQodGhpcy5kaXYuc3R5bGUudG9wKSkpLGM9Yi5jbG9uZSgpO2IueDx0aGlzLm1hcC5wYWRkaW5nRm9yUG9wdXBzLmxlZnQ/Yy54PXRoaXMubWFwLnBhZGRpbmdGb3JQb3B1cHMubGVmdDpiLngrdGhpcy5zaXplLnc+YS53LXRoaXMubWFwLnBhZGRpbmdGb3JQb3B1cHMucmlnaHQmJihjLng9YS53LXRoaXMubWFwLnBhZGRpbmdGb3JQb3B1cHMucmlnaHQtdGhpcy5zaXplLncpOwpiLnk8dGhpcy5tYXAucGFkZGluZ0ZvclBvcHVwcy50b3A/Yy55PXRoaXMubWFwLnBhZGRpbmdGb3JQb3B1cHMudG9wOmIueSt0aGlzLnNpemUuaD5hLmgtdGhpcy5tYXAucGFkZGluZ0ZvclBvcHVwcy5ib3R0b20mJihjLnk9YS5oLXRoaXMubWFwLnBhZGRpbmdGb3JQb3B1cHMuYm90dG9tLXRoaXMuc2l6ZS5oKTt0aGlzLm1hcC5wYW4oYi54LWMueCxiLnktYy55KX0scmVnaXN0ZXJFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLmV2ZW50cz1uZXcgT3BlbkxheWVycy5FdmVudHModGhpcyx0aGlzLmRpdixudWxsLCEwKTt0aGlzLmV2ZW50cy5vbih7bW91c2Vkb3duOnRoaXMub25tb3VzZWRvd24sbW91c2Vtb3ZlOnRoaXMub25tb3VzZW1vdmUsbW91c2V1cDp0aGlzLm9ubW91c2V1cCxjbGljazp0aGlzLm9uY2xpY2ssbW91c2VvdXQ6dGhpcy5vbm1vdXNlb3V0LGRibGNsaWNrOnRoaXMub25kYmxjbGljayx0b3VjaHN0YXJ0OmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRXZlbnQuc3RvcChhLCEwKX0sCnNjb3BlOnRoaXN9KX0sb25tb3VzZWRvd246ZnVuY3Rpb24oYSl7dGhpcy5tb3VzZWRvd249ITA7T3BlbkxheWVycy5FdmVudC5zdG9wKGEsITApfSxvbm1vdXNlbW92ZTpmdW5jdGlvbihhKXt0aGlzLm1vdXNlZG93biYmT3BlbkxheWVycy5FdmVudC5zdG9wKGEsITApfSxvbm1vdXNldXA6ZnVuY3Rpb24oYSl7dGhpcy5tb3VzZWRvd24mJih0aGlzLm1vdXNlZG93bj0hMSxPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSwhMCkpfSxvbmNsaWNrOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRXZlbnQuc3RvcChhLCEwKX0sb25tb3VzZW91dDpmdW5jdGlvbigpe3RoaXMubW91c2Vkb3duPSExfSxvbmRibGNsaWNrOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRXZlbnQuc3RvcChhLCEwKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Qb3B1cCJ9KTtPcGVuTGF5ZXJzLlBvcHVwLldJRFRIPTIwMDtPcGVuTGF5ZXJzLlBvcHVwLkhFSUdIVD0yMDA7T3BlbkxheWVycy5Qb3B1cC5DT0xPUj0id2hpdGUiOwpPcGVuTGF5ZXJzLlBvcHVwLk9QQUNJVFk9MTtPcGVuTGF5ZXJzLlBvcHVwLkJPUkRFUj0iMHB4IjtPcGVuTGF5ZXJzLlBvcHVwLkFuY2hvcmVkPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Qb3B1cCx7cmVsYXRpdmVQb3NpdGlvbjpudWxsLGtlZXBJbk1hcDohMCxhbmNob3I6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe09wZW5MYXllcnMuUG9wdXAucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYSxiLGMsZCxmLGddKTt0aGlzLmFuY2hvcj1udWxsIT1lP2U6e3NpemU6bmV3IE9wZW5MYXllcnMuU2l6ZSgwLDApLG9mZnNldDpuZXcgT3BlbkxheWVycy5QaXhlbCgwLDApfX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMucmVsYXRpdmVQb3NpdGlvbj10aGlzLmFuY2hvcj1udWxsO09wZW5MYXllcnMuUG9wdXAucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzaG93OmZ1bmN0aW9uKCl7dGhpcy51cGRhdGVQb3NpdGlvbigpO09wZW5MYXllcnMuUG9wdXAucHJvdG90eXBlLnNob3cuYXBwbHkodGhpcyxhcmd1bWVudHMpfSwKbW92ZVRvOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucmVsYXRpdmVQb3NpdGlvbjt0aGlzLnJlbGF0aXZlUG9zaXRpb249dGhpcy5jYWxjdWxhdGVSZWxhdGl2ZVBvc2l0aW9uKGEpO09wZW5MYXllcnMuUG9wdXAucHJvdG90eXBlLm1vdmVUby5jYWxsKHRoaXMsdGhpcy5jYWxjdWxhdGVOZXdQeChhKSk7dGhpcy5yZWxhdGl2ZVBvc2l0aW9uIT1iJiZ0aGlzLnVwZGF0ZVJlbGF0aXZlUG9zaXRpb24oKX0sc2V0U2l6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlBvcHVwLnByb3RvdHlwZS5zZXRTaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZih0aGlzLmxvbmxhdCYmdGhpcy5tYXApe3ZhciBiPXRoaXMubWFwLmdldExheWVyUHhGcm9tTG9uTGF0KHRoaXMubG9ubGF0KTt0aGlzLm1vdmVUbyhiKX19LGNhbGN1bGF0ZVJlbGF0aXZlUG9zaXRpb246ZnVuY3Rpb24oYSl7YT10aGlzLm1hcC5nZXRMb25MYXRGcm9tTGF5ZXJQeChhKTthPXRoaXMubWFwLmdldEV4dGVudCgpLmRldGVybWluZVF1YWRyYW50KGEpOwpyZXR1cm4gT3BlbkxheWVycy5Cb3VuZHMub3Bwb3NpdGVRdWFkcmFudChhKX0sdXBkYXRlUmVsYXRpdmVQb3NpdGlvbjpmdW5jdGlvbigpe30sY2FsY3VsYXRlTmV3UHg6ZnVuY3Rpb24oYSl7dmFyIGE9YS5vZmZzZXQodGhpcy5hbmNob3Iub2Zmc2V0KSxiPXRoaXMuc2l6ZXx8dGhpcy5jb250ZW50U2l6ZSxjPSJ0Ij09dGhpcy5yZWxhdGl2ZVBvc2l0aW9uLmNoYXJBdCgwKTthLnkrPWM/LWIuaDp0aGlzLmFuY2hvci5zaXplLmg7Yz0ibCI9PXRoaXMucmVsYXRpdmVQb3NpdGlvbi5jaGFyQXQoMSk7YS54Kz1jPy1iLnc6dGhpcy5hbmNob3Iuc2l6ZS53O3JldHVybiBhfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlBvcHVwLkFuY2hvcmVkIn0pOy8qCiBBcGFjaGUgMiAKCiBDb250YWlucyBwb3J0aW9ucyBvZiBSaWNvIDxodHRwOi8vb3BlbnJpY28ub3JnLz4KCiBDb3B5cmlnaHQgMjAwNSBTYWJyZSBBaXJsaW5lIFNvbHV0aW9ucyAgCgogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7IHlvdQogbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdQogbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wICAKCiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yCiBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcKIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4gCiovCk9wZW5MYXllcnMuQ29uc29sZS53YXJuKCJPcGVuTGF5ZXJzLlJpY28gaXMgZGVwcmVjYXRlZCIpO09wZW5MYXllcnMuUmljbz1PcGVuTGF5ZXJzLlJpY298fHt9OwpPcGVuTGF5ZXJzLlJpY28uQ29sb3I9T3BlbkxheWVycy5DbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyl7dGhpcy5yZ2I9e3I6YSxnOmIsYjpjfX0sc2V0UmVkOmZ1bmN0aW9uKGEpe3RoaXMucmdiLnI9YX0sc2V0R3JlZW46ZnVuY3Rpb24oYSl7dGhpcy5yZ2IuZz1hfSxzZXRCbHVlOmZ1bmN0aW9uKGEpe3RoaXMucmdiLmI9YX0sc2V0SHVlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYXNIU0IoKTtiLmg9YTt0aGlzLnJnYj1PcGVuTGF5ZXJzLlJpY28uQ29sb3IuSFNCdG9SR0IoYi5oLGIucyxiLmIpfSxzZXRTYXR1cmF0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYXNIU0IoKTtiLnM9YTt0aGlzLnJnYj1PcGVuTGF5ZXJzLlJpY28uQ29sb3IuSFNCdG9SR0IoYi5oLGIucyxiLmIpfSxzZXRCcmlnaHRuZXNzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYXNIU0IoKTtiLmI9YTt0aGlzLnJnYj1PcGVuTGF5ZXJzLlJpY28uQ29sb3IuSFNCdG9SR0IoYi5oLGIucyxiLmIpfSwKZGFya2VuOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYXNIU0IoKTt0aGlzLnJnYj1PcGVuTGF5ZXJzLlJpY28uQ29sb3IuSFNCdG9SR0IoYi5oLGIucyxNYXRoLm1heChiLmItYSwwKSl9LGJyaWdodGVuOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYXNIU0IoKTt0aGlzLnJnYj1PcGVuTGF5ZXJzLlJpY28uQ29sb3IuSFNCdG9SR0IoYi5oLGIucyxNYXRoLm1pbihiLmIrYSwxKSl9LGJsZW5kOmZ1bmN0aW9uKGEpe3RoaXMucmdiLnI9TWF0aC5mbG9vcigodGhpcy5yZ2IucithLnJnYi5yKS8yKTt0aGlzLnJnYi5nPU1hdGguZmxvb3IoKHRoaXMucmdiLmcrYS5yZ2IuZykvMik7dGhpcy5yZ2IuYj1NYXRoLmZsb29yKCh0aGlzLnJnYi5iK2EucmdiLmIpLzIpfSxpc0JyaWdodDpmdW5jdGlvbigpe3RoaXMuYXNIU0IoKTtyZXR1cm4gMC41PHRoaXMuYXNIU0IoKS5ifSxpc0Rhcms6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0JyaWdodCgpfSxhc1JHQjpmdW5jdGlvbigpe3JldHVybiJyZ2IoIisKdGhpcy5yZ2IucisiLCIrdGhpcy5yZ2IuZysiLCIrdGhpcy5yZ2IuYisiKSJ9LGFzSGV4OmZ1bmN0aW9uKCl7cmV0dXJuIiMiK3RoaXMucmdiLnIudG9Db2xvclBhcnQoKSt0aGlzLnJnYi5nLnRvQ29sb3JQYXJ0KCkrdGhpcy5yZ2IuYi50b0NvbG9yUGFydCgpfSxhc0hTQjpmdW5jdGlvbigpe3JldHVybiBPcGVuTGF5ZXJzLlJpY28uQ29sb3IuUkdCdG9IU0IodGhpcy5yZ2Iucix0aGlzLnJnYi5nLHRoaXMucmdiLmIpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFzSGV4KCl9fSk7Ck9wZW5MYXllcnMuUmljby5Db2xvci5jcmVhdGVGcm9tSGV4PWZ1bmN0aW9uKGEpe2lmKDQ9PWEubGVuZ3RoKWZvcih2YXIgYj1hLGE9IiMiLGM9MTs0PmM7YysrKWErPWIuY2hhckF0KGMpK2IuY2hhckF0KGMpOzA9PWEuaW5kZXhPZigiIyIpJiYoYT1hLnN1YnN0cmluZygxKSk7Yj1hLnN1YnN0cmluZygwLDIpO2M9YS5zdWJzdHJpbmcoMiw0KTthPWEuc3Vic3RyaW5nKDQsNik7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLlJpY28uQ29sb3IocGFyc2VJbnQoYiwxNikscGFyc2VJbnQoYywxNikscGFyc2VJbnQoYSwxNikpfTsKT3BlbkxheWVycy5SaWNvLkNvbG9yLmNyZWF0ZUNvbG9yRnJvbUJhY2tncm91bmQ9ZnVuY3Rpb24oYSl7dmFyIGI9T3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKE9wZW5MYXllcnMuVXRpbC5nZXRFbGVtZW50KGEpLCJiYWNrZ3JvdW5kQ29sb3IiKTtyZXR1cm4idHJhbnNwYXJlbnQiPT1iJiZhLnBhcmVudE5vZGU/T3BlbkxheWVycy5SaWNvLkNvbG9yLmNyZWF0ZUNvbG9yRnJvbUJhY2tncm91bmQoYS5wYXJlbnROb2RlKTpudWxsPT1iP25ldyBPcGVuTGF5ZXJzLlJpY28uQ29sb3IoMjU1LDI1NSwyNTUpOjA9PWIuaW5kZXhPZigicmdiKCIpPyhhPWIuc3Vic3RyaW5nKDQsYi5sZW5ndGgtMSkuc3BsaXQoIiwiKSxuZXcgT3BlbkxheWVycy5SaWNvLkNvbG9yKHBhcnNlSW50KGFbMF0pLHBhcnNlSW50KGFbMV0pLHBhcnNlSW50KGFbMl0pKSk6MD09Yi5pbmRleE9mKCIjIik/T3BlbkxheWVycy5SaWNvLkNvbG9yLmNyZWF0ZUZyb21IZXgoYik6bmV3IE9wZW5MYXllcnMuUmljby5Db2xvcigyNTUsCjI1NSwyNTUpfTsKT3BlbkxheWVycy5SaWNvLkNvbG9yLkhTQnRvUkdCPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD0wLGU9MCxmPTA7aWYoMD09YilmPWU9ZD1wYXJzZUludCgyNTUqYyswLjUpO2Vsc2V7dmFyIGE9NiooYS1NYXRoLmZsb29yKGEpKSxnPWEtTWF0aC5mbG9vcihhKSxoPWMqKDEtYiksaT1jKigxLWIqZyksYj1jKigxLWIqKDEtZykpO3N3aXRjaChwYXJzZUludChhKSl7Y2FzZSAwOmQ9MjU1KmMrMC41O2U9MjU1KmIrMC41O2Y9MjU1KmgrMC41O2JyZWFrO2Nhc2UgMTpkPTI1NSppKzAuNTtlPTI1NSpjKzAuNTtmPTI1NSpoKzAuNTticmVhaztjYXNlIDI6ZD0yNTUqaCswLjU7ZT0yNTUqYyswLjU7Zj0yNTUqYiswLjU7YnJlYWs7Y2FzZSAzOmQ9MjU1KmgrMC41O2U9MjU1KmkrMC41O2Y9MjU1KmMrMC41O2JyZWFrO2Nhc2UgNDpkPTI1NSpiKzAuNTtlPTI1NSpoKzAuNTtmPTI1NSpjKzAuNTticmVhaztjYXNlIDU6ZD0yNTUqYyswLjUsZT0yNTUqaCswLjUsZj0yNTUqaSswLjV9fXJldHVybntyOnBhcnNlSW50KGQpLGc6cGFyc2VJbnQoZSksCmI6cGFyc2VJbnQoZil9fTtPcGVuTGF5ZXJzLlJpY28uQ29sb3IuUkdCdG9IU0I9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9YT5iP2E6YjtjPmUmJihlPWMpO3ZhciBmPWE8Yj9hOmI7YzxmJiYoZj1jKTtkPTAhPWU/KGUtZikvZTowO2lmKDA9PWQpYT0wO2Vsc2V7dmFyIGc9KGUtYSkvKGUtZiksaD0oZS1iKS8oZS1mKSxjPShlLWMpLyhlLWYpLGE9KGE9PWU/Yy1oOmI9PWU/MitnLWM6NCtoLWcpLzY7MD5hJiYoYSs9MSl9cmV0dXJue2g6YSxzOmQsYjplLzI1NX19O09wZW5MYXllcnMuQ29uc29sZS53YXJuKCJPcGVuTGF5ZXJzLlJpY28gaXMgZGVwcmVjYXRlZCIpO09wZW5MYXllcnMuUmljbz1PcGVuTGF5ZXJzLlJpY298fHt9OwpPcGVuTGF5ZXJzLlJpY28uQ29ybmVyPXtyb3VuZDpmdW5jdGlvbihhLGIpe2E9T3BlbkxheWVycy5VdGlsLmdldEVsZW1lbnQoYSk7dGhpcy5fc2V0T3B0aW9ucyhiKTt2YXIgYz10aGlzLm9wdGlvbnMuY29sb3I7ImZyb21FbGVtZW50Ij09dGhpcy5vcHRpb25zLmNvbG9yJiYoYz10aGlzLl9iYWNrZ3JvdW5kKGEpKTt2YXIgZD10aGlzLm9wdGlvbnMuYmdDb2xvcjsiZnJvbVBhcmVudCI9PXRoaXMub3B0aW9ucy5iZ0NvbG9yJiYoZD10aGlzLl9iYWNrZ3JvdW5kKGEub2Zmc2V0UGFyZW50KSk7dGhpcy5fcm91bmRDb3JuZXJzSW1wbChhLGMsZCl9LGNoYW5nZUNvbG9yOmZ1bmN0aW9uKGEsYil7YS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9Yjtmb3IodmFyIGM9YS5wYXJlbnROb2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzcGFuIiksZD0wO2Q8Yy5sZW5ndGg7ZCsrKWNbZF0uc3R5bGUuYmFja2dyb3VuZENvbG9yPWJ9LGNoYW5nZU9wYWNpdHk6ZnVuY3Rpb24oYSxiKXt2YXIgYz0iYWxwaGEob3BhY2l0eT0iKwoxMDAqYisiKSI7YS5zdHlsZS5vcGFjaXR5PWI7YS5zdHlsZS5maWx0ZXI9Yztmb3IodmFyIGQ9YS5wYXJlbnROb2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzcGFuIiksZT0wO2U8ZC5sZW5ndGg7ZSsrKWRbZV0uc3R5bGUub3BhY2l0eT1iLGRbZV0uc3R5bGUuZmlsdGVyPWN9LHJlUm91bmQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnBhcmVudE5vZGUuY2hpbGROb2Rlc1syXTthLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYS5wYXJlbnROb2RlLmNoaWxkTm9kZXNbMF0pO2EucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKTt0aGlzLnJvdW5kKGEucGFyZW50Tm9kZSxiKX0sX3JvdW5kQ29ybmVyc0ltcGw6ZnVuY3Rpb24oYSxiLGMpe3RoaXMub3B0aW9ucy5ib3JkZXImJnRoaXMuX3JlbmRlckJvcmRlcihhLGMpO3RoaXMuX2lzVG9wUm91bmRlZCgpJiZ0aGlzLl9yb3VuZFRvcENvcm5lcnMoYSxiLGMpO3RoaXMuX2lzQm90dG9tUm91bmRlZCgpJiZ0aGlzLl9yb3VuZEJvdHRvbUNvcm5lcnMoYSwKYixjKX0sX3JlbmRlckJvcmRlcjpmdW5jdGlvbihhLGIpe3ZhciBjPSIxcHggc29saWQgIit0aGlzLl9ib3JkZXJDb2xvcihiKTthLmlubmVySFRNTD0iPGRpdiAiKygic3R5bGU9J2JvcmRlci1sZWZ0OiAiK2MrIjsiKygiYm9yZGVyLXJpZ2h0OiAiK2MpKyInIikrIj4iK2EuaW5uZXJIVE1MKyI8L2Rpdj4ifSxfcm91bmRUb3BDb3JuZXJzOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9dGhpcy5fY3JlYXRlQ29ybmVyKGMpLGU9MDtlPHRoaXMub3B0aW9ucy5udW1TbGljZXM7ZSsrKWQuYXBwZW5kQ2hpbGQodGhpcy5fY3JlYXRlQ29ybmVyU2xpY2UoYixjLGUsInRvcCIpKTthLnN0eWxlLnBhZGRpbmdUb3A9MDthLmluc2VydEJlZm9yZShkLGEuZmlyc3RDaGlsZCl9LF9yb3VuZEJvdHRvbUNvcm5lcnM6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD10aGlzLl9jcmVhdGVDb3JuZXIoYyksZT10aGlzLm9wdGlvbnMubnVtU2xpY2VzLTE7MDw9ZTtlLS0pZC5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVDb3JuZXJTbGljZShiLApjLGUsImJvdHRvbSIpKTthLnN0eWxlLnBhZGRpbmdCb3R0b209MDthLmFwcGVuZENoaWxkKGQpfSxfY3JlYXRlQ29ybmVyOmZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Iuc3R5bGUuYmFja2dyb3VuZENvbG9yPXRoaXMuX2lzVHJhbnNwYXJlbnQoKT8idHJhbnNwYXJlbnQiOmE7cmV0dXJuIGJ9LF9jcmVhdGVDb3JuZXJTbGljZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIiksZj1lLnN0eWxlO2YuYmFja2dyb3VuZENvbG9yPWE7Zi5kaXNwbGF5PSJibG9jayI7Zi5oZWlnaHQ9IjFweCI7Zi5vdmVyZmxvdz0iaGlkZGVuIjtmLmZvbnRTaXplPSIxcHgiO2E9dGhpcy5fYm9yZGVyQ29sb3IoYSxiKTt0aGlzLm9wdGlvbnMuYm9yZGVyJiYwPT1jPyhmLmJvcmRlclRvcFN0eWxlPSJzb2xpZCIsZi5ib3JkZXJUb3BXaWR0aD0iMXB4IixmLmJvcmRlckxlZnRXaWR0aD0iMHB4IixmLmJvcmRlclJpZ2h0V2lkdGg9CiIwcHgiLGYuYm9yZGVyQm90dG9tV2lkdGg9IjBweCIsZi5oZWlnaHQ9IjBweCIsZi5ib3JkZXJDb2xvcj1hKTphJiYoZi5ib3JkZXJDb2xvcj1hLGYuYm9yZGVyU3R5bGU9InNvbGlkIixmLmJvcmRlcldpZHRoPSIwcHggMXB4Iik7IXRoaXMub3B0aW9ucy5jb21wYWN0JiZjPT10aGlzLm9wdGlvbnMubnVtU2xpY2VzLTEmJihmLmhlaWdodD0iMnB4Iik7dGhpcy5fc2V0TWFyZ2luKGUsYyxkKTt0aGlzLl9zZXRCb3JkZXIoZSxjLGQpO3JldHVybiBlfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt0aGlzLm9wdGlvbnM9e2Nvcm5lcnM6ImFsbCIsY29sb3I6ImZyb21FbGVtZW50IixiZ0NvbG9yOiJmcm9tUGFyZW50IixibGVuZDohMCxib3JkZXI6ITEsY29tcGFjdDohMX07T3BlbkxheWVycy5VdGlsLmV4dGVuZCh0aGlzLm9wdGlvbnMsYXx8e30pO3RoaXMub3B0aW9ucy5udW1TbGljZXM9dGhpcy5vcHRpb25zLmNvbXBhY3Q/Mjo0O3RoaXMuX2lzVHJhbnNwYXJlbnQoKSYmKHRoaXMub3B0aW9ucy5ibGVuZD0KITEpfSxfd2hpY2hTaWRlVG9wOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hhc1N0cmluZyh0aGlzLm9wdGlvbnMuY29ybmVycywiYWxsIiwidG9wIil8fDA8PXRoaXMub3B0aW9ucy5jb3JuZXJzLmluZGV4T2YoInRsIikmJjA8PXRoaXMub3B0aW9ucy5jb3JuZXJzLmluZGV4T2YoInRyIik/IiI6MDw9dGhpcy5vcHRpb25zLmNvcm5lcnMuaW5kZXhPZigidGwiKT8ibGVmdCI6MDw9dGhpcy5vcHRpb25zLmNvcm5lcnMuaW5kZXhPZigidHIiKT8icmlnaHQiOiIifSxfd2hpY2hTaWRlQm90dG9tOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hhc1N0cmluZyh0aGlzLm9wdGlvbnMuY29ybmVycywiYWxsIiwiYm90dG9tIil8fDA8PXRoaXMub3B0aW9ucy5jb3JuZXJzLmluZGV4T2YoImJsIikmJjA8PXRoaXMub3B0aW9ucy5jb3JuZXJzLmluZGV4T2YoImJyIik/IiI6MDw9dGhpcy5vcHRpb25zLmNvcm5lcnMuaW5kZXhPZigiYmwiKT8ibGVmdCI6MDw9dGhpcy5vcHRpb25zLmNvcm5lcnMuaW5kZXhPZigiYnIiKT8KInJpZ2h0IjoiIn0sX2JvcmRlckNvbG9yOmZ1bmN0aW9uKGEsYil7cmV0dXJuInRyYW5zcGFyZW50Ij09YT9iOnRoaXMub3B0aW9ucy5ib3JkZXI/dGhpcy5vcHRpb25zLmJvcmRlcjp0aGlzLm9wdGlvbnMuYmxlbmQ/dGhpcy5fYmxlbmQoYixhKToiIn0sX3NldE1hcmdpbjpmdW5jdGlvbihhLGIsYyl7Yj10aGlzLl9tYXJnaW5TaXplKGIpO2M9InRvcCI9PWM/dGhpcy5fd2hpY2hTaWRlVG9wKCk6dGhpcy5fd2hpY2hTaWRlQm90dG9tKCk7ImxlZnQiPT1jPyhhLnN0eWxlLm1hcmdpbkxlZnQ9YisicHgiLGEuc3R5bGUubWFyZ2luUmlnaHQ9IjBweCIpOiJyaWdodCI9PWM/KGEuc3R5bGUubWFyZ2luUmlnaHQ9YisicHgiLGEuc3R5bGUubWFyZ2luTGVmdD0iMHB4Iik6KGEuc3R5bGUubWFyZ2luTGVmdD1iKyJweCIsYS5zdHlsZS5tYXJnaW5SaWdodD1iKyJweCIpfSxfc2V0Qm9yZGVyOmZ1bmN0aW9uKGEsYixjKXtiPXRoaXMuX2JvcmRlclNpemUoYik7Yz0idG9wIj09Yz90aGlzLl93aGljaFNpZGVUb3AoKToKdGhpcy5fd2hpY2hTaWRlQm90dG9tKCk7ImxlZnQiPT1jPyhhLnN0eWxlLmJvcmRlckxlZnRXaWR0aD1iKyJweCIsYS5zdHlsZS5ib3JkZXJSaWdodFdpZHRoPSIwcHgiKToicmlnaHQiPT1jPyhhLnN0eWxlLmJvcmRlclJpZ2h0V2lkdGg9YisicHgiLGEuc3R5bGUuYm9yZGVyTGVmdFdpZHRoPSIwcHgiKTooYS5zdHlsZS5ib3JkZXJMZWZ0V2lkdGg9YisicHgiLGEuc3R5bGUuYm9yZGVyUmlnaHRXaWR0aD1iKyJweCIpOyExIT10aGlzLm9wdGlvbnMuYm9yZGVyJiYoYS5zdHlsZS5ib3JkZXJMZWZ0V2lkdGg9YisicHgiLGEuc3R5bGUuYm9yZGVyUmlnaHRXaWR0aD1iKyJweCIpfSxfbWFyZ2luU2l6ZTpmdW5jdGlvbihhKXtpZih0aGlzLl9pc1RyYW5zcGFyZW50KCkpcmV0dXJuIDA7dmFyIGI9WzUsMywyLDFdLGM9WzMsMiwxLDBdLGQ9WzIsMV0sZT1bMSwwXTtyZXR1cm4gdGhpcy5vcHRpb25zLmNvbXBhY3QmJnRoaXMub3B0aW9ucy5ibGVuZD9lW2FdOnRoaXMub3B0aW9ucy5jb21wYWN0PwpkW2FdOnRoaXMub3B0aW9ucy5ibGVuZD9jW2FdOmJbYV19LF9ib3JkZXJTaXplOmZ1bmN0aW9uKGEpe3ZhciBiPVs1LDMsMiwxXSxjPVsyLDEsMSwxXSxkPVsxLDBdLGU9WzAsMiwwLDBdO3JldHVybiB0aGlzLm9wdGlvbnMuY29tcGFjdCYmKHRoaXMub3B0aW9ucy5ibGVuZHx8dGhpcy5faXNUcmFuc3BhcmVudCgpKT8xOnRoaXMub3B0aW9ucy5jb21wYWN0P2RbYV06dGhpcy5vcHRpb25zLmJsZW5kP2NbYV06dGhpcy5vcHRpb25zLmJvcmRlcj9lW2FdOnRoaXMuX2lzVHJhbnNwYXJlbnQoKT9iW2FdOjB9LF9oYXNTdHJpbmc6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTE7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKylpZigwPD1hLmluZGV4T2YoYXJndW1lbnRzW2JdKSlyZXR1cm4hMDtyZXR1cm4hMX0sX2JsZW5kOmZ1bmN0aW9uKGEsYil7dmFyIGM9T3BlbkxheWVycy5SaWNvLkNvbG9yLmNyZWF0ZUZyb21IZXgoYSk7Yy5ibGVuZChPcGVuTGF5ZXJzLlJpY28uQ29sb3IuY3JlYXRlRnJvbUhleChiKSk7CnJldHVybiBjfSxfYmFja2dyb3VuZDpmdW5jdGlvbihhKXt0cnl7cmV0dXJuIE9wZW5MYXllcnMuUmljby5Db2xvci5jcmVhdGVDb2xvckZyb21CYWNrZ3JvdW5kKGEpLmFzSGV4KCl9Y2F0Y2goYil7cmV0dXJuIiNmZmZmZmYifX0sX2lzVHJhbnNwYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4idHJhbnNwYXJlbnQiPT10aGlzLm9wdGlvbnMuY29sb3J9LF9pc1RvcFJvdW5kZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGFzU3RyaW5nKHRoaXMub3B0aW9ucy5jb3JuZXJzLCJhbGwiLCJ0b3AiLCJ0bCIsInRyIil9LF9pc0JvdHRvbVJvdW5kZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGFzU3RyaW5nKHRoaXMub3B0aW9ucy5jb3JuZXJzLCJhbGwiLCJib3R0b20iLCJibCIsImJyIil9LF9oYXNTaW5nbGVUZXh0Q2hpbGQ6ZnVuY3Rpb24oYSl7cmV0dXJuIDE9PWEuY2hpbGROb2Rlcy5sZW5ndGgmJjM9PWEuY2hpbGROb2Rlc1swXS5ub2RlVHlwZX19O09wZW5MYXllcnMuUG9wdXAuQW5jaG9yZWRCdWJibGU9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlBvcHVwLkFuY2hvcmVkLHtyb3VuZGVkOiExLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7T3BlbkxheWVycy5Db25zb2xlLndhcm4oIkFuY2hvcmVkQnViYmxlIGlzIGRlcHJlY2F0ZWQiKTt0aGlzLnBhZGRpbmc9bmV3IE9wZW5MYXllcnMuQm91bmRzKDAsT3BlbkxheWVycy5Qb3B1cC5BbmNob3JlZEJ1YmJsZS5DT1JORVJfU0laRSwwLE9wZW5MYXllcnMuUG9wdXAuQW5jaG9yZWRCdWJibGUuQ09STkVSX1NJWkUpO09wZW5MYXllcnMuUG9wdXAuQW5jaG9yZWQucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxkcmF3OmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuUG9wdXAuQW5jaG9yZWQucHJvdG90eXBlLmRyYXcuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuc2V0Q29udGVudEhUTUwoKTt0aGlzLnNldEJhY2tncm91bmRDb2xvcigpOwp0aGlzLnNldE9wYWNpdHkoKTtyZXR1cm4gdGhpcy5kaXZ9LHVwZGF0ZVJlbGF0aXZlUG9zaXRpb246ZnVuY3Rpb24oKXt0aGlzLnNldFJpY29Db3JuZXJzKCl9LHNldFNpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Qb3B1cC5BbmNob3JlZC5wcm90b3R5cGUuc2V0U2l6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5zZXRSaWNvQ29ybmVycygpfSxzZXRCYWNrZ3JvdW5kQ29sb3I6ZnVuY3Rpb24oYSl7dm9pZCAwIT1hJiYodGhpcy5iYWNrZ3JvdW5kQ29sb3I9YSk7bnVsbCE9dGhpcy5kaXYmJm51bGwhPXRoaXMuY29udGVudERpdiYmKHRoaXMuZGl2LnN0eWxlLmJhY2tncm91bmQ9InRyYW5zcGFyZW50IixPcGVuTGF5ZXJzLlJpY28uQ29ybmVyLmNoYW5nZUNvbG9yKHRoaXMuZ3JvdXBEaXYsdGhpcy5iYWNrZ3JvdW5kQ29sb3IpKX0sc2V0T3BhY2l0eTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlBvcHVwLkFuY2hvcmVkLnByb3RvdHlwZS5zZXRPcGFjaXR5LmNhbGwodGhpcywKYSk7bnVsbCE9dGhpcy5kaXYmJm51bGwhPXRoaXMuZ3JvdXBEaXYmJk9wZW5MYXllcnMuUmljby5Db3JuZXIuY2hhbmdlT3BhY2l0eSh0aGlzLmdyb3VwRGl2LHRoaXMub3BhY2l0eSl9LHNldEJvcmRlcjpmdW5jdGlvbigpe3RoaXMuYm9yZGVyPTB9LHNldFJpY29Db3JuZXJzOmZ1bmN0aW9uKCl7dmFyIGE9e2Nvcm5lcnM6dGhpcy5nZXRDb3JuZXJzVG9Sb3VuZCh0aGlzLnJlbGF0aXZlUG9zaXRpb24pLGNvbG9yOnRoaXMuYmFja2dyb3VuZENvbG9yLGJnQ29sb3I6InRyYW5zcGFyZW50IixibGVuZDohMX07dGhpcy5yb3VuZGVkPyhPcGVuTGF5ZXJzLlJpY28uQ29ybmVyLnJlUm91bmQodGhpcy5ncm91cERpdixhKSx0aGlzLnNldEJhY2tncm91bmRDb2xvcigpLHRoaXMuc2V0T3BhY2l0eSgpKTooT3BlbkxheWVycy5SaWNvLkNvcm5lci5yb3VuZCh0aGlzLmRpdixhKSx0aGlzLnJvdW5kZWQ9ITApfSxnZXRDb3JuZXJzVG9Sb3VuZDpmdW5jdGlvbigpe3ZhciBhPVsidGwiLCJ0ciIsCiJibCIsImJyIl0sYj1PcGVuTGF5ZXJzLkJvdW5kcy5vcHBvc2l0ZVF1YWRyYW50KHRoaXMucmVsYXRpdmVQb3NpdGlvbik7T3BlbkxheWVycy5VdGlsLnJlbW92ZUl0ZW0oYSxiKTtyZXR1cm4gYS5qb2luKCIgIil9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuUG9wdXAuQW5jaG9yZWRCdWJibGUifSk7T3BlbkxheWVycy5Qb3B1cC5BbmNob3JlZEJ1YmJsZS5DT1JORVJfU0laRT01O09wZW5MYXllcnMuUHJvdG9jb2wuV0ZTLnYxPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Qcm90b2NvbCx7dmVyc2lvbjpudWxsLHNyc05hbWU6IkVQU0c6NDMyNiIsZmVhdHVyZVR5cGU6bnVsbCxmZWF0dXJlTlM6bnVsbCxnZW9tZXRyeU5hbWU6InRoZV9nZW9tIixzY2hlbWE6bnVsbCxmZWF0dXJlUHJlZml4OiJmZWF0dXJlIixmb3JtYXRPcHRpb25zOm51bGwscmVhZEZvcm1hdDpudWxsLHJlYWRPcHRpb25zOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlByb3RvY29sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKTthLmZvcm1hdHx8KHRoaXMuZm9ybWF0PU9wZW5MYXllcnMuRm9ybWF0LldGU1QoT3BlbkxheWVycy5VdGlsLmV4dGVuZCh7dmVyc2lvbjp0aGlzLnZlcnNpb24sZmVhdHVyZVR5cGU6dGhpcy5mZWF0dXJlVHlwZSxmZWF0dXJlTlM6dGhpcy5mZWF0dXJlTlMsZmVhdHVyZVByZWZpeDp0aGlzLmZlYXR1cmVQcmVmaXgsZ2VvbWV0cnlOYW1lOnRoaXMuZ2VvbWV0cnlOYW1lLApzcnNOYW1lOnRoaXMuc3JzTmFtZSxzY2hlbWE6dGhpcy5zY2hlbWF9LHRoaXMuZm9ybWF0T3B0aW9ucykpKTshYS5nZW9tZXRyeU5hbWUmJjE8cGFyc2VGbG9hdCh0aGlzLmZvcm1hdC52ZXJzaW9uKSYmdGhpcy5zZXRHZW9tZXRyeU5hbWUobnVsbCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMmJiF0aGlzLm9wdGlvbnMuZm9ybWF0JiZ0aGlzLmZvcm1hdC5kZXN0cm95KCk7dGhpcy5mb3JtYXQ9bnVsbDtPcGVuTGF5ZXJzLlByb3RvY29sLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMpfSxyZWFkOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuUHJvdG9jb2wucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2E9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSxhKTtPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLHRoaXMub3B0aW9uc3x8e30pO3ZhciBiPW5ldyBPcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlKHtyZXF1ZXN0VHlwZToicmVhZCJ9KSwKYz1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLndyaXRlLmFwcGx5KHRoaXMuZm9ybWF0LFt0aGlzLmZvcm1hdC53cml0ZU5vZGUoIndmczpHZXRGZWF0dXJlIixhKV0pO2IucHJpdj1PcGVuTGF5ZXJzLlJlcXVlc3QuUE9TVCh7dXJsOmEudXJsLGNhbGxiYWNrOnRoaXMuY3JlYXRlQ2FsbGJhY2sodGhpcy5oYW5kbGVSZWFkLGIsYSkscGFyYW1zOmEucGFyYW1zLGhlYWRlcnM6YS5oZWFkZXJzLGRhdGE6Y30pO3JldHVybiBifSxzZXRGZWF0dXJlVHlwZTpmdW5jdGlvbihhKXt0aGlzLmZlYXR1cmVUeXBlPWE7dGhpcy5mb3JtYXQuZmVhdHVyZVR5cGU9YX0sc2V0R2VvbWV0cnlOYW1lOmZ1bmN0aW9uKGEpe3RoaXMuZ2VvbWV0cnlOYW1lPWE7dGhpcy5mb3JtYXQuZ2VvbWV0cnlOYW1lPWF9LGhhbmRsZVJlYWQ6ZnVuY3Rpb24oYSxiKXtiPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe30sYik7T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYix0aGlzLm9wdGlvbnMpO2lmKGIuY2FsbGJhY2spe3ZhciBjPQphLnByaXY7MjAwPD1jLnN0YXR1cyYmMzAwPmMuc3RhdHVzPyhjPXRoaXMucGFyc2VSZXNwb25zZShjLGIucmVhZE9wdGlvbnMpKSYmITEhPT1jLnN1Y2Nlc3M/KGIucmVhZE9wdGlvbnMmJiJvYmplY3QiPT1iLnJlYWRPcHRpb25zLm91dHB1dD9PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGEsYyk6YS5mZWF0dXJlcz1jLGEuY29kZT1PcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlLlNVQ0NFU1MpOihhLmNvZGU9T3BlbkxheWVycy5Qcm90b2NvbC5SZXNwb25zZS5GQUlMVVJFLGEuZXJyb3I9Yyk6YS5jb2RlPU9wZW5MYXllcnMuUHJvdG9jb2wuUmVzcG9uc2UuRkFJTFVSRTtiLmNhbGxiYWNrLmNhbGwoYi5zY29wZSxhKX19LHBhcnNlUmVzcG9uc2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnJlc3BvbnNlWE1MO2lmKCFjfHwhYy5kb2N1bWVudEVsZW1lbnQpYz1hLnJlc3BvbnNlVGV4dDtpZighY3x8MD49Yy5sZW5ndGgpcmV0dXJuIG51bGw7Yz1udWxsIT09dGhpcy5yZWFkRm9ybWF0P3RoaXMucmVhZEZvcm1hdC5yZWFkKGMpOgp0aGlzLmZvcm1hdC5yZWFkKGMsYik7aWYoIXRoaXMuZmVhdHVyZU5TKXt2YXIgZD10aGlzLnJlYWRGb3JtYXR8fHRoaXMuZm9ybWF0O3RoaXMuZmVhdHVyZU5TPWQuZmVhdHVyZU5TO2QuYXV0b0NvbmZpZz0hMTt0aGlzLmdlb21ldHJ5TmFtZXx8dGhpcy5zZXRHZW9tZXRyeU5hbWUoZC5nZW9tZXRyeU5hbWUpfXJldHVybiBjfSxjb21taXQ6ZnVuY3Rpb24oYSxiKXtiPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe30sYik7T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYix0aGlzLm9wdGlvbnMpO3ZhciBjPW5ldyBPcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlKHtyZXF1ZXN0VHlwZToiY29tbWl0IixyZXFGZWF0dXJlczphfSk7Yy5wcml2PU9wZW5MYXllcnMuUmVxdWVzdC5QT1NUKHt1cmw6Yi51cmwsaGVhZGVyczpiLmhlYWRlcnMsZGF0YTp0aGlzLmZvcm1hdC53cml0ZShhLGIpLGNhbGxiYWNrOnRoaXMuY3JlYXRlQ2FsbGJhY2sodGhpcy5oYW5kbGVDb21taXQsYyxiKX0pOwpyZXR1cm4gY30saGFuZGxlQ29tbWl0OmZ1bmN0aW9uKGEsYil7aWYoYi5jYWxsYmFjayl7dmFyIGM9YS5wcml2LGQ9Yy5yZXNwb25zZVhNTDtpZighZHx8IWQuZG9jdW1lbnRFbGVtZW50KWQ9Yy5yZXNwb25zZVRleHQ7Yz10aGlzLmZvcm1hdC5yZWFkKGQpfHx7fTthLmluc2VydElkcz1jLmluc2VydElkc3x8W107Yy5zdWNjZXNzP2EuY29kZT1PcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlLlNVQ0NFU1M6KGEuY29kZT1PcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlLkZBSUxVUkUsYS5lcnJvcj1jKTtiLmNhbGxiYWNrLmNhbGwoYi5zY29wZSxhKX19LGZpbHRlckRlbGV0ZTpmdW5jdGlvbihhLGIpe2I9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSxiKTtPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhiLHRoaXMub3B0aW9ucyk7bmV3IE9wZW5MYXllcnMuUHJvdG9jb2wuUmVzcG9uc2Uoe3JlcXVlc3RUeXBlOiJjb21taXQifSk7dmFyIGM9dGhpcy5mb3JtYXQuY3JlYXRlRWxlbWVudE5TUGx1cygid2ZzOlRyYW5zYWN0aW9uIiwKe2F0dHJpYnV0ZXM6e3NlcnZpY2U6IldGUyIsdmVyc2lvbjp0aGlzLnZlcnNpb259fSksZD10aGlzLmZvcm1hdC5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3ZnM6RGVsZXRlIix7YXR0cmlidXRlczp7dHlwZU5hbWU6KGIuZmVhdHVyZU5TP3RoaXMuZmVhdHVyZVByZWZpeCsiOiI6IiIpK2IuZmVhdHVyZVR5cGV9fSk7Yi5mZWF0dXJlTlMmJmQuc2V0QXR0cmlidXRlKCJ4bWxuczoiK3RoaXMuZmVhdHVyZVByZWZpeCxiLmZlYXR1cmVOUyk7dmFyIGU9dGhpcy5mb3JtYXQud3JpdGVOb2RlKCJvZ2M6RmlsdGVyIixhKTtkLmFwcGVuZENoaWxkKGUpO2MuYXBwZW5kQ2hpbGQoZCk7Yz1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLndyaXRlLmFwcGx5KHRoaXMuZm9ybWF0LFtjXSk7cmV0dXJuIE9wZW5MYXllcnMuUmVxdWVzdC5QT1NUKHt1cmw6dGhpcy51cmwsY2FsbGJhY2s6Yi5jYWxsYmFja3x8ZnVuY3Rpb24oKXt9LGRhdGE6Y30pfSxhYm9ydDpmdW5jdGlvbihhKXthJiZhLnByaXYuYWJvcnQoKX0sCkNMQVNTX05BTUU6Ik9wZW5MYXllcnMuUHJvdG9jb2wuV0ZTLnYxIn0pO09wZW5MYXllcnMuSGFuZGxlci5GZWF0dXJlPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5IYW5kbGVyLHtFVkVOVE1BUDp7Y2xpY2s6eyJpbiI6ImNsaWNrIixvdXQ6ImNsaWNrb3V0In0sbW91c2Vtb3ZlOnsiaW4iOiJvdmVyIixvdXQ6Im91dCJ9LGRibGNsaWNrOnsiaW4iOiJkYmxjbGljayIsb3V0Om51bGx9LG1vdXNlZG93bjp7ImluIjpudWxsLG91dDpudWxsfSxtb3VzZXVwOnsiaW4iOm51bGwsb3V0Om51bGx9LHRvdWNoc3RhcnQ6eyJpbiI6ImNsaWNrIixvdXQ6ImNsaWNrb3V0In19LGZlYXR1cmU6bnVsbCxsYXN0RmVhdHVyZTpudWxsLGRvd246bnVsbCx1cDpudWxsLGNsaWNrVG9sZXJhbmNlOjQsZ2VvbWV0cnlUeXBlczpudWxsLHN0b3BDbGljazohMCxzdG9wRG93bjohMCxzdG9wVXA6ITEsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyxkKXtPcGVuTGF5ZXJzLkhhbmRsZXIucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYSxjLGRdKTt0aGlzLmxheWVyPQpifSx0b3VjaHN0YXJ0OmZ1bmN0aW9uKGEpe3RoaXMuc3RhcnRUb3VjaCgpO3JldHVybiBPcGVuTGF5ZXJzLkV2ZW50LmlzTXVsdGlUb3VjaChhKT8hMDp0aGlzLm1vdXNlZG93bihhKX0sdG91Y2htb3ZlOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRXZlbnQucHJldmVudERlZmF1bHQoYSl9LG1vdXNlZG93bjpmdW5jdGlvbihhKXtpZihPcGVuTGF5ZXJzLkV2ZW50LmlzTGVmdENsaWNrKGEpfHxPcGVuTGF5ZXJzLkV2ZW50LmlzU2luZ2xlVG91Y2goYSkpdGhpcy5kb3duPWEueHk7cmV0dXJuIHRoaXMuaGFuZGxlKGEpPyF0aGlzLnN0b3BEb3duOiEwfSxtb3VzZXVwOmZ1bmN0aW9uKGEpe3RoaXMudXA9YS54eTtyZXR1cm4gdGhpcy5oYW5kbGUoYSk/IXRoaXMuc3RvcFVwOiEwfSxjbGljazpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYW5kbGUoYSk/IXRoaXMuc3RvcENsaWNrOiEwfSxtb3VzZW1vdmU6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuY2FsbGJhY2tzLm92ZXImJiF0aGlzLmNhbGxiYWNrcy5vdXQpcmV0dXJuITA7CnRoaXMuaGFuZGxlKGEpO3JldHVybiEwfSxkYmxjbGljazpmdW5jdGlvbihhKXtyZXR1cm4hdGhpcy5oYW5kbGUoYSl9LGdlb21ldHJ5VHlwZU1hdGNoZXM6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PXRoaXMuZ2VvbWV0cnlUeXBlc3x8LTE8T3BlbkxheWVycy5VdGlsLmluZGV4T2YodGhpcy5nZW9tZXRyeVR5cGVzLGEuZ2VvbWV0cnkuQ0xBU1NfTkFNRSl9LGhhbmRsZTpmdW5jdGlvbihhKXt0aGlzLmZlYXR1cmUmJiF0aGlzLmZlYXR1cmUubGF5ZXImJih0aGlzLmZlYXR1cmU9bnVsbCk7dmFyIGI9YS50eXBlLGM9ITEsZD0hIXRoaXMuZmVhdHVyZSxlPSJjbGljayI9PWJ8fCJkYmxjbGljayI9PWJ8fCJ0b3VjaHN0YXJ0Ij09YjtpZigodGhpcy5mZWF0dXJlPXRoaXMubGF5ZXIuZ2V0RmVhdHVyZUZyb21FdmVudChhKSkmJiF0aGlzLmZlYXR1cmUubGF5ZXIpdGhpcy5mZWF0dXJlPW51bGw7dGhpcy5sYXN0RmVhdHVyZSYmIXRoaXMubGFzdEZlYXR1cmUubGF5ZXImJih0aGlzLmxhc3RGZWF0dXJlPQpudWxsKTt0aGlzLmZlYXR1cmU/KCJ0b3VjaHN0YXJ0Ij09PWImJk9wZW5MYXllcnMuRXZlbnQucHJldmVudERlZmF1bHQoYSksYT10aGlzLmZlYXR1cmUhPXRoaXMubGFzdEZlYXR1cmUsdGhpcy5nZW9tZXRyeVR5cGVNYXRjaGVzKHRoaXMuZmVhdHVyZSk/KGQmJmE/KHRoaXMubGFzdEZlYXR1cmUmJnRoaXMudHJpZ2dlckNhbGxiYWNrKGIsIm91dCIsW3RoaXMubGFzdEZlYXR1cmVdKSx0aGlzLnRyaWdnZXJDYWxsYmFjayhiLCJpbiIsW3RoaXMuZmVhdHVyZV0pKTooIWR8fGUpJiZ0aGlzLnRyaWdnZXJDYWxsYmFjayhiLCJpbiIsW3RoaXMuZmVhdHVyZV0pLHRoaXMubGFzdEZlYXR1cmU9dGhpcy5mZWF0dXJlLGM9ITApOih0aGlzLmxhc3RGZWF0dXJlJiYoZCYmYXx8ZSkmJnRoaXMudHJpZ2dlckNhbGxiYWNrKGIsIm91dCIsW3RoaXMubGFzdEZlYXR1cmVdKSx0aGlzLmZlYXR1cmU9bnVsbCkpOnRoaXMubGFzdEZlYXR1cmUmJihkfHxlKSYmdGhpcy50cmlnZ2VyQ2FsbGJhY2soYiwKIm91dCIsW3RoaXMubGFzdEZlYXR1cmVdKTtyZXR1cm4gY30sdHJpZ2dlckNhbGxiYWNrOmZ1bmN0aW9uKGEsYixjKXtpZihiPXRoaXMuRVZFTlRNQVBbYV1bYl0pImNsaWNrIj09YSYmdGhpcy51cCYmdGhpcy5kb3duPyhNYXRoLnNxcnQoTWF0aC5wb3codGhpcy51cC54LXRoaXMuZG93bi54LDIpK01hdGgucG93KHRoaXMudXAueS10aGlzLmRvd24ueSwyKSk8PXRoaXMuY2xpY2tUb2xlcmFuY2UmJnRoaXMuY2FsbGJhY2soYixjKSx0aGlzLnVwPXRoaXMuZG93bj1udWxsKTp0aGlzLmNhbGxiYWNrKGIsYyl9LGFjdGl2YXRlOmZ1bmN0aW9uKCl7dmFyIGE9ITE7T3BlbkxheWVycy5IYW5kbGVyLnByb3RvdHlwZS5hY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cykmJih0aGlzLm1vdmVMYXllclRvVG9wKCksdGhpcy5tYXAuZXZlbnRzLm9uKHtyZW1vdmVsYXllcjp0aGlzLmhhbmRsZU1hcEV2ZW50cyxjaGFuZ2VsYXllcjp0aGlzLmhhbmRsZU1hcEV2ZW50cyxzY29wZTp0aGlzfSksCmE9ITApO3JldHVybiBhfSxkZWFjdGl2YXRlOmZ1bmN0aW9uKCl7dmFyIGE9ITE7T3BlbkxheWVycy5IYW5kbGVyLnByb3RvdHlwZS5kZWFjdGl2YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSYmKHRoaXMubW92ZUxheWVyQmFjaygpLHRoaXMudXA9dGhpcy5kb3duPXRoaXMubGFzdEZlYXR1cmU9dGhpcy5mZWF0dXJlPW51bGwsdGhpcy5tYXAuZXZlbnRzLnVuKHtyZW1vdmVsYXllcjp0aGlzLmhhbmRsZU1hcEV2ZW50cyxjaGFuZ2VsYXllcjp0aGlzLmhhbmRsZU1hcEV2ZW50cyxzY29wZTp0aGlzfSksYT0hMCk7cmV0dXJuIGF9LGhhbmRsZU1hcEV2ZW50czpmdW5jdGlvbihhKXsoInJlbW92ZWxheWVyIj09YS50eXBlfHwib3JkZXIiPT1hLnByb3BlcnR5KSYmdGhpcy5tb3ZlTGF5ZXJUb1RvcCgpfSxtb3ZlTGF5ZXJUb1RvcDpmdW5jdGlvbigpe3ZhciBhPU1hdGgubWF4KHRoaXMubWFwLlpfSU5ERVhfQkFTRS5GZWF0dXJlLTEsdGhpcy5sYXllci5nZXRaSW5kZXgoKSkrMTt0aGlzLmxheWVyLnNldFpJbmRleChhKX0sCm1vdmVMYXllckJhY2s6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxheWVyLmdldFpJbmRleCgpLTE7YT49dGhpcy5tYXAuWl9JTkRFWF9CQVNFLkZlYXR1cmU/dGhpcy5sYXllci5zZXRaSW5kZXgoYSk6dGhpcy5tYXAuc2V0TGF5ZXJaSW5kZXgodGhpcy5sYXllcix0aGlzLm1hcC5nZXRMYXllckluZGV4KHRoaXMubGF5ZXIpKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5IYW5kbGVyLkZlYXR1cmUifSk7T3BlbkxheWVycy5MYXllci5WZWN0b3IuUm9vdENvbnRhaW5lcj1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIuVmVjdG9yLHtkaXNwbGF5SW5MYXllclN3aXRjaGVyOiExLGxheWVyczpudWxsLGRpc3BsYXk6ZnVuY3Rpb24oKXt9LGdldEZlYXR1cmVGcm9tRXZlbnQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMubGF5ZXJzLGMsZD0wO2Q8Yi5sZW5ndGg7ZCsrKWlmKGM9YltkXS5nZXRGZWF0dXJlRnJvbUV2ZW50KGEpKXJldHVybiBjfSxzZXRNYXA6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5MYXllci5WZWN0b3IucHJvdG90eXBlLnNldE1hcC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5jb2xsZWN0Um9vdHMoKTthLmV2ZW50cy5yZWdpc3RlcigiY2hhbmdlbGF5ZXIiLHRoaXMsdGhpcy5oYW5kbGVDaGFuZ2VMYXllcil9LHJlbW92ZU1hcDpmdW5jdGlvbihhKXthLmV2ZW50cy51bnJlZ2lzdGVyKCJjaGFuZ2VsYXllciIsdGhpcyx0aGlzLmhhbmRsZUNoYW5nZUxheWVyKTsKdGhpcy5yZXNldFJvb3RzKCk7T3BlbkxheWVycy5MYXllci5WZWN0b3IucHJvdG90eXBlLnJlbW92ZU1hcC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGNvbGxlY3RSb290czpmdW5jdGlvbigpe2Zvcih2YXIgYSxiPTA7Yjx0aGlzLm1hcC5sYXllcnMubGVuZ3RoOysrYilhPXRoaXMubWFwLmxheWVyc1tiXSwtMSE9T3BlbkxheWVycy5VdGlsLmluZGV4T2YodGhpcy5sYXllcnMsYSkmJmEucmVuZGVyZXIubW92ZVJvb3QodGhpcy5yZW5kZXJlcil9LHJlc2V0Um9vdHM6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYj0wO2I8dGhpcy5sYXllcnMubGVuZ3RoOysrYilhPXRoaXMubGF5ZXJzW2JdLHRoaXMucmVuZGVyZXImJmEucmVuZGVyZXIuZ2V0UmVuZGVyTGF5ZXJJZCgpPT10aGlzLmlkJiZ0aGlzLnJlbmRlcmVyLm1vdmVSb290KGEucmVuZGVyZXIpfSxoYW5kbGVDaGFuZ2VMYXllcjpmdW5jdGlvbihhKXt2YXIgYj1hLmxheWVyOyJvcmRlciI9PWEucHJvcGVydHkmJi0xIT1PcGVuTGF5ZXJzLlV0aWwuaW5kZXhPZih0aGlzLmxheWVycywKYikmJih0aGlzLnJlc2V0Um9vdHMoKSx0aGlzLmNvbGxlY3RSb290cygpKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5WZWN0b3IuUm9vdENvbnRhaW5lciJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuU2VsZWN0RmVhdHVyZT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbCx7bXVsdGlwbGVLZXk6bnVsbCx0b2dnbGVLZXk6bnVsbCxtdWx0aXBsZTohMSxjbGlja291dDohMCx0b2dnbGU6ITEsaG92ZXI6ITEsaGlnaGxpZ2h0T25seTohMSxib3g6ITEsb25CZWZvcmVTZWxlY3Q6ZnVuY3Rpb24oKXt9LG9uU2VsZWN0OmZ1bmN0aW9uKCl7fSxvblVuc2VsZWN0OmZ1bmN0aW9uKCl7fSxzY29wZTpudWxsLGdlb21ldHJ5VHlwZXM6bnVsbCxsYXllcjpudWxsLGxheWVyczpudWxsLGNhbGxiYWNrczpudWxsLHNlbGVjdFN0eWxlOm51bGwscmVuZGVySW50ZW50OiJzZWxlY3QiLGhhbmRsZXJzOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIpe09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFtiXSk7bnVsbD09PXRoaXMuc2NvcGUmJih0aGlzLnNjb3BlPXRoaXMpO3RoaXMuaW5pdExheWVyKGEpO3ZhciBjPQp7Y2xpY2s6dGhpcy5jbGlja0ZlYXR1cmUsY2xpY2tvdXQ6dGhpcy5jbGlja291dEZlYXR1cmV9O3RoaXMuaG92ZXImJihjLm92ZXI9dGhpcy5vdmVyRmVhdHVyZSxjLm91dD10aGlzLm91dEZlYXR1cmUpO3RoaXMuY2FsbGJhY2tzPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoYyx0aGlzLmNhbGxiYWNrcyk7dGhpcy5oYW5kbGVycz17ZmVhdHVyZTpuZXcgT3BlbkxheWVycy5IYW5kbGVyLkZlYXR1cmUodGhpcyx0aGlzLmxheWVyLHRoaXMuY2FsbGJhY2tzLHtnZW9tZXRyeVR5cGVzOnRoaXMuZ2VvbWV0cnlUeXBlc30pfTt0aGlzLmJveCYmKHRoaXMuaGFuZGxlcnMuYm94PW5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuQm94KHRoaXMse2RvbmU6dGhpcy5zZWxlY3RCb3h9LHtib3hEaXZDbGFzc05hbWU6Im9sSGFuZGxlckJveFNlbGVjdEZlYXR1cmUifSkpfSxpbml0TGF5ZXI6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSk/KHRoaXMubGF5ZXJzPWEsdGhpcy5sYXllcj0KbmV3IE9wZW5MYXllcnMuTGF5ZXIuVmVjdG9yLlJvb3RDb250YWluZXIodGhpcy5pZCsiX2NvbnRhaW5lciIse2xheWVyczphfSkpOnRoaXMubGF5ZXI9YX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuYWN0aXZlJiZ0aGlzLmxheWVycyYmdGhpcy5tYXAucmVtb3ZlTGF5ZXIodGhpcy5sYXllcik7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmxheWVycyYmdGhpcy5sYXllci5kZXN0cm95KCl9LGFjdGl2YXRlOmZ1bmN0aW9uKCl7dGhpcy5hY3RpdmV8fCh0aGlzLmxheWVycyYmdGhpcy5tYXAuYWRkTGF5ZXIodGhpcy5sYXllciksdGhpcy5oYW5kbGVycy5mZWF0dXJlLmFjdGl2YXRlKCksdGhpcy5ib3gmJnRoaXMuaGFuZGxlcnMuYm94JiZ0aGlzLmhhbmRsZXJzLmJveC5hY3RpdmF0ZSgpKTtyZXR1cm4gT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5hY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXt0aGlzLmFjdGl2ZSYmCih0aGlzLmhhbmRsZXJzLmZlYXR1cmUuZGVhY3RpdmF0ZSgpLHRoaXMuaGFuZGxlcnMuYm94JiZ0aGlzLmhhbmRsZXJzLmJveC5kZWFjdGl2YXRlKCksdGhpcy5sYXllcnMmJnRoaXMubWFwLnJlbW92ZUxheWVyKHRoaXMubGF5ZXIpKTtyZXR1cm4gT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZWFjdGl2YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdW5zZWxlY3RBbGw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5sYXllcnN8fFt0aGlzLmxheWVyXSxjLGQsZSxmO2ZvcihlPTA7ZTxiLmxlbmd0aDsrK2UpaWYoYz1iW2VdLGY9MCxudWxsIT1jLnNlbGVjdGVkRmVhdHVyZXMpZm9yKDtjLnNlbGVjdGVkRmVhdHVyZXMubGVuZ3RoPmY7KWQ9Yy5zZWxlY3RlZEZlYXR1cmVzW2ZdLCFhfHxhLmV4Y2VwdCE9ZD90aGlzLnVuc2VsZWN0KGQpOisrZn0sY2xpY2tGZWF0dXJlOmZ1bmN0aW9uKGEpe3RoaXMuaG92ZXJ8fCgtMTxPcGVuTGF5ZXJzLlV0aWwuaW5kZXhPZihhLmxheWVyLnNlbGVjdGVkRmVhdHVyZXMsCmEpP3RoaXMudG9nZ2xlU2VsZWN0KCk/dGhpcy51bnNlbGVjdChhKTp0aGlzLm11bHRpcGxlU2VsZWN0KCl8fHRoaXMudW5zZWxlY3RBbGwoe2V4Y2VwdDphfSk6KHRoaXMubXVsdGlwbGVTZWxlY3QoKXx8dGhpcy51bnNlbGVjdEFsbCh7ZXhjZXB0OmF9KSx0aGlzLnNlbGVjdChhKSkpfSxtdWx0aXBsZVNlbGVjdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm11bHRpcGxlfHx0aGlzLmhhbmRsZXJzLmZlYXR1cmUuZXZ0JiZ0aGlzLmhhbmRsZXJzLmZlYXR1cmUuZXZ0W3RoaXMubXVsdGlwbGVLZXldfSx0b2dnbGVTZWxlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b2dnbGV8fHRoaXMuaGFuZGxlcnMuZmVhdHVyZS5ldnQmJnRoaXMuaGFuZGxlcnMuZmVhdHVyZS5ldnRbdGhpcy50b2dnbGVLZXldfSxjbGlja291dEZlYXR1cmU6ZnVuY3Rpb24oKXshdGhpcy5ob3ZlciYmdGhpcy5jbGlja291dCYmdGhpcy51bnNlbGVjdEFsbCgpfSxvdmVyRmVhdHVyZTpmdW5jdGlvbihhKXt2YXIgYj0KYS5sYXllcjt0aGlzLmhvdmVyJiYodGhpcy5oaWdobGlnaHRPbmx5P3RoaXMuaGlnaGxpZ2h0KGEpOi0xPT1PcGVuTGF5ZXJzLlV0aWwuaW5kZXhPZihiLnNlbGVjdGVkRmVhdHVyZXMsYSkmJnRoaXMuc2VsZWN0KGEpKX0sb3V0RmVhdHVyZTpmdW5jdGlvbihhKXtpZih0aGlzLmhvdmVyKWlmKHRoaXMuaGlnaGxpZ2h0T25seSl7aWYoYS5fbGFzdEhpZ2hsaWdodGVyPT10aGlzLmlkKWlmKGEuX3ByZXZIaWdobGlnaHRlciYmYS5fcHJldkhpZ2hsaWdodGVyIT10aGlzLmlkKXtkZWxldGUgYS5fbGFzdEhpZ2hsaWdodGVyO3ZhciBiPXRoaXMubWFwLmdldENvbnRyb2woYS5fcHJldkhpZ2hsaWdodGVyKTtiJiZiLmhpZ2hsaWdodChhKX1lbHNlIHRoaXMudW5oaWdobGlnaHQoYSl9ZWxzZSB0aGlzLnVuc2VsZWN0KGEpfSxoaWdobGlnaHQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5sYXllcjshMSE9PXRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiYmVmb3JlZmVhdHVyZWhpZ2hsaWdodGVkIix7ZmVhdHVyZTphfSkmJgooYS5fcHJldkhpZ2hsaWdodGVyPWEuX2xhc3RIaWdobGlnaHRlcixhLl9sYXN0SGlnaGxpZ2h0ZXI9dGhpcy5pZCxiLmRyYXdGZWF0dXJlKGEsdGhpcy5zZWxlY3RTdHlsZXx8dGhpcy5yZW5kZXJJbnRlbnQpLHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiZmVhdHVyZWhpZ2hsaWdodGVkIix7ZmVhdHVyZTphfSkpfSx1bmhpZ2hsaWdodDpmdW5jdGlvbihhKXt2YXIgYj1hLmxheWVyO3ZvaWQgMD09YS5fcHJldkhpZ2hsaWdodGVyP2RlbGV0ZSBhLl9sYXN0SGlnaGxpZ2h0ZXI6KGEuX3ByZXZIaWdobGlnaHRlciE9dGhpcy5pZCYmKGEuX2xhc3RIaWdobGlnaHRlcj1hLl9wcmV2SGlnaGxpZ2h0ZXIpLGRlbGV0ZSBhLl9wcmV2SGlnaGxpZ2h0ZXIpO2IuZHJhd0ZlYXR1cmUoYSxhLnN0eWxlfHxhLmxheWVyLnN0eWxlfHwiZGVmYXVsdCIpO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiZmVhdHVyZXVuaGlnaGxpZ2h0ZWQiLHtmZWF0dXJlOmF9KX0sc2VsZWN0OmZ1bmN0aW9uKGEpe3ZhciBiPQp0aGlzLm9uQmVmb3JlU2VsZWN0LmNhbGwodGhpcy5zY29wZSxhKSxjPWEubGF5ZXI7ITEhPT1iJiYoYj1jLmV2ZW50cy50cmlnZ2VyRXZlbnQoImJlZm9yZWZlYXR1cmVzZWxlY3RlZCIse2ZlYXR1cmU6YX0pLCExIT09YiYmKGMuc2VsZWN0ZWRGZWF0dXJlcy5wdXNoKGEpLHRoaXMuaGlnaGxpZ2h0KGEpLHRoaXMuaGFuZGxlcnMuZmVhdHVyZS5sYXN0RmVhdHVyZXx8KHRoaXMuaGFuZGxlcnMuZmVhdHVyZS5sYXN0RmVhdHVyZT1jLnNlbGVjdGVkRmVhdHVyZXNbMF0pLGMuZXZlbnRzLnRyaWdnZXJFdmVudCgiZmVhdHVyZXNlbGVjdGVkIix7ZmVhdHVyZTphfSksdGhpcy5vblNlbGVjdC5jYWxsKHRoaXMuc2NvcGUsYSkpKX0sdW5zZWxlY3Q6ZnVuY3Rpb24oYSl7dmFyIGI9YS5sYXllcjt0aGlzLnVuaGlnaGxpZ2h0KGEpO09wZW5MYXllcnMuVXRpbC5yZW1vdmVJdGVtKGIuc2VsZWN0ZWRGZWF0dXJlcyxhKTtiLmV2ZW50cy50cmlnZ2VyRXZlbnQoImZlYXR1cmV1bnNlbGVjdGVkIiwKe2ZlYXR1cmU6YX0pO3RoaXMub25VbnNlbGVjdC5jYWxsKHRoaXMuc2NvcGUsYSl9LHNlbGVjdEJveDpmdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgT3BlbkxheWVycy5Cb3VuZHMpe3ZhciBiPXRoaXMubWFwLmdldExvbkxhdEZyb21QaXhlbCh7eDphLmxlZnQseTphLmJvdHRvbX0pLGE9dGhpcy5tYXAuZ2V0TG9uTGF0RnJvbVBpeGVsKHt4OmEucmlnaHQseTphLnRvcH0pLGI9bmV3IE9wZW5MYXllcnMuQm91bmRzKGIubG9uLGIubGF0LGEubG9uLGEubGF0KTt0aGlzLm11bHRpcGxlU2VsZWN0KCl8fHRoaXMudW5zZWxlY3RBbGwoKTthPXRoaXMubXVsdGlwbGU7dGhpcy5tdWx0aXBsZT0hMDt2YXIgYz10aGlzLmxheWVyc3x8W3RoaXMubGF5ZXJdO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiYm94c2VsZWN0aW9uc3RhcnQiLHtsYXllcnM6Y30pO2Zvcih2YXIgZCxlPTA7ZTxjLmxlbmd0aDsrK2Upe2Q9Y1tlXTtmb3IodmFyIGY9MCxnPWQuZmVhdHVyZXMubGVuZ3RoO2Y8ZzsrK2Ype3ZhciBoPQpkLmZlYXR1cmVzW2ZdO2guZ2V0VmlzaWJpbGl0eSgpJiYobnVsbD09dGhpcy5nZW9tZXRyeVR5cGVzfHwtMTxPcGVuTGF5ZXJzLlV0aWwuaW5kZXhPZih0aGlzLmdlb21ldHJ5VHlwZXMsaC5nZW9tZXRyeS5DTEFTU19OQU1FKSkmJmIudG9HZW9tZXRyeSgpLmludGVyc2VjdHMoaC5nZW9tZXRyeSkmJi0xPT1PcGVuTGF5ZXJzLlV0aWwuaW5kZXhPZihkLnNlbGVjdGVkRmVhdHVyZXMsaCkmJnRoaXMuc2VsZWN0KGgpfX10aGlzLm11bHRpcGxlPWE7dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJib3hzZWxlY3Rpb25lbmQiLHtsYXllcnM6Y30pfX0sc2V0TWFwOmZ1bmN0aW9uKGEpe3RoaXMuaGFuZGxlcnMuZmVhdHVyZS5zZXRNYXAoYSk7dGhpcy5ib3gmJnRoaXMuaGFuZGxlcnMuYm94LnNldE1hcChhKTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLnNldE1hcC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHNldExheWVyOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYWN0aXZlO3RoaXMudW5zZWxlY3RBbGwoKTsKdGhpcy5kZWFjdGl2YXRlKCk7dGhpcy5sYXllcnMmJih0aGlzLmxheWVyLmRlc3Ryb3koKSx0aGlzLmxheWVycz1udWxsKTt0aGlzLmluaXRMYXllcihhKTt0aGlzLmhhbmRsZXJzLmZlYXR1cmUubGF5ZXI9dGhpcy5sYXllcjtiJiZ0aGlzLmFjdGl2YXRlKCl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5TZWxlY3RGZWF0dXJlIn0pO09wZW5MYXllcnMuSGFuZGxlci5Qb2ludD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuSGFuZGxlcix7cG9pbnQ6bnVsbCxsYXllcjpudWxsLG11bHRpOiExLGNpdGVDb21wbGlhbnQ6ITEsbW91c2VEb3duOiExLHN0b3BwZWREb3duOm51bGwsbGFzdERvd246bnVsbCxsYXN0VXA6bnVsbCxwZXJzaXN0OiExLHN0b3BEb3duOiExLHN0b3BVcDohMSxsYXllck9wdGlvbnM6bnVsbCxwaXhlbFRvbGVyYW5jZTo1LGxhc3RUb3VjaFB4Om51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyl7aWYoIWN8fCFjLmxheWVyT3B0aW9uc3x8IWMubGF5ZXJPcHRpb25zLnN0eWxlTWFwKXRoaXMuc3R5bGU9T3BlbkxheWVycy5VdGlsLmV4dGVuZChPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yLnN0eWxlWyJkZWZhdWx0Il0se30pO09wZW5MYXllcnMuSGFuZGxlci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGFjdGl2YXRlOmZ1bmN0aW9uKCl7aWYoIU9wZW5MYXllcnMuSGFuZGxlci5wcm90b3R5cGUuYWN0aXZhdGUuYXBwbHkodGhpcywKYXJndW1lbnRzKSlyZXR1cm4hMTt2YXIgYT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHtkaXNwbGF5SW5MYXllclN3aXRjaGVyOiExLGNhbGN1bGF0ZUluUmFuZ2U6T3BlbkxheWVycy5GdW5jdGlvbi5UcnVlLHdyYXBEYXRlTGluZTp0aGlzLmNpdGVDb21wbGlhbnR9LHRoaXMubGF5ZXJPcHRpb25zKTt0aGlzLmxheWVyPW5ldyBPcGVuTGF5ZXJzLkxheWVyLlZlY3Rvcih0aGlzLkNMQVNTX05BTUUsYSk7dGhpcy5tYXAuYWRkTGF5ZXIodGhpcy5sYXllcik7cmV0dXJuITB9LGNyZWF0ZUZlYXR1cmU6ZnVuY3Rpb24oYSl7YT10aGlzLmxheWVyLmdldExvbkxhdEZyb21WaWV3UG9ydFB4KGEpO2E9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoYS5sb24sYS5sYXQpO3RoaXMucG9pbnQ9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoYSk7dGhpcy5jYWxsYmFjaygiY3JlYXRlIixbdGhpcy5wb2ludC5nZW9tZXRyeSx0aGlzLnBvaW50XSk7dGhpcy5wb2ludC5nZW9tZXRyeS5jbGVhckJvdW5kcygpOwp0aGlzLmxheWVyLmFkZEZlYXR1cmVzKFt0aGlzLnBvaW50XSx7c2lsZW50OiEwfSl9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXtpZighT3BlbkxheWVycy5IYW5kbGVyLnByb3RvdHlwZS5kZWFjdGl2YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSlyZXR1cm4hMTt0aGlzLmNhbmNlbCgpO251bGwhPXRoaXMubGF5ZXIubWFwJiYodGhpcy5kZXN0cm95RmVhdHVyZSghMCksdGhpcy5sYXllci5kZXN0cm95KCExKSk7dGhpcy5sYXllcj1udWxsO3JldHVybiEwfSxkZXN0cm95RmVhdHVyZTpmdW5jdGlvbihhKXt0aGlzLmxheWVyJiYoYXx8IXRoaXMucGVyc2lzdCkmJnRoaXMubGF5ZXIuZGVzdHJveUZlYXR1cmVzKCk7dGhpcy5wb2ludD1udWxsfSxkZXN0cm95UGVyc2lzdGVkRmVhdHVyZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMubGF5ZXI7YSYmMTxhLmZlYXR1cmVzLmxlbmd0aCYmdGhpcy5sYXllci5mZWF0dXJlc1swXS5kZXN0cm95KCl9LGZpbmFsaXplOmZ1bmN0aW9uKGEpe3RoaXMubW91c2VEb3duPQohMTt0aGlzLmxhc3RUb3VjaFB4PXRoaXMubGFzdFVwPXRoaXMubGFzdERvd249bnVsbDt0aGlzLmNhbGxiYWNrKGE/ImNhbmNlbCI6ImRvbmUiLFt0aGlzLmdlb21ldHJ5Q2xvbmUoKV0pO3RoaXMuZGVzdHJveUZlYXR1cmUoYSl9LGNhbmNlbDpmdW5jdGlvbigpe3RoaXMuZmluYWxpemUoITApfSxjbGljazpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSk7cmV0dXJuITF9LGRibGNsaWNrOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRXZlbnQuc3RvcChhKTtyZXR1cm4hMX0sbW9kaWZ5RmVhdHVyZTpmdW5jdGlvbihhKXt0aGlzLnBvaW50fHx0aGlzLmNyZWF0ZUZlYXR1cmUoYSk7YT10aGlzLmxheWVyLmdldExvbkxhdEZyb21WaWV3UG9ydFB4KGEpO3RoaXMucG9pbnQuZ2VvbWV0cnkueD1hLmxvbjt0aGlzLnBvaW50Lmdlb21ldHJ5Lnk9YS5sYXQ7dGhpcy5jYWxsYmFjaygibW9kaWZ5IixbdGhpcy5wb2ludC5nZW9tZXRyeSx0aGlzLnBvaW50LCExXSk7dGhpcy5wb2ludC5nZW9tZXRyeS5jbGVhckJvdW5kcygpOwp0aGlzLmRyYXdGZWF0dXJlKCl9LGRyYXdGZWF0dXJlOmZ1bmN0aW9uKCl7dGhpcy5sYXllci5kcmF3RmVhdHVyZSh0aGlzLnBvaW50LHRoaXMuc3R5bGUpfSxnZXRHZW9tZXRyeTpmdW5jdGlvbigpe3ZhciBhPXRoaXMucG9pbnQmJnRoaXMucG9pbnQuZ2VvbWV0cnk7YSYmdGhpcy5tdWx0aSYmKGE9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlQb2ludChbYV0pKTtyZXR1cm4gYX0sZ2VvbWV0cnlDbG9uZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0R2VvbWV0cnkoKTtyZXR1cm4gYSYmYS5jbG9uZSgpfSxtb3VzZWRvd246ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZG93bihhKX0sdG91Y2hzdGFydDpmdW5jdGlvbihhKXt0aGlzLnN0YXJ0VG91Y2goKTt0aGlzLmxhc3RUb3VjaFB4PWEueHk7cmV0dXJuIHRoaXMuZG93bihhKX0sbW91c2Vtb3ZlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1vdmUoYSl9LHRvdWNobW92ZTpmdW5jdGlvbihhKXt0aGlzLmxhc3RUb3VjaFB4PWEueHk7CnJldHVybiB0aGlzLm1vdmUoYSl9LG1vdXNldXA6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudXAoYSl9LHRvdWNoZW5kOmZ1bmN0aW9uKGEpe2EueHk9dGhpcy5sYXN0VG91Y2hQeDtyZXR1cm4gdGhpcy51cChhKX0sZG93bjpmdW5jdGlvbihhKXt0aGlzLm1vdXNlRG93bj0hMDt0aGlzLmxhc3REb3duPWEueHk7dGhpcy50b3VjaHx8dGhpcy5tb2RpZnlGZWF0dXJlKGEueHkpO3RoaXMuc3RvcHBlZERvd249dGhpcy5zdG9wRG93bjtyZXR1cm4hdGhpcy5zdG9wRG93bn0sbW92ZTpmdW5jdGlvbihhKXshdGhpcy50b3VjaCYmKCF0aGlzLm1vdXNlRG93bnx8dGhpcy5zdG9wcGVkRG93bikmJnRoaXMubW9kaWZ5RmVhdHVyZShhLnh5KTtyZXR1cm4hMH0sdXA6ZnVuY3Rpb24oYSl7dGhpcy5tb3VzZURvd249ITE7dGhpcy5zdG9wcGVkRG93bj10aGlzLnN0b3BEb3duO3JldHVybiB0aGlzLmNoZWNrTW9kaWZpZXJzKGEpJiYoIXRoaXMubGFzdFVwfHwhdGhpcy5sYXN0VXAuZXF1YWxzKGEueHkpKSYmCnRoaXMubGFzdERvd24mJnRoaXMucGFzc2VzVG9sZXJhbmNlKHRoaXMubGFzdERvd24sYS54eSx0aGlzLnBpeGVsVG9sZXJhbmNlKT8odGhpcy50b3VjaCYmdGhpcy5tb2RpZnlGZWF0dXJlKGEueHkpLHRoaXMucGVyc2lzdCYmdGhpcy5kZXN0cm95UGVyc2lzdGVkRmVhdHVyZSgpLHRoaXMubGFzdFVwPWEueHksdGhpcy5maW5hbGl6ZSgpLCF0aGlzLnN0b3BVcCk6ITB9LG1vdXNlb3V0OmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuVXRpbC5tb3VzZUxlZnQoYSx0aGlzLm1hcC52aWV3UG9ydERpdikmJih0aGlzLnN0b3BwZWREb3duPXRoaXMuc3RvcERvd24sdGhpcy5tb3VzZURvd249ITEpfSxwYXNzZXNUb2xlcmFuY2U6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSEwO251bGwhPWMmJmEmJmImJmEuZGlzdGFuY2VUbyhiKT5jJiYoZD0hMSk7cmV0dXJuIGR9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuSGFuZGxlci5Qb2ludCJ9KTtPcGVuTGF5ZXJzLkhhbmRsZXIuUGF0aD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuSGFuZGxlci5Qb2ludCx7bGluZTpudWxsLG1heFZlcnRpY2VzOm51bGwsZG91YmxlVG91Y2hUb2xlcmFuY2U6MjAsZnJlZWhhbmQ6ITEsZnJlZWhhbmRUb2dnbGU6InNoaWZ0S2V5Iix0aW1lcklkOm51bGwscmVkb1N0YWNrOm51bGwsY3JlYXRlRmVhdHVyZTpmdW5jdGlvbihhKXthPXRoaXMubGF5ZXIuZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHgoYSk7YT1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChhLmxvbixhLmxhdCk7dGhpcy5wb2ludD1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihhKTt0aGlzLmxpbmU9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZyhbdGhpcy5wb2ludC5nZW9tZXRyeV0pKTt0aGlzLmNhbGxiYWNrKCJjcmVhdGUiLFt0aGlzLnBvaW50Lmdlb21ldHJ5LHRoaXMuZ2V0U2tldGNoKCldKTsKdGhpcy5wb2ludC5nZW9tZXRyeS5jbGVhckJvdW5kcygpO3RoaXMubGF5ZXIuYWRkRmVhdHVyZXMoW3RoaXMubGluZSx0aGlzLnBvaW50XSx7c2lsZW50OiEwfSl9LGRlc3Ryb3lGZWF0dXJlOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuSGFuZGxlci5Qb2ludC5wcm90b3R5cGUuZGVzdHJveUZlYXR1cmUuY2FsbCh0aGlzLGEpO3RoaXMubGluZT1udWxsfSxkZXN0cm95UGVyc2lzdGVkRmVhdHVyZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMubGF5ZXI7YSYmMjxhLmZlYXR1cmVzLmxlbmd0aCYmdGhpcy5sYXllci5mZWF0dXJlc1swXS5kZXN0cm95KCl9LHJlbW92ZVBvaW50OmZ1bmN0aW9uKCl7dGhpcy5wb2ludCYmdGhpcy5sYXllci5yZW1vdmVGZWF0dXJlcyhbdGhpcy5wb2ludF0pfSxhZGRQb2ludDpmdW5jdGlvbihhKXt0aGlzLmxheWVyLnJlbW92ZUZlYXR1cmVzKFt0aGlzLnBvaW50XSk7YT10aGlzLmxheWVyLmdldExvbkxhdEZyb21WaWV3UG9ydFB4KGEpO3RoaXMucG9pbnQ9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoYS5sb24sCmEubGF0KSk7dGhpcy5saW5lLmdlb21ldHJ5LmFkZENvbXBvbmVudCh0aGlzLnBvaW50Lmdlb21ldHJ5LHRoaXMubGluZS5nZW9tZXRyeS5jb21wb25lbnRzLmxlbmd0aCk7dGhpcy5sYXllci5hZGRGZWF0dXJlcyhbdGhpcy5wb2ludF0pO3RoaXMuY2FsbGJhY2soInBvaW50IixbdGhpcy5wb2ludC5nZW9tZXRyeSx0aGlzLmdldEdlb21ldHJ5KCldKTt0aGlzLmNhbGxiYWNrKCJtb2RpZnkiLFt0aGlzLnBvaW50Lmdlb21ldHJ5LHRoaXMuZ2V0U2tldGNoKCldKTt0aGlzLmRyYXdGZWF0dXJlKCk7ZGVsZXRlIHRoaXMucmVkb1N0YWNrfSxpbnNlcnRYWTpmdW5jdGlvbihhLGIpe3RoaXMubGluZS5nZW9tZXRyeS5hZGRDb21wb25lbnQobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoYSxiKSx0aGlzLmdldEN1cnJlbnRQb2ludEluZGV4KCkpO3RoaXMuZHJhd0ZlYXR1cmUoKTtkZWxldGUgdGhpcy5yZWRvU3RhY2t9LGluc2VydERlbHRhWFk6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldEN1cnJlbnRQb2ludEluZGV4KCktCjE7KGM9dGhpcy5saW5lLmdlb21ldHJ5LmNvbXBvbmVudHNbY10pJiYoIWlzTmFOKGMueCkmJiFpc05hTihjLnkpKSYmdGhpcy5pbnNlcnRYWShjLngrYSxjLnkrYil9LGluc2VydERpcmVjdGlvbkxlbmd0aDpmdW5jdGlvbihhLGIpe3ZhciBhPWEqKE1hdGguUEkvMTgwKSxjPWIqTWF0aC5jb3MoYSksZD1iKk1hdGguc2luKGEpO3RoaXMuaW5zZXJ0RGVsdGFYWShjLGQpfSxpbnNlcnREZWZsZWN0aW9uTGVuZ3RoOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDdXJyZW50UG9pbnRJbmRleCgpLTE7aWYoMDxjKXt2YXIgZD10aGlzLmxpbmUuZ2VvbWV0cnkuY29tcG9uZW50c1tjXSxjPXRoaXMubGluZS5nZW9tZXRyeS5jb21wb25lbnRzW2MtMV0sZD1NYXRoLmF0YW4yKGQueS1jLnksZC54LWMueCk7dGhpcy5pbnNlcnREaXJlY3Rpb25MZW5ndGgoMTgwKmQvTWF0aC5QSSthLGIpfX0sZ2V0Q3VycmVudFBvaW50SW5kZXg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5saW5lLmdlb21ldHJ5LmNvbXBvbmVudHMubGVuZ3RoLQoxfSx1bmRvOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5saW5lLmdlb21ldHJ5LGI9YS5jb21wb25lbnRzLGM9dGhpcy5nZXRDdXJyZW50UG9pbnRJbmRleCgpLTEsZD1iW2NdLGU9YS5yZW1vdmVDb21wb25lbnQoZCk7ZSYmKHRoaXMudG91Y2gmJjA8YyYmKGI9YS5jb21wb25lbnRzLGE9YltjLTFdLGM9dGhpcy5nZXRDdXJyZW50UG9pbnRJbmRleCgpLGI9YltjXSxiLng9YS54LGIueT1hLnkpLHRoaXMucmVkb1N0YWNrfHwodGhpcy5yZWRvU3RhY2s9W10pLHRoaXMucmVkb1N0YWNrLnB1c2goZCksdGhpcy5kcmF3RmVhdHVyZSgpKTtyZXR1cm4gZX0scmVkbzpmdW5jdGlvbigpe3ZhciBhPXRoaXMucmVkb1N0YWNrJiZ0aGlzLnJlZG9TdGFjay5wb3AoKTthJiYodGhpcy5saW5lLmdlb21ldHJ5LmFkZENvbXBvbmVudChhLHRoaXMuZ2V0Q3VycmVudFBvaW50SW5kZXgoKSksdGhpcy5kcmF3RmVhdHVyZSgpKTtyZXR1cm4hIWF9LGZyZWVoYW5kTW9kZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5mcmVlaGFuZFRvZ2dsZSYmCmFbdGhpcy5mcmVlaGFuZFRvZ2dsZV0/IXRoaXMuZnJlZWhhbmQ6dGhpcy5mcmVlaGFuZH0sbW9kaWZ5RmVhdHVyZTpmdW5jdGlvbihhLGIpe3RoaXMubGluZXx8dGhpcy5jcmVhdGVGZWF0dXJlKGEpO3ZhciBjPXRoaXMubGF5ZXIuZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHgoYSk7dGhpcy5wb2ludC5nZW9tZXRyeS54PWMubG9uO3RoaXMucG9pbnQuZ2VvbWV0cnkueT1jLmxhdDt0aGlzLmNhbGxiYWNrKCJtb2RpZnkiLFt0aGlzLnBvaW50Lmdlb21ldHJ5LHRoaXMuZ2V0U2tldGNoKCksYl0pO3RoaXMucG9pbnQuZ2VvbWV0cnkuY2xlYXJCb3VuZHMoKTt0aGlzLmRyYXdGZWF0dXJlKCl9LGRyYXdGZWF0dXJlOmZ1bmN0aW9uKCl7dGhpcy5sYXllci5kcmF3RmVhdHVyZSh0aGlzLmxpbmUsdGhpcy5zdHlsZSk7dGhpcy5sYXllci5kcmF3RmVhdHVyZSh0aGlzLnBvaW50LHRoaXMuc3R5bGUpfSxnZXRTa2V0Y2g6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5saW5lfSxnZXRHZW9tZXRyeTpmdW5jdGlvbigpe3ZhciBhPQp0aGlzLmxpbmUmJnRoaXMubGluZS5nZW9tZXRyeTthJiZ0aGlzLm11bHRpJiYoYT1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aUxpbmVTdHJpbmcoW2FdKSk7cmV0dXJuIGF9LHRvdWNoc3RhcnQ6ZnVuY3Rpb24oYSl7aWYodGhpcy50aW1lcklkJiZ0aGlzLnBhc3Nlc1RvbGVyYW5jZSh0aGlzLmxhc3RUb3VjaFB4LGEueHksdGhpcy5kb3VibGVUb3VjaFRvbGVyYW5jZSkpcmV0dXJuIHRoaXMuZmluaXNoR2VvbWV0cnkoKSx3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMudGltZXJJZCksdGhpcy50aW1lcklkPW51bGwsITE7dGhpcy50aW1lcklkJiYod2luZG93LmNsZWFyVGltZW91dCh0aGlzLnRpbWVySWQpLHRoaXMudGltZXJJZD1udWxsKTt0aGlzLnRpbWVySWQ9d2luZG93LnNldFRpbWVvdXQoT3BlbkxheWVycy5GdW5jdGlvbi5iaW5kKGZ1bmN0aW9uKCl7dGhpcy50aW1lcklkPW51bGx9LHRoaXMpLDMwMCk7cmV0dXJuIE9wZW5MYXllcnMuSGFuZGxlci5Qb2ludC5wcm90b3R5cGUudG91Y2hzdGFydC5jYWxsKHRoaXMsCmEpfSxkb3duOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc3RvcERvd247dGhpcy5mcmVlaGFuZE1vZGUoYSkmJihiPSEwLHRoaXMudG91Y2gmJih0aGlzLm1vZGlmeUZlYXR1cmUoYS54eSwhIXRoaXMubGFzdFVwKSxPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSkpKTshdGhpcy50b3VjaCYmKCF0aGlzLmxhc3REb3dufHwhdGhpcy5wYXNzZXNUb2xlcmFuY2UodGhpcy5sYXN0RG93bixhLnh5LHRoaXMucGl4ZWxUb2xlcmFuY2UpKSYmdGhpcy5tb2RpZnlGZWF0dXJlKGEueHksISF0aGlzLmxhc3RVcCk7dGhpcy5tb3VzZURvd249ITA7dGhpcy5sYXN0RG93bj1hLnh5O3RoaXMuc3RvcHBlZERvd249YjtyZXR1cm4hYn0sbW92ZTpmdW5jdGlvbihhKXtpZih0aGlzLnN0b3BwZWREb3duJiZ0aGlzLmZyZWVoYW5kTW9kZShhKSlyZXR1cm4gdGhpcy5wZXJzaXN0JiZ0aGlzLmRlc3Ryb3lQZXJzaXN0ZWRGZWF0dXJlKCksdGhpcy5tYXhWZXJ0aWNlcyYmdGhpcy5saW5lJiZ0aGlzLmxpbmUuZ2VvbWV0cnkuY29tcG9uZW50cy5sZW5ndGg9PT0KdGhpcy5tYXhWZXJ0aWNlcz8odGhpcy5yZW1vdmVQb2ludCgpLHRoaXMuZmluYWxpemUoKSk6dGhpcy5hZGRQb2ludChhLnh5KSwhMTshdGhpcy50b3VjaCYmKCF0aGlzLm1vdXNlRG93bnx8dGhpcy5zdG9wcGVkRG93bikmJnRoaXMubW9kaWZ5RmVhdHVyZShhLnh5LCEhdGhpcy5sYXN0VXApO3JldHVybiEwfSx1cDpmdW5jdGlvbihhKXtpZih0aGlzLm1vdXNlRG93biYmKCF0aGlzLmxhc3RVcHx8IXRoaXMubGFzdFVwLmVxdWFscyhhLnh5KSkpdGhpcy5zdG9wcGVkRG93biYmdGhpcy5mcmVlaGFuZE1vZGUoYSk/KHRoaXMucGVyc2lzdCYmdGhpcy5kZXN0cm95UGVyc2lzdGVkRmVhdHVyZSgpLHRoaXMucmVtb3ZlUG9pbnQoKSx0aGlzLmZpbmFsaXplKCkpOnRoaXMucGFzc2VzVG9sZXJhbmNlKHRoaXMubGFzdERvd24sYS54eSx0aGlzLnBpeGVsVG9sZXJhbmNlKSYmKHRoaXMudG91Y2gmJnRoaXMubW9kaWZ5RmVhdHVyZShhLnh5KSxudWxsPT10aGlzLmxhc3RVcCYmdGhpcy5wZXJzaXN0JiYKdGhpcy5kZXN0cm95UGVyc2lzdGVkRmVhdHVyZSgpLHRoaXMuYWRkUG9pbnQoYS54eSksdGhpcy5sYXN0VXA9YS54eSx0aGlzLmxpbmUuZ2VvbWV0cnkuY29tcG9uZW50cy5sZW5ndGg9PT10aGlzLm1heFZlcnRpY2VzKzEmJnRoaXMuZmluaXNoR2VvbWV0cnkoKSk7dGhpcy5zdG9wcGVkRG93bj10aGlzLnN0b3BEb3duO3RoaXMubW91c2VEb3duPSExO3JldHVybiF0aGlzLnN0b3BVcH0sZmluaXNoR2VvbWV0cnk6ZnVuY3Rpb24oKXt0aGlzLmxpbmUuZ2VvbWV0cnkucmVtb3ZlQ29tcG9uZW50KHRoaXMubGluZS5nZW9tZXRyeS5jb21wb25lbnRzW3RoaXMubGluZS5nZW9tZXRyeS5jb21wb25lbnRzLmxlbmd0aC0xXSk7dGhpcy5yZW1vdmVQb2ludCgpO3RoaXMuZmluYWxpemUoKX0sZGJsY2xpY2s6ZnVuY3Rpb24oYSl7dGhpcy5mcmVlaGFuZE1vZGUoYSl8fHRoaXMuZmluaXNoR2VvbWV0cnkoKTtyZXR1cm4hMX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5IYW5kbGVyLlBhdGgifSk7T3BlbkxheWVycy5TcGhlcmljYWw9T3BlbkxheWVycy5TcGhlcmljYWx8fHt9O09wZW5MYXllcnMuU3BoZXJpY2FsLkRFRkFVTFRfUkFESVVTPTYzNzgxMzc7T3BlbkxheWVycy5TcGhlcmljYWwuY29tcHV0ZURpc3RhbmNlQmV0d2Vlbj1mdW5jdGlvbihhLGIsYyl7dmFyIGM9Y3x8T3BlbkxheWVycy5TcGhlcmljYWwuREVGQVVMVF9SQURJVVMsZD1NYXRoLnNpbihNYXRoLlBJKihiLmxvbi1hLmxvbikvMzYwKSxlPU1hdGguc2luKE1hdGguUEkqKGIubGF0LWEubGF0KS8zNjApLGE9ZSplK2QqZCpNYXRoLmNvcyhNYXRoLlBJKmEubGF0LzE4MCkqTWF0aC5jb3MoTWF0aC5QSSpiLmxhdC8xODApO3JldHVybiAyKmMqTWF0aC5hdGFuMihNYXRoLnNxcnQoYSksTWF0aC5zcXJ0KDEtYSkpfTsKT3BlbkxheWVycy5TcGhlcmljYWwuY29tcHV0ZUhlYWRpbmc9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NYXRoLnNpbihNYXRoLlBJKihhLmxvbi1iLmxvbikvMTgwKSpNYXRoLmNvcyhNYXRoLlBJKmIubGF0LzE4MCksZD1NYXRoLmNvcyhNYXRoLlBJKmEubGF0LzE4MCkqTWF0aC5zaW4oTWF0aC5QSSpiLmxhdC8xODApLU1hdGguc2luKE1hdGguUEkqYS5sYXQvMTgwKSpNYXRoLmNvcyhNYXRoLlBJKmIubGF0LzE4MCkqTWF0aC5jb3MoTWF0aC5QSSooYS5sb24tYi5sb24pLzE4MCk7cmV0dXJuIDE4MCpNYXRoLmF0YW4yKGMsZCkvTWF0aC5QSX07T3BlbkxheWVycy5Db250cm9sLkNhY2hlV3JpdGU9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse2xheWVyczpudWxsLGltYWdlRm9ybWF0OiJpbWFnZS9wbmciLHF1b3RhUmVnRXg6L3F1b3RhL2ksc2V0TWFwOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuc2V0TWFwLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgYixjPXRoaXMubGF5ZXJzfHxhLmxheWVycztmb3IoYj1jLmxlbmd0aC0xOzA8PWI7LS1iKXRoaXMuYWRkTGF5ZXIoe2xheWVyOmNbYl19KTtpZighdGhpcy5sYXllcnMpYS5ldmVudHMub24oe2FkZGxheWVyOnRoaXMuYWRkTGF5ZXIscmVtb3ZlTGF5ZXI6dGhpcy5yZW1vdmVMYXllcixzY29wZTp0aGlzfSl9LGFkZExheWVyOmZ1bmN0aW9uKGEpe2EubGF5ZXIuZXZlbnRzLm9uKHt0aWxlbG9hZHN0YXJ0OnRoaXMubWFrZVNhbWVPcmlnaW4sdGlsZWxvYWRlZDp0aGlzLm9uVGlsZUxvYWRlZCxzY29wZTp0aGlzfSl9LHJlbW92ZUxheWVyOmZ1bmN0aW9uKGEpe2EubGF5ZXIuZXZlbnRzLnVuKHt0aWxlbG9hZHN0YXJ0OnRoaXMubWFrZVNhbWVPcmlnaW4sCnRpbGVsb2FkZWQ6dGhpcy5vblRpbGVMb2FkZWQsc2NvcGU6dGhpc30pfSxtYWtlU2FtZU9yaWdpbjpmdW5jdGlvbihhKXtpZih0aGlzLmFjdGl2ZSYmKGE9YS50aWxlLGEgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLlRpbGUuSW1hZ2UmJiFhLmNyb3NzT3JpZ2luS2V5d29yZCYmImRhdGE6IiE9PWEudXJsLnN1YnN0cigwLDUpKSl7dmFyIGI9T3BlbkxheWVycy5SZXF1ZXN0Lm1ha2VTYW1lT3JpZ2luKGEudXJsLE9wZW5MYXllcnMuUHJveHlIb3N0KTtPcGVuTGF5ZXJzLkNvbnRyb2wuQ2FjaGVXcml0ZS51cmxNYXBbYl09YS51cmw7YS51cmw9Yn19LG9uVGlsZUxvYWRlZDpmdW5jdGlvbihhKXt0aGlzLmFjdGl2ZSYmKCFhLmFib3J0ZWQmJmEudGlsZSBpbnN0YW5jZW9mIE9wZW5MYXllcnMuVGlsZS5JbWFnZSYmImRhdGE6IiE9PWEudGlsZS51cmwuc3Vic3RyKDAsNSkpJiYodGhpcy5jYWNoZSh7dGlsZTphLnRpbGV9KSxkZWxldGUgT3BlbkxheWVycy5Db250cm9sLkNhY2hlV3JpdGUudXJsTWFwW2EudGlsZS51cmxdKX0sCmNhY2hlOmZ1bmN0aW9uKGEpe2lmKHdpbmRvdy5sb2NhbFN0b3JhZ2Upe2E9YS50aWxlO3RyeXt2YXIgYj1hLmdldENhbnZhc0NvbnRleHQoKTtiJiZ3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oIm9sQ2FjaGVfIisoT3BlbkxheWVycy5Db250cm9sLkNhY2hlV3JpdGUudXJsTWFwW2EudXJsXXx8YS51cmwpLGIuY2FudmFzLnRvRGF0YVVSTCh0aGlzLmltYWdlRm9ybWF0KSl9Y2F0Y2goYyl7KGI9Yy5uYW1lfHxjLm1lc3NhZ2UpJiZ0aGlzLnF1b3RhUmVnRXgudGVzdChiKT90aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImNhY2hlZnVsbCIse3RpbGU6YX0pOk9wZW5MYXllcnMuQ29uc29sZS5lcnJvcihjLnRvU3RyaW5nKCkpfX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXtpZih0aGlzLmxheWVyc3x8dGhpcy5tYXApe3ZhciBhLGI9dGhpcy5sYXllcnN8fHRoaXMubWFwLmxheWVycztmb3IoYT1iLmxlbmd0aC0xOzA8PWE7LS1hKXRoaXMucmVtb3ZlTGF5ZXIoe2xheWVyOmJbYV19KX10aGlzLm1hcCYmCnRoaXMubWFwLmV2ZW50cy51bih7YWRkbGF5ZXI6dGhpcy5hZGRMYXllcixyZW1vdmVMYXllcjp0aGlzLnJlbW92ZUxheWVyLHNjb3BlOnRoaXN9KTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuQ2FjaGVXcml0ZSJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuQ2FjaGVXcml0ZS5jbGVhckNhY2hlPWZ1bmN0aW9uKCl7aWYod2luZG93LmxvY2FsU3RvcmFnZSl7dmFyIGEsYjtmb3IoYT13aW5kb3cubG9jYWxTdG9yYWdlLmxlbmd0aC0xOzA8PWE7LS1hKWI9d2luZG93LmxvY2FsU3RvcmFnZS5rZXkoYSksIm9sQ2FjaGVfIj09PWIuc3Vic3RyKDAsOCkmJndpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShiKX19O09wZW5MYXllcnMuQ29udHJvbC5DYWNoZVdyaXRlLnVybE1hcD17fTtPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjFfMT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LldNU0NhcGFiaWxpdGllcy52MSx7cmVhZGVyczp7d21zOk9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtXTVRfTVNfQ2FwYWJpbGl0aWVzOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxLZXl3b3JkOmZ1bmN0aW9uKGEsYil7Yi5rZXl3b3JkcyYmYi5rZXl3b3Jkcy5wdXNoKHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSl9LERlc2NyaWJlTGF5ZXI6ZnVuY3Rpb24oYSxiKXtiLmRlc2NyaWJlbGF5ZXI9e2Zvcm1hdHM6W119O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLmRlc2NyaWJlbGF5ZXIpfSxHZXRMZWdlbmRHcmFwaGljOmZ1bmN0aW9uKGEsYil7Yi5nZXRsZWdlbmRncmFwaGljPXtmb3JtYXRzOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5nZXRsZWdlbmRncmFwaGljKX0sR2V0U3R5bGVzOmZ1bmN0aW9uKGEsYil7Yi5nZXRzdHlsZXM9Cntmb3JtYXRzOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5nZXRzdHlsZXMpfSxQdXRTdHlsZXM6ZnVuY3Rpb24oYSxiKXtiLnB1dHN0eWxlcz17Zm9ybWF0czpbXX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIucHV0c3R5bGVzKX0sVXNlckRlZmluZWRTeW1ib2xpemF0aW9uOmZ1bmN0aW9uKGEsYil7dmFyIGM9e3N1cHBvcnRTTEQ6MT09cGFyc2VJbnQoYS5nZXRBdHRyaWJ1dGUoIlN1cHBvcnRTTEQiKSksdXNlckxheWVyOjE9PXBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKCJVc2VyTGF5ZXIiKSksdXNlclN0eWxlOjE9PXBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKCJVc2VyU3R5bGUiKSkscmVtb3RlV0ZTOjE9PXBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKCJSZW1vdGVXRlMiKSl9O2IudXNlclN5bWJvbHM9Y30sTGF0TG9uQm91bmRpbmdCb3g6ZnVuY3Rpb24oYSxiKXtiLmxsYmJveD1bcGFyc2VGbG9hdChhLmdldEF0dHJpYnV0ZSgibWlueCIpKSxwYXJzZUZsb2F0KGEuZ2V0QXR0cmlidXRlKCJtaW55IikpLApwYXJzZUZsb2F0KGEuZ2V0QXR0cmlidXRlKCJtYXh4IikpLHBhcnNlRmxvYXQoYS5nZXRBdHRyaWJ1dGUoIm1heHkiKSldfSxCb3VuZGluZ0JveDpmdW5jdGlvbihhLGIpe3ZhciBjPU9wZW5MYXllcnMuRm9ybWF0LldNU0NhcGFiaWxpdGllcy52MS5wcm90b3R5cGUucmVhZGVycy53bXMuQm91bmRpbmdCb3guYXBwbHkodGhpcyxbYSxiXSk7Yy5zcnM9YS5nZXRBdHRyaWJ1dGUoIlNSUyIpO2IuYmJveFtjLnNyc109Y30sU2NhbGVIaW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRBdHRyaWJ1dGUoIm1pbiIpLGQ9YS5nZXRBdHRyaWJ1dGUoIm1heCIpLGU9TWF0aC5wb3coMiwwLjUpLGY9T3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVQubTswIT1jJiYoYi5tYXhTY2FsZT1wYXJzZUZsb2F0KChjL2UqZipPcGVuTGF5ZXJzLkRPVFNfUEVSX0lOQ0gpLnRvUHJlY2lzaW9uKDEzKSkpO2QhPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSYmKGIubWluU2NhbGU9cGFyc2VGbG9hdCgoZC9lKmYqCk9wZW5MYXllcnMuRE9UU19QRVJfSU5DSCkudG9QcmVjaXNpb24oMTMpKSl9LERpbWVuc2lvbjpmdW5jdGlvbihhLGIpe3ZhciBjPXtuYW1lOmEuZ2V0QXR0cmlidXRlKCJuYW1lIikudG9Mb3dlckNhc2UoKSx1bml0czphLmdldEF0dHJpYnV0ZSgidW5pdHMiKSx1bml0c3ltYm9sOmEuZ2V0QXR0cmlidXRlKCJ1bml0U3ltYm9sIil9O2IuZGltZW5zaW9uc1tjLm5hbWVdPWN9LEV4dGVudDpmdW5jdGlvbihhLGIpe3ZhciBjPWEuZ2V0QXR0cmlidXRlKCJuYW1lIikudG9Mb3dlckNhc2UoKTtpZihjIGluIGIuZGltZW5zaW9ucyl7Yz1iLmRpbWVuc2lvbnNbY107Yy5uZWFyZXN0VmFsPSIxIj09PWEuZ2V0QXR0cmlidXRlKCJuZWFyZXN0VmFsdWUiKTtjLm11bHRpcGxlVmFsPSIxIj09PWEuZ2V0QXR0cmlidXRlKCJtdWx0aXBsZVZhbHVlcyIpO2MuY3VycmVudD0iMSI9PT1hLmdldEF0dHJpYnV0ZSgiY3VycmVudCIpO2NbImRlZmF1bHQiXT1hLmdldEF0dHJpYnV0ZSgiZGVmYXVsdCIpfHwKIiI7dmFyIGQ9dGhpcy5nZXRDaGlsZFZhbHVlKGEpO2MudmFsdWVzPWQuc3BsaXQoIiwiKX19fSxPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjEucHJvdG90eXBlLnJlYWRlcnMud21zKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuV01TQ2FwYWJpbGl0aWVzLnYxXzEifSk7T3BlbkxheWVycy5Gb3JtYXQuQ29udGV4dD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTC5WZXJzaW9uZWRPR0Mse2xheWVyT3B0aW9uczpudWxsLGxheWVyUGFyYW1zOm51bGwscmVhZDpmdW5jdGlvbihhLGIpe3ZhciBjPU9wZW5MYXllcnMuRm9ybWF0LlhNTC5WZXJzaW9uZWRPR0MucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKGImJmIubWFwKWlmKHRoaXMuY29udGV4dD1jLGIubWFwIGluc3RhbmNlb2YgT3BlbkxheWVycy5NYXApYz10aGlzLm1lcmdlQ29udGV4dFRvTWFwKGMsYi5tYXApO2Vsc2V7dmFyIGQ9Yi5tYXA7aWYoT3BlbkxheWVycy5VdGlsLmlzRWxlbWVudChkKXx8InN0cmluZyI9PXR5cGVvZiBkKWQ9e2RpdjpkfTtjPXRoaXMuY29udGV4dFRvTWFwKGMsZCl9cmV0dXJuIGN9LGdldExheWVyRnJvbUNvbnRleHQ6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPXtxdWVyeWFibGU6YS5xdWVyeWFibGUsdmlzaWJpbGl0eTphLnZpc2liaWxpdHksCm1heEV4dGVudDphLm1heEV4dGVudCxtZXRhZGF0YTpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLm1ldGFkYXRhLHtzdHlsZXM6YS5zdHlsZXMsZm9ybWF0czphLmZvcm1hdHMsImFic3RyYWN0IjphWyJhYnN0cmFjdCJdLGRhdGFVUkw6YS5kYXRhVVJMfSksbnVtWm9vbUxldmVsczphLm51bVpvb21MZXZlbHMsdW5pdHM6YS51bml0cyxpc0Jhc2VMYXllcjphLmlzQmFzZUxheWVyLG9wYWNpdHk6YS5vcGFjaXR5LGRpc3BsYXlJbkxheWVyU3dpdGNoZXI6YS5kaXNwbGF5SW5MYXllclN3aXRjaGVyLHNpbmdsZVRpbGU6YS5zaW5nbGVUaWxlLHRpbGVTaXplOmEudGlsZVNpemU/bmV3IE9wZW5MYXllcnMuU2l6ZShhLnRpbGVTaXplLndpZHRoLGEudGlsZVNpemUuaGVpZ2h0KTp2b2lkIDAsbWluU2NhbGU6YS5taW5TY2FsZXx8YS5tYXhTY2FsZURlbm9taW5hdG9yLG1heFNjYWxlOmEubWF4U2NhbGV8fGEubWluU2NhbGVEZW5vbWluYXRvcixzcnM6YS5zcnMsZGltZW5zaW9uczphLmRpbWVuc2lvbnMsCm1ldGFkYXRhVVJMOmEubWV0YWRhdGFVUkx9O3RoaXMubGF5ZXJPcHRpb25zJiZPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhkLHRoaXMubGF5ZXJPcHRpb25zKTt2YXIgZT17bGF5ZXJzOmEubmFtZSx0cmFuc3BhcmVudDphLnRyYW5zcGFyZW50LHZlcnNpb246YS52ZXJzaW9ufTtpZihhLmZvcm1hdHMmJjA8YS5mb3JtYXRzLmxlbmd0aCl7ZS5mb3JtYXQ9YS5mb3JtYXRzWzBdLnZhbHVlO2I9MDtmb3IoYz1hLmZvcm1hdHMubGVuZ3RoO2I8YztiKyspe3ZhciBmPWEuZm9ybWF0c1tiXTtpZighMD09Zi5jdXJyZW50KXtlLmZvcm1hdD1mLnZhbHVlO2JyZWFrfX19aWYoYS5zdHlsZXMmJjA8YS5zdHlsZXMubGVuZ3RoKXtiPTA7Zm9yKGM9YS5zdHlsZXMubGVuZ3RoO2I8YztiKyspaWYoZj1hLnN0eWxlc1tiXSwhMD09Zi5jdXJyZW50KXtmLmhyZWY/ZS5zbGQ9Zi5ocmVmOmYuYm9keT9lLnNsZF9ib2R5PWYuYm9keTplLnN0eWxlcz1mLm5hbWU7YnJlYWt9fXRoaXMubGF5ZXJQYXJhbXMmJgpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhlLHRoaXMubGF5ZXJQYXJhbXMpO2I9bnVsbDtjPWEuc2VydmljZTtjPT1PcGVuTGF5ZXJzLkZvcm1hdC5Db250ZXh0LnNlcnZpY2VUeXBlcy5XRlM/KGQuc3RyYXRlZ2llcz1bbmV3IE9wZW5MYXllcnMuU3RyYXRlZ3kuQkJPWF0sZC5wcm90b2NvbD1uZXcgT3BlbkxheWVycy5Qcm90b2NvbC5XRlMoe3VybDphLnVybCxmZWF0dXJlUHJlZml4OmEubmFtZS5zcGxpdCgiOiIpWzBdLGZlYXR1cmVUeXBlOmEubmFtZS5zcGxpdCgiOiIpLnBvcCgpfSksYj1uZXcgT3BlbkxheWVycy5MYXllci5WZWN0b3IoYS50aXRsZXx8YS5uYW1lLGQpKTpjPT1PcGVuTGF5ZXJzLkZvcm1hdC5Db250ZXh0LnNlcnZpY2VUeXBlcy5LTUw/KGQuc3RyYXRlZ2llcz1bbmV3IE9wZW5MYXllcnMuU3RyYXRlZ3kuRml4ZWRdLGQucHJvdG9jb2w9bmV3IE9wZW5MYXllcnMuUHJvdG9jb2wuSFRUUCh7dXJsOmEudXJsLGZvcm1hdDpuZXcgT3BlbkxheWVycy5Gb3JtYXQuS01MfSksCmI9bmV3IE9wZW5MYXllcnMuTGF5ZXIuVmVjdG9yKGEudGl0bGV8fGEubmFtZSxkKSk6Yz09T3BlbkxheWVycy5Gb3JtYXQuQ29udGV4dC5zZXJ2aWNlVHlwZXMuR01MPyhkLnN0cmF0ZWdpZXM9W25ldyBPcGVuTGF5ZXJzLlN0cmF0ZWd5LkZpeGVkXSxkLnByb3RvY29sPW5ldyBPcGVuTGF5ZXJzLlByb3RvY29sLkhUVFAoe3VybDphLnVybCxmb3JtYXQ6bmV3IE9wZW5MYXllcnMuRm9ybWF0LkdNTH0pLGI9bmV3IE9wZW5MYXllcnMuTGF5ZXIuVmVjdG9yKGEudGl0bGV8fGEubmFtZSxkKSk6YS5mZWF0dXJlcz8oYj1uZXcgT3BlbkxheWVycy5MYXllci5WZWN0b3IoYS50aXRsZXx8YS5uYW1lLGQpLGIuYWRkRmVhdHVyZXMoYS5mZWF0dXJlcykpOiEwIT09YS5jYXRlZ29yeUxheWVyJiYoYj1uZXcgT3BlbkxheWVycy5MYXllci5XTVMoYS50aXRsZXx8YS5uYW1lLGEudXJsLGUsZCkpO3JldHVybiBifSxnZXRMYXllcnNGcm9tQ29udGV4dDpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz0KMCxkPWEubGVuZ3RoO2M8ZDtjKyspe3ZhciBlPXRoaXMuZ2V0TGF5ZXJGcm9tQ29udGV4dChhW2NdKTtudWxsIT09ZSYmYi5wdXNoKGUpfXJldHVybiBifSxjb250ZXh0VG9NYXA6ZnVuY3Rpb24oYSxiKXtiPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHttYXhFeHRlbnQ6YS5tYXhFeHRlbnQscHJvamVjdGlvbjphLnByb2plY3Rpb24sdW5pdHM6YS51bml0c30sYik7Yi5tYXhFeHRlbnQmJihiLm1heFJlc29sdXRpb249Yi5tYXhFeHRlbnQuZ2V0V2lkdGgoKS9PcGVuTGF5ZXJzLk1hcC5USUxFX1dJRFRIKTtiLm1ldGFkYXRhPXtjb250YWN0SW5mb3JtYXRpb246YS5jb250YWN0SW5mb3JtYXRpb24sImFic3RyYWN0IjphWyJhYnN0cmFjdCJdLGtleXdvcmRzOmEua2V5d29yZHMsbG9nbzphLmxvZ28sZGVzY3JpcHRpb25VUkw6YS5kZXNjcmlwdGlvblVSTH07dmFyIGM9bmV3IE9wZW5MYXllcnMuTWFwKGIpO2MuYWRkTGF5ZXJzKHRoaXMuZ2V0TGF5ZXJzRnJvbUNvbnRleHQoYS5sYXllcnNDb250ZXh0KSk7CmMuc2V0Q2VudGVyKGEuYm91bmRzLmdldENlbnRlckxvbkxhdCgpLGMuZ2V0Wm9vbUZvckV4dGVudChhLmJvdW5kcywhMCkpO3JldHVybiBjfSxtZXJnZUNvbnRleHRUb01hcDpmdW5jdGlvbihhLGIpe2IuYWRkTGF5ZXJzKHRoaXMuZ2V0TGF5ZXJzRnJvbUNvbnRleHQoYS5sYXllcnNDb250ZXh0KSk7cmV0dXJuIGJ9LHdyaXRlOmZ1bmN0aW9uKGEsYil7YT10aGlzLnRvQ29udGV4dChhKTtyZXR1cm4gT3BlbkxheWVycy5Gb3JtYXQuWE1MLlZlcnNpb25lZE9HQy5wcm90b3R5cGUud3JpdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5Db250ZXh0In0pOwpPcGVuTGF5ZXJzLkZvcm1hdC5Db250ZXh0LnNlcnZpY2VUeXBlcz17V01TOiJ1cm46b2djOnNlcnZpY2VUeXBlOldNUyIsV0ZTOiJ1cm46b2djOnNlcnZpY2VUeXBlOldGUyIsV0NTOiJ1cm46b2djOnNlcnZpY2VUeXBlOldDUyIsR01MOiJ1cm46b2djOnNlcnZpY2VUeXBlOkdNTCIsU0xEOiJ1cm46b2djOnNlcnZpY2VUeXBlOlNMRCIsRkVTOiJ1cm46b2djOnNlcnZpY2VUeXBlOkZFUyIsS01MOiJ1cm46b2djOnNlcnZpY2VUeXBlOktNTCJ9O09wZW5MYXllcnMuRm9ybWF0LldNQz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LkNvbnRleHQse2RlZmF1bHRWZXJzaW9uOiIxLjEuMCIsbGF5ZXJUb0NvbnRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRQYXJzZXIoKSxjPXtxdWVyeWFibGU6YS5xdWVyeWFibGUsdmlzaWJpbGl0eTphLnZpc2liaWxpdHksbmFtZTphLnBhcmFtcy5MQVlFUlMsdGl0bGU6YS5uYW1lLCJhYnN0cmFjdCI6YS5tZXRhZGF0YVsiYWJzdHJhY3QiXSxkYXRhVVJMOmEubWV0YWRhdGEuZGF0YVVSTCxtZXRhZGF0YVVSTDphLm1ldGFkYXRhVVJMLHNlcnZlcjp7dmVyc2lvbjphLnBhcmFtcy5WRVJTSU9OLHVybDphLnVybH0sbWF4RXh0ZW50OmEubWF4RXh0ZW50LHRyYW5zcGFyZW50OmEucGFyYW1zLlRSQU5TUEFSRU5ULG51bVpvb21MZXZlbHM6YS5udW1ab29tTGV2ZWxzLHVuaXRzOmEudW5pdHMsaXNCYXNlTGF5ZXI6YS5pc0Jhc2VMYXllcixvcGFjaXR5OjE9PWEub3BhY2l0eT92b2lkIDA6CmEub3BhY2l0eSxkaXNwbGF5SW5MYXllclN3aXRjaGVyOmEuZGlzcGxheUluTGF5ZXJTd2l0Y2hlcixzaW5nbGVUaWxlOmEuc2luZ2xlVGlsZSx0aWxlU2l6ZTphLnNpbmdsZVRpbGV8fCFhLnRpbGVTaXplP3ZvaWQgMDp7d2lkdGg6YS50aWxlU2l6ZS53LGhlaWdodDphLnRpbGVTaXplLmh9LG1pblNjYWxlOmEub3B0aW9ucy5yZXNvbHV0aW9uc3x8YS5vcHRpb25zLnNjYWxlc3x8YS5vcHRpb25zLm1heFJlc29sdXRpb258fGEub3B0aW9ucy5taW5TY2FsZT9hLm1pblNjYWxlOnZvaWQgMCxtYXhTY2FsZTphLm9wdGlvbnMucmVzb2x1dGlvbnN8fGEub3B0aW9ucy5zY2FsZXN8fGEub3B0aW9ucy5taW5SZXNvbHV0aW9ufHxhLm9wdGlvbnMubWF4U2NhbGU/YS5tYXhTY2FsZTp2b2lkIDAsZm9ybWF0czpbXSxzdHlsZXM6W10sc3JzOmEuc3JzLGRpbWVuc2lvbnM6YS5kaW1lbnNpb25zfTthLm1ldGFkYXRhLnNlcnZlcnRpdGxlJiYoYy5zZXJ2ZXIudGl0bGU9YS5tZXRhZGF0YS5zZXJ2ZXJ0aXRsZSk7CmlmKGEubWV0YWRhdGEuZm9ybWF0cyYmMDxhLm1ldGFkYXRhLmZvcm1hdHMubGVuZ3RoKWZvcih2YXIgZD0wLGU9YS5tZXRhZGF0YS5mb3JtYXRzLmxlbmd0aDtkPGU7ZCsrKXt2YXIgZj1hLm1ldGFkYXRhLmZvcm1hdHNbZF07Yy5mb3JtYXRzLnB1c2goe3ZhbHVlOmYudmFsdWUsY3VycmVudDpmLnZhbHVlPT1hLnBhcmFtcy5GT1JNQVR9KX1lbHNlIGMuZm9ybWF0cy5wdXNoKHt2YWx1ZTphLnBhcmFtcy5GT1JNQVQsY3VycmVudDohMH0pO2lmKGEubWV0YWRhdGEuc3R5bGVzJiYwPGEubWV0YWRhdGEuc3R5bGVzLmxlbmd0aCl7ZD0wO2ZvcihlPWEubWV0YWRhdGEuc3R5bGVzLmxlbmd0aDtkPGU7ZCsrKWI9YS5tZXRhZGF0YS5zdHlsZXNbZF0sYi5jdXJyZW50PWIuaHJlZj09YS5wYXJhbXMuU0xEfHxiLmJvZHk9PWEucGFyYW1zLlNMRF9CT0RZfHxiLm5hbWU9PWEucGFyYW1zLlNUWUxFUz8hMDohMSxjLnN0eWxlcy5wdXNoKGIpfWVsc2UgYy5zdHlsZXMucHVzaCh7aHJlZjphLnBhcmFtcy5TTEQsCmJvZHk6YS5wYXJhbXMuU0xEX0JPRFksbmFtZTphLnBhcmFtcy5TVFlMRVN8fGIuZGVmYXVsdFN0eWxlTmFtZSx0aXRsZTpiLmRlZmF1bHRTdHlsZVRpdGxlLGN1cnJlbnQ6ITB9KTtyZXR1cm4gY30sdG9Db250ZXh0OmZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM9YS5sYXllcnM7aWYoIk9wZW5MYXllcnMuTWFwIj09YS5DTEFTU19OQU1FKXt2YXIgZD1hLm1ldGFkYXRhfHx7fTtiLnNpemU9YS5nZXRTaXplKCk7Yi5ib3VuZHM9YS5nZXRFeHRlbnQoKTtiLnByb2plY3Rpb249YS5wcm9qZWN0aW9uO2IudGl0bGU9YS50aXRsZTtiLmtleXdvcmRzPWQua2V5d29yZHM7YlsiYWJzdHJhY3QiXT1kWyJhYnN0cmFjdCJdO2IubG9nbz1kLmxvZ287Yi5kZXNjcmlwdGlvblVSTD1kLmRlc2NyaXB0aW9uVVJMO2IuY29udGFjdEluZm9ybWF0aW9uPWQuY29udGFjdEluZm9ybWF0aW9uO2IubWF4RXh0ZW50PWEubWF4RXh0ZW50fWVsc2UgT3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYixhKSx2b2lkIDAhPQpiLmxheWVycyYmZGVsZXRlIGIubGF5ZXJzO3ZvaWQgMD09Yi5sYXllcnNDb250ZXh0JiYoYi5sYXllcnNDb250ZXh0PVtdKTtpZih2b2lkIDAhPWMmJk9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGMpKXthPTA7Zm9yKGQ9Yy5sZW5ndGg7YTxkO2ErKyl7dmFyIGU9Y1thXTtlIGluc3RhbmNlb2YgT3BlbkxheWVycy5MYXllci5XTVMmJmIubGF5ZXJzQ29udGV4dC5wdXNoKHRoaXMubGF5ZXJUb0NvbnRleHQoZSkpfX1yZXR1cm4gYn0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuV01DIn0pO09wZW5MYXllcnMuRm9ybWF0LldNQy52MT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7bmFtZXNwYWNlczp7b2w6Imh0dHA6Ly9vcGVubGF5ZXJzLm9yZy9jb250ZXh0Iix3bWM6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvY29udGV4dCIsc2xkOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3NsZCIseGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UifSxzY2hlbWFMb2NhdGlvbjoiIixnZXROYW1lc3BhY2VQcmVmaXg6ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtpZihudWxsPT1hKWI9dGhpcy5uYW1lc3BhY2VzW3RoaXMuZGVmYXVsdFByZWZpeF07ZWxzZSBmb3IoYiBpbiB0aGlzLm5hbWVzcGFjZXMpaWYodGhpcy5uYW1lc3BhY2VzW2JdPT1hKWJyZWFrO3JldHVybiBifSxkZWZhdWx0UHJlZml4OiJ3bWMiLHJvb3RQcmVmaXg6bnVsbCxkZWZhdWx0U3R5bGVOYW1lOiIiLApkZWZhdWx0U3R5bGVUaXRsZToiRGVmYXVsdCIsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pfSxyZWFkOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7YT1hLmRvY3VtZW50RWxlbWVudDt0aGlzLnJvb3RQcmVmaXg9YS5wcmVmaXg7dmFyIGI9e3ZlcnNpb246YS5nZXRBdHRyaWJ1dGUoInZlcnNpb24iKX07dGhpcy5ydW5DaGlsZE5vZGVzKGIsYSk7cmV0dXJuIGJ9LHJ1bkNoaWxkTm9kZXM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9Yi5jaGlsZE5vZGVzLGQsZSxmLGc9MCxoPWMubGVuZ3RoO2c8aDsrK2cpZD1jW2ddLDE9PWQubm9kZVR5cGUmJihlPXRoaXMuZ2V0TmFtZXNwYWNlUHJlZml4KGQubmFtZXNwYWNlVVJJKSxmPWQubm9kZU5hbWUuc3BsaXQoIjoiKS5wb3AoKSwKKGU9dGhpc1sicmVhZF8iK2UrIl8iK2ZdKSYmZS5hcHBseSh0aGlzLFthLGRdKSl9LHJlYWRfd21jX0dlbmVyYWw6ZnVuY3Rpb24oYSxiKXt0aGlzLnJ1bkNoaWxkTm9kZXMoYSxiKX0scmVhZF93bWNfQm91bmRpbmdCb3g6ZnVuY3Rpb24oYSxiKXthLnByb2plY3Rpb249Yi5nZXRBdHRyaWJ1dGUoIlNSUyIpO2EuYm91bmRzPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhiLmdldEF0dHJpYnV0ZSgibWlueCIpLGIuZ2V0QXR0cmlidXRlKCJtaW55IiksYi5nZXRBdHRyaWJ1dGUoIm1heHgiKSxiLmdldEF0dHJpYnV0ZSgibWF4eSIpKX0scmVhZF93bWNfTGF5ZXJMaXN0OmZ1bmN0aW9uKGEsYil7YS5sYXllcnNDb250ZXh0PVtdO3RoaXMucnVuQ2hpbGROb2RlcyhhLGIpfSxyZWFkX3dtY19MYXllcjpmdW5jdGlvbihhLGIpe3ZhciBjPXt2aXNpYmlsaXR5OiIxIiE9Yi5nZXRBdHRyaWJ1dGUoImhpZGRlbiIpLHF1ZXJ5YWJsZToiMSI9PWIuZ2V0QXR0cmlidXRlKCJxdWVyeWFibGUiKSxmb3JtYXRzOltdLApzdHlsZXM6W10sbWV0YWRhdGE6e319O3RoaXMucnVuQ2hpbGROb2RlcyhjLGIpO2EubGF5ZXJzQ29udGV4dC5wdXNoKGMpfSxyZWFkX3dtY19FeHRlbnNpb246ZnVuY3Rpb24oYSxiKXt0aGlzLnJ1bkNoaWxkTm9kZXMoYSxiKX0scmVhZF9vbF91bml0czpmdW5jdGlvbihhLGIpe2EudW5pdHM9dGhpcy5nZXRDaGlsZFZhbHVlKGIpfSxyZWFkX29sX21heEV4dGVudDpmdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhiLmdldEF0dHJpYnV0ZSgibWlueCIpLGIuZ2V0QXR0cmlidXRlKCJtaW55IiksYi5nZXRBdHRyaWJ1dGUoIm1heHgiKSxiLmdldEF0dHJpYnV0ZSgibWF4eSIpKTthLm1heEV4dGVudD1jfSxyZWFkX29sX3RyYW5zcGFyZW50OmZ1bmN0aW9uKGEsYil7YS50cmFuc3BhcmVudD10aGlzLmdldENoaWxkVmFsdWUoYil9LHJlYWRfb2xfbnVtWm9vbUxldmVsczpmdW5jdGlvbihhLGIpe2EubnVtWm9vbUxldmVscz1wYXJzZUludCh0aGlzLmdldENoaWxkVmFsdWUoYikpfSwKcmVhZF9vbF9vcGFjaXR5OmZ1bmN0aW9uKGEsYil7YS5vcGFjaXR5PXBhcnNlRmxvYXQodGhpcy5nZXRDaGlsZFZhbHVlKGIpKX0scmVhZF9vbF9zaW5nbGVUaWxlOmZ1bmN0aW9uKGEsYil7YS5zaW5nbGVUaWxlPSJ0cnVlIj09dGhpcy5nZXRDaGlsZFZhbHVlKGIpfSxyZWFkX29sX3RpbGVTaXplOmZ1bmN0aW9uKGEsYil7dmFyIGM9e3dpZHRoOmIuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpLGhlaWdodDpiLmdldEF0dHJpYnV0ZSgiaGVpZ2h0Iil9O2EudGlsZVNpemU9Y30scmVhZF9vbF9pc0Jhc2VMYXllcjpmdW5jdGlvbihhLGIpe2EuaXNCYXNlTGF5ZXI9InRydWUiPT10aGlzLmdldENoaWxkVmFsdWUoYil9LHJlYWRfb2xfZGlzcGxheUluTGF5ZXJTd2l0Y2hlcjpmdW5jdGlvbihhLGIpe2EuZGlzcGxheUluTGF5ZXJTd2l0Y2hlcj0idHJ1ZSI9PXRoaXMuZ2V0Q2hpbGRWYWx1ZShiKX0scmVhZF93bWNfU2VydmVyOmZ1bmN0aW9uKGEsYil7YS52ZXJzaW9uPWIuZ2V0QXR0cmlidXRlKCJ2ZXJzaW9uIik7CmEudXJsPXRoaXMuZ2V0T25saW5lUmVzb3VyY2VfaHJlZihiKTthLm1ldGFkYXRhLnNlcnZlcnRpdGxlPWIuZ2V0QXR0cmlidXRlKCJ0aXRsZSIpfSxyZWFkX3dtY19Gb3JtYXRMaXN0OmZ1bmN0aW9uKGEsYil7dGhpcy5ydW5DaGlsZE5vZGVzKGEsYil9LHJlYWRfd21jX0Zvcm1hdDpmdW5jdGlvbihhLGIpe3ZhciBjPXt2YWx1ZTp0aGlzLmdldENoaWxkVmFsdWUoYil9OyIxIj09Yi5nZXRBdHRyaWJ1dGUoImN1cnJlbnQiKSYmKGMuY3VycmVudD0hMCk7YS5mb3JtYXRzLnB1c2goYyl9LHJlYWRfd21jX1N0eWxlTGlzdDpmdW5jdGlvbihhLGIpe3RoaXMucnVuQ2hpbGROb2RlcyhhLGIpfSxyZWFkX3dtY19TdHlsZTpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O3RoaXMucnVuQ2hpbGROb2RlcyhjLGIpOyIxIj09Yi5nZXRBdHRyaWJ1dGUoImN1cnJlbnQiKSYmKGMuY3VycmVudD0hMCk7YS5zdHlsZXMucHVzaChjKX0scmVhZF93bWNfU0xEOmZ1bmN0aW9uKGEsYil7dGhpcy5ydW5DaGlsZE5vZGVzKGEsCmIpfSxyZWFkX3NsZF9TdHlsZWRMYXllckRlc2NyaXB0b3I6ZnVuY3Rpb24oYSxiKXt2YXIgYz1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLndyaXRlLmFwcGx5KHRoaXMsW2JdKTthLmJvZHk9Y30scmVhZF9zbGRfRmVhdHVyZVR5cGVTdHlsZTpmdW5jdGlvbihhLGIpe3ZhciBjPU9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUud3JpdGUuYXBwbHkodGhpcyxbYl0pO2EuYm9keT1jfSxyZWFkX3dtY19PbmxpbmVSZXNvdXJjZTpmdW5jdGlvbihhLGIpe2EuaHJlZj10aGlzLmdldEF0dHJpYnV0ZU5TKGIsdGhpcy5uYW1lc3BhY2VzLnhsaW5rLCJocmVmIil9LHJlYWRfd21jX05hbWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYik7YyYmKGEubmFtZT1jKX0scmVhZF93bWNfVGl0bGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYik7YyYmKGEudGl0bGU9Yyl9LHJlYWRfd21jX01ldGFkYXRhVVJMOmZ1bmN0aW9uKGEsCmIpe2EubWV0YWRhdGFVUkw9dGhpcy5nZXRPbmxpbmVSZXNvdXJjZV9ocmVmKGIpfSxyZWFkX3dtY19LZXl3b3JkTGlzdDpmdW5jdGlvbihhLGIpe2Eua2V5d29yZHM9W107dGhpcy5ydW5DaGlsZE5vZGVzKGEua2V5d29yZHMsYil9LHJlYWRfd21jX0tleXdvcmQ6ZnVuY3Rpb24oYSxiKXthLnB1c2godGhpcy5nZXRDaGlsZFZhbHVlKGIpKX0scmVhZF93bWNfQWJzdHJhY3Q6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYik7YyYmKGFbImFic3RyYWN0Il09Yyl9LHJlYWRfd21jX0xvZ29VUkw6ZnVuY3Rpb24oYSxiKXthLmxvZ289e3dpZHRoOmIuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpLGhlaWdodDpiLmdldEF0dHJpYnV0ZSgiaGVpZ2h0IiksZm9ybWF0OmIuZ2V0QXR0cmlidXRlKCJmb3JtYXQiKSxocmVmOnRoaXMuZ2V0T25saW5lUmVzb3VyY2VfaHJlZihiKX19LHJlYWRfd21jX0Rlc2NyaXB0aW9uVVJMOmZ1bmN0aW9uKGEsYil7YS5kZXNjcmlwdGlvblVSTD0KdGhpcy5nZXRPbmxpbmVSZXNvdXJjZV9ocmVmKGIpfSxyZWFkX3dtY19Db250YWN0SW5mb3JtYXRpb246ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTt0aGlzLnJ1bkNoaWxkTm9kZXMoYyxiKTthLmNvbnRhY3RJbmZvcm1hdGlvbj1jfSxyZWFkX3dtY19Db250YWN0UGVyc29uUHJpbWFyeTpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O3RoaXMucnVuQ2hpbGROb2RlcyhjLGIpO2EucGVyc29uUHJpbWFyeT1jfSxyZWFkX3dtY19Db250YWN0UGVyc29uOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDaGlsZFZhbHVlKGIpO2MmJihhLnBlcnNvbj1jKX0scmVhZF93bWNfQ29udGFjdE9yZ2FuaXphdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q2hpbGRWYWx1ZShiKTtjJiYoYS5vcmdhbml6YXRpb249Yyl9LHJlYWRfd21jX0NvbnRhY3RQb3NpdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q2hpbGRWYWx1ZShiKTtjJiYoYS5wb3NpdGlvbj1jKX0scmVhZF93bWNfQ29udGFjdEFkZHJlc3M6ZnVuY3Rpb24oYSwKYil7dmFyIGM9e307dGhpcy5ydW5DaGlsZE5vZGVzKGMsYik7YS5jb250YWN0QWRkcmVzcz1jfSxyZWFkX3dtY19BZGRyZXNzVHlwZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q2hpbGRWYWx1ZShiKTtjJiYoYS50eXBlPWMpfSxyZWFkX3dtY19BZGRyZXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDaGlsZFZhbHVlKGIpO2MmJihhLmFkZHJlc3M9Yyl9LHJlYWRfd21jX0NpdHk6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYik7YyYmKGEuY2l0eT1jKX0scmVhZF93bWNfU3RhdGVPclByb3ZpbmNlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDaGlsZFZhbHVlKGIpO2MmJihhLnN0YXRlT3JQcm92aW5jZT1jKX0scmVhZF93bWNfUG9zdENvZGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYik7YyYmKGEucG9zdGNvZGU9Yyl9LHJlYWRfd21jX0NvdW50cnk6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYik7CmMmJihhLmNvdW50cnk9Yyl9LHJlYWRfd21jX0NvbnRhY3RWb2ljZVRlbGVwaG9uZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q2hpbGRWYWx1ZShiKTtjJiYoYS5waG9uZT1jKX0scmVhZF93bWNfQ29udGFjdEZhY3NpbWlsZVRlbGVwaG9uZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q2hpbGRWYWx1ZShiKTtjJiYoYS5mYXg9Yyl9LHJlYWRfd21jX0NvbnRhY3RFbGVjdHJvbmljTWFpbEFkZHJlc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYik7YyYmKGEuZW1haWw9Yyl9LHJlYWRfd21jX0RhdGFVUkw6ZnVuY3Rpb24oYSxiKXthLmRhdGFVUkw9dGhpcy5nZXRPbmxpbmVSZXNvdXJjZV9ocmVmKGIpfSxyZWFkX3dtY19MZWdlbmRVUkw6ZnVuY3Rpb24oYSxiKXt2YXIgYz17d2lkdGg6Yi5nZXRBdHRyaWJ1dGUoIndpZHRoIiksaGVpZ2h0OmIuZ2V0QXR0cmlidXRlKCJoZWlnaHQiKSxmb3JtYXQ6Yi5nZXRBdHRyaWJ1dGUoImZvcm1hdCIpLApocmVmOnRoaXMuZ2V0T25saW5lUmVzb3VyY2VfaHJlZihiKX07YS5sZWdlbmQ9Y30scmVhZF93bWNfRGltZW5zaW9uTGlzdDpmdW5jdGlvbihhLGIpe2EuZGltZW5zaW9ucz17fTt0aGlzLnJ1bkNoaWxkTm9kZXMoYS5kaW1lbnNpb25zLGIpfSxyZWFkX3dtY19EaW1lbnNpb246ZnVuY3Rpb24oYSxiKXt2YXIgYz17bmFtZTpiLmdldEF0dHJpYnV0ZSgibmFtZSIpLnRvTG93ZXJDYXNlKCksdW5pdHM6Yi5nZXRBdHRyaWJ1dGUoInVuaXRzIil8fCIiLHVuaXRTeW1ib2w6Yi5nZXRBdHRyaWJ1dGUoInVuaXRTeW1ib2wiKXx8IiIsdXNlclZhbHVlOmIuZ2V0QXR0cmlidXRlKCJ1c2VyVmFsdWUiKXx8IiIsbmVhcmVzdFZhbHVlOiIxIj09PWIuZ2V0QXR0cmlidXRlKCJuZWFyZXN0VmFsdWUiKSxtdWx0aXBsZVZhbHVlczoiMSI9PT1iLmdldEF0dHJpYnV0ZSgibXVsdGlwbGVWYWx1ZXMiKSxjdXJyZW50OiIxIj09PWIuZ2V0QXR0cmlidXRlKCJjdXJyZW50IiksImRlZmF1bHQiOmIuZ2V0QXR0cmlidXRlKCJkZWZhdWx0Iil8fAoiIn0sZD10aGlzLmdldENoaWxkVmFsdWUoYik7Yy52YWx1ZXM9ZC5zcGxpdCgiLCIpO2FbYy5uYW1lXT1jfSx3cml0ZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiVmlld0NvbnRleHQiKTt0aGlzLnNldEF0dHJpYnV0ZXMoYyx7dmVyc2lvbjp0aGlzLlZFUlNJT04saWQ6YiYmInN0cmluZyI9PXR5cGVvZiBiLmlkP2IuaWQ6T3BlbkxheWVycy5VdGlsLmNyZWF0ZVVuaXF1ZUlEKCJPcGVuTGF5ZXJzX0NvbnRleHRfIil9KTt0aGlzLnNldEF0dHJpYnV0ZU5TKGMsdGhpcy5uYW1lc3BhY2VzLnhzaSwieHNpOnNjaGVtYUxvY2F0aW9uIix0aGlzLnNjaGVtYUxvY2F0aW9uKTtjLmFwcGVuZENoaWxkKHRoaXMud3JpdGVfd21jX0dlbmVyYWwoYSkpO2MuYXBwZW5kQ2hpbGQodGhpcy53cml0ZV93bWNfTGF5ZXJMaXN0KGEpKTtyZXR1cm4gT3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS53cml0ZS5hcHBseSh0aGlzLFtjXSl9LGNyZWF0ZUVsZW1lbnREZWZhdWx0TlM6ZnVuY3Rpb24oYSwKYixjKXthPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMubmFtZXNwYWNlc1t0aGlzLmRlZmF1bHRQcmVmaXhdLGEpO2ImJmEuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVUZXh0Tm9kZShiKSk7YyYmdGhpcy5zZXRBdHRyaWJ1dGVzKGEsYyk7cmV0dXJuIGF9LHNldEF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkO2ZvcihkIGluIGIpYz1iW2RdLnRvU3RyaW5nKCksYy5tYXRjaCgvW0EtWl0vKT90aGlzLnNldEF0dHJpYnV0ZU5TKGEsbnVsbCxkLGMpOmEuc2V0QXR0cmlidXRlKGQsYyl9LHdyaXRlX3dtY19HZW5lcmFsOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiR2VuZXJhbCIpO2Euc2l6ZSYmYi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIldpbmRvdyIsbnVsbCx7d2lkdGg6YS5zaXplLncsaGVpZ2h0OmEuc2l6ZS5ofSkpO3ZhciBjPWEuYm91bmRzO2IuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJCb3VuZGluZ0JveCIsCm51bGwse21pbng6Yy5sZWZ0LnRvUHJlY2lzaW9uKDE4KSxtaW55OmMuYm90dG9tLnRvUHJlY2lzaW9uKDE4KSxtYXh4OmMucmlnaHQudG9QcmVjaXNpb24oMTgpLG1heHk6Yy50b3AudG9QcmVjaXNpb24oMTgpLFNSUzphLnByb2plY3Rpb259KSk7Yi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIlRpdGxlIixhLnRpdGxlKSk7YS5rZXl3b3JkcyYmYi5hcHBlbmRDaGlsZCh0aGlzLndyaXRlX3dtY19LZXl3b3JkTGlzdChhLmtleXdvcmRzKSk7YVsiYWJzdHJhY3QiXSYmYi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIkFic3RyYWN0IixhWyJhYnN0cmFjdCJdKSk7YS5sb2dvJiZiLmFwcGVuZENoaWxkKHRoaXMud3JpdGVfd21jX1VSTFR5cGUoIkxvZ29VUkwiLGEubG9nby5ocmVmLGEubG9nbykpO2EuZGVzY3JpcHRpb25VUkwmJmIuYXBwZW5kQ2hpbGQodGhpcy53cml0ZV93bWNfVVJMVHlwZSgiRGVzY3JpcHRpb25VUkwiLGEuZGVzY3JpcHRpb25VUkwpKTsKYS5jb250YWN0SW5mb3JtYXRpb24mJmIuYXBwZW5kQ2hpbGQodGhpcy53cml0ZV93bWNfQ29udGFjdEluZm9ybWF0aW9uKGEuY29udGFjdEluZm9ybWF0aW9uKSk7Yi5hcHBlbmRDaGlsZCh0aGlzLndyaXRlX29sX01hcEV4dGVuc2lvbihhKSk7cmV0dXJuIGJ9LHdyaXRlX3dtY19LZXl3b3JkTGlzdDpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJLZXl3b3JkTGlzdCIpLGM9MCxkPWEubGVuZ3RoO2M8ZDtjKyspYi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIktleXdvcmQiLGFbY10pKTtyZXR1cm4gYn0sd3JpdGVfd21jX0NvbnRhY3RJbmZvcm1hdGlvbjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIkNvbnRhY3RJbmZvcm1hdGlvbiIpO2EucGVyc29uUHJpbWFyeSYmYi5hcHBlbmRDaGlsZCh0aGlzLndyaXRlX3dtY19Db250YWN0UGVyc29uUHJpbWFyeShhLnBlcnNvblByaW1hcnkpKTsKYS5wb3NpdGlvbiYmYi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIkNvbnRhY3RQb3NpdGlvbiIsYS5wb3NpdGlvbikpO2EuY29udGFjdEFkZHJlc3MmJmIuYXBwZW5kQ2hpbGQodGhpcy53cml0ZV93bWNfQ29udGFjdEFkZHJlc3MoYS5jb250YWN0QWRkcmVzcykpO2EucGhvbmUmJmIuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJDb250YWN0Vm9pY2VUZWxlcGhvbmUiLGEucGhvbmUpKTthLmZheCYmYi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIkNvbnRhY3RGYWNzaW1pbGVUZWxlcGhvbmUiLGEuZmF4KSk7YS5lbWFpbCYmYi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIkNvbnRhY3RFbGVjdHJvbmljTWFpbEFkZHJlc3MiLGEuZW1haWwpKTtyZXR1cm4gYn0sd3JpdGVfd21jX0NvbnRhY3RQZXJzb25QcmltYXJ5OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiQ29udGFjdFBlcnNvblByaW1hcnkiKTsKYS5wZXJzb24mJmIuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJDb250YWN0UGVyc29uIixhLnBlcnNvbikpO2Eub3JnYW5pemF0aW9uJiZiLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiQ29udGFjdE9yZ2FuaXphdGlvbiIsYS5vcmdhbml6YXRpb24pKTtyZXR1cm4gYn0sd3JpdGVfd21jX0NvbnRhY3RBZGRyZXNzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiQ29udGFjdEFkZHJlc3MiKTthLnR5cGUmJmIuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJBZGRyZXNzVHlwZSIsYS50eXBlKSk7YS5hZGRyZXNzJiZiLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiQWRkcmVzcyIsYS5hZGRyZXNzKSk7YS5jaXR5JiZiLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiQ2l0eSIsYS5jaXR5KSk7YS5zdGF0ZU9yUHJvdmluY2UmJgpiLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiU3RhdGVPclByb3ZpbmNlIixhLnN0YXRlT3JQcm92aW5jZSkpO2EucG9zdGNvZGUmJmIuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJQb3N0Q29kZSIsYS5wb3N0Y29kZSkpO2EuY291bnRyeSYmYi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIkNvdW50cnkiLGEuY291bnRyeSkpO3JldHVybiBifSx3cml0ZV9vbF9NYXBFeHRlbnNpb246ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJFeHRlbnNpb24iKTtpZihhPWEubWF4RXh0ZW50KXt2YXIgYz10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLm5hbWVzcGFjZXMub2wsIm9sOm1heEV4dGVudCIpO3RoaXMuc2V0QXR0cmlidXRlcyhjLHttaW54OmEubGVmdC50b1ByZWNpc2lvbigxOCksbWlueTphLmJvdHRvbS50b1ByZWNpc2lvbigxOCksbWF4eDphLnJpZ2h0LnRvUHJlY2lzaW9uKDE4KSwKbWF4eTphLnRvcC50b1ByZWNpc2lvbigxOCl9KTtiLmFwcGVuZENoaWxkKGMpfXJldHVybiBifSx3cml0ZV93bWNfTGF5ZXJMaXN0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIkxheWVyTGlzdCIpLGM9MCxkPWEubGF5ZXJzQ29udGV4dC5sZW5ndGg7YzxkOysrYyliLmFwcGVuZENoaWxkKHRoaXMud3JpdGVfd21jX0xheWVyKGEubGF5ZXJzQ29udGV4dFtjXSkpO3JldHVybiBifSx3cml0ZV93bWNfTGF5ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJMYXllciIsbnVsbCx7cXVlcnlhYmxlOmEucXVlcnlhYmxlPyIxIjoiMCIsaGlkZGVuOmEudmlzaWJpbGl0eT8iMCI6IjEifSk7Yi5hcHBlbmRDaGlsZCh0aGlzLndyaXRlX3dtY19TZXJ2ZXIoYSkpO2IuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJOYW1lIixhLm5hbWUpKTtiLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiVGl0bGUiLAphLnRpdGxlKSk7YVsiYWJzdHJhY3QiXSYmYi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIkFic3RyYWN0IixhWyJhYnN0cmFjdCJdKSk7YS5kYXRhVVJMJiZiLmFwcGVuZENoaWxkKHRoaXMud3JpdGVfd21jX1VSTFR5cGUoIkRhdGFVUkwiLGEuZGF0YVVSTCkpO2EubWV0YWRhdGFVUkwmJmIuYXBwZW5kQ2hpbGQodGhpcy53cml0ZV93bWNfVVJMVHlwZSgiTWV0YWRhdGFVUkwiLGEubWV0YWRhdGFVUkwpKTtyZXR1cm4gYn0sd3JpdGVfd21jX0xheWVyRXh0ZW5zaW9uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiRXh0ZW5zaW9uIiksYz1hLm1heEV4dGVudCxkPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMubmFtZXNwYWNlcy5vbCwib2w6bWF4RXh0ZW50Iik7dGhpcy5zZXRBdHRyaWJ1dGVzKGQse21pbng6Yy5sZWZ0LnRvUHJlY2lzaW9uKDE4KSxtaW55OmMuYm90dG9tLnRvUHJlY2lzaW9uKDE4KSxtYXh4OmMucmlnaHQudG9QcmVjaXNpb24oMTgpLAptYXh5OmMudG9wLnRvUHJlY2lzaW9uKDE4KX0pO2IuYXBwZW5kQ2hpbGQoZCk7YS50aWxlU2l6ZSYmIWEuc2luZ2xlVGlsZSYmKGM9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5uYW1lc3BhY2VzLm9sLCJvbDp0aWxlU2l6ZSIpLHRoaXMuc2V0QXR0cmlidXRlcyhjLGEudGlsZVNpemUpLGIuYXBwZW5kQ2hpbGQoYykpO2Zvcih2YXIgYz0idHJhbnNwYXJlbnQgbnVtWm9vbUxldmVscyB1bml0cyBpc0Jhc2VMYXllciBvcGFjaXR5IGRpc3BsYXlJbkxheWVyU3dpdGNoZXIgc2luZ2xlVGlsZSIuc3BsaXQoIiAiKSxlPTAsZj1jLmxlbmd0aDtlPGY7KytlKShkPXRoaXMuY3JlYXRlT0xQcm9wZXJ0eU5vZGUoYSxjW2VdKSkmJmIuYXBwZW5kQ2hpbGQoZCk7cmV0dXJuIGJ9LGNyZWF0ZU9MUHJvcGVydHlOb2RlOmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtudWxsIT1hW2JdJiYoYz10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLm5hbWVzcGFjZXMub2wsIm9sOiIrYiksYy5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVRleHROb2RlKGFbYl0udG9TdHJpbmcoKSkpKTsKcmV0dXJuIGN9LHdyaXRlX3dtY19TZXJ2ZXI6ZnVuY3Rpb24oYSl7dmFyIGE9YS5zZXJ2ZXIsYj10aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIlNlcnZlciIpLGM9e3NlcnZpY2U6Ik9HQzpXTVMiLHZlcnNpb246YS52ZXJzaW9ufTthLnRpdGxlJiYoYy50aXRsZT1hLnRpdGxlKTt0aGlzLnNldEF0dHJpYnV0ZXMoYixjKTtiLmFwcGVuZENoaWxkKHRoaXMud3JpdGVfd21jX09ubGluZVJlc291cmNlKGEudXJsKSk7cmV0dXJuIGJ9LHdyaXRlX3dtY19VUkxUeXBlOmZ1bmN0aW9uKGEsYixjKXthPXRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUyhhKTthLmFwcGVuZENoaWxkKHRoaXMud3JpdGVfd21jX09ubGluZVJlc291cmNlKGIpKTtpZihjKWZvcih2YXIgYj1bIndpZHRoIiwiaGVpZ2h0IiwiZm9ybWF0Il0sZD0wO2Q8Yi5sZW5ndGg7ZCsrKWJbZF1pbiBjJiZhLnNldEF0dHJpYnV0ZShiW2RdLGNbYltkXV0pO3JldHVybiBhfSx3cml0ZV93bWNfRGltZW5zaW9uTGlzdDpmdW5jdGlvbihhKXt2YXIgYj0KdGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJEaW1lbnNpb25MaXN0IiksYztmb3IoYyBpbiBhLmRpbWVuc2lvbnMpe3ZhciBkPXt9LGU9YS5kaW1lbnNpb25zW2NdLGY7Zm9yKGYgaW4gZSlkW2ZdPSJib29sZWFuIj09dHlwZW9mIGVbZl0/TnVtYmVyKGVbZl0pOmVbZl07ZT0iIjtkLnZhbHVlcyYmKGU9ZC52YWx1ZXMuam9pbigiLCIpLGRlbGV0ZSBkLnZhbHVlcyk7Yi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIkRpbWVuc2lvbiIsZSxkKSl9cmV0dXJuIGJ9LHdyaXRlX3dtY19Gb3JtYXRMaXN0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIkZvcm1hdExpc3QiKSxjPTAsZD1hLmZvcm1hdHMubGVuZ3RoO2M8ZDtjKyspe3ZhciBlPWEuZm9ybWF0c1tjXTtiLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiRm9ybWF0IixlLnZhbHVlLGUuY3VycmVudCYmITA9PWUuY3VycmVudD97Y3VycmVudDoiMSJ9OgpudWxsKSl9cmV0dXJuIGJ9LHdyaXRlX3dtY19TdHlsZUxpc3Q6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJTdHlsZUxpc3QiKTtpZigoYT1hLnN0eWxlcykmJk9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEpKWZvcih2YXIgYyxkPTAsZT1hLmxlbmd0aDtkPGU7ZCsrKXt2YXIgZj1hW2RdLGc9dGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJTdHlsZSIsbnVsbCxmLmN1cnJlbnQmJiEwPT1mLmN1cnJlbnQ/e2N1cnJlbnQ6IjEifTpudWxsKTtmLmhyZWY/KGM9dGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJTTEQiKSxmLm5hbWUmJmMuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJOYW1lIixmLm5hbWUpKSxmLnRpdGxlJiZjLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiVGl0bGUiLGYudGl0bGUpKSxmLmxlZ2VuZCYmYy5hcHBlbmRDaGlsZCh0aGlzLndyaXRlX3dtY19VUkxUeXBlKCJMZWdlbmRVUkwiLApmLmxlZ2VuZC5ocmVmLGYubGVnZW5kKSksZj10aGlzLndyaXRlX3dtY19PbmxpbmVSZXNvdXJjZShmLmhyZWYpLGMuYXBwZW5kQ2hpbGQoZiksZy5hcHBlbmRDaGlsZChjKSk6Zi5ib2R5PyhjPXRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiU0xEIiksZi5uYW1lJiZjLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiTmFtZSIsZi5uYW1lKSksZi50aXRsZSYmYy5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIlRpdGxlIixmLnRpdGxlKSksZi5sZWdlbmQmJmMuYXBwZW5kQ2hpbGQodGhpcy53cml0ZV93bWNfVVJMVHlwZSgiTGVnZW5kVVJMIixmLmxlZ2VuZC5ocmVmLGYubGVnZW5kKSksZj1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxbZi5ib2R5XSkuZG9jdW1lbnRFbGVtZW50LGMub3duZXJEb2N1bWVudCYmYy5vd25lckRvY3VtZW50LmltcG9ydE5vZGUmJihmPWMub3duZXJEb2N1bWVudC5pbXBvcnROb2RlKGYsCiEwKSksYy5hcHBlbmRDaGlsZChmKSxnLmFwcGVuZENoaWxkKGMpKTooZy5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIk5hbWUiLGYubmFtZSkpLGcuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJUaXRsZSIsZi50aXRsZSkpLGZbImFic3RyYWN0Il0mJmcuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJBYnN0cmFjdCIsZlsiYWJzdHJhY3QiXSkpLGYubGVnZW5kJiZnLmFwcGVuZENoaWxkKHRoaXMud3JpdGVfd21jX1VSTFR5cGUoIkxlZ2VuZFVSTCIsZi5sZWdlbmQuaHJlZixmLmxlZ2VuZCkpKTtiLmFwcGVuZENoaWxkKGcpfXJldHVybiBifSx3cml0ZV93bWNfT25saW5lUmVzb3VyY2U6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50RGVmYXVsdE5TKCJPbmxpbmVSZXNvdXJjZSIpO3RoaXMuc2V0QXR0cmlidXRlTlMoYix0aGlzLm5hbWVzcGFjZXMueGxpbmssInhsaW5rOnR5cGUiLAoic2ltcGxlIik7dGhpcy5zZXRBdHRyaWJ1dGVOUyhiLHRoaXMubmFtZXNwYWNlcy54bGluaywieGxpbms6aHJlZiIsYSk7cmV0dXJuIGJ9LGdldE9ubGluZVJlc291cmNlX2hyZWY6ZnVuY3Rpb24oYSl7dmFyIGI9e30sYT1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJPbmxpbmVSZXNvdXJjZSIpOzA8YS5sZW5ndGgmJnRoaXMucmVhZF93bWNfT25saW5lUmVzb3VyY2UoYixhWzBdKTtyZXR1cm4gYi5ocmVmfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XTUMudjEifSk7T3BlbkxheWVycy5Qb3B1cC5GcmFtZWQ9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlBvcHVwLkFuY2hvcmVkLHtpbWFnZVNyYzpudWxsLGltYWdlU2l6ZTpudWxsLGlzQWxwaGFJbWFnZTohMSxwb3NpdGlvbkJsb2NrczpudWxsLGJsb2NrczpudWxsLGZpeGVkUmVsYXRpdmVQb3NpdGlvbjohMSxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe09wZW5MYXllcnMuUG9wdXAuQW5jaG9yZWQucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZml4ZWRSZWxhdGl2ZVBvc2l0aW9uJiYodGhpcy51cGRhdGVSZWxhdGl2ZVBvc2l0aW9uKCksdGhpcy5jYWxjdWxhdGVSZWxhdGl2ZVBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVsYXRpdmVQb3NpdGlvbn0pO3RoaXMuY29udGVudERpdi5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO3RoaXMuY29udGVudERpdi5zdHlsZS56SW5kZXg9MTtmJiYodGhpcy5jbG9zZURpdi5zdHlsZS56SW5kZXg9CjEpO3RoaXMuZ3JvdXBEaXYuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjt0aGlzLmdyb3VwRGl2LnN0eWxlLnRvcD0iMHB4Ijt0aGlzLmdyb3VwRGl2LnN0eWxlLmxlZnQ9IjBweCI7dGhpcy5ncm91cERpdi5zdHlsZS5oZWlnaHQ9IjEwMCUiO3RoaXMuZ3JvdXBEaXYuc3R5bGUud2lkdGg9IjEwMCUifSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5pc0FscGhhSW1hZ2U9dGhpcy5pbWFnZVNpemU9dGhpcy5pbWFnZVNyYz1udWxsO3RoaXMuZml4ZWRSZWxhdGl2ZVBvc2l0aW9uPSExO3RoaXMucG9zaXRpb25CbG9ja3M9bnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYmxvY2tzLmxlbmd0aDthKyspe3ZhciBiPXRoaXMuYmxvY2tzW2FdO2IuaW1hZ2UmJmIuZGl2LnJlbW92ZUNoaWxkKGIuaW1hZ2UpO2IuaW1hZ2U9bnVsbDtiLmRpdiYmdGhpcy5ncm91cERpdi5yZW1vdmVDaGlsZChiLmRpdik7Yi5kaXY9bnVsbH10aGlzLmJsb2Nrcz1udWxsO09wZW5MYXllcnMuUG9wdXAuQW5jaG9yZWQucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcywKYXJndW1lbnRzKX0sc2V0QmFja2dyb3VuZENvbG9yOmZ1bmN0aW9uKCl7fSxzZXRCb3JkZXI6ZnVuY3Rpb24oKXt9LHNldE9wYWNpdHk6ZnVuY3Rpb24oKXt9LHNldFNpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Qb3B1cC5BbmNob3JlZC5wcm90b3R5cGUuc2V0U2l6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy51cGRhdGVCbG9ja3MoKX0sdXBkYXRlUmVsYXRpdmVQb3NpdGlvbjpmdW5jdGlvbigpe3RoaXMucGFkZGluZz10aGlzLnBvc2l0aW9uQmxvY2tzW3RoaXMucmVsYXRpdmVQb3NpdGlvbl0ucGFkZGluZztpZih0aGlzLmNsb3NlRGl2KXt2YXIgYT10aGlzLmdldENvbnRlbnREaXZQYWRkaW5nKCk7dGhpcy5jbG9zZURpdi5zdHlsZS5yaWdodD1hLnJpZ2h0K3RoaXMucGFkZGluZy5yaWdodCsicHgiO3RoaXMuY2xvc2VEaXYuc3R5bGUudG9wPWEudG9wK3RoaXMucGFkZGluZy50b3ArInB4In10aGlzLnVwZGF0ZUJsb2NrcygpfSxjYWxjdWxhdGVOZXdQeDpmdW5jdGlvbihhKXt2YXIgYj0KT3BlbkxheWVycy5Qb3B1cC5BbmNob3JlZC5wcm90b3R5cGUuY2FsY3VsYXRlTmV3UHguYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBiPWIub2Zmc2V0KHRoaXMucG9zaXRpb25CbG9ja3NbdGhpcy5yZWxhdGl2ZVBvc2l0aW9uXS5vZmZzZXQpfSxjcmVhdGVCbG9ja3M6ZnVuY3Rpb24oKXt0aGlzLmJsb2Nrcz1bXTt2YXIgYT1udWxsLGI7Zm9yKGIgaW4gdGhpcy5wb3NpdGlvbkJsb2Nrcyl7YT1iO2JyZWFrfWE9dGhpcy5wb3NpdGlvbkJsb2Nrc1thXTtmb3IoYj0wO2I8YS5ibG9ja3MubGVuZ3RoO2IrKyl7dmFyIGM9e307dGhpcy5ibG9ja3MucHVzaChjKTtjLmRpdj1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlRGl2KHRoaXMuaWQrIl9GcmFtZURlY29yYXRpb25EaXZfIitiLG51bGwsbnVsbCxudWxsLCJhYnNvbHV0ZSIsbnVsbCwiaGlkZGVuIixudWxsKTtjLmltYWdlPSh0aGlzLmlzQWxwaGFJbWFnZT9PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlQWxwaGFJbWFnZURpdjpPcGVuTGF5ZXJzLlV0aWwuY3JlYXRlSW1hZ2UpKHRoaXMuaWQrCiJfRnJhbWVEZWNvcmF0aW9uSW1nXyIrYixudWxsLHRoaXMuaW1hZ2VTaXplLHRoaXMuaW1hZ2VTcmMsImFic29sdXRlIixudWxsLG51bGwsbnVsbCk7Yy5kaXYuYXBwZW5kQ2hpbGQoYy5pbWFnZSk7dGhpcy5ncm91cERpdi5hcHBlbmRDaGlsZChjLmRpdil9fSx1cGRhdGVCbG9ja3M6ZnVuY3Rpb24oKXt0aGlzLmJsb2Nrc3x8dGhpcy5jcmVhdGVCbG9ja3MoKTtpZih0aGlzLnNpemUmJnRoaXMucmVsYXRpdmVQb3NpdGlvbil7Zm9yKHZhciBhPXRoaXMucG9zaXRpb25CbG9ja3NbdGhpcy5yZWxhdGl2ZVBvc2l0aW9uXSxiPTA7YjxhLmJsb2Nrcy5sZW5ndGg7YisrKXt2YXIgYz1hLmJsb2Nrc1tiXSxkPXRoaXMuYmxvY2tzW2JdLGU9Yy5hbmNob3IubGVmdCxmPWMuYW5jaG9yLmJvdHRvbSxnPWMuYW5jaG9yLnJpZ2h0LGg9Yy5hbmNob3IudG9wLGk9aXNOYU4oYy5zaXplLncpP3RoaXMuc2l6ZS53LShnK2UpOmMuc2l6ZS53LGo9aXNOYU4oYy5zaXplLmgpP3RoaXMuc2l6ZS5oLShmKwpoKTpjLnNpemUuaDtkLmRpdi5zdHlsZS53aWR0aD0oMD5pPzA6aSkrInB4IjtkLmRpdi5zdHlsZS5oZWlnaHQ9KDA+aj8wOmopKyJweCI7ZC5kaXYuc3R5bGUubGVmdD1udWxsIT1lP2UrInB4IjoiIjtkLmRpdi5zdHlsZS5ib3R0b209bnVsbCE9Zj9mKyJweCI6IiI7ZC5kaXYuc3R5bGUucmlnaHQ9bnVsbCE9Zz9nKyJweCI6IiI7ZC5kaXYuc3R5bGUudG9wPW51bGwhPWg/aCsicHgiOiIiO2QuaW1hZ2Uuc3R5bGUubGVmdD1jLnBvc2l0aW9uLngrInB4IjtkLmltYWdlLnN0eWxlLnRvcD1jLnBvc2l0aW9uLnkrInB4In10aGlzLmNvbnRlbnREaXYuc3R5bGUubGVmdD10aGlzLnBhZGRpbmcubGVmdCsicHgiO3RoaXMuY29udGVudERpdi5zdHlsZS50b3A9dGhpcy5wYWRkaW5nLnRvcCsicHgifX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Qb3B1cC5GcmFtZWQifSk7T3BlbkxheWVycy5Qb3B1cC5GcmFtZWRDbG91ZD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuUG9wdXAuRnJhbWVkLHtjb250ZW50RGlzcGxheUNsYXNzOiJvbEZyYW1lZENsb3VkUG9wdXBDb250ZW50IixhdXRvU2l6ZTohMCxwYW5NYXBJZk91dE9mVmlldzohMCxpbWFnZVNpemU6bmV3IE9wZW5MYXllcnMuU2l6ZSgxMjc2LDczNiksaXNBbHBoYUltYWdlOiExLGZpeGVkUmVsYXRpdmVQb3NpdGlvbjohMSxwb3NpdGlvbkJsb2Nrczp7dGw6e29mZnNldDpuZXcgT3BlbkxheWVycy5QaXhlbCg0NCwwKSxwYWRkaW5nOm5ldyBPcGVuTGF5ZXJzLkJvdW5kcyg4LDQwLDgsOSksYmxvY2tzOlt7c2l6ZTpuZXcgT3BlbkxheWVycy5TaXplKCJhdXRvIiwiYXV0byIpLGFuY2hvcjpuZXcgT3BlbkxheWVycy5Cb3VuZHMoMCw1MSwyMiwwKSxwb3NpdGlvbjpuZXcgT3BlbkxheWVycy5QaXhlbCgwLDApfSx7c2l6ZTpuZXcgT3BlbkxheWVycy5TaXplKDIyLCJhdXRvIiksYW5jaG9yOm5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhudWxsLAo1MCwwLDApLHBvc2l0aW9uOm5ldyBPcGVuTGF5ZXJzLlBpeGVsKC0xMjM4LDApfSx7c2l6ZTpuZXcgT3BlbkxheWVycy5TaXplKCJhdXRvIiwxOSksYW5jaG9yOm5ldyBPcGVuTGF5ZXJzLkJvdW5kcygwLDMyLDIyLG51bGwpLHBvc2l0aW9uOm5ldyBPcGVuTGF5ZXJzLlBpeGVsKDAsLTYzMSl9LHtzaXplOm5ldyBPcGVuTGF5ZXJzLlNpemUoMjIsMTgpLGFuY2hvcjpuZXcgT3BlbkxheWVycy5Cb3VuZHMobnVsbCwzMiwwLG51bGwpLHBvc2l0aW9uOm5ldyBPcGVuTGF5ZXJzLlBpeGVsKC0xMjM4LC02MzIpfSx7c2l6ZTpuZXcgT3BlbkxheWVycy5TaXplKDgxLDM1KSxhbmNob3I6bmV3IE9wZW5MYXllcnMuQm91bmRzKG51bGwsMCwwLG51bGwpLHBvc2l0aW9uOm5ldyBPcGVuTGF5ZXJzLlBpeGVsKDAsLTY4OCl9XX0sdHI6e29mZnNldDpuZXcgT3BlbkxheWVycy5QaXhlbCgtNDUsMCkscGFkZGluZzpuZXcgT3BlbkxheWVycy5Cb3VuZHMoOCw0MCw4LDkpLGJsb2Nrczpbe3NpemU6bmV3IE9wZW5MYXllcnMuU2l6ZSgiYXV0byIsCiJhdXRvIiksYW5jaG9yOm5ldyBPcGVuTGF5ZXJzLkJvdW5kcygwLDUxLDIyLDApLHBvc2l0aW9uOm5ldyBPcGVuTGF5ZXJzLlBpeGVsKDAsMCl9LHtzaXplOm5ldyBPcGVuTGF5ZXJzLlNpemUoMjIsImF1dG8iKSxhbmNob3I6bmV3IE9wZW5MYXllcnMuQm91bmRzKG51bGwsNTAsMCwwKSxwb3NpdGlvbjpuZXcgT3BlbkxheWVycy5QaXhlbCgtMTIzOCwwKX0se3NpemU6bmV3IE9wZW5MYXllcnMuU2l6ZSgiYXV0byIsMTkpLGFuY2hvcjpuZXcgT3BlbkxheWVycy5Cb3VuZHMoMCwzMiwyMixudWxsKSxwb3NpdGlvbjpuZXcgT3BlbkxheWVycy5QaXhlbCgwLC02MzEpfSx7c2l6ZTpuZXcgT3BlbkxheWVycy5TaXplKDIyLDE5KSxhbmNob3I6bmV3IE9wZW5MYXllcnMuQm91bmRzKG51bGwsMzIsMCxudWxsKSxwb3NpdGlvbjpuZXcgT3BlbkxheWVycy5QaXhlbCgtMTIzOCwtNjMxKX0se3NpemU6bmV3IE9wZW5MYXllcnMuU2l6ZSg4MSwzNSksYW5jaG9yOm5ldyBPcGVuTGF5ZXJzLkJvdW5kcygwLAowLG51bGwsbnVsbCkscG9zaXRpb246bmV3IE9wZW5MYXllcnMuUGl4ZWwoLTIxNSwtNjg3KX1dfSxibDp7b2Zmc2V0Om5ldyBPcGVuTGF5ZXJzLlBpeGVsKDQ1LDApLHBhZGRpbmc6bmV3IE9wZW5MYXllcnMuQm91bmRzKDgsOSw4LDQwKSxibG9ja3M6W3tzaXplOm5ldyBPcGVuTGF5ZXJzLlNpemUoImF1dG8iLCJhdXRvIiksYW5jaG9yOm5ldyBPcGVuTGF5ZXJzLkJvdW5kcygwLDIxLDIyLDMyKSxwb3NpdGlvbjpuZXcgT3BlbkxheWVycy5QaXhlbCgwLDApfSx7c2l6ZTpuZXcgT3BlbkxheWVycy5TaXplKDIyLCJhdXRvIiksYW5jaG9yOm5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhudWxsLDIxLDAsMzIpLHBvc2l0aW9uOm5ldyBPcGVuTGF5ZXJzLlBpeGVsKC0xMjM4LDApfSx7c2l6ZTpuZXcgT3BlbkxheWVycy5TaXplKCJhdXRvIiwyMSksYW5jaG9yOm5ldyBPcGVuTGF5ZXJzLkJvdW5kcygwLDAsMjIsbnVsbCkscG9zaXRpb246bmV3IE9wZW5MYXllcnMuUGl4ZWwoMCwtNjI5KX0se3NpemU6bmV3IE9wZW5MYXllcnMuU2l6ZSgyMiwKMjEpLGFuY2hvcjpuZXcgT3BlbkxheWVycy5Cb3VuZHMobnVsbCwwLDAsbnVsbCkscG9zaXRpb246bmV3IE9wZW5MYXllcnMuUGl4ZWwoLTEyMzgsLTYyOSl9LHtzaXplOm5ldyBPcGVuTGF5ZXJzLlNpemUoODEsMzMpLGFuY2hvcjpuZXcgT3BlbkxheWVycy5Cb3VuZHMobnVsbCxudWxsLDAsMCkscG9zaXRpb246bmV3IE9wZW5MYXllcnMuUGl4ZWwoLTEwMSwtNjc0KX1dfSxicjp7b2Zmc2V0Om5ldyBPcGVuTGF5ZXJzLlBpeGVsKC00NCwwKSxwYWRkaW5nOm5ldyBPcGVuTGF5ZXJzLkJvdW5kcyg4LDksOCw0MCksYmxvY2tzOlt7c2l6ZTpuZXcgT3BlbkxheWVycy5TaXplKCJhdXRvIiwiYXV0byIpLGFuY2hvcjpuZXcgT3BlbkxheWVycy5Cb3VuZHMoMCwyMSwyMiwzMikscG9zaXRpb246bmV3IE9wZW5MYXllcnMuUGl4ZWwoMCwwKX0se3NpemU6bmV3IE9wZW5MYXllcnMuU2l6ZSgyMiwiYXV0byIpLGFuY2hvcjpuZXcgT3BlbkxheWVycy5Cb3VuZHMobnVsbCwyMSwwLDMyKSxwb3NpdGlvbjpuZXcgT3BlbkxheWVycy5QaXhlbCgtMTIzOCwKMCl9LHtzaXplOm5ldyBPcGVuTGF5ZXJzLlNpemUoImF1dG8iLDIxKSxhbmNob3I6bmV3IE9wZW5MYXllcnMuQm91bmRzKDAsMCwyMixudWxsKSxwb3NpdGlvbjpuZXcgT3BlbkxheWVycy5QaXhlbCgwLC02MjkpfSx7c2l6ZTpuZXcgT3BlbkxheWVycy5TaXplKDIyLDIxKSxhbmNob3I6bmV3IE9wZW5MYXllcnMuQm91bmRzKG51bGwsMCwwLG51bGwpLHBvc2l0aW9uOm5ldyBPcGVuTGF5ZXJzLlBpeGVsKC0xMjM4LC02MjkpfSx7c2l6ZTpuZXcgT3BlbkxheWVycy5TaXplKDgxLDMzKSxhbmNob3I6bmV3IE9wZW5MYXllcnMuQm91bmRzKDAsbnVsbCxudWxsLDApLHBvc2l0aW9uOm5ldyBPcGVuTGF5ZXJzLlBpeGVsKC0zMTEsLTY3NCl9XX19LG1pblNpemU6bmV3IE9wZW5MYXllcnMuU2l6ZSgxMDUsMTApLG1heFNpemU6bmV3IE9wZW5MYXllcnMuU2l6ZSgxMjAwLDY2MCksaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyxkLGUsZixnKXt0aGlzLmltYWdlU3JjPU9wZW5MYXllcnMuVXRpbC5nZXRJbWFnZUxvY2F0aW9uKCJjbG91ZC1wb3B1cC1yZWxhdGl2ZS5wbmciKTsKT3BlbkxheWVycy5Qb3B1cC5GcmFtZWQucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuY29udGVudERpdi5jbGFzc05hbWU9dGhpcy5jb250ZW50RGlzcGxheUNsYXNzfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlBvcHVwLkZyYW1lZENsb3VkIn0pO09wZW5MYXllcnMuQ29udHJvbC5QYW5QYW5lbD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbC5QYW5lbCx7c2xpZGVGYWN0b3I6NTAsc2xpZGVSYXRpbzpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db250cm9sLlBhbmVsLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKTthPXtzbGlkZUZhY3Rvcjp0aGlzLnNsaWRlRmFjdG9yLHNsaWRlUmF0aW86dGhpcy5zbGlkZVJhdGlvfTt0aGlzLmFkZENvbnRyb2xzKFtuZXcgT3BlbkxheWVycy5Db250cm9sLlBhbihPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuLk5PUlRILGEpLG5ldyBPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuKE9wZW5MYXllcnMuQ29udHJvbC5QYW4uU09VVEgsYSksbmV3IE9wZW5MYXllcnMuQ29udHJvbC5QYW4oT3BlbkxheWVycy5Db250cm9sLlBhbi5FQVNULGEpLG5ldyBPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuKE9wZW5MYXllcnMuQ29udHJvbC5QYW4uV0VTVCxhKV0pfSwKQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLlBhblBhbmVsIn0pO09wZW5MYXllcnMuQ29udHJvbC5BdHRyaWJ1dGlvbj1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbCx7c2VwYXJhdG9yOiIsICIsdGVtcGxhdGU6IiR7bGF5ZXJzfSIsZGVzdHJveTpmdW5jdGlvbigpe3RoaXMubWFwLmV2ZW50cy51bih7cmVtb3ZlbGF5ZXI6dGhpcy51cGRhdGVBdHRyaWJ1dGlvbixhZGRsYXllcjp0aGlzLnVwZGF0ZUF0dHJpYnV0aW9uLGNoYW5nZWxheWVyOnRoaXMudXBkYXRlQXR0cmlidXRpb24sY2hhbmdlYmFzZWxheWVyOnRoaXMudXBkYXRlQXR0cmlidXRpb24sc2NvcGU6dGhpc30pO09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGRyYXc6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRyYXcuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMubWFwLmV2ZW50cy5vbih7Y2hhbmdlYmFzZWxheWVyOnRoaXMudXBkYXRlQXR0cmlidXRpb24sY2hhbmdlbGF5ZXI6dGhpcy51cGRhdGVBdHRyaWJ1dGlvbiwKYWRkbGF5ZXI6dGhpcy51cGRhdGVBdHRyaWJ1dGlvbixyZW1vdmVsYXllcjp0aGlzLnVwZGF0ZUF0dHJpYnV0aW9uLHNjb3BlOnRoaXN9KTt0aGlzLnVwZGF0ZUF0dHJpYnV0aW9uKCk7cmV0dXJuIHRoaXMuZGl2fSx1cGRhdGVBdHRyaWJ1dGlvbjpmdW5jdGlvbigpe3ZhciBhPVtdO2lmKHRoaXMubWFwJiZ0aGlzLm1hcC5sYXllcnMpe2Zvcih2YXIgYj0wLGM9dGhpcy5tYXAubGF5ZXJzLmxlbmd0aDtiPGM7YisrKXt2YXIgZD10aGlzLm1hcC5sYXllcnNbYl07ZC5hdHRyaWJ1dGlvbiYmZC5nZXRWaXNpYmlsaXR5KCkmJi0xPT09T3BlbkxheWVycy5VdGlsLmluZGV4T2YoYSxkLmF0dHJpYnV0aW9uKSYmYS5wdXNoKGQuYXR0cmlidXRpb24pfXRoaXMuZGl2LmlubmVySFRNTD1PcGVuTGF5ZXJzLlN0cmluZy5mb3JtYXQodGhpcy50ZW1wbGF0ZSx7bGF5ZXJzOmEuam9pbih0aGlzLnNlcGFyYXRvcil9KX19LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5BdHRyaWJ1dGlvbiJ9KTtPcGVuTGF5ZXJzLkxhbmcuYnI9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3VuaGFuZGxlZFJlcXVlc3Q6IkRpc3RybyBldmVsIHJla2VkIGFudmVyZXQgJHtzdGF0dXNUZXh0fSIsUGVybWFsaW5rOiJQZXVybGlhbW0iLE92ZXJsYXlzOiJHd2lza2Fkb1x1MDBmOSIsIkJhc2UgTGF5ZXIiOiJHd2lza2FkIGRpYXpleiIsbm9GSUQ6Ik4naGFsbGVyIGtldCBoaXppdmFhdCB1biBlbGZlbm4gbWEgbidldXMga2V0IGEgbml2ZXJlbm4tYW5hb3V0IChGSUQpIGV2aXRpLiIsYnJvd3Nlck5vdFN1cHBvcnRlZDoiTidlbyBrZXQgc2tvcmV0IGFuIGRhc2tvciB2ZWt0b3JlbCBnYW50IGhvIG1lcmRlZXIuIFNldHUgYXplIGFuIGRhc2tvcmVyaW9cdTAwZjkgc2tvcmV0IGV2aXQgYXIgcG9lbnQgOlxuJHtyZW5kZXJlcnN9IixtaW5ab29tTGV2ZWxFcnJvcjoiTmUgemxlZXIgaW1wbGlqb3V0IGFyIHBlcnpoIG1pblpvb21MZXZlbCBuZW1ldCBldml0IGd3aXNrYWRvXHUwMGY5IEZpeGVkWm9vbUxldmVscy1kZXNjZW5kZW50LiBBciBmZWQgbWEgd2lyaWEgYXIgZ3dpc2thZCBXSFMtc2UgaGFnLWVcdTAwZjEgZXogZXVzIGV1cyBtaW5ab29tTGV2ZWwgem8gdW4gYXNwYWRlbm4gZ296aC4gS291bHNrb3VkZSBuJ29tcCBrZXQgZXZpdCBlIHppdmVya2FcdTAwZjEga3VpdCBkYSBkZXJyaVx1MDBmMSBhcmxvYWRvXHUwMGY5IGRpYXplemV0IHdhciBPTCBhIGMnaGFsbGZlIGJlemFcdTAwZjEgc3RhZyBvdXRhXHUwMGYxLiBTZXR1IHBlcmFrIGVvIGRpc3ByZWRldCAtLSBMYW1ldCBrdWl0IGUgdm8gYXIgZ3dpcmlhXHUwMGYxIG1pblpvb21MZXZlbCBhLWlzIGVyIHN0dW1tIDMuMC4gT2JlciBnYW50IGFuIGFydmVudGVubm9cdTAwZjkgYmloYW5hXHUwMGYxL2JyYXNhXHUwMGYxIGV2ZWwgZGVza3JpdmV0IGFtYVx1MDBmMSBlIHBsYXMgOiBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NldHRpbmdab29tTGV2ZWxzIiwKY29tbWl0U3VjY2VzczoiVHJldXpncmVhZCBXRlMgOiBNQVQgRU8gJHtyZXNwb25zZX0iLGNvbW1pdEZhaWxlZDoiVHJldXpncmVhZCBXRlMgVHJhbnNhY3Rpb246IEMnSFdJVEVUICR7cmVzcG9uc2V9Iixnb29nbGVXYXJuaW5nOiJOJ2V1cyBrZXQgYmV0IGdhbGxldCBrYXJnYVx1MDBmMSBhciBnd2lza2FkIEdvb2dsZSBlbnQgcmVpemguPGJyPjxicj5Fdml0IGVuIGVtIHppem9iZXIgZXVzIGFyIGMnaGVtZW5uLW1hXHUwMGYxLCBkaWJhYml0IHVyIEJhc2VMYXllciBuZXZleiBlbiBkaXV6ZXIgZ3dpc2thZG9cdTAwZjkgZXIgYydob3JuIGRlaG9cdTAwZjkgZWwgbGFlei48YnI+PGJyPlN1ciBhLXdhbGMnaCBlbyBwZW9nd2lyIG4nZW8ga2V0IGJldCBlbnNvYydoZXQgbGV2cmFvdWVnIEdvb2dsZSBNYXBzIHBlIG5ldXplIG5lIGdsb3Qga2V0IGFuIGFsYydod2V6IEFQSSBnYW50IGhvIGxlYydoaWVubi48YnI+PGJyPkRpb3Jyb2VyaWVuIDogRXZpdCByZWl6aGFcdTAwZjEgYW4gZHJhLXNlLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZScgdGFyZ2V0PSdfYmxhbmsnPmNsaWNrIGhlcmU8L2E+IiwKZ2V0TGF5ZXJXYXJuaW5nOiJOJ2hhbGxlciBrZXQga2FyZ2FcdTAwZjEgYXIgZ3dpc2thZCAke2xheWVyVHlwZX0gZW50IHJlaXpoLjxicj48YnI+RXZpdCBlbiBlbSB6aXpvYmVyIGV1cyBhciBjJ2hlbWVubi1tYVx1MDBmMSwgZGliYWJpdCB1ciBCYXNlTGF5ZXIgbmV2ZXogZW4gZGl1emVyIGd3aXNrYWRvXHUwMGY5IGVyIGMnaG9ybiBkZWhvXHUwMGY5IGVsIGxhZXouPGJyPjxicj5TdXIgYS13YWxjJ2ggZW8gcGVvZ3dpciBuJ2VvIGtldCBiZXQgZW5zb2MnaGV0IG1hdCBhbCBsZXZyYW91ZWcgJHtsYXllckxpYn0uPGJyPjxicj5EaW9ycm9lcmllbiA6IEV2aXQgZ291em91dCBwZW5hb3MgcmVpemhhXHUwMGYxIGFuIGRyYS1zZSwgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS8ke2xheWVyTGlifScgdGFyZ2V0PSdfYmxhbmsnPmNsaWNrIGhlcmU8L2E+IiwiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6IlNrZXVsID0gMSA6ICR7c2NhbGVEZW5vbX0iLApXOiJLIixFOiJSIixOOiJOIixTOiJTIixyZXByb2plY3REZXByZWNhdGVkOiJFbWFvYydoIG9jJ2ggaW1wbGlqb3V0IGFuIGRpYmFyemggJ3JlcHJvamVjdCcgd2FyIGFyIGd3aXNrYWQgJHtsYXllck5hbWV9LiBEaXNwcmVkZXQgZW8gYW4gZGliYXJ6aC1tYVx1MDBmMSA6IGJldCBlbyBoYWcgZSB0YWx2ZXplIGRhIHppc2t3ZWwgcm9hZGVubm9cdTAwZjkgd2FyLWMnaG9ycmUga2FydGVubm9cdTAwZjkgZGlhemV6IGtlbndlcnpoZWwsIHVuIGRyYSBoYWcgYSBjJ2hhbGxlciBvYmVyIGJyZW1hXHUwMGYxIGdhbnQgYW4gYXJjJ2h3ZWwgZHJlIHNrb3IgYmFubmRyZXMgYm91bGxlayBNZXJjYXRvci4gTXVpb2MnaCBhIGRpdG91cm9cdTAwZjkgYSBjJ2hhbGxlciBkYSBnYW91dCB3YXIgaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TcGhlcmljYWxNZXJjYXRvci4iLG1ldGhvZERlcHJlY2F0ZWQ6IkRpc3ByZWRldCBlbyBhbiBkYW9yZS1zZSBoYSB0ZW5uZXQgZSB2byBrdWl0IGV1cyBhciBzdHVtbSAzLjAuIEdyaXQgZ2FudCAke25ld01ldGhvZH0gZSBwbGFzLiJ9KTtPcGVuTGF5ZXJzLktpbmV0aWM9T3BlbkxheWVycy5DbGFzcyh7dGhyZXNob2xkOjAsZGVjZWxlcmF0aW9uOjAuMDAzNSxuYlBvaW50czoxMDAsZGVsYXk6MjAwLHBvaW50czp2b2lkIDAsdGltZXJJZDp2b2lkIDAsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsYSl9LGJlZ2luOmZ1bmN0aW9uKCl7T3BlbkxheWVycy5BbmltYXRpb24uc3RvcCh0aGlzLnRpbWVySWQpO3RoaXMudGltZXJJZD12b2lkIDA7dGhpcy5wb2ludHM9W119LHVwZGF0ZTpmdW5jdGlvbihhKXt0aGlzLnBvaW50cy51bnNoaWZ0KHt4eTphLHRpY2s6KG5ldyBEYXRlKS5nZXRUaW1lKCl9KTt0aGlzLnBvaW50cy5sZW5ndGg+dGhpcy5uYlBvaW50cyYmdGhpcy5wb2ludHMucG9wKCl9LGVuZDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYz0obmV3IERhdGUpLmdldFRpbWUoKSxkPTAsZT10aGlzLnBvaW50cy5sZW5ndGgsZjtkPGU7ZCsrKXtmPXRoaXMucG9pbnRzW2RdO2lmKGMtCmYudGljaz50aGlzLmRlbGF5KWJyZWFrO2I9Zn1pZihiJiYoZD0obmV3IERhdGUpLmdldFRpbWUoKS1iLnRpY2ssYz1NYXRoLnNxcnQoTWF0aC5wb3coYS54LWIueHkueCwyKStNYXRoLnBvdyhhLnktYi54eS55LDIpKSxkPWMvZCwhKDA9PWR8fGQ8dGhpcy50aHJlc2hvbGQpKSlyZXR1cm4gYz1NYXRoLmFzaW4oKGEueS1iLnh5LnkpL2MpLGIueHkueDw9YS54JiYoYz1NYXRoLlBJLWMpLHtzcGVlZDpkLHRoZXRhOmN9fSxtb3ZlOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5zcGVlZCxkPU1hdGguY29zKGEudGhldGEpLGU9LU1hdGguc2luKGEudGhldGEpLGY9KG5ldyBEYXRlKS5nZXRUaW1lKCksZz0wLGg9MDt0aGlzLnRpbWVySWQ9T3BlbkxheWVycy5BbmltYXRpb24uc3RhcnQoT3BlbkxheWVycy5GdW5jdGlvbi5iaW5kKGZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy50aW1lcklkKXt2YXIgYT0obmV3IERhdGUpLmdldFRpbWUoKS1mLGo9LXRoaXMuZGVjZWxlcmF0aW9uKk1hdGgucG93KGEsCjIpLzIrYyphLGs9aipkLGo9aiplLGwsbTtsPSExOzA+PS10aGlzLmRlY2VsZXJhdGlvbiphK2MmJihPcGVuTGF5ZXJzLkFuaW1hdGlvbi5zdG9wKHRoaXMudGltZXJJZCksdGhpcy50aW1lcklkPW51bGwsbD0hMCk7YT1rLWc7bT1qLWg7Zz1rO2g9ajtiKGEsbSxsKX19LHRoaXMpKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5LaW5ldGljIn0pO09wZW5MYXllcnMuTGFuZy5ybz17dW5oYW5kbGVkUmVxdWVzdDoiQ2VyZXJlIG5lc29sdVx1MDIxYmlvbmF0XHUwMTAzIHJldHVybiAke3N0YXR1c1RleHR9IixQZXJtYWxpbms6IkxlZ2F0dXJcdTAxMDMgcGVybWFuZW50XHUwMTAzIixPdmVybGF5czoiU3RyYXR1cmkgdmVjdG9yIiwiQmFzZSBMYXllciI6IlN0cmF0dXJpIGRlIGJhelx1MDEwMyIsbm9GSUQ6Ik51IHBvdCBhY3R1YWxpemEgdW4gZmVhdHVyZSBwZW50cnUgY2FyZSBudSBleGlzdFx1MDEwMyBGSUQuIixicm93c2VyTm90U3VwcG9ydGVkOiJCcm93c2VydWwgdFx1MDEwM3UgbnUgc3Vwb3J0XHUwMTAzIGFmaVx1MDIxOWFyZWEgdmVjdG9yaWxvci4gU3Vwb2V0dWwgY3VyZW50IHBlbnRydSByYW5kYXJlOlxuJHtyZW5kZXJlcnN9IixtaW5ab29tTGV2ZWxFcnJvcjoiUHJvcHJpZXRhdGVhIG1pblpvb21MZXZlbCBlc3RlIGRvYXIgcGVudHJ1IGEgZmkgZm9sb3NpdFx1MDEwMyBjdSBzdHJhdHVyaWxlIEZpeGVkWm9vbUxldmVscy1kZXNjZW5kZW50LiBEZSBhY2VlYSBhY2VzdCBzdHJhdCB3ZnMgdmVyaWZpY1x1MDEwMyBkYWNcdTAxMDMgbWluWm9vbUxldmVsIGVzdGUgbyByZWxpY3ZcdTAxMDMuIE51IFx1MDBlZWwgcHV0ZW0gLCBvcmljdW0sIFx1MDBlZW5sXHUwMTAzdHVyYSBmXHUwMTAzclx1MDEwMyBhIGFmZWN0YSBhcGxpY2FcdTAyMWJpaWxlIE9wZW5sYXllcnMgY2FyZSBkZXBpbmQgZGUgZWEuIERlIGFjZWVhIGNvbnNpZGVyXHUwMTAzbSBkZXByZWNpYXQgLS0gbWluWm9vbUxldmVsIFx1MDIxOWkgXHUwMGVlbCB2b20gXHUwMGVlbmxcdTAxMDN0dXJhIFx1MDBlZW4gMy4wLiBGb2xvc2VcdTAyMTl0ZSBtaW4vbWF4IHJlc29sdXRpb24gY3VtIGVzdGUgZGVzY3Jpc1x1MDEwMyBhaWNpOiBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NldHRpbmdab29tTGV2ZWxzIiwKY29tbWl0U3VjY2VzczoiVHJhbnphY1x1MDIxYmllIFdGUzogU1VDQ0VTICR7cmVzcG9uc2V9Iixjb21taXRGYWlsZWQ6IlRyYW56YWNcdTAyMWJpZSBXRlMgOiBFXHUwMjE4RUMgJHtyZXNwb25zZX0iLGdvb2dsZVdhcm5pbmc6IlN0cmF0dWwgR29vZ2xlIG51IGEgcHV0dXQgZmkgXHUwMGVlbmNcdTAxMDNyY2F0IGNvcmVjdC48YnI+PGJyPlBlbnRydSBhIGVsaW1pbmEgYWNlc3QgbWVzYWosIHNlbGVjdGVhelx1MDEwMyB1biBub3Ugc3RyYXQgZGUgYmF6XHUwMTAzIFx1MDBlZW4gTGF5ZXJzd2l0Y2hlciBkaW4gY29sXHUwMjFidWwgZHJlYXRhLXN1cy48YnI+PGJyPkFzdGEgZGF0b3JpdFx1MDEwMywgZmFwdHVsdWkgY1x1MDEwMyBHb29nbGUgTWFwcyBsaWJyYXJ5IHNjcmlwdCBudSBlc3RlIGluY2x1cywgc2F1IG51IGNvblx1MDIxYmluZSBjaGVpYSBBUEkgY29yZWN0XHUwMTAzIHBlbnRydSBzaXR1bCB0XHUwMTAzdS48YnI+PGJyPkRldmVsb3Blcmk6IFBlbnRydSBhanV0b3IsIDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvR29vZ2xlJyB0YXJnZXQ9J19ibGFuayc+YXBcdTAxMDNzYVx1MDIxYmkgYWljaTwvYT4iLApnZXRMYXllcldhcm5pbmc6IlN0cmF0dWwgJHtsYXllclR5cGV9IG51IGEgcHV0dXQgZmkgXHUwMGVlbmNcdTAxMDNyY2F0IGNvcmVjdC48YnI+PGJyPnBlbnRydSBhIFx1MDBlZW5sXHUwMTAzdHVyYSBhY2VzdCBtZXNhaiwgc2VsZWN0ZWF6XHUwMTAzIHVuIG5vdSBzdHJhdCBkZSBiYXpcdTAxMDMgQWNlc3RhIGVyb2FyZSBhcGFyZSBkZSBvYmljZWkgY1x1MDBlMm5kICR7bGF5ZXJMaWJ9IGxpYnJhcnkgc2NyaXB0IG51IGEgZm9zdCBcdTAwZWVuY1x1MDEwM3JjYXQgY29yZWN0Ljxicj48YnI+RGV2ZWxvcGVyaTogUGVudHJ1IGFqdXRvciBwcml2aW5kIHV0aWxpemFyZWEgY29yZWN0XHUwMTAzLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+YXBhc1x1MDEwMyBhaWNpPC9hPiIsIlNjYWxlID0gMSA6ICR7c2NhbGVEZW5vbX0iOiJTY2FyYSA9IDEgOiAke3NjYWxlRGVub219IixXOiJWIixFOiJFIixOOiJOIiwKUzoiUyIsR3JhdGljdWxlOiJHcmF0aWN1bGUiLHJlcHJvamVjdERlcHJlY2F0ZWQ6ImZvbG9zZVx1MDIxOXRpIG9wXHUwMjFiaXVuZWEgJ3JlcHJvamVjdCcgcGVudHJ1IHN0cmF0dWwgJHtsYXllck5hbWV9IC4gQWNlYXN0XHUwMTAzIG9wXHUwMjFiaXVuZSBlc3RlIGRlcHJlY2lhdFx1MDEwMzogYSBmb3N0IHV0aWxpemF0XHUwMTAzIHBlbnRydSBhZmlcdTAyMTlhcmVhIHN0cmF0dXJpbG9yIGRlIGJhelx1MDEwMyBjb21lcmNpYWxlIE1haSBtdWx0ZSBpbmZvcm1hXHUwMjFiaWkgZGVzcHJlIHByb2llY1x1MDIxYmlhIE1lcmNhdG9yIHN1bnQgZGlzcG9uaWJpbGUgYWljaSBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NwaGVyaWNhbE1lcmNhdG9yLiIsbWV0aG9kRGVwcmVjYXRlZDoiQWNlYXN0XHUwMTAzIG1ldG9kXHUwMTAzIGVzdGUgZGVwcmVjaWF0XHUwMTAzIFx1MDIxOWkgdmEgZmkgXHUwMGVlbmxcdTAxMDN0dXJhdFx1MDEwMyBpbiB2ZXJzaXVuZWEgMy4wLiBmb2xvc2VcdTAyMTl0ZSBtZXRvZGEgJHtuZXdNZXRob2R9LiIsCmVuZDoiIn07T3BlbkxheWVycy5Gb3JtYXQuV1BTRXhlY3V0ZT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCxPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIudjFfMV8wLHtuYW1lc3BhY2VzOntvd3M6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvb3dzLzEuMSIsZ21sOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbCIsd3BzOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3dwcy8xLjAuMCIsd2ZzOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3dmcyIsb2djOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L29nYyIsd2NzOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3djcyIseGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UifSxyZWdFeGVzOnt0cmltU3BhY2U6L15ccyp8XHMqJC9nLHJlbW92ZVNwYWNlOi9ccyovZyxzcGxpdFNwYWNlOi9ccysvLHRyaW1Db21tYTovXHMqLFxzKi9nfSxWRVJTSU9OOiIxLjAuMCIsCnNjaGVtYUxvY2F0aW9uOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3dwcy8xLjAuMCBodHRwOi8vc2NoZW1hcy5vcGVuZ2lzLm5ldC93cHMvMS4wLjAvd3BzQWxsLnhzZCIsc2NoZW1hTG9jYXRpb25BdHRyOmZ1bmN0aW9uKCl7fSx3cml0ZTpmdW5jdGlvbihhKXt2YXIgYjt3aW5kb3cuQWN0aXZlWE9iamVjdD90aGlzLnhtbGRvbT1iPW5ldyBBY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MRE9NIik6Yj1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVEb2N1bWVudCgiIiwiIixudWxsKTthPXRoaXMud3JpdGVOb2RlKCJ3cHM6RXhlY3V0ZSIsYSxiKTt0aGlzLnNldEF0dHJpYnV0ZU5TKGEsdGhpcy5uYW1lc3BhY2VzLnhzaSwieHNpOnNjaGVtYUxvY2F0aW9uIix0aGlzLnNjaGVtYUxvY2F0aW9uKTtyZXR1cm4gT3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS53cml0ZS5hcHBseSh0aGlzLFthXSl9LHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PXR5cGVvZiBhJiYoYT0KT3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7YSYmOT09YS5ub2RlVHlwZSYmKGE9YS5kb2N1bWVudEVsZW1lbnQpO3ZhciBiPXt9O3RoaXMucmVhZE5vZGUoYSxiKTtyZXR1cm4gYn0sd3JpdGVyczp7d3BzOntFeGVjdXRlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid3BzOkV4ZWN1dGUiLHthdHRyaWJ1dGVzOnt2ZXJzaW9uOnRoaXMuVkVSU0lPTixzZXJ2aWNlOiJXUFMifX0pO3RoaXMud3JpdGVOb2RlKCJvd3M6SWRlbnRpZmllciIsYS5pZGVudGlmaWVyLGIpO3RoaXMud3JpdGVOb2RlKCJ3cHM6RGF0YUlucHV0cyIsYS5kYXRhSW5wdXRzLGIpO3RoaXMud3JpdGVOb2RlKCJ3cHM6UmVzcG9uc2VGb3JtIixhLnJlc3BvbnNlRm9ybSxiKTtyZXR1cm4gYn0sUmVzcG9uc2VGb3JtOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid3BzOlJlc3BvbnNlRm9ybSIse30pO2EucmF3RGF0YU91dHB1dCYmCnRoaXMud3JpdGVOb2RlKCJ3cHM6UmF3RGF0YU91dHB1dCIsYS5yYXdEYXRhT3V0cHV0LGIpO2EucmVzcG9uc2VEb2N1bWVudCYmdGhpcy53cml0ZU5vZGUoIndwczpSZXNwb25zZURvY3VtZW50IixhLnJlc3BvbnNlRG9jdW1lbnQsYik7cmV0dXJuIGJ9LFJlc3BvbnNlRG9jdW1lbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3cHM6UmVzcG9uc2VEb2N1bWVudCIse2F0dHJpYnV0ZXM6e3N0b3JlRXhlY3V0ZVJlc3BvbnNlOmEuc3RvcmVFeGVjdXRlUmVzcG9uc2UsbGluZWFnZTphLmxpbmVhZ2Usc3RhdHVzOmEuc3RhdHVzfX0pO2lmKGEub3V0cHV0cylmb3IodmFyIGM9MCxkPWEub3V0cHV0cy5sZW5ndGg7YzxkO2MrKyl0aGlzLndyaXRlTm9kZSgid3BzOk91dHB1dCIsYS5vdXRwdXRzW2NdLGIpO3JldHVybiBifSxPdXRwdXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3cHM6T3V0cHV0Iix7YXR0cmlidXRlczp7YXNSZWZlcmVuY2U6YS5hc1JlZmVyZW5jZSwKbWltZVR5cGU6YS5taW1lVHlwZSxlbmNvZGluZzphLmVuY29kaW5nLHNjaGVtYTphLnNjaGVtYX19KTt0aGlzLndyaXRlTm9kZSgib3dzOklkZW50aWZpZXIiLGEuaWRlbnRpZmllcixiKTt0aGlzLndyaXRlTm9kZSgib3dzOlRpdGxlIixhLnRpdGxlLGIpO3RoaXMud3JpdGVOb2RlKCJvd3M6QWJzdHJhY3QiLGFbImFic3RyYWN0Il0sYik7cmV0dXJuIGJ9LFJhd0RhdGFPdXRwdXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3cHM6UmF3RGF0YU91dHB1dCIse2F0dHJpYnV0ZXM6e21pbWVUeXBlOmEubWltZVR5cGUsZW5jb2Rpbmc6YS5lbmNvZGluZyxzY2hlbWE6YS5zY2hlbWF9fSk7dGhpcy53cml0ZU5vZGUoIm93czpJZGVudGlmaWVyIixhLmlkZW50aWZpZXIsYik7cmV0dXJuIGJ9LERhdGFJbnB1dHM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid3BzOkRhdGFJbnB1dHMiLHt9KSxjPTAsZD1hLmxlbmd0aDtjPApkOysrYyl0aGlzLndyaXRlTm9kZSgid3BzOklucHV0IixhW2NdLGIpO3JldHVybiBifSxJbnB1dDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIndwczpJbnB1dCIse30pO3RoaXMud3JpdGVOb2RlKCJvd3M6SWRlbnRpZmllciIsYS5pZGVudGlmaWVyLGIpO2EudGl0bGUmJnRoaXMud3JpdGVOb2RlKCJvd3M6VGl0bGUiLGEudGl0bGUsYik7YS5kYXRhJiZ0aGlzLndyaXRlTm9kZSgid3BzOkRhdGEiLGEuZGF0YSxiKTthLnJlZmVyZW5jZSYmdGhpcy53cml0ZU5vZGUoIndwczpSZWZlcmVuY2UiLGEucmVmZXJlbmNlLGIpO2EuYm91bmRpbmdCb3hEYXRhJiZ0aGlzLndyaXRlTm9kZSgid3BzOkJvdW5kaW5nQm94RGF0YSIsYS5ib3VuZGluZ0JveERhdGEsYik7cmV0dXJuIGJ9LERhdGE6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3cHM6RGF0YSIse30pO2EubGl0ZXJhbERhdGE/dGhpcy53cml0ZU5vZGUoIndwczpMaXRlcmFsRGF0YSIsCmEubGl0ZXJhbERhdGEsYik6YS5jb21wbGV4RGF0YT90aGlzLndyaXRlTm9kZSgid3BzOkNvbXBsZXhEYXRhIixhLmNvbXBsZXhEYXRhLGIpOmEuYm91bmRpbmdCb3hEYXRhJiZ0aGlzLndyaXRlTm9kZSgib3dzOkJvdW5kaW5nQm94IixhLmJvdW5kaW5nQm94RGF0YSxiKTtyZXR1cm4gYn0sTGl0ZXJhbERhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid3BzOkxpdGVyYWxEYXRhIix7YXR0cmlidXRlczp7dW9tOmEudW9tfSx2YWx1ZTphLnZhbHVlfSl9LENvbXBsZXhEYXRhOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid3BzOkNvbXBsZXhEYXRhIix7YXR0cmlidXRlczp7bWltZVR5cGU6YS5taW1lVHlwZSxlbmNvZGluZzphLmVuY29kaW5nLHNjaGVtYTphLnNjaGVtYX19KSxjPWEudmFsdWU7InN0cmluZyI9PT10eXBlb2YgYz9iLmFwcGVuZENoaWxkKHRoaXMuZ2V0WE1MRG9jKCkuY3JlYXRlQ0RBVEFTZWN0aW9uKGEudmFsdWUpKToKYi5hcHBlbmRDaGlsZChjKTtyZXR1cm4gYn0sUmVmZXJlbmNlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygid3BzOlJlZmVyZW5jZSIse2F0dHJpYnV0ZXM6e21pbWVUeXBlOmEubWltZVR5cGUsInhsaW5rOmhyZWYiOmEuaHJlZixtZXRob2Q6YS5tZXRob2QsZW5jb2Rpbmc6YS5lbmNvZGluZyxzY2hlbWE6YS5zY2hlbWF9fSk7YS5ib2R5JiZ0aGlzLndyaXRlTm9kZSgid3BzOkJvZHkiLGEuYm9keSxiKTtyZXR1cm4gYn0sQm91bmRpbmdCb3hEYXRhOmZ1bmN0aW9uKGEsYil7dGhpcy53cml0ZXJzLm93cy5Cb3VuZGluZ0JveC5hcHBseSh0aGlzLFthLGIsIndwczpCb3VuZGluZ0JveERhdGEiXSl9LEJvZHk6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ3cHM6Qm9keSIse30pO2Eud2NzP3RoaXMud3JpdGVOb2RlKCJ3Y3M6R2V0Q292ZXJhZ2UiLGEud2NzLGIpOmEud2ZzPyh0aGlzLmZlYXR1cmVUeXBlPWEud2ZzLmZlYXR1cmVUeXBlLAp0aGlzLnZlcnNpb249YS53ZnMudmVyc2lvbix0aGlzLndyaXRlTm9kZSgid2ZzOkdldEZlYXR1cmUiLGEud2ZzLGIpKTp0aGlzLndyaXRlTm9kZSgid3BzOkV4ZWN1dGUiLGEsYik7cmV0dXJuIGJ9fSx3Y3M6T3BlbkxheWVycy5Gb3JtYXQuV0NTR2V0Q292ZXJhZ2UucHJvdG90eXBlLndyaXRlcnMud2NzLHdmczpPcGVuTGF5ZXJzLkZvcm1hdC5XRlNULnYxXzFfMC5wcm90b3R5cGUud3JpdGVycy53ZnMsb2djOk9wZW5MYXllcnMuRm9ybWF0LkZpbHRlci52MV8xXzAucHJvdG90eXBlLndyaXRlcnMub2djLG93czpPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24udjFfMV8wLnByb3RvdHlwZS53cml0ZXJzLm93c30scmVhZGVyczp7d3BzOntFeGVjdXRlUmVzcG9uc2U6ZnVuY3Rpb24oYSxiKXtiLmV4ZWN1dGVSZXNwb25zZT17bGFuZzphLmdldEF0dHJpYnV0ZSgibGFuZyIpLHN0YXR1c0xvY2F0aW9uOmEuZ2V0QXR0cmlidXRlKCJzdGF0dXNMb2NhdGlvbiIpLHNlcnZpY2VJbnN0YW5jZTphLmdldEF0dHJpYnV0ZSgic2VydmljZUluc3RhbmNlIiksCnNlcnZpY2U6YS5nZXRBdHRyaWJ1dGUoInNlcnZpY2UiKX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuZXhlY3V0ZVJlc3BvbnNlKX0sUHJvY2VzczpmdW5jdGlvbihhLGIpe2IucHJvY2Vzcz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5wcm9jZXNzKX0sU3RhdHVzOmZ1bmN0aW9uKGEsYil7Yi5zdGF0dXM9e2NyZWF0aW9uVGltZTphLmdldEF0dHJpYnV0ZSgiY3JlYXRpb25UaW1lIil9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnN0YXR1cyl9LFByb2Nlc3NTdWNjZWVkZWQ6ZnVuY3Rpb24oYSxiKXtiLnByb2Nlc3NTdWNjZWVkZWQ9ITB9LFByb2Nlc3NPdXRwdXRzOmZ1bmN0aW9uKGEsYil7Yi5wcm9jZXNzT3V0cHV0cz1bXTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5wcm9jZXNzT3V0cHV0cyl9LE91dHB1dDpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLnB1c2goYyl9LFJlZmVyZW5jZTpmdW5jdGlvbihhLGIpe2IucmVmZXJlbmNlPQp7aHJlZjphLmdldEF0dHJpYnV0ZSgiaHJlZiIpLG1pbWVUeXBlOmEuZ2V0QXR0cmlidXRlKCJtaW1lVHlwZSIpLGVuY29kaW5nOmEuZ2V0QXR0cmlidXRlKCJlbmNvZGluZyIpLHNjaGVtYTphLmdldEF0dHJpYnV0ZSgic2NoZW1hIil9fSxEYXRhOmZ1bmN0aW9uKGEsYil7Yi5kYXRhPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sTGl0ZXJhbERhdGE6ZnVuY3Rpb24oYSxiKXtiLmxpdGVyYWxEYXRhPXtkYXRhVHlwZTphLmdldEF0dHJpYnV0ZSgiZGF0YVR5cGUiKSx1b206YS5nZXRBdHRyaWJ1dGUoInVvbSIpLHZhbHVlOnRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX19LENvbXBsZXhEYXRhOmZ1bmN0aW9uKGEsYil7Yi5jb21wbGV4RGF0YT17bWltZVR5cGU6YS5nZXRBdHRyaWJ1dGUoIm1pbWVUeXBlIiksc2NoZW1hOmEuZ2V0QXR0cmlidXRlKCJzY2hlbWEiKSxlbmNvZGluZzphLmdldEF0dHJpYnV0ZSgiZW5jb2RpbmciKSx2YWx1ZToiIn07aWYodGhpcy5pc1NpbXBsZUNvbnRlbnQoYSkpe3ZhciBjOwpmb3IoYz1hLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpc3dpdGNoKGMubm9kZVR5cGUpe2Nhc2UgMzpjYXNlIDQ6Yi5jb21wbGV4RGF0YS52YWx1ZSs9Yy5ub2RlVmFsdWV9fWVsc2UgZm9yKGM9YS5maXJzdENoaWxkO2M7Yz1jLm5leHRTaWJsaW5nKTE9PWMubm9kZVR5cGUmJihiLmNvbXBsZXhEYXRhLnZhbHVlPWMpfSxCb3VuZGluZ0JveDpmdW5jdGlvbihhLGIpe2IuYm91bmRpbmdCb3hEYXRhPXtkaW1lbnNpb25zOmEuZ2V0QXR0cmlidXRlKCJkaW1lbnNpb25zIiksY3JzOmEuZ2V0QXR0cmlidXRlKCJjcnMiKX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuYm91bmRpbmdCb3hEYXRhKX19LG93czpPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24udjFfMV8wLnByb3RvdHlwZS5yZWFkZXJzLm93c30sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuV1BTRXhlY3V0ZSJ9KTtPcGVuTGF5ZXJzLkxheWVyLkdlb1JTUz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIuTWFya2Vycyx7bG9jYXRpb246bnVsbCxmZWF0dXJlczpudWxsLGZvcm1hdE9wdGlvbnM6bnVsbCxzZWxlY3RlZEZlYXR1cmU6bnVsbCxpY29uOm51bGwscG9wdXBTaXplOm51bGwsdXNlRmVlZFRpdGxlOiEwLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMpe09wZW5MYXllcnMuTGF5ZXIuTWFya2Vycy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthLGNdKTt0aGlzLmxvY2F0aW9uPWI7dGhpcy5mZWF0dXJlcz1bXX0sZGVzdHJveTpmdW5jdGlvbigpe09wZW5MYXllcnMuTGF5ZXIuTWFya2Vycy5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5jbGVhckZlYXR1cmVzKCk7dGhpcy5mZWF0dXJlcz1udWxsfSxsb2FkUlNTOmZ1bmN0aW9uKCl7dGhpcy5sb2FkZWR8fCh0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvYWRzdGFydCIpLE9wZW5MYXllcnMuUmVxdWVzdC5HRVQoe3VybDp0aGlzLmxvY2F0aW9uLApzdWNjZXNzOnRoaXMucGFyc2VEYXRhLHNjb3BlOnRoaXN9KSx0aGlzLmxvYWRlZD0hMCl9LG1vdmVUbzpmdW5jdGlvbihhLGIsYyl7T3BlbkxheWVycy5MYXllci5NYXJrZXJzLnByb3RvdHlwZS5tb3ZlVG8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMudmlzaWJpbGl0eSYmIXRoaXMubG9hZGVkJiZ0aGlzLmxvYWRSU1MoKX0scGFyc2VEYXRhOmZ1bmN0aW9uKGEpe3ZhciBiPWEucmVzcG9uc2VYTUw7aWYoIWJ8fCFiLmRvY3VtZW50RWxlbWVudCliPU9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUucmVhZChhLnJlc3BvbnNlVGV4dCk7aWYodGhpcy51c2VGZWVkVGl0bGUpe2E9bnVsbDt0cnl7YT1iLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoIioiLCJ0aXRsZSIpWzBdLmZpcnN0Q2hpbGQubm9kZVZhbHVlfWNhdGNoKGMpe2E9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGl0bGUiKVswXS5maXJzdENoaWxkLm5vZGVWYWx1ZX1hJiZ0aGlzLnNldE5hbWUoYSl9YT17fTtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGEsCnRoaXMuZm9ybWF0T3B0aW9ucyk7dGhpcy5tYXAmJiF0aGlzLnByb2plY3Rpb24uZXF1YWxzKHRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSkmJihhLmV4dGVybmFsUHJvamVjdGlvbj10aGlzLnByb2plY3Rpb24sYS5pbnRlcm5hbFByb2plY3Rpb249dGhpcy5tYXAuZ2V0UHJvamVjdGlvbk9iamVjdCgpKTtmb3IodmFyIGI9KG5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5HZW9SU1MoYSkpLnJlYWQoYiksYT0wLGQ9Yi5sZW5ndGg7YTxkO2ErKyl7dmFyIGU9e30sZj1iW2FdO2lmKGYuZ2VvbWV0cnkpe3ZhciBnPWYuYXR0cmlidXRlcy50aXRsZT9mLmF0dHJpYnV0ZXMudGl0bGU6IlVudGl0bGVkIixoPWYuYXR0cmlidXRlcy5kZXNjcmlwdGlvbj9mLmF0dHJpYnV0ZXMuZGVzY3JpcHRpb246Ik5vIGRlc2NyaXB0aW9uLiIsaT1mLmF0dHJpYnV0ZXMubGluaz9mLmF0dHJpYnV0ZXMubGluazoiIixmPWYuZ2VvbWV0cnkuZ2V0Qm91bmRzKCkuZ2V0Q2VudGVyTG9uTGF0KCk7ZS5pY29uPQpudWxsPT10aGlzLmljb24/T3BlbkxheWVycy5NYXJrZXIuZGVmYXVsdEljb24oKTp0aGlzLmljb24uY2xvbmUoKTtlLnBvcHVwU2l6ZT10aGlzLnBvcHVwU2l6ZT90aGlzLnBvcHVwU2l6ZS5jbG9uZSgpOm5ldyBPcGVuTGF5ZXJzLlNpemUoMjUwLDEyMCk7aWYoZ3x8aCl7ZS50aXRsZT1nO2UuZGVzY3JpcHRpb249aDt2YXIgaj0nPGRpdiBjbGFzcz0ib2xMYXllckdlb1JTU0Nsb3NlIj5beF08L2Rpdj4nLGo9aisnPGRpdiBjbGFzcz0ib2xMYXllckdlb1JTU1RpdGxlIj4nO2kmJihqKz0nPGEgY2xhc3M9ImxpbmsiIGhyZWY9IicraSsnIiB0YXJnZXQ9Il9ibGFuayI+Jyk7ais9ZztpJiYoais9IjwvYT4iKTtqKz0iPC9kaXY+IjtqKz0nPGRpdiBzdHlsZT0iIiBjbGFzcz0ib2xMYXllckdlb1JTU0Rlc2NyaXB0aW9uIj4nO2orPWg7ais9IjwvZGl2PiI7ZS5wb3B1cENvbnRlbnRIVE1MPWp9Zj1uZXcgT3BlbkxheWVycy5GZWF0dXJlKHRoaXMsZixlKTt0aGlzLmZlYXR1cmVzLnB1c2goZik7CmU9Zi5jcmVhdGVNYXJrZXIoKTtlLmV2ZW50cy5yZWdpc3RlcigiY2xpY2siLGYsdGhpcy5tYXJrZXJDbGljayk7dGhpcy5hZGRNYXJrZXIoZSl9fXRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgibG9hZGVuZCIpfSxtYXJrZXJDbGljazpmdW5jdGlvbihhKXt2YXIgYj10aGlzPT10aGlzLmxheWVyLnNlbGVjdGVkRmVhdHVyZTt0aGlzLmxheWVyLnNlbGVjdGVkRmVhdHVyZT0hYj90aGlzOm51bGw7Zm9yKHZhciBjPTAsZD10aGlzLmxheWVyLm1hcC5wb3B1cHMubGVuZ3RoO2M8ZDtjKyspdGhpcy5sYXllci5tYXAucmVtb3ZlUG9wdXAodGhpcy5sYXllci5tYXAucG9wdXBzW2NdKTtifHwoYj10aGlzLmNyZWF0ZVBvcHVwKCksT3BlbkxheWVycy5FdmVudC5vYnNlcnZlKGIuZGl2LCJjbGljayIsT3BlbkxheWVycy5GdW5jdGlvbi5iaW5kKGZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYj10aGlzLmxheWVyLm1hcC5wb3B1cHMubGVuZ3RoO2E8YjthKyspdGhpcy5sYXllci5tYXAucmVtb3ZlUG9wdXAodGhpcy5sYXllci5tYXAucG9wdXBzW2FdKX0sCnRoaXMpKSx0aGlzLmxheWVyLm1hcC5hZGRQb3B1cChiKSk7T3BlbkxheWVycy5FdmVudC5zdG9wKGEpfSxjbGVhckZlYXR1cmVzOmZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5mZWF0dXJlcylmb3IoOzA8dGhpcy5mZWF0dXJlcy5sZW5ndGg7KXt2YXIgYT10aGlzLmZlYXR1cmVzWzBdO09wZW5MYXllcnMuVXRpbC5yZW1vdmVJdGVtKHRoaXMuZmVhdHVyZXMsYSk7YS5kZXN0cm95KCl9fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLkdlb1JTUyJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5HTUwuQmFzZSx7c2NoZW1hTG9jYXRpb246Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sIGh0dHA6Ly9zY2hlbWFzLm9wZW5naXMubmV0L2dtbC8yLjEuMi9mZWF0dXJlLnhzZCIsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkZvcm1hdC5HTUwuQmFzZS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSl9LHJlYWRlcnM6e2dtbDpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7b3V0ZXJCb3VuZGFyeUlzOmZ1bmN0aW9uKGEsYil7dmFyIGM9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2Iub3V0ZXI9Yy5jb21wb25lbnRzWzBdfSxpbm5lckJvdW5kYXJ5SXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5pbm5lci5wdXNoKGMuY29tcG9uZW50c1swXSl9LEJveDpmdW5jdGlvbihhLGIpe3ZhciBjPQp7fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5jb21wb25lbnRzfHwoYi5jb21wb25lbnRzPVtdKTt2YXIgZD1jLnBvaW50c1swXSxjPWMucG9pbnRzWzFdO2IuY29tcG9uZW50cy5wdXNoKG5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhkLngsZC55LGMueCxjLnkpKX19LE9wZW5MYXllcnMuRm9ybWF0LkdNTC5CYXNlLnByb3RvdHlwZS5yZWFkZXJzLmdtbCksZmVhdHVyZTpPcGVuTGF5ZXJzLkZvcm1hdC5HTUwuQmFzZS5wcm90b3R5cGUucmVhZGVycy5mZWF0dXJlLHdmczpPcGVuTGF5ZXJzLkZvcm1hdC5HTUwuQmFzZS5wcm90b3R5cGUucmVhZGVycy53ZnN9LHdyaXRlOmZ1bmN0aW9uKGEpe3ZhciBiO2I9T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSk/IndmczpGZWF0dXJlQ29sbGVjdGlvbiI6ImdtbDpmZWF0dXJlTWVtYmVyIjthPXRoaXMud3JpdGVOb2RlKGIsYSk7dGhpcy5zZXRBdHRyaWJ1dGVOUyhhLHRoaXMubmFtZXNwYWNlcy54c2ksInhzaTpzY2hlbWFMb2NhdGlvbiIsdGhpcy5zY2hlbWFMb2NhdGlvbik7CnJldHVybiBPcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLndyaXRlLmFwcGx5KHRoaXMsW2FdKX0sd3JpdGVyczp7Z21sOk9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtQb2ludDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImdtbDpQb2ludCIpO3RoaXMud3JpdGVOb2RlKCJjb29yZGluYXRlcyIsW2FdLGIpO3JldHVybiBifSxjb29yZGluYXRlczpmdW5jdGlvbihhKXtmb3IodmFyIGI9YS5sZW5ndGgsYz1BcnJheShiKSxkLGU9MDtlPGI7KytlKWQ9YVtlXSxjW2VdPXRoaXMueHk/ZC54KyIsIitkLnk6ZC55KyIsIitkLngsdm9pZCAwIT1kLnomJihjW2VdKz0iLCIrZC56KTtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6Y29vcmRpbmF0ZXMiLHthdHRyaWJ1dGVzOntkZWNpbWFsOiIuIixjczoiLCIsdHM6IiAifSx2YWx1ZToxPT1iP2NbMF06Yy5qb2luKCIgIil9KX0sTGluZVN0cmluZzpmdW5jdGlvbihhKXt2YXIgYj0KdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6TGluZVN0cmluZyIpO3RoaXMud3JpdGVOb2RlKCJjb29yZGluYXRlcyIsYS5jb21wb25lbnRzLGIpO3JldHVybiBifSxQb2x5Z29uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOlBvbHlnb24iKTt0aGlzLndyaXRlTm9kZSgib3V0ZXJCb3VuZGFyeUlzIixhLmNvbXBvbmVudHNbMF0sYik7Zm9yKHZhciBjPTE7YzxhLmNvbXBvbmVudHMubGVuZ3RoOysrYyl0aGlzLndyaXRlTm9kZSgiaW5uZXJCb3VuZGFyeUlzIixhLmNvbXBvbmVudHNbY10sYik7cmV0dXJuIGJ9LG91dGVyQm91bmRhcnlJczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImdtbDpvdXRlckJvdW5kYXJ5SXMiKTt0aGlzLndyaXRlTm9kZSgiTGluZWFyUmluZyIsYSxiKTtyZXR1cm4gYn0saW5uZXJCb3VuZGFyeUlzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOmlubmVyQm91bmRhcnlJcyIpOwp0aGlzLndyaXRlTm9kZSgiTGluZWFyUmluZyIsYSxiKTtyZXR1cm4gYn0sTGluZWFyUmluZzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImdtbDpMaW5lYXJSaW5nIik7dGhpcy53cml0ZU5vZGUoImNvb3JkaW5hdGVzIixhLmNvbXBvbmVudHMsYik7cmV0dXJuIGJ9LEJveDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImdtbDpCb3giKTt0aGlzLndyaXRlTm9kZSgiY29vcmRpbmF0ZXMiLFt7eDphLmxlZnQseTphLmJvdHRvbX0se3g6YS5yaWdodCx5OmEudG9wfV0sYik7dGhpcy5zcnNOYW1lJiZiLnNldEF0dHJpYnV0ZSgic3JzTmFtZSIsdGhpcy5zcnNOYW1lKTtyZXR1cm4gYn19LE9wZW5MYXllcnMuRm9ybWF0LkdNTC5CYXNlLnByb3RvdHlwZS53cml0ZXJzLmdtbCksZmVhdHVyZTpPcGVuTGF5ZXJzLkZvcm1hdC5HTUwuQmFzZS5wcm90b3R5cGUud3JpdGVycy5mZWF0dXJlLHdmczpPcGVuTGF5ZXJzLkZvcm1hdC5HTUwuQmFzZS5wcm90b3R5cGUud3JpdGVycy53ZnN9LApDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjIifSk7T3BlbkxheWVycy5Db250cm9sLkRyYWdGZWF0dXJlPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHtnZW9tZXRyeVR5cGVzOm51bGwsb25TdGFydDpmdW5jdGlvbigpe30sb25EcmFnOmZ1bmN0aW9uKCl7fSxvbkNvbXBsZXRlOmZ1bmN0aW9uKCl7fSxvbkVudGVyOmZ1bmN0aW9uKCl7fSxvbkxlYXZlOmZ1bmN0aW9uKCl7fSxkb2N1bWVudERyYWc6ITEsbGF5ZXI6bnVsbCxmZWF0dXJlOm51bGwsZHJhZ0NhbGxiYWNrczp7fSxmZWF0dXJlQ2FsbGJhY2tzOnt9LGxhc3RQaXhlbDpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYl0pO3RoaXMubGF5ZXI9YTt0aGlzLmhhbmRsZXJzPXtkcmFnOm5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuRHJhZyh0aGlzLE9wZW5MYXllcnMuVXRpbC5leHRlbmQoe2Rvd246dGhpcy5kb3duRmVhdHVyZSxtb3ZlOnRoaXMubW92ZUZlYXR1cmUsCnVwOnRoaXMudXBGZWF0dXJlLG91dDp0aGlzLmNhbmNlbCxkb25lOnRoaXMuZG9uZURyYWdnaW5nfSx0aGlzLmRyYWdDYWxsYmFja3MpLHtkb2N1bWVudERyYWc6dGhpcy5kb2N1bWVudERyYWd9KSxmZWF0dXJlOm5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuRmVhdHVyZSh0aGlzLHRoaXMubGF5ZXIsT3BlbkxheWVycy5VdGlsLmV4dGVuZCh7Y2xpY2s6dGhpcy5jbGlja0ZlYXR1cmUsY2xpY2tvdXQ6dGhpcy5jbGlja291dEZlYXR1cmUsb3Zlcjp0aGlzLm92ZXJGZWF0dXJlLG91dDp0aGlzLm91dEZlYXR1cmV9LHRoaXMuZmVhdHVyZUNhbGxiYWNrcykse2dlb21ldHJ5VHlwZXM6dGhpcy5nZW9tZXRyeVR5cGVzfSl9fSxjbGlja0ZlYXR1cmU6ZnVuY3Rpb24oYSl7dGhpcy5oYW5kbGVycy5mZWF0dXJlLnRvdWNoJiYoIXRoaXMub3ZlciYmdGhpcy5vdmVyRmVhdHVyZShhKSkmJih0aGlzLmhhbmRsZXJzLmRyYWcuZHJhZ3N0YXJ0KHRoaXMuaGFuZGxlcnMuZmVhdHVyZS5ldnQpLHRoaXMuaGFuZGxlcnMuZHJhZy5zdG9wRG93bj0KITEpfSxjbGlja291dEZlYXR1cmU6ZnVuY3Rpb24oYSl7dGhpcy5oYW5kbGVycy5mZWF0dXJlLnRvdWNoJiZ0aGlzLm92ZXImJih0aGlzLm91dEZlYXR1cmUoYSksdGhpcy5oYW5kbGVycy5kcmFnLnN0b3BEb3duPSEwKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMubGF5ZXI9bnVsbDtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxbXSl9LGFjdGl2YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFuZGxlcnMuZmVhdHVyZS5hY3RpdmF0ZSgpJiZPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmFjdGl2YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3RoaXMuaGFuZGxlcnMuZHJhZy5kZWFjdGl2YXRlKCk7dGhpcy5oYW5kbGVycy5mZWF0dXJlLmRlYWN0aXZhdGUoKTt0aGlzLmZlYXR1cmU9bnVsbDt0aGlzLmRyYWdnaW5nPSExO3RoaXMubGFzdFBpeGVsPW51bGw7T3BlbkxheWVycy5FbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMubWFwLnZpZXdQb3J0RGl2LAp0aGlzLmRpc3BsYXlDbGFzcysiT3ZlciIpO3JldHVybiBPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxvdmVyRmVhdHVyZTpmdW5jdGlvbihhKXt2YXIgYj0hMTt0aGlzLmhhbmRsZXJzLmRyYWcuZHJhZ2dpbmc/dGhpcy5vdmVyPXRoaXMuZmVhdHVyZS5pZD09YS5pZD8hMDohMToodGhpcy5mZWF0dXJlPWEsdGhpcy5oYW5kbGVycy5kcmFnLmFjdGl2YXRlKCksdGhpcy5vdmVyPWI9ITAsT3BlbkxheWVycy5FbGVtZW50LmFkZENsYXNzKHRoaXMubWFwLnZpZXdQb3J0RGl2LHRoaXMuZGlzcGxheUNsYXNzKyJPdmVyIiksdGhpcy5vbkVudGVyKGEpKTtyZXR1cm4gYn0sZG93bkZlYXR1cmU6ZnVuY3Rpb24oYSl7dGhpcy5sYXN0UGl4ZWw9YTt0aGlzLm9uU3RhcnQodGhpcy5mZWF0dXJlLGEpfSxtb3ZlRmVhdHVyZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCk7dGhpcy5mZWF0dXJlLmdlb21ldHJ5Lm1vdmUoYioKKGEueC10aGlzLmxhc3RQaXhlbC54KSxiKih0aGlzLmxhc3RQaXhlbC55LWEueSkpO3RoaXMubGF5ZXIuZHJhd0ZlYXR1cmUodGhpcy5mZWF0dXJlKTt0aGlzLmxhc3RQaXhlbD1hO3RoaXMub25EcmFnKHRoaXMuZmVhdHVyZSxhKX0sdXBGZWF0dXJlOmZ1bmN0aW9uKCl7dGhpcy5vdmVyfHx0aGlzLmhhbmRsZXJzLmRyYWcuZGVhY3RpdmF0ZSgpfSxkb25lRHJhZ2dpbmc6ZnVuY3Rpb24oYSl7dGhpcy5vbkNvbXBsZXRlKHRoaXMuZmVhdHVyZSxhKX0sb3V0RmVhdHVyZTpmdW5jdGlvbihhKXt0aGlzLmhhbmRsZXJzLmRyYWcuZHJhZ2dpbmc/dGhpcy5mZWF0dXJlLmlkPT1hLmlkJiYodGhpcy5vdmVyPSExKToodGhpcy5vdmVyPSExLHRoaXMuaGFuZGxlcnMuZHJhZy5kZWFjdGl2YXRlKCksT3BlbkxheWVycy5FbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMubWFwLnZpZXdQb3J0RGl2LHRoaXMuZGlzcGxheUNsYXNzKyJPdmVyIiksdGhpcy5vbkxlYXZlKGEpLHRoaXMuZmVhdHVyZT1udWxsKX0sCmNhbmNlbDpmdW5jdGlvbigpe3RoaXMuaGFuZGxlcnMuZHJhZy5kZWFjdGl2YXRlKCk7dGhpcy5vdmVyPSExfSxzZXRNYXA6ZnVuY3Rpb24oYSl7dGhpcy5oYW5kbGVycy5kcmFnLnNldE1hcChhKTt0aGlzLmhhbmRsZXJzLmZlYXR1cmUuc2V0TWFwKGEpO09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuc2V0TWFwLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLkRyYWdGZWF0dXJlIn0pO09wZW5MYXllcnMuQ29udHJvbC5UcmFuc2Zvcm1GZWF0dXJlPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHtnZW9tZXRyeVR5cGVzOm51bGwsbGF5ZXI6bnVsbCxwcmVzZXJ2ZUFzcGVjdFJhdGlvOiExLHJvdGF0ZTohMCxmZWF0dXJlOm51bGwscmVuZGVySW50ZW50OiJ0ZW1wb3JhcnkiLHJvdGF0aW9uSGFuZGxlU3ltYm9saXplcjpudWxsLGJveDpudWxsLGNlbnRlcjpudWxsLHNjYWxlOjEscmF0aW86MSxyb3RhdGlvbjowLGhhbmRsZXM6bnVsbCxyb3RhdGlvbkhhbmRsZXM6bnVsbCxkcmFnQ29udHJvbDpudWxsLGlycmVndWxhcjohMSxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYil7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2JdKTt0aGlzLmxheWVyPWE7dGhpcy5yb3RhdGlvbkhhbmRsZVN5bWJvbGl6ZXJ8fCh0aGlzLnJvdGF0aW9uSGFuZGxlU3ltYm9saXplcj17c3Ryb2tlOiExLHBvaW50UmFkaXVzOjEwLGZpbGxPcGFjaXR5OjAsCmN1cnNvcjoicG9pbnRlciJ9KTt0aGlzLmNyZWF0ZUJveCgpO3RoaXMuY3JlYXRlQ29udHJvbCgpfSxhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPSExO09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpJiYodGhpcy5kcmFnQ29udHJvbC5hY3RpdmF0ZSgpLHRoaXMubGF5ZXIuYWRkRmVhdHVyZXMoW3RoaXMuYm94XSksdGhpcy5yb3RhdGUmJnRoaXMubGF5ZXIuYWRkRmVhdHVyZXModGhpcy5yb3RhdGlvbkhhbmRsZXMpLHRoaXMubGF5ZXIuYWRkRmVhdHVyZXModGhpcy5oYW5kbGVzKSxhPSEwKTtyZXR1cm4gYX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPSExO09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZGVhY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cykmJih0aGlzLmxheWVyLnJlbW92ZUZlYXR1cmVzKHRoaXMuaGFuZGxlcyksdGhpcy5yb3RhdGUmJnRoaXMubGF5ZXIucmVtb3ZlRmVhdHVyZXModGhpcy5yb3RhdGlvbkhhbmRsZXMpLAp0aGlzLmxheWVyLnJlbW92ZUZlYXR1cmVzKFt0aGlzLmJveF0pLHRoaXMuZHJhZ0NvbnRyb2wuZGVhY3RpdmF0ZSgpLGE9ITApO3JldHVybiBhfSxzZXRNYXA6ZnVuY3Rpb24oYSl7dGhpcy5kcmFnQ29udHJvbC5zZXRNYXAoYSk7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5zZXRNYXAuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzZXRGZWF0dXJlOmZ1bmN0aW9uKGEsYil7dmFyIGI9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYix7cm90YXRpb246MCxzY2FsZToxLHJhdGlvOjF9KSxjPXRoaXMucm90YXRpb24sZD10aGlzLmNlbnRlcjtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsYik7aWYoITEhPT10aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImJlZm9yZXNldGZlYXR1cmUiLHtmZWF0dXJlOmF9KSl7dGhpcy5mZWF0dXJlPWE7dGhpcy5hY3RpdmF0ZSgpO3RoaXMuX3NldGZlYXR1cmU9ITA7dmFyIGU9dGhpcy5mZWF0dXJlLmdlb21ldHJ5LmdldEJvdW5kcygpO3RoaXMuYm94Lm1vdmUoZS5nZXRDZW50ZXJMb25MYXQoKSk7CnRoaXMuYm94Lmdlb21ldHJ5LnJvdGF0ZSgtYyxkKTt0aGlzLl9hbmdsZT0wO3RoaXMucm90YXRpb24/KGM9YS5nZW9tZXRyeS5jbG9uZSgpLGMucm90YXRlKC10aGlzLnJvdGF0aW9uLHRoaXMuY2VudGVyKSxjPW5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKGMuZ2V0Qm91bmRzKCkudG9HZW9tZXRyeSgpKSxjLmdlb21ldHJ5LnJvdGF0ZSh0aGlzLnJvdGF0aW9uLHRoaXMuY2VudGVyKSx0aGlzLmJveC5nZW9tZXRyeS5yb3RhdGUodGhpcy5yb3RhdGlvbix0aGlzLmNlbnRlciksdGhpcy5ib3gubW92ZShjLmdlb21ldHJ5LmdldEJvdW5kcygpLmdldENlbnRlckxvbkxhdCgpKSxjPWMuZ2VvbWV0cnkuY29tcG9uZW50c1swXS5jb21wb25lbnRzWzBdLmdldEJvdW5kcygpLmdldENlbnRlckxvbkxhdCgpKTpjPW5ldyBPcGVuTGF5ZXJzLkxvbkxhdChlLmxlZnQsZS5ib3R0b20pO3RoaXMuaGFuZGxlc1swXS5tb3ZlKGMpO2RlbGV0ZSB0aGlzLl9zZXRmZWF0dXJlO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgic2V0ZmVhdHVyZSIsCntmZWF0dXJlOmF9KX19LHVuc2V0RmVhdHVyZTpmdW5jdGlvbigpe3RoaXMuYWN0aXZlP3RoaXMuZGVhY3RpdmF0ZSgpOih0aGlzLmZlYXR1cmU9bnVsbCx0aGlzLnJvdGF0aW9uPTAsdGhpcy5yYXRpbz10aGlzLnNjYWxlPTEpfSxjcmVhdGVCb3g6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuY2VudGVyPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KDAsMCk7dGhpcy5ib3g9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZyhbbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoLTEsLTEpLG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KDAsLTEpLG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KDEsLTEpLG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KDEsMCksbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoMSwxKSxuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCgwLDEpLG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KC0xLAoxKSxuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCgtMSwwKSxuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCgtMSwtMSldKSxudWxsLCJzdHJpbmciPT10eXBlb2YgdGhpcy5yZW5kZXJJbnRlbnQ/bnVsbDp0aGlzLnJlbmRlckludGVudCk7dGhpcy5ib3guZ2VvbWV0cnkubW92ZT1mdW5jdGlvbihiLGMpe2EuX21vdmluZz0hMDtPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmcucHJvdG90eXBlLm1vdmUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EuY2VudGVyLm1vdmUoYixjKTtkZWxldGUgYS5fbW92aW5nfTtmb3IodmFyIGI9ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50LnByb3RvdHlwZS5tb3ZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9yb3RhdGlvbkhhbmRsZSYmdGhpcy5fcm90YXRpb25IYW5kbGUuZ2VvbWV0cnkubW92ZShhLGIpO3RoaXMuX2hhbmRsZS5nZW9tZXRyeS5tb3ZlKGEsYil9LGM9ZnVuY3Rpb24oYSxiLGMpe09wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQucHJvdG90eXBlLnJlc2l6ZS5hcHBseSh0aGlzLAphcmd1bWVudHMpO3RoaXMuX3JvdGF0aW9uSGFuZGxlJiZ0aGlzLl9yb3RhdGlvbkhhbmRsZS5nZW9tZXRyeS5yZXNpemUoYSxiLGMpO3RoaXMuX2hhbmRsZS5nZW9tZXRyeS5yZXNpemUoYSxiLGMpfSxkPWZ1bmN0aW9uKGEsYil7T3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludC5wcm90b3R5cGUucm90YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9yb3RhdGlvbkhhbmRsZSYmdGhpcy5fcm90YXRpb25IYW5kbGUuZ2VvbWV0cnkucm90YXRlKGEsYik7dGhpcy5faGFuZGxlLmdlb21ldHJ5LnJvdGF0ZShhLGIpfSxlPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy54LGU9dGhpcy55O09wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQucHJvdG90eXBlLm1vdmUuY2FsbCh0aGlzLGIsYyk7aWYoIWEuX21vdmluZyl7dmFyIGY9YS5kcmFnQ29udHJvbC5oYW5kbGVycy5kcmFnLmV2dCxnPSEoIWEuX3NldGZlYXR1cmUmJmEucHJlc2VydmVBc3BlY3RSYXRpbykmJiEoZiYmZi5zaGlmdEtleSksCmg9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoZCxlKSxmPWEuY2VudGVyO3RoaXMucm90YXRlKC1hLnJvdGF0aW9uLGYpO2gucm90YXRlKC1hLnJvdGF0aW9uLGYpO3ZhciBpPXRoaXMueC1mLngsaj10aGlzLnktZi55LGs9aS0odGhpcy54LWgueCksbD1qLSh0aGlzLnktaC55KTthLmlycmVndWxhciYmIWEuX3NldGZlYXR1cmUmJihpLT0odGhpcy54LWgueCkvMixqLT0odGhpcy55LWgueSkvMik7dGhpcy54PWQ7dGhpcy55PWU7aD0xO2c/KGo9MUUtNT5NYXRoLmFicyhsKT8xOmovbCxoPSgxRS01Pk1hdGguYWJzKGspPzE6aS9rKS9qKTooaz1NYXRoLnNxcnQoayprK2wqbCksaj1NYXRoLnNxcnQoaSppK2oqaikvayk7YS5fbW92aW5nPSEwO2EuYm94Lmdlb21ldHJ5LnJvdGF0ZSgtYS5yb3RhdGlvbixmKTtkZWxldGUgYS5fbW92aW5nO2EuYm94Lmdlb21ldHJ5LnJlc2l6ZShqLGYsaCk7YS5ib3guZ2VvbWV0cnkucm90YXRlKGEucm90YXRpb24sZik7YS50cmFuc2Zvcm1GZWF0dXJlKHtzY2FsZTpqLApyYXRpbzpofSk7YS5pcnJlZ3VsYXImJiFhLl9zZXRmZWF0dXJlJiYoaT1mLmNsb25lKCksaS54Kz0xRS01Pk1hdGguYWJzKGQtZi54KT8wOnRoaXMueC1kLGkueSs9MUUtNT5NYXRoLmFicyhlLWYueSk/MDp0aGlzLnktZSxhLmJveC5nZW9tZXRyeS5tb3ZlKHRoaXMueC1kLHRoaXMueS1lKSxhLnRyYW5zZm9ybUZlYXR1cmUoe2NlbnRlcjppfSkpfX0sZj1mdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMueCxlPXRoaXMueTtPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50LnByb3RvdHlwZS5tb3ZlLmNhbGwodGhpcyxiLGMpO2lmKCFhLl9tb3Zpbmcpe3ZhciBmPWEuZHJhZ0NvbnRyb2wuaGFuZGxlcnMuZHJhZy5ldnQsZj1mJiZmLnNoaWZ0S2V5PzQ1OjEsZz1hLmNlbnRlcixoPXRoaXMueC1nLngsaT10aGlzLnktZy55O3RoaXMueD1kO3RoaXMueT1lO2Q9TWF0aC5hdGFuMihpLWMsaC1iKTtkPU1hdGguYXRhbjIoaSxoKS1kO2QqPTE4MC9NYXRoLlBJO2EuX2FuZ2xlPShhLl9hbmdsZStkKSUKMzYwO2Q9YS5yb3RhdGlvbiVmO2lmKE1hdGguYWJzKGEuX2FuZ2xlKT49Znx8MCE9PWQpZD1NYXRoLnJvdW5kKGEuX2FuZ2xlL2YpKmYtZCxhLl9hbmdsZT0wLGEuYm94Lmdlb21ldHJ5LnJvdGF0ZShkLGcpLGEudHJhbnNmb3JtRmVhdHVyZSh7cm90YXRpb246ZH0pfX0sZz1BcnJheSg4KSxoPUFycmF5KDQpLGksaixrLGw9InN3IHMgc2UgZSBuZSBuIG53IHciLnNwbGl0KCIgIiksbT0wOzg+bTsrK20paT10aGlzLmJveC5nZW9tZXRyeS5jb21wb25lbnRzW21dLGo9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoaS5jbG9uZSgpLHtyb2xlOmxbbV0rIi1yZXNpemUifSwic3RyaW5nIj09dHlwZW9mIHRoaXMucmVuZGVySW50ZW50P251bGw6dGhpcy5yZW5kZXJJbnRlbnQpLDA9PW0lMiYmKGs9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoaS5jbG9uZSgpLHtyb2xlOmxbbV0rIi1yb3RhdGUifSwic3RyaW5nIj09dHlwZW9mIHRoaXMucm90YXRpb25IYW5kbGVTeW1ib2xpemVyPwpudWxsOnRoaXMucm90YXRpb25IYW5kbGVTeW1ib2xpemVyKSxrLmdlb21ldHJ5Lm1vdmU9ZixpLl9yb3RhdGlvbkhhbmRsZT1rLGhbbS8yXT1rKSxpLm1vdmU9YixpLnJlc2l6ZT1jLGkucm90YXRlPWQsai5nZW9tZXRyeS5tb3ZlPWUsaS5faGFuZGxlPWosZ1ttXT1qO3RoaXMucm90YXRpb25IYW5kbGVzPWg7dGhpcy5oYW5kbGVzPWd9LGNyZWF0ZUNvbnRyb2w6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuZHJhZ0NvbnRyb2w9bmV3IE9wZW5MYXllcnMuQ29udHJvbC5EcmFnRmVhdHVyZSh0aGlzLmxheWVyLHtkb2N1bWVudERyYWc6ITAsbW92ZUZlYXR1cmU6ZnVuY3Rpb24oYil7dGhpcy5mZWF0dXJlPT09YS5mZWF0dXJlJiYodGhpcy5mZWF0dXJlPWEuYm94KTtPcGVuTGF5ZXJzLkNvbnRyb2wuRHJhZ0ZlYXR1cmUucHJvdG90eXBlLm1vdmVGZWF0dXJlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sb25EcmFnOmZ1bmN0aW9uKGIpe2I9PT1hLmJveCYmYS50cmFuc2Zvcm1GZWF0dXJlKHtjZW50ZXI6YS5jZW50ZXJ9KX0sCm9uU3RhcnQ6ZnVuY3Rpb24oYil7dmFyIGM9IWEuZ2VvbWV0cnlUeXBlc3x8LTEhPT1PcGVuTGF5ZXJzLlV0aWwuaW5kZXhPZihhLmdlb21ldHJ5VHlwZXMsYi5nZW9tZXRyeS5DTEFTU19OQU1FKSxkPU9wZW5MYXllcnMuVXRpbC5pbmRleE9mKGEuaGFuZGxlcyxiKSxkPWQrT3BlbkxheWVycy5VdGlsLmluZGV4T2YoYS5yb3RhdGlvbkhhbmRsZXMsYik7YiE9PWEuZmVhdHVyZSYmKGIhPT1hLmJveCYmLTI9PWQmJmMpJiZhLnNldEZlYXR1cmUoYil9LG9uQ29tcGxldGU6ZnVuY3Rpb24oKXthLmV2ZW50cy50cmlnZ2VyRXZlbnQoInRyYW5zZm9ybWNvbXBsZXRlIix7ZmVhdHVyZTphLmZlYXR1cmV9KX19KX0sZHJhd0hhbmRsZXM6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5sYXllcixiPTA7OD5iOysrYil0aGlzLnJvdGF0ZSYmMD09PWIlMiYmYS5kcmF3RmVhdHVyZSh0aGlzLnJvdGF0aW9uSGFuZGxlc1tiLzJdLHRoaXMucm90YXRpb25IYW5kbGVTeW1ib2xpemVyKSxhLmRyYXdGZWF0dXJlKHRoaXMuaGFuZGxlc1tiXSwKdGhpcy5yZW5kZXJJbnRlbnQpfSx0cmFuc2Zvcm1GZWF0dXJlOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLl9zZXRmZWF0dXJlKXt0aGlzLnNjYWxlKj1hLnNjYWxlfHwxO3RoaXMucmF0aW8qPWEucmF0aW98fDE7dmFyIGI9dGhpcy5yb3RhdGlvbjt0aGlzLnJvdGF0aW9uPSh0aGlzLnJvdGF0aW9uKyhhLnJvdGF0aW9ufHwwKSklMzYwO2lmKCExIT09dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJiZWZvcmV0cmFuc2Zvcm0iLGEpKXt2YXIgYz10aGlzLmZlYXR1cmUsZD1jLmdlb21ldHJ5LGU9dGhpcy5jZW50ZXI7ZC5yb3RhdGUoLWIsZSk7YS5zY2FsZXx8YS5yYXRpbz9kLnJlc2l6ZShhLnNjYWxlLGUsYS5yYXRpbyk6YS5jZW50ZXImJmMubW92ZShhLmNlbnRlci5nZXRCb3VuZHMoKS5nZXRDZW50ZXJMb25MYXQoKSk7ZC5yb3RhdGUodGhpcy5yb3RhdGlvbixlKTt0aGlzLmxheWVyLmRyYXdGZWF0dXJlKGMpO2MudG9TdGF0ZShPcGVuTGF5ZXJzLlN0YXRlLlVQREFURSk7dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJ0cmFuc2Zvcm0iLAphKX19dGhpcy5sYXllci5kcmF3RmVhdHVyZSh0aGlzLmJveCx0aGlzLnJlbmRlckludGVudCk7dGhpcy5kcmF3SGFuZGxlcygpfSxkZXN0cm95OmZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9MDs4PmI7KytiKWE9dGhpcy5ib3guZ2VvbWV0cnkuY29tcG9uZW50c1tiXSxhLl9oYW5kbGUuZGVzdHJveSgpLGEuX2hhbmRsZT1udWxsLGEuX3JvdGF0aW9uSGFuZGxlJiZhLl9yb3RhdGlvbkhhbmRsZS5kZXN0cm95KCksYS5fcm90YXRpb25IYW5kbGU9bnVsbDt0aGlzLnJvdGF0aW9uSGFuZGxlcz10aGlzLnJvdGF0aW9uSGFuZGxlU3ltYm9saXplcj10aGlzLmhhbmRsZXM9dGhpcy5mZWF0dXJlPXRoaXMuY2VudGVyPW51bGw7dGhpcy5ib3guZGVzdHJveSgpO3RoaXMubGF5ZXI9dGhpcy5ib3g9bnVsbDt0aGlzLmRyYWdDb250cm9sLmRlc3Ryb3koKTt0aGlzLmRyYWdDb250cm9sPW51bGw7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sCkNMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5UcmFuc2Zvcm1GZWF0dXJlIn0pO09wZW5MYXllcnMuTGFuZy5pYT1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7dW5oYW5kbGVkUmVxdWVzdDoiTGUgcmVzcG9uc2EgYSB1biByZXF1ZXN0YSBub24gZXNzZXZhIG1hbmVhdGU6ICR7c3RhdHVzVGV4dH0iLFBlcm1hbGluazoiUGVybWFsaWdhbWluZSIsT3ZlcmxheXM6IlN1cGVycG9zaXRpb25lcyIsIkJhc2UgTGF5ZXIiOiJTdHJhdG8gZGUgYmFzZSIsbm9GSUQ6Ik5vbiBwb3RlIGFjdHVhbGlzYXIgdW4gZWxlbWVudG8gc2luIEZJRC4iLGJyb3dzZXJOb3RTdXBwb3J0ZWQ6IlR1IG5hdmlnYXRvciBub24gc3VwcG9ydGEgbGUgcmVuZGl0aW9uIGRlIHZlY3RvcmVzLiBMZSByZW5kaXRvcmVzIGFjdHVhbG1lbnRlIHN1cHBvcnRhdGUgZXM6XG4ke3JlbmRlcmVyc30iLG1pblpvb21MZXZlbEVycm9yOiJMZSBwcm9wcmlldGF0ZSBtaW5ab29tTGV2ZWwgZXMgc29sbWVudGUgcHJvIHVzbyBjb24gbGUgc3RyYXRvcyBkZXNjZW5kZW50ZSBkZSBGaXhlZFpvb21MZXZlbHMuIExlIGZhY3RvIHF1ZSBpc3RlIHN0cmF0byBXRlMgdmVyaWZpY2EgbWluWm9vbUxldmVsIGVzIHVuIHJlbGlxdWlhIGRlbCBwYXNzYXRvLiBOb25vYnN0YW50ZSwgc2kgbm9zIGxvIHJlbW92ZSBpbW1lZGlhdGVtZW50ZSwgbm9zIHBvdGUgcnVtcGVyIGFwcGxpY2F0aW9uZXMgYSBiYXNlIGRlIE9MIHF1ZSBkZXBlbmRlIGRlIGlsbG8uIEVyZ28gbm9zIGxvIGRlY2xhcmEgb2Jzb2xldGU7IGxlIHZlcmlmaWNhdGlvbiBkZSBtaW5ab29tTGV2ZWwgaW4gYmFzc28gZXNzZXJhIHJlbW92aXRlIGluIHZlcnNpb24gMy4wLiBQZXIgZmF2b3IgdXNhIGluIHN1IGxvY28gbGUgY29uZmlndXJhdGlvbiBkZSByZXNvbHV0aW9uZXMgbWluL21heCBjb21vIGRlc2NyaWJpdGUgYTogaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyIsCmNvbW1pdFN1Y2Nlc3M6IlRyYW5zYWN0aW9uIFdGUzogU1VDQ0VTU08gJHtyZXNwb25zZX0iLGNvbW1pdEZhaWxlZDoiVHJhbnNhY3Rpb24gV0ZTOiBGQUxMRVZBICR7cmVzcG9uc2V9Iixnb29nbGVXYXJuaW5nOiJMZSBzdHJhdG8gR29vZ2xlIG5vbiBwb3RldmEgZXNzZXIgY2FyZ2F0ZSBjb3JyZWN0ZW1lbnRlLjxicj48YnI+UHJvIGRpc2ZhY2VyIHRlIGRlIGlzdGUgbWVzc2FnZSwgc2VsaWdlIHVuIG5vdmUgQmFzZUxheWVyIGluIGxlIHNlbGVjdG9yIGRlIHN0cmF0byBpbiBhbHRvIGEgZGV4dHJhLjxicj48YnI+TXVsdG8gcHJvYmFiaWxlbWVudGUsIGlzdG8gZXMgcHJvcXVlIGxlIHNjcmlwdCBkZWwgbGlicmVyaWEgZGUgR29vZ2xlIE1hcHMgbm9uIGVzc2V2YSBpbmNsdWRpdGUgbyBub24gY29udGluZSBsZSBjbGF2ZSBBUEkgY29ycmVjdGUgcHJvIHR1IHNpdG8uPGJyPjxicj5EaXN2ZWxvcHBhdG9yZXM6IFBybyBhZGp1dGEgZGUgY29ycmlnZXIgaXN0bywgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9Hb29nbGUnIHRhcmdldD0nX2JsYW5rJz5jbGljY2EgaGljPC9hIiwKZ2V0TGF5ZXJXYXJuaW5nOiJMZSBzdHJhdG8gJHtsYXllclR5cGV9IG5vbiBwb3RldmEgZXNzZXIgY2FyZ2F0ZSBjb3JyZWN0ZW1lbnRlLjxicj48YnI+UHJvIGRpc2ZhY2VyIHRlIGRlIGlzdGUgbWVzc2FnZSwgc2VsaWdlIHVuIG5vdmUgQmFzZUxheWVyIGluIGxlIHNlbGVjdG9yIGRlIHN0cmF0byBpbiBhbHRvIGEgZGV4dHJhLjxicj48YnI+TXVsdG8gcHJvYmFiaWxlbWVudGUsIGlzdG8gZXMgcHJvcXVlIGxlIHNjcmlwdCBkZWwgbGlicmVyaWEgZGUgJHtsYXllckxpYn0gbm9uIGVzc2V2YSBjb3JyZWN0ZW1lbnRlIGluY2x1ZGl0ZS48YnI+PGJyPkRpc3ZlbG9wcGF0b3JlczogUHJvIGFkanV0YSBkZSBjb3JyaWdlciBpc3RvLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+Y2xpY2NhIGhpYzwvYT4iLCJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiU2NhbGEgPSAxIDogJHtzY2FsZURlbm9tfSIsClc6IlciLEU6IkUiLE46Ik4iLFM6IlMiLHJlcHJvamVjdERlcHJlY2F0ZWQ6IlR1IHVzYSBsZSBvcHRpb24gJ3JlcHJvamVjdCcgaW4gbGUgc3RyYXRvICR7bGF5ZXJOYW1lfSBsYXllci4gSXN0ZSBvcHRpb24gZXMgb2Jzb2xlc2NlbnRlOiBpbGxvIGVzc2V2YSBwcm8gcG90ZXIgbW9uc3RyYXIgZGF0b3Mgc3VwZXIgY2FydGFzIGRlIGJhc2UgY29tbWVyY2lhbCwgbWEgaXN0ZSBmdW5jdGlvbmFsaXRhdGUgcG90ZSBvcmEgZXNzZXIgYXR0aW5naXRlIGNvbiBsZSB1c28gZGUgU3BoZXJpY2FsIE1lcmNhdG9yLiBVbHRlcmlvciBpbmZvcm1hdGlvbiBlcyBkaXNwb25pYmlsZSBhIGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU3BoZXJpY2FsTWVyY2F0b3IuIixtZXRob2REZXByZWNhdGVkOiJJc3RlIG1ldGhvZG8gaGEgZXNzaXRlIGRlY2xhcmF0ZSBvYnNvbGVzY2VudGUgZSBlc3NlcmEgcmVtb3ZpdGUgaW4gdmVyc2lvbiAzLjAuIFBlciBmYXZvciB1c2EgJHtuZXdNZXRob2R9IGluIHN1IGxvY28uIn0pO09wZW5MYXllcnMuTGF5ZXIuV01TPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllci5HcmlkLHtERUZBVUxUX1BBUkFNUzp7c2VydmljZToiV01TIix2ZXJzaW9uOiIxLjEuMSIscmVxdWVzdDoiR2V0TWFwIixzdHlsZXM6IiIsZm9ybWF0OiJpbWFnZS9qcGVnIn0saXNCYXNlTGF5ZXI6ITAsZW5jb2RlQkJPWDohMSxub01hZ2ljOiExLHl4Ont9LGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9W10sYz1PcGVuTGF5ZXJzLlV0aWwudXBwZXJDYXNlT2JqZWN0KGMpOzEuMzw9cGFyc2VGbG9hdChjLlZFUlNJT04pJiYhYy5FWENFUFRJT05TJiYoYy5FWENFUFRJT05TPSJJTklNQUdFIik7ZS5wdXNoKGEsYixjLGQpO09wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGUpO09wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHRoaXMucGFyYW1zLE9wZW5MYXllcnMuVXRpbC51cHBlckNhc2VPYmplY3QodGhpcy5ERUZBVUxUX1BBUkFNUykpOwppZighdGhpcy5ub01hZ2ljJiZ0aGlzLnBhcmFtcy5UUkFOU1BBUkVOVCYmInRydWUiPT10aGlzLnBhcmFtcy5UUkFOU1BBUkVOVC50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkpe2lmKG51bGw9PWR8fCFkLmlzQmFzZUxheWVyKXRoaXMuaXNCYXNlTGF5ZXI9ITE7ImltYWdlL2pwZWciPT10aGlzLnBhcmFtcy5GT1JNQVQmJih0aGlzLnBhcmFtcy5GT1JNQVQ9T3BlbkxheWVycy5VdGlsLmFscGhhSGFjaygpPyJpbWFnZS9naWYiOiJpbWFnZS9wbmciKX19LGNsb25lOmZ1bmN0aW9uKGEpe251bGw9PWEmJihhPW5ldyBPcGVuTGF5ZXJzLkxheWVyLldNUyh0aGlzLm5hbWUsdGhpcy51cmwsdGhpcy5wYXJhbXMsdGhpcy5nZXRPcHRpb25zKCkpKTtyZXR1cm4gYT1PcGVuTGF5ZXJzLkxheWVyLkdyaWQucHJvdG90eXBlLmNsb25lLmFwcGx5KHRoaXMsW2FdKX0scmV2ZXJzZUF4aXNPcmRlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMucHJvamVjdGlvbi5nZXRDb2RlKCk7cmV0dXJuIDEuMzw9cGFyc2VGbG9hdCh0aGlzLnBhcmFtcy5WRVJTSU9OKSYmCiEhKHRoaXMueXhbYV18fE9wZW5MYXllcnMuUHJvamVjdGlvbi5kZWZhdWx0c1thXSYmT3BlbkxheWVycy5Qcm9qZWN0aW9uLmRlZmF1bHRzW2FdLnl4KX0sZ2V0VVJMOmZ1bmN0aW9uKGEpe3ZhciBhPXRoaXMuYWRqdXN0Qm91bmRzKGEpLGI9dGhpcy5nZXRJbWFnZVNpemUoYSksYz17fSxkPXRoaXMucmV2ZXJzZUF4aXNPcmRlcigpO2MuQkJPWD10aGlzLmVuY29kZUJCT1g/YS50b0JCT1gobnVsbCxkKTphLnRvQXJyYXkoZCk7Yy5XSURUSD1iLnc7Yy5IRUlHSFQ9Yi5oO3JldHVybiB0aGlzLmdldEZ1bGxSZXF1ZXN0U3RyaW5nKGMpfSxtZXJnZU5ld1BhcmFtczpmdW5jdGlvbihhKXthPVtPcGVuTGF5ZXJzLlV0aWwudXBwZXJDYXNlT2JqZWN0KGEpXTtyZXR1cm4gT3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5tZXJnZU5ld1BhcmFtcy5hcHBseSh0aGlzLGEpfSxnZXRGdWxsUmVxdWVzdFN0cmluZzpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSwKYz10aGlzLnByb2plY3Rpb24mJnRoaXMucHJvamVjdGlvbi5lcXVhbHMoYyk/dGhpcy5wcm9qZWN0aW9uLmdldENvZGUoKTpjLmdldENvZGUoKSxjPSJub25lIj09Yz9udWxsOmM7MS4zPD1wYXJzZUZsb2F0KHRoaXMucGFyYW1zLlZFUlNJT04pP3RoaXMucGFyYW1zLkNSUz1jOnRoaXMucGFyYW1zLlNSUz1jOyJib29sZWFuIj09dHlwZW9mIHRoaXMucGFyYW1zLlRSQU5TUEFSRU5UJiYoYS5UUkFOU1BBUkVOVD10aGlzLnBhcmFtcy5UUkFOU1BBUkVOVD8iVFJVRSI6IkZBTFNFIik7cmV0dXJuIE9wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUuZ2V0RnVsbFJlcXVlc3RTdHJpbmcuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLldNUyJ9KTtPcGVuTGF5ZXJzLkxheWVyLkthTWFwPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllci5HcmlkLHtpc0Jhc2VMYXllcjohMCxERUZBVUxUX1BBUkFNUzp7aToianBlZyIsbWFwOiIifSxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjLGQpe09wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5wYXJhbXM9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHModGhpcy5wYXJhbXMsdGhpcy5ERUZBVUxUX1BBUkFNUyl9LGdldFVSTDpmdW5jdGlvbihhKXt2YXIgYT10aGlzLmFkanVzdEJvdW5kcyhhKSxiPXRoaXMubWFwLmdldFJlc29sdXRpb24oKSxjPU1hdGgucm91bmQoMUU0KnRoaXMubWFwLmdldFNjYWxlKCkpLzFFNCxkPU1hdGgucm91bmQoYS5sZWZ0L2IpLGE9LU1hdGgucm91bmQoYS50b3AvYik7cmV0dXJuIHRoaXMuZ2V0RnVsbFJlcXVlc3RTdHJpbmcoe3Q6YSxsOmQsczpjfSl9LGNhbGN1bGF0ZUdyaWRMYXlvdXQ6ZnVuY3Rpb24oYSwKYixjKXtiPWMqdGhpcy50aWxlU2l6ZS53O2MqPXRoaXMudGlsZVNpemUuaDtyZXR1cm57dGlsZWxvbjpiLHRpbGVsYXQ6YyxzdGFydGNvbDpNYXRoLmZsb29yKGEubGVmdC9iKS10aGlzLmJ1ZmZlcixzdGFydHJvdzpNYXRoLmZsb29yKGEudG9wL2MpK3RoaXMuYnVmZmVyfX0sZ2V0VGlsZUJvdW5kc0ZvckdyaWRJbmRleDpmdW5jdGlvbihhLGIpe3RoaXMuZ2V0VGlsZU9yaWdpbigpO3ZhciBjPXRoaXMuZ3JpZExheW91dCxkPWMudGlsZWxvbixlPWMudGlsZWxhdCxmPShjLnN0YXJ0Y29sK2IpKmQsYz0oYy5zdGFydHJvdy1hKSplO3JldHVybiBuZXcgT3BlbkxheWVycy5Cb3VuZHMoZixjLGYrZCxjK2UpfSxjbG9uZTpmdW5jdGlvbihhKXtudWxsPT1hJiYoYT1uZXcgT3BlbkxheWVycy5MYXllci5LYU1hcCh0aGlzLm5hbWUsdGhpcy51cmwsdGhpcy5wYXJhbXMsdGhpcy5nZXRPcHRpb25zKCkpKTthPU9wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUuY2xvbmUuYXBwbHkodGhpcywKW2FdKTtudWxsIT10aGlzLnRpbGVTaXplJiYoYS50aWxlU2l6ZT10aGlzLnRpbGVTaXplLmNsb25lKCkpO2EuZ3JpZD1bXTtyZXR1cm4gYX0sZ2V0VGlsZUJvdW5kczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFJlc29sdXRpb24oKSxjPWIqdGhpcy50aWxlU2l6ZS53LGI9Yip0aGlzLnRpbGVTaXplLmgsZD10aGlzLmdldExvbkxhdEZyb21WaWV3UG9ydFB4KGEpLGE9YypNYXRoLmZsb29yKGQubG9uL2MpLGQ9YipNYXRoLmZsb29yKGQubGF0L2IpO3JldHVybiBuZXcgT3BlbkxheWVycy5Cb3VuZHMoYSxkLGErYyxkK2IpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLkthTWFwIn0pO09wZW5MYXllcnMuRm9ybWF0LldNQy52MV8xXzA9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5XTUMudjEse1ZFUlNJT046IjEuMS4wIixzY2hlbWFMb2NhdGlvbjoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9jb250ZXh0IGh0dHA6Ly9zY2hlbWFzLm9wZW5naXMubmV0L2NvbnRleHQvMS4xLjAvY29udGV4dC54c2QiLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Gb3JtYXQuV01DLnYxLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKX0scmVhZF9zbGRfTWluU2NhbGVEZW5vbWluYXRvcjpmdW5jdGlvbihhLGIpe3ZhciBjPXBhcnNlRmxvYXQodGhpcy5nZXRDaGlsZFZhbHVlKGIpKTswPGMmJihhLm1heFNjYWxlPWMpfSxyZWFkX3NsZF9NYXhTY2FsZURlbm9taW5hdG9yOmZ1bmN0aW9uKGEsYil7YS5taW5TY2FsZT1wYXJzZUZsb2F0KHRoaXMuZ2V0Q2hpbGRWYWx1ZShiKSl9LHJlYWRfd21jX1NSUzpmdW5jdGlvbihhLGIpeyJzcnMiaW4KYXx8KGEuc3JzPXt9KTthLnNyc1t0aGlzLmdldENoaWxkVmFsdWUoYildPSEwfSx3cml0ZV93bWNfTGF5ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9T3BlbkxheWVycy5Gb3JtYXQuV01DLnYxLnByb3RvdHlwZS53cml0ZV93bWNfTGF5ZXIuYXBwbHkodGhpcyxbYV0pO2lmKGEubWF4U2NhbGUpe3ZhciBjPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMubmFtZXNwYWNlcy5zbGQsInNsZDpNaW5TY2FsZURlbm9taW5hdG9yIik7Yy5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVRleHROb2RlKGEubWF4U2NhbGUudG9QcmVjaXNpb24oMTYpKSk7Yi5hcHBlbmRDaGlsZChjKX1hLm1pblNjYWxlJiYoYz10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLm5hbWVzcGFjZXMuc2xkLCJzbGQ6TWF4U2NhbGVEZW5vbWluYXRvciIpLGMuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVUZXh0Tm9kZShhLm1pblNjYWxlLnRvUHJlY2lzaW9uKDE2KSkpLGIuYXBwZW5kQ2hpbGQoYykpO2lmKGEuc3JzKWZvcih2YXIgZCBpbiBhLnNycyliLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudERlZmF1bHROUygiU1JTIiwKZCkpO2IuYXBwZW5kQ2hpbGQodGhpcy53cml0ZV93bWNfRm9ybWF0TGlzdChhKSk7Yi5hcHBlbmRDaGlsZCh0aGlzLndyaXRlX3dtY19TdHlsZUxpc3QoYSkpO2EuZGltZW5zaW9ucyYmYi5hcHBlbmRDaGlsZCh0aGlzLndyaXRlX3dtY19EaW1lbnNpb25MaXN0KGEpKTtiLmFwcGVuZENoaWxkKHRoaXMud3JpdGVfd21jX0xheWVyRXh0ZW5zaW9uKGEpKTtyZXR1cm4gYn0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuV01DLnYxXzFfMCJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5YTFM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwuVmVyc2lvbmVkT0dDLHtkZWZhdWx0VmVyc2lvbjoiMS4xLjAiLHN0cmluZ2lmeU91dHB1dDohMCxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5YTFMifSk7T3BlbkxheWVycy5Gb3JtYXQuWExTLnYxPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuWE1MLHtuYW1lc3BhY2VzOnt4bHM6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQveGxzIixnbWw6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sIix4c2k6Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIn0scmVnRXhlczp7dHJpbVNwYWNlOi9eXHMqfFxzKiQvZyxyZW1vdmVTcGFjZTovXHMqL2csc3BsaXRTcGFjZTovXHMrLyx0cmltQ29tbWE6L1xzKixccyovZ30seHk6ITAsZGVmYXVsdFByZWZpeDoieGxzIixzY2hlbWFMb2NhdGlvbjpudWxsLHJlYWQ6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhiLHRoaXMub3B0aW9ucyk7dmFyIGM9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO3JldHVybiBjfSxyZWFkZXJzOnt4bHM6e1hMUzpmdW5jdGlvbihhLGIpe2IudmVyc2lvbj1hLmdldEF0dHJpYnV0ZSgidmVyc2lvbiIpOwp0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LFJlc3BvbnNlOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxHZW9jb2RlUmVzcG9uc2U6ZnVuY3Rpb24oYSxiKXtiLnJlc3BvbnNlTGlzdHM9W107dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxHZW9jb2RlUmVzcG9uc2VMaXN0OmZ1bmN0aW9uKGEsYil7dmFyIGM9e2ZlYXR1cmVzOltdLG51bWJlck9mR2VvY29kZWRBZGRyZXNzZXM6cGFyc2VJbnQoYS5nZXRBdHRyaWJ1dGUoIm51bWJlck9mR2VvY29kZWRBZGRyZXNzZXMiKSl9O2IucmVzcG9uc2VMaXN0cy5wdXNoKGMpO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKX0sR2VvY29kZWRBZGRyZXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3I7Yi5mZWF0dXJlcy5wdXNoKGMpO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtjLmdlb21ldHJ5PWMuY29tcG9uZW50c1swXX0sR2VvY29kZU1hdGNoQ29kZTpmdW5jdGlvbihhLGIpe2IuYXR0cmlidXRlcy5tYXRjaENvZGU9CnthY2N1cmFjeTpwYXJzZUZsb2F0KGEuZ2V0QXR0cmlidXRlKCJhY2N1cmFjeSIpKSxtYXRjaFR5cGU6YS5nZXRBdHRyaWJ1dGUoIm1hdGNoVHlwZSIpfX0sQWRkcmVzczpmdW5jdGlvbihhLGIpe3ZhciBjPXtjb3VudHJ5Q29kZTphLmdldEF0dHJpYnV0ZSgiY291bnRyeUNvZGUiKSxhZGRyZXNzZWU6YS5nZXRBdHRyaWJ1dGUoImFkZHJlc3NlZSIpLHN0cmVldDpbXSxwbGFjZTpbXX07Yi5hdHRyaWJ1dGVzLmFkZHJlc3M9Yzt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyl9LGZyZWVGb3JtQWRkcmVzczpmdW5jdGlvbihhLGIpe2IuZnJlZUZvcm1BZGRyZXNzPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sU3RyZWV0QWRkcmVzczpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sQnVpbGRpbmc6ZnVuY3Rpb24oYSxiKXtiLmJ1aWxkaW5nPXtudW1iZXI6YS5nZXRBdHRyaWJ1dGUoIm51bWJlciIpLHN1YmRpdmlzaW9uOmEuZ2V0QXR0cmlidXRlKCJzdWJkaXZpc2lvbiIpLApidWlsZGluZ05hbWU6YS5nZXRBdHRyaWJ1dGUoImJ1aWxkaW5nTmFtZSIpfX0sU3RyZWV0OmZ1bmN0aW9uKGEsYil7Yi5zdHJlZXQucHVzaCh0aGlzLmdldENoaWxkVmFsdWUoYSkpfSxQbGFjZTpmdW5jdGlvbihhLGIpe2IucGxhY2VbYS5nZXRBdHRyaWJ1dGUoInR5cGUiKV09dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxQb3N0YWxDb2RlOmZ1bmN0aW9uKGEsYil7Yi5wb3N0YWxDb2RlPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX19LGdtbDpPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjMucHJvdG90eXBlLnJlYWRlcnMuZ21sfSx3cml0ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy53cml0ZXJzLnhscy5YTFMuYXBwbHkodGhpcyxbYV0pfSx3cml0ZXJzOnt4bHM6e1hMUzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInhsczpYTFMiLHthdHRyaWJ1dGVzOnt2ZXJzaW9uOnRoaXMuVkVSU0lPTiwieHNpOnNjaGVtYUxvY2F0aW9uIjp0aGlzLnNjaGVtYUxvY2F0aW9ufX0pOwp0aGlzLndyaXRlTm9kZSgiUmVxdWVzdEhlYWRlciIsYS5oZWFkZXIsYik7dGhpcy53cml0ZU5vZGUoIlJlcXVlc3QiLGEsYik7cmV0dXJuIGJ9LFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ4bHM6UmVxdWVzdEhlYWRlciIpfSxSZXF1ZXN0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygieGxzOlJlcXVlc3QiLHthdHRyaWJ1dGVzOnttZXRob2ROYW1lOiJHZW9jb2RlUmVxdWVzdCIscmVxdWVzdElEOmEucmVxdWVzdElEfHwiIix2ZXJzaW9uOnRoaXMuVkVSU0lPTn19KTt0aGlzLndyaXRlTm9kZSgiR2VvY29kZVJlcXVlc3QiLGEuYWRkcmVzc2VzLGIpO3JldHVybiBifSxHZW9jb2RlUmVxdWVzdDpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ4bHM6R2VvY29kZVJlcXVlc3QiKSxjPTAsZD1hLmxlbmd0aDtjPGQ7YysrKXRoaXMud3JpdGVOb2RlKCJBZGRyZXNzIiwKYVtjXSxiKTtyZXR1cm4gYn0sQWRkcmVzczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInhsczpBZGRyZXNzIix7YXR0cmlidXRlczp7Y291bnRyeUNvZGU6YS5jb3VudHJ5Q29kZX19KTthLmZyZWVGb3JtQWRkcmVzcz90aGlzLndyaXRlTm9kZSgiZnJlZUZvcm1BZGRyZXNzIixhLmZyZWVGb3JtQWRkcmVzcyxiKTooYS5zdHJlZXQmJnRoaXMud3JpdGVOb2RlKCJTdHJlZXRBZGRyZXNzIixhLGIpLGEubXVuaWNpcGFsaXR5JiZ0aGlzLndyaXRlTm9kZSgiTXVuaWNpcGFsaXR5IixhLm11bmljaXBhbGl0eSxiKSxhLmNvdW50cnlTdWJkaXZpc2lvbiYmdGhpcy53cml0ZU5vZGUoIkNvdW50cnlTdWJkaXZpc2lvbiIsYS5jb3VudHJ5U3ViZGl2aXNpb24sYiksYS5wb3N0YWxDb2RlJiZ0aGlzLndyaXRlTm9kZSgiUG9zdGFsQ29kZSIsYS5wb3N0YWxDb2RlLGIpKTtyZXR1cm4gYn0sZnJlZUZvcm1BZGRyZXNzOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImZyZWVGb3JtQWRkcmVzcyIsCnt2YWx1ZTphfSl9LFN0cmVldEFkZHJlc3M6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ4bHM6U3RyZWV0QWRkcmVzcyIpO2EuYnVpbGRpbmcmJnRoaXMud3JpdGVOb2RlKGIsIkJ1aWxkaW5nIixhLmJ1aWxkaW5nKTthPWEuc3RyZWV0O09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEpfHwoYT1bYV0pO2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKyl0aGlzLndyaXRlTm9kZSgiU3RyZWV0IixhW2NdLGIpO3JldHVybiBifSxCdWlsZGluZzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ4bHM6QnVpbGRpbmciLHthdHRyaWJ1dGVzOntudW1iZXI6YS5udW1iZXIsc3ViZGl2aXNpb246YS5zdWJkaXZpc2lvbixidWlsZGluZ05hbWU6YS5idWlsZGluZ05hbWV9fSl9LFN0cmVldDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ4bHM6U3RyZWV0Iix7dmFsdWU6YX0pfSxNdW5pY2lwYWxpdHk6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygieGxzOlBsYWNlIiwKe2F0dHJpYnV0ZXM6e3R5cGU6Ik11bmljaXBhbGl0eSJ9LHZhbHVlOmF9KX0sQ291bnRyeVN1YmRpdmlzaW9uOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInhsczpQbGFjZSIse2F0dHJpYnV0ZXM6e3R5cGU6IkNvdW50cnlTdWJkaXZpc2lvbiJ9LHZhbHVlOmF9KX0sUG9zdGFsQ29kZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJ4bHM6UG9zdGFsQ29kZSIse3ZhbHVlOmF9KX19fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5YTFMudjEifSk7T3BlbkxheWVycy5Gb3JtYXQuWExTLnYxXzFfMD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhMUy52MSx7VkVSU0lPTjoiMS4xIixzY2hlbWFMb2NhdGlvbjoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC94bHMgaHR0cDovL3NjaGVtYXMub3Blbmdpcy5uZXQvb2xzLzEuMS4wL0xvY2F0aW9uVXRpbGl0eVNlcnZpY2UueHNkIixDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5YTFMudjFfMV8wIn0pO09wZW5MYXllcnMuRm9ybWF0LlhMUy52MV8xPU9wZW5MYXllcnMuRm9ybWF0LlhMUy52MV8xXzA7T3BlbkxheWVycy5MYW5nLnNrPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHt1bmhhbmRsZWRSZXF1ZXN0OiJOZW9ic2xcdTAwZmFcdTAxN2Vlblx1MDBlOSBwb1x1MDE3ZWlhZGF2a3kgdnJhY2FqXHUwMGZhICR7c3RhdHVzVGV4dH0iLFBlcm1hbGluazoiVHJ2YWxcdTAwZmQgb2RrYXoiLE92ZXJsYXlzOiJQcmVrcnl0aWEiLCJCYXNlIExheWVyIjoiWlx1MDBlMWtsYWRuXHUwMGUxIHZyc3R2YSIsbm9GSUQ6Ik5pZSBqZSBtb1x1MDE3ZW5cdTAwZTkgYWt0dWFsaXpvdmFcdTAxNjUgdmxhc3Rub3NcdTAxNjUsIHByZSBrdG9yXHUwMGZhIG5lZXhpc3R1amUgRklELiIsYnJvd3Nlck5vdFN1cHBvcnRlZDoiVlx1MDBlMVx1MDE2MSBwcmVobGlhZGFcdTAxMGQgbmVwb2Rwb3J1amUgdnlrcmVzXHUwMTNlb3ZhbmllIHZla3Rvcm92LiBNb21lbnRcdTAwZTFsbmUgcG9kcG9yb3Zhblx1MDBlOSB2eWtyZXNcdTAxM2VvdmFcdTAxMGRlIHNcdTAwZmE6XG4ke3JlbmRlcmVyc30iLG1pblpvb21MZXZlbEVycm9yOiJWbGFzdG5vc1x1MDE2NSBtaW5ab29tTGV2ZWwgamUgdXJcdTAxMGRlblx1MDBmZCBpYmEgbmEgcG91XHUwMTdlaXRpZSBzIHZyc3R2YW1pIG9kdm9kZW5cdTAwZmRtaSBvZCBGaXhlZFpvb21MZXZlbHMuIFRvLCBcdTAxN2VlIHRcdTAwZTF0byB3ZnMgdnJzdHZhIGtvbnRyb2x1amUgbWluWm9vbUxldmVsIGplIHBvem9zdGF0b2sgeiBtaW51bG9zdGkuIE5lbVx1MDBmNFx1MDE3ZWVtZSBobyB2XHUwMTYxYWsgb2RzdHJcdTAwZTFuaVx1MDE2NSwgYWJ5IHNtZSBzYSB2eWhsaSBtb1x1MDE3ZW5cdTAwZTltdSBwb3J1XHUwMTYxZW5pdSBhcGxpa1x1MDBlMWNpXHUwMGVkIHphbG9cdTAxN2Vlblx1MDBmZGNoIG5hIE9wZW4gTGF5ZXJzLCBrdG9yXHUwMGU5IG5hIHRvbXRvIG1cdTAwZjRcdTAxN2VlIHpcdTAwZTF2aXNpZVx1MDE2NS4gUHJldG8gaG8gb3puYVx1MDEwZHVqZW1lIGFrbyB6YXZyaG92YW5cdTAwZmQgLSBkb2x1IHV2ZWRlblx1MDBlMSBrb250cm9sYSBtaW5ab29tTGV2ZWwgYnVkZSBvZHN0clx1MDBlMW5lblx1MDBlMSB2byB2ZXJ6aWkgMy4wLiBQb3VcdTAxN2VpdGUgcHJvc1x1MDBlZG0gbmFtaWVzdG8gdG9obyBrb250cm9sdSBtaW4uL21heC4gcm96bFx1MDBlZFx1MDE2MWVuaWEgcG9kXHUwMTNlYSB0dSB1dmVkZW5cdTAwZTlobyBwb3Bpc3U6IGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU2V0dGluZ1pvb21MZXZlbHMiLApjb21taXRTdWNjZXNzOiJUcmFuc2FrY2lhIFdGUzogXHUwMGRhU1BFXHUwMTYwTlx1MDBjMSAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJUcmFuc2FrY2lhIFdGUzogWkxZSEFMQSAke3Jlc3BvbnNlfSIsZ29vZ2xlV2FybmluZzoiVnJzdHZ1IEdvb2dsZSBuZWJvbG8gbW9cdTAxN2VuXHUwMGU5IHNwclx1MDBlMXZuZSBuYVx1MDEwZFx1MDBlZHRhXHUwMTY1Ljxicj48YnI+QWJ5IHN0ZSBzYSB0ZWp0byBzcHJcdTAwZTF2eSB6YmF2aWxpIHZ5YmVydGUgbm92XHUwMGZhIEJhc2VMYXllciB2IHByZXBcdTAwZWRuYVx1MDEwZGkgdnJzdGlldiB2IHByYXZvbSBob3Jub20gcm9odS48YnI+PGJyPlRvdG8gc2Egc3RhbG8gcHJhdmRlcG9kb2JuZSBwcmV0bywgXHUwMTdlZSBza3JpcHQga25pXHUwMTdlbmljZSBHb29nbGUgTWFwcyBidVx1MDEwZiBuZWJvbCBuYVx1MDEwZFx1MDBlZHRhblx1MDBmZCBhbGVibyBuZW9ic2FodWplIHNwclx1MDBlMXZueSBrXHUwMTNlXHUwMGZhXHUwMTBkIEFQSSBwcmUgdmFcdTAxNjF1IGxva2FsaXR1Ljxicj48YnI+Vlx1MDBmZHZvalx1MDBlMXJpOiBUdSBtXHUwMGY0XHUwMTdlZXRlIHpcdTAwZWRza2FcdTAxNjUgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9Hb29nbGUnIHRhcmdldD0nX2JsYW5rJz5wb21vYyBzbyBzZnVua1x1MDEwZG5lblx1MDBlZG08L2E+IiwKZ2V0TGF5ZXJXYXJuaW5nOiJWcnN0dnUgJHtsYXllclR5cGV9IG5lYm9sbyBtb1x1MDE3ZW5cdTAwZTkgc3ByXHUwMGUxdm5lIG5hXHUwMTBkXHUwMGVkdGFcdTAxNjUuPGJyPjxicj5BYnkgc3RlIHNhIHRlanRvIHNwclx1MDBlMXZ5IHpiYXZpbGkgdnliZXJ0ZSBub3ZcdTAwZmEgQmFzZUxheWVyIHYgcHJlcFx1MDBlZG5hXHUwMTBkaSB2cnN0aWV2IHYgcHJhdm9tIGhvcm5vbSByb2h1Ljxicj48YnI+VG90byBzYSBzdGFsbyBwcmF2ZGVwb2RvYm5lIHByZXRvLCBcdTAxN2VlIHNrcmlwdCBrbmlcdTAxN2VuaWNlICR7bGF5ZXJUeXBlfSBidVx1MDEwZiBuZWJvbCBuYVx1MDEwZFx1MDBlZHRhblx1MDBmZCBhbGVibyBuZW9ic2FodWplIHNwclx1MDBlMXZueSBrXHUwMTNlXHUwMGZhXHUwMTBkIEFQSSBwcmUgdmFcdTAxNjF1IGxva2FsaXR1Ljxicj48YnI+Vlx1MDBmZHZvalx1MDBlMXJpOiBUdSBtXHUwMGY0XHUwMTdlZXRlIHpcdTAwZWRza2FcdTAxNjUgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS8ke2xheWVyVHlwZX0nIHRhcmdldD0nX2JsYW5rJz5wb21vYyBzbyBzZnVua1x1MDEwZG5lblx1MDBlZG08L2E+IiwKIlNjYWxlID0gMSA6ICR7c2NhbGVEZW5vbX0iOiJNaWVya2EgPSAxIDogJHtzY2FsZURlbm9tfSIscmVwcm9qZWN0RGVwcmVjYXRlZDoiUG91XHUwMTdlXHUwMGVkdmF0ZSB2b1x1MDEzZWJ5IFx1MjAxZXJlcHJvamVjdFx1MjAxYyB2cnN0dnkgJHtsYXllclR5cGV9LiBUXHUwMGUxdG8gdm9cdTAxM2ViYSBqZSB6emF2cmhvdmFuXHUwMGUxOiBqZWogcG91XHUwMTdlaXRpZSBib2xvIG5hdnJobnV0XHUwMGU5IG5hIHBvZHBvcnUgem9icmF6b3ZhbmlhIFx1MDBmYWRham92IG5hZCBrb21lclx1MDEwZG5cdTAwZmRtaSB6XHUwMGUxa2xhZG92XHUwMGZkbWkgbWFwYW1pLCBhbGUgdFx1MDBmYXRvIGZ1bmtjaW9uYWxpdHUgamUgdGVyYXogbW9cdTAxN2VuXHUwMGU5IGRvc2lhaG51XHUwMTY1IHBvbW9jb3UgU3BoZXJpY2FsIE1lcmNhdG9yLiBcdTAxMGVhbFx1MDE2MWllIGluZm9ybVx1MDBlMWNpZSB6XHUwMGVkc2thdGUgbmEgc3RyXHUwMGUxbmtlIGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU3BoZXJpY2FsTWVyY2F0b3IuIiwKbWV0aG9kRGVwcmVjYXRlZDoiVFx1MDBlMXRvIG1ldFx1MDBmM2RhIGplIHphdnJob3Zhblx1MDBlMSBhIGJ1ZGUgb2RzdHJcdTAwZTFuZW5cdTAwZTEgdm8gdmVyemlpIDMuMC4gUG91XHUwMTdlaXRlIHByb3NcdTAwZWRtIG5hbWllc3RvIG5laiBtZXRcdTAwZjNkdSAke25ld01ldGhvZH0uIn0pO09wZW5MYXllcnMuUmVuZGVyZXIuU1ZHPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5SZW5kZXJlci5FbGVtZW50cyx7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix4bGlua25zOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIixNQVhfUElYRUw6MTVFMyx0cmFuc2xhdGlvblBhcmFtZXRlcnM6bnVsbCxzeW1ib2xNZXRyaWNzOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXt0aGlzLnN1cHBvcnRlZCgpJiYoT3BlbkxheWVycy5SZW5kZXJlci5FbGVtZW50cy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy50cmFuc2xhdGlvblBhcmFtZXRlcnM9e3g6MCx5OjB9LHRoaXMuc3ltYm9sTWV0cmljcz17fSl9LHN1cHBvcnRlZDpmdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbiYmKGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUoIm9yZy53M2Muc3ZnIiwiMS4wIil8fGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUoImh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjU1ZHIiwKIjEuMSIpfHxkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlKCJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0Jhc2ljU3RydWN0dXJlIiwiMS4xIikpfSxpblZhbGlkUmFuZ2U6ZnVuY3Rpb24oYSxiLGMpe2ErPWM/MDp0aGlzLnRyYW5zbGF0aW9uUGFyYW1ldGVycy54O2IrPWM/MDp0aGlzLnRyYW5zbGF0aW9uUGFyYW1ldGVycy55O3JldHVybiBhPj0tdGhpcy5NQVhfUElYRUwmJmE8PXRoaXMuTUFYX1BJWEVMJiZiPj0tdGhpcy5NQVhfUElYRUwmJmI8PXRoaXMuTUFYX1BJWEVMfSxzZXRFeHRlbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1PcGVuTGF5ZXJzLlJlbmRlcmVyLkVsZW1lbnRzLnByb3RvdHlwZS5zZXRFeHRlbnQuYXBwbHkodGhpcyxhcmd1bWVudHMpLGQ9dGhpcy5nZXRSZXNvbHV0aW9uKCksZT0tYS5sZWZ0L2QsZD1hLnRvcC9kO2lmKGIpcmV0dXJuIHRoaXMubGVmdD1lLHRoaXMudG9wPWQsdGhpcy5yZW5kZXJlclJvb3Quc2V0QXR0cmlidXRlTlMobnVsbCwKInZpZXdCb3giLCIwIDAgIit0aGlzLnNpemUudysiICIrdGhpcy5zaXplLmgpLHRoaXMudHJhbnNsYXRlKHRoaXMueE9mZnNldCwwKSwhMDsoZT10aGlzLnRyYW5zbGF0ZShlLXRoaXMubGVmdCt0aGlzLnhPZmZzZXQsZC10aGlzLnRvcCkpfHx0aGlzLnNldEV4dGVudChhLCEwKTtyZXR1cm4gYyYmZX0sdHJhbnNsYXRlOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5pblZhbGlkUmFuZ2UoYSxiLCEwKSl7dmFyIGM9IiI7aWYoYXx8YiljPSJ0cmFuc2xhdGUoIithKyIsIitiKyIpIjt0aGlzLnJvb3Quc2V0QXR0cmlidXRlTlMobnVsbCwidHJhbnNmb3JtIixjKTt0aGlzLnRyYW5zbGF0aW9uUGFyYW1ldGVycz17eDphLHk6Yn07cmV0dXJuITB9cmV0dXJuITF9LHNldFNpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5SZW5kZXJlci5wcm90b3R5cGUuc2V0U2l6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5yZW5kZXJlclJvb3Quc2V0QXR0cmlidXRlTlMobnVsbCwid2lkdGgiLHRoaXMuc2l6ZS53KTsKdGhpcy5yZW5kZXJlclJvb3Quc2V0QXR0cmlidXRlTlMobnVsbCwiaGVpZ2h0Iix0aGlzLnNpemUuaCl9LGdldE5vZGVUeXBlOmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtzd2l0Y2goYS5DTEFTU19OQU1FKXtjYXNlICJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50IjpjPWIuZXh0ZXJuYWxHcmFwaGljPyJpbWFnZSI6dGhpcy5pc0NvbXBsZXhTeW1ib2woYi5ncmFwaGljTmFtZSk/InN2ZyI6ImNpcmNsZSI7YnJlYWs7Y2FzZSAiT3BlbkxheWVycy5HZW9tZXRyeS5SZWN0YW5nbGUiOmM9InJlY3QiO2JyZWFrO2Nhc2UgIk9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZyI6Yz0icG9seWxpbmUiO2JyZWFrO2Nhc2UgIk9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyI6Yz0icG9seWdvbiI7YnJlYWs7Y2FzZSAiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uIjpjYXNlICJPcGVuTGF5ZXJzLkdlb21ldHJ5LkN1cnZlIjpjPSJwYXRoIn1yZXR1cm4gY30sc2V0U3R5bGU6ZnVuY3Rpb24oYSwKYixjKXt2YXIgYj1ifHxhLl9zdHlsZSxjPWN8fGEuX29wdGlvbnMsZD1iLnRpdGxlfHxiLmdyYXBoaWNUaXRsZTtpZihkKXthLnNldEF0dHJpYnV0ZU5TKG51bGwsInRpdGxlIixkKTt2YXIgZT1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0aXRsZSIpOzA8ZS5sZW5ndGg/ZVswXS5maXJzdENoaWxkLnRleHRDb250ZW50PWQ6KGU9dGhpcy5ub2RlRmFjdG9yeShudWxsLCJ0aXRsZSIpLGUudGV4dENvbnRlbnQ9ZCxhLmFwcGVuZENoaWxkKGUpKX12YXIgZT1wYXJzZUZsb2F0KGEuZ2V0QXR0cmlidXRlTlMobnVsbCwiciIpKSxkPTEsZjtpZigiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCI9PWEuX2dlb21ldHJ5Q2xhc3MmJmUpe2Euc3R5bGUudmlzaWJpbGl0eT0iIjtpZighMT09PWIuZ3JhcGhpYylhLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiI7ZWxzZSBpZihiLmV4dGVybmFsR3JhcGhpYyl7Zj10aGlzLmdldFBvc2l0aW9uKGEpO2IuZ3JhcGhpY1dpZHRoJiZiLmdyYXBoaWNIZWlnaHQmJgphLnNldEF0dHJpYnV0ZU5TKG51bGwsInByZXNlcnZlQXNwZWN0UmF0aW8iLCJub25lIik7dmFyIGU9Yi5ncmFwaGljV2lkdGh8fGIuZ3JhcGhpY0hlaWdodCxnPWIuZ3JhcGhpY0hlaWdodHx8Yi5ncmFwaGljV2lkdGgsZT1lP2U6MipiLnBvaW50UmFkaXVzLGc9Zz9nOjIqYi5wb2ludFJhZGl1cyxoPXZvaWQgMCE9Yi5ncmFwaGljWU9mZnNldD9iLmdyYXBoaWNZT2Zmc2V0Oi0oMC41KmcpLGk9Yi5ncmFwaGljT3BhY2l0eXx8Yi5maWxsT3BhY2l0eTthLnNldEF0dHJpYnV0ZU5TKG51bGwsIngiLChmLngrKHZvaWQgMCE9Yi5ncmFwaGljWE9mZnNldD9iLmdyYXBoaWNYT2Zmc2V0Oi0oMC41KmUpKSkudG9GaXhlZCgpKTthLnNldEF0dHJpYnV0ZU5TKG51bGwsInkiLChmLnkraCkudG9GaXhlZCgpKTthLnNldEF0dHJpYnV0ZU5TKG51bGwsIndpZHRoIixlKTthLnNldEF0dHJpYnV0ZU5TKG51bGwsImhlaWdodCIsZyk7YS5zZXRBdHRyaWJ1dGVOUyh0aGlzLnhsaW5rbnMsInhsaW5rOmhyZWYiLApiLmV4dGVybmFsR3JhcGhpYyk7YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJzdHlsZSIsIm9wYWNpdHk6ICIraSk7YS5vbmNsaWNrPU9wZW5MYXllcnMuRXZlbnQucHJldmVudERlZmF1bHR9ZWxzZSBpZih0aGlzLmlzQ29tcGxleFN5bWJvbChiLmdyYXBoaWNOYW1lKSl7dmFyIGU9MypiLnBvaW50UmFkaXVzLGc9MiplLGo9dGhpcy5pbXBvcnRTeW1ib2woYi5ncmFwaGljTmFtZSk7Zj10aGlzLmdldFBvc2l0aW9uKGEpO2Q9Myp0aGlzLnN5bWJvbE1ldHJpY3Nbai5pZF1bMF0vZztoPWEucGFyZW50Tm9kZTtpPWEubmV4dFNpYmxpbmc7aCYmaC5yZW1vdmVDaGlsZChhKTthLmZpcnN0Q2hpbGQmJmEucmVtb3ZlQ2hpbGQoYS5maXJzdENoaWxkKTthLmFwcGVuZENoaWxkKGouZmlyc3RDaGlsZC5jbG9uZU5vZGUoITApKTthLnNldEF0dHJpYnV0ZU5TKG51bGwsInZpZXdCb3giLGouZ2V0QXR0cmlidXRlTlMobnVsbCwidmlld0JveCIpKTthLnNldEF0dHJpYnV0ZU5TKG51bGwsIndpZHRoIiwKZyk7YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJoZWlnaHQiLGcpO2Euc2V0QXR0cmlidXRlTlMobnVsbCwieCIsZi54LWUpO2Euc2V0QXR0cmlidXRlTlMobnVsbCwieSIsZi55LWUpO2k/aC5pbnNlcnRCZWZvcmUoYSxpKTpoJiZoLmFwcGVuZENoaWxkKGEpfWVsc2UgYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJyIixiLnBvaW50UmFkaXVzKTtlPWIucm90YXRpb247aWYoKHZvaWQgMCE9PWV8fHZvaWQgMCE9PWEuX3JvdGF0aW9uKSYmZilhLl9yb3RhdGlvbj1lLGV8PTAsInN2ZyIhPT1hLm5vZGVOYW1lP2Euc2V0QXR0cmlidXRlTlMobnVsbCwidHJhbnNmb3JtIiwicm90YXRlKCIrZSsiICIrZi54KyIgIitmLnkrIikiKTooZj10aGlzLnN5bWJvbE1ldHJpY3Nbai5pZF0sYS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZU5TKG51bGwsInRyYW5zZm9ybSIsInJvdGF0ZSgiK2UrIiAiK2ZbMV0rIiAiK2ZbMl0rIikiKSl9Yy5pc0ZpbGxlZD8oYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmaWxsIixiLmZpbGxDb2xvciksCmEuc2V0QXR0cmlidXRlTlMobnVsbCwiZmlsbC1vcGFjaXR5IixiLmZpbGxPcGFjaXR5KSk6YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmaWxsIiwibm9uZSIpO2MuaXNTdHJva2VkPyhhLnNldEF0dHJpYnV0ZU5TKG51bGwsInN0cm9rZSIsYi5zdHJva2VDb2xvciksYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJzdHJva2Utb3BhY2l0eSIsYi5zdHJva2VPcGFjaXR5KSxhLnNldEF0dHJpYnV0ZU5TKG51bGwsInN0cm9rZS13aWR0aCIsYi5zdHJva2VXaWR0aCpkKSxhLnNldEF0dHJpYnV0ZU5TKG51bGwsInN0cm9rZS1saW5lY2FwIixiLnN0cm9rZUxpbmVjYXB8fCJyb3VuZCIpLGEuc2V0QXR0cmlidXRlTlMobnVsbCwic3Ryb2tlLWxpbmVqb2luIiwicm91bmQiKSxiLnN0cm9rZURhc2hzdHlsZSYmYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJzdHJva2UtZGFzaGFycmF5Iix0aGlzLmRhc2hTdHlsZShiLGQpKSk6YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJzdHJva2UiLCJub25lIik7Yi5wb2ludGVyRXZlbnRzJiYKYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJwb2ludGVyLWV2ZW50cyIsYi5wb2ludGVyRXZlbnRzKTtudWxsIT1iLmN1cnNvciYmYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJjdXJzb3IiLGIuY3Vyc29yKTtyZXR1cm4gYX0sZGFzaFN0eWxlOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5zdHJva2VXaWR0aCpiLGQ9YS5zdHJva2VEYXNoc3R5bGU7c3dpdGNoKGQpe2Nhc2UgInNvbGlkIjpyZXR1cm4ibm9uZSI7Y2FzZSAiZG90IjpyZXR1cm5bMSw0KmNdLmpvaW4oKTtjYXNlICJkYXNoIjpyZXR1cm5bNCpjLDQqY10uam9pbigpO2Nhc2UgImRhc2hkb3QiOnJldHVybls0KmMsNCpjLDEsNCpjXS5qb2luKCk7Y2FzZSAibG9uZ2Rhc2giOnJldHVybls4KmMsNCpjXS5qb2luKCk7Y2FzZSAibG9uZ2Rhc2hkb3QiOnJldHVybls4KmMsNCpjLDEsNCpjXS5qb2luKCk7ZGVmYXVsdDpyZXR1cm4gT3BlbkxheWVycy5TdHJpbmcudHJpbShkKS5yZXBsYWNlKC9ccysvZywiLCIpfX0sY3JlYXRlTm9kZTpmdW5jdGlvbihhLApiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlModGhpcy54bWxucyxhKTtiJiZjLnNldEF0dHJpYnV0ZU5TKG51bGwsImlkIixiKTtyZXR1cm4gY30sbm9kZVR5cGVDb21wYXJlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI9PWEubm9kZU5hbWV9LGNyZWF0ZVJlbmRlclJvb3Q6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm5vZGVGYWN0b3J5KHRoaXMuY29udGFpbmVyLmlkKyJfc3ZnUm9vdCIsInN2ZyIpO2Euc3R5bGUuZGlzcGxheT0iYmxvY2siO3JldHVybiBhfSxjcmVhdGVSb290OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm5vZGVGYWN0b3J5KHRoaXMuY29udGFpbmVyLmlkK2EsImciKX0sY3JlYXRlRGVmczpmdW5jdGlvbigpe3ZhciBhPXRoaXMubm9kZUZhY3RvcnkodGhpcy5jb250YWluZXIuaWQrIl9kZWZzIiwiZGVmcyIpO3RoaXMucmVuZGVyZXJSb290LmFwcGVuZENoaWxkKGEpO3JldHVybiBhfSxkcmF3UG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5kcmF3Q2lyY2xlKGEsCmIsMSl9LGRyYXdDaXJjbGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZ2V0UmVzb2x1dGlvbigpLGU9KGIueC10aGlzLmZlYXR1cmVEeCkvZCt0aGlzLmxlZnQsYj10aGlzLnRvcC1iLnkvZDtyZXR1cm4gdGhpcy5pblZhbGlkUmFuZ2UoZSxiKT8oYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJjeCIsZSksYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJjeSIsYiksYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJyIixjKSxhKTohMX0sZHJhd0xpbmVTdHJpbmc6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENvbXBvbmVudHNTdHJpbmcoYi5jb21wb25lbnRzKTtyZXR1cm4gYy5wYXRoPyhhLnNldEF0dHJpYnV0ZU5TKG51bGwsInBvaW50cyIsYy5wYXRoKSxjLmNvbXBsZXRlP2E6bnVsbCk6ITF9LGRyYXdMaW5lYXJSaW5nOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDb21wb25lbnRzU3RyaW5nKGIuY29tcG9uZW50cyk7cmV0dXJuIGMucGF0aD8oYS5zZXRBdHRyaWJ1dGVOUyhudWxsLAoicG9pbnRzIixjLnBhdGgpLGMuY29tcGxldGU/YTpudWxsKTohMX0sZHJhd1BvbHlnb246ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9IiIsZD0hMCxlPSEwLGYsZyxoPTAsaT1iLmNvbXBvbmVudHMubGVuZ3RoO2g8aTtoKyspYys9IiBNIixmPXRoaXMuZ2V0Q29tcG9uZW50c1N0cmluZyhiLmNvbXBvbmVudHNbaF0uY29tcG9uZW50cywiICIpLChnPWYucGF0aCk/KGMrPSIgIitnLGU9Zi5jb21wbGV0ZSYmZSk6ZD0hMTtyZXR1cm4gZD8oYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJkIixjKyIgeiIpLGEuc2V0QXR0cmlidXRlTlMobnVsbCwiZmlsbC1ydWxlIiwiZXZlbm9kZCIpLGU/YTpudWxsKTohMX0sZHJhd1JlY3RhbmdsZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0UmVzb2x1dGlvbigpLGQ9KGIueC10aGlzLmZlYXR1cmVEeCkvYyt0aGlzLmxlZnQsZT10aGlzLnRvcC1iLnkvYztyZXR1cm4gdGhpcy5pblZhbGlkUmFuZ2UoZCxlKT8oYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ4IiwKZCksYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ5IixlKSxhLnNldEF0dHJpYnV0ZU5TKG51bGwsIndpZHRoIixiLndpZHRoL2MpLGEuc2V0QXR0cmlidXRlTlMobnVsbCwiaGVpZ2h0IixiLmhlaWdodC9jKSxhKTohMX0sZHJhd1RleHQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSEhYi5sYWJlbE91dGxpbmVXaWR0aDtpZihkKXt2YXIgZT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LGIpO2UuZm9udENvbG9yPWUubGFiZWxPdXRsaW5lQ29sb3I7ZS5mb250U3Ryb2tlQ29sb3I9ZS5sYWJlbE91dGxpbmVDb2xvcjtlLmZvbnRTdHJva2VXaWR0aD1iLmxhYmVsT3V0bGluZVdpZHRoO2IubGFiZWxPdXRsaW5lT3BhY2l0eSYmKGUuZm9udE9wYWNpdHk9Yi5sYWJlbE91dGxpbmVPcGFjaXR5KTtkZWxldGUgZS5sYWJlbE91dGxpbmVXaWR0aDt0aGlzLmRyYXdUZXh0KGEsZSxjKX12YXIgZj10aGlzLmdldFJlc29sdXRpb24oKSxlPShjLngtdGhpcy5mZWF0dXJlRHgpL2YrdGhpcy5sZWZ0LGc9Yy55LwpmLXRoaXMudG9wLGQ9ZD90aGlzLkxBQkVMX09VVExJTkVfU1VGRklYOnRoaXMuTEFCRUxfSURfU1VGRklYLGY9dGhpcy5ub2RlRmFjdG9yeShhK2QsInRleHQiKTtmLnNldEF0dHJpYnV0ZU5TKG51bGwsIngiLGUpO2Yuc2V0QXR0cmlidXRlTlMobnVsbCwieSIsLWcpO2IuZm9udENvbG9yJiZmLnNldEF0dHJpYnV0ZU5TKG51bGwsImZpbGwiLGIuZm9udENvbG9yKTtiLmZvbnRTdHJva2VDb2xvciYmZi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJzdHJva2UiLGIuZm9udFN0cm9rZUNvbG9yKTtiLmZvbnRTdHJva2VXaWR0aCYmZi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJzdHJva2Utd2lkdGgiLGIuZm9udFN0cm9rZVdpZHRoKTtiLmZvbnRPcGFjaXR5JiZmLnNldEF0dHJpYnV0ZU5TKG51bGwsIm9wYWNpdHkiLGIuZm9udE9wYWNpdHkpO2IuZm9udEZhbWlseSYmZi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmb250LWZhbWlseSIsYi5mb250RmFtaWx5KTtiLmZvbnRTaXplJiZmLnNldEF0dHJpYnV0ZU5TKG51bGwsCiJmb250LXNpemUiLGIuZm9udFNpemUpO2IuZm9udFdlaWdodCYmZi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmb250LXdlaWdodCIsYi5mb250V2VpZ2h0KTtiLmZvbnRTdHlsZSYmZi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmb250LXN0eWxlIixiLmZvbnRTdHlsZSk7ITA9PT1iLmxhYmVsU2VsZWN0PyhmLnNldEF0dHJpYnV0ZU5TKG51bGwsInBvaW50ZXItZXZlbnRzIiwidmlzaWJsZSIpLGYuX2ZlYXR1cmVJZD1hKTpmLnNldEF0dHJpYnV0ZU5TKG51bGwsInBvaW50ZXItZXZlbnRzIiwibm9uZSIpO2c9Yi5sYWJlbEFsaWdufHxPcGVuTGF5ZXJzLlJlbmRlcmVyLmRlZmF1bHRTeW1ib2xpemVyLmxhYmVsQWxpZ247Zi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ0ZXh0LWFuY2hvciIsT3BlbkxheWVycy5SZW5kZXJlci5TVkcuTEFCRUxfQUxJR05bZ1swXV18fCJtaWRkbGUiKTshMD09PU9wZW5MYXllcnMuSVNfR0VDS08mJmYuc2V0QXR0cmlidXRlTlMobnVsbCwiZG9taW5hbnQtYmFzZWxpbmUiLApPcGVuTGF5ZXJzLlJlbmRlcmVyLlNWRy5MQUJFTF9BTElHTltnWzFdXXx8ImNlbnRyYWwiKTtmb3IodmFyIGg9Yi5sYWJlbC5zcGxpdCgiXG4iKSxpPWgubGVuZ3RoO2YuY2hpbGROb2Rlcy5sZW5ndGg+aTspZi5yZW1vdmVDaGlsZChmLmxhc3RDaGlsZCk7Zm9yKHZhciBqPTA7ajxpO2orKyl7dmFyIGs9dGhpcy5ub2RlRmFjdG9yeShhK2QrIl90c3Bhbl8iK2osInRzcGFuIik7ITA9PT1iLmxhYmVsU2VsZWN0JiYoay5fZmVhdHVyZUlkPWEsay5fZ2VvbWV0cnk9YyxrLl9nZW9tZXRyeUNsYXNzPWMuQ0xBU1NfTkFNRSk7ITE9PT1PcGVuTGF5ZXJzLklTX0dFQ0tPJiZrLnNldEF0dHJpYnV0ZU5TKG51bGwsImJhc2VsaW5lLXNoaWZ0IixPcGVuTGF5ZXJzLlJlbmRlcmVyLlNWRy5MQUJFTF9WU0hJRlRbZ1sxXV18fCItMzUlIik7ay5zZXRBdHRyaWJ1dGUoIngiLGUpO2lmKDA9PWope3ZhciBsPU9wZW5MYXllcnMuUmVuZGVyZXIuU1ZHLkxBQkVMX1ZGQUNUT1JbZ1sxXV07bnVsbD09bCYmCihsPS0wLjUpO2suc2V0QXR0cmlidXRlKCJkeSIsbCooaS0xKSsiZW0iKX1lbHNlIGsuc2V0QXR0cmlidXRlKCJkeSIsIjFlbSIpO2sudGV4dENvbnRlbnQ9IiI9PT1oW2pdPyIgIjpoW2pdO2sucGFyZW50Tm9kZXx8Zi5hcHBlbmRDaGlsZChrKX1mLnBhcmVudE5vZGV8fHRoaXMudGV4dFJvb3QuYXBwZW5kQ2hpbGQoZil9LGdldENvbXBvbmVudHNTdHJpbmc6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9W10sZD0hMCxlPWEubGVuZ3RoLGY9W10sZyxoPTA7aDxlO2grKylnPWFbaF0sYy5wdXNoKGcpLChnPXRoaXMuZ2V0U2hvcnRTdHJpbmcoZykpP2YucHVzaChnKTooMDxoJiZ0aGlzLmdldFNob3J0U3RyaW5nKGFbaC0xXSkmJmYucHVzaCh0aGlzLmNsaXBMaW5lKGFbaF0sYVtoLTFdKSksaDxlLTEmJnRoaXMuZ2V0U2hvcnRTdHJpbmcoYVtoKzFdKSYmZi5wdXNoKHRoaXMuY2xpcExpbmUoYVtoXSxhW2grMV0pKSxkPSExKTtyZXR1cm57cGF0aDpmLmpvaW4oYnx8IiwiKSxjb21wbGV0ZTpkfX0sCmNsaXBMaW5lOmZ1bmN0aW9uKGEsYil7aWYoYi5lcXVhbHMoYSkpcmV0dXJuIiI7dmFyIGM9dGhpcy5nZXRSZXNvbHV0aW9uKCksZD10aGlzLk1BWF9QSVhFTC10aGlzLnRyYW5zbGF0aW9uUGFyYW1ldGVycy54LGU9dGhpcy5NQVhfUElYRUwtdGhpcy50cmFuc2xhdGlvblBhcmFtZXRlcnMueSxmPShiLngtdGhpcy5mZWF0dXJlRHgpL2MrdGhpcy5sZWZ0LGc9dGhpcy50b3AtYi55L2MsaD0oYS54LXRoaXMuZmVhdHVyZUR4KS9jK3RoaXMubGVmdCxjPXRoaXMudG9wLWEueS9jLGk7aWYoaDwtZHx8aD5kKWk9KGMtZykvKGgtZiksaD0wPmg/LWQ6ZCxjPWcrKGgtZikqaTtpZihjPC1lfHxjPmUpaT0oaC1mKS8oYy1nKSxjPTA+Yz8tZTplLGg9ZisoYy1nKSppO3JldHVybiBoKyIsIitjfSxnZXRTaG9ydFN0cmluZzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFJlc29sdXRpb24oKSxjPShhLngtdGhpcy5mZWF0dXJlRHgpL2IrdGhpcy5sZWZ0LGE9dGhpcy50b3AtYS55L2I7cmV0dXJuIHRoaXMuaW5WYWxpZFJhbmdlKGMsCmEpP2MrIiwiK2E6ITF9LGdldFBvc2l0aW9uOmZ1bmN0aW9uKGEpe3JldHVybnt4OnBhcnNlRmxvYXQoYS5nZXRBdHRyaWJ1dGVOUyhudWxsLCJjeCIpKSx5OnBhcnNlRmxvYXQoYS5nZXRBdHRyaWJ1dGVOUyhudWxsLCJjeSIpKX19LGltcG9ydFN5bWJvbDpmdW5jdGlvbihhKXt0aGlzLmRlZnN8fCh0aGlzLmRlZnM9dGhpcy5jcmVhdGVEZWZzKCkpO3ZhciBiPXRoaXMuY29udGFpbmVyLmlkKyItIithLGM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYik7aWYobnVsbCE9YylyZXR1cm4gYzt2YXIgZD1PcGVuTGF5ZXJzLlJlbmRlcmVyLnN5bWJvbFthXTtpZighZCl0aHJvdyBFcnJvcihhKyIgaXMgbm90IGEgdmFsaWQgc3ltYm9sIG5hbWUiKTt2YXIgYT10aGlzLm5vZGVGYWN0b3J5KGIsInN5bWJvbCIpLGU9dGhpcy5ub2RlRmFjdG9yeShudWxsLCJwb2x5Z29uIik7YS5hcHBlbmRDaGlsZChlKTtmb3IodmFyIGM9bmV3IE9wZW5MYXllcnMuQm91bmRzKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSwKMCwwKSxmPVtdLGcsaCxpPTA7aTxkLmxlbmd0aDtpKz0yKWc9ZFtpXSxoPWRbaSsxXSxjLmxlZnQ9TWF0aC5taW4oYy5sZWZ0LGcpLGMuYm90dG9tPU1hdGgubWluKGMuYm90dG9tLGgpLGMucmlnaHQ9TWF0aC5tYXgoYy5yaWdodCxnKSxjLnRvcD1NYXRoLm1heChjLnRvcCxoKSxmLnB1c2goZywiLCIsaCk7ZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJwb2ludHMiLGYuam9pbigiICIpKTtkPWMuZ2V0V2lkdGgoKTtlPWMuZ2V0SGVpZ2h0KCk7YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ2aWV3Qm94IixbYy5sZWZ0LWQsYy5ib3R0b20tZSwzKmQsMyplXS5qb2luKCIgIikpO3RoaXMuc3ltYm9sTWV0cmljc1tiXT1bTWF0aC5tYXgoZCxlKSxjLmdldENlbnRlckxvbkxhdCgpLmxvbixjLmdldENlbnRlckxvbkxhdCgpLmxhdF07dGhpcy5kZWZzLmFwcGVuZENoaWxkKGEpO3JldHVybiBhfSxnZXRGZWF0dXJlSWRGcm9tRXZlbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9T3BlbkxheWVycy5SZW5kZXJlci5FbGVtZW50cy5wcm90b3R5cGUuZ2V0RmVhdHVyZUlkRnJvbUV2ZW50LmFwcGx5KHRoaXMsCmFyZ3VtZW50cyk7Ynx8KGI9YS50YXJnZXQsYj1iLnBhcmVudE5vZGUmJmIhPXRoaXMucmVuZGVyZXJSb290P2IucGFyZW50Tm9kZS5fZmVhdHVyZUlkOnZvaWQgMCk7cmV0dXJuIGJ9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuUmVuZGVyZXIuU1ZHIn0pO09wZW5MYXllcnMuUmVuZGVyZXIuU1ZHLkxBQkVMX0FMSUdOPXtsOiJzdGFydCIscjoiZW5kIixiOiJib3R0b20iLHQ6ImhhbmdpbmcifTtPcGVuTGF5ZXJzLlJlbmRlcmVyLlNWRy5MQUJFTF9WU0hJRlQ9e3Q6Ii03MCUiLGI6IjAifTtPcGVuTGF5ZXJzLlJlbmRlcmVyLlNWRy5MQUJFTF9WRkFDVE9SPXt0OjAsYjotMX07T3BlbkxheWVycy5SZW5kZXJlci5TVkcucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5FdmVudC5wcmV2ZW50RGVmYXVsdChhKX07T3BlbkxheWVycy5SdWxlPU9wZW5MYXllcnMuQ2xhc3Moe2lkOm51bGwsbmFtZTpudWxsLHRpdGxlOm51bGwsZGVzY3JpcHRpb246bnVsbCxjb250ZXh0Om51bGwsZmlsdGVyOm51bGwsZWxzZUZpbHRlcjohMSxzeW1ib2xpemVyOm51bGwsc3ltYm9saXplcnM6bnVsbCxtaW5TY2FsZURlbm9taW5hdG9yOm51bGwsbWF4U2NhbGVEZW5vbWluYXRvcjpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7dGhpcy5zeW1ib2xpemVyPXt9O09wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcyxhKTt0aGlzLnN5bWJvbGl6ZXJzJiZkZWxldGUgdGhpcy5zeW1ib2xpemVyO3RoaXMuaWQ9T3BlbkxheWVycy5VdGlsLmNyZWF0ZVVuaXF1ZUlEKHRoaXMuQ0xBU1NfTkFNRSsiXyIpfSxkZXN0cm95OmZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuc3ltYm9saXplcil0aGlzLnN5bWJvbGl6ZXJbYV09bnVsbDt0aGlzLnN5bWJvbGl6ZXI9bnVsbDtkZWxldGUgdGhpcy5zeW1ib2xpemVyc30sZXZhbHVhdGU6ZnVuY3Rpb24oYSl7dmFyIGI9CnRoaXMuZ2V0Q29udGV4dChhKSxjPSEwO2lmKHRoaXMubWluU2NhbGVEZW5vbWluYXRvcnx8dGhpcy5tYXhTY2FsZURlbm9taW5hdG9yKXZhciBkPWEubGF5ZXIubWFwLmdldFNjYWxlKCk7dGhpcy5taW5TY2FsZURlbm9taW5hdG9yJiYoYz1kPj1PcGVuTGF5ZXJzLlN0eWxlLmNyZWF0ZUxpdGVyYWwodGhpcy5taW5TY2FsZURlbm9taW5hdG9yLGIpKTtjJiZ0aGlzLm1heFNjYWxlRGVub21pbmF0b3ImJihjPWQ8T3BlbkxheWVycy5TdHlsZS5jcmVhdGVMaXRlcmFsKHRoaXMubWF4U2NhbGVEZW5vbWluYXRvcixiKSk7YyYmdGhpcy5maWx0ZXImJihjPSJPcGVuTGF5ZXJzLkZpbHRlci5GZWF0dXJlSWQiPT10aGlzLmZpbHRlci5DTEFTU19OQU1FP3RoaXMuZmlsdGVyLmV2YWx1YXRlKGEpOnRoaXMuZmlsdGVyLmV2YWx1YXRlKGIpKTtyZXR1cm4gY30sZ2V0Q29udGV4dDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNvbnRleHQ7Ynx8KGI9YS5hdHRyaWJ1dGVzfHxhLmRhdGEpOyJmdW5jdGlvbiI9PQp0eXBlb2YgdGhpcy5jb250ZXh0JiYoYj10aGlzLmNvbnRleHQoYSkpO3JldHVybiBifSxjbG9uZTpmdW5jdGlvbigpe3ZhciBhPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe30sdGhpcyk7aWYodGhpcy5zeW1ib2xpemVycyl7dmFyIGI9dGhpcy5zeW1ib2xpemVycy5sZW5ndGg7YS5zeW1ib2xpemVycz1BcnJheShiKTtmb3IodmFyIGM9MDtjPGI7KytjKWEuc3ltYm9saXplcnNbY109dGhpcy5zeW1ib2xpemVyc1tjXS5jbG9uZSgpfWVsc2V7YS5zeW1ib2xpemVyPXt9O2Zvcih2YXIgZCBpbiB0aGlzLnN5bWJvbGl6ZXIpYj10aGlzLnN5bWJvbGl6ZXJbZF0sYz10eXBlb2YgYiwib2JqZWN0Ij09PWM/YS5zeW1ib2xpemVyW2RdPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe30sYik6InN0cmluZyI9PT1jJiYoYS5zeW1ib2xpemVyW2RdPWIpfWEuZmlsdGVyPXRoaXMuZmlsdGVyJiZ0aGlzLmZpbHRlci5jbG9uZSgpO2EuY29udGV4dD10aGlzLmNvbnRleHQmJk9wZW5MYXllcnMuVXRpbC5leHRlbmQoe30sCnRoaXMuY29udGV4dCk7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLlJ1bGUoYSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuUnVsZSJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5TTEQ9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwuVmVyc2lvbmVkT0dDLHtwcm9maWxlOm51bGwsZGVmYXVsdFZlcnNpb246IjEuMC4wIixzdHJpbmdpZnlPdXRwdXQ6ITAsbmFtZWRMYXllcnNBc0FycmF5OiExLENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LlNMRCJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIudjFfMF8wPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuR01MLnYyLE9wZW5MYXllcnMuRm9ybWF0LkZpbHRlci52MSx7VkVSU0lPTjoiMS4wLjAiLHNjaGVtYUxvY2F0aW9uOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L29nYy9maWx0ZXIvMS4wLjAvZmlsdGVyLnhzZCIsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjIucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pfSxyZWFkZXJzOntvZ2M6T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe1Byb3BlcnR5SXNFcXVhbFRvOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IE9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24oe3R5cGU6T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5FUVVBTF9UT30pO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLmZpbHRlcnMucHVzaChjKX0sUHJvcGVydHlJc05vdEVxdWFsVG86ZnVuY3Rpb24oYSwKYil7dmFyIGM9bmV3IE9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24oe3R5cGU6T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5OT1RfRVFVQUxfVE99KTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5maWx0ZXJzLnB1c2goYyl9LFByb3BlcnR5SXNMaWtlOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IE9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24oe3R5cGU6T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5MSUtFfSk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO3ZhciBkPWEuZ2V0QXR0cmlidXRlKCJ3aWxkQ2FyZCIpLGU9YS5nZXRBdHRyaWJ1dGUoInNpbmdsZUNoYXIiKSxmPWEuZ2V0QXR0cmlidXRlKCJlc2NhcGUiKTtjLnZhbHVlMnJlZ2V4KGQsZSxmKTtiLmZpbHRlcnMucHVzaChjKX19LE9wZW5MYXllcnMuRm9ybWF0LkZpbHRlci52MS5wcm90b3R5cGUucmVhZGVycy5vZ2MpLGdtbDpPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjIucHJvdG90eXBlLnJlYWRlcnMuZ21sLApmZWF0dXJlOk9wZW5MYXllcnMuRm9ybWF0LkdNTC52Mi5wcm90b3R5cGUucmVhZGVycy5mZWF0dXJlfSx3cml0ZXJzOntvZ2M6T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe1Byb3BlcnR5SXNFcXVhbFRvOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOlByb3BlcnR5SXNFcXVhbFRvIik7dGhpcy53cml0ZU5vZGUoIlByb3BlcnR5TmFtZSIsYSxiKTt0aGlzLndyaXRlT2djRXhwcmVzc2lvbihhLnZhbHVlLGIpO3JldHVybiBifSxQcm9wZXJ0eUlzTm90RXF1YWxUbzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIm9nYzpQcm9wZXJ0eUlzTm90RXF1YWxUbyIpO3RoaXMud3JpdGVOb2RlKCJQcm9wZXJ0eU5hbWUiLGEsYik7dGhpcy53cml0ZU9nY0V4cHJlc3Npb24oYS52YWx1ZSxiKTtyZXR1cm4gYn0sUHJvcGVydHlJc0xpa2U6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6UHJvcGVydHlJc0xpa2UiLAp7YXR0cmlidXRlczp7d2lsZENhcmQ6IioiLHNpbmdsZUNoYXI6Ii4iLGVzY2FwZToiISJ9fSk7dGhpcy53cml0ZU5vZGUoIlByb3BlcnR5TmFtZSIsYSxiKTt0aGlzLndyaXRlTm9kZSgiTGl0ZXJhbCIsYS5yZWdleDJ2YWx1ZSgpLGIpO3JldHVybiBifSxCQk9YOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOkJCT1giKTthLnByb3BlcnR5JiZ0aGlzLndyaXRlTm9kZSgiUHJvcGVydHlOYW1lIixhLGIpO3ZhciBjPXRoaXMud3JpdGVOb2RlKCJnbWw6Qm94IixhLnZhbHVlLGIpO2EucHJvamVjdGlvbiYmYy5zZXRBdHRyaWJ1dGUoInNyc05hbWUiLGEucHJvamVjdGlvbik7cmV0dXJuIGJ9fSxPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIudjEucHJvdG90eXBlLndyaXRlcnMub2djKSxnbWw6T3BlbkxheWVycy5Gb3JtYXQuR01MLnYyLnByb3RvdHlwZS53cml0ZXJzLmdtbCxmZWF0dXJlOk9wZW5MYXllcnMuRm9ybWF0LkdNTC52Mi5wcm90b3R5cGUud3JpdGVycy5mZWF0dXJlfSwKd3JpdGVTcGF0aWFsOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZ2M6IitiKTt0aGlzLndyaXRlTm9kZSgiUHJvcGVydHlOYW1lIixhLGMpO2lmKGEudmFsdWUgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkZpbHRlci5GdW5jdGlvbil0aGlzLndyaXRlTm9kZSgiRnVuY3Rpb24iLGEudmFsdWUsYyk7ZWxzZXt2YXIgZDtkPWEudmFsdWUgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkdlb21ldHJ5P3RoaXMud3JpdGVOb2RlKCJmZWF0dXJlOl9nZW9tZXRyeSIsYS52YWx1ZSkuZmlyc3RDaGlsZDp0aGlzLndyaXRlTm9kZSgiZ21sOkJveCIsYS52YWx1ZSk7YS5wcm9qZWN0aW9uJiZkLnNldEF0dHJpYnV0ZSgic3JzTmFtZSIsYS5wcm9qZWN0aW9uKTtjLmFwcGVuZENoaWxkKGQpfXJldHVybiBjfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIudjFfMF8wIn0pO09wZW5MYXllcnMuU3ltYm9saXplci5Qb2ludD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuU3ltYm9saXplcix7aW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlN5bWJvbGl6ZXIucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlN5bWJvbGl6ZXIuUG9pbnQifSk7T3BlbkxheWVycy5TeW1ib2xpemVyLlRleHQ9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlN5bWJvbGl6ZXIse2luaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5TeW1ib2xpemVyLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5TeW1ib2xpemVyLlRleHQifSk7T3BlbkxheWVycy5Gb3JtYXQuU0xELnYxPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuRmlsdGVyLnYxXzBfMCx7bmFtZXNwYWNlczp7c2xkOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3NsZCIsb2djOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L29nYyIsZ21sOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbCIseGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UifSxkZWZhdWx0UHJlZml4OiJzbGQiLHNjaGVtYUxvY2F0aW9uOm51bGwsbXVsdGlwbGVTeW1ib2xpemVyczohMSxmZWF0dXJlVHlwZUNvdW50ZXI6bnVsbCxkZWZhdWx0U3ltYm9saXplcjp7ZmlsbENvbG9yOiIjODA4MDgwIixmaWxsT3BhY2l0eToxLHN0cm9rZUNvbG9yOiIjMDAwMDAwIixzdHJva2VPcGFjaXR5OjEsc3Ryb2tlV2lkdGg6MSxzdHJva2VEYXNoc3R5bGU6InNvbGlkIixwb2ludFJhZGl1czozLApncmFwaGljTmFtZToic3F1YXJlIn0scmVhZDpmdW5jdGlvbihhLGIpe3ZhciBiPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGIsdGhpcy5vcHRpb25zKSxjPXtuYW1lZExheWVyczohMD09PWIubmFtZWRMYXllcnNBc0FycmF5P1tdOnt9fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7cmV0dXJuIGN9LHJlYWRlcnM6T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3NsZDp7U3R5bGVkTGF5ZXJEZXNjcmlwdG9yOmZ1bmN0aW9uKGEsYil7Yi52ZXJzaW9uPWEuZ2V0QXR0cmlidXRlKCJ2ZXJzaW9uIik7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxOYW1lOmZ1bmN0aW9uKGEsYil7Yi5uYW1lPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sVGl0bGU6ZnVuY3Rpb24oYSxiKXtiLnRpdGxlPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sQWJzdHJhY3Q6ZnVuY3Rpb24oYSxiKXtiLmRlc2NyaXB0aW9uPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sTmFtZWRMYXllcjpmdW5jdGlvbihhLGIpe3ZhciBjPQp7dXNlclN0eWxlczpbXSxuYW1lZFN0eWxlczpbXX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2Zvcih2YXIgZD0wLGU9Yy51c2VyU3R5bGVzLmxlbmd0aDtkPGU7KytkKWMudXNlclN0eWxlc1tkXS5sYXllck5hbWU9Yy5uYW1lO09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGIubmFtZWRMYXllcnMpP2IubmFtZWRMYXllcnMucHVzaChjKTpiLm5hbWVkTGF5ZXJzW2MubmFtZV09Y30sTmFtZWRTdHlsZTpmdW5jdGlvbihhLGIpe2IubmFtZWRTdHlsZXMucHVzaCh0aGlzLmdldENoaWxkTmFtZShhLmZpcnN0Q2hpbGQpKX0sVXNlclN0eWxlOmZ1bmN0aW9uKGEsYil7dmFyIGM9e2RlZmF1bHRzUGVyU3ltYm9saXplcjohMCxydWxlczpbXX07dGhpcy5mZWF0dXJlVHlwZUNvdW50ZXI9LTE7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO3RoaXMubXVsdGlwbGVTeW1ib2xpemVycz8oZGVsZXRlIGMuZGVmYXVsdHNQZXJTeW1ib2xpemVyLGM9bmV3IE9wZW5MYXllcnMuU3R5bGUyKGMpKTpjPW5ldyBPcGVuTGF5ZXJzLlN0eWxlKHRoaXMuZGVmYXVsdFN5bWJvbGl6ZXIsCmMpO2IudXNlclN0eWxlcy5wdXNoKGMpfSxJc0RlZmF1bHQ6ZnVuY3Rpb24oYSxiKXsiMSI9PXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSYmKGIuaXNEZWZhdWx0PSEwKX0sRmVhdHVyZVR5cGVTdHlsZTpmdW5jdGlvbihhLGIpeysrdGhpcy5mZWF0dXJlVHlwZUNvdW50ZXI7dmFyIGM9e3J1bGVzOnRoaXMubXVsdGlwbGVTeW1ib2xpemVycz9iLnJ1bGVzOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7dGhpcy5tdWx0aXBsZVN5bWJvbGl6ZXJzfHwoYi5ydWxlcz1jLnJ1bGVzKX0sUnVsZTpmdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMubXVsdGlwbGVTeW1ib2xpemVycyYmKGM9e3N5bWJvbGl6ZXJzOltdfSk7Yz1uZXcgT3BlbkxheWVycy5SdWxlKGMpO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLnJ1bGVzLnB1c2goYyl9LEVsc2VGaWx0ZXI6ZnVuY3Rpb24oYSxiKXtiLmVsc2VGaWx0ZXI9ITB9LE1pblNjYWxlRGVub21pbmF0b3I6ZnVuY3Rpb24oYSxiKXtiLm1pblNjYWxlRGVub21pbmF0b3I9CnBhcnNlRmxvYXQodGhpcy5nZXRDaGlsZFZhbHVlKGEpKX0sTWF4U2NhbGVEZW5vbWluYXRvcjpmdW5jdGlvbihhLGIpe2IubWF4U2NhbGVEZW5vbWluYXRvcj1wYXJzZUZsb2F0KHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSl9LFRleHRTeW1ib2xpemVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO3RoaXMubXVsdGlwbGVTeW1ib2xpemVycz8oYy56SW5kZXg9dGhpcy5mZWF0dXJlVHlwZUNvdW50ZXIsYi5zeW1ib2xpemVycy5wdXNoKG5ldyBPcGVuTGF5ZXJzLlN5bWJvbGl6ZXIuVGV4dChjKSkpOmIuc3ltYm9saXplci5UZXh0PU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGMsYi5zeW1ib2xpemVyLlRleHQpfSxMYWJlbFBsYWNlbWVudDpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sUG9pbnRQbGFjZW1lbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yy5sYWJlbFJvdGF0aW9uPQpjLnJvdGF0aW9uO2RlbGV0ZSBjLnJvdGF0aW9uO3ZhciBkLGU9Yi5sYWJlbEFuY2hvclBvaW50WCxmPWIubGFiZWxBbmNob3JQb2ludFk7ZTw9MS8zP2Q9ImwiOmU+MS8zJiZlPDIvMz9kPSJjIjplPj0yLzMmJihkPSJyIik7Zjw9MS8zP2QrPSJiIjpmPjEvMyYmZjwyLzM/ZCs9Im0iOmY+PTIvMyYmKGQrPSJ0Iik7Yy5sYWJlbEFsaWduPWQ7T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYixjKX0sQW5jaG9yUG9pbnQ6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LEFuY2hvclBvaW50WDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucmVhZGVycy5vZ2MuX2V4cHJlc3Npb24uY2FsbCh0aGlzLGEpO2MmJihiLmxhYmVsQW5jaG9yUG9pbnRYPWMpfSxBbmNob3JQb2ludFk6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnJlYWRlcnMub2djLl9leHByZXNzaW9uLmNhbGwodGhpcyxhKTtjJiYoYi5sYWJlbEFuY2hvclBvaW50WT1jKX0sRGlzcGxhY2VtZW50OmZ1bmN0aW9uKGEsCmIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sRGlzcGxhY2VtZW50WDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucmVhZGVycy5vZ2MuX2V4cHJlc3Npb24uY2FsbCh0aGlzLGEpO2MmJihiLmxhYmVsWE9mZnNldD1jKX0sRGlzcGxhY2VtZW50WTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucmVhZGVycy5vZ2MuX2V4cHJlc3Npb24uY2FsbCh0aGlzLGEpO2MmJihiLmxhYmVsWU9mZnNldD1jKX0sTGluZVBsYWNlbWVudDpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sUGVycGVuZGljdWxhck9mZnNldDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucmVhZGVycy5vZ2MuX2V4cHJlc3Npb24uY2FsbCh0aGlzLGEpO2MmJihiLmxhYmVsUGVycGVuZGljdWxhck9mZnNldD1jKX0sTGFiZWw6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnJlYWRlcnMub2djLl9leHByZXNzaW9uLmNhbGwodGhpcyxhKTtjJiYoYi5sYWJlbD1PcGVuTGF5ZXJzLlN0cmluZy50cmltKGMpKX0sCkZvbnQ6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LEhhbG86ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5oYWxvUmFkaXVzPWMuaGFsb1JhZGl1cztiLmhhbG9Db2xvcj1jLmZpbGxDb2xvcjtiLmhhbG9PcGFjaXR5PWMuZmlsbE9wYWNpdHl9LFJhZGl1czpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucmVhZGVycy5vZ2MuX2V4cHJlc3Npb24uY2FsbCh0aGlzLGEpO251bGwhPWMmJihiLmhhbG9SYWRpdXM9Yyl9LFJhc3RlclN5bWJvbGl6ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7dGhpcy5tdWx0aXBsZVN5bWJvbGl6ZXJzPyhjLnpJbmRleD10aGlzLmZlYXR1cmVUeXBlQ291bnRlcixiLnN5bWJvbGl6ZXJzLnB1c2gobmV3IE9wZW5MYXllcnMuU3ltYm9saXplci5SYXN0ZXIoYykpKTpiLnN5bWJvbGl6ZXIuUmFzdGVyPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGMsCmIuc3ltYm9saXplci5SYXN0ZXIpfSxHZW9tZXRyeTpmdW5jdGlvbihhLGIpe2IuZ2VvbWV0cnk9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuZ2VvbWV0cnkpfSxDb2xvck1hcDpmdW5jdGlvbihhLGIpe2IuY29sb3JNYXA9W107dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuY29sb3JNYXApfSxDb2xvck1hcEVudHJ5OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRBdHRyaWJ1dGUoInF1YW50aXR5IiksZD1hLmdldEF0dHJpYnV0ZSgib3BhY2l0eSIpO2IucHVzaCh7Y29sb3I6YS5nZXRBdHRyaWJ1dGUoImNvbG9yIikscXVhbnRpdHk6bnVsbCE9PWM/cGFyc2VGbG9hdChjKTp2b2lkIDAsbGFiZWw6YS5nZXRBdHRyaWJ1dGUoImxhYmVsIil8fHZvaWQgMCxvcGFjaXR5Om51bGwhPT1kP3BhcnNlRmxvYXQoZCk6dm9pZCAwfSl9LExpbmVTeW1ib2xpemVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO3RoaXMubXVsdGlwbGVTeW1ib2xpemVycz8oYy56SW5kZXg9CnRoaXMuZmVhdHVyZVR5cGVDb3VudGVyLGIuc3ltYm9saXplcnMucHVzaChuZXcgT3BlbkxheWVycy5TeW1ib2xpemVyLkxpbmUoYykpKTpiLnN5bWJvbGl6ZXIuTGluZT1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhjLGIuc3ltYm9saXplci5MaW5lKX0sUG9seWdvblN5bWJvbGl6ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz17ZmlsbDohMSxzdHJva2U6ITF9O3RoaXMubXVsdGlwbGVTeW1ib2xpemVyc3x8KGM9Yi5zeW1ib2xpemVyLlBvbHlnb258fGMpO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTt0aGlzLm11bHRpcGxlU3ltYm9saXplcnM/KGMuekluZGV4PXRoaXMuZmVhdHVyZVR5cGVDb3VudGVyLGIuc3ltYm9saXplcnMucHVzaChuZXcgT3BlbkxheWVycy5TeW1ib2xpemVyLlBvbHlnb24oYykpKTpiLnN5bWJvbGl6ZXIuUG9seWdvbj1jfSxQb2ludFN5bWJvbGl6ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz17ZmlsbDohMSxzdHJva2U6ITEsZ3JhcGhpYzohMX07dGhpcy5tdWx0aXBsZVN5bWJvbGl6ZXJzfHwKKGM9Yi5zeW1ib2xpemVyLlBvaW50fHxjKTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7dGhpcy5tdWx0aXBsZVN5bWJvbGl6ZXJzPyhjLnpJbmRleD10aGlzLmZlYXR1cmVUeXBlQ291bnRlcixiLnN5bWJvbGl6ZXJzLnB1c2gobmV3IE9wZW5MYXllcnMuU3ltYm9saXplci5Qb2ludChjKSkpOmIuc3ltYm9saXplci5Qb2ludD1jfSxTdHJva2U6ZnVuY3Rpb24oYSxiKXtiLnN0cm9rZT0hMDt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LEZpbGw6ZnVuY3Rpb24oYSxiKXtiLmZpbGw9ITA7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxDc3NQYXJhbWV0ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldEF0dHJpYnV0ZSgibmFtZSIpLGQ9dGhpcy5jc3NNYXBbY107Yi5sYWJlbCYmKCJmaWxsIj09PWM/ZD0iZm9udENvbG9yIjoiZmlsbC1vcGFjaXR5Ij09PWMmJihkPSJmb250T3BhY2l0eSIpKTtkJiYoYz10aGlzLnJlYWRlcnMub2djLl9leHByZXNzaW9uLmNhbGwodGhpcyxhKSkmJihiW2RdPQpjKX0sR3JhcGhpYzpmdW5jdGlvbihhLGIpe2IuZ3JhcGhpYz0hMDt2YXIgYz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Zm9yKHZhciBkPSJzdHJva2Ugc3Ryb2tlQ29sb3Igc3Ryb2tlV2lkdGggc3Ryb2tlT3BhY2l0eSBzdHJva2VMaW5lY2FwIGZpbGwgZmlsbENvbG9yIGZpbGxPcGFjaXR5IGdyYXBoaWNOYW1lIHJvdGF0aW9uIGdyYXBoaWNGb3JtYXQiLnNwbGl0KCIgIiksZSxmLGc9MCxoPWQubGVuZ3RoO2c8aDsrK2cpZT1kW2ddLGY9Y1tlXSx2b2lkIDAhPWYmJihiW2VdPWYpO3ZvaWQgMCE9Yy5vcGFjaXR5JiYoYi5ncmFwaGljT3BhY2l0eT1jLm9wYWNpdHkpO3ZvaWQgMCE9Yy5zaXplJiYoaXNOYU4oYy5zaXplLzIpP2IuZ3JhcGhpY1dpZHRoPWMuc2l6ZTpiLnBvaW50UmFkaXVzPWMuc2l6ZS8yKTt2b2lkIDAhPWMuaHJlZiYmKGIuZXh0ZXJuYWxHcmFwaGljPWMuaHJlZik7dm9pZCAwIT1jLnJvdGF0aW9uJiYoYi5yb3RhdGlvbj1jLnJvdGF0aW9uKX0sRXh0ZXJuYWxHcmFwaGljOmZ1bmN0aW9uKGEsCmIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sTWFyazpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sV2VsbEtub3duTmFtZTpmdW5jdGlvbihhLGIpe2IuZ3JhcGhpY05hbWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxPcGFjaXR5OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5yZWFkZXJzLm9nYy5fZXhwcmVzc2lvbi5jYWxsKHRoaXMsYSk7YyYmKGIub3BhY2l0eT1jKX0sU2l6ZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucmVhZGVycy5vZ2MuX2V4cHJlc3Npb24uY2FsbCh0aGlzLGEpO2MmJihiLnNpemU9Yyl9LFJvdGF0aW9uOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5yZWFkZXJzLm9nYy5fZXhwcmVzc2lvbi5jYWxsKHRoaXMsYSk7YyYmKGIucm90YXRpb249Yyl9LE9ubGluZVJlc291cmNlOmZ1bmN0aW9uKGEsYil7Yi5ocmVmPXRoaXMuZ2V0QXR0cmlidXRlTlMoYSx0aGlzLm5hbWVzcGFjZXMueGxpbmssImhyZWYiKX0sRm9ybWF0OmZ1bmN0aW9uKGEsCmIpe2IuZ3JhcGhpY0Zvcm1hdD10aGlzLmdldENoaWxkVmFsdWUoYSl9fX0sT3BlbkxheWVycy5Gb3JtYXQuRmlsdGVyLnYxXzBfMC5wcm90b3R5cGUucmVhZGVycyksY3NzTWFwOntzdHJva2U6InN0cm9rZUNvbG9yIiwic3Ryb2tlLW9wYWNpdHkiOiJzdHJva2VPcGFjaXR5Iiwic3Ryb2tlLXdpZHRoIjoic3Ryb2tlV2lkdGgiLCJzdHJva2UtbGluZWNhcCI6InN0cm9rZUxpbmVjYXAiLCJzdHJva2UtZGFzaGFycmF5Ijoic3Ryb2tlRGFzaHN0eWxlIixmaWxsOiJmaWxsQ29sb3IiLCJmaWxsLW9wYWNpdHkiOiJmaWxsT3BhY2l0eSIsImZvbnQtZmFtaWx5IjoiZm9udEZhbWlseSIsImZvbnQtc2l6ZSI6ImZvbnRTaXplIiwiZm9udC13ZWlnaHQiOiJmb250V2VpZ2h0IiwiZm9udC1zdHlsZSI6ImZvbnRTdHlsZSJ9LGdldENzc1Byb3BlcnR5OmZ1bmN0aW9uKGEpe3ZhciBiPW51bGwsYztmb3IoYyBpbiB0aGlzLmNzc01hcClpZih0aGlzLmNzc01hcFtjXT09YSl7Yj1jO2JyZWFrfXJldHVybiBifSwKZ2V0R3JhcGhpY0Zvcm1hdDpmdW5jdGlvbihhKXt2YXIgYixjO2ZvcihjIGluIHRoaXMuZ3JhcGhpY0Zvcm1hdHMpaWYodGhpcy5ncmFwaGljRm9ybWF0c1tjXS50ZXN0KGEpKXtiPWM7YnJlYWt9cmV0dXJuIGJ8fHRoaXMuZGVmYXVsdEdyYXBoaWNGb3JtYXR9LGRlZmF1bHRHcmFwaGljRm9ybWF0OiJpbWFnZS9wbmciLGdyYXBoaWNGb3JtYXRzOnsiaW1hZ2UvanBlZyI6L1wuanBlP2ckL2ksImltYWdlL2dpZiI6L1wuZ2lmJC9pLCJpbWFnZS9wbmciOi9cLnBuZyQvaX0sd3JpdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMud3JpdGVycy5zbGQuU3R5bGVkTGF5ZXJEZXNjcmlwdG9yLmFwcGx5KHRoaXMsW2FdKX0sd3JpdGVyczpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7c2xkOntfT0dDRXhwcmVzc2lvbjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cyhhKSxkPSJzdHJpbmciPT10eXBlb2YgYj9iLnNwbGl0KCIkeyIpOltiXTtjLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlVGV4dE5vZGUoZFswXSkpOwpmb3IodmFyIGUsZixnPTEsaD1kLmxlbmd0aDtnPGg7ZysrKWU9ZFtnXSxmPWUuaW5kZXhPZigifSIpLDA8Zj8odGhpcy53cml0ZU5vZGUoIm9nYzpQcm9wZXJ0eU5hbWUiLHtwcm9wZXJ0eTplLnN1YnN0cmluZygwLGYpfSxjKSxjLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlVGV4dE5vZGUoZS5zdWJzdHJpbmcoKytmKSkpKTpjLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlVGV4dE5vZGUoIiR7IitlKSk7cmV0dXJuIGN9LFN0eWxlZExheWVyRGVzY3JpcHRvcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpTdHlsZWRMYXllckRlc2NyaXB0b3IiLHthdHRyaWJ1dGVzOnt2ZXJzaW9uOnRoaXMuVkVSU0lPTiwieHNpOnNjaGVtYUxvY2F0aW9uIjp0aGlzLnNjaGVtYUxvY2F0aW9ufX0pO2Iuc2V0QXR0cmlidXRlKCJ4bWxuczpvZ2MiLHRoaXMubmFtZXNwYWNlcy5vZ2MpO2Iuc2V0QXR0cmlidXRlKCJ4bWxuczpnbWwiLHRoaXMubmFtZXNwYWNlcy5nbWwpOwphLm5hbWUmJnRoaXMud3JpdGVOb2RlKCJOYW1lIixhLm5hbWUsYik7YS50aXRsZSYmdGhpcy53cml0ZU5vZGUoIlRpdGxlIixhLnRpdGxlLGIpO2EuZGVzY3JpcHRpb24mJnRoaXMud3JpdGVOb2RlKCJBYnN0cmFjdCIsYS5kZXNjcmlwdGlvbixiKTtpZihPcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShhLm5hbWVkTGF5ZXJzKSlmb3IodmFyIGM9MCxkPWEubmFtZWRMYXllcnMubGVuZ3RoO2M8ZDsrK2MpdGhpcy53cml0ZU5vZGUoIk5hbWVkTGF5ZXIiLGEubmFtZWRMYXllcnNbY10sYik7ZWxzZSBmb3IoYyBpbiBhLm5hbWVkTGF5ZXJzKXRoaXMud3JpdGVOb2RlKCJOYW1lZExheWVyIixhLm5hbWVkTGF5ZXJzW2NdLGIpO3JldHVybiBifSxOYW1lOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpOYW1lIix7dmFsdWU6YX0pfSxUaXRsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6VGl0bGUiLHt2YWx1ZTphfSl9LApBYnN0cmFjdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6QWJzdHJhY3QiLHt2YWx1ZTphfSl9LE5hbWVkTGF5ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6TmFtZWRMYXllciIpO3RoaXMud3JpdGVOb2RlKCJOYW1lIixhLm5hbWUsYik7aWYoYS5uYW1lZFN0eWxlcylmb3IodmFyIGM9MCxkPWEubmFtZWRTdHlsZXMubGVuZ3RoO2M8ZDsrK2MpdGhpcy53cml0ZU5vZGUoIk5hbWVkU3R5bGUiLGEubmFtZWRTdHlsZXNbY10sYik7aWYoYS51c2VyU3R5bGVzKXtjPTA7Zm9yKGQ9YS51c2VyU3R5bGVzLmxlbmd0aDtjPGQ7KytjKXRoaXMud3JpdGVOb2RlKCJVc2VyU3R5bGUiLGEudXNlclN0eWxlc1tjXSxiKX1yZXR1cm4gYn0sTmFtZWRTdHlsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpOYW1lZFN0eWxlIik7dGhpcy53cml0ZU5vZGUoIk5hbWUiLGEsYik7CnJldHVybiBifSxVc2VyU3R5bGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6VXNlclN0eWxlIik7YS5uYW1lJiZ0aGlzLndyaXRlTm9kZSgiTmFtZSIsYS5uYW1lLGIpO2EudGl0bGUmJnRoaXMud3JpdGVOb2RlKCJUaXRsZSIsYS50aXRsZSxiKTthLmRlc2NyaXB0aW9uJiZ0aGlzLndyaXRlTm9kZSgiQWJzdHJhY3QiLGEuZGVzY3JpcHRpb24sYik7YS5pc0RlZmF1bHQmJnRoaXMud3JpdGVOb2RlKCJJc0RlZmF1bHQiLGEuaXNEZWZhdWx0LGIpO2lmKHRoaXMubXVsdGlwbGVTeW1ib2xpemVycyYmYS5ydWxlcyl7Zm9yKHZhciBjPXsiMCI6W119LGQ9WzBdLGUsZixnLGgsaSxqPTAsaz1hLnJ1bGVzLmxlbmd0aDtqPGs7KytqKWlmKGU9YS5ydWxlc1tqXSxlLnN5bWJvbGl6ZXJzKXtmPXt9O2Zvcih2YXIgbD0wLG09ZS5zeW1ib2xpemVycy5sZW5ndGg7bDxtOysrbClnPWUuc3ltYm9saXplcnNbbF0saD1nLnpJbmRleCxoIGluIGZ8fChpPWUuY2xvbmUoKSwKaS5zeW1ib2xpemVycz1bXSxmW2hdPWkpLGZbaF0uc3ltYm9saXplcnMucHVzaChnLmNsb25lKCkpO2ZvcihoIGluIGYpaCBpbiBjfHwoZC5wdXNoKGgpLGNbaF09W10pLGNbaF0ucHVzaChmW2hdKX1lbHNlIGNbMF0ucHVzaChlLmNsb25lKCkpO2Quc29ydCgpO2o9MDtmb3Ioaz1kLmxlbmd0aDtqPGs7KytqKWU9Y1tkW2pdXSwwPGUubGVuZ3RoJiYoaT1hLmNsb25lKCksaS5ydWxlcz1jW2Rbal1dLHRoaXMud3JpdGVOb2RlKCJGZWF0dXJlVHlwZVN0eWxlIixpLGIpKX1lbHNlIHRoaXMud3JpdGVOb2RlKCJGZWF0dXJlVHlwZVN0eWxlIixhLGIpO3JldHVybiBifSxJc0RlZmF1bHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygic2xkOklzRGVmYXVsdCIse3ZhbHVlOmE/IjEiOiIwIn0pfSxGZWF0dXJlVHlwZVN0eWxlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpGZWF0dXJlVHlwZVN0eWxlIiksYz0wLApkPWEucnVsZXMubGVuZ3RoO2M8ZDsrK2MpdGhpcy53cml0ZU5vZGUoIlJ1bGUiLGEucnVsZXNbY10sYik7cmV0dXJuIGJ9LFJ1bGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6UnVsZSIpO2EubmFtZSYmdGhpcy53cml0ZU5vZGUoIk5hbWUiLGEubmFtZSxiKTthLnRpdGxlJiZ0aGlzLndyaXRlTm9kZSgiVGl0bGUiLGEudGl0bGUsYik7YS5kZXNjcmlwdGlvbiYmdGhpcy53cml0ZU5vZGUoIkFic3RyYWN0IixhLmRlc2NyaXB0aW9uLGIpO2EuZWxzZUZpbHRlcj90aGlzLndyaXRlTm9kZSgiRWxzZUZpbHRlciIsbnVsbCxiKTphLmZpbHRlciYmdGhpcy53cml0ZU5vZGUoIm9nYzpGaWx0ZXIiLGEuZmlsdGVyLGIpO3ZvaWQgMCE9YS5taW5TY2FsZURlbm9taW5hdG9yJiZ0aGlzLndyaXRlTm9kZSgiTWluU2NhbGVEZW5vbWluYXRvciIsYS5taW5TY2FsZURlbm9taW5hdG9yLGIpO3ZvaWQgMCE9YS5tYXhTY2FsZURlbm9taW5hdG9yJiZ0aGlzLndyaXRlTm9kZSgiTWF4U2NhbGVEZW5vbWluYXRvciIsCmEubWF4U2NhbGVEZW5vbWluYXRvcixiKTt2YXIgYyxkO2lmKHRoaXMubXVsdGlwbGVTeW1ib2xpemVycyYmYS5zeW1ib2xpemVycylmb3IodmFyIGU9MCxmPWEuc3ltYm9saXplcnMubGVuZ3RoO2U8ZjsrK2UpZD1hLnN5bWJvbGl6ZXJzW2VdLGM9ZC5DTEFTU19OQU1FLnNwbGl0KCIuIikucG9wKCksdGhpcy53cml0ZU5vZGUoYysiU3ltYm9saXplciIsZCxiKTtlbHNlIGZvcih2YXIgZj1PcGVuTGF5ZXJzLlN0eWxlLlNZTUJPTElaRVJfUFJFRklYRVMsZT0wLGc9Zi5sZW5ndGg7ZTxnOysrZSljPWZbZV0sKGQ9YS5zeW1ib2xpemVyW2NdKSYmdGhpcy53cml0ZU5vZGUoYysiU3ltYm9saXplciIsZCxiKTtyZXR1cm4gYn0sRWxzZUZpbHRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpFbHNlRmlsdGVyIil9LE1pblNjYWxlRGVub21pbmF0b3I6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygic2xkOk1pblNjYWxlRGVub21pbmF0b3IiLAp7dmFsdWU6YX0pfSxNYXhTY2FsZURlbm9taW5hdG9yOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpNYXhTY2FsZURlbm9taW5hdG9yIix7dmFsdWU6YX0pfSxMaW5lU3ltYm9saXplcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpMaW5lU3ltYm9saXplciIpO3RoaXMud3JpdGVOb2RlKCJTdHJva2UiLGEsYik7cmV0dXJuIGJ9LFN0cm9rZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpTdHJva2UiKTt2b2lkIDAhPWEuc3Ryb2tlQ29sb3ImJnRoaXMud3JpdGVOb2RlKCJDc3NQYXJhbWV0ZXIiLHtzeW1ib2xpemVyOmEsa2V5OiJzdHJva2VDb2xvciJ9LGIpO3ZvaWQgMCE9YS5zdHJva2VPcGFjaXR5JiZ0aGlzLndyaXRlTm9kZSgiQ3NzUGFyYW1ldGVyIix7c3ltYm9saXplcjphLGtleToic3Ryb2tlT3BhY2l0eSJ9LGIpO3ZvaWQgMCE9YS5zdHJva2VXaWR0aCYmCnRoaXMud3JpdGVOb2RlKCJDc3NQYXJhbWV0ZXIiLHtzeW1ib2xpemVyOmEsa2V5OiJzdHJva2VXaWR0aCJ9LGIpO3ZvaWQgMCE9YS5zdHJva2VEYXNoc3R5bGUmJiJzb2xpZCIhPT1hLnN0cm9rZURhc2hzdHlsZSYmdGhpcy53cml0ZU5vZGUoIkNzc1BhcmFtZXRlciIse3N5bWJvbGl6ZXI6YSxrZXk6InN0cm9rZURhc2hzdHlsZSJ9LGIpO3ZvaWQgMCE9YS5zdHJva2VMaW5lY2FwJiZ0aGlzLndyaXRlTm9kZSgiQ3NzUGFyYW1ldGVyIix7c3ltYm9saXplcjphLGtleToic3Ryb2tlTGluZWNhcCJ9LGIpO3JldHVybiBifSxDc3NQYXJhbWV0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygic2xkOkNzc1BhcmFtZXRlciIse2F0dHJpYnV0ZXM6e25hbWU6dGhpcy5nZXRDc3NQcm9wZXJ0eShhLmtleSl9LHZhbHVlOmEuc3ltYm9saXplclthLmtleV19KX0sVGV4dFN5bWJvbGl6ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6VGV4dFN5bWJvbGl6ZXIiKTsKbnVsbCE9YS5sYWJlbCYmdGhpcy53cml0ZU5vZGUoIkxhYmVsIixhLmxhYmVsLGIpOyhudWxsIT1hLmZvbnRGYW1pbHl8fG51bGwhPWEuZm9udFNpemV8fG51bGwhPWEuZm9udFdlaWdodHx8bnVsbCE9YS5mb250U3R5bGUpJiZ0aGlzLndyaXRlTm9kZSgiRm9udCIsYSxiKTsobnVsbCE9YS5sYWJlbEFuY2hvclBvaW50WHx8bnVsbCE9YS5sYWJlbEFuY2hvclBvaW50WXx8bnVsbCE9YS5sYWJlbEFsaWdufHxudWxsIT1hLmxhYmVsWE9mZnNldHx8bnVsbCE9YS5sYWJlbFlPZmZzZXR8fG51bGwhPWEubGFiZWxSb3RhdGlvbnx8bnVsbCE9YS5sYWJlbFBlcnBlbmRpY3VsYXJPZmZzZXQpJiZ0aGlzLndyaXRlTm9kZSgiTGFiZWxQbGFjZW1lbnQiLGEsYik7KG51bGwhPWEuaGFsb1JhZGl1c3x8bnVsbCE9YS5oYWxvQ29sb3J8fG51bGwhPWEuaGFsb09wYWNpdHkpJiZ0aGlzLndyaXRlTm9kZSgiSGFsbyIsYSxiKTsobnVsbCE9YS5mb250Q29sb3J8fG51bGwhPWEuZm9udE9wYWNpdHkpJiZ0aGlzLndyaXRlTm9kZSgiRmlsbCIsCntmaWxsQ29sb3I6YS5mb250Q29sb3IsZmlsbE9wYWNpdHk6YS5mb250T3BhY2l0eX0sYik7cmV0dXJuIGJ9LExhYmVsUGxhY2VtZW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygic2xkOkxhYmVsUGxhY2VtZW50Iik7KG51bGwhPWEubGFiZWxBbmNob3JQb2ludFh8fG51bGwhPWEubGFiZWxBbmNob3JQb2ludFl8fG51bGwhPWEubGFiZWxBbGlnbnx8bnVsbCE9YS5sYWJlbFhPZmZzZXR8fG51bGwhPWEubGFiZWxZT2Zmc2V0fHxudWxsIT1hLmxhYmVsUm90YXRpb24pJiZudWxsPT1hLmxhYmVsUGVycGVuZGljdWxhck9mZnNldCYmdGhpcy53cml0ZU5vZGUoIlBvaW50UGxhY2VtZW50IixhLGIpO251bGwhPWEubGFiZWxQZXJwZW5kaWN1bGFyT2Zmc2V0JiZ0aGlzLndyaXRlTm9kZSgiTGluZVBsYWNlbWVudCIsYSxiKTtyZXR1cm4gYn0sTGluZVBsYWNlbWVudDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpMaW5lUGxhY2VtZW50Iik7CnRoaXMud3JpdGVOb2RlKCJQZXJwZW5kaWN1bGFyT2Zmc2V0IixhLmxhYmVsUGVycGVuZGljdWxhck9mZnNldCxiKTtyZXR1cm4gYn0sUGVycGVuZGljdWxhck9mZnNldDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6UGVycGVuZGljdWxhck9mZnNldCIse3ZhbHVlOmF9KX0sUG9pbnRQbGFjZW1lbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6UG9pbnRQbGFjZW1lbnQiKTsobnVsbCE9YS5sYWJlbEFuY2hvclBvaW50WHx8bnVsbCE9YS5sYWJlbEFuY2hvclBvaW50WXx8bnVsbCE9YS5sYWJlbEFsaWduKSYmdGhpcy53cml0ZU5vZGUoIkFuY2hvclBvaW50IixhLGIpOyhudWxsIT1hLmxhYmVsWE9mZnNldHx8bnVsbCE9YS5sYWJlbFlPZmZzZXQpJiZ0aGlzLndyaXRlTm9kZSgiRGlzcGxhY2VtZW50IixhLGIpO251bGwhPWEubGFiZWxSb3RhdGlvbiYmdGhpcy53cml0ZU5vZGUoIlJvdGF0aW9uIixhLmxhYmVsUm90YXRpb24sCmIpO3JldHVybiBifSxBbmNob3JQb2ludDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpBbmNob3JQb2ludCIpLGM9YS5sYWJlbEFuY2hvclBvaW50WCxkPWEubGFiZWxBbmNob3JQb2ludFk7bnVsbCE9YyYmdGhpcy53cml0ZU5vZGUoIkFuY2hvclBvaW50WCIsYyxiKTtudWxsIT1kJiZ0aGlzLndyaXRlTm9kZSgiQW5jaG9yUG9pbnRZIixkLGIpO2lmKG51bGw9PWMmJm51bGw9PWQpe3ZhciBlPWEubGFiZWxBbGlnbi5zdWJzdHIoMCwxKSxhPWEubGFiZWxBbGlnbi5zdWJzdHIoMSwxKTsibCI9PT1lP2M9MDoiYyI9PT1lP2M9MC41OiJyIj09PWUmJihjPTEpOyJiIj09PWE/ZD0wOiJtIj09PWE/ZD0wLjU6InQiPT09YSYmKGQ9MSk7dGhpcy53cml0ZU5vZGUoIkFuY2hvclBvaW50WCIsYyxiKTt0aGlzLndyaXRlTm9kZSgiQW5jaG9yUG9pbnRZIixkLGIpfXJldHVybiBifSxBbmNob3JQb2ludFg6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygic2xkOkFuY2hvclBvaW50WCIsCnt2YWx1ZTphfSl9LEFuY2hvclBvaW50WTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6QW5jaG9yUG9pbnRZIix7dmFsdWU6YX0pfSxEaXNwbGFjZW1lbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6RGlzcGxhY2VtZW50Iik7bnVsbCE9YS5sYWJlbFhPZmZzZXQmJnRoaXMud3JpdGVOb2RlKCJEaXNwbGFjZW1lbnRYIixhLmxhYmVsWE9mZnNldCxiKTtudWxsIT1hLmxhYmVsWU9mZnNldCYmdGhpcy53cml0ZU5vZGUoIkRpc3BsYWNlbWVudFkiLGEubGFiZWxZT2Zmc2V0LGIpO3JldHVybiBifSxEaXNwbGFjZW1lbnRYOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpEaXNwbGFjZW1lbnRYIix7dmFsdWU6YX0pfSxEaXNwbGFjZW1lbnRZOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpEaXNwbGFjZW1lbnRZIix7dmFsdWU6YX0pfSwKRm9udDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpGb250Iik7YS5mb250RmFtaWx5JiZ0aGlzLndyaXRlTm9kZSgiQ3NzUGFyYW1ldGVyIix7c3ltYm9saXplcjphLGtleToiZm9udEZhbWlseSJ9LGIpO2EuZm9udFNpemUmJnRoaXMud3JpdGVOb2RlKCJDc3NQYXJhbWV0ZXIiLHtzeW1ib2xpemVyOmEsa2V5OiJmb250U2l6ZSJ9LGIpO2EuZm9udFdlaWdodCYmdGhpcy53cml0ZU5vZGUoIkNzc1BhcmFtZXRlciIse3N5bWJvbGl6ZXI6YSxrZXk6ImZvbnRXZWlnaHQifSxiKTthLmZvbnRTdHlsZSYmdGhpcy53cml0ZU5vZGUoIkNzc1BhcmFtZXRlciIse3N5bWJvbGl6ZXI6YSxrZXk6ImZvbnRTdHlsZSJ9LGIpO3JldHVybiBifSxMYWJlbDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy53cml0ZXJzLnNsZC5fT0dDRXhwcmVzc2lvbi5jYWxsKHRoaXMsInNsZDpMYWJlbCIsYSl9LEhhbG86ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6SGFsbyIpOwphLmhhbG9SYWRpdXMmJnRoaXMud3JpdGVOb2RlKCJSYWRpdXMiLGEuaGFsb1JhZGl1cyxiKTsoYS5oYWxvQ29sb3J8fGEuaGFsb09wYWNpdHkpJiZ0aGlzLndyaXRlTm9kZSgiRmlsbCIse2ZpbGxDb2xvcjphLmhhbG9Db2xvcixmaWxsT3BhY2l0eTphLmhhbG9PcGFjaXR5fSxiKTtyZXR1cm4gYn0sUmFkaXVzOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpSYWRpdXMiLHt2YWx1ZTphfSl9LFJhc3RlclN5bWJvbGl6ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6UmFzdGVyU3ltYm9saXplciIpO2EuZ2VvbWV0cnkmJnRoaXMud3JpdGVOb2RlKCJHZW9tZXRyeSIsYS5nZW9tZXRyeSxiKTthLm9wYWNpdHkmJnRoaXMud3JpdGVOb2RlKCJPcGFjaXR5IixhLm9wYWNpdHksYik7YS5jb2xvck1hcCYmdGhpcy53cml0ZU5vZGUoIkNvbG9yTWFwIixhLmNvbG9yTWFwLGIpO3JldHVybiBifSxHZW9tZXRyeTpmdW5jdGlvbihhKXt2YXIgYj0KdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6R2VvbWV0cnkiKTthLnByb3BlcnR5JiZ0aGlzLndyaXRlTm9kZSgib2djOlByb3BlcnR5TmFtZSIsYSxiKTtyZXR1cm4gYn0sQ29sb3JNYXA6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygic2xkOkNvbG9yTWFwIiksYz0wLGQ9YS5sZW5ndGg7YzxkOysrYyl0aGlzLndyaXRlTm9kZSgiQ29sb3JNYXBFbnRyeSIsYVtjXSxiKTtyZXR1cm4gYn0sQ29sb3JNYXBFbnRyeTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpDb2xvck1hcEVudHJ5Iik7Yi5zZXRBdHRyaWJ1dGUoImNvbG9yIixhLmNvbG9yKTt2b2lkIDAhPT1hLm9wYWNpdHkmJmIuc2V0QXR0cmlidXRlKCJvcGFjaXR5IixwYXJzZUZsb2F0KGEub3BhY2l0eSkpO3ZvaWQgMCE9PWEucXVhbnRpdHkmJmIuc2V0QXR0cmlidXRlKCJxdWFudGl0eSIscGFyc2VGbG9hdChhLnF1YW50aXR5KSk7dm9pZCAwIT09CmEubGFiZWwmJmIuc2V0QXR0cmlidXRlKCJsYWJlbCIsYS5sYWJlbCk7cmV0dXJuIGJ9LFBvbHlnb25TeW1ib2xpemVyOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygic2xkOlBvbHlnb25TeW1ib2xpemVyIik7ITEhPT1hLmZpbGwmJnRoaXMud3JpdGVOb2RlKCJGaWxsIixhLGIpOyExIT09YS5zdHJva2UmJnRoaXMud3JpdGVOb2RlKCJTdHJva2UiLGEsYik7cmV0dXJuIGJ9LEZpbGw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6RmlsbCIpO2EuZmlsbENvbG9yJiZ0aGlzLndyaXRlTm9kZSgiQ3NzUGFyYW1ldGVyIix7c3ltYm9saXplcjphLGtleToiZmlsbENvbG9yIn0sYik7bnVsbCE9YS5maWxsT3BhY2l0eSYmdGhpcy53cml0ZU5vZGUoIkNzc1BhcmFtZXRlciIse3N5bWJvbGl6ZXI6YSxrZXk6ImZpbGxPcGFjaXR5In0sYik7cmV0dXJuIGJ9LFBvaW50U3ltYm9saXplcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpQb2ludFN5bWJvbGl6ZXIiKTsKdGhpcy53cml0ZU5vZGUoIkdyYXBoaWMiLGEsYik7cmV0dXJuIGJ9LEdyYXBoaWM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6R3JhcGhpYyIpO3ZvaWQgMCE9YS5leHRlcm5hbEdyYXBoaWM/dGhpcy53cml0ZU5vZGUoIkV4dGVybmFsR3JhcGhpYyIsYSxiKTp0aGlzLndyaXRlTm9kZSgiTWFyayIsYSxiKTt2b2lkIDAhPWEuZ3JhcGhpY09wYWNpdHkmJnRoaXMud3JpdGVOb2RlKCJPcGFjaXR5IixhLmdyYXBoaWNPcGFjaXR5LGIpO3ZvaWQgMCE9YS5wb2ludFJhZGl1cz90aGlzLndyaXRlTm9kZSgiU2l6ZSIsMiphLnBvaW50UmFkaXVzLGIpOnZvaWQgMCE9YS5ncmFwaGljV2lkdGgmJnRoaXMud3JpdGVOb2RlKCJTaXplIixhLmdyYXBoaWNXaWR0aCxiKTt2b2lkIDAhPWEucm90YXRpb24mJnRoaXMud3JpdGVOb2RlKCJSb3RhdGlvbiIsYS5yb3RhdGlvbixiKTtyZXR1cm4gYn0sRXh0ZXJuYWxHcmFwaGljOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygic2xkOkV4dGVybmFsR3JhcGhpYyIpOwp0aGlzLndyaXRlTm9kZSgiT25saW5lUmVzb3VyY2UiLGEuZXh0ZXJuYWxHcmFwaGljLGIpO2E9YS5ncmFwaGljRm9ybWF0fHx0aGlzLmdldEdyYXBoaWNGb3JtYXQoYS5leHRlcm5hbEdyYXBoaWMpO3RoaXMud3JpdGVOb2RlKCJGb3JtYXQiLGEsYik7cmV0dXJuIGJ9LE1hcms6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6TWFyayIpO2EuZ3JhcGhpY05hbWUmJnRoaXMud3JpdGVOb2RlKCJXZWxsS25vd25OYW1lIixhLmdyYXBoaWNOYW1lLGIpOyExIT09YS5maWxsJiZ0aGlzLndyaXRlTm9kZSgiRmlsbCIsYSxiKTshMSE9PWEuc3Ryb2tlJiZ0aGlzLndyaXRlTm9kZSgiU3Ryb2tlIixhLGIpO3JldHVybiBifSxXZWxsS25vd25OYW1lOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpXZWxsS25vd25OYW1lIix7dmFsdWU6YX0pfSxPcGFjaXR5OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInNsZDpPcGFjaXR5IiwKe3ZhbHVlOmF9KX0sU2l6ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy53cml0ZXJzLnNsZC5fT0dDRXhwcmVzc2lvbi5jYWxsKHRoaXMsInNsZDpTaXplIixhKX0sUm90YXRpb246ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygic2xkOlJvdGF0aW9uIix7dmFsdWU6YX0pfSxPbmxpbmVSZXNvdXJjZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6T25saW5lUmVzb3VyY2UiLHthdHRyaWJ1dGVzOnsieGxpbms6dHlwZSI6InNpbXBsZSIsInhsaW5rOmhyZWYiOmF9fSl9LEZvcm1hdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJzbGQ6Rm9ybWF0Iix7dmFsdWU6YX0pfX19LE9wZW5MYXllcnMuRm9ybWF0LkZpbHRlci52MV8wXzAucHJvdG90eXBlLndyaXRlcnMpLENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LlNMRC52MSJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5TTEQudjFfMF8wPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuU0xELnYxLHtWRVJTSU9OOiIxLjAuMCIsc2NoZW1hTG9jYXRpb246Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvc2xkIGh0dHA6Ly9zY2hlbWFzLm9wZW5naXMubmV0L3NsZC8xLjAuMC9TdHlsZWRMYXllckRlc2NyaXB0b3IueHNkIixDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5TTEQudjFfMF8wIn0pO09wZW5MYXllcnMuRm9ybWF0Lk9XU0NvbnRleHQ9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5Db250ZXh0LHtkZWZhdWx0VmVyc2lvbjoiMC4zLjEiLGdldFZlcnNpb246ZnVuY3Rpb24oYSxiKXt2YXIgYz1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwuVmVyc2lvbmVkT0dDLnByb3RvdHlwZS5nZXRWZXJzaW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTsiMC4zLjAiPT09YyYmKGM9dGhpcy5kZWZhdWx0VmVyc2lvbik7cmV0dXJuIGN9LHRvQ29udGV4dDpmdW5jdGlvbihhKXt2YXIgYj17fTsiT3BlbkxheWVycy5NYXAiPT1hLkNMQVNTX05BTUUmJihiLmJvdW5kcz1hLmdldEV4dGVudCgpLGIubWF4RXh0ZW50PWEubWF4RXh0ZW50LGIucHJvamVjdGlvbj1hLnByb2plY3Rpb24sYi5zaXplPWEuZ2V0U2l6ZSgpLGIubGF5ZXJzPWEubGF5ZXJzKTtyZXR1cm4gYn0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuT1dTQ29udGV4dCJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb250ZXh0LnYwXzNfMT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7bmFtZXNwYWNlczp7b3djOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L293cy1jb250ZXh0IixnbWw6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sIixrbWw6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQva21sLzIuMiIsb2djOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L29nYyIsb3dzOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L293cyIsc2xkOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3NsZCIseGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UifSxWRVJTSU9OOiIwLjMuMSIsc2NoZW1hTG9jYXRpb246Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvb3dzLWNvbnRleHQgaHR0cDovL3d3dy5vZ2NuZXR3b3JrLm5ldC9zY2hlbWFzL293Yy8wLjMuMS9vd3NDb250ZXh0LnhzZCIsCmRlZmF1bHRQcmVmaXg6Im93YyIsZXh0cmFjdEF0dHJpYnV0ZXM6ITAseHk6ITAscmVnRXhlczp7dHJpbVNwYWNlOi9eXHMqfFxzKiQvZyxyZW1vdmVTcGFjZTovXHMqL2csc3BsaXRTcGFjZTovXHMrLyx0cmltQ29tbWE6L1xzKixccyovZ30sZmVhdHVyZU5TOiJodHRwOi8vbWFwc2VydmVyLmdpcy51bW4uZWR1L21hcHNlcnZlciIsZmVhdHVyZVR5cGU6InZlY3RvciIsZ2VvbWV0cnlOYW1lOiJnZW9tZXRyeSIsbmVzdGluZ0xheWVyTG9va3VwOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pO09wZW5MYXllcnMuRm9ybWF0LkdNTC52Mi5wcm90b3R5cGUuc2V0R2VvbWV0cnlUeXBlcy5jYWxsKHRoaXMpfSxzZXROZXN0aW5nUGF0aDpmdW5jdGlvbihhKXtpZihhLmxheWVyc0NvbnRleHQpZm9yKHZhciBiPTAsYz1hLmxheWVyc0NvbnRleHQubGVuZ3RoO2I8YztiKyspe3ZhciBkPQphLmxheWVyc0NvbnRleHRbYl0sZT1bXSxmPWEudGl0bGV8fCIiO2EubWV0YWRhdGEmJmEubWV0YWRhdGEubmVzdGluZ1BhdGgmJihlPWEubWV0YWRhdGEubmVzdGluZ1BhdGguc2xpY2UoKSk7IiIhPWYmJmUucHVzaChmKTtkLm1ldGFkYXRhLm5lc3RpbmdQYXRoPWU7ZC5sYXllcnNDb250ZXh0JiZ0aGlzLnNldE5lc3RpbmdQYXRoKGQpfX0sZGVjb21wb3NlTmVzdGluZ1BhdGg6ZnVuY3Rpb24oYSl7dmFyIGI9W107aWYoT3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSkpe2ZvcihhPWEuc2xpY2UoKTswPGEubGVuZ3RoOyliLnB1c2goYS5zbGljZSgpKSxhLnBvcCgpO2IucmV2ZXJzZSgpfXJldHVybiBifSxyZWFkOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7YSYmOT09YS5ub2RlVHlwZSYmKGE9YS5kb2N1bWVudEVsZW1lbnQpO3ZhciBiPXt9O3RoaXMucmVhZE5vZGUoYSwKYik7dGhpcy5zZXROZXN0aW5nUGF0aCh7bGF5ZXJzQ29udGV4dDpiLmxheWVyc0NvbnRleHR9KTthPVtdO3RoaXMucHJvY2Vzc0xheWVyKGEsYik7ZGVsZXRlIGIubGF5ZXJzQ29udGV4dDtiLmxheWVyc0NvbnRleHQ9YTtyZXR1cm4gYn0scHJvY2Vzc0xheWVyOmZ1bmN0aW9uKGEsYil7aWYoYi5sYXllcnNDb250ZXh0KWZvcih2YXIgYz0wLGQ9Yi5sYXllcnNDb250ZXh0Lmxlbmd0aDtjPGQ7YysrKXt2YXIgZT1iLmxheWVyc0NvbnRleHRbY107YS5wdXNoKGUpO2UubGF5ZXJzQ29udGV4dCYmdGhpcy5wcm9jZXNzTGF5ZXIoYSxlKX19LHdyaXRlOmZ1bmN0aW9uKGEsYil7dGhpcy5uZXN0aW5nTGF5ZXJMb29rdXA9e307Yj1ifHx7fTtPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhiLGEpO3ZhciBjPXRoaXMud3JpdGVOb2RlKCJPV1NDb250ZXh0IixiKTt0aGlzLm5lc3RpbmdMYXllckxvb2t1cD1udWxsO3RoaXMuc2V0QXR0cmlidXRlTlMoYyx0aGlzLm5hbWVzcGFjZXMueHNpLAoieHNpOnNjaGVtYUxvY2F0aW9uIix0aGlzLnNjaGVtYUxvY2F0aW9uKTtyZXR1cm4gT3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS53cml0ZS5hcHBseSh0aGlzLFtjXSl9LHJlYWRlcnM6e2ttbDp7RG9jdW1lbnQ6ZnVuY3Rpb24oYSxiKXtiLmZlYXR1cmVzPShuZXcgT3BlbkxheWVycy5Gb3JtYXQuS01MKHtrbWxuczp0aGlzLm5hbWVzcGFjZXMua21sLGV4dHJhY3RTdHlsZXM6ITB9KSkucmVhZChhKX19LG93Yzp7T1dTQ29udGV4dDpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sR2VuZXJhbDpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sUmVzb3VyY2VMaXN0OmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxMYXllcjpmdW5jdGlvbihhLGIpe3ZhciBjPXttZXRhZGF0YTp7fSx2aXNpYmlsaXR5OiIxIiE9YS5nZXRBdHRyaWJ1dGUoImhpZGRlbiIpLHF1ZXJ5YWJsZToiMSI9PWEuZ2V0QXR0cmlidXRlKCJxdWVyeWFibGUiKSwKb3BhY2l0eTpudWxsIT1hLmdldEF0dHJpYnV0ZSgib3BhY2l0eSIpP3BhcnNlRmxvYXQoYS5nZXRBdHRyaWJ1dGUoIm9wYWNpdHkiKSk6bnVsbCxuYW1lOmEuZ2V0QXR0cmlidXRlKCJuYW1lIiksY2F0ZWdvcnlMYXllcjpudWxsPT1hLmdldEF0dHJpYnV0ZSgibmFtZSIpLGZvcm1hdHM6W10sc3R5bGVzOltdfTtiLmxheWVyc0NvbnRleHR8fChiLmxheWVyc0NvbnRleHQ9W10pO2IubGF5ZXJzQ29udGV4dC5wdXNoKGMpO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKX0sSW5saW5lR2VvbWV0cnk6ZnVuY3Rpb24oYSxiKXtiLmZlYXR1cmVzPVtdO3ZhciBjPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLHRoaXMubmFtZXNwYWNlcy5nbWwsImZlYXR1cmVNZW1iZXIiKSxkOzE8PWMubGVuZ3RoJiYoZD1jWzBdKTtkJiZkLmZpcnN0Q2hpbGQmJihjPWQuZmlyc3RDaGlsZC5uZXh0U2libGluZz9kLmZpcnN0Q2hpbGQubmV4dFNpYmxpbmc6ZC5maXJzdENoaWxkLHRoaXMuc2V0TmFtZXNwYWNlKCJmZWF0dXJlIiwKYy5uYW1lc3BhY2VVUkkpLHRoaXMuZmVhdHVyZVR5cGU9Yy5sb2NhbE5hbWV8fGMubm9kZU5hbWUuc3BsaXQoIjoiKS5wb3AoKSx0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYikpfSxTZXJ2ZXI6ZnVuY3Rpb24oYSxiKXtpZighYi5zZXJ2aWNlJiYhYi52ZXJzaW9ufHxiLnNlcnZpY2UhPU9wZW5MYXllcnMuRm9ybWF0LkNvbnRleHQuc2VydmljZVR5cGVzLldNUyliLnNlcnZpY2U9YS5nZXRBdHRyaWJ1dGUoInNlcnZpY2UiKSxiLnZlcnNpb249YS5nZXRBdHRyaWJ1dGUoInZlcnNpb24iKSx0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LE5hbWU6ZnVuY3Rpb24oYSxiKXtiLm5hbWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpO3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sVGl0bGU6ZnVuY3Rpb24oYSxiKXtiLnRpdGxlPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LFN0eWxlTGlzdDpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnN0eWxlcyl9LApTdHlsZTpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O2IucHVzaChjKTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyl9LExlZ2VuZFVSTDpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O2IubGVnZW5kPWM7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpfSxPbmxpbmVSZXNvdXJjZTpmdW5jdGlvbihhLGIpe2IudXJsPXRoaXMuZ2V0QXR0cmlidXRlTlMoYSx0aGlzLm5hbWVzcGFjZXMueGxpbmssImhyZWYiKTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9fSxvd3M6T3BlbkxheWVycy5Gb3JtYXQuT1dTQ29tbW9uLnYxXzBfMC5wcm90b3R5cGUucmVhZGVycy5vd3MsZ21sOk9wZW5MYXllcnMuRm9ybWF0LkdNTC52Mi5wcm90b3R5cGUucmVhZGVycy5nbWwsc2xkOk9wZW5MYXllcnMuRm9ybWF0LlNMRC52MV8wXzAucHJvdG90eXBlLnJlYWRlcnMuc2xkLGZlYXR1cmU6T3BlbkxheWVycy5Gb3JtYXQuR01MLnYyLnByb3RvdHlwZS5yZWFkZXJzLmZlYXR1cmV9LHdyaXRlcnM6e293Yzp7T1dTQ29udGV4dDpmdW5jdGlvbihhKXt2YXIgYj0KdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJPV1NDb250ZXh0Iix7YXR0cmlidXRlczp7dmVyc2lvbjp0aGlzLlZFUlNJT04saWQ6YS5pZHx8T3BlbkxheWVycy5VdGlsLmNyZWF0ZVVuaXF1ZUlEKCJPcGVuTGF5ZXJzX09XU0NvbnRleHRfIil9fSk7dGhpcy53cml0ZU5vZGUoIkdlbmVyYWwiLGEsYik7dGhpcy53cml0ZU5vZGUoIlJlc291cmNlTGlzdCIsYSxiKTtyZXR1cm4gYn0sR2VuZXJhbDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIkdlbmVyYWwiKTt0aGlzLndyaXRlTm9kZSgib3dzOkJvdW5kaW5nQm94IixhLGIpO3RoaXMud3JpdGVOb2RlKCJvd3M6VGl0bGUiLGEudGl0bGV8fCJPcGVuTGF5ZXJzIE9XU0NvbnRleHQiLGIpO3JldHVybiBifSxSZXNvdXJjZUxpc3Q6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiUmVzb3VyY2VMaXN0IiksYz0wLGQ9YS5sYXllcnMubGVuZ3RoO2M8ZDtjKyspe3ZhciBlPQphLmxheWVyc1tjXSxmPXRoaXMuZGVjb21wb3NlTmVzdGluZ1BhdGgoZS5tZXRhZGF0YS5uZXN0aW5nUGF0aCk7dGhpcy53cml0ZU5vZGUoIl9MYXllciIse2xheWVyOmUsc3ViUGF0aHM6Zn0sYil9cmV0dXJuIGJ9LFNlcnZlcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIlNlcnZlciIse2F0dHJpYnV0ZXM6e3ZlcnNpb246YS52ZXJzaW9uLHNlcnZpY2U6YS5zZXJ2aWNlfX0pO3RoaXMud3JpdGVOb2RlKCJPbmxpbmVSZXNvdXJjZSIsYSxiKTtyZXR1cm4gYn0sT25saW5lUmVzb3VyY2U6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiT25saW5lUmVzb3VyY2UiLHthdHRyaWJ1dGVzOnsieGxpbms6aHJlZiI6YS51cmx9fSl9LElubGluZUdlb21ldHJ5OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiSW5saW5lR2VvbWV0cnkiKSxjPWEuZ2V0RGF0YUV4dGVudCgpO251bGwhPT1jJiZ0aGlzLndyaXRlTm9kZSgiZ21sOmJvdW5kZWRCeSIsCmMsYik7Zm9yKHZhciBjPTAsZD1hLmZlYXR1cmVzLmxlbmd0aDtjPGQ7YysrKXRoaXMud3JpdGVOb2RlKCJnbWw6ZmVhdHVyZU1lbWJlciIsYS5mZWF0dXJlc1tjXSxiKTtyZXR1cm4gYn0sU3R5bGVMaXN0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIlN0eWxlTGlzdCIpLGM9MCxkPWEubGVuZ3RoO2M8ZDtjKyspdGhpcy53cml0ZU5vZGUoIlN0eWxlIixhW2NdLGIpO3JldHVybiBifSxTdHlsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIlN0eWxlIik7dGhpcy53cml0ZU5vZGUoIk5hbWUiLGEsYik7dGhpcy53cml0ZU5vZGUoIlRpdGxlIixhLGIpO2EubGVnZW5kJiZ0aGlzLndyaXRlTm9kZSgiTGVnZW5kVVJMIixhLGIpO3JldHVybiBifSxOYW1lOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIk5hbWUiLHt2YWx1ZTphLm5hbWV9KX0sVGl0bGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiVGl0bGUiLAp7dmFsdWU6YS50aXRsZX0pfSxMZWdlbmRVUkw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJMZWdlbmRVUkwiKTt0aGlzLndyaXRlTm9kZSgiT25saW5lUmVzb3VyY2UiLGEubGVnZW5kLGIpO3JldHVybiBifSxfV01TOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiTGF5ZXIiLHthdHRyaWJ1dGVzOntuYW1lOmEucGFyYW1zLkxBWUVSUyxxdWVyeWFibGU6YS5xdWVyeWFibGU/IjEiOiIwIixoaWRkZW46YS52aXNpYmlsaXR5PyIwIjoiMSIsb3BhY2l0eTphLmhhc093blByb3BlcnR5KCJvcGFjaXR5Iik/YS5vcGFjaXR5Om51bGx9fSk7dGhpcy53cml0ZU5vZGUoIm93czpUaXRsZSIsYS5uYW1lLGIpO3RoaXMud3JpdGVOb2RlKCJvd3M6T3V0cHV0Rm9ybWF0IixhLnBhcmFtcy5GT1JNQVQsYik7dGhpcy53cml0ZU5vZGUoIlNlcnZlciIse3NlcnZpY2U6T3BlbkxheWVycy5Gb3JtYXQuQ29udGV4dC5zZXJ2aWNlVHlwZXMuV01TLAp2ZXJzaW9uOmEucGFyYW1zLlZFUlNJT04sdXJsOmEudXJsfSxiKTthLm1ldGFkYXRhLnN0eWxlcyYmMDxhLm1ldGFkYXRhLnN0eWxlcy5sZW5ndGgmJnRoaXMud3JpdGVOb2RlKCJTdHlsZUxpc3QiLGEubWV0YWRhdGEuc3R5bGVzLGIpO3JldHVybiBifSxfTGF5ZXI6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkO2I9YS5sYXllcjtjPWEuc3ViUGF0aHM7ZD1udWxsOzA8Yy5sZW5ndGg/KGI9Y1swXS5qb2luKCIvIiksYz1iLmxhc3RJbmRleE9mKCIvIiksZD10aGlzLm5lc3RpbmdMYXllckxvb2t1cFtiXSxjPTA8Yz9iLnN1YnN0cmluZyhjKzEsYi5sZW5ndGgpOmIsZHx8KGQ9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJMYXllciIpLHRoaXMud3JpdGVOb2RlKCJvd3M6VGl0bGUiLGMsZCksdGhpcy5uZXN0aW5nTGF5ZXJMb29rdXBbYl09ZCksYS5zdWJQYXRocy5zaGlmdCgpLHRoaXMud3JpdGVOb2RlKCJfTGF5ZXIiLGEsZCkpOihiIGluc3RhbmNlb2YgT3BlbkxheWVycy5MYXllci5XTVM/CmQ9dGhpcy53cml0ZU5vZGUoIl9XTVMiLGIpOmIgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkxheWVyLlZlY3RvciYmKGIucHJvdG9jb2wgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLlByb3RvY29sLldGUy52MT9kPXRoaXMud3JpdGVOb2RlKCJfV0ZTIixiKTpiLnByb3RvY29sIGluc3RhbmNlb2YgT3BlbkxheWVycy5Qcm90b2NvbC5IVFRQP2IucHJvdG9jb2wuZm9ybWF0IGluc3RhbmNlb2YgT3BlbkxheWVycy5Gb3JtYXQuR01MPyhiLnByb3RvY29sLmZvcm1hdC52ZXJzaW9uPSIyLjEuMiIsZD10aGlzLndyaXRlTm9kZSgiX0dNTCIsYikpOmIucHJvdG9jb2wuZm9ybWF0IGluc3RhbmNlb2YgT3BlbkxheWVycy5Gb3JtYXQuS01MJiYoYi5wcm90b2NvbC5mb3JtYXQudmVyc2lvbj0iMi4yIixkPXRoaXMud3JpdGVOb2RlKCJfS01MIixiKSk6KHRoaXMuc2V0TmFtZXNwYWNlKCJmZWF0dXJlIix0aGlzLmZlYXR1cmVOUyksZD10aGlzLndyaXRlTm9kZSgiX0lubGluZUdlb21ldHJ5IixiKSkpLApiLm9wdGlvbnMubWF4U2NhbGUmJnRoaXMud3JpdGVOb2RlKCJzbGQ6TWluU2NhbGVEZW5vbWluYXRvciIsYi5vcHRpb25zLm1heFNjYWxlLGQpLGIub3B0aW9ucy5taW5TY2FsZSYmdGhpcy53cml0ZU5vZGUoInNsZDpNYXhTY2FsZURlbm9taW5hdG9yIixiLm9wdGlvbnMubWluU2NhbGUsZCksdGhpcy5uZXN0aW5nTGF5ZXJMb29rdXBbYi5uYW1lXT1kKTtyZXR1cm4gZH0sX1dGUzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIkxheWVyIix7YXR0cmlidXRlczp7bmFtZTphLnByb3RvY29sLmZlYXR1cmVQcmVmaXgrIjoiK2EucHJvdG9jb2wuZmVhdHVyZVR5cGUsaGlkZGVuOmEudmlzaWJpbGl0eT8iMCI6IjEifX0pO3RoaXMud3JpdGVOb2RlKCJvd3M6VGl0bGUiLGEubmFtZSxiKTt0aGlzLndyaXRlTm9kZSgiU2VydmVyIix7c2VydmljZTpPcGVuTGF5ZXJzLkZvcm1hdC5Db250ZXh0LnNlcnZpY2VUeXBlcy5XRlMsdmVyc2lvbjphLnByb3RvY29sLnZlcnNpb24sCnVybDphLnByb3RvY29sLnVybH0sYik7cmV0dXJuIGJ9LF9JbmxpbmVHZW9tZXRyeTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIkxheWVyIix7YXR0cmlidXRlczp7bmFtZTp0aGlzLmZlYXR1cmVUeXBlLGhpZGRlbjphLnZpc2liaWxpdHk/IjAiOiIxIn19KTt0aGlzLndyaXRlTm9kZSgib3dzOlRpdGxlIixhLm5hbWUsYik7dGhpcy53cml0ZU5vZGUoIklubGluZUdlb21ldHJ5IixhLGIpO3JldHVybiBifSxfR01MOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiTGF5ZXIiKTt0aGlzLndyaXRlTm9kZSgib3dzOlRpdGxlIixhLm5hbWUsYik7dGhpcy53cml0ZU5vZGUoIlNlcnZlciIse3NlcnZpY2U6T3BlbkxheWVycy5Gb3JtYXQuQ29udGV4dC5zZXJ2aWNlVHlwZXMuR01MLHVybDphLnByb3RvY29sLnVybCx2ZXJzaW9uOmEucHJvdG9jb2wuZm9ybWF0LnZlcnNpb259LGIpO3JldHVybiBifSxfS01MOmZ1bmN0aW9uKGEpe3ZhciBiPQp0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIkxheWVyIik7dGhpcy53cml0ZU5vZGUoIm93czpUaXRsZSIsYS5uYW1lLGIpO3RoaXMud3JpdGVOb2RlKCJTZXJ2ZXIiLHtzZXJ2aWNlOk9wZW5MYXllcnMuRm9ybWF0LkNvbnRleHQuc2VydmljZVR5cGVzLktNTCx2ZXJzaW9uOmEucHJvdG9jb2wuZm9ybWF0LnZlcnNpb24sdXJsOmEucHJvdG9jb2wudXJsfSxiKTtyZXR1cm4gYn19LGdtbDpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7Ym91bmRlZEJ5OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOmJvdW5kZWRCeSIpO3RoaXMud3JpdGVOb2RlKCJnbWw6Qm94IixhLGIpO3JldHVybiBifX0sT3BlbkxheWVycy5Gb3JtYXQuR01MLnYyLnByb3RvdHlwZS53cml0ZXJzLmdtbCksb3dzOk9wZW5MYXllcnMuRm9ybWF0Lk9XU0NvbW1vbi52MV8wXzAucHJvdG90eXBlLndyaXRlcnMub3dzLHNsZDpPcGVuTGF5ZXJzLkZvcm1hdC5TTEQudjFfMF8wLnByb3RvdHlwZS53cml0ZXJzLnNsZCwKZmVhdHVyZTpPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjIucHJvdG90eXBlLndyaXRlcnMuZmVhdHVyZX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuT1dTQ29udGV4dC52MF8zXzEifSk7T3BlbkxheWVycy5Db250cm9sLlRleHRCdXR0b25QYW5lbD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbC5QYW5lbCx7dmVydGljYWw6ITEsYWRkaXRpb25hbENsYXNzOm51bGwsZHJhdzpmdW5jdGlvbigpe09wZW5MYXllcnMuQ29udHJvbC5QYW5lbC5wcm90b3R5cGUuZHJhdy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5zZXRPcmllbnRhdGlvbkNsYXNzKCk7dGhpcy5zZXRBZGRpdGlvbmFsQ2xhc3MoKTtyZXR1cm4gdGhpcy5kaXZ9LHJlZHJhdzpmdW5jdGlvbigpe09wZW5MYXllcnMuQ29udHJvbC5QYW5lbC5wcm90b3R5cGUucmVkcmF3LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLnNldE9yaWVudGF0aW9uQ2xhc3MoKX0sc2V0T3JpZW50YXRpb25DbGFzczpmdW5jdGlvbigpe3RoaXMudmVydGljYWw/T3BlbkxheWVycy5FbGVtZW50LmFkZENsYXNzKHRoaXMuZGl2LCJ2ZXJ0aWNhbCIpOk9wZW5MYXllcnMuRWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLmRpdiwKInZlcnRpY2FsIil9LHNldEFkZGl0aW9uYWxDbGFzczpmdW5jdGlvbigpe3RoaXMuYWRkaXRpb25hbENsYXNzJiZPcGVuTGF5ZXJzLkVsZW1lbnQuYWRkQ2xhc3ModGhpcy5kaXYsdGhpcy5hZGRpdGlvbmFsQ2xhc3MpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuVGV4dEJ1dHRvblBhbmVsIn0pO09wZW5MYXllcnMuQ29udHJvbC5TY2FsZUxpbmU9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse21heFdpZHRoOjEwMCx0b3BPdXRVbml0czoia20iLHRvcEluVW5pdHM6Im0iLGJvdHRvbU91dFVuaXRzOiJtaSIsYm90dG9tSW5Vbml0czoiZnQiLGVUb3A6bnVsbCxlQm90dG9tOm51bGwsZ2VvZGVzaWM6ITEsZHJhdzpmdW5jdGlvbigpe09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZHJhdy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5lVG9wfHwodGhpcy5lVG9wPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuZVRvcC5jbGFzc05hbWU9dGhpcy5kaXNwbGF5Q2xhc3MrIlRvcCIsdGhpcy5kaXYuYXBwZW5kQ2hpbGQodGhpcy5lVG9wKSx0aGlzLmVUb3Auc3R5bGUudmlzaWJpbGl0eT0iIj09dGhpcy50b3BPdXRVbml0c3x8IiI9PXRoaXMudG9wSW5Vbml0cz8iaGlkZGVuIjoidmlzaWJsZSIsdGhpcy5lQm90dG9tPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLAp0aGlzLmVCb3R0b20uY2xhc3NOYW1lPXRoaXMuZGlzcGxheUNsYXNzKyJCb3R0b20iLHRoaXMuZGl2LmFwcGVuZENoaWxkKHRoaXMuZUJvdHRvbSksdGhpcy5lQm90dG9tLnN0eWxlLnZpc2liaWxpdHk9IiI9PXRoaXMuYm90dG9tT3V0VW5pdHN8fCIiPT10aGlzLmJvdHRvbUluVW5pdHM/ImhpZGRlbiI6InZpc2libGUiKTt0aGlzLm1hcC5ldmVudHMucmVnaXN0ZXIoIm1vdmVlbmQiLHRoaXMsdGhpcy51cGRhdGUpO3RoaXMudXBkYXRlKCk7cmV0dXJuIHRoaXMuZGl2fSxnZXRCYXJMZW46ZnVuY3Rpb24oYSl7dmFyIGI9cGFyc2VJbnQoTWF0aC5sb2coYSkvTWF0aC5sb2coMTApKSxiPU1hdGgucG93KDEwLGIpLGE9cGFyc2VJbnQoYS9iKTtyZXR1cm4oNTxhPzU6MjxhPzI6MSkqYn0sdXBkYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5tYXAuZ2V0UmVzb2x1dGlvbigpO2lmKGEpe3ZhciBiPXRoaXMubWFwLmdldFVuaXRzKCksYz1PcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVCxkPXRoaXMubWF4V2lkdGgqCmEqY1tiXSxlPTE7ITA9PT10aGlzLmdlb2Rlc2ljJiYoZT0odGhpcy5tYXAuZ2V0R2VvZGVzaWNQaXhlbFNpemUoKS53fHwxRS02KSp0aGlzLm1heFdpZHRoLyhkL2Mua20pLGQqPWUpO3ZhciBmLGc7MUU1PGQ/KGY9dGhpcy50b3BPdXRVbml0cyxnPXRoaXMuYm90dG9tT3V0VW5pdHMpOihmPXRoaXMudG9wSW5Vbml0cyxnPXRoaXMuYm90dG9tSW5Vbml0cyk7dmFyIGg9ZC9jW2ZdLGk9ZC9jW2ddLGQ9dGhpcy5nZXRCYXJMZW4oaCksaj10aGlzLmdldEJhckxlbihpKSxoPWQvY1tiXSpjW2ZdLGk9ai9jW2JdKmNbZ10sYj1oL2EvZSxhPWkvYS9lOyJ2aXNpYmxlIj09dGhpcy5lQm90dG9tLnN0eWxlLnZpc2liaWxpdHkmJih0aGlzLmVCb3R0b20uc3R5bGUud2lkdGg9TWF0aC5yb3VuZChhKSsicHgiLHRoaXMuZUJvdHRvbS5pbm5lckhUTUw9aisiICIrZyk7InZpc2libGUiPT10aGlzLmVUb3Auc3R5bGUudmlzaWJpbGl0eSYmKHRoaXMuZVRvcC5zdHlsZS53aWR0aD1NYXRoLnJvdW5kKGIpKwoicHgiLHRoaXMuZVRvcC5pbm5lckhUTUw9ZCsiICIrZil9fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuU2NhbGVMaW5lIn0pO09wZW5MYXllcnMuSWNvbj1PcGVuTGF5ZXJzLkNsYXNzKHt1cmw6bnVsbCxzaXplOm51bGwsb2Zmc2V0Om51bGwsY2FsY3VsYXRlT2Zmc2V0Om51bGwsaW1hZ2VEaXY6bnVsbCxweDpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy51cmw9YTt0aGlzLnNpemU9Ynx8e3c6MjAsaDoyMH07dGhpcy5vZmZzZXQ9Y3x8e3g6LSh0aGlzLnNpemUudy8yKSx5Oi0odGhpcy5zaXplLmgvMil9O3RoaXMuY2FsY3VsYXRlT2Zmc2V0PWQ7YT1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlVW5pcXVlSUQoIk9MX0ljb25fIik7dGhpcy5pbWFnZURpdj1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlQWxwaGFJbWFnZURpdihhKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZXJhc2UoKTtPcGVuTGF5ZXJzLkV2ZW50LnN0b3BPYnNlcnZpbmdFbGVtZW50KHRoaXMuaW1hZ2VEaXYuZmlyc3RDaGlsZCk7dGhpcy5pbWFnZURpdi5pbm5lckhUTUw9IiI7dGhpcy5pbWFnZURpdj1udWxsfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgT3BlbkxheWVycy5JY29uKHRoaXMudXJsLAp0aGlzLnNpemUsdGhpcy5vZmZzZXQsdGhpcy5jYWxjdWxhdGVPZmZzZXQpfSxzZXRTaXplOmZ1bmN0aW9uKGEpe251bGwhPWEmJih0aGlzLnNpemU9YSk7dGhpcy5kcmF3KCl9LHNldFVybDpmdW5jdGlvbihhKXtudWxsIT1hJiYodGhpcy51cmw9YSk7dGhpcy5kcmF3KCl9LGRyYXc6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5VdGlsLm1vZGlmeUFscGhhSW1hZ2VEaXYodGhpcy5pbWFnZURpdixudWxsLG51bGwsdGhpcy5zaXplLHRoaXMudXJsLCJhYnNvbHV0ZSIpO3RoaXMubW92ZVRvKGEpO3JldHVybiB0aGlzLmltYWdlRGl2fSxlcmFzZTpmdW5jdGlvbigpe251bGwhPXRoaXMuaW1hZ2VEaXYmJm51bGwhPXRoaXMuaW1hZ2VEaXYucGFyZW50Tm9kZSYmT3BlbkxheWVycy5FbGVtZW50LnJlbW92ZSh0aGlzLmltYWdlRGl2KX0sc2V0T3BhY2l0eTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlV0aWwubW9kaWZ5QWxwaGFJbWFnZURpdih0aGlzLmltYWdlRGl2LG51bGwsbnVsbCxudWxsLG51bGwsCm51bGwsbnVsbCxudWxsLGEpfSxtb3ZlVG86ZnVuY3Rpb24oYSl7bnVsbCE9YSYmKHRoaXMucHg9YSk7bnVsbCE9dGhpcy5pbWFnZURpdiYmKG51bGw9PXRoaXMucHg/dGhpcy5kaXNwbGF5KCExKToodGhpcy5jYWxjdWxhdGVPZmZzZXQmJih0aGlzLm9mZnNldD10aGlzLmNhbGN1bGF0ZU9mZnNldCh0aGlzLnNpemUpKSxPcGVuTGF5ZXJzLlV0aWwubW9kaWZ5QWxwaGFJbWFnZURpdih0aGlzLmltYWdlRGl2LG51bGwse3g6dGhpcy5weC54K3RoaXMub2Zmc2V0LngseTp0aGlzLnB4LnkrdGhpcy5vZmZzZXQueX0pKSl9LGRpc3BsYXk6ZnVuY3Rpb24oYSl7dGhpcy5pbWFnZURpdi5zdHlsZS5kaXNwbGF5PWE/IiI6Im5vbmUifSxpc0RyYXduOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1hZ2VEaXYmJnRoaXMuaW1hZ2VEaXYucGFyZW50Tm9kZSYmMTEhPXRoaXMuaW1hZ2VEaXYucGFyZW50Tm9kZS5ub2RlVHlwZX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5JY29uIn0pO09wZW5MYXllcnMuTWFya2VyPU9wZW5MYXllcnMuQ2xhc3Moe2ljb246bnVsbCxsb25sYXQ6bnVsbCxldmVudHM6bnVsbCxtYXA6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYil7dGhpcy5sb25sYXQ9YTt2YXIgYz1iP2I6T3BlbkxheWVycy5NYXJrZXIuZGVmYXVsdEljb24oKTtudWxsPT10aGlzLmljb24/dGhpcy5pY29uPWM6KHRoaXMuaWNvbi51cmw9Yy51cmwsdGhpcy5pY29uLnNpemU9Yy5zaXplLHRoaXMuaWNvbi5vZmZzZXQ9Yy5vZmZzZXQsdGhpcy5pY29uLmNhbGN1bGF0ZU9mZnNldD1jLmNhbGN1bGF0ZU9mZnNldCk7dGhpcy5ldmVudHM9bmV3IE9wZW5MYXllcnMuRXZlbnRzKHRoaXMsdGhpcy5pY29uLmltYWdlRGl2KX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZXJhc2UoKTt0aGlzLm1hcD1udWxsO3RoaXMuZXZlbnRzLmRlc3Ryb3koKTt0aGlzLmV2ZW50cz1udWxsO251bGwhPXRoaXMuaWNvbiYmKHRoaXMuaWNvbi5kZXN0cm95KCksdGhpcy5pY29uPW51bGwpfSwKZHJhdzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pY29uLmRyYXcoYSl9LGVyYXNlOmZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5pY29uJiZ0aGlzLmljb24uZXJhc2UoKX0sbW92ZVRvOmZ1bmN0aW9uKGEpe251bGwhPWEmJm51bGwhPXRoaXMuaWNvbiYmdGhpcy5pY29uLm1vdmVUbyhhKTt0aGlzLmxvbmxhdD10aGlzLm1hcC5nZXRMb25MYXRGcm9tTGF5ZXJQeChhKX0saXNEcmF3bjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmljb24mJnRoaXMuaWNvbi5pc0RyYXduKCl9LG9uU2NyZWVuOmZ1bmN0aW9uKCl7dmFyIGE9ITE7dGhpcy5tYXAmJihhPXRoaXMubWFwLmdldEV4dGVudCgpLmNvbnRhaW5zTG9uTGF0KHRoaXMubG9ubGF0KSk7cmV0dXJuIGF9LGluZmxhdGU6ZnVuY3Rpb24oYSl7dGhpcy5pY29uJiZ0aGlzLmljb24uc2V0U2l6ZSh7dzp0aGlzLmljb24uc2l6ZS53KmEsaDp0aGlzLmljb24uc2l6ZS5oKmF9KX0sc2V0T3BhY2l0eTpmdW5jdGlvbihhKXt0aGlzLmljb24uc2V0T3BhY2l0eShhKX0sCnNldFVybDpmdW5jdGlvbihhKXt0aGlzLmljb24uc2V0VXJsKGEpfSxkaXNwbGF5OmZ1bmN0aW9uKGEpe3RoaXMuaWNvbi5kaXNwbGF5KGEpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLk1hcmtlciJ9KTtPcGVuTGF5ZXJzLk1hcmtlci5kZWZhdWx0SWNvbj1mdW5jdGlvbigpe3JldHVybiBuZXcgT3BlbkxheWVycy5JY29uKE9wZW5MYXllcnMuVXRpbC5nZXRJbWFnZUxvY2F0aW9uKCJtYXJrZXIucG5nIikse3c6MjEsaDoyNX0se3g6LTEwLjUseTotMjV9KX07T3BlbkxheWVycy5MYXllci5UaWxlQ2FjaGU9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkxheWVyLkdyaWQse2lzQmFzZUxheWVyOiEwLGZvcm1hdDoiaW1hZ2UvcG5nIixzZXJ2ZXJSZXNvbHV0aW9uczpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5sYXllcm5hbWU9YztPcGVuTGF5ZXJzLkxheWVyLkdyaWQucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYSxiLHt9LGRdKTt0aGlzLmV4dGVuc2lvbj10aGlzLmZvcm1hdC5zcGxpdCgiLyIpWzFdLnRvTG93ZXJDYXNlKCk7dGhpcy5leHRlbnNpb249ImpwZyI9PXRoaXMuZXh0ZW5zaW9uPyJqcGVnIjp0aGlzLmV4dGVuc2lvbn0sY2xvbmU6ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9bmV3IE9wZW5MYXllcnMuTGF5ZXIuVGlsZUNhY2hlKHRoaXMubmFtZSx0aGlzLnVybCx0aGlzLmxheWVybmFtZSx0aGlzLmdldE9wdGlvbnMoKSkpO3JldHVybiBhPU9wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUuY2xvbmUuYXBwbHkodGhpcywKW2FdKX0sZ2V0VVJMOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0U2VydmVyUmVzb2x1dGlvbigpLGM9dGhpcy5tYXhFeHRlbnQsZD10aGlzLnRpbGVTaXplLGU9TWF0aC5yb3VuZCgoYS5sZWZ0LWMubGVmdCkvKGIqZC53KSksYT1NYXRoLnJvdW5kKChhLmJvdHRvbS1jLmJvdHRvbSkvKGIqZC5oKSksYj1udWxsIT10aGlzLnNlcnZlclJlc29sdXRpb25zP09wZW5MYXllcnMuVXRpbC5pbmRleE9mKHRoaXMuc2VydmVyUmVzb2x1dGlvbnMsYik6dGhpcy5tYXAuZ2V0Wm9vbSgpLGU9W3RoaXMubGF5ZXJuYW1lLE9wZW5MYXllcnMuTnVtYmVyLnplcm9QYWQoYiwyKSxPcGVuTGF5ZXJzLk51bWJlci56ZXJvUGFkKHBhcnNlSW50KGUvMUU2KSwzKSxPcGVuTGF5ZXJzLk51bWJlci56ZXJvUGFkKHBhcnNlSW50KGUvMUUzKSUxRTMsMyksT3BlbkxheWVycy5OdW1iZXIuemVyb1BhZChwYXJzZUludChlKSUxRTMsMyksT3BlbkxheWVycy5OdW1iZXIuemVyb1BhZChwYXJzZUludChhLzFFNiksCjMpLE9wZW5MYXllcnMuTnVtYmVyLnplcm9QYWQocGFyc2VJbnQoYS8xRTMpJTFFMywzKSxPcGVuTGF5ZXJzLk51bWJlci56ZXJvUGFkKHBhcnNlSW50KGEpJTFFMywzKSsiLiIrdGhpcy5leHRlbnNpb25dLmpvaW4oIi8iKSxiPXRoaXMudXJsO09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGIpJiYoYj10aGlzLnNlbGVjdFVybChlLGIpKTtiPSIvIj09Yi5jaGFyQXQoYi5sZW5ndGgtMSk/YjpiKyIvIjtyZXR1cm4gYitlfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLlRpbGVDYWNoZSJ9KTtPcGVuTGF5ZXJzLlN0cmF0ZWd5LlBhZ2luZz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuU3RyYXRlZ3kse2ZlYXR1cmVzOm51bGwsbGVuZ3RoOjEwLG51bTpudWxsLHBhZ2luZzohMSxhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPU9wZW5MYXllcnMuU3RyYXRlZ3kucHJvdG90eXBlLmFjdGl2YXRlLmNhbGwodGhpcyk7aWYoYSl0aGlzLmxheWVyLmV2ZW50cy5vbih7YmVmb3JlZmVhdHVyZXNhZGRlZDp0aGlzLmNhY2hlRmVhdHVyZXMsc2NvcGU6dGhpc30pO3JldHVybiBhfSxkZWFjdGl2YXRlOmZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5TdHJhdGVneS5wcm90b3R5cGUuZGVhY3RpdmF0ZS5jYWxsKHRoaXMpO2EmJih0aGlzLmNsZWFyQ2FjaGUoKSx0aGlzLmxheWVyLmV2ZW50cy51bih7YmVmb3JlZmVhdHVyZXNhZGRlZDp0aGlzLmNhY2hlRmVhdHVyZXMsc2NvcGU6dGhpc30pKTtyZXR1cm4gYX0sY2FjaGVGZWF0dXJlczpmdW5jdGlvbihhKXt0aGlzLnBhZ2luZ3x8KHRoaXMuY2xlYXJDYWNoZSgpLAp0aGlzLmZlYXR1cmVzPWEuZmVhdHVyZXMsdGhpcy5wYWdlTmV4dChhKSl9LGNsZWFyQ2FjaGU6ZnVuY3Rpb24oKXtpZih0aGlzLmZlYXR1cmVzKWZvcih2YXIgYT0wO2E8dGhpcy5mZWF0dXJlcy5sZW5ndGg7KythKXRoaXMuZmVhdHVyZXNbYV0uZGVzdHJveSgpO3RoaXMubnVtPXRoaXMuZmVhdHVyZXM9bnVsbH0scGFnZUNvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguY2VpbCgodGhpcy5mZWF0dXJlcz90aGlzLmZlYXR1cmVzLmxlbmd0aDowKS90aGlzLmxlbmd0aCl9LHBhZ2VOdW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5udW19LHBhZ2VMZW5ndGg6ZnVuY3Rpb24oYSl7YSYmMDxhJiYodGhpcy5sZW5ndGg9YSk7cmV0dXJuIHRoaXMubGVuZ3RofSxwYWdlTmV4dDpmdW5jdGlvbihhKXt2YXIgYj0hMTt0aGlzLmZlYXR1cmVzJiYobnVsbD09PXRoaXMubnVtJiYodGhpcy5udW09LTEpLGI9dGhpcy5wYWdlKCh0aGlzLm51bSsxKSp0aGlzLmxlbmd0aCxhKSk7cmV0dXJuIGJ9LHBhZ2VQcmV2aW91czpmdW5jdGlvbigpe3ZhciBhPQohMTt0aGlzLmZlYXR1cmVzJiYobnVsbD09PXRoaXMubnVtJiYodGhpcy5udW09dGhpcy5wYWdlQ291bnQoKSksYT10aGlzLnBhZ2UoKHRoaXMubnVtLTEpKnRoaXMubGVuZ3RoKSk7cmV0dXJuIGF9LHBhZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz0hMTtpZih0aGlzLmZlYXR1cmVzJiYwPD1hJiZhPHRoaXMuZmVhdHVyZXMubGVuZ3RoKXt2YXIgZD1NYXRoLmZsb29yKGEvdGhpcy5sZW5ndGgpO2QhPXRoaXMubnVtJiYodGhpcy5wYWdpbmc9ITAsYz10aGlzLmZlYXR1cmVzLnNsaWNlKGEsYSt0aGlzLmxlbmd0aCksdGhpcy5sYXllci5yZW1vdmVGZWF0dXJlcyh0aGlzLmxheWVyLmZlYXR1cmVzKSx0aGlzLm51bT1kLGImJmIuZmVhdHVyZXM/Yi5mZWF0dXJlcz1jOnRoaXMubGF5ZXIuYWRkRmVhdHVyZXMoYyksdGhpcy5wYWdpbmc9ITEsYz0hMCl9cmV0dXJuIGN9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuU3RyYXRlZ3kuUGFnaW5nIn0pO09wZW5MYXllcnMuSGFuZGxlci5Cb3g9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkhhbmRsZXIse2RyYWdIYW5kbGVyOm51bGwsYm94RGl2Q2xhc3NOYW1lOiJvbEhhbmRsZXJCb3hab29tQm94Iixib3hPZmZzZXRzOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyl7T3BlbkxheWVycy5IYW5kbGVyLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmRyYWdIYW5kbGVyPW5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuRHJhZyh0aGlzLHtkb3duOnRoaXMuc3RhcnRCb3gsbW92ZTp0aGlzLm1vdmVCb3gsb3V0OnRoaXMucmVtb3ZlQm94LHVwOnRoaXMuZW5kQm94fSx7a2V5TWFzazp0aGlzLmtleU1hc2t9KX0sZGVzdHJveTpmdW5jdGlvbigpe09wZW5MYXllcnMuSGFuZGxlci5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5kcmFnSGFuZGxlciYmKHRoaXMuZHJhZ0hhbmRsZXIuZGVzdHJveSgpLHRoaXMuZHJhZ0hhbmRsZXI9Cm51bGwpfSxzZXRNYXA6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5IYW5kbGVyLnByb3RvdHlwZS5zZXRNYXAuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZHJhZ0hhbmRsZXImJnRoaXMuZHJhZ0hhbmRsZXIuc2V0TWFwKGEpfSxzdGFydEJveDpmdW5jdGlvbigpe3RoaXMuY2FsbGJhY2soInN0YXJ0IixbXSk7dGhpcy56b29tQm94PU9wZW5MYXllcnMuVXRpbC5jcmVhdGVEaXYoInpvb21Cb3giLHt4Oi05OTk5LHk6LTk5OTl9KTt0aGlzLnpvb21Cb3guY2xhc3NOYW1lPXRoaXMuYm94RGl2Q2xhc3NOYW1lO3RoaXMuem9vbUJveC5zdHlsZS56SW5kZXg9dGhpcy5tYXAuWl9JTkRFWF9CQVNFLlBvcHVwLTE7dGhpcy5tYXAudmlld1BvcnREaXYuYXBwZW5kQ2hpbGQodGhpcy56b29tQm94KTtPcGVuTGF5ZXJzLkVsZW1lbnQuYWRkQ2xhc3ModGhpcy5tYXAudmlld1BvcnREaXYsIm9sRHJhd0JveCIpfSxtb3ZlQm94OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZHJhZ0hhbmRsZXIuc3RhcnQueCwKYz10aGlzLmRyYWdIYW5kbGVyLnN0YXJ0LnksZD1NYXRoLmFicyhiLWEueCksZT1NYXRoLmFicyhjLWEueSksZj10aGlzLmdldEJveE9mZnNldHMoKTt0aGlzLnpvb21Cb3guc3R5bGUud2lkdGg9ZCtmLndpZHRoKzErInB4Ijt0aGlzLnpvb21Cb3guc3R5bGUuaGVpZ2h0PWUrZi5oZWlnaHQrMSsicHgiO3RoaXMuem9vbUJveC5zdHlsZS5sZWZ0PShhLng8Yj9iLWQtZi5sZWZ0OmItZi5sZWZ0KSsicHgiO3RoaXMuem9vbUJveC5zdHlsZS50b3A9KGEueTxjP2MtZS1mLnRvcDpjLWYudG9wKSsicHgifSxlbmRCb3g6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoNTxNYXRoLmFicyh0aGlzLmRyYWdIYW5kbGVyLnN0YXJ0LngtYS54KXx8NTxNYXRoLmFicyh0aGlzLmRyYWdIYW5kbGVyLnN0YXJ0LnktYS55KSl7dmFyIGM9dGhpcy5kcmFnSGFuZGxlci5zdGFydDtiPU1hdGgubWluKGMueSxhLnkpO3ZhciBkPU1hdGgubWF4KGMueSxhLnkpLGU9TWF0aC5taW4oYy54LGEueCksYT1NYXRoLm1heChjLngsCmEueCk7Yj1uZXcgT3BlbkxheWVycy5Cb3VuZHMoZSxkLGEsYil9ZWxzZSBiPXRoaXMuZHJhZ0hhbmRsZXIuc3RhcnQuY2xvbmUoKTt0aGlzLnJlbW92ZUJveCgpO3RoaXMuY2FsbGJhY2soImRvbmUiLFtiXSl9LHJlbW92ZUJveDpmdW5jdGlvbigpe3RoaXMubWFwLnZpZXdQb3J0RGl2LnJlbW92ZUNoaWxkKHRoaXMuem9vbUJveCk7dGhpcy5ib3hPZmZzZXRzPXRoaXMuem9vbUJveD1udWxsO09wZW5MYXllcnMuRWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm1hcC52aWV3UG9ydERpdiwib2xEcmF3Qm94Iil9LGFjdGl2YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIE9wZW5MYXllcnMuSGFuZGxlci5wcm90b3R5cGUuYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpPyh0aGlzLmRyYWdIYW5kbGVyLmFjdGl2YXRlKCksITApOiExfSxkZWFjdGl2YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIE9wZW5MYXllcnMuSGFuZGxlci5wcm90b3R5cGUuZGVhY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk/Cih0aGlzLmRyYWdIYW5kbGVyLmRlYWN0aXZhdGUoKSYmdGhpcy56b29tQm94JiZ0aGlzLnJlbW92ZUJveCgpLCEwKTohMX0sZ2V0Qm94T2Zmc2V0czpmdW5jdGlvbigpe2lmKCF0aGlzLmJveE9mZnNldHMpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Euc3R5bGUucG9zaXRpb249ImFic29sdXRlIjthLnN0eWxlLmJvcmRlcj0iMXB4IHNvbGlkIGJsYWNrIjthLnN0eWxlLndpZHRoPSIzcHgiO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7dmFyIGI9Mz09YS5jbGllbnRXaWR0aDtkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpO3ZhciBhPXBhcnNlSW50KE9wZW5MYXllcnMuRWxlbWVudC5nZXRTdHlsZSh0aGlzLnpvb21Cb3gsImJvcmRlci1sZWZ0LXdpZHRoIikpLGM9cGFyc2VJbnQoT3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKHRoaXMuem9vbUJveCwiYm9yZGVyLXJpZ2h0LXdpZHRoIikpLGQ9cGFyc2VJbnQoT3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKHRoaXMuem9vbUJveCwKImJvcmRlci10b3Atd2lkdGgiKSksZT1wYXJzZUludChPcGVuTGF5ZXJzLkVsZW1lbnQuZ2V0U3R5bGUodGhpcy56b29tQm94LCJib3JkZXItYm90dG9tLXdpZHRoIikpO3RoaXMuYm94T2Zmc2V0cz17bGVmdDphLHJpZ2h0OmMsdG9wOmQsYm90dG9tOmUsd2lkdGg6ITE9PT1iP2ErYzowLGhlaWdodDohMT09PWI/ZCtlOjB9fXJldHVybiB0aGlzLmJveE9mZnNldHN9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuSGFuZGxlci5Cb3gifSk7T3BlbkxheWVycy5Db250cm9sLlpvb21Cb3g9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse3R5cGU6T3BlbkxheWVycy5Db250cm9sLlRZUEVfVE9PTCxvdXQ6ITEsa2V5TWFzazpudWxsLGFsd2F5c1pvb206ITEsem9vbU9uQ2xpY2s6ITAsZHJhdzpmdW5jdGlvbigpe3RoaXMuaGFuZGxlcj1uZXcgT3BlbkxheWVycy5IYW5kbGVyLkJveCh0aGlzLHtkb25lOnRoaXMuem9vbUJveH0se2tleU1hc2s6dGhpcy5rZXlNYXNrfSl9LHpvb21Cb3g6ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIE9wZW5MYXllcnMuQm91bmRzKXt2YXIgYixjPWEuZ2V0Q2VudGVyUGl4ZWwoKTtpZih0aGlzLm91dCl7Yj1NYXRoLm1pbih0aGlzLm1hcC5zaXplLmgvKGEuYm90dG9tLWEudG9wKSx0aGlzLm1hcC5zaXplLncvKGEucmlnaHQtYS5sZWZ0KSk7dmFyIGQ9dGhpcy5tYXAuZ2V0RXh0ZW50KCksZT10aGlzLm1hcC5nZXRMb25MYXRGcm9tUGl4ZWwoYyksZj1lLmxvbi1kLmdldFdpZHRoKCkvCjIqYixhPWUubG9uK2QuZ2V0V2lkdGgoKS8yKmIsZz1lLmxhdC1kLmdldEhlaWdodCgpLzIqYjtiPWUubGF0K2QuZ2V0SGVpZ2h0KCkvMipiO2I9bmV3IE9wZW5MYXllcnMuQm91bmRzKGYsZyxhLGIpfWVsc2UgZj10aGlzLm1hcC5nZXRMb25MYXRGcm9tUGl4ZWwoe3g6YS5sZWZ0LHk6YS5ib3R0b219KSxhPXRoaXMubWFwLmdldExvbkxhdEZyb21QaXhlbCh7eDphLnJpZ2h0LHk6YS50b3B9KSxiPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhmLmxvbixmLmxhdCxhLmxvbixhLmxhdCk7Zj10aGlzLm1hcC5nZXRab29tKCk7Zz10aGlzLm1hcC5nZXRTaXplKCk7YT1nLncvMjtnPWcuaC8yO2I9dGhpcy5tYXAuZ2V0Wm9vbUZvckV4dGVudChiKTtkPXRoaXMubWFwLmdldFJlc29sdXRpb24oKTtlPXRoaXMubWFwLmdldFJlc29sdXRpb25Gb3Jab29tKGIpO2Q9PWU/dGhpcy5tYXAuc2V0Q2VudGVyKHRoaXMubWFwLmdldExvbkxhdEZyb21QaXhlbChjKSk6dGhpcy5tYXAuem9vbVRvKGIse3g6KGQqCmMueC1lKmEpLyhkLWUpLHk6KGQqYy55LWUqZykvKGQtZSl9KTtmPT10aGlzLm1hcC5nZXRab29tKCkmJiEwPT10aGlzLmFsd2F5c1pvb20mJnRoaXMubWFwLnpvb21UbyhmKyh0aGlzLm91dD8tMToxKSl9ZWxzZSB0aGlzLnpvb21PbkNsaWNrJiYodGhpcy5vdXQ/dGhpcy5tYXAuem9vbVRvKHRoaXMubWFwLmdldFpvb20oKS0xLGEpOnRoaXMubWFwLnpvb21Ubyh0aGlzLm1hcC5nZXRab29tKCkrMSxhKSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5ab29tQm94In0pO09wZW5MYXllcnMuQ29udHJvbC5EcmFnUGFuPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHt0eXBlOk9wZW5MYXllcnMuQ29udHJvbC5UWVBFX1RPT0wscGFubmVkOiExLGludGVydmFsOjAsZG9jdW1lbnREcmFnOiExLGtpbmV0aWM6bnVsbCxlbmFibGVLaW5ldGljOiEwLGtpbmV0aWNJbnRlcnZhbDoxMCxkcmF3OmZ1bmN0aW9uKCl7aWYodGhpcy5lbmFibGVLaW5ldGljJiZPcGVuTGF5ZXJzLktpbmV0aWMpe3ZhciBhPXtpbnRlcnZhbDp0aGlzLmtpbmV0aWNJbnRlcnZhbH07Im9iamVjdCI9PT10eXBlb2YgdGhpcy5lbmFibGVLaW5ldGljJiYoYT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGEsdGhpcy5lbmFibGVLaW5ldGljKSk7dGhpcy5raW5ldGljPW5ldyBPcGVuTGF5ZXJzLktpbmV0aWMoYSl9dGhpcy5oYW5kbGVyPW5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuRHJhZyh0aGlzLHttb3ZlOnRoaXMucGFuTWFwLGRvbmU6dGhpcy5wYW5NYXBEb25lLGRvd246dGhpcy5wYW5NYXBTdGFydH0sCntpbnRlcnZhbDp0aGlzLmludGVydmFsLGRvY3VtZW50RHJhZzp0aGlzLmRvY3VtZW50RHJhZ30pfSxwYW5NYXBTdGFydDpmdW5jdGlvbigpe3RoaXMua2luZXRpYyYmdGhpcy5raW5ldGljLmJlZ2luKCl9LHBhbk1hcDpmdW5jdGlvbihhKXt0aGlzLmtpbmV0aWMmJnRoaXMua2luZXRpYy51cGRhdGUoYSk7dGhpcy5wYW5uZWQ9ITA7dGhpcy5tYXAucGFuKHRoaXMuaGFuZGxlci5sYXN0LngtYS54LHRoaXMuaGFuZGxlci5sYXN0LnktYS55LHtkcmFnZ2luZzohMCxhbmltYXRlOiExfSl9LHBhbk1hcERvbmU6ZnVuY3Rpb24oYSl7aWYodGhpcy5wYW5uZWQpe3ZhciBiPW51bGw7dGhpcy5raW5ldGljJiYoYj10aGlzLmtpbmV0aWMuZW5kKGEpKTt0aGlzLm1hcC5wYW4odGhpcy5oYW5kbGVyLmxhc3QueC1hLngsdGhpcy5oYW5kbGVyLmxhc3QueS1hLnkse2RyYWdnaW5nOiEhYixhbmltYXRlOiExfSk7aWYoYil7dmFyIGM9dGhpczt0aGlzLmtpbmV0aWMubW92ZShiLGZ1bmN0aW9uKGEsYiwKZil7Yy5tYXAucGFuKGEsYix7ZHJhZ2dpbmc6IWYsYW5pbWF0ZTohMX0pfSl9dGhpcy5wYW5uZWQ9ITF9fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuRHJhZ1BhbiJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuTmF2aWdhdGlvbj1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbCx7ZHJhZ1BhbjpudWxsLGRyYWdQYW5PcHRpb25zOm51bGwscGluY2hab29tOm51bGwscGluY2hab29tT3B0aW9uczpudWxsLGRvY3VtZW50RHJhZzohMSx6b29tQm94Om51bGwsem9vbUJveEVuYWJsZWQ6ITAsem9vbVdoZWVsRW5hYmxlZDohMCxtb3VzZVdoZWVsT3B0aW9uczpudWxsLGhhbmRsZVJpZ2h0Q2xpY2tzOiExLHpvb21Cb3hLZXlNYXNrOk9wZW5MYXllcnMuSGFuZGxlci5NT0RfU0hJRlQsYXV0b0FjdGl2YXRlOiEwLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7dGhpcy5oYW5kbGVycz17fTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5kZWFjdGl2YXRlKCk7dGhpcy5kcmFnUGFuJiZ0aGlzLmRyYWdQYW4uZGVzdHJveSgpO3RoaXMuZHJhZ1Bhbj1udWxsOwp0aGlzLnpvb21Cb3gmJnRoaXMuem9vbUJveC5kZXN0cm95KCk7dGhpcy56b29tQm94PW51bGw7dGhpcy5waW5jaFpvb20mJnRoaXMucGluY2hab29tLmRlc3Ryb3koKTt0aGlzLnBpbmNoWm9vbT1udWxsO09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGFjdGl2YXRlOmZ1bmN0aW9uKCl7dGhpcy5kcmFnUGFuLmFjdGl2YXRlKCk7dGhpcy56b29tV2hlZWxFbmFibGVkJiZ0aGlzLmhhbmRsZXJzLndoZWVsLmFjdGl2YXRlKCk7dGhpcy5oYW5kbGVycy5jbGljay5hY3RpdmF0ZSgpO3RoaXMuem9vbUJveEVuYWJsZWQmJnRoaXMuem9vbUJveC5hY3RpdmF0ZSgpO3RoaXMucGluY2hab29tJiZ0aGlzLnBpbmNoWm9vbS5hY3RpdmF0ZSgpO3JldHVybiBPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmFjdGl2YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3RoaXMucGluY2hab29tJiZ0aGlzLnBpbmNoWm9vbS5kZWFjdGl2YXRlKCk7CnRoaXMuem9vbUJveC5kZWFjdGl2YXRlKCk7dGhpcy5kcmFnUGFuLmRlYWN0aXZhdGUoKTt0aGlzLmhhbmRsZXJzLmNsaWNrLmRlYWN0aXZhdGUoKTt0aGlzLmhhbmRsZXJzLndoZWVsLmRlYWN0aXZhdGUoKTtyZXR1cm4gT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZWFjdGl2YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZHJhdzpmdW5jdGlvbigpe3RoaXMuaGFuZGxlUmlnaHRDbGlja3MmJih0aGlzLm1hcC52aWV3UG9ydERpdi5vbmNvbnRleHRtZW51PU9wZW5MYXllcnMuRnVuY3Rpb24uRmFsc2UpO3RoaXMuaGFuZGxlcnMuY2xpY2s9bmV3IE9wZW5MYXllcnMuSGFuZGxlci5DbGljayh0aGlzLHtjbGljazp0aGlzLmRlZmF1bHRDbGljayxkYmxjbGljazp0aGlzLmRlZmF1bHREYmxDbGljayxkYmxyaWdodGNsaWNrOnRoaXMuZGVmYXVsdERibFJpZ2h0Q2xpY2t9LHsiZG91YmxlIjohMCxzdG9wRG91YmxlOiEwfSk7dGhpcy5kcmFnUGFuPW5ldyBPcGVuTGF5ZXJzLkNvbnRyb2wuRHJhZ1BhbihPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHttYXA6dGhpcy5tYXAsCmRvY3VtZW50RHJhZzp0aGlzLmRvY3VtZW50RHJhZ30sdGhpcy5kcmFnUGFuT3B0aW9ucykpO3RoaXMuem9vbUJveD1uZXcgT3BlbkxheWVycy5Db250cm9sLlpvb21Cb3goe21hcDp0aGlzLm1hcCxrZXlNYXNrOnRoaXMuem9vbUJveEtleU1hc2t9KTt0aGlzLmRyYWdQYW4uZHJhdygpO3RoaXMuem9vbUJveC5kcmF3KCk7dGhpcy5oYW5kbGVycy53aGVlbD1uZXcgT3BlbkxheWVycy5IYW5kbGVyLk1vdXNlV2hlZWwodGhpcyx7dXA6dGhpcy53aGVlbFVwLGRvd246dGhpcy53aGVlbERvd259LE9wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcy5tYXAuZnJhY3Rpb25hbFpvb20/e306e2N1bXVsYXRpdmU6ITEsaW50ZXJ2YWw6NTAsbWF4RGVsdGE6Nn0sdGhpcy5tb3VzZVdoZWVsT3B0aW9ucykpO09wZW5MYXllcnMuQ29udHJvbC5QaW5jaFpvb20mJih0aGlzLnBpbmNoWm9vbT1uZXcgT3BlbkxheWVycy5Db250cm9sLlBpbmNoWm9vbShPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHttYXA6dGhpcy5tYXB9LAp0aGlzLnBpbmNoWm9vbU9wdGlvbnMpKSl9LGRlZmF1bHRDbGljazpmdW5jdGlvbihhKXthLmxhc3RUb3VjaGVzJiYyPT1hLmxhc3RUb3VjaGVzLmxlbmd0aCYmdGhpcy5tYXAuem9vbU91dCgpfSxkZWZhdWx0RGJsQ2xpY2s6ZnVuY3Rpb24oYSl7dGhpcy5tYXAuem9vbVRvKHRoaXMubWFwLnpvb20rMSxhLnh5KX0sZGVmYXVsdERibFJpZ2h0Q2xpY2s6ZnVuY3Rpb24oYSl7dGhpcy5tYXAuem9vbVRvKHRoaXMubWFwLnpvb20tMSxhLnh5KX0sd2hlZWxDaGFuZ2U6ZnVuY3Rpb24oYSxiKXt0aGlzLm1hcC5mcmFjdGlvbmFsWm9vbXx8KGI9TWF0aC5yb3VuZChiKSk7dmFyIGM9dGhpcy5tYXAuZ2V0Wm9vbSgpLGQ7ZD1NYXRoLm1heChjK2IsMCk7ZD1NYXRoLm1pbihkLHRoaXMubWFwLmdldE51bVpvb21MZXZlbHMoKSk7ZCE9PWMmJnRoaXMubWFwLnpvb21UbyhkLGEueHkpfSx3aGVlbFVwOmZ1bmN0aW9uKGEsYil7dGhpcy53aGVlbENoYW5nZShhLGJ8fDEpfSx3aGVlbERvd246ZnVuY3Rpb24oYSwKYil7dGhpcy53aGVlbENoYW5nZShhLGJ8fC0xKX0sZGlzYWJsZVpvb21Cb3g6ZnVuY3Rpb24oKXt0aGlzLnpvb21Cb3hFbmFibGVkPSExO3RoaXMuem9vbUJveC5kZWFjdGl2YXRlKCl9LGVuYWJsZVpvb21Cb3g6ZnVuY3Rpb24oKXt0aGlzLnpvb21Cb3hFbmFibGVkPSEwO3RoaXMuYWN0aXZlJiZ0aGlzLnpvb21Cb3guYWN0aXZhdGUoKX0sZGlzYWJsZVpvb21XaGVlbDpmdW5jdGlvbigpe3RoaXMuem9vbVdoZWVsRW5hYmxlZD0hMTt0aGlzLmhhbmRsZXJzLndoZWVsLmRlYWN0aXZhdGUoKX0sZW5hYmxlWm9vbVdoZWVsOmZ1bmN0aW9uKCl7dGhpcy56b29tV2hlZWxFbmFibGVkPSEwO3RoaXMuYWN0aXZlJiZ0aGlzLmhhbmRsZXJzLndoZWVsLmFjdGl2YXRlKCl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5OYXZpZ2F0aW9uIn0pO09wZW5MYXllcnMuQ29udHJvbC5EcmF3RmVhdHVyZT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbCx7bGF5ZXI6bnVsbCxjYWxsYmFja3M6bnVsbCxtdWx0aTohMSxmZWF0dXJlQWRkZWQ6ZnVuY3Rpb24oKXt9LGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMpe09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFtjXSk7dGhpcy5jYWxsYmFja3M9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7ZG9uZTp0aGlzLmRyYXdGZWF0dXJlLG1vZGlmeTpmdW5jdGlvbihhLGIpe3RoaXMubGF5ZXIuZXZlbnRzLnRyaWdnZXJFdmVudCgic2tldGNobW9kaWZpZWQiLHt2ZXJ0ZXg6YSxmZWF0dXJlOmJ9KX0sY3JlYXRlOmZ1bmN0aW9uKGEsYil7dGhpcy5sYXllci5ldmVudHMudHJpZ2dlckV2ZW50KCJza2V0Y2hzdGFydGVkIix7dmVydGV4OmEsZmVhdHVyZTpifSl9fSx0aGlzLmNhbGxiYWNrcyk7dGhpcy5sYXllcj1hO3RoaXMuaGFuZGxlck9wdGlvbnM9CnRoaXMuaGFuZGxlck9wdGlvbnN8fHt9O3RoaXMuaGFuZGxlck9wdGlvbnMubGF5ZXJPcHRpb25zPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHRoaXMuaGFuZGxlck9wdGlvbnMubGF5ZXJPcHRpb25zLHtyZW5kZXJlcnM6YS5yZW5kZXJlcnMscmVuZGVyZXJPcHRpb25zOmEucmVuZGVyZXJPcHRpb25zfSk7Im11bHRpImluIHRoaXMuaGFuZGxlck9wdGlvbnN8fCh0aGlzLmhhbmRsZXJPcHRpb25zLm11bHRpPXRoaXMubXVsdGkpO2lmKGE9dGhpcy5sYXllci5zdHlsZU1hcCYmdGhpcy5sYXllci5zdHlsZU1hcC5zdHlsZXMudGVtcG9yYXJ5KXRoaXMuaGFuZGxlck9wdGlvbnMubGF5ZXJPcHRpb25zPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHRoaXMuaGFuZGxlck9wdGlvbnMubGF5ZXJPcHRpb25zLHtzdHlsZU1hcDpuZXcgT3BlbkxheWVycy5TdHlsZU1hcCh7ImRlZmF1bHQiOmF9KX0pO3RoaXMuaGFuZGxlcj1uZXcgYih0aGlzLHRoaXMuY2FsbGJhY2tzLHRoaXMuaGFuZGxlck9wdGlvbnMpfSwKZHJhd0ZlYXR1cmU6ZnVuY3Rpb24oYSl7YT1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihhKTshMSE9PXRoaXMubGF5ZXIuZXZlbnRzLnRyaWdnZXJFdmVudCgic2tldGNoY29tcGxldGUiLHtmZWF0dXJlOmF9KSYmKGEuc3RhdGU9T3BlbkxheWVycy5TdGF0ZS5JTlNFUlQsdGhpcy5sYXllci5hZGRGZWF0dXJlcyhbYV0pLHRoaXMuZmVhdHVyZUFkZGVkKGEpLHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiZmVhdHVyZWFkZGVkIix7ZmVhdHVyZTphfSkpfSxpbnNlcnRYWTpmdW5jdGlvbihhLGIpe3RoaXMuaGFuZGxlciYmdGhpcy5oYW5kbGVyLmxpbmUmJnRoaXMuaGFuZGxlci5pbnNlcnRYWShhLGIpfSxpbnNlcnREZWx0YVhZOmZ1bmN0aW9uKGEsYil7dGhpcy5oYW5kbGVyJiZ0aGlzLmhhbmRsZXIubGluZSYmdGhpcy5oYW5kbGVyLmluc2VydERlbHRhWFkoYSxiKX0saW5zZXJ0RGlyZWN0aW9uTGVuZ3RoOmZ1bmN0aW9uKGEsYil7dGhpcy5oYW5kbGVyJiZ0aGlzLmhhbmRsZXIubGluZSYmCnRoaXMuaGFuZGxlci5pbnNlcnREaXJlY3Rpb25MZW5ndGgoYSxiKX0saW5zZXJ0RGVmbGVjdGlvbkxlbmd0aDpmdW5jdGlvbihhLGIpe3RoaXMuaGFuZGxlciYmdGhpcy5oYW5kbGVyLmxpbmUmJnRoaXMuaGFuZGxlci5pbnNlcnREZWZsZWN0aW9uTGVuZ3RoKGEsYil9LHVuZG86ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYW5kbGVyLnVuZG8mJnRoaXMuaGFuZGxlci51bmRvKCl9LHJlZG86ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYW5kbGVyLnJlZG8mJnRoaXMuaGFuZGxlci5yZWRvKCl9LGZpbmlzaFNrZXRjaDpmdW5jdGlvbigpe3RoaXMuaGFuZGxlci5maW5pc2hHZW9tZXRyeSgpfSxjYW5jZWw6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXIuY2FuY2VsKCl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5EcmF3RmVhdHVyZSJ9KTtPcGVuTGF5ZXJzLkhhbmRsZXIuUG9seWdvbj1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuSGFuZGxlci5QYXRoLHtob2xlTW9kaWZpZXI6bnVsbCxkcmF3aW5nSG9sZTohMSxwb2x5Z29uOm51bGwsY3JlYXRlRmVhdHVyZTpmdW5jdGlvbihhKXthPXRoaXMubGF5ZXIuZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHgoYSk7YT1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChhLmxvbixhLmxhdCk7dGhpcy5wb2ludD1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihhKTt0aGlzLmxpbmU9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyhbdGhpcy5wb2ludC5nZW9tZXRyeV0pKTt0aGlzLnBvbHlnb249bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbihbdGhpcy5saW5lLmdlb21ldHJ5XSkpO3RoaXMuY2FsbGJhY2soImNyZWF0ZSIsW3RoaXMucG9pbnQuZ2VvbWV0cnksCnRoaXMuZ2V0U2tldGNoKCldKTt0aGlzLnBvaW50Lmdlb21ldHJ5LmNsZWFyQm91bmRzKCk7dGhpcy5sYXllci5hZGRGZWF0dXJlcyhbdGhpcy5wb2x5Z29uLHRoaXMucG9pbnRdLHtzaWxlbnQ6ITB9KX0sYWRkUG9pbnQ6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuZHJhd2luZ0hvbGUmJnRoaXMuaG9sZU1vZGlmaWVyJiZ0aGlzLmV2dCYmdGhpcy5ldnRbdGhpcy5ob2xlTW9kaWZpZXJdKWZvcih2YXIgYj10aGlzLnBvaW50Lmdlb21ldHJ5LGM9dGhpcy5jb250cm9sLmxheWVyLmZlYXR1cmVzLGQsZT1jLmxlbmd0aC0xOzA8PWU7LS1lKWlmKGQ9Y1tlXS5nZW9tZXRyeSwoZCBpbnN0YW5jZW9mIE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbnx8ZCBpbnN0YW5jZW9mIE9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlQb2x5Z29uKSYmZC5pbnRlcnNlY3RzKGIpKXtiPWNbZV07dGhpcy5jb250cm9sLmxheWVyLnJlbW92ZUZlYXR1cmVzKFtiXSx7c2lsZW50OiEwfSk7dGhpcy5jb250cm9sLmxheWVyLmV2ZW50cy5yZWdpc3RlclByaW9yaXR5KCJza2V0Y2hjb21wbGV0ZSIsCnRoaXMsdGhpcy5maW5hbGl6ZUludGVyaW9yUmluZyk7dGhpcy5jb250cm9sLmxheWVyLmV2ZW50cy5yZWdpc3RlclByaW9yaXR5KCJza2V0Y2htb2RpZmllZCIsdGhpcyx0aGlzLmVuZm9yY2VUb3BvbG9neSk7Yi5nZW9tZXRyeS5hZGRDb21wb25lbnQodGhpcy5saW5lLmdlb21ldHJ5KTt0aGlzLnBvbHlnb249Yjt0aGlzLmRyYXdpbmdIb2xlPSEwO2JyZWFrfU9wZW5MYXllcnMuSGFuZGxlci5QYXRoLnByb3RvdHlwZS5hZGRQb2ludC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGdldEN1cnJlbnRQb2ludEluZGV4OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGluZS5nZW9tZXRyeS5jb21wb25lbnRzLmxlbmd0aC0yfSxlbmZvcmNlVG9wb2xvZ3k6ZnVuY3Rpb24oYSl7dmFyIGE9YS52ZXJ0ZXgsYj10aGlzLmxpbmUuZ2VvbWV0cnkuY29tcG9uZW50czt0aGlzLnBvbHlnb24uZ2VvbWV0cnkuaW50ZXJzZWN0cyhhKXx8KGI9YltiLmxlbmd0aC0zXSxhLng9Yi54LGEueT1iLnkpfSxmaW5pc2hHZW9tZXRyeTpmdW5jdGlvbigpe3RoaXMubGluZS5nZW9tZXRyeS5yZW1vdmVDb21wb25lbnQodGhpcy5saW5lLmdlb21ldHJ5LmNvbXBvbmVudHNbdGhpcy5saW5lLmdlb21ldHJ5LmNvbXBvbmVudHMubGVuZ3RoLQoyXSk7dGhpcy5yZW1vdmVQb2ludCgpO3RoaXMuZmluYWxpemUoKX0sZmluYWxpemVJbnRlcmlvclJpbmc6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxpbmUuZ2VvbWV0cnksYj0wIT09YS5nZXRBcmVhKCk7aWYoYil7Zm9yKHZhciBjPXRoaXMucG9seWdvbi5nZW9tZXRyeS5jb21wb25lbnRzLGQ9Yy5sZW5ndGgtMjswPD1kOy0tZClpZihhLmludGVyc2VjdHMoY1tkXSkpe2I9ITE7YnJlYWt9aWYoYil7ZD1jLmxlbmd0aC0yO2E6Zm9yKDswPGQ7LS1kKWZvcih2YXIgZT1jW2RdLmNvbXBvbmVudHMsZj0wLGc9ZS5sZW5ndGg7ZjxnOysrZilpZihhLmNvbnRhaW5zUG9pbnQoZVtmXSkpe2I9ITE7YnJlYWsgYX19fWI/dGhpcy5wb2x5Z29uLnN0YXRlIT09T3BlbkxheWVycy5TdGF0ZS5JTlNFUlQmJih0aGlzLnBvbHlnb24uc3RhdGU9T3BlbkxheWVycy5TdGF0ZS5VUERBVEUpOnRoaXMucG9seWdvbi5nZW9tZXRyeS5yZW1vdmVDb21wb25lbnQoYSk7dGhpcy5yZXN0b3JlRmVhdHVyZSgpO3JldHVybiExfSwKY2FuY2VsOmZ1bmN0aW9uKCl7dGhpcy5kcmF3aW5nSG9sZSYmKHRoaXMucG9seWdvbi5nZW9tZXRyeS5yZW1vdmVDb21wb25lbnQodGhpcy5saW5lLmdlb21ldHJ5KSx0aGlzLnJlc3RvcmVGZWF0dXJlKCEwKSk7cmV0dXJuIE9wZW5MYXllcnMuSGFuZGxlci5QYXRoLnByb3RvdHlwZS5jYW5jZWwuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxyZXN0b3JlRmVhdHVyZTpmdW5jdGlvbihhKXt0aGlzLmNvbnRyb2wubGF5ZXIuZXZlbnRzLnVucmVnaXN0ZXIoInNrZXRjaGNvbXBsZXRlIix0aGlzLHRoaXMuZmluYWxpemVJbnRlcmlvclJpbmcpO3RoaXMuY29udHJvbC5sYXllci5ldmVudHMudW5yZWdpc3Rlcigic2tldGNobW9kaWZpZWQiLHRoaXMsdGhpcy5lbmZvcmNlVG9wb2xvZ3kpO3RoaXMubGF5ZXIucmVtb3ZlRmVhdHVyZXMoW3RoaXMucG9seWdvbl0se3NpbGVudDohMH0pO3RoaXMuY29udHJvbC5sYXllci5hZGRGZWF0dXJlcyhbdGhpcy5wb2x5Z29uXSx7c2lsZW50OiEwfSk7dGhpcy5kcmF3aW5nSG9sZT0KITE7YXx8dGhpcy5jb250cm9sLmxheWVyLmV2ZW50cy50cmlnZ2VyRXZlbnQoInNrZXRjaGNvbXBsZXRlIix7ZmVhdHVyZTp0aGlzLnBvbHlnb259KX0sZGVzdHJveUZlYXR1cmU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5IYW5kbGVyLlBhdGgucHJvdG90eXBlLmRlc3Ryb3lGZWF0dXJlLmNhbGwodGhpcyxhKTt0aGlzLnBvbHlnb249bnVsbH0sZHJhd0ZlYXR1cmU6ZnVuY3Rpb24oKXt0aGlzLmxheWVyLmRyYXdGZWF0dXJlKHRoaXMucG9seWdvbix0aGlzLnN0eWxlKTt0aGlzLmxheWVyLmRyYXdGZWF0dXJlKHRoaXMucG9pbnQsdGhpcy5zdHlsZSl9LGdldFNrZXRjaDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvbHlnb259LGdldEdlb21ldHJ5OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wb2x5Z29uJiZ0aGlzLnBvbHlnb24uZ2VvbWV0cnk7YSYmdGhpcy5tdWx0aSYmKGE9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlQb2x5Z29uKFthXSkpO3JldHVybiBhfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkhhbmRsZXIuUG9seWdvbiJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuRWRpdGluZ1Rvb2xiYXI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuZWwse2NpdGVDb21wbGlhbnQ6ITEsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIpe09wZW5MYXllcnMuQ29udHJvbC5QYW5lbC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFtiXSk7dGhpcy5hZGRDb250cm9scyhbbmV3IE9wZW5MYXllcnMuQ29udHJvbC5OYXZpZ2F0aW9uXSk7dmFyIGM9W25ldyBPcGVuTGF5ZXJzLkNvbnRyb2wuRHJhd0ZlYXR1cmUoYSxPcGVuTGF5ZXJzLkhhbmRsZXIuUG9pbnQse2Rpc3BsYXlDbGFzczoib2xDb250cm9sRHJhd0ZlYXR1cmVQb2ludCIsaGFuZGxlck9wdGlvbnM6e2NpdGVDb21wbGlhbnQ6dGhpcy5jaXRlQ29tcGxpYW50fX0pLG5ldyBPcGVuTGF5ZXJzLkNvbnRyb2wuRHJhd0ZlYXR1cmUoYSxPcGVuTGF5ZXJzLkhhbmRsZXIuUGF0aCx7ZGlzcGxheUNsYXNzOiJvbENvbnRyb2xEcmF3RmVhdHVyZVBhdGgiLGhhbmRsZXJPcHRpb25zOntjaXRlQ29tcGxpYW50OnRoaXMuY2l0ZUNvbXBsaWFudH19KSwKbmV3IE9wZW5MYXllcnMuQ29udHJvbC5EcmF3RmVhdHVyZShhLE9wZW5MYXllcnMuSGFuZGxlci5Qb2x5Z29uLHtkaXNwbGF5Q2xhc3M6Im9sQ29udHJvbERyYXdGZWF0dXJlUG9seWdvbiIsaGFuZGxlck9wdGlvbnM6e2NpdGVDb21wbGlhbnQ6dGhpcy5jaXRlQ29tcGxpYW50fX0pXTt0aGlzLmFkZENvbnRyb2xzKGMpfSxkcmF3OmZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5Db250cm9sLlBhbmVsLnByb3RvdHlwZS5kcmF3LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsPT09dGhpcy5kZWZhdWx0Q29udHJvbCYmKHRoaXMuZGVmYXVsdENvbnRyb2w9dGhpcy5jb250cm9sc1swXSk7cmV0dXJuIGF9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5FZGl0aW5nVG9vbGJhciJ9KTtPcGVuTGF5ZXJzLlN0cmF0ZWd5LkJCT1g9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlN0cmF0ZWd5LHtib3VuZHM6bnVsbCxyZXNvbHV0aW9uOm51bGwscmF0aW86MixyZXNGYWN0b3I6bnVsbCxyZXNwb25zZTpudWxsLGFjdGl2YXRlOmZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5TdHJhdGVneS5wcm90b3R5cGUuYWN0aXZhdGUuY2FsbCh0aGlzKTthJiYodGhpcy5sYXllci5ldmVudHMub24oe21vdmVlbmQ6dGhpcy51cGRhdGUscmVmcmVzaDp0aGlzLnVwZGF0ZSx2aXNpYmlsaXR5Y2hhbmdlZDp0aGlzLnVwZGF0ZSxzY29wZTp0aGlzfSksdGhpcy51cGRhdGUoKSk7cmV0dXJuIGF9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgYT1PcGVuTGF5ZXJzLlN0cmF0ZWd5LnByb3RvdHlwZS5kZWFjdGl2YXRlLmNhbGwodGhpcyk7YSYmdGhpcy5sYXllci5ldmVudHMudW4oe21vdmVlbmQ6dGhpcy51cGRhdGUscmVmcmVzaDp0aGlzLnVwZGF0ZSx2aXNpYmlsaXR5Y2hhbmdlZDp0aGlzLnVwZGF0ZSwKc2NvcGU6dGhpc30pO3JldHVybiBhfSx1cGRhdGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRNYXBCb3VuZHMoKTtpZihudWxsIT09YiYmKGEmJmEuZm9yY2V8fHRoaXMubGF5ZXIudmlzaWJpbGl0eSYmdGhpcy5sYXllci5jYWxjdWxhdGVJblJhbmdlKCkmJnRoaXMuaW52YWxpZEJvdW5kcyhiKSkpdGhpcy5jYWxjdWxhdGVCb3VuZHMoYiksdGhpcy5yZXNvbHV0aW9uPXRoaXMubGF5ZXIubWFwLmdldFJlc29sdXRpb24oKSx0aGlzLnRyaWdnZXJSZWFkKGEpfSxnZXRNYXBCb3VuZHM6ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5sYXllci5tYXApcmV0dXJuIG51bGw7dmFyIGE9dGhpcy5sYXllci5tYXAuZ2V0RXh0ZW50KCk7YSYmIXRoaXMubGF5ZXIucHJvamVjdGlvbi5lcXVhbHModGhpcy5sYXllci5tYXAuZ2V0UHJvamVjdGlvbk9iamVjdCgpKSYmKGE9YS5jbG9uZSgpLnRyYW5zZm9ybSh0aGlzLmxheWVyLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCksdGhpcy5sYXllci5wcm9qZWN0aW9uKSk7CnJldHVybiBhfSxpbnZhbGlkQm91bmRzOmZ1bmN0aW9uKGEpe2F8fChhPXRoaXMuZ2V0TWFwQm91bmRzKCkpO2E9IXRoaXMuYm91bmRzfHwhdGhpcy5ib3VuZHMuY29udGFpbnNCb3VuZHMoYSk7IWEmJnRoaXMucmVzRmFjdG9yJiYoYT10aGlzLnJlc29sdXRpb24vdGhpcy5sYXllci5tYXAuZ2V0UmVzb2x1dGlvbigpLGE9YT49dGhpcy5yZXNGYWN0b3J8fGE8PTEvdGhpcy5yZXNGYWN0b3IpO3JldHVybiBhfSxjYWxjdWxhdGVCb3VuZHM6ZnVuY3Rpb24oYSl7YXx8KGE9dGhpcy5nZXRNYXBCb3VuZHMoKSk7dmFyIGI9YS5nZXRDZW50ZXJMb25MYXQoKSxjPWEuZ2V0V2lkdGgoKSp0aGlzLnJhdGlvLGE9YS5nZXRIZWlnaHQoKSp0aGlzLnJhdGlvO3RoaXMuYm91bmRzPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhiLmxvbi1jLzIsYi5sYXQtYS8yLGIubG9uK2MvMixiLmxhdCthLzIpfSx0cmlnZ2VyUmVhZDpmdW5jdGlvbihhKXt0aGlzLnJlc3BvbnNlJiYhKGEmJiEwPT09YS5ub0Fib3J0KSYmCih0aGlzLmxheWVyLnByb3RvY29sLmFib3J0KHRoaXMucmVzcG9uc2UpLHRoaXMubGF5ZXIuZXZlbnRzLnRyaWdnZXJFdmVudCgibG9hZGVuZCIpKTt2YXIgYj17ZmlsdGVyOnRoaXMuY3JlYXRlRmlsdGVyKCl9O3RoaXMubGF5ZXIuZXZlbnRzLnRyaWdnZXJFdmVudCgibG9hZHN0YXJ0IixiKTt0aGlzLnJlc3BvbnNlPXRoaXMubGF5ZXIucHJvdG9jb2wucmVhZChPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7ZmlsdGVyOmIuZmlsdGVyLGNhbGxiYWNrOnRoaXMubWVyZ2Usc2NvcGU6dGhpc30sYSkpfSxjcmVhdGVGaWx0ZXI6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbCh7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsLkJCT1gsdmFsdWU6dGhpcy5ib3VuZHMscHJvamVjdGlvbjp0aGlzLmxheWVyLnByb2plY3Rpb259KTt0aGlzLmxheWVyLmZpbHRlciYmKGE9bmV3IE9wZW5MYXllcnMuRmlsdGVyLkxvZ2ljYWwoe3R5cGU6T3BlbkxheWVycy5GaWx0ZXIuTG9naWNhbC5BTkQsCmZpbHRlcnM6W3RoaXMubGF5ZXIuZmlsdGVyLGFdfSkpO3JldHVybiBhfSxtZXJnZTpmdW5jdGlvbihhKXt0aGlzLmxheWVyLmRlc3Ryb3lGZWF0dXJlcygpO2lmKGEuc3VjY2VzcygpKXt2YXIgYj1hLmZlYXR1cmVzO2lmKGImJjA8Yi5sZW5ndGgpe3ZhciBjPXRoaXMubGF5ZXIucHJvamVjdGlvbixkPXRoaXMubGF5ZXIubWFwLmdldFByb2plY3Rpb25PYmplY3QoKTtpZighZC5lcXVhbHMoYykpZm9yKHZhciBlLGY9MCxnPWIubGVuZ3RoO2Y8ZzsrK2YpKGU9YltmXS5nZW9tZXRyeSkmJmUudHJhbnNmb3JtKGMsZCk7dGhpcy5sYXllci5hZGRGZWF0dXJlcyhiKX19ZWxzZSB0aGlzLmJvdW5kcz1udWxsO3RoaXMucmVzcG9uc2U9bnVsbDt0aGlzLmxheWVyLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvYWRlbmQiLHtyZXNwb25zZTphfSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuU3RyYXRlZ3kuQkJPWCJ9KTtPcGVuTGF5ZXJzLkxhbmcubm49T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoeyJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiU2thbGEgPSAxIDogJHtzY2FsZURlbm9tfSJ9KTtPcGVuTGF5ZXJzLkxheWVyLldvcmxkV2luZD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIuR3JpZCx7REVGQVVMVF9QQVJBTVM6e30saXNCYXNlTGF5ZXI6ITAsbHpkOm51bGwsem9vbUxldmVsczpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMubHpkPWM7dGhpcy56b29tTGV2ZWxzPWQ7Yz1bXTtjLnB1c2goYSxiLGUsZik7T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYyk7dGhpcy5wYXJhbXM9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHModGhpcy5wYXJhbXMsdGhpcy5ERUZBVUxUX1BBUkFNUyl9LGdldFpvb206ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm1hcC5nZXRab29tKCk7dGhpcy5tYXAuZ2V0TWF4RXh0ZW50KCk7cmV0dXJuIGEtPU1hdGgubG9nKHRoaXMubWF4UmVzb2x1dGlvbi8odGhpcy5semQvNTEyKSkvTWF0aC5sb2coMil9LGdldFVSTDpmdW5jdGlvbihhKXt2YXIgYT0KdGhpcy5hZGp1c3RCb3VuZHMoYSksYj10aGlzLmdldFpvb20oKSxjPXRoaXMubWFwLmdldE1heEV4dGVudCgpLGQ9dGhpcy5semQvTWF0aC5wb3coMix0aGlzLmdldFpvb20oKSksZT1NYXRoLmZsb29yKChhLmxlZnQtYy5sZWZ0KS9kKSxhPU1hdGguZmxvb3IoKGEuYm90dG9tLWMuYm90dG9tKS9kKTtyZXR1cm4gdGhpcy5tYXAuZ2V0UmVzb2x1dGlvbigpPD10aGlzLmx6ZC81MTImJnRoaXMuZ2V0Wm9vbSgpPD10aGlzLnpvb21MZXZlbHM/dGhpcy5nZXRGdWxsUmVxdWVzdFN0cmluZyh7TDpiLFg6ZSxZOmF9KTpPcGVuTGF5ZXJzLlV0aWwuZ2V0SW1hZ2VMb2NhdGlvbigiYmxhbmsuZ2lmIil9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuTGF5ZXIuV29ybGRXaW5kIn0pO09wZW5MYXllcnMuUHJvdG9jb2wuQ1NXPWZ1bmN0aW9uKGEpe3ZhciBhPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGEsT3BlbkxheWVycy5Qcm90b2NvbC5DU1cuREVGQVVMVFMpLGI9T3BlbkxheWVycy5Qcm90b2NvbC5DU1dbInYiK2EudmVyc2lvbi5yZXBsYWNlKC9cLi9nLCJfIildO2lmKCFiKXRocm93IlVuc3VwcG9ydGVkIENTVyB2ZXJzaW9uOiAiK2EudmVyc2lvbjtyZXR1cm4gbmV3IGIoYSl9O09wZW5MYXllcnMuUHJvdG9jb2wuQ1NXLkRFRkFVTFRTPXt2ZXJzaW9uOiIyLjAuMiJ9O09wZW5MYXllcnMuRm9ybWF0LldNVFNDYXBhYmlsaXRpZXM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwuVmVyc2lvbmVkT0dDLHtkZWZhdWx0VmVyc2lvbjoiMS4wLjAiLHl4OnsidXJuOm9nYzpkZWY6Y3JzOkVQU0c6OjQzMjYiOiEwfSxjcmVhdGVMYXllcjpmdW5jdGlvbihhLGIpe2lmKCEoImxheWVyImluIGIpKXRocm93IEVycm9yKCJNaXNzaW5nIHByb3BlcnR5ICdsYXllcicgaW4gY29uZmlndXJhdGlvbi4iKTtmb3IodmFyIGM9YS5jb250ZW50cyxkLGU9MCxmPWMubGF5ZXJzLmxlbmd0aDtlPGY7KytlKWlmKGMubGF5ZXJzW2VdLmlkZW50aWZpZXI9PT1iLmxheWVyKXtkPWMubGF5ZXJzW2VdO2JyZWFrfWlmKCFkKXRocm93IEVycm9yKCJMYXllciBub3QgZm91bmQiKTt2YXIgZz1iLmZvcm1hdDshZyYmKGQuZm9ybWF0cyYmZC5mb3JtYXRzLmxlbmd0aCkmJihnPWQuZm9ybWF0c1swXSk7dmFyIGg7Yi5tYXRyaXhTZXQ/aD1jLnRpbGVNYXRyaXhTZXRzW2IubWF0cml4U2V0XToKMTw9ZC50aWxlTWF0cml4U2V0TGlua3MubGVuZ3RoJiYoaD1jLnRpbGVNYXRyaXhTZXRzW2QudGlsZU1hdHJpeFNldExpbmtzWzBdLnRpbGVNYXRyaXhTZXRdKTtpZighaCl0aHJvdyBFcnJvcigibWF0cml4U2V0IG5vdCBmb3VuZCIpO2Zvcih2YXIgaSxlPTAsZj1kLnN0eWxlcy5sZW5ndGg7ZTxmJiYhKGk9ZC5zdHlsZXNbZV0saS5pc0RlZmF1bHQpOysrZSk7Yz1iLnJlcXVlc3RFbmNvZGluZztpZighYyYmKGM9IktWUCIsYS5vcGVyYXRpb25zTWV0YWRhdGEuR2V0VGlsZS5kY3AuaHR0cCkpe3ZhciBqPWEub3BlcmF0aW9uc01ldGFkYXRhLkdldFRpbGUuZGNwLmh0dHA7aWYoai5nZXRbMF0uY29uc3RyYWludHMmJihqPWouZ2V0WzBdLmNvbnN0cmFpbnRzLkdldEVuY29kaW5nLmFsbG93ZWRWYWx1ZXMsIWouS1ZQJiYoai5SRVNUfHxqLlJFU1RmdWwpKSljPSJSRVNUIn12YXIgaj1bXSxrPWIucGFyYW1zfHx7fTtkZWxldGUgYi5wYXJhbXM7Zm9yKHZhciBsPTAsbT1kLmRpbWVuc2lvbnMubGVuZ3RoO2w8Cm07bCsrKXt2YXIgbj1kLmRpbWVuc2lvbnNbbF07ai5wdXNoKG4uaWRlbnRpZmllcik7ay5oYXNPd25Qcm9wZXJ0eShuLmlkZW50aWZpZXIpfHwoa1tuLmlkZW50aWZpZXJdPW5bImRlZmF1bHQiXSl9dmFyIGw9Yi5wcm9qZWN0aW9ufHxoLnN1cHBvcnRlZENSUy5yZXBsYWNlKC91cm46b2djOmRlZjpjcnM6KFx3Kyk6KC4qOik/KFx3KykkLywiJDE6JDMiKSxtPWIudW5pdHN8fCgiRVBTRzo0MzI2Ij09PWw/ImRlZ3JlZXMiOiJtIiksbj1bXSxwO2ZvcihwIGluIGgubWF0cml4SWRzKWgubWF0cml4SWRzLmhhc093blByb3BlcnR5KHApJiZuLnB1c2goMi44RS00KmgubWF0cml4SWRzW3BdLnNjYWxlRGVub21pbmF0b3IvT3BlbkxheWVycy5NRVRFUlNfUEVSX0lOQ0gvT3BlbkxheWVycy5JTkNIRVNfUEVSX1VOSVRbbV0pO2lmKCJSRVNUIj09PWMmJmQucmVzb3VyY2VVcmxzKXtwPVtdO2Zvcih2YXIgZj0wLHE9ZC5yZXNvdXJjZVVybHMubGVuZ3RoO2Y8cTsrK2YpZT1kLnJlc291cmNlVXJsc1tmXSwKZS5mb3JtYXQ9PT1nJiYidGlsZSI9PT1lLnJlc291cmNlVHlwZSYmcC5wdXNoKGUudGVtcGxhdGUpfWVsc2V7cT1hLm9wZXJhdGlvbnNNZXRhZGF0YS5HZXRUaWxlLmRjcC5odHRwLmdldDtwPVtdO2Zvcih2YXIgcixlPTAsZj1xLmxlbmd0aDtlPGY7ZSsrKXI9cVtlXS5jb25zdHJhaW50cywoIXJ8fHImJnIuR2V0RW5jb2RpbmcuYWxsb3dlZFZhbHVlc1tjXSkmJnAucHVzaChxW2VdLnVybCl9cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkxheWVyLldNVFMoT3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYix7dXJsOnAscmVxdWVzdEVuY29kaW5nOmMsbmFtZTpkLnRpdGxlLHN0eWxlOmkuaWRlbnRpZmllcixmb3JtYXQ6ZyxtYXRyaXhJZHM6aC5tYXRyaXhJZHMsbWF0cml4U2V0OmguaWRlbnRpZmllcixwcm9qZWN0aW9uOmwsdW5pdHM6bSxyZXNvbHV0aW9uczohMT09PWIuaXNCYXNlTGF5ZXI/dm9pZCAwOm4sc2VydmVyUmVzb2x1dGlvbnM6bix0aWxlRnVsbEV4dGVudDpoLmJvdW5kcywKZGltZW5zaW9uczpqLHBhcmFtczprfSkpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XTVRTQ2FwYWJpbGl0aWVzIn0pO09wZW5MYXllcnMuTGFuZy5lcz17dW5oYW5kbGVkUmVxdWVzdDoiUmVzcHVlc3RhIGEgcGV0aWNpXHUwMGYzbiBubyBnZXN0aW9uYWRhICR7c3RhdHVzVGV4dH0iLFBlcm1hbGluazoiRW5sYWNlIHBlcm1hbmVudGUiLE92ZXJsYXlzOiJDYXBhcyBzdXBlcnB1ZXN0YXMiLCJCYXNlIExheWVyIjoiQ2FwYSBCYXNlIixub0ZJRDoiTm8gc2UgcHVlZGUgYWN0dWFsaXphciB1biBlbGVtZW50byBwYXJhIGVsIHF1ZSBubyBleGlzdGUgRklELiIsYnJvd3Nlck5vdFN1cHBvcnRlZDoiU3UgbmF2ZWdhZG9yIG5vIHNvcG9ydGEgcmVuZGVyaXphY2lcdTAwZjNuIHZlY3RvcmlhbC4gTG9zIHJlbmRlcml6YWRvcmVzIHNvcG9ydGFkb3MgYWN0dWFsbWVudGUgc29uOlxuJHtyZW5kZXJlcnN9IixtaW5ab29tTGV2ZWxFcnJvcjoiTGEgcHJvcGllZGFkIG1pblpvb21MZXZlbCBkZWJlIHNcdTAwZjNsbyB1dGlsaXphcnNlIGNvbiBsYXMgY2FwYXMgcXVlIHRpZW5lbiBGaXhlZFpvb21MZXZlbHMuIEVsIGhlY2hvIGRlIHF1ZSB1bmEgY2FwYSB3ZnMgY29tcHJ1ZWJlIG1pblpvb21MZXZlbCBlcyB1bmEgcmVsaXF1aWEgZGVsIHBhc2Fkby4gU2luIGVtYmFyZ28sIG5vIHBvZGVtb3MgZWxpbWluYXJsYSBzaW4gZGlzY29udGludWFyIHByb2JhYmxlbWVudGUgbGFzIGFwbGljYWNpb25lcyBPTCBxdWUgcHVlZGFuIGRlcGVuZGVyIGRlIGVsbG8uIEFzXHUwMGVkIHB1ZXMgZXN0YW1vcyBoYWNpXHUwMGU5bmRvbG8gb2Jzb2xldG8gLS1sYSBjb21wcm9iYWNpXHUwMGYzbiBtaW5ab29tTGV2ZWwgc2UgZWxpbWluYXJcdTAwZTEgZW4gbGEgdmVyc2lcdTAwZjNuIDMuMC4gVXRpbGljZSBlbCBhanVzdGUgZGUgcmVzb2x1dGlvbiBtaW4vbWF4IGVuIHN1IGx1Z2FyLCB0YWwgY29tbyBzZSBkZXNjcmliZSBhcXVcdTAwZWQ6IGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU2V0dGluZ1pvb21MZXZlbHMiLApjb21taXRTdWNjZXNzOiJUcmFuc2FjY2lcdTAwZjNuIFdGUzogXHUwMGM5WElUTyAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJUcmFuc2FjY2lcdTAwZjNuIFdGUzogRkFMTFx1MDBkMyAke3Jlc3BvbnNlfSIsZ29vZ2xlV2FybmluZzoiTGEgY2FwYSBHb29nbGUgbm8gcHVkbyBzZXIgY2FyZ2FkYSBjb3JyZWN0YW1lbnRlLjxicj48YnI+UGFyYSBldml0YXIgZXN0ZSBtZW5zYWplLCBzZWxlY2Npb25lIHVuYSBudWV2YSBDYXBhIEJhc2UgZW4gZWwgc2VsZWN0b3IgZGUgY2FwYXMgZW4gbGEgZXNxdWluYSBzdXBlcmlvciBkZXJlY2hhLjxicj48YnI+UHJvYmFibGVtZW50ZSwgZXN0byBzZSBkZWJlIGEgcXVlIGVsIHNjcmlwdCBkZSBsYSBiaWJsaW90ZWNhIGRlIEdvb2dsZSBNYXBzIG5vIGZ1ZSBjb3JyZWN0YW1lbnRlIGluY2x1aWRvIGVuIHN1IHBcdTAwZTFnaW5hLCBvIG5vIGNvbnRpZW5lIGxhIGNsYXZlIGRlbCBBUEkgY29ycmVjdGEgcGFyYSBzdSBzaXRpby48YnI+PGJyPkRlc2Fycm9sbGFkb3JlczogUGFyYSBheXVkYXIgYSBoYWNlciBmdW5jaW9uYXIgZXN0byBjb3JyZWN0YW1lbnRlLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZScgdGFyZ2V0PSdfYmxhbmsnPmhhZ2EgY2xpYyBhcXVcdTAwZWQ8L2E+IiwKZ2V0TGF5ZXJXYXJuaW5nOiJMYSBjYXBhICR7bGF5ZXJUeXBlfSBubyBwdWRvIHNlciBjYXJnYWRhIGNvcnJlY3RhbWVudGUuPGJyPjxicj5QYXJhIGV2aXRhciBlc3RlIG1lbnNhamUsIHNlbGVjY2lvbmUgdW5hIG51ZXZhIENhcGEgQmFzZSBlbiBlbCBzZWxlY3RvciBkZSBjYXBhcyBlbiBsYSBlc3F1aW5hIHN1cGVyaW9yIGRlcmVjaGEuPGJyPjxicj5Qcm9iYWJsZW1lbnRlLCBlc3RvIHNlIGRlYmUgYSBxdWUgZWwgc2NyaXB0IGRlIGxhIGJpYmxpb3RlY2EgJHtsYXllckxpYn0gbm8gZnVlIGNvcnJlY3RhbWVudGUgaW5jbHVpZG8gZW4gc3UgcFx1MDBlMWdpbmEuPGJyPjxicj5EZXNhcnJvbGxhZG9yZXM6IFBhcmEgYXl1ZGFyIGEgaGFjZXIgZnVuY2lvbmFyIGVzdG8gY29ycmVjdGFtZW50ZSwgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS8ke2xheWVyTGlifScgdGFyZ2V0PSdfYmxhbmsnPmhhZ2EgY2xpYyBhcXVcdTAwZWQ8L2E+IiwiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6IkVzY2FsYSA9IDEgOiAke3NjYWxlRGVub219IiwKVzoiTyIsRToiRSIsTjoiTiIsUzoiUyIsR3JhdGljdWxlOiJSZXRcdTAwZWRjdWxhIixyZXByb2plY3REZXByZWNhdGVkOiJFc3RcdTAwZTEgdXNhbmRvIGxhIG9wY2lcdTAwZjNuICdyZXByb2plY3QnIGVuIGxhIGNhcGEgJHtsYXllck5hbWV9LiBFc3RhIG9wY2lcdTAwZjNuIGVzIG9ic29sZXRhOiBzdSB1c28gZnVlIGRpc2VcdTAwZjFhZG8gcGFyYSBzb3BvcnRhciBsYSB2aXN1YWxpemFjaVx1MDBmM24gZGUgZGF0b3Mgc29icmUgbWFwYXMgYmFzZSBjb21lcmNpYWxlcywgcGVybyBhaG9yYSBlc2EgZnVuY2lvbmFsaWRhZCBkZWJlclx1MDBlZGEgY29uc2VndWlyc2UgbWVkaWFudGUgZWwgc29wb3J0ZSBkZSBsYSBwcm95ZWNjaVx1MDBmM24gU3BoZXJpY2FsIE1lcmNhdG9yLiBNXHUwMGUxcyBpbmZvcm1hY2lcdTAwZjNuIGRpc3BvbmlibGUgZW4gaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TcGhlcmljYWxNZXJjYXRvci4iLG1ldGhvZERlcHJlY2F0ZWQ6IkVzdGUgbVx1MDBlOXRvZG8gZXMgb2Jzb2xldG8geSBzZSBlbGltaW5hclx1MDBlMSBlbiBsYSB2ZXJzaVx1MDBmM24gMy4wLiBQb3IgZmF2b3IgdXRpbGljZSBlbCBtXHUwMGU5dG9kbyAke25ld01ldGhvZH0gZW4gc3UgbHVnYXIuIiwKZW5kOiIifTtPcGVuTGF5ZXJzLkxheWVyLkdvb2dsZS52Mz17REVGQVVMVFM6e3NwaGVyaWNhbE1lcmNhdG9yOiEwLHByb2plY3Rpb246IkVQU0c6OTAwOTEzIn0sYW5pbWF0aW9uRW5hYmxlZDohMCxsb2FkTWFwT2JqZWN0OmZ1bmN0aW9uKCl7dGhpcy50eXBlfHwodGhpcy50eXBlPWdvb2dsZS5tYXBzLk1hcFR5cGVJZC5ST0FETUFQKTt2YXIgYSxiPU9wZW5MYXllcnMuTGF5ZXIuR29vZ2xlLmNhY2hlW3RoaXMubWFwLmlkXTtiPyhhPWIubWFwT2JqZWN0LCsrYi5jb3VudCk6KGE9dGhpcy5tYXAuZ2V0Q2VudGVyKCksYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxiLmNsYXNzTmFtZT0ib2xGb3JlaWduQ29udGFpbmVyIixiLnN0eWxlLndpZHRoPSIxMDAlIixiLnN0eWxlLmhlaWdodD0iMTAwJSIsYT1uZXcgZ29vZ2xlLm1hcHMuTWFwKGIse2NlbnRlcjphP25ldyBnb29nbGUubWFwcy5MYXRMbmcoYS5sYXQsYS5sb24pOm5ldyBnb29nbGUubWFwcy5MYXRMbmcoMCwwKSx6b29tOnRoaXMubWFwLmdldFpvb20oKXx8CjAsbWFwVHlwZUlkOnRoaXMudHlwZSxkaXNhYmxlRGVmYXVsdFVJOiEwLGtleWJvYXJkU2hvcnRjdXRzOiExLGRyYWdnYWJsZTohMSxkaXNhYmxlRG91YmxlQ2xpY2tab29tOiEwLHNjcm9sbHdoZWVsOiExLHN0cmVldFZpZXdDb250cm9sOiExfSksYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxiLnN0eWxlLndpZHRoPSIxMDAlIixiLnN0eWxlLmhlaWdodD0iMTAwJSIsYS5jb250cm9sc1tnb29nbGUubWFwcy5Db250cm9sUG9zaXRpb24uVE9QX0xFRlRdLnB1c2goYiksYj17Z29vZ2xlQ29udHJvbDpiLG1hcE9iamVjdDphLGNvdW50OjF9LE9wZW5MYXllcnMuTGF5ZXIuR29vZ2xlLmNhY2hlW3RoaXMubWFwLmlkXT1iKTt0aGlzLm1hcE9iamVjdD1hO3RoaXMuc2V0R01hcFZpc2liaWxpdHkodGhpcy52aXNpYmlsaXR5KX0sb25NYXBSZXNpemU6ZnVuY3Rpb24oKXt0aGlzLnZpc2liaWxpdHkmJmdvb2dsZS5tYXBzLmV2ZW50LnRyaWdnZXIodGhpcy5tYXBPYmplY3QsInJlc2l6ZSIpfSwKc2V0R01hcFZpc2liaWxpdHk6ZnVuY3Rpb24oYSl7dmFyIGI9T3BlbkxheWVycy5MYXllci5Hb29nbGUuY2FjaGVbdGhpcy5tYXAuaWRdLGM9dGhpcy5tYXA7aWYoYil7Zm9yKHZhciBkPXRoaXMudHlwZSxlPWMubGF5ZXJzLGYsZz1lLmxlbmd0aC0xOzA8PWc7LS1nKWlmKGY9ZVtnXSxmIGluc3RhbmNlb2YgT3BlbkxheWVycy5MYXllci5Hb29nbGUmJiEwPT09Zi52aXNpYmlsaXR5JiYhMD09PWYuaW5SYW5nZSl7ZD1mLnR5cGU7YT0hMDticmVha31lPXRoaXMubWFwT2JqZWN0LmdldERpdigpO2lmKCEwPT09YSl7aWYoZS5wYXJlbnROb2RlIT09Yy5kaXYpaWYoYi5yZW5kZXJlZCljLmRpdi5hcHBlbmRDaGlsZChlKSxiLmdvb2dsZUNvbnRyb2wuYXBwZW5kQ2hpbGQoYy52aWV3UG9ydERpdiksZ29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcih0aGlzLm1hcE9iamVjdCwicmVzaXplIik7ZWxzZXt2YXIgaD10aGlzO2dvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyT25jZSh0aGlzLm1hcE9iamVjdCwKInRpbGVzbG9hZGVkIixmdW5jdGlvbigpe2IucmVuZGVyZWQ9ITA7aC5zZXRHTWFwVmlzaWJpbGl0eShoLmdldFZpc2liaWxpdHkoKSk7aC5tb3ZlVG8oaC5tYXAuZ2V0Q2VudGVyKCkpfSl9dGhpcy5tYXBPYmplY3Quc2V0TWFwVHlwZUlkKGQpfWVsc2UgYi5nb29nbGVDb250cm9sLmhhc0NoaWxkTm9kZXMoKSYmKGMuZGl2LmFwcGVuZENoaWxkKGMudmlld1BvcnREaXYpLGMuZGl2LnJlbW92ZUNoaWxkKGUpKX19LGdldE1hcENvbnRhaW5lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcE9iamVjdC5nZXREaXYoKX0sZ2V0TWFwT2JqZWN0Qm91bmRzRnJvbU9MQm91bmRzOmZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7bnVsbCE9YSYmKGI9dGhpcy5zcGhlcmljYWxNZXJjYXRvcj90aGlzLmludmVyc2VNZXJjYXRvcihhLmJvdHRvbSxhLmxlZnQpOm5ldyBPcGVuTGF5ZXJzLkxvbkxhdChhLmJvdHRvbSxhLmxlZnQpLGE9dGhpcy5zcGhlcmljYWxNZXJjYXRvcj90aGlzLmludmVyc2VNZXJjYXRvcihhLnRvcCwKYS5yaWdodCk6bmV3IE9wZW5MYXllcnMuTG9uTGF0KGEudG9wLGEucmlnaHQpLGI9bmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcyhuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGIubGF0LGIubG9uKSxuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGEubGF0LGEubG9uKSkpO3JldHVybiBifSxnZXRNYXBPYmplY3RMb25MYXRGcm9tTWFwT2JqZWN0UGl4ZWw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5tYXAuZ2V0U2l6ZSgpLGM9dGhpcy5nZXRMb25naXR1ZGVGcm9tTWFwT2JqZWN0TG9uTGF0KHRoaXMubWFwT2JqZWN0LmNlbnRlciksZD10aGlzLmdldExhdGl0dWRlRnJvbU1hcE9iamVjdExvbkxhdCh0aGlzLm1hcE9iamVjdC5jZW50ZXIpLGU9dGhpcy5tYXAuZ2V0UmVzb2x1dGlvbigpLGE9bmV3IE9wZW5MYXllcnMuTG9uTGF0KGMrKGEueC1iLncvMikqZSxkLShhLnktYi5oLzIpKmUpO3RoaXMud3JhcERhdGVMaW5lJiYoYT1hLndyYXBEYXRlTGluZSh0aGlzLm1heEV4dGVudCkpO3JldHVybiB0aGlzLmdldE1hcE9iamVjdExvbkxhdEZyb21Mb25MYXQoYS5sb24sCmEubGF0KX0sZ2V0TWFwT2JqZWN0UGl4ZWxGcm9tTWFwT2JqZWN0TG9uTGF0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0TG9uZ2l0dWRlRnJvbU1hcE9iamVjdExvbkxhdChhKSxhPXRoaXMuZ2V0TGF0aXR1ZGVGcm9tTWFwT2JqZWN0TG9uTGF0KGEpLGM9dGhpcy5tYXAuZ2V0UmVzb2x1dGlvbigpLGQ9dGhpcy5tYXAuZ2V0RXh0ZW50KCk7cmV0dXJuIHRoaXMuZ2V0TWFwT2JqZWN0UGl4ZWxGcm9tWFkoMS9jKihiLWQubGVmdCksMS9jKihkLnRvcC1hKSl9LHNldE1hcE9iamVjdENlbnRlcjpmdW5jdGlvbihhLGIpe2lmKCExPT09dGhpcy5hbmltYXRpb25FbmFibGVkJiZiIT10aGlzLm1hcE9iamVjdC56b29tKXt2YXIgYz10aGlzLmdldE1hcENvbnRhaW5lcigpO2dvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyT25jZSh0aGlzLm1hcE9iamVjdCwiaWRsZSIsZnVuY3Rpb24oKXtjLnN0eWxlLnZpc2liaWxpdHk9IiJ9KTtjLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiJ9dGhpcy5tYXBPYmplY3Quc2V0T3B0aW9ucyh7Y2VudGVyOmEsCnpvb206Yn0pfSxnZXRNYXBPYmplY3Rab29tRnJvbU1hcE9iamVjdEJvdW5kczpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tYXBPYmplY3QuZ2V0Qm91bmRzWm9vbUxldmVsKGEpfSxnZXRNYXBPYmplY3RMb25MYXRGcm9tTG9uTGF0OmZ1bmN0aW9uKGEsYil7dmFyIGM7dGhpcy5zcGhlcmljYWxNZXJjYXRvcj8oYz10aGlzLmludmVyc2VNZXJjYXRvcihhLGIpLGM9bmV3IGdvb2dsZS5tYXBzLkxhdExuZyhjLmxhdCxjLmxvbikpOmM9bmV3IGdvb2dsZS5tYXBzLkxhdExuZyhiLGEpO3JldHVybiBjfSxnZXRNYXBPYmplY3RQaXhlbEZyb21YWTpmdW5jdGlvbihhLGIpe3JldHVybiBuZXcgZ29vZ2xlLm1hcHMuUG9pbnQoYSxiKX19O09wZW5MYXllcnMuRm9ybWF0LldQU0Rlc2NyaWJlUHJvY2Vzcz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7VkVSU0lPTjoiMS4wLjAiLG5hbWVzcGFjZXM6e3dwczoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC93cHMvMS4wLjAiLG93czoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vd3MvMS4xIix4c2k6Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIn0sc2NoZW1hTG9jYXRpb246Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvd3BzLzEuMC4wIGh0dHA6Ly9zY2hlbWFzLm9wZW5naXMubmV0L3dwcy8xLjAuMC93cHNBbGwueHNkIixkZWZhdWx0UHJlZml4OiJ3cHMiLHJlZ0V4ZXM6e3RyaW1TcGFjZTovXlxzKnxccyokL2cscmVtb3ZlU3BhY2U6L1xzKi9nLHNwbGl0U3BhY2U6L1xzKy8sdHJpbUNvbW1hOi9ccyosXHMqL2d9LHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PXR5cGVvZiBhJiYoYT1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcywKW2FdKSk7YSYmOT09YS5ub2RlVHlwZSYmKGE9YS5kb2N1bWVudEVsZW1lbnQpO3ZhciBiPXt9O3RoaXMucmVhZE5vZGUoYSxiKTtyZXR1cm4gYn0scmVhZGVyczp7d3BzOntQcm9jZXNzRGVzY3JpcHRpb25zOmZ1bmN0aW9uKGEsYil7Yi5wcm9jZXNzRGVzY3JpcHRpb25zPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnByb2Nlc3NEZXNjcmlwdGlvbnMpfSxQcm9jZXNzRGVzY3JpcHRpb246ZnVuY3Rpb24oYSxiKXt2YXIgYz17cHJvY2Vzc1ZlcnNpb246dGhpcy5nZXRBdHRyaWJ1dGVOUyhhLHRoaXMubmFtZXNwYWNlcy53cHMsInByb2Nlc3NWZXJzaW9uIiksc3RhdHVzU3VwcG9ydGVkOiJ0cnVlIj09PWEuZ2V0QXR0cmlidXRlKCJzdGF0dXNTdXBwb3J0ZWQiKSxzdG9yZVN1cHBvcnRlZDoidHJ1ZSI9PT1hLmdldEF0dHJpYnV0ZSgic3RvcmVTdXBwb3J0ZWQiKX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2JbYy5pZGVudGlmaWVyXT1jfSxEYXRhSW5wdXRzOmZ1bmN0aW9uKGEsCmIpe2IuZGF0YUlucHV0cz1bXTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5kYXRhSW5wdXRzKX0sUHJvY2Vzc091dHB1dHM6ZnVuY3Rpb24oYSxiKXtiLnByb2Nlc3NPdXRwdXRzPVtdO3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnByb2Nlc3NPdXRwdXRzKX0sT3V0cHV0OmZ1bmN0aW9uKGEsYil7dmFyIGM9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IucHVzaChjKX0sQ29tcGxleE91dHB1dDpmdW5jdGlvbihhLGIpe2IuY29tcGxleE91dHB1dD17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5jb21wbGV4T3V0cHV0KX0sTGl0ZXJhbE91dHB1dDpmdW5jdGlvbihhLGIpe2IubGl0ZXJhbE91dHB1dD17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5saXRlcmFsT3V0cHV0KX0sSW5wdXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz17bWF4T2NjdXJzOnBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKCJtYXhPY2N1cnMiKSksbWluT2NjdXJzOnBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKCJtaW5PY2N1cnMiKSl9Owp0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5wdXNoKGMpfSxCb3VuZGluZ0JveERhdGE6ZnVuY3Rpb24oYSxiKXtiLmJvdW5kaW5nQm94RGF0YT17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5ib3VuZGluZ0JveERhdGEpfSxDUlM6ZnVuY3Rpb24oYSxiKXtiLkNSU3N8fChiLkNSU3M9e30pO2IuQ1JTc1t0aGlzLmdldENoaWxkVmFsdWUoYSldPSEwfSxMaXRlcmFsRGF0YTpmdW5jdGlvbihhLGIpe2IubGl0ZXJhbERhdGE9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIubGl0ZXJhbERhdGEpfSxDb21wbGV4RGF0YTpmdW5jdGlvbihhLGIpe2IuY29tcGxleERhdGE9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuY29tcGxleERhdGEpfSxEZWZhdWx0OmZ1bmN0aW9uKGEsYil7YlsiZGVmYXVsdCJdPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiWyJkZWZhdWx0Il0pfSxTdXBwb3J0ZWQ6ZnVuY3Rpb24oYSxiKXtiLnN1cHBvcnRlZD17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5zdXBwb3J0ZWQpfSwKRm9ybWF0OmZ1bmN0aW9uKGEsYil7dmFyIGM9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IuZm9ybWF0c3x8KGIuZm9ybWF0cz17fSk7Yi5mb3JtYXRzW2MubWltZVR5cGVdPSEwfSxNaW1lVHlwZTpmdW5jdGlvbihhLGIpe2IubWltZVR5cGU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfX0sb3dzOk9wZW5MYXllcnMuRm9ybWF0Lk9XU0NvbW1vbi52MV8xXzAucHJvdG90eXBlLnJlYWRlcnMub3dzfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XUFNEZXNjcmliZVByb2Nlc3MifSk7T3BlbkxheWVycy5Db250cm9sLk5hdlRvb2xiYXI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wuUGFuZWwse2luaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db250cm9sLlBhbmVsLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKTt0aGlzLmFkZENvbnRyb2xzKFtuZXcgT3BlbkxheWVycy5Db250cm9sLk5hdmlnYXRpb24sbmV3IE9wZW5MYXllcnMuQ29udHJvbC5ab29tQm94XSl9LGRyYXc6ZnVuY3Rpb24oKXt2YXIgYT1PcGVuTGF5ZXJzLkNvbnRyb2wuUGFuZWwucHJvdG90eXBlLmRyYXcuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGw9PT10aGlzLmRlZmF1bHRDb250cm9sJiYodGhpcy5kZWZhdWx0Q29udHJvbD10aGlzLmNvbnRyb2xzWzBdKTtyZXR1cm4gYX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLk5hdlRvb2xiYXIifSk7T3BlbkxheWVycy5Gb3JtYXQuV0tUPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQse2luaXRpYWxpemU6ZnVuY3Rpb24oYSl7dGhpcy5yZWdFeGVzPXt0eXBlU3RyOi9eXHMqKFx3KylccypcKFxzKiguKilccypcKVxzKiQvLHNwYWNlczovXHMrLyxwYXJlbkNvbW1hOi9cKVxzKixccypcKC8sZG91YmxlUGFyZW5Db21tYTovXClccypcKVxzKixccypcKFxzKlwoLyx0cmltUGFyZW5zOi9eXHMqXCg/KC4qPylcKT9ccyokL307T3BlbkxheWVycy5Gb3JtYXQucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pfSxyZWFkOmZ1bmN0aW9uKGEpe3ZhciBiLGMsYT1hLnJlcGxhY2UoL1tcblxyXS9nLCIgIik7aWYoYz10aGlzLnJlZ0V4ZXMudHlwZVN0ci5leGVjKGEpKWlmKGE9Y1sxXS50b0xvd2VyQ2FzZSgpLGM9Y1syXSx0aGlzLnBhcnNlW2FdJiYoYj10aGlzLnBhcnNlW2FdLmFwcGx5KHRoaXMsW2NdKSksdGhpcy5pbnRlcm5hbFByb2plY3Rpb24mJnRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uKWlmKGImJgoiT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvciI9PWIuQ0xBU1NfTkFNRSliLmdlb21ldHJ5LnRyYW5zZm9ybSh0aGlzLmV4dGVybmFsUHJvamVjdGlvbix0aGlzLmludGVybmFsUHJvamVjdGlvbik7ZWxzZSBpZihiJiYiZ2VvbWV0cnljb2xsZWN0aW9uIiE9YSYmIm9iamVjdCI9PXR5cGVvZiBiKXthPTA7Zm9yKGM9Yi5sZW5ndGg7YTxjO2ErKyliW2FdLmdlb21ldHJ5LnRyYW5zZm9ybSh0aGlzLmV4dGVybmFsUHJvamVjdGlvbix0aGlzLmludGVybmFsUHJvamVjdGlvbil9cmV0dXJuIGJ9LHdyaXRlOmZ1bmN0aW9uKGEpe3ZhciBiLGM7YS5jb25zdHJ1Y3Rvcj09QXJyYXk/Yz0hMDooYT1bYV0sYz0hMSk7dmFyIGQ9W107YyYmZC5wdXNoKCJHRU9NRVRSWUNPTExFQ1RJT04oIik7Zm9yKHZhciBlPTAsZj1hLmxlbmd0aDtlPGY7KytlKWMmJjA8ZSYmZC5wdXNoKCIsIiksYj1hW2VdLmdlb21ldHJ5LGQucHVzaCh0aGlzLmV4dHJhY3RHZW9tZXRyeShiKSk7YyYmZC5wdXNoKCIpIik7cmV0dXJuIGQuam9pbigiIil9LApleHRyYWN0R2VvbWV0cnk6ZnVuY3Rpb24oYSl7dmFyIGI9YS5DTEFTU19OQU1FLnNwbGl0KCIuIilbMl0udG9Mb3dlckNhc2UoKTtpZighdGhpcy5leHRyYWN0W2JdKXJldHVybiBudWxsO3RoaXMuaW50ZXJuYWxQcm9qZWN0aW9uJiZ0aGlzLmV4dGVybmFsUHJvamVjdGlvbiYmKGE9YS5jbG9uZSgpLGEudHJhbnNmb3JtKHRoaXMuaW50ZXJuYWxQcm9qZWN0aW9uLHRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uKSk7cmV0dXJuKCJjb2xsZWN0aW9uIj09Yj8iR0VPTUVUUllDT0xMRUNUSU9OIjpiLnRvVXBwZXJDYXNlKCkpKyIoIit0aGlzLmV4dHJhY3RbYl0uYXBwbHkodGhpcyxbYV0pKyIpIn0sZXh0cmFjdDp7cG9pbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEueCsiICIrYS55fSxtdWx0aXBvaW50OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTAsZD1hLmNvbXBvbmVudHMubGVuZ3RoO2M8ZDsrK2MpYi5wdXNoKCIoIit0aGlzLmV4dHJhY3QucG9pbnQuYXBwbHkodGhpcyxbYS5jb21wb25lbnRzW2NdXSkrCiIpIik7cmV0dXJuIGIuam9pbigiLCIpfSxsaW5lc3RyaW5nOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTAsZD1hLmNvbXBvbmVudHMubGVuZ3RoO2M8ZDsrK2MpYi5wdXNoKHRoaXMuZXh0cmFjdC5wb2ludC5hcHBseSh0aGlzLFthLmNvbXBvbmVudHNbY11dKSk7cmV0dXJuIGIuam9pbigiLCIpfSxtdWx0aWxpbmVzdHJpbmc6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MCxkPWEuY29tcG9uZW50cy5sZW5ndGg7YzxkOysrYyliLnB1c2goIigiK3RoaXMuZXh0cmFjdC5saW5lc3RyaW5nLmFwcGx5KHRoaXMsW2EuY29tcG9uZW50c1tjXV0pKyIpIik7cmV0dXJuIGIuam9pbigiLCIpfSxwb2x5Z29uOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTAsZD1hLmNvbXBvbmVudHMubGVuZ3RoO2M8ZDsrK2MpYi5wdXNoKCIoIit0aGlzLmV4dHJhY3QubGluZXN0cmluZy5hcHBseSh0aGlzLFthLmNvbXBvbmVudHNbY11dKSsiKSIpO3JldHVybiBiLmpvaW4oIiwiKX0sbXVsdGlwb2x5Z29uOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0KW10sYz0wLGQ9YS5jb21wb25lbnRzLmxlbmd0aDtjPGQ7KytjKWIucHVzaCgiKCIrdGhpcy5leHRyYWN0LnBvbHlnb24uYXBwbHkodGhpcyxbYS5jb21wb25lbnRzW2NdXSkrIikiKTtyZXR1cm4gYi5qb2luKCIsIil9LGNvbGxlY3Rpb246ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MCxkPWEuY29tcG9uZW50cy5sZW5ndGg7YzxkOysrYyliLnB1c2godGhpcy5leHRyYWN0R2VvbWV0cnkuYXBwbHkodGhpcyxbYS5jb21wb25lbnRzW2NdXSkpO3JldHVybiBiLmpvaW4oIiwiKX19LHBhcnNlOntwb2ludDpmdW5jdGlvbihhKXthPU9wZW5MYXllcnMuU3RyaW5nLnRyaW0oYSkuc3BsaXQodGhpcy5yZWdFeGVzLnNwYWNlcyk7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGFbMF0sYVsxXSkpfSxtdWx0aXBvaW50OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1PcGVuTGF5ZXJzLlN0cmluZy50cmltKGEpLnNwbGl0KCIsIiksCmM9W10sZD0wLGU9Yi5sZW5ndGg7ZDxlOysrZClhPWJbZF0ucmVwbGFjZSh0aGlzLnJlZ0V4ZXMudHJpbVBhcmVucywiJDEiKSxjLnB1c2godGhpcy5wYXJzZS5wb2ludC5hcHBseSh0aGlzLFthXSkuZ2VvbWV0cnkpO3JldHVybiBuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5NdWx0aVBvaW50KGMpKX0sbGluZXN0cmluZzpmdW5jdGlvbihhKXtmb3IodmFyIGE9T3BlbkxheWVycy5TdHJpbmcudHJpbShhKS5zcGxpdCgiLCIpLGI9W10sYz0wLGQ9YS5sZW5ndGg7YzxkOysrYyliLnB1c2godGhpcy5wYXJzZS5wb2ludC5hcHBseSh0aGlzLFthW2NdXSkuZ2VvbWV0cnkpO3JldHVybiBuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nKGIpKX0sbXVsdGlsaW5lc3RyaW5nOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1PcGVuTGF5ZXJzLlN0cmluZy50cmltKGEpLnNwbGl0KHRoaXMucmVnRXhlcy5wYXJlbkNvbW1hKSwKYz1bXSxkPTAsZT1iLmxlbmd0aDtkPGU7KytkKWE9YltkXS5yZXBsYWNlKHRoaXMucmVnRXhlcy50cmltUGFyZW5zLCIkMSIpLGMucHVzaCh0aGlzLnBhcnNlLmxpbmVzdHJpbmcuYXBwbHkodGhpcyxbYV0pLmdlb21ldHJ5KTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTXVsdGlMaW5lU3RyaW5nKGMpKX0scG9seWdvbjpmdW5jdGlvbihhKXtmb3IodmFyIGIsYT1PcGVuTGF5ZXJzLlN0cmluZy50cmltKGEpLnNwbGl0KHRoaXMucmVnRXhlcy5wYXJlbkNvbW1hKSxjPVtdLGQ9MCxlPWEubGVuZ3RoO2Q8ZTsrK2QpYj1hW2RdLnJlcGxhY2UodGhpcy5yZWdFeGVzLnRyaW1QYXJlbnMsIiQxIiksYj10aGlzLnBhcnNlLmxpbmVzdHJpbmcuYXBwbHkodGhpcyxbYl0pLmdlb21ldHJ5LGI9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyhiLmNvbXBvbmVudHMpLGMucHVzaChiKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbihjKSl9LAptdWx0aXBvbHlnb246ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU9wZW5MYXllcnMuU3RyaW5nLnRyaW0oYSkuc3BsaXQodGhpcy5yZWdFeGVzLmRvdWJsZVBhcmVuQ29tbWEpLGM9W10sZD0wLGU9Yi5sZW5ndGg7ZDxlOysrZClhPWJbZF0ucmVwbGFjZSh0aGlzLnJlZ0V4ZXMudHJpbVBhcmVucywiJDEiKSxjLnB1c2godGhpcy5wYXJzZS5wb2x5Z29uLmFwcGx5KHRoaXMsW2FdKS5nZW9tZXRyeSk7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5Lk11bHRpUG9seWdvbihjKSl9LGdlb21ldHJ5Y29sbGVjdGlvbjpmdW5jdGlvbihhKXtmb3IodmFyIGE9YS5yZXBsYWNlKC8sXHMqKFtBLVphLXpdKS9nLCJ8JDEiKSxhPU9wZW5MYXllcnMuU3RyaW5nLnRyaW0oYSkuc3BsaXQoInwiKSxiPVtdLGM9MCxkPWEubGVuZ3RoO2M8ZDsrK2MpYi5wdXNoKE9wZW5MYXllcnMuRm9ybWF0LldLVC5wcm90b3R5cGUucmVhZC5hcHBseSh0aGlzLFthW2NdXSkpOwpyZXR1cm4gYn19LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LldLVCJ9KTtPcGVuTGF5ZXJzLldQU1Byb2Nlc3M9T3BlbkxheWVycy5DbGFzcyh7Y2xpZW50Om51bGwsc2VydmVyOm51bGwsaWRlbnRpZmllcjpudWxsLGRlc2NyaXB0aW9uOm51bGwsbG9jYWxXUFM6Imh0dHA6Ly9nZW9zZXJ2ZXIvd3BzIixmb3JtYXRzOm51bGwsY2hhaW5lZDowLGV4ZWN1dGVDYWxsYmFja3M6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcyxhKTt0aGlzLmV4ZWN1dGVDYWxsYmFja3M9W107dGhpcy5mb3JtYXRzPXsiYXBwbGljYXRpb24vd2t0IjpuZXcgT3BlbkxheWVycy5Gb3JtYXQuV0tULCJhcHBsaWNhdGlvbi9qc29uIjpuZXcgT3BlbkxheWVycy5Gb3JtYXQuR2VvSlNPTn19LGRlc2NyaWJlOmZ1bmN0aW9uKGEpe2E9YXx8e307aWYodGhpcy5kZXNjcmlwdGlvbil7aWYoYS5jYWxsYmFjayl7dmFyIGI9dGhpcy5kZXNjcmlwdGlvbjt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2EuY2FsbGJhY2suY2FsbChhLnNjb3BlLApiKX0sMCl9fWVsc2UgdGhpcy5jbGllbnQuZGVzY3JpYmVQcm9jZXNzKHRoaXMuc2VydmVyLHRoaXMuaWRlbnRpZmllcixmdW5jdGlvbihiKXt0aGlzLmRlc2NyaXB0aW9ufHx0aGlzLnBhcnNlRGVzY3JpcHRpb24oYik7YS5jYWxsYmFjayYmYS5jYWxsYmFjay5jYWxsKGEuc2NvcGUsdGhpcy5kZXNjcmlwdGlvbil9LHRoaXMpfSxjb25maWd1cmU6ZnVuY3Rpb24oYSl7dGhpcy5kZXNjcmliZSh7Y2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmRlc2NyaXB0aW9uLGM9YS5pbnB1dHMsZCxlLGY7ZT0wO2ZvcihmPWIuZGF0YUlucHV0cy5sZW5ndGg7ZTxmOysrZSlkPWIuZGF0YUlucHV0c1tlXSx0aGlzLnNldElucHV0RGF0YShkLGNbZC5pZGVudGlmaWVyXSk7YS5jYWxsYmFjayYmYS5jYWxsYmFjay5jYWxsKGEuc2NvcGUpfSxzY29wZTp0aGlzfSk7cmV0dXJuIHRoaXN9LGV4ZWN1dGU6ZnVuY3Rpb24oYSl7dGhpcy5jb25maWd1cmUoe2lucHV0czphLmlucHV0cyxjYWxsYmFjazpmdW5jdGlvbigpe3ZhciBiPQp0aGlzLGM9dGhpcy5nZXRPdXRwdXRJbmRleChiLmRlc2NyaXB0aW9uLnByb2Nlc3NPdXRwdXRzLGEub3V0cHV0KTtiLnNldFJlc3BvbnNlRm9ybSh7b3V0cHV0SW5kZXg6Y30pOyhmdW5jdGlvbiBlKCl7T3BlbkxheWVycy5VdGlsLnJlbW92ZUl0ZW0oYi5leGVjdXRlQ2FsbGJhY2tzLGUpOzAhPT1iLmNoYWluZWQ/Yi5leGVjdXRlQ2FsbGJhY2tzLnB1c2goZSk6T3BlbkxheWVycy5SZXF1ZXN0LlBPU1Qoe3VybDpiLmNsaWVudC5zZXJ2ZXJzW2Iuc2VydmVyXS51cmwsZGF0YToobmV3IE9wZW5MYXllcnMuRm9ybWF0LldQU0V4ZWN1dGUpLndyaXRlKGIuZGVzY3JpcHRpb24pLHN1Y2Nlc3M6ZnVuY3Rpb24oZSl7dmFyIGc9Yi5maW5kTWltZVR5cGUoYi5kZXNjcmlwdGlvbi5wcm9jZXNzT3V0cHV0c1tjXS5jb21wbGV4T3V0cHV0LnN1cHBvcnRlZC5mb3JtYXRzKSxlPWIuZm9ybWF0c1tnXS5yZWFkKGUucmVzcG9uc2VUZXh0KTtlIGluc3RhbmNlb2YgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvciYmCihlPVtlXSk7YS5zdWNjZXNzJiYoZz17fSxnW2Eub3V0cHV0fHwicmVzdWx0Il09ZSxhLnN1Y2Nlc3MuY2FsbChhLnNjb3BlLGcpKX0sc2NvcGU6Yn0pfSkoKX0sc2NvcGU6dGhpc30pfSxvdXRwdXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLldQU1Byb2Nlc3MuQ2hhaW5MaW5rKHtwcm9jZXNzOnRoaXMsb3V0cHV0OmF9KX0scGFyc2VEZXNjcmlwdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY2xpZW50LnNlcnZlcnNbdGhpcy5zZXJ2ZXJdO3RoaXMuZGVzY3JpcHRpb249KG5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5XUFNEZXNjcmliZVByb2Nlc3MpLnJlYWQoYS5wcm9jZXNzRGVzY3JpcHRpb25bdGhpcy5pZGVudGlmaWVyXSkucHJvY2Vzc0Rlc2NyaXB0aW9uc1t0aGlzLmlkZW50aWZpZXJdfSxzZXRJbnB1dERhdGE6ZnVuY3Rpb24oYSxiKXtkZWxldGUgYS5kYXRhO2RlbGV0ZSBhLnJlZmVyZW5jZTtpZihiIGluc3RhbmNlb2YgT3BlbkxheWVycy5XUFNQcm9jZXNzLkNoYWluTGluaykrK3RoaXMuY2hhaW5lZCwKYS5yZWZlcmVuY2U9e21ldGhvZDoiUE9TVCIsaHJlZjpiLnByb2Nlc3Muc2VydmVyPT09dGhpcy5zZXJ2ZXI/dGhpcy5sb2NhbFdQUzp0aGlzLmNsaWVudC5zZXJ2ZXJzW2IucHJvY2Vzcy5zZXJ2ZXJdLnVybH0sYi5wcm9jZXNzLmRlc2NyaWJlKHtjYWxsYmFjazpmdW5jdGlvbigpey0tdGhpcy5jaGFpbmVkO3RoaXMuY2hhaW5Qcm9jZXNzKGEsYil9LHNjb3BlOnRoaXN9KTtlbHNle2EuZGF0YT17fTt2YXIgYz1hLmNvbXBsZXhEYXRhO2M/KGM9dGhpcy5maW5kTWltZVR5cGUoYy5zdXBwb3J0ZWQuZm9ybWF0cyksYS5kYXRhLmNvbXBsZXhEYXRhPXttaW1lVHlwZTpjLHZhbHVlOnRoaXMuZm9ybWF0c1tjXS53cml0ZSh0aGlzLnRvRmVhdHVyZXMoYikpfSk6YS5kYXRhLmxpdGVyYWxEYXRhPXt2YWx1ZTpifX19LHNldFJlc3BvbnNlRm9ybTpmdW5jdGlvbihhKXt2YXIgYT1hfHx7fSxiPXRoaXMuZGVzY3JpcHRpb24ucHJvY2Vzc091dHB1dHNbYS5vdXRwdXRJbmRleHx8MF07dGhpcy5kZXNjcmlwdGlvbi5yZXNwb25zZUZvcm09CntyYXdEYXRhT3V0cHV0OntpZGVudGlmaWVyOmIuaWRlbnRpZmllcixtaW1lVHlwZTp0aGlzLmZpbmRNaW1lVHlwZShiLmNvbXBsZXhPdXRwdXQuc3VwcG9ydGVkLmZvcm1hdHMsYS5zdXBwb3J0ZWRGb3JtYXRzKX19fSxnZXRPdXRwdXRJbmRleDpmdW5jdGlvbihhLGIpe3ZhciBjO2lmKGIpZm9yKHZhciBkPWEubGVuZ3RoLTE7MDw9ZDstLWQpe2lmKGFbZF0uaWRlbnRpZmllcj09PWIpe2M9ZDticmVha319ZWxzZSBjPTA7cmV0dXJuIGN9LGNoYWluUHJvY2VzczpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0T3V0cHV0SW5kZXgoYi5wcm9jZXNzLmRlc2NyaXB0aW9uLnByb2Nlc3NPdXRwdXRzLGIub3V0cHV0KTthLnJlZmVyZW5jZS5taW1lVHlwZT10aGlzLmZpbmRNaW1lVHlwZShhLmNvbXBsZXhEYXRhLnN1cHBvcnRlZC5mb3JtYXRzLGIucHJvY2Vzcy5kZXNjcmlwdGlvbi5wcm9jZXNzT3V0cHV0c1tjXS5jb21wbGV4T3V0cHV0LnN1cHBvcnRlZC5mb3JtYXRzKTt2YXIgZD17fTsKZFthLnJlZmVyZW5jZS5taW1lVHlwZV09ITA7Yi5wcm9jZXNzLnNldFJlc3BvbnNlRm9ybSh7b3V0cHV0SW5kZXg6YyxzdXBwb3J0ZWRGb3JtYXRzOmR9KTtmb3IoYS5yZWZlcmVuY2UuYm9keT1iLnByb2Nlc3MuZGVzY3JpcHRpb247MDx0aGlzLmV4ZWN1dGVDYWxsYmFja3MubGVuZ3RoOyl0aGlzLmV4ZWN1dGVDYWxsYmFja3NbMF0oKX0sdG9GZWF0dXJlczpmdW5jdGlvbihhKXt2YXIgYj1PcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShhKTtifHwoYT1bYV0pO2Zvcih2YXIgYz1BcnJheShhLmxlbmd0aCksZCxlPTAsZj1hLmxlbmd0aDtlPGY7KytlKWQ9YVtlXSxjW2VdPWQgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yP2Q6bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoZCk7cmV0dXJuIGI/YzpjWzBdfSxmaW5kTWltZVR5cGU6ZnVuY3Rpb24oYSxiKXt2YXIgYj1ifHx0aGlzLmZvcm1hdHMsYztmb3IoYyBpbiBhKWlmKGMgaW4gYilyZXR1cm4gY30sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5XUFNQcm9jZXNzIn0pOwpPcGVuTGF5ZXJzLldQU1Byb2Nlc3MuQ2hhaW5MaW5rPU9wZW5MYXllcnMuQ2xhc3Moe3Byb2Nlc3M6bnVsbCxvdXRwdXQ6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcyxhKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5XUFNQcm9jZXNzLkNoYWluTGluayJ9KTtPcGVuTGF5ZXJzLldQU0NsaWVudD1PcGVuTGF5ZXJzLkNsYXNzKHtzZXJ2ZXJzOm51bGwsdmVyc2lvbjoiMS4wLjAiLGxhenk6ITEsZXZlbnRzOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsYSk7dGhpcy5ldmVudHM9bmV3IE9wZW5MYXllcnMuRXZlbnRzKHRoaXMpO3RoaXMuc2VydmVycz17fTtmb3IodmFyIGIgaW4gYS5zZXJ2ZXJzKXRoaXMuc2VydmVyc1tiXT0ic3RyaW5nIj09dHlwZW9mIGEuc2VydmVyc1tiXT97dXJsOmEuc2VydmVyc1tiXSx2ZXJzaW9uOnRoaXMudmVyc2lvbixwcm9jZXNzRGVzY3JpcHRpb246e319OmEuc2VydmVyc1tiXX0sZXhlY3V0ZTpmdW5jdGlvbihhKXt0aGlzLmdldFByb2Nlc3MoYS5zZXJ2ZXIsYS5wcm9jZXNzKS5leGVjdXRlKHtpbnB1dHM6YS5pbnB1dHMsc3VjY2VzczphLnN1Y2Nlc3Msc2NvcGU6YS5zY29wZX0pfSxnZXRQcm9jZXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IE9wZW5MYXllcnMuV1BTUHJvY2Vzcyh7Y2xpZW50OnRoaXMsCnNlcnZlcjphLGlkZW50aWZpZXI6Yn0pO3RoaXMubGF6eXx8Yy5kZXNjcmliZSgpO3JldHVybiBjfSxkZXNjcmliZVByb2Nlc3M6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy5zZXJ2ZXJzW2FdO2UucHJvY2Vzc0Rlc2NyaXB0aW9uW2JdP3dpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5jYWxsKGQsZS5wcm9jZXNzRGVzY3JpcHRpb25bYl0pfSwwKTpiIGluIGUucHJvY2Vzc0Rlc2NyaXB0aW9uP3RoaXMuZXZlbnRzLnJlZ2lzdGVyKCJkZXNjcmliZXByb2Nlc3MiLHRoaXMsZnVuY3Rpb24gZyhhKXthLmlkZW50aWZpZXI9PT1iJiYodGhpcy5ldmVudHMudW5yZWdpc3RlcigiZGVzY3JpYmVwcm9jZXNzIix0aGlzLGcpLGMuY2FsbChkLGEucmF3KSl9KTooZS5wcm9jZXNzRGVzY3JpcHRpb25bYl09bnVsbCxPcGVuTGF5ZXJzLlJlcXVlc3QuR0VUKHt1cmw6ZS51cmwscGFyYW1zOntTRVJWSUNFOiJXUFMiLFZFUlNJT046ZS52ZXJzaW9uLFJFUVVFU1Q6IkRlc2NyaWJlUHJvY2VzcyIsCklERU5USUZJRVI6Yn0sc3VjY2VzczpmdW5jdGlvbihhKXtlLnByb2Nlc3NEZXNjcmlwdGlvbltiXT1hLnJlc3BvbnNlVGV4dDt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImRlc2NyaWJlcHJvY2VzcyIse2lkZW50aWZpZXI6YixyYXc6YS5yZXNwb25zZVRleHR9KX0sc2NvcGU6dGhpc30pKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZXZlbnRzLmRlc3Ryb3koKTt0aGlzLnNlcnZlcnM9dGhpcy5ldmVudHM9bnVsbH0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5XUFNDbGllbnQifSk7T3BlbkxheWVycy5Gb3JtYXQuQ1NXR2V0UmVjb3Jkcy52Ml8wXzI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwse25hbWVzcGFjZXM6e2NzdzoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9jYXQvY3N3LzIuMC4yIixkYzoiaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iLGRjdDoiaHR0cDovL3B1cmwub3JnL2RjL3Rlcm1zLyIsZ21kOiJodHRwOi8vd3d3Lmlzb3RjMjExLm9yZy8yMDA1L2dtZCIsZ2VvbmV0OiJodHRwOi8vd3d3LmZhby5vcmcvZ2VvbmV0d29yayIsb2djOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L29nYyIsb3dzOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L293cyIseGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UifSxkZWZhdWx0UHJlZml4OiJjc3ciLHZlcnNpb246IjIuMC4yIixzY2hlbWFMb2NhdGlvbjoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9jYXQvY3N3LzIuMC4yIGh0dHA6Ly9zY2hlbWFzLm9wZW5naXMubmV0L2Nzdy8yLjAuMi9DU1ctZGlzY292ZXJ5LnhzZCIsCnJlcXVlc3RJZDpudWxsLHJlc3VsdFR5cGU6bnVsbCxvdXRwdXRGb3JtYXQ6bnVsbCxvdXRwdXRTY2hlbWE6bnVsbCxzdGFydFBvc2l0aW9uOm51bGwsbWF4UmVjb3JkczpudWxsLERpc3RyaWJ1dGVkU2VhcmNoOm51bGwsUmVzcG9uc2VIYW5kbGVyOm51bGwsUXVlcnk6bnVsbCxyZWdFeGVzOnt0cmltU3BhY2U6L15ccyp8XHMqJC9nLHJlbW92ZVNwYWNlOi9ccyovZyxzcGxpdFNwYWNlOi9ccysvLHRyaW1Db21tYTovXHMqLFxzKi9nfSxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSl9LHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PXR5cGVvZiBhJiYoYT1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxbYV0pKTthJiY5PT1hLm5vZGVUeXBlJiYoYT1hLmRvY3VtZW50RWxlbWVudCk7dmFyIGI9e307dGhpcy5yZWFkTm9kZShhLGIpO3JldHVybiBifSwKcmVhZGVyczp7Y3N3OntHZXRSZWNvcmRzUmVzcG9uc2U6ZnVuY3Rpb24oYSxiKXtiLnJlY29yZHM9W107dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpO3ZhciBjPXRoaXMuZ2V0QXR0cmlidXRlTlMoYSwiIiwidmVyc2lvbiIpOyIiIT1jJiYoYi52ZXJzaW9uPWMpfSxSZXF1ZXN0SWQ6ZnVuY3Rpb24oYSxiKXtiLlJlcXVlc3RJZD10aGlzLmdldENoaWxkVmFsdWUoYSl9LFNlYXJjaFN0YXR1czpmdW5jdGlvbihhLGIpe2IuU2VhcmNoU3RhdHVzPXt9O3ZhciBjPXRoaXMuZ2V0QXR0cmlidXRlTlMoYSwiIiwidGltZXN0YW1wIik7IiIhPWMmJihiLlNlYXJjaFN0YXR1cy50aW1lc3RhbXA9Yyl9LFNlYXJjaFJlc3VsdHM6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYik7Zm9yKHZhciBjPWEuYXR0cmlidXRlcyxkPXt9LGU9MCxmPWMubGVuZ3RoO2U8ZjsrK2UpZFtjW2VdLm5hbWVdPSJudW1iZXJPZlJlY29yZHNNYXRjaGVkIj09Y1tlXS5uYW1lfHwibnVtYmVyT2ZSZWNvcmRzUmV0dXJuZWQiPT0KY1tlXS5uYW1lfHwibmV4dFJlY29yZCI9PWNbZV0ubmFtZT9wYXJzZUludChjW2VdLm5vZGVWYWx1ZSk6Y1tlXS5ub2RlVmFsdWU7Yi5TZWFyY2hSZXN1bHRzPWR9LFN1bW1hcnlSZWNvcmQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz17dHlwZToiU3VtbWFyeVJlY29yZCJ9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLnJlY29yZHMucHVzaChjKX0sQnJpZWZSZWNvcmQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz17dHlwZToiQnJpZWZSZWNvcmQifTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5yZWNvcmRzLnB1c2goYyl9LERDTUlSZWNvcmQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz17dHlwZToiRENNSVJlY29yZCJ9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLnJlY29yZHMucHVzaChjKX0sUmVjb3JkOmZ1bmN0aW9uKGEsYil7dmFyIGM9e3R5cGU6IlJlY29yZCJ9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLnJlY29yZHMucHVzaChjKX0sIioiOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5sb2NhbE5hbWV8fAphLm5vZGVOYW1lLnNwbGl0KCI6IikucG9wKCk7YltjXT10aGlzLmdldENoaWxkVmFsdWUoYSl9fSxnZW9uZXQ6e2luZm86ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5nbmluZm89Y319LGRjOnsiKiI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmxvY2FsTmFtZXx8YS5ub2RlTmFtZS5zcGxpdCgiOiIpLnBvcCgpO09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGJbY10pfHwoYltjXT1bXSk7Zm9yKHZhciBkPXt9LGU9YS5hdHRyaWJ1dGVzLGY9MCxnPWUubGVuZ3RoO2Y8ZzsrK2YpZFtlW2ZdLm5hbWVdPWVbZl0ubm9kZVZhbHVlO2QudmFsdWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpOyIiIT1kLnZhbHVlJiZiW2NdLnB1c2goZCl9fSxkY3Q6eyIqIjpmdW5jdGlvbihhLGIpe3ZhciBjPWEubG9jYWxOYW1lfHxhLm5vZGVOYW1lLnNwbGl0KCI6IikucG9wKCk7T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYltjXSl8fChiW2NdPVtdKTtiW2NdLnB1c2godGhpcy5nZXRDaGlsZFZhbHVlKGEpKX19LApvd3M6T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe0JvdW5kaW5nQm94OmZ1bmN0aW9uKGEsYil7Yi5ib3VuZHMmJihiLkJvdW5kaW5nQm94PVt7Y3JzOmIucHJvamVjdGlvbix2YWx1ZTpbYi5ib3VuZHMubGVmdCxiLmJvdW5kcy5ib3R0b20sYi5ib3VuZHMucmlnaHQsYi5ib3VuZHMudG9wXX1dLGRlbGV0ZSBiLnByb2plY3Rpb24sZGVsZXRlIGIuYm91bmRzKTtPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24udjFfMF8wLnByb3RvdHlwZS5yZWFkZXJzLm93cy5Cb3VuZGluZ0JveC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSxPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24udjFfMF8wLnByb3RvdHlwZS5yZWFkZXJzLm93cyl9LHdyaXRlOmZ1bmN0aW9uKGEpe2E9dGhpcy53cml0ZU5vZGUoImNzdzpHZXRSZWNvcmRzIixhKTthLnNldEF0dHJpYnV0ZSgieG1sbnM6Z21kIix0aGlzLm5hbWVzcGFjZXMuZ21kKTtyZXR1cm4gT3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS53cml0ZS5hcHBseSh0aGlzLApbYV0pfSx3cml0ZXJzOntjc3c6e0dldFJlY29yZHM6ZnVuY3Rpb24oYSl7YXx8KGE9e30pO3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiY3N3OkdldFJlY29yZHMiLHthdHRyaWJ1dGVzOntzZXJ2aWNlOiJDU1ciLHZlcnNpb246dGhpcy52ZXJzaW9uLHJlcXVlc3RJZDphLnJlcXVlc3RJZHx8dGhpcy5yZXF1ZXN0SWQscmVzdWx0VHlwZTphLnJlc3VsdFR5cGV8fHRoaXMucmVzdWx0VHlwZSxvdXRwdXRGb3JtYXQ6YS5vdXRwdXRGb3JtYXR8fHRoaXMub3V0cHV0Rm9ybWF0LG91dHB1dFNjaGVtYTphLm91dHB1dFNjaGVtYXx8dGhpcy5vdXRwdXRTY2hlbWEsc3RhcnRQb3NpdGlvbjphLnN0YXJ0UG9zaXRpb258fHRoaXMuc3RhcnRQb3NpdGlvbixtYXhSZWNvcmRzOmEubWF4UmVjb3Jkc3x8dGhpcy5tYXhSZWNvcmRzfX0pO2lmKGEuRGlzdHJpYnV0ZWRTZWFyY2h8fHRoaXMuRGlzdHJpYnV0ZWRTZWFyY2gpdGhpcy53cml0ZU5vZGUoImNzdzpEaXN0cmlidXRlZFNlYXJjaCIsCmEuRGlzdHJpYnV0ZWRTZWFyY2h8fHRoaXMuRGlzdHJpYnV0ZWRTZWFyY2gsYik7dmFyIGM9YS5SZXNwb25zZUhhbmRsZXJ8fHRoaXMuUmVzcG9uc2VIYW5kbGVyO2lmKE9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGMpJiYwPGMubGVuZ3RoKWZvcih2YXIgZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKyl0aGlzLndyaXRlTm9kZSgiY3N3OlJlc3BvbnNlSGFuZGxlciIsY1tkXSxiKTt0aGlzLndyaXRlTm9kZSgiUXVlcnkiLGEuUXVlcnl8fHRoaXMuUXVlcnksYik7cmV0dXJuIGJ9LERpc3RyaWJ1dGVkU2VhcmNoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImNzdzpEaXN0cmlidXRlZFNlYXJjaCIse2F0dHJpYnV0ZXM6e2hvcENvdW50OmEuaG9wQ291bnR9fSl9LFJlc3BvbnNlSGFuZGxlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJjc3c6UmVzcG9uc2VIYW5kbGVyIix7dmFsdWU6YS52YWx1ZX0pfSxRdWVyeTpmdW5jdGlvbihhKXthfHwKKGE9e30pO3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiY3N3OlF1ZXJ5Iix7YXR0cmlidXRlczp7dHlwZU5hbWVzOmEudHlwZU5hbWVzfHwiY3N3OlJlY29yZCJ9fSksYz1hLkVsZW1lbnROYW1lO2lmKE9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGMpJiYwPGMubGVuZ3RoKWZvcih2YXIgZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKyl0aGlzLndyaXRlTm9kZSgiY3N3OkVsZW1lbnROYW1lIixjW2RdLGIpO2Vsc2UgdGhpcy53cml0ZU5vZGUoImNzdzpFbGVtZW50U2V0TmFtZSIsYS5FbGVtZW50U2V0TmFtZXx8e3ZhbHVlOiJzdW1tYXJ5In0sYik7YS5Db25zdHJhaW50JiZ0aGlzLndyaXRlTm9kZSgiY3N3OkNvbnN0cmFpbnQiLGEuQ29uc3RyYWludCxiKTthLlNvcnRCeSYmdGhpcy53cml0ZU5vZGUoIm9nYzpTb3J0QnkiLGEuU29ydEJ5LGIpO3JldHVybiBifSxFbGVtZW50TmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJjc3c6RWxlbWVudE5hbWUiLAp7dmFsdWU6YS52YWx1ZX0pfSxFbGVtZW50U2V0TmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJjc3c6RWxlbWVudFNldE5hbWUiLHthdHRyaWJ1dGVzOnt0eXBlTmFtZXM6YS50eXBlTmFtZXN9LHZhbHVlOmEudmFsdWV9KX0sQ29uc3RyYWludDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImNzdzpDb25zdHJhaW50Iix7YXR0cmlidXRlczp7dmVyc2lvbjphLnZlcnNpb259fSk7aWYoYS5GaWx0ZXIpe3ZhciBjPW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIoe3ZlcnNpb246YS52ZXJzaW9ufSk7Yi5hcHBlbmRDaGlsZChjLndyaXRlKGEuRmlsdGVyKSl9ZWxzZSBhLkNxbFRleHQmJihhPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiQ3FsVGV4dCIse3ZhbHVlOmEuQ3FsVGV4dC52YWx1ZX0pLGIuYXBwZW5kQ2hpbGQoYSkpO3JldHVybiBifX0sb2djOk9wZW5MYXllcnMuRm9ybWF0LkZpbHRlci52MV8xXzAucHJvdG90eXBlLndyaXRlcnMub2djfSwKQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuQ1NXR2V0UmVjb3Jkcy52Ml8wXzIifSk7T3BlbkxheWVycy5MYW5nLmhzYj1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7dW5oYW5kbGVkUmVxdWVzdDoiV290bW9cdTAxNDJ3YSBuamV3b2JkXHUwMTdhXHUwMTFiXHUwMTQyYW5laG8gbmFwcmFcdTAxNjFvd2FuamEgJHtzdGF0dXNUZXh0fSIsUGVybWFsaW5rOiJUcmFqbnkgd290a2F6IixPdmVybGF5czoiTmF3b3JcdTAxNjF0b3dhbmphIiwiQmFzZSBMYXllciI6Ilpha1x1MDE0MmFkbmEgcnVuaW5hIixub0ZJRDoiRnVua2NpamEsIHphIGtvdHJ1XHUwMTdlIEZJRCBuamVqZSwgbmplZGEgc28gYWt0dWFsaXpvd2FcdTAxMDcuIixicm93c2VyTm90U3VwcG9ydGVkOiJUd1x1MDBmM2ogd29iaGxhZG93YWsgd2VrdG9yb3dlIHJ5c293YW5qZSBuamVwb2RwXHUwMTFicnVqZS4gVHVjaHdpbHUgcG9kcFx1MDExYnJvd2FuZSByeXNvd2FraSBzdTpcbiR7cmVuZGVyZXJzfSIsbWluWm9vbUxldmVsRXJyb3I6Ikthamtvc1x1MDEwNyBtaW5ab29tTGV2ZWwgamUgamVub1x1MDE3ZSB6YSB3dVx1MDE3ZWl3YW5qZSB6IHdvclx1MDE2MXRhbWkgbXlzbGVuYSwga290cmVcdTAxN2Ugd290IEZpeGVkWm9vbUxldmVscyBwb2NoYWRcdTAxN2FlamEuIFpvIHR1dGEgd29yXHUwMTYxdGEgd2ZzIHphIG1pblpvb21MZXZlbCBwXHUwMTU5ZXBydXd1amUsIGplIHJlbGlrdCB6YVx1MDE0NGRcdTAxN2Flbm9zXHUwMTA3ZS4gTmplbVx1MDBmM1x1MDE3ZWVteSB3XHUwMTYxYWsganUgd290c3Ryb25pXHUwMTA3LCBiamV6dG9obyB6byBhcGxpa2FjaWplLCBrb3RyZVx1MDE3ZSBuYSBPcGVuTGF5ZXJzIGJhelx1MDExYnJ1amEgYSBzbmFubyB0dXR1IGthamtvc1x1MDEwNyB3dVx1MDE3ZWl3YWphLCBoaVx1MDE3ZW8gbmplZnVuZ3VqYS4gVG9ob2RsYSBzbXkganUgamFrbyB6ZXN0YXJqZW51IHdvem5hbWplbmlsaSAtLSBwXHUwMTU5ZXBydXdvd2FuamUgemEgbWluWm9vbUxldmVsIGJ1ZHUgc28gd2Ugd2Vyc2lqaSAzLjAgd290c3Ryb25qZVx1MDEwNy4gUHJvXHUwMTYxdSB3dVx1MDE3ZWlqIG1cdTAxMWJzdG8gdG9obyBuYXN0YWplbmplIG1pbi9tYXgsIGthXHUwMTdlIGplIHR1IHdvcGlzYW5lOiBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NldHRpbmdab29tTGV2ZWxzIiwKY29tbWl0U3VjY2VzczoiV0ZTLVRyYW5zYWtjaWphOiBXVVNQXHUwMTFhXHUwMTYwTkEgJHtyZXNwb25zZX0iLGNvbW1pdEZhaWxlZDoiV0ZTLVRyYW5zYWtjaWphOiBOSkVQT1JBRFx1MDE3OUVOQSAke3Jlc3BvbnNlfSIsZ29vZ2xlV2FybmluZzoiV29yXHUwMTYxdGEgR29vZ2xlIG5qZW1cdTAwZjNcdTAxN2VlXHUwMTYxZSBzbyBrb3Jla3RuamUgemFcdTAxMGRpdGFcdTAxMDcuPGJyPjxicj5abyBieSB0dXR1IHpkXHUwMTdhXHUwMTFibGVua3Ugd290YnlcdTAxNDIsIHd1YmplciBub3d5IEJhc2VMYXllciB6IHd1Ylx1MDExYnJhIHdvclx1MDE2MXRvdyBob3JqZWthIG5hcHJhd28uPGJyPjxicj5OYWpza2VyamUgc28gdG8gc3Rhd2EsIGRva2VsXHUwMTdlIHNrcmlwdCBiaWJsaW90ZWtpIEdvb2dsZSBNYXBzIHBhayBuamVidSB6YXBcdTAxNTlpamF0eSBwYWsgbmpld29ic2FodWplIGtvcmVrdG55IGtsdVx1MDEwZCBBUEkgemEgdHdvamUgc3lkXHUwMTQyby48YnI+PGJyPld1d2l3YXJqbzogWmEgcG9tb2Mga2Uga29yZWt0bmVtdSBmdW5nb3dhbmp1IHdvclx1MDE2MXRvd1xuPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9Hb29nbGUnIHRhcmdldD0nX2JsYW5rJz50dSBrbGlrbnlcdTAxMDc8L2E+IiwKZ2V0TGF5ZXJXYXJuaW5nOiJXb3JcdTAxNjF0YSAke2xheWVyVHlwZX0gbmplbVx1MDBmM1x1MDE3ZWVcdTAxNjFlIHNvIGtvcmVrdG5qZSB6YVx1MDEwZGl0YVx1MDEwNy48YnI+PGJyPlpvIGJ5IHR1dHUgemRcdTAxN2FcdTAxMWJsZW5rdSB3b3RieVx1MDE0Miwgd3ViamVyIG5vd3kgQmFzZUxheWVyIHogd3ViXHUwMTFicmEgd29yXHUwMTYxdG93IGhvcmpla2EgbmFwcmF3by48YnI+PGJyPk5hanNrZXJqZSBzbyB0byBzdGF3YSwgZG9rZWxcdTAxN2Ugc2tyaXB0IGJpYmxpb3Rla2kgJHtsYXllckxpYn0gbmplYnUga29yZWt0bmplIHphcFx1MDE1OWlqYXR5Ljxicj48YnI+V3V3aXdhcmpvOiBaYSBwb21vYyBrZSBrb3Jla3RuZW11IGZ1bmdvd2FuanUgd29yXHUwMTYxdG93XG48YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+dHUga2xpa255XHUwMTA3PC9hPiIsIlNjYWxlID0gMSA6ICR7c2NhbGVEZW5vbX0iOiJNXHUwMTFicml0a28gPSAxIDogJHtzY2FsZURlbm9tfSIsClc6IloiLEU6IlciLE46IlMiLFM6IkoiLHJlcHJvamVjdERlcHJlY2F0ZWQ6J1d1XHUwMTdlaXdhXHUwMTYxIG9wY2lqdSAicmVwcm9qZWN0IiB3b1x1MDE1OVx1MDE2MXR5ICR7bGF5ZXJOYW1lfS4gVHV0YSBvcGNpamEgamUgemVzdGFyamVuYTogamVqZSB3dVx1MDE3ZWl3YW5qZSBiXHUwMTFiIG15c2xlbmUsIHpvIGJ5IHp3b2JyYXpuamVuamUgZGF0b3cgbmFkIGtvbWVyY2llbG55bWkgYmF6b3d5bWkga2FydGFtaSBwb2RwXHUwMTFicmFcdTAxNDJvLCBhbGUgZnVua2Npb25hbG5vc1x1MDEwNyBtXHUwMTFiXHUwMTQyYSBzbyBuXHUwMTFidGtvIHogcG9tb2N1IFNwZXJpY2FsIE1lcmNhdG9yIGRvY3BcdTAxMWJcdTAxMDcuIERhbFx1MDE2MWUgaW5mb3JtYWNpamUgc3RlamEgbmEgaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TcGhlcmljYWxNZXJjYXRvciBrIGRpc3BvemljaWppLicsbWV0aG9kRGVwcmVjYXRlZDoiVHV0YSBtZXRvZGEgamUgc28gbmplc2Nod2FsaVx1MDE0MmEgYSBidWRcdTAxN2FlIHNvIHcgMy4wIHdvdHN0cm9uamVcdTAxMDcuIFByb1x1MDE2MXUgd3VcdTAxN2VpaiAke25ld01ldGhvZH0gbVx1MDExYnN0byB0b2hvLiJ9KTtPcGVuTGF5ZXJzLkxhbmcuZGU9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3VuaGFuZGxlZFJlcXVlc3Q6IlVuYmVoYW5kZWx0ZSBBbmZyYWdlclx1MDBmY2NrbWVsZHVuZyAke3N0YXR1c1RleHR9IixQZXJtYWxpbms6IlBlcm1hbGluayIsT3ZlcmxheXM6Ik92ZXJsYXlzIiwiQmFzZSBMYXllciI6IkdydW5ka2FydGUiLG5vRklEOiJFaW4gRmVhdHVyZSwgZlx1MDBmY3IgZGFzIGtlaW5lIEZJRCBleGlzdGllcnQsIGthbm4gbmljaHQgYWt0dWFsaXNpZXJ0IHdlcmRlbi4iLGJyb3dzZXJOb3RTdXBwb3J0ZWQ6IklociBCcm93c2VyIHVudGVyc3RcdTAwZmN0enQga2VpbmUgVmVrdG9yZGFyc3RlbGx1bmcuIEFrdHVlbGwgdW50ZXJzdFx1MDBmY3R6dGUgUmVuZGVyZXI6XG4ke3JlbmRlcmVyc30iLG1pblpvb21MZXZlbEVycm9yOiJEaWUgPGNvZGU+bWluWm9vbUxldmVsPC9jb2RlPi1FaWdlbnNjaGFmdCBpc3QgbnVyIGZcdTAwZmNyIGRpZSBWZXJ3ZW5kdW5nIG1pdCA8Y29kZT5GaXhlZFpvb21MZXZlbHM8L2NvZGU+LXVudGVyZ2VvcmRuZXRlbiBMYXllcnMgdm9yZ2VzZWhlbi4gRGFzIGRpZXNlciA8dHQ+d2ZzPC90dD4tTGF5ZXIgZGllIDxjb2RlPm1pblpvb21MZXZlbDwvY29kZT4tRWlnZW5zY2hhZnQgXHUwMGZjYmVycHJcdTAwZmNmdCBpc3QgZWluIFJlbGlrdCBkZXIgVmVyZ2FuZ2VuaGVpdC4gV2lyIGtcdTAwZjZubmVuIGRpZXNlIFx1MDBkY2JlcnByXHUwMGZjZnVuZyBuaWNodCBlbnRmZXJuZW4sIG9obmUgZGFzIE9MIGJhc2llcmVuZGUgQXBwbGlrYXRpb25lbiBuaWNodCBtZWhyIGZ1bmt0aW9uaWVyZW4uIERhaGVyIG1hcmtpZXJlbiB3aXIgZXMgYWxzIHZlcmFsdGV0IC0gZGllIDxjb2RlPm1pblpvb21MZXZlbDwvY29kZT4tXHUwMGRjYmVycHJcdTAwZmNmdW5nIHdpcmQgaW4gVmVyc2lvbiAzLjAgZW50ZmVybnQgd2VyZGVuLiBCaXR0ZSB2ZXJ3ZW5kZW4gU2llIHN0YXR0ZGVzc2VuIGRpZSBNaW4tL01heC1MXHUwMGY2c3VuZywgd2llIHNpZSB1bnRlciBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NldHRpbmdab29tTGV2ZWxzIGJlc2NocmllYmVuIGlzdC4iLApjb21taXRTdWNjZXNzOiJXRlMtVHJhbnNha3Rpb246IEVyZm9sZ3JlaWNoICR7cmVzcG9uc2V9Iixjb21taXRGYWlsZWQ6IldGUy1UcmFuc2FrdGlvbjogRmVobGdlc2NobGFnZW4gJHtyZXNwb25zZX0iLGdvb2dsZVdhcm5pbmc6IkRlciBHb29nbGUtTGF5ZXIga29ubnRlIG5pY2h0IGtvcnJla3QgZ2VsYWRlbiB3ZXJkZW4uPGJyPjxicj5VbSBkaWVzZSBNZWxkdW5nIG5pY2h0IG1laHIgenUgZXJoYWx0ZW4sIHdcdTAwZTRobGVuIFNpZSBlaW5lbiBhbmRlcmVuIEhpbnRlcmdydW5kbGF5ZXIgYXVzIGRlbSBMYXllclN3aXRjaGVyIGluIGRlciByZWNodGVuIG9iZXJlbiBFY2tlLjxicj48YnI+U2VociB3YWhyc2NoZWlubGljaCB0cml0dCBkaWVzZXIgRmVobGVyIGF1Ziwgd2VpbCBkYXMgU2tyaXB0IGRlciBHb29nbGUtTWFwcy1CaWJsaW90aGVrIG5pY2h0IGVpbmdlYnVuZGVuIHd1cmRlIG9kZXIga2VpbmVuIGdcdTAwZmNsdGlnZW4gQVBJLVNjaGxcdTAwZmNzc2VsIGZcdTAwZmNyIElocmUgVVJMIGVudGhcdTAwZTRsdC48YnI+PGJyPkVudHdpY2tsZXI6IEJlc3VjaGUgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9Hb29nbGUnIHRhcmdldD0nX2JsYW5rJz5kYXMgV2lraTwvYT4gZlx1MDBmY3IgSGlsZmUgenVtIGtvcnJla3RlbiBFaW5iaW5kZW4gZGVzIEdvb2dsZS1MYXllcnMiLApnZXRMYXllcldhcm5pbmc6IkRlciAke2xheWVyVHlwZX0tTGF5ZXIga29ubnRlIG5pY2h0IGtvcnJla3QgZ2VsYWRlbiB3ZXJkZW4uPGJyPjxicj5VbSBkaWVzZSBNZWxkdW5nIG5pY2h0IG1laHIgenUgZXJoYWx0ZW4sIHdcdTAwZTRobGVuIFNpZSBlaW5lbiBhbmRlcmVuIEhpbnRlcmdydW5kbGF5ZXIgYXVzIGRlbSBMYXllclN3aXRjaGVyIGluIGRlciByZWNodGVuIG9iZXJlbiBFY2tlLjxicj48YnI+U2VociB3YWhyc2NoZWlubGljaCB0cml0dCBkaWVzZXIgRmVobGVyIGF1Ziwgd2VpbCBkYXMgU2tyaXB0IGRlciAnJHtsYXllckxpYn0nLUJpYmxpb3RoZWsgbmljaHQgZWluZ2VidW5kZW4gd3VyZGUuPGJyPjxicj5FbnR3aWNrbGVyOiBCZXN1Y2hlIDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvJHtsYXllckxpYn0nIHRhcmdldD0nX2JsYW5rJz5kYXMgV2lraTwvYT4gZlx1MDBmY3IgSGlsZmUgenVtIGtvcnJla3RlbiBFaW5iaW5kZW4gdm9uIExheWVybiIsCiJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiTWFcdTAwZGZzdGFiID0gMSA6ICR7c2NhbGVEZW5vbX0iLFc6IlciLEU6Ik8iLE46Ik4iLFM6IlMiLHJlcHJvamVjdERlcHJlY2F0ZWQ6IlNpZSB2ZXJ3ZW5kZW4gZGllIFx1MjAxZVJlcHJvamVjdFx1MjAxYy1PcHRpb24gZGVzIExheWVycyAke2xheWVyTmFtZX0uIERpZXNlIE9wdGlvbiBpc3QgdmVyYWx0ZXQ6IFNpZSB3dXJkZSBlbnR3aWNrZWx0IHVtIGRpZSBBbnplaWdlIHZvbiBEYXRlbiBhdWYga29tbWVyemllbGxlbiBCYXNpc2thcnRlbiB6dSB1bnRlcnN0XHUwMGZjdHplbiwgYWJlciBkaWVzZSBGdW5rdGlvbiBzb2xsdGUgamV0enQgZHVyY2ggVW50ZXJzdFx1MDBmY3R6dW5nIGRlciBcdTIwMWVTcGhlcmljYWwgTWVyY2F0b3JcdTIwMWMgZXJyZWljaHQgd2VyZGVuLiBXZWl0ZXJlIEluZm9ybWF0aW9uZW4gc2luZCB1bnRlciBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NwaGVyaWNhbE1lcmNhdG9yIHZlcmZcdTAwZmNnYmFyLiIsCm1ldGhvZERlcHJlY2F0ZWQ6IkRpZSBNZXRob2RlIGlzdCB2ZXJhbHRldCB1bmQgd2lyZCBpbiAzLjAgZW50ZmVybnQuIEJpdHRlIHZlcndlbmRlIHN0YXR0ZGVzc2VuICR7bmV3TWV0aG9kfS4ifSk7T3BlbkxheWVycy5NYXJrZXIuQm94PU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5NYXJrZXIse2JvdW5kczpudWxsLGRpdjpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMpe3RoaXMuYm91bmRzPWE7dGhpcy5kaXY9T3BlbkxheWVycy5VdGlsLmNyZWF0ZURpdigpO3RoaXMuZGl2LnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iO3RoaXMuZXZlbnRzPW5ldyBPcGVuTGF5ZXJzLkV2ZW50cyh0aGlzLHRoaXMuZGl2KTt0aGlzLnNldEJvcmRlcihiLGMpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5kaXY9dGhpcy5ib3VuZHM9bnVsbDtPcGVuTGF5ZXJzLk1hcmtlci5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHNldEJvcmRlcjpmdW5jdGlvbihhLGIpe2F8fChhPSJyZWQiKTtifHwoYj0yKTt0aGlzLmRpdi5zdHlsZS5ib3JkZXI9YisicHggc29saWQgIithfSxkcmF3OmZ1bmN0aW9uKGEsYil7T3BlbkxheWVycy5VdGlsLm1vZGlmeURPTUVsZW1lbnQodGhpcy5kaXYsCm51bGwsYSxiKTtyZXR1cm4gdGhpcy5kaXZ9LG9uU2NyZWVuOmZ1bmN0aW9uKCl7dmFyIGE9ITE7dGhpcy5tYXAmJihhPXRoaXMubWFwLmdldEV4dGVudCgpLmNvbnRhaW5zQm91bmRzKHRoaXMuYm91bmRzLCEwLCEwKSk7cmV0dXJuIGF9LGRpc3BsYXk6ZnVuY3Rpb24oYSl7dGhpcy5kaXYuc3R5bGUuZGlzcGxheT1hPyIiOiJub25lIn0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5NYXJrZXIuQm94In0pO09wZW5MYXllcnMuRm9ybWF0LlRleHQ9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdCx7ZGVmYXVsdFN0eWxlOm51bGwsZXh0cmFjdFN0eWxlczohMCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe2E9YXx8e307ITEhPT1hLmV4dHJhY3RTdHlsZXMmJihhLmRlZmF1bHRTdHlsZT17ZXh0ZXJuYWxHcmFwaGljOk9wZW5MYXllcnMuVXRpbC5nZXRJbWFnZUxvY2F0aW9uKCJtYXJrZXIucG5nIiksZ3JhcGhpY1dpZHRoOjIxLGdyYXBoaWNIZWlnaHQ6MjUsZ3JhcGhpY1hPZmZzZXQ6LTEwLjUsZ3JhcGhpY1lPZmZzZXQ6LTEyLjV9KTtPcGVuTGF5ZXJzLkZvcm1hdC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSl9LHJlYWQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBhPWEuc3BsaXQoIlxuIiksYixjPVtdLGQ9MDtkPGEubGVuZ3RoLTE7ZCsrKXt2YXIgZT1hW2RdLnJlcGxhY2UoL15ccyovLCIiKS5yZXBsYWNlKC9ccyokLywiIik7aWYoIiMiIT1lLmNoYXJBdCgwKSlpZihiKXtmb3IodmFyIGU9CmUuc3BsaXQoIlx0IiksZj1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCgwLDApLGc9e30saD10aGlzLmRlZmF1bHRTdHlsZT9PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7fSx0aGlzLmRlZmF1bHRTdHlsZSk6bnVsbCxpPSExLGo9MDtqPGUubGVuZ3RoO2orKylpZihlW2pdKWlmKCJwb2ludCI9PWJbal0paT1lW2pdLnNwbGl0KCIsIiksZi55PXBhcnNlRmxvYXQoaVswXSksZi54PXBhcnNlRmxvYXQoaVsxXSksaT0hMDtlbHNlIGlmKCJsYXQiPT1iW2pdKWYueT1wYXJzZUZsb2F0KGVbal0pLGk9ITA7ZWxzZSBpZigibG9uIj09YltqXSlmLng9cGFyc2VGbG9hdChlW2pdKSxpPSEwO2Vsc2UgaWYoInRpdGxlIj09YltqXSlnLnRpdGxlPWVbal07ZWxzZSBpZigiaW1hZ2UiPT1iW2pdfHwiaWNvbiI9PWJbal0mJmgpaC5leHRlcm5hbEdyYXBoaWM9ZVtqXTtlbHNlIGlmKCJpY29uU2l6ZSI9PWJbal0mJmgpe3ZhciBrPWVbal0uc3BsaXQoIiwiKTtoLmdyYXBoaWNXaWR0aD0KcGFyc2VGbG9hdChrWzBdKTtoLmdyYXBoaWNIZWlnaHQ9cGFyc2VGbG9hdChrWzFdKX1lbHNlImljb25PZmZzZXQiPT1iW2pdJiZoPyhrPWVbal0uc3BsaXQoIiwiKSxoLmdyYXBoaWNYT2Zmc2V0PXBhcnNlRmxvYXQoa1swXSksaC5ncmFwaGljWU9mZnNldD1wYXJzZUZsb2F0KGtbMV0pKToiZGVzY3JpcHRpb24iPT1iW2pdP2cuZGVzY3JpcHRpb249ZVtqXToib3ZlcmZsb3ciPT1iW2pdP2cub3ZlcmZsb3c9ZVtqXTpnW2Jbal1dPWVbal07aSYmKHRoaXMuaW50ZXJuYWxQcm9qZWN0aW9uJiZ0aGlzLmV4dGVybmFsUHJvamVjdGlvbiYmZi50cmFuc2Zvcm0odGhpcy5leHRlcm5hbFByb2plY3Rpb24sdGhpcy5pbnRlcm5hbFByb2plY3Rpb24pLGU9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoZixnLGgpLGMucHVzaChlKSl9ZWxzZSBiPWUuc3BsaXQoIlx0Iil9cmV0dXJuIGN9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LlRleHQifSk7T3BlbkxheWVycy5MYXllci5UZXh0PU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllci5NYXJrZXJzLHtsb2NhdGlvbjpudWxsLGZlYXR1cmVzOm51bGwsZm9ybWF0T3B0aW9uczpudWxsLHNlbGVjdGVkRmVhdHVyZTpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLkxheWVyLk1hcmtlcnMucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZmVhdHVyZXM9W119LGRlc3Ryb3k6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkxheWVyLk1hcmtlcnMucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuY2xlYXJGZWF0dXJlcygpO3RoaXMuZmVhdHVyZXM9bnVsbH0sbG9hZFRleHQ6ZnVuY3Rpb24oKXshdGhpcy5sb2FkZWQmJm51bGwhPXRoaXMubG9jYXRpb24mJih0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvYWRzdGFydCIpLE9wZW5MYXllcnMuUmVxdWVzdC5HRVQoe3VybDp0aGlzLmxvY2F0aW9uLApzdWNjZXNzOnRoaXMucGFyc2VEYXRhLGZhaWx1cmU6ZnVuY3Rpb24oKXt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvYWRlbmQiKX0sc2NvcGU6dGhpc30pLHRoaXMubG9hZGVkPSEwKX0sbW92ZVRvOmZ1bmN0aW9uKGEsYixjKXtPcGVuTGF5ZXJzLkxheWVyLk1hcmtlcnMucHJvdG90eXBlLm1vdmVUby5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy52aXNpYmlsaXR5JiYhdGhpcy5sb2FkZWQmJnRoaXMubG9hZFRleHQoKX0scGFyc2VEYXRhOmZ1bmN0aW9uKGEpe3ZhciBhPWEucmVzcG9uc2VUZXh0LGI9e307T3BlbkxheWVycy5VdGlsLmV4dGVuZChiLHRoaXMuZm9ybWF0T3B0aW9ucyk7dGhpcy5tYXAmJiF0aGlzLnByb2plY3Rpb24uZXF1YWxzKHRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSkmJihiLmV4dGVybmFsUHJvamVjdGlvbj10aGlzLnByb2plY3Rpb24sYi5pbnRlcm5hbFByb2plY3Rpb249dGhpcy5tYXAuZ2V0UHJvamVjdGlvbk9iamVjdCgpKTtmb3IodmFyIGE9CihuZXcgT3BlbkxheWVycy5Gb3JtYXQuVGV4dChiKSkucmVhZChhKSxiPTAsYz1hLmxlbmd0aDtiPGM7YisrKXt2YXIgZD17fSxlPWFbYl0sZixnLGg7Zj1uZXcgT3BlbkxheWVycy5Mb25MYXQoZS5nZW9tZXRyeS54LGUuZ2VvbWV0cnkueSk7ZS5zdHlsZS5ncmFwaGljV2lkdGgmJmUuc3R5bGUuZ3JhcGhpY0hlaWdodCYmKGc9bmV3IE9wZW5MYXllcnMuU2l6ZShlLnN0eWxlLmdyYXBoaWNXaWR0aCxlLnN0eWxlLmdyYXBoaWNIZWlnaHQpKTt2b2lkIDAhPT1lLnN0eWxlLmdyYXBoaWNYT2Zmc2V0JiZ2b2lkIDAhPT1lLnN0eWxlLmdyYXBoaWNZT2Zmc2V0JiYoaD1uZXcgT3BlbkxheWVycy5QaXhlbChlLnN0eWxlLmdyYXBoaWNYT2Zmc2V0LGUuc3R5bGUuZ3JhcGhpY1lPZmZzZXQpKTtudWxsIT1lLnN0eWxlLmV4dGVybmFsR3JhcGhpYz9kLmljb249bmV3IE9wZW5MYXllcnMuSWNvbihlLnN0eWxlLmV4dGVybmFsR3JhcGhpYyxnLGgpOihkLmljb249T3BlbkxheWVycy5NYXJrZXIuZGVmYXVsdEljb24oKSwKbnVsbCE9ZyYmZC5pY29uLnNldFNpemUoZykpO251bGwhPWUuYXR0cmlidXRlcy50aXRsZSYmbnVsbCE9ZS5hdHRyaWJ1dGVzLmRlc2NyaXB0aW9uJiYoZC5wb3B1cENvbnRlbnRIVE1MPSI8aDI+IitlLmF0dHJpYnV0ZXMudGl0bGUrIjwvaDI+PHA+IitlLmF0dHJpYnV0ZXMuZGVzY3JpcHRpb24rIjwvcD4iKTtkLm92ZXJmbG93PWUuYXR0cmlidXRlcy5vdmVyZmxvd3x8ImF1dG8iO2Q9bmV3IE9wZW5MYXllcnMuRmVhdHVyZSh0aGlzLGYsZCk7dGhpcy5mZWF0dXJlcy5wdXNoKGQpO2Y9ZC5jcmVhdGVNYXJrZXIoKTtudWxsIT1lLmF0dHJpYnV0ZXMudGl0bGUmJm51bGwhPWUuYXR0cmlidXRlcy5kZXNjcmlwdGlvbiYmZi5ldmVudHMucmVnaXN0ZXIoImNsaWNrIixkLHRoaXMubWFya2VyQ2xpY2spO3RoaXMuYWRkTWFya2VyKGYpfXRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgibG9hZGVuZCIpfSxtYXJrZXJDbGljazpmdW5jdGlvbihhKXt2YXIgYj10aGlzPT10aGlzLmxheWVyLnNlbGVjdGVkRmVhdHVyZTsKdGhpcy5sYXllci5zZWxlY3RlZEZlYXR1cmU9IWI/dGhpczpudWxsO2Zvcih2YXIgYz0wLGQ9dGhpcy5sYXllci5tYXAucG9wdXBzLmxlbmd0aDtjPGQ7YysrKXRoaXMubGF5ZXIubWFwLnJlbW92ZVBvcHVwKHRoaXMubGF5ZXIubWFwLnBvcHVwc1tjXSk7Ynx8dGhpcy5sYXllci5tYXAuYWRkUG9wdXAodGhpcy5jcmVhdGVQb3B1cCgpKTtPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSl9LGNsZWFyRmVhdHVyZXM6ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLmZlYXR1cmVzKWZvcig7MDx0aGlzLmZlYXR1cmVzLmxlbmd0aDspe3ZhciBhPXRoaXMuZmVhdHVyZXNbMF07T3BlbkxheWVycy5VdGlsLnJlbW92ZUl0ZW0odGhpcy5mZWF0dXJlcyxhKTthLmRlc3Ryb3koKX19LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuTGF5ZXIuVGV4dCJ9KTtPcGVuTGF5ZXJzLkhhbmRsZXIuUmVndWxhclBvbHlnb249T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkhhbmRsZXIuRHJhZyx7c2lkZXM6NCxyYWRpdXM6bnVsbCxzbmFwQW5nbGU6bnVsbCxzbmFwVG9nZ2xlOiJzaGlmdEtleSIsbGF5ZXJPcHRpb25zOm51bGwscGVyc2lzdDohMSxpcnJlZ3VsYXI6ITEsY2l0ZUNvbXBsaWFudDohMSxhbmdsZTpudWxsLGZpeGVkUmFkaXVzOiExLGZlYXR1cmU6bnVsbCxsYXllcjpudWxsLG9yaWdpbjpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMpe2lmKCFjfHwhYy5sYXllck9wdGlvbnN8fCFjLmxheWVyT3B0aW9ucy5zdHlsZU1hcCl0aGlzLnN0eWxlPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoT3BlbkxheWVycy5GZWF0dXJlLlZlY3Rvci5zdHlsZVsiZGVmYXVsdCJdLHt9KTtPcGVuTGF5ZXJzLkhhbmRsZXIuRHJhZy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthLGIsY10pO3RoaXMub3B0aW9ucz1jP2M6e319LHNldE9wdGlvbnM6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5VdGlsLmV4dGVuZCh0aGlzLm9wdGlvbnMsCmEpO09wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcyxhKX0sYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgYT0hMTtPcGVuTGF5ZXJzLkhhbmRsZXIuRHJhZy5wcm90b3R5cGUuYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpJiYoYT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHtkaXNwbGF5SW5MYXllclN3aXRjaGVyOiExLGNhbGN1bGF0ZUluUmFuZ2U6T3BlbkxheWVycy5GdW5jdGlvbi5UcnVlLHdyYXBEYXRlTGluZTp0aGlzLmNpdGVDb21wbGlhbnR9LHRoaXMubGF5ZXJPcHRpb25zKSx0aGlzLmxheWVyPW5ldyBPcGVuTGF5ZXJzLkxheWVyLlZlY3Rvcih0aGlzLkNMQVNTX05BTUUsYSksdGhpcy5tYXAuYWRkTGF5ZXIodGhpcy5sYXllciksYT0hMCk7cmV0dXJuIGF9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgYT0hMTtPcGVuTGF5ZXJzLkhhbmRsZXIuRHJhZy5wcm90b3R5cGUuZGVhY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cykmJih0aGlzLmRyYWdnaW5nJiZ0aGlzLmNhbmNlbCgpLApudWxsIT10aGlzLmxheWVyLm1hcCYmKHRoaXMubGF5ZXIuZGVzdHJveSghMSksdGhpcy5mZWF0dXJlJiZ0aGlzLmZlYXR1cmUuZGVzdHJveSgpKSx0aGlzLmZlYXR1cmU9dGhpcy5sYXllcj1udWxsLGE9ITApO3JldHVybiBhfSxkb3duOmZ1bmN0aW9uKGEpe3RoaXMuZml4ZWRSYWRpdXM9ISF0aGlzLnJhZGl1czthPXRoaXMubGF5ZXIuZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHgoYS54eSk7dGhpcy5vcmlnaW49bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoYS5sb24sYS5sYXQpO2lmKCF0aGlzLmZpeGVkUmFkaXVzfHx0aGlzLmlycmVndWxhcil0aGlzLnJhZGl1cz10aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCk7dGhpcy5wZXJzaXN0JiZ0aGlzLmNsZWFyKCk7dGhpcy5mZWF0dXJlPW5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yO3RoaXMuY3JlYXRlR2VvbWV0cnkoKTt0aGlzLmNhbGxiYWNrKCJjcmVhdGUiLFt0aGlzLm9yaWdpbix0aGlzLmZlYXR1cmVdKTt0aGlzLmxheWVyLmFkZEZlYXR1cmVzKFt0aGlzLmZlYXR1cmVdLAp7c2lsZW50OiEwfSk7dGhpcy5sYXllci5kcmF3RmVhdHVyZSh0aGlzLmZlYXR1cmUsdGhpcy5zdHlsZSl9LG1vdmU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5sYXllci5nZXRMb25MYXRGcm9tVmlld1BvcnRQeChhLnh5KSxiPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGIubG9uLGIubGF0KTt0aGlzLmlycmVndWxhcj8oYT1NYXRoLnNxcnQoMikqTWF0aC5hYnMoYi55LXRoaXMub3JpZ2luLnkpLzIsdGhpcy5yYWRpdXM9TWF0aC5tYXgodGhpcy5tYXAuZ2V0UmVzb2x1dGlvbigpLzIsYSkpOnRoaXMuZml4ZWRSYWRpdXM/dGhpcy5vcmlnaW49YjoodGhpcy5jYWxjdWxhdGVBbmdsZShiLGEpLHRoaXMucmFkaXVzPU1hdGgubWF4KHRoaXMubWFwLmdldFJlc29sdXRpb24oKS8yLGIuZGlzdGFuY2VUbyh0aGlzLm9yaWdpbikpKTt0aGlzLm1vZGlmeUdlb21ldHJ5KCk7aWYodGhpcy5pcnJlZ3VsYXIpe3ZhciBhPWIueC10aGlzLm9yaWdpbi54LGI9Yi55LXRoaXMub3JpZ2luLnksCmM7Yz0wPT1iP2EvKHRoaXMucmFkaXVzKk1hdGguc3FydCgyKSk6YS9iO3RoaXMuZmVhdHVyZS5nZW9tZXRyeS5yZXNpemUoMSx0aGlzLm9yaWdpbixjKTt0aGlzLmZlYXR1cmUuZ2VvbWV0cnkubW92ZShhLzIsYi8yKX10aGlzLmxheWVyLmRyYXdGZWF0dXJlKHRoaXMuZmVhdHVyZSx0aGlzLnN0eWxlKX0sdXA6ZnVuY3Rpb24oYSl7dGhpcy5maW5hbGl6ZSgpO3RoaXMuc3RhcnQ9PXRoaXMubGFzdCYmdGhpcy5jYWxsYmFjaygiZG9uZSIsW2EueHldKX0sb3V0OmZ1bmN0aW9uKCl7dGhpcy5maW5hbGl6ZSgpfSxjcmVhdGVHZW9tZXRyeTpmdW5jdGlvbigpe3RoaXMuYW5nbGU9TWF0aC5QSSooMS90aGlzLnNpZGVzLTAuNSk7dGhpcy5zbmFwQW5nbGUmJih0aGlzLmFuZ2xlKz10aGlzLnNuYXBBbmdsZSooTWF0aC5QSS8xODApKTt0aGlzLmZlYXR1cmUuZ2VvbWV0cnk9T3BlbkxheWVycy5HZW9tZXRyeS5Qb2x5Z29uLmNyZWF0ZVJlZ3VsYXJQb2x5Z29uKHRoaXMub3JpZ2luLHRoaXMucmFkaXVzLAp0aGlzLnNpZGVzLHRoaXMuc25hcEFuZ2xlKX0sbW9kaWZ5R2VvbWV0cnk6ZnVuY3Rpb24oKXt2YXIgYSxiLGM9dGhpcy5mZWF0dXJlLmdlb21ldHJ5LmNvbXBvbmVudHNbMF07Yy5jb21wb25lbnRzLmxlbmd0aCE9dGhpcy5zaWRlcysxJiYodGhpcy5jcmVhdGVHZW9tZXRyeSgpLGM9dGhpcy5mZWF0dXJlLmdlb21ldHJ5LmNvbXBvbmVudHNbMF0pO2Zvcih2YXIgZD0wO2Q8dGhpcy5zaWRlczsrK2QpYj1jLmNvbXBvbmVudHNbZF0sYT10aGlzLmFuZ2xlKzIqZCpNYXRoLlBJL3RoaXMuc2lkZXMsYi54PXRoaXMub3JpZ2luLngrdGhpcy5yYWRpdXMqTWF0aC5jb3MoYSksYi55PXRoaXMub3JpZ2luLnkrdGhpcy5yYWRpdXMqTWF0aC5zaW4oYSksYi5jbGVhckJvdW5kcygpfSxjYWxjdWxhdGVBbmdsZTpmdW5jdGlvbihhLGIpe3ZhciBjPU1hdGguYXRhbjIoYS55LXRoaXMub3JpZ2luLnksYS54LXRoaXMub3JpZ2luLngpO2lmKHRoaXMuc25hcEFuZ2xlJiZ0aGlzLnNuYXBUb2dnbGUmJiFiW3RoaXMuc25hcFRvZ2dsZV0pe3ZhciBkPQpNYXRoLlBJLzE4MCp0aGlzLnNuYXBBbmdsZTt0aGlzLmFuZ2xlPU1hdGgucm91bmQoYy9kKSpkfWVsc2UgdGhpcy5hbmdsZT1jfSxjYW5jZWw6ZnVuY3Rpb24oKXt0aGlzLmNhbGxiYWNrKCJjYW5jZWwiLG51bGwpO3RoaXMuZmluYWxpemUoKX0sZmluYWxpemU6ZnVuY3Rpb24oKXt0aGlzLm9yaWdpbj1udWxsO3RoaXMucmFkaXVzPXRoaXMub3B0aW9ucy5yYWRpdXN9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5sYXllciYmKHRoaXMubGF5ZXIucmVuZGVyZXIuY2xlYXIoKSx0aGlzLmxheWVyLmRlc3Ryb3lGZWF0dXJlcygpKX0sY2FsbGJhY2s6ZnVuY3Rpb24oYSl7dGhpcy5jYWxsYmFja3NbYV0mJnRoaXMuY2FsbGJhY2tzW2FdLmFwcGx5KHRoaXMuY29udHJvbCxbdGhpcy5mZWF0dXJlLmdlb21ldHJ5LmNsb25lKCldKTshdGhpcy5wZXJzaXN0JiYoImRvbmUiPT1hfHwiY2FuY2VsIj09YSkmJnRoaXMuY2xlYXIoKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5IYW5kbGVyLlJlZ3VsYXJQb2x5Z29uIn0pO09wZW5MYXllcnMuQ29udHJvbC5TTERTZWxlY3Q9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse2NsZWFyT25EZWFjdGl2YXRlOiExLGxheWVyczpudWxsLGNhbGxiYWNrczpudWxsLHNlbGVjdGlvblN5bWJvbGl6ZXI6e1BvbHlnb246e2ZpbGxDb2xvcjoiI0ZGMDAwMCIsc3Ryb2tlOiExfSxMaW5lOntzdHJva2VDb2xvcjoiI0ZGMDAwMCIsc3Ryb2tlV2lkdGg6Mn0sUG9pbnQ6e2dyYXBoaWNOYW1lOiJzcXVhcmUiLGZpbGxDb2xvcjoiI0ZGMDAwMCIscG9pbnRSYWRpdXM6NX19LGxheWVyT3B0aW9uczpudWxsLHNrZXRjaFN0eWxlOm51bGwsd2ZzQ2FjaGU6e30sbGF5ZXJDYWNoZTp7fSxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYil7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2JdKTt0aGlzLmNhbGxiYWNrcz1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHtkb25lOnRoaXMuc2VsZWN0LGNsaWNrOnRoaXMuc2VsZWN0fSx0aGlzLmNhbGxiYWNrcyk7CnRoaXMuaGFuZGxlck9wdGlvbnM9dGhpcy5oYW5kbGVyT3B0aW9uc3x8e307dGhpcy5sYXllck9wdGlvbnM9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHModGhpcy5sYXllck9wdGlvbnMse2Rpc3BsYXlJbkxheWVyU3dpdGNoZXI6ITEsdGlsZU9wdGlvbnM6e21heEdldFVybExlbmd0aDoyMDQ4fX0pO3RoaXMuc2tldGNoU3R5bGUmJih0aGlzLmhhbmRsZXJPcHRpb25zLmxheWVyT3B0aW9ucz1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh0aGlzLmhhbmRsZXJPcHRpb25zLmxheWVyT3B0aW9ucyx7c3R5bGVNYXA6bmV3IE9wZW5MYXllcnMuU3R5bGVNYXAoeyJkZWZhdWx0Ijp0aGlzLnNrZXRjaFN0eWxlfSl9KSk7dGhpcy5oYW5kbGVyPW5ldyBhKHRoaXMsdGhpcy5jYWxsYmFja3MsdGhpcy5oYW5kbGVyT3B0aW9ucyl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gdGhpcy5sYXllckNhY2hlKWRlbGV0ZSB0aGlzLmxheWVyQ2FjaGVbYV07Zm9yKGEgaW4gdGhpcy53ZnNDYWNoZSlkZWxldGUgdGhpcy53ZnNDYWNoZVthXTsKT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sY291cGxlTGF5ZXJWaXNpYmxpdHk6ZnVuY3Rpb24oYSl7dGhpcy5zZXRWaXNpYmlsaXR5KGEub2JqZWN0LmdldFZpc2liaWxpdHkoKSl9LGNyZWF0ZVNlbGVjdGlvbkxheWVyOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKHRoaXMubGF5ZXJDYWNoZVthLmlkXSliPXRoaXMubGF5ZXJDYWNoZVthLmlkXTtlbHNle2I9bmV3IE9wZW5MYXllcnMuTGF5ZXIuV01TKGEubmFtZSxhLnVybCxhLnBhcmFtcyxPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh0aGlzLmxheWVyT3B0aW9ucyxhLmdldE9wdGlvbnMoKSkpO3RoaXMubGF5ZXJDYWNoZVthLmlkXT1iO2lmKCExPT09dGhpcy5sYXllck9wdGlvbnMuZGlzcGxheUluTGF5ZXJTd2l0Y2hlcilhLmV2ZW50cy5vbih7dmlzaWJpbGl0eWNoYW5nZWQ6dGhpcy5jb3VwbGVMYXllclZpc2libGl0eSxzY29wZTpifSk7dGhpcy5tYXAuYWRkTGF5ZXIoYil9cmV0dXJuIGJ9LApjcmVhdGVTTEQ6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD17dmVyc2lvbjoiMS4wLjAiLG5hbWVkTGF5ZXJzOnt9fSxlPSgiIithLnBhcmFtcy5MQVlFUlMpLnNwbGl0KCIsIiksZj0wLGc9ZS5sZW5ndGg7ZjxnO2YrKyl7dmFyIGg9ZVtmXTtkLm5hbWVkTGF5ZXJzW2hdPXtuYW1lOmgsdXNlclN0eWxlczpbXX07dmFyIGk9dGhpcy5zZWxlY3Rpb25TeW1ib2xpemVyLGo9Y1tmXTswPD1qLnR5cGUuaW5kZXhPZigiUG9seWdvbiIpP2k9e1BvbHlnb246dGhpcy5zZWxlY3Rpb25TeW1ib2xpemVyLlBvbHlnb259OjA8PWoudHlwZS5pbmRleE9mKCJMaW5lU3RyaW5nIik/aT17TGluZTp0aGlzLnNlbGVjdGlvblN5bWJvbGl6ZXIuTGluZX06MDw9ai50eXBlLmluZGV4T2YoIlBvaW50IikmJihpPXtQb2ludDp0aGlzLnNlbGVjdGlvblN5bWJvbGl6ZXIuUG9pbnR9KTtkLm5hbWVkTGF5ZXJzW2hdLnVzZXJTdHlsZXMucHVzaCh7bmFtZToiZGVmYXVsdCIscnVsZXM6W25ldyBPcGVuTGF5ZXJzLlJ1bGUoe3N5bWJvbGl6ZXI6aSwKZmlsdGVyOmJbZl0sbWF4U2NhbGVEZW5vbWluYXRvcjphLm9wdGlvbnMubWluU2NhbGV9KV19KX1yZXR1cm4obmV3IE9wZW5MYXllcnMuRm9ybWF0LlNMRCh7c3JzTmFtZTp0aGlzLm1hcC5nZXRQcm9qZWN0aW9uKCl9KSkud3JpdGUoZCl9LHBhcnNlRGVzY3JpYmVMYXllcjpmdW5jdGlvbihhKXt2YXIgYj1uZXcgT3BlbkxheWVycy5Gb3JtYXQuV01TRGVzY3JpYmVMYXllcixjPWEucmVzcG9uc2VYTUw7aWYoIWN8fCFjLmRvY3VtZW50RWxlbWVudCljPWEucmVzcG9uc2VUZXh0O2Zvcih2YXIgYT1iLnJlYWQoYyksYj1bXSxjPW51bGwsZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKykiV0ZTIj09YVtkXS5vd3NUeXBlJiYoYi5wdXNoKGFbZF0udHlwZU5hbWUpLGM9YVtkXS5vd3NVUkwpO09wZW5MYXllcnMuUmVxdWVzdC5HRVQoe3VybDpjLHBhcmFtczp7U0VSVklDRToiV0ZTIixUWVBFTkFNRTpiLnRvU3RyaW5nKCksUkVRVUVTVDoiRGVzY3JpYmVGZWF0dXJlVHlwZSIsVkVSU0lPTjoiMS4wLjAifSwKY2FsbGJhY2s6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IE9wZW5MYXllcnMuRm9ybWF0LldGU0Rlc2NyaWJlRmVhdHVyZVR5cGUsYz1hLnJlc3BvbnNlWE1MO2lmKCFjfHwhYy5kb2N1bWVudEVsZW1lbnQpYz1hLnJlc3BvbnNlVGV4dDthPWIucmVhZChjKTt0aGlzLmNvbnRyb2wud2ZzQ2FjaGVbdGhpcy5sYXllci5pZF09YTt0aGlzLmNvbnRyb2wuX3F1ZXVlJiZ0aGlzLmNvbnRyb2wuYXBwbHlTZWxlY3Rpb24oKX0sc2NvcGU6dGhpc30pfSxnZXRHZW9tZXRyeUF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGE9dGhpcy53ZnNDYWNoZVthLmlkXSxjPTAsZD1hLmZlYXR1cmVUeXBlcy5sZW5ndGg7YzxkO2MrKylmb3IodmFyIGU9YS5mZWF0dXJlVHlwZXNbY10ucHJvcGVydGllcyxmPTAsZz1lLmxlbmd0aDtmPGc7ZisrKXt2YXIgaD1lW2ZdLGk9aC50eXBlOygwPD1pLmluZGV4T2YoIkxpbmVTdHJpbmciKXx8MDw9aS5pbmRleE9mKCJHZW9tZXRyeUFzc29jaWF0aW9uVHlwZSIpfHwKMDw9aS5pbmRleE9mKCJHZW9tZXRyeVByb3BlcnR5VHlwZSIpfHwwPD1pLmluZGV4T2YoIlBvaW50Iil8fDA8PWkuaW5kZXhPZigiUG9seWdvbiIpKSYmYi5wdXNoKGgpfXJldHVybiBifSxhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPU9wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuYWN0aXZhdGUuY2FsbCh0aGlzKTtpZihhKWZvcih2YXIgYj0wLGM9dGhpcy5sYXllcnMubGVuZ3RoO2I8YztiKyspe3ZhciBkPXRoaXMubGF5ZXJzW2JdO2QmJiF0aGlzLndmc0NhY2hlW2QuaWRdJiZPcGVuTGF5ZXJzLlJlcXVlc3QuR0VUKHt1cmw6ZC51cmwscGFyYW1zOntTRVJWSUNFOiJXTVMiLFZFUlNJT046ZC5wYXJhbXMuVkVSU0lPTixMQVlFUlM6ZC5wYXJhbXMuTEFZRVJTLFJFUVVFU1Q6IkRlc2NyaWJlTGF5ZXIifSxjYWxsYmFjazp0aGlzLnBhcnNlRGVzY3JpYmVMYXllcixzY29wZTp7bGF5ZXI6ZCxjb250cm9sOnRoaXN9fSl9cmV0dXJuIGF9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgYT0KT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZWFjdGl2YXRlLmNhbGwodGhpcyk7aWYoYSlmb3IodmFyIGI9MCxjPXRoaXMubGF5ZXJzLmxlbmd0aDtiPGM7YisrKXt2YXIgZD10aGlzLmxheWVyc1tiXTtpZihkJiYhMD09PXRoaXMuY2xlYXJPbkRlYWN0aXZhdGUpe3ZhciBlPXRoaXMubGF5ZXJDYWNoZSxmPWVbZC5pZF07ZiYmKGQuZXZlbnRzLnVuKHt2aXNpYmlsaXR5Y2hhbmdlZDp0aGlzLmNvdXBsZUxheWVyVmlzaWJsaXR5LHNjb3BlOmZ9KSxmLmRlc3Ryb3koKSxkZWxldGUgZVtkLmlkXSl9fXJldHVybiBhfSxzZXRMYXllcnM6ZnVuY3Rpb24oYSl7dGhpcy5hY3RpdmU/KHRoaXMuZGVhY3RpdmF0ZSgpLHRoaXMubGF5ZXJzPWEsdGhpcy5hY3RpdmF0ZSgpKTp0aGlzLmxheWVycz1hfSxjcmVhdGVGaWx0ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsO3RoaXMuaGFuZGxlciBpbnN0YW5jZW9mIE9wZW5MYXllcnMuSGFuZGxlci5SZWd1bGFyUG9seWdvbj9jPSEwPT09dGhpcy5oYW5kbGVyLmlycmVndWxhcj8KbmV3IE9wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwoe3R5cGU6T3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5CQk9YLHByb3BlcnR5OmEubmFtZSx2YWx1ZTpiLmdldEJvdW5kcygpfSk6bmV3IE9wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwoe3R5cGU6T3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5JTlRFUlNFQ1RTLHByb3BlcnR5OmEubmFtZSx2YWx1ZTpifSk6dGhpcy5oYW5kbGVyIGluc3RhbmNlb2YgT3BlbkxheWVycy5IYW5kbGVyLlBvbHlnb24/Yz1uZXcgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbCh7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsLklOVEVSU0VDVFMscHJvcGVydHk6YS5uYW1lLHZhbHVlOmJ9KTp0aGlzLmhhbmRsZXIgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkhhbmRsZXIuUGF0aD9jPTA8PWEudHlwZS5pbmRleE9mKCJQb2ludCIpP25ldyBPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsKHt0eXBlOk9wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwuRFdJVEhJTiwKcHJvcGVydHk6YS5uYW1lLGRpc3RhbmNlOjAuMDEqdGhpcy5tYXAuZ2V0RXh0ZW50KCkuZ2V0V2lkdGgoKSxkaXN0YW5jZVVuaXRzOnRoaXMubWFwLmdldFVuaXRzKCksdmFsdWU6Yn0pOm5ldyBPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsKHt0eXBlOk9wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwuSU5URVJTRUNUUyxwcm9wZXJ0eTphLm5hbWUsdmFsdWU6Yn0pOnRoaXMuaGFuZGxlciBpbnN0YW5jZW9mIE9wZW5MYXllcnMuSGFuZGxlci5DbGljayYmKGM9MDw9YS50eXBlLmluZGV4T2YoIlBvbHlnb24iKT9uZXcgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbCh7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsLklOVEVSU0VDVFMscHJvcGVydHk6YS5uYW1lLHZhbHVlOmJ9KTpuZXcgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbCh7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsLkRXSVRISU4scHJvcGVydHk6YS5uYW1lLGRpc3RhbmNlOjAuMDEqdGhpcy5tYXAuZ2V0RXh0ZW50KCkuZ2V0V2lkdGgoKSwKZGlzdGFuY2VVbml0czp0aGlzLm1hcC5nZXRVbml0cygpLHZhbHVlOmJ9KSk7cmV0dXJuIGN9LHNlbGVjdDpmdW5jdGlvbihhKXt0aGlzLl9xdWV1ZT1mdW5jdGlvbigpe2Zvcih2YXIgYj0wLGM9dGhpcy5sYXllcnMubGVuZ3RoO2I8YztiKyspe2Zvcih2YXIgZD10aGlzLmxheWVyc1tiXSxlPXRoaXMuZ2V0R2VvbWV0cnlBdHRyaWJ1dGVzKGQpLGY9W10sZz0wLGg9ZS5sZW5ndGg7ZzxoO2crKyl7dmFyIGk9ZVtnXTtpZihudWxsIT09aSl7aWYoIShhIGluc3RhbmNlb2YgT3BlbkxheWVycy5HZW9tZXRyeSkpe3ZhciBqPXRoaXMubWFwLmdldExvbkxhdEZyb21QaXhlbChhLnh5KTthPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGoubG9uLGoubGF0KX1pPXRoaXMuY3JlYXRlRmlsdGVyKGksYSk7bnVsbCE9PWkmJmYucHVzaChpKX19Zz10aGlzLmNyZWF0ZVNlbGVjdGlvbkxheWVyKGQpO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgic2VsZWN0ZWQiLHtsYXllcjpkLGZpbHRlcnM6Zn0pOwpkPXRoaXMuY3JlYXRlU0xEKGQsZixlKTtnLm1lcmdlTmV3UGFyYW1zKHtTTERfQk9EWTpkfSk7ZGVsZXRlIHRoaXMuX3F1ZXVlfX07dGhpcy5hcHBseVNlbGVjdGlvbigpfSxhcHBseVNlbGVjdGlvbjpmdW5jdGlvbigpe2Zvcih2YXIgYT0hMCxiPTAsYz10aGlzLmxheWVycy5sZW5ndGg7YjxjO2IrKylpZighdGhpcy53ZnNDYWNoZVt0aGlzLmxheWVyc1tiXS5pZF0pe2E9ITE7YnJlYWt9YSYmdGhpcy5fcXVldWUuY2FsbCh0aGlzKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLlNMRFNlbGVjdCJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjFfMV8wPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuV01TQ2FwYWJpbGl0aWVzLnYxXzEse3ZlcnNpb246IjEuMS4wIixyZWFkZXJzOnt3bXM6T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe1NSUzpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYSkuc3BsaXQoLyArLyksZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKyliLnNyc1tjW2RdXT0hMH19LE9wZW5MYXllcnMuRm9ybWF0LldNU0NhcGFiaWxpdGllcy52MV8xLnByb3RvdHlwZS5yZWFkZXJzLndtcyl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LldNU0NhcGFiaWxpdGllcy52MV8xXzAifSk7T3BlbkxheWVycy5MYW5nLmZpPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtQZXJtYWxpbms6IklraWxpbmtraSIsT3ZlcmxheXM6IktlcnJva3NldCIsIkJhc2UgTGF5ZXIiOiJQZXJ1c2tlcnJvcyIsVzoiTCIsRToiSSIsTjoiUCIsUzoiRSJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuU2NhbGU9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse2VsZW1lbnQ6bnVsbCxnZW9kZXNpYzohMSxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYil7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2JdKTt0aGlzLmVsZW1lbnQ9T3BlbkxheWVycy5VdGlsLmdldEVsZW1lbnQoYSl9LGRyYXc6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRyYXcuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZWxlbWVudHx8KHRoaXMuZWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0aGlzLmRpdi5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpKTt0aGlzLm1hcC5ldmVudHMucmVnaXN0ZXIoIm1vdmVlbmQiLHRoaXMsdGhpcy51cGRhdGVTY2FsZSk7dGhpcy51cGRhdGVTY2FsZSgpO3JldHVybiB0aGlzLmRpdn0sdXBkYXRlU2NhbGU6ZnVuY3Rpb24oKXt2YXIgYTsKaWYoITA9PT10aGlzLmdlb2Rlc2ljKXtpZighdGhpcy5tYXAuZ2V0VW5pdHMoKSlyZXR1cm47YT1PcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVDthPSh0aGlzLm1hcC5nZXRHZW9kZXNpY1BpeGVsU2l6ZSgpLnd8fDFFLTYpKmEua20qT3BlbkxheWVycy5ET1RTX1BFUl9JTkNIfWVsc2UgYT10aGlzLm1hcC5nZXRTY2FsZSgpO2EmJihhPTk1MDA8PWEmJjk1RTQ+PWE/TWF0aC5yb3VuZChhLzFFMykrIksiOjk1RTQ8PWE/TWF0aC5yb3VuZChhLzFFNikrIk0iOk1hdGgucm91bmQoYSksdGhpcy5lbGVtZW50LmlubmVySFRNTD1PcGVuTGF5ZXJzLmkxOG4oIlNjYWxlID0gMSA6ICR7c2NhbGVEZW5vbX0iLHtzY2FsZURlbm9tOmF9KSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5TY2FsZSJ9KTtPcGVuTGF5ZXJzLkxheWVyLk1hcEd1aWRlPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllci5HcmlkLHtpc0Jhc2VMYXllcjohMCx1c2VIdHRwVGlsZTohMSxzaW5nbGVUaWxlOiExLHVzZU92ZXJsYXk6ITEsdXNlQXN5bmNPdmVybGF5OiEwLFRJTEVfUEFSQU1TOntvcGVyYXRpb246IkdFVFRJTEVJTUFHRSIsdmVyc2lvbjoiMS4yLjAifSxTSU5HTEVfVElMRV9QQVJBTVM6e29wZXJhdGlvbjoiR0VUTUFQSU1BR0UiLGZvcm1hdDoiUE5HIixsb2NhbGU6ImVuIixjbGlwOiIxIix2ZXJzaW9uOiIxLjAuMCJ9LE9WRVJMQVlfUEFSQU1TOntvcGVyYXRpb246IkdFVERZTkFNSUNNQVBPVkVSTEFZSU1BR0UiLGZvcm1hdDoiUE5HIixsb2NhbGU6ImVuIixjbGlwOiIxIix2ZXJzaW9uOiIyLjAuMCJ9LEZPTERFUl9QQVJBTVM6e3RpbGVDb2x1bW5zUGVyRm9sZGVyOjMwLHRpbGVSb3dzUGVyRm9sZGVyOjMwLGZvcm1hdDoicG5nIixxdWVyeXN0cmluZzpudWxsfSxkZWZhdWx0U2l6ZTpuZXcgT3BlbkxheWVycy5TaXplKDMwMCwKMzAwKSx0aWxlT3JpZ2luQ29ybmVyOiJ0bCIsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyxkKXtPcGVuTGF5ZXJzLkxheWVyLkdyaWQucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKG51bGw9PWR8fG51bGw9PWQuaXNCYXNlTGF5ZXIpdGhpcy5pc0Jhc2VMYXllcj0idHJ1ZSIhPXRoaXMudHJhbnNwYXJlbnQmJiEwIT10aGlzLnRyYW5zcGFyZW50O2QmJm51bGwhPWQudXNlT3ZlcmxheSYmKHRoaXMudXNlT3ZlcmxheT1kLnVzZU92ZXJsYXkpO3RoaXMuc2luZ2xlVGlsZT90aGlzLnVzZU92ZXJsYXk/KE9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHRoaXMucGFyYW1zLHRoaXMuT1ZFUkxBWV9QQVJBTVMpLHRoaXMudXNlQXN5bmNPdmVybGF5fHwodGhpcy5wYXJhbXMudmVyc2lvbj0iMS4wLjAiKSk6T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHModGhpcy5wYXJhbXMsdGhpcy5TSU5HTEVfVElMRV9QQVJBTVMpOih0aGlzLnVzZUh0dHBUaWxlPwpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh0aGlzLnBhcmFtcyx0aGlzLkZPTERFUl9QQVJBTVMpOk9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHRoaXMucGFyYW1zLHRoaXMuVElMRV9QQVJBTVMpLHRoaXMuc2V0VGlsZVNpemUodGhpcy5kZWZhdWx0U2l6ZSkpfSxjbG9uZTpmdW5jdGlvbihhKXtudWxsPT1hJiYoYT1uZXcgT3BlbkxheWVycy5MYXllci5NYXBHdWlkZSh0aGlzLm5hbWUsdGhpcy51cmwsdGhpcy5wYXJhbXMsdGhpcy5nZXRPcHRpb25zKCkpKTtyZXR1cm4gYT1PcGVuTGF5ZXJzLkxheWVyLkdyaWQucHJvdG90eXBlLmNsb25lLmFwcGx5KHRoaXMsW2FdKX0sZ2V0VVJMOmZ1bmN0aW9uKGEpe3ZhciBiO2I9YS5nZXRDZW50ZXJMb25MYXQoKTt2YXIgYz10aGlzLm1hcC5nZXRTaXplKCk7dGhpcy5zaW5nbGVUaWxlPyhhPXtzZXRkaXNwbGF5ZHBpOk9wZW5MYXllcnMuRE9UU19QRVJfSU5DSCxzZXRkaXNwbGF5aGVpZ2h0OmMuaCp0aGlzLnJhdGlvLHNldGRpc3BsYXl3aWR0aDpjLncqCnRoaXMucmF0aW8sc2V0dmlld2NlbnRlcng6Yi5sb24sc2V0dmlld2NlbnRlcnk6Yi5sYXQsc2V0dmlld3NjYWxlOnRoaXMubWFwLmdldFNjYWxlKCl9LHRoaXMudXNlT3ZlcmxheSYmIXRoaXMudXNlQXN5bmNPdmVybGF5JiYoYj17fSxiPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoYixhKSxiLm9wZXJhdGlvbj0iR0VUVklTSUJMRU1BUEVYVEVOVCIsYi52ZXJzaW9uPSIxLjAuMCIsYi5zZXNzaW9uPXRoaXMucGFyYW1zLnNlc3Npb24sYi5tYXBOYW1lPXRoaXMucGFyYW1zLm1hcE5hbWUsYi5mb3JtYXQ9InRleHQveG1sIixiPXRoaXMuZ2V0RnVsbFJlcXVlc3RTdHJpbmcoYiksT3BlbkxheWVycy5SZXF1ZXN0LkdFVCh7dXJsOmIsYXN5bmM6ITF9KSksYj10aGlzLmdldEZ1bGxSZXF1ZXN0U3RyaW5nKGEpKTooYz10aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCksYj1NYXRoLmZsb29yKChhLmxlZnQtdGhpcy5tYXhFeHRlbnQubGVmdCkvYyksYj1NYXRoLnJvdW5kKGIvdGhpcy50aWxlU2l6ZS53KSwKYT1NYXRoLmZsb29yKCh0aGlzLm1heEV4dGVudC50b3AtYS50b3ApL2MpLGE9TWF0aC5yb3VuZChhL3RoaXMudGlsZVNpemUuaCksYj10aGlzLnVzZUh0dHBUaWxlP3RoaXMuZ2V0SW1hZ2VGaWxlUGF0aCh7dGlsZWNvbDpiLHRpbGVyb3c6YSxzY2FsZWluZGV4OnRoaXMucmVzb2x1dGlvbnMubGVuZ3RoLXRoaXMubWFwLnpvb20tMX0pOnRoaXMuZ2V0RnVsbFJlcXVlc3RTdHJpbmcoe3RpbGVjb2w6Yix0aWxlcm93OmEsc2NhbGVpbmRleDp0aGlzLnJlc29sdXRpb25zLmxlbmd0aC10aGlzLm1hcC56b29tLTF9KSk7cmV0dXJuIGJ9LGdldEZ1bGxSZXF1ZXN0U3RyaW5nOmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbD09Yj90aGlzLnVybDpiOyJvYmplY3QiPT10eXBlb2YgYyYmKGM9Y1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYy5sZW5ndGgpXSk7dmFyIGQ9YyxlPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe30sdGhpcy5wYXJhbXMpLGU9T3BlbkxheWVycy5VdGlsLmV4dGVuZChlLGEpLApmPU9wZW5MYXllcnMuVXRpbC51cHBlckNhc2VPYmplY3QoT3BlbkxheWVycy5VdGlsLmdldFBhcmFtZXRlcnMoYykpLGc7Zm9yKGcgaW4gZSlnLnRvVXBwZXJDYXNlKClpbiBmJiZkZWxldGUgZVtnXTtlPU9wZW5MYXllcnMuVXRpbC5nZXRQYXJhbWV0ZXJTdHJpbmcoZSk7ZT1lLnJlcGxhY2UoLywvZywiKyIpOyIiIT1lJiYoZj1jLmNoYXJBdChjLmxlbmd0aC0xKSxkPSImIj09Znx8Ij8iPT1mP2QrZTotMT09Yy5pbmRleE9mKCI/Iik/ZCsoIj8iK2UpOmQrKCImIitlKSk7cmV0dXJuIGR9LGdldEltYWdlRmlsZVBhdGg6ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsPT1iP3RoaXMudXJsOmI7Im9iamVjdCI9PXR5cGVvZiBjJiYoYz1jW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpjLmxlbmd0aCldKTt2YXIgZD0iIixlPSIiOzA+YS50aWxlcm93JiYoZD0iLSIpO2Q9MD09YS50aWxlcm93P2QrIjAiOmQrTWF0aC5mbG9vcihNYXRoLmFicyhhLnRpbGVyb3cvdGhpcy5wYXJhbXMudGlsZVJvd3NQZXJGb2xkZXIpKSoKdGhpcy5wYXJhbXMudGlsZVJvd3NQZXJGb2xkZXI7MD5hLnRpbGVjb2wmJihlPSItIik7ZT0wPT1hLnRpbGVjb2w/ZSsiMCI6ZStNYXRoLmZsb29yKE1hdGguYWJzKGEudGlsZWNvbC90aGlzLnBhcmFtcy50aWxlQ29sdW1uc1BlckZvbGRlcikpKnRoaXMucGFyYW1zLnRpbGVDb2x1bW5zUGVyRm9sZGVyO2Q9Ii9TIitNYXRoLmZsb29yKGEuc2NhbGVpbmRleCkrIi8iK3RoaXMucGFyYW1zLmJhc2VtYXBsYXllcmdyb3VwbmFtZSsiL1IiK2QrIi9DIitlKyIvIithLnRpbGVyb3cldGhpcy5wYXJhbXMudGlsZVJvd3NQZXJGb2xkZXIrIl8iK2EudGlsZWNvbCV0aGlzLnBhcmFtcy50aWxlQ29sdW1uc1BlckZvbGRlcisiLiIrdGhpcy5wYXJhbXMuZm9ybWF0O3RoaXMucGFyYW1zLnF1ZXJ5c3RyaW5nJiYoZCs9Ij8iK3RoaXMucGFyYW1zLnF1ZXJ5c3RyaW5nKTtyZXR1cm4gYytkfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLk1hcEd1aWRlIn0pO09wZW5MYXllcnMuQ29udHJvbC5NZWFzdXJlPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHtjYWxsYmFja3M6bnVsbCxkaXNwbGF5U3lzdGVtOiJtZXRyaWMiLGdlb2Rlc2ljOiExLGRpc3BsYXlTeXN0ZW1Vbml0czp7Z2VvZ3JhcGhpYzpbImRkIl0sZW5nbGlzaDpbIm1pIiwiZnQiLCJpbiJdLG1ldHJpYzpbImttIiwibSJdfSxwYXJ0aWFsRGVsYXk6MzAwLGRlbGF5ZWRUcmlnZ2VyOm51bGwscGVyc2lzdDohMSxpbW1lZGlhdGU6ITEsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIpe09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFtiXSk7dmFyIGM9e2RvbmU6dGhpcy5tZWFzdXJlQ29tcGxldGUscG9pbnQ6dGhpcy5tZWFzdXJlUGFydGlhbH07dGhpcy5pbW1lZGlhdGUmJihjLm1vZGlmeT10aGlzLm1lYXN1cmVJbW1lZGlhdGUpO3RoaXMuY2FsbGJhY2tzPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoYyx0aGlzLmNhbGxiYWNrcyk7CnRoaXMuaGFuZGxlck9wdGlvbnM9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7cGVyc2lzdDp0aGlzLnBlcnNpc3R9LHRoaXMuaGFuZGxlck9wdGlvbnMpO3RoaXMuaGFuZGxlcj1uZXcgYSh0aGlzLHRoaXMuY2FsbGJhY2tzLHRoaXMuaGFuZGxlck9wdGlvbnMpfSxkZWFjdGl2YXRlOmZ1bmN0aW9uKCl7dGhpcy5jYW5jZWxEZWxheSgpO3JldHVybiBPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxjYW5jZWw6ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbERlbGF5KCk7dGhpcy5oYW5kbGVyLmNhbmNlbCgpfSxzZXRJbW1lZGlhdGU6ZnVuY3Rpb24oYSl7KHRoaXMuaW1tZWRpYXRlPWEpP3RoaXMuY2FsbGJhY2tzLm1vZGlmeT10aGlzLm1lYXN1cmVJbW1lZGlhdGU6ZGVsZXRlIHRoaXMuY2FsbGJhY2tzLm1vZGlmeX0sdXBkYXRlSGFuZGxlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuYWN0aXZlO2MmJnRoaXMuZGVhY3RpdmF0ZSgpOwp0aGlzLmhhbmRsZXI9bmV3IGEodGhpcyx0aGlzLmNhbGxiYWNrcyxiKTtjJiZ0aGlzLmFjdGl2YXRlKCl9LG1lYXN1cmVDb21wbGV0ZTpmdW5jdGlvbihhKXt0aGlzLmNhbmNlbERlbGF5KCk7dGhpcy5tZWFzdXJlKGEsIm1lYXN1cmUiKX0sbWVhc3VyZVBhcnRpYWw6ZnVuY3Rpb24oYSxiKXt0aGlzLmNhbmNlbERlbGF5KCk7Yj1iLmNsb25lKCk7dGhpcy5oYW5kbGVyLmZyZWVoYW5kTW9kZSh0aGlzLmhhbmRsZXIuZXZ0KT90aGlzLm1lYXN1cmUoYiwibWVhc3VyZXBhcnRpYWwiKTp0aGlzLmRlbGF5ZWRUcmlnZ2VyPXdpbmRvdy5zZXRUaW1lb3V0KE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZChmdW5jdGlvbigpe3RoaXMuZGVsYXllZFRyaWdnZXI9bnVsbDt0aGlzLm1lYXN1cmUoYiwibWVhc3VyZXBhcnRpYWwiKX0sdGhpcyksdGhpcy5wYXJ0aWFsRGVsYXkpfSxtZWFzdXJlSW1tZWRpYXRlOmZ1bmN0aW9uKGEsYixjKXtjJiYhdGhpcy5oYW5kbGVyLmZyZWVoYW5kTW9kZSh0aGlzLmhhbmRsZXIuZXZ0KSYmCih0aGlzLmNhbmNlbERlbGF5KCksdGhpcy5tZWFzdXJlKGIuZ2VvbWV0cnksIm1lYXN1cmVwYXJ0aWFsIikpfSxjYW5jZWxEZWxheTpmdW5jdGlvbigpe251bGwhPT10aGlzLmRlbGF5ZWRUcmlnZ2VyJiYod2luZG93LmNsZWFyVGltZW91dCh0aGlzLmRlbGF5ZWRUcmlnZ2VyKSx0aGlzLmRlbGF5ZWRUcmlnZ2VyPW51bGwpfSxtZWFzdXJlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZDstMTxhLkNMQVNTX05BTUUuaW5kZXhPZigiTGluZVN0cmluZyIpPyhjPXRoaXMuZ2V0QmVzdExlbmd0aChhKSxkPTEpOihjPXRoaXMuZ2V0QmVzdEFyZWEoYSksZD0yKTt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoYix7bWVhc3VyZTpjWzBdLHVuaXRzOmNbMV0sb3JkZXI6ZCxnZW9tZXRyeTphfSl9LGdldEJlc3RBcmVhOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmRpc3BsYXlTeXN0ZW1Vbml0c1t0aGlzLmRpc3BsYXlTeXN0ZW1dLGMsZCxlPTAsZj1iLmxlbmd0aDtlPGYmJiEoYz1iW2VdLGQ9dGhpcy5nZXRBcmVhKGEsCmMpLDE8ZCk7KytlKTtyZXR1cm5bZCxjXX0sZ2V0QXJlYTpmdW5jdGlvbihhLGIpe3ZhciBjLGQ7dGhpcy5nZW9kZXNpYz8oYz1hLmdldEdlb2Rlc2ljQXJlYSh0aGlzLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCkpLGQ9Im0iKTooYz1hLmdldEFyZWEoKSxkPXRoaXMubWFwLmdldFVuaXRzKCkpO3ZhciBlPU9wZW5MYXllcnMuSU5DSEVTX1BFUl9VTklUW2JdO2UmJihjKj1NYXRoLnBvdyhPcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVFtkXS9lLDIpKTtyZXR1cm4gY30sZ2V0QmVzdExlbmd0aDpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5kaXNwbGF5U3lzdGVtVW5pdHNbdGhpcy5kaXNwbGF5U3lzdGVtXSxjLGQsZT0wLGY9Yi5sZW5ndGg7ZTxmJiYhKGM9YltlXSxkPXRoaXMuZ2V0TGVuZ3RoKGEsYyksMTxkKTsrK2UpO3JldHVybltkLGNdfSxnZXRMZW5ndGg6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkO3RoaXMuZ2VvZGVzaWM/KGM9YS5nZXRHZW9kZXNpY0xlbmd0aCh0aGlzLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCkpLApkPSJtIik6KGM9YS5nZXRMZW5ndGgoKSxkPXRoaXMubWFwLmdldFVuaXRzKCkpO3ZhciBlPU9wZW5MYXllcnMuSU5DSEVTX1BFUl9VTklUW2JdO2UmJihjKj1PcGVuTGF5ZXJzLklOQ0hFU19QRVJfVU5JVFtkXS9lKTtyZXR1cm4gY30sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLk1lYXN1cmUifSk7T3BlbkxheWVycy5Gb3JtYXQuV01DLnYxXzBfMD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LldNQy52MSx7VkVSU0lPTjoiMS4wLjAiLHNjaGVtYUxvY2F0aW9uOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2NvbnRleHQgaHR0cDovL3NjaGVtYXMub3Blbmdpcy5uZXQvY29udGV4dC8xLjAuMC9jb250ZXh0LnhzZCIsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkZvcm1hdC5XTUMudjEucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pfSxyZWFkX3dtY19TUlM6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYik7Im9iamVjdCIhPXR5cGVvZiBhLnByb2plY3Rpb25zJiYoYS5wcm9qZWN0aW9ucz17fSk7Zm9yKHZhciBjPWMuc3BsaXQoLyArLyksZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKylhLnByb2plY3Rpb25zW2NbZF1dPSEwfSx3cml0ZV93bWNfTGF5ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9T3BlbkxheWVycy5Gb3JtYXQuV01DLnYxLnByb3RvdHlwZS53cml0ZV93bWNfTGF5ZXIuYXBwbHkodGhpcywKW2FdKTtpZihhLnNycyl7dmFyIGM9W10sZDtmb3IoZCBpbiBhLnNycyljLnB1c2goZCk7Yi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnREZWZhdWx0TlMoIlNSUyIsYy5qb2luKCIgIikpKX1iLmFwcGVuZENoaWxkKHRoaXMud3JpdGVfd21jX0Zvcm1hdExpc3QoYSkpO2IuYXBwZW5kQ2hpbGQodGhpcy53cml0ZV93bWNfU3R5bGVMaXN0KGEpKTthLmRpbWVuc2lvbnMmJmIuYXBwZW5kQ2hpbGQodGhpcy53cml0ZV93bWNfRGltZW5zaW9uTGlzdChhKSk7Yi5hcHBlbmRDaGlsZCh0aGlzLndyaXRlX3dtY19MYXllckV4dGVuc2lvbihhKSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LldNQy52MV8wXzAifSk7T3BlbkxheWVycy5MYW5nWyJkYS1ESyJdPXt1bmhhbmRsZWRSZXF1ZXN0OiJFbiBpa2tlIGhcdTAwZTVuZHRlcmV0IGZvcmVzcFx1MDBmOHJnc2VsIHJldHVybmVyZWRlICR7c3RhdHVzVGV4dH0iLFBlcm1hbGluazoiUGVybWFsaW5rIixPdmVybGF5czoiS29ydGxhZyIsIkJhc2UgTGF5ZXIiOiJCYWdncnVuZHNsYWciLG5vRklEOiJLYW4gaWtrZSBvcGRhdGVyZXQgZW4gZmVhdHVyZSAoZXQgb2JqZWt0KSBkZXIgaWtrZSBoYXIgZXQgRklELiIsYnJvd3Nlck5vdFN1cHBvcnRlZDoiRGluIGJyb3dzZXIgdW5kZXJzdFx1MDBmOHR0ZXIgaWtrZSB2ZWt0b3IgdmlzbmluZy4gRlx1MDBmOGxnZW5kZSB2ZWt0b3IgdmlzbmluZ2VyIHVuZGVyc3RcdTAwZjh0dGVzOlxuJHtyZW5kZXJlcnN9IixtaW5ab29tTGV2ZWxFcnJvcjoiRWdlbnNrYWJlbiBtaW5ab29tTGV2ZWwgZXIga3VuIGJlcmVnbmV0IHRpbCBicnVnIG1lZCBGaXhlZFpvb21MZXZlbHMuIEF0IGRldHRlIFdGUyBsYWcga29udHJvbGxlcmVyIG1pblpvb21MZXZlbCBlZ2Vuc2thYmVuLCBlciBldCBsZXZuIGZyYSBlbiB0aWRsaWdlcmUgdmVyc2lvbi4gVmkga2FuIGRlc3ZcdTAwZTZycmUgaWtrZSBmamVybmUgZGV0dGUgdWRlbiBhdCByaXNpa2VyZSBhdCBcdTAwZjhkZWxcdTAwZTZnZ2UgZWtzaXN0ZXJlbmRlIE9MIGJhc2VyZWRlIHByb2dyYW1tZXIgZGVyICBiZW55dHRlciBkZW5uZSBmdW5rdGlvbmFsaXRldC4gRWdlbnNrYWJlbiBiXHUwMGY4ciBkZXJmb3IgaWtrZSBhbnZlbmRlcywgb2cgbWluWm9vbUxldmVsIGtvbnRyb2xsZW4gaGVydW5kZXIgdmlsIGJsaXZlIGZqZXJuZXQgaSB2ZXJzaW9uIDMuMC4gQmVueXQgaXN0ZWRldCBtaW4vbWF4IG9wbFx1MDBmOHNuaW5ncyBpbmRzdGlsbGluZ2VybmUsIHNvbSBlciBiZXNrcmV2ZXQgaGVyOiBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NldHRpbmdab29tTGV2ZWxzIiwKY29tbWl0U3VjY2VzczoiV0ZTIHRyYW5zYWt0aW9uOiBMWUtLRURFUyAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJXRlMgdHJhbnNha3Rpb246IE1JU0xZS0tFREVTICR7cmVzcG9uc2V9Iixnb29nbGVXYXJuaW5nOiJHb29nbGUgbGFnZXQga3VubmUgaWtrZSBpbmRsXHUwMGU2c2VzLjxicj48YnI+Rm9yIGF0IGZqZXJuZSBkZW5uZSBiZXNrZWQsIHZcdTAwZTZsZyBldCBueXQgYmFncnVuZHNrb3J0IGkgbGFnc2tpZnRlcmVuIGkgXHUwMGY4dmVyc3RlIGhcdTAwZjhqcmUgaGpcdTAwZjhybmUuPGJyPjxicj5GZWpsZW4gc2t5bGRlcyBmb3JtZW50bGlnIGF0IEdvb2dsZSBNYXBzIGJpYmxpb3Rla3RzIHNjcmlwdGV0IGlra2UgZXIgaW5rbHVkZXJldCwgZWxsZXIgaWtrZSBpbmRlaG9sZGVyIGRlbiBrb3Jya3RlIEFQSSBuXHUwMGY4Z2xlIGZvciBkaXQgc2l0ZS48YnI+PGJyPlVkdmlrbGVyZTogRm9yIGhqXHUwMGU2bHAgdGlsIGF0IGZcdTAwZTUgZGV0dGUgdGlsIGF0IGZ1bmdlcmUsIDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvR29vZ2xlJyB0YXJnZXQ9J19ibGFuayc+a2xpayBoZXI8L2E+IiwKZ2V0TGF5ZXJXYXJuaW5nOiIke2xheWVyVHlwZX0tbGFnZXQga3VubmUgaWtrZSBpbmRsXHUwMGU2c2VzLjxicj48YnI+Rm9yIGF0IGZqZXJuZSBkZW5uZSBiZXNrZWQsIHZcdTAwZTZsZyBldCBueXQgYmFncnVuZHNrb3J0IGkgbGFnc2tpZnRlcmVuIGkgXHUwMGY4dmVyc3RlIGhcdTAwZjhqcmUgaGpcdTAwZjhybmUuPGJyPjxicj5GZWpsZW4gc2t5bGRlcyBmb3JtZW50bGlnIGF0ICR7bGF5ZXJMaWJ9IGJpYmxpb3Rla3RzIHNjcmlwdGV0IGlra2UgZXIgaW5rbHVkZXJldC48YnI+PGJyPlVkdmlrbGVyZTogRm9yIGhqXHUwMGU2bHAgdGlsIGF0IGZcdTAwZTUgZGV0dGUgdGlsIGF0IGZ1bmdlcmUsIDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvJHtsYXllckxpYn0nIHRhcmdldD0nX2JsYW5rJz5rbGlrIGhlcjwvYT4iLCJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiTVx1MDBlNWxmb3Job2xkID0gMSA6ICR7c2NhbGVEZW5vbX0iLHJlcHJvamVjdERlcHJlY2F0ZWQ6IkR1IGFudmVuZGVyIGluZHN0aWxsaW5nZW4gJ3JlcHJvamVjdCcgcFx1MDBlNSBsYWdldCAke2xheWVyTmFtZX0uRGVubmUgaW5kc3RpbGxpbmcgYlx1MDBmOHIgaWtrZSBsXHUwMGU2bmdlcmUgYW52ZW5kZXMuIERlbiB2YXIgYmVyZWduZXQgdGlsIGF0IHZpc2UgZGF0YSBvdmVucFx1MDBlNSBrb21tZXJjaWVsbGUgZ3J1bmRrb3J0LCBtZW4gZGVuIGZ1bmt0aW9uYWxpdGV0IGJcdTAwZjhyIG51IG9wblx1MDBlNXMgdmVkIGF0IGFudmVuZGUgU3BoZXJpY2FsIE1lcmNhdG9yIHVuZGVyc3RcdTAwZjh0dGVsc2VuLiBNZXJlIGluZm9ybWF0aW9uIGVyIHRpbGdcdTAwZTZuZ2VsaWcgaGVyOiBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NwaGVyaWNhbE1lcmNhdG9yLiIsCm1ldGhvZERlcHJlY2F0ZWQ6IkRlbm5lIGZ1bmt0aW9uIGJcdTAwZjhyIGlra2UgbFx1MDBlNm5nZXJlIGFudmVuZGVzLCBvZyB2aWwgYmxpdmUgZmplcm5ldCBpIHZlcnNpb24gMy4wLiBBbnZlbmQgdmVubGlnc3QgZnVua3Rpb25lbiAke25ld01ldGhvZH0gaXN0ZWRldC4ifTtPcGVuTGF5ZXJzLkxhbmcuaHU9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3VuaGFuZGxlZFJlcXVlc3Q6Ik5lbSBrZXplbHQga1x1MDBlOXJcdTAwZTlzIHZpc3N6YXRcdTAwZTlyXHUwMGU5c2UgJHtzdGF0dXNUZXh0fSIsUGVybWFsaW5rOiJQZXJtYWxpbmsiLE92ZXJsYXlzOiJSXHUwMGUxdmV0XHUwMGVkdFx1MDBlOXNlayIsIkJhc2UgTGF5ZXIiOiJBbGFwclx1MDBlOXRlZyIsbm9GSUQ6Ik5lbSBmcmlzc1x1MDBlZHRoZXRcdTAxNTEgb2x5YW4gamVsbGVtelx1MDE1MSwgYW1lbHkgbmVtIHJlbmRlbGtlemlrIEZJRC1kZWwuIixicm93c2VyTm90U3VwcG9ydGVkOiJBIGJcdTAwZjZuZ1x1MDBlOXN6XHUwMTUxamUgbmVtIHRcdTAwZTFtb2dhdGphIGEgdmVrdG9yb3MgcmVuZGVyZWxcdTAwZTlzdC4gQSBqZWxlbmxlZyB0XHUwMGUxbW9nYXRvdHQgcmVuZGVyZWxcdTAxNTFrOlxuJHtyZW5kZXJlcnN9IixtaW5ab29tTGV2ZWxFcnJvcjoiQSBtaW5ab29tTGV2ZWwgdHVsYWpkb25zXHUwMGUxZ290IGNzYWsgYSBrXHUwMGY2dmV0a2V6XHUwMTUxdmVsIHZhbFx1MDBmMyBoYXN6blx1MDBlMWxhdHJhIHN6XHUwMGUxbnRcdTAwZTFrOiBGaXhlZFpvb21MZXZlbHMtbGVzelx1MDBlMXJtYXpvdHQgZlx1MDBmM2xpXHUwMGUxay4gRXogYXp0IGplbGVudGksIGhvZ3kgYSBtaW5ab29tTGV2ZWwgd2ZzIGZcdTAwZjNsaWEgamVsXHUwMGY2bFx1MDE1MW5cdTAwZTlneXpldGVpIG1cdTAwZTFyIGEgbVx1MDBmYWx0XHUwMGU5LiBNaSBhem9uYmFuIG5lbSB0XHUwMGUxdm9sXHUwMGVkdGhhdGp1ayBlbCBhbm5hayBhIHZlc3pcdTAwZTlseWUgblx1MDBlOWxrXHUwMGZjbCwgaG9neSBheiBlc2V0bGVnZXNlbiBldHRcdTAxNTFsIGZcdTAwZmNnZ1x1MDE1MSBPTCBhbGFwXHUwMGZhIGFsa2FsbWF6XHUwMGUxc29rYXQgdFx1MDBmNm5rcmV0ZW5uXHUwMGU5bmsuIEV6XHUwMGU5cnQgZXp0IFx1MDBlOXJ2XHUwMGU5bnl0ZWxlblx1MDBlZHRqXHUwMGZjayAtLSBhIG1pblpvb21MZXZlbCBheiBhbHVsIGxldlx1MDE1MSBqZWxcdTAwZjZsXHUwMTUxblx1MDBlOWd5emV0IGEgMy4wLXMgdmVyemlcdTAwZjNiXHUwMGYzbCBlbCBsZXN6IHRcdTAwZTF2b2xcdTAwZWR0dmEuIEtcdTAwZTlyalx1MDBmY2ssIGhlbHlldHRlIGhhc3puXHUwMGUxbGphIGEgIG1pbi9tYXggZmVsYm9udFx1MDBlMXMgYmVcdTAwZTFsbFx1MDBlZHRcdTAwZTFzdCwgYW1lbHlyXHUwMTUxbCBheiBhbFx1MDBlMWJiaSBoZWx5ZW4gdGFsXHUwMGUxbCBsZVx1MDBlZHJcdTAwZTFzdDogaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyIsCmNvbW1pdFN1Y2Nlc3M6IldGUyB0cmFuemFrY2lcdTAwZjM6IFNJS0VSRVMgJHtyZXNwb25zZX0iLGNvbW1pdEZhaWxlZDoiV0ZTIHRyYW56YWtjaVx1MDBmMzogU0lLRVJURUxFTiAke3Jlc3BvbnNlfSIsZ29vZ2xlV2FybmluZzoiQSBHb29nbGUgZlx1MDBmM2xpYSBiZXRcdTAwZjZsdFx1MDBlOXNlIHNpa2VydGVsZW4uPGJyPjxicj5BaGhveiwgaG9neSBleiBheiBcdTAwZmN6ZW5ldCBlbHRcdTAxNzFualx1MDBmNm4sIHZcdTAwZTFsYXNzem9uIGVneSBcdTAwZmFqIEJhc2VMYXllciBmXHUwMGYzbGlcdTAwZTF0IGEgam9iYiBmZWxzXHUwMTUxIHNhcm9rYmFuIHRhbFx1MDBlMWxoYXRcdTAwZjMgZlx1MDBmM2xpYWthcGNzb2xcdTAwZjMgc2VnXHUwMGVkdHNcdTAwZTlnXHUwMGU5dmVsLjxicj48YnI+TmFneSB2YWxcdTAwZjNzelx1MDBlZG5cdTAxNzFzXHUwMGU5Z2dlbCBleiBhelx1MDBlOXJ0IHZhbiwgbWVydCBhIEdvb2dsZSBNYXBzIGtcdTAwZjZueXZ0XHUwMGUxciBwYXJhbmNzZlx1MDBlMWpsamEgbmVtIHRhbFx1MDBlMWxoYXRcdTAwZjMsIHZhZ3kgbmVtIHRhcnRhbG1henphIGF6IFx1MDBkNm4gb2xkYWxcdTAwZTFob3ogdGFydG96XHUwMGYzIG1lZ2ZlbGVsXHUwMTUxIEFQSS1rdWxjc290Ljxicj48YnI+RmVqbGVzenRcdTAxNTFrbmVrOiBBIGhlbHllcyBtXHUwMTcxa1x1MDBmNmR0ZXRcdTAwZTlzcmUgdm9uYXRrb3pcdTAwZjMgc2VnXHUwMGVkdHNcdTAwZTlnIGF6IGFsXHUwMGUxYmJpIGhlbHllbiBcdTAwZTlyaGV0XHUwMTUxIGVsLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZScgdGFyZ2V0PSdfYmxhbmsnPmthdHRpbnRzb24gaWRlPC9hPiIsCmdldExheWVyV2FybmluZzoiQSh6KSAke2xheWVyVHlwZX0gZlx1MDBmM2xpYSBuZW0gdFx1MDBmNmx0XHUwMTUxZFx1MDBmNnR0IGJlIGhlbHllc2VuLjxicj48YnI+QWhob3osIGhvZ3kgZXogYXogXHUwMGZjemVuZXQgZWx0XHUwMTcxbmpcdTAwZjZuLCB2XHUwMGUxbGFzc3pvbiBlZ3kgXHUwMGZhaiBCYXNlTGF5ZXIgZlx1MDBmM2xpXHUwMGUxdCBhIGpvYmIgZmVsc1x1MDE1MSBzYXJva2JhbiB0YWxcdTAwZTFsaGF0XHUwMGYzIGZcdTAwZjNsaWFrYXBjc29sXHUwMGYzIHNlZ1x1MDBlZHRzXHUwMGU5Z1x1MDBlOXZlbC48YnI+PGJyPk5hZ3kgdmFsXHUwMGYzc3pcdTAwZWRuXHUwMTcxc1x1MDBlOWdnZWwgZXogYXpcdTAwZTlydCB2YW4sIG1lcnQgYSh6KSAke2xheWVyTGlifSBrXHUwMGY2bnl2dFx1MDBlMXIgcGFyYW5jc2ZcdTAwZTFqbGphIGhlbHl0ZWxlbi48YnI+PGJyPkZlamxlc3p0XHUwMTUxa25lazogQSBoZWx5ZXMgbVx1MDE3MWtcdTAwZjZkdGV0XHUwMGU5c3JlIHZvbmF0a296XHUwMGYzIHNlZ1x1MDBlZHRzXHUwMGU5ZyBheiBhbFx1MDBlMWJiaSBoZWx5ZW4gXHUwMGU5cmhldFx1MDE1MSBlbCwgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS8ke2xheWVyTGlifScgdGFyZ2V0PSdfYmxhbmsnPmthdHRpbnRzb24gaWRlPC9hPiIsCiJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiTFx1MDBlOXB0XHUwMGU5ayA9IDEgOiAke3NjYWxlRGVub219IixXOiJOeSIsRToiSyIsTjoiXHUwMGM5IixTOiJEIixyZXByb2plY3REZXByZWNhdGVkOiJcdTAwZDZuIGEgJ3JlcHJvamVjdCcgYmVcdTAwZTFsbFx1MDBlZHRcdTAwZTFzdCBoYXN6blx1MDBlMWxqYSBhKHopICR7bGF5ZXJOYW1lfSBmXHUwMGYzbGlcdTAwZTFuLiBFeiBhIGJlXHUwMGUxbGxcdTAwZWR0XHUwMGUxcyBcdTAwZTlydlx1MDBlOW55dGVsZW46IGhhc3puXHUwMGUxbGF0YSBheiBcdTAwZmN6bGV0aSBhbGFwdFx1MDBlOXJrXHUwMGU5cGVrIGZcdTAwZjZsXHUwMGY2dHRpIGFkYXRvayBtZWdqZWxlblx1MDBlZHRcdTAwZTlzXHUwMGU5bmVrIHRcdTAwZTFtb2dhdFx1MDBlMXNcdTAwZTFyYSBzem9sZ1x1MDBlMWx0LCBkZSBlenQgYSBmdW5rY2lcdTAwZjMgZXplbnRcdTAwZmFsIGEgR1x1MDBmNm1iaSBNZXJjYXRvciBoYXN6blx1MDBlMWxhdFx1MDBlMXZhbCBcdTAwZTlyaGV0XHUwMTUxIGVsLiBUb3ZcdTAwZTFiYmkgaW5mb3JtXHUwMGUxY2lcdTAwZjMgYXogYWxcdTAwZTFiYmkgaGVseWVuIFx1MDBlOXJoZXRcdTAxNTEgZWw6IGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU3BoZXJpY2FsTWVyY2F0b3IiLAptZXRob2REZXByZWNhdGVkOiJFeiBhIG1cdTAwZjNkc3plciBcdTAwZTlydlx1MDBlOW55dGVsZW5cdTAwZWR0dmUgbGV0dCBcdTAwZTlzIGEgMy4wLXMgdmVyemlcdTAwZjNiXHUwMGYzbCBlbCBsZXN6IHRcdTAwZTF2b2xcdTAwZWR0dmEuIEhhc3puXHUwMGUxbGphIGEoeikgJHtuZXdNZXRob2R9IG1cdTAwZjNkc3plcnQgaGVseWV0dGUuIn0pO09wZW5MYXllcnMuTGFuZ1siemgtVFciXT17dW5oYW5kbGVkUmVxdWVzdDoiXHU2NzJhXHU4NjU1XHU3NDA2XHU3Njg0XHU4YWNiXHU2YzQyXHVmZjBjXHU1MGIzXHU1NmRlXHU1MDNjXHU3MGJhICR7c3RhdHVzVGV4dH1cdTMwMDIiLFBlcm1hbGluazoiXHU2YzM4XHU0ZTQ1XHU5MDIzXHU3ZDUwIixPdmVybGF5czoiXHU5ODRkXHU1OTE2XHU1NzE2XHU1YzY0IiwiQmFzZSBMYXllciI6Ilx1NTdmYVx1NzkwZVx1NTcxNlx1NWM2NCIsbm9GSUQ6Ilx1NTZlMFx1NzBiYVx1NmM5Mlx1NjcwOSBGSUQgXHU2MjQwXHU0ZWU1XHU3MTIxXHU2Y2Q1XHU2NmY0XHU2NWIwIGZlYXR1cmVcdTMwMDIiLGJyb3dzZXJOb3RTdXBwb3J0ZWQ6Ilx1NjBhOFx1NzY4NFx1NzAwZlx1ODliZFx1NTY2OFx1NjcyYVx1NjUyZlx1NjNmNFx1NTQxMVx1OTFjZlx1NmUzMlx1NjdkMy4gXHU3NmVlXHU1MjRkXHU2NTJmXHU2M2Y0XHU3Njg0XHU2ZTMyXHU2N2QzXHU2NWI5XHU1ZjBmXHU2NjJmOlxuJHtyZW5kZXJlcnN9IiwKbWluWm9vbUxldmVsRXJyb3I6Im1pblpvb21MZXZlbCBcdTVjNmNcdTYwMjdcdTUwYzVcdTkwNjlcdTU0MDhcdTc1MjhcdTU3MjggRml4ZWRab29tTGV2ZWxzLWRlc2NlbmRlbnQgXHU5ODVlXHU1NzhiXHU3Njg0XHU1NzE2XHU1YzY0LiBcdTkwMTlcdTUwMGJ3ZnMgbGF5ZXIgXHU3Njg0IG1pblpvb21MZXZlbCBcdTY2MmZcdTkwNGVcdTUzYmJcdTYyNDBcdTkwN2FcdTc1NTlcdTRlMGJcdTRmODZcdTc2ODRcdWZmMGNcdTcxMzZcdTgwMGNcdTYyMTFcdTUwMTFcdTRlMGRcdTgwZmRcdTc5ZmJcdTk2NjRcdTViODNcdTgwMGNcdTRlMGRcdThiOTNcdTViODNcdTVjMDdcdTkwNGVcdTUzYmJcdTc2ODRcdTdhMGJcdTVmMGZcdTc2ZjhcdTViYjlcdTYwMjdcdTdkNjZcdTc4MzRcdTU4ZGVcdTYzODlcdTMwMDJcdTU2ZTBcdTZiNjRcdTYyMTFcdTUwMTFcdTVjMDdcdTY3MDNcdThmZjRcdTkwN2ZcdTRmN2ZcdTc1MjhcdTViODMgLS0gbWluWm9vbUxldmVsIFx1NjcwM1x1NTcyODMuMFx1ODhhYlx1NzlmYlx1OTY2NFx1ZmYwY1x1OGFjYlx1NjUzOVx1NzUyOFx1NTcyOFx1OTAxOVx1OTA4YVx1NjNjZlx1OGZmMFx1NzY4NCBtaW4vbWF4IHJlc29sdXRpb24gXHU4YTJkXHU1YjlhOiBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NldHRpbmdab29tTGV2ZWxzIiwKY29tbWl0U3VjY2VzczoiV0ZTIFRyYW5zYWN0aW9uOiBcdTYyMTBcdTUyOWYgJHtyZXNwb25zZX0iLGNvbW1pdEZhaWxlZDoiV0ZTIFRyYW5zYWN0aW9uOiBcdTU5MzFcdTY1NTcgJHtyZXNwb25zZX0iLGdvb2dsZVdhcm5pbmc6IlRoZSBHb29nbGUgTGF5ZXIgXHU1NzE2XHU1YzY0XHU3MTIxXHU2Y2Q1XHU4OGFiXHU2YjYzXHU3OGJhXHU3Njg0XHU4ZjA5XHU1MTY1XHUzMDAyPGJyPjxicj5cdTg5ODFcdThmZjRcdTkwN2ZcdTkwMTlcdTUwMGJcdThhMGFcdTYwNmYsIFx1OGFjYlx1NTcyOFx1NTNmM1x1NGUwYVx1ODlkMlx1NzY4NFx1NTcxNlx1NWM2NFx1NjUzOVx1OGI4YVx1NTY2OFx1ODhlMVx1ZmYwY1x1OTA3OFx1NGUwMFx1NTAwYlx1NjViMFx1NzY4NFx1NTdmYVx1NzkwZVx1NTcxNlx1NWM2NFx1MzAwMjxicj48YnI+XHU1Zjg4XHU2NzA5XHU1M2VmXHU4MGZkXHU2NjJmXHU1NmUwXHU3MGJhIEdvb2dsZSBNYXBzIFx1NzY4NFx1NTFmZFx1NWYwZlx1NWVhYlx1ODE3M1x1NjcyY1x1NmM5Mlx1NjcwOVx1ODhhYlx1NmI2M1x1NzhiYVx1NzY4NFx1N2Y2ZVx1NTE2NVx1ZmYwY1x1NjIxNlx1NmM5Mlx1NjcwOVx1NTMwNVx1NTQyYiBcdTYwYThcdTdkYjJcdTdhZDlcdTRlMGFcdTZiNjNcdTc4YmFcdTc2ODQgQVBJIGtleSA8YnI+PGJyPlx1OTU4Ylx1NzY3Y1x1ODAwNTogXHU4OTgxXHU1ZTZiXHU1MmE5XHU5MDE5XHU1MDBiXHU4ODRjXHU3MGJhXHU2YjYzXHU3OGJhXHU1YjhjXHU2MjEwXHVmZjBjPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9Hb29nbGUnIHRhcmdldD0nX2JsYW5rJz5cdThhY2JcdTYzMDlcdTkwMTlcdTg4ZTE8L2E+IiwKZ2V0TGF5ZXJXYXJuaW5nOiIke2xheWVyVHlwZX0gXHU1NzE2XHU1YzY0XHU3MTIxXHU2Y2Q1XHU4OGFiXHU2YjYzXHU3OGJhXHU3Njg0XHU4ZjA5XHU1MTY1XHUzMDAyPGJyPjxicj5cdTg5ODFcdThmZjRcdTkwN2ZcdTkwMTlcdTUwMGJcdThhMGFcdTYwNmYsIFx1OGFjYlx1NTcyOFx1NTNmM1x1NGUwYVx1ODlkMlx1NzY4NFx1NTcxNlx1NWM2NFx1NjUzOVx1OGI4YVx1NTY2OFx1ODhlMVx1ZmYwY1x1OTA3OFx1NGUwMFx1NTAwYlx1NjViMFx1NzY4NFx1NTdmYVx1NzkwZVx1NTcxNlx1NWM2NFx1MzAwMjxicj48YnI+XHU1Zjg4XHU2NzA5XHU1M2VmXHU4MGZkXHU2NjJmXHU1NmUwXHU3MGJhICR7bGF5ZXJMaWJ9IFx1NzY4NFx1NTFmZFx1NWYwZlx1NWVhYlx1ODE3M1x1NjcyY1x1NmM5Mlx1NjcwOVx1ODhhYlx1NmI2M1x1NzhiYVx1NzY4NFx1N2Y2ZVx1NTE2NVx1MzAwMjxicj48YnI+XHU5NThiXHU3NjdjXHU4MDA1OiBcdTg5ODFcdTVlNmJcdTUyYTlcdTkwMTlcdTUwMGJcdTg4NGNcdTcwYmFcdTZiNjNcdTc4YmFcdTViOGNcdTYyMTBcdWZmMGM8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+XHU4YWNiXHU2MzA5XHU5MDE5XHU4OGUxPC9hPiIsCiJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSIscmVwcm9qZWN0RGVwcmVjYXRlZDoiXHU0ZjYwXHU2YjYzXHU0ZjdmXHU3NTI4ICdyZXByb2plY3QnIFx1OTAxOVx1NTAwYlx1OTA3OFx1OTgwNSBcdTU3MjggJHtsYXllck5hbWV9IFx1NWM2NFx1MzAwMlx1OTAxOVx1NTAwYlx1OTA3OFx1OTgwNVx1NWRmMlx1N2Q5M1x1NGUwZFx1NTE4ZFx1NGY3Zlx1NzUyODpcdTViODNcdTc2ODRcdTRmN2ZcdTc1MjhcdTUzOWZcdTY3MmNcdTY2MmZcdThhMmRcdThhMDhcdTc1MjhcdTRmODZcdTY1MmZcdTYzZjRcdTU3MjhcdTU1NDZcdTY5NmRcdTU3MzBcdTU3MTZcdTRlMGFcdTc5YzBcdTUxZmFcdThjYzdcdTY1OTlcdWZmMGNcdTRmNDZcdTkwMTlcdTUwMGJcdTUyOWZcdTgwZmRcdTVkZjJcdTdkOTNcdTg4YWJTcGhlcmljYWwgTWVyY2F0b3JcdTYyNDBcdTUzZDZcdTRlZTNcdTMwMDJcdTY2ZjRcdTU5MWFcdTc2ODRcdThjYzdcdThhMGFcdTUzZWZcdTRlZTVcdTU3MjggaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TcGhlcmljYWxNZXJjYXRvciBcdTYyN2VcdTUyMzBcdTMwMDIiLAptZXRob2REZXByZWNhdGVkOiJcdTkwMTlcdTUwMGJcdTY1YjlcdTZjZDVcdTVkZjJcdTdkOTNcdTRlMGRcdTUxOGRcdTRmN2ZcdTc1MjhcdTRlMTRcdTU3MjgzLjBcdTVjMDdcdTY3MDNcdTg4YWJcdTc5ZmJcdTk2NjRcdWZmMGNcdThhY2JcdTRmN2ZcdTc1MjggJHtuZXdNZXRob2R9IFx1NGY4Nlx1NGVlM1x1NjZmZlx1MzAwMiIsZW5kOiIifTtPcGVuTGF5ZXJzLkxhbmdbInB0LUJSIl09T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3VuaGFuZGxlZFJlcXVlc3Q6IkEgcmVxdWlzaVx1MDBlN1x1MDBlM28gcmV0b3Jub3UgdW0gZXJybyBuXHUwMGUzbyB0cmF0YWRvOiAke3N0YXR1c1RleHR9IixQZXJtYWxpbms6IkxpbmsgcGFyYSBlc3NhIHBcdTAwZTFnaW5hIixPdmVybGF5czoiQ2FtYWRhcyBkZSBTb2JyZXBvc2lcdTAwZTdcdTAwZTNvIiwiQmFzZSBMYXllciI6IkNhbWFkYSBCYXNlIixub0ZJRDoiTlx1MDBlM28gXHUwMGU5IHBvc3NcdTAwZWR2ZWwgYXR1YWxpemFyIHVtYSBmZWlcdTAwZTdcdTAwZTNvIHF1ZSBuXHUwMGUzbyB0ZW5oYSB1bSBGSUQuIixicm93c2VyTm90U3VwcG9ydGVkOiJTZXUgbmF2ZWdhZG9yIG5cdTAwZTNvIHN1cG9ydGEgcmVuZGVyaXphXHUwMGU3XHUwMGUzbyBkZSB2ZXRvcmVzLiBPcyByZW5kZXJpemFkb3JlcyBzdXBvcnRhZG9zIGF0dWFsbWVudGUgc1x1MDBlM286XG4ke3JlbmRlcmVyc30iLAptaW5ab29tTGV2ZWxFcnJvcjoiQSBwcm9wcmllZGFkZSBtaW5ab29tTGV2ZWwgXHUwMGU5IGRlIHVzbyByZXN0cml0byBkYXMgY2FtYWRhcyBkZXNjZW5kZW50ZXMgZGUgRml4ZWRab29tTGV2ZWxzLiBBIHZlcmlmaWNhXHUwMGU3XHUwMGUzbyBkZXNzYSBwcm9wcmllZGFkZSBwZWxhcyBjYW1hZGFzIHdmcyBcdTAwZTkgdW0gcmVzXHUwMGVkZHVvIGRvIHBhc3NhZG8uIE5cdTAwZTNvIHBvZGVtb3MsIGVudHJldGFudG8gblx1MDBlM28gXHUwMGU5IHBvc3NcdTAwZWR2ZWwgcmVtb3ZcdTAwZWEtbGEgc2VtIHBvc3NcdTAwZWR2ZWxtZW50ZSBxdWVicmFyIG8gZnVuY2lvbmFtZW50byBkZSBhcGxpY2FcdTAwZTdcdTAwZjVlcyBPTCBxdWUgcG9zc3VlbSBkZXBcdTAwZWFuY2lhIGNvbSBlbGEuIFBvcnRhbnRvIGVzdGFtb3MgdG9ybmFuZG8gc2V1IHVzbyBvYnNvbGV0byAtLSBhIHZlcmlmaWNhXHUwMGU3XHUwMGUzbyBkZXNzZSBhdHJpYnV0byBzZXJcdTAwZTEgcmVtb3ZpZGEgbmEgdmVyc1x1MDBlM28gMy4wLiBBbyBpbnZcdTAwZTlzLCB1c2UgYXMgb3BcdTAwZTdcdTAwZjVlcyBkZSByZXNvbHVcdTAwZTdcdTAwZTNvIG1pbi9tYXggY29tbyBkZXNjcml0byBlbTogaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyIsCmNvbW1pdFN1Y2Nlc3M6IlRyYW5zYVx1MDBlN1x1MDBlM28gV0ZTIDogU1VDRVNTTyAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJUcmFuc2FcdTAwZTdcdTAwZTNvIFdGUyA6IEVSUk8gJHtyZXNwb25zZX0iLGdvb2dsZVdhcm5pbmc6Ik5cdTAwZTNvIGZvaSBwb3NzXHUwMGVkdmVsIGNhcnJlZ2FyIGEgY2FtYWRhIEdvb2dsZSBjb3JyZXRhbWVudGUuPGJyPjxicj5QYXJhIHNlIGxpdnJhciBkZXNzYSBtZW5zYWdlbSwgc2VsZWNpb25lIHVtYSBub3ZhIENhbWFkYSBCYXNlLCBuYSBmZXJyYW1lbnRhIGRlIGFsdGVybmFcdTAwZTdcdTAwZTNvIGRlIGNhbWFkYXMgbG9jYWxpemFcdTAwZTdcdTAwZTNvIGRvIGNhbnRvIHN1cGVyaW9yIGRpcmVpdG8uPGJyPjxicj5NdWl0byBwcm92YXZlbG1lbnRlLCBpc3NvIGZvaSBjYXVzYWRvIHBvcnF1ZSBvIHNjcmlwdCBkYSBiaWJsaW90ZWNhIGRvIEdvb2dsZSBNYXBzIG5cdTAwZTNvIGZvaSBpbmNsdVx1MDBlZGRvLCBvdSBwb3JxdWUgZWxlIG5cdTAwZTNvIGNvbnRcdTAwZTltIGEgY2hhdmUgY29ycmV0YSBkYSBBUEkgcGFyYSBvIHNldSBzaXRlLjxicj48YnI+RGVzZW52b2x2ZWRvcmVzOiBQYXJhIG9idGVyIGFqdWRhIGVtIHNvbHVjaW9uYXIgZXNzZSBwcm9ibGVtYSA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZScgdGFyZ2V0PSdfYmxhbmsnPmNsaXF1ZW0gYXF1aTwvYT4iLApnZXRMYXllcldhcm5pbmc6Ik5cdTAwZTNvIGZvaSBwb3NzXHUwMGVkdmVsIGNhcnJlZ2FyIGEgY2FtYWRhICR7bGF5ZXJUeXBlfSBjb3JyZXRhbWVudGUuPGJyPjxicj5QYXJhIHNlIGxpdnJhciBkZXNzYSBtZW5zYWdlbSwgc2VsZWNpb25lIHVtYSBub3ZhIENhbWFkYSBCYXNlLCBuYSBmZXJyYW1lbnRhIGRlIGFsdGVybmFcdTAwZTdcdTAwZTNvIGRlIGNhbWFkYXMgbG9jYWxpemFcdTAwZTdcdTAwZTNvIGRvIGNhbnRvIHN1cGVyaW9yIGRpcmVpdG8uPGJyPjxicj5NdWl0byBwcm92YXZlbG1lbnRlLCBpc3NvIGZvaSBjYXVzYWRvIHBvcnF1ZSBvIHNjcmlwdCBkYSBiaWJsaW90ZWNhICR7bGF5ZXJMaWJ9IG5cdTAwZTNvIGZvaSBpbmNsdVx1MDBlZGRvIGNvcnJldGFtZW50ZS48YnI+PGJyPkRlc2Vudm9sdmVkb3JlczogUGFyYSBvYnRlciBhanVkYSBlbSBzb2x1Y2lvbmFyIGVzc2UgcHJvYmxlbWEgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS8ke2xheWVyTGlifScgdGFyZ2V0PSdfYmxhbmsnPmNsaXF1ZW0gYXF1aTwvYT4iLAoiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6IkVzY2FsYSA9IDEgOiAke3NjYWxlRGVub219IixXOiJPIixFOiJMIixOOiJOIixTOiJTIixyZXByb2plY3REZXByZWNhdGVkOiJWb2NcdTAwZWEgZXN0XHUwMGUxIHVzYW5kbyBhIG9wXHUwMGU3XHUwMGUzbyAncmVwcm9qZWN0JyBuYSBjYW1hZGEgJHtsYXllck5hbWV9LiBFc3NhIG9wXHUwMGU3XHUwMGUzbyBlc3RcdTAwZTEgb2Jzb2xldGE6IHNldSB1c28gZm9pIHByb2pldGFkbyBwYXJhIHN1cG9ydGFyIGEgdmlzdWFsaXphXHUwMGU3XHUwMGUzbyBkZSBkYWRvcyBzb2JyZSBiYXNlcyBkZSBtYXBhcyBjb21lcmNpYWlzLCBlbnRyZXRhbnRvIGVzc2EgZnVuY2lvbmFsaWRhZGUgZGV2ZSBhZ29yYSBzZXIgYWxjYW5cdTAwZTdhZGEgdXNhbmRvIG8gc3Vwb3J0ZSBcdTAwZTAgcHJvamVcdTAwZTdcdTAwZTNvIE1lcmNhdG9yLiBNYWlzIGluZm9ybWFcdTAwZTdcdTAwZTNvIGVzdFx1MDBlMSBkaXNwb25cdTAwZWR2ZWwgZW06IGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU3BoZXJpY2FsTWVyY2F0b3IuIiwKbWV0aG9kRGVwcmVjYXRlZDoiRXNzZSBtXHUwMGU5dG9kbyBlc3RcdTAwZTEgb2Jzb2xldG8gZSBzZXJcdTAwZTEgcmVtb3ZpZG8gbmEgdmVyc1x1MDBlM28gMy4wLiBBbyBpbnZcdTAwZTlzLCBwb3IgZmF2b3IgdXNlICR7bmV3TWV0aG9kfS4ifSk7T3BlbkxheWVycy5MYW5nWyJ6aC1DTiJdPXt1bmhhbmRsZWRSZXF1ZXN0OiJcdTY3MmFcdTU5MDRcdTc0MDZcdTc2ODRcdThiZjdcdTZjNDJcdWZmMGNcdThmZDRcdTU2ZGVcdTUwM2NcdTRlM2EgJHtzdGF0dXNUZXh0fSIsUGVybWFsaW5rOiJcdTZjMzhcdTRlNDVcdTk0ZmVcdTYzYTUiLE92ZXJsYXlzOiJcdTUzZTBcdTUyYTBcdTVjNDIiLCJCYXNlIExheWVyIjoiXHU1N2ZhXHU3ODQwXHU1NmZlXHU1YzQyIixub0ZJRDoiXHU2NWUwXHU2Y2Q1XHU2NmY0XHU2NWIwZmVhdHVyZVx1ZmYwY1x1N2YzYVx1NWMxMUZJRFx1MzAwMiIsYnJvd3Nlck5vdFN1cHBvcnRlZDoiXHU0ZjYwXHU0ZjdmXHU3NTI4XHU3Njg0XHU2ZDRmXHU4OWM4XHU1NjY4XHU0ZTBkXHU2NTJmXHU2MzAxXHU3N2UyXHU5MWNmXHU2ZTMyXHU2N2QzXHUzMDAyXHU1ZjUzXHU1MjRkXHU2NTJmXHU2MzAxXHU3Njg0XHU2ZTMyXHU2N2QzXHU2NWI5XHU1ZjBmXHU1MzA1XHU2MmVjXHVmZjFhXG4ke3JlbmRlcmVyc30iLG1pblpvb21MZXZlbEVycm9yOiJtaW5ab29tTGV2ZWxcdTVjNWVcdTYwMjdcdTRlYzVcdTkwMDJcdTU0MDhcdTc1MjhcdTRlOGVcdTRmN2ZcdTc1MjhcdTRlODZcdTU2ZmFcdTViOWFcdTdmMjlcdTY1M2VcdTdlYTdcdTUyMmJcdTc2ODRcdTU2ZmVcdTVjNDJcdTMwMDJcdThmZDlcdTRlMmEgd2ZzIFx1NTZmZVx1NWM0Mlx1NjhjMFx1NjdlNSBtaW5ab29tTGV2ZWwgXHU2NjJmXHU4ZmM3XHU1M2JiXHU5MDU3XHU3NTU5XHU0ZTBiXHU2NzY1XHU3Njg0XHUzMDAyXHU3MTM2XHU4MDBjXHVmZjBjXHU2MjExXHU0ZWVjXHU0ZTBkXHU4MGZkXHU3OWZiXHU5NjY0XHU1YjgzXHVmZjBjXHU4MDBjXHU3ODM0XHU1NzRmXHU0ZjlkXHU4ZDU2XHU0ZThlXHU1YjgzXHU3Njg0XHU1N2ZhXHU0ZThlT0xcdTc2ODRcdTVlOTRcdTc1MjhcdTdhMGJcdTVlOGZcdTMwMDJcdTU2ZTBcdTZiNjRcdWZmMGNcdTYyMTFcdTRlZWNcdTVlOWZcdTk2NjRcdTRlODZcdTViODMgLS0gbWluWm9vbUxldmVsIFx1NWMwNlx1NGYxYVx1NTcyODMuMFx1NGUyZFx1ODhhYlx1NzlmYlx1OTY2NFx1MzAwMlx1OGJmN1x1NjUzOVx1NzUyOCBtaW4vbWF4IHJlc29sdXRpb24gXHU4YmJlXHU3ZjZlXHVmZjBjXHU1M2MyXHU4MDAzXHVmZjFhaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyIsCmNvbW1pdFN1Y2Nlc3M6IldGUyBUcmFuc2FjdGlvbjogXHU2MjEwXHU1MjlmXHUzMDAyICR7cmVzcG9uc2V9Iixjb21taXRGYWlsZWQ6IldGUyBUcmFuc2FjdGlvbjogXHU1OTMxXHU4ZDI1XHUzMDAyICR7cmVzcG9uc2V9Iixnb29nbGVXYXJuaW5nOiJHb29nbGVcdTU2ZmVcdTVjNDJcdTRlMGRcdTgwZmRcdTZiNjNcdTc4NmVcdTUyYTBcdThmN2RcdTMwMDI8YnI+PGJyPlx1ODk4MVx1NmQ4OFx1OTY2NFx1OGZkOVx1NGUyYVx1NGZlMVx1NjA2Zlx1ZmYwY1x1OGJmN1x1NTcyOFx1NTNmM1x1NGUwYVx1ODlkMlx1NzY4NFx1NTZmZVx1NWM0Mlx1NjNhN1x1NTIzNlx1OTc2Mlx1Njc3Zlx1NGUyZFx1OTAwOVx1NjJlOVx1NTE3Nlx1NGVkNlx1NzY4NFx1NTdmYVx1Nzg0MFx1NTZmZVx1NWM0Mlx1MzAwMjxicj48YnI+XHU4ZmQ5XHU3OWNkXHU2MGM1XHU1MWI1XHU1Zjg4XHU1M2VmXHU4MGZkXHU2NjJmXHU2Y2ExXHU2NzA5XHU2YjYzXHU3ODZlXHU3Njg0XHU1MzA1XHU1NDJiR29vZ2xlXHU1NzMwXHU1NmZlXHU4MTFhXHU2NzJjXHU1ZTkzXHVmZjBjXHU2MjE2XHU4MDA1XHU2NjJmXHU2Y2ExXHU2NzA5XHU1MzA1XHU1NDJiXHU1NzI4XHU0ZjYwXHU3Njg0XHU3YWQ5XHU3MGI5XHU0ZTBhXHU0ZjdmXHU3NTI4XHU3Njg0XHU2YjYzXHU3ODZlXHU3Njg0R29vZ2xlIE1hcHMgQVBJXHU1YmM2XHU1MzE5XHUzMDAyPGJyPjxicj5cdTVmMDBcdTUzZDFcdTgwMDVcdWZmMWFcdTgzYjdcdTUzZDZcdTRmN2ZcdTUxNzZcdTZiNjNcdTc4NmVcdTVkZTVcdTRmNWNcdTc2ODRcdTVlMmVcdTUyYTlcdTRmZTFcdTYwNmZcdWZmMGM8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZScgdGFyZ2V0PSdfYmxhbmsnPlx1NzBiOVx1NTFmYlx1OGZkOVx1OTFjYzwvYT4iLApnZXRMYXllcldhcm5pbmc6IiR7bGF5ZXJUeXBlfSBcdTU2ZmVcdTVjNDJcdTRlMGRcdTgwZmRcdTZiNjNcdTc4NmVcdTUyYTBcdThmN2RcdTMwMDI8YnI+PGJyPlx1ODk4MVx1NmQ4OFx1OTY2NFx1OGZkOVx1NGUyYVx1NGZlMVx1NjA2Zlx1ZmYwY1x1OGJmN1x1NTcyOFx1NTNmM1x1NGUwYVx1ODlkMlx1NzY4NFx1NTZmZVx1NWM0Mlx1NjNhN1x1NTIzNlx1OTc2Mlx1Njc3Zlx1NGUyZFx1OTAwOVx1NjJlOVx1NTE3Nlx1NGVkNlx1NzY4NFx1NTdmYVx1Nzg0MFx1NTZmZVx1NWM0Mlx1MzAwMjxicj48YnI+XHU4ZmQ5XHU3OWNkXHU2MGM1XHU1MWI1XHU1Zjg4XHU1M2VmXHU4MGZkXHU2NjJmXHU2Y2ExXHU2NzA5XHU2YjYzXHU3ODZlXHU3Njg0XHU1MzA1XHU1NDJiJHtsYXllckxpYn0gXHU4MTFhXHU2NzJjXHU1ZTkzXHUzMDAyPGJyPjxicj5cdTVmMDBcdTUzZDFcdTgwMDVcdWZmMWFcdTgzYjdcdTUzZDZcdTRmN2ZcdTUxNzZcdTZiNjNcdTc4NmVcdTVkZTVcdTRmNWNcdTc2ODRcdTVlMmVcdTUyYTlcdTRmZTFcdTYwNmZcdWZmMGM8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+XHU3MGI5XHU1MWZiXHU4ZmQ5XHU5MWNjPC9hPiIsCiJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiXHU2YmQ0XHU0ZjhiXHU1YzNhID0gMSA6ICR7c2NhbGVEZW5vbX0iLHJlcHJvamVjdERlcHJlY2F0ZWQ6Ilx1NGY2MFx1NmI2M1x1NTcyOFx1NGY3Zlx1NzUyOCAke2xheWVyTmFtZX0gXHU1NmZlXHU1YzQyXHU0ZTBhXHU3Njg0J3JlcHJvamVjdCdcdTkwMDlcdTk4NzlcdTMwMDJcdThmZDlcdTRlMmFcdTkwMDlcdTk4NzlcdTVkZjJcdTdlY2ZcdTRlMGRcdTUxOGRcdTRmN2ZcdTc1MjhcdWZmMWFcdTViODNcdTY2MmZcdTg4YWJcdThiYmVcdThiYTFcdTc1MjhcdTY3NjVcdTY1MmZcdTYzMDFcdTY2M2VcdTc5M2FcdTU1NDZcdTRlMWFcdTc2ODRcdTU3MzBcdTU2ZmVcdTY1NzBcdTYzNmVcdWZmMGNcdTRlMGRcdThmYzdcdTczYjBcdTU3MjhcdThiZTVcdTUyOWZcdTgwZmRcdTUzZWZcdTRlZTVcdTkwMWFcdThmYzdcdTRmN2ZcdTc1MjhTcGhlcmljYWwgTWVyY2F0b3JcdTY3NjVcdTViOWVcdTczYjBcdTMwMDJcdTY2ZjRcdTU5MWFcdTRmZTFcdTYwNmZcdTUzZWZcdTRlZTVcdTUzYzJcdTk2MDVodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NwaGVyaWNhbE1lcmNhdG9yLiIsCm1ldGhvZERlcHJlY2F0ZWQ6Ilx1OGJlNVx1NjViOVx1NmNkNVx1NWRmMlx1N2VjZlx1NGUwZFx1NTE4ZFx1ODhhYlx1NjUyZlx1NjMwMVx1ZmYwY1x1NWU3Nlx1NGUxNFx1NWMwNlx1NTcyODMuMFx1NGUyZFx1ODhhYlx1NzlmYlx1OTY2NFx1MzAwMlx1OGJmN1x1NGY3Zlx1NzUyOCAke25ld01ldGhvZH0gXHU2NWI5XHU2Y2Q1XHU2NzY1XHU2NmZmXHU0ZWUzXHUzMDAyIixlbmQ6IiJ9O09wZW5MYXllcnMuTGFuZy5ydT1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7dW5oYW5kbGVkUmVxdWVzdDoiXHUwNDFkXHUwNDM1XHUwNDNlXHUwNDMxXHUwNDQwXHUwNDMwXHUwNDMxXHUwNDNlXHUwNDQyXHUwNDMwXHUwNDNkXHUwNDNkXHUwNDRiXHUwNDM5IFx1MDQzN1x1MDQzMFx1MDQzZlx1MDQ0MFx1MDQzZVx1MDQ0MSBcdTA0MzJcdTA0MzVcdTA0NDBcdTA0M2RcdTA0NDNcdTA0M2IgJHtzdGF0dXNUZXh0fSIsUGVybWFsaW5rOiJcdTA0MWZcdTA0M2VcdTA0NDFcdTA0NDJcdTA0M2VcdTA0NGZcdTA0M2RcdTA0M2RcdTA0MzBcdTA0NGYgXHUwNDQxXHUwNDQxXHUwNDRiXHUwNDNiXHUwNDNhXHUwNDMwIixPdmVybGF5czoiXHUwNDIxXHUwNDNiXHUwNDNlXHUwNDM4IiwiQmFzZSBMYXllciI6Ilx1MDQxZVx1MDQ0MVx1MDQzZFx1MDQzZVx1MDQzMlx1MDQzZFx1MDQzZVx1MDQzOSBcdTA0NDFcdTA0M2JcdTA0M2VcdTA0MzkiLG5vRklEOiJcdTA0MWRcdTA0MzVcdTA0MzJcdTA0M2VcdTA0MzdcdTA0M2NcdTA0M2VcdTA0MzZcdTA0M2RcdTA0M2UgXHUwNDNlXHUwNDMxXHUwNDNkXHUwNDNlXHUwNDMyXHUwNDM4XHUwNDQyXHUwNDRjIFx1MDQzZVx1MDQzMVx1MDQ0YVx1MDQzNVx1MDQzYVx1MDQ0MiwgXHUwNDM0XHUwNDNiXHUwNDRmIFx1MDQzYVx1MDQzZVx1MDQ0Mlx1MDQzZVx1MDQ0MFx1MDQzZVx1MDQzM1x1MDQzZSBcdTA0M2RcdTA0MzVcdTA0NDIgRklELiIsCmJyb3dzZXJOb3RTdXBwb3J0ZWQ6Ilx1MDQxMlx1MDQzMFx1MDQ0OCBcdTA0MzFcdTA0NDBcdTA0MzBcdTA0NDNcdTA0MzdcdTA0MzVcdTA0NDAgXHUwNDNkXHUwNDM1IFx1MDQzZlx1MDQzZVx1MDQzNFx1MDQzNFx1MDQzNVx1MDQ0MFx1MDQzNlx1MDQzOFx1MDQzMlx1MDQzMFx1MDQzNVx1MDQ0MiBcdTA0MzJcdTA0MzVcdTA0M2FcdTA0NDJcdTA0M2VcdTA0NDBcdTA0M2RcdTA0NDNcdTA0NGUgXHUwNDMzXHUwNDQwXHUwNDMwXHUwNDQ0XHUwNDM4XHUwNDNhXHUwNDQzLiBcdTA0MWRcdTA0MzAgXHUwNDM0XHUwNDMwXHUwNDNkXHUwNDNkXHUwNDRiXHUwNDM5IFx1MDQzY1x1MDQzZVx1MDQzY1x1MDQzNVx1MDQzZFx1MDQ0MiBcdTA0M2ZcdTA0M2VcdTA0MzRcdTA0MzRcdTA0MzVcdTA0NDBcdTA0MzZcdTA0MzhcdTA0MzJcdTA0MzBcdTA0NGVcdTA0NDJcdTA0NDFcdTA0NGY6XG4ke3JlbmRlcmVyc30iLG1pblpvb21MZXZlbEVycm9yOiJcdTA0MjFcdTA0MzJcdTA0M2VcdTA0MzlcdTA0NDFcdTA0NDJcdTA0MzJcdTA0M2UgbWluWm9vbUxldmVsIFx1MDQzZlx1MDQ0MFx1MDQzNVx1MDQzNFx1MDQzZFx1MDQzMFx1MDQzN1x1MDQzZFx1MDQzMFx1MDQ0N1x1MDQzNVx1MDQzZFx1MDQzZSBcdTA0NDJcdTA0M2VcdTA0M2JcdTA0NGNcdTA0M2FcdTA0M2UgXHUwNDM0XHUwNDNiXHUwNDRmIFx1MDQzOFx1MDQ0MVx1MDQzZlx1MDQzZVx1MDQzYlx1MDQ0Y1x1MDQzN1x1MDQzZVx1MDQzMlx1MDQzMFx1MDQzZFx1MDQzOFx1MDQ0ZiBcdTA0NDFcdTA0M2UgXHUwNDQxXHUwNDNiXHUwNDNlXHUwNDRmXHUwNDNjXHUwNDM4LCBcdTA0NGZcdTA0MzJcdTA0M2JcdTA0NGZcdTA0NGVcdTA0NDlcdTA0MzhcdTA0M2NcdTA0MzhcdTA0NDFcdTA0NGYgXHUwNDNmXHUwNDNlXHUwNDQyXHUwNDNlXHUwNDNjXHUwNDNhXHUwNDMwXHUwNDNjXHUwNDM4IEZpeGVkWm9vbUxldmVscy4gXHUwNDIyXHUwNDNlLCBcdTA0NDdcdTA0NDJcdTA0M2UgXHUwNDRkXHUwNDQyXHUwNDNlXHUwNDQyIFdGUy1cdTA0NDFcdTA0M2JcdTA0M2VcdTA0MzkgXHUwNDNmXHUwNDQwXHUwNDNlXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDRmXHUwNDM1XHUwNDQyXHUwNDQxXHUwNDRmIFx1MDQzZFx1MDQzMCBtaW5ab29tTGV2ZWwgXHUyMDE0IFx1MDQ0MFx1MDQzNVx1MDQzYlx1MDQzOFx1MDQzYVx1MDQ0MiBcdTA0M2ZcdTA0NDBcdTA0M2VcdTA0NDhcdTA0M2JcdTA0M2VcdTA0MzNcdTA0M2UuIFx1MDQxZVx1MDQzNFx1MDQzZFx1MDQzMFx1MDQzYVx1MDQzZSBcdTA0M2NcdTA0NGIgXHUwNDNkXHUwNDM1IFx1MDQzY1x1MDQzZVx1MDQzNlx1MDQzNVx1MDQzYyBcdTA0NDNcdTA0MzRcdTA0MzBcdTA0M2JcdTA0MzhcdTA0NDJcdTA0NGMgXHUwNDRkXHUwNDQyXHUwNDQzIFx1MDQ0NFx1MDQ0M1x1MDQzZFx1MDQzYVx1MDQ0Nlx1MDQzOFx1MDQ0ZSwgXHUwNDQyXHUwNDMwXHUwNDNhIFx1MDQzYVx1MDQzMFx1MDQzYSwgXHUwNDMyXHUwNDNlXHUwNDM3XHUwNDNjXHUwNDNlXHUwNDM2XHUwNDNkXHUwNDNlLCBcdTA0M2VcdTA0NDIgXHUwNDNkXHUwNDM1XHUwNDUxIFx1MDQzN1x1MDQzMFx1MDQzMlx1MDQzOFx1MDQ0MVx1MDQ0Zlx1MDQ0MiBcdTA0M2RcdTA0MzVcdTA0M2FcdTA0M2VcdTA0NDJcdTA0M2VcdTA0NDBcdTA0NGJcdTA0MzUgXHUwNDNlXHUwNDQxXHUwNDNkXHUwNDNlXHUwNDMyXHUwNDMwXHUwNDNkXHUwNDNkXHUwNDRiXHUwNDM1IFx1MDQzZFx1MDQzMCBPcGVuTGF5ZXJzIFx1MDQzZlx1MDQ0MFx1MDQzOFx1MDQzYlx1MDQzZVx1MDQzNlx1MDQzNVx1MDQzZFx1MDQzOFx1MDQ0Zi4gXHUwNDI0XHUwNDQzXHUwNDNkXHUwNDNhXHUwNDQ2XHUwNDM4XHUwNDRmIFx1MDQzZVx1MDQzMVx1MDQ0YVx1MDQ0Zlx1MDQzMlx1MDQzYlx1MDQzNVx1MDQzZFx1MDQzMCBcdTA0NDNcdTA0NDFcdTA0NDJcdTA0MzBcdTA0NDBcdTA0MzVcdTA0MzJcdTA0NDhcdTA0MzVcdTA0MzkgXHUyMDE0IFx1MDQzZlx1MDQ0MFx1MDQzZVx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQzYVx1MDQzMCBtaW5ab29tTGV2ZWwgXHUwNDMxXHUwNDQzXHUwNDM0XHUwNDM1XHUwNDQyIFx1MDQ0M1x1MDQzNFx1MDQzMFx1MDQzYlx1MDQzNVx1MDQzZFx1MDQzMCBcdTA0MzIgMy4wLiBcdTA0MWZcdTA0M2VcdTA0MzZcdTA0MzBcdTA0M2JcdTA0NDNcdTA0MzlcdTA0NDFcdTA0NDJcdTA0MzAsIFx1MDQzOFx1MDQ0MVx1MDQzZlx1MDQzZVx1MDQzYlx1MDQ0Y1x1MDQzN1x1MDQ0M1x1MDQzOVx1MDQ0Mlx1MDQzNSBcdTA0MzJcdTA0M2NcdTA0MzVcdTA0NDFcdTA0NDJcdTA0M2UgXHUwNDNkXHUwNDM1XHUwNDUxIFx1MDQzZFx1MDQzMFx1MDQ0MVx1MDQ0Mlx1MDQ0MFx1MDQzZVx1MDQzOVx1MDQzYVx1MDQ0MyBcdTA0M2NcdTA0MzhcdTA0M2QvXHUwNDNjXHUwNDMwXHUwNDNhXHUwNDQxIFx1MDQ0MFx1MDQzMFx1MDQzN1x1MDQ0MFx1MDQzNVx1MDQ0OFx1MDQzNVx1MDQzZFx1MDQzOFx1MDQ0ZiwgXHUwNDNlXHUwNDNmXHUwNDM4XHUwNDQxXHUwNDMwXHUwNDNkXHUwNDNkXHUwNDQzXHUwNDRlIFx1MDQzN1x1MDQzNFx1MDQzNVx1MDQ0MVx1MDQ0YzogaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyIsCmNvbW1pdFN1Y2Nlc3M6Ilx1MDQyMlx1MDQ0MFx1MDQzMFx1MDQzZFx1MDQzN1x1MDQzMFx1MDQzYVx1MDQ0Nlx1MDQzOFx1MDQ0ZiBXRlM6IFx1MDQyM1x1MDQyMVx1MDQxZlx1MDQxNVx1MDQyOFx1MDQxZFx1MDQxZSAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJcdTA0MjJcdTA0NDBcdTA0MzBcdTA0M2RcdTA0MzdcdTA0MzBcdTA0M2FcdTA0NDZcdTA0MzhcdTA0NGYgV0ZTOiBcdTA0MWVcdTA0MjhcdTA0MThcdTA0MTFcdTA0MWFcdTA0MTAgJHtyZXNwb25zZX0iLGdvb2dsZVdhcm5pbmc6Ilx1MDQyMVx1MDQzYlx1MDQzZVx1MDQzOSBHb29nbGUgXHUwNDNkXHUwNDM1IFx1MDQ0M1x1MDQzNFx1MDQzMFx1MDQzYlx1MDQzZVx1MDQ0MVx1MDQ0YyBcdTA0M2RcdTA0M2VcdTA0NDBcdTA0M2NcdTA0MzBcdTA0M2JcdTA0NGNcdTA0M2RcdTA0M2UgXHUwNDM3XHUwNDMwXHUwNDMzXHUwNDQwXHUwNDQzXHUwNDM3XHUwNDM4XHUwNDQyXHUwNDRjLjxicj48YnI+XHUwNDI3XHUwNDQyXHUwNDNlXHUwNDMxXHUwNDRiIFx1MDQzOFx1MDQzN1x1MDQzMVx1MDQzMFx1MDQzMlx1MDQzOFx1MDQ0Mlx1MDQ0Y1x1MDQ0MVx1MDQ0ZiBcdTA0M2VcdTA0NDIgXHUwNDRkXHUwNDQyXHUwNDNlXHUwNDMzXHUwNDNlIFx1MDQ0MVx1MDQzZVx1MDQzZVx1MDQzMVx1MDQ0OVx1MDQzNVx1MDQzZFx1MDQzOFx1MDQ0ZiwgXHUwNDMyXHUwNDRiXHUwNDMxXHUwNDM4XHUwNDQyXHUwNDM1IFx1MDQzNFx1MDQ0MFx1MDQ0M1x1MDQzM1x1MDQzZVx1MDQzOSBcdTA0M2VcdTA0NDFcdTA0M2RcdTA0M2VcdTA0MzJcdTA0M2RcdTA0M2VcdTA0MzkgXHUwNDQxXHUwNDNiXHUwNDNlXHUwNDM5IFx1MDQzMiBcdTA0M2ZcdTA0MzVcdTA0NDBcdTA0MzVcdTA0M2FcdTA0M2JcdTA0NGVcdTA0NDdcdTA0MzBcdTA0NDJcdTA0MzVcdTA0M2JcdTA0MzUgXHUwNDMyIFx1MDQzZlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQzZVx1MDQzYyBcdTA0MzJcdTA0MzVcdTA0NDBcdTA0NDVcdTA0M2RcdTA0MzVcdTA0M2MgXHUwNDQzXHUwNDMzXHUwNDNiXHUwNDQzLjxicj48YnI+XHUwNDIxXHUwNDNhXHUwNDNlXHUwNDQwXHUwNDM1XHUwNDM1IFx1MDQzMlx1MDQ0MVx1MDQzNVx1MDQzM1x1MDQzZSwgXHUwNDNmXHUwNDQwXHUwNDM4XHUwNDQ3XHUwNDM4XHUwNDNkXHUwNDMwIFx1MDQzMiBcdTA0NDJcdTA0M2VcdTA0M2MsIFx1MDQ0N1x1MDQ0Mlx1MDQzZSBcdTA0MzFcdTA0MzhcdTA0MzFcdTA0M2JcdTA0MzhcdTA0M2VcdTA0NDJcdTA0MzVcdTA0M2FcdTA0MzAgR29vZ2xlIE1hcHMgXHUwNDNkXHUwNDM1IFx1MDQzMVx1MDQ0Ylx1MDQzYlx1MDQzMCBcdTA0MzJcdTA0M2FcdTA0M2JcdTA0NGVcdTA0NDdcdTA0MzVcdTA0M2RcdTA0MzAgXHUwNDM4XHUwNDNiXHUwNDM4IFx1MDQzZFx1MDQzNSBcdTA0NDFcdTA0M2VcdTA0MzRcdTA0MzVcdTA0NDBcdTA0MzZcdTA0MzhcdTA0NDIgXHUwNDNhXHUwNDNlXHUwNDQwXHUwNDQwXHUwNDM1XHUwNDNhXHUwNDQyXHUwNDNkXHUwNDNlXHUwNDMzXHUwNDNlIEFQSS1cdTA0M2FcdTA0M2JcdTA0NGVcdTA0NDdcdTA0MzAgXHUwNDM0XHUwNDNiXHUwNDRmIFx1MDQzMlx1MDQzMFx1MDQ0OFx1MDQzNVx1MDQzM1x1MDQzZSBcdTA0NDFcdTA0MzBcdTA0MzlcdTA0NDJcdTA0MzAuPGJyPjxicj5cdTA0MjBcdTA0MzBcdTA0MzdcdTA0NDBcdTA0MzBcdTA0MzFcdTA0M2VcdTA0NDJcdTA0NDdcdTA0MzhcdTA0M2FcdTA0MzBcdTA0M2M6IFx1MDQ0N1x1MDQ0Mlx1MDQzZVx1MDQzMVx1MDQ0YiBcdTA0NDNcdTA0MzdcdTA0M2RcdTA0MzBcdTA0NDJcdTA0NGMsIFx1MDQzYVx1MDQzMFx1MDQzYSBcdTA0NDFcdTA0MzRcdTA0MzVcdTA0M2JcdTA0MzBcdTA0NDJcdTA0NGMsIFx1MDQ0N1x1MDQ0Mlx1MDQzZVx1MDQzMVx1MDQ0YiBcdTA0MzJcdTA0NDFcdTA0NTEgXHUwNDM3XHUwNDMwXHUwNDQwXHUwNDMwXHUwNDMxXHUwNDNlXHUwNDQyXHUwNDMwXHUwNDNiXHUwNDNlLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZScgdGFyZ2V0PSdfYmxhbmsnPlx1MDQ0OVx1MDQ1MVx1MDQzYlx1MDQzYVx1MDQzZFx1MDQzOFx1MDQ0Mlx1MDQzNSBcdTA0NDJcdTA0NDNcdTA0NDI8L2E+IiwKZ2V0TGF5ZXJXYXJuaW5nOiJcdTA0MjFcdTA0M2JcdTA0M2VcdTA0MzkgJHtsYXllclR5cGV9IFx1MDQzZFx1MDQzNSBcdTA0NDNcdTA0MzRcdTA0MzBcdTA0M2JcdTA0M2VcdTA0NDFcdTA0NGMgXHUwNDNkXHUwNDNlXHUwNDQwXHUwNDNjXHUwNDMwXHUwNDNiXHUwNDRjXHUwNDNkXHUwNDNlIFx1MDQzN1x1MDQzMFx1MDQzM1x1MDQ0MFx1MDQ0M1x1MDQzN1x1MDQzOFx1MDQ0Mlx1MDQ0Yy4gPGJyPjxicj5cdTA0MjdcdTA0NDJcdTA0M2VcdTA0MzFcdTA0NGIgXHUwNDM4XHUwNDM3XHUwNDMxXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDQyXHUwNDRjXHUwNDQxXHUwNDRmIFx1MDQzZVx1MDQ0MiBcdTA0NGRcdTA0NDJcdTA0M2VcdTA0MzNcdTA0M2UgXHUwNDQxXHUwNDNlXHUwNDNlXHUwNDMxXHUwNDQ5XHUwNDM1XHUwNDNkXHUwNDM4XHUwNDRmLCBcdTA0MzJcdTA0NGJcdTA0MzFcdTA0MzhcdTA0NDJcdTA0MzUgXHUwNDM0XHUwNDQwXHUwNDQzXHUwNDMzXHUwNDNlXHUwNDM5IFx1MDQzZVx1MDQ0MVx1MDQzZFx1MDQzZVx1MDQzMlx1MDQzZFx1MDQzZVx1MDQzOSBcdTA0NDFcdTA0M2JcdTA0M2VcdTA0MzkgXHUwNDMyIFx1MDQzZlx1MDQzNVx1MDQ0MFx1MDQzNVx1MDQzYVx1MDQzYlx1MDQ0ZVx1MDQ0N1x1MDQzMFx1MDQ0Mlx1MDQzNVx1MDQzYlx1MDQzNSBcdTA0MzIgXHUwNDNmXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDNlXHUwNDNjIFx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQ0NVx1MDQzZFx1MDQzNVx1MDQzYyBcdTA0NDNcdTA0MzNcdTA0M2JcdTA0NDMuPGJyPjxicj5cdTA0MjFcdTA0M2FcdTA0M2VcdTA0NDBcdTA0MzVcdTA0MzUgXHUwNDMyXHUwNDQxXHUwNDM1XHUwNDMzXHUwNDNlLCBcdTA0M2ZcdTA0NDBcdTA0MzhcdTA0NDdcdTA0MzhcdTA0M2RcdTA0MzAgXHUwNDMyIFx1MDQ0Mlx1MDQzZVx1MDQzYywgXHUwNDQ3XHUwNDQyXHUwNDNlIFx1MDQzMVx1MDQzOFx1MDQzMVx1MDQzYlx1MDQzOFx1MDQzZVx1MDQ0Mlx1MDQzNVx1MDQzYVx1MDQzMCAke2xheWVyTGlifSBcdTA0M2RcdTA0MzUgXHUwNDMxXHUwNDRiXHUwNDNiXHUwNDMwIFx1MDQzMlx1MDQzYVx1MDQzYlx1MDQ0ZVx1MDQ0N1x1MDQzNVx1MDQzZFx1MDQzMCBcdTA0MzhcdTA0M2JcdTA0MzggXHUwNDMxXHUwNDRiXHUwNDNiXHUwNDMwIFx1MDQzMlx1MDQzYVx1MDQzYlx1MDQ0ZVx1MDQ0N1x1MDQzNVx1MDQzZFx1MDQzMCBcdTA0M2RcdTA0MzVcdTA0M2FcdTA0M2VcdTA0NDBcdTA0NDBcdTA0MzVcdTA0M2FcdTA0NDJcdTA0M2RcdTA0M2UuPGJyPjxicj5cdTA0MjBcdTA0MzBcdTA0MzdcdTA0NDBcdTA0MzBcdTA0MzFcdTA0M2VcdTA0NDJcdTA0NDdcdTA0MzhcdTA0M2FcdTA0MzBcdTA0M2M6IFx1MDQ0N1x1MDQ0Mlx1MDQzZVx1MDQzMVx1MDQ0YiBcdTA0NDNcdTA0MzdcdTA0M2RcdTA0MzBcdTA0NDJcdTA0NGMsIFx1MDQzYVx1MDQzMFx1MDQzYSBcdTA0NDFcdTA0MzRcdTA0MzVcdTA0M2JcdTA0MzBcdTA0NDJcdTA0NGMsIFx1MDQ0N1x1MDQ0Mlx1MDQzZVx1MDQzMVx1MDQ0YiBcdTA0MzJcdTA0NDFcdTA0NTEgXHUwNDM3XHUwNDMwXHUwNDQwXHUwNDMwXHUwNDMxXHUwNDNlXHUwNDQyXHUwNDMwXHUwNDNiXHUwNDNlLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+XHUwNDQ5XHUwNDUxXHUwNDNiXHUwNDNhXHUwNDNkXHUwNDM4XHUwNDQyXHUwNDM1IFx1MDQ0Mlx1MDQ0M1x1MDQ0MjwvYT4iLAoiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6Ilx1MDQxY1x1MDQzMFx1MDQ0MVx1MDQ0OFx1MDQ0Mlx1MDQzMFx1MDQzMSA9IDEgOiAke3NjYWxlRGVub219IixXOiJcdTA0MTciLEU6Ilx1MDQxMiIsTjoiXHUwNDIxIixTOiJcdTA0MmUiLHJlcHJvamVjdERlcHJlY2F0ZWQ6Ilx1MDQxMlx1MDQ0YiBcdTA0MzhcdTA0NDFcdTA0M2ZcdTA0M2VcdTA0M2JcdTA0NGNcdTA0MzdcdTA0NDNcdTA0MzVcdTA0NDJcdTA0MzUgXHUwNDNlXHUwNDNmXHUwNDQ2XHUwNDM4XHUwNDRlICdyZXByb2plY3QnIFx1MDQzNFx1MDQzYlx1MDQ0ZiBcdTA0NDFcdTA0M2JcdTA0M2VcdTA0NGYgJHtsYXllck5hbWV9LiBcdTA0MmRcdTA0NDJcdTA0MzAgXHUwNDNlXHUwNDNmXHUwNDQ2XHUwNDM4XHUwNDRmIFx1MDQ0Zlx1MDQzMlx1MDQzYlx1MDQ0Zlx1MDQzNVx1MDQ0Mlx1MDQ0MVx1MDQ0ZiBcdTA0NDNcdTA0NDFcdTA0NDJcdTA0MzBcdTA0NDBcdTA0MzVcdTA0MzJcdTA0NDhcdTA0MzVcdTA0Mzk6IFx1MDQzNVx1MDQzNSBcdTA0MzhcdTA0NDFcdTA0M2ZcdTA0M2VcdTA0M2JcdTA0NGNcdTA0MzdcdTA0M2VcdTA0MzJcdTA0MzBcdTA0M2RcdTA0MzhcdTA0MzUgXHUwNDNmXHUwNDQwXHUwNDM1XHUwNDM0XHUwNDNmXHUwNDNlXHUwNDNiXHUwNDMwXHUwNDMzXHUwNDMwXHUwNDNiXHUwNDNlXHUwNDQxXHUwNDRjIFx1MDQzNFx1MDQzYlx1MDQ0ZiBcdTA0M2ZcdTA0M2VcdTA0MzRcdTA0MzRcdTA0MzVcdTA0NDBcdTA0MzZcdTA0M2FcdTA0MzggXHUwNDNmXHUwNDNlXHUwNDNhXHUwNDMwXHUwNDM3XHUwNDMwIFx1MDQzNFx1MDQzMFx1MDQzZFx1MDQzZFx1MDQ0Ylx1MDQ0NSBcdTA0M2ZcdTA0M2VcdTA0MzJcdTA0MzVcdTA0NDBcdTA0NDUgXHUwNDNhXHUwNDNlXHUwNDNjXHUwNDNjXHUwNDM1XHUwNDQwXHUwNDQ3XHUwNDM1XHUwNDQxXHUwNDNhXHUwNDM4XHUwNDQ1IFx1MDQzMVx1MDQzMFx1MDQzN1x1MDQzZVx1MDQzMlx1MDQ0Ylx1MDQ0NSBcdTA0M2FcdTA0MzBcdTA0NDBcdTA0NDIsIFx1MDQzZFx1MDQzZSBcdTA0NDJcdTA0MzVcdTA0M2ZcdTA0MzVcdTA0NDBcdTA0NGMgXHUwNDRkXHUwNDQyXHUwNDNlXHUwNDQyIFx1MDQ0NFx1MDQ0M1x1MDQzZFx1MDQzYVx1MDQ0Nlx1MDQzOFx1MDQzZVx1MDQzZFx1MDQzMFx1MDQzYiBcdTA0M2RcdTA0MzVcdTA0NDFcdTA0NTFcdTA0NDIgXHUwNDMyXHUwNDQxXHUwNDQyXHUwNDQwXHUwNDNlXHUwNDM1XHUwNDNkXHUwNDNkXHUwNDMwXHUwNDRmIFx1MDQzZlx1MDQzZVx1MDQzNFx1MDQzNFx1MDQzNVx1MDQ0MFx1MDQzNlx1MDQzYVx1MDQzMCBcdTA0NDFcdTA0NDRcdTA0MzVcdTA0NDBcdTA0MzhcdTA0NDdcdTA0MzVcdTA0NDFcdTA0M2FcdTA0M2VcdTA0MzkgXHUwNDNmXHUwNDQwXHUwNDNlXHUwNDM1XHUwNDNhXHUwNDQ2XHUwNDM4XHUwNDM4IFx1MDQxY1x1MDQzNVx1MDQ0MFx1MDQzYVx1MDQzMFx1MDQ0Mlx1MDQzZVx1MDQ0MFx1MDQzMC4gXHUwNDExXHUwNDNlXHUwNDNiXHUwNDRjXHUwNDQ4XHUwNDM1IFx1MDQ0MVx1MDQzMlx1MDQzNVx1MDQzNFx1MDQzNVx1MDQzZFx1MDQzOFx1MDQzOSBcdTA0MzRcdTA0M2VcdTA0NDFcdTA0NDJcdTA0NDNcdTA0M2ZcdTA0M2RcdTA0M2UgXHUwNDNkXHUwNDMwIGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU3BoZXJpY2FsTWVyY2F0b3IuIiwKbWV0aG9kRGVwcmVjYXRlZDoiXHUwNDJkXHUwNDQyXHUwNDNlXHUwNDQyIFx1MDQzY1x1MDQzNVx1MDQ0Mlx1MDQzZVx1MDQzNCBcdTA0NDFcdTA0NDdcdTA0MzhcdTA0NDJcdTA0MzBcdTA0MzVcdTA0NDJcdTA0NDFcdTA0NGYgXHUwNDQzXHUwNDQxXHUwNDQyXHUwNDMwXHUwNDQwXHUwNDM1XHUwNDMyXHUwNDQ4XHUwNDM4XHUwNDNjIFx1MDQzOCBcdTA0MzFcdTA0NDNcdTA0MzRcdTA0MzVcdTA0NDIgXHUwNDQzXHUwNDM0XHUwNDMwXHUwNDNiXHUwNDUxXHUwNDNkIFx1MDQzMiBcdTA0MzJcdTA0MzVcdTA0NDBcdTA0NDFcdTA0MzhcdTA0MzggMy4wLiBcdTA0MWZcdTA0M2VcdTA0MzZcdTA0MzBcdTA0M2JcdTA0NDNcdTA0MzlcdTA0NDFcdTA0NDJcdTA0MzAsIFx1MDQzZlx1MDQzZVx1MDQzYlx1MDQ0Y1x1MDQzN1x1MDQ0M1x1MDQzOVx1MDQ0Mlx1MDQzNVx1MDQ0MVx1MDQ0YyAke25ld01ldGhvZH0uIn0pO09wZW5MYXllcnMuTGFuZy5nbD1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7dW5oYW5kbGVkUmVxdWVzdDoiU29saWNpdHVkZSBub24geGVyYWRhOyBhIHJlc3Bvc3RhIGZvaTogJHtzdGF0dXNUZXh0fSIsUGVybWFsaW5rOiJMaWdhelx1MDBmM24gcGVybWFuZW50ZSIsT3ZlcmxheXM6IkNhcGFzIHN1cGVycG9zdGFzIiwiQmFzZSBMYXllciI6IkNhcGEgYmFzZSIsbm9GSUQ6Ik5vbiBzZSBwb2RlIGFjdHVhbGl6YXIgYSBmdW5jaW9uYWxpZGFkZSBwYXJhIGEgcXVlIG5vbiBoYWkgRklELiIsYnJvd3Nlck5vdFN1cHBvcnRlZDoiTyBzZXUgbmF2ZWdhZG9yIG5vbiBzb3BvcnRhIGEgcmVuZGVyaXphY2lcdTAwZjNuIGRlIHZlY3RvcmVzLiBPcyByZW5kZXJpemFkb3JlcyBzb3BvcnRhZG9zIGFjdHVhbG1lbnRlIHNvbjpcbiR7cmVuZGVyZXJzfSIsbWluWm9vbUxldmVsRXJyb3I6IkEgcHJvcGllZGFkZSBtaW5ab29tTGV2ZWwgXHUwMGU5IHNcdTAwZjMgcGFyYSB1c28gY29ueHVudGFtZW50ZSBjb2FzIGNhcGFzIEZpeGVkWm9vbUxldmVscy1kZXNjZW5kZW50LiBPIGZlaXRvIGRlIHF1ZSBlc2EgY2FwYSB3ZnMgdmVyaWZpcXVlIG8gbWluWm9vbUxldmVsIFx1MDBlOSB1bmhhIHJlbGlxdWlhIGRvIHBhc2Fkby4gTm9uIHBvZGVtb3MsIGNvbiB0b2RvLCBlbGltaW5hbGEgc2VuIGEgcG9zaWJpbGlkYWRlIGRlIG5vbiByb21wZXIgYXMgYXBsaWNhY2lcdTAwZjNucyBiYXNlYWRhcyBlbiBPTCBxdWUgcG9pZGFuIGRlcGVuZGVyIGRlbGEuIFBvciBpc28gYSBlc3RhbW9zIGRlaXhhbmRvIG9ic29sZXRhIChhIGNvbXByb2JhY2lcdTAwZjNuIG1pblpvb21MZXZlbCBkZSBlbWJhaXhvIHNlclx1MDBlMSBlbGltaW5hZGEgbmEgdmVyc2lcdTAwZjNuIDMuMCkuIFBvciBmYXZvciwgbm8gY2FudG8gZGlzbyB1c2UgbyBheHVzdGUgZGUgcmVzb2x1Y2lcdTAwZjNuIG1cdTAwZWRuL21cdTAwZTF4IHRhbCBlIGNvbW8gZXN0XHUwMGUxIGRlc2NyaXRvIGFxdVx1MDBlZDogaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyIsCmNvbW1pdFN1Y2Nlc3M6IlRyYW5zYWNjaVx1MDBmM24gV0ZTOiBcdTAwYzlYSVRPICR7cmVzcG9uc2V9Iixjb21taXRGYWlsZWQ6IlRyYW5zYWNjaVx1MDBmM24gV0ZTOiBGQUxMSURBICR7cmVzcG9uc2V9Iixnb29nbGVXYXJuaW5nOiJBIGNhcGEgZG8gR29vZ2xlIG5vbiBwdWlkbyBjYXJnYXJzZSBjb3JyZWN0YW1lbnRlLjxicj48YnI+UGFyYSBldml0YXIgZXN0YSBtZW5zYXhlLCBlc2NvbGxhIHVuaGEgbm92YSBjYXBhIGJhc2Ugbm8gc2VsZWNjaW9uYWRvciBkZSBjYXBhcyBuYSBtYXJ4ZSBzdXBlcmlvciBkZXJlaXRhLjxicj48YnI+UHJvYmFibGVtZW50ZSwgaXN0byBhY29udGVjZSBwb3JxdWUgYSBlc2NyaXR1cmEgZGEgbGlicmFyXHUwMGVkYSBkbyBHb29nbGUgTWFwcyBvdSBiZW4gbm9uIGZvaSBpbmNsdVx1MDBlZGRhIG91IGJlbiBub24gY29udFx1MDBlOW4gYSBjbGF2ZSBBUEkgY29ycmVjdGEgcGFyYSBvIHNldSBzaXRpby48YnI+PGJyPkRlc2Vudm9sdmVkb3JlczogcGFyYSBheHVkYXIgYSBmYWNlciBmdW5jaW9uYXIgaXN0byBjb3JyZWN0YW1lbnRlLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZScgdGFyZ2V0PSdfYmxhbmsnPnByZW1lZGUgYXF1XHUwMGVkPC9hPiIsCmdldExheWVyV2FybmluZzoiQSBjYXBhICR7bGF5ZXJUeXBlfSBmb2kgaW5jYXBheiBkZSBjYXJnYXJzZSBjb3JyZWN0YW1lbnRlLjxicj48YnI+UGFyYSBldml0YXIgZXN0YSBtZW5zYXhlLCBlc2NvbGxhIHVuaGEgbm92YSBjYXBhIGJhc2Ugbm8gc2VsZWNjaW9uYWRvciBkZSBjYXBhcyBuYSBtYXJ4ZSBzdXBlcmlvciBkZXJlaXRhLjxicj48YnI+UHJvYmFibGVtZW50ZSwgaXN0byBhY29udGVjZSBwb3JxdWUgYSBlc2NyaXR1cmEgZGEgbGlicmFyXHUwMGVkYSAke2xheWVyTGlifSBub24gZm9pIGJlbiBpbmNsdVx1MDBlZGRhLjxicj48YnI+RGVzZW52b2x2ZWRvcmVzOiBwYXJhIGF4dWRhciBhIGZhY2VyIGZ1bmNpb25hciBpc3RvIGNvcnJlY3RhbWVudGUsIDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvJHtsYXllckxpYn0nIHRhcmdldD0nX2JsYW5rJz5wcmVtZWRlIGFxdVx1MDBlZDwvYT4iLCJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiRXNjYWxhID0gMSA6ICR7c2NhbGVEZW5vbX0iLApXOiJPIixFOiJMIixOOiJOIixTOiJTIixyZXByb2plY3REZXByZWNhdGVkOidFc3RcdTAwZTEgdXNhbmRvIGEgb3BjaVx1MDBmM24gInJlcHJvamVjdCIgbmEgY2FwYSAke2xheWVyTmFtZX0uIEVzdGEgb3BjaVx1MDBmM24gZXN0XHUwMGUxIG9ic29sZXRhOiBvIHNldSB1c28gZm9pIGRlc2VcdTAwZjFhZG8gcGFyYSBhIHZpc3VhbGl6YWNpXHUwMGYzbiBkZSBkYXRvcyBzb2JyZSBtYXBhcyBiYXNlIGNvbWVyY2lhaXMsIHBlcm8gZXN0YSBmdW5jaW9uYWxpZGFkZSBkZWJlcmEgYWdvcmEgc2VyIG9idGlkYSB1dGlsaXphbmRvIGEgcHJveGVjY2lcdTAwZjNuIFNwaGVyaWNhbCBNZXJjYXRvci4gSGFpIGRpc3BvXHUwMGYxaWJsZSBtXHUwMGUxaXMgaW5mb3JtYWNpXHUwMGYzbiBlbiBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NwaGVyaWNhbE1lcmNhdG9yLicsbWV0aG9kRGVwcmVjYXRlZDoiRXN0ZSBtXHUwMGU5dG9kbyBlc3RcdTAwZTEgb2Jzb2xldG8gZSBzZXJcdTAwZTEgZWxpbWluYWRvIG5hIHZlcnNpXHUwMGYzbiAzLjAuIFBvciBmYXZvciwgbm8gY2FudG8gZGVzdGUgdXNlICR7bmV3TWV0aG9kfS4ifSk7T3BlbkxheWVycy5MYW5nLmlkPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHt1bmhhbmRsZWRSZXF1ZXN0OiJQZXJtaW50YWFuIHlhbmcgdGFrIHRlcnRhbmdhbmkgbWVuZ2hhc2lsa2FuICR7c3RhdHVzVGV4dH0iLFBlcm1hbGluazoiUHJhbmFsYSBwZXJtYW5lbiIsT3ZlcmxheXM6IkhhbXBhcmFuIiwiQmFzZSBMYXllciI6IkxhcGlzYW4gRGFzYXIiLG5vRklEOiJUaWRhayBkYXBhdCBtZW1wZXJiYXJ1aSBmaXR1ciB5YW5nIHRpZGFrIG1lbWlsaWtpIEZJRC4iLGJyb3dzZXJOb3RTdXBwb3J0ZWQ6IlBlcmFtYmFuIEFuZGEgdGlkYWsgbWVuZHVrdW5nIHBlbmdnYW1iYXJhbiB2ZWt0b3IuIFBlbmdnYW1iYXIgeWFuZyBkaWR1a3VuZyBzYWF0IGluaSBhZGFsYWg6XG4ke3JlbmRlcmVyc30iLG1pblpvb21MZXZlbEVycm9yOiJQcm9wZXJ0aSBtaW5ab29tTGV2ZWwgaGFueWEgZGl0dWp1a2FuIGJla2VyamEgZGVuZ2FuIGxhcGlzYW4gRml4ZWRab29tTGV2ZWxzLWRlc2NlbmRlbnQuIFBlbmdlY2VrYW4gbWluWm9vbUxldmVsIG9sZWggbGFwaXNhbiB3ZnMgYWRhbGFoIHBlbmluZ2dhbGFuIG1hc2EgbGFsdS4gS2FtaSB0aWRhayBkYXBhdCBtZW5naGFwdXNueWEgdGFucGEga2VtdW5na2luYW4gbWVydXNhayBhcGxpa2FzaSBiZXJiYXNpcyBPTCB5YW5nIG11bmdraW4gYmVyZ2FudHVuZyBwYWRhbnlhLiBLYXJlbmFueWEsIGthbWkgbWVuZ2FuZ2dhcG55YSB0aWRhayBiZXJsYWt1IC0tIENlayBtaW5ab29tTGV2ZWwgZGkgYmF3YWggaW5pIGFrYW4gZGloYXB1cyBwYWRhIDMuMC4gU2lsYWthbiBndW5ha2FuIHBlbnlldGVsYW4gcmVzb2x1c2kgbWluL21ha3Mgc2VwZXJ0aSBkaWphYmFya2FuIGRpIHNpbmk6IGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU2V0dGluZ1pvb21MZXZlbHMiLApjb21taXRTdWNjZXNzOiJXRlMgVHJhbnNha3NpOiBCRVJIQVNJTCAke3Jlc3Bvbn0iLGNvbW1pdEZhaWxlZDoiV0ZTIFRyYW5zYWtzaTogR0FHQUwgJHtyZXNwb259Iixnb29nbGVXYXJuaW5nOiJMYXBpc2FuIEdvb2dsZSB0aWRhayBkYXBhdCBkaW11YXQgZGVuZ2FuIGJlbmFyLjxicj48YnI+VW50dWsgbWVuZ2hpbGFuZ2thbiBwZXNhbiBpbmksIHBpbGloIHN1YXR1IEJhc2VMYXllciBiYXJ1IG1lbGFsdWkgcGVudWthciBsYXBpc2FuIChsYXllciBzd2l0Y2hlcikgZGkgdWp1bmcga2FuYW4gYXRhcy48YnI+PGJyPktlbXVuZ2tpbmFuIGJlc2FyIGluaSBrYXJlbmEgcHVzdGFrYSBza3JpcCBHb29nbGUgTWFwcyB0aWRhayBkaXNlcnRha2FuIGF0YXUgdGlkYWsgbWVuZ2FuZHVuZyBrdW5jaSBBUEkgeWFuZyB0ZXBhdCB1bnR1ayBzaXR1cyBBbmRhLjxicj48YnI+UGVuZ2VtYmFuZzogVW50dWsgYmFudHVhbiBtZW5nYXRhc2kgbWFzYWxhaCBpbmksIDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvR29vZ2xlJyB0YXJnZXQ9J19ibGFuayc+a2xpayBkaSBzaW5pPC9hPiIsCmdldExheWVyV2FybmluZzoiTGFwaXNhbiAke2xheWVyVHlwZX0gdGlkYWsgZGFwYXQgZGltdWF0IGRlbmdhbiBiZW5hci48YnI+PGJyPlVudHVrIG1lbmdoaWxhbmdrYW4gcGVzYW4gaW5pLCBwaWxpaCBzdWF0dSBCYXNlTGF5ZXIgYmFydSBtZWxhbHVpIHBlbnVrYXIgbGFwaXNhbiAobGF5ZXIgc3dpdGNoZXIpIGRpIHVqdW5nIGthbmFuIGF0YXMuPGJyPjxicj5LZW11bmdraW5hbiBiZXNhciBpbmkga2FyZW5hIHB1c3Rha2Egc2tyaXAgR29vZ2xlIE1hcHMgdGlkYWsgZGlzZXJ0YWthbiBkZW5nYW4gYmVuYXIuPGJyPjxicj5QZW5nZW1iYW5nOiBVbnR1ayBiYW50dWFuIG1lbmdhdGFzaSBtYXNhbGFoIGluaSwgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS8ke2xheWVyTGlifScgdGFyZ2V0PSdfYmxhbmsnPmtsaWsgZGkgc2luaTwvYT4iLCJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiU2VrYWxhID0gMSA6ICR7c2NhbGVEZW5vbX0iLFc6IkIiLEU6IlQiLApOOiJVIixTOiJTIixyZXByb2plY3REZXByZWNhdGVkOiJBbmRhIG1lbmdndW5ha2FuIG9wc2kgJ3JlcHJvamVjdCcgcGFkYSBsYXBpc2FuICR7bGF5ZXJOYW1lfS4gT3BzaSBpbmkgdGVsYWggZGl0aW5nZ2Fsa2FuOiBwZW5nZ3VuYWFubnlhIGRpcmFuY2FuZyB1bnR1ayBtZW5kdWt1bmcgdGFtcGlsYW4gZGF0YSBtZWxhbHVpIHBldGEgZGFzYXIga29tZXJzaWFsLCB0YXBpIGZ1bmdzaW9uYWxpdGFzIHRlcnNlYnV0IHNhYXQgaW5pIGhhcnVzIGRpbGFrdWthbiBkZW5nYW4gbWVuZ2d1bmFrYW4gZHVrdW5nYW4gU3BoZXJpY2FsIE1lcmNhdG9yLiBJbmZvcm1hc2kgbGViaWggbGFuanV0IHRlcnNlZGlhIGRpIGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU3BoZXJpY2FsTWVyY2F0b3IuIixtZXRob2REZXByZWNhdGVkOiJNZXRvZGUgaW5pIHRlbGFoIHVzYW5nIGRhbiBha2FuIGRpaGFwdXMgZGkgMy4wLiBTZWJhbGlrbnlhLCBoYXJhcCBndW5ha2FuICR7bmV3TWV0aG9kfS4ifSk7T3BlbkxheWVycy5MYW5nLnBsPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHt1bmhhbmRsZWRSZXF1ZXN0OiJOaWVvYnNcdTAxNDJ1Z2l3YW5lIFx1MDE3Y1x1MDEwNWRhbmllIHp3clx1MDBmM2NpXHUwMTQybyAke3N0YXR1c1RleHR9IixQZXJtYWxpbms6IlBlcm1hbGluayIsT3ZlcmxheXM6Ik5ha1x1MDE0MmFka2kiLCJCYXNlIExheWVyIjoiV2Fyc3R3YSBwb2RzdGF3b3dhIixub0ZJRDoiTmllIG1vXHUwMTdjbmEgemFrdHVhbGl6b3dhXHUwMTA3IGZ1bmtjamksIGRsYSBrdFx1MDBmM3J5Y2ggbmllIG1hIEZJRC4iLGJyb3dzZXJOb3RTdXBwb3J0ZWQ6IlR3b2phIHByemVnbFx1MDEwNWRhcmthIG5pZSBvYnNcdTAxNDJ1Z3VqZSByZW5kZXJvd2FuaWEgd2VrdG9yXHUwMGYzdy4gT2JlY25pZSBvYnNcdTAxNDJ1Z2l3YW5lIHJlbmRlcm93YW5pZSB0bzpcbiR7cmVuZGVyZXJzfSIsbWluWm9vbUxldmVsRXJyb3I6IldcdTAxNDJhXHUwMTViY2l3b1x1MDE1Ylx1MDEwNyBtaW5ab29tTGV2ZWwgamVzdCBwcnplem5hY3pvbmEgdHlsa28gZG8gdVx1MDE3Y3l0a3UgeiB3YXJzdHdhbWkgRml4ZWRab29tTGV2ZWxzLWRlc2NlbmRlbnQuV2Fyc3R3YSB3ZnMsIGt0XHUwMGYzcmEgc3ByYXdkemEgbWluWm9vbUxldmVsIGplc3QgcmVsaWt0ZW0gcHJ6ZXN6XHUwMTQyb1x1MDE1YmNpLk5pZSBtb1x1MDE3Y2VteSBqZWogamVkbmFrIHVzdW5cdTAxMDVjIGJleiBtb3psaXdvXHUwMTViY2kgXHUwMTQyYW1hbmlhIE9MIGFwbGlrYWNqaSwga3RcdTAwZjNyZSBtb2dcdTAxMDUgYnlcdTAxMDcgb2QgbmllaiB6YWxlXHUwMTdjbmUuIERsYXRlZ28gamVzdGVcdTAxNWJteSB6YSBkZXByZWNqYWNqXHUwMTE5IC0tIG1pblpvb21MZXZlbCB6b3N0YW5pZSB1c3VuaVx1MDExOXRhIHcgd2Vyc2ppIDMuMC4gVyB6YW1pYW4gcHJvc3plIHVcdTAxN2N5aiBtaW4vbWF4IHJvemR6aWVsY3pvXHUwMTViY2kgdyBzcG9zXHUwMGYzYiBvcGlzYW55IHR1dGFqOiBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NldHRpbmdab29tTGV2ZWxzIiwKY29tbWl0U3VjY2VzczoiVHJhbnNha2NqYSBXRlM6IFNVS0NFUyAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJUcmFuc2FrY2phIFdGUzogRkFJTEVEICR7cmVzcG9uc2V9Iixnb29nbGVXYXJuaW5nOiJXYXJzdHdhIEdvb2dsZSBuaWUgYnlcdTAxNDIgdyBzdGFuaWUgemFcdTAxNDJhZG93YVx1MDEwNyBzaVx1MDExOSBwb3ByYXduaWUuPGJyPjxicj5BYnkgcG96YnlcdTAxMDcgc2lcdTAxMTkgdGVqIHdpYWRvbW9cdTAxNWJjaSwgd3liaWVyeiBub3dcdTAxMDUgV2Fyc3R3ZSBwb2RzdGF3b3dcdTAxMDUgdyBwcnplXHUwMTQyXHUwMTA1Y3puaWt1IHdhcnN0dyB3IGdcdTAwZjNybnltIHByYXd5bSByb2d1IG1hcHkuPGJyPjxicj5OYWpwcmF3ZG9wb2RvYm5pZWogamVzdCB0byBzcG93b2Rvd2FuZSB0eW0sIFx1MDE3Y2UgYmlibGlvdGVrYSBHb29nbGUgTWFwcyBuaWUgamVzdCB6YVx1MDE0MmFkb3dhbmEsIGx1YiBuaWUgemF3aWVyYSBwb3ByYXduZWdvIGtsdWN6YSBkbyBBUEkgZGxhIHR3b2plaiBzdHJvbnk8YnI+PGJyPlByb2dyYW1pc3RvOiBBYnkgdXp5c2thXHUwMTA3IHBvbW9jICwgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9Hb29nbGUnIHRhcmdldD0nX2JsYW5rJz5rbGlrbmlqIHR1dGFqPC9hPiIsCmdldExheWVyV2FybmluZzoiV2Fyc3R3YSAke2xheWVyVHlwZX0gbmllIG1vZ1x1MDE0MmEgem9zdGFcdTAxMDcgemFcdTAxNDJhZG93YW5hIHBvcHJhd25pZS48YnI+PGJyPkFieSBwb3pieVx1MDEwNyBzaVx1MDExOSB0ZWogd2lhZG9tb1x1MDE1YmNpLCB3eWJpZXJ6IG5vd1x1MDEwNSBXYXJzdHdlIHBvZHN0YXdvd1x1MDEwNSB3IHByemVcdTAxNDJcdTAxMDVjem5pa3Ugd2Fyc3R3IHcgZ1x1MDBmM3JueW0gcHJhd3ltIHJvZ3UgbWFweS48YnI+PGJyPk5hanByYXdkb3BvZG9ibmllaiBqZXN0IHRvIHNwb3dvZG93YW5lIHR5bSwgXHUwMTdjZSBiaWJsaW90ZWthICR7bGF5ZXJMaWJ9IG5pZSBqZXN0IHphXHUwMTQyYWRvd2FuYSwgbHViIG1vXHUwMTdjZShvIGlsZSBiaWJsaW90ZWthIHRlZ28gd3ltYWdhKSBieWMgcG90cnplYm55IGtsdWN6YSBkbyBBUEkgZGxhIHR3b2plaiBzdHJvbnk8YnI+PGJyPlByb2dyYW1pc3RvOiBBYnkgdXp5c2thXHUwMTA3IHBvbW9jICwgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS8ke2xheWVyTGlifScgdGFyZ2V0PSdfYmxhbmsnPmtsaWtuaWogdHV0YWo8L2E+IiwKIlNjYWxlID0gMSA6ICR7c2NhbGVEZW5vbX0iOiJTa2FsYSA9IDEgOiAke3NjYWxlRGVub219IixXOiJaQUNIIixFOiJXU0NIIixOOiJQTiIsUzoiUEQiLEdyYXRpY3VsZToiU2lhdGthIixyZXByb2plY3REZXByZWNhdGVkOiJ3IHdhcnN0d2llICR7bGF5ZXJOYW1lfSB1XHUwMTdjeXdhc3ogb3BjamkgJ3JlcHJvamVjdCcuIFRhIG9wY2phIGplc3QgcHJ6ZXN0YXJ6YVx1MDE0MmE6IGplaiB6YXN0b3Nvd2FuaWUgem9zdGFcdTAxNDIgemFwcm9qZWt0b3dhbnksIGFieSB3c3BpZXJhXHUwMTA3IHd5XHUwMTVid2lldGxhbmlhIGRhbnljaCBwcnpleiBrb21lcmN5am5lIG1hcHksIGplZG5hayBvYmVjbmllIHRhIGZ1bmtjam9uYWxub1x1MDE1Ylx1MDEwNyBwb3dpbmllbiB6b3N0YVx1MDEwNyBvc2lcdTAxMDVnbmlcdTAxMTl0eSB6YSBwb21vY1x1MDEwNSBTcGhlcmljYWwgTWVyY2F0b3IgaXRzIHVzZSB3YXMgZGVzaWduZWQgdG8gc3VwcG9ydCBkaXNwbGF5aW5nIGRhdGEgb3ZlciBjb21tZXJjaWFsLiBXaVx1MDExOWNqZSBpbmZvcm1hY2ppIG5hIHRlbiB0ZW1hdCBtb1x1MDE3Y2VzeiB6bmFsZVx1MDE3YVx1MDEwNyBuYSBzdHJvbmllIGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU3BoZXJpY2FsTWVyY2F0b3IuIiwKbWV0aG9kRGVwcmVjYXRlZDoiVGEgbWV0b2RhIGplc3QgcHJ6ZXN0YXJ6YVx1MDE0MmEgaSBiXHUwMTE5ZHppZSB1c3VuaVx1MDExOXRhIG9kIHdlcnNqaSAzLjAuIFcgemFtaWFuIHVcdTAxN2N5aiAke25ld01ldGhvZH0uIn0pO09wZW5MYXllcnMuRm9ybWF0LlNPU0NhcGFiaWxpdGllcz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTC5WZXJzaW9uZWRPR0Mse2RlZmF1bHRWZXJzaW9uOiIxLjAuMCIsQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuU09TQ2FwYWJpbGl0aWVzIn0pO09wZW5MYXllcnMuRm9ybWF0LlNPU0NhcGFiaWxpdGllcy52MV8wXzA9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5TT1NDYXBhYmlsaXRpZXMse25hbWVzcGFjZXM6e293czoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vd3MvMS4xIixzb3M6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvc29zLzEuMCIsZ21sOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbCIseGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsifSxyZWdFeGVzOnt0cmltU3BhY2U6L15ccyp8XHMqJC9nLHJlbW92ZVNwYWNlOi9ccyovZyxzcGxpdFNwYWNlOi9ccysvLHRyaW1Db21tYTovXHMqLFxzKi9nfSxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSk7dGhpcy5vcHRpb25zPWF9LHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PXR5cGVvZiBhJiYoYT1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcywKW2FdKSk7YSYmOT09YS5ub2RlVHlwZSYmKGE9YS5kb2N1bWVudEVsZW1lbnQpO3ZhciBiPXt9O3RoaXMucmVhZE5vZGUoYSxiKTtyZXR1cm4gYn0scmVhZGVyczp7Z21sOk9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtuYW1lOmZ1bmN0aW9uKGEsYil7Yi5uYW1lPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sVGltZVBlcmlvZDpmdW5jdGlvbihhLGIpe2IudGltZVBlcmlvZD17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi50aW1lUGVyaW9kKX0sYmVnaW5Qb3NpdGlvbjpmdW5jdGlvbihhLGIpe2IuYmVnaW5Qb3NpdGlvbj10aGlzLmdldENoaWxkVmFsdWUoYSl9LGVuZFBvc2l0aW9uOmZ1bmN0aW9uKGEsYil7Yi5lbmRQb3NpdGlvbj10aGlzLmdldENoaWxkVmFsdWUoYSl9fSxPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjMucHJvdG90eXBlLnJlYWRlcnMuZ21sKSxzb3M6e0NhcGFiaWxpdGllczpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sQ29udGVudHM6ZnVuY3Rpb24oYSwKYil7Yi5jb250ZW50cz17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5jb250ZW50cyl9LE9ic2VydmF0aW9uT2ZmZXJpbmdMaXN0OmZ1bmN0aW9uKGEsYil7Yi5vZmZlcmluZ0xpc3Q9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIub2ZmZXJpbmdMaXN0KX0sT2JzZXJ2YXRpb25PZmZlcmluZzpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0QXR0cmlidXRlTlMoYSx0aGlzLm5hbWVzcGFjZXMuZ21sLCJpZCIpO2JbY109e3Byb2NlZHVyZXM6W10sb2JzZXJ2ZWRQcm9wZXJ0aWVzOltdLGZlYXR1cmVPZkludGVyZXN0SWRzOltdLHJlc3BvbnNlRm9ybWF0czpbXSxyZXN1bHRNb2RlbHM6W10scmVzcG9uc2VNb2RlczpbXX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGJbY10pfSx0aW1lOmZ1bmN0aW9uKGEsYil7Yi50aW1lPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnRpbWUpfSxwcm9jZWR1cmU6ZnVuY3Rpb24oYSxiKXtiLnByb2NlZHVyZXMucHVzaCh0aGlzLmdldEF0dHJpYnV0ZU5TKGEsCnRoaXMubmFtZXNwYWNlcy54bGluaywiaHJlZiIpKX0sb2JzZXJ2ZWRQcm9wZXJ0eTpmdW5jdGlvbihhLGIpe2Iub2JzZXJ2ZWRQcm9wZXJ0aWVzLnB1c2godGhpcy5nZXRBdHRyaWJ1dGVOUyhhLHRoaXMubmFtZXNwYWNlcy54bGluaywiaHJlZiIpKX0sZmVhdHVyZU9mSW50ZXJlc3Q6ZnVuY3Rpb24oYSxiKXtiLmZlYXR1cmVPZkludGVyZXN0SWRzLnB1c2godGhpcy5nZXRBdHRyaWJ1dGVOUyhhLHRoaXMubmFtZXNwYWNlcy54bGluaywiaHJlZiIpKX0scmVzcG9uc2VGb3JtYXQ6ZnVuY3Rpb24oYSxiKXtiLnJlc3BvbnNlRm9ybWF0cy5wdXNoKHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSl9LHJlc3VsdE1vZGVsOmZ1bmN0aW9uKGEsYil7Yi5yZXN1bHRNb2RlbHMucHVzaCh0aGlzLmdldENoaWxkVmFsdWUoYSkpfSxyZXNwb25zZU1vZGU6ZnVuY3Rpb24oYSxiKXtiLnJlc3BvbnNlTW9kZXMucHVzaCh0aGlzLmdldENoaWxkVmFsdWUoYSkpfX0sb3dzOk9wZW5MYXllcnMuRm9ybWF0Lk9XU0NvbW1vbi52MV8xXzAucHJvdG90eXBlLnJlYWRlcnMub3dzfSwKQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuU09TQ2FwYWJpbGl0aWVzLnYxXzBfMCJ9KTtPcGVuTGF5ZXJzLkxhbmcuYXI9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe1Blcm1hbGluazoiXHUwNjQ4XHUwNjM1XHUwNjQ0XHUwNjI5IFx1MDYyZlx1MDYyN1x1MDYyNlx1MDY0NVx1MDYyOSIsIkJhc2UgTGF5ZXIiOiJcdTA2MjdcdTA2NDRcdTA2MzdcdTA2MjhcdTA2NDJcdTA2MjkgXHUwNjI3XHUwNjQ0XHUwNjI3XHUwNjMzXHUwNjI3XHUwNjMzXHUwNjRhXHUwNjI5IiwiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6Ilx1MDYyN1x1MDY0NFx1MDY0Nlx1MDYzM1x1MDYyOFx1MDYyOSA9IDEgOiAke3NjYWxlRGVub219IixXOiJcdTA2M2EiLEU6Ilx1MDYzNFx1MDYzMSIsTjoiXHUwNjM0XHUwNjQ1IixTOiJcdTA2MmMifSk7T3BlbkxheWVycy5IYW5kbGVyLlBpbmNoPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5IYW5kbGVyLHtzdGFydGVkOiExLHN0b3BEb3duOiExLHBpbmNoaW5nOiExLGxhc3Q6bnVsbCxzdGFydDpudWxsLHRvdWNoc3RhcnQ6ZnVuY3Rpb24oYSl7dmFyIGI9ITA7dGhpcy5waW5jaGluZz0hMTtpZihPcGVuTGF5ZXJzLkV2ZW50LmlzTXVsdGlUb3VjaChhKSl0aGlzLnN0YXJ0ZWQ9ITAsdGhpcy5sYXN0PXRoaXMuc3RhcnQ9e2Rpc3RhbmNlOnRoaXMuZ2V0RGlzdGFuY2UoYS50b3VjaGVzKSxkZWx0YTowLHNjYWxlOjF9LHRoaXMuY2FsbGJhY2soInN0YXJ0IixbYSx0aGlzLnN0YXJ0XSksYj0hdGhpcy5zdG9wRG93bjtlbHNle2lmKHRoaXMuc3RhcnRlZClyZXR1cm4hMTt0aGlzLnN0YXJ0ZWQ9ITE7dGhpcy5sYXN0PXRoaXMuc3RhcnQ9bnVsbH1PcGVuTGF5ZXJzLkV2ZW50LnByZXZlbnREZWZhdWx0KGEpO3JldHVybiBifSx0b3VjaG1vdmU6ZnVuY3Rpb24oYSl7aWYodGhpcy5zdGFydGVkJiYKT3BlbkxheWVycy5FdmVudC5pc011bHRpVG91Y2goYSkpe3RoaXMucGluY2hpbmc9ITA7dmFyIGI9dGhpcy5nZXRQaW5jaERhdGEoYSk7dGhpcy5jYWxsYmFjaygibW92ZSIsW2EsYl0pO3RoaXMubGFzdD1iO09wZW5MYXllcnMuRXZlbnQuc3RvcChhKX1lbHNlIGlmKHRoaXMuc3RhcnRlZClyZXR1cm4hMTtyZXR1cm4hMH0sdG91Y2hlbmQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc3RhcnRlZCYmIU9wZW5MYXllcnMuRXZlbnQuaXNNdWx0aVRvdWNoKGEpPyh0aGlzLnBpbmNoaW5nPXRoaXMuc3RhcnRlZD0hMSx0aGlzLmNhbGxiYWNrKCJkb25lIixbYSx0aGlzLnN0YXJ0LHRoaXMubGFzdF0pLHRoaXMubGFzdD10aGlzLnN0YXJ0PW51bGwsITEpOiEwfSxhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPSExO09wZW5MYXllcnMuSGFuZGxlci5wcm90b3R5cGUuYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpJiYodGhpcy5waW5jaGluZz0hMSxhPSEwKTtyZXR1cm4gYX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPQohMTtPcGVuTGF5ZXJzLkhhbmRsZXIucHJvdG90eXBlLmRlYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpJiYodGhpcy5waW5jaGluZz10aGlzLnN0YXJ0ZWQ9ITEsdGhpcy5sYXN0PXRoaXMuc3RhcnQ9bnVsbCxhPSEwKTtyZXR1cm4gYX0sZ2V0RGlzdGFuY2U6ZnVuY3Rpb24oYSl7dmFyIGI9YVswXSxhPWFbMV07cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhiLm9sQ2xpZW50WC1hLm9sQ2xpZW50WCwyKStNYXRoLnBvdyhiLm9sQ2xpZW50WS1hLm9sQ2xpZW50WSwyKSl9LGdldFBpbmNoRGF0YTpmdW5jdGlvbihhKXthPXRoaXMuZ2V0RGlzdGFuY2UoYS50b3VjaGVzKTtyZXR1cm57ZGlzdGFuY2U6YSxkZWx0YTp0aGlzLmxhc3QuZGlzdGFuY2UtYSxzY2FsZTphL3RoaXMuc3RhcnQuZGlzdGFuY2V9fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkhhbmRsZXIuUGluY2gifSk7T3BlbkxheWVycy5MYW5nLmx0PU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHt1bmhhbmRsZWRSZXF1ZXN0OiJOZWFwZG9yb3RhIHVcdTAxN2VrbGF1c2EgZ3JhXHUwMTdlaW5vICR7c3RhdHVzVGV4dH0iLFBlcm1hbGluazoiUGFzdG92aSBudW9yb2RhIixPdmVybGF5czoiUGFwaWxkb21pIHNsdW9rc25pYWkiLCJCYXNlIExheWVyIjoiUGFncmluZGluaXMgc2x1b2tzbmlzIixub0ZJRDoiTmVnYWxpdSBhdG5hdWppbnRpIG9iamVrdG8sIGt1cmlzIG5ldHVyaSBGSUQuIixicm93c2VyTm90U3VwcG9ydGVkOiJKXHUwMTZic1x1MDE3MyBuYXJcdTAxNjF5a2xcdTAxMTcgbmVtb2thIHBhcm9keXRpIHZla3RvcmlcdTAxNzMuIFx1MDE2MGl1byBtZXR1IGdhbGltYSBuYXVkb3RpcyB0b2tpYWlzIHJvZHltbyB2YXJpa2xpYWlzOlxue3JlbmRlcmVyc30iLGNvbW1pdFN1Y2Nlc3M6IldGUyBUcmFuemFrY2lqYTogUEFWWUtPICR7cmVzcG9uc2V9Iixjb21taXRGYWlsZWQ6IldGUyBUcmFuemFrY2lqYTogXHUwMTdkTFVHTyAke3Jlc3BvbnNlfSIsCiJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiTWFzdGVsaXMgPSAxIDogJHtzY2FsZURlbm9tfSIsVzoiViIsRToiUiIsTjoiXHUwMTYwIixTOiJQIixHcmF0aWN1bGU6IlRpbmtsZWxpcyIsbWV0aG9kRGVwcmVjYXRlZDoiXHUwMTYwaXMgbWV0b2RhcyB5cmEgcGFzZW5cdTAxMTlzIGlyIDMuMCB2ZXJzaWpvamUgYnVzIHBhXHUwMTYxYWxpbnRhcy4gUHJhXHUwMTYxb21lIG5hdWRvdGkgJHtuZXdNZXRob2R9LiIsZW5kOiIifSk7T3BlbkxheWVycy5MYXllci5PU009T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkxheWVyLlhZWix7bmFtZToiT3BlblN0cmVldE1hcCIsdXJsOlsiaHR0cDovL2EudGlsZS5vcGVuc3RyZWV0bWFwLm9yZy8ke3p9LyR7eH0vJHt5fS5wbmciLCJodHRwOi8vYi50aWxlLm9wZW5zdHJlZXRtYXAub3JnLyR7en0vJHt4fS8ke3l9LnBuZyIsImh0dHA6Ly9jLnRpbGUub3BlbnN0cmVldG1hcC5vcmcvJHt6fS8ke3h9LyR7eX0ucG5nIl0sYXR0cmlidXRpb246IiZjb3B5OyA8YSBocmVmPSdodHRwOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2NvcHlyaWdodCc+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzIixzcGhlcmljYWxNZXJjYXRvcjohMCx3cmFwRGF0ZUxpbmU6ITAsdGlsZU9wdGlvbnM6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjKXtPcGVuTGF5ZXJzLkxheWVyLlhZWi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy50aWxlT3B0aW9ucz0KT3BlbkxheWVycy5VdGlsLmV4dGVuZCh7Y3Jvc3NPcmlnaW5LZXl3b3JkOiJhbm9ueW1vdXMifSx0aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy50aWxlT3B0aW9ucyl9LGNsb25lOmZ1bmN0aW9uKGEpe251bGw9PWEmJihhPW5ldyBPcGVuTGF5ZXJzLkxheWVyLk9TTSh0aGlzLm5hbWUsdGhpcy51cmwsdGhpcy5nZXRPcHRpb25zKCkpKTtyZXR1cm4gYT1PcGVuTGF5ZXJzLkxheWVyLlhZWi5wcm90b3R5cGUuY2xvbmUuYXBwbHkodGhpcyxbYV0pfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLk9TTSJ9KTtPcGVuTGF5ZXJzLkxhbmcuY2E9e3VuaGFuZGxlZFJlcXVlc3Q6IlJlc3Bvc3RhIGEgcGV0aWNpXHUwMGYzIG5vIGdlc3Rpb25hZGEgJHtzdGF0dXNUZXh0fSIsUGVybWFsaW5rOiJFbmxsYVx1MDBlNyBwZXJtYW5lbnQiLE92ZXJsYXlzOiJDYXBlcyBhZGRpY2lvbmFscyIsIkJhc2UgTGF5ZXIiOiJDYXBhIEJhc2UiLG5vRklEOiJObyBlcyBwb3QgYWN0dWFsaXR6YXIgdW4gZWxlbWVudCBwZXIgYWwgcXVlIG5vIGV4aXN0ZWl4IEZJRC4iLGJyb3dzZXJOb3RTdXBwb3J0ZWQ6IkVsIHNldSBuYXZlZ2Fkb3Igbm8gc3Vwb3J0YSByZW5kZXJpdHphY2lcdTAwZjMgdmVjdG9yaWFsLiBFbHMgcmVuZGVyaXR6YWRvcnMgc3Vwb3J0YXRzIGFjdHVhbG1lbnQgc1x1MDBmM246XG4ke3JlbmRlcmVyc30iLG1pblpvb21MZXZlbEVycm9yOiJMYSBwcm9waWV0YXQgbWluWm9vbUxldmVsIHMnaGEgZCd1dGlsaXR6YXIgbm9tXHUwMGU5cyBhbWIgbGVzIGNhcGVzIHF1ZSB0ZW5lbiBGaXhlZFpvb21MZXZlbHMuIEVsIGZldCBxdWUgdW5hIGNhcGEgd2ZzIGNvbXByb3ZpIG1pblpvb21MZXZlbCBcdTAwZTlzIHVuYSByZWxcdTAwZWRxdWlhIGRlbCBwYXNzYXQuIE5vIHBvZGVtLCBwZXJcdTAwZjIsIGVsaW1pbmFyLWxhIHNlbnNlIHRyZW5jYXIgbGVzIGFwbGljYWNpb25zIGQnT3BlbkxheWVycyBxdWUgZW4gcHVndWluIGRlcGVuZHJlLiBBaXhcdTAwZWQgZG9uY3MgZXN0ZW0gZmVudC1sYSBvYnNvbGV0YSAtLSBsYSBjb21wcm92YWNpXHUwMGYzIG1pblpvb21MZXZlbCBzJ2VsaW1pbmFyXHUwMGUwIGEgbGEgdmVyc2lcdTAwZjMgMy4wLiBGZXUgc2VydmlyIGVscyBwYXJcdTAwZTBtZXRyZXMgbWluL21heCByZXNvbHV0aW9uIGVuIHN1YnN0aXR1Y2lcdTAwZjMsIHRhbCBjb20gZXMgZGVzY3JpdSBhcXVcdTAwZWQ6IGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU2V0dGluZ1pvb21MZXZlbHMiLApjb21taXRTdWNjZXNzOiJUcmFuc2FjY2lcdTAwZjMgV0ZTOiBDT1JSRUNUQSAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJUcmFuc2FjY2lcdTAwZjMgV0ZTOiBIQSBGQUxMQVQgJHtyZXNwb25zZX0iLGdvb2dsZVdhcm5pbmc6IkxhIGNhcGEgR29vZ2xlIG5vIHMnaGEgcG9ndXQgY2FycmVnYXIgY29ycmVjdGFtZW50Ljxicj48YnI+UGVyIGV2aXRhciBhcXVlc3QgbWlzc2F0Z2UsIHNlbGVjY2lvbmV1IHVuYSBub3ZhIENhcGEgQmFzZSBhbCBnZXN0b3IgZGUgY2FwZXMgZGUgbGEgY2FudG9uYWRhIHN1cGVyaW9yIGRyZXRhLjxicj48YnI+UHJvYmFibGVtZW50IGFpeFx1MDBmMiBcdTAwZTlzIGRlZ3V0IGEgcXVlIGwnc2NyaXB0IGRlIGxhIGJpYmxpb3RlY2EgZGUgR29vZ2xlIE1hcHMgbm8gaGEgZXN0YXQgaW5jbFx1MDBmMnMgYSBsYSB2b3N0cmEgcFx1MDBlMGdpbmEsIG8gbm8gY29udFx1MDBlOSBsYSBjbGF1IGRlIGwnQVBJIGNvcnJlY3RhIHBlciBhIGxhIHZvc3RyYSBhZHJlXHUwMGU3YS48YnI+PGJyPkRlc2Vudm9sdXBhZG9yczogUGVyIG9idGVuaXIgY29uc2VsbHMgc29icmUgY29tIGZlciBhbmFyIGFpeFx1MDBmMiwgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9Hb29nbGUnIHRhcmdldD0nX2JsYW5rJz5mXHUwMGU5dSBjbGljIGFxdVx1MDBlZDwvYT4iLApnZXRMYXllcldhcm5pbmc6IlBlciBldml0YXIgYXF1ZXN0IG1pc3NhdGdlLCBzZWxlY2Npb25ldSB1bmEgbm92YSBDYXBhIEJhc2UgYWwgZ2VzdG9yIGRlIGNhcGVzIGRlIGxhIGNhbnRvbmFkYSBzdXBlcmlvciBkcmV0YS48YnI+PGJyPlByb2JhYmxlbWVudCBhaXhcdTAwZjIgXHUwMGU5cyBkZWd1dCBhIHF1ZSBsJ3NjcmlwdCBkZSBsYSBiaWJsaW90ZWNhICR7bGF5ZXJMaWJ9IG5vIGhhIGVzdGF0IGluY2xcdTAwZjJzIGEgbGEgdm9zdHJhIHBcdTAwZTBnaW5hLjxicj48YnI+RGVzZW52b2x1cGFkb3JzOiBQZXIgb2J0ZW5pciBjb25zZWxscyBzb2JyZSBjb20gZmVyIGFuYXIgYWl4XHUwMGYyLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+Zlx1MDBlOXUgY2xpYyBhcXVcdTAwZWQ8L2E+IiwiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6IkVzY2FsYSA9IDEgOiAke3NjYWxlRGVub219IixXOiJPIiwKRToiRSIsTjoiTiIsUzoiUyIsR3JhdGljdWxlOiJSZXRcdTAwZWRjdWxhIixyZXByb2plY3REZXByZWNhdGVkOiJFc3RldSBmZW50IHNlcnZpciBsJ29wY2lcdTAwZjMgJ3JlcHJvamVjdCcgYSBsYSBjYXBhICR7bGF5ZXJOYW1lfS4gQXF1ZXN0YSBvcGNpXHUwMGYzIFx1MDBlOXMgb2Jzb2xldGE6IGVsIHNldSBcdTAwZmFzIGZvdSBjb25jZWJ1dCBwZXIgc3Vwb3J0YXIgbGEgdmlzdWFsaXR6YWNpXHUwMGYzIGRlIGRhZGVzIHNvYnJlIG1hcGVzIGJhc2UgY29tZXJjaWFscywgcGVyXHUwMGYyIGFyYSBhcXVlc3RhIGZ1bmNpb25hbGl0YXQgcydoYXVyaWEgZCdhc3NvbGlyIG1pdGphblx1MDBlN2FudCBlbCBzdXBvcnQgZGUgbGEgcHJvamVjY2lcdTAwZjMgU3BoZXJpY2FsIE1lcmNhdG9yLiBNXHUwMGU5cyBpbmZvcm1hY2lcdTAwZjMgZGlzcG9uaWJsZSBhIGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU3BoZXJpY2FsTWVyY2F0b3IuIixtZXRob2REZXByZWNhdGVkOiJBcXVlc3QgbVx1MDBlOHRvZGUgXHUwMGU5cyBvYnNvbGV0IGkgcydlbGltaW5hclx1MDBlMCBhIGxhIHZlcnNpXHUwMGYzIDMuMC4gU2kgdXMgcGxhdSBmZXUgc2VydmlyIGVtIG1cdTAwZTh0b2RlIGFsdGVybmF0aXUgJHtuZXdNZXRob2R9LiIsCmVuZDoiIn07T3BlbkxheWVycy5TdHJhdGVneS5SZWZyZXNoPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5TdHJhdGVneSx7Zm9yY2U6ITEsaW50ZXJ2YWw6MCx0aW1lcjpudWxsLGFjdGl2YXRlOmZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5TdHJhdGVneS5wcm90b3R5cGUuYWN0aXZhdGUuY2FsbCh0aGlzKTthJiYoITA9PT10aGlzLmxheWVyLnZpc2liaWxpdHkmJnRoaXMuc3RhcnQoKSx0aGlzLmxheWVyLmV2ZW50cy5vbih7dmlzaWJpbGl0eWNoYW5nZWQ6dGhpcy5yZXNldCxzY29wZTp0aGlzfSkpO3JldHVybiBhfSxkZWFjdGl2YXRlOmZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5TdHJhdGVneS5wcm90b3R5cGUuZGVhY3RpdmF0ZS5jYWxsKHRoaXMpO2EmJih0aGlzLnN0b3AoKSx0aGlzLmxheWVyLmV2ZW50cy51bih7dmlzaWJpbGl0eWNoYW5nZWQ6dGhpcy5yZXNldCxzY29wZTp0aGlzfSkpO3JldHVybiBhfSxyZXNldDpmdW5jdGlvbigpeyEwPT09dGhpcy5sYXllci52aXNpYmlsaXR5Pwp0aGlzLnN0YXJ0KCk6dGhpcy5zdG9wKCl9LHN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5pbnRlcnZhbCYmKCJudW1iZXIiPT09dHlwZW9mIHRoaXMuaW50ZXJ2YWwmJjA8dGhpcy5pbnRlcnZhbCkmJih0aGlzLnRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbChPcGVuTGF5ZXJzLkZ1bmN0aW9uLmJpbmQodGhpcy5yZWZyZXNoLHRoaXMpLHRoaXMuaW50ZXJ2YWwpKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMubGF5ZXImJih0aGlzLmxheWVyLnJlZnJlc2gmJiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLmxheWVyLnJlZnJlc2gpJiZ0aGlzLmxheWVyLnJlZnJlc2goe2ZvcmNlOnRoaXMuZm9yY2V9KX0sc3RvcDpmdW5jdGlvbigpe251bGwhPT10aGlzLnRpbWVyJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy50aW1lciksdGhpcy50aW1lcj1udWxsKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5TdHJhdGVneS5SZWZyZXNoIn0pO09wZW5MYXllcnMuTGF5ZXIuQXJjR0lTOTNSZXN0PU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllci5HcmlkLHtERUZBVUxUX1BBUkFNUzp7Zm9ybWF0OiJwbmcifSxpc0Jhc2VMYXllcjohMCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPVtdLGM9T3BlbkxheWVycy5VdGlsLnVwcGVyQ2FzZU9iamVjdChjKTtlLnB1c2goYSxiLGMsZCk7T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsZSk7T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHModGhpcy5wYXJhbXMsT3BlbkxheWVycy5VdGlsLnVwcGVyQ2FzZU9iamVjdCh0aGlzLkRFRkFVTFRfUEFSQU1TKSk7aWYodGhpcy5wYXJhbXMuVFJBTlNQQVJFTlQmJiJ0cnVlIj09dGhpcy5wYXJhbXMuVFJBTlNQQVJFTlQudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpKXtpZihudWxsPT1kfHwhZC5pc0Jhc2VMYXllcil0aGlzLmlzQmFzZUxheWVyPSExOyJqcGciPT10aGlzLnBhcmFtcy5GT1JNQVQmJgoodGhpcy5wYXJhbXMuRk9STUFUPU9wZW5MYXllcnMuVXRpbC5hbHBoYUhhY2soKT8iZ2lmIjoicG5nIil9fSxjbG9uZTpmdW5jdGlvbihhKXtudWxsPT1hJiYoYT1uZXcgT3BlbkxheWVycy5MYXllci5BcmNHSVM5M1Jlc3QodGhpcy5uYW1lLHRoaXMudXJsLHRoaXMucGFyYW1zLHRoaXMuZ2V0T3B0aW9ucygpKSk7cmV0dXJuIGE9T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5jbG9uZS5hcHBseSh0aGlzLFthXSl9LGdldFVSTDpmdW5jdGlvbihhKXt2YXIgYT10aGlzLmFkanVzdEJvdW5kcyhhKSxiPXRoaXMucHJvamVjdGlvbi5nZXRDb2RlKCkuc3BsaXQoIjoiKSxiPWJbYi5sZW5ndGgtMV0sYz10aGlzLmdldEltYWdlU2l6ZShhKSxhPXtCQk9YOmEudG9CQk9YKCksU0laRTpjLncrIiwiK2MuaCxGOiJpbWFnZSIsQkJPWFNSOmIsSU1BR0VTUjpifTtpZih0aGlzLmxheWVyRGVmcyl7dmFyIGI9W10sZDtmb3IoZCBpbiB0aGlzLmxheWVyRGVmcyl0aGlzLmxheWVyRGVmcy5oYXNPd25Qcm9wZXJ0eShkKSYmCnRoaXMubGF5ZXJEZWZzW2RdJiYoYi5wdXNoKGQpLGIucHVzaCgiOiIpLGIucHVzaCh0aGlzLmxheWVyRGVmc1tkXSksYi5wdXNoKCI7IikpOzA8Yi5sZW5ndGgmJihhLkxBWUVSREVGUz1iLmpvaW4oIiIpKX1yZXR1cm4gdGhpcy5nZXRGdWxsUmVxdWVzdFN0cmluZyhhKX0sc2V0TGF5ZXJGaWx0ZXI6ZnVuY3Rpb24oYSxiKXt0aGlzLmxheWVyRGVmc3x8KHRoaXMubGF5ZXJEZWZzPXt9KTtiP3RoaXMubGF5ZXJEZWZzW2FdPWI6ZGVsZXRlIHRoaXMubGF5ZXJEZWZzW2FdfSxjbGVhckxheWVyRmlsdGVyOmZ1bmN0aW9uKGEpe2E/ZGVsZXRlIHRoaXMubGF5ZXJEZWZzW2FdOmRlbGV0ZSB0aGlzLmxheWVyRGVmc30sbWVyZ2VOZXdQYXJhbXM6ZnVuY3Rpb24oYSl7YT1bT3BlbkxheWVycy5VdGlsLnVwcGVyQ2FzZU9iamVjdChhKV07cmV0dXJuIE9wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUubWVyZ2VOZXdQYXJhbXMuYXBwbHkodGhpcyxhKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5BcmNHSVM5M1Jlc3QifSk7T3BlbkxheWVycy5IYW5kbGVyLkhvdmVyPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5IYW5kbGVyLHtkZWxheTo1MDAscGl4ZWxUb2xlcmFuY2U6bnVsbCxzdG9wTW92ZTohMSxweDpudWxsLHRpbWVySWQ6bnVsbCxtb3VzZW1vdmU6ZnVuY3Rpb24oYSl7dGhpcy5wYXNzZXNUb2xlcmFuY2UoYS54eSkmJih0aGlzLmNsZWFyVGltZXIoKSx0aGlzLmNhbGxiYWNrKCJtb3ZlIixbYV0pLHRoaXMucHg9YS54eSxhPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe30sYSksdGhpcy50aW1lcklkPXdpbmRvdy5zZXRUaW1lb3V0KE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZCh0aGlzLmRlbGF5ZWRDYWxsLHRoaXMsYSksdGhpcy5kZWxheSkpO3JldHVybiF0aGlzLnN0b3BNb3ZlfSxtb3VzZW91dDpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlV0aWwubW91c2VMZWZ0KGEsdGhpcy5tYXAudmlld1BvcnREaXYpJiYodGhpcy5jbGVhclRpbWVyKCksdGhpcy5jYWxsYmFjaygibW92ZSIsW2FdKSk7cmV0dXJuITB9LApwYXNzZXNUb2xlcmFuY2U6ZnVuY3Rpb24oYSl7dmFyIGI9ITA7dGhpcy5waXhlbFRvbGVyYW5jZSYmdGhpcy5weCYmTWF0aC5zcXJ0KE1hdGgucG93KHRoaXMucHgueC1hLngsMikrTWF0aC5wb3codGhpcy5weC55LWEueSwyKSk8dGhpcy5waXhlbFRvbGVyYW5jZSYmKGI9ITEpO3JldHVybiBifSxjbGVhclRpbWVyOmZ1bmN0aW9uKCl7bnVsbCE9dGhpcy50aW1lcklkJiYod2luZG93LmNsZWFyVGltZW91dCh0aGlzLnRpbWVySWQpLHRoaXMudGltZXJJZD1udWxsKX0sZGVsYXllZENhbGw6ZnVuY3Rpb24oYSl7dGhpcy5jYWxsYmFjaygicGF1c2UiLFthXSl9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgYT0hMTtPcGVuTGF5ZXJzLkhhbmRsZXIucHJvdG90eXBlLmRlYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpJiYodGhpcy5jbGVhclRpbWVyKCksYT0hMCk7cmV0dXJuIGF9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuSGFuZGxlci5Ib3ZlciJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuR2V0RmVhdHVyZT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbCx7cHJvdG9jb2w6bnVsbCxtdWx0aXBsZUtleTpudWxsLHRvZ2dsZUtleTpudWxsLG1vZGlmaWVyczpudWxsLG11bHRpcGxlOiExLGNsaWNrOiEwLHNpbmdsZTohMCxjbGlja291dDohMCx0b2dnbGU6ITEsY2xpY2tUb2xlcmFuY2U6NSxob3ZlcjohMSxib3g6ITEsbWF4RmVhdHVyZXM6MTAsZmVhdHVyZXM6bnVsbCxob3ZlckZlYXR1cmU6bnVsbCxoYW5kbGVyczpudWxsLGhvdmVyUmVzcG9uc2U6bnVsbCxmaWx0ZXJUeXBlOk9wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwuQkJPWCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe2EuaGFuZGxlck9wdGlvbnM9YS5oYW5kbGVyT3B0aW9uc3x8e307T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKTt0aGlzLmZlYXR1cmVzPXt9O3RoaXMuaGFuZGxlcnM9e307dGhpcy5jbGljayYmKHRoaXMuaGFuZGxlcnMuY2xpY2s9Cm5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuQ2xpY2sodGhpcyx7Y2xpY2s6dGhpcy5zZWxlY3RDbGlja30sdGhpcy5oYW5kbGVyT3B0aW9ucy5jbGlja3x8e30pKTt0aGlzLmJveCYmKHRoaXMuaGFuZGxlcnMuYm94PW5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuQm94KHRoaXMse2RvbmU6dGhpcy5zZWxlY3RCb3h9LE9wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcy5oYW5kbGVyT3B0aW9ucy5ib3gse2JveERpdkNsYXNzTmFtZToib2xIYW5kbGVyQm94U2VsZWN0RmVhdHVyZSJ9KSkpO3RoaXMuaG92ZXImJih0aGlzLmhhbmRsZXJzLmhvdmVyPW5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuSG92ZXIodGhpcyx7bW92ZTp0aGlzLmNhbmNlbEhvdmVyLHBhdXNlOnRoaXMuc2VsZWN0SG92ZXJ9LE9wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcy5oYW5kbGVyT3B0aW9ucy5ob3Zlcix7ZGVsYXk6MjUwLHBpeGVsVG9sZXJhbmNlOjJ9KSkpfSxhY3RpdmF0ZTpmdW5jdGlvbigpe2lmKCF0aGlzLmFjdGl2ZSlmb3IodmFyIGEgaW4gdGhpcy5oYW5kbGVycyl0aGlzLmhhbmRsZXJzW2FdLmFjdGl2YXRlKCk7CnJldHVybiBPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmFjdGl2YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe2lmKHRoaXMuYWN0aXZlKWZvcih2YXIgYSBpbiB0aGlzLmhhbmRsZXJzKXRoaXMuaGFuZGxlcnNbYV0uZGVhY3RpdmF0ZSgpO3JldHVybiBPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzZWxlY3RDbGljazpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnBpeGVsVG9Cb3VuZHMoYS54eSk7dGhpcy5zZXRNb2RpZmllcnMoYSk7dGhpcy5yZXF1ZXN0KGIse3NpbmdsZTp0aGlzLnNpbmdsZX0pfSxzZWxlY3RCb3g6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoYSBpbnN0YW5jZW9mIE9wZW5MYXllcnMuQm91bmRzKWI9dGhpcy5tYXAuZ2V0TG9uTGF0RnJvbVBpeGVsKHt4OmEubGVmdCx5OmEuYm90dG9tfSksYT10aGlzLm1hcC5nZXRMb25MYXRGcm9tUGl4ZWwoe3g6YS5yaWdodCwKeTphLnRvcH0pLGI9bmV3IE9wZW5MYXllcnMuQm91bmRzKGIubG9uLGIubGF0LGEubG9uLGEubGF0KTtlbHNle2lmKHRoaXMuY2xpY2spcmV0dXJuO2I9dGhpcy5waXhlbFRvQm91bmRzKGEpfXRoaXMuc2V0TW9kaWZpZXJzKHRoaXMuaGFuZGxlcnMuYm94LmRyYWdIYW5kbGVyLmV2dCk7dGhpcy5yZXF1ZXN0KGIpfSxzZWxlY3RIb3ZlcjpmdW5jdGlvbihhKXthPXRoaXMucGl4ZWxUb0JvdW5kcyhhLnh5KTt0aGlzLnJlcXVlc3QoYSx7c2luZ2xlOiEwLGhvdmVyOiEwfSl9LGNhbmNlbEhvdmVyOmZ1bmN0aW9uKCl7dGhpcy5ob3ZlclJlc3BvbnNlJiYodGhpcy5wcm90b2NvbC5hYm9ydCh0aGlzLmhvdmVyUmVzcG9uc2UpLHRoaXMuaG92ZXJSZXNwb25zZT1udWxsLE9wZW5MYXllcnMuRWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm1hcC52aWV3UG9ydERpdiwib2xDdXJzb3JXYWl0IikpfSxyZXF1ZXN0OmZ1bmN0aW9uKGEsYil7dmFyIGI9Ynx8e30sYz1uZXcgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbCh7dHlwZTp0aGlzLmZpbHRlclR5cGUsCnZhbHVlOmF9KTtPcGVuTGF5ZXJzLkVsZW1lbnQuYWRkQ2xhc3ModGhpcy5tYXAudmlld1BvcnREaXYsIm9sQ3Vyc29yV2FpdCIpO2M9dGhpcy5wcm90b2NvbC5yZWFkKHttYXhGZWF0dXJlczohMD09Yi5zaW5nbGU/dGhpcy5tYXhGZWF0dXJlczp2b2lkIDAsZmlsdGVyOmMsY2FsbGJhY2s6ZnVuY3Rpb24oYyl7Yy5zdWNjZXNzKCkmJihjLmZlYXR1cmVzLmxlbmd0aD8hMD09Yi5zaW5nbGU/dGhpcy5zZWxlY3RCZXN0RmVhdHVyZShjLmZlYXR1cmVzLGEuZ2V0Q2VudGVyTG9uTGF0KCksYik6dGhpcy5zZWxlY3QoYy5mZWF0dXJlcyk6Yi5ob3Zlcj90aGlzLmhvdmVyU2VsZWN0KCk6KHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiY2xpY2tvdXQiKSx0aGlzLmNsaWNrb3V0JiZ0aGlzLnVuc2VsZWN0QWxsKCkpKTtPcGVuTGF5ZXJzLkVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5tYXAudmlld1BvcnREaXYsIm9sQ3Vyc29yV2FpdCIpfSxzY29wZTp0aGlzfSk7ITA9PWIuaG92ZXImJih0aGlzLmhvdmVyUmVzcG9uc2U9CmMpfSxzZWxlY3RCZXN0RmVhdHVyZTpmdW5jdGlvbihhLGIsYyl7Yz1jfHx7fTtpZihhLmxlbmd0aCl7Zm9yKHZhciBiPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGIubG9uLGIubGF0KSxkLGUsZixnPU51bWJlci5NQVhfVkFMVUUsaD0wO2g8YS5sZW5ndGgmJiEoZD1hW2hdLGQuZ2VvbWV0cnkmJihmPWIuZGlzdGFuY2VUbyhkLmdlb21ldHJ5LHtlZGdlOiExfSksZjxnJiYoZz1mLGU9ZCwwPT1nKSkpOysraCk7ITA9PWMuaG92ZXI/dGhpcy5ob3ZlclNlbGVjdChlKTp0aGlzLnNlbGVjdChlfHxhKX19LHNldE1vZGlmaWVyczpmdW5jdGlvbihhKXt0aGlzLm1vZGlmaWVycz17bXVsdGlwbGU6dGhpcy5tdWx0aXBsZXx8dGhpcy5tdWx0aXBsZUtleSYmYVt0aGlzLm11bHRpcGxlS2V5XSx0b2dnbGU6dGhpcy50b2dnbGV8fHRoaXMudG9nZ2xlS2V5JiZhW3RoaXMudG9nZ2xlS2V5XX19LHNlbGVjdDpmdW5jdGlvbihhKXshdGhpcy5tb2RpZmllcnMubXVsdGlwbGUmJiF0aGlzLm1vZGlmaWVycy50b2dnbGUmJgp0aGlzLnVuc2VsZWN0QWxsKCk7T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSl8fChhPVthXSk7dmFyIGI9dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJiZWZvcmVmZWF0dXJlc3NlbGVjdGVkIix7ZmVhdHVyZXM6YX0pO2lmKCExIT09Yil7Zm9yKHZhciBjPVtdLGQsZT0wLGY9YS5sZW5ndGg7ZTxmOysrZSlkPWFbZV0sdGhpcy5mZWF0dXJlc1tkLmZpZHx8ZC5pZF0/dGhpcy5tb2RpZmllcnMudG9nZ2xlJiZ0aGlzLnVuc2VsZWN0KHRoaXMuZmVhdHVyZXNbZC5maWR8fGQuaWRdKTooYj10aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImJlZm9yZWZlYXR1cmVzZWxlY3RlZCIse2ZlYXR1cmU6ZH0pLCExIT09YiYmKHRoaXMuZmVhdHVyZXNbZC5maWR8fGQuaWRdPWQsYy5wdXNoKGQpLHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiZmVhdHVyZXNlbGVjdGVkIix7ZmVhdHVyZTpkfSkpKTt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImZlYXR1cmVzc2VsZWN0ZWQiLHtmZWF0dXJlczpjfSl9fSwKaG92ZXJTZWxlY3Q6ZnVuY3Rpb24oYSl7dmFyIGI9YT9hLmZpZHx8YS5pZDpudWxsLGM9dGhpcy5ob3ZlckZlYXR1cmU/dGhpcy5ob3ZlckZlYXR1cmUuZmlkfHx0aGlzLmhvdmVyRmVhdHVyZS5pZDpudWxsO2MmJmMhPWImJih0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoIm91dGZlYXR1cmUiLHtmZWF0dXJlOnRoaXMuaG92ZXJGZWF0dXJlfSksdGhpcy5ob3ZlckZlYXR1cmU9bnVsbCk7YiYmYiE9YyYmKHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiaG92ZXJmZWF0dXJlIix7ZmVhdHVyZTphfSksdGhpcy5ob3ZlckZlYXR1cmU9YSl9LHVuc2VsZWN0OmZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLmZlYXR1cmVzW2EuZmlkfHxhLmlkXTt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImZlYXR1cmV1bnNlbGVjdGVkIix7ZmVhdHVyZTphfSl9LHVuc2VsZWN0QWxsOmZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuZmVhdHVyZXMpdGhpcy51bnNlbGVjdCh0aGlzLmZlYXR1cmVzW2FdKX0sCnNldE1hcDpmdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gdGhpcy5oYW5kbGVycyl0aGlzLmhhbmRsZXJzW2JdLnNldE1hcChhKTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLnNldE1hcC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHBpeGVsVG9Cb3VuZHM6ZnVuY3Rpb24oYSl7dmFyIGI9YS5hZGQoLXRoaXMuY2xpY2tUb2xlcmFuY2UvMix0aGlzLmNsaWNrVG9sZXJhbmNlLzIpLGE9YS5hZGQodGhpcy5jbGlja1RvbGVyYW5jZS8yLC10aGlzLmNsaWNrVG9sZXJhbmNlLzIpLGI9dGhpcy5tYXAuZ2V0TG9uTGF0RnJvbVBpeGVsKGIpLGE9dGhpcy5tYXAuZ2V0TG9uTGF0RnJvbVBpeGVsKGEpO3JldHVybiBuZXcgT3BlbkxheWVycy5Cb3VuZHMoYi5sb24sYi5sYXQsYS5sb24sYS5sYXQpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuR2V0RmVhdHVyZSJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5RdWVyeVN0cmluZ0ZpbHRlcj1mdW5jdGlvbigpe3ZhciBhPXt9O2FbT3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5FUVVBTF9UT109ImVxIjthW09wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uTk9UX0VRVUFMX1RPXT0ibmUiO2FbT3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5MRVNTX1RIQU5dPSJsdCI7YVtPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLkxFU1NfVEhBTl9PUl9FUVVBTF9UT109Imx0ZSI7YVtPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLkdSRUFURVJfVEhBTl09Imd0IjthW09wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uR1JFQVRFUl9USEFOX09SX0VRVUFMX1RPXT0iZ3RlIjthW09wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uTElLRV09ImlsaWtlIjtyZXR1cm4gT3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdCx7d2lsZGNhcmRlZDohMSxzcnNJbkJCT1g6ITEsd3JpdGU6ZnVuY3Rpb24oYiwKYyl7dmFyIGM9Y3x8e30sZD1iLkNMQVNTX05BTUUsZD1kLnN1YnN0cmluZyhkLmxhc3RJbmRleE9mKCIuIikrMSk7c3dpdGNoKGQpe2Nhc2UgIlNwYXRpYWwiOnN3aXRjaChiLnR5cGUpe2Nhc2UgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5CQk9YOmMuYmJveD1iLnZhbHVlLnRvQXJyYXkoKTt0aGlzLnNyc0luQkJPWCYmYi5wcm9qZWN0aW9uJiZjLmJib3gucHVzaChiLnByb2plY3Rpb24uZ2V0Q29kZSgpKTticmVhaztjYXNlIE9wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwuRFdJVEhJTjpjLnRvbGVyYW5jZT1iLmRpc3RhbmNlO2Nhc2UgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5XSVRISU46Yy5sb249Yi52YWx1ZS54O2MubGF0PWIudmFsdWUueTticmVhaztkZWZhdWx0Ok9wZW5MYXllcnMuQ29uc29sZS53YXJuKCJVbmtub3duIHNwYXRpYWwgZmlsdGVyIHR5cGUgIitiLnR5cGUpfWJyZWFrO2Nhc2UgIkNvbXBhcmlzb24iOmQ9YVtiLnR5cGVdO2lmKHZvaWQgMCE9PWQpe3ZhciBlPQpiLnZhbHVlO2IudHlwZT09T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5MSUtFJiYoZT1lLnJlcGxhY2UoLyUvZywiXFwlIiksZT1lLnJlcGxhY2UoL1xcXFxcLihcKik/L2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9hOiJcXFxcXyJ9KSxlPWUucmVwbGFjZSgvXFxcXFwuXCovZywiXFxcXCUiKSxlPWUucmVwbGFjZSgvKFxcKT9cLihcKik/L2csZnVuY3Rpb24oYSxiLGMpe3JldHVybiBifHxjP2E6Il8ifSksZT1lLnJlcGxhY2UoLyhcXCk/XC5cKi9nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/YToiJSJ9KSxlPWUucmVwbGFjZSgvXFxcLi9nLCIuIiksZT1lLnJlcGxhY2UoLyhcXCk/XFxcKi9nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/YToiKiJ9KSx0aGlzLndpbGRjYXJkZWQmJihlPSIlIitlKyIlIikpO2NbYi5wcm9wZXJ0eSsiX18iK2RdPWU7Yy5xdWVyeWFibGU9Yy5xdWVyeWFibGV8fFtdO2MucXVlcnlhYmxlLnB1c2goYi5wcm9wZXJ0eSl9ZWxzZSBPcGVuTGF5ZXJzLkNvbnNvbGUud2FybigiVW5rbm93biBjb21wYXJpc29uIGZpbHRlciB0eXBlICIrCmIudHlwZSk7YnJlYWs7Y2FzZSAiTG9naWNhbCI6aWYoYi50eXBlPT09T3BlbkxheWVycy5GaWx0ZXIuTG9naWNhbC5BTkQpe2Q9MDtmb3IoZT1iLmZpbHRlcnMubGVuZ3RoO2Q8ZTtkKyspYz10aGlzLndyaXRlKGIuZmlsdGVyc1tkXSxjKX1lbHNlIE9wZW5MYXllcnMuQ29uc29sZS53YXJuKCJVbnN1cHBvcnRlZCBsb2dpY2FsIGZpbHRlciB0eXBlICIrYi50eXBlKTticmVhaztkZWZhdWx0Ok9wZW5MYXllcnMuQ29uc29sZS53YXJuKCJVbmtub3duIGZpbHRlciB0eXBlICIrZCl9cmV0dXJuIGN9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LlF1ZXJ5U3RyaW5nRmlsdGVyIn0pfSgpO09wZW5MYXllcnMuQ29udHJvbC5Nb3VzZVBvc2l0aW9uPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHthdXRvQWN0aXZhdGU6ITAsZWxlbWVudDpudWxsLHByZWZpeDoiIixzZXBhcmF0b3I6IiwgIixzdWZmaXg6IiIsbnVtRGlnaXRzOjUsZ3JhbnVsYXJpdHk6MTAsZW1wdHlTdHJpbmc6bnVsbCxsYXN0WHk6bnVsbCxkaXNwbGF5UHJvamVjdGlvbjpudWxsLGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmRlYWN0aXZhdGUoKTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxhY3RpdmF0ZTpmdW5jdGlvbigpe3JldHVybiBPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmFjdGl2YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKT8odGhpcy5tYXAuZXZlbnRzLnJlZ2lzdGVyKCJtb3VzZW1vdmUiLHRoaXMsdGhpcy5yZWRyYXcpLHRoaXMubWFwLmV2ZW50cy5yZWdpc3RlcigibW91c2VvdXQiLHRoaXMsdGhpcy5yZXNldCksCnRoaXMucmVkcmF3KCksITApOiExfSxkZWFjdGl2YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIE9wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZGVhY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk/KHRoaXMubWFwLmV2ZW50cy51bnJlZ2lzdGVyKCJtb3VzZW1vdmUiLHRoaXMsdGhpcy5yZWRyYXcpLHRoaXMubWFwLmV2ZW50cy51bnJlZ2lzdGVyKCJtb3VzZW91dCIsdGhpcyx0aGlzLnJlc2V0KSx0aGlzLmVsZW1lbnQuaW5uZXJIVE1MPSIiLCEwKTohMX0sZHJhdzpmdW5jdGlvbigpe09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZHJhdy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5lbGVtZW50fHwodGhpcy5kaXYubGVmdD0iIix0aGlzLmRpdi50b3A9IiIsdGhpcy5lbGVtZW50PXRoaXMuZGl2KTtyZXR1cm4gdGhpcy5kaXZ9LHJlZHJhdzpmdW5jdGlvbihhKXt2YXIgYjtpZihudWxsPT1hKXRoaXMucmVzZXQoKTtlbHNlIGlmKG51bGw9PXRoaXMubGFzdFh5fHxNYXRoLmFicyhhLnh5LngtCnRoaXMubGFzdFh5LngpPnRoaXMuZ3JhbnVsYXJpdHl8fE1hdGguYWJzKGEueHkueS10aGlzLmxhc3RYeS55KT50aGlzLmdyYW51bGFyaXR5KXRoaXMubGFzdFh5PWEueHk7ZWxzZSBpZihiPXRoaXMubWFwLmdldExvbkxhdEZyb21QaXhlbChhLnh5KSl0aGlzLmRpc3BsYXlQcm9qZWN0aW9uJiZiLnRyYW5zZm9ybSh0aGlzLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCksdGhpcy5kaXNwbGF5UHJvamVjdGlvbiksdGhpcy5sYXN0WHk9YS54eSxhPXRoaXMuZm9ybWF0T3V0cHV0KGIpLGEhPXRoaXMuZWxlbWVudC5pbm5lckhUTUwmJih0aGlzLmVsZW1lbnQuaW5uZXJIVE1MPWEpfSxyZXNldDpmdW5jdGlvbigpe251bGwhPXRoaXMuZW1wdHlTdHJpbmcmJih0aGlzLmVsZW1lbnQuaW5uZXJIVE1MPXRoaXMuZW1wdHlTdHJpbmcpfSxmb3JtYXRPdXRwdXQ6ZnVuY3Rpb24oYSl7dmFyIGI9cGFyc2VJbnQodGhpcy5udW1EaWdpdHMpO3JldHVybiB0aGlzLnByZWZpeCthLmxvbi50b0ZpeGVkKGIpKwp0aGlzLnNlcGFyYXRvcithLmxhdC50b0ZpeGVkKGIpK3RoaXMuc3VmZml4fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuTW91c2VQb3NpdGlvbiJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuR2VvbG9jYXRlPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHtnZW9sb2NhdGlvbjpudWxsLGF2YWlsYWJsZToiZ2VvbG9jYXRpb24iaW4gbmF2aWdhdG9yLGJpbmQ6ITAsd2F0Y2g6ITEsZ2VvbG9jYXRpb25PcHRpb25zOm51bGwsZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZGVhY3RpdmF0ZSgpO09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGFjdGl2YXRlOmZ1bmN0aW9uKCl7dGhpcy5hdmFpbGFibGUmJiF0aGlzLmdlb2xvY2F0aW9uJiYodGhpcy5nZW9sb2NhdGlvbj1uYXZpZ2F0b3IuZ2VvbG9jYXRpb24pO3JldHVybiF0aGlzLmdlb2xvY2F0aW9uPyh0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvY2F0aW9udW5jYXBhYmxlIiksITEpOk9wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpPyh0aGlzLndhdGNoP3RoaXMud2F0Y2hJZD0KdGhpcy5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZCh0aGlzLmdlb2xvY2F0ZSx0aGlzKSxPcGVuTGF5ZXJzLkZ1bmN0aW9uLmJpbmQodGhpcy5mYWlsdXJlLHRoaXMpLHRoaXMuZ2VvbG9jYXRpb25PcHRpb25zKTp0aGlzLmdldEN1cnJlbnRMb2NhdGlvbigpLCEwKTohMX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3RoaXMuYWN0aXZlJiZudWxsIT09dGhpcy53YXRjaElkJiZ0aGlzLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2godGhpcy53YXRjaElkKTtyZXR1cm4gT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZWFjdGl2YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZ2VvbG9jYXRlOmZ1bmN0aW9uKGEpe3ZhciBiPShuZXcgT3BlbkxheWVycy5Mb25MYXQoYS5jb29yZHMubG9uZ2l0dWRlLGEuY29vcmRzLmxhdGl0dWRlKSkudHJhbnNmb3JtKG5ldyBPcGVuTGF5ZXJzLlByb2plY3Rpb24oIkVQU0c6NDMyNiIpLHRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSk7CnRoaXMuYmluZCYmdGhpcy5tYXAuc2V0Q2VudGVyKGIpO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgibG9jYXRpb251cGRhdGVkIix7cG9zaXRpb246YSxwb2ludDpuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChiLmxvbixiLmxhdCl9KX0sZ2V0Q3VycmVudExvY2F0aW9uOmZ1bmN0aW9uKCl7aWYoIXRoaXMuYWN0aXZlfHx0aGlzLndhdGNoKXJldHVybiExO3RoaXMuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZCh0aGlzLmdlb2xvY2F0ZSx0aGlzKSxPcGVuTGF5ZXJzLkZ1bmN0aW9uLmJpbmQodGhpcy5mYWlsdXJlLHRoaXMpLHRoaXMuZ2VvbG9jYXRpb25PcHRpb25zKTtyZXR1cm4hMH0sZmFpbHVyZTpmdW5jdGlvbihhKXt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvY2F0aW9uZmFpbGVkIix7ZXJyb3I6YX0pfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuR2VvbG9jYXRlIn0pO09wZW5MYXllcnMuVGlsZS5VVEZHcmlkPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5UaWxlLHt1cmw6bnVsbCx1dGZncmlkUmVzb2x1dGlvbjoyLGpzb246bnVsbCxmb3JtYXQ6bnVsbCxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5jbGVhcigpO09wZW5MYXllcnMuVGlsZS5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGRyYXc6ZnVuY3Rpb24oKXt2YXIgYT1PcGVuTGF5ZXJzLlRpbGUucHJvdG90eXBlLmRyYXcuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKGEpaWYodGhpcy5pc0xvYWRpbmc/KHRoaXMuYWJvcnRMb2FkaW5nKCksdGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJyZWxvYWQiKSk6KHRoaXMuaXNMb2FkaW5nPSEwLHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgibG9hZHN0YXJ0IikpLHRoaXMudXJsPXRoaXMubGF5ZXIuZ2V0VVJMKHRoaXMuYm91bmRzKSx0aGlzLmxheWVyLnVzZUpTT05QKXt2YXIgYj1uZXcgT3BlbkxheWVycy5Qcm90b2NvbC5TY3JpcHQoe3VybDp0aGlzLnVybCwKY2FsbGJhY2s6ZnVuY3Rpb24oYSl7dGhpcy5pc0xvYWRpbmc9ITE7dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJsb2FkZW5kIik7dGhpcy5qc29uPWEuZGF0YX0sc2NvcGU6dGhpc30pO2IucmVhZCgpO3RoaXMucmVxdWVzdD1ifWVsc2UgdGhpcy5yZXF1ZXN0PU9wZW5MYXllcnMuUmVxdWVzdC5HRVQoe3VybDp0aGlzLnVybCxjYWxsYmFjazpmdW5jdGlvbihhKXt0aGlzLmlzTG9hZGluZz0hMTt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvYWRlbmQiKTsyMDA9PT1hLnN0YXR1cyYmdGhpcy5wYXJzZURhdGEoYS5yZXNwb25zZVRleHQpfSxzY29wZTp0aGlzfSk7ZWxzZSB0aGlzLnVubG9hZCgpO3JldHVybiBhfSxhYm9ydExvYWRpbmc6ZnVuY3Rpb24oKXt0aGlzLnJlcXVlc3QmJih0aGlzLnJlcXVlc3QuYWJvcnQoKSxkZWxldGUgdGhpcy5yZXF1ZXN0KTt0aGlzLmlzTG9hZGluZz0hMX0sZ2V0RmVhdHVyZUluZm86ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsO2lmKHRoaXMuanNvbil7dmFyIGQ9CnRoaXMuZ2V0RmVhdHVyZUlkKGEsYik7bnVsbCE9PWQmJihjPXtpZDpkLGRhdGE6dGhpcy5qc29uLmRhdGFbZF19KX1yZXR1cm4gY30sZ2V0RmVhdHVyZUlkOmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtpZih0aGlzLmpzb24pe3ZhciBkPXRoaXMudXRmZ3JpZFJlc29sdXRpb24sZD10aGlzLmpzb24uZ3JpZFtNYXRoLmZsb29yKGIvZCldLmNoYXJDb2RlQXQoTWF0aC5mbG9vcihhL2QpKSxkPXRoaXMuaW5kZXhGcm9tQ2hhckNvZGUoZCksZT10aGlzLmpzb24ua2V5czshaXNOYU4oZCkmJmQgaW4gZSYmKGM9ZVtkXSl9cmV0dXJuIGN9LGluZGV4RnJvbUNoYXJDb2RlOmZ1bmN0aW9uKGEpezkzPD1hJiZhLS07MzU8PWEmJmEtLTtyZXR1cm4gYS0zMn0scGFyc2VEYXRhOmZ1bmN0aW9uKGEpe3RoaXMuZm9ybWF0fHwodGhpcy5mb3JtYXQ9bmV3IE9wZW5MYXllcnMuRm9ybWF0LkpTT04pO3RoaXMuanNvbj10aGlzLmZvcm1hdC5yZWFkKGEpfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuanNvbj0KbnVsbH0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5UaWxlLlVURkdyaWQifSk7T3BlbkxheWVycy5Qcm90b2NvbC5IVFRQPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Qcm90b2NvbCx7dXJsOm51bGwsaGVhZGVyczpudWxsLHBhcmFtczpudWxsLGNhbGxiYWNrOm51bGwsc2NvcGU6bnVsbCxyZWFkV2l0aFBPU1Q6ITEsdXBkYXRlV2l0aFBPU1Q6ITEsZGVsZXRlV2l0aFBPU1Q6ITEsd2lsZGNhcmRlZDohMSxzcnNJbkJCT1g6ITEsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXthPWF8fHt9O3RoaXMucGFyYW1zPXt9O3RoaXMuaGVhZGVycz17fTtPcGVuTGF5ZXJzLlByb3RvY29sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZighdGhpcy5maWx0ZXJUb1BhcmFtcyYmT3BlbkxheWVycy5Gb3JtYXQuUXVlcnlTdHJpbmdGaWx0ZXIpe3ZhciBiPW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5RdWVyeVN0cmluZ0ZpbHRlcih7d2lsZGNhcmRlZDp0aGlzLndpbGRjYXJkZWQsc3JzSW5CQk9YOnRoaXMuc3JzSW5CQk9YfSk7dGhpcy5maWx0ZXJUb1BhcmFtcz0KZnVuY3Rpb24oYSxkKXtyZXR1cm4gYi53cml0ZShhLGQpfX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmhlYWRlcnM9dGhpcy5wYXJhbXM9bnVsbDtPcGVuTGF5ZXJzLlByb3RvY29sLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMpfSxyZWFkOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuUHJvdG9jb2wucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2E9YXx8e307YS5wYXJhbXM9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYS5wYXJhbXMsdGhpcy5vcHRpb25zLnBhcmFtcyk7YT1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLHRoaXMub3B0aW9ucyk7YS5maWx0ZXImJnRoaXMuZmlsdGVyVG9QYXJhbXMmJihhLnBhcmFtcz10aGlzLmZpbHRlclRvUGFyYW1zKGEuZmlsdGVyLGEucGFyYW1zKSk7dmFyIGI9dm9pZCAwIT09YS5yZWFkV2l0aFBPU1Q/YS5yZWFkV2l0aFBPU1Q6dGhpcy5yZWFkV2l0aFBPU1QsYz1uZXcgT3BlbkxheWVycy5Qcm90b2NvbC5SZXNwb25zZSh7cmVxdWVzdFR5cGU6InJlYWQifSk7CmI/KGI9YS5oZWFkZXJzfHx7fSxiWyJDb250ZW50LVR5cGUiXT0iYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIixjLnByaXY9T3BlbkxheWVycy5SZXF1ZXN0LlBPU1Qoe3VybDphLnVybCxjYWxsYmFjazp0aGlzLmNyZWF0ZUNhbGxiYWNrKHRoaXMuaGFuZGxlUmVhZCxjLGEpLGRhdGE6T3BlbkxheWVycy5VdGlsLmdldFBhcmFtZXRlclN0cmluZyhhLnBhcmFtcyksaGVhZGVyczpifSkpOmMucHJpdj1PcGVuTGF5ZXJzLlJlcXVlc3QuR0VUKHt1cmw6YS51cmwsY2FsbGJhY2s6dGhpcy5jcmVhdGVDYWxsYmFjayh0aGlzLmhhbmRsZVJlYWQsYyxhKSxwYXJhbXM6YS5wYXJhbXMsaGVhZGVyczphLmhlYWRlcnN9KTtyZXR1cm4gY30saGFuZGxlUmVhZDpmdW5jdGlvbihhLGIpe3RoaXMuaGFuZGxlUmVzcG9uc2UoYSxiKX0sY3JlYXRlOmZ1bmN0aW9uKGEsYil7dmFyIGI9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYix0aGlzLm9wdGlvbnMpLGM9bmV3IE9wZW5MYXllcnMuUHJvdG9jb2wuUmVzcG9uc2Uoe3JlcUZlYXR1cmVzOmEsCnJlcXVlc3RUeXBlOiJjcmVhdGUifSk7Yy5wcml2PU9wZW5MYXllcnMuUmVxdWVzdC5QT1NUKHt1cmw6Yi51cmwsY2FsbGJhY2s6dGhpcy5jcmVhdGVDYWxsYmFjayh0aGlzLmhhbmRsZUNyZWF0ZSxjLGIpLGhlYWRlcnM6Yi5oZWFkZXJzLGRhdGE6dGhpcy5mb3JtYXQud3JpdGUoYSl9KTtyZXR1cm4gY30saGFuZGxlQ3JlYXRlOmZ1bmN0aW9uKGEsYil7dGhpcy5oYW5kbGVSZXNwb25zZShhLGIpfSx1cGRhdGU6ZnVuY3Rpb24oYSxiKXt2YXIgYj1ifHx7fSxjPWIudXJsfHxhLnVybHx8dGhpcy5vcHRpb25zLnVybCsiLyIrYS5maWQsYj1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhiLHRoaXMub3B0aW9ucyksZD1uZXcgT3BlbkxheWVycy5Qcm90b2NvbC5SZXNwb25zZSh7cmVxRmVhdHVyZXM6YSxyZXF1ZXN0VHlwZToidXBkYXRlIn0pO2QucHJpdj1PcGVuTGF5ZXJzLlJlcXVlc3RbdGhpcy51cGRhdGVXaXRoUE9TVD8iUE9TVCI6IlBVVCJdKHt1cmw6YyxjYWxsYmFjazp0aGlzLmNyZWF0ZUNhbGxiYWNrKHRoaXMuaGFuZGxlVXBkYXRlLApkLGIpLGhlYWRlcnM6Yi5oZWFkZXJzLGRhdGE6dGhpcy5mb3JtYXQud3JpdGUoYSl9KTtyZXR1cm4gZH0saGFuZGxlVXBkYXRlOmZ1bmN0aW9uKGEsYil7dGhpcy5oYW5kbGVSZXNwb25zZShhLGIpfSwiZGVsZXRlIjpmdW5jdGlvbihhLGIpe3ZhciBiPWJ8fHt9LGM9Yi51cmx8fGEudXJsfHx0aGlzLm9wdGlvbnMudXJsKyIvIithLmZpZCxiPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGIsdGhpcy5vcHRpb25zKSxkPW5ldyBPcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlKHtyZXFGZWF0dXJlczphLHJlcXVlc3RUeXBlOiJkZWxldGUifSksZT10aGlzLmRlbGV0ZVdpdGhQT1NUPyJQT1NUIjoiREVMRVRFIixjPXt1cmw6YyxjYWxsYmFjazp0aGlzLmNyZWF0ZUNhbGxiYWNrKHRoaXMuaGFuZGxlRGVsZXRlLGQsYiksaGVhZGVyczpiLmhlYWRlcnN9O3RoaXMuZGVsZXRlV2l0aFBPU1QmJihjLmRhdGE9dGhpcy5mb3JtYXQud3JpdGUoYSkpO2QucHJpdj1PcGVuTGF5ZXJzLlJlcXVlc3RbZV0oYyk7CnJldHVybiBkfSxoYW5kbGVEZWxldGU6ZnVuY3Rpb24oYSxiKXt0aGlzLmhhbmRsZVJlc3BvbnNlKGEsYil9LGhhbmRsZVJlc3BvbnNlOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5wcml2O2IuY2FsbGJhY2smJigyMDA8PWMuc3RhdHVzJiYzMDA+Yy5zdGF0dXM/KCJkZWxldGUiIT1hLnJlcXVlc3RUeXBlJiYoYS5mZWF0dXJlcz10aGlzLnBhcnNlRmVhdHVyZXMoYykpLGEuY29kZT1PcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlLlNVQ0NFU1MpOmEuY29kZT1PcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlLkZBSUxVUkUsYi5jYWxsYmFjay5jYWxsKGIuc2NvcGUsYSkpfSxwYXJzZUZlYXR1cmVzOmZ1bmN0aW9uKGEpe3ZhciBiPWEucmVzcG9uc2VYTUw7aWYoIWJ8fCFiLmRvY3VtZW50RWxlbWVudCliPWEucmVzcG9uc2VUZXh0O3JldHVybiFifHwwPj1iLmxlbmd0aD9udWxsOnRoaXMuZm9ybWF0LnJlYWQoYil9LGNvbW1pdDpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7Zm9yKHZhciBiPQphLmZlYXR1cmVzP2EuZmVhdHVyZXMubGVuZ3RoOjAsYz1BcnJheShiKSxlPTA7ZTxiOysrZSljW2VdPWEuZmVhdHVyZXNbZV0uZmlkO3AuaW5zZXJ0SWRzPWM7ZC5hcHBseSh0aGlzLFthXSl9ZnVuY3Rpb24gZChhKXt0aGlzLmNhbGxVc2VyQ2FsbGJhY2soYSxiKTtuPW4mJmEuc3VjY2VzcygpO2YrKztmPj1tJiZiLmNhbGxiYWNrJiYocC5jb2RlPW4/T3BlbkxheWVycy5Qcm90b2NvbC5SZXNwb25zZS5TVUNDRVNTOk9wZW5MYXllcnMuUHJvdG9jb2wuUmVzcG9uc2UuRkFJTFVSRSxiLmNhbGxiYWNrLmFwcGx5KGIuc2NvcGUsW3BdKSl9dmFyIGI9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYix0aGlzLm9wdGlvbnMpLGU9W10sZj0wLGc9e307Z1tPcGVuTGF5ZXJzLlN0YXRlLklOU0VSVF09W107Z1tPcGVuTGF5ZXJzLlN0YXRlLlVQREFURV09W107Z1tPcGVuTGF5ZXJzLlN0YXRlLkRFTEVURV09W107Zm9yKHZhciBoLGksaj1bXSxrPTAsbD1hLmxlbmd0aDtrPGw7KytrKWlmKGg9CmFba10saT1nW2guc3RhdGVdKWkucHVzaChoKSxqLnB1c2goaCk7dmFyIG09KDA8Z1tPcGVuTGF5ZXJzLlN0YXRlLklOU0VSVF0ubGVuZ3RoPzE6MCkrZ1tPcGVuTGF5ZXJzLlN0YXRlLlVQREFURV0ubGVuZ3RoK2dbT3BlbkxheWVycy5TdGF0ZS5ERUxFVEVdLmxlbmd0aCxuPSEwLHA9bmV3IE9wZW5MYXllcnMuUHJvdG9jb2wuUmVzcG9uc2Uoe3JlcUZlYXR1cmVzOmp9KTtoPWdbT3BlbkxheWVycy5TdGF0ZS5JTlNFUlRdOzA8aC5sZW5ndGgmJmUucHVzaCh0aGlzLmNyZWF0ZShoLE9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtjYWxsYmFjazpjLHNjb3BlOnRoaXN9LGIuY3JlYXRlKSkpO2g9Z1tPcGVuTGF5ZXJzLlN0YXRlLlVQREFURV07Zm9yKGs9aC5sZW5ndGgtMTswPD1rOy0tayllLnB1c2godGhpcy51cGRhdGUoaFtrXSxPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7Y2FsbGJhY2s6ZCxzY29wZTp0aGlzfSxiLnVwZGF0ZSkpKTtoPWdbT3BlbkxheWVycy5TdGF0ZS5ERUxFVEVdOwpmb3Ioaz1oLmxlbmd0aC0xOzA8PWs7LS1rKWUucHVzaCh0aGlzWyJkZWxldGUiXShoW2tdLE9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtjYWxsYmFjazpkLHNjb3BlOnRoaXN9LGJbImRlbGV0ZSJdKSkpO3JldHVybiBlfSxhYm9ydDpmdW5jdGlvbihhKXthJiZhLnByaXYuYWJvcnQoKX0sY2FsbFVzZXJDYWxsYmFjazpmdW5jdGlvbihhLGIpe3ZhciBjPWJbYS5yZXF1ZXN0VHlwZV07YyYmYy5jYWxsYmFjayYmYy5jYWxsYmFjay5jYWxsKGMuc2NvcGUsYSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuUHJvdG9jb2wuSFRUUCJ9KTtPcGVuTGF5ZXJzLkxhbmcubmw9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3VuaGFuZGxlZFJlcXVlc3Q6IkhldCB2ZXJ6b2VrIGlzIG5pZXQgYWZnZWhhbmRlbGQgbWV0IGRlIHZvbGdlbmRlIG1lbGRpbmc6ICR7c3RhdHVzVGV4dH0iLFBlcm1hbGluazoiUGVybWFuZW50ZSB2ZXJ3aWp6aW5nIixPdmVybGF5czoiT3ZlcmxheXMiLCJCYXNlIExheWVyIjoiQWNodGVyZ3JvbmRrYWFydCIsbm9GSUQ6IkVlbiBvcHRpZSBkaWUgZ2VlbiBGSUQgaGVlZnQga2FuIG5pZXQgYmlqZ2V3ZXJrdCB3b3JkZW4uIixicm93c2VyTm90U3VwcG9ydGVkOiJVdyBicm93c2VyIG9uZGVyc3RldW50IGhldCB3ZWVyZ2V2ZW4gdmFuIHZlY3RvcmVuIG5pZXQuXG5Nb21lbnRlZWwgb25kZXJzdGV1bmRlIHdlZXJnYXZlbW9nZWxpamtoZWRlbjpcbiR7cmVuZGVyZXJzfSIsbWluWm9vbUxldmVsRXJyb3I6IkRlIGVpZ2Vuc2NoYXAgbWluWm9vbUxldmVsIGlzIGFsbGVlbiBiZWRvZWxkIHZvb3IgZ2VicnVpayBsYWdlbiBtZXQgZGllIGFmc3RhbW1lbiB2YW4gRml4ZWRab29tTGV2ZWxzLWxhZ2VuLlxuRGF0IGRlemUgV0ZTLWxhYWcgbWluWm9vbUxldmVsIGNvbnRyb2xlZXJ0LCBpcyBlZW4gb3ZlcmJsaWpmc2VsIHVpdCBoZXQgdmVybGVkZW4uXG5XZSBrdW5uZW4gZGV6ZSBjb250cm9sZSBlY2h0ZXIgbmlldCB2ZXJ3aWpkZXJlbiB6b25kZXIgb3AgT0wgZ2ViYXNlZXJkZSBhcHBsaWNhdGllcyBkaWUgaGVydmFuIGFmaGFua2VsaWprIHppam4gc3R1ayB0ZSBtYWtlbi5cbkRhYXJvbSBoZWVmdCBkZXplIGZ1bmN0aW9uYWxpdGVpdCBkZSBlaWdlbnNjaGFwICdkZXByZWNhdGVkJyBnZWtyZWdlbiAtIGRlIG1pblpvb21MZXZlbCB3b3JkdCB2ZXJ3aWpkZXJkIGluIHZlcnNpZSAzLjAuXG5HZWJydWlrIGluIHBsYWF0cyB2YW4gZGV6ZSBmdW5jdGllIGRlIG1vZ2VsaWpraGVpZCBvbSBtaW4vbWF4IHZvb3IgcmVzb2x1dGllIGluIHRlIHN0ZWxsZW4gem9hbHMgb3AgZGUgdm9sZ2VuZGUgcGFnaW5hIHdvcmR0IGJlc2NocmV2ZW46XG5odHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NldHRpbmdab29tTGV2ZWxzIiwKY29tbWl0U3VjY2VzczoiV0ZTLXRyYW5zYWN0aWU6IHN1Y2Nlc3ZvbCAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJXRlMtdHJhbnNhY3RpZTogbWlzbHVrdCAke3Jlc3BvbnNlfSIsZ29vZ2xlV2FybmluZzoiRGUgR29vZ2xlLUxheWVyIGtvbiBuaWV0IGNvcnJlY3QgZ2VsYWRlbiB3b3JkZW4uPGJyIC8+PGJyIC8+XG5PbSBkZXplIG1lbGRpbmcgbmlldCBtZWVyIHRlIGtyaWpnZW4sIG1vZXQgdSBlZW4gYW5kZXJlIGFjaHRlcmdyb25ka2FhcnQga2llemVuIGluIGRlIGxhYWd3aXNzZWxhYXIgaW4gZGUgcmVjaHRlcmJvdmVuaG9lay48YnIgLz48YnIgLz5cbkRpdCBrb210IHdhYXJzY2hpam5saWprIGRvb3JkYXQgZGUgYmlibGlvdGhlZWsgJHtsYXllckxpYn0gbmlldCBjb3JyZWN0IGluZ2V2b2VnZCBpcy48YnIgLz48YnIgLz5cbk9udHdpa2tlbGFhcnM6IDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvJHtsYXllckxpYn0nIHRhcmdldD0nX2JsYW5rJz5rbGlrIGhpZXI8L2E+IG9tIGRpdCB3ZXJrZW5kIHRlIGtyaWpnZW4uIiwKZ2V0TGF5ZXJXYXJuaW5nOiJEZSBsYWFnICR7bGF5ZXJUeXBlfSBrb24gbmlldCBnb2VkIGdlbGFkZW4gd29yZGVuLjxiciAvPjxiciAvPlxuT20gZGV6ZSBtZWxkaW5nIG5pZXQgbWVlciB0ZSBrcmlqZ2VuLCBtb2V0IHUgZWVuIGFuZGVyZSBhY2h0ZXJncm9uZGthYXJ0IGtpZXplbiBpbiBkZSBsYWFnd2lzc2VsYWFyIGluIGRlIHJlY2h0ZXJib3ZlbmhvZWsuPGJyIC8+PGJyIC8+XG5EaXQga29tdCB3YWFyc2NoaWpubGlqayBkb29yZGF0IGRlIGJpYmxpb3RoZWVrICR7bGF5ZXJMaWJ9IG5pZXQgY29ycmVjdCBpcyBpbmdldm9lZ2QuPGJyIC8+PGJyIC8+XG5PbnR3aWtrZWxhYXJzOiA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+a2xpayBoaWVyPC9hPiBvbSBkaXQgd2Vya2VuZCB0ZSBrcmlqZ2VuLiIsIlNjYWxlID0gMSA6ICR7c2NhbGVEZW5vbX0iOiJTY2hhYWwgPSAxIDogJHtzY2FsZURlbm9tfSIsClc6IlciLEU6Ik8iLE46Ik4iLFM6IloiLHJlcHJvamVjdERlcHJlY2F0ZWQ6IlUgZ2VicnVpa3QgZGUgb3B0aWUgJ3JlcHJvamVjdCcgb3AgZGUgbGFhZyAke2xheWVyTmFtZX0uXG5EZXplIG9wdGllIGlzIHZlcnZhbGxlbjogZGV6ZSBvcHRpZSB3YXMgb250d2lra2VsZCBvbSBnZWdldmVucyBvdmVyIGNvbW1lcmNpXHUwMGVibGUgYmFzaXNrYWFydGVuIHdlZXIgdGUgZ2V2ZW4sIG1hYXIgZGV6ZSBmdW5jdGlvbmFsaXRlaXQgd29yZHQgbnUgYmVyZWlrdCBkb29yIG9uZGVyc3RldW5pbmcgdmFuIFNwaGVyaWNhbCBNZXJjYXRvci5cbk1lZXIgaW5mb3JtYXRpZSBpcyBiZXNjaGlrYmFhciBvcCBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NwaGVyaWNhbE1lcmNhdG9yLiIsbWV0aG9kRGVwcmVjYXRlZDoiRGV6ZSBtZXRob2RlIGlzIHZlcm91ZGVyZCBlbiB3b3JkdCB2ZXJ3aWpkZXJkIGluIHZlcnNpZSAzLjAuXG5HZWJydWlrICR7bmV3TWV0aG9kfS4ifSk7T3BlbkxheWVycy5TdHJhdGVneS5DbHVzdGVyPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5TdHJhdGVneSx7ZGlzdGFuY2U6MjAsdGhyZXNob2xkOm51bGwsZmVhdHVyZXM6bnVsbCxjbHVzdGVyczpudWxsLGNsdXN0ZXJpbmc6ITEscmVzb2x1dGlvbjpudWxsLGFjdGl2YXRlOmZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5TdHJhdGVneS5wcm90b3R5cGUuYWN0aXZhdGUuY2FsbCh0aGlzKTtpZihhKXRoaXMubGF5ZXIuZXZlbnRzLm9uKHtiZWZvcmVmZWF0dXJlc2FkZGVkOnRoaXMuY2FjaGVGZWF0dXJlcyxmZWF0dXJlc3JlbW92ZWQ6dGhpcy5jbGVhckNhY2hlLG1vdmVlbmQ6dGhpcy5jbHVzdGVyLHNjb3BlOnRoaXN9KTtyZXR1cm4gYX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPU9wZW5MYXllcnMuU3RyYXRlZ3kucHJvdG90eXBlLmRlYWN0aXZhdGUuY2FsbCh0aGlzKTthJiYodGhpcy5jbGVhckNhY2hlKCksdGhpcy5sYXllci5ldmVudHMudW4oe2JlZm9yZWZlYXR1cmVzYWRkZWQ6dGhpcy5jYWNoZUZlYXR1cmVzLApmZWF0dXJlc3JlbW92ZWQ6dGhpcy5jbGVhckNhY2hlLG1vdmVlbmQ6dGhpcy5jbHVzdGVyLHNjb3BlOnRoaXN9KSk7cmV0dXJuIGF9LGNhY2hlRmVhdHVyZXM6ZnVuY3Rpb24oYSl7dmFyIGI9ITA7dGhpcy5jbHVzdGVyaW5nfHwodGhpcy5jbGVhckNhY2hlKCksdGhpcy5mZWF0dXJlcz1hLmZlYXR1cmVzLHRoaXMuY2x1c3RlcigpLGI9ITEpO3JldHVybiBifSxjbGVhckNhY2hlOmZ1bmN0aW9uKCl7dGhpcy5jbHVzdGVyaW5nfHwodGhpcy5mZWF0dXJlcz1udWxsKX0sY2x1c3RlcjpmdW5jdGlvbihhKXtpZigoIWF8fGEuem9vbUNoYW5nZWQpJiZ0aGlzLmZlYXR1cmVzKWlmKGE9dGhpcy5sYXllci5tYXAuZ2V0UmVzb2x1dGlvbigpLGEhPXRoaXMucmVzb2x1dGlvbnx8IXRoaXMuY2x1c3RlcnNFeGlzdCgpKXt0aGlzLnJlc29sdXRpb249YTtmb3IodmFyIGE9W10sYixjLGQsZT0wO2U8dGhpcy5mZWF0dXJlcy5sZW5ndGg7KytlKWlmKGI9dGhpcy5mZWF0dXJlc1tlXSxiLmdlb21ldHJ5KXtjPQohMTtmb3IodmFyIGY9YS5sZW5ndGgtMTswPD1mOy0tZilpZihkPWFbZl0sdGhpcy5zaG91bGRDbHVzdGVyKGQsYikpe3RoaXMuYWRkVG9DbHVzdGVyKGQsYik7Yz0hMDticmVha31jfHxhLnB1c2godGhpcy5jcmVhdGVDbHVzdGVyKHRoaXMuZmVhdHVyZXNbZV0pKX10aGlzLmNsdXN0ZXJpbmc9ITA7dGhpcy5sYXllci5yZW1vdmVBbGxGZWF0dXJlcygpO3RoaXMuY2x1c3RlcmluZz0hMTtpZigwPGEubGVuZ3RoKXtpZigxPHRoaXMudGhyZXNob2xkKXtiPWEuc2xpY2UoKTthPVtdO2U9MDtmb3IoZD1iLmxlbmd0aDtlPGQ7KytlKWM9YltlXSxjLmF0dHJpYnV0ZXMuY291bnQ8dGhpcy50aHJlc2hvbGQ/QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoYSxjLmNsdXN0ZXIpOmEucHVzaChjKX10aGlzLmNsdXN0ZXJpbmc9ITA7dGhpcy5sYXllci5hZGRGZWF0dXJlcyhhKTt0aGlzLmNsdXN0ZXJpbmc9ITF9dGhpcy5jbHVzdGVycz1hfX0sY2x1c3RlcnNFeGlzdDpmdW5jdGlvbigpe3ZhciBhPQohMTtpZih0aGlzLmNsdXN0ZXJzJiYwPHRoaXMuY2x1c3RlcnMubGVuZ3RoJiZ0aGlzLmNsdXN0ZXJzLmxlbmd0aD09dGhpcy5sYXllci5mZWF0dXJlcy5sZW5ndGgpZm9yKHZhciBhPSEwLGI9MDtiPHRoaXMuY2x1c3RlcnMubGVuZ3RoOysrYilpZih0aGlzLmNsdXN0ZXJzW2JdIT10aGlzLmxheWVyLmZlYXR1cmVzW2JdKXthPSExO2JyZWFrfXJldHVybiBhfSxzaG91bGRDbHVzdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZW9tZXRyeS5nZXRCb3VuZHMoKS5nZXRDZW50ZXJMb25MYXQoKSxkPWIuZ2VvbWV0cnkuZ2V0Qm91bmRzKCkuZ2V0Q2VudGVyTG9uTGF0KCk7cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhjLmxvbi1kLmxvbiwyKStNYXRoLnBvdyhjLmxhdC1kLmxhdCwyKSkvdGhpcy5yZXNvbHV0aW9uPD10aGlzLmRpc3RhbmNlfSxhZGRUb0NsdXN0ZXI6ZnVuY3Rpb24oYSxiKXthLmNsdXN0ZXIucHVzaChiKTthLmF0dHJpYnV0ZXMuY291bnQrPTF9LGNyZWF0ZUNsdXN0ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9CmEuZ2VvbWV0cnkuZ2V0Qm91bmRzKCkuZ2V0Q2VudGVyTG9uTGF0KCksYj1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChiLmxvbixiLmxhdCkse2NvdW50OjF9KTtiLmNsdXN0ZXI9W2FdO3JldHVybiBifSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlN0cmF0ZWd5LkNsdXN0ZXIifSk7T3BlbkxheWVycy5TdHJhdGVneS5GaWx0ZXI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlN0cmF0ZWd5LHtmaWx0ZXI6bnVsbCxjYWNoZTpudWxsLGNhY2hpbmc6ITEsYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgYT1PcGVuTGF5ZXJzLlN0cmF0ZWd5LnByb3RvdHlwZS5hY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YSYmKHRoaXMuY2FjaGU9W10sdGhpcy5sYXllci5ldmVudHMub24oe2JlZm9yZWZlYXR1cmVzYWRkZWQ6dGhpcy5oYW5kbGVBZGQsYmVmb3JlZmVhdHVyZXNyZW1vdmVkOnRoaXMuaGFuZGxlUmVtb3ZlLHNjb3BlOnRoaXN9KSk7cmV0dXJuIGF9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXt0aGlzLmNhY2hlPW51bGw7dGhpcy5sYXllciYmdGhpcy5sYXllci5ldmVudHMmJnRoaXMubGF5ZXIuZXZlbnRzLnVuKHtiZWZvcmVmZWF0dXJlc2FkZGVkOnRoaXMuaGFuZGxlQWRkLGJlZm9yZWZlYXR1cmVzcmVtb3ZlZDp0aGlzLmhhbmRsZVJlbW92ZSxzY29wZTp0aGlzfSk7CnJldHVybiBPcGVuTGF5ZXJzLlN0cmF0ZWd5LnByb3RvdHlwZS5kZWFjdGl2YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0saGFuZGxlQWRkOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmNhY2hpbmcmJnRoaXMuZmlsdGVyKXt2YXIgYj1hLmZlYXR1cmVzO2EuZmVhdHVyZXM9W107Zm9yKHZhciBjLGQ9MCxlPWIubGVuZ3RoO2Q8ZTsrK2QpYz1iW2RdLHRoaXMuZmlsdGVyLmV2YWx1YXRlKGMpP2EuZmVhdHVyZXMucHVzaChjKTp0aGlzLmNhY2hlLnB1c2goYyl9fSxoYW5kbGVSZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLmNhY2hpbmd8fCh0aGlzLmNhY2hlPVtdKX0sc2V0RmlsdGVyOmZ1bmN0aW9uKGEpe3RoaXMuZmlsdGVyPWE7YT10aGlzLmNhY2hlO3RoaXMuY2FjaGU9W107dGhpcy5oYW5kbGVBZGQoe2ZlYXR1cmVzOnRoaXMubGF5ZXIuZmVhdHVyZXN9KTswPHRoaXMuY2FjaGUubGVuZ3RoJiYodGhpcy5jYWNoaW5nPSEwLHRoaXMubGF5ZXIucmVtb3ZlRmVhdHVyZXModGhpcy5jYWNoZS5zbGljZSgpKSwKdGhpcy5jYWNoaW5nPSExKTswPGEubGVuZ3RoJiYoYT17ZmVhdHVyZXM6YX0sdGhpcy5oYW5kbGVBZGQoYSksMDxhLmZlYXR1cmVzLmxlbmd0aCYmKHRoaXMuY2FjaGluZz0hMCx0aGlzLmxheWVyLmFkZEZlYXR1cmVzKGEuZmVhdHVyZXMpLHRoaXMuY2FjaGluZz0hMSkpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlN0cmF0ZWd5LkZpbHRlciJ9KTtPcGVuTGF5ZXJzLlByb3RvY29sLlNPUz1mdW5jdGlvbihhKXt2YXIgYT1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLE9wZW5MYXllcnMuUHJvdG9jb2wuU09TLkRFRkFVTFRTKSxiPU9wZW5MYXllcnMuUHJvdG9jb2wuU09TWyJ2IithLnZlcnNpb24ucmVwbGFjZSgvXC4vZywiXyIpXTtpZighYil0aHJvdyJVbnN1cHBvcnRlZCBTT1MgdmVyc2lvbjogIithLnZlcnNpb247cmV0dXJuIG5ldyBiKGEpfTtPcGVuTGF5ZXJzLlByb3RvY29sLlNPUy5ERUZBVUxUUz17dmVyc2lvbjoiMS4wLjAifTtPcGVuTGF5ZXJzLkZvcm1hdC5XRlNEZXNjcmliZUZlYXR1cmVUeXBlPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuWE1MLHtyZWdFeGVzOnt0cmltU3BhY2U6L15ccyp8XHMqJC9nfSxuYW1lc3BhY2VzOnt4c2Q6Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hIn0scmVhZGVyczp7eHNkOntzY2hlbWE6ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkPXt9LGUsZjt0aGlzLnJlYWRDaGlsZE5vZGVzKGEse2NvbXBsZXhUeXBlczpjLGN1c3RvbVR5cGVzOmR9KTt2YXIgZz1hLmF0dHJpYnV0ZXMsaCxpO2U9MDtmb3IoZj1nLmxlbmd0aDtlPGY7KytlKWg9Z1tlXSxpPWgubmFtZSwwPT09aS5pbmRleE9mKCJ4bWxucyIpP3RoaXMuc2V0TmFtZXNwYWNlKGkuc3BsaXQoIjoiKVsxXXx8IiIsaC52YWx1ZSk6YltpXT1oLnZhbHVlO2IuZmVhdHVyZVR5cGVzPWM7Yi50YXJnZXRQcmVmaXg9dGhpcy5uYW1lc3BhY2VBbGlhc1tiLnRhcmdldE5hbWVzcGFjZV07ZT0wO2ZvcihmPQpjLmxlbmd0aDtlPGY7KytlKWc9Y1tlXSxoPWRbZy50eXBlTmFtZV0sZFtnLnR5cGVOYW1lXSYmKGcudHlwZU5hbWU9aC5uYW1lKX0sY29tcGxleFR5cGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz17dHlwZU5hbWU6YS5nZXRBdHRyaWJ1dGUoIm5hbWUiKX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IuY29tcGxleFR5cGVzLnB1c2goYyl9LGNvbXBsZXhDb250ZW50OmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxleHRlbnNpb246ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LHNlcXVlbmNlOmZ1bmN0aW9uKGEsYil7dmFyIGM9e2VsZW1lbnRzOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5wcm9wZXJ0aWVzPWMuZWxlbWVudHN9LGVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYztpZihiLmVsZW1lbnRzKXt2YXIgZD17fTtjPWEuYXR0cmlidXRlcztmb3IodmFyIGUsZj0wLGc9Yy5sZW5ndGg7ZjxnOysrZillPWNbZl0sZFtlLm5hbWVdPQplLnZhbHVlO2M9ZC50eXBlO2N8fChjPXt9LHRoaXMucmVhZENoaWxkTm9kZXMoYSxjKSxkLnJlc3RyaWN0aW9uPWMsZC50eXBlPWMuYmFzZSk7ZC5sb2NhbFR5cGU9KGMuYmFzZXx8Yykuc3BsaXQoIjoiKS5wb3AoKTtiLmVsZW1lbnRzLnB1c2goZCk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGQpfWIuY29tcGxleFR5cGVzJiYoYz1hLmdldEF0dHJpYnV0ZSgidHlwZSIpLGQ9Yy5zcGxpdCgiOiIpLnBvcCgpLGIuY3VzdG9tVHlwZXNbZF09e25hbWU6YS5nZXRBdHRyaWJ1dGUoIm5hbWUiKSx0eXBlOmN9KX0sYW5ub3RhdGlvbjpmdW5jdGlvbihhLGIpe2IuYW5ub3RhdGlvbj17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5hbm5vdGF0aW9uKX0sYXBwaW5mbzpmdW5jdGlvbihhLGIpe2IuYXBwaW5mb3x8KGIuYXBwaW5mbz1bXSk7Yi5hcHBpbmZvLnB1c2godGhpcy5nZXRDaGlsZFZhbHVlKGEpKX0sZG9jdW1lbnRhdGlvbjpmdW5jdGlvbihhLGIpe2IuZG9jdW1lbnRhdGlvbnx8KGIuZG9jdW1lbnRhdGlvbj0KW10pO3ZhciBjPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKTtiLmRvY3VtZW50YXRpb24ucHVzaCh7bGFuZzphLmdldEF0dHJpYnV0ZSgieG1sOmxhbmciKSx0ZXh0Q29udGVudDpjLnJlcGxhY2UodGhpcy5yZWdFeGVzLnRyaW1TcGFjZSwiIil9KX0sc2ltcGxlVHlwZTpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0scmVzdHJpY3Rpb246ZnVuY3Rpb24oYSxiKXtiLmJhc2U9YS5nZXRBdHRyaWJ1dGUoImJhc2UiKTt0aGlzLnJlYWRSZXN0cmljdGlvbihhLGIpfX19LHJlYWRSZXN0cmljdGlvbjpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1hLmNoaWxkTm9kZXMsZCxlLGY9MCxnPWMubGVuZ3RoO2Y8ZzsrK2YpZD1jW2ZdLDE9PWQubm9kZVR5cGUmJihlPWQubm9kZU5hbWUuc3BsaXQoIjoiKS5wb3AoKSxkPWQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpLGJbZV0/KCJzdHJpbmciPT10eXBlb2YgYltlXSYmKGJbZV09W2JbZV1dKSxiW2VdLnB1c2goZCkpOmJbZV09ZCl9LHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PQp0eXBlb2YgYSYmKGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7YSYmOT09YS5ub2RlVHlwZSYmKGE9YS5kb2N1bWVudEVsZW1lbnQpO3ZhciBiPXt9O2lmKCJFeGNlcHRpb25SZXBvcnQiPT09YS5ub2RlTmFtZS5zcGxpdCgiOiIpLnBvcCgpKXt2YXIgYz1uZXcgT3BlbkxheWVycy5Gb3JtYXQuT0dDRXhjZXB0aW9uUmVwb3J0O2IuZXJyb3I9Yy5yZWFkKGEpfWVsc2UgdGhpcy5yZWFkTm9kZShhLGIpO3JldHVybiBifSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XRlNEZXNjcmliZUZlYXR1cmVUeXBlIn0pO09wZW5MYXllcnMuTGFuZy5mcj1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7dW5oYW5kbGVkUmVxdWVzdDoiUmVxdVx1MDBlYXRlIG5vbiBnXHUwMGU5clx1MDBlOWUsIHJldG91cm5hbnQgJHtzdGF0dXNUZXh0fSIsUGVybWFsaW5rOiJQZXJtYWxpZW4iLE92ZXJsYXlzOiJDYWxxdWVzIiwiQmFzZSBMYXllciI6IkNhbHF1ZSBkZSBiYXNlIixub0ZJRDoiSW1wb3NzaWJsZSBkZSBtZXR0cmUgXHUwMGUwIGpvdXIgdW4gb2JqZXQgc2FucyBpZGVudGlmaWFudCAoZmlkKS4iLGJyb3dzZXJOb3RTdXBwb3J0ZWQ6IlZvdHJlIG5hdmlnYXRldXIgbmUgc3VwcG9ydGUgcGFzIGxlIHJlbmR1IHZlY3RvcmllbC4gTGVzIHJlbmRlcmVycyBhY3R1ZWxsZW1lbnQgc3VwcG9ydFx1MDBlOXMgc29udCA6IFxuJHtyZW5kZXJlcnN9IixtaW5ab29tTGV2ZWxFcnJvcjoiTGEgcHJvcHJpXHUwMGU5dFx1MDBlOSBtaW5ab29tTGV2ZWwgZG9pdCBzZXVsZW1lbnQgXHUwMGVhdHJlIHV0aWxpc1x1MDBlOWUgcG91ciBkZXMgY291Y2hlcyBGaXhlZFpvb21MZXZlbHMtZGVzY2VuZGVudC4gTGUgZmFpdCBxdWUgY2V0dGUgY291Y2hlIFdGUyB2XHUwMGU5cmlmaWUgbGEgcHJcdTAwZTlzZW5jZSBkZSBtaW5ab29tTGV2ZWwgZXN0IHVuZSByZWxpcXVlIGR1IHBhc3NcdTAwZTkuIE5vdXMgbmUgcG91dm9ucyB0b3V0ZWZvaXMgbGEgc3VwcHJpbWVyIHNhbnMgY2Fzc2VyIGRlcyBhcHBsaWNhdGlvbnMgcXVpIHBvdXJyYWllbnQgZW4gZFx1MDBlOXBlbmRyZS4gQydlc3QgcG91cnF1b2kgbm91cyBsYSBkXHUwMGU5cHJcdTAwZTljaW9ucyAtLSBsYSB2XHUwMGU5cmlmaWNhdGlvbiBkdSBtaW5ab29tTGV2ZWwgc2VyYSBzdXBwcmltXHUwMGU5ZSBlbiB2ZXJzaW9uIDMuMC4gQSBsYSBwbGFjZSwgbWVyY2kgZCd1dGlsaXNlciBsZXMgcGFyYW1cdTAwZTh0cmVzIGRlIHJcdTAwZTlzb2x1dGlvbnMgbWluL21heCB0ZWwgcXVlIGRcdTAwZTljcml0IHN1ciA6IGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU2V0dGluZ1pvb21MZXZlbHMiLApjb21taXRTdWNjZXNzOiJUcmFuc2FjdGlvbiBXRlMgOiBTVUNDRVMgJHtyZXNwb25zZX0iLGNvbW1pdEZhaWxlZDoiVHJhbnNhY3Rpb24gV0ZTIDogRUNIRUMgJHtyZXNwb25zZX0iLGdvb2dsZVdhcm5pbmc6IkxhIGNvdWNoZSBHb29nbGUgbidhIHBhcyBcdTAwZTl0XHUwMGU5IGVuIG1lc3VyZSBkZSBzZSBjaGFyZ2VyIGNvcnJlY3RlbWVudC48YnI+PGJyPlBvdXIgc3VwcHJpbWVyIGNlIG1lc3NhZ2UsIGNob2lzaXNzZXogdW5lIG5vdXZlbGxlIEJhc2VMYXllciBkYW5zIGxlIHNcdTAwZTlsZWN0ZXVyIGRlIGNvdWNoZSBlbiBoYXV0IFx1MDBlMCBkcm9pdGUuPGJyPjxicj5DZWxhIGVzdCBwb3NzaWJsZW1lbnQgY2F1c1x1MDBlOSBwYXIgbGEgbm9uLWluY2x1c2lvbiBkZSBsYSBsaWJyYWlyaWUgR29vZ2xlIE1hcHMsIG91IGFsb3JzIHBhcmNlIHF1ZSBsYSBjbFx1MDBlOSBkZSBsJ0FQSSBuZSBjb3JyZXNwb25kIHBhcyBcdTAwZTAgdm90cmUgc2l0ZS48YnI+PGJyPkRcdTAwZTl2ZWxvcHBldXJzIDogcG91ciBzYXZvaXIgY29tbWVudCBjb3JyaWdlciBjZWNpLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZScgdGFyZ2V0PSdfYmxhbmsnPmNsaXF1ZXogaWNpPC9hPiIsCmdldExheWVyV2FybmluZzoiTGEgY291Y2hlICR7bGF5ZXJUeXBlfSBuJ2VzdCBwYXMgZW4gbWVzdXJlIGRlIHNlIGNoYXJnZXIgY29ycmVjdGVtZW50Ljxicj48YnI+UG91ciBzdXBwcmltZXIgY2UgbWVzc2FnZSwgY2hvaXNpc3NleiB1bmUgbm91dmVsbGUgQmFzZUxheWVyIGRhbnMgbGUgc1x1MDBlOWxlY3RldXIgZGUgY291Y2hlIGVuIGhhdXQgXHUwMGUwIGRyb2l0ZS48YnI+PGJyPkNlbGEgZXN0IHBvc3NpYmxlbWVudCBjYXVzXHUwMGU5IHBhciBsYSBub24taW5jbHVzaW9uIGRlIGxhIGxpYnJhaXJpZSAke2xheWVyTGlifS48YnI+PGJyPkRcdTAwZTl2ZWxvcHBldXJzIDogcG91ciBzYXZvaXIgY29tbWVudCBjb3JyaWdlciBjZWNpLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+Y2xpcXVleiBpY2k8L2E+IiwiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6IkVjaGVsbGUgfiAxIDogJHtzY2FsZURlbm9tfSIsClc6Ik8iLEU6IkUiLE46Ik4iLFM6IlMiLHJlcHJvamVjdERlcHJlY2F0ZWQ6IlZvdXMgdXRpbGlzZXogbCdvcHRpb24gJ3JlcHJvamVjdCcgc3VyIGxhIGNvdWNoZSAke2xheWVyTmFtZX0uIENldHRlIG9wdGlvbiBlc3QgZFx1MDBlOXByXHUwMGU5Y2lcdTAwZTllIDogU29uIHVzYWdlIHBlcm1ldHRhaXQgZCdhZmZpY2hlciBkZXMgZG9ublx1MDBlOWVzIGF1IGRlc3N1cyBkZSBjb3VjaGVzIHJhc3RlciBjb21tZXJjaWFsZXMuQ2V0dGUgZm9uY3Rpb25hbGl0XHUwMGU5IGVzdCBtYWludGVuYW50IHN1cHBvcnRcdTAwZTllIGVuIHV0aWxpc2FudCBsZSBzdXBwb3J0IGRlIGxhIHByb2plY3Rpb24gTWVyY2F0b3IgU3BoXHUwMGU5cmlxdWUuIFBsdXMgZCdpbmZvcm1hdGlvbiBlc3QgZGlzcG9uaWJsZSBzdXIgaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TcGhlcmljYWxNZXJjYXRvci4iLG1ldGhvZERlcHJlY2F0ZWQ6IkNldHRlIG1cdTAwZTl0aG9kZSBlc3QgZFx1MDBlOXByXHUwMGU5Y2lcdTAwZTllLCBldCBzZXJhIHN1cHByaW1cdTAwZTllIFx1MDBlMCBsYSB2ZXJzaW9uIDMuMC4gTWVyY2kgZCd1dGlsaXNlciAke25ld01ldGhvZH0gXHUwMGUwIGxhIHBsYWNlLiJ9KTtPcGVuTGF5ZXJzLkxhbmcua3NoPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHt1bmhhbmRsZWRSZXF1ZXN0OiJNZXQgZFx1MDBlNCBBbnR3b290IG9wIGVuIEFhbmZyb29jaCBoYW1fbWVyIG5peCBhYW5qZWZhbmdlOiAke3N0YXR1c1RleHR9IixQZXJtYWxpbms6IkxlbmdrIG9wIER1dWVyIixPdmVybGF5czoiRHJcdTAwZjZ2dmVyIGplbGFhdCIsIkJhc2UgTGF5ZXIiOiJKcnVuZC1OaXZvaCIsbm9GSUQ6J0VuIFNhYWNoLCB3b2gga2VpbiA8aSBsYW5nPSJlbiI+RklEPC9pPiBmXHUwMGY2ciBkb2ggZXMsIGxcdTAwZjZodCBzZXNjaCBuaXQgXHUwMGU0bmRlcmUuJyxicm93c2VyTm90U3VwcG9ydGVkOiJEaW5nZSBCcmF1c2VyIGthbm4ga2VpbiBWXHUwMGU0a3RvcmUgdVx1MDBkZmpcdTAwZTR2dmUuIERlIFpvb3RlIFVcdTAwZGZqYWFiZSwgZGkgZW0gTW9tYW5nIGpvbiwgc2VuOlxuJHtyZW5kZXJlcnN9IixtaW5ab29tTGV2ZWxFcnJvcjonRGUgRWlqZXNjaGFmZiBcdTIwMWU8Y29kZSBsYW5nPSJlbiI+bWluWm9vbUxldmVsPC9jb2RlPlx1MjAxYyBlcyBibG9cdTAwZGYgZG9mXHUwMGY2ciBqZWRhYWNoLCBkYXQgbWVyIHNlIG1ldCBkXHUwMGU0IE5pdnZvaFx1MDBkZiBicnVjaCwgZGkgdnVuIDxjb2RlIGxhbmc9ImVuIj5GaXhlZFpvb21MZXZlbHM8L2NvZGU+IGFmZmhhbmdlIGRvbi4gRGF0IGRhdCA8aSBsYW5nPSJlbiI+V0ZTPC9pPi1OaXZ2b2ggXHUwMGY2dnZlcmhvdXAgZGUgRWlqZXNjaGFmZiBcdTIwMWU8Y29kZSBsYW5nPSJlbiI+bWluWm9vbUxldmVsPC9jb2RlPlx1MjAxYyBwclx1MDBmNmhmZSBkZWlodCwgZXMgbm9jaCBcdTAwZjZ2dmVyZXNjaCB2dW4gZnJcdTAwZjZoamVyLiBNZXIga1x1MDBmY25uZSBkYXQgXHUwMGU0dnZlciBqZXogbml0IGZvdHQgbG9oXHUwMGRmZSwgb29obmUgZGF0IG1lciBKZXZhYSBsb3VmZSwgZGF0IEFhbndlbmR1bmdlIHZ1biBPcGVuTGF5ZXJzIG5pdCBtaWVoIGxvdWZlLCBkaSBzZXNjaCBkb2ggdmVsbGVpanNjaCBub2NoIGRyb3AgYW0gdmVybG9oXHUwMGRmZSBzaW4uIERyXHUwMGY2bSBzYXJlIG1lciwgZGF0IG1lciBldCBuaXQgbWllaCBoYW4gd2VsbGUsIHVuIGRlIFx1MjAxZTxjb2RlIGxhbmc9ImVuIj5taW5ab29tTGV2ZWw8L2NvZGU+XHUyMDFjLUVpamVzY2hhZmYgd2VlZCBoZWUgdnVuIGRlIFZlcnNpb24gMy4wIGFmIG5pdCBtaWVoIGplcHJcdTAwZjZcdTAwZjZmIHdcdTAwZTRkZS4gTmVtbSBkb2ZcdTAwZjZyIGRlIEVuc3RlbGx1bmcgZlx1MDBmNnIgZGUgaFx1MDBmY2hcdTAwZGZ0ZSB1biBkZSBrbGVpblx1MDBkZnRlIE9wbFx1MDBmNmhzdW5nLCBlc3Ugd2kgZXQgZW4gaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyBvcGplc2NocmV2dmUgZXMuJywKY29tbWl0U3VjY2VzczonRFx1MDBlNCA8aSBsYW5nPSJlbiI+V0ZTPC9pPi1WXHUwMGY2cmphbmcgZXMgam9vdCBqZWxvdWZlOiAke3Jlc3BvbnNlfScsY29tbWl0RmFpbGVkOidEXHUwMGU0IDxpIGxhbmc9ImVuIj5XRlM8L2k+LVZcdTAwZjZyamFuZyBlcyBzY2hlaWYgamVqYW5nZTogJHtyZXNwb25zZX0nLGdvb2dsZVdhcm5pbmc6J0RhdCBOaXZ2b2ggPGNvZGUgbGFuZz0iZW4iPkdvb2dsZTwvY29kZT4ga3VubnQgbml0IHJlc2NodGVzY2ggamVsYWFkZSB3XHUwMGU0XHUwMGU0ZGUuPGJyIC8+PGJyIC8+XHUwMGQ2bSBoZWUgZGkgTm9ocmVlc2NoIGxvXHUwMGRmIHplIGtyaWpqZSwgZG9ubiBlbiBhbmRlciBKcnVuZC1OaXZ2b2ggdVx1MDBkZnNcdTAwZjZoa2UsIHJcdTAwZTRoXHUwMGRmIGJvdnZlIGVuIGRlIFx1MDBjNGsuPGJyIC8+PGJyIC8+V2FzY2hlaW5sZXNjaCBlcyBkYXQgd2llbCBkYXQgPGkgbGFuZz0iZW4iPkdvb2dsZS1NYXBzPC9pPi1Ta3JlcHAgZW50d2VlZGVyIG5pdCByZXNjaHRlc2NoIGVuamVib25nZSB3b29kLCB1ZGRlciBuaXQgZFx1MDBlNCByZXNjaHRlamplIDxpIGxhbmc9ImVuIj5BUEk8L2k+LVNjaGxcdTAwZjZcdTAwZGZlbCBmXHUwMGY2ciBEaW5nIFdlYi1cdTAwZGZhaXQgc2NoZWtlIGRlaWh0LjxiciAvPjxiciAvPkZcdTAwZjZyIFByb2pyYW1taWVyZXIgamlkZF9ldCBIXHUwMGY2bHAgZG9fZHJcdTAwZjZ2dmVyLCA8YSBocmVmPSJodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZSIgdGFyZ2V0PSJfYmxhbmsiPndpIG1lciBkYXQgYWFuIGV0IExvdWZlIGJyZW5nazwvYT4uJywKZ2V0TGF5ZXJXYXJuaW5nOidEYXQgTml2dm9oIDxjb2RlPiR7bGF5ZXJUeXBlfTwvY29kZT4ga3VubnQgbml0IHJlc2NodGVzY2ggamVsYWFkZSB3XHUwMGU0XHUwMGU0ZGUuPGJyIC8+PGJyIC8+XHUwMGQ2bSBoZWUgZGkgTm9ocmVlc2NoIGxvXHUwMGRmIHplIGtyaWpqZSwgZG9ubiBlbiBhbmRlciBKcnVuZC1OaXZ2b2ggdVx1MDBkZnNcdTAwZjZoa3JlLCByXHUwMGU0aFx1MDBkZiBib3Z2ZSBlbiBkZSBcdTAwYzRrLjxiciAvPjxiciAvPldhc2NoZWlubGVzY2ggZXMgZGF0LCB3aWVsIGRhdCBTa3JlcHAgPGNvZGU+JHtsYXllckxpYn08L2NvZGU+IG5pdCByZXNjaHRlc2NoIGVuamVib25nZSB3b29kLjxiciAvPjxiciAvPkZcdTAwZjZyIFByb2pyYW1taWVyZXIgamlkZF9FdCBIXHUwMGY2bHAgZG9fZHJcdTAwZjZ2dmVyLCA8YSBocmVmPSJodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9IiB0YXJnZXQ9Il9ibGFuayI+d2kgbWVyIGRhdCBhYW4gZXQgTG91ZmUgYnJlbmdrPC9hPi4nLAoiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6Ik1vaFx1MDBkZnNodGFhYiA9IDEgOiAke3NjYWxlRGVub219IixXOiJXIixFOiJPIixOOiJOIixTOiJTIixyZXByb2plY3REZXByZWNhdGVkOiJEbyBicnVjaHMgZGUgVVx1MDBkZndhaGwgPGNvZGU+cmVwcm9qZWN0PC9jb2RlPiBvcCBkXHUwMGU0bSBOaXZ2b2ggPGNvZGU+JHtsYXllck5hbWV9PC9jb2RlPi4gRGkgVVx1MDBkZndhaGwgZXMgbml0IG1pZWggalx1MDBlNGhuIGplc2lubi4gU2Ugd29ociBkb2ZcdTAwZjZyIGplZGFhY2gsIFx1MDBmNm0gRGF0ZSBvcCBqZXNjaFx1MDBlNFx1MDBlNGZzbVx1MDBlNFx1MDBkZmVzY2ggZXJ1XHUwMGRmIGplam92dmUgS2FhdGUgYm92dmUgZHJvcCB6ZSBtb29sZSwgd2F0IFx1MDBlNHZ2ZXIgZW56d2VzY2hlIGJlc3NlciBtZXQgZFx1MDBlNCBcdTAwZDZuZ2Vyc2h0XHUwMGY2enVuZyBmXHUwMGY2ciBkZSBcdTAwZGZmXHUwMGU0XHUwMGU0cmVzY2hlIE1cdTAwZTRrYWF0b3IgQmVsZHNjaGVyIGplaWh0LiBEb2gga2FubnMgRGUgbWllaCBkclx1MDBmNnZ2ZXIgZmVuZ2Ugb3AgZFx1MDBlNCBTaWdnOiBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NwaGVyaWNhbE1lcmNhdG9yLiIsCm1ldGhvZERlcHJlY2F0ZWQ6IkhlZSBkaSBNZXRvb2QgZXMgbmltX21paCBha3RvXHUwMGU0bGwgdW4gZXQgd2VlZCBzZSBlbiBkXHUwMGU0IFZlcnNpb24gMy4wIG5pdCBtaWVoIGpcdTAwZTR2dmUuIE5lbW0gPGNvZGU+JHtuZXdNZXRob2R9PC9jb2RlPiBkb2ZcdTAwZjZcdTAwZjZyLiJ9KTtPcGVuTGF5ZXJzLkxhbmcuaXQ9e3VuaGFuZGxlZFJlcXVlc3Q6IkNvZGljZSBkaSByaXRvcm5vIGRlbGxhIHJpY2hpZXN0YSAke3N0YXR1c1RleHR9IixQZXJtYWxpbms6IlBlcm1hbGluayIsT3ZlcmxheXM6Ik92ZXJsYXlzIiwiQmFzZSBMYXllciI6IkxpdmVsbG8gYmFzZSIsbm9GSUQ6IkltcG9zc2liaWxlIGFnZ2lvcm5hcmUgdW4gZWxlbWVudG8gZ3JhZmljbyBjaGUgbm9uIGFiYmlhIGlsIEZJRC4iLGJyb3dzZXJOb3RTdXBwb3J0ZWQ6IklsIHR1byBicm93c2VyIG5vbiBzdXBwb3J0YSBpbCByZW5kZXJpbmcgdmV0dG9yaWFsZS4gSSByZW5kZXJpenphdG9yZSBhdHR1YWxlbW50ZSBzdXBwb3J0YXRpIHNvbm86XG4ke3JlbmRlcmVyc30iLG1pblpvb21MZXZlbEVycm9yOiJMYSBwcm9wcmlldFx1MDBlMCBtaW5ab29tTGV2ZWwgXHUwMGU4IGRhIHV0aWxpenphcmUgc29sYW1lbnRlIGNvbiBsaXZlbGxpIGNoZSBhYmJpYW5vIEZpeGVkWm9vbUxldmVscy4gSWwgZmF0dG8gY2hlIHF1ZXN0byBsaXZlbGxvIHdmcyBjb250cm9sbGkgbGEgcHJvcHJpZXRcdTAwZTAgbWluWm9vbUxldmVsIFx1MDBlOCB1biByZXRhZ2dpbyBkZWwgcGFzc2F0by4gTm9uIHBvc3NpYW1vIGNvbXVucXVlIHJpbXVvdmVybGEgc2VuemEgcm9tcGVyZSBsZSB2ZWNjaGllIGFwcGxpY2F6aW9uaSBjaGUgZGlwZW5kb25vIHN1IGRpIGVzc2EuUXVpbmRpIHNpYW1vIGNvc3RyZXR0aSBhIGRlcHJlY2FybGEgLS0gbWluWm9vbUxldmVsIGUgc2FyXHUwMGUwIHJpbW9zc2EgZGFsbGEgdmVzaW9uZSAzLjAuIFNpIHByZWdhIGRpIHV0aWxpenphcmUgaSBzZXR0YWdnaSBkaSByaXNvbHV6aW9uZSBtaW4vbWF4IGNvbWUgZGVzY3JpdHRvIHF1aTogaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyIsCmNvbW1pdFN1Y2Nlc3M6IlRyYW5zYXppb25lIFdGUzogU1VDQ0VTUyAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJUcmFuc2F6aW9uZSBXRlM6IEZBSUxFRCAke3Jlc3BvbnNlfSIsZ29vZ2xlV2FybmluZzoiSWwgbGl2ZWxsbyBHb29nbGUgbm9uIFx1MDBlOCByaXVzY2l0byBhIGNhcmljYXJlIGNvcnJldHRhbWVudGUuPGJyPjxicj5QZXIgZXZpdGFyZSBxdWVzdG8gbWVzc2FnZ2lvLCBzZWxlemlvbmEgdW4gbnVvdm8gQmFzZUxheWVyIG5lbCBzZWxldHRvcmUgZGkgbGl2ZWxsaSBuZWxsJ2FuZ29sbyBpbiBhbHRvIGEgZGVzdHJhLjxicj48YnI+UGlcdTAwZjkgcHJlY2lzYW1lbnRlLCBjaVx1MDBmMiBhY2NhZGUgcGVyY2hcdTAwZTggbGEgbGlicmVyaWEgR29vZ2xlIE1hcHMgbm9uIFx1MDBlOCBzdGF0YSBpbmNsdXNhIG5lbGxhIHBhZ2luYSwgb3BwdXJlIG5vbiBjb250aWVuZSBsYSBjb3JyZXR0YSBBUEkga2V5IHBlciBpbCB0dW8gc2l0by48YnI+PGJyPlN2aWx1cHBhdG9yaTogUGVyIGFpdXRvIHN1IGNvbWUgZmFybG8gZnVuemlvbmFyZSBjb3JyZXR0YW1lbnRlLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZScgdGFyZ2V0PSdfYmxhbmsnPmNsaWNjYSBxdWk8L2E+IiwKZ2V0TGF5ZXJXYXJuaW5nOiJJbCBsaXZlbGxvICR7bGF5ZXJUeXBlfSBub24gXHUwMGU4IHJpdXNjaXRvIGEgY2FyaWNhcmUgY29ycmV0dGFtZW50ZS48YnI+PGJyPlBlciBldml0YXJlIHF1ZXN0byBtZXNzYWdnaW8sIHNlbGV6aW9uYSB1biBudW92byBCYXNlTGF5ZXIgbmVsIHNlbGV0dG9yZSBkaSBsaXZlbGxpIG5lbGwnYW5nb2xvIGluIGFsdG8gYSBkZXN0cmEuPGJyPjxicj5QaVx1MDBmOSBwcmVjaXNhbWVudGUsIGNpXHUwMGYyIGFjY2FkZSBwZXJjaFx1MDBlOCBsYSBsaWJyZXJpYSAke2xheWVyTGlifSBub24gXHUwMGU4IHN0YXRhIGluY2x1c2EgbmVsbGEgcGFnaW5hLjxicj48YnI+U3ZpbHVwcGF0b3JpOiBQZXIgYWl1dG8gc3UgY29tZSBmYXJsbyBmdW56aW9uYXJlIGNvcnJldHRhbWVudGUsIDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvJHtsYXllckxpYn0nIHRhcmdldD0nX2JsYW5rJz5jbGljY2EgcXVpPC9hPiIsIlNjYWxlID0gMSA6ICR7c2NhbGVEZW5vbX0iOiJTY2FsYSA9IDEgOiAke3NjYWxlRGVub219IiwKcmVwcm9qZWN0RGVwcmVjYXRlZDoiU3RhaSB1dGlsaXp6YW5kbyBsJ29wemlvbmUgJ3JlcHJvamVjdCcgc3VsIGxpdmVsbG8gJHtsYXllck5hbWV9LiBRdWVzdGEgb3B6aW9uZSBcdTAwZTggZGVwcmVjYXRhOiBpbCBzdW8gdXRpbGl6em8gXHUwMGU4IHN0YXRvIGludHJvZG90dG8gcGVyc3VwcG9ydGFyZSBpbCBkaXNlZ25vIGRlaSBkYXRpIHNvcHJhIG1hcHBlIGNvbW1lcmNpYWxpLCBtYSB0YWxlIGZ1bnppb25hbGl0XHUwMGUwIGRvdnJlYmJlIGVzc2VyZSBvdHRlbnV0YSB0cmFtaXRlIGwndXRpbGl6em8gZGVsbGEgcHJvaWV6aW9uZSBTcGhlcmljYWwgTWVyY2F0b3IuIFBlciBtYWdnaW9yaSBpbmZvcm1hemlvbmkgY29uc3VsdGFyZSBxdWkgaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TcGhlcmljYWxNZXJjYXRvci4iLG1ldGhvZERlcHJlY2F0ZWQ6IlF1ZXN0byBtZXRvZG8gXHUwMGU4IHN0YXRvIGRlcHJlY2F0byBlIHNhclx1MDBlMCByaW1vc3NvIGRhbGxhIHZlcnNpb25lIDMuMC4gU2kgcHJlZ2EgZGkgdXRpbGl6emFyZSBpbCBtZXRvZG8gJHtuZXdNZXRob2R9IGluIGFsdGVybmF0aXZhLiIsCmVuZDoiIn07T3BlbkxheWVycy5Gb3JtYXQuV1BTQ2FwYWJpbGl0aWVzLnYxXzBfMD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7bmFtZXNwYWNlczp7b3dzOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L293cy8xLjEiLHdwczoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC93cHMvMS4wLjAiLHhsaW5rOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIn0scmVnRXhlczp7dHJpbVNwYWNlOi9eXHMqfFxzKiQvZyxyZW1vdmVTcGFjZTovXHMqL2csc3BsaXRTcGFjZTovXHMrLyx0cmltQ29tbWE6L1xzKixccyovZ30saW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pfSxyZWFkOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7YSYmOT09YS5ub2RlVHlwZSYmKGE9YS5kb2N1bWVudEVsZW1lbnQpOwp2YXIgYj17fTt0aGlzLnJlYWROb2RlKGEsYik7cmV0dXJuIGJ9LHJlYWRlcnM6e3dwczp7Q2FwYWJpbGl0aWVzOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxQcm9jZXNzT2ZmZXJpbmdzOmZ1bmN0aW9uKGEsYil7Yi5wcm9jZXNzT2ZmZXJpbmdzPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnByb2Nlc3NPZmZlcmluZ3MpfSxQcm9jZXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9e3Byb2Nlc3NWZXJzaW9uOnRoaXMuZ2V0QXR0cmlidXRlTlMoYSx0aGlzLm5hbWVzcGFjZXMud3BzLCJwcm9jZXNzVmVyc2lvbiIpfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7YltjLmlkZW50aWZpZXJdPWN9LExhbmd1YWdlczpmdW5jdGlvbihhLGIpe2IubGFuZ3VhZ2VzPVtdO3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLmxhbmd1YWdlcyl9LERlZmF1bHQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz17aXNEZWZhdWx0OiEwfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5wdXNoKGMpfSwKU3VwcG9ydGVkOmZ1bmN0aW9uKGEsYil7dmFyIGM9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IucHVzaChjKX19LG93czpPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24udjFfMV8wLnByb3RvdHlwZS5yZWFkZXJzLm93c30sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuV1BTQ2FwYWJpbGl0aWVzLnYxXzBfMCJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuUGluY2hab29tPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHt0eXBlOk9wZW5MYXllcnMuQ29udHJvbC5UWVBFX1RPT0wscGluY2hPcmlnaW46bnVsbCxjdXJyZW50Q2VudGVyOm51bGwsYXV0b0FjdGl2YXRlOiEwLHByZXNlcnZlQ2VudGVyOiExLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmhhbmRsZXI9bmV3IE9wZW5MYXllcnMuSGFuZGxlci5QaW5jaCh0aGlzLHtzdGFydDp0aGlzLnBpbmNoU3RhcnQsbW92ZTp0aGlzLnBpbmNoTW92ZSxkb25lOnRoaXMucGluY2hEb25lfSx0aGlzLmhhbmRsZXJPcHRpb25zKX0scGluY2hTdGFydDpmdW5jdGlvbihhKXt0aGlzLmN1cnJlbnRDZW50ZXI9dGhpcy5waW5jaE9yaWdpbj1hPXRoaXMucHJlc2VydmVDZW50ZXI/dGhpcy5tYXAuZ2V0UGl4ZWxGcm9tTG9uTGF0KHRoaXMubWFwLmdldENlbnRlcigpKToKYS54eX0scGluY2hNb3ZlOmZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5zY2FsZSxkPXRoaXMubWFwLmxheWVyQ29udGFpbmVyT3JpZ2luUHgsZT10aGlzLnBpbmNoT3JpZ2luLGY9dGhpcy5wcmVzZXJ2ZUNlbnRlcj90aGlzLm1hcC5nZXRQaXhlbEZyb21Mb25MYXQodGhpcy5tYXAuZ2V0Q2VudGVyKCkpOmEueHksZz1NYXRoLnJvdW5kKGQueCtmLngtZS54KyhjLTEpKihkLngtZS54KSksZD1NYXRoLnJvdW5kKGQueStmLnktZS55KyhjLTEpKihkLnktZS55KSk7dGhpcy5tYXAuYXBwbHlUcmFuc2Zvcm0oZyxkLGMpO3RoaXMuY3VycmVudENlbnRlcj1mfSxwaW5jaERvbmU6ZnVuY3Rpb24oYSxiLGMpe3RoaXMubWFwLmFwcGx5VHJhbnNmb3JtKCk7YT10aGlzLm1hcC5nZXRab29tRm9yUmVzb2x1dGlvbih0aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCkvYy5zY2FsZSwhMCk7aWYoYSE9PXRoaXMubWFwLmdldFpvb20oKXx8IXRoaXMuY3VycmVudENlbnRlci5lcXVhbHModGhpcy5waW5jaE9yaWdpbikpe3ZhciBiPQp0aGlzLm1hcC5nZXRSZXNvbHV0aW9uRm9yWm9vbShhKSxjPXRoaXMubWFwLmdldExvbkxhdEZyb21QaXhlbCh0aGlzLnBpbmNoT3JpZ2luKSxkPXRoaXMuY3VycmVudENlbnRlcixlPXRoaXMubWFwLmdldFNpemUoKTtjLmxvbis9YiooZS53LzItZC54KTtjLmxhdC09YiooZS5oLzItZC55KTt0aGlzLm1hcC5kaXYuY2xpZW50V2lkdGg9dGhpcy5tYXAuZGl2LmNsaWVudFdpZHRoO3RoaXMubWFwLnNldENlbnRlcihjLGEpfX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLlBpbmNoWm9vbSJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuVG91Y2hOYXZpZ2F0aW9uPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHtkcmFnUGFuOm51bGwsZHJhZ1Bhbk9wdGlvbnM6bnVsbCxwaW5jaFpvb206bnVsbCxwaW5jaFpvb21PcHRpb25zOm51bGwsY2xpY2tIYW5kbGVyT3B0aW9uczpudWxsLGRvY3VtZW50RHJhZzohMSxhdXRvQWN0aXZhdGU6ITAsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXt0aGlzLmhhbmRsZXJzPXt9O09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmRlYWN0aXZhdGUoKTt0aGlzLmRyYWdQYW4mJnRoaXMuZHJhZ1Bhbi5kZXN0cm95KCk7dGhpcy5kcmFnUGFuPW51bGw7dGhpcy5waW5jaFpvb20mJih0aGlzLnBpbmNoWm9vbS5kZXN0cm95KCksZGVsZXRlIHRoaXMucGluY2hab29tKTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcywKYXJndW1lbnRzKX0sYWN0aXZhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5hY3RpdmF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk/KHRoaXMuZHJhZ1Bhbi5hY3RpdmF0ZSgpLHRoaXMuaGFuZGxlcnMuY2xpY2suYWN0aXZhdGUoKSx0aGlzLnBpbmNoWm9vbS5hY3RpdmF0ZSgpLCEwKTohMX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3JldHVybiBPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlYWN0aXZhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpPyh0aGlzLmRyYWdQYW4uZGVhY3RpdmF0ZSgpLHRoaXMuaGFuZGxlcnMuY2xpY2suZGVhY3RpdmF0ZSgpLHRoaXMucGluY2hab29tLmRlYWN0aXZhdGUoKSwhMCk6ITF9LGRyYXc6ZnVuY3Rpb24oKXt2YXIgYT17Y2xpY2s6dGhpcy5kZWZhdWx0Q2xpY2ssZGJsY2xpY2s6dGhpcy5kZWZhdWx0RGJsQ2xpY2t9LGI9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7ImRvdWJsZSI6ITAsc3RvcERvdWJsZTohMCwKcGl4ZWxUb2xlcmFuY2U6Mn0sdGhpcy5jbGlja0hhbmRsZXJPcHRpb25zKTt0aGlzLmhhbmRsZXJzLmNsaWNrPW5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuQ2xpY2sodGhpcyxhLGIpO3RoaXMuZHJhZ1Bhbj1uZXcgT3BlbkxheWVycy5Db250cm9sLkRyYWdQYW4oT3BlbkxheWVycy5VdGlsLmV4dGVuZCh7bWFwOnRoaXMubWFwLGRvY3VtZW50RHJhZzp0aGlzLmRvY3VtZW50RHJhZ30sdGhpcy5kcmFnUGFuT3B0aW9ucykpO3RoaXMuZHJhZ1Bhbi5kcmF3KCk7dGhpcy5waW5jaFpvb209bmV3IE9wZW5MYXllcnMuQ29udHJvbC5QaW5jaFpvb20oT3BlbkxheWVycy5VdGlsLmV4dGVuZCh7bWFwOnRoaXMubWFwfSx0aGlzLnBpbmNoWm9vbU9wdGlvbnMpKX0sZGVmYXVsdENsaWNrOmZ1bmN0aW9uKGEpe2EubGFzdFRvdWNoZXMmJjI9PWEubGFzdFRvdWNoZXMubGVuZ3RoJiZ0aGlzLm1hcC56b29tT3V0KCl9LGRlZmF1bHREYmxDbGljazpmdW5jdGlvbihhKXt0aGlzLm1hcC56b29tVG8odGhpcy5tYXAuem9vbSsKMSxhLnh5KX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLlRvdWNoTmF2aWdhdGlvbiJ9KTtPcGVuTGF5ZXJzLlN0eWxlMj1PcGVuTGF5ZXJzLkNsYXNzKHtpZDpudWxsLG5hbWU6bnVsbCx0aXRsZTpudWxsLGRlc2NyaXB0aW9uOm51bGwsbGF5ZXJOYW1lOm51bGwsaXNEZWZhdWx0OiExLHJ1bGVzOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsYSk7dGhpcy5pZD1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlVW5pcXVlSUQodGhpcy5DTEFTU19OQU1FKyJfIil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPXRoaXMucnVsZXMubGVuZ3RoO2E8YjthKyspdGhpcy5ydWxlc1thXS5kZXN0cm95KCk7ZGVsZXRlIHRoaXMucnVsZXN9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSx0aGlzKTtpZih0aGlzLnJ1bGVzKXthLnJ1bGVzPVtdO2Zvcih2YXIgYj0wLGM9dGhpcy5ydWxlcy5sZW5ndGg7YjxjOysrYilhLnJ1bGVzLnB1c2godGhpcy5ydWxlc1tiXS5jbG9uZSgpKX1yZXR1cm4gbmV3IE9wZW5MYXllcnMuU3R5bGUyKGEpfSwKQ0xBU1NfTkFNRToiT3BlbkxheWVycy5TdHlsZTIifSk7T3BlbkxheWVycy5MYW5nLmZ1cj1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7UGVybWFsaW5rOiJMZWFtIFBlcm1hbmVudCIsT3ZlcmxheXM6IkxpdmVpIHBhcnNvcmUiLCJCYXNlIExheWVyIjoiTGl2ZWwgZGkgYmFzZSIsYnJvd3Nlck5vdFN1cHBvcnRlZDoiSWwgdG8gc2dhcmZhZFx1MDBmNHIgbm9sIHN1cHVhcnRlIGxhIHJlbmRlcml6YXppb24gdmV0b3JpXHUwMGUybC4gQWwgbW9tZW50IGEgc29uIHN1cHVhcnRcdTAwZTJ0czpcbiR7cmVuZGVyZXJzfSIsIlNjYWxlID0gMSA6ICR7c2NhbGVEZW5vbX0iOiJTY2phbGUgPSAxIDogJHtzY2FsZURlbm9tfSIsVzoiTyIsRToiRSIsTjoiTiIsUzoiUyJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5XRlM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5HTUwse2xheWVyOm51bGwsd2ZzbnM6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvd2ZzIixvZ2NuczoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vZ2MiLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLkZvcm1hdC5HTUwucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pO3RoaXMubGF5ZXI9Yjt0aGlzLmxheWVyLmZlYXR1cmVOUyYmKHRoaXMuZmVhdHVyZU5TPXRoaXMubGF5ZXIuZmVhdHVyZU5TKTt0aGlzLmxheWVyLm9wdGlvbnMuZ2VvbWV0cnlfY29sdW1uJiYodGhpcy5nZW9tZXRyeU5hbWU9dGhpcy5sYXllci5vcHRpb25zLmdlb21ldHJ5X2NvbHVtbik7dGhpcy5sYXllci5vcHRpb25zLnR5cGVuYW1lJiYodGhpcy5mZWF0dXJlTmFtZT10aGlzLmxheWVyLm9wdGlvbnMudHlwZW5hbWUpfSx3cml0ZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLndmc25zLAoid2ZzOlRyYW5zYWN0aW9uIik7Yi5zZXRBdHRyaWJ1dGUoInZlcnNpb24iLCIxLjAuMCIpO2Iuc2V0QXR0cmlidXRlKCJzZXJ2aWNlIiwiV0ZTIik7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspc3dpdGNoKGFbY10uc3RhdGUpe2Nhc2UgT3BlbkxheWVycy5TdGF0ZS5JTlNFUlQ6Yi5hcHBlbmRDaGlsZCh0aGlzLmluc2VydChhW2NdKSk7YnJlYWs7Y2FzZSBPcGVuTGF5ZXJzLlN0YXRlLlVQREFURTpiLmFwcGVuZENoaWxkKHRoaXMudXBkYXRlKGFbY10pKTticmVhaztjYXNlIE9wZW5MYXllcnMuU3RhdGUuREVMRVRFOmIuYXBwZW5kQ2hpbGQodGhpcy5yZW1vdmUoYVtjXSkpfXJldHVybiBPcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLndyaXRlLmFwcGx5KHRoaXMsW2JdKX0sY3JlYXRlRmVhdHVyZVhNTDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmJ1aWxkR2VvbWV0cnlOb2RlKGEuZ2VvbWV0cnkpLGM9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5mZWF0dXJlTlMsImZlYXR1cmU6IisKdGhpcy5nZW9tZXRyeU5hbWUpO2MuYXBwZW5kQ2hpbGQoYik7Yj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLmZlYXR1cmVOUywiZmVhdHVyZToiK3RoaXMuZmVhdHVyZU5hbWUpO2IuYXBwZW5kQ2hpbGQoYyk7Zm9yKHZhciBkIGluIGEuYXR0cmlidXRlcyl7dmFyIGM9dGhpcy5jcmVhdGVUZXh0Tm9kZShhLmF0dHJpYnV0ZXNbZF0pLGU9ZDstMSE9ZC5zZWFyY2goIjoiKSYmKGU9ZC5zcGxpdCgiOiIpWzFdKTtlPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMuZmVhdHVyZU5TLCJmZWF0dXJlOiIrZSk7ZS5hcHBlbmRDaGlsZChjKTtiLmFwcGVuZENoaWxkKGUpfXJldHVybiBifSxpbnNlcnQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy53ZnNucywid2ZzOkluc2VydCIpO2IuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVGZWF0dXJlWE1MKGEpKTtyZXR1cm4gYn0sdXBkYXRlOmZ1bmN0aW9uKGEpe2EuZmlkfHxPcGVuTGF5ZXJzLkNvbnNvbGUudXNlckVycm9yKE9wZW5MYXllcnMuaTE4bigibm9GSUQiKSk7CnZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMud2ZzbnMsIndmczpVcGRhdGUiKTtiLnNldEF0dHJpYnV0ZSgidHlwZU5hbWUiLHRoaXMuZmVhdHVyZVByZWZpeCsiOiIrdGhpcy5mZWF0dXJlTmFtZSk7Yi5zZXRBdHRyaWJ1dGUoInhtbG5zOiIrdGhpcy5mZWF0dXJlUHJlZml4LHRoaXMuZmVhdHVyZU5TKTt2YXIgYz10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLndmc25zLCJ3ZnM6UHJvcGVydHkiKSxkPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMud2ZzbnMsIndmczpOYW1lIiksZT10aGlzLmNyZWF0ZVRleHROb2RlKHRoaXMuZ2VvbWV0cnlOYW1lKTtkLmFwcGVuZENoaWxkKGUpO2MuYXBwZW5kQ2hpbGQoZCk7ZD10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLndmc25zLCJ3ZnM6VmFsdWUiKTtlPXRoaXMuYnVpbGRHZW9tZXRyeU5vZGUoYS5nZW9tZXRyeSk7YS5sYXllciYmZS5zZXRBdHRyaWJ1dGUoInNyc05hbWUiLGEubGF5ZXIucHJvamVjdGlvbi5nZXRDb2RlKCkpOwpkLmFwcGVuZENoaWxkKGUpO2MuYXBwZW5kQ2hpbGQoZCk7Yi5hcHBlbmRDaGlsZChjKTtmb3IodmFyIGYgaW4gYS5hdHRyaWJ1dGVzKWM9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy53ZnNucywid2ZzOlByb3BlcnR5IiksZD10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLndmc25zLCJ3ZnM6TmFtZSIpLGQuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVUZXh0Tm9kZShmKSksYy5hcHBlbmRDaGlsZChkKSxkPXRoaXMuY3JlYXRlRWxlbWVudE5TKHRoaXMud2ZzbnMsIndmczpWYWx1ZSIpLGQuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVUZXh0Tm9kZShhLmF0dHJpYnV0ZXNbZl0pKSxjLmFwcGVuZENoaWxkKGQpLGIuYXBwZW5kQ2hpbGQoYyk7Yz10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLm9nY25zLCJvZ2M6RmlsdGVyIik7Zj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLm9nY25zLCJvZ2M6RmVhdHVyZUlkIik7Zi5zZXRBdHRyaWJ1dGUoImZpZCIsYS5maWQpO2MuYXBwZW5kQ2hpbGQoZik7CmIuYXBwZW5kQ2hpbGQoYyk7cmV0dXJuIGJ9LHJlbW92ZTpmdW5jdGlvbihhKXtpZighYS5maWQpcmV0dXJuIE9wZW5MYXllcnMuQ29uc29sZS51c2VyRXJyb3IoT3BlbkxheWVycy5pMThuKCJub0ZJRCIpKSwhMTt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROUyh0aGlzLndmc25zLCJ3ZnM6RGVsZXRlIik7Yi5zZXRBdHRyaWJ1dGUoInR5cGVOYW1lIix0aGlzLmZlYXR1cmVQcmVmaXgrIjoiK3RoaXMuZmVhdHVyZU5hbWUpO2Iuc2V0QXR0cmlidXRlKCJ4bWxuczoiK3RoaXMuZmVhdHVyZVByZWZpeCx0aGlzLmZlYXR1cmVOUyk7dmFyIGM9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5vZ2Nucywib2djOkZpbHRlciIpLGQ9dGhpcy5jcmVhdGVFbGVtZW50TlModGhpcy5vZ2Nucywib2djOkZlYXR1cmVJZCIpO2Quc2V0QXR0cmlidXRlKCJmaWQiLGEuZmlkKTtjLmFwcGVuZENoaWxkKGQpO2IuYXBwZW5kQ2hpbGQoYyk7cmV0dXJuIGJ9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmxheWVyPQpudWxsfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XRlMifSk7T3BlbkxheWVycy5Gb3JtYXQuU0xELnYxXzBfMF9HZW9TZXJ2ZXI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5TTEQudjFfMF8wLHt2ZXJzaW9uOiIxLjAuMCIscHJvZmlsZToiR2VvU2VydmVyIixyZWFkZXJzOk9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtzbGQ6T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe1ByaW9yaXR5OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5yZWFkZXJzLm9nYy5fZXhwcmVzc2lvbi5jYWxsKHRoaXMsYSk7YyYmKGIucHJpb3JpdHk9Yyl9LFZlbmRvck9wdGlvbjpmdW5jdGlvbihhLGIpe2IudmVuZG9yT3B0aW9uc3x8KGIudmVuZG9yT3B0aW9ucz17fSk7Yi52ZW5kb3JPcHRpb25zW2EuZ2V0QXR0cmlidXRlKCJuYW1lIildPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sVGV4dFN5bWJvbGl6ZXI6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLkZvcm1hdC5TTEQudjFfMF8wLnByb3RvdHlwZS5yZWFkZXJzLnNsZC5UZXh0U3ltYm9saXplci5hcHBseSh0aGlzLAphcmd1bWVudHMpO3ZhciBjPXRoaXMubXVsdGlwbGVTeW1ib2xpemVycz9iLnN5bWJvbGl6ZXJzW2Iuc3ltYm9saXplcnMubGVuZ3RoLTFdOmIuc3ltYm9saXplci5UZXh0O3ZvaWQgMD09PWMuZ3JhcGhpYyYmKGMuZ3JhcGhpYz0hMSl9fSxPcGVuTGF5ZXJzLkZvcm1hdC5TTEQudjFfMF8wLnByb3RvdHlwZS5yZWFkZXJzLnNsZCl9LE9wZW5MYXllcnMuRm9ybWF0LlNMRC52MV8wXzAucHJvdG90eXBlLnJlYWRlcnMpLHdyaXRlcnM6T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3NsZDpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7UHJpb3JpdHk6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMud3JpdGVycy5zbGQuX09HQ0V4cHJlc3Npb24uY2FsbCh0aGlzLCJzbGQ6UHJpb3JpdHkiLGEpfSxWZW5kb3JPcHRpb246ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygic2xkOlZlbmRvck9wdGlvbiIse2F0dHJpYnV0ZXM6e25hbWU6YS5uYW1lfSwKdmFsdWU6YS52YWx1ZX0pfSxUZXh0U3ltYm9saXplcjpmdW5jdGlvbihhKXt2YXIgYj1PcGVuTGF5ZXJzLkZvcm1hdC5TTEQudjFfMF8wLnByb3RvdHlwZS53cml0ZXJzLnNsZC5UZXh0U3ltYm9saXplci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ITEhPT1hLmdyYXBoaWMmJihhLmV4dGVybmFsR3JhcGhpY3x8YS5ncmFwaGljTmFtZSkmJnRoaXMud3JpdGVOb2RlKCJHcmFwaGljIixhLGIpOyJwcmlvcml0eSJpbiBhJiZ0aGlzLndyaXRlTm9kZSgiUHJpb3JpdHkiLGEucHJpb3JpdHksYik7cmV0dXJuIHRoaXMuYWRkVmVuZG9yT3B0aW9ucyhiLGEpfSxQb2ludFN5bWJvbGl6ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9T3BlbkxheWVycy5Gb3JtYXQuU0xELnYxXzBfMC5wcm90b3R5cGUud3JpdGVycy5zbGQuUG9pbnRTeW1ib2xpemVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5hZGRWZW5kb3JPcHRpb25zKGIsYSl9LExpbmVTeW1ib2xpemVyOmZ1bmN0aW9uKGEpe3ZhciBiPQpPcGVuTGF5ZXJzLkZvcm1hdC5TTEQudjFfMF8wLnByb3RvdHlwZS53cml0ZXJzLnNsZC5MaW5lU3ltYm9saXplci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuYWRkVmVuZG9yT3B0aW9ucyhiLGEpfSxQb2x5Z29uU3ltYm9saXplcjpmdW5jdGlvbihhKXt2YXIgYj1PcGVuTGF5ZXJzLkZvcm1hdC5TTEQudjFfMF8wLnByb3RvdHlwZS53cml0ZXJzLnNsZC5Qb2x5Z29uU3ltYm9saXplci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuYWRkVmVuZG9yT3B0aW9ucyhiLGEpfX0sT3BlbkxheWVycy5Gb3JtYXQuU0xELnYxXzBfMC5wcm90b3R5cGUud3JpdGVycy5zbGQpfSxPcGVuTGF5ZXJzLkZvcm1hdC5TTEQudjFfMF8wLnByb3RvdHlwZS53cml0ZXJzKSxhZGRWZW5kb3JPcHRpb25zOmZ1bmN0aW9uKGEsYil7aWYoYi52ZW5kb3JPcHRpb25zKWZvcih2YXIgYyBpbiBiLnZlbmRvck9wdGlvbnMpdGhpcy53cml0ZU5vZGUoIlZlbmRvck9wdGlvbiIse25hbWU6YywKdmFsdWU6Yi52ZW5kb3JPcHRpb25zW2NdfSxhKTtyZXR1cm4gYX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuU0xELnYxXzBfMF9HZW9TZXJ2ZXIifSk7T3BlbkxheWVycy5MYXllci5Cb3hlcz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIuTWFya2Vycyx7ZHJhd01hcmtlcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm1hcC5nZXRMYXllclB4RnJvbUxvbkxhdCh7bG9uOmEuYm91bmRzLmxlZnQsbGF0OmEuYm91bmRzLnRvcH0pLGM9dGhpcy5tYXAuZ2V0TGF5ZXJQeEZyb21Mb25MYXQoe2xvbjphLmJvdW5kcy5yaWdodCxsYXQ6YS5ib3VuZHMuYm90dG9tfSk7bnVsbD09Y3x8bnVsbD09Yj9hLmRpc3BsYXkoITEpOihiPWEuZHJhdyhiLHt3Ok1hdGgubWF4KDEsYy54LWIueCksaDpNYXRoLm1heCgxLGMueS1iLnkpfSksYS5kcmF3bnx8KHRoaXMuZGl2LmFwcGVuZENoaWxkKGIpLGEuZHJhd249ITApKX0scmVtb3ZlTWFya2VyOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuVXRpbC5yZW1vdmVJdGVtKHRoaXMubWFya2VycyxhKTtudWxsIT1hLmRpdiYmYS5kaXYucGFyZW50Tm9kZT09dGhpcy5kaXYmJnRoaXMuZGl2LnJlbW92ZUNoaWxkKGEuZGl2KX0sCkNMQVNTX05BTUU6Ik9wZW5MYXllcnMuTGF5ZXIuQm94ZXMifSk7T3BlbkxheWVycy5Gb3JtYXQuV0ZTQ2FwYWJpbGl0aWVzLnYxXzBfMD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LldGU0NhcGFiaWxpdGllcy52MSx7cmVhZGVyczp7d2ZzOk9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtTZXJ2aWNlOmZ1bmN0aW9uKGEsYil7Yi5zZXJ2aWNlPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnNlcnZpY2UpfSxGZWVzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDaGlsZFZhbHVlKGEpO2MmJiJub25lIiE9Yy50b0xvd2VyQ2FzZSgpJiYoYi5mZWVzPWMpfSxBY2Nlc3NDb25zdHJhaW50czpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKTtjJiYibm9uZSIhPWMudG9Mb3dlckNhc2UoKSYmKGIuYWNjZXNzQ29uc3RyYWludHM9Yyl9LE9ubGluZVJlc291cmNlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDaGlsZFZhbHVlKGEpO2MmJiJub25lIiE9Yy50b0xvd2VyQ2FzZSgpJiYoYi5vbmxpbmVSZXNvdXJjZT0KYyl9LEtleXdvcmRzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDaGlsZFZhbHVlKGEpO2MmJiJub25lIiE9Yy50b0xvd2VyQ2FzZSgpJiYoYi5rZXl3b3Jkcz1jLnNwbGl0KCIsICIpKX0sQ2FwYWJpbGl0eTpmdW5jdGlvbihhLGIpe2IuY2FwYWJpbGl0eT17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5jYXBhYmlsaXR5KX0sUmVxdWVzdDpmdW5jdGlvbihhLGIpe2IucmVxdWVzdD17fTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5yZXF1ZXN0KX0sR2V0RmVhdHVyZTpmdW5jdGlvbihhLGIpe2IuZ2V0ZmVhdHVyZT17aHJlZjp7fSxmb3JtYXRzOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYi5nZXRmZWF0dXJlKX0sUmVzdWx0Rm9ybWF0OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWEuY2hpbGROb2RlcyxkLGU9MDtlPGMubGVuZ3RoO2UrKylkPWNbZV0sMT09ZC5ub2RlVHlwZSYmYi5mb3JtYXRzLnB1c2goZC5ub2RlTmFtZSl9LERDUFR5cGU6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsCmIpfSxIVFRQOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuaHJlZil9LEdldDpmdW5jdGlvbihhLGIpe2IuZ2V0PWEuZ2V0QXR0cmlidXRlKCJvbmxpbmVSZXNvdXJjZSIpfSxQb3N0OmZ1bmN0aW9uKGEsYil7Yi5wb3N0PWEuZ2V0QXR0cmlidXRlKCJvbmxpbmVSZXNvdXJjZSIpfSxTUlM6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYSk7YyYmKGIuc3JzPWMpfX0sT3BlbkxheWVycy5Gb3JtYXQuV0ZTQ2FwYWJpbGl0aWVzLnYxLnByb3RvdHlwZS5yZWFkZXJzLndmcyl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LldGU0NhcGFiaWxpdGllcy52MV8wXzAifSk7T3BlbkxheWVycy5MYW5nLmVuPXt1bmhhbmRsZWRSZXF1ZXN0OiJVbmhhbmRsZWQgcmVxdWVzdCByZXR1cm4gJHtzdGF0dXNUZXh0fSIsUGVybWFsaW5rOiJQZXJtYWxpbmsiLE92ZXJsYXlzOiJPdmVybGF5cyIsIkJhc2UgTGF5ZXIiOiJCYXNlIExheWVyIixub0ZJRDoiQ2FuJ3QgdXBkYXRlIGEgZmVhdHVyZSBmb3Igd2hpY2ggdGhlcmUgaXMgbm8gRklELiIsYnJvd3Nlck5vdFN1cHBvcnRlZDoiWW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdmVjdG9yIHJlbmRlcmluZy4gQ3VycmVudGx5IHN1cHBvcnRlZCByZW5kZXJlcnMgYXJlOlxuJHtyZW5kZXJlcnN9IixtaW5ab29tTGV2ZWxFcnJvcjoiVGhlIG1pblpvb21MZXZlbCBwcm9wZXJ0eSBpcyBvbmx5IGludGVuZGVkIGZvciB1c2Ugd2l0aCB0aGUgRml4ZWRab29tTGV2ZWxzLWRlc2NlbmRlbnQgbGF5ZXJzLiBUaGF0IHRoaXMgd2ZzIGxheWVyIGNoZWNrcyBmb3IgbWluWm9vbUxldmVsIGlzIGEgcmVsaWMgb2YgdGhlcGFzdC4gV2UgY2Fubm90LCBob3dldmVyLCByZW1vdmUgaXQgd2l0aG91dCBwb3NzaWJseSBicmVha2luZyBPTCBiYXNlZCBhcHBsaWNhdGlvbnMgdGhhdCBtYXkgZGVwZW5kIG9uIGl0LiBUaGVyZWZvcmUgd2UgYXJlIGRlcHJlY2F0aW5nIGl0IC0tIHRoZSBtaW5ab29tTGV2ZWwgY2hlY2sgYmVsb3cgd2lsbCBiZSByZW1vdmVkIGF0IDMuMC4gUGxlYXNlIGluc3RlYWQgdXNlIG1pbi9tYXggcmVzb2x1dGlvbiBzZXR0aW5nIGFzIGRlc2NyaWJlZCBoZXJlOiBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NldHRpbmdab29tTGV2ZWxzIiwKY29tbWl0U3VjY2VzczoiV0ZTIFRyYW5zYWN0aW9uOiBTVUNDRVNTICR7cmVzcG9uc2V9Iixjb21taXRGYWlsZWQ6IldGUyBUcmFuc2FjdGlvbjogRkFJTEVEICR7cmVzcG9uc2V9Iixnb29nbGVXYXJuaW5nOiJUaGUgR29vZ2xlIExheWVyIHdhcyB1bmFibGUgdG8gbG9hZCBjb3JyZWN0bHkuPGJyPjxicj5UbyBnZXQgcmlkIG9mIHRoaXMgbWVzc2FnZSwgc2VsZWN0IGEgbmV3IEJhc2VMYXllciBpbiB0aGUgbGF5ZXIgc3dpdGNoZXIgaW4gdGhlIHVwcGVyLXJpZ2h0IGNvcm5lci48YnI+PGJyPk1vc3QgbGlrZWx5LCB0aGlzIGlzIGJlY2F1c2UgdGhlIEdvb2dsZSBNYXBzIGxpYnJhcnkgc2NyaXB0IHdhcyBlaXRoZXIgbm90IGluY2x1ZGVkLCBvciBkb2VzIG5vdCBjb250YWluIHRoZSBjb3JyZWN0IEFQSSBrZXkgZm9yIHlvdXIgc2l0ZS48YnI+PGJyPkRldmVsb3BlcnM6IEZvciBoZWxwIGdldHRpbmcgdGhpcyB3b3JraW5nIGNvcnJlY3RseSwgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9Hb29nbGUnIHRhcmdldD0nX2JsYW5rJz5jbGljayBoZXJlPC9hPiIsCmdldExheWVyV2FybmluZzoiVGhlICR7bGF5ZXJUeXBlfSBMYXllciB3YXMgdW5hYmxlIHRvIGxvYWQgY29ycmVjdGx5Ljxicj48YnI+VG8gZ2V0IHJpZCBvZiB0aGlzIG1lc3NhZ2UsIHNlbGVjdCBhIG5ldyBCYXNlTGF5ZXIgaW4gdGhlIGxheWVyIHN3aXRjaGVyIGluIHRoZSB1cHBlci1yaWdodCBjb3JuZXIuPGJyPjxicj5Nb3N0IGxpa2VseSwgdGhpcyBpcyBiZWNhdXNlIHRoZSAke2xheWVyTGlifSBsaWJyYXJ5IHNjcmlwdCB3YXMgbm90IGNvcnJlY3RseSBpbmNsdWRlZC48YnI+PGJyPkRldmVsb3BlcnM6IEZvciBoZWxwIGdldHRpbmcgdGhpcyB3b3JraW5nIGNvcnJlY3RseSwgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS8ke2xheWVyTGlifScgdGFyZ2V0PSdfYmxhbmsnPmNsaWNrIGhlcmU8L2E+IiwiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6IlNjYWxlID0gMSA6ICR7c2NhbGVEZW5vbX0iLFc6IlciLEU6IkUiLE46Ik4iLFM6IlMiLEdyYXRpY3VsZToiR3JhdGljdWxlIiwKcmVwcm9qZWN0RGVwcmVjYXRlZDoiWW91IGFyZSB1c2luZyB0aGUgJ3JlcHJvamVjdCcgb3B0aW9uIG9uIHRoZSAke2xheWVyTmFtZX0gbGF5ZXIuIFRoaXMgb3B0aW9uIGlzIGRlcHJlY2F0ZWQ6IGl0cyB1c2Ugd2FzIGRlc2lnbmVkIHRvIHN1cHBvcnQgZGlzcGxheWluZyBkYXRhIG92ZXIgY29tbWVyY2lhbCBiYXNlbWFwcywgYnV0IHRoYXQgZnVuY3Rpb25hbGl0eSBzaG91bGQgbm93IGJlIGFjaGlldmVkIGJ5IHVzaW5nIFNwaGVyaWNhbCBNZXJjYXRvciBzdXBwb3J0LiBNb3JlIGluZm9ybWF0aW9uIGlzIGF2YWlsYWJsZSBmcm9tIGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU3BoZXJpY2FsTWVyY2F0b3IuIixtZXRob2REZXByZWNhdGVkOiJUaGlzIG1ldGhvZCBoYXMgYmVlbiBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gMy4wLiBQbGVhc2UgdXNlICR7bmV3TWV0aG9kfSBpbnN0ZWFkLiIsZW5kOiIifTtPcGVuTGF5ZXJzLkxhbmdbImVuLUNBIl09T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe30sT3BlbkxheWVycy5MYW5nLmVuKTtPcGVuTGF5ZXJzLkxhbmcuamE9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3VuaGFuZGxlZFJlcXVlc3Q6Ilx1NjcyYVx1NTFlNlx1NzQwNlx1MzA2ZVx1ODk4MVx1NmM0Mlx1MzA2ZiAke3N0YXR1c1RleHR9IFx1MzA5Mlx1OGZkNFx1MzA1N1x1MzA3ZVx1MzA1OSIsUGVybWFsaW5rOiJcdTMwZDFcdTMwZmNcdTMwZGVcdTMwZWFcdTMwZjNcdTMwYWYiLE92ZXJsYXlzOiJcdTMwYWFcdTMwZmNcdTMwZDBcdTMwZmNcdTMwZWNcdTMwYTQiLCJCYXNlIExheWVyIjoiXHU1N2ZhXHU1ZTk1XHUzMGVjXHUzMGE0XHUzMGU0XHUzMGZjIixub0ZJRDoiRklEIFx1MzA2ZVx1MzA2YVx1MzA0NFx1NTczMFx1NzI2OVx1MzA2Zlx1NjZmNFx1NjViMFx1MzA2N1x1MzA0ZFx1MzA3ZVx1MzA1Ylx1MzA5M1x1MzAwMiIsYnJvd3Nlck5vdFN1cHBvcnRlZDoiXHUzMDQyXHUzMDZhXHUzMDVmXHUzMDZlXHUzMGQ2XHUzMGU5XHUzMGE2XHUzMGI2XHUzMDZmXHUzMGQ5XHUzMGFmXHUzMGJmXHUzMGZjXHUzMGIwXHUzMGU5XHUzMGQ1XHUzMGEzXHUzMGMzXHUzMGFmXHUzMGI5XHUzMDZlXHU2M2NmXHU1MTk5XHUzMDZiXHU1YmZlXHU1ZmRjXHUzMDU3XHUzMDY2XHUzMDQ0XHUzMDdlXHUzMDViXHUzMDkzXHUzMDAyXHU3M2ZlXHU2NjQyXHU3MGI5XHUzMDY3XHU1YmZlXHU1ZmRjXHUzMDU3XHUzMDY2XHUzMDQ0XHUzMDhiXHUzMGJkXHUzMGQ1XHUzMGM4XHUzMGE2XHUzMGE3XHUzMGEyXHUzMDZmXHU0ZWU1XHU0ZTBiXHUzMDZlXHUzMDgyXHUzMDZlXHUzMDY3XHUzMDU5XHUzMDAyXG4ke3JlbmRlcmVyc30iLAptaW5ab29tTGV2ZWxFcnJvcjoibWluWm9vbUxldmVsIFx1MzBkN1x1MzBlZFx1MzBkMVx1MzBjNlx1MzBhM1x1MzA2ZiBGaXhlZFpvb21MZXZlbHMgXHUzMDkyXHU3ZDk5XHU2MjdmXHUzMDU5XHUzMDhiXHUzMGVjXHUzMGE0XHUzMGU0XHUzMGZjXHUzMDY3XHUzMDZlXHU0ZjdmXHU3NTI4XHUzMDZlXHUzMDdmXHUzMDkyXHU2MGYzXHU1YjlhXHUzMDU3XHUzMDY2XHUzMDQ0XHUzMDdlXHUzMDU5XHUzMDAyXHUzMDUzXHUzMDZlIG1pblpvb21MZXZlbCBcdTMwNmJcdTViZmVcdTMwNTlcdTMwOGIgV0ZTIFx1MzBlY1x1MzBhNFx1MzBlNFx1MzBmY1x1MzA2ZVx1NjkxY1x1NjdmYlx1MzA2Zlx1NmI3NFx1NTNmMlx1NzY4NFx1MzA2YVx1MzA4Mlx1MzA2ZVx1MzA2N1x1MzA1OVx1MzAwMlx1MzA1N1x1MzA0Ylx1MzA1N1x1MzA2YVx1MzA0Y1x1MzA4OVx1MzAwMVx1MzA1M1x1MzA2ZVx1NjkxY1x1NjdmYlx1MzA5Mlx1OTY2NFx1NTNiYlx1MzA1OVx1MzA4Ylx1MzA2OFx1MzA1ZFx1MzA4Y1x1MzA2Ylx1NGY5ZFx1NWI1OFx1MzA1OVx1MzA4YiBPcGVuTGF5ZXJzIFx1MzBkOVx1MzBmY1x1MzBiOVx1MzA2ZVx1MzBhMlx1MzBkN1x1MzBlYVx1MzBiMVx1MzBmY1x1MzBiN1x1MzBlN1x1MzBmM1x1MzA5Mlx1NzgzNFx1NThjYVx1MzA1N1x1MzA2Nlx1MzA1N1x1MzA3ZVx1MzA0Nlx1NTNlZlx1ODBmZFx1NjAyN1x1MzA0Y1x1MzA0Mlx1MzA4YVx1MzA3ZVx1MzA1OVx1MzAwMlx1MzA4OFx1MzA2M1x1MzA2Nlx1NWVjM1x1NmI2Mlx1MzA0Y1x1NGU4OFx1NWI5YVx1MzA1NVx1MzA4Y1x1MzA2Nlx1MzA0YVx1MzA4YVx1MzAwMVx1MzA1M1x1MzA2ZSBtaW5ab29tTGV2ZWwgXHU2OTFjXHU2N2ZiXHUzMDZmXHUzMGQwXHUzMGZjXHUzMGI4XHUzMGU3XHUzMGYzMy4wXHUzMDY3XHU5NjY0XHU1M2JiXHUzMDU1XHUzMDhjXHUzMDdlXHUzMDU5XHUzMDAyXHU0ZWUzXHUzMDhmXHUzMDhhXHUzMDZiXHUzMDAxaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyBcdTMwNjdcdTg5ZTNcdThhYWNcdTMwNTVcdTMwOGNcdTMwNjZcdTMwNDRcdTMwOGJcdTMwMDFcdTY3MDBcdTVjMGZcdTMwNGFcdTMwODhcdTMwNzNcdTY3MDBcdTU5MjdcdTg5ZTNcdTUwY2ZcdTVlYTZcdThhMmRcdTViOWFcdTMwOTJcdTRmN2ZcdTc1MjhcdTMwNTdcdTMwNjZcdTMwNGZcdTMwNjBcdTMwNTVcdTMwNDRcdTMwMDIiLApjb21taXRTdWNjZXNzOiJXRlMgXHUzMGM4XHUzMGU5XHUzMGYzXHUzMGI2XHUzMGFmXHUzMGI3XHUzMGU3XHUzMGYzOiBcdTYyMTBcdTUyOWYgJHtyZXNwb25zZX0iLGNvbW1pdEZhaWxlZDoiV0ZTIFx1MzBjOFx1MzBlOVx1MzBmM1x1MzBiNlx1MzBhZlx1MzBiN1x1MzBlN1x1MzBmMzogXHU1OTMxXHU2NTU3ICR7cmVzcG9uc2V9Iixnb29nbGVXYXJuaW5nOiJHb29nbGUgXHUzMGVjXHUzMGE0XHUzMGU0XHUzMGZjXHUzMDRjXHU2YjYzXHUzMDU3XHUzMDRmXHU4YWFkXHUzMDdmXHU4ZmJjXHUzMDdmXHUzMDkyXHU4ODRjXHUzMDQ4XHUzMDdlXHUzMDViXHUzMDkzXHUzMDY3XHUzMDU3XHUzMDVmXHUzMDAyPGJyPjxicj5cdTMwNTNcdTMwNmVcdTMwZTFcdTMwYzNcdTMwYmJcdTMwZmNcdTMwYjhcdTMwOTJcdTZkODhcdTMwNTlcdTMwNmJcdTMwNmZcdTMwMDFcdTUzZjNcdTRlMGFcdTMwNmVcdTk2ODVcdTMwNmJcdTMwNDJcdTMwOGJcdTMwZWNcdTMwYTRcdTMwZTRcdTMwZmNcdTUyMDdcdTMwOGFcdTY2ZmZcdTMwNDhcdTkwZThcdTUyMDZcdTMwNjdcdTY1YjBcdTMwNTdcdTMwNDRcdTU3ZmFcdTVlOTVcdTMwZWNcdTMwYTRcdTMwZTRcdTMwZmNcdTMwOTJcdTkwNzhcdTMwOTNcdTMwNjdcdTMwNGZcdTMwNjBcdTMwNTVcdTMwNDRcdTMwMDI8YnI+PGJyPlx1MzA0YVx1MzA1ZFx1MzA4OVx1MzA0Zlx1MzAwMVx1MzA1M1x1MzA4Y1x1MzA2ZiBHb29nbGUgXHUzMGRlXHUzMGMzXHUzMGQ3XHU3NTI4XHUzMGU5XHUzMGE0XHUzMGQ2XHUzMGU5XHUzMGVhXHUzMDZlXHUzMGI5XHUzMGFmXHUzMGVhXHUzMGQ3XHUzMGM4XHUzMDRjXHU3ZDQ0XHUzMDdmXHU4ZmJjXHUzMDdlXHUzMDhjXHUzMDY2XHUzMDQ0XHUzMDZhXHUzMDQ0XHUzMDRiXHUzMDAxXHUzMDQyXHUzMDZhXHUzMDVmXHUzMDZlXHUzMGI1XHUzMGE0XHUzMGM4XHUzMDZiXHU1YmZlXHU1ZmRjXHUzMDU5XHUzMDhiXHU2YjYzXHUzMDU3XHUzMDQ0IEFQSSBcdTMwYWRcdTMwZmNcdTMwNGNcdThhMmRcdTViOWFcdTMwNTVcdTMwOGNcdTMwNjZcdTMwNDRcdTMwNmFcdTMwNDRcdTMwNWZcdTMwODFcdTMwNjdcdTMwNTlcdTMwMDI8YnI+PGJyPlx1OTU4Ylx1NzY3YVx1ODAwNVx1MzA2ZVx1NjViOVx1MzA3ODogXHU2YjYzXHUzMDU3XHUzMDQ0XHU1MmQ1XHU0ZjVjXHUzMDkyXHUzMDU1XHUzMDViXHUzMDhiXHUzMDVmXHUzMDgxXHUzMDZiPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9Hb29nbGUnIHRhcmdldD0nX2JsYW5rJz5cdTMwNTNcdTMwNjFcdTMwODlcdTMwNmVcdTMwYTZcdTMwYTNcdTMwYWQ8L2E+XHUzMDkyXHU1M2MyXHU3MTY3XHUzMDU3XHUzMDY2XHUzMDRmXHUzMDYwXHUzMDU1XHUzMDQ0XHUzMDAyIiwKZ2V0TGF5ZXJXYXJuaW5nOiIke2xheWVyVHlwZX0gXHUzMGVjXHUzMGE0XHUzMGU0XHUzMGZjXHUzMDRjXHU2YjYzXHUzMDU3XHUzMDRmXHU4YWFkXHUzMDdmXHU4ZmJjXHUzMDdmXHUzMDkyXHU4ODRjXHUzMDQ4XHUzMDdlXHUzMDViXHUzMDkzXHUzMDY3XHUzMDU3XHUzMDVmXHUzMDAyPGJyPjxicj5cdTMwNTNcdTMwNmVcdTMwZTFcdTMwYzNcdTMwYmJcdTMwZmNcdTMwYjhcdTMwOTJcdTZkODhcdTMwNTlcdTMwNmJcdTMwNmZcdTMwMDFcdTUzZjNcdTRlMGFcdTMwNmVcdTk2ODVcdTMwNmJcdTMwNDJcdTMwOGJcdTMwZWNcdTMwYTRcdTMwZTRcdTMwZmNcdTUyMDdcdTMwOGFcdTY2ZmZcdTMwNDhcdTkwZThcdTUyMDZcdTMwNjdcdTY1YjBcdTMwNTdcdTMwNDRcdTU3ZmFcdTVlOTVcdTMwZWNcdTMwYTRcdTMwZTRcdTMwZmNcdTMwOTJcdTkwNzhcdTMwOTNcdTMwNjdcdTMwNGZcdTMwNjBcdTMwNTVcdTMwNDRcdTMwMDI8YnI+PGJyPlx1MzA0YVx1MzA1ZFx1MzA4OVx1MzA0Zlx1MzAwMVx1MzA1M1x1MzA4Y1x1MzA2ZiAke2xheWVyTGlifSBcdTMwZTlcdTMwYTRcdTMwZDZcdTMwZTlcdTMwZWFcdTMwNmVcdTMwYjlcdTMwYWZcdTMwZWFcdTMwZDdcdTMwYzhcdTMwNGNcdTZiNjNcdTMwNTdcdTMwNGZcdTdkNDRcdTMwN2ZcdThmYmNcdTMwN2VcdTMwOGNcdTMwNjZcdTMwNDRcdTMwNmFcdTMwNDRcdTMwNWZcdTMwODFcdTMwNjdcdTMwNTlcdTMwMDI8YnI+PGJyPlx1OTU4Ylx1NzY3YVx1ODAwNVx1MzA2ZVx1NjViOVx1MzA3ODogXHU2YjYzXHUzMDU3XHUzMDQ0XHU1MmQ1XHU0ZjVjXHUzMDkyXHUzMDU1XHUzMDViXHUzMDhiXHUzMDVmXHUzMDgxXHUzMDZiPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS8ke2xheWVyTGlifScgdGFyZ2V0PSdfYmxhbmsnPlx1MzA1M1x1MzA2MVx1MzA4OVx1MzA2ZVx1MzBhNlx1MzBhM1x1MzBhZDwvYT5cdTMwOTJcdTUzYzJcdTcxNjdcdTMwNTdcdTMwNjZcdTMwNGZcdTMwNjBcdTMwNTVcdTMwNDRcdTMwMDIiLAoiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6Ilx1N2UyZVx1NWMzYSA9IDEgOiAke3NjYWxlRGVub219IixXOiJcdTg5N2YiLEU6Ilx1Njc3MSIsTjoiXHU1MzE3IixTOiJcdTUzNTciLHJlcHJvamVjdERlcHJlY2F0ZWQ6Ilx1MzA0Mlx1MzA2YVx1MzA1Zlx1MzA2Zlx1MzAwYyR7bGF5ZXJOYW1lfVx1MzAwZFx1MzBlY1x1MzBhNFx1MzBlNFx1MzBmY1x1MzA2NyByZXByb2plY3QgXHUzMGFhXHUzMGQ3XHUzMGI3XHUzMGU3XHUzMGYzXHUzMDkyXHU0ZjdmXHUzMDYzXHUzMDY2XHUzMDQ0XHUzMDdlXHUzMDU5XHUzMDAyXHUzMDUzXHUzMDZlXHUzMGFhXHUzMGQ3XHUzMGI3XHUzMGU3XHUzMGYzXHUzMDZmXHU1NTQ2XHU3NTI4XHUzMDZlXHU1N2ZhXHU1ZTk1XHU1NzMwXHU1NmYzXHU0ZTBhXHUzMDZiXHU2MGM1XHU1ODMxXHUzMDkyXHU4ODY4XHU3OTNhXHUzMDU5XHUzMDhiXHU3NmVlXHU3Njg0XHUzMDY3XHU4YTJkXHU4YTA4XHUzMDU1XHUzMDhjXHUzMDdlXHUzMDU3XHUzMDVmXHUzMDRjXHUzMDAxXHU3M2ZlXHU1NzI4XHUzMDY3XHUzMDZmXHUzMDVkXHUzMDZlXHU2YTVmXHU4MGZkXHUzMDZmIFNwaGVyaWNhbCBNZXJjYXRvciBcdTMwYjVcdTMwZGRcdTMwZmNcdTMwYzhcdTMwOTJcdTUyMjlcdTc1MjhcdTMwNTdcdTMwNjZcdTViOWZcdTczZmVcdTMwNTVcdTMwOGNcdTMwNjZcdTMwNGFcdTMwOGFcdTMwMDFcdTMwNTNcdTMwNmVcdTMwYWFcdTMwZDdcdTMwYjdcdTMwZTdcdTMwZjNcdTMwNmVcdTRmN2ZcdTc1MjhcdTMwNmZcdTk3NWVcdTYzYThcdTU5NjhcdTMwNjdcdTMwNTlcdTMwMDJcdThmZmRcdTUyYTBcdTMwNmVcdTYwYzVcdTU4MzFcdTMwNmYgaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TcGhlcmljYWxNZXJjYXRvciBcdTMwNjdcdTUxNjVcdTYyNGJcdTMwNjdcdTMwNGRcdTMwN2VcdTMwNTlcdTMwMDIiLAptZXRob2REZXByZWNhdGVkOiJcdTMwNTNcdTMwNmVcdTMwZTFcdTMwYmRcdTMwYzNcdTMwYzlcdTMwNmZcdTVlYzNcdTZiNjJcdTMwNGNcdTRlODhcdTViOWFcdTMwNTVcdTMwOGNcdTMwNjZcdTMwNGFcdTMwOGFcdTMwMDFcdTMwZDBcdTMwZmNcdTMwYjhcdTMwZTdcdTMwZjMzLjBcdTMwNjdcdTk2NjRcdTUzYmJcdTMwNTVcdTMwOGNcdTMwN2VcdTMwNTlcdTMwMDJcdTRlZTNcdTMwOGZcdTMwOGFcdTMwNmIgJHtuZXdNZXRob2R9IFx1MzA5Mlx1NGY3Zlx1NzUyOFx1MzA1N1x1MzA2Nlx1MzA0Zlx1MzA2MFx1MzA1NVx1MzA0NFx1MzAwMiJ9KTtPcGVuTGF5ZXJzLkxhbmcubmRzPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHt1bmhhbmRsZWRSZXF1ZXN0OiJVbmJlaGFubmVsdCBUclx1MDBmY2NobWVsbGVscyBmXHUwMGY2ciBkZSBBbmZyYWFnICR7c3RhdHVzVGV4dH0iLFBlcm1hbGluazoiUGVybWFsaW5rIixPdmVybGF5czoiT3ZlcmxheXMiLCJCYXNlIExheWVyIjoiQWNodGVyZ3J1bmRrb29ydCIsbm9GSUQ6IkVuIEZlYXR1cmUsIGRhdCBrZWVuIEZJRCBoZXR0LCBrYW5uIG5pY2ggYWt0dWVsbCBtYWFrdCB3YXJybi4iLGJyb3dzZXJOb3RTdXBwb3J0ZWQ6IkRpZW4gQnJvd3NlciBcdTAwZmNubmVyc3RcdTAwZmN0dCBrZWVuIFZla3RvcmJpbGxlci4gXHUwMGRjbm5lcnN0XHUwMGZjdHQgUmVuZGVyZXJzOlxuJHtyZW5kZXJlcnN9Iixjb21taXRTdWNjZXNzOiJXRlMtVHJhbnNha3NjaG9vbjogaGV0dCBrbGFwcHQgJHtyZXNwb25zZX0iLGNvbW1pdEZhaWxlZDoiV0ZTLVRyYW5zYWtzY2hvb246IGhldHQgbmljaCBrbGFwcHQgJHtyZXNwb25zZX0iLAoiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6IlNrYWFsID0gMSA6ICR7c2NhbGVEZW5vbX0iLG1ldGhvZERlcHJlY2F0ZWQ6IkRpc3NlIE1ldGhvb2QgaXMgb29sZCB1biBzY2hhbGwgZGF0IGluIDMuMCBuaWNoIG1laHIgZ2V2ZW4uIEJydXVrIGRvciBtYW4gYmV0ZXIgJHtuZXdNZXRob2R9IGZcdTAwZjZyLiJ9KTtPcGVuTGF5ZXJzLkxheWVyLlpvb21pZnk9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkxheWVyLkdyaWQse3NpemU6bnVsbCxpc0Jhc2VMYXllcjohMCxzdGFuZGFyZFRpbGVTaXplOjI1Nix0aWxlT3JpZ2luQ29ybmVyOiJ0bCIsbnVtYmVyT2ZUaWVyczowLHRpbGVDb3VudFVwVG9UaWVyOm51bGwsdGllclNpemVJblRpbGVzOm51bGwsdGllckltYWdlU2l6ZTpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5pbml0aWFsaXplWm9vbWlmeShjKTtPcGVuTGF5ZXJzLkxheWVyLkdyaWQucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYSxiLGMse30sZF0pfSxpbml0aWFsaXplWm9vbWlmeTpmdW5jdGlvbihhKXt2YXIgYj1hLmNsb25lKCk7dGhpcy5zaXplPWEuY2xvbmUoKTthPW5ldyBPcGVuTGF5ZXJzLlNpemUoTWF0aC5jZWlsKGIudy90aGlzLnN0YW5kYXJkVGlsZVNpemUpLE1hdGguY2VpbChiLmgvdGhpcy5zdGFuZGFyZFRpbGVTaXplKSk7dGhpcy50aWVyU2l6ZUluVGlsZXM9ClthXTtmb3IodGhpcy50aWVySW1hZ2VTaXplPVtiXTtiLnc+dGhpcy5zdGFuZGFyZFRpbGVTaXplfHxiLmg+dGhpcy5zdGFuZGFyZFRpbGVTaXplOyliPW5ldyBPcGVuTGF5ZXJzLlNpemUoTWF0aC5mbG9vcihiLncvMiksTWF0aC5mbG9vcihiLmgvMikpLGE9bmV3IE9wZW5MYXllcnMuU2l6ZShNYXRoLmNlaWwoYi53L3RoaXMuc3RhbmRhcmRUaWxlU2l6ZSksTWF0aC5jZWlsKGIuaC90aGlzLnN0YW5kYXJkVGlsZVNpemUpKSx0aGlzLnRpZXJTaXplSW5UaWxlcy5wdXNoKGEpLHRoaXMudGllckltYWdlU2l6ZS5wdXNoKGIpO3RoaXMudGllclNpemVJblRpbGVzLnJldmVyc2UoKTt0aGlzLnRpZXJJbWFnZVNpemUucmV2ZXJzZSgpO3RoaXMubnVtYmVyT2ZUaWVycz10aGlzLnRpZXJTaXplSW5UaWxlcy5sZW5ndGg7Yj1bMV07dGhpcy50aWxlQ291bnRVcFRvVGllcj1bMF07Zm9yKGE9MTthPHRoaXMubnVtYmVyT2ZUaWVyczthKyspYi51bnNoaWZ0KE1hdGgucG93KDIsYSkpLHRoaXMudGlsZUNvdW50VXBUb1RpZXIucHVzaCh0aGlzLnRpZXJTaXplSW5UaWxlc1thLQoxXS53KnRoaXMudGllclNpemVJblRpbGVzW2EtMV0uaCt0aGlzLnRpbGVDb3VudFVwVG9UaWVyW2EtMV0pO3RoaXMuc2VydmVyUmVzb2x1dGlvbnN8fCh0aGlzLnNlcnZlclJlc29sdXRpb25zPWIpfSxkZXN0cm95OmZ1bmN0aW9uKCl7T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLnRpbGVDb3VudFVwVG9UaWVyLmxlbmd0aD0wO3RoaXMudGllclNpemVJblRpbGVzLmxlbmd0aD0wO3RoaXMudGllckltYWdlU2l6ZS5sZW5ndGg9MH0sY2xvbmU6ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9bmV3IE9wZW5MYXllcnMuTGF5ZXIuWm9vbWlmeSh0aGlzLm5hbWUsdGhpcy51cmwsdGhpcy5zaXplLHRoaXMub3B0aW9ucykpO3JldHVybiBhPU9wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUuY2xvbmUuYXBwbHkodGhpcyxbYV0pfSxnZXRVUkw6ZnVuY3Rpb24oYSl7dmFyIGE9dGhpcy5hZGp1c3RCb3VuZHMoYSksYj0KdGhpcy5nZXRTZXJ2ZXJSZXNvbHV0aW9uKCksYz1NYXRoLnJvdW5kKChhLmxlZnQtdGhpcy50aWxlT3JpZ2luLmxvbikvKGIqdGhpcy50aWxlU2l6ZS53KSksYT1NYXRoLnJvdW5kKCh0aGlzLnRpbGVPcmlnaW4ubGF0LWEudG9wKS8oYip0aGlzLnRpbGVTaXplLmgpKSxiPXRoaXMuZ2V0Wm9vbUZvclJlc29sdXRpb24oYiksYz0iVGlsZUdyb3VwIitNYXRoLmZsb29yKChjK2EqdGhpcy50aWVyU2l6ZUluVGlsZXNbYl0udyt0aGlzLnRpbGVDb3VudFVwVG9UaWVyW2JdKS8yNTYpKyIvIitiKyItIitjKyItIithKyIuanBnIixiPXRoaXMudXJsO09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGIpJiYoYj10aGlzLnNlbGVjdFVybChjLGIpKTtyZXR1cm4gYitjfSxnZXRJbWFnZVNpemU6ZnVuY3Rpb24oKXtpZigwPGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBhPXRoaXMuYWRqdXN0Qm91bmRzKGFyZ3VtZW50c1swXSksYj10aGlzLmdldFNlcnZlclJlc29sdXRpb24oKSxjPU1hdGgucm91bmQoKGEubGVmdC0KdGhpcy50aWxlT3JpZ2luLmxvbikvKGIqdGhpcy50aWxlU2l6ZS53KSksYT1NYXRoLnJvdW5kKCh0aGlzLnRpbGVPcmlnaW4ubGF0LWEudG9wKS8oYip0aGlzLnRpbGVTaXplLmgpKSxiPXRoaXMuZ2V0Wm9vbUZvclJlc29sdXRpb24oYiksZD10aGlzLnN0YW5kYXJkVGlsZVNpemUsZT10aGlzLnN0YW5kYXJkVGlsZVNpemU7Yz09dGhpcy50aWVyU2l6ZUluVGlsZXNbYl0udy0xJiYoZD10aGlzLnRpZXJJbWFnZVNpemVbYl0udyV0aGlzLnN0YW5kYXJkVGlsZVNpemUpO2E9PXRoaXMudGllclNpemVJblRpbGVzW2JdLmgtMSYmKGU9dGhpcy50aWVySW1hZ2VTaXplW2JdLmgldGhpcy5zdGFuZGFyZFRpbGVTaXplKTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuU2l6ZShkLGUpfXJldHVybiB0aGlzLnRpbGVTaXplfSxzZXRNYXA6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5zZXRNYXAuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMudGlsZU9yaWdpbj1uZXcgT3BlbkxheWVycy5Mb25MYXQodGhpcy5tYXAubWF4RXh0ZW50LmxlZnQsCnRoaXMubWFwLm1heEV4dGVudC50b3ApfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLlpvb21pZnkifSk7T3BlbkxheWVycy5MYXllci5NYXBTZXJ2ZXI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkxheWVyLkdyaWQse0RFRkFVTFRfUEFSQU1TOnttb2RlOiJtYXAiLG1hcF9pbWFnZXR5cGU6InBuZyJ9LGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCl7T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLnBhcmFtcz1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh0aGlzLnBhcmFtcyx0aGlzLkRFRkFVTFRfUEFSQU1TKTtpZihudWxsPT1kfHxudWxsPT1kLmlzQmFzZUxheWVyKXRoaXMuaXNCYXNlTGF5ZXI9InRydWUiIT10aGlzLnBhcmFtcy50cmFuc3BhcmVudCYmITAhPXRoaXMucGFyYW1zLnRyYW5zcGFyZW50fSxjbG9uZTpmdW5jdGlvbihhKXtudWxsPT1hJiYoYT1uZXcgT3BlbkxheWVycy5MYXllci5NYXBTZXJ2ZXIodGhpcy5uYW1lLHRoaXMudXJsLHRoaXMucGFyYW1zLHRoaXMuZ2V0T3B0aW9ucygpKSk7CnJldHVybiBhPU9wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUuY2xvbmUuYXBwbHkodGhpcyxbYV0pfSxnZXRVUkw6ZnVuY3Rpb24oYSl7dmFyIGE9dGhpcy5hZGp1c3RCb3VuZHMoYSksYj1bYS5sZWZ0LGEuYm90dG9tLGEucmlnaHQsYS50b3BdLGE9dGhpcy5nZXRJbWFnZVNpemUoYSk7cmV0dXJuIHRoaXMuZ2V0RnVsbFJlcXVlc3RTdHJpbmcoe21hcGV4dDpiLGltZ2V4dDpiLG1hcF9zaXplOlthLncsYS5oXSxpbWd4OmEudy8yLGltZ3k6YS5oLzIsaW1neHk6W2EudyxhLmhdfSl9LGdldEZ1bGxSZXF1ZXN0U3RyaW5nOmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbD09Yj90aGlzLnVybDpiLGQ9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7fSx0aGlzLnBhcmFtcyksZD1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGQsYSksZT1PcGVuTGF5ZXJzLlV0aWwuZ2V0UGFyYW1ldGVyU3RyaW5nKGQpO09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGMpJiYoYz10aGlzLnNlbGVjdFVybChlLGMpKTsKdmFyIGU9T3BlbkxheWVycy5VdGlsLnVwcGVyQ2FzZU9iamVjdChPcGVuTGF5ZXJzLlV0aWwuZ2V0UGFyYW1ldGVycyhjKSksZjtmb3IoZiBpbiBkKWYudG9VcHBlckNhc2UoKWluIGUmJmRlbGV0ZSBkW2ZdO2U9T3BlbkxheWVycy5VdGlsLmdldFBhcmFtZXRlclN0cmluZyhkKTtkPWM7ZT1lLnJlcGxhY2UoLywvZywiKyIpOyIiIT1lJiYoZj1jLmNoYXJBdChjLmxlbmd0aC0xKSxkPSImIj09Znx8Ij8iPT1mP2QrZTotMT09Yy5pbmRleE9mKCI/Iik/ZCsoIj8iK2UpOmQrKCImIitlKSk7cmV0dXJuIGR9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuTGF5ZXIuTWFwU2VydmVyIn0pO09wZW5MYXllcnMuUmVuZGVyZXIuVk1MPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5SZW5kZXJlci5FbGVtZW50cyx7eG1sbnM6InVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206dm1sIixzeW1ib2xDYWNoZTp7fSxvZmZzZXQ6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe2lmKHRoaXMuc3VwcG9ydGVkKCkpe2lmKCFkb2N1bWVudC5uYW1lc3BhY2VzLm9sdil7ZG9jdW1lbnQubmFtZXNwYWNlcy5hZGQoIm9sdiIsdGhpcy54bWxucyk7Zm9yKHZhciBiPWRvY3VtZW50LmNyZWF0ZVN0eWxlU2hlZXQoKSxjPSJzaGFwZSByZWN0IG92YWwgZmlsbCBzdHJva2UgaW1hZ2VkYXRhIGdyb3VwIHRleHRib3giLnNwbGl0KCIgIiksZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKyliLmFkZFJ1bGUoIm9sdlxcOiIrY1tkXSwiYmVoYXZpb3I6IHVybCgjZGVmYXVsdCNWTUwpOyBwb3NpdGlvbjogYWJzb2x1dGU7IGRpc3BsYXk6IGlubGluZS1ibG9jazsiKX1PcGVuTGF5ZXJzLlJlbmRlcmVyLkVsZW1lbnRzLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsCmFyZ3VtZW50cyl9fSxzdXBwb3J0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWRvY3VtZW50Lm5hbWVzcGFjZXN9LHNldEV4dGVudDpmdW5jdGlvbihhLGIpe3ZhciBjPU9wZW5MYXllcnMuUmVuZGVyZXIuRWxlbWVudHMucHJvdG90eXBlLnNldEV4dGVudC5hcHBseSh0aGlzLGFyZ3VtZW50cyksZD10aGlzLmdldFJlc29sdXRpb24oKSxlPWEubGVmdC9kfDAsZD1hLnRvcC9kLXRoaXMuc2l6ZS5ofDA7Ynx8IXRoaXMub2Zmc2V0Pyh0aGlzLm9mZnNldD17eDplLHk6ZH0sZD1lPTApOihlLT10aGlzLm9mZnNldC54LGQtPXRoaXMub2Zmc2V0LnkpO3RoaXMucm9vdC5jb29yZG9yaWdpbj1lLXRoaXMueE9mZnNldCsiICIrZDtmb3IodmFyIGU9W3RoaXMucm9vdCx0aGlzLnZlY3RvclJvb3QsdGhpcy50ZXh0Um9vdF0sZj0wLGc9ZS5sZW5ndGg7ZjxnOysrZilkPWVbZl0sZC5jb29yZHNpemU9dGhpcy5zaXplLncrIiAiK3RoaXMuc2l6ZS5oO3RoaXMucm9vdC5zdHlsZS5mbGlwPSJ5IjtyZXR1cm4gY30sCnNldFNpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5SZW5kZXJlci5wcm90b3R5cGUuc2V0U2l6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Zm9yKHZhciBiPVt0aGlzLnJlbmRlcmVyUm9vdCx0aGlzLnJvb3QsdGhpcy52ZWN0b3JSb290LHRoaXMudGV4dFJvb3RdLGM9dGhpcy5zaXplLncrInB4IixkPXRoaXMuc2l6ZS5oKyJweCIsZSxmPTAsZz1iLmxlbmd0aDtmPGc7KytmKWU9YltmXSxlLnN0eWxlLndpZHRoPWMsZS5zdHlsZS5oZWlnaHQ9ZH0sZ2V0Tm9kZVR5cGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsO3N3aXRjaChhLkNMQVNTX05BTUUpe2Nhc2UgIk9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQiOmM9Yi5leHRlcm5hbEdyYXBoaWM/Im9sdjpyZWN0Ijp0aGlzLmlzQ29tcGxleFN5bWJvbChiLmdyYXBoaWNOYW1lKT8ib2x2OnNoYXBlIjoib2x2Om92YWwiO2JyZWFrO2Nhc2UgIk9wZW5MYXllcnMuR2VvbWV0cnkuUmVjdGFuZ2xlIjpjPSJvbHY6cmVjdCI7YnJlYWs7Y2FzZSAiT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nIjpjYXNlICJPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVhclJpbmciOmNhc2UgIk9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbiI6Y2FzZSAiT3BlbkxheWVycy5HZW9tZXRyeS5DdXJ2ZSI6Yz0KIm9sdjpzaGFwZSJ9cmV0dXJuIGN9LHNldFN0eWxlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBiPWJ8fGEuX3N0eWxlLGM9Y3x8YS5fb3B0aW9ucyxlPWIuZmlsbENvbG9yLGY9Yi50aXRsZXx8Yi5ncmFwaGljVGl0bGU7ZiYmKGEudGl0bGU9Zik7aWYoIk9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQiPT09YS5fZ2VvbWV0cnlDbGFzcylpZihiLmV4dGVybmFsR3JhcGhpYyl7Yy5pc0ZpbGxlZD0hMDt2YXIgZT1iLmdyYXBoaWNXaWR0aHx8Yi5ncmFwaGljSGVpZ2h0LGY9Yi5ncmFwaGljSGVpZ2h0fHxiLmdyYXBoaWNXaWR0aCxlPWU/ZToyKmIucG9pbnRSYWRpdXMsZj1mP2Y6MipiLnBvaW50UmFkaXVzLGc9dGhpcy5nZXRSZXNvbHV0aW9uKCksaD12b2lkIDAhPWIuZ3JhcGhpY1hPZmZzZXQ/Yi5ncmFwaGljWE9mZnNldDotKDAuNSplKSxpPXZvaWQgMCE9Yi5ncmFwaGljWU9mZnNldD9iLmdyYXBoaWNZT2Zmc2V0Oi0oMC41KmYpO2Euc3R5bGUubGVmdD0oKGQueC10aGlzLmZlYXR1cmVEeCkvCmctdGhpcy5vZmZzZXQueCtofDApKyJweCI7YS5zdHlsZS50b3A9KGQueS9nLXRoaXMub2Zmc2V0LnktKGkrZil8MCkrInB4IjthLnN0eWxlLndpZHRoPWUrInB4IjthLnN0eWxlLmhlaWdodD1mKyJweCI7YS5zdHlsZS5mbGlwPSJ5IjtlPSJub25lIjtjLmlzU3Ryb2tlZD0hMX1lbHNlIHRoaXMuaXNDb21wbGV4U3ltYm9sKGIuZ3JhcGhpY05hbWUpPyhmPXRoaXMuaW1wb3J0U3ltYm9sKGIuZ3JhcGhpY05hbWUpLGEucGF0aD1mLnBhdGgsYS5jb29yZG9yaWdpbj1mLmxlZnQrIiwiK2YuYm90dG9tLGY9Zi5zaXplLGEuY29vcmRzaXplPWYrIiwiK2YsdGhpcy5kcmF3Q2lyY2xlKGEsZCxiLnBvaW50UmFkaXVzKSxhLnN0eWxlLmZsaXA9InkiKTp0aGlzLmRyYXdDaXJjbGUoYSxkLGIucG9pbnRSYWRpdXMpO2MuaXNGaWxsZWQ/YS5maWxsY29sb3I9ZTphLmZpbGxlZD0iZmFsc2UiO2Q9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZmlsbCIpO2Q9MD09ZC5sZW5ndGg/bnVsbDpkWzBdO2lmKGMuaXNGaWxsZWQpe2R8fAooZD10aGlzLmNyZWF0ZU5vZGUoIm9sdjpmaWxsIixhLmlkKyJfZmlsbCIpKTtkLm9wYWNpdHk9Yi5maWxsT3BhY2l0eTtpZigiT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCI9PT1hLl9nZW9tZXRyeUNsYXNzJiZiLmV4dGVybmFsR3JhcGhpYyYmKGIuZ3JhcGhpY09wYWNpdHkmJihkLm9wYWNpdHk9Yi5ncmFwaGljT3BhY2l0eSksZC5zcmM9Yi5leHRlcm5hbEdyYXBoaWMsZC50eXBlPSJmcmFtZSIsIWIuZ3JhcGhpY1dpZHRofHwhYi5ncmFwaGljSGVpZ2h0KSlkLmFzcGVjdD0iYXRtb3N0IjtkLnBhcmVudE5vZGUhPWEmJmEuYXBwZW5kQ2hpbGQoZCl9ZWxzZSBkJiZhLnJlbW92ZUNoaWxkKGQpO2U9Yi5yb3RhdGlvbjtpZih2b2lkIDAhPT1lfHx2b2lkIDAhPT1hLl9yb3RhdGlvbilhLl9yb3RhdGlvbj1lLGIuZXh0ZXJuYWxHcmFwaGljPyh0aGlzLmdyYXBoaWNSb3RhdGUoYSxoLGksYiksZC5vcGFjaXR5PTApOiJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50Ij09PWEuX2dlb21ldHJ5Q2xhc3MmJgooYS5zdHlsZS5yb3RhdGlvbj1lfHwwKTtoPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInN0cm9rZSIpO2g9MD09aC5sZW5ndGg/bnVsbDpoWzBdO2MuaXNTdHJva2VkPyhofHwoaD10aGlzLmNyZWF0ZU5vZGUoIm9sdjpzdHJva2UiLGEuaWQrIl9zdHJva2UiKSxhLmFwcGVuZENoaWxkKGgpKSxoLm9uPSEwLGguY29sb3I9Yi5zdHJva2VDb2xvcixoLndlaWdodD1iLnN0cm9rZVdpZHRoKyJweCIsaC5vcGFjaXR5PWIuc3Ryb2tlT3BhY2l0eSxoLmVuZGNhcD0iYnV0dCI9PWIuc3Ryb2tlTGluZWNhcD8iZmxhdCI6Yi5zdHJva2VMaW5lY2FwfHwicm91bmQiLGIuc3Ryb2tlRGFzaHN0eWxlJiYoaC5kYXNoc3R5bGU9dGhpcy5kYXNoU3R5bGUoYikpKTooYS5zdHJva2VkPSExLGgmJihoLm9uPSExKSk7ImluaGVyaXQiIT1iLmN1cnNvciYmbnVsbCE9Yi5jdXJzb3ImJihhLnN0eWxlLmN1cnNvcj1iLmN1cnNvcik7cmV0dXJuIGF9LGdyYXBoaWNSb3RhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGQ9CmR8fGEuX3N0eWxlLGU9ZC5yb3RhdGlvbnx8MCxmLGc7aWYoIWQuZ3JhcGhpY1dpZHRofHwhZC5ncmFwaGljSGVpZ2h0KXt2YXIgaD1uZXcgSW1hZ2U7aC5vbnJlYWR5c3RhdGVjaGFuZ2U9T3BlbkxheWVycy5GdW5jdGlvbi5iaW5kKGZ1bmN0aW9uKCl7aWYoImNvbXBsZXRlIj09aC5yZWFkeVN0YXRlfHwiaW50ZXJhY3RpdmUiPT1oLnJlYWR5U3RhdGUpZj1oLndpZHRoL2guaGVpZ2h0LGc9TWF0aC5tYXgoMipkLnBvaW50UmFkaXVzLGQuZ3JhcGhpY1dpZHRofHwwLGQuZ3JhcGhpY0hlaWdodHx8MCksYio9ZixkLmdyYXBoaWNXaWR0aD1nKmYsZC5ncmFwaGljSGVpZ2h0PWcsdGhpcy5ncmFwaGljUm90YXRlKGEsYixjLGQpfSx0aGlzKTtoLnNyYz1kLmV4dGVybmFsR3JhcGhpY31lbHNle2c9TWF0aC5tYXgoZC5ncmFwaGljV2lkdGgsZC5ncmFwaGljSGVpZ2h0KTtmPWQuZ3JhcGhpY1dpZHRoL2QuZ3JhcGhpY0hlaWdodDt2YXIgaT1NYXRoLnJvdW5kKGQuZ3JhcGhpY1dpZHRofHxnKgpmKSxqPU1hdGgucm91bmQoZC5ncmFwaGljSGVpZ2h0fHxnKTthLnN0eWxlLndpZHRoPWkrInB4IjthLnN0eWxlLmhlaWdodD1qKyJweCI7dmFyIGs9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYS5pZCsiX2ltYWdlIik7a3x8KGs9dGhpcy5jcmVhdGVOb2RlKCJvbHY6aW1hZ2VkYXRhIixhLmlkKyJfaW1hZ2UiKSxhLmFwcGVuZENoaWxkKGspKTtrLnN0eWxlLndpZHRoPWkrInB4IjtrLnN0eWxlLmhlaWdodD1qKyJweCI7ay5zcmM9ZC5leHRlcm5hbEdyYXBoaWM7ay5zdHlsZS5maWx0ZXI9InByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYUltYWdlTG9hZGVyKHNyYz0nJywgc2l6aW5nTWV0aG9kPSdzY2FsZScpIjtrPWUqTWF0aC5QSS8xODA7ZT1NYXRoLnNpbihrKTtrPU1hdGguY29zKGspO2U9InByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5NYXRyaXgoTTExPSIraysiLE0xMj0iKy1lKyIsTTIxPSIrZSsiLE0yMj0iK2srIixTaXppbmdNZXRob2Q9J2F1dG8gZXhwYW5kJylcbiI7CihrPWQuZ3JhcGhpY09wYWNpdHl8fGQuZmlsbE9wYWNpdHkpJiYxIT1rJiYoZSs9InByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5CYXNpY0ltYWdlKG9wYWNpdHk9IitrKyIpXG4iKTthLnN0eWxlLmZpbHRlcj1lO2U9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoLWIsLWMpO2k9KG5ldyBPcGVuTGF5ZXJzLkJvdW5kcygwLDAsaSxqKSkudG9HZW9tZXRyeSgpO2kucm90YXRlKGQucm90YXRpb24sZSk7aT1pLmdldEJvdW5kcygpO2Euc3R5bGUubGVmdD1NYXRoLnJvdW5kKHBhcnNlSW50KGEuc3R5bGUubGVmdCkraS5sZWZ0KSsicHgiO2Euc3R5bGUudG9wPU1hdGgucm91bmQocGFyc2VJbnQoYS5zdHlsZS50b3ApLWkuYm90dG9tKSsicHgifX0scG9zdERyYXc6ZnVuY3Rpb24oYSl7YS5zdHlsZS52aXNpYmlsaXR5PSJ2aXNpYmxlIjt2YXIgYj1hLl9zdHlsZS5maWxsQ29sb3IsYz1hLl9zdHlsZS5zdHJva2VDb2xvcjsibm9uZSI9PWImJmEuZmlsbGNvbG9yIT1iJiYKKGEuZmlsbGNvbG9yPWIpOyJub25lIj09YyYmYS5zdHJva2Vjb2xvciE9YyYmKGEuc3Ryb2tlY29sb3I9Yyl9LHNldE5vZGVEaW1lbnNpb246ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmdldEJvdW5kcygpO2lmKGMpe3ZhciBkPXRoaXMuZ2V0UmVzb2x1dGlvbigpLGM9bmV3IE9wZW5MYXllcnMuQm91bmRzKChjLmxlZnQtdGhpcy5mZWF0dXJlRHgpL2QtdGhpcy5vZmZzZXQueHwwLGMuYm90dG9tL2QtdGhpcy5vZmZzZXQueXwwLChjLnJpZ2h0LXRoaXMuZmVhdHVyZUR4KS9kLXRoaXMub2Zmc2V0Lnh8MCxjLnRvcC9kLXRoaXMub2Zmc2V0Lnl8MCk7YS5zdHlsZS5sZWZ0PWMubGVmdCsicHgiO2Euc3R5bGUudG9wPWMudG9wKyJweCI7YS5zdHlsZS53aWR0aD1jLmdldFdpZHRoKCkrInB4IjthLnN0eWxlLmhlaWdodD1jLmdldEhlaWdodCgpKyJweCI7YS5jb29yZG9yaWdpbj1jLmxlZnQrIiAiK2MudG9wO2EuY29vcmRzaXplPWMuZ2V0V2lkdGgoKSsiICIrYy5nZXRIZWlnaHQoKX19LGRhc2hTdHlsZTpmdW5jdGlvbihhKXthPQphLnN0cm9rZURhc2hzdHlsZTtzd2l0Y2goYSl7Y2FzZSAic29saWQiOmNhc2UgImRvdCI6Y2FzZSAiZGFzaCI6Y2FzZSAiZGFzaGRvdCI6Y2FzZSAibG9uZ2Rhc2giOmNhc2UgImxvbmdkYXNoZG90IjpyZXR1cm4gYTtkZWZhdWx0OnJldHVybiBhPWEuc3BsaXQoL1sgLF0vKSwyPT1hLmxlbmd0aD8xKmFbMF0+PTIqYVsxXT8ibG9uZ2Rhc2giOjE9PWFbMF18fDE9PWFbMV0/ImRvdCI6ImRhc2giOjQ9PWEubGVuZ3RoPzEqYVswXT49MiphWzFdPyJsb25nZGFzaGRvdCI6ImRhc2hkb3QiOiJzb2xpZCJ9fSxjcmVhdGVOb2RlOmZ1bmN0aW9uKGEsYil7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKTtiJiYoYy5pZD1iKTtjLnVuc2VsZWN0YWJsZT0ib24iO2Mub25zZWxlY3RzdGFydD1PcGVuTGF5ZXJzLkZ1bmN0aW9uLkZhbHNlO3JldHVybiBjfSxub2RlVHlwZUNvbXBhcmU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLGQ9Yy5pbmRleE9mKCI6Iik7LTEhPWQmJihjPWMuc3Vic3RyKGQrCjEpKTt2YXIgZT1hLm5vZGVOYW1lLGQ9ZS5pbmRleE9mKCI6Iik7LTEhPWQmJihlPWUuc3Vic3RyKGQrMSkpO3JldHVybiBjPT1lfSxjcmVhdGVSZW5kZXJSb290OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZUZhY3RvcnkodGhpcy5jb250YWluZXIuaWQrIl92bWxSb290IiwiZGl2Iil9LGNyZWF0ZVJvb3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubm9kZUZhY3RvcnkodGhpcy5jb250YWluZXIuaWQrYSwib2x2Omdyb3VwIil9LGRyYXdQb2ludDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmRyYXdDaXJjbGUoYSxiLDEpfSxkcmF3Q2lyY2xlOmZ1bmN0aW9uKGEsYixjKXtpZighaXNOYU4oYi54KSYmIWlzTmFOKGIueSkpe3ZhciBkPXRoaXMuZ2V0UmVzb2x1dGlvbigpO2Euc3R5bGUubGVmdD0oKGIueC10aGlzLmZlYXR1cmVEeCkvZC10aGlzLm9mZnNldC54fDApLWMrInB4IjthLnN0eWxlLnRvcD0oYi55L2QtdGhpcy5vZmZzZXQueXwwKS1jKyJweCI7Yj0yKmM7YS5zdHlsZS53aWR0aD0KYisicHgiO2Euc3R5bGUuaGVpZ2h0PWIrInB4IjtyZXR1cm4gYX1yZXR1cm4hMX0sZHJhd0xpbmVTdHJpbmc6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5kcmF3TGluZShhLGIsITEpfSxkcmF3TGluZWFyUmluZzpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmRyYXdMaW5lKGEsYiwhMCl9LGRyYXdMaW5lOmZ1bmN0aW9uKGEsYixjKXt0aGlzLnNldE5vZGVEaW1lbnNpb24oYSxiKTtmb3IodmFyIGQ9dGhpcy5nZXRSZXNvbHV0aW9uKCksZT1iLmNvbXBvbmVudHMubGVuZ3RoLGY9QXJyYXkoZSksZyxoLGk9MDtpPGU7aSsrKWc9Yi5jb21wb25lbnRzW2ldLGg9KGcueC10aGlzLmZlYXR1cmVEeCkvZC10aGlzLm9mZnNldC54fDAsZz1nLnkvZC10aGlzLm9mZnNldC55fDAsZltpXT0iICIraCsiLCIrZysiIGwgIjthLnBhdGg9Im0iK2Yuam9pbigiIikrKGM/IiB4IGUiOiIgZSIpO3JldHVybiBhfSxkcmF3UG9seWdvbjpmdW5jdGlvbihhLGIpe3RoaXMuc2V0Tm9kZURpbWVuc2lvbihhLApiKTt2YXIgYz10aGlzLmdldFJlc29sdXRpb24oKSxkPVtdLGUsZixnLGgsaSxqLGssbCxtLG47ZT0wO2ZvcihmPWIuY29tcG9uZW50cy5sZW5ndGg7ZTxmO2UrKyl7ZC5wdXNoKCJtIik7Zz1iLmNvbXBvbmVudHNbZV0uY29tcG9uZW50cztoPTA9PT1lO2o9aT1udWxsO2s9MDtmb3IobD1nLmxlbmd0aDtrPGw7aysrKW09Z1trXSxuPShtLngtdGhpcy5mZWF0dXJlRHgpL2MtdGhpcy5vZmZzZXQueHwwLG09bS55L2MtdGhpcy5vZmZzZXQueXwwLG49IiAiK24rIiwiK20sZC5wdXNoKG4pLDA9PWsmJmQucHVzaCgiIGwiKSxofHwoaT9pIT1uJiYoaj9qIT1uJiYoaD0hMCk6aj1uKTppPW4pO2QucHVzaChoPyIgeCAiOiIgIil9ZC5wdXNoKCJlIik7YS5wYXRoPWQuam9pbigiIik7cmV0dXJuIGF9LGRyYXdSZWN0YW5nbGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldFJlc29sdXRpb24oKTthLnN0eWxlLmxlZnQ9KChiLngtdGhpcy5mZWF0dXJlRHgpL2MtdGhpcy5vZmZzZXQueHwwKSsKInB4IjthLnN0eWxlLnRvcD0oYi55L2MtdGhpcy5vZmZzZXQueXwwKSsicHgiO2Euc3R5bGUud2lkdGg9KGIud2lkdGgvY3wwKSsicHgiO2Euc3R5bGUuaGVpZ2h0PShiLmhlaWdodC9jfDApKyJweCI7cmV0dXJuIGF9LGRyYXdUZXh0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLm5vZGVGYWN0b3J5KGErdGhpcy5MQUJFTF9JRF9TVUZGSVgsIm9sdjpyZWN0IiksZT10aGlzLm5vZGVGYWN0b3J5KGErdGhpcy5MQUJFTF9JRF9TVUZGSVgrIl90ZXh0Ym94Iiwib2x2OnRleHRib3giKSxmPXRoaXMuZ2V0UmVzb2x1dGlvbigpO2Quc3R5bGUubGVmdD0oKGMueC10aGlzLmZlYXR1cmVEeCkvZi10aGlzLm9mZnNldC54fDApKyJweCI7ZC5zdHlsZS50b3A9KGMueS9mLXRoaXMub2Zmc2V0Lnl8MCkrInB4IjtkLnN0eWxlLmZsaXA9InkiO2UuaW5uZXJUZXh0PWIubGFiZWw7ImluaGVyaXQiIT1iLmN1cnNvciYmbnVsbCE9Yi5jdXJzb3ImJihlLnN0eWxlLmN1cnNvcj1iLmN1cnNvcik7Yi5mb250Q29sb3ImJgooZS5zdHlsZS5jb2xvcj1iLmZvbnRDb2xvcik7Yi5mb250T3BhY2l0eSYmKGUuc3R5bGUuZmlsdGVyPSJhbHBoYShvcGFjaXR5PSIrMTAwKmIuZm9udE9wYWNpdHkrIikiKTtiLmZvbnRGYW1pbHkmJihlLnN0eWxlLmZvbnRGYW1pbHk9Yi5mb250RmFtaWx5KTtiLmZvbnRTaXplJiYoZS5zdHlsZS5mb250U2l6ZT1iLmZvbnRTaXplKTtiLmZvbnRXZWlnaHQmJihlLnN0eWxlLmZvbnRXZWlnaHQ9Yi5mb250V2VpZ2h0KTtiLmZvbnRTdHlsZSYmKGUuc3R5bGUuZm9udFN0eWxlPWIuZm9udFN0eWxlKTshMD09PWIubGFiZWxTZWxlY3QmJihkLl9mZWF0dXJlSWQ9YSxlLl9mZWF0dXJlSWQ9YSxlLl9nZW9tZXRyeT1jLGUuX2dlb21ldHJ5Q2xhc3M9Yy5DTEFTU19OQU1FKTtlLnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCI7ZS5pbnNldD0iMXB4LDBweCwwcHgsMHB4IjtkLnBhcmVudE5vZGV8fChkLmFwcGVuZENoaWxkKGUpLHRoaXMudGV4dFJvb3QuYXBwZW5kQ2hpbGQoZCkpO2I9Yi5sYWJlbEFsaWdufHwKImNtIjsxPT1iLmxlbmd0aCYmKGIrPSJtIik7YT1lLmNsaWVudFdpZHRoKk9wZW5MYXllcnMuUmVuZGVyZXIuVk1MLkxBQkVMX1NISUZUW2Iuc3Vic3RyKDAsMSldO2U9ZS5jbGllbnRIZWlnaHQqT3BlbkxheWVycy5SZW5kZXJlci5WTUwuTEFCRUxfU0hJRlRbYi5zdWJzdHIoMSwxKV07ZC5zdHlsZS5sZWZ0PXBhcnNlSW50KGQuc3R5bGUubGVmdCktYS0xKyJweCI7ZC5zdHlsZS50b3A9cGFyc2VJbnQoZC5zdHlsZS50b3ApK2UrInB4In0sbW92ZVJvb3Q6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5tYXAuZ2V0TGF5ZXIoYS5jb250YWluZXIuaWQpO2IgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkxheWVyLlZlY3Rvci5Sb290Q29udGFpbmVyJiYoYj10aGlzLm1hcC5nZXRMYXllcih0aGlzLmNvbnRhaW5lci5pZCkpO2ImJmIucmVuZGVyZXIuY2xlYXIoKTtPcGVuTGF5ZXJzLlJlbmRlcmVyLkVsZW1lbnRzLnByb3RvdHlwZS5tb3ZlUm9vdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YiYmYi5yZWRyYXcoKX0sCmltcG9ydFN5bWJvbDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNvbnRhaW5lci5pZCsiLSIrYSxjPXRoaXMuc3ltYm9sQ2FjaGVbYl07aWYoYylyZXR1cm4gYztjPU9wZW5MYXllcnMuUmVuZGVyZXIuc3ltYm9sW2FdO2lmKCFjKXRocm93IEVycm9yKGErIiBpcyBub3QgYSB2YWxpZCBzeW1ib2wgbmFtZSIpO2Zvcih2YXIgYT1uZXcgT3BlbkxheWVycy5Cb3VuZHMoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLDAsMCksZD1bIm0iXSxlPTA7ZTxjLmxlbmd0aDtlKz0yKXt2YXIgZj1jW2VdLGc9Y1tlKzFdO2EubGVmdD1NYXRoLm1pbihhLmxlZnQsZik7YS5ib3R0b209TWF0aC5taW4oYS5ib3R0b20sZyk7YS5yaWdodD1NYXRoLm1heChhLnJpZ2h0LGYpO2EudG9wPU1hdGgubWF4KGEudG9wLGcpO2QucHVzaChmKTtkLnB1c2goZyk7MD09ZSYmZC5wdXNoKCJsIil9ZC5wdXNoKCJ4IGUiKTtjPWQuam9pbigiICIpO2Q9KGEuZ2V0V2lkdGgoKS1hLmdldEhlaWdodCgpKS8yOwowPGQ/KGEuYm90dG9tLT1kLGEudG9wKz1kKTooYS5sZWZ0Kz1kLGEucmlnaHQtPWQpO2M9e3BhdGg6YyxzaXplOmEuZ2V0V2lkdGgoKSxsZWZ0OmEubGVmdCxib3R0b206YS5ib3R0b219O3JldHVybiB0aGlzLnN5bWJvbENhY2hlW2JdPWN9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuUmVuZGVyZXIuVk1MIn0pO09wZW5MYXllcnMuUmVuZGVyZXIuVk1MLkxBQkVMX1NISUZUPXtsOjAsYzowLjUscjoxLHQ6MCxtOjAuNSxiOjF9O09wZW5MYXllcnMuTGFuZy52aT1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7dW5oYW5kbGVkUmVxdWVzdDoiS2hcdTAwZjRuZyB4XHUxZWVkIGxcdTAwZmQgXHUwMTExXHUwMWIwXHUxZWUzYyBwaFx1MWVhM24gaFx1MWVkM2kgJHtzdGF0dXNUZXh0fSBjaG8geVx1MDBlYXUgY1x1MWVhN3UiLFBlcm1hbGluazoiTGlcdTAwZWFuIGtcdTFlYmZ0IHRoXHUwMWIwXHUxZWRkbmcgdHJcdTFlZjFjIixPdmVybGF5czoiTFx1MWVhNXAgYlx1MWVhM24gXHUwMTExXHUxZWQzIiwiQmFzZSBMYXllciI6IkxcdTFlZGJwIG5cdTFlYzFuIixub0ZJRDoiS2hcdTAwZjRuZyB0aFx1MWVjMyBjXHUxZWFkcCBuaFx1MWVhZHQgdFx1MDBlZG5oIG5cdTAxMDNuZyB0aGlcdTFlYmZ1IEZJRC4iLGJyb3dzZXJOb3RTdXBwb3J0ZWQ6IlRyXHUwMGVjbmggZHV5XHUxZWM3dCBjXHUxZWU3YSBiXHUxZWExbiBraFx1MDBmNG5nIGhcdTFlZDcgdHJcdTFlZTMgY2hcdTFlZTljIG5cdTAxMDNuZyB2XHUxZWJkIGJcdTFlYjFuZyB2ZWN0XHUwMWExLiBIaVx1MWVjN24gaFx1MWVkNyB0clx1MWVlMyBjXHUwMGUxYyBiXHUxZWQ5IGtcdTFlYmZ0IHh1XHUxZWE1dDpcbiR7cmVuZGVyZXJzfSIsCm1pblpvb21MZXZlbEVycm9yOiJDaFx1MWVjOSBuXHUwMGVhbiBzXHUxZWVkIGRcdTFlZTVuZyB0aHVcdTFlZDljIHRcdTAwZWRuaCBtaW5ab29tTGV2ZWwgdlx1MWVkYmkgY1x1MDBlMWMgbFx1MWVkYnAgRml4ZWRab29tTGV2ZWxzLWRlc2NlbmRlbnQuIFZpXHUxZWM3YyBsXHUxZWRicCB3ZnMgblx1MDBlMHkgdFx1MDBlY20gY2hvIG1pblpvb21MZXZlbCBsXHUwMGUwIGRpIHRcdTAwZWRjaCBjXHUwMGYybiBsXHUxZWExaSB0XHUxZWViIHhcdTAxYjBhLiBUdXkgbmhpXHUwMGVhbiwgblx1MWViZnUgY2hcdTAwZmFuZyB0XHUwMGY0aSBkXHUxZWRkaSBuXHUwMGYzIHRoXHUwMGVjIHNcdTFlYmQgdlx1MWVlMSBjXHUwMGUxYyBjaFx1MDFiMFx1MDFhMW5nIHRyXHUwMGVjbmggT3BlbkxheWVycyBtXHUwMGUwIGRcdTFlZjFhIHRyXHUwMGVhbiBuXHUwMGYzLiBCXHUxZWRmaSB2XHUxZWFkeSBjaFx1MDBmYW5nIHRcdTAwZjRpIHBoXHUxZWEzbiBcdTAxMTFcdTFlZDFpIHNcdTFlZWQgZFx1MWVlNW5nIG5cdTAwZjMmbmJzcDtcdTIwMTMgYlx1MDFiMFx1MWVkYmMgdFx1MDBlY20gY2hvIG1pblpvb21MZXZlbCBzXHUxZWJkIFx1MDExMVx1MDFiMFx1MWVlM2MgZFx1MWVkZGkgdlx1MDBlMG8gcGhpXHUwMGVhbiBiXHUxZWEzbiAzLjAuIFhpbiBzXHUxZWVkIGRcdTFlZTVuZyB0aGlcdTFlYmZ0IGxcdTFlYWRwIFx1MDExMVx1MWVkOSBwaFx1MDBlMm4gdFx1MDBlZGNoIHRcdTFlZDFpIHRoaVx1MWVjM3UgLyB0XHUxZWQxaSBcdTAxMTFhIHRoYXkgdGhcdTFlYmYsIHRoZW8gaFx1MDFiMFx1MWVkYm5nIGRcdTFlYWJuIG5cdTAwZTB5OiBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NldHRpbmdab29tTGV2ZWxzIiwKY29tbWl0U3VjY2VzczoiR2lhbyBkXHUxZWNiY2ggV0ZTOiBUSFx1MDBjME5IIENcdTAwZDRORyAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJHaWFvIGRcdTFlY2JjaCBXRlM6IFRIXHUxZWE0VCBCXHUxZWEwSSAke3Jlc3BvbnNlfSIsZ29vZ2xlV2FybmluZzoiS2hcdTAwZjRuZyB0aFx1MWVjMyB0XHUxZWEzaSBsXHUxZWRicCBHb29nbGUgXHUwMTExXHUwMGZhbmcgXHUwMTExXHUxZWFmbi48YnI+PGJyPlx1MDExMFx1MWVjMyB0clx1MDBlMW5oIHRoXHUwMGY0bmcgYlx1MDBlMW8gblx1MDBlMHkgbFx1MWVhN24gc2F1LCBoXHUwMGUzeSBjaFx1MWVjZG4gQmFzZUxheWVyIG1cdTFlZGJpIGRcdTAwZjluZyBcdTAxMTFpXHUxZWMxdSBraGlcdTFlYzNuIGNoXHUxZWNkbiBsXHUxZWRicCBcdTFlZGYgZ1x1MDBmM2MgdHJcdTAwZWFuIHBoXHUxZWEzaS48YnI+PGJyPkNoXHUxZWFmYyBzY3JpcHQgdGhcdTAxYjAgdmlcdTFlYzduIEdvb2dsZSBNYXBzIGhvXHUxZWI3YyBraFx1MDBmNG5nIFx1MDExMVx1MDFiMFx1MWVlM2MgYmFvIGdcdTFlZDNtIGhvXHUxZWI3YyBraFx1MDBmNG5nIGNoXHUxZWU5YSBraFx1MDBmM2EgQVBJIGhcdTFlZTNwIHZcdTFlZGJpIHdlYnNpdGUgY1x1MWVlN2EgYlx1MWVhMW4uPGJyPjxicj48YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZScgdGFyZ2V0PSdfYmxhbmsnPlRyXHUxZWUzIGdpXHUwMGZhcCB2XHUxZWMxIHRcdTAwZWRuaCBuXHUwMTAzbmcgblx1MDBlMHk8L2E+IGNobyBuZ1x1MDFiMFx1MWVkZGkgcGhcdTAwZTF0IHRyaVx1MWVjM24uIiwKZ2V0TGF5ZXJXYXJuaW5nOiJLaFx1MDBmNG5nIHRoXHUxZWMzIHRcdTFlYTNpIGxcdTFlZGJwICR7bGF5ZXJUeXBlfSBcdTAxMTFcdTAwZmFuZyBcdTAxMTFcdTFlYWZuLjxicj48YnI+XHUwMTEwXHUxZWMzIHRyXHUwMGUxbmggdGhcdTAwZjRuZyBiXHUwMGUxbyBuXHUwMGUweSBsXHUxZWE3biBzYXUsIGhcdTAwZTN5IGNoXHUxZWNkbiBCYXNlTGF5ZXIgbVx1MWVkYmkgZFx1MDBmOW5nIFx1MDExMWlcdTFlYzF1IGtoaVx1MWVjM24gY2hcdTFlY2RuIGxcdTFlZGJwIFx1MWVkZiBnXHUwMGYzYyB0clx1MDBlYW4gcGhcdTFlYTNpLjxicj48YnI+Q2hcdTFlYWZjIHNjcmlwdCB0aFx1MDFiMCB2aVx1MWVjN24gJHtsYXllckxpYn0ga2hcdTAwZjRuZyBcdTAxMTFcdTAxYjBcdTFlZTNjIGJhbyBnXHUxZWQzbSBcdTAxMTFcdTAwZmFuZyBraVx1MWVjM3UuPGJyPjxicj48YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+VHJcdTFlZTMgZ2lcdTAwZmFwIHZcdTFlYzEgdFx1MDBlZG5oIG5cdTAxMDNuZyBuXHUwMGUweTwvYT4gY2hvIG5nXHUwMWIwXHUxZWRkaSBwaFx1MDBlMXQgdHJpXHUxZWMzbi4iLAoiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6IlRcdTFlZjcgbFx1MWVjNyA9IDEgOiAke3NjYWxlRGVub219IixXOiJUIixFOiJcdTAxMTAiLE46IkIiLFM6Ik4iLHJlcHJvamVjdERlcHJlY2F0ZWQ6IkJcdTFlYTFuIFx1MDExMWFuZyBcdTAwZTFwIGRcdTFlZTVuZyBjaFx1MWViZiBcdTAxMTFcdTFlZDkgXHUyMDFjcmVwcm9qZWN0XHUyMDFkIHZcdTAwZTBvIGxcdTFlZGJwICR7bGF5ZXJOYW1lfS4gQ2hcdTFlYmYgXHUwMTExXHUxZWQ5IG5cdTAwZTB5IFx1MDExMVx1MDBlMyBiXHUxZWNiIHBoXHUxZWEzbiBcdTAxMTFcdTFlZDFpOiBuXHUwMGYzIGNcdTAwZjMgbVx1MWVlNWMgXHUwMTExXHUwMGVkY2ggaFx1MWVkNyB0clx1MWVlMyBsXHUxZWE1cCBkXHUxZWVmIGxpXHUxZWM3dSB0clx1MDBlYW4gY1x1MDBlMWMgblx1MWVjMW4gYlx1MWVhM24gXHUwMTExXHUxZWQzIHRoXHUwMWIwXHUwMWExbmcgbVx1MWVhMWk7IG5cdTAwZWFuIHRoXHUxZWYxYyBoaVx1MWVjN24gaGlcdTFlYzd1IFx1MWVlOW5nIFx1MDExMVx1MDBmMyBkXHUwMGY5bmcgdFx1MDBlZG5oIG5cdTAxMDNuZyBNZXJjYXRvciBIXHUwMGVjbmggY1x1MWVhN3UuIENcdTAwZjMgc1x1MWViNW4gdGhcdTAwZWFtIGNoaSB0aVx1MWViZnQgdFx1MWVhMWkgaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TcGhlcmljYWxNZXJjYXRvciAuIiwKbWV0aG9kRGVwcmVjYXRlZDoiUGhcdTAxYjBcdTAxYTFuZyB0aFx1MWVlOWMgblx1MDBlMHkgXHUwMTExXHUwMGUzIGJcdTFlY2IgcGhcdTFlYTNuIFx1MDExMVx1MWVkMWkgdlx1MDBlMCBzXHUxZWJkIGJcdTFlY2IgZFx1MWVkZGkgdlx1MDBlMG8gcGhpXHUwMGVhbiBiXHUxZWEzbiAzLjAuIFhpbiBoXHUwMGUzeSBzXHUxZWVkIGRcdTFlZTVuZyAke25ld01ldGhvZH0gdGhheSB0aFx1MWViZi4ifSk7T3BlbkxheWVycy5Db250cm9sLkNhY2hlUmVhZD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuQ29udHJvbCx7ZmV0Y2hFdmVudDoidGlsZWxvYWRzdGFydCIsbGF5ZXJzOm51bGwsYXV0b0FjdGl2YXRlOiEwLHNldE1hcDpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLnNldE1hcC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGIsYz10aGlzLmxheWVyc3x8YS5sYXllcnM7Zm9yKGI9Yy5sZW5ndGgtMTswPD1iOy0tYil0aGlzLmFkZExheWVyKHtsYXllcjpjW2JdfSk7aWYoIXRoaXMubGF5ZXJzKWEuZXZlbnRzLm9uKHthZGRsYXllcjp0aGlzLmFkZExheWVyLHJlbW92ZUxheWVyOnRoaXMucmVtb3ZlTGF5ZXIsc2NvcGU6dGhpc30pfSxhZGRMYXllcjpmdW5jdGlvbihhKXthLmxheWVyLmV2ZW50cy5yZWdpc3Rlcih0aGlzLmZldGNoRXZlbnQsdGhpcyx0aGlzLmZldGNoKX0scmVtb3ZlTGF5ZXI6ZnVuY3Rpb24oYSl7YS5sYXllci5ldmVudHMudW5yZWdpc3Rlcih0aGlzLmZldGNoRXZlbnQsCnRoaXMsdGhpcy5mZXRjaCl9LGZldGNoOmZ1bmN0aW9uKGEpe2lmKHRoaXMuYWN0aXZlJiZ3aW5kb3cubG9jYWxTdG9yYWdlJiZhLnRpbGUgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLlRpbGUuSW1hZ2Upe3ZhciBiPWEudGlsZSxjPWIudXJsOyFiLmxheWVyLmNyb3NzT3JpZ2luS2V5d29yZCYmKE9wZW5MYXllcnMuUHJveHlIb3N0JiYwPT09Yy5pbmRleE9mKE9wZW5MYXllcnMuUHJveHlIb3N0KSkmJihjPU9wZW5MYXllcnMuQ29udHJvbC5DYWNoZVdyaXRlLnVybE1hcFtjXSk7aWYoYz13aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oIm9sQ2FjaGVfIitjKSliLnVybD1jLCJ0aWxlZXJyb3IiPT09YS50eXBlJiZiLnNldEltZ1NyYyhjKX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXtpZih0aGlzLmxheWVyc3x8dGhpcy5tYXApe3ZhciBhLGI9dGhpcy5sYXllcnN8fHRoaXMubWFwLmxheWVycztmb3IoYT1iLmxlbmd0aC0xOzA8PWE7LS1hKXRoaXMucmVtb3ZlTGF5ZXIoe2xheWVyOmJbYV19KX10aGlzLm1hcCYmCnRoaXMubWFwLmV2ZW50cy51bih7YWRkbGF5ZXI6dGhpcy5hZGRMYXllcixyZW1vdmVMYXllcjp0aGlzLnJlbW92ZUxheWVyLHNjb3BlOnRoaXN9KTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuQ2FjaGVSZWFkIn0pO09wZW5MYXllcnMuTGFuZy5rbT1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7UGVybWFsaW5rOiJcdTE3OGZcdTE3YzZcdTE3OGVcdTE3OTdcdTE3ZDJcdTE3ODdcdTE3YjZcdTE3OTRcdTE3Y2JcdTE3YTJcdTE3ODVcdTE3YjdcdTE3OTNcdTE3ZDJcdTE3OGZcdTE3ZDJcdTE3OWFcdTE3YzNcdTE3OTlcdTE3Y2QiLCJCYXNlIExheWVyIjoiXHUxNzlmXHUxN2QyXHUxNzlhXHUxNzkxXHUxN2I2XHUxNzk0XHUxN2NiXHUxNzk0XHUxN2I2XHUxNzhmXHUyMDBiIiwiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6Ilx1MTc5OFx1MTdiNlx1MTc4Zlx1MTdkMlx1MTc5YVx1MTc4YVx1MTdkMlx1MTc4Ylx1MTdiNlx1MTc5MyA9IFx1MTdlMSBcdTE3ZDYgJHtzY2FsZURlbm9tfSJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5XRlNULnYxXzBfMD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LkZpbHRlci52MV8wXzAsT3BlbkxheWVycy5Gb3JtYXQuV0ZTVC52MSx7dmVyc2lvbjoiMS4wLjAiLHNyc05hbWVJblF1ZXJ5OiExLHNjaGVtYUxvY2F0aW9uczp7d2ZzOiJodHRwOi8vc2NoZW1hcy5vcGVuZ2lzLm5ldC93ZnMvMS4wLjAvV0ZTLXRyYW5zYWN0aW9uLnhzZCJ9LGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Gb3JtYXQuRmlsdGVyLnYxXzBfMC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSk7T3BlbkxheWVycy5Gb3JtYXQuV0ZTVC52MS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSl9LHJlYWROb2RlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gT3BlbkxheWVycy5Gb3JtYXQuR01MLnYyLnByb3RvdHlwZS5yZWFkTm9kZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHJlYWRlcnM6e3dmczpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7V0ZTX1RyYW5zYWN0aW9uUmVzcG9uc2U6ZnVuY3Rpb24oYSwKYil7Yi5pbnNlcnRJZHM9W107Yi5zdWNjZXNzPSExO3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sSW5zZXJ0UmVzdWx0OmZ1bmN0aW9uKGEsYil7dmFyIGM9e2ZpZHM6W119O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLmluc2VydElkcz1iLmluc2VydElkcy5jb25jYXQoYy5maWRzKX0sVHJhbnNhY3Rpb25SZXN1bHQ6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LFN0YXR1czpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sU1VDQ0VTUzpmdW5jdGlvbihhLGIpe2Iuc3VjY2Vzcz0hMH19LE9wZW5MYXllcnMuRm9ybWF0LldGU1QudjEucHJvdG90eXBlLnJlYWRlcnMud2ZzKSxnbWw6T3BlbkxheWVycy5Gb3JtYXQuR01MLnYyLnByb3RvdHlwZS5yZWFkZXJzLmdtbCxmZWF0dXJlOk9wZW5MYXllcnMuRm9ybWF0LkdNTC52Mi5wcm90b3R5cGUucmVhZGVycy5mZWF0dXJlLG9nYzpPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIudjFfMF8wLnByb3RvdHlwZS5yZWFkZXJzLm9nY30sCndyaXRlcnM6e3dmczpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7UXVlcnk6ZnVuY3Rpb24oYSl7dmFyIGE9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7ZmVhdHVyZU5TOnRoaXMuZmVhdHVyZU5TLGZlYXR1cmVQcmVmaXg6dGhpcy5mZWF0dXJlUHJlZml4LGZlYXR1cmVUeXBlOnRoaXMuZmVhdHVyZVR5cGUsc3JzTmFtZTp0aGlzLnNyc05hbWUsc3JzTmFtZUluUXVlcnk6dGhpcy5zcnNOYW1lSW5RdWVyeX0sYSksYj1hLmZlYXR1cmVQcmVmaXgsYz10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoIndmczpRdWVyeSIse2F0dHJpYnV0ZXM6e3R5cGVOYW1lOihiP2IrIjoiOiIiKSthLmZlYXR1cmVUeXBlfX0pO2Euc3JzTmFtZUluUXVlcnkmJmEuc3JzTmFtZSYmYy5zZXRBdHRyaWJ1dGUoInNyc05hbWUiLGEuc3JzTmFtZSk7YS5mZWF0dXJlTlMmJmMuc2V0QXR0cmlidXRlKCJ4bWxuczoiK2IsYS5mZWF0dXJlTlMpO2lmKGEucHJvcGVydHlOYW1lcylmb3IodmFyIGI9MCxkPWEucHJvcGVydHlOYW1lcy5sZW5ndGg7YjwKZDtiKyspdGhpcy53cml0ZU5vZGUoIm9nYzpQcm9wZXJ0eU5hbWUiLHtwcm9wZXJ0eTphLnByb3BlcnR5TmFtZXNbYl19LGMpO2EuZmlsdGVyJiYodGhpcy5zZXRGaWx0ZXJQcm9wZXJ0eShhLmZpbHRlciksdGhpcy53cml0ZU5vZGUoIm9nYzpGaWx0ZXIiLGEuZmlsdGVyLGMpKTtyZXR1cm4gY319LE9wZW5MYXllcnMuRm9ybWF0LldGU1QudjEucHJvdG90eXBlLndyaXRlcnMud2ZzKSxnbWw6T3BlbkxheWVycy5Gb3JtYXQuR01MLnYyLnByb3RvdHlwZS53cml0ZXJzLmdtbCxmZWF0dXJlOk9wZW5MYXllcnMuRm9ybWF0LkdNTC52Mi5wcm90b3R5cGUud3JpdGVycy5mZWF0dXJlLG9nYzpPcGVuTGF5ZXJzLkZvcm1hdC5GaWx0ZXIudjFfMF8wLnByb3RvdHlwZS53cml0ZXJzLm9nY30sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuV0ZTVC52MV8wXzAifSk7T3BlbkxheWVycy5Qcm90b2NvbC5XRlMudjFfMF8wPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Qcm90b2NvbC5XRlMudjEse3ZlcnNpb246IjEuMC4wIixDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlByb3RvY29sLldGUy52MV8wXzAifSk7T3BlbkxheWVycy5Gb3JtYXQuV01TR2V0RmVhdHVyZUluZm89T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwse2xheWVySWRlbnRpZmllcjoiX2xheWVyIixmZWF0dXJlSWRlbnRpZmllcjoiX2ZlYXR1cmUiLHJlZ0V4ZXM6e3RyaW1TcGFjZTovXlxzKnxccyokL2cscmVtb3ZlU3BhY2U6L1xzKi9nLHNwbGl0U3BhY2U6L1xzKy8sdHJpbUNvbW1hOi9ccyosXHMqL2d9LGdtbEZvcm1hdDpudWxsLHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PXR5cGVvZiBhJiYoYT1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxbYV0pKTt2YXIgYj1hLmRvY3VtZW50RWxlbWVudDtpZihiKXZhciBjPXRoaXNbInJlYWRfIitiLm5vZGVOYW1lXSxhPWM/Yy5jYWxsKHRoaXMsYik6KG5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5HTUwodGhpcy5vcHRpb25zP3RoaXMub3B0aW9uczp7fSkpLnJlYWQoYSk7cmV0dXJuIGF9LHJlYWRfbXNHTUxPdXRwdXQ6ZnVuY3Rpb24oYSl7dmFyIGI9CltdO2lmKGE9dGhpcy5nZXRTaWJsaW5nTm9kZXNCeVRhZ0NyaXRlcmlhKGEsdGhpcy5sYXllcklkZW50aWZpZXIpKWZvcih2YXIgYz0wLGQ9YS5sZW5ndGg7YzxkOysrYyl7dmFyIGU9YVtjXSxmPWUubm9kZU5hbWU7ZS5wcmVmaXgmJihmPWYuc3BsaXQoIjoiKVsxXSk7Zj1mLnJlcGxhY2UodGhpcy5sYXllcklkZW50aWZpZXIsIiIpO2lmKGU9dGhpcy5nZXRTaWJsaW5nTm9kZXNCeVRhZ0NyaXRlcmlhKGUsdGhpcy5mZWF0dXJlSWRlbnRpZmllcikpZm9yKHZhciBnPTA7ZzxlLmxlbmd0aDtnKyspe3ZhciBoPWVbZ10saT10aGlzLnBhcnNlR2VvbWV0cnkoaCksaD10aGlzLnBhcnNlQXR0cmlidXRlcyhoKSxoPW5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKGkuZ2VvbWV0cnksaCxudWxsKTtoLmJvdW5kcz1pLmJvdW5kcztoLnR5cGU9ZjtiLnB1c2goaCl9fXJldHVybiBifSxyZWFkX0ZlYXR1cmVJbmZvUmVzcG9uc2U6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGE9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsCiIqIiwiRklFTERTIiksYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKyl7dmFyIGU9YVtjXSxmPXt9LGcsaD1lLmF0dHJpYnV0ZXMubGVuZ3RoO2lmKDA8aClmb3IoZz0wO2c8aDtnKyspe3ZhciBpPWUuYXR0cmlidXRlc1tnXTtmW2kubm9kZU5hbWVdPWkubm9kZVZhbHVlfWVsc2V7ZT1lLmNoaWxkTm9kZXM7Zz0wO2ZvcihoPWUubGVuZ3RoO2c8aDsrK2cpaT1lW2ddLDMhPWkubm9kZVR5cGUmJihmW2kuZ2V0QXR0cmlidXRlKCJuYW1lIildPWkuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpKX1iLnB1c2gobmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IobnVsbCxmLG51bGwpKX1yZXR1cm4gYn0sZ2V0U2libGluZ05vZGVzQnlUYWdDcml0ZXJpYTpmdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQsZSxmLGc7aWYoYSYmYS5oYXNDaGlsZE5vZGVzKCkpe2Q9YS5jaGlsZE5vZGVzO2Y9ZC5sZW5ndGg7Zm9yKHZhciBoPTA7aDxmO2grKyl7Zm9yKGc9ZFtoXTtnJiYxIT1nLm5vZGVUeXBlOylnPWcubmV4dFNpYmxpbmcsCmgrKztlPWc/Zy5ub2RlTmFtZToiIjswPGUubGVuZ3RoJiYtMTxlLmluZGV4T2YoYik/Yy5wdXNoKGcpOihlPXRoaXMuZ2V0U2libGluZ05vZGVzQnlUYWdDcml0ZXJpYShnLGIpLDA8ZS5sZW5ndGgmJigwPT1jLmxlbmd0aD9jPWU6Yy5wdXNoKGUpKSl9fXJldHVybiBjfSxwYXJzZUF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSl7dmFyIGI9e307aWYoMT09YS5ub2RlVHlwZSlmb3IodmFyIGE9YS5jaGlsZE5vZGVzLGM9YS5sZW5ndGgsZD0wO2Q8YzsrK2Qpe3ZhciBlPWFbZF07aWYoMT09ZS5ub2RlVHlwZSl7dmFyIGY9ZS5jaGlsZE5vZGVzLGU9ZS5wcmVmaXg/ZS5ub2RlTmFtZS5zcGxpdCgiOiIpWzFdOmUubm9kZU5hbWU7aWYoMD09Zi5sZW5ndGgpYltlXT1udWxsO2Vsc2UgaWYoMT09Zi5sZW5ndGgmJihmPWZbMF0sMz09Zi5ub2RlVHlwZXx8ND09Zi5ub2RlVHlwZSkpZj1mLm5vZGVWYWx1ZS5yZXBsYWNlKHRoaXMucmVnRXhlcy50cmltU3BhY2UsIiIpLGJbZV09Zn19cmV0dXJuIGJ9LApwYXJzZUdlb21ldHJ5OmZ1bmN0aW9uKGEpe3RoaXMuZ21sRm9ybWF0fHwodGhpcy5nbWxGb3JtYXQ9bmV3IE9wZW5MYXllcnMuRm9ybWF0LkdNTCk7dmFyIGE9dGhpcy5nbWxGb3JtYXQucGFyc2VGZWF0dXJlKGEpLGIsYz1udWxsO2EmJihiPWEuZ2VvbWV0cnkmJmEuZ2VvbWV0cnkuY2xvbmUoKSxjPWEuYm91bmRzJiZhLmJvdW5kcy5jbG9uZSgpLGEuZGVzdHJveSgpKTtyZXR1cm57Z2VvbWV0cnk6Yixib3VuZHM6Y319LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LldNU0dldEZlYXR1cmVJbmZvIn0pO09wZW5MYXllcnMuQ29udHJvbC5XTVRTR2V0RmVhdHVyZUluZm89T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse2hvdmVyOiExLHJlcXVlc3RFbmNvZGluZzoiS1ZQIixkcmlsbERvd246ITEsbWF4RmVhdHVyZXM6MTAsY2xpY2tDYWxsYmFjazoiY2xpY2siLGxheWVyczpudWxsLHF1ZXJ5VmlzaWJsZTohMCxpbmZvRm9ybWF0OiJ0ZXh0L2h0bWwiLHZlbmRvclBhcmFtczp7fSxmb3JtYXQ6bnVsbCxmb3JtYXRPcHRpb25zOm51bGwsaGFuZGxlcjpudWxsLGhvdmVyUmVxdWVzdDpudWxsLHBlbmRpbmc6MCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe2E9YXx8e307YS5oYW5kbGVyT3B0aW9ucz1hLmhhbmRsZXJPcHRpb25zfHx7fTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pO3RoaXMuZm9ybWF0fHwodGhpcy5mb3JtYXQ9bmV3IE9wZW5MYXllcnMuRm9ybWF0LldNU0dldEZlYXR1cmVJbmZvKGEuZm9ybWF0T3B0aW9ucykpOwohMD09PXRoaXMuZHJpbGxEb3duJiYodGhpcy5ob3Zlcj0hMSk7dGhpcy5ob3Zlcj90aGlzLmhhbmRsZXI9bmV3IE9wZW5MYXllcnMuSGFuZGxlci5Ib3Zlcih0aGlzLHttb3ZlOnRoaXMuY2FuY2VsSG92ZXIscGF1c2U6dGhpcy5nZXRJbmZvRm9ySG92ZXJ9LE9wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcy5oYW5kbGVyT3B0aW9ucy5ob3Zlcnx8e30se2RlbGF5OjI1MH0pKTooYT17fSxhW3RoaXMuY2xpY2tDYWxsYmFja109dGhpcy5nZXRJbmZvRm9yQ2xpY2ssdGhpcy5oYW5kbGVyPW5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuQ2xpY2sodGhpcyxhLHRoaXMuaGFuZGxlck9wdGlvbnMuY2xpY2t8fHt9KSl9LGdldEluZm9Gb3JDbGljazpmdW5jdGlvbihhKXt0aGlzLnJlcXVlc3QoYS54eSx7fSl9LGdldEluZm9Gb3JIb3ZlcjpmdW5jdGlvbihhKXt0aGlzLnJlcXVlc3QoYS54eSx7aG92ZXI6ITB9KX0sY2FuY2VsSG92ZXI6ZnVuY3Rpb24oKXt0aGlzLmhvdmVyUmVxdWVzdCYmKC0tdGhpcy5wZW5kaW5nLAowPj10aGlzLnBlbmRpbmcmJihPcGVuTGF5ZXJzLkVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5tYXAudmlld1BvcnREaXYsIm9sQ3Vyc29yV2FpdCIpLHRoaXMucGVuZGluZz0wKSx0aGlzLmhvdmVyUmVxdWVzdC5hYm9ydCgpLHRoaXMuaG92ZXJSZXF1ZXN0PW51bGwpfSxmaW5kTGF5ZXJzOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMubGF5ZXJzfHx0aGlzLm1hcC5sYXllcnMsYj1bXSxjLGQ9YS5sZW5ndGgtMTswPD1kOy0tZClpZihjPWFbZF0sYyBpbnN0YW5jZW9mIE9wZW5MYXllcnMuTGF5ZXIuV01UUyYmYy5yZXF1ZXN0RW5jb2Rpbmc9PT10aGlzLnJlcXVlc3RFbmNvZGluZyYmKCF0aGlzLnF1ZXJ5VmlzaWJsZXx8Yy5nZXRWaXNpYmlsaXR5KCkpKWlmKGIucHVzaChjKSwhdGhpcy5kcmlsbERvd258fHRoaXMuaG92ZXIpYnJlYWs7cmV0dXJuIGJ9LGJ1aWxkUmVxdWVzdE9wdGlvbnM6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLm1hcC5nZXRMb25MYXRGcm9tUGl4ZWwoYiksZD0KYS5nZXRVUkwobmV3IE9wZW5MYXllcnMuQm91bmRzKGMubG9uLGMubGF0LGMubG9uLGMubGF0KSksZD1PcGVuTGF5ZXJzLlV0aWwuZ2V0UGFyYW1ldGVycyhkKSxjPWEuZ2V0VGlsZUluZm8oYyk7T3BlbkxheWVycy5VdGlsLmV4dGVuZChkLHtzZXJ2aWNlOiJXTVRTIix2ZXJzaW9uOmEudmVyc2lvbixyZXF1ZXN0OiJHZXRGZWF0dXJlSW5mbyIsaW5mb0Zvcm1hdDp0aGlzLmluZm9Gb3JtYXQsaTpjLmksajpjLmp9KTtPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhkLHRoaXMudmVuZG9yUGFyYW1zKTtyZXR1cm57dXJsOk9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEudXJsKT9hLnVybFswXTphLnVybCxwYXJhbXM6T3BlbkxheWVycy5VdGlsLnVwcGVyQ2FzZU9iamVjdChkKSxjYWxsYmFjazpmdW5jdGlvbihjKXt0aGlzLmhhbmRsZVJlc3BvbnNlKGIsYyxhKX0sc2NvcGU6dGhpc319LHJlcXVlc3Q6ZnVuY3Rpb24oYSxiKXt2YXIgYj1ifHx7fSxjPXRoaXMuZmluZExheWVycygpOwppZigwPGMubGVuZ3RoKXtmb3IodmFyIGQsZSxmPTAsZz1jLmxlbmd0aDtmPGc7ZisrKWU9Y1tmXSxkPXRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiYmVmb3JlZ2V0ZmVhdHVyZWluZm8iLHt4eTphLGxheWVyOmV9KSwhMSE9PWQmJigrK3RoaXMucGVuZGluZyxkPXRoaXMuYnVpbGRSZXF1ZXN0T3B0aW9ucyhlLGEpLGQ9T3BlbkxheWVycy5SZXF1ZXN0LkdFVChkKSwhMD09PWIuaG92ZXImJih0aGlzLmhvdmVyUmVxdWVzdD1kKSk7MDx0aGlzLnBlbmRpbmcmJk9wZW5MYXllcnMuRWxlbWVudC5hZGRDbGFzcyh0aGlzLm1hcC52aWV3UG9ydERpdiwib2xDdXJzb3JXYWl0Iil9fSxoYW5kbGVSZXNwb25zZTpmdW5jdGlvbihhLGIsYyl7LS10aGlzLnBlbmRpbmc7MD49dGhpcy5wZW5kaW5nJiYoT3BlbkxheWVycy5FbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMubWFwLnZpZXdQb3J0RGl2LCJvbEN1cnNvcldhaXQiKSx0aGlzLnBlbmRpbmc9MCk7aWYoYi5zdGF0dXMmJigyMDA+Yi5zdGF0dXN8fAozMDA8PWIuc3RhdHVzKSl0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImV4Y2VwdGlvbiIse3h5OmEscmVxdWVzdDpiLGxheWVyOmN9KTtlbHNle3ZhciBkPWIucmVzcG9uc2VYTUw7aWYoIWR8fCFkLmRvY3VtZW50RWxlbWVudClkPWIucmVzcG9uc2VUZXh0O3ZhciBlLGY7dHJ5e2U9dGhpcy5mb3JtYXQucmVhZChkKX1jYXRjaChnKXtmPSEwLHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiZXhjZXB0aW9uIix7eHk6YSxyZXF1ZXN0OmIsZXJyb3I6ZyxsYXllcjpjfSl9Znx8dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJnZXRmZWF0dXJlaW5mbyIse3RleHQ6Yi5yZXNwb25zZVRleHQsZmVhdHVyZXM6ZSxyZXF1ZXN0OmIseHk6YSxsYXllcjpjfSl9fSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuV01UU0dldEZlYXR1cmVJbmZvIn0pO09wZW5MYXllcnMuTGFuZy5iZz1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7UGVybWFsaW5rOiJcdTA0MWZcdTA0M2VcdTA0NDFcdTA0NDJcdTA0M2VcdTA0NGZcdTA0M2RcdTA0M2RcdTA0MzAgXHUwNDNmXHUwNDQwXHUwNDM1XHUwNDNmXHUwNDQwXHUwNDMwXHUwNDQyXHUwNDNhXHUwNDMwIiwiQmFzZSBMYXllciI6Ilx1MDQxZVx1MDQ0MVx1MDQzZFx1MDQzZVx1MDQzMlx1MDQzNVx1MDQzZCBcdTA0NDFcdTA0M2JcdTA0M2VcdTA0MzkiLCJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiXHUwNDFjXHUwNDMwXHUwNDQ5XHUwNDMwXHUwNDMxID0gMSA6ICR7c2NhbGVEZW5vbX0iLG1ldGhvZERlcHJlY2F0ZWQ6Ilx1MDQyMlx1MDQzZVx1MDQzN1x1MDQzOCBcdTA0M2NcdTA0MzVcdTA0NDJcdTA0M2VcdTA0MzQgXHUwNDM1IFx1MDQzZVx1MDQ0MVx1MDQ0Mlx1MDQzMFx1MDQ0MFx1MDQ0Zlx1MDQzYiBcdTA0MzggXHUwNDQ5XHUwNDM1IFx1MDQzMVx1MDQ0YVx1MDQzNFx1MDQzNSBcdTA0M2ZcdTA0NDBcdTA0MzVcdTA0M2NcdTA0MzBcdTA0NDVcdTA0MzJcdTA0MzBcdTA0NDIgXHUwNDMyIDMuMC4gXHUwNDEyXHUwNDNjXHUwNDM1XHUwNDQxXHUwNDQyXHUwNDNlIFx1MDQzZFx1MDQzNVx1MDQzM1x1MDQzZSBcdTA0MzhcdTA0MzdcdTA0M2ZcdTA0M2VcdTA0M2JcdTA0MzdcdTA0MzJcdTA0MzBcdTA0MzlcdTA0NDJcdTA0MzUgJHtuZXdNZXRob2R9LiJ9KTtPcGVuTGF5ZXJzLlByb3RvY29sLkNTVy52Ml8wXzI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlByb3RvY29sLHtmb3JtYXRPcHRpb25zOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlByb3RvY29sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKTthLmZvcm1hdHx8KHRoaXMuZm9ybWF0PW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5DU1dHZXRSZWNvcmRzLnYyXzBfMihPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LHRoaXMuZm9ybWF0T3B0aW9ucykpKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucyYmIXRoaXMub3B0aW9ucy5mb3JtYXQmJnRoaXMuZm9ybWF0LmRlc3Ryb3koKTt0aGlzLmZvcm1hdD1udWxsO09wZW5MYXllcnMuUHJvdG9jb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyl9LHJlYWQ6ZnVuY3Rpb24oYSl7YT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LGEpO09wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGEsCnRoaXMub3B0aW9uc3x8e30pO3ZhciBiPW5ldyBPcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlKHtyZXF1ZXN0VHlwZToicmVhZCJ9KSxjPXRoaXMuZm9ybWF0LndyaXRlKGEucGFyYW1zfHxhKTtiLnByaXY9T3BlbkxheWVycy5SZXF1ZXN0LlBPU1Qoe3VybDphLnVybCxjYWxsYmFjazp0aGlzLmNyZWF0ZUNhbGxiYWNrKHRoaXMuaGFuZGxlUmVhZCxiLGEpLHBhcmFtczphLnBhcmFtcyxoZWFkZXJzOmEuaGVhZGVycyxkYXRhOmN9KTtyZXR1cm4gYn0saGFuZGxlUmVhZDpmdW5jdGlvbihhLGIpe2lmKGIuY2FsbGJhY2spe3ZhciBjPWEucHJpdjsyMDA8PWMuc3RhdHVzJiYzMDA+Yy5zdGF0dXM/KGEuZGF0YT10aGlzLnBhcnNlRGF0YShjKSxhLmNvZGU9T3BlbkxheWVycy5Qcm90b2NvbC5SZXNwb25zZS5TVUNDRVNTKTphLmNvZGU9T3BlbkxheWVycy5Qcm90b2NvbC5SZXNwb25zZS5GQUlMVVJFO2IuY2FsbGJhY2suY2FsbChiLnNjb3BlLGEpfX0scGFyc2VEYXRhOmZ1bmN0aW9uKGEpe3ZhciBiPQphLnJlc3BvbnNlWE1MO2lmKCFifHwhYi5kb2N1bWVudEVsZW1lbnQpYj1hLnJlc3BvbnNlVGV4dDtyZXR1cm4hYnx8MD49Yi5sZW5ndGg/bnVsbDp0aGlzLmZvcm1hdC5yZWFkKGIpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlByb3RvY29sLkNTVy52Ml8wXzIifSk7T3BlbkxheWVycy5Gb3JtYXQuV0NTQ2FwYWJpbGl0aWVzLnYxXzFfMD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LldDU0NhcGFiaWxpdGllcy52MSx7bmFtZXNwYWNlczp7d2NzOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3djcy8xLjEiLHhsaW5rOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIix4c2k6Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIixvd3M6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvb3dzLzEuMSJ9LGVycm9yUHJvcGVydHk6Im9wZXJhdGlvbnNNZXRhZGF0YSIscmVhZGVyczp7d2NzOk9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtDYXBhYmlsaXRpZXM6ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LENvbnRlbnRzOmZ1bmN0aW9uKGEsYil7Yi5jb250ZW50TWV0YWRhdGE9W107dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuY29udGVudE1ldGFkYXRhKX0sQ292ZXJhZ2VTdW1tYXJ5OmZ1bmN0aW9uKGEsCmIpe3ZhciBjPXt9O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLnB1c2goYyl9LElkZW50aWZpZXI6ZnVuY3Rpb24oYSxiKXtiLmlkZW50aWZpZXI9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxUaXRsZTpmdW5jdGlvbihhLGIpe2IudGl0bGU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxBYnN0cmFjdDpmdW5jdGlvbihhLGIpe2JbImFic3RyYWN0Il09dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxTdXBwb3J0ZWRDUlM6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYSk7YyYmKGIuc3VwcG9ydGVkQ1JTfHwoYi5zdXBwb3J0ZWRDUlM9W10pLGIuc3VwcG9ydGVkQ1JTLnB1c2goYykpfSxTdXBwb3J0ZWRGb3JtYXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYSk7YyYmKGIuc3VwcG9ydGVkRm9ybWF0fHwoYi5zdXBwb3J0ZWRGb3JtYXQ9W10pLGIuc3VwcG9ydGVkRm9ybWF0LnB1c2goYykpfX0sT3BlbkxheWVycy5Gb3JtYXQuV0NTQ2FwYWJpbGl0aWVzLnYxLnByb3RvdHlwZS5yZWFkZXJzLndjcyksCm93czpPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24udjFfMV8wLnByb3RvdHlwZS5yZWFkZXJzLm93c30sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuV0NTQ2FwYWJpbGl0aWVzLnYxXzFfMCJ9KTtPcGVuTGF5ZXJzLkNvbnRyb2wuR3JhdGljdWxlPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHthdXRvQWN0aXZhdGU6ITAsaW50ZXJ2YWxzOls0NSwzMCwyMCwxMCw1LDIsMSwwLjUsMC4yLDAuMSwwLjA1LDAuMDEsMC4wMDUsMC4wMDIsMC4wMDFdLGRpc3BsYXlJbkxheWVyU3dpdGNoZXI6ITAsdmlzaWJsZTohMCxudW1Qb2ludHM6NTAsdGFyZ2V0U2l6ZToyMDAsbGF5ZXJOYW1lOm51bGwsbGFiZWxsZWQ6ITAsbGFiZWxGb3JtYXQ6ImRtIixsaW5lU3ltYm9saXplcjp7c3Ryb2tlQ29sb3I6IiMzMzMiLHN0cm9rZVdpZHRoOjEsc3Ryb2tlT3BhY2l0eTowLjV9LGxhYmVsU3ltYm9saXplcjp7fSxncmF0TGF5ZXI6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe2E9YXx8e307YS5sYXllck5hbWU9YS5sYXllck5hbWV8fE9wZW5MYXllcnMuaTE4bigiR3JhdGljdWxlIik7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKTsKdGhpcy5sYWJlbFN5bWJvbGl6ZXIuc3Ryb2tlPSExO3RoaXMubGFiZWxTeW1ib2xpemVyLmZpbGw9ITE7dGhpcy5sYWJlbFN5bWJvbGl6ZXIubGFiZWw9IiR7bGFiZWx9Ijt0aGlzLmxhYmVsU3ltYm9saXplci5sYWJlbEFsaWduPSIke2xhYmVsQWxpZ259Ijt0aGlzLmxhYmVsU3ltYm9saXplci5sYWJlbFhPZmZzZXQ9IiR7eE9mZnNldH0iO3RoaXMubGFiZWxTeW1ib2xpemVyLmxhYmVsWU9mZnNldD0iJHt5T2Zmc2V0fSJ9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmRlYWN0aXZhdGUoKTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZ3JhdExheWVyJiYodGhpcy5ncmF0TGF5ZXIuZGVzdHJveSgpLHRoaXMuZ3JhdExheWVyPW51bGwpfSxkcmF3OmZ1bmN0aW9uKCl7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kcmF3LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZighdGhpcy5ncmF0TGF5ZXIpe3ZhciBhPW5ldyBPcGVuTGF5ZXJzLlN0eWxlKHt9LAp7cnVsZXM6W25ldyBPcGVuTGF5ZXJzLlJ1bGUoe3N5bWJvbGl6ZXI6e1BvaW50OnRoaXMubGFiZWxTeW1ib2xpemVyLExpbmU6dGhpcy5saW5lU3ltYm9saXplcn19KV19KTt0aGlzLmdyYXRMYXllcj1uZXcgT3BlbkxheWVycy5MYXllci5WZWN0b3IodGhpcy5sYXllck5hbWUse3N0eWxlTWFwOm5ldyBPcGVuTGF5ZXJzLlN0eWxlTWFwKHsiZGVmYXVsdCI6YX0pLHZpc2liaWxpdHk6dGhpcy52aXNpYmxlLGRpc3BsYXlJbkxheWVyU3dpdGNoZXI6dGhpcy5kaXNwbGF5SW5MYXllclN3aXRjaGVyfSl9cmV0dXJuIHRoaXMuZGl2fSxhY3RpdmF0ZTpmdW5jdGlvbigpe3JldHVybiBPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmFjdGl2YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKT8odGhpcy5tYXAuYWRkTGF5ZXIodGhpcy5ncmF0TGF5ZXIpLHRoaXMubWFwLmV2ZW50cy5yZWdpc3RlcigibW92ZWVuZCIsdGhpcyx0aGlzLnVwZGF0ZSksdGhpcy51cGRhdGUoKSwhMCk6ITF9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZWFjdGl2YXRlLmFwcGx5KHRoaXMsCmFyZ3VtZW50cyk/KHRoaXMubWFwLmV2ZW50cy51bnJlZ2lzdGVyKCJtb3ZlZW5kIix0aGlzLHRoaXMudXBkYXRlKSx0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLmdyYXRMYXllciksITApOiExfSx1cGRhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm1hcC5nZXRFeHRlbnQoKTtpZihhKXt0aGlzLmdyYXRMYXllci5kZXN0cm95RmVhdHVyZXMoKTt2YXIgYj1uZXcgT3BlbkxheWVycy5Qcm9qZWN0aW9uKCJFUFNHOjQzMjYiKSxjPXRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSxkPXRoaXMubWFwLmdldFJlc29sdXRpb24oKTtjLnByb2omJiJsb25nbGF0Ij09Yy5wcm9qLnByb2pOYW1lJiYodGhpcy5udW1Qb2ludHM9MSk7dmFyIGU9dGhpcy5tYXAuZ2V0Q2VudGVyKCksZj1uZXcgT3BlbkxheWVycy5QaXhlbChlLmxvbixlLmxhdCk7T3BlbkxheWVycy5Qcm9qZWN0aW9uLnRyYW5zZm9ybShmLGMsYik7Zm9yKHZhciBlPXRoaXMudGFyZ2V0U2l6ZSpkLGU9ZSplLGcsZD0wO2Q8dGhpcy5pbnRlcnZhbHMubGVuZ3RoOysrZCl7Zz0KdGhpcy5pbnRlcnZhbHNbZF07dmFyIGg9Zy8yLGk9Zi5vZmZzZXQoe3g6LWgseTotaH0pLGg9Zi5vZmZzZXQoe3g6aCx5Omh9KTtPcGVuTGF5ZXJzLlByb2plY3Rpb24udHJhbnNmb3JtKGksYixjKTtPcGVuTGF5ZXJzLlByb2plY3Rpb24udHJhbnNmb3JtKGgsYixjKTtpZigoaS54LWgueCkqKGkueC1oLngpKyhpLnktaC55KSooaS55LWgueSk8PWUpYnJlYWt9Zi54PU1hdGguZmxvb3IoZi54L2cpKmc7Zi55PU1hdGguZmxvb3IoZi55L2cpKmc7dmFyIGQ9MCxlPVtmLmNsb25lKCldLGg9Zi5jbG9uZSgpLGo7ZG8gaD1oLm9mZnNldCh7eDowLHk6Z30pLGo9T3BlbkxheWVycy5Qcm9qZWN0aW9uLnRyYW5zZm9ybShoLmNsb25lKCksYixjKSxlLnVuc2hpZnQoaCk7d2hpbGUoYS5jb250YWluc1BpeGVsKGopJiYxRTM+KytkKTtoPWYuY2xvbmUoKTtkbyBoPWgub2Zmc2V0KHt4OjAseTotZ30pLGo9T3BlbkxheWVycy5Qcm9qZWN0aW9uLnRyYW5zZm9ybShoLmNsb25lKCksYixjKSxlLnB1c2goaCk7CndoaWxlKGEuY29udGFpbnNQaXhlbChqKSYmMUUzPisrZCk7ZD0wO2k9W2YuY2xvbmUoKV07aD1mLmNsb25lKCk7ZG8gaD1oLm9mZnNldCh7eDotZyx5OjB9KSxqPU9wZW5MYXllcnMuUHJvamVjdGlvbi50cmFuc2Zvcm0oaC5jbG9uZSgpLGIsYyksaS51bnNoaWZ0KGgpO3doaWxlKGEuY29udGFpbnNQaXhlbChqKSYmMUUzPisrZCk7aD1mLmNsb25lKCk7ZG8gaD1oLm9mZnNldCh7eDpnLHk6MH0pLGo9T3BlbkxheWVycy5Qcm9qZWN0aW9uLnRyYW5zZm9ybShoLmNsb25lKCksYixjKSxpLnB1c2goaCk7d2hpbGUoYS5jb250YWluc1BpeGVsKGopJiYxRTM+KytkKTtnPVtdO2ZvcihkPTA7ZDxpLmxlbmd0aDsrK2Qpe2o9aVtkXS54O2Zvcih2YXIgZj1bXSxrPW51bGwsbD1NYXRoLm1pbihlWzBdLnksOTApLGg9TWF0aC5tYXgoZVtlLmxlbmd0aC0xXS55LC05MCksbT0obC1oKS90aGlzLm51bVBvaW50cyxsPWgsaD0wO2g8PXRoaXMubnVtUG9pbnRzOysraCl7dmFyIG49bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoaiwKbCk7bi50cmFuc2Zvcm0oYixjKTtmLnB1c2gobik7bCs9bTtuLnk+PWEuYm90dG9tJiYhayYmKGs9bil9dGhpcy5sYWJlbGxlZCYmKGs9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoay54LGEuYm90dG9tKSxqPXt2YWx1ZTpqLGxhYmVsOnRoaXMubGFiZWxsZWQ/T3BlbkxheWVycy5VdGlsLmdldEZvcm1hdHRlZExvbkxhdChqLCJsb24iLHRoaXMubGFiZWxGb3JtYXQpOiIiLGxhYmVsQWxpZ246ImNiIix4T2Zmc2V0OjAseU9mZnNldDoyfSx0aGlzLmdyYXRMYXllci5hZGRGZWF0dXJlcyhuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihrLGopKSk7Zj1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5MaW5lU3RyaW5nKGYpO2cucHVzaChuZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihmKSl9Zm9yKGg9MDtoPGUubGVuZ3RoOysraClpZihsPWVbaF0ueSwhKC05MD5sfHw5MDxsKSl7Zj1bXTtkPWlbMF0ueDttPShpW2kubGVuZ3RoLTFdLngtZCkvdGhpcy5udW1Qb2ludHM7Cmo9ZDtrPW51bGw7Zm9yKGQ9MDtkPD10aGlzLm51bVBvaW50czsrK2Qpbj1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChqLGwpLG4udHJhbnNmb3JtKGIsYyksZi5wdXNoKG4pLGorPW0sbi54PGEucmlnaHQmJihrPW4pO3RoaXMubGFiZWxsZWQmJihrPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGEucmlnaHQsay55KSxqPXt2YWx1ZTpsLGxhYmVsOnRoaXMubGFiZWxsZWQ/T3BlbkxheWVycy5VdGlsLmdldEZvcm1hdHRlZExvbkxhdChsLCJsYXQiLHRoaXMubGFiZWxGb3JtYXQpOiIiLGxhYmVsQWxpZ246InJiIix4T2Zmc2V0Oi0yLHlPZmZzZXQ6Mn0sdGhpcy5ncmF0TGF5ZXIuYWRkRmVhdHVyZXMobmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoayxqKSkpO2Y9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZyhmKTtnLnB1c2gobmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoZikpfXRoaXMuZ3JhdExheWVyLmFkZEZlYXR1cmVzKGcpfX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLkdyYXRpY3VsZSJ9KTtPcGVuTGF5ZXJzLkxhbmcuaHI9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe3VuaGFuZGxlZFJlcXVlc3Q6Ik5lcG9kclx1MDE3ZWFuaSB6YWh0amV2ICR7c3RhdHVzVGV4dH0iLFBlcm1hbGluazoiUGVybWFsaW5rIixPdmVybGF5czoiT3ZlcmxheXMiLCJCYXNlIExheWVyIjoiT3Nub3ZuYSBrYXJ0YSIsbm9GSUQ6Ik5lIG1vZ3UgYVx1MDE3ZXVyaXJhdGkgem5hXHUwMTBkYWprdSB6YSBrb2p1IG5lIHBvc3RvamkgRklELiIsYnJvd3Nlck5vdFN1cHBvcnRlZDoiVmFcdTAxNjEgcHJlZ2xlZG5payBuZSBwb2RyXHUwMTdlYXZhIHZla3RvcnNrbyByZW5kZXJpcmFuamUuIFRyZW51dG5vIHBvZHJcdTAxN2VhbmkgcmVuZGVyZXJpIHN1OiAke3JlbmRlcmVyc30iLGNvbW1pdFN1Y2Nlc3M6IldGUyBUcmFuc2FrY2lqYTogVVNQSkVcdTAxNjBOQSAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJXRlMgVHJhbnNha2NpamE6IE5FVVNQSkVcdTAxNjBOQSAke3Jlc3BvbnNlfSIsIlNjYWxlID0gMSA6ICR7c2NhbGVEZW5vbX0iOiJNamVyaWxvID0gMSA6ICR7c2NhbGVEZW5vbX0iLAptZXRob2REZXByZWNhdGVkOiJPdmEgbWV0b2RhIG5pamUgb2RvYnJlbmEgaSBiaXRpIFx1MDEwN2UgbWFrbnV0YSB1IDMuMC4gS29yaXN0aXRlICR7bmV3TWV0aG9kfS4ifSk7T3BlbkxheWVycy5Db250cm9sLk5hdmlnYXRpb25IaXN0b3J5PU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHt0eXBlOk9wZW5MYXllcnMuQ29udHJvbC5UWVBFX1RPR0dMRSxwcmV2aW91czpudWxsLHByZXZpb3VzT3B0aW9uczpudWxsLG5leHQ6bnVsbCxuZXh0T3B0aW9uczpudWxsLGxpbWl0OjUwLGF1dG9BY3RpdmF0ZTohMCxjbGVhck9uRGVhY3RpdmF0ZTohMSxyZWdpc3RyeTpudWxsLG5leHRTdGFjazpudWxsLHByZXZpb3VzU3RhY2s6bnVsbCxsaXN0ZW5lcnM6bnVsbCxyZXN0b3Jpbmc6ITEsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pO3RoaXMucmVnaXN0cnk9T3BlbkxheWVycy5VdGlsLmV4dGVuZCh7bW92ZWVuZDp0aGlzLmdldFN0YXRlfSx0aGlzLnJlZ2lzdHJ5KTthPXt0cmlnZ2VyOk9wZW5MYXllcnMuRnVuY3Rpb24uYmluZCh0aGlzLnByZXZpb3VzVHJpZ2dlciwKdGhpcyksZGlzcGxheUNsYXNzOnRoaXMuZGlzcGxheUNsYXNzKyIgIit0aGlzLmRpc3BsYXlDbGFzcysiUHJldmlvdXMifTtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGEsdGhpcy5wcmV2aW91c09wdGlvbnMpO3RoaXMucHJldmlvdXM9bmV3IE9wZW5MYXllcnMuQ29udHJvbC5CdXR0b24oYSk7YT17dHJpZ2dlcjpPcGVuTGF5ZXJzLkZ1bmN0aW9uLmJpbmQodGhpcy5uZXh0VHJpZ2dlcix0aGlzKSxkaXNwbGF5Q2xhc3M6dGhpcy5kaXNwbGF5Q2xhc3MrIiAiK3RoaXMuZGlzcGxheUNsYXNzKyJOZXh0In07T3BlbkxheWVycy5VdGlsLmV4dGVuZChhLHRoaXMubmV4dE9wdGlvbnMpO3RoaXMubmV4dD1uZXcgT3BlbkxheWVycy5Db250cm9sLkJ1dHRvbihhKTt0aGlzLmNsZWFyKCl9LG9uUHJldmlvdXNDaGFuZ2U6ZnVuY3Rpb24oYSl7YSYmIXRoaXMucHJldmlvdXMuYWN0aXZlP3RoaXMucHJldmlvdXMuYWN0aXZhdGUoKTohYSYmdGhpcy5wcmV2aW91cy5hY3RpdmUmJnRoaXMucHJldmlvdXMuZGVhY3RpdmF0ZSgpfSwKb25OZXh0Q2hhbmdlOmZ1bmN0aW9uKGEpe2EmJiF0aGlzLm5leHQuYWN0aXZlP3RoaXMubmV4dC5hY3RpdmF0ZSgpOiFhJiZ0aGlzLm5leHQuYWN0aXZlJiZ0aGlzLm5leHQuZGVhY3RpdmF0ZSgpfSxkZXN0cm95OmZ1bmN0aW9uKCl7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMpO3RoaXMucHJldmlvdXMuZGVzdHJveSgpO3RoaXMubmV4dC5kZXN0cm95KCk7dGhpcy5kZWFjdGl2YXRlKCk7Zm9yKHZhciBhIGluIHRoaXMpdGhpc1thXT1udWxsfSxzZXRNYXA6ZnVuY3Rpb24oYSl7dGhpcy5tYXA9YTt0aGlzLm5leHQuc2V0TWFwKGEpO3RoaXMucHJldmlvdXMuc2V0TWFwKGEpfSxkcmF3OmZ1bmN0aW9uKCl7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kcmF3LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLm5leHQuZHJhdygpO3RoaXMucHJldmlvdXMuZHJhdygpfSxwcmV2aW91c1RyaWdnZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnByZXZpb3VzU3RhY2suc2hpZnQoKSwKYj10aGlzLnByZXZpb3VzU3RhY2suc2hpZnQoKTt2b2lkIDAhPWI/KHRoaXMubmV4dFN0YWNrLnVuc2hpZnQoYSksdGhpcy5wcmV2aW91c1N0YWNrLnVuc2hpZnQoYiksdGhpcy5yZXN0b3Jpbmc9ITAsdGhpcy5yZXN0b3JlKGIpLHRoaXMucmVzdG9yaW5nPSExLHRoaXMub25OZXh0Q2hhbmdlKHRoaXMubmV4dFN0YWNrWzBdLHRoaXMubmV4dFN0YWNrLmxlbmd0aCksdGhpcy5vblByZXZpb3VzQ2hhbmdlKHRoaXMucHJldmlvdXNTdGFja1sxXSx0aGlzLnByZXZpb3VzU3RhY2subGVuZ3RoLTEpKTp0aGlzLnByZXZpb3VzU3RhY2sudW5zaGlmdChhKTtyZXR1cm4gYn0sbmV4dFRyaWdnZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm5leHRTdGFjay5zaGlmdCgpO3ZvaWQgMCE9YSYmKHRoaXMucHJldmlvdXNTdGFjay51bnNoaWZ0KGEpLHRoaXMucmVzdG9yaW5nPSEwLHRoaXMucmVzdG9yZShhKSx0aGlzLnJlc3RvcmluZz0hMSx0aGlzLm9uTmV4dENoYW5nZSh0aGlzLm5leHRTdGFja1swXSwKdGhpcy5uZXh0U3RhY2subGVuZ3RoKSx0aGlzLm9uUHJldmlvdXNDaGFuZ2UodGhpcy5wcmV2aW91c1N0YWNrWzFdLHRoaXMucHJldmlvdXNTdGFjay5sZW5ndGgtMSkpO3JldHVybiBhfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMucHJldmlvdXNTdGFjaz1bXTt0aGlzLnByZXZpb3VzLmRlYWN0aXZhdGUoKTt0aGlzLm5leHRTdGFjaz1bXTt0aGlzLm5leHQuZGVhY3RpdmF0ZSgpfSxnZXRTdGF0ZTpmdW5jdGlvbigpe3JldHVybntjZW50ZXI6dGhpcy5tYXAuZ2V0Q2VudGVyKCkscmVzb2x1dGlvbjp0aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCkscHJvamVjdGlvbjp0aGlzLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCksdW5pdHM6dGhpcy5tYXAuZ2V0UHJvamVjdGlvbk9iamVjdCgpLmdldFVuaXRzKCl8fHRoaXMubWFwLnVuaXRzfHx0aGlzLm1hcC5iYXNlTGF5ZXIudW5pdHN9fSxyZXN0b3JlOmZ1bmN0aW9uKGEpe3ZhciBiLGM7aWYodGhpcy5tYXAuZ2V0UHJvamVjdGlvbk9iamVjdCgpPT0KYS5wcm9qZWN0aW9uKWM9dGhpcy5tYXAuZ2V0Wm9vbUZvclJlc29sdXRpb24oYS5yZXNvbHV0aW9uKSxiPWEuY2VudGVyO2Vsc2V7Yj1hLmNlbnRlci5jbG9uZSgpO2IudHJhbnNmb3JtKGEucHJvamVjdGlvbix0aGlzLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCkpO2M9YS51bml0czt2YXIgZD10aGlzLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCkuZ2V0VW5pdHMoKXx8dGhpcy5tYXAudW5pdHN8fHRoaXMubWFwLmJhc2VMYXllci51bml0cztjPXRoaXMubWFwLmdldFpvb21Gb3JSZXNvbHV0aW9uKChjJiZkP09wZW5MYXllcnMuSU5DSEVTX1BFUl9VTklUW2NdL09wZW5MYXllcnMuSU5DSEVTX1BFUl9VTklUW2RdOjEpKmEucmVzb2x1dGlvbil9dGhpcy5tYXAuc2V0Q2VudGVyKGIsYyl9LHNldExpc3RlbmVyczpmdW5jdGlvbigpe3RoaXMubGlzdGVuZXJzPXt9O2Zvcih2YXIgYSBpbiB0aGlzLnJlZ2lzdHJ5KXRoaXMubGlzdGVuZXJzW2FdPU9wZW5MYXllcnMuRnVuY3Rpb24uYmluZChmdW5jdGlvbigpe2lmKCF0aGlzLnJlc3RvcmluZyl7dmFyIGI9CnRoaXMucmVnaXN0cnlbYV0uYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMucHJldmlvdXNTdGFjay51bnNoaWZ0KGIpO2lmKDE8dGhpcy5wcmV2aW91c1N0YWNrLmxlbmd0aCl0aGlzLm9uUHJldmlvdXNDaGFuZ2UodGhpcy5wcmV2aW91c1N0YWNrWzFdLHRoaXMucHJldmlvdXNTdGFjay5sZW5ndGgtMSk7dGhpcy5wcmV2aW91c1N0YWNrLmxlbmd0aD50aGlzLmxpbWl0KzEmJnRoaXMucHJldmlvdXNTdGFjay5wb3AoKTswPHRoaXMubmV4dFN0YWNrLmxlbmd0aCYmKHRoaXMubmV4dFN0YWNrPVtdLHRoaXMub25OZXh0Q2hhbmdlKG51bGwsMCkpfXJldHVybiEwfSx0aGlzKX0sYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgYT0hMTtpZih0aGlzLm1hcCYmT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5hY3RpdmF0ZS5hcHBseSh0aGlzKSl7bnVsbD09dGhpcy5saXN0ZW5lcnMmJnRoaXMuc2V0TGlzdGVuZXJzKCk7Zm9yKHZhciBiIGluIHRoaXMubGlzdGVuZXJzKXRoaXMubWFwLmV2ZW50cy5yZWdpc3RlcihiLAp0aGlzLHRoaXMubGlzdGVuZXJzW2JdKTthPSEwOzA9PXRoaXMucHJldmlvdXNTdGFjay5sZW5ndGgmJnRoaXMuaW5pdFN0YWNrKCl9cmV0dXJuIGF9LGluaXRTdGFjazpmdW5jdGlvbigpe3RoaXMubWFwLmdldENlbnRlcigpJiZ0aGlzLmxpc3RlbmVycy5tb3ZlZW5kKCl9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgYT0hMTtpZih0aGlzLm1hcCYmT3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZWFjdGl2YXRlLmFwcGx5KHRoaXMpKXtmb3IodmFyIGIgaW4gdGhpcy5saXN0ZW5lcnMpdGhpcy5tYXAuZXZlbnRzLnVucmVnaXN0ZXIoYix0aGlzLHRoaXMubGlzdGVuZXJzW2JdKTt0aGlzLmNsZWFyT25EZWFjdGl2YXRlJiZ0aGlzLmNsZWFyKCk7YT0hMH1yZXR1cm4gYX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLk5hdmlnYXRpb25IaXN0b3J5In0pO09wZW5MYXllcnMuTGFuZy5vYz1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7dW5oYW5kbGVkUmVxdWVzdDoiUmVxdVx1MDBlOHN0YSBwYXMgZ2VyaWRhLCByZXRvcm5hICR7c3RhdHVzVGV4dH0iLFBlcm1hbGluazoiUGVybWFsaWdhbSIsT3ZlcmxheXM6IkNhbHF1ZXMiLCJCYXNlIExheWVyIjoiQ2FsYyBkZSBiYXNhIixub0ZJRDoiSW1wb3NzaWJsZSBkZSBtZXRyZSBhIGpvcm4gdW4gb2JqXHUwMGU4Y3RlIHNlbnMgaWRlbnRpZmljYW50IChmaWQpLiIsYnJvd3Nlck5vdFN1cHBvcnRlZDoiVlx1MDBmMnN0cmUgbmF2ZWdpZG9yIHN1cFx1MDBmMnJ0YSBwYXMgbG8gcmVuZHV0IHZlY3RvcmlhbC4gTG9zIHJlbmRlcmVycyBhY3R1YWxhbWVudCBzdXBvcnRhdHMgc29uIDogXG4ke3JlbmRlcmVyc30iLG1pblpvb21MZXZlbEVycm9yOiJMYSBwcm9wcmlldGF0IG1pblpvb21MZXZlbCBkZXUgXHUwMGU4c3NlciB1dGlsaXphZGEgc29sYW1lbnQgcGVyIGRlIGphY2VzIEZpeGVkWm9vbUxldmVscy1kZXNjZW5kZW50LiBMbyBmYWNoIHF1J2FxdWVzdGUgamFcdTAwZTcgV0ZTIHZlcmlmaXF1ZSBsYSBwcmVzXHUwMGU5bmNpYSBkZSBtaW5ab29tTGV2ZWwgZXMgdW5hIHJlbGljYSBkZWwgcGFzc2F0LiBcdTAwYzdhcXVlbFx1MDBlMCwgbGEgcG9kXHUwMGU4bSBzdXByaW1pciBzZW5zIGNvcGFyIGQnYXBsaWNhY2lvbnMgcXVlIG5lIHBvaXJpXHUwMGUxbiBkZXBlbmRyZS4gRXMgcGVyIGFxdVx1MDBmMiBxdWUgbGEgZGVwcmVjaWFtIC0tIGxhIHZlcmlmaWNhY2lvbiBkZWwgbWluWm9vbUxldmVsIHNlclx1MDBlMCBzdXByaW1pZGEgZW4gdmVyc2lvbiAzLjAuIEEgbGEgcGxhXHUwMGU3YSwgbWVyY1x1MDBlOXMgZCd1dGlsaXphciBsb3MgcGFyYW1cdTAwZTh0cmVzIGRlIHJlc29sdWNpb25zIG1pbi9tYXggdGFsIGNvbWEgZGVzY3JpY2ggc3VzIDogaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyIsCmNvbW1pdFN1Y2Nlc3M6IlRyYW5zYWNjaW9uIFdGUyA6IFNVQ0NFUyAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJUcmFuc2FjY2lvbiBXRlMgOiBGUkFDQVMgJHtyZXNwb25zZX0iLGdvb2dsZVdhcm5pbmc6IkxvIGphXHUwMGU3IEdvb2dsZSBlcyBwYXMgZXN0YXQgZW4gbWVzdXJhIGRlIHNlIGNhcmdhciBjb3JyXHUwMGU4Y3RhbWVudC48YnI+PGJyPlBlciBzdXByaW1pciBhcXVlc3RlIG1lc3NhdGdlLCBjYXVzaXNzXHUwMGU4dHogdW5hIEJhc2VMYXllciBub3ZcdTAwZThsYSBkaW5zIGxvIHNlbGVjdG9yIGRlIGphXHUwMGU3IGVuIG5hdXQgYSBkcmVjaGEuPGJyPjxicj5BcXVcdTAwZjIgZXMgcG9zc2libGFtZW50IGNhdXNhdCBwYXIgbGEgbm9uLWluY2x1c2lvbiBkZSBsYSBsaWJyYXJpXHUwMGUxIEdvb2dsZSBNYXBzLCBvIGFsYXJhIHBlcnF1ZSBxdWUgbGEgY2xhdSBkZSBsJ0FQSSBjb3JyZXNwb25kIHBhcyBhIHZcdTAwZjJzdHJlIHNpdGUuPGJyPjxicj5EZXN2b2xvcGFpcmVzIDogcGVyIHNhYmVyIGNvc3NcdTAwZWQgY29ycmVnaXIgYXF1XHUwMGYyLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZScgdGFyZ2V0PSdfYmxhbmsnPmNsaWNhdHogYWljXHUwMGVkPC9hPiIsCmdldExheWVyV2FybmluZzoiTG8gamFcdTAwZTcgJHtsYXllclR5cGV9IGVzIHBhcyBlbiBtZXN1cmEgZGUgc2UgY2FyZ2FyIGNvcnJcdTAwZThjdGFtZW50Ljxicj48YnI+UGVyIHN1cHJpbWlyIGFxdWVzdGUgbWVzc2F0Z2UsIGNhdXNpc3NcdTAwZTh0eiB1bmEgIEJhc2VMYXllciBub3ZcdTAwZThsYSBkaW5zIGxvIHNlbGVjdG9yIGRlIGphXHUwMGU3IGVuIG5hdXQgYSBkcmVjaGEuPGJyPjxicj5BcXVcdTAwZjIgZXMgcG9zc2libGFtZW50IGNhdXNhdCBwZXIgbGEgbm9uLWluY2x1c2lvbiBkZSBsYSBsaWJyYXJpXHUwMGUxICR7bGF5ZXJMaWJ9Ljxicj48YnI+RGVzdm9sb3BhaXJlcyA6IHBlciBzYWJlciBjb3NzXHUwMGVkIGNvcnJlZ2lyIGFxdVx1MDBlZCwgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS8ke2xheWVyTGlifScgdGFyZ2V0PSdfYmxhbmsnPmNsaWNhdHogYWljXHUwMGVkPC9hPiIsIlNjYWxlID0gMSA6ICR7c2NhbGVEZW5vbX0iOiJFc2NhbGEgfiAxIDogJHtzY2FsZURlbm9tfSIsClc6Ik8iLEU6Ilx1MDBjOCIsTjoiTiIsUzoiUyIscmVwcm9qZWN0RGVwcmVjYXRlZDoiVXRpbGl6YXR6IGwnb3BjaW9uICdyZXByb2plY3QnIHN1bCBqYVx1MDBlNyAke2xheWVyTmFtZX0uIEFxdWVzdGEgb3BjaW9uIGVzIGRlc3ByZWNpYWRhIDogU29uIHVzYXRnZSBwZXJtZXRpXHUwMGUxIGQnYWZpY2hhciBkZSBkb25hZGFzIGFsIGRlc3NcdTAwZmFzIGRlIGphY2VzIHJhc3RlciBjb21lcmNpYWxzLiBBcXVlc3RhIGZvbmNpb25hbGl0YXQgYXJhIGVzIHN1cG9ydGFkYSBlbiB1dGlsaXphbnQgbG8gc3VwXHUwMGYycnQgZGUgbGEgcHJvamVjY2lvbiBNZXJjYXRvciBFc2ZlcmljYS4gTWFpIGQnaW5mb3JtYWNpb24gZXMgZGlzcG9uaWJsYSBzdXMgaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TcGhlcmljYWxNZXJjYXRvci4iLG1ldGhvZERlcHJlY2F0ZWQ6IkFxdWVzdGUgbWV0XHUwMGYyZGUgZXMgZGVzcHJlY2lhZGEsIGUgc2VyXHUwMGUwIHN1cHJpbWlkYSBhIGxhIHZlcnNpb24gMy4wLiBNZXJjXHUwMGU5cyBkJ3V0aWxpemFyICR7bmV3TWV0aG9kfSBhIGxhIHBsYVx1MDBlN2EuIn0pO09wZW5MYXllcnMuTGF5ZXIuVVRGR3JpZD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIuWFlaLHtpc0Jhc2VMYXllcjohMSxwcm9qZWN0aW9uOm5ldyBPcGVuTGF5ZXJzLlByb2plY3Rpb24oIkVQU0c6OTAwOTEzIiksdXNlSlNPTlA6ITEsdGlsZUNsYXNzOk9wZW5MYXllcnMuVGlsZS5VVEZHcmlkLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2EubmFtZSxhLnVybCx7fSxhXSk7dGhpcy50aWxlT3B0aW9ucz1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt1dGZncmlkUmVzb2x1dGlvbjp0aGlzLnV0ZmdyaWRSZXNvbHV0aW9ufSx0aGlzLnRpbGVPcHRpb25zKX0sY3JlYXRlQmFja0J1ZmZlcjpmdW5jdGlvbigpe30sY2xvbmU6ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9bmV3IE9wZW5MYXllcnMuTGF5ZXIuVVRGR3JpZCh0aGlzLmdldE9wdGlvbnMoKSkpO3JldHVybiBhPU9wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUuY2xvbmUuYXBwbHkodGhpcywKW2FdKX0sZ2V0RmVhdHVyZUluZm86ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDsoYT10aGlzLmdldFRpbGVEYXRhKGEpKSYmYS50aWxlJiYoYj1hLnRpbGUuZ2V0RmVhdHVyZUluZm8oYS5pLGEuaikpO3JldHVybiBifSxnZXRGZWF0dXJlSWQ6ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbCxhPXRoaXMuZ2V0VGlsZURhdGEoYSk7YS50aWxlJiYoYj1hLnRpbGUuZ2V0RmVhdHVyZUlkKGEuaSxhLmopKTtyZXR1cm4gYn0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5VVEZHcmlkIn0pO09wZW5MYXllcnMuVGlsZU1hbmFnZXI9T3BlbkxheWVycy5DbGFzcyh7Y2FjaGVTaXplOjI1Nix0aWxlc1BlckZyYW1lOjIsZnJhbWVEZWxheToxNixtb3ZlRGVsYXk6MTAwLHpvb21EZWxheToyMDAsbWFwczpudWxsLHRpbGVRdWV1ZUlkOm51bGwsdGlsZVF1ZXVlOm51bGwsdGlsZUNhY2hlOm51bGwsdGlsZUNhY2hlSW5kZXg6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuVXRpbC5leHRlbmQodGhpcyxhKTt0aGlzLm1hcHM9W107dGhpcy50aWxlUXVldWVJZD17fTt0aGlzLnRpbGVRdWV1ZT17fTt0aGlzLnRpbGVDYWNoZT17fTt0aGlzLnRpbGVDYWNoZUluZGV4PVtdfSxhZGRNYXA6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuX2Rlc3Ryb3llZCYmT3BlbkxheWVycy5MYXllci5HcmlkKXt0aGlzLm1hcHMucHVzaChhKTt0aGlzLnRpbGVRdWV1ZVthLmlkXT1bXTtmb3IodmFyIGI9MCxjPWEubGF5ZXJzLmxlbmd0aDtiPGM7KytiKXRoaXMuYWRkTGF5ZXIoe2xheWVyOmEubGF5ZXJzW2JdfSk7CmEuZXZlbnRzLm9uKHttb3ZlOnRoaXMubW92ZSx6b29tZW5kOnRoaXMuem9vbUVuZCxjaGFuZ2VsYXllcjp0aGlzLmNoYW5nZUxheWVyLGFkZGxheWVyOnRoaXMuYWRkTGF5ZXIscHJlcmVtb3ZlbGF5ZXI6dGhpcy5yZW1vdmVMYXllcixzY29wZTp0aGlzfSl9fSxyZW1vdmVNYXA6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuX2Rlc3Ryb3llZCYmT3BlbkxheWVycy5MYXllci5HcmlkKXt3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMudGlsZVF1ZXVlSWRbYS5pZF0pO2lmKGEubGF5ZXJzKWZvcih2YXIgYj0wLGM9YS5sYXllcnMubGVuZ3RoO2I8YzsrK2IpdGhpcy5yZW1vdmVMYXllcih7bGF5ZXI6YS5sYXllcnNbYl19KTthLmV2ZW50cyYmYS5ldmVudHMudW4oe21vdmU6dGhpcy5tb3ZlLHpvb21lbmQ6dGhpcy56b29tRW5kLGNoYW5nZWxheWVyOnRoaXMuY2hhbmdlTGF5ZXIsYWRkbGF5ZXI6dGhpcy5hZGRMYXllcixwcmVyZW1vdmVsYXllcjp0aGlzLnJlbW92ZUxheWVyLHNjb3BlOnRoaXN9KTsKZGVsZXRlIHRoaXMudGlsZVF1ZXVlW2EuaWRdO2RlbGV0ZSB0aGlzLnRpbGVRdWV1ZUlkW2EuaWRdO09wZW5MYXllcnMuVXRpbC5yZW1vdmVJdGVtKHRoaXMubWFwcyxhKX19LG1vdmU6ZnVuY3Rpb24oYSl7dGhpcy51cGRhdGVUaW1lb3V0KGEub2JqZWN0LHRoaXMubW92ZURlbGF5LCEwKX0sem9vbUVuZDpmdW5jdGlvbihhKXt0aGlzLnVwZGF0ZVRpbWVvdXQoYS5vYmplY3QsdGhpcy56b29tRGVsYXkpfSxjaGFuZ2VMYXllcjpmdW5jdGlvbihhKXsoInZpc2liaWxpdHkiPT09YS5wcm9wZXJ0eXx8InBhcmFtcyI9PT1hLnByb3BlcnR5KSYmdGhpcy51cGRhdGVUaW1lb3V0KGEub2JqZWN0LDApfSxhZGRMYXllcjpmdW5jdGlvbihhKXthPWEubGF5ZXI7aWYoYSBpbnN0YW5jZW9mIE9wZW5MYXllcnMuTGF5ZXIuR3JpZCl7YS5ldmVudHMub24oe2FkZHRpbGU6dGhpcy5hZGRUaWxlLHJlZnJlc2g6dGhpcy5oYW5kbGVMYXllclJlZnJlc2gscmV0aWxlOnRoaXMuY2xlYXJUaWxlUXVldWUsCnNjb3BlOnRoaXN9KTt2YXIgYixjLGQ7Zm9yKGI9YS5ncmlkLmxlbmd0aC0xOzA8PWI7LS1iKWZvcihjPWEuZ3JpZFtiXS5sZW5ndGgtMTswPD1jOy0tYylkPWEuZ3JpZFtiXVtjXSx0aGlzLmFkZFRpbGUoe3RpbGU6ZH0pLGQudXJsJiYhZC5pbWdEaXYmJnRoaXMubWFuYWdlVGlsZUNhY2hlKHtvYmplY3Q6ZH0pfX0scmVtb3ZlTGF5ZXI6ZnVuY3Rpb24oYSl7YT1hLmxheWVyO2lmKGEgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkxheWVyLkdyaWQmJih0aGlzLmNsZWFyVGlsZVF1ZXVlKHtvYmplY3Q6YX0pLGEuZXZlbnRzJiZhLmV2ZW50cy51bih7YWRkdGlsZTp0aGlzLmFkZFRpbGUscmVmcmVzaDp0aGlzLmhhbmRsZUxheWVyUmVmcmVzaCxyZXRpbGU6dGhpcy5jbGVhclRpbGVRdWV1ZSxzY29wZTp0aGlzfSksYS5ncmlkKSl7dmFyIGIsYyxkO2ZvcihiPWEuZ3JpZC5sZW5ndGgtMTswPD1iOy0tYilmb3IoYz1hLmdyaWRbYl0ubGVuZ3RoLTE7MDw9YzstLWMpZD1hLmdyaWRbYl1bY10sdGhpcy51bmxvYWRUaWxlKHtvYmplY3Q6ZH0pfX0sCmhhbmRsZUxheWVyUmVmcmVzaDpmdW5jdGlvbihhKXthPWEub2JqZWN0O2lmKGEuZ3JpZCl7dmFyIGIsYyxkO2ZvcihiPWEuZ3JpZC5sZW5ndGgtMTswPD1iOy0tYilmb3IoYz1hLmdyaWRbYl0ubGVuZ3RoLTE7MDw9YzstLWMpZD1hLmdyaWRbYl1bY10sT3BlbkxheWVycy5VdGlsLnJlbW92ZUl0ZW0odGhpcy50aWxlQ2FjaGVJbmRleCxkLnVybCksZGVsZXRlIHRoaXMudGlsZUNhY2hlW2QudXJsXX19LHVwZGF0ZVRpbWVvdXQ6ZnVuY3Rpb24oYSxiLGMpe3dpbmRvdy5jbGVhclRpbWVvdXQodGhpcy50aWxlUXVldWVJZFthLmlkXSk7dmFyIGQ9dGhpcy50aWxlUXVldWVbYS5pZF07aWYoIWN8fGQubGVuZ3RoKXRoaXMudGlsZVF1ZXVlSWRbYS5pZF09d2luZG93LnNldFRpbWVvdXQoT3BlbkxheWVycy5GdW5jdGlvbi5iaW5kKGZ1bmN0aW9uKCl7dGhpcy5kcmF3VGlsZXNGcm9tUXVldWUoYSk7ZC5sZW5ndGgmJnRoaXMudXBkYXRlVGltZW91dChhLHRoaXMuZnJhbWVEZWxheSl9LHRoaXMpLApiKX0sYWRkVGlsZTpmdW5jdGlvbihhKXtpZihhLnRpbGUgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLlRpbGUuSW1hZ2UpYS50aWxlLmV2ZW50cy5vbih7YmVmb3JlZHJhdzp0aGlzLnF1ZXVlVGlsZURyYXcsYmVmb3JlbG9hZDp0aGlzLm1hbmFnZVRpbGVDYWNoZSxsb2FkZW5kOnRoaXMuYWRkVG9DYWNoZSx1bmxvYWQ6dGhpcy51bmxvYWRUaWxlLHNjb3BlOnRoaXN9KTtlbHNlIHRoaXMucmVtb3ZlTGF5ZXIoe2xheWVyOmEudGlsZS5sYXllcn0pfSx1bmxvYWRUaWxlOmZ1bmN0aW9uKGEpe2E9YS5vYmplY3Q7YS5ldmVudHMudW4oe2JlZm9yZWRyYXc6dGhpcy5xdWV1ZVRpbGVEcmF3LGJlZm9yZWxvYWQ6dGhpcy5tYW5hZ2VUaWxlQ2FjaGUsbG9hZGVuZDp0aGlzLmFkZFRvQ2FjaGUsdW5sb2FkOnRoaXMudW5sb2FkVGlsZSxzY29wZTp0aGlzfSk7T3BlbkxheWVycy5VdGlsLnJlbW92ZUl0ZW0odGhpcy50aWxlUXVldWVbYS5sYXllci5tYXAuaWRdLGEpfSxxdWV1ZVRpbGVEcmF3OmZ1bmN0aW9uKGEpe3ZhciBhPQphLm9iamVjdCxiPSExLGM9YS5sYXllcixkPWMuZ2V0VVJMKGEuYm91bmRzKSxlPXRoaXMudGlsZUNhY2hlW2RdO2UmJiJvbFRpbGVJbWFnZSIhPT1lLmNsYXNzTmFtZSYmKGRlbGV0ZSB0aGlzLnRpbGVDYWNoZVtkXSxPcGVuTGF5ZXJzLlV0aWwucmVtb3ZlSXRlbSh0aGlzLnRpbGVDYWNoZUluZGV4LGQpLGU9bnVsbCk7aWYoYy51cmwmJihjLmFzeW5jfHwhZSkpYj10aGlzLnRpbGVRdWV1ZVtjLm1hcC5pZF0sfk9wZW5MYXllcnMuVXRpbC5pbmRleE9mKGIsYSl8fGIucHVzaChhKSxiPSEwO3JldHVybiFifSxkcmF3VGlsZXNGcm9tUXVldWU6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMudGlsZVF1ZXVlW2EuaWRdLGM9dGhpcy50aWxlc1BlckZyYW1lLGE9YS56b29tVHdlZW4mJmEuem9vbVR3ZWVuLnBsYXlpbmc7IWEmJmIubGVuZ3RoJiZjOyliLnNoaWZ0KCkuZHJhdyghMCksLS1jfSxtYW5hZ2VUaWxlQ2FjaGU6ZnVuY3Rpb24oYSl7dmFyIGE9YS5vYmplY3QsYj10aGlzLnRpbGVDYWNoZVthLnVybF07CmImJihiLnBhcmVudE5vZGUmJk9wZW5MYXllcnMuRWxlbWVudC5oYXNDbGFzcyhiLnBhcmVudE5vZGUsIm9sQmFja0J1ZmZlciIpJiYoYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGIuaWQ9bnVsbCksYi5wYXJlbnROb2RlfHwoYi5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iLGIuc3R5bGUub3BhY2l0eT0wLGEuc2V0SW1hZ2UoYiksT3BlbkxheWVycy5VdGlsLnJlbW92ZUl0ZW0odGhpcy50aWxlQ2FjaGVJbmRleCxhLnVybCksdGhpcy50aWxlQ2FjaGVJbmRleC5wdXNoKGEudXJsKSkpfSxhZGRUb0NhY2hlOmZ1bmN0aW9uKGEpe2E9YS5vYmplY3Q7IXRoaXMudGlsZUNhY2hlW2EudXJsXSYmIU9wZW5MYXllcnMuRWxlbWVudC5oYXNDbGFzcyhhLmltZ0Rpdiwib2xJbWFnZUxvYWRFcnJvciIpJiYodGhpcy50aWxlQ2FjaGVJbmRleC5sZW5ndGg+PXRoaXMuY2FjaGVTaXplJiYoZGVsZXRlIHRoaXMudGlsZUNhY2hlW3RoaXMudGlsZUNhY2hlSW5kZXhbMF1dLHRoaXMudGlsZUNhY2hlSW5kZXguc2hpZnQoKSksCnRoaXMudGlsZUNhY2hlW2EudXJsXT1hLmltZ0Rpdix0aGlzLnRpbGVDYWNoZUluZGV4LnB1c2goYS51cmwpKX0sY2xlYXJUaWxlUXVldWU6ZnVuY3Rpb24oYSl7Zm9yKHZhciBhPWEub2JqZWN0LGI9dGhpcy50aWxlUXVldWVbYS5tYXAuaWRdLGM9Yi5sZW5ndGgtMTswPD1jOy0tYyliW2NdLmxheWVyPT09YSYmYi5zcGxpY2UoYywxKX0sZGVzdHJveTpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLm1hcHMubGVuZ3RoLTE7MDw9YTstLWEpdGhpcy5yZW1vdmVNYXAodGhpcy5tYXBzW2FdKTt0aGlzLnRpbGVDYWNoZUluZGV4PXRoaXMudGlsZUNhY2hlPXRoaXMudGlsZVF1ZXVlSWQ9dGhpcy50aWxlUXVldWU9dGhpcy5tYXBzPW51bGw7dGhpcy5fZGVzdHJveWVkPSEwfX0pO09wZW5MYXllcnMuTGFuZy5wdD1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7dW5oYW5kbGVkUmVxdWVzdDoiU2Vydmlkb3IgZGV2b2x2ZXUgZXJybyBuXHUwMGUzbyBjb250ZW1wbGFkbyAke3N0YXR1c1RleHR9IixQZXJtYWxpbms6IkxpZ2FcdTAwZTdcdTAwZTNvIHBlcm1hbmVudGUiLE92ZXJsYXlzOiJTb2JyZXBvc2lcdTAwZTdcdTAwZjVlcyIsIkJhc2UgTGF5ZXIiOiJDYW1hZGEgQmFzZSIsbm9GSUQ6Ik5cdTAwZTNvIFx1MDBlOSBwb3NzXHUwMGVkdmVsIGF0dWFsaXphciB1bSBlbGVtZW50byBwYXJhIGEgcXVhbCBuXHUwMGUzbyBoXHUwMGUxIEZJRC4iLGJyb3dzZXJOb3RTdXBwb3J0ZWQ6Ik8gc2V1IG5hdmVnYWRvciBuXHUwMGUzbyBzdXBvcnRhIHJlbmRlcml6YVx1MDBlN1x1MDBlM28gdmV0b3JpYWwuIEFjdHVhbG1lbnRlIG9zIHJlbmRlcml6YWRvcmVzIHN1cG9ydGFkb3Mgc1x1MDBlM286XG4ke3JlbmRlcmVyc30iLG1pblpvb21MZXZlbEVycm9yOiJBIHByb3ByaWVkYWRlIG1pblpvb21MZXZlbCBzXHUwMGYzIGRldmUgc2VyIHVzYWRhIGNvbSBhcyBjYW1hZGFzIGRlc2NlbmRlbnRlcyBkYSBGaXhlZFpvb21MZXZlbHMuIEEgdmVyaWZpY2FcdTAwZTdcdTAwZTNvIGRhIHByb3ByaWVkYWRlIHBvciBlc3RhIGNhbWFkYSB3ZnMgXHUwMGU5IHVtYSByZWxcdTAwZWRxdWlhIGRvIHBhc3NhZG8uIE5vIGVudGFudG8sIG5cdTAwZTNvIHBvZGVtb3MgcmVtb3ZcdTAwZWEtbGEgc2VtIGNvcnJlciBvIHJpc2NvIGRlIGFmZWN0YXIgYXBsaWNhXHUwMGU3XHUwMGY1ZXMgT0wgcXVlIGRlcGVuZGFtIGRlbGEuIFBvcnRhbnRvLCBlc3RhbW9zIGEgdG9yblx1MDBlMS1sYSBvYnNvbGV0YSAtLSBhIHZlcmlmaWNhXHUwMGU3XHUwMGUzbyBtaW5ab29tTGV2ZWwgc2VyXHUwMGUxIHJlbW92aWRhIG5hIHZlcnNcdTAwZTNvIDMuMC4gRW0gdmV6IGRlbGEsIHBvciBmYXZvciwgdXNlIGFzIG9wXHUwMGU3XHUwMGY1ZXMgZGUgcmVzb2x1XHUwMGU3XHUwMGUzbyBtaW4vbWF4IGRlc2NyaXRhcyBhcXVpOiBodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL1NldHRpbmdab29tTGV2ZWxzIiwKY29tbWl0U3VjY2VzczoiVHJhbnNhY1x1MDBlN1x1MDBlM28gV0ZTOiBTVUNFU1NPICR7cmVzcG9uc2V9Iixjb21taXRGYWlsZWQ6IlRyYW5zYWNcdTAwZTdcdTAwZTNvIFdGUzogRkFMSE9VICR7cmVzcG9uc2V9Iixnb29nbGVXYXJuaW5nOiJBIENhbWFkYSBHb29nbGUgblx1MDBlM28gZm9pIGNvcnJlY3RhbWVudGUgY2FycmVnYWRhLjxicj48YnI+UGFyYSBkZWl4YXIgZGUgcmVjZWJlciBlc3RhIG1lbnNhZ2VtLCBzZWxlY2Npb25lIHVtYSBub3ZhIENhbWFkYS1CYXNlIG5vICcnc3dpdGNoZXInJyBkZSBjYW1hZGFzIG5vIGNhbnRvIHN1cGVyaW9yIGRpcmVpdG8uPGJyPjxicj5Qcm92YXZlbG1lbnRlLCBpc3RvIGFjb250ZWNlIHBvcnF1ZSBvICcnc2NyaXB0JycgZGEgYmlibGlvdGVjYSBkbyBHb29nbGUgTWFwcyBuXHUwMGUzbyBmb2kgaW5jbHVcdTAwZWRkbyBvdSBuXHUwMGUzbyBjb250XHUwMGU5bSBhIGNoYXZlIEFQSSBjb3JyZWN0YSBwYXJhIG8gc2V1IHNcdTAwZWR0aW8uPGJyPjxicj5Qcm9ncmFtYWRvcmVzOiBQYXJhIGFqdWRhIHNvYnJlIGNvbW8gc29sdWNpb25hciBvIHByb2JsZW1hIDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvR29vZ2xlJyB0YXJnZXQ9J19ibGFuayc+Y2xpcXVlIGFxdWk8L2E+IC4iLApnZXRMYXllcldhcm5pbmc6IkEgY2FtYWRhICR7bGF5ZXJUeXBlfSBuXHUwMGUzbyBmb2kgY29ycmVjdGFtZW50ZSBjYXJyZWdhZGEuPGJyPjxicj5QYXJhIGRlc2FjdGl2YXIgZXN0YSBtZW5zYWdlbSwgc2VsZWNjaW9uZSB1bWEgbm92YSBDYW1hZGEtQmFzZSBubyAnJ3N3aXRjaGVyJycgZGUgY2FtYWRhcyBubyBjYW50byBzdXBlcmlvciBkaXJlaXRvLjxicj48YnI+UHJvdmF2ZWxtZW50ZSwgaXN0byBhY29udGVjZSBwb3JxdWUgbyAnJ3NjcmlwdCcnIGRhIGJpYmxpb3RlY2EgJHtsYXllckxpYn0gblx1MDBlM28gZm9pIGluY2x1XHUwMGVkZG8gY29ycmVjdGFtZW50ZS48YnI+PGJyPlByb2dyYW1hZG9yZXM6IFBhcmEgYWp1ZGEgc29icmUgY29tbyBzb2x1Y2lvbmFyIG8gcHJvYmxlbWEgPGEgaHJlZj0naHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS8ke2xheWVyTGlifScgdGFyZ2V0PSdfYmxhbmsnPmNsaXF1ZSBhcXVpPC9hPiAuIiwiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6IkVzY2FsYSA9IDEgOiAke3NjYWxlRGVub219IiwKVzoiTyIsRToiRSIsTjoiTiIsUzoiUyIscmVwcm9qZWN0RGVwcmVjYXRlZDoiRXN0XHUwMGUxIHVzYW5kbyBhIG9wXHUwMGU3XHUwMGUzbyAncmVwcm9qZWN0JyBuYSBjYW1hZGEgJHtsYXllck5hbWV9LiBFc3RhIG9wXHUwMGU3XHUwMGUzbyBcdTAwZTkgb2Jzb2xldGE6IGZvaSBjb25jZWJpZGEgcGFyYSBwZXJtaXRpciBhIGFwcmVzZW50YVx1MDBlN1x1MDBlM28gZGUgZGFkb3Mgc29icmUgbWFwYXMtYmFzZSBjb21lcmNpYWlzLCBtYXMgZXN0YSBmdW5jaW9uYWxpZGFkZSBcdTAwZTkgYWdvcmEgc3Vwb3J0YWRhIHBlbG8gTWVyY2F0b3IgRXNmXHUwMGU5cmljby4gTWFpcyBpbmZvcm1hXHUwMGU3XHUwMGUzbyBlc3RcdTAwZTEgZGlzcG9uXHUwMGVkdmVsIGVtIGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU3BoZXJpY2FsTWVyY2F0b3IuIixtZXRob2REZXByZWNhdGVkOiJFc3RlIG1cdTAwZTl0b2RvIGZvaSBkZWNsYXJhZG8gb2Jzb2xldG8gZSBzZXJcdTAwZTEgcmVtb3ZpZG8gbmEgdmVyc1x1MDBlM28gMy4wLiBQb3IgZmF2b3IsIHVzZSAke25ld01ldGhvZH0gZW0gdmV6IGRpc3NvLiJ9KTtPcGVuTGF5ZXJzLkxheWVyLkFyY0dJU0NhY2hlPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllci5YWVose3VybDpudWxsLHRpbGVPcmlnaW46bnVsbCx0aWxlU2l6ZTpuZXcgT3BlbkxheWVycy5TaXplKDI1NiwyNTYpLHVzZUFyY0dJU1NlcnZlcjohMCx0eXBlOiJwbmciLHVzZVNjYWxlczohMSxvdmVycmlkZURQSTohMSxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjKXtPcGVuTGF5ZXJzLkxheWVyLlhZWi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5yZXNvbHV0aW9ucyYmKHRoaXMuc2VydmVyUmVzb2x1dGlvbnM9dGhpcy5yZXNvbHV0aW9ucyx0aGlzLm1heEV4dGVudD10aGlzLmdldE1heEV4dGVudEZvclJlc29sdXRpb24odGhpcy5yZXNvbHV0aW9uc1swXSkpO2lmKHRoaXMubGF5ZXJJbmZvKXt2YXIgZD10aGlzLmxheWVySW5mbyxlPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhkLmZ1bGxFeHRlbnQueG1pbixkLmZ1bGxFeHRlbnQueW1pbiwKZC5mdWxsRXh0ZW50LnhtYXgsZC5mdWxsRXh0ZW50LnltYXgpO3RoaXMucHJvamVjdGlvbj0iRVBTRzoiK2Quc3BhdGlhbFJlZmVyZW5jZS53a2lkO3RoaXMuc3BoZXJpY2FsTWVyY2F0b3I9MTAyMTAwPT1kLnNwYXRpYWxSZWZlcmVuY2Uud2tpZDt0aGlzLnVuaXRzPSJlc3JpRmVldCI9PWQudW5pdHM/ImZ0IjoibSI7aWYoZC50aWxlSW5mbyl7dGhpcy50aWxlU2l6ZT1uZXcgT3BlbkxheWVycy5TaXplKGQudGlsZUluZm8ud2lkdGh8fGQudGlsZUluZm8uY29scyxkLnRpbGVJbmZvLmhlaWdodHx8ZC50aWxlSW5mby5yb3dzKTt0aGlzLnRpbGVPcmlnaW49bmV3IE9wZW5MYXllcnMuTG9uTGF0KGQudGlsZUluZm8ub3JpZ2luLngsZC50aWxlSW5mby5vcmlnaW4ueSk7dmFyIGY9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoZS5sZWZ0LGUudG9wKSxlPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGUucmlnaHQsZS5ib3R0b20pO3RoaXMudXNlU2NhbGVzP3RoaXMuc2NhbGVzPQpbXTp0aGlzLnJlc29sdXRpb25zPVtdO3RoaXMubG9kcz1bXTtmb3IodmFyIGcgaW4gZC50aWxlSW5mby5sb2RzKWlmKGQudGlsZUluZm8ubG9kcy5oYXNPd25Qcm9wZXJ0eShnKSl7dmFyIGg9ZC50aWxlSW5mby5sb2RzW2ddO3RoaXMudXNlU2NhbGVzP3RoaXMuc2NhbGVzLnB1c2goaC5zY2FsZSk6dGhpcy5yZXNvbHV0aW9ucy5wdXNoKGgucmVzb2x1dGlvbik7dmFyIGk9dGhpcy5nZXRDb250YWluaW5nVGlsZUNvb3JkcyhmLGgucmVzb2x1dGlvbik7aC5zdGFydFRpbGVDb2w9aS54O2guc3RhcnRUaWxlUm93PWkueTtpPXRoaXMuZ2V0Q29udGFpbmluZ1RpbGVDb29yZHMoZSxoLnJlc29sdXRpb24pO2guZW5kVGlsZUNvbD1pLng7aC5lbmRUaWxlUm93PWkueTt0aGlzLmxvZHMucHVzaChoKX10aGlzLm1heEV4dGVudD10aGlzLmNhbGN1bGF0ZU1heEV4dGVudFdpdGhMT0QodGhpcy5sb2RzWzBdKTt0aGlzLnNlcnZlclJlc29sdXRpb25zPXRoaXMucmVzb2x1dGlvbnM7dGhpcy5vdmVycmlkZURQSSYmCmQudGlsZUluZm8uZHBpJiYoT3BlbkxheWVycy5ET1RTX1BFUl9JTkNIPWQudGlsZUluZm8uZHBpKX19fSxnZXRDb250YWluaW5nVGlsZUNvb3JkczpmdW5jdGlvbihhLGIpe3JldHVybiBuZXcgT3BlbkxheWVycy5QaXhlbChNYXRoLm1heChNYXRoLmZsb29yKChhLngtdGhpcy50aWxlT3JpZ2luLmxvbikvKHRoaXMudGlsZVNpemUudypiKSksMCksTWF0aC5tYXgoTWF0aC5mbG9vcigodGhpcy50aWxlT3JpZ2luLmxhdC1hLnkpLyh0aGlzLnRpbGVTaXplLmgqYikpLDApKX0sY2FsY3VsYXRlTWF4RXh0ZW50V2l0aExPRDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnRpbGVPcmlnaW4ubG9uK2Euc3RhcnRUaWxlQ29sKnRoaXMudGlsZVNpemUudyphLnJlc29sdXRpb24sYz10aGlzLnRpbGVPcmlnaW4ubGF0LWEuc3RhcnRUaWxlUm93KnRoaXMudGlsZVNpemUuaCphLnJlc29sdXRpb247cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhiLGMtKGEuZW5kVGlsZVJvdy1hLnN0YXJ0VGlsZVJvdysKMSkqdGhpcy50aWxlU2l6ZS5oKmEucmVzb2x1dGlvbixiKyhhLmVuZFRpbGVDb2wtYS5zdGFydFRpbGVDb2wrMSkqdGhpcy50aWxlU2l6ZS53KmEucmVzb2x1dGlvbixjKX0sY2FsY3VsYXRlTWF4RXh0ZW50V2l0aEV4dGVudDpmdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGEubGVmdCxhLnRvcCksZD1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChhLnJpZ2h0LGEuYm90dG9tKSxjPXRoaXMuZ2V0Q29udGFpbmluZ1RpbGVDb29yZHMoYyxiKSxkPXRoaXMuZ2V0Q29udGFpbmluZ1RpbGVDb29yZHMoZCxiKTtyZXR1cm4gdGhpcy5jYWxjdWxhdGVNYXhFeHRlbnRXaXRoTE9EKHtyZXNvbHV0aW9uOmIsc3RhcnRUaWxlQ29sOmMueCxzdGFydFRpbGVSb3c6Yy55LGVuZFRpbGVDb2w6ZC54LGVuZFRpbGVSb3c6ZC55fSl9LGdldFVwcGVyTGVmdFRpbGVDb29yZDpmdW5jdGlvbihhKXt2YXIgYj1uZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludCh0aGlzLm1heEV4dGVudC5sZWZ0LAp0aGlzLm1heEV4dGVudC50b3ApO3JldHVybiB0aGlzLmdldENvbnRhaW5pbmdUaWxlQ29vcmRzKGIsYSl9LGdldExvd2VyUmlnaHRUaWxlQ29vcmQ6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQodGhpcy5tYXhFeHRlbnQucmlnaHQsdGhpcy5tYXhFeHRlbnQuYm90dG9tKTtyZXR1cm4gdGhpcy5nZXRDb250YWluaW5nVGlsZUNvb3JkcyhiLGEpfSxnZXRNYXhFeHRlbnRGb3JSZXNvbHV0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0VXBwZXJMZWZ0VGlsZUNvb3JkKGEpLGM9dGhpcy5nZXRMb3dlclJpZ2h0VGlsZUNvb3JkKGEpLGQ9dGhpcy50aWxlT3JpZ2luLmxvbitiLngqdGhpcy50aWxlU2l6ZS53KmEsZT10aGlzLnRpbGVPcmlnaW4ubGF0LWIueSp0aGlzLnRpbGVTaXplLmgqYTtyZXR1cm4gbmV3IE9wZW5MYXllcnMuQm91bmRzKGQsZS0oYy55LWIueSsxKSp0aGlzLnRpbGVTaXplLmgqYSxkKyhjLngtYi54KzEpKnRoaXMudGlsZVNpemUudyoKYSxlKX0sY2xvbmU6ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9bmV3IE9wZW5MYXllcnMuTGF5ZXIuQXJjR0lTQ2FjaGUodGhpcy5uYW1lLHRoaXMudXJsLHRoaXMub3B0aW9ucykpO3JldHVybiBPcGVuTGF5ZXJzLkxheWVyLlhZWi5wcm90b3R5cGUuY2xvbmUuYXBwbHkodGhpcyxbYV0pfSxpbml0R3JpZGRlZFRpbGVzOmZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLl90aWxlT3JpZ2luO09wZW5MYXllcnMuTGF5ZXIuWFlaLnByb3RvdHlwZS5pbml0R3JpZGRlZFRpbGVzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZ2V0TWF4RXh0ZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5tYXAuZ2V0UmVzb2x1dGlvbigpO3JldHVybiB0aGlzLm1heEV4dGVudD10aGlzLmdldE1heEV4dGVudEZvclJlc29sdXRpb24oYSl9LGdldFRpbGVPcmlnaW46ZnVuY3Rpb24oKXtpZighdGhpcy5fdGlsZU9yaWdpbil7dmFyIGE9dGhpcy5nZXRNYXhFeHRlbnQoKTt0aGlzLl90aWxlT3JpZ2luPW5ldyBPcGVuTGF5ZXJzLkxvbkxhdChhLmxlZnQsCmEuYm90dG9tKX1yZXR1cm4gdGhpcy5fdGlsZU9yaWdpbn0sZ2V0VVJMOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0UmVzb2x1dGlvbigpLGM9dGhpcy50aWxlT3JpZ2luLmxvbitiKnRoaXMudGlsZVNpemUudy8yLGQ9dGhpcy50aWxlT3JpZ2luLmxhdC1iKnRoaXMudGlsZVNpemUuaC8yLGE9YS5nZXRDZW50ZXJMb25MYXQoKSxjPU1hdGgucm91bmQoTWF0aC5hYnMoKGEubG9uLWMpLyhiKnRoaXMudGlsZVNpemUudykpKSxkPU1hdGgucm91bmQoTWF0aC5hYnMoKGQtYS5sYXQpLyhiKnRoaXMudGlsZVNpemUuaCkpKSxhPXRoaXMubWFwLmdldFpvb20oKTtpZih0aGlzLmxvZHMpe2lmKGI9dGhpcy5sb2RzW3RoaXMubWFwLmdldFpvb20oKV0sYzxiLnN0YXJ0VGlsZUNvbHx8Yz5iLmVuZFRpbGVDb2x8fGQ8Yi5zdGFydFRpbGVSb3d8fGQ+Yi5lbmRUaWxlUm93KXJldHVybiBudWxsfWVsc2V7dmFyIGU9dGhpcy5nZXRVcHBlckxlZnRUaWxlQ29vcmQoYiksYj10aGlzLmdldExvd2VyUmlnaHRUaWxlQ29vcmQoYik7CmlmKGM8ZS54fHxjPj1iLnh8fGQ8ZS55fHxkPj1iLnkpcmV0dXJuIG51bGx9Yj10aGlzLnVybDtlPSIiK2MrZCthO09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGIpJiYoYj10aGlzLnNlbGVjdFVybChlLGIpKTt0aGlzLnVzZUFyY0dJU1NlcnZlcj9iKz0iL3RpbGUvJHt6fS8ke3l9LyR7eH0iOihjPSJDIitPcGVuTGF5ZXJzLk51bWJlci56ZXJvUGFkKGMsOCwxNiksZD0iUiIrT3BlbkxheWVycy5OdW1iZXIuemVyb1BhZChkLDgsMTYpLGE9IkwiK09wZW5MYXllcnMuTnVtYmVyLnplcm9QYWQoYSwyLDEwKSxiPWIrIi8ke3p9LyR7eX0vJHt4fS4iK3RoaXMudHlwZSk7Yj1PcGVuTGF5ZXJzLlN0cmluZy5mb3JtYXQoYix7eDpjLHk6ZCx6OmF9KTtyZXR1cm4gT3BlbkxheWVycy5VdGlsLnVybEFwcGVuZChiLE9wZW5MYXllcnMuVXRpbC5nZXRQYXJhbWV0ZXJTdHJpbmcodGhpcy5wYXJhbXMpKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5BcmNHSVNDYWNoZSJ9KTtPcGVuTGF5ZXJzLkxhbmdbImJlLXRhcmFzayJdPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHt1bmhhbmRsZWRSZXF1ZXN0OiJcdTA0MWRcdTA0MzVcdTA0MzBcdTA0M2ZcdTA0NDBcdTA0MzBcdTA0NDZcdTA0MzBcdTA0MzJcdTA0MzBcdTA0M2RcdTA0NGIgXHUwNDMyXHUwNDRiXHUwNDNkXHUwNDU2XHUwNDNhIFx1MDQzN1x1MDQzMFx1MDQzZlx1MDQ0Ylx1MDQ0Mlx1MDQ0MyAke3N0YXR1c1RleHR9IixQZXJtYWxpbms6Ilx1MDQyMVx1MDQ0Mlx1MDQzMFx1MDQzYlx1MDQzMFx1MDQ0ZiBcdTA0NDFcdTA0M2ZcdTA0MzBcdTA0NDFcdTA0NGJcdTA0M2JcdTA0M2FcdTA0MzAiLE92ZXJsYXlzOiJcdTA0MjFcdTA0M2JcdTA0MzBcdTA0NTYiLCJCYXNlIExheWVyIjoiXHUwNDExXHUwNDMwXHUwNDM3XHUwNDMwXHUwNDMyXHUwNDRiIFx1MDQ0MVx1MDQzYlx1MDQzZVx1MDQzOSIsbm9GSUQ6Ilx1MDQxZFx1MDQzNVx1MDQzY1x1MDQzMFx1MDQzM1x1MDQ0N1x1MDQ0Ylx1MDQzY1x1MDQzMCBcdTA0MzBcdTA0MzFcdTA0M2RcdTA0MzBcdTA0MzJcdTA0NTZcdTA0NDZcdTA0NGMgXHUwNDNjXHUwNDMwXHUwNDMzXHUwNDQ3XHUwNDRiXHUwNDNjXHUwNDMwXHUwNDQxXHUwNDRjXHUwNDQ2XHUwNDRjLCBcdTA0MzRcdTA0M2JcdTA0NGYgXHUwNDRmXHUwNDNhXHUwNDNlXHUwNDMzXHUwNDMwIFx1MDQzZFx1MDQzNSBcdTA0NTZcdTA0NDFcdTA0M2RcdTA0NDNcdTA0MzUgRklELiIsCmJyb3dzZXJOb3RTdXBwb3J0ZWQ6Ilx1MDQxMlx1MDQzMFx1MDQ0OCBcdTA0MzFcdTA0NDBcdTA0MzBcdTA0NWVcdTA0MzdcdTA0NGRcdTA0NDAgXHUwNDNkXHUwNDM1IFx1MDQzZlx1MDQzMFx1MDQzNFx1MDQ0Mlx1MDQ0MFx1MDQ0Ylx1MDQzY1x1MDQzYlx1MDQ1Nlx1MDQzMlx1MDQzMFx1MDQzNSBcdTA0MzJcdTA0NGRcdTA0M2FcdTA0NDJcdTA0MzBcdTA0NDBcdTA0M2RcdTA0NDNcdTA0NGUgXHUwNDMzXHUwNDQwXHUwNDMwXHUwNDQ0XHUwNDU2XHUwNDNhXHUwNDQzLiBcdTA0MjMgXHUwNDQ2XHUwNDRmXHUwNDNmXHUwNDM1XHUwNDQwXHUwNDMwXHUwNDQ4XHUwNDNkXHUwNDU2IFx1MDQzY1x1MDQzZVx1MDQzY1x1MDQzMFx1MDQzZFx1MDQ0MiBcdTA0M2ZcdTA0MzBcdTA0MzRcdTA0NDJcdTA0NDBcdTA0NGJcdTA0M2NcdTA0M2JcdTA0NTZcdTA0MzJcdTA0MzBcdTA0NGVcdTA0NDZcdTA0NDZcdTA0MzA6ICR7cmVuZGVyZXJzfSIsbWluWm9vbUxldmVsRXJyb3I6Ilx1MDQyM1x1MDQzYlx1MDQzMFx1MDQ0MVx1MDQ0Y1x1MDQ0Nlx1MDQ1Nlx1MDQzMlx1MDQzMFx1MDQ0MVx1MDQ0Y1x1MDQ0Nlx1MDQ0YyBtaW5ab29tTGV2ZWwgXHUwNDNmXHUwNDQwXHUwNDRiXHUwNDM3XHUwNDNkXHUwNDMwXHUwNDQ3XHUwNDMwXHUwNDNkXHUwNDMwIFx1MDQ0Mlx1MDQzZVx1MDQzYlx1MDQ0Y1x1MDQzYVx1MDQ1NiBcdTA0MzRcdTA0M2JcdTA0NGYgXHUwNDMyXHUwNDRiXHUwNDNhXHUwNDMwXHUwNDQwXHUwNDRiXHUwNDQxXHUwNDQyXHUwNDMwXHUwNDNkXHUwNDRjXHUwNDNkXHUwNDRmIFx1MDQ0MVx1MDQzMCBcdTA0NDFcdTA0M2JcdTA0MzBcdTA0NGZcdTA0M2NcdTA0NTYgXHUwNDMyXHUwNDRiXHUwNDQyXHUwNDMyXHUwNDNlXHUwNDQwXHUwNDNkXHUwNDRiXHUwNDNjXHUwNDU2IFx1MDQzMFx1MDQzNCBGaXhlZFpvb21MZXZlbHMuIFx1MDQyMlx1MDQzZVx1MDQzNSwgXHUwNDQ4XHUwNDQyXHUwNDNlICBcdTA0MzNcdTA0NGRcdTA0NDJcdTA0NGIgd2ZzLVx1MDQ0MVx1MDQzYlx1MDQzZVx1MDQzOSBcdTA0M2ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0NGZcdTA0NDBcdTA0MzBcdTA0MzVcdTA0NDZcdTA0NDZcdTA0MzAgXHUwNDNkXHUwNDMwIG1pblpvb21MZXZlbCBcdTIwMTQgXHUwNDQwXHUwNDRkXHUwNDQ1XHUwNDMwIFx1MDQzZlx1MDQ0MFx1MDQzZVx1MDQ0OFx1MDQzYlx1MDQzMFx1MDQzM1x1MDQzMC4gXHUwNDEwXHUwNDNiXHUwNDM1IFx1MDQzY1x1MDQ0YiBcdTA0M2RcdTA0NGYgXHUwNDNjXHUwNDNlXHUwNDM2XHUwNDMwXHUwNDNjIFx1MDQzMlx1MDQ0Ylx1MDQzNFx1MDQzMFx1MDQzYlx1MDQ1Nlx1MDQ0Nlx1MDQ0YyBcdTA0MzNcdTA0NGRcdTA0NDJcdTA0NDNcdTA0NGUgXHUwNDNjXHUwNDMwXHUwNDMzXHUwNDQ3XHUwNDRiXHUwNDNjXHUwNDMwXHUwNDQxXHUwNDRjXHUwNDQ2XHUwNDRjLCBcdTA0NDJcdTA0MzBcdTA0M2NcdTA0NDMgXHUwNDQ4XHUwNDQyXHUwNDNlIFx1MDQzMFx1MDQzNCBcdTA0NGZcdTA0MzUgXHUwNDM3XHUwNDMwXHUwNDNiXHUwNDM1XHUwNDM2XHUwNDMwXHUwNDQ2XHUwNDRjIFx1MDQzZFx1MDQzNVx1MDQzYVx1MDQzMFx1MDQ0Mlx1MDQzZVx1MDQ0MFx1MDQ0Ylx1MDQ0ZiBcdTA0MzdcdTA0MzBcdTA0NDFcdTA0M2RcdTA0MzBcdTA0MzJcdTA0MzBcdTA0M2RcdTA0NGJcdTA0NGYgXHUwNDNkXHUwNDMwIE9MIFx1MDQzNFx1MDQzMFx1MDQ0MVx1MDQ0Mlx1MDQzMFx1MDQ0MVx1MDQzMFx1MDQzMlx1MDQzMFx1MDQzZFx1MDQ0Y1x1MDQzZFx1MDQ1Ni4gXHUwNDIyXHUwNDRiXHUwNDNjIFx1MDQzZFx1MDQ0ZiBcdTA0M2NcdTA0MzVcdTA0M2RcdTA0NDgsIFx1MDQzZlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQzYVx1MDQzMCBtaW5ab29tTGV2ZWwgXHUwNDMxXHUwNDQzXHUwNDM0XHUwNDM3XHUwNDM1IFx1MDQzMlx1MDQ0Ylx1MDQzNFx1MDQzMFx1MDQzYlx1MDQzNVx1MDQzZFx1MDQzMFx1MDQ0ZiBcdTA0NWUgXHUwNDMyXHUwNDRkXHUwNDQwXHUwNDQxXHUwNDU2XHUwNDU2IDMuMC4gXHUwNDFhXHUwNDMwXHUwNDNiXHUwNDU2IFx1MDQzYlx1MDQzMFx1MDQ0MVx1MDQzYVx1MDQzMCwgXHUwNDMyXHUwNDRiXHUwNDNhXHUwNDMwXHUwNDQwXHUwNDRiXHUwNDQxXHUwNDQyXHUwNDNlXHUwNDVlXHUwNDMyXHUwNDMwXHUwNDM1XHUwNDQ2XHUwNDM1IFx1MDQzN1x1MDQzMFx1MDQzY1x1MDQzNVx1MDQ0MVx1MDQ0MiBcdTA0NGZcdTA0MzUgXHUwNDVlXHUwNDQxXHUwNDQyXHUwNDMwXHUwNDNkXHUwNDNlXHUwNDVlXHUwNDNhXHUwNDU2IFx1MDQzY1x1MDQ1Nlx1MDQzZFx1MDQ1Nlx1MDQzY1x1MDQzMFx1MDQzYlx1MDQ0Y1x1MDQzZFx1MDQzMFx1MDQzM1x1MDQzMC9cdTA0M2NcdTA0MzBcdTA0M2FcdTA0NDFcdTA0NGJcdTA0M2NcdTA0MzBcdTA0M2JcdTA0NGNcdTA0M2RcdTA0MzBcdTA0MzNcdTA0MzAgXHUwNDNmXHUwNDMwXHUwNDNjXHUwNDM1XHUwNDQwXHUwNDMwXHUwNDVlLCBcdTA0NGZcdTA0M2EgXHUwNDMwXHUwNDNmXHUwNDU2XHUwNDQxXHUwNDMwXHUwNDNkXHUwNDMwIFx1MDQ0Mlx1MDQ0M1x1MDQ0MjogaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyIsCmNvbW1pdFN1Y2Nlc3M6IldGUy1cdTA0NDJcdTA0NDBcdTA0MzBcdTA0M2RcdTA0MzdcdTA0MzBcdTA0M2FcdTA0NDZcdTA0NGJcdTA0NGY6IFx1MDQxZlx1MDQxZVx1MDQyMVx1MDQyY1x1MDQxZlx1MDQxNVx1MDQyNSAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJXRlMtXHUwNDQyXHUwNDQwXHUwNDMwXHUwNDNkXHUwNDM3XHUwNDMwXHUwNDNhXHUwNDQ2XHUwNDRiXHUwNDRmOiBcdTA0MWZcdTA0MTBcdTA0MWNcdTA0MmJcdTA0MWJcdTA0MWFcdTA0MTAgJHtyZXNwb25zZX0iLGdvb2dsZVdhcm5pbmc6Ilx1MDQxZFx1MDQzNSBcdTA0MzBcdTA0NDJcdTA0NDBcdTA0NGJcdTA0M2NcdTA0MzBcdTA0M2JcdTA0MzBcdTA0NDFcdTA0NGYgXHUwNDM3XHUwNDMwXHUwNDMzXHUwNDQwXHUwNDQzXHUwNDM3XHUwNDU2XHUwNDQ2XHUwNDRjIFx1MDQ0MVx1MDQzYlx1MDQzZVx1MDQzOSBHb29nbGUuIDxicj48YnI+XHUwNDFhXHUwNDMwXHUwNDMxIFx1MDQzZlx1MDQzMFx1MDQzN1x1MDQzMVx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQ0Nlx1MDQ0Nlx1MDQzMCBcdTA0MzNcdTA0NGRcdTA0NDJcdTA0MzBcdTA0MzNcdTA0MzAgXHUwNDNmXHUwNDMwXHUwNDMyXHUwNDM1XHUwNDM0XHUwNDMwXHUwNDNjXHUwNDNiXHUwNDM1XHUwNDNkXHUwNDRjXHUwNDNkXHUwNDRmLCBcdTA0MzJcdTA0NGJcdTA0MzFcdTA0MzVcdTA0NDBcdTA0NGJcdTA0NDZcdTA0MzUgXHUwNDNkXHUwNDNlXHUwNDMyXHUwNDRiIFx1MDQzMVx1MDQzMFx1MDQzN1x1MDQzMFx1MDQzMlx1MDQ0YiBcdTA0NDFcdTA0M2JcdTA0M2VcdTA0MzkgXHUwNDQzIFx1MDQ0MVx1MDQ0Y1x1MDQzZlx1MDQ1Nlx1MDQ0MVx1MDQzNSBcdTA0NWUgXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDQ1XHUwNDNkXHUwNDU2XHUwNDNjIFx1MDQzZlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQ0Ylx1MDQzYyBcdTA0M2FcdTA0NDNcdTA0NDZcdTA0MzUuPGJyPjxicj4gXHUwNDI1XHUwNDQzXHUwNDQyXHUwNDQ3XHUwNDRkXHUwNDM5IFx1MDQzN1x1MDQzMCBcdTA0NWVcdTA0NDFcdTA0NTEsIFx1MDQzZlx1MDQ0MFx1MDQ0Ylx1MDQ0N1x1MDQ0Ylx1MDQzZFx1MDQzMCBcdTA0NWUgXHUwNDQyXHUwNDRiXHUwNDNjLCBcdTA0NDhcdTA0NDJcdTA0M2UgXHUwNDQxXHUwNDNhXHUwNDQwXHUwNDRiXHUwNDNmXHUwNDQyIFx1MDQzMVx1MDQ1Nlx1MDQzMVx1MDQzYlx1MDQ1Nlx1MDQ0Zlx1MDQ0Mlx1MDQ0ZFx1MDQzYVx1MDQ1NiBHb29nbGUgTWFwcyBcdTA0M2RcdTA0NGYgXHUwNDMxXHUwNDRiXHUwNDVlIFx1MDQ0M1x1MDQzYVx1MDQzYlx1MDQ0ZVx1MDQ0N1x1MDQzMFx1MDQzZFx1MDQ0Ylx1MDQ0ZiBcdTA0MzBcdTA0M2JcdTA0NGNcdTA0MzFcdTA0M2UgXHUwNDNkXHUwNDM1IFx1MDQ1ZVx1MDQ0Mlx1MDQ0MFx1MDQ0Ylx1MDQzY1x1MDQzYlx1MDQ1Nlx1MDQzMlx1MDQzMFx1MDQzNSBcdTA0NDFcdTA0M2JcdTA0NDNcdTA0NDhcdTA0M2RcdTA0NGIgQVBJLVx1MDQzYVx1MDQzYlx1MDQ0ZVx1MDQ0NyBcdTA0MzRcdTA0M2JcdTA0NGYgXHUwNDEyXHUwNDMwXHUwNDQ4XHUwNDMwXHUwNDMzXHUwNDMwIFx1MDQ0MVx1MDQzMFx1MDQzOVx1MDQ0Mlx1MDQzMC48YnI+PGJyPlx1MDQyMFx1MDQzMFx1MDQ0MVx1MDQzZlx1MDQ0MFx1MDQzMFx1MDQ0Nlx1MDQzZVx1MDQ1ZVx1MDQ0OFx1MDQ0N1x1MDQ0Ylx1MDQzYVx1MDQzMFx1MDQzYzogXHUwNDE0XHUwNDNiXHUwNDRmIFx1MDQ0Mlx1MDQzMFx1MDQzM1x1MDQzZSwgXHUwNDNhXHUwNDMwXHUwNDMxIFx1MDQzNFx1MDQzMFx1MDQzMlx1MDQzNVx1MDQzNFx1MDQzMFx1MDQ0Nlx1MDQ0Nlx1MDQzMCBcdTA0NGZcdTA0M2EgXHUwNDM3XHUwNDQwXHUwNDMwXHUwNDMxXHUwNDU2XHUwNDQ2XHUwNDRjIFx1MDQ0Mlx1MDQzMFx1MDQzYSwgXHUwNDNhXHUwNDMwXHUwNDMxIFx1MDQ0M1x1MDQ0MVx1MDQ1MSBcdTA0M2ZcdTA0NDBcdTA0MzBcdTA0NDZcdTA0MzBcdTA0MzJcdTA0MzBcdTA0M2JcdTA0MzAsIDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvR29vZ2xlJyB0YXJnZXQ9J19ibGFuayc+XHUwNDNkXHUwNDMwXHUwNDQ2XHUwNDU2XHUwNDQxXHUwNDRjXHUwNDNkXHUwNDU2XHUwNDQ2XHUwNDM1IFx1MDQ0Mlx1MDQ0M1x1MDQ0MjwvYT4iLApnZXRMYXllcldhcm5pbmc6Ilx1MDQxZFx1MDQzNVx1MDQzY1x1MDQzMFx1MDQzM1x1MDQ0N1x1MDQ0Ylx1MDQzY1x1MDQzMCBcdTA0MzdcdTA0MzBcdTA0MzNcdTA0NDBcdTA0NDNcdTA0MzdcdTA0NTZcdTA0NDZcdTA0NGMgXHUwNDQxXHUwNDNiXHUwNDNlXHUwNDM5ICR7bGF5ZXJUeXBlfS48YnI+PGJyPlx1MDQxYVx1MDQzMFx1MDQzMSBcdTA0M2ZcdTA0MzBcdTA0MzdcdTA0MzFcdTA0MzBcdTA0MzJcdTA0NTZcdTA0NDZcdTA0NDZcdTA0MzAgXHUwNDMzXHUwNDRkXHUwNDQyXHUwNDMwXHUwNDMzXHUwNDMwIFx1MDQzZlx1MDQzMFx1MDQzMlx1MDQzNVx1MDQzNFx1MDQzMFx1MDQzY1x1MDQzYlx1MDQzNVx1MDQzZFx1MDQ0Y1x1MDQzZFx1MDQ0ZiwgXHUwNDMyXHUwNDRiXHUwNDMxXHUwNDM1XHUwNDQwXHUwNDRiXHUwNDQ2XHUwNDM1IFx1MDQzZFx1MDQzZVx1MDQzMlx1MDQ0YiBcdTA0MzFcdTA0MzBcdTA0MzdcdTA0MzBcdTA0MzJcdTA0NGIgXHUwNDQxXHUwNDNiXHUwNDNlXHUwNDM5IFx1MDQ0MyBcdTA0NDFcdTA0NGNcdTA0M2ZcdTA0NTZcdTA0NDFcdTA0MzUgXHUwNDVlIFx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQ0NVx1MDQzZFx1MDQ1Nlx1MDQzYyBcdTA0M2ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0NGJcdTA0M2MgXHUwNDNhXHUwNDQzXHUwNDQ2XHUwNDM1Ljxicj48YnI+XHUwNDI1XHUwNDQzXHUwNDQyXHUwNDQ3XHUwNDRkXHUwNDM5IFx1MDQzN1x1MDQzMCBcdTA0NWVcdTA0NDFcdTA0NTEsIFx1MDQzZlx1MDQ0MFx1MDQ0Ylx1MDQ0N1x1MDQ0Ylx1MDQzZFx1MDQzMCBcdTA0NWUgXHUwNDQyXHUwNDRiXHUwNDNjLCBcdTA0NDhcdTA0NDJcdTA0M2UgXHUwNDQxXHUwNDNhXHUwNDQwXHUwNDRiXHUwNDNmXHUwNDQyIFx1MDQzMVx1MDQ1Nlx1MDQzMVx1MDQzYlx1MDQ1Nlx1MDQ0Zlx1MDQ0Mlx1MDQ0ZFx1MDQzYVx1MDQ1NiAke2xheWVyTGlifSBcdTA0M2RcdTA0NGYgXHUwNDMxXHUwNDRiXHUwNDVlIFx1MDQ0MVx1MDQzYlx1MDQ0M1x1MDQ0OFx1MDQzZFx1MDQzMCBcdTA0NWVcdTA0M2FcdTA0M2JcdTA0NGVcdTA0NDdcdTA0MzBcdTA0M2RcdTA0NGIuPGJyPjxicj5cdTA0MjBcdTA0MzBcdTA0NDFcdTA0M2ZcdTA0NDBcdTA0MzBcdTA0NDZcdTA0M2VcdTA0NWVcdTA0NDhcdTA0NDdcdTA0NGJcdTA0M2FcdTA0MzBcdTA0M2M6IFx1MDQxNFx1MDQzYlx1MDQ0ZiBcdTA0NDJcdTA0MzBcdTA0MzNcdTA0M2UsIFx1MDQzYVx1MDQzMFx1MDQzMSBcdTA0MzRcdTA0MzBcdTA0MzJcdTA0MzVcdTA0MzRcdTA0MzBcdTA0NDZcdTA0NDZcdTA0MzAgXHUwNDRmXHUwNDNhIFx1MDQzN1x1MDQ0MFx1MDQzMFx1MDQzMVx1MDQ1Nlx1MDQ0Nlx1MDQ0YyBcdTA0NDJcdTA0MzBcdTA0M2EsIFx1MDQzYVx1MDQzMFx1MDQzMSBcdTA0NDNcdTA0NDFcdTA0NTEgXHUwNDNmXHUwNDQwXHUwNDMwXHUwNDQ2XHUwNDMwXHUwNDMyXHUwNDMwXHUwNDNiXHUwNDMwLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpLyR7bGF5ZXJMaWJ9JyB0YXJnZXQ9J19ibGFuayc+XHUwNDNkXHUwNDMwXHUwNDQ2XHUwNDU2XHUwNDQxXHUwNDRjXHUwNDNkXHUwNDU2XHUwNDQ2XHUwNDM1IFx1MDQ0Mlx1MDQ0M1x1MDQ0MjwvYT4iLAoiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6Ilx1MDQxY1x1MDQzMFx1MDQ0OFx1MDQ0Mlx1MDQzMFx1MDQzMSA9IDEgOiAke3NjYWxlRGVub219IixXOiJcdTA0MTciLEU6Ilx1MDQyMyIsTjoiXHUwNDFmXHUwNDNkIixTOiJcdTA0MWZcdTA0MzQiLHJlcHJvamVjdERlcHJlY2F0ZWQ6Ilx1MDQxMlx1MDQ0YiBcdTA0MzJcdTA0NGJcdTA0M2FcdTA0MzBcdTA0NDBcdTA0NGJcdTA0NDFcdTA0NDJcdTA0M2VcdTA0NWVcdTA0MzJcdTA0MzBcdTA0MzVcdTA0NDZcdTA0MzUgXHUwNDVlXHUwNDQxXHUwNDQyXHUwNDMwXHUwNDNkXHUwNDNlXHUwNDVlXHUwNDNhXHUwNDQzICdyZXByb2plY3QnIFx1MDQzNFx1MDQzYlx1MDQ0ZiBcdTA0NDFcdTA0M2JcdTA0M2VcdTA0NGYgJHtsYXllck5hbWV9LiBcdTA0MTNcdTA0NGRcdTA0NDJcdTA0MzBcdTA0NGYgXHUwNDVlXHUwNDQxXHUwNDQyXHUwNDMwXHUwNDNkXHUwNDNlXHUwNDVlXHUwNDNhXHUwNDMwIFx1MDQzN1x1MDQ0Y1x1MDQ0Zlx1MDQ1ZVx1MDQzYlx1MDQ0Zlx1MDQzNVx1MDQ0Nlx1MDQ0Nlx1MDQzMCBcdTA0NDFcdTA0MzBcdTA0NDFcdTA0NDJcdTA0MzBcdTA0NDBcdTA0NGRcdTA0M2JcdTA0MzBcdTA0Mzk6IFx1MDQ0Zlx1MDQzZFx1MDQzMCBcdTA0MzJcdTA0NGJcdTA0M2FcdTA0MzBcdTA0NDBcdTA0NGJcdTA0NDFcdTA0NDJcdTA0M2VcdTA0NWVcdTA0MzJcdTA0MzBcdTA0M2JcdTA0MzBcdTA0NDFcdTA0NGYgXHUwNDM0XHUwNDNiXHUwNDRmIFx1MDQzZlx1MDQzMFx1MDQzNFx1MDQ0Mlx1MDQ0MFx1MDQ0Ylx1MDQzY1x1MDQzYVx1MDQ1NiBcdTA0M2ZcdTA0MzBcdTA0M2FcdTA0MzBcdTA0MzdcdTA0NDMgXHUwNDM3XHUwNDRjXHUwNDMyXHUwNDM1XHUwNDQxXHUwNDQyXHUwNDMwXHUwNDNhIFx1MDQzZFx1MDQzMCBcdTA0M2FcdTA0MzBcdTA0M2NcdTA0NGRcdTA0NDBcdTA0NDZcdTA0NGJcdTA0MzlcdTA0M2RcdTA0NGJcdTA0NDUgXHUwNDMxXHUwNDMwXHUwNDM3XHUwNDMwXHUwNDMyXHUwNDRiXHUwNDQ1IFx1MDQzY1x1MDQzMFx1MDQzZlx1MDQzMFx1MDQ0NSwgXHUwNDMwXHUwNDNiXHUwNDM1IFx1MDQzM1x1MDQ0ZFx1MDQ0Mlx1MDQzMCBcdTA0NDRcdTA0NDNcdTA0M2RcdTA0M2FcdTA0NDZcdTA0NGJcdTA0NGYgXHUwNDQ2XHUwNDRmXHUwNDNmXHUwNDM1XHUwNDQwIFx1MDQ0MFx1MDQ0ZFx1MDQzMFx1MDQzYlx1MDQ1Nlx1MDQzN1x1MDQzMFx1MDQzMlx1MDQzMFx1MDQzZFx1MDQzMFx1MDQ0ZiBcdTA0NWUgXHUwNDQzXHUwNDMxXHUwNDQzXHUwNDM0XHUwNDMwXHUwNDMyXHUwNDMwXHUwNDNkXHUwNDMwXHUwNDM5IFx1MDQzZlx1MDQzMFx1MDQzNFx1MDQ0Mlx1MDQ0MFx1MDQ0Ylx1MDQzY1x1MDQ0Nlx1MDQ0YiBcdTA0NDFcdTA0NDRcdTA0NGRcdTA0NDBcdTA0NGJcdTA0NDdcdTA0M2RcdTA0MzBcdTA0MzkgXHUwNDNmXHUwNDQwXHUwNDMwXHUwNDM1XHUwNDNhXHUwNDQ2XHUwNDRiXHUwNDU2IFx1MDQxY1x1MDQ0ZFx1MDQ0MFx1MDQzYVx1MDQzMFx1MDQ0Mlx1MDQzMFx1MDQ0MFx1MDQzMC4gXHUwNDE0XHUwNDMwXHUwNDM0XHUwNDMwXHUwNDQyXHUwNDNhXHUwNDNlXHUwNDMyXHUwNDMwXHUwNDRmIFx1MDQ1Nlx1MDQzZFx1MDQ0NFx1MDQzMFx1MDQ0MFx1MDQzY1x1MDQzMFx1MDQ0Nlx1MDQ0Ylx1MDQ0ZiBcdTA0NTFcdTA0NDFcdTA0NGNcdTA0NDZcdTA0NGMgXHUwNDNkXHUwNDMwIGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU3BoZXJpY2FsTWVyY2F0b3IuIiwKbWV0aG9kRGVwcmVjYXRlZDoiXHUwNDEzXHUwNDRkXHUwNDQyXHUwNDRiIFx1MDQzY1x1MDQ0ZFx1MDQ0Mlx1MDQzMFx1MDQzNCBcdTA0NDFcdTA0MzBcdTA0NDFcdTA0NDJcdTA0MzBcdTA0NDBcdTA0NGRcdTA0M2JcdTA0NGIgXHUwNDU2IFx1MDQzMVx1MDQ0M1x1MDQzNFx1MDQzN1x1MDQzNSBcdTA0MzJcdTA0NGJcdTA0MzRcdTA0MzBcdTA0M2JcdTA0MzVcdTA0M2RcdTA0NGIgXHUwNDVlIFx1MDQzMlx1MDQ0ZFx1MDQ0MFx1MDQ0MVx1MDQ1Nlx1MDQ1NiAzLjAuIFx1MDQxYVx1MDQzMFx1MDQzYlx1MDQ1NiBcdTA0M2JcdTA0MzBcdTA0NDFcdTA0M2FcdTA0MzAsIFx1MDQzN1x1MDQzMFx1MDQzY1x1MDQzNVx1MDQ0MVx1MDQ0MiBcdTA0NGZcdTA0MzNcdTA0M2UgXHUwNDMyXHUwNDRiXHUwNDNhXHUwNDMwXHUwNDQwXHUwNDRiXHUwNDQxXHUwNDQyXHUwNDNlXHUwNDVlXHUwNDMyXHUwNDMwXHUwNDM5XHUwNDQ2XHUwNDM1ICR7bmV3TWV0aG9kfS4ifSk7T3BlbkxheWVycy5Db250cm9sLldNU0dldEZlYXR1cmVJbmZvPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHtob3ZlcjohMSxkcmlsbERvd246ITEsbWF4RmVhdHVyZXM6MTAsY2xpY2tDYWxsYmFjazoiY2xpY2siLG91dHB1dDoiZmVhdHVyZXMiLGxheWVyczpudWxsLHF1ZXJ5VmlzaWJsZTohMSx1cmw6bnVsbCxsYXllclVybHM6bnVsbCxpbmZvRm9ybWF0OiJ0ZXh0L2h0bWwiLHZlbmRvclBhcmFtczp7fSxmb3JtYXQ6bnVsbCxmb3JtYXRPcHRpb25zOm51bGwsaGFuZGxlcjpudWxsLGhvdmVyUmVxdWVzdDpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7YT1hfHx7fTthLmhhbmRsZXJPcHRpb25zPWEuaGFuZGxlck9wdGlvbnN8fHt9O09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSk7dGhpcy5mb3JtYXR8fCh0aGlzLmZvcm1hdD1uZXcgT3BlbkxheWVycy5Gb3JtYXQuV01TR2V0RmVhdHVyZUluZm8oYS5mb3JtYXRPcHRpb25zKSk7CiEwPT09dGhpcy5kcmlsbERvd24mJih0aGlzLmhvdmVyPSExKTt0aGlzLmhvdmVyP3RoaXMuaGFuZGxlcj1uZXcgT3BlbkxheWVycy5IYW5kbGVyLkhvdmVyKHRoaXMse21vdmU6dGhpcy5jYW5jZWxIb3ZlcixwYXVzZTp0aGlzLmdldEluZm9Gb3JIb3Zlcn0sT3BlbkxheWVycy5VdGlsLmV4dGVuZCh0aGlzLmhhbmRsZXJPcHRpb25zLmhvdmVyfHx7fSx7ZGVsYXk6MjUwfSkpOihhPXt9LGFbdGhpcy5jbGlja0NhbGxiYWNrXT10aGlzLmdldEluZm9Gb3JDbGljayx0aGlzLmhhbmRsZXI9bmV3IE9wZW5MYXllcnMuSGFuZGxlci5DbGljayh0aGlzLGEsdGhpcy5oYW5kbGVyT3B0aW9ucy5jbGlja3x8e30pKX0sZ2V0SW5mb0ZvckNsaWNrOmZ1bmN0aW9uKGEpe3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiYmVmb3JlZ2V0ZmVhdHVyZWluZm8iLHt4eTphLnh5fSk7T3BlbkxheWVycy5FbGVtZW50LmFkZENsYXNzKHRoaXMubWFwLnZpZXdQb3J0RGl2LCJvbEN1cnNvcldhaXQiKTt0aGlzLnJlcXVlc3QoYS54eSwKe30pfSxnZXRJbmZvRm9ySG92ZXI6ZnVuY3Rpb24oYSl7dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJiZWZvcmVnZXRmZWF0dXJlaW5mbyIse3h5OmEueHl9KTt0aGlzLnJlcXVlc3QoYS54eSx7aG92ZXI6ITB9KX0sY2FuY2VsSG92ZXI6ZnVuY3Rpb24oKXt0aGlzLmhvdmVyUmVxdWVzdCYmKHRoaXMuaG92ZXJSZXF1ZXN0LmFib3J0KCksdGhpcy5ob3ZlclJlcXVlc3Q9bnVsbCl9LGZpbmRMYXllcnM6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5sYXllcnN8fHRoaXMubWFwLmxheWVycyxiPVtdLGMsZCxlPWEubGVuZ3RoLTE7MDw9ZTstLWUpaWYoYz1hW2VdLGMgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkxheWVyLldNUyYmKCF0aGlzLnF1ZXJ5VmlzaWJsZXx8Yy5nZXRWaXNpYmlsaXR5KCkpKWQ9T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYy51cmwpP2MudXJsWzBdOmMudXJsLCExPT09dGhpcy5kcmlsbERvd24mJiF0aGlzLnVybCYmKHRoaXMudXJsPWQpLCghMD09PXRoaXMuZHJpbGxEb3dufHwKdGhpcy51cmxNYXRjaGVzKGQpKSYmYi5wdXNoKGMpO3JldHVybiBifSx1cmxNYXRjaGVzOmZ1bmN0aW9uKGEpe3ZhciBiPU9wZW5MYXllcnMuVXRpbC5pc0VxdWl2YWxlbnRVcmwodGhpcy51cmwsYSk7aWYoIWImJnRoaXMubGF5ZXJVcmxzKWZvcih2YXIgYz0wLGQ9dGhpcy5sYXllclVybHMubGVuZ3RoO2M8ZDsrK2MpaWYoT3BlbkxheWVycy5VdGlsLmlzRXF1aXZhbGVudFVybCh0aGlzLmxheWVyVXJsc1tjXSxhKSl7Yj0hMDticmVha31yZXR1cm4gYn0sYnVpbGRXTVNPcHRpb25zOmZ1bmN0aW9uKGEsYixjLGQpe2Zvcih2YXIgZT1bXSxmPVtdLGc9MCxoPWIubGVuZ3RoO2c8aDtnKyspbnVsbCE9YltnXS5wYXJhbXMuTEFZRVJTJiYoZT1lLmNvbmNhdChiW2ddLnBhcmFtcy5MQVlFUlMpLGY9Zi5jb25jYXQodGhpcy5nZXRTdHlsZU5hbWVzKGJbZ10pKSk7Yj1iWzBdO2c9dGhpcy5tYXAuZ2V0UHJvamVjdGlvbigpOyhoPWIucHJvamVjdGlvbikmJmguZXF1YWxzKHRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSkmJgooZz1oLmdldENvZGUoKSk7ZD1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHtzZXJ2aWNlOiJXTVMiLHZlcnNpb246Yi5wYXJhbXMuVkVSU0lPTixyZXF1ZXN0OiJHZXRGZWF0dXJlSW5mbyIsZXhjZXB0aW9uczpiLnBhcmFtcy5FWENFUFRJT05TLGJib3g6dGhpcy5tYXAuZ2V0RXh0ZW50KCkudG9CQk9YKG51bGwsYi5yZXZlcnNlQXhpc09yZGVyKCkpLGZlYXR1cmVfY291bnQ6dGhpcy5tYXhGZWF0dXJlcyxoZWlnaHQ6dGhpcy5tYXAuZ2V0U2l6ZSgpLmgsd2lkdGg6dGhpcy5tYXAuZ2V0U2l6ZSgpLncsZm9ybWF0OmQsaW5mb19mb3JtYXQ6Yi5wYXJhbXMuSU5GT19GT1JNQVR8fHRoaXMuaW5mb0Zvcm1hdH0sMS4zPD1wYXJzZUZsb2F0KGIucGFyYW1zLlZFUlNJT04pP3tjcnM6ZyxpOnBhcnNlSW50KGMueCksajpwYXJzZUludChjLnkpfTp7c3JzOmcseDpwYXJzZUludChjLngpLHk6cGFyc2VJbnQoYy55KX0pOzAhPWUubGVuZ3RoJiYoZD1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHtsYXllcnM6ZSwKcXVlcnlfbGF5ZXJzOmUsc3R5bGVzOmZ9LGQpKTtPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhkLHRoaXMudmVuZG9yUGFyYW1zKTtyZXR1cm57dXJsOmEscGFyYW1zOk9wZW5MYXllcnMuVXRpbC51cHBlckNhc2VPYmplY3QoZCksY2FsbGJhY2s6ZnVuY3Rpb24oYil7dGhpcy5oYW5kbGVSZXNwb25zZShjLGIsYSl9LHNjb3BlOnRoaXN9fSxnZXRTdHlsZU5hbWVzOmZ1bmN0aW9uKGEpe3JldHVybiBhLnBhcmFtcy5TVFlMRVM/YS5wYXJhbXMuU1RZTEVTOk9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGEucGFyYW1zLkxBWUVSUyk/QXJyYXkoYS5wYXJhbXMuTEFZRVJTLmxlbmd0aCk6YS5wYXJhbXMuTEFZRVJTLnJlcGxhY2UoL1teLF0vZywiIil9LHJlcXVlc3Q6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmZpbmRMYXllcnMoKTtpZigwPT1jLmxlbmd0aCl0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoIm5vZ2V0ZmVhdHVyZWluZm8iKSxPcGVuTGF5ZXJzLkVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5tYXAudmlld1BvcnREaXYsCiJvbEN1cnNvcldhaXQiKTtlbHNlIGlmKGI9Ynx8e30sITE9PT10aGlzLmRyaWxsRG93bil7dmFyIGM9dGhpcy5idWlsZFdNU09wdGlvbnModGhpcy51cmwsYyxhLGNbMF0ucGFyYW1zLkZPUk1BVCksZD1PcGVuTGF5ZXJzLlJlcXVlc3QuR0VUKGMpOyEwPT09Yi5ob3ZlciYmKHRoaXMuaG92ZXJSZXF1ZXN0PWQpfWVsc2V7dGhpcy5fbnVtUmVxdWVzdHM9dGhpcy5fcmVxdWVzdENvdW50PTA7dGhpcy5mZWF0dXJlcz1bXTtmb3IodmFyIGQ9e30sZSxmPTAsZz1jLmxlbmd0aDtmPGc7ZisrKXt2YXIgaD1jW2ZdO2U9T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoaC51cmwpP2gudXJsWzBdOmgudXJsO2UgaW4gZD9kW2VdLnB1c2goaCk6KHRoaXMuX251bVJlcXVlc3RzKyssZFtlXT1baF0pfWZvcihlIGluIGQpYz1kW2VdLGM9dGhpcy5idWlsZFdNU09wdGlvbnMoZSxjLGEsY1swXS5wYXJhbXMuRk9STUFUKSxPcGVuTGF5ZXJzLlJlcXVlc3QuR0VUKGMpfX0sdHJpZ2dlckdldEZlYXR1cmVJbmZvOmZ1bmN0aW9uKGEsCmIsYyl7dGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJnZXRmZWF0dXJlaW5mbyIse3RleHQ6YS5yZXNwb25zZVRleHQsZmVhdHVyZXM6YyxyZXF1ZXN0OmEseHk6Yn0pO09wZW5MYXllcnMuRWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm1hcC52aWV3UG9ydERpdiwib2xDdXJzb3JXYWl0Iil9LGhhbmRsZVJlc3BvbnNlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1iLnJlc3BvbnNlWE1MO2lmKCFkfHwhZC5kb2N1bWVudEVsZW1lbnQpZD1iLnJlc3BvbnNlVGV4dDtkPXRoaXMuZm9ybWF0LnJlYWQoZCk7ITE9PT10aGlzLmRyaWxsRG93bj90aGlzLnRyaWdnZXJHZXRGZWF0dXJlSW5mbyhiLGEsZCk6KHRoaXMuX3JlcXVlc3RDb3VudCsrLHRoaXMuX2ZlYXR1cmVzPSJvYmplY3QiPT09dGhpcy5vdXRwdXQ/KHRoaXMuX2ZlYXR1cmVzfHxbXSkuY29uY2F0KHt1cmw6YyxmZWF0dXJlczpkfSk6KHRoaXMuX2ZlYXR1cmVzfHxbXSkuY29uY2F0KGQpLHRoaXMuX3JlcXVlc3RDb3VudD09PXRoaXMuX251bVJlcXVlc3RzJiYKKHRoaXMudHJpZ2dlckdldEZlYXR1cmVJbmZvKGIsYSx0aGlzLl9mZWF0dXJlcy5jb25jYXQoKSksZGVsZXRlIHRoaXMuX2ZlYXR1cmVzLGRlbGV0ZSB0aGlzLl9yZXF1ZXN0Q291bnQsZGVsZXRlIHRoaXMuX251bVJlcXVlc3RzKSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5XTVNHZXRGZWF0dXJlSW5mbyJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5TT1NHZXRGZWF0dXJlT2ZJbnRlcmVzdD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7VkVSU0lPTjoiMS4wLjAiLG5hbWVzcGFjZXM6e3NvczoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9zb3MvMS4wIixnbWw6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sIixzYToiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9zYW1wbGluZy8xLjAiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UifSxzY2hlbWFMb2NhdGlvbjoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9zb3MvMS4wIGh0dHA6Ly9zY2hlbWFzLm9wZW5naXMubmV0L3Nvcy8xLjAuMC9zb3NBbGwueHNkIixkZWZhdWx0UHJlZml4OiJzb3MiLHJlZ0V4ZXM6e3RyaW1TcGFjZTovXlxzKnxccyokL2cscmVtb3ZlU3BhY2U6L1xzKi9nLHNwbGl0U3BhY2U6L1xzKy8sdHJpbUNvbW1hOi9ccyosXHMqL2d9LHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PQp0eXBlb2YgYSYmKGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7YSYmOT09YS5ub2RlVHlwZSYmKGE9YS5kb2N1bWVudEVsZW1lbnQpO3ZhciBiPXtmZWF0dXJlczpbXX07dGhpcy5yZWFkTm9kZShhLGIpO2Zvcih2YXIgYT1bXSxjPTAsZD1iLmZlYXR1cmVzLmxlbmd0aDtjPGQ7YysrKXt2YXIgZT1iLmZlYXR1cmVzW2NdO3RoaXMuaW50ZXJuYWxQcm9qZWN0aW9uJiYodGhpcy5leHRlcm5hbFByb2plY3Rpb24mJmUuY29tcG9uZW50c1swXSkmJmUuY29tcG9uZW50c1swXS50cmFuc2Zvcm0odGhpcy5leHRlcm5hbFByb2plY3Rpb24sdGhpcy5pbnRlcm5hbFByb2plY3Rpb24pO2U9bmV3IE9wZW5MYXllcnMuRmVhdHVyZS5WZWN0b3IoZS5jb21wb25lbnRzWzBdLGUuYXR0cmlidXRlcyk7YS5wdXNoKGUpfXJldHVybiBhfSxyZWFkZXJzOntzYTp7U2FtcGxpbmdQb2ludDpmdW5jdGlvbihhLGIpe2lmKCFiLmF0dHJpYnV0ZXMpe3ZhciBjPQp7YXR0cmlidXRlczp7fX07Yi5mZWF0dXJlcy5wdXNoKGMpO2I9Y31iLmF0dHJpYnV0ZXMuaWQ9dGhpcy5nZXRBdHRyaWJ1dGVOUyhhLHRoaXMubmFtZXNwYWNlcy5nbWwsImlkIik7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxwb3NpdGlvbjpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX19LGdtbDpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7RmVhdHVyZUNvbGxlY3Rpb246ZnVuY3Rpb24oYSxiKXt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYil9LGZlYXR1cmVNZW1iZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz17YXR0cmlidXRlczp7fX07Yi5mZWF0dXJlcy5wdXNoKGMpO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKX0sbmFtZTpmdW5jdGlvbihhLGIpe2IuYXR0cmlidXRlcy5uYW1lPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0scG9zOmZ1bmN0aW9uKGEsYil7dGhpcy5leHRlcm5hbFByb2plY3Rpb258fCh0aGlzLmV4dGVybmFsUHJvamVjdGlvbj1uZXcgT3BlbkxheWVycy5Qcm9qZWN0aW9uKGEuZ2V0QXR0cmlidXRlKCJzcnNOYW1lIikpKTsKT3BlbkxheWVycy5Gb3JtYXQuR01MLnYzLnByb3RvdHlwZS5yZWFkZXJzLmdtbC5wb3MuYXBwbHkodGhpcyxbYSxiXSl9fSxPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjMucHJvdG90eXBlLnJlYWRlcnMuZ21sKX0sd3JpdGVyczp7c29zOntHZXRGZWF0dXJlT2ZJbnRlcmVzdDpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJHZXRGZWF0dXJlT2ZJbnRlcmVzdCIse2F0dHJpYnV0ZXM6e3ZlcnNpb246dGhpcy5WRVJTSU9OLHNlcnZpY2U6IlNPUyIsInhzaTpzY2hlbWFMb2NhdGlvbiI6dGhpcy5zY2hlbWFMb2NhdGlvbn19KSxjPTAsZD1hLmZvaXMubGVuZ3RoO2M8ZDtjKyspdGhpcy53cml0ZU5vZGUoIkZlYXR1cmVPZkludGVyZXN0SWQiLHtmb2k6YS5mb2lzW2NdfSxiKTtyZXR1cm4gYn0sRmVhdHVyZU9mSW50ZXJlc3RJZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJGZWF0dXJlT2ZJbnRlcmVzdElkIix7dmFsdWU6YS5mb2l9KX19fSwKQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuU09TR2V0RmVhdHVyZU9mSW50ZXJlc3QifSk7T3BlbkxheWVycy5Gb3JtYXQuU09TR2V0T2JzZXJ2YXRpb249T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5YTUwse25hbWVzcGFjZXM6e293czoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vd3MiLGdtbDoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwiLHNvczoiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9zb3MvMS4wIixvZ2M6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvb2djIixvbToiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vbS8xLjAiLHNhOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3NhbXBsaW5nLzEuMCIseGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLHhzaToiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UifSxyZWdFeGVzOnt0cmltU3BhY2U6L15ccyp8XHMqJC9nLHJlbW92ZVNwYWNlOi9ccyovZyxzcGxpdFNwYWNlOi9ccysvLHRyaW1Db21tYTovXHMqLFxzKi9nfSxWRVJTSU9OOiIxLjAuMCIsc2NoZW1hTG9jYXRpb246Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvc29zLzEuMCBodHRwOi8vc2NoZW1hcy5vcGVuZ2lzLm5ldC9zb3MvMS4wLjAvc29zR2V0T2JzZXJ2YXRpb24ueHNkIiwKZGVmYXVsdFByZWZpeDoic29zIixyZWFkOmZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYSYmKGE9T3BlbkxheWVycy5Gb3JtYXQuWE1MLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsW2FdKSk7YSYmOT09YS5ub2RlVHlwZSYmKGE9YS5kb2N1bWVudEVsZW1lbnQpO3ZhciBiPXttZWFzdXJlbWVudHM6W10sb2JzZXJ2YXRpb25zOltdfTt0aGlzLnJlYWROb2RlKGEsYik7cmV0dXJuIGJ9LHdyaXRlOmZ1bmN0aW9uKGEpe2E9dGhpcy53cml0ZU5vZGUoInNvczpHZXRPYnNlcnZhdGlvbiIsYSk7YS5zZXRBdHRyaWJ1dGUoInhtbG5zOm9tIix0aGlzLm5hbWVzcGFjZXMub20pO2Euc2V0QXR0cmlidXRlKCJ4bWxuczpvZ2MiLHRoaXMubmFtZXNwYWNlcy5vZ2MpO3RoaXMuc2V0QXR0cmlidXRlTlMoYSx0aGlzLm5hbWVzcGFjZXMueHNpLCJ4c2k6c2NoZW1hTG9jYXRpb24iLHRoaXMuc2NoZW1hTG9jYXRpb24pO3JldHVybiBPcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLndyaXRlLmFwcGx5KHRoaXMsClthXSl9LHJlYWRlcnM6e29tOntPYnNlcnZhdGlvbkNvbGxlY3Rpb246ZnVuY3Rpb24oYSxiKXtiLmlkPXRoaXMuZ2V0QXR0cmlidXRlTlMoYSx0aGlzLm5hbWVzcGFjZXMuZ21sLCJpZCIpO3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sbWVtYmVyOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIpfSxNZWFzdXJlbWVudDpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O2IubWVhc3VyZW1lbnRzLnB1c2goYyk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpfSxPYnNlcnZhdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O2Iub2JzZXJ2YXRpb25zLnB1c2goYyk7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpfSxzYW1wbGluZ1RpbWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTtiLnNhbXBsaW5nVGltZT1jO3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKX0sb2JzZXJ2ZWRQcm9wZXJ0eTpmdW5jdGlvbihhLGIpe2Iub2JzZXJ2ZWRQcm9wZXJ0eT10aGlzLmdldEF0dHJpYnV0ZU5TKGEsdGhpcy5uYW1lc3BhY2VzLnhsaW5rLAoiaHJlZiIpO3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0scHJvY2VkdXJlOmZ1bmN0aW9uKGEsYil7Yi5wcm9jZWR1cmU9dGhpcy5nZXRBdHRyaWJ1dGVOUyhhLHRoaXMubmFtZXNwYWNlcy54bGluaywiaHJlZiIpO3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sZmVhdHVyZU9mSW50ZXJlc3Q6ZnVuY3Rpb24oYSxiKXt2YXIgYz17ZmVhdHVyZXM6W119O2IuZm9pcz1bXTtiLmZvaXMucHVzaChjKTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Zm9yKHZhciBkPVtdLGU9MCxmPWMuZmVhdHVyZXMubGVuZ3RoO2U8ZjtlKyspe3ZhciBnPWMuZmVhdHVyZXNbZV07ZC5wdXNoKG5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKGcuY29tcG9uZW50c1swXSxnLmF0dHJpYnV0ZXMpKX1jLmZlYXR1cmVzPWR9LHJlc3VsdDpmdW5jdGlvbihhLGIpe3ZhciBjPXt9O2IucmVzdWx0PWM7IiIhPT10aGlzLmdldENoaWxkVmFsdWUoYSk/KGMudmFsdWU9dGhpcy5nZXRDaGlsZFZhbHVlKGEpLGMudW9tPQphLmdldEF0dHJpYnV0ZSgidW9tIikpOnRoaXMucmVhZENoaWxkTm9kZXMoYSxjKX19LHNhOk9wZW5MYXllcnMuRm9ybWF0LlNPU0dldEZlYXR1cmVPZkludGVyZXN0LnByb3RvdHlwZS5yZWFkZXJzLnNhLGdtbDpPcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7VGltZUluc3RhbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTtiLnRpbWVJbnN0YW50PWM7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpfSx0aW1lUG9zaXRpb246ZnVuY3Rpb24oYSxiKXtiLnRpbWVQb3NpdGlvbj10aGlzLmdldENoaWxkVmFsdWUoYSl9fSxPcGVuTGF5ZXJzLkZvcm1hdC5TT1NHZXRGZWF0dXJlT2ZJbnRlcmVzdC5wcm90b3R5cGUucmVhZGVycy5nbWwpfSx3cml0ZXJzOntzb3M6e0dldE9ic2VydmF0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiR2V0T2JzZXJ2YXRpb24iLHthdHRyaWJ1dGVzOnt2ZXJzaW9uOnRoaXMuVkVSU0lPTixzZXJ2aWNlOiJTT1MifX0pO3RoaXMud3JpdGVOb2RlKCJvZmZlcmluZyIsCmEsYik7YS5ldmVudFRpbWUmJnRoaXMud3JpdGVOb2RlKCJldmVudFRpbWUiLGEsYik7Zm9yKHZhciBjIGluIGEucHJvY2VkdXJlcyl0aGlzLndyaXRlTm9kZSgicHJvY2VkdXJlIixhLnByb2NlZHVyZXNbY10sYik7Zm9yKHZhciBkIGluIGEub2JzZXJ2ZWRQcm9wZXJ0aWVzKXRoaXMud3JpdGVOb2RlKCJvYnNlcnZlZFByb3BlcnR5IixhLm9ic2VydmVkUHJvcGVydGllc1tkXSxiKTthLmZvaSYmdGhpcy53cml0ZU5vZGUoImZlYXR1cmVPZkludGVyZXN0IixhLmZvaSxiKTt0aGlzLndyaXRlTm9kZSgicmVzcG9uc2VGb3JtYXQiLGEsYik7YS5yZXN1bHRNb2RlbCYmdGhpcy53cml0ZU5vZGUoInJlc3VsdE1vZGVsIixhLGIpO2EucmVzcG9uc2VNb2RlJiZ0aGlzLndyaXRlTm9kZSgicmVzcG9uc2VNb2RlIixhLGIpO3JldHVybiBifSxmZWF0dXJlT2ZJbnRlcmVzdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImZlYXR1cmVPZkludGVyZXN0Iik7dGhpcy53cml0ZU5vZGUoIk9iamVjdElEIiwKYS5vYmplY3RJZCxiKTtyZXR1cm4gYn0sT2JqZWN0SUQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiT2JqZWN0SUQiLHt2YWx1ZTphfSl9LHJlc3BvbnNlRm9ybWF0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInJlc3BvbnNlRm9ybWF0Iix7dmFsdWU6YS5yZXNwb25zZUZvcm1hdH0pfSxwcm9jZWR1cmU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygicHJvY2VkdXJlIix7dmFsdWU6YX0pfSxvZmZlcmluZzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvZmZlcmluZyIse3ZhbHVlOmEub2ZmZXJpbmd9KX0sb2JzZXJ2ZWRQcm9wZXJ0eTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJvYnNlcnZlZFByb3BlcnR5Iix7dmFsdWU6YX0pfSxldmVudFRpbWU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJldmVudFRpbWUiKTsKImxhdGVzdCI9PT1hLmV2ZW50VGltZSYmdGhpcy53cml0ZU5vZGUoIm9nYzpUTV9FcXVhbHMiLGEsYik7cmV0dXJuIGJ9LHJlc3VsdE1vZGVsOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoInJlc3VsdE1vZGVsIix7dmFsdWU6YS5yZXN1bHRNb2RlbH0pfSxyZXNwb25zZU1vZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygicmVzcG9uc2VNb2RlIix7dmFsdWU6YS5yZXNwb25zZU1vZGV9KX19LG9nYzp7VE1fRXF1YWxzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOlRNX0VxdWFscyIpO3RoaXMud3JpdGVOb2RlKCJvZ2M6UHJvcGVydHlOYW1lIix7cHJvcGVydHk6InVybjpvZ2M6ZGF0YTp0aW1lOmlzbzg2MDEifSxiKTsibGF0ZXN0Ij09PWEuZXZlbnRUaW1lJiZ0aGlzLndyaXRlTm9kZSgiZ21sOlRpbWVJbnN0YW50Iix7dmFsdWU6ImxhdGVzdCJ9LGIpO3JldHVybiBifSxQcm9wZXJ0eU5hbWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygib2djOlByb3BlcnR5TmFtZSIsCnt2YWx1ZTphLnByb3BlcnR5fSl9fSxnbWw6e1RpbWVJbnN0YW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ21sOlRpbWVJbnN0YW50Iik7dGhpcy53cml0ZU5vZGUoImdtbDp0aW1lUG9zaXRpb24iLGEsYik7cmV0dXJuIGJ9LHRpbWVQb3NpdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJnbWw6dGltZVBvc2l0aW9uIix7dmFsdWU6YS52YWx1ZX0pfX19LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LlNPU0dldE9ic2VydmF0aW9uIn0pO09wZW5MYXllcnMuTGFuZ1siY3MtQ1oiXT1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7dW5oYW5kbGVkUmVxdWVzdDoiTmV6cHJhY292YW5cdTAwZTEgblx1MDBlMXZyYXRvdlx1MDBlMSBob2Rub3RhICR7c3RhdHVzVGV4dH0iLFBlcm1hbGluazoiVHJ2YWxcdTAwZmQgb2RrYXoiLE92ZXJsYXlzOiJQXHUwMTU5ZWtyeXZuXHUwMGU5IHZyc3R2eSIsIkJhc2UgTGF5ZXIiOiJQb2RrbGFkb3ZcdTAwZTkgdnJzdHZ5Iixub0ZJRDoiTmVsemUgYWt0dWFsaXpvdmF0IHBydmVrLCBwcm8ga3Rlclx1MDBmZCBuZWV4aXN0dWplIEZJRC4iLGJyb3dzZXJOb3RTdXBwb3J0ZWQ6IlZcdTAwZTFcdTAxNjEgcHJvaGxcdTAwZWRcdTAxN2VlXHUwMTBkIG5lcG9kcG9ydWplIHZ5a3Jlc2xvdlx1MDBlMW5cdTAwZWQgdmVrdG9yXHUwMTZmLiBNb21lbnRcdTAwZTFsblx1MDExYiBwb2Rwb3JvdmFuXHUwMGU5IG5cdTAwZTFzdHJvamUganNvdTo6XG4ke3JlbmRlcmVyc30iLG1pblpvb21MZXZlbEVycm9yOiJWbGFzdG5vc3QgbWluWm9vbUxldmVsIGJ5IHNlIG1cdTAxMWJsYSBwb3VcdTAxN2VcdTAwZWR2YXQgcG91emUgcyBwb3RvbWt5IEZpeGVkWm9vbUxldmVscyB2cnN0dmFtaS4gVG8gem5hbWVuXHUwMGUxLCBcdTAxN2VlIHZyc3R2YSB3ZnMga29udHJvbHVqZSwgemRhLWxpIG1pblpvb21MZXZlbCBuZW5cdTAwZWQgemJ5dGVrIHogbWludWxvc3RpLk5lbHplIHRvIG92XHUwMTYxZW0gdnlqbW91dCBiZXogbW9cdTAxN2Vub3N0aSwgXHUwMTdlZSBieWNob20gcm96YmlsaSBhcGxpa2FjZSBwb3N0YXZlblx1MDBlOSBuYSBPTCwga3Rlclx1MDBlOSBieSBuYSB0b20gbW9obHkgelx1MDBlMXZpc2V0LiBQcm90byB0dXRvIHZsYXN0bm9zdCBuZWRvcG9ydVx1MDEwZHVqZW1lIHBvdVx1MDE3ZVx1MDBlZHZhdCAtLSAga29udHJvbGEgbWluWm9vbUxldmVsIGJ1ZGUgb2RzdHJhblx1MDExYm5hIHZlIHZlcnppIDMuMC4gUG91XHUwMTdlaWp0ZSBwcm9zXHUwMGVkbSByYWRcdTAxMWJqaSBuYXN0YXZlblx1MDBlZCBtaW4vbWF4IHBvZGxlIHBcdTAxNTlcdTAwZWRrYWxkdSBwb3BzYW5cdTAwZTlobyBuYTogaHR0cDovL3RyYWMub3BlbmxheWVycy5vcmcvd2lraS9TZXR0aW5nWm9vbUxldmVscyIsCmNvbW1pdFN1Y2Nlc3M6IldGUyBUcmFuc2FjdGlvbjogXHUwMGRhU1BcdTAxMWFDSCAke3Jlc3BvbnNlfSIsY29tbWl0RmFpbGVkOiJXRlMgVHJhbnNhY3Rpb246IENIWUJBICR7cmVzcG9uc2V9Iixnb29nbGVXYXJuaW5nOiJOZXBvZGFcdTAxNTlpbG8gc2Ugc3ByXHUwMGUxdm5cdTAxMWIgbmFcdTAxMGRcdTAwZWRzdCB2cnN0dnUgR29vZ2xlLjxicj48YnI+QWJ5c3RlIHNlIHpiYXZpbGkgdFx1MDBlOXRvIHpwclx1MDBlMXZ5LCB6dm9sdGUgamlub3Ugelx1MDBlMWtsYWRuXHUwMGVkIHZyc3R2dSB2IHBcdTAxNTllcFx1MDBlZG5hXHUwMTBkaSB2cnN0ZXYuPGJyPjxicj5UbyBzZSB2XHUwMTFidFx1MDE2MWlub3Ugc3RcdTAwZTF2XHUwMGUxLCBwb2t1ZCBuZWJ5bCBuYVx1MDEwZHRlbiBza3JpcHQsIG5lYm8gbmVvYnNhaHVqZSBzcHJcdTAwZTF2blx1MDBmZCBrbFx1MDBlZFx1MDEwZCBwcm8gQVBJIHBybyB0dXRvIHN0clx1MDBlMW5rdS48YnI+PGJyPlZcdTAwZmR2b2pcdTAwZTFcdTAxNTlpOiBQcm8gcG9tb2MsIGFieSB0b2hsZSBmdW5nb3ZhbG8gLCA8YSBocmVmPSdodHRwOi8vdHJhYy5vcGVubGF5ZXJzLm9yZy93aWtpL0dvb2dsZScgdGFyZ2V0PSdfYmxhbmsnPmtsaWtuXHUwMTFidGUgc2VtPC9hPiIsCmdldExheWVyV2FybmluZzoiVGhlICR7bGF5ZXJUeXBlfSBMYXllciB3YXMgdW5hYmxlIHRvIGxvYWQgY29ycmVjdGx5Ljxicj48YnI+VG8gZ2V0IHJpZCBvZiB0aGlzIG1lc3NhZ2UsIHNlbGVjdCBhIG5ldyBCYXNlTGF5ZXIgaW4gdGhlIGxheWVyIHN3aXRjaGVyIGluIHRoZSB1cHBlci1yaWdodCBjb3JuZXIuPGJyPjxicj5Nb3N0IGxpa2VseSwgdGhpcyBpcyBiZWNhdXNlIHRoZSAke2xheWVyTGlifSBsaWJyYXJ5IHNjcmlwdCB3YXMgZWl0aGVyIG5vdCBjb3JyZWN0bHkgaW5jbHVkZWQuPGJyPjxicj5EZXZlbG9wZXJzOiBGb3IgaGVscCBnZXR0aW5nIHRoaXMgd29ya2luZyBjb3JyZWN0bHksIDxhIGhyZWY9J2h0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvJHtsYXllckxpYn0nIHRhcmdldD0nX2JsYW5rJz5jbGljayBoZXJlPC9hPiIsIlNjYWxlID0gMSA6ICR7c2NhbGVEZW5vbX0iOiJNXHUwMTFiXHUwMTU5XHUwMGVkdGtvID0gMSA6ICR7c2NhbGVEZW5vbX0iLHJlcHJvamVjdERlcHJlY2F0ZWQ6IlBvdVx1MDE3ZWlsIGpzdGUgdm9sYnUgJ3JlcHJvamVjdCcgdmUgdnJzdHZcdTAxMWIgJHtsYXllck5hbWV9LiBUYXRvIHZvbGJhIG5lblx1MDBlZCBkb3BvcnVcdTAxMGRlblx1MDBlMTogYnlsYSB6ZGUgcHJvdG8sIGFieSBieWxvIG1vXHUwMTdlbm8gem9icmF6b3ZhdCBkYXRhIHogb2tvbWVyXHUwMTBkblx1MDBlZGNoIHNlcnZlclx1MDE2ZiwgYWxlIHRhdG8gZnVua2NlIGplIG55blx1MDBlZCB6YWppXHUwMTYxdFx1MDExYm5hIHBvbW9jXHUwMGVkIHBvZHBvcnkgU3BoZXJpY2FsIE1lcmNhdG9yLiBWXHUwMGVkY2UgaW5mb3JtYWNcdTAwZWQgbmFsZXpuZXRlIG5hIGh0dHA6Ly90cmFjLm9wZW5sYXllcnMub3JnL3dpa2kvU3BoZXJpY2FsTWVyY2F0b3IuIiwKbWV0aG9kRGVwcmVjYXRlZDoiVGF0byBtZXRvZGEgamUgemF2clx1MDE3ZWVuXHUwMGUxIGEgYnVkZSB2ZSB2ZXJ6aSAzLjAgb2RzdHJhblx1MDExYm5hLiBQcm9zXHUwMGVkbSwgcG91XHUwMTdlaWp0ZSByYWRcdTAxMWJqaSAke25ld01ldGhvZH0uIn0pO09wZW5MYXllcnMuQ29udHJvbC5VVEZHcmlkPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHthdXRvQWN0aXZhdGU6ITAsbGF5ZXJzOm51bGwsZGVmYXVsdEhhbmRsZXJPcHRpb25zOntkZWxheTozMDAscGl4ZWxUb2xlcmFuY2U6NCxzdG9wTW92ZTohMSxzaW5nbGU6ITAsImRvdWJsZSI6ITEsc3RvcFNpbmdsZTohMSxzdG9wRG91YmxlOiExfSxoYW5kbGVyTW9kZToiY2xpY2siLHNldEhhbmRsZXI6ZnVuY3Rpb24oYSl7dGhpcy5oYW5kbGVyTW9kZT1hO3RoaXMucmVzZXRIYW5kbGVyKCl9LHJlc2V0SGFuZGxlcjpmdW5jdGlvbigpe3RoaXMuaGFuZGxlciYmKHRoaXMuaGFuZGxlci5kZWFjdGl2YXRlKCksdGhpcy5oYW5kbGVyLmRlc3Ryb3koKSx0aGlzLmhhbmRsZXI9bnVsbCk7ImhvdmVyIj09dGhpcy5oYW5kbGVyTW9kZT90aGlzLmhhbmRsZXI9bmV3IE9wZW5MYXllcnMuSGFuZGxlci5Ib3Zlcih0aGlzLHtwYXVzZTp0aGlzLmhhbmRsZUV2ZW50LG1vdmU6dGhpcy5yZXNldH0sCnRoaXMuaGFuZGxlck9wdGlvbnMpOiJjbGljayI9PXRoaXMuaGFuZGxlck1vZGU/dGhpcy5oYW5kbGVyPW5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuQ2xpY2sodGhpcyx7Y2xpY2s6dGhpcy5oYW5kbGVFdmVudH0sdGhpcy5oYW5kbGVyT3B0aW9ucyk6Im1vdmUiPT10aGlzLmhhbmRsZXJNb2RlJiYodGhpcy5oYW5kbGVyPW5ldyBPcGVuTGF5ZXJzLkhhbmRsZXIuSG92ZXIodGhpcyx7cGF1c2U6dGhpcy5oYW5kbGVFdmVudCxtb3ZlOnRoaXMuaGFuZGxlRXZlbnR9LHRoaXMuaGFuZGxlck9wdGlvbnMpKTtyZXR1cm4gdGhpcy5oYW5kbGVyPyEwOiExfSxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe2E9YXx8e307YS5oYW5kbGVyT3B0aW9ucz1hLmhhbmRsZXJPcHRpb25zfHx0aGlzLmRlZmF1bHRIYW5kbGVyT3B0aW9ucztPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pO3RoaXMucmVzZXRIYW5kbGVyKCl9LGhhbmRsZUV2ZW50OmZ1bmN0aW9uKGEpe2lmKG51bGw9PQphKXRoaXMucmVzZXQoKTtlbHNle3ZhciBiPXRoaXMubWFwLmdldExvbkxhdEZyb21QaXhlbChhLnh5KTtpZihiKXt2YXIgYz10aGlzLmZpbmRMYXllcnMoKTtpZigwPGMubGVuZ3RoKXtmb3IodmFyIGQ9e30sZSxmLGc9MCxoPWMubGVuZ3RoO2c8aDtnKyspZT1jW2ddLGY9T3BlbkxheWVycy5VdGlsLmluZGV4T2YodGhpcy5tYXAubGF5ZXJzLGUpLGRbZl09ZS5nZXRGZWF0dXJlSW5mbyhiKTt0aGlzLmNhbGxiYWNrKGQsYixhLnh5KX19fX0sY2FsbGJhY2s6ZnVuY3Rpb24oKXt9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5jYWxsYmFjayhudWxsKX0sZmluZExheWVyczpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmxheWVyc3x8dGhpcy5tYXAubGF5ZXJzLGI9W10sYyxkPWEubGVuZ3RoLTE7MDw9ZDstLWQpYz1hW2RdLGMgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLkxheWVyLlVURkdyaWQmJmIucHVzaChjKTtyZXR1cm4gYn0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLlVURkdyaWQifSk7T3BlbkxheWVycy5Gb3JtYXQuQ1FMPWZ1bmN0aW9uKCl7dmFyIGE9e1BST1BFUlRZOi9eW19hLXpBLVpdXHcqLyxDT01QQVJJU09OOi9eKD18PD58PD18PHw+PXw+fExJS0UpL2ksSVNfTlVMTDovXklTIE5VTEwvaSxDT01NQTovXiwvLExPR0lDQUw6L14oQU5EfE9SKS9pLFZBTFVFOi9eKCcoW14nXXwnJykqJ3xcZCsoXC5cZCopP3xcLlxkKykvLExQQVJFTjovXlwoLyxSUEFSRU46L15cKS8sU1BBVElBTDovXihCQk9YfElOVEVSU0VDVFN8RFdJVEhJTnxXSVRISU58Q09OVEFJTlMpL2ksTk9UOi9eTk9UL2ksQkVUV0VFTjovXkJFVFdFRU4vaSxHRU9NRVRSWTpmdW5jdGlvbihhKXt2YXIgYj0vXihQT0lOVHxMSU5FU1RSSU5HfFBPTFlHT058TVVMVElQT0lOVHxNVUxUSUxJTkVTVFJJTkd8TVVMVElQT0xZR09OfEdFT01FVFJZQ09MTEVDVElPTikvLmV4ZWMoYSk7aWYoYil7dmFyIGM9YS5sZW5ndGgsYj1hLmluZGV4T2YoIigiLGJbMF0ubGVuZ3RoKTtpZigtMTxiKWZvcih2YXIgZD0xO2I8CmMmJjA8ZDspc3dpdGNoKGIrKyxhLmNoYXJBdChiKSl7Y2FzZSAiKCI6ZCsrO2JyZWFrO2Nhc2UgIikiOmQtLX1yZXR1cm5bYS5zdWJzdHIoMCxiKzEpXX19LEVORDovXiQvfSxiPXtMUEFSRU46WyJHRU9NRVRSWSIsIlNQQVRJQUwiLCJQUk9QRVJUWSIsIlZBTFVFIiwiTFBBUkVOIl0sUlBBUkVOOlsiTk9UIiwiTE9HSUNBTCIsIkVORCIsIlJQQVJFTiJdLFBST1BFUlRZOlsiQ09NUEFSSVNPTiIsIkJFVFdFRU4iLCJDT01NQSIsIklTX05VTEwiXSxCRVRXRUVOOlsiVkFMVUUiXSxJU19OVUxMOlsiRU5EIl0sQ09NUEFSSVNPTjpbIlZBTFVFIl0sQ09NTUE6WyJHRU9NRVRSWSIsIlZBTFVFIiwiUFJPUEVSVFkiXSxWQUxVRTpbIkxPR0lDQUwiLCJDT01NQSIsIlJQQVJFTiIsIkVORCJdLFNQQVRJQUw6WyJMUEFSRU4iXSxMT0dJQ0FMOlsiTk9UIiwiVkFMVUUiLCJTUEFUSUFMIiwiUFJPUEVSVFkiLCJMUEFSRU4iXSxOT1Q6WyJQUk9QRVJUWSIsIkxQQVJFTiJdLEdFT01FVFJZOlsiQ09NTUEiLAoiUlBBUkVOIl19LGM9eyI9IjpPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLkVRVUFMX1RPLCI8PiI6T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5OT1RfRVFVQUxfVE8sIjwiOk9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uTEVTU19USEFOLCI8PSI6T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5MRVNTX1RIQU5fT1JfRVFVQUxfVE8sIj4iOk9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uR1JFQVRFUl9USEFOLCI+PSI6T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5HUkVBVEVSX1RIQU5fT1JfRVFVQUxfVE8sTElLRTpPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLkxJS0UsQkVUV0VFTjpPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uLkJFVFdFRU4sIklTIE5VTEwiOk9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uSVNfTlVMTH0sZD17fSxlPXtBTkQ6T3BlbkxheWVycy5GaWx0ZXIuTG9naWNhbC5BTkQsT1I6T3BlbkxheWVycy5GaWx0ZXIuTG9naWNhbC5PUn0sCmY9e30sZz17UlBBUkVOOjMsTE9HSUNBTDoyLENPTVBBUklTT046MX0saDtmb3IoaCBpbiBjKWMuaGFzT3duUHJvcGVydHkoaCkmJihkW2NbaF1dPWgpO2ZvcihoIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShoKSYmKGZbZVtoXV09aCk7cmV0dXJuIE9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQse3JlYWQ6ZnVuY3Rpb24oZCl7dmFyIGY9ZCxkPVtdLGgsbD1bIk5PVCIsIkdFT01FVFJZIiwiU1BBVElBTCIsIlBST1BFUlRZIiwiTFBBUkVOIl07ZG97YTp7aD1sO2Zvcih2YXIgbT12b2lkIDAsbD12b2lkIDAsbj1oLmxlbmd0aCxtPTA7bTxuO20rKyl7dmFyIGw9aFttXSxwPWFbbF1pbnN0YW5jZW9mIFJlZ0V4cD9hW2xdLmV4ZWMoZik6KDAsYVtsXSkoZik7aWYocCl7aD1wWzBdO2Y9Zi5zdWJzdHIoaC5sZW5ndGgpLnJlcGxhY2UoL15ccyovLCIiKTtoPXt0eXBlOmwsdGV4dDpoLHJlbWFpbmRlcjpmfTticmVhayBhfX1kPSJFUlJPUjogSW4gcGFyc2luZzogWyIrZisiXSwgZXhwZWN0ZWQgb25lIG9mOiAiOwpmb3IobT0wO208bjttKyspbD1oW21dLGQrPSJcbiAgICAiK2wrIjogIithW2xdO3Rocm93IEVycm9yKGQpO31mPWgucmVtYWluZGVyO2w9YltoLnR5cGVdO2lmKCJFTkQiIT1oLnR5cGUmJiFsKXRocm93IEVycm9yKCJObyBmb2xsb3dzIGxpc3QgZm9yICIraC50eXBlKTtkLnB1c2goaCl9d2hpbGUoIkVORCIhPWgudHlwZSk7Zm9yKHZhciBxPWZ1bmN0aW9uKCl7dmFyIGE9ci5wb3AoKTtzd2l0Y2goYS50eXBlKXtjYXNlICJMT0dJQ0FMIjp2YXIgYj1xKCksZD1xKCk7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkZpbHRlci5Mb2dpY2FsKHtmaWx0ZXJzOltkLGJdLHR5cGU6ZVthLnRleHQudG9VcHBlckNhc2UoKV19KTtjYXNlICJOT1QiOnJldHVybiBhPXEoKSxuZXcgT3BlbkxheWVycy5GaWx0ZXIuTG9naWNhbCh7ZmlsdGVyczpbYV0sdHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5Mb2dpY2FsLk5PVH0pO2Nhc2UgIkJFVFdFRU4iOnJldHVybiByLnBvcCgpLGQ9cSgpLGE9cSgpLGI9cSgpLG5ldyBPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uKHtwcm9wZXJ0eTpiLApsb3dlckJvdW5kYXJ5OmEsdXBwZXJCb3VuZGFyeTpkLHR5cGU6T3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbi5CRVRXRUVOfSk7Y2FzZSAiQ09NUEFSSVNPTiI6cmV0dXJuIGQ9cSgpLGI9cSgpLG5ldyBPcGVuTGF5ZXJzLkZpbHRlci5Db21wYXJpc29uKHtwcm9wZXJ0eTpiLHZhbHVlOmQsdHlwZTpjW2EudGV4dC50b1VwcGVyQ2FzZSgpXX0pO2Nhc2UgIklTX05VTEwiOnJldHVybiBiPXEoKSxuZXcgT3BlbkxheWVycy5GaWx0ZXIuQ29tcGFyaXNvbih7cHJvcGVydHk6Yix0eXBlOmNbYS50ZXh0LnRvVXBwZXJDYXNlKCldfSk7Y2FzZSAiVkFMVUUiOnJldHVybihiPWEudGV4dC5tYXRjaCgvXicoLiopJyQvKSk/YlsxXS5yZXBsYWNlKC8nJy9nLCInIik6TnVtYmVyKGEudGV4dCk7Y2FzZSAiU1BBVElBTCI6c3dpdGNoKGEudGV4dC50b1VwcGVyQ2FzZSgpKXtjYXNlICJCQk9YIjp2YXIgYT1xKCksYj1xKCksZD1xKCksZj1xKCksZz1xKCk7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsKHt0eXBlOk9wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwuQkJPWCwKcHJvcGVydHk6Zyx2YWx1ZTpPcGVuTGF5ZXJzLkJvdW5kcy5mcm9tQXJyYXkoW2YsZCxiLGFdKX0pO2Nhc2UgIklOVEVSU0VDVFMiOnJldHVybiBkPXEoKSxiPXEoKSxuZXcgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbCh7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsLklOVEVSU0VDVFMscHJvcGVydHk6Yix2YWx1ZTpkfSk7Y2FzZSAiV0lUSElOIjpyZXR1cm4gZD1xKCksYj1xKCksbmV3IE9wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwoe3R5cGU6T3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5XSVRISU4scHJvcGVydHk6Yix2YWx1ZTpkfSk7Y2FzZSAiQ09OVEFJTlMiOnJldHVybiBkPXEoKSxiPXEoKSxuZXcgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbCh7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsLkNPTlRBSU5TLHByb3BlcnR5OmIsdmFsdWU6ZH0pO2Nhc2UgIkRXSVRISU4iOnJldHVybiBhPXEoKSxkPXEoKSxiPXEoKSxuZXcgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbCh7dHlwZTpPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsLkRXSVRISU4sCnZhbHVlOmQscHJvcGVydHk6YixkaXN0YW5jZTpOdW1iZXIoYSl9KX1jYXNlICJHRU9NRVRSWSI6cmV0dXJuIE9wZW5MYXllcnMuR2VvbWV0cnkuZnJvbVdLVChhLnRleHQpO2RlZmF1bHQ6cmV0dXJuIGEudGV4dH19LGw9W10scj1bXTtkLmxlbmd0aDspc3dpdGNoKGY9ZC5zaGlmdCgpLGYudHlwZSl7Y2FzZSAiUFJPUEVSVFkiOmNhc2UgIkdFT01FVFJZIjpjYXNlICJWQUxVRSI6ci5wdXNoKGYpO2JyZWFrO2Nhc2UgIkNPTVBBUklTT04iOmNhc2UgIkJFVFdFRU4iOmNhc2UgIklTX05VTEwiOmNhc2UgIkxPR0lDQUwiOmZvcihoPWdbZi50eXBlXTswPGwubGVuZ3RoJiZnW2xbbC5sZW5ndGgtMV0udHlwZV08PWg7KXIucHVzaChsLnBvcCgpKTtsLnB1c2goZik7YnJlYWs7Y2FzZSAiU1BBVElBTCI6Y2FzZSAiTk9UIjpjYXNlICJMUEFSRU4iOmwucHVzaChmKTticmVhaztjYXNlICJSUEFSRU4iOmZvcig7MDxsLmxlbmd0aCYmIkxQQVJFTiIhPWxbbC5sZW5ndGgtMV0udHlwZTspci5wdXNoKGwucG9wKCkpOwpsLnBvcCgpOzA8bC5sZW5ndGgmJiJTUEFUSUFMIj09bFtsLmxlbmd0aC0xXS50eXBlJiZyLnB1c2gobC5wb3AoKSk7Y2FzZSAiQ09NTUEiOmNhc2UgIkVORCI6YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcigiVW5rbm93biB0b2tlbiB0eXBlICIrZi50eXBlKTt9Zm9yKDswPGwubGVuZ3RoOylyLnB1c2gobC5wb3AoKSk7ZD1xKCk7aWYoMDxyLmxlbmd0aCl7ZD0iUmVtYWluaW5nIHRva2VucyBhZnRlciBidWlsZGluZyBBU1Q6IFxuIjtmb3IobD1yLmxlbmd0aC0xOzA8PWw7bC0tKWQrPXJbbF0udHlwZSsiOiAiK3JbbF0udGV4dCsiXG4iO3Rocm93IEVycm9yKGQpO310aGlzLmtlZXBEYXRhJiYodGhpcy5kYXRhPWQpO3JldHVybiBkfSx3cml0ZTpmdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgT3BlbkxheWVycy5HZW9tZXRyeSlyZXR1cm4gYS50b1N0cmluZygpO3N3aXRjaChhLkNMQVNTX05BTUUpe2Nhc2UgIk9wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwiOnN3aXRjaChhLnR5cGUpe2Nhc2UgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5CQk9YOnJldHVybiJCQk9YKCIrCmEucHJvcGVydHkrIiwiK2EudmFsdWUudG9CQk9YKCkrIikiO2Nhc2UgT3BlbkxheWVycy5GaWx0ZXIuU3BhdGlhbC5EV0lUSElOOnJldHVybiJEV0lUSElOKCIrYS5wcm9wZXJ0eSsiLCAiK3RoaXMud3JpdGUoYS52YWx1ZSkrIiwgIithLmRpc3RhbmNlKyIpIjtjYXNlIE9wZW5MYXllcnMuRmlsdGVyLlNwYXRpYWwuV0lUSElOOnJldHVybiJXSVRISU4oIithLnByb3BlcnR5KyIsICIrdGhpcy53cml0ZShhLnZhbHVlKSsiKSI7Y2FzZSBPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsLklOVEVSU0VDVFM6cmV0dXJuIklOVEVSU0VDVFMoIithLnByb3BlcnR5KyIsICIrdGhpcy53cml0ZShhLnZhbHVlKSsiKSI7Y2FzZSBPcGVuTGF5ZXJzLkZpbHRlci5TcGF0aWFsLkNPTlRBSU5TOnJldHVybiJDT05UQUlOUygiK2EucHJvcGVydHkrIiwgIit0aGlzLndyaXRlKGEudmFsdWUpKyIpIjtkZWZhdWx0OnRocm93IEVycm9yKCJVbmtub3duIHNwYXRpYWwgZmlsdGVyIHR5cGU6ICIrYS50eXBlKTsKfWNhc2UgIk9wZW5MYXllcnMuRmlsdGVyLkxvZ2ljYWwiOmlmKGEudHlwZT09T3BlbkxheWVycy5GaWx0ZXIuTG9naWNhbC5OT1QpcmV0dXJuIk5PVCAoIit0aGlzLndyaXRlKGEuZmlsdGVyc1swXSkrIikiO2Zvcih2YXIgYj0iKCIsYz0hMCxlPTA7ZTxhLmZpbHRlcnMubGVuZ3RoO2UrKyljP2M9ITE6Yis9IikgIitmW2EudHlwZV0rIiAoIixiKz10aGlzLndyaXRlKGEuZmlsdGVyc1tlXSk7cmV0dXJuIGIrIikiO2Nhc2UgIk9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24iOnJldHVybiBhLnR5cGU9PU9wZW5MYXllcnMuRmlsdGVyLkNvbXBhcmlzb24uQkVUV0VFTj9hLnByb3BlcnR5KyIgQkVUV0VFTiAiK3RoaXMud3JpdGUoYS5sb3dlckJvdW5kYXJ5KSsiIEFORCAiK3RoaXMud3JpdGUoYS51cHBlckJvdW5kYXJ5KTpudWxsIT09YS52YWx1ZT9hLnByb3BlcnR5KyIgIitkW2EudHlwZV0rIiAiK3RoaXMud3JpdGUoYS52YWx1ZSk6YS5wcm9wZXJ0eSsiICIrZFthLnR5cGVdO2Nhc2Ugdm9pZCAwOmlmKCJzdHJpbmciPT09CnR5cGVvZiBhKXJldHVybiInIithLnJlcGxhY2UoLycvZywiJyciKSsiJyI7aWYoIm51bWJlciI9PT10eXBlb2YgYSlyZXR1cm4gU3RyaW5nKGEpO2RlZmF1bHQ6dGhyb3cgRXJyb3IoIkNhbid0IGVuY29kZTogIithLkNMQVNTX05BTUUrIiAiK2EpO319LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LkNRTCJ9KX0oKTtPcGVuTGF5ZXJzLkNsYXNzLmlzUHJvdG90eXBlPWZ1bmN0aW9uKCl7fTtPcGVuTGF5ZXJzLkNsYXNzLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe2FyZ3VtZW50cyYmYXJndW1lbnRzWzBdIT1PcGVuTGF5ZXJzLkNsYXNzLmlzUHJvdG90eXBlJiZ0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX07T3BlbkxheWVycy5DbGFzcy5pbmhlcml0PWZ1bmN0aW9uKGEpe3ZhciBiPWZ1bmN0aW9uKCl7YS5jYWxsKHRoaXMpfSxjPVtiXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7T3BlbkxheWVycy5pbmhlcml0LmFwcGx5KG51bGwsYyk7cmV0dXJuIGIucHJvdG90eXBlfTtPcGVuTGF5ZXJzLlV0aWwuY2xlYXJBcnJheT1mdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkNvbnNvbGUud2FybihPcGVuTGF5ZXJzLmkxOG4oIm1ldGhvZERlcHJlY2F0ZWQiLHtuZXdNZXRob2Q6ImFycmF5ID0gW10ifSkpO2EubGVuZ3RoPTB9OwpPcGVuTGF5ZXJzLlV0aWwuc2V0T3BhY2l0eT1mdW5jdGlvbihhLGIpe09wZW5MYXllcnMuVXRpbC5tb2RpZnlET01FbGVtZW50KGEsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsYil9O09wZW5MYXllcnMuVXRpbC5zYWZlU3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRXZlbnQuc3RvcChhLCEwKX07T3BlbkxheWVycy5VdGlsLmdldEFyZ3M9ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db25zb2xlLndhcm4oT3BlbkxheWVycy5pMThuKCJtZXRob2REZXByZWNhdGVkIix7bmV3TWV0aG9kOiJPcGVuTGF5ZXJzLlV0aWwuZ2V0UGFyYW1ldGVycyJ9KSk7cmV0dXJuIE9wZW5MYXllcnMuVXRpbC5nZXRQYXJhbWV0ZXJzKGEpfTsidW5kZWZpbmVkIj09PXR5cGVvZiB3aW5kb3cuJCYmKHdpbmRvdy4kPU9wZW5MYXllcnMuVXRpbC5nZXRFbGVtZW50KTsKT3BlbkxheWVycy5udWxsSGFuZGxlcj1mdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkNvbnNvbGUudXNlckVycm9yKE9wZW5MYXllcnMuaTE4bigidW5oYW5kbGVkUmVxdWVzdCIse3N0YXR1c1RleHQ6YS5zdGF0dXNUZXh0fSkpfTtPcGVuTGF5ZXJzLmxvYWRVUkw9ZnVuY3Rpb24oYSxiLGMsZCxlKXsic3RyaW5nIj09dHlwZW9mIGImJihiPU9wZW5MYXllcnMuVXRpbC5nZXRQYXJhbWV0ZXJzKGIpKTtyZXR1cm4gT3BlbkxheWVycy5SZXF1ZXN0LkdFVCh7dXJsOmEscGFyYW1zOmIsc3VjY2VzczpkP2Q6T3BlbkxheWVycy5udWxsSGFuZGxlcixmYWlsdXJlOmU/ZTpPcGVuTGF5ZXJzLm51bGxIYW5kbGVyLHNjb3BlOmN9KX07Ck9wZW5MYXllcnMucGFyc2VYTUxTdHJpbmc9ZnVuY3Rpb24oYSl7dmFyIGI9YS5pbmRleE9mKCI8Iik7MDxiJiYoYT1hLnN1YnN0cmluZyhiKSk7cmV0dXJuIE9wZW5MYXllcnMuVXRpbC5UcnkoZnVuY3Rpb24oKXt2YXIgYj1uZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTERPTSIpO2IubG9hZFhNTChhKTtyZXR1cm4gYn0sZnVuY3Rpb24oKXtyZXR1cm4obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGEsInRleHQveG1sIil9LGZ1bmN0aW9uKCl7dmFyIGI9bmV3IFhNTEh0dHBSZXF1ZXN0O2Iub3BlbigiR0VUIiwiZGF0YTp0ZXh0L3htbDtjaGFyc2V0PXV0Zi04LCIrZW5jb2RlVVJJQ29tcG9uZW50KGEpLCExKTtiLm92ZXJyaWRlTWltZVR5cGUmJmIub3ZlcnJpZGVNaW1lVHlwZSgidGV4dC94bWwiKTtiLnNlbmQobnVsbCk7cmV0dXJuIGIucmVzcG9uc2VYTUx9KX07Ck9wZW5MYXllcnMuQWpheD17ZW1wdHlGdW5jdGlvbjpmdW5jdGlvbigpe30sZ2V0VHJhbnNwb3J0OmZ1bmN0aW9uKCl7cmV0dXJuIE9wZW5MYXllcnMuVXRpbC5UcnkoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0fSxmdW5jdGlvbigpe3JldHVybiBuZXcgQWN0aXZlWE9iamVjdCgiTXN4bWwyLlhNTEhUVFAiKX0sZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxIVFRQIil9KXx8ITF9LGFjdGl2ZVJlcXVlc3RDb3VudDowfTsKT3BlbkxheWVycy5BamF4LlJlc3BvbmRlcnM9e3Jlc3BvbmRlcnM6W10scmVnaXN0ZXI6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7Yjx0aGlzLnJlc3BvbmRlcnMubGVuZ3RoO2IrKylpZihhPT10aGlzLnJlc3BvbmRlcnNbYl0pcmV0dXJuO3RoaXMucmVzcG9uZGVycy5wdXNoKGEpfSx1bnJlZ2lzdGVyOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuVXRpbC5yZW1vdmVJdGVtKHRoaXMucmVwb25kZXJzLGEpfSxkaXNwYXRjaDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkLGU9MDtlPHRoaXMucmVzcG9uZGVycy5sZW5ndGg7ZSsrKWlmKGQ9dGhpcy5yZXNwb25kZXJzW2VdLGRbYV0mJiJmdW5jdGlvbiI9PXR5cGVvZiBkW2FdKXRyeXtkW2FdLmFwcGx5KGQsW2IsY10pfWNhdGNoKGYpe319fTtPcGVuTGF5ZXJzLkFqYXguUmVzcG9uZGVycy5yZWdpc3Rlcih7b25DcmVhdGU6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkFqYXguYWN0aXZlUmVxdWVzdENvdW50Kyt9LG9uQ29tcGxldGU6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkFqYXguYWN0aXZlUmVxdWVzdENvdW50LS19fSk7Ck9wZW5MYXllcnMuQWpheC5CYXNlPU9wZW5MYXllcnMuQ2xhc3Moe2luaXRpYWxpemU6ZnVuY3Rpb24oYSl7dGhpcy5vcHRpb25zPXttZXRob2Q6InBvc3QiLGFzeW5jaHJvbm91czohMCxjb250ZW50VHlwZToiYXBwbGljYXRpb24veG1sIixwYXJhbWV0ZXJzOiIifTtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMub3B0aW9ucyxhfHx7fSk7dGhpcy5vcHRpb25zLm1ldGhvZD10aGlzLm9wdGlvbnMubWV0aG9kLnRvTG93ZXJDYXNlKCk7InN0cmluZyI9PXR5cGVvZiB0aGlzLm9wdGlvbnMucGFyYW1ldGVycyYmKHRoaXMub3B0aW9ucy5wYXJhbWV0ZXJzPU9wZW5MYXllcnMuVXRpbC5nZXRQYXJhbWV0ZXJzKHRoaXMub3B0aW9ucy5wYXJhbWV0ZXJzKSl9fSk7Ck9wZW5MYXllcnMuQWpheC5SZXF1ZXN0PU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5BamF4LkJhc2Use19jb21wbGV0ZTohMSxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYil7T3BlbkxheWVycy5BamF4LkJhc2UucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYl0pO09wZW5MYXllcnMuUHJveHlIb3N0JiZPcGVuTGF5ZXJzLlN0cmluZy5zdGFydHNXaXRoKGEsImh0dHAiKSYmKGE9T3BlbkxheWVycy5Qcm94eUhvc3QrZW5jb2RlVVJJQ29tcG9uZW50KGEpKTt0aGlzLnRyYW5zcG9ydD1PcGVuTGF5ZXJzLkFqYXguZ2V0VHJhbnNwb3J0KCk7dGhpcy5yZXF1ZXN0KGEpfSxyZXF1ZXN0OmZ1bmN0aW9uKGEpe3RoaXMudXJsPWE7dGhpcy5tZXRob2Q9dGhpcy5vcHRpb25zLm1ldGhvZDthPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe30sdGhpcy5vcHRpb25zLnBhcmFtZXRlcnMpOyJnZXQiIT10aGlzLm1ldGhvZCYmInBvc3QiIT10aGlzLm1ldGhvZCYmKGEuX21ldGhvZD10aGlzLm1ldGhvZCwKdGhpcy5tZXRob2Q9InBvc3QiKTt0aGlzLnBhcmFtZXRlcnM9YTtpZihhPU9wZW5MYXllcnMuVXRpbC5nZXRQYXJhbWV0ZXJTdHJpbmcoYSkpImdldCI9PXRoaXMubWV0aG9kP3RoaXMudXJsKz0oLTE8dGhpcy51cmwuaW5kZXhPZigiPyIpPyImIjoiPyIpK2E6L0tvbnF1ZXJvcnxTYWZhcml8S0hUTUwvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJihhKz0iJl89Iik7dHJ5e3ZhciBiPW5ldyBPcGVuTGF5ZXJzLkFqYXguUmVzcG9uc2UodGhpcyk7aWYodGhpcy5vcHRpb25zLm9uQ3JlYXRlKXRoaXMub3B0aW9ucy5vbkNyZWF0ZShiKTtPcGVuTGF5ZXJzLkFqYXguUmVzcG9uZGVycy5kaXNwYXRjaCgib25DcmVhdGUiLHRoaXMsYik7dGhpcy50cmFuc3BvcnQub3Blbih0aGlzLm1ldGhvZC50b1VwcGVyQ2FzZSgpLHRoaXMudXJsLHRoaXMub3B0aW9ucy5hc3luY2hyb25vdXMpO3RoaXMub3B0aW9ucy5hc3luY2hyb25vdXMmJndpbmRvdy5zZXRUaW1lb3V0KE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZCh0aGlzLnJlc3BvbmRUb1JlYWR5U3RhdGUsCnRoaXMsMSksMTApO3RoaXMudHJhbnNwb3J0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1PcGVuTGF5ZXJzLkZ1bmN0aW9uLmJpbmQodGhpcy5vblN0YXRlQ2hhbmdlLHRoaXMpO3RoaXMuc2V0UmVxdWVzdEhlYWRlcnMoKTt0aGlzLmJvZHk9InBvc3QiPT10aGlzLm1ldGhvZD90aGlzLm9wdGlvbnMucG9zdEJvZHl8fGE6bnVsbDt0aGlzLnRyYW5zcG9ydC5zZW5kKHRoaXMuYm9keSk7aWYoIXRoaXMub3B0aW9ucy5hc3luY2hyb25vdXMmJnRoaXMudHJhbnNwb3J0Lm92ZXJyaWRlTWltZVR5cGUpdGhpcy5vblN0YXRlQ2hhbmdlKCl9Y2F0Y2goYyl7dGhpcy5kaXNwYXRjaEV4Y2VwdGlvbihjKX19LG9uU3RhdGVDaGFuZ2U6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRyYW5zcG9ydC5yZWFkeVN0YXRlOzE8YSYmISg0PT1hJiZ0aGlzLl9jb21wbGV0ZSkmJnRoaXMucmVzcG9uZFRvUmVhZHlTdGF0ZSh0aGlzLnRyYW5zcG9ydC5yZWFkeVN0YXRlKX0sc2V0UmVxdWVzdEhlYWRlcnM6ZnVuY3Rpb24oKXt2YXIgYT0KeyJYLVJlcXVlc3RlZC1XaXRoIjoiWE1MSHR0cFJlcXVlc3QiLEFjY2VwdDoidGV4dC9qYXZhc2NyaXB0LCB0ZXh0L2h0bWwsIGFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwsICovKiIsT3BlbkxheWVyczohMH07aWYoInBvc3QiPT10aGlzLm1ldGhvZCYmKGFbIkNvbnRlbnQtdHlwZSJdPXRoaXMub3B0aW9ucy5jb250ZW50VHlwZSsodGhpcy5vcHRpb25zLmVuY29kaW5nPyI7IGNoYXJzZXQ9Iit0aGlzLm9wdGlvbnMuZW5jb2Rpbmc6IiIpLHRoaXMudHJhbnNwb3J0Lm92ZXJyaWRlTWltZVR5cGUmJjIwMDU+KG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0dlY2tvXC8oXGR7NH0pLyl8fFswLDIwMDVdKVsxXSkpYS5Db25uZWN0aW9uPSJjbG9zZSI7aWYoIm9iamVjdCI9PXR5cGVvZiB0aGlzLm9wdGlvbnMucmVxdWVzdEhlYWRlcnMpe3ZhciBiPXRoaXMub3B0aW9ucy5yZXF1ZXN0SGVhZGVycztpZigiZnVuY3Rpb24iPT10eXBlb2YgYi5wdXNoKWZvcih2YXIgYz0wLGQ9Yi5sZW5ndGg7YzwKZDtjKz0yKWFbYltjXV09YltjKzFdO2Vsc2UgZm9yKGMgaW4gYilhW2NdPWJbY119Zm9yKHZhciBlIGluIGEpdGhpcy50cmFuc3BvcnQuc2V0UmVxdWVzdEhlYWRlcihlLGFbZV0pfSxzdWNjZXNzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRTdGF0dXMoKTtyZXR1cm4hYXx8MjAwPD1hJiYzMDA+YX0sZ2V0U3RhdHVzOmZ1bmN0aW9uKCl7dHJ5e3JldHVybiB0aGlzLnRyYW5zcG9ydC5zdGF0dXN8fDB9Y2F0Y2goYSl7cmV0dXJuIDB9fSxyZXNwb25kVG9SZWFkeVN0YXRlOmZ1bmN0aW9uKGEpe3ZhciBhPU9wZW5MYXllcnMuQWpheC5SZXF1ZXN0LkV2ZW50c1thXSxiPW5ldyBPcGVuTGF5ZXJzLkFqYXguUmVzcG9uc2UodGhpcyk7aWYoIkNvbXBsZXRlIj09YSl7dHJ5e3RoaXMuX2NvbXBsZXRlPSEwLCh0aGlzLm9wdGlvbnNbIm9uIitiLnN0YXR1c118fHRoaXMub3B0aW9uc1sib24iKyh0aGlzLnN1Y2Nlc3MoKT8iU3VjY2VzcyI6IkZhaWx1cmUiKV18fE9wZW5MYXllcnMuQWpheC5lbXB0eUZ1bmN0aW9uKShiKX1jYXRjaChjKXt0aGlzLmRpc3BhdGNoRXhjZXB0aW9uKGMpfWIuZ2V0SGVhZGVyKCJDb250ZW50LXR5cGUiKX10cnl7KHRoaXMub3B0aW9uc1sib24iKwphXXx8T3BlbkxheWVycy5BamF4LmVtcHR5RnVuY3Rpb24pKGIpLE9wZW5MYXllcnMuQWpheC5SZXNwb25kZXJzLmRpc3BhdGNoKCJvbiIrYSx0aGlzLGIpfWNhdGNoKGQpe3RoaXMuZGlzcGF0Y2hFeGNlcHRpb24oZCl9IkNvbXBsZXRlIj09YSYmKHRoaXMudHJhbnNwb3J0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1PcGVuTGF5ZXJzLkFqYXguZW1wdHlGdW5jdGlvbil9LGdldEhlYWRlcjpmdW5jdGlvbihhKXt0cnl7cmV0dXJuIHRoaXMudHJhbnNwb3J0LmdldFJlc3BvbnNlSGVhZGVyKGEpfWNhdGNoKGIpe3JldHVybiBudWxsfX0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zLm9uRXhjZXB0aW9uO2lmKGIpYih0aGlzLGEpLE9wZW5MYXllcnMuQWpheC5SZXNwb25kZXJzLmRpc3BhdGNoKCJvbkV4Y2VwdGlvbiIsdGhpcyxhKTtlbHNle2Zvcih2YXIgYj0hMSxjPU9wZW5MYXllcnMuQWpheC5SZXNwb25kZXJzLnJlc3BvbmRlcnMsZD0wO2Q8Yy5sZW5ndGg7ZCsrKWlmKGNbZF0ub25FeGNlcHRpb24pe2I9CiEwO2JyZWFrfWlmKGIpT3BlbkxheWVycy5BamF4LlJlc3BvbmRlcnMuZGlzcGF0Y2goIm9uRXhjZXB0aW9uIix0aGlzLGEpO2Vsc2UgdGhyb3cgYTt9fX0pO09wZW5MYXllcnMuQWpheC5SZXF1ZXN0LkV2ZW50cz1bIlVuaW5pdGlhbGl6ZWQiLCJMb2FkaW5nIiwiTG9hZGVkIiwiSW50ZXJhY3RpdmUiLCJDb21wbGV0ZSJdOwpPcGVuTGF5ZXJzLkFqYXguUmVzcG9uc2U9T3BlbkxheWVycy5DbGFzcyh7c3RhdHVzOjAsc3RhdHVzVGV4dDoiIixpbml0aWFsaXplOmZ1bmN0aW9uKGEpe3RoaXMucmVxdWVzdD1hO3ZhciBhPXRoaXMudHJhbnNwb3J0PWEudHJhbnNwb3J0LGI9dGhpcy5yZWFkeVN0YXRlPWEucmVhZHlTdGF0ZTtpZigyPGImJighd2luZG93LmF0dGFjaEV2ZW50fHx3aW5kb3cub3BlcmEpfHw0PT1iKXRoaXMuc3RhdHVzPXRoaXMuZ2V0U3RhdHVzKCksdGhpcy5zdGF0dXNUZXh0PXRoaXMuZ2V0U3RhdHVzVGV4dCgpLHRoaXMucmVzcG9uc2VUZXh0PW51bGw9PWEucmVzcG9uc2VUZXh0PyIiOlN0cmluZyhhLnJlc3BvbnNlVGV4dCk7ND09YiYmKGE9YS5yZXNwb25zZVhNTCx0aGlzLnJlc3BvbnNlWE1MPXZvaWQgMD09PWE/bnVsbDphKX0sZ2V0U3RhdHVzOk9wZW5MYXllcnMuQWpheC5SZXF1ZXN0LnByb3RvdHlwZS5nZXRTdGF0dXMsZ2V0U3RhdHVzVGV4dDpmdW5jdGlvbigpe3RyeXtyZXR1cm4gdGhpcy50cmFuc3BvcnQuc3RhdHVzVGV4dHx8CiIifWNhdGNoKGEpe3JldHVybiIifX0sZ2V0SGVhZGVyOk9wZW5MYXllcnMuQWpheC5SZXF1ZXN0LnByb3RvdHlwZS5nZXRIZWFkZXIsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudHJhbnNwb3J0LmdldFJlc3BvbnNlSGVhZGVyKGEpfX0pO09wZW5MYXllcnMuQWpheC5nZXRFbGVtZW50c0J5VGFnTmFtZU5TPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW51bGw7cmV0dXJuIGU9YS5nZXRFbGVtZW50c0J5VGFnTmFtZU5TP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhiLGQpOmEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYysiOiIrZCl9O09wZW5MYXllcnMuQWpheC5zZXJpYWxpemVYTUxUb1N0cmluZz1mdW5jdGlvbihhKXtyZXR1cm4obmV3IFhNTFNlcmlhbGl6ZXIpLnNlcmlhbGl6ZVRvU3RyaW5nKGEpfTsKT3BlbkxheWVycy5VdGlsLmV4dGVuZChPcGVuTGF5ZXJzLkVsZW1lbnQse2hpZGU6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkNvbnNvbGUud2FybihPcGVuTGF5ZXJzLmkxOG4oIm1ldGhvZERlcHJlY2F0ZWQiLHtuZXdNZXRob2Q6ImVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsifSkpO2Zvcih2YXIgYT0wLGI9YXJndW1lbnRzLmxlbmd0aDthPGI7YSsrKXt2YXIgYz1PcGVuTGF5ZXJzLlV0aWwuZ2V0RWxlbWVudChhcmd1bWVudHNbYV0pO2MmJihjLnN0eWxlLmRpc3BsYXk9Im5vbmUiKX19LHNob3c6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkNvbnNvbGUud2FybihPcGVuTGF5ZXJzLmkxOG4oIm1ldGhvZERlcHJlY2F0ZWQiLHtuZXdNZXRob2Q6ImVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnOyJ9KSk7Zm9yKHZhciBhPTAsYj1hcmd1bWVudHMubGVuZ3RoO2E8YjthKyspe3ZhciBjPU9wZW5MYXllcnMuVXRpbC5nZXRFbGVtZW50KGFyZ3VtZW50c1thXSk7YyYmKGMuc3R5bGUuZGlzcGxheT0KIiIpfX0sZ2V0RGltZW5zaW9uczpmdW5jdGlvbihhKXthPU9wZW5MYXllcnMuVXRpbC5nZXRFbGVtZW50KGEpO2lmKCJub25lIiE9T3BlbkxheWVycy5FbGVtZW50LmdldFN0eWxlKGEsImRpc3BsYXkiKSlyZXR1cm57d2lkdGg6YS5vZmZzZXRXaWR0aCxoZWlnaHQ6YS5vZmZzZXRIZWlnaHR9O3ZhciBiPWEuc3R5bGUsYz1iLnZpc2liaWxpdHksZD1iLnBvc2l0aW9uLGU9Yi5kaXNwbGF5O2IudmlzaWJpbGl0eT0iaGlkZGVuIjtiLnBvc2l0aW9uPSJhYnNvbHV0ZSI7Yi5kaXNwbGF5PSIiO3ZhciBmPWEuY2xpZW50V2lkdGgsYT1hLmNsaWVudEhlaWdodDtiLmRpc3BsYXk9ZTtiLnBvc2l0aW9uPWQ7Yi52aXNpYmlsaXR5PWM7cmV0dXJue3dpZHRoOmYsaGVpZ2h0OmF9fX0pOwpTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGh8fChTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGg9ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db25zb2xlLndhcm4oT3BlbkxheWVycy5pMThuKCJtZXRob2REZXByZWNhdGVkIix7bmV3TWV0aG9kOiJPcGVuTGF5ZXJzLlN0cmluZy5zdGFydHNXaXRoIn0pKTtyZXR1cm4gT3BlbkxheWVycy5TdHJpbmcuc3RhcnRzV2l0aCh0aGlzLGEpfSk7U3RyaW5nLnByb3RvdHlwZS5jb250YWluc3x8KFN0cmluZy5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db25zb2xlLndhcm4oT3BlbkxheWVycy5pMThuKCJtZXRob2REZXByZWNhdGVkIix7bmV3TWV0aG9kOiJPcGVuTGF5ZXJzLlN0cmluZy5jb250YWlucyJ9KSk7cmV0dXJuIE9wZW5MYXllcnMuU3RyaW5nLmNvbnRhaW5zKHRoaXMsYSl9KTsKU3RyaW5nLnByb3RvdHlwZS50cmltfHwoU3RyaW5nLnByb3RvdHlwZS50cmltPWZ1bmN0aW9uKCl7T3BlbkxheWVycy5Db25zb2xlLndhcm4oT3BlbkxheWVycy5pMThuKCJtZXRob2REZXByZWNhdGVkIix7bmV3TWV0aG9kOiJPcGVuTGF5ZXJzLlN0cmluZy50cmltIn0pKTtyZXR1cm4gT3BlbkxheWVycy5TdHJpbmcudHJpbSh0aGlzKX0pO1N0cmluZy5wcm90b3R5cGUuY2FtZWxpemV8fChTdHJpbmcucHJvdG90eXBlLmNhbWVsaXplPWZ1bmN0aW9uKCl7T3BlbkxheWVycy5Db25zb2xlLndhcm4oT3BlbkxheWVycy5pMThuKCJtZXRob2REZXByZWNhdGVkIix7bmV3TWV0aG9kOiJPcGVuTGF5ZXJzLlN0cmluZy5jYW1lbGl6ZSJ9KSk7cmV0dXJuIE9wZW5MYXllcnMuU3RyaW5nLmNhbWVsaXplKHRoaXMpfSk7CkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHwoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkNvbnNvbGUud2FybihPcGVuTGF5ZXJzLmkxOG4oIm1ldGhvZERlcHJlY2F0ZWQiLHtuZXdNZXRob2Q6Ik9wZW5MYXllcnMuRnVuY3Rpb24uYmluZCJ9KSk7QXJyYXkucHJvdG90eXBlLnVuc2hpZnQuYXBwbHkoYXJndW1lbnRzLFt0aGlzXSk7cmV0dXJuIE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZC5hcHBseShudWxsLGFyZ3VtZW50cyl9KTsKRnVuY3Rpb24ucHJvdG90eXBlLmJpbmRBc0V2ZW50TGlzdGVuZXJ8fChGdW5jdGlvbi5wcm90b3R5cGUuYmluZEFzRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkNvbnNvbGUud2FybihPcGVuTGF5ZXJzLmkxOG4oIm1ldGhvZERlcHJlY2F0ZWQiLHtuZXdNZXRob2Q6Ik9wZW5MYXllcnMuRnVuY3Rpb24uYmluZEFzRXZlbnRMaXN0ZW5lciJ9KSk7cmV0dXJuIE9wZW5MYXllcnMuRnVuY3Rpb24uYmluZEFzRXZlbnRMaXN0ZW5lcih0aGlzLGEpfSk7aWYod2luZG93LkV2ZW50KU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHdpbmRvdy5FdmVudCxPcGVuTGF5ZXJzLkV2ZW50KTtlbHNlIHZhciBFdmVudD1PcGVuTGF5ZXJzLkV2ZW50OwpPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKE9wZW5MYXllcnMuVGlsZS5wcm90b3R5cGUse2dldEJvdW5kc0Zyb21CYXNlTGF5ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9T3BlbkxheWVycy5pMThuKCJyZXByb2plY3REZXByZWNhdGVkIix7bGF5ZXJOYW1lOnRoaXMubGF5ZXIubmFtZX0pO09wZW5MYXllcnMuQ29uc29sZS53YXJuKGIpO2I9dGhpcy5sYXllci5tYXAuZ2V0TG9uTGF0RnJvbUxheWVyUHgoYSk7YT1hLmNsb25lKCk7YS54Kz10aGlzLnNpemUudzthLnkrPXRoaXMuc2l6ZS5oO2E9dGhpcy5sYXllci5tYXAuZ2V0TG9uTGF0RnJvbUxheWVyUHgoYSk7Yi5sb24+YS5sb24mJigwPmIubG9uP2IubG9uPS0xODAtKGIubG9uKzE4MCk6YS5sb249MTgwK2EubG9uKzE4MCk7cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhiLmxvbixhLmxhdCxhLmxvbixiLmxhdCl9fSk7Ck9wZW5MYXllcnMuQ29udHJvbC5Nb3VzZURlZmF1bHRzPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Db250cm9sLHtwZXJmb3JtZWREcmFnOiExLHdoZWVsT2JzZXJ2ZXI6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKCl7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuaGFuZGxlciYmdGhpcy5oYW5kbGVyLmRlc3Ryb3koKTt0aGlzLmhhbmRsZXI9bnVsbDt0aGlzLm1hcC5ldmVudHMudW4oe2NsaWNrOnRoaXMuZGVmYXVsdENsaWNrLGRibGNsaWNrOnRoaXMuZGVmYXVsdERibENsaWNrLG1vdXNlZG93bjp0aGlzLmRlZmF1bHRNb3VzZURvd24sbW91c2V1cDp0aGlzLmRlZmF1bHRNb3VzZVVwLG1vdXNlbW92ZTp0aGlzLmRlZmF1bHRNb3VzZU1vdmUsbW91c2VvdXQ6dGhpcy5kZWZhdWx0TW91c2VPdXQsc2NvcGU6dGhpc30pO09wZW5MYXllcnMuRXZlbnQuc3RvcE9ic2VydmluZyh3aW5kb3csCiJET01Nb3VzZVNjcm9sbCIsdGhpcy53aGVlbE9ic2VydmVyKTtPcGVuTGF5ZXJzLkV2ZW50LnN0b3BPYnNlcnZpbmcod2luZG93LCJtb3VzZXdoZWVsIix0aGlzLndoZWVsT2JzZXJ2ZXIpO09wZW5MYXllcnMuRXZlbnQuc3RvcE9ic2VydmluZyhkb2N1bWVudCwibW91c2V3aGVlbCIsdGhpcy53aGVlbE9ic2VydmVyKTt0aGlzLndoZWVsT2JzZXJ2ZXI9bnVsbDtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxkcmF3OmZ1bmN0aW9uKCl7dGhpcy5tYXAuZXZlbnRzLm9uKHtjbGljazp0aGlzLmRlZmF1bHRDbGljayxkYmxjbGljazp0aGlzLmRlZmF1bHREYmxDbGljayxtb3VzZWRvd246dGhpcy5kZWZhdWx0TW91c2VEb3duLG1vdXNldXA6dGhpcy5kZWZhdWx0TW91c2VVcCxtb3VzZW1vdmU6dGhpcy5kZWZhdWx0TW91c2VNb3ZlLG1vdXNlb3V0OnRoaXMuZGVmYXVsdE1vdXNlT3V0LHNjb3BlOnRoaXN9KTt0aGlzLnJlZ2lzdGVyV2hlZWxFdmVudHMoKX0sCnJlZ2lzdGVyV2hlZWxFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLndoZWVsT2JzZXJ2ZXI9T3BlbkxheWVycy5GdW5jdGlvbi5iaW5kQXNFdmVudExpc3RlbmVyKHRoaXMub25XaGVlbEV2ZW50LHRoaXMpO09wZW5MYXllcnMuRXZlbnQub2JzZXJ2ZSh3aW5kb3csIkRPTU1vdXNlU2Nyb2xsIix0aGlzLndoZWVsT2JzZXJ2ZXIpO09wZW5MYXllcnMuRXZlbnQub2JzZXJ2ZSh3aW5kb3csIm1vdXNld2hlZWwiLHRoaXMud2hlZWxPYnNlcnZlcik7T3BlbkxheWVycy5FdmVudC5vYnNlcnZlKGRvY3VtZW50LCJtb3VzZXdoZWVsIix0aGlzLndoZWVsT2JzZXJ2ZXIpfSxkZWZhdWx0Q2xpY2s6ZnVuY3Rpb24oYSl7aWYoT3BlbkxheWVycy5FdmVudC5pc0xlZnRDbGljayhhKSlyZXR1cm4gYT0hdGhpcy5wZXJmb3JtZWREcmFnLHRoaXMucGVyZm9ybWVkRHJhZz0hMSxhfSxkZWZhdWx0RGJsQ2xpY2s6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5tYXAuZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHgoYS54eSk7CnRoaXMubWFwLnNldENlbnRlcihiLHRoaXMubWFwLnpvb20rMSk7T3BlbkxheWVycy5FdmVudC5zdG9wKGEpO3JldHVybiExfSxkZWZhdWx0TW91c2VEb3duOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRXZlbnQuaXNMZWZ0Q2xpY2soYSkmJih0aGlzLm1vdXNlRHJhZ1N0YXJ0PWEueHkuY2xvbmUoKSx0aGlzLnBlcmZvcm1lZERyYWc9ITEsYS5zaGlmdEtleSYmKHRoaXMubWFwLmRpdi5zdHlsZS5jdXJzb3I9ImNyb3NzaGFpciIsdGhpcy56b29tQm94PU9wZW5MYXllcnMuVXRpbC5jcmVhdGVEaXYoInpvb21Cb3giLHRoaXMubW91c2VEcmFnU3RhcnQsbnVsbCxudWxsLCJhYnNvbHV0ZSIsIjJweCBzb2xpZCByZWQiKSx0aGlzLnpvb21Cb3guc3R5bGUuYmFja2dyb3VuZENvbG9yPSJ3aGl0ZSIsdGhpcy56b29tQm94LnN0eWxlLmZpbHRlcj0iYWxwaGEob3BhY2l0eT01MCkiLHRoaXMuem9vbUJveC5zdHlsZS5vcGFjaXR5PSIwLjUwIix0aGlzLnpvb21Cb3guc3R5bGUuZm9udFNpemU9IjFweCIsCnRoaXMuem9vbUJveC5zdHlsZS56SW5kZXg9dGhpcy5tYXAuWl9JTkRFWF9CQVNFLlBvcHVwLTEsdGhpcy5tYXAudmlld1BvcnREaXYuYXBwZW5kQ2hpbGQodGhpcy56b29tQm94KSksZG9jdW1lbnQub25zZWxlY3RzdGFydD1PcGVuTGF5ZXJzLkZ1bmN0aW9uLkZhbHNlLE9wZW5MYXllcnMuRXZlbnQuc3RvcChhKSl9LGRlZmF1bHRNb3VzZU1vdmU6ZnVuY3Rpb24oYSl7dGhpcy5tb3VzZVBvc2l0aW9uPWEueHkuY2xvbmUoKTtpZihudWxsIT10aGlzLm1vdXNlRHJhZ1N0YXJ0KXtpZih0aGlzLnpvb21Cb3gpe3ZhciBiPU1hdGguYWJzKHRoaXMubW91c2VEcmFnU3RhcnQueC1hLnh5LngpLGM9TWF0aC5hYnModGhpcy5tb3VzZURyYWdTdGFydC55LWEueHkueSk7dGhpcy56b29tQm94LnN0eWxlLndpZHRoPU1hdGgubWF4KDEsYikrInB4Ijt0aGlzLnpvb21Cb3guc3R5bGUuaGVpZ2h0PU1hdGgubWF4KDEsYykrInB4IjthLnh5Lng8dGhpcy5tb3VzZURyYWdTdGFydC54JiYodGhpcy56b29tQm94LnN0eWxlLmxlZnQ9CmEueHkueCsicHgiKTthLnh5Lnk8dGhpcy5tb3VzZURyYWdTdGFydC55JiYodGhpcy56b29tQm94LnN0eWxlLnRvcD1hLnh5LnkrInB4Iil9ZWxzZXt2YXIgYj10aGlzLm1vdXNlRHJhZ1N0YXJ0LngtYS54eS54LGM9dGhpcy5tb3VzZURyYWdTdGFydC55LWEueHkueSxkPXRoaXMubWFwLmdldFNpemUoKSxiPW5ldyBPcGVuTGF5ZXJzLlBpeGVsKGQudy8yK2IsZC5oLzIrYyksYj10aGlzLm1hcC5nZXRMb25MYXRGcm9tVmlld1BvcnRQeChiKTt0aGlzLm1hcC5zZXRDZW50ZXIoYixudWxsLCEwKTt0aGlzLm1vdXNlRHJhZ1N0YXJ0PWEueHkuY2xvbmUoKTt0aGlzLm1hcC5kaXYuc3R5bGUuY3Vyc29yPSJtb3ZlIn10aGlzLnBlcmZvcm1lZERyYWc9ITB9fSxkZWZhdWx0TW91c2VVcDpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkV2ZW50LmlzTGVmdENsaWNrKGEpJiYodGhpcy56b29tQm94P3RoaXMuem9vbUJveEVuZChhKTp0aGlzLnBlcmZvcm1lZERyYWcmJnRoaXMubWFwLnNldENlbnRlcih0aGlzLm1hcC5jZW50ZXIpLAp0aGlzLm1vdXNlRHJhZ1N0YXJ0PWRvY3VtZW50Lm9uc2VsZWN0c3RhcnQ9bnVsbCx0aGlzLm1hcC5kaXYuc3R5bGUuY3Vyc29yPSIiKX0sZGVmYXVsdE1vdXNlT3V0OmZ1bmN0aW9uKGEpe251bGwhPXRoaXMubW91c2VEcmFnU3RhcnQmJk9wZW5MYXllcnMuVXRpbC5tb3VzZUxlZnQoYSx0aGlzLm1hcC52aWV3UG9ydERpdikmJih0aGlzLnpvb21Cb3gmJnRoaXMucmVtb3ZlWm9vbUJveCgpLHRoaXMubW91c2VEcmFnU3RhcnQ9bnVsbCl9LGRlZmF1bHRXaGVlbFVwOmZ1bmN0aW9uKGEpe3RoaXMubWFwLmdldFpvb20oKTw9dGhpcy5tYXAuZ2V0TnVtWm9vbUxldmVscygpJiZ0aGlzLm1hcC5zZXRDZW50ZXIodGhpcy5tYXAuZ2V0TG9uTGF0RnJvbVBpeGVsKGEueHkpLHRoaXMubWFwLmdldFpvb20oKSsxKX0sZGVmYXVsdFdoZWVsRG93bjpmdW5jdGlvbihhKXswPHRoaXMubWFwLmdldFpvb20oKSYmdGhpcy5tYXAuc2V0Q2VudGVyKHRoaXMubWFwLmdldExvbkxhdEZyb21QaXhlbChhLnh5KSwKdGhpcy5tYXAuZ2V0Wm9vbSgpLTEpfSx6b29tQm94RW5kOmZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMubW91c2VEcmFnU3RhcnQpe2lmKDU8TWF0aC5hYnModGhpcy5tb3VzZURyYWdTdGFydC54LWEueHkueCl8fDU8TWF0aC5hYnModGhpcy5tb3VzZURyYWdTdGFydC55LWEueHkueSkpe3ZhciBiPXRoaXMubWFwLmdldExvbkxhdEZyb21WaWV3UG9ydFB4KHRoaXMubW91c2VEcmFnU3RhcnQpLGM9dGhpcy5tYXAuZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHgoYS54eSksYT1NYXRoLm1heChiLmxhdCxjLmxhdCksZD1NYXRoLm1pbihiLmxhdCxjLmxhdCksZT1NYXRoLm1pbihiLmxvbixjLmxvbiksYj1NYXRoLm1heChiLmxvbixjLmxvbiksYj1uZXcgT3BlbkxheWVycy5Cb3VuZHMoZSxkLGIsYSk7dGhpcy5tYXAuem9vbVRvRXh0ZW50KGIpfWVsc2UgYz10aGlzLm1hcC5nZXRMb25MYXRGcm9tVmlld1BvcnRQeChhLnh5KSx0aGlzLm1hcC5zZXRDZW50ZXIobmV3IE9wZW5MYXllcnMuTG9uTGF0KGMubG9uLApjLmxhdCksdGhpcy5tYXAuZ2V0Wm9vbSgpKzEpO3RoaXMucmVtb3ZlWm9vbUJveCgpfX0scmVtb3ZlWm9vbUJveDpmdW5jdGlvbigpe3RoaXMubWFwLnZpZXdQb3J0RGl2LnJlbW92ZUNoaWxkKHRoaXMuem9vbUJveCk7dGhpcy56b29tQm94PW51bGx9LG9uV2hlZWxFdmVudDpmdW5jdGlvbihhKXtmb3IodmFyIGI9ITEsYz1PcGVuTGF5ZXJzLkV2ZW50LmVsZW1lbnQoYSk7bnVsbCE9Yzspe2lmKHRoaXMubWFwJiZjPT10aGlzLm1hcC5kaXYpe2I9ITA7YnJlYWt9Yz1jLnBhcmVudE5vZGV9YiYmKGI9MCxhfHwoYT13aW5kb3cuZXZlbnQpLGEud2hlZWxEZWx0YT8oYj1hLndoZWVsRGVsdGEvMTIwLHdpbmRvdy5vcGVyYSYmOS4yPndpbmRvdy5vcGVyYS52ZXJzaW9uKCkmJihiPS1iKSk6YS5kZXRhaWwmJihiPS1hLmRldGFpbC8zKSxiJiYoYS54eT10aGlzLm1vdXNlUG9zaXRpb24sMD5iP3RoaXMuZGVmYXVsdFdoZWVsRG93bihhKTp0aGlzLmRlZmF1bHRXaGVlbFVwKGEpKSxPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSkpfSwKQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLk1vdXNlRGVmYXVsdHMifSk7Ck9wZW5MYXllcnMuQ29udHJvbC5Nb3VzZVRvb2xiYXI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wuTW91c2VEZWZhdWx0cyx7bW9kZTpudWxsLGJ1dHRvbnM6bnVsbCxkaXJlY3Rpb246InZlcnRpY2FsIixidXR0b25DbGlja2VkOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIpe09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5wb3NpdGlvbj1uZXcgT3BlbkxheWVycy5QaXhlbChPcGVuTGF5ZXJzLkNvbnRyb2wuTW91c2VUb29sYmFyLlgsT3BlbkxheWVycy5Db250cm9sLk1vdXNlVG9vbGJhci5ZKTthJiYodGhpcy5wb3NpdGlvbj1hKTtiJiYodGhpcy5kaXJlY3Rpb249Yik7dGhpcy5tZWFzdXJlRGl2cz1bXX0sZGVzdHJveTpmdW5jdGlvbigpe2Zvcih2YXIgYSBpbiB0aGlzLmJ1dHRvbnMpe3ZhciBiPXRoaXMuYnV0dG9uc1thXTtiLm1hcD1udWxsO2IuZXZlbnRzLmRlc3Ryb3koKX1PcGVuTGF5ZXJzLkNvbnRyb2wuTW91c2VEZWZhdWx0cy5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLAphcmd1bWVudHMpfSxkcmF3OmZ1bmN0aW9uKCl7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kcmF3LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtPcGVuTGF5ZXJzLkNvbnRyb2wuTW91c2VEZWZhdWx0cy5wcm90b3R5cGUuZHJhdy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5idXR0b25zPXt9O3ZhciBhPW5ldyBPcGVuTGF5ZXJzLlNpemUoMjgsMjgpLGI9bmV3IE9wZW5MYXllcnMuUGl4ZWwoT3BlbkxheWVycy5Db250cm9sLk1vdXNlVG9vbGJhci5YLDApO3RoaXMuX2FkZEJ1dHRvbigiem9vbWJveCIsImRyYWctcmVjdGFuZ2xlLW9mZi5wbmciLCJkcmFnLXJlY3RhbmdsZS1vbi5wbmciLGIsYSwiU2hpZnQtPkRyYWcgdG8gem9vbSB0byBhcmVhIik7Yj1iLmFkZCgidmVydGljYWwiPT10aGlzLmRpcmVjdGlvbj8wOmEudywidmVydGljYWwiPT10aGlzLmRpcmVjdGlvbj9hLmg6MCk7dGhpcy5fYWRkQnV0dG9uKCJwYW4iLCJwYW5uaW5nLWhhbmQtb2ZmLnBuZyIsInBhbm5pbmctaGFuZC1vbi5wbmciLApiLGEsIkRyYWcgdGhlIG1hcCB0byBwYW4uIik7Yi5hZGQoInZlcnRpY2FsIj09dGhpcy5kaXJlY3Rpb24/MDphLncsInZlcnRpY2FsIj09dGhpcy5kaXJlY3Rpb24/YS5oOjApO3RoaXMuc3dpdGNoTW9kZVRvKCJwYW4iKTtyZXR1cm4gdGhpcy5kaXZ9LF9hZGRCdXR0b246ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2I9T3BlbkxheWVycy5VdGlsLmdldEltYWdlTG9jYXRpb24oYik7Yz1PcGVuTGF5ZXJzLlV0aWwuZ2V0SW1hZ2VMb2NhdGlvbihjKTtkPU9wZW5MYXllcnMuVXRpbC5jcmVhdGVBbHBoYUltYWdlRGl2KCJPcGVuTGF5ZXJzX0NvbnRyb2xfTW91c2VUb29sYmFyXyIrYSxkLGUsYiwiYWJzb2x1dGUiKTt0aGlzLmRpdi5hcHBlbmRDaGlsZChkKTtkLmltZ0xvY2F0aW9uPWI7ZC5hY3RpdmVJbWdMb2NhdGlvbj1jO2QuZXZlbnRzPW5ldyBPcGVuTGF5ZXJzLkV2ZW50cyh0aGlzLGQsbnVsbCwhMCk7ZC5ldmVudHMub24oe21vdXNlZG93bjp0aGlzLmJ1dHRvbkRvd24sbW91c2V1cDp0aGlzLmJ1dHRvblVwLApkYmxjbGljazpPcGVuTGF5ZXJzLkV2ZW50LnN0b3Asc2NvcGU6dGhpc30pO2QuYWN0aW9uPWE7ZC50aXRsZT1mO2QuYWx0PWY7ZC5tYXA9dGhpcy5tYXA7cmV0dXJuIHRoaXMuYnV0dG9uc1thXT1kfSxidXR0b25Eb3duOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRXZlbnQuaXNMZWZ0Q2xpY2soYSkmJih0aGlzLmJ1dHRvbkNsaWNrZWQ9YS5lbGVtZW50LmFjdGlvbixPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSkpfSxidXR0b25VcDpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkV2ZW50LmlzTGVmdENsaWNrKGEpJiZudWxsIT10aGlzLmJ1dHRvbkNsaWNrZWQmJih0aGlzLmJ1dHRvbkNsaWNrZWQ9PWEuZWxlbWVudC5hY3Rpb24mJnRoaXMuc3dpdGNoTW9kZVRvKGEuZWxlbWVudC5hY3Rpb24pLE9wZW5MYXllcnMuRXZlbnQuc3RvcChhKSx0aGlzLmJ1dHRvbkNsaWNrZWQ9bnVsbCl9LGRlZmF1bHREYmxDbGljazpmdW5jdGlvbihhKXt0aGlzLnN3aXRjaE1vZGVUbygicGFuIik7dGhpcy5wZXJmb3JtZWREcmFnPQohMTt2YXIgYj10aGlzLm1hcC5nZXRMb25MYXRGcm9tVmlld1BvcnRQeChhLnh5KTt0aGlzLm1hcC5zZXRDZW50ZXIoYix0aGlzLm1hcC56b29tKzEpO09wZW5MYXllcnMuRXZlbnQuc3RvcChhKTtyZXR1cm4hMX0sZGVmYXVsdE1vdXNlRG93bjpmdW5jdGlvbihhKXtpZihPcGVuTGF5ZXJzLkV2ZW50LmlzTGVmdENsaWNrKGEpKXt0aGlzLm1vdXNlRHJhZ1N0YXJ0PWEueHkuY2xvbmUoKTt0aGlzLnN0YXJ0VmlhS2V5Ym9hcmQ9dGhpcy5wZXJmb3JtZWREcmFnPSExO2Euc2hpZnRLZXkmJiJ6b29tYm94IiE9dGhpcy5tb2RlPyh0aGlzLnN3aXRjaE1vZGVUbygiem9vbWJveCIpLHRoaXMuc3RhcnRWaWFLZXlib2FyZD0hMCk6YS5hbHRLZXkmJiJtZWFzdXJlIiE9dGhpcy5tb2RlP3RoaXMuc3dpdGNoTW9kZVRvKCJtZWFzdXJlIik6dGhpcy5tb2RlfHx0aGlzLnN3aXRjaE1vZGVUbygicGFuIik7c3dpdGNoKHRoaXMubW9kZSl7Y2FzZSAiem9vbWJveCI6dGhpcy5tYXAuZGl2LnN0eWxlLmN1cnNvcj0KImNyb3NzaGFpciI7dGhpcy56b29tQm94PU9wZW5MYXllcnMuVXRpbC5jcmVhdGVEaXYoInpvb21Cb3giLHRoaXMubW91c2VEcmFnU3RhcnQsbnVsbCxudWxsLCJhYnNvbHV0ZSIsIjJweCBzb2xpZCByZWQiKTt0aGlzLnpvb21Cb3guc3R5bGUuYmFja2dyb3VuZENvbG9yPSJ3aGl0ZSI7dGhpcy56b29tQm94LnN0eWxlLmZpbHRlcj0iYWxwaGEob3BhY2l0eT01MCkiO3RoaXMuem9vbUJveC5zdHlsZS5vcGFjaXR5PSIwLjUwIjt0aGlzLnpvb21Cb3guc3R5bGUuZm9udFNpemU9IjFweCI7dGhpcy56b29tQm94LnN0eWxlLnpJbmRleD10aGlzLm1hcC5aX0lOREVYX0JBU0UuUG9wdXAtMTt0aGlzLm1hcC52aWV3UG9ydERpdi5hcHBlbmRDaGlsZCh0aGlzLnpvb21Cb3gpO3RoaXMucGVyZm9ybWVkRHJhZz0hMDticmVhaztjYXNlICJtZWFzdXJlIjp2YXIgYj0iIjt0aGlzLm1lYXN1cmVTdGFydCYmKGI9dGhpcy5tYXAuZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHgodGhpcy5tb3VzZURyYWdTdGFydCksCmI9T3BlbkxheWVycy5VdGlsLmRpc3RWaW5jZW50eSh0aGlzLm1lYXN1cmVTdGFydCxiKSxiPU1hdGgucm91bmQoMTAwKmIpLzEwMCxiKz0ia20iLHRoaXMubWVhc3VyZVN0YXJ0Qm94PXRoaXMubWVhc3VyZUJveCk7dGhpcy5tZWFzdXJlU3RhcnQ9dGhpcy5tYXAuZ2V0TG9uTGF0RnJvbVZpZXdQb3J0UHgodGhpcy5tb3VzZURyYWdTdGFydCk7dGhpcy5tZWFzdXJlQm94PU9wZW5MYXllcnMuVXRpbC5jcmVhdGVEaXYobnVsbCx0aGlzLm1vdXNlRHJhZ1N0YXJ0LmFkZCgtMi1wYXJzZUludCh0aGlzLm1hcC5sYXllckNvbnRhaW5lckRpdi5zdHlsZS5sZWZ0KSwtMi1wYXJzZUludCh0aGlzLm1hcC5sYXllckNvbnRhaW5lckRpdi5zdHlsZS50b3ApKSxudWxsLG51bGwsImFic29sdXRlIik7dGhpcy5tZWFzdXJlQm94LnN0eWxlLndpZHRoPSI0cHgiO3RoaXMubWVhc3VyZUJveC5zdHlsZS5oZWlnaHQ9IjRweCI7dGhpcy5tZWFzdXJlQm94LnN0eWxlLmZvbnRTaXplPSIxcHgiO3RoaXMubWVhc3VyZUJveC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9CiJyZWQiO3RoaXMubWVhc3VyZUJveC5zdHlsZS56SW5kZXg9dGhpcy5tYXAuWl9JTkRFWF9CQVNFLlBvcHVwLTE7dGhpcy5tYXAubGF5ZXJDb250YWluZXJEaXYuYXBwZW5kQ2hpbGQodGhpcy5tZWFzdXJlQm94KTtiJiYodGhpcy5tZWFzdXJlQm94RGlzdGFuY2U9T3BlbkxheWVycy5VdGlsLmNyZWF0ZURpdihudWxsLHRoaXMubW91c2VEcmFnU3RhcnQuYWRkKC0yLXBhcnNlSW50KHRoaXMubWFwLmxheWVyQ29udGFpbmVyRGl2LnN0eWxlLmxlZnQpLDItcGFyc2VJbnQodGhpcy5tYXAubGF5ZXJDb250YWluZXJEaXYuc3R5bGUudG9wKSksbnVsbCxudWxsLCJhYnNvbHV0ZSIpLHRoaXMubWVhc3VyZUJveERpc3RhbmNlLmlubmVySFRNTD1iLHRoaXMubWVhc3VyZUJveERpc3RhbmNlLnN0eWxlLnpJbmRleD10aGlzLm1hcC5aX0lOREVYX0JBU0UuUG9wdXAtMSx0aGlzLm1hcC5sYXllckNvbnRhaW5lckRpdi5hcHBlbmRDaGlsZCh0aGlzLm1lYXN1cmVCb3hEaXN0YW5jZSksdGhpcy5tZWFzdXJlRGl2cy5wdXNoKHRoaXMubWVhc3VyZUJveERpc3RhbmNlKSk7CnRoaXMubWVhc3VyZUJveC5zdHlsZS56SW5kZXg9dGhpcy5tYXAuWl9JTkRFWF9CQVNFLlBvcHVwLTE7dGhpcy5tYXAubGF5ZXJDb250YWluZXJEaXYuYXBwZW5kQ2hpbGQodGhpcy5tZWFzdXJlQm94KTt0aGlzLm1lYXN1cmVEaXZzLnB1c2godGhpcy5tZWFzdXJlQm94KTticmVhaztkZWZhdWx0OnRoaXMubWFwLmRpdi5zdHlsZS5jdXJzb3I9Im1vdmUifWRvY3VtZW50Lm9uc2VsZWN0c3RhcnQ9T3BlbkxheWVycy5GdW5jdGlvbi5GYWxzZTtPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSl9fSxzd2l0Y2hNb2RlVG86ZnVuY3Rpb24oYSl7aWYoYSE9dGhpcy5tb2RlKXt0aGlzLm1vZGUmJnRoaXMuYnV0dG9uc1t0aGlzLm1vZGVdJiZPcGVuTGF5ZXJzLlV0aWwubW9kaWZ5QWxwaGFJbWFnZURpdih0aGlzLmJ1dHRvbnNbdGhpcy5tb2RlXSxudWxsLG51bGwsbnVsbCx0aGlzLmJ1dHRvbnNbdGhpcy5tb2RlXS5pbWdMb2NhdGlvbik7aWYoIm1lYXN1cmUiPT10aGlzLm1vZGUmJiJtZWFzdXJlIiE9CmEpe2Zvcih2YXIgYj0wLGM9dGhpcy5tZWFzdXJlRGl2cy5sZW5ndGg7YjxjO2IrKyl0aGlzLm1lYXN1cmVEaXZzW2JdJiZ0aGlzLm1hcC5sYXllckNvbnRhaW5lckRpdi5yZW1vdmVDaGlsZCh0aGlzLm1lYXN1cmVEaXZzW2JdKTt0aGlzLm1lYXN1cmVEaXZzPVtdO3RoaXMubWVhc3VyZVN0YXJ0PW51bGx9dGhpcy5tb2RlPWE7dGhpcy5idXR0b25zW2FdJiZPcGVuTGF5ZXJzLlV0aWwubW9kaWZ5QWxwaGFJbWFnZURpdih0aGlzLmJ1dHRvbnNbYV0sbnVsbCxudWxsLG51bGwsdGhpcy5idXR0b25zW2FdLmFjdGl2ZUltZ0xvY2F0aW9uKTtzd2l0Y2godGhpcy5tb2RlKXtjYXNlICJ6b29tYm94Ijp0aGlzLm1hcC5kaXYuc3R5bGUuY3Vyc29yPSJjcm9zc2hhaXIiO2JyZWFrO2RlZmF1bHQ6dGhpcy5tYXAuZGl2LnN0eWxlLmN1cnNvcj0iIn19fSxsZWF2ZU1vZGU6ZnVuY3Rpb24oKXt0aGlzLnN3aXRjaE1vZGVUbygicGFuIil9LGRlZmF1bHRNb3VzZU1vdmU6ZnVuY3Rpb24oYSl7aWYobnVsbCE9CnRoaXMubW91c2VEcmFnU3RhcnQpe3N3aXRjaCh0aGlzLm1vZGUpe2Nhc2UgInpvb21ib3giOnZhciBiPU1hdGguYWJzKHRoaXMubW91c2VEcmFnU3RhcnQueC1hLnh5LngpLGM9TWF0aC5hYnModGhpcy5tb3VzZURyYWdTdGFydC55LWEueHkueSk7dGhpcy56b29tQm94LnN0eWxlLndpZHRoPU1hdGgubWF4KDEsYikrInB4Ijt0aGlzLnpvb21Cb3guc3R5bGUuaGVpZ2h0PU1hdGgubWF4KDEsYykrInB4IjthLnh5Lng8dGhpcy5tb3VzZURyYWdTdGFydC54JiYodGhpcy56b29tQm94LnN0eWxlLmxlZnQ9YS54eS54KyJweCIpO2EueHkueTx0aGlzLm1vdXNlRHJhZ1N0YXJ0LnkmJih0aGlzLnpvb21Cb3guc3R5bGUudG9wPWEueHkueSsicHgiKTticmVhaztkZWZhdWx0OnZhciBiPXRoaXMubW91c2VEcmFnU3RhcnQueC1hLnh5LngsYz10aGlzLm1vdXNlRHJhZ1N0YXJ0LnktYS54eS55LGQ9dGhpcy5tYXAuZ2V0U2l6ZSgpLGI9bmV3IE9wZW5MYXllcnMuUGl4ZWwoZC53LzIrYixkLmgvMisKYyksYj10aGlzLm1hcC5nZXRMb25MYXRGcm9tVmlld1BvcnRQeChiKTt0aGlzLm1hcC5zZXRDZW50ZXIoYixudWxsLCEwKTt0aGlzLm1vdXNlRHJhZ1N0YXJ0PWEueHkuY2xvbmUoKX10aGlzLnBlcmZvcm1lZERyYWc9ITB9fSxkZWZhdWx0TW91c2VVcDpmdW5jdGlvbihhKXtpZihPcGVuTGF5ZXJzLkV2ZW50LmlzTGVmdENsaWNrKGEpKXtzd2l0Y2godGhpcy5tb2RlKXtjYXNlICJ6b29tYm94Ijp0aGlzLnpvb21Cb3hFbmQoYSk7dGhpcy5zdGFydFZpYUtleWJvYXJkJiZ0aGlzLmxlYXZlTW9kZSgpO2JyZWFrO2Nhc2UgInBhbiI6dGhpcy5wZXJmb3JtZWREcmFnJiZ0aGlzLm1hcC5zZXRDZW50ZXIodGhpcy5tYXAuY2VudGVyKX10aGlzLm1vdXNlRHJhZ1N0YXJ0PWRvY3VtZW50Lm9uc2VsZWN0c3RhcnQ9bnVsbDt0aGlzLm1hcC5kaXYuc3R5bGUuY3Vyc29yPSJkZWZhdWx0In19LGRlZmF1bHRNb3VzZU91dDpmdW5jdGlvbihhKXtudWxsIT10aGlzLm1vdXNlRHJhZ1N0YXJ0JiZPcGVuTGF5ZXJzLlV0aWwubW91c2VMZWZ0KGEsCnRoaXMubWFwLnZpZXdQb3J0RGl2KSYmKHRoaXMuem9vbUJveCYmKHRoaXMucmVtb3ZlWm9vbUJveCgpLHRoaXMuc3RhcnRWaWFLZXlib2FyZCYmdGhpcy5sZWF2ZU1vZGUoKSksdGhpcy5tb3VzZURyYWdTdGFydD1udWxsLHRoaXMubWFwLmRpdi5zdHlsZS5jdXJzb3I9ImRlZmF1bHQiKX0sZGVmYXVsdENsaWNrOmZ1bmN0aW9uKCl7aWYodGhpcy5wZXJmb3JtZWREcmFnKXJldHVybiB0aGlzLnBlcmZvcm1lZERyYWc9ITF9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5Nb3VzZVRvb2xiYXIifSk7T3BlbkxheWVycy5Db250cm9sLk1vdXNlVG9vbGJhci5YPTY7T3BlbkxheWVycy5Db250cm9sLk1vdXNlVG9vbGJhci5ZPTMwMDsKT3BlbkxheWVycy5VdGlsLmV4dGVuZChPcGVuTGF5ZXJzLkxheWVyLkdyaWQucHJvdG90eXBlLHtnZXRHcmlkQm91bmRzOmZ1bmN0aW9uKCl7T3BlbkxheWVycy5Db25zb2xlLndhcm4oIlRoZSBnZXRHcmlkQm91bmRzKCkgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZC4gSXQgd2lsbCBiZSByZW1vdmVkIGluIDMuMC4gUGxlYXNlIHVzZSBnZXRUaWxlc0JvdW5kcygpIGluc3RlYWQuIik7cmV0dXJuIHRoaXMuZ2V0VGlsZXNCb3VuZHMoKX19KTtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKE9wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUse2NvbmNhdENoaWxkVmFsdWVzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPSIiLGQ9YS5maXJzdENoaWxkLGU7ZDspKGU9ZC5ub2RlVmFsdWUpJiYoYys9ZSksZD1kLm5leHRTaWJsaW5nOyIiPT1jJiZ2b2lkIDAhPWImJihjPWIpO3JldHVybiBjfX0pOwpPcGVuTGF5ZXJzLkxheWVyLldNUy5Qb3N0PU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllci5XTVMse3Vuc3VwcG9ydGVkQnJvd3NlcnM6WyJtb3ppbGxhIiwiZmlyZWZveCIsIm9wZXJhIl0sU1VQUE9SVEVEX1RSQU5TSVRJT05TOltdLHVzZVBvc3Q6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPVtdO2UucHVzaChhLGIsYyxkKTtPcGVuTGF5ZXJzLkxheWVyLldNUy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGUpO3RoaXMudXNlUG9zdD0tMT09T3BlbkxheWVycy5VdGlsLmluZGV4T2YodGhpcy51bnN1cHBvcnRlZEJyb3dzZXJzLE9wZW5MYXllcnMuQlJPV1NFUl9OQU1FKX0sYWRkVGlsZTpmdW5jdGlvbihhLGIpe3JldHVybiBuZXcgT3BlbkxheWVycy5UaWxlLkltYWdlKHRoaXMsYixhLG51bGwsdGhpcy50aWxlU2l6ZSx7bWF4R2V0VXJsTGVuZ3RoOnRoaXMudXNlUG9zdD8wOm51bGx9KX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5XTVMuUG9zdCJ9KTsKT3BlbkxheWVycy5MYXllci5XTVMuVW50aWxlZD1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIuV01TLHtzaW5nbGVUaWxlOiEwLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCl7T3BlbkxheWVycy5MYXllci5XTVMucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO09wZW5MYXllcnMuQ29uc29sZS53YXJuKCJUaGUgT3BlbkxheWVycy5MYXllci5XTVMuVW50aWxlZCBjbGFzcyBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gMy4wLiBJbnN0ZWFkLCB5b3Ugc2hvdWxkIHVzZSB0aGUgbm9ybWFsIE9wZW5MYXllcnMuTGF5ZXIuV01TIGNsYXNzLCBwYXNzaW5nIGl0IHRoZSBvcHRpb24gJ3NpbmdsZVRpbGUnIGFzIHRydWUuIil9LGNsb25lOmZ1bmN0aW9uKGEpe251bGw9PWEmJihhPW5ldyBPcGVuTGF5ZXJzLkxheWVyLldNUy5VbnRpbGVkKHRoaXMubmFtZSx0aGlzLnVybCx0aGlzLnBhcmFtcyx0aGlzLmdldE9wdGlvbnMoKSkpOwpyZXR1cm4gYT1PcGVuTGF5ZXJzLkxheWVyLldNUy5wcm90b3R5cGUuY2xvbmUuYXBwbHkodGhpcyxbYV0pfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLldNUy5VbnRpbGVkIn0pOwpPcGVuTGF5ZXJzLkxheWVyLk1hcFNlcnZlci5VbnRpbGVkPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllci5NYXBTZXJ2ZXIse3NpbmdsZVRpbGU6ITAsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyxkKXtPcGVuTGF5ZXJzLkxheWVyLk1hcFNlcnZlci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7T3BlbkxheWVycy5Db25zb2xlLndhcm4oIlRoZSBPcGVuTGF5ZXJzLkxheWVyLk1hcFNlcnZlci5VbnRpbGVkIGNsYXNzIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAzLjAuIEluc3RlYWQsIHlvdSBzaG91bGQgdXNlIHRoZSBub3JtYWwgT3BlbkxheWVycy5MYXllci5NYXBTZXJ2ZXIgY2xhc3MsIHBhc3NpbmcgaXQgdGhlIG9wdGlvbiAnc2luZ2xlVGlsZScgYXMgdHJ1ZS4iKX0sY2xvbmU6ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9bmV3IE9wZW5MYXllcnMuTGF5ZXIuTWFwU2VydmVyLlVudGlsZWQodGhpcy5uYW1lLHRoaXMudXJsLAp0aGlzLnBhcmFtcyx0aGlzLmdldE9wdGlvbnMoKSkpO3JldHVybiBhPU9wZW5MYXllcnMuTGF5ZXIuTWFwU2VydmVyLnByb3RvdHlwZS5jbG9uZS5hcHBseSh0aGlzLFthXSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuTGF5ZXIuTWFwU2VydmVyLlVudGlsZWQifSk7Ck9wZW5MYXllcnMuVGlsZS5XRlM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlRpbGUse2ZlYXR1cmVzOm51bGwsdXJsOm51bGwscmVxdWVzdDpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCxlKXtPcGVuTGF5ZXJzLlRpbGUucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMudXJsPWQ7dGhpcy5mZWF0dXJlcz1bXX0sZGVzdHJveTpmdW5jdGlvbigpe09wZW5MYXllcnMuVGlsZS5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5kZXN0cm95QWxsRmVhdHVyZXMoKTt0aGlzLnVybD10aGlzLmZlYXR1cmVzPW51bGw7dGhpcy5yZXF1ZXN0JiYodGhpcy5yZXF1ZXN0LmFib3J0KCksdGhpcy5yZXF1ZXN0PW51bGwpfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuZGVzdHJveUFsbEZlYXR1cmVzKCl9LGRyYXc6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLlRpbGUucHJvdG90eXBlLmRyYXcuYXBwbHkodGhpcyxhcmd1bWVudHMpJiYKKHRoaXMuaXNMb2FkaW5nP3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgicmVsb2FkIik6KHRoaXMuaXNMb2FkaW5nPSEwLHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgibG9hZHN0YXJ0IikpLHRoaXMubG9hZEZlYXR1cmVzRm9yUmVnaW9uKHRoaXMucmVxdWVzdFN1Y2Nlc3MpKX0sbG9hZEZlYXR1cmVzRm9yUmVnaW9uOmZ1bmN0aW9uKGEsYil7dGhpcy5yZXF1ZXN0JiZ0aGlzLnJlcXVlc3QuYWJvcnQoKTt0aGlzLnJlcXVlc3Q9T3BlbkxheWVycy5SZXF1ZXN0LkdFVCh7dXJsOnRoaXMudXJsLHN1Y2Nlc3M6YSxmYWlsdXJlOmIsc2NvcGU6dGhpc30pfSxyZXF1ZXN0U3VjY2VzczpmdW5jdGlvbihhKXtpZih0aGlzLmZlYXR1cmVzKXt2YXIgYj1hLnJlc3BvbnNlWE1MO2lmKCFifHwhYi5kb2N1bWVudEVsZW1lbnQpYj1hLnJlc3BvbnNlVGV4dDt0aGlzLmxheWVyLnZlY3Rvck1vZGU/dGhpcy5sYXllci5hZGRGZWF0dXJlcyh0aGlzLmxheWVyLmZvcm1hdE9iamVjdC5yZWFkKGIpKTooYT0KbmV3IE9wZW5MYXllcnMuRm9ybWF0LlhNTCwic3RyaW5nIj09dHlwZW9mIGImJihiPWEucmVhZChiKSksYj1hLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYiwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwiLCJmZWF0dXJlTWVtYmVyIiksdGhpcy5hZGRSZXN1bHRzKGIpKX10aGlzLmV2ZW50cyYmdGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJsb2FkZW5kIik7dGhpcy5yZXF1ZXN0PW51bGx9LGFkZFJlc3VsdHM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPW5ldyB0aGlzLmxheWVyLmZlYXR1cmVDbGFzcyh0aGlzLmxheWVyLGFbYl0pO3RoaXMuZmVhdHVyZXMucHVzaChjKX19LGRlc3Ryb3lBbGxGZWF0dXJlczpmdW5jdGlvbigpe2Zvcig7MDx0aGlzLmZlYXR1cmVzLmxlbmd0aDspdGhpcy5mZWF0dXJlcy5zaGlmdCgpLmRlc3Ryb3koKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5UaWxlLldGUyJ9KTsKT3BlbkxheWVycy5GZWF0dXJlLldGUz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRmVhdHVyZSx7aW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIpe3ZhciBjPWFyZ3VtZW50cyxjPXRoaXMucHJvY2Vzc1hNTE5vZGUoYiksYz1bYSxjLmxvbmxhdCxjXTtPcGVuTGF5ZXJzLkZlYXR1cmUucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxjKTt0aGlzLmNyZWF0ZU1hcmtlcigpO3RoaXMubGF5ZXIuYWRkTWFya2VyKHRoaXMubWFya2VyKX0sZGVzdHJveTpmdW5jdGlvbigpe251bGwhPXRoaXMubWFya2VyJiZ0aGlzLmxheWVyLnJlbW92ZU1hcmtlcih0aGlzLm1hcmtlcik7T3BlbkxheWVycy5GZWF0dXJlLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0scHJvY2Vzc1hNTE5vZGU6ZnVuY3Rpb24oYSl7YT1PcGVuTGF5ZXJzLkFqYXguZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbCIsImdtbCIsIlBvaW50Iik7CmE9T3BlbkxheWVycy5VdGlsLmdldFhtbE5vZGVWYWx1ZShPcGVuTGF5ZXJzLkFqYXguZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhWzBdLCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbCIsImdtbCIsImNvb3JkaW5hdGVzIilbMF0pLnNwbGl0KCIsIik7cmV0dXJue2xvbmxhdDpuZXcgT3BlbkxheWVycy5Mb25MYXQocGFyc2VGbG9hdChhWzBdKSxwYXJzZUZsb2F0KGFbMV0pKSxpZDpudWxsfX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5GZWF0dXJlLldGUyJ9KTsKT3BlbkxheWVycy5MYXllci5XRlM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkxheWVyLlZlY3RvcixPcGVuTGF5ZXJzLkxheWVyLk1hcmtlcnMse2lzQmFzZUxheWVyOiExLHRpbGU6bnVsbCxyYXRpbzoyLERFRkFVTFRfUEFSQU1TOntzZXJ2aWNlOiJXRlMiLHZlcnNpb246IjEuMC4wIixyZXF1ZXN0OiJHZXRGZWF0dXJlIn0sZmVhdHVyZUNsYXNzOm51bGwsZm9ybWF0Om51bGwsZm9ybWF0T2JqZWN0Om51bGwsZm9ybWF0T3B0aW9uczpudWxsLHZlY3Rvck1vZGU6ITAsZW5jb2RlQkJPWDohMSxleHRyYWN0QXR0cmlidXRlczohMSxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjLGQpe3ZvaWQgMD09ZCYmKGQ9e30pO2lmKGQuZmVhdHVyZUNsYXNzfHwhT3BlbkxheWVycy5MYXllci5WZWN0b3J8fCFPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKXRoaXMudmVjdG9yTW9kZT0hMTtjPU9wZW5MYXllcnMuVXRpbC51cHBlckNhc2VPYmplY3QoYyk7T3BlbkxheWVycy5VdGlsLmV4dGVuZChkLAp7cmVwb3J0RXJyb3I6ITF9KTt2YXIgZT1bXTtlLnB1c2goYSxkKTtPcGVuTGF5ZXJzLkxheWVyLlZlY3Rvci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGUpO2lmKCF0aGlzLnJlbmRlcmVyfHwhdGhpcy52ZWN0b3JNb2RlKXRoaXMudmVjdG9yTW9kZT0hMSxkLmZlYXR1cmVDbGFzc3x8KGQuZmVhdHVyZUNsYXNzPU9wZW5MYXllcnMuRmVhdHVyZS5XRlMpLE9wZW5MYXllcnMuTGF5ZXIuTWFya2Vycy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGUpO3RoaXMucGFyYW1zJiYodGhpcy5wYXJhbXMudHlwZW5hbWUmJiF0aGlzLm9wdGlvbnMudHlwZW5hbWUpJiYodGhpcy5vcHRpb25zLnR5cGVuYW1lPXRoaXMucGFyYW1zLnR5cGVuYW1lKTt0aGlzLm9wdGlvbnMuZ2VvbWV0cnlfY29sdW1ufHwodGhpcy5vcHRpb25zLmdlb21ldHJ5X2NvbHVtbj0idGhlX2dlb20iKTt0aGlzLnBhcmFtcz1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhjLE9wZW5MYXllcnMuVXRpbC51cHBlckNhc2VPYmplY3QodGhpcy5ERUZBVUxUX1BBUkFNUykpOwp0aGlzLnVybD1ifSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy52ZWN0b3JNb2RlP09wZW5MYXllcnMuTGF5ZXIuVmVjdG9yLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMsYXJndW1lbnRzKTpPcGVuTGF5ZXJzLkxheWVyLk1hcmtlcnMucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMudGlsZSYmdGhpcy50aWxlLmRlc3Ryb3koKTt0aGlzLmZvcm1hdD10aGlzLmZlYXR1cmVDbGFzcz10aGlzLnJhdGlvPXRoaXMudGlsZT1udWxsO3RoaXMuZm9ybWF0T2JqZWN0JiZ0aGlzLmZvcm1hdE9iamVjdC5kZXN0cm95JiZ0aGlzLmZvcm1hdE9iamVjdC5kZXN0cm95KCk7dGhpcy5leHRyYWN0QXR0cmlidXRlcz10aGlzLmVuY29kZUJCT1g9dGhpcy52ZWN0b3JNb2RlPXRoaXMuZm9ybWF0T3B0aW9ucz10aGlzLmZvcm1hdE9iamVjdD1udWxsfSxzZXRNYXA6ZnVuY3Rpb24oYSl7aWYodGhpcy52ZWN0b3JNb2RlKXtPcGVuTGF5ZXJzLkxheWVyLlZlY3Rvci5wcm90b3R5cGUuc2V0TWFwLmFwcGx5KHRoaXMsCmFyZ3VtZW50cyk7dmFyIGI9e2V4dHJhY3RBdHRyaWJ1dGVzOnRoaXMuZXh0cmFjdEF0dHJpYnV0ZXN9O09wZW5MYXllcnMuVXRpbC5leHRlbmQoYix0aGlzLmZvcm1hdE9wdGlvbnMpO3RoaXMubWFwJiYhdGhpcy5wcm9qZWN0aW9uLmVxdWFscyh0aGlzLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCkpJiYoYi5leHRlcm5hbFByb2plY3Rpb249dGhpcy5wcm9qZWN0aW9uLGIuaW50ZXJuYWxQcm9qZWN0aW9uPXRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSk7dGhpcy5mb3JtYXRPYmplY3Q9dGhpcy5mb3JtYXQ/bmV3IHRoaXMuZm9ybWF0KGIpOm5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5HTUwoYil9ZWxzZSBPcGVuTGF5ZXJzLkxheWVyLk1hcmtlcnMucHJvdG90eXBlLnNldE1hcC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG1vdmVUbzpmdW5jdGlvbihhLGIsYyl7dGhpcy52ZWN0b3JNb2RlP09wZW5MYXllcnMuTGF5ZXIuVmVjdG9yLnByb3RvdHlwZS5tb3ZlVG8uYXBwbHkodGhpcywKYXJndW1lbnRzKTpPcGVuTGF5ZXJzLkxheWVyLk1hcmtlcnMucHJvdG90eXBlLm1vdmVUby5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoYylyZXR1cm4hMTtiJiZ0aGlzLnZlY3Rvck1vZGUmJnRoaXMucmVuZGVyZXIuY2xlYXIoKTtpZih0aGlzLm9wdGlvbnMubWluWm9vbUxldmVsJiYoT3BlbkxheWVycy5Db25zb2xlLndhcm4oT3BlbkxheWVycy5pMThuKCJtaW5ab29tTGV2ZWxFcnJvciIpKSx0aGlzLm1hcC5nZXRab29tKCk8dGhpcy5vcHRpb25zLm1pblpvb21MZXZlbCkpcmV0dXJuIG51bGw7bnVsbD09YSYmKGE9dGhpcy5tYXAuZ2V0RXh0ZW50KCkpO3ZhciBkPW51bGw9PXRoaXMudGlsZSxlPSFkJiYhdGhpcy50aWxlLmJvdW5kcy5jb250YWluc0JvdW5kcyhhKTtpZihifHxkfHwhYyYmZSl7dmFyIGQ9YS5nZXRDZW50ZXJMb25MYXQoKSxlPWEuZ2V0V2lkdGgoKSp0aGlzLnJhdGlvLGY9YS5nZXRIZWlnaHQoKSp0aGlzLnJhdGlvLGQ9bmV3IE9wZW5MYXllcnMuQm91bmRzKGQubG9uLQplLzIsZC5sYXQtZi8yLGQubG9uK2UvMixkLmxhdCtmLzIpLGU9dGhpcy5tYXAuZ2V0U2l6ZSgpO2Uudyo9dGhpcy5yYXRpbztlLmgqPXRoaXMucmF0aW87dmFyIGY9bmV3IE9wZW5MYXllcnMuTG9uTGF0KGQubGVmdCxkLnRvcCksZj10aGlzLm1hcC5nZXRMYXllclB4RnJvbUxvbkxhdChmKSxnPXRoaXMuZ2V0RnVsbFJlcXVlc3RTdHJpbmcoKSxoPW51bGwsaT10aGlzLnBhcmFtcy5maWx0ZXJ8fHRoaXMucGFyYW1zLkZJTFRFUixoPWk/e0ZJTFRFUjppfTp7QkJPWDp0aGlzLmVuY29kZUJCT1g/ZC50b0JCT1goKTpkLnRvQXJyYXkoKX07aWYodGhpcy5tYXAmJiF0aGlzLnByb2plY3Rpb24uZXF1YWxzKHRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSkpe3ZhciBqPWQuY2xvbmUoKTtqLnRyYW5zZm9ybSh0aGlzLm1hcC5nZXRQcm9qZWN0aW9uT2JqZWN0KCksdGhpcy5wcm9qZWN0aW9uKTtpfHwoaC5CQk9YPXRoaXMuZW5jb2RlQkJPWD9qLnRvQkJPWCgpOmoudG9BcnJheSgpKX1nKz0KIiYiK09wZW5MYXllcnMuVXRpbC5nZXRQYXJhbWV0ZXJTdHJpbmcoaCk7dGhpcy50aWxlJiYodGhpcy52ZWN0b3JNb2RlPyh0aGlzLmRlc3Ryb3lGZWF0dXJlcygpLHRoaXMucmVuZGVyZXIuY2xlYXIoKSk6dGhpcy5jbGVhck1hcmtlcnMoKSx0aGlzLnJlbW92ZVRpbGVNb25pdG9yaW5nSG9va3ModGhpcy50aWxlKSx0aGlzLnRpbGUuZGVzdHJveSgpLHRoaXMudGlsZT1udWxsKTt0aGlzLnRpbGU9bmV3IE9wZW5MYXllcnMuVGlsZS5XRlModGhpcyxmLGQsZyxlKTt0aGlzLmFkZFRpbGVNb25pdG9yaW5nSG9va3ModGhpcy50aWxlKTt0aGlzLnRpbGUuZHJhdygpfX0sYWRkVGlsZU1vbml0b3JpbmdIb29rczpmdW5jdGlvbihhKXthLm9uTG9hZFN0YXJ0PWZ1bmN0aW9uKCl7dGhpcz09dGhpcy5sYXllci50aWxlJiZ0aGlzLmxheWVyLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvYWRzdGFydCIpfTthLmV2ZW50cy5yZWdpc3RlcigibG9hZHN0YXJ0IixhLGEub25Mb2FkU3RhcnQpO2Eub25Mb2FkRW5kPQpmdW5jdGlvbigpe3RoaXM9PXRoaXMubGF5ZXIudGlsZSYmKHRoaXMubGF5ZXIuZXZlbnRzLnRyaWdnZXJFdmVudCgidGlsZWxvYWRlZCIpLHRoaXMubGF5ZXIuZXZlbnRzLnRyaWdnZXJFdmVudCgibG9hZGVuZCIpKX07YS5ldmVudHMucmVnaXN0ZXIoImxvYWRlbmQiLGEsYS5vbkxvYWRFbmQpO2EuZXZlbnRzLnJlZ2lzdGVyKCJ1bmxvYWQiLGEsYS5vbkxvYWRFbmQpfSxyZW1vdmVUaWxlTW9uaXRvcmluZ0hvb2tzOmZ1bmN0aW9uKGEpe2EudW5sb2FkKCk7YS5ldmVudHMudW4oe2xvYWRzdGFydDphLm9uTG9hZFN0YXJ0LGxvYWRlbmQ6YS5vbkxvYWRFbmQsdW5sb2FkOmEub25Mb2FkRW5kLHNjb3BlOmF9KX0sb25NYXBSZXNpemU6ZnVuY3Rpb24oKXt0aGlzLnZlY3Rvck1vZGU/T3BlbkxheWVycy5MYXllci5WZWN0b3IucHJvdG90eXBlLm9uTWFwUmVzaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTpPcGVuTGF5ZXJzLkxheWVyLk1hcmtlcnMucHJvdG90eXBlLm9uTWFwUmVzaXplLmFwcGx5KHRoaXMsCmFyZ3VtZW50cyl9LGRpc3BsYXk6ZnVuY3Rpb24oKXt0aGlzLnZlY3Rvck1vZGU/T3BlbkxheWVycy5MYXllci5WZWN0b3IucHJvdG90eXBlLmRpc3BsYXkuYXBwbHkodGhpcyxhcmd1bWVudHMpOk9wZW5MYXllcnMuTGF5ZXIuTWFya2Vycy5wcm90b3R5cGUuZGlzcGxheS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG1lcmdlTmV3UGFyYW1zOmZ1bmN0aW9uKGEpe2E9W09wZW5MYXllcnMuVXRpbC51cHBlckNhc2VPYmplY3QoYSldO3JldHVybiBPcGVuTGF5ZXJzLkxheWVyLkhUVFBSZXF1ZXN0LnByb3RvdHlwZS5tZXJnZU5ld1BhcmFtcy5hcHBseSh0aGlzLGEpfSxjbG9uZTpmdW5jdGlvbihhKXtudWxsPT1hJiYoYT1uZXcgT3BlbkxheWVycy5MYXllci5XRlModGhpcy5uYW1lLHRoaXMudXJsLHRoaXMucGFyYW1zLHRoaXMuZ2V0T3B0aW9ucygpKSk7cmV0dXJuIGE9dGhpcy52ZWN0b3JNb2RlP09wZW5MYXllcnMuTGF5ZXIuVmVjdG9yLnByb3RvdHlwZS5jbG9uZS5hcHBseSh0aGlzLApbYV0pOk9wZW5MYXllcnMuTGF5ZXIuTWFya2Vycy5wcm90b3R5cGUuY2xvbmUuYXBwbHkodGhpcyxbYV0pfSxnZXRGdWxsUmVxdWVzdFN0cmluZzpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucHJvamVjdGlvbi5nZXRDb2RlKCl8fHRoaXMubWFwLmdldFByb2plY3Rpb24oKTt0aGlzLnBhcmFtcy5TUlM9Im5vbmUiPT1jP251bGw6YztyZXR1cm4gT3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5nZXRGdWxsUmVxdWVzdFN0cmluZy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGNvbW1pdDpmdW5jdGlvbigpe2lmKCF0aGlzLndyaXRlcil7dmFyIGE9e307dGhpcy5tYXAmJiF0aGlzLnByb2plY3Rpb24uZXF1YWxzKHRoaXMubWFwLmdldFByb2plY3Rpb25PYmplY3QoKSkmJihhLmV4dGVybmFsUHJvamVjdGlvbj10aGlzLnByb2plY3Rpb24sYS5pbnRlcm5hbFByb2plY3Rpb249dGhpcy5tYXAuZ2V0UHJvamVjdGlvbk9iamVjdCgpKTt0aGlzLndyaXRlcj1uZXcgT3BlbkxheWVycy5Gb3JtYXQuV0ZTKGEsCnRoaXMpfWE9dGhpcy53cml0ZXIud3JpdGUodGhpcy5mZWF0dXJlcyk7T3BlbkxheWVycy5SZXF1ZXN0LlBPU1Qoe3VybDp0aGlzLnVybCxkYXRhOmEsc3VjY2Vzczp0aGlzLmNvbW1pdFN1Y2Nlc3MsZmFpbHVyZTp0aGlzLmNvbW1pdEZhaWx1cmUsc2NvcGU6dGhpc30pfSxjb21taXRTdWNjZXNzOmZ1bmN0aW9uKGEpe2E9YS5yZXNwb25zZVRleHQ7aWYoLTEhPWEuaW5kZXhPZigiU1VDQ0VTUyIpKXt0aGlzLmNvbW1pdFJlcG9ydChPcGVuTGF5ZXJzLmkxOG4oImNvbW1pdFN1Y2Nlc3MiLHtyZXNwb25zZTphfSkpO2ZvcihhPTA7YTx0aGlzLmZlYXR1cmVzLmxlbmd0aDthKyspdGhpcy5mZWF0dXJlc1thXS5zdGF0ZT1udWxsfWVsc2UoLTEhPWEuaW5kZXhPZigiRkFJTEVEIil8fC0xIT1hLmluZGV4T2YoIkV4Y2VwdGlvbiIpKSYmdGhpcy5jb21taXRSZXBvcnQoT3BlbkxheWVycy5pMThuKCJjb21taXRGYWlsZWQiLHtyZXNwb25zZTphfSkpfSxjb21taXRGYWlsdXJlOmZ1bmN0aW9uKCl7fSwKY29tbWl0UmVwb3J0OmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuQ29uc29sZS51c2VyRXJyb3IoYSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLnRpbGUmJih0aGlzLnZlY3Rvck1vZGU/KHRoaXMucmVuZGVyZXIuY2xlYXIoKSx0aGlzLmZlYXR1cmVzLmxlbmd0aD0wKToodGhpcy5jbGVhck1hcmtlcnMoKSx0aGlzLm1hcmtlcnMubGVuZ3RoPTApLHRoaXMudGlsZS5kcmF3KCkpfSxnZXREYXRhRXh0ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmVjdG9yTW9kZT9PcGVuTGF5ZXJzLkxheWVyLlZlY3Rvci5wcm90b3R5cGUuZ2V0RGF0YUV4dGVudC5hcHBseSh0aGlzKTpPcGVuTGF5ZXJzLkxheWVyLk1hcmtlcnMucHJvdG90eXBlLmdldERhdGFFeHRlbnQuYXBwbHkodGhpcyl9LHNldE9wYWNpdHk6ZnVuY3Rpb24oYSl7dGhpcy52ZWN0b3JNb2RlP09wZW5MYXllcnMuTGF5ZXIuVmVjdG9yLnByb3RvdHlwZS5zZXRPcGFjaXR5LmFwcGx5KHRoaXMsW2FdKTpPcGVuTGF5ZXJzLkxheWVyLk1hcmtlcnMucHJvdG90eXBlLnNldE9wYWNpdHkuYXBwbHkodGhpcywKW2FdKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5XRlMifSk7Ck9wZW5MYXllcnMuTGF5ZXIuVmlydHVhbEVhcnRoPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllci5FdmVudFBhbmUsT3BlbkxheWVycy5MYXllci5GaXhlZFpvb21MZXZlbHMse01JTl9aT09NX0xFVkVMOjEsTUFYX1pPT01fTEVWRUw6MTksUkVTT0xVVElPTlM6WzEuNDA2MjUsMC43MDMxMjUsMC4zNTE1NjI1LDAuMTc1NzgxMjUsMC4wODc4OTA2MjUsMC4wNDM5NDUzMTI1LDAuMDIxOTcyNjU2MjUsMC4wMTA5ODYzMjgxMjUsMC4wMDU0OTMxNjQwNjI1LDAuMDAyNzQ2NTgyMDMxMjUsMC4wMDEzNzMyOTEwMTU2MjUsNi44NjY0NTUwNzgxMjVFLTQsMy40MzMyMjc1MzkwNjI1RS00LDEuNzE2NjEzNzY5NTMxMjVFLTQsOC41ODMwNjg4NDc2NTYyNUUtNSw0LjI5MTUzNDQyMzgyODEyNUUtNSwyLjE0NTc2NzIxMTkxNDA2MkUtNSwxLjA3Mjg4MzYwNTk1NzAzMUUtNSw1LjM2NDQxODAyOTc4NTE1RS02XSx0eXBlOm51bGwsd3JhcERhdGVMaW5lOiEwLHNwaGVyaWNhbE1lcmNhdG9yOiExLAphbmltYXRpb25FbmFibGVkOiEwLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLkxheWVyLkV2ZW50UGFuZS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7T3BlbkxheWVycy5MYXllci5GaXhlZFpvb21MZXZlbHMucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuc3BoZXJpY2FsTWVyY2F0b3ImJihPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsT3BlbkxheWVycy5MYXllci5TcGhlcmljYWxNZXJjYXRvciksdGhpcy5pbml0TWVyY2F0b3JQYXJhbWV0ZXJzKCkpfSxsb2FkTWFwT2JqZWN0OmZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5VdGlsLmNyZWF0ZURpdih0aGlzLm5hbWUpLGI9dGhpcy5tYXAuZ2V0U2l6ZSgpO2Euc3R5bGUud2lkdGg9Yi53KyJweCI7YS5zdHlsZS5oZWlnaHQ9Yi5oKyJweCI7dGhpcy5kaXYuYXBwZW5kQ2hpbGQoYSk7dHJ5e3RoaXMubWFwT2JqZWN0PW5ldyBWRU1hcCh0aGlzLm5hbWUpfWNhdGNoKGMpe31pZihudWxsIT0KdGhpcy5tYXBPYmplY3Qpe3RyeXt0aGlzLm1hcE9iamVjdC5Mb2FkTWFwKG51bGwsbnVsbCx0aGlzLnR5cGUsITApLHRoaXMubWFwT2JqZWN0LkF0dGFjaEV2ZW50KCJvbm1vdXNlZG93biIsT3BlbkxheWVycy5GdW5jdGlvbi5UcnVlKX1jYXRjaChkKXt9dGhpcy5tYXBPYmplY3QuSGlkZURhc2hib2FyZCgpOyJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLm1hcE9iamVjdC5TZXRBbmltYXRpb25FbmFibGVkJiZ0aGlzLm1hcE9iamVjdC5TZXRBbmltYXRpb25FbmFibGVkKHRoaXMuYW5pbWF0aW9uRW5hYmxlZCl9aWYoIXRoaXMubWFwT2JqZWN0fHwhdGhpcy5tYXBPYmplY3QudmVtYXBjb250cm9sfHwhdGhpcy5tYXBPYmplY3QudmVtYXBjb250cm9sLlBhbk1hcHx8ImZ1bmN0aW9uIiE9dHlwZW9mIHRoaXMubWFwT2JqZWN0LnZlbWFwY29udHJvbC5QYW5NYXApdGhpcy5kcmFnUGFuTWFwT2JqZWN0PW51bGx9LG9uTWFwUmVzaXplOmZ1bmN0aW9uKCl7dGhpcy5tYXBPYmplY3QuUmVzaXplKHRoaXMubWFwLnNpemUudywKdGhpcy5tYXAuc2l6ZS5oKX0sZ2V0V2FybmluZ0hUTUw6ZnVuY3Rpb24oKXtyZXR1cm4gT3BlbkxheWVycy5pMThuKCJnZXRMYXllcldhcm5pbmciLHtsYXllclR5cGU6IlZFIixsYXllckxpYjoiVmlydHVhbEVhcnRoIn0pfSxzZXRNYXBPYmplY3RDZW50ZXI6ZnVuY3Rpb24oYSxiKXt0aGlzLm1hcE9iamVjdC5TZXRDZW50ZXJBbmRab29tKGEsYil9LGdldE1hcE9iamVjdENlbnRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcE9iamVjdC5HZXRDZW50ZXIoKX0sZHJhZ1Bhbk1hcE9iamVjdDpmdW5jdGlvbihhLGIpe3RoaXMubWFwT2JqZWN0LnZlbWFwY29udHJvbC5QYW5NYXAoYSwtYil9LGdldE1hcE9iamVjdFpvb206ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXBPYmplY3QuR2V0Wm9vbUxldmVsKCl9LGdldE1hcE9iamVjdExvbkxhdEZyb21NYXBPYmplY3RQaXhlbDpmdW5jdGlvbihhKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFZFUGl4ZWw/dGhpcy5tYXBPYmplY3QuUGl4ZWxUb0xhdExvbmcoYSk6CnRoaXMubWFwT2JqZWN0LlBpeGVsVG9MYXRMb25nKGEueCxhLnkpfSxnZXRNYXBPYmplY3RQaXhlbEZyb21NYXBPYmplY3RMb25MYXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubWFwT2JqZWN0LkxhdExvbmdUb1BpeGVsKGEpfSxnZXRMb25naXR1ZGVGcm9tTWFwT2JqZWN0TG9uTGF0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNwaGVyaWNhbE1lcmNhdG9yP3RoaXMuZm9yd2FyZE1lcmNhdG9yKGEuTG9uZ2l0dWRlLGEuTGF0aXR1ZGUpLmxvbjphLkxvbmdpdHVkZX0sZ2V0TGF0aXR1ZGVGcm9tTWFwT2JqZWN0TG9uTGF0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNwaGVyaWNhbE1lcmNhdG9yP3RoaXMuZm9yd2FyZE1lcmNhdG9yKGEuTG9uZ2l0dWRlLGEuTGF0aXR1ZGUpLmxhdDphLkxhdGl0dWRlfSxnZXRNYXBPYmplY3RMb25MYXRGcm9tTG9uTGF0OmZ1bmN0aW9uKGEsYil7dmFyIGM7dGhpcy5zcGhlcmljYWxNZXJjYXRvcj8oYz10aGlzLmludmVyc2VNZXJjYXRvcihhLGIpLApjPW5ldyBWRUxhdExvbmcoYy5sYXQsYy5sb24pKTpjPW5ldyBWRUxhdExvbmcoYixhKTtyZXR1cm4gY30sZ2V0WEZyb21NYXBPYmplY3RQaXhlbDpmdW5jdGlvbihhKXtyZXR1cm4gYS54fSxnZXRZRnJvbU1hcE9iamVjdFBpeGVsOmZ1bmN0aW9uKGEpe3JldHVybiBhLnl9LGdldE1hcE9iamVjdFBpeGVsRnJvbVhZOmZ1bmN0aW9uKGEsYil7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBWRVBpeGVsP25ldyBWRVBpeGVsKGEsYik6bmV3IE1zbi5WRS5QaXhlbChhLGIpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLlZpcnR1YWxFYXJ0aCJ9KTsKKGZ1bmN0aW9uKCl7aWYoIXdpbmRvdy5nb29nbGV8fCFnb29nbGUuZ2VhcnMpe3ZhciBhPW51bGw7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBHZWFyc0ZhY3RvcnkpYT1uZXcgR2VhcnNGYWN0b3J5O2Vsc2UgdHJ5e2E9bmV3IEFjdGl2ZVhPYmplY3QoIkdlYXJzLkZhY3RvcnkiKSwtMSE9YS5nZXRCdWlsZEluZm8oKS5pbmRleE9mKCJpZV9tb2JpbGUiKSYmYS5wcml2YXRlU2V0R2xvYmFsT2JqZWN0KHRoaXMpfWNhdGNoKGIpeyJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yLm1pbWVUeXBlcyYmbmF2aWdhdG9yLm1pbWVUeXBlc1siYXBwbGljYXRpb24veC1nb29nbGVnZWFycyJdJiYoYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvYmplY3QiKSxhLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGEud2lkdGg9MCxhLmhlaWdodD0wLGEudHlwZT0iYXBwbGljYXRpb24veC1nb29nbGVnZWFycyIsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGEpKX1hJiYod2luZG93Lmdvb2dsZXx8Cihnb29nbGU9e30pLGdvb2dsZS5nZWFyc3x8KGdvb2dsZS5nZWFycz17ZmFjdG9yeTphfSkpfX0pKCk7T3BlbkxheWVycy5Qcm90b2NvbC5TUUw9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlByb3RvY29sLHtkYXRhYmFzZU5hbWU6Im9sIix0YWJsZU5hbWU6Im9sX3ZlY3Rvcl9mZWF0dXJlcyIscG9zdFJlYWRGaWx0ZXJpbmc6ITAsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlByb3RvY29sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2FdKX0sZGVzdHJveTpmdW5jdGlvbigpe09wZW5MYXllcnMuUHJvdG9jb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyl9LHN1cHBvcnRlZDpmdW5jdGlvbigpe3JldHVybiExfSxldmFsdWF0ZUZpbHRlcjpmdW5jdGlvbihhLGIpe3JldHVybiBiJiZ0aGlzLnBvc3RSZWFkRmlsdGVyaW5nP2IuZXZhbHVhdGUoYSk6ITB9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuUHJvdG9jb2wuU1FMIn0pOwpPcGVuTGF5ZXJzLlByb3RvY29sLlNRTC5HZWFycz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuUHJvdG9jb2wuU1FMLHtGSURfUFJFRklYOiJfX2dlYXJzX2ZpZF9fIixOVUxMX0dFT01FVFJZOiJfX2dlYXJzX251bGxfZ2VvbWV0cnlfXyIsTlVMTF9GRUFUVVJFX1NUQVRFOiJfX2dlYXJzX251bGxfZmVhdHVyZV9zdGF0ZV9fIixqc29uUGFyc2VyOm51bGwsd2t0UGFyc2VyOm51bGwsZmlkUmVnRXhwOm51bGwsc2F2ZUZlYXR1cmVTdGF0ZTohMCx0eXBlT2ZGaWQ6InN0cmluZyIsZGI6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe3RoaXMuc3VwcG9ydGVkKCkmJihPcGVuTGF5ZXJzLlByb3RvY29sLlNRTC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSksdGhpcy5qc29uUGFyc2VyPW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5KU09OLHRoaXMud2t0UGFyc2VyPW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5XS1QsdGhpcy5maWRSZWdFeHA9UmVnRXhwKCJeIit0aGlzLkZJRF9QUkVGSVgpLAp0aGlzLmluaXRpYWxpemVEYXRhYmFzZSgpKX0saW5pdGlhbGl6ZURhdGFiYXNlOmZ1bmN0aW9uKCl7dGhpcy5kYj1nb29nbGUuZ2VhcnMuZmFjdG9yeS5jcmVhdGUoImJldGEuZGF0YWJhc2UiKTt0aGlzLmRiLm9wZW4odGhpcy5kYXRhYmFzZU5hbWUpO3RoaXMuZGIuZXhlY3V0ZSgiQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgIit0aGlzLnRhYmxlTmFtZSsiIChmaWQgVEVYVCBVTklRVUUsIGdlb21ldHJ5IFRFWFQsIHByb3BlcnRpZXMgVEVYVCwgIHN0YXRlIFRFWFQpIil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmRiLmNsb3NlKCk7dGhpcy53a3RQYXJzZXI9dGhpcy5qc29uUGFyc2VyPXRoaXMuZGI9bnVsbDtPcGVuTGF5ZXJzLlByb3RvY29sLlNRTC5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzKX0sc3VwcG9ydGVkOmZ1bmN0aW9uKCl7cmV0dXJuISghd2luZG93Lmdvb2dsZXx8IWdvb2dsZS5nZWFycyl9LHJlYWQ6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Qcm90b2NvbC5wcm90b3R5cGUucmVhZC5hcHBseSh0aGlzLAphcmd1bWVudHMpO2Zvcih2YXIgYT1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyhhLHRoaXMub3B0aW9ucyksYixjPVtdLGQ9dGhpcy5kYi5leGVjdXRlKCJTRUxFQ1QgKiBGUk9NICIrdGhpcy50YWJsZU5hbWUpO2QuaXNWYWxpZFJvdygpOyliPXRoaXMudW5mcmVlemVGZWF0dXJlKGQpLHRoaXMuZXZhbHVhdGVGaWx0ZXIoYixhLmZpbHRlcikmJihhLm5vRmVhdHVyZVN0YXRlUmVzZXR8fChiLnN0YXRlPW51bGwpLGMucHVzaChiKSksZC5uZXh0KCk7ZC5jbG9zZSgpO2I9bmV3IE9wZW5MYXllcnMuUHJvdG9jb2wuUmVzcG9uc2Uoe2NvZGU6T3BlbkxheWVycy5Qcm90b2NvbC5SZXNwb25zZS5TVUNDRVNTLHJlcXVlc3RUeXBlOiJyZWFkIixmZWF0dXJlczpjfSk7YSYmYS5jYWxsYmFjayYmYS5jYWxsYmFjay5jYWxsKGEuc2NvcGUsYik7cmV0dXJuIGJ9LHVuZnJlZXplRmVhdHVyZTpmdW5jdGlvbihhKXt2YXIgYjtiPWEuZmllbGRCeU5hbWUoImdlb21ldHJ5Iik7Yj1iPT10aGlzLk5VTExfR0VPTUVUUlk/Cm5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yOnRoaXMud2t0UGFyc2VyLnJlYWQoYik7Yi5hdHRyaWJ1dGVzPXRoaXMuanNvblBhcnNlci5yZWFkKGEuZmllbGRCeU5hbWUoInByb3BlcnRpZXMiKSk7Yi5maWQ9dGhpcy5leHRyYWN0RmlkRnJvbUZpZWxkKGEuZmllbGRCeU5hbWUoImZpZCIpKTthPWEuZmllbGRCeU5hbWUoInN0YXRlIik7YT09dGhpcy5OVUxMX0ZFQVRVUkVfU1RBVEUmJihhPW51bGwpO2Iuc3RhdGU9YTtyZXR1cm4gYn0sZXh0cmFjdEZpZEZyb21GaWVsZDpmdW5jdGlvbihhKXshYS5tYXRjaCh0aGlzLmZpZFJlZ0V4cCkmJiJudW1iZXIiPT10aGlzLnR5cGVPZkZpZCYmKGE9cGFyc2VGbG9hdChhKSk7cmV0dXJuIGF9LGNyZWF0ZTpmdW5jdGlvbihhLGIpe3ZhciBiPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGIsdGhpcy5vcHRpb25zKSxjPXRoaXMuY3JlYXRlT3JVcGRhdGUoYSk7Yy5yZXF1ZXN0VHlwZT0iY3JlYXRlIjtiJiZiLmNhbGxiYWNrJiZiLmNhbGxiYWNrLmNhbGwoYi5zY29wZSwKYyk7cmV0dXJuIGN9LHVwZGF0ZTpmdW5jdGlvbihhLGIpe3ZhciBiPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKGIsdGhpcy5vcHRpb25zKSxjPXRoaXMuY3JlYXRlT3JVcGRhdGUoYSk7Yy5yZXF1ZXN0VHlwZT0idXBkYXRlIjtiJiZiLmNhbGxiYWNrJiZiLmNhbGxiYWNrLmNhbGwoYi5zY29wZSxjKTtyZXR1cm4gY30sY3JlYXRlT3JVcGRhdGU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSl8fChhPVthXSk7dmFyIGIsYz1hLmxlbmd0aCxkLGU9QXJyYXkoYyk7Zm9yKGI9MDtiPGM7YisrKXtkPWFbYl07dmFyIGY9dGhpcy5mcmVlemVGZWF0dXJlKGQpO3RoaXMuZGIuZXhlY3V0ZSgiUkVQTEFDRSBJTlRPICIrdGhpcy50YWJsZU5hbWUrIiAoZmlkLCBnZW9tZXRyeSwgcHJvcGVydGllcywgc3RhdGUpIFZBTFVFUyAoPywgPywgPywgPykiLGYpO2Q9ZC5jbG9uZSgpO2QuZmlkPXRoaXMuZXh0cmFjdEZpZEZyb21GaWVsZChmWzBdKTtlW2JdPWR9cmV0dXJuIG5ldyBPcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlKHtjb2RlOk9wZW5MYXllcnMuUHJvdG9jb2wuUmVzcG9uc2UuU1VDQ0VTUywKZmVhdHVyZXM6ZSxyZXFGZWF0dXJlczphfSl9LGZyZWV6ZUZlYXR1cmU6ZnVuY3Rpb24oYSl7YS5maWQ9bnVsbCE9YS5maWQ/IiIrYS5maWQ6T3BlbkxheWVycy5VdGlsLmNyZWF0ZVVuaXF1ZUlEKHRoaXMuRklEX1BSRUZJWCk7dmFyIGI9bnVsbCE9YS5nZW9tZXRyeT9hLmdlb21ldHJ5LnRvU3RyaW5nKCk6dGhpcy5OVUxMX0dFT01FVFJZLGM9dGhpcy5qc29uUGFyc2VyLndyaXRlKGEuYXR0cmlidXRlcyksZD10aGlzLmdldEZlYXR1cmVTdGF0ZUZvckZyZWV6ZShhKTtyZXR1cm5bYS5maWQsYixjLGRdfSxnZXRGZWF0dXJlU3RhdGVGb3JGcmVlemU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc2F2ZUZlYXR1cmVTdGF0ZT90aGlzLmNyZWF0ZWRPZmZsaW5lKGEpP09wZW5MYXllcnMuU3RhdGUuSU5TRVJUOmEuc3RhdGU6dGhpcy5OVUxMX0ZFQVRVUkVfU1RBVEV9LCJkZWxldGUiOmZ1bmN0aW9uKGEsYil7T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYSl8fChhPVthXSk7dmFyIGI9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYiwKdGhpcy5vcHRpb25zKSxjLGQsZTtjPTA7Zm9yKGQ9YS5sZW5ndGg7YzxkO2MrKylpZihlPWFbY10sdGhpcy5zYXZlRmVhdHVyZVN0YXRlJiYhdGhpcy5jcmVhdGVkT2ZmbGluZShlKSl7dmFyIGY9ZS5jbG9uZSgpO2YuZmlkPWUuZmlkO2YuZ2VvbWV0cnkmJihmLmdlb21ldHJ5LmRlc3Ryb3koKSxmLmdlb21ldHJ5PW51bGwpO2Yuc3RhdGU9ZS5zdGF0ZTt0aGlzLmNyZWF0ZU9yVXBkYXRlKGYpfWVsc2UgdGhpcy5kYi5leGVjdXRlKCJERUxFVEUgRlJPTSAiK3RoaXMudGFibGVOYW1lKyIgV0hFUkUgZmlkID0gPyIsW2UuZmlkXSk7Yz1uZXcgT3BlbkxheWVycy5Qcm90b2NvbC5SZXNwb25zZSh7Y29kZTpPcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlLlNVQ0NFU1MscmVxdWVzdFR5cGU6ImRlbGV0ZSIscmVxRmVhdHVyZXM6YX0pO2ImJmIuY2FsbGJhY2smJmIuY2FsbGJhY2suY2FsbChiLnNjb3BlLGMpO3JldHVybiBjfSxjcmVhdGVkT2ZmbGluZTpmdW5jdGlvbihhKXtyZXR1cm4ic3RyaW5nIj09CnR5cGVvZiBhLmZpZCYmISFhLmZpZC5tYXRjaCh0aGlzLmZpZFJlZ0V4cCl9LGNvbW1pdDpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7KytnPGYmJihhLmxhc3Q9ITEpO3RoaXMuY2FsbFVzZXJDYWxsYmFjayhiLGEpfWZvcih2YXIgZCxlPVtdLGY9MCxnPTAsaD1bXSxpPVtdLGo9W10saz1hLmxlbmd0aC0xOzA8PWs7ay0tKXN3aXRjaChkPWFba10sZC5zdGF0ZSl7Y2FzZSBPcGVuTGF5ZXJzLlN0YXRlLklOU0VSVDpoLnB1c2goZCk7YnJlYWs7Y2FzZSBPcGVuTGF5ZXJzLlN0YXRlLlVQREFURTppLnB1c2goZCk7YnJlYWs7Y2FzZSBPcGVuTGF5ZXJzLlN0YXRlLkRFTEVURTpqLnB1c2goZCl9MDxoLmxlbmd0aCYmKGYrKyxkPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtjYWxsYmFjazpjLHNjb3BlOnRoaXN9LGIuY3JlYXRlKSxlLnB1c2godGhpcy5jcmVhdGUoaCxkKSkpOzA8aS5sZW5ndGgmJihmKyssZD1PcGVuTGF5ZXJzLlV0aWwuYXBwbHlEZWZhdWx0cyh7Y2FsbGJhY2s6YywKc2NvcGU6dGhpc30sYi51cGRhdGUpLGUucHVzaCh0aGlzLnVwZGF0ZShpLGQpKSk7MDxqLmxlbmd0aCYmKGYrKyxkPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHtjYWxsYmFjazpjLHNjb3BlOnRoaXN9LGJbImRlbGV0ZSJdKSxlLnB1c2godGhpc1siZGVsZXRlIl0oaixkKSkpO3JldHVybiBlfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuZGIuZXhlY3V0ZSgiREVMRVRFIEZST00gIit0aGlzLnRhYmxlTmFtZSl9LGNhbGxVc2VyQ2FsbGJhY2s6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hW2IucmVxdWVzdFR5cGVdO2MmJmMuY2FsbGJhY2smJmMuY2FsbGJhY2suY2FsbChjLnNjb3BlLGIpO2IubGFzdCYmYS5jYWxsYmFjayYmYS5jYWxsYmFjay5jYWxsKGEuc2NvcGUpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlByb3RvY29sLlNRTC5HZWFycyJ9KTsKT3BlbkxheWVycy5MYXllci5ZYWhvbz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuTGF5ZXIuRXZlbnRQYW5lLE9wZW5MYXllcnMuTGF5ZXIuRml4ZWRab29tTGV2ZWxzLHtNSU5fWk9PTV9MRVZFTDowLE1BWF9aT09NX0xFVkVMOjE3LFJFU09MVVRJT05TOlsxLjQwNjI1LDAuNzAzMTI1LDAuMzUxNTYyNSwwLjE3NTc4MTI1LDAuMDg3ODkwNjI1LDAuMDQzOTQ1MzEyNSwwLjAyMTk3MjY1NjI1LDAuMDEwOTg2MzI4MTI1LDAuMDA1NDkzMTY0MDYyNSwwLjAwMjc0NjU4MjAzMTI1LDAuMDAxMzczMjkxMDE1NjI1LDYuODY2NDU1MDc4MTI1RS00LDMuNDMzMjI3NTM5MDYyNUUtNCwxLjcxNjYxMzc2OTUzMTI1RS00LDguNTgzMDY4ODQ3NjU2MjVFLTUsNC4yOTE1MzQ0MjM4MjgxMjVFLTUsMi4xNDU3NjcyMTE5MTQwNjJFLTUsMS4wNzI4ODM2MDU5NTcwMzFFLTVdLHR5cGU6bnVsbCx3cmFwRGF0ZUxpbmU6ITAsc3BoZXJpY2FsTWVyY2F0b3I6ITEsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLApiKXtPcGVuTGF5ZXJzLkxheWVyLkV2ZW50UGFuZS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7T3BlbkxheWVycy5MYXllci5GaXhlZFpvb21MZXZlbHMucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuc3BoZXJpY2FsTWVyY2F0b3ImJihPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHRoaXMsT3BlbkxheWVycy5MYXllci5TcGhlcmljYWxNZXJjYXRvciksdGhpcy5pbml0TWVyY2F0b3JQYXJhbWV0ZXJzKCkpfSxsb2FkTWFwT2JqZWN0OmZ1bmN0aW9uKCl7dHJ5e3ZhciBhPXRoaXMuZ2V0TWFwT2JqZWN0U2l6ZUZyb21PTFNpemUodGhpcy5tYXAuZ2V0U2l6ZSgpKTt0aGlzLm1hcE9iamVjdD1uZXcgWU1hcCh0aGlzLmRpdix0aGlzLnR5cGUsYSk7dGhpcy5tYXBPYmplY3QuZGlzYWJsZUtleUNvbnRyb2xzKCk7dGhpcy5tYXBPYmplY3QuZGlzYWJsZURyYWdNYXAoKTtpZighdGhpcy5tYXBPYmplY3QubW92ZUJ5WFl8fCJmdW5jdGlvbiIhPQp0eXBlb2YgdGhpcy5tYXBPYmplY3QubW92ZUJ5WFkpdGhpcy5kcmFnUGFuTWFwT2JqZWN0PW51bGx9Y2F0Y2goYil7fX0sb25NYXBSZXNpemU6ZnVuY3Rpb24oKXt0cnl7dmFyIGE9dGhpcy5nZXRNYXBPYmplY3RTaXplRnJvbU9MU2l6ZSh0aGlzLm1hcC5nZXRTaXplKCkpO3RoaXMubWFwT2JqZWN0LnJlc2l6ZVRvKGEpfWNhdGNoKGIpe319LHNldE1hcDpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLkxheWVyLkV2ZW50UGFuZS5wcm90b3R5cGUuc2V0TWFwLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLm1hcC5ldmVudHMucmVnaXN0ZXIoIm1vdmVlbmQiLHRoaXMsdGhpcy5maXhZYWhvb0V2ZW50UGFuZSl9LGZpeFlhaG9vRXZlbnRQYW5lOmZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5VdGlsLmdldEVsZW1lbnQoInlnZGRmZGl2Iik7bnVsbCE9YSYmKG51bGwhPWEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpLHRoaXMubWFwLmV2ZW50cy51bnJlZ2lzdGVyKCJtb3ZlZW5kIiwKdGhpcyx0aGlzLmZpeFlhaG9vRXZlbnRQYW5lKSl9LGdldFdhcm5pbmdIVE1MOmZ1bmN0aW9uKCl7cmV0dXJuIE9wZW5MYXllcnMuaTE4bigiZ2V0TGF5ZXJXYXJuaW5nIix7bGF5ZXJUeXBlOiJZYWhvbyIsbGF5ZXJMaWI6IllhaG9vIn0pfSxnZXRPTFpvb21Gcm9tTWFwT2JqZWN0Wm9vbTpmdW5jdGlvbihhKXt2YXIgYj1udWxsO251bGwhPWEmJihiPU9wZW5MYXllcnMuTGF5ZXIuRml4ZWRab29tTGV2ZWxzLnByb3RvdHlwZS5nZXRPTFpvb21Gcm9tTWFwT2JqZWN0Wm9vbS5hcHBseSh0aGlzLFthXSksYj0xOC1iKTtyZXR1cm4gYn0sZ2V0TWFwT2JqZWN0Wm9vbUZyb21PTFpvb206ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtudWxsIT1hJiYoYj1PcGVuTGF5ZXJzLkxheWVyLkZpeGVkWm9vbUxldmVscy5wcm90b3R5cGUuZ2V0TWFwT2JqZWN0Wm9vbUZyb21PTFpvb20uYXBwbHkodGhpcyxbYV0pLGI9MTgtYik7cmV0dXJuIGJ9LHNldE1hcE9iamVjdENlbnRlcjpmdW5jdGlvbihhLGIpe3RoaXMubWFwT2JqZWN0LmRyYXdab29tQW5kQ2VudGVyKGEsCmIpfSxnZXRNYXBPYmplY3RDZW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXBPYmplY3QuZ2V0Q2VudGVyTGF0TG9uKCl9LGRyYWdQYW5NYXBPYmplY3Q6ZnVuY3Rpb24oYSxiKXt0aGlzLm1hcE9iamVjdC5tb3ZlQnlYWSh7eDotYSx5OmJ9KX0sZ2V0TWFwT2JqZWN0Wm9vbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcE9iamVjdC5nZXRab29tTGV2ZWwoKX0sZ2V0TWFwT2JqZWN0TG9uTGF0RnJvbU1hcE9iamVjdFBpeGVsOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1hcE9iamVjdC5jb252ZXJ0WFlMYXRMb24oYSl9LGdldE1hcE9iamVjdFBpeGVsRnJvbU1hcE9iamVjdExvbkxhdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tYXBPYmplY3QuY29udmVydExhdExvblhZKGEpfSxnZXRMb25naXR1ZGVGcm9tTWFwT2JqZWN0TG9uTGF0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNwaGVyaWNhbE1lcmNhdG9yP3RoaXMuZm9yd2FyZE1lcmNhdG9yKGEuTG9uLGEuTGF0KS5sb246CmEuTG9ufSxnZXRMYXRpdHVkZUZyb21NYXBPYmplY3RMb25MYXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc3BoZXJpY2FsTWVyY2F0b3I/dGhpcy5mb3J3YXJkTWVyY2F0b3IoYS5Mb24sYS5MYXQpLmxhdDphLkxhdH0sZ2V0TWFwT2JqZWN0TG9uTGF0RnJvbUxvbkxhdDpmdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuc3BoZXJpY2FsTWVyY2F0b3I/KGM9dGhpcy5pbnZlcnNlTWVyY2F0b3IoYSxiKSxjPW5ldyBZR2VvUG9pbnQoYy5sYXQsYy5sb24pKTpjPW5ldyBZR2VvUG9pbnQoYixhKTtyZXR1cm4gY30sZ2V0WEZyb21NYXBPYmplY3RQaXhlbDpmdW5jdGlvbihhKXtyZXR1cm4gYS54fSxnZXRZRnJvbU1hcE9iamVjdFBpeGVsOmZ1bmN0aW9uKGEpe3JldHVybiBhLnl9LGdldE1hcE9iamVjdFBpeGVsRnJvbVhZOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBZQ29vcmRQb2ludChhLGIpfSxnZXRNYXBPYmplY3RTaXplRnJvbU9MU2l6ZTpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IFlTaXplKGEudywKYS5oKX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5MYXllci5ZYWhvbyJ9KTsKT3BlbkxheWVycy5MYXllci5HTUw9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkxheWVyLlZlY3Rvcix7bG9hZGVkOiExLGZvcm1hdDpudWxsLGZvcm1hdE9wdGlvbnM6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXTtkLnB1c2goYSxjKTtPcGVuTGF5ZXJzLkxheWVyLlZlY3Rvci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGQpO3RoaXMudXJsPWJ9LHNldFZpc2liaWxpdHk6ZnVuY3Rpb24oYSxiKXtPcGVuTGF5ZXJzLkxheWVyLlZlY3Rvci5wcm90b3R5cGUuc2V0VmlzaWJpbGl0eS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy52aXNpYmlsaXR5JiYhdGhpcy5sb2FkZWQmJnRoaXMubG9hZEdNTCgpfSxtb3ZlVG86ZnVuY3Rpb24oYSxiLGMpe09wZW5MYXllcnMuTGF5ZXIuVmVjdG9yLnByb3RvdHlwZS5tb3ZlVG8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMudmlzaWJpbGl0eSYmIXRoaXMubG9hZGVkJiZ0aGlzLmxvYWRHTUwoKX0sCmxvYWRHTUw6ZnVuY3Rpb24oKXt0aGlzLmxvYWRlZHx8KHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgibG9hZHN0YXJ0IiksT3BlbkxheWVycy5SZXF1ZXN0LkdFVCh7dXJsOnRoaXMudXJsLHN1Y2Nlc3M6dGhpcy5yZXF1ZXN0U3VjY2VzcyxmYWlsdXJlOnRoaXMucmVxdWVzdEZhaWx1cmUsc2NvcGU6dGhpc30pLHRoaXMubG9hZGVkPSEwKX0sc2V0VXJsOmZ1bmN0aW9uKGEpe3RoaXMudXJsPWE7dGhpcy5kZXN0cm95RmVhdHVyZXMoKTt0aGlzLmxvYWRlZD0hMTt0aGlzLmxvYWRHTUwoKX0scmVxdWVzdFN1Y2Nlc3M6ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXNwb25zZVhNTDtpZighYnx8IWIuZG9jdW1lbnRFbGVtZW50KWI9YS5yZXNwb25zZVRleHQ7YT17fTtPcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKGEsdGhpcy5mb3JtYXRPcHRpb25zKTt0aGlzLm1hcCYmIXRoaXMucHJvamVjdGlvbi5lcXVhbHModGhpcy5tYXAuZ2V0UHJvamVjdGlvbk9iamVjdCgpKSYmKGEuZXh0ZXJuYWxQcm9qZWN0aW9uPQp0aGlzLnByb2plY3Rpb24sYS5pbnRlcm5hbFByb2plY3Rpb249dGhpcy5tYXAuZ2V0UHJvamVjdGlvbk9iamVjdCgpKTthPXRoaXMuZm9ybWF0P25ldyB0aGlzLmZvcm1hdChhKTpuZXcgT3BlbkxheWVycy5Gb3JtYXQuR01MKGEpO3RoaXMuYWRkRmVhdHVyZXMoYS5yZWFkKGIpKTt0aGlzLmV2ZW50cy50cmlnZ2VyRXZlbnQoImxvYWRlbmQiKX0scmVxdWVzdEZhaWx1cmU6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLkNvbnNvbGUudXNlckVycm9yKCJFcnJvciBpbiBsb2FkaW5nIEdNTCBmaWxlICIrdGhpcy51cmwpO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgibG9hZGVuZCIpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLkdNTCJ9KTsKT3BlbkxheWVycy5HZW9tZXRyeS5SZWN0YW5nbGU9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkdlb21ldHJ5LHt4Om51bGwseTpudWxsLHdpZHRoOm51bGwsaGVpZ2h0Om51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihhLGIsYyxkKXtPcGVuTGF5ZXJzLkdlb21ldHJ5LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLng9YTt0aGlzLnk9Yjt0aGlzLndpZHRoPWM7dGhpcy5oZWlnaHQ9ZH0sY2FsY3VsYXRlQm91bmRzOmZ1bmN0aW9uKCl7dGhpcy5ib3VuZHM9bmV3IE9wZW5MYXllcnMuQm91bmRzKHRoaXMueCx0aGlzLnksdGhpcy54K3RoaXMud2lkdGgsdGhpcy55K3RoaXMuaGVpZ2h0KX0sZ2V0TGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIDIqdGhpcy53aWR0aCsyKnRoaXMuaGVpZ2h0fSxnZXRBcmVhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2lkdGgqdGhpcy5oZWlnaHR9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuR2VvbWV0cnkuUmVjdGFuZ2xlIn0pOwpPcGVuTGF5ZXJzLlJlbmRlcmVyLk5HPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5SZW5kZXJlci5FbGVtZW50cyx7bGFiZWxOb2RlVHlwZTpudWxsLHVwZGF0ZURpbWVuc2lvbnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm1hcC5nZXRFeHRlbnQoKSxiPWEuc2NhbGUoMyk7dGhpcy5zZXRFeHRlbnQoYiwhMCk7dmFyIGM9dGhpcy5nZXRSZXNvbHV0aW9uKCksZD10aGlzLnJlbmRlcmVyUm9vdC5wYXJlbnROb2RlLGU9cGFyc2VGbG9hdChkLnBhcmVudE5vZGUuc3R5bGUubGVmdCksZj1wYXJzZUZsb2F0KGQucGFyZW50Tm9kZS5zdHlsZS50b3ApO2Quc3R5bGUubGVmdD0oYi5sZWZ0LWEubGVmdCkvYy1lKyJweCI7ZC5zdHlsZS50b3A9KGEudG9wLWIudG9wKS9jLWYrInB4In0sc2V0U2l6ZTpmdW5jdGlvbigpe3RoaXMubWFwLmdldEV4dGVudCgpJiZ0aGlzLnVwZGF0ZURpbWVuc2lvbnMoKX0sZHJhd0ZlYXR1cmU6ZnVuY3Rpb24oYSxiKXtudWxsPT1iJiYoYj1hLnN0eWxlKTtpZihhLmdlb21ldHJ5KXt2YXIgYz0KdGhpcy5kcmF3R2VvbWV0cnkoYS5nZW9tZXRyeSxiLGEuaWQpO2lmKCExIT09YyYmYi5sYWJlbCl7dmFyIGQ9YS5nZW9tZXRyeS5nZXRDZW50cm9pZCgpO3RoaXMuZHJhd1RleHQoYS5pZCxiLGQpfWVsc2UgdGhpcy5yZW1vdmVUZXh0KGEuaWQpO3JldHVybiBjfX0sZHJhd1RleHQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkOyJzdHJpbmciIT09dHlwZW9mIGE/ZD1hOihkPXRoaXMubm9kZUZhY3RvcnkoYSt0aGlzLkxBQkVMX0lEX1NVRkZJWCx0aGlzLmxhYmVsTm9kZVR5cGUpLGQuX2ZlYXR1cmVJZD1hKTtkLl9zdHlsZT1iO2QuX3g9Yy54O2QuX3k9Yy55O2lmKGIubGFiZWxYT2Zmc2V0fHxiLmxhYmVsWU9mZnNldCl7dmFyIGE9aXNOYU4oYi5sYWJlbFhPZmZzZXQpPzA6Yi5sYWJlbFhPZmZzZXQsYj1pc05hTihiLmxhYmVsWU9mZnNldCk/MDpiLmxhYmVsWU9mZnNldCxlPXRoaXMuZ2V0UmVzb2x1dGlvbigpO2MubW92ZShhKmUsYiplKX1kLnBhcmVudE5vZGUhPT10aGlzLnRleHRSb290JiYKdGhpcy50ZXh0Um9vdC5hcHBlbmRDaGlsZChkKTtyZXR1cm4gZH0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5SZW5kZXJlci5ORyJ9KTsKKGZ1bmN0aW9uKCl7dmFyIGE9T3BlbkxheWVycy5MYXllci5WZWN0b3IucHJvdG90eXBlLm1vdmVUbztPcGVuTGF5ZXJzLkxheWVyLlZlY3Rvci5wcm90b3R5cGUubW92ZVRvPWZ1bmN0aW9uKGIsZCxlKXtpZihPcGVuTGF5ZXJzLlJlbmRlcmVyLk5HJiZ0aGlzLnJlbmRlcmVyIGluc3RhbmNlb2YgT3BlbkxheWVycy5SZW5kZXJlci5ORyl7aWYoT3BlbkxheWVycy5MYXllci5wcm90b3R5cGUubW92ZVRvLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlfHx0aGlzLnJlbmRlcmVyLnVwZGF0ZURpbWVuc2lvbnMoZCksIXRoaXMuZHJhd24pe3RoaXMuZHJhd249ITA7Zm9yKHZhciBmLGc9MCxoPXRoaXMuZmVhdHVyZXMubGVuZ3RoO2c8aDtnKyspdGhpcy5yZW5kZXJlci5sb2NrZWQ9ZyE9PWgtMSxmPXRoaXMuZmVhdHVyZXNbZ10sdGhpcy5kcmF3RmVhdHVyZShmKX19ZWxzZSBhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIGI9T3BlbkxheWVycy5MYXllci5WZWN0b3IucHJvdG90eXBlLnJlZHJhdzsKT3BlbkxheWVycy5MYXllci5WZWN0b3IucHJvdG90eXBlLnJlZHJhdz1mdW5jdGlvbigpe09wZW5MYXllcnMuUmVuZGVyZXIuTkcmJnRoaXMucmVuZGVyZXIgaW5zdGFuY2VvZiBPcGVuTGF5ZXJzLlJlbmRlcmVyLk5HJiYodGhpcy5kcmF3bj0hMSk7Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSkoKTsKT3BlbkxheWVycy5SZW5kZXJlci5TVkcyPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5SZW5kZXJlci5ORyx7eG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix4bGlua25zOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIixzeW1ib2xNZXRyaWNzOm51bGwsbGFiZWxOb2RlVHlwZToiZyIsaW5pdGlhbGl6ZTpmdW5jdGlvbihhKXt0aGlzLnN1cHBvcnRlZCgpJiYoT3BlbkxheWVycy5SZW5kZXJlci5FbGVtZW50cy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5zeW1ib2xNZXRyaWNzPXt9KX0sc3VwcG9ydGVkOmZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmltcGxlbWVudGF0aW9uJiYoZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZSgib3JnLnczYy5zdmciLCIxLjAiKXx8ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZSgiaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNTVkciLAoiMS4xIil8fGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUoImh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjQmFzaWNTdHJ1Y3R1cmUiLCIxLjEiKSl9LHVwZGF0ZURpbWVuc2lvbnM6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5SZW5kZXJlci5ORy5wcm90b3R5cGUudXBkYXRlRGltZW5zaW9ucy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGI9dGhpcy5nZXRSZXNvbHV0aW9uKCksYz10aGlzLmV4dGVudC5nZXRXaWR0aCgpLGQ9dGhpcy5leHRlbnQuZ2V0SGVpZ2h0KCksZT1bdGhpcy5leHRlbnQubGVmdCwtdGhpcy5leHRlbnQudG9wLGMsZF0uam9pbigiICIpO3RoaXMucmVuZGVyZXJSb290LnNldEF0dHJpYnV0ZU5TKG51bGwsInZpZXdCb3giLGUpO3RoaXMucmVuZGVyZXJSb290LnNldEF0dHJpYnV0ZU5TKG51bGwsIndpZHRoIixjL2IpO3RoaXMucmVuZGVyZXJSb290LnNldEF0dHJpYnV0ZU5TKG51bGwsImhlaWdodCIsZC9iKTtpZighMD09PWEpe2Q9CnRoaXMudmVjdG9yUm9vdC5jaGlsZE5vZGVzO2I9MDtmb3IoYz1kLmxlbmd0aDtiPGM7KytiKXRoaXMuc2V0U3R5bGUoZFtiXSk7ZD10aGlzLnRleHRSb290LmNoaWxkTm9kZXM7Yj0wO2ZvcihjPWQubGVuZ3RoO2I8YzsrK2IpZT1kW2JdLHRoaXMuZHJhd1RleHQoZSxlLl9zdHlsZSxuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChlLl94LGUuX3kpKX19LGdldE5vZGVUeXBlOmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtzd2l0Y2goYS5DTEFTU19OQU1FKXtjYXNlICJPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50IjpjPWIuZXh0ZXJuYWxHcmFwaGljPyJpbWFnZSI6dGhpcy5pc0NvbXBsZXhTeW1ib2woYi5ncmFwaGljTmFtZSk/InN2ZyI6ImNpcmNsZSI7YnJlYWs7Y2FzZSAiT3BlbkxheWVycy5HZW9tZXRyeS5SZWN0YW5nbGUiOmM9InJlY3QiO2JyZWFrO2Nhc2UgIk9wZW5MYXllcnMuR2VvbWV0cnkuTGluZVN0cmluZyI6Yz0icG9seWxpbmUiO2JyZWFrO2Nhc2UgIk9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyI6Yz0KInBvbHlnb24iO2JyZWFrO2Nhc2UgIk9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbiI6Y2FzZSAiT3BlbkxheWVycy5HZW9tZXRyeS5DdXJ2ZSI6Yz0icGF0aCJ9cmV0dXJuIGN9LHNldFN0eWxlOmZ1bmN0aW9uKGEsYixjKXt2YXIgYj1ifHxhLl9zdHlsZSxjPWN8fGEuX29wdGlvbnMsZD10aGlzLmdldFJlc29sdXRpb24oKSxlPWEuX3JhZGl1cyxmPWQ7aWYoIk9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQiPT1hLl9nZW9tZXRyeUNsYXNzJiZlKXthLnN0eWxlLnZpc2liaWxpdHk9IiI7aWYoITE9PT1iLmdyYXBoaWMpYS5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iO2Vsc2UgaWYoYi5leHRlcm5hbEdyYXBoaWMpe2IuZ3JhcGhpY1RpdGxlJiYoYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ0aXRsZSIsYi5ncmFwaGljVGl0bGUpLGU9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGl0bGUiKSwwPGUubGVuZ3RoP2VbMF0uZmlyc3RDaGlsZC50ZXh0Q29udGVudD1iLmdyYXBoaWNUaXRsZTooZT0KdGhpcy5ub2RlRmFjdG9yeShudWxsLCJ0aXRsZSIpLGUudGV4dENvbnRlbnQ9Yi5ncmFwaGljVGl0bGUsYS5hcHBlbmRDaGlsZChlKSkpO2IuZ3JhcGhpY1dpZHRoJiZiLmdyYXBoaWNIZWlnaHQmJmEuc2V0QXR0cmlidXRlTlMobnVsbCwicHJlc2VydmVBc3BlY3RSYXRpbyIsIm5vbmUiKTt2YXIgZT1iLmdyYXBoaWNXaWR0aHx8Yi5ncmFwaGljSGVpZ2h0LGc9Yi5ncmFwaGljSGVpZ2h0fHxiLmdyYXBoaWNXaWR0aCxlPWU/ZToyKmIucG9pbnRSYWRpdXMsZz1nP2c6MipiLnBvaW50UmFkaXVzLGU9ZSpkLGc9ZypkLGg9dm9pZCAwIT1iLmdyYXBoaWNZT2Zmc2V0P2IuZ3JhcGhpY1lPZmZzZXQqZDotKDAuNSpnKSxpPWIuZ3JhcGhpY09wYWNpdHl8fGIuZmlsbE9wYWNpdHk7YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ4IixhLl94Kyh2b2lkIDAhPWIuZ3JhcGhpY1hPZmZzZXQ/Yi5ncmFwaGljWE9mZnNldCpkOi0oMC41KmUpKSk7YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ5IixhLl95K2gpOwphLnNldEF0dHJpYnV0ZU5TKG51bGwsIndpZHRoIixlKTthLnNldEF0dHJpYnV0ZU5TKG51bGwsImhlaWdodCIsZyk7YS5zZXRBdHRyaWJ1dGVOUyh0aGlzLnhsaW5rbnMsImhyZWYiLGIuZXh0ZXJuYWxHcmFwaGljKTthLnNldEF0dHJpYnV0ZU5TKG51bGwsInN0eWxlIiwib3BhY2l0eTogIitpKTthLm9uY2xpY2s9T3BlbkxheWVycy5SZW5kZXJlci5TVkcyLnByZXZlbnREZWZhdWx0fWVsc2UgaWYodGhpcy5pc0NvbXBsZXhTeW1ib2woYi5ncmFwaGljTmFtZSkpe3ZhciBlPTMqYi5wb2ludFJhZGl1cypkLGc9MiplLGo9dGhpcy5pbXBvcnRTeW1ib2woYi5ncmFwaGljTmFtZSksZj0zKnRoaXMuc3ltYm9sTWV0cmljc1tqLmlkXS5zaXplL2cqZCxkPWEucGFyZW50Tm9kZSxoPWEubmV4dFNpYmxpbmc7ZCYmZC5yZW1vdmVDaGlsZChhKTthLmZpcnN0Q2hpbGQmJmEucmVtb3ZlQ2hpbGQoYS5maXJzdENoaWxkKTthLmFwcGVuZENoaWxkKGouZmlyc3RDaGlsZC5jbG9uZU5vZGUoITApKTsKYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ2aWV3Qm94IixqLmdldEF0dHJpYnV0ZU5TKG51bGwsInZpZXdCb3giKSk7YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ3aWR0aCIsZyk7YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJoZWlnaHQiLGcpO2Euc2V0QXR0cmlidXRlTlMobnVsbCwieCIsYS5feC1lKTthLnNldEF0dHJpYnV0ZU5TKG51bGwsInkiLGEuX3ktZSk7aD9kLmluc2VydEJlZm9yZShhLGgpOmQmJmQuYXBwZW5kQ2hpbGQoYSl9ZWxzZSBhLnNldEF0dHJpYnV0ZU5TKG51bGwsInIiLGIucG9pbnRSYWRpdXMqZCk7ZD1iLnJvdGF0aW9uO2lmKHZvaWQgMCE9PWR8fHZvaWQgMCE9PWEuX3JvdGF0aW9uKWEuX3JvdGF0aW9uPWQsZHw9MCwic3ZnIiE9PWEubm9kZU5hbWU/YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ0cmFuc2Zvcm0iLFsicm90YXRlKCIsZCxhLl94LGEuX3ksIikiXS5qb2luKCIgIikpOihqPXRoaXMuc3ltYm9sTWV0cmljc1tqLmlkXSxhLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlTlMobnVsbCwKInRyYW5zZm9ybSIsWyJyb3RhdGUoIixkLGoueCxqLnksIikiXS5qb2luKCIgIikpKX1jLmlzRmlsbGVkPyhhLnNldEF0dHJpYnV0ZU5TKG51bGwsImZpbGwiLGIuZmlsbENvbG9yKSxhLnNldEF0dHJpYnV0ZU5TKG51bGwsImZpbGwtb3BhY2l0eSIsYi5maWxsT3BhY2l0eSkpOmEuc2V0QXR0cmlidXRlTlMobnVsbCwiZmlsbCIsIm5vbmUiKTtjLmlzU3Ryb2tlZD8oYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJzdHJva2UiLGIuc3Ryb2tlQ29sb3IpLGEuc2V0QXR0cmlidXRlTlMobnVsbCwic3Ryb2tlLW9wYWNpdHkiLGIuc3Ryb2tlT3BhY2l0eSksYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJzdHJva2Utd2lkdGgiLGIuc3Ryb2tlV2lkdGgqZiksYS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJzdHJva2UtbGluZWNhcCIsYi5zdHJva2VMaW5lY2FwfHwicm91bmQiKSxhLnNldEF0dHJpYnV0ZU5TKG51bGwsInN0cm9rZS1saW5lam9pbiIsInJvdW5kIiksYi5zdHJva2VEYXNoc3R5bGUmJmEuc2V0QXR0cmlidXRlTlMobnVsbCwKInN0cm9rZS1kYXNoYXJyYXkiLHRoaXMuZGFzaFN0eWxlKGIsZikpKTphLnNldEF0dHJpYnV0ZU5TKG51bGwsInN0cm9rZSIsIm5vbmUiKTtiLnBvaW50ZXJFdmVudHMmJmEuc2V0QXR0cmlidXRlTlMobnVsbCwicG9pbnRlci1ldmVudHMiLGIucG9pbnRlckV2ZW50cyk7bnVsbCE9Yi5jdXJzb3ImJmEuc2V0QXR0cmlidXRlTlMobnVsbCwiY3Vyc29yIixiLmN1cnNvcik7cmV0dXJuIGF9LGRhc2hTdHlsZTpmdW5jdGlvbihhLGIpe3ZhciBjPWEuc3Ryb2tlV2lkdGgqYixkPWEuc3Ryb2tlRGFzaHN0eWxlO3N3aXRjaChkKXtjYXNlICJzb2xpZCI6cmV0dXJuIm5vbmUiO2Nhc2UgImRvdCI6cmV0dXJuW2IsNCpjXS5qb2luKCk7Y2FzZSAiZGFzaCI6cmV0dXJuWzQqYyw0KmNdLmpvaW4oKTtjYXNlICJkYXNoZG90IjpyZXR1cm5bNCpjLDQqYyxiLDQqY10uam9pbigpO2Nhc2UgImxvbmdkYXNoIjpyZXR1cm5bOCpjLDQqY10uam9pbigpO2Nhc2UgImxvbmdkYXNoZG90IjpyZXR1cm5bOCpjLAo0KmMsYiw0KmNdLmpvaW4oKTtkZWZhdWx0OmZvcih2YXIgYz1PcGVuTGF5ZXJzLlN0cmluZy50cmltKGQpLnNwbGl0KC9ccysvZyksZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKyljW2RdKj1iO3JldHVybiBjLmpvaW4oKX19LGNyZWF0ZU5vZGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlModGhpcy54bWxucyxhKTtiJiZjLnNldEF0dHJpYnV0ZU5TKG51bGwsImlkIixiKTtyZXR1cm4gY30sbm9kZVR5cGVDb21wYXJlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI9PWEubm9kZU5hbWV9LGNyZWF0ZVJlbmRlclJvb3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlRmFjdG9yeSh0aGlzLmNvbnRhaW5lci5pZCsiX3N2Z1Jvb3QiLCJzdmciKX0sY3JlYXRlUm9vdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5ub2RlRmFjdG9yeSh0aGlzLmNvbnRhaW5lci5pZCthLCJnIil9LGNyZWF0ZURlZnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm5vZGVGYWN0b3J5KHRoaXMuY29udGFpbmVyLmlkKwoiX2RlZnMiLCJkZWZzIik7dGhpcy5yZW5kZXJlclJvb3QuYXBwZW5kQ2hpbGQoYSk7cmV0dXJuIGF9LGRyYXdQb2ludDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmRyYXdDaXJjbGUoYSxiLDEpfSxkcmF3Q2lyY2xlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1iLngsYj0tYi55O2Euc2V0QXR0cmlidXRlTlMobnVsbCwiY3giLGQpO2Euc2V0QXR0cmlidXRlTlMobnVsbCwiY3kiLGIpO2EuX3g9ZDthLl95PWI7YS5fcmFkaXVzPWM7cmV0dXJuIGF9LGRyYXdMaW5lU3RyaW5nOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDb21wb25lbnRzU3RyaW5nKGIuY29tcG9uZW50cyk7YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJwb2ludHMiLGMpO3JldHVybiBhfSxkcmF3TGluZWFyUmluZzpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q29tcG9uZW50c1N0cmluZyhiLmNvbXBvbmVudHMpO2Euc2V0QXR0cmlidXRlTlMobnVsbCwicG9pbnRzIixjKTtyZXR1cm4gYX0sZHJhd1BvbHlnb246ZnVuY3Rpb24oYSwKYil7Zm9yKHZhciBjPVtdLGQsZT0wLGY9Yi5jb21wb25lbnRzLmxlbmd0aDtlPGY7ZSsrKWMucHVzaCgiTSIpLGQ9dGhpcy5nZXRDb21wb25lbnRzU3RyaW5nKGIuY29tcG9uZW50c1tlXS5jb21wb25lbnRzLCIgIiksYy5wdXNoKGQpO2MucHVzaCgieiIpO2Euc2V0QXR0cmlidXRlTlMobnVsbCwiZCIsYy5qb2luKCIgIikpO2Euc2V0QXR0cmlidXRlTlMobnVsbCwiZmlsbC1ydWxlIiwiZXZlbm9kZCIpO3JldHVybiBhfSxkcmF3UmVjdGFuZ2xlOmZ1bmN0aW9uKGEsYil7YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ4IixiLngpO2Euc2V0QXR0cmlidXRlTlMobnVsbCwieSIsLWIueSk7YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ3aWR0aCIsYi53aWR0aCk7YS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJoZWlnaHQiLGIuaGVpZ2h0KTtyZXR1cm4gYX0sZHJhd1RleHQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPU9wZW5MYXllcnMuUmVuZGVyZXIuTkcucHJvdG90eXBlLmRyYXdUZXh0LmFwcGx5KHRoaXMsCmFyZ3VtZW50cyksZT1kLmZpcnN0Q2hpbGR8fHRoaXMubm9kZUZhY3RvcnkoYSt0aGlzLkxBQkVMX0lEX1NVRkZJWCsiX3RleHQiLCJ0ZXh0IiksZj10aGlzLmdldFJlc29sdXRpb24oKTtlLnNldEF0dHJpYnV0ZU5TKG51bGwsIngiLGMueC9mKTtlLnNldEF0dHJpYnV0ZU5TKG51bGwsInkiLC1jLnkvZik7ZC5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ0cmFuc2Zvcm0iLCJzY2FsZSgiK2YrIikiKTtiLmZvbnRDb2xvciYmZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmaWxsIixiLmZvbnRDb2xvcik7Yi5mb250T3BhY2l0eSYmZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJvcGFjaXR5IixiLmZvbnRPcGFjaXR5KTtiLmZvbnRGYW1pbHkmJmUuc2V0QXR0cmlidXRlTlMobnVsbCwiZm9udC1mYW1pbHkiLGIuZm9udEZhbWlseSk7Yi5mb250U2l6ZSYmZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmb250LXNpemUiLGIuZm9udFNpemUpO2IuZm9udFdlaWdodCYmZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmb250LXdlaWdodCIsCmIuZm9udFdlaWdodCk7Yi5mb250U3R5bGUmJmUuc2V0QXR0cmlidXRlTlMobnVsbCwiZm9udC1zdHlsZSIsYi5mb250U3R5bGUpOyEwPT09Yi5sYWJlbFNlbGVjdD8oZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJwb2ludGVyLWV2ZW50cyIsInZpc2libGUiKSxlLl9mZWF0dXJlSWQ9YSk6ZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJwb2ludGVyLWV2ZW50cyIsIm5vbmUiKTt2YXIgZz1iLmxhYmVsQWxpZ258fE9wZW5MYXllcnMuUmVuZGVyZXIuZGVmYXVsdFN5bWJvbGl6ZXIubGFiZWxBbGlnbjtlLnNldEF0dHJpYnV0ZU5TKG51bGwsInRleHQtYW5jaG9yIixPcGVuTGF5ZXJzLlJlbmRlcmVyLlNWRzIuTEFCRUxfQUxJR05bZ1swXV18fCJtaWRkbGUiKTshMD09PU9wZW5MYXllcnMuSVNfR0VDS08mJmUuc2V0QXR0cmlidXRlTlMobnVsbCwiZG9taW5hbnQtYmFzZWxpbmUiLE9wZW5MYXllcnMuUmVuZGVyZXIuU1ZHMi5MQUJFTF9BTElHTltnWzFdXXx8ImNlbnRyYWwiKTtmb3IodmFyIGg9Yi5sYWJlbC5zcGxpdCgiXG4iKSwKaT1oLmxlbmd0aDtlLmNoaWxkTm9kZXMubGVuZ3RoPmk7KWUucmVtb3ZlQ2hpbGQoZS5sYXN0Q2hpbGQpO2Zvcih2YXIgaj0wO2o8aTtqKyspe3ZhciBrPWUuY2hpbGROb2Rlc1tqXXx8dGhpcy5ub2RlRmFjdG9yeShhK3RoaXMuTEFCRUxfSURfU1VGRklYKyJfdHNwYW5fIitqLCJ0c3BhbiIpOyEwPT09Yi5sYWJlbFNlbGVjdCYmKGsuX2ZlYXR1cmVJZD1hKTshMT09PU9wZW5MYXllcnMuSVNfR0VDS08mJmsuc2V0QXR0cmlidXRlTlMobnVsbCwiYmFzZWxpbmUtc2hpZnQiLE9wZW5MYXllcnMuUmVuZGVyZXIuU1ZHMi5MQUJFTF9WU0hJRlRbZ1sxXV18fCItMzUlIik7ay5zZXRBdHRyaWJ1dGUoIngiLGMueC9mKTtpZigwPT1qKXt2YXIgbD1PcGVuTGF5ZXJzLlJlbmRlcmVyLlNWRzIuTEFCRUxfVkZBQ1RPUltnWzFdXTtudWxsPT1sJiYobD0tMC41KTtrLnNldEF0dHJpYnV0ZSgiZHkiLGwqKGktMSkrImVtIil9ZWxzZSBrLnNldEF0dHJpYnV0ZSgiZHkiLCIxZW0iKTtrLnRleHRDb250ZW50PQoiIj09PWhbal0/IiAiOmhbal07ay5wYXJlbnROb2RlfHxlLmFwcGVuZENoaWxkKGspfWUucGFyZW50Tm9kZXx8ZC5hcHBlbmRDaGlsZChlKTtyZXR1cm4gZH0sZ2V0Q29tcG9uZW50c1N0cmluZzpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1hLmxlbmd0aCxkPUFycmF5KGMpLGU9MDtlPGM7ZSsrKWRbZV09dGhpcy5nZXRTaG9ydFN0cmluZyhhW2VdKTtyZXR1cm4gZC5qb2luKGJ8fCIsIil9LGdldFNob3J0U3RyaW5nOmZ1bmN0aW9uKGEpe3JldHVybiBhLngrIiwiKy1hLnl9LGltcG9ydFN5bWJvbDpmdW5jdGlvbihhKXt0aGlzLmRlZnN8fCh0aGlzLmRlZnM9dGhpcy5jcmVhdGVEZWZzKCkpO3ZhciBiPXRoaXMuY29udGFpbmVyLmlkKyItIithLGM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYik7aWYobnVsbCE9YylyZXR1cm4gYzt2YXIgZD1PcGVuTGF5ZXJzLlJlbmRlcmVyLnN5bWJvbFthXTtpZighZCl0aHJvdyBFcnJvcihhKyIgaXMgbm90IGEgdmFsaWQgc3ltYm9sIG5hbWUiKTsKdmFyIGE9dGhpcy5ub2RlRmFjdG9yeShiLCJzeW1ib2wiKSxlPXRoaXMubm9kZUZhY3RvcnkobnVsbCwicG9seWdvbiIpO2EuYXBwZW5kQ2hpbGQoZSk7Zm9yKHZhciBjPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcyhOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsMCwwKSxmPVtdLGcsaCxpPTAsaj1kLmxlbmd0aDtpPGo7aSs9MilnPWRbaV0saD1kW2krMV0sYy5sZWZ0PU1hdGgubWluKGMubGVmdCxnKSxjLmJvdHRvbT1NYXRoLm1pbihjLmJvdHRvbSxoKSxjLnJpZ2h0PU1hdGgubWF4KGMucmlnaHQsZyksYy50b3A9TWF0aC5tYXgoYy50b3AsaCksZi5wdXNoKGcsIiwiLGgpO2Uuc2V0QXR0cmlidXRlTlMobnVsbCwicG9pbnRzIixmLmpvaW4oIiAiKSk7ZD1jLmdldFdpZHRoKCk7ZT1jLmdldEhlaWdodCgpO2Euc2V0QXR0cmlidXRlTlMobnVsbCwidmlld0JveCIsW2MubGVmdC1kLGMuYm90dG9tLWUsMypkLDMqZV0uam9pbigiICIpKTt0aGlzLnN5bWJvbE1ldHJpY3NbYl09CntzaXplOk1hdGgubWF4KGQsZSkseDpjLmdldENlbnRlckxvbkxhdCgpLmxvbix5OmMuZ2V0Q2VudGVyTG9uTGF0KCkubGF0fTt0aGlzLmRlZnMuYXBwZW5kQ2hpbGQoYSk7cmV0dXJuIGF9LGdldEZlYXR1cmVJZEZyb21FdmVudDpmdW5jdGlvbihhKXt2YXIgYj1PcGVuTGF5ZXJzLlJlbmRlcmVyLkVsZW1lbnRzLnByb3RvdHlwZS5nZXRGZWF0dXJlSWRGcm9tRXZlbnQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2J8fChiPWEudGFyZ2V0LGI9Yi5wYXJlbnROb2RlJiZiIT10aGlzLnJlbmRlcmVyUm9vdD9iLnBhcmVudE5vZGUuX2ZlYXR1cmVJZDp2b2lkIDApO3JldHVybiBifSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlJlbmRlcmVyLlNWRzIifSk7T3BlbkxheWVycy5SZW5kZXJlci5TVkcyLkxBQkVMX0FMSUdOPXtsOiJzdGFydCIscjoiZW5kIixiOiJib3R0b20iLHQ6ImhhbmdpbmcifTtPcGVuTGF5ZXJzLlJlbmRlcmVyLlNWRzIuTEFCRUxfVlNISUZUPXt0OiItNzAlIixiOiIwIn07Ck9wZW5MYXllcnMuUmVuZGVyZXIuU1ZHMi5MQUJFTF9WRkFDVE9SPXt0OjAsYjotMX07T3BlbkxheWVycy5SZW5kZXJlci5TVkcyLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQmJmEucHJldmVudERlZmF1bHQoKX07Ck9wZW5MYXllcnMuUG9wdXAuQW5jaG9yZWRCdWJibGU9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLlBvcHVwLkFuY2hvcmVkLHtyb3VuZGVkOiExLGluaXRpYWxpemU6ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dGhpcy5wYWRkaW5nPW5ldyBPcGVuTGF5ZXJzLkJvdW5kcygwLE9wZW5MYXllcnMuUG9wdXAuQW5jaG9yZWRCdWJibGUuQ09STkVSX1NJWkUsMCxPcGVuTGF5ZXJzLlBvcHVwLkFuY2hvcmVkQnViYmxlLkNPUk5FUl9TSVpFKTtPcGVuTGF5ZXJzLlBvcHVwLkFuY2hvcmVkLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZHJhdzpmdW5jdGlvbihhKXtPcGVuTGF5ZXJzLlBvcHVwLkFuY2hvcmVkLnByb3RvdHlwZS5kcmF3LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLnNldENvbnRlbnRIVE1MKCk7dGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IoKTt0aGlzLnNldE9wYWNpdHkoKTtyZXR1cm4gdGhpcy5kaXZ9LHVwZGF0ZVJlbGF0aXZlUG9zaXRpb246ZnVuY3Rpb24oKXt0aGlzLnNldFJpY29Db3JuZXJzKCl9LApzZXRTaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuUG9wdXAuQW5jaG9yZWQucHJvdG90eXBlLnNldFNpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuc2V0Umljb0Nvcm5lcnMoKX0sc2V0QmFja2dyb3VuZENvbG9yOmZ1bmN0aW9uKGEpe3ZvaWQgMCE9YSYmKHRoaXMuYmFja2dyb3VuZENvbG9yPWEpO251bGwhPXRoaXMuZGl2JiZudWxsIT10aGlzLmNvbnRlbnREaXYmJih0aGlzLmRpdi5zdHlsZS5iYWNrZ3JvdW5kPSJ0cmFuc3BhcmVudCIsT3BlbkxheWVycy5SaWNvLkNvcm5lci5jaGFuZ2VDb2xvcih0aGlzLmdyb3VwRGl2LHRoaXMuYmFja2dyb3VuZENvbG9yKSl9LHNldE9wYWNpdHk6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Qb3B1cC5BbmNob3JlZC5wcm90b3R5cGUuc2V0T3BhY2l0eS5jYWxsKHRoaXMsYSk7bnVsbCE9dGhpcy5kaXYmJm51bGwhPXRoaXMuZ3JvdXBEaXYmJk9wZW5MYXllcnMuUmljby5Db3JuZXIuY2hhbmdlT3BhY2l0eSh0aGlzLmdyb3VwRGl2LHRoaXMub3BhY2l0eSl9LApzZXRCb3JkZXI6ZnVuY3Rpb24oKXt0aGlzLmJvcmRlcj0wfSxzZXRSaWNvQ29ybmVyczpmdW5jdGlvbigpe3ZhciBhPXtjb3JuZXJzOnRoaXMuZ2V0Q29ybmVyc1RvUm91bmQodGhpcy5yZWxhdGl2ZVBvc2l0aW9uKSxjb2xvcjp0aGlzLmJhY2tncm91bmRDb2xvcixiZ0NvbG9yOiJ0cmFuc3BhcmVudCIsYmxlbmQ6ITF9O3RoaXMucm91bmRlZD8oT3BlbkxheWVycy5SaWNvLkNvcm5lci5yZVJvdW5kKHRoaXMuZ3JvdXBEaXYsYSksdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IoKSx0aGlzLnNldE9wYWNpdHkoKSk6KE9wZW5MYXllcnMuUmljby5Db3JuZXIucm91bmQodGhpcy5kaXYsYSksdGhpcy5yb3VuZGVkPSEwKX0sZ2V0Q29ybmVyc1RvUm91bmQ6ZnVuY3Rpb24oKXt2YXIgYT1bInRsIiwidHIiLCJibCIsImJyIl0sYj1PcGVuTGF5ZXJzLkJvdW5kcy5vcHBvc2l0ZVF1YWRyYW50KHRoaXMucmVsYXRpdmVQb3NpdGlvbik7T3BlbkxheWVycy5VdGlsLnJlbW92ZUl0ZW0oYSxiKTtyZXR1cm4gYS5qb2luKCIgIil9LApDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlBvcHVwLkFuY2hvcmVkQnViYmxlIn0pO09wZW5MYXllcnMuUG9wdXAuQW5jaG9yZWRCdWJibGUuQ09STkVSX1NJWkU9NTtPcGVuTGF5ZXJzLkNvbnRyb2wuU3BsaXQ9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse2xheWVyOm51bGwsc291cmNlOm51bGwsc291cmNlT3B0aW9uczpudWxsLHRvbGVyYW5jZTpudWxsLGVkZ2U6ITAsZGVmZXJEZWxldGU6ITEsbXV0dWFsOiEwLHRhcmdldEZpbHRlcjpudWxsLHNvdXJjZUZpbHRlcjpudWxsLGhhbmRsZXI6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSk7dGhpcy5vcHRpb25zPWF8fHt9O3RoaXMub3B0aW9ucy5zb3VyY2UmJnRoaXMuc2V0U291cmNlKHRoaXMub3B0aW9ucy5zb3VyY2UpfSxzZXRTb3VyY2U6ZnVuY3Rpb24oYSl7dGhpcy5hY3RpdmU/KHRoaXMuZGVhY3RpdmF0ZSgpLHRoaXMuaGFuZGxlciYmKHRoaXMuaGFuZGxlci5kZXN0cm95KCksZGVsZXRlIHRoaXMuaGFuZGxlciksdGhpcy5zb3VyY2U9YSx0aGlzLmFjdGl2YXRlKCkpOnRoaXMuc291cmNlPQphfSxhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPU9wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuYWN0aXZhdGUuY2FsbCh0aGlzKTtpZihhKWlmKHRoaXMuc291cmNlKXtpZih0aGlzLnNvdXJjZS5ldmVudHMpdGhpcy5zb3VyY2UuZXZlbnRzLm9uKHtza2V0Y2hjb21wbGV0ZTp0aGlzLm9uU2tldGNoQ29tcGxldGUsYWZ0ZXJmZWF0dXJlbW9kaWZpZWQ6dGhpcy5hZnRlckZlYXR1cmVNb2RpZmllZCxzY29wZTp0aGlzfSl9ZWxzZSB0aGlzLmhhbmRsZXJ8fCh0aGlzLmhhbmRsZXI9bmV3IE9wZW5MYXllcnMuSGFuZGxlci5QYXRoKHRoaXMse2RvbmU6ZnVuY3Rpb24oYSl7dGhpcy5vblNrZXRjaENvbXBsZXRlKHtmZWF0dXJlOm5ldyBPcGVuTGF5ZXJzLkZlYXR1cmUuVmVjdG9yKGEpfSl9fSx7bGF5ZXJPcHRpb25zOnRoaXMuc291cmNlT3B0aW9uc30pKSx0aGlzLmhhbmRsZXIuYWN0aXZhdGUoKTtyZXR1cm4gYX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPU9wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZGVhY3RpdmF0ZS5jYWxsKHRoaXMpOwphJiZ0aGlzLnNvdXJjZSYmdGhpcy5zb3VyY2UuZXZlbnRzJiZ0aGlzLnNvdXJjZS5ldmVudHMudW4oe3NrZXRjaGNvbXBsZXRlOnRoaXMub25Ta2V0Y2hDb21wbGV0ZSxhZnRlcmZlYXR1cmVtb2RpZmllZDp0aGlzLmFmdGVyRmVhdHVyZU1vZGlmaWVkLHNjb3BlOnRoaXN9KTtyZXR1cm4gYX0sb25Ta2V0Y2hDb21wbGV0ZTpmdW5jdGlvbihhKXt0aGlzLmZlYXR1cmU9bnVsbDtyZXR1cm4hdGhpcy5jb25zaWRlclNwbGl0KGEuZmVhdHVyZSl9LGFmdGVyRmVhdHVyZU1vZGlmaWVkOmZ1bmN0aW9uKGEpe2EubW9kaWZpZWQmJiJmdW5jdGlvbiI9PT10eXBlb2YgYS5mZWF0dXJlLmdlb21ldHJ5LnNwbGl0JiYodGhpcy5mZWF0dXJlPWEuZmVhdHVyZSx0aGlzLmNvbnNpZGVyU3BsaXQoYS5mZWF0dXJlKSl9LHJlbW92ZUJ5R2VvbWV0cnk6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2M8ZDsrK2MpaWYoYVtjXS5nZW9tZXRyeT09PWIpe2Euc3BsaWNlKGMsMSk7YnJlYWt9fSwKaXNFbGlnaWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5nZW9tZXRyeT9hLnN0YXRlIT09T3BlbkxheWVycy5TdGF0ZS5ERUxFVEUmJiJmdW5jdGlvbiI9PT10eXBlb2YgYS5nZW9tZXRyeS5zcGxpdCYmdGhpcy5mZWF0dXJlIT09YSYmKCF0aGlzLnRhcmdldEZpbHRlcnx8dGhpcy50YXJnZXRGaWx0ZXIuZXZhbHVhdGUoYS5hdHRyaWJ1dGVzKSk6ITF9LGNvbnNpZGVyU3BsaXQ6ZnVuY3Rpb24oYSl7dmFyIGI9ITEsYz0hMTtpZighdGhpcy5zb3VyY2VGaWx0ZXJ8fHRoaXMuc291cmNlRmlsdGVyLmV2YWx1YXRlKGEuYXR0cmlidXRlcykpe2Zvcih2YXIgZD10aGlzLmxheWVyJiZ0aGlzLmxheWVyLmZlYXR1cmVzfHxbXSxlLGYsZz1bXSxoPVtdLGk9dGhpcy5sYXllcj09PXRoaXMuc291cmNlJiZ0aGlzLm11dHVhbCxqPXtlZGdlOnRoaXMuZWRnZSx0b2xlcmFuY2U6dGhpcy50b2xlcmFuY2UsbXV0dWFsOml9LGs9W2EuZ2VvbWV0cnldLGwsbSxuLHA9MCxxPWQubGVuZ3RoO3A8cTsrK3ApaWYobD0KZFtwXSx0aGlzLmlzRWxpZ2libGUobCkpe209W2wuZ2VvbWV0cnldO2Zvcih2YXIgcj0wO3I8ay5sZW5ndGg7KytyKXtuPWtbcl07Zm9yKHZhciBzPTA7czxtLmxlbmd0aDsrK3MpaWYoZT1tW3NdLG4uZ2V0Qm91bmRzKCkuaW50ZXJzZWN0c0JvdW5kcyhlLmdldEJvdW5kcygpKSYmKGU9bi5zcGxpdChlLGopKSlmPXRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiYmVmb3Jlc3BsaXQiLHtzb3VyY2U6YSx0YXJnZXQ6bH0pLCExIT09ZiYmKGkmJihmPWVbMF0sMTxmLmxlbmd0aCYmKGYudW5zaGlmdChyLDEpLEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkoayxmKSxyKz1mLmxlbmd0aC0zKSxlPWVbMV0pLDE8ZS5sZW5ndGgmJihlLnVuc2hpZnQocywxKSxBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KG0sZSkscys9ZS5sZW5ndGgtMykpfW0mJjE8bS5sZW5ndGgmJih0aGlzLmdlb21zVG9GZWF0dXJlcyhsLG0pLHRoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgic3BsaXQiLHtvcmlnaW5hbDpsLApmZWF0dXJlczptfSksQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoZyxtKSxoLnB1c2gobCksYz0hMCl9ayYmMTxrLmxlbmd0aCYmKHRoaXMuZ2VvbXNUb0ZlYXR1cmVzKGEsayksdGhpcy5ldmVudHMudHJpZ2dlckV2ZW50KCJzcGxpdCIse29yaWdpbmFsOmEsZmVhdHVyZXM6a30pLEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGcsayksaC5wdXNoKGEpLGI9ITApO2lmKGJ8fGMpe2lmKHRoaXMuZGVmZXJEZWxldGUpe2Q9W107cD0wO2ZvcihxPWgubGVuZ3RoO3A8cTsrK3ApYz1oW3BdLGMuc3RhdGU9PT1PcGVuTGF5ZXJzLlN0YXRlLklOU0VSVD9kLnB1c2goYyk6KGMuc3RhdGU9T3BlbkxheWVycy5TdGF0ZS5ERUxFVEUsdGhpcy5sYXllci5kcmF3RmVhdHVyZShjKSk7dGhpcy5sYXllci5kZXN0cm95RmVhdHVyZXMoZCx7c2lsZW50OiEwfSk7cD0wO2ZvcihxPWcubGVuZ3RoO3A8cTsrK3ApZ1twXS5zdGF0ZT1PcGVuTGF5ZXJzLlN0YXRlLklOU0VSVH1lbHNlIHRoaXMubGF5ZXIuZGVzdHJveUZlYXR1cmVzKGgsCntzaWxlbnQ6ITB9KTt0aGlzLmxheWVyLmFkZEZlYXR1cmVzKGcse3NpbGVudDohMH0pO3RoaXMuZXZlbnRzLnRyaWdnZXJFdmVudCgiYWZ0ZXJzcGxpdCIse3NvdXJjZTphLGZlYXR1cmVzOmd9KX19cmV0dXJuIGJ9LGdlb21zVG9GZWF0dXJlczpmdW5jdGlvbihhLGIpe3ZhciBjPWEuY2xvbmUoKTtkZWxldGUgYy5nZW9tZXRyeTtmb3IodmFyIGQsZT0wLGY9Yi5sZW5ndGg7ZTxmOysrZSlkPWMuY2xvbmUoKSxkLmdlb21ldHJ5PWJbZV0sZC5zdGF0ZT1PcGVuTGF5ZXJzLlN0YXRlLklOU0VSVCxiW2VdPWR9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmFjdGl2ZSYmdGhpcy5kZWFjdGl2YXRlKCk7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuQ29udHJvbC5TcGxpdCJ9KTtPcGVuTGF5ZXJzLkxheWVyLldNVFM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkxheWVyLkdyaWQse2lzQmFzZUxheWVyOiEwLHZlcnNpb246IjEuMC4wIixyZXF1ZXN0RW5jb2Rpbmc6IktWUCIsdXJsOm51bGwsbGF5ZXI6bnVsbCxtYXRyaXhTZXQ6bnVsbCxzdHlsZTpudWxsLGZvcm1hdDoiaW1hZ2UvanBlZyIsdGlsZU9yaWdpbjpudWxsLHRpbGVGdWxsRXh0ZW50Om51bGwsZm9ybWF0U3VmZml4Om51bGwsbWF0cml4SWRzOm51bGwsZGltZW5zaW9uczpudWxsLHBhcmFtczpudWxsLHpvb21PZmZzZXQ6MCxzZXJ2ZXJSZXNvbHV0aW9uczpudWxsLGZvcm1hdFN1ZmZpeE1hcDp7ImltYWdlL3BuZyI6InBuZyIsImltYWdlL3BuZzgiOiJwbmciLCJpbWFnZS9wbmcyNCI6InBuZyIsImltYWdlL3BuZzMyIjoicG5nIixwbmc6InBuZyIsImltYWdlL2pwZWciOiJqcGciLCJpbWFnZS9qcGciOiJqcGciLGpwZWc6ImpwZyIsanBnOiJqcGcifSxtYXRyaXg6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe3ZhciBiPQp7dXJsOiEwLGxheWVyOiEwLHN0eWxlOiEwLG1hdHJpeFNldDohMH0sYztmb3IoYyBpbiBiKWlmKCEoYyBpbiBhKSl0aHJvdyBFcnJvcigiTWlzc2luZyBwcm9wZXJ0eSAnIitjKyInIGluIGxheWVyIGNvbmZpZ3VyYXRpb24uIik7YS5wYXJhbXM9T3BlbkxheWVycy5VdGlsLnVwcGVyQ2FzZU9iamVjdChhLnBhcmFtcyk7T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2EubmFtZSxhLnVybCxhLnBhcmFtcyxhXSk7dGhpcy5mb3JtYXRTdWZmaXh8fCh0aGlzLmZvcm1hdFN1ZmZpeD10aGlzLmZvcm1hdFN1ZmZpeE1hcFt0aGlzLmZvcm1hdF18fHRoaXMuZm9ybWF0LnNwbGl0KCIvIikucG9wKCkpO2lmKHRoaXMubWF0cml4SWRzJiYoYT10aGlzLm1hdHJpeElkcy5sZW5ndGgpJiYic3RyaW5nIj09PXR5cGVvZiB0aGlzLm1hdHJpeElkc1swXSl7Yj10aGlzLm1hdHJpeElkczt0aGlzLm1hdHJpeElkcz1BcnJheShhKTtmb3IoYz0wO2M8YTsrK2MpdGhpcy5tYXRyaXhJZHNbY109CntpZGVudGlmaWVyOmJbY119fX0sc2V0TWFwOmZ1bmN0aW9uKCl7T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5zZXRNYXAuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx1cGRhdGVNYXRyaXhQcm9wZXJ0aWVzOmZ1bmN0aW9uKCl7aWYodGhpcy5tYXRyaXg9dGhpcy5nZXRNYXRyaXgoKSl0aGlzLm1hdHJpeC50b3BMZWZ0Q29ybmVyJiYodGhpcy50aWxlT3JpZ2luPXRoaXMubWF0cml4LnRvcExlZnRDb3JuZXIpLHRoaXMubWF0cml4LnRpbGVXaWR0aCYmdGhpcy5tYXRyaXgudGlsZUhlaWdodCYmKHRoaXMudGlsZVNpemU9bmV3IE9wZW5MYXllcnMuU2l6ZSh0aGlzLm1hdHJpeC50aWxlV2lkdGgsdGhpcy5tYXRyaXgudGlsZUhlaWdodCkpLHRoaXMudGlsZU9yaWdpbnx8KHRoaXMudGlsZU9yaWdpbj1uZXcgT3BlbkxheWVycy5Mb25MYXQodGhpcy5tYXhFeHRlbnQubGVmdCx0aGlzLm1heEV4dGVudC50b3ApKSx0aGlzLnRpbGVGdWxsRXh0ZW50fHwodGhpcy50aWxlRnVsbEV4dGVudD0KdGhpcy5tYXhFeHRlbnQpfSxtb3ZlVG86ZnVuY3Rpb24oYSxiLGMpeyhifHwhdGhpcy5tYXRyaXgpJiZ0aGlzLnVwZGF0ZU1hdHJpeFByb3BlcnRpZXMoKTtyZXR1cm4gT3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5tb3ZlVG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxjbG9uZTpmdW5jdGlvbihhKXtudWxsPT1hJiYoYT1uZXcgT3BlbkxheWVycy5MYXllci5XTVRTKHRoaXMub3B0aW9ucykpO3JldHVybiBhPU9wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUuY2xvbmUuYXBwbHkodGhpcyxbYV0pfSxnZXRJZGVudGlmaWVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U2VydmVyWm9vbSgpfSxnZXRNYXRyaXg6ZnVuY3Rpb24oKXt2YXIgYTtpZighdGhpcy5tYXRyaXhJZHN8fDA9PT10aGlzLm1hdHJpeElkcy5sZW5ndGgpYT17aWRlbnRpZmllcjp0aGlzLmdldElkZW50aWZpZXIoKX07ZWxzZSBpZigic2NhbGVEZW5vbWluYXRvciJpbiB0aGlzLm1hdHJpeElkc1swXSlmb3IodmFyIGI9Ck9wZW5MYXllcnMuTUVURVJTX1BFUl9JTkNIKk9wZW5MYXllcnMuSU5DSEVTX1BFUl9VTklUW3RoaXMudW5pdHNdKnRoaXMuZ2V0U2VydmVyUmVzb2x1dGlvbigpLzIuOEUtNCxjPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxkLGU9MCxmPXRoaXMubWF0cml4SWRzLmxlbmd0aDtlPGY7KytlKWQ9TWF0aC5hYnMoMS10aGlzLm1hdHJpeElkc1tlXS5zY2FsZURlbm9taW5hdG9yL2IpLGQ8YyYmKGM9ZCxhPXRoaXMubWF0cml4SWRzW2VdKTtlbHNlIGE9dGhpcy5tYXRyaXhJZHNbdGhpcy5nZXRJZGVudGlmaWVyKCldO3JldHVybiBhfSxnZXRUaWxlSW5mbzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFNlcnZlclJlc29sdXRpb24oKSxjPShhLmxvbi10aGlzLnRpbGVPcmlnaW4ubG9uKS8oYip0aGlzLnRpbGVTaXplLncpLGE9KHRoaXMudGlsZU9yaWdpbi5sYXQtYS5sYXQpLyhiKnRoaXMudGlsZVNpemUuaCksYj1NYXRoLmZsb29yKGMpLGQ9TWF0aC5mbG9vcihhKTtyZXR1cm57Y29sOmIsCnJvdzpkLGk6TWF0aC5mbG9vcigoYy1iKSp0aGlzLnRpbGVTaXplLncpLGo6TWF0aC5mbG9vcigoYS1kKSp0aGlzLnRpbGVTaXplLmgpfX0sZ2V0VVJMOmZ1bmN0aW9uKGEpe3ZhciBhPXRoaXMuYWRqdXN0Qm91bmRzKGEpLGI9IiI7aWYoIXRoaXMudGlsZUZ1bGxFeHRlbnR8fHRoaXMudGlsZUZ1bGxFeHRlbnQuaW50ZXJzZWN0c0JvdW5kcyhhKSl7dmFyIGE9YS5nZXRDZW50ZXJMb25MYXQoKSxjPXRoaXMuZ2V0VGlsZUluZm8oYSksYT10aGlzLmRpbWVuc2lvbnMsZCxiPU9wZW5MYXllcnMuVXRpbC5pc0FycmF5KHRoaXMudXJsKT90aGlzLnNlbGVjdFVybChbdGhpcy52ZXJzaW9uLHRoaXMuc3R5bGUsdGhpcy5tYXRyaXhTZXQsdGhpcy5tYXRyaXguaWRlbnRpZmllcixjLnJvdyxjLmNvbF0uam9pbigpLHRoaXMudXJsKTp0aGlzLnVybDtpZigiUkVTVCI9PT10aGlzLnJlcXVlc3RFbmNvZGluZy50b1VwcGVyQ2FzZSgpKWlmKGQ9dGhpcy5wYXJhbXMsLTEhPT1iLmluZGV4T2YoInsiKSl7Yj0KYi5yZXBsYWNlKC9cey9nLCIkeyIpO2M9e3N0eWxlOnRoaXMuc3R5bGUsU3R5bGU6dGhpcy5zdHlsZSxUaWxlTWF0cml4U2V0OnRoaXMubWF0cml4U2V0LFRpbGVNYXRyaXg6dGhpcy5tYXRyaXguaWRlbnRpZmllcixUaWxlUm93OmMucm93LFRpbGVDb2w6Yy5jb2x9O2lmKGEpe3ZhciBlLGY7Zm9yKGY9YS5sZW5ndGgtMTswPD1mOy0tZillPWFbZl0sY1tlXT1kW2UudG9VcHBlckNhc2UoKV19Yj1PcGVuTGF5ZXJzLlN0cmluZy5mb3JtYXQoYixjKX1lbHNle2U9dGhpcy52ZXJzaW9uKyIvIit0aGlzLmxheWVyKyIvIit0aGlzLnN0eWxlKyIvIjtpZihhKWZvcihmPTA7ZjxhLmxlbmd0aDtmKyspZFthW2ZdXSYmKGU9ZStkW2FbZl1dKyIvIik7ZT1lK3RoaXMubWF0cml4U2V0KyIvIit0aGlzLm1hdHJpeC5pZGVudGlmaWVyKyIvIitjLnJvdysiLyIrYy5jb2wrIi4iK3RoaXMuZm9ybWF0U3VmZml4O2IubWF0Y2goL1wvJC8pfHwoYis9Ii8iKTtiKz1lfWVsc2UiS1ZQIj09PXRoaXMucmVxdWVzdEVuY29kaW5nLnRvVXBwZXJDYXNlKCkmJgooZD17U0VSVklDRToiV01UUyIsUkVRVUVTVDoiR2V0VGlsZSIsVkVSU0lPTjp0aGlzLnZlcnNpb24sTEFZRVI6dGhpcy5sYXllcixTVFlMRTp0aGlzLnN0eWxlLFRJTEVNQVRSSVhTRVQ6dGhpcy5tYXRyaXhTZXQsVElMRU1BVFJJWDp0aGlzLm1hdHJpeC5pZGVudGlmaWVyLFRJTEVST1c6Yy5yb3csVElMRUNPTDpjLmNvbCxGT1JNQVQ6dGhpcy5mb3JtYXR9LGI9T3BlbkxheWVycy5MYXllci5HcmlkLnByb3RvdHlwZS5nZXRGdWxsUmVxdWVzdFN0cmluZy5hcHBseSh0aGlzLFtkXSkpfXJldHVybiBifSxtZXJnZU5ld1BhcmFtczpmdW5jdGlvbihhKXtpZigiS1ZQIj09PXRoaXMucmVxdWVzdEVuY29kaW5nLnRvVXBwZXJDYXNlKCkpcmV0dXJuIE9wZW5MYXllcnMuTGF5ZXIuR3JpZC5wcm90b3R5cGUubWVyZ2VOZXdQYXJhbXMuYXBwbHkodGhpcyxbT3BlbkxheWVycy5VdGlsLnVwcGVyQ2FzZU9iamVjdChhKV0pfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLldNVFMifSk7T3BlbkxheWVycy5Qcm90b2NvbC5TT1MudjFfMF8wPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Qcm90b2NvbCx7Zm9pczpudWxsLGZvcm1hdE9wdGlvbnM6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuUHJvdG9jb2wucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxbYV0pO2EuZm9ybWF0fHwodGhpcy5mb3JtYXQ9bmV3IE9wZW5MYXllcnMuRm9ybWF0LlNPU0dldEZlYXR1cmVPZkludGVyZXN0KHRoaXMuZm9ybWF0T3B0aW9ucykpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zJiYhdGhpcy5vcHRpb25zLmZvcm1hdCYmdGhpcy5mb3JtYXQuZGVzdHJveSgpO3RoaXMuZm9ybWF0PW51bGw7T3BlbkxheWVycy5Qcm90b2NvbC5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzKX0scmVhZDpmdW5jdGlvbihhKXthPU9wZW5MYXllcnMuVXRpbC5leHRlbmQoe30sYSk7T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoYSx0aGlzLm9wdGlvbnN8fAp7fSk7dmFyIGI9bmV3IE9wZW5MYXllcnMuUHJvdG9jb2wuUmVzcG9uc2Uoe3JlcXVlc3RUeXBlOiJyZWFkIn0pLGM9dGhpcy5mb3JtYXQsYz1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLndyaXRlLmFwcGx5KGMsW2Mud3JpdGVOb2RlKCJzb3M6R2V0RmVhdHVyZU9mSW50ZXJlc3QiLHtmb2lzOnRoaXMuZm9pc30pXSk7Yi5wcml2PU9wZW5MYXllcnMuUmVxdWVzdC5QT1NUKHt1cmw6YS51cmwsY2FsbGJhY2s6dGhpcy5jcmVhdGVDYWxsYmFjayh0aGlzLmhhbmRsZVJlYWQsYixhKSxkYXRhOmN9KTtyZXR1cm4gYn0saGFuZGxlUmVhZDpmdW5jdGlvbihhLGIpe2lmKGIuY2FsbGJhY2spe3ZhciBjPWEucHJpdjsyMDA8PWMuc3RhdHVzJiYzMDA+Yy5zdGF0dXM/KGEuZmVhdHVyZXM9dGhpcy5wYXJzZUZlYXR1cmVzKGMpLGEuY29kZT1PcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlLlNVQ0NFU1MpOmEuY29kZT1PcGVuTGF5ZXJzLlByb3RvY29sLlJlc3BvbnNlLkZBSUxVUkU7CmIuY2FsbGJhY2suY2FsbChiLnNjb3BlLGEpfX0scGFyc2VGZWF0dXJlczpmdW5jdGlvbihhKXt2YXIgYj1hLnJlc3BvbnNlWE1MO2lmKCFifHwhYi5kb2N1bWVudEVsZW1lbnQpYj1hLnJlc3BvbnNlVGV4dDtyZXR1cm4hYnx8MD49Yi5sZW5ndGg/bnVsbDp0aGlzLmZvcm1hdC5yZWFkKGIpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLlByb3RvY29sLlNPUy52MV8wXzAifSk7T3BlbkxheWVycy5MYXllci5LYU1hcENhY2hlPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5MYXllci5LYU1hcCx7SU1BR0VfRVhURU5TSU9OUzp7anBlZzoianBnIixnaWY6ImdpZiIscG5nOiJwbmciLHBuZzg6InBuZyIscG5nMjQ6InBuZyIsZGl0aGVyZWQ6InBuZyJ9LERFRkFVTFRfRk9STUFUOiJqcGVnIixpbml0aWFsaXplOmZ1bmN0aW9uKGEsYixjLGQpe09wZW5MYXllcnMuTGF5ZXIuS2FNYXAucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZXh0ZW5zaW9uPXRoaXMuSU1BR0VfRVhURU5TSU9OU1t0aGlzLnBhcmFtcy5pLnRvTG93ZXJDYXNlKCl8fHRoaXMuREVGQVVMVF9GT1JNQVRdfSxnZXRVUkw6ZnVuY3Rpb24oYSl7dmFyIGE9dGhpcy5hZGp1c3RCb3VuZHMoYSksYj10aGlzLm1hcC5nZXRSZXNvbHV0aW9uKCksYz1NYXRoLnJvdW5kKDFFNCp0aGlzLm1hcC5nZXRTY2FsZSgpKS8xRTQsZD1NYXRoLnJvdW5kKGEubGVmdC9iKSxhPQotTWF0aC5yb3VuZChhLnRvcC9iKSxiPU1hdGguZmxvb3IoZC90aGlzLnRpbGVTaXplLncvdGhpcy5wYXJhbXMubWV0YVRpbGVTaXplLncpKnRoaXMudGlsZVNpemUudyp0aGlzLnBhcmFtcy5tZXRhVGlsZVNpemUudyxlPU1hdGguZmxvb3IoYS90aGlzLnRpbGVTaXplLmgvdGhpcy5wYXJhbXMubWV0YVRpbGVTaXplLmgpKnRoaXMudGlsZVNpemUuaCp0aGlzLnBhcmFtcy5tZXRhVGlsZVNpemUuaCxjPVsiLyIsdGhpcy5wYXJhbXMubWFwLCIvIixjLCIvIix0aGlzLnBhcmFtcy5nLnJlcGxhY2UoL1xzL2csIl8iKSwiL2RlZi90IixlLCIvbCIsYiwiL3QiLGEsImwiLGQsIi4iLHRoaXMuZXh0ZW5zaW9uXSxkPXRoaXMudXJsO09wZW5MYXllcnMuVXRpbC5pc0FycmF5KGQpJiYoZD10aGlzLnNlbGVjdFVybChjLmpvaW4oIiIpLGQpKTtyZXR1cm4gZCtjLmpvaW4oIiIpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkxheWVyLkthTWFwQ2FjaGUifSk7T3BlbkxheWVycy5Qcm90b2NvbC5XRlMudjFfMV8wPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Qcm90b2NvbC5XRlMudjEse3ZlcnNpb246IjEuMS4wIixpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuUHJvdG9jb2wuV0ZTLnYxLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLm91dHB1dEZvcm1hdCYmIXRoaXMucmVhZEZvcm1hdCYmKCJnbWwyIj09dGhpcy5vdXRwdXRGb3JtYXQudG9Mb3dlckNhc2UoKT90aGlzLnJlYWRGb3JtYXQ9bmV3IE9wZW5MYXllcnMuRm9ybWF0LkdNTC52Mih7ZmVhdHVyZVR5cGU6dGhpcy5mZWF0dXJlVHlwZSxmZWF0dXJlTlM6dGhpcy5mZWF0dXJlTlMsZ2VvbWV0cnlOYW1lOnRoaXMuZ2VvbWV0cnlOYW1lfSk6Impzb24iPT10aGlzLm91dHB1dEZvcm1hdC50b0xvd2VyQ2FzZSgpJiYodGhpcy5yZWFkRm9ybWF0PW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5HZW9KU09OKSl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuUHJvdG9jb2wuV0ZTLnYxXzFfMCJ9KTtPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjFfMV8xPU9wZW5MYXllcnMuQ2xhc3MoT3BlbkxheWVycy5Gb3JtYXQuV01TQ2FwYWJpbGl0aWVzLnYxXzEse3ZlcnNpb246IjEuMS4xIixyZWFkZXJzOnt3bXM6T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe1NSUzpmdW5jdGlvbihhLGIpe2Iuc3JzW3RoaXMuZ2V0Q2hpbGRWYWx1ZShhKV09ITB9fSxPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjFfMS5wcm90b3R5cGUucmVhZGVycy53bXMpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjFfMV8xIn0pO09wZW5MYXllcnMuRm9ybWF0LldNU0NhcGFiaWxpdGllcy52MV8xXzFfV01TQz1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LldNU0NhcGFiaWxpdGllcy52MV8xXzEse3ZlcnNpb246IjEuMS4xIixwcm9maWxlOiJXTVNDIixyZWFkZXJzOnt3bXM6T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoe1ZlbmRvclNwZWNpZmljQ2FwYWJpbGl0aWVzOmZ1bmN0aW9uKGEsYil7Yi52ZW5kb3JTcGVjaWZpYz17dGlsZVNldHM6W119O3RoaXMucmVhZENoaWxkTm9kZXMoYSxiLnZlbmRvclNwZWNpZmljKX0sVGlsZVNldDpmdW5jdGlvbihhLGIpe3ZhciBjPXtzcnM6e30sYmJveDp7fSxyZXNvbHV0aW9uczpbXX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IudGlsZVNldHMucHVzaChjKX0sUmVzb2x1dGlvbnM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5nZXRDaGlsZFZhbHVlKGEpLnNwbGl0KCIgIiksZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKykiIiE9Y1tkXSYmYi5yZXNvbHV0aW9ucy5wdXNoKHBhcnNlRmxvYXQoY1tkXSkpfSwKV2lkdGg6ZnVuY3Rpb24oYSxiKXtiLndpZHRoPXBhcnNlSW50KHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSl9LEhlaWdodDpmdW5jdGlvbihhLGIpe2IuaGVpZ2h0PXBhcnNlSW50KHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSl9LExheWVyczpmdW5jdGlvbihhLGIpe2IubGF5ZXJzPXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sU3R5bGVzOmZ1bmN0aW9uKGEsYil7Yi5zdHlsZXM9dGhpcy5nZXRDaGlsZFZhbHVlKGEpfX0sT3BlbkxheWVycy5Gb3JtYXQuV01TQ2FwYWJpbGl0aWVzLnYxXzFfMS5wcm90b3R5cGUucmVhZGVycy53bXMpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkZvcm1hdC5XTVNDYXBhYmlsaXRpZXMudjFfMV8xX1dNU0MifSk7T3BlbkxheWVycy5MYW5nLmlvPU9wZW5MYXllcnMuVXRpbC5hcHBseURlZmF1bHRzKHsiU2NhbGUgPSAxIDogJHtzY2FsZURlbm9tfSI6IlNrYWxvID0gMSA6ICR7c2NhbGVEZW5vbX0ifSk7T3BlbkxheWVycy5Db250cm9sLkxheWVyU3dpdGNoZXI9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse2xheWVyU3RhdGVzOm51bGwsbGF5ZXJzRGl2Om51bGwsYmFzZUxheWVyc0RpdjpudWxsLGJhc2VMYXllcnM6bnVsbCxkYXRhTGJsOm51bGwsZGF0YUxheWVyc0RpdjpudWxsLGRhdGFMYXllcnM6bnVsbCxtaW5pbWl6ZURpdjpudWxsLG1heGltaXplRGl2Om51bGwsYXNjZW5kaW5nOiEwLGluaXRpYWxpemU6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmxheWVyU3RhdGVzPVtdfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5jbGVhckxheWVyc0FycmF5KCJiYXNlIik7dGhpcy5jbGVhckxheWVyc0FycmF5KCJkYXRhIik7dGhpcy5tYXAuZXZlbnRzLnVuKHtidXR0b25jbGljazp0aGlzLm9uQnV0dG9uQ2xpY2ssYWRkbGF5ZXI6dGhpcy5yZWRyYXcsY2hhbmdlbGF5ZXI6dGhpcy5yZWRyYXcsCnJlbW92ZWxheWVyOnRoaXMucmVkcmF3LGNoYW5nZWJhc2VsYXllcjp0aGlzLnJlZHJhdyxzY29wZTp0aGlzfSk7dGhpcy5ldmVudHMudW5yZWdpc3RlcigiYnV0dG9uY2xpY2siLHRoaXMsdGhpcy5vbkJ1dHRvbkNsaWNrKTtPcGVuTGF5ZXJzLkNvbnRyb2wucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzZXRNYXA6ZnVuY3Rpb24oYSl7T3BlbkxheWVycy5Db250cm9sLnByb3RvdHlwZS5zZXRNYXAuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMubWFwLmV2ZW50cy5vbih7YWRkbGF5ZXI6dGhpcy5yZWRyYXcsY2hhbmdlbGF5ZXI6dGhpcy5yZWRyYXcscmVtb3ZlbGF5ZXI6dGhpcy5yZWRyYXcsY2hhbmdlYmFzZWxheWVyOnRoaXMucmVkcmF3LHNjb3BlOnRoaXN9KTt0aGlzLm91dHNpZGVWaWV3cG9ydD8odGhpcy5ldmVudHMuYXR0YWNoVG9FbGVtZW50KHRoaXMuZGl2KSx0aGlzLmV2ZW50cy5yZWdpc3RlcigiYnV0dG9uY2xpY2siLHRoaXMsdGhpcy5vbkJ1dHRvbkNsaWNrKSk6CnRoaXMubWFwLmV2ZW50cy5yZWdpc3RlcigiYnV0dG9uY2xpY2siLHRoaXMsdGhpcy5vbkJ1dHRvbkNsaWNrKX0sZHJhdzpmdW5jdGlvbigpe09wZW5MYXllcnMuQ29udHJvbC5wcm90b3R5cGUuZHJhdy5hcHBseSh0aGlzKTt0aGlzLmxvYWRDb250ZW50cygpO3RoaXMub3V0c2lkZVZpZXdwb3J0fHx0aGlzLm1pbmltaXplQ29udHJvbCgpO3RoaXMucmVkcmF3KCk7cmV0dXJuIHRoaXMuZGl2fSxvbkJ1dHRvbkNsaWNrOmZ1bmN0aW9uKGEpe2E9YS5idXR0b25FbGVtZW50O2E9PT10aGlzLm1pbmltaXplRGl2P3RoaXMubWluaW1pemVDb250cm9sKCk6YT09PXRoaXMubWF4aW1pemVEaXY/dGhpcy5tYXhpbWl6ZUNvbnRyb2woKTphLl9sYXllclN3aXRjaGVyPT09dGhpcy5pZCYmKGFbImZvciJdJiYoYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhWyJmb3IiXSkpLGEuZGlzYWJsZWR8fCgicmFkaW8iPT1hLnR5cGU/KGEuY2hlY2tlZD0hMCx0aGlzLm1hcC5zZXRCYXNlTGF5ZXIodGhpcy5tYXAuZ2V0TGF5ZXIoYS5fbGF5ZXIpKSk6CihhLmNoZWNrZWQ9IWEuY2hlY2tlZCx0aGlzLnVwZGF0ZU1hcCgpKSkpfSxjbGVhckxheWVyc0FycmF5OmZ1bmN0aW9uKGEpe3RoaXNbYSsiTGF5ZXJzRGl2Il0uaW5uZXJIVE1MPSIiO3RoaXNbYSsiTGF5ZXJzIl09W119LGNoZWNrUmVkcmF3OmZ1bmN0aW9uKCl7aWYoIXRoaXMubGF5ZXJTdGF0ZXMubGVuZ3RofHx0aGlzLm1hcC5sYXllcnMubGVuZ3RoIT10aGlzLmxheWVyU3RhdGVzLmxlbmd0aClyZXR1cm4hMDtmb3IodmFyIGE9MCxiPXRoaXMubGF5ZXJTdGF0ZXMubGVuZ3RoO2E8YjthKyspe3ZhciBjPXRoaXMubGF5ZXJTdGF0ZXNbYV0sZD10aGlzLm1hcC5sYXllcnNbYV07aWYoYy5uYW1lIT1kLm5hbWV8fGMuaW5SYW5nZSE9ZC5pblJhbmdlfHxjLmlkIT1kLmlkfHxjLnZpc2liaWxpdHkhPWQudmlzaWJpbGl0eSlyZXR1cm4hMH1yZXR1cm4hMX0scmVkcmF3OmZ1bmN0aW9uKCl7aWYoIXRoaXMuY2hlY2tSZWRyYXcoKSlyZXR1cm4gdGhpcy5kaXY7dGhpcy5jbGVhckxheWVyc0FycmF5KCJiYXNlIik7CnRoaXMuY2xlYXJMYXllcnNBcnJheSgiZGF0YSIpO3ZhciBhPSExLGI9ITEsYz10aGlzLm1hcC5sYXllcnMubGVuZ3RoO3RoaXMubGF5ZXJTdGF0ZXM9QXJyYXkoYyk7Zm9yKHZhciBkPTA7ZDxjO2QrKyl7dmFyIGU9dGhpcy5tYXAubGF5ZXJzW2RdO3RoaXMubGF5ZXJTdGF0ZXNbZF09e25hbWU6ZS5uYW1lLHZpc2liaWxpdHk6ZS52aXNpYmlsaXR5LGluUmFuZ2U6ZS5pblJhbmdlLGlkOmUuaWR9fXZhciBmPXRoaXMubWFwLmxheWVycy5zbGljZSgpO3RoaXMuYXNjZW5kaW5nfHxmLnJldmVyc2UoKTtkPTA7Zm9yKGM9Zi5sZW5ndGg7ZDxjO2QrKyl7dmFyIGU9ZltkXSxnPWUuaXNCYXNlTGF5ZXI7aWYoZS5kaXNwbGF5SW5MYXllclN3aXRjaGVyKXtnP2I9ITA6YT0hMDt2YXIgaD1nP2U9PXRoaXMubWFwLmJhc2VMYXllcjplLmdldFZpc2liaWxpdHkoKSxpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iiksaj1PcGVuTGF5ZXJzLlV0aWwuY3JlYXRlVW5pcXVlSUQodGhpcy5pZCsKIl9pbnB1dF8iKTtpLmlkPWo7aS5uYW1lPWc/dGhpcy5pZCsiX2Jhc2VMYXllcnMiOmUubmFtZTtpLnR5cGU9Zz8icmFkaW8iOiJjaGVja2JveCI7aS52YWx1ZT1lLm5hbWU7aS5jaGVja2VkPWg7aS5kZWZhdWx0Q2hlY2tlZD1oO2kuY2xhc3NOYW1lPSJvbEJ1dHRvbiI7aS5fbGF5ZXI9ZS5pZDtpLl9sYXllclN3aXRjaGVyPXRoaXMuaWQ7IWcmJiFlLmluUmFuZ2UmJihpLmRpc2FibGVkPSEwKTtoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxhYmVsIik7aFsiZm9yIl09aS5pZDtPcGVuTGF5ZXJzLkVsZW1lbnQuYWRkQ2xhc3MoaCwibGFiZWxTcGFuIG9sQnV0dG9uIik7aC5fbGF5ZXI9ZS5pZDtoLl9sYXllclN3aXRjaGVyPXRoaXMuaWQ7IWcmJiFlLmluUmFuZ2UmJihoLnN0eWxlLmNvbG9yPSJncmF5Iik7aC5pbm5lckhUTUw9ZS5uYW1lO2guc3R5bGUudmVydGljYWxBbGlnbj1nPyJib3R0b20iOiJiYXNlbGluZSI7aj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiciIpOyhnP3RoaXMuYmFzZUxheWVyczoKdGhpcy5kYXRhTGF5ZXJzKS5wdXNoKHtsYXllcjplLGlucHV0RWxlbTppLGxhYmVsU3BhbjpofSk7ZT1nP3RoaXMuYmFzZUxheWVyc0Rpdjp0aGlzLmRhdGFMYXllcnNEaXY7ZS5hcHBlbmRDaGlsZChpKTtlLmFwcGVuZENoaWxkKGgpO2UuYXBwZW5kQ2hpbGQoail9fXRoaXMuZGF0YUxibC5zdHlsZS5kaXNwbGF5PWE/IiI6Im5vbmUiO3RoaXMuYmFzZUxibC5zdHlsZS5kaXNwbGF5PWI/IiI6Im5vbmUiO3JldHVybiB0aGlzLmRpdn0sdXBkYXRlTWFwOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYj10aGlzLmJhc2VMYXllcnMubGVuZ3RoO2E8YjthKyspe3ZhciBjPXRoaXMuYmFzZUxheWVyc1thXTtjLmlucHV0RWxlbS5jaGVja2VkJiZ0aGlzLm1hcC5zZXRCYXNlTGF5ZXIoYy5sYXllciwhMSl9YT0wO2ZvcihiPXRoaXMuZGF0YUxheWVycy5sZW5ndGg7YTxiO2ErKyljPXRoaXMuZGF0YUxheWVyc1thXSxjLmxheWVyLnNldFZpc2liaWxpdHkoYy5pbnB1dEVsZW0uY2hlY2tlZCl9LG1heGltaXplQ29udHJvbDpmdW5jdGlvbihhKXt0aGlzLmRpdi5zdHlsZS53aWR0aD0KIiI7dGhpcy5kaXYuc3R5bGUuaGVpZ2h0PSIiO3RoaXMuc2hvd0NvbnRyb2xzKCExKTtudWxsIT1hJiZPcGVuTGF5ZXJzLkV2ZW50LnN0b3AoYSl9LG1pbmltaXplQ29udHJvbDpmdW5jdGlvbihhKXt0aGlzLmRpdi5zdHlsZS53aWR0aD0iMHB4Ijt0aGlzLmRpdi5zdHlsZS5oZWlnaHQ9IjBweCI7dGhpcy5zaG93Q29udHJvbHMoITApO251bGwhPWEmJk9wZW5MYXllcnMuRXZlbnQuc3RvcChhKX0sc2hvd0NvbnRyb2xzOmZ1bmN0aW9uKGEpe3RoaXMubWF4aW1pemVEaXYuc3R5bGUuZGlzcGxheT1hPyIiOiJub25lIjt0aGlzLm1pbmltaXplRGl2LnN0eWxlLmRpc3BsYXk9YT8ibm9uZSI6IiI7dGhpcy5sYXllcnNEaXYuc3R5bGUuZGlzcGxheT1hPyJub25lIjoiIn0sbG9hZENvbnRlbnRzOmZ1bmN0aW9uKCl7dGhpcy5sYXllcnNEaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dGhpcy5sYXllcnNEaXYuaWQ9dGhpcy5pZCsiX2xheWVyc0RpdiI7T3BlbkxheWVycy5FbGVtZW50LmFkZENsYXNzKHRoaXMubGF5ZXJzRGl2LAoibGF5ZXJzRGl2Iik7dGhpcy5iYXNlTGJsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RoaXMuYmFzZUxibC5pbm5lckhUTUw9T3BlbkxheWVycy5pMThuKCJCYXNlIExheWVyIik7T3BlbkxheWVycy5FbGVtZW50LmFkZENsYXNzKHRoaXMuYmFzZUxibCwiYmFzZUxibCIpO3RoaXMuYmFzZUxheWVyc0Rpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtPcGVuTGF5ZXJzLkVsZW1lbnQuYWRkQ2xhc3ModGhpcy5iYXNlTGF5ZXJzRGl2LCJiYXNlTGF5ZXJzRGl2Iik7dGhpcy5kYXRhTGJsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RoaXMuZGF0YUxibC5pbm5lckhUTUw9T3BlbkxheWVycy5pMThuKCJPdmVybGF5cyIpO09wZW5MYXllcnMuRWxlbWVudC5hZGRDbGFzcyh0aGlzLmRhdGFMYmwsImRhdGFMYmwiKTt0aGlzLmRhdGFMYXllcnNEaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7T3BlbkxheWVycy5FbGVtZW50LmFkZENsYXNzKHRoaXMuZGF0YUxheWVyc0RpdiwKImRhdGFMYXllcnNEaXYiKTt0aGlzLmFzY2VuZGluZz8odGhpcy5sYXllcnNEaXYuYXBwZW5kQ2hpbGQodGhpcy5iYXNlTGJsKSx0aGlzLmxheWVyc0Rpdi5hcHBlbmRDaGlsZCh0aGlzLmJhc2VMYXllcnNEaXYpLHRoaXMubGF5ZXJzRGl2LmFwcGVuZENoaWxkKHRoaXMuZGF0YUxibCksdGhpcy5sYXllcnNEaXYuYXBwZW5kQ2hpbGQodGhpcy5kYXRhTGF5ZXJzRGl2KSk6KHRoaXMubGF5ZXJzRGl2LmFwcGVuZENoaWxkKHRoaXMuZGF0YUxibCksdGhpcy5sYXllcnNEaXYuYXBwZW5kQ2hpbGQodGhpcy5kYXRhTGF5ZXJzRGl2KSx0aGlzLmxheWVyc0Rpdi5hcHBlbmRDaGlsZCh0aGlzLmJhc2VMYmwpLHRoaXMubGF5ZXJzRGl2LmFwcGVuZENoaWxkKHRoaXMuYmFzZUxheWVyc0RpdikpO3RoaXMuZGl2LmFwcGVuZENoaWxkKHRoaXMubGF5ZXJzRGl2KTt2YXIgYT1PcGVuTGF5ZXJzLlV0aWwuZ2V0SW1hZ2VMb2NhdGlvbigibGF5ZXItc3dpdGNoZXItbWF4aW1pemUucG5nIik7dGhpcy5tYXhpbWl6ZURpdj0KT3BlbkxheWVycy5VdGlsLmNyZWF0ZUFscGhhSW1hZ2VEaXYoIk9wZW5MYXllcnNfQ29udHJvbF9NYXhpbWl6ZURpdiIsbnVsbCxudWxsLGEsImFic29sdXRlIik7T3BlbkxheWVycy5FbGVtZW50LmFkZENsYXNzKHRoaXMubWF4aW1pemVEaXYsIm1heGltaXplRGl2IG9sQnV0dG9uIik7dGhpcy5tYXhpbWl6ZURpdi5zdHlsZS5kaXNwbGF5PSJub25lIjt0aGlzLmRpdi5hcHBlbmRDaGlsZCh0aGlzLm1heGltaXplRGl2KTthPU9wZW5MYXllcnMuVXRpbC5nZXRJbWFnZUxvY2F0aW9uKCJsYXllci1zd2l0Y2hlci1taW5pbWl6ZS5wbmciKTt0aGlzLm1pbmltaXplRGl2PU9wZW5MYXllcnMuVXRpbC5jcmVhdGVBbHBoYUltYWdlRGl2KCJPcGVuTGF5ZXJzX0NvbnRyb2xfTWluaW1pemVEaXYiLG51bGwsbnVsbCxhLCJhYnNvbHV0ZSIpO09wZW5MYXllcnMuRWxlbWVudC5hZGRDbGFzcyh0aGlzLm1pbmltaXplRGl2LCJtaW5pbWl6ZURpdiBvbEJ1dHRvbiIpO3RoaXMubWluaW1pemVEaXYuc3R5bGUuZGlzcGxheT0KIm5vbmUiO3RoaXMuZGl2LmFwcGVuZENoaWxkKHRoaXMubWluaW1pemVEaXYpfSxDTEFTU19OQU1FOiJPcGVuTGF5ZXJzLkNvbnRyb2wuTGF5ZXJTd2l0Y2hlciJ9KTtPcGVuTGF5ZXJzLkxhbmcuZWw9T3BlbkxheWVycy5VdGlsLmFwcGx5RGVmYXVsdHMoeyJTY2FsZSA9IDEgOiAke3NjYWxlRGVub219IjoiXHUwMzlhXHUwM2JiXHUwM2FmXHUwM2JjXHUwM2IxXHUwM2JhXHUwM2IxIH4gMSA6ICR7c2NhbGVEZW5vbX0ifSk7T3BlbkxheWVycy5Gb3JtYXQuQXRvbT1PcGVuTGF5ZXJzLkNsYXNzKE9wZW5MYXllcnMuRm9ybWF0LlhNTCx7bmFtZXNwYWNlczp7YXRvbToiaHR0cDovL3d3dy53My5vcmcvMjAwNS9BdG9tIixnZW9yc3M6Imh0dHA6Ly93d3cuZ2VvcnNzLm9yZy9nZW9yc3MifSxmZWVkVGl0bGU6InVudGl0bGVkIixkZWZhdWx0RW50cnlUaXRsZToidW50aXRsZWQiLGdtbFBhcnNlcjpudWxsLHh5OiExLHJlYWQ6ZnVuY3Rpb24oYSl7InN0cmluZyI9PXR5cGVvZiBhJiYoYT1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxbYV0pKTtyZXR1cm4gdGhpcy5wYXJzZUZlYXR1cmVzKGEpfSx3cml0ZTpmdW5jdGlvbihhKXt2YXIgYjtpZihPcGVuTGF5ZXJzLlV0aWwuaXNBcnJheShhKSl7Yj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImF0b206ZmVlZCIpO2IuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJhdG9tOnRpdGxlIix7dmFsdWU6dGhpcy5mZWVkVGl0bGV9KSk7CmZvcih2YXIgYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKyliLmFwcGVuZENoaWxkKHRoaXMuYnVpbGRFbnRyeU5vZGUoYVtjXSkpfWVsc2UgYj10aGlzLmJ1aWxkRW50cnlOb2RlKGEpO3JldHVybiBPcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLndyaXRlLmFwcGx5KHRoaXMsW2JdKX0sYnVpbGRDb250ZW50Tm9kZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImF0b206Y29udGVudCIse2F0dHJpYnV0ZXM6e3R5cGU6YS50eXBlfHxudWxsfX0pO2lmKGEuc3JjKWIuc2V0QXR0cmlidXRlKCJzcmMiLGEuc3JjKTtlbHNlIGlmKCJ0ZXh0Ij09YS50eXBlfHxudWxsPT1hLnR5cGUpYi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVRleHROb2RlKGEudmFsdWUpKTtlbHNlIGlmKCJodG1sIj09YS50eXBlKXtpZigic3RyaW5nIiE9dHlwZW9mIGEudmFsdWUpdGhyb3ciSFRNTCBjb250ZW50IG11c3QgYmUgaW4gZm9ybSBvZiBhbiBlc2NhcGVkIHN0cmluZyI7Yi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVRleHROb2RlKGEudmFsdWUpKX1lbHNlInhodG1sIj09CmEudHlwZT9iLmFwcGVuZENoaWxkKGEudmFsdWUpOiJ4aHRtbCI9PWEudHlwZXx8YS50eXBlLm1hdGNoKC8oXCt8XC8peG1sJC8pP2IuYXBwZW5kQ2hpbGQoYS52YWx1ZSk6Yi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVRleHROb2RlKGEudmFsdWUpKTtyZXR1cm4gYn0sYnVpbGRFbnRyeU5vZGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5hdHRyaWJ1dGVzLGM9Yi5hdG9tfHx7fSxkPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiYXRvbTplbnRyeSIpO2lmKGMuYXV0aG9ycylmb3IodmFyIGU9T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYy5hdXRob3JzKT9jLmF1dGhvcnM6W2MuYXV0aG9yc10sZj0wLGc9ZS5sZW5ndGg7ZjxnO2YrKylkLmFwcGVuZENoaWxkKHRoaXMuYnVpbGRQZXJzb25Db25zdHJ1Y3ROb2RlKCJhdXRob3IiLGVbZl0pKTtpZihjLmNhdGVnb3JpZXMpZm9yKHZhciBlPU9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGMuY2F0ZWdvcmllcyk/Yy5jYXRlZ29yaWVzOltjLmNhdGVnb3JpZXNdLApoLGY9MCxnPWUubGVuZ3RoO2Y8ZztmKyspaD1lW2ZdLGQuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJhdG9tOmNhdGVnb3J5Iix7YXR0cmlidXRlczp7dGVybTpoLnRlcm0sc2NoZW1lOmguc2NoZW1lfHxudWxsLGxhYmVsOmgubGFiZWx8fG51bGx9fSkpO2MuY29udGVudCYmZC5hcHBlbmRDaGlsZCh0aGlzLmJ1aWxkQ29udGVudE5vZGUoYy5jb250ZW50KSk7aWYoYy5jb250cmlidXRvcnMpe2U9T3BlbkxheWVycy5VdGlsLmlzQXJyYXkoYy5jb250cmlidXRvcnMpP2MuY29udHJpYnV0b3JzOltjLmNvbnRyaWJ1dG9yc107Zj0wO2ZvcihnPWUubGVuZ3RoO2Y8ZztmKyspZC5hcHBlbmRDaGlsZCh0aGlzLmJ1aWxkUGVyc29uQ29uc3RydWN0Tm9kZSgiY29udHJpYnV0b3IiLGVbZl0pKX1hLmZpZCYmZC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImF0b206aWQiLHt2YWx1ZTphLmZpZH0pKTtpZihjLmxpbmtzKXtlPU9wZW5MYXllcnMuVXRpbC5pc0FycmF5KGMubGlua3MpPwpjLmxpbmtzOltjLmxpbmtzXTtmPTA7Zm9yKGc9ZS5sZW5ndGg7ZjxnO2YrKyloPWVbZl0sZC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImF0b206bGluayIse2F0dHJpYnV0ZXM6e2hyZWY6aC5ocmVmLHJlbDpoLnJlbHx8bnVsbCx0eXBlOmgudHlwZXx8bnVsbCxocmVmbGFuZzpoLmhyZWZsYW5nfHxudWxsLHRpdGxlOmgudGl0bGV8fG51bGwsbGVuZ3RoOmgubGVuZ3RofHxudWxsfX0pKX1jLnB1Ymxpc2hlZCYmZC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImF0b206cHVibGlzaGVkIix7dmFsdWU6Yy5wdWJsaXNoZWR9KSk7Yy5yaWdodHMmJmQuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50TlNQbHVzKCJhdG9tOnJpZ2h0cyIse3ZhbHVlOmMucmlnaHRzfSkpO2lmKGMuc3VtbWFyeXx8Yi5kZXNjcmlwdGlvbilkLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiYXRvbTpzdW1tYXJ5Iix7dmFsdWU6Yy5zdW1tYXJ5fHwKYi5kZXNjcmlwdGlvbn0pKTtkLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiYXRvbTp0aXRsZSIse3ZhbHVlOmMudGl0bGV8fGIudGl0bGV8fHRoaXMuZGVmYXVsdEVudHJ5VGl0bGV9KSk7Yy51cGRhdGVkJiZkLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiYXRvbTp1cGRhdGVkIix7dmFsdWU6Yy51cGRhdGVkfSkpO2EuZ2VvbWV0cnkmJihiPXRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiZ2VvcnNzOndoZXJlIiksYi5hcHBlbmRDaGlsZCh0aGlzLmJ1aWxkR2VvbWV0cnlOb2RlKGEuZ2VvbWV0cnkpKSxkLmFwcGVuZENoaWxkKGIpKTtyZXR1cm4gZH0saW5pdEdtbFBhcnNlcjpmdW5jdGlvbigpe3RoaXMuZ21sUGFyc2VyPW5ldyBPcGVuTGF5ZXJzLkZvcm1hdC5HTUwudjMoe3h5OnRoaXMueHksZmVhdHVyZU5TOiJodHRwOi8vZXhhbXBsZS5jb20jZmVhdHVyZSIsaW50ZXJuYWxQcm9qZWN0aW9uOnRoaXMuaW50ZXJuYWxQcm9qZWN0aW9uLApleHRlcm5hbFByb2plY3Rpb246dGhpcy5leHRlcm5hbFByb2plY3Rpb259KX0sYnVpbGRHZW9tZXRyeU5vZGU6ZnVuY3Rpb24oYSl7dGhpcy5nbWxQYXJzZXJ8fHRoaXMuaW5pdEdtbFBhcnNlcigpO3JldHVybiB0aGlzLmdtbFBhcnNlci53cml0ZU5vZGUoImZlYXR1cmU6X2dlb21ldHJ5IixhKS5maXJzdENoaWxkfSxidWlsZFBlcnNvbkNvbnN0cnVjdE5vZGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1bInVyaSIsImVtYWlsIl0sZD10aGlzLmNyZWF0ZUVsZW1lbnROU1BsdXMoImF0b206IithKTtkLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiYXRvbTpuYW1lIix7dmFsdWU6Yi5uYW1lfSkpO2Zvcih2YXIgZT0wLGY9Yy5sZW5ndGg7ZTxmO2UrKyliW2NbZV1dJiZkLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudE5TUGx1cygiYXRvbToiK2NbZV0se3ZhbHVlOmJbY1tlXV19KSk7cmV0dXJuIGR9LGdldEZpcnN0Q2hpbGRWYWx1ZTpmdW5jdGlvbihhLGIsYywKZCl7cmV0dXJuKGE9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsYixjKSkmJjA8YS5sZW5ndGg/dGhpcy5nZXRDaGlsZFZhbHVlKGFbMF0sZCk6ZH0scGFyc2VGZWF0dXJlOmZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM9bnVsbCxkPW51bGwsZT1udWxsLGY9dGhpcy5uYW1lc3BhY2VzLmF0b207dGhpcy5wYXJzZVBlcnNvbkNvbnN0cnVjdHMoYSwiYXV0aG9yIixiKTtkPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLGYsImNhdGVnb3J5Iik7MDxkLmxlbmd0aCYmKGIuY2F0ZWdvcmllcz1bXSk7Zm9yKHZhciBnPTAsaD1kLmxlbmd0aDtnPGg7ZysrKXtjPXt9O2MudGVybT1kW2ddLmdldEF0dHJpYnV0ZSgidGVybSIpO2lmKGU9ZFtnXS5nZXRBdHRyaWJ1dGUoInNjaGVtZSIpKWMuc2NoZW1lPWU7aWYoZT1kW2ddLmdldEF0dHJpYnV0ZSgibGFiZWwiKSljLmxhYmVsPWU7Yi5jYXRlZ29yaWVzLnB1c2goYyl9ZD10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSxmLCJjb250ZW50Iik7CmlmKDA8ZC5sZW5ndGgpe2M9e307aWYoZT1kWzBdLmdldEF0dHJpYnV0ZSgidHlwZSIpKWMudHlwZT1lOyhlPWRbMF0uZ2V0QXR0cmlidXRlKCJzcmMiKSk/Yy5zcmM9ZTooYy52YWx1ZT0idGV4dCI9PWMudHlwZXx8Imh0bWwiPT1jLnR5cGV8fG51bGw9PWMudHlwZT90aGlzLmdldEZpcnN0Q2hpbGRWYWx1ZShhLGYsImNvbnRlbnQiLG51bGwpOiJ4aHRtbCI9PWMudHlwZXx8Yy50eXBlLm1hdGNoKC8oXCt8XC8peG1sJC8pP3RoaXMuZ2V0Q2hpbGRFbChkWzBdKTp0aGlzLmdldEZpcnN0Q2hpbGRWYWx1ZShhLGYsImNvbnRlbnQiLG51bGwpLGIuY29udGVudD1jKX10aGlzLnBhcnNlUGVyc29uQ29uc3RydWN0cyhhLCJjb250cmlidXRvciIsYik7Yi5pZD10aGlzLmdldEZpcnN0Q2hpbGRWYWx1ZShhLGYsImlkIixudWxsKTtkPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLGYsImxpbmsiKTswPGQubGVuZ3RoJiYoYi5saW5rcz1BcnJheShkLmxlbmd0aCkpO2Zvcih2YXIgaT1bInJlbCIsCiJ0eXBlIiwiaHJlZmxhbmciLCJ0aXRsZSIsImxlbmd0aCJdLGc9MCxoPWQubGVuZ3RoO2c8aDtnKyspe2M9e307Yy5ocmVmPWRbZ10uZ2V0QXR0cmlidXRlKCJocmVmIik7Zm9yKHZhciBqPTAsaz1pLmxlbmd0aDtqPGs7aisrKShlPWRbZ10uZ2V0QXR0cmlidXRlKGlbal0pKSYmKGNbaVtqXV09ZSk7Yi5saW5rc1tnXT1jfWlmKGM9dGhpcy5nZXRGaXJzdENoaWxkVmFsdWUoYSxmLCJwdWJsaXNoZWQiLG51bGwpKWIucHVibGlzaGVkPWM7aWYoYz10aGlzLmdldEZpcnN0Q2hpbGRWYWx1ZShhLGYsInJpZ2h0cyIsbnVsbCkpYi5yaWdodHM9YztpZihjPXRoaXMuZ2V0Rmlyc3RDaGlsZFZhbHVlKGEsZiwic3VtbWFyeSIsbnVsbCkpYi5zdW1tYXJ5PWM7Yi50aXRsZT10aGlzLmdldEZpcnN0Q2hpbGRWYWx1ZShhLGYsInRpdGxlIixudWxsKTtiLnVwZGF0ZWQ9dGhpcy5nZXRGaXJzdENoaWxkVmFsdWUoYSxmLCJ1cGRhdGVkIixudWxsKTtjPXt0aXRsZTpiLnRpdGxlLGRlc2NyaXB0aW9uOmIuc3VtbWFyeSwKYXRvbTpifTthPXRoaXMucGFyc2VMb2NhdGlvbnMoYSlbMF07YT1uZXcgT3BlbkxheWVycy5GZWF0dXJlLlZlY3RvcihhLGMpO2EuZmlkPWIuaWQ7cmV0dXJuIGF9LHBhcnNlRmVhdHVyZXM6ZnVuY3Rpb24oYSl7dmFyIGI9W10sYz10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSx0aGlzLm5hbWVzcGFjZXMuYXRvbSwiZW50cnkiKTswPT1jLmxlbmd0aCYmKGM9W2FdKTtmb3IodmFyIGE9MCxkPWMubGVuZ3RoO2E8ZDthKyspYi5wdXNoKHRoaXMucGFyc2VGZWF0dXJlKGNbYV0pKTtyZXR1cm4gYn0scGFyc2VMb2NhdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5uYW1lc3BhY2VzLmdlb3JzcyxjPXtjb21wb25lbnRzOltdfSxkPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLGIsIndoZXJlIik7aWYoZCYmMDxkLmxlbmd0aCl7dGhpcy5nbWxQYXJzZXJ8fHRoaXMuaW5pdEdtbFBhcnNlcigpO2Zvcih2YXIgZT0wLGY9ZC5sZW5ndGg7ZTxmO2UrKyl0aGlzLmdtbFBhcnNlci5yZWFkQ2hpbGROb2RlcyhkW2VdLApjKX1jPWMuY29tcG9uZW50cztpZigoZD10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoYSxiLCJwb2ludCIpKSYmMDxkLmxlbmd0aCl7ZT0wO2ZvcihmPWQubGVuZ3RoO2U8ZjtlKyspe3ZhciBnPU9wZW5MYXllcnMuU3RyaW5nLnRyaW0oZFtlXS5maXJzdENoaWxkLm5vZGVWYWx1ZSkuc3BsaXQoL1xzKy8pOzIhPWcubGVuZ3RoJiYoZz1PcGVuTGF5ZXJzLlN0cmluZy50cmltKGRbZV0uZmlyc3RDaGlsZC5ub2RlVmFsdWUpLnNwbGl0KC9ccyosXHMqLykpO2MucHVzaChuZXcgT3BlbkxheWVycy5HZW9tZXRyeS5Qb2ludChnWzFdLGdbMF0pKX19dmFyIGg9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsYiwibGluZSIpO2lmKGgmJjA8aC5sZW5ndGgpZm9yKHZhciBpLGU9MCxmPWgubGVuZ3RoO2U8ZjtlKyspe2Q9T3BlbkxheWVycy5TdHJpbmcudHJpbShoW2VdLmZpcnN0Q2hpbGQubm9kZVZhbHVlKS5zcGxpdCgvXHMrLyk7aT1bXTtmb3IodmFyIGo9MCxrPWQubGVuZ3RoO2o8Cms7ais9MilnPW5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LlBvaW50KGRbaisxXSxkW2pdKSxpLnB1c2goZyk7Yy5wdXNoKG5ldyBPcGVuTGF5ZXJzLkdlb21ldHJ5LkxpbmVTdHJpbmcoaSkpfWlmKChhPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhhLGIsInBvbHlnb24iKSkmJjA8YS5sZW5ndGgpe2U9MDtmb3IoZj1hLmxlbmd0aDtlPGY7ZSsrKXtkPU9wZW5MYXllcnMuU3RyaW5nLnRyaW0oYVtlXS5maXJzdENoaWxkLm5vZGVWYWx1ZSkuc3BsaXQoL1xzKy8pO2k9W107aj0wO2ZvcihrPWQubGVuZ3RoO2o8aztqKz0yKWc9bmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9pbnQoZFtqKzFdLGRbal0pLGkucHVzaChnKTtjLnB1c2gobmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuUG9seWdvbihbbmV3IE9wZW5MYXllcnMuR2VvbWV0cnkuTGluZWFyUmluZyhpKV0pKX19aWYodGhpcy5pbnRlcm5hbFByb2plY3Rpb24mJnRoaXMuZXh0ZXJuYWxQcm9qZWN0aW9uKXtlPTA7Zm9yKGY9Yy5sZW5ndGg7ZTwKZjtlKyspY1tlXSYmY1tlXS50cmFuc2Zvcm0odGhpcy5leHRlcm5hbFByb2plY3Rpb24sdGhpcy5pbnRlcm5hbFByb2plY3Rpb24pfXJldHVybiBjfSxwYXJzZVBlcnNvbkNvbnN0cnVjdHM6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1bXSxlPXRoaXMubmFtZXNwYWNlcy5hdG9tLGE9dGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGEsZSxiKSxmPVsidXJpIiwiZW1haWwiXSxnPTAsaD1hLmxlbmd0aDtnPGg7ZysrKXt2YXIgaT17fTtpLm5hbWU9dGhpcy5nZXRGaXJzdENoaWxkVmFsdWUoYVtnXSxlLCJuYW1lIixudWxsKTtmb3IodmFyIGo9MCxrPWYubGVuZ3RoO2o8aztqKyspe3ZhciBsPXRoaXMuZ2V0Rmlyc3RDaGlsZFZhbHVlKGFbZ10sZSxmW2pdLG51bGwpO2wmJihpW2Zbal1dPWwpfWQucHVzaChpKX0wPGQubGVuZ3RoJiYoY1tiKyJzIl09ZCl9LENMQVNTX05BTUU6Ik9wZW5MYXllcnMuRm9ybWF0LkF0b20ifSk7T3BlbkxheWVycy5Db250cm9sLktleWJvYXJkRGVmYXVsdHM9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkNvbnRyb2wse2F1dG9BY3RpdmF0ZTohMCxzbGlkZUZhY3Rvcjo3NSxvYnNlcnZlRWxlbWVudDpudWxsLGRyYXc6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXI9bmV3IE9wZW5MYXllcnMuSGFuZGxlci5LZXlib2FyZCh0aGlzLHtrZXlkb3duOnRoaXMuZGVmYXVsdEtleVByZXNzfSx7b2JzZXJ2ZUVsZW1lbnQ6dGhpcy5vYnNlcnZlRWxlbWVudHx8ZG9jdW1lbnR9KX0sZGVmYXVsdEtleVByZXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGM9ITA7Yj1PcGVuTGF5ZXJzLkV2ZW50LmVsZW1lbnQoYSk7aWYoIWJ8fCEoIklOUFVUIj09Yi50YWdOYW1lfHwiVEVYVEFSRUEiPT1iLnRhZ05hbWV8fCJTRUxFQ1QiPT1iLnRhZ05hbWUpKXtzd2l0Y2goYS5rZXlDb2RlKXtjYXNlIE9wZW5MYXllcnMuRXZlbnQuS0VZX0xFRlQ6dGhpcy5tYXAucGFuKC10aGlzLnNsaWRlRmFjdG9yLDApO2JyZWFrOwpjYXNlIE9wZW5MYXllcnMuRXZlbnQuS0VZX1JJR0hUOnRoaXMubWFwLnBhbih0aGlzLnNsaWRlRmFjdG9yLDApO2JyZWFrO2Nhc2UgT3BlbkxheWVycy5FdmVudC5LRVlfVVA6dGhpcy5tYXAucGFuKDAsLXRoaXMuc2xpZGVGYWN0b3IpO2JyZWFrO2Nhc2UgT3BlbkxheWVycy5FdmVudC5LRVlfRE9XTjp0aGlzLm1hcC5wYW4oMCx0aGlzLnNsaWRlRmFjdG9yKTticmVhaztjYXNlIDMzOmI9dGhpcy5tYXAuZ2V0U2l6ZSgpO3RoaXMubWFwLnBhbigwLC0wLjc1KmIuaCk7YnJlYWs7Y2FzZSAzNDpiPXRoaXMubWFwLmdldFNpemUoKTt0aGlzLm1hcC5wYW4oMCwwLjc1KmIuaCk7YnJlYWs7Y2FzZSAzNTpiPXRoaXMubWFwLmdldFNpemUoKTt0aGlzLm1hcC5wYW4oMC43NSpiLncsMCk7YnJlYWs7Y2FzZSAzNjpiPXRoaXMubWFwLmdldFNpemUoKTt0aGlzLm1hcC5wYW4oLTAuNzUqYi53LDApO2JyZWFrO2Nhc2UgNDM6Y2FzZSA2MTpjYXNlIDE4NzpjYXNlIDEwNzp0aGlzLm1hcC56b29tSW4oKTsKYnJlYWs7Y2FzZSA0NTpjYXNlIDEwOTpjYXNlIDE4OTpjYXNlIDk1OnRoaXMubWFwLnpvb21PdXQoKTticmVhaztkZWZhdWx0OmM9ITF9YyYmT3BlbkxheWVycy5FdmVudC5zdG9wKGEpfX0sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Db250cm9sLktleWJvYXJkRGVmYXVsdHMifSk7T3BlbkxheWVycy5Gb3JtYXQuV01UU0NhcGFiaWxpdGllcy52MV8wXzA9T3BlbkxheWVycy5DbGFzcyhPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24udjFfMV8wLHt2ZXJzaW9uOiIxLjAuMCIsbmFtZXNwYWNlczp7b3dzOiJodHRwOi8vd3d3Lm9wZW5naXMubmV0L293cy8xLjEiLHdtdHM6Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvd210cy8xLjAiLHhsaW5rOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIn0seXg6bnVsbCxkZWZhdWx0UHJlZml4OiJ3bXRzIixpbml0aWFsaXplOmZ1bmN0aW9uKGEpe09wZW5MYXllcnMuRm9ybWF0LlhNTC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLFthXSk7dGhpcy5vcHRpb25zPWE7YT1PcGVuTGF5ZXJzLlV0aWwuZXh0ZW5kKHt9LE9wZW5MYXllcnMuRm9ybWF0LldNVFNDYXBhYmlsaXRpZXMucHJvdG90eXBlLnl4KTt0aGlzLnl4PU9wZW5MYXllcnMuVXRpbC5leHRlbmQoYSx0aGlzLnl4KX0scmVhZDpmdW5jdGlvbihhKXsic3RyaW5nIj09CnR5cGVvZiBhJiYoYT1PcGVuTGF5ZXJzLkZvcm1hdC5YTUwucHJvdG90eXBlLnJlYWQuYXBwbHkodGhpcyxbYV0pKTthJiY5PT1hLm5vZGVUeXBlJiYoYT1hLmRvY3VtZW50RWxlbWVudCk7dmFyIGI9e307dGhpcy5yZWFkTm9kZShhLGIpO2IudmVyc2lvbj10aGlzLnZlcnNpb247cmV0dXJuIGJ9LHJlYWRlcnM6e3dtdHM6e0NhcGFiaWxpdGllczpmdW5jdGlvbihhLGIpe3RoaXMucmVhZENoaWxkTm9kZXMoYSxiKX0sQ29udGVudHM6ZnVuY3Rpb24oYSxiKXtiLmNvbnRlbnRzPXt9O2IuY29udGVudHMubGF5ZXJzPVtdO2IuY29udGVudHMudGlsZU1hdHJpeFNldHM9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGIuY29udGVudHMpfSxMYXllcjpmdW5jdGlvbihhLGIpe3ZhciBjPXtzdHlsZXM6W10sZm9ybWF0czpbXSxkaW1lbnNpb25zOltdLHRpbGVNYXRyaXhTZXRMaW5rczpbXSxsYXllcnM6W119O3RoaXMucmVhZENoaWxkTm9kZXMoYSxjKTtiLmxheWVycy5wdXNoKGMpfSxTdHlsZTpmdW5jdGlvbihhLApiKXt2YXIgYz17fTtjLmlzRGVmYXVsdD0idHJ1ZSI9PT1hLmdldEF0dHJpYnV0ZSgiaXNEZWZhdWx0Iik7dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2Iuc3R5bGVzLnB1c2goYyl9LEZvcm1hdDpmdW5jdGlvbihhLGIpe2IuZm9ybWF0cy5wdXNoKHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSl9LFRpbGVNYXRyaXhTZXRMaW5rOmZ1bmN0aW9uKGEsYil7dmFyIGM9e307dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IudGlsZU1hdHJpeFNldExpbmtzLnB1c2goYyl9LFRpbGVNYXRyaXhTZXQ6ZnVuY3Rpb24oYSxiKXtpZihiLmxheWVycyl7dmFyIGM9e21hdHJpeElkczpbXX07dGhpcy5yZWFkQ2hpbGROb2RlcyhhLGMpO2IudGlsZU1hdHJpeFNldHNbYy5pZGVudGlmaWVyXT1jfWVsc2UgYi50aWxlTWF0cml4U2V0PXRoaXMuZ2V0Q2hpbGRWYWx1ZShhKX0sVGlsZU1hdHJpeDpmdW5jdGlvbihhLGIpe3ZhciBjPXtzdXBwb3J0ZWRDUlM6Yi5zdXBwb3J0ZWRDUlN9O3RoaXMucmVhZENoaWxkTm9kZXMoYSwKYyk7Yi5tYXRyaXhJZHMucHVzaChjKX0sU2NhbGVEZW5vbWluYXRvcjpmdW5jdGlvbihhLGIpe2Iuc2NhbGVEZW5vbWluYXRvcj1wYXJzZUZsb2F0KHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSl9LFRvcExlZnRDb3JuZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENoaWxkVmFsdWUoYSkuc3BsaXQoIiAiKSxkO2Iuc3VwcG9ydGVkQ1JTJiYoZD1iLnN1cHBvcnRlZENSUy5yZXBsYWNlKC91cm46b2djOmRlZjpjcnM6KFx3Kyk6Lis6KFx3KykkLywidXJuOm9nYzpkZWY6Y3JzOiQxOjokMiIpLGQ9ISF0aGlzLnl4W2RdKTtiLnRvcExlZnRDb3JuZXI9ZD9uZXcgT3BlbkxheWVycy5Mb25MYXQoY1sxXSxjWzBdKTpuZXcgT3BlbkxheWVycy5Mb25MYXQoY1swXSxjWzFdKX0sVGlsZVdpZHRoOmZ1bmN0aW9uKGEsYil7Yi50aWxlV2lkdGg9cGFyc2VJbnQodGhpcy5nZXRDaGlsZFZhbHVlKGEpKX0sVGlsZUhlaWdodDpmdW5jdGlvbihhLGIpe2IudGlsZUhlaWdodD1wYXJzZUludCh0aGlzLmdldENoaWxkVmFsdWUoYSkpfSwKTWF0cml4V2lkdGg6ZnVuY3Rpb24oYSxiKXtiLm1hdHJpeFdpZHRoPXBhcnNlSW50KHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSl9LE1hdHJpeEhlaWdodDpmdW5jdGlvbihhLGIpe2IubWF0cml4SGVpZ2h0PXBhcnNlSW50KHRoaXMuZ2V0Q2hpbGRWYWx1ZShhKSl9LFJlc291cmNlVVJMOmZ1bmN0aW9uKGEsYil7Yi5yZXNvdXJjZVVybD1iLnJlc291cmNlVXJsfHx7fTt2YXIgYz1hLmdldEF0dHJpYnV0ZSgicmVzb3VyY2VUeXBlIik7Yi5yZXNvdXJjZVVybHN8fChiLnJlc291cmNlVXJscz1bXSk7Yz1iLnJlc291cmNlVXJsW2NdPXtmb3JtYXQ6YS5nZXRBdHRyaWJ1dGUoImZvcm1hdCIpLHRlbXBsYXRlOmEuZ2V0QXR0cmlidXRlKCJ0ZW1wbGF0ZSIpLHJlc291cmNlVHlwZTpjfTtiLnJlc291cmNlVXJscy5wdXNoKGMpfSxXU0RMOmZ1bmN0aW9uKGEsYil7Yi53c2RsPXt9O2Iud3NkbC5ocmVmPWEuZ2V0QXR0cmlidXRlKCJ4bGluazpocmVmIil9LFNlcnZpY2VNZXRhZGF0YVVSTDpmdW5jdGlvbihhLApiKXtiLnNlcnZpY2VNZXRhZGF0YVVybD17fTtiLnNlcnZpY2VNZXRhZGF0YVVybC5ocmVmPWEuZ2V0QXR0cmlidXRlKCJ4bGluazpocmVmIil9LExlZ2VuZFVSTDpmdW5jdGlvbihhLGIpe2IubGVnZW5kPXt9O2IubGVnZW5kLmhyZWY9YS5nZXRBdHRyaWJ1dGUoInhsaW5rOmhyZWYiKTtiLmxlZ2VuZC5mb3JtYXQ9YS5nZXRBdHRyaWJ1dGUoImZvcm1hdCIpfSxEaW1lbnNpb246ZnVuY3Rpb24oYSxiKXt2YXIgYz17dmFsdWVzOltdfTt0aGlzLnJlYWRDaGlsZE5vZGVzKGEsYyk7Yi5kaW1lbnNpb25zLnB1c2goYyl9LERlZmF1bHQ6ZnVuY3Rpb24oYSxiKXtiWyJkZWZhdWx0Il09dGhpcy5nZXRDaGlsZFZhbHVlKGEpfSxWYWx1ZTpmdW5jdGlvbihhLGIpe2IudmFsdWVzLnB1c2godGhpcy5nZXRDaGlsZFZhbHVlKGEpKX19LG93czpPcGVuTGF5ZXJzLkZvcm1hdC5PV1NDb21tb24udjFfMV8wLnByb3RvdHlwZS5yZWFkZXJzLm93c30sQ0xBU1NfTkFNRToiT3BlbkxheWVycy5Gb3JtYXQuV01UU0NhcGFiaWxpdGllcy52MV8wXzAifSk7T3BlbkxheWVycy5UaWxlLkltYWdlLklGcmFtZT17dXNlSUZyYW1lOm51bGwsYmxhbmtJbWFnZVVybDoiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBQUFBQVAvLy95SDVCQUVBQUFBQUxBQUFBQUFCQUFFQVFBSUJSQUE3IixkcmF3OmZ1bmN0aW9uKCl7aWYoT3BlbkxheWVycy5UaWxlLkltYWdlLnByb3RvdHlwZS5zaG91bGREcmF3LmNhbGwodGhpcykpe3ZhciBhPXRoaXMubGF5ZXIuZ2V0VVJMKHRoaXMuYm91bmRzKSxiPXRoaXMudXNlSUZyYW1lO3RoaXMudXNlSUZyYW1lPW51bGwhPT10aGlzLm1heEdldFVybExlbmd0aCYmIXRoaXMubGF5ZXIuYXN5bmMmJmEubGVuZ3RoPnRoaXMubWF4R2V0VXJsTGVuZ3RoO2E9YiYmIXRoaXMudXNlSUZyYW1lO2I9IWImJnRoaXMudXNlSUZyYW1lO2lmKGF8fGIpdGhpcy5pbWdEaXYmJnRoaXMuaW1nRGl2LnBhcmVudE5vZGU9PT10aGlzLmZyYW1lJiZ0aGlzLmZyYW1lLnJlbW92ZUNoaWxkKHRoaXMuaW1nRGl2KSx0aGlzLmltZ0Rpdj0KbnVsbCxhJiZ0aGlzLmZyYW1lLnJlbW92ZUNoaWxkKHRoaXMuZnJhbWUuZmlyc3RDaGlsZCl9cmV0dXJuIE9wZW5MYXllcnMuVGlsZS5JbWFnZS5wcm90b3R5cGUuZHJhdy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGdldEltYWdlOmZ1bmN0aW9uKCl7aWYoITA9PT10aGlzLnVzZUlGcmFtZSl7aWYoIXRoaXMuZnJhbWUuY2hpbGROb2Rlcy5sZW5ndGgpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGI9YS5zdHlsZTtiLnBvc2l0aW9uPSJhYnNvbHV0ZSI7Yi53aWR0aD0iMTAwJSI7Yi5oZWlnaHQ9IjEwMCUiO2IuekluZGV4PTE7Yi5iYWNrZ3JvdW5kSW1hZ2U9InVybCgiK3RoaXMuYmxhbmtJbWFnZVVybCsiKSI7dGhpcy5mcmFtZS5hcHBlbmRDaGlsZChhKX1hPXRoaXMuaWQrIl9pRnJhbWUiOzk+cGFyc2VGbG9hdChuYXZpZ2F0b3IuYXBwVmVyc2lvbi5zcGxpdCgiTVNJRSIpWzFdKT8oYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCc8aWZyYW1lIG5hbWU9IicrYSsnIj4nKSwKYi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiNGRkZGRkYiLGIuc3R5bGUuZmlsdGVyPSJjaHJvbWEoY29sb3I9I0ZGRkZGRikiKTooYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKSxiLnN0eWxlLmJhY2tncm91bmRDb2xvcj0idHJhbnNwYXJlbnQiLGIubmFtZT1hKTtiLnNjcm9sbGluZz0ibm8iO2IubWFyZ2luV2lkdGg9IjBweCI7Yi5tYXJnaW5IZWlnaHQ9IjBweCI7Yi5mcmFtZUJvcmRlcj0iMCI7Yi5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2Iuc3R5bGUud2lkdGg9IjEwMCUiO2Iuc3R5bGUuaGVpZ2h0PSIxMDAlIjsxPnRoaXMubGF5ZXIub3BhY2l0eSYmT3BlbkxheWVycy5VdGlsLm1vZGlmeURPTUVsZW1lbnQoYixudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCx0aGlzLmxheWVyLm9wYWNpdHkpO3RoaXMuZnJhbWUuYXBwZW5kQ2hpbGQoYik7cmV0dXJuIHRoaXMuaW1nRGl2PWJ9cmV0dXJuIE9wZW5MYXllcnMuVGlsZS5JbWFnZS5wcm90b3R5cGUuZ2V0SW1hZ2UuYXBwbHkodGhpcywKYXJndW1lbnRzKX0sY3JlYXRlUmVxdWVzdEZvcm06ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJmb3JtIik7YS5tZXRob2Q9IlBPU1QiO3ZhciBiPXRoaXMubGF5ZXIucGFyYW1zLl9PTFNBTFQsYj0oYj9iKyJfIjoiIikrdGhpcy5ib3VuZHMudG9CQk9YKCk7YS5hY3Rpb249T3BlbkxheWVycy5VdGlsLnVybEFwcGVuZCh0aGlzLmxheWVyLnVybCxiKTthLnRhcmdldD10aGlzLmlkKyJfaUZyYW1lIjt0aGlzLmxheWVyLmdldEltYWdlU2l6ZSgpO3ZhciBiPU9wZW5MYXllcnMuVXRpbC5nZXRQYXJhbWV0ZXJzKHRoaXMudXJsKSxjLGQ7Zm9yKGQgaW4gYiljPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0IiksYy50eXBlPSJoaWRkZW4iLGMubmFtZT1kLGMudmFsdWU9YltkXSxhLmFwcGVuZENoaWxkKGMpO3JldHVybiBhfSxzZXRJbWdTcmM6ZnVuY3Rpb24oYSl7aWYoITA9PT10aGlzLnVzZUlGcmFtZSlpZihhKXt2YXIgYj10aGlzLmNyZWF0ZVJlcXVlc3RGb3JtKCk7CnRoaXMuZnJhbWUuYXBwZW5kQ2hpbGQoYik7Yi5zdWJtaXQoKTt0aGlzLmZyYW1lLnJlbW92ZUNoaWxkKGIpfWVsc2UgdGhpcy5pbWdEaXYucGFyZW50Tm9kZT09PXRoaXMuZnJhbWUmJih0aGlzLmZyYW1lLnJlbW92ZUNoaWxkKHRoaXMuaW1nRGl2KSx0aGlzLmltZ0Rpdj1udWxsKTtlbHNlIE9wZW5MYXllcnMuVGlsZS5JbWFnZS5wcm90b3R5cGUuc2V0SW1nU3JjLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sb25JbWFnZUxvYWQ6ZnVuY3Rpb24oKXtPcGVuTGF5ZXJzLlRpbGUuSW1hZ2UucHJvdG90eXBlLm9uSW1hZ2VMb2FkLmFwcGx5KHRoaXMsYXJndW1lbnRzKTshMD09PXRoaXMudXNlSUZyYW1lJiYodGhpcy5pbWdEaXYuc3R5bGUub3BhY2l0eT0xLHRoaXMuZnJhbWUuc3R5bGUub3BhY2l0eT10aGlzLmxheWVyLm9wYWNpdHkpfSxjcmVhdGVCYWNrQnVmZmVyOmZ1bmN0aW9uKCl7dmFyIGE7ITE9PT10aGlzLnVzZUlGcmFtZSYmKGE9T3BlbkxheWVycy5UaWxlLkltYWdlLnByb3RvdHlwZS5jcmVhdGVCYWNrQnVmZmVyLmNhbGwodGhpcykpOwpyZXR1cm4gYX19Owo=",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Thu, 06 Nov 2014 14:45:38 GMT",
                    "Content-Length": "944246",
                    "Date": "Thu, 06 Nov 2014 14:45:41 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
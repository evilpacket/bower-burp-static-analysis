{
    "url": "http://localhost:9999/prettymuchbryce/easystarjs/demo/static/js/tweenjs.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Link manipulation (DOM-based)",
    "issueType": 5246976,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based link manipulation vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this to a navigation target within the current page, such as a clickable link or the submission URL of a form. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will modify the target of links within the response. An attacker may be able to leverage this to perform various attacks, including:<ul><li>Causing the user to redirect to an arbitrary external URL, to facilitate a phishing attack.</li><li>Causing the user to submit sensitive form data to a server controlled by the attacker.</li><li>Causing the user to perform an unintended action within the application, by changing the file or query string associated with a link.</li><li>Bypassing browser anti-XSS defenses by injecting on-site links containing XSS exploits, since browser anti-XSS defenses typically do not operate on on-site links.</li></ul>",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based link manipulation vulnerabilities is not to dynamically set the target URLs of links or forms using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a link target. In general, this is best achieved by using a whitelist of URLs that are permitted link targets, and strictly validating the target against this list before setting the link target.",
    "issueDetail": "The application may be vulnerable to DOM-based link manipulation. Data is read from <b>location.href</b> and written to <b>the 'href' property of a DOM element</b> via the following statement:<ul><li>c.href=location.href;</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/prettymuchbryce/easystarjs/demo/static/js/tweenjs.min.js",
                "path": "/prettymuchbryce/easystarjs/demo/static/js/tweenjs.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9wcmV0dHltdWNoYnJ5Y2UvZWFzeXN0YXJqcy9kZW1vL3N0YXRpYy9qcy90d2VlbmpzLm1pbi5qcyBIVFRQLzEuMQ0KSG9zdDogbG9jYWxob3N0Ojk5OTkNCg0K",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTQ3NzIxDQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBUaHUsIDA2IE5vdiAyMDE0IDIyOjIyOjUwIEdNVA0KTGFzdC1Nb2RpZmllZDogVGh1LCAwNiBOb3YgMjAxNCAyMjoyMjo0OSBHTVQNCg0KLyohCiogQGxpY2Vuc2UgQ3JlYXRlSlMKKiBWaXNpdCBodHRwOi8vY3JlYXRlanMuY29tLyBmb3IgZG9jdW1lbnRhdGlvbiwgdXBkYXRlcyBhbmQgZXhhbXBsZXMuCioKKiBDb3B5cmlnaHQgKGMpIDIwMTEtMjAxMyBnc2tpbm5lci5jb20sIGluYy4KKgoqIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTUlUIGxpY2Vuc2UuCiogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5odG1sCioKKiBUaGlzIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KKi8KdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbihhLGIsYyl7dGhpcy5pbml0aWFsaXplKGEsYixjKX0sYj1hLnByb3RvdHlwZTtiLnR5cGU9bnVsbCxiLnRhcmdldD1udWxsLGIuY3VycmVudFRhcmdldD1udWxsLGIuZXZlbnRQaGFzZT0wLGIuYnViYmxlcz0hMSxiLmNhbmNlbGFibGU9ITEsYi50aW1lU3RhbXA9MCxiLmRlZmF1bHRQcmV2ZW50ZWQ9ITEsYi5wcm9wYWdhdGlvblN0b3BwZWQ9ITEsYi5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9ITEsYi5yZW1vdmVkPSExLGIuaW5pdGlhbGl6ZT1mdW5jdGlvbihhLGIsYyl7dGhpcy50eXBlPWEsdGhpcy5idWJibGVzPWIsdGhpcy5jYW5jZWxhYmxlPWMsdGhpcy50aW1lU3RhbXA9KG5ldyBEYXRlKS5nZXRUaW1lKCl9LGIucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITB9LGIuc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7dGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ9ITB9LGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7dGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9dGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ9ITB9LGIucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVkPSEwfSxiLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhKHRoaXMudHlwZSx0aGlzLmJ1YmJsZXMsdGhpcy5jYW5jZWxhYmxlKX0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbRXZlbnQgKHR5cGU9Iit0aGlzLnR5cGUrIildIn0sY3JlYXRlanMuRXZlbnQ9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKCl7fSxiPWEucHJvdG90eXBlO2EuaW5pdGlhbGl6ZT1mdW5jdGlvbihhKXthLmFkZEV2ZW50TGlzdGVuZXI9Yi5hZGRFdmVudExpc3RlbmVyLGEub249Yi5vbixhLnJlbW92ZUV2ZW50TGlzdGVuZXI9YS5vZmY9Yi5yZW1vdmVFdmVudExpc3RlbmVyLGEucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnM9Yi5yZW1vdmVBbGxFdmVudExpc3RlbmVycyxhLmhhc0V2ZW50TGlzdGVuZXI9Yi5oYXNFdmVudExpc3RlbmVyLGEuZGlzcGF0Y2hFdmVudD1iLmRpc3BhdGNoRXZlbnQsYS5fZGlzcGF0Y2hFdmVudD1iLl9kaXNwYXRjaEV2ZW50fSxiLl9saXN0ZW5lcnM9bnVsbCxiLl9jYXB0dXJlTGlzdGVuZXJzPW51bGwsYi5pbml0aWFsaXplPWZ1bmN0aW9uKCl7fSxiLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2Q9Yz90aGlzLl9jYXB0dXJlTGlzdGVuZXJzPXRoaXMuX2NhcHR1cmVMaXN0ZW5lcnN8fHt9OnRoaXMuX2xpc3RlbmVycz10aGlzLl9saXN0ZW5lcnN8fHt9O3ZhciBlPWRbYV07cmV0dXJuIGUmJnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGIsYyksZT1kW2FdLGU/ZS5wdXNoKGIpOmRbYV09W2JdLGJ9LGIub249ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3JldHVybiBiLmhhbmRsZUV2ZW50JiYoYz1jfHxiLGI9Yi5oYW5kbGVFdmVudCksYz1jfHx0aGlzLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihhLGZ1bmN0aW9uKGEpe2IuY2FsbChjLGEsZSksZCYmYS5yZW1vdmUoKX0sZil9LGIucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Yz90aGlzLl9jYXB0dXJlTGlzdGVuZXJzOnRoaXMuX2xpc3RlbmVycztpZihkKXt2YXIgZT1kW2FdO2lmKGUpZm9yKHZhciBmPTAsZz1lLmxlbmd0aDtnPmY7ZisrKWlmKGVbZl09PWIpezE9PWc/ZGVsZXRlIGRbYV06ZS5zcGxpY2UoZiwxKTticmVha319fSxiLm9mZj1iLnJlbW92ZUV2ZW50TGlzdGVuZXIsYi5yZW1vdmVBbGxFdmVudExpc3RlbmVycz1mdW5jdGlvbihhKXthPyh0aGlzLl9saXN0ZW5lcnMmJmRlbGV0ZSB0aGlzLl9saXN0ZW5lcnNbYV0sdGhpcy5fY2FwdHVyZUxpc3RlbmVycyYmZGVsZXRlIHRoaXMuX2NhcHR1cmVMaXN0ZW5lcnNbYV0pOnRoaXMuX2xpc3RlbmVycz10aGlzLl9jYXB0dXJlTGlzdGVuZXJzPW51bGx9LGIuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihhLGIpe2lmKCJzdHJpbmciPT10eXBlb2YgYSl7dmFyIGM9dGhpcy5fbGlzdGVuZXJzO2lmKCFjfHwhY1thXSlyZXR1cm4hMTthPW5ldyBjcmVhdGVqcy5FdmVudChhKX1pZihhLnRhcmdldD1ifHx0aGlzLGEuYnViYmxlcyYmdGhpcy5wYXJlbnQpe2Zvcih2YXIgZD10aGlzLGU9W2RdO2QucGFyZW50OyllLnB1c2goZD1kLnBhcmVudCk7dmFyIGYsZz1lLmxlbmd0aDtmb3IoZj1nLTE7Zj49MCYmIWEucHJvcGFnYXRpb25TdG9wcGVkO2YtLSllW2ZdLl9kaXNwYXRjaEV2ZW50KGEsMSsoMD09ZikpO2ZvcihmPTE7Zz5mJiYhYS5wcm9wYWdhdGlvblN0b3BwZWQ7ZisrKWVbZl0uX2Rpc3BhdGNoRXZlbnQoYSwzKX1lbHNlIHRoaXMuX2Rpc3BhdGNoRXZlbnQoYSwyKTtyZXR1cm4gYS5kZWZhdWx0UHJldmVudGVkfSxiLmhhc0V2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fbGlzdGVuZXJzLGM9dGhpcy5fY2FwdHVyZUxpc3RlbmVycztyZXR1cm4hIShiJiZiW2FdfHxjJiZjW2FdKX0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbRXZlbnREaXNwYXRjaGVyXSJ9LGIuX2Rpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTE9PWI/dGhpcy5fY2FwdHVyZUxpc3RlbmVyczp0aGlzLl9saXN0ZW5lcnM7aWYoYSYmZCl7dmFyIGU9ZFthLnR5cGVdO2lmKCFlfHwhKGM9ZS5sZW5ndGgpKXJldHVybjthLmN1cnJlbnRUYXJnZXQ9dGhpcyxhLmV2ZW50UGhhc2U9YixhLnJlbW92ZWQ9ITEsZT1lLnNsaWNlKCk7Zm9yKHZhciBmPTA7Yz5mJiYhYS5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ7ZisrKXt2YXIgZz1lW2ZdO2cuaGFuZGxlRXZlbnQ/Zy5oYW5kbGVFdmVudChhKTpnKGEpLGEucmVtb3ZlZCYmKHRoaXMub2ZmKGEudHlwZSxnLDE9PWIpLGEucmVtb3ZlZD0hMSl9fX0sY3JlYXRlanMuRXZlbnREaXNwYXRjaGVyPWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtjcmVhdGVqcy5pbmRleE9mPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWlmKGI9PT1hW2NdKXJldHVybiBjO3JldHVybi0xfX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKCl7dGhyb3ciVUlEIGNhbm5vdCBiZSBpbnN0YW50aWF0ZWQifTthLl9uZXh0SUQ9MCxhLmdldD1mdW5jdGlvbigpe3JldHVybiBhLl9uZXh0SUQrK30sY3JlYXRlanMuVUlEPWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbigpe3Rocm93IlRpY2tlciBjYW5ub3QgYmUgaW5zdGFudGlhdGVkLiJ9O2EuUkFGX1NZTkNIRUQ9InN5bmNoZWQiLGEuUkFGPSJyYWYiLGEuVElNRU9VVD0idGltZW91dCIsYS51c2VSQUY9ITEsYS50aW1pbmdNb2RlPW51bGwsYS5tYXhEZWx0YT0wLGEucmVtb3ZlRXZlbnRMaXN0ZW5lcj1udWxsLGEucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnM9bnVsbCxhLmRpc3BhdGNoRXZlbnQ9bnVsbCxhLmhhc0V2ZW50TGlzdGVuZXI9bnVsbCxhLl9saXN0ZW5lcnM9bnVsbCxjcmVhdGVqcy5FdmVudERpc3BhdGNoZXIuaW5pdGlhbGl6ZShhKSxhLl9hZGRFdmVudExpc3RlbmVyPWEuYWRkRXZlbnRMaXN0ZW5lcixhLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oKXshYS5faW5pdGVkJiZhLmluaXQoKSxhLl9hZGRFdmVudExpc3RlbmVyLmFwcGx5KGEsYXJndW1lbnRzKX0sYS5fcGF1c2VkPSExLGEuX2luaXRlZD0hMSxhLl9zdGFydFRpbWU9MCxhLl9wYXVzZWRUaW1lPTAsYS5fdGlja3M9MCxhLl9wYXVzZWRUaWNrcz0wLGEuX2ludGVydmFsPTUwLGEuX2xhc3RUaW1lPTAsYS5fdGltZXM9bnVsbCxhLl90aWNrVGltZXM9bnVsbCxhLl90aW1lcklkPW51bGwsYS5fcmFmPSEwLGEuaW5pdD1mdW5jdGlvbigpe2EuX2luaXRlZHx8KGEuX2luaXRlZD0hMCxhLl90aW1lcz1bXSxhLl90aWNrVGltZXM9W10sYS5fc3RhcnRUaW1lPWEuX2dldFRpbWUoKSxhLl90aW1lcy5wdXNoKGEuX2xhc3RUaW1lPTApLGEuc2V0SW50ZXJ2YWwoYS5faW50ZXJ2YWwpKX0sYS5yZXNldD1mdW5jdGlvbigpe2lmKGEuX3JhZil7dmFyIGI9d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93Lm9DYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93Lm1zQ2FuY2VsQW5pbWF0aW9uRnJhbWU7YiYmYihhLl90aW1lcklkKX1lbHNlIGNsZWFyVGltZW91dChhLl90aW1lcklkKTthLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzKCJ0aWNrIil9LGEuc2V0SW50ZXJ2YWw9ZnVuY3Rpb24oYil7YS5faW50ZXJ2YWw9YixhLl9pbml0ZWQmJmEuX3NldHVwVGljaygpfSxhLmdldEludGVydmFsPWZ1bmN0aW9uKCl7cmV0dXJuIGEuX2ludGVydmFsfSxhLnNldEZQUz1mdW5jdGlvbihiKXthLnNldEludGVydmFsKDFlMy9iKX0sYS5nZXRGUFM9ZnVuY3Rpb24oKXtyZXR1cm4gMWUzL2EuX2ludGVydmFsfSxhLmdldE1lYXN1cmVkVGlja1RpbWU9ZnVuY3Rpb24oYil7dmFyIGM9MCxkPWEuX3RpY2tUaW1lcztpZihkLmxlbmd0aDwxKXJldHVybi0xO2I9TWF0aC5taW4oZC5sZW5ndGgsYnx8MHxhLmdldEZQUygpKTtmb3IodmFyIGU9MDtiPmU7ZSsrKWMrPWRbZV07cmV0dXJuIGQvYn0sYS5nZXRNZWFzdXJlZEZQUz1mdW5jdGlvbihiKXt2YXIgYz1hLl90aW1lcztyZXR1cm4gYy5sZW5ndGg8Mj8tMTooYj1NYXRoLm1pbihjLmxlbmd0aC0xLGJ8fDB8YS5nZXRGUFMoKSksMWUzLygoY1swXS1jW2JdKS9iKSl9LGEuc2V0UGF1c2VkPWZ1bmN0aW9uKGIpe2EuX3BhdXNlZD1ifSxhLmdldFBhdXNlZD1mdW5jdGlvbigpe3JldHVybiBhLl9wYXVzZWR9LGEuZ2V0VGltZT1mdW5jdGlvbihiKXtyZXR1cm4gYS5fZ2V0VGltZSgpLWEuX3N0YXJ0VGltZS0oYj9hLl9wYXVzZWRUaW1lOjApfSxhLmdldEV2ZW50VGltZT1mdW5jdGlvbihiKXtyZXR1cm4oYS5fbGFzdFRpbWV8fGEuX3N0YXJ0VGltZSktKGI/YS5fcGF1c2VkVGltZTowKX0sYS5nZXRUaWNrcz1mdW5jdGlvbihiKXtyZXR1cm4gYS5fdGlja3MtKGI/YS5fcGF1c2VkVGlja3M6MCl9LGEuX2hhbmRsZVN5bmNoPWZ1bmN0aW9uKCl7dmFyIGI9YS5fZ2V0VGltZSgpLWEuX3N0YXJ0VGltZTthLl90aW1lcklkPW51bGwsYS5fc2V0dXBUaWNrKCksYi1hLl9sYXN0VGltZT49Ljk3KihhLl9pbnRlcnZhbC0xKSYmYS5fdGljaygpfSxhLl9oYW5kbGVSQUY9ZnVuY3Rpb24oKXthLl90aW1lcklkPW51bGwsYS5fc2V0dXBUaWNrKCksYS5fdGljaygpfSxhLl9oYW5kbGVUaW1lb3V0PWZ1bmN0aW9uKCl7YS5fdGltZXJJZD1udWxsLGEuX3NldHVwVGljaygpLGEuX3RpY2soKX0sYS5fc2V0dXBUaWNrPWZ1bmN0aW9uKCl7aWYobnVsbD09YS5fdGltZXJJZCl7dmFyIGI9YS50aW1pbmdNb2RlfHxhLnVzZVJBRiYmYS5SQUZfU1lOQ0hFRDtpZihiPT1hLlJBRl9TWU5DSEVEfHxiPT1hLlJBRil7dmFyIGM9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZTtpZihjKXJldHVybiBhLl90aW1lcklkPWMoYj09YS5SQUY/YS5faGFuZGxlUkFGOmEuX2hhbmRsZVN5bmNoKSxhLl9yYWY9ITAsdm9pZCAwfWEuX3JhZj0hMSxhLl90aW1lcklkPXNldFRpbWVvdXQoYS5faGFuZGxlVGltZW91dCxhLl9pbnRlcnZhbCl9fSxhLl90aWNrPWZ1bmN0aW9uKCl7dmFyIGI9YS5fZ2V0VGltZSgpLWEuX3N0YXJ0VGltZSxjPWItYS5fbGFzdFRpbWUsZD1hLl9wYXVzZWQ7aWYoYS5fdGlja3MrKyxkJiYoYS5fcGF1c2VkVGlja3MrKyxhLl9wYXVzZWRUaW1lKz1jKSxhLl9sYXN0VGltZT1iLGEuaGFzRXZlbnRMaXN0ZW5lcigidGljayIpKXt2YXIgZT1uZXcgY3JlYXRlanMuRXZlbnQoInRpY2siKSxmPWEubWF4RGVsdGE7ZS5kZWx0YT1mJiZjPmY/ZjpjLGUucGF1c2VkPWQsZS50aW1lPWIsZS5ydW5UaW1lPWItYS5fcGF1c2VkVGltZSxhLmRpc3BhdGNoRXZlbnQoZSl9Zm9yKGEuX3RpY2tUaW1lcy51bnNoaWZ0KGEuX2dldFRpbWUoKS1iKTthLl90aWNrVGltZXMubGVuZ3RoPjEwMDspYS5fdGlja1RpbWVzLnBvcCgpO2ZvcihhLl90aW1lcy51bnNoaWZ0KGIpO2EuX3RpbWVzLmxlbmd0aD4xMDA7KWEuX3RpbWVzLnBvcCgpfTt2YXIgYj13aW5kb3cucGVyZm9ybWFuY2UmJihwZXJmb3JtYW5jZS5ub3d8fHBlcmZvcm1hbmNlLm1vek5vd3x8cGVyZm9ybWFuY2UubXNOb3d8fHBlcmZvcm1hbmNlLm9Ob3d8fHBlcmZvcm1hbmNlLndlYmtpdE5vdyk7YS5fZ2V0VGltZT1mdW5jdGlvbigpe3JldHVybiBiJiZiLmNhbGwocGVyZm9ybWFuY2UpfHwobmV3IERhdGUpLmdldFRpbWUoKX0sY3JlYXRlanMuVGlja2VyPWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsaSxqKXt0aGlzLmluaXRpYWxpemUoYSxiLGMsZCxlLGYsZyxoLGksail9LGI9YS5wcm90b3R5cGU9bmV3IGNyZWF0ZWpzLkV2ZW50O2Iuc3RhZ2VYPTAsYi5zdGFnZVk9MCxiLnJhd1g9MCxiLnJhd1k9MCxiLm5hdGl2ZUV2ZW50PW51bGwsYi5wb2ludGVySUQ9MCxiLnByaW1hcnk9ITEsYi5hZGRFdmVudExpc3RlbmVyPW51bGwsYi5yZW1vdmVFdmVudExpc3RlbmVyPW51bGwsYi5yZW1vdmVBbGxFdmVudExpc3RlbmVycz1udWxsLGIuZGlzcGF0Y2hFdmVudD1udWxsLGIuaGFzRXZlbnRMaXN0ZW5lcj1udWxsLGIuX2xpc3RlbmVycz1udWxsLGNyZWF0ZWpzLkV2ZW50RGlzcGF0Y2hlci5pbml0aWFsaXplKGIpLGIuRXZlbnRfaW5pdGlhbGl6ZT1iLmluaXRpYWxpemUsYi5pbml0aWFsaXplPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCxpLGope3RoaXMuRXZlbnRfaW5pdGlhbGl6ZShhLGIsYyksdGhpcy5zdGFnZVg9ZCx0aGlzLnN0YWdlWT1lLHRoaXMubmF0aXZlRXZlbnQ9Zix0aGlzLnBvaW50ZXJJRD1nLHRoaXMucHJpbWFyeT1oLHRoaXMucmF3WD1udWxsPT1pP2Q6aSx0aGlzLnJhd1k9bnVsbD09aj9lOmp9LGIuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGEodGhpcy50eXBlLHRoaXMuYnViYmxlcyx0aGlzLmNhbmNlbGFibGUsdGhpcy5zdGFnZVgsdGhpcy5zdGFnZVksdGhpcy50YXJnZXQsdGhpcy5uYXRpdmVFdmVudCx0aGlzLnBvaW50ZXJJRCx0aGlzLnByaW1hcnksdGhpcy5yYXdYLHRoaXMucmF3WSl9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW01vdXNlRXZlbnQgKHR5cGU9Iit0aGlzLnR5cGUrIiBzdGFnZVg9Iit0aGlzLnN0YWdlWCsiIHN0YWdlWT0iK3RoaXMuc3RhZ2VZKyIpXSJ9LGNyZWF0ZWpzLk1vdXNlRXZlbnQ9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLmluaXRpYWxpemUoYSxiLGMsZCxlLGYpfSxiPWEucHJvdG90eXBlO2EuaWRlbnRpdHk9bnVsbCxhLkRFR19UT19SQUQ9TWF0aC5QSS8xODAsYi5hPTEsYi5iPTAsYi5jPTAsYi5kPTEsYi50eD0wLGIudHk9MCxiLmFscGhhPTEsYi5zaGFkb3c9bnVsbCxiLmNvbXBvc2l0ZU9wZXJhdGlvbj1udWxsLGIuaW5pdGlhbGl6ZT1mdW5jdGlvbihhLGIsYyxkLGUsZil7cmV0dXJuIHRoaXMuYT1udWxsPT1hPzE6YSx0aGlzLmI9Ynx8MCx0aGlzLmM9Y3x8MCx0aGlzLmQ9bnVsbD09ZD8xOmQsdGhpcy50eD1lfHwwLHRoaXMudHk9Znx8MCx0aGlzfSxiLnByZXBlbmQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPXRoaXMudHg7aWYoMSE9YXx8MCE9Ynx8MCE9Y3x8MSE9ZCl7dmFyIGg9dGhpcy5hLGk9dGhpcy5jO3RoaXMuYT1oKmErdGhpcy5iKmMsdGhpcy5iPWgqYit0aGlzLmIqZCx0aGlzLmM9aSphK3RoaXMuZCpjLHRoaXMuZD1pKmIrdGhpcy5kKmR9cmV0dXJuIHRoaXMudHg9ZyphK3RoaXMudHkqYytlLHRoaXMudHk9ZypiK3RoaXMudHkqZCtmLHRoaXN9LGIuYXBwZW5kPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz10aGlzLmEsaD10aGlzLmIsaT10aGlzLmMsaj10aGlzLmQ7cmV0dXJuIHRoaXMuYT1hKmcrYippLHRoaXMuYj1hKmgrYipqLHRoaXMuYz1jKmcrZCppLHRoaXMuZD1jKmgrZCpqLHRoaXMudHg9ZSpnK2YqaSt0aGlzLnR4LHRoaXMudHk9ZSpoK2Yqait0aGlzLnR5LHRoaXN9LGIucHJlcGVuZE1hdHJpeD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wcmVwZW5kKGEuYSxhLmIsYS5jLGEuZCxhLnR4LGEudHkpLHRoaXMucHJlcGVuZFByb3BlcnRpZXMoYS5hbHBoYSxhLnNoYWRvdyxhLmNvbXBvc2l0ZU9wZXJhdGlvbiksdGhpc30sYi5hcHBlbmRNYXRyaXg9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYXBwZW5kKGEuYSxhLmIsYS5jLGEuZCxhLnR4LGEudHkpLHRoaXMuYXBwZW5kUHJvcGVydGllcyhhLmFscGhhLGEuc2hhZG93LGEuY29tcG9zaXRlT3BlcmF0aW9uKSx0aGlzfSxiLnByZXBlbmRUcmFuc2Zvcm09ZnVuY3Rpb24oYixjLGQsZSxmLGcsaCxpLGope2lmKGYlMzYwKXZhciBrPWYqYS5ERUdfVE9fUkFELGw9TWF0aC5jb3MoayksbT1NYXRoLnNpbihrKTtlbHNlIGw9MSxtPTA7cmV0dXJuKGl8fGopJiYodGhpcy50eC09aSx0aGlzLnR5LT1qKSxnfHxoPyhnKj1hLkRFR19UT19SQUQsaCo9YS5ERUdfVE9fUkFELHRoaXMucHJlcGVuZChsKmQsbSpkLC1tKmUsbCplLDAsMCksdGhpcy5wcmVwZW5kKE1hdGguY29zKGgpLE1hdGguc2luKGgpLC1NYXRoLnNpbihnKSxNYXRoLmNvcyhnKSxiLGMpKTp0aGlzLnByZXBlbmQobCpkLG0qZCwtbSplLGwqZSxiLGMpLHRoaXN9LGIuYXBwZW5kVHJhbnNmb3JtPWZ1bmN0aW9uKGIsYyxkLGUsZixnLGgsaSxqKXtpZihmJTM2MCl2YXIgaz1mKmEuREVHX1RPX1JBRCxsPU1hdGguY29zKGspLG09TWF0aC5zaW4oayk7ZWxzZSBsPTEsbT0wO3JldHVybiBnfHxoPyhnKj1hLkRFR19UT19SQUQsaCo9YS5ERUdfVE9fUkFELHRoaXMuYXBwZW5kKE1hdGguY29zKGgpLE1hdGguc2luKGgpLC1NYXRoLnNpbihnKSxNYXRoLmNvcyhnKSxiLGMpLHRoaXMuYXBwZW5kKGwqZCxtKmQsLW0qZSxsKmUsMCwwKSk6dGhpcy5hcHBlbmQobCpkLG0qZCwtbSplLGwqZSxiLGMpLChpfHxqKSYmKHRoaXMudHgtPWkqdGhpcy5hK2oqdGhpcy5jLHRoaXMudHktPWkqdGhpcy5iK2oqdGhpcy5kKSx0aGlzfSxiLnJvdGF0ZT1mdW5jdGlvbihhKXt2YXIgYj1NYXRoLmNvcyhhKSxjPU1hdGguc2luKGEpLGQ9dGhpcy5hLGU9dGhpcy5jLGY9dGhpcy50eDtyZXR1cm4gdGhpcy5hPWQqYi10aGlzLmIqYyx0aGlzLmI9ZCpjK3RoaXMuYipiLHRoaXMuYz1lKmItdGhpcy5kKmMsdGhpcy5kPWUqYyt0aGlzLmQqYix0aGlzLnR4PWYqYi10aGlzLnR5KmMsdGhpcy50eT1mKmMrdGhpcy50eSpiLHRoaXN9LGIuc2tldz1mdW5jdGlvbihiLGMpe3JldHVybiBiKj1hLkRFR19UT19SQUQsYyo9YS5ERUdfVE9fUkFELHRoaXMuYXBwZW5kKE1hdGguY29zKGMpLE1hdGguc2luKGMpLC1NYXRoLnNpbihiKSxNYXRoLmNvcyhiKSwwLDApLHRoaXN9LGIuc2NhbGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5hKj1hLHRoaXMuZCo9Yix0aGlzLmMqPWEsdGhpcy5iKj1iLHRoaXMudHgqPWEsdGhpcy50eSo9Yix0aGlzfSxiLnRyYW5zbGF0ZT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnR4Kz1hLHRoaXMudHkrPWIsdGhpc30sYi5pZGVudGl0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFscGhhPXRoaXMuYT10aGlzLmQ9MSx0aGlzLmI9dGhpcy5jPXRoaXMudHg9dGhpcy50eT0wLHRoaXMuc2hhZG93PXRoaXMuY29tcG9zaXRlT3BlcmF0aW9uPW51bGwsdGhpc30sYi5pbnZlcnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmEsYj10aGlzLmIsYz10aGlzLmMsZD10aGlzLmQsZT10aGlzLnR4LGY9YSpkLWIqYztyZXR1cm4gdGhpcy5hPWQvZix0aGlzLmI9LWIvZix0aGlzLmM9LWMvZix0aGlzLmQ9YS9mLHRoaXMudHg9KGMqdGhpcy50eS1kKmUpL2YsdGhpcy50eT0tKGEqdGhpcy50eS1iKmUpL2YsdGhpc30sYi5pc0lkZW50aXR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PXRoaXMudHgmJjA9PXRoaXMudHkmJjE9PXRoaXMuYSYmMD09dGhpcy5iJiYwPT10aGlzLmMmJjE9PXRoaXMuZH0sYi50cmFuc2Zvcm1Qb2ludD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM9Y3x8e30sYy54PWEqdGhpcy5hK2IqdGhpcy5jK3RoaXMudHgsYy55PWEqdGhpcy5iK2IqdGhpcy5kK3RoaXMudHksY30sYi5kZWNvbXBvc2U9ZnVuY3Rpb24oYil7bnVsbD09YiYmKGI9e30pLGIueD10aGlzLnR4LGIueT10aGlzLnR5LGIuc2NhbGVYPU1hdGguc3FydCh0aGlzLmEqdGhpcy5hK3RoaXMuYip0aGlzLmIpLGIuc2NhbGVZPU1hdGguc3FydCh0aGlzLmMqdGhpcy5jK3RoaXMuZCp0aGlzLmQpO3ZhciBjPU1hdGguYXRhbjIoLXRoaXMuYyx0aGlzLmQpLGQ9TWF0aC5hdGFuMih0aGlzLmIsdGhpcy5hKTtyZXR1cm4gYz09ZD8oYi5yb3RhdGlvbj1kL2EuREVHX1RPX1JBRCx0aGlzLmE8MCYmdGhpcy5kPj0wJiYoYi5yb3RhdGlvbis9Yi5yb3RhdGlvbjw9MD8xODA6LTE4MCksYi5za2V3WD1iLnNrZXdZPTApOihiLnNrZXdYPWMvYS5ERUdfVE9fUkFELGIuc2tld1k9ZC9hLkRFR19UT19SQUQpLGJ9LGIucmVpbml0aWFsaXplPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCxpKXtyZXR1cm4gdGhpcy5pbml0aWFsaXplKGEsYixjLGQsZSxmKSx0aGlzLmFscGhhPW51bGw9PWc/MTpnLHRoaXMuc2hhZG93PWgsdGhpcy5jb21wb3NpdGVPcGVyYXRpb249aSx0aGlzfSxiLmNvcHk9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucmVpbml0aWFsaXplKGEuYSxhLmIsYS5jLGEuZCxhLnR4LGEudHksYS5hbHBoYSxhLnNoYWRvdyxhLmNvbXBvc2l0ZU9wZXJhdGlvbil9LGIuYXBwZW5kUHJvcGVydGllcz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYWxwaGEqPWEsdGhpcy5zaGFkb3c9Ynx8dGhpcy5zaGFkb3csdGhpcy5jb21wb3NpdGVPcGVyYXRpb249Y3x8dGhpcy5jb21wb3NpdGVPcGVyYXRpb24sdGhpc30sYi5wcmVwZW5kUHJvcGVydGllcz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYWxwaGEqPWEsdGhpcy5zaGFkb3c9dGhpcy5zaGFkb3d8fGIsdGhpcy5jb21wb3NpdGVPcGVyYXRpb249dGhpcy5jb21wb3NpdGVPcGVyYXRpb258fGMsdGhpc30sYi5jbG9uZT1mdW5jdGlvbigpe3JldHVybihuZXcgYSkuY29weSh0aGlzKX0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbTWF0cml4MkQgKGE9Iit0aGlzLmErIiBiPSIrdGhpcy5iKyIgYz0iK3RoaXMuYysiIGQ9Iit0aGlzLmQrIiB0eD0iK3RoaXMudHgrIiB0eT0iK3RoaXMudHkrIildIn0sYS5pZGVudGl0eT1uZXcgYSxjcmVhdGVqcy5NYXRyaXgyRD1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9ZnVuY3Rpb24oYSxiKXt0aGlzLmluaXRpYWxpemUoYSxiKX0sYj1hLnByb3RvdHlwZTtiLng9MCxiLnk9MCxiLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy54PW51bGw9PWE/MDphLHRoaXMueT1udWxsPT1iPzA6Yix0aGlzfSxiLmNvcHk9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaW5pdGlhbGl6ZShhLngsYS55KX0sYi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgYSh0aGlzLngsdGhpcy55KX0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbUG9pbnQgKHg9Iit0aGlzLngrIiB5PSIrdGhpcy55KyIpXSJ9LGNyZWF0ZWpzLlBvaW50PWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLmluaXRpYWxpemUoYSxiLGMsZCl9LGI9YS5wcm90b3R5cGU7Yi54PTAsYi55PTAsYi53aWR0aD0wLGIuaGVpZ2h0PTAsYi5pbml0aWFsaXplPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLng9YXx8MCx0aGlzLnk9Ynx8MCx0aGlzLndpZHRoPWN8fDAsdGhpcy5oZWlnaHQ9ZHx8MCx0aGlzfSxiLmNvcHk9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaW5pdGlhbGl6ZShhLngsYS55LGEud2lkdGgsYS5oZWlnaHQpfSxiLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhKHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCl9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW1JlY3RhbmdsZSAoeD0iK3RoaXMueCsiIHk9Iit0aGlzLnkrIiB3aWR0aD0iK3RoaXMud2lkdGgrIiBoZWlnaHQ9Iit0aGlzLmhlaWdodCsiKV0ifSxjcmVhdGVqcy5SZWN0YW5nbGU9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3RoaXMuaW5pdGlhbGl6ZShhLGIsYyxkLGUsZixnKX0sYj1hLnByb3RvdHlwZTtiLnRhcmdldD1udWxsLGIub3ZlckxhYmVsPW51bGwsYi5vdXRMYWJlbD1udWxsLGIuZG93bkxhYmVsPW51bGwsYi5wbGF5PSExLGIuX2lzUHJlc3NlZD0hMSxiLl9pc092ZXI9ITEsYi5pbml0aWFsaXplPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe2EuYWRkRXZlbnRMaXN0ZW5lciYmKHRoaXMudGFyZ2V0PWEsYS5jdXJzb3I9InBvaW50ZXIiLHRoaXMub3ZlckxhYmVsPW51bGw9PWM/Im92ZXIiOmMsdGhpcy5vdXRMYWJlbD1udWxsPT1iPyJvdXQiOmIsdGhpcy5kb3duTGFiZWw9bnVsbD09ZD8iZG93biI6ZCx0aGlzLnBsYXk9ZSx0aGlzLnNldEVuYWJsZWQoITApLHRoaXMuaGFuZGxlRXZlbnQoe30pLGYmJihnJiYoZi5hY3Rpb25zRW5hYmxlZD0hMSxmLmdvdG9BbmRTdG9wJiZmLmdvdG9BbmRTdG9wKGcpKSxhLmhpdEFyZWE9ZikpfSxiLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy50YXJnZXQ7YT8oYi5hZGRFdmVudExpc3RlbmVyKCJyb2xsb3ZlciIsdGhpcyksYi5hZGRFdmVudExpc3RlbmVyKCJyb2xsb3V0Iix0aGlzKSxiLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsdGhpcyksYi5hZGRFdmVudExpc3RlbmVyKCJwcmVzc3VwIix0aGlzKSk6KGIucmVtb3ZlRXZlbnRMaXN0ZW5lcigicm9sbG92ZXIiLHRoaXMpLGIucmVtb3ZlRXZlbnRMaXN0ZW5lcigicm9sbG91dCIsdGhpcyksYi5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLHRoaXMpLGIucmVtb3ZlRXZlbnRMaXN0ZW5lcigicHJlc3N1cCIsdGhpcykpfSxiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltCdXR0b25IZWxwZXJdIn0sYi5oYW5kbGVFdmVudD1mdW5jdGlvbihhKXt2YXIgYixjPXRoaXMudGFyZ2V0LGQ9YS50eXBlOyJtb3VzZWRvd24iPT1kPyh0aGlzLl9pc1ByZXNzZWQ9ITAsYj10aGlzLmRvd25MYWJlbCk6InByZXNzdXAiPT1kPyh0aGlzLl9pc1ByZXNzZWQ9ITEsYj10aGlzLl9pc092ZXI/dGhpcy5vdmVyTGFiZWw6dGhpcy5vdXRMYWJlbCk6InJvbGxvdmVyIj09ZD8odGhpcy5faXNPdmVyPSEwLGI9dGhpcy5faXNQcmVzc2VkP3RoaXMuZG93bkxhYmVsOnRoaXMub3ZlckxhYmVsKToodGhpcy5faXNPdmVyPSExLGI9dGhpcy5faXNQcmVzc2VkP3RoaXMub3ZlckxhYmVsOnRoaXMub3V0TGFiZWwpLHRoaXMucGxheT9jLmdvdG9BbmRQbGF5JiZjLmdvdG9BbmRQbGF5KGIpOmMuZ290b0FuZFN0b3AmJmMuZ290b0FuZFN0b3AoYil9LGNyZWF0ZWpzLkJ1dHRvbkhlbHBlcj1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5pbml0aWFsaXplKGEsYixjLGQpfSxiPWEucHJvdG90eXBlO2EuaWRlbnRpdHk9bnVsbCxiLmNvbG9yPW51bGwsYi5vZmZzZXRYPTAsYi5vZmZzZXRZPTAsYi5ibHVyPTAsYi5pbml0aWFsaXplPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuY29sb3I9YSx0aGlzLm9mZnNldFg9Yix0aGlzLm9mZnNldFk9Yyx0aGlzLmJsdXI9ZH0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbU2hhZG93XSJ9LGIuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGEodGhpcy5jb2xvcix0aGlzLm9mZnNldFgsdGhpcy5vZmZzZXRZLHRoaXMuYmx1cil9LGEuaWRlbnRpdHk9bmV3IGEoInRyYW5zcGFyZW50IiwwLDAsMCksY3JlYXRlanMuU2hhZG93PWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbihhKXt0aGlzLmluaXRpYWxpemUoYSl9LGI9YS5wcm90b3R5cGU9bmV3IGNyZWF0ZWpzLkV2ZW50RGlzcGF0Y2hlcjtiLmNvbXBsZXRlPSEwLGIuZnJhbWVyYXRlPTAsYi5fYW5pbWF0aW9ucz1udWxsLGIuX2ZyYW1lcz1udWxsLGIuX2ltYWdlcz1udWxsLGIuX2RhdGE9bnVsbCxiLl9sb2FkQ291bnQ9MCxiLl9mcmFtZUhlaWdodD0wLGIuX2ZyYW1lV2lkdGg9MCxiLl9udW1GcmFtZXM9MCxiLl9yZWdYPTAsYi5fcmVnWT0wLGIuaW5pdGlhbGl6ZT1mdW5jdGlvbihhKXt2YXIgYixjLGQsZTtpZihudWxsIT1hKXtpZih0aGlzLmZyYW1lcmF0ZT1hLmZyYW1lcmF0ZXx8MCxhLmltYWdlcyYmKGM9YS5pbWFnZXMubGVuZ3RoKT4wKWZvcihlPXRoaXMuX2ltYWdlcz1bXSxiPTA7Yz5iO2IrKyl7dmFyIGY9YS5pbWFnZXNbYl07aWYoInN0cmluZyI9PXR5cGVvZiBmKXt2YXIgZz1mO2Y9bmV3IEltYWdlLGYuc3JjPWd9ZS5wdXNoKGYpLGYuZ2V0Q29udGV4dHx8Zi5jb21wbGV0ZXx8KHRoaXMuX2xvYWRDb3VudCsrLHRoaXMuY29tcGxldGU9ITEsZnVuY3Rpb24oYSl7Zi5vbmxvYWQ9ZnVuY3Rpb24oKXthLl9oYW5kbGVJbWFnZUxvYWQoKX19KHRoaXMpKX1pZihudWxsPT1hLmZyYW1lcyk7ZWxzZSBpZihhLmZyYW1lcyBpbnN0YW5jZW9mIEFycmF5KWZvcih0aGlzLl9mcmFtZXM9W10sZT1hLmZyYW1lcyxiPTAsYz1lLmxlbmd0aDtjPmI7YisrKXt2YXIgaD1lW2JdO3RoaXMuX2ZyYW1lcy5wdXNoKHtpbWFnZTp0aGlzLl9pbWFnZXNbaFs0XT9oWzRdOjBdLHJlY3Q6bmV3IGNyZWF0ZWpzLlJlY3RhbmdsZShoWzBdLGhbMV0saFsyXSxoWzNdKSxyZWdYOmhbNV18fDAscmVnWTpoWzZdfHwwfSl9ZWxzZSBkPWEuZnJhbWVzLHRoaXMuX2ZyYW1lV2lkdGg9ZC53aWR0aCx0aGlzLl9mcmFtZUhlaWdodD1kLmhlaWdodCx0aGlzLl9yZWdYPWQucmVnWHx8MCx0aGlzLl9yZWdZPWQucmVnWXx8MCx0aGlzLl9udW1GcmFtZXM9ZC5jb3VudCwwPT10aGlzLl9sb2FkQ291bnQmJnRoaXMuX2NhbGN1bGF0ZUZyYW1lcygpO2lmKHRoaXMuX2FuaW1hdGlvbnM9W10sbnVsbCE9KGQ9YS5hbmltYXRpb25zKSl7dGhpcy5fZGF0YT17fTt2YXIgaTtmb3IoaSBpbiBkKXt2YXIgaj17bmFtZTppfSxrPWRbaV07aWYoIm51bWJlciI9PXR5cGVvZiBrKWU9ai5mcmFtZXM9W2tdO2Vsc2UgaWYoayBpbnN0YW5jZW9mIEFycmF5KWlmKDE9PWsubGVuZ3RoKWouZnJhbWVzPVtrWzBdXTtlbHNlIGZvcihqLnNwZWVkPWtbM10sai5uZXh0PWtbMl0sZT1qLmZyYW1lcz1bXSxiPWtbMF07Yjw9a1sxXTtiKyspZS5wdXNoKGIpO2Vsc2V7ai5zcGVlZD1rLnNwZWVkLGoubmV4dD1rLm5leHQ7dmFyIGw9ay5mcmFtZXM7ZT1qLmZyYW1lcz0ibnVtYmVyIj09dHlwZW9mIGw/W2xdOmwuc2xpY2UoMCl9KGoubmV4dD09PSEwfHx2b2lkIDA9PT1qLm5leHQpJiYoai5uZXh0PWkpLChqLm5leHQ9PT0hMXx8ZS5sZW5ndGg8MiYmai5uZXh0PT1pKSYmKGoubmV4dD1udWxsKSxqLnNwZWVkfHwoai5zcGVlZD0xKSx0aGlzLl9hbmltYXRpb25zLnB1c2goaSksdGhpcy5fZGF0YVtpXT1qfX19fSxiLmdldE51bUZyYW1lcz1mdW5jdGlvbihhKXtpZihudWxsPT1hKXJldHVybiB0aGlzLl9mcmFtZXM/dGhpcy5fZnJhbWVzLmxlbmd0aDp0aGlzLl9udW1GcmFtZXM7dmFyIGI9dGhpcy5fZGF0YVthXTtyZXR1cm4gbnVsbD09Yj8wOmIuZnJhbWVzLmxlbmd0aH0sYi5nZXRBbmltYXRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FuaW1hdGlvbnMuc2xpY2UoMCl9LGIuZ2V0QW5pbWF0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9kYXRhW2FdfSxiLmdldEZyYW1lPWZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiB0aGlzLl9mcmFtZXMmJihiPXRoaXMuX2ZyYW1lc1thXSk/YjpudWxsfSxiLmdldEZyYW1lQm91bmRzPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRGcmFtZShhKTtyZXR1cm4gYz8oYnx8bmV3IGNyZWF0ZWpzLlJlY3RhbmdsZSkuaW5pdGlhbGl6ZSgtYy5yZWdYLC1jLnJlZ1ksYy5yZWN0LndpZHRoLGMucmVjdC5oZWlnaHQpOm51bGx9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW1Nwcml0ZVNoZWV0XSJ9LGIuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYj1uZXcgYTtyZXR1cm4gYi5jb21wbGV0ZT10aGlzLmNvbXBsZXRlLGIuX2FuaW1hdGlvbnM9dGhpcy5fYW5pbWF0aW9ucyxiLl9mcmFtZXM9dGhpcy5fZnJhbWVzLGIuX2ltYWdlcz10aGlzLl9pbWFnZXMsYi5fZGF0YT10aGlzLl9kYXRhLGIuX2ZyYW1lSGVpZ2h0PXRoaXMuX2ZyYW1lSGVpZ2h0LGIuX2ZyYW1lV2lkdGg9dGhpcy5fZnJhbWVXaWR0aCxiLl9udW1GcmFtZXM9dGhpcy5fbnVtRnJhbWVzLGIuX2xvYWRDb3VudD10aGlzLl9sb2FkQ291bnQsYn0sYi5faGFuZGxlSW1hZ2VMb2FkPWZ1bmN0aW9uKCl7MD09LS10aGlzLl9sb2FkQ291bnQmJih0aGlzLl9jYWxjdWxhdGVGcmFtZXMoKSx0aGlzLmNvbXBsZXRlPSEwLHRoaXMuZGlzcGF0Y2hFdmVudCgiY29tcGxldGUiKSl9LGIuX2NhbGN1bGF0ZUZyYW1lcz1mdW5jdGlvbigpe2lmKCF0aGlzLl9mcmFtZXMmJjAhPXRoaXMuX2ZyYW1lV2lkdGgpe3RoaXMuX2ZyYW1lcz1bXTtmb3IodmFyIGE9MCxiPXRoaXMuX2ZyYW1lV2lkdGgsYz10aGlzLl9mcmFtZUhlaWdodCxkPTAsZT10aGlzLl9pbWFnZXM7ZDxlLmxlbmd0aDtkKyspe2Zvcih2YXIgZj1lW2RdLGc9MHwoZi53aWR0aCsxKS9iLGg9MHwoZi5oZWlnaHQrMSkvYyxpPXRoaXMuX251bUZyYW1lcz4wP01hdGgubWluKHRoaXMuX251bUZyYW1lcy1hLGcqaCk6ZypoLGo9MDtpPmo7aisrKXRoaXMuX2ZyYW1lcy5wdXNoKHtpbWFnZTpmLHJlY3Q6bmV3IGNyZWF0ZWpzLlJlY3RhbmdsZShqJWcqYiwoMHxqL2cpKmMsYixjKSxyZWdYOnRoaXMuX3JlZ1gscmVnWTp0aGlzLl9yZWdZfSk7YSs9aX10aGlzLl9udW1GcmFtZXM9YX19LGNyZWF0ZWpzLlNwcml0ZVNoZWV0PWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBhKGEsYixjKXt0aGlzLmY9YSx0aGlzLnBhcmFtcz1iLHRoaXMucGF0aD1udWxsPT1jPyEwOmN9YS5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbihhKXt0aGlzLmYuYXBwbHkoYSx0aGlzLnBhcmFtcyl9O3ZhciBiPWZ1bmN0aW9uKCl7dGhpcy5pbml0aWFsaXplKCl9LGM9Yi5wcm90b3R5cGU7Yi5nZXRSR0I9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIG51bGwhPWEmJm51bGw9PWMmJihkPWIsYz0yNTUmYSxiPTI1NSZhPj44LGE9MjU1JmE+PjE2KSxudWxsPT1kPyJyZ2IoIithKyIsIitiKyIsIitjKyIpIjoicmdiYSgiK2ErIiwiK2IrIiwiK2MrIiwiK2QrIikifSxiLmdldEhTTD1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gbnVsbD09ZD8iaHNsKCIrYSUzNjArIiwiK2IrIiUsIitjKyIlKSI6ImhzbGEoIithJTM2MCsiLCIrYisiJSwiK2MrIiUsIitkKyIpIn0sYi5Db21tYW5kPWEsYi5CQVNFXzY0PXtBOjAsQjoxLEM6MixEOjMsRTo0LEY6NSxHOjYsSDo3LEk6OCxKOjksSzoxMCxMOjExLE06MTIsTjoxMyxPOjE0LFA6MTUsUToxNixSOjE3LFM6MTgsVDoxOSxVOjIwLFY6MjEsVzoyMixYOjIzLFk6MjQsWjoyNSxhOjI2LGI6MjcsYzoyOCxkOjI5LGU6MzAsZjozMSxnOjMyLGg6MzMsaTozNCxqOjM1LGs6MzYsbDozNyxtOjM4LG46Mzksbzo0MCxwOjQxLHE6NDIscjo0MyxzOjQ0LHQ6NDUsdTo0Nix2OjQ3LHc6NDgseDo0OSx5OjUwLHo6NTEsMDo1MiwxOjUzLDI6NTQsMzo1NSw0OjU2LDU6NTcsNjo1OCw3OjU5LDg6NjAsOTo2MSwiKyI6NjIsIi8iOjYzfSxiLlNUUk9LRV9DQVBTX01BUD1bImJ1dHQiLCJyb3VuZCIsInNxdWFyZSJdLGIuU1RST0tFX0pPSU5UU19NQVA9WyJtaXRlciIsInJvdW5kIiwiYmV2ZWwiXTt2YXIgZD1jcmVhdGVqcy5jcmVhdGVDYW52YXM/Y3JlYXRlanMuY3JlYXRlQ2FudmFzKCk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7aWYoZC5nZXRDb250ZXh0KXt2YXIgZT1iLl9jdHg9ZC5nZXRDb250ZXh0KCIyZCIpO2IuYmVnaW5DbWQ9bmV3IGEoZS5iZWdpblBhdGgsW10sITEpLGIuZmlsbENtZD1uZXcgYShlLmZpbGwsW10sITEpLGIuc3Ryb2tlQ21kPW5ldyBhKGUuc3Ryb2tlLFtdLCExKSxkLndpZHRoPWQuaGVpZ2h0PTF9Yy5fc3Ryb2tlSW5zdHJ1Y3Rpb25zPW51bGwsYy5fc3Ryb2tlU3R5bGVJbnN0cnVjdGlvbnM9bnVsbCxjLl9zdHJva2VJZ25vcmVTY2FsZT0hMSxjLl9maWxsSW5zdHJ1Y3Rpb25zPW51bGwsYy5fZmlsbE1hdHJpeD1udWxsLGMuX2luc3RydWN0aW9ucz1udWxsLGMuX29sZEluc3RydWN0aW9ucz1udWxsLGMuX2FjdGl2ZUluc3RydWN0aW9ucz1udWxsLGMuX2FjdGl2ZT0hMSxjLl9kaXJ0eT0hMSxjLmluaXRpYWxpemU9ZnVuY3Rpb24oKXt0aGlzLmNsZWFyKCksdGhpcy5fY3R4PWIuX2N0eH0sYy5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuISh0aGlzLl9pbnN0cnVjdGlvbnMubGVuZ3RofHx0aGlzLl9vbGRJbnN0cnVjdGlvbnMubGVuZ3RofHx0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnMubGVuZ3RoKX0sYy5kcmF3PWZ1bmN0aW9uKGEpe3RoaXMuX2RpcnR5JiZ0aGlzLl91cGRhdGVJbnN0cnVjdGlvbnMoKTtmb3IodmFyIGI9dGhpcy5faW5zdHJ1Y3Rpb25zLGM9MCxkPWIubGVuZ3RoO2Q+YztjKyspYltjXS5leGVjKGEpfSxjLmRyYXdBc1BhdGg9ZnVuY3Rpb24oYSl7dGhpcy5fZGlydHkmJnRoaXMuX3VwZGF0ZUluc3RydWN0aW9ucygpO2Zvcih2YXIgYixjPXRoaXMuX2luc3RydWN0aW9ucyxkPTAsZT1jLmxlbmd0aDtlPmQ7ZCsrKSgoYj1jW2RdKS5wYXRofHwwPT1kKSYmYi5leGVjKGEpfSxjLm1vdmVUbz1mdW5jdGlvbihiLGMpe3JldHVybiB0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnMucHVzaChuZXcgYSh0aGlzLl9jdHgubW92ZVRvLFtiLGNdKSksdGhpc30sYy5saW5lVG89ZnVuY3Rpb24oYixjKXtyZXR1cm4gdGhpcy5fZGlydHk9dGhpcy5fYWN0aXZlPSEwLHRoaXMuX2FjdGl2ZUluc3RydWN0aW9ucy5wdXNoKG5ldyBhKHRoaXMuX2N0eC5saW5lVG8sW2IsY10pKSx0aGlzfSxjLmFyY1RvPWZ1bmN0aW9uKGIsYyxkLGUsZil7cmV0dXJuIHRoaXMuX2RpcnR5PXRoaXMuX2FjdGl2ZT0hMCx0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnMucHVzaChuZXcgYSh0aGlzLl9jdHguYXJjVG8sW2IsYyxkLGUsZl0pKSx0aGlzfSxjLmFyYz1mdW5jdGlvbihiLGMsZCxlLGYsZyl7cmV0dXJuIHRoaXMuX2RpcnR5PXRoaXMuX2FjdGl2ZT0hMCxudWxsPT1nJiYoZz0hMSksdGhpcy5fYWN0aXZlSW5zdHJ1Y3Rpb25zLnB1c2gobmV3IGEodGhpcy5fY3R4LmFyYyxbYixjLGQsZSxmLGddKSksdGhpc30sYy5xdWFkcmF0aWNDdXJ2ZVRvPWZ1bmN0aW9uKGIsYyxkLGUpe3JldHVybiB0aGlzLl9kaXJ0eT10aGlzLl9hY3RpdmU9ITAsdGhpcy5fYWN0aXZlSW5zdHJ1Y3Rpb25zLnB1c2gobmV3IGEodGhpcy5fY3R4LnF1YWRyYXRpY0N1cnZlVG8sW2IsYyxkLGVdKSksdGhpc30sYy5iZXppZXJDdXJ2ZVRvPWZ1bmN0aW9uKGIsYyxkLGUsZixnKXtyZXR1cm4gdGhpcy5fZGlydHk9dGhpcy5fYWN0aXZlPSEwLHRoaXMuX2FjdGl2ZUluc3RydWN0aW9ucy5wdXNoKG5ldyBhKHRoaXMuX2N0eC5iZXppZXJDdXJ2ZVRvLFtiLGMsZCxlLGYsZ10pKSx0aGlzfSxjLnJlY3Q9ZnVuY3Rpb24oYixjLGQsZSl7cmV0dXJuIHRoaXMuX2RpcnR5PXRoaXMuX2FjdGl2ZT0hMCx0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnMucHVzaChuZXcgYSh0aGlzLl9jdHgucmVjdCxbYixjLGQsZV0pKSx0aGlzfSxjLmNsb3NlUGF0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RpdmUmJih0aGlzLl9kaXJ0eT0hMCx0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnMucHVzaChuZXcgYSh0aGlzLl9jdHguY2xvc2VQYXRoLFtdKSkpLHRoaXN9LGMuY2xlYXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5zdHJ1Y3Rpb25zPVtdLHRoaXMuX29sZEluc3RydWN0aW9ucz1bXSx0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnM9W10sdGhpcy5fc3Ryb2tlU3R5bGVJbnN0cnVjdGlvbnM9dGhpcy5fc3Ryb2tlSW5zdHJ1Y3Rpb25zPXRoaXMuX2ZpbGxJbnN0cnVjdGlvbnM9dGhpcy5fZmlsbE1hdHJpeD1udWxsLHRoaXMuX2FjdGl2ZT10aGlzLl9kaXJ0eT10aGlzLl9zdHJva2VJZ25vcmVTY2FsZT0hMSx0aGlzfSxjLmJlZ2luRmlsbD1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5fYWN0aXZlJiZ0aGlzLl9uZXdQYXRoKCksdGhpcy5fZmlsbEluc3RydWN0aW9ucz1iP1tuZXcgYSh0aGlzLl9zZXRQcm9wLFsiZmlsbFN0eWxlIixiXSwhMSldOm51bGwsdGhpcy5fZmlsbE1hdHJpeD1udWxsLHRoaXN9LGMuYmVnaW5MaW5lYXJHcmFkaWVudEZpbGw9ZnVuY3Rpb24oYixjLGQsZSxmLGcpe3RoaXMuX2FjdGl2ZSYmdGhpcy5fbmV3UGF0aCgpO2Zvcih2YXIgaD10aGlzLl9jdHguY3JlYXRlTGluZWFyR3JhZGllbnQoZCxlLGYsZyksaT0wLGo9Yi5sZW5ndGg7aj5pO2krKyloLmFkZENvbG9yU3RvcChjW2ldLGJbaV0pO3JldHVybiB0aGlzLl9maWxsSW5zdHJ1Y3Rpb25zPVtuZXcgYSh0aGlzLl9zZXRQcm9wLFsiZmlsbFN0eWxlIixoXSwhMSldLHRoaXMuX2ZpbGxNYXRyaXg9bnVsbCx0aGlzfSxjLmJlZ2luUmFkaWFsR3JhZGllbnRGaWxsPWZ1bmN0aW9uKGIsYyxkLGUsZixnLGgsaSl7dGhpcy5fYWN0aXZlJiZ0aGlzLl9uZXdQYXRoKCk7Zm9yKHZhciBqPXRoaXMuX2N0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChkLGUsZixnLGgsaSksaz0wLGw9Yi5sZW5ndGg7bD5rO2srKylqLmFkZENvbG9yU3RvcChjW2tdLGJba10pO3JldHVybiB0aGlzLl9maWxsSW5zdHJ1Y3Rpb25zPVtuZXcgYSh0aGlzLl9zZXRQcm9wLFsiZmlsbFN0eWxlIixqXSwhMSldLHRoaXMuX2ZpbGxNYXRyaXg9bnVsbCx0aGlzfSxjLmJlZ2luQml0bWFwRmlsbD1mdW5jdGlvbihiLGMsZCl7dGhpcy5fYWN0aXZlJiZ0aGlzLl9uZXdQYXRoKCksYz1jfHwiIjt2YXIgZT10aGlzLl9jdHguY3JlYXRlUGF0dGVybihiLGMpO3JldHVybiB0aGlzLl9maWxsSW5zdHJ1Y3Rpb25zPVtuZXcgYSh0aGlzLl9zZXRQcm9wLFsiZmlsbFN0eWxlIixlXSwhMSldLHRoaXMuX2ZpbGxNYXRyaXg9ZD9bZC5hLGQuYixkLmMsZC5kLGQudHgsZC50eV06bnVsbCx0aGlzfSxjLmVuZEZpbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iZWdpbkZpbGwoKX0sYy5zZXRTdHJva2VTdHlsZT1mdW5jdGlvbihjLGQsZSxmLGcpe3JldHVybiB0aGlzLl9hY3RpdmUmJnRoaXMuX25ld1BhdGgoKSx0aGlzLl9zdHJva2VTdHlsZUluc3RydWN0aW9ucz1bbmV3IGEodGhpcy5fc2V0UHJvcCxbImxpbmVXaWR0aCIsbnVsbD09Yz8iMSI6Y10sITEpLG5ldyBhKHRoaXMuX3NldFByb3AsWyJsaW5lQ2FwIixudWxsPT1kPyJidXR0Ijppc05hTihkKT9kOmIuU1RST0tFX0NBUFNfTUFQW2RdXSwhMSksbmV3IGEodGhpcy5fc2V0UHJvcCxbImxpbmVKb2luIixudWxsPT1lPyJtaXRlciI6aXNOYU4oZSk/ZTpiLlNUUk9LRV9KT0lOVFNfTUFQW2VdXSwhMSksbmV3IGEodGhpcy5fc2V0UHJvcCxbIm1pdGVyTGltaXQiLG51bGw9PWY/IjEwIjpmXSwhMSldLHRoaXMuX3N0cm9rZUlnbm9yZVNjYWxlPWcsdGhpc30sYy5iZWdpblN0cm9rZT1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5fYWN0aXZlJiZ0aGlzLl9uZXdQYXRoKCksdGhpcy5fc3Ryb2tlSW5zdHJ1Y3Rpb25zPWI/W25ldyBhKHRoaXMuX3NldFByb3AsWyJzdHJva2VTdHlsZSIsYl0sITEpXTpudWxsLHRoaXN9LGMuYmVnaW5MaW5lYXJHcmFkaWVudFN0cm9rZT1mdW5jdGlvbihiLGMsZCxlLGYsZyl7dGhpcy5fYWN0aXZlJiZ0aGlzLl9uZXdQYXRoKCk7Zm9yKHZhciBoPXRoaXMuX2N0eC5jcmVhdGVMaW5lYXJHcmFkaWVudChkLGUsZixnKSxpPTAsaj1iLmxlbmd0aDtqPmk7aSsrKWguYWRkQ29sb3JTdG9wKGNbaV0sYltpXSk7cmV0dXJuIHRoaXMuX3N0cm9rZUluc3RydWN0aW9ucz1bbmV3IGEodGhpcy5fc2V0UHJvcCxbInN0cm9rZVN0eWxlIixoXSwhMSldLHRoaXN9LGMuYmVnaW5SYWRpYWxHcmFkaWVudFN0cm9rZT1mdW5jdGlvbihiLGMsZCxlLGYsZyxoLGkpe3RoaXMuX2FjdGl2ZSYmdGhpcy5fbmV3UGF0aCgpO2Zvcih2YXIgaj10aGlzLl9jdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoZCxlLGYsZyxoLGkpLGs9MCxsPWIubGVuZ3RoO2w+aztrKyspai5hZGRDb2xvclN0b3AoY1trXSxiW2tdKTtyZXR1cm4gdGhpcy5fc3Ryb2tlSW5zdHJ1Y3Rpb25zPVtuZXcgYSh0aGlzLl9zZXRQcm9wLFsic3Ryb2tlU3R5bGUiLGpdLCExKV0sdGhpc30sYy5iZWdpbkJpdG1hcFN0cm9rZT1mdW5jdGlvbihiLGMpe3RoaXMuX2FjdGl2ZSYmdGhpcy5fbmV3UGF0aCgpLGM9Y3x8IiI7dmFyIGQ9dGhpcy5fY3R4LmNyZWF0ZVBhdHRlcm4oYixjKTtyZXR1cm4gdGhpcy5fc3Ryb2tlSW5zdHJ1Y3Rpb25zPVtuZXcgYSh0aGlzLl9zZXRQcm9wLFsic3Ryb2tlU3R5bGUiLGRdLCExKV0sdGhpc30sYy5lbmRTdHJva2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iZWdpblN0cm9rZSgpLHRoaXN9LGMuY3VydmVUbz1jLnF1YWRyYXRpY0N1cnZlVG8sYy5kcmF3UmVjdD1jLnJlY3QsYy5kcmF3Um91bmRSZWN0PWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIHRoaXMuZHJhd1JvdW5kUmVjdENvbXBsZXgoYSxiLGMsZCxlLGUsZSxlKSx0aGlzfSxjLmRyYXdSb3VuZFJlY3RDb21wbGV4PWZ1bmN0aW9uKGIsYyxkLGUsZixnLGgsaSl7dmFyIGo9KGU+ZD9kOmUpLzIsaz0wLGw9MCxtPTAsbj0wOzA+ZiYmKGYqPWs9LTEpLGY+aiYmKGY9aiksMD5nJiYoZyo9bD0tMSksZz5qJiYoZz1qKSwwPmgmJihoKj1tPS0xKSxoPmomJihoPWopLDA+aSYmKGkqPW49LTEpLGk+aiYmKGk9aiksdGhpcy5fZGlydHk9dGhpcy5fYWN0aXZlPSEwO3ZhciBvPXRoaXMuX2N0eC5hcmNUbyxwPXRoaXMuX2N0eC5saW5lVG87cmV0dXJuIHRoaXMuX2FjdGl2ZUluc3RydWN0aW9ucy5wdXNoKG5ldyBhKHRoaXMuX2N0eC5tb3ZlVG8sW2IrZC1nLGNdKSxuZXcgYShvLFtiK2QrZypsLGMtZypsLGIrZCxjK2csZ10pLG5ldyBhKHAsW2IrZCxjK2UtaF0pLG5ldyBhKG8sW2IrZCtoKm0sYytlK2gqbSxiK2QtaCxjK2UsaF0pLG5ldyBhKHAsW2IraSxjK2VdKSxuZXcgYShvLFtiLWkqbixjK2UraSpuLGIsYytlLWksaV0pLG5ldyBhKHAsW2IsYytmXSksbmV3IGEobyxbYi1mKmssYy1mKmssYitmLGMsZl0pLG5ldyBhKHRoaXMuX2N0eC5jbG9zZVBhdGgpKSx0aGlzfSxjLmRyYXdDaXJjbGU9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLmFyYyhhLGIsYywwLDIqTWF0aC5QSSksdGhpc30sYy5kcmF3RWxsaXBzZT1mdW5jdGlvbihiLGMsZCxlKXt0aGlzLl9kaXJ0eT10aGlzLl9hY3RpdmU9ITA7dmFyIGY9LjU1MjI4NDgsZz1kLzIqZixoPWUvMipmLGk9YitkLGo9YytlLGs9YitkLzIsbD1jK2UvMjtyZXR1cm4gdGhpcy5fYWN0aXZlSW5zdHJ1Y3Rpb25zLnB1c2gobmV3IGEodGhpcy5fY3R4Lm1vdmVUbyxbYixsXSksbmV3IGEodGhpcy5fY3R4LmJlemllckN1cnZlVG8sW2IsbC1oLGstZyxjLGssY10pLG5ldyBhKHRoaXMuX2N0eC5iZXppZXJDdXJ2ZVRvLFtrK2csYyxpLGwtaCxpLGxdKSxuZXcgYSh0aGlzLl9jdHguYmV6aWVyQ3VydmVUbyxbaSxsK2gsaytnLGosayxqXSksbmV3IGEodGhpcy5fY3R4LmJlemllckN1cnZlVG8sW2stZyxqLGIsbCtoLGIsbF0pKSx0aGlzfSxjLmluamVjdD1mdW5jdGlvbihiLGMpe3JldHVybiB0aGlzLl9kaXJ0eT10aGlzLl9hY3RpdmU9ITAsdGhpcy5fYWN0aXZlSW5zdHJ1Y3Rpb25zLnB1c2gobmV3IGEoYixbY10pKSx0aGlzfSxjLmRyYXdQb2x5U3Rhcj1mdW5jdGlvbihiLGMsZCxlLGYsZyl7dGhpcy5fZGlydHk9dGhpcy5fYWN0aXZlPSEwLG51bGw9PWYmJihmPTApLGY9MS1mLG51bGw9PWc/Zz0wOmcvPTE4MC9NYXRoLlBJO3ZhciBoPU1hdGguUEkvZTt0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnMucHVzaChuZXcgYSh0aGlzLl9jdHgubW92ZVRvLFtiK01hdGguY29zKGcpKmQsYytNYXRoLnNpbihnKSpkXSkpO2Zvcih2YXIgaT0wO2U+aTtpKyspZys9aCwxIT1mJiZ0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnMucHVzaChuZXcgYSh0aGlzLl9jdHgubGluZVRvLFtiK01hdGguY29zKGcpKmQqZixjK01hdGguc2luKGcpKmQqZl0pKSxnKz1oLHRoaXMuX2FjdGl2ZUluc3RydWN0aW9ucy5wdXNoKG5ldyBhKHRoaXMuX2N0eC5saW5lVG8sW2IrTWF0aC5jb3MoZykqZCxjK01hdGguc2luKGcpKmRdKSk7cmV0dXJuIHRoaXN9LGMuZGVjb2RlUGF0aD1mdW5jdGlvbihhKXtmb3IodmFyIGM9W3RoaXMubW92ZVRvLHRoaXMubGluZVRvLHRoaXMucXVhZHJhdGljQ3VydmVUbyx0aGlzLmJlemllckN1cnZlVG8sdGhpcy5jbG9zZVBhdGhdLGQ9WzIsMiw0LDYsMF0sZT0wLGY9YS5sZW5ndGgsZz1bXSxoPTAsaT0wLGo9Yi5CQVNFXzY0O2Y+ZTspe3ZhciBrPWEuY2hhckF0KGUpLGw9altrXSxtPWw+PjMsbj1jW21dO2lmKCFufHwzJmwpdGhyb3ciYmFkIHBhdGggZGF0YSAoQCIrZSsiKTogIitrO3ZhciBvPWRbbV07bXx8KGg9aT0wKSxnLmxlbmd0aD0wLGUrKztmb3IodmFyIHA9KDEmbD4+MikrMixxPTA7bz5xO3ErKyl7dmFyIHI9althLmNoYXJBdChlKV0scz1yPj41Py0xOjE7cj0oMzEmcik8PDZ8althLmNoYXJBdChlKzEpXSwzPT1wJiYocj1yPDw2fGpbYS5jaGFyQXQoZSsyKV0pLHI9cypyLzEwLHElMj9oPXIrPWg6aT1yKz1pLGdbcV09cixlKz1wfW4uYXBwbHkodGhpcyxnKX1yZXR1cm4gdGhpc30sYy5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBiO3JldHVybiBhLl9pbnN0cnVjdGlvbnM9dGhpcy5faW5zdHJ1Y3Rpb25zLnNsaWNlKCksYS5fYWN0aXZlSW5zdHJ1Y3Rpb25zPXRoaXMuX2FjdGl2ZUluc3RydWN0aW9ucy5zbGljZSgpLGEuX29sZEluc3RydWN0aW9ucz10aGlzLl9vbGRJbnN0cnVjdGlvbnMuc2xpY2UoKSx0aGlzLl9maWxsSW5zdHJ1Y3Rpb25zJiYoYS5fZmlsbEluc3RydWN0aW9ucz10aGlzLl9maWxsSW5zdHJ1Y3Rpb25zLnNsaWNlKCkpLHRoaXMuX3N0cm9rZUluc3RydWN0aW9ucyYmKGEuX3N0cm9rZUluc3RydWN0aW9ucz10aGlzLl9zdHJva2VJbnN0cnVjdGlvbnMuc2xpY2UoKSksdGhpcy5fc3Ryb2tlU3R5bGVJbnN0cnVjdGlvbnMmJihhLl9zdHJva2VTdHlsZUluc3RydWN0aW9ucz10aGlzLl9zdHJva2VTdHlsZUluc3RydWN0aW9ucy5zbGljZSgpKSxhLl9hY3RpdmU9dGhpcy5fYWN0aXZlLGEuX2RpcnR5PXRoaXMuX2RpcnR5LGEuX2ZpbGxNYXRyaXg9dGhpcy5fZmlsbE1hdHJpeCxhLl9zdHJva2VJZ25vcmVTY2FsZT10aGlzLl9zdHJva2VJZ25vcmVTY2FsZSxhfSxjLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltHcmFwaGljc10ifSxjLm10PWMubW92ZVRvLGMubHQ9Yy5saW5lVG8sYy5hdD1jLmFyY1RvLGMuYnQ9Yy5iZXppZXJDdXJ2ZVRvLGMucXQ9Yy5xdWFkcmF0aWNDdXJ2ZVRvLGMuYT1jLmFyYyxjLnI9Yy5yZWN0LGMuY3A9Yy5jbG9zZVBhdGgsYy5jPWMuY2xlYXIsYy5mPWMuYmVnaW5GaWxsLGMubGY9Yy5iZWdpbkxpbmVhckdyYWRpZW50RmlsbCxjLnJmPWMuYmVnaW5SYWRpYWxHcmFkaWVudEZpbGwsYy5iZj1jLmJlZ2luQml0bWFwRmlsbCxjLmVmPWMuZW5kRmlsbCxjLnNzPWMuc2V0U3Ryb2tlU3R5bGUsYy5zPWMuYmVnaW5TdHJva2UsYy5scz1jLmJlZ2luTGluZWFyR3JhZGllbnRTdHJva2UsYy5ycz1jLmJlZ2luUmFkaWFsR3JhZGllbnRTdHJva2UsYy5icz1jLmJlZ2luQml0bWFwU3Ryb2tlLGMuZXM9Yy5lbmRTdHJva2UsYy5kcj1jLmRyYXdSZWN0LGMucnI9Yy5kcmF3Um91bmRSZWN0LGMucmM9Yy5kcmF3Um91bmRSZWN0Q29tcGxleCxjLmRjPWMuZHJhd0NpcmNsZSxjLmRlPWMuZHJhd0VsbGlwc2UsYy5kcD1jLmRyYXdQb2x5U3RhcixjLnA9Yy5kZWNvZGVQYXRoLGMuX3VwZGF0ZUluc3RydWN0aW9ucz1mdW5jdGlvbigpe3RoaXMuX2luc3RydWN0aW9ucz10aGlzLl9vbGRJbnN0cnVjdGlvbnMuc2xpY2UoKSx0aGlzLl9pbnN0cnVjdGlvbnMucHVzaChiLmJlZ2luQ21kKSx0aGlzLl9hcHBlbmRJbnN0cnVjdGlvbnModGhpcy5fZmlsbEluc3RydWN0aW9ucyksdGhpcy5fYXBwZW5kSW5zdHJ1Y3Rpb25zKHRoaXMuX3N0cm9rZUluc3RydWN0aW9ucyksdGhpcy5fYXBwZW5kSW5zdHJ1Y3Rpb25zKHRoaXMuX3N0cm9rZUluc3RydWN0aW9ucyYmdGhpcy5fc3Ryb2tlU3R5bGVJbnN0cnVjdGlvbnMpLHRoaXMuX2FwcGVuZEluc3RydWN0aW9ucyh0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnMpLHRoaXMuX2ZpbGxJbnN0cnVjdGlvbnMmJnRoaXMuX2FwcGVuZERyYXcoYi5maWxsQ21kLHRoaXMuX2ZpbGxNYXRyaXgpLHRoaXMuX3N0cm9rZUluc3RydWN0aW9ucyYmdGhpcy5fYXBwZW5kRHJhdyhiLnN0cm9rZUNtZCx0aGlzLl9zdHJva2VJZ25vcmVTY2FsZSYmWzEsMCwwLDEsMCwwXSl9LGMuX2FwcGVuZEluc3RydWN0aW9ucz1mdW5jdGlvbihhKXthJiZ0aGlzLl9pbnN0cnVjdGlvbnMucHVzaC5hcHBseSh0aGlzLl9pbnN0cnVjdGlvbnMsYSl9LGMuX2FwcGVuZERyYXc9ZnVuY3Rpb24oYixjKXtjP3RoaXMuX2luc3RydWN0aW9ucy5wdXNoKG5ldyBhKHRoaXMuX2N0eC5zYXZlLFtdLCExKSxuZXcgYSh0aGlzLl9jdHgudHJhbnNmb3JtLGMsITEpLGIsbmV3IGEodGhpcy5fY3R4LnJlc3RvcmUsW10sITEpKTp0aGlzLl9pbnN0cnVjdGlvbnMucHVzaChiKX0sYy5fbmV3UGF0aD1mdW5jdGlvbigpe3RoaXMuX2RpcnR5JiZ0aGlzLl91cGRhdGVJbnN0cnVjdGlvbnMoKSx0aGlzLl9vbGRJbnN0cnVjdGlvbnM9dGhpcy5faW5zdHJ1Y3Rpb25zLHRoaXMuX2FjdGl2ZUluc3RydWN0aW9ucz1bXSx0aGlzLl9hY3RpdmU9dGhpcy5fZGlydHk9ITF9LGMuX3NldFByb3A9ZnVuY3Rpb24oYSxiKXt0aGlzW2FdPWJ9LGNyZWF0ZWpzLkdyYXBoaWNzPWJ9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKCl7dGhpcy5pbml0aWFsaXplKCl9LGI9YS5wcm90b3R5cGU9bmV3IGNyZWF0ZWpzLkV2ZW50RGlzcGF0Y2hlcjthLnN1cHByZXNzQ3Jvc3NEb21haW5FcnJvcnM9ITE7dmFyIGM9Y3JlYXRlanMuY3JlYXRlQ2FudmFzP2NyZWF0ZWpzLmNyZWF0ZUNhbnZhcygpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO2MuZ2V0Q29udGV4dCYmKGEuX2hpdFRlc3RDYW52YXM9YyxhLl9oaXRUZXN0Q29udGV4dD1jLmdldENvbnRleHQoIjJkIiksYy53aWR0aD1jLmhlaWdodD0xKSxhLl9uZXh0Q2FjaGVJRD0xLGIuYWxwaGE9MSxiLmNhY2hlQ2FudmFzPW51bGwsYi5pZD0tMSxiLm1vdXNlRW5hYmxlZD0hMCxiLm5hbWU9bnVsbCxiLnBhcmVudD1udWxsLGIucmVnWD0wLGIucmVnWT0wLGIucm90YXRpb249MCxiLnNjYWxlWD0xLGIuc2NhbGVZPTEsYi5za2V3WD0wLGIuc2tld1k9MCxiLnNoYWRvdz1udWxsLGIudmlzaWJsZT0hMCxiLng9MCxiLnk9MCxiLmNvbXBvc2l0ZU9wZXJhdGlvbj1udWxsLGIuc25hcFRvUGl4ZWw9ITEsYi5maWx0ZXJzPW51bGwsYi5jYWNoZUlEPTAsYi5tYXNrPW51bGwsYi5oaXRBcmVhPW51bGwsYi5jdXJzb3I9bnVsbCxiLl9jYWNoZU9mZnNldFg9MCxiLl9jYWNoZU9mZnNldFk9MCxiLl9jYWNoZVNjYWxlPTEsYi5fY2FjaGVEYXRhVVJMSUQ9MCxiLl9jYWNoZURhdGFVUkw9bnVsbCxiLl9tYXRyaXg9bnVsbCxiLl9yZWN0YW5nbGU9bnVsbCxiLl9ib3VuZHM9bnVsbCxiLmluaXRpYWxpemU9ZnVuY3Rpb24oKXt0aGlzLmlkPWNyZWF0ZWpzLlVJRC5nZXQoKSx0aGlzLl9tYXRyaXg9bmV3IGNyZWF0ZWpzLk1hdHJpeDJELHRoaXMuX3JlY3RhbmdsZT1uZXcgY3JlYXRlanMuUmVjdGFuZ2xlfSxiLmlzVmlzaWJsZT1mdW5jdGlvbigpe3JldHVybiEhKHRoaXMudmlzaWJsZSYmdGhpcy5hbHBoYT4wJiYwIT10aGlzLnNjYWxlWCYmMCE9dGhpcy5zY2FsZVkpfSxiLmRyYXc9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNhY2hlQ2FudmFzO2lmKGJ8fCFjKXJldHVybiExO3ZhciBkLGU9dGhpcy5fY2FjaGVTY2FsZSxmPXRoaXMuX2NhY2hlT2Zmc2V0WCxnPXRoaXMuX2NhY2hlT2Zmc2V0WTtyZXR1cm4oZD10aGlzLl9hcHBseUZpbHRlckJvdW5kcyhmLGcsMCwwKSkmJihmPWQueCxnPWQueSksYS5kcmF3SW1hZ2UoYyxmLGcsYy53aWR0aC9lLGMuaGVpZ2h0L2UpLCEwfSxiLnVwZGF0ZUNvbnRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzLm1hc2ssZD10aGlzO2MmJmMuZ3JhcGhpY3MmJiFjLmdyYXBoaWNzLmlzRW1wdHkoKSYmKGI9Yy5nZXRNYXRyaXgoYy5fbWF0cml4KSxhLnRyYW5zZm9ybShiLmEsYi5iLGIuYyxiLmQsYi50eCxiLnR5KSxjLmdyYXBoaWNzLmRyYXdBc1BhdGgoYSksYS5jbGlwKCksYi5pbnZlcnQoKSxhLnRyYW5zZm9ybShiLmEsYi5iLGIuYyxiLmQsYi50eCxiLnR5KSksYj1kLl9tYXRyaXguaWRlbnRpdHkoKS5hcHBlbmRUcmFuc2Zvcm0oZC54LGQueSxkLnNjYWxlWCxkLnNjYWxlWSxkLnJvdGF0aW9uLGQuc2tld1gsZC5za2V3WSxkLnJlZ1gsZC5yZWdZKSxjcmVhdGVqcy5TdGFnZS5fc25hcFRvUGl4ZWxFbmFibGVkJiZkLnNuYXBUb1BpeGVsP2EudHJhbnNmb3JtKGIuYSxiLmIsYi5jLGIuZCwwfGIudHgrLjUsMHxiLnR5Ky41KTphLnRyYW5zZm9ybShiLmEsYi5iLGIuYyxiLmQsYi50eCxiLnR5KSxhLmdsb2JhbEFscGhhKj1kLmFscGhhLGQuY29tcG9zaXRlT3BlcmF0aW9uJiYoYS5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249ZC5jb21wb3NpdGVPcGVyYXRpb24pLGQuc2hhZG93JiZ0aGlzLl9hcHBseVNoYWRvdyhhLGQuc2hhZG93KX0sYi5jYWNoZT1mdW5jdGlvbihhLGIsYyxkLGUpe2U9ZXx8MSx0aGlzLmNhY2hlQ2FudmFzfHwodGhpcy5jYWNoZUNhbnZhcz1jcmVhdGVqcy5jcmVhdGVDYW52YXM/Y3JlYXRlanMuY3JlYXRlQ2FudmFzKCk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikpLHRoaXMuX2NhY2hlV2lkdGg9Yyx0aGlzLl9jYWNoZUhlaWdodD1kLHRoaXMuX2NhY2hlT2Zmc2V0WD1hLHRoaXMuX2NhY2hlT2Zmc2V0WT1iLHRoaXMuX2NhY2hlU2NhbGU9ZSx0aGlzLnVwZGF0ZUNhY2hlKCl9LGIudXBkYXRlQ2FjaGU9ZnVuY3Rpb24oYil7dmFyIGMsZD10aGlzLmNhY2hlQ2FudmFzLGU9dGhpcy5fY2FjaGVTY2FsZSxmPXRoaXMuX2NhY2hlT2Zmc2V0WCplLGc9dGhpcy5fY2FjaGVPZmZzZXRZKmUsaD10aGlzLl9jYWNoZVdpZHRoLGk9dGhpcy5fY2FjaGVIZWlnaHQ7aWYoIWQpdGhyb3ciY2FjaGUoKSBtdXN0IGJlIGNhbGxlZCBiZWZvcmUgdXBkYXRlQ2FjaGUoKSI7dmFyIGo9ZC5nZXRDb250ZXh0KCIyZCIpOyhjPXRoaXMuX2FwcGx5RmlsdGVyQm91bmRzKGYsZyxoLGkpKSYmKGY9Yy54LGc9Yy55LGg9Yy53aWR0aCxpPWMuaGVpZ2h0KSxoPU1hdGguY2VpbChoKmUpLGk9TWF0aC5jZWlsKGkqZSksaCE9ZC53aWR0aHx8aSE9ZC5oZWlnaHQ/KGQud2lkdGg9aCxkLmhlaWdodD1pKTpifHxqLmNsZWFyUmVjdCgwLDAsaCsxLGkrMSksai5zYXZlKCksai5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249YixqLnNldFRyYW5zZm9ybShlLDAsMCxlLC1mLC1nKSx0aGlzLmRyYXcoaiwhMCksdGhpcy5fYXBwbHlGaWx0ZXJzKCksai5yZXN0b3JlKCksdGhpcy5jYWNoZUlEPWEuX25leHRDYWNoZUlEKyt9LGIudW5jYWNoZT1mdW5jdGlvbigpe3RoaXMuX2NhY2hlRGF0YVVSTD10aGlzLmNhY2hlQ2FudmFzPW51bGwsdGhpcy5jYWNoZUlEPXRoaXMuX2NhY2hlT2Zmc2V0WD10aGlzLl9jYWNoZU9mZnNldFk9MCx0aGlzLl9jYWNoZVNjYWxlPTF9LGIuZ2V0Q2FjaGVEYXRhVVJMPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FjaGVDYW52YXM/KHRoaXMuY2FjaGVJRCE9dGhpcy5fY2FjaGVEYXRhVVJMSUQmJih0aGlzLl9jYWNoZURhdGFVUkw9dGhpcy5jYWNoZUNhbnZhcy50b0RhdGFVUkwoKSksdGhpcy5fY2FjaGVEYXRhVVJMKTpudWxsfSxiLmdldFN0YWdlPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXM7YS5wYXJlbnQ7KWE9YS5wYXJlbnQ7cmV0dXJuIGEgaW5zdGFuY2VvZiBjcmVhdGVqcy5TdGFnZT9hOm51bGx9LGIubG9jYWxUb0dsb2JhbD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q29uY2F0ZW5hdGVkTWF0cml4KHRoaXMuX21hdHJpeCk7cmV0dXJuIG51bGw9PWM/bnVsbDooYy5hcHBlbmQoMSwwLDAsMSxhLGIpLG5ldyBjcmVhdGVqcy5Qb2ludChjLnR4LGMudHkpKX0sYi5nbG9iYWxUb0xvY2FsPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDb25jYXRlbmF0ZWRNYXRyaXgodGhpcy5fbWF0cml4KTtyZXR1cm4gbnVsbD09Yz9udWxsOihjLmludmVydCgpLGMuYXBwZW5kKDEsMCwwLDEsYSxiKSxuZXcgY3JlYXRlanMuUG9pbnQoYy50eCxjLnR5KSl9LGIubG9jYWxUb0xvY2FsPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmxvY2FsVG9HbG9iYWwoYSxiKTtyZXR1cm4gYy5nbG9iYWxUb0xvY2FsKGQueCxkLnkpfSxiLnNldFRyYW5zZm9ybT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsaSl7cmV0dXJuIHRoaXMueD1hfHwwLHRoaXMueT1ifHwwLHRoaXMuc2NhbGVYPW51bGw9PWM/MTpjLHRoaXMuc2NhbGVZPW51bGw9PWQ/MTpkLHRoaXMucm90YXRpb249ZXx8MCx0aGlzLnNrZXdYPWZ8fDAsdGhpcy5za2V3WT1nfHwwLHRoaXMucmVnWD1ofHwwLHRoaXMucmVnWT1pfHwwLHRoaXN9LGIuZ2V0TWF0cml4PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuKGE/YS5pZGVudGl0eSgpOm5ldyBjcmVhdGVqcy5NYXRyaXgyRCkuYXBwZW5kVHJhbnNmb3JtKGIueCxiLnksYi5zY2FsZVgsYi5zY2FsZVksYi5yb3RhdGlvbixiLnNrZXdYLGIuc2tld1ksYi5yZWdYLGIucmVnWSkuYXBwZW5kUHJvcGVydGllcyhiLmFscGhhLGIuc2hhZG93LGIuY29tcG9zaXRlT3BlcmF0aW9uKX0sYi5nZXRDb25jYXRlbmF0ZWRNYXRyaXg9ZnVuY3Rpb24oYSl7YT9hLmlkZW50aXR5KCk6YT1uZXcgY3JlYXRlanMuTWF0cml4MkQ7Zm9yKHZhciBiPXRoaXM7bnVsbCE9YjspYS5wcmVwZW5kVHJhbnNmb3JtKGIueCxiLnksYi5zY2FsZVgsYi5zY2FsZVksYi5yb3RhdGlvbixiLnNrZXdYLGIuc2tld1ksYi5yZWdYLGIucmVnWSkucHJlcGVuZFByb3BlcnRpZXMoYi5hbHBoYSxiLnNoYWRvdyxiLmNvbXBvc2l0ZU9wZXJhdGlvbiksYj1iLnBhcmVudDtyZXR1cm4gYX0sYi5oaXRUZXN0PWZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5faGl0VGVzdENvbnRleHQ7ZC5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwtYiwtYyksdGhpcy5kcmF3KGQpO3ZhciBlPXRoaXMuX3Rlc3RIaXQoZCk7cmV0dXJuIGQuc2V0VHJhbnNmb3JtKDEsMCwwLDEsMCwwKSxkLmNsZWFyUmVjdCgwLDAsMiwyKSxlfSxiLnNldD1mdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gYSl0aGlzW2JdPWFbYl07cmV0dXJuIHRoaXN9LGIuZ2V0Qm91bmRzPWZ1bmN0aW9uKCl7aWYodGhpcy5fYm91bmRzKXJldHVybiB0aGlzLl9yZWN0YW5nbGUuY29weSh0aGlzLl9ib3VuZHMpO3ZhciBhPXRoaXMuY2FjaGVDYW52YXM7aWYoYSl7dmFyIGI9dGhpcy5fY2FjaGVTY2FsZTtyZXR1cm4gdGhpcy5fcmVjdGFuZ2xlLmluaXRpYWxpemUodGhpcy5fY2FjaGVPZmZzZXRYLHRoaXMuX2NhY2hlT2Zmc2V0WSxhLndpZHRoL2IsYS5oZWlnaHQvYil9cmV0dXJuIG51bGx9LGIuZ2V0VHJhbnNmb3JtZWRCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0Qm91bmRzKCl9LGIuc2V0Qm91bmRzPWZ1bmN0aW9uKGEsYixjLGQpe251bGw9PWEmJih0aGlzLl9ib3VuZHM9YSksdGhpcy5fYm91bmRzPSh0aGlzLl9ib3VuZHN8fG5ldyBjcmVhdGVqcy5SZWN0YW5nbGUpLmluaXRpYWxpemUoYSxiLGMsZCkKfSxiLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGI9bmV3IGE7cmV0dXJuIHRoaXMuY2xvbmVQcm9wcyhiKSxifSxiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltEaXNwbGF5T2JqZWN0IChuYW1lPSIrdGhpcy5uYW1lKyIpXSJ9LGIuY2xvbmVQcm9wcz1mdW5jdGlvbihhKXthLmFscGhhPXRoaXMuYWxwaGEsYS5uYW1lPXRoaXMubmFtZSxhLnJlZ1g9dGhpcy5yZWdYLGEucmVnWT10aGlzLnJlZ1ksYS5yb3RhdGlvbj10aGlzLnJvdGF0aW9uLGEuc2NhbGVYPXRoaXMuc2NhbGVYLGEuc2NhbGVZPXRoaXMuc2NhbGVZLGEuc2hhZG93PXRoaXMuc2hhZG93LGEuc2tld1g9dGhpcy5za2V3WCxhLnNrZXdZPXRoaXMuc2tld1ksYS52aXNpYmxlPXRoaXMudmlzaWJsZSxhLng9dGhpcy54LGEueT10aGlzLnksYS5fYm91bmRzPXRoaXMuX2JvdW5kcyxhLm1vdXNlRW5hYmxlZD10aGlzLm1vdXNlRW5hYmxlZCxhLmNvbXBvc2l0ZU9wZXJhdGlvbj10aGlzLmNvbXBvc2l0ZU9wZXJhdGlvbn0sYi5fYXBwbHlTaGFkb3c9ZnVuY3Rpb24oYSxiKXtiPWJ8fFNoYWRvdy5pZGVudGl0eSxhLnNoYWRvd0NvbG9yPWIuY29sb3IsYS5zaGFkb3dPZmZzZXRYPWIub2Zmc2V0WCxhLnNoYWRvd09mZnNldFk9Yi5vZmZzZXRZLGEuc2hhZG93Qmx1cj1iLmJsdXJ9LGIuX3RpY2s9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fbGlzdGVuZXJzO2lmKGImJmIudGljayl7dmFyIGM9bmV3IGNyZWF0ZWpzLkV2ZW50KCJ0aWNrIik7Yy5wYXJhbXM9YSx0aGlzLl9kaXNwYXRjaEV2ZW50KGMsdGhpcywyKX19LGIuX3Rlc3RIaXQ9ZnVuY3Rpb24oYil7dHJ5e3ZhciBjPWIuZ2V0SW1hZ2VEYXRhKDAsMCwxLDEpLmRhdGFbM10+MX1jYXRjaChkKXtpZighYS5zdXBwcmVzc0Nyb3NzRG9tYWluRXJyb3JzKXRocm93IkFuIGVycm9yIGhhcyBvY2N1cnJlZC4gVGhpcyBpcyBtb3N0IGxpa2VseSBkdWUgdG8gc2VjdXJpdHkgcmVzdHJpY3Rpb25zIG9uIHJlYWRpbmcgY2FudmFzIHBpeGVsIGRhdGEgd2l0aCBsb2NhbCBvciBjcm9zcy1kb21haW4gaW1hZ2VzLiJ9cmV0dXJuIGN9LGIuX2FwcGx5RmlsdGVycz1mdW5jdGlvbigpe2lmKHRoaXMuZmlsdGVycyYmMCE9dGhpcy5maWx0ZXJzLmxlbmd0aCYmdGhpcy5jYWNoZUNhbnZhcylmb3IodmFyIGE9dGhpcy5maWx0ZXJzLmxlbmd0aCxiPXRoaXMuY2FjaGVDYW52YXMuZ2V0Q29udGV4dCgiMmQiKSxjPXRoaXMuY2FjaGVDYW52YXMud2lkdGgsZD10aGlzLmNhY2hlQ2FudmFzLmhlaWdodCxlPTA7YT5lO2UrKyl0aGlzLmZpbHRlcnNbZV0uYXBwbHlGaWx0ZXIoYiwwLDAsYyxkKX0sYi5fYXBwbHlGaWx0ZXJCb3VuZHM9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnPXRoaXMuZmlsdGVycztpZihnJiYoZj1nLmxlbmd0aCkpe2Zvcih2YXIgaD0wO2Y+aDtoKyspe3ZhciBpPXRoaXMuZmlsdGVyc1toXSxqPWkuZ2V0Qm91bmRzJiZpLmdldEJvdW5kcygpO2omJihlfHwoZT10aGlzLl9yZWN0YW5nbGUuaW5pdGlhbGl6ZShhLGIsYyxkKSksZS54Kz1qLngsZS55Kz1qLnksZS53aWR0aCs9ai53aWR0aCxlLmhlaWdodCs9ai5oZWlnaHQpfXJldHVybiBlfX0sYi5fZ2V0Qm91bmRzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybUJvdW5kcyh0aGlzLmdldEJvdW5kcygpLGEsYil9LGIuX3RyYW5zZm9ybUJvdW5kcz1mdW5jdGlvbihhLGIsYyl7aWYoIWEpcmV0dXJuIGE7dmFyIGQ9YS54LGU9YS55LGY9YS53aWR0aCxnPWEuaGVpZ2h0LGg9Yz90aGlzLl9tYXRyaXguaWRlbnRpdHkoKTp0aGlzLmdldE1hdHJpeCh0aGlzLl9tYXRyaXgpOyhkfHxlKSYmaC5hcHBlbmRUcmFuc2Zvcm0oMCwwLDEsMSwwLDAsMCwtZCwtZSksYiYmaC5wcmVwZW5kTWF0cml4KGIpO3ZhciBpPWYqaC5hLGo9ZipoLmIsaz1nKmguYyxsPWcqaC5kLG09aC50eCxuPWgudHksbz1tLHA9bSxxPW4scj1uO3JldHVybihkPWkrbSk8bz9vPWQ6ZD5wJiYocD1kKSwoZD1pK2srbSk8bz9vPWQ6ZD5wJiYocD1kKSwoZD1rK20pPG8/bz1kOmQ+cCYmKHA9ZCksKGU9aituKTxxP3E9ZTplPnImJihyPWUpLChlPWorbCtuKTxxP3E9ZTplPnImJihyPWUpLChlPWwrbik8cT9xPWU6ZT5yJiYocj1lKSxhLmluaXRpYWxpemUobyxxLHAtbyxyLXEpfSxjcmVhdGVqcy5EaXNwbGF5T2JqZWN0PWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKCl7dGhpcy5pbml0aWFsaXplKCl9LGI9YS5wcm90b3R5cGU9bmV3IGNyZWF0ZWpzLkRpc3BsYXlPYmplY3Q7Yi5jaGlsZHJlbj1udWxsLGIubW91c2VDaGlsZHJlbj0hMCxiLkRpc3BsYXlPYmplY3RfaW5pdGlhbGl6ZT1iLmluaXRpYWxpemUsYi5pbml0aWFsaXplPWZ1bmN0aW9uKCl7dGhpcy5EaXNwbGF5T2JqZWN0X2luaXRpYWxpemUoKSx0aGlzLmNoaWxkcmVuPVtdfSxiLmlzVmlzaWJsZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuY2FjaGVDYW52YXN8fHRoaXMuY2hpbGRyZW4ubGVuZ3RoO3JldHVybiEhKHRoaXMudmlzaWJsZSYmdGhpcy5hbHBoYT4wJiYwIT10aGlzLnNjYWxlWCYmMCE9dGhpcy5zY2FsZVkmJmEpfSxiLkRpc3BsYXlPYmplY3RfZHJhdz1iLmRyYXcsYi5kcmF3PWZ1bmN0aW9uKGEsYil7aWYodGhpcy5EaXNwbGF5T2JqZWN0X2RyYXcoYSxiKSlyZXR1cm4hMDtmb3IodmFyIGM9dGhpcy5jaGlsZHJlbi5zbGljZSgwKSxkPTAsZT1jLmxlbmd0aDtlPmQ7ZCsrKXt2YXIgZj1jW2RdO2YuaXNWaXNpYmxlKCkmJihhLnNhdmUoKSxmLnVwZGF0ZUNvbnRleHQoYSksZi5kcmF3KGEpLGEucmVzdG9yZSgpKX1yZXR1cm4hMH0sYi5hZGRDaGlsZD1mdW5jdGlvbihhKXtpZihudWxsPT1hKXJldHVybiBhO3ZhciBiPWFyZ3VtZW50cy5sZW5ndGg7aWYoYj4xKXtmb3IodmFyIGM9MDtiPmM7YysrKXRoaXMuYWRkQ2hpbGQoYXJndW1lbnRzW2NdKTtyZXR1cm4gYXJndW1lbnRzW2ItMV19cmV0dXJuIGEucGFyZW50JiZhLnBhcmVudC5yZW1vdmVDaGlsZChhKSxhLnBhcmVudD10aGlzLHRoaXMuY2hpbGRyZW4ucHVzaChhKSxhfSxiLmFkZENoaWxkQXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hcmd1bWVudHMubGVuZ3RoLGQ9YXJndW1lbnRzW2MtMV07aWYoMD5kfHxkPnRoaXMuY2hpbGRyZW4ubGVuZ3RoKXJldHVybiBhcmd1bWVudHNbYy0yXTtpZihjPjIpe2Zvcih2YXIgZT0wO2MtMT5lO2UrKyl0aGlzLmFkZENoaWxkQXQoYXJndW1lbnRzW2VdLGQrZSk7cmV0dXJuIGFyZ3VtZW50c1tjLTJdfXJldHVybiBhLnBhcmVudCYmYS5wYXJlbnQucmVtb3ZlQ2hpbGQoYSksYS5wYXJlbnQ9dGhpcyx0aGlzLmNoaWxkcmVuLnNwbGljZShiLDAsYSksYX0sYi5yZW1vdmVDaGlsZD1mdW5jdGlvbihhKXt2YXIgYj1hcmd1bWVudHMubGVuZ3RoO2lmKGI+MSl7Zm9yKHZhciBjPSEwLGQ9MDtiPmQ7ZCsrKWM9YyYmdGhpcy5yZW1vdmVDaGlsZChhcmd1bWVudHNbZF0pO3JldHVybiBjfXJldHVybiB0aGlzLnJlbW92ZUNoaWxkQXQoY3JlYXRlanMuaW5kZXhPZih0aGlzLmNoaWxkcmVuLGEpKX0sYi5yZW1vdmVDaGlsZEF0PWZ1bmN0aW9uKGEpe3ZhciBiPWFyZ3VtZW50cy5sZW5ndGg7aWYoYj4xKXtmb3IodmFyIGM9W10sZD0wO2I+ZDtkKyspY1tkXT1hcmd1bWVudHNbZF07Yy5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGItYX0pO2Zvcih2YXIgZT0hMCxkPTA7Yj5kO2QrKyllPWUmJnRoaXMucmVtb3ZlQ2hpbGRBdChjW2RdKTtyZXR1cm4gZX1pZigwPmF8fGE+dGhpcy5jaGlsZHJlbi5sZW5ndGgtMSlyZXR1cm4hMTt2YXIgZj10aGlzLmNoaWxkcmVuW2FdO3JldHVybiBmJiYoZi5wYXJlbnQ9bnVsbCksdGhpcy5jaGlsZHJlbi5zcGxpY2UoYSwxKSwhMH0sYi5yZW1vdmVBbGxDaGlsZHJlbj1mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmNoaWxkcmVuO2EubGVuZ3RoOylhLnBvcCgpLnBhcmVudD1udWxsfSxiLmdldENoaWxkQXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2hpbGRyZW5bYV19LGIuZ2V0Q2hpbGRCeU5hbWU9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuY2hpbGRyZW4sYz0wLGQ9Yi5sZW5ndGg7ZD5jO2MrKylpZihiW2NdLm5hbWU9PWEpcmV0dXJuIGJbY107cmV0dXJuIG51bGx9LGIuc29ydENoaWxkcmVuPWZ1bmN0aW9uKGEpe3RoaXMuY2hpbGRyZW4uc29ydChhKX0sYi5nZXRDaGlsZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiBjcmVhdGVqcy5pbmRleE9mKHRoaXMuY2hpbGRyZW4sYSl9LGIuZ2V0TnVtQ2hpbGRyZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGh9LGIuc3dhcENoaWxkcmVuQXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNoaWxkcmVuLGQ9Y1thXSxlPWNbYl07ZCYmZSYmKGNbYV09ZSxjW2JdPWQpfSxiLnN3YXBDaGlsZHJlbj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkLGU9dGhpcy5jaGlsZHJlbixmPTAsZz1lLmxlbmd0aDtnPmYmJihlW2ZdPT1hJiYoYz1mKSxlW2ZdPT1iJiYoZD1mKSxudWxsPT1jfHxudWxsPT1kKTtmKyspO2YhPWcmJihlW2NdPWIsZVtkXT1hKX0sYi5zZXRDaGlsZEluZGV4PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jaGlsZHJlbixkPWMubGVuZ3RoO2lmKCEoYS5wYXJlbnQhPXRoaXN8fDA+Ynx8Yj49ZCkpe2Zvcih2YXIgZT0wO2Q+ZSYmY1tlXSE9YTtlKyspO2UhPWQmJmUhPWImJihjLnNwbGljZShlLDEpLGMuc3BsaWNlKGIsMCxhKSl9fSxiLmNvbnRhaW5zPWZ1bmN0aW9uKGEpe2Zvcig7YTspe2lmKGE9PXRoaXMpcmV0dXJuITA7YT1hLnBhcmVudH1yZXR1cm4hMX0sYi5oaXRUZXN0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGwhPXRoaXMuZ2V0T2JqZWN0VW5kZXJQb2ludChhLGIpfSxiLmdldE9iamVjdHNVbmRlclBvaW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9W10sZD10aGlzLmxvY2FsVG9HbG9iYWwoYSxiKTtyZXR1cm4gdGhpcy5fZ2V0T2JqZWN0c1VuZGVyUG9pbnQoZC54LGQueSxjKSxjfSxiLmdldE9iamVjdFVuZGVyUG9pbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmxvY2FsVG9HbG9iYWwoYSxiKTtyZXR1cm4gdGhpcy5fZ2V0T2JqZWN0c1VuZGVyUG9pbnQoYy54LGMueSl9LGIuRGlzcGxheU9iamVjdF9nZXRCb3VuZHM9Yi5nZXRCb3VuZHMsYi5nZXRCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0Qm91bmRzKG51bGwsITApfSxiLmdldFRyYW5zZm9ybWVkQm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldEJvdW5kcygpfSxiLmNsb25lPWZ1bmN0aW9uKGIpe3ZhciBjPW5ldyBhO2lmKHRoaXMuY2xvbmVQcm9wcyhjKSxiKWZvcih2YXIgZD1jLmNoaWxkcmVuPVtdLGU9MCxmPXRoaXMuY2hpbGRyZW4ubGVuZ3RoO2Y+ZTtlKyspe3ZhciBnPXRoaXMuY2hpbGRyZW5bZV0uY2xvbmUoYik7Zy5wYXJlbnQ9YyxkLnB1c2goZyl9cmV0dXJuIGN9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW0NvbnRhaW5lciAobmFtZT0iK3RoaXMubmFtZSsiKV0ifSxiLkRpc3BsYXlPYmplY3RfX3RpY2s9Yi5fdGljayxiLl90aWNrPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmNoaWxkcmVuLmxlbmd0aC0xO2I+PTA7Yi0tKXt2YXIgYz10aGlzLmNoaWxkcmVuW2JdO2MuX3RpY2smJmMuX3RpY2soYSl9dGhpcy5EaXNwbGF5T2JqZWN0X190aWNrKGEpfSxiLl9nZXRPYmplY3RzVW5kZXJQb2ludD1mdW5jdGlvbihiLGMsZCxlKXtmb3IodmFyIGY9Y3JlYXRlanMuRGlzcGxheU9iamVjdC5faGl0VGVzdENvbnRleHQsZz10aGlzLl9tYXRyaXgsaD10aGlzLmNoaWxkcmVuLmxlbmd0aCxpPWgtMTtpPj0wO2ktLSl7dmFyIGo9dGhpcy5jaGlsZHJlbltpXSxrPWUmJmouaGl0QXJlYTtpZihqLnZpc2libGUmJihrfHxqLmlzVmlzaWJsZSgpKSYmKCFlfHxqLm1vdXNlRW5hYmxlZCkpaWYoIWsmJmogaW5zdGFuY2VvZiBhKXt2YXIgbD1qLl9nZXRPYmplY3RzVW5kZXJQb2ludChiLGMsZCxlKTtpZighZCYmbClyZXR1cm4gbH1lbHNle2lmKGouZ2V0Q29uY2F0ZW5hdGVkTWF0cml4KGcpLGsmJihnLmFwcGVuZFRyYW5zZm9ybShrLngsay55LGsuc2NhbGVYLGsuc2NhbGVZLGsucm90YXRpb24say5za2V3WCxrLnNrZXdZLGsucmVnWCxrLnJlZ1kpLGcuYWxwaGE9ay5hbHBoYSksZi5nbG9iYWxBbHBoYT1nLmFscGhhLGYuc2V0VHJhbnNmb3JtKGcuYSxnLmIsZy5jLGcuZCxnLnR4LWIsZy50eS1jKSwoa3x8aikuZHJhdyhmKSwhdGhpcy5fdGVzdEhpdChmKSljb250aW51ZTtpZihmLnNldFRyYW5zZm9ybSgxLDAsMCwxLDAsMCksZi5jbGVhclJlY3QoMCwwLDIsMiksIWQpcmV0dXJuIGUmJiF0aGlzLm1vdXNlQ2hpbGRyZW4/dGhpczpqO2QucHVzaChqKX19cmV0dXJuIG51bGx9LGIuX2dldEJvdW5kcz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuRGlzcGxheU9iamVjdF9nZXRCb3VuZHMoKTtpZihjKXJldHVybiB0aGlzLl90cmFuc2Zvcm1Cb3VuZHMoYyxhLGIpO3ZhciBkLGUsZixnLGg9Yj90aGlzLl9tYXRyaXguaWRlbnRpdHkoKTp0aGlzLmdldE1hdHJpeCh0aGlzLl9tYXRyaXgpO2EmJmgucHJlcGVuZE1hdHJpeChhKTtmb3IodmFyIGk9dGhpcy5jaGlsZHJlbi5sZW5ndGgsaj0wO2k+ajtqKyspe3ZhciBrPXRoaXMuY2hpbGRyZW5bal07aWYoay52aXNpYmxlJiYoYz1rLl9nZXRCb3VuZHMoaCkpKXt2YXIgbD1jLngsbT1jLnksbj1sK2Mud2lkdGgsbz1tK2MuaGVpZ2h0OyhkPmx8fG51bGw9PWQpJiYoZD1sKSwobj5lfHxudWxsPT1lKSYmKGU9biksKGY+bXx8bnVsbD09ZikmJihmPW0pLChvPmd8fG51bGw9PWcpJiYoZz1vKX19cmV0dXJuIG51bGw9PWU/bnVsbDp0aGlzLl9yZWN0YW5nbGUuaW5pdGlhbGl6ZShkLGYsZS1kLGctZil9LGNyZWF0ZWpzLkNvbnRhaW5lcj1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9ZnVuY3Rpb24oYSl7dGhpcy5pbml0aWFsaXplKGEpfSxiPWEucHJvdG90eXBlPW5ldyBjcmVhdGVqcy5Db250YWluZXI7YS5fc25hcFRvUGl4ZWxFbmFibGVkPSExLGIuYXV0b0NsZWFyPSEwLGIuY2FudmFzPW51bGwsYi5tb3VzZVg9MCxiLm1vdXNlWT0wLGIuc25hcFRvUGl4ZWxFbmFibGVkPSExLGIubW91c2VJbkJvdW5kcz0hMSxiLnRpY2tPblVwZGF0ZT0hMCxiLm1vdXNlTW92ZU91dHNpZGU9ITEsYi5uZXh0U3RhZ2U9bnVsbCxiLl9wb2ludGVyRGF0YT1udWxsLGIuX3BvaW50ZXJDb3VudD0wLGIuX3ByaW1hcnlQb2ludGVySUQ9bnVsbCxiLl9tb3VzZU92ZXJJbnRlcnZhbElEPW51bGwsYi5Db250YWluZXJfaW5pdGlhbGl6ZT1iLmluaXRpYWxpemUsYi5pbml0aWFsaXplPWZ1bmN0aW9uKGEpe3RoaXMuQ29udGFpbmVyX2luaXRpYWxpemUoKSx0aGlzLmNhbnZhcz0ic3RyaW5nIj09dHlwZW9mIGE/ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSk6YSx0aGlzLl9wb2ludGVyRGF0YT17fSx0aGlzLmVuYWJsZURPTUV2ZW50cyghMCl9LGIudXBkYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5jYW52YXMpe3RoaXMudGlja09uVXBkYXRlJiYodGhpcy5kaXNwYXRjaEV2ZW50KCJ0aWNrc3RhcnQiKSx0aGlzLl90aWNrKGFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzOm51bGwpLHRoaXMuZGlzcGF0Y2hFdmVudCgidGlja2VuZCIpKSx0aGlzLmRpc3BhdGNoRXZlbnQoImRyYXdzdGFydCIpLGEuX3NuYXBUb1BpeGVsRW5hYmxlZD10aGlzLnNuYXBUb1BpeGVsRW5hYmxlZCx0aGlzLmF1dG9DbGVhciYmdGhpcy5jbGVhcigpO3ZhciBiPXRoaXMuY2FudmFzLmdldENvbnRleHQoIjJkIik7Yi5zYXZlKCksdGhpcy51cGRhdGVDb250ZXh0KGIpLHRoaXMuZHJhdyhiLCExKSxiLnJlc3RvcmUoKSx0aGlzLmRpc3BhdGNoRXZlbnQoImRyYXdlbmQiKX19LGIuaGFuZGxlRXZlbnQ9ZnVuY3Rpb24oYSl7InRpY2siPT1hLnR5cGUmJnRoaXMudXBkYXRlKGEpfSxiLmNsZWFyPWZ1bmN0aW9uKCl7aWYodGhpcy5jYW52YXMpe3ZhciBhPXRoaXMuY2FudmFzLmdldENvbnRleHQoIjJkIik7YS5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApLGEuY2xlYXJSZWN0KDAsMCx0aGlzLmNhbnZhcy53aWR0aCsxLHRoaXMuY2FudmFzLmhlaWdodCsxKX19LGIudG9EYXRhVVJMPWZ1bmN0aW9uKGEsYil7Ynx8KGI9ImltYWdlL3BuZyIpO3ZhciBjLGQ9dGhpcy5jYW52YXMuZ2V0Q29udGV4dCgiMmQiKSxlPXRoaXMuY2FudmFzLndpZHRoLGY9dGhpcy5jYW52YXMuaGVpZ2h0O2lmKGEpe2M9ZC5nZXRJbWFnZURhdGEoMCwwLGUsZik7dmFyIGc9ZC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb247ZC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249ImRlc3RpbmF0aW9uLW92ZXIiLGQuZmlsbFN0eWxlPWEsZC5maWxsUmVjdCgwLDAsZSxmKX12YXIgaD10aGlzLmNhbnZhcy50b0RhdGFVUkwoYik7cmV0dXJuIGEmJihkLmNsZWFyUmVjdCgwLDAsZSsxLGYrMSksZC5wdXRJbWFnZURhdGEoYywwLDApLGQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPWcpLGh9LGIuZW5hYmxlTW91c2VPdmVyPWZ1bmN0aW9uKGEpe2lmKHRoaXMuX21vdXNlT3ZlckludGVydmFsSUQmJihjbGVhckludGVydmFsKHRoaXMuX21vdXNlT3ZlckludGVydmFsSUQpLHRoaXMuX21vdXNlT3ZlckludGVydmFsSUQ9bnVsbCwwPT1hJiZ0aGlzLl90ZXN0TW91c2VPdmVyKCEwKSksbnVsbD09YSlhPTIwO2Vsc2UgaWYoMD49YSlyZXR1cm47dmFyIGI9dGhpczt0aGlzLl9tb3VzZU92ZXJJbnRlcnZhbElEPXNldEludGVydmFsKGZ1bmN0aW9uKCl7Yi5fdGVzdE1vdXNlT3ZlcigpfSwxZTMvTWF0aC5taW4oNTAsYSkpfSxiLmVuYWJsZURPTUV2ZW50cz1mdW5jdGlvbihhKXtudWxsPT1hJiYoYT0hMCk7dmFyIGIsYyxkPXRoaXMuX2V2ZW50TGlzdGVuZXJzO2lmKCFhJiZkKXtmb3IoYiBpbiBkKWM9ZFtiXSxjLnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGMuZiwhMSk7dGhpcy5fZXZlbnRMaXN0ZW5lcnM9bnVsbH1lbHNlIGlmKGEmJiFkJiZ0aGlzLmNhbnZhcyl7dmFyIGU9d2luZG93LmFkZEV2ZW50TGlzdGVuZXI/d2luZG93OmRvY3VtZW50LGY9dGhpcztkPXRoaXMuX2V2ZW50TGlzdGVuZXJzPXt9LGQubW91c2V1cD17dDplLGY6ZnVuY3Rpb24oYSl7Zi5faGFuZGxlTW91c2VVcChhKX19LGQubW91c2Vtb3ZlPXt0OmUsZjpmdW5jdGlvbihhKXtmLl9oYW5kbGVNb3VzZU1vdmUoYSl9fSxkLmRibGNsaWNrPXt0OmUsZjpmdW5jdGlvbihhKXtmLl9oYW5kbGVEb3VibGVDbGljayhhKX19LGQubW91c2Vkb3duPXt0OnRoaXMuY2FudmFzLGY6ZnVuY3Rpb24oYSl7Zi5faGFuZGxlTW91c2VEb3duKGEpfX07Zm9yKGIgaW4gZCljPWRbYl0sYy50LmFkZEV2ZW50TGlzdGVuZXIoYixjLmYsITEpfX0sYi5jbG9uZT1mdW5jdGlvbigpe3ZhciBiPW5ldyBhKG51bGwpO3JldHVybiB0aGlzLmNsb25lUHJvcHMoYiksYn0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbU3RhZ2UgKG5hbWU9Iit0aGlzLm5hbWUrIildIn0sYi5fZ2V0RWxlbWVudFJlY3Q9ZnVuY3Rpb24oYSl7dmFyIGI7dHJ5e2I9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX1jYXRjaChjKXtiPXt0b3A6YS5vZmZzZXRUb3AsbGVmdDphLm9mZnNldExlZnQsd2lkdGg6YS5vZmZzZXRXaWR0aCxoZWlnaHQ6YS5vZmZzZXRIZWlnaHR9fXZhciBkPSh3aW5kb3cucGFnZVhPZmZzZXR8fGRvY3VtZW50LnNjcm9sbExlZnR8fDApLShkb2N1bWVudC5jbGllbnRMZWZ0fHxkb2N1bWVudC5ib2R5LmNsaWVudExlZnR8fDApLGU9KHdpbmRvdy5wYWdlWU9mZnNldHx8ZG9jdW1lbnQuc2Nyb2xsVG9wfHwwKS0oZG9jdW1lbnQuY2xpZW50VG9wfHxkb2N1bWVudC5ib2R5LmNsaWVudFRvcHx8MCksZj13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZT9nZXRDb21wdXRlZFN0eWxlKGEpOmEuY3VycmVudFN0eWxlLGc9cGFyc2VJbnQoZi5wYWRkaW5nTGVmdCkrcGFyc2VJbnQoZi5ib3JkZXJMZWZ0V2lkdGgpLGg9cGFyc2VJbnQoZi5wYWRkaW5nVG9wKStwYXJzZUludChmLmJvcmRlclRvcFdpZHRoKSxpPXBhcnNlSW50KGYucGFkZGluZ1JpZ2h0KStwYXJzZUludChmLmJvcmRlclJpZ2h0V2lkdGgpLGo9cGFyc2VJbnQoZi5wYWRkaW5nQm90dG9tKStwYXJzZUludChmLmJvcmRlckJvdHRvbVdpZHRoKTtyZXR1cm57bGVmdDpiLmxlZnQrZCtnLHJpZ2h0OmIucmlnaHQrZC1pLHRvcDpiLnRvcCtlK2gsYm90dG9tOmIuYm90dG9tK2Utan19LGIuX2dldFBvaW50ZXJEYXRhPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX3BvaW50ZXJEYXRhW2FdO3JldHVybiBifHwoYj10aGlzLl9wb2ludGVyRGF0YVthXT17eDowLHk6MH0sbnVsbD09dGhpcy5fcHJpbWFyeVBvaW50ZXJJRCYmKHRoaXMuX3ByaW1hcnlQb2ludGVySUQ9YSkpLGJ9LGIuX2hhbmRsZU1vdXNlTW92ZT1mdW5jdGlvbihhKXthfHwoYT13aW5kb3cuZXZlbnQpLHRoaXMuX2hhbmRsZVBvaW50ZXJNb3ZlKC0xLGEsYS5wYWdlWCxhLnBhZ2VZKX0sYi5faGFuZGxlUG9pbnRlck1vdmU9ZnVuY3Rpb24oYSxiLGMsZCl7aWYodGhpcy5jYW52YXMpe3ZhciBlPXRoaXMuX2dldFBvaW50ZXJEYXRhKGEpLGY9ZS5pbkJvdW5kcztpZih0aGlzLl91cGRhdGVQb2ludGVyUG9zaXRpb24oYSxiLGMsZCksZnx8ZS5pbkJvdW5kc3x8dGhpcy5tb3VzZU1vdmVPdXRzaWRlKXstMT09YSYmZS5pbkJvdW5kcz09IWYmJnRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudCh0aGlzLGY/Im1vdXNlbGVhdmUiOiJtb3VzZWVudGVyIiwhMSxhLGUsYiksdGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KHRoaXMsInN0YWdlbW91c2Vtb3ZlIiwhMSxhLGUsYiksdGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KGUudGFyZ2V0LCJwcmVzc21vdmUiLCEwLGEsZSxiKTt2YXIgZz1lLmV2ZW50O2cmJmcuaGFzRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIikmJmcuZGlzcGF0Y2hFdmVudChuZXcgY3JlYXRlanMuTW91c2VFdmVudCgibW91c2Vtb3ZlIiwhMSwhMSxlLngsZS55LGIsYSxhPT10aGlzLl9wcmltYXJ5UG9pbnRlcklELGUucmF3WCxlLnJhd1kpLG9UYXJnZXQpLHRoaXMubmV4dFN0YWdlJiZ0aGlzLm5leHRTdGFnZS5faGFuZGxlUG9pbnRlck1vdmUoYSxiLGMsZCl9fX0sYi5fdXBkYXRlUG9pbnRlclBvc2l0aW9uPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuX2dldEVsZW1lbnRSZWN0KHRoaXMuY2FudmFzKTtjLT1lLmxlZnQsZC09ZS50b3A7dmFyIGY9dGhpcy5jYW52YXMud2lkdGgsZz10aGlzLmNhbnZhcy5oZWlnaHQ7Yy89KGUucmlnaHQtZS5sZWZ0KS9mLGQvPShlLmJvdHRvbS1lLnRvcCkvZzt2YXIgaD10aGlzLl9nZXRQb2ludGVyRGF0YShhKTsoaC5pbkJvdW5kcz1jPj0wJiZkPj0wJiZmLTE+PWMmJmctMT49ZCk/KGgueD1jLGgueT1kKTp0aGlzLm1vdXNlTW92ZU91dHNpZGUmJihoLng9MD5jPzA6Yz5mLTE/Zi0xOmMsaC55PTA+ZD8wOmQ+Zy0xP2ctMTpkKSxoLnBvc0V2dE9iaj1iLGgucmF3WD1jLGgucmF3WT1kLGE9PXRoaXMuX3ByaW1hcnlQb2ludGVySUQmJih0aGlzLm1vdXNlWD1oLngsdGhpcy5tb3VzZVk9aC55LHRoaXMubW91c2VJbkJvdW5kcz1oLmluQm91bmRzKX0sYi5faGFuZGxlTW91c2VVcD1mdW5jdGlvbihhKXt0aGlzLl9oYW5kbGVQb2ludGVyVXAoLTEsYSwhMSl9LGIuX2hhbmRsZVBvaW50ZXJVcD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5fZ2V0UG9pbnRlckRhdGEoYSk7dGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KHRoaXMsInN0YWdlbW91c2V1cCIsITEsYSxkLGIpO3ZhciBlPWQudGFyZ2V0O2UmJih0aGlzLl9nZXRPYmplY3RzVW5kZXJQb2ludChkLngsZC55LG51bGwsITApPT1lJiZ0aGlzLl9kaXNwYXRjaE1vdXNlRXZlbnQoZSwiY2xpY2siLCEwLGEsZCxiKSx0aGlzLl9kaXNwYXRjaE1vdXNlRXZlbnQoZSwicHJlc3N1cCIsITAsYSxkLGIpKTt2YXIgZj1kLmV2ZW50O2YmJmYuaGFzRXZlbnRMaXN0ZW5lcigibW91c2V1cCIpJiZmLmRpc3BhdGNoRXZlbnQobmV3IGNyZWF0ZWpzLk1vdXNlRXZlbnQoIm1vdXNldXAiLCExLCExLGQueCxkLnksYixhLGE9PXRoaXMuX3ByaW1hcnlQb2ludGVySUQsZC5yYXdYLGQucmF3WSksZSksYz8oYT09dGhpcy5fcHJpbWFyeVBvaW50ZXJJRCYmKHRoaXMuX3ByaW1hcnlQb2ludGVySUQ9bnVsbCksZGVsZXRlIHRoaXMuX3BvaW50ZXJEYXRhW2FdKTpkLmV2ZW50PWQudGFyZ2V0PW51bGwsdGhpcy5uZXh0U3RhZ2UmJnRoaXMubmV4dFN0YWdlLl9oYW5kbGVQb2ludGVyVXAoYSxiLGMpfSxiLl9oYW5kbGVNb3VzZURvd249ZnVuY3Rpb24oYSl7dGhpcy5faGFuZGxlUG9pbnRlckRvd24oLTEsYSl9LGIuX2hhbmRsZVBvaW50ZXJEb3duPWZ1bmN0aW9uKGEsYixjLGQpe251bGwhPWQmJnRoaXMuX3VwZGF0ZVBvaW50ZXJQb3NpdGlvbihhLGIsYyxkKTt2YXIgZT10aGlzLl9nZXRQb2ludGVyRGF0YShhKTt0aGlzLl9kaXNwYXRjaE1vdXNlRXZlbnQodGhpcywic3RhZ2Vtb3VzZWRvd24iLCExLGEsZSxiKSxlLnRhcmdldD10aGlzLl9nZXRPYmplY3RzVW5kZXJQb2ludChlLngsZS55LG51bGwsITApLHRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudChlLnRhcmdldCwibW91c2Vkb3duIiwhMCxhLGUsYiksdGhpcy5uZXh0U3RhZ2UmJnRoaXMubmV4dFN0YWdlLl9oYW5kbGVQb2ludGVyRG93bihhLGIsYyxkKX0sYi5fdGVzdE1vdXNlT3Zlcj1mdW5jdGlvbihhKXtpZigtMT09dGhpcy5fcHJpbWFyeVBvaW50ZXJJRCYmKGF8fHRoaXMubW91c2VYIT10aGlzLl9tb3VzZU92ZXJYfHx0aGlzLm1vdXNlWSE9dGhpcy5fbW91c2VPdmVyWXx8IXRoaXMubW91c2VJbkJvdW5kcykpe3ZhciBiLGMsZCxlLGY9dGhpcy5fZ2V0UG9pbnRlckRhdGEoLTEpLGc9Zi5wb3NFdnRPYmosaD0tMSxpPSIiOyhhfHx0aGlzLm1vdXNlSW5Cb3VuZHMmJmcmJmcudGFyZ2V0PT10aGlzLmNhbnZhcykmJihiPXRoaXMuX2dldE9iamVjdHNVbmRlclBvaW50KHRoaXMubW91c2VYLHRoaXMubW91c2VZLG51bGwsITApLHRoaXMuX21vdXNlT3Zlclg9dGhpcy5tb3VzZVgsdGhpcy5fbW91c2VPdmVyWT10aGlzLm1vdXNlWSk7dmFyIGo9dGhpcy5fbW91c2VPdmVyVGFyZ2V0fHxbXSxrPWpbai5sZW5ndGgtMV0sbD10aGlzLl9tb3VzZU92ZXJUYXJnZXQ9W107Zm9yKGM9YjtjOylsLnVuc2hpZnQoYyksbnVsbCE9Yy5jdXJzb3ImJihpPWMuY3Vyc29yKSxjPWMucGFyZW50O2Zvcih0aGlzLmNhbnZhcy5zdHlsZS5jdXJzb3I9aSxkPTAsZT1sLmxlbmd0aDtlPmQmJmxbZF09PWpbZF07ZCsrKWg9ZDtmb3IoayE9YiYmdGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KGssIm1vdXNlb3V0IiwhMCwtMSxmLGcpLGQ9ai5sZW5ndGgtMTtkPmg7ZC0tKXRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudChqW2RdLCJyb2xsb3V0IiwhMSwtMSxmLGcpO2ZvcihkPWwubGVuZ3RoLTE7ZD5oO2QtLSl0aGlzLl9kaXNwYXRjaE1vdXNlRXZlbnQobFtkXSwicm9sbG92ZXIiLCExLC0xLGYsZyk7ayE9YiYmdGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KGIsIm1vdXNlb3ZlciIsITAsLTEsZixnKX19LGIuX2hhbmRsZURvdWJsZUNsaWNrPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX2dldFBvaW50ZXJEYXRhKC0xKSxjPXRoaXMuX2dldE9iamVjdHNVbmRlclBvaW50KGIueCxiLnksbnVsbCwhMCk7dGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KGMsImRibGNsaWNrIiwhMCwtMSxiLGEpLHRoaXMubmV4dFN0YWdlJiZ0aGlzLm5leHRTdGFnZS5faGFuZGxlRG91YmxlQ2xpY2soYSl9LGIuX2Rpc3BhdGNoTW91c2VFdmVudD1mdW5jdGlvbihhLGIsYyxkLGUsZil7aWYoYSYmKGN8fGEuaGFzRXZlbnRMaXN0ZW5lcihiKSkpe3ZhciBnPW5ldyBjcmVhdGVqcy5Nb3VzZUV2ZW50KGIsYywhMSxlLngsZS55LGYsZCxkPT10aGlzLl9wcmltYXJ5UG9pbnRlcklELGUucmF3WCxlLnJhd1kpO2EuZGlzcGF0Y2hFdmVudChnKX19LGNyZWF0ZWpzLlN0YWdlPWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEpe3RoaXMuaW5pdGlhbGl6ZShhKX0sYj1hLnByb3RvdHlwZT1uZXcgY3JlYXRlanMuRGlzcGxheU9iamVjdDtiLmltYWdlPW51bGwsYi5zbmFwVG9QaXhlbD0hMCxiLnNvdXJjZVJlY3Q9bnVsbCxiLkRpc3BsYXlPYmplY3RfaW5pdGlhbGl6ZT1iLmluaXRpYWxpemUsYi5pbml0aWFsaXplPWZ1bmN0aW9uKGEpe3RoaXMuRGlzcGxheU9iamVjdF9pbml0aWFsaXplKCksInN0cmluZyI9PXR5cGVvZiBhPyh0aGlzLmltYWdlPW5ldyBJbWFnZSx0aGlzLmltYWdlLnNyYz1hKTp0aGlzLmltYWdlPWF9LGIuaXNWaXNpYmxlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jYWNoZUNhbnZhc3x8dGhpcy5pbWFnZSYmKHRoaXMuaW1hZ2UuY29tcGxldGV8fHRoaXMuaW1hZ2UuZ2V0Q29udGV4dHx8dGhpcy5pbWFnZS5yZWFkeVN0YXRlPj0yKTtyZXR1cm4hISh0aGlzLnZpc2libGUmJnRoaXMuYWxwaGE+MCYmMCE9dGhpcy5zY2FsZVgmJjAhPXRoaXMuc2NhbGVZJiZhKX0sYi5EaXNwbGF5T2JqZWN0X2RyYXc9Yi5kcmF3LGIuZHJhdz1mdW5jdGlvbihhLGIpe2lmKHRoaXMuRGlzcGxheU9iamVjdF9kcmF3KGEsYikpcmV0dXJuITA7dmFyIGM9dGhpcy5zb3VyY2VSZWN0O3JldHVybiBjP2EuZHJhd0ltYWdlKHRoaXMuaW1hZ2UsYy54LGMueSxjLndpZHRoLGMuaGVpZ2h0LDAsMCxjLndpZHRoLGMuaGVpZ2h0KTphLmRyYXdJbWFnZSh0aGlzLmltYWdlLDAsMCksITB9LGIuRGlzcGxheU9iamVjdF9nZXRCb3VuZHM9Yi5nZXRCb3VuZHMsYi5nZXRCb3VuZHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLkRpc3BsYXlPYmplY3RfZ2V0Qm91bmRzKCk7aWYoYSlyZXR1cm4gYTt2YXIgYj10aGlzLnNvdXJjZVJlY3R8fHRoaXMuaW1hZ2UsYz10aGlzLmltYWdlJiYodGhpcy5pbWFnZS5jb21wbGV0ZXx8dGhpcy5pbWFnZS5nZXRDb250ZXh0fHx0aGlzLmltYWdlLnJlYWR5U3RhdGU+PTIpO3JldHVybiBjP3RoaXMuX3JlY3RhbmdsZS5pbml0aWFsaXplKDAsMCxiLndpZHRoLGIuaGVpZ2h0KTpudWxsfSxiLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGI9bmV3IGEodGhpcy5pbWFnZSk7cmV0dXJuIHRoaXMuc291cmNlUmVjdCYmKGIuc291cmNlUmVjdD10aGlzLnNvdXJjZVJlY3QuY2xvbmUoKSksdGhpcy5jbG9uZVByb3BzKGIpLGJ9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW0JpdG1hcCAobmFtZT0iK3RoaXMubmFtZSsiKV0ifSxjcmVhdGVqcy5CaXRtYXA9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKGEsYil7dGhpcy5pbml0aWFsaXplKGEsYil9LGI9YS5wcm90b3R5cGU9bmV3IGNyZWF0ZWpzLkRpc3BsYXlPYmplY3Q7Yi5jdXJyZW50RnJhbWU9MCxiLmN1cnJlbnRBbmltYXRpb249bnVsbCxiLnBhdXNlZD0hMCxiLnNwcml0ZVNoZWV0PW51bGwsYi5zbmFwVG9QaXhlbD0hMCxiLm9mZnNldD0wLGIuY3VycmVudEFuaW1hdGlvbkZyYW1lPTAsYi5mcmFtZXJhdGU9MCxiLl9hZHZhbmNlQ291bnQ9MCxiLl9hbmltYXRpb249bnVsbCxiLl9jdXJyZW50RnJhbWU9bnVsbCxiLkRpc3BsYXlPYmplY3RfaW5pdGlhbGl6ZT1iLmluaXRpYWxpemUsYi5pbml0aWFsaXplPWZ1bmN0aW9uKGEsYil7dGhpcy5EaXNwbGF5T2JqZWN0X2luaXRpYWxpemUoKSx0aGlzLnNwcml0ZVNoZWV0PWEsYiYmdGhpcy5nb3RvQW5kUGxheShiKX0sYi5pc1Zpc2libGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNhY2hlQ2FudmFzfHx0aGlzLnNwcml0ZVNoZWV0LmNvbXBsZXRlO3JldHVybiEhKHRoaXMudmlzaWJsZSYmdGhpcy5hbHBoYT4wJiYwIT10aGlzLnNjYWxlWCYmMCE9dGhpcy5zY2FsZVkmJmEpfSxiLkRpc3BsYXlPYmplY3RfZHJhdz1iLmRyYXcsYi5kcmF3PWZ1bmN0aW9uKGEsYil7aWYodGhpcy5EaXNwbGF5T2JqZWN0X2RyYXcoYSxiKSlyZXR1cm4hMDt0aGlzLl9ub3JtYWxpemVGcmFtZSgpO3ZhciBjPXRoaXMuc3ByaXRlU2hlZXQuZ2V0RnJhbWUoMHx0aGlzLl9jdXJyZW50RnJhbWUpO2lmKCFjKXJldHVybiExO3ZhciBkPWMucmVjdDtyZXR1cm4gYS5kcmF3SW1hZ2UoYy5pbWFnZSxkLngsZC55LGQud2lkdGgsZC5oZWlnaHQsLWMucmVnWCwtYy5yZWdZLGQud2lkdGgsZC5oZWlnaHQpLCEwfSxiLnBsYXk9ZnVuY3Rpb24oKXt0aGlzLnBhdXNlZD0hMX0sYi5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5wYXVzZWQ9ITB9LGIuZ290b0FuZFBsYXk9ZnVuY3Rpb24oYSl7dGhpcy5wYXVzZWQ9ITEsdGhpcy5fZ290byhhKX0sYi5nb3RvQW5kU3RvcD1mdW5jdGlvbihhKXt0aGlzLnBhdXNlZD0hMCx0aGlzLl9nb3RvKGEpfSxiLmFkdmFuY2U9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fYW5pbWF0aW9uJiZ0aGlzLl9hbmltYXRpb24uc3BlZWR8fDEsYz10aGlzLmZyYW1lcmF0ZXx8dGhpcy5zcHJpdGVTaGVldC5mcmFtZXJhdGUsZD1jJiZudWxsIT1hP2EvKDFlMy9jKToxO3RoaXMuX2FuaW1hdGlvbj90aGlzLmN1cnJlbnRBbmltYXRpb25GcmFtZSs9ZCpiOnRoaXMuX2N1cnJlbnRGcmFtZSs9ZCpiLHRoaXMuX25vcm1hbGl6ZUZyYW1lKCl9LGIuRGlzcGxheU9iamVjdF9nZXRCb3VuZHM9Yi5nZXRCb3VuZHMsYi5nZXRCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5EaXNwbGF5T2JqZWN0X2dldEJvdW5kcygpfHx0aGlzLnNwcml0ZVNoZWV0LmdldEZyYW1lQm91bmRzKHRoaXMuY3VycmVudEZyYW1lLHRoaXMuX3JlY3RhbmdsZSl9LGIuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYj1uZXcgYSh0aGlzLnNwcml0ZVNoZWV0KTtyZXR1cm4gdGhpcy5jbG9uZVByb3BzKGIpLGJ9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW1Nwcml0ZSAobmFtZT0iK3RoaXMubmFtZSsiKV0ifSxiLkRpc3BsYXlPYmplY3RfX3RpY2s9Yi5fdGljayxiLl90aWNrPWZ1bmN0aW9uKGEpe3RoaXMucGF1c2VkfHx0aGlzLmFkdmFuY2UoYSYmYVswXSYmYVswXS5kZWx0YSksdGhpcy5EaXNwbGF5T2JqZWN0X190aWNrKGEpfSxiLl9ub3JtYWxpemVGcmFtZT1mdW5jdGlvbigpe3ZhciBhLGI9dGhpcy5fYW5pbWF0aW9uLGM9dGhpcy5wYXVzZWQsZD10aGlzLl9jdXJyZW50RnJhbWUsZT10aGlzLmN1cnJlbnRBbmltYXRpb25GcmFtZTtpZihiKWlmKGE9Yi5mcmFtZXMubGVuZ3RoLCgwfGUpPj1hKXt2YXIgZj1iLm5leHQ7aWYodGhpcy5fZGlzcGF0Y2hBbmltYXRpb25FbmQoYixkLGMsZixhLTEpKTtlbHNle2lmKGYpcmV0dXJuIHRoaXMuX2dvdG8oZixlLWEpO3RoaXMucGF1c2VkPSEwLGU9dGhpcy5jdXJyZW50QW5pbWF0aW9uRnJhbWU9Yi5mcmFtZXMubGVuZ3RoLTEsdGhpcy5fY3VycmVudEZyYW1lPWIuZnJhbWVzW2VdfX1lbHNlIHRoaXMuX2N1cnJlbnRGcmFtZT1iLmZyYW1lc1swfGVdO2Vsc2UgaWYoYT10aGlzLnNwcml0ZVNoZWV0LmdldE51bUZyYW1lcygpLGQ+PWEmJiF0aGlzLl9kaXNwYXRjaEFuaW1hdGlvbkVuZChiLGQsYyxhLTEpJiYodGhpcy5fY3VycmVudEZyYW1lLT1hKT49YSlyZXR1cm4gdGhpcy5fbm9ybWFsaXplRnJhbWUoKTt0aGlzLmN1cnJlbnRGcmFtZT0wfHRoaXMuX2N1cnJlbnRGcmFtZX0sYi5fZGlzcGF0Y2hBbmltYXRpb25FbmQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1hP2EubmFtZTpudWxsO2lmKHRoaXMuaGFzRXZlbnRMaXN0ZW5lcigiYW5pbWF0aW9uZW5kIikpe3ZhciBnPW5ldyBjcmVhdGVqcy5FdmVudCgiYW5pbWF0aW9uZW5kIik7Zy5uYW1lPWYsZy5uZXh0PWQsdGhpcy5kaXNwYXRjaEV2ZW50KGcpfXJldHVybiFjJiZ0aGlzLnBhdXNlZCYmKHRoaXMuY3VycmVudEFuaW1hdGlvbkZyYW1lPWUpLHRoaXMucGF1c2VkIT1jfHx0aGlzLl9hbmltYXRpb24hPWF8fHRoaXMuX2N1cnJlbnRGcmFtZSE9Yn0sYi5EaXNwbGF5T2JqZWN0X2Nsb25lUHJvcHM9Yi5jbG9uZVByb3BzLGIuY2xvbmVQcm9wcz1mdW5jdGlvbihhKXt0aGlzLkRpc3BsYXlPYmplY3RfY2xvbmVQcm9wcyhhKSxhLmN1cnJlbnRGcmFtZT10aGlzLmN1cnJlbnRGcmFtZSxhLl9jdXJyZW50RnJhbWU9dGhpcy5fY3VycmVudEZyYW1lLGEuY3VycmVudEFuaW1hdGlvbj10aGlzLmN1cnJlbnRBbmltYXRpb24sYS5wYXVzZWQ9dGhpcy5wYXVzZWQsYS5fYW5pbWF0aW9uPXRoaXMuX2FuaW1hdGlvbixhLmN1cnJlbnRBbmltYXRpb25GcmFtZT10aGlzLmN1cnJlbnRBbmltYXRpb25GcmFtZSxhLmZyYW1lcmF0ZT10aGlzLmZyYW1lcmF0ZX0sYi5fZ290bz1mdW5jdGlvbihhLGIpe2lmKGlzTmFOKGEpKXt2YXIgYz10aGlzLnNwcml0ZVNoZWV0LmdldEFuaW1hdGlvbihhKTtjJiYodGhpcy5jdXJyZW50QW5pbWF0aW9uRnJhbWU9Ynx8MCx0aGlzLl9hbmltYXRpb249Yyx0aGlzLmN1cnJlbnRBbmltYXRpb249YSx0aGlzLl9ub3JtYWxpemVGcmFtZSgpKX1lbHNlIHRoaXMuY3VycmVudEFuaW1hdGlvbkZyYW1lPTAsdGhpcy5jdXJyZW50QW5pbWF0aW9uPXRoaXMuX2FuaW1hdGlvbj1udWxsLHRoaXMuX2N1cnJlbnRGcmFtZT1hLHRoaXMuX25vcm1hbGl6ZUZyYW1lKCl9LGNyZWF0ZWpzLlNwcml0ZT1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9IkJpdG1hcEFuaW1hdGlvbiBpcyBkZXByZWNhdGVkIGluIGZhdm91ciBvZiBTcHJpdGUuIFNlZSBWRVJTSU9OUyBmaWxlIGZvciBpbmZvIG9uIGNoYW5nZXMuIjtpZighY3JlYXRlanMuU3ByaXRlKXRocm93IGE7KGNyZWF0ZWpzLkJpdG1hcEFuaW1hdGlvbj1mdW5jdGlvbihiKXtjb25zb2xlLmxvZyhhKSx0aGlzLmluaXRpYWxpemUoYil9KS5wcm90b3R5cGU9bmV3IGNyZWF0ZWpzLlNwcml0ZX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKGEpe3RoaXMuaW5pdGlhbGl6ZShhKX0sYj1hLnByb3RvdHlwZT1uZXcgY3JlYXRlanMuRGlzcGxheU9iamVjdDtiLmdyYXBoaWNzPW51bGwsYi5EaXNwbGF5T2JqZWN0X2luaXRpYWxpemU9Yi5pbml0aWFsaXplLGIuaW5pdGlhbGl6ZT1mdW5jdGlvbihhKXt0aGlzLkRpc3BsYXlPYmplY3RfaW5pdGlhbGl6ZSgpLHRoaXMuZ3JhcGhpY3M9YT9hOm5ldyBjcmVhdGVqcy5HcmFwaGljc30sYi5pc1Zpc2libGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNhY2hlQ2FudmFzfHx0aGlzLmdyYXBoaWNzJiYhdGhpcy5ncmFwaGljcy5pc0VtcHR5KCk7cmV0dXJuISEodGhpcy52aXNpYmxlJiZ0aGlzLmFscGhhPjAmJjAhPXRoaXMuc2NhbGVYJiYwIT10aGlzLnNjYWxlWSYmYSl9LGIuRGlzcGxheU9iamVjdF9kcmF3PWIuZHJhdyxiLmRyYXc9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5EaXNwbGF5T2JqZWN0X2RyYXcoYSxiKT8hMDoodGhpcy5ncmFwaGljcy5kcmF3KGEpLCEwKX0sYi5jbG9uZT1mdW5jdGlvbihiKXt2YXIgYz1uZXcgYShiJiZ0aGlzLmdyYXBoaWNzP3RoaXMuZ3JhcGhpY3MuY2xvbmUoKTp0aGlzLmdyYXBoaWNzKTtyZXR1cm4gdGhpcy5jbG9uZVByb3BzKGMpLGN9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW1NoYXBlIChuYW1lPSIrdGhpcy5uYW1lKyIpXSJ9LGNyZWF0ZWpzLlNoYXBlPWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbihhLGIsYyl7dGhpcy5pbml0aWFsaXplKGEsYixjKX0sYj1hLnByb3RvdHlwZT1uZXcgY3JlYXRlanMuRGlzcGxheU9iamVjdCxjPWNyZWF0ZWpzLmNyZWF0ZUNhbnZhcz9jcmVhdGVqcy5jcmVhdGVDYW52YXMoKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtjLmdldENvbnRleHQmJihhLl93b3JraW5nQ29udGV4dD1jLmdldENvbnRleHQoIjJkIiksYy53aWR0aD1jLmhlaWdodD0xKSxhLkhfT0ZGU0VUUz17c3RhcnQ6MCxsZWZ0OjAsY2VudGVyOi0uNSxlbmQ6LTEscmlnaHQ6LTF9LGEuVl9PRkZTRVRTPXt0b3A6MCxoYW5naW5nOi0uMDEsbWlkZGxlOi0uNCxhbHBoYWJldGljOi0uOCxpZGVvZ3JhcGhpYzotLjg1LGJvdHRvbTotMX0sYi50ZXh0PSIiLGIuZm9udD1udWxsLGIuY29sb3I9bnVsbCxiLnRleHRBbGlnbj0ibGVmdCIsYi50ZXh0QmFzZWxpbmU9InRvcCIsYi5tYXhXaWR0aD1udWxsLGIub3V0bGluZT0wLGIubGluZUhlaWdodD0wLGIubGluZVdpZHRoPW51bGwsYi5EaXNwbGF5T2JqZWN0X2luaXRpYWxpemU9Yi5pbml0aWFsaXplLGIuaW5pdGlhbGl6ZT1mdW5jdGlvbihhLGIsYyl7dGhpcy5EaXNwbGF5T2JqZWN0X2luaXRpYWxpemUoKSx0aGlzLnRleHQ9YSx0aGlzLmZvbnQ9Yix0aGlzLmNvbG9yPWN9LGIuaXNWaXNpYmxlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jYWNoZUNhbnZhc3x8bnVsbCE9dGhpcy50ZXh0JiYiIiE9PXRoaXMudGV4dDtyZXR1cm4hISh0aGlzLnZpc2libGUmJnRoaXMuYWxwaGE+MCYmMCE9dGhpcy5zY2FsZVgmJjAhPXRoaXMuc2NhbGVZJiZhKX0sYi5EaXNwbGF5T2JqZWN0X2RyYXc9Yi5kcmF3LGIuZHJhdz1mdW5jdGlvbihhLGIpe2lmKHRoaXMuRGlzcGxheU9iamVjdF9kcmF3KGEsYikpcmV0dXJuITA7dmFyIGM9dGhpcy5jb2xvcnx8IiMwMDAiO3JldHVybiB0aGlzLm91dGxpbmU/KGEuc3Ryb2tlU3R5bGU9YyxhLmxpbmVXaWR0aD0xKnRoaXMub3V0bGluZSk6YS5maWxsU3R5bGU9Yyx0aGlzLl9kcmF3VGV4dCh0aGlzLl9wcmVwQ29udGV4dChhKSksITB9LGIuZ2V0TWVhc3VyZWRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcmVwQ29udGV4dChhLl93b3JraW5nQ29udGV4dCkubWVhc3VyZVRleHQodGhpcy50ZXh0KS53aWR0aH0sYi5nZXRNZWFzdXJlZExpbmVIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gMS4yKnRoaXMuX3ByZXBDb250ZXh0KGEuX3dvcmtpbmdDb250ZXh0KS5tZWFzdXJlVGV4dCgiTSIpLndpZHRofSxiLmdldE1lYXN1cmVkSGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RyYXdUZXh0KG51bGwse30pLmhlaWdodH0sYi5EaXNwbGF5T2JqZWN0X2dldEJvdW5kcz1iLmdldEJvdW5kcyxiLmdldEJvdW5kcz1mdW5jdGlvbigpe3ZhciBiPXRoaXMuRGlzcGxheU9iamVjdF9nZXRCb3VuZHMoKTtpZihiKXJldHVybiBiO2lmKG51bGw9PXRoaXMudGV4dHx8IiI9PXRoaXMudGV4dClyZXR1cm4gbnVsbDt2YXIgYz10aGlzLl9kcmF3VGV4dChudWxsLHt9KSxkPXRoaXMubWF4V2lkdGgmJnRoaXMubWF4V2lkdGg8Yy53aWR0aD90aGlzLm1heFdpZHRoOmMud2lkdGgsZT1kKmEuSF9PRkZTRVRTW3RoaXMudGV4dEFsaWdufHwibGVmdCJdLGY9dGhpcy5saW5lSGVpZ2h0fHx0aGlzLmdldE1lYXN1cmVkTGluZUhlaWdodCgpLGc9ZiphLlZfT0ZGU0VUU1t0aGlzLnRleHRCYXNlbGluZXx8InRvcCJdO3JldHVybiB0aGlzLl9yZWN0YW5nbGUuaW5pdGlhbGl6ZShlLGcsZCxjLmhlaWdodCl9LGIuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYj1uZXcgYSh0aGlzLnRleHQsdGhpcy5mb250LHRoaXMuY29sb3IpO3JldHVybiB0aGlzLmNsb25lUHJvcHMoYiksYn0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbVGV4dCAodGV4dD0iKyh0aGlzLnRleHQubGVuZ3RoPjIwP3RoaXMudGV4dC5zdWJzdHIoMCwxNykrIi4uLiI6dGhpcy50ZXh0KSsiKV0ifSxiLkRpc3BsYXlPYmplY3RfY2xvbmVQcm9wcz1iLmNsb25lUHJvcHMsYi5jbG9uZVByb3BzPWZ1bmN0aW9uKGEpe3RoaXMuRGlzcGxheU9iamVjdF9jbG9uZVByb3BzKGEpLGEudGV4dEFsaWduPXRoaXMudGV4dEFsaWduLGEudGV4dEJhc2VsaW5lPXRoaXMudGV4dEJhc2VsaW5lLGEubWF4V2lkdGg9dGhpcy5tYXhXaWR0aCxhLm91dGxpbmU9dGhpcy5vdXRsaW5lLGEubGluZUhlaWdodD10aGlzLmxpbmVIZWlnaHQsYS5saW5lV2lkdGg9dGhpcy5saW5lV2lkdGh9LGIuX3ByZXBDb250ZXh0PWZ1bmN0aW9uKGEpe3JldHVybiBhLmZvbnQ9dGhpcy5mb250LGEudGV4dEFsaWduPXRoaXMudGV4dEFsaWdufHwibGVmdCIsYS50ZXh0QmFzZWxpbmU9dGhpcy50ZXh0QmFzZWxpbmV8fCJ0b3AiLGF9LGIuX2RyYXdUZXh0PWZ1bmN0aW9uKGIsYyl7dmFyIGQ9ISFiO2R8fChiPXRoaXMuX3ByZXBDb250ZXh0KGEuX3dvcmtpbmdDb250ZXh0KSk7Zm9yKHZhciBlPXRoaXMubGluZUhlaWdodHx8dGhpcy5nZXRNZWFzdXJlZExpbmVIZWlnaHQoKSxmPTAsZz0wLGg9U3RyaW5nKHRoaXMudGV4dCkuc3BsaXQoLyg/OlxyXG58XHJ8XG4pLyksaT0wLGo9aC5sZW5ndGg7aj5pO2krKyl7dmFyIGs9aFtpXSxsPW51bGw7aWYobnVsbCE9dGhpcy5saW5lV2lkdGgmJihsPWIubWVhc3VyZVRleHQoaykud2lkdGgpPnRoaXMubGluZVdpZHRoKXt2YXIgbT1rLnNwbGl0KC8oXHMpLyk7az1tWzBdLGw9Yi5tZWFzdXJlVGV4dChrKS53aWR0aDtmb3IodmFyIG49MSxvPW0ubGVuZ3RoO28+bjtuKz0yKXt2YXIgcD1iLm1lYXN1cmVUZXh0KG1bbl0rbVtuKzFdKS53aWR0aDtsK3A+dGhpcy5saW5lV2lkdGg/KGQmJnRoaXMuX2RyYXdUZXh0TGluZShiLGssZyplKSxsPmYmJihmPWwpLGs9bVtuKzFdLGw9Yi5tZWFzdXJlVGV4dChrKS53aWR0aCxnKyspOihrKz1tW25dK21bbisxXSxsKz1wKX19ZCYmdGhpcy5fZHJhd1RleHRMaW5lKGIsayxnKmUpLGMmJm51bGw9PWwmJihsPWIubWVhc3VyZVRleHQoaykud2lkdGgpLGw+ZiYmKGY9bCksZysrfXJldHVybiBjJiYoYy5jb3VudD1nLGMud2lkdGg9ZixjLmhlaWdodD1nKmUpLGN9LGIuX2RyYXdUZXh0TGluZT1mdW5jdGlvbihhLGIsYyl7dGhpcy5vdXRsaW5lP2Euc3Ryb2tlVGV4dChiLDAsYyx0aGlzLm1heFdpZHRofHw2NTUzNSk6YS5maWxsVGV4dChiLDAsYyx0aGlzLm1heFdpZHRofHw2NTUzNSl9LGNyZWF0ZWpzLlRleHQ9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGEoYSxiKXt0aGlzLmluaXRpYWxpemUoYSxiKX12YXIgYj1hLnByb3RvdHlwZT1uZXcgY3JlYXRlanMuRGlzcGxheU9iamVjdDtiLnRleHQ9IiIsYi5zcHJpdGVTaGVldD1udWxsLGIubGluZUhlaWdodD0wLGIubGV0dGVyU3BhY2luZz0wLGIuc3BhY2VXaWR0aD0wLGIuRGlzcGxheU9iamVjdF9pbml0aWFsaXplPWIuaW5pdGlhbGl6ZSxiLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLkRpc3BsYXlPYmplY3RfaW5pdGlhbGl6ZSgpLHRoaXMudGV4dD1hLHRoaXMuc3ByaXRlU2hlZXQ9Yn0sYi5EaXNwbGF5T2JqZWN0X2RyYXc9Yi5kcmF3LGIuZHJhdz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLkRpc3BsYXlPYmplY3RfZHJhdyhhLGIpPyEwOih0aGlzLl9kcmF3VGV4dChhKSx2b2lkIDApfSxiLmlzVmlzaWJsZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuY2FjaGVDYW52YXN8fHRoaXMuc3ByaXRlU2hlZXQmJnRoaXMuc3ByaXRlU2hlZXQuY29tcGxldGUmJnRoaXMudGV4dDtyZXR1cm4hISh0aGlzLnZpc2libGUmJnRoaXMuYWxwaGE+MCYmMCE9dGhpcy5zY2FsZVgmJjAhPXRoaXMuc2NhbGVZJiZhKX0sYi5nZXRCb3VuZHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9yZWN0YW5nbGU7cmV0dXJuIHRoaXMuX2RyYXdUZXh0KG51bGwsYSksYS53aWR0aD9hOm51bGx9LGIuX2dldEZyYW1lPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1iLmdldEFuaW1hdGlvbihhKTtyZXR1cm4gZHx8KGEhPShjPWEudG9VcHBlckNhc2UoKSl8fGEhPShjPWEudG9Mb3dlckNhc2UoKSl8fChjPW51bGwpLGMmJihkPWIuZ2V0QW5pbWF0aW9uKGMpKSksZCYmYi5nZXRGcmFtZShkLmZyYW1lc1swXSl9LGIuX2dldExpbmVIZWlnaHQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fZ2V0RnJhbWUoIjEiLGEpfHx0aGlzLl9nZXRGcmFtZSgiVCIsYSl8fHRoaXMuX2dldEZyYW1lKCJMIixhKXx8YS5nZXRGcmFtZSgwKTtyZXR1cm4gYj9iLnJlY3QuaGVpZ2h0OjF9LGIuX2dldFNwYWNlV2lkdGg9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fZ2V0RnJhbWUoIjEiLGEpfHx0aGlzLl9nZXRGcmFtZSgibCIsYSl8fHRoaXMuX2dldEZyYW1lKCJlIixhKXx8dGhpcy5fZ2V0RnJhbWUoImEiLGEpfHxhLmdldEZyYW1lKDApO3JldHVybiBiP2IucmVjdC53aWR0aDoxfSxiLl9kcmF3VGV4dD1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPTAsZz0wLGg9dGhpcy5zcGFjZVdpZHRoLGk9dGhpcy5saW5lSGVpZ2h0LGo9dGhpcy5zcHJpdGVTaGVldCxrPSEhdGhpcy5fZ2V0RnJhbWUoIiAiLGopO2t8fDAhPWh8fChoPXRoaXMuX2dldFNwYWNlV2lkdGgoaikpLDA9PWkmJihpPXRoaXMuX2dldExpbmVIZWlnaHQoaikpO2Zvcih2YXIgbD0wLG09MCxuPXRoaXMudGV4dC5sZW5ndGg7bj5tO20rKyl7dmFyIG89dGhpcy50ZXh0LmNoYXJBdChtKTtpZihrfHwiICIhPW8paWYoIlxuIiE9byYmIlxyIiE9byl7dmFyIHA9dGhpcy5fZ2V0RnJhbWUobyxqKTtpZihwKXt2YXIgcT1wLnJlY3Q7ZT1wLnJlZ1gsYz1xLndpZHRoLGEmJmEuZHJhd0ltYWdlKHAuaW1hZ2UscS54LHEueSxjLGQ9cS5oZWlnaHQsZi1lLGctcC5yZWdZLGMsZCksZis9Yyt0aGlzLmxldHRlclNwYWNpbmd9fWVsc2UiXHIiPT1vJiYiXG4iPT10aGlzLnRleHQuY2hhckF0KG0rMSkmJm0rKyxmLWU+bCYmKGw9Zi1lKSxmPTAsZys9aTtlbHNlIGYrPWh9Zi1lPmwmJihsPWYtZSksYiYmKGIud2lkdGg9bC10aGlzLmxldHRlclNwYWNpbmcsYi5oZWlnaHQ9ZytpKX0sY3JlYXRlanMuQml0bWFwVGV4dD1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9ZnVuY3Rpb24oKXt0aHJvdyJTcHJpdGVTaGVldFV0aWxzIGNhbm5vdCBiZSBpbnN0YW50aWF0ZWQifSxiPWNyZWF0ZWpzLmNyZWF0ZUNhbnZhcz9jcmVhdGVqcy5jcmVhdGVDYW52YXMoKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtiLmdldENvbnRleHQmJihhLl93b3JraW5nQ2FudmFzPWIsYS5fd29ya2luZ0NvbnRleHQ9Yi5nZXRDb250ZXh0KCIyZCIpLGIud2lkdGg9Yi5oZWlnaHQ9MSksYS5hZGRGbGlwcGVkRnJhbWVzPWZ1bmN0aW9uKGIsYyxkLGUpe2lmKGN8fGR8fGUpe3ZhciBmPTA7YyYmYS5fZmxpcChiLCsrZiwhMCwhMSksZCYmYS5fZmxpcChiLCsrZiwhMSwhMCksZSYmYS5fZmxpcChiLCsrZiwhMCwhMCl9fSxhLmV4dHJhY3RGcmFtZT1mdW5jdGlvbihiLGMpe2lzTmFOKGMpJiYoYz1iLmdldEFuaW1hdGlvbihjKS5mcmFtZXNbMF0pO3ZhciBkPWIuZ2V0RnJhbWUoYyk7aWYoIWQpcmV0dXJuIG51bGw7dmFyIGU9ZC5yZWN0LGY9YS5fd29ya2luZ0NhbnZhcztmLndpZHRoPWUud2lkdGgsZi5oZWlnaHQ9ZS5oZWlnaHQsYS5fd29ya2luZ0NvbnRleHQuZHJhd0ltYWdlKGQuaW1hZ2UsZS54LGUueSxlLndpZHRoLGUuaGVpZ2h0LDAsMCxlLndpZHRoLGUuaGVpZ2h0KTt2YXIgZz1uZXcgSW1hZ2U7cmV0dXJuIGcuc3JjPWYudG9EYXRhVVJMKCJpbWFnZS9wbmciKSxnfSxhLm1lcmdlQWxwaGE9ZnVuY3Rpb24oYSxiLGMpe2N8fChjPWNyZWF0ZWpzLmNyZWF0ZUNhbnZhcz9jcmVhdGVqcy5jcmVhdGVDYW52YXMoKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSksYy53aWR0aD1NYXRoLm1heChiLndpZHRoLGEud2lkdGgpLGMuaGVpZ2h0PU1hdGgubWF4KGIuaGVpZ2h0LGEuaGVpZ2h0KTt2YXIgZD1jLmdldENvbnRleHQoIjJkIik7cmV0dXJuIGQuc2F2ZSgpLGQuZHJhd0ltYWdlKGEsMCwwKSxkLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj0iZGVzdGluYXRpb24taW4iLGQuZHJhd0ltYWdlKGIsMCwwKSxkLnJlc3RvcmUoKSxjfSxhLl9mbGlwPWZ1bmN0aW9uKGIsYyxkLGUpe2Zvcih2YXIgZj1iLl9pbWFnZXMsZz1hLl93b3JraW5nQ2FudmFzLGg9YS5fd29ya2luZ0NvbnRleHQsaT1mLmxlbmd0aC9jLGo9MDtpPmo7aisrKXt2YXIgaz1mW2pdO2suX190bXA9aixoLnNldFRyYW5zZm9ybSgxLDAsMCwxLDAsMCksaC5jbGVhclJlY3QoMCwwLGcud2lkdGgrMSxnLmhlaWdodCsxKSxnLndpZHRoPWsud2lkdGgsZy5oZWlnaHQ9ay5oZWlnaHQsaC5zZXRUcmFuc2Zvcm0oZD8tMToxLDAsMCxlPy0xOjEsZD9rLndpZHRoOjAsZT9rLmhlaWdodDowKSxoLmRyYXdJbWFnZShrLDAsMCk7dmFyIGw9bmV3IEltYWdlO2wuc3JjPWcudG9EYXRhVVJMKCJpbWFnZS9wbmciKSxsLndpZHRoPWsud2lkdGgsbC5oZWlnaHQ9ay5oZWlnaHQsZi5wdXNoKGwpfXZhciBtPWIuX2ZyYW1lcyxuPW0ubGVuZ3RoL2M7Zm9yKGo9MDtuPmo7aisrKXtrPW1bal07dmFyIG89ay5yZWN0LmNsb25lKCk7bD1mW2suaW1hZ2UuX190bXAraSpjXTt2YXIgcD17aW1hZ2U6bCxyZWN0Om8scmVnWDprLnJlZ1gscmVnWTprLnJlZ1l9O2QmJihvLng9bC53aWR0aC1vLngtby53aWR0aCxwLnJlZ1g9by53aWR0aC1rLnJlZ1gpLGUmJihvLnk9bC5oZWlnaHQtby55LW8uaGVpZ2h0LHAucmVnWT1vLmhlaWdodC1rLnJlZ1kpLG0ucHVzaChwKX12YXIgcT0iXyIrKGQ/ImgiOiIiKSsoZT8idiI6IiIpLHI9Yi5fYW5pbWF0aW9ucyxzPWIuX2RhdGEsdD1yLmxlbmd0aC9jO2ZvcihqPTA7dD5qO2orKyl7dmFyIHU9cltqXTtrPXNbdV07dmFyIHY9e25hbWU6dStxLGZyZXF1ZW5jeTprLmZyZXF1ZW5jeSxuZXh0OmsubmV4dCxmcmFtZXM6W119O2submV4dCYmKHYubmV4dCs9cSksbT1rLmZyYW1lcztmb3IodmFyIHc9MCx4PW0ubGVuZ3RoO3g+dzt3Kyspdi5mcmFtZXMucHVzaChtW3ddK24qYyk7c1t2Lm5hbWVdPXYsci5wdXNoKHYubmFtZSl9fSxjcmVhdGVqcy5TcHJpdGVTaGVldFV0aWxzPWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbigpe3RoaXMuaW5pdGlhbGl6ZSgpfSxiPWEucHJvdG90eXBlPW5ldyBjcmVhdGVqcy5FdmVudERpc3BhdGNoZXI7YS5FUlJfRElNRU5TSU9OUz0iZnJhbWUgZGltZW5zaW9ucyBleGNlZWQgbWF4IHNwcml0ZXNoZWV0IGRpbWVuc2lvbnMiLGEuRVJSX1JVTk5JTkc9ImEgYnVpbGQgaXMgYWxyZWFkeSBydW5uaW5nIixiLm1heFdpZHRoPTIwNDgsYi5tYXhIZWlnaHQ9MjA0OCxiLnNwcml0ZVNoZWV0PW51bGwsYi5zY2FsZT0xLGIucGFkZGluZz0xLGIudGltZVNsaWNlPS4zLGIucHJvZ3Jlc3M9LTEsYi5fZnJhbWVzPW51bGwsYi5fYW5pbWF0aW9ucz1udWxsLGIuX2RhdGE9bnVsbCxiLl9uZXh0RnJhbWVJbmRleD0wLGIuX2luZGV4PTAsYi5fdGltZXJJRD1udWxsLGIuX3NjYWxlPTEsYi5pbml0aWFsaXplPWZ1bmN0aW9uKCl7dGhpcy5fZnJhbWVzPVtdLHRoaXMuX2FuaW1hdGlvbnM9e319LGIuYWRkRnJhbWU9ZnVuY3Rpb24oYixjLGQsZSxmLGcpe2lmKHRoaXMuX2RhdGEpdGhyb3cgYS5FUlJfUlVOTklORzt2YXIgaD1jfHxiLmJvdW5kc3x8Yi5ub21pbmFsQm91bmRzO3JldHVybiFoJiZiLmdldEJvdW5kcyYmKGg9Yi5nZXRCb3VuZHMoKSksaD8oZD1kfHwxLHRoaXMuX2ZyYW1lcy5wdXNoKHtzb3VyY2U6Yixzb3VyY2VSZWN0Omgsc2NhbGU6ZCxmdW5jdDplLHBhcmFtczpmLHNjb3BlOmcsaW5kZXg6dGhpcy5fZnJhbWVzLmxlbmd0aCxoZWlnaHQ6aC5oZWlnaHQqZH0pLTEpOm51bGx9LGIuYWRkQW5pbWF0aW9uPWZ1bmN0aW9uKGIsYyxkLGUpe2lmKHRoaXMuX2RhdGEpdGhyb3cgYS5FUlJfUlVOTklORzt0aGlzLl9hbmltYXRpb25zW2JdPXtmcmFtZXM6YyxuZXh0OmQsZnJlcXVlbmN5OmV9fSxiLmFkZE1vdmllQ2xpcD1mdW5jdGlvbihiLGMsZCl7aWYodGhpcy5fZGF0YSl0aHJvdyBhLkVSUl9SVU5OSU5HO3ZhciBlPWIuZnJhbWVCb3VuZHMsZj1jfHxiLmJvdW5kc3x8Yi5ub21pbmFsQm91bmRzO2lmKCFmJiZiLmdldEJvdW5kcyYmKGY9Yi5nZXRCb3VuZHMoKSksIWYmJiFlKXJldHVybiBudWxsO2Zvcih2YXIgZz10aGlzLl9mcmFtZXMubGVuZ3RoLGg9Yi50aW1lbGluZS5kdXJhdGlvbixpPTA7aD5pO2krKyl7dmFyIGo9ZSYmZVtpXT9lW2ldOmY7dGhpcy5hZGRGcmFtZShiLGosZCxmdW5jdGlvbihhKXt2YXIgYj10aGlzLmFjdGlvbnNFbmFibGVkO3RoaXMuYWN0aW9uc0VuYWJsZWQ9ITEsdGhpcy5nb3RvQW5kU3RvcChhKSx0aGlzLmFjdGlvbnNFbmFibGVkPWJ9LFtpXSxiKX12YXIgaz1iLnRpbWVsaW5lLl9sYWJlbHMsbD1bXTtmb3IodmFyIG0gaW4gaylsLnB1c2goe2luZGV4OmtbbV0sbGFiZWw6bX0pO2lmKGwubGVuZ3RoKXtsLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5pbmRleC1iLmluZGV4fSk7Zm9yKHZhciBpPTAsbj1sLmxlbmd0aDtuPmk7aSsrKXtmb3IodmFyIG89bFtpXS5sYWJlbCxwPWcrbFtpXS5pbmRleCxxPWcrKGk9PW4tMT9oOmxbaSsxXS5pbmRleCkscj1bXSxzPXA7cT5zO3MrKylyLnB1c2gocyk7dGhpcy5hZGRBbmltYXRpb24obyxyLCEwKX19fSxiLmJ1aWxkPWZ1bmN0aW9uKCl7aWYodGhpcy5fZGF0YSl0aHJvdyBhLkVSUl9SVU5OSU5HO2Zvcih0aGlzLl9zdGFydEJ1aWxkKCk7dGhpcy5fZHJhd05leHQoKTspO3JldHVybiB0aGlzLl9lbmRCdWlsZCgpLHRoaXMuc3ByaXRlU2hlZXR9LGIuYnVpbGRBc3luYz1mdW5jdGlvbihiKXtpZih0aGlzLl9kYXRhKXRocm93IGEuRVJSX1JVTk5JTkc7dGhpcy50aW1lU2xpY2U9Yix0aGlzLl9zdGFydEJ1aWxkKCk7dmFyIGM9dGhpczt0aGlzLl90aW1lcklEPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLl9ydW4oKX0sNTAtNTAqTWF0aC5tYXgoLjAxLE1hdGgubWluKC45OSx0aGlzLnRpbWVTbGljZXx8LjMpKSl9LGIuc3RvcEFzeW5jPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVySUQpLHRoaXMuX2RhdGE9bnVsbH0sYi5jbG9uZT1mdW5jdGlvbigpe3Rocm93IlNwcml0ZVNoZWV0QnVpbGRlciBjYW5ub3QgYmUgY2xvbmVkLiJ9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW1Nwcml0ZVNoZWV0QnVpbGRlcl0ifSxiLl9zdGFydEJ1aWxkPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5wYWRkaW5nfHwwO3RoaXMucHJvZ3Jlc3M9MCx0aGlzLnNwcml0ZVNoZWV0PW51bGwsdGhpcy5faW5kZXg9MCx0aGlzLl9zY2FsZT10aGlzLnNjYWxlO3ZhciBjPVtdO3RoaXMuX2RhdGE9e2ltYWdlczpbXSxmcmFtZXM6YyxhbmltYXRpb25zOnRoaXMuX2FuaW1hdGlvbnN9O3ZhciBkPXRoaXMuX2ZyYW1lcy5zbGljZSgpO2lmKGQuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLmhlaWdodDw9Yi5oZWlnaHQ/LTE6MX0pLGRbZC5sZW5ndGgtMV0uaGVpZ2h0KzIqYj50aGlzLm1heEhlaWdodCl0aHJvdyBhLkVSUl9ESU1FTlNJT05TO2Zvcih2YXIgZT0wLGY9MCxnPTA7ZC5sZW5ndGg7KXt2YXIgaD10aGlzLl9maWxsUm93KGQsZSxnLGMsYik7aWYoaC53PmYmJihmPWgudyksZSs9aC5oLCFoLmh8fCFkLmxlbmd0aCl7dmFyIGk9Y3JlYXRlanMuY3JlYXRlQ2FudmFzP2NyZWF0ZWpzLmNyZWF0ZUNhbnZhcygpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO2kud2lkdGg9dGhpcy5fZ2V0U2l6ZShmLHRoaXMubWF4V2lkdGgpLGkuaGVpZ2h0PXRoaXMuX2dldFNpemUoZSx0aGlzLm1heEhlaWdodCksdGhpcy5fZGF0YS5pbWFnZXNbZ109aSxoLmh8fChmPWU9MCxnKyspfX19LGIuX2dldFNpemU9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9NDtNYXRoLnBvdygyLCsrYyk8YTspO3JldHVybiBNYXRoLm1pbihiLE1hdGgucG93KDIsYykpfSxiLl9maWxsUm93PWZ1bmN0aW9uKGIsYyxkLGUsZil7dmFyIGc9dGhpcy5tYXhXaWR0aCxoPXRoaXMubWF4SGVpZ2h0O2MrPWY7Zm9yKHZhciBpPWgtYyxqPWYsaz0wLGw9Yi5sZW5ndGgtMTtsPj0wO2wtLSl7dmFyIG09YltsXSxuPXRoaXMuX3NjYWxlKm0uc2NhbGUsbz1tLnNvdXJjZVJlY3QscD1tLnNvdXJjZSxxPU1hdGguZmxvb3IobipvLngtZikscj1NYXRoLmZsb29yKG4qby55LWYpLHM9TWF0aC5jZWlsKG4qby5oZWlnaHQrMipmKSx0PU1hdGguY2VpbChuKm8ud2lkdGgrMipmKTtpZih0PmcpdGhyb3cgYS5FUlJfRElNRU5TSU9OUztzPml8fGordD5nfHwobS5pbWc9ZCxtLnJlY3Q9bmV3IGNyZWF0ZWpzLlJlY3RhbmdsZShqLGMsdCxzKSxrPWt8fHMsYi5zcGxpY2UobCwxKSxlW20uaW5kZXhdPVtqLGMsdCxzLGQsTWF0aC5yb3VuZCgtcStuKnAucmVnWC1mKSxNYXRoLnJvdW5kKC1yK24qcC5yZWdZLWYpXSxqKz10KX1yZXR1cm57dzpqLGg6a319LGIuX2VuZEJ1aWxkPWZ1bmN0aW9uKCl7dGhpcy5zcHJpdGVTaGVldD1uZXcgY3JlYXRlanMuU3ByaXRlU2hlZXQodGhpcy5fZGF0YSksdGhpcy5fZGF0YT1udWxsLHRoaXMucHJvZ3Jlc3M9MSx0aGlzLmRpc3BhdGNoRXZlbnQoImNvbXBsZXRlIil9LGIuX3J1bj1mdW5jdGlvbigpe2Zvcih2YXIgYT01MCpNYXRoLm1heCguMDEsTWF0aC5taW4oLjk5LHRoaXMudGltZVNsaWNlfHwuMykpLGI9KG5ldyBEYXRlKS5nZXRUaW1lKCkrYSxjPSExO2I+KG5ldyBEYXRlKS5nZXRUaW1lKCk7KWlmKCF0aGlzLl9kcmF3TmV4dCgpKXtjPSEwO2JyZWFrfWlmKGMpdGhpcy5fZW5kQnVpbGQoKTtlbHNle3ZhciBkPXRoaXM7dGhpcy5fdGltZXJJRD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5fcnVuKCl9LDUwLWEpfXZhciBlPXRoaXMucHJvZ3Jlc3M9dGhpcy5faW5kZXgvdGhpcy5fZnJhbWVzLmxlbmd0aDtpZih0aGlzLmhhc0V2ZW50TGlzdGVuZXIoInByb2dyZXNzIikpe3ZhciBmPW5ldyBjcmVhdGVqcy5FdmVudCgicHJvZ3Jlc3MiKTtmLnByb2dyZXNzPWUsdGhpcy5kaXNwYXRjaEV2ZW50KGYpfX0sYi5fZHJhd05leHQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9mcmFtZXNbdGhpcy5faW5kZXhdLGI9YS5zY2FsZSp0aGlzLl9zY2FsZSxjPWEucmVjdCxkPWEuc291cmNlUmVjdCxlPXRoaXMuX2RhdGEuaW1hZ2VzW2EuaW1nXSxmPWUuZ2V0Q29udGV4dCgiMmQiKTtyZXR1cm4gYS5mdW5jdCYmYS5mdW5jdC5hcHBseShhLnNjb3BlLGEucGFyYW1zKSxmLnNhdmUoKSxmLmJlZ2luUGF0aCgpLGYucmVjdChjLngsYy55LGMud2lkdGgsYy5oZWlnaHQpLGYuY2xpcCgpLGYudHJhbnNsYXRlKE1hdGguY2VpbChjLngtZC54KmIpLE1hdGguY2VpbChjLnktZC55KmIpKSxmLnNjYWxlKGIsYiksYS5zb3VyY2UuZHJhdyhmKSxmLnJlc3RvcmUoKSwrK3RoaXMuX2luZGV4PHRoaXMuX2ZyYW1lcy5sZW5ndGh9LGNyZWF0ZWpzLlNwcml0ZVNoZWV0QnVpbGRlcj1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9ZnVuY3Rpb24oYSl7dGhpcy5pbml0aWFsaXplKGEpfSxiPWEucHJvdG90eXBlPW5ldyBjcmVhdGVqcy5EaXNwbGF5T2JqZWN0O2IuaHRtbEVsZW1lbnQ9bnVsbCxiLl9vbGRNdHg9bnVsbCxiLl92aXNpYmxlPSExLGIuRGlzcGxheU9iamVjdF9pbml0aWFsaXplPWIuaW5pdGlhbGl6ZSxiLmluaXRpYWxpemU9ZnVuY3Rpb24oYSl7InN0cmluZyI9PXR5cGVvZiBhJiYoYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKSksdGhpcy5EaXNwbGF5T2JqZWN0X2luaXRpYWxpemUoKSx0aGlzLm1vdXNlRW5hYmxlZD0hMSx0aGlzLmh0bWxFbGVtZW50PWE7dmFyIGI9YS5zdHlsZTtiLnBvc2l0aW9uPSJhYnNvbHV0ZSIsYi50cmFuc2Zvcm1PcmlnaW49Yi5XZWJraXRUcmFuc2Zvcm1PcmlnaW49Yi5tc1RyYW5zZm9ybU9yaWdpbj1iLk1velRyYW5zZm9ybU9yaWdpbj1iLk9UcmFuc2Zvcm1PcmlnaW49IjAlIDAlIn0sYi5pc1Zpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5odG1sRWxlbWVudH0sYi5kcmF3PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlzaWJsZSYmKHRoaXMuX3Zpc2libGU9ITApLCEwfSxiLmNhY2hlPWZ1bmN0aW9uKCl7fSxiLnVuY2FjaGU9ZnVuY3Rpb24oKXt9LGIudXBkYXRlQ2FjaGU9ZnVuY3Rpb24oKXt9LGIuaGl0VGVzdD1mdW5jdGlvbigpe30sYi5sb2NhbFRvR2xvYmFsPWZ1bmN0aW9uKCl7fSxiLmdsb2JhbFRvTG9jYWw9ZnVuY3Rpb24oKXt9LGIubG9jYWxUb0xvY2FsPWZ1bmN0aW9uKCl7fSxiLmNsb25lPWZ1bmN0aW9uKCl7dGhyb3ciRE9NRWxlbWVudCBjYW5ub3QgYmUgY2xvbmVkLiJ9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW0RPTUVsZW1lbnQgKG5hbWU9Iit0aGlzLm5hbWUrIildIn0sYi5EaXNwbGF5T2JqZWN0X190aWNrPWIuX3RpY2ssYi5fdGljaz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFN0YWdlKCk7dGhpcy5fdmlzaWJsZT0hMSxiJiZiLm9uKCJkcmF3ZW5kIix0aGlzLl9oYW5kbGVEcmF3RW5kLHRoaXMsITApLHRoaXMuRGlzcGxheU9iamVjdF9fdGljayhhKX0sYi5faGFuZGxlRHJhd0VuZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaHRtbEVsZW1lbnQ7aWYoYSl7dmFyIGI9YS5zdHlsZSxjPXRoaXMuX3Zpc2libGU/InZpc2libGUiOiJoaWRkZW4iO2lmKGMhPWIudmlzaWJpbGl0eSYmKGIudmlzaWJpbGl0eT1jKSx0aGlzLl92aXNpYmxlKXt2YXIgZD10aGlzLmdldENvbmNhdGVuYXRlZE1hdHJpeCh0aGlzLl9tYXRyaXgpLGU9dGhpcy5fb2xkTXR4LGY9MWU0OwppZihlJiZlLmFscGhhPT1kLmFscGhhfHwoYi5vcGFjaXR5PSIiKygwfGQuYWxwaGEqZikvZixlJiYoZS5hbHBoYT1kLmFscGhhKSksIWV8fGUudHghPWQudHh8fGUudHkhPWQudHl8fGUuYSE9ZC5hfHxlLmIhPWQuYnx8ZS5jIT1kLmN8fGUuZCE9ZC5kKXt2YXIgZz0ibWF0cml4KCIrKDB8ZC5hKmYpL2YrIiwiKygwfGQuYipmKS9mKyIsIisoMHxkLmMqZikvZisiLCIrKDB8ZC5kKmYpL2YrIiwiKygwfGQudHgrLjUpO2IudHJhbnNmb3JtPWIuV2Via2l0VHJhbnNmb3JtPWIuT1RyYW5zZm9ybT1iLm1zVHJhbnNmb3JtPWcrIiwiKygwfGQudHkrLjUpKyIpIixiLk1velRyYW5zZm9ybT1nKyJweCwiKygwfGQudHkrLjUpKyJweCkiLHRoaXMuX29sZE10eD1lP2UuY29weShkKTpkLmNsb25lKCl9fX19LGNyZWF0ZWpzLkRPTUVsZW1lbnQ9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKCl7dGhpcy5pbml0aWFsaXplKCl9LGI9YS5wcm90b3R5cGU7Yi5pbml0aWFsaXplPWZ1bmN0aW9uKCl7fSxiLmdldEJvdW5kcz1mdW5jdGlvbigpe3JldHVybiBudWxsfSxiLmFwcGx5RmlsdGVyPWZ1bmN0aW9uKCl7fSxiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltGaWx0ZXJdIn0sYi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgYX0sY3JlYXRlanMuRmlsdGVyPWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbihhLGIsYyl7dGhpcy5pbml0aWFsaXplKGEsYixjKX0sYj1hLnByb3RvdHlwZT1uZXcgY3JlYXRlanMuRmlsdGVyO2IuaW5pdGlhbGl6ZT1mdW5jdGlvbihhLGIsYyl7KGlzTmFOKGEpfHwwPmEpJiYoYT0wKSx0aGlzLmJsdXJYPTB8YSwoaXNOYU4oYil8fDA+YikmJihiPTApLHRoaXMuYmx1clk9MHxiLChpc05hTihjKXx8MT5jKSYmKGM9MSksdGhpcy5xdWFsaXR5PTB8Y30sYi5ibHVyWD0wLGIuYmx1clk9MCxiLnF1YWxpdHk9MSxiLm11bF90YWJsZT1bMSwxNzEsMjA1LDI5Myw1NywzNzMsNzksMTM3LDI0MSwyNywzOTEsMzU3LDQxLDE5LDI4MywyNjUsNDk3LDQ2OSw0NDMsNDIxLDI1LDE5MSwzNjUsMzQ5LDMzNSwxNjEsMTU1LDE0OSw5LDI3OCwyNjksMjYxLDUwNSwyNDUsNDc1LDIzMSw0NDksNDM3LDIxMyw0MTUsNDA1LDM5NSwxOTMsMzc3LDM2OSwzNjEsMzUzLDM0NSwxNjksMzMxLDMyNSwzMTksMzEzLDMwNywzMDEsMzcsMTQ1LDI4NSwyODEsNjksMjcxLDI2NywyNjMsMjU5LDUwOSw1MDEsNDkzLDI0Myw0NzksMTE4LDQ2NSw0NTksMTEzLDQ0Niw1NSw0MzUsNDI5LDQyMywyMDksNDEzLDUxLDQwMywxOTksMzkzLDk3LDMsMzc5LDM3NSwzNzEsMzY3LDM2MywzNTksMzU1LDM1MSwzNDcsNDMsODUsMzM3LDMzMywxNjUsMzI3LDMyMyw1LDMxNywxNTcsMzExLDc3LDMwNSwzMDMsNzUsMjk3LDI5NCw3MywyODksMjg3LDcxLDE0MSwyNzksMjc3LDI3NSw2OCwxMzUsNjcsMTMzLDMzLDI2MiwyNjAsMTI5LDUxMSw1MDcsNTAzLDQ5OSw0OTUsNDkxLDYxLDEyMSw0ODEsNDc3LDIzNywyMzUsNDY3LDIzMiwxMTUsNDU3LDIyNyw0NTEsNyw0NDUsMjIxLDQzOSwyMTgsNDMzLDIxNSw0MjcsNDI1LDIxMSw0MTksNDE3LDIwNyw0MTEsNDA5LDIwMywyMDIsNDAxLDM5OSwzOTYsMTk3LDQ5LDM4OSwzODcsMzg1LDM4Myw5NSwxODksNDcsMTg3LDkzLDE4NSwyMywxODMsOTEsMTgxLDQ1LDE3OSw4OSwxNzcsMTEsMTc1LDg3LDE3MywzNDUsMzQzLDM0MSwzMzksMzM3LDIxLDE2Nyw4MywzMzEsMzI5LDMyNywxNjMsODEsMzIzLDMyMSwzMTksMTU5LDc5LDMxNSwzMTMsMzksMTU1LDMwOSwzMDcsMTUzLDMwNSwzMDMsMTUxLDc1LDI5OSwxNDksMzcsMjk1LDE0Nyw3MywyOTEsMTQ1LDI4OSwyODcsMTQzLDI4NSw3MSwxNDEsMjgxLDM1LDI3OSwxMzksNjksMjc1LDEzNywyNzMsMTcsMjcxLDEzNSwyNjksMjY3LDEzMywyNjUsMzMsMjYzLDEzMSwyNjEsMTMwLDI1OSwxMjksMjU3LDFdLGIuc2hnX3RhYmxlPVswLDksMTAsMTEsOSwxMiwxMCwxMSwxMiw5LDEzLDEzLDEwLDksMTMsMTMsMTQsMTQsMTQsMTQsMTAsMTMsMTQsMTQsMTQsMTMsMTMsMTMsOSwxNCwxNCwxNCwxNSwxNCwxNSwxNCwxNSwxNSwxNCwxNSwxNSwxNSwxNCwxNSwxNSwxNSwxNSwxNSwxNCwxNSwxNSwxNSwxNSwxNSwxNSwxMiwxNCwxNSwxNSwxMywxNSwxNSwxNSwxNSwxNiwxNiwxNiwxNSwxNiwxNCwxNiwxNiwxNCwxNiwxMywxNiwxNiwxNiwxNSwxNiwxMywxNiwxNSwxNiwxNCw5LDE2LDE2LDE2LDE2LDE2LDE2LDE2LDE2LDE2LDEzLDE0LDE2LDE2LDE1LDE2LDE2LDEwLDE2LDE1LDE2LDE0LDE2LDE2LDE0LDE2LDE2LDE0LDE2LDE2LDE0LDE1LDE2LDE2LDE2LDE0LDE1LDE0LDE1LDEzLDE2LDE2LDE1LDE3LDE3LDE3LDE3LDE3LDE3LDE0LDE1LDE3LDE3LDE2LDE2LDE3LDE2LDE1LDE3LDE2LDE3LDExLDE3LDE2LDE3LDE2LDE3LDE2LDE3LDE3LDE2LDE3LDE3LDE2LDE3LDE3LDE2LDE2LDE3LDE3LDE3LDE2LDE0LDE3LDE3LDE3LDE3LDE1LDE2LDE0LDE2LDE1LDE2LDEzLDE2LDE1LDE2LDE0LDE2LDE1LDE2LDEyLDE2LDE1LDE2LDE3LDE3LDE3LDE3LDE3LDEzLDE2LDE1LDE3LDE3LDE3LDE2LDE1LDE3LDE3LDE3LDE2LDE1LDE3LDE3LDE0LDE2LDE3LDE3LDE2LDE3LDE3LDE2LDE1LDE3LDE2LDE0LDE3LDE2LDE1LDE3LDE2LDE3LDE3LDE2LDE3LDE1LDE2LDE3LDE0LDE3LDE2LDE1LDE3LDE2LDE3LDEzLDE3LDE2LDE3LDE3LDE2LDE3LDE0LDE3LDE2LDE3LDE2LDE3LDE2LDE3LDldLGIuZ2V0Qm91bmRzPWZ1bmN0aW9uKCl7dmFyIGE9LjUqTWF0aC5wb3codGhpcy5xdWFsaXR5LC42KTtyZXR1cm4gbmV3IGNyZWF0ZWpzLlJlY3RhbmdsZSgtdGhpcy5ibHVyWCphLC10aGlzLmJsdXJZKmEsMip0aGlzLmJsdXJYKmEsMip0aGlzLmJsdXJZKmEpfSxiLmFwcGx5RmlsdGVyPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7Zj1mfHxhLG51bGw9PWcmJihnPWIpLG51bGw9PWgmJihoPWMpO3RyeXt2YXIgaT1hLmdldEltYWdlRGF0YShiLGMsZCxlKX1jYXRjaChqKXtyZXR1cm4hMX12YXIgaz10aGlzLmJsdXJYLzI7aWYoaXNOYU4oayl8fDA+aylyZXR1cm4hMTtrfD0wO3ZhciBsPXRoaXMuYmx1clkvMjtpZihpc05hTihsKXx8MD5sKXJldHVybiExO2lmKGx8PTAsMD09ayYmMD09bClyZXR1cm4hMTt2YXIgbT10aGlzLnF1YWxpdHk7KGlzTmFOKG0pfHwxPm0pJiYobT0xKSxtfD0wLG0+MyYmKG09MyksMT5tJiYobT0xKTt2YXIgYixjLG4sbyxwLHEscixzLHQsdSx2LHcseCx5LHosQT1pLmRhdGEsQj1rK2srMSxDPWwrbCsxLEQ9ZC0xLEU9ZS0xLEY9aysxLEc9bCsxLEg9e3I6MCxiOjAsZzowLGE6MCxuZXh0Om51bGx9LEk9SDtmb3Iobj0xO0I+bjtuKyspST1JLm5leHQ9e3I6MCxiOjAsZzowLGE6MCxuZXh0Om51bGx9O0kubmV4dD1IO3ZhciBKPXtyOjAsYjowLGc6MCxhOjAsbmV4dDpudWxsfSxLPUo7Zm9yKG49MTtDPm47bisrKUs9Sy5uZXh0PXtyOjAsYjowLGc6MCxhOjAsbmV4dDpudWxsfTtLLm5leHQ9Sjtmb3IodmFyIEw9bnVsbDttLS0+MDspe3I9cT0wO3ZhciBNPXRoaXMubXVsX3RhYmxlW2tdLE49dGhpcy5zaGdfdGFibGVba107Zm9yKGM9ZTstLWM+LTE7KXtmb3Iocz1GKih3PUFbcV0pLHQ9RiooeD1BW3ErMV0pLHU9RiooeT1BW3ErMl0pLHY9Riooej1BW3ErM10pLEk9SCxuPUY7LS1uPi0xOylJLnI9dyxJLmc9eCxJLmI9eSxJLmE9eixJPUkubmV4dDtmb3Iobj0xO0Y+bjtuKyspbz1xKygobj5EP0Q6bik8PDIpLHMrPUkucj1BW29dLHQrPUkuZz1BW28rMV0sdSs9SS5iPUFbbysyXSx2Kz1JLmE9QVtvKzNdLEk9SS5uZXh0O2ZvcihMPUgsYj0wO2Q+YjtiKyspQVtxKytdPXMqTT4+Pk4sQVtxKytdPXQqTT4+Pk4sQVtxKytdPXUqTT4+Pk4sQVtxKytdPXYqTT4+Pk4sbz1yKygobz1iK2srMSk8RD9vOkQpPDwyLHMtPUwuci0oTC5yPUFbb10pLHQtPUwuZy0oTC5nPUFbbysxXSksdS09TC5iLShMLmI9QVtvKzJdKSx2LT1MLmEtKEwuYT1BW28rM10pLEw9TC5uZXh0O3IrPWR9Zm9yKE09dGhpcy5tdWxfdGFibGVbbF0sTj10aGlzLnNoZ190YWJsZVtsXSxiPTA7ZD5iO2IrKyl7Zm9yKHE9Yjw8MixzPUcqKHc9QVtxXSksdD1HKih4PUFbcSsxXSksdT1HKih5PUFbcSsyXSksdj1HKih6PUFbcSszXSksSz1KLG49MDtHPm47bisrKUsucj13LEsuZz14LEsuYj15LEsuYT16LEs9Sy5uZXh0O2ZvcihwPWQsbj0xO2w+PW47bisrKXE9cCtiPDwyLHMrPUsucj1BW3FdLHQrPUsuZz1BW3ErMV0sdSs9Sy5iPUFbcSsyXSx2Kz1LLmE9QVtxKzNdLEs9Sy5uZXh0LEU+biYmKHArPWQpO2lmKHE9YixMPUosbT4wKWZvcihjPTA7ZT5jO2MrKylvPXE8PDIsQVtvKzNdPXo9dipNPj4+Tix6PjA/KEFbb109cypNPj4+TixBW28rMV09dCpNPj4+TixBW28rMl09dSpNPj4+Tik6QVtvXT1BW28rMV09QVtvKzJdPTAsbz1iKygobz1jK0cpPEU/bzpFKSpkPDwyLHMtPUwuci0oTC5yPUFbb10pLHQtPUwuZy0oTC5nPUFbbysxXSksdS09TC5iLShMLmI9QVtvKzJdKSx2LT1MLmEtKEwuYT1BW28rM10pLEw9TC5uZXh0LHErPWQ7ZWxzZSBmb3IoYz0wO2U+YztjKyspbz1xPDwyLEFbbyszXT16PXYqTT4+Pk4sej4wPyh6PTI1NS96LEFbb109KHMqTT4+Pk4pKnosQVtvKzFdPSh0Kk0+Pj5OKSp6LEFbbysyXT0odSpNPj4+Tikqeik6QVtvXT1BW28rMV09QVtvKzJdPTAsbz1iKygobz1jK0cpPEU/bzpFKSpkPDwyLHMtPUwuci0oTC5yPUFbb10pLHQtPUwuZy0oTC5nPUFbbysxXSksdS09TC5iLShMLmI9QVtvKzJdKSx2LT1MLmEtKEwuYT1BW28rM10pLEw9TC5uZXh0LHErPWR9fXJldHVybiBmLnB1dEltYWdlRGF0YShpLGcsaCksITB9LGIuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGEodGhpcy5ibHVyWCx0aGlzLmJsdXJZLHRoaXMucXVhbGl0eSl9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW0JsdXJGaWx0ZXJdIn0sY3JlYXRlanMuQmx1ckZpbHRlcj1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9ZnVuY3Rpb24oYSl7dGhpcy5pbml0aWFsaXplKGEpfSxiPWEucHJvdG90eXBlPW5ldyBjcmVhdGVqcy5GaWx0ZXI7Yi5pbml0aWFsaXplPWZ1bmN0aW9uKGEpe3RoaXMuYWxwaGFNYXA9YX0sYi5hbHBoYU1hcD1udWxsLGIuX2FscGhhTWFwPW51bGwsYi5fbWFwRGF0YT1udWxsLGIuYXBwbHlGaWx0ZXI9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXtpZighdGhpcy5hbHBoYU1hcClyZXR1cm4hMDtpZighdGhpcy5fcHJlcEFscGhhTWFwKCkpcmV0dXJuITE7Zj1mfHxhLG51bGw9PWcmJihnPWIpLG51bGw9PWgmJihoPWMpO3RyeXt2YXIgaT1hLmdldEltYWdlRGF0YShiLGMsZCxlKX1jYXRjaChqKXtyZXR1cm4hMX1mb3IodmFyIGs9aS5kYXRhLGw9dGhpcy5fbWFwRGF0YSxtPWsubGVuZ3RoLG49MDttPm47bis9NClrW24rM109bFtuXXx8MDtyZXR1cm4gaS5kYXRhPWssZi5wdXRJbWFnZURhdGEoaSxnLGgpLCEwfSxiLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhKHRoaXMuYWxwaGFNYXApfSxiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltBbHBoYU1hcEZpbHRlcl0ifSxiLl9wcmVwQWxwaGFNYXA9ZnVuY3Rpb24oKXtpZighdGhpcy5hbHBoYU1hcClyZXR1cm4hMTtpZih0aGlzLmFscGhhTWFwPT10aGlzLl9hbHBoYU1hcCYmdGhpcy5fbWFwRGF0YSlyZXR1cm4hMDt0aGlzLl9tYXBEYXRhPW51bGw7dmFyIGEsYj10aGlzLl9hbHBoYU1hcD10aGlzLmFscGhhTWFwLGM9YjtiIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQ/YT1jLmdldENvbnRleHQoIjJkIik6KGM9Y3JlYXRlanMuY3JlYXRlQ2FudmFzP2NyZWF0ZWpzLmNyZWF0ZUNhbnZhcygpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLGMud2lkdGg9Yi53aWR0aCxjLmhlaWdodD1iLmhlaWdodCxhPWMuZ2V0Q29udGV4dCgiMmQiKSxhLmRyYXdJbWFnZShiLDAsMCkpO3RyeXt2YXIgZD1hLmdldEltYWdlRGF0YSgwLDAsYi53aWR0aCxiLmhlaWdodCl9Y2F0Y2goZSl7cmV0dXJuITF9cmV0dXJuIHRoaXMuX21hcERhdGE9ZC5kYXRhLCEwfSxjcmVhdGVqcy5BbHBoYU1hcEZpbHRlcj1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9ZnVuY3Rpb24oYSl7dGhpcy5pbml0aWFsaXplKGEpfSxiPWEucHJvdG90eXBlPW5ldyBjcmVhdGVqcy5GaWx0ZXI7Yi5pbml0aWFsaXplPWZ1bmN0aW9uKGEpe3RoaXMubWFzaz1hfSxiLm1hc2s9bnVsbCxiLmFwcGx5RmlsdGVyPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7cmV0dXJuIHRoaXMubWFzaz8oZj1mfHxhLG51bGw9PWcmJihnPWIpLG51bGw9PWgmJihoPWMpLGYuc2F2ZSgpLGYuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPSJkZXN0aW5hdGlvbi1pbiIsZi5kcmF3SW1hZ2UodGhpcy5tYXNrLGcsaCksZi5yZXN0b3JlKCksITApOiEwfSxiLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhKHRoaXMubWFzayl9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW0FscGhhTWFza0ZpbHRlcl0ifSxjcmVhdGVqcy5BbHBoYU1hc2tGaWx0ZXI9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7dGhpcy5pbml0aWFsaXplKGEsYixjLGQsZSxmLGcsaCl9LGI9YS5wcm90b3R5cGU9bmV3IGNyZWF0ZWpzLkZpbHRlcjtiLnJlZE11bHRpcGxpZXI9MSxiLmdyZWVuTXVsdGlwbGllcj0xLGIuYmx1ZU11bHRpcGxpZXI9MSxiLmFscGhhTXVsdGlwbGllcj0xLGIucmVkT2Zmc2V0PTAsYi5ncmVlbk9mZnNldD0wLGIuYmx1ZU9mZnNldD0wLGIuYWxwaGFPZmZzZXQ9MCxiLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXt0aGlzLnJlZE11bHRpcGxpZXI9bnVsbCE9YT9hOjEsdGhpcy5ncmVlbk11bHRpcGxpZXI9bnVsbCE9Yj9iOjEsdGhpcy5ibHVlTXVsdGlwbGllcj1udWxsIT1jP2M6MSx0aGlzLmFscGhhTXVsdGlwbGllcj1udWxsIT1kP2Q6MSx0aGlzLnJlZE9mZnNldD1lfHwwLHRoaXMuZ3JlZW5PZmZzZXQ9Znx8MCx0aGlzLmJsdWVPZmZzZXQ9Z3x8MCx0aGlzLmFscGhhT2Zmc2V0PWh8fDB9LGIuYXBwbHlGaWx0ZXI9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXtmPWZ8fGEsbnVsbD09ZyYmKGc9YiksbnVsbD09aCYmKGg9Yyk7dHJ5e3ZhciBpPWEuZ2V0SW1hZ2VEYXRhKGIsYyxkLGUpfWNhdGNoKGope3JldHVybiExfWZvcih2YXIgaz1pLmRhdGEsbD1rLmxlbmd0aCxtPTA7bD5tO20rPTQpa1ttXT1rW21dKnRoaXMucmVkTXVsdGlwbGllcit0aGlzLnJlZE9mZnNldCxrW20rMV09a1ttKzFdKnRoaXMuZ3JlZW5NdWx0aXBsaWVyK3RoaXMuZ3JlZW5PZmZzZXQsa1ttKzJdPWtbbSsyXSp0aGlzLmJsdWVNdWx0aXBsaWVyK3RoaXMuYmx1ZU9mZnNldCxrW20rM109a1ttKzNdKnRoaXMuYWxwaGFNdWx0aXBsaWVyK3RoaXMuYWxwaGFPZmZzZXQ7cmV0dXJuIGYucHV0SW1hZ2VEYXRhKGksZyxoKSwhMH0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbQ29sb3JGaWx0ZXJdIn0sYi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgYSh0aGlzLnJlZE11bHRpcGxpZXIsdGhpcy5ncmVlbk11bHRpcGxpZXIsdGhpcy5ibHVlTXVsdGlwbGllcix0aGlzLmFscGhhTXVsdGlwbGllcix0aGlzLnJlZE9mZnNldCx0aGlzLmdyZWVuT2Zmc2V0LHRoaXMuYmx1ZU9mZnNldCx0aGlzLmFscGhhT2Zmc2V0KX0sY3JlYXRlanMuQ29sb3JGaWx0ZXI9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuaW5pdGlhbGl6ZShhLGIsYyxkKX0sYj1hLnByb3RvdHlwZT1bXTthLkRFTFRBX0lOREVYPVswLC4wMSwuMDIsLjA0LC4wNSwuMDYsLjA3LC4wOCwuMSwuMTEsLjEyLC4xNCwuMTUsLjE2LC4xNywuMTgsLjIsLjIxLC4yMiwuMjQsLjI1LC4yNywuMjgsLjMsLjMyLC4zNCwuMzYsLjM4LC40LC40MiwuNDQsLjQ2LC40OCwuNSwuNTMsLjU2LC41OSwuNjIsLjY1LC42OCwuNzEsLjc0LC43NywuOCwuODMsLjg2LC44OSwuOTIsLjk1LC45OCwxLDEuMDYsMS4xMiwxLjE4LDEuMjQsMS4zLDEuMzYsMS40MiwxLjQ4LDEuNTQsMS42LDEuNjYsMS43MiwxLjc4LDEuODQsMS45LDEuOTYsMiwyLjEyLDIuMjUsMi4zNywyLjUsMi42MiwyLjc1LDIuODcsMywzLjIsMy40LDMuNiwzLjgsNCw0LjMsNC43LDQuOSw1LDUuNSw2LDYuNSw2LjgsNyw3LjMsNy41LDcuOCw4LDguNCw4LjcsOSw5LjQsOS42LDkuOCwxMF0sYS5JREVOVElUWV9NQVRSSVg9WzEsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDFdLGEuTEVOR1RIPWEuSURFTlRJVFlfTUFUUklYLmxlbmd0aCxiLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMucmVzZXQoKSx0aGlzLmFkanVzdENvbG9yKGEsYixjLGQpLHRoaXN9LGIucmVzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb3B5TWF0cml4KGEuSURFTlRJVFlfTUFUUklYKX0sYi5hZGp1c3RDb2xvcj1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5hZGp1c3RIdWUoZCksdGhpcy5hZGp1c3RDb250cmFzdChiKSx0aGlzLmFkanVzdEJyaWdodG5lc3MoYSksdGhpcy5hZGp1c3RTYXR1cmF0aW9uKGMpfSxiLmFkanVzdEJyaWdodG5lc3M9ZnVuY3Rpb24oYSl7cmV0dXJuIDA9PWF8fGlzTmFOKGEpP3RoaXM6KGE9dGhpcy5fY2xlYW5WYWx1ZShhLDI1NSksdGhpcy5fbXVsdGlwbHlNYXRyaXgoWzEsMCwwLDAsYSwwLDEsMCwwLGEsMCwwLDEsMCxhLDAsMCwwLDEsMCwwLDAsMCwwLDFdKSx0aGlzKX0sYi5hZGp1c3RDb250cmFzdD1mdW5jdGlvbihiKXtpZigwPT1ifHxpc05hTihiKSlyZXR1cm4gdGhpcztiPXRoaXMuX2NsZWFuVmFsdWUoYiwxMDApO3ZhciBjO3JldHVybiAwPmI/Yz0xMjcrMTI3KihiLzEwMCk6KGM9YiUxLGM9MD09Yz9hLkRFTFRBX0lOREVYW2JdOmEuREVMVEFfSU5ERVhbYjw8MF0qKDEtYykrYS5ERUxUQV9JTkRFWFsoYjw8MCkrMV0qYyxjPTEyNypjKzEyNyksdGhpcy5fbXVsdGlwbHlNYXRyaXgoW2MvMTI3LDAsMCwwLC41KigxMjctYyksMCxjLzEyNywwLDAsLjUqKDEyNy1jKSwwLDAsYy8xMjcsMCwuNSooMTI3LWMpLDAsMCwwLDEsMCwwLDAsMCwwLDFdKSx0aGlzfSxiLmFkanVzdFNhdHVyYXRpb249ZnVuY3Rpb24oYSl7aWYoMD09YXx8aXNOYU4oYSkpcmV0dXJuIHRoaXM7YT10aGlzLl9jbGVhblZhbHVlKGEsMTAwKTt2YXIgYj0xKyhhPjA/MyphLzEwMDphLzEwMCksYz0uMzA4NixkPS42MDk0LGU9LjA4MjtyZXR1cm4gdGhpcy5fbXVsdGlwbHlNYXRyaXgoW2MqKDEtYikrYixkKigxLWIpLGUqKDEtYiksMCwwLGMqKDEtYiksZCooMS1iKStiLGUqKDEtYiksMCwwLGMqKDEtYiksZCooMS1iKSxlKigxLWIpK2IsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDFdKSx0aGlzfSxiLmFkanVzdEh1ZT1mdW5jdGlvbihhKXtpZigwPT1hfHxpc05hTihhKSlyZXR1cm4gdGhpczthPXRoaXMuX2NsZWFuVmFsdWUoYSwxODApLzE4MCpNYXRoLlBJO3ZhciBiPU1hdGguY29zKGEpLGM9TWF0aC5zaW4oYSksZD0uMjEzLGU9LjcxNSxmPS4wNzI7cmV0dXJuIHRoaXMuX211bHRpcGx5TWF0cml4KFtkK2IqKDEtZCkrYyotZCxlK2IqLWUrYyotZSxmK2IqLWYrYyooMS1mKSwwLDAsZCtiKi1kKy4xNDMqYyxlK2IqKDEtZSkrLjE0KmMsZitiKi1mK2MqLS4yODMsMCwwLGQrYiotZCtjKi0oMS1kKSxlK2IqLWUrYyplLGYrYiooMS1mKStjKmYsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDFdKSx0aGlzfSxiLmNvbmNhdD1mdW5jdGlvbihiKXtyZXR1cm4gYj10aGlzLl9maXhNYXRyaXgoYiksYi5sZW5ndGghPWEuTEVOR1RIP3RoaXM6KHRoaXMuX211bHRpcGx5TWF0cml4KGIpLHRoaXMpfSxiLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhKHRoaXMpfSxiLnRvQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zbGljZSgwLGEuTEVOR1RIKX0sYi5jb3B5TWF0cml4PWZ1bmN0aW9uKGIpe2Zvcih2YXIgYz1hLkxFTkdUSCxkPTA7Yz5kO2QrKyl0aGlzW2RdPWJbZF07cmV0dXJuIHRoaXN9LGIuX211bHRpcGx5TWF0cml4PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTA7NT5jO2MrKyl7Zm9yKHZhciBkPTA7NT5kO2QrKyliW2RdPXRoaXNbZCs1KmNdO2Zvcih2YXIgZD0wOzU+ZDtkKyspe2Zvcih2YXIgZT0wLGY9MDs1PmY7ZisrKWUrPWFbZCs1KmZdKmJbZl07dGhpc1tkKzUqY109ZX19fSxiLl9jbGVhblZhbHVlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIE1hdGgubWluKGIsTWF0aC5tYXgoLWIsYSkpfSxiLl9maXhNYXRyaXg9ZnVuY3Rpb24oYil7cmV0dXJuIGIgaW5zdGFuY2VvZiBhJiYoYj1iLnNsaWNlKDApKSxiLmxlbmd0aDxhLkxFTkdUSD9iPWIuc2xpY2UoMCxiLmxlbmd0aCkuY29uY2F0KGEuSURFTlRJVFlfTUFUUklYLnNsaWNlKGIubGVuZ3RoLGEuTEVOR1RIKSk6Yi5sZW5ndGg+YS5MRU5HVEgmJihiPWIuc2xpY2UoMCxhLkxFTkdUSCkpLGJ9LGNyZWF0ZWpzLkNvbG9yTWF0cml4PWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbihhKXt0aGlzLmluaXRpYWxpemUoYSl9LGI9YS5wcm90b3R5cGU9bmV3IGNyZWF0ZWpzLkZpbHRlcjtiLm1hdHJpeD1udWxsLGIuaW5pdGlhbGl6ZT1mdW5jdGlvbihhKXt0aGlzLm1hdHJpeD1hfSxiLmFwcGx5RmlsdGVyPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7Zj1mfHxhLG51bGw9PWcmJihnPWIpLG51bGw9PWgmJihoPWMpO3RyeXt2YXIgaT1hLmdldEltYWdlRGF0YShiLGMsZCxlKX1jYXRjaChqKXtyZXR1cm4hMX1mb3IodmFyIGssbCxtLG4sbz1pLmRhdGEscD1vLmxlbmd0aCxxPXRoaXMubWF0cml4LHI9cVswXSxzPXFbMV0sdD1xWzJdLHU9cVszXSx2PXFbNF0sdz1xWzVdLHg9cVs2XSx5PXFbN10sej1xWzhdLEE9cVs5XSxCPXFbMTBdLEM9cVsxMV0sRD1xWzEyXSxFPXFbMTNdLEY9cVsxNF0sRz1xWzE1XSxIPXFbMTZdLEk9cVsxN10sSj1xWzE4XSxLPXFbMTldLEw9MDtwPkw7TCs9NClrPW9bTF0sbD1vW0wrMV0sbT1vW0wrMl0sbj1vW0wrM10sb1tMXT1rKnIrbCpzK20qdCtuKnUrdixvW0wrMV09ayp3K2wqeCttKnkrbip6K0Esb1tMKzJdPWsqQitsKkMrbSpEK24qRStGLG9bTCszXT1rKkcrbCpIK20qSStuKkorSztyZXR1cm4gZi5wdXRJbWFnZURhdGEoaSxnLGgpLCEwfSxiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltDb2xvck1hdHJpeEZpbHRlcl0ifSxiLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhKHRoaXMubWF0cml4KX0sY3JlYXRlanMuQ29sb3JNYXRyaXhGaWx0ZXI9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKCl7dGhyb3ciVG91Y2ggY2Fubm90IGJlIGluc3RhbnRpYXRlZCJ9O2EuaXNTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4ib250b3VjaHN0YXJ0ImluIHdpbmRvd3x8d2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkJiZ3aW5kb3cubmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHM+MH0sYS5lbmFibGU9ZnVuY3Rpb24oYixjLGQpe3JldHVybiBiJiZiLmNhbnZhcyYmYS5pc1N1cHBvcnRlZCgpPyhiLl9fdG91Y2g9e3BvaW50ZXJzOnt9LG11bHRpdG91Y2g6IWMscHJldmVudERlZmF1bHQ6IWQsY291bnQ6MH0sIm9udG91Y2hzdGFydCJpbiB3aW5kb3c/YS5fSU9TX2VuYWJsZShiKTp3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQmJmEuX0lFX2VuYWJsZShiKSwhMCk6ITF9LGEuZGlzYWJsZT1mdW5jdGlvbihiKXtiJiYoIm9udG91Y2hzdGFydCJpbiB3aW5kb3c/YS5fSU9TX2Rpc2FibGUoYik6d2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkJiZhLl9JRV9kaXNhYmxlKGIpKX0sYS5fSU9TX2VuYWJsZT1mdW5jdGlvbihiKXt2YXIgYz1iLmNhbnZhcyxkPWIuX190b3VjaC5mPWZ1bmN0aW9uKGMpe2EuX0lPU19oYW5kbGVFdmVudChiLGMpfTtjLmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoc3RhcnQiLGQsITEpLGMuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2htb3ZlIixkLCExKSxjLmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoZW5kIixkLCExKSxjLmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoY2FuY2VsIixkLCExKX0sYS5fSU9TX2Rpc2FibGU9ZnVuY3Rpb24oYSl7dmFyIGI9YS5jYW52YXM7aWYoYil7dmFyIGM9YS5fX3RvdWNoLmY7Yi5yZW1vdmVFdmVudExpc3RlbmVyKCJ0b3VjaHN0YXJ0IixjLCExKSxiLnJlbW92ZUV2ZW50TGlzdGVuZXIoInRvdWNobW92ZSIsYywhMSksYi5yZW1vdmVFdmVudExpc3RlbmVyKCJ0b3VjaGVuZCIsYywhMSksYi5yZW1vdmVFdmVudExpc3RlbmVyKCJ0b3VjaGNhbmNlbCIsYywhMSl9fSxhLl9JT1NfaGFuZGxlRXZlbnQ9ZnVuY3Rpb24oYSxiKXtpZihhKXthLl9fdG91Y2gucHJldmVudERlZmF1bHQmJmIucHJldmVudERlZmF1bHQmJmIucHJldmVudERlZmF1bHQoKTtmb3IodmFyIGM9Yi5jaGFuZ2VkVG91Y2hlcyxkPWIudHlwZSxlPTAsZj1jLmxlbmd0aDtmPmU7ZSsrKXt2YXIgZz1jW2VdLGg9Zy5pZGVudGlmaWVyO2cudGFyZ2V0PT1hLmNhbnZhcyYmKCJ0b3VjaHN0YXJ0Ij09ZD90aGlzLl9oYW5kbGVTdGFydChhLGgsYixnLnBhZ2VYLGcucGFnZVkpOiJ0b3VjaG1vdmUiPT1kP3RoaXMuX2hhbmRsZU1vdmUoYSxoLGIsZy5wYWdlWCxnLnBhZ2VZKTooInRvdWNoZW5kIj09ZHx8InRvdWNoY2FuY2VsIj09ZCkmJnRoaXMuX2hhbmRsZUVuZChhLGgsYikpfX19LGEuX0lFX2VuYWJsZT1mdW5jdGlvbihiKXt2YXIgYz1iLmNhbnZhcyxkPWIuX190b3VjaC5mPWZ1bmN0aW9uKGMpe2EuX0lFX2hhbmRsZUV2ZW50KGIsYyl9O2MuYWRkRXZlbnRMaXN0ZW5lcigiTVNQb2ludGVyRG93biIsZCwhMSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIk1TUG9pbnRlck1vdmUiLGQsITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJNU1BvaW50ZXJVcCIsZCwhMSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIk1TUG9pbnRlckNhbmNlbCIsZCwhMSksYi5fX3RvdWNoLnByZXZlbnREZWZhdWx0JiYoYy5zdHlsZS5tc1RvdWNoQWN0aW9uPSJub25lIiksYi5fX3RvdWNoLmFjdGl2ZUlEcz17fX0sYS5fSUVfZGlzYWJsZT1mdW5jdGlvbihhKXt2YXIgYj1hLl9fdG91Y2guZjt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiTVNQb2ludGVyTW92ZSIsYiwhMSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIk1TUG9pbnRlclVwIixiLCExKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiTVNQb2ludGVyQ2FuY2VsIixiLCExKSxhLmNhbnZhcyYmYS5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigiTVNQb2ludGVyRG93biIsYiwhMSl9LGEuX0lFX2hhbmRsZUV2ZW50PWZ1bmN0aW9uKGEsYil7aWYoYSl7YS5fX3RvdWNoLnByZXZlbnREZWZhdWx0JiZiLnByZXZlbnREZWZhdWx0JiZiLnByZXZlbnREZWZhdWx0KCk7dmFyIGM9Yi50eXBlLGQ9Yi5wb2ludGVySWQsZT1hLl9fdG91Y2guYWN0aXZlSURzO2lmKCJNU1BvaW50ZXJEb3duIj09Yyl7aWYoYi5zcmNFbGVtZW50IT1hLmNhbnZhcylyZXR1cm47ZVtkXT0hMCx0aGlzLl9oYW5kbGVTdGFydChhLGQsYixiLnBhZ2VYLGIucGFnZVkpfWVsc2UgZVtkXSYmKCJNU1BvaW50ZXJNb3ZlIj09Yz90aGlzLl9oYW5kbGVNb3ZlKGEsZCxiLGIucGFnZVgsYi5wYWdlWSk6KCJNU1BvaW50ZXJVcCI9PWN8fCJNU1BvaW50ZXJDYW5jZWwiPT1jKSYmKGRlbGV0ZSBlW2RdLHRoaXMuX2hhbmRsZUVuZChhLGQsYikpKX19LGEuX2hhbmRsZVN0YXJ0PWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS5fX3RvdWNoO2lmKGYubXVsdGl0b3VjaHx8IWYuY291bnQpe3ZhciBnPWYucG9pbnRlcnM7Z1tiXXx8KGdbYl09ITAsZi5jb3VudCsrLGEuX2hhbmRsZVBvaW50ZXJEb3duKGIsYyxkLGUpKX19LGEuX2hhbmRsZU1vdmU9ZnVuY3Rpb24oYSxiLGMsZCxlKXthLl9fdG91Y2gucG9pbnRlcnNbYl0mJmEuX2hhbmRsZVBvaW50ZXJNb3ZlKGIsYyxkLGUpfSxhLl9oYW5kbGVFbmQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEuX190b3VjaCxlPWQucG9pbnRlcnM7ZVtiXSYmKGQuY291bnQtLSxhLl9oYW5kbGVQb2ludGVyVXAoYixjLCEwKSxkZWxldGUgZVtiXSl9LGNyZWF0ZWpzLlRvdWNoPWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1jcmVhdGVqcy5FYXNlbEpTPWNyZWF0ZWpzLkVhc2VsSlN8fHt9O2EudmVyc2lvbj0iTkVYVCIsYS5idWlsZERhdGU9IlR1ZSwgMDEgT2N0IDIwMTMgMTY6MDM6MzggR01UIn0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWNyZWF0ZWpzLlByZWxvYWRKUz1jcmVhdGVqcy5QcmVsb2FkSlN8fHt9O2EudmVyc2lvbj0iTkVYVCIsYS5idWlsZERhdGU9IlR1ZSwgMDEgT2N0IDIwMTMgMTY6MDM6MzggR01UIn0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NyZWF0ZWpzLnByb3h5PWZ1bmN0aW9uKGEsYil7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApLmNvbmNhdChjKSl9fX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKCl7dGhpcy5pbml0KCl9O2EucHJvdG90eXBlPXt9O3ZhciBiPWEucHJvdG90eXBlLGM9YTtjLkZJTEVfUEFUVEVSTj0vXig/Oihcdys6KVwvezJ9KFx3Kyg/OlwuXHcrKSpcLz8pKT8oWy8uXSo/KD86W14/XSspP1wvKT8oKD86W14vP10rKVwuKFx3KykpKD86XD8oXFMrKT8pPyQvLGIubG9hZGVkPSExLGIuY2FuY2VsZWQ9ITEsYi5wcm9ncmVzcz0wLGIuX2l0ZW09bnVsbCxiLl9iYXNlUGF0aD1udWxsLGIuYWRkRXZlbnRMaXN0ZW5lcj1udWxsLGIucmVtb3ZlRXZlbnRMaXN0ZW5lcj1udWxsLGIucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnM9bnVsbCxiLmRpc3BhdGNoRXZlbnQ9bnVsbCxiLmhhc0V2ZW50TGlzdGVuZXI9bnVsbCxiLl9saXN0ZW5lcnM9bnVsbCxjcmVhdGVqcy5FdmVudERpc3BhdGNoZXIuaW5pdGlhbGl6ZShiKSxiLmdldEl0ZW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXRlbX0sYi5pbml0PWZ1bmN0aW9uKCl7fSxiLmxvYWQ9ZnVuY3Rpb24oKXt9LGIuY2xvc2U9ZnVuY3Rpb24oKXt9LGIuX3NlbmRMb2FkU3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLl9pc0NhbmNlbGVkKCl8fHRoaXMuZGlzcGF0Y2hFdmVudCgibG9hZHN0YXJ0Iil9LGIuX3NlbmRQcm9ncmVzcz1mdW5jdGlvbihhKXtpZighdGhpcy5faXNDYW5jZWxlZCgpKXt2YXIgYj1udWxsOyJudW1iZXIiPT10eXBlb2YgYT8odGhpcy5wcm9ncmVzcz1hLGI9bmV3IGNyZWF0ZWpzLkV2ZW50KCJwcm9ncmVzcyIpLGIubG9hZGVkPXRoaXMucHJvZ3Jlc3MsYi50b3RhbD0xKTooYj1hLHRoaXMucHJvZ3Jlc3M9YS5sb2FkZWQvYS50b3RhbCwoaXNOYU4odGhpcy5wcm9ncmVzcyl8fDEvMD09dGhpcy5wcm9ncmVzcykmJih0aGlzLnByb2dyZXNzPTApKSxiLnByb2dyZXNzPXRoaXMucHJvZ3Jlc3MsdGhpcy5oYXNFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIpJiZ0aGlzLmRpc3BhdGNoRXZlbnQoYil9fSxiLl9zZW5kQ29tcGxldGU9ZnVuY3Rpb24oKXt0aGlzLl9pc0NhbmNlbGVkKCl8fHRoaXMuZGlzcGF0Y2hFdmVudCgiY29tcGxldGUiKX0sYi5fc2VuZEVycm9yPWZ1bmN0aW9uKGEpeyF0aGlzLl9pc0NhbmNlbGVkKCkmJnRoaXMuaGFzRXZlbnRMaXN0ZW5lcigiZXJyb3IiKSYmKG51bGw9PWEmJihhPW5ldyBjcmVhdGVqcy5FdmVudCgiZXJyb3IiKSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0sYi5faXNDYW5jZWxlZD1mdW5jdGlvbigpe3JldHVybiBudWxsPT13aW5kb3cuY3JlYXRlanN8fHRoaXMuY2FuY2VsZWQ/ITA6ITF9LGIuX3BhcnNlVVJJPWZ1bmN0aW9uKGEpe3JldHVybiBhP2EubWF0Y2goYy5GSUxFX1BBVFRFUk4pOm51bGx9LGIuX2Zvcm1hdFF1ZXJ5U3RyaW5nPWZ1bmN0aW9uKGEsYil7aWYobnVsbD09YSl0aHJvdyBuZXcgRXJyb3IoIllvdSBtdXN0IHNwZWNpZnkgZGF0YS4iKTt2YXIgYz1bXTtmb3IodmFyIGQgaW4gYSljLnB1c2goZCsiPSIrZXNjYXBlKGFbZF0pKTtyZXR1cm4gYiYmKGM9Yy5jb25jYXQoYikpLGMuam9pbigiJiIpfSxiLmJ1aWxkUGF0aD1mdW5jdGlvbihhLGIsYyl7aWYobnVsbCE9Yil7dmFyIGQ9dGhpcy5fcGFyc2VVUkkoYSk7KG51bGw9PWR8fG51bGw9PWRbMV18fCIiPT1kWzFdKSYmKGE9YithKX1pZihudWxsPT1jKXJldHVybiBhO3ZhciBlPVtdLGY9YS5pbmRleE9mKCI/Iik7aWYoLTEhPWYpe3ZhciBnPWEuc2xpY2UoZisxKTtlPWUuY29uY2F0KGcuc3BsaXQoIiYiKSl9cmV0dXJuLTEhPWY/YS5zbGljZSgwLGYpKyI/Iit0aGlzLl9mb3JtYXRRdWVyeVN0cmluZyhjLGUpOmErIj8iK3RoaXMuX2Zvcm1hdFF1ZXJ5U3RyaW5nKGMsZSl9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW1ByZWxvYWRKUyBBYnN0cmFjdExvYWRlcl0ifSxjcmVhdGVqcy5BYnN0cmFjdExvYWRlcj1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9ZnVuY3Rpb24oYSxiKXt0aGlzLmluaXQoYSxiKX0sYj1hLnByb3RvdHlwZT1uZXcgY3JlYXRlanMuQWJzdHJhY3RMb2FkZXIsYz1hO2MuTE9BRF9USU1FT1VUPThlMyxjLkJJTkFSWT0iYmluYXJ5IixjLkNTUz0iY3NzIixjLklNQUdFPSJpbWFnZSIsYy5KQVZBU0NSSVBUPSJqYXZhc2NyaXB0IixjLkpTT049Impzb24iLGMuSlNPTlA9Impzb25wIixjLlNPVU5EPSJzb3VuZCIsYy5TVkc9InN2ZyIsYy5URVhUPSJ0ZXh0IixjLlhNTD0ieG1sIixjLlBPU1Q9IlBPU1QiLGMuR0VUPSJHRVQiLGIudXNlWEhSPSEwLGIuc3RvcE9uRXJyb3I9ITEsYi5tYWludGFpblNjcmlwdE9yZGVyPSEwLGIubmV4dD1udWxsLGIuX3R5cGVDYWxsYmFja3M9bnVsbCxiLl9leHRlbnNpb25DYWxsYmFja3M9bnVsbCxiLl9sb2FkU3RhcnRXYXNEaXNwYXRjaGVkPSExLGIuX21heENvbm5lY3Rpb25zPTEsYi5fY3VycmVudGx5TG9hZGluZ1NjcmlwdD1udWxsLGIuX2N1cnJlbnRMb2Fkcz1udWxsLGIuX2xvYWRRdWV1ZT1udWxsLGIuX2xvYWRRdWV1ZUJhY2t1cD1udWxsLGIuX2xvYWRJdGVtc0J5SWQ9bnVsbCxiLl9sb2FkSXRlbXNCeVNyYz1udWxsLGIuX2xvYWRlZFJlc3VsdHM9bnVsbCxiLl9sb2FkZWRSYXdSZXN1bHRzPW51bGwsYi5fbnVtSXRlbXM9MCxiLl9udW1JdGVtc0xvYWRlZD0wLGIuX3NjcmlwdE9yZGVyPW51bGwsYi5fbG9hZGVkU2NyaXB0cz1udWxsLGIuaW5pdD1mdW5jdGlvbihhLGIpe3RoaXMuX251bUl0ZW1zPXRoaXMuX251bUl0ZW1zTG9hZGVkPTAsdGhpcy5fcGF1c2VkPSExLHRoaXMuX2xvYWRTdGFydFdhc0Rpc3BhdGNoZWQ9ITEsdGhpcy5fY3VycmVudExvYWRzPVtdLHRoaXMuX2xvYWRRdWV1ZT1bXSx0aGlzLl9sb2FkUXVldWVCYWNrdXA9W10sdGhpcy5fc2NyaXB0T3JkZXI9W10sdGhpcy5fbG9hZGVkU2NyaXB0cz1bXSx0aGlzLl9sb2FkSXRlbXNCeUlkPXt9LHRoaXMuX2xvYWRJdGVtc0J5U3JjPXt9LHRoaXMuX2xvYWRlZFJlc3VsdHM9e30sdGhpcy5fbG9hZGVkUmF3UmVzdWx0cz17fSx0aGlzLl90eXBlQ2FsbGJhY2tzPXt9LHRoaXMuX2V4dGVuc2lvbkNhbGxiYWNrcz17fSx0aGlzLl9iYXNlUGF0aD1iLHRoaXMuc2V0VXNlWEhSKGEpfSxiLnNldFVzZVhIUj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy51c2VYSFI9MCE9YSYmbnVsbCE9d2luZG93LlhNTEh0dHBSZXF1ZXN0LHRoaXMudXNlWEhSfSxiLnJlbW92ZUFsbD1mdW5jdGlvbigpe3RoaXMucmVtb3ZlKCl9LGIucmVtb3ZlPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7aWYoIWF8fGEgaW5zdGFuY2VvZiBBcnJheSl7aWYoYSliPWE7ZWxzZSBpZihhcmd1bWVudHMubGVuZ3RoPjApcmV0dXJufWVsc2UgYj1bYV07dmFyIGM9ITE7aWYoYil7Zm9yKDtiLmxlbmd0aDspe3ZhciBkPWIucG9wKCksZT10aGlzLmdldFJlc3VsdChkKTtmb3IoZj10aGlzLl9sb2FkUXVldWUubGVuZ3RoLTE7Zj49MDtmLS0paWYoZz10aGlzLl9sb2FkUXVldWVbZl0uZ2V0SXRlbSgpLGcuaWQ9PWR8fGcuc3JjPT1kKXt0aGlzLl9sb2FkUXVldWUuc3BsaWNlKGYsMSlbMF0uY2FuY2VsKCk7YnJlYWt9Zm9yKGY9dGhpcy5fbG9hZFF1ZXVlQmFja3VwLmxlbmd0aC0xO2Y+PTA7Zi0tKWlmKGc9dGhpcy5fbG9hZFF1ZXVlQmFja3VwW2ZdLmdldEl0ZW0oKSxnLmlkPT1kfHxnLnNyYz09ZCl7dGhpcy5fbG9hZFF1ZXVlQmFja3VwLnNwbGljZShmLDEpWzBdLmNhbmNlbCgpO2JyZWFrfWlmKGUpZGVsZXRlIHRoaXMuX2xvYWRJdGVtc0J5SWRbZS5pZF0sZGVsZXRlIHRoaXMuX2xvYWRJdGVtc0J5U3JjW2Uuc3JjXSx0aGlzLl9kaXNwb3NlSXRlbShlKTtlbHNlIGZvcih2YXIgZj10aGlzLl9jdXJyZW50TG9hZHMubGVuZ3RoLTE7Zj49MDtmLS0pe3ZhciBnPXRoaXMuX2N1cnJlbnRMb2Fkc1tmXS5nZXRJdGVtKCk7aWYoZy5pZD09ZHx8Zy5zcmM9PWQpe3RoaXMuX2N1cnJlbnRMb2Fkcy5zcGxpY2UoZiwxKVswXS5jYW5jZWwoKSxjPSEwO2JyZWFrfX19YyYmdGhpcy5fbG9hZE5leHQoKX1lbHNle3RoaXMuY2xvc2UoKTtmb3IodmFyIGggaW4gdGhpcy5fbG9hZEl0ZW1zQnlJZCl0aGlzLl9kaXNwb3NlSXRlbSh0aGlzLl9sb2FkSXRlbXNCeUlkW2hdKTt0aGlzLmluaXQodGhpcy51c2VYSFIpfX0sYi5yZXNldD1mdW5jdGlvbigpe3RoaXMuY2xvc2UoKTtmb3IodmFyIGEgaW4gdGhpcy5fbG9hZEl0ZW1zQnlJZCl0aGlzLl9kaXNwb3NlSXRlbSh0aGlzLl9sb2FkSXRlbXNCeUlkW2FdKTt2YXIgYj1bXTtmb3IoaT0wLGw9dGhpcy5fbG9hZFF1ZXVlQmFja3VwLmxlbmd0aDtsPmk7aSsrKWIucHVzaCh0aGlzLl9sb2FkUXVldWVCYWNrdXBbaV0uZ2V0SXRlbSgpKTt0aGlzLmxvYWRNYW5pZmVzdChiLCExKX0sYy5pc0JpbmFyeT1mdW5jdGlvbihhKXtzd2l0Y2goYSl7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuSU1BR0U6Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuQklOQVJZOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSxiLmluc3RhbGxQbHVnaW49ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSYmbnVsbCE9YS5nZXRQcmVsb2FkSGFuZGxlcnMpe3ZhciBiPWEuZ2V0UHJlbG9hZEhhbmRsZXJzKCk7aWYobnVsbCE9Yi50eXBlcylmb3IodmFyIGM9MCxkPWIudHlwZXMubGVuZ3RoO2Q+YztjKyspdGhpcy5fdHlwZUNhbGxiYWNrc1tiLnR5cGVzW2NdXT1iLmNhbGxiYWNrO2lmKG51bGwhPWIuZXh0ZW5zaW9ucylmb3IoYz0wLGQ9Yi5leHRlbnNpb25zLmxlbmd0aDtkPmM7YysrKXRoaXMuX2V4dGVuc2lvbkNhbGxiYWNrc1tiLmV4dGVuc2lvbnNbY11dPWIuY2FsbGJhY2t9fSxiLnNldE1heENvbm5lY3Rpb25zPWZ1bmN0aW9uKGEpe3RoaXMuX21heENvbm5lY3Rpb25zPWEsIXRoaXMuX3BhdXNlZCYmdGhpcy5fbG9hZFF1ZXVlLmxlbmd0aD4wJiZ0aGlzLl9sb2FkTmV4dCgpfSxiLmxvYWRGaWxlPWZ1bmN0aW9uKGEsYixjKXtpZihudWxsPT1hKXt2YXIgZD1uZXcgY3JlYXRlanMuRXZlbnQoImVycm9yIik7cmV0dXJuIGQudGV4dD0iUFJFTE9BRF9OT19GSUxFIix0aGlzLl9zZW5kRXJyb3IoZCksdm9pZCAwfXRoaXMuX2FkZEl0ZW0oYSxjKSxiIT09ITE/dGhpcy5zZXRQYXVzZWQoITEpOnRoaXMuc2V0UGF1c2VkKCEwKX0sYi5sb2FkTWFuaWZlc3Q9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW51bGw7aWYoYSBpbnN0YW5jZW9mIEFycmF5KXtpZigwPT1hLmxlbmd0aCl7dmFyIGU9bmV3IGNyZWF0ZWpzLkV2ZW50KCJlcnJvciIpO3JldHVybiBlLnRleHQ9IlBSRUxPQURfTUFOSUZFU1RfRU1QVFkiLHRoaXMuX3NlbmRFcnJvcihlKSx2b2lkIDB9ZD1hfWVsc2V7aWYobnVsbD09YSl7dmFyIGU9bmV3IGNyZWF0ZWpzLkV2ZW50KCJlcnJvciIpO3JldHVybiBlLnRleHQ9IlBSRUxPQURfTUFOSUZFU1RfTlVMTCIsdGhpcy5fc2VuZEVycm9yKGUpLHZvaWQgMH1kPVthXX1mb3IodmFyIGY9MCxnPWQubGVuZ3RoO2c+ZjtmKyspdGhpcy5fYWRkSXRlbShkW2ZdLGMpO2IhPT0hMT90aGlzLnNldFBhdXNlZCghMSk6dGhpcy5zZXRQYXVzZWQoITApfSxiLmxvYWQ9ZnVuY3Rpb24oKXt0aGlzLnNldFBhdXNlZCghMSl9LGIuZ2V0SXRlbT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fbG9hZEl0ZW1zQnlJZFthXXx8dGhpcy5fbG9hZEl0ZW1zQnlTcmNbYV19LGIuZ2V0UmVzdWx0PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fbG9hZEl0ZW1zQnlJZFthXXx8dGhpcy5fbG9hZEl0ZW1zQnlTcmNbYV07aWYobnVsbD09YylyZXR1cm4gbnVsbDt2YXIgZD1jLmlkO3JldHVybiBiJiZ0aGlzLl9sb2FkZWRSYXdSZXN1bHRzW2RdP3RoaXMuX2xvYWRlZFJhd1Jlc3VsdHNbZF06dGhpcy5fbG9hZGVkUmVzdWx0c1tkXX0sYi5zZXRQYXVzZWQ9ZnVuY3Rpb24oYSl7dGhpcy5fcGF1c2VkPWEsdGhpcy5fcGF1c2VkfHx0aGlzLl9sb2FkTmV4dCgpfSxiLmNsb3NlPWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLl9jdXJyZW50TG9hZHMubGVuZ3RoOyl0aGlzLl9jdXJyZW50TG9hZHMucG9wKCkuY2FuY2VsKCk7dGhpcy5fc2NyaXB0T3JkZXIubGVuZ3RoPTAsdGhpcy5fbG9hZGVkU2NyaXB0cy5sZW5ndGg9MCx0aGlzLmxvYWRTdGFydFdhc0Rpc3BhdGNoZWQ9ITF9LGIuX2FkZEl0ZW09ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl9jcmVhdGVMb2FkSXRlbShhKTtpZihudWxsIT1jKXt2YXIgZD10aGlzLl9jcmVhdGVMb2FkZXIoYyxiKTtudWxsIT1kJiYodGhpcy5fbG9hZFF1ZXVlLnB1c2goZCksdGhpcy5fbG9hZFF1ZXVlQmFja3VwLnB1c2goZCksdGhpcy5fbnVtSXRlbXMrKyx0aGlzLl91cGRhdGVQcm9ncmVzcygpLHRoaXMubWFpbnRhaW5TY3JpcHRPcmRlciYmYy50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSkFWQVNDUklQVCYmZCBpbnN0YW5jZW9mIGNyZWF0ZWpzLlhIUkxvYWRlciYmKHRoaXMuX3NjcmlwdE9yZGVyLnB1c2goYyksdGhpcy5fbG9hZGVkU2NyaXB0cy5wdXNoKG51bGwpKSl9fSxiLl9jcmVhdGVMb2FkSXRlbT1mdW5jdGlvbihhKXt2YXIgYj1udWxsO3N3aXRjaCh0eXBlb2YgYSl7Y2FzZSJzdHJpbmciOmI9e3NyYzphfTticmVhaztjYXNlIm9iamVjdCI6Yj13aW5kb3cuSFRNTEF1ZGlvRWxlbWVudCYmYSBpbnN0YW5jZW9mIEhUTUxBdWRpb0VsZW1lbnQ/e3RhZzphLHNyYzpiLnRhZy5zcmMsdHlwZTpjcmVhdGVqcy5Mb2FkUXVldWUuU09VTkR9OmE7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gbnVsbH12YXIgYz10aGlzLl9wYXJzZVVSSShiLnNyYyk7aWYobnVsbCE9YyYmKGIuZXh0PWNbNV0pLG51bGw9PWIudHlwZSYmKGIudHlwZT10aGlzLl9nZXRUeXBlQnlFeHRlbnNpb24oYi5leHQpKSxiLnR5cGU9PWNyZWF0ZWpzLkxvYWRRdWV1ZS5KU09OJiZudWxsIT1iLmNhbGxiYWNrJiYoYi50eXBlPWNyZWF0ZWpzLkxvYWRRdWV1ZS5KU09OUCksYi50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSlNPTlAmJm51bGw9PWIuY2FsbGJhY2spdGhyb3cgbmV3IEVycm9yKCJjYWxsYmFjayBpcyByZXF1aXJlZCBmb3IgbG9hZGluZyBKU09OUCByZXF1ZXN0cy4iKTtudWxsPT1iLnRhZyYmKGIudGFnPXRoaXMuX2NyZWF0ZVRhZyhiLnR5cGUpKSwobnVsbD09Yi5pZHx8IiI9PWIuaWQpJiYoYi5pZD1iLnNyYyk7dmFyIGQ9dGhpcy5fdHlwZUNhbGxiYWNrc1tiLnR5cGVdfHx0aGlzLl9leHRlbnNpb25DYWxsYmFja3NbYi5leHRdO2lmKGQpe3ZhciBlPWQoYi5zcmMsYi50eXBlLGIuaWQsYi5kYXRhKTtpZihlPT09ITEpcmV0dXJuIG51bGw7ZT09PSEwfHwobnVsbCE9ZS5zcmMmJihiLnNyYz1lLnNyYyksbnVsbCE9ZS5pZCYmKGIuaWQ9ZS5pZCksbnVsbCE9ZS50YWcmJmUudGFnLmxvYWQgaW5zdGFuY2VvZiBGdW5jdGlvbiYmKGIudGFnPWUudGFnKSxudWxsIT1lLmNvbXBsZXRlSGFuZGxlciYmKGIuY29tcGxldGVIYW5kbGVyPWUuY29tcGxldGVIYW5kbGVyKSksZS50eXBlJiYoYi50eXBlPWUudHlwZSksYz10aGlzLl9wYXJzZVVSSShiLnNyYyksbnVsbCE9YyYmbnVsbCE9Y1s1XSYmKGIuZXh0PWNbNV0udG9Mb3dlckNhc2UoKSl9cmV0dXJuIHRoaXMuX2xvYWRJdGVtc0J5SWRbYi5pZF09Yix0aGlzLl9sb2FkSXRlbXNCeVNyY1tiLnNyY109YixifSxiLl9jcmVhdGVMb2FkZXI9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnVzZVhIUjtzd2l0Y2goYS50eXBlKXtjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5KU09OOmNhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLlhNTDpjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5URVhUOmM9ITA7YnJlYWs7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuU09VTkQ6Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuSlNPTlA6Yz0hMTticmVhaztjYXNlIG51bGw6cmV0dXJuIG51bGx9cmV0dXJuIG51bGw9PWImJihiPXRoaXMuX2Jhc2VQYXRoKSxjP25ldyBjcmVhdGVqcy5YSFJMb2FkZXIoYSxiKTpuZXcgY3JlYXRlanMuVGFnTG9hZGVyKGEsYil9LGIuX2xvYWROZXh0PWZ1bmN0aW9uKCl7aWYoIXRoaXMuX3BhdXNlZCl7dGhpcy5fbG9hZFN0YXJ0V2FzRGlzcGF0Y2hlZHx8KHRoaXMuX3NlbmRMb2FkU3RhcnQoKSx0aGlzLl9sb2FkU3RhcnRXYXNEaXNwYXRjaGVkPSEwKSx0aGlzLl9udW1JdGVtcz09dGhpcy5fbnVtSXRlbXNMb2FkZWQ/KHRoaXMubG9hZGVkPSEwLHRoaXMuX3NlbmRDb21wbGV0ZSgpLHRoaXMubmV4dCYmdGhpcy5uZXh0LmxvYWQmJnRoaXMubmV4dC5sb2FkKCkpOnRoaXMubG9hZGVkPSExO2Zvcih2YXIgYT0wO2E8dGhpcy5fbG9hZFF1ZXVlLmxlbmd0aCYmISh0aGlzLl9jdXJyZW50TG9hZHMubGVuZ3RoPj10aGlzLl9tYXhDb25uZWN0aW9ucyk7YSsrKXt2YXIgYj10aGlzLl9sb2FkUXVldWVbYV07aWYodGhpcy5tYWludGFpblNjcmlwdE9yZGVyJiZiIGluc3RhbmNlb2YgY3JlYXRlanMuVGFnTG9hZGVyJiZiLmdldEl0ZW0oKS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSkFWQVNDUklQVCl7aWYodGhpcy5fY3VycmVudGx5TG9hZGluZ1NjcmlwdCljb250aW51ZTt0aGlzLl9jdXJyZW50bHlMb2FkaW5nU2NyaXB0PSEwfXRoaXMuX2xvYWRRdWV1ZS5zcGxpY2UoYSwxKSxhLS0sdGhpcy5fbG9hZEl0ZW0oYil9fX0sYi5fbG9hZEl0ZW09ZnVuY3Rpb24oYSl7YS5hZGRFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlUHJvZ3Jlc3MsdGhpcykpLGEuYWRkRXZlbnRMaXN0ZW5lcigiY29tcGxldGUiLGNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZUZpbGVDb21wbGV0ZSx0aGlzKSksYS5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlRmlsZUVycm9yLHRoaXMpKSx0aGlzLl9jdXJyZW50TG9hZHMucHVzaChhKSx0aGlzLl9zZW5kRmlsZVN0YXJ0KGEuZ2V0SXRlbSgpKSxhLmxvYWQoKX0sYi5faGFuZGxlRmlsZUVycm9yPWZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0O3RoaXMuX251bUl0ZW1zTG9hZGVkKyssdGhpcy5fdXBkYXRlUHJvZ3Jlc3MoKTt2YXIgYT1uZXcgY3JlYXRlanMuRXZlbnQoImVycm9yIik7YS50ZXh0PSJGSUxFX0xPQURfRVJST1IiLGEuaXRlbT1iLmdldEl0ZW0oKSx0aGlzLl9zZW5kRXJyb3IoYSksdGhpcy5zdG9wT25FcnJvcnx8KHRoaXMuX3JlbW92ZUxvYWRJdGVtKGIpLHRoaXMuX2xvYWROZXh0KCkpfSxiLl9oYW5kbGVGaWxlQ29tcGxldGU9ZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQsYz1iLmdldEl0ZW0oKTtpZih0aGlzLl9sb2FkZWRSZXN1bHRzW2MuaWRdPWIuZ2V0UmVzdWx0KCksYiBpbnN0YW5jZW9mIGNyZWF0ZWpzLlhIUkxvYWRlciYmKHRoaXMuX2xvYWRlZFJhd1Jlc3VsdHNbYy5pZF09Yi5nZXRSZXN1bHQoITApKSx0aGlzLl9yZW1vdmVMb2FkSXRlbShiKSx0aGlzLm1haW50YWluU2NyaXB0T3JkZXImJmMudHlwZT09Y3JlYXRlanMuTG9hZFF1ZXVlLkpBVkFTQ1JJUFQpe2lmKCEoYiBpbnN0YW5jZW9mIGNyZWF0ZWpzLlRhZ0xvYWRlcikpcmV0dXJuIHRoaXMuX2xvYWRlZFNjcmlwdHNbY3JlYXRlanMuaW5kZXhPZih0aGlzLl9zY3JpcHRPcmRlcixjKV09Yyx0aGlzLl9jaGVja1NjcmlwdExvYWRPcmRlcihiKSx2b2lkIDA7dGhpcy5fY3VycmVudGx5TG9hZGluZ1NjcmlwdD0hMX10aGlzLl9wcm9jZXNzRmluaXNoZWRMb2FkKGMsYil9LGIuX3Byb2Nlc3NGaW5pc2hlZExvYWQ9ZnVuY3Rpb24oYSxiKXt0aGlzLl9udW1JdGVtc0xvYWRlZCsrLHRoaXMuX3VwZGF0ZVByb2dyZXNzKCksdGhpcy5fc2VuZEZpbGVDb21wbGV0ZShhLGIpLHRoaXMuX2xvYWROZXh0KCl9LGIuX2NoZWNrU2NyaXB0TG9hZE9yZGVyPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuX2xvYWRlZFNjcmlwdHMubGVuZ3RoLGI9MDthPmI7YisrKXt2YXIgYz10aGlzLl9sb2FkZWRTY3JpcHRzW2JdO2lmKG51bGw9PT1jKWJyZWFrO2MhPT0hMCYmKHRoaXMuX3Byb2Nlc3NGaW5pc2hlZExvYWQoYyksdGhpcy5fbG9hZGVkU2NyaXB0c1tiXT0hMCxiLS0sYS0tKX19LGIuX3JlbW92ZUxvYWRJdGVtPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLl9jdXJyZW50TG9hZHMubGVuZ3RoLGM9MDtiPmM7YysrKWlmKHRoaXMuX2N1cnJlbnRMb2Fkc1tjXT09YSl7dGhpcy5fY3VycmVudExvYWRzLnNwbGljZShjLDEpO2JyZWFrfX0sYi5faGFuZGxlUHJvZ3Jlc3M9ZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQ7dGhpcy5fc2VuZEZpbGVQcm9ncmVzcyhiLmdldEl0ZW0oKSxiLnByb2dyZXNzKSx0aGlzLl91cGRhdGVQcm9ncmVzcygpfSxiLl91cGRhdGVQcm9ncmVzcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuX251bUl0ZW1zTG9hZGVkL3RoaXMuX251bUl0ZW1zLGI9dGhpcy5fbnVtSXRlbXMtdGhpcy5fbnVtSXRlbXNMb2FkZWQ7aWYoYj4wKXtmb3IodmFyIGM9MCxkPTAsZT10aGlzLl9jdXJyZW50TG9hZHMubGVuZ3RoO2U+ZDtkKyspYys9dGhpcy5fY3VycmVudExvYWRzW2RdLnByb2dyZXNzO2ErPWMvYiooYi90aGlzLl9udW1JdGVtcyl9dGhpcy5fc2VuZFByb2dyZXNzKGEpfSxiLl9kaXNwb3NlSXRlbT1mdW5jdGlvbihhKXtkZWxldGUgdGhpcy5fbG9hZGVkUmVzdWx0c1thLmlkXSxkZWxldGUgdGhpcy5fbG9hZGVkUmF3UmVzdWx0c1thLmlkXSxkZWxldGUgdGhpcy5fbG9hZEl0ZW1zQnlJZFthLmlkXSxkZWxldGUgdGhpcy5fbG9hZEl0ZW1zQnlTcmNbYS5zcmNdfSxiLl9jcmVhdGVUYWc9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtzd2l0Y2goYSl7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuSU1BR0U6cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpO2Nhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLlNPVU5EOnJldHVybiBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImF1ZGlvIiksYi5hdXRvcGxheT0hMSxiO2Nhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLkpTT05QOmNhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLkpBVkFTQ1JJUFQ6cmV0dXJuIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0IiksYi50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiLGI7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuQ1NTOnJldHVybiBiPXRoaXMudXNlWEhSP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGluayIpLGIucmVsPSJzdHlsZXNoZWV0IixiLnR5cGU9InRleHQvY3NzIixiO2Nhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLlNWRzpyZXR1cm4gdGhpcy51c2VYSFI/Yj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdmciKTooYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvYmplY3QiKSxiLnR5cGU9ImltYWdlL3N2Zyt4bWwiKSxifXJldHVybiBudWxsfSxiLl9nZXRUeXBlQnlFeHRlbnNpb249ZnVuY3Rpb24oYSl7aWYobnVsbD09YSlyZXR1cm4gY3JlYXRlanMuTG9hZFF1ZXVlLlRFWFQ7c3dpdGNoKGEudG9Mb3dlckNhc2UoKSl7Y2FzZSJqcGVnIjpjYXNlImpwZyI6Y2FzZSJnaWYiOmNhc2UicG5nIjpjYXNlIndlYnAiOmNhc2UiYm1wIjpyZXR1cm4gY3JlYXRlanMuTG9hZFF1ZXVlLklNQUdFO2Nhc2Uib2dnIjpjYXNlIm1wMyI6Y2FzZSJ3YXYiOnJldHVybiBjcmVhdGVqcy5Mb2FkUXVldWUuU09VTkQ7Y2FzZSJqc29uIjpyZXR1cm4gY3JlYXRlanMuTG9hZFF1ZXVlLkpTT047Y2FzZSJ4bWwiOnJldHVybiBjcmVhdGVqcy5Mb2FkUXVldWUuWE1MO2Nhc2UiY3NzIjpyZXR1cm4gY3JlYXRlanMuTG9hZFF1ZXVlLkNTUztjYXNlImpzIjpyZXR1cm4gY3JlYXRlanMuTG9hZFF1ZXVlLkpBVkFTQ1JJUFQ7Y2FzZSJzdmciOnJldHVybiBjcmVhdGVqcy5Mb2FkUXVldWUuU1ZHO2RlZmF1bHQ6cmV0dXJuIGNyZWF0ZWpzLkxvYWRRdWV1ZS5URVhUfX0sYi5fc2VuZEZpbGVQcm9ncmVzcz1mdW5jdGlvbihhLGIpe2lmKHRoaXMuX2lzQ2FuY2VsZWQoKSlyZXR1cm4gdGhpcy5fY2xlYW5VcCgpLHZvaWQgMDtpZih0aGlzLmhhc0V2ZW50TGlzdGVuZXIoImZpbGVwcm9ncmVzcyIpKXt2YXIgYz1uZXcgY3JlYXRlanMuRXZlbnQoImZpbGVwcm9ncmVzcyIpO2MucHJvZ3Jlc3M9YixjLmxvYWRlZD1iLGMudG90YWw9MSxjLml0ZW09YSx0aGlzLmRpc3BhdGNoRXZlbnQoYyl9fSxiLl9zZW5kRmlsZUNvbXBsZXRlPWZ1bmN0aW9uKGEsYil7aWYoIXRoaXMuX2lzQ2FuY2VsZWQoKSl7dmFyIGM9bmV3IGNyZWF0ZWpzLkV2ZW50KCJmaWxlbG9hZCIpO2MubG9hZGVyPWIsYy5pdGVtPWEsYy5yZXN1bHQ9dGhpcy5fbG9hZGVkUmVzdWx0c1thLmlkXSxjLnJhd1Jlc3VsdD10aGlzLl9sb2FkZWRSYXdSZXN1bHRzW2EuaWRdLGEuY29tcGxldGVIYW5kbGVyJiZhLmNvbXBsZXRlSGFuZGxlcihjKSx0aGlzLmhhc0V2ZW50TGlzdGVuZXIoImZpbGVsb2FkIikmJnRoaXMuZGlzcGF0Y2hFdmVudChjKX19LGIuX3NlbmRGaWxlU3RhcnQ9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGNyZWF0ZWpzLkV2ZW50KCJmaWxlc3RhcnQiKTtiLml0ZW09YSx0aGlzLmhhc0V2ZW50TGlzdGVuZXIoImZpbGVzdGFydCIpJiZ0aGlzLmRpc3BhdGNoRXZlbnQoYil9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW1ByZWxvYWRKUyBMb2FkUXVldWVdIn0sY3JlYXRlanMuTG9hZFF1ZXVlPWE7dmFyIGQ9ZnVuY3Rpb24oKXt9O2QuaW5pdD1mdW5jdGlvbigpe3ZhciBhPW5hdmlnYXRvci51c2VyQWdlbnQ7ZC5pc0ZpcmVmb3g9YS5pbmRleE9mKCJGaXJlZm94Iik+LTEsZC5pc09wZXJhPW51bGwhPXdpbmRvdy5vcGVyYSxkLmlzQ2hyb21lPWEuaW5kZXhPZigiQ2hyb21lIik+LTEsZC5pc0lPUz1hLmluZGV4T2YoImlQb2QiKT4tMXx8YS5pbmRleE9mKCJpUGhvbmUiKT4tMXx8YS5pbmRleE9mKCJpUGFkIik+LTF9LGQuaW5pdCgpLGNyZWF0ZWpzLkxvYWRRdWV1ZS5Ccm93c2VyRGV0ZWN0PWR9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbihhLGIpe3RoaXMuaW5pdChhLGIpfSxiPWEucHJvdG90eXBlPW5ldyBjcmVhdGVqcy5BYnN0cmFjdExvYWRlcjtiLl9sb2FkVGltZW91dD1udWxsLGIuX3RhZ0NvbXBsZXRlUHJveHk9bnVsbCxiLl9pc0F1ZGlvPSExLGIuX3RhZz1udWxsLGIuX2pzb25SZXN1bHQ9bnVsbCxiLmluaXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLl9pdGVtPWEsdGhpcy5fYmFzZVBhdGg9Yix0aGlzLl90YWc9YS50YWcsdGhpcy5faXNBdWRpbz13aW5kb3cuSFRNTEF1ZGlvRWxlbWVudCYmYS50YWcgaW5zdGFuY2VvZiBIVE1MQXVkaW9FbGVtZW50LHRoaXMuX3RhZ0NvbXBsZXRlUHJveHk9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlTG9hZCx0aGlzKX0sYi5nZXRSZXN1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXRlbS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSlNPTlA/dGhpcy5fanNvblJlc3VsdDp0aGlzLl90YWd9LGIuY2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5jYW5jZWxlZD0hMCx0aGlzLl9jbGVhbigpLHRoaXMuZ2V0SXRlbSgpfSxiLmxvYWQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9pdGVtLGI9dGhpcy5fdGFnO2NsZWFyVGltZW91dCh0aGlzLl9sb2FkVGltZW91dCksdGhpcy5fbG9hZFRpbWVvdXQ9c2V0VGltZW91dChjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVUaW1lb3V0LHRoaXMpLGNyZWF0ZWpzLkxvYWRRdWV1ZS5MT0FEX1RJTUVPVVQpLHRoaXMuX2lzQXVkaW8mJihiLnNyYz1udWxsLGIucHJlbG9hZD0iYXV0byIpLGIub25lcnJvcj1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVFcnJvcix0aGlzKSx0aGlzLl9pc0F1ZGlvPyhiLm9uc3RhbGxlZD1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVTdGFsbGVkLHRoaXMpLGIuYWRkRXZlbnRMaXN0ZW5lcigiY2FucGxheXRocm91Z2giLHRoaXMuX3RhZ0NvbXBsZXRlUHJveHksITEpKTooYi5vbmxvYWQ9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlTG9hZCx0aGlzKSxiLm9ucmVhZHlzdGF0ZWNoYW5nZT1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVSZWFkeVN0YXRlQ2hhbmdlLHRoaXMpKTt2YXIgYz10aGlzLmJ1aWxkUGF0aChhLnNyYyx0aGlzLl9iYXNlUGF0aCxhLnZhbHVlcyk7c3dpdGNoKGEudHlwZSl7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuQ1NTOmIuaHJlZj1jO2JyZWFrO2Nhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLlNWRzpiLmRhdGE9YzticmVhaztkZWZhdWx0OmIuc3JjPWN9aWYoYS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSlNPTlApe2lmKG51bGw9PWEuY2FsbGJhY2spdGhyb3cgbmV3IEVycm9yKCJjYWxsYmFjayBpcyByZXF1aXJlZCBmb3IgbG9hZGluZyBKU09OUCByZXF1ZXN0cy4iKTtpZihudWxsIT13aW5kb3dbYS5jYWxsYmFja10pdGhyb3cgbmV3IEVycm9yKCdKU09OUCBjYWxsYmFjayAiJythLmNhbGxiYWNrKyciIGFscmVhZHkgZXhpc3RzIG9uIHdpbmRvdy4gWW91IG5lZWQgdG8gc3BlY2lmeSBhIGRpZmZlcmVudCBjYWxsYmFjay4gT3IgcmUtbmFtZSB0aGUgY3VycmVudCBvbmUuJyk7d2luZG93W2EuY2FsbGJhY2tdPWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZUpTT05QTG9hZCx0aGlzKX0oYS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuU1ZHfHxhLnR5cGU9PWNyZWF0ZWpzLkxvYWRRdWV1ZS5KU09OUHx8YS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSlNPTnx8YS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSkFWQVNDUklQVHx8YS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuQ1NTKSYmKHRoaXMuX3N0YXJ0VGFnVmlzaWJpbGl0eT1iLnN0eWxlLnZpc2liaWxpdHksYi5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iLChkb2N1bWVudC5ib2R5fHxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdKS5hcHBlbmRDaGlsZChiKSksbnVsbCE9Yi5sb2FkJiZiLmxvYWQoKX0sYi5faGFuZGxlSlNPTlBMb2FkPWZ1bmN0aW9uKGEpe3RoaXMuX2pzb25SZXN1bHQ9YX0sYi5faGFuZGxlVGltZW91dD1mdW5jdGlvbigpe3RoaXMuX2NsZWFuKCk7dmFyIGE9bmV3IGNyZWF0ZWpzLkV2ZW50KCJlcnJvciIpO2EudGV4dD0iUFJFTE9BRF9USU1FT1VUIix0aGlzLl9zZW5kRXJyb3IoYSl9LGIuX2hhbmRsZVN0YWxsZWQ9ZnVuY3Rpb24oKXt9LGIuX2hhbmRsZUVycm9yPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYW4oKTt2YXIgYT1uZXcgY3JlYXRlanMuRXZlbnQoImVycm9yIik7dGhpcy5fc2VuZEVycm9yKGEpfSxiLl9oYW5kbGVSZWFkeVN0YXRlQ2hhbmdlPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX2xvYWRUaW1lb3V0KTt2YXIgYT10aGlzLmdldEl0ZW0oKS50YWc7KCJsb2FkZWQiPT1hLnJlYWR5U3RhdGV8fCJjb21wbGV0ZSI9PWEucmVhZHlTdGF0ZSkmJnRoaXMuX2hhbmRsZUxvYWQoKX0sYi5faGFuZGxlTG9hZD1mdW5jdGlvbigpe2lmKCF0aGlzLl9pc0NhbmNlbGVkKCkpe3ZhciBhPXRoaXMuZ2V0SXRlbSgpLGI9YS50YWc7aWYoISh0aGlzLmxvYWRlZHx8dGhpcy5pc0F1ZGlvJiY0IT09Yi5yZWFkeVN0YXRlKSl7c3dpdGNoKHRoaXMubG9hZGVkPSEwLGEudHlwZSl7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuU1ZHOmNhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLkpTT05QOmIuc3R5bGUudmlzaWJpbGl0eT10aGlzLl9zdGFydFRhZ1Zpc2liaWxpdHksKGRvY3VtZW50LmJvZHl8fGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0pLnJlbW92ZUNoaWxkKGIpfXRoaXMuX2NsZWFuKCksdGhpcy5fc2VuZENvbXBsZXRlKCl9fX0sYi5fY2xlYW49ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fbG9hZFRpbWVvdXQpO3ZhciBhPXRoaXMuZ2V0SXRlbSgpLnRhZzthLm9ubG9hZD1udWxsLGEucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKCJjYW5wbGF5dGhyb3VnaCIsdGhpcy5fdGFnQ29tcGxldGVQcm94eSwhMSksYS5vbnN0YWxsZWQ9bnVsbCxhLm9ucHJvZ3Jlc3M9bnVsbCxhLm9uZXJyb3I9bnVsbCxhLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKTt2YXIgYj10aGlzLmdldEl0ZW0oKTtiLnR5cGU9PWNyZWF0ZWpzLkxvYWRRdWV1ZS5KU09OUCYmKHdpbmRvd1tiLmNhbGxiYWNrXT1udWxsKX0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbUHJlbG9hZEpTIFRhZ0xvYWRlcl0ifSxjcmVhdGVqcy5UYWdMb2FkZXI9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKGEsYil7dGhpcy5pbml0KGEsYil9LGI9YS5wcm90b3R5cGU9bmV3IGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyO2IuX3JlcXVlc3Q9bnVsbCxiLl9sb2FkVGltZW91dD1udWxsLGIuX3hockxldmVsPTEsYi5fcmVzcG9uc2U9bnVsbCxiLl9yYXdSZXNwb25zZT1udWxsLGIuaW5pdD1mdW5jdGlvbihhLGIpe3RoaXMuX2l0ZW09YSx0aGlzLl9iYXNlUGF0aD1iLCF0aGlzLl9jcmVhdGVYSFIoYSl9LGIuZ2V0UmVzdWx0PWZ1bmN0aW9uKGEpe3JldHVybiBhJiZ0aGlzLl9yYXdSZXNwb25zZT90aGlzLl9yYXdSZXNwb25zZTp0aGlzLl9yZXNwb25zZX0sYi5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbGVkPSEwLHRoaXMuX2NsZWFuKCksdGhpcy5fcmVxdWVzdC5hYm9ydCgpfSxiLmxvYWQ9ZnVuY3Rpb24oKXtpZihudWxsPT10aGlzLl9yZXF1ZXN0KXJldHVybiB0aGlzLl9oYW5kbGVFcnJvcigpLHZvaWQgMDt0aGlzLl9yZXF1ZXN0Lm9ubG9hZHN0YXJ0PWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZUxvYWRTdGFydCx0aGlzKSx0aGlzLl9yZXF1ZXN0Lm9ucHJvZ3Jlc3M9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlUHJvZ3Jlc3MsdGhpcyksdGhpcy5fcmVxdWVzdC5vbmFib3J0PWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZUFib3J0LHRoaXMpLHRoaXMuX3JlcXVlc3Qub25lcnJvcj1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVFcnJvcix0aGlzKSx0aGlzLl9yZXF1ZXN0Lm9udGltZW91dD1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVUaW1lb3V0LHRoaXMpLDE9PXRoaXMuX3hockxldmVsJiYodGhpcy5fbG9hZFRpbWVvdXQ9c2V0VGltZW91dChjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVUaW1lb3V0LHRoaXMpLGNyZWF0ZWpzLkxvYWRRdWV1ZS5MT0FEX1RJTUVPVVQpKSx0aGlzLl9yZXF1ZXN0Lm9ubG9hZD1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVMb2FkLHRoaXMpLHRoaXMuX3JlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlPWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVJlYWR5U3RhdGVDaGFuZ2UsdGhpcyk7dHJ5e3RoaXMuX2l0ZW0udmFsdWVzJiZ0aGlzLl9pdGVtLm1ldGhvZCE9Y3JlYXRlanMuTG9hZFF1ZXVlLkdFVD90aGlzLl9pdGVtLm1ldGhvZD09Y3JlYXRlanMuTG9hZFF1ZXVlLlBPU1QmJnRoaXMuX3JlcXVlc3Quc2VuZCh0aGlzLl9mb3JtYXRRdWVyeVN0cmluZyh0aGlzLl9pdGVtLnZhbHVlcykpOnRoaXMuX3JlcXVlc3Quc2VuZCgpCn1jYXRjaChhKXt2YXIgYj1uZXcgY3JlYXRlanMuRXZlbnQoImVycm9yIik7Yi5lcnJvcj1hLHRoaXMuX3NlbmRFcnJvcihiKX19LGIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIGluc3RhbmNlb2YgRnVuY3Rpb24/dGhpcy5fcmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKTpudWxsfSxiLmdldFJlc3BvbnNlSGVhZGVyPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9yZXF1ZXN0LmdldFJlc3BvbnNlSGVhZGVyIGluc3RhbmNlb2YgRnVuY3Rpb24/dGhpcy5fcmVxdWVzdC5nZXRSZXNwb25zZUhlYWRlcihhKTpudWxsfSxiLl9oYW5kbGVQcm9ncmVzcz1mdW5jdGlvbihhKXtpZihhJiYhKGEubG9hZGVkPjAmJjA9PWEudG90YWwpKXt2YXIgYj1uZXcgY3JlYXRlanMuRXZlbnQoInByb2dyZXNzIik7Yi5sb2FkZWQ9YS5sb2FkZWQsYi50b3RhbD1hLnRvdGFsLHRoaXMuX3NlbmRQcm9ncmVzcyhiKX19LGIuX2hhbmRsZUxvYWRTdGFydD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl9sb2FkVGltZW91dCksdGhpcy5fc2VuZExvYWRTdGFydCgpfSxiLl9oYW5kbGVBYm9ydD1mdW5jdGlvbihhKXt0aGlzLl9jbGVhbigpO3ZhciBhPW5ldyBjcmVhdGVqcy5FdmVudCgiZXJyb3IiKTthLnRleHQ9IlhIUl9BQk9SVEVEIix0aGlzLl9zZW5kRXJyb3IoYSl9LGIuX2hhbmRsZUVycm9yPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYW4oKTt2YXIgYT1uZXcgY3JlYXRlanMuRXZlbnQoImVycm9yIik7dGhpcy5fc2VuZEVycm9yKGEpfSxiLl9oYW5kbGVSZWFkeVN0YXRlQ2hhbmdlPWZ1bmN0aW9uKCl7ND09dGhpcy5fcmVxdWVzdC5yZWFkeVN0YXRlJiZ0aGlzLl9oYW5kbGVMb2FkKCl9LGIuX2hhbmRsZUxvYWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5sb2FkZWQpe2lmKHRoaXMubG9hZGVkPSEwLCF0aGlzLl9jaGVja0Vycm9yKCkpcmV0dXJuIHRoaXMuX2hhbmRsZUVycm9yKCksdm9pZCAwO3RoaXMuX3Jlc3BvbnNlPXRoaXMuX2dldFJlc3BvbnNlKCksdGhpcy5fY2xlYW4oKTt2YXIgYT10aGlzLl9nZW5lcmF0ZVRhZygpO2EmJnRoaXMuX3NlbmRDb21wbGV0ZSgpfX0sYi5faGFuZGxlVGltZW91dD1mdW5jdGlvbihhKXt0aGlzLl9jbGVhbigpO3ZhciBiPW5ldyBjcmVhdGVqcy5FdmVudCgiZXJyb3IiKTtiLnRleHQ9IlBSRUxPQURfVElNRU9VVCIsdGhpcy5fc2VuZEVycm9yKGEpfSxiLl9jaGVja0Vycm9yPWZ1bmN0aW9uKCl7dmFyIGE9cGFyc2VJbnQodGhpcy5fcmVxdWVzdC5zdGF0dXMpO3N3aXRjaChhKXtjYXNlIDQwNDpjYXNlIDA6cmV0dXJuITF9cmV0dXJuITB9LGIuX2dldFJlc3BvbnNlPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5fcmVzcG9uc2UpcmV0dXJuIHRoaXMuX3Jlc3BvbnNlO2lmKG51bGwhPXRoaXMuX3JlcXVlc3QucmVzcG9uc2UpcmV0dXJuIHRoaXMuX3JlcXVlc3QucmVzcG9uc2U7dHJ5e2lmKG51bGwhPXRoaXMuX3JlcXVlc3QucmVzcG9uc2VUZXh0KXJldHVybiB0aGlzLl9yZXF1ZXN0LnJlc3BvbnNlVGV4dH1jYXRjaChhKXt9dHJ5e2lmKG51bGwhPXRoaXMuX3JlcXVlc3QucmVzcG9uc2VYTUwpcmV0dXJuIHRoaXMuX3JlcXVlc3QucmVzcG9uc2VYTUx9Y2F0Y2goYSl7fXJldHVybiBudWxsfSxiLl9jcmVhdGVYSFI9ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2IuaHJlZj10aGlzLmJ1aWxkUGF0aChhLnNyYyx0aGlzLl9iYXNlUGF0aCk7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2MuaHJlZj1sb2NhdGlvbi5ocmVmO3ZhciBkPSIiIT1iLmhvc3RuYW1lJiYoYi5wb3J0IT1jLnBvcnR8fGIucHJvdG9jb2whPWMucHJvdG9jb2x8fGIuaG9zdG5hbWUhPWMuaG9zdG5hbWUpLGU9bnVsbDtpZihkJiZ3aW5kb3cuWERvbWFpblJlcXVlc3QpZT1uZXcgWERvbWFpblJlcXVlc3Q7ZWxzZSBpZih3aW5kb3cuWE1MSHR0cFJlcXVlc3QpZT1uZXcgWE1MSHR0cFJlcXVlc3Q7ZWxzZSB0cnl7ZT1uZXcgQWN0aXZlWE9iamVjdCgiTXN4bWwyLlhNTEhUVFAuNi4wIil9Y2F0Y2goZil7dHJ5e2U9bmV3IEFjdGl2ZVhPYmplY3QoIk1zeG1sMi5YTUxIVFRQLjMuMCIpfWNhdGNoKGYpe3RyeXtlPW5ldyBBY3RpdmVYT2JqZWN0KCJNc3htbDIuWE1MSFRUUCIpfWNhdGNoKGYpe3JldHVybiExfX19YS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuVEVYVCYmZS5vdmVycmlkZU1pbWVUeXBlJiZlLm92ZXJyaWRlTWltZVR5cGUoInRleHQvcGxhaW47IGNoYXJzZXQ9eC11c2VyLWRlZmluZWQiKSx0aGlzLl94aHJMZXZlbD0ic3RyaW5nIj09dHlwZW9mIGUucmVzcG9uc2VUeXBlPzI6MTt2YXIgZz1udWxsO3JldHVybiBnPWEubWV0aG9kPT1jcmVhdGVqcy5Mb2FkUXVldWUuR0VUP3RoaXMuYnVpbGRQYXRoKGEuc3JjLHRoaXMuX2Jhc2VQYXRoLGEudmFsdWVzKTp0aGlzLmJ1aWxkUGF0aChhLnNyYyx0aGlzLl9iYXNlUGF0aCksZS5vcGVuKGEubWV0aG9kfHxjcmVhdGVqcy5Mb2FkUXVldWUuR0VULGcsITApLGQmJmUgaW5zdGFuY2VvZiBYTUxIdHRwUmVxdWVzdCYmMT09dGhpcy5feGhyTGV2ZWwmJmUuc2V0UmVxdWVzdEhlYWRlcigiT3JpZ2luIixsb2NhdGlvbi5vcmlnaW4pLGEudmFsdWVzJiZhLm1ldGhvZD09Y3JlYXRlanMuTG9hZFF1ZXVlLlBPU1QmJmUuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIiwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiksY3JlYXRlanMuTG9hZFF1ZXVlLmlzQmluYXJ5KGEudHlwZSkmJihlLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiKSx0aGlzLl9yZXF1ZXN0PWUsITB9LGIuX2NsZWFuPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX2xvYWRUaW1lb3V0KTt2YXIgYT10aGlzLl9yZXF1ZXN0O2Eub25sb2Fkc3RhcnQ9bnVsbCxhLm9ucHJvZ3Jlc3M9bnVsbCxhLm9uYWJvcnQ9bnVsbCxhLm9uZXJyb3I9bnVsbCxhLm9ubG9hZD1udWxsLGEub250aW1lb3V0PW51bGwsYS5vbmxvYWRlbmQ9bnVsbCxhLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsfSxiLl9nZW5lcmF0ZVRhZz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuX2l0ZW0udHlwZSxiPXRoaXMuX2l0ZW0udGFnO3N3aXRjaChhKXtjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5JTUFHRTpyZXR1cm4gYi5vbmxvYWQ9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlVGFnUmVhZHksdGhpcyksYi5zcmM9dGhpcy5idWlsZFBhdGgodGhpcy5faXRlbS5zcmMsdGhpcy5fYmFzZVBhdGgsdGhpcy5faXRlbS52YWx1ZXMpLHRoaXMuX3Jhd1Jlc3BvbnNlPXRoaXMuX3Jlc3BvbnNlLHRoaXMuX3Jlc3BvbnNlPWIsITE7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuSkFWQVNDUklQVDpyZXR1cm4gYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxiLnRleHQ9dGhpcy5fcmVzcG9uc2UsdGhpcy5fcmF3UmVzcG9uc2U9dGhpcy5fcmVzcG9uc2UsdGhpcy5fcmVzcG9uc2U9YiwhMDtjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5DU1M6dmFyIGM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXTtpZihjLmFwcGVuZENoaWxkKGIpLGIuc3R5bGVTaGVldCliLnN0eWxlU2hlZXQuY3NzVGV4dD10aGlzLl9yZXNwb25zZTtlbHNle3ZhciBkPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRoaXMuX3Jlc3BvbnNlKTtiLmFwcGVuZENoaWxkKGQpfXJldHVybiB0aGlzLl9yYXdSZXNwb25zZT10aGlzLl9yZXNwb25zZSx0aGlzLl9yZXNwb25zZT1iLCEwO2Nhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLlhNTDp2YXIgZT10aGlzLl9wYXJzZVhNTCh0aGlzLl9yZXNwb25zZSwidGV4dC94bWwiKTtyZXR1cm4gdGhpcy5fcmVzcG9uc2U9ZSwhMDtjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5TVkc6dmFyIGU9dGhpcy5fcGFyc2VYTUwodGhpcy5fcmVzcG9uc2UsImltYWdlL3N2Zyt4bWwiKTtyZXR1cm4gdGhpcy5fcmF3UmVzcG9uc2U9dGhpcy5fcmVzcG9uc2UsbnVsbCE9ZS5kb2N1bWVudEVsZW1lbnQ/KGIuYXBwZW5kQ2hpbGQoZS5kb2N1bWVudEVsZW1lbnQpLHRoaXMuX3Jlc3BvbnNlPWIpOnRoaXMuX3Jlc3BvbnNlPWUsITA7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuSlNPTjp2YXIgZj17fTt0cnl7Zj1KU09OLnBhcnNlKHRoaXMuX3Jlc3BvbnNlKX1jYXRjaChnKXtmPWd9cmV0dXJuIHRoaXMuX3Jhd1Jlc3BvbnNlPXRoaXMuX3Jlc3BvbnNlLHRoaXMuX3Jlc3BvbnNlPWYsITB9cmV0dXJuITB9LGIuX3BhcnNlWE1MPWZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtpZih3aW5kb3cuRE9NUGFyc2VyKXt2YXIgZD1uZXcgRE9NUGFyc2VyO2M9ZC5wYXJzZUZyb21TdHJpbmcoYSxiKX1lbHNlIGM9bmV3IEFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKSxjLmFzeW5jPSExLGMubG9hZFhNTChhKTtyZXR1cm4gY30sYi5faGFuZGxlVGFnUmVhZHk9ZnVuY3Rpb24oKXt0aGlzLl9zZW5kQ29tcGxldGUoKX0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbUHJlbG9hZEpTIFhIUkxvYWRlcl0ifSxjcmVhdGVqcy5YSFJMb2FkZXI9YX0oKSwib2JqZWN0IiE9dHlwZW9mIEpTT04mJihKU09OPXt9KSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBmKGEpe3JldHVybiAxMD5hPyIwIithOmF9ZnVuY3Rpb24gcXVvdGUoYSl7cmV0dXJuIGVzY2FwYWJsZS5sYXN0SW5kZXg9MCxlc2NhcGFibGUudGVzdChhKT8nIicrYS5yZXBsYWNlKGVzY2FwYWJsZSxmdW5jdGlvbihhKXt2YXIgYj1tZXRhW2FdO3JldHVybiJzdHJpbmciPT10eXBlb2YgYj9iOiJcXHUiKygiMDAwMCIrYS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpfSkrJyInOiciJythKyciJ31mdW5jdGlvbiBzdHIoYSxiKXt2YXIgYyxkLGUsZixnLGg9Z2FwLGk9YlthXTtzd2l0Y2goaSYmIm9iamVjdCI9PXR5cGVvZiBpJiYiZnVuY3Rpb24iPT10eXBlb2YgaS50b0pTT04mJihpPWkudG9KU09OKGEpKSwiZnVuY3Rpb24iPT10eXBlb2YgcmVwJiYoaT1yZXAuY2FsbChiLGEsaSkpLHR5cGVvZiBpKXtjYXNlInN0cmluZyI6cmV0dXJuIHF1b3RlKGkpO2Nhc2UibnVtYmVyIjpyZXR1cm4gaXNGaW5pdGUoaSk/U3RyaW5nKGkpOiJudWxsIjtjYXNlImJvb2xlYW4iOmNhc2UibnVsbCI6cmV0dXJuIFN0cmluZyhpKTtjYXNlIm9iamVjdCI6aWYoIWkpcmV0dXJuIm51bGwiO2lmKGdhcCs9aW5kZW50LGc9W10sIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkoaSkpe2ZvcihmPWkubGVuZ3RoLGM9MDtmPmM7Yys9MSlnW2NdPXN0cihjLGkpfHwibnVsbCI7cmV0dXJuIGU9MD09PWcubGVuZ3RoPyJbXSI6Z2FwPyJbXG4iK2dhcCtnLmpvaW4oIixcbiIrZ2FwKSsiXG4iK2grIl0iOiJbIitnLmpvaW4oIiwiKSsiXSIsZ2FwPWgsZX1pZihyZXAmJiJvYmplY3QiPT10eXBlb2YgcmVwKWZvcihmPXJlcC5sZW5ndGgsYz0wO2Y+YztjKz0xKSJzdHJpbmciPT10eXBlb2YgcmVwW2NdJiYoZD1yZXBbY10sZT1zdHIoZCxpKSxlJiZnLnB1c2gocXVvdGUoZCkrKGdhcD8iOiAiOiI6IikrZSkpO2Vsc2UgZm9yKGQgaW4gaSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxkKSYmKGU9c3RyKGQsaSksZSYmZy5wdXNoKHF1b3RlKGQpKyhnYXA/IjogIjoiOiIpK2UpKTtyZXR1cm4gZT0wPT09Zy5sZW5ndGg/Int9IjpnYXA/IntcbiIrZ2FwK2cuam9pbigiLFxuIitnYXApKyJcbiIraCsifSI6InsiK2cuam9pbigiLCIpKyJ9IixnYXA9aCxlfX0iZnVuY3Rpb24iIT10eXBlb2YgRGF0ZS5wcm90b3R5cGUudG9KU09OJiYoRGF0ZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIGlzRmluaXRlKHRoaXMudmFsdWVPZigpKT90aGlzLmdldFVUQ0Z1bGxZZWFyKCkrIi0iK2YodGhpcy5nZXRVVENNb250aCgpKzEpKyItIitmKHRoaXMuZ2V0VVRDRGF0ZSgpKSsiVCIrZih0aGlzLmdldFVUQ0hvdXJzKCkpKyI6IitmKHRoaXMuZ2V0VVRDTWludXRlcygpKSsiOiIrZih0aGlzLmdldFVUQ1NlY29uZHMoKSkrIloiOm51bGx9LFN0cmluZy5wcm90b3R5cGUudG9KU09OPU51bWJlci5wcm90b3R5cGUudG9KU09OPUJvb2xlYW4ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlT2YoKX0pO3ZhciBjeD0vW1x1MDAwMFx1MDBhZFx1MDYwMC1cdTA2MDRcdTA3MGZcdTE3YjRcdTE3YjVcdTIwMGMtXHUyMDBmXHUyMDI4LVx1MjAyZlx1MjA2MC1cdTIwNmZcdWZlZmZcdWZmZjAtXHVmZmZmXS9nLGVzY2FwYWJsZT0vW1xcXCJceDAwLVx4MWZceDdmLVx4OWZcdTAwYWRcdTA2MDAtXHUwNjA0XHUwNzBmXHUxN2I0XHUxN2I1XHUyMDBjLVx1MjAwZlx1MjAyOC1cdTIwMmZcdTIwNjAtXHUyMDZmXHVmZWZmXHVmZmYwLVx1ZmZmZl0vZyxnYXAsaW5kZW50LG1ldGE9eyJcYiI6IlxcYiIsIgkiOiJcXHQiLCJcbiI6IlxcbiIsIlxmIjoiXFxmIiwiXHIiOiJcXHIiLCciJzonXFwiJywiXFwiOiJcXFxcIn0scmVwOyJmdW5jdGlvbiIhPXR5cGVvZiBKU09OLnN0cmluZ2lmeSYmKEpTT04uc3RyaW5naWZ5PWZ1bmN0aW9uKGEsYixjKXt2YXIgZDtpZihnYXA9IiIsaW5kZW50PSIiLCJudW1iZXIiPT10eXBlb2YgYylmb3IoZD0wO2M+ZDtkKz0xKWluZGVudCs9IiAiO2Vsc2Uic3RyaW5nIj09dHlwZW9mIGMmJihpbmRlbnQ9Yyk7aWYocmVwPWIsYiYmImZ1bmN0aW9uIiE9dHlwZW9mIGImJigib2JqZWN0IiE9dHlwZW9mIGJ8fCJudW1iZXIiIT10eXBlb2YgYi5sZW5ndGgpKXRocm93IG5ldyBFcnJvcigiSlNPTi5zdHJpbmdpZnkiKTtyZXR1cm4gc3RyKCIiLHsiIjphfSl9KSwiZnVuY3Rpb24iIT10eXBlb2YgSlNPTi5wYXJzZSYmKEpTT04ucGFyc2U9ZnVuY3Rpb24odGV4dCxyZXZpdmVyKXtmdW5jdGlvbiB3YWxrKGEsYil7dmFyIGMsZCxlPWFbYl07aWYoZSYmIm9iamVjdCI9PXR5cGVvZiBlKWZvcihjIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsYykmJihkPXdhbGsoZSxjKSx2b2lkIDAhPT1kP2VbY109ZDpkZWxldGUgZVtjXSk7cmV0dXJuIHJldml2ZXIuY2FsbChhLGIsZSl9dmFyIGo7aWYodGV4dD1TdHJpbmcodGV4dCksY3gubGFzdEluZGV4PTAsY3gudGVzdCh0ZXh0KSYmKHRleHQ9dGV4dC5yZXBsYWNlKGN4LGZ1bmN0aW9uKGEpe3JldHVybiJcXHUiKygiMDAwMCIrYS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpfSkpLC9eW1xdLDp7fVxzXSokLy50ZXN0KHRleHQucmVwbGFjZSgvXFwoPzpbIlxcXC9iZm5ydF18dVswLTlhLWZBLUZdezR9KS9nLCJAIikucmVwbGFjZSgvIlteIlxcXG5ccl0qInx0cnVlfGZhbHNlfG51bGx8LT9cZCsoPzpcLlxkKik/KD86W2VFXVsrXC1dP1xkKyk/L2csIl0iKS5yZXBsYWNlKC8oPzpefDp8LCkoPzpccypcWykrL2csIiIpKSlyZXR1cm4gaj1ldmFsKCIoIit0ZXh0KyIpIiksImZ1bmN0aW9uIj09dHlwZW9mIHJldml2ZXI/d2Fsayh7IiI6an0sIiIpOmo7dGhyb3cgbmV3IFN5bnRheEVycm9yKCJKU09OLnBhcnNlIil9KX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7dmFyIGE9Y3JlYXRlanMuU291bmRKUz1jcmVhdGVqcy5Tb3VuZEpTfHx7fTthLnZlcnNpb249Ik5FWFQiLGEuYnVpbGREYXRlPSJUdWUsIDAxIE9jdCAyMDEzIDE2OjAzOjM4IEdNVCJ9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBhKCl7dGhyb3ciU291bmQgY2Fubm90IGJlIGluc3RhbnRpYXRlZCJ9ZnVuY3Rpb24gYihhLGIpe3RoaXMuaW5pdChhLGIpfWZ1bmN0aW9uIGMoKXt0aGlzLmlzRGVmYXVsdD0hMCx0aGlzLmFkZEV2ZW50TGlzdGVuZXI9dGhpcy5yZW1vdmVFdmVudExpc3RlbmVyPXRoaXMucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcj10aGlzLmRpc3BhdGNoRXZlbnQ9dGhpcy5oYXNFdmVudExpc3RlbmVyPXRoaXMuX2xpc3RlbmVycz10aGlzLmludGVycnVwdD10aGlzLnBsYXlGYWlsZWQ9dGhpcy5wYXVzZT10aGlzLnJlc3VtZT10aGlzLnBsYXk9dGhpcy5iZWdpblBsYXlpbmc9dGhpcy5jbGVhblVwPXRoaXMuc3RvcD10aGlzLnNldE1hc3RlclZvbHVtZT10aGlzLnNldFZvbHVtZT10aGlzLm11dGU9dGhpcy5zZXRNdXRlPXRoaXMuZ2V0TXV0ZT10aGlzLnNldFBhbj10aGlzLmdldFBvc2l0aW9uPXRoaXMuc2V0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdGhpcy5nZXRWb2x1bWU9dGhpcy5nZXRQYW49dGhpcy5nZXREdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiAwfSx0aGlzLnBsYXlTdGF0ZT1hLlBMQVlfRkFJTEVELHRoaXMudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW1NvdW5kIERlZmF1bHQgU291bmQgSW5zdGFuY2VdIn19ZnVuY3Rpb24gZCgpe312YXIgZT1hO2UuREVMSU1JVEVSPSJ8IixlLkFVRElPX1RJTUVPVVQ9OGUzLGUuSU5URVJSVVBUX0FOWT0iYW55IixlLklOVEVSUlVQVF9FQVJMWT0iZWFybHkiLGUuSU5URVJSVVBUX0xBVEU9ImxhdGUiLGUuSU5URVJSVVBUX05PTkU9Im5vbmUiLGUuUExBWV9JTklURUQ9InBsYXlJbml0ZWQiLGUuUExBWV9TVUNDRUVERUQ9InBsYXlTdWNjZWVkZWQiLGUuUExBWV9JTlRFUlJVUFRFRD0icGxheUludGVycnVwdGVkIixlLlBMQVlfRklOSVNIRUQ9InBsYXlGaW5pc2hlZCIsZS5QTEFZX0ZBSUxFRD0icGxheUZhaWxlZCIsZS5TVVBQT1JURURfRVhURU5TSU9OUz1bIm1wMyIsIm9nZyIsIm1wZWciLCJ3YXYiLCJtNGEiLCJtcDQiLCJhaWZmIiwid21hIiwibWlkIl0sZS5FWFRFTlNJT05fTUFQPXttNGE6Im1wNCJ9LGUuRklMRV9QQVRURVJOPS9eKD86KFx3KzopXC97Mn0oXHcrKD86XC5cdyspKlwvPykpPyhbLy5dKj8oPzpbXj9dKyk/XC8pPygoPzpbXi8/XSspXC4oXHcrKSkoPzpcPyhcUyspPyk/JC8sZS5kZWZhdWx0SW50ZXJydXB0QmVoYXZpb3I9ZS5JTlRFUlJVUFRfTk9ORSxlLmxhc3RJZD0wLGUuYWN0aXZlUGx1Z2luPW51bGwsZS5wbHVnaW5zUmVnaXN0ZXJlZD0hMSxlLm1hc3RlclZvbHVtZT0xLGUubWFzdGVyTXV0ZT0hMSxlLmluc3RhbmNlcz1bXSxlLmlkSGFzaD17fSxlLnByZWxvYWRIYXNoPXt9LGUuZGVmYXVsdFNvdW5kSW5zdGFuY2U9bnVsbCxlLmFkZEV2ZW50TGlzdGVuZXI9bnVsbCxlLnJlbW92ZUV2ZW50TGlzdGVuZXI9bnVsbCxlLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzPW51bGwsZS5kaXNwYXRjaEV2ZW50PW51bGwsZS5oYXNFdmVudExpc3RlbmVyPW51bGwsZS5fbGlzdGVuZXJzPW51bGwsY3JlYXRlanMuRXZlbnREaXNwYXRjaGVyLmluaXRpYWxpemUoZSksZS5zZW5kRmlsZUxvYWRFdmVudD1mdW5jdGlvbihhKXtpZihlLnByZWxvYWRIYXNoW2FdKWZvcih2YXIgYj0wLGM9ZS5wcmVsb2FkSGFzaFthXS5sZW5ndGg7Yz5iO2IrKyl7dmFyIGQ9ZS5wcmVsb2FkSGFzaFthXVtiXTtpZihlLnByZWxvYWRIYXNoW2FdW2JdPSEwLGUuaGFzRXZlbnRMaXN0ZW5lcigiZmlsZWxvYWQiKSl7dmFyIGY9bmV3IGNyZWF0ZWpzLkV2ZW50KCJmaWxlbG9hZCIpO2Yuc3JjPWQuc3JjLGYuaWQ9ZC5pZCxmLmRhdGE9ZC5kYXRhLGUuZGlzcGF0Y2hFdmVudChmKX19fSxlLmdldFByZWxvYWRIYW5kbGVycz1mdW5jdGlvbigpe3JldHVybntjYWxsYmFjazpjcmVhdGVqcy5wcm94eShlLmluaXRMb2FkLGUpLHR5cGVzOlsic291bmQiXSxleHRlbnNpb25zOmUuU1VQUE9SVEVEX0VYVEVOU0lPTlN9fSxlLnJlZ2lzdGVyUGx1Z2luPWZ1bmN0aW9uKGEpe3JldHVybiBlLnBsdWdpbnNSZWdpc3RlcmVkPSEwLG51bGw9PWE/ITE6YS5pc1N1cHBvcnRlZCgpPyhlLmFjdGl2ZVBsdWdpbj1uZXcgYSwhMCk6ITF9LGUucmVnaXN0ZXJQbHVnaW5zPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9YS5sZW5ndGg7Yz5iO2IrKyl7dmFyIGQ9YVtiXTtpZihlLnJlZ2lzdGVyUGx1Z2luKGQpKXJldHVybiEwfXJldHVybiExfSxlLmluaXRpYWxpemVEZWZhdWx0UGx1Z2lucz1mdW5jdGlvbigpe3JldHVybiBudWxsIT1lLmFjdGl2ZVBsdWdpbj8hMDplLnBsdWdpbnNSZWdpc3RlcmVkPyExOmUucmVnaXN0ZXJQbHVnaW5zKFtjcmVhdGVqcy5XZWJBdWRpb1BsdWdpbixjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW5dKT8hMDohMX0sZS5pc1JlYWR5PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPWUuYWN0aXZlUGx1Z2lufSxlLmdldENhcGFiaWxpdGllcz1mdW5jdGlvbigpe3JldHVybiBudWxsPT1lLmFjdGl2ZVBsdWdpbj9udWxsOmUuYWN0aXZlUGx1Z2luLmNhcGFiaWxpdGllc30sZS5nZXRDYXBhYmlsaXR5PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1lLmFjdGl2ZVBsdWdpbj9udWxsOmUuYWN0aXZlUGx1Z2luLmNhcGFiaWxpdGllc1thXX0sZS5pbml0TG9hZD1mdW5jdGlvbihhLGIsYyxkLGYpe3ZhciBnPWUucmVnaXN0ZXJTb3VuZChhLGMsZCwhMSxmKTtyZXR1cm4gbnVsbD09Zz8hMTpnfSxlLnJlZ2lzdGVyU291bmQ9ZnVuY3Rpb24oYSxjLGQsZixnKXtpZighZS5pbml0aWFsaXplRGVmYXVsdFBsdWdpbnMoKSlyZXR1cm4hMTthIGluc3RhbmNlb2YgT2JqZWN0JiYoZz1jLGM9YS5pZCxkPWEuZGF0YSxhPWEuc3JjKTt2YXIgaD1lLnBhcnNlUGF0aChhLCJzb3VuZCIsYyxkKTtpZihudWxsPT1oKXJldHVybiExO251bGwhPWMmJihlLmlkSGFzaFtjXT1oLnNyYyk7dmFyIGk9bnVsbDtudWxsIT1kJiYoaXNOYU4oZC5jaGFubmVscyk/aXNOYU4oZCl8fChpPXBhcnNlSW50KGQpKTppPXBhcnNlSW50KGQuY2hhbm5lbHMpKTt2YXIgaj1lLmFjdGl2ZVBsdWdpbi5yZWdpc3RlcihoLnNyYyxpKTtpZihudWxsIT1qJiYobnVsbCE9ai5udW1DaGFubmVscyYmKGk9ai5udW1DaGFubmVscyksYi5jcmVhdGUoaC5zcmMsaSksbnVsbCE9ZCYmaXNOYU4oZCk/ZC5jaGFubmVscz1oLmRhdGEuY2hhbm5lbHM9aXx8Yi5tYXhQZXJDaGFubmVsKCk6ZD1oLmRhdGE9aXx8Yi5tYXhQZXJDaGFubmVsKCksbnVsbCE9ai50YWc/aC50YWc9ai50YWc6ai5zcmMmJihoLnNyYz1qLnNyYyksbnVsbCE9ai5jb21wbGV0ZUhhbmRsZXImJihoLmNvbXBsZXRlSGFuZGxlcj1qLmNvbXBsZXRlSGFuZGxlciksai50eXBlJiYoaC50eXBlPWoudHlwZSkpLDAhPWYpaWYoZS5wcmVsb2FkSGFzaFtoLnNyY118fChlLnByZWxvYWRIYXNoW2guc3JjXT1bXSksZS5wcmVsb2FkSGFzaFtoLnNyY10ucHVzaCh7c3JjOmEsaWQ6YyxkYXRhOmR9KSwxPT1lLnByZWxvYWRIYXNoW2guc3JjXS5sZW5ndGgpbnVsbD09ZyYmKGc9IiIpLGUuYWN0aXZlUGx1Z2luLnByZWxvYWQoaC5zcmMsaixnKTtlbHNlIGlmKDE9PWUucHJlbG9hZEhhc2hbaC5zcmNdWzBdKXJldHVybiEwO3JldHVybiBofSxlLnJlZ2lzdGVyTWFuaWZlc3Q9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9W10sZD0wLGU9YS5sZW5ndGg7ZT5kO2QrKyljW2RdPWNyZWF0ZWpzLlNvdW5kLnJlZ2lzdGVyU291bmQoYVtkXS5zcmMsYVtkXS5pZCxhW2RdLmRhdGEsYVtkXS5wcmVsb2FkLGIpO3JldHVybiBjfSxlLnJlbW92ZVNvdW5kPWZ1bmN0aW9uKGEpe2lmKG51bGw9PWUuYWN0aXZlUGx1Z2luKXJldHVybiExO2EgaW5zdGFuY2VvZiBPYmplY3QmJihhPWEuc3JjKSxhPWUuZ2V0U3JjQnlJZChhKTt2YXIgYz1lLnBhcnNlUGF0aChhKTtpZihudWxsPT1jKXJldHVybiExO2E9Yy5zcmM7Zm9yKHZhciBkIGluIGUuaWRIYXNoKWUuaWRIYXNoW2RdPT1hJiZkZWxldGUgZS5pZEhhc2hbZF07cmV0dXJuIGIucmVtb3ZlU3JjKGEpLGRlbGV0ZSBlLnByZWxvYWRIYXNoW2FdLGUuYWN0aXZlUGx1Z2luLnJlbW92ZVNvdW5kKGEpLCEwfSxlLnJlbW92ZU1hbmlmZXN0PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWJbY109Y3JlYXRlanMuU291bmQucmVtb3ZlU291bmQoYVtjXS5zcmMpO3JldHVybiBifSxlLnJlbW92ZUFsbFNvdW5kcz1mdW5jdGlvbigpe2UuaWRIYXNoPXt9LGUucHJlbG9hZEhhc2g9e30sYi5yZW1vdmVBbGwoKSxlLmFjdGl2ZVBsdWdpbi5yZW1vdmVBbGxTb3VuZHMoKX0sZS5sb2FkQ29tcGxldGU9ZnVuY3Rpb24oYSl7dmFyIGI9ZS5wYXJzZVBhdGgoYSwic291bmQiKTtyZXR1cm4gYT1iP2UuZ2V0U3JjQnlJZChiLnNyYyk6ZS5nZXRTcmNCeUlkKGEpLDE9PWUucHJlbG9hZEhhc2hbYV1bMF19LGUucGFyc2VQYXRoPWZ1bmN0aW9uKGEsYixjLGQpeyJzdHJpbmciIT10eXBlb2YgYSYmKGE9YS50b1N0cmluZygpKTtmb3IodmFyIGY9YS5zcGxpdChlLkRFTElNSVRFUiksZz17dHlwZTpifHwic291bmQiLGlkOmMsZGF0YTpkfSxoPWUuZ2V0Q2FwYWJpbGl0aWVzKCksaT0wLGo9Zi5sZW5ndGg7aj5pO2krKyl7dmFyIGs9ZltpXSxsPWsubWF0Y2goZS5GSUxFX1BBVFRFUk4pO2lmKG51bGw9PWwpcmV0dXJuITE7dmFyIG09bFs0XSxuPWxbNV07aWYoaFtuXSYmY3JlYXRlanMuaW5kZXhPZihlLlNVUFBPUlRFRF9FWFRFTlNJT05TLG4pPi0xKXJldHVybiBnLm5hbWU9bSxnLnNyYz1rLGcuZXh0ZW5zaW9uPW4sZ31yZXR1cm4gbnVsbH0sZS5wbGF5PWZ1bmN0aW9uKGEsYixjLGQsZixnLGgpe3ZhciBpPWUuY3JlYXRlSW5zdGFuY2UoYSksaj1lLnBsYXlJbnN0YW5jZShpLGIsYyxkLGYsZyxoKTtyZXR1cm4ganx8aS5wbGF5RmFpbGVkKCksaX0sZS5jcmVhdGVJbnN0YW5jZT1mdW5jdGlvbihjKXtpZighZS5pbml0aWFsaXplRGVmYXVsdFBsdWdpbnMoKSlyZXR1cm4gZS5kZWZhdWx0U291bmRJbnN0YW5jZTtjPWUuZ2V0U3JjQnlJZChjKTt2YXIgZD1lLnBhcnNlUGF0aChjLCJzb3VuZCIpLGY9bnVsbDtyZXR1cm4gbnVsbCE9ZCYmbnVsbCE9ZC5zcmM/KGIuY3JlYXRlKGQuc3JjKSxmPWUuYWN0aXZlUGx1Z2luLmNyZWF0ZShkLnNyYykpOmY9YS5kZWZhdWx0U291bmRJbnN0YW5jZSxmLnVuaXF1ZUlkPWUubGFzdElkKyssZn0sZS5zZXRWb2x1bWU9ZnVuY3Rpb24oYSl7aWYobnVsbD09TnVtYmVyKGEpKXJldHVybiExO2lmKGE9TWF0aC5tYXgoMCxNYXRoLm1pbigxLGEpKSxlLm1hc3RlclZvbHVtZT1hLCF0aGlzLmFjdGl2ZVBsdWdpbnx8IXRoaXMuYWN0aXZlUGx1Z2luLnNldFZvbHVtZXx8IXRoaXMuYWN0aXZlUGx1Z2luLnNldFZvbHVtZShhKSlmb3IodmFyIGI9dGhpcy5pbnN0YW5jZXMsYz0wLGQ9Yi5sZW5ndGg7ZD5jO2MrKyliW2NdLnNldE1hc3RlclZvbHVtZShhKX0sZS5nZXRWb2x1bWU9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXN0ZXJWb2x1bWV9LGUuc2V0TXV0ZT1mdW5jdGlvbihhKXtpZihudWxsPT1hfHx2b2lkIDA9PWEpcmV0dXJuITE7aWYodGhpcy5tYXN0ZXJNdXRlPWEsIXRoaXMuYWN0aXZlUGx1Z2lufHwhdGhpcy5hY3RpdmVQbHVnaW4uc2V0TXV0ZXx8IXRoaXMuYWN0aXZlUGx1Z2luLnNldE11dGUoYSkpZm9yKHZhciBiPXRoaXMuaW5zdGFuY2VzLGM9MCxkPWIubGVuZ3RoO2Q+YztjKyspYltjXS5zZXRNYXN0ZXJNdXRlKGEpO3JldHVybiEwfSxlLmdldE11dGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXN0ZXJNdXRlfSxlLnN0b3A9ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5pbnN0YW5jZXMsYj1hLmxlbmd0aDtiLS07KWFbYl0uc3RvcCgpfSxlLnBsYXlJbnN0YW5jZT1mdW5jdGlvbihhLGIsYyxkLGYsZyxoKXtpZihiIGluc3RhbmNlb2YgT2JqZWN0JiYoYz1iLmRlbGF5LGQ9Yi5vZmZzZXQsZj1iLmxvb3AsZz1iLnZvbHVtZSxoPWIucGFuKSxiPWJ8fGUuZGVmYXVsdEludGVycnVwdEJlaGF2aW9yLG51bGw9PWMmJihjPTApLG51bGw9PWQmJihkPWEuZ2V0UG9zaXRpb24oKSksbnVsbD09ZiYmKGY9MCksbnVsbD09ZyYmKGc9YS52b2x1bWUpLG51bGw9PWgmJihoPWEucGFuKSwwPT1jKXt2YXIgaT1lLmJlZ2luUGxheWluZyhhLGIsZCxmLGcsaCk7aWYoIWkpcmV0dXJuITF9ZWxzZXt2YXIgaj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5iZWdpblBsYXlpbmcoYSxiLGQsZixnLGgpfSxjKTthLmRlbGF5VGltZW91dElkPWp9cmV0dXJuIHRoaXMuaW5zdGFuY2VzLnB1c2goYSksITB9LGUuYmVnaW5QbGF5aW5nPWZ1bmN0aW9uKGEsYyxkLGUsZixnKXtpZighYi5hZGQoYSxjKSlyZXR1cm4hMTt2YXIgaD1hLmJlZ2luUGxheWluZyhkLGUsZixnKTtpZighaCl7dmFyIGk9Y3JlYXRlanMuaW5kZXhPZih0aGlzLmluc3RhbmNlcyxhKTtyZXR1cm4gaT4tMSYmdGhpcy5pbnN0YW5jZXMuc3BsaWNlKGksMSksITF9cmV0dXJuITB9LGUuZ2V0U3JjQnlJZD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09ZS5pZEhhc2h8fG51bGw9PWUuaWRIYXNoW2FdP2E6ZS5pZEhhc2hbYV19LGUucGxheUZpbmlzaGVkPWZ1bmN0aW9uKGEpe2IucmVtb3ZlKGEpO3ZhciBjPWNyZWF0ZWpzLmluZGV4T2YodGhpcy5pbnN0YW5jZXMsYSk7Yz4tMSYmdGhpcy5pbnN0YW5jZXMuc3BsaWNlKGMsMSl9LGNyZWF0ZWpzLlNvdW5kPWEsYi5jaGFubmVscz17fSxiLmNyZWF0ZT1mdW5jdGlvbihhLGMpe3ZhciBkPWIuZ2V0KGEpO3JldHVybiBudWxsPT1kPyhiLmNoYW5uZWxzW2FdPW5ldyBiKGEsYyksITApOiExfSxiLnJlbW92ZVNyYz1mdW5jdGlvbihhKXt2YXIgYz1iLmdldChhKTtyZXR1cm4gbnVsbD09Yz8hMTooYy5yZW1vdmVBbGwoKSxkZWxldGUgYi5jaGFubmVsc1thXSwhMCl9LGIucmVtb3ZlQWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIGIuY2hhbm5lbHMpYi5jaGFubmVsc1thXS5yZW1vdmVBbGwoKTtiLmNoYW5uZWxzPXt9fSxiLmFkZD1mdW5jdGlvbihhLGMpe3ZhciBkPWIuZ2V0KGEuc3JjKTtyZXR1cm4gbnVsbD09ZD8hMTpkLmFkZChhLGMpfSxiLnJlbW92ZT1mdW5jdGlvbihhKXt2YXIgYz1iLmdldChhLnNyYyk7cmV0dXJuIG51bGw9PWM/ITE6KGMucmVtb3ZlKGEpLCEwKX0sYi5tYXhQZXJDaGFubmVsPWZ1bmN0aW9uKCl7cmV0dXJuIGYubWF4RGVmYXVsdH0sYi5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGIuY2hhbm5lbHNbYV19O3ZhciBmPWIucHJvdG90eXBlO2Yuc3JjPW51bGwsZi5tYXg9bnVsbCxmLm1heERlZmF1bHQ9MTAwLGYubGVuZ3RoPTAsZi5pbml0PWZ1bmN0aW9uKGEsYil7dGhpcy5zcmM9YSx0aGlzLm1heD1ifHx0aGlzLm1heERlZmF1bHQsLTE9PXRoaXMubWF4JiZ0aGlzLm1heD09dGhpcy5tYXhEZWZhdWx0LHRoaXMuaW5zdGFuY2VzPVtdfSxmLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbnN0YW5jZXNbYV19LGYuYWRkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ2V0U2xvdChiLGEpPyh0aGlzLmluc3RhbmNlcy5wdXNoKGEpLHRoaXMubGVuZ3RoKyssITApOiExfSxmLnJlbW92ZT1mdW5jdGlvbihhKXt2YXIgYj1jcmVhdGVqcy5pbmRleE9mKHRoaXMuaW5zdGFuY2VzLGEpO3JldHVybi0xPT1iPyExOih0aGlzLmluc3RhbmNlcy5zcGxpY2UoYiwxKSx0aGlzLmxlbmd0aC0tLCEwKX0sZi5yZW1vdmVBbGw9ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5sZW5ndGgtMTthPj0wO2EtLSl0aGlzLmluc3RhbmNlc1thXS5zdG9wKCl9LGYuZ2V0U2xvdD1mdW5jdGlvbihiKXtmb3IodmFyIGMsZCxlPTAsZj10aGlzLm1heDtmPmU7ZSsrKXtpZihjPXRoaXMuZ2V0KGUpLG51bGw9PWMpcmV0dXJuITA7KGIhPWEuSU5URVJSVVBUX05PTkV8fGMucGxheVN0YXRlPT1hLlBMQVlfRklOSVNIRUQpJiYoMCE9ZT9jLnBsYXlTdGF0ZT09YS5QTEFZX0ZJTklTSEVEfHxjLnBsYXlTdGF0ZT09YS5QTEFZX0lOVEVSUlVQVEVEfHxjLnBsYXlTdGF0ZT09YS5QTEFZX0ZBSUxFRD9kPWM6KGI9PWEuSU5URVJSVVBUX0VBUkxZJiZjLmdldFBvc2l0aW9uKCk8ZC5nZXRQb3NpdGlvbigpfHxiPT1hLklOVEVSUlVQVF9MQVRFJiZjLmdldFBvc2l0aW9uKCk+ZC5nZXRQb3NpdGlvbigpKSYmKGQ9Yyk6ZD1jKX1yZXR1cm4gbnVsbCE9ZD8oZC5pbnRlcnJ1cHQoKSx0aGlzLnJlbW92ZShkKSwhMCk6ITF9LGYudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW1NvdW5kIFNvdW5kQ2hhbm5lbF0ifSxhLmRlZmF1bHRTb3VuZEluc3RhbmNlPW5ldyBjLG51bGw9PWNyZWF0ZWpzLnByb3h5JiYoY3JlYXRlanMucHJveHk9ZnVuY3Rpb24oKXt0aHJvdyJQcm94eSBoYXMgYmVlbiBtb3ZlZCB0byBhbiBleHRlcm5hbCBmaWxlLCBhbmQgbXVzdCBiZSBpbmNsdWRlZCBzZXBhcmF0ZWx5LiJ9KSxkLmluaXQ9ZnVuY3Rpb24oKXt2YXIgYT13aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtkLmlzRmlyZWZveD1hLmluZGV4T2YoIkZpcmVmb3giKT4tMSxkLmlzT3BlcmE9bnVsbCE9d2luZG93Lm9wZXJhLGQuaXNDaHJvbWU9YS5pbmRleE9mKCJDaHJvbWUiKT4tMSxkLmlzSU9TPWEuaW5kZXhPZigiaVBvZCIpPi0xfHxhLmluZGV4T2YoImlQaG9uZSIpPi0xfHxhLmluZGV4T2YoImlQYWQiKT4tMSxkLmlzQW5kcm9pZD1hLmluZGV4T2YoIkFuZHJvaWQiKT4tMSxkLmlzQmxhY2tiZXJyeT1hLmluZGV4T2YoIkJsYWNrYmVycnkiKT4tMX0sZC5pbml0KCksY3JlYXRlanMuU291bmQuQnJvd3NlckRldGVjdD1kfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYSgpe3RoaXMuaW5pdCgpfXZhciBiPWE7Yi5jYXBhYmlsaXRpZXM9bnVsbCxiLmlzU3VwcG9ydGVkPWZ1bmN0aW9uKCl7dmFyIGE9Y3JlYXRlanMuU291bmQuQnJvd3NlckRldGVjdC5pc0lPU3x8Y3JlYXRlanMuU291bmQuQnJvd3NlckRldGVjdC5pc0FuZHJvaWR8fGNyZWF0ZWpzLlNvdW5kLkJyb3dzZXJEZXRlY3QuaXNCbGFja2JlcnJ5O3JldHVybiJmaWxlOiIhPWxvY2F0aW9uLnByb3RvY29sfHxhfHx0aGlzLmlzRmlsZVhIUlN1cHBvcnRlZCgpPyhiLmdlbmVyYXRlQ2FwYWJpbGl0aWVzKCksbnVsbD09Yi5jb250ZXh0PyExOiEwKTohMX0sYi5pc0ZpbGVYSFJTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXt2YXIgYT0hMCxiPW5ldyBYTUxIdHRwUmVxdWVzdDt0cnl7Yi5vcGVuKCJHRVQiLCJmYWlsLmZhaWwiLCExKX1jYXRjaChjKXtyZXR1cm4gYT0hMX1iLm9uZXJyb3I9ZnVuY3Rpb24oKXthPSExfSxiLm9ubG9hZD1mdW5jdGlvbigpe2E9NDA0PT10aGlzLnN0YXR1c3x8MjAwPT10aGlzLnN0YXR1c3x8MD09dGhpcy5zdGF0dXMmJiIiIT10aGlzLnJlc3BvbnNlfTt0cnl7Yi5zZW5kKCl9Y2F0Y2goYyl7YT0hMX1yZXR1cm4gYX0sYi5nZW5lcmF0ZUNhcGFiaWxpdGllcz1mdW5jdGlvbigpe2lmKG51bGw9PWIuY2FwYWJpbGl0aWVzKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpO2lmKG51bGw9PWEuY2FuUGxheVR5cGUpcmV0dXJuIG51bGw7aWYod2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCliLmNvbnRleHQ9bmV3IHdlYmtpdEF1ZGlvQ29udGV4dDtlbHNle2lmKCF3aW5kb3cuQXVkaW9Db250ZXh0KXJldHVybiBudWxsO2IuY29udGV4dD1uZXcgQXVkaW9Db250ZXh0fWIuY29tcGF0aWJpbGl0eVNldFVwKCksYi5wbGF5RW1wdHlTb3VuZCgpLGIuY2FwYWJpbGl0aWVzPXtwYW5uaW5nOiEwLHZvbHVtZTohMCx0cmFja3M6LTF9O2Zvcih2YXIgYz1jcmVhdGVqcy5Tb3VuZC5TVVBQT1JURURfRVhURU5TSU9OUyxkPWNyZWF0ZWpzLlNvdW5kLkVYVEVOU0lPTl9NQVAsZT0wLGY9Yy5sZW5ndGg7Zj5lO2UrKyl7dmFyIGc9Y1tlXSxoPWRbZ118fGc7Yi5jYXBhYmlsaXRpZXNbZ109Im5vIiE9YS5jYW5QbGF5VHlwZSgiYXVkaW8vIitnKSYmIiIhPWEuY2FuUGxheVR5cGUoImF1ZGlvLyIrZyl8fCJubyIhPWEuY2FuUGxheVR5cGUoImF1ZGlvLyIraCkmJiIiIT1hLmNhblBsYXlUeXBlKCJhdWRpby8iK2gpfWIuY29udGV4dC5kZXN0aW5hdGlvbi5udW1iZXJPZkNoYW5uZWxzPDImJihiLmNhcGFiaWxpdGllcy5wYW5uaW5nPSExKSxiLmR5bmFtaWNzQ29tcHJlc3Nvck5vZGU9Yi5jb250ZXh0LmNyZWF0ZUR5bmFtaWNzQ29tcHJlc3NvcigpLGIuZHluYW1pY3NDb21wcmVzc29yTm9kZS5jb25uZWN0KGIuY29udGV4dC5kZXN0aW5hdGlvbiksYi5nYWluTm9kZT1iLmNvbnRleHQuY3JlYXRlR2FpbigpLGIuZ2Fpbk5vZGUuY29ubmVjdChiLmR5bmFtaWNzQ29tcHJlc3Nvck5vZGUpfX0sYi5jb21wYXRpYmlsaXR5U2V0VXA9ZnVuY3Rpb24oKXtpZighYi5jb250ZXh0LmNyZWF0ZUdhaW4pe2IuY29udGV4dC5jcmVhdGVHYWluPWIuY29udGV4dC5jcmVhdGVHYWluTm9kZTt2YXIgYT1iLmNvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7YS5fX3Byb3RvX18uc3RhcnQ9YS5fX3Byb3RvX18ubm90ZUdyYWluT24sYS5fX3Byb3RvX18uc3RvcD1hLl9fcHJvdG9fXy5ub3RlT2ZmLHRoaXMucGFubmluZ01vZGVsPTB9fSxiLnBsYXlFbXB0eVNvdW5kPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jb250ZXh0LmNyZWF0ZUJ1ZmZlcigxLDEsMjIwNTApLGI9dGhpcy5jb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO2IuYnVmZmVyPWEsYi5jb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbiksYi5zdGFydCgwLDAsMCl9O3ZhciBjPWEucHJvdG90eXBlO2MuY2FwYWJpbGl0aWVzPW51bGwsYy52b2x1bWU9MSxjLmNvbnRleHQ9bnVsbCxjLnBhbm5pbmdNb2RlbD0iZXF1YWxwb3dlciIsYy5keW5hbWljc0NvbXByZXNzb3JOb2RlPW51bGwsYy5nYWluTm9kZT1udWxsLGMuYXJyYXlCdWZmZXJzPW51bGwsYy5pbml0PWZ1bmN0aW9uKCl7dGhpcy5jYXBhYmlsaXRpZXM9Yi5jYXBhYmlsaXRpZXMsdGhpcy5hcnJheUJ1ZmZlcnM9e30sdGhpcy5jb250ZXh0PWIuY29udGV4dCx0aGlzLmdhaW5Ob2RlPWIuZ2Fpbk5vZGUsdGhpcy5keW5hbWljc0NvbXByZXNzb3JOb2RlPWIuZHluYW1pY3NDb21wcmVzc29yTm9kZX0sYy5yZWdpc3Rlcj1mdW5jdGlvbihhKXt0aGlzLmFycmF5QnVmZmVyc1thXT0hMDt2YXIgYj1uZXcgY3JlYXRlanMuV2ViQXVkaW9QbHVnaW4uTG9hZGVyKGEsdGhpcyk7cmV0dXJue3RhZzpifX0sYy5pc1ByZWxvYWRTdGFydGVkPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT10aGlzLmFycmF5QnVmZmVyc1thXX0sYy5pc1ByZWxvYWRDb21wbGV0ZT1mdW5jdGlvbihhKXtyZXR1cm4hKG51bGw9PXRoaXMuYXJyYXlCdWZmZXJzW2FdfHwxPT10aGlzLmFycmF5QnVmZmVyc1thXSl9LGMucmVtb3ZlRnJvbVByZWxvYWQ9ZnVuY3Rpb24oYSl7ZGVsZXRlIHRoaXMuYXJyYXlCdWZmZXJzW2FdfSxjLnJlbW92ZVNvdW5kPWZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLmFycmF5QnVmZmVyc1thXX0sYy5yZW1vdmVBbGxTb3VuZHM9ZnVuY3Rpb24oKXt0aGlzLmFycmF5QnVmZmVycz17fX0sYy5hZGRQcmVsb2FkUmVzdWx0cz1mdW5jdGlvbihhLGIpe3RoaXMuYXJyYXlCdWZmZXJzW2FdPWJ9LGMuaGFuZGxlUHJlbG9hZENvbXBsZXRlPWZ1bmN0aW9uKCl7Y3JlYXRlanMuU291bmQuc2VuZEZpbGVMb2FkRXZlbnQodGhpcy5zcmMpfSxjLnByZWxvYWQ9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuYXJyYXlCdWZmZXJzW2FdPSEwO3ZhciBkPW5ldyBjcmVhdGVqcy5XZWJBdWRpb1BsdWdpbi5Mb2FkZXIoYSx0aGlzKTtkLm9ubG9hZD10aGlzLmhhbmRsZVByZWxvYWRDb21wbGV0ZSxudWxsIT1jJiYoZC5zcmM9YytkLnNyYyksZC5sb2FkKCl9LGMuY3JlYXRlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzUHJlbG9hZFN0YXJ0ZWQoYSl8fHRoaXMucHJlbG9hZChhKSxuZXcgY3JlYXRlanMuV2ViQXVkaW9QbHVnaW4uU291bmRJbnN0YW5jZShhLHRoaXMpfSxjLnNldFZvbHVtZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy52b2x1bWU9YSx0aGlzLnVwZGF0ZVZvbHVtZSgpLCEwfSxjLnVwZGF0ZVZvbHVtZT1mdW5jdGlvbigpe3ZhciBhPWNyZWF0ZWpzLlNvdW5kLm1hc3Rlck11dGU/MDp0aGlzLnZvbHVtZTthIT10aGlzLmdhaW5Ob2RlLmdhaW4udmFsdWUmJih0aGlzLmdhaW5Ob2RlLmdhaW4udmFsdWU9YSl9LGMuZ2V0Vm9sdW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudm9sdW1lfSxjLnNldE11dGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cGRhdGVWb2x1bWUoKSwhMH0sYy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbV2ViQXVkaW9QbHVnaW5dIn0sY3JlYXRlanMuV2ViQXVkaW9QbHVnaW49YX0oKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBhKGEsYil7dGhpcy5pbml0KGEsYil9dmFyIGI9YS5wcm90b3R5cGU7Yi5zcmM9bnVsbCxiLnVuaXF1ZUlkPS0xLGIucGxheVN0YXRlPW51bGwsYi5vd25lcj1udWxsLGIub2Zmc2V0PTAsYi5kZWxheT0wLGIuX3ZvbHVtZT0xLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShiLCJ2b2x1bWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdm9sdW1lfSxzZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PU51bWJlcihhKT8hMTooYT1NYXRoLm1heCgwLE1hdGgubWluKDEsYSkpLHRoaXMuX3ZvbHVtZT1hLHRoaXMudXBkYXRlVm9sdW1lKCksdm9pZCAwKX19KSxiLl9wYW49MCxPYmplY3QuZGVmaW5lUHJvcGVydHkoYiwicGFuIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Bhbn0sc2V0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm93bmVyLmNhcGFiaWxpdGllcy5wYW5uaW5nJiZudWxsIT1OdW1iZXIoYSk/KGE9TWF0aC5tYXgoLTEsTWF0aC5taW4oMSxhKSksdGhpcy5fcGFuPWEsdGhpcy5wYW5Ob2RlLnNldFBvc2l0aW9uKGEsMCwtLjUpLHZvaWQgMCk6ITF9fSksYi5kdXJhdGlvbj0wLGIucmVtYWluaW5nTG9vcHM9MCxiLmRlbGF5VGltZW91dElkPW51bGwsYi5zb3VuZENvbXBsZXRlVGltZW91dD1udWxsLGIucGFuTm9kZT1udWxsLGIuZ2Fpbk5vZGU9bnVsbCxiLnNvdXJjZU5vZGU9bnVsbCxiLnNvdXJjZU5vZGVOZXh0PW51bGwsYi5tdXRlZD0hMSxiLnBhdXNlZD0hMSxiLnN0YXJ0VGltZT0wLGIuYWRkRXZlbnRMaXN0ZW5lcj1udWxsLGIucmVtb3ZlRXZlbnRMaXN0ZW5lcj1udWxsLGIucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnM9bnVsbCxiLmRpc3BhdGNoRXZlbnQ9bnVsbCxiLmhhc0V2ZW50TGlzdGVuZXI9bnVsbCxiLl9saXN0ZW5lcnM9bnVsbCxiLmVuZGVkSGFuZGxlcj1udWxsLGIucmVhZHlIYW5kbGVyPW51bGwsYi5zdGFsbGVkSGFuZGxlcj1udWxsLGIuc2VuZEV2ZW50PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBjcmVhdGVqcy5FdmVudChhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYil9LGIuaW5pdD1mdW5jdGlvbihhLGIpe3RoaXMub3duZXI9Yix0aGlzLnNyYz1hLHRoaXMucGFuTm9kZT10aGlzLm93bmVyLmNvbnRleHQuY3JlYXRlUGFubmVyKCksdGhpcy5wYW5Ob2RlLnBhbm5pbmdNb2RlbD10aGlzLm93bmVyLnBhbm5pbmdNb2RlbCx0aGlzLmdhaW5Ob2RlPXRoaXMub3duZXIuY29udGV4dC5jcmVhdGVHYWluKCksdGhpcy5nYWluTm9kZS5jb25uZWN0KHRoaXMucGFuTm9kZSksdGhpcy5vd25lci5pc1ByZWxvYWRDb21wbGV0ZSh0aGlzLnNyYykmJih0aGlzLmR1cmF0aW9uPTFlMyp0aGlzLm93bmVyLmFycmF5QnVmZmVyc1t0aGlzLnNyY10uZHVyYXRpb24pLHRoaXMuZW5kZWRIYW5kbGVyPWNyZWF0ZWpzLnByb3h5KHRoaXMuaGFuZGxlU291bmRDb21wbGV0ZSx0aGlzKSx0aGlzLnJlYWR5SGFuZGxlcj1jcmVhdGVqcy5wcm94eSh0aGlzLmhhbmRsZVNvdW5kUmVhZHksdGhpcyksdGhpcy5zdGFsbGVkSGFuZGxlcj1jcmVhdGVqcy5wcm94eSh0aGlzLmhhbmRsZVNvdW5kU3RhbGxlZCx0aGlzKX0sYi5jbGVhblVwPWZ1bmN0aW9uKCl7dGhpcy5zb3VyY2VOb2RlJiZ0aGlzLnNvdXJjZU5vZGUucGxheWJhY2tTdGF0ZSE9dGhpcy5zb3VyY2VOb2RlLlVOU0NIRURVTEVEX1NUQVRFJiYodGhpcy5zb3VyY2VOb2RlPXRoaXMuY2xlYW5VcEF1ZGlvTm9kZSh0aGlzLnNvdXJjZU5vZGUpLHRoaXMuc291cmNlTm9kZU5leHQ9dGhpcy5jbGVhblVwQXVkaW9Ob2RlKHRoaXMuc291cmNlTm9kZU5leHQpKSwwIT10aGlzLnBhbk5vZGUubnVtYmVyT2ZPdXRwdXRzJiZ0aGlzLnBhbk5vZGUuZGlzY29ubmVjdCgwKSxjbGVhclRpbWVvdXQodGhpcy5kZWxheVRpbWVvdXRJZCksY2xlYXJUaW1lb3V0KHRoaXMuc291bmRDb21wbGV0ZVRpbWVvdXQpLHRoaXMuc3RhcnRUaW1lPTAsbnVsbCE9d2luZG93LmNyZWF0ZWpzJiZjcmVhdGVqcy5Tb3VuZC5wbGF5RmluaXNoZWQodGhpcyl9LGIuY2xlYW5VcEF1ZGlvTm9kZT1mdW5jdGlvbihhKXtyZXR1cm4gYSYmKGEuc3RvcCgwKSxhLmRpc2Nvbm5lY3QodGhpcy5nYWluTm9kZSksYT1udWxsKSxhfSxiLmludGVycnVwdD1mdW5jdGlvbigpe3RoaXMucGxheVN0YXRlPWNyZWF0ZWpzLlNvdW5kLlBMQVlfSU5URVJSVVBURUQsdGhpcy5jbGVhblVwKCksdGhpcy5wYXVzZWQ9ITEsdGhpcy5zZW5kRXZlbnQoImludGVycnVwdGVkIil9LGIuaGFuZGxlU291bmRTdGFsbGVkPWZ1bmN0aW9uKCl7dGhpcy5zZW5kRXZlbnQoImZhaWxlZCIpfSxiLmhhbmRsZVNvdW5kUmVhZHk9ZnVuY3Rpb24oKXtpZihudWxsIT13aW5kb3cuY3JlYXRlanMpe2lmKDFlMyp0aGlzLm9mZnNldD50aGlzLmdldER1cmF0aW9uKCkpcmV0dXJuIHRoaXMucGxheUZhaWxlZCgpLHZvaWQgMDt0aGlzLm9mZnNldDwwJiYodGhpcy5vZmZzZXQ9MCksdGhpcy5wbGF5U3RhdGU9Y3JlYXRlanMuU291bmQuUExBWV9TVUNDRUVERUQsdGhpcy5wYXVzZWQ9ITEsdGhpcy5wYW5Ob2RlLmNvbm5lY3QodGhpcy5vd25lci5nYWluTm9kZSk7dmFyIGE9dGhpcy5vd25lci5hcnJheUJ1ZmZlcnNbdGhpcy5zcmNdLmR1cmF0aW9uO3RoaXMuc291cmNlTm9kZT10aGlzLmNyZWF0ZUFuZFBsYXlBdWRpb05vZGUodGhpcy5vd25lci5jb250ZXh0LmN1cnJlbnRUaW1lLWEsdGhpcy5vZmZzZXQpLHRoaXMuZHVyYXRpb249MWUzKmEsdGhpcy5zdGFydFRpbWU9dGhpcy5zb3VyY2VOb2RlLnN0YXJ0VGltZS10aGlzLm9mZnNldCx0aGlzLnNvdW5kQ29tcGxldGVUaW1lb3V0PXNldFRpbWVvdXQodGhpcy5lbmRlZEhhbmRsZXIsMWUzKihhLXRoaXMub2Zmc2V0KSksMCE9dGhpcy5yZW1haW5pbmdMb29wcyYmKHRoaXMuc291cmNlTm9kZU5leHQ9dGhpcy5jcmVhdGVBbmRQbGF5QXVkaW9Ob2RlKHRoaXMuc3RhcnRUaW1lLDApKX19LGIuY3JlYXRlQW5kUGxheUF1ZGlvTm9kZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMub3duZXIuY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtyZXR1cm4gYy5idWZmZXI9dGhpcy5vd25lci5hcnJheUJ1ZmZlcnNbdGhpcy5zcmNdLGMuY29ubmVjdCh0aGlzLmdhaW5Ob2RlKSx0aGlzLm93bmVyLmNvbnRleHQuY3VycmVudFRpbWUsYy5zdGFydFRpbWU9YStjLmJ1ZmZlci5kdXJhdGlvbixjLnN0YXJ0KGMuc3RhcnRUaW1lLGIsYy5idWZmZXIuZHVyYXRpb24tYiksY30sYi5wbGF5PWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLmNsZWFuVXAoKSxjcmVhdGVqcy5Tb3VuZC5wbGF5SW5zdGFuY2UodGhpcyxhLGIsYyxkLGUsZil9LGIuYmVnaW5QbGF5aW5nPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBudWxsIT13aW5kb3cuY3JlYXRlanMmJnRoaXMuc3JjPyh0aGlzLm9mZnNldD1hLzFlMyx0aGlzLnJlbWFpbmluZ0xvb3BzPWIsdGhpcy52b2x1bWU9Yyx0aGlzLnBhbj1kLHRoaXMub3duZXIuaXNQcmVsb2FkQ29tcGxldGUodGhpcy5zcmMpPyh0aGlzLmhhbmRsZVNvdW5kUmVhZHkobnVsbCksdGhpcy5zZW5kRXZlbnQoInN1Y2NlZWRlZCIpLDEpOih0aGlzLnBsYXlGYWlsZWQoKSx2b2lkIDApKTp2b2lkIDB9LGIucGF1c2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXVzZWR8fHRoaXMucGxheVN0YXRlIT1jcmVhdGVqcy5Tb3VuZC5QTEFZX1NVQ0NFRURFRD8hMToodGhpcy5wYXVzZWQ9ITAsdGhpcy5vZmZzZXQ9dGhpcy5vd25lci5jb250ZXh0LmN1cnJlbnRUaW1lLXRoaXMuc3RhcnRUaW1lLHRoaXMuY2xlYW5VcEF1ZGlvTm9kZSh0aGlzLnNvdXJjZU5vZGUpLHRoaXMuY2xlYW5VcEF1ZGlvTm9kZSh0aGlzLnNvdXJjZU5vZGVOZXh0KSwwIT10aGlzLnBhbk5vZGUubnVtYmVyT2ZPdXRwdXRzJiZ0aGlzLnBhbk5vZGUuZGlzY29ubmVjdCgpLGNsZWFyVGltZW91dCh0aGlzLmRlbGF5VGltZW91dElkKSxjbGVhclRpbWVvdXQodGhpcy5zb3VuZENvbXBsZXRlVGltZW91dCksITApfSxiLnJlc3VtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdXNlZD8odGhpcy5oYW5kbGVTb3VuZFJlYWR5KG51bGwpLCEwKTohMX0sYi5zdG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGxheVN0YXRlPWNyZWF0ZWpzLlNvdW5kLlBMQVlfRklOSVNIRUQsdGhpcy5jbGVhblVwKCksdGhpcy5vZmZzZXQ9MCwhMH0sYi5zZXRWb2x1bWU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudm9sdW1lPWEsITB9LGIudXBkYXRlVm9sdW1lPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5tdXRlZD8wOnRoaXMuX3ZvbHVtZTtyZXR1cm4gYSE9dGhpcy5nYWluTm9kZS5nYWluLnZhbHVlPyh0aGlzLmdhaW5Ob2RlLmdhaW4udmFsdWU9YSwhMCk6ITF9LGIuZ2V0Vm9sdW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudm9sdW1lfSxiLnNldE11dGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWF8fHZvaWQgMD09YT8hMToodGhpcy5tdXRlZD1hLHRoaXMudXBkYXRlVm9sdW1lKCksITApfSxiLmdldE11dGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tdXRlZH0sYi5zZXRQYW49ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucGFuPWEsdGhpcy5wYW4hPWE/ITE6dm9pZCAwfSxiLmdldFBhbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhbn0sYi5nZXRQb3NpdGlvbj1mdW5jdGlvbigpe2lmKHRoaXMucGF1c2VkfHxudWxsPT10aGlzLnNvdXJjZU5vZGUpdmFyIGE9dGhpcy5vZmZzZXQ7ZWxzZSB2YXIgYT10aGlzLm93bmVyLmNvbnRleHQuY3VycmVudFRpbWUtdGhpcy5zdGFydFRpbWU7cmV0dXJuIDFlMyphfSxiLnNldFBvc2l0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9mZnNldD1hLzFlMyx0aGlzLnNvdXJjZU5vZGUmJnRoaXMuc291cmNlTm9kZS5wbGF5YmFja1N0YXRlIT10aGlzLnNvdXJjZU5vZGUuVU5TQ0hFRFVMRURfU1RBVEUmJih0aGlzLmNsZWFuVXBBdWRpb05vZGUodGhpcy5zb3VyY2VOb2RlKSx0aGlzLmNsZWFuVXBBdWRpb05vZGUodGhpcy5zb3VyY2VOb2RlTmV4dCksY2xlYXJUaW1lb3V0KHRoaXMuc291bmRDb21wbGV0ZVRpbWVvdXQpKSx0aGlzLnBhdXNlZHx8dGhpcy5wbGF5U3RhdGUhPWNyZWF0ZWpzLlNvdW5kLlBMQVlfU1VDQ0VFREVEfHx0aGlzLmhhbmRsZVNvdW5kUmVhZHkobnVsbCksITB9LGIuZ2V0RHVyYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kdXJhdGlvbn0sYi5oYW5kbGVTb3VuZENvbXBsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2Zmc2V0PTAsMCE9dGhpcy5yZW1haW5pbmdMb29wcz8odGhpcy5yZW1haW5pbmdMb29wcy0tLHRoaXMuc291cmNlTm9kZU5leHQ/KHRoaXMuY2xlYW5VcEF1ZGlvTm9kZSh0aGlzLnNvdXJjZU5vZGUpLHRoaXMuc291cmNlTm9kZT10aGlzLnNvdXJjZU5vZGVOZXh0LHRoaXMuc3RhcnRUaW1lPXRoaXMuc291cmNlTm9kZS5zdGFydFRpbWUsdGhpcy5zb3VyY2VOb2RlTmV4dD10aGlzLmNyZWF0ZUFuZFBsYXlBdWRpb05vZGUodGhpcy5zdGFydFRpbWUsMCksdGhpcy5zb3VuZENvbXBsZXRlVGltZW91dD1zZXRUaW1lb3V0KHRoaXMuZW5kZWRIYW5kbGVyLHRoaXMuZHVyYXRpb24pKTp0aGlzLmhhbmRsZVNvdW5kUmVhZHkobnVsbCksdGhpcy5zZW5kRXZlbnQoImxvb3AiKSx2b2lkIDApOihudWxsIT13aW5kb3cuY3JlYXRlanMmJih0aGlzLnBsYXlTdGF0ZT1jcmVhdGVqcy5Tb3VuZC5QTEFZX0ZJTklTSEVELHRoaXMuY2xlYW5VcCgpLHRoaXMuc2VuZEV2ZW50KCJjb21wbGV0ZSIpKSx2b2lkIDApfSxiLnBsYXlGYWlsZWQ9ZnVuY3Rpb24oKXtudWxsIT13aW5kb3cuY3JlYXRlanMmJih0aGlzLnBsYXlTdGF0ZT1jcmVhdGVqcy5Tb3VuZC5QTEFZX0ZBSUxFRCx0aGlzLmNsZWFuVXAoKSx0aGlzLnNlbmRFdmVudCgiZmFpbGVkIikpfSxiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltXZWJBdWRpb1BsdWdpbiBTb3VuZEluc3RhbmNlXSJ9LGNyZWF0ZWpzLkV2ZW50RGlzcGF0Y2hlci5pbml0aWFsaXplKGEucHJvdG90eXBlKSxjcmVhdGVqcy5XZWJBdWRpb1BsdWdpbi5Tb3VuZEluc3RhbmNlPWF9KCksZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYShhLGIpe3RoaXMuaW5pdChhLGIpfXZhciBiPWEucHJvdG90eXBlO2IucmVxdWVzdD1udWxsLGIub3duZXI9bnVsbCxiLnByb2dyZXNzPS0xLGIuc3JjPW51bGwsYi5vcmlnaW5hbFNyYz1udWxsLGIucmVzdWx0PW51bGwsYi5vbmxvYWQ9bnVsbCxiLm9ucHJvZ3Jlc3M9bnVsbCxiLm9uRXJyb3I9bnVsbCxiLmluaXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLnNyYz1hLHRoaXMub3JpZ2luYWxTcmM9YSx0aGlzLm93bmVyPWJ9LGIubG9hZD1mdW5jdGlvbihhKXtudWxsIT1hJiYodGhpcy5zcmM9YSksdGhpcy5yZXF1ZXN0PW5ldyBYTUxIdHRwUmVxdWVzdCx0aGlzLnJlcXVlc3Qub3BlbigiR0VUIix0aGlzLnNyYywhMCksdGhpcy5yZXF1ZXN0LnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiLHRoaXMucmVxdWVzdC5vbmxvYWQ9Y3JlYXRlanMucHJveHkodGhpcy5oYW5kbGVMb2FkLHRoaXMpLHRoaXMucmVxdWVzdC5vbkVycm9yPWNyZWF0ZWpzLnByb3h5KHRoaXMuaGFuZGxlRXJyb3IsdGhpcyksdGhpcy5yZXF1ZXN0Lm9ucHJvZ3Jlc3M9Y3JlYXRlanMucHJveHkodGhpcy5oYW5kbGVQcm9ncmVzcyx0aGlzKSx0aGlzLnJlcXVlc3Quc2VuZCgpfSxiLmhhbmRsZVByb2dyZXNzPWZ1bmN0aW9uKGEsYil7dGhpcy5wcm9ncmVzcz1hL2IsbnVsbCE9dGhpcy5vbnByb2dyZXNzJiZ0aGlzLm9ucHJvZ3Jlc3Moe2xvYWRlZDphLHRvdGFsOmIscHJvZ3Jlc3M6dGhpcy5wcm9ncmVzc30pfSxiLmhhbmRsZUxvYWQ9ZnVuY3Rpb24oKXt0aGlzLm93bmVyLmNvbnRleHQuZGVjb2RlQXVkaW9EYXRhKHRoaXMucmVxdWVzdC5yZXNwb25zZSxjcmVhdGVqcy5wcm94eSh0aGlzLmhhbmRsZUF1ZGlvRGVjb2RlZCx0aGlzKSxjcmVhdGVqcy5wcm94eSh0aGlzLmhhbmRsZUVycm9yLHRoaXMpKX0sYi5oYW5kbGVBdWRpb0RlY29kZWQ9ZnVuY3Rpb24oYSl7dGhpcy5wcm9ncmVzcz0xLHRoaXMucmVzdWx0PWEsdGhpcy5zcmM9dGhpcy5vcmlnaW5hbFNyYyx0aGlzLm93bmVyLmFkZFByZWxvYWRSZXN1bHRzKHRoaXMuc3JjLHRoaXMucmVzdWx0KSx0aGlzLm9ubG9hZCYmdGhpcy5vbmxvYWQoKX0sYi5oYW5kbGVFcnJvcj1mdW5jdGlvbihhKXt0aGlzLm93bmVyLnJlbW92ZVNvdW5kKHRoaXMuc3JjKSx0aGlzLm9uZXJyb3ImJnRoaXMub25lcnJvcihhKX0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbV2ViQXVkaW9QbHVnaW4gTG9hZGVyXSJ9LGNyZWF0ZWpzLldlYkF1ZGlvUGx1Z2luLkxvYWRlcj1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYSgpe3RoaXMuaW5pdCgpfXZhciBiPWE7Yi5NQVhfSU5TVEFOQ0VTPTMwLGIuY2FwYWJpbGl0aWVzPW51bGwsYi5BVURJT19SRUFEWT0iY2FucGxheXRocm91Z2giLGIuQVVESU9fRU5ERUQ9ImVuZGVkIixiLkFVRElPX1NFRUtFRD0ic2Vla2VkIixiLkFVRElPX0VSUk9SPSJlcnJvciIsYi5BVURJT19TVEFMTEVEPSJzdGFsbGVkIixiLmVuYWJsZUlPUz0hMSxiLmlzU3VwcG9ydGVkPWZ1bmN0aW9uKCl7aWYoY3JlYXRlanMuU291bmQuQnJvd3NlckRldGVjdC5pc0lPUyYmIWIuZW5hYmxlSU9TKXJldHVybiExO2IuZ2VuZXJhdGVDYXBhYmlsaXRpZXMoKTt2YXIgYT1iLnRhZztyZXR1cm4gbnVsbD09YXx8bnVsbD09Yi5jYXBhYmlsaXRpZXM/ITE6ITB9LGIuZ2VuZXJhdGVDYXBhYmlsaXRpZXM9ZnVuY3Rpb24oKXtpZihudWxsPT1iLmNhcGFiaWxpdGllcyl7dmFyIGE9Yi50YWc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYXVkaW8iKTtpZihudWxsPT1hLmNhblBsYXlUeXBlKXJldHVybiBudWxsO2IuY2FwYWJpbGl0aWVzPXtwYW5uaW5nOiEwLHZvbHVtZTohMCx0cmFja3M6LTF9O2Zvcih2YXIgYz1jcmVhdGVqcy5Tb3VuZC5TVVBQT1JURURfRVhURU5TSU9OUyxkPWNyZWF0ZWpzLlNvdW5kLkVYVEVOU0lPTl9NQVAsZT0wLGY9Yy5sZW5ndGg7Zj5lO2UrKyl7dmFyIGc9Y1tlXSxoPWRbZ118fGc7Yi5jYXBhYmlsaXRpZXNbZ109Im5vIiE9YS5jYW5QbGF5VHlwZSgiYXVkaW8vIitnKSYmIiIhPWEuY2FuUGxheVR5cGUoImF1ZGlvLyIrZyl8fCJubyIhPWEuY2FuUGxheVR5cGUoImF1ZGlvLyIraCkmJiIiIT1hLmNhblBsYXlUeXBlKCJhdWRpby8iK2gpfX19O3ZhciBjPWEucHJvdG90eXBlO2MuY2FwYWJpbGl0aWVzPW51bGwsYy5hdWRpb1NvdXJjZXM9bnVsbCxjLmRlZmF1bHROdW1DaGFubmVscz0yLGMubG9hZGVkSGFuZGxlcj1udWxsLGMuaW5pdD1mdW5jdGlvbigpe3RoaXMuY2FwYWJpbGl0aWVzPWIuY2FwYWJpbGl0aWVzLHRoaXMuYXVkaW9Tb3VyY2VzPXt9fSxjLnJlZ2lzdGVyPWZ1bmN0aW9uKGEsYil7dGhpcy5hdWRpb1NvdXJjZXNbYV09ITA7Zm9yKHZhciBjPWNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5UYWdQb29sLmdldChhKSxkPW51bGwsZT1ifHx0aGlzLmRlZmF1bHROdW1DaGFubmVscyxmPTA7ZT5mO2YrKylkPXRoaXMuY3JlYXRlVGFnKGEpLGMuYWRkKGQpO2lmKGQuaWQ9YSx0aGlzLmxvYWRlZEhhbmRsZXI9Y3JlYXRlanMucHJveHkodGhpcy5oYW5kbGVUYWdMb2FkLHRoaXMpLGQuYWRkRXZlbnRMaXN0ZW5lciYmZC5hZGRFdmVudExpc3RlbmVyKCJjYW5wbGF5dGhyb3VnaCIsdGhpcy5sb2FkZWRIYW5kbGVyKSxudWxsPT1kLm9ucmVhZHlzdGF0ZWNoYW5nZSlkLm9ucmVhZHlzdGF0ZWNoYW5nZT10aGlzLmxvYWRlZEhhbmRsZXI7ZWxzZXt2YXIgZz1kLm9ucmVhZHlzdGF0ZWNoYW5nZTtkLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2coKSx0aGlzLmxvYWRlZEhhbmRsZXIoKX19cmV0dXJue3RhZzpkLG51bUNoYW5uZWxzOmV9fSxjLmhhbmRsZVRhZ0xvYWQ9ZnVuY3Rpb24oYSl7YS50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2FucGxheXRocm91Z2giLHRoaXMubG9hZGVkSGFuZGxlciksYS50YXJnZXQub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsYS50YXJnZXQuc3JjIT1hLnRhcmdldC5pZCYmY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLlRhZ1Bvb2wuY2hlY2tTcmMoYS50YXJnZXQuaWQpfSxjLmNyZWF0ZVRhZz1mdW5jdGlvbihhKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpO3JldHVybiBiLmF1dG9wbGF5PSExLGIucHJlbG9hZD0ibm9uZSIsYi5zcmM9YSxifSxjLnJlbW92ZVNvdW5kPWZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLmF1ZGlvU291cmNlc1thXSxjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uVGFnUG9vbC5yZW1vdmUoYSl9LGMucmVtb3ZlQWxsU291bmRzPWZ1bmN0aW9uKCl7dGhpcy5hdWRpb1NvdXJjZXM9e30sY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLlRhZ1Bvb2wucmVtb3ZlQWxsKCl9LGMuY3JlYXRlPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmlzUHJlbG9hZFN0YXJ0ZWQoYSkpe3ZhciBiPWNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5UYWdQb29sLmdldChhKSxjPXRoaXMuY3JlYXRlVGFnKGEpO2MuaWQ9YSxiLmFkZChjKSx0aGlzLnByZWxvYWQoYSx7dGFnOmN9KX1yZXR1cm4gbmV3IGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5Tb3VuZEluc3RhbmNlKGEsdGhpcyl9LGMuaXNQcmVsb2FkU3RhcnRlZD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9dGhpcy5hdWRpb1NvdXJjZXNbYV19LGMucHJlbG9hZD1mdW5jdGlvbihhLGIsYyl7dGhpcy5hdWRpb1NvdXJjZXNbYV09ITAsbnVsbCE9YyYmKGIudGFnLnNyYz1jK2EpLG5ldyBjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uTG9hZGVyKGEsYi50YWcpfSxjLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltIVE1MQXVkaW9QbHVnaW5dIn0sY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luPWF9KCksZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYShhLGIpe3RoaXMuaW5pdChhLGIpfXZhciBiPWEucHJvdG90eXBlO2Iuc3JjPW51bGwsYi51bmlxdWVJZD0tMSxiLnBsYXlTdGF0ZT1udWxsLGIub3duZXI9bnVsbCxiLmxvYWRlZD0hMSxiLm9mZnNldD0wLGIuZGVsYXk9MCxiLl92b2x1bWU9MSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYiwidm9sdW1lIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZvbHVtZX0sc2V0OmZ1bmN0aW9uKGEpe251bGwhPU51bWJlcihhKSYmKGE9TWF0aC5tYXgoMCxNYXRoLm1pbigxLGEpKSx0aGlzLl92b2x1bWU9YSx0aGlzLnVwZGF0ZVZvbHVtZSgpKX19KSxiLnBhbj0wLGIuZHVyYXRpb249MCxiLnJlbWFpbmluZ0xvb3BzPTAsYi5kZWxheVRpbWVvdXRJZD1udWxsLGIudGFnPW51bGwsYi5tdXRlZD0hMSxiLnBhdXNlZD0hMSxiLmFkZEV2ZW50TGlzdGVuZXI9bnVsbCxiLnJlbW92ZUV2ZW50TGlzdGVuZXI9bnVsbCxiLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzPW51bGwsYi5kaXNwYXRjaEV2ZW50PW51bGwsYi5oYXNFdmVudExpc3RlbmVyPW51bGwsYi5fbGlzdGVuZXJzPW51bGwsYi5lbmRlZEhhbmRsZXI9bnVsbCxiLnJlYWR5SGFuZGxlcj1udWxsLGIuc3RhbGxlZEhhbmRsZXI9bnVsbCxiLmxvb3BIYW5kbGVyPW51bGwsYi5pbml0PWZ1bmN0aW9uKGEsYil7dGhpcy5zcmM9YSx0aGlzLm93bmVyPWIsdGhpcy5lbmRlZEhhbmRsZXI9Y3JlYXRlanMucHJveHkodGhpcy5oYW5kbGVTb3VuZENvbXBsZXRlLHRoaXMpLHRoaXMucmVhZHlIYW5kbGVyPWNyZWF0ZWpzLnByb3h5KHRoaXMuaGFuZGxlU291bmRSZWFkeSx0aGlzKSx0aGlzLnN0YWxsZWRIYW5kbGVyPWNyZWF0ZWpzLnByb3h5KHRoaXMuaGFuZGxlU291bmRTdGFsbGVkLHRoaXMpLHRoaXMubG9vcEhhbmRsZXI9Y3JlYXRlanMucHJveHkodGhpcy5oYW5kbGVTb3VuZExvb3AsdGhpcyl9LGIuc2VuZEV2ZW50PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBjcmVhdGVqcy5FdmVudChhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYil9LGIuY2xlYW5VcD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudGFnO2lmKG51bGwhPWEpe2EucGF1c2UoKSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLkFVRElPX0VOREVELHRoaXMuZW5kZWRIYW5kbGVyLCExKSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLkFVRElPX1JFQURZLHRoaXMucmVhZHlIYW5kbGVyLCExKSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLkFVRElPX1NFRUtFRCx0aGlzLmxvb3BIYW5kbGVyLCExKTt0cnl7YS5jdXJyZW50VGltZT0wfWNhdGNoKGIpe31jcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uVGFnUG9vbC5zZXRJbnN0YW5jZSh0aGlzLnNyYyxhKSx0aGlzLnRhZz1udWxsfWNsZWFyVGltZW91dCh0aGlzLmRlbGF5VGltZW91dElkKSxudWxsIT13aW5kb3cuY3JlYXRlanMmJmNyZWF0ZWpzLlNvdW5kLnBsYXlGaW5pc2hlZCh0aGlzKX0sYi5pbnRlcnJ1cHQ9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnRhZyYmKHRoaXMucGxheVN0YXRlPWNyZWF0ZWpzLlNvdW5kLlBMQVlfSU5URVJSVVBURUQsdGhpcy5jbGVhblVwKCksdGhpcy5wYXVzZWQ9ITEsdGhpcy5zZW5kRXZlbnQoImludGVycnVwdGVkIikpfSxiLnBsYXk9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMuY2xlYW5VcCgpLGNyZWF0ZWpzLlNvdW5kLnBsYXlJbnN0YW5jZSh0aGlzLGEsYixjLGQsZSxmKX0sYi5iZWdpblBsYXlpbmc9ZnVuY3Rpb24oYSxiLGMsZCl7aWYobnVsbD09d2luZG93LmNyZWF0ZWpzKXJldHVybi0xO3ZhciBlPXRoaXMudGFnPWNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5UYWdQb29sLmdldEluc3RhbmNlKHRoaXMuc3JjKTtyZXR1cm4gbnVsbD09ZT8odGhpcy5wbGF5RmFpbGVkKCksLTEpOihlLmFkZEV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLkFVRElPX0VOREVELHRoaXMuZW5kZWRIYW5kbGVyLCExKSx0aGlzLm9mZnNldD1hLHRoaXMudm9sdW1lPWMsdGhpcy5wYW49ZCx0aGlzLnVwZGF0ZVZvbHVtZSgpLHRoaXMucmVtYWluaW5nTG9vcHM9Yiw0IT09ZS5yZWFkeVN0YXRlPyhlLmFkZEV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLkFVRElPX1JFQURZLHRoaXMucmVhZHlIYW5kbGVyLCExKSxlLmFkZEV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLkFVRElPX1NUQUxMRUQsdGhpcy5zdGFsbGVkSGFuZGxlciwhMSksZS5wcmVsb2FkPSJhdXRvIixlLmxvYWQoKSk6dGhpcy5oYW5kbGVTb3VuZFJlYWR5KG51bGwpLHRoaXMuc2VuZEV2ZW50KCJzdWNjZWVkZWQiKSwxKQp9LGIuaGFuZGxlU291bmRTdGFsbGVkPWZ1bmN0aW9uKCl7dGhpcy5jbGVhblVwKCksdGhpcy5zZW5kRXZlbnQoImZhaWxlZCIpfSxiLmhhbmRsZVNvdW5kUmVhZHk9ZnVuY3Rpb24oKXtpZihudWxsIT13aW5kb3cuY3JlYXRlanMpe2lmKHRoaXMuZHVyYXRpb249MWUzKnRoaXMudGFnLmR1cmF0aW9uLHRoaXMucGxheVN0YXRlPWNyZWF0ZWpzLlNvdW5kLlBMQVlfU1VDQ0VFREVELHRoaXMucGF1c2VkPSExLHRoaXMudGFnLnJlbW92ZUV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLkFVRElPX1JFQURZLHRoaXMucmVhZHlIYW5kbGVyLCExKSx0aGlzLm9mZnNldD49dGhpcy5nZXREdXJhdGlvbigpKXJldHVybiB0aGlzLnBsYXlGYWlsZWQoKSx2b2lkIDA7dGhpcy5vZmZzZXQ+MCYmKHRoaXMudGFnLmN1cnJlbnRUaW1lPS4wMDEqdGhpcy5vZmZzZXQpLC0xPT10aGlzLnJlbWFpbmluZ0xvb3BzJiYodGhpcy50YWcubG9vcD0hMCksMCE9dGhpcy5yZW1haW5pbmdMb29wcyYmKHRoaXMudGFnLmFkZEV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLkFVRElPX1NFRUtFRCx0aGlzLmxvb3BIYW5kbGVyLCExKSx0aGlzLnRhZy5sb29wPSEwKSx0aGlzLnRhZy5wbGF5KCl9fSxiLnBhdXNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF1c2VkfHx0aGlzLnBsYXlTdGF0ZSE9Y3JlYXRlanMuU291bmQuUExBWV9TVUNDRUVERUR8fG51bGw9PXRoaXMudGFnPyExOih0aGlzLnBhdXNlZD0hMCx0aGlzLnRhZy5wYXVzZSgpLGNsZWFyVGltZW91dCh0aGlzLmRlbGF5VGltZW91dElkKSwhMCl9LGIucmVzdW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF1c2VkJiZudWxsIT10aGlzLnRhZz8odGhpcy5wYXVzZWQ9ITEsdGhpcy50YWcucGxheSgpLCEwKTohMX0sYi5zdG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2Zmc2V0PTAsdGhpcy5wYXVzZSgpLHRoaXMucGxheVN0YXRlPWNyZWF0ZWpzLlNvdW5kLlBMQVlfRklOSVNIRUQsdGhpcy5jbGVhblVwKCksITB9LGIuc2V0TWFzdGVyVm9sdW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXBkYXRlVm9sdW1lKCksITB9LGIuc2V0Vm9sdW1lPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnZvbHVtZT1hLCEwfSxiLnVwZGF0ZVZvbHVtZT1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMudGFnKXt2YXIgYT10aGlzLm11dGVkfHxjcmVhdGVqcy5Tb3VuZC5tYXN0ZXJNdXRlPzA6dGhpcy5fdm9sdW1lKmNyZWF0ZWpzLlNvdW5kLm1hc3RlclZvbHVtZTtyZXR1cm4gYSE9dGhpcy50YWcudm9sdW1lJiYodGhpcy50YWcudm9sdW1lPWEpLCEwfXJldHVybiExfSxiLmdldFZvbHVtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZvbHVtZX0sYi5zZXRNYXN0ZXJNdXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXBkYXRlVm9sdW1lKCksITB9LGIuc2V0TXV0ZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YXx8dm9pZCAwPT1hPyExOih0aGlzLm11dGVkPWEsdGhpcy51cGRhdGVWb2x1bWUoKSwhMCl9LGIuZ2V0TXV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm11dGVkfSxiLnNldFBhbj1mdW5jdGlvbigpe3JldHVybiExfSxiLmdldFBhbj1mdW5jdGlvbigpe3JldHVybiAwfSxiLmdldFBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PXRoaXMudGFnP3RoaXMub2Zmc2V0OjFlMyp0aGlzLnRhZy5jdXJyZW50VGltZX0sYi5zZXRQb3NpdGlvbj1mdW5jdGlvbihhKXtpZihudWxsPT10aGlzLnRhZyl0aGlzLm9mZnNldD1hO2Vsc2V7dGhpcy50YWcucmVtb3ZlRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uQVVESU9fU0VFS0VELHRoaXMubG9vcEhhbmRsZXIsITEpO3RyeXt0aGlzLnRhZy5jdXJyZW50VGltZT0uMDAxKmF9Y2F0Y2goYil7cmV0dXJuITF9dGhpcy50YWcuYWRkRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uQVVESU9fU0VFS0VELHRoaXMubG9vcEhhbmRsZXIsITEpfXJldHVybiEwfSxiLmdldER1cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHVyYXRpb259LGIuaGFuZGxlU291bmRDb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMub2Zmc2V0PTAsbnVsbCE9d2luZG93LmNyZWF0ZWpzJiYodGhpcy5wbGF5U3RhdGU9Y3JlYXRlanMuU291bmQuUExBWV9GSU5JU0hFRCx0aGlzLmNsZWFuVXAoKSx0aGlzLnNlbmRFdmVudCgiY29tcGxldGUiKSl9LGIuaGFuZGxlU291bmRMb29wPWZ1bmN0aW9uKCl7dGhpcy5vZmZzZXQ9MCx0aGlzLnJlbWFpbmluZ0xvb3BzLS0sMD09dGhpcy5yZW1haW5pbmdMb29wcyYmKHRoaXMudGFnLmxvb3A9ITEsdGhpcy50YWcucmVtb3ZlRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uQVVESU9fU0VFS0VELHRoaXMubG9vcEhhbmRsZXIsITEpKSx0aGlzLnNlbmRFdmVudCgibG9vcCIpfSxiLnBsYXlGYWlsZWQ9ZnVuY3Rpb24oKXtudWxsIT13aW5kb3cuY3JlYXRlanMmJih0aGlzLnBsYXlTdGF0ZT1jcmVhdGVqcy5Tb3VuZC5QTEFZX0ZBSUxFRCx0aGlzLmNsZWFuVXAoKSx0aGlzLnNlbmRFdmVudCgiZmFpbGVkIikpfSxiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltIVE1MQXVkaW9QbHVnaW4gU291bmRJbnN0YW5jZV0ifSxjcmVhdGVqcy5FdmVudERpc3BhdGNoZXIuaW5pdGlhbGl6ZShhLnByb3RvdHlwZSksY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLlNvdW5kSW5zdGFuY2U9YX0oKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBhKGEsYil7dGhpcy5pbml0KGEsYil9dmFyIGI9YS5wcm90b3R5cGU7Yi5zcmM9bnVsbCxiLnRhZz1udWxsLGIucHJlbG9hZFRpbWVyPW51bGwsYi5sb2FkZWRIYW5kbGVyPW51bGwsYi5pbml0PWZ1bmN0aW9uKGEsYil7aWYodGhpcy5zcmM9YSx0aGlzLnRhZz1iLHRoaXMucHJlbG9hZFRpbWVyPXNldEludGVydmFsKGNyZWF0ZWpzLnByb3h5KHRoaXMucHJlbG9hZFRpY2ssdGhpcyksMjAwKSx0aGlzLmxvYWRlZEhhbmRsZXI9Y3JlYXRlanMucHJveHkodGhpcy5zZW5kTG9hZGVkRXZlbnQsdGhpcyksdGhpcy50YWcuYWRkRXZlbnRMaXN0ZW5lciYmdGhpcy50YWcuYWRkRXZlbnRMaXN0ZW5lcigiY2FucGxheXRocm91Z2giLHRoaXMubG9hZGVkSGFuZGxlciksbnVsbD09dGhpcy50YWcub25yZWFkeXN0YXRlY2hhbmdlKXRoaXMudGFnLm9ucmVhZHlzdGF0ZWNoYW5nZT1jcmVhdGVqcy5wcm94eSh0aGlzLnNlbmRMb2FkZWRFdmVudCx0aGlzKTtlbHNle3ZhciBjPXRoaXMudGFnLm9ucmVhZHlzdGF0ZWNoYW5nZTt0aGlzLnRhZy5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtjKCksdGhpcy50YWcub25yZWFkeXN0YXRlY2hhbmdlPWNyZWF0ZWpzLnByb3h5KHRoaXMuc2VuZExvYWRlZEV2ZW50LHRoaXMpfX10aGlzLnRhZy5wcmVsb2FkPSJhdXRvIix0aGlzLnRhZy5sb2FkKCl9LGIucHJlbG9hZFRpY2s9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRhZy5idWZmZXJlZCxiPXRoaXMudGFnLmR1cmF0aW9uO2EubGVuZ3RoPjAmJmEuZW5kKDApPj1iLTEmJnRoaXMuaGFuZGxlVGFnTG9hZGVkKCl9LGIuaGFuZGxlVGFnTG9hZGVkPWZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbCh0aGlzLnByZWxvYWRUaW1lcil9LGIuc2VuZExvYWRlZEV2ZW50PWZ1bmN0aW9uKCl7dGhpcy50YWcucmVtb3ZlRXZlbnRMaXN0ZW5lciYmdGhpcy50YWcucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2FucGxheXRocm91Z2giLHRoaXMubG9hZGVkSGFuZGxlciksdGhpcy50YWcub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsY3JlYXRlanMuU291bmQuc2VuZEZpbGVMb2FkRXZlbnQodGhpcy5zcmMpfSxiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltIVE1MQXVkaW9QbHVnaW4gTG9hZGVyXSJ9LGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5Mb2FkZXI9YX0oKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBhKGEpe3RoaXMuaW5pdChhKX12YXIgYj1hO2IudGFncz17fSxiLmdldD1mdW5jdGlvbihjKXt2YXIgZD1iLnRhZ3NbY107cmV0dXJuIG51bGw9PWQmJihkPWIudGFnc1tjXT1uZXcgYShjKSksZH0sYi5yZW1vdmU9ZnVuY3Rpb24oYSl7dmFyIGM9Yi50YWdzW2FdO3JldHVybiBudWxsPT1jPyExOihjLnJlbW92ZUFsbCgpLGRlbGV0ZSBiLnRhZ3NbYV0sITApfSxiLnJlbW92ZUFsbD1mdW5jdGlvbigpe2Zvcih2YXIgYSBpbiBiLnRhZ3MpYi50YWdzW2FdLnJlbW92ZUFsbCgpO2IudGFncz17fX0sYi5nZXRJbnN0YW5jZT1mdW5jdGlvbihhKXt2YXIgYz1iLnRhZ3NbYV07cmV0dXJuIG51bGw9PWM/bnVsbDpjLmdldCgpfSxiLnNldEluc3RhbmNlPWZ1bmN0aW9uKGEsYyl7dmFyIGQ9Yi50YWdzW2FdO3JldHVybiBudWxsPT1kP251bGw6ZC5zZXQoYyl9LGIuY2hlY2tTcmM9ZnVuY3Rpb24oYSl7dmFyIGM9Yi50YWdzW2FdO3JldHVybiBudWxsPT1jP251bGw6KGMuY2hlY2tTcmNDaGFuZ2UoKSx2b2lkIDApfTt2YXIgYz1hLnByb3RvdHlwZTtjLnNyYz1udWxsLGMubGVuZ3RoPTAsYy5hdmFpbGFibGU9MCxjLnRhZ3M9bnVsbCxjLmluaXQ9ZnVuY3Rpb24oYSl7dGhpcy5zcmM9YSx0aGlzLnRhZ3M9W119LGMuYWRkPWZ1bmN0aW9uKGEpe3RoaXMudGFncy5wdXNoKGEpLHRoaXMubGVuZ3RoKyssdGhpcy5hdmFpbGFibGUrK30sYy5yZW1vdmVBbGw9ZnVuY3Rpb24oKXtmb3IoO3RoaXMubGVuZ3RoLS07KWRlbGV0ZSB0aGlzLnRhZ3NbdGhpcy5sZW5ndGhdO3RoaXMuc3JjPW51bGwsdGhpcy50YWdzLmxlbmd0aD0wfSxjLmdldD1mdW5jdGlvbigpe2lmKDA9PXRoaXMudGFncy5sZW5ndGgpcmV0dXJuIG51bGw7dGhpcy5hdmFpbGFibGU9dGhpcy50YWdzLmxlbmd0aDt2YXIgYT10aGlzLnRhZ3MucG9wKCk7cmV0dXJuIG51bGw9PWEucGFyZW50Tm9kZSYmZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKSxhfSxjLnNldD1mdW5jdGlvbihhKXt2YXIgYj1jcmVhdGVqcy5pbmRleE9mKHRoaXMudGFncyxhKTstMT09YiYmdGhpcy50YWdzLnB1c2goYSksdGhpcy5hdmFpbGFibGU9dGhpcy50YWdzLmxlbmd0aH0sYy5jaGVja1NyY0NoYW5nZT1mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLnRhZ3MubGVuZ3RoLTEsYj10aGlzLnRhZ3NbYV0uc3JjO2EtLTspdGhpcy50YWdzW2FdLnNyYz1ifSxjLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltIVE1MQXVkaW9QbHVnaW4gVGFnUG9vbF0ifSxjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uVGFnUG9vbD1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuaW5pdGlhbGl6ZShhLGIsYyl9LGI9YS5wcm90b3R5cGU9bmV3IGNyZWF0ZWpzLkV2ZW50RGlzcGF0Y2hlcjthLk5PTkU9MCxhLkxPT1A9MSxhLlJFVkVSU0U9MixhLklHTk9SRT17fSxhLl90d2VlbnM9W10sYS5fcGx1Z2lucz17fSxhLmdldD1mdW5jdGlvbihiLGMsZCxlKXtyZXR1cm4gZSYmYS5yZW1vdmVUd2VlbnMoYiksbmV3IGEoYixjLGQpfSxhLnRpY2s9ZnVuY3Rpb24oYixjKXtmb3IodmFyIGQ9YS5fdHdlZW5zLnNsaWNlKCksZT1kLmxlbmd0aC0xO2U+PTA7ZS0tKXt2YXIgZj1kW2VdO2MmJiFmLmlnbm9yZUdsb2JhbFBhdXNlfHxmLl9wYXVzZWR8fGYudGljayhmLl91c2VUaWNrcz8xOmIpfX0sYS5oYW5kbGVFdmVudD1mdW5jdGlvbihhKXsidGljayI9PWEudHlwZSYmdGhpcy50aWNrKGEuZGVsdGEsYS5wYXVzZWQpfSxhLnJlbW92ZVR3ZWVucz1mdW5jdGlvbihiKXtpZihiLnR3ZWVuanNfY291bnQpe2Zvcih2YXIgYz1hLl90d2VlbnMsZD1jLmxlbmd0aC0xO2Q+PTA7ZC0tKWNbZF0uX3RhcmdldD09YiYmKGNbZF0uX3BhdXNlZD0hMCxjLnNwbGljZShkLDEpKTtiLnR3ZWVuanNfY291bnQ9MH19LGEucmVtb3ZlQWxsVHdlZW5zPWZ1bmN0aW9uKCl7Zm9yKHZhciBiPWEuX3R3ZWVucyxjPTAsZD1iLmxlbmd0aDtkPmM7YysrKXt2YXIgZT1iW2NdO2UucGF1c2VkPSEwLGUudGFyZ2V0LnR3ZWVuanNfY291bnQ9MH1iLmxlbmd0aD0wfSxhLmhhc0FjdGl2ZVR3ZWVucz1mdW5jdGlvbihiKXtyZXR1cm4gYj9iLnR3ZWVuanNfY291bnQ6YS5fdHdlZW5zJiYhIWEuX3R3ZWVucy5sZW5ndGh9LGEuaW5zdGFsbFBsdWdpbj1mdW5jdGlvbihiLGMpe3ZhciBkPWIucHJpb3JpdHk7bnVsbD09ZCYmKGIucHJpb3JpdHk9ZD0wKTtmb3IodmFyIGU9MCxmPWMubGVuZ3RoLGc9YS5fcGx1Z2lucztmPmU7ZSsrKXt2YXIgaD1jW2VdO2lmKGdbaF0pe2Zvcih2YXIgaT1nW2hdLGo9MCxrPWkubGVuZ3RoO2s+aiYmIShkPGlbal0ucHJpb3JpdHkpO2orKyk7Z1toXS5zcGxpY2UoaiwwLGIpfWVsc2UgZ1toXT1bYl19fSxhLl9yZWdpc3Rlcj1mdW5jdGlvbihiLGMpe3ZhciBkPWIuX3RhcmdldCxlPWEuX3R3ZWVucztpZihjKWQmJihkLnR3ZWVuanNfY291bnQ9ZC50d2VlbmpzX2NvdW50P2QudHdlZW5qc19jb3VudCsxOjEpLGUucHVzaChiKSwhYS5faW5pdGVkJiZjcmVhdGVqcy5UaWNrZXImJihjcmVhdGVqcy5UaWNrZXIuYWRkRXZlbnRMaXN0ZW5lcigidGljayIsYSksYS5faW5pdGVkPSEwKTtlbHNle2QmJmQudHdlZW5qc19jb3VudC0tO2Zvcih2YXIgZj1lLmxlbmd0aDtmLS07KWlmKGVbZl09PWIpcmV0dXJuIGUuc3BsaWNlKGYsMSksdm9pZCAwfX0sYi5pZ25vcmVHbG9iYWxQYXVzZT0hMSxiLmxvb3A9ITEsYi5kdXJhdGlvbj0wLGIucGx1Z2luRGF0YT1udWxsLGIudGFyZ2V0PW51bGwsYi5wb3NpdGlvbj1udWxsLGIucGFzc2l2ZT0hMSxiLl9wYXVzZWQ9ITEsYi5fY3VyUXVldWVQcm9wcz1udWxsLGIuX2luaXRRdWV1ZVByb3BzPW51bGwsYi5fc3RlcHM9bnVsbCxiLl9hY3Rpb25zPW51bGwsYi5fcHJldlBvc2l0aW9uPTAsYi5fc3RlcFBvc2l0aW9uPTAsYi5fcHJldlBvcz0tMSxiLl90YXJnZXQ9bnVsbCxiLl91c2VUaWNrcz0hMSxiLl9pbml0ZWQ9ITEsYi5pbml0aWFsaXplPWZ1bmN0aW9uKGIsYyxkKXt0aGlzLnRhcmdldD10aGlzLl90YXJnZXQ9YixjJiYodGhpcy5fdXNlVGlja3M9Yy51c2VUaWNrcyx0aGlzLmlnbm9yZUdsb2JhbFBhdXNlPWMuaWdub3JlR2xvYmFsUGF1c2UsdGhpcy5sb29wPWMubG9vcCxjLm9uQ2hhbmdlJiZ0aGlzLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsYy5vbkNoYW5nZSksYy5vdmVycmlkZSYmYS5yZW1vdmVUd2VlbnMoYikpLHRoaXMucGx1Z2luRGF0YT1kfHx7fSx0aGlzLl9jdXJRdWV1ZVByb3BzPXt9LHRoaXMuX2luaXRRdWV1ZVByb3BzPXt9LHRoaXMuX3N0ZXBzPVtdLHRoaXMuX2FjdGlvbnM9W10sYyYmYy5wYXVzZWQ/dGhpcy5fcGF1c2VkPSEwOmEuX3JlZ2lzdGVyKHRoaXMsITApLGMmJm51bGwhPWMucG9zaXRpb24mJnRoaXMuc2V0UG9zaXRpb24oYy5wb3NpdGlvbixhLk5PTkUpfSxiLndhaXQ9ZnVuY3Rpb24oYSxiKXtpZihudWxsPT1hfHwwPj1hKXJldHVybiB0aGlzO3ZhciBjPXRoaXMuX2Nsb25lUHJvcHModGhpcy5fY3VyUXVldWVQcm9wcyk7cmV0dXJuIHRoaXMuX2FkZFN0ZXAoe2Q6YSxwMDpjLGU6dGhpcy5fbGluZWFyRWFzZSxwMTpjLHY6Yn0pfSxiLnRvPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4oaXNOYU4oYil8fDA+YikmJihiPTApLHRoaXMuX2FkZFN0ZXAoe2Q6Ynx8MCxwMDp0aGlzLl9jbG9uZVByb3BzKHRoaXMuX2N1clF1ZXVlUHJvcHMpLGU6YyxwMTp0aGlzLl9jbG9uZVByb3BzKHRoaXMuX2FwcGVuZFF1ZXVlUHJvcHMoYSkpfSl9LGIuY2FsbD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuX2FkZEFjdGlvbih7ZjphLHA6Yj9iOlt0aGlzXSxvOmM/Yzp0aGlzLl90YXJnZXR9KX0sYi5zZXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5fYWRkQWN0aW9uKHtmOnRoaXMuX3NldCxvOnRoaXMscDpbYSxiP2I6dGhpcy5fdGFyZ2V0XX0pfSxiLnBsYXk9ZnVuY3Rpb24oYSl7cmV0dXJuIGF8fChhPXRoaXMpLHRoaXMuY2FsbChhLnNldFBhdXNlZCxbITFdLGEpfSxiLnBhdXNlPWZ1bmN0aW9uKGEpe3JldHVybiBhfHwoYT10aGlzKSx0aGlzLmNhbGwoYS5zZXRQYXVzZWQsWyEwXSxhKX0sYi5zZXRQb3NpdGlvbj1mdW5jdGlvbihhLGIpezA+YSYmKGE9MCksbnVsbD09YiYmKGI9MSk7dmFyIGM9YSxkPSExO2lmKGM+PXRoaXMuZHVyYXRpb24mJih0aGlzLmxvb3A/YyU9dGhpcy5kdXJhdGlvbjooYz10aGlzLmR1cmF0aW9uLGQ9ITApKSxjPT10aGlzLl9wcmV2UG9zKXJldHVybiBkO3ZhciBlPXRoaXMuX3ByZXZQb3M7aWYodGhpcy5wb3NpdGlvbj10aGlzLl9wcmV2UG9zPWMsdGhpcy5fcHJldlBvc2l0aW9uPWEsdGhpcy5fdGFyZ2V0KWlmKGQpdGhpcy5fdXBkYXRlVGFyZ2V0UHJvcHMobnVsbCwxKTtlbHNlIGlmKHRoaXMuX3N0ZXBzLmxlbmd0aD4wKXtmb3IodmFyIGY9MCxnPXRoaXMuX3N0ZXBzLmxlbmd0aDtnPmYmJiEodGhpcy5fc3RlcHNbZl0udD5jKTtmKyspO3ZhciBoPXRoaXMuX3N0ZXBzW2YtMV07dGhpcy5fdXBkYXRlVGFyZ2V0UHJvcHMoaCwodGhpcy5fc3RlcFBvc2l0aW9uPWMtaC50KS9oLmQpfXJldHVybiAwIT1iJiZ0aGlzLl9hY3Rpb25zLmxlbmd0aD4wJiYodGhpcy5fdXNlVGlja3M/dGhpcy5fcnVuQWN0aW9ucyhjLGMpOjE9PWImJmU+Yz8oZSE9dGhpcy5kdXJhdGlvbiYmdGhpcy5fcnVuQWN0aW9ucyhlLHRoaXMuZHVyYXRpb24pLHRoaXMuX3J1bkFjdGlvbnMoMCxjLCEwKSk6dGhpcy5fcnVuQWN0aW9ucyhlLGMpKSxkJiZ0aGlzLnNldFBhdXNlZCghMCksdGhpcy5kaXNwYXRjaEV2ZW50KCJjaGFuZ2UiKSxkfSxiLnRpY2s9ZnVuY3Rpb24oYSl7dGhpcy5fcGF1c2VkfHx0aGlzLnNldFBvc2l0aW9uKHRoaXMuX3ByZXZQb3NpdGlvbithKX0sYi5zZXRQYXVzZWQ9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuX3BhdXNlZD0hIWIsYS5fcmVnaXN0ZXIodGhpcywhYiksdGhpc30sYi53PWIud2FpdCxiLnQ9Yi50byxiLmM9Yi5jYWxsLGIucz1iLnNldCxiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltUd2Vlbl0ifSxiLmNsb25lPWZ1bmN0aW9uKCl7dGhyb3ciVHdlZW4gY2FuIG5vdCBiZSBjbG9uZWQuIn0sYi5fdXBkYXRlVGFyZ2V0UHJvcHM9ZnVuY3Rpb24oYixjKXt2YXIgZCxlLGYsZyxoLGk7aWYoYnx8MSE9Yyl7aWYodGhpcy5wYXNzaXZlPSEhYi52LHRoaXMucGFzc2l2ZSlyZXR1cm47Yi5lJiYoYz1iLmUoYywwLDEsMSkpLGQ9Yi5wMCxlPWIucDF9ZWxzZSB0aGlzLnBhc3NpdmU9ITEsZD1lPXRoaXMuX2N1clF1ZXVlUHJvcHM7Zm9yKHZhciBqIGluIHRoaXMuX2luaXRRdWV1ZVByb3BzKXtudWxsPT0oZz1kW2pdKSYmKGRbal09Zz10aGlzLl9pbml0UXVldWVQcm9wc1tqXSksbnVsbD09KGg9ZVtqXSkmJihlW2pdPWg9ZyksZj1nPT1ofHwwPT1jfHwxPT1jfHwibnVtYmVyIiE9dHlwZW9mIGc/MT09Yz9oOmc6ZysoaC1nKSpjO3ZhciBrPSExO2lmKGk9YS5fcGx1Z2luc1tqXSlmb3IodmFyIGw9MCxtPWkubGVuZ3RoO20+bDtsKyspe3ZhciBuPWlbbF0udHdlZW4odGhpcyxqLGYsZCxlLGMsISFiJiZkPT1lLCFiKTtuPT1hLklHTk9SRT9rPSEwOmY9bn1rfHwodGhpcy5fdGFyZ2V0W2pdPWYpfX0sYi5fcnVuQWN0aW9ucz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSxlPWIsZj0tMSxnPXRoaXMuX2FjdGlvbnMubGVuZ3RoLGg9MTtmb3IoYT5iJiYoZD1iLGU9YSxmPWcsZz1oPS0xKTsoZis9aCkhPWc7KXt2YXIgaT10aGlzLl9hY3Rpb25zW2ZdLGo9aS50OyhqPT1lfHxqPmQmJmU+anx8YyYmaj09YSkmJmkuZi5hcHBseShpLm8saS5wKX19LGIuX2FwcGVuZFF1ZXVlUHJvcHM9ZnVuY3Rpb24oYil7dmFyIGMsZCxlLGYsZztmb3IodmFyIGggaW4gYilpZih2b2lkIDA9PT10aGlzLl9pbml0UXVldWVQcm9wc1toXSl7aWYoZD10aGlzLl90YXJnZXRbaF0sYz1hLl9wbHVnaW5zW2hdKWZvcihlPTAsZj1jLmxlbmd0aDtmPmU7ZSsrKWQ9Y1tlXS5pbml0KHRoaXMsaCxkKTt0aGlzLl9pbml0UXVldWVQcm9wc1toXT10aGlzLl9jdXJRdWV1ZVByb3BzW2hdPXZvaWQgMD09PWQ/bnVsbDpkfWVsc2UgZD10aGlzLl9jdXJRdWV1ZVByb3BzW2hdO2Zvcih2YXIgaCBpbiBiKXtpZihkPXRoaXMuX2N1clF1ZXVlUHJvcHNbaF0sYz1hLl9wbHVnaW5zW2hdKWZvcihnPWd8fHt9LGU9MCxmPWMubGVuZ3RoO2Y+ZTtlKyspY1tlXS5zdGVwJiZjW2VdLnN0ZXAodGhpcyxoLGQsYltoXSxnKTt0aGlzLl9jdXJRdWV1ZVByb3BzW2hdPWJbaF19cmV0dXJuIGcmJnRoaXMuX2FwcGVuZFF1ZXVlUHJvcHMoZyksdGhpcy5fY3VyUXVldWVQcm9wc30sYi5fY2xvbmVQcm9wcz1mdW5jdGlvbihhKXt2YXIgYj17fTtmb3IodmFyIGMgaW4gYSliW2NdPWFbY107cmV0dXJuIGJ9LGIuX2FkZFN0ZXA9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZD4wJiYodGhpcy5fc3RlcHMucHVzaChhKSxhLnQ9dGhpcy5kdXJhdGlvbix0aGlzLmR1cmF0aW9uKz1hLmQpLHRoaXN9LGIuX2FkZEFjdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4gYS50PXRoaXMuZHVyYXRpb24sdGhpcy5fYWN0aW9ucy5wdXNoKGEpLHRoaXN9LGIuX3NldD1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYyBpbiBhKWJbY109YVtjXX0sY3JlYXRlanMuVHdlZW49YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmluaXRpYWxpemUoYSxiLGMpfSxiPWEucHJvdG90eXBlPW5ldyBjcmVhdGVqcy5FdmVudERpc3BhdGNoZXI7Yi5pZ25vcmVHbG9iYWxQYXVzZT0hMSxiLmR1cmF0aW9uPTAsYi5sb29wPSExLGIucG9zaXRpb249bnVsbCxiLl9wYXVzZWQ9ITEsYi5fdHdlZW5zPW51bGwsYi5fbGFiZWxzPW51bGwsYi5fbGFiZWxMaXN0PW51bGwsYi5fcHJldlBvc2l0aW9uPTAsYi5fcHJldlBvcz0tMSxiLl91c2VUaWNrcz0hMSxiLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuX3R3ZWVucz1bXSxjJiYodGhpcy5fdXNlVGlja3M9Yy51c2VUaWNrcyx0aGlzLmxvb3A9Yy5sb29wLHRoaXMuaWdub3JlR2xvYmFsUGF1c2U9Yy5pZ25vcmVHbG9iYWxQYXVzZSxjLm9uQ2hhbmdlJiZ0aGlzLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsYy5vbkNoYW5nZSkpLGEmJnRoaXMuYWRkVHdlZW4uYXBwbHkodGhpcyxhKSx0aGlzLnNldExhYmVscyhiKSxjJiZjLnBhdXNlZD90aGlzLl9wYXVzZWQ9ITA6Y3JlYXRlanMuVHdlZW4uX3JlZ2lzdGVyKHRoaXMsITApLGMmJm51bGwhPWMucG9zaXRpb24mJnRoaXMuc2V0UG9zaXRpb24oYy5wb3NpdGlvbixjcmVhdGVqcy5Ud2Vlbi5OT05FKX0sYi5hZGRUd2Vlbj1mdW5jdGlvbihhKXt2YXIgYj1hcmd1bWVudHMubGVuZ3RoO2lmKGI+MSl7Zm9yKHZhciBjPTA7Yj5jO2MrKyl0aGlzLmFkZFR3ZWVuKGFyZ3VtZW50c1tjXSk7cmV0dXJuIGFyZ3VtZW50c1swXX1yZXR1cm4gMD09Yj9udWxsOih0aGlzLnJlbW92ZVR3ZWVuKGEpLHRoaXMuX3R3ZWVucy5wdXNoKGEpLGEuc2V0UGF1c2VkKCEwKSxhLl9wYXVzZWQ9ITEsYS5fdXNlVGlja3M9dGhpcy5fdXNlVGlja3MsYS5kdXJhdGlvbj50aGlzLmR1cmF0aW9uJiYodGhpcy5kdXJhdGlvbj1hLmR1cmF0aW9uKSx0aGlzLl9wcmV2UG9zPj0wJiZhLnNldFBvc2l0aW9uKHRoaXMuX3ByZXZQb3MsY3JlYXRlanMuVHdlZW4uTk9ORSksYSl9LGIucmVtb3ZlVHdlZW49ZnVuY3Rpb24oYSl7dmFyIGI9YXJndW1lbnRzLmxlbmd0aDtpZihiPjEpe2Zvcih2YXIgYz0hMCxkPTA7Yj5kO2QrKyljPWMmJnRoaXMucmVtb3ZlVHdlZW4oYXJndW1lbnRzW2RdKTtyZXR1cm4gY31pZigwPT1iKXJldHVybiExO2Zvcih2YXIgZT10aGlzLl90d2VlbnMsZD1lLmxlbmd0aDtkLS07KWlmKGVbZF09PWEpcmV0dXJuIGUuc3BsaWNlKGQsMSksYS5kdXJhdGlvbj49dGhpcy5kdXJhdGlvbiYmdGhpcy51cGRhdGVEdXJhdGlvbigpLCEwO3JldHVybiExfSxiLmFkZExhYmVsPWZ1bmN0aW9uKGEsYil7dGhpcy5fbGFiZWxzW2FdPWI7dmFyIGM9dGhpcy5fbGFiZWxMaXN0O2lmKGMpe2Zvcih2YXIgZD0wLGU9Yy5sZW5ndGg7ZT5kJiYhKGI8Y1tkXS5wb3NpdGlvbik7ZCsrKTtjLnNwbGljZShkLDAse2xhYmVsOmEscG9zaXRpb246Yn0pfX0sYi5zZXRMYWJlbHM9ZnVuY3Rpb24oYSl7dGhpcy5fbGFiZWxzPWE/YTp7fX0sYi5nZXRMYWJlbHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9sYWJlbExpc3Q7aWYoIWEpe2E9dGhpcy5fbGFiZWxMaXN0PVtdO3ZhciBiPXRoaXMuX2xhYmVscztmb3IodmFyIGMgaW4gYilhLnB1c2goe2xhYmVsOmMscG9zaXRpb246YltjXX0pO2Euc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLnBvc2l0aW9uLWIucG9zaXRpb259KX1yZXR1cm4gYX0sYi5nZXRDdXJyZW50TGFiZWw9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldExhYmVscygpLGI9dGhpcy5wb3NpdGlvbixjPWEubGVuZ3RoO2lmKGMpe2Zvcih2YXIgZD0wO2M+ZCYmIShiPGFbZF0ucG9zaXRpb24pO2QrKyk7cmV0dXJuIDA9PWQ/bnVsbDphW2QtMV0ubGFiZWx9cmV0dXJuIG51bGx9LGIuZ290b0FuZFBsYXk9ZnVuY3Rpb24oYSl7dGhpcy5zZXRQYXVzZWQoITEpLHRoaXMuX2dvdG8oYSl9LGIuZ290b0FuZFN0b3A9ZnVuY3Rpb24oYSl7dGhpcy5zZXRQYXVzZWQoITApLHRoaXMuX2dvdG8oYSl9LGIuc2V0UG9zaXRpb249ZnVuY3Rpb24oYSxiKXswPmEmJihhPTApO3ZhciBjPXRoaXMubG9vcD9hJXRoaXMuZHVyYXRpb246YSxkPSF0aGlzLmxvb3AmJmE+PXRoaXMuZHVyYXRpb247aWYoYz09dGhpcy5fcHJldlBvcylyZXR1cm4gZDt0aGlzLl9wcmV2UG9zaXRpb249YSx0aGlzLnBvc2l0aW9uPXRoaXMuX3ByZXZQb3M9Yztmb3IodmFyIGU9MCxmPXRoaXMuX3R3ZWVucy5sZW5ndGg7Zj5lO2UrKylpZih0aGlzLl90d2VlbnNbZV0uc2V0UG9zaXRpb24oYyxiKSxjIT10aGlzLl9wcmV2UG9zKXJldHVybiExO3JldHVybiBkJiZ0aGlzLnNldFBhdXNlZCghMCksdGhpcy5kaXNwYXRjaEV2ZW50KCJjaGFuZ2UiKSxkfSxiLnNldFBhdXNlZD1mdW5jdGlvbihhKXt0aGlzLl9wYXVzZWQ9ISFhLGNyZWF0ZWpzLlR3ZWVuLl9yZWdpc3Rlcih0aGlzLCFhKX0sYi51cGRhdGVEdXJhdGlvbj1mdW5jdGlvbigpe3RoaXMuZHVyYXRpb249MDtmb3IodmFyIGE9MCxiPXRoaXMuX3R3ZWVucy5sZW5ndGg7Yj5hO2ErKyl7dmFyIGM9dGhpcy5fdHdlZW5zW2FdO2MuZHVyYXRpb24+dGhpcy5kdXJhdGlvbiYmKHRoaXMuZHVyYXRpb249Yy5kdXJhdGlvbil9fSxiLnRpY2s9ZnVuY3Rpb24oYSl7dGhpcy5zZXRQb3NpdGlvbih0aGlzLl9wcmV2UG9zaXRpb24rYSl9LGIucmVzb2x2ZT1mdW5jdGlvbihhKXt2YXIgYj1wYXJzZUZsb2F0KGEpO3JldHVybiBpc05hTihiKSYmKGI9dGhpcy5fbGFiZWxzW2FdKSxifSxiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltUaW1lbGluZV0ifSxiLmNsb25lPWZ1bmN0aW9uKCl7dGhyb3ciVGltZWxpbmUgY2FuIG5vdCBiZSBjbG9uZWQuIn0sYi5fZ290bz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLnJlc29sdmUoYSk7bnVsbCE9YiYmdGhpcy5zZXRQb3NpdGlvbihiKX0sY3JlYXRlanMuVGltZWxpbmU9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKCl7dGhyb3ciRWFzZSBjYW5ub3QgYmUgaW5zdGFudGlhdGVkLiJ9O2EubGluZWFyPWZ1bmN0aW9uKGEpe3JldHVybiBhfSxhLm5vbmU9YS5saW5lYXIsYS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuLTE+YSYmKGE9LTEpLGE+MSYmKGE9MSksZnVuY3Rpb24oYil7cmV0dXJuIDA9PWE/YjowPmE/YiooYiotYSsxK2EpOmIqKCgyLWIpKmErKDEtYSkpfX0sYS5nZXRQb3dJbj1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIE1hdGgucG93KGIsYSl9fSxhLmdldFBvd091dD1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIDEtTWF0aC5wb3coMS1iLGEpfX0sYS5nZXRQb3dJbk91dD1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuKGIqPTIpPDE/LjUqTWF0aC5wb3coYixhKToxLS41Kk1hdGguYWJzKE1hdGgucG93KDItYixhKSl9fSxhLnF1YWRJbj1hLmdldFBvd0luKDIpLGEucXVhZE91dD1hLmdldFBvd091dCgyKSxhLnF1YWRJbk91dD1hLmdldFBvd0luT3V0KDIpLGEuY3ViaWNJbj1hLmdldFBvd0luKDMpLGEuY3ViaWNPdXQ9YS5nZXRQb3dPdXQoMyksYS5jdWJpY0luT3V0PWEuZ2V0UG93SW5PdXQoMyksYS5xdWFydEluPWEuZ2V0UG93SW4oNCksYS5xdWFydE91dD1hLmdldFBvd091dCg0KSxhLnF1YXJ0SW5PdXQ9YS5nZXRQb3dJbk91dCg0KSxhLnF1aW50SW49YS5nZXRQb3dJbig1KSxhLnF1aW50T3V0PWEuZ2V0UG93T3V0KDUpLGEucXVpbnRJbk91dD1hLmdldFBvd0luT3V0KDUpLGEuc2luZUluPWZ1bmN0aW9uKGEpe3JldHVybiAxLU1hdGguY29zKGEqTWF0aC5QSS8yKX0sYS5zaW5lT3V0PWZ1bmN0aW9uKGEpe3JldHVybiBNYXRoLnNpbihhKk1hdGguUEkvMil9LGEuc2luZUluT3V0PWZ1bmN0aW9uKGEpe3JldHVybi0uNSooTWF0aC5jb3MoTWF0aC5QSSphKS0xKX0sYS5nZXRCYWNrSW49ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBiKmIqKChhKzEpKmItYSl9fSxhLmJhY2tJbj1hLmdldEJhY2tJbigxLjcpLGEuZ2V0QmFja091dD1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuLS1iKmIqKChhKzEpKmIrYSkrMX19LGEuYmFja091dD1hLmdldEJhY2tPdXQoMS43KSxhLmdldEJhY2tJbk91dD1mdW5jdGlvbihhKXtyZXR1cm4gYSo9MS41MjUsZnVuY3Rpb24oYil7cmV0dXJuKGIqPTIpPDE/LjUqYipiKigoYSsxKSpiLWEpOi41KigoYi09MikqYiooKGErMSkqYithKSsyKX19LGEuYmFja0luT3V0PWEuZ2V0QmFja0luT3V0KDEuNyksYS5jaXJjSW49ZnVuY3Rpb24oYSl7cmV0dXJuLShNYXRoLnNxcnQoMS1hKmEpLTEpfSxhLmNpcmNPdXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGguc3FydCgxLSAtLWEqYSl9LGEuY2lyY0luT3V0PWZ1bmN0aW9uKGEpe3JldHVybihhKj0yKTwxPy0uNSooTWF0aC5zcXJ0KDEtYSphKS0xKTouNSooTWF0aC5zcXJ0KDEtKGEtPTIpKmEpKzEpfSxhLmJvdW5jZUluPWZ1bmN0aW9uKGIpe3JldHVybiAxLWEuYm91bmNlT3V0KDEtYil9LGEuYm91bmNlT3V0PWZ1bmN0aW9uKGEpe3JldHVybiAxLzIuNzU+YT83LjU2MjUqYSphOjIvMi43NT5hPzcuNTYyNSooYS09MS41LzIuNzUpKmErLjc1OjIuNS8yLjc1PmE/Ny41NjI1KihhLT0yLjI1LzIuNzUpKmErLjkzNzU6Ny41NjI1KihhLT0yLjYyNS8yLjc1KSphKy45ODQzNzV9LGEuYm91bmNlSW5PdXQ9ZnVuY3Rpb24oYil7cmV0dXJuLjU+Yj8uNSphLmJvdW5jZUluKDIqYik6LjUqYS5ib3VuY2VPdXQoMipiLTEpKy41fSxhLmdldEVsYXN0aWNJbj1mdW5jdGlvbihhLGIpe3ZhciBjPTIqTWF0aC5QSTtyZXR1cm4gZnVuY3Rpb24oZCl7aWYoMD09ZHx8MT09ZClyZXR1cm4gZDt2YXIgZT1iL2MqTWF0aC5hc2luKDEvYSk7cmV0dXJuLShhKk1hdGgucG93KDIsMTAqKGQtPTEpKSpNYXRoLnNpbigoZC1lKSpjL2IpKX19LGEuZWxhc3RpY0luPWEuZ2V0RWxhc3RpY0luKDEsLjMpLGEuZ2V0RWxhc3RpY091dD1mdW5jdGlvbihhLGIpe3ZhciBjPTIqTWF0aC5QSTtyZXR1cm4gZnVuY3Rpb24oZCl7aWYoMD09ZHx8MT09ZClyZXR1cm4gZDt2YXIgZT1iL2MqTWF0aC5hc2luKDEvYSk7cmV0dXJuIGEqTWF0aC5wb3coMiwtMTAqZCkqTWF0aC5zaW4oKGQtZSkqYy9iKSsxfX0sYS5lbGFzdGljT3V0PWEuZ2V0RWxhc3RpY091dCgxLC4zKSxhLmdldEVsYXN0aWNJbk91dD1mdW5jdGlvbihhLGIpe3ZhciBjPTIqTWF0aC5QSTtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9Yi9jKk1hdGguYXNpbigxL2EpO3JldHVybihkKj0yKTwxPy0uNSphKk1hdGgucG93KDIsMTAqKGQtPTEpKSpNYXRoLnNpbigoZC1lKSpjL2IpOi41KmEqTWF0aC5wb3coMiwtMTAqKGQtPTEpKSpNYXRoLnNpbigoZC1lKSpjL2IpKzF9fSxhLmVsYXN0aWNJbk91dD1hLmdldEVsYXN0aWNJbk91dCgxLC4zKjEuNSksY3JlYXRlanMuRWFzZT1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9ZnVuY3Rpb24oKXt0aHJvdyJNb3Rpb25HdWlkZVBsdWdpbiBjYW5ub3QgYmUgaW5zdGFudGlhdGVkLiJ9O2EucHJpb3JpdHk9MCxhLl9yb3RPZmZTLGEuX3JvdE9mZkUsYS5fcm90Tm9ybVMsYS5fcm90Tm9ybUUsYS5pbnN0YWxsPWZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR3ZWVuLmluc3RhbGxQbHVnaW4oYSxbImd1aWRlIiwieCIsInkiLCJyb3RhdGlvbiJdKSxjcmVhdGVqcy5Ud2Vlbi5JR05PUkV9LGEuaW5pdD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS50YXJnZXQ7cmV0dXJuIGQuaGFzT3duUHJvcGVydHkoIngiKXx8KGQueD0wKSxkLmhhc093blByb3BlcnR5KCJ5Iil8fChkLnk9MCksZC5oYXNPd25Qcm9wZXJ0eSgicm90YXRpb24iKXx8KGQucm90YXRpb249MCksInJvdGF0aW9uIj09YiYmKGEuX19uZWVkc1JvdD0hMCksImd1aWRlIj09Yj9udWxsOmN9LGEuc3RlcD1mdW5jdGlvbihiLGMsZCxlLGYpe2lmKCJyb3RhdGlvbiI9PWMmJihiLl9fcm90R2xvYmFsUz1kLGIuX19yb3RHbG9iYWxFPWUsYS50ZXN0Um90RGF0YShiLGYpKSwiZ3VpZGUiIT1jKXJldHVybiBlO3ZhciBnLGg9ZTtoLmhhc093blByb3BlcnR5KCJwYXRoIil8fChoLnBhdGg9W10pO3ZhciBpPWgucGF0aDtpZihoLmhhc093blByb3BlcnR5KCJlbmQiKXx8KGguZW5kPTEpLGguaGFzT3duUHJvcGVydHkoInN0YXJ0Iil8fChoLnN0YXJ0PWQmJmQuaGFzT3duUHJvcGVydHkoImVuZCIpJiZkLnBhdGg9PT1pP2QuZW5kOjApLGguaGFzT3duUHJvcGVydHkoIl9zZWdtZW50cyIpJiZoLl9sZW5ndGgpcmV0dXJuIGU7dmFyIGo9aS5sZW5ndGgsaz0xMDtpZighKGo+PTYmJjA9PShqLTIpJTQpKXRocm93ImludmFsaWQgJ3BhdGgnIGRhdGEsIHBsZWFzZSBzZWUgZG9jdW1lbnRhdGlvbiBmb3IgdmFsaWQgcGF0aHMiO2guX3NlZ21lbnRzPVtdLGguX2xlbmd0aD0wO2Zvcih2YXIgbD0yO2o+bDtsKz00KXtmb3IodmFyIG0sbixvPWlbbC0yXSxwPWlbbC0xXSxxPWlbbCswXSxyPWlbbCsxXSxzPWlbbCsyXSx0PWlbbCszXSx1PW8sdj1wLHc9MCx4PVtdLHk9MTtrPj15O3krKyl7dmFyIHo9eS9rLEE9MS16O209QSpBKm8rMipBKnoqcSt6KnoqcyxuPUEqQSpwKzIqQSp6KnIreip6KnQsdys9eFt4LnB1c2goTWF0aC5zcXJ0KChnPW0tdSkqZysoZz1uLXYpKmcpKS0xXSx1PW0sdj1ufWguX3NlZ21lbnRzLnB1c2godyksaC5fc2VnbWVudHMucHVzaCh4KSxoLl9sZW5ndGgrPXd9Zz1oLm9yaWVudCxoLm9yaWVudD0hMDt2YXIgQj17fTtyZXR1cm4gYS5jYWxjKGgsaC5zdGFydCxCKSxiLl9fcm90UGF0aFM9TnVtYmVyKEIucm90YXRpb24udG9GaXhlZCg1KSksYS5jYWxjKGgsaC5lbmQsQiksYi5fX3JvdFBhdGhFPU51bWJlcihCLnJvdGF0aW9uLnRvRml4ZWQoNSkpLGgub3JpZW50PSExLGEuY2FsYyhoLGguZW5kLGYpLGgub3JpZW50PWcsaC5vcmllbnQ/KGIuX19ndWlkZURhdGE9aCxhLnRlc3RSb3REYXRhKGIsZiksZSk6ZX0sYS50ZXN0Um90RGF0YT1mdW5jdGlvbihhLGIpe2lmKHZvaWQgMD09PWEuX19yb3RHbG9iYWxTfHx2b2lkIDA9PT1hLl9fcm90R2xvYmFsRSl7aWYoYS5fX25lZWRzUm90KXJldHVybjthLl9fcm90R2xvYmFsUz1hLl9fcm90R2xvYmFsRT12b2lkIDAhPT1hLl9jdXJRdWV1ZVByb3BzLnJvdGF0aW9uP2EuX2N1clF1ZXVlUHJvcHMucm90YXRpb246Yi5yb3RhdGlvbj1hLnRhcmdldC5yb3RhdGlvbnx8MH1pZih2b2lkIDAhPT1hLl9fZ3VpZGVEYXRhKXt2YXIgYz1hLl9fZ3VpZGVEYXRhLGQ9YS5fX3JvdEdsb2JhbEUtYS5fX3JvdEdsb2JhbFMsZT1hLl9fcm90UGF0aEUtYS5fX3JvdFBhdGhTLGY9ZC1lO2lmKCJhdXRvIj09Yy5vcmllbnQpZj4xODA/Zi09MzYwOi0xODA+ZiYmKGYrPTM2MCk7ZWxzZSBpZigiY3ciPT1jLm9yaWVudCl7Zm9yKDswPmY7KWYrPTM2MDswPT1mJiZkPjAmJjE4MCE9ZCYmKGYrPTM2MCl9ZWxzZSBpZigiY2N3Ij09Yy5vcmllbnQpe2ZvcihmPWQtKGU+MTgwPzM2MC1lOmUpO2Y+MDspZi09MzYwOzA9PWYmJjA+ZCYmLTE4MCE9ZCYmKGYtPTM2MCl9Yy5yb3REZWx0YT1mLGMucm90T2ZmUz1hLl9fcm90R2xvYmFsUy1hLl9fcm90UGF0aFMsYS5fX3JvdEdsb2JhbFM9YS5fX3JvdEdsb2JhbEU9YS5fX2d1aWRlRGF0YT1hLl9fbmVlZHNSb3Q9dm9pZCAwfX0sYS50d2Vlbj1mdW5jdGlvbihiLGMsZCxlLGYsZyxoKXt2YXIgaT1mLmd1aWRlO2lmKHZvaWQgMD09aXx8aT09PWUuZ3VpZGUpcmV0dXJuIGQ7aWYoaS5sYXN0UmF0aW8hPWcpe3ZhciBqPShpLmVuZC1pLnN0YXJ0KSooaD9pLmVuZDpnKStpLnN0YXJ0O3N3aXRjaChhLmNhbGMoaSxqLGIudGFyZ2V0KSxpLm9yaWVudCl7Y2FzZSJjdyI6Y2FzZSJjY3ciOmNhc2UiYXV0byI6Yi50YXJnZXQucm90YXRpb24rPWkucm90T2ZmUytpLnJvdERlbHRhKmc7YnJlYWs7Y2FzZSJmaXhlZCI6ZGVmYXVsdDpiLnRhcmdldC5yb3RhdGlvbis9aS5yb3RPZmZTfWkubGFzdFJhdGlvPWd9cmV0dXJuInJvdGF0aW9uIiE9Y3x8aS5vcmllbnQmJiJmYWxzZSIhPWkub3JpZW50P2IudGFyZ2V0W2NdOmR9LGEuY2FsYz1mdW5jdGlvbihiLGMsZCl7dm9pZCAwPT1iLl9zZWdtZW50cyYmYS52YWxpZGF0ZShiKSx2b2lkIDA9PWQmJihkPXt4OjAseTowLHJvdGF0aW9uOjB9KTtmb3IodmFyIGU9Yi5fc2VnbWVudHMsZj1iLnBhdGgsZz1iLl9sZW5ndGgqYyxoPWUubGVuZ3RoLTIsaT0wO2c+ZVtpXSYmaD5pOylnLT1lW2ldLGkrPTI7dmFyIGo9ZVtpKzFdLGs9MDtmb3IoaD1qLmxlbmd0aC0xO2c+altrXSYmaD5rOylnLT1qW2tdLGsrKzt2YXIgbD1rLysraCtnLyhoKmpba10pO2k9MippKzI7dmFyIG09MS1sO3JldHVybiBkLng9bSptKmZbaS0yXSsyKm0qbCpmW2krMF0rbCpsKmZbaSsyXSxkLnk9bSptKmZbaS0xXSsyKm0qbCpmW2krMV0rbCpsKmZbaSszXSxiLm9yaWVudCYmKGQucm90YXRpb249NTcuMjk1Nzc5NSpNYXRoLmF0YW4yKChmW2krMV0tZltpLTFdKSptKyhmW2krM10tZltpKzFdKSpsLChmW2krMF0tZltpLTJdKSptKyhmW2krMl0tZltpKzBdKSpsKSksZH0sY3JlYXRlanMuTW90aW9uR3VpZGVQbHVnaW49YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWNyZWF0ZWpzLlR3ZWVuSlM9Y3JlYXRlanMuVHdlZW5KU3x8e307YS52ZXJzaW9uPSJORVhUIixhLmJ1aWxkRGF0ZT0iVHVlLCAwMSBPY3QgMjAxMyAxNjowMzozOCBHTVQifSgpOw==",
                "body": "LyohCiogQGxpY2Vuc2UgQ3JlYXRlSlMKKiBWaXNpdCBodHRwOi8vY3JlYXRlanMuY29tLyBmb3IgZG9jdW1lbnRhdGlvbiwgdXBkYXRlcyBhbmQgZXhhbXBsZXMuCioKKiBDb3B5cmlnaHQgKGMpIDIwMTEtMjAxMyBnc2tpbm5lci5jb20sIGluYy4KKgoqIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTUlUIGxpY2Vuc2UuCiogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5odG1sCioKKiBUaGlzIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KKi8KdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbihhLGIsYyl7dGhpcy5pbml0aWFsaXplKGEsYixjKX0sYj1hLnByb3RvdHlwZTtiLnR5cGU9bnVsbCxiLnRhcmdldD1udWxsLGIuY3VycmVudFRhcmdldD1udWxsLGIuZXZlbnRQaGFzZT0wLGIuYnViYmxlcz0hMSxiLmNhbmNlbGFibGU9ITEsYi50aW1lU3RhbXA9MCxiLmRlZmF1bHRQcmV2ZW50ZWQ9ITEsYi5wcm9wYWdhdGlvblN0b3BwZWQ9ITEsYi5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9ITEsYi5yZW1vdmVkPSExLGIuaW5pdGlhbGl6ZT1mdW5jdGlvbihhLGIsYyl7dGhpcy50eXBlPWEsdGhpcy5idWJibGVzPWIsdGhpcy5jYW5jZWxhYmxlPWMsdGhpcy50aW1lU3RhbXA9KG5ldyBEYXRlKS5nZXRUaW1lKCl9LGIucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITB9LGIuc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7dGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ9ITB9LGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7dGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9dGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ9ITB9LGIucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVkPSEwfSxiLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhKHRoaXMudHlwZSx0aGlzLmJ1YmJsZXMsdGhpcy5jYW5jZWxhYmxlKX0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbRXZlbnQgKHR5cGU9Iit0aGlzLnR5cGUrIildIn0sY3JlYXRlanMuRXZlbnQ9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKCl7fSxiPWEucHJvdG90eXBlO2EuaW5pdGlhbGl6ZT1mdW5jdGlvbihhKXthLmFkZEV2ZW50TGlzdGVuZXI9Yi5hZGRFdmVudExpc3RlbmVyLGEub249Yi5vbixhLnJlbW92ZUV2ZW50TGlzdGVuZXI9YS5vZmY9Yi5yZW1vdmVFdmVudExpc3RlbmVyLGEucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnM9Yi5yZW1vdmVBbGxFdmVudExpc3RlbmVycyxhLmhhc0V2ZW50TGlzdGVuZXI9Yi5oYXNFdmVudExpc3RlbmVyLGEuZGlzcGF0Y2hFdmVudD1iLmRpc3BhdGNoRXZlbnQsYS5fZGlzcGF0Y2hFdmVudD1iLl9kaXNwYXRjaEV2ZW50fSxiLl9saXN0ZW5lcnM9bnVsbCxiLl9jYXB0dXJlTGlzdGVuZXJzPW51bGwsYi5pbml0aWFsaXplPWZ1bmN0aW9uKCl7fSxiLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2Q9Yz90aGlzLl9jYXB0dXJlTGlzdGVuZXJzPXRoaXMuX2NhcHR1cmVMaXN0ZW5lcnN8fHt9OnRoaXMuX2xpc3RlbmVycz10aGlzLl9saXN0ZW5lcnN8fHt9O3ZhciBlPWRbYV07cmV0dXJuIGUmJnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGIsYyksZT1kW2FdLGU/ZS5wdXNoKGIpOmRbYV09W2JdLGJ9LGIub249ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3JldHVybiBiLmhhbmRsZUV2ZW50JiYoYz1jfHxiLGI9Yi5oYW5kbGVFdmVudCksYz1jfHx0aGlzLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihhLGZ1bmN0aW9uKGEpe2IuY2FsbChjLGEsZSksZCYmYS5yZW1vdmUoKX0sZil9LGIucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Yz90aGlzLl9jYXB0dXJlTGlzdGVuZXJzOnRoaXMuX2xpc3RlbmVycztpZihkKXt2YXIgZT1kW2FdO2lmKGUpZm9yKHZhciBmPTAsZz1lLmxlbmd0aDtnPmY7ZisrKWlmKGVbZl09PWIpezE9PWc/ZGVsZXRlIGRbYV06ZS5zcGxpY2UoZiwxKTticmVha319fSxiLm9mZj1iLnJlbW92ZUV2ZW50TGlzdGVuZXIsYi5yZW1vdmVBbGxFdmVudExpc3RlbmVycz1mdW5jdGlvbihhKXthPyh0aGlzLl9saXN0ZW5lcnMmJmRlbGV0ZSB0aGlzLl9saXN0ZW5lcnNbYV0sdGhpcy5fY2FwdHVyZUxpc3RlbmVycyYmZGVsZXRlIHRoaXMuX2NhcHR1cmVMaXN0ZW5lcnNbYV0pOnRoaXMuX2xpc3RlbmVycz10aGlzLl9jYXB0dXJlTGlzdGVuZXJzPW51bGx9LGIuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihhLGIpe2lmKCJzdHJpbmciPT10eXBlb2YgYSl7dmFyIGM9dGhpcy5fbGlzdGVuZXJzO2lmKCFjfHwhY1thXSlyZXR1cm4hMTthPW5ldyBjcmVhdGVqcy5FdmVudChhKX1pZihhLnRhcmdldD1ifHx0aGlzLGEuYnViYmxlcyYmdGhpcy5wYXJlbnQpe2Zvcih2YXIgZD10aGlzLGU9W2RdO2QucGFyZW50OyllLnB1c2goZD1kLnBhcmVudCk7dmFyIGYsZz1lLmxlbmd0aDtmb3IoZj1nLTE7Zj49MCYmIWEucHJvcGFnYXRpb25TdG9wcGVkO2YtLSllW2ZdLl9kaXNwYXRjaEV2ZW50KGEsMSsoMD09ZikpO2ZvcihmPTE7Zz5mJiYhYS5wcm9wYWdhdGlvblN0b3BwZWQ7ZisrKWVbZl0uX2Rpc3BhdGNoRXZlbnQoYSwzKX1lbHNlIHRoaXMuX2Rpc3BhdGNoRXZlbnQoYSwyKTtyZXR1cm4gYS5kZWZhdWx0UHJldmVudGVkfSxiLmhhc0V2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fbGlzdGVuZXJzLGM9dGhpcy5fY2FwdHVyZUxpc3RlbmVycztyZXR1cm4hIShiJiZiW2FdfHxjJiZjW2FdKX0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbRXZlbnREaXNwYXRjaGVyXSJ9LGIuX2Rpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTE9PWI/dGhpcy5fY2FwdHVyZUxpc3RlbmVyczp0aGlzLl9saXN0ZW5lcnM7aWYoYSYmZCl7dmFyIGU9ZFthLnR5cGVdO2lmKCFlfHwhKGM9ZS5sZW5ndGgpKXJldHVybjthLmN1cnJlbnRUYXJnZXQ9dGhpcyxhLmV2ZW50UGhhc2U9YixhLnJlbW92ZWQ9ITEsZT1lLnNsaWNlKCk7Zm9yKHZhciBmPTA7Yz5mJiYhYS5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ7ZisrKXt2YXIgZz1lW2ZdO2cuaGFuZGxlRXZlbnQ/Zy5oYW5kbGVFdmVudChhKTpnKGEpLGEucmVtb3ZlZCYmKHRoaXMub2ZmKGEudHlwZSxnLDE9PWIpLGEucmVtb3ZlZD0hMSl9fX0sY3JlYXRlanMuRXZlbnREaXNwYXRjaGVyPWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtjcmVhdGVqcy5pbmRleE9mPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWlmKGI9PT1hW2NdKXJldHVybiBjO3JldHVybi0xfX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKCl7dGhyb3ciVUlEIGNhbm5vdCBiZSBpbnN0YW50aWF0ZWQifTthLl9uZXh0SUQ9MCxhLmdldD1mdW5jdGlvbigpe3JldHVybiBhLl9uZXh0SUQrK30sY3JlYXRlanMuVUlEPWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbigpe3Rocm93IlRpY2tlciBjYW5ub3QgYmUgaW5zdGFudGlhdGVkLiJ9O2EuUkFGX1NZTkNIRUQ9InN5bmNoZWQiLGEuUkFGPSJyYWYiLGEuVElNRU9VVD0idGltZW91dCIsYS51c2VSQUY9ITEsYS50aW1pbmdNb2RlPW51bGwsYS5tYXhEZWx0YT0wLGEucmVtb3ZlRXZlbnRMaXN0ZW5lcj1udWxsLGEucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnM9bnVsbCxhLmRpc3BhdGNoRXZlbnQ9bnVsbCxhLmhhc0V2ZW50TGlzdGVuZXI9bnVsbCxhLl9saXN0ZW5lcnM9bnVsbCxjcmVhdGVqcy5FdmVudERpc3BhdGNoZXIuaW5pdGlhbGl6ZShhKSxhLl9hZGRFdmVudExpc3RlbmVyPWEuYWRkRXZlbnRMaXN0ZW5lcixhLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oKXshYS5faW5pdGVkJiZhLmluaXQoKSxhLl9hZGRFdmVudExpc3RlbmVyLmFwcGx5KGEsYXJndW1lbnRzKX0sYS5fcGF1c2VkPSExLGEuX2luaXRlZD0hMSxhLl9zdGFydFRpbWU9MCxhLl9wYXVzZWRUaW1lPTAsYS5fdGlja3M9MCxhLl9wYXVzZWRUaWNrcz0wLGEuX2ludGVydmFsPTUwLGEuX2xhc3RUaW1lPTAsYS5fdGltZXM9bnVsbCxhLl90aWNrVGltZXM9bnVsbCxhLl90aW1lcklkPW51bGwsYS5fcmFmPSEwLGEuaW5pdD1mdW5jdGlvbigpe2EuX2luaXRlZHx8KGEuX2luaXRlZD0hMCxhLl90aW1lcz1bXSxhLl90aWNrVGltZXM9W10sYS5fc3RhcnRUaW1lPWEuX2dldFRpbWUoKSxhLl90aW1lcy5wdXNoKGEuX2xhc3RUaW1lPTApLGEuc2V0SW50ZXJ2YWwoYS5faW50ZXJ2YWwpKX0sYS5yZXNldD1mdW5jdGlvbigpe2lmKGEuX3JhZil7dmFyIGI9d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93Lm9DYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93Lm1zQ2FuY2VsQW5pbWF0aW9uRnJhbWU7YiYmYihhLl90aW1lcklkKX1lbHNlIGNsZWFyVGltZW91dChhLl90aW1lcklkKTthLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzKCJ0aWNrIil9LGEuc2V0SW50ZXJ2YWw9ZnVuY3Rpb24oYil7YS5faW50ZXJ2YWw9YixhLl9pbml0ZWQmJmEuX3NldHVwVGljaygpfSxhLmdldEludGVydmFsPWZ1bmN0aW9uKCl7cmV0dXJuIGEuX2ludGVydmFsfSxhLnNldEZQUz1mdW5jdGlvbihiKXthLnNldEludGVydmFsKDFlMy9iKX0sYS5nZXRGUFM9ZnVuY3Rpb24oKXtyZXR1cm4gMWUzL2EuX2ludGVydmFsfSxhLmdldE1lYXN1cmVkVGlja1RpbWU9ZnVuY3Rpb24oYil7dmFyIGM9MCxkPWEuX3RpY2tUaW1lcztpZihkLmxlbmd0aDwxKXJldHVybi0xO2I9TWF0aC5taW4oZC5sZW5ndGgsYnx8MHxhLmdldEZQUygpKTtmb3IodmFyIGU9MDtiPmU7ZSsrKWMrPWRbZV07cmV0dXJuIGQvYn0sYS5nZXRNZWFzdXJlZEZQUz1mdW5jdGlvbihiKXt2YXIgYz1hLl90aW1lcztyZXR1cm4gYy5sZW5ndGg8Mj8tMTooYj1NYXRoLm1pbihjLmxlbmd0aC0xLGJ8fDB8YS5nZXRGUFMoKSksMWUzLygoY1swXS1jW2JdKS9iKSl9LGEuc2V0UGF1c2VkPWZ1bmN0aW9uKGIpe2EuX3BhdXNlZD1ifSxhLmdldFBhdXNlZD1mdW5jdGlvbigpe3JldHVybiBhLl9wYXVzZWR9LGEuZ2V0VGltZT1mdW5jdGlvbihiKXtyZXR1cm4gYS5fZ2V0VGltZSgpLWEuX3N0YXJ0VGltZS0oYj9hLl9wYXVzZWRUaW1lOjApfSxhLmdldEV2ZW50VGltZT1mdW5jdGlvbihiKXtyZXR1cm4oYS5fbGFzdFRpbWV8fGEuX3N0YXJ0VGltZSktKGI/YS5fcGF1c2VkVGltZTowKX0sYS5nZXRUaWNrcz1mdW5jdGlvbihiKXtyZXR1cm4gYS5fdGlja3MtKGI/YS5fcGF1c2VkVGlja3M6MCl9LGEuX2hhbmRsZVN5bmNoPWZ1bmN0aW9uKCl7dmFyIGI9YS5fZ2V0VGltZSgpLWEuX3N0YXJ0VGltZTthLl90aW1lcklkPW51bGwsYS5fc2V0dXBUaWNrKCksYi1hLl9sYXN0VGltZT49Ljk3KihhLl9pbnRlcnZhbC0xKSYmYS5fdGljaygpfSxhLl9oYW5kbGVSQUY9ZnVuY3Rpb24oKXthLl90aW1lcklkPW51bGwsYS5fc2V0dXBUaWNrKCksYS5fdGljaygpfSxhLl9oYW5kbGVUaW1lb3V0PWZ1bmN0aW9uKCl7YS5fdGltZXJJZD1udWxsLGEuX3NldHVwVGljaygpLGEuX3RpY2soKX0sYS5fc2V0dXBUaWNrPWZ1bmN0aW9uKCl7aWYobnVsbD09YS5fdGltZXJJZCl7dmFyIGI9YS50aW1pbmdNb2RlfHxhLnVzZVJBRiYmYS5SQUZfU1lOQ0hFRDtpZihiPT1hLlJBRl9TWU5DSEVEfHxiPT1hLlJBRil7dmFyIGM9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZTtpZihjKXJldHVybiBhLl90aW1lcklkPWMoYj09YS5SQUY/YS5faGFuZGxlUkFGOmEuX2hhbmRsZVN5bmNoKSxhLl9yYWY9ITAsdm9pZCAwfWEuX3JhZj0hMSxhLl90aW1lcklkPXNldFRpbWVvdXQoYS5faGFuZGxlVGltZW91dCxhLl9pbnRlcnZhbCl9fSxhLl90aWNrPWZ1bmN0aW9uKCl7dmFyIGI9YS5fZ2V0VGltZSgpLWEuX3N0YXJ0VGltZSxjPWItYS5fbGFzdFRpbWUsZD1hLl9wYXVzZWQ7aWYoYS5fdGlja3MrKyxkJiYoYS5fcGF1c2VkVGlja3MrKyxhLl9wYXVzZWRUaW1lKz1jKSxhLl9sYXN0VGltZT1iLGEuaGFzRXZlbnRMaXN0ZW5lcigidGljayIpKXt2YXIgZT1uZXcgY3JlYXRlanMuRXZlbnQoInRpY2siKSxmPWEubWF4RGVsdGE7ZS5kZWx0YT1mJiZjPmY/ZjpjLGUucGF1c2VkPWQsZS50aW1lPWIsZS5ydW5UaW1lPWItYS5fcGF1c2VkVGltZSxhLmRpc3BhdGNoRXZlbnQoZSl9Zm9yKGEuX3RpY2tUaW1lcy51bnNoaWZ0KGEuX2dldFRpbWUoKS1iKTthLl90aWNrVGltZXMubGVuZ3RoPjEwMDspYS5fdGlja1RpbWVzLnBvcCgpO2ZvcihhLl90aW1lcy51bnNoaWZ0KGIpO2EuX3RpbWVzLmxlbmd0aD4xMDA7KWEuX3RpbWVzLnBvcCgpfTt2YXIgYj13aW5kb3cucGVyZm9ybWFuY2UmJihwZXJmb3JtYW5jZS5ub3d8fHBlcmZvcm1hbmNlLm1vek5vd3x8cGVyZm9ybWFuY2UubXNOb3d8fHBlcmZvcm1hbmNlLm9Ob3d8fHBlcmZvcm1hbmNlLndlYmtpdE5vdyk7YS5fZ2V0VGltZT1mdW5jdGlvbigpe3JldHVybiBiJiZiLmNhbGwocGVyZm9ybWFuY2UpfHwobmV3IERhdGUpLmdldFRpbWUoKX0sY3JlYXRlanMuVGlja2VyPWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsaSxqKXt0aGlzLmluaXRpYWxpemUoYSxiLGMsZCxlLGYsZyxoLGksail9LGI9YS5wcm90b3R5cGU9bmV3IGNyZWF0ZWpzLkV2ZW50O2Iuc3RhZ2VYPTAsYi5zdGFnZVk9MCxiLnJhd1g9MCxiLnJhd1k9MCxiLm5hdGl2ZUV2ZW50PW51bGwsYi5wb2ludGVySUQ9MCxiLnByaW1hcnk9ITEsYi5hZGRFdmVudExpc3RlbmVyPW51bGwsYi5yZW1vdmVFdmVudExpc3RlbmVyPW51bGwsYi5yZW1vdmVBbGxFdmVudExpc3RlbmVycz1udWxsLGIuZGlzcGF0Y2hFdmVudD1udWxsLGIuaGFzRXZlbnRMaXN0ZW5lcj1udWxsLGIuX2xpc3RlbmVycz1udWxsLGNyZWF0ZWpzLkV2ZW50RGlzcGF0Y2hlci5pbml0aWFsaXplKGIpLGIuRXZlbnRfaW5pdGlhbGl6ZT1iLmluaXRpYWxpemUsYi5pbml0aWFsaXplPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCxpLGope3RoaXMuRXZlbnRfaW5pdGlhbGl6ZShhLGIsYyksdGhpcy5zdGFnZVg9ZCx0aGlzLnN0YWdlWT1lLHRoaXMubmF0aXZlRXZlbnQ9Zix0aGlzLnBvaW50ZXJJRD1nLHRoaXMucHJpbWFyeT1oLHRoaXMucmF3WD1udWxsPT1pP2Q6aSx0aGlzLnJhd1k9bnVsbD09aj9lOmp9LGIuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGEodGhpcy50eXBlLHRoaXMuYnViYmxlcyx0aGlzLmNhbmNlbGFibGUsdGhpcy5zdGFnZVgsdGhpcy5zdGFnZVksdGhpcy50YXJnZXQsdGhpcy5uYXRpdmVFdmVudCx0aGlzLnBvaW50ZXJJRCx0aGlzLnByaW1hcnksdGhpcy5yYXdYLHRoaXMucmF3WSl9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW01vdXNlRXZlbnQgKHR5cGU9Iit0aGlzLnR5cGUrIiBzdGFnZVg9Iit0aGlzLnN0YWdlWCsiIHN0YWdlWT0iK3RoaXMuc3RhZ2VZKyIpXSJ9LGNyZWF0ZWpzLk1vdXNlRXZlbnQ9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLmluaXRpYWxpemUoYSxiLGMsZCxlLGYpfSxiPWEucHJvdG90eXBlO2EuaWRlbnRpdHk9bnVsbCxhLkRFR19UT19SQUQ9TWF0aC5QSS8xODAsYi5hPTEsYi5iPTAsYi5jPTAsYi5kPTEsYi50eD0wLGIudHk9MCxiLmFscGhhPTEsYi5zaGFkb3c9bnVsbCxiLmNvbXBvc2l0ZU9wZXJhdGlvbj1udWxsLGIuaW5pdGlhbGl6ZT1mdW5jdGlvbihhLGIsYyxkLGUsZil7cmV0dXJuIHRoaXMuYT1udWxsPT1hPzE6YSx0aGlzLmI9Ynx8MCx0aGlzLmM9Y3x8MCx0aGlzLmQ9bnVsbD09ZD8xOmQsdGhpcy50eD1lfHwwLHRoaXMudHk9Znx8MCx0aGlzfSxiLnByZXBlbmQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPXRoaXMudHg7aWYoMSE9YXx8MCE9Ynx8MCE9Y3x8MSE9ZCl7dmFyIGg9dGhpcy5hLGk9dGhpcy5jO3RoaXMuYT1oKmErdGhpcy5iKmMsdGhpcy5iPWgqYit0aGlzLmIqZCx0aGlzLmM9aSphK3RoaXMuZCpjLHRoaXMuZD1pKmIrdGhpcy5kKmR9cmV0dXJuIHRoaXMudHg9ZyphK3RoaXMudHkqYytlLHRoaXMudHk9ZypiK3RoaXMudHkqZCtmLHRoaXN9LGIuYXBwZW5kPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz10aGlzLmEsaD10aGlzLmIsaT10aGlzLmMsaj10aGlzLmQ7cmV0dXJuIHRoaXMuYT1hKmcrYippLHRoaXMuYj1hKmgrYipqLHRoaXMuYz1jKmcrZCppLHRoaXMuZD1jKmgrZCpqLHRoaXMudHg9ZSpnK2YqaSt0aGlzLnR4LHRoaXMudHk9ZSpoK2Yqait0aGlzLnR5LHRoaXN9LGIucHJlcGVuZE1hdHJpeD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wcmVwZW5kKGEuYSxhLmIsYS5jLGEuZCxhLnR4LGEudHkpLHRoaXMucHJlcGVuZFByb3BlcnRpZXMoYS5hbHBoYSxhLnNoYWRvdyxhLmNvbXBvc2l0ZU9wZXJhdGlvbiksdGhpc30sYi5hcHBlbmRNYXRyaXg9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYXBwZW5kKGEuYSxhLmIsYS5jLGEuZCxhLnR4LGEudHkpLHRoaXMuYXBwZW5kUHJvcGVydGllcyhhLmFscGhhLGEuc2hhZG93LGEuY29tcG9zaXRlT3BlcmF0aW9uKSx0aGlzfSxiLnByZXBlbmRUcmFuc2Zvcm09ZnVuY3Rpb24oYixjLGQsZSxmLGcsaCxpLGope2lmKGYlMzYwKXZhciBrPWYqYS5ERUdfVE9fUkFELGw9TWF0aC5jb3MoayksbT1NYXRoLnNpbihrKTtlbHNlIGw9MSxtPTA7cmV0dXJuKGl8fGopJiYodGhpcy50eC09aSx0aGlzLnR5LT1qKSxnfHxoPyhnKj1hLkRFR19UT19SQUQsaCo9YS5ERUdfVE9fUkFELHRoaXMucHJlcGVuZChsKmQsbSpkLC1tKmUsbCplLDAsMCksdGhpcy5wcmVwZW5kKE1hdGguY29zKGgpLE1hdGguc2luKGgpLC1NYXRoLnNpbihnKSxNYXRoLmNvcyhnKSxiLGMpKTp0aGlzLnByZXBlbmQobCpkLG0qZCwtbSplLGwqZSxiLGMpLHRoaXN9LGIuYXBwZW5kVHJhbnNmb3JtPWZ1bmN0aW9uKGIsYyxkLGUsZixnLGgsaSxqKXtpZihmJTM2MCl2YXIgaz1mKmEuREVHX1RPX1JBRCxsPU1hdGguY29zKGspLG09TWF0aC5zaW4oayk7ZWxzZSBsPTEsbT0wO3JldHVybiBnfHxoPyhnKj1hLkRFR19UT19SQUQsaCo9YS5ERUdfVE9fUkFELHRoaXMuYXBwZW5kKE1hdGguY29zKGgpLE1hdGguc2luKGgpLC1NYXRoLnNpbihnKSxNYXRoLmNvcyhnKSxiLGMpLHRoaXMuYXBwZW5kKGwqZCxtKmQsLW0qZSxsKmUsMCwwKSk6dGhpcy5hcHBlbmQobCpkLG0qZCwtbSplLGwqZSxiLGMpLChpfHxqKSYmKHRoaXMudHgtPWkqdGhpcy5hK2oqdGhpcy5jLHRoaXMudHktPWkqdGhpcy5iK2oqdGhpcy5kKSx0aGlzfSxiLnJvdGF0ZT1mdW5jdGlvbihhKXt2YXIgYj1NYXRoLmNvcyhhKSxjPU1hdGguc2luKGEpLGQ9dGhpcy5hLGU9dGhpcy5jLGY9dGhpcy50eDtyZXR1cm4gdGhpcy5hPWQqYi10aGlzLmIqYyx0aGlzLmI9ZCpjK3RoaXMuYipiLHRoaXMuYz1lKmItdGhpcy5kKmMsdGhpcy5kPWUqYyt0aGlzLmQqYix0aGlzLnR4PWYqYi10aGlzLnR5KmMsdGhpcy50eT1mKmMrdGhpcy50eSpiLHRoaXN9LGIuc2tldz1mdW5jdGlvbihiLGMpe3JldHVybiBiKj1hLkRFR19UT19SQUQsYyo9YS5ERUdfVE9fUkFELHRoaXMuYXBwZW5kKE1hdGguY29zKGMpLE1hdGguc2luKGMpLC1NYXRoLnNpbihiKSxNYXRoLmNvcyhiKSwwLDApLHRoaXN9LGIuc2NhbGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5hKj1hLHRoaXMuZCo9Yix0aGlzLmMqPWEsdGhpcy5iKj1iLHRoaXMudHgqPWEsdGhpcy50eSo9Yix0aGlzfSxiLnRyYW5zbGF0ZT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnR4Kz1hLHRoaXMudHkrPWIsdGhpc30sYi5pZGVudGl0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFscGhhPXRoaXMuYT10aGlzLmQ9MSx0aGlzLmI9dGhpcy5jPXRoaXMudHg9dGhpcy50eT0wLHRoaXMuc2hhZG93PXRoaXMuY29tcG9zaXRlT3BlcmF0aW9uPW51bGwsdGhpc30sYi5pbnZlcnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmEsYj10aGlzLmIsYz10aGlzLmMsZD10aGlzLmQsZT10aGlzLnR4LGY9YSpkLWIqYztyZXR1cm4gdGhpcy5hPWQvZix0aGlzLmI9LWIvZix0aGlzLmM9LWMvZix0aGlzLmQ9YS9mLHRoaXMudHg9KGMqdGhpcy50eS1kKmUpL2YsdGhpcy50eT0tKGEqdGhpcy50eS1iKmUpL2YsdGhpc30sYi5pc0lkZW50aXR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PXRoaXMudHgmJjA9PXRoaXMudHkmJjE9PXRoaXMuYSYmMD09dGhpcy5iJiYwPT10aGlzLmMmJjE9PXRoaXMuZH0sYi50cmFuc2Zvcm1Qb2ludD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM9Y3x8e30sYy54PWEqdGhpcy5hK2IqdGhpcy5jK3RoaXMudHgsYy55PWEqdGhpcy5iK2IqdGhpcy5kK3RoaXMudHksY30sYi5kZWNvbXBvc2U9ZnVuY3Rpb24oYil7bnVsbD09YiYmKGI9e30pLGIueD10aGlzLnR4LGIueT10aGlzLnR5LGIuc2NhbGVYPU1hdGguc3FydCh0aGlzLmEqdGhpcy5hK3RoaXMuYip0aGlzLmIpLGIuc2NhbGVZPU1hdGguc3FydCh0aGlzLmMqdGhpcy5jK3RoaXMuZCp0aGlzLmQpO3ZhciBjPU1hdGguYXRhbjIoLXRoaXMuYyx0aGlzLmQpLGQ9TWF0aC5hdGFuMih0aGlzLmIsdGhpcy5hKTtyZXR1cm4gYz09ZD8oYi5yb3RhdGlvbj1kL2EuREVHX1RPX1JBRCx0aGlzLmE8MCYmdGhpcy5kPj0wJiYoYi5yb3RhdGlvbis9Yi5yb3RhdGlvbjw9MD8xODA6LTE4MCksYi5za2V3WD1iLnNrZXdZPTApOihiLnNrZXdYPWMvYS5ERUdfVE9fUkFELGIuc2tld1k9ZC9hLkRFR19UT19SQUQpLGJ9LGIucmVpbml0aWFsaXplPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCxpKXtyZXR1cm4gdGhpcy5pbml0aWFsaXplKGEsYixjLGQsZSxmKSx0aGlzLmFscGhhPW51bGw9PWc/MTpnLHRoaXMuc2hhZG93PWgsdGhpcy5jb21wb3NpdGVPcGVyYXRpb249aSx0aGlzfSxiLmNvcHk9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucmVpbml0aWFsaXplKGEuYSxhLmIsYS5jLGEuZCxhLnR4LGEudHksYS5hbHBoYSxhLnNoYWRvdyxhLmNvbXBvc2l0ZU9wZXJhdGlvbil9LGIuYXBwZW5kUHJvcGVydGllcz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYWxwaGEqPWEsdGhpcy5zaGFkb3c9Ynx8dGhpcy5zaGFkb3csdGhpcy5jb21wb3NpdGVPcGVyYXRpb249Y3x8dGhpcy5jb21wb3NpdGVPcGVyYXRpb24sdGhpc30sYi5wcmVwZW5kUHJvcGVydGllcz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYWxwaGEqPWEsdGhpcy5zaGFkb3c9dGhpcy5zaGFkb3d8fGIsdGhpcy5jb21wb3NpdGVPcGVyYXRpb249dGhpcy5jb21wb3NpdGVPcGVyYXRpb258fGMsdGhpc30sYi5jbG9uZT1mdW5jdGlvbigpe3JldHVybihuZXcgYSkuY29weSh0aGlzKX0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbTWF0cml4MkQgKGE9Iit0aGlzLmErIiBiPSIrdGhpcy5iKyIgYz0iK3RoaXMuYysiIGQ9Iit0aGlzLmQrIiB0eD0iK3RoaXMudHgrIiB0eT0iK3RoaXMudHkrIildIn0sYS5pZGVudGl0eT1uZXcgYSxjcmVhdGVqcy5NYXRyaXgyRD1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9ZnVuY3Rpb24oYSxiKXt0aGlzLmluaXRpYWxpemUoYSxiKX0sYj1hLnByb3RvdHlwZTtiLng9MCxiLnk9MCxiLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy54PW51bGw9PWE/MDphLHRoaXMueT1udWxsPT1iPzA6Yix0aGlzfSxiLmNvcHk9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaW5pdGlhbGl6ZShhLngsYS55KX0sYi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgYSh0aGlzLngsdGhpcy55KX0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbUG9pbnQgKHg9Iit0aGlzLngrIiB5PSIrdGhpcy55KyIpXSJ9LGNyZWF0ZWpzLlBvaW50PWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLmluaXRpYWxpemUoYSxiLGMsZCl9LGI9YS5wcm90b3R5cGU7Yi54PTAsYi55PTAsYi53aWR0aD0wLGIuaGVpZ2h0PTAsYi5pbml0aWFsaXplPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLng9YXx8MCx0aGlzLnk9Ynx8MCx0aGlzLndpZHRoPWN8fDAsdGhpcy5oZWlnaHQ9ZHx8MCx0aGlzfSxiLmNvcHk9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaW5pdGlhbGl6ZShhLngsYS55LGEud2lkdGgsYS5oZWlnaHQpfSxiLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhKHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCl9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW1JlY3RhbmdsZSAoeD0iK3RoaXMueCsiIHk9Iit0aGlzLnkrIiB3aWR0aD0iK3RoaXMud2lkdGgrIiBoZWlnaHQ9Iit0aGlzLmhlaWdodCsiKV0ifSxjcmVhdGVqcy5SZWN0YW5nbGU9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3RoaXMuaW5pdGlhbGl6ZShhLGIsYyxkLGUsZixnKX0sYj1hLnByb3RvdHlwZTtiLnRhcmdldD1udWxsLGIub3ZlckxhYmVsPW51bGwsYi5vdXRMYWJlbD1udWxsLGIuZG93bkxhYmVsPW51bGwsYi5wbGF5PSExLGIuX2lzUHJlc3NlZD0hMSxiLl9pc092ZXI9ITEsYi5pbml0aWFsaXplPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe2EuYWRkRXZlbnRMaXN0ZW5lciYmKHRoaXMudGFyZ2V0PWEsYS5jdXJzb3I9InBvaW50ZXIiLHRoaXMub3ZlckxhYmVsPW51bGw9PWM/Im92ZXIiOmMsdGhpcy5vdXRMYWJlbD1udWxsPT1iPyJvdXQiOmIsdGhpcy5kb3duTGFiZWw9bnVsbD09ZD8iZG93biI6ZCx0aGlzLnBsYXk9ZSx0aGlzLnNldEVuYWJsZWQoITApLHRoaXMuaGFuZGxlRXZlbnQoe30pLGYmJihnJiYoZi5hY3Rpb25zRW5hYmxlZD0hMSxmLmdvdG9BbmRTdG9wJiZmLmdvdG9BbmRTdG9wKGcpKSxhLmhpdEFyZWE9ZikpfSxiLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy50YXJnZXQ7YT8oYi5hZGRFdmVudExpc3RlbmVyKCJyb2xsb3ZlciIsdGhpcyksYi5hZGRFdmVudExpc3RlbmVyKCJyb2xsb3V0Iix0aGlzKSxiLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsdGhpcyksYi5hZGRFdmVudExpc3RlbmVyKCJwcmVzc3VwIix0aGlzKSk6KGIucmVtb3ZlRXZlbnRMaXN0ZW5lcigicm9sbG92ZXIiLHRoaXMpLGIucmVtb3ZlRXZlbnRMaXN0ZW5lcigicm9sbG91dCIsdGhpcyksYi5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLHRoaXMpLGIucmVtb3ZlRXZlbnRMaXN0ZW5lcigicHJlc3N1cCIsdGhpcykpfSxiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltCdXR0b25IZWxwZXJdIn0sYi5oYW5kbGVFdmVudD1mdW5jdGlvbihhKXt2YXIgYixjPXRoaXMudGFyZ2V0LGQ9YS50eXBlOyJtb3VzZWRvd24iPT1kPyh0aGlzLl9pc1ByZXNzZWQ9ITAsYj10aGlzLmRvd25MYWJlbCk6InByZXNzdXAiPT1kPyh0aGlzLl9pc1ByZXNzZWQ9ITEsYj10aGlzLl9pc092ZXI/dGhpcy5vdmVyTGFiZWw6dGhpcy5vdXRMYWJlbCk6InJvbGxvdmVyIj09ZD8odGhpcy5faXNPdmVyPSEwLGI9dGhpcy5faXNQcmVzc2VkP3RoaXMuZG93bkxhYmVsOnRoaXMub3ZlckxhYmVsKToodGhpcy5faXNPdmVyPSExLGI9dGhpcy5faXNQcmVzc2VkP3RoaXMub3ZlckxhYmVsOnRoaXMub3V0TGFiZWwpLHRoaXMucGxheT9jLmdvdG9BbmRQbGF5JiZjLmdvdG9BbmRQbGF5KGIpOmMuZ290b0FuZFN0b3AmJmMuZ290b0FuZFN0b3AoYil9LGNyZWF0ZWpzLkJ1dHRvbkhlbHBlcj1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5pbml0aWFsaXplKGEsYixjLGQpfSxiPWEucHJvdG90eXBlO2EuaWRlbnRpdHk9bnVsbCxiLmNvbG9yPW51bGwsYi5vZmZzZXRYPTAsYi5vZmZzZXRZPTAsYi5ibHVyPTAsYi5pbml0aWFsaXplPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuY29sb3I9YSx0aGlzLm9mZnNldFg9Yix0aGlzLm9mZnNldFk9Yyx0aGlzLmJsdXI9ZH0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbU2hhZG93XSJ9LGIuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGEodGhpcy5jb2xvcix0aGlzLm9mZnNldFgsdGhpcy5vZmZzZXRZLHRoaXMuYmx1cil9LGEuaWRlbnRpdHk9bmV3IGEoInRyYW5zcGFyZW50IiwwLDAsMCksY3JlYXRlanMuU2hhZG93PWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbihhKXt0aGlzLmluaXRpYWxpemUoYSl9LGI9YS5wcm90b3R5cGU9bmV3IGNyZWF0ZWpzLkV2ZW50RGlzcGF0Y2hlcjtiLmNvbXBsZXRlPSEwLGIuZnJhbWVyYXRlPTAsYi5fYW5pbWF0aW9ucz1udWxsLGIuX2ZyYW1lcz1udWxsLGIuX2ltYWdlcz1udWxsLGIuX2RhdGE9bnVsbCxiLl9sb2FkQ291bnQ9MCxiLl9mcmFtZUhlaWdodD0wLGIuX2ZyYW1lV2lkdGg9MCxiLl9udW1GcmFtZXM9MCxiLl9yZWdYPTAsYi5fcmVnWT0wLGIuaW5pdGlhbGl6ZT1mdW5jdGlvbihhKXt2YXIgYixjLGQsZTtpZihudWxsIT1hKXtpZih0aGlzLmZyYW1lcmF0ZT1hLmZyYW1lcmF0ZXx8MCxhLmltYWdlcyYmKGM9YS5pbWFnZXMubGVuZ3RoKT4wKWZvcihlPXRoaXMuX2ltYWdlcz1bXSxiPTA7Yz5iO2IrKyl7dmFyIGY9YS5pbWFnZXNbYl07aWYoInN0cmluZyI9PXR5cGVvZiBmKXt2YXIgZz1mO2Y9bmV3IEltYWdlLGYuc3JjPWd9ZS5wdXNoKGYpLGYuZ2V0Q29udGV4dHx8Zi5jb21wbGV0ZXx8KHRoaXMuX2xvYWRDb3VudCsrLHRoaXMuY29tcGxldGU9ITEsZnVuY3Rpb24oYSl7Zi5vbmxvYWQ9ZnVuY3Rpb24oKXthLl9oYW5kbGVJbWFnZUxvYWQoKX19KHRoaXMpKX1pZihudWxsPT1hLmZyYW1lcyk7ZWxzZSBpZihhLmZyYW1lcyBpbnN0YW5jZW9mIEFycmF5KWZvcih0aGlzLl9mcmFtZXM9W10sZT1hLmZyYW1lcyxiPTAsYz1lLmxlbmd0aDtjPmI7YisrKXt2YXIgaD1lW2JdO3RoaXMuX2ZyYW1lcy5wdXNoKHtpbWFnZTp0aGlzLl9pbWFnZXNbaFs0XT9oWzRdOjBdLHJlY3Q6bmV3IGNyZWF0ZWpzLlJlY3RhbmdsZShoWzBdLGhbMV0saFsyXSxoWzNdKSxyZWdYOmhbNV18fDAscmVnWTpoWzZdfHwwfSl9ZWxzZSBkPWEuZnJhbWVzLHRoaXMuX2ZyYW1lV2lkdGg9ZC53aWR0aCx0aGlzLl9mcmFtZUhlaWdodD1kLmhlaWdodCx0aGlzLl9yZWdYPWQucmVnWHx8MCx0aGlzLl9yZWdZPWQucmVnWXx8MCx0aGlzLl9udW1GcmFtZXM9ZC5jb3VudCwwPT10aGlzLl9sb2FkQ291bnQmJnRoaXMuX2NhbGN1bGF0ZUZyYW1lcygpO2lmKHRoaXMuX2FuaW1hdGlvbnM9W10sbnVsbCE9KGQ9YS5hbmltYXRpb25zKSl7dGhpcy5fZGF0YT17fTt2YXIgaTtmb3IoaSBpbiBkKXt2YXIgaj17bmFtZTppfSxrPWRbaV07aWYoIm51bWJlciI9PXR5cGVvZiBrKWU9ai5mcmFtZXM9W2tdO2Vsc2UgaWYoayBpbnN0YW5jZW9mIEFycmF5KWlmKDE9PWsubGVuZ3RoKWouZnJhbWVzPVtrWzBdXTtlbHNlIGZvcihqLnNwZWVkPWtbM10sai5uZXh0PWtbMl0sZT1qLmZyYW1lcz1bXSxiPWtbMF07Yjw9a1sxXTtiKyspZS5wdXNoKGIpO2Vsc2V7ai5zcGVlZD1rLnNwZWVkLGoubmV4dD1rLm5leHQ7dmFyIGw9ay5mcmFtZXM7ZT1qLmZyYW1lcz0ibnVtYmVyIj09dHlwZW9mIGw/W2xdOmwuc2xpY2UoMCl9KGoubmV4dD09PSEwfHx2b2lkIDA9PT1qLm5leHQpJiYoai5uZXh0PWkpLChqLm5leHQ9PT0hMXx8ZS5sZW5ndGg8MiYmai5uZXh0PT1pKSYmKGoubmV4dD1udWxsKSxqLnNwZWVkfHwoai5zcGVlZD0xKSx0aGlzLl9hbmltYXRpb25zLnB1c2goaSksdGhpcy5fZGF0YVtpXT1qfX19fSxiLmdldE51bUZyYW1lcz1mdW5jdGlvbihhKXtpZihudWxsPT1hKXJldHVybiB0aGlzLl9mcmFtZXM/dGhpcy5fZnJhbWVzLmxlbmd0aDp0aGlzLl9udW1GcmFtZXM7dmFyIGI9dGhpcy5fZGF0YVthXTtyZXR1cm4gbnVsbD09Yj8wOmIuZnJhbWVzLmxlbmd0aH0sYi5nZXRBbmltYXRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FuaW1hdGlvbnMuc2xpY2UoMCl9LGIuZ2V0QW5pbWF0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9kYXRhW2FdfSxiLmdldEZyYW1lPWZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiB0aGlzLl9mcmFtZXMmJihiPXRoaXMuX2ZyYW1lc1thXSk/YjpudWxsfSxiLmdldEZyYW1lQm91bmRzPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRGcmFtZShhKTtyZXR1cm4gYz8oYnx8bmV3IGNyZWF0ZWpzLlJlY3RhbmdsZSkuaW5pdGlhbGl6ZSgtYy5yZWdYLC1jLnJlZ1ksYy5yZWN0LndpZHRoLGMucmVjdC5oZWlnaHQpOm51bGx9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW1Nwcml0ZVNoZWV0XSJ9LGIuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYj1uZXcgYTtyZXR1cm4gYi5jb21wbGV0ZT10aGlzLmNvbXBsZXRlLGIuX2FuaW1hdGlvbnM9dGhpcy5fYW5pbWF0aW9ucyxiLl9mcmFtZXM9dGhpcy5fZnJhbWVzLGIuX2ltYWdlcz10aGlzLl9pbWFnZXMsYi5fZGF0YT10aGlzLl9kYXRhLGIuX2ZyYW1lSGVpZ2h0PXRoaXMuX2ZyYW1lSGVpZ2h0LGIuX2ZyYW1lV2lkdGg9dGhpcy5fZnJhbWVXaWR0aCxiLl9udW1GcmFtZXM9dGhpcy5fbnVtRnJhbWVzLGIuX2xvYWRDb3VudD10aGlzLl9sb2FkQ291bnQsYn0sYi5faGFuZGxlSW1hZ2VMb2FkPWZ1bmN0aW9uKCl7MD09LS10aGlzLl9sb2FkQ291bnQmJih0aGlzLl9jYWxjdWxhdGVGcmFtZXMoKSx0aGlzLmNvbXBsZXRlPSEwLHRoaXMuZGlzcGF0Y2hFdmVudCgiY29tcGxldGUiKSl9LGIuX2NhbGN1bGF0ZUZyYW1lcz1mdW5jdGlvbigpe2lmKCF0aGlzLl9mcmFtZXMmJjAhPXRoaXMuX2ZyYW1lV2lkdGgpe3RoaXMuX2ZyYW1lcz1bXTtmb3IodmFyIGE9MCxiPXRoaXMuX2ZyYW1lV2lkdGgsYz10aGlzLl9mcmFtZUhlaWdodCxkPTAsZT10aGlzLl9pbWFnZXM7ZDxlLmxlbmd0aDtkKyspe2Zvcih2YXIgZj1lW2RdLGc9MHwoZi53aWR0aCsxKS9iLGg9MHwoZi5oZWlnaHQrMSkvYyxpPXRoaXMuX251bUZyYW1lcz4wP01hdGgubWluKHRoaXMuX251bUZyYW1lcy1hLGcqaCk6ZypoLGo9MDtpPmo7aisrKXRoaXMuX2ZyYW1lcy5wdXNoKHtpbWFnZTpmLHJlY3Q6bmV3IGNyZWF0ZWpzLlJlY3RhbmdsZShqJWcqYiwoMHxqL2cpKmMsYixjKSxyZWdYOnRoaXMuX3JlZ1gscmVnWTp0aGlzLl9yZWdZfSk7YSs9aX10aGlzLl9udW1GcmFtZXM9YX19LGNyZWF0ZWpzLlNwcml0ZVNoZWV0PWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBhKGEsYixjKXt0aGlzLmY9YSx0aGlzLnBhcmFtcz1iLHRoaXMucGF0aD1udWxsPT1jPyEwOmN9YS5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbihhKXt0aGlzLmYuYXBwbHkoYSx0aGlzLnBhcmFtcyl9O3ZhciBiPWZ1bmN0aW9uKCl7dGhpcy5pbml0aWFsaXplKCl9LGM9Yi5wcm90b3R5cGU7Yi5nZXRSR0I9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIG51bGwhPWEmJm51bGw9PWMmJihkPWIsYz0yNTUmYSxiPTI1NSZhPj44LGE9MjU1JmE+PjE2KSxudWxsPT1kPyJyZ2IoIithKyIsIitiKyIsIitjKyIpIjoicmdiYSgiK2ErIiwiK2IrIiwiK2MrIiwiK2QrIikifSxiLmdldEhTTD1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gbnVsbD09ZD8iaHNsKCIrYSUzNjArIiwiK2IrIiUsIitjKyIlKSI6ImhzbGEoIithJTM2MCsiLCIrYisiJSwiK2MrIiUsIitkKyIpIn0sYi5Db21tYW5kPWEsYi5CQVNFXzY0PXtBOjAsQjoxLEM6MixEOjMsRTo0LEY6NSxHOjYsSDo3LEk6OCxKOjksSzoxMCxMOjExLE06MTIsTjoxMyxPOjE0LFA6MTUsUToxNixSOjE3LFM6MTgsVDoxOSxVOjIwLFY6MjEsVzoyMixYOjIzLFk6MjQsWjoyNSxhOjI2LGI6MjcsYzoyOCxkOjI5LGU6MzAsZjozMSxnOjMyLGg6MzMsaTozNCxqOjM1LGs6MzYsbDozNyxtOjM4LG46Mzksbzo0MCxwOjQxLHE6NDIscjo0MyxzOjQ0LHQ6NDUsdTo0Nix2OjQ3LHc6NDgseDo0OSx5OjUwLHo6NTEsMDo1MiwxOjUzLDI6NTQsMzo1NSw0OjU2LDU6NTcsNjo1OCw3OjU5LDg6NjAsOTo2MSwiKyI6NjIsIi8iOjYzfSxiLlNUUk9LRV9DQVBTX01BUD1bImJ1dHQiLCJyb3VuZCIsInNxdWFyZSJdLGIuU1RST0tFX0pPSU5UU19NQVA9WyJtaXRlciIsInJvdW5kIiwiYmV2ZWwiXTt2YXIgZD1jcmVhdGVqcy5jcmVhdGVDYW52YXM/Y3JlYXRlanMuY3JlYXRlQ2FudmFzKCk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7aWYoZC5nZXRDb250ZXh0KXt2YXIgZT1iLl9jdHg9ZC5nZXRDb250ZXh0KCIyZCIpO2IuYmVnaW5DbWQ9bmV3IGEoZS5iZWdpblBhdGgsW10sITEpLGIuZmlsbENtZD1uZXcgYShlLmZpbGwsW10sITEpLGIuc3Ryb2tlQ21kPW5ldyBhKGUuc3Ryb2tlLFtdLCExKSxkLndpZHRoPWQuaGVpZ2h0PTF9Yy5fc3Ryb2tlSW5zdHJ1Y3Rpb25zPW51bGwsYy5fc3Ryb2tlU3R5bGVJbnN0cnVjdGlvbnM9bnVsbCxjLl9zdHJva2VJZ25vcmVTY2FsZT0hMSxjLl9maWxsSW5zdHJ1Y3Rpb25zPW51bGwsYy5fZmlsbE1hdHJpeD1udWxsLGMuX2luc3RydWN0aW9ucz1udWxsLGMuX29sZEluc3RydWN0aW9ucz1udWxsLGMuX2FjdGl2ZUluc3RydWN0aW9ucz1udWxsLGMuX2FjdGl2ZT0hMSxjLl9kaXJ0eT0hMSxjLmluaXRpYWxpemU9ZnVuY3Rpb24oKXt0aGlzLmNsZWFyKCksdGhpcy5fY3R4PWIuX2N0eH0sYy5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuISh0aGlzLl9pbnN0cnVjdGlvbnMubGVuZ3RofHx0aGlzLl9vbGRJbnN0cnVjdGlvbnMubGVuZ3RofHx0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnMubGVuZ3RoKX0sYy5kcmF3PWZ1bmN0aW9uKGEpe3RoaXMuX2RpcnR5JiZ0aGlzLl91cGRhdGVJbnN0cnVjdGlvbnMoKTtmb3IodmFyIGI9dGhpcy5faW5zdHJ1Y3Rpb25zLGM9MCxkPWIubGVuZ3RoO2Q+YztjKyspYltjXS5leGVjKGEpfSxjLmRyYXdBc1BhdGg9ZnVuY3Rpb24oYSl7dGhpcy5fZGlydHkmJnRoaXMuX3VwZGF0ZUluc3RydWN0aW9ucygpO2Zvcih2YXIgYixjPXRoaXMuX2luc3RydWN0aW9ucyxkPTAsZT1jLmxlbmd0aDtlPmQ7ZCsrKSgoYj1jW2RdKS5wYXRofHwwPT1kKSYmYi5leGVjKGEpfSxjLm1vdmVUbz1mdW5jdGlvbihiLGMpe3JldHVybiB0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnMucHVzaChuZXcgYSh0aGlzLl9jdHgubW92ZVRvLFtiLGNdKSksdGhpc30sYy5saW5lVG89ZnVuY3Rpb24oYixjKXtyZXR1cm4gdGhpcy5fZGlydHk9dGhpcy5fYWN0aXZlPSEwLHRoaXMuX2FjdGl2ZUluc3RydWN0aW9ucy5wdXNoKG5ldyBhKHRoaXMuX2N0eC5saW5lVG8sW2IsY10pKSx0aGlzfSxjLmFyY1RvPWZ1bmN0aW9uKGIsYyxkLGUsZil7cmV0dXJuIHRoaXMuX2RpcnR5PXRoaXMuX2FjdGl2ZT0hMCx0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnMucHVzaChuZXcgYSh0aGlzLl9jdHguYXJjVG8sW2IsYyxkLGUsZl0pKSx0aGlzfSxjLmFyYz1mdW5jdGlvbihiLGMsZCxlLGYsZyl7cmV0dXJuIHRoaXMuX2RpcnR5PXRoaXMuX2FjdGl2ZT0hMCxudWxsPT1nJiYoZz0hMSksdGhpcy5fYWN0aXZlSW5zdHJ1Y3Rpb25zLnB1c2gobmV3IGEodGhpcy5fY3R4LmFyYyxbYixjLGQsZSxmLGddKSksdGhpc30sYy5xdWFkcmF0aWNDdXJ2ZVRvPWZ1bmN0aW9uKGIsYyxkLGUpe3JldHVybiB0aGlzLl9kaXJ0eT10aGlzLl9hY3RpdmU9ITAsdGhpcy5fYWN0aXZlSW5zdHJ1Y3Rpb25zLnB1c2gobmV3IGEodGhpcy5fY3R4LnF1YWRyYXRpY0N1cnZlVG8sW2IsYyxkLGVdKSksdGhpc30sYy5iZXppZXJDdXJ2ZVRvPWZ1bmN0aW9uKGIsYyxkLGUsZixnKXtyZXR1cm4gdGhpcy5fZGlydHk9dGhpcy5fYWN0aXZlPSEwLHRoaXMuX2FjdGl2ZUluc3RydWN0aW9ucy5wdXNoKG5ldyBhKHRoaXMuX2N0eC5iZXppZXJDdXJ2ZVRvLFtiLGMsZCxlLGYsZ10pKSx0aGlzfSxjLnJlY3Q9ZnVuY3Rpb24oYixjLGQsZSl7cmV0dXJuIHRoaXMuX2RpcnR5PXRoaXMuX2FjdGl2ZT0hMCx0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnMucHVzaChuZXcgYSh0aGlzLl9jdHgucmVjdCxbYixjLGQsZV0pKSx0aGlzfSxjLmNsb3NlUGF0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RpdmUmJih0aGlzLl9kaXJ0eT0hMCx0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnMucHVzaChuZXcgYSh0aGlzLl9jdHguY2xvc2VQYXRoLFtdKSkpLHRoaXN9LGMuY2xlYXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5zdHJ1Y3Rpb25zPVtdLHRoaXMuX29sZEluc3RydWN0aW9ucz1bXSx0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnM9W10sdGhpcy5fc3Ryb2tlU3R5bGVJbnN0cnVjdGlvbnM9dGhpcy5fc3Ryb2tlSW5zdHJ1Y3Rpb25zPXRoaXMuX2ZpbGxJbnN0cnVjdGlvbnM9dGhpcy5fZmlsbE1hdHJpeD1udWxsLHRoaXMuX2FjdGl2ZT10aGlzLl9kaXJ0eT10aGlzLl9zdHJva2VJZ25vcmVTY2FsZT0hMSx0aGlzfSxjLmJlZ2luRmlsbD1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5fYWN0aXZlJiZ0aGlzLl9uZXdQYXRoKCksdGhpcy5fZmlsbEluc3RydWN0aW9ucz1iP1tuZXcgYSh0aGlzLl9zZXRQcm9wLFsiZmlsbFN0eWxlIixiXSwhMSldOm51bGwsdGhpcy5fZmlsbE1hdHJpeD1udWxsLHRoaXN9LGMuYmVnaW5MaW5lYXJHcmFkaWVudEZpbGw9ZnVuY3Rpb24oYixjLGQsZSxmLGcpe3RoaXMuX2FjdGl2ZSYmdGhpcy5fbmV3UGF0aCgpO2Zvcih2YXIgaD10aGlzLl9jdHguY3JlYXRlTGluZWFyR3JhZGllbnQoZCxlLGYsZyksaT0wLGo9Yi5sZW5ndGg7aj5pO2krKyloLmFkZENvbG9yU3RvcChjW2ldLGJbaV0pO3JldHVybiB0aGlzLl9maWxsSW5zdHJ1Y3Rpb25zPVtuZXcgYSh0aGlzLl9zZXRQcm9wLFsiZmlsbFN0eWxlIixoXSwhMSldLHRoaXMuX2ZpbGxNYXRyaXg9bnVsbCx0aGlzfSxjLmJlZ2luUmFkaWFsR3JhZGllbnRGaWxsPWZ1bmN0aW9uKGIsYyxkLGUsZixnLGgsaSl7dGhpcy5fYWN0aXZlJiZ0aGlzLl9uZXdQYXRoKCk7Zm9yKHZhciBqPXRoaXMuX2N0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChkLGUsZixnLGgsaSksaz0wLGw9Yi5sZW5ndGg7bD5rO2srKylqLmFkZENvbG9yU3RvcChjW2tdLGJba10pO3JldHVybiB0aGlzLl9maWxsSW5zdHJ1Y3Rpb25zPVtuZXcgYSh0aGlzLl9zZXRQcm9wLFsiZmlsbFN0eWxlIixqXSwhMSldLHRoaXMuX2ZpbGxNYXRyaXg9bnVsbCx0aGlzfSxjLmJlZ2luQml0bWFwRmlsbD1mdW5jdGlvbihiLGMsZCl7dGhpcy5fYWN0aXZlJiZ0aGlzLl9uZXdQYXRoKCksYz1jfHwiIjt2YXIgZT10aGlzLl9jdHguY3JlYXRlUGF0dGVybihiLGMpO3JldHVybiB0aGlzLl9maWxsSW5zdHJ1Y3Rpb25zPVtuZXcgYSh0aGlzLl9zZXRQcm9wLFsiZmlsbFN0eWxlIixlXSwhMSldLHRoaXMuX2ZpbGxNYXRyaXg9ZD9bZC5hLGQuYixkLmMsZC5kLGQudHgsZC50eV06bnVsbCx0aGlzfSxjLmVuZEZpbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iZWdpbkZpbGwoKX0sYy5zZXRTdHJva2VTdHlsZT1mdW5jdGlvbihjLGQsZSxmLGcpe3JldHVybiB0aGlzLl9hY3RpdmUmJnRoaXMuX25ld1BhdGgoKSx0aGlzLl9zdHJva2VTdHlsZUluc3RydWN0aW9ucz1bbmV3IGEodGhpcy5fc2V0UHJvcCxbImxpbmVXaWR0aCIsbnVsbD09Yz8iMSI6Y10sITEpLG5ldyBhKHRoaXMuX3NldFByb3AsWyJsaW5lQ2FwIixudWxsPT1kPyJidXR0Ijppc05hTihkKT9kOmIuU1RST0tFX0NBUFNfTUFQW2RdXSwhMSksbmV3IGEodGhpcy5fc2V0UHJvcCxbImxpbmVKb2luIixudWxsPT1lPyJtaXRlciI6aXNOYU4oZSk/ZTpiLlNUUk9LRV9KT0lOVFNfTUFQW2VdXSwhMSksbmV3IGEodGhpcy5fc2V0UHJvcCxbIm1pdGVyTGltaXQiLG51bGw9PWY/IjEwIjpmXSwhMSldLHRoaXMuX3N0cm9rZUlnbm9yZVNjYWxlPWcsdGhpc30sYy5iZWdpblN0cm9rZT1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5fYWN0aXZlJiZ0aGlzLl9uZXdQYXRoKCksdGhpcy5fc3Ryb2tlSW5zdHJ1Y3Rpb25zPWI/W25ldyBhKHRoaXMuX3NldFByb3AsWyJzdHJva2VTdHlsZSIsYl0sITEpXTpudWxsLHRoaXN9LGMuYmVnaW5MaW5lYXJHcmFkaWVudFN0cm9rZT1mdW5jdGlvbihiLGMsZCxlLGYsZyl7dGhpcy5fYWN0aXZlJiZ0aGlzLl9uZXdQYXRoKCk7Zm9yKHZhciBoPXRoaXMuX2N0eC5jcmVhdGVMaW5lYXJHcmFkaWVudChkLGUsZixnKSxpPTAsaj1iLmxlbmd0aDtqPmk7aSsrKWguYWRkQ29sb3JTdG9wKGNbaV0sYltpXSk7cmV0dXJuIHRoaXMuX3N0cm9rZUluc3RydWN0aW9ucz1bbmV3IGEodGhpcy5fc2V0UHJvcCxbInN0cm9rZVN0eWxlIixoXSwhMSldLHRoaXN9LGMuYmVnaW5SYWRpYWxHcmFkaWVudFN0cm9rZT1mdW5jdGlvbihiLGMsZCxlLGYsZyxoLGkpe3RoaXMuX2FjdGl2ZSYmdGhpcy5fbmV3UGF0aCgpO2Zvcih2YXIgaj10aGlzLl9jdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoZCxlLGYsZyxoLGkpLGs9MCxsPWIubGVuZ3RoO2w+aztrKyspai5hZGRDb2xvclN0b3AoY1trXSxiW2tdKTtyZXR1cm4gdGhpcy5fc3Ryb2tlSW5zdHJ1Y3Rpb25zPVtuZXcgYSh0aGlzLl9zZXRQcm9wLFsic3Ryb2tlU3R5bGUiLGpdLCExKV0sdGhpc30sYy5iZWdpbkJpdG1hcFN0cm9rZT1mdW5jdGlvbihiLGMpe3RoaXMuX2FjdGl2ZSYmdGhpcy5fbmV3UGF0aCgpLGM9Y3x8IiI7dmFyIGQ9dGhpcy5fY3R4LmNyZWF0ZVBhdHRlcm4oYixjKTtyZXR1cm4gdGhpcy5fc3Ryb2tlSW5zdHJ1Y3Rpb25zPVtuZXcgYSh0aGlzLl9zZXRQcm9wLFsic3Ryb2tlU3R5bGUiLGRdLCExKV0sdGhpc30sYy5lbmRTdHJva2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iZWdpblN0cm9rZSgpLHRoaXN9LGMuY3VydmVUbz1jLnF1YWRyYXRpY0N1cnZlVG8sYy5kcmF3UmVjdD1jLnJlY3QsYy5kcmF3Um91bmRSZWN0PWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIHRoaXMuZHJhd1JvdW5kUmVjdENvbXBsZXgoYSxiLGMsZCxlLGUsZSxlKSx0aGlzfSxjLmRyYXdSb3VuZFJlY3RDb21wbGV4PWZ1bmN0aW9uKGIsYyxkLGUsZixnLGgsaSl7dmFyIGo9KGU+ZD9kOmUpLzIsaz0wLGw9MCxtPTAsbj0wOzA+ZiYmKGYqPWs9LTEpLGY+aiYmKGY9aiksMD5nJiYoZyo9bD0tMSksZz5qJiYoZz1qKSwwPmgmJihoKj1tPS0xKSxoPmomJihoPWopLDA+aSYmKGkqPW49LTEpLGk+aiYmKGk9aiksdGhpcy5fZGlydHk9dGhpcy5fYWN0aXZlPSEwO3ZhciBvPXRoaXMuX2N0eC5hcmNUbyxwPXRoaXMuX2N0eC5saW5lVG87cmV0dXJuIHRoaXMuX2FjdGl2ZUluc3RydWN0aW9ucy5wdXNoKG5ldyBhKHRoaXMuX2N0eC5tb3ZlVG8sW2IrZC1nLGNdKSxuZXcgYShvLFtiK2QrZypsLGMtZypsLGIrZCxjK2csZ10pLG5ldyBhKHAsW2IrZCxjK2UtaF0pLG5ldyBhKG8sW2IrZCtoKm0sYytlK2gqbSxiK2QtaCxjK2UsaF0pLG5ldyBhKHAsW2IraSxjK2VdKSxuZXcgYShvLFtiLWkqbixjK2UraSpuLGIsYytlLWksaV0pLG5ldyBhKHAsW2IsYytmXSksbmV3IGEobyxbYi1mKmssYy1mKmssYitmLGMsZl0pLG5ldyBhKHRoaXMuX2N0eC5jbG9zZVBhdGgpKSx0aGlzfSxjLmRyYXdDaXJjbGU9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLmFyYyhhLGIsYywwLDIqTWF0aC5QSSksdGhpc30sYy5kcmF3RWxsaXBzZT1mdW5jdGlvbihiLGMsZCxlKXt0aGlzLl9kaXJ0eT10aGlzLl9hY3RpdmU9ITA7dmFyIGY9LjU1MjI4NDgsZz1kLzIqZixoPWUvMipmLGk9YitkLGo9YytlLGs9YitkLzIsbD1jK2UvMjtyZXR1cm4gdGhpcy5fYWN0aXZlSW5zdHJ1Y3Rpb25zLnB1c2gobmV3IGEodGhpcy5fY3R4Lm1vdmVUbyxbYixsXSksbmV3IGEodGhpcy5fY3R4LmJlemllckN1cnZlVG8sW2IsbC1oLGstZyxjLGssY10pLG5ldyBhKHRoaXMuX2N0eC5iZXppZXJDdXJ2ZVRvLFtrK2csYyxpLGwtaCxpLGxdKSxuZXcgYSh0aGlzLl9jdHguYmV6aWVyQ3VydmVUbyxbaSxsK2gsaytnLGosayxqXSksbmV3IGEodGhpcy5fY3R4LmJlemllckN1cnZlVG8sW2stZyxqLGIsbCtoLGIsbF0pKSx0aGlzfSxjLmluamVjdD1mdW5jdGlvbihiLGMpe3JldHVybiB0aGlzLl9kaXJ0eT10aGlzLl9hY3RpdmU9ITAsdGhpcy5fYWN0aXZlSW5zdHJ1Y3Rpb25zLnB1c2gobmV3IGEoYixbY10pKSx0aGlzfSxjLmRyYXdQb2x5U3Rhcj1mdW5jdGlvbihiLGMsZCxlLGYsZyl7dGhpcy5fZGlydHk9dGhpcy5fYWN0aXZlPSEwLG51bGw9PWYmJihmPTApLGY9MS1mLG51bGw9PWc/Zz0wOmcvPTE4MC9NYXRoLlBJO3ZhciBoPU1hdGguUEkvZTt0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnMucHVzaChuZXcgYSh0aGlzLl9jdHgubW92ZVRvLFtiK01hdGguY29zKGcpKmQsYytNYXRoLnNpbihnKSpkXSkpO2Zvcih2YXIgaT0wO2U+aTtpKyspZys9aCwxIT1mJiZ0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnMucHVzaChuZXcgYSh0aGlzLl9jdHgubGluZVRvLFtiK01hdGguY29zKGcpKmQqZixjK01hdGguc2luKGcpKmQqZl0pKSxnKz1oLHRoaXMuX2FjdGl2ZUluc3RydWN0aW9ucy5wdXNoKG5ldyBhKHRoaXMuX2N0eC5saW5lVG8sW2IrTWF0aC5jb3MoZykqZCxjK01hdGguc2luKGcpKmRdKSk7cmV0dXJuIHRoaXN9LGMuZGVjb2RlUGF0aD1mdW5jdGlvbihhKXtmb3IodmFyIGM9W3RoaXMubW92ZVRvLHRoaXMubGluZVRvLHRoaXMucXVhZHJhdGljQ3VydmVUbyx0aGlzLmJlemllckN1cnZlVG8sdGhpcy5jbG9zZVBhdGhdLGQ9WzIsMiw0LDYsMF0sZT0wLGY9YS5sZW5ndGgsZz1bXSxoPTAsaT0wLGo9Yi5CQVNFXzY0O2Y+ZTspe3ZhciBrPWEuY2hhckF0KGUpLGw9altrXSxtPWw+PjMsbj1jW21dO2lmKCFufHwzJmwpdGhyb3ciYmFkIHBhdGggZGF0YSAoQCIrZSsiKTogIitrO3ZhciBvPWRbbV07bXx8KGg9aT0wKSxnLmxlbmd0aD0wLGUrKztmb3IodmFyIHA9KDEmbD4+MikrMixxPTA7bz5xO3ErKyl7dmFyIHI9althLmNoYXJBdChlKV0scz1yPj41Py0xOjE7cj0oMzEmcik8PDZ8althLmNoYXJBdChlKzEpXSwzPT1wJiYocj1yPDw2fGpbYS5jaGFyQXQoZSsyKV0pLHI9cypyLzEwLHElMj9oPXIrPWg6aT1yKz1pLGdbcV09cixlKz1wfW4uYXBwbHkodGhpcyxnKX1yZXR1cm4gdGhpc30sYy5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBiO3JldHVybiBhLl9pbnN0cnVjdGlvbnM9dGhpcy5faW5zdHJ1Y3Rpb25zLnNsaWNlKCksYS5fYWN0aXZlSW5zdHJ1Y3Rpb25zPXRoaXMuX2FjdGl2ZUluc3RydWN0aW9ucy5zbGljZSgpLGEuX29sZEluc3RydWN0aW9ucz10aGlzLl9vbGRJbnN0cnVjdGlvbnMuc2xpY2UoKSx0aGlzLl9maWxsSW5zdHJ1Y3Rpb25zJiYoYS5fZmlsbEluc3RydWN0aW9ucz10aGlzLl9maWxsSW5zdHJ1Y3Rpb25zLnNsaWNlKCkpLHRoaXMuX3N0cm9rZUluc3RydWN0aW9ucyYmKGEuX3N0cm9rZUluc3RydWN0aW9ucz10aGlzLl9zdHJva2VJbnN0cnVjdGlvbnMuc2xpY2UoKSksdGhpcy5fc3Ryb2tlU3R5bGVJbnN0cnVjdGlvbnMmJihhLl9zdHJva2VTdHlsZUluc3RydWN0aW9ucz10aGlzLl9zdHJva2VTdHlsZUluc3RydWN0aW9ucy5zbGljZSgpKSxhLl9hY3RpdmU9dGhpcy5fYWN0aXZlLGEuX2RpcnR5PXRoaXMuX2RpcnR5LGEuX2ZpbGxNYXRyaXg9dGhpcy5fZmlsbE1hdHJpeCxhLl9zdHJva2VJZ25vcmVTY2FsZT10aGlzLl9zdHJva2VJZ25vcmVTY2FsZSxhfSxjLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltHcmFwaGljc10ifSxjLm10PWMubW92ZVRvLGMubHQ9Yy5saW5lVG8sYy5hdD1jLmFyY1RvLGMuYnQ9Yy5iZXppZXJDdXJ2ZVRvLGMucXQ9Yy5xdWFkcmF0aWNDdXJ2ZVRvLGMuYT1jLmFyYyxjLnI9Yy5yZWN0LGMuY3A9Yy5jbG9zZVBhdGgsYy5jPWMuY2xlYXIsYy5mPWMuYmVnaW5GaWxsLGMubGY9Yy5iZWdpbkxpbmVhckdyYWRpZW50RmlsbCxjLnJmPWMuYmVnaW5SYWRpYWxHcmFkaWVudEZpbGwsYy5iZj1jLmJlZ2luQml0bWFwRmlsbCxjLmVmPWMuZW5kRmlsbCxjLnNzPWMuc2V0U3Ryb2tlU3R5bGUsYy5zPWMuYmVnaW5TdHJva2UsYy5scz1jLmJlZ2luTGluZWFyR3JhZGllbnRTdHJva2UsYy5ycz1jLmJlZ2luUmFkaWFsR3JhZGllbnRTdHJva2UsYy5icz1jLmJlZ2luQml0bWFwU3Ryb2tlLGMuZXM9Yy5lbmRTdHJva2UsYy5kcj1jLmRyYXdSZWN0LGMucnI9Yy5kcmF3Um91bmRSZWN0LGMucmM9Yy5kcmF3Um91bmRSZWN0Q29tcGxleCxjLmRjPWMuZHJhd0NpcmNsZSxjLmRlPWMuZHJhd0VsbGlwc2UsYy5kcD1jLmRyYXdQb2x5U3RhcixjLnA9Yy5kZWNvZGVQYXRoLGMuX3VwZGF0ZUluc3RydWN0aW9ucz1mdW5jdGlvbigpe3RoaXMuX2luc3RydWN0aW9ucz10aGlzLl9vbGRJbnN0cnVjdGlvbnMuc2xpY2UoKSx0aGlzLl9pbnN0cnVjdGlvbnMucHVzaChiLmJlZ2luQ21kKSx0aGlzLl9hcHBlbmRJbnN0cnVjdGlvbnModGhpcy5fZmlsbEluc3RydWN0aW9ucyksdGhpcy5fYXBwZW5kSW5zdHJ1Y3Rpb25zKHRoaXMuX3N0cm9rZUluc3RydWN0aW9ucyksdGhpcy5fYXBwZW5kSW5zdHJ1Y3Rpb25zKHRoaXMuX3N0cm9rZUluc3RydWN0aW9ucyYmdGhpcy5fc3Ryb2tlU3R5bGVJbnN0cnVjdGlvbnMpLHRoaXMuX2FwcGVuZEluc3RydWN0aW9ucyh0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnMpLHRoaXMuX2ZpbGxJbnN0cnVjdGlvbnMmJnRoaXMuX2FwcGVuZERyYXcoYi5maWxsQ21kLHRoaXMuX2ZpbGxNYXRyaXgpLHRoaXMuX3N0cm9rZUluc3RydWN0aW9ucyYmdGhpcy5fYXBwZW5kRHJhdyhiLnN0cm9rZUNtZCx0aGlzLl9zdHJva2VJZ25vcmVTY2FsZSYmWzEsMCwwLDEsMCwwXSl9LGMuX2FwcGVuZEluc3RydWN0aW9ucz1mdW5jdGlvbihhKXthJiZ0aGlzLl9pbnN0cnVjdGlvbnMucHVzaC5hcHBseSh0aGlzLl9pbnN0cnVjdGlvbnMsYSl9LGMuX2FwcGVuZERyYXc9ZnVuY3Rpb24oYixjKXtjP3RoaXMuX2luc3RydWN0aW9ucy5wdXNoKG5ldyBhKHRoaXMuX2N0eC5zYXZlLFtdLCExKSxuZXcgYSh0aGlzLl9jdHgudHJhbnNmb3JtLGMsITEpLGIsbmV3IGEodGhpcy5fY3R4LnJlc3RvcmUsW10sITEpKTp0aGlzLl9pbnN0cnVjdGlvbnMucHVzaChiKX0sYy5fbmV3UGF0aD1mdW5jdGlvbigpe3RoaXMuX2RpcnR5JiZ0aGlzLl91cGRhdGVJbnN0cnVjdGlvbnMoKSx0aGlzLl9vbGRJbnN0cnVjdGlvbnM9dGhpcy5faW5zdHJ1Y3Rpb25zLHRoaXMuX2FjdGl2ZUluc3RydWN0aW9ucz1bXSx0aGlzLl9hY3RpdmU9dGhpcy5fZGlydHk9ITF9LGMuX3NldFByb3A9ZnVuY3Rpb24oYSxiKXt0aGlzW2FdPWJ9LGNyZWF0ZWpzLkdyYXBoaWNzPWJ9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKCl7dGhpcy5pbml0aWFsaXplKCl9LGI9YS5wcm90b3R5cGU9bmV3IGNyZWF0ZWpzLkV2ZW50RGlzcGF0Y2hlcjthLnN1cHByZXNzQ3Jvc3NEb21haW5FcnJvcnM9ITE7dmFyIGM9Y3JlYXRlanMuY3JlYXRlQ2FudmFzP2NyZWF0ZWpzLmNyZWF0ZUNhbnZhcygpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO2MuZ2V0Q29udGV4dCYmKGEuX2hpdFRlc3RDYW52YXM9YyxhLl9oaXRUZXN0Q29udGV4dD1jLmdldENvbnRleHQoIjJkIiksYy53aWR0aD1jLmhlaWdodD0xKSxhLl9uZXh0Q2FjaGVJRD0xLGIuYWxwaGE9MSxiLmNhY2hlQ2FudmFzPW51bGwsYi5pZD0tMSxiLm1vdXNlRW5hYmxlZD0hMCxiLm5hbWU9bnVsbCxiLnBhcmVudD1udWxsLGIucmVnWD0wLGIucmVnWT0wLGIucm90YXRpb249MCxiLnNjYWxlWD0xLGIuc2NhbGVZPTEsYi5za2V3WD0wLGIuc2tld1k9MCxiLnNoYWRvdz1udWxsLGIudmlzaWJsZT0hMCxiLng9MCxiLnk9MCxiLmNvbXBvc2l0ZU9wZXJhdGlvbj1udWxsLGIuc25hcFRvUGl4ZWw9ITEsYi5maWx0ZXJzPW51bGwsYi5jYWNoZUlEPTAsYi5tYXNrPW51bGwsYi5oaXRBcmVhPW51bGwsYi5jdXJzb3I9bnVsbCxiLl9jYWNoZU9mZnNldFg9MCxiLl9jYWNoZU9mZnNldFk9MCxiLl9jYWNoZVNjYWxlPTEsYi5fY2FjaGVEYXRhVVJMSUQ9MCxiLl9jYWNoZURhdGFVUkw9bnVsbCxiLl9tYXRyaXg9bnVsbCxiLl9yZWN0YW5nbGU9bnVsbCxiLl9ib3VuZHM9bnVsbCxiLmluaXRpYWxpemU9ZnVuY3Rpb24oKXt0aGlzLmlkPWNyZWF0ZWpzLlVJRC5nZXQoKSx0aGlzLl9tYXRyaXg9bmV3IGNyZWF0ZWpzLk1hdHJpeDJELHRoaXMuX3JlY3RhbmdsZT1uZXcgY3JlYXRlanMuUmVjdGFuZ2xlfSxiLmlzVmlzaWJsZT1mdW5jdGlvbigpe3JldHVybiEhKHRoaXMudmlzaWJsZSYmdGhpcy5hbHBoYT4wJiYwIT10aGlzLnNjYWxlWCYmMCE9dGhpcy5zY2FsZVkpfSxiLmRyYXc9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNhY2hlQ2FudmFzO2lmKGJ8fCFjKXJldHVybiExO3ZhciBkLGU9dGhpcy5fY2FjaGVTY2FsZSxmPXRoaXMuX2NhY2hlT2Zmc2V0WCxnPXRoaXMuX2NhY2hlT2Zmc2V0WTtyZXR1cm4oZD10aGlzLl9hcHBseUZpbHRlckJvdW5kcyhmLGcsMCwwKSkmJihmPWQueCxnPWQueSksYS5kcmF3SW1hZ2UoYyxmLGcsYy53aWR0aC9lLGMuaGVpZ2h0L2UpLCEwfSxiLnVwZGF0ZUNvbnRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzLm1hc2ssZD10aGlzO2MmJmMuZ3JhcGhpY3MmJiFjLmdyYXBoaWNzLmlzRW1wdHkoKSYmKGI9Yy5nZXRNYXRyaXgoYy5fbWF0cml4KSxhLnRyYW5zZm9ybShiLmEsYi5iLGIuYyxiLmQsYi50eCxiLnR5KSxjLmdyYXBoaWNzLmRyYXdBc1BhdGgoYSksYS5jbGlwKCksYi5pbnZlcnQoKSxhLnRyYW5zZm9ybShiLmEsYi5iLGIuYyxiLmQsYi50eCxiLnR5KSksYj1kLl9tYXRyaXguaWRlbnRpdHkoKS5hcHBlbmRUcmFuc2Zvcm0oZC54LGQueSxkLnNjYWxlWCxkLnNjYWxlWSxkLnJvdGF0aW9uLGQuc2tld1gsZC5za2V3WSxkLnJlZ1gsZC5yZWdZKSxjcmVhdGVqcy5TdGFnZS5fc25hcFRvUGl4ZWxFbmFibGVkJiZkLnNuYXBUb1BpeGVsP2EudHJhbnNmb3JtKGIuYSxiLmIsYi5jLGIuZCwwfGIudHgrLjUsMHxiLnR5Ky41KTphLnRyYW5zZm9ybShiLmEsYi5iLGIuYyxiLmQsYi50eCxiLnR5KSxhLmdsb2JhbEFscGhhKj1kLmFscGhhLGQuY29tcG9zaXRlT3BlcmF0aW9uJiYoYS5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249ZC5jb21wb3NpdGVPcGVyYXRpb24pLGQuc2hhZG93JiZ0aGlzLl9hcHBseVNoYWRvdyhhLGQuc2hhZG93KX0sYi5jYWNoZT1mdW5jdGlvbihhLGIsYyxkLGUpe2U9ZXx8MSx0aGlzLmNhY2hlQ2FudmFzfHwodGhpcy5jYWNoZUNhbnZhcz1jcmVhdGVqcy5jcmVhdGVDYW52YXM/Y3JlYXRlanMuY3JlYXRlQ2FudmFzKCk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikpLHRoaXMuX2NhY2hlV2lkdGg9Yyx0aGlzLl9jYWNoZUhlaWdodD1kLHRoaXMuX2NhY2hlT2Zmc2V0WD1hLHRoaXMuX2NhY2hlT2Zmc2V0WT1iLHRoaXMuX2NhY2hlU2NhbGU9ZSx0aGlzLnVwZGF0ZUNhY2hlKCl9LGIudXBkYXRlQ2FjaGU9ZnVuY3Rpb24oYil7dmFyIGMsZD10aGlzLmNhY2hlQ2FudmFzLGU9dGhpcy5fY2FjaGVTY2FsZSxmPXRoaXMuX2NhY2hlT2Zmc2V0WCplLGc9dGhpcy5fY2FjaGVPZmZzZXRZKmUsaD10aGlzLl9jYWNoZVdpZHRoLGk9dGhpcy5fY2FjaGVIZWlnaHQ7aWYoIWQpdGhyb3ciY2FjaGUoKSBtdXN0IGJlIGNhbGxlZCBiZWZvcmUgdXBkYXRlQ2FjaGUoKSI7dmFyIGo9ZC5nZXRDb250ZXh0KCIyZCIpOyhjPXRoaXMuX2FwcGx5RmlsdGVyQm91bmRzKGYsZyxoLGkpKSYmKGY9Yy54LGc9Yy55LGg9Yy53aWR0aCxpPWMuaGVpZ2h0KSxoPU1hdGguY2VpbChoKmUpLGk9TWF0aC5jZWlsKGkqZSksaCE9ZC53aWR0aHx8aSE9ZC5oZWlnaHQ/KGQud2lkdGg9aCxkLmhlaWdodD1pKTpifHxqLmNsZWFyUmVjdCgwLDAsaCsxLGkrMSksai5zYXZlKCksai5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249YixqLnNldFRyYW5zZm9ybShlLDAsMCxlLC1mLC1nKSx0aGlzLmRyYXcoaiwhMCksdGhpcy5fYXBwbHlGaWx0ZXJzKCksai5yZXN0b3JlKCksdGhpcy5jYWNoZUlEPWEuX25leHRDYWNoZUlEKyt9LGIudW5jYWNoZT1mdW5jdGlvbigpe3RoaXMuX2NhY2hlRGF0YVVSTD10aGlzLmNhY2hlQ2FudmFzPW51bGwsdGhpcy5jYWNoZUlEPXRoaXMuX2NhY2hlT2Zmc2V0WD10aGlzLl9jYWNoZU9mZnNldFk9MCx0aGlzLl9jYWNoZVNjYWxlPTF9LGIuZ2V0Q2FjaGVEYXRhVVJMPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FjaGVDYW52YXM/KHRoaXMuY2FjaGVJRCE9dGhpcy5fY2FjaGVEYXRhVVJMSUQmJih0aGlzLl9jYWNoZURhdGFVUkw9dGhpcy5jYWNoZUNhbnZhcy50b0RhdGFVUkwoKSksdGhpcy5fY2FjaGVEYXRhVVJMKTpudWxsfSxiLmdldFN0YWdlPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXM7YS5wYXJlbnQ7KWE9YS5wYXJlbnQ7cmV0dXJuIGEgaW5zdGFuY2VvZiBjcmVhdGVqcy5TdGFnZT9hOm51bGx9LGIubG9jYWxUb0dsb2JhbD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q29uY2F0ZW5hdGVkTWF0cml4KHRoaXMuX21hdHJpeCk7cmV0dXJuIG51bGw9PWM/bnVsbDooYy5hcHBlbmQoMSwwLDAsMSxhLGIpLG5ldyBjcmVhdGVqcy5Qb2ludChjLnR4LGMudHkpKX0sYi5nbG9iYWxUb0xvY2FsPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDb25jYXRlbmF0ZWRNYXRyaXgodGhpcy5fbWF0cml4KTtyZXR1cm4gbnVsbD09Yz9udWxsOihjLmludmVydCgpLGMuYXBwZW5kKDEsMCwwLDEsYSxiKSxuZXcgY3JlYXRlanMuUG9pbnQoYy50eCxjLnR5KSl9LGIubG9jYWxUb0xvY2FsPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmxvY2FsVG9HbG9iYWwoYSxiKTtyZXR1cm4gYy5nbG9iYWxUb0xvY2FsKGQueCxkLnkpfSxiLnNldFRyYW5zZm9ybT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsaSl7cmV0dXJuIHRoaXMueD1hfHwwLHRoaXMueT1ifHwwLHRoaXMuc2NhbGVYPW51bGw9PWM/MTpjLHRoaXMuc2NhbGVZPW51bGw9PWQ/MTpkLHRoaXMucm90YXRpb249ZXx8MCx0aGlzLnNrZXdYPWZ8fDAsdGhpcy5za2V3WT1nfHwwLHRoaXMucmVnWD1ofHwwLHRoaXMucmVnWT1pfHwwLHRoaXN9LGIuZ2V0TWF0cml4PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuKGE/YS5pZGVudGl0eSgpOm5ldyBjcmVhdGVqcy5NYXRyaXgyRCkuYXBwZW5kVHJhbnNmb3JtKGIueCxiLnksYi5zY2FsZVgsYi5zY2FsZVksYi5yb3RhdGlvbixiLnNrZXdYLGIuc2tld1ksYi5yZWdYLGIucmVnWSkuYXBwZW5kUHJvcGVydGllcyhiLmFscGhhLGIuc2hhZG93LGIuY29tcG9zaXRlT3BlcmF0aW9uKX0sYi5nZXRDb25jYXRlbmF0ZWRNYXRyaXg9ZnVuY3Rpb24oYSl7YT9hLmlkZW50aXR5KCk6YT1uZXcgY3JlYXRlanMuTWF0cml4MkQ7Zm9yKHZhciBiPXRoaXM7bnVsbCE9YjspYS5wcmVwZW5kVHJhbnNmb3JtKGIueCxiLnksYi5zY2FsZVgsYi5zY2FsZVksYi5yb3RhdGlvbixiLnNrZXdYLGIuc2tld1ksYi5yZWdYLGIucmVnWSkucHJlcGVuZFByb3BlcnRpZXMoYi5hbHBoYSxiLnNoYWRvdyxiLmNvbXBvc2l0ZU9wZXJhdGlvbiksYj1iLnBhcmVudDtyZXR1cm4gYX0sYi5oaXRUZXN0PWZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5faGl0VGVzdENvbnRleHQ7ZC5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwtYiwtYyksdGhpcy5kcmF3KGQpO3ZhciBlPXRoaXMuX3Rlc3RIaXQoZCk7cmV0dXJuIGQuc2V0VHJhbnNmb3JtKDEsMCwwLDEsMCwwKSxkLmNsZWFyUmVjdCgwLDAsMiwyKSxlfSxiLnNldD1mdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gYSl0aGlzW2JdPWFbYl07cmV0dXJuIHRoaXN9LGIuZ2V0Qm91bmRzPWZ1bmN0aW9uKCl7aWYodGhpcy5fYm91bmRzKXJldHVybiB0aGlzLl9yZWN0YW5nbGUuY29weSh0aGlzLl9ib3VuZHMpO3ZhciBhPXRoaXMuY2FjaGVDYW52YXM7aWYoYSl7dmFyIGI9dGhpcy5fY2FjaGVTY2FsZTtyZXR1cm4gdGhpcy5fcmVjdGFuZ2xlLmluaXRpYWxpemUodGhpcy5fY2FjaGVPZmZzZXRYLHRoaXMuX2NhY2hlT2Zmc2V0WSxhLndpZHRoL2IsYS5oZWlnaHQvYil9cmV0dXJuIG51bGx9LGIuZ2V0VHJhbnNmb3JtZWRCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0Qm91bmRzKCl9LGIuc2V0Qm91bmRzPWZ1bmN0aW9uKGEsYixjLGQpe251bGw9PWEmJih0aGlzLl9ib3VuZHM9YSksdGhpcy5fYm91bmRzPSh0aGlzLl9ib3VuZHN8fG5ldyBjcmVhdGVqcy5SZWN0YW5nbGUpLmluaXRpYWxpemUoYSxiLGMsZCkKfSxiLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGI9bmV3IGE7cmV0dXJuIHRoaXMuY2xvbmVQcm9wcyhiKSxifSxiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltEaXNwbGF5T2JqZWN0IChuYW1lPSIrdGhpcy5uYW1lKyIpXSJ9LGIuY2xvbmVQcm9wcz1mdW5jdGlvbihhKXthLmFscGhhPXRoaXMuYWxwaGEsYS5uYW1lPXRoaXMubmFtZSxhLnJlZ1g9dGhpcy5yZWdYLGEucmVnWT10aGlzLnJlZ1ksYS5yb3RhdGlvbj10aGlzLnJvdGF0aW9uLGEuc2NhbGVYPXRoaXMuc2NhbGVYLGEuc2NhbGVZPXRoaXMuc2NhbGVZLGEuc2hhZG93PXRoaXMuc2hhZG93LGEuc2tld1g9dGhpcy5za2V3WCxhLnNrZXdZPXRoaXMuc2tld1ksYS52aXNpYmxlPXRoaXMudmlzaWJsZSxhLng9dGhpcy54LGEueT10aGlzLnksYS5fYm91bmRzPXRoaXMuX2JvdW5kcyxhLm1vdXNlRW5hYmxlZD10aGlzLm1vdXNlRW5hYmxlZCxhLmNvbXBvc2l0ZU9wZXJhdGlvbj10aGlzLmNvbXBvc2l0ZU9wZXJhdGlvbn0sYi5fYXBwbHlTaGFkb3c9ZnVuY3Rpb24oYSxiKXtiPWJ8fFNoYWRvdy5pZGVudGl0eSxhLnNoYWRvd0NvbG9yPWIuY29sb3IsYS5zaGFkb3dPZmZzZXRYPWIub2Zmc2V0WCxhLnNoYWRvd09mZnNldFk9Yi5vZmZzZXRZLGEuc2hhZG93Qmx1cj1iLmJsdXJ9LGIuX3RpY2s9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fbGlzdGVuZXJzO2lmKGImJmIudGljayl7dmFyIGM9bmV3IGNyZWF0ZWpzLkV2ZW50KCJ0aWNrIik7Yy5wYXJhbXM9YSx0aGlzLl9kaXNwYXRjaEV2ZW50KGMsdGhpcywyKX19LGIuX3Rlc3RIaXQ9ZnVuY3Rpb24oYil7dHJ5e3ZhciBjPWIuZ2V0SW1hZ2VEYXRhKDAsMCwxLDEpLmRhdGFbM10+MX1jYXRjaChkKXtpZighYS5zdXBwcmVzc0Nyb3NzRG9tYWluRXJyb3JzKXRocm93IkFuIGVycm9yIGhhcyBvY2N1cnJlZC4gVGhpcyBpcyBtb3N0IGxpa2VseSBkdWUgdG8gc2VjdXJpdHkgcmVzdHJpY3Rpb25zIG9uIHJlYWRpbmcgY2FudmFzIHBpeGVsIGRhdGEgd2l0aCBsb2NhbCBvciBjcm9zcy1kb21haW4gaW1hZ2VzLiJ9cmV0dXJuIGN9LGIuX2FwcGx5RmlsdGVycz1mdW5jdGlvbigpe2lmKHRoaXMuZmlsdGVycyYmMCE9dGhpcy5maWx0ZXJzLmxlbmd0aCYmdGhpcy5jYWNoZUNhbnZhcylmb3IodmFyIGE9dGhpcy5maWx0ZXJzLmxlbmd0aCxiPXRoaXMuY2FjaGVDYW52YXMuZ2V0Q29udGV4dCgiMmQiKSxjPXRoaXMuY2FjaGVDYW52YXMud2lkdGgsZD10aGlzLmNhY2hlQ2FudmFzLmhlaWdodCxlPTA7YT5lO2UrKyl0aGlzLmZpbHRlcnNbZV0uYXBwbHlGaWx0ZXIoYiwwLDAsYyxkKX0sYi5fYXBwbHlGaWx0ZXJCb3VuZHM9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnPXRoaXMuZmlsdGVycztpZihnJiYoZj1nLmxlbmd0aCkpe2Zvcih2YXIgaD0wO2Y+aDtoKyspe3ZhciBpPXRoaXMuZmlsdGVyc1toXSxqPWkuZ2V0Qm91bmRzJiZpLmdldEJvdW5kcygpO2omJihlfHwoZT10aGlzLl9yZWN0YW5nbGUuaW5pdGlhbGl6ZShhLGIsYyxkKSksZS54Kz1qLngsZS55Kz1qLnksZS53aWR0aCs9ai53aWR0aCxlLmhlaWdodCs9ai5oZWlnaHQpfXJldHVybiBlfX0sYi5fZ2V0Qm91bmRzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybUJvdW5kcyh0aGlzLmdldEJvdW5kcygpLGEsYil9LGIuX3RyYW5zZm9ybUJvdW5kcz1mdW5jdGlvbihhLGIsYyl7aWYoIWEpcmV0dXJuIGE7dmFyIGQ9YS54LGU9YS55LGY9YS53aWR0aCxnPWEuaGVpZ2h0LGg9Yz90aGlzLl9tYXRyaXguaWRlbnRpdHkoKTp0aGlzLmdldE1hdHJpeCh0aGlzLl9tYXRyaXgpOyhkfHxlKSYmaC5hcHBlbmRUcmFuc2Zvcm0oMCwwLDEsMSwwLDAsMCwtZCwtZSksYiYmaC5wcmVwZW5kTWF0cml4KGIpO3ZhciBpPWYqaC5hLGo9ZipoLmIsaz1nKmguYyxsPWcqaC5kLG09aC50eCxuPWgudHksbz1tLHA9bSxxPW4scj1uO3JldHVybihkPWkrbSk8bz9vPWQ6ZD5wJiYocD1kKSwoZD1pK2srbSk8bz9vPWQ6ZD5wJiYocD1kKSwoZD1rK20pPG8/bz1kOmQ+cCYmKHA9ZCksKGU9aituKTxxP3E9ZTplPnImJihyPWUpLChlPWorbCtuKTxxP3E9ZTplPnImJihyPWUpLChlPWwrbik8cT9xPWU6ZT5yJiYocj1lKSxhLmluaXRpYWxpemUobyxxLHAtbyxyLXEpfSxjcmVhdGVqcy5EaXNwbGF5T2JqZWN0PWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKCl7dGhpcy5pbml0aWFsaXplKCl9LGI9YS5wcm90b3R5cGU9bmV3IGNyZWF0ZWpzLkRpc3BsYXlPYmplY3Q7Yi5jaGlsZHJlbj1udWxsLGIubW91c2VDaGlsZHJlbj0hMCxiLkRpc3BsYXlPYmplY3RfaW5pdGlhbGl6ZT1iLmluaXRpYWxpemUsYi5pbml0aWFsaXplPWZ1bmN0aW9uKCl7dGhpcy5EaXNwbGF5T2JqZWN0X2luaXRpYWxpemUoKSx0aGlzLmNoaWxkcmVuPVtdfSxiLmlzVmlzaWJsZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuY2FjaGVDYW52YXN8fHRoaXMuY2hpbGRyZW4ubGVuZ3RoO3JldHVybiEhKHRoaXMudmlzaWJsZSYmdGhpcy5hbHBoYT4wJiYwIT10aGlzLnNjYWxlWCYmMCE9dGhpcy5zY2FsZVkmJmEpfSxiLkRpc3BsYXlPYmplY3RfZHJhdz1iLmRyYXcsYi5kcmF3PWZ1bmN0aW9uKGEsYil7aWYodGhpcy5EaXNwbGF5T2JqZWN0X2RyYXcoYSxiKSlyZXR1cm4hMDtmb3IodmFyIGM9dGhpcy5jaGlsZHJlbi5zbGljZSgwKSxkPTAsZT1jLmxlbmd0aDtlPmQ7ZCsrKXt2YXIgZj1jW2RdO2YuaXNWaXNpYmxlKCkmJihhLnNhdmUoKSxmLnVwZGF0ZUNvbnRleHQoYSksZi5kcmF3KGEpLGEucmVzdG9yZSgpKX1yZXR1cm4hMH0sYi5hZGRDaGlsZD1mdW5jdGlvbihhKXtpZihudWxsPT1hKXJldHVybiBhO3ZhciBiPWFyZ3VtZW50cy5sZW5ndGg7aWYoYj4xKXtmb3IodmFyIGM9MDtiPmM7YysrKXRoaXMuYWRkQ2hpbGQoYXJndW1lbnRzW2NdKTtyZXR1cm4gYXJndW1lbnRzW2ItMV19cmV0dXJuIGEucGFyZW50JiZhLnBhcmVudC5yZW1vdmVDaGlsZChhKSxhLnBhcmVudD10aGlzLHRoaXMuY2hpbGRyZW4ucHVzaChhKSxhfSxiLmFkZENoaWxkQXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hcmd1bWVudHMubGVuZ3RoLGQ9YXJndW1lbnRzW2MtMV07aWYoMD5kfHxkPnRoaXMuY2hpbGRyZW4ubGVuZ3RoKXJldHVybiBhcmd1bWVudHNbYy0yXTtpZihjPjIpe2Zvcih2YXIgZT0wO2MtMT5lO2UrKyl0aGlzLmFkZENoaWxkQXQoYXJndW1lbnRzW2VdLGQrZSk7cmV0dXJuIGFyZ3VtZW50c1tjLTJdfXJldHVybiBhLnBhcmVudCYmYS5wYXJlbnQucmVtb3ZlQ2hpbGQoYSksYS5wYXJlbnQ9dGhpcyx0aGlzLmNoaWxkcmVuLnNwbGljZShiLDAsYSksYX0sYi5yZW1vdmVDaGlsZD1mdW5jdGlvbihhKXt2YXIgYj1hcmd1bWVudHMubGVuZ3RoO2lmKGI+MSl7Zm9yKHZhciBjPSEwLGQ9MDtiPmQ7ZCsrKWM9YyYmdGhpcy5yZW1vdmVDaGlsZChhcmd1bWVudHNbZF0pO3JldHVybiBjfXJldHVybiB0aGlzLnJlbW92ZUNoaWxkQXQoY3JlYXRlanMuaW5kZXhPZih0aGlzLmNoaWxkcmVuLGEpKX0sYi5yZW1vdmVDaGlsZEF0PWZ1bmN0aW9uKGEpe3ZhciBiPWFyZ3VtZW50cy5sZW5ndGg7aWYoYj4xKXtmb3IodmFyIGM9W10sZD0wO2I+ZDtkKyspY1tkXT1hcmd1bWVudHNbZF07Yy5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGItYX0pO2Zvcih2YXIgZT0hMCxkPTA7Yj5kO2QrKyllPWUmJnRoaXMucmVtb3ZlQ2hpbGRBdChjW2RdKTtyZXR1cm4gZX1pZigwPmF8fGE+dGhpcy5jaGlsZHJlbi5sZW5ndGgtMSlyZXR1cm4hMTt2YXIgZj10aGlzLmNoaWxkcmVuW2FdO3JldHVybiBmJiYoZi5wYXJlbnQ9bnVsbCksdGhpcy5jaGlsZHJlbi5zcGxpY2UoYSwxKSwhMH0sYi5yZW1vdmVBbGxDaGlsZHJlbj1mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmNoaWxkcmVuO2EubGVuZ3RoOylhLnBvcCgpLnBhcmVudD1udWxsfSxiLmdldENoaWxkQXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2hpbGRyZW5bYV19LGIuZ2V0Q2hpbGRCeU5hbWU9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuY2hpbGRyZW4sYz0wLGQ9Yi5sZW5ndGg7ZD5jO2MrKylpZihiW2NdLm5hbWU9PWEpcmV0dXJuIGJbY107cmV0dXJuIG51bGx9LGIuc29ydENoaWxkcmVuPWZ1bmN0aW9uKGEpe3RoaXMuY2hpbGRyZW4uc29ydChhKX0sYi5nZXRDaGlsZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiBjcmVhdGVqcy5pbmRleE9mKHRoaXMuY2hpbGRyZW4sYSl9LGIuZ2V0TnVtQ2hpbGRyZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGh9LGIuc3dhcENoaWxkcmVuQXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNoaWxkcmVuLGQ9Y1thXSxlPWNbYl07ZCYmZSYmKGNbYV09ZSxjW2JdPWQpfSxiLnN3YXBDaGlsZHJlbj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkLGU9dGhpcy5jaGlsZHJlbixmPTAsZz1lLmxlbmd0aDtnPmYmJihlW2ZdPT1hJiYoYz1mKSxlW2ZdPT1iJiYoZD1mKSxudWxsPT1jfHxudWxsPT1kKTtmKyspO2YhPWcmJihlW2NdPWIsZVtkXT1hKX0sYi5zZXRDaGlsZEluZGV4PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jaGlsZHJlbixkPWMubGVuZ3RoO2lmKCEoYS5wYXJlbnQhPXRoaXN8fDA+Ynx8Yj49ZCkpe2Zvcih2YXIgZT0wO2Q+ZSYmY1tlXSE9YTtlKyspO2UhPWQmJmUhPWImJihjLnNwbGljZShlLDEpLGMuc3BsaWNlKGIsMCxhKSl9fSxiLmNvbnRhaW5zPWZ1bmN0aW9uKGEpe2Zvcig7YTspe2lmKGE9PXRoaXMpcmV0dXJuITA7YT1hLnBhcmVudH1yZXR1cm4hMX0sYi5oaXRUZXN0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGwhPXRoaXMuZ2V0T2JqZWN0VW5kZXJQb2ludChhLGIpfSxiLmdldE9iamVjdHNVbmRlclBvaW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9W10sZD10aGlzLmxvY2FsVG9HbG9iYWwoYSxiKTtyZXR1cm4gdGhpcy5fZ2V0T2JqZWN0c1VuZGVyUG9pbnQoZC54LGQueSxjKSxjfSxiLmdldE9iamVjdFVuZGVyUG9pbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmxvY2FsVG9HbG9iYWwoYSxiKTtyZXR1cm4gdGhpcy5fZ2V0T2JqZWN0c1VuZGVyUG9pbnQoYy54LGMueSl9LGIuRGlzcGxheU9iamVjdF9nZXRCb3VuZHM9Yi5nZXRCb3VuZHMsYi5nZXRCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0Qm91bmRzKG51bGwsITApfSxiLmdldFRyYW5zZm9ybWVkQm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldEJvdW5kcygpfSxiLmNsb25lPWZ1bmN0aW9uKGIpe3ZhciBjPW5ldyBhO2lmKHRoaXMuY2xvbmVQcm9wcyhjKSxiKWZvcih2YXIgZD1jLmNoaWxkcmVuPVtdLGU9MCxmPXRoaXMuY2hpbGRyZW4ubGVuZ3RoO2Y+ZTtlKyspe3ZhciBnPXRoaXMuY2hpbGRyZW5bZV0uY2xvbmUoYik7Zy5wYXJlbnQ9YyxkLnB1c2goZyl9cmV0dXJuIGN9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW0NvbnRhaW5lciAobmFtZT0iK3RoaXMubmFtZSsiKV0ifSxiLkRpc3BsYXlPYmplY3RfX3RpY2s9Yi5fdGljayxiLl90aWNrPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmNoaWxkcmVuLmxlbmd0aC0xO2I+PTA7Yi0tKXt2YXIgYz10aGlzLmNoaWxkcmVuW2JdO2MuX3RpY2smJmMuX3RpY2soYSl9dGhpcy5EaXNwbGF5T2JqZWN0X190aWNrKGEpfSxiLl9nZXRPYmplY3RzVW5kZXJQb2ludD1mdW5jdGlvbihiLGMsZCxlKXtmb3IodmFyIGY9Y3JlYXRlanMuRGlzcGxheU9iamVjdC5faGl0VGVzdENvbnRleHQsZz10aGlzLl9tYXRyaXgsaD10aGlzLmNoaWxkcmVuLmxlbmd0aCxpPWgtMTtpPj0wO2ktLSl7dmFyIGo9dGhpcy5jaGlsZHJlbltpXSxrPWUmJmouaGl0QXJlYTtpZihqLnZpc2libGUmJihrfHxqLmlzVmlzaWJsZSgpKSYmKCFlfHxqLm1vdXNlRW5hYmxlZCkpaWYoIWsmJmogaW5zdGFuY2VvZiBhKXt2YXIgbD1qLl9nZXRPYmplY3RzVW5kZXJQb2ludChiLGMsZCxlKTtpZighZCYmbClyZXR1cm4gbH1lbHNle2lmKGouZ2V0Q29uY2F0ZW5hdGVkTWF0cml4KGcpLGsmJihnLmFwcGVuZFRyYW5zZm9ybShrLngsay55LGsuc2NhbGVYLGsuc2NhbGVZLGsucm90YXRpb24say5za2V3WCxrLnNrZXdZLGsucmVnWCxrLnJlZ1kpLGcuYWxwaGE9ay5hbHBoYSksZi5nbG9iYWxBbHBoYT1nLmFscGhhLGYuc2V0VHJhbnNmb3JtKGcuYSxnLmIsZy5jLGcuZCxnLnR4LWIsZy50eS1jKSwoa3x8aikuZHJhdyhmKSwhdGhpcy5fdGVzdEhpdChmKSljb250aW51ZTtpZihmLnNldFRyYW5zZm9ybSgxLDAsMCwxLDAsMCksZi5jbGVhclJlY3QoMCwwLDIsMiksIWQpcmV0dXJuIGUmJiF0aGlzLm1vdXNlQ2hpbGRyZW4/dGhpczpqO2QucHVzaChqKX19cmV0dXJuIG51bGx9LGIuX2dldEJvdW5kcz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuRGlzcGxheU9iamVjdF9nZXRCb3VuZHMoKTtpZihjKXJldHVybiB0aGlzLl90cmFuc2Zvcm1Cb3VuZHMoYyxhLGIpO3ZhciBkLGUsZixnLGg9Yj90aGlzLl9tYXRyaXguaWRlbnRpdHkoKTp0aGlzLmdldE1hdHJpeCh0aGlzLl9tYXRyaXgpO2EmJmgucHJlcGVuZE1hdHJpeChhKTtmb3IodmFyIGk9dGhpcy5jaGlsZHJlbi5sZW5ndGgsaj0wO2k+ajtqKyspe3ZhciBrPXRoaXMuY2hpbGRyZW5bal07aWYoay52aXNpYmxlJiYoYz1rLl9nZXRCb3VuZHMoaCkpKXt2YXIgbD1jLngsbT1jLnksbj1sK2Mud2lkdGgsbz1tK2MuaGVpZ2h0OyhkPmx8fG51bGw9PWQpJiYoZD1sKSwobj5lfHxudWxsPT1lKSYmKGU9biksKGY+bXx8bnVsbD09ZikmJihmPW0pLChvPmd8fG51bGw9PWcpJiYoZz1vKX19cmV0dXJuIG51bGw9PWU/bnVsbDp0aGlzLl9yZWN0YW5nbGUuaW5pdGlhbGl6ZShkLGYsZS1kLGctZil9LGNyZWF0ZWpzLkNvbnRhaW5lcj1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9ZnVuY3Rpb24oYSl7dGhpcy5pbml0aWFsaXplKGEpfSxiPWEucHJvdG90eXBlPW5ldyBjcmVhdGVqcy5Db250YWluZXI7YS5fc25hcFRvUGl4ZWxFbmFibGVkPSExLGIuYXV0b0NsZWFyPSEwLGIuY2FudmFzPW51bGwsYi5tb3VzZVg9MCxiLm1vdXNlWT0wLGIuc25hcFRvUGl4ZWxFbmFibGVkPSExLGIubW91c2VJbkJvdW5kcz0hMSxiLnRpY2tPblVwZGF0ZT0hMCxiLm1vdXNlTW92ZU91dHNpZGU9ITEsYi5uZXh0U3RhZ2U9bnVsbCxiLl9wb2ludGVyRGF0YT1udWxsLGIuX3BvaW50ZXJDb3VudD0wLGIuX3ByaW1hcnlQb2ludGVySUQ9bnVsbCxiLl9tb3VzZU92ZXJJbnRlcnZhbElEPW51bGwsYi5Db250YWluZXJfaW5pdGlhbGl6ZT1iLmluaXRpYWxpemUsYi5pbml0aWFsaXplPWZ1bmN0aW9uKGEpe3RoaXMuQ29udGFpbmVyX2luaXRpYWxpemUoKSx0aGlzLmNhbnZhcz0ic3RyaW5nIj09dHlwZW9mIGE/ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSk6YSx0aGlzLl9wb2ludGVyRGF0YT17fSx0aGlzLmVuYWJsZURPTUV2ZW50cyghMCl9LGIudXBkYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5jYW52YXMpe3RoaXMudGlja09uVXBkYXRlJiYodGhpcy5kaXNwYXRjaEV2ZW50KCJ0aWNrc3RhcnQiKSx0aGlzLl90aWNrKGFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzOm51bGwpLHRoaXMuZGlzcGF0Y2hFdmVudCgidGlja2VuZCIpKSx0aGlzLmRpc3BhdGNoRXZlbnQoImRyYXdzdGFydCIpLGEuX3NuYXBUb1BpeGVsRW5hYmxlZD10aGlzLnNuYXBUb1BpeGVsRW5hYmxlZCx0aGlzLmF1dG9DbGVhciYmdGhpcy5jbGVhcigpO3ZhciBiPXRoaXMuY2FudmFzLmdldENvbnRleHQoIjJkIik7Yi5zYXZlKCksdGhpcy51cGRhdGVDb250ZXh0KGIpLHRoaXMuZHJhdyhiLCExKSxiLnJlc3RvcmUoKSx0aGlzLmRpc3BhdGNoRXZlbnQoImRyYXdlbmQiKX19LGIuaGFuZGxlRXZlbnQ9ZnVuY3Rpb24oYSl7InRpY2siPT1hLnR5cGUmJnRoaXMudXBkYXRlKGEpfSxiLmNsZWFyPWZ1bmN0aW9uKCl7aWYodGhpcy5jYW52YXMpe3ZhciBhPXRoaXMuY2FudmFzLmdldENvbnRleHQoIjJkIik7YS5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApLGEuY2xlYXJSZWN0KDAsMCx0aGlzLmNhbnZhcy53aWR0aCsxLHRoaXMuY2FudmFzLmhlaWdodCsxKX19LGIudG9EYXRhVVJMPWZ1bmN0aW9uKGEsYil7Ynx8KGI9ImltYWdlL3BuZyIpO3ZhciBjLGQ9dGhpcy5jYW52YXMuZ2V0Q29udGV4dCgiMmQiKSxlPXRoaXMuY2FudmFzLndpZHRoLGY9dGhpcy5jYW52YXMuaGVpZ2h0O2lmKGEpe2M9ZC5nZXRJbWFnZURhdGEoMCwwLGUsZik7dmFyIGc9ZC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb247ZC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249ImRlc3RpbmF0aW9uLW92ZXIiLGQuZmlsbFN0eWxlPWEsZC5maWxsUmVjdCgwLDAsZSxmKX12YXIgaD10aGlzLmNhbnZhcy50b0RhdGFVUkwoYik7cmV0dXJuIGEmJihkLmNsZWFyUmVjdCgwLDAsZSsxLGYrMSksZC5wdXRJbWFnZURhdGEoYywwLDApLGQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPWcpLGh9LGIuZW5hYmxlTW91c2VPdmVyPWZ1bmN0aW9uKGEpe2lmKHRoaXMuX21vdXNlT3ZlckludGVydmFsSUQmJihjbGVhckludGVydmFsKHRoaXMuX21vdXNlT3ZlckludGVydmFsSUQpLHRoaXMuX21vdXNlT3ZlckludGVydmFsSUQ9bnVsbCwwPT1hJiZ0aGlzLl90ZXN0TW91c2VPdmVyKCEwKSksbnVsbD09YSlhPTIwO2Vsc2UgaWYoMD49YSlyZXR1cm47dmFyIGI9dGhpczt0aGlzLl9tb3VzZU92ZXJJbnRlcnZhbElEPXNldEludGVydmFsKGZ1bmN0aW9uKCl7Yi5fdGVzdE1vdXNlT3ZlcigpfSwxZTMvTWF0aC5taW4oNTAsYSkpfSxiLmVuYWJsZURPTUV2ZW50cz1mdW5jdGlvbihhKXtudWxsPT1hJiYoYT0hMCk7dmFyIGIsYyxkPXRoaXMuX2V2ZW50TGlzdGVuZXJzO2lmKCFhJiZkKXtmb3IoYiBpbiBkKWM9ZFtiXSxjLnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGMuZiwhMSk7dGhpcy5fZXZlbnRMaXN0ZW5lcnM9bnVsbH1lbHNlIGlmKGEmJiFkJiZ0aGlzLmNhbnZhcyl7dmFyIGU9d2luZG93LmFkZEV2ZW50TGlzdGVuZXI/d2luZG93OmRvY3VtZW50LGY9dGhpcztkPXRoaXMuX2V2ZW50TGlzdGVuZXJzPXt9LGQubW91c2V1cD17dDplLGY6ZnVuY3Rpb24oYSl7Zi5faGFuZGxlTW91c2VVcChhKX19LGQubW91c2Vtb3ZlPXt0OmUsZjpmdW5jdGlvbihhKXtmLl9oYW5kbGVNb3VzZU1vdmUoYSl9fSxkLmRibGNsaWNrPXt0OmUsZjpmdW5jdGlvbihhKXtmLl9oYW5kbGVEb3VibGVDbGljayhhKX19LGQubW91c2Vkb3duPXt0OnRoaXMuY2FudmFzLGY6ZnVuY3Rpb24oYSl7Zi5faGFuZGxlTW91c2VEb3duKGEpfX07Zm9yKGIgaW4gZCljPWRbYl0sYy50LmFkZEV2ZW50TGlzdGVuZXIoYixjLmYsITEpfX0sYi5jbG9uZT1mdW5jdGlvbigpe3ZhciBiPW5ldyBhKG51bGwpO3JldHVybiB0aGlzLmNsb25lUHJvcHMoYiksYn0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbU3RhZ2UgKG5hbWU9Iit0aGlzLm5hbWUrIildIn0sYi5fZ2V0RWxlbWVudFJlY3Q9ZnVuY3Rpb24oYSl7dmFyIGI7dHJ5e2I9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX1jYXRjaChjKXtiPXt0b3A6YS5vZmZzZXRUb3AsbGVmdDphLm9mZnNldExlZnQsd2lkdGg6YS5vZmZzZXRXaWR0aCxoZWlnaHQ6YS5vZmZzZXRIZWlnaHR9fXZhciBkPSh3aW5kb3cucGFnZVhPZmZzZXR8fGRvY3VtZW50LnNjcm9sbExlZnR8fDApLShkb2N1bWVudC5jbGllbnRMZWZ0fHxkb2N1bWVudC5ib2R5LmNsaWVudExlZnR8fDApLGU9KHdpbmRvdy5wYWdlWU9mZnNldHx8ZG9jdW1lbnQuc2Nyb2xsVG9wfHwwKS0oZG9jdW1lbnQuY2xpZW50VG9wfHxkb2N1bWVudC5ib2R5LmNsaWVudFRvcHx8MCksZj13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZT9nZXRDb21wdXRlZFN0eWxlKGEpOmEuY3VycmVudFN0eWxlLGc9cGFyc2VJbnQoZi5wYWRkaW5nTGVmdCkrcGFyc2VJbnQoZi5ib3JkZXJMZWZ0V2lkdGgpLGg9cGFyc2VJbnQoZi5wYWRkaW5nVG9wKStwYXJzZUludChmLmJvcmRlclRvcFdpZHRoKSxpPXBhcnNlSW50KGYucGFkZGluZ1JpZ2h0KStwYXJzZUludChmLmJvcmRlclJpZ2h0V2lkdGgpLGo9cGFyc2VJbnQoZi5wYWRkaW5nQm90dG9tKStwYXJzZUludChmLmJvcmRlckJvdHRvbVdpZHRoKTtyZXR1cm57bGVmdDpiLmxlZnQrZCtnLHJpZ2h0OmIucmlnaHQrZC1pLHRvcDpiLnRvcCtlK2gsYm90dG9tOmIuYm90dG9tK2Utan19LGIuX2dldFBvaW50ZXJEYXRhPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX3BvaW50ZXJEYXRhW2FdO3JldHVybiBifHwoYj10aGlzLl9wb2ludGVyRGF0YVthXT17eDowLHk6MH0sbnVsbD09dGhpcy5fcHJpbWFyeVBvaW50ZXJJRCYmKHRoaXMuX3ByaW1hcnlQb2ludGVySUQ9YSkpLGJ9LGIuX2hhbmRsZU1vdXNlTW92ZT1mdW5jdGlvbihhKXthfHwoYT13aW5kb3cuZXZlbnQpLHRoaXMuX2hhbmRsZVBvaW50ZXJNb3ZlKC0xLGEsYS5wYWdlWCxhLnBhZ2VZKX0sYi5faGFuZGxlUG9pbnRlck1vdmU9ZnVuY3Rpb24oYSxiLGMsZCl7aWYodGhpcy5jYW52YXMpe3ZhciBlPXRoaXMuX2dldFBvaW50ZXJEYXRhKGEpLGY9ZS5pbkJvdW5kcztpZih0aGlzLl91cGRhdGVQb2ludGVyUG9zaXRpb24oYSxiLGMsZCksZnx8ZS5pbkJvdW5kc3x8dGhpcy5tb3VzZU1vdmVPdXRzaWRlKXstMT09YSYmZS5pbkJvdW5kcz09IWYmJnRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudCh0aGlzLGY/Im1vdXNlbGVhdmUiOiJtb3VzZWVudGVyIiwhMSxhLGUsYiksdGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KHRoaXMsInN0YWdlbW91c2Vtb3ZlIiwhMSxhLGUsYiksdGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KGUudGFyZ2V0LCJwcmVzc21vdmUiLCEwLGEsZSxiKTt2YXIgZz1lLmV2ZW50O2cmJmcuaGFzRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIikmJmcuZGlzcGF0Y2hFdmVudChuZXcgY3JlYXRlanMuTW91c2VFdmVudCgibW91c2Vtb3ZlIiwhMSwhMSxlLngsZS55LGIsYSxhPT10aGlzLl9wcmltYXJ5UG9pbnRlcklELGUucmF3WCxlLnJhd1kpLG9UYXJnZXQpLHRoaXMubmV4dFN0YWdlJiZ0aGlzLm5leHRTdGFnZS5faGFuZGxlUG9pbnRlck1vdmUoYSxiLGMsZCl9fX0sYi5fdXBkYXRlUG9pbnRlclBvc2l0aW9uPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuX2dldEVsZW1lbnRSZWN0KHRoaXMuY2FudmFzKTtjLT1lLmxlZnQsZC09ZS50b3A7dmFyIGY9dGhpcy5jYW52YXMud2lkdGgsZz10aGlzLmNhbnZhcy5oZWlnaHQ7Yy89KGUucmlnaHQtZS5sZWZ0KS9mLGQvPShlLmJvdHRvbS1lLnRvcCkvZzt2YXIgaD10aGlzLl9nZXRQb2ludGVyRGF0YShhKTsoaC5pbkJvdW5kcz1jPj0wJiZkPj0wJiZmLTE+PWMmJmctMT49ZCk/KGgueD1jLGgueT1kKTp0aGlzLm1vdXNlTW92ZU91dHNpZGUmJihoLng9MD5jPzA6Yz5mLTE/Zi0xOmMsaC55PTA+ZD8wOmQ+Zy0xP2ctMTpkKSxoLnBvc0V2dE9iaj1iLGgucmF3WD1jLGgucmF3WT1kLGE9PXRoaXMuX3ByaW1hcnlQb2ludGVySUQmJih0aGlzLm1vdXNlWD1oLngsdGhpcy5tb3VzZVk9aC55LHRoaXMubW91c2VJbkJvdW5kcz1oLmluQm91bmRzKX0sYi5faGFuZGxlTW91c2VVcD1mdW5jdGlvbihhKXt0aGlzLl9oYW5kbGVQb2ludGVyVXAoLTEsYSwhMSl9LGIuX2hhbmRsZVBvaW50ZXJVcD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5fZ2V0UG9pbnRlckRhdGEoYSk7dGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KHRoaXMsInN0YWdlbW91c2V1cCIsITEsYSxkLGIpO3ZhciBlPWQudGFyZ2V0O2UmJih0aGlzLl9nZXRPYmplY3RzVW5kZXJQb2ludChkLngsZC55LG51bGwsITApPT1lJiZ0aGlzLl9kaXNwYXRjaE1vdXNlRXZlbnQoZSwiY2xpY2siLCEwLGEsZCxiKSx0aGlzLl9kaXNwYXRjaE1vdXNlRXZlbnQoZSwicHJlc3N1cCIsITAsYSxkLGIpKTt2YXIgZj1kLmV2ZW50O2YmJmYuaGFzRXZlbnRMaXN0ZW5lcigibW91c2V1cCIpJiZmLmRpc3BhdGNoRXZlbnQobmV3IGNyZWF0ZWpzLk1vdXNlRXZlbnQoIm1vdXNldXAiLCExLCExLGQueCxkLnksYixhLGE9PXRoaXMuX3ByaW1hcnlQb2ludGVySUQsZC5yYXdYLGQucmF3WSksZSksYz8oYT09dGhpcy5fcHJpbWFyeVBvaW50ZXJJRCYmKHRoaXMuX3ByaW1hcnlQb2ludGVySUQ9bnVsbCksZGVsZXRlIHRoaXMuX3BvaW50ZXJEYXRhW2FdKTpkLmV2ZW50PWQudGFyZ2V0PW51bGwsdGhpcy5uZXh0U3RhZ2UmJnRoaXMubmV4dFN0YWdlLl9oYW5kbGVQb2ludGVyVXAoYSxiLGMpfSxiLl9oYW5kbGVNb3VzZURvd249ZnVuY3Rpb24oYSl7dGhpcy5faGFuZGxlUG9pbnRlckRvd24oLTEsYSl9LGIuX2hhbmRsZVBvaW50ZXJEb3duPWZ1bmN0aW9uKGEsYixjLGQpe251bGwhPWQmJnRoaXMuX3VwZGF0ZVBvaW50ZXJQb3NpdGlvbihhLGIsYyxkKTt2YXIgZT10aGlzLl9nZXRQb2ludGVyRGF0YShhKTt0aGlzLl9kaXNwYXRjaE1vdXNlRXZlbnQodGhpcywic3RhZ2Vtb3VzZWRvd24iLCExLGEsZSxiKSxlLnRhcmdldD10aGlzLl9nZXRPYmplY3RzVW5kZXJQb2ludChlLngsZS55LG51bGwsITApLHRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudChlLnRhcmdldCwibW91c2Vkb3duIiwhMCxhLGUsYiksdGhpcy5uZXh0U3RhZ2UmJnRoaXMubmV4dFN0YWdlLl9oYW5kbGVQb2ludGVyRG93bihhLGIsYyxkKX0sYi5fdGVzdE1vdXNlT3Zlcj1mdW5jdGlvbihhKXtpZigtMT09dGhpcy5fcHJpbWFyeVBvaW50ZXJJRCYmKGF8fHRoaXMubW91c2VYIT10aGlzLl9tb3VzZU92ZXJYfHx0aGlzLm1vdXNlWSE9dGhpcy5fbW91c2VPdmVyWXx8IXRoaXMubW91c2VJbkJvdW5kcykpe3ZhciBiLGMsZCxlLGY9dGhpcy5fZ2V0UG9pbnRlckRhdGEoLTEpLGc9Zi5wb3NFdnRPYmosaD0tMSxpPSIiOyhhfHx0aGlzLm1vdXNlSW5Cb3VuZHMmJmcmJmcudGFyZ2V0PT10aGlzLmNhbnZhcykmJihiPXRoaXMuX2dldE9iamVjdHNVbmRlclBvaW50KHRoaXMubW91c2VYLHRoaXMubW91c2VZLG51bGwsITApLHRoaXMuX21vdXNlT3Zlclg9dGhpcy5tb3VzZVgsdGhpcy5fbW91c2VPdmVyWT10aGlzLm1vdXNlWSk7dmFyIGo9dGhpcy5fbW91c2VPdmVyVGFyZ2V0fHxbXSxrPWpbai5sZW5ndGgtMV0sbD10aGlzLl9tb3VzZU92ZXJUYXJnZXQ9W107Zm9yKGM9YjtjOylsLnVuc2hpZnQoYyksbnVsbCE9Yy5jdXJzb3ImJihpPWMuY3Vyc29yKSxjPWMucGFyZW50O2Zvcih0aGlzLmNhbnZhcy5zdHlsZS5jdXJzb3I9aSxkPTAsZT1sLmxlbmd0aDtlPmQmJmxbZF09PWpbZF07ZCsrKWg9ZDtmb3IoayE9YiYmdGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KGssIm1vdXNlb3V0IiwhMCwtMSxmLGcpLGQ9ai5sZW5ndGgtMTtkPmg7ZC0tKXRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudChqW2RdLCJyb2xsb3V0IiwhMSwtMSxmLGcpO2ZvcihkPWwubGVuZ3RoLTE7ZD5oO2QtLSl0aGlzLl9kaXNwYXRjaE1vdXNlRXZlbnQobFtkXSwicm9sbG92ZXIiLCExLC0xLGYsZyk7ayE9YiYmdGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KGIsIm1vdXNlb3ZlciIsITAsLTEsZixnKX19LGIuX2hhbmRsZURvdWJsZUNsaWNrPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX2dldFBvaW50ZXJEYXRhKC0xKSxjPXRoaXMuX2dldE9iamVjdHNVbmRlclBvaW50KGIueCxiLnksbnVsbCwhMCk7dGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KGMsImRibGNsaWNrIiwhMCwtMSxiLGEpLHRoaXMubmV4dFN0YWdlJiZ0aGlzLm5leHRTdGFnZS5faGFuZGxlRG91YmxlQ2xpY2soYSl9LGIuX2Rpc3BhdGNoTW91c2VFdmVudD1mdW5jdGlvbihhLGIsYyxkLGUsZil7aWYoYSYmKGN8fGEuaGFzRXZlbnRMaXN0ZW5lcihiKSkpe3ZhciBnPW5ldyBjcmVhdGVqcy5Nb3VzZUV2ZW50KGIsYywhMSxlLngsZS55LGYsZCxkPT10aGlzLl9wcmltYXJ5UG9pbnRlcklELGUucmF3WCxlLnJhd1kpO2EuZGlzcGF0Y2hFdmVudChnKX19LGNyZWF0ZWpzLlN0YWdlPWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEpe3RoaXMuaW5pdGlhbGl6ZShhKX0sYj1hLnByb3RvdHlwZT1uZXcgY3JlYXRlanMuRGlzcGxheU9iamVjdDtiLmltYWdlPW51bGwsYi5zbmFwVG9QaXhlbD0hMCxiLnNvdXJjZVJlY3Q9bnVsbCxiLkRpc3BsYXlPYmplY3RfaW5pdGlhbGl6ZT1iLmluaXRpYWxpemUsYi5pbml0aWFsaXplPWZ1bmN0aW9uKGEpe3RoaXMuRGlzcGxheU9iamVjdF9pbml0aWFsaXplKCksInN0cmluZyI9PXR5cGVvZiBhPyh0aGlzLmltYWdlPW5ldyBJbWFnZSx0aGlzLmltYWdlLnNyYz1hKTp0aGlzLmltYWdlPWF9LGIuaXNWaXNpYmxlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jYWNoZUNhbnZhc3x8dGhpcy5pbWFnZSYmKHRoaXMuaW1hZ2UuY29tcGxldGV8fHRoaXMuaW1hZ2UuZ2V0Q29udGV4dHx8dGhpcy5pbWFnZS5yZWFkeVN0YXRlPj0yKTtyZXR1cm4hISh0aGlzLnZpc2libGUmJnRoaXMuYWxwaGE+MCYmMCE9dGhpcy5zY2FsZVgmJjAhPXRoaXMuc2NhbGVZJiZhKX0sYi5EaXNwbGF5T2JqZWN0X2RyYXc9Yi5kcmF3LGIuZHJhdz1mdW5jdGlvbihhLGIpe2lmKHRoaXMuRGlzcGxheU9iamVjdF9kcmF3KGEsYikpcmV0dXJuITA7dmFyIGM9dGhpcy5zb3VyY2VSZWN0O3JldHVybiBjP2EuZHJhd0ltYWdlKHRoaXMuaW1hZ2UsYy54LGMueSxjLndpZHRoLGMuaGVpZ2h0LDAsMCxjLndpZHRoLGMuaGVpZ2h0KTphLmRyYXdJbWFnZSh0aGlzLmltYWdlLDAsMCksITB9LGIuRGlzcGxheU9iamVjdF9nZXRCb3VuZHM9Yi5nZXRCb3VuZHMsYi5nZXRCb3VuZHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLkRpc3BsYXlPYmplY3RfZ2V0Qm91bmRzKCk7aWYoYSlyZXR1cm4gYTt2YXIgYj10aGlzLnNvdXJjZVJlY3R8fHRoaXMuaW1hZ2UsYz10aGlzLmltYWdlJiYodGhpcy5pbWFnZS5jb21wbGV0ZXx8dGhpcy5pbWFnZS5nZXRDb250ZXh0fHx0aGlzLmltYWdlLnJlYWR5U3RhdGU+PTIpO3JldHVybiBjP3RoaXMuX3JlY3RhbmdsZS5pbml0aWFsaXplKDAsMCxiLndpZHRoLGIuaGVpZ2h0KTpudWxsfSxiLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGI9bmV3IGEodGhpcy5pbWFnZSk7cmV0dXJuIHRoaXMuc291cmNlUmVjdCYmKGIuc291cmNlUmVjdD10aGlzLnNvdXJjZVJlY3QuY2xvbmUoKSksdGhpcy5jbG9uZVByb3BzKGIpLGJ9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW0JpdG1hcCAobmFtZT0iK3RoaXMubmFtZSsiKV0ifSxjcmVhdGVqcy5CaXRtYXA9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKGEsYil7dGhpcy5pbml0aWFsaXplKGEsYil9LGI9YS5wcm90b3R5cGU9bmV3IGNyZWF0ZWpzLkRpc3BsYXlPYmplY3Q7Yi5jdXJyZW50RnJhbWU9MCxiLmN1cnJlbnRBbmltYXRpb249bnVsbCxiLnBhdXNlZD0hMCxiLnNwcml0ZVNoZWV0PW51bGwsYi5zbmFwVG9QaXhlbD0hMCxiLm9mZnNldD0wLGIuY3VycmVudEFuaW1hdGlvbkZyYW1lPTAsYi5mcmFtZXJhdGU9MCxiLl9hZHZhbmNlQ291bnQ9MCxiLl9hbmltYXRpb249bnVsbCxiLl9jdXJyZW50RnJhbWU9bnVsbCxiLkRpc3BsYXlPYmplY3RfaW5pdGlhbGl6ZT1iLmluaXRpYWxpemUsYi5pbml0aWFsaXplPWZ1bmN0aW9uKGEsYil7dGhpcy5EaXNwbGF5T2JqZWN0X2luaXRpYWxpemUoKSx0aGlzLnNwcml0ZVNoZWV0PWEsYiYmdGhpcy5nb3RvQW5kUGxheShiKX0sYi5pc1Zpc2libGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNhY2hlQ2FudmFzfHx0aGlzLnNwcml0ZVNoZWV0LmNvbXBsZXRlO3JldHVybiEhKHRoaXMudmlzaWJsZSYmdGhpcy5hbHBoYT4wJiYwIT10aGlzLnNjYWxlWCYmMCE9dGhpcy5zY2FsZVkmJmEpfSxiLkRpc3BsYXlPYmplY3RfZHJhdz1iLmRyYXcsYi5kcmF3PWZ1bmN0aW9uKGEsYil7aWYodGhpcy5EaXNwbGF5T2JqZWN0X2RyYXcoYSxiKSlyZXR1cm4hMDt0aGlzLl9ub3JtYWxpemVGcmFtZSgpO3ZhciBjPXRoaXMuc3ByaXRlU2hlZXQuZ2V0RnJhbWUoMHx0aGlzLl9jdXJyZW50RnJhbWUpO2lmKCFjKXJldHVybiExO3ZhciBkPWMucmVjdDtyZXR1cm4gYS5kcmF3SW1hZ2UoYy5pbWFnZSxkLngsZC55LGQud2lkdGgsZC5oZWlnaHQsLWMucmVnWCwtYy5yZWdZLGQud2lkdGgsZC5oZWlnaHQpLCEwfSxiLnBsYXk9ZnVuY3Rpb24oKXt0aGlzLnBhdXNlZD0hMX0sYi5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5wYXVzZWQ9ITB9LGIuZ290b0FuZFBsYXk9ZnVuY3Rpb24oYSl7dGhpcy5wYXVzZWQ9ITEsdGhpcy5fZ290byhhKX0sYi5nb3RvQW5kU3RvcD1mdW5jdGlvbihhKXt0aGlzLnBhdXNlZD0hMCx0aGlzLl9nb3RvKGEpfSxiLmFkdmFuY2U9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fYW5pbWF0aW9uJiZ0aGlzLl9hbmltYXRpb24uc3BlZWR8fDEsYz10aGlzLmZyYW1lcmF0ZXx8dGhpcy5zcHJpdGVTaGVldC5mcmFtZXJhdGUsZD1jJiZudWxsIT1hP2EvKDFlMy9jKToxO3RoaXMuX2FuaW1hdGlvbj90aGlzLmN1cnJlbnRBbmltYXRpb25GcmFtZSs9ZCpiOnRoaXMuX2N1cnJlbnRGcmFtZSs9ZCpiLHRoaXMuX25vcm1hbGl6ZUZyYW1lKCl9LGIuRGlzcGxheU9iamVjdF9nZXRCb3VuZHM9Yi5nZXRCb3VuZHMsYi5nZXRCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5EaXNwbGF5T2JqZWN0X2dldEJvdW5kcygpfHx0aGlzLnNwcml0ZVNoZWV0LmdldEZyYW1lQm91bmRzKHRoaXMuY3VycmVudEZyYW1lLHRoaXMuX3JlY3RhbmdsZSl9LGIuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYj1uZXcgYSh0aGlzLnNwcml0ZVNoZWV0KTtyZXR1cm4gdGhpcy5jbG9uZVByb3BzKGIpLGJ9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW1Nwcml0ZSAobmFtZT0iK3RoaXMubmFtZSsiKV0ifSxiLkRpc3BsYXlPYmplY3RfX3RpY2s9Yi5fdGljayxiLl90aWNrPWZ1bmN0aW9uKGEpe3RoaXMucGF1c2VkfHx0aGlzLmFkdmFuY2UoYSYmYVswXSYmYVswXS5kZWx0YSksdGhpcy5EaXNwbGF5T2JqZWN0X190aWNrKGEpfSxiLl9ub3JtYWxpemVGcmFtZT1mdW5jdGlvbigpe3ZhciBhLGI9dGhpcy5fYW5pbWF0aW9uLGM9dGhpcy5wYXVzZWQsZD10aGlzLl9jdXJyZW50RnJhbWUsZT10aGlzLmN1cnJlbnRBbmltYXRpb25GcmFtZTtpZihiKWlmKGE9Yi5mcmFtZXMubGVuZ3RoLCgwfGUpPj1hKXt2YXIgZj1iLm5leHQ7aWYodGhpcy5fZGlzcGF0Y2hBbmltYXRpb25FbmQoYixkLGMsZixhLTEpKTtlbHNle2lmKGYpcmV0dXJuIHRoaXMuX2dvdG8oZixlLWEpO3RoaXMucGF1c2VkPSEwLGU9dGhpcy5jdXJyZW50QW5pbWF0aW9uRnJhbWU9Yi5mcmFtZXMubGVuZ3RoLTEsdGhpcy5fY3VycmVudEZyYW1lPWIuZnJhbWVzW2VdfX1lbHNlIHRoaXMuX2N1cnJlbnRGcmFtZT1iLmZyYW1lc1swfGVdO2Vsc2UgaWYoYT10aGlzLnNwcml0ZVNoZWV0LmdldE51bUZyYW1lcygpLGQ+PWEmJiF0aGlzLl9kaXNwYXRjaEFuaW1hdGlvbkVuZChiLGQsYyxhLTEpJiYodGhpcy5fY3VycmVudEZyYW1lLT1hKT49YSlyZXR1cm4gdGhpcy5fbm9ybWFsaXplRnJhbWUoKTt0aGlzLmN1cnJlbnRGcmFtZT0wfHRoaXMuX2N1cnJlbnRGcmFtZX0sYi5fZGlzcGF0Y2hBbmltYXRpb25FbmQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1hP2EubmFtZTpudWxsO2lmKHRoaXMuaGFzRXZlbnRMaXN0ZW5lcigiYW5pbWF0aW9uZW5kIikpe3ZhciBnPW5ldyBjcmVhdGVqcy5FdmVudCgiYW5pbWF0aW9uZW5kIik7Zy5uYW1lPWYsZy5uZXh0PWQsdGhpcy5kaXNwYXRjaEV2ZW50KGcpfXJldHVybiFjJiZ0aGlzLnBhdXNlZCYmKHRoaXMuY3VycmVudEFuaW1hdGlvbkZyYW1lPWUpLHRoaXMucGF1c2VkIT1jfHx0aGlzLl9hbmltYXRpb24hPWF8fHRoaXMuX2N1cnJlbnRGcmFtZSE9Yn0sYi5EaXNwbGF5T2JqZWN0X2Nsb25lUHJvcHM9Yi5jbG9uZVByb3BzLGIuY2xvbmVQcm9wcz1mdW5jdGlvbihhKXt0aGlzLkRpc3BsYXlPYmplY3RfY2xvbmVQcm9wcyhhKSxhLmN1cnJlbnRGcmFtZT10aGlzLmN1cnJlbnRGcmFtZSxhLl9jdXJyZW50RnJhbWU9dGhpcy5fY3VycmVudEZyYW1lLGEuY3VycmVudEFuaW1hdGlvbj10aGlzLmN1cnJlbnRBbmltYXRpb24sYS5wYXVzZWQ9dGhpcy5wYXVzZWQsYS5fYW5pbWF0aW9uPXRoaXMuX2FuaW1hdGlvbixhLmN1cnJlbnRBbmltYXRpb25GcmFtZT10aGlzLmN1cnJlbnRBbmltYXRpb25GcmFtZSxhLmZyYW1lcmF0ZT10aGlzLmZyYW1lcmF0ZX0sYi5fZ290bz1mdW5jdGlvbihhLGIpe2lmKGlzTmFOKGEpKXt2YXIgYz10aGlzLnNwcml0ZVNoZWV0LmdldEFuaW1hdGlvbihhKTtjJiYodGhpcy5jdXJyZW50QW5pbWF0aW9uRnJhbWU9Ynx8MCx0aGlzLl9hbmltYXRpb249Yyx0aGlzLmN1cnJlbnRBbmltYXRpb249YSx0aGlzLl9ub3JtYWxpemVGcmFtZSgpKX1lbHNlIHRoaXMuY3VycmVudEFuaW1hdGlvbkZyYW1lPTAsdGhpcy5jdXJyZW50QW5pbWF0aW9uPXRoaXMuX2FuaW1hdGlvbj1udWxsLHRoaXMuX2N1cnJlbnRGcmFtZT1hLHRoaXMuX25vcm1hbGl6ZUZyYW1lKCl9LGNyZWF0ZWpzLlNwcml0ZT1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9IkJpdG1hcEFuaW1hdGlvbiBpcyBkZXByZWNhdGVkIGluIGZhdm91ciBvZiBTcHJpdGUuIFNlZSBWRVJTSU9OUyBmaWxlIGZvciBpbmZvIG9uIGNoYW5nZXMuIjtpZighY3JlYXRlanMuU3ByaXRlKXRocm93IGE7KGNyZWF0ZWpzLkJpdG1hcEFuaW1hdGlvbj1mdW5jdGlvbihiKXtjb25zb2xlLmxvZyhhKSx0aGlzLmluaXRpYWxpemUoYil9KS5wcm90b3R5cGU9bmV3IGNyZWF0ZWpzLlNwcml0ZX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKGEpe3RoaXMuaW5pdGlhbGl6ZShhKX0sYj1hLnByb3RvdHlwZT1uZXcgY3JlYXRlanMuRGlzcGxheU9iamVjdDtiLmdyYXBoaWNzPW51bGwsYi5EaXNwbGF5T2JqZWN0X2luaXRpYWxpemU9Yi5pbml0aWFsaXplLGIuaW5pdGlhbGl6ZT1mdW5jdGlvbihhKXt0aGlzLkRpc3BsYXlPYmplY3RfaW5pdGlhbGl6ZSgpLHRoaXMuZ3JhcGhpY3M9YT9hOm5ldyBjcmVhdGVqcy5HcmFwaGljc30sYi5pc1Zpc2libGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNhY2hlQ2FudmFzfHx0aGlzLmdyYXBoaWNzJiYhdGhpcy5ncmFwaGljcy5pc0VtcHR5KCk7cmV0dXJuISEodGhpcy52aXNpYmxlJiZ0aGlzLmFscGhhPjAmJjAhPXRoaXMuc2NhbGVYJiYwIT10aGlzLnNjYWxlWSYmYSl9LGIuRGlzcGxheU9iamVjdF9kcmF3PWIuZHJhdyxiLmRyYXc9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5EaXNwbGF5T2JqZWN0X2RyYXcoYSxiKT8hMDoodGhpcy5ncmFwaGljcy5kcmF3KGEpLCEwKX0sYi5jbG9uZT1mdW5jdGlvbihiKXt2YXIgYz1uZXcgYShiJiZ0aGlzLmdyYXBoaWNzP3RoaXMuZ3JhcGhpY3MuY2xvbmUoKTp0aGlzLmdyYXBoaWNzKTtyZXR1cm4gdGhpcy5jbG9uZVByb3BzKGMpLGN9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW1NoYXBlIChuYW1lPSIrdGhpcy5uYW1lKyIpXSJ9LGNyZWF0ZWpzLlNoYXBlPWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbihhLGIsYyl7dGhpcy5pbml0aWFsaXplKGEsYixjKX0sYj1hLnByb3RvdHlwZT1uZXcgY3JlYXRlanMuRGlzcGxheU9iamVjdCxjPWNyZWF0ZWpzLmNyZWF0ZUNhbnZhcz9jcmVhdGVqcy5jcmVhdGVDYW52YXMoKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtjLmdldENvbnRleHQmJihhLl93b3JraW5nQ29udGV4dD1jLmdldENvbnRleHQoIjJkIiksYy53aWR0aD1jLmhlaWdodD0xKSxhLkhfT0ZGU0VUUz17c3RhcnQ6MCxsZWZ0OjAsY2VudGVyOi0uNSxlbmQ6LTEscmlnaHQ6LTF9LGEuVl9PRkZTRVRTPXt0b3A6MCxoYW5naW5nOi0uMDEsbWlkZGxlOi0uNCxhbHBoYWJldGljOi0uOCxpZGVvZ3JhcGhpYzotLjg1LGJvdHRvbTotMX0sYi50ZXh0PSIiLGIuZm9udD1udWxsLGIuY29sb3I9bnVsbCxiLnRleHRBbGlnbj0ibGVmdCIsYi50ZXh0QmFzZWxpbmU9InRvcCIsYi5tYXhXaWR0aD1udWxsLGIub3V0bGluZT0wLGIubGluZUhlaWdodD0wLGIubGluZVdpZHRoPW51bGwsYi5EaXNwbGF5T2JqZWN0X2luaXRpYWxpemU9Yi5pbml0aWFsaXplLGIuaW5pdGlhbGl6ZT1mdW5jdGlvbihhLGIsYyl7dGhpcy5EaXNwbGF5T2JqZWN0X2luaXRpYWxpemUoKSx0aGlzLnRleHQ9YSx0aGlzLmZvbnQ9Yix0aGlzLmNvbG9yPWN9LGIuaXNWaXNpYmxlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jYWNoZUNhbnZhc3x8bnVsbCE9dGhpcy50ZXh0JiYiIiE9PXRoaXMudGV4dDtyZXR1cm4hISh0aGlzLnZpc2libGUmJnRoaXMuYWxwaGE+MCYmMCE9dGhpcy5zY2FsZVgmJjAhPXRoaXMuc2NhbGVZJiZhKX0sYi5EaXNwbGF5T2JqZWN0X2RyYXc9Yi5kcmF3LGIuZHJhdz1mdW5jdGlvbihhLGIpe2lmKHRoaXMuRGlzcGxheU9iamVjdF9kcmF3KGEsYikpcmV0dXJuITA7dmFyIGM9dGhpcy5jb2xvcnx8IiMwMDAiO3JldHVybiB0aGlzLm91dGxpbmU/KGEuc3Ryb2tlU3R5bGU9YyxhLmxpbmVXaWR0aD0xKnRoaXMub3V0bGluZSk6YS5maWxsU3R5bGU9Yyx0aGlzLl9kcmF3VGV4dCh0aGlzLl9wcmVwQ29udGV4dChhKSksITB9LGIuZ2V0TWVhc3VyZWRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcmVwQ29udGV4dChhLl93b3JraW5nQ29udGV4dCkubWVhc3VyZVRleHQodGhpcy50ZXh0KS53aWR0aH0sYi5nZXRNZWFzdXJlZExpbmVIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gMS4yKnRoaXMuX3ByZXBDb250ZXh0KGEuX3dvcmtpbmdDb250ZXh0KS5tZWFzdXJlVGV4dCgiTSIpLndpZHRofSxiLmdldE1lYXN1cmVkSGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RyYXdUZXh0KG51bGwse30pLmhlaWdodH0sYi5EaXNwbGF5T2JqZWN0X2dldEJvdW5kcz1iLmdldEJvdW5kcyxiLmdldEJvdW5kcz1mdW5jdGlvbigpe3ZhciBiPXRoaXMuRGlzcGxheU9iamVjdF9nZXRCb3VuZHMoKTtpZihiKXJldHVybiBiO2lmKG51bGw9PXRoaXMudGV4dHx8IiI9PXRoaXMudGV4dClyZXR1cm4gbnVsbDt2YXIgYz10aGlzLl9kcmF3VGV4dChudWxsLHt9KSxkPXRoaXMubWF4V2lkdGgmJnRoaXMubWF4V2lkdGg8Yy53aWR0aD90aGlzLm1heFdpZHRoOmMud2lkdGgsZT1kKmEuSF9PRkZTRVRTW3RoaXMudGV4dEFsaWdufHwibGVmdCJdLGY9dGhpcy5saW5lSGVpZ2h0fHx0aGlzLmdldE1lYXN1cmVkTGluZUhlaWdodCgpLGc9ZiphLlZfT0ZGU0VUU1t0aGlzLnRleHRCYXNlbGluZXx8InRvcCJdO3JldHVybiB0aGlzLl9yZWN0YW5nbGUuaW5pdGlhbGl6ZShlLGcsZCxjLmhlaWdodCl9LGIuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYj1uZXcgYSh0aGlzLnRleHQsdGhpcy5mb250LHRoaXMuY29sb3IpO3JldHVybiB0aGlzLmNsb25lUHJvcHMoYiksYn0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbVGV4dCAodGV4dD0iKyh0aGlzLnRleHQubGVuZ3RoPjIwP3RoaXMudGV4dC5zdWJzdHIoMCwxNykrIi4uLiI6dGhpcy50ZXh0KSsiKV0ifSxiLkRpc3BsYXlPYmplY3RfY2xvbmVQcm9wcz1iLmNsb25lUHJvcHMsYi5jbG9uZVByb3BzPWZ1bmN0aW9uKGEpe3RoaXMuRGlzcGxheU9iamVjdF9jbG9uZVByb3BzKGEpLGEudGV4dEFsaWduPXRoaXMudGV4dEFsaWduLGEudGV4dEJhc2VsaW5lPXRoaXMudGV4dEJhc2VsaW5lLGEubWF4V2lkdGg9dGhpcy5tYXhXaWR0aCxhLm91dGxpbmU9dGhpcy5vdXRsaW5lLGEubGluZUhlaWdodD10aGlzLmxpbmVIZWlnaHQsYS5saW5lV2lkdGg9dGhpcy5saW5lV2lkdGh9LGIuX3ByZXBDb250ZXh0PWZ1bmN0aW9uKGEpe3JldHVybiBhLmZvbnQ9dGhpcy5mb250LGEudGV4dEFsaWduPXRoaXMudGV4dEFsaWdufHwibGVmdCIsYS50ZXh0QmFzZWxpbmU9dGhpcy50ZXh0QmFzZWxpbmV8fCJ0b3AiLGF9LGIuX2RyYXdUZXh0PWZ1bmN0aW9uKGIsYyl7dmFyIGQ9ISFiO2R8fChiPXRoaXMuX3ByZXBDb250ZXh0KGEuX3dvcmtpbmdDb250ZXh0KSk7Zm9yKHZhciBlPXRoaXMubGluZUhlaWdodHx8dGhpcy5nZXRNZWFzdXJlZExpbmVIZWlnaHQoKSxmPTAsZz0wLGg9U3RyaW5nKHRoaXMudGV4dCkuc3BsaXQoLyg/OlxyXG58XHJ8XG4pLyksaT0wLGo9aC5sZW5ndGg7aj5pO2krKyl7dmFyIGs9aFtpXSxsPW51bGw7aWYobnVsbCE9dGhpcy5saW5lV2lkdGgmJihsPWIubWVhc3VyZVRleHQoaykud2lkdGgpPnRoaXMubGluZVdpZHRoKXt2YXIgbT1rLnNwbGl0KC8oXHMpLyk7az1tWzBdLGw9Yi5tZWFzdXJlVGV4dChrKS53aWR0aDtmb3IodmFyIG49MSxvPW0ubGVuZ3RoO28+bjtuKz0yKXt2YXIgcD1iLm1lYXN1cmVUZXh0KG1bbl0rbVtuKzFdKS53aWR0aDtsK3A+dGhpcy5saW5lV2lkdGg/KGQmJnRoaXMuX2RyYXdUZXh0TGluZShiLGssZyplKSxsPmYmJihmPWwpLGs9bVtuKzFdLGw9Yi5tZWFzdXJlVGV4dChrKS53aWR0aCxnKyspOihrKz1tW25dK21bbisxXSxsKz1wKX19ZCYmdGhpcy5fZHJhd1RleHRMaW5lKGIsayxnKmUpLGMmJm51bGw9PWwmJihsPWIubWVhc3VyZVRleHQoaykud2lkdGgpLGw+ZiYmKGY9bCksZysrfXJldHVybiBjJiYoYy5jb3VudD1nLGMud2lkdGg9ZixjLmhlaWdodD1nKmUpLGN9LGIuX2RyYXdUZXh0TGluZT1mdW5jdGlvbihhLGIsYyl7dGhpcy5vdXRsaW5lP2Euc3Ryb2tlVGV4dChiLDAsYyx0aGlzLm1heFdpZHRofHw2NTUzNSk6YS5maWxsVGV4dChiLDAsYyx0aGlzLm1heFdpZHRofHw2NTUzNSl9LGNyZWF0ZWpzLlRleHQ9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGEoYSxiKXt0aGlzLmluaXRpYWxpemUoYSxiKX12YXIgYj1hLnByb3RvdHlwZT1uZXcgY3JlYXRlanMuRGlzcGxheU9iamVjdDtiLnRleHQ9IiIsYi5zcHJpdGVTaGVldD1udWxsLGIubGluZUhlaWdodD0wLGIubGV0dGVyU3BhY2luZz0wLGIuc3BhY2VXaWR0aD0wLGIuRGlzcGxheU9iamVjdF9pbml0aWFsaXplPWIuaW5pdGlhbGl6ZSxiLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLkRpc3BsYXlPYmplY3RfaW5pdGlhbGl6ZSgpLHRoaXMudGV4dD1hLHRoaXMuc3ByaXRlU2hlZXQ9Yn0sYi5EaXNwbGF5T2JqZWN0X2RyYXc9Yi5kcmF3LGIuZHJhdz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLkRpc3BsYXlPYmplY3RfZHJhdyhhLGIpPyEwOih0aGlzLl9kcmF3VGV4dChhKSx2b2lkIDApfSxiLmlzVmlzaWJsZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuY2FjaGVDYW52YXN8fHRoaXMuc3ByaXRlU2hlZXQmJnRoaXMuc3ByaXRlU2hlZXQuY29tcGxldGUmJnRoaXMudGV4dDtyZXR1cm4hISh0aGlzLnZpc2libGUmJnRoaXMuYWxwaGE+MCYmMCE9dGhpcy5zY2FsZVgmJjAhPXRoaXMuc2NhbGVZJiZhKX0sYi5nZXRCb3VuZHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9yZWN0YW5nbGU7cmV0dXJuIHRoaXMuX2RyYXdUZXh0KG51bGwsYSksYS53aWR0aD9hOm51bGx9LGIuX2dldEZyYW1lPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1iLmdldEFuaW1hdGlvbihhKTtyZXR1cm4gZHx8KGEhPShjPWEudG9VcHBlckNhc2UoKSl8fGEhPShjPWEudG9Mb3dlckNhc2UoKSl8fChjPW51bGwpLGMmJihkPWIuZ2V0QW5pbWF0aW9uKGMpKSksZCYmYi5nZXRGcmFtZShkLmZyYW1lc1swXSl9LGIuX2dldExpbmVIZWlnaHQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fZ2V0RnJhbWUoIjEiLGEpfHx0aGlzLl9nZXRGcmFtZSgiVCIsYSl8fHRoaXMuX2dldEZyYW1lKCJMIixhKXx8YS5nZXRGcmFtZSgwKTtyZXR1cm4gYj9iLnJlY3QuaGVpZ2h0OjF9LGIuX2dldFNwYWNlV2lkdGg9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fZ2V0RnJhbWUoIjEiLGEpfHx0aGlzLl9nZXRGcmFtZSgibCIsYSl8fHRoaXMuX2dldEZyYW1lKCJlIixhKXx8dGhpcy5fZ2V0RnJhbWUoImEiLGEpfHxhLmdldEZyYW1lKDApO3JldHVybiBiP2IucmVjdC53aWR0aDoxfSxiLl9kcmF3VGV4dD1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPTAsZz0wLGg9dGhpcy5zcGFjZVdpZHRoLGk9dGhpcy5saW5lSGVpZ2h0LGo9dGhpcy5zcHJpdGVTaGVldCxrPSEhdGhpcy5fZ2V0RnJhbWUoIiAiLGopO2t8fDAhPWh8fChoPXRoaXMuX2dldFNwYWNlV2lkdGgoaikpLDA9PWkmJihpPXRoaXMuX2dldExpbmVIZWlnaHQoaikpO2Zvcih2YXIgbD0wLG09MCxuPXRoaXMudGV4dC5sZW5ndGg7bj5tO20rKyl7dmFyIG89dGhpcy50ZXh0LmNoYXJBdChtKTtpZihrfHwiICIhPW8paWYoIlxuIiE9byYmIlxyIiE9byl7dmFyIHA9dGhpcy5fZ2V0RnJhbWUobyxqKTtpZihwKXt2YXIgcT1wLnJlY3Q7ZT1wLnJlZ1gsYz1xLndpZHRoLGEmJmEuZHJhd0ltYWdlKHAuaW1hZ2UscS54LHEueSxjLGQ9cS5oZWlnaHQsZi1lLGctcC5yZWdZLGMsZCksZis9Yyt0aGlzLmxldHRlclNwYWNpbmd9fWVsc2UiXHIiPT1vJiYiXG4iPT10aGlzLnRleHQuY2hhckF0KG0rMSkmJm0rKyxmLWU+bCYmKGw9Zi1lKSxmPTAsZys9aTtlbHNlIGYrPWh9Zi1lPmwmJihsPWYtZSksYiYmKGIud2lkdGg9bC10aGlzLmxldHRlclNwYWNpbmcsYi5oZWlnaHQ9ZytpKX0sY3JlYXRlanMuQml0bWFwVGV4dD1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9ZnVuY3Rpb24oKXt0aHJvdyJTcHJpdGVTaGVldFV0aWxzIGNhbm5vdCBiZSBpbnN0YW50aWF0ZWQifSxiPWNyZWF0ZWpzLmNyZWF0ZUNhbnZhcz9jcmVhdGVqcy5jcmVhdGVDYW52YXMoKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtiLmdldENvbnRleHQmJihhLl93b3JraW5nQ2FudmFzPWIsYS5fd29ya2luZ0NvbnRleHQ9Yi5nZXRDb250ZXh0KCIyZCIpLGIud2lkdGg9Yi5oZWlnaHQ9MSksYS5hZGRGbGlwcGVkRnJhbWVzPWZ1bmN0aW9uKGIsYyxkLGUpe2lmKGN8fGR8fGUpe3ZhciBmPTA7YyYmYS5fZmxpcChiLCsrZiwhMCwhMSksZCYmYS5fZmxpcChiLCsrZiwhMSwhMCksZSYmYS5fZmxpcChiLCsrZiwhMCwhMCl9fSxhLmV4dHJhY3RGcmFtZT1mdW5jdGlvbihiLGMpe2lzTmFOKGMpJiYoYz1iLmdldEFuaW1hdGlvbihjKS5mcmFtZXNbMF0pO3ZhciBkPWIuZ2V0RnJhbWUoYyk7aWYoIWQpcmV0dXJuIG51bGw7dmFyIGU9ZC5yZWN0LGY9YS5fd29ya2luZ0NhbnZhcztmLndpZHRoPWUud2lkdGgsZi5oZWlnaHQ9ZS5oZWlnaHQsYS5fd29ya2luZ0NvbnRleHQuZHJhd0ltYWdlKGQuaW1hZ2UsZS54LGUueSxlLndpZHRoLGUuaGVpZ2h0LDAsMCxlLndpZHRoLGUuaGVpZ2h0KTt2YXIgZz1uZXcgSW1hZ2U7cmV0dXJuIGcuc3JjPWYudG9EYXRhVVJMKCJpbWFnZS9wbmciKSxnfSxhLm1lcmdlQWxwaGE9ZnVuY3Rpb24oYSxiLGMpe2N8fChjPWNyZWF0ZWpzLmNyZWF0ZUNhbnZhcz9jcmVhdGVqcy5jcmVhdGVDYW52YXMoKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSksYy53aWR0aD1NYXRoLm1heChiLndpZHRoLGEud2lkdGgpLGMuaGVpZ2h0PU1hdGgubWF4KGIuaGVpZ2h0LGEuaGVpZ2h0KTt2YXIgZD1jLmdldENvbnRleHQoIjJkIik7cmV0dXJuIGQuc2F2ZSgpLGQuZHJhd0ltYWdlKGEsMCwwKSxkLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj0iZGVzdGluYXRpb24taW4iLGQuZHJhd0ltYWdlKGIsMCwwKSxkLnJlc3RvcmUoKSxjfSxhLl9mbGlwPWZ1bmN0aW9uKGIsYyxkLGUpe2Zvcih2YXIgZj1iLl9pbWFnZXMsZz1hLl93b3JraW5nQ2FudmFzLGg9YS5fd29ya2luZ0NvbnRleHQsaT1mLmxlbmd0aC9jLGo9MDtpPmo7aisrKXt2YXIgaz1mW2pdO2suX190bXA9aixoLnNldFRyYW5zZm9ybSgxLDAsMCwxLDAsMCksaC5jbGVhclJlY3QoMCwwLGcud2lkdGgrMSxnLmhlaWdodCsxKSxnLndpZHRoPWsud2lkdGgsZy5oZWlnaHQ9ay5oZWlnaHQsaC5zZXRUcmFuc2Zvcm0oZD8tMToxLDAsMCxlPy0xOjEsZD9rLndpZHRoOjAsZT9rLmhlaWdodDowKSxoLmRyYXdJbWFnZShrLDAsMCk7dmFyIGw9bmV3IEltYWdlO2wuc3JjPWcudG9EYXRhVVJMKCJpbWFnZS9wbmciKSxsLndpZHRoPWsud2lkdGgsbC5oZWlnaHQ9ay5oZWlnaHQsZi5wdXNoKGwpfXZhciBtPWIuX2ZyYW1lcyxuPW0ubGVuZ3RoL2M7Zm9yKGo9MDtuPmo7aisrKXtrPW1bal07dmFyIG89ay5yZWN0LmNsb25lKCk7bD1mW2suaW1hZ2UuX190bXAraSpjXTt2YXIgcD17aW1hZ2U6bCxyZWN0Om8scmVnWDprLnJlZ1gscmVnWTprLnJlZ1l9O2QmJihvLng9bC53aWR0aC1vLngtby53aWR0aCxwLnJlZ1g9by53aWR0aC1rLnJlZ1gpLGUmJihvLnk9bC5oZWlnaHQtby55LW8uaGVpZ2h0LHAucmVnWT1vLmhlaWdodC1rLnJlZ1kpLG0ucHVzaChwKX12YXIgcT0iXyIrKGQ/ImgiOiIiKSsoZT8idiI6IiIpLHI9Yi5fYW5pbWF0aW9ucyxzPWIuX2RhdGEsdD1yLmxlbmd0aC9jO2ZvcihqPTA7dD5qO2orKyl7dmFyIHU9cltqXTtrPXNbdV07dmFyIHY9e25hbWU6dStxLGZyZXF1ZW5jeTprLmZyZXF1ZW5jeSxuZXh0OmsubmV4dCxmcmFtZXM6W119O2submV4dCYmKHYubmV4dCs9cSksbT1rLmZyYW1lcztmb3IodmFyIHc9MCx4PW0ubGVuZ3RoO3g+dzt3Kyspdi5mcmFtZXMucHVzaChtW3ddK24qYyk7c1t2Lm5hbWVdPXYsci5wdXNoKHYubmFtZSl9fSxjcmVhdGVqcy5TcHJpdGVTaGVldFV0aWxzPWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbigpe3RoaXMuaW5pdGlhbGl6ZSgpfSxiPWEucHJvdG90eXBlPW5ldyBjcmVhdGVqcy5FdmVudERpc3BhdGNoZXI7YS5FUlJfRElNRU5TSU9OUz0iZnJhbWUgZGltZW5zaW9ucyBleGNlZWQgbWF4IHNwcml0ZXNoZWV0IGRpbWVuc2lvbnMiLGEuRVJSX1JVTk5JTkc9ImEgYnVpbGQgaXMgYWxyZWFkeSBydW5uaW5nIixiLm1heFdpZHRoPTIwNDgsYi5tYXhIZWlnaHQ9MjA0OCxiLnNwcml0ZVNoZWV0PW51bGwsYi5zY2FsZT0xLGIucGFkZGluZz0xLGIudGltZVNsaWNlPS4zLGIucHJvZ3Jlc3M9LTEsYi5fZnJhbWVzPW51bGwsYi5fYW5pbWF0aW9ucz1udWxsLGIuX2RhdGE9bnVsbCxiLl9uZXh0RnJhbWVJbmRleD0wLGIuX2luZGV4PTAsYi5fdGltZXJJRD1udWxsLGIuX3NjYWxlPTEsYi5pbml0aWFsaXplPWZ1bmN0aW9uKCl7dGhpcy5fZnJhbWVzPVtdLHRoaXMuX2FuaW1hdGlvbnM9e319LGIuYWRkRnJhbWU9ZnVuY3Rpb24oYixjLGQsZSxmLGcpe2lmKHRoaXMuX2RhdGEpdGhyb3cgYS5FUlJfUlVOTklORzt2YXIgaD1jfHxiLmJvdW5kc3x8Yi5ub21pbmFsQm91bmRzO3JldHVybiFoJiZiLmdldEJvdW5kcyYmKGg9Yi5nZXRCb3VuZHMoKSksaD8oZD1kfHwxLHRoaXMuX2ZyYW1lcy5wdXNoKHtzb3VyY2U6Yixzb3VyY2VSZWN0Omgsc2NhbGU6ZCxmdW5jdDplLHBhcmFtczpmLHNjb3BlOmcsaW5kZXg6dGhpcy5fZnJhbWVzLmxlbmd0aCxoZWlnaHQ6aC5oZWlnaHQqZH0pLTEpOm51bGx9LGIuYWRkQW5pbWF0aW9uPWZ1bmN0aW9uKGIsYyxkLGUpe2lmKHRoaXMuX2RhdGEpdGhyb3cgYS5FUlJfUlVOTklORzt0aGlzLl9hbmltYXRpb25zW2JdPXtmcmFtZXM6YyxuZXh0OmQsZnJlcXVlbmN5OmV9fSxiLmFkZE1vdmllQ2xpcD1mdW5jdGlvbihiLGMsZCl7aWYodGhpcy5fZGF0YSl0aHJvdyBhLkVSUl9SVU5OSU5HO3ZhciBlPWIuZnJhbWVCb3VuZHMsZj1jfHxiLmJvdW5kc3x8Yi5ub21pbmFsQm91bmRzO2lmKCFmJiZiLmdldEJvdW5kcyYmKGY9Yi5nZXRCb3VuZHMoKSksIWYmJiFlKXJldHVybiBudWxsO2Zvcih2YXIgZz10aGlzLl9mcmFtZXMubGVuZ3RoLGg9Yi50aW1lbGluZS5kdXJhdGlvbixpPTA7aD5pO2krKyl7dmFyIGo9ZSYmZVtpXT9lW2ldOmY7dGhpcy5hZGRGcmFtZShiLGosZCxmdW5jdGlvbihhKXt2YXIgYj10aGlzLmFjdGlvbnNFbmFibGVkO3RoaXMuYWN0aW9uc0VuYWJsZWQ9ITEsdGhpcy5nb3RvQW5kU3RvcChhKSx0aGlzLmFjdGlvbnNFbmFibGVkPWJ9LFtpXSxiKX12YXIgaz1iLnRpbWVsaW5lLl9sYWJlbHMsbD1bXTtmb3IodmFyIG0gaW4gaylsLnB1c2goe2luZGV4OmtbbV0sbGFiZWw6bX0pO2lmKGwubGVuZ3RoKXtsLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5pbmRleC1iLmluZGV4fSk7Zm9yKHZhciBpPTAsbj1sLmxlbmd0aDtuPmk7aSsrKXtmb3IodmFyIG89bFtpXS5sYWJlbCxwPWcrbFtpXS5pbmRleCxxPWcrKGk9PW4tMT9oOmxbaSsxXS5pbmRleCkscj1bXSxzPXA7cT5zO3MrKylyLnB1c2gocyk7dGhpcy5hZGRBbmltYXRpb24obyxyLCEwKX19fSxiLmJ1aWxkPWZ1bmN0aW9uKCl7aWYodGhpcy5fZGF0YSl0aHJvdyBhLkVSUl9SVU5OSU5HO2Zvcih0aGlzLl9zdGFydEJ1aWxkKCk7dGhpcy5fZHJhd05leHQoKTspO3JldHVybiB0aGlzLl9lbmRCdWlsZCgpLHRoaXMuc3ByaXRlU2hlZXR9LGIuYnVpbGRBc3luYz1mdW5jdGlvbihiKXtpZih0aGlzLl9kYXRhKXRocm93IGEuRVJSX1JVTk5JTkc7dGhpcy50aW1lU2xpY2U9Yix0aGlzLl9zdGFydEJ1aWxkKCk7dmFyIGM9dGhpczt0aGlzLl90aW1lcklEPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLl9ydW4oKX0sNTAtNTAqTWF0aC5tYXgoLjAxLE1hdGgubWluKC45OSx0aGlzLnRpbWVTbGljZXx8LjMpKSl9LGIuc3RvcEFzeW5jPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVySUQpLHRoaXMuX2RhdGE9bnVsbH0sYi5jbG9uZT1mdW5jdGlvbigpe3Rocm93IlNwcml0ZVNoZWV0QnVpbGRlciBjYW5ub3QgYmUgY2xvbmVkLiJ9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW1Nwcml0ZVNoZWV0QnVpbGRlcl0ifSxiLl9zdGFydEJ1aWxkPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5wYWRkaW5nfHwwO3RoaXMucHJvZ3Jlc3M9MCx0aGlzLnNwcml0ZVNoZWV0PW51bGwsdGhpcy5faW5kZXg9MCx0aGlzLl9zY2FsZT10aGlzLnNjYWxlO3ZhciBjPVtdO3RoaXMuX2RhdGE9e2ltYWdlczpbXSxmcmFtZXM6YyxhbmltYXRpb25zOnRoaXMuX2FuaW1hdGlvbnN9O3ZhciBkPXRoaXMuX2ZyYW1lcy5zbGljZSgpO2lmKGQuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLmhlaWdodDw9Yi5oZWlnaHQ/LTE6MX0pLGRbZC5sZW5ndGgtMV0uaGVpZ2h0KzIqYj50aGlzLm1heEhlaWdodCl0aHJvdyBhLkVSUl9ESU1FTlNJT05TO2Zvcih2YXIgZT0wLGY9MCxnPTA7ZC5sZW5ndGg7KXt2YXIgaD10aGlzLl9maWxsUm93KGQsZSxnLGMsYik7aWYoaC53PmYmJihmPWgudyksZSs9aC5oLCFoLmh8fCFkLmxlbmd0aCl7dmFyIGk9Y3JlYXRlanMuY3JlYXRlQ2FudmFzP2NyZWF0ZWpzLmNyZWF0ZUNhbnZhcygpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO2kud2lkdGg9dGhpcy5fZ2V0U2l6ZShmLHRoaXMubWF4V2lkdGgpLGkuaGVpZ2h0PXRoaXMuX2dldFNpemUoZSx0aGlzLm1heEhlaWdodCksdGhpcy5fZGF0YS5pbWFnZXNbZ109aSxoLmh8fChmPWU9MCxnKyspfX19LGIuX2dldFNpemU9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9NDtNYXRoLnBvdygyLCsrYyk8YTspO3JldHVybiBNYXRoLm1pbihiLE1hdGgucG93KDIsYykpfSxiLl9maWxsUm93PWZ1bmN0aW9uKGIsYyxkLGUsZil7dmFyIGc9dGhpcy5tYXhXaWR0aCxoPXRoaXMubWF4SGVpZ2h0O2MrPWY7Zm9yKHZhciBpPWgtYyxqPWYsaz0wLGw9Yi5sZW5ndGgtMTtsPj0wO2wtLSl7dmFyIG09YltsXSxuPXRoaXMuX3NjYWxlKm0uc2NhbGUsbz1tLnNvdXJjZVJlY3QscD1tLnNvdXJjZSxxPU1hdGguZmxvb3IobipvLngtZikscj1NYXRoLmZsb29yKG4qby55LWYpLHM9TWF0aC5jZWlsKG4qby5oZWlnaHQrMipmKSx0PU1hdGguY2VpbChuKm8ud2lkdGgrMipmKTtpZih0PmcpdGhyb3cgYS5FUlJfRElNRU5TSU9OUztzPml8fGordD5nfHwobS5pbWc9ZCxtLnJlY3Q9bmV3IGNyZWF0ZWpzLlJlY3RhbmdsZShqLGMsdCxzKSxrPWt8fHMsYi5zcGxpY2UobCwxKSxlW20uaW5kZXhdPVtqLGMsdCxzLGQsTWF0aC5yb3VuZCgtcStuKnAucmVnWC1mKSxNYXRoLnJvdW5kKC1yK24qcC5yZWdZLWYpXSxqKz10KX1yZXR1cm57dzpqLGg6a319LGIuX2VuZEJ1aWxkPWZ1bmN0aW9uKCl7dGhpcy5zcHJpdGVTaGVldD1uZXcgY3JlYXRlanMuU3ByaXRlU2hlZXQodGhpcy5fZGF0YSksdGhpcy5fZGF0YT1udWxsLHRoaXMucHJvZ3Jlc3M9MSx0aGlzLmRpc3BhdGNoRXZlbnQoImNvbXBsZXRlIil9LGIuX3J1bj1mdW5jdGlvbigpe2Zvcih2YXIgYT01MCpNYXRoLm1heCguMDEsTWF0aC5taW4oLjk5LHRoaXMudGltZVNsaWNlfHwuMykpLGI9KG5ldyBEYXRlKS5nZXRUaW1lKCkrYSxjPSExO2I+KG5ldyBEYXRlKS5nZXRUaW1lKCk7KWlmKCF0aGlzLl9kcmF3TmV4dCgpKXtjPSEwO2JyZWFrfWlmKGMpdGhpcy5fZW5kQnVpbGQoKTtlbHNle3ZhciBkPXRoaXM7dGhpcy5fdGltZXJJRD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5fcnVuKCl9LDUwLWEpfXZhciBlPXRoaXMucHJvZ3Jlc3M9dGhpcy5faW5kZXgvdGhpcy5fZnJhbWVzLmxlbmd0aDtpZih0aGlzLmhhc0V2ZW50TGlzdGVuZXIoInByb2dyZXNzIikpe3ZhciBmPW5ldyBjcmVhdGVqcy5FdmVudCgicHJvZ3Jlc3MiKTtmLnByb2dyZXNzPWUsdGhpcy5kaXNwYXRjaEV2ZW50KGYpfX0sYi5fZHJhd05leHQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9mcmFtZXNbdGhpcy5faW5kZXhdLGI9YS5zY2FsZSp0aGlzLl9zY2FsZSxjPWEucmVjdCxkPWEuc291cmNlUmVjdCxlPXRoaXMuX2RhdGEuaW1hZ2VzW2EuaW1nXSxmPWUuZ2V0Q29udGV4dCgiMmQiKTtyZXR1cm4gYS5mdW5jdCYmYS5mdW5jdC5hcHBseShhLnNjb3BlLGEucGFyYW1zKSxmLnNhdmUoKSxmLmJlZ2luUGF0aCgpLGYucmVjdChjLngsYy55LGMud2lkdGgsYy5oZWlnaHQpLGYuY2xpcCgpLGYudHJhbnNsYXRlKE1hdGguY2VpbChjLngtZC54KmIpLE1hdGguY2VpbChjLnktZC55KmIpKSxmLnNjYWxlKGIsYiksYS5zb3VyY2UuZHJhdyhmKSxmLnJlc3RvcmUoKSwrK3RoaXMuX2luZGV4PHRoaXMuX2ZyYW1lcy5sZW5ndGh9LGNyZWF0ZWpzLlNwcml0ZVNoZWV0QnVpbGRlcj1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9ZnVuY3Rpb24oYSl7dGhpcy5pbml0aWFsaXplKGEpfSxiPWEucHJvdG90eXBlPW5ldyBjcmVhdGVqcy5EaXNwbGF5T2JqZWN0O2IuaHRtbEVsZW1lbnQ9bnVsbCxiLl9vbGRNdHg9bnVsbCxiLl92aXNpYmxlPSExLGIuRGlzcGxheU9iamVjdF9pbml0aWFsaXplPWIuaW5pdGlhbGl6ZSxiLmluaXRpYWxpemU9ZnVuY3Rpb24oYSl7InN0cmluZyI9PXR5cGVvZiBhJiYoYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKSksdGhpcy5EaXNwbGF5T2JqZWN0X2luaXRpYWxpemUoKSx0aGlzLm1vdXNlRW5hYmxlZD0hMSx0aGlzLmh0bWxFbGVtZW50PWE7dmFyIGI9YS5zdHlsZTtiLnBvc2l0aW9uPSJhYnNvbHV0ZSIsYi50cmFuc2Zvcm1PcmlnaW49Yi5XZWJraXRUcmFuc2Zvcm1PcmlnaW49Yi5tc1RyYW5zZm9ybU9yaWdpbj1iLk1velRyYW5zZm9ybU9yaWdpbj1iLk9UcmFuc2Zvcm1PcmlnaW49IjAlIDAlIn0sYi5pc1Zpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5odG1sRWxlbWVudH0sYi5kcmF3PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlzaWJsZSYmKHRoaXMuX3Zpc2libGU9ITApLCEwfSxiLmNhY2hlPWZ1bmN0aW9uKCl7fSxiLnVuY2FjaGU9ZnVuY3Rpb24oKXt9LGIudXBkYXRlQ2FjaGU9ZnVuY3Rpb24oKXt9LGIuaGl0VGVzdD1mdW5jdGlvbigpe30sYi5sb2NhbFRvR2xvYmFsPWZ1bmN0aW9uKCl7fSxiLmdsb2JhbFRvTG9jYWw9ZnVuY3Rpb24oKXt9LGIubG9jYWxUb0xvY2FsPWZ1bmN0aW9uKCl7fSxiLmNsb25lPWZ1bmN0aW9uKCl7dGhyb3ciRE9NRWxlbWVudCBjYW5ub3QgYmUgY2xvbmVkLiJ9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW0RPTUVsZW1lbnQgKG5hbWU9Iit0aGlzLm5hbWUrIildIn0sYi5EaXNwbGF5T2JqZWN0X190aWNrPWIuX3RpY2ssYi5fdGljaz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFN0YWdlKCk7dGhpcy5fdmlzaWJsZT0hMSxiJiZiLm9uKCJkcmF3ZW5kIix0aGlzLl9oYW5kbGVEcmF3RW5kLHRoaXMsITApLHRoaXMuRGlzcGxheU9iamVjdF9fdGljayhhKX0sYi5faGFuZGxlRHJhd0VuZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaHRtbEVsZW1lbnQ7aWYoYSl7dmFyIGI9YS5zdHlsZSxjPXRoaXMuX3Zpc2libGU/InZpc2libGUiOiJoaWRkZW4iO2lmKGMhPWIudmlzaWJpbGl0eSYmKGIudmlzaWJpbGl0eT1jKSx0aGlzLl92aXNpYmxlKXt2YXIgZD10aGlzLmdldENvbmNhdGVuYXRlZE1hdHJpeCh0aGlzLl9tYXRyaXgpLGU9dGhpcy5fb2xkTXR4LGY9MWU0OwppZihlJiZlLmFscGhhPT1kLmFscGhhfHwoYi5vcGFjaXR5PSIiKygwfGQuYWxwaGEqZikvZixlJiYoZS5hbHBoYT1kLmFscGhhKSksIWV8fGUudHghPWQudHh8fGUudHkhPWQudHl8fGUuYSE9ZC5hfHxlLmIhPWQuYnx8ZS5jIT1kLmN8fGUuZCE9ZC5kKXt2YXIgZz0ibWF0cml4KCIrKDB8ZC5hKmYpL2YrIiwiKygwfGQuYipmKS9mKyIsIisoMHxkLmMqZikvZisiLCIrKDB8ZC5kKmYpL2YrIiwiKygwfGQudHgrLjUpO2IudHJhbnNmb3JtPWIuV2Via2l0VHJhbnNmb3JtPWIuT1RyYW5zZm9ybT1iLm1zVHJhbnNmb3JtPWcrIiwiKygwfGQudHkrLjUpKyIpIixiLk1velRyYW5zZm9ybT1nKyJweCwiKygwfGQudHkrLjUpKyJweCkiLHRoaXMuX29sZE10eD1lP2UuY29weShkKTpkLmNsb25lKCl9fX19LGNyZWF0ZWpzLkRPTUVsZW1lbnQ9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKCl7dGhpcy5pbml0aWFsaXplKCl9LGI9YS5wcm90b3R5cGU7Yi5pbml0aWFsaXplPWZ1bmN0aW9uKCl7fSxiLmdldEJvdW5kcz1mdW5jdGlvbigpe3JldHVybiBudWxsfSxiLmFwcGx5RmlsdGVyPWZ1bmN0aW9uKCl7fSxiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltGaWx0ZXJdIn0sYi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgYX0sY3JlYXRlanMuRmlsdGVyPWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbihhLGIsYyl7dGhpcy5pbml0aWFsaXplKGEsYixjKX0sYj1hLnByb3RvdHlwZT1uZXcgY3JlYXRlanMuRmlsdGVyO2IuaW5pdGlhbGl6ZT1mdW5jdGlvbihhLGIsYyl7KGlzTmFOKGEpfHwwPmEpJiYoYT0wKSx0aGlzLmJsdXJYPTB8YSwoaXNOYU4oYil8fDA+YikmJihiPTApLHRoaXMuYmx1clk9MHxiLChpc05hTihjKXx8MT5jKSYmKGM9MSksdGhpcy5xdWFsaXR5PTB8Y30sYi5ibHVyWD0wLGIuYmx1clk9MCxiLnF1YWxpdHk9MSxiLm11bF90YWJsZT1bMSwxNzEsMjA1LDI5Myw1NywzNzMsNzksMTM3LDI0MSwyNywzOTEsMzU3LDQxLDE5LDI4MywyNjUsNDk3LDQ2OSw0NDMsNDIxLDI1LDE5MSwzNjUsMzQ5LDMzNSwxNjEsMTU1LDE0OSw5LDI3OCwyNjksMjYxLDUwNSwyNDUsNDc1LDIzMSw0NDksNDM3LDIxMyw0MTUsNDA1LDM5NSwxOTMsMzc3LDM2OSwzNjEsMzUzLDM0NSwxNjksMzMxLDMyNSwzMTksMzEzLDMwNywzMDEsMzcsMTQ1LDI4NSwyODEsNjksMjcxLDI2NywyNjMsMjU5LDUwOSw1MDEsNDkzLDI0Myw0NzksMTE4LDQ2NSw0NTksMTEzLDQ0Niw1NSw0MzUsNDI5LDQyMywyMDksNDEzLDUxLDQwMywxOTksMzkzLDk3LDMsMzc5LDM3NSwzNzEsMzY3LDM2MywzNTksMzU1LDM1MSwzNDcsNDMsODUsMzM3LDMzMywxNjUsMzI3LDMyMyw1LDMxNywxNTcsMzExLDc3LDMwNSwzMDMsNzUsMjk3LDI5NCw3MywyODksMjg3LDcxLDE0MSwyNzksMjc3LDI3NSw2OCwxMzUsNjcsMTMzLDMzLDI2MiwyNjAsMTI5LDUxMSw1MDcsNTAzLDQ5OSw0OTUsNDkxLDYxLDEyMSw0ODEsNDc3LDIzNywyMzUsNDY3LDIzMiwxMTUsNDU3LDIyNyw0NTEsNyw0NDUsMjIxLDQzOSwyMTgsNDMzLDIxNSw0MjcsNDI1LDIxMSw0MTksNDE3LDIwNyw0MTEsNDA5LDIwMywyMDIsNDAxLDM5OSwzOTYsMTk3LDQ5LDM4OSwzODcsMzg1LDM4Myw5NSwxODksNDcsMTg3LDkzLDE4NSwyMywxODMsOTEsMTgxLDQ1LDE3OSw4OSwxNzcsMTEsMTc1LDg3LDE3MywzNDUsMzQzLDM0MSwzMzksMzM3LDIxLDE2Nyw4MywzMzEsMzI5LDMyNywxNjMsODEsMzIzLDMyMSwzMTksMTU5LDc5LDMxNSwzMTMsMzksMTU1LDMwOSwzMDcsMTUzLDMwNSwzMDMsMTUxLDc1LDI5OSwxNDksMzcsMjk1LDE0Nyw3MywyOTEsMTQ1LDI4OSwyODcsMTQzLDI4NSw3MSwxNDEsMjgxLDM1LDI3OSwxMzksNjksMjc1LDEzNywyNzMsMTcsMjcxLDEzNSwyNjksMjY3LDEzMywyNjUsMzMsMjYzLDEzMSwyNjEsMTMwLDI1OSwxMjksMjU3LDFdLGIuc2hnX3RhYmxlPVswLDksMTAsMTEsOSwxMiwxMCwxMSwxMiw5LDEzLDEzLDEwLDksMTMsMTMsMTQsMTQsMTQsMTQsMTAsMTMsMTQsMTQsMTQsMTMsMTMsMTMsOSwxNCwxNCwxNCwxNSwxNCwxNSwxNCwxNSwxNSwxNCwxNSwxNSwxNSwxNCwxNSwxNSwxNSwxNSwxNSwxNCwxNSwxNSwxNSwxNSwxNSwxNSwxMiwxNCwxNSwxNSwxMywxNSwxNSwxNSwxNSwxNiwxNiwxNiwxNSwxNiwxNCwxNiwxNiwxNCwxNiwxMywxNiwxNiwxNiwxNSwxNiwxMywxNiwxNSwxNiwxNCw5LDE2LDE2LDE2LDE2LDE2LDE2LDE2LDE2LDE2LDEzLDE0LDE2LDE2LDE1LDE2LDE2LDEwLDE2LDE1LDE2LDE0LDE2LDE2LDE0LDE2LDE2LDE0LDE2LDE2LDE0LDE1LDE2LDE2LDE2LDE0LDE1LDE0LDE1LDEzLDE2LDE2LDE1LDE3LDE3LDE3LDE3LDE3LDE3LDE0LDE1LDE3LDE3LDE2LDE2LDE3LDE2LDE1LDE3LDE2LDE3LDExLDE3LDE2LDE3LDE2LDE3LDE2LDE3LDE3LDE2LDE3LDE3LDE2LDE3LDE3LDE2LDE2LDE3LDE3LDE3LDE2LDE0LDE3LDE3LDE3LDE3LDE1LDE2LDE0LDE2LDE1LDE2LDEzLDE2LDE1LDE2LDE0LDE2LDE1LDE2LDEyLDE2LDE1LDE2LDE3LDE3LDE3LDE3LDE3LDEzLDE2LDE1LDE3LDE3LDE3LDE2LDE1LDE3LDE3LDE3LDE2LDE1LDE3LDE3LDE0LDE2LDE3LDE3LDE2LDE3LDE3LDE2LDE1LDE3LDE2LDE0LDE3LDE2LDE1LDE3LDE2LDE3LDE3LDE2LDE3LDE1LDE2LDE3LDE0LDE3LDE2LDE1LDE3LDE2LDE3LDEzLDE3LDE2LDE3LDE3LDE2LDE3LDE0LDE3LDE2LDE3LDE2LDE3LDE2LDE3LDldLGIuZ2V0Qm91bmRzPWZ1bmN0aW9uKCl7dmFyIGE9LjUqTWF0aC5wb3codGhpcy5xdWFsaXR5LC42KTtyZXR1cm4gbmV3IGNyZWF0ZWpzLlJlY3RhbmdsZSgtdGhpcy5ibHVyWCphLC10aGlzLmJsdXJZKmEsMip0aGlzLmJsdXJYKmEsMip0aGlzLmJsdXJZKmEpfSxiLmFwcGx5RmlsdGVyPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7Zj1mfHxhLG51bGw9PWcmJihnPWIpLG51bGw9PWgmJihoPWMpO3RyeXt2YXIgaT1hLmdldEltYWdlRGF0YShiLGMsZCxlKX1jYXRjaChqKXtyZXR1cm4hMX12YXIgaz10aGlzLmJsdXJYLzI7aWYoaXNOYU4oayl8fDA+aylyZXR1cm4hMTtrfD0wO3ZhciBsPXRoaXMuYmx1clkvMjtpZihpc05hTihsKXx8MD5sKXJldHVybiExO2lmKGx8PTAsMD09ayYmMD09bClyZXR1cm4hMTt2YXIgbT10aGlzLnF1YWxpdHk7KGlzTmFOKG0pfHwxPm0pJiYobT0xKSxtfD0wLG0+MyYmKG09MyksMT5tJiYobT0xKTt2YXIgYixjLG4sbyxwLHEscixzLHQsdSx2LHcseCx5LHosQT1pLmRhdGEsQj1rK2srMSxDPWwrbCsxLEQ9ZC0xLEU9ZS0xLEY9aysxLEc9bCsxLEg9e3I6MCxiOjAsZzowLGE6MCxuZXh0Om51bGx9LEk9SDtmb3Iobj0xO0I+bjtuKyspST1JLm5leHQ9e3I6MCxiOjAsZzowLGE6MCxuZXh0Om51bGx9O0kubmV4dD1IO3ZhciBKPXtyOjAsYjowLGc6MCxhOjAsbmV4dDpudWxsfSxLPUo7Zm9yKG49MTtDPm47bisrKUs9Sy5uZXh0PXtyOjAsYjowLGc6MCxhOjAsbmV4dDpudWxsfTtLLm5leHQ9Sjtmb3IodmFyIEw9bnVsbDttLS0+MDspe3I9cT0wO3ZhciBNPXRoaXMubXVsX3RhYmxlW2tdLE49dGhpcy5zaGdfdGFibGVba107Zm9yKGM9ZTstLWM+LTE7KXtmb3Iocz1GKih3PUFbcV0pLHQ9RiooeD1BW3ErMV0pLHU9RiooeT1BW3ErMl0pLHY9Riooej1BW3ErM10pLEk9SCxuPUY7LS1uPi0xOylJLnI9dyxJLmc9eCxJLmI9eSxJLmE9eixJPUkubmV4dDtmb3Iobj0xO0Y+bjtuKyspbz1xKygobj5EP0Q6bik8PDIpLHMrPUkucj1BW29dLHQrPUkuZz1BW28rMV0sdSs9SS5iPUFbbysyXSx2Kz1JLmE9QVtvKzNdLEk9SS5uZXh0O2ZvcihMPUgsYj0wO2Q+YjtiKyspQVtxKytdPXMqTT4+Pk4sQVtxKytdPXQqTT4+Pk4sQVtxKytdPXUqTT4+Pk4sQVtxKytdPXYqTT4+Pk4sbz1yKygobz1iK2srMSk8RD9vOkQpPDwyLHMtPUwuci0oTC5yPUFbb10pLHQtPUwuZy0oTC5nPUFbbysxXSksdS09TC5iLShMLmI9QVtvKzJdKSx2LT1MLmEtKEwuYT1BW28rM10pLEw9TC5uZXh0O3IrPWR9Zm9yKE09dGhpcy5tdWxfdGFibGVbbF0sTj10aGlzLnNoZ190YWJsZVtsXSxiPTA7ZD5iO2IrKyl7Zm9yKHE9Yjw8MixzPUcqKHc9QVtxXSksdD1HKih4PUFbcSsxXSksdT1HKih5PUFbcSsyXSksdj1HKih6PUFbcSszXSksSz1KLG49MDtHPm47bisrKUsucj13LEsuZz14LEsuYj15LEsuYT16LEs9Sy5uZXh0O2ZvcihwPWQsbj0xO2w+PW47bisrKXE9cCtiPDwyLHMrPUsucj1BW3FdLHQrPUsuZz1BW3ErMV0sdSs9Sy5iPUFbcSsyXSx2Kz1LLmE9QVtxKzNdLEs9Sy5uZXh0LEU+biYmKHArPWQpO2lmKHE9YixMPUosbT4wKWZvcihjPTA7ZT5jO2MrKylvPXE8PDIsQVtvKzNdPXo9dipNPj4+Tix6PjA/KEFbb109cypNPj4+TixBW28rMV09dCpNPj4+TixBW28rMl09dSpNPj4+Tik6QVtvXT1BW28rMV09QVtvKzJdPTAsbz1iKygobz1jK0cpPEU/bzpFKSpkPDwyLHMtPUwuci0oTC5yPUFbb10pLHQtPUwuZy0oTC5nPUFbbysxXSksdS09TC5iLShMLmI9QVtvKzJdKSx2LT1MLmEtKEwuYT1BW28rM10pLEw9TC5uZXh0LHErPWQ7ZWxzZSBmb3IoYz0wO2U+YztjKyspbz1xPDwyLEFbbyszXT16PXYqTT4+Pk4sej4wPyh6PTI1NS96LEFbb109KHMqTT4+Pk4pKnosQVtvKzFdPSh0Kk0+Pj5OKSp6LEFbbysyXT0odSpNPj4+Tikqeik6QVtvXT1BW28rMV09QVtvKzJdPTAsbz1iKygobz1jK0cpPEU/bzpFKSpkPDwyLHMtPUwuci0oTC5yPUFbb10pLHQtPUwuZy0oTC5nPUFbbysxXSksdS09TC5iLShMLmI9QVtvKzJdKSx2LT1MLmEtKEwuYT1BW28rM10pLEw9TC5uZXh0LHErPWR9fXJldHVybiBmLnB1dEltYWdlRGF0YShpLGcsaCksITB9LGIuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGEodGhpcy5ibHVyWCx0aGlzLmJsdXJZLHRoaXMucXVhbGl0eSl9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW0JsdXJGaWx0ZXJdIn0sY3JlYXRlanMuQmx1ckZpbHRlcj1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9ZnVuY3Rpb24oYSl7dGhpcy5pbml0aWFsaXplKGEpfSxiPWEucHJvdG90eXBlPW5ldyBjcmVhdGVqcy5GaWx0ZXI7Yi5pbml0aWFsaXplPWZ1bmN0aW9uKGEpe3RoaXMuYWxwaGFNYXA9YX0sYi5hbHBoYU1hcD1udWxsLGIuX2FscGhhTWFwPW51bGwsYi5fbWFwRGF0YT1udWxsLGIuYXBwbHlGaWx0ZXI9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXtpZighdGhpcy5hbHBoYU1hcClyZXR1cm4hMDtpZighdGhpcy5fcHJlcEFscGhhTWFwKCkpcmV0dXJuITE7Zj1mfHxhLG51bGw9PWcmJihnPWIpLG51bGw9PWgmJihoPWMpO3RyeXt2YXIgaT1hLmdldEltYWdlRGF0YShiLGMsZCxlKX1jYXRjaChqKXtyZXR1cm4hMX1mb3IodmFyIGs9aS5kYXRhLGw9dGhpcy5fbWFwRGF0YSxtPWsubGVuZ3RoLG49MDttPm47bis9NClrW24rM109bFtuXXx8MDtyZXR1cm4gaS5kYXRhPWssZi5wdXRJbWFnZURhdGEoaSxnLGgpLCEwfSxiLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhKHRoaXMuYWxwaGFNYXApfSxiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltBbHBoYU1hcEZpbHRlcl0ifSxiLl9wcmVwQWxwaGFNYXA9ZnVuY3Rpb24oKXtpZighdGhpcy5hbHBoYU1hcClyZXR1cm4hMTtpZih0aGlzLmFscGhhTWFwPT10aGlzLl9hbHBoYU1hcCYmdGhpcy5fbWFwRGF0YSlyZXR1cm4hMDt0aGlzLl9tYXBEYXRhPW51bGw7dmFyIGEsYj10aGlzLl9hbHBoYU1hcD10aGlzLmFscGhhTWFwLGM9YjtiIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQ/YT1jLmdldENvbnRleHQoIjJkIik6KGM9Y3JlYXRlanMuY3JlYXRlQ2FudmFzP2NyZWF0ZWpzLmNyZWF0ZUNhbnZhcygpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLGMud2lkdGg9Yi53aWR0aCxjLmhlaWdodD1iLmhlaWdodCxhPWMuZ2V0Q29udGV4dCgiMmQiKSxhLmRyYXdJbWFnZShiLDAsMCkpO3RyeXt2YXIgZD1hLmdldEltYWdlRGF0YSgwLDAsYi53aWR0aCxiLmhlaWdodCl9Y2F0Y2goZSl7cmV0dXJuITF9cmV0dXJuIHRoaXMuX21hcERhdGE9ZC5kYXRhLCEwfSxjcmVhdGVqcy5BbHBoYU1hcEZpbHRlcj1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9ZnVuY3Rpb24oYSl7dGhpcy5pbml0aWFsaXplKGEpfSxiPWEucHJvdG90eXBlPW5ldyBjcmVhdGVqcy5GaWx0ZXI7Yi5pbml0aWFsaXplPWZ1bmN0aW9uKGEpe3RoaXMubWFzaz1hfSxiLm1hc2s9bnVsbCxiLmFwcGx5RmlsdGVyPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7cmV0dXJuIHRoaXMubWFzaz8oZj1mfHxhLG51bGw9PWcmJihnPWIpLG51bGw9PWgmJihoPWMpLGYuc2F2ZSgpLGYuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPSJkZXN0aW5hdGlvbi1pbiIsZi5kcmF3SW1hZ2UodGhpcy5tYXNrLGcsaCksZi5yZXN0b3JlKCksITApOiEwfSxiLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhKHRoaXMubWFzayl9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW0FscGhhTWFza0ZpbHRlcl0ifSxjcmVhdGVqcy5BbHBoYU1hc2tGaWx0ZXI9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7dGhpcy5pbml0aWFsaXplKGEsYixjLGQsZSxmLGcsaCl9LGI9YS5wcm90b3R5cGU9bmV3IGNyZWF0ZWpzLkZpbHRlcjtiLnJlZE11bHRpcGxpZXI9MSxiLmdyZWVuTXVsdGlwbGllcj0xLGIuYmx1ZU11bHRpcGxpZXI9MSxiLmFscGhhTXVsdGlwbGllcj0xLGIucmVkT2Zmc2V0PTAsYi5ncmVlbk9mZnNldD0wLGIuYmx1ZU9mZnNldD0wLGIuYWxwaGFPZmZzZXQ9MCxiLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXt0aGlzLnJlZE11bHRpcGxpZXI9bnVsbCE9YT9hOjEsdGhpcy5ncmVlbk11bHRpcGxpZXI9bnVsbCE9Yj9iOjEsdGhpcy5ibHVlTXVsdGlwbGllcj1udWxsIT1jP2M6MSx0aGlzLmFscGhhTXVsdGlwbGllcj1udWxsIT1kP2Q6MSx0aGlzLnJlZE9mZnNldD1lfHwwLHRoaXMuZ3JlZW5PZmZzZXQ9Znx8MCx0aGlzLmJsdWVPZmZzZXQ9Z3x8MCx0aGlzLmFscGhhT2Zmc2V0PWh8fDB9LGIuYXBwbHlGaWx0ZXI9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXtmPWZ8fGEsbnVsbD09ZyYmKGc9YiksbnVsbD09aCYmKGg9Yyk7dHJ5e3ZhciBpPWEuZ2V0SW1hZ2VEYXRhKGIsYyxkLGUpfWNhdGNoKGope3JldHVybiExfWZvcih2YXIgaz1pLmRhdGEsbD1rLmxlbmd0aCxtPTA7bD5tO20rPTQpa1ttXT1rW21dKnRoaXMucmVkTXVsdGlwbGllcit0aGlzLnJlZE9mZnNldCxrW20rMV09a1ttKzFdKnRoaXMuZ3JlZW5NdWx0aXBsaWVyK3RoaXMuZ3JlZW5PZmZzZXQsa1ttKzJdPWtbbSsyXSp0aGlzLmJsdWVNdWx0aXBsaWVyK3RoaXMuYmx1ZU9mZnNldCxrW20rM109a1ttKzNdKnRoaXMuYWxwaGFNdWx0aXBsaWVyK3RoaXMuYWxwaGFPZmZzZXQ7cmV0dXJuIGYucHV0SW1hZ2VEYXRhKGksZyxoKSwhMH0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbQ29sb3JGaWx0ZXJdIn0sYi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgYSh0aGlzLnJlZE11bHRpcGxpZXIsdGhpcy5ncmVlbk11bHRpcGxpZXIsdGhpcy5ibHVlTXVsdGlwbGllcix0aGlzLmFscGhhTXVsdGlwbGllcix0aGlzLnJlZE9mZnNldCx0aGlzLmdyZWVuT2Zmc2V0LHRoaXMuYmx1ZU9mZnNldCx0aGlzLmFscGhhT2Zmc2V0KX0sY3JlYXRlanMuQ29sb3JGaWx0ZXI9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuaW5pdGlhbGl6ZShhLGIsYyxkKX0sYj1hLnByb3RvdHlwZT1bXTthLkRFTFRBX0lOREVYPVswLC4wMSwuMDIsLjA0LC4wNSwuMDYsLjA3LC4wOCwuMSwuMTEsLjEyLC4xNCwuMTUsLjE2LC4xNywuMTgsLjIsLjIxLC4yMiwuMjQsLjI1LC4yNywuMjgsLjMsLjMyLC4zNCwuMzYsLjM4LC40LC40MiwuNDQsLjQ2LC40OCwuNSwuNTMsLjU2LC41OSwuNjIsLjY1LC42OCwuNzEsLjc0LC43NywuOCwuODMsLjg2LC44OSwuOTIsLjk1LC45OCwxLDEuMDYsMS4xMiwxLjE4LDEuMjQsMS4zLDEuMzYsMS40MiwxLjQ4LDEuNTQsMS42LDEuNjYsMS43MiwxLjc4LDEuODQsMS45LDEuOTYsMiwyLjEyLDIuMjUsMi4zNywyLjUsMi42MiwyLjc1LDIuODcsMywzLjIsMy40LDMuNiwzLjgsNCw0LjMsNC43LDQuOSw1LDUuNSw2LDYuNSw2LjgsNyw3LjMsNy41LDcuOCw4LDguNCw4LjcsOSw5LjQsOS42LDkuOCwxMF0sYS5JREVOVElUWV9NQVRSSVg9WzEsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDFdLGEuTEVOR1RIPWEuSURFTlRJVFlfTUFUUklYLmxlbmd0aCxiLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMucmVzZXQoKSx0aGlzLmFkanVzdENvbG9yKGEsYixjLGQpLHRoaXN9LGIucmVzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb3B5TWF0cml4KGEuSURFTlRJVFlfTUFUUklYKX0sYi5hZGp1c3RDb2xvcj1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5hZGp1c3RIdWUoZCksdGhpcy5hZGp1c3RDb250cmFzdChiKSx0aGlzLmFkanVzdEJyaWdodG5lc3MoYSksdGhpcy5hZGp1c3RTYXR1cmF0aW9uKGMpfSxiLmFkanVzdEJyaWdodG5lc3M9ZnVuY3Rpb24oYSl7cmV0dXJuIDA9PWF8fGlzTmFOKGEpP3RoaXM6KGE9dGhpcy5fY2xlYW5WYWx1ZShhLDI1NSksdGhpcy5fbXVsdGlwbHlNYXRyaXgoWzEsMCwwLDAsYSwwLDEsMCwwLGEsMCwwLDEsMCxhLDAsMCwwLDEsMCwwLDAsMCwwLDFdKSx0aGlzKX0sYi5hZGp1c3RDb250cmFzdD1mdW5jdGlvbihiKXtpZigwPT1ifHxpc05hTihiKSlyZXR1cm4gdGhpcztiPXRoaXMuX2NsZWFuVmFsdWUoYiwxMDApO3ZhciBjO3JldHVybiAwPmI/Yz0xMjcrMTI3KihiLzEwMCk6KGM9YiUxLGM9MD09Yz9hLkRFTFRBX0lOREVYW2JdOmEuREVMVEFfSU5ERVhbYjw8MF0qKDEtYykrYS5ERUxUQV9JTkRFWFsoYjw8MCkrMV0qYyxjPTEyNypjKzEyNyksdGhpcy5fbXVsdGlwbHlNYXRyaXgoW2MvMTI3LDAsMCwwLC41KigxMjctYyksMCxjLzEyNywwLDAsLjUqKDEyNy1jKSwwLDAsYy8xMjcsMCwuNSooMTI3LWMpLDAsMCwwLDEsMCwwLDAsMCwwLDFdKSx0aGlzfSxiLmFkanVzdFNhdHVyYXRpb249ZnVuY3Rpb24oYSl7aWYoMD09YXx8aXNOYU4oYSkpcmV0dXJuIHRoaXM7YT10aGlzLl9jbGVhblZhbHVlKGEsMTAwKTt2YXIgYj0xKyhhPjA/MyphLzEwMDphLzEwMCksYz0uMzA4NixkPS42MDk0LGU9LjA4MjtyZXR1cm4gdGhpcy5fbXVsdGlwbHlNYXRyaXgoW2MqKDEtYikrYixkKigxLWIpLGUqKDEtYiksMCwwLGMqKDEtYiksZCooMS1iKStiLGUqKDEtYiksMCwwLGMqKDEtYiksZCooMS1iKSxlKigxLWIpK2IsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDFdKSx0aGlzfSxiLmFkanVzdEh1ZT1mdW5jdGlvbihhKXtpZigwPT1hfHxpc05hTihhKSlyZXR1cm4gdGhpczthPXRoaXMuX2NsZWFuVmFsdWUoYSwxODApLzE4MCpNYXRoLlBJO3ZhciBiPU1hdGguY29zKGEpLGM9TWF0aC5zaW4oYSksZD0uMjEzLGU9LjcxNSxmPS4wNzI7cmV0dXJuIHRoaXMuX211bHRpcGx5TWF0cml4KFtkK2IqKDEtZCkrYyotZCxlK2IqLWUrYyotZSxmK2IqLWYrYyooMS1mKSwwLDAsZCtiKi1kKy4xNDMqYyxlK2IqKDEtZSkrLjE0KmMsZitiKi1mK2MqLS4yODMsMCwwLGQrYiotZCtjKi0oMS1kKSxlK2IqLWUrYyplLGYrYiooMS1mKStjKmYsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDFdKSx0aGlzfSxiLmNvbmNhdD1mdW5jdGlvbihiKXtyZXR1cm4gYj10aGlzLl9maXhNYXRyaXgoYiksYi5sZW5ndGghPWEuTEVOR1RIP3RoaXM6KHRoaXMuX211bHRpcGx5TWF0cml4KGIpLHRoaXMpfSxiLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhKHRoaXMpfSxiLnRvQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zbGljZSgwLGEuTEVOR1RIKX0sYi5jb3B5TWF0cml4PWZ1bmN0aW9uKGIpe2Zvcih2YXIgYz1hLkxFTkdUSCxkPTA7Yz5kO2QrKyl0aGlzW2RdPWJbZF07cmV0dXJuIHRoaXN9LGIuX211bHRpcGx5TWF0cml4PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTA7NT5jO2MrKyl7Zm9yKHZhciBkPTA7NT5kO2QrKyliW2RdPXRoaXNbZCs1KmNdO2Zvcih2YXIgZD0wOzU+ZDtkKyspe2Zvcih2YXIgZT0wLGY9MDs1PmY7ZisrKWUrPWFbZCs1KmZdKmJbZl07dGhpc1tkKzUqY109ZX19fSxiLl9jbGVhblZhbHVlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIE1hdGgubWluKGIsTWF0aC5tYXgoLWIsYSkpfSxiLl9maXhNYXRyaXg9ZnVuY3Rpb24oYil7cmV0dXJuIGIgaW5zdGFuY2VvZiBhJiYoYj1iLnNsaWNlKDApKSxiLmxlbmd0aDxhLkxFTkdUSD9iPWIuc2xpY2UoMCxiLmxlbmd0aCkuY29uY2F0KGEuSURFTlRJVFlfTUFUUklYLnNsaWNlKGIubGVuZ3RoLGEuTEVOR1RIKSk6Yi5sZW5ndGg+YS5MRU5HVEgmJihiPWIuc2xpY2UoMCxhLkxFTkdUSCkpLGJ9LGNyZWF0ZWpzLkNvbG9yTWF0cml4PWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbihhKXt0aGlzLmluaXRpYWxpemUoYSl9LGI9YS5wcm90b3R5cGU9bmV3IGNyZWF0ZWpzLkZpbHRlcjtiLm1hdHJpeD1udWxsLGIuaW5pdGlhbGl6ZT1mdW5jdGlvbihhKXt0aGlzLm1hdHJpeD1hfSxiLmFwcGx5RmlsdGVyPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7Zj1mfHxhLG51bGw9PWcmJihnPWIpLG51bGw9PWgmJihoPWMpO3RyeXt2YXIgaT1hLmdldEltYWdlRGF0YShiLGMsZCxlKX1jYXRjaChqKXtyZXR1cm4hMX1mb3IodmFyIGssbCxtLG4sbz1pLmRhdGEscD1vLmxlbmd0aCxxPXRoaXMubWF0cml4LHI9cVswXSxzPXFbMV0sdD1xWzJdLHU9cVszXSx2PXFbNF0sdz1xWzVdLHg9cVs2XSx5PXFbN10sej1xWzhdLEE9cVs5XSxCPXFbMTBdLEM9cVsxMV0sRD1xWzEyXSxFPXFbMTNdLEY9cVsxNF0sRz1xWzE1XSxIPXFbMTZdLEk9cVsxN10sSj1xWzE4XSxLPXFbMTldLEw9MDtwPkw7TCs9NClrPW9bTF0sbD1vW0wrMV0sbT1vW0wrMl0sbj1vW0wrM10sb1tMXT1rKnIrbCpzK20qdCtuKnUrdixvW0wrMV09ayp3K2wqeCttKnkrbip6K0Esb1tMKzJdPWsqQitsKkMrbSpEK24qRStGLG9bTCszXT1rKkcrbCpIK20qSStuKkorSztyZXR1cm4gZi5wdXRJbWFnZURhdGEoaSxnLGgpLCEwfSxiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltDb2xvck1hdHJpeEZpbHRlcl0ifSxiLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhKHRoaXMubWF0cml4KX0sY3JlYXRlanMuQ29sb3JNYXRyaXhGaWx0ZXI9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKCl7dGhyb3ciVG91Y2ggY2Fubm90IGJlIGluc3RhbnRpYXRlZCJ9O2EuaXNTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4ib250b3VjaHN0YXJ0ImluIHdpbmRvd3x8d2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkJiZ3aW5kb3cubmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHM+MH0sYS5lbmFibGU9ZnVuY3Rpb24oYixjLGQpe3JldHVybiBiJiZiLmNhbnZhcyYmYS5pc1N1cHBvcnRlZCgpPyhiLl9fdG91Y2g9e3BvaW50ZXJzOnt9LG11bHRpdG91Y2g6IWMscHJldmVudERlZmF1bHQ6IWQsY291bnQ6MH0sIm9udG91Y2hzdGFydCJpbiB3aW5kb3c/YS5fSU9TX2VuYWJsZShiKTp3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQmJmEuX0lFX2VuYWJsZShiKSwhMCk6ITF9LGEuZGlzYWJsZT1mdW5jdGlvbihiKXtiJiYoIm9udG91Y2hzdGFydCJpbiB3aW5kb3c/YS5fSU9TX2Rpc2FibGUoYik6d2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkJiZhLl9JRV9kaXNhYmxlKGIpKX0sYS5fSU9TX2VuYWJsZT1mdW5jdGlvbihiKXt2YXIgYz1iLmNhbnZhcyxkPWIuX190b3VjaC5mPWZ1bmN0aW9uKGMpe2EuX0lPU19oYW5kbGVFdmVudChiLGMpfTtjLmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoc3RhcnQiLGQsITEpLGMuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2htb3ZlIixkLCExKSxjLmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoZW5kIixkLCExKSxjLmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoY2FuY2VsIixkLCExKX0sYS5fSU9TX2Rpc2FibGU9ZnVuY3Rpb24oYSl7dmFyIGI9YS5jYW52YXM7aWYoYil7dmFyIGM9YS5fX3RvdWNoLmY7Yi5yZW1vdmVFdmVudExpc3RlbmVyKCJ0b3VjaHN0YXJ0IixjLCExKSxiLnJlbW92ZUV2ZW50TGlzdGVuZXIoInRvdWNobW92ZSIsYywhMSksYi5yZW1vdmVFdmVudExpc3RlbmVyKCJ0b3VjaGVuZCIsYywhMSksYi5yZW1vdmVFdmVudExpc3RlbmVyKCJ0b3VjaGNhbmNlbCIsYywhMSl9fSxhLl9JT1NfaGFuZGxlRXZlbnQ9ZnVuY3Rpb24oYSxiKXtpZihhKXthLl9fdG91Y2gucHJldmVudERlZmF1bHQmJmIucHJldmVudERlZmF1bHQmJmIucHJldmVudERlZmF1bHQoKTtmb3IodmFyIGM9Yi5jaGFuZ2VkVG91Y2hlcyxkPWIudHlwZSxlPTAsZj1jLmxlbmd0aDtmPmU7ZSsrKXt2YXIgZz1jW2VdLGg9Zy5pZGVudGlmaWVyO2cudGFyZ2V0PT1hLmNhbnZhcyYmKCJ0b3VjaHN0YXJ0Ij09ZD90aGlzLl9oYW5kbGVTdGFydChhLGgsYixnLnBhZ2VYLGcucGFnZVkpOiJ0b3VjaG1vdmUiPT1kP3RoaXMuX2hhbmRsZU1vdmUoYSxoLGIsZy5wYWdlWCxnLnBhZ2VZKTooInRvdWNoZW5kIj09ZHx8InRvdWNoY2FuY2VsIj09ZCkmJnRoaXMuX2hhbmRsZUVuZChhLGgsYikpfX19LGEuX0lFX2VuYWJsZT1mdW5jdGlvbihiKXt2YXIgYz1iLmNhbnZhcyxkPWIuX190b3VjaC5mPWZ1bmN0aW9uKGMpe2EuX0lFX2hhbmRsZUV2ZW50KGIsYyl9O2MuYWRkRXZlbnRMaXN0ZW5lcigiTVNQb2ludGVyRG93biIsZCwhMSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIk1TUG9pbnRlck1vdmUiLGQsITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJNU1BvaW50ZXJVcCIsZCwhMSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIk1TUG9pbnRlckNhbmNlbCIsZCwhMSksYi5fX3RvdWNoLnByZXZlbnREZWZhdWx0JiYoYy5zdHlsZS5tc1RvdWNoQWN0aW9uPSJub25lIiksYi5fX3RvdWNoLmFjdGl2ZUlEcz17fX0sYS5fSUVfZGlzYWJsZT1mdW5jdGlvbihhKXt2YXIgYj1hLl9fdG91Y2guZjt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiTVNQb2ludGVyTW92ZSIsYiwhMSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIk1TUG9pbnRlclVwIixiLCExKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiTVNQb2ludGVyQ2FuY2VsIixiLCExKSxhLmNhbnZhcyYmYS5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigiTVNQb2ludGVyRG93biIsYiwhMSl9LGEuX0lFX2hhbmRsZUV2ZW50PWZ1bmN0aW9uKGEsYil7aWYoYSl7YS5fX3RvdWNoLnByZXZlbnREZWZhdWx0JiZiLnByZXZlbnREZWZhdWx0JiZiLnByZXZlbnREZWZhdWx0KCk7dmFyIGM9Yi50eXBlLGQ9Yi5wb2ludGVySWQsZT1hLl9fdG91Y2guYWN0aXZlSURzO2lmKCJNU1BvaW50ZXJEb3duIj09Yyl7aWYoYi5zcmNFbGVtZW50IT1hLmNhbnZhcylyZXR1cm47ZVtkXT0hMCx0aGlzLl9oYW5kbGVTdGFydChhLGQsYixiLnBhZ2VYLGIucGFnZVkpfWVsc2UgZVtkXSYmKCJNU1BvaW50ZXJNb3ZlIj09Yz90aGlzLl9oYW5kbGVNb3ZlKGEsZCxiLGIucGFnZVgsYi5wYWdlWSk6KCJNU1BvaW50ZXJVcCI9PWN8fCJNU1BvaW50ZXJDYW5jZWwiPT1jKSYmKGRlbGV0ZSBlW2RdLHRoaXMuX2hhbmRsZUVuZChhLGQsYikpKX19LGEuX2hhbmRsZVN0YXJ0PWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS5fX3RvdWNoO2lmKGYubXVsdGl0b3VjaHx8IWYuY291bnQpe3ZhciBnPWYucG9pbnRlcnM7Z1tiXXx8KGdbYl09ITAsZi5jb3VudCsrLGEuX2hhbmRsZVBvaW50ZXJEb3duKGIsYyxkLGUpKX19LGEuX2hhbmRsZU1vdmU9ZnVuY3Rpb24oYSxiLGMsZCxlKXthLl9fdG91Y2gucG9pbnRlcnNbYl0mJmEuX2hhbmRsZVBvaW50ZXJNb3ZlKGIsYyxkLGUpfSxhLl9oYW5kbGVFbmQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEuX190b3VjaCxlPWQucG9pbnRlcnM7ZVtiXSYmKGQuY291bnQtLSxhLl9oYW5kbGVQb2ludGVyVXAoYixjLCEwKSxkZWxldGUgZVtiXSl9LGNyZWF0ZWpzLlRvdWNoPWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1jcmVhdGVqcy5FYXNlbEpTPWNyZWF0ZWpzLkVhc2VsSlN8fHt9O2EudmVyc2lvbj0iTkVYVCIsYS5idWlsZERhdGU9IlR1ZSwgMDEgT2N0IDIwMTMgMTY6MDM6MzggR01UIn0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWNyZWF0ZWpzLlByZWxvYWRKUz1jcmVhdGVqcy5QcmVsb2FkSlN8fHt9O2EudmVyc2lvbj0iTkVYVCIsYS5idWlsZERhdGU9IlR1ZSwgMDEgT2N0IDIwMTMgMTY6MDM6MzggR01UIn0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NyZWF0ZWpzLnByb3h5PWZ1bmN0aW9uKGEsYil7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApLmNvbmNhdChjKSl9fX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKCl7dGhpcy5pbml0KCl9O2EucHJvdG90eXBlPXt9O3ZhciBiPWEucHJvdG90eXBlLGM9YTtjLkZJTEVfUEFUVEVSTj0vXig/Oihcdys6KVwvezJ9KFx3Kyg/OlwuXHcrKSpcLz8pKT8oWy8uXSo/KD86W14/XSspP1wvKT8oKD86W14vP10rKVwuKFx3KykpKD86XD8oXFMrKT8pPyQvLGIubG9hZGVkPSExLGIuY2FuY2VsZWQ9ITEsYi5wcm9ncmVzcz0wLGIuX2l0ZW09bnVsbCxiLl9iYXNlUGF0aD1udWxsLGIuYWRkRXZlbnRMaXN0ZW5lcj1udWxsLGIucmVtb3ZlRXZlbnRMaXN0ZW5lcj1udWxsLGIucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnM9bnVsbCxiLmRpc3BhdGNoRXZlbnQ9bnVsbCxiLmhhc0V2ZW50TGlzdGVuZXI9bnVsbCxiLl9saXN0ZW5lcnM9bnVsbCxjcmVhdGVqcy5FdmVudERpc3BhdGNoZXIuaW5pdGlhbGl6ZShiKSxiLmdldEl0ZW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXRlbX0sYi5pbml0PWZ1bmN0aW9uKCl7fSxiLmxvYWQ9ZnVuY3Rpb24oKXt9LGIuY2xvc2U9ZnVuY3Rpb24oKXt9LGIuX3NlbmRMb2FkU3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLl9pc0NhbmNlbGVkKCl8fHRoaXMuZGlzcGF0Y2hFdmVudCgibG9hZHN0YXJ0Iil9LGIuX3NlbmRQcm9ncmVzcz1mdW5jdGlvbihhKXtpZighdGhpcy5faXNDYW5jZWxlZCgpKXt2YXIgYj1udWxsOyJudW1iZXIiPT10eXBlb2YgYT8odGhpcy5wcm9ncmVzcz1hLGI9bmV3IGNyZWF0ZWpzLkV2ZW50KCJwcm9ncmVzcyIpLGIubG9hZGVkPXRoaXMucHJvZ3Jlc3MsYi50b3RhbD0xKTooYj1hLHRoaXMucHJvZ3Jlc3M9YS5sb2FkZWQvYS50b3RhbCwoaXNOYU4odGhpcy5wcm9ncmVzcyl8fDEvMD09dGhpcy5wcm9ncmVzcykmJih0aGlzLnByb2dyZXNzPTApKSxiLnByb2dyZXNzPXRoaXMucHJvZ3Jlc3MsdGhpcy5oYXNFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIpJiZ0aGlzLmRpc3BhdGNoRXZlbnQoYil9fSxiLl9zZW5kQ29tcGxldGU9ZnVuY3Rpb24oKXt0aGlzLl9pc0NhbmNlbGVkKCl8fHRoaXMuZGlzcGF0Y2hFdmVudCgiY29tcGxldGUiKX0sYi5fc2VuZEVycm9yPWZ1bmN0aW9uKGEpeyF0aGlzLl9pc0NhbmNlbGVkKCkmJnRoaXMuaGFzRXZlbnRMaXN0ZW5lcigiZXJyb3IiKSYmKG51bGw9PWEmJihhPW5ldyBjcmVhdGVqcy5FdmVudCgiZXJyb3IiKSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0sYi5faXNDYW5jZWxlZD1mdW5jdGlvbigpe3JldHVybiBudWxsPT13aW5kb3cuY3JlYXRlanN8fHRoaXMuY2FuY2VsZWQ/ITA6ITF9LGIuX3BhcnNlVVJJPWZ1bmN0aW9uKGEpe3JldHVybiBhP2EubWF0Y2goYy5GSUxFX1BBVFRFUk4pOm51bGx9LGIuX2Zvcm1hdFF1ZXJ5U3RyaW5nPWZ1bmN0aW9uKGEsYil7aWYobnVsbD09YSl0aHJvdyBuZXcgRXJyb3IoIllvdSBtdXN0IHNwZWNpZnkgZGF0YS4iKTt2YXIgYz1bXTtmb3IodmFyIGQgaW4gYSljLnB1c2goZCsiPSIrZXNjYXBlKGFbZF0pKTtyZXR1cm4gYiYmKGM9Yy5jb25jYXQoYikpLGMuam9pbigiJiIpfSxiLmJ1aWxkUGF0aD1mdW5jdGlvbihhLGIsYyl7aWYobnVsbCE9Yil7dmFyIGQ9dGhpcy5fcGFyc2VVUkkoYSk7KG51bGw9PWR8fG51bGw9PWRbMV18fCIiPT1kWzFdKSYmKGE9YithKX1pZihudWxsPT1jKXJldHVybiBhO3ZhciBlPVtdLGY9YS5pbmRleE9mKCI/Iik7aWYoLTEhPWYpe3ZhciBnPWEuc2xpY2UoZisxKTtlPWUuY29uY2F0KGcuc3BsaXQoIiYiKSl9cmV0dXJuLTEhPWY/YS5zbGljZSgwLGYpKyI/Iit0aGlzLl9mb3JtYXRRdWVyeVN0cmluZyhjLGUpOmErIj8iK3RoaXMuX2Zvcm1hdFF1ZXJ5U3RyaW5nKGMsZSl9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW1ByZWxvYWRKUyBBYnN0cmFjdExvYWRlcl0ifSxjcmVhdGVqcy5BYnN0cmFjdExvYWRlcj1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9ZnVuY3Rpb24oYSxiKXt0aGlzLmluaXQoYSxiKX0sYj1hLnByb3RvdHlwZT1uZXcgY3JlYXRlanMuQWJzdHJhY3RMb2FkZXIsYz1hO2MuTE9BRF9USU1FT1VUPThlMyxjLkJJTkFSWT0iYmluYXJ5IixjLkNTUz0iY3NzIixjLklNQUdFPSJpbWFnZSIsYy5KQVZBU0NSSVBUPSJqYXZhc2NyaXB0IixjLkpTT049Impzb24iLGMuSlNPTlA9Impzb25wIixjLlNPVU5EPSJzb3VuZCIsYy5TVkc9InN2ZyIsYy5URVhUPSJ0ZXh0IixjLlhNTD0ieG1sIixjLlBPU1Q9IlBPU1QiLGMuR0VUPSJHRVQiLGIudXNlWEhSPSEwLGIuc3RvcE9uRXJyb3I9ITEsYi5tYWludGFpblNjcmlwdE9yZGVyPSEwLGIubmV4dD1udWxsLGIuX3R5cGVDYWxsYmFja3M9bnVsbCxiLl9leHRlbnNpb25DYWxsYmFja3M9bnVsbCxiLl9sb2FkU3RhcnRXYXNEaXNwYXRjaGVkPSExLGIuX21heENvbm5lY3Rpb25zPTEsYi5fY3VycmVudGx5TG9hZGluZ1NjcmlwdD1udWxsLGIuX2N1cnJlbnRMb2Fkcz1udWxsLGIuX2xvYWRRdWV1ZT1udWxsLGIuX2xvYWRRdWV1ZUJhY2t1cD1udWxsLGIuX2xvYWRJdGVtc0J5SWQ9bnVsbCxiLl9sb2FkSXRlbXNCeVNyYz1udWxsLGIuX2xvYWRlZFJlc3VsdHM9bnVsbCxiLl9sb2FkZWRSYXdSZXN1bHRzPW51bGwsYi5fbnVtSXRlbXM9MCxiLl9udW1JdGVtc0xvYWRlZD0wLGIuX3NjcmlwdE9yZGVyPW51bGwsYi5fbG9hZGVkU2NyaXB0cz1udWxsLGIuaW5pdD1mdW5jdGlvbihhLGIpe3RoaXMuX251bUl0ZW1zPXRoaXMuX251bUl0ZW1zTG9hZGVkPTAsdGhpcy5fcGF1c2VkPSExLHRoaXMuX2xvYWRTdGFydFdhc0Rpc3BhdGNoZWQ9ITEsdGhpcy5fY3VycmVudExvYWRzPVtdLHRoaXMuX2xvYWRRdWV1ZT1bXSx0aGlzLl9sb2FkUXVldWVCYWNrdXA9W10sdGhpcy5fc2NyaXB0T3JkZXI9W10sdGhpcy5fbG9hZGVkU2NyaXB0cz1bXSx0aGlzLl9sb2FkSXRlbXNCeUlkPXt9LHRoaXMuX2xvYWRJdGVtc0J5U3JjPXt9LHRoaXMuX2xvYWRlZFJlc3VsdHM9e30sdGhpcy5fbG9hZGVkUmF3UmVzdWx0cz17fSx0aGlzLl90eXBlQ2FsbGJhY2tzPXt9LHRoaXMuX2V4dGVuc2lvbkNhbGxiYWNrcz17fSx0aGlzLl9iYXNlUGF0aD1iLHRoaXMuc2V0VXNlWEhSKGEpfSxiLnNldFVzZVhIUj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy51c2VYSFI9MCE9YSYmbnVsbCE9d2luZG93LlhNTEh0dHBSZXF1ZXN0LHRoaXMudXNlWEhSfSxiLnJlbW92ZUFsbD1mdW5jdGlvbigpe3RoaXMucmVtb3ZlKCl9LGIucmVtb3ZlPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7aWYoIWF8fGEgaW5zdGFuY2VvZiBBcnJheSl7aWYoYSliPWE7ZWxzZSBpZihhcmd1bWVudHMubGVuZ3RoPjApcmV0dXJufWVsc2UgYj1bYV07dmFyIGM9ITE7aWYoYil7Zm9yKDtiLmxlbmd0aDspe3ZhciBkPWIucG9wKCksZT10aGlzLmdldFJlc3VsdChkKTtmb3IoZj10aGlzLl9sb2FkUXVldWUubGVuZ3RoLTE7Zj49MDtmLS0paWYoZz10aGlzLl9sb2FkUXVldWVbZl0uZ2V0SXRlbSgpLGcuaWQ9PWR8fGcuc3JjPT1kKXt0aGlzLl9sb2FkUXVldWUuc3BsaWNlKGYsMSlbMF0uY2FuY2VsKCk7YnJlYWt9Zm9yKGY9dGhpcy5fbG9hZFF1ZXVlQmFja3VwLmxlbmd0aC0xO2Y+PTA7Zi0tKWlmKGc9dGhpcy5fbG9hZFF1ZXVlQmFja3VwW2ZdLmdldEl0ZW0oKSxnLmlkPT1kfHxnLnNyYz09ZCl7dGhpcy5fbG9hZFF1ZXVlQmFja3VwLnNwbGljZShmLDEpWzBdLmNhbmNlbCgpO2JyZWFrfWlmKGUpZGVsZXRlIHRoaXMuX2xvYWRJdGVtc0J5SWRbZS5pZF0sZGVsZXRlIHRoaXMuX2xvYWRJdGVtc0J5U3JjW2Uuc3JjXSx0aGlzLl9kaXNwb3NlSXRlbShlKTtlbHNlIGZvcih2YXIgZj10aGlzLl9jdXJyZW50TG9hZHMubGVuZ3RoLTE7Zj49MDtmLS0pe3ZhciBnPXRoaXMuX2N1cnJlbnRMb2Fkc1tmXS5nZXRJdGVtKCk7aWYoZy5pZD09ZHx8Zy5zcmM9PWQpe3RoaXMuX2N1cnJlbnRMb2Fkcy5zcGxpY2UoZiwxKVswXS5jYW5jZWwoKSxjPSEwO2JyZWFrfX19YyYmdGhpcy5fbG9hZE5leHQoKX1lbHNle3RoaXMuY2xvc2UoKTtmb3IodmFyIGggaW4gdGhpcy5fbG9hZEl0ZW1zQnlJZCl0aGlzLl9kaXNwb3NlSXRlbSh0aGlzLl9sb2FkSXRlbXNCeUlkW2hdKTt0aGlzLmluaXQodGhpcy51c2VYSFIpfX0sYi5yZXNldD1mdW5jdGlvbigpe3RoaXMuY2xvc2UoKTtmb3IodmFyIGEgaW4gdGhpcy5fbG9hZEl0ZW1zQnlJZCl0aGlzLl9kaXNwb3NlSXRlbSh0aGlzLl9sb2FkSXRlbXNCeUlkW2FdKTt2YXIgYj1bXTtmb3IoaT0wLGw9dGhpcy5fbG9hZFF1ZXVlQmFja3VwLmxlbmd0aDtsPmk7aSsrKWIucHVzaCh0aGlzLl9sb2FkUXVldWVCYWNrdXBbaV0uZ2V0SXRlbSgpKTt0aGlzLmxvYWRNYW5pZmVzdChiLCExKX0sYy5pc0JpbmFyeT1mdW5jdGlvbihhKXtzd2l0Y2goYSl7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuSU1BR0U6Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuQklOQVJZOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSxiLmluc3RhbGxQbHVnaW49ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSYmbnVsbCE9YS5nZXRQcmVsb2FkSGFuZGxlcnMpe3ZhciBiPWEuZ2V0UHJlbG9hZEhhbmRsZXJzKCk7aWYobnVsbCE9Yi50eXBlcylmb3IodmFyIGM9MCxkPWIudHlwZXMubGVuZ3RoO2Q+YztjKyspdGhpcy5fdHlwZUNhbGxiYWNrc1tiLnR5cGVzW2NdXT1iLmNhbGxiYWNrO2lmKG51bGwhPWIuZXh0ZW5zaW9ucylmb3IoYz0wLGQ9Yi5leHRlbnNpb25zLmxlbmd0aDtkPmM7YysrKXRoaXMuX2V4dGVuc2lvbkNhbGxiYWNrc1tiLmV4dGVuc2lvbnNbY11dPWIuY2FsbGJhY2t9fSxiLnNldE1heENvbm5lY3Rpb25zPWZ1bmN0aW9uKGEpe3RoaXMuX21heENvbm5lY3Rpb25zPWEsIXRoaXMuX3BhdXNlZCYmdGhpcy5fbG9hZFF1ZXVlLmxlbmd0aD4wJiZ0aGlzLl9sb2FkTmV4dCgpfSxiLmxvYWRGaWxlPWZ1bmN0aW9uKGEsYixjKXtpZihudWxsPT1hKXt2YXIgZD1uZXcgY3JlYXRlanMuRXZlbnQoImVycm9yIik7cmV0dXJuIGQudGV4dD0iUFJFTE9BRF9OT19GSUxFIix0aGlzLl9zZW5kRXJyb3IoZCksdm9pZCAwfXRoaXMuX2FkZEl0ZW0oYSxjKSxiIT09ITE/dGhpcy5zZXRQYXVzZWQoITEpOnRoaXMuc2V0UGF1c2VkKCEwKX0sYi5sb2FkTWFuaWZlc3Q9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW51bGw7aWYoYSBpbnN0YW5jZW9mIEFycmF5KXtpZigwPT1hLmxlbmd0aCl7dmFyIGU9bmV3IGNyZWF0ZWpzLkV2ZW50KCJlcnJvciIpO3JldHVybiBlLnRleHQ9IlBSRUxPQURfTUFOSUZFU1RfRU1QVFkiLHRoaXMuX3NlbmRFcnJvcihlKSx2b2lkIDB9ZD1hfWVsc2V7aWYobnVsbD09YSl7dmFyIGU9bmV3IGNyZWF0ZWpzLkV2ZW50KCJlcnJvciIpO3JldHVybiBlLnRleHQ9IlBSRUxPQURfTUFOSUZFU1RfTlVMTCIsdGhpcy5fc2VuZEVycm9yKGUpLHZvaWQgMH1kPVthXX1mb3IodmFyIGY9MCxnPWQubGVuZ3RoO2c+ZjtmKyspdGhpcy5fYWRkSXRlbShkW2ZdLGMpO2IhPT0hMT90aGlzLnNldFBhdXNlZCghMSk6dGhpcy5zZXRQYXVzZWQoITApfSxiLmxvYWQ9ZnVuY3Rpb24oKXt0aGlzLnNldFBhdXNlZCghMSl9LGIuZ2V0SXRlbT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fbG9hZEl0ZW1zQnlJZFthXXx8dGhpcy5fbG9hZEl0ZW1zQnlTcmNbYV19LGIuZ2V0UmVzdWx0PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fbG9hZEl0ZW1zQnlJZFthXXx8dGhpcy5fbG9hZEl0ZW1zQnlTcmNbYV07aWYobnVsbD09YylyZXR1cm4gbnVsbDt2YXIgZD1jLmlkO3JldHVybiBiJiZ0aGlzLl9sb2FkZWRSYXdSZXN1bHRzW2RdP3RoaXMuX2xvYWRlZFJhd1Jlc3VsdHNbZF06dGhpcy5fbG9hZGVkUmVzdWx0c1tkXX0sYi5zZXRQYXVzZWQ9ZnVuY3Rpb24oYSl7dGhpcy5fcGF1c2VkPWEsdGhpcy5fcGF1c2VkfHx0aGlzLl9sb2FkTmV4dCgpfSxiLmNsb3NlPWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLl9jdXJyZW50TG9hZHMubGVuZ3RoOyl0aGlzLl9jdXJyZW50TG9hZHMucG9wKCkuY2FuY2VsKCk7dGhpcy5fc2NyaXB0T3JkZXIubGVuZ3RoPTAsdGhpcy5fbG9hZGVkU2NyaXB0cy5sZW5ndGg9MCx0aGlzLmxvYWRTdGFydFdhc0Rpc3BhdGNoZWQ9ITF9LGIuX2FkZEl0ZW09ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl9jcmVhdGVMb2FkSXRlbShhKTtpZihudWxsIT1jKXt2YXIgZD10aGlzLl9jcmVhdGVMb2FkZXIoYyxiKTtudWxsIT1kJiYodGhpcy5fbG9hZFF1ZXVlLnB1c2goZCksdGhpcy5fbG9hZFF1ZXVlQmFja3VwLnB1c2goZCksdGhpcy5fbnVtSXRlbXMrKyx0aGlzLl91cGRhdGVQcm9ncmVzcygpLHRoaXMubWFpbnRhaW5TY3JpcHRPcmRlciYmYy50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSkFWQVNDUklQVCYmZCBpbnN0YW5jZW9mIGNyZWF0ZWpzLlhIUkxvYWRlciYmKHRoaXMuX3NjcmlwdE9yZGVyLnB1c2goYyksdGhpcy5fbG9hZGVkU2NyaXB0cy5wdXNoKG51bGwpKSl9fSxiLl9jcmVhdGVMb2FkSXRlbT1mdW5jdGlvbihhKXt2YXIgYj1udWxsO3N3aXRjaCh0eXBlb2YgYSl7Y2FzZSJzdHJpbmciOmI9e3NyYzphfTticmVhaztjYXNlIm9iamVjdCI6Yj13aW5kb3cuSFRNTEF1ZGlvRWxlbWVudCYmYSBpbnN0YW5jZW9mIEhUTUxBdWRpb0VsZW1lbnQ/e3RhZzphLHNyYzpiLnRhZy5zcmMsdHlwZTpjcmVhdGVqcy5Mb2FkUXVldWUuU09VTkR9OmE7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gbnVsbH12YXIgYz10aGlzLl9wYXJzZVVSSShiLnNyYyk7aWYobnVsbCE9YyYmKGIuZXh0PWNbNV0pLG51bGw9PWIudHlwZSYmKGIudHlwZT10aGlzLl9nZXRUeXBlQnlFeHRlbnNpb24oYi5leHQpKSxiLnR5cGU9PWNyZWF0ZWpzLkxvYWRRdWV1ZS5KU09OJiZudWxsIT1iLmNhbGxiYWNrJiYoYi50eXBlPWNyZWF0ZWpzLkxvYWRRdWV1ZS5KU09OUCksYi50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSlNPTlAmJm51bGw9PWIuY2FsbGJhY2spdGhyb3cgbmV3IEVycm9yKCJjYWxsYmFjayBpcyByZXF1aXJlZCBmb3IgbG9hZGluZyBKU09OUCByZXF1ZXN0cy4iKTtudWxsPT1iLnRhZyYmKGIudGFnPXRoaXMuX2NyZWF0ZVRhZyhiLnR5cGUpKSwobnVsbD09Yi5pZHx8IiI9PWIuaWQpJiYoYi5pZD1iLnNyYyk7dmFyIGQ9dGhpcy5fdHlwZUNhbGxiYWNrc1tiLnR5cGVdfHx0aGlzLl9leHRlbnNpb25DYWxsYmFja3NbYi5leHRdO2lmKGQpe3ZhciBlPWQoYi5zcmMsYi50eXBlLGIuaWQsYi5kYXRhKTtpZihlPT09ITEpcmV0dXJuIG51bGw7ZT09PSEwfHwobnVsbCE9ZS5zcmMmJihiLnNyYz1lLnNyYyksbnVsbCE9ZS5pZCYmKGIuaWQ9ZS5pZCksbnVsbCE9ZS50YWcmJmUudGFnLmxvYWQgaW5zdGFuY2VvZiBGdW5jdGlvbiYmKGIudGFnPWUudGFnKSxudWxsIT1lLmNvbXBsZXRlSGFuZGxlciYmKGIuY29tcGxldGVIYW5kbGVyPWUuY29tcGxldGVIYW5kbGVyKSksZS50eXBlJiYoYi50eXBlPWUudHlwZSksYz10aGlzLl9wYXJzZVVSSShiLnNyYyksbnVsbCE9YyYmbnVsbCE9Y1s1XSYmKGIuZXh0PWNbNV0udG9Mb3dlckNhc2UoKSl9cmV0dXJuIHRoaXMuX2xvYWRJdGVtc0J5SWRbYi5pZF09Yix0aGlzLl9sb2FkSXRlbXNCeVNyY1tiLnNyY109YixifSxiLl9jcmVhdGVMb2FkZXI9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnVzZVhIUjtzd2l0Y2goYS50eXBlKXtjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5KU09OOmNhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLlhNTDpjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5URVhUOmM9ITA7YnJlYWs7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuU09VTkQ6Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuSlNPTlA6Yz0hMTticmVhaztjYXNlIG51bGw6cmV0dXJuIG51bGx9cmV0dXJuIG51bGw9PWImJihiPXRoaXMuX2Jhc2VQYXRoKSxjP25ldyBjcmVhdGVqcy5YSFJMb2FkZXIoYSxiKTpuZXcgY3JlYXRlanMuVGFnTG9hZGVyKGEsYil9LGIuX2xvYWROZXh0PWZ1bmN0aW9uKCl7aWYoIXRoaXMuX3BhdXNlZCl7dGhpcy5fbG9hZFN0YXJ0V2FzRGlzcGF0Y2hlZHx8KHRoaXMuX3NlbmRMb2FkU3RhcnQoKSx0aGlzLl9sb2FkU3RhcnRXYXNEaXNwYXRjaGVkPSEwKSx0aGlzLl9udW1JdGVtcz09dGhpcy5fbnVtSXRlbXNMb2FkZWQ/KHRoaXMubG9hZGVkPSEwLHRoaXMuX3NlbmRDb21wbGV0ZSgpLHRoaXMubmV4dCYmdGhpcy5uZXh0LmxvYWQmJnRoaXMubmV4dC5sb2FkKCkpOnRoaXMubG9hZGVkPSExO2Zvcih2YXIgYT0wO2E8dGhpcy5fbG9hZFF1ZXVlLmxlbmd0aCYmISh0aGlzLl9jdXJyZW50TG9hZHMubGVuZ3RoPj10aGlzLl9tYXhDb25uZWN0aW9ucyk7YSsrKXt2YXIgYj10aGlzLl9sb2FkUXVldWVbYV07aWYodGhpcy5tYWludGFpblNjcmlwdE9yZGVyJiZiIGluc3RhbmNlb2YgY3JlYXRlanMuVGFnTG9hZGVyJiZiLmdldEl0ZW0oKS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSkFWQVNDUklQVCl7aWYodGhpcy5fY3VycmVudGx5TG9hZGluZ1NjcmlwdCljb250aW51ZTt0aGlzLl9jdXJyZW50bHlMb2FkaW5nU2NyaXB0PSEwfXRoaXMuX2xvYWRRdWV1ZS5zcGxpY2UoYSwxKSxhLS0sdGhpcy5fbG9hZEl0ZW0oYil9fX0sYi5fbG9hZEl0ZW09ZnVuY3Rpb24oYSl7YS5hZGRFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlUHJvZ3Jlc3MsdGhpcykpLGEuYWRkRXZlbnRMaXN0ZW5lcigiY29tcGxldGUiLGNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZUZpbGVDb21wbGV0ZSx0aGlzKSksYS5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlRmlsZUVycm9yLHRoaXMpKSx0aGlzLl9jdXJyZW50TG9hZHMucHVzaChhKSx0aGlzLl9zZW5kRmlsZVN0YXJ0KGEuZ2V0SXRlbSgpKSxhLmxvYWQoKX0sYi5faGFuZGxlRmlsZUVycm9yPWZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0O3RoaXMuX251bUl0ZW1zTG9hZGVkKyssdGhpcy5fdXBkYXRlUHJvZ3Jlc3MoKTt2YXIgYT1uZXcgY3JlYXRlanMuRXZlbnQoImVycm9yIik7YS50ZXh0PSJGSUxFX0xPQURfRVJST1IiLGEuaXRlbT1iLmdldEl0ZW0oKSx0aGlzLl9zZW5kRXJyb3IoYSksdGhpcy5zdG9wT25FcnJvcnx8KHRoaXMuX3JlbW92ZUxvYWRJdGVtKGIpLHRoaXMuX2xvYWROZXh0KCkpfSxiLl9oYW5kbGVGaWxlQ29tcGxldGU9ZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQsYz1iLmdldEl0ZW0oKTtpZih0aGlzLl9sb2FkZWRSZXN1bHRzW2MuaWRdPWIuZ2V0UmVzdWx0KCksYiBpbnN0YW5jZW9mIGNyZWF0ZWpzLlhIUkxvYWRlciYmKHRoaXMuX2xvYWRlZFJhd1Jlc3VsdHNbYy5pZF09Yi5nZXRSZXN1bHQoITApKSx0aGlzLl9yZW1vdmVMb2FkSXRlbShiKSx0aGlzLm1haW50YWluU2NyaXB0T3JkZXImJmMudHlwZT09Y3JlYXRlanMuTG9hZFF1ZXVlLkpBVkFTQ1JJUFQpe2lmKCEoYiBpbnN0YW5jZW9mIGNyZWF0ZWpzLlRhZ0xvYWRlcikpcmV0dXJuIHRoaXMuX2xvYWRlZFNjcmlwdHNbY3JlYXRlanMuaW5kZXhPZih0aGlzLl9zY3JpcHRPcmRlcixjKV09Yyx0aGlzLl9jaGVja1NjcmlwdExvYWRPcmRlcihiKSx2b2lkIDA7dGhpcy5fY3VycmVudGx5TG9hZGluZ1NjcmlwdD0hMX10aGlzLl9wcm9jZXNzRmluaXNoZWRMb2FkKGMsYil9LGIuX3Byb2Nlc3NGaW5pc2hlZExvYWQ9ZnVuY3Rpb24oYSxiKXt0aGlzLl9udW1JdGVtc0xvYWRlZCsrLHRoaXMuX3VwZGF0ZVByb2dyZXNzKCksdGhpcy5fc2VuZEZpbGVDb21wbGV0ZShhLGIpLHRoaXMuX2xvYWROZXh0KCl9LGIuX2NoZWNrU2NyaXB0TG9hZE9yZGVyPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuX2xvYWRlZFNjcmlwdHMubGVuZ3RoLGI9MDthPmI7YisrKXt2YXIgYz10aGlzLl9sb2FkZWRTY3JpcHRzW2JdO2lmKG51bGw9PT1jKWJyZWFrO2MhPT0hMCYmKHRoaXMuX3Byb2Nlc3NGaW5pc2hlZExvYWQoYyksdGhpcy5fbG9hZGVkU2NyaXB0c1tiXT0hMCxiLS0sYS0tKX19LGIuX3JlbW92ZUxvYWRJdGVtPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLl9jdXJyZW50TG9hZHMubGVuZ3RoLGM9MDtiPmM7YysrKWlmKHRoaXMuX2N1cnJlbnRMb2Fkc1tjXT09YSl7dGhpcy5fY3VycmVudExvYWRzLnNwbGljZShjLDEpO2JyZWFrfX0sYi5faGFuZGxlUHJvZ3Jlc3M9ZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQ7dGhpcy5fc2VuZEZpbGVQcm9ncmVzcyhiLmdldEl0ZW0oKSxiLnByb2dyZXNzKSx0aGlzLl91cGRhdGVQcm9ncmVzcygpfSxiLl91cGRhdGVQcm9ncmVzcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuX251bUl0ZW1zTG9hZGVkL3RoaXMuX251bUl0ZW1zLGI9dGhpcy5fbnVtSXRlbXMtdGhpcy5fbnVtSXRlbXNMb2FkZWQ7aWYoYj4wKXtmb3IodmFyIGM9MCxkPTAsZT10aGlzLl9jdXJyZW50TG9hZHMubGVuZ3RoO2U+ZDtkKyspYys9dGhpcy5fY3VycmVudExvYWRzW2RdLnByb2dyZXNzO2ErPWMvYiooYi90aGlzLl9udW1JdGVtcyl9dGhpcy5fc2VuZFByb2dyZXNzKGEpfSxiLl9kaXNwb3NlSXRlbT1mdW5jdGlvbihhKXtkZWxldGUgdGhpcy5fbG9hZGVkUmVzdWx0c1thLmlkXSxkZWxldGUgdGhpcy5fbG9hZGVkUmF3UmVzdWx0c1thLmlkXSxkZWxldGUgdGhpcy5fbG9hZEl0ZW1zQnlJZFthLmlkXSxkZWxldGUgdGhpcy5fbG9hZEl0ZW1zQnlTcmNbYS5zcmNdfSxiLl9jcmVhdGVUYWc9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtzd2l0Y2goYSl7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuSU1BR0U6cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpO2Nhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLlNPVU5EOnJldHVybiBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImF1ZGlvIiksYi5hdXRvcGxheT0hMSxiO2Nhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLkpTT05QOmNhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLkpBVkFTQ1JJUFQ6cmV0dXJuIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0IiksYi50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiLGI7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuQ1NTOnJldHVybiBiPXRoaXMudXNlWEhSP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGluayIpLGIucmVsPSJzdHlsZXNoZWV0IixiLnR5cGU9InRleHQvY3NzIixiO2Nhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLlNWRzpyZXR1cm4gdGhpcy51c2VYSFI/Yj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdmciKTooYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvYmplY3QiKSxiLnR5cGU9ImltYWdlL3N2Zyt4bWwiKSxifXJldHVybiBudWxsfSxiLl9nZXRUeXBlQnlFeHRlbnNpb249ZnVuY3Rpb24oYSl7aWYobnVsbD09YSlyZXR1cm4gY3JlYXRlanMuTG9hZFF1ZXVlLlRFWFQ7c3dpdGNoKGEudG9Mb3dlckNhc2UoKSl7Y2FzZSJqcGVnIjpjYXNlImpwZyI6Y2FzZSJnaWYiOmNhc2UicG5nIjpjYXNlIndlYnAiOmNhc2UiYm1wIjpyZXR1cm4gY3JlYXRlanMuTG9hZFF1ZXVlLklNQUdFO2Nhc2Uib2dnIjpjYXNlIm1wMyI6Y2FzZSJ3YXYiOnJldHVybiBjcmVhdGVqcy5Mb2FkUXVldWUuU09VTkQ7Y2FzZSJqc29uIjpyZXR1cm4gY3JlYXRlanMuTG9hZFF1ZXVlLkpTT047Y2FzZSJ4bWwiOnJldHVybiBjcmVhdGVqcy5Mb2FkUXVldWUuWE1MO2Nhc2UiY3NzIjpyZXR1cm4gY3JlYXRlanMuTG9hZFF1ZXVlLkNTUztjYXNlImpzIjpyZXR1cm4gY3JlYXRlanMuTG9hZFF1ZXVlLkpBVkFTQ1JJUFQ7Y2FzZSJzdmciOnJldHVybiBjcmVhdGVqcy5Mb2FkUXVldWUuU1ZHO2RlZmF1bHQ6cmV0dXJuIGNyZWF0ZWpzLkxvYWRRdWV1ZS5URVhUfX0sYi5fc2VuZEZpbGVQcm9ncmVzcz1mdW5jdGlvbihhLGIpe2lmKHRoaXMuX2lzQ2FuY2VsZWQoKSlyZXR1cm4gdGhpcy5fY2xlYW5VcCgpLHZvaWQgMDtpZih0aGlzLmhhc0V2ZW50TGlzdGVuZXIoImZpbGVwcm9ncmVzcyIpKXt2YXIgYz1uZXcgY3JlYXRlanMuRXZlbnQoImZpbGVwcm9ncmVzcyIpO2MucHJvZ3Jlc3M9YixjLmxvYWRlZD1iLGMudG90YWw9MSxjLml0ZW09YSx0aGlzLmRpc3BhdGNoRXZlbnQoYyl9fSxiLl9zZW5kRmlsZUNvbXBsZXRlPWZ1bmN0aW9uKGEsYil7aWYoIXRoaXMuX2lzQ2FuY2VsZWQoKSl7dmFyIGM9bmV3IGNyZWF0ZWpzLkV2ZW50KCJmaWxlbG9hZCIpO2MubG9hZGVyPWIsYy5pdGVtPWEsYy5yZXN1bHQ9dGhpcy5fbG9hZGVkUmVzdWx0c1thLmlkXSxjLnJhd1Jlc3VsdD10aGlzLl9sb2FkZWRSYXdSZXN1bHRzW2EuaWRdLGEuY29tcGxldGVIYW5kbGVyJiZhLmNvbXBsZXRlSGFuZGxlcihjKSx0aGlzLmhhc0V2ZW50TGlzdGVuZXIoImZpbGVsb2FkIikmJnRoaXMuZGlzcGF0Y2hFdmVudChjKX19LGIuX3NlbmRGaWxlU3RhcnQ9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGNyZWF0ZWpzLkV2ZW50KCJmaWxlc3RhcnQiKTtiLml0ZW09YSx0aGlzLmhhc0V2ZW50TGlzdGVuZXIoImZpbGVzdGFydCIpJiZ0aGlzLmRpc3BhdGNoRXZlbnQoYil9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW1ByZWxvYWRKUyBMb2FkUXVldWVdIn0sY3JlYXRlanMuTG9hZFF1ZXVlPWE7dmFyIGQ9ZnVuY3Rpb24oKXt9O2QuaW5pdD1mdW5jdGlvbigpe3ZhciBhPW5hdmlnYXRvci51c2VyQWdlbnQ7ZC5pc0ZpcmVmb3g9YS5pbmRleE9mKCJGaXJlZm94Iik+LTEsZC5pc09wZXJhPW51bGwhPXdpbmRvdy5vcGVyYSxkLmlzQ2hyb21lPWEuaW5kZXhPZigiQ2hyb21lIik+LTEsZC5pc0lPUz1hLmluZGV4T2YoImlQb2QiKT4tMXx8YS5pbmRleE9mKCJpUGhvbmUiKT4tMXx8YS5pbmRleE9mKCJpUGFkIik+LTF9LGQuaW5pdCgpLGNyZWF0ZWpzLkxvYWRRdWV1ZS5Ccm93c2VyRGV0ZWN0PWR9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbihhLGIpe3RoaXMuaW5pdChhLGIpfSxiPWEucHJvdG90eXBlPW5ldyBjcmVhdGVqcy5BYnN0cmFjdExvYWRlcjtiLl9sb2FkVGltZW91dD1udWxsLGIuX3RhZ0NvbXBsZXRlUHJveHk9bnVsbCxiLl9pc0F1ZGlvPSExLGIuX3RhZz1udWxsLGIuX2pzb25SZXN1bHQ9bnVsbCxiLmluaXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLl9pdGVtPWEsdGhpcy5fYmFzZVBhdGg9Yix0aGlzLl90YWc9YS50YWcsdGhpcy5faXNBdWRpbz13aW5kb3cuSFRNTEF1ZGlvRWxlbWVudCYmYS50YWcgaW5zdGFuY2VvZiBIVE1MQXVkaW9FbGVtZW50LHRoaXMuX3RhZ0NvbXBsZXRlUHJveHk9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlTG9hZCx0aGlzKX0sYi5nZXRSZXN1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXRlbS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSlNPTlA/dGhpcy5fanNvblJlc3VsdDp0aGlzLl90YWd9LGIuY2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5jYW5jZWxlZD0hMCx0aGlzLl9jbGVhbigpLHRoaXMuZ2V0SXRlbSgpfSxiLmxvYWQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9pdGVtLGI9dGhpcy5fdGFnO2NsZWFyVGltZW91dCh0aGlzLl9sb2FkVGltZW91dCksdGhpcy5fbG9hZFRpbWVvdXQ9c2V0VGltZW91dChjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVUaW1lb3V0LHRoaXMpLGNyZWF0ZWpzLkxvYWRRdWV1ZS5MT0FEX1RJTUVPVVQpLHRoaXMuX2lzQXVkaW8mJihiLnNyYz1udWxsLGIucHJlbG9hZD0iYXV0byIpLGIub25lcnJvcj1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVFcnJvcix0aGlzKSx0aGlzLl9pc0F1ZGlvPyhiLm9uc3RhbGxlZD1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVTdGFsbGVkLHRoaXMpLGIuYWRkRXZlbnRMaXN0ZW5lcigiY2FucGxheXRocm91Z2giLHRoaXMuX3RhZ0NvbXBsZXRlUHJveHksITEpKTooYi5vbmxvYWQ9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlTG9hZCx0aGlzKSxiLm9ucmVhZHlzdGF0ZWNoYW5nZT1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVSZWFkeVN0YXRlQ2hhbmdlLHRoaXMpKTt2YXIgYz10aGlzLmJ1aWxkUGF0aChhLnNyYyx0aGlzLl9iYXNlUGF0aCxhLnZhbHVlcyk7c3dpdGNoKGEudHlwZSl7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuQ1NTOmIuaHJlZj1jO2JyZWFrO2Nhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLlNWRzpiLmRhdGE9YzticmVhaztkZWZhdWx0OmIuc3JjPWN9aWYoYS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSlNPTlApe2lmKG51bGw9PWEuY2FsbGJhY2spdGhyb3cgbmV3IEVycm9yKCJjYWxsYmFjayBpcyByZXF1aXJlZCBmb3IgbG9hZGluZyBKU09OUCByZXF1ZXN0cy4iKTtpZihudWxsIT13aW5kb3dbYS5jYWxsYmFja10pdGhyb3cgbmV3IEVycm9yKCdKU09OUCBjYWxsYmFjayAiJythLmNhbGxiYWNrKyciIGFscmVhZHkgZXhpc3RzIG9uIHdpbmRvdy4gWW91IG5lZWQgdG8gc3BlY2lmeSBhIGRpZmZlcmVudCBjYWxsYmFjay4gT3IgcmUtbmFtZSB0aGUgY3VycmVudCBvbmUuJyk7d2luZG93W2EuY2FsbGJhY2tdPWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZUpTT05QTG9hZCx0aGlzKX0oYS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuU1ZHfHxhLnR5cGU9PWNyZWF0ZWpzLkxvYWRRdWV1ZS5KU09OUHx8YS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSlNPTnx8YS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSkFWQVNDUklQVHx8YS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuQ1NTKSYmKHRoaXMuX3N0YXJ0VGFnVmlzaWJpbGl0eT1iLnN0eWxlLnZpc2liaWxpdHksYi5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iLChkb2N1bWVudC5ib2R5fHxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdKS5hcHBlbmRDaGlsZChiKSksbnVsbCE9Yi5sb2FkJiZiLmxvYWQoKX0sYi5faGFuZGxlSlNPTlBMb2FkPWZ1bmN0aW9uKGEpe3RoaXMuX2pzb25SZXN1bHQ9YX0sYi5faGFuZGxlVGltZW91dD1mdW5jdGlvbigpe3RoaXMuX2NsZWFuKCk7dmFyIGE9bmV3IGNyZWF0ZWpzLkV2ZW50KCJlcnJvciIpO2EudGV4dD0iUFJFTE9BRF9USU1FT1VUIix0aGlzLl9zZW5kRXJyb3IoYSl9LGIuX2hhbmRsZVN0YWxsZWQ9ZnVuY3Rpb24oKXt9LGIuX2hhbmRsZUVycm9yPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYW4oKTt2YXIgYT1uZXcgY3JlYXRlanMuRXZlbnQoImVycm9yIik7dGhpcy5fc2VuZEVycm9yKGEpfSxiLl9oYW5kbGVSZWFkeVN0YXRlQ2hhbmdlPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX2xvYWRUaW1lb3V0KTt2YXIgYT10aGlzLmdldEl0ZW0oKS50YWc7KCJsb2FkZWQiPT1hLnJlYWR5U3RhdGV8fCJjb21wbGV0ZSI9PWEucmVhZHlTdGF0ZSkmJnRoaXMuX2hhbmRsZUxvYWQoKX0sYi5faGFuZGxlTG9hZD1mdW5jdGlvbigpe2lmKCF0aGlzLl9pc0NhbmNlbGVkKCkpe3ZhciBhPXRoaXMuZ2V0SXRlbSgpLGI9YS50YWc7aWYoISh0aGlzLmxvYWRlZHx8dGhpcy5pc0F1ZGlvJiY0IT09Yi5yZWFkeVN0YXRlKSl7c3dpdGNoKHRoaXMubG9hZGVkPSEwLGEudHlwZSl7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuU1ZHOmNhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLkpTT05QOmIuc3R5bGUudmlzaWJpbGl0eT10aGlzLl9zdGFydFRhZ1Zpc2liaWxpdHksKGRvY3VtZW50LmJvZHl8fGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0pLnJlbW92ZUNoaWxkKGIpfXRoaXMuX2NsZWFuKCksdGhpcy5fc2VuZENvbXBsZXRlKCl9fX0sYi5fY2xlYW49ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fbG9hZFRpbWVvdXQpO3ZhciBhPXRoaXMuZ2V0SXRlbSgpLnRhZzthLm9ubG9hZD1udWxsLGEucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKCJjYW5wbGF5dGhyb3VnaCIsdGhpcy5fdGFnQ29tcGxldGVQcm94eSwhMSksYS5vbnN0YWxsZWQ9bnVsbCxhLm9ucHJvZ3Jlc3M9bnVsbCxhLm9uZXJyb3I9bnVsbCxhLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKTt2YXIgYj10aGlzLmdldEl0ZW0oKTtiLnR5cGU9PWNyZWF0ZWpzLkxvYWRRdWV1ZS5KU09OUCYmKHdpbmRvd1tiLmNhbGxiYWNrXT1udWxsKX0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbUHJlbG9hZEpTIFRhZ0xvYWRlcl0ifSxjcmVhdGVqcy5UYWdMb2FkZXI9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKGEsYil7dGhpcy5pbml0KGEsYil9LGI9YS5wcm90b3R5cGU9bmV3IGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyO2IuX3JlcXVlc3Q9bnVsbCxiLl9sb2FkVGltZW91dD1udWxsLGIuX3hockxldmVsPTEsYi5fcmVzcG9uc2U9bnVsbCxiLl9yYXdSZXNwb25zZT1udWxsLGIuaW5pdD1mdW5jdGlvbihhLGIpe3RoaXMuX2l0ZW09YSx0aGlzLl9iYXNlUGF0aD1iLCF0aGlzLl9jcmVhdGVYSFIoYSl9LGIuZ2V0UmVzdWx0PWZ1bmN0aW9uKGEpe3JldHVybiBhJiZ0aGlzLl9yYXdSZXNwb25zZT90aGlzLl9yYXdSZXNwb25zZTp0aGlzLl9yZXNwb25zZX0sYi5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbGVkPSEwLHRoaXMuX2NsZWFuKCksdGhpcy5fcmVxdWVzdC5hYm9ydCgpfSxiLmxvYWQ9ZnVuY3Rpb24oKXtpZihudWxsPT10aGlzLl9yZXF1ZXN0KXJldHVybiB0aGlzLl9oYW5kbGVFcnJvcigpLHZvaWQgMDt0aGlzLl9yZXF1ZXN0Lm9ubG9hZHN0YXJ0PWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZUxvYWRTdGFydCx0aGlzKSx0aGlzLl9yZXF1ZXN0Lm9ucHJvZ3Jlc3M9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlUHJvZ3Jlc3MsdGhpcyksdGhpcy5fcmVxdWVzdC5vbmFib3J0PWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZUFib3J0LHRoaXMpLHRoaXMuX3JlcXVlc3Qub25lcnJvcj1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVFcnJvcix0aGlzKSx0aGlzLl9yZXF1ZXN0Lm9udGltZW91dD1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVUaW1lb3V0LHRoaXMpLDE9PXRoaXMuX3hockxldmVsJiYodGhpcy5fbG9hZFRpbWVvdXQ9c2V0VGltZW91dChjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVUaW1lb3V0LHRoaXMpLGNyZWF0ZWpzLkxvYWRRdWV1ZS5MT0FEX1RJTUVPVVQpKSx0aGlzLl9yZXF1ZXN0Lm9ubG9hZD1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVMb2FkLHRoaXMpLHRoaXMuX3JlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlPWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVJlYWR5U3RhdGVDaGFuZ2UsdGhpcyk7dHJ5e3RoaXMuX2l0ZW0udmFsdWVzJiZ0aGlzLl9pdGVtLm1ldGhvZCE9Y3JlYXRlanMuTG9hZFF1ZXVlLkdFVD90aGlzLl9pdGVtLm1ldGhvZD09Y3JlYXRlanMuTG9hZFF1ZXVlLlBPU1QmJnRoaXMuX3JlcXVlc3Quc2VuZCh0aGlzLl9mb3JtYXRRdWVyeVN0cmluZyh0aGlzLl9pdGVtLnZhbHVlcykpOnRoaXMuX3JlcXVlc3Quc2VuZCgpCn1jYXRjaChhKXt2YXIgYj1uZXcgY3JlYXRlanMuRXZlbnQoImVycm9yIik7Yi5lcnJvcj1hLHRoaXMuX3NlbmRFcnJvcihiKX19LGIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIGluc3RhbmNlb2YgRnVuY3Rpb24/dGhpcy5fcmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKTpudWxsfSxiLmdldFJlc3BvbnNlSGVhZGVyPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9yZXF1ZXN0LmdldFJlc3BvbnNlSGVhZGVyIGluc3RhbmNlb2YgRnVuY3Rpb24/dGhpcy5fcmVxdWVzdC5nZXRSZXNwb25zZUhlYWRlcihhKTpudWxsfSxiLl9oYW5kbGVQcm9ncmVzcz1mdW5jdGlvbihhKXtpZihhJiYhKGEubG9hZGVkPjAmJjA9PWEudG90YWwpKXt2YXIgYj1uZXcgY3JlYXRlanMuRXZlbnQoInByb2dyZXNzIik7Yi5sb2FkZWQ9YS5sb2FkZWQsYi50b3RhbD1hLnRvdGFsLHRoaXMuX3NlbmRQcm9ncmVzcyhiKX19LGIuX2hhbmRsZUxvYWRTdGFydD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl9sb2FkVGltZW91dCksdGhpcy5fc2VuZExvYWRTdGFydCgpfSxiLl9oYW5kbGVBYm9ydD1mdW5jdGlvbihhKXt0aGlzLl9jbGVhbigpO3ZhciBhPW5ldyBjcmVhdGVqcy5FdmVudCgiZXJyb3IiKTthLnRleHQ9IlhIUl9BQk9SVEVEIix0aGlzLl9zZW5kRXJyb3IoYSl9LGIuX2hhbmRsZUVycm9yPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYW4oKTt2YXIgYT1uZXcgY3JlYXRlanMuRXZlbnQoImVycm9yIik7dGhpcy5fc2VuZEVycm9yKGEpfSxiLl9oYW5kbGVSZWFkeVN0YXRlQ2hhbmdlPWZ1bmN0aW9uKCl7ND09dGhpcy5fcmVxdWVzdC5yZWFkeVN0YXRlJiZ0aGlzLl9oYW5kbGVMb2FkKCl9LGIuX2hhbmRsZUxvYWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5sb2FkZWQpe2lmKHRoaXMubG9hZGVkPSEwLCF0aGlzLl9jaGVja0Vycm9yKCkpcmV0dXJuIHRoaXMuX2hhbmRsZUVycm9yKCksdm9pZCAwO3RoaXMuX3Jlc3BvbnNlPXRoaXMuX2dldFJlc3BvbnNlKCksdGhpcy5fY2xlYW4oKTt2YXIgYT10aGlzLl9nZW5lcmF0ZVRhZygpO2EmJnRoaXMuX3NlbmRDb21wbGV0ZSgpfX0sYi5faGFuZGxlVGltZW91dD1mdW5jdGlvbihhKXt0aGlzLl9jbGVhbigpO3ZhciBiPW5ldyBjcmVhdGVqcy5FdmVudCgiZXJyb3IiKTtiLnRleHQ9IlBSRUxPQURfVElNRU9VVCIsdGhpcy5fc2VuZEVycm9yKGEpfSxiLl9jaGVja0Vycm9yPWZ1bmN0aW9uKCl7dmFyIGE9cGFyc2VJbnQodGhpcy5fcmVxdWVzdC5zdGF0dXMpO3N3aXRjaChhKXtjYXNlIDQwNDpjYXNlIDA6cmV0dXJuITF9cmV0dXJuITB9LGIuX2dldFJlc3BvbnNlPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5fcmVzcG9uc2UpcmV0dXJuIHRoaXMuX3Jlc3BvbnNlO2lmKG51bGwhPXRoaXMuX3JlcXVlc3QucmVzcG9uc2UpcmV0dXJuIHRoaXMuX3JlcXVlc3QucmVzcG9uc2U7dHJ5e2lmKG51bGwhPXRoaXMuX3JlcXVlc3QucmVzcG9uc2VUZXh0KXJldHVybiB0aGlzLl9yZXF1ZXN0LnJlc3BvbnNlVGV4dH1jYXRjaChhKXt9dHJ5e2lmKG51bGwhPXRoaXMuX3JlcXVlc3QucmVzcG9uc2VYTUwpcmV0dXJuIHRoaXMuX3JlcXVlc3QucmVzcG9uc2VYTUx9Y2F0Y2goYSl7fXJldHVybiBudWxsfSxiLl9jcmVhdGVYSFI9ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2IuaHJlZj10aGlzLmJ1aWxkUGF0aChhLnNyYyx0aGlzLl9iYXNlUGF0aCk7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2MuaHJlZj1sb2NhdGlvbi5ocmVmO3ZhciBkPSIiIT1iLmhvc3RuYW1lJiYoYi5wb3J0IT1jLnBvcnR8fGIucHJvdG9jb2whPWMucHJvdG9jb2x8fGIuaG9zdG5hbWUhPWMuaG9zdG5hbWUpLGU9bnVsbDtpZihkJiZ3aW5kb3cuWERvbWFpblJlcXVlc3QpZT1uZXcgWERvbWFpblJlcXVlc3Q7ZWxzZSBpZih3aW5kb3cuWE1MSHR0cFJlcXVlc3QpZT1uZXcgWE1MSHR0cFJlcXVlc3Q7ZWxzZSB0cnl7ZT1uZXcgQWN0aXZlWE9iamVjdCgiTXN4bWwyLlhNTEhUVFAuNi4wIil9Y2F0Y2goZil7dHJ5e2U9bmV3IEFjdGl2ZVhPYmplY3QoIk1zeG1sMi5YTUxIVFRQLjMuMCIpfWNhdGNoKGYpe3RyeXtlPW5ldyBBY3RpdmVYT2JqZWN0KCJNc3htbDIuWE1MSFRUUCIpfWNhdGNoKGYpe3JldHVybiExfX19YS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuVEVYVCYmZS5vdmVycmlkZU1pbWVUeXBlJiZlLm92ZXJyaWRlTWltZVR5cGUoInRleHQvcGxhaW47IGNoYXJzZXQ9eC11c2VyLWRlZmluZWQiKSx0aGlzLl94aHJMZXZlbD0ic3RyaW5nIj09dHlwZW9mIGUucmVzcG9uc2VUeXBlPzI6MTt2YXIgZz1udWxsO3JldHVybiBnPWEubWV0aG9kPT1jcmVhdGVqcy5Mb2FkUXVldWUuR0VUP3RoaXMuYnVpbGRQYXRoKGEuc3JjLHRoaXMuX2Jhc2VQYXRoLGEudmFsdWVzKTp0aGlzLmJ1aWxkUGF0aChhLnNyYyx0aGlzLl9iYXNlUGF0aCksZS5vcGVuKGEubWV0aG9kfHxjcmVhdGVqcy5Mb2FkUXVldWUuR0VULGcsITApLGQmJmUgaW5zdGFuY2VvZiBYTUxIdHRwUmVxdWVzdCYmMT09dGhpcy5feGhyTGV2ZWwmJmUuc2V0UmVxdWVzdEhlYWRlcigiT3JpZ2luIixsb2NhdGlvbi5vcmlnaW4pLGEudmFsdWVzJiZhLm1ldGhvZD09Y3JlYXRlanMuTG9hZFF1ZXVlLlBPU1QmJmUuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIiwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiksY3JlYXRlanMuTG9hZFF1ZXVlLmlzQmluYXJ5KGEudHlwZSkmJihlLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiKSx0aGlzLl9yZXF1ZXN0PWUsITB9LGIuX2NsZWFuPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX2xvYWRUaW1lb3V0KTt2YXIgYT10aGlzLl9yZXF1ZXN0O2Eub25sb2Fkc3RhcnQ9bnVsbCxhLm9ucHJvZ3Jlc3M9bnVsbCxhLm9uYWJvcnQ9bnVsbCxhLm9uZXJyb3I9bnVsbCxhLm9ubG9hZD1udWxsLGEub250aW1lb3V0PW51bGwsYS5vbmxvYWRlbmQ9bnVsbCxhLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsfSxiLl9nZW5lcmF0ZVRhZz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuX2l0ZW0udHlwZSxiPXRoaXMuX2l0ZW0udGFnO3N3aXRjaChhKXtjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5JTUFHRTpyZXR1cm4gYi5vbmxvYWQ9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlVGFnUmVhZHksdGhpcyksYi5zcmM9dGhpcy5idWlsZFBhdGgodGhpcy5faXRlbS5zcmMsdGhpcy5fYmFzZVBhdGgsdGhpcy5faXRlbS52YWx1ZXMpLHRoaXMuX3Jhd1Jlc3BvbnNlPXRoaXMuX3Jlc3BvbnNlLHRoaXMuX3Jlc3BvbnNlPWIsITE7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuSkFWQVNDUklQVDpyZXR1cm4gYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxiLnRleHQ9dGhpcy5fcmVzcG9uc2UsdGhpcy5fcmF3UmVzcG9uc2U9dGhpcy5fcmVzcG9uc2UsdGhpcy5fcmVzcG9uc2U9YiwhMDtjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5DU1M6dmFyIGM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXTtpZihjLmFwcGVuZENoaWxkKGIpLGIuc3R5bGVTaGVldCliLnN0eWxlU2hlZXQuY3NzVGV4dD10aGlzLl9yZXNwb25zZTtlbHNle3ZhciBkPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRoaXMuX3Jlc3BvbnNlKTtiLmFwcGVuZENoaWxkKGQpfXJldHVybiB0aGlzLl9yYXdSZXNwb25zZT10aGlzLl9yZXNwb25zZSx0aGlzLl9yZXNwb25zZT1iLCEwO2Nhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLlhNTDp2YXIgZT10aGlzLl9wYXJzZVhNTCh0aGlzLl9yZXNwb25zZSwidGV4dC94bWwiKTtyZXR1cm4gdGhpcy5fcmVzcG9uc2U9ZSwhMDtjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5TVkc6dmFyIGU9dGhpcy5fcGFyc2VYTUwodGhpcy5fcmVzcG9uc2UsImltYWdlL3N2Zyt4bWwiKTtyZXR1cm4gdGhpcy5fcmF3UmVzcG9uc2U9dGhpcy5fcmVzcG9uc2UsbnVsbCE9ZS5kb2N1bWVudEVsZW1lbnQ/KGIuYXBwZW5kQ2hpbGQoZS5kb2N1bWVudEVsZW1lbnQpLHRoaXMuX3Jlc3BvbnNlPWIpOnRoaXMuX3Jlc3BvbnNlPWUsITA7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuSlNPTjp2YXIgZj17fTt0cnl7Zj1KU09OLnBhcnNlKHRoaXMuX3Jlc3BvbnNlKX1jYXRjaChnKXtmPWd9cmV0dXJuIHRoaXMuX3Jhd1Jlc3BvbnNlPXRoaXMuX3Jlc3BvbnNlLHRoaXMuX3Jlc3BvbnNlPWYsITB9cmV0dXJuITB9LGIuX3BhcnNlWE1MPWZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtpZih3aW5kb3cuRE9NUGFyc2VyKXt2YXIgZD1uZXcgRE9NUGFyc2VyO2M9ZC5wYXJzZUZyb21TdHJpbmcoYSxiKX1lbHNlIGM9bmV3IEFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKSxjLmFzeW5jPSExLGMubG9hZFhNTChhKTtyZXR1cm4gY30sYi5faGFuZGxlVGFnUmVhZHk9ZnVuY3Rpb24oKXt0aGlzLl9zZW5kQ29tcGxldGUoKX0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbUHJlbG9hZEpTIFhIUkxvYWRlcl0ifSxjcmVhdGVqcy5YSFJMb2FkZXI9YX0oKSwib2JqZWN0IiE9dHlwZW9mIEpTT04mJihKU09OPXt9KSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBmKGEpe3JldHVybiAxMD5hPyIwIithOmF9ZnVuY3Rpb24gcXVvdGUoYSl7cmV0dXJuIGVzY2FwYWJsZS5sYXN0SW5kZXg9MCxlc2NhcGFibGUudGVzdChhKT8nIicrYS5yZXBsYWNlKGVzY2FwYWJsZSxmdW5jdGlvbihhKXt2YXIgYj1tZXRhW2FdO3JldHVybiJzdHJpbmciPT10eXBlb2YgYj9iOiJcXHUiKygiMDAwMCIrYS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpfSkrJyInOiciJythKyciJ31mdW5jdGlvbiBzdHIoYSxiKXt2YXIgYyxkLGUsZixnLGg9Z2FwLGk9YlthXTtzd2l0Y2goaSYmIm9iamVjdCI9PXR5cGVvZiBpJiYiZnVuY3Rpb24iPT10eXBlb2YgaS50b0pTT04mJihpPWkudG9KU09OKGEpKSwiZnVuY3Rpb24iPT10eXBlb2YgcmVwJiYoaT1yZXAuY2FsbChiLGEsaSkpLHR5cGVvZiBpKXtjYXNlInN0cmluZyI6cmV0dXJuIHF1b3RlKGkpO2Nhc2UibnVtYmVyIjpyZXR1cm4gaXNGaW5pdGUoaSk/U3RyaW5nKGkpOiJudWxsIjtjYXNlImJvb2xlYW4iOmNhc2UibnVsbCI6cmV0dXJuIFN0cmluZyhpKTtjYXNlIm9iamVjdCI6aWYoIWkpcmV0dXJuIm51bGwiO2lmKGdhcCs9aW5kZW50LGc9W10sIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkoaSkpe2ZvcihmPWkubGVuZ3RoLGM9MDtmPmM7Yys9MSlnW2NdPXN0cihjLGkpfHwibnVsbCI7cmV0dXJuIGU9MD09PWcubGVuZ3RoPyJbXSI6Z2FwPyJbXG4iK2dhcCtnLmpvaW4oIixcbiIrZ2FwKSsiXG4iK2grIl0iOiJbIitnLmpvaW4oIiwiKSsiXSIsZ2FwPWgsZX1pZihyZXAmJiJvYmplY3QiPT10eXBlb2YgcmVwKWZvcihmPXJlcC5sZW5ndGgsYz0wO2Y+YztjKz0xKSJzdHJpbmciPT10eXBlb2YgcmVwW2NdJiYoZD1yZXBbY10sZT1zdHIoZCxpKSxlJiZnLnB1c2gocXVvdGUoZCkrKGdhcD8iOiAiOiI6IikrZSkpO2Vsc2UgZm9yKGQgaW4gaSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxkKSYmKGU9c3RyKGQsaSksZSYmZy5wdXNoKHF1b3RlKGQpKyhnYXA/IjogIjoiOiIpK2UpKTtyZXR1cm4gZT0wPT09Zy5sZW5ndGg/Int9IjpnYXA/IntcbiIrZ2FwK2cuam9pbigiLFxuIitnYXApKyJcbiIraCsifSI6InsiK2cuam9pbigiLCIpKyJ9IixnYXA9aCxlfX0iZnVuY3Rpb24iIT10eXBlb2YgRGF0ZS5wcm90b3R5cGUudG9KU09OJiYoRGF0ZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIGlzRmluaXRlKHRoaXMudmFsdWVPZigpKT90aGlzLmdldFVUQ0Z1bGxZZWFyKCkrIi0iK2YodGhpcy5nZXRVVENNb250aCgpKzEpKyItIitmKHRoaXMuZ2V0VVRDRGF0ZSgpKSsiVCIrZih0aGlzLmdldFVUQ0hvdXJzKCkpKyI6IitmKHRoaXMuZ2V0VVRDTWludXRlcygpKSsiOiIrZih0aGlzLmdldFVUQ1NlY29uZHMoKSkrIloiOm51bGx9LFN0cmluZy5wcm90b3R5cGUudG9KU09OPU51bWJlci5wcm90b3R5cGUudG9KU09OPUJvb2xlYW4ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlT2YoKX0pO3ZhciBjeD0vW1x1MDAwMFx1MDBhZFx1MDYwMC1cdTA2MDRcdTA3MGZcdTE3YjRcdTE3YjVcdTIwMGMtXHUyMDBmXHUyMDI4LVx1MjAyZlx1MjA2MC1cdTIwNmZcdWZlZmZcdWZmZjAtXHVmZmZmXS9nLGVzY2FwYWJsZT0vW1xcXCJceDAwLVx4MWZceDdmLVx4OWZcdTAwYWRcdTA2MDAtXHUwNjA0XHUwNzBmXHUxN2I0XHUxN2I1XHUyMDBjLVx1MjAwZlx1MjAyOC1cdTIwMmZcdTIwNjAtXHUyMDZmXHVmZWZmXHVmZmYwLVx1ZmZmZl0vZyxnYXAsaW5kZW50LG1ldGE9eyJcYiI6IlxcYiIsIgkiOiJcXHQiLCJcbiI6IlxcbiIsIlxmIjoiXFxmIiwiXHIiOiJcXHIiLCciJzonXFwiJywiXFwiOiJcXFxcIn0scmVwOyJmdW5jdGlvbiIhPXR5cGVvZiBKU09OLnN0cmluZ2lmeSYmKEpTT04uc3RyaW5naWZ5PWZ1bmN0aW9uKGEsYixjKXt2YXIgZDtpZihnYXA9IiIsaW5kZW50PSIiLCJudW1iZXIiPT10eXBlb2YgYylmb3IoZD0wO2M+ZDtkKz0xKWluZGVudCs9IiAiO2Vsc2Uic3RyaW5nIj09dHlwZW9mIGMmJihpbmRlbnQ9Yyk7aWYocmVwPWIsYiYmImZ1bmN0aW9uIiE9dHlwZW9mIGImJigib2JqZWN0IiE9dHlwZW9mIGJ8fCJudW1iZXIiIT10eXBlb2YgYi5sZW5ndGgpKXRocm93IG5ldyBFcnJvcigiSlNPTi5zdHJpbmdpZnkiKTtyZXR1cm4gc3RyKCIiLHsiIjphfSl9KSwiZnVuY3Rpb24iIT10eXBlb2YgSlNPTi5wYXJzZSYmKEpTT04ucGFyc2U9ZnVuY3Rpb24odGV4dCxyZXZpdmVyKXtmdW5jdGlvbiB3YWxrKGEsYil7dmFyIGMsZCxlPWFbYl07aWYoZSYmIm9iamVjdCI9PXR5cGVvZiBlKWZvcihjIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsYykmJihkPXdhbGsoZSxjKSx2b2lkIDAhPT1kP2VbY109ZDpkZWxldGUgZVtjXSk7cmV0dXJuIHJldml2ZXIuY2FsbChhLGIsZSl9dmFyIGo7aWYodGV4dD1TdHJpbmcodGV4dCksY3gubGFzdEluZGV4PTAsY3gudGVzdCh0ZXh0KSYmKHRleHQ9dGV4dC5yZXBsYWNlKGN4LGZ1bmN0aW9uKGEpe3JldHVybiJcXHUiKygiMDAwMCIrYS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpfSkpLC9eW1xdLDp7fVxzXSokLy50ZXN0KHRleHQucmVwbGFjZSgvXFwoPzpbIlxcXC9iZm5ydF18dVswLTlhLWZBLUZdezR9KS9nLCJAIikucmVwbGFjZSgvIlteIlxcXG5ccl0qInx0cnVlfGZhbHNlfG51bGx8LT9cZCsoPzpcLlxkKik/KD86W2VFXVsrXC1dP1xkKyk/L2csIl0iKS5yZXBsYWNlKC8oPzpefDp8LCkoPzpccypcWykrL2csIiIpKSlyZXR1cm4gaj1ldmFsKCIoIit0ZXh0KyIpIiksImZ1bmN0aW9uIj09dHlwZW9mIHJldml2ZXI/d2Fsayh7IiI6an0sIiIpOmo7dGhyb3cgbmV3IFN5bnRheEVycm9yKCJKU09OLnBhcnNlIil9KX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7dmFyIGE9Y3JlYXRlanMuU291bmRKUz1jcmVhdGVqcy5Tb3VuZEpTfHx7fTthLnZlcnNpb249Ik5FWFQiLGEuYnVpbGREYXRlPSJUdWUsIDAxIE9jdCAyMDEzIDE2OjAzOjM4IEdNVCJ9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBhKCl7dGhyb3ciU291bmQgY2Fubm90IGJlIGluc3RhbnRpYXRlZCJ9ZnVuY3Rpb24gYihhLGIpe3RoaXMuaW5pdChhLGIpfWZ1bmN0aW9uIGMoKXt0aGlzLmlzRGVmYXVsdD0hMCx0aGlzLmFkZEV2ZW50TGlzdGVuZXI9dGhpcy5yZW1vdmVFdmVudExpc3RlbmVyPXRoaXMucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcj10aGlzLmRpc3BhdGNoRXZlbnQ9dGhpcy5oYXNFdmVudExpc3RlbmVyPXRoaXMuX2xpc3RlbmVycz10aGlzLmludGVycnVwdD10aGlzLnBsYXlGYWlsZWQ9dGhpcy5wYXVzZT10aGlzLnJlc3VtZT10aGlzLnBsYXk9dGhpcy5iZWdpblBsYXlpbmc9dGhpcy5jbGVhblVwPXRoaXMuc3RvcD10aGlzLnNldE1hc3RlclZvbHVtZT10aGlzLnNldFZvbHVtZT10aGlzLm11dGU9dGhpcy5zZXRNdXRlPXRoaXMuZ2V0TXV0ZT10aGlzLnNldFBhbj10aGlzLmdldFBvc2l0aW9uPXRoaXMuc2V0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdGhpcy5nZXRWb2x1bWU9dGhpcy5nZXRQYW49dGhpcy5nZXREdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiAwfSx0aGlzLnBsYXlTdGF0ZT1hLlBMQVlfRkFJTEVELHRoaXMudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW1NvdW5kIERlZmF1bHQgU291bmQgSW5zdGFuY2VdIn19ZnVuY3Rpb24gZCgpe312YXIgZT1hO2UuREVMSU1JVEVSPSJ8IixlLkFVRElPX1RJTUVPVVQ9OGUzLGUuSU5URVJSVVBUX0FOWT0iYW55IixlLklOVEVSUlVQVF9FQVJMWT0iZWFybHkiLGUuSU5URVJSVVBUX0xBVEU9ImxhdGUiLGUuSU5URVJSVVBUX05PTkU9Im5vbmUiLGUuUExBWV9JTklURUQ9InBsYXlJbml0ZWQiLGUuUExBWV9TVUNDRUVERUQ9InBsYXlTdWNjZWVkZWQiLGUuUExBWV9JTlRFUlJVUFRFRD0icGxheUludGVycnVwdGVkIixlLlBMQVlfRklOSVNIRUQ9InBsYXlGaW5pc2hlZCIsZS5QTEFZX0ZBSUxFRD0icGxheUZhaWxlZCIsZS5TVVBQT1JURURfRVhURU5TSU9OUz1bIm1wMyIsIm9nZyIsIm1wZWciLCJ3YXYiLCJtNGEiLCJtcDQiLCJhaWZmIiwid21hIiwibWlkIl0sZS5FWFRFTlNJT05fTUFQPXttNGE6Im1wNCJ9LGUuRklMRV9QQVRURVJOPS9eKD86KFx3KzopXC97Mn0oXHcrKD86XC5cdyspKlwvPykpPyhbLy5dKj8oPzpbXj9dKyk/XC8pPygoPzpbXi8/XSspXC4oXHcrKSkoPzpcPyhcUyspPyk/JC8sZS5kZWZhdWx0SW50ZXJydXB0QmVoYXZpb3I9ZS5JTlRFUlJVUFRfTk9ORSxlLmxhc3RJZD0wLGUuYWN0aXZlUGx1Z2luPW51bGwsZS5wbHVnaW5zUmVnaXN0ZXJlZD0hMSxlLm1hc3RlclZvbHVtZT0xLGUubWFzdGVyTXV0ZT0hMSxlLmluc3RhbmNlcz1bXSxlLmlkSGFzaD17fSxlLnByZWxvYWRIYXNoPXt9LGUuZGVmYXVsdFNvdW5kSW5zdGFuY2U9bnVsbCxlLmFkZEV2ZW50TGlzdGVuZXI9bnVsbCxlLnJlbW92ZUV2ZW50TGlzdGVuZXI9bnVsbCxlLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzPW51bGwsZS5kaXNwYXRjaEV2ZW50PW51bGwsZS5oYXNFdmVudExpc3RlbmVyPW51bGwsZS5fbGlzdGVuZXJzPW51bGwsY3JlYXRlanMuRXZlbnREaXNwYXRjaGVyLmluaXRpYWxpemUoZSksZS5zZW5kRmlsZUxvYWRFdmVudD1mdW5jdGlvbihhKXtpZihlLnByZWxvYWRIYXNoW2FdKWZvcih2YXIgYj0wLGM9ZS5wcmVsb2FkSGFzaFthXS5sZW5ndGg7Yz5iO2IrKyl7dmFyIGQ9ZS5wcmVsb2FkSGFzaFthXVtiXTtpZihlLnByZWxvYWRIYXNoW2FdW2JdPSEwLGUuaGFzRXZlbnRMaXN0ZW5lcigiZmlsZWxvYWQiKSl7dmFyIGY9bmV3IGNyZWF0ZWpzLkV2ZW50KCJmaWxlbG9hZCIpO2Yuc3JjPWQuc3JjLGYuaWQ9ZC5pZCxmLmRhdGE9ZC5kYXRhLGUuZGlzcGF0Y2hFdmVudChmKX19fSxlLmdldFByZWxvYWRIYW5kbGVycz1mdW5jdGlvbigpe3JldHVybntjYWxsYmFjazpjcmVhdGVqcy5wcm94eShlLmluaXRMb2FkLGUpLHR5cGVzOlsic291bmQiXSxleHRlbnNpb25zOmUuU1VQUE9SVEVEX0VYVEVOU0lPTlN9fSxlLnJlZ2lzdGVyUGx1Z2luPWZ1bmN0aW9uKGEpe3JldHVybiBlLnBsdWdpbnNSZWdpc3RlcmVkPSEwLG51bGw9PWE/ITE6YS5pc1N1cHBvcnRlZCgpPyhlLmFjdGl2ZVBsdWdpbj1uZXcgYSwhMCk6ITF9LGUucmVnaXN0ZXJQbHVnaW5zPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9YS5sZW5ndGg7Yz5iO2IrKyl7dmFyIGQ9YVtiXTtpZihlLnJlZ2lzdGVyUGx1Z2luKGQpKXJldHVybiEwfXJldHVybiExfSxlLmluaXRpYWxpemVEZWZhdWx0UGx1Z2lucz1mdW5jdGlvbigpe3JldHVybiBudWxsIT1lLmFjdGl2ZVBsdWdpbj8hMDplLnBsdWdpbnNSZWdpc3RlcmVkPyExOmUucmVnaXN0ZXJQbHVnaW5zKFtjcmVhdGVqcy5XZWJBdWRpb1BsdWdpbixjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW5dKT8hMDohMX0sZS5pc1JlYWR5PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPWUuYWN0aXZlUGx1Z2lufSxlLmdldENhcGFiaWxpdGllcz1mdW5jdGlvbigpe3JldHVybiBudWxsPT1lLmFjdGl2ZVBsdWdpbj9udWxsOmUuYWN0aXZlUGx1Z2luLmNhcGFiaWxpdGllc30sZS5nZXRDYXBhYmlsaXR5PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1lLmFjdGl2ZVBsdWdpbj9udWxsOmUuYWN0aXZlUGx1Z2luLmNhcGFiaWxpdGllc1thXX0sZS5pbml0TG9hZD1mdW5jdGlvbihhLGIsYyxkLGYpe3ZhciBnPWUucmVnaXN0ZXJTb3VuZChhLGMsZCwhMSxmKTtyZXR1cm4gbnVsbD09Zz8hMTpnfSxlLnJlZ2lzdGVyU291bmQ9ZnVuY3Rpb24oYSxjLGQsZixnKXtpZighZS5pbml0aWFsaXplRGVmYXVsdFBsdWdpbnMoKSlyZXR1cm4hMTthIGluc3RhbmNlb2YgT2JqZWN0JiYoZz1jLGM9YS5pZCxkPWEuZGF0YSxhPWEuc3JjKTt2YXIgaD1lLnBhcnNlUGF0aChhLCJzb3VuZCIsYyxkKTtpZihudWxsPT1oKXJldHVybiExO251bGwhPWMmJihlLmlkSGFzaFtjXT1oLnNyYyk7dmFyIGk9bnVsbDtudWxsIT1kJiYoaXNOYU4oZC5jaGFubmVscyk/aXNOYU4oZCl8fChpPXBhcnNlSW50KGQpKTppPXBhcnNlSW50KGQuY2hhbm5lbHMpKTt2YXIgaj1lLmFjdGl2ZVBsdWdpbi5yZWdpc3RlcihoLnNyYyxpKTtpZihudWxsIT1qJiYobnVsbCE9ai5udW1DaGFubmVscyYmKGk9ai5udW1DaGFubmVscyksYi5jcmVhdGUoaC5zcmMsaSksbnVsbCE9ZCYmaXNOYU4oZCk/ZC5jaGFubmVscz1oLmRhdGEuY2hhbm5lbHM9aXx8Yi5tYXhQZXJDaGFubmVsKCk6ZD1oLmRhdGE9aXx8Yi5tYXhQZXJDaGFubmVsKCksbnVsbCE9ai50YWc/aC50YWc9ai50YWc6ai5zcmMmJihoLnNyYz1qLnNyYyksbnVsbCE9ai5jb21wbGV0ZUhhbmRsZXImJihoLmNvbXBsZXRlSGFuZGxlcj1qLmNvbXBsZXRlSGFuZGxlciksai50eXBlJiYoaC50eXBlPWoudHlwZSkpLDAhPWYpaWYoZS5wcmVsb2FkSGFzaFtoLnNyY118fChlLnByZWxvYWRIYXNoW2guc3JjXT1bXSksZS5wcmVsb2FkSGFzaFtoLnNyY10ucHVzaCh7c3JjOmEsaWQ6YyxkYXRhOmR9KSwxPT1lLnByZWxvYWRIYXNoW2guc3JjXS5sZW5ndGgpbnVsbD09ZyYmKGc9IiIpLGUuYWN0aXZlUGx1Z2luLnByZWxvYWQoaC5zcmMsaixnKTtlbHNlIGlmKDE9PWUucHJlbG9hZEhhc2hbaC5zcmNdWzBdKXJldHVybiEwO3JldHVybiBofSxlLnJlZ2lzdGVyTWFuaWZlc3Q9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9W10sZD0wLGU9YS5sZW5ndGg7ZT5kO2QrKyljW2RdPWNyZWF0ZWpzLlNvdW5kLnJlZ2lzdGVyU291bmQoYVtkXS5zcmMsYVtkXS5pZCxhW2RdLmRhdGEsYVtkXS5wcmVsb2FkLGIpO3JldHVybiBjfSxlLnJlbW92ZVNvdW5kPWZ1bmN0aW9uKGEpe2lmKG51bGw9PWUuYWN0aXZlUGx1Z2luKXJldHVybiExO2EgaW5zdGFuY2VvZiBPYmplY3QmJihhPWEuc3JjKSxhPWUuZ2V0U3JjQnlJZChhKTt2YXIgYz1lLnBhcnNlUGF0aChhKTtpZihudWxsPT1jKXJldHVybiExO2E9Yy5zcmM7Zm9yKHZhciBkIGluIGUuaWRIYXNoKWUuaWRIYXNoW2RdPT1hJiZkZWxldGUgZS5pZEhhc2hbZF07cmV0dXJuIGIucmVtb3ZlU3JjKGEpLGRlbGV0ZSBlLnByZWxvYWRIYXNoW2FdLGUuYWN0aXZlUGx1Z2luLnJlbW92ZVNvdW5kKGEpLCEwfSxlLnJlbW92ZU1hbmlmZXN0PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWJbY109Y3JlYXRlanMuU291bmQucmVtb3ZlU291bmQoYVtjXS5zcmMpO3JldHVybiBifSxlLnJlbW92ZUFsbFNvdW5kcz1mdW5jdGlvbigpe2UuaWRIYXNoPXt9LGUucHJlbG9hZEhhc2g9e30sYi5yZW1vdmVBbGwoKSxlLmFjdGl2ZVBsdWdpbi5yZW1vdmVBbGxTb3VuZHMoKX0sZS5sb2FkQ29tcGxldGU9ZnVuY3Rpb24oYSl7dmFyIGI9ZS5wYXJzZVBhdGgoYSwic291bmQiKTtyZXR1cm4gYT1iP2UuZ2V0U3JjQnlJZChiLnNyYyk6ZS5nZXRTcmNCeUlkKGEpLDE9PWUucHJlbG9hZEhhc2hbYV1bMF19LGUucGFyc2VQYXRoPWZ1bmN0aW9uKGEsYixjLGQpeyJzdHJpbmciIT10eXBlb2YgYSYmKGE9YS50b1N0cmluZygpKTtmb3IodmFyIGY9YS5zcGxpdChlLkRFTElNSVRFUiksZz17dHlwZTpifHwic291bmQiLGlkOmMsZGF0YTpkfSxoPWUuZ2V0Q2FwYWJpbGl0aWVzKCksaT0wLGo9Zi5sZW5ndGg7aj5pO2krKyl7dmFyIGs9ZltpXSxsPWsubWF0Y2goZS5GSUxFX1BBVFRFUk4pO2lmKG51bGw9PWwpcmV0dXJuITE7dmFyIG09bFs0XSxuPWxbNV07aWYoaFtuXSYmY3JlYXRlanMuaW5kZXhPZihlLlNVUFBPUlRFRF9FWFRFTlNJT05TLG4pPi0xKXJldHVybiBnLm5hbWU9bSxnLnNyYz1rLGcuZXh0ZW5zaW9uPW4sZ31yZXR1cm4gbnVsbH0sZS5wbGF5PWZ1bmN0aW9uKGEsYixjLGQsZixnLGgpe3ZhciBpPWUuY3JlYXRlSW5zdGFuY2UoYSksaj1lLnBsYXlJbnN0YW5jZShpLGIsYyxkLGYsZyxoKTtyZXR1cm4ganx8aS5wbGF5RmFpbGVkKCksaX0sZS5jcmVhdGVJbnN0YW5jZT1mdW5jdGlvbihjKXtpZighZS5pbml0aWFsaXplRGVmYXVsdFBsdWdpbnMoKSlyZXR1cm4gZS5kZWZhdWx0U291bmRJbnN0YW5jZTtjPWUuZ2V0U3JjQnlJZChjKTt2YXIgZD1lLnBhcnNlUGF0aChjLCJzb3VuZCIpLGY9bnVsbDtyZXR1cm4gbnVsbCE9ZCYmbnVsbCE9ZC5zcmM/KGIuY3JlYXRlKGQuc3JjKSxmPWUuYWN0aXZlUGx1Z2luLmNyZWF0ZShkLnNyYykpOmY9YS5kZWZhdWx0U291bmRJbnN0YW5jZSxmLnVuaXF1ZUlkPWUubGFzdElkKyssZn0sZS5zZXRWb2x1bWU9ZnVuY3Rpb24oYSl7aWYobnVsbD09TnVtYmVyKGEpKXJldHVybiExO2lmKGE9TWF0aC5tYXgoMCxNYXRoLm1pbigxLGEpKSxlLm1hc3RlclZvbHVtZT1hLCF0aGlzLmFjdGl2ZVBsdWdpbnx8IXRoaXMuYWN0aXZlUGx1Z2luLnNldFZvbHVtZXx8IXRoaXMuYWN0aXZlUGx1Z2luLnNldFZvbHVtZShhKSlmb3IodmFyIGI9dGhpcy5pbnN0YW5jZXMsYz0wLGQ9Yi5sZW5ndGg7ZD5jO2MrKyliW2NdLnNldE1hc3RlclZvbHVtZShhKX0sZS5nZXRWb2x1bWU9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXN0ZXJWb2x1bWV9LGUuc2V0TXV0ZT1mdW5jdGlvbihhKXtpZihudWxsPT1hfHx2b2lkIDA9PWEpcmV0dXJuITE7aWYodGhpcy5tYXN0ZXJNdXRlPWEsIXRoaXMuYWN0aXZlUGx1Z2lufHwhdGhpcy5hY3RpdmVQbHVnaW4uc2V0TXV0ZXx8IXRoaXMuYWN0aXZlUGx1Z2luLnNldE11dGUoYSkpZm9yKHZhciBiPXRoaXMuaW5zdGFuY2VzLGM9MCxkPWIubGVuZ3RoO2Q+YztjKyspYltjXS5zZXRNYXN0ZXJNdXRlKGEpO3JldHVybiEwfSxlLmdldE11dGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXN0ZXJNdXRlfSxlLnN0b3A9ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5pbnN0YW5jZXMsYj1hLmxlbmd0aDtiLS07KWFbYl0uc3RvcCgpfSxlLnBsYXlJbnN0YW5jZT1mdW5jdGlvbihhLGIsYyxkLGYsZyxoKXtpZihiIGluc3RhbmNlb2YgT2JqZWN0JiYoYz1iLmRlbGF5LGQ9Yi5vZmZzZXQsZj1iLmxvb3AsZz1iLnZvbHVtZSxoPWIucGFuKSxiPWJ8fGUuZGVmYXVsdEludGVycnVwdEJlaGF2aW9yLG51bGw9PWMmJihjPTApLG51bGw9PWQmJihkPWEuZ2V0UG9zaXRpb24oKSksbnVsbD09ZiYmKGY9MCksbnVsbD09ZyYmKGc9YS52b2x1bWUpLG51bGw9PWgmJihoPWEucGFuKSwwPT1jKXt2YXIgaT1lLmJlZ2luUGxheWluZyhhLGIsZCxmLGcsaCk7aWYoIWkpcmV0dXJuITF9ZWxzZXt2YXIgaj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5iZWdpblBsYXlpbmcoYSxiLGQsZixnLGgpfSxjKTthLmRlbGF5VGltZW91dElkPWp9cmV0dXJuIHRoaXMuaW5zdGFuY2VzLnB1c2goYSksITB9LGUuYmVnaW5QbGF5aW5nPWZ1bmN0aW9uKGEsYyxkLGUsZixnKXtpZighYi5hZGQoYSxjKSlyZXR1cm4hMTt2YXIgaD1hLmJlZ2luUGxheWluZyhkLGUsZixnKTtpZighaCl7dmFyIGk9Y3JlYXRlanMuaW5kZXhPZih0aGlzLmluc3RhbmNlcyxhKTtyZXR1cm4gaT4tMSYmdGhpcy5pbnN0YW5jZXMuc3BsaWNlKGksMSksITF9cmV0dXJuITB9LGUuZ2V0U3JjQnlJZD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09ZS5pZEhhc2h8fG51bGw9PWUuaWRIYXNoW2FdP2E6ZS5pZEhhc2hbYV19LGUucGxheUZpbmlzaGVkPWZ1bmN0aW9uKGEpe2IucmVtb3ZlKGEpO3ZhciBjPWNyZWF0ZWpzLmluZGV4T2YodGhpcy5pbnN0YW5jZXMsYSk7Yz4tMSYmdGhpcy5pbnN0YW5jZXMuc3BsaWNlKGMsMSl9LGNyZWF0ZWpzLlNvdW5kPWEsYi5jaGFubmVscz17fSxiLmNyZWF0ZT1mdW5jdGlvbihhLGMpe3ZhciBkPWIuZ2V0KGEpO3JldHVybiBudWxsPT1kPyhiLmNoYW5uZWxzW2FdPW5ldyBiKGEsYyksITApOiExfSxiLnJlbW92ZVNyYz1mdW5jdGlvbihhKXt2YXIgYz1iLmdldChhKTtyZXR1cm4gbnVsbD09Yz8hMTooYy5yZW1vdmVBbGwoKSxkZWxldGUgYi5jaGFubmVsc1thXSwhMCl9LGIucmVtb3ZlQWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIGIuY2hhbm5lbHMpYi5jaGFubmVsc1thXS5yZW1vdmVBbGwoKTtiLmNoYW5uZWxzPXt9fSxiLmFkZD1mdW5jdGlvbihhLGMpe3ZhciBkPWIuZ2V0KGEuc3JjKTtyZXR1cm4gbnVsbD09ZD8hMTpkLmFkZChhLGMpfSxiLnJlbW92ZT1mdW5jdGlvbihhKXt2YXIgYz1iLmdldChhLnNyYyk7cmV0dXJuIG51bGw9PWM/ITE6KGMucmVtb3ZlKGEpLCEwKX0sYi5tYXhQZXJDaGFubmVsPWZ1bmN0aW9uKCl7cmV0dXJuIGYubWF4RGVmYXVsdH0sYi5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGIuY2hhbm5lbHNbYV19O3ZhciBmPWIucHJvdG90eXBlO2Yuc3JjPW51bGwsZi5tYXg9bnVsbCxmLm1heERlZmF1bHQ9MTAwLGYubGVuZ3RoPTAsZi5pbml0PWZ1bmN0aW9uKGEsYil7dGhpcy5zcmM9YSx0aGlzLm1heD1ifHx0aGlzLm1heERlZmF1bHQsLTE9PXRoaXMubWF4JiZ0aGlzLm1heD09dGhpcy5tYXhEZWZhdWx0LHRoaXMuaW5zdGFuY2VzPVtdfSxmLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbnN0YW5jZXNbYV19LGYuYWRkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ2V0U2xvdChiLGEpPyh0aGlzLmluc3RhbmNlcy5wdXNoKGEpLHRoaXMubGVuZ3RoKyssITApOiExfSxmLnJlbW92ZT1mdW5jdGlvbihhKXt2YXIgYj1jcmVhdGVqcy5pbmRleE9mKHRoaXMuaW5zdGFuY2VzLGEpO3JldHVybi0xPT1iPyExOih0aGlzLmluc3RhbmNlcy5zcGxpY2UoYiwxKSx0aGlzLmxlbmd0aC0tLCEwKX0sZi5yZW1vdmVBbGw9ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5sZW5ndGgtMTthPj0wO2EtLSl0aGlzLmluc3RhbmNlc1thXS5zdG9wKCl9LGYuZ2V0U2xvdD1mdW5jdGlvbihiKXtmb3IodmFyIGMsZCxlPTAsZj10aGlzLm1heDtmPmU7ZSsrKXtpZihjPXRoaXMuZ2V0KGUpLG51bGw9PWMpcmV0dXJuITA7KGIhPWEuSU5URVJSVVBUX05PTkV8fGMucGxheVN0YXRlPT1hLlBMQVlfRklOSVNIRUQpJiYoMCE9ZT9jLnBsYXlTdGF0ZT09YS5QTEFZX0ZJTklTSEVEfHxjLnBsYXlTdGF0ZT09YS5QTEFZX0lOVEVSUlVQVEVEfHxjLnBsYXlTdGF0ZT09YS5QTEFZX0ZBSUxFRD9kPWM6KGI9PWEuSU5URVJSVVBUX0VBUkxZJiZjLmdldFBvc2l0aW9uKCk8ZC5nZXRQb3NpdGlvbigpfHxiPT1hLklOVEVSUlVQVF9MQVRFJiZjLmdldFBvc2l0aW9uKCk+ZC5nZXRQb3NpdGlvbigpKSYmKGQ9Yyk6ZD1jKX1yZXR1cm4gbnVsbCE9ZD8oZC5pbnRlcnJ1cHQoKSx0aGlzLnJlbW92ZShkKSwhMCk6ITF9LGYudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW1NvdW5kIFNvdW5kQ2hhbm5lbF0ifSxhLmRlZmF1bHRTb3VuZEluc3RhbmNlPW5ldyBjLG51bGw9PWNyZWF0ZWpzLnByb3h5JiYoY3JlYXRlanMucHJveHk9ZnVuY3Rpb24oKXt0aHJvdyJQcm94eSBoYXMgYmVlbiBtb3ZlZCB0byBhbiBleHRlcm5hbCBmaWxlLCBhbmQgbXVzdCBiZSBpbmNsdWRlZCBzZXBhcmF0ZWx5LiJ9KSxkLmluaXQ9ZnVuY3Rpb24oKXt2YXIgYT13aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtkLmlzRmlyZWZveD1hLmluZGV4T2YoIkZpcmVmb3giKT4tMSxkLmlzT3BlcmE9bnVsbCE9d2luZG93Lm9wZXJhLGQuaXNDaHJvbWU9YS5pbmRleE9mKCJDaHJvbWUiKT4tMSxkLmlzSU9TPWEuaW5kZXhPZigiaVBvZCIpPi0xfHxhLmluZGV4T2YoImlQaG9uZSIpPi0xfHxhLmluZGV4T2YoImlQYWQiKT4tMSxkLmlzQW5kcm9pZD1hLmluZGV4T2YoIkFuZHJvaWQiKT4tMSxkLmlzQmxhY2tiZXJyeT1hLmluZGV4T2YoIkJsYWNrYmVycnkiKT4tMX0sZC5pbml0KCksY3JlYXRlanMuU291bmQuQnJvd3NlckRldGVjdD1kfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYSgpe3RoaXMuaW5pdCgpfXZhciBiPWE7Yi5jYXBhYmlsaXRpZXM9bnVsbCxiLmlzU3VwcG9ydGVkPWZ1bmN0aW9uKCl7dmFyIGE9Y3JlYXRlanMuU291bmQuQnJvd3NlckRldGVjdC5pc0lPU3x8Y3JlYXRlanMuU291bmQuQnJvd3NlckRldGVjdC5pc0FuZHJvaWR8fGNyZWF0ZWpzLlNvdW5kLkJyb3dzZXJEZXRlY3QuaXNCbGFja2JlcnJ5O3JldHVybiJmaWxlOiIhPWxvY2F0aW9uLnByb3RvY29sfHxhfHx0aGlzLmlzRmlsZVhIUlN1cHBvcnRlZCgpPyhiLmdlbmVyYXRlQ2FwYWJpbGl0aWVzKCksbnVsbD09Yi5jb250ZXh0PyExOiEwKTohMX0sYi5pc0ZpbGVYSFJTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXt2YXIgYT0hMCxiPW5ldyBYTUxIdHRwUmVxdWVzdDt0cnl7Yi5vcGVuKCJHRVQiLCJmYWlsLmZhaWwiLCExKX1jYXRjaChjKXtyZXR1cm4gYT0hMX1iLm9uZXJyb3I9ZnVuY3Rpb24oKXthPSExfSxiLm9ubG9hZD1mdW5jdGlvbigpe2E9NDA0PT10aGlzLnN0YXR1c3x8MjAwPT10aGlzLnN0YXR1c3x8MD09dGhpcy5zdGF0dXMmJiIiIT10aGlzLnJlc3BvbnNlfTt0cnl7Yi5zZW5kKCl9Y2F0Y2goYyl7YT0hMX1yZXR1cm4gYX0sYi5nZW5lcmF0ZUNhcGFiaWxpdGllcz1mdW5jdGlvbigpe2lmKG51bGw9PWIuY2FwYWJpbGl0aWVzKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpO2lmKG51bGw9PWEuY2FuUGxheVR5cGUpcmV0dXJuIG51bGw7aWYod2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCliLmNvbnRleHQ9bmV3IHdlYmtpdEF1ZGlvQ29udGV4dDtlbHNle2lmKCF3aW5kb3cuQXVkaW9Db250ZXh0KXJldHVybiBudWxsO2IuY29udGV4dD1uZXcgQXVkaW9Db250ZXh0fWIuY29tcGF0aWJpbGl0eVNldFVwKCksYi5wbGF5RW1wdHlTb3VuZCgpLGIuY2FwYWJpbGl0aWVzPXtwYW5uaW5nOiEwLHZvbHVtZTohMCx0cmFja3M6LTF9O2Zvcih2YXIgYz1jcmVhdGVqcy5Tb3VuZC5TVVBQT1JURURfRVhURU5TSU9OUyxkPWNyZWF0ZWpzLlNvdW5kLkVYVEVOU0lPTl9NQVAsZT0wLGY9Yy5sZW5ndGg7Zj5lO2UrKyl7dmFyIGc9Y1tlXSxoPWRbZ118fGc7Yi5jYXBhYmlsaXRpZXNbZ109Im5vIiE9YS5jYW5QbGF5VHlwZSgiYXVkaW8vIitnKSYmIiIhPWEuY2FuUGxheVR5cGUoImF1ZGlvLyIrZyl8fCJubyIhPWEuY2FuUGxheVR5cGUoImF1ZGlvLyIraCkmJiIiIT1hLmNhblBsYXlUeXBlKCJhdWRpby8iK2gpfWIuY29udGV4dC5kZXN0aW5hdGlvbi5udW1iZXJPZkNoYW5uZWxzPDImJihiLmNhcGFiaWxpdGllcy5wYW5uaW5nPSExKSxiLmR5bmFtaWNzQ29tcHJlc3Nvck5vZGU9Yi5jb250ZXh0LmNyZWF0ZUR5bmFtaWNzQ29tcHJlc3NvcigpLGIuZHluYW1pY3NDb21wcmVzc29yTm9kZS5jb25uZWN0KGIuY29udGV4dC5kZXN0aW5hdGlvbiksYi5nYWluTm9kZT1iLmNvbnRleHQuY3JlYXRlR2FpbigpLGIuZ2Fpbk5vZGUuY29ubmVjdChiLmR5bmFtaWNzQ29tcHJlc3Nvck5vZGUpfX0sYi5jb21wYXRpYmlsaXR5U2V0VXA9ZnVuY3Rpb24oKXtpZighYi5jb250ZXh0LmNyZWF0ZUdhaW4pe2IuY29udGV4dC5jcmVhdGVHYWluPWIuY29udGV4dC5jcmVhdGVHYWluTm9kZTt2YXIgYT1iLmNvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7YS5fX3Byb3RvX18uc3RhcnQ9YS5fX3Byb3RvX18ubm90ZUdyYWluT24sYS5fX3Byb3RvX18uc3RvcD1hLl9fcHJvdG9fXy5ub3RlT2ZmLHRoaXMucGFubmluZ01vZGVsPTB9fSxiLnBsYXlFbXB0eVNvdW5kPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jb250ZXh0LmNyZWF0ZUJ1ZmZlcigxLDEsMjIwNTApLGI9dGhpcy5jb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO2IuYnVmZmVyPWEsYi5jb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbiksYi5zdGFydCgwLDAsMCl9O3ZhciBjPWEucHJvdG90eXBlO2MuY2FwYWJpbGl0aWVzPW51bGwsYy52b2x1bWU9MSxjLmNvbnRleHQ9bnVsbCxjLnBhbm5pbmdNb2RlbD0iZXF1YWxwb3dlciIsYy5keW5hbWljc0NvbXByZXNzb3JOb2RlPW51bGwsYy5nYWluTm9kZT1udWxsLGMuYXJyYXlCdWZmZXJzPW51bGwsYy5pbml0PWZ1bmN0aW9uKCl7dGhpcy5jYXBhYmlsaXRpZXM9Yi5jYXBhYmlsaXRpZXMsdGhpcy5hcnJheUJ1ZmZlcnM9e30sdGhpcy5jb250ZXh0PWIuY29udGV4dCx0aGlzLmdhaW5Ob2RlPWIuZ2Fpbk5vZGUsdGhpcy5keW5hbWljc0NvbXByZXNzb3JOb2RlPWIuZHluYW1pY3NDb21wcmVzc29yTm9kZX0sYy5yZWdpc3Rlcj1mdW5jdGlvbihhKXt0aGlzLmFycmF5QnVmZmVyc1thXT0hMDt2YXIgYj1uZXcgY3JlYXRlanMuV2ViQXVkaW9QbHVnaW4uTG9hZGVyKGEsdGhpcyk7cmV0dXJue3RhZzpifX0sYy5pc1ByZWxvYWRTdGFydGVkPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT10aGlzLmFycmF5QnVmZmVyc1thXX0sYy5pc1ByZWxvYWRDb21wbGV0ZT1mdW5jdGlvbihhKXtyZXR1cm4hKG51bGw9PXRoaXMuYXJyYXlCdWZmZXJzW2FdfHwxPT10aGlzLmFycmF5QnVmZmVyc1thXSl9LGMucmVtb3ZlRnJvbVByZWxvYWQ9ZnVuY3Rpb24oYSl7ZGVsZXRlIHRoaXMuYXJyYXlCdWZmZXJzW2FdfSxjLnJlbW92ZVNvdW5kPWZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLmFycmF5QnVmZmVyc1thXX0sYy5yZW1vdmVBbGxTb3VuZHM9ZnVuY3Rpb24oKXt0aGlzLmFycmF5QnVmZmVycz17fX0sYy5hZGRQcmVsb2FkUmVzdWx0cz1mdW5jdGlvbihhLGIpe3RoaXMuYXJyYXlCdWZmZXJzW2FdPWJ9LGMuaGFuZGxlUHJlbG9hZENvbXBsZXRlPWZ1bmN0aW9uKCl7Y3JlYXRlanMuU291bmQuc2VuZEZpbGVMb2FkRXZlbnQodGhpcy5zcmMpfSxjLnByZWxvYWQ9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuYXJyYXlCdWZmZXJzW2FdPSEwO3ZhciBkPW5ldyBjcmVhdGVqcy5XZWJBdWRpb1BsdWdpbi5Mb2FkZXIoYSx0aGlzKTtkLm9ubG9hZD10aGlzLmhhbmRsZVByZWxvYWRDb21wbGV0ZSxudWxsIT1jJiYoZC5zcmM9YytkLnNyYyksZC5sb2FkKCl9LGMuY3JlYXRlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzUHJlbG9hZFN0YXJ0ZWQoYSl8fHRoaXMucHJlbG9hZChhKSxuZXcgY3JlYXRlanMuV2ViQXVkaW9QbHVnaW4uU291bmRJbnN0YW5jZShhLHRoaXMpfSxjLnNldFZvbHVtZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy52b2x1bWU9YSx0aGlzLnVwZGF0ZVZvbHVtZSgpLCEwfSxjLnVwZGF0ZVZvbHVtZT1mdW5jdGlvbigpe3ZhciBhPWNyZWF0ZWpzLlNvdW5kLm1hc3Rlck11dGU/MDp0aGlzLnZvbHVtZTthIT10aGlzLmdhaW5Ob2RlLmdhaW4udmFsdWUmJih0aGlzLmdhaW5Ob2RlLmdhaW4udmFsdWU9YSl9LGMuZ2V0Vm9sdW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudm9sdW1lfSxjLnNldE11dGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cGRhdGVWb2x1bWUoKSwhMH0sYy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbV2ViQXVkaW9QbHVnaW5dIn0sY3JlYXRlanMuV2ViQXVkaW9QbHVnaW49YX0oKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBhKGEsYil7dGhpcy5pbml0KGEsYil9dmFyIGI9YS5wcm90b3R5cGU7Yi5zcmM9bnVsbCxiLnVuaXF1ZUlkPS0xLGIucGxheVN0YXRlPW51bGwsYi5vd25lcj1udWxsLGIub2Zmc2V0PTAsYi5kZWxheT0wLGIuX3ZvbHVtZT0xLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShiLCJ2b2x1bWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdm9sdW1lfSxzZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PU51bWJlcihhKT8hMTooYT1NYXRoLm1heCgwLE1hdGgubWluKDEsYSkpLHRoaXMuX3ZvbHVtZT1hLHRoaXMudXBkYXRlVm9sdW1lKCksdm9pZCAwKX19KSxiLl9wYW49MCxPYmplY3QuZGVmaW5lUHJvcGVydHkoYiwicGFuIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Bhbn0sc2V0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm93bmVyLmNhcGFiaWxpdGllcy5wYW5uaW5nJiZudWxsIT1OdW1iZXIoYSk/KGE9TWF0aC5tYXgoLTEsTWF0aC5taW4oMSxhKSksdGhpcy5fcGFuPWEsdGhpcy5wYW5Ob2RlLnNldFBvc2l0aW9uKGEsMCwtLjUpLHZvaWQgMCk6ITF9fSksYi5kdXJhdGlvbj0wLGIucmVtYWluaW5nTG9vcHM9MCxiLmRlbGF5VGltZW91dElkPW51bGwsYi5zb3VuZENvbXBsZXRlVGltZW91dD1udWxsLGIucGFuTm9kZT1udWxsLGIuZ2Fpbk5vZGU9bnVsbCxiLnNvdXJjZU5vZGU9bnVsbCxiLnNvdXJjZU5vZGVOZXh0PW51bGwsYi5tdXRlZD0hMSxiLnBhdXNlZD0hMSxiLnN0YXJ0VGltZT0wLGIuYWRkRXZlbnRMaXN0ZW5lcj1udWxsLGIucmVtb3ZlRXZlbnRMaXN0ZW5lcj1udWxsLGIucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnM9bnVsbCxiLmRpc3BhdGNoRXZlbnQ9bnVsbCxiLmhhc0V2ZW50TGlzdGVuZXI9bnVsbCxiLl9saXN0ZW5lcnM9bnVsbCxiLmVuZGVkSGFuZGxlcj1udWxsLGIucmVhZHlIYW5kbGVyPW51bGwsYi5zdGFsbGVkSGFuZGxlcj1udWxsLGIuc2VuZEV2ZW50PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBjcmVhdGVqcy5FdmVudChhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYil9LGIuaW5pdD1mdW5jdGlvbihhLGIpe3RoaXMub3duZXI9Yix0aGlzLnNyYz1hLHRoaXMucGFuTm9kZT10aGlzLm93bmVyLmNvbnRleHQuY3JlYXRlUGFubmVyKCksdGhpcy5wYW5Ob2RlLnBhbm5pbmdNb2RlbD10aGlzLm93bmVyLnBhbm5pbmdNb2RlbCx0aGlzLmdhaW5Ob2RlPXRoaXMub3duZXIuY29udGV4dC5jcmVhdGVHYWluKCksdGhpcy5nYWluTm9kZS5jb25uZWN0KHRoaXMucGFuTm9kZSksdGhpcy5vd25lci5pc1ByZWxvYWRDb21wbGV0ZSh0aGlzLnNyYykmJih0aGlzLmR1cmF0aW9uPTFlMyp0aGlzLm93bmVyLmFycmF5QnVmZmVyc1t0aGlzLnNyY10uZHVyYXRpb24pLHRoaXMuZW5kZWRIYW5kbGVyPWNyZWF0ZWpzLnByb3h5KHRoaXMuaGFuZGxlU291bmRDb21wbGV0ZSx0aGlzKSx0aGlzLnJlYWR5SGFuZGxlcj1jcmVhdGVqcy5wcm94eSh0aGlzLmhhbmRsZVNvdW5kUmVhZHksdGhpcyksdGhpcy5zdGFsbGVkSGFuZGxlcj1jcmVhdGVqcy5wcm94eSh0aGlzLmhhbmRsZVNvdW5kU3RhbGxlZCx0aGlzKX0sYi5jbGVhblVwPWZ1bmN0aW9uKCl7dGhpcy5zb3VyY2VOb2RlJiZ0aGlzLnNvdXJjZU5vZGUucGxheWJhY2tTdGF0ZSE9dGhpcy5zb3VyY2VOb2RlLlVOU0NIRURVTEVEX1NUQVRFJiYodGhpcy5zb3VyY2VOb2RlPXRoaXMuY2xlYW5VcEF1ZGlvTm9kZSh0aGlzLnNvdXJjZU5vZGUpLHRoaXMuc291cmNlTm9kZU5leHQ9dGhpcy5jbGVhblVwQXVkaW9Ob2RlKHRoaXMuc291cmNlTm9kZU5leHQpKSwwIT10aGlzLnBhbk5vZGUubnVtYmVyT2ZPdXRwdXRzJiZ0aGlzLnBhbk5vZGUuZGlzY29ubmVjdCgwKSxjbGVhclRpbWVvdXQodGhpcy5kZWxheVRpbWVvdXRJZCksY2xlYXJUaW1lb3V0KHRoaXMuc291bmRDb21wbGV0ZVRpbWVvdXQpLHRoaXMuc3RhcnRUaW1lPTAsbnVsbCE9d2luZG93LmNyZWF0ZWpzJiZjcmVhdGVqcy5Tb3VuZC5wbGF5RmluaXNoZWQodGhpcyl9LGIuY2xlYW5VcEF1ZGlvTm9kZT1mdW5jdGlvbihhKXtyZXR1cm4gYSYmKGEuc3RvcCgwKSxhLmRpc2Nvbm5lY3QodGhpcy5nYWluTm9kZSksYT1udWxsKSxhfSxiLmludGVycnVwdD1mdW5jdGlvbigpe3RoaXMucGxheVN0YXRlPWNyZWF0ZWpzLlNvdW5kLlBMQVlfSU5URVJSVVBURUQsdGhpcy5jbGVhblVwKCksdGhpcy5wYXVzZWQ9ITEsdGhpcy5zZW5kRXZlbnQoImludGVycnVwdGVkIil9LGIuaGFuZGxlU291bmRTdGFsbGVkPWZ1bmN0aW9uKCl7dGhpcy5zZW5kRXZlbnQoImZhaWxlZCIpfSxiLmhhbmRsZVNvdW5kUmVhZHk9ZnVuY3Rpb24oKXtpZihudWxsIT13aW5kb3cuY3JlYXRlanMpe2lmKDFlMyp0aGlzLm9mZnNldD50aGlzLmdldER1cmF0aW9uKCkpcmV0dXJuIHRoaXMucGxheUZhaWxlZCgpLHZvaWQgMDt0aGlzLm9mZnNldDwwJiYodGhpcy5vZmZzZXQ9MCksdGhpcy5wbGF5U3RhdGU9Y3JlYXRlanMuU291bmQuUExBWV9TVUNDRUVERUQsdGhpcy5wYXVzZWQ9ITEsdGhpcy5wYW5Ob2RlLmNvbm5lY3QodGhpcy5vd25lci5nYWluTm9kZSk7dmFyIGE9dGhpcy5vd25lci5hcnJheUJ1ZmZlcnNbdGhpcy5zcmNdLmR1cmF0aW9uO3RoaXMuc291cmNlTm9kZT10aGlzLmNyZWF0ZUFuZFBsYXlBdWRpb05vZGUodGhpcy5vd25lci5jb250ZXh0LmN1cnJlbnRUaW1lLWEsdGhpcy5vZmZzZXQpLHRoaXMuZHVyYXRpb249MWUzKmEsdGhpcy5zdGFydFRpbWU9dGhpcy5zb3VyY2VOb2RlLnN0YXJ0VGltZS10aGlzLm9mZnNldCx0aGlzLnNvdW5kQ29tcGxldGVUaW1lb3V0PXNldFRpbWVvdXQodGhpcy5lbmRlZEhhbmRsZXIsMWUzKihhLXRoaXMub2Zmc2V0KSksMCE9dGhpcy5yZW1haW5pbmdMb29wcyYmKHRoaXMuc291cmNlTm9kZU5leHQ9dGhpcy5jcmVhdGVBbmRQbGF5QXVkaW9Ob2RlKHRoaXMuc3RhcnRUaW1lLDApKX19LGIuY3JlYXRlQW5kUGxheUF1ZGlvTm9kZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMub3duZXIuY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtyZXR1cm4gYy5idWZmZXI9dGhpcy5vd25lci5hcnJheUJ1ZmZlcnNbdGhpcy5zcmNdLGMuY29ubmVjdCh0aGlzLmdhaW5Ob2RlKSx0aGlzLm93bmVyLmNvbnRleHQuY3VycmVudFRpbWUsYy5zdGFydFRpbWU9YStjLmJ1ZmZlci5kdXJhdGlvbixjLnN0YXJ0KGMuc3RhcnRUaW1lLGIsYy5idWZmZXIuZHVyYXRpb24tYiksY30sYi5wbGF5PWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLmNsZWFuVXAoKSxjcmVhdGVqcy5Tb3VuZC5wbGF5SW5zdGFuY2UodGhpcyxhLGIsYyxkLGUsZil9LGIuYmVnaW5QbGF5aW5nPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBudWxsIT13aW5kb3cuY3JlYXRlanMmJnRoaXMuc3JjPyh0aGlzLm9mZnNldD1hLzFlMyx0aGlzLnJlbWFpbmluZ0xvb3BzPWIsdGhpcy52b2x1bWU9Yyx0aGlzLnBhbj1kLHRoaXMub3duZXIuaXNQcmVsb2FkQ29tcGxldGUodGhpcy5zcmMpPyh0aGlzLmhhbmRsZVNvdW5kUmVhZHkobnVsbCksdGhpcy5zZW5kRXZlbnQoInN1Y2NlZWRlZCIpLDEpOih0aGlzLnBsYXlGYWlsZWQoKSx2b2lkIDApKTp2b2lkIDB9LGIucGF1c2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXVzZWR8fHRoaXMucGxheVN0YXRlIT1jcmVhdGVqcy5Tb3VuZC5QTEFZX1NVQ0NFRURFRD8hMToodGhpcy5wYXVzZWQ9ITAsdGhpcy5vZmZzZXQ9dGhpcy5vd25lci5jb250ZXh0LmN1cnJlbnRUaW1lLXRoaXMuc3RhcnRUaW1lLHRoaXMuY2xlYW5VcEF1ZGlvTm9kZSh0aGlzLnNvdXJjZU5vZGUpLHRoaXMuY2xlYW5VcEF1ZGlvTm9kZSh0aGlzLnNvdXJjZU5vZGVOZXh0KSwwIT10aGlzLnBhbk5vZGUubnVtYmVyT2ZPdXRwdXRzJiZ0aGlzLnBhbk5vZGUuZGlzY29ubmVjdCgpLGNsZWFyVGltZW91dCh0aGlzLmRlbGF5VGltZW91dElkKSxjbGVhclRpbWVvdXQodGhpcy5zb3VuZENvbXBsZXRlVGltZW91dCksITApfSxiLnJlc3VtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdXNlZD8odGhpcy5oYW5kbGVTb3VuZFJlYWR5KG51bGwpLCEwKTohMX0sYi5zdG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGxheVN0YXRlPWNyZWF0ZWpzLlNvdW5kLlBMQVlfRklOSVNIRUQsdGhpcy5jbGVhblVwKCksdGhpcy5vZmZzZXQ9MCwhMH0sYi5zZXRWb2x1bWU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudm9sdW1lPWEsITB9LGIudXBkYXRlVm9sdW1lPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5tdXRlZD8wOnRoaXMuX3ZvbHVtZTtyZXR1cm4gYSE9dGhpcy5nYWluTm9kZS5nYWluLnZhbHVlPyh0aGlzLmdhaW5Ob2RlLmdhaW4udmFsdWU9YSwhMCk6ITF9LGIuZ2V0Vm9sdW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudm9sdW1lfSxiLnNldE11dGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWF8fHZvaWQgMD09YT8hMToodGhpcy5tdXRlZD1hLHRoaXMudXBkYXRlVm9sdW1lKCksITApfSxiLmdldE11dGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tdXRlZH0sYi5zZXRQYW49ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucGFuPWEsdGhpcy5wYW4hPWE/ITE6dm9pZCAwfSxiLmdldFBhbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhbn0sYi5nZXRQb3NpdGlvbj1mdW5jdGlvbigpe2lmKHRoaXMucGF1c2VkfHxudWxsPT10aGlzLnNvdXJjZU5vZGUpdmFyIGE9dGhpcy5vZmZzZXQ7ZWxzZSB2YXIgYT10aGlzLm93bmVyLmNvbnRleHQuY3VycmVudFRpbWUtdGhpcy5zdGFydFRpbWU7cmV0dXJuIDFlMyphfSxiLnNldFBvc2l0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9mZnNldD1hLzFlMyx0aGlzLnNvdXJjZU5vZGUmJnRoaXMuc291cmNlTm9kZS5wbGF5YmFja1N0YXRlIT10aGlzLnNvdXJjZU5vZGUuVU5TQ0hFRFVMRURfU1RBVEUmJih0aGlzLmNsZWFuVXBBdWRpb05vZGUodGhpcy5zb3VyY2VOb2RlKSx0aGlzLmNsZWFuVXBBdWRpb05vZGUodGhpcy5zb3VyY2VOb2RlTmV4dCksY2xlYXJUaW1lb3V0KHRoaXMuc291bmRDb21wbGV0ZVRpbWVvdXQpKSx0aGlzLnBhdXNlZHx8dGhpcy5wbGF5U3RhdGUhPWNyZWF0ZWpzLlNvdW5kLlBMQVlfU1VDQ0VFREVEfHx0aGlzLmhhbmRsZVNvdW5kUmVhZHkobnVsbCksITB9LGIuZ2V0RHVyYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kdXJhdGlvbn0sYi5oYW5kbGVTb3VuZENvbXBsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2Zmc2V0PTAsMCE9dGhpcy5yZW1haW5pbmdMb29wcz8odGhpcy5yZW1haW5pbmdMb29wcy0tLHRoaXMuc291cmNlTm9kZU5leHQ/KHRoaXMuY2xlYW5VcEF1ZGlvTm9kZSh0aGlzLnNvdXJjZU5vZGUpLHRoaXMuc291cmNlTm9kZT10aGlzLnNvdXJjZU5vZGVOZXh0LHRoaXMuc3RhcnRUaW1lPXRoaXMuc291cmNlTm9kZS5zdGFydFRpbWUsdGhpcy5zb3VyY2VOb2RlTmV4dD10aGlzLmNyZWF0ZUFuZFBsYXlBdWRpb05vZGUodGhpcy5zdGFydFRpbWUsMCksdGhpcy5zb3VuZENvbXBsZXRlVGltZW91dD1zZXRUaW1lb3V0KHRoaXMuZW5kZWRIYW5kbGVyLHRoaXMuZHVyYXRpb24pKTp0aGlzLmhhbmRsZVNvdW5kUmVhZHkobnVsbCksdGhpcy5zZW5kRXZlbnQoImxvb3AiKSx2b2lkIDApOihudWxsIT13aW5kb3cuY3JlYXRlanMmJih0aGlzLnBsYXlTdGF0ZT1jcmVhdGVqcy5Tb3VuZC5QTEFZX0ZJTklTSEVELHRoaXMuY2xlYW5VcCgpLHRoaXMuc2VuZEV2ZW50KCJjb21wbGV0ZSIpKSx2b2lkIDApfSxiLnBsYXlGYWlsZWQ9ZnVuY3Rpb24oKXtudWxsIT13aW5kb3cuY3JlYXRlanMmJih0aGlzLnBsYXlTdGF0ZT1jcmVhdGVqcy5Tb3VuZC5QTEFZX0ZBSUxFRCx0aGlzLmNsZWFuVXAoKSx0aGlzLnNlbmRFdmVudCgiZmFpbGVkIikpfSxiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltXZWJBdWRpb1BsdWdpbiBTb3VuZEluc3RhbmNlXSJ9LGNyZWF0ZWpzLkV2ZW50RGlzcGF0Y2hlci5pbml0aWFsaXplKGEucHJvdG90eXBlKSxjcmVhdGVqcy5XZWJBdWRpb1BsdWdpbi5Tb3VuZEluc3RhbmNlPWF9KCksZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYShhLGIpe3RoaXMuaW5pdChhLGIpfXZhciBiPWEucHJvdG90eXBlO2IucmVxdWVzdD1udWxsLGIub3duZXI9bnVsbCxiLnByb2dyZXNzPS0xLGIuc3JjPW51bGwsYi5vcmlnaW5hbFNyYz1udWxsLGIucmVzdWx0PW51bGwsYi5vbmxvYWQ9bnVsbCxiLm9ucHJvZ3Jlc3M9bnVsbCxiLm9uRXJyb3I9bnVsbCxiLmluaXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLnNyYz1hLHRoaXMub3JpZ2luYWxTcmM9YSx0aGlzLm93bmVyPWJ9LGIubG9hZD1mdW5jdGlvbihhKXtudWxsIT1hJiYodGhpcy5zcmM9YSksdGhpcy5yZXF1ZXN0PW5ldyBYTUxIdHRwUmVxdWVzdCx0aGlzLnJlcXVlc3Qub3BlbigiR0VUIix0aGlzLnNyYywhMCksdGhpcy5yZXF1ZXN0LnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiLHRoaXMucmVxdWVzdC5vbmxvYWQ9Y3JlYXRlanMucHJveHkodGhpcy5oYW5kbGVMb2FkLHRoaXMpLHRoaXMucmVxdWVzdC5vbkVycm9yPWNyZWF0ZWpzLnByb3h5KHRoaXMuaGFuZGxlRXJyb3IsdGhpcyksdGhpcy5yZXF1ZXN0Lm9ucHJvZ3Jlc3M9Y3JlYXRlanMucHJveHkodGhpcy5oYW5kbGVQcm9ncmVzcyx0aGlzKSx0aGlzLnJlcXVlc3Quc2VuZCgpfSxiLmhhbmRsZVByb2dyZXNzPWZ1bmN0aW9uKGEsYil7dGhpcy5wcm9ncmVzcz1hL2IsbnVsbCE9dGhpcy5vbnByb2dyZXNzJiZ0aGlzLm9ucHJvZ3Jlc3Moe2xvYWRlZDphLHRvdGFsOmIscHJvZ3Jlc3M6dGhpcy5wcm9ncmVzc30pfSxiLmhhbmRsZUxvYWQ9ZnVuY3Rpb24oKXt0aGlzLm93bmVyLmNvbnRleHQuZGVjb2RlQXVkaW9EYXRhKHRoaXMucmVxdWVzdC5yZXNwb25zZSxjcmVhdGVqcy5wcm94eSh0aGlzLmhhbmRsZUF1ZGlvRGVjb2RlZCx0aGlzKSxjcmVhdGVqcy5wcm94eSh0aGlzLmhhbmRsZUVycm9yLHRoaXMpKX0sYi5oYW5kbGVBdWRpb0RlY29kZWQ9ZnVuY3Rpb24oYSl7dGhpcy5wcm9ncmVzcz0xLHRoaXMucmVzdWx0PWEsdGhpcy5zcmM9dGhpcy5vcmlnaW5hbFNyYyx0aGlzLm93bmVyLmFkZFByZWxvYWRSZXN1bHRzKHRoaXMuc3JjLHRoaXMucmVzdWx0KSx0aGlzLm9ubG9hZCYmdGhpcy5vbmxvYWQoKX0sYi5oYW5kbGVFcnJvcj1mdW5jdGlvbihhKXt0aGlzLm93bmVyLnJlbW92ZVNvdW5kKHRoaXMuc3JjKSx0aGlzLm9uZXJyb3ImJnRoaXMub25lcnJvcihhKX0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbV2ViQXVkaW9QbHVnaW4gTG9hZGVyXSJ9LGNyZWF0ZWpzLldlYkF1ZGlvUGx1Z2luLkxvYWRlcj1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYSgpe3RoaXMuaW5pdCgpfXZhciBiPWE7Yi5NQVhfSU5TVEFOQ0VTPTMwLGIuY2FwYWJpbGl0aWVzPW51bGwsYi5BVURJT19SRUFEWT0iY2FucGxheXRocm91Z2giLGIuQVVESU9fRU5ERUQ9ImVuZGVkIixiLkFVRElPX1NFRUtFRD0ic2Vla2VkIixiLkFVRElPX0VSUk9SPSJlcnJvciIsYi5BVURJT19TVEFMTEVEPSJzdGFsbGVkIixiLmVuYWJsZUlPUz0hMSxiLmlzU3VwcG9ydGVkPWZ1bmN0aW9uKCl7aWYoY3JlYXRlanMuU291bmQuQnJvd3NlckRldGVjdC5pc0lPUyYmIWIuZW5hYmxlSU9TKXJldHVybiExO2IuZ2VuZXJhdGVDYXBhYmlsaXRpZXMoKTt2YXIgYT1iLnRhZztyZXR1cm4gbnVsbD09YXx8bnVsbD09Yi5jYXBhYmlsaXRpZXM/ITE6ITB9LGIuZ2VuZXJhdGVDYXBhYmlsaXRpZXM9ZnVuY3Rpb24oKXtpZihudWxsPT1iLmNhcGFiaWxpdGllcyl7dmFyIGE9Yi50YWc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYXVkaW8iKTtpZihudWxsPT1hLmNhblBsYXlUeXBlKXJldHVybiBudWxsO2IuY2FwYWJpbGl0aWVzPXtwYW5uaW5nOiEwLHZvbHVtZTohMCx0cmFja3M6LTF9O2Zvcih2YXIgYz1jcmVhdGVqcy5Tb3VuZC5TVVBQT1JURURfRVhURU5TSU9OUyxkPWNyZWF0ZWpzLlNvdW5kLkVYVEVOU0lPTl9NQVAsZT0wLGY9Yy5sZW5ndGg7Zj5lO2UrKyl7dmFyIGc9Y1tlXSxoPWRbZ118fGc7Yi5jYXBhYmlsaXRpZXNbZ109Im5vIiE9YS5jYW5QbGF5VHlwZSgiYXVkaW8vIitnKSYmIiIhPWEuY2FuUGxheVR5cGUoImF1ZGlvLyIrZyl8fCJubyIhPWEuY2FuUGxheVR5cGUoImF1ZGlvLyIraCkmJiIiIT1hLmNhblBsYXlUeXBlKCJhdWRpby8iK2gpfX19O3ZhciBjPWEucHJvdG90eXBlO2MuY2FwYWJpbGl0aWVzPW51bGwsYy5hdWRpb1NvdXJjZXM9bnVsbCxjLmRlZmF1bHROdW1DaGFubmVscz0yLGMubG9hZGVkSGFuZGxlcj1udWxsLGMuaW5pdD1mdW5jdGlvbigpe3RoaXMuY2FwYWJpbGl0aWVzPWIuY2FwYWJpbGl0aWVzLHRoaXMuYXVkaW9Tb3VyY2VzPXt9fSxjLnJlZ2lzdGVyPWZ1bmN0aW9uKGEsYil7dGhpcy5hdWRpb1NvdXJjZXNbYV09ITA7Zm9yKHZhciBjPWNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5UYWdQb29sLmdldChhKSxkPW51bGwsZT1ifHx0aGlzLmRlZmF1bHROdW1DaGFubmVscyxmPTA7ZT5mO2YrKylkPXRoaXMuY3JlYXRlVGFnKGEpLGMuYWRkKGQpO2lmKGQuaWQ9YSx0aGlzLmxvYWRlZEhhbmRsZXI9Y3JlYXRlanMucHJveHkodGhpcy5oYW5kbGVUYWdMb2FkLHRoaXMpLGQuYWRkRXZlbnRMaXN0ZW5lciYmZC5hZGRFdmVudExpc3RlbmVyKCJjYW5wbGF5dGhyb3VnaCIsdGhpcy5sb2FkZWRIYW5kbGVyKSxudWxsPT1kLm9ucmVhZHlzdGF0ZWNoYW5nZSlkLm9ucmVhZHlzdGF0ZWNoYW5nZT10aGlzLmxvYWRlZEhhbmRsZXI7ZWxzZXt2YXIgZz1kLm9ucmVhZHlzdGF0ZWNoYW5nZTtkLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2coKSx0aGlzLmxvYWRlZEhhbmRsZXIoKX19cmV0dXJue3RhZzpkLG51bUNoYW5uZWxzOmV9fSxjLmhhbmRsZVRhZ0xvYWQ9ZnVuY3Rpb24oYSl7YS50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2FucGxheXRocm91Z2giLHRoaXMubG9hZGVkSGFuZGxlciksYS50YXJnZXQub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsYS50YXJnZXQuc3JjIT1hLnRhcmdldC5pZCYmY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLlRhZ1Bvb2wuY2hlY2tTcmMoYS50YXJnZXQuaWQpfSxjLmNyZWF0ZVRhZz1mdW5jdGlvbihhKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpO3JldHVybiBiLmF1dG9wbGF5PSExLGIucHJlbG9hZD0ibm9uZSIsYi5zcmM9YSxifSxjLnJlbW92ZVNvdW5kPWZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLmF1ZGlvU291cmNlc1thXSxjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uVGFnUG9vbC5yZW1vdmUoYSl9LGMucmVtb3ZlQWxsU291bmRzPWZ1bmN0aW9uKCl7dGhpcy5hdWRpb1NvdXJjZXM9e30sY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLlRhZ1Bvb2wucmVtb3ZlQWxsKCl9LGMuY3JlYXRlPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmlzUHJlbG9hZFN0YXJ0ZWQoYSkpe3ZhciBiPWNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5UYWdQb29sLmdldChhKSxjPXRoaXMuY3JlYXRlVGFnKGEpO2MuaWQ9YSxiLmFkZChjKSx0aGlzLnByZWxvYWQoYSx7dGFnOmN9KX1yZXR1cm4gbmV3IGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5Tb3VuZEluc3RhbmNlKGEsdGhpcyl9LGMuaXNQcmVsb2FkU3RhcnRlZD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9dGhpcy5hdWRpb1NvdXJjZXNbYV19LGMucHJlbG9hZD1mdW5jdGlvbihhLGIsYyl7dGhpcy5hdWRpb1NvdXJjZXNbYV09ITAsbnVsbCE9YyYmKGIudGFnLnNyYz1jK2EpLG5ldyBjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uTG9hZGVyKGEsYi50YWcpfSxjLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltIVE1MQXVkaW9QbHVnaW5dIn0sY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luPWF9KCksZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYShhLGIpe3RoaXMuaW5pdChhLGIpfXZhciBiPWEucHJvdG90eXBlO2Iuc3JjPW51bGwsYi51bmlxdWVJZD0tMSxiLnBsYXlTdGF0ZT1udWxsLGIub3duZXI9bnVsbCxiLmxvYWRlZD0hMSxiLm9mZnNldD0wLGIuZGVsYXk9MCxiLl92b2x1bWU9MSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYiwidm9sdW1lIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZvbHVtZX0sc2V0OmZ1bmN0aW9uKGEpe251bGwhPU51bWJlcihhKSYmKGE9TWF0aC5tYXgoMCxNYXRoLm1pbigxLGEpKSx0aGlzLl92b2x1bWU9YSx0aGlzLnVwZGF0ZVZvbHVtZSgpKX19KSxiLnBhbj0wLGIuZHVyYXRpb249MCxiLnJlbWFpbmluZ0xvb3BzPTAsYi5kZWxheVRpbWVvdXRJZD1udWxsLGIudGFnPW51bGwsYi5tdXRlZD0hMSxiLnBhdXNlZD0hMSxiLmFkZEV2ZW50TGlzdGVuZXI9bnVsbCxiLnJlbW92ZUV2ZW50TGlzdGVuZXI9bnVsbCxiLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzPW51bGwsYi5kaXNwYXRjaEV2ZW50PW51bGwsYi5oYXNFdmVudExpc3RlbmVyPW51bGwsYi5fbGlzdGVuZXJzPW51bGwsYi5lbmRlZEhhbmRsZXI9bnVsbCxiLnJlYWR5SGFuZGxlcj1udWxsLGIuc3RhbGxlZEhhbmRsZXI9bnVsbCxiLmxvb3BIYW5kbGVyPW51bGwsYi5pbml0PWZ1bmN0aW9uKGEsYil7dGhpcy5zcmM9YSx0aGlzLm93bmVyPWIsdGhpcy5lbmRlZEhhbmRsZXI9Y3JlYXRlanMucHJveHkodGhpcy5oYW5kbGVTb3VuZENvbXBsZXRlLHRoaXMpLHRoaXMucmVhZHlIYW5kbGVyPWNyZWF0ZWpzLnByb3h5KHRoaXMuaGFuZGxlU291bmRSZWFkeSx0aGlzKSx0aGlzLnN0YWxsZWRIYW5kbGVyPWNyZWF0ZWpzLnByb3h5KHRoaXMuaGFuZGxlU291bmRTdGFsbGVkLHRoaXMpLHRoaXMubG9vcEhhbmRsZXI9Y3JlYXRlanMucHJveHkodGhpcy5oYW5kbGVTb3VuZExvb3AsdGhpcyl9LGIuc2VuZEV2ZW50PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBjcmVhdGVqcy5FdmVudChhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYil9LGIuY2xlYW5VcD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudGFnO2lmKG51bGwhPWEpe2EucGF1c2UoKSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLkFVRElPX0VOREVELHRoaXMuZW5kZWRIYW5kbGVyLCExKSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLkFVRElPX1JFQURZLHRoaXMucmVhZHlIYW5kbGVyLCExKSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLkFVRElPX1NFRUtFRCx0aGlzLmxvb3BIYW5kbGVyLCExKTt0cnl7YS5jdXJyZW50VGltZT0wfWNhdGNoKGIpe31jcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uVGFnUG9vbC5zZXRJbnN0YW5jZSh0aGlzLnNyYyxhKSx0aGlzLnRhZz1udWxsfWNsZWFyVGltZW91dCh0aGlzLmRlbGF5VGltZW91dElkKSxudWxsIT13aW5kb3cuY3JlYXRlanMmJmNyZWF0ZWpzLlNvdW5kLnBsYXlGaW5pc2hlZCh0aGlzKX0sYi5pbnRlcnJ1cHQ9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnRhZyYmKHRoaXMucGxheVN0YXRlPWNyZWF0ZWpzLlNvdW5kLlBMQVlfSU5URVJSVVBURUQsdGhpcy5jbGVhblVwKCksdGhpcy5wYXVzZWQ9ITEsdGhpcy5zZW5kRXZlbnQoImludGVycnVwdGVkIikpfSxiLnBsYXk9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMuY2xlYW5VcCgpLGNyZWF0ZWpzLlNvdW5kLnBsYXlJbnN0YW5jZSh0aGlzLGEsYixjLGQsZSxmKX0sYi5iZWdpblBsYXlpbmc9ZnVuY3Rpb24oYSxiLGMsZCl7aWYobnVsbD09d2luZG93LmNyZWF0ZWpzKXJldHVybi0xO3ZhciBlPXRoaXMudGFnPWNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5UYWdQb29sLmdldEluc3RhbmNlKHRoaXMuc3JjKTtyZXR1cm4gbnVsbD09ZT8odGhpcy5wbGF5RmFpbGVkKCksLTEpOihlLmFkZEV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLkFVRElPX0VOREVELHRoaXMuZW5kZWRIYW5kbGVyLCExKSx0aGlzLm9mZnNldD1hLHRoaXMudm9sdW1lPWMsdGhpcy5wYW49ZCx0aGlzLnVwZGF0ZVZvbHVtZSgpLHRoaXMucmVtYWluaW5nTG9vcHM9Yiw0IT09ZS5yZWFkeVN0YXRlPyhlLmFkZEV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLkFVRElPX1JFQURZLHRoaXMucmVhZHlIYW5kbGVyLCExKSxlLmFkZEV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLkFVRElPX1NUQUxMRUQsdGhpcy5zdGFsbGVkSGFuZGxlciwhMSksZS5wcmVsb2FkPSJhdXRvIixlLmxvYWQoKSk6dGhpcy5oYW5kbGVTb3VuZFJlYWR5KG51bGwpLHRoaXMuc2VuZEV2ZW50KCJzdWNjZWVkZWQiKSwxKQp9LGIuaGFuZGxlU291bmRTdGFsbGVkPWZ1bmN0aW9uKCl7dGhpcy5jbGVhblVwKCksdGhpcy5zZW5kRXZlbnQoImZhaWxlZCIpfSxiLmhhbmRsZVNvdW5kUmVhZHk9ZnVuY3Rpb24oKXtpZihudWxsIT13aW5kb3cuY3JlYXRlanMpe2lmKHRoaXMuZHVyYXRpb249MWUzKnRoaXMudGFnLmR1cmF0aW9uLHRoaXMucGxheVN0YXRlPWNyZWF0ZWpzLlNvdW5kLlBMQVlfU1VDQ0VFREVELHRoaXMucGF1c2VkPSExLHRoaXMudGFnLnJlbW92ZUV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLkFVRElPX1JFQURZLHRoaXMucmVhZHlIYW5kbGVyLCExKSx0aGlzLm9mZnNldD49dGhpcy5nZXREdXJhdGlvbigpKXJldHVybiB0aGlzLnBsYXlGYWlsZWQoKSx2b2lkIDA7dGhpcy5vZmZzZXQ+MCYmKHRoaXMudGFnLmN1cnJlbnRUaW1lPS4wMDEqdGhpcy5vZmZzZXQpLC0xPT10aGlzLnJlbWFpbmluZ0xvb3BzJiYodGhpcy50YWcubG9vcD0hMCksMCE9dGhpcy5yZW1haW5pbmdMb29wcyYmKHRoaXMudGFnLmFkZEV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLkFVRElPX1NFRUtFRCx0aGlzLmxvb3BIYW5kbGVyLCExKSx0aGlzLnRhZy5sb29wPSEwKSx0aGlzLnRhZy5wbGF5KCl9fSxiLnBhdXNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF1c2VkfHx0aGlzLnBsYXlTdGF0ZSE9Y3JlYXRlanMuU291bmQuUExBWV9TVUNDRUVERUR8fG51bGw9PXRoaXMudGFnPyExOih0aGlzLnBhdXNlZD0hMCx0aGlzLnRhZy5wYXVzZSgpLGNsZWFyVGltZW91dCh0aGlzLmRlbGF5VGltZW91dElkKSwhMCl9LGIucmVzdW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF1c2VkJiZudWxsIT10aGlzLnRhZz8odGhpcy5wYXVzZWQ9ITEsdGhpcy50YWcucGxheSgpLCEwKTohMX0sYi5zdG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2Zmc2V0PTAsdGhpcy5wYXVzZSgpLHRoaXMucGxheVN0YXRlPWNyZWF0ZWpzLlNvdW5kLlBMQVlfRklOSVNIRUQsdGhpcy5jbGVhblVwKCksITB9LGIuc2V0TWFzdGVyVm9sdW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXBkYXRlVm9sdW1lKCksITB9LGIuc2V0Vm9sdW1lPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnZvbHVtZT1hLCEwfSxiLnVwZGF0ZVZvbHVtZT1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMudGFnKXt2YXIgYT10aGlzLm11dGVkfHxjcmVhdGVqcy5Tb3VuZC5tYXN0ZXJNdXRlPzA6dGhpcy5fdm9sdW1lKmNyZWF0ZWpzLlNvdW5kLm1hc3RlclZvbHVtZTtyZXR1cm4gYSE9dGhpcy50YWcudm9sdW1lJiYodGhpcy50YWcudm9sdW1lPWEpLCEwfXJldHVybiExfSxiLmdldFZvbHVtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZvbHVtZX0sYi5zZXRNYXN0ZXJNdXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXBkYXRlVm9sdW1lKCksITB9LGIuc2V0TXV0ZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YXx8dm9pZCAwPT1hPyExOih0aGlzLm11dGVkPWEsdGhpcy51cGRhdGVWb2x1bWUoKSwhMCl9LGIuZ2V0TXV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm11dGVkfSxiLnNldFBhbj1mdW5jdGlvbigpe3JldHVybiExfSxiLmdldFBhbj1mdW5jdGlvbigpe3JldHVybiAwfSxiLmdldFBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PXRoaXMudGFnP3RoaXMub2Zmc2V0OjFlMyp0aGlzLnRhZy5jdXJyZW50VGltZX0sYi5zZXRQb3NpdGlvbj1mdW5jdGlvbihhKXtpZihudWxsPT10aGlzLnRhZyl0aGlzLm9mZnNldD1hO2Vsc2V7dGhpcy50YWcucmVtb3ZlRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uQVVESU9fU0VFS0VELHRoaXMubG9vcEhhbmRsZXIsITEpO3RyeXt0aGlzLnRhZy5jdXJyZW50VGltZT0uMDAxKmF9Y2F0Y2goYil7cmV0dXJuITF9dGhpcy50YWcuYWRkRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uQVVESU9fU0VFS0VELHRoaXMubG9vcEhhbmRsZXIsITEpfXJldHVybiEwfSxiLmdldER1cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHVyYXRpb259LGIuaGFuZGxlU291bmRDb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMub2Zmc2V0PTAsbnVsbCE9d2luZG93LmNyZWF0ZWpzJiYodGhpcy5wbGF5U3RhdGU9Y3JlYXRlanMuU291bmQuUExBWV9GSU5JU0hFRCx0aGlzLmNsZWFuVXAoKSx0aGlzLnNlbmRFdmVudCgiY29tcGxldGUiKSl9LGIuaGFuZGxlU291bmRMb29wPWZ1bmN0aW9uKCl7dGhpcy5vZmZzZXQ9MCx0aGlzLnJlbWFpbmluZ0xvb3BzLS0sMD09dGhpcy5yZW1haW5pbmdMb29wcyYmKHRoaXMudGFnLmxvb3A9ITEsdGhpcy50YWcucmVtb3ZlRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uQVVESU9fU0VFS0VELHRoaXMubG9vcEhhbmRsZXIsITEpKSx0aGlzLnNlbmRFdmVudCgibG9vcCIpfSxiLnBsYXlGYWlsZWQ9ZnVuY3Rpb24oKXtudWxsIT13aW5kb3cuY3JlYXRlanMmJih0aGlzLnBsYXlTdGF0ZT1jcmVhdGVqcy5Tb3VuZC5QTEFZX0ZBSUxFRCx0aGlzLmNsZWFuVXAoKSx0aGlzLnNlbmRFdmVudCgiZmFpbGVkIikpfSxiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltIVE1MQXVkaW9QbHVnaW4gU291bmRJbnN0YW5jZV0ifSxjcmVhdGVqcy5FdmVudERpc3BhdGNoZXIuaW5pdGlhbGl6ZShhLnByb3RvdHlwZSksY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLlNvdW5kSW5zdGFuY2U9YX0oKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBhKGEsYil7dGhpcy5pbml0KGEsYil9dmFyIGI9YS5wcm90b3R5cGU7Yi5zcmM9bnVsbCxiLnRhZz1udWxsLGIucHJlbG9hZFRpbWVyPW51bGwsYi5sb2FkZWRIYW5kbGVyPW51bGwsYi5pbml0PWZ1bmN0aW9uKGEsYil7aWYodGhpcy5zcmM9YSx0aGlzLnRhZz1iLHRoaXMucHJlbG9hZFRpbWVyPXNldEludGVydmFsKGNyZWF0ZWpzLnByb3h5KHRoaXMucHJlbG9hZFRpY2ssdGhpcyksMjAwKSx0aGlzLmxvYWRlZEhhbmRsZXI9Y3JlYXRlanMucHJveHkodGhpcy5zZW5kTG9hZGVkRXZlbnQsdGhpcyksdGhpcy50YWcuYWRkRXZlbnRMaXN0ZW5lciYmdGhpcy50YWcuYWRkRXZlbnRMaXN0ZW5lcigiY2FucGxheXRocm91Z2giLHRoaXMubG9hZGVkSGFuZGxlciksbnVsbD09dGhpcy50YWcub25yZWFkeXN0YXRlY2hhbmdlKXRoaXMudGFnLm9ucmVhZHlzdGF0ZWNoYW5nZT1jcmVhdGVqcy5wcm94eSh0aGlzLnNlbmRMb2FkZWRFdmVudCx0aGlzKTtlbHNle3ZhciBjPXRoaXMudGFnLm9ucmVhZHlzdGF0ZWNoYW5nZTt0aGlzLnRhZy5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtjKCksdGhpcy50YWcub25yZWFkeXN0YXRlY2hhbmdlPWNyZWF0ZWpzLnByb3h5KHRoaXMuc2VuZExvYWRlZEV2ZW50LHRoaXMpfX10aGlzLnRhZy5wcmVsb2FkPSJhdXRvIix0aGlzLnRhZy5sb2FkKCl9LGIucHJlbG9hZFRpY2s9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRhZy5idWZmZXJlZCxiPXRoaXMudGFnLmR1cmF0aW9uO2EubGVuZ3RoPjAmJmEuZW5kKDApPj1iLTEmJnRoaXMuaGFuZGxlVGFnTG9hZGVkKCl9LGIuaGFuZGxlVGFnTG9hZGVkPWZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbCh0aGlzLnByZWxvYWRUaW1lcil9LGIuc2VuZExvYWRlZEV2ZW50PWZ1bmN0aW9uKCl7dGhpcy50YWcucmVtb3ZlRXZlbnRMaXN0ZW5lciYmdGhpcy50YWcucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2FucGxheXRocm91Z2giLHRoaXMubG9hZGVkSGFuZGxlciksdGhpcy50YWcub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsY3JlYXRlanMuU291bmQuc2VuZEZpbGVMb2FkRXZlbnQodGhpcy5zcmMpfSxiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltIVE1MQXVkaW9QbHVnaW4gTG9hZGVyXSJ9LGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5Mb2FkZXI9YX0oKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBhKGEpe3RoaXMuaW5pdChhKX12YXIgYj1hO2IudGFncz17fSxiLmdldD1mdW5jdGlvbihjKXt2YXIgZD1iLnRhZ3NbY107cmV0dXJuIG51bGw9PWQmJihkPWIudGFnc1tjXT1uZXcgYShjKSksZH0sYi5yZW1vdmU9ZnVuY3Rpb24oYSl7dmFyIGM9Yi50YWdzW2FdO3JldHVybiBudWxsPT1jPyExOihjLnJlbW92ZUFsbCgpLGRlbGV0ZSBiLnRhZ3NbYV0sITApfSxiLnJlbW92ZUFsbD1mdW5jdGlvbigpe2Zvcih2YXIgYSBpbiBiLnRhZ3MpYi50YWdzW2FdLnJlbW92ZUFsbCgpO2IudGFncz17fX0sYi5nZXRJbnN0YW5jZT1mdW5jdGlvbihhKXt2YXIgYz1iLnRhZ3NbYV07cmV0dXJuIG51bGw9PWM/bnVsbDpjLmdldCgpfSxiLnNldEluc3RhbmNlPWZ1bmN0aW9uKGEsYyl7dmFyIGQ9Yi50YWdzW2FdO3JldHVybiBudWxsPT1kP251bGw6ZC5zZXQoYyl9LGIuY2hlY2tTcmM9ZnVuY3Rpb24oYSl7dmFyIGM9Yi50YWdzW2FdO3JldHVybiBudWxsPT1jP251bGw6KGMuY2hlY2tTcmNDaGFuZ2UoKSx2b2lkIDApfTt2YXIgYz1hLnByb3RvdHlwZTtjLnNyYz1udWxsLGMubGVuZ3RoPTAsYy5hdmFpbGFibGU9MCxjLnRhZ3M9bnVsbCxjLmluaXQ9ZnVuY3Rpb24oYSl7dGhpcy5zcmM9YSx0aGlzLnRhZ3M9W119LGMuYWRkPWZ1bmN0aW9uKGEpe3RoaXMudGFncy5wdXNoKGEpLHRoaXMubGVuZ3RoKyssdGhpcy5hdmFpbGFibGUrK30sYy5yZW1vdmVBbGw9ZnVuY3Rpb24oKXtmb3IoO3RoaXMubGVuZ3RoLS07KWRlbGV0ZSB0aGlzLnRhZ3NbdGhpcy5sZW5ndGhdO3RoaXMuc3JjPW51bGwsdGhpcy50YWdzLmxlbmd0aD0wfSxjLmdldD1mdW5jdGlvbigpe2lmKDA9PXRoaXMudGFncy5sZW5ndGgpcmV0dXJuIG51bGw7dGhpcy5hdmFpbGFibGU9dGhpcy50YWdzLmxlbmd0aDt2YXIgYT10aGlzLnRhZ3MucG9wKCk7cmV0dXJuIG51bGw9PWEucGFyZW50Tm9kZSYmZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKSxhfSxjLnNldD1mdW5jdGlvbihhKXt2YXIgYj1jcmVhdGVqcy5pbmRleE9mKHRoaXMudGFncyxhKTstMT09YiYmdGhpcy50YWdzLnB1c2goYSksdGhpcy5hdmFpbGFibGU9dGhpcy50YWdzLmxlbmd0aH0sYy5jaGVja1NyY0NoYW5nZT1mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLnRhZ3MubGVuZ3RoLTEsYj10aGlzLnRhZ3NbYV0uc3JjO2EtLTspdGhpcy50YWdzW2FdLnNyYz1ifSxjLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltIVE1MQXVkaW9QbHVnaW4gVGFnUG9vbF0ifSxjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uVGFnUG9vbD1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuaW5pdGlhbGl6ZShhLGIsYyl9LGI9YS5wcm90b3R5cGU9bmV3IGNyZWF0ZWpzLkV2ZW50RGlzcGF0Y2hlcjthLk5PTkU9MCxhLkxPT1A9MSxhLlJFVkVSU0U9MixhLklHTk9SRT17fSxhLl90d2VlbnM9W10sYS5fcGx1Z2lucz17fSxhLmdldD1mdW5jdGlvbihiLGMsZCxlKXtyZXR1cm4gZSYmYS5yZW1vdmVUd2VlbnMoYiksbmV3IGEoYixjLGQpfSxhLnRpY2s9ZnVuY3Rpb24oYixjKXtmb3IodmFyIGQ9YS5fdHdlZW5zLnNsaWNlKCksZT1kLmxlbmd0aC0xO2U+PTA7ZS0tKXt2YXIgZj1kW2VdO2MmJiFmLmlnbm9yZUdsb2JhbFBhdXNlfHxmLl9wYXVzZWR8fGYudGljayhmLl91c2VUaWNrcz8xOmIpfX0sYS5oYW5kbGVFdmVudD1mdW5jdGlvbihhKXsidGljayI9PWEudHlwZSYmdGhpcy50aWNrKGEuZGVsdGEsYS5wYXVzZWQpfSxhLnJlbW92ZVR3ZWVucz1mdW5jdGlvbihiKXtpZihiLnR3ZWVuanNfY291bnQpe2Zvcih2YXIgYz1hLl90d2VlbnMsZD1jLmxlbmd0aC0xO2Q+PTA7ZC0tKWNbZF0uX3RhcmdldD09YiYmKGNbZF0uX3BhdXNlZD0hMCxjLnNwbGljZShkLDEpKTtiLnR3ZWVuanNfY291bnQ9MH19LGEucmVtb3ZlQWxsVHdlZW5zPWZ1bmN0aW9uKCl7Zm9yKHZhciBiPWEuX3R3ZWVucyxjPTAsZD1iLmxlbmd0aDtkPmM7YysrKXt2YXIgZT1iW2NdO2UucGF1c2VkPSEwLGUudGFyZ2V0LnR3ZWVuanNfY291bnQ9MH1iLmxlbmd0aD0wfSxhLmhhc0FjdGl2ZVR3ZWVucz1mdW5jdGlvbihiKXtyZXR1cm4gYj9iLnR3ZWVuanNfY291bnQ6YS5fdHdlZW5zJiYhIWEuX3R3ZWVucy5sZW5ndGh9LGEuaW5zdGFsbFBsdWdpbj1mdW5jdGlvbihiLGMpe3ZhciBkPWIucHJpb3JpdHk7bnVsbD09ZCYmKGIucHJpb3JpdHk9ZD0wKTtmb3IodmFyIGU9MCxmPWMubGVuZ3RoLGc9YS5fcGx1Z2lucztmPmU7ZSsrKXt2YXIgaD1jW2VdO2lmKGdbaF0pe2Zvcih2YXIgaT1nW2hdLGo9MCxrPWkubGVuZ3RoO2s+aiYmIShkPGlbal0ucHJpb3JpdHkpO2orKyk7Z1toXS5zcGxpY2UoaiwwLGIpfWVsc2UgZ1toXT1bYl19fSxhLl9yZWdpc3Rlcj1mdW5jdGlvbihiLGMpe3ZhciBkPWIuX3RhcmdldCxlPWEuX3R3ZWVucztpZihjKWQmJihkLnR3ZWVuanNfY291bnQ9ZC50d2VlbmpzX2NvdW50P2QudHdlZW5qc19jb3VudCsxOjEpLGUucHVzaChiKSwhYS5faW5pdGVkJiZjcmVhdGVqcy5UaWNrZXImJihjcmVhdGVqcy5UaWNrZXIuYWRkRXZlbnRMaXN0ZW5lcigidGljayIsYSksYS5faW5pdGVkPSEwKTtlbHNle2QmJmQudHdlZW5qc19jb3VudC0tO2Zvcih2YXIgZj1lLmxlbmd0aDtmLS07KWlmKGVbZl09PWIpcmV0dXJuIGUuc3BsaWNlKGYsMSksdm9pZCAwfX0sYi5pZ25vcmVHbG9iYWxQYXVzZT0hMSxiLmxvb3A9ITEsYi5kdXJhdGlvbj0wLGIucGx1Z2luRGF0YT1udWxsLGIudGFyZ2V0PW51bGwsYi5wb3NpdGlvbj1udWxsLGIucGFzc2l2ZT0hMSxiLl9wYXVzZWQ9ITEsYi5fY3VyUXVldWVQcm9wcz1udWxsLGIuX2luaXRRdWV1ZVByb3BzPW51bGwsYi5fc3RlcHM9bnVsbCxiLl9hY3Rpb25zPW51bGwsYi5fcHJldlBvc2l0aW9uPTAsYi5fc3RlcFBvc2l0aW9uPTAsYi5fcHJldlBvcz0tMSxiLl90YXJnZXQ9bnVsbCxiLl91c2VUaWNrcz0hMSxiLl9pbml0ZWQ9ITEsYi5pbml0aWFsaXplPWZ1bmN0aW9uKGIsYyxkKXt0aGlzLnRhcmdldD10aGlzLl90YXJnZXQ9YixjJiYodGhpcy5fdXNlVGlja3M9Yy51c2VUaWNrcyx0aGlzLmlnbm9yZUdsb2JhbFBhdXNlPWMuaWdub3JlR2xvYmFsUGF1c2UsdGhpcy5sb29wPWMubG9vcCxjLm9uQ2hhbmdlJiZ0aGlzLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsYy5vbkNoYW5nZSksYy5vdmVycmlkZSYmYS5yZW1vdmVUd2VlbnMoYikpLHRoaXMucGx1Z2luRGF0YT1kfHx7fSx0aGlzLl9jdXJRdWV1ZVByb3BzPXt9LHRoaXMuX2luaXRRdWV1ZVByb3BzPXt9LHRoaXMuX3N0ZXBzPVtdLHRoaXMuX2FjdGlvbnM9W10sYyYmYy5wYXVzZWQ/dGhpcy5fcGF1c2VkPSEwOmEuX3JlZ2lzdGVyKHRoaXMsITApLGMmJm51bGwhPWMucG9zaXRpb24mJnRoaXMuc2V0UG9zaXRpb24oYy5wb3NpdGlvbixhLk5PTkUpfSxiLndhaXQ9ZnVuY3Rpb24oYSxiKXtpZihudWxsPT1hfHwwPj1hKXJldHVybiB0aGlzO3ZhciBjPXRoaXMuX2Nsb25lUHJvcHModGhpcy5fY3VyUXVldWVQcm9wcyk7cmV0dXJuIHRoaXMuX2FkZFN0ZXAoe2Q6YSxwMDpjLGU6dGhpcy5fbGluZWFyRWFzZSxwMTpjLHY6Yn0pfSxiLnRvPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4oaXNOYU4oYil8fDA+YikmJihiPTApLHRoaXMuX2FkZFN0ZXAoe2Q6Ynx8MCxwMDp0aGlzLl9jbG9uZVByb3BzKHRoaXMuX2N1clF1ZXVlUHJvcHMpLGU6YyxwMTp0aGlzLl9jbG9uZVByb3BzKHRoaXMuX2FwcGVuZFF1ZXVlUHJvcHMoYSkpfSl9LGIuY2FsbD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuX2FkZEFjdGlvbih7ZjphLHA6Yj9iOlt0aGlzXSxvOmM/Yzp0aGlzLl90YXJnZXR9KX0sYi5zZXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5fYWRkQWN0aW9uKHtmOnRoaXMuX3NldCxvOnRoaXMscDpbYSxiP2I6dGhpcy5fdGFyZ2V0XX0pfSxiLnBsYXk9ZnVuY3Rpb24oYSl7cmV0dXJuIGF8fChhPXRoaXMpLHRoaXMuY2FsbChhLnNldFBhdXNlZCxbITFdLGEpfSxiLnBhdXNlPWZ1bmN0aW9uKGEpe3JldHVybiBhfHwoYT10aGlzKSx0aGlzLmNhbGwoYS5zZXRQYXVzZWQsWyEwXSxhKX0sYi5zZXRQb3NpdGlvbj1mdW5jdGlvbihhLGIpezA+YSYmKGE9MCksbnVsbD09YiYmKGI9MSk7dmFyIGM9YSxkPSExO2lmKGM+PXRoaXMuZHVyYXRpb24mJih0aGlzLmxvb3A/YyU9dGhpcy5kdXJhdGlvbjooYz10aGlzLmR1cmF0aW9uLGQ9ITApKSxjPT10aGlzLl9wcmV2UG9zKXJldHVybiBkO3ZhciBlPXRoaXMuX3ByZXZQb3M7aWYodGhpcy5wb3NpdGlvbj10aGlzLl9wcmV2UG9zPWMsdGhpcy5fcHJldlBvc2l0aW9uPWEsdGhpcy5fdGFyZ2V0KWlmKGQpdGhpcy5fdXBkYXRlVGFyZ2V0UHJvcHMobnVsbCwxKTtlbHNlIGlmKHRoaXMuX3N0ZXBzLmxlbmd0aD4wKXtmb3IodmFyIGY9MCxnPXRoaXMuX3N0ZXBzLmxlbmd0aDtnPmYmJiEodGhpcy5fc3RlcHNbZl0udD5jKTtmKyspO3ZhciBoPXRoaXMuX3N0ZXBzW2YtMV07dGhpcy5fdXBkYXRlVGFyZ2V0UHJvcHMoaCwodGhpcy5fc3RlcFBvc2l0aW9uPWMtaC50KS9oLmQpfXJldHVybiAwIT1iJiZ0aGlzLl9hY3Rpb25zLmxlbmd0aD4wJiYodGhpcy5fdXNlVGlja3M/dGhpcy5fcnVuQWN0aW9ucyhjLGMpOjE9PWImJmU+Yz8oZSE9dGhpcy5kdXJhdGlvbiYmdGhpcy5fcnVuQWN0aW9ucyhlLHRoaXMuZHVyYXRpb24pLHRoaXMuX3J1bkFjdGlvbnMoMCxjLCEwKSk6dGhpcy5fcnVuQWN0aW9ucyhlLGMpKSxkJiZ0aGlzLnNldFBhdXNlZCghMCksdGhpcy5kaXNwYXRjaEV2ZW50KCJjaGFuZ2UiKSxkfSxiLnRpY2s9ZnVuY3Rpb24oYSl7dGhpcy5fcGF1c2VkfHx0aGlzLnNldFBvc2l0aW9uKHRoaXMuX3ByZXZQb3NpdGlvbithKX0sYi5zZXRQYXVzZWQ9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuX3BhdXNlZD0hIWIsYS5fcmVnaXN0ZXIodGhpcywhYiksdGhpc30sYi53PWIud2FpdCxiLnQ9Yi50byxiLmM9Yi5jYWxsLGIucz1iLnNldCxiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltUd2Vlbl0ifSxiLmNsb25lPWZ1bmN0aW9uKCl7dGhyb3ciVHdlZW4gY2FuIG5vdCBiZSBjbG9uZWQuIn0sYi5fdXBkYXRlVGFyZ2V0UHJvcHM9ZnVuY3Rpb24oYixjKXt2YXIgZCxlLGYsZyxoLGk7aWYoYnx8MSE9Yyl7aWYodGhpcy5wYXNzaXZlPSEhYi52LHRoaXMucGFzc2l2ZSlyZXR1cm47Yi5lJiYoYz1iLmUoYywwLDEsMSkpLGQ9Yi5wMCxlPWIucDF9ZWxzZSB0aGlzLnBhc3NpdmU9ITEsZD1lPXRoaXMuX2N1clF1ZXVlUHJvcHM7Zm9yKHZhciBqIGluIHRoaXMuX2luaXRRdWV1ZVByb3BzKXtudWxsPT0oZz1kW2pdKSYmKGRbal09Zz10aGlzLl9pbml0UXVldWVQcm9wc1tqXSksbnVsbD09KGg9ZVtqXSkmJihlW2pdPWg9ZyksZj1nPT1ofHwwPT1jfHwxPT1jfHwibnVtYmVyIiE9dHlwZW9mIGc/MT09Yz9oOmc6ZysoaC1nKSpjO3ZhciBrPSExO2lmKGk9YS5fcGx1Z2luc1tqXSlmb3IodmFyIGw9MCxtPWkubGVuZ3RoO20+bDtsKyspe3ZhciBuPWlbbF0udHdlZW4odGhpcyxqLGYsZCxlLGMsISFiJiZkPT1lLCFiKTtuPT1hLklHTk9SRT9rPSEwOmY9bn1rfHwodGhpcy5fdGFyZ2V0W2pdPWYpfX0sYi5fcnVuQWN0aW9ucz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSxlPWIsZj0tMSxnPXRoaXMuX2FjdGlvbnMubGVuZ3RoLGg9MTtmb3IoYT5iJiYoZD1iLGU9YSxmPWcsZz1oPS0xKTsoZis9aCkhPWc7KXt2YXIgaT10aGlzLl9hY3Rpb25zW2ZdLGo9aS50OyhqPT1lfHxqPmQmJmU+anx8YyYmaj09YSkmJmkuZi5hcHBseShpLm8saS5wKX19LGIuX2FwcGVuZFF1ZXVlUHJvcHM9ZnVuY3Rpb24oYil7dmFyIGMsZCxlLGYsZztmb3IodmFyIGggaW4gYilpZih2b2lkIDA9PT10aGlzLl9pbml0UXVldWVQcm9wc1toXSl7aWYoZD10aGlzLl90YXJnZXRbaF0sYz1hLl9wbHVnaW5zW2hdKWZvcihlPTAsZj1jLmxlbmd0aDtmPmU7ZSsrKWQ9Y1tlXS5pbml0KHRoaXMsaCxkKTt0aGlzLl9pbml0UXVldWVQcm9wc1toXT10aGlzLl9jdXJRdWV1ZVByb3BzW2hdPXZvaWQgMD09PWQ/bnVsbDpkfWVsc2UgZD10aGlzLl9jdXJRdWV1ZVByb3BzW2hdO2Zvcih2YXIgaCBpbiBiKXtpZihkPXRoaXMuX2N1clF1ZXVlUHJvcHNbaF0sYz1hLl9wbHVnaW5zW2hdKWZvcihnPWd8fHt9LGU9MCxmPWMubGVuZ3RoO2Y+ZTtlKyspY1tlXS5zdGVwJiZjW2VdLnN0ZXAodGhpcyxoLGQsYltoXSxnKTt0aGlzLl9jdXJRdWV1ZVByb3BzW2hdPWJbaF19cmV0dXJuIGcmJnRoaXMuX2FwcGVuZFF1ZXVlUHJvcHMoZyksdGhpcy5fY3VyUXVldWVQcm9wc30sYi5fY2xvbmVQcm9wcz1mdW5jdGlvbihhKXt2YXIgYj17fTtmb3IodmFyIGMgaW4gYSliW2NdPWFbY107cmV0dXJuIGJ9LGIuX2FkZFN0ZXA9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZD4wJiYodGhpcy5fc3RlcHMucHVzaChhKSxhLnQ9dGhpcy5kdXJhdGlvbix0aGlzLmR1cmF0aW9uKz1hLmQpLHRoaXN9LGIuX2FkZEFjdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4gYS50PXRoaXMuZHVyYXRpb24sdGhpcy5fYWN0aW9ucy5wdXNoKGEpLHRoaXN9LGIuX3NldD1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYyBpbiBhKWJbY109YVtjXX0sY3JlYXRlanMuVHdlZW49YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmluaXRpYWxpemUoYSxiLGMpfSxiPWEucHJvdG90eXBlPW5ldyBjcmVhdGVqcy5FdmVudERpc3BhdGNoZXI7Yi5pZ25vcmVHbG9iYWxQYXVzZT0hMSxiLmR1cmF0aW9uPTAsYi5sb29wPSExLGIucG9zaXRpb249bnVsbCxiLl9wYXVzZWQ9ITEsYi5fdHdlZW5zPW51bGwsYi5fbGFiZWxzPW51bGwsYi5fbGFiZWxMaXN0PW51bGwsYi5fcHJldlBvc2l0aW9uPTAsYi5fcHJldlBvcz0tMSxiLl91c2VUaWNrcz0hMSxiLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuX3R3ZWVucz1bXSxjJiYodGhpcy5fdXNlVGlja3M9Yy51c2VUaWNrcyx0aGlzLmxvb3A9Yy5sb29wLHRoaXMuaWdub3JlR2xvYmFsUGF1c2U9Yy5pZ25vcmVHbG9iYWxQYXVzZSxjLm9uQ2hhbmdlJiZ0aGlzLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsYy5vbkNoYW5nZSkpLGEmJnRoaXMuYWRkVHdlZW4uYXBwbHkodGhpcyxhKSx0aGlzLnNldExhYmVscyhiKSxjJiZjLnBhdXNlZD90aGlzLl9wYXVzZWQ9ITA6Y3JlYXRlanMuVHdlZW4uX3JlZ2lzdGVyKHRoaXMsITApLGMmJm51bGwhPWMucG9zaXRpb24mJnRoaXMuc2V0UG9zaXRpb24oYy5wb3NpdGlvbixjcmVhdGVqcy5Ud2Vlbi5OT05FKX0sYi5hZGRUd2Vlbj1mdW5jdGlvbihhKXt2YXIgYj1hcmd1bWVudHMubGVuZ3RoO2lmKGI+MSl7Zm9yKHZhciBjPTA7Yj5jO2MrKyl0aGlzLmFkZFR3ZWVuKGFyZ3VtZW50c1tjXSk7cmV0dXJuIGFyZ3VtZW50c1swXX1yZXR1cm4gMD09Yj9udWxsOih0aGlzLnJlbW92ZVR3ZWVuKGEpLHRoaXMuX3R3ZWVucy5wdXNoKGEpLGEuc2V0UGF1c2VkKCEwKSxhLl9wYXVzZWQ9ITEsYS5fdXNlVGlja3M9dGhpcy5fdXNlVGlja3MsYS5kdXJhdGlvbj50aGlzLmR1cmF0aW9uJiYodGhpcy5kdXJhdGlvbj1hLmR1cmF0aW9uKSx0aGlzLl9wcmV2UG9zPj0wJiZhLnNldFBvc2l0aW9uKHRoaXMuX3ByZXZQb3MsY3JlYXRlanMuVHdlZW4uTk9ORSksYSl9LGIucmVtb3ZlVHdlZW49ZnVuY3Rpb24oYSl7dmFyIGI9YXJndW1lbnRzLmxlbmd0aDtpZihiPjEpe2Zvcih2YXIgYz0hMCxkPTA7Yj5kO2QrKyljPWMmJnRoaXMucmVtb3ZlVHdlZW4oYXJndW1lbnRzW2RdKTtyZXR1cm4gY31pZigwPT1iKXJldHVybiExO2Zvcih2YXIgZT10aGlzLl90d2VlbnMsZD1lLmxlbmd0aDtkLS07KWlmKGVbZF09PWEpcmV0dXJuIGUuc3BsaWNlKGQsMSksYS5kdXJhdGlvbj49dGhpcy5kdXJhdGlvbiYmdGhpcy51cGRhdGVEdXJhdGlvbigpLCEwO3JldHVybiExfSxiLmFkZExhYmVsPWZ1bmN0aW9uKGEsYil7dGhpcy5fbGFiZWxzW2FdPWI7dmFyIGM9dGhpcy5fbGFiZWxMaXN0O2lmKGMpe2Zvcih2YXIgZD0wLGU9Yy5sZW5ndGg7ZT5kJiYhKGI8Y1tkXS5wb3NpdGlvbik7ZCsrKTtjLnNwbGljZShkLDAse2xhYmVsOmEscG9zaXRpb246Yn0pfX0sYi5zZXRMYWJlbHM9ZnVuY3Rpb24oYSl7dGhpcy5fbGFiZWxzPWE/YTp7fX0sYi5nZXRMYWJlbHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9sYWJlbExpc3Q7aWYoIWEpe2E9dGhpcy5fbGFiZWxMaXN0PVtdO3ZhciBiPXRoaXMuX2xhYmVscztmb3IodmFyIGMgaW4gYilhLnB1c2goe2xhYmVsOmMscG9zaXRpb246YltjXX0pO2Euc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLnBvc2l0aW9uLWIucG9zaXRpb259KX1yZXR1cm4gYX0sYi5nZXRDdXJyZW50TGFiZWw9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldExhYmVscygpLGI9dGhpcy5wb3NpdGlvbixjPWEubGVuZ3RoO2lmKGMpe2Zvcih2YXIgZD0wO2M+ZCYmIShiPGFbZF0ucG9zaXRpb24pO2QrKyk7cmV0dXJuIDA9PWQ/bnVsbDphW2QtMV0ubGFiZWx9cmV0dXJuIG51bGx9LGIuZ290b0FuZFBsYXk9ZnVuY3Rpb24oYSl7dGhpcy5zZXRQYXVzZWQoITEpLHRoaXMuX2dvdG8oYSl9LGIuZ290b0FuZFN0b3A9ZnVuY3Rpb24oYSl7dGhpcy5zZXRQYXVzZWQoITApLHRoaXMuX2dvdG8oYSl9LGIuc2V0UG9zaXRpb249ZnVuY3Rpb24oYSxiKXswPmEmJihhPTApO3ZhciBjPXRoaXMubG9vcD9hJXRoaXMuZHVyYXRpb246YSxkPSF0aGlzLmxvb3AmJmE+PXRoaXMuZHVyYXRpb247aWYoYz09dGhpcy5fcHJldlBvcylyZXR1cm4gZDt0aGlzLl9wcmV2UG9zaXRpb249YSx0aGlzLnBvc2l0aW9uPXRoaXMuX3ByZXZQb3M9Yztmb3IodmFyIGU9MCxmPXRoaXMuX3R3ZWVucy5sZW5ndGg7Zj5lO2UrKylpZih0aGlzLl90d2VlbnNbZV0uc2V0UG9zaXRpb24oYyxiKSxjIT10aGlzLl9wcmV2UG9zKXJldHVybiExO3JldHVybiBkJiZ0aGlzLnNldFBhdXNlZCghMCksdGhpcy5kaXNwYXRjaEV2ZW50KCJjaGFuZ2UiKSxkfSxiLnNldFBhdXNlZD1mdW5jdGlvbihhKXt0aGlzLl9wYXVzZWQ9ISFhLGNyZWF0ZWpzLlR3ZWVuLl9yZWdpc3Rlcih0aGlzLCFhKX0sYi51cGRhdGVEdXJhdGlvbj1mdW5jdGlvbigpe3RoaXMuZHVyYXRpb249MDtmb3IodmFyIGE9MCxiPXRoaXMuX3R3ZWVucy5sZW5ndGg7Yj5hO2ErKyl7dmFyIGM9dGhpcy5fdHdlZW5zW2FdO2MuZHVyYXRpb24+dGhpcy5kdXJhdGlvbiYmKHRoaXMuZHVyYXRpb249Yy5kdXJhdGlvbil9fSxiLnRpY2s9ZnVuY3Rpb24oYSl7dGhpcy5zZXRQb3NpdGlvbih0aGlzLl9wcmV2UG9zaXRpb24rYSl9LGIucmVzb2x2ZT1mdW5jdGlvbihhKXt2YXIgYj1wYXJzZUZsb2F0KGEpO3JldHVybiBpc05hTihiKSYmKGI9dGhpcy5fbGFiZWxzW2FdKSxifSxiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltUaW1lbGluZV0ifSxiLmNsb25lPWZ1bmN0aW9uKCl7dGhyb3ciVGltZWxpbmUgY2FuIG5vdCBiZSBjbG9uZWQuIn0sYi5fZ290bz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLnJlc29sdmUoYSk7bnVsbCE9YiYmdGhpcy5zZXRQb3NpdGlvbihiKX0sY3JlYXRlanMuVGltZWxpbmU9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKCl7dGhyb3ciRWFzZSBjYW5ub3QgYmUgaW5zdGFudGlhdGVkLiJ9O2EubGluZWFyPWZ1bmN0aW9uKGEpe3JldHVybiBhfSxhLm5vbmU9YS5saW5lYXIsYS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuLTE+YSYmKGE9LTEpLGE+MSYmKGE9MSksZnVuY3Rpb24oYil7cmV0dXJuIDA9PWE/YjowPmE/YiooYiotYSsxK2EpOmIqKCgyLWIpKmErKDEtYSkpfX0sYS5nZXRQb3dJbj1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIE1hdGgucG93KGIsYSl9fSxhLmdldFBvd091dD1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIDEtTWF0aC5wb3coMS1iLGEpfX0sYS5nZXRQb3dJbk91dD1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuKGIqPTIpPDE/LjUqTWF0aC5wb3coYixhKToxLS41Kk1hdGguYWJzKE1hdGgucG93KDItYixhKSl9fSxhLnF1YWRJbj1hLmdldFBvd0luKDIpLGEucXVhZE91dD1hLmdldFBvd091dCgyKSxhLnF1YWRJbk91dD1hLmdldFBvd0luT3V0KDIpLGEuY3ViaWNJbj1hLmdldFBvd0luKDMpLGEuY3ViaWNPdXQ9YS5nZXRQb3dPdXQoMyksYS5jdWJpY0luT3V0PWEuZ2V0UG93SW5PdXQoMyksYS5xdWFydEluPWEuZ2V0UG93SW4oNCksYS5xdWFydE91dD1hLmdldFBvd091dCg0KSxhLnF1YXJ0SW5PdXQ9YS5nZXRQb3dJbk91dCg0KSxhLnF1aW50SW49YS5nZXRQb3dJbig1KSxhLnF1aW50T3V0PWEuZ2V0UG93T3V0KDUpLGEucXVpbnRJbk91dD1hLmdldFBvd0luT3V0KDUpLGEuc2luZUluPWZ1bmN0aW9uKGEpe3JldHVybiAxLU1hdGguY29zKGEqTWF0aC5QSS8yKX0sYS5zaW5lT3V0PWZ1bmN0aW9uKGEpe3JldHVybiBNYXRoLnNpbihhKk1hdGguUEkvMil9LGEuc2luZUluT3V0PWZ1bmN0aW9uKGEpe3JldHVybi0uNSooTWF0aC5jb3MoTWF0aC5QSSphKS0xKX0sYS5nZXRCYWNrSW49ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBiKmIqKChhKzEpKmItYSl9fSxhLmJhY2tJbj1hLmdldEJhY2tJbigxLjcpLGEuZ2V0QmFja091dD1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuLS1iKmIqKChhKzEpKmIrYSkrMX19LGEuYmFja091dD1hLmdldEJhY2tPdXQoMS43KSxhLmdldEJhY2tJbk91dD1mdW5jdGlvbihhKXtyZXR1cm4gYSo9MS41MjUsZnVuY3Rpb24oYil7cmV0dXJuKGIqPTIpPDE/LjUqYipiKigoYSsxKSpiLWEpOi41KigoYi09MikqYiooKGErMSkqYithKSsyKX19LGEuYmFja0luT3V0PWEuZ2V0QmFja0luT3V0KDEuNyksYS5jaXJjSW49ZnVuY3Rpb24oYSl7cmV0dXJuLShNYXRoLnNxcnQoMS1hKmEpLTEpfSxhLmNpcmNPdXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGguc3FydCgxLSAtLWEqYSl9LGEuY2lyY0luT3V0PWZ1bmN0aW9uKGEpe3JldHVybihhKj0yKTwxPy0uNSooTWF0aC5zcXJ0KDEtYSphKS0xKTouNSooTWF0aC5zcXJ0KDEtKGEtPTIpKmEpKzEpfSxhLmJvdW5jZUluPWZ1bmN0aW9uKGIpe3JldHVybiAxLWEuYm91bmNlT3V0KDEtYil9LGEuYm91bmNlT3V0PWZ1bmN0aW9uKGEpe3JldHVybiAxLzIuNzU+YT83LjU2MjUqYSphOjIvMi43NT5hPzcuNTYyNSooYS09MS41LzIuNzUpKmErLjc1OjIuNS8yLjc1PmE/Ny41NjI1KihhLT0yLjI1LzIuNzUpKmErLjkzNzU6Ny41NjI1KihhLT0yLjYyNS8yLjc1KSphKy45ODQzNzV9LGEuYm91bmNlSW5PdXQ9ZnVuY3Rpb24oYil7cmV0dXJuLjU+Yj8uNSphLmJvdW5jZUluKDIqYik6LjUqYS5ib3VuY2VPdXQoMipiLTEpKy41fSxhLmdldEVsYXN0aWNJbj1mdW5jdGlvbihhLGIpe3ZhciBjPTIqTWF0aC5QSTtyZXR1cm4gZnVuY3Rpb24oZCl7aWYoMD09ZHx8MT09ZClyZXR1cm4gZDt2YXIgZT1iL2MqTWF0aC5hc2luKDEvYSk7cmV0dXJuLShhKk1hdGgucG93KDIsMTAqKGQtPTEpKSpNYXRoLnNpbigoZC1lKSpjL2IpKX19LGEuZWxhc3RpY0luPWEuZ2V0RWxhc3RpY0luKDEsLjMpLGEuZ2V0RWxhc3RpY091dD1mdW5jdGlvbihhLGIpe3ZhciBjPTIqTWF0aC5QSTtyZXR1cm4gZnVuY3Rpb24oZCl7aWYoMD09ZHx8MT09ZClyZXR1cm4gZDt2YXIgZT1iL2MqTWF0aC5hc2luKDEvYSk7cmV0dXJuIGEqTWF0aC5wb3coMiwtMTAqZCkqTWF0aC5zaW4oKGQtZSkqYy9iKSsxfX0sYS5lbGFzdGljT3V0PWEuZ2V0RWxhc3RpY091dCgxLC4zKSxhLmdldEVsYXN0aWNJbk91dD1mdW5jdGlvbihhLGIpe3ZhciBjPTIqTWF0aC5QSTtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9Yi9jKk1hdGguYXNpbigxL2EpO3JldHVybihkKj0yKTwxPy0uNSphKk1hdGgucG93KDIsMTAqKGQtPTEpKSpNYXRoLnNpbigoZC1lKSpjL2IpOi41KmEqTWF0aC5wb3coMiwtMTAqKGQtPTEpKSpNYXRoLnNpbigoZC1lKSpjL2IpKzF9fSxhLmVsYXN0aWNJbk91dD1hLmdldEVsYXN0aWNJbk91dCgxLC4zKjEuNSksY3JlYXRlanMuRWFzZT1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9ZnVuY3Rpb24oKXt0aHJvdyJNb3Rpb25HdWlkZVBsdWdpbiBjYW5ub3QgYmUgaW5zdGFudGlhdGVkLiJ9O2EucHJpb3JpdHk9MCxhLl9yb3RPZmZTLGEuX3JvdE9mZkUsYS5fcm90Tm9ybVMsYS5fcm90Tm9ybUUsYS5pbnN0YWxsPWZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR3ZWVuLmluc3RhbGxQbHVnaW4oYSxbImd1aWRlIiwieCIsInkiLCJyb3RhdGlvbiJdKSxjcmVhdGVqcy5Ud2Vlbi5JR05PUkV9LGEuaW5pdD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS50YXJnZXQ7cmV0dXJuIGQuaGFzT3duUHJvcGVydHkoIngiKXx8KGQueD0wKSxkLmhhc093blByb3BlcnR5KCJ5Iil8fChkLnk9MCksZC5oYXNPd25Qcm9wZXJ0eSgicm90YXRpb24iKXx8KGQucm90YXRpb249MCksInJvdGF0aW9uIj09YiYmKGEuX19uZWVkc1JvdD0hMCksImd1aWRlIj09Yj9udWxsOmN9LGEuc3RlcD1mdW5jdGlvbihiLGMsZCxlLGYpe2lmKCJyb3RhdGlvbiI9PWMmJihiLl9fcm90R2xvYmFsUz1kLGIuX19yb3RHbG9iYWxFPWUsYS50ZXN0Um90RGF0YShiLGYpKSwiZ3VpZGUiIT1jKXJldHVybiBlO3ZhciBnLGg9ZTtoLmhhc093blByb3BlcnR5KCJwYXRoIil8fChoLnBhdGg9W10pO3ZhciBpPWgucGF0aDtpZihoLmhhc093blByb3BlcnR5KCJlbmQiKXx8KGguZW5kPTEpLGguaGFzT3duUHJvcGVydHkoInN0YXJ0Iil8fChoLnN0YXJ0PWQmJmQuaGFzT3duUHJvcGVydHkoImVuZCIpJiZkLnBhdGg9PT1pP2QuZW5kOjApLGguaGFzT3duUHJvcGVydHkoIl9zZWdtZW50cyIpJiZoLl9sZW5ndGgpcmV0dXJuIGU7dmFyIGo9aS5sZW5ndGgsaz0xMDtpZighKGo+PTYmJjA9PShqLTIpJTQpKXRocm93ImludmFsaWQgJ3BhdGgnIGRhdGEsIHBsZWFzZSBzZWUgZG9jdW1lbnRhdGlvbiBmb3IgdmFsaWQgcGF0aHMiO2guX3NlZ21lbnRzPVtdLGguX2xlbmd0aD0wO2Zvcih2YXIgbD0yO2o+bDtsKz00KXtmb3IodmFyIG0sbixvPWlbbC0yXSxwPWlbbC0xXSxxPWlbbCswXSxyPWlbbCsxXSxzPWlbbCsyXSx0PWlbbCszXSx1PW8sdj1wLHc9MCx4PVtdLHk9MTtrPj15O3krKyl7dmFyIHo9eS9rLEE9MS16O209QSpBKm8rMipBKnoqcSt6KnoqcyxuPUEqQSpwKzIqQSp6KnIreip6KnQsdys9eFt4LnB1c2goTWF0aC5zcXJ0KChnPW0tdSkqZysoZz1uLXYpKmcpKS0xXSx1PW0sdj1ufWguX3NlZ21lbnRzLnB1c2godyksaC5fc2VnbWVudHMucHVzaCh4KSxoLl9sZW5ndGgrPXd9Zz1oLm9yaWVudCxoLm9yaWVudD0hMDt2YXIgQj17fTtyZXR1cm4gYS5jYWxjKGgsaC5zdGFydCxCKSxiLl9fcm90UGF0aFM9TnVtYmVyKEIucm90YXRpb24udG9GaXhlZCg1KSksYS5jYWxjKGgsaC5lbmQsQiksYi5fX3JvdFBhdGhFPU51bWJlcihCLnJvdGF0aW9uLnRvRml4ZWQoNSkpLGgub3JpZW50PSExLGEuY2FsYyhoLGguZW5kLGYpLGgub3JpZW50PWcsaC5vcmllbnQ/KGIuX19ndWlkZURhdGE9aCxhLnRlc3RSb3REYXRhKGIsZiksZSk6ZX0sYS50ZXN0Um90RGF0YT1mdW5jdGlvbihhLGIpe2lmKHZvaWQgMD09PWEuX19yb3RHbG9iYWxTfHx2b2lkIDA9PT1hLl9fcm90R2xvYmFsRSl7aWYoYS5fX25lZWRzUm90KXJldHVybjthLl9fcm90R2xvYmFsUz1hLl9fcm90R2xvYmFsRT12b2lkIDAhPT1hLl9jdXJRdWV1ZVByb3BzLnJvdGF0aW9uP2EuX2N1clF1ZXVlUHJvcHMucm90YXRpb246Yi5yb3RhdGlvbj1hLnRhcmdldC5yb3RhdGlvbnx8MH1pZih2b2lkIDAhPT1hLl9fZ3VpZGVEYXRhKXt2YXIgYz1hLl9fZ3VpZGVEYXRhLGQ9YS5fX3JvdEdsb2JhbEUtYS5fX3JvdEdsb2JhbFMsZT1hLl9fcm90UGF0aEUtYS5fX3JvdFBhdGhTLGY9ZC1lO2lmKCJhdXRvIj09Yy5vcmllbnQpZj4xODA/Zi09MzYwOi0xODA+ZiYmKGYrPTM2MCk7ZWxzZSBpZigiY3ciPT1jLm9yaWVudCl7Zm9yKDswPmY7KWYrPTM2MDswPT1mJiZkPjAmJjE4MCE9ZCYmKGYrPTM2MCl9ZWxzZSBpZigiY2N3Ij09Yy5vcmllbnQpe2ZvcihmPWQtKGU+MTgwPzM2MC1lOmUpO2Y+MDspZi09MzYwOzA9PWYmJjA+ZCYmLTE4MCE9ZCYmKGYtPTM2MCl9Yy5yb3REZWx0YT1mLGMucm90T2ZmUz1hLl9fcm90R2xvYmFsUy1hLl9fcm90UGF0aFMsYS5fX3JvdEdsb2JhbFM9YS5fX3JvdEdsb2JhbEU9YS5fX2d1aWRlRGF0YT1hLl9fbmVlZHNSb3Q9dm9pZCAwfX0sYS50d2Vlbj1mdW5jdGlvbihiLGMsZCxlLGYsZyxoKXt2YXIgaT1mLmd1aWRlO2lmKHZvaWQgMD09aXx8aT09PWUuZ3VpZGUpcmV0dXJuIGQ7aWYoaS5sYXN0UmF0aW8hPWcpe3ZhciBqPShpLmVuZC1pLnN0YXJ0KSooaD9pLmVuZDpnKStpLnN0YXJ0O3N3aXRjaChhLmNhbGMoaSxqLGIudGFyZ2V0KSxpLm9yaWVudCl7Y2FzZSJjdyI6Y2FzZSJjY3ciOmNhc2UiYXV0byI6Yi50YXJnZXQucm90YXRpb24rPWkucm90T2ZmUytpLnJvdERlbHRhKmc7YnJlYWs7Y2FzZSJmaXhlZCI6ZGVmYXVsdDpiLnRhcmdldC5yb3RhdGlvbis9aS5yb3RPZmZTfWkubGFzdFJhdGlvPWd9cmV0dXJuInJvdGF0aW9uIiE9Y3x8aS5vcmllbnQmJiJmYWxzZSIhPWkub3JpZW50P2IudGFyZ2V0W2NdOmR9LGEuY2FsYz1mdW5jdGlvbihiLGMsZCl7dm9pZCAwPT1iLl9zZWdtZW50cyYmYS52YWxpZGF0ZShiKSx2b2lkIDA9PWQmJihkPXt4OjAseTowLHJvdGF0aW9uOjB9KTtmb3IodmFyIGU9Yi5fc2VnbWVudHMsZj1iLnBhdGgsZz1iLl9sZW5ndGgqYyxoPWUubGVuZ3RoLTIsaT0wO2c+ZVtpXSYmaD5pOylnLT1lW2ldLGkrPTI7dmFyIGo9ZVtpKzFdLGs9MDtmb3IoaD1qLmxlbmd0aC0xO2c+altrXSYmaD5rOylnLT1qW2tdLGsrKzt2YXIgbD1rLysraCtnLyhoKmpba10pO2k9MippKzI7dmFyIG09MS1sO3JldHVybiBkLng9bSptKmZbaS0yXSsyKm0qbCpmW2krMF0rbCpsKmZbaSsyXSxkLnk9bSptKmZbaS0xXSsyKm0qbCpmW2krMV0rbCpsKmZbaSszXSxiLm9yaWVudCYmKGQucm90YXRpb249NTcuMjk1Nzc5NSpNYXRoLmF0YW4yKChmW2krMV0tZltpLTFdKSptKyhmW2krM10tZltpKzFdKSpsLChmW2krMF0tZltpLTJdKSptKyhmW2krMl0tZltpKzBdKSpsKSksZH0sY3JlYXRlanMuTW90aW9uR3VpZGVQbHVnaW49YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWNyZWF0ZWpzLlR3ZWVuSlM9Y3JlYXRlanMuVHdlZW5KU3x8e307YS52ZXJzaW9uPSJORVhUIixhLmJ1aWxkRGF0ZT0iVHVlLCAwMSBPY3QgMjAxMyAxNjowMzozOCBHTVQifSgpOw==",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Thu, 06 Nov 2014 22:22:49 GMT",
                    "Content-Length": "147721",
                    "Date": "Thu, 06 Nov 2014 22:22:50 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
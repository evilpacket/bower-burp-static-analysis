{
    "url": "http://localhost:9999/vuejs/vue-element/example/platform.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Link manipulation (DOM-based)",
    "issueType": 5246976,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based link manipulation vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this to a navigation target within the current page, such as a clickable link or the submission URL of a form. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will modify the target of links within the response. An attacker may be able to leverage this to perform various attacks, including:<ul><li>Causing the user to redirect to an arbitrary external URL, to facilitate a phishing attack.</li><li>Causing the user to submit sensitive form data to a server controlled by the attacker.</li><li>Causing the user to perform an unintended action within the application, by changing the file or query string associated with a link.</li><li>Bypassing browser anti-XSS defenses by injecting on-site links containing XSS exploits, since browser anti-XSS defenses typically do not operate on on-site links.</li></ul>",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based link manipulation vulnerabilities is not to dynamically set the target URLs of links or forms using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a link target. In general, this is best achieved by using a whitelist of URLs that are permitted link targets, and strictly validating the target against this list before setting the link target.",
    "issueDetail": "The application may be vulnerable to DOM-based link manipulation. Data is read from <b>the 'baseURI' property of a DOM element</b> and written to <b>the 'href' property of a DOM element</b> via the following statement:<ul><li>b.href=document.baseURI,a.head.appendChild(b)</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/vuejs/vue-element/example/platform.js",
                "path": "/vuejs/vue-element/example/platform.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC92dWVqcy92dWUtZWxlbWVudC9leGFtcGxlL3BsYXRmb3JtLmpzIEhUVFAvMS4xDQpIb3N0OiBsb2NhbGhvc3Q6OTk5OQ0KDQo=",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTI5NjU0DQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBTdW4sIDA5IE5vdiAyMDE0IDAyOjAxOjA2IEdNVA0KTGFzdC1Nb2RpZmllZDogU3VuLCAwOSBOb3YgMjAxNCAwMjowMTowNiBHTVQNCg0KLyoqCiAqIEBsaWNlbnNlCiAqIENvcHlyaWdodCAoYykgMjAxNCBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQKICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHQKICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0CiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvCiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0CiAqLwovLyBAdmVyc2lvbjogMC40LjEKCndpbmRvdy5QbGF0Zm9ybT13aW5kb3cuUGxhdGZvcm18fHt9LHdpbmRvdy5sb2dGbGFncz13aW5kb3cubG9nRmxhZ3N8fHt9LGZ1bmN0aW9uKGEpe3ZhciBiPWEuZmxhZ3N8fHt9O2xvY2F0aW9uLnNlYXJjaC5zbGljZSgxKS5zcGxpdCgiJiIpLmZvckVhY2goZnVuY3Rpb24oYSl7YT1hLnNwbGl0KCI9IiksYVswXSYmKGJbYVswXV09YVsxXXx8ITApfSk7dmFyIGM9ZG9jdW1lbnQuY3VycmVudFNjcmlwdHx8ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2NyaXB0W3NyYyo9InBsYXRmb3JtLmpzIl0nKTtpZihjKWZvcih2YXIgZCxlPWMuYXR0cmlidXRlcyxmPTA7ZjxlLmxlbmd0aDtmKyspZD1lW2ZdLCJzcmMiIT09ZC5uYW1lJiYoYltkLm5hbWVdPWQudmFsdWV8fCEwKTtiLmxvZyYmYi5sb2cuc3BsaXQoIiwiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3dpbmRvdy5sb2dGbGFnc1thXT0hMH0pLGIuc2hhZG93PWIuc2hhZG93fHxiLnNoYWRvd2RvbXx8Yi5wb2x5ZmlsbCxiLnNoYWRvdz0ibmF0aXZlIj09PWIuc2hhZG93PyExOmIuc2hhZG93fHwhSFRNTEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3QsYi5zaGFkb3cmJmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoInNjcmlwdCIpLmxlbmd0aD4xJiZjb25zb2xlLndhcm4oInBsYXRmb3JtLmpzIGlzIG5vdCB0aGUgZmlyc3Qgc2NyaXB0IG9uIHRoZSBwYWdlLiBTZWUgaHR0cDovL3d3dy5wb2x5bWVyLXByb2plY3Qub3JnL2RvY3Mvc3RhcnQvcGxhdGZvcm0uaHRtbCNzZXR1cCBmb3IgZGV0YWlscy4iKSxiLnJlZ2lzdGVyJiYod2luZG93LkN1c3RvbUVsZW1lbnRzPXdpbmRvdy5DdXN0b21FbGVtZW50c3x8e2ZsYWdzOnt9fSx3aW5kb3cuQ3VzdG9tRWxlbWVudHMuZmxhZ3MucmVnaXN0ZXI9Yi5yZWdpc3RlciksYi5pbXBvcnRzJiYod2luZG93LkhUTUxJbXBvcnRzPXdpbmRvdy5IVE1MSW1wb3J0c3x8e2ZsYWdzOnt9fSx3aW5kb3cuSFRNTEltcG9ydHMuZmxhZ3MuaW1wb3J0cz1iLmltcG9ydHMpLGEuZmxhZ3M9Yn0oUGxhdGZvcm0pLCJ1bmRlZmluZWQiPT10eXBlb2YgV2Vha01hcCYmIWZ1bmN0aW9uKCl7dmFyIGE9T2JqZWN0LmRlZmluZVByb3BlcnR5LGI9RGF0ZS5ub3coKSUxZTksYz1mdW5jdGlvbigpe3RoaXMubmFtZT0iX19zdCIrKDFlOSpNYXRoLnJhbmRvbSgpPj4+MCkrKGIrKyArIl9fIil9O2MucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYixjKXt2YXIgZD1iW3RoaXMubmFtZV07ZCYmZFswXT09PWI/ZFsxXT1jOmEoYix0aGlzLm5hbWUse3ZhbHVlOltiLGNdLHdyaXRhYmxlOiEwfSl9LGdldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4oYj1hW3RoaXMubmFtZV0pJiZiWzBdPT09YT9iWzFdOnZvaWQgMH0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dmFyIGI9YVt0aGlzLm5hbWVdO2lmKCFiKXJldHVybiExO3ZhciBjPWJbMF09PT1hO3JldHVybiBiWzBdPWJbMV09dm9pZCAwLGN9LGhhczpmdW5jdGlvbihhKXt2YXIgYj1hW3RoaXMubmFtZV07cmV0dXJuIGI/YlswXT09PWE6ITF9fSx3aW5kb3cuV2Vha01hcD1jfSgpLFBsYXRmb3JtLmZsYWdzLnNoYWRvdz8oIWZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKCl7ZnVuY3Rpb24gYShhKXtiPWF9aWYoImZ1bmN0aW9uIiE9dHlwZW9mIE9iamVjdC5vYnNlcnZlfHwiZnVuY3Rpb24iIT10eXBlb2YgQXJyYXkub2JzZXJ2ZSlyZXR1cm4hMTt2YXIgYj1bXSxjPXt9LGQ9W107cmV0dXJuIE9iamVjdC5vYnNlcnZlKGMsYSksQXJyYXkub2JzZXJ2ZShkLGEpLGMuaWQ9MSxjLmlkPTIsZGVsZXRlIGMuaWQsZC5wdXNoKDEsMiksZC5sZW5ndGg9MCxPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMoYSksNSE9PWIubGVuZ3RoPyExOiJhZGQiIT1iWzBdLnR5cGV8fCJ1cGRhdGUiIT1iWzFdLnR5cGV8fCJkZWxldGUiIT1iWzJdLnR5cGV8fCJzcGxpY2UiIT1iWzNdLnR5cGV8fCJzcGxpY2UiIT1iWzRdLnR5cGU/ITE6KE9iamVjdC51bm9ic2VydmUoYyxhKSxBcnJheS51bm9ic2VydmUoZCxhKSwhMCl9ZnVuY3Rpb24gYygpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgY2hyb21lJiZjaHJvbWUuYXBwJiZjaHJvbWUuYXBwLnJ1bnRpbWUpcmV0dXJuITE7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJm5hdmlnYXRvci5nZXREZXZpY2VTdG9yYWdlKXJldHVybiExO3RyeXt2YXIgYT1uZXcgRnVuY3Rpb24oIiIsInJldHVybiB0cnVlOyIpO3JldHVybiBhKCl9Y2F0Y2goYil7cmV0dXJuITF9fWZ1bmN0aW9uIGQoYSl7cmV0dXJuK2E9PT1hPj4+MCYmIiIhPT1hfWZ1bmN0aW9uIGUoYSl7cmV0dXJuK2F9ZnVuY3Rpb24gZihhKXtyZXR1cm4gYT09PU9iamVjdChhKX1mdW5jdGlvbiBnKGEsYil7cmV0dXJuIGE9PT1iPzAhPT1hfHwxL2E9PT0xL2I6UihhKSYmUihiKT8hMDphIT09YSYmYiE9PWJ9ZnVuY3Rpb24gaChhKXtpZih2b2lkIDA9PT1hKXJldHVybiJlb2YiO3ZhciBiPWEuY2hhckNvZGVBdCgwKTtzd2l0Y2goYil7Y2FzZSA5MTpjYXNlIDkzOmNhc2UgNDY6Y2FzZSAzNDpjYXNlIDM5OmNhc2UgNDg6cmV0dXJuIGE7Y2FzZSA5NTpjYXNlIDM2OnJldHVybiJpZGVudCI7Y2FzZSAzMjpjYXNlIDk6Y2FzZSAxMDpjYXNlIDEzOmNhc2UgMTYwOmNhc2UgNjUyNzk6Y2FzZSA4MjMyOmNhc2UgODIzMzpyZXR1cm4id3MifXJldHVybiBiPj05NyYmMTIyPj1ifHxiPj02NSYmOTA+PWI/ImlkZW50IjpiPj00OSYmNTc+PWI/Im51bWJlciI6ImVsc2UifWZ1bmN0aW9uIGkoKXt9ZnVuY3Rpb24gaihhKXtmdW5jdGlvbiBiKCl7aWYoIShtPj1hLmxlbmd0aCkpe3ZhciBiPWFbbSsxXTtyZXR1cm4iaW5TaW5nbGVRdW90ZSI9PW4mJiInIj09Ynx8ImluRG91YmxlUXVvdGUiPT1uJiYnIic9PWI/KG0rKyxkPWIsby5hcHBlbmQoKSwhMCk6dm9pZCAwfX1mb3IodmFyIGMsZCxlLGYsZyxqLGssbD1bXSxtPS0xLG49ImJlZm9yZVBhdGgiLG89e3B1c2g6ZnVuY3Rpb24oKXt2b2lkIDAhPT1lJiYobC5wdXNoKGUpLGU9dm9pZCAwKX0sYXBwZW5kOmZ1bmN0aW9uKCl7dm9pZCAwPT09ZT9lPWQ6ZSs9ZH19O247KWlmKG0rKyxjPWFbbV0sIlxcIiE9Y3x8IWIobikpe2lmKGY9aChjKSxrPVdbbl0sZz1rW2ZdfHxrWyJlbHNlIl18fCJlcnJvciIsImVycm9yIj09ZylyZXR1cm47aWYobj1nWzBdLGo9b1tnWzFdXXx8aSxkPXZvaWQgMD09PWdbMl0/YzpnWzJdLGooKSwiYWZ0ZXJQYXRoIj09PW4pcmV0dXJuIGx9fWZ1bmN0aW9uIGsoYSl7cmV0dXJuIFYudGVzdChhKX1mdW5jdGlvbiBsKGEsYil7aWYoYiE9PVgpdGhyb3cgRXJyb3IoIlVzZSBQYXRoLmdldCB0byByZXRyaWV2ZSBwYXRoIG9iamVjdHMiKTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl0aGlzLnB1c2goU3RyaW5nKGFbY10pKTtRJiZ0aGlzLmxlbmd0aCYmKHRoaXMuZ2V0VmFsdWVGcm9tPXRoaXMuY29tcGlsZWRHZXRWYWx1ZUZyb21GbigpKX1mdW5jdGlvbiBtKGEpe2lmKGEgaW5zdGFuY2VvZiBsKXJldHVybiBhO2lmKChudWxsPT1hfHwwPT1hLmxlbmd0aCkmJihhPSIiKSwic3RyaW5nIiE9dHlwZW9mIGEpe2lmKGQoYS5sZW5ndGgpKXJldHVybiBuZXcgbChhLFgpO2E9U3RyaW5nKGEpfXZhciBiPVlbYV07aWYoYilyZXR1cm4gYjt2YXIgYz1qKGEpO2lmKCFjKXJldHVybiBaO3ZhciBiPW5ldyBsKGMsWCk7cmV0dXJuIFlbYV09YixifWZ1bmN0aW9uIG4oYSl7cmV0dXJuIGQoYSk/IlsiK2ErIl0iOidbIicrYS5yZXBsYWNlKC8iL2csJ1xcIicpKyciXSd9ZnVuY3Rpb24gbyhiKXtmb3IodmFyIGM9MDtfPmMmJmIuY2hlY2tfKCk7KWMrKztyZXR1cm4gTyYmKGEuZGlydHlDaGVja0N5Y2xlQ291bnQ9YyksYz4wfWZ1bmN0aW9uIHAoYSl7Zm9yKHZhciBiIGluIGEpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gcShhKXtyZXR1cm4gcChhLmFkZGVkKSYmcChhLnJlbW92ZWQpJiZwKGEuY2hhbmdlZCl9ZnVuY3Rpb24gcihhLGIpe3ZhciBjPXt9LGQ9e30sZT17fTtmb3IodmFyIGYgaW4gYil7dmFyIGc9YVtmXTsodm9pZCAwPT09Z3x8ZyE9PWJbZl0pJiYoZiBpbiBhP2chPT1iW2ZdJiYoZVtmXT1nKTpkW2ZdPXZvaWQgMCl9Zm9yKHZhciBmIGluIGEpZiBpbiBifHwoY1tmXT1hW2ZdKTtyZXR1cm4gQXJyYXkuaXNBcnJheShhKSYmYS5sZW5ndGghPT1iLmxlbmd0aCYmKGUubGVuZ3RoPWEubGVuZ3RoKSx7YWRkZWQ6YyxyZW1vdmVkOmQsY2hhbmdlZDplfX1mdW5jdGlvbiBzKCl7aWYoIWFiLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGE9MDthPGFiLmxlbmd0aDthKyspYWJbYV0oKTtyZXR1cm4gYWIubGVuZ3RoPTAsITB9ZnVuY3Rpb24gdCgpe2Z1bmN0aW9uIGEoYSl7YiYmYi5zdGF0ZV89PT1mYiYmIWQmJmIuY2hlY2tfKGEpfXZhciBiLGMsZD0hMSxlPSEwO3JldHVybntvcGVuOmZ1bmN0aW9uKGMpe2lmKGIpdGhyb3cgRXJyb3IoIk9ic2VydmVkT2JqZWN0IGluIHVzZSIpO2V8fE9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyhhKSxiPWMsZT0hMX0sb2JzZXJ2ZTpmdW5jdGlvbihiLGQpe2M9YixkP0FycmF5Lm9ic2VydmUoYyxhKTpPYmplY3Qub2JzZXJ2ZShjLGEpfSxkZWxpdmVyOmZ1bmN0aW9uKGIpe2Q9YixPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMoYSksZD0hMX0sY2xvc2U6ZnVuY3Rpb24oKXtiPXZvaWQgMCxPYmplY3QudW5vYnNlcnZlKGMsYSksY2IucHVzaCh0aGlzKX19fWZ1bmN0aW9uIHUoYSxiLGMpe3ZhciBkPWNiLnBvcCgpfHx0KCk7cmV0dXJuIGQub3BlbihhKSxkLm9ic2VydmUoYixjKSxkfWZ1bmN0aW9uIHYoKXtmdW5jdGlvbiBhKGIsZil7YiYmKGI9PT1kJiYoZVtmXT0hMCksaC5pbmRleE9mKGIpPDAmJihoLnB1c2goYiksT2JqZWN0Lm9ic2VydmUoYixjKSksYShPYmplY3QuZ2V0UHJvdG90eXBlT2YoYiksZikpfWZ1bmN0aW9uIGIoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPWFbYl07aWYoYy5vYmplY3QhPT1kfHxlW2MubmFtZV18fCJzZXRQcm90b3R5cGUiPT09Yy50eXBlKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGMoYyl7aWYoIWIoYykpe2Zvcih2YXIgZCxlPTA7ZTxnLmxlbmd0aDtlKyspZD1nW2VdLGQuc3RhdGVfPT1mYiYmZC5pdGVyYXRlT2JqZWN0c18oYSk7Zm9yKHZhciBlPTA7ZTxnLmxlbmd0aDtlKyspZD1nW2VdLGQuc3RhdGVfPT1mYiYmZC5jaGVja18oKX19dmFyIGQsZSxmPTAsZz1bXSxoPVtdLGk9e29iamVjdDp2b2lkIDAsb2JqZWN0czpoLG9wZW46ZnVuY3Rpb24oYixjKXtkfHwoZD1jLGU9e30pLGcucHVzaChiKSxmKyssYi5pdGVyYXRlT2JqZWN0c18oYSl9LGNsb3NlOmZ1bmN0aW9uKCl7aWYoZi0tLCEoZj4wKSl7Zm9yKHZhciBhPTA7YTxoLmxlbmd0aDthKyspT2JqZWN0LnVub2JzZXJ2ZShoW2FdLGMpLHgudW5vYnNlcnZlZENvdW50Kys7Zy5sZW5ndGg9MCxoLmxlbmd0aD0wLGQ9dm9pZCAwLGU9dm9pZCAwLGRiLnB1c2godGhpcyl9fX07cmV0dXJuIGl9ZnVuY3Rpb24gdyhhLGIpe3JldHVybiAkJiYkLm9iamVjdD09PWJ8fCgkPWRiLnBvcCgpfHx2KCksJC5vYmplY3Q9YiksJC5vcGVuKGEsYiksJH1mdW5jdGlvbiB4KCl7dGhpcy5zdGF0ZV89ZWIsdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwLHRoaXMudmFsdWVfPXZvaWQgMCx0aGlzLmlkXz1pYisrfWZ1bmN0aW9uIHkoYSl7eC5fYWxsT2JzZXJ2ZXJzQ291bnQrKyxrYiYmamIucHVzaChhKX1mdW5jdGlvbiB6KCl7eC5fYWxsT2JzZXJ2ZXJzQ291bnQtLX1mdW5jdGlvbiBBKGEpe3guY2FsbCh0aGlzKSx0aGlzLnZhbHVlXz1hLHRoaXMub2xkT2JqZWN0Xz12b2lkIDB9ZnVuY3Rpb24gQihhKXtpZighQXJyYXkuaXNBcnJheShhKSl0aHJvdyBFcnJvcigiUHJvdmlkZWQgb2JqZWN0IGlzIG5vdCBhbiBBcnJheSIpO0EuY2FsbCh0aGlzLGEpfWZ1bmN0aW9uIEMoYSxiKXt4LmNhbGwodGhpcyksdGhpcy5vYmplY3RfPWEsdGhpcy5wYXRoXz1tKGIpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMH1mdW5jdGlvbiBEKGEpe3guY2FsbCh0aGlzKSx0aGlzLnJlcG9ydENoYW5nZXNPbk9wZW5fPWEsdGhpcy52YWx1ZV89W10sdGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwLHRoaXMub2JzZXJ2ZWRfPVtdfWZ1bmN0aW9uIEUoYSl7cmV0dXJuIGF9ZnVuY3Rpb24gRihhLGIsYyxkKXt0aGlzLmNhbGxiYWNrXz12b2lkIDAsdGhpcy50YXJnZXRfPXZvaWQgMCx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5vYnNlcnZhYmxlXz1hLHRoaXMuZ2V0VmFsdWVGbl89Ynx8RSx0aGlzLnNldFZhbHVlRm5fPWN8fEUsdGhpcy5kb250UGFzc1Rocm91Z2hTZXRfPWR9ZnVuY3Rpb24gRyhhLGIsYyl7Zm9yKHZhciBkPXt9LGU9e30sZj0wO2Y8Yi5sZW5ndGg7ZisrKXt2YXIgZz1iW2ZdO25iW2cudHlwZV0/KGcubmFtZSBpbiBjfHwoY1tnLm5hbWVdPWcub2xkVmFsdWUpLCJ1cGRhdGUiIT1nLnR5cGUmJigiYWRkIiE9Zy50eXBlP2cubmFtZSBpbiBkPyhkZWxldGUgZFtnLm5hbWVdLGRlbGV0ZSBjW2cubmFtZV0pOmVbZy5uYW1lXT0hMDpnLm5hbWUgaW4gZT9kZWxldGUgZVtnLm5hbWVdOmRbZy5uYW1lXT0hMCkpOihjb25zb2xlLmVycm9yKCJVbmtub3duIGNoYW5nZVJlY29yZCB0eXBlOiAiK2cudHlwZSksY29uc29sZS5lcnJvcihnKSl9Zm9yKHZhciBoIGluIGQpZFtoXT1hW2hdO2Zvcih2YXIgaCBpbiBlKWVbaF09dm9pZCAwO3ZhciBpPXt9O2Zvcih2YXIgaCBpbiBjKWlmKCEoaCBpbiBkfHxoIGluIGUpKXt2YXIgaj1hW2hdO2NbaF0hPT1qJiYoaVtoXT1qKX1yZXR1cm57YWRkZWQ6ZCxyZW1vdmVkOmUsY2hhbmdlZDppfX1mdW5jdGlvbiBIKGEsYixjKXtyZXR1cm57aW5kZXg6YSxyZW1vdmVkOmIsYWRkZWRDb3VudDpjfX1mdW5jdGlvbiBJKCl7fWZ1bmN0aW9uIEooYSxiLGMsZCxlLGYpe3JldHVybiBzYi5jYWxjU3BsaWNlcyhhLGIsYyxkLGUsZil9ZnVuY3Rpb24gSyhhLGIsYyxkKXtyZXR1cm4gYz5ifHxhPmQ/LTE6Yj09Y3x8ZD09YT8wOmM+YT9kPmI/Yi1jOmQtYzpiPmQ/ZC1hOmItYX1mdW5jdGlvbiBMKGEsYixjLGQpe2Zvcih2YXIgZT1IKGIsYyxkKSxmPSExLGc9MCxoPTA7aDxhLmxlbmd0aDtoKyspe3ZhciBpPWFbaF07aWYoaS5pbmRleCs9ZywhZil7dmFyIGo9SyhlLmluZGV4LGUuaW5kZXgrZS5yZW1vdmVkLmxlbmd0aCxpLmluZGV4LGkuaW5kZXgraS5hZGRlZENvdW50KTtpZihqPj0wKXthLnNwbGljZShoLDEpLGgtLSxnLT1pLmFkZGVkQ291bnQtaS5yZW1vdmVkLmxlbmd0aCxlLmFkZGVkQ291bnQrPWkuYWRkZWRDb3VudC1qO3ZhciBrPWUucmVtb3ZlZC5sZW5ndGgraS5yZW1vdmVkLmxlbmd0aC1qO2lmKGUuYWRkZWRDb3VudHx8ayl7dmFyIGM9aS5yZW1vdmVkO2lmKGUuaW5kZXg8aS5pbmRleCl7dmFyIGw9ZS5yZW1vdmVkLnNsaWNlKDAsaS5pbmRleC1lLmluZGV4KTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShsLGMpLGM9bH1pZihlLmluZGV4K2UucmVtb3ZlZC5sZW5ndGg+aS5pbmRleCtpLmFkZGVkQ291bnQpe3ZhciBtPWUucmVtb3ZlZC5zbGljZShpLmluZGV4K2kuYWRkZWRDb3VudC1lLmluZGV4KTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShjLG0pfWUucmVtb3ZlZD1jLGkuaW5kZXg8ZS5pbmRleCYmKGUuaW5kZXg9aS5pbmRleCl9ZWxzZSBmPSEwfWVsc2UgaWYoZS5pbmRleDxpLmluZGV4KXtmPSEwLGEuc3BsaWNlKGgsMCxlKSxoKys7dmFyIG49ZS5hZGRlZENvdW50LWUucmVtb3ZlZC5sZW5ndGg7aS5pbmRleCs9bixnKz1ufX19Znx8YS5wdXNoKGUpfWZ1bmN0aW9uIE0oYSxiKXtmb3IodmFyIGM9W10sZj0wO2Y8Yi5sZW5ndGg7ZisrKXt2YXIgZz1iW2ZdO3N3aXRjaChnLnR5cGUpe2Nhc2Uic3BsaWNlIjpMKGMsZy5pbmRleCxnLnJlbW92ZWQuc2xpY2UoKSxnLmFkZGVkQ291bnQpO2JyZWFrO2Nhc2UiYWRkIjpjYXNlInVwZGF0ZSI6Y2FzZSJkZWxldGUiOmlmKCFkKGcubmFtZSkpY29udGludWU7dmFyIGg9ZShnLm5hbWUpO2lmKDA+aCljb250aW51ZTtMKGMsaCxbZy5vbGRWYWx1ZV0sMSk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKCJVbmV4cGVjdGVkIHJlY29yZCB0eXBlOiAiK0pTT04uc3RyaW5naWZ5KGcpKX19cmV0dXJuIGN9ZnVuY3Rpb24gTihhLGIpe3ZhciBjPVtdO3JldHVybiBNKGEsYikuZm9yRWFjaChmdW5jdGlvbihiKXtyZXR1cm4gMT09Yi5hZGRlZENvdW50JiYxPT1iLnJlbW92ZWQubGVuZ3RoP3ZvaWQoYi5yZW1vdmVkWzBdIT09YVtiLmluZGV4XSYmYy5wdXNoKGIpKTp2b2lkKGM9Yy5jb25jYXQoSihhLGIuaW5kZXgsYi5pbmRleCtiLmFkZGVkQ291bnQsYi5yZW1vdmVkLDAsYi5yZW1vdmVkLmxlbmd0aCkpKX0pLGN9dmFyIE89YS50ZXN0aW5nRXhwb3NlQ3ljbGVDb3VudCxQPWIoKSxRPWMoKSxSPWEuTnVtYmVyLmlzTmFOfHxmdW5jdGlvbihiKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGImJmEuaXNOYU4oYil9LFM9Il9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKGEpe3JldHVybiBhfTpmdW5jdGlvbihhKXt2YXIgYj1hLl9fcHJvdG9fXztpZighYilyZXR1cm4gYTt2YXIgYz1PYmplY3QuY3JlYXRlKGIpO3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLGIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGIpKX0pLGN9LFQ9IlskX2EtekEtWl0iLFU9IlskX2EtekEtWjAtOV0iLFY9bmV3IFJlZ0V4cCgiXiIrVCsiKyIrVSsiKiQiKSxXPXtiZWZvcmVQYXRoOnt3czpbImJlZm9yZVBhdGgiXSxpZGVudDpbImluSWRlbnQiLCJhcHBlbmQiXSwiWyI6WyJiZWZvcmVFbGVtZW50Il0sZW9mOlsiYWZ0ZXJQYXRoIl19LGluUGF0aDp7d3M6WyJpblBhdGgiXSwiLiI6WyJiZWZvcmVJZGVudCJdLCJbIjpbImJlZm9yZUVsZW1lbnQiXSxlb2Y6WyJhZnRlclBhdGgiXX0sYmVmb3JlSWRlbnQ6e3dzOlsiYmVmb3JlSWRlbnQiXSxpZGVudDpbImluSWRlbnQiLCJhcHBlbmQiXX0saW5JZGVudDp7aWRlbnQ6WyJpbklkZW50IiwiYXBwZW5kIl0sMDpbImluSWRlbnQiLCJhcHBlbmQiXSxudW1iZXI6WyJpbklkZW50IiwiYXBwZW5kIl0sd3M6WyJpblBhdGgiLCJwdXNoIl0sIi4iOlsiYmVmb3JlSWRlbnQiLCJwdXNoIl0sIlsiOlsiYmVmb3JlRWxlbWVudCIsInB1c2giXSxlb2Y6WyJhZnRlclBhdGgiLCJwdXNoIl19LGJlZm9yZUVsZW1lbnQ6e3dzOlsiYmVmb3JlRWxlbWVudCJdLDA6WyJhZnRlclplcm8iLCJhcHBlbmQiXSxudW1iZXI6WyJpbkluZGV4IiwiYXBwZW5kIl0sIiciOlsiaW5TaW5nbGVRdW90ZSIsImFwcGVuZCIsIiJdLCciJzpbImluRG91YmxlUXVvdGUiLCJhcHBlbmQiLCIiXX0sYWZ0ZXJaZXJvOnt3czpbImFmdGVyRWxlbWVudCIsInB1c2giXSwiXSI6WyJpblBhdGgiLCJwdXNoIl19LGluSW5kZXg6ezA6WyJpbkluZGV4IiwiYXBwZW5kIl0sbnVtYmVyOlsiaW5JbmRleCIsImFwcGVuZCJdLHdzOlsiYWZ0ZXJFbGVtZW50Il0sIl0iOlsiaW5QYXRoIiwicHVzaCJdfSxpblNpbmdsZVF1b3RlOnsiJyI6WyJhZnRlckVsZW1lbnQiXSxlb2Y6WyJlcnJvciJdLCJlbHNlIjpbImluU2luZ2xlUXVvdGUiLCJhcHBlbmQiXX0saW5Eb3VibGVRdW90ZTp7JyInOlsiYWZ0ZXJFbGVtZW50Il0sZW9mOlsiZXJyb3IiXSwiZWxzZSI6WyJpbkRvdWJsZVF1b3RlIiwiYXBwZW5kIl19LGFmdGVyRWxlbWVudDp7d3M6WyJhZnRlckVsZW1lbnQiXSwiXSI6WyJpblBhdGgiLCJwdXNoIl19fSxYPXt9LFk9e307bC5nZXQ9bSxsLnByb3RvdHlwZT1TKHtfX3Byb3RvX186W10sdmFsaWQ6ITAsdG9TdHJpbmc6ZnVuY3Rpb24oKXtmb3IodmFyIGE9IiIsYj0wO2I8dGhpcy5sZW5ndGg7YisrKXt2YXIgYz10aGlzW2JdO2ErPWsoYyk/Yj8iLiIrYzpjOm4oYyl9cmV0dXJuIGF9LGdldFZhbHVlRnJvbTpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPHRoaXMubGVuZ3RoO2IrKyl7aWYobnVsbD09YSlyZXR1cm47YT1hW3RoaXNbYl1dfXJldHVybiBhfSxpdGVyYXRlT2JqZWN0czpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2M8dGhpcy5sZW5ndGg7YysrKXtpZihjJiYoYT1hW3RoaXNbYy0xXV0pLCFmKGEpKXJldHVybjtiKGEsdGhpc1swXSl9fSxjb21waWxlZEdldFZhbHVlRnJvbUZuOmZ1bmN0aW9uKCl7dmFyIGE9IiIsYj0ib2JqIjthKz0iaWYgKG9iaiAhPSBudWxsIjtmb3IodmFyIGMsZD0wO2Q8dGhpcy5sZW5ndGgtMTtkKyspYz10aGlzW2RdLGIrPWsoYyk/Ii4iK2M6bihjKSxhKz0iICYmXG4gICAgICIrYisiICE9IG51bGwiO2ErPSIpXG4iO3ZhciBjPXRoaXNbZF07cmV0dXJuIGIrPWsoYyk/Ii4iK2M6bihjKSxhKz0iICByZXR1cm4gIitiKyI7XG5lbHNlXG4gIHJldHVybiB1bmRlZmluZWQ7IixuZXcgRnVuY3Rpb24oIm9iaiIsYSl9LHNldFZhbHVlRnJvbTpmdW5jdGlvbihhLGIpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPHRoaXMubGVuZ3RoLTE7YysrKXtpZighZihhKSlyZXR1cm4hMTthPWFbdGhpc1tjXV19cmV0dXJuIGYoYSk/KGFbdGhpc1tjXV09YiwhMCk6ITF9fSk7dmFyIFo9bmV3IGwoIiIsWCk7Wi52YWxpZD0hMSxaLmdldFZhbHVlRnJvbT1aLnNldFZhbHVlRnJvbT1mdW5jdGlvbigpe307dmFyICQsXz0xZTMsYWI9W10sYmI9UD9mdW5jdGlvbigpe3ZhciBhPXtwaW5nUG9uZzohMH0sYj0hMTtyZXR1cm4gT2JqZWN0Lm9ic2VydmUoYSxmdW5jdGlvbigpe3MoKSxiPSExfSksZnVuY3Rpb24oYyl7YWIucHVzaChjKSxifHwoYj0hMCxhLnBpbmdQb25nPSFhLnBpbmdQb25nKX19KCk6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSl7YWIucHVzaChhKX19KCksY2I9W10sZGI9W10sZWI9MCxmYj0xLGdiPTIsaGI9MyxpYj0xO3gucHJvdG90eXBlPXtvcGVuOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5zdGF0ZV8hPWViKXRocm93IEVycm9yKCJPYnNlcnZlciBoYXMgYWxyZWFkeSBiZWVuIG9wZW5lZC4iKTtyZXR1cm4geSh0aGlzKSx0aGlzLmNhbGxiYWNrXz1hLHRoaXMudGFyZ2V0Xz1iLHRoaXMuY29ubmVjdF8oKSx0aGlzLnN0YXRlXz1mYix0aGlzLnZhbHVlX30sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlXz09ZmImJih6KHRoaXMpLHRoaXMuZGlzY29ubmVjdF8oKSx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy5zdGF0ZV89Z2IpfSxkZWxpdmVyOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZV89PWZiJiZvKHRoaXMpfSxyZXBvcnRfOmZ1bmN0aW9uKGEpe3RyeXt0aGlzLmNhbGxiYWNrXy5hcHBseSh0aGlzLnRhcmdldF8sYSl9Y2F0Y2goYil7eC5fZXJyb3JUaHJvd25EdXJpbmdDYWxsYmFjaz0hMCxjb25zb2xlLmVycm9yKCJFeGNlcHRpb24gY2F1Z2h0IGR1cmluZyBvYnNlcnZlciBjYWxsYmFjazogIisoYi5zdGFja3x8YikpfX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja18odm9pZCAwLCEwKSx0aGlzLnZhbHVlX319O3ZhciBqYixrYj0hUDt4Ll9hbGxPYnNlcnZlcnNDb3VudD0wLGtiJiYoamI9W10pO3ZhciBsYj0hMTthLlBsYXRmb3JtPWEuUGxhdGZvcm18fHt9LGEuUGxhdGZvcm0ucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQ9ZnVuY3Rpb24oKXtpZighbGImJmtiKXtsYj0hMDt2YXIgYixjLGQ9MDtkb3tkKyssYz1qYixqYj1bXSxiPSExO2Zvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKXt2YXIgZj1jW2VdO2Yuc3RhdGVfPT1mYiYmKGYuY2hlY2tfKCkmJihiPSEwKSxqYi5wdXNoKGYpKX1zKCkmJihiPSEwKX13aGlsZShfPmQmJmIpO08mJihhLmRpcnR5Q2hlY2tDeWNsZUNvdW50PWQpLGxiPSExfX0sa2ImJihhLlBsYXRmb3JtLmNsZWFyT2JzZXJ2ZXJzPWZ1bmN0aW9uKCl7amI9W119KSxBLnByb3RvdHlwZT1TKHtfX3Byb3RvX186eC5wcm90b3R5cGUsYXJyYXlPYnNlcnZlOiExLGNvbm5lY3RfOmZ1bmN0aW9uKCl7UD90aGlzLmRpcmVjdE9ic2VydmVyXz11KHRoaXMsdGhpcy52YWx1ZV8sdGhpcy5hcnJheU9ic2VydmUpOnRoaXMub2xkT2JqZWN0Xz10aGlzLmNvcHlPYmplY3QodGhpcy52YWx1ZV8pfSxjb3B5T2JqZWN0OmZ1bmN0aW9uKGEpe3ZhciBiPUFycmF5LmlzQXJyYXkoYSk/W106e307Zm9yKHZhciBjIGluIGEpYltjXT1hW2NdO3JldHVybiBBcnJheS5pc0FycmF5KGEpJiYoYi5sZW5ndGg9YS5sZW5ndGgpLGJ9LGNoZWNrXzpmdW5jdGlvbihhKXt2YXIgYixjO2lmKFApe2lmKCFhKXJldHVybiExO2M9e30sYj1HKHRoaXMudmFsdWVfLGEsYyl9ZWxzZSBjPXRoaXMub2xkT2JqZWN0XyxiPXIodGhpcy52YWx1ZV8sdGhpcy5vbGRPYmplY3RfKTtyZXR1cm4gcShiKT8hMTooUHx8KHRoaXMub2xkT2JqZWN0Xz10aGlzLmNvcHlPYmplY3QodGhpcy52YWx1ZV8pKSx0aGlzLnJlcG9ydF8oW2IuYWRkZWR8fHt9LGIucmVtb3ZlZHx8e30sYi5jaGFuZ2VkfHx7fSxmdW5jdGlvbihhKXtyZXR1cm4gY1thXX1dKSwhMCl9LGRpc2Nvbm5lY3RfOmZ1bmN0aW9uKCl7UD8odGhpcy5kaXJlY3RPYnNlcnZlcl8uY2xvc2UoKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDApOnRoaXMub2xkT2JqZWN0Xz12b2lkIDB9LGRlbGl2ZXI6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlXz09ZmImJihQP3RoaXMuZGlyZWN0T2JzZXJ2ZXJfLmRlbGl2ZXIoITEpOm8odGhpcykpfSxkaXNjYXJkQ2hhbmdlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpcmVjdE9ic2VydmVyXz90aGlzLmRpcmVjdE9ic2VydmVyXy5kZWxpdmVyKCEwKTp0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKSx0aGlzLnZhbHVlX319KSxCLnByb3RvdHlwZT1TKHtfX3Byb3RvX186QS5wcm90b3R5cGUsYXJyYXlPYnNlcnZlOiEwLGNvcHlPYmplY3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc2xpY2UoKX0sY2hlY2tfOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKFApe2lmKCFhKXJldHVybiExO2I9Tih0aGlzLnZhbHVlXyxhKX1lbHNlIGI9Sih0aGlzLnZhbHVlXywwLHRoaXMudmFsdWVfLmxlbmd0aCx0aGlzLm9sZE9iamVjdF8sMCx0aGlzLm9sZE9iamVjdF8ubGVuZ3RoKTtyZXR1cm4gYiYmYi5sZW5ndGg/KFB8fCh0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKSksdGhpcy5yZXBvcnRfKFtiXSksITApOiExfX0pLEIuYXBwbHlTcGxpY2VzPWZ1bmN0aW9uKGEsYixjKXtjLmZvckVhY2goZnVuY3Rpb24oYyl7Zm9yKHZhciBkPVtjLmluZGV4LGMucmVtb3ZlZC5sZW5ndGhdLGU9Yy5pbmRleDtlPGMuaW5kZXgrYy5hZGRlZENvdW50OylkLnB1c2goYltlXSksZSsrO0FycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkoYSxkKX0pfSxDLnByb3RvdHlwZT1TKHtfX3Byb3RvX186eC5wcm90b3R5cGUsZ2V0IHBhdGgoKXtyZXR1cm4gdGhpcy5wYXRoX30sY29ubmVjdF86ZnVuY3Rpb24oKXtQJiYodGhpcy5kaXJlY3RPYnNlcnZlcl89dyh0aGlzLHRoaXMub2JqZWN0XykpLHRoaXMuY2hlY2tfKHZvaWQgMCwhMCl9LGRpc2Nvbm5lY3RfOmZ1bmN0aW9uKCl7dGhpcy52YWx1ZV89dm9pZCAwLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfJiYodGhpcy5kaXJlY3RPYnNlcnZlcl8uY2xvc2UodGhpcyksdGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwKX0saXRlcmF0ZU9iamVjdHNfOmZ1bmN0aW9uKGEpe3RoaXMucGF0aF8uaXRlcmF0ZU9iamVjdHModGhpcy5vYmplY3RfLGEpfSxjaGVja186ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnZhbHVlXztyZXR1cm4gdGhpcy52YWx1ZV89dGhpcy5wYXRoXy5nZXRWYWx1ZUZyb20odGhpcy5vYmplY3RfKSxifHxnKHRoaXMudmFsdWVfLGMpPyExOih0aGlzLnJlcG9ydF8oW3RoaXMudmFsdWVfLGMsdGhpc10pLCEwKX0sc2V0VmFsdWU6ZnVuY3Rpb24oYSl7dGhpcy5wYXRoXyYmdGhpcy5wYXRoXy5zZXRWYWx1ZUZyb20odGhpcy5vYmplY3RfLGEpfX0pO3ZhciBtYj17fTtELnByb3RvdHlwZT1TKHtfX3Byb3RvX186eC5wcm90b3R5cGUsY29ubmVjdF86ZnVuY3Rpb24oKXtpZihQKXtmb3IodmFyIGEsYj0hMSxjPTA7Yzx0aGlzLm9ic2VydmVkXy5sZW5ndGg7Yys9MilpZihhPXRoaXMub2JzZXJ2ZWRfW2NdLGEhPT1tYil7Yj0hMDticmVha31iJiYodGhpcy5kaXJlY3RPYnNlcnZlcl89dyh0aGlzLGEpKX10aGlzLmNoZWNrXyh2b2lkIDAsIXRoaXMucmVwb3J0Q2hhbmdlc09uT3Blbl8pfSxkaXNjb25uZWN0XzpmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2ErPTIpdGhpcy5vYnNlcnZlZF9bYV09PT1tYiYmdGhpcy5vYnNlcnZlZF9bYSsxXS5jbG9zZSgpO3RoaXMub2JzZXJ2ZWRfLmxlbmd0aD0wLHRoaXMudmFsdWVfLmxlbmd0aD0wLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfJiYodGhpcy5kaXJlY3RPYnNlcnZlcl8uY2xvc2UodGhpcyksdGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwKX0sYWRkUGF0aDpmdW5jdGlvbihhLGIpe2lmKHRoaXMuc3RhdGVfIT1lYiYmdGhpcy5zdGF0ZV8hPWhiKXRocm93IEVycm9yKCJDYW5ub3QgYWRkIHBhdGhzIG9uY2Ugc3RhcnRlZC4iKTt2YXIgYj1tKGIpO2lmKHRoaXMub2JzZXJ2ZWRfLnB1c2goYSxiKSx0aGlzLnJlcG9ydENoYW5nZXNPbk9wZW5fKXt2YXIgYz10aGlzLm9ic2VydmVkXy5sZW5ndGgvMi0xO3RoaXMudmFsdWVfW2NdPWIuZ2V0VmFsdWVGcm9tKGEpfX0sYWRkT2JzZXJ2ZXI6ZnVuY3Rpb24oYSl7aWYodGhpcy5zdGF0ZV8hPWViJiZ0aGlzLnN0YXRlXyE9aGIpdGhyb3cgRXJyb3IoIkNhbm5vdCBhZGQgb2JzZXJ2ZXJzIG9uY2Ugc3RhcnRlZC4iKTtpZih0aGlzLm9ic2VydmVkXy5wdXNoKG1iLGEpLHRoaXMucmVwb3J0Q2hhbmdlc09uT3Blbl8pe3ZhciBiPXRoaXMub2JzZXJ2ZWRfLmxlbmd0aC8yLTE7dGhpcy52YWx1ZV9bYl09YS5vcGVuKHRoaXMuZGVsaXZlcix0aGlzKX19LHN0YXJ0UmVzZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXRlXyE9ZmIpdGhyb3cgRXJyb3IoIkNhbiBvbmx5IHJlc2V0IHdoaWxlIG9wZW4iKTt0aGlzLnN0YXRlXz1oYix0aGlzLmRpc2Nvbm5lY3RfKCl9LGZpbmlzaFJlc2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5zdGF0ZV8hPWhiKXRocm93IEVycm9yKCJDYW4gb25seSBmaW5pc2hSZXNldCBhZnRlciBzdGFydFJlc2V0Iik7cmV0dXJuIHRoaXMuc3RhdGVfPWZiLHRoaXMuY29ubmVjdF8oKSx0aGlzLnZhbHVlX30saXRlcmF0ZU9iamVjdHNfOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPTA7Yzx0aGlzLm9ic2VydmVkXy5sZW5ndGg7Yys9MiliPXRoaXMub2JzZXJ2ZWRfW2NdLGIhPT1tYiYmdGhpcy5vYnNlcnZlZF9bYysxXS5pdGVyYXRlT2JqZWN0cyhiLGEpfSxjaGVja186ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wO2Q8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2QrPTIpe3ZhciBlLGY9dGhpcy5vYnNlcnZlZF9bZF0saD10aGlzLm9ic2VydmVkX1tkKzFdO2lmKGY9PT1tYil7dmFyIGk9aDtlPXRoaXMuc3RhdGVfPT09ZWI/aS5vcGVuKHRoaXMuZGVsaXZlcix0aGlzKTppLmRpc2NhcmRDaGFuZ2VzKCl9ZWxzZSBlPWguZ2V0VmFsdWVGcm9tKGYpO2I/dGhpcy52YWx1ZV9bZC8yXT1lOmcoZSx0aGlzLnZhbHVlX1tkLzJdKXx8KGM9Y3x8W10sY1tkLzJdPXRoaXMudmFsdWVfW2QvMl0sdGhpcy52YWx1ZV9bZC8yXT1lKX1yZXR1cm4gYz8odGhpcy5yZXBvcnRfKFt0aGlzLnZhbHVlXyxjLHRoaXMub2JzZXJ2ZWRfXSksITApOiExfX0pLEYucHJvdG90eXBlPXtvcGVuOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuY2FsbGJhY2tfPWEsdGhpcy50YXJnZXRfPWIsdGhpcy52YWx1ZV89dGhpcy5nZXRWYWx1ZUZuXyh0aGlzLm9ic2VydmFibGVfLm9wZW4odGhpcy5vYnNlcnZlZENhbGxiYWNrXyx0aGlzKSksdGhpcy52YWx1ZV99LG9ic2VydmVkQ2FsbGJhY2tfOmZ1bmN0aW9uKGEpe2lmKGE9dGhpcy5nZXRWYWx1ZUZuXyhhKSwhZyhhLHRoaXMudmFsdWVfKSl7dmFyIGI9dGhpcy52YWx1ZV87dGhpcy52YWx1ZV89YSx0aGlzLmNhbGxiYWNrXy5jYWxsKHRoaXMudGFyZ2V0Xyx0aGlzLnZhbHVlXyxiKX19LGRpc2NhcmRDaGFuZ2VzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVfPXRoaXMuZ2V0VmFsdWVGbl8odGhpcy5vYnNlcnZhYmxlXy5kaXNjYXJkQ2hhbmdlcygpKSx0aGlzLnZhbHVlX30sZGVsaXZlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9ic2VydmFibGVfLmRlbGl2ZXIoKX0sc2V0VmFsdWU6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9dGhpcy5zZXRWYWx1ZUZuXyhhKSwhdGhpcy5kb250UGFzc1Rocm91Z2hTZXRfJiZ0aGlzLm9ic2VydmFibGVfLnNldFZhbHVlP3RoaXMub2JzZXJ2YWJsZV8uc2V0VmFsdWUoYSk6dm9pZCAwfSxjbG9zZTpmdW5jdGlvbigpe3RoaXMub2JzZXJ2YWJsZV8mJnRoaXMub2JzZXJ2YWJsZV8uY2xvc2UoKSx0aGlzLmNhbGxiYWNrXz12b2lkIDAsdGhpcy50YXJnZXRfPXZvaWQgMCx0aGlzLm9ic2VydmFibGVfPXZvaWQgMCx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5nZXRWYWx1ZUZuXz12b2lkIDAsdGhpcy5zZXRWYWx1ZUZuXz12b2lkIDB9fTt2YXIgbmI9e2FkZDohMCx1cGRhdGU6ITAsImRlbGV0ZSI6ITB9LG9iPTAscGI9MSxxYj0yLHJiPTM7SS5wcm90b3R5cGU9e2NhbGNFZGl0RGlzdGFuY2VzOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXtmb3IodmFyIGc9Zi1lKzEsaD1jLWIrMSxpPW5ldyBBcnJheShnKSxqPTA7Zz5qO2orKylpW2pdPW5ldyBBcnJheShoKSxpW2pdWzBdPWo7Zm9yKHZhciBrPTA7aD5rO2srKylpWzBdW2tdPWs7Zm9yKHZhciBqPTE7Zz5qO2orKylmb3IodmFyIGs9MTtoPms7aysrKWlmKHRoaXMuZXF1YWxzKGFbYitrLTFdLGRbZStqLTFdKSlpW2pdW2tdPWlbai0xXVtrLTFdO2Vsc2V7dmFyIGw9aVtqLTFdW2tdKzEsbT1pW2pdW2stMV0rMTtpW2pdW2tdPW0+bD9sOm19cmV0dXJuIGl9LHNwbGljZU9wZXJhdGlvbnNGcm9tRWRpdERpc3RhbmNlczpmdW5jdGlvbihhKXtmb3IodmFyIGI9YS5sZW5ndGgtMSxjPWFbMF0ubGVuZ3RoLTEsZD1hW2JdW2NdLGU9W107Yj4wfHxjPjA7KWlmKDAhPWIpaWYoMCE9Yyl7dmFyIGYsZz1hW2ItMV1bYy0xXSxoPWFbYi0xXVtjXSxpPWFbYl1bYy0xXTtmPWk+aD9nPmg/aDpnOmc+aT9pOmcsZj09Zz8oZz09ZD9lLnB1c2gob2IpOihlLnB1c2gocGIpLGQ9ZyksYi0tLGMtLSk6Zj09aD8oZS5wdXNoKHJiKSxiLS0sZD1oKTooZS5wdXNoKHFiKSxjLS0sZD1pKX1lbHNlIGUucHVzaChyYiksYi0tO2Vsc2UgZS5wdXNoKHFiKSxjLS07cmV0dXJuIGUucmV2ZXJzZSgpLGV9LGNhbGNTcGxpY2VzOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz0wLGg9MCxpPU1hdGgubWluKGMtYixmLWUpO2lmKDA9PWImJjA9PWUmJihnPXRoaXMuc2hhcmVkUHJlZml4KGEsZCxpKSksYz09YS5sZW5ndGgmJmY9PWQubGVuZ3RoJiYoaD10aGlzLnNoYXJlZFN1ZmZpeChhLGQsaS1nKSksYis9ZyxlKz1nLGMtPWgsZi09aCxjLWI9PTAmJmYtZT09MClyZXR1cm5bXTtpZihiPT1jKXtmb3IodmFyIGo9SChiLFtdLDApO2Y+ZTspai5yZW1vdmVkLnB1c2goZFtlKytdKTtyZXR1cm5bal19aWYoZT09ZilyZXR1cm5bSChiLFtdLGMtYildO2Zvcih2YXIgaz10aGlzLnNwbGljZU9wZXJhdGlvbnNGcm9tRWRpdERpc3RhbmNlcyh0aGlzLmNhbGNFZGl0RGlzdGFuY2VzKGEsYixjLGQsZSxmKSksaj12b2lkIDAsbD1bXSxtPWIsbj1lLG89MDtvPGsubGVuZ3RoO28rKylzd2l0Y2goa1tvXSl7Y2FzZSBvYjpqJiYobC5wdXNoKGopLGo9dm9pZCAwKSxtKyssbisrO2JyZWFrO2Nhc2UgcGI6anx8KGo9SChtLFtdLDApKSxqLmFkZGVkQ291bnQrKyxtKyssai5yZW1vdmVkLnB1c2goZFtuXSksbisrO2JyZWFrO2Nhc2UgcWI6anx8KGo9SChtLFtdLDApKSxqLmFkZGVkQ291bnQrKyxtKys7YnJlYWs7Y2FzZSByYjpqfHwoaj1IKG0sW10sMCkpLGoucmVtb3ZlZC5wdXNoKGRbbl0pLG4rK31yZXR1cm4gaiYmbC5wdXNoKGopLGx9LHNoYXJlZFByZWZpeDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA7Yz5kO2QrKylpZighdGhpcy5lcXVhbHMoYVtkXSxiW2RdKSlyZXR1cm4gZDtyZXR1cm4gY30sc2hhcmVkU3VmZml4OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1iLmxlbmd0aCxmPTA7Yz5mJiZ0aGlzLmVxdWFscyhhWy0tZF0sYlstLWVdKTspZisrO3JldHVybiBmfSxjYWxjdWxhdGVTcGxpY2VzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuY2FsY1NwbGljZXMoYSwwLGEubGVuZ3RoLGIsMCxiLmxlbmd0aCl9LGVxdWFsczpmdW5jdGlvbihhLGIpe3JldHVybiBhPT09Yn19O3ZhciBzYj1uZXcgSTthLk9ic2VydmVyPXgsYS5PYnNlcnZlci5ydW5FT01fPWJiLGEuT2JzZXJ2ZXIub2JzZXJ2ZXJTZW50aW5lbF89bWIsYS5PYnNlcnZlci5oYXNPYmplY3RPYnNlcnZlPVAsYS5BcnJheU9ic2VydmVyPUIsYS5BcnJheU9ic2VydmVyLmNhbGN1bGF0ZVNwbGljZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gc2IuY2FsY3VsYXRlU3BsaWNlcyhhLGIpfSxhLkFycmF5U3BsaWNlPUksYS5PYmplY3RPYnNlcnZlcj1BLGEuUGF0aE9ic2VydmVyPUMsYS5Db21wb3VuZE9ic2VydmVyPUQsYS5QYXRoPWwsYS5PYnNlcnZlclRyYW5zZm9ybT1GfSgidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbCYmZ2xvYmFsJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlP2dsb2JhbDp0aGlzfHx3aW5kb3cpLHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD17fSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYigpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgY2hyb21lJiZjaHJvbWUuYXBwJiZjaHJvbWUuYXBwLnJ1bnRpbWUpcmV0dXJuITE7aWYobmF2aWdhdG9yLmdldERldmljZVN0b3JhZ2UpcmV0dXJuITE7dHJ5e3ZhciBhPW5ldyBGdW5jdGlvbigicmV0dXJuIHRydWU7Iik7cmV0dXJuIGEoKX1jYXRjaChiKXtyZXR1cm4hMX19ZnVuY3Rpb24gYyhhKXtpZighYSl0aHJvdyBuZXcgRXJyb3IoIkFzc2VydGlvbiBmYWlsZWQiKX1mdW5jdGlvbiBkKGEsYil7Zm9yKHZhciBjPU4oYiksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO00oYSxlLE8oYixlKSl9cmV0dXJuIGF9ZnVuY3Rpb24gZShhLGIpe2Zvcih2YXIgYz1OKGIpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXTtzd2l0Y2goZSl7Y2FzZSJhcmd1bWVudHMiOmNhc2UiY2FsbGVyIjpjYXNlImxlbmd0aCI6Y2FzZSJuYW1lIjpjYXNlInByb3RvdHlwZSI6Y2FzZSJ0b1N0cmluZyI6Y29udGludWV9TShhLGUsTyhiLGUpKX1yZXR1cm4gYX1mdW5jdGlvbiBmKGEsYil7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspaWYoYltjXWluIGEpcmV0dXJuIGJbY119ZnVuY3Rpb24gZyhhLGIsYyl7UC52YWx1ZT1jLE0oYSxiLFApfWZ1bmN0aW9uIGgoYSl7dmFyIGI9YS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihhKSxjPUkuZ2V0KGIpO2lmKGMpcmV0dXJuIGM7dmFyIGQ9aChiKSxlPXYoZCk7cmV0dXJuIHMoYixlLGEpLGV9ZnVuY3Rpb24gaShhLGIpe3EoYSxiLCEwKX1mdW5jdGlvbiBqKGEsYil7cShiLGEsITEpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuL15vblthLXpdKyQvLnRlc3QoYSl9ZnVuY3Rpb24gbChhKXtyZXR1cm4vXlx3W2EtekEtWl8wLTldKiQvLnRlc3QoYSl9ZnVuY3Rpb24gbShhKXtyZXR1cm4gTCYmbChhKT9uZXcgRnVuY3Rpb24oInJldHVybiB0aGlzLl9faW1wbDRjZjFlNzgyaGdfXy4iK2EpOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19pbXBsNGNmMWU3ODJoZ19fW2FdfX1mdW5jdGlvbiBuKGEpe3JldHVybiBMJiZsKGEpP25ldyBGdW5jdGlvbigidiIsInRoaXMuX19pbXBsNGNmMWU3ODJoZ19fLiIrYSsiID0gdiIpOmZ1bmN0aW9uKGIpe3RoaXMuX19pbXBsNGNmMWU3ODJoZ19fW2FdPWJ9fWZ1bmN0aW9uIG8oYSl7cmV0dXJuIEwmJmwoYSk/bmV3IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcy5fX2ltcGw0Y2YxZTc4MmhnX18uIithKyIuYXBwbHkodGhpcy5fX2ltcGw0Y2YxZTc4MmhnX18sIGFyZ3VtZW50cykiKTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9faW1wbDRjZjFlNzgyaGdfX1thXS5hcHBseSh0aGlzLl9faW1wbDRjZjFlNzgyaGdfXyxhcmd1bWVudHMpfX1mdW5jdGlvbiBwKGEsYil7dHJ5e3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsYil9Y2F0Y2goYyl7cmV0dXJuIFJ9fWZ1bmN0aW9uIHEoYixjLGQpe2Zvcih2YXIgZT1OKGIpLGY9MDtmPGUubGVuZ3RoO2YrKyl7dmFyIGc9ZVtmXTtpZigicG9seW1lckJsYWNrTGlzdF8iIT09ZyYmIShnIGluIGN8fGIucG9seW1lckJsYWNrTGlzdF8mJmIucG9seW1lckJsYWNrTGlzdF9bZ10pKXtRJiZiLl9fbG9va3VwR2V0dGVyX18oZyk7dmFyIGgsaSxqPXAoYixnKTtpZihkJiYiZnVuY3Rpb24iPT10eXBlb2Ygai52YWx1ZSljW2ddPW8oZyk7ZWxzZXt2YXIgbD1rKGcpO2g9bD9hLmdldEV2ZW50SGFuZGxlckdldHRlcihnKTptKGcpLChqLndyaXRhYmxlfHxqLnNldHx8UykmJihpPWw/YS5nZXRFdmVudEhhbmRsZXJTZXR0ZXIoZyk6bihnKSksTShjLGcse2dldDpoLHNldDppLGNvbmZpZ3VyYWJsZTpqLmNvbmZpZ3VyYWJsZSxlbnVtZXJhYmxlOmouZW51bWVyYWJsZX0pfX19fWZ1bmN0aW9uIHIoYSxiLGMpe3ZhciBkPWEucHJvdG90eXBlO3MoZCxiLGMpLGUoYixhKX1mdW5jdGlvbiBzKGEsYixkKXt2YXIgZT1iLnByb3RvdHlwZTtjKHZvaWQgMD09PUkuZ2V0KGEpKSxJLnNldChhLGIpLEouc2V0KGUsYSksaShhLGUpLGQmJmooZSxkKSxnKGUsImNvbnN0cnVjdG9yIixiKSxiLnByb3RvdHlwZT1lfWZ1bmN0aW9uIHQoYSxiKXtyZXR1cm4gSS5nZXQoYi5wcm90b3R5cGUpPT09YX1mdW5jdGlvbiB1KGEpe3ZhciBiPU9iamVjdC5nZXRQcm90b3R5cGVPZihhKSxjPWgoYiksZD12KGMpO3JldHVybiBzKGIsZCxhKSxkfWZ1bmN0aW9uIHYoYSl7ZnVuY3Rpb24gYihiKXthLmNhbGwodGhpcyxiKX12YXIgYz1PYmplY3QuY3JlYXRlKGEucHJvdG90eXBlKTtyZXR1cm4gYy5jb25zdHJ1Y3Rvcj1iLGIucHJvdG90eXBlPWMsYn1mdW5jdGlvbiB3KGEpe3JldHVybiBhJiZhLl9faW1wbDRjZjFlNzgyaGdfX31mdW5jdGlvbiB4KGEpe3JldHVybiF3KGEpfWZ1bmN0aW9uIHkoYSl7cmV0dXJuIG51bGw9PT1hP251bGw6KGMoeChhKSksYS5fX3dyYXBwZXI4ZTNkZDkzYTYwX198fChhLl9fd3JhcHBlcjhlM2RkOTNhNjBfXz1uZXcoaChhKSkoYSkpKX1mdW5jdGlvbiB6KGEpe3JldHVybiBudWxsPT09YT9udWxsOihjKHcoYSkpLGEuX19pbXBsNGNmMWU3ODJoZ19fKX1mdW5jdGlvbiBBKGEpe3JldHVybiBhLl9faW1wbDRjZjFlNzgyaGdfX31mdW5jdGlvbiBCKGEsYil7Yi5fX2ltcGw0Y2YxZTc4MmhnX189YSxhLl9fd3JhcHBlcjhlM2RkOTNhNjBfXz1ifWZ1bmN0aW9uIEMoYSl7cmV0dXJuIGEmJncoYSk/eihhKTphfWZ1bmN0aW9uIEQoYSl7cmV0dXJuIGEmJiF3KGEpP3koYSk6YX1mdW5jdGlvbiBFKGEsYil7bnVsbCE9PWImJihjKHgoYSkpLGModm9pZCAwPT09Ynx8dyhiKSksYS5fX3dyYXBwZXI4ZTNkZDkzYTYwX189Yil9ZnVuY3Rpb24gRihhLGIsYyl7VC5nZXQ9YyxNKGEucHJvdG90eXBlLGIsVCl9ZnVuY3Rpb24gRyhhLGIpe0YoYSxiLGZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcy5fX2ltcGw0Y2YxZTc4MmhnX19bYl0pfSl9ZnVuY3Rpb24gSChhLGIpe2EuZm9yRWFjaChmdW5jdGlvbihhKXtiLmZvckVhY2goZnVuY3Rpb24oYil7YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXt2YXIgYT1EKHRoaXMpO3JldHVybiBhW2JdLmFwcGx5KGEsYXJndW1lbnRzKX19KX0pfXZhciBJPW5ldyBXZWFrTWFwLEo9bmV3IFdlYWtNYXAsSz1PYmplY3QuY3JlYXRlKG51bGwpLEw9YigpLE09T2JqZWN0LmRlZmluZVByb3BlcnR5LE49T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMsTz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFA9e3ZhbHVlOnZvaWQgMCxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMH07Tih3aW5kb3cpO3ZhciBRPS9GaXJlZm94Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLFI9e2dldDpmdW5jdGlvbigpe30sc2V0OmZ1bmN0aW9uKCl7fSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0sUz1mdW5jdGlvbigpe3ZhciBhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTm9kZS5wcm90b3R5cGUsIm5vZGVUeXBlIik7cmV0dXJuISFhJiYic2V0ImluIGF9KCksVD17Z2V0OnZvaWQgMCxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH07YS5hc3NlcnQ9YyxhLmNvbnN0cnVjdG9yVGFibGU9SSxhLmRlZmluZUdldHRlcj1GLGEuZGVmaW5lV3JhcEdldHRlcj1HLGEuZm9yd2FyZE1ldGhvZHNUb1dyYXBwZXI9SCxhLmlzV3JhcHBlcj13LGEuaXNXcmFwcGVyRm9yPXQsYS5taXhpbj1kLGEubmF0aXZlUHJvdG90eXBlVGFibGU9SixhLm9uZU9mPWYsYS5yZWdpc3Rlck9iamVjdD11LGEucmVnaXN0ZXJXcmFwcGVyPXIsYS5yZXdyYXA9RSxhLnNldFdyYXBwZXI9QixhLnVuc2FmZVVud3JhcD1BLGEudW53cmFwPXosYS51bndyYXBJZk5lZWRlZD1DLGEud3JhcD15LGEud3JhcElmTmVlZGVkPUQsYS53cmFwcGVycz1LfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKCl7Zz0hMTt2YXIgYT1mLnNsaWNlKDApO2Y9W107Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXSgpfWZ1bmN0aW9uIGMoYSl7Zi5wdXNoKGEpLGd8fChnPSEwLGQoYiwwKSl9dmFyIGQsZT13aW5kb3cuTXV0YXRpb25PYnNlcnZlcixmPVtdLGc9ITE7aWYoZSl7dmFyIGg9MSxpPW5ldyBlKGIpLGo9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoaCk7aS5vYnNlcnZlKGose2NoYXJhY3RlckRhdGE6ITB9KSxkPWZ1bmN0aW9uKCl7aD0oaCsxKSUyLGouZGF0YT1ofX1lbHNlIGQ9d2luZG93LnNldEltbWVkaWF0ZXx8d2luZG93LnNldFRpbWVvdXQ7YS5zZXRFbmRPZk1pY3JvdGFzaz1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKCl7cHx8KGsoYykscD0hMCl9ZnVuY3Rpb24gYygpe2ZvcihwPSExO28ubGVuZ3RoOyl7dmFyIGE9bztvPVtdLGEuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLnVpZF8tYi51aWRffSk7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPWFbYl0sZD1jLnRha2VSZWNvcmRzKCk7ZihjKSxkLmxlbmd0aCYmYy5jYWxsYmFja18oZCxjKX19fWZ1bmN0aW9uIGQoYSxiKXt0aGlzLnR5cGU9YSx0aGlzLnRhcmdldD1iLHRoaXMuYWRkZWROb2Rlcz1uZXcgbS5Ob2RlTGlzdCx0aGlzLnJlbW92ZWROb2Rlcz1uZXcgbS5Ob2RlTGlzdCx0aGlzLnByZXZpb3VzU2libGluZz1udWxsLHRoaXMubmV4dFNpYmxpbmc9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWU9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWVzcGFjZT1udWxsLHRoaXMub2xkVmFsdWU9bnVsbH1mdW5jdGlvbiBlKGEsYil7Zm9yKDthO2E9YS5wYXJlbnROb2RlKXt2YXIgYz1uLmdldChhKTtpZihjKWZvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO2Uub3B0aW9ucy5zdWJ0cmVlJiZlLmFkZFRyYW5zaWVudE9ic2VydmVyKGIpfX19ZnVuY3Rpb24gZihhKXtmb3IodmFyIGI9MDtiPGEubm9kZXNfLmxlbmd0aDtiKyspe3ZhciBjPWEubm9kZXNfW2JdLGQ9bi5nZXQoYyk7aWYoIWQpcmV0dXJuO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdO2Yub2JzZXJ2ZXI9PT1hJiZmLnJlbW92ZVRyYW5zaWVudE9ic2VydmVycygpfX19ZnVuY3Rpb24gZyhhLGMsZSl7Zm9yKHZhciBmPU9iamVjdC5jcmVhdGUobnVsbCksZz1PYmplY3QuY3JlYXRlKG51bGwpLGg9YTtoO2g9aC5wYXJlbnROb2RlKXt2YXIgaT1uLmdldChoKTtpZihpKWZvcih2YXIgaj0wO2o8aS5sZW5ndGg7aisrKXt2YXIgaz1pW2pdLGw9ay5vcHRpb25zO2lmKChoPT09YXx8bC5zdWJ0cmVlKSYmISgiYXR0cmlidXRlcyI9PT1jJiYhbC5hdHRyaWJ1dGVzfHwiYXR0cmlidXRlcyI9PT1jJiZsLmF0dHJpYnV0ZUZpbHRlciYmKG51bGwhPT1lLm5hbWVzcGFjZXx8LTE9PT1sLmF0dHJpYnV0ZUZpbHRlci5pbmRleE9mKGUubmFtZSkpfHwiY2hhcmFjdGVyRGF0YSI9PT1jJiYhbC5jaGFyYWN0ZXJEYXRhfHwiY2hpbGRMaXN0Ij09PWMmJiFsLmNoaWxkTGlzdCkpe3ZhciBtPWsub2JzZXJ2ZXI7ZlttLnVpZF9dPW0sKCJhdHRyaWJ1dGVzIj09PWMmJmwuYXR0cmlidXRlT2xkVmFsdWV8fCJjaGFyYWN0ZXJEYXRhIj09PWMmJmwuY2hhcmFjdGVyRGF0YU9sZFZhbHVlKSYmKGdbbS51aWRfXT1lLm9sZFZhbHVlKX19fXZhciBwPSExO2Zvcih2YXIgcSBpbiBmKXt2YXIgbT1mW3FdLHI9bmV3IGQoYyxhKTsibmFtZSJpbiBlJiYibmFtZXNwYWNlImluIGUmJihyLmF0dHJpYnV0ZU5hbWU9ZS5uYW1lLHIuYXR0cmlidXRlTmFtZXNwYWNlPWUubmFtZXNwYWNlKSxlLmFkZGVkTm9kZXMmJihyLmFkZGVkTm9kZXM9ZS5hZGRlZE5vZGVzKSxlLnJlbW92ZWROb2RlcyYmKHIucmVtb3ZlZE5vZGVzPWUucmVtb3ZlZE5vZGVzKSxlLnByZXZpb3VzU2libGluZyYmKHIucHJldmlvdXNTaWJsaW5nPWUucHJldmlvdXNTaWJsaW5nKSxlLm5leHRTaWJsaW5nJiYoci5uZXh0U2libGluZz1lLm5leHRTaWJsaW5nKSx2b2lkIDAhPT1nW3FdJiYoci5vbGRWYWx1ZT1nW3FdKSxtLnJlY29yZHNfLmxlbmd0aHx8KG8ucHVzaChtKSxwPSEwKSxtLnJlY29yZHNfLnB1c2gocil9cCYmYigpfWZ1bmN0aW9uIGgoYSl7aWYodGhpcy5jaGlsZExpc3Q9ISFhLmNoaWxkTGlzdCx0aGlzLnN1YnRyZWU9ISFhLnN1YnRyZWUsdGhpcy5hdHRyaWJ1dGVzPSJhdHRyaWJ1dGVzImluIGF8fCEoImF0dHJpYnV0ZU9sZFZhbHVlImluIGF8fCJhdHRyaWJ1dGVGaWx0ZXIiaW4gYSk/ISFhLmF0dHJpYnV0ZXM6ITAsdGhpcy5jaGFyYWN0ZXJEYXRhPSJjaGFyYWN0ZXJEYXRhT2xkVmFsdWUiaW4gYSYmISgiY2hhcmFjdGVyRGF0YSJpbiBhKT8hMDohIWEuY2hhcmFjdGVyRGF0YSwhdGhpcy5hdHRyaWJ1dGVzJiYoYS5hdHRyaWJ1dGVPbGRWYWx1ZXx8ImF0dHJpYnV0ZUZpbHRlciJpbiBhKXx8IXRoaXMuY2hhcmFjdGVyRGF0YSYmYS5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUpdGhyb3cgbmV3IFR5cGVFcnJvcjtpZih0aGlzLmNoYXJhY3RlckRhdGE9ISFhLmNoYXJhY3RlckRhdGEsdGhpcy5hdHRyaWJ1dGVPbGRWYWx1ZT0hIWEuYXR0cmlidXRlT2xkVmFsdWUsdGhpcy5jaGFyYWN0ZXJEYXRhT2xkVmFsdWU9ISFhLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSwiYXR0cmlidXRlRmlsdGVyImluIGEpe2lmKG51bGw9PWEuYXR0cmlidXRlRmlsdGVyfHwib2JqZWN0IiE9dHlwZW9mIGEuYXR0cmlidXRlRmlsdGVyKXRocm93IG5ldyBUeXBlRXJyb3I7dGhpcy5hdHRyaWJ1dGVGaWx0ZXI9cS5jYWxsKGEuYXR0cmlidXRlRmlsdGVyKX1lbHNlIHRoaXMuYXR0cmlidXRlRmlsdGVyPW51bGx9ZnVuY3Rpb24gaShhKXt0aGlzLmNhbGxiYWNrXz1hLHRoaXMubm9kZXNfPVtdLHRoaXMucmVjb3Jkc189W10sdGhpcy51aWRfPSsrcn1mdW5jdGlvbiBqKGEsYixjKXt0aGlzLm9ic2VydmVyPWEsdGhpcy50YXJnZXQ9Yix0aGlzLm9wdGlvbnM9Yyx0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W119dmFyIGs9YS5zZXRFbmRPZk1pY3JvdGFzayxsPWEud3JhcElmTmVlZGVkLG09YS53cmFwcGVycyxuPW5ldyBXZWFrTWFwLG89W10scD0hMSxxPUFycmF5LnByb3RvdHlwZS5zbGljZSxyPTA7aS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmksb2JzZXJ2ZTpmdW5jdGlvbihhLGIpe2E9bChhKTt2YXIgYyxkPW5ldyBoKGIpLGU9bi5nZXQoYSk7ZXx8bi5zZXQoYSxlPVtdKTtmb3IodmFyIGY9MDtmPGUubGVuZ3RoO2YrKyllW2ZdLm9ic2VydmVyPT09dGhpcyYmKGM9ZVtmXSxjLnJlbW92ZVRyYW5zaWVudE9ic2VydmVycygpLGMub3B0aW9ucz1kKTtjfHwoYz1uZXcgaih0aGlzLGEsZCksZS5wdXNoKGMpLHRoaXMubm9kZXNfLnB1c2goYSkpfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy5ub2Rlc18uZm9yRWFjaChmdW5jdGlvbihhKXtmb3IodmFyIGI9bi5nZXQoYSksYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdO2lmKGQub2JzZXJ2ZXI9PT10aGlzKXtiLnNwbGljZShjLDEpO2JyZWFrfX19LHRoaXMpLHRoaXMucmVjb3Jkc189W119LHRha2VSZWNvcmRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5yZWNvcmRzXztyZXR1cm4gdGhpcy5yZWNvcmRzXz1bXSxhfX0sai5wcm90b3R5cGU9e2FkZFRyYW5zaWVudE9ic2VydmVyOmZ1bmN0aW9uKGEpe2lmKGEhPT10aGlzLnRhcmdldCl7dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzLnB1c2goYSk7dmFyIGI9bi5nZXQoYSk7Ynx8bi5zZXQoYSxiPVtdKSxiLnB1c2godGhpcyl9fSxyZW1vdmVUcmFuc2llbnRPYnNlcnZlcnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM7dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWZvcih2YXIgYz1hW2JdLGQ9bi5nZXQoYyksZT0wO2U8ZC5sZW5ndGg7ZSsrKWlmKGRbZV09PT10aGlzKXtkLnNwbGljZShlLDEpO2JyZWFrfX19LGEuZW5xdWV1ZU11dGF0aW9uPWcsYS5yZWdpc3RlclRyYW5zaWVudE9ic2VydmVycz1lLGEud3JhcHBlcnMuTXV0YXRpb25PYnNlcnZlcj1pLGEud3JhcHBlcnMuTXV0YXRpb25SZWNvcmQ9ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIpe3RoaXMucm9vdD1hLHRoaXMucGFyZW50PWJ9ZnVuY3Rpb24gYyhhLGIpe2lmKGEudHJlZVNjb3BlXyE9PWIpe2EudHJlZVNjb3BlXz1iO2Zvcih2YXIgZD1hLnNoYWRvd1Jvb3Q7ZDtkPWQub2xkZXJTaGFkb3dSb290KWQudHJlZVNjb3BlXy5wYXJlbnQ9Yjtmb3IodmFyIGU9YS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWMoZSxiKX19ZnVuY3Rpb24gZChjKXtpZihjIGluc3RhbmNlb2YgYS53cmFwcGVycy5XaW5kb3csYy50cmVlU2NvcGVfKXJldHVybiBjLnRyZWVTY29wZV87dmFyIGUsZj1jLnBhcmVudE5vZGU7cmV0dXJuIGU9Zj9kKGYpOm5ldyBiKGMsbnVsbCksYy50cmVlU2NvcGVfPWV9Yi5wcm90b3R5cGU9e2dldCByZW5kZXJlcigpe3JldHVybiB0aGlzLnJvb3QgaW5zdGFuY2VvZiBhLndyYXBwZXJzLlNoYWRvd1Jvb3Q/YS5nZXRSZW5kZXJlckZvckhvc3QodGhpcy5yb290Lmhvc3QpOm51bGx9LGNvbnRhaW5zOmZ1bmN0aW9uKGEpe2Zvcig7YTthPWEucGFyZW50KWlmKGE9PT10aGlzKXJldHVybiEwO3JldHVybiExfX0sYS5UcmVlU2NvcGU9YixhLmdldFRyZWVTY29wZT1kLGEuc2V0VHJlZVNjb3BlPWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBULlNoYWRvd1Jvb3R9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gTShhKS5yb290fWZ1bmN0aW9uIGQoYSxkKXt2YXIgaD1bXSxpPWE7Zm9yKGgucHVzaChpKTtpOyl7dmFyIGo9ZyhpKTtpZihqJiZqLmxlbmd0aD4wKXtmb3IodmFyIGs9MDtrPGoubGVuZ3RoO2srKyl7dmFyIG09altrXTtpZihmKG0pKXt2YXIgbj1jKG0pLG89bi5vbGRlclNoYWRvd1Jvb3Q7byYmaC5wdXNoKG8pfWgucHVzaChtKX1pPWpbai5sZW5ndGgtMV19ZWxzZSBpZihiKGkpKXtpZihsKGEsaSkmJmUoZCkpYnJlYWs7aT1pLmhvc3QsaC5wdXNoKGkpfWVsc2UgaT1pLnBhcmVudE5vZGUsaSYmaC5wdXNoKGkpfXJldHVybiBofWZ1bmN0aW9uIGUoYSl7aWYoIWEpcmV0dXJuITE7c3dpdGNoKGEudHlwZSl7Y2FzZSJhYm9ydCI6Y2FzZSJlcnJvciI6Y2FzZSJzZWxlY3QiOmNhc2UiY2hhbmdlIjpjYXNlImxvYWQiOmNhc2UicmVzZXQiOmNhc2UicmVzaXplIjpjYXNlInNjcm9sbCI6Y2FzZSJzZWxlY3RzdGFydCI6cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gZihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEhUTUxTaGFkb3dFbGVtZW50fWZ1bmN0aW9uIGcoYil7cmV0dXJuIGEuZ2V0RGVzdGluYXRpb25JbnNlcnRpb25Qb2ludHMoYil9ZnVuY3Rpb24gaChhLGIpe2lmKDA9PT1hLmxlbmd0aClyZXR1cm4gYjtiIGluc3RhbmNlb2YgVC5XaW5kb3cmJihiPWIuZG9jdW1lbnQpO2Zvcih2YXIgYz1NKGIpLGQ9YVswXSxlPU0oZCksZj1qKGMsZSksZz0wO2c8YS5sZW5ndGg7ZysrKXt2YXIgaD1hW2ddO2lmKE0oaCk9PT1mKXJldHVybiBofXJldHVybiBhW2EubGVuZ3RoLTFdfWZ1bmN0aW9uIGkoYSl7Zm9yKHZhciBiPVtdO2E7YT1hLnBhcmVudCliLnB1c2goYSk7cmV0dXJuIGJ9ZnVuY3Rpb24gaihhLGIpe2Zvcih2YXIgYz1pKGEpLGQ9aShiKSxlPW51bGw7Yy5sZW5ndGg+MCYmZC5sZW5ndGg+MDspe3ZhciBmPWMucG9wKCksZz1kLnBvcCgpO2lmKGYhPT1nKWJyZWFrO2U9Zn1yZXR1cm4gZX1mdW5jdGlvbiBrKGEsYixjKXtiIGluc3RhbmNlb2YgVC5XaW5kb3cmJihiPWIuZG9jdW1lbnQpO3ZhciBlLGY9TShiKSxnPU0oYyksaD1kKGMsYSksZT1qKGYsZyk7ZXx8KGU9Zy5yb290KTtmb3IodmFyIGk9ZTtpO2k9aS5wYXJlbnQpZm9yKHZhciBrPTA7azxoLmxlbmd0aDtrKyspe3ZhciBsPWhba107aWYoTShsKT09PWkpcmV0dXJuIGx9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbChhLGIpe3JldHVybiBNKGEpPT09TShiKX1mdW5jdGlvbiBtKGEpe2lmKCFWLmdldChhKSYmKFYuc2V0KGEsITApLG8oUyhhKSxTKGEudGFyZ2V0KSksSykpe3ZhciBiPUs7dGhyb3cgSz1udWxsLGJ9fWZ1bmN0aW9uIG4oYSl7c3dpdGNoKGEudHlwZSl7Y2FzZSJsb2FkIjpjYXNlImJlZm9yZXVubG9hZCI6Y2FzZSJ1bmxvYWQiOnJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIG8oYixjKXtpZihXLmdldChiKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWRTdGF0ZUVycm9yIik7Vy5zZXQoYiwhMCksYS5yZW5kZXJBbGxQZW5kaW5nKCk7dmFyIGUsZixnO2lmKG4oYikmJiFiLmJ1YmJsZXMpe3ZhciBoPWM7aCBpbnN0YW5jZW9mIFQuRG9jdW1lbnQmJihnPWguZGVmYXVsdFZpZXcpJiYoZj1oLGU9W10pfWlmKCFlKWlmKGMgaW5zdGFuY2VvZiBULldpbmRvdylnPWMsZT1bXTtlbHNlIGlmKGU9ZChjLGIpLCFuKGIpKXt2YXIgaD1lW2UubGVuZ3RoLTFdO2ggaW5zdGFuY2VvZiBULkRvY3VtZW50JiYoZz1oLmRlZmF1bHRWaWV3KX1yZXR1cm4gY2Iuc2V0KGIsZSkscChiLGUsZyxmKSYmcShiLGUsZyxmKSYmcihiLGUsZyxmKSwkLnNldChiLGRiKSxZLmRlbGV0ZShiLG51bGwpLFcuZGVsZXRlKGIpLGIuZGVmYXVsdFByZXZlbnRlZH1mdW5jdGlvbiBwKGEsYixjLGQpe3ZhciBlPWViO2lmKGMmJiFzKGMsYSxlLGIsZCkpcmV0dXJuITE7Zm9yKHZhciBmPWIubGVuZ3RoLTE7Zj4wO2YtLSlpZighcyhiW2ZdLGEsZSxiLGQpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHEoYSxiLGMsZCl7dmFyIGU9ZmIsZj1iWzBdfHxjO3JldHVybiBzKGYsYSxlLGIsZCl9ZnVuY3Rpb24gcihhLGIsYyxkKXtmb3IodmFyIGU9Z2IsZj0xO2Y8Yi5sZW5ndGg7ZisrKWlmKCFzKGJbZl0sYSxlLGIsZCkpcmV0dXJuO2MmJmIubGVuZ3RoPjAmJnMoYyxhLGUsYixkKX1mdW5jdGlvbiBzKGEsYixjLGQsZSl7dmFyIGY9VS5nZXQoYSk7aWYoIWYpcmV0dXJuITA7dmFyIGc9ZXx8aChkLGEpO2lmKGc9PT1hKXtpZihjPT09ZWIpcmV0dXJuITA7Yz09PWdiJiYoYz1mYil9ZWxzZSBpZihjPT09Z2ImJiFiLmJ1YmJsZXMpcmV0dXJuITA7aWYoInJlbGF0ZWRUYXJnZXQiaW4gYil7dmFyIGk9UihiKSxqPWkucmVsYXRlZFRhcmdldDtpZihqKXtpZihqIGluc3RhbmNlb2YgT2JqZWN0JiZqLmFkZEV2ZW50TGlzdGVuZXIpe3ZhciBsPVMoaiksbT1rKGIsYSxsKTtpZihtPT09ZylyZXR1cm4hMH1lbHNlIG09bnVsbDtaLnNldChiLG0pfX0kLnNldChiLGMpO3ZhciBuPWIudHlwZSxvPSExO1guc2V0KGIsZyksWS5zZXQoYixhKSxmLmRlcHRoKys7Zm9yKHZhciBwPTAscT1mLmxlbmd0aDtxPnA7cCsrKXt2YXIgcj1mW3BdO2lmKHIucmVtb3ZlZClvPSEwO2Vsc2UgaWYoIShyLnR5cGUhPT1ufHwhci5jYXB0dXJlJiZjPT09ZWJ8fHIuY2FwdHVyZSYmYz09PWdiKSl0cnl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHIuaGFuZGxlcj9yLmhhbmRsZXIuY2FsbChhLGIpOnIuaGFuZGxlci5oYW5kbGVFdmVudChiKSxhYi5nZXQoYikpcmV0dXJuITF9Y2F0Y2gocyl7S3x8KEs9cyl9fWlmKGYuZGVwdGgtLSxvJiYwPT09Zi5kZXB0aCl7dmFyIHQ9Zi5zbGljZSgpO2YubGVuZ3RoPTA7Zm9yKHZhciBwPTA7cDx0Lmxlbmd0aDtwKyspdFtwXS5yZW1vdmVkfHxmLnB1c2godFtwXSl9cmV0dXJuIV8uZ2V0KGIpfWZ1bmN0aW9uIHQoYSxiLGMpe3RoaXMudHlwZT1hLHRoaXMuaGFuZGxlcj1iLHRoaXMuY2FwdHVyZT1Cb29sZWFuKGMpfWZ1bmN0aW9uIHUoYSxiKXtpZighKGEgaW5zdGFuY2VvZiBoYikpcmV0dXJuIFMoeShoYiwiRXZlbnQiLGEsYikpO3ZhciBjPWE7cmV0dXJuIHNifHwiYmVmb3JldW5sb2FkIiE9PWMudHlwZXx8dGhpcyBpbnN0YW5jZW9mIHo/dm9pZCBQKGMsdGhpcyk6bmV3IHooYyl9ZnVuY3Rpb24gdihhKXtyZXR1cm4gYSYmYS5yZWxhdGVkVGFyZ2V0P09iamVjdC5jcmVhdGUoYSx7cmVsYXRlZFRhcmdldDp7dmFsdWU6UihhLnJlbGF0ZWRUYXJnZXQpfX0pOmF9ZnVuY3Rpb24gdyhhLGIsYyl7dmFyIGQ9d2luZG93W2FdLGU9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYiBpbnN0YW5jZW9mIGQ/dm9pZCBQKGIsdGhpcyk6Uyh5KGQsYSxiLGMpKX07aWYoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksYyYmTihlLnByb3RvdHlwZSxjKSxkKXRyeXtPKGQsZSxuZXcgZCgidGVtcCIpKX1jYXRjaChmKXtPKGQsZSxkb2N1bWVudC5jcmVhdGVFdmVudChhKSl9cmV0dXJuIGV9ZnVuY3Rpb24geChhLGIpe3JldHVybiBmdW5jdGlvbigpe2FyZ3VtZW50c1tiXT1SKGFyZ3VtZW50c1tiXSk7dmFyIGM9Uih0aGlzKTtjW2FdLmFwcGx5KGMsYXJndW1lbnRzKX19ZnVuY3Rpb24geShhLGIsYyxkKXtpZihxYilyZXR1cm4gbmV3IGEoYyx2KGQpKTt2YXIgZT1SKGRvY3VtZW50LmNyZWF0ZUV2ZW50KGIpKSxmPXBiW2JdLGc9W2NdO3JldHVybiBPYmplY3Qua2V5cyhmKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPW51bGwhPWQmJmEgaW4gZD9kW2FdOmZbYV07InJlbGF0ZWRUYXJnZXQiPT09YSYmKGI9UihiKSksZy5wdXNoKGIpfSksZVsiaW5pdCIrYl0uYXBwbHkoZSxnKSxlfWZ1bmN0aW9uIHooYSl7dS5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gQShhKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYT8hMDphJiZhLmhhbmRsZUV2ZW50fWZ1bmN0aW9uIEIoYSl7c3dpdGNoKGEpe2Nhc2UiRE9NQXR0ck1vZGlmaWVkIjpjYXNlIkRPTUF0dHJpYnV0ZU5hbWVDaGFuZ2VkIjpjYXNlIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCI6Y2FzZSJET01FbGVtZW50TmFtZUNoYW5nZWQiOmNhc2UiRE9NTm9kZUluc2VydGVkIjpjYXNlIkRPTU5vZGVJbnNlcnRlZEludG9Eb2N1bWVudCI6Y2FzZSJET01Ob2RlUmVtb3ZlZCI6Y2FzZSJET01Ob2RlUmVtb3ZlZEZyb21Eb2N1bWVudCI6Y2FzZSJET01TdWJ0cmVlTW9kaWZpZWQiOnJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIEMoYSl7UChhLHRoaXMpfWZ1bmN0aW9uIEQoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBULlNoYWRvd1Jvb3QmJihhPWEuaG9zdCksUihhKX1mdW5jdGlvbiBFKGEsYil7dmFyIGM9VS5nZXQoYSk7aWYoYylmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKylpZighY1tkXS5yZW1vdmVkJiZjW2RdLnR5cGU9PT1iKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIEYoYSxiKXtmb3IodmFyIGM9UihhKTtjO2M9Yy5wYXJlbnROb2RlKWlmKEUoUyhjKSxiKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBHKGEpe0woYSx1Yil9ZnVuY3Rpb24gSChiLGMsZSxmKXthLnJlbmRlckFsbFBlbmRpbmcoKTt2YXIgZz1TKHZiLmNhbGwoUShjKSxlLGYpKTtpZighZylyZXR1cm4gbnVsbDt2YXIgaT1kKGcsbnVsbCksaj1pLmxhc3RJbmRleE9mKGIpO3JldHVybi0xPT1qP251bGw6KGk9aS5zbGljZSgwLGopLGgoaSxiKSl9ZnVuY3Rpb24gSShhKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj1iYi5nZXQodGhpcyk7cmV0dXJuIGImJmJbYV0mJmJbYV0udmFsdWV8fG51bGx9fWZ1bmN0aW9uIEooYSl7dmFyIGI9YS5zbGljZSgyKTsKcmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPWJiLmdldCh0aGlzKTtkfHwoZD1PYmplY3QuY3JlYXRlKG51bGwpLGJiLnNldCh0aGlzLGQpKTt2YXIgZT1kW2FdO2lmKGUmJnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGUud3JhcHBlZCwhMSksImZ1bmN0aW9uIj09dHlwZW9mIGMpe3ZhciBmPWZ1bmN0aW9uKGIpe3ZhciBkPWMuY2FsbCh0aGlzLGIpO2Q9PT0hMT9iLnByZXZlbnREZWZhdWx0KCk6Im9uYmVmb3JldW5sb2FkIj09PWEmJiJzdHJpbmciPT10eXBlb2YgZCYmKGIucmV0dXJuVmFsdWU9ZCl9O3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihiLGYsITEpLGRbYV09e3ZhbHVlOmMsd3JhcHBlZDpmfX19fXZhciBLLEw9YS5mb3J3YXJkTWV0aG9kc1RvV3JhcHBlcixNPWEuZ2V0VHJlZVNjb3BlLE49YS5taXhpbixPPWEucmVnaXN0ZXJXcmFwcGVyLFA9YS5zZXRXcmFwcGVyLFE9YS51bnNhZmVVbndyYXAsUj1hLnVud3JhcCxTPWEud3JhcCxUPWEud3JhcHBlcnMsVT0obmV3IFdlYWtNYXAsbmV3IFdlYWtNYXApLFY9bmV3IFdlYWtNYXAsVz1uZXcgV2Vha01hcCxYPW5ldyBXZWFrTWFwLFk9bmV3IFdlYWtNYXAsWj1uZXcgV2Vha01hcCwkPW5ldyBXZWFrTWFwLF89bmV3IFdlYWtNYXAsYWI9bmV3IFdlYWtNYXAsYmI9bmV3IFdlYWtNYXAsY2I9bmV3IFdlYWtNYXAsZGI9MCxlYj0xLGZiPTIsZ2I9Mzt0LnByb3RvdHlwZT17ZXF1YWxzOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhbmRsZXI9PT1hLmhhbmRsZXImJnRoaXMudHlwZT09PWEudHlwZSYmdGhpcy5jYXB0dXJlPT09YS5jYXB0dXJlfSxnZXQgcmVtb3ZlZCgpe3JldHVybiBudWxsPT09dGhpcy5oYW5kbGVyfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXI9bnVsbH19O3ZhciBoYj13aW5kb3cuRXZlbnQ7aGIucHJvdG90eXBlLnBvbHltZXJCbGFja0xpc3RfPXtyZXR1cm5WYWx1ZTohMCxrZXlMb2NhdGlvbjohMH0sdS5wcm90b3R5cGU9e2dldCB0YXJnZXQoKXtyZXR1cm4gWC5nZXQodGhpcyl9LGdldCBjdXJyZW50VGFyZ2V0KCl7cmV0dXJuIFkuZ2V0KHRoaXMpfSxnZXQgZXZlbnRQaGFzZSgpe3JldHVybiAkLmdldCh0aGlzKX0sZ2V0IHBhdGgoKXt2YXIgYT1jYi5nZXQodGhpcyk7cmV0dXJuIGE/YS5zbGljZSgpOltdfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXtfLnNldCh0aGlzLCEwKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7Xy5zZXQodGhpcywhMCksYWIuc2V0KHRoaXMsITApfX0sTyhoYix1LGRvY3VtZW50LmNyZWF0ZUV2ZW50KCJFdmVudCIpKTt2YXIgaWI9dygiVUlFdmVudCIsdSksamI9dygiQ3VzdG9tRXZlbnQiLHUpLGtiPXtnZXQgcmVsYXRlZFRhcmdldCgpe3ZhciBhPVouZ2V0KHRoaXMpO3JldHVybiB2b2lkIDAhPT1hP2E6UyhSKHRoaXMpLnJlbGF0ZWRUYXJnZXQpfX0sbGI9Tih7aW5pdE1vdXNlRXZlbnQ6eCgiaW5pdE1vdXNlRXZlbnQiLDE0KX0sa2IpLG1iPU4oe2luaXRGb2N1c0V2ZW50OngoImluaXRGb2N1c0V2ZW50Iiw1KX0sa2IpLG5iPXcoIk1vdXNlRXZlbnQiLGliLGxiKSxvYj13KCJGb2N1c0V2ZW50IixpYixtYikscGI9T2JqZWN0LmNyZWF0ZShudWxsKSxxYj1mdW5jdGlvbigpe3RyeXtuZXcgd2luZG93LkZvY3VzRXZlbnQoImZvY3VzIil9Y2F0Y2goYSl7cmV0dXJuITF9cmV0dXJuITB9KCk7aWYoIXFiKXt2YXIgcmI9ZnVuY3Rpb24oYSxiLGMpe2lmKGMpe3ZhciBkPXBiW2NdO2I9TihOKHt9LGQpLGIpfXBiW2FdPWJ9O3JiKCJFdmVudCIse2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMX0pLHJiKCJDdXN0b21FdmVudCIse2RldGFpbDpudWxsfSwiRXZlbnQiKSxyYigiVUlFdmVudCIse3ZpZXc6bnVsbCxkZXRhaWw6MH0sIkV2ZW50IikscmIoIk1vdXNlRXZlbnQiLHtzY3JlZW5YOjAsc2NyZWVuWTowLGNsaWVudFg6MCxjbGllbnRZOjAsY3RybEtleTohMSxhbHRLZXk6ITEsc2hpZnRLZXk6ITEsbWV0YUtleTohMSxidXR0b246MCxyZWxhdGVkVGFyZ2V0Om51bGx9LCJVSUV2ZW50IikscmIoIkZvY3VzRXZlbnQiLHtyZWxhdGVkVGFyZ2V0Om51bGx9LCJVSUV2ZW50Iil9dmFyIHNiPXdpbmRvdy5CZWZvcmVVbmxvYWRFdmVudDt6LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHUucHJvdG90eXBlKSxOKHoucHJvdG90eXBlLHtnZXQgcmV0dXJuVmFsdWUoKXtyZXR1cm4gUSh0aGlzKS5yZXR1cm5WYWx1ZX0sc2V0IHJldHVyblZhbHVlKGEpe1EodGhpcykucmV0dXJuVmFsdWU9YX19KSxzYiYmTyhzYix6KTt2YXIgdGI9d2luZG93LkV2ZW50VGFyZ2V0LHViPVsiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkaXNwYXRjaEV2ZW50Il07W05vZGUsV2luZG93XS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWEucHJvdG90eXBlO3ViLmZvckVhY2goZnVuY3Rpb24oYSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIsYSsiXyIse3ZhbHVlOmJbYV19KX0pfSksQy5wcm90b3R5cGU9e2FkZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oYSxiLGMpe2lmKEEoYikmJiFCKGEpKXt2YXIgZD1uZXcgdChhLGIsYyksZT1VLmdldCh0aGlzKTtpZihlKXtmb3IodmFyIGY9MDtmPGUubGVuZ3RoO2YrKylpZihkLmVxdWFscyhlW2ZdKSlyZXR1cm59ZWxzZSBlPVtdLGUuZGVwdGg9MCxVLnNldCh0aGlzLGUpO2UucHVzaChkKTt2YXIgZz1EKHRoaXMpO2cuYWRkRXZlbnRMaXN0ZW5lcl8oYSxtLCEwKX19LHJlbW92ZUV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oYSxiLGMpe2M9Qm9vbGVhbihjKTt2YXIgZD1VLmdldCh0aGlzKTtpZihkKXtmb3IodmFyIGU9MCxmPSExLGc9MDtnPGQubGVuZ3RoO2crKylkW2ddLnR5cGU9PT1hJiZkW2ddLmNhcHR1cmU9PT1jJiYoZSsrLGRbZ10uaGFuZGxlcj09PWImJihmPSEwLGRbZ10ucmVtb3ZlKCkpKTtpZihmJiYxPT09ZSl7dmFyIGg9RCh0aGlzKTtoLnJlbW92ZUV2ZW50TGlzdGVuZXJfKGEsbSwhMCl9fX0sZGlzcGF0Y2hFdmVudDpmdW5jdGlvbihiKXt2YXIgYz1SKGIpLGQ9Yy50eXBlO1Yuc2V0KGMsITEpLGEucmVuZGVyQWxsUGVuZGluZygpO3ZhciBlO0YodGhpcyxkKXx8KGU9ZnVuY3Rpb24oKXt9LHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihkLGUsITApKTt0cnl7cmV0dXJuIFIodGhpcykuZGlzcGF0Y2hFdmVudF8oYyl9ZmluYWxseXtlJiZ0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCxlLCEwKX19fSx0YiYmTyh0YixDKTt2YXIgdmI9ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludDthLmVsZW1lbnRGcm9tUG9pbnQ9SCxhLmdldEV2ZW50SGFuZGxlckdldHRlcj1JLGEuZ2V0RXZlbnRIYW5kbGVyU2V0dGVyPUosYS53cmFwRXZlbnRUYXJnZXRNZXRob2RzPUcsYS53cmFwcGVycy5CZWZvcmVVbmxvYWRFdmVudD16LGEud3JhcHBlcnMuQ3VzdG9tRXZlbnQ9amIsYS53cmFwcGVycy5FdmVudD11LGEud3JhcHBlcnMuRXZlbnRUYXJnZXQ9QyxhLndyYXBwZXJzLkZvY3VzRXZlbnQ9b2IsYS53cmFwcGVycy5Nb3VzZUV2ZW50PW5iLGEud3JhcHBlcnMuVUlFdmVudD1pYn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGIscCl9ZnVuY3Rpb24gYyhhKXtqKGEsdGhpcyl9ZnVuY3Rpb24gZCgpe3RoaXMubGVuZ3RoPTAsYih0aGlzLCJsZW5ndGgiKX1mdW5jdGlvbiBlKGEpe2Zvcih2YXIgYj1uZXcgZCxlPTA7ZTxhLmxlbmd0aDtlKyspYltlXT1uZXcgYyhhW2VdKTtyZXR1cm4gYi5sZW5ndGg9ZSxifWZ1bmN0aW9uIGYoYSl7Zy5jYWxsKHRoaXMsYSl9dmFyIGc9YS53cmFwcGVycy5VSUV2ZW50LGg9YS5taXhpbixpPWEucmVnaXN0ZXJXcmFwcGVyLGo9YS5zZXRXcmFwcGVyLGs9YS51bnNhZmVVbndyYXAsbD1hLndyYXAsbT13aW5kb3cuVG91Y2hFdmVudDtpZihtKXt2YXIgbjt0cnl7bj1kb2N1bWVudC5jcmVhdGVFdmVudCgiVG91Y2hFdmVudCIpfWNhdGNoKG8pe3JldHVybn12YXIgcD17ZW51bWVyYWJsZTohMX07Yy5wcm90b3R5cGU9e2dldCB0YXJnZXQoKXtyZXR1cm4gbChrKHRoaXMpLnRhcmdldCl9fTt2YXIgcT17Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0Om51bGx9O1siY2xpZW50WCIsImNsaWVudFkiLCJzY3JlZW5YIiwic2NyZWVuWSIsInBhZ2VYIiwicGFnZVkiLCJpZGVudGlmaWVyIiwid2Via2l0UmFkaXVzWCIsIndlYmtpdFJhZGl1c1kiLCJ3ZWJraXRSb3RhdGlvbkFuZ2xlIiwid2Via2l0Rm9yY2UiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3EuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGsodGhpcylbYV19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjLnByb3RvdHlwZSxhLHEpfSksZC5wcm90b3R5cGU9e2l0ZW06ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXNbYV19fSxmLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGcucHJvdG90eXBlKSxoKGYucHJvdG90eXBlLHtnZXQgdG91Y2hlcygpe3JldHVybiBlKGsodGhpcykudG91Y2hlcyl9LGdldCB0YXJnZXRUb3VjaGVzKCl7cmV0dXJuIGUoayh0aGlzKS50YXJnZXRUb3VjaGVzKX0sZ2V0IGNoYW5nZWRUb3VjaGVzKCl7cmV0dXJuIGUoayh0aGlzKS5jaGFuZ2VkVG91Y2hlcyl9LGluaXRUb3VjaEV2ZW50OmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJOb3QgaW1wbGVtZW50ZWQiKX19KSxpKG0sZixuKSxhLndyYXBwZXJzLlRvdWNoPWMsYS53cmFwcGVycy5Ub3VjaEV2ZW50PWYsYS53cmFwcGVycy5Ub3VjaExpc3Q9ZH19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLGgpfWZ1bmN0aW9uIGMoKXt0aGlzLmxlbmd0aD0wLGIodGhpcywibGVuZ3RoIil9ZnVuY3Rpb24gZChhKXtpZihudWxsPT1hKXJldHVybiBhO2Zvcih2YXIgYj1uZXcgYyxkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKWJbZF09ZyhhW2RdKTtyZXR1cm4gYi5sZW5ndGg9ZSxifWZ1bmN0aW9uIGUoYSxiKXthLnByb3RvdHlwZVtiXT1mdW5jdGlvbigpe3JldHVybiBkKGYodGhpcylbYl0uYXBwbHkoZih0aGlzKSxhcmd1bWVudHMpKX19dmFyIGY9YS51bnNhZmVVbndyYXAsZz1hLndyYXAsaD17ZW51bWVyYWJsZTohMX07Yy5wcm90b3R5cGU9e2l0ZW06ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXNbYV19fSxiKGMucHJvdG90eXBlLCJpdGVtIiksYS53cmFwcGVycy5Ob2RlTGlzdD1jLGEuYWRkV3JhcE5vZGVMaXN0TWV0aG9kPWUsYS53cmFwTm9kZUxpc3Q9ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7YS53cmFwSFRNTENvbGxlY3Rpb249YS53cmFwTm9kZUxpc3QsYS53cmFwcGVycy5IVE1MQ29sbGVjdGlvbj1hLndyYXBwZXJzLk5vZGVMaXN0fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe0EoYSBpbnN0YW5jZW9mIHcpfWZ1bmN0aW9uIGMoYSl7dmFyIGI9bmV3IHk7cmV0dXJuIGJbMF09YSxiLmxlbmd0aD0xLGJ9ZnVuY3Rpb24gZChhLGIsYyl7QyhiLCJjaGlsZExpc3QiLHtyZW1vdmVkTm9kZXM6YyxwcmV2aW91c1NpYmxpbmc6YS5wcmV2aW91c1NpYmxpbmcsbmV4dFNpYmxpbmc6YS5uZXh0U2libGluZ30pfWZ1bmN0aW9uIGUoYSxiKXtDKGEsImNoaWxkTGlzdCIse3JlbW92ZWROb2RlczpifSl9ZnVuY3Rpb24gZihhLGIsZCxlKXtpZihhIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCl7dmFyIGY9aChhKTtQPSEwO2Zvcih2YXIgZz1mLmxlbmd0aC0xO2c+PTA7Zy0tKWEucmVtb3ZlQ2hpbGQoZltnXSksZltnXS5wYXJlbnROb2RlXz1iO1A9ITE7Zm9yKHZhciBnPTA7ZzxmLmxlbmd0aDtnKyspZltnXS5wcmV2aW91c1NpYmxpbmdfPWZbZy0xXXx8ZCxmW2ddLm5leHRTaWJsaW5nXz1mW2crMV18fGU7cmV0dXJuIGQmJihkLm5leHRTaWJsaW5nXz1mWzBdKSxlJiYoZS5wcmV2aW91c1NpYmxpbmdfPWZbZi5sZW5ndGgtMV0pLGZ9dmFyIGY9YyhhKSxpPWEucGFyZW50Tm9kZTtyZXR1cm4gaSYmaS5yZW1vdmVDaGlsZChhKSxhLnBhcmVudE5vZGVfPWIsYS5wcmV2aW91c1NpYmxpbmdfPWQsYS5uZXh0U2libGluZ189ZSxkJiYoZC5uZXh0U2libGluZ189YSksZSYmKGUucHJldmlvdXNTaWJsaW5nXz1hKSxmfWZ1bmN0aW9uIGcoYSl7aWYoYSBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpcmV0dXJuIGgoYSk7dmFyIGI9YyhhKSxlPWEucGFyZW50Tm9kZTtyZXR1cm4gZSYmZChhLGUsYiksYn1mdW5jdGlvbiBoKGEpe2Zvcih2YXIgYj1uZXcgeSxjPTAsZD1hLmZpcnN0Q2hpbGQ7ZDtkPWQubmV4dFNpYmxpbmcpYltjKytdPWQ7cmV0dXJuIGIubGVuZ3RoPWMsZShhLGIpLGJ9ZnVuY3Rpb24gaShhKXtyZXR1cm4gYX1mdW5jdGlvbiBqKGEsYil7SShhLGIpLGEubm9kZUlzSW5zZXJ0ZWRfKCl9ZnVuY3Rpb24gayhhLGIpe2Zvcih2YXIgYz1EKGIpLGQ9MDtkPGEubGVuZ3RoO2QrKylqKGFbZF0sYyl9ZnVuY3Rpb24gbChhKXtJKGEsbmV3IHooYSxudWxsKSl9ZnVuY3Rpb24gbShhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylsKGFbYl0pfWZ1bmN0aW9uIG4oYSxiKXt2YXIgYz1hLm5vZGVUeXBlPT09dy5ET0NVTUVOVF9OT0RFP2E6YS5vd25lckRvY3VtZW50O2MhPT1iLm93bmVyRG9jdW1lbnQmJmMuYWRvcHROb2RlKGIpfWZ1bmN0aW9uIG8oYixjKXtpZihjLmxlbmd0aCl7dmFyIGQ9Yi5vd25lckRvY3VtZW50O2lmKGQhPT1jWzBdLm93bmVyRG9jdW1lbnQpZm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspYS5hZG9wdE5vZGVOb1JlbW92ZShjW2VdLGQpfX1mdW5jdGlvbiBwKGEsYil7byhhLGIpO3ZhciBjPWIubGVuZ3RoO2lmKDE9PT1jKXJldHVybiBLKGJbMF0pO2Zvcih2YXIgZD1LKGEub3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpLGU9MDtjPmU7ZSsrKWQuYXBwZW5kQ2hpbGQoSyhiW2VdKSk7cmV0dXJuIGR9ZnVuY3Rpb24gcShhKXtpZih2b2lkIDAhPT1hLmZpcnN0Q2hpbGRfKWZvcih2YXIgYj1hLmZpcnN0Q2hpbGRfO2I7KXt2YXIgYz1iO2I9Yi5uZXh0U2libGluZ18sYy5wYXJlbnROb2RlXz1jLnByZXZpb3VzU2libGluZ189Yy5uZXh0U2libGluZ189dm9pZCAwfWEuZmlyc3RDaGlsZF89YS5sYXN0Q2hpbGRfPXZvaWQgMH1mdW5jdGlvbiByKGEpe2lmKGEuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe2Zvcih2YXIgYj1hLmZpcnN0Q2hpbGQ7Yjspe0EoYi5wYXJlbnROb2RlPT09YSk7dmFyIGM9Yi5uZXh0U2libGluZyxkPUsoYiksZT1kLnBhcmVudE5vZGU7ZSYmVy5jYWxsKGUsZCksYi5wcmV2aW91c1NpYmxpbmdfPWIubmV4dFNpYmxpbmdfPWIucGFyZW50Tm9kZV89bnVsbCxiPWN9YS5maXJzdENoaWxkXz1hLmxhc3RDaGlsZF89bnVsbH1lbHNlIGZvcih2YXIgYyxmPUsoYSksZz1mLmZpcnN0Q2hpbGQ7ZzspYz1nLm5leHRTaWJsaW5nLFcuY2FsbChmLGcpLGc9Y31mdW5jdGlvbiBzKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmYi5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKX1mdW5jdGlvbiB0KGEpe2Zvcih2YXIgYixjPTA7YzxhLmxlbmd0aDtjKyspYj1hW2NdLGIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKX1mdW5jdGlvbiB1KGEsYixjKXt2YXIgZDtpZihkPU0oYz9RLmNhbGwoYyxKKGEpLCExKTpSLmNhbGwoSihhKSwhMSkpLGIpe2Zvcih2YXIgZT1hLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpZC5hcHBlbmRDaGlsZCh1KGUsITAsYykpO2lmKGEgaW5zdGFuY2VvZiBPLkhUTUxUZW1wbGF0ZUVsZW1lbnQpZm9yKHZhciBmPWQuY29udGVudCxlPWEuY29udGVudC5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWYuYXBwZW5kQ2hpbGQodShlLCEwLGMpKX1yZXR1cm4gZH1mdW5jdGlvbiB2KGEsYil7aWYoIWJ8fEQoYSkhPT1EKGIpKXJldHVybiExO2Zvcih2YXIgYz1iO2M7Yz1jLnBhcmVudE5vZGUpaWYoYz09PWEpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gdyhhKXtBKGEgaW5zdGFuY2VvZiBTKSx4LmNhbGwodGhpcyxhKSx0aGlzLnBhcmVudE5vZGVfPXZvaWQgMCx0aGlzLmZpcnN0Q2hpbGRfPXZvaWQgMCx0aGlzLmxhc3RDaGlsZF89dm9pZCAwLHRoaXMubmV4dFNpYmxpbmdfPXZvaWQgMCx0aGlzLnByZXZpb3VzU2libGluZ189dm9pZCAwLHRoaXMudHJlZVNjb3BlXz12b2lkIDB9dmFyIHg9YS53cmFwcGVycy5FdmVudFRhcmdldCx5PWEud3JhcHBlcnMuTm9kZUxpc3Qsej1hLlRyZWVTY29wZSxBPWEuYXNzZXJ0LEI9YS5kZWZpbmVXcmFwR2V0dGVyLEM9YS5lbnF1ZXVlTXV0YXRpb24sRD1hLmdldFRyZWVTY29wZSxFPWEuaXNXcmFwcGVyLEY9YS5taXhpbixHPWEucmVnaXN0ZXJUcmFuc2llbnRPYnNlcnZlcnMsSD1hLnJlZ2lzdGVyV3JhcHBlcixJPWEuc2V0VHJlZVNjb3BlLEo9YS51bnNhZmVVbndyYXAsSz1hLnVud3JhcCxMPWEudW53cmFwSWZOZWVkZWQsTT1hLndyYXAsTj1hLndyYXBJZk5lZWRlZCxPPWEud3JhcHBlcnMsUD0hMSxRPWRvY3VtZW50LmltcG9ydE5vZGUsUj13aW5kb3cuTm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlLFM9d2luZG93Lk5vZGUsVD13aW5kb3cuRG9jdW1lbnRGcmFnbWVudCxVPShTLnByb3RvdHlwZS5hcHBlbmRDaGlsZCxTLnByb3RvdHlwZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksVj1TLnByb3RvdHlwZS5pbnNlcnRCZWZvcmUsVz1TLnByb3RvdHlwZS5yZW1vdmVDaGlsZCxYPVMucHJvdG90eXBlLnJlcGxhY2VDaGlsZCxZPS9UcmlkZW50Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLFo9WT9mdW5jdGlvbihhLGIpe3RyeXtXLmNhbGwoYSxiKX1jYXRjaChjKXtpZighKGEgaW5zdGFuY2VvZiBUKSl0aHJvdyBjfX06ZnVuY3Rpb24oYSxiKXtXLmNhbGwoYSxiKX07dy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh4LnByb3RvdHlwZSksRih3LnByb3RvdHlwZSx7YXBwZW5kQ2hpbGQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaW5zZXJ0QmVmb3JlKGEsbnVsbCl9LGluc2VydEJlZm9yZTpmdW5jdGlvbihhLGMpe2IoYSk7dmFyIGQ7Yz9FKGMpP2Q9SyhjKTooZD1jLGM9TShkKSk6KGM9bnVsbCxkPW51bGwpLGMmJkEoYy5wYXJlbnROb2RlPT09dGhpcyk7dmFyIGUsaD1jP2MucHJldmlvdXNTaWJsaW5nOnRoaXMubGFzdENoaWxkLGk9IXRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkmJiFzKGEpO2lmKGU9aT9nKGEpOmYoYSx0aGlzLGgsYyksaSluKHRoaXMsYSkscSh0aGlzKSxWLmNhbGwoSih0aGlzKSxLKGEpLGQpO2Vsc2V7aHx8KHRoaXMuZmlyc3RDaGlsZF89ZVswXSksY3x8KHRoaXMubGFzdENoaWxkXz1lW2UubGVuZ3RoLTFdLHZvaWQgMD09PXRoaXMuZmlyc3RDaGlsZF8mJih0aGlzLmZpcnN0Q2hpbGRfPXRoaXMuZmlyc3RDaGlsZCkpO3ZhciBqPWQ/ZC5wYXJlbnROb2RlOkoodGhpcyk7aj9WLmNhbGwoaixwKHRoaXMsZSksZCk6byh0aGlzLGUpfXJldHVybiBDKHRoaXMsImNoaWxkTGlzdCIse2FkZGVkTm9kZXM6ZSxuZXh0U2libGluZzpjLHByZXZpb3VzU2libGluZzpofSksayhlLHRoaXMpLGF9LHJlbW92ZUNoaWxkOmZ1bmN0aW9uKGEpe2lmKGIoYSksYS5wYXJlbnROb2RlIT09dGhpcyl7Zm9yKHZhciBkPSExLGU9KHRoaXMuY2hpbGROb2Rlcyx0aGlzLmZpcnN0Q2hpbGQpO2U7ZT1lLm5leHRTaWJsaW5nKWlmKGU9PT1hKXtkPSEwO2JyZWFrfWlmKCFkKXRocm93IG5ldyBFcnJvcigiTm90Rm91bmRFcnJvciIpfXZhciBmPUsoYSksZz1hLm5leHRTaWJsaW5nLGg9YS5wcmV2aW91c1NpYmxpbmc7aWYodGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSl7dmFyIGk9dGhpcy5maXJzdENoaWxkLGo9dGhpcy5sYXN0Q2hpbGQsaz1mLnBhcmVudE5vZGU7ayYmWihrLGYpLGk9PT1hJiYodGhpcy5maXJzdENoaWxkXz1nKSxqPT09YSYmKHRoaXMubGFzdENoaWxkXz1oKSxoJiYoaC5uZXh0U2libGluZ189ZyksZyYmKGcucHJldmlvdXNTaWJsaW5nXz1oKSxhLnByZXZpb3VzU2libGluZ189YS5uZXh0U2libGluZ189YS5wYXJlbnROb2RlXz12b2lkIDB9ZWxzZSBxKHRoaXMpLFooSih0aGlzKSxmKTtyZXR1cm4gUHx8Qyh0aGlzLCJjaGlsZExpc3QiLHtyZW1vdmVkTm9kZXM6YyhhKSxuZXh0U2libGluZzpnLHByZXZpb3VzU2libGluZzpofSksRyh0aGlzLGEpLGF9LHJlcGxhY2VDaGlsZDpmdW5jdGlvbihhLGQpe2IoYSk7dmFyIGU7aWYoRShkKT9lPUsoZCk6KGU9ZCxkPU0oZSkpLGQucGFyZW50Tm9kZSE9PXRoaXMpdGhyb3cgbmV3IEVycm9yKCJOb3RGb3VuZEVycm9yIik7dmFyIGgsaT1kLm5leHRTaWJsaW5nLGo9ZC5wcmV2aW91c1NpYmxpbmcsbT0hdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSYmIXMoYSk7cmV0dXJuIG0/aD1nKGEpOihpPT09YSYmKGk9YS5uZXh0U2libGluZyksaD1mKGEsdGhpcyxqLGkpKSxtPyhuKHRoaXMsYSkscSh0aGlzKSxYLmNhbGwoSih0aGlzKSxLKGEpLGUpKToodGhpcy5maXJzdENoaWxkPT09ZCYmKHRoaXMuZmlyc3RDaGlsZF89aFswXSksdGhpcy5sYXN0Q2hpbGQ9PT1kJiYodGhpcy5sYXN0Q2hpbGRfPWhbaC5sZW5ndGgtMV0pLGQucHJldmlvdXNTaWJsaW5nXz1kLm5leHRTaWJsaW5nXz1kLnBhcmVudE5vZGVfPXZvaWQgMCxlLnBhcmVudE5vZGUmJlguY2FsbChlLnBhcmVudE5vZGUscCh0aGlzLGgpLGUpKSxDKHRoaXMsImNoaWxkTGlzdCIse2FkZGVkTm9kZXM6aCxyZW1vdmVkTm9kZXM6YyhkKSxuZXh0U2libGluZzppLHByZXZpb3VzU2libGluZzpqfSksbChkKSxrKGgsdGhpcyksZH0sbm9kZUlzSW5zZXJ0ZWRfOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZylhLm5vZGVJc0luc2VydGVkXygpfSxoYXNDaGlsZE5vZGVzOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmZpcnN0Q2hpbGR9LGdldCBwYXJlbnROb2RlKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMucGFyZW50Tm9kZV8/dGhpcy5wYXJlbnROb2RlXzpNKEoodGhpcykucGFyZW50Tm9kZSl9LGdldCBmaXJzdENoaWxkKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuZmlyc3RDaGlsZF8/dGhpcy5maXJzdENoaWxkXzpNKEoodGhpcykuZmlyc3RDaGlsZCl9LGdldCBsYXN0Q2hpbGQoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5sYXN0Q2hpbGRfP3RoaXMubGFzdENoaWxkXzpNKEoodGhpcykubGFzdENoaWxkKX0sZ2V0IG5leHRTaWJsaW5nKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMubmV4dFNpYmxpbmdfP3RoaXMubmV4dFNpYmxpbmdfOk0oSih0aGlzKS5uZXh0U2libGluZyl9LGdldCBwcmV2aW91c1NpYmxpbmcoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5wcmV2aW91c1NpYmxpbmdfP3RoaXMucHJldmlvdXNTaWJsaW5nXzpNKEoodGhpcykucHJldmlvdXNTaWJsaW5nKX0sZ2V0IHBhcmVudEVsZW1lbnQoKXtmb3IodmFyIGE9dGhpcy5wYXJlbnROb2RlO2EmJmEubm9kZVR5cGUhPT13LkVMRU1FTlRfTk9ERTspYT1hLnBhcmVudE5vZGU7cmV0dXJuIGF9LGdldCB0ZXh0Q29udGVudCgpe2Zvcih2YXIgYT0iIixiPXRoaXMuZmlyc3RDaGlsZDtiO2I9Yi5uZXh0U2libGluZyliLm5vZGVUeXBlIT13LkNPTU1FTlRfTk9ERSYmKGErPWIudGV4dENvbnRlbnQpO3JldHVybiBhfSxzZXQgdGV4dENvbnRlbnQoYSl7dmFyIGI9aSh0aGlzLmNoaWxkTm9kZXMpO2lmKHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe2lmKHIodGhpcyksIiIhPT1hKXt2YXIgYz1KKHRoaXMpLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSk7dGhpcy5hcHBlbmRDaGlsZChjKX19ZWxzZSBxKHRoaXMpLEoodGhpcykudGV4dENvbnRlbnQ9YTt2YXIgZD1pKHRoaXMuY2hpbGROb2Rlcyk7Qyh0aGlzLCJjaGlsZExpc3QiLHthZGRlZE5vZGVzOmQscmVtb3ZlZE5vZGVzOmJ9KSxtKGIpLGsoZCx0aGlzKX0sZ2V0IGNoaWxkTm9kZXMoKXtmb3IodmFyIGE9bmV3IHksYj0wLGM9dGhpcy5maXJzdENoaWxkO2M7Yz1jLm5leHRTaWJsaW5nKWFbYisrXT1jO3JldHVybiBhLmxlbmd0aD1iLGF9LGNsb25lTm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gdSh0aGlzLGEpfSxjb250YWluczpmdW5jdGlvbihhKXtyZXR1cm4gdih0aGlzLE4oYSkpfSxjb21wYXJlRG9jdW1lbnRQb3NpdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gVS5jYWxsKEoodGhpcyksTChhKSl9LG5vcm1hbGl6ZTpmdW5jdGlvbigpe2Zvcih2YXIgYSxiLGM9aSh0aGlzLmNoaWxkTm9kZXMpLGQ9W10sZT0iIixmPTA7ZjxjLmxlbmd0aDtmKyspYj1jW2ZdLGIubm9kZVR5cGU9PT13LlRFWFRfTk9ERT9hfHxiLmRhdGEubGVuZ3RoP2E/KGUrPWIuZGF0YSxkLnB1c2goYikpOmE9Yjp0aGlzLnJlbW92ZU5vZGUoYik6KGEmJmQubGVuZ3RoJiYoYS5kYXRhKz1lLHQoZCkpLGQ9W10sZT0iIixhPW51bGwsYi5jaGlsZE5vZGVzLmxlbmd0aCYmYi5ub3JtYWxpemUoKSk7YSYmZC5sZW5ndGgmJihhLmRhdGErPWUsdChkKSl9fSksQih3LCJvd25lckRvY3VtZW50IiksSChTLHcsZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKSxkZWxldGUgdy5wcm90b3R5cGUucXVlcnlTZWxlY3RvcixkZWxldGUgdy5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbCx3LnByb3RvdHlwZT1GKE9iamVjdC5jcmVhdGUoeC5wcm90b3R5cGUpLHcucHJvdG90eXBlKSxhLmNsb25lTm9kZT11LGEubm9kZVdhc0FkZGVkPWosYS5ub2RlV2FzUmVtb3ZlZD1sLGEubm9kZXNXZXJlQWRkZWQ9ayxhLm5vZGVzV2VyZVJlbW92ZWQ9bSxhLm9yaWdpbmFsSW5zZXJ0QmVmb3JlPVYsYS5vcmlnaW5hbFJlbW92ZUNoaWxkPVcsYS5zbmFwc2hvdE5vZGVMaXN0PWksYS53cmFwcGVycy5Ob2RlPXd9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYixjLGQsZSl7Zm9yKHZhciBmPW51bGwsZz1udWxsLGg9MCxpPWIubGVuZ3RoO2k+aDtoKyspZj1zKGJbaF0pLCFlJiYoZz1xKGYpLnJvb3QpJiZnIGluc3RhbmNlb2YgYS53cmFwcGVycy5TaGFkb3dSb290fHwoZFtjKytdPWYpO3JldHVybiBjfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIFN0cmluZyhhKS5yZXBsYWNlKC9cL2RlZXBcLy9nLCIgIil9ZnVuY3Rpb24gZChhLGIpe2Zvcih2YXIgYyxlPWEuZmlyc3RFbGVtZW50Q2hpbGQ7ZTspe2lmKGUubWF0Y2hlcyhiKSlyZXR1cm4gZTtpZihjPWQoZSxiKSlyZXR1cm4gYztlPWUubmV4dEVsZW1lbnRTaWJsaW5nfXJldHVybiBudWxsfWZ1bmN0aW9uIGUoYSxiKXtyZXR1cm4gYS5tYXRjaGVzKGIpfWZ1bmN0aW9uIGYoYSxiLGMpe3ZhciBkPWEubG9jYWxOYW1lO3JldHVybiBkPT09Ynx8ZD09PWMmJmEubmFtZXNwYWNlVVJJPT09RH1mdW5jdGlvbiBnKCl7cmV0dXJuITB9ZnVuY3Rpb24gaChhLGIsYyl7cmV0dXJuIGEubG9jYWxOYW1lPT09Y31mdW5jdGlvbiBpKGEsYil7cmV0dXJuIGEubmFtZXNwYWNlVVJJPT09Yn1mdW5jdGlvbiBqKGEsYixjKXtyZXR1cm4gYS5uYW1lc3BhY2VVUkk9PT1iJiZhLmxvY2FsTmFtZT09PWN9ZnVuY3Rpb24gayhhLGIsYyxkLGUsZil7Zm9yKHZhciBnPWEuZmlyc3RFbGVtZW50Q2hpbGQ7ZzspZChnLGUsZikmJihjW2IrK109ZyksYj1rKGcsYixjLGQsZSxmKSxnPWcubmV4dEVsZW1lbnRTaWJsaW5nO3JldHVybiBifWZ1bmN0aW9uIGwoYyxkLGUsZixnKXt2YXIgaCxpPXIodGhpcyksaj1xKHRoaXMpLnJvb3Q7aWYoaiBpbnN0YW5jZW9mIGEud3JhcHBlcnMuU2hhZG93Um9vdClyZXR1cm4gayh0aGlzLGQsZSxjLGYsbnVsbCk7aWYoaSBpbnN0YW5jZW9mIEIpaD13LmNhbGwoaSxmKTtlbHNle2lmKCEoaSBpbnN0YW5jZW9mIEMpKXJldHVybiBrKHRoaXMsZCxlLGMsZixudWxsKTtoPXYuY2FsbChpLGYpfXJldHVybiBiKGgsZCxlLGcpfWZ1bmN0aW9uIG0oYyxkLGUsZixnKXt2YXIgaCxpPXIodGhpcyksaj1xKHRoaXMpLnJvb3Q7aWYoaiBpbnN0YW5jZW9mIGEud3JhcHBlcnMuU2hhZG93Um9vdClyZXR1cm4gayh0aGlzLGQsZSxjLGYsZyk7aWYoaSBpbnN0YW5jZW9mIEIpaD15LmNhbGwoaSxmLGcpO2Vsc2V7aWYoIShpIGluc3RhbmNlb2YgQykpcmV0dXJuIGsodGhpcyxkLGUsYyxmLGcpO2g9eC5jYWxsKGksZixnKX1yZXR1cm4gYihoLGQsZSwhMSl9ZnVuY3Rpb24gbihjLGQsZSxmLGcpe3ZhciBoLGk9cih0aGlzKSxqPXEodGhpcykucm9vdDtpZihqIGluc3RhbmNlb2YgYS53cmFwcGVycy5TaGFkb3dSb290KXJldHVybiBrKHRoaXMsZCxlLGMsZixnKTtpZihpIGluc3RhbmNlb2YgQiloPUEuY2FsbChpLGYsZyk7ZWxzZXtpZighKGkgaW5zdGFuY2VvZiBDKSlyZXR1cm4gayh0aGlzLGQsZSxjLGYsZyk7aD16LmNhbGwoaSxmLGcpfXJldHVybiBiKGgsZCxlLCExKX12YXIgbz1hLndyYXBwZXJzLkhUTUxDb2xsZWN0aW9uLHA9YS53cmFwcGVycy5Ob2RlTGlzdCxxPWEuZ2V0VHJlZVNjb3BlLHI9YS51bnNhZmVVbndyYXAscz1hLndyYXAsdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yLHU9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3Isdj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsLHc9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwseD1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSx5PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSx6PWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lTlMsQT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyxCPXdpbmRvdy5FbGVtZW50LEM9d2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50LEQ9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLEU9e3F1ZXJ5U2VsZWN0b3I6ZnVuY3Rpb24oYil7dmFyIGU9YyhiKSxmPWUhPT1iO2I9ZTt2YXIgZyxoPXIodGhpcyksaT1xKHRoaXMpLnJvb3Q7aWYoaSBpbnN0YW5jZW9mIGEud3JhcHBlcnMuU2hhZG93Um9vdClyZXR1cm4gZCh0aGlzLGIpO2lmKGggaW5zdGFuY2VvZiBCKWc9cyh1LmNhbGwoaCxiKSk7ZWxzZXtpZighKGggaW5zdGFuY2VvZiBDKSlyZXR1cm4gZCh0aGlzLGIpO2c9cyh0LmNhbGwoaCxiKSl9cmV0dXJuIGcmJiFmJiYoaT1xKGcpLnJvb3QpJiZpIGluc3RhbmNlb2YgYS53cmFwcGVycy5TaGFkb3dSb290P2QodGhpcyxiKTpnfSxxdWVyeVNlbGVjdG9yQWxsOmZ1bmN0aW9uKGEpe3ZhciBiPWMoYSksZD1iIT09YTthPWI7dmFyIGY9bmV3IHA7cmV0dXJuIGYubGVuZ3RoPWwuY2FsbCh0aGlzLGUsMCxmLGEsZCksZn19LEY9e2dldEVsZW1lbnRzQnlUYWdOYW1lOmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBvLGM9IioiPT09YT9nOmY7cmV0dXJuIGIubGVuZ3RoPW0uY2FsbCh0aGlzLGMsMCxiLGEsYS50b0xvd2VyQ2FzZSgpKSxifSxnZXRFbGVtZW50c0J5Q2xhc3NOYW1lOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoIi4iK2EpfSxnZXRFbGVtZW50c0J5VGFnTmFtZU5TOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IG8sZD1udWxsO3JldHVybiBkPSIqIj09PWE/IioiPT09Yj9nOmg6IioiPT09Yj9pOmosYy5sZW5ndGg9bi5jYWxsKHRoaXMsZCwwLGMsYXx8bnVsbCxiKSxjfX07YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlPUYsYS5TZWxlY3RvcnNJbnRlcmZhY2U9RX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtmb3IoO2EmJmEubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERTspYT1hLm5leHRTaWJsaW5nO3JldHVybiBhfWZ1bmN0aW9uIGMoYSl7Zm9yKDthJiZhLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWE9YS5wcmV2aW91c1NpYmxpbmc7cmV0dXJuIGF9dmFyIGQ9YS53cmFwcGVycy5Ob2RlTGlzdCxlPXtnZXQgZmlyc3RFbGVtZW50Q2hpbGQoKXtyZXR1cm4gYih0aGlzLmZpcnN0Q2hpbGQpfSxnZXQgbGFzdEVsZW1lbnRDaGlsZCgpe3JldHVybiBjKHRoaXMubGFzdENoaWxkKX0sZ2V0IGNoaWxkRWxlbWVudENvdW50KCl7Zm9yKHZhciBhPTAsYj10aGlzLmZpcnN0RWxlbWVudENoaWxkO2I7Yj1iLm5leHRFbGVtZW50U2libGluZylhKys7cmV0dXJuIGF9LGdldCBjaGlsZHJlbigpe2Zvcih2YXIgYT1uZXcgZCxiPTAsYz10aGlzLmZpcnN0RWxlbWVudENoaWxkO2M7Yz1jLm5leHRFbGVtZW50U2libGluZylhW2IrK109YztyZXR1cm4gYS5sZW5ndGg9YixhfSxyZW1vdmU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBhcmVudE5vZGU7YSYmYS5yZW1vdmVDaGlsZCh0aGlzKX19LGY9e2dldCBuZXh0RWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gYih0aGlzLm5leHRTaWJsaW5nKX0sZ2V0IHByZXZpb3VzRWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gYyh0aGlzLnByZXZpb3VzU2libGluZyl9fTthLkNoaWxkTm9kZUludGVyZmFjZT1mLGEuUGFyZW50Tm9kZUludGVyZmFjZT1lfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2QuY2FsbCh0aGlzLGEpfXZhciBjPWEuQ2hpbGROb2RlSW50ZXJmYWNlLGQ9YS53cmFwcGVycy5Ob2RlLGU9YS5lbnF1ZXVlTXV0YXRpb24sZj1hLm1peGluLGc9YS5yZWdpc3RlcldyYXBwZXIsaD1hLnVuc2FmZVVud3JhcCxpPXdpbmRvdy5DaGFyYWN0ZXJEYXRhO2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZC5wcm90b3R5cGUpLGYoYi5wcm90b3R5cGUse2dldCB0ZXh0Q29udGVudCgpe3JldHVybiB0aGlzLmRhdGF9LHNldCB0ZXh0Q29udGVudChhKXt0aGlzLmRhdGE9YX0sZ2V0IGRhdGEoKXtyZXR1cm4gaCh0aGlzKS5kYXRhfSxzZXQgZGF0YShhKXt2YXIgYj1oKHRoaXMpLmRhdGE7ZSh0aGlzLCJjaGFyYWN0ZXJEYXRhIix7b2xkVmFsdWU6Yn0pLGgodGhpcykuZGF0YT1hfX0pLGYoYi5wcm90b3R5cGUsYyksZyhpLGIsZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpKSxhLndyYXBwZXJzLkNoYXJhY3RlckRhdGE9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtyZXR1cm4gYT4+PjB9ZnVuY3Rpb24gYyhhKXtkLmNhbGwodGhpcyxhKX12YXIgZD1hLndyYXBwZXJzLkNoYXJhY3RlckRhdGEsZT0oYS5lbnF1ZXVlTXV0YXRpb24sYS5taXhpbiksZj1hLnJlZ2lzdGVyV3JhcHBlcixnPXdpbmRvdy5UZXh0O2MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZC5wcm90b3R5cGUpLGUoYy5wcm90b3R5cGUse3NwbGl0VGV4dDpmdW5jdGlvbihhKXthPWIoYSk7dmFyIGM9dGhpcy5kYXRhO2lmKGE+Yy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJJbmRleFNpemVFcnJvciIpO3ZhciBkPWMuc2xpY2UoMCxhKSxlPWMuc2xpY2UoYSk7dGhpcy5kYXRhPWQ7dmFyIGY9dGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGUpO3JldHVybiB0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZix0aGlzLm5leHRTaWJsaW5nKSxmfX0pLGYoZyxjLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKSksYS53cmFwcGVycy5UZXh0PWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYil7YS5pbnZhbGlkYXRlUmVuZGVyZXJCYXNlZE9uQXR0cmlidXRlKGIsImNsYXNzIil9ZnVuY3Rpb24gYyhhLGIpe2QoYSx0aGlzKSx0aGlzLm93bmVyRWxlbWVudF89Yn12YXIgZD1hLnNldFdyYXBwZXIsZT1hLnVuc2FmZVVud3JhcDtjLnByb3RvdHlwZT17Y29uc3RydWN0b3I6YyxnZXQgbGVuZ3RoKCl7cmV0dXJuIGUodGhpcykubGVuZ3RofSxpdGVtOmZ1bmN0aW9uKGEpe3JldHVybiBlKHRoaXMpLml0ZW0oYSl9LGNvbnRhaW5zOmZ1bmN0aW9uKGEpe3JldHVybiBlKHRoaXMpLmNvbnRhaW5zKGEpfSxhZGQ6ZnVuY3Rpb24oKXtlKHRoaXMpLmFkZC5hcHBseShlKHRoaXMpLGFyZ3VtZW50cyksYih0aGlzLm93bmVyRWxlbWVudF8pfSxyZW1vdmU6ZnVuY3Rpb24oKXtlKHRoaXMpLnJlbW92ZS5hcHBseShlKHRoaXMpLGFyZ3VtZW50cyksYih0aGlzLm93bmVyRWxlbWVudF8pfSx0b2dnbGU6ZnVuY3Rpb24oKXt2YXIgYT1lKHRoaXMpLnRvZ2dsZS5hcHBseShlKHRoaXMpLGFyZ3VtZW50cyk7cmV0dXJuIGIodGhpcy5vd25lckVsZW1lbnRfKSxhfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiBlKHRoaXMpLnRvU3RyaW5nKCl9fSxhLndyYXBwZXJzLkRPTVRva2VuTGlzdD1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGIsYyl7dmFyIGQ9Yi5wYXJlbnROb2RlO2lmKGQmJmQuc2hhZG93Um9vdCl7dmFyIGU9YS5nZXRSZW5kZXJlckZvckhvc3QoZCk7ZS5kZXBlbmRzT25BdHRyaWJ1dGUoYykmJmUuaW52YWxpZGF0ZSgpfX1mdW5jdGlvbiBjKGEsYixjKXtrKGEsImF0dHJpYnV0ZXMiLHtuYW1lOmIsbmFtZXNwYWNlOm51bGwsb2xkVmFsdWU6Y30pfWZ1bmN0aW9uIGQoYSl7Zy5jYWxsKHRoaXMsYSl9dmFyIGU9YS5DaGlsZE5vZGVJbnRlcmZhY2UsZj1hLkdldEVsZW1lbnRzQnlJbnRlcmZhY2UsZz1hLndyYXBwZXJzLk5vZGUsaD1hLndyYXBwZXJzLkRPTVRva2VuTGlzdCxpPWEuUGFyZW50Tm9kZUludGVyZmFjZSxqPWEuU2VsZWN0b3JzSW50ZXJmYWNlLGs9KGEuYWRkV3JhcE5vZGVMaXN0TWV0aG9kLGEuZW5xdWV1ZU11dGF0aW9uKSxsPWEubWl4aW4sbT0oYS5vbmVPZixhLnJlZ2lzdGVyV3JhcHBlciksbj1hLnVuc2FmZVVud3JhcCxvPWEud3JhcHBlcnMscD13aW5kb3cuRWxlbWVudCxxPVsibWF0Y2hlcyIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIl0uZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBwLnByb3RvdHlwZVthXX0pLHI9cVswXSxzPXAucHJvdG90eXBlW3JdLHQ9bmV3IFdlYWtNYXA7ZC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShnLnByb3RvdHlwZSksbChkLnByb3RvdHlwZSx7Y3JlYXRlU2hhZG93Um9vdDpmdW5jdGlvbigpe3ZhciBiPW5ldyBvLlNoYWRvd1Jvb3QodGhpcyk7bih0aGlzKS5wb2x5bWVyU2hhZG93Um9vdF89Yjt2YXIgYz1hLmdldFJlbmRlcmVyRm9ySG9zdCh0aGlzKTtyZXR1cm4gYy5pbnZhbGlkYXRlKCksYn0sZ2V0IHNoYWRvd1Jvb3QoKXtyZXR1cm4gbih0aGlzKS5wb2x5bWVyU2hhZG93Um9vdF98fG51bGx9LHNldEF0dHJpYnV0ZTpmdW5jdGlvbihhLGQpe3ZhciBlPW4odGhpcykuZ2V0QXR0cmlidXRlKGEpO24odGhpcykuc2V0QXR0cmlidXRlKGEsZCksYyh0aGlzLGEsZSksYih0aGlzLGEpfSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7dmFyIGQ9bih0aGlzKS5nZXRBdHRyaWJ1dGUoYSk7bih0aGlzKS5yZW1vdmVBdHRyaWJ1dGUoYSksYyh0aGlzLGEsZCksYih0aGlzLGEpfSxtYXRjaGVzOmZ1bmN0aW9uKGEpe3JldHVybiBzLmNhbGwobih0aGlzKSxhKX0sZ2V0IGNsYXNzTGlzdCgpe3ZhciBhPXQuZ2V0KHRoaXMpO3JldHVybiBhfHx0LnNldCh0aGlzLGE9bmV3IGgobih0aGlzKS5jbGFzc0xpc3QsdGhpcykpLGF9LGdldCBjbGFzc05hbWUoKXtyZXR1cm4gbih0aGlzKS5jbGFzc05hbWV9LHNldCBjbGFzc05hbWUoYSl7dGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIixhKX0sZ2V0IGlkKCl7cmV0dXJuIG4odGhpcykuaWR9LHNldCBpZChhKXt0aGlzLnNldEF0dHJpYnV0ZSgiaWQiLGEpfX0pLHEuZm9yRWFjaChmdW5jdGlvbihhKXsibWF0Y2hlcyIhPT1hJiYoZC5wcm90b3R5cGVbYV09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubWF0Y2hlcyhhKX0pfSkscC5wcm90b3R5cGUud2Via2l0Q3JlYXRlU2hhZG93Um9vdCYmKGQucHJvdG90eXBlLndlYmtpdENyZWF0ZVNoYWRvd1Jvb3Q9ZC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdCksbChkLnByb3RvdHlwZSxlKSxsKGQucHJvdG90eXBlLGYpLGwoZC5wcm90b3R5cGUsaSksbChkLnByb3RvdHlwZSxqKSxtKHAsZCxkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnVsbCwieCIpKSxhLmludmFsaWRhdGVSZW5kZXJlckJhc2VkT25BdHRyaWJ1dGU9YixhLm1hdGNoZXNOYW1lcz1xLGEud3JhcHBlcnMuRWxlbWVudD1kfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3N3aXRjaChhKXtjYXNlIiYiOnJldHVybiImYW1wOyI7Y2FzZSI8IjpyZXR1cm4iJmx0OyI7Y2FzZSI+IjpyZXR1cm4iJmd0OyI7Y2FzZSciJzpyZXR1cm4iJnF1b3Q7IjtjYXNlIlx4YTAiOnJldHVybiImbmJzcDsifX1mdW5jdGlvbiBjKGEpe3JldHVybiBhLnJlcGxhY2UoQSxiKX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLnJlcGxhY2UoQixiKX1mdW5jdGlvbiBlKGEpe2Zvcih2YXIgYj17fSxjPTA7YzxhLmxlbmd0aDtjKyspYlthW2NdXT0hMDtyZXR1cm4gYn1mdW5jdGlvbiBmKGEsYil7c3dpdGNoKGEubm9kZVR5cGUpe2Nhc2UgTm9kZS5FTEVNRU5UX05PREU6Zm9yKHZhciBlLGY9YS50YWdOYW1lLnRvTG93ZXJDYXNlKCksaD0iPCIrZixpPWEuYXR0cmlidXRlcyxqPTA7ZT1pW2pdO2orKyloKz0iICIrZS5uYW1lKyc9IicrYyhlLnZhbHVlKSsnIic7cmV0dXJuIGgrPSI+IixDW2ZdP2g6aCtnKGEpKyI8LyIrZisiPiI7Y2FzZSBOb2RlLlRFWFRfTk9ERTp2YXIgaz1hLmRhdGE7cmV0dXJuIGImJkRbYi5sb2NhbE5hbWVdP2s6ZChrKTtjYXNlIE5vZGUuQ09NTUVOVF9OT0RFOnJldHVybiI8IS0tIithLmRhdGErIi0tPiI7ZGVmYXVsdDp0aHJvdyBjb25zb2xlLmVycm9yKGEpLG5ldyBFcnJvcigibm90IGltcGxlbWVudGVkIil9fWZ1bmN0aW9uIGcoYSl7YSBpbnN0YW5jZW9mIHouSFRNTFRlbXBsYXRlRWxlbWVudCYmKGE9YS5jb250ZW50KTtmb3IodmFyIGI9IiIsYz1hLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpYis9ZihjLGEpO3JldHVybiBifWZ1bmN0aW9uIGgoYSxiLGMpe3ZhciBkPWN8fCJkaXYiO2EudGV4dENvbnRlbnQ9IiI7dmFyIGU9eChhLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChkKSk7ZS5pbm5lckhUTUw9Yjtmb3IodmFyIGY7Zj1lLmZpcnN0Q2hpbGQ7KWEuYXBwZW5kQ2hpbGQoeShmKSl9ZnVuY3Rpb24gaShhKXtvLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBqKGEsYil7dmFyIGM9eChhLmNsb25lTm9kZSghMSkpO2MuaW5uZXJIVE1MPWI7Zm9yKHZhciBkLGU9eChkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO2Q9Yy5maXJzdENoaWxkOyllLmFwcGVuZENoaWxkKGQpO3JldHVybiB5KGUpfWZ1bmN0aW9uIGsoYil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEucmVuZGVyQWxsUGVuZGluZygpLHcodGhpcylbYl19fWZ1bmN0aW9uIGwoYSl7cChpLGEsayhhKSl9ZnVuY3Rpb24gbShiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsYix7Z2V0OmsoYiksc2V0OmZ1bmN0aW9uKGMpe2EucmVuZGVyQWxsUGVuZGluZygpLHcodGhpcylbYl09Y30sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9KX1mdW5jdGlvbiBuKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxiLHt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBhLnJlbmRlckFsbFBlbmRpbmcoKSx3KHRoaXMpW2JdLmFwcGx5KHcodGhpcyksYXJndW1lbnRzKX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9KX12YXIgbz1hLndyYXBwZXJzLkVsZW1lbnQscD1hLmRlZmluZUdldHRlcixxPWEuZW5xdWV1ZU11dGF0aW9uLHI9YS5taXhpbixzPWEubm9kZXNXZXJlQWRkZWQsdD1hLm5vZGVzV2VyZVJlbW92ZWQsdT1hLnJlZ2lzdGVyV3JhcHBlcix2PWEuc25hcHNob3ROb2RlTGlzdCx3PWEudW5zYWZlVW53cmFwLHg9YS51bndyYXAseT1hLndyYXAsej1hLndyYXBwZXJzLEE9L1smXHUwMEEwIl0vZyxCPS9bJlx1MDBBMDw+XS9nLEM9ZShbImFyZWEiLCJiYXNlIiwiYnIiLCJjb2wiLCJjb21tYW5kIiwiZW1iZWQiLCJociIsImltZyIsImlucHV0Iiwia2V5Z2VuIiwibGluayIsIm1ldGEiLCJwYXJhbSIsInNvdXJjZSIsInRyYWNrIiwid2JyIl0pLEQ9ZShbInN0eWxlIiwic2NyaXB0IiwieG1wIiwiaWZyYW1lIiwibm9lbWJlZCIsIm5vZnJhbWVzIiwicGxhaW50ZXh0Iiwibm9zY3JpcHQiXSksRT0vTVNJRS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxGPXdpbmRvdy5IVE1MRWxlbWVudCxHPXdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50O2kucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLHIoaS5wcm90b3R5cGUse2dldCBpbm5lckhUTUwoKXtyZXR1cm4gZyh0aGlzKX0sc2V0IGlubmVySFRNTChhKXtpZihFJiZEW3RoaXMubG9jYWxOYW1lXSlyZXR1cm4gdm9pZCh0aGlzLnRleHRDb250ZW50PWEpO3ZhciBiPXYodGhpcy5jaGlsZE5vZGVzKTt0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpP3RoaXMgaW5zdGFuY2VvZiB6LkhUTUxUZW1wbGF0ZUVsZW1lbnQ/aCh0aGlzLmNvbnRlbnQsYSk6aCh0aGlzLGEsdGhpcy50YWdOYW1lKTohRyYmdGhpcyBpbnN0YW5jZW9mIHouSFRNTFRlbXBsYXRlRWxlbWVudD9oKHRoaXMuY29udGVudCxhKTp3KHRoaXMpLmlubmVySFRNTD1hO3ZhciBjPXYodGhpcy5jaGlsZE5vZGVzKTtxKHRoaXMsImNoaWxkTGlzdCIse2FkZGVkTm9kZXM6YyxyZW1vdmVkTm9kZXM6Yn0pLHQoYikscyhjLHRoaXMpfSxnZXQgb3V0ZXJIVE1MKCl7cmV0dXJuIGYodGhpcyx0aGlzLnBhcmVudE5vZGUpfSxzZXQgb3V0ZXJIVE1MKGEpe3ZhciBiPXRoaXMucGFyZW50Tm9kZTtpZihiKXtiLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpO3ZhciBjPWooYixhKTtiLnJlcGxhY2VDaGlsZChjLHRoaXMpfX0saW5zZXJ0QWRqYWNlbnRIVE1MOmZ1bmN0aW9uKGEsYil7dmFyIGMsZDtzd2l0Y2goU3RyaW5nKGEpLnRvTG93ZXJDYXNlKCkpe2Nhc2UiYmVmb3JlYmVnaW4iOmM9dGhpcy5wYXJlbnROb2RlLGQ9dGhpczticmVhaztjYXNlImFmdGVyZW5kIjpjPXRoaXMucGFyZW50Tm9kZSxkPXRoaXMubmV4dFNpYmxpbmc7YnJlYWs7Y2FzZSJhZnRlcmJlZ2luIjpjPXRoaXMsZD10aGlzLmZpcnN0Q2hpbGQ7YnJlYWs7Y2FzZSJiZWZvcmVlbmQiOmM9dGhpcyxkPW51bGw7YnJlYWs7ZGVmYXVsdDpyZXR1cm59dmFyIGU9aihjLGIpO2MuaW5zZXJ0QmVmb3JlKGUsZCl9LGdldCBoaWRkZW4oKXtyZXR1cm4gdGhpcy5oYXNBdHRyaWJ1dGUoImhpZGRlbiIpfSxzZXQgaGlkZGVuKGEpe2E/dGhpcy5zZXRBdHRyaWJ1dGUoImhpZGRlbiIsIiIpOnRoaXMucmVtb3ZlQXR0cmlidXRlKCJoaWRkZW4iKX19KSxbImNsaWVudEhlaWdodCIsImNsaWVudExlZnQiLCJjbGllbnRUb3AiLCJjbGllbnRXaWR0aCIsIm9mZnNldEhlaWdodCIsIm9mZnNldExlZnQiLCJvZmZzZXRUb3AiLCJvZmZzZXRXaWR0aCIsInNjcm9sbEhlaWdodCIsInNjcm9sbFdpZHRoIl0uZm9yRWFjaChsKSxbInNjcm9sbExlZnQiLCJzY3JvbGxUb3AiXS5mb3JFYWNoKG0pLFsiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZ2V0Q2xpZW50UmVjdHMiLCJzY3JvbGxJbnRvVmlldyJdLmZvckVhY2gobiksdShGLGksZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYiIpKSxhLndyYXBwZXJzLkhUTUxFbGVtZW50PWksYS5nZXRJbm5lckhUTUw9ZyxhLnNldElubmVySFRNTD1ofSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLnVuc2FmZVVud3JhcCxnPWEud3JhcCxoPXdpbmRvdy5IVE1MQ2FudmFzRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtnZXRDb250ZXh0OmZ1bmN0aW9uKCl7dmFyIGE9Zih0aGlzKS5nZXRDb250ZXh0LmFwcGx5KGYodGhpcyksYXJndW1lbnRzKTtyZXR1cm4gYSYmZyhhKX19KSxlKGgsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSksYS53cmFwcGVycy5IVE1MQ2FudmFzRWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj13aW5kb3cuSFRNTENvbnRlbnRFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2NvbnN0cnVjdG9yOmIsZ2V0IHNlbGVjdCgpe3JldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgic2VsZWN0Iil9LHNldCBzZWxlY3QoYSl7dGhpcy5zZXRBdHRyaWJ1dGUoInNlbGVjdCIsYSl9LHNldEF0dHJpYnV0ZTpmdW5jdGlvbihhLGIpe2MucHJvdG90eXBlLnNldEF0dHJpYnV0ZS5jYWxsKHRoaXMsYSxiKSwic2VsZWN0Ij09PVN0cmluZyhhKS50b0xvd2VyQ2FzZSgpJiZ0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcighMCl9fSksZiYmZShmLGIpLGEud3JhcHBlcnMuSFRNTENvbnRlbnRFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEud3JhcEhUTUxDb2xsZWN0aW9uLGc9YS51bndyYXAsaD13aW5kb3cuSFRNTEZvcm1FbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldCBlbGVtZW50cygpe3JldHVybiBmKGcodGhpcykuZWxlbWVudHMpfX0pLGUoaCxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImZvcm0iKSksYS53cmFwcGVycy5IVE1MRm9ybUVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtkLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBjKGEsYil7aWYoISh0aGlzIGluc3RhbmNlb2YgYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiRE9NIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uIik7dmFyIGU9Zihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKSk7ZC5jYWxsKHRoaXMsZSksZyhlLHRoaXMpLHZvaWQgMCE9PWEmJihlLndpZHRoPWEpLHZvaWQgMCE9PWImJihlLmhlaWdodD1iKX12YXIgZD1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLnVud3JhcCxnPWEucmV3cmFwLGg9d2luZG93LkhUTUxJbWFnZUVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSksZShoLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIikpLGMucHJvdG90eXBlPWIucHJvdG90eXBlLGEud3JhcHBlcnMuSFRNTEltYWdlRWxlbWVudD1iLGEud3JhcHBlcnMuSW1hZ2U9Y30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9KGEubWl4aW4sYS53cmFwcGVycy5Ob2RlTGlzdCxhLnJlZ2lzdGVyV3JhcHBlciksZT13aW5kb3cuSFRNTFNoYWRvd0VsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksYi5wcm90b3R5cGUuY29uc3RydWN0b3I9YixlJiZkKGUsYiksYS53cmFwcGVycy5IVE1MU2hhZG93RWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2lmKCFhLmRlZmF1bHRWaWV3KXJldHVybiBhO3ZhciBiPWwuZ2V0KGEpO2lmKCFiKXtmb3IoYj1hLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIik7Yi5sYXN0Q2hpbGQ7KWIucmVtb3ZlQ2hpbGQoYi5sYXN0Q2hpbGQpO2wuc2V0KGEsYil9cmV0dXJuIGJ9ZnVuY3Rpb24gYyhhKXtmb3IodmFyIGMsZD1iKGEub3duZXJEb2N1bWVudCksZT1pKGQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTtjPWEuZmlyc3RDaGlsZDspZS5hcHBlbmRDaGlsZChjKTtyZXR1cm4gZX1mdW5jdGlvbiBkKGEpe2lmKGUuY2FsbCh0aGlzLGEpLCFtKXt2YXIgYj1jKGEpO2suc2V0KHRoaXMsaihiKSl9fXZhciBlPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZj1hLm1peGluLGc9YS5yZWdpc3RlcldyYXBwZXIsaD1hLnVuc2FmZVVud3JhcCxpPWEudW53cmFwLGo9YS53cmFwLGs9bmV3IFdlYWtNYXAsbD1uZXcgV2Vha01hcCxtPXdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50O2QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZS5wcm90b3R5cGUpLGYoZC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOmQsZ2V0IGNvbnRlbnQoKXtyZXR1cm4gbT9qKGgodGhpcykuY29udGVudCk6ay5nZXQodGhpcyl9fSksbSYmZyhtLGQpLGEud3JhcHBlcnMuSFRNTFRlbXBsYXRlRWxlbWVudD1kfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLnJlZ2lzdGVyV3JhcHBlcixlPXdpbmRvdy5IVE1MTWVkaWFFbGVtZW50O2UmJihiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGUsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpKSxhLndyYXBwZXJzLkhUTUxNZWRpYUVsZW1lbnQ9Yil9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7ZC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gYyhhKXtpZighKHRoaXMgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4iKTt2YXIgYj1mKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImF1ZGlvIikpO2QuY2FsbCh0aGlzLGIpLGcoYix0aGlzKSxiLnNldEF0dHJpYnV0ZSgicHJlbG9hZCIsImF1dG8iKSx2b2lkIDAhPT1hJiZiLnNldEF0dHJpYnV0ZSgic3JjIixhKX12YXIgZD1hLndyYXBwZXJzLkhUTUxNZWRpYUVsZW1lbnQsZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW53cmFwLGc9YS5yZXdyYXAsaD13aW5kb3cuSFRNTEF1ZGlvRWxlbWVudDtoJiYoYi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSksZShoLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYXVkaW8iKSksYy5wcm90b3R5cGU9Yi5wcm90b3R5cGUsYS53cmFwcGVycy5IVE1MQXVkaW9FbGVtZW50PWIsYS53cmFwcGVycy5BdWRpbz1jKX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtyZXR1cm4gYS5yZXBsYWNlKC9ccysvZywiICIpLnRyaW0oKX1mdW5jdGlvbiBjKGEpe2UuY2FsbCh0aGlzLGEpfWZ1bmN0aW9uIGQoYSxiLGMsZil7aWYoISh0aGlzIGluc3RhbmNlb2YgZCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiRE9NIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uIik7dmFyIGc9aShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSk7ZS5jYWxsKHRoaXMsZyksaChnLHRoaXMpLHZvaWQgMCE9PWEmJihnLnRleHQ9YSksdm9pZCAwIT09YiYmZy5zZXRBdHRyaWJ1dGUoInZhbHVlIixiKSxjPT09ITAmJmcuc2V0QXR0cmlidXRlKCJzZWxlY3RlZCIsIiIpLGcuc2VsZWN0ZWQ9Zj09PSEwfXZhciBlPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZj1hLm1peGluLGc9YS5yZWdpc3RlcldyYXBwZXIsaD1hLnJld3JhcCxpPWEudW53cmFwLGo9YS53cmFwLGs9d2luZG93LkhUTUxPcHRpb25FbGVtZW50O2MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZS5wcm90b3R5cGUpLGYoYy5wcm90b3R5cGUse2dldCB0ZXh0KCl7cmV0dXJuIGIodGhpcy50ZXh0Q29udGVudCl9LHNldCB0ZXh0KGEpe3RoaXMudGV4dENvbnRlbnQ9YihTdHJpbmcoYSkpfSxnZXQgZm9ybSgpe3JldHVybiBqKGkodGhpcykuZm9ybSl9fSksZyhrLGMsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLGQucHJvdG90eXBlPWMucHJvdG90eXBlLGEud3JhcHBlcnMuSFRNTE9wdGlvbkVsZW1lbnQ9YyxhLndyYXBwZXJzLk9wdGlvbj1kfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLnVud3JhcCxnPWEud3JhcCxoPXdpbmRvdy5IVE1MU2VsZWN0RWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHthZGQ6ZnVuY3Rpb24oYSxiKXsib2JqZWN0Ij09dHlwZW9mIGImJihiPWYoYikpLGYodGhpcykuYWRkKGYoYSksYil9LHJlbW92ZTpmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT92b2lkIGMucHJvdG90eXBlLnJlbW92ZS5jYWxsKHRoaXMpOigib2JqZWN0Ij09dHlwZW9mIGEmJihhPWYoYSkpLHZvaWQgZih0aGlzKS5yZW1vdmUoYSkpfSxnZXQgZm9ybSgpe3JldHVybiBnKGYodGhpcykuZm9ybSl9fSksZShoLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2VsZWN0IikpLGEud3JhcHBlcnMuSFRNTFNlbGVjdEVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS51bndyYXAsZz1hLndyYXAsaD1hLndyYXBIVE1MQ29sbGVjdGlvbixpPXdpbmRvdy5IVE1MVGFibGVFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldCBjYXB0aW9uKCl7cmV0dXJuIGcoZih0aGlzKS5jYXB0aW9uKX0sY3JlYXRlQ2FwdGlvbjpmdW5jdGlvbigpe3JldHVybiBnKGYodGhpcykuY3JlYXRlQ2FwdGlvbigpKX0sZ2V0IHRIZWFkKCl7cmV0dXJuIGcoZih0aGlzKS50SGVhZCl9LGNyZWF0ZVRIZWFkOmZ1bmN0aW9uKCl7cmV0dXJuIGcoZih0aGlzKS5jcmVhdGVUSGVhZCgpKX0sY3JlYXRlVEZvb3Q6ZnVuY3Rpb24oKXtyZXR1cm4gZyhmKHRoaXMpLmNyZWF0ZVRGb290KCkpfSxnZXQgdEZvb3QoKXtyZXR1cm4gZyhmKHRoaXMpLnRGb290KX0sZ2V0IHRCb2RpZXMoKXtyZXR1cm4gaChmKHRoaXMpLnRCb2RpZXMpfSxjcmVhdGVUQm9keTpmdW5jdGlvbigpe3JldHVybiBnKGYodGhpcykuY3JlYXRlVEJvZHkoKSl9LGdldCByb3dzKCl7cmV0dXJuIGgoZih0aGlzKS5yb3dzKX0saW5zZXJ0Um93OmZ1bmN0aW9uKGEpe3JldHVybiBnKGYodGhpcykuaW5zZXJ0Um93KGEpKX19KSxlKGksYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpKSxhLndyYXBwZXJzLkhUTUxUYWJsZUVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS53cmFwSFRNTENvbGxlY3Rpb24sZz1hLnVud3JhcCxoPWEud3JhcCxpPXdpbmRvdy5IVE1MVGFibGVTZWN0aW9uRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtjb25zdHJ1Y3RvcjpiLGdldCByb3dzKCl7cmV0dXJuIGYoZyh0aGlzKS5yb3dzKX0saW5zZXJ0Um93OmZ1bmN0aW9uKGEpe3JldHVybiBoKGcodGhpcykuaW5zZXJ0Um93KGEpKX19KSxlKGksYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0aGVhZCIpKSxhLndyYXBwZXJzLkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEud3JhcEhUTUxDb2xsZWN0aW9uLGc9YS51bndyYXAsaD1hLndyYXAsaT13aW5kb3cuSFRNTFRhYmxlUm93RWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtnZXQgY2VsbHMoKXtyZXR1cm4gZihnKHRoaXMpLmNlbGxzKX0saW5zZXJ0Q2VsbDpmdW5jdGlvbihhKXtyZXR1cm4gaChnKHRoaXMpLmluc2VydENlbGwoYSkpfX0pLGUoaSxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIikpLGEud3JhcHBlcnMuSFRNTFRhYmxlUm93RWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3N3aXRjaChhLmxvY2FsTmFtZSl7Y2FzZSJjb250ZW50IjpyZXR1cm4gbmV3IGMoYSk7Y2FzZSJzaGFkb3ciOnJldHVybiBuZXcgZShhKTtjYXNlInRlbXBsYXRlIjpyZXR1cm4gbmV3IGYoYSl9ZC5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MQ29udGVudEVsZW1lbnQsZD1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGU9YS53cmFwcGVycy5IVE1MU2hhZG93RWxlbWVudCxmPWEud3JhcHBlcnMuSFRNTFRlbXBsYXRlRWxlbWVudCxnPShhLm1peGluLGEucmVnaXN0ZXJXcmFwcGVyKSxoPXdpbmRvdy5IVE1MVW5rbm93bkVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSksZyhoLGIpLGEud3JhcHBlcnMuSFRNTFVua25vd25FbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO3ZhciBiPWEud3JhcHBlcnMuRWxlbWVudCxjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLnJlZ2lzdGVyT2JqZWN0LGU9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIixmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhlLCJ0aXRsZSIpLGc9ZChmKSxoPU9iamVjdC5nZXRQcm90b3R5cGVPZihnLnByb3RvdHlwZSkuY29uc3RydWN0b3I7aWYoISgiY2xhc3NMaXN0ImluIGYpKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGIucHJvdG90eXBlLCJjbGFzc0xpc3QiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYy5wcm90b3R5cGUsImNsYXNzTGlzdCIsaSksZGVsZXRlIGIucHJvdG90eXBlLmNsYXNzTGlzdH1hLndyYXBwZXJzLlNWR0VsZW1lbnQ9aH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXttLmNhbGwodGhpcyxhKX12YXIgYz1hLm1peGluLGQ9YS5yZWdpc3RlcldyYXBwZXIsZT1hLnVud3JhcCxmPWEud3JhcCxnPXdpbmRvdy5TVkdVc2VFbGVtZW50LGg9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIixpPWYoZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGgsImciKSksaj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoaCwidXNlIiksaz1pLmNvbnN0cnVjdG9yLGw9T2JqZWN0LmdldFByb3RvdHlwZU9mKGsucHJvdG90eXBlKSxtPWwuY29uc3RydWN0b3I7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShsKSwiaW5zdGFuY2VSb290ImluIGomJmMoYi5wcm90b3R5cGUse2dldCBpbnN0YW5jZVJvb3QoKXtyZXR1cm4gZihlKHRoaXMpLmluc3RhbmNlUm9vdCl9LGdldCBhbmltYXRlZEluc3RhbmNlUm9vdCgpe3JldHVybiBmKGUodGhpcykuYW5pbWF0ZWRJbnN0YW5jZVJvb3QpfX0pLGQoZyxiLGopLGEud3JhcHBlcnMuU1ZHVXNlRWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuRXZlbnRUYXJnZXQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLnVuc2FmZVVud3JhcCxnPWEud3JhcCxoPXdpbmRvdy5TVkdFbGVtZW50SW5zdGFuY2U7aCYmKGIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldCBjb3JyZXNwb25kaW5nRWxlbWVudCgpe3JldHVybiBnKGYodGhpcykuY29ycmVzcG9uZGluZ0VsZW1lbnQpCn0sZ2V0IGNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KCl7cmV0dXJuIGcoZih0aGlzKS5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCl9LGdldCBwYXJlbnROb2RlKCl7cmV0dXJuIGcoZih0aGlzKS5wYXJlbnROb2RlKX0sZ2V0IGNoaWxkTm9kZXMoKXt0aHJvdyBuZXcgRXJyb3IoIk5vdCBpbXBsZW1lbnRlZCIpfSxnZXQgZmlyc3RDaGlsZCgpe3JldHVybiBnKGYodGhpcykuZmlyc3RDaGlsZCl9LGdldCBsYXN0Q2hpbGQoKXtyZXR1cm4gZyhmKHRoaXMpLmxhc3RDaGlsZCl9LGdldCBwcmV2aW91c1NpYmxpbmcoKXtyZXR1cm4gZyhmKHRoaXMpLnByZXZpb3VzU2libGluZyl9LGdldCBuZXh0U2libGluZygpe3JldHVybiBnKGYodGhpcykubmV4dFNpYmxpbmcpfX0pLGUoaCxiKSxhLndyYXBwZXJzLlNWR0VsZW1lbnRJbnN0YW5jZT1iKX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtlKGEsdGhpcyl9dmFyIGM9YS5taXhpbixkPWEucmVnaXN0ZXJXcmFwcGVyLGU9YS5zZXRXcmFwcGVyLGY9YS51bnNhZmVVbndyYXAsZz1hLnVud3JhcCxoPWEudW53cmFwSWZOZWVkZWQsaT1hLndyYXAsaj13aW5kb3cuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO2MoYi5wcm90b3R5cGUse2dldCBjYW52YXMoKXtyZXR1cm4gaShmKHRoaXMpLmNhbnZhcyl9LGRyYXdJbWFnZTpmdW5jdGlvbigpe2FyZ3VtZW50c1swXT1oKGFyZ3VtZW50c1swXSksZih0aGlzKS5kcmF3SW1hZ2UuYXBwbHkoZih0aGlzKSxhcmd1bWVudHMpfSxjcmVhdGVQYXR0ZXJuOmZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c1swXT1nKGFyZ3VtZW50c1swXSksZih0aGlzKS5jcmVhdGVQYXR0ZXJuLmFwcGx5KGYodGhpcyksYXJndW1lbnRzKX19KSxkKGosYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKS5nZXRDb250ZXh0KCIyZCIpKSxhLndyYXBwZXJzLkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2UoYSx0aGlzKX12YXIgYz1hLm1peGluLGQ9YS5yZWdpc3RlcldyYXBwZXIsZT1hLnNldFdyYXBwZXIsZj1hLnVuc2FmZVVud3JhcCxnPWEudW53cmFwSWZOZWVkZWQsaD1hLndyYXAsaT13aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0O2lmKGkpe2MoYi5wcm90b3R5cGUse2dldCBjYW52YXMoKXtyZXR1cm4gaChmKHRoaXMpLmNhbnZhcyl9LHRleEltYWdlMkQ6ZnVuY3Rpb24oKXthcmd1bWVudHNbNV09Zyhhcmd1bWVudHNbNV0pLGYodGhpcykudGV4SW1hZ2UyRC5hcHBseShmKHRoaXMpLGFyZ3VtZW50cyl9LHRleFN1YkltYWdlMkQ6ZnVuY3Rpb24oKXthcmd1bWVudHNbNl09Zyhhcmd1bWVudHNbNl0pLGYodGhpcykudGV4U3ViSW1hZ2UyRC5hcHBseShmKHRoaXMpLGFyZ3VtZW50cyl9fSk7dmFyIGo9L1dlYktpdC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KT97ZHJhd2luZ0J1ZmZlckhlaWdodDpudWxsLGRyYXdpbmdCdWZmZXJXaWR0aDpudWxsfTp7fTtkKGksYixqKSxhLndyYXBwZXJzLldlYkdMUmVuZGVyaW5nQ29udGV4dD1ifX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtkKGEsdGhpcyl9dmFyIGM9YS5yZWdpc3RlcldyYXBwZXIsZD1hLnNldFdyYXBwZXIsZT1hLnVuc2FmZVVud3JhcCxmPWEudW53cmFwLGc9YS51bndyYXBJZk5lZWRlZCxoPWEud3JhcCxpPXdpbmRvdy5SYW5nZTtiLnByb3RvdHlwZT17Z2V0IHN0YXJ0Q29udGFpbmVyKCl7cmV0dXJuIGgoZSh0aGlzKS5zdGFydENvbnRhaW5lcil9LGdldCBlbmRDb250YWluZXIoKXtyZXR1cm4gaChlKHRoaXMpLmVuZENvbnRhaW5lcil9LGdldCBjb21tb25BbmNlc3RvckNvbnRhaW5lcigpe3JldHVybiBoKGUodGhpcykuY29tbW9uQW5jZXN0b3JDb250YWluZXIpfSxzZXRTdGFydDpmdW5jdGlvbihhLGIpe2UodGhpcykuc2V0U3RhcnQoZyhhKSxiKX0sc2V0RW5kOmZ1bmN0aW9uKGEsYil7ZSh0aGlzKS5zZXRFbmQoZyhhKSxiKX0sc2V0U3RhcnRCZWZvcmU6ZnVuY3Rpb24oYSl7ZSh0aGlzKS5zZXRTdGFydEJlZm9yZShnKGEpKX0sc2V0U3RhcnRBZnRlcjpmdW5jdGlvbihhKXtlKHRoaXMpLnNldFN0YXJ0QWZ0ZXIoZyhhKSl9LHNldEVuZEJlZm9yZTpmdW5jdGlvbihhKXtlKHRoaXMpLnNldEVuZEJlZm9yZShnKGEpKX0sc2V0RW5kQWZ0ZXI6ZnVuY3Rpb24oYSl7ZSh0aGlzKS5zZXRFbmRBZnRlcihnKGEpKX0sc2VsZWN0Tm9kZTpmdW5jdGlvbihhKXtlKHRoaXMpLnNlbGVjdE5vZGUoZyhhKSl9LHNlbGVjdE5vZGVDb250ZW50czpmdW5jdGlvbihhKXtlKHRoaXMpLnNlbGVjdE5vZGVDb250ZW50cyhnKGEpKX0sY29tcGFyZUJvdW5kYXJ5UG9pbnRzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGUodGhpcykuY29tcGFyZUJvdW5kYXJ5UG9pbnRzKGEsZihiKSl9LGV4dHJhY3RDb250ZW50czpmdW5jdGlvbigpe3JldHVybiBoKGUodGhpcykuZXh0cmFjdENvbnRlbnRzKCkpfSxjbG9uZUNvbnRlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIGgoZSh0aGlzKS5jbG9uZUNvbnRlbnRzKCkpfSxpbnNlcnROb2RlOmZ1bmN0aW9uKGEpe2UodGhpcykuaW5zZXJ0Tm9kZShnKGEpKX0sc3Vycm91bmRDb250ZW50czpmdW5jdGlvbihhKXtlKHRoaXMpLnN1cnJvdW5kQ29udGVudHMoZyhhKSl9LGNsb25lUmFuZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gaChlKHRoaXMpLmNsb25lUmFuZ2UoKSl9LGlzUG9pbnRJblJhbmdlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGUodGhpcykuaXNQb2ludEluUmFuZ2UoZyhhKSxiKX0sY29tcGFyZVBvaW50OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGUodGhpcykuY29tcGFyZVBvaW50KGcoYSksYil9LGludGVyc2VjdHNOb2RlOmZ1bmN0aW9uKGEpe3JldHVybiBlKHRoaXMpLmludGVyc2VjdHNOb2RlKGcoYSkpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiBlKHRoaXMpLnRvU3RyaW5nKCl9fSxpLnByb3RvdHlwZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQmJihiLnByb3RvdHlwZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGgoZSh0aGlzKS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoYSkpfSksYyh3aW5kb3cuUmFuZ2UsYixkb2N1bWVudC5jcmVhdGVSYW5nZSgpKSxhLndyYXBwZXJzLlJhbmdlPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO3ZhciBiPWEuR2V0RWxlbWVudHNCeUludGVyZmFjZSxjPWEuUGFyZW50Tm9kZUludGVyZmFjZSxkPWEuU2VsZWN0b3JzSW50ZXJmYWNlLGU9YS5taXhpbixmPWEucmVnaXN0ZXJPYmplY3QsZz1mKGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7ZShnLnByb3RvdHlwZSxjKSxlKGcucHJvdG90eXBlLGQpLGUoZy5wcm90b3R5cGUsYik7dmFyIGg9Zihkb2N1bWVudC5jcmVhdGVDb21tZW50KCIiKSk7YS53cmFwcGVycy5Db21tZW50PWgsYS53cmFwcGVycy5Eb2N1bWVudEZyYWdtZW50PWd9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dmFyIGI9bChrKGEpLm93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTtjLmNhbGwodGhpcyxiKSxpKGIsdGhpcyk7dmFyIGU9YS5zaGFkb3dSb290O24uc2V0KHRoaXMsZSksdGhpcy50cmVlU2NvcGVfPW5ldyBkKHRoaXMsZyhlfHxhKSksbS5zZXQodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkRvY3VtZW50RnJhZ21lbnQsZD1hLlRyZWVTY29wZSxlPWEuZWxlbWVudEZyb21Qb2ludCxmPWEuZ2V0SW5uZXJIVE1MLGc9YS5nZXRUcmVlU2NvcGUsaD1hLm1peGluLGk9YS5yZXdyYXAsaj1hLnNldElubmVySFRNTCxrPWEudW5zYWZlVW53cmFwLGw9YS51bndyYXAsbT1uZXcgV2Vha01hcCxuPW5ldyBXZWFrTWFwLG89L1sgXHRcblxyXGZdLztiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxoKGIucHJvdG90eXBlLHtjb25zdHJ1Y3RvcjpiLGdldCBpbm5lckhUTUwoKXtyZXR1cm4gZih0aGlzKX0sc2V0IGlubmVySFRNTChhKXtqKHRoaXMsYSksdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKX0sZ2V0IG9sZGVyU2hhZG93Um9vdCgpe3JldHVybiBuLmdldCh0aGlzKXx8bnVsbH0sZ2V0IGhvc3QoKXtyZXR1cm4gbS5nZXQodGhpcyl8fG51bGx9LGludmFsaWRhdGVTaGFkb3dSZW5kZXJlcjpmdW5jdGlvbigpe3JldHVybiBtLmdldCh0aGlzKS5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKX0sZWxlbWVudEZyb21Qb2ludDpmdW5jdGlvbihhLGIpe3JldHVybiBlKHRoaXMsdGhpcy5vd25lckRvY3VtZW50LGEsYil9LGdldEVsZW1lbnRCeUlkOmZ1bmN0aW9uKGEpe3JldHVybiBvLnRlc3QoYSk/bnVsbDp0aGlzLnF1ZXJ5U2VsZWN0b3IoJ1tpZD0iJythKyciXScpfX0pLGEud3JhcHBlcnMuU2hhZG93Um9vdD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2EucHJldmlvdXNTaWJsaW5nXz1hLnByZXZpb3VzU2libGluZyxhLm5leHRTaWJsaW5nXz1hLm5leHRTaWJsaW5nLGEucGFyZW50Tm9kZV89YS5wYXJlbnROb2RlfWZ1bmN0aW9uIGMoYyxlLGYpe3ZhciBnPUgoYyksaD1IKGUpLGk9Zj9IKGYpOm51bGw7aWYoZChlKSxiKGUpLGYpYy5maXJzdENoaWxkPT09ZiYmKGMuZmlyc3RDaGlsZF89ZiksZi5wcmV2aW91c1NpYmxpbmdfPWYucHJldmlvdXNTaWJsaW5nO2Vsc2V7Yy5sYXN0Q2hpbGRfPWMubGFzdENoaWxkLGMubGFzdENoaWxkPT09Yy5maXJzdENoaWxkJiYoYy5maXJzdENoaWxkXz1jLmZpcnN0Q2hpbGQpO3ZhciBqPUkoZy5sYXN0Q2hpbGQpO2omJihqLm5leHRTaWJsaW5nXz1qLm5leHRTaWJsaW5nKX1hLm9yaWdpbmFsSW5zZXJ0QmVmb3JlLmNhbGwoZyxoLGkpfWZ1bmN0aW9uIGQoYyl7dmFyIGQ9SChjKSxlPWQucGFyZW50Tm9kZTtpZihlKXt2YXIgZj1JKGUpO2IoYyksYy5wcmV2aW91c1NpYmxpbmcmJihjLnByZXZpb3VzU2libGluZy5uZXh0U2libGluZ189YyksYy5uZXh0U2libGluZyYmKGMubmV4dFNpYmxpbmcucHJldmlvdXNTaWJsaW5nXz1jKSxmLmxhc3RDaGlsZD09PWMmJihmLmxhc3RDaGlsZF89YyksZi5maXJzdENoaWxkPT09YyYmKGYuZmlyc3RDaGlsZF89YyksYS5vcmlnaW5hbFJlbW92ZUNoaWxkLmNhbGwoZSxkKX19ZnVuY3Rpb24gZShhKXtKLnNldChhLFtdKX1mdW5jdGlvbiBmKGEpe3ZhciBiPUouZ2V0KGEpO3JldHVybiBifHxKLnNldChhLGI9W10pLGJ9ZnVuY3Rpb24gZyhhKXtmb3IodmFyIGI9W10sYz0wLGQ9YS5maXJzdENoaWxkO2Q7ZD1kLm5leHRTaWJsaW5nKWJbYysrXT1kO3JldHVybiBifWZ1bmN0aW9uIGgoKXtmb3IodmFyIGE9MDthPE4ubGVuZ3RoO2ErKyl7dmFyIGI9TlthXSxjPWIucGFyZW50UmVuZGVyZXI7YyYmYy5kaXJ0eXx8Yi5yZW5kZXIoKX1OPVtdfWZ1bmN0aW9uIGkoKXt5PW51bGwsaCgpfWZ1bmN0aW9uIGooYSl7dmFyIGI9TC5nZXQoYSk7cmV0dXJuIGJ8fChiPW5ldyBuKGEpLEwuc2V0KGEsYikpLGJ9ZnVuY3Rpb24gayhhKXt2YXIgYj1FKGEpLnJvb3Q7cmV0dXJuIGIgaW5zdGFuY2VvZiBEP2I6bnVsbH1mdW5jdGlvbiBsKGEpe3JldHVybiBqKGEuaG9zdCl9ZnVuY3Rpb24gbShhKXt0aGlzLnNraXA9ITEsdGhpcy5ub2RlPWEsdGhpcy5jaGlsZE5vZGVzPVtdfWZ1bmN0aW9uIG4oYSl7dGhpcy5ob3N0PWEsdGhpcy5kaXJ0eT0hMSx0aGlzLmludmFsaWRhdGVBdHRyaWJ1dGVzKCksdGhpcy5hc3NvY2lhdGVOb2RlKGEpfWZ1bmN0aW9uIG8oYSl7Zm9yKHZhciBiPVtdLGM9YS5maXJzdENoaWxkO2M7Yz1jLm5leHRTaWJsaW5nKXYoYyk/Yi5wdXNoLmFwcGx5KGIsZihjKSk6Yi5wdXNoKGMpO3JldHVybiBifWZ1bmN0aW9uIHAoYSl7aWYoYSBpbnN0YW5jZW9mIEIpcmV0dXJuIGE7aWYoYSBpbnN0YW5jZW9mIEEpcmV0dXJuIG51bGw7Zm9yKHZhciBiPWEuZmlyc3RDaGlsZDtiO2I9Yi5uZXh0U2libGluZyl7dmFyIGM9cChiKTtpZihjKXJldHVybiBjfXJldHVybiBudWxsfWZ1bmN0aW9uIHEoYSxiKXtmKGIpLnB1c2goYSk7dmFyIGM9Sy5nZXQoYSk7Yz9jLnB1c2goYik6Sy5zZXQoYSxbYl0pfWZ1bmN0aW9uIHIoYSl7cmV0dXJuIEsuZ2V0KGEpfWZ1bmN0aW9uIHMoYSl7Sy5zZXQoYSx2b2lkIDApfWZ1bmN0aW9uIHQoYSxiKXt2YXIgYz1iLmdldEF0dHJpYnV0ZSgic2VsZWN0Iik7aWYoIWMpcmV0dXJuITA7aWYoYz1jLnRyaW0oKSwhYylyZXR1cm4hMDtpZighKGEgaW5zdGFuY2VvZiB6KSlyZXR1cm4hMTtpZighUC50ZXN0KGMpKXJldHVybiExO3RyeXtyZXR1cm4gYS5tYXRjaGVzKGMpfWNhdGNoKGQpe3JldHVybiExfX1mdW5jdGlvbiB1KGEsYil7dmFyIGM9cihiKTtyZXR1cm4gYyYmY1tjLmxlbmd0aC0xXT09PWF9ZnVuY3Rpb24gdihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEF8fGEgaW5zdGFuY2VvZiBCfWZ1bmN0aW9uIHcoYSl7cmV0dXJuIGEuc2hhZG93Um9vdH1mdW5jdGlvbiB4KGEpe2Zvcih2YXIgYj1bXSxjPWEuc2hhZG93Um9vdDtjO2M9Yy5vbGRlclNoYWRvd1Jvb3QpYi5wdXNoKGMpO3JldHVybiBifXZhciB5LHo9YS53cmFwcGVycy5FbGVtZW50LEE9YS53cmFwcGVycy5IVE1MQ29udGVudEVsZW1lbnQsQj1hLndyYXBwZXJzLkhUTUxTaGFkb3dFbGVtZW50LEM9YS53cmFwcGVycy5Ob2RlLEQ9YS53cmFwcGVycy5TaGFkb3dSb290LEU9KGEuYXNzZXJ0LGEuZ2V0VHJlZVNjb3BlKSxGPShhLm1peGluLGEub25lT2YpLEc9YS51bnNhZmVVbndyYXAsSD1hLnVud3JhcCxJPWEud3JhcCxKPW5ldyBXZWFrTWFwLEs9bmV3IFdlYWtNYXAsTD1uZXcgV2Vha01hcCxNPUYod2luZG93LFsicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2V0VGltZW91dCJdKSxOPVtdLE89bmV3IEFycmF5U3BsaWNlO08uZXF1YWxzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIEgoYS5ub2RlKT09PWJ9LG0ucHJvdG90eXBlPXthcHBlbmQ6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IG0oYSk7cmV0dXJuIHRoaXMuY2hpbGROb2Rlcy5wdXNoKGIpLGJ9LHN5bmM6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuc2tpcCl7Zm9yKHZhciBiPXRoaXMubm9kZSxlPXRoaXMuY2hpbGROb2RlcyxmPWcoSChiKSksaD1hfHxuZXcgV2Vha01hcCxpPU8uY2FsY3VsYXRlU3BsaWNlcyhlLGYpLGo9MCxrPTAsbD0wLG09MDttPGkubGVuZ3RoO20rKyl7Zm9yKHZhciBuPWlbbV07bDxuLmluZGV4O2wrKylrKyssZVtqKytdLnN5bmMoaCk7Zm9yKHZhciBvPW4ucmVtb3ZlZC5sZW5ndGgscD0wO28+cDtwKyspe3ZhciBxPUkoZltrKytdKTtoLmdldChxKXx8ZChxKX1mb3IodmFyIHI9bi5hZGRlZENvdW50LHM9ZltrXSYmSShmW2tdKSxwPTA7cj5wO3ArKyl7dmFyIHQ9ZVtqKytdLHU9dC5ub2RlO2MoYix1LHMpLGguc2V0KHUsITApLHQuc3luYyhoKX1sKz1yfWZvcih2YXIgbT1sO208ZS5sZW5ndGg7bSsrKWVbbV0uc3luYyhoKX19fSxuLnByb3RvdHlwZT17cmVuZGVyOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZGlydHkpe3RoaXMuaW52YWxpZGF0ZUF0dHJpYnV0ZXMoKTt2YXIgYj10aGlzLmhvc3Q7dGhpcy5kaXN0cmlidXRpb24oYik7dmFyIGM9YXx8bmV3IG0oYik7dGhpcy5idWlsZFJlbmRlclRyZWUoYyxiKTt2YXIgZD0hYTtkJiZjLnN5bmMoKSx0aGlzLmRpcnR5PSExfX0sZ2V0IHBhcmVudFJlbmRlcmVyKCl7cmV0dXJuIEUodGhpcy5ob3N0KS5yZW5kZXJlcn0saW52YWxpZGF0ZTpmdW5jdGlvbigpe2lmKCF0aGlzLmRpcnR5KXt0aGlzLmRpcnR5PSEwO3ZhciBhPXRoaXMucGFyZW50UmVuZGVyZXI7aWYoYSYmYS5pbnZhbGlkYXRlKCksTi5wdXNoKHRoaXMpLHkpcmV0dXJuO3k9d2luZG93W01dKGksMCl9fSxkaXN0cmlidXRpb246ZnVuY3Rpb24oYSl7dGhpcy5yZXNldEFsbFN1YnRyZWVzKGEpLHRoaXMuZGlzdHJpYnV0aW9uUmVzb2x1dGlvbihhKX0scmVzZXRBbGw6ZnVuY3Rpb24oYSl7dihhKT9lKGEpOnMoYSksdGhpcy5yZXNldEFsbFN1YnRyZWVzKGEpfSxyZXNldEFsbFN1YnRyZWVzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmZpcnN0Q2hpbGQ7YjtiPWIubmV4dFNpYmxpbmcpdGhpcy5yZXNldEFsbChiKTthLnNoYWRvd1Jvb3QmJnRoaXMucmVzZXRBbGwoYS5zaGFkb3dSb290KSxhLm9sZGVyU2hhZG93Um9vdCYmdGhpcy5yZXNldEFsbChhLm9sZGVyU2hhZG93Um9vdCl9LGRpc3RyaWJ1dGlvblJlc29sdXRpb246ZnVuY3Rpb24oYSl7aWYodyhhKSl7Zm9yKHZhciBiPWEsYz1vKGIpLGQ9eChiKSxlPTA7ZTxkLmxlbmd0aDtlKyspdGhpcy5wb29sRGlzdHJpYnV0aW9uKGRbZV0sYyk7Zm9yKHZhciBlPWQubGVuZ3RoLTE7ZT49MDtlLS0pe3ZhciBmPWRbZV0sZz1wKGYpO2lmKGcpe3ZhciBoPWYub2xkZXJTaGFkb3dSb290O2gmJihjPW8oaCkpO2Zvcih2YXIgaT0wO2k8Yy5sZW5ndGg7aSsrKXEoY1tpXSxnKX10aGlzLmRpc3RyaWJ1dGlvblJlc29sdXRpb24oZil9fWZvcih2YXIgaj1hLmZpcnN0Q2hpbGQ7ajtqPWoubmV4dFNpYmxpbmcpdGhpcy5kaXN0cmlidXRpb25SZXNvbHV0aW9uKGopfSxwb29sRGlzdHJpYnV0aW9uOmZ1bmN0aW9uKGEsYil7aWYoIShhIGluc3RhbmNlb2YgQikpaWYoYSBpbnN0YW5jZW9mIEEpe3ZhciBjPWE7dGhpcy51cGRhdGVEZXBlbmRlbnRBdHRyaWJ1dGVzKGMuZ2V0QXR0cmlidXRlKCJzZWxlY3QiKSk7Zm9yKHZhciBkPSExLGU9MDtlPGIubGVuZ3RoO2UrKyl7dmFyIGE9YltlXTthJiZ0KGEsYykmJihxKGEsYyksYltlXT12b2lkIDAsZD0hMCl9aWYoIWQpZm9yKHZhciBmPWMuZmlyc3RDaGlsZDtmO2Y9Zi5uZXh0U2libGluZylxKGYsYyl9ZWxzZSBmb3IodmFyIGY9YS5maXJzdENoaWxkO2Y7Zj1mLm5leHRTaWJsaW5nKXRoaXMucG9vbERpc3RyaWJ1dGlvbihmLGIpfSxidWlsZFJlbmRlclRyZWU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5jb21wb3NlKGIpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXSxmPWEuYXBwZW5kKGUpO3RoaXMuYnVpbGRSZW5kZXJUcmVlKGYsZSl9aWYodyhiKSl7dmFyIGc9aihiKTtnLmRpcnR5PSExfX0sY29tcG9zZTpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz1hLnNoYWRvd1Jvb3R8fGEsZD1jLmZpcnN0Q2hpbGQ7ZDtkPWQubmV4dFNpYmxpbmcpaWYodihkKSl7dGhpcy5hc3NvY2lhdGVOb2RlKGMpO2Zvcih2YXIgZT1mKGQpLGc9MDtnPGUubGVuZ3RoO2crKyl7dmFyIGg9ZVtnXTt1KGQsaCkmJmIucHVzaChoKX19ZWxzZSBiLnB1c2goZCk7cmV0dXJuIGJ9LGludmFsaWRhdGVBdHRyaWJ1dGVzOmZ1bmN0aW9uKCl7dGhpcy5hdHRyaWJ1dGVzPU9iamVjdC5jcmVhdGUobnVsbCl9LHVwZGF0ZURlcGVuZGVudEF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI9dGhpcy5hdHRyaWJ1dGVzOy9cLlx3Ky8udGVzdChhKSYmKGJbImNsYXNzIl09ITApLC8jXHcrLy50ZXN0KGEpJiYoYi5pZD0hMCksYS5yZXBsYWNlKC9cW1xzKihbXlxzPVx8flxdXSspL2csZnVuY3Rpb24oYSxjKXtiW2NdPSEwfSl9fSxkZXBlbmRzT25BdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc1thXX0sYXNzb2NpYXRlTm9kZTpmdW5jdGlvbihhKXtHKGEpLnBvbHltZXJTaGFkb3dSZW5kZXJlcl89dGhpc319O3ZhciBQPS9eKDpub3RcKCk/WyouI1thLXpBLVpffF0vO0MucHJvdG90eXBlLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcj1mdW5jdGlvbigpe3ZhciBhPUcodGhpcykucG9seW1lclNoYWRvd1JlbmRlcmVyXztyZXR1cm4gYT8oYS5pbnZhbGlkYXRlKCksITApOiExfSxBLnByb3RvdHlwZS5nZXREaXN0cmlidXRlZE5vZGVzPUIucHJvdG90eXBlLmdldERpc3RyaWJ1dGVkTm9kZXM9ZnVuY3Rpb24oKXtyZXR1cm4gaCgpLGYodGhpcyl9LHoucHJvdG90eXBlLmdldERlc3RpbmF0aW9uSW5zZXJ0aW9uUG9pbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIGgoKSxyKHRoaXMpfHxbXX0sQS5wcm90b3R5cGUubm9kZUlzSW5zZXJ0ZWRfPUIucHJvdG90eXBlLm5vZGVJc0luc2VydGVkXz1mdW5jdGlvbigpe3RoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCk7dmFyIGEsYj1rKHRoaXMpO2ImJihhPWwoYikpLEcodGhpcykucG9seW1lclNoYWRvd1JlbmRlcmVyXz1hLGEmJmEuaW52YWxpZGF0ZSgpfSxhLmdldFJlbmRlcmVyRm9ySG9zdD1qLGEuZ2V0U2hhZG93VHJlZXM9eCxhLnJlbmRlckFsbFBlbmRpbmc9aCxhLmdldERlc3RpbmF0aW9uSW5zZXJ0aW9uUG9pbnRzPXIsYS52aXN1YWw9e2luc2VydEJlZm9yZTpjLHJlbW92ZTpkfX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihiKXtpZih3aW5kb3dbYl0pe2QoIWEud3JhcHBlcnNbYl0pO3ZhciBpPWZ1bmN0aW9uKGEpe2MuY2FsbCh0aGlzLGEpfTtpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxlKGkucHJvdG90eXBlLHtnZXQgZm9ybSgpe3JldHVybiBoKGcodGhpcykuZm9ybSl9fSksZih3aW5kb3dbYl0saSxkb2N1bWVudC5jcmVhdGVFbGVtZW50KGIuc2xpY2UoNCwtNykpKSxhLndyYXBwZXJzW2JdPWl9fXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLmFzc2VydCxlPWEubWl4aW4sZj1hLnJlZ2lzdGVyV3JhcHBlcixnPWEudW53cmFwLGg9YS53cmFwLGk9WyJIVE1MQnV0dG9uRWxlbWVudCIsIkhUTUxGaWVsZFNldEVsZW1lbnQiLCJIVE1MSW5wdXRFbGVtZW50IiwiSFRNTEtleWdlbkVsZW1lbnQiLCJIVE1MTGFiZWxFbGVtZW50IiwiSFRNTExlZ2VuZEVsZW1lbnQiLCJIVE1MT2JqZWN0RWxlbWVudCIsIkhUTUxPdXRwdXRFbGVtZW50IiwiSFRNTFRleHRBcmVhRWxlbWVudCJdO2kuZm9yRWFjaChiKX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtkKGEsdGhpcyl9e3ZhciBjPWEucmVnaXN0ZXJXcmFwcGVyLGQ9YS5zZXRXcmFwcGVyLGU9YS51bnNhZmVVbndyYXAsZj1hLnVud3JhcCxnPWEudW53cmFwSWZOZWVkZWQsaD1hLndyYXA7d2luZG93LlNlbGVjdGlvbn1iLnByb3RvdHlwZT17Z2V0IGFuY2hvck5vZGUoKXtyZXR1cm4gaChlKHRoaXMpLmFuY2hvck5vZGUpfSxnZXQgZm9jdXNOb2RlKCl7cmV0dXJuIGgoZSh0aGlzKS5mb2N1c05vZGUpfSxhZGRSYW5nZTpmdW5jdGlvbihhKXtlKHRoaXMpLmFkZFJhbmdlKGYoYSkpfSxjb2xsYXBzZTpmdW5jdGlvbihhLGIpe2UodGhpcykuY29sbGFwc2UoZyhhKSxiKX0sY29udGFpbnNOb2RlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGUodGhpcykuY29udGFpbnNOb2RlKGcoYSksYil9LGV4dGVuZDpmdW5jdGlvbihhLGIpe2UodGhpcykuZXh0ZW5kKGcoYSksYil9LGdldFJhbmdlQXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGgoZSh0aGlzKS5nZXRSYW5nZUF0KGEpKX0scmVtb3ZlUmFuZ2U6ZnVuY3Rpb24oYSl7ZSh0aGlzKS5yZW1vdmVSYW5nZShmKGEpKX0sc2VsZWN0QWxsQ2hpbGRyZW46ZnVuY3Rpb24oYSl7ZSh0aGlzKS5zZWxlY3RBbGxDaGlsZHJlbihnKGEpKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzKS50b1N0cmluZygpfX0sYyh3aW5kb3cuU2VsZWN0aW9uLGIsd2luZG93LmdldFNlbGVjdGlvbigpKSxhLndyYXBwZXJzLlNlbGVjdGlvbj1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2suY2FsbCh0aGlzLGEpLHRoaXMudHJlZVNjb3BlXz1uZXcgcCh0aGlzLG51bGwpfWZ1bmN0aW9uIGMoYSl7dmFyIGM9ZG9jdW1lbnRbYV07Yi5wcm90b3R5cGVbYV09ZnVuY3Rpb24oKXtyZXR1cm4gQyhjLmFwcGx5KEEodGhpcyksYXJndW1lbnRzKSl9fWZ1bmN0aW9uIGQoYSxiKXtGLmNhbGwoQShiKSxCKGEpKSxlKGEsYil9ZnVuY3Rpb24gZShhLGIpe2Euc2hhZG93Um9vdCYmYi5hZG9wdE5vZGUoYS5zaGFkb3dSb290KSxhIGluc3RhbmNlb2YgbyYmZihhLGIpO2Zvcih2YXIgYz1hLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpZShjLGIpfWZ1bmN0aW9uIGYoYSxiKXt2YXIgYz1hLm9sZGVyU2hhZG93Um9vdDtjJiZiLmFkb3B0Tm9kZShjKX1mdW5jdGlvbiBnKGEpe3ooYSx0aGlzKX1mdW5jdGlvbiBoKGEsYil7dmFyIGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb25bYl07YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXtyZXR1cm4gQyhjLmFwcGx5KEEodGhpcyksYXJndW1lbnRzKSl9fWZ1bmN0aW9uIGkoYSxiKXt2YXIgYz1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbltiXTthLnByb3RvdHlwZVtiXT1mdW5jdGlvbigpe3JldHVybiBjLmFwcGx5KEEodGhpcyksYXJndW1lbnRzKX19dmFyIGo9YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLGs9YS53cmFwcGVycy5Ob2RlLGw9YS5QYXJlbnROb2RlSW50ZXJmYWNlLG09YS53cmFwcGVycy5TZWxlY3Rpb24sbj1hLlNlbGVjdG9yc0ludGVyZmFjZSxvPWEud3JhcHBlcnMuU2hhZG93Um9vdCxwPWEuVHJlZVNjb3BlLHE9YS5jbG9uZU5vZGUscj1hLmRlZmluZVdyYXBHZXR0ZXIscz1hLmVsZW1lbnRGcm9tUG9pbnQsdD1hLmZvcndhcmRNZXRob2RzVG9XcmFwcGVyLHU9YS5tYXRjaGVzTmFtZXMsdj1hLm1peGluLHc9YS5yZWdpc3RlcldyYXBwZXIseD1hLnJlbmRlckFsbFBlbmRpbmcseT1hLnJld3JhcCx6PWEuc2V0V3JhcHBlcixBPWEudW5zYWZlVW53cmFwLEI9YS51bndyYXAsQz1hLndyYXAsRD1hLndyYXBFdmVudFRhcmdldE1ldGhvZHMsRT0oYS53cmFwTm9kZUxpc3QsbmV3IFdlYWtNYXApO2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoay5wcm90b3R5cGUpLHIoYiwiZG9jdW1lbnRFbGVtZW50IikscihiLCJib2R5IikscihiLCJoZWFkIiksWyJjcmVhdGVDb21tZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJjcmVhdGVFdmVudCIsImNyZWF0ZUV2ZW50TlMiLCJjcmVhdGVSYW5nZSIsImNyZWF0ZVRleHROb2RlIiwiZ2V0RWxlbWVudEJ5SWQiXS5mb3JFYWNoKGMpO3ZhciBGPWRvY3VtZW50LmFkb3B0Tm9kZSxHPWRvY3VtZW50LmdldFNlbGVjdGlvbjtpZih2KGIucHJvdG90eXBlLHthZG9wdE5vZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpLGQoYSx0aGlzKSxhfSxlbGVtZW50RnJvbVBvaW50OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHModGhpcyx0aGlzLGEsYil9LGltcG9ydE5vZGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcShhLGIsQSh0aGlzKSl9LGdldFNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB4KCksbmV3IG0oRy5jYWxsKEIodGhpcykpKX0sZ2V0RWxlbWVudHNCeU5hbWU6ZnVuY3Rpb24oYSl7cmV0dXJuIG4ucXVlcnlTZWxlY3RvckFsbC5jYWxsKHRoaXMsIltuYW1lPSIrSlNPTi5zdHJpbmdpZnkoU3RyaW5nKGEpKSsiXSIpfX0pLGRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCl7dmFyIEg9ZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50O2IucHJvdG90eXBlLnJlZ2lzdGVyRWxlbWVudD1mdW5jdGlvbihiLGMpe2Z1bmN0aW9uIGQoYSl7cmV0dXJuIGE/dm9pZCB6KGEsdGhpcyk6Zj9kb2N1bWVudC5jcmVhdGVFbGVtZW50KGYsYik6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChiKX12YXIgZSxmO2lmKHZvaWQgMCE9PWMmJihlPWMucHJvdG90eXBlLGY9Yy5leHRlbmRzKSxlfHwoZT1PYmplY3QuY3JlYXRlKEhUTUxFbGVtZW50LnByb3RvdHlwZSkpLGEubmF0aXZlUHJvdG90eXBlVGFibGUuZ2V0KGUpKXRocm93IG5ldyBFcnJvcigiTm90U3VwcG9ydGVkRXJyb3IiKTtmb3IodmFyIGcsaD1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSksaT1bXTtoJiYhKGc9YS5uYXRpdmVQcm90b3R5cGVUYWJsZS5nZXQoaCkpOylpLnB1c2goaCksaD1PYmplY3QuZ2V0UHJvdG90eXBlT2YoaCk7aWYoIWcpdGhyb3cgbmV3IEVycm9yKCJOb3RTdXBwb3J0ZWRFcnJvciIpO2Zvcih2YXIgaj1PYmplY3QuY3JlYXRlKGcpLGs9aS5sZW5ndGgtMTtrPj0wO2stLSlqPU9iamVjdC5jcmVhdGUoaik7WyJjcmVhdGVkQ2FsbGJhY2siLCJhdHRhY2hlZENhbGxiYWNrIiwiZGV0YWNoZWRDYWxsYmFjayIsImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayJdLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9ZVthXTtiJiYoalthXT1mdW5jdGlvbigpe0ModGhpcylpbnN0YW5jZW9mIGR8fHkodGhpcyksYi5hcHBseShDKHRoaXMpLGFyZ3VtZW50cyl9KX0pO3ZhciBsPXtwcm90b3R5cGU6an07ZiYmKGwuZXh0ZW5kcz1mKSxkLnByb3RvdHlwZT1lLGQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWQsYS5jb25zdHJ1Y3RvclRhYmxlLnNldChqLGQpLGEubmF0aXZlUHJvdG90eXBlVGFibGUuc2V0KGUsaik7SC5jYWxsKEIodGhpcyksYixsKTtyZXR1cm4gZH0sdChbd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50XSxbInJlZ2lzdGVyRWxlbWVudCJdKX10KFt3aW5kb3cuSFRNTEJvZHlFbGVtZW50LHdpbmRvdy5IVE1MRG9jdW1lbnR8fHdpbmRvdy5Eb2N1bWVudCx3aW5kb3cuSFRNTEhlYWRFbGVtZW50LHdpbmRvdy5IVE1MSHRtbEVsZW1lbnRdLFsiYXBwZW5kQ2hpbGQiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsImNvbnRhaW5zIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyIsImluc2VydEJlZm9yZSIsInF1ZXJ5U2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yQWxsIiwicmVtb3ZlQ2hpbGQiLCJyZXBsYWNlQ2hpbGQiXS5jb25jYXQodSkpLHQoW3dpbmRvdy5IVE1MRG9jdW1lbnR8fHdpbmRvdy5Eb2N1bWVudF0sWyJhZG9wdE5vZGUiLCJpbXBvcnROb2RlIiwiY29udGFpbnMiLCJjcmVhdGVDb21tZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJjcmVhdGVFdmVudCIsImNyZWF0ZUV2ZW50TlMiLCJjcmVhdGVSYW5nZSIsImNyZWF0ZVRleHROb2RlIiwiZWxlbWVudEZyb21Qb2ludCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0RWxlbWVudHNCeU5hbWUiLCJnZXRTZWxlY3Rpb24iXSksdihiLnByb3RvdHlwZSxqKSx2KGIucHJvdG90eXBlLGwpLHYoYi5wcm90b3R5cGUsbiksdihiLnByb3RvdHlwZSx7Z2V0IGltcGxlbWVudGF0aW9uKCl7dmFyIGE9RS5nZXQodGhpcyk7cmV0dXJuIGE/YTooYT1uZXcgZyhCKHRoaXMpLmltcGxlbWVudGF0aW9uKSxFLnNldCh0aGlzLGEpLGEpfSxnZXQgZGVmYXVsdFZpZXcoKXtyZXR1cm4gQyhCKHRoaXMpLmRlZmF1bHRWaWV3KX19KSx3KHdpbmRvdy5Eb2N1bWVudCxiLGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikpLHdpbmRvdy5IVE1MRG9jdW1lbnQmJncod2luZG93LkhUTUxEb2N1bWVudCxiKSxEKFt3aW5kb3cuSFRNTEJvZHlFbGVtZW50LHdpbmRvdy5IVE1MRG9jdW1lbnR8fHdpbmRvdy5Eb2N1bWVudCx3aW5kb3cuSFRNTEhlYWRFbGVtZW50XSksaChnLCJjcmVhdGVEb2N1bWVudFR5cGUiKSxoKGcsImNyZWF0ZURvY3VtZW50IiksaChnLCJjcmVhdGVIVE1MRG9jdW1lbnQiKSxpKGcsImhhc0ZlYXR1cmUiKSx3KHdpbmRvdy5ET01JbXBsZW1lbnRhdGlvbixnKSx0KFt3aW5kb3cuRE9NSW1wbGVtZW50YXRpb25dLFsiY3JlYXRlRG9jdW1lbnRUeXBlIiwiY3JlYXRlRG9jdW1lbnQiLCJjcmVhdGVIVE1MRG9jdW1lbnQiLCJoYXNGZWF0dXJlIl0pLGEuYWRvcHROb2RlTm9SZW1vdmU9ZCxhLndyYXBwZXJzLkRPTUltcGxlbWVudGF0aW9uPWcsYS53cmFwcGVycy5Eb2N1bWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuRXZlbnRUYXJnZXQsZD1hLndyYXBwZXJzLlNlbGVjdGlvbixlPWEubWl4aW4sZj1hLnJlZ2lzdGVyV3JhcHBlcixnPWEucmVuZGVyQWxsUGVuZGluZyxoPWEudW53cmFwLGk9YS51bndyYXBJZk5lZWRlZCxqPWEud3JhcCxrPXdpbmRvdy5XaW5kb3csbD13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSxtPXdpbmRvdy5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZSxuPXdpbmRvdy5nZXRTZWxlY3Rpb247Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksay5wcm90b3R5cGUuZ2V0Q29tcHV0ZWRTdHlsZT1mdW5jdGlvbihhLGIpe3JldHVybiBqKHRoaXN8fHdpbmRvdykuZ2V0Q29tcHV0ZWRTdHlsZShpKGEpLGIpfSxtJiYoay5wcm90b3R5cGUuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gaih0aGlzfHx3aW5kb3cpLmdldERlZmF1bHRDb21wdXRlZFN0eWxlKGkoYSksYil9KSxrLnByb3RvdHlwZS5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gaih0aGlzfHx3aW5kb3cpLmdldFNlbGVjdGlvbigpfSxkZWxldGUgd2luZG93LmdldENvbXB1dGVkU3R5bGUsZGVsZXRlIHdpbmRvdy5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZSxkZWxldGUgd2luZG93LmdldFNlbGVjdGlvbixbImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzcGF0Y2hFdmVudCJdLmZvckVhY2goZnVuY3Rpb24oYSl7ay5wcm90b3R5cGVbYV09ZnVuY3Rpb24oKXt2YXIgYj1qKHRoaXN8fHdpbmRvdyk7cmV0dXJuIGJbYV0uYXBwbHkoYixhcmd1bWVudHMpfSxkZWxldGUgd2luZG93W2FdfSksZShiLnByb3RvdHlwZSx7Z2V0Q29tcHV0ZWRTdHlsZTpmdW5jdGlvbihhLGIpe3JldHVybiBnKCksbC5jYWxsKGgodGhpcyksaShhKSxiKX0sZ2V0U2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGcoKSxuZXcgZChuLmNhbGwoaCh0aGlzKSkpfSxnZXQgZG9jdW1lbnQoKXtyZXR1cm4gaihoKHRoaXMpLmRvY3VtZW50KX19KSxtJiYoYi5wcm90b3R5cGUuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZygpLG0uY2FsbChoKHRoaXMpLGkoYSksYil9KSxmKGssYix3aW5kb3cpLGEud3JhcHBlcnMuV2luZG93PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO3ZhciBiPWEudW53cmFwLGM9d2luZG93LkRhdGFUcmFuc2Zlcnx8d2luZG93LkNsaXBib2FyZCxkPWMucHJvdG90eXBlLnNldERyYWdJbWFnZTtkJiYoYy5wcm90b3R5cGUuc2V0RHJhZ0ltYWdlPWZ1bmN0aW9uKGEsYyxlKXtkLmNhbGwodGhpcyxiKGEpLGMsZSl9KX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt2YXIgYjtiPWEgaW5zdGFuY2VvZiBmP2E6bmV3IGYoYSYmZShhKSksZChiLHRoaXMpfXZhciBjPWEucmVnaXN0ZXJXcmFwcGVyLGQ9YS5zZXRXcmFwcGVyLGU9YS51bndyYXAsZj13aW5kb3cuRm9ybURhdGE7ZiYmKGMoZixiLG5ldyBmKSxhLndyYXBwZXJzLkZvcm1EYXRhPWIpfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgYj1hLnVud3JhcElmTmVlZGVkLGM9WE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNlbmQ7WE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGMuY2FsbCh0aGlzLGIoYSkpfX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt2YXIgYj1jW2FdLGQ9d2luZG93W2JdO2lmKGQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYSksZj1lLmNvbnN0cnVjdG9yO3dpbmRvd1tiXT1mfX12YXIgYz0oYS5pc1dyYXBwZXJGb3Ise2E6IkhUTUxBbmNob3JFbGVtZW50IixhcmVhOiJIVE1MQXJlYUVsZW1lbnQiLGF1ZGlvOiJIVE1MQXVkaW9FbGVtZW50IixiYXNlOiJIVE1MQmFzZUVsZW1lbnQiLGJvZHk6IkhUTUxCb2R5RWxlbWVudCIsYnI6IkhUTUxCUkVsZW1lbnQiLGJ1dHRvbjoiSFRNTEJ1dHRvbkVsZW1lbnQiLGNhbnZhczoiSFRNTENhbnZhc0VsZW1lbnQiLGNhcHRpb246IkhUTUxUYWJsZUNhcHRpb25FbGVtZW50Iixjb2w6IkhUTUxUYWJsZUNvbEVsZW1lbnQiLGNvbnRlbnQ6IkhUTUxDb250ZW50RWxlbWVudCIsZGF0YToiSFRNTERhdGFFbGVtZW50IixkYXRhbGlzdDoiSFRNTERhdGFMaXN0RWxlbWVudCIsZGVsOiJIVE1MTW9kRWxlbWVudCIsZGlyOiJIVE1MRGlyZWN0b3J5RWxlbWVudCIsZGl2OiJIVE1MRGl2RWxlbWVudCIsZGw6IkhUTUxETGlzdEVsZW1lbnQiLGVtYmVkOiJIVE1MRW1iZWRFbGVtZW50IixmaWVsZHNldDoiSFRNTEZpZWxkU2V0RWxlbWVudCIsZm9udDoiSFRNTEZvbnRFbGVtZW50Iixmb3JtOiJIVE1MRm9ybUVsZW1lbnQiLGZyYW1lOiJIVE1MRnJhbWVFbGVtZW50IixmcmFtZXNldDoiSFRNTEZyYW1lU2V0RWxlbWVudCIsaDE6IkhUTUxIZWFkaW5nRWxlbWVudCIsaGVhZDoiSFRNTEhlYWRFbGVtZW50IixocjoiSFRNTEhSRWxlbWVudCIsaHRtbDoiSFRNTEh0bWxFbGVtZW50IixpZnJhbWU6IkhUTUxJRnJhbWVFbGVtZW50IixpbWc6IkhUTUxJbWFnZUVsZW1lbnQiLGlucHV0OiJIVE1MSW5wdXRFbGVtZW50IixrZXlnZW46IkhUTUxLZXlnZW5FbGVtZW50IixsYWJlbDoiSFRNTExhYmVsRWxlbWVudCIsbGVnZW5kOiJIVE1MTGVnZW5kRWxlbWVudCIsbGk6IkhUTUxMSUVsZW1lbnQiLGxpbms6IkhUTUxMaW5rRWxlbWVudCIsbWFwOiJIVE1MTWFwRWxlbWVudCIsbWFycXVlZToiSFRNTE1hcnF1ZWVFbGVtZW50IixtZW51OiJIVE1MTWVudUVsZW1lbnQiLG1lbnVpdGVtOiJIVE1MTWVudUl0ZW1FbGVtZW50IixtZXRhOiJIVE1MTWV0YUVsZW1lbnQiLG1ldGVyOiJIVE1MTWV0ZXJFbGVtZW50IixvYmplY3Q6IkhUTUxPYmplY3RFbGVtZW50IixvbDoiSFRNTE9MaXN0RWxlbWVudCIsb3B0Z3JvdXA6IkhUTUxPcHRHcm91cEVsZW1lbnQiLG9wdGlvbjoiSFRNTE9wdGlvbkVsZW1lbnQiLG91dHB1dDoiSFRNTE91dHB1dEVsZW1lbnQiLHA6IkhUTUxQYXJhZ3JhcGhFbGVtZW50IixwYXJhbToiSFRNTFBhcmFtRWxlbWVudCIscHJlOiJIVE1MUHJlRWxlbWVudCIscHJvZ3Jlc3M6IkhUTUxQcm9ncmVzc0VsZW1lbnQiLHE6IkhUTUxRdW90ZUVsZW1lbnQiLHNjcmlwdDoiSFRNTFNjcmlwdEVsZW1lbnQiLHNlbGVjdDoiSFRNTFNlbGVjdEVsZW1lbnQiLHNoYWRvdzoiSFRNTFNoYWRvd0VsZW1lbnQiLHNvdXJjZToiSFRNTFNvdXJjZUVsZW1lbnQiLHNwYW46IkhUTUxTcGFuRWxlbWVudCIsc3R5bGU6IkhUTUxTdHlsZUVsZW1lbnQiLHRhYmxlOiJIVE1MVGFibGVFbGVtZW50Iix0Ym9keToiSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQiLHRlbXBsYXRlOiJIVE1MVGVtcGxhdGVFbGVtZW50Iix0ZXh0YXJlYToiSFRNTFRleHRBcmVhRWxlbWVudCIsdGhlYWQ6IkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50Iix0aW1lOiJIVE1MVGltZUVsZW1lbnQiLHRpdGxlOiJIVE1MVGl0bGVFbGVtZW50Iix0cjoiSFRNTFRhYmxlUm93RWxlbWVudCIsdHJhY2s6IkhUTUxUcmFja0VsZW1lbnQiLHVsOiJIVE1MVUxpc3RFbGVtZW50Iix2aWRlbzoiSFRNTFZpZGVvRWxlbWVudCJ9KTtPYmplY3Qua2V5cyhjKS5mb3JFYWNoKGIpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGEud3JhcHBlcnMpLmZvckVhY2goZnVuY3Rpb24oYil7d2luZG93W2JdPWEud3JhcHBlcnNbYl19KX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYyl7dmFyIGQsZSxmLGcsaD1hLmZpcnN0RWxlbWVudENoaWxkO2ZvcihlPVtdLGY9YS5zaGFkb3dSb290O2Y7KWUucHVzaChmKSxmPWYub2xkZXJTaGFkb3dSb290O2ZvcihnPWUubGVuZ3RoLTE7Zz49MDtnLS0paWYoZD1lW2ddLnF1ZXJ5U2VsZWN0b3IoYykpcmV0dXJuIGQ7Zm9yKDtoOyl7aWYoZD1iKGgsYykpcmV0dXJuIGQ7aD1oLm5leHRFbGVtZW50U2libGluZ31yZXR1cm4gbnVsbH1mdW5jdGlvbiBjKGEsYixkKXt2YXIgZSxmLGcsaCxpLGo9YS5maXJzdEVsZW1lbnRDaGlsZDtmb3IoZz1bXSxmPWEuc2hhZG93Um9vdDtmOylnLnB1c2goZiksZj1mLm9sZGVyU2hhZG93Um9vdDtmb3IoaD1nLmxlbmd0aC0xO2g+PTA7aC0tKWZvcihlPWdbaF0ucXVlcnlTZWxlY3RvckFsbChiKSxpPTA7aTxlLmxlbmd0aDtpKyspZC5wdXNoKGVbaV0pO2Zvcig7ajspYyhqLGIsZCksaj1qLm5leHRFbGVtZW50U2libGluZztyZXR1cm4gZH13aW5kb3cud3JhcD1TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQsd2luZG93LnVud3JhcD1TaGFkb3dET01Qb2x5ZmlsbC51bndyYXBJZk5lZWRlZCxPYmplY3QuZGVmaW5lUHJvcGVydHkoRWxlbWVudC5wcm90b3R5cGUsIndlYmtpdFNoYWRvd1Jvb3QiLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRWxlbWVudC5wcm90b3R5cGUsInNoYWRvd1Jvb3QiKSk7dmFyIGQ9RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdDtFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290PWZ1bmN0aW9uKCl7dmFyIGE9ZC5jYWxsKHRoaXMpO3JldHVybiBDdXN0b21FbGVtZW50cy53YXRjaFNoYWRvdyh0aGlzKSxhfSxFbGVtZW50LnByb3RvdHlwZS53ZWJraXRDcmVhdGVTaGFkb3dSb290PUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3QsYS5xdWVyeUFsbFNoYWRvd3M9ZnVuY3Rpb24oYSxkLGUpe3JldHVybiBlP2MoYSxkLFtdKTpiKGEsZCl9fSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiKXt2YXIgYz0iIjtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2MrPWEudGV4dENvbnRlbnQrIlxuXG4ifSksYnx8KGM9Yy5yZXBsYWNlKGwsIiIpKSxjfWZ1bmN0aW9uIGMoYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyZXR1cm4gYi50ZXh0Q29udGVudD1hLGJ9ZnVuY3Rpb24gZChhKXt2YXIgYj1jKGEpO2RvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYik7dmFyIGQ9W107aWYoYi5zaGVldCl0cnl7ZD1iLnNoZWV0LmNzc1J1bGVzfWNhdGNoKGUpe31lbHNlIGNvbnNvbGUud2Fybigic2hlZXQgbm90IGZvdW5kIixiKTtyZXR1cm4gYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGR9ZnVuY3Rpb24gZSgpe3YuaW5pdGlhbGl6ZWQ9ITAsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh2KTt2YXIgYT12LmNvbnRlbnREb2N1bWVudCxiPWEuY3JlYXRlRWxlbWVudCgiYmFzZSIpO2IuaHJlZj1kb2N1bWVudC5iYXNlVVJJLGEuaGVhZC5hcHBlbmRDaGlsZChiKX1mdW5jdGlvbiBmKGEpe3YuaW5pdGlhbGl6ZWR8fGUoKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHYpLGEodi5jb250ZW50RG9jdW1lbnQpLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodil9ZnVuY3Rpb24gZyhhLGIpe2lmKGIpe3ZhciBlO2lmKGEubWF0Y2goIkBpbXBvcnQiKSYmeCl7dmFyIGc9YyhhKTtmKGZ1bmN0aW9uKGEpe2EuaGVhZC5hcHBlbmRDaGlsZChnLmltcGwpLGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZy5zaGVldC5jc3NSdWxlcywwKSxiKGUpfSl9ZWxzZSBlPWQoYSksYihlKX19ZnVuY3Rpb24gaChhKXthJiZqKCkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSkpfWZ1bmN0aW9uIGkoYSxiKXt2YXIgZD1jKGEpO2Quc2V0QXR0cmlidXRlKGIsIiIpLGQuc2V0QXR0cmlidXRlKHosIiIpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZCl9ZnVuY3Rpb24gaigpe3JldHVybiB3fHwodz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLHcuc2V0QXR0cmlidXRlKHosIiIpLHdbel09ITApLHd9dmFyIGs9e3N0cmljdFN0eWxpbmc6ITEscmVnaXN0cnk6e30sc2hpbVN0eWxpbmc6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPXRoaXMucHJlcGFyZVJvb3QoYSxjLGQpLGY9dGhpcy5pc1R5cGVFeHRlbnNpb24oZCksZz10aGlzLm1ha2VTY29wZVNlbGVjdG9yKGMsZiksaD1iKGUsITApO2g9dGhpcy5zY29wZUNzc1RleHQoaCxnKSxhJiYoYS5zaGltbWVkU3R5bGU9aCksdGhpcy5hZGRDc3NUb0RvY3VtZW50KGgsYyl9LHNoaW1TdHlsZTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnNoaW1Dc3NUZXh0KGEudGV4dENvbnRlbnQsYil9LHNoaW1Dc3NUZXh0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9dGhpcy5pbnNlcnREaXJlY3RpdmVzKGEpLHRoaXMuc2NvcGVDc3NUZXh0KGEsYil9LG1ha2VTY29wZVNlbGVjdG9yOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE/Yj8iW2lzPSIrYSsiXSI6YToiIn0saXNUeXBlRXh0ZW5zaW9uOmZ1bmN0aW9uKGEpe3JldHVybiBhJiZhLmluZGV4T2YoIi0iKTwwfSxwcmVwYXJlUm9vdDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5yZWdpc3RlclJvb3QoYSxiLGMpO3JldHVybiB0aGlzLnJlcGxhY2VUZXh0SW5TdHlsZXMoZC5yb290U3R5bGVzLHRoaXMuaW5zZXJ0RGlyZWN0aXZlcyksdGhpcy5yZW1vdmVTdHlsZXMoYSxkLnJvb3RTdHlsZXMpLHRoaXMuc3RyaWN0U3R5bGluZyYmdGhpcy5hcHBseVNjb3BlVG9Db250ZW50KGEsYiksZC5zY29wZVN0eWxlc30scmVtb3ZlU3R5bGVzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9MCxlPWIubGVuZ3RoO2U+ZCYmKGM9YltkXSk7ZCsrKWMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKX0scmVnaXN0ZXJSb290OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLnJlZ2lzdHJ5W2JdPXtyb290OmEsbmFtZTpiLGV4dGVuZHNOYW1lOmN9LGU9dGhpcy5maW5kU3R5bGVzKGEpO2Qucm9vdFN0eWxlcz1lLGQuc2NvcGVTdHlsZXM9ZC5yb290U3R5bGVzO3ZhciBmPXRoaXMucmVnaXN0cnlbZC5leHRlbmRzTmFtZV07cmV0dXJuIGYmJihkLnNjb3BlU3R5bGVzPWYuc2NvcGVTdHlsZXMuY29uY2F0KGQuc2NvcGVTdHlsZXMpKSxkfSxmaW5kU3R5bGVzOmZ1bmN0aW9uKGEpe2lmKCFhKXJldHVybltdO3ZhciBiPWEucXVlcnlTZWxlY3RvckFsbCgic3R5bGUiKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGIsZnVuY3Rpb24oYSl7cmV0dXJuIWEuaGFzQXR0cmlidXRlKEEpfSl9LGFwcGx5U2NvcGVUb0NvbnRlbnQ6ZnVuY3Rpb24oYSxiKXthJiYoQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLnF1ZXJ5U2VsZWN0b3JBbGwoIioiKSxmdW5jdGlvbihhKXthLnNldEF0dHJpYnV0ZShiLCIiKX0pLEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYS5xdWVyeVNlbGVjdG9yQWxsKCJ0ZW1wbGF0ZSIpLGZ1bmN0aW9uKGEpe3RoaXMuYXBwbHlTY29wZVRvQ29udGVudChhLmNvbnRlbnQsYil9LHRoaXMpKX0saW5zZXJ0RGlyZWN0aXZlczpmdW5jdGlvbihhKXtyZXR1cm4gYT10aGlzLmluc2VydFBvbHlmaWxsRGlyZWN0aXZlc0luQ3NzVGV4dChhKSx0aGlzLmluc2VydFBvbHlmaWxsUnVsZXNJbkNzc1RleHQoYSl9LGluc2VydFBvbHlmaWxsRGlyZWN0aXZlc0luQ3NzVGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYT1hLnJlcGxhY2UobSxmdW5jdGlvbihhLGIpe3JldHVybiBiLnNsaWNlKDAsLTIpKyJ7In0pLGEucmVwbGFjZShuLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIrIiB7In0pfSxpbnNlcnRQb2x5ZmlsbFJ1bGVzSW5Dc3NUZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhPWEucmVwbGFjZShvLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIuc2xpY2UoMCwtMSl9KSxhLnJlcGxhY2UocCxmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hLnJlcGxhY2UoYiwiIikucmVwbGFjZShjLCIiKTtyZXR1cm4gZCtlfSl9LHNjb3BlQ3NzVGV4dDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZXh0cmFjdFVuc2NvcGVkUnVsZXNGcm9tQ3NzVGV4dChhKTtpZihhPXRoaXMuaW5zZXJ0UG9seWZpbGxIb3N0SW5Dc3NUZXh0KGEpLGE9dGhpcy5jb252ZXJ0Q29sb25Ib3N0KGEpLGE9dGhpcy5jb252ZXJ0Q29sb25Ib3N0Q29udGV4dChhKSxhPXRoaXMuY29udmVydFNoYWRvd0RPTVNlbGVjdG9ycyhhKSxiKXt2YXIgYSxkPXRoaXM7ZyhhLGZ1bmN0aW9uKGMpe2E9ZC5zY29wZVJ1bGVzKGMsYil9KX1yZXR1cm4gYT1hKyJcbiIrYyxhLnRyaW0oKX0sZXh0cmFjdFVuc2NvcGVkUnVsZXNGcm9tQ3NzVGV4dDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYz0iIjtiPXEuZXhlYyhhKTspYys9YlsxXS5zbGljZSgwLC0xKSsiXG5cbiI7Zm9yKDtiPXIuZXhlYyhhKTspYys9YlswXS5yZXBsYWNlKGJbMl0sIiIpLnJlcGxhY2UoYlsxXSxiWzNdKSsiXG5cbiI7cmV0dXJuIGN9LGNvbnZlcnRDb2xvbkhvc3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY29udmVydENvbG9uUnVsZShhLGNzc0NvbG9uSG9zdFJlLHRoaXMuY29sb25Ib3N0UGFydFJlcGxhY2VyKX0sY29udmVydENvbG9uSG9zdENvbnRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY29udmVydENvbG9uUnVsZShhLGNzc0NvbG9uSG9zdENvbnRleHRSZSx0aGlzLmNvbG9uSG9zdENvbnRleHRQYXJ0UmVwbGFjZXIpfSxjb252ZXJ0Q29sb25SdWxlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYS5yZXBsYWNlKGIsZnVuY3Rpb24oYSxiLGQsZSl7aWYoYj1wb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3IsZCl7Zm9yKHZhciBmLGc9ZC5zcGxpdCgiLCIpLGg9W10saT0wLGo9Zy5sZW5ndGg7aj5pJiYoZj1nW2ldKTtpKyspZj1mLnRyaW0oKSxoLnB1c2goYyhiLGYsZSkpO3JldHVybiBoLmpvaW4oIiwiKX1yZXR1cm4gYitlfSl9LGNvbG9uSG9zdENvbnRleHRQYXJ0UmVwbGFjZXI6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiLm1hdGNoKHMpP3RoaXMuY29sb25Ib3N0UGFydFJlcGxhY2VyKGEsYixjKTphK2IrYysiLCAiK2IrIiAiK2ErY30sY29sb25Ib3N0UGFydFJlcGxhY2VyOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYStiLnJlcGxhY2UocywiIikrY30sY29udmVydFNoYWRvd0RPTVNlbGVjdG9yczpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPHNoYWRvd0RPTVNlbGVjdG9yc1JlLmxlbmd0aDtiKyspYT1hLnJlcGxhY2Uoc2hhZG93RE9NU2VsZWN0b3JzUmVbYl0sIiAiKTtyZXR1cm4gYX0sc2NvcGVSdWxlczpmdW5jdGlvbihhLGIpe3ZhciBjPSIiO3JldHVybiBhJiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsZnVuY3Rpb24oYSl7aWYoYS5zZWxlY3RvclRleHQmJmEuc3R5bGUmJnZvaWQgMCE9PWEuc3R5bGUuY3NzVGV4dCljKz10aGlzLnNjb3BlU2VsZWN0b3IoYS5zZWxlY3RvclRleHQsYix0aGlzLnN0cmljdFN0eWxpbmcpKyIge1xuCSIsYys9dGhpcy5wcm9wZXJ0aWVzRnJvbVJ1bGUoYSkrIlxufVxuXG4iO2Vsc2UgaWYoYS50eXBlPT09Q1NTUnVsZS5NRURJQV9SVUxFKWMrPSJAbWVkaWEgIithLm1lZGlhLm1lZGlhVGV4dCsiIHtcbiIsYys9dGhpcy5zY29wZVJ1bGVzKGEuY3NzUnVsZXMsYiksYys9IlxufVxuXG4iO2Vsc2UgdHJ5e2EuY3NzVGV4dCYmKGMrPWEuY3NzVGV4dCsiXG5cbiIpfWNhdGNoKGQpe2EudHlwZT09PUNTU1J1bGUuS0VZRlJBTUVTX1JVTEUmJmEuY3NzUnVsZXMmJihjKz10aGlzLmllU2FmZUNzc1RleHRGcm9tS2V5RnJhbWVSdWxlKGEpKX19LHRoaXMpLGN9LGllU2FmZUNzc1RleHRGcm9tS2V5RnJhbWVSdWxlOmZ1bmN0aW9uKGEpe3ZhciBiPSJAa2V5ZnJhbWVzICIrYS5uYW1lKyIgeyI7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYS5jc3NSdWxlcyxmdW5jdGlvbihhKXtiKz0iICIrYS5rZXlUZXh0KyIgeyIrYS5zdHlsZS5jc3NUZXh0KyJ9In0pLGIrPSIgfSJ9LHNjb3BlU2VsZWN0b3I6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdLGU9YS5zcGxpdCgiLCIpO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oYSl7YT1hLnRyaW0oKSx0aGlzLnNlbGVjdG9yTmVlZHNTY29waW5nKGEsYikmJihhPWMmJiFhLm1hdGNoKHBvbHlmaWxsSG9zdE5vQ29tYmluYXRvcik/dGhpcy5hcHBseVN0cmljdFNlbGVjdG9yU2NvcGUoYSxiKTp0aGlzLmFwcGx5U2VsZWN0b3JTY29wZShhLGIpKSxkLnB1c2goYSl9LHRoaXMpLGQuam9pbigiLCAiKX0sc2VsZWN0b3JOZWVkc1Njb3Bpbmc6ZnVuY3Rpb24oYSxiKXtpZihBcnJheS5pc0FycmF5KGIpKXJldHVybiEwO3ZhciBjPXRoaXMubWFrZVNjb3BlTWF0Y2hlcihiKTtyZXR1cm4hYS5tYXRjaChjKX0sbWFrZVNjb3BlTWF0Y2hlcjpmdW5jdGlvbihhKXtyZXR1cm4gYT1hLnJlcGxhY2UoL1xbL2csIlxcWyIpLnJlcGxhY2UoL1xbL2csIlxcXSIpLG5ldyBSZWdFeHAoIl4oIithKyIpIitzZWxlY3RvclJlU3VmZml4LCJtIil9LGFwcGx5U2VsZWN0b3JTY29wZTpmdW5jdGlvbihhLGIpe3JldHVybiBBcnJheS5pc0FycmF5KGIpP3RoaXMuYXBwbHlTZWxlY3RvclNjb3BlTGlzdChhLGIpOnRoaXMuYXBwbHlTaW1wbGVTZWxlY3RvclNjb3BlKGEsYil9LGFwcGx5U2VsZWN0b3JTY29wZUxpc3Q6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD1bXSxlPTA7Yz1iW2VdO2UrKylkLnB1c2godGhpcy5hcHBseVNpbXBsZVNlbGVjdG9yU2NvcGUoYSxjKSk7cmV0dXJuIGQuam9pbigiLCAiKX0sYXBwbHlTaW1wbGVTZWxlY3RvclNjb3BlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubWF0Y2gocG9seWZpbGxIb3N0UmUpPyhhPWEucmVwbGFjZShwb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3IsYiksYS5yZXBsYWNlKHBvbHlmaWxsSG9zdFJlLGIrIiAiKSk6YisiICIrYX0sYXBwbHlTdHJpY3RTZWxlY3RvclNjb3BlOmZ1bmN0aW9uKGEsYil7Yj1iLnJlcGxhY2UoL1xbaXM9KFteXF1dKilcXS9nLCIkMSIpO3ZhciBjPVsiICIsIj4iLCIrIiwifiJdLGQ9YSxlPSJbIitiKyJdIjtyZXR1cm4gYy5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWQuc3BsaXQoYSk7ZD1iLm1hcChmdW5jdGlvbihhKXt2YXIgYj1hLnRyaW0oKS5yZXBsYWNlKHBvbHlmaWxsSG9zdFJlLCIiKTtyZXR1cm4gYiYmYy5pbmRleE9mKGIpPDAmJmIuaW5kZXhPZihlKTwwJiYoYT1iLnJlcGxhY2UoLyhbXjpdKikoOiopKC4qKS8sIiQxIitlKyIkMiQzIikpLGF9KS5qb2luKGEpfSksZH0saW5zZXJ0UG9seWZpbGxIb3N0SW5Dc3NUZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoY29sb25Ib3N0Q29udGV4dFJlLHQpLnJlcGxhY2UoY29sb25Ib3N0UmUscyl9LHByb3BlcnRpZXNGcm9tUnVsZTpmdW5jdGlvbihhKXt2YXIgYj1hLnN0eWxlLmNzc1RleHQ7YS5zdHlsZS5jb250ZW50JiYhYS5zdHlsZS5jb250ZW50Lm1hdGNoKC9bJyJdK3xhdHRyLykmJihiPWIucmVwbGFjZSgvY29udGVudDpbXjtdKjsvZywiY29udGVudDogJyIrYS5zdHlsZS5jb250ZW50KyInOyIpKTt2YXIgYz1hLnN0eWxlO2Zvcih2YXIgZCBpbiBjKSJpbml0aWFsIj09PWNbZF0mJihiKz1kKyI6IGluaXRpYWw7ICIpO3JldHVybiBifSxyZXBsYWNlVGV4dEluU3R5bGVzOmZ1bmN0aW9uKGEsYil7YSYmYiYmKGEgaW5zdGFuY2VvZiBBcnJheXx8KGE9W2FdKSxBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsZnVuY3Rpb24oYSl7YS50ZXh0Q29udGVudD1iLmNhbGwodGhpcyxhLnRleHRDb250ZW50KX0sdGhpcykpfSxhZGRDc3NUb0RvY3VtZW50OmZ1bmN0aW9uKGEsYil7YS5tYXRjaCgiQGltcG9ydCIpP2koYSxiKTpoKGEpfX0sbD0vXC9cKlteKl0qXCorKFteLypdW14qXSpcKispKlwvL2dpbSxtPS9cL1wqXHMqQHBvbHlmaWxsIChbXipdKlwqKyhbXi8qXVteKl0qXCorKSpcLykoW157XSo/KXsvZ2ltLG49L3BvbHlmaWxsLW5leHQtc2VsZWN0b3JbXn1dKmNvbnRlbnRcOltcc10qP1snIl0oLio/KVsnIl1bO1xzXSp9KFtee10qPyl7L2dpbSxvPS9cL1wqXHNAcG9seWZpbGwtcnVsZShbXipdKlwqKyhbXi8qXVteKl0qXCorKSopXC8vZ2ltLHA9Lyhwb2x5ZmlsbC1ydWxlKVtefV0qKGNvbnRlbnRcOltcc10qWyciXSguKj8pWyciXSlbO1xzXSpbXn1dKn0vZ2ltLHE9L1wvXCpcc0Bwb2x5ZmlsbC11bnNjb3BlZC1ydWxlKFteKl0qXCorKFteLypdW14qXSpcKispKilcLy9naW0scj0vKHBvbHlmaWxsLXVuc2NvcGVkLXJ1bGUpW159XSooY29udGVudFw6W1xzXSpbJyJdKC4qPylbJyJdKVs7XHNdKltefV0qfS9naW0scz0iLXNoYWRvd2Nzc2hvc3QiLHQ9Ii1zaGFkb3djc3Njb250ZXh0Iix1PSIpKD86XFwoKCg/OlxcKFteKShdKlxcKXxbXikoXSopKz8pXFwpKT8oW14se10qKSI7Y3NzQ29sb25Ib3N0UmU9bmV3IFJlZ0V4cCgiKCIrcyt1LCJnaW0iKSxjc3NDb2xvbkhvc3RDb250ZXh0UmU9bmV3IFJlZ0V4cCgiKCIrdCt1LCJnaW0iKSxzZWxlY3RvclJlU3VmZml4PSIoWz5cXHN+K1suLHs6XVtcXHNcXFNdKik/JCIsY29sb25Ib3N0UmU9L1w6aG9zdC9naW0sY29sb25Ib3N0Q29udGV4dFJlPS9cOmhvc3QtY29udGV4dC9naW0scG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yPXMrIi1uby1jb21iaW5hdG9yIixwb2x5ZmlsbEhvc3RSZT1uZXcgUmVnRXhwKHMsImdpbSIpLHBvbHlmaWxsSG9zdENvbnRleHRSZT1uZXcgUmVnRXhwKHQsImdpbSIpLHNoYWRvd0RPTVNlbGVjdG9yc1JlPVsvXF5cXi9nLC9cXi9nLC9cL3NoYWRvd1wvL2csL1wvc2hhZG93LWRlZXBcLy9nLC86OnNoYWRvdy9nLC9cL2RlZXBcLy9nLC86OmNvbnRlbnQvZ107dmFyIHY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7di5zdHlsZS5kaXNwbGF5PSJub25lIjt2YXIgdyx4PW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goIkNocm9tZSIpLHk9InNoaW0tc2hhZG93ZG9tIix6PSJzaGltLXNoYWRvd2RvbS1jc3MiLEE9Im5vLXNoaW0iO2lmKHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCl7aCgic3R5bGUgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH1cbiIpO3ZhciBCPXdyYXAoZG9jdW1lbnQpLEM9Qi5xdWVyeVNlbGVjdG9yKCJoZWFkIik7Qy5pbnNlcnRCZWZvcmUoaigpLEMuY2hpbGROb2Rlc1swXSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXthLnVybFJlc29sdmVyO2lmKHdpbmRvdy5IVE1MSW1wb3J0cyYmIUhUTUxJbXBvcnRzLnVzZU5hdGl2ZSl7dmFyIGI9ImxpbmtbcmVsPXN0eWxlc2hlZXRdWyIreSsiXSIsYz0ic3R5bGVbIit5KyJdIjtIVE1MSW1wb3J0cy5pbXBvcnRlci5kb2N1bWVudFByZWxvYWRTZWxlY3RvcnMrPSIsIitiLEhUTUxJbXBvcnRzLmltcG9ydGVyLmltcG9ydHNQcmVsb2FkU2VsZWN0b3JzKz0iLCIrYixIVE1MSW1wb3J0cy5wYXJzZXIuZG9jdW1lbnRTZWxlY3RvcnM9W0hUTUxJbXBvcnRzLnBhcnNlci5kb2N1bWVudFNlbGVjdG9ycyxiLGNdLmpvaW4oIiwiKTt2YXIgZD1IVE1MSW1wb3J0cy5wYXJzZXIucGFyc2VHZW5lcmljO0hUTUxJbXBvcnRzLnBhcnNlci5wYXJzZUdlbmVyaWM9ZnVuY3Rpb24oYSl7aWYoIWFbel0pe3ZhciBiPWEuX19pbXBvcnRFbGVtZW50fHxhO2lmKCFiLmhhc0F0dHJpYnV0ZSh5KSlyZXR1cm4gdm9pZCBkLmNhbGwodGhpcyxhKTthLl9fcmVzb3VyY2UmJihiPWEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLGIudGV4dENvbnRlbnQ9YS5fX3Jlc291cmNlKSxIVE1MSW1wb3J0cy5wYXRoLnJlc29sdmVVcmxzSW5TdHlsZShiKSxiLnRleHRDb250ZW50PWsuc2hpbVN0eWxlKGIpLGIucmVtb3ZlQXR0cmlidXRlKHksIiIpLGIuc2V0QXR0cmlidXRlKHosIiIpLGJbel09ITAsYi5wYXJlbnROb2RlIT09QyYmKGEucGFyZW50Tm9kZT09PUM/Qy5yZXBsYWNlQ2hpbGQoYixhKTp0aGlzLmFkZEVsZW1lbnRUb0RvY3VtZW50KGIpKSxiLl9faW1wb3J0UGFyc2VkPSEwLHRoaXMubWFya1BhcnNpbmdDb21wbGV0ZShhKSx0aGlzLnBhcnNlTmV4dCgpfX07dmFyIGU9SFRNTEltcG9ydHMucGFyc2VyLmhhc1Jlc291cmNlO0hUTUxJbXBvcnRzLnBhcnNlci5oYXNSZXNvdXJjZT1mdW5jdGlvbihhKXtyZXR1cm4ibGluayI9PT1hLmxvY2FsTmFtZSYmInN0eWxlc2hlZXQiPT09YS5yZWwmJmEuaGFzQXR0cmlidXRlKHkpP2EuX19yZXNvdXJjZTplLmNhbGwodGhpcyxhKX19fSl9YS5TaGFkb3dDU1M9a30od2luZG93LlBsYXRmb3JtKSk6IWZ1bmN0aW9uKCl7d2luZG93LndyYXA9d2luZG93LnVud3JhcD1mdW5jdGlvbihhKXtyZXR1cm4gYX0sYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXtpZihDdXN0b21FbGVtZW50cy51c2VOYXRpdmU9PT0hMSl7dmFyIGE9RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdDtFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290PWZ1bmN0aW9uKCl7dmFyIGI9YS5jYWxsKHRoaXMpO3JldHVybiBDdXN0b21FbGVtZW50cy53YXRjaFNoYWRvdyh0aGlzKSxifX19KX0od2luZG93LlBsYXRmb3JtKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtyZXR1cm4gdm9pZCAwIT09bVthXX1mdW5jdGlvbiBjKCl7aC5jYWxsKHRoaXMpLHRoaXMuX2lzSW52YWxpZD0hMH1mdW5jdGlvbiBkKGEpe3JldHVybiIiPT1hJiZjLmNhbGwodGhpcyksYS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIGUoYSl7dmFyIGI9YS5jaGFyQ29kZUF0KDApO3JldHVybiBiPjMyJiYxMjc+YiYmLTE9PVszNCwzNSw2MCw2Miw2Myw5Nl0uaW5kZXhPZihiKT9hOmVuY29kZVVSSUNvbXBvbmVudChhKX1mdW5jdGlvbiBmKGEpe3ZhciBiPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4gYj4zMiYmMTI3PmImJi0xPT1bMzQsMzUsNjAsNjIsOTZdLmluZGV4T2YoYik/YTplbmNvZGVVUklDb21wb25lbnQoYSl9ZnVuY3Rpb24gZyhhLGcsaCl7ZnVuY3Rpb24gaShhKXt0LnB1c2goYSl9dmFyIGo9Z3x8InNjaGVtZSBzdGFydCIsaz0wLGw9IiIscj0hMSxzPSExLHQ9W107YTpmb3IoOyhhW2stMV0hPW98fDA9PWspJiYhdGhpcy5faXNJbnZhbGlkOyl7dmFyIHU9YVtrXTtzd2l0Y2goail7Y2FzZSJzY2hlbWUgc3RhcnQiOmlmKCF1fHwhcC50ZXN0KHUpKXtpZihnKXtpKCJJbnZhbGlkIHNjaGVtZS4iKTticmVhayBhfWw9IiIsaj0ibm8gc2NoZW1lIjtjb250aW51ZX1sKz11LnRvTG93ZXJDYXNlKCksaj0ic2NoZW1lIjticmVhaztjYXNlInNjaGVtZSI6aWYodSYmcS50ZXN0KHUpKWwrPXUudG9Mb3dlckNhc2UoKTtlbHNle2lmKCI6IiE9dSl7aWYoZyl7aWYobz09dSlicmVhayBhO2koIkNvZGUgcG9pbnQgbm90IGFsbG93ZWQgaW4gc2NoZW1lOiAiK3UpO2JyZWFrIGF9bD0iIixrPTAsaj0ibm8gc2NoZW1lIjtjb250aW51ZX1pZih0aGlzLl9zY2hlbWU9bCxsPSIiLGcpYnJlYWsgYTtiKHRoaXMuX3NjaGVtZSkmJih0aGlzLl9pc1JlbGF0aXZlPSEwKSxqPSJmaWxlIj09dGhpcy5fc2NoZW1lPyJyZWxhdGl2ZSI6dGhpcy5faXNSZWxhdGl2ZSYmaCYmaC5fc2NoZW1lPT10aGlzLl9zY2hlbWU/InJlbGF0aXZlIG9yIGF1dGhvcml0eSI6dGhpcy5faXNSZWxhdGl2ZT8iYXV0aG9yaXR5IGZpcnN0IHNsYXNoIjoic2NoZW1lIGRhdGEifWJyZWFrO2Nhc2Uic2NoZW1lIGRhdGEiOiI/Ij09dT8ocXVlcnk9Ij8iLGo9InF1ZXJ5Iik6IiMiPT11Pyh0aGlzLl9mcmFnbWVudD0iIyIsaj0iZnJhZ21lbnQiKTpvIT11JiYiCSIhPXUmJiJcbiIhPXUmJiJcciIhPXUmJih0aGlzLl9zY2hlbWVEYXRhKz1lKHUpKTticmVhaztjYXNlIm5vIHNjaGVtZSI6aWYoaCYmYihoLl9zY2hlbWUpKXtqPSJyZWxhdGl2ZSI7Y29udGludWV9aSgiTWlzc2luZyBzY2hlbWUuIiksYy5jYWxsKHRoaXMpO2JyZWFrO2Nhc2UicmVsYXRpdmUgb3IgYXV0aG9yaXR5IjppZigiLyIhPXV8fCIvIiE9YVtrKzFdKXtpKCJFeHBlY3RlZCAvLCBnb3Q6ICIrdSksaj0icmVsYXRpdmUiO2NvbnRpbnVlfWo9ImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyI7YnJlYWs7Y2FzZSJyZWxhdGl2ZSI6aWYodGhpcy5faXNSZWxhdGl2ZT0hMCwiZmlsZSIhPXRoaXMuX3NjaGVtZSYmKHRoaXMuX3NjaGVtZT1oLl9zY2hlbWUpLG89PXUpe3RoaXMuX2hvc3Q9aC5faG9zdCx0aGlzLl9wb3J0PWguX3BvcnQsdGhpcy5fcGF0aD1oLl9wYXRoLnNsaWNlKCksdGhpcy5fcXVlcnk9aC5fcXVlcnk7YnJlYWsgYX1pZigiLyI9PXV8fCJcXCI9PXUpIlxcIj09dSYmaSgiXFwgaXMgYW4gaW52YWxpZCBjb2RlIHBvaW50LiIpLGo9InJlbGF0aXZlIHNsYXNoIjtlbHNlIGlmKCI/Ij09dSl0aGlzLl9ob3N0PWguX2hvc3QsdGhpcy5fcG9ydD1oLl9wb3J0LHRoaXMuX3BhdGg9aC5fcGF0aC5zbGljZSgpLHRoaXMuX3F1ZXJ5PSI/IixqPSJxdWVyeSI7CmVsc2V7aWYoIiMiIT11KXt2YXIgdj1hW2srMV0sdz1hW2srMl07KCJmaWxlIiE9dGhpcy5fc2NoZW1lfHwhcC50ZXN0KHUpfHwiOiIhPXYmJiJ8IiE9dnx8byE9dyYmIi8iIT13JiYiXFwiIT13JiYiPyIhPXcmJiIjIiE9dykmJih0aGlzLl9ob3N0PWguX2hvc3QsdGhpcy5fcG9ydD1oLl9wb3J0LHRoaXMuX3BhdGg9aC5fcGF0aC5zbGljZSgpLHRoaXMuX3BhdGgucG9wKCkpLGo9InJlbGF0aXZlIHBhdGgiO2NvbnRpbnVlfXRoaXMuX2hvc3Q9aC5faG9zdCx0aGlzLl9wb3J0PWguX3BvcnQsdGhpcy5fcGF0aD1oLl9wYXRoLnNsaWNlKCksdGhpcy5fcXVlcnk9aC5fcXVlcnksdGhpcy5fZnJhZ21lbnQ9IiMiLGo9ImZyYWdtZW50In1icmVhaztjYXNlInJlbGF0aXZlIHNsYXNoIjppZigiLyIhPXUmJiJcXCIhPXUpeyJmaWxlIiE9dGhpcy5fc2NoZW1lJiYodGhpcy5faG9zdD1oLl9ob3N0LHRoaXMuX3BvcnQ9aC5fcG9ydCksaj0icmVsYXRpdmUgcGF0aCI7Y29udGludWV9IlxcIj09dSYmaSgiXFwgaXMgYW4gaW52YWxpZCBjb2RlIHBvaW50LiIpLGo9ImZpbGUiPT10aGlzLl9zY2hlbWU/ImZpbGUgaG9zdCI6ImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyI7YnJlYWs7Y2FzZSJhdXRob3JpdHkgZmlyc3Qgc2xhc2giOmlmKCIvIiE9dSl7aSgiRXhwZWN0ZWQgJy8nLCBnb3Q6ICIrdSksaj0iYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIjtjb250aW51ZX1qPSJhdXRob3JpdHkgc2Vjb25kIHNsYXNoIjticmVhaztjYXNlImF1dGhvcml0eSBzZWNvbmQgc2xhc2giOmlmKGo9ImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyIsIi8iIT11KXtpKCJFeHBlY3RlZCAnLycsIGdvdDogIit1KTtjb250aW51ZX1icmVhaztjYXNlImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyI6aWYoIi8iIT11JiYiXFwiIT11KXtqPSJhdXRob3JpdHkiO2NvbnRpbnVlfWkoIkV4cGVjdGVkIGF1dGhvcml0eSwgZ290OiAiK3UpO2JyZWFrO2Nhc2UiYXV0aG9yaXR5IjppZigiQCI9PXUpe3ImJihpKCJAIGFscmVhZHkgc2Vlbi4iKSxsKz0iJTQwIikscj0hMDtmb3IodmFyIHg9MDt4PGwubGVuZ3RoO3grKyl7dmFyIHk9bFt4XTtpZigiCSIhPXkmJiJcbiIhPXkmJiJcciIhPXkpaWYoIjoiIT15fHxudWxsIT09dGhpcy5fcGFzc3dvcmQpe3ZhciB6PWUoeSk7bnVsbCE9PXRoaXMuX3Bhc3N3b3JkP3RoaXMuX3Bhc3N3b3JkKz16OnRoaXMuX3VzZXJuYW1lKz16fWVsc2UgdGhpcy5fcGFzc3dvcmQ9IiI7ZWxzZSBpKCJJbnZhbGlkIHdoaXRlc3BhY2UgaW4gYXV0aG9yaXR5LiIpfWw9IiJ9ZWxzZXtpZihvPT11fHwiLyI9PXV8fCJcXCI9PXV8fCI/Ij09dXx8IiMiPT11KXtrLT1sLmxlbmd0aCxsPSIiLGo9Imhvc3QiO2NvbnRpbnVlfWwrPXV9YnJlYWs7Y2FzZSJmaWxlIGhvc3QiOmlmKG89PXV8fCIvIj09dXx8IlxcIj09dXx8Ij8iPT11fHwiIyI9PXUpezIhPWwubGVuZ3RofHwhcC50ZXN0KGxbMF0pfHwiOiIhPWxbMV0mJiJ8IiE9bFsxXT8wPT1sLmxlbmd0aD9qPSJyZWxhdGl2ZSBwYXRoIHN0YXJ0IjoodGhpcy5faG9zdD1kLmNhbGwodGhpcyxsKSxsPSIiLGo9InJlbGF0aXZlIHBhdGggc3RhcnQiKTpqPSJyZWxhdGl2ZSBwYXRoIjtjb250aW51ZX0iCSI9PXV8fCJcbiI9PXV8fCJcciI9PXU/aSgiSW52YWxpZCB3aGl0ZXNwYWNlIGluIGZpbGUgaG9zdC4iKTpsKz11O2JyZWFrO2Nhc2UiaG9zdCI6Y2FzZSJob3N0bmFtZSI6aWYoIjoiIT11fHxzKXtpZihvPT11fHwiLyI9PXV8fCJcXCI9PXV8fCI/Ij09dXx8IiMiPT11KXtpZih0aGlzLl9ob3N0PWQuY2FsbCh0aGlzLGwpLGw9IiIsaj0icmVsYXRpdmUgcGF0aCBzdGFydCIsZylicmVhayBhO2NvbnRpbnVlfSIJIiE9dSYmIlxuIiE9dSYmIlxyIiE9dT8oIlsiPT11P3M9ITA6Il0iPT11JiYocz0hMSksbCs9dSk6aSgiSW52YWxpZCBjb2RlIHBvaW50IGluIGhvc3QvaG9zdG5hbWU6ICIrdSl9ZWxzZSBpZih0aGlzLl9ob3N0PWQuY2FsbCh0aGlzLGwpLGw9IiIsaj0icG9ydCIsImhvc3RuYW1lIj09ZylicmVhayBhO2JyZWFrO2Nhc2UicG9ydCI6aWYoL1swLTldLy50ZXN0KHUpKWwrPXU7ZWxzZXtpZihvPT11fHwiLyI9PXV8fCJcXCI9PXV8fCI/Ij09dXx8IiMiPT11fHxnKXtpZigiIiE9bCl7dmFyIEE9cGFyc2VJbnQobCwxMCk7QSE9bVt0aGlzLl9zY2hlbWVdJiYodGhpcy5fcG9ydD1BKyIiKSxsPSIifWlmKGcpYnJlYWsgYTtqPSJyZWxhdGl2ZSBwYXRoIHN0YXJ0Ijtjb250aW51ZX0iCSI9PXV8fCJcbiI9PXV8fCJcciI9PXU/aSgiSW52YWxpZCBjb2RlIHBvaW50IGluIHBvcnQ6ICIrdSk6Yy5jYWxsKHRoaXMpfWJyZWFrO2Nhc2UicmVsYXRpdmUgcGF0aCBzdGFydCI6aWYoIlxcIj09dSYmaSgiJ1xcJyBub3QgYWxsb3dlZCBpbiBwYXRoLiIpLGo9InJlbGF0aXZlIHBhdGgiLCIvIiE9dSYmIlxcIiE9dSljb250aW51ZTticmVhaztjYXNlInJlbGF0aXZlIHBhdGgiOmlmKG8hPXUmJiIvIiE9dSYmIlxcIiE9dSYmKGd8fCI/IiE9dSYmIiMiIT11KSkiCSIhPXUmJiJcbiIhPXUmJiJcciIhPXUmJihsKz1lKHUpKTtlbHNleyJcXCI9PXUmJmkoIlxcIG5vdCBhbGxvd2VkIGluIHJlbGF0aXZlIHBhdGguIik7dmFyIEI7KEI9bltsLnRvTG93ZXJDYXNlKCldKSYmKGw9QiksIi4uIj09bD8odGhpcy5fcGF0aC5wb3AoKSwiLyIhPXUmJiJcXCIhPXUmJnRoaXMuX3BhdGgucHVzaCgiIikpOiIuIj09bCYmIi8iIT11JiYiXFwiIT11P3RoaXMuX3BhdGgucHVzaCgiIik6Ii4iIT1sJiYoImZpbGUiPT10aGlzLl9zY2hlbWUmJjA9PXRoaXMuX3BhdGgubGVuZ3RoJiYyPT1sLmxlbmd0aCYmcC50ZXN0KGxbMF0pJiYifCI9PWxbMV0mJihsPWxbMF0rIjoiKSx0aGlzLl9wYXRoLnB1c2gobCkpLGw9IiIsIj8iPT11Pyh0aGlzLl9xdWVyeT0iPyIsaj0icXVlcnkiKToiIyI9PXUmJih0aGlzLl9mcmFnbWVudD0iIyIsaj0iZnJhZ21lbnQiKX1icmVhaztjYXNlInF1ZXJ5IjpnfHwiIyIhPXU/byE9dSYmIgkiIT11JiYiXG4iIT11JiYiXHIiIT11JiYodGhpcy5fcXVlcnkrPWYodSkpOih0aGlzLl9mcmFnbWVudD0iIyIsaj0iZnJhZ21lbnQiKTticmVhaztjYXNlImZyYWdtZW50IjpvIT11JiYiCSIhPXUmJiJcbiIhPXUmJiJcciIhPXUmJih0aGlzLl9mcmFnbWVudCs9dSl9aysrfX1mdW5jdGlvbiBoKCl7dGhpcy5fc2NoZW1lPSIiLHRoaXMuX3NjaGVtZURhdGE9IiIsdGhpcy5fdXNlcm5hbWU9IiIsdGhpcy5fcGFzc3dvcmQ9bnVsbCx0aGlzLl9ob3N0PSIiLHRoaXMuX3BvcnQ9IiIsdGhpcy5fcGF0aD1bXSx0aGlzLl9xdWVyeT0iIix0aGlzLl9mcmFnbWVudD0iIix0aGlzLl9pc0ludmFsaWQ9ITEsdGhpcy5faXNSZWxhdGl2ZT0hMX1mdW5jdGlvbiBpKGEsYil7dm9pZCAwPT09Ynx8YiBpbnN0YW5jZW9mIGl8fChiPW5ldyBpKFN0cmluZyhiKSkpLHRoaXMuX3VybD1hLGguY2FsbCh0aGlzKTt2YXIgYz1hLnJlcGxhY2UoL15bIFx0XHJcblxmXSt8WyBcdFxyXG5cZl0rJC9nLCIiKTtnLmNhbGwodGhpcyxjLG51bGwsYil9dmFyIGo9ITE7aWYoIWEuZm9yY2VKVVJMKXRyeXt2YXIgaz1uZXcgVVJMKCJiIiwiaHR0cDovL2EiKTtqPSJodHRwOi8vYS9iIj09PWsuaHJlZn1jYXRjaChsKXt9aWYoIWope3ZhciBtPU9iamVjdC5jcmVhdGUobnVsbCk7bS5mdHA9MjEsbS5maWxlPTAsbS5nb3BoZXI9NzAsbS5odHRwPTgwLG0uaHR0cHM9NDQzLG0ud3M9ODAsbS53c3M9NDQzO3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7blsiJTJlIl09Ii4iLG5bIi4lMmUiXT0iLi4iLG5bIiUyZS4iXT0iLi4iLG5bIiUyZSUyZSJdPSIuLiI7dmFyIG89dm9pZCAwLHA9L1thLXpBLVpdLyxxPS9bYS16QS1aMC05XCtcLVwuXS87aS5wcm90b3R5cGU9e2dldCBocmVmKCl7aWYodGhpcy5faXNJbnZhbGlkKXJldHVybiB0aGlzLl91cmw7dmFyIGE9IiI7cmV0dXJuKCIiIT10aGlzLl91c2VybmFtZXx8bnVsbCE9dGhpcy5fcGFzc3dvcmQpJiYoYT10aGlzLl91c2VybmFtZSsobnVsbCE9dGhpcy5fcGFzc3dvcmQ/IjoiK3RoaXMuX3Bhc3N3b3JkOiIiKSsiQCIpLHRoaXMucHJvdG9jb2wrKHRoaXMuX2lzUmVsYXRpdmU/Ii8vIithK3RoaXMuaG9zdDoiIikrdGhpcy5wYXRobmFtZSt0aGlzLl9xdWVyeSt0aGlzLl9mcmFnbWVudH0sc2V0IGhyZWYoYSl7aC5jYWxsKHRoaXMpLGcuY2FsbCh0aGlzLGEpfSxnZXQgcHJvdG9jb2woKXtyZXR1cm4gdGhpcy5fc2NoZW1lKyI6In0sc2V0IHByb3RvY29sKGEpe3RoaXMuX2lzSW52YWxpZHx8Zy5jYWxsKHRoaXMsYSsiOiIsInNjaGVtZSBzdGFydCIpfSxnZXQgaG9zdCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWQ/IiI6dGhpcy5fcG9ydD90aGlzLl9ob3N0KyI6Iit0aGlzLl9wb3J0OnRoaXMuX2hvc3R9LHNldCBob3N0KGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJmcuY2FsbCh0aGlzLGEsImhvc3QiKX0sZ2V0IGhvc3RuYW1lKCl7cmV0dXJuIHRoaXMuX2hvc3R9LHNldCBob3N0bmFtZShhKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiZnLmNhbGwodGhpcyxhLCJob3N0bmFtZSIpfSxnZXQgcG9ydCgpe3JldHVybiB0aGlzLl9wb3J0fSxzZXQgcG9ydChhKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiZnLmNhbGwodGhpcyxhLCJwb3J0Iil9LGdldCBwYXRobmFtZSgpe3JldHVybiB0aGlzLl9pc0ludmFsaWQ/IiI6dGhpcy5faXNSZWxhdGl2ZT8iLyIrdGhpcy5fcGF0aC5qb2luKCIvIik6dGhpcy5fc2NoZW1lRGF0YX0sc2V0IHBhdGhuYW1lKGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJih0aGlzLl9wYXRoPVtdLGcuY2FsbCh0aGlzLGEsInJlbGF0aXZlIHBhdGggc3RhcnQiKSl9LGdldCBzZWFyY2goKXtyZXR1cm4gdGhpcy5faXNJbnZhbGlkfHwhdGhpcy5fcXVlcnl8fCI/Ij09dGhpcy5fcXVlcnk/IiI6dGhpcy5fcXVlcnl9LHNldCBzZWFyY2goYSl7IXRoaXMuX2lzSW52YWxpZCYmdGhpcy5faXNSZWxhdGl2ZSYmKHRoaXMuX3F1ZXJ5PSI/IiwiPyI9PWFbMF0mJihhPWEuc2xpY2UoMSkpLGcuY2FsbCh0aGlzLGEsInF1ZXJ5IikpfSxnZXQgaGFzaCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWR8fCF0aGlzLl9mcmFnbWVudHx8IiMiPT10aGlzLl9mcmFnbWVudD8iIjp0aGlzLl9mcmFnbWVudH0sc2V0IGhhc2goYSl7dGhpcy5faXNJbnZhbGlkfHwodGhpcy5fZnJhZ21lbnQ9IiMiLCIjIj09YVswXSYmKGE9YS5zbGljZSgxKSksZy5jYWxsKHRoaXMsYSwiZnJhZ21lbnQiKSl9fTt2YXIgcj1hLlVSTDtyJiYoaS5jcmVhdGVPYmplY3RVUkw9ZnVuY3Rpb24oKXtyZXR1cm4gci5jcmVhdGVPYmplY3RVUkwuYXBwbHkocixhcmd1bWVudHMpfSxpLnJldm9rZU9iamVjdFVSTD1mdW5jdGlvbihhKXtyLnJldm9rZU9iamVjdFVSTChhKX0pLGEuVVJMPWl9fSh0aGlzKSxmdW5jdGlvbigpe0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHwoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZD1jLnNsaWNlKCk7cmV0dXJuIGQucHVzaC5hcHBseShkLGFyZ3VtZW50cyksYi5hcHBseShhLGQpfX0pfSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7dS5wdXNoKGEpLHR8fCh0PSEwLHEoZCkpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCYmd2luZG93LlNoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChhKXx8YX1mdW5jdGlvbiBkKCl7dD0hMTt2YXIgYT11O3U9W10sYS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEudWlkXy1iLnVpZF99KTt2YXIgYj0hMTthLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGM9YS50YWtlUmVjb3JkcygpO2UoYSksYy5sZW5ndGgmJihhLmNhbGxiYWNrXyhjLGEpLGI9ITApfSksYiYmZCgpfWZ1bmN0aW9uIGUoYSl7YS5ub2Rlc18uZm9yRWFjaChmdW5jdGlvbihiKXt2YXIgYz1wLmdldChiKTtjJiZjLmZvckVhY2goZnVuY3Rpb24oYil7Yi5vYnNlcnZlcj09PWEmJmIucmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzKCl9KX0pfWZ1bmN0aW9uIGYoYSxiKXtmb3IodmFyIGM9YTtjO2M9Yy5wYXJlbnROb2RlKXt2YXIgZD1wLmdldChjKTtpZihkKWZvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdLGc9Zi5vcHRpb25zO2lmKGM9PT1hfHxnLnN1YnRyZWUpe3ZhciBoPWIoZyk7aCYmZi5lbnF1ZXVlKGgpfX19fWZ1bmN0aW9uIGcoYSl7dGhpcy5jYWxsYmFja189YSx0aGlzLm5vZGVzXz1bXSx0aGlzLnJlY29yZHNfPVtdLHRoaXMudWlkXz0rK3Z9ZnVuY3Rpb24gaChhLGIpe3RoaXMudHlwZT1hLHRoaXMudGFyZ2V0PWIsdGhpcy5hZGRlZE5vZGVzPVtdLHRoaXMucmVtb3ZlZE5vZGVzPVtdLHRoaXMucHJldmlvdXNTaWJsaW5nPW51bGwsdGhpcy5uZXh0U2libGluZz1udWxsLHRoaXMuYXR0cmlidXRlTmFtZT1udWxsLHRoaXMuYXR0cmlidXRlTmFtZXNwYWNlPW51bGwsdGhpcy5vbGRWYWx1ZT1udWxsfWZ1bmN0aW9uIGkoYSl7dmFyIGI9bmV3IGgoYS50eXBlLGEudGFyZ2V0KTtyZXR1cm4gYi5hZGRlZE5vZGVzPWEuYWRkZWROb2Rlcy5zbGljZSgpLGIucmVtb3ZlZE5vZGVzPWEucmVtb3ZlZE5vZGVzLnNsaWNlKCksYi5wcmV2aW91c1NpYmxpbmc9YS5wcmV2aW91c1NpYmxpbmcsYi5uZXh0U2libGluZz1hLm5leHRTaWJsaW5nLGIuYXR0cmlidXRlTmFtZT1hLmF0dHJpYnV0ZU5hbWUsYi5hdHRyaWJ1dGVOYW1lc3BhY2U9YS5hdHRyaWJ1dGVOYW1lc3BhY2UsYi5vbGRWYWx1ZT1hLm9sZFZhbHVlLGJ9ZnVuY3Rpb24gaihhLGIpe3JldHVybiB3PW5ldyBoKGEsYil9ZnVuY3Rpb24gayhhKXtyZXR1cm4geD94Oih4PWkodykseC5vbGRWYWx1ZT1hLHgpfWZ1bmN0aW9uIGwoKXt3PXg9dm9pZCAwfWZ1bmN0aW9uIG0oYSl7cmV0dXJuIGE9PT14fHxhPT09d31mdW5jdGlvbiBuKGEsYil7cmV0dXJuIGE9PT1iP2E6eCYmbShhKT94Om51bGx9ZnVuY3Rpb24gbyhhLGIsYyl7dGhpcy5vYnNlcnZlcj1hLHRoaXMudGFyZ2V0PWIsdGhpcy5vcHRpb25zPWMsdGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdfXZhciBwPW5ldyBXZWFrTWFwLHE9d2luZG93Lm1zU2V0SW1tZWRpYXRlO2lmKCFxKXt2YXIgcj1bXSxzPVN0cmluZyhNYXRoLnJhbmRvbSgpKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZnVuY3Rpb24oYSl7aWYoYS5kYXRhPT09cyl7dmFyIGI9cjtyPVtdLGIuZm9yRWFjaChmdW5jdGlvbihhKXthKCl9KX19KSxxPWZ1bmN0aW9uKGEpe3IucHVzaChhKSx3aW5kb3cucG9zdE1lc3NhZ2UocywiKiIpfX12YXIgdD0hMSx1PVtdLHY9MDtnLnByb3RvdHlwZT17b2JzZXJ2ZTpmdW5jdGlvbihhLGIpe2lmKGE9YyhhKSwhYi5jaGlsZExpc3QmJiFiLmF0dHJpYnV0ZXMmJiFiLmNoYXJhY3RlckRhdGF8fGIuYXR0cmlidXRlT2xkVmFsdWUmJiFiLmF0dHJpYnV0ZXN8fGIuYXR0cmlidXRlRmlsdGVyJiZiLmF0dHJpYnV0ZUZpbHRlci5sZW5ndGgmJiFiLmF0dHJpYnV0ZXN8fGIuY2hhcmFjdGVyRGF0YU9sZFZhbHVlJiYhYi5jaGFyYWN0ZXJEYXRhKXRocm93IG5ldyBTeW50YXhFcnJvcjt2YXIgZD1wLmdldChhKTtkfHxwLnNldChhLGQ9W10pO2Zvcih2YXIgZSxmPTA7ZjxkLmxlbmd0aDtmKyspaWYoZFtmXS5vYnNlcnZlcj09PXRoaXMpe2U9ZFtmXSxlLnJlbW92ZUxpc3RlbmVycygpLGUub3B0aW9ucz1iO2JyZWFrfWV8fChlPW5ldyBvKHRoaXMsYSxiKSxkLnB1c2goZSksdGhpcy5ub2Rlc18ucHVzaChhKSksZS5hZGRMaXN0ZW5lcnMoKX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe3RoaXMubm9kZXNfLmZvckVhY2goZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXAuZ2V0KGEpLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTtpZihkLm9ic2VydmVyPT09dGhpcyl7ZC5yZW1vdmVMaXN0ZW5lcnMoKSxiLnNwbGljZShjLDEpO2JyZWFrfX19LHRoaXMpLHRoaXMucmVjb3Jkc189W119LHRha2VSZWNvcmRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5yZWNvcmRzXztyZXR1cm4gdGhpcy5yZWNvcmRzXz1bXSxhfX07dmFyIHcseDtvLnByb3RvdHlwZT17ZW5xdWV1ZTpmdW5jdGlvbihhKXt2YXIgYz10aGlzLm9ic2VydmVyLnJlY29yZHNfLGQ9Yy5sZW5ndGg7aWYoYy5sZW5ndGg+MCl7dmFyIGU9Y1tkLTFdLGY9bihlLGEpO2lmKGYpcmV0dXJuIHZvaWQoY1tkLTFdPWYpfWVsc2UgYih0aGlzLm9ic2VydmVyKTtjW2RdPWF9LGFkZExpc3RlbmVyczpmdW5jdGlvbigpe3RoaXMuYWRkTGlzdGVuZXJzXyh0aGlzLnRhcmdldCl9LGFkZExpc3RlbmVyc186ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zO2IuYXR0cmlidXRlcyYmYS5hZGRFdmVudExpc3RlbmVyKCJET01BdHRyTW9kaWZpZWQiLHRoaXMsITApLGIuY2hhcmFjdGVyRGF0YSYmYS5hZGRFdmVudExpc3RlbmVyKCJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWQiLHRoaXMsITApLGIuY2hpbGRMaXN0JiZhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTU5vZGVJbnNlcnRlZCIsdGhpcywhMCksKGIuY2hpbGRMaXN0fHxiLnN1YnRyZWUpJiZhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTU5vZGVSZW1vdmVkIix0aGlzLCEwKX0scmVtb3ZlTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVMaXN0ZW5lcnNfKHRoaXMudGFyZ2V0KX0scmVtb3ZlTGlzdGVuZXJzXzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnM7Yi5hdHRyaWJ1dGVzJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUF0dHJNb2RpZmllZCIsdGhpcywhMCksYi5jaGFyYWN0ZXJEYXRhJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCIsdGhpcywhMCksYi5jaGlsZExpc3QmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NTm9kZUluc2VydGVkIix0aGlzLCEwKSwoYi5jaGlsZExpc3R8fGIuc3VidHJlZSkmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NTm9kZVJlbW92ZWQiLHRoaXMsITApfSxhZGRUcmFuc2llbnRPYnNlcnZlcjpmdW5jdGlvbihhKXtpZihhIT09dGhpcy50YXJnZXQpe3RoaXMuYWRkTGlzdGVuZXJzXyhhKSx0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXMucHVzaChhKTt2YXIgYj1wLmdldChhKTtifHxwLnNldChhLGI9W10pLGIucHVzaCh0aGlzKX19LHJlbW92ZVRyYW5zaWVudE9ic2VydmVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlczt0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W10sYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMucmVtb3ZlTGlzdGVuZXJzXyhhKTtmb3IodmFyIGI9cC5nZXQoYSksYz0wO2M8Yi5sZW5ndGg7YysrKWlmKGJbY109PT10aGlzKXtiLnNwbGljZShjLDEpO2JyZWFrfX0sdGhpcyl9LGhhbmRsZUV2ZW50OmZ1bmN0aW9uKGEpe3N3aXRjaChhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLGEudHlwZSl7Y2FzZSJET01BdHRyTW9kaWZpZWQiOnZhciBiPWEuYXR0ck5hbWUsYz1hLnJlbGF0ZWROb2RlLm5hbWVzcGFjZVVSSSxkPWEudGFyZ2V0LGU9bmV3IGooImF0dHJpYnV0ZXMiLGQpO2UuYXR0cmlidXRlTmFtZT1iLGUuYXR0cmlidXRlTmFtZXNwYWNlPWM7dmFyIGc9YS5hdHRyQ2hhbmdlPT09TXV0YXRpb25FdmVudC5BRERJVElPTj9udWxsOmEucHJldlZhbHVlO2YoZCxmdW5jdGlvbihhKXtyZXR1cm4hYS5hdHRyaWJ1dGVzfHxhLmF0dHJpYnV0ZUZpbHRlciYmYS5hdHRyaWJ1dGVGaWx0ZXIubGVuZ3RoJiYtMT09PWEuYXR0cmlidXRlRmlsdGVyLmluZGV4T2YoYikmJi0xPT09YS5hdHRyaWJ1dGVGaWx0ZXIuaW5kZXhPZihjKT92b2lkIDA6YS5hdHRyaWJ1dGVPbGRWYWx1ZT9rKGcpOmV9KTticmVhaztjYXNlIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCI6dmFyIGQ9YS50YXJnZXQsZT1qKCJjaGFyYWN0ZXJEYXRhIixkKSxnPWEucHJldlZhbHVlO2YoZCxmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGFyYWN0ZXJEYXRhP2EuY2hhcmFjdGVyRGF0YU9sZFZhbHVlP2soZyk6ZTp2b2lkIDB9KTticmVhaztjYXNlIkRPTU5vZGVSZW1vdmVkIjp0aGlzLmFkZFRyYW5zaWVudE9ic2VydmVyKGEudGFyZ2V0KTtjYXNlIkRPTU5vZGVJbnNlcnRlZCI6dmFyIGgsaSxkPWEucmVsYXRlZE5vZGUsbT1hLnRhcmdldDsiRE9NTm9kZUluc2VydGVkIj09PWEudHlwZT8oaD1bbV0saT1bXSk6KGg9W10saT1bbV0pO3ZhciBuPW0ucHJldmlvdXNTaWJsaW5nLG89bS5uZXh0U2libGluZyxlPWooImNoaWxkTGlzdCIsZCk7ZS5hZGRlZE5vZGVzPWgsZS5yZW1vdmVkTm9kZXM9aSxlLnByZXZpb3VzU2libGluZz1uLGUubmV4dFNpYmxpbmc9byxmKGQsZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hpbGRMaXN0P2U6dm9pZCAwfSl9bCgpfX0sYS5Kc011dGF0aW9uT2JzZXJ2ZXI9ZyxhLk11dGF0aW9uT2JzZXJ2ZXJ8fChhLk11dGF0aW9uT2JzZXJ2ZXI9Zyl9KHRoaXMpLHdpbmRvdy5IVE1MSW1wb3J0cz13aW5kb3cuSFRNTEltcG9ydHN8fHtmbGFnczp7fX0sZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIpe2I9Ynx8byxkKGZ1bmN0aW9uKCl7ZihhLGIpfSxiKX1mdW5jdGlvbiBjKGEpe3JldHVybiJjb21wbGV0ZSI9PT1hLnJlYWR5U3RhdGV8fGEucmVhZHlTdGF0ZT09PXF9ZnVuY3Rpb24gZChhLGIpe2lmKGMoYikpYSYmYSgpO2Vsc2V7dmFyIGU9ZnVuY3Rpb24oKXsoImNvbXBsZXRlIj09PWIucmVhZHlTdGF0ZXx8Yi5yZWFkeVN0YXRlPT09cSkmJihiLnJlbW92ZUV2ZW50TGlzdGVuZXIocixlKSxkKGEsYikpfTtiLmFkZEV2ZW50TGlzdGVuZXIocixlKX19ZnVuY3Rpb24gZShhKXthLnRhcmdldC5fX2xvYWRlZD0hMH1mdW5jdGlvbiBmKGEsYil7ZnVuY3Rpb24gYygpe2g9PWkmJmEmJmEoKX1mdW5jdGlvbiBkKGEpe2UoYSksaCsrLGMoKX12YXIgZj1iLnF1ZXJ5U2VsZWN0b3JBbGwoImxpbmtbcmVsPWltcG9ydF0iKSxoPTAsaT1mLmxlbmd0aDtpZihpKWZvcih2YXIgaixrPTA7aT5rJiYoaj1mW2tdKTtrKyspZyhqKT9kLmNhbGwoaix7dGFyZ2V0Omp9KTooai5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixkKSxqLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixkKSk7ZWxzZSBjKCl9ZnVuY3Rpb24gZyhhKXtyZXR1cm4gbD9hLl9fbG9hZGVkfHxhLmltcG9ydCYmImxvYWRpbmciIT09YS5pbXBvcnQucmVhZHlTdGF0ZTphLl9faW1wb3J0UGFyc2VkfWZ1bmN0aW9uIGgoYSl7Zm9yKHZhciBiLGM9MCxkPWEubGVuZ3RoO2Q+YyYmKGI9YVtjXSk7YysrKWkoYikmJmooYil9ZnVuY3Rpb24gaShhKXtyZXR1cm4ibGluayI9PT1hLmxvY2FsTmFtZSYmImltcG9ydCI9PT1hLnJlbH1mdW5jdGlvbiBqKGEpe3ZhciBiPWEuaW1wb3J0O2I/ZSh7dGFyZ2V0OmF9KTooYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixlKSxhLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixlKSl9dmFyIGs9ImltcG9ydCJpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaW5rIiksbD1rO2lzSUU9L1RyaWRlbnQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7dmFyIG09Qm9vbGVhbih3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLG49ZnVuY3Rpb24oYSl7cmV0dXJuIG0/U2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKGEpOmF9LG89bihkb2N1bWVudCkscD17Z2V0OmZ1bmN0aW9uKCl7dmFyIGE9SFRNTEltcG9ydHMuY3VycmVudFNjcmlwdHx8ZG9jdW1lbnQuY3VycmVudFNjcmlwdHx8KCJjb21wbGV0ZSIhPT1kb2N1bWVudC5yZWFkeVN0YXRlP2RvY3VtZW50LnNjcmlwdHNbZG9jdW1lbnQuc2NyaXB0cy5sZW5ndGgtMV06bnVsbCk7cmV0dXJuIG4oYSl9LGNvbmZpZ3VyYWJsZTohMH07T2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LCJfY3VycmVudFNjcmlwdCIscCksT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIl9jdXJyZW50U2NyaXB0IixwKTt2YXIgcT1pc0lFPyJjb21wbGV0ZSI6ImludGVyYWN0aXZlIixyPSJyZWFkeXN0YXRlY2hhbmdlIjtsJiYobmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9MCxkPWEubGVuZ3RoO2Q+YyYmKGI9YVtjXSk7YysrKWIuYWRkZWROb2RlcyYmaChiLmFkZGVkTm9kZXMpfSkub2JzZXJ2ZShkb2N1bWVudC5oZWFkLHtjaGlsZExpc3Q6ITB9KSxmdW5jdGlvbigpe2lmKCJsb2FkaW5nIj09PWRvY3VtZW50LnJlYWR5U3RhdGUpZm9yKHZhciBhLGI9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgibGlua1tyZWw9aW1wb3J0XSIpLGM9MCxkPWIubGVuZ3RoO2Q+YyYmKGE9YltjXSk7YysrKWooYSl9KCkpLGIoZnVuY3Rpb24oKXtIVE1MSW1wb3J0cy5yZWFkeT0hMCxIVE1MSW1wb3J0cy5yZWFkeVRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksby5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgiSFRNTEltcG9ydHNMb2FkZWQiLHtidWJibGVzOiEwfSkpfSksYS51c2VOYXRpdmU9bCxhLmlzSW1wb3J0TG9hZGVkPWcsYS53aGVuUmVhZHk9YixhLmlzSUU9aXNJRSxhLndoZW5JbXBvcnRzUmVhZHk9Yn0od2luZG93LkhUTUxJbXBvcnRzKSxmdW5jdGlvbihhKXt2YXIgYj0oYS5wYXRoLGEueGhyKSxjPWEuZmxhZ3MsZD1mdW5jdGlvbihhLGIpe3RoaXMuY2FjaGU9e30sdGhpcy5vbmxvYWQ9YSx0aGlzLm9uY29tcGxldGU9Yix0aGlzLmluZmxpZ2h0PTAsdGhpcy5wZW5kaW5nPXt9fTtkLnByb3RvdHlwZT17YWRkTm9kZXM6ZnVuY3Rpb24oYSl7dGhpcy5pbmZsaWdodCs9YS5sZW5ndGg7Zm9yKHZhciBiLGM9MCxkPWEubGVuZ3RoO2Q+YyYmKGI9YVtjXSk7YysrKXRoaXMucmVxdWlyZShiKTt0aGlzLmNoZWNrRG9uZSgpfSxhZGROb2RlOmZ1bmN0aW9uKGEpe3RoaXMuaW5mbGlnaHQrKyx0aGlzLnJlcXVpcmUoYSksdGhpcy5jaGVja0RvbmUoKX0scmVxdWlyZTpmdW5jdGlvbihhKXt2YXIgYj1hLnNyY3x8YS5ocmVmO2EuX19ub2RlVXJsPWIsdGhpcy5kZWR1cGUoYixhKXx8dGhpcy5mZXRjaChiLGEpfSxkZWR1cGU6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLnBlbmRpbmdbYV0pcmV0dXJuIHRoaXMucGVuZGluZ1thXS5wdXNoKGIpLCEwO3JldHVybiB0aGlzLmNhY2hlW2FdPyh0aGlzLm9ubG9hZChhLGIsdGhpcy5jYWNoZVthXSksdGhpcy50YWlsKCksITApOih0aGlzLnBlbmRpbmdbYV09W2JdLCExKX0sZmV0Y2g6ZnVuY3Rpb24oYSxkKXtpZihjLmxvYWQmJmNvbnNvbGUubG9nKCJmZXRjaCIsYSxkKSxhLm1hdGNoKC9eZGF0YTovKSl7dmFyIGU9YS5zcGxpdCgiLCIpLGY9ZVswXSxnPWVbMV07Zz1mLmluZGV4T2YoIjtiYXNlNjQiKT4tMT9hdG9iKGcpOmRlY29kZVVSSUNvbXBvbmVudChnKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5yZWNlaXZlKGEsZCxudWxsLGcpfS5iaW5kKHRoaXMpLDApfWVsc2V7dmFyIGg9ZnVuY3Rpb24oYixjLGUpe3RoaXMucmVjZWl2ZShhLGQsYixjLGUpfS5iaW5kKHRoaXMpO2IubG9hZChhLGgpfX0scmVjZWl2ZTpmdW5jdGlvbihhLGIsYyxkLGUpe3RoaXMuY2FjaGVbYV09ZDtmb3IodmFyIGYsZz10aGlzLnBlbmRpbmdbYV0saD0wLGk9Zy5sZW5ndGg7aT5oJiYoZj1nW2hdKTtoKyspdGhpcy5vbmxvYWQoYSxmLGQsYyxlKSx0aGlzLnRhaWwoKTt0aGlzLnBlbmRpbmdbYV09bnVsbH0sdGFpbDpmdW5jdGlvbigpey0tdGhpcy5pbmZsaWdodCx0aGlzLmNoZWNrRG9uZSgpfSxjaGVja0RvbmU6ZnVuY3Rpb24oKXt0aGlzLmluZmxpZ2h0fHx0aGlzLm9uY29tcGxldGUoKX19LGI9Ynx8e2FzeW5jOiEwLG9rOmZ1bmN0aW9uKGEpe3JldHVybiBhLnN0YXR1cz49MjAwJiZhLnN0YXR1czwzMDB8fDMwND09PWEuc3RhdHVzfHwwPT09YS5zdGF0dXN9LGxvYWQ6ZnVuY3Rpb24oYyxkLGUpe3ZhciBmPW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4oYS5mbGFncy5kZWJ1Z3x8YS5mbGFncy5idXN0KSYmKGMrPSI/IitNYXRoLnJhbmRvbSgpKSxmLm9wZW4oIkdFVCIsYyxiLmFzeW5jKSxmLmFkZEV2ZW50TGlzdGVuZXIoInJlYWR5c3RhdGVjaGFuZ2UiLGZ1bmN0aW9uKCl7aWYoND09PWYucmVhZHlTdGF0ZSl7dmFyIGE9Zi5nZXRSZXNwb25zZUhlYWRlcigiTG9jYXRpb24iKSxjPW51bGw7aWYoYSl2YXIgYz0iLyI9PT1hLnN1YnN0cigwLDEpP2xvY2F0aW9uLm9yaWdpbithOmE7ZC5jYWxsKGUsIWIub2soZikmJmYsZi5yZXNwb25zZXx8Zi5yZXNwb25zZVRleHQsYyl9fSksZi5zZW5kKCksZn0sbG9hZERvY3VtZW50OmZ1bmN0aW9uKGEsYixjKXt0aGlzLmxvYWQoYSxiLGMpLnJlc3BvbnNlVHlwZT0iZG9jdW1lbnQifX0sYS54aHI9YixhLkxvYWRlcj1kfSh3aW5kb3cuSFRNTEltcG9ydHMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuImxpbmsiPT09YS5sb2NhbE5hbWUmJmEucmVsPT09Z31mdW5jdGlvbiBjKGEpe3ZhciBiPWQoYSk7cmV0dXJuImRhdGE6dGV4dC9qYXZhc2NyaXB0O2NoYXJzZXQ9dXRmLTgsIitlbmNvZGVVUklDb21wb25lbnQoYil9ZnVuY3Rpb24gZChhKXtyZXR1cm4gYS50ZXh0Q29udGVudCtlKGEpfWZ1bmN0aW9uIGUoYSl7dmFyIGI9YS5fX25vZGVVcmw7aWYoIWIpe2I9YS5vd25lckRvY3VtZW50LmJhc2VVUkk7dmFyIGM9IlsiK01hdGguZmxvb3IoMWUzKihNYXRoLnJhbmRvbSgpKzEpKSsiXSIsZD1hLnRleHRDb250ZW50Lm1hdGNoKC9Qb2x5bWVyXChbJyJdKFteJyJdKikvKTtjPWQmJmRbMV18fGMsYis9Ii8iK2MrIi5qcyJ9cmV0dXJuIlxuLy8jIHNvdXJjZVVSTD0iK2IrIlxuIn1mdW5jdGlvbiBmKGEpe3ZhciBiPWEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO3JldHVybiBiLnRleHRDb250ZW50PWEudGV4dENvbnRlbnQsbi5yZXNvbHZlVXJsc0luU3R5bGUoYiksYn12YXIgZz0iaW1wb3J0IixoPWEuZmxhZ3MsaT1hLmlzSUUsaj13aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChkb2N1bWVudCk6ZG9jdW1lbnQsaz17ZG9jdW1lbnRTZWxlY3RvcnM6ImxpbmtbcmVsPSIrZysiXSIsaW1wb3J0c1NlbGVjdG9yczpbImxpbmtbcmVsPSIrZysiXSIsImxpbmtbcmVsPXN0eWxlc2hlZXRdIiwic3R5bGUiLCJzY3JpcHQ6bm90KFt0eXBlXSkiLCdzY3JpcHRbdHlwZT0idGV4dC9qYXZhc2NyaXB0Il0nXS5qb2luKCIsIiksbWFwOntsaW5rOiJwYXJzZUxpbmsiLHNjcmlwdDoicGFyc2VTY3JpcHQiLHN0eWxlOiJwYXJzZVN0eWxlIn0scGFyc2VOZXh0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5uZXh0VG9QYXJzZSgpO2EmJnRoaXMucGFyc2UoYSl9LHBhcnNlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuaXNQYXJzZWQoYSkpcmV0dXJuIHZvaWQoaC5wYXJzZSYmY29uc29sZS5sb2coIlslc10gaXMgYWxyZWFkeSBwYXJzZWQiLGEubG9jYWxOYW1lKSk7dmFyIGI9dGhpc1t0aGlzLm1hcFthLmxvY2FsTmFtZV1dO2ImJih0aGlzLm1hcmtQYXJzaW5nKGEpLGIuY2FsbCh0aGlzLGEpKX0sbWFya1BhcnNpbmc6ZnVuY3Rpb24oYSl7aC5wYXJzZSYmY29uc29sZS5sb2coInBhcnNpbmciLGEpLHRoaXMucGFyc2luZ0VsZW1lbnQ9YX0sbWFya1BhcnNpbmdDb21wbGV0ZTpmdW5jdGlvbihhKXthLl9faW1wb3J0UGFyc2VkPSEwLGEuX19pbXBvcnRFbGVtZW50JiYoYS5fX2ltcG9ydEVsZW1lbnQuX19pbXBvcnRQYXJzZWQ9ITApLHRoaXMucGFyc2luZ0VsZW1lbnQ9bnVsbCxoLnBhcnNlJiZjb25zb2xlLmxvZygiY29tcGxldGVkIixhKX0saW52YWxpZGF0ZVBhcnNlOmZ1bmN0aW9uKGEpe2EmJmEuX19pbXBvcnRMaW5rJiYoYS5fX2ltcG9ydFBhcnNlZD1hLl9faW1wb3J0TGluay5fX2ltcG9ydFBhcnNlZD0hMSx0aGlzLnBhcnNlU29vbigpKX0scGFyc2VTb29uOmZ1bmN0aW9uKCl7dGhpcy5fcGFyc2VTb29uJiZjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9wYXJzZURlbGF5KTt2YXIgYT10aGlzO3RoaXMuX3BhcnNlU29vbj1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXthLnBhcnNlTmV4dCgpfSl9LHBhcnNlSW1wb3J0OmZ1bmN0aW9uKGEpe2lmKEhUTUxJbXBvcnRzLl9faW1wb3J0c1BhcnNpbmdIb29rJiZIVE1MSW1wb3J0cy5fX2ltcG9ydHNQYXJzaW5nSG9vayhhKSxhLmltcG9ydCYmKGEuaW1wb3J0Ll9faW1wb3J0UGFyc2VkPSEwKSx0aGlzLm1hcmtQYXJzaW5nQ29tcGxldGUoYSksYS5kaXNwYXRjaEV2ZW50KGEuX19yZXNvdXJjZSYmIWEuX19lcnJvcj9uZXcgQ3VzdG9tRXZlbnQoImxvYWQiLHtidWJibGVzOiExfSk6bmV3IEN1c3RvbUV2ZW50KCJlcnJvciIse2J1YmJsZXM6ITF9KSksYS5fX3BlbmRpbmcpZm9yKHZhciBiO2EuX19wZW5kaW5nLmxlbmd0aDspYj1hLl9fcGVuZGluZy5zaGlmdCgpLGImJmIoe3RhcmdldDphfSk7dGhpcy5wYXJzZU5leHQoKX0scGFyc2VMaW5rOmZ1bmN0aW9uKGEpe2IoYSk/dGhpcy5wYXJzZUltcG9ydChhKTooYS5ocmVmPWEuaHJlZix0aGlzLnBhcnNlR2VuZXJpYyhhKSl9LHBhcnNlU3R5bGU6ZnVuY3Rpb24oYSl7dmFyIGI9YTthPWYoYSksYS5fX2ltcG9ydEVsZW1lbnQ9Yix0aGlzLnBhcnNlR2VuZXJpYyhhKX0scGFyc2VHZW5lcmljOmZ1bmN0aW9uKGEpe3RoaXMudHJhY2tFbGVtZW50KGEpLHRoaXMuYWRkRWxlbWVudFRvRG9jdW1lbnQoYSl9LHJvb3RJbXBvcnRGb3JFbGVtZW50OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hO2Iub3duZXJEb2N1bWVudC5fX2ltcG9ydExpbms7KWI9Yi5vd25lckRvY3VtZW50Ll9faW1wb3J0TGluaztyZXR1cm4gYn0sYWRkRWxlbWVudFRvRG9jdW1lbnQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMucm9vdEltcG9ydEZvckVsZW1lbnQoYS5fX2ltcG9ydEVsZW1lbnR8fGEpLGM9Yi5fX2luc2VydGVkRWxlbWVudHM9Yi5fX2luc2VydGVkRWxlbWVudHN8fDAsZD1iLm5leHRFbGVtZW50U2libGluZyxlPTA7Yz5lO2UrKylkPWQmJmQubmV4dEVsZW1lbnRTaWJsaW5nO2IucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSxkKX0sdHJhY2tFbGVtZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWZ1bmN0aW9uKGQpe2ImJmIoZCksYy5tYXJrUGFyc2luZ0NvbXBsZXRlKGEpLGMucGFyc2VOZXh0KCl9O2lmKGEuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsZCksYS5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsZCksaSYmInN0eWxlIj09PWEubG9jYWxOYW1lKXt2YXIgZT0hMTtpZigtMT09YS50ZXh0Q29udGVudC5pbmRleE9mKCJAaW1wb3J0IikpZT0hMDtlbHNlIGlmKGEuc2hlZXQpe2U9ITA7Zm9yKHZhciBmLGc9YS5zaGVldC5jc3NSdWxlcyxoPWc/Zy5sZW5ndGg6MCxqPTA7aD5qJiYoZj1nW2pdKTtqKyspZi50eXBlPT09Q1NTUnVsZS5JTVBPUlRfUlVMRSYmKGU9ZSYmQm9vbGVhbihmLnN0eWxlU2hlZXQpKX1lJiZhLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJsb2FkIix7YnViYmxlczohMX0pKX19LHBhcnNlU2NyaXB0OmZ1bmN0aW9uKGIpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2QuX19pbXBvcnRFbGVtZW50PWIsZC5zcmM9Yi5zcmM/Yi5zcmM6YyhiKSxhLmN1cnJlbnRTY3JpcHQ9Yix0aGlzLnRyYWNrRWxlbWVudChkLGZ1bmN0aW9uKCl7ZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpLGEuY3VycmVudFNjcmlwdD1udWxsfSksdGhpcy5hZGRFbGVtZW50VG9Eb2N1bWVudChkKX0sbmV4dFRvUGFyc2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWF5UGFyc2U9W10sIXRoaXMucGFyc2luZ0VsZW1lbnQmJnRoaXMubmV4dFRvUGFyc2VJbkRvYyhqKX0sbmV4dFRvUGFyc2VJbkRvYzpmdW5jdGlvbihhLGMpe2lmKGEmJnRoaXMuX21heVBhcnNlLmluZGV4T2YoYSk8MCl7dGhpcy5fbWF5UGFyc2UucHVzaChhKTtmb3IodmFyIGQsZT1hLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5wYXJzZVNlbGVjdG9yc0Zvck5vZGUoYSkpLGY9MCxnPWUubGVuZ3RoO2c+ZiYmKGQ9ZVtmXSk7ZisrKWlmKCF0aGlzLmlzUGFyc2VkKGQpKXJldHVybiB0aGlzLmhhc1Jlc291cmNlKGQpP2IoZCk/dGhpcy5uZXh0VG9QYXJzZUluRG9jKGQuaW1wb3J0LGQpOmQ6dm9pZCAwfXJldHVybiBjfSxwYXJzZVNlbGVjdG9yc0Zvck5vZGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vd25lckRvY3VtZW50fHxhO3JldHVybiBiPT09aj90aGlzLmRvY3VtZW50U2VsZWN0b3JzOnRoaXMuaW1wb3J0c1NlbGVjdG9yc30saXNQYXJzZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuX19pbXBvcnRQYXJzZWR9LGhhc1Jlc291cmNlOmZ1bmN0aW9uKGEpe3JldHVybiBiKGEpJiZ2b2lkIDA9PT1hLmltcG9ydD8hMTohMH19LGw9Lyh1cmxcKCkoW14pXSopKFwpKS9nLG09LyhAaW1wb3J0W1xzXSsoPyF1cmxcKCkpKFteO10qKSg7KS9nLG49e3Jlc29sdmVVcmxzSW5TdHlsZTpmdW5jdGlvbihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQsYz1iLmNyZWF0ZUVsZW1lbnQoImEiKTtyZXR1cm4gYS50ZXh0Q29udGVudD10aGlzLnJlc29sdmVVcmxzSW5Dc3NUZXh0KGEudGV4dENvbnRlbnQsYyksYX0scmVzb2x2ZVVybHNJbkNzc1RleHQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnJlcGxhY2VVcmxzKGEsYixsKTtyZXR1cm4gYz10aGlzLnJlcGxhY2VVcmxzKGMsYixtKX0scmVwbGFjZVVybHM6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhLnJlcGxhY2UoYyxmdW5jdGlvbihhLGMsZCxlKXt2YXIgZj1kLnJlcGxhY2UoL1siJ10vZywiIik7cmV0dXJuIGIuaHJlZj1mLGY9Yi5ocmVmLGMrIiciK2YrIiciK2V9KX19O2EucGFyc2VyPWssYS5wYXRoPW59KEhUTUxJbXBvcnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBjKGEsZyl9ZnVuY3Rpb24gYyhhLGIpe3JldHVybiJsaW5rIj09PWEubG9jYWxOYW1lJiZhLmdldEF0dHJpYnV0ZSgicmVsIik9PT1ifWZ1bmN0aW9uIGQoYSxiKXt2YXIgYz1hO2MgaW5zdGFuY2VvZiBEb2N1bWVudHx8KGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KGcpKSxjLl9VUkw9Yjt2YXIgZD1jLmNyZWF0ZUVsZW1lbnQoImJhc2UiKTtkLnNldEF0dHJpYnV0ZSgiaHJlZiIsYiksYy5iYXNlVVJJfHwoYy5iYXNlVVJJPWIpO3ZhciBlPWMuY3JlYXRlRWxlbWVudCgibWV0YSIpO3JldHVybiBlLnNldEF0dHJpYnV0ZSgiY2hhcnNldCIsInV0Zi04IiksYy5oZWFkLmFwcGVuZENoaWxkKGUpLGMuaGVhZC5hcHBlbmRDaGlsZChkKSxhIGluc3RhbmNlb2YgRG9jdW1lbnR8fChjLmJvZHkuaW5uZXJIVE1MPWEpLHdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50JiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcCYmSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXAoYyksY312YXIgZT1hLnVzZU5hdGl2ZSxmPWEuZmxhZ3MsZz0iaW1wb3J0IixoPXdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD9TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoZG9jdW1lbnQpOmRvY3VtZW50O2lmKGUpdmFyIGk9e307ZWxzZXt2YXIgaj0oYS54aHIsYS5Mb2FkZXIpLGs9YS5wYXJzZXIsaT17ZG9jdW1lbnRzOnt9LGRvY3VtZW50UHJlbG9hZFNlbGVjdG9yczoibGlua1tyZWw9IitnKyJdIixpbXBvcnRzUHJlbG9hZFNlbGVjdG9yczpbImxpbmtbcmVsPSIrZysiXSJdLmpvaW4oIiwiKSxsb2FkTm9kZTpmdW5jdGlvbihhKXtsLmFkZE5vZGUoYSl9LGxvYWRTdWJ0cmVlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubWFyc2hhbE5vZGVzKGEpO2wuYWRkTm9kZXMoYil9LG1hcnNoYWxOb2RlczpmdW5jdGlvbihhKXtyZXR1cm4gYS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMubG9hZFNlbGVjdG9yc0Zvck5vZGUoYSkpfSxsb2FkU2VsZWN0b3JzRm9yTm9kZTpmdW5jdGlvbihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnR8fGE7cmV0dXJuIGI9PT1oP3RoaXMuZG9jdW1lbnRQcmVsb2FkU2VsZWN0b3JzOnRoaXMuaW1wb3J0c1ByZWxvYWRTZWxlY3RvcnN9LGxvYWRlZDpmdW5jdGlvbihhLGMsZSxnLGgpe2lmKGYubG9hZCYmY29uc29sZS5sb2coImxvYWRlZCIsYSxjKSxjLl9fcmVzb3VyY2U9ZSxjLl9fZXJyb3I9ZyxiKGMpKXt2YXIgaT10aGlzLmRvY3VtZW50c1thXTt2b2lkIDA9PT1pJiYoaT1nP251bGw6ZChlLGh8fGEpLGkmJihpLl9faW1wb3J0TGluaz1jLHRoaXMuYm9vdERvY3VtZW50KGkpKSx0aGlzLmRvY3VtZW50c1thXT1pKSxjLmltcG9ydD1pfWsucGFyc2VOZXh0KCl9LGJvb3REb2N1bWVudDpmdW5jdGlvbihhKXt0aGlzLmxvYWRTdWJ0cmVlKGEpLHRoaXMub2JzZXJ2ZShhKSxrLnBhcnNlTmV4dCgpfSxsb2FkZWRBbGw6ZnVuY3Rpb24oKXtrLnBhcnNlTmV4dCgpfX0sbD1uZXcgaihpLmxvYWRlZC5iaW5kKGkpLGkubG9hZGVkQWxsLmJpbmQoaSkpO2lmKCFkb2N1bWVudC5iYXNlVVJJKXt2YXIgbT17Z2V0OmZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiYmFzZSIpO3JldHVybiBhP2EuaHJlZjp3aW5kb3cubG9jYXRpb24uaHJlZn0sY29uZmlndXJhYmxlOiEwfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsImJhc2VVUkkiLG0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLCJiYXNlVVJJIixtKX0iZnVuY3Rpb24iIT10eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50JiYod2luZG93LkN1c3RvbUV2ZW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkhUTUxFdmVudHMiKTtyZXR1cm4gYy5pbml0RXZlbnQoYSxiLmJ1YmJsZXM9PT0hMT8hMTohMCxiLmNhbmNlbGFibGU9PT0hMT8hMTohMCxiLmRldGFpbCksY30pfWEuaW1wb3J0ZXI9aSxhLklNUE9SVF9MSU5LX1RZUEU9ZyxhLmltcG9ydExvYWRlcj1sfSh3aW5kb3cuSFRNTEltcG9ydHMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7Zm9yKHZhciBiLGQ9MCxlPWEubGVuZ3RoO2U+ZCYmKGI9YVtkXSk7ZCsrKSJjaGlsZExpc3QiPT09Yi50eXBlJiZiLmFkZGVkTm9kZXMubGVuZ3RoJiZjKGIuYWRkZWROb2Rlcyl9ZnVuY3Rpb24gYyhhKXtmb3IodmFyIGIsZSxnPTAsaD1hLmxlbmd0aDtoPmcmJihlPWFbZ10pO2crKyliPWJ8fGUub3duZXJEb2N1bWVudCxkKGUpJiZmLmxvYWROb2RlKGUpLGUuY2hpbGRyZW4mJmUuY2hpbGRyZW4ubGVuZ3RoJiZjKGUuY2hpbGRyZW4pfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlJiZnLmNhbGwoYSxmLmxvYWRTZWxlY3RvcnNGb3JOb2RlKGEpKX1mdW5jdGlvbiBlKGEpe2gub2JzZXJ2ZShhLHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pfXZhciBmPShhLklNUE9SVF9MSU5LX1RZUEUsYS5pbXBvcnRlciksZz0oYS5wYXJzZXIsSFRNTEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXN8fEhUTUxFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzU2VsZWN0b3J8fEhUTUxFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fEhUTUxFbGVtZW50LnByb3RvdHlwZS5tb3pNYXRjaGVzU2VsZWN0b3J8fEhUTUxFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvciksaD1uZXcgTXV0YXRpb25PYnNlcnZlcihiKTthLm9ic2VydmU9ZSxmLm9ic2VydmU9ZX0oSFRNTEltcG9ydHMpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe0hUTUxJbXBvcnRzLmltcG9ydGVyLmJvb3REb2N1bWVudChiKX12YXIgYj13aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChkb2N1bWVudCk6ZG9jdW1lbnQ7SFRNTEltcG9ydHMudXNlTmF0aXZlfHwoImNvbXBsZXRlIj09PWRvY3VtZW50LnJlYWR5U3RhdGV8fCJpbnRlcmFjdGl2ZSI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiYhd2luZG93LmF0dGFjaEV2ZW50P2EoKTpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixhKSl9KCksd2luZG93LkN1c3RvbUVsZW1lbnRzPXdpbmRvdy5DdXN0b21FbGVtZW50c3x8e2ZsYWdzOnt9fSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYyxkKXt2YXIgZT1hLmZpcnN0RWxlbWVudENoaWxkO2lmKCFlKWZvcihlPWEuZmlyc3RDaGlsZDtlJiZlLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWU9ZS5uZXh0U2libGluZztmb3IoO2U7KWMoZSxkKSE9PSEwJiZiKGUsYyxkKSxlPWUubmV4dEVsZW1lbnRTaWJsaW5nO3JldHVybiBudWxsfWZ1bmN0aW9uIGMoYSxiKXtmb3IodmFyIGM9YS5zaGFkb3dSb290O2M7KWQoYyxiKSxjPWMub2xkZXJTaGFkb3dSb290fWZ1bmN0aW9uIGQoYSxkKXtiKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGQoYSk/ITA6dm9pZCBjKGEsZCl9KSxjKGEsZCl9ZnVuY3Rpb24gZShhKXtyZXR1cm4gaChhKT8oaShhKSwhMCk6dm9pZCBsKGEpfWZ1bmN0aW9uIGYoYSl7ZChhLGZ1bmN0aW9uKGEpe3JldHVybiBlKGEpPyEwOnZvaWQgMH0pfWZ1bmN0aW9uIGcoYSl7cmV0dXJuIGUoYSl8fGYoYSl9ZnVuY3Rpb24gaChiKXtpZighYi5fX3VwZ3JhZGVkX18mJmIubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl7dmFyIGM9Yi5nZXRBdHRyaWJ1dGUoImlzIil8fGIubG9jYWxOYW1lLGQ9YS5yZWdpc3RyeVtjXTtpZihkKXJldHVybiBCLmRvbSYmY29uc29sZS5ncm91cCgidXBncmFkZToiLGIubG9jYWxOYW1lKSxhLnVwZ3JhZGUoYiksQi5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSwhMH19ZnVuY3Rpb24gaShhKXtsKGEpLHIoYSkmJmQoYSxmdW5jdGlvbihhKXtsKGEpfSl9ZnVuY3Rpb24gaihhKXtpZihHLnB1c2goYSksIUYpe0Y9ITA7dmFyIGI9d2luZG93LlBsYXRmb3JtJiZ3aW5kb3cuUGxhdGZvcm0uZW5kT2ZNaWNyb3Rhc2t8fHNldFRpbWVvdXQ7YihrKX19ZnVuY3Rpb24gaygpe0Y9ITE7Zm9yKHZhciBhLGI9RyxjPTAsZD1iLmxlbmd0aDtkPmMmJihhPWJbY10pO2MrKylhKCk7Rz1bXX1mdW5jdGlvbiBsKGEpe0Q/aihmdW5jdGlvbigpe20oYSl9KTptKGEpfWZ1bmN0aW9uIG0oYSl7KGEuYXR0YWNoZWRDYWxsYmFja3x8YS5kZXRhY2hlZENhbGxiYWNrfHxhLl9fdXBncmFkZWRfXyYmQi5kb20pJiYoQi5kb20mJmNvbnNvbGUuZ3JvdXAoImluc2VydGVkOiIsYS5sb2NhbE5hbWUpLHIoYSkmJihhLl9faW5zZXJ0ZWQ9KGEuX19pbnNlcnRlZHx8MCkrMSxhLl9faW5zZXJ0ZWQ8MSYmKGEuX19pbnNlcnRlZD0xKSxhLl9faW5zZXJ0ZWQ+MT9CLmRvbSYmY29uc29sZS53YXJuKCJpbnNlcnRlZDoiLGEubG9jYWxOYW1lLCJpbnNlcnQvcmVtb3ZlIGNvdW50OiIsYS5fX2luc2VydGVkKTphLmF0dGFjaGVkQ2FsbGJhY2smJihCLmRvbSYmY29uc29sZS5sb2coImluc2VydGVkOiIsYS5sb2NhbE5hbWUpLGEuYXR0YWNoZWRDYWxsYmFjaygpKSksQi5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSl9ZnVuY3Rpb24gbihhKXtvKGEpLGQoYSxmdW5jdGlvbihhKXtvKGEpfSl9ZnVuY3Rpb24gbyhhKXtEP2ooZnVuY3Rpb24oKXtwKGEpfSk6cChhKX1mdW5jdGlvbiBwKGEpeyhhLmF0dGFjaGVkQ2FsbGJhY2t8fGEuZGV0YWNoZWRDYWxsYmFja3x8YS5fX3VwZ3JhZGVkX18mJkIuZG9tKSYmKEIuZG9tJiZjb25zb2xlLmdyb3VwKCJyZW1vdmVkOiIsYS5sb2NhbE5hbWUpLHIoYSl8fChhLl9faW5zZXJ0ZWQ9KGEuX19pbnNlcnRlZHx8MCktMSxhLl9faW5zZXJ0ZWQ+MCYmKGEuX19pbnNlcnRlZD0wKSxhLl9faW5zZXJ0ZWQ8MD9CLmRvbSYmY29uc29sZS53YXJuKCJyZW1vdmVkOiIsYS5sb2NhbE5hbWUsImluc2VydC9yZW1vdmUgY291bnQ6IixhLl9faW5zZXJ0ZWQpOmEuZGV0YWNoZWRDYWxsYmFjayYmYS5kZXRhY2hlZENhbGxiYWNrKCkpLEIuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCkpfWZ1bmN0aW9uIHEoYSl7cmV0dXJuIHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD9TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoYSk6YX1mdW5jdGlvbiByKGEpe2Zvcih2YXIgYj1hLGM9cShkb2N1bWVudCk7Yjspe2lmKGI9PWMpcmV0dXJuITA7Yj1iLnBhcmVudE5vZGV8fGIuaG9zdH19ZnVuY3Rpb24gcyhhKXtpZihhLnNoYWRvd1Jvb3QmJiFhLnNoYWRvd1Jvb3QuX193YXRjaGVkKXtCLmRvbSYmY29uc29sZS5sb2coIndhdGNoaW5nIHNoYWRvdy1yb290IGZvcjogIixhLmxvY2FsTmFtZSk7Zm9yKHZhciBiPWEuc2hhZG93Um9vdDtiOyl0KGIpLGI9Yi5vbGRlclNoYWRvd1Jvb3R9fWZ1bmN0aW9uIHQoYSl7YS5fX3dhdGNoZWR8fCh3KGEpLGEuX193YXRjaGVkPSEwKX1mdW5jdGlvbiB1KGEpe2lmKEIuZG9tKXt2YXIgYj1hWzBdO2lmKGImJiJjaGlsZExpc3QiPT09Yi50eXBlJiZiLmFkZGVkTm9kZXMmJmIuYWRkZWROb2Rlcyl7Zm9yKHZhciBjPWIuYWRkZWROb2Rlc1swXTtjJiZjIT09ZG9jdW1lbnQmJiFjLmhvc3Q7KWM9Yy5wYXJlbnROb2RlO3ZhciBkPWMmJihjLlVSTHx8Yy5fVVJMfHxjLmhvc3QmJmMuaG9zdC5sb2NhbE5hbWUpfHwiIjtkPWQuc3BsaXQoIi8/Iikuc2hpZnQoKS5zcGxpdCgiLyIpLnBvcCgpfWNvbnNvbGUuZ3JvdXAoIm11dGF0aW9ucyAoJWQpIFslc10iLGEubGVuZ3RoLGR8fCIiKX1hLmZvckVhY2goZnVuY3Rpb24oYSl7ImNoaWxkTGlzdCI9PT1hLnR5cGUmJihJKGEuYWRkZWROb2RlcyxmdW5jdGlvbihhKXthLmxvY2FsTmFtZSYmZyhhKX0pLEkoYS5yZW1vdmVkTm9kZXMsZnVuY3Rpb24oYSl7YS5sb2NhbE5hbWUmJm4oYSl9KSl9KSxCLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIHYoKXt1KEgudGFrZVJlY29yZHMoKSksaygpfWZ1bmN0aW9uIHcoYSl7SC5vYnNlcnZlKGEse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSl9ZnVuY3Rpb24geChhKXt3KGEpfWZ1bmN0aW9uIHkoYSl7Qi5kb20mJmNvbnNvbGUuZ3JvdXAoInVwZ3JhZGVEb2N1bWVudDogIixhLmJhc2VVUkkuc3BsaXQoIi8iKS5wb3AoKSksZyhhKSxCLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIHooYSl7RT1bXSxBKGEpLEU9bnVsbH1mdW5jdGlvbiBBKGEpe2lmKGE9cShhKSwhKEUuaW5kZXhPZihhKT49MCkpe0UucHVzaChhKTtmb3IodmFyIGIsYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoImxpbmtbcmVsPSIrQysiXSIpLGQ9MCxlPWMubGVuZ3RoO2U+ZCYmKGI9Y1tkXSk7ZCsrKWIuaW1wb3J0JiZiLmltcG9ydC5fX3BhcnNlZCYmQShiLmltcG9ydCk7eShhKX19dmFyIEI9d2luZG93LmxvZ0ZsYWdzfHx7fSxDPXdpbmRvdy5IVE1MSW1wb3J0cz9IVE1MSW1wb3J0cy5JTVBPUlRfTElOS19UWVBFOiJub25lIixEPSF3aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXI9PT13aW5kb3cuSnNNdXRhdGlvbk9ic2VydmVyO2EuaGFzUG9seWZpbGxNdXRhdGlvbnM9RDt2YXIgRSxGPSExLEc9W10sSD1uZXcgTXV0YXRpb25PYnNlcnZlcih1KSxJPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCk7YS5JTVBPUlRfTElOS19UWVBFPUMsYS53YXRjaFNoYWRvdz1zLGEudXBncmFkZURvY3VtZW50VHJlZT16LGEudXBncmFkZUFsbD1nLGEudXBncmFkZVN1YnRyZWU9ZixhLmluc2VydGVkTm9kZT1pLGEub2JzZXJ2ZURvY3VtZW50PXgsYS51cGdyYWRlRG9jdW1lbnQ9eSxhLnRha2VSZWNvcmRzPXZ9KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiLGcpe3ZhciBoPWd8fHt9O2lmKCFiKXRocm93IG5ldyBFcnJvcigiZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50OiBmaXJzdCBhcmd1bWVudCBgbmFtZWAgbXVzdCBub3QgYmUgZW1wdHkiKTtpZihiLmluZGV4T2YoIi0iKTwwKXRocm93IG5ldyBFcnJvcigiZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50OiBmaXJzdCBhcmd1bWVudCAoJ25hbWUnKSBtdXN0IGNvbnRhaW4gYSBkYXNoICgnLScpLiBBcmd1bWVudCBwcm92aWRlZCB3YXMgJyIrU3RyaW5nKGIpKyInLiIpO2lmKGMoYikpdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gZXhlY3V0ZSAncmVnaXN0ZXJFbGVtZW50JyBvbiAnRG9jdW1lbnQnOiBSZWdpc3RyYXRpb24gZmFpbGVkIGZvciB0eXBlICciK1N0cmluZyhiKSsiJy4gVGhlIHR5cGUgbmFtZSBpcyBpbnZhbGlkLiIpO2lmKG4oYikpdGhyb3cgbmV3IEVycm9yKCJEdXBsaWNhdGVEZWZpbml0aW9uRXJyb3I6IGEgdHlwZSB3aXRoIG5hbWUgJyIrU3RyaW5nKGIpKyInIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCIpO2lmKCFoLnByb3RvdHlwZSl0aHJvdyBuZXcgRXJyb3IoIk9wdGlvbnMgbWlzc2luZyByZXF1aXJlZCBwcm90b3R5cGUgcHJvcGVydHkiKTtyZXR1cm4gaC5fX25hbWU9Yi50b0xvd2VyQ2FzZSgpLGgubGlmZWN5Y2xlPWgubGlmZWN5Y2xlfHx7fSxoLmFuY2VzdHJ5PWQoaC5leHRlbmRzKSxlKGgpLGYoaCksbChoLnByb3RvdHlwZSksbyhoLl9fbmFtZSxoKSxoLmN0b3I9cChoKSxoLmN0b3IucHJvdG90eXBlPWgucHJvdG90eXBlLGgucHJvdG90eXBlLmNvbnN0cnVjdG9yPWguY3RvcixhLnJlYWR5JiZhLnVwZ3JhZGVEb2N1bWVudFRyZWUoZG9jdW1lbnQpLGguY3Rvcn1mdW5jdGlvbiBjKGEpe2Zvcih2YXIgYj0wO2I8eS5sZW5ndGg7YisrKWlmKGE9PT15W2JdKXJldHVybiEwfWZ1bmN0aW9uIGQoYSl7dmFyIGI9bihhKTtyZXR1cm4gYj9kKGIuZXh0ZW5kcykuY29uY2F0KFtiXSk6W119ZnVuY3Rpb24gZShhKXtmb3IodmFyIGIsYz1hLmV4dGVuZHMsZD0wO2I9YS5hbmNlc3RyeVtkXTtkKyspYz1iLmlzJiZiLnRhZzthLnRhZz1jfHxhLl9fbmFtZSxjJiYoYS5pcz1hLl9fbmFtZSl9ZnVuY3Rpb24gZihhKXtpZighT2JqZWN0Ll9fcHJvdG9fXyl7dmFyIGI9SFRNTEVsZW1lbnQucHJvdG90eXBlO2lmKGEuaXMpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYS50YWcpLGQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKGMpO2Q9PT1hLnByb3RvdHlwZSYmKGI9ZCl9Zm9yKHZhciBlLGY9YS5wcm90b3R5cGU7ZiYmZiE9PWI7KWU9T2JqZWN0LmdldFByb3RvdHlwZU9mKGYpLGYuX19wcm90b19fPWUsZj1lO2EubmF0aXZlPWJ9fWZ1bmN0aW9uIGcoYSl7cmV0dXJuIGgoQihhLnRhZyksYSl9ZnVuY3Rpb24gaChiLGMpe3JldHVybiBjLmlzJiZiLnNldEF0dHJpYnV0ZSgiaXMiLGMuaXMpLGkoYixjKSxiLl9fdXBncmFkZWRfXz0hMCxrKGIpLGEuaW5zZXJ0ZWROb2RlKGIpLGEudXBncmFkZVN1YnRyZWUoYiksYn1mdW5jdGlvbiBpKGEsYil7T2JqZWN0Ll9fcHJvdG9fXz9hLl9fcHJvdG9fXz1iLnByb3RvdHlwZTooaihhLGIucHJvdG90eXBlLGIubmF0aXZlKSxhLl9fcHJvdG9fXz1iLnByb3RvdHlwZSl9ZnVuY3Rpb24gaihhLGIsYyl7Zm9yKHZhciBkPXt9LGU9YjtlIT09YyYmZSE9PUhUTUxFbGVtZW50LnByb3RvdHlwZTspe2Zvcih2YXIgZixnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLGg9MDtmPWdbaF07aCsrKWRbZl18fChPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxmLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxmKSksZFtmXT0xKTtlPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKX19ZnVuY3Rpb24gayhhKXthLmNyZWF0ZWRDYWxsYmFjayYmYS5jcmVhdGVkQ2FsbGJhY2soKX1mdW5jdGlvbiBsKGEpe2lmKCFhLnNldEF0dHJpYnV0ZS5fcG9seWZpbGxlZCl7dmFyIGI9YS5zZXRBdHRyaWJ1dGU7YS5zZXRBdHRyaWJ1dGU9ZnVuY3Rpb24oYSxjKXttLmNhbGwodGhpcyxhLGMsYil9O3ZhciBjPWEucmVtb3ZlQXR0cmlidXRlO2EucmVtb3ZlQXR0cmlidXRlPWZ1bmN0aW9uKGEpe20uY2FsbCh0aGlzLGEsbnVsbCxjKX0sYS5zZXRBdHRyaWJ1dGUuX3BvbHlmaWxsZWQ9ITB9fWZ1bmN0aW9uIG0oYSxiLGMpe2E9YS50b0xvd2VyQ2FzZSgpO3ZhciBkPXRoaXMuZ2V0QXR0cmlidXRlKGEpO2MuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBlPXRoaXMuZ2V0QXR0cmlidXRlKGEpO3RoaXMuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrJiZlIT09ZCYmdGhpcy5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soYSxkLGUpfWZ1bmN0aW9uIG4oYSl7cmV0dXJuIGE/elthLnRvTG93ZXJDYXNlKCldOnZvaWQgMH1mdW5jdGlvbiBvKGEsYil7elthXT1ifWZ1bmN0aW9uIHAoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGcoYSl9fWZ1bmN0aW9uIHEoYSxiLGMpe3JldHVybiBhPT09QT9yKGIsYyk6QyhhLGIpfWZ1bmN0aW9uIHIoYSxiKXt2YXIgYz1uKGJ8fGEpO2lmKGMpe2lmKGE9PWMudGFnJiZiPT1jLmlzKXJldHVybiBuZXcgYy5jdG9yO2lmKCFiJiYhYy5pcylyZXR1cm4gbmV3IGMuY3Rvcn1pZihiKXt2YXIgZD1yKGEpO3JldHVybiBkLnNldEF0dHJpYnV0ZSgiaXMiLGIpLGR9dmFyIGQ9QihhKTtyZXR1cm4gYS5pbmRleE9mKCItIik+PTAmJmkoZCxIVE1MRWxlbWVudCksZH1mdW5jdGlvbiBzKGEpe2lmKCFhLl9fdXBncmFkZWRfXyYmYS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFKXt2YXIgYj1hLmdldEF0dHJpYnV0ZSgiaXMiKSxjPW4oYnx8YS5sb2NhbE5hbWUpO2lmKGMpe2lmKGImJmMudGFnPT1hLmxvY2FsTmFtZSlyZXR1cm4gaChhLGMpO2lmKCFiJiYhYy5leHRlbmRzKXJldHVybiBoKGEsYyl9fX1mdW5jdGlvbiB0KGIpe3ZhciBjPUQuY2FsbCh0aGlzLGIpO3JldHVybiBhLnVwZ3JhZGVBbGwoYyksY31hfHwoYT13aW5kb3cuQ3VzdG9tRWxlbWVudHM9e2ZsYWdzOnt9fSk7dmFyIHU9YS5mbGFncyx2PUJvb2xlYW4oZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50KSx3PSF1LnJlZ2lzdGVyJiZ2JiYhd2luZG93LlNoYWRvd0RPTVBvbHlmaWxsJiYoIXdpbmRvdy5IVE1MSW1wb3J0c3x8SFRNTEltcG9ydHMudXNlTmF0aXZlKTtpZih3KXt2YXIgeD1mdW5jdGlvbigpe307YS5yZWdpc3RyeT17fSxhLnVwZ3JhZGVFbGVtZW50PXgsYS53YXRjaFNoYWRvdz14LGEudXBncmFkZT14LGEudXBncmFkZUFsbD14LGEudXBncmFkZVN1YnRyZWU9eCxhLm9ic2VydmVEb2N1bWVudD14LGEudXBncmFkZURvY3VtZW50PXgsYS51cGdyYWRlRG9jdW1lbnRUcmVlPXgsYS50YWtlUmVjb3Jkcz14LGEucmVzZXJ2ZWRUYWdMaXN0PVtdfWVsc2V7dmFyIHk9WyJhbm5vdGF0aW9uLXhtbCIsImNvbG9yLXByb2ZpbGUiLCJmb250LWZhY2UiLCJmb250LWZhY2Utc3JjIiwiZm9udC1mYWNlLXVyaSIsImZvbnQtZmFjZS1mb3JtYXQiLCJmb250LWZhY2UtbmFtZSIsIm1pc3NpbmctZ2x5cGgiXSx6PXt9LEE9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLEI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5iaW5kKGRvY3VtZW50KSxDPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUy5iaW5kKGRvY3VtZW50KSxEPU5vZGUucHJvdG90eXBlLmNsb25lTm9kZTtkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ9Yixkb2N1bWVudC5jcmVhdGVFbGVtZW50PXIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TPXEsTm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlPXQsYS5yZWdpc3RyeT16LGEudXBncmFkZT1zfXZhciBFO0U9T2JqZWN0Ll9fcHJvdG9fX3x8dz9mdW5jdGlvbihhLGIpe3JldHVybiBhIGluc3RhbmNlb2YgYn06ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9YTtjOyl7aWYoYz09PWIucHJvdG90eXBlKXJldHVybiEwO2M9Yy5fX3Byb3RvX199cmV0dXJuITF9LGEuaW5zdGFuY2VvZj1FLGEucmVzZXJ2ZWRUYWdMaXN0PXksZG9jdW1lbnQucmVnaXN0ZXI9ZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50LGEuaGFzTmF0aXZlPXYsYS51c2VOYXRpdmU9d30od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiJsaW5rIj09PWEubG9jYWxOYW1lJiZhLmdldEF0dHJpYnV0ZSgicmVsIik9PT1jfXZhciBjPWEuSU1QT1JUX0xJTktfVFlQRSxkPXtzZWxlY3RvcnM6WyJsaW5rW3JlbD0iK2MrIl0iXSxtYXA6e2xpbms6InBhcnNlTGluayJ9LHBhcnNlOmZ1bmN0aW9uKGEpe2lmKCFhLl9fcGFyc2VkKXthLl9fcGFyc2VkPSEwO3ZhciBiPWEucXVlcnlTZWxlY3RvckFsbChkLnNlbGVjdG9ycyk7ZShiLGZ1bmN0aW9uKGEpe2RbZC5tYXBbYS5sb2NhbE5hbWVdXShhKX0pLEN1c3RvbUVsZW1lbnRzLnVwZ3JhZGVEb2N1bWVudChhKSxDdXN0b21FbGVtZW50cy5vYnNlcnZlRG9jdW1lbnQoYSl9fSxwYXJzZUxpbms6ZnVuY3Rpb24oYSl7YihhKSYmdGhpcy5wYXJzZUltcG9ydChhKX0scGFyc2VJbXBvcnQ6ZnVuY3Rpb24oYSl7YS5pbXBvcnQmJmQucGFyc2UoYS5pbXBvcnQpfX0sZT1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpO2EucGFyc2VyPWQsYS5JTVBPUlRfTElOS19UWVBFPWN9KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe0N1c3RvbUVsZW1lbnRzLnBhcnNlci5wYXJzZShkb2N1bWVudCksQ3VzdG9tRWxlbWVudHMudXBncmFkZURvY3VtZW50KGRvY3VtZW50KSx3aW5kb3cuSFRNTEltcG9ydHMmJihIVE1MSW1wb3J0cy5fX2ltcG9ydHNQYXJzaW5nSG9vaz1mdW5jdGlvbihhKXtDdXN0b21FbGVtZW50cy5wYXJzZXIucGFyc2UoYS5pbXBvcnQpfSksQ3VzdG9tRWxlbWVudHMucmVhZHk9ITAsc2V0VGltZW91dChmdW5jdGlvbigpe0N1c3RvbUVsZW1lbnRzLnJlYWR5VGltZT1EYXRlLm5vdygpLHdpbmRvdy5IVE1MSW1wb3J0cyYmKEN1c3RvbUVsZW1lbnRzLmVsYXBzZWQ9Q3VzdG9tRWxlbWVudHMucmVhZHlUaW1lLUhUTUxJbXBvcnRzLnJlYWR5VGltZSksZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoIldlYkNvbXBvbmVudHNSZWFkeSIse2J1YmJsZXM6ITB9KSl9KX1pZigiZnVuY3Rpb24iIT10eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50JiYod2luZG93LkN1c3RvbUV2ZW50PWZ1bmN0aW9uKGEsYil7Yj1ifHx7fTt2YXIgYz1kb2N1bWVudC5jcmVhdGVFdmVudCgiQ3VzdG9tRXZlbnQiKTtyZXR1cm4gYy5pbml0Q3VzdG9tRXZlbnQoYSxCb29sZWFuKGIuYnViYmxlcyksQm9vbGVhbihiLmNhbmNlbGFibGUpLGIuZGV0YWlsKSxjfSx3aW5kb3cuQ3VzdG9tRXZlbnQucHJvdG90eXBlPXdpbmRvdy5FdmVudC5wcm90b3R5cGUpLCJjb21wbGV0ZSI9PT1kb2N1bWVudC5yZWFkeVN0YXRlfHxhLmZsYWdzLmVhZ2VyKWIoKTtlbHNlIGlmKCJpbnRlcmFjdGl2ZSIhPT1kb2N1bWVudC5yZWFkeVN0YXRlfHx3aW5kb3cuYXR0YWNoRXZlbnR8fHdpbmRvdy5IVE1MSW1wb3J0cyYmIXdpbmRvdy5IVE1MSW1wb3J0cy5yZWFkeSl7dmFyIGM9d2luZG93LkhUTUxJbXBvcnRzJiYhSFRNTEltcG9ydHMucmVhZHk/IkhUTUxJbXBvcnRzTG9hZGVkIjoiRE9NQ29udGVudExvYWRlZCI7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoYyxiKX1lbHNlIGIoKX0od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbigpe2lmKHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCl7dmFyIGE9WyJ1cGdyYWRlQWxsIiwidXBncmFkZVN1YnRyZWUiLCJvYnNlcnZlRG9jdW1lbnQiLCJ1cGdyYWRlRG9jdW1lbnQiXSxiPXt9O2EuZm9yRWFjaChmdW5jdGlvbihhKXtiW2FdPUN1c3RvbUVsZW1lbnRzW2FdfSksYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe0N1c3RvbUVsZW1lbnRzW2FdPWZ1bmN0aW9uKGMpe3JldHVybiBiW2FdKHdyYXAoYykpfX0pfX0oKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYigpe3dpbmRvdy5Qb2x5bWVyPT09ZSYmKHdpbmRvdy5Qb2x5bWVyPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCdZb3UgdHJpZWQgdG8gdXNlIHBvbHltZXIgd2l0aG91dCBsb2FkaW5nIGl0IGZpcnN0LiBUbyBsb2FkIHBvbHltZXIsIDxsaW5rIHJlbD0iaW1wb3J0IiBocmVmPSJjb21wb25lbnRzL3BvbHltZXIvcG9seW1lci5odG1sIj4nKX0pfWlmKCF3aW5kb3cucGVyZm9ybWFuY2Upe3ZhciBjPURhdGUubm93KCk7d2luZG93LnBlcmZvcm1hbmNlPXtub3c6ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3coKS1jfX19d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8KHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXt2YXIgYT13aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lO3JldHVybiBhP2Z1bmN0aW9uKGIpe3JldHVybiBhKGZ1bmN0aW9uKCl7YihwZXJmb3JtYW5jZS5ub3coKSl9KX06ZnVuY3Rpb24oYSl7cmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGEsMWUzLzYwKX19KCkpLHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZXx8KHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZT1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oYSl7Y2xlYXJUaW1lb3V0KGEpfX0oKSk7dmFyIGQ9W10sZT1mdW5jdGlvbihhKXsic3RyaW5nIiE9dHlwZW9mIGEmJjE9PT1hcmd1bWVudHMubGVuZ3RoJiZBcnJheS5wcm90b3R5cGUucHVzaC5jYWxsKGFyZ3VtZW50cyxkb2N1bWVudC5fY3VycmVudFNjcmlwdCksZC5wdXNoKGFyZ3VtZW50cykKfTt3aW5kb3cuUG9seW1lcj1lLGEuY29uc3VtZURlY2xhcmF0aW9ucz1mdW5jdGlvbihiKXthLmNvbnN1bWVEZWNsYXJhdGlvbnM9ZnVuY3Rpb24oKXt0aHJvdyJQb3NzaWJsZSBhdHRlbXB0IHRvIGxvYWQgUG9seW1lciB0d2ljZSJ9LGImJmIoZCksZD1udWxsfSxIVE1MSW1wb3J0cy51c2VOYXRpdmU/YigpOmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGIpfSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTthLnRleHRDb250ZW50PSJib2R5IHt0cmFuc2l0aW9uOiBvcGFjaXR5IGVhc2UtaW4gMC4yczsgfSBcbmJvZHlbdW5yZXNvbHZlZF0ge29wYWNpdHk6IDA7IGRpc3BsYXk6IGJsb2NrOyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7IH0gXG4iO3ZhciBiPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImhlYWQiKTtiLmluc2VydEJlZm9yZShhLGIuZmlyc3RDaGlsZCl9KFBsYXRmb3JtKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYil7cmV0dXJuIGI9Ynx8W10sYi5tYXB8fChiPVtiXSksYS5hcHBseSh0aGlzLGIubWFwKGQpKX1mdW5jdGlvbiBjKGEsYyxkKXt2YXIgZTtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybjtjYXNlIDE6ZT1udWxsO2JyZWFrO2Nhc2UgMjplPWMuYXBwbHkodGhpcyk7YnJlYWs7ZGVmYXVsdDplPWIoZCxjKX1mW2FdPWV9ZnVuY3Rpb24gZChhKXtyZXR1cm4gZlthXX1mdW5jdGlvbiBlKGEsYyl7SFRNTEltcG9ydHMud2hlbkltcG9ydHNSZWFkeShmdW5jdGlvbigpe2IoYyxhKX0pfXZhciBmPXt9O2EubWFyc2hhbD1kLGEubW9kdWxhcml6ZT1jLGEudXNpbmc9ZX0od2luZG93KTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGxhdGZvcm0uanMubWFw",
                "body": "LyoqCiAqIEBsaWNlbnNlCiAqIENvcHlyaWdodCAoYykgMjAxNCBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQKICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHQKICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0CiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvCiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0CiAqLwovLyBAdmVyc2lvbjogMC40LjEKCndpbmRvdy5QbGF0Zm9ybT13aW5kb3cuUGxhdGZvcm18fHt9LHdpbmRvdy5sb2dGbGFncz13aW5kb3cubG9nRmxhZ3N8fHt9LGZ1bmN0aW9uKGEpe3ZhciBiPWEuZmxhZ3N8fHt9O2xvY2F0aW9uLnNlYXJjaC5zbGljZSgxKS5zcGxpdCgiJiIpLmZvckVhY2goZnVuY3Rpb24oYSl7YT1hLnNwbGl0KCI9IiksYVswXSYmKGJbYVswXV09YVsxXXx8ITApfSk7dmFyIGM9ZG9jdW1lbnQuY3VycmVudFNjcmlwdHx8ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2NyaXB0W3NyYyo9InBsYXRmb3JtLmpzIl0nKTtpZihjKWZvcih2YXIgZCxlPWMuYXR0cmlidXRlcyxmPTA7ZjxlLmxlbmd0aDtmKyspZD1lW2ZdLCJzcmMiIT09ZC5uYW1lJiYoYltkLm5hbWVdPWQudmFsdWV8fCEwKTtiLmxvZyYmYi5sb2cuc3BsaXQoIiwiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3dpbmRvdy5sb2dGbGFnc1thXT0hMH0pLGIuc2hhZG93PWIuc2hhZG93fHxiLnNoYWRvd2RvbXx8Yi5wb2x5ZmlsbCxiLnNoYWRvdz0ibmF0aXZlIj09PWIuc2hhZG93PyExOmIuc2hhZG93fHwhSFRNTEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3QsYi5zaGFkb3cmJmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoInNjcmlwdCIpLmxlbmd0aD4xJiZjb25zb2xlLndhcm4oInBsYXRmb3JtLmpzIGlzIG5vdCB0aGUgZmlyc3Qgc2NyaXB0IG9uIHRoZSBwYWdlLiBTZWUgaHR0cDovL3d3dy5wb2x5bWVyLXByb2plY3Qub3JnL2RvY3Mvc3RhcnQvcGxhdGZvcm0uaHRtbCNzZXR1cCBmb3IgZGV0YWlscy4iKSxiLnJlZ2lzdGVyJiYod2luZG93LkN1c3RvbUVsZW1lbnRzPXdpbmRvdy5DdXN0b21FbGVtZW50c3x8e2ZsYWdzOnt9fSx3aW5kb3cuQ3VzdG9tRWxlbWVudHMuZmxhZ3MucmVnaXN0ZXI9Yi5yZWdpc3RlciksYi5pbXBvcnRzJiYod2luZG93LkhUTUxJbXBvcnRzPXdpbmRvdy5IVE1MSW1wb3J0c3x8e2ZsYWdzOnt9fSx3aW5kb3cuSFRNTEltcG9ydHMuZmxhZ3MuaW1wb3J0cz1iLmltcG9ydHMpLGEuZmxhZ3M9Yn0oUGxhdGZvcm0pLCJ1bmRlZmluZWQiPT10eXBlb2YgV2Vha01hcCYmIWZ1bmN0aW9uKCl7dmFyIGE9T2JqZWN0LmRlZmluZVByb3BlcnR5LGI9RGF0ZS5ub3coKSUxZTksYz1mdW5jdGlvbigpe3RoaXMubmFtZT0iX19zdCIrKDFlOSpNYXRoLnJhbmRvbSgpPj4+MCkrKGIrKyArIl9fIil9O2MucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYixjKXt2YXIgZD1iW3RoaXMubmFtZV07ZCYmZFswXT09PWI/ZFsxXT1jOmEoYix0aGlzLm5hbWUse3ZhbHVlOltiLGNdLHdyaXRhYmxlOiEwfSl9LGdldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4oYj1hW3RoaXMubmFtZV0pJiZiWzBdPT09YT9iWzFdOnZvaWQgMH0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dmFyIGI9YVt0aGlzLm5hbWVdO2lmKCFiKXJldHVybiExO3ZhciBjPWJbMF09PT1hO3JldHVybiBiWzBdPWJbMV09dm9pZCAwLGN9LGhhczpmdW5jdGlvbihhKXt2YXIgYj1hW3RoaXMubmFtZV07cmV0dXJuIGI/YlswXT09PWE6ITF9fSx3aW5kb3cuV2Vha01hcD1jfSgpLFBsYXRmb3JtLmZsYWdzLnNoYWRvdz8oIWZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKCl7ZnVuY3Rpb24gYShhKXtiPWF9aWYoImZ1bmN0aW9uIiE9dHlwZW9mIE9iamVjdC5vYnNlcnZlfHwiZnVuY3Rpb24iIT10eXBlb2YgQXJyYXkub2JzZXJ2ZSlyZXR1cm4hMTt2YXIgYj1bXSxjPXt9LGQ9W107cmV0dXJuIE9iamVjdC5vYnNlcnZlKGMsYSksQXJyYXkub2JzZXJ2ZShkLGEpLGMuaWQ9MSxjLmlkPTIsZGVsZXRlIGMuaWQsZC5wdXNoKDEsMiksZC5sZW5ndGg9MCxPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMoYSksNSE9PWIubGVuZ3RoPyExOiJhZGQiIT1iWzBdLnR5cGV8fCJ1cGRhdGUiIT1iWzFdLnR5cGV8fCJkZWxldGUiIT1iWzJdLnR5cGV8fCJzcGxpY2UiIT1iWzNdLnR5cGV8fCJzcGxpY2UiIT1iWzRdLnR5cGU/ITE6KE9iamVjdC51bm9ic2VydmUoYyxhKSxBcnJheS51bm9ic2VydmUoZCxhKSwhMCl9ZnVuY3Rpb24gYygpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgY2hyb21lJiZjaHJvbWUuYXBwJiZjaHJvbWUuYXBwLnJ1bnRpbWUpcmV0dXJuITE7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJm5hdmlnYXRvci5nZXREZXZpY2VTdG9yYWdlKXJldHVybiExO3RyeXt2YXIgYT1uZXcgRnVuY3Rpb24oIiIsInJldHVybiB0cnVlOyIpO3JldHVybiBhKCl9Y2F0Y2goYil7cmV0dXJuITF9fWZ1bmN0aW9uIGQoYSl7cmV0dXJuK2E9PT1hPj4+MCYmIiIhPT1hfWZ1bmN0aW9uIGUoYSl7cmV0dXJuK2F9ZnVuY3Rpb24gZihhKXtyZXR1cm4gYT09PU9iamVjdChhKX1mdW5jdGlvbiBnKGEsYil7cmV0dXJuIGE9PT1iPzAhPT1hfHwxL2E9PT0xL2I6UihhKSYmUihiKT8hMDphIT09YSYmYiE9PWJ9ZnVuY3Rpb24gaChhKXtpZih2b2lkIDA9PT1hKXJldHVybiJlb2YiO3ZhciBiPWEuY2hhckNvZGVBdCgwKTtzd2l0Y2goYil7Y2FzZSA5MTpjYXNlIDkzOmNhc2UgNDY6Y2FzZSAzNDpjYXNlIDM5OmNhc2UgNDg6cmV0dXJuIGE7Y2FzZSA5NTpjYXNlIDM2OnJldHVybiJpZGVudCI7Y2FzZSAzMjpjYXNlIDk6Y2FzZSAxMDpjYXNlIDEzOmNhc2UgMTYwOmNhc2UgNjUyNzk6Y2FzZSA4MjMyOmNhc2UgODIzMzpyZXR1cm4id3MifXJldHVybiBiPj05NyYmMTIyPj1ifHxiPj02NSYmOTA+PWI/ImlkZW50IjpiPj00OSYmNTc+PWI/Im51bWJlciI6ImVsc2UifWZ1bmN0aW9uIGkoKXt9ZnVuY3Rpb24gaihhKXtmdW5jdGlvbiBiKCl7aWYoIShtPj1hLmxlbmd0aCkpe3ZhciBiPWFbbSsxXTtyZXR1cm4iaW5TaW5nbGVRdW90ZSI9PW4mJiInIj09Ynx8ImluRG91YmxlUXVvdGUiPT1uJiYnIic9PWI/KG0rKyxkPWIsby5hcHBlbmQoKSwhMCk6dm9pZCAwfX1mb3IodmFyIGMsZCxlLGYsZyxqLGssbD1bXSxtPS0xLG49ImJlZm9yZVBhdGgiLG89e3B1c2g6ZnVuY3Rpb24oKXt2b2lkIDAhPT1lJiYobC5wdXNoKGUpLGU9dm9pZCAwKX0sYXBwZW5kOmZ1bmN0aW9uKCl7dm9pZCAwPT09ZT9lPWQ6ZSs9ZH19O247KWlmKG0rKyxjPWFbbV0sIlxcIiE9Y3x8IWIobikpe2lmKGY9aChjKSxrPVdbbl0sZz1rW2ZdfHxrWyJlbHNlIl18fCJlcnJvciIsImVycm9yIj09ZylyZXR1cm47aWYobj1nWzBdLGo9b1tnWzFdXXx8aSxkPXZvaWQgMD09PWdbMl0/YzpnWzJdLGooKSwiYWZ0ZXJQYXRoIj09PW4pcmV0dXJuIGx9fWZ1bmN0aW9uIGsoYSl7cmV0dXJuIFYudGVzdChhKX1mdW5jdGlvbiBsKGEsYil7aWYoYiE9PVgpdGhyb3cgRXJyb3IoIlVzZSBQYXRoLmdldCB0byByZXRyaWV2ZSBwYXRoIG9iamVjdHMiKTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl0aGlzLnB1c2goU3RyaW5nKGFbY10pKTtRJiZ0aGlzLmxlbmd0aCYmKHRoaXMuZ2V0VmFsdWVGcm9tPXRoaXMuY29tcGlsZWRHZXRWYWx1ZUZyb21GbigpKX1mdW5jdGlvbiBtKGEpe2lmKGEgaW5zdGFuY2VvZiBsKXJldHVybiBhO2lmKChudWxsPT1hfHwwPT1hLmxlbmd0aCkmJihhPSIiKSwic3RyaW5nIiE9dHlwZW9mIGEpe2lmKGQoYS5sZW5ndGgpKXJldHVybiBuZXcgbChhLFgpO2E9U3RyaW5nKGEpfXZhciBiPVlbYV07aWYoYilyZXR1cm4gYjt2YXIgYz1qKGEpO2lmKCFjKXJldHVybiBaO3ZhciBiPW5ldyBsKGMsWCk7cmV0dXJuIFlbYV09YixifWZ1bmN0aW9uIG4oYSl7cmV0dXJuIGQoYSk/IlsiK2ErIl0iOidbIicrYS5yZXBsYWNlKC8iL2csJ1xcIicpKyciXSd9ZnVuY3Rpb24gbyhiKXtmb3IodmFyIGM9MDtfPmMmJmIuY2hlY2tfKCk7KWMrKztyZXR1cm4gTyYmKGEuZGlydHlDaGVja0N5Y2xlQ291bnQ9YyksYz4wfWZ1bmN0aW9uIHAoYSl7Zm9yKHZhciBiIGluIGEpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gcShhKXtyZXR1cm4gcChhLmFkZGVkKSYmcChhLnJlbW92ZWQpJiZwKGEuY2hhbmdlZCl9ZnVuY3Rpb24gcihhLGIpe3ZhciBjPXt9LGQ9e30sZT17fTtmb3IodmFyIGYgaW4gYil7dmFyIGc9YVtmXTsodm9pZCAwPT09Z3x8ZyE9PWJbZl0pJiYoZiBpbiBhP2chPT1iW2ZdJiYoZVtmXT1nKTpkW2ZdPXZvaWQgMCl9Zm9yKHZhciBmIGluIGEpZiBpbiBifHwoY1tmXT1hW2ZdKTtyZXR1cm4gQXJyYXkuaXNBcnJheShhKSYmYS5sZW5ndGghPT1iLmxlbmd0aCYmKGUubGVuZ3RoPWEubGVuZ3RoKSx7YWRkZWQ6YyxyZW1vdmVkOmQsY2hhbmdlZDplfX1mdW5jdGlvbiBzKCl7aWYoIWFiLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGE9MDthPGFiLmxlbmd0aDthKyspYWJbYV0oKTtyZXR1cm4gYWIubGVuZ3RoPTAsITB9ZnVuY3Rpb24gdCgpe2Z1bmN0aW9uIGEoYSl7YiYmYi5zdGF0ZV89PT1mYiYmIWQmJmIuY2hlY2tfKGEpfXZhciBiLGMsZD0hMSxlPSEwO3JldHVybntvcGVuOmZ1bmN0aW9uKGMpe2lmKGIpdGhyb3cgRXJyb3IoIk9ic2VydmVkT2JqZWN0IGluIHVzZSIpO2V8fE9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyhhKSxiPWMsZT0hMX0sb2JzZXJ2ZTpmdW5jdGlvbihiLGQpe2M9YixkP0FycmF5Lm9ic2VydmUoYyxhKTpPYmplY3Qub2JzZXJ2ZShjLGEpfSxkZWxpdmVyOmZ1bmN0aW9uKGIpe2Q9YixPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMoYSksZD0hMX0sY2xvc2U6ZnVuY3Rpb24oKXtiPXZvaWQgMCxPYmplY3QudW5vYnNlcnZlKGMsYSksY2IucHVzaCh0aGlzKX19fWZ1bmN0aW9uIHUoYSxiLGMpe3ZhciBkPWNiLnBvcCgpfHx0KCk7cmV0dXJuIGQub3BlbihhKSxkLm9ic2VydmUoYixjKSxkfWZ1bmN0aW9uIHYoKXtmdW5jdGlvbiBhKGIsZil7YiYmKGI9PT1kJiYoZVtmXT0hMCksaC5pbmRleE9mKGIpPDAmJihoLnB1c2goYiksT2JqZWN0Lm9ic2VydmUoYixjKSksYShPYmplY3QuZ2V0UHJvdG90eXBlT2YoYiksZikpfWZ1bmN0aW9uIGIoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPWFbYl07aWYoYy5vYmplY3QhPT1kfHxlW2MubmFtZV18fCJzZXRQcm90b3R5cGUiPT09Yy50eXBlKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGMoYyl7aWYoIWIoYykpe2Zvcih2YXIgZCxlPTA7ZTxnLmxlbmd0aDtlKyspZD1nW2VdLGQuc3RhdGVfPT1mYiYmZC5pdGVyYXRlT2JqZWN0c18oYSk7Zm9yKHZhciBlPTA7ZTxnLmxlbmd0aDtlKyspZD1nW2VdLGQuc3RhdGVfPT1mYiYmZC5jaGVja18oKX19dmFyIGQsZSxmPTAsZz1bXSxoPVtdLGk9e29iamVjdDp2b2lkIDAsb2JqZWN0czpoLG9wZW46ZnVuY3Rpb24oYixjKXtkfHwoZD1jLGU9e30pLGcucHVzaChiKSxmKyssYi5pdGVyYXRlT2JqZWN0c18oYSl9LGNsb3NlOmZ1bmN0aW9uKCl7aWYoZi0tLCEoZj4wKSl7Zm9yKHZhciBhPTA7YTxoLmxlbmd0aDthKyspT2JqZWN0LnVub2JzZXJ2ZShoW2FdLGMpLHgudW5vYnNlcnZlZENvdW50Kys7Zy5sZW5ndGg9MCxoLmxlbmd0aD0wLGQ9dm9pZCAwLGU9dm9pZCAwLGRiLnB1c2godGhpcyl9fX07cmV0dXJuIGl9ZnVuY3Rpb24gdyhhLGIpe3JldHVybiAkJiYkLm9iamVjdD09PWJ8fCgkPWRiLnBvcCgpfHx2KCksJC5vYmplY3Q9YiksJC5vcGVuKGEsYiksJH1mdW5jdGlvbiB4KCl7dGhpcy5zdGF0ZV89ZWIsdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwLHRoaXMudmFsdWVfPXZvaWQgMCx0aGlzLmlkXz1pYisrfWZ1bmN0aW9uIHkoYSl7eC5fYWxsT2JzZXJ2ZXJzQ291bnQrKyxrYiYmamIucHVzaChhKX1mdW5jdGlvbiB6KCl7eC5fYWxsT2JzZXJ2ZXJzQ291bnQtLX1mdW5jdGlvbiBBKGEpe3guY2FsbCh0aGlzKSx0aGlzLnZhbHVlXz1hLHRoaXMub2xkT2JqZWN0Xz12b2lkIDB9ZnVuY3Rpb24gQihhKXtpZighQXJyYXkuaXNBcnJheShhKSl0aHJvdyBFcnJvcigiUHJvdmlkZWQgb2JqZWN0IGlzIG5vdCBhbiBBcnJheSIpO0EuY2FsbCh0aGlzLGEpfWZ1bmN0aW9uIEMoYSxiKXt4LmNhbGwodGhpcyksdGhpcy5vYmplY3RfPWEsdGhpcy5wYXRoXz1tKGIpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMH1mdW5jdGlvbiBEKGEpe3guY2FsbCh0aGlzKSx0aGlzLnJlcG9ydENoYW5nZXNPbk9wZW5fPWEsdGhpcy52YWx1ZV89W10sdGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwLHRoaXMub2JzZXJ2ZWRfPVtdfWZ1bmN0aW9uIEUoYSl7cmV0dXJuIGF9ZnVuY3Rpb24gRihhLGIsYyxkKXt0aGlzLmNhbGxiYWNrXz12b2lkIDAsdGhpcy50YXJnZXRfPXZvaWQgMCx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5vYnNlcnZhYmxlXz1hLHRoaXMuZ2V0VmFsdWVGbl89Ynx8RSx0aGlzLnNldFZhbHVlRm5fPWN8fEUsdGhpcy5kb250UGFzc1Rocm91Z2hTZXRfPWR9ZnVuY3Rpb24gRyhhLGIsYyl7Zm9yKHZhciBkPXt9LGU9e30sZj0wO2Y8Yi5sZW5ndGg7ZisrKXt2YXIgZz1iW2ZdO25iW2cudHlwZV0/KGcubmFtZSBpbiBjfHwoY1tnLm5hbWVdPWcub2xkVmFsdWUpLCJ1cGRhdGUiIT1nLnR5cGUmJigiYWRkIiE9Zy50eXBlP2cubmFtZSBpbiBkPyhkZWxldGUgZFtnLm5hbWVdLGRlbGV0ZSBjW2cubmFtZV0pOmVbZy5uYW1lXT0hMDpnLm5hbWUgaW4gZT9kZWxldGUgZVtnLm5hbWVdOmRbZy5uYW1lXT0hMCkpOihjb25zb2xlLmVycm9yKCJVbmtub3duIGNoYW5nZVJlY29yZCB0eXBlOiAiK2cudHlwZSksY29uc29sZS5lcnJvcihnKSl9Zm9yKHZhciBoIGluIGQpZFtoXT1hW2hdO2Zvcih2YXIgaCBpbiBlKWVbaF09dm9pZCAwO3ZhciBpPXt9O2Zvcih2YXIgaCBpbiBjKWlmKCEoaCBpbiBkfHxoIGluIGUpKXt2YXIgaj1hW2hdO2NbaF0hPT1qJiYoaVtoXT1qKX1yZXR1cm57YWRkZWQ6ZCxyZW1vdmVkOmUsY2hhbmdlZDppfX1mdW5jdGlvbiBIKGEsYixjKXtyZXR1cm57aW5kZXg6YSxyZW1vdmVkOmIsYWRkZWRDb3VudDpjfX1mdW5jdGlvbiBJKCl7fWZ1bmN0aW9uIEooYSxiLGMsZCxlLGYpe3JldHVybiBzYi5jYWxjU3BsaWNlcyhhLGIsYyxkLGUsZil9ZnVuY3Rpb24gSyhhLGIsYyxkKXtyZXR1cm4gYz5ifHxhPmQ/LTE6Yj09Y3x8ZD09YT8wOmM+YT9kPmI/Yi1jOmQtYzpiPmQ/ZC1hOmItYX1mdW5jdGlvbiBMKGEsYixjLGQpe2Zvcih2YXIgZT1IKGIsYyxkKSxmPSExLGc9MCxoPTA7aDxhLmxlbmd0aDtoKyspe3ZhciBpPWFbaF07aWYoaS5pbmRleCs9ZywhZil7dmFyIGo9SyhlLmluZGV4LGUuaW5kZXgrZS5yZW1vdmVkLmxlbmd0aCxpLmluZGV4LGkuaW5kZXgraS5hZGRlZENvdW50KTtpZihqPj0wKXthLnNwbGljZShoLDEpLGgtLSxnLT1pLmFkZGVkQ291bnQtaS5yZW1vdmVkLmxlbmd0aCxlLmFkZGVkQ291bnQrPWkuYWRkZWRDb3VudC1qO3ZhciBrPWUucmVtb3ZlZC5sZW5ndGgraS5yZW1vdmVkLmxlbmd0aC1qO2lmKGUuYWRkZWRDb3VudHx8ayl7dmFyIGM9aS5yZW1vdmVkO2lmKGUuaW5kZXg8aS5pbmRleCl7dmFyIGw9ZS5yZW1vdmVkLnNsaWNlKDAsaS5pbmRleC1lLmluZGV4KTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShsLGMpLGM9bH1pZihlLmluZGV4K2UucmVtb3ZlZC5sZW5ndGg+aS5pbmRleCtpLmFkZGVkQ291bnQpe3ZhciBtPWUucmVtb3ZlZC5zbGljZShpLmluZGV4K2kuYWRkZWRDb3VudC1lLmluZGV4KTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShjLG0pfWUucmVtb3ZlZD1jLGkuaW5kZXg8ZS5pbmRleCYmKGUuaW5kZXg9aS5pbmRleCl9ZWxzZSBmPSEwfWVsc2UgaWYoZS5pbmRleDxpLmluZGV4KXtmPSEwLGEuc3BsaWNlKGgsMCxlKSxoKys7dmFyIG49ZS5hZGRlZENvdW50LWUucmVtb3ZlZC5sZW5ndGg7aS5pbmRleCs9bixnKz1ufX19Znx8YS5wdXNoKGUpfWZ1bmN0aW9uIE0oYSxiKXtmb3IodmFyIGM9W10sZj0wO2Y8Yi5sZW5ndGg7ZisrKXt2YXIgZz1iW2ZdO3N3aXRjaChnLnR5cGUpe2Nhc2Uic3BsaWNlIjpMKGMsZy5pbmRleCxnLnJlbW92ZWQuc2xpY2UoKSxnLmFkZGVkQ291bnQpO2JyZWFrO2Nhc2UiYWRkIjpjYXNlInVwZGF0ZSI6Y2FzZSJkZWxldGUiOmlmKCFkKGcubmFtZSkpY29udGludWU7dmFyIGg9ZShnLm5hbWUpO2lmKDA+aCljb250aW51ZTtMKGMsaCxbZy5vbGRWYWx1ZV0sMSk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKCJVbmV4cGVjdGVkIHJlY29yZCB0eXBlOiAiK0pTT04uc3RyaW5naWZ5KGcpKX19cmV0dXJuIGN9ZnVuY3Rpb24gTihhLGIpe3ZhciBjPVtdO3JldHVybiBNKGEsYikuZm9yRWFjaChmdW5jdGlvbihiKXtyZXR1cm4gMT09Yi5hZGRlZENvdW50JiYxPT1iLnJlbW92ZWQubGVuZ3RoP3ZvaWQoYi5yZW1vdmVkWzBdIT09YVtiLmluZGV4XSYmYy5wdXNoKGIpKTp2b2lkKGM9Yy5jb25jYXQoSihhLGIuaW5kZXgsYi5pbmRleCtiLmFkZGVkQ291bnQsYi5yZW1vdmVkLDAsYi5yZW1vdmVkLmxlbmd0aCkpKX0pLGN9dmFyIE89YS50ZXN0aW5nRXhwb3NlQ3ljbGVDb3VudCxQPWIoKSxRPWMoKSxSPWEuTnVtYmVyLmlzTmFOfHxmdW5jdGlvbihiKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGImJmEuaXNOYU4oYil9LFM9Il9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKGEpe3JldHVybiBhfTpmdW5jdGlvbihhKXt2YXIgYj1hLl9fcHJvdG9fXztpZighYilyZXR1cm4gYTt2YXIgYz1PYmplY3QuY3JlYXRlKGIpO3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLGIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGIpKX0pLGN9LFQ9IlskX2EtekEtWl0iLFU9IlskX2EtekEtWjAtOV0iLFY9bmV3IFJlZ0V4cCgiXiIrVCsiKyIrVSsiKiQiKSxXPXtiZWZvcmVQYXRoOnt3czpbImJlZm9yZVBhdGgiXSxpZGVudDpbImluSWRlbnQiLCJhcHBlbmQiXSwiWyI6WyJiZWZvcmVFbGVtZW50Il0sZW9mOlsiYWZ0ZXJQYXRoIl19LGluUGF0aDp7d3M6WyJpblBhdGgiXSwiLiI6WyJiZWZvcmVJZGVudCJdLCJbIjpbImJlZm9yZUVsZW1lbnQiXSxlb2Y6WyJhZnRlclBhdGgiXX0sYmVmb3JlSWRlbnQ6e3dzOlsiYmVmb3JlSWRlbnQiXSxpZGVudDpbImluSWRlbnQiLCJhcHBlbmQiXX0saW5JZGVudDp7aWRlbnQ6WyJpbklkZW50IiwiYXBwZW5kIl0sMDpbImluSWRlbnQiLCJhcHBlbmQiXSxudW1iZXI6WyJpbklkZW50IiwiYXBwZW5kIl0sd3M6WyJpblBhdGgiLCJwdXNoIl0sIi4iOlsiYmVmb3JlSWRlbnQiLCJwdXNoIl0sIlsiOlsiYmVmb3JlRWxlbWVudCIsInB1c2giXSxlb2Y6WyJhZnRlclBhdGgiLCJwdXNoIl19LGJlZm9yZUVsZW1lbnQ6e3dzOlsiYmVmb3JlRWxlbWVudCJdLDA6WyJhZnRlclplcm8iLCJhcHBlbmQiXSxudW1iZXI6WyJpbkluZGV4IiwiYXBwZW5kIl0sIiciOlsiaW5TaW5nbGVRdW90ZSIsImFwcGVuZCIsIiJdLCciJzpbImluRG91YmxlUXVvdGUiLCJhcHBlbmQiLCIiXX0sYWZ0ZXJaZXJvOnt3czpbImFmdGVyRWxlbWVudCIsInB1c2giXSwiXSI6WyJpblBhdGgiLCJwdXNoIl19LGluSW5kZXg6ezA6WyJpbkluZGV4IiwiYXBwZW5kIl0sbnVtYmVyOlsiaW5JbmRleCIsImFwcGVuZCJdLHdzOlsiYWZ0ZXJFbGVtZW50Il0sIl0iOlsiaW5QYXRoIiwicHVzaCJdfSxpblNpbmdsZVF1b3RlOnsiJyI6WyJhZnRlckVsZW1lbnQiXSxlb2Y6WyJlcnJvciJdLCJlbHNlIjpbImluU2luZ2xlUXVvdGUiLCJhcHBlbmQiXX0saW5Eb3VibGVRdW90ZTp7JyInOlsiYWZ0ZXJFbGVtZW50Il0sZW9mOlsiZXJyb3IiXSwiZWxzZSI6WyJpbkRvdWJsZVF1b3RlIiwiYXBwZW5kIl19LGFmdGVyRWxlbWVudDp7d3M6WyJhZnRlckVsZW1lbnQiXSwiXSI6WyJpblBhdGgiLCJwdXNoIl19fSxYPXt9LFk9e307bC5nZXQ9bSxsLnByb3RvdHlwZT1TKHtfX3Byb3RvX186W10sdmFsaWQ6ITAsdG9TdHJpbmc6ZnVuY3Rpb24oKXtmb3IodmFyIGE9IiIsYj0wO2I8dGhpcy5sZW5ndGg7YisrKXt2YXIgYz10aGlzW2JdO2ErPWsoYyk/Yj8iLiIrYzpjOm4oYyl9cmV0dXJuIGF9LGdldFZhbHVlRnJvbTpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPHRoaXMubGVuZ3RoO2IrKyl7aWYobnVsbD09YSlyZXR1cm47YT1hW3RoaXNbYl1dfXJldHVybiBhfSxpdGVyYXRlT2JqZWN0czpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2M8dGhpcy5sZW5ndGg7YysrKXtpZihjJiYoYT1hW3RoaXNbYy0xXV0pLCFmKGEpKXJldHVybjtiKGEsdGhpc1swXSl9fSxjb21waWxlZEdldFZhbHVlRnJvbUZuOmZ1bmN0aW9uKCl7dmFyIGE9IiIsYj0ib2JqIjthKz0iaWYgKG9iaiAhPSBudWxsIjtmb3IodmFyIGMsZD0wO2Q8dGhpcy5sZW5ndGgtMTtkKyspYz10aGlzW2RdLGIrPWsoYyk/Ii4iK2M6bihjKSxhKz0iICYmXG4gICAgICIrYisiICE9IG51bGwiO2ErPSIpXG4iO3ZhciBjPXRoaXNbZF07cmV0dXJuIGIrPWsoYyk/Ii4iK2M6bihjKSxhKz0iICByZXR1cm4gIitiKyI7XG5lbHNlXG4gIHJldHVybiB1bmRlZmluZWQ7IixuZXcgRnVuY3Rpb24oIm9iaiIsYSl9LHNldFZhbHVlRnJvbTpmdW5jdGlvbihhLGIpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPHRoaXMubGVuZ3RoLTE7YysrKXtpZighZihhKSlyZXR1cm4hMTthPWFbdGhpc1tjXV19cmV0dXJuIGYoYSk/KGFbdGhpc1tjXV09YiwhMCk6ITF9fSk7dmFyIFo9bmV3IGwoIiIsWCk7Wi52YWxpZD0hMSxaLmdldFZhbHVlRnJvbT1aLnNldFZhbHVlRnJvbT1mdW5jdGlvbigpe307dmFyICQsXz0xZTMsYWI9W10sYmI9UD9mdW5jdGlvbigpe3ZhciBhPXtwaW5nUG9uZzohMH0sYj0hMTtyZXR1cm4gT2JqZWN0Lm9ic2VydmUoYSxmdW5jdGlvbigpe3MoKSxiPSExfSksZnVuY3Rpb24oYyl7YWIucHVzaChjKSxifHwoYj0hMCxhLnBpbmdQb25nPSFhLnBpbmdQb25nKX19KCk6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSl7YWIucHVzaChhKX19KCksY2I9W10sZGI9W10sZWI9MCxmYj0xLGdiPTIsaGI9MyxpYj0xO3gucHJvdG90eXBlPXtvcGVuOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5zdGF0ZV8hPWViKXRocm93IEVycm9yKCJPYnNlcnZlciBoYXMgYWxyZWFkeSBiZWVuIG9wZW5lZC4iKTtyZXR1cm4geSh0aGlzKSx0aGlzLmNhbGxiYWNrXz1hLHRoaXMudGFyZ2V0Xz1iLHRoaXMuY29ubmVjdF8oKSx0aGlzLnN0YXRlXz1mYix0aGlzLnZhbHVlX30sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlXz09ZmImJih6KHRoaXMpLHRoaXMuZGlzY29ubmVjdF8oKSx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy5zdGF0ZV89Z2IpfSxkZWxpdmVyOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZV89PWZiJiZvKHRoaXMpfSxyZXBvcnRfOmZ1bmN0aW9uKGEpe3RyeXt0aGlzLmNhbGxiYWNrXy5hcHBseSh0aGlzLnRhcmdldF8sYSl9Y2F0Y2goYil7eC5fZXJyb3JUaHJvd25EdXJpbmdDYWxsYmFjaz0hMCxjb25zb2xlLmVycm9yKCJFeGNlcHRpb24gY2F1Z2h0IGR1cmluZyBvYnNlcnZlciBjYWxsYmFjazogIisoYi5zdGFja3x8YikpfX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja18odm9pZCAwLCEwKSx0aGlzLnZhbHVlX319O3ZhciBqYixrYj0hUDt4Ll9hbGxPYnNlcnZlcnNDb3VudD0wLGtiJiYoamI9W10pO3ZhciBsYj0hMTthLlBsYXRmb3JtPWEuUGxhdGZvcm18fHt9LGEuUGxhdGZvcm0ucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQ9ZnVuY3Rpb24oKXtpZighbGImJmtiKXtsYj0hMDt2YXIgYixjLGQ9MDtkb3tkKyssYz1qYixqYj1bXSxiPSExO2Zvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKXt2YXIgZj1jW2VdO2Yuc3RhdGVfPT1mYiYmKGYuY2hlY2tfKCkmJihiPSEwKSxqYi5wdXNoKGYpKX1zKCkmJihiPSEwKX13aGlsZShfPmQmJmIpO08mJihhLmRpcnR5Q2hlY2tDeWNsZUNvdW50PWQpLGxiPSExfX0sa2ImJihhLlBsYXRmb3JtLmNsZWFyT2JzZXJ2ZXJzPWZ1bmN0aW9uKCl7amI9W119KSxBLnByb3RvdHlwZT1TKHtfX3Byb3RvX186eC5wcm90b3R5cGUsYXJyYXlPYnNlcnZlOiExLGNvbm5lY3RfOmZ1bmN0aW9uKCl7UD90aGlzLmRpcmVjdE9ic2VydmVyXz11KHRoaXMsdGhpcy52YWx1ZV8sdGhpcy5hcnJheU9ic2VydmUpOnRoaXMub2xkT2JqZWN0Xz10aGlzLmNvcHlPYmplY3QodGhpcy52YWx1ZV8pfSxjb3B5T2JqZWN0OmZ1bmN0aW9uKGEpe3ZhciBiPUFycmF5LmlzQXJyYXkoYSk/W106e307Zm9yKHZhciBjIGluIGEpYltjXT1hW2NdO3JldHVybiBBcnJheS5pc0FycmF5KGEpJiYoYi5sZW5ndGg9YS5sZW5ndGgpLGJ9LGNoZWNrXzpmdW5jdGlvbihhKXt2YXIgYixjO2lmKFApe2lmKCFhKXJldHVybiExO2M9e30sYj1HKHRoaXMudmFsdWVfLGEsYyl9ZWxzZSBjPXRoaXMub2xkT2JqZWN0XyxiPXIodGhpcy52YWx1ZV8sdGhpcy5vbGRPYmplY3RfKTtyZXR1cm4gcShiKT8hMTooUHx8KHRoaXMub2xkT2JqZWN0Xz10aGlzLmNvcHlPYmplY3QodGhpcy52YWx1ZV8pKSx0aGlzLnJlcG9ydF8oW2IuYWRkZWR8fHt9LGIucmVtb3ZlZHx8e30sYi5jaGFuZ2VkfHx7fSxmdW5jdGlvbihhKXtyZXR1cm4gY1thXX1dKSwhMCl9LGRpc2Nvbm5lY3RfOmZ1bmN0aW9uKCl7UD8odGhpcy5kaXJlY3RPYnNlcnZlcl8uY2xvc2UoKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDApOnRoaXMub2xkT2JqZWN0Xz12b2lkIDB9LGRlbGl2ZXI6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlXz09ZmImJihQP3RoaXMuZGlyZWN0T2JzZXJ2ZXJfLmRlbGl2ZXIoITEpOm8odGhpcykpfSxkaXNjYXJkQ2hhbmdlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpcmVjdE9ic2VydmVyXz90aGlzLmRpcmVjdE9ic2VydmVyXy5kZWxpdmVyKCEwKTp0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKSx0aGlzLnZhbHVlX319KSxCLnByb3RvdHlwZT1TKHtfX3Byb3RvX186QS5wcm90b3R5cGUsYXJyYXlPYnNlcnZlOiEwLGNvcHlPYmplY3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc2xpY2UoKX0sY2hlY2tfOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKFApe2lmKCFhKXJldHVybiExO2I9Tih0aGlzLnZhbHVlXyxhKX1lbHNlIGI9Sih0aGlzLnZhbHVlXywwLHRoaXMudmFsdWVfLmxlbmd0aCx0aGlzLm9sZE9iamVjdF8sMCx0aGlzLm9sZE9iamVjdF8ubGVuZ3RoKTtyZXR1cm4gYiYmYi5sZW5ndGg/KFB8fCh0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKSksdGhpcy5yZXBvcnRfKFtiXSksITApOiExfX0pLEIuYXBwbHlTcGxpY2VzPWZ1bmN0aW9uKGEsYixjKXtjLmZvckVhY2goZnVuY3Rpb24oYyl7Zm9yKHZhciBkPVtjLmluZGV4LGMucmVtb3ZlZC5sZW5ndGhdLGU9Yy5pbmRleDtlPGMuaW5kZXgrYy5hZGRlZENvdW50OylkLnB1c2goYltlXSksZSsrO0FycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkoYSxkKX0pfSxDLnByb3RvdHlwZT1TKHtfX3Byb3RvX186eC5wcm90b3R5cGUsZ2V0IHBhdGgoKXtyZXR1cm4gdGhpcy5wYXRoX30sY29ubmVjdF86ZnVuY3Rpb24oKXtQJiYodGhpcy5kaXJlY3RPYnNlcnZlcl89dyh0aGlzLHRoaXMub2JqZWN0XykpLHRoaXMuY2hlY2tfKHZvaWQgMCwhMCl9LGRpc2Nvbm5lY3RfOmZ1bmN0aW9uKCl7dGhpcy52YWx1ZV89dm9pZCAwLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfJiYodGhpcy5kaXJlY3RPYnNlcnZlcl8uY2xvc2UodGhpcyksdGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwKX0saXRlcmF0ZU9iamVjdHNfOmZ1bmN0aW9uKGEpe3RoaXMucGF0aF8uaXRlcmF0ZU9iamVjdHModGhpcy5vYmplY3RfLGEpfSxjaGVja186ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnZhbHVlXztyZXR1cm4gdGhpcy52YWx1ZV89dGhpcy5wYXRoXy5nZXRWYWx1ZUZyb20odGhpcy5vYmplY3RfKSxifHxnKHRoaXMudmFsdWVfLGMpPyExOih0aGlzLnJlcG9ydF8oW3RoaXMudmFsdWVfLGMsdGhpc10pLCEwKX0sc2V0VmFsdWU6ZnVuY3Rpb24oYSl7dGhpcy5wYXRoXyYmdGhpcy5wYXRoXy5zZXRWYWx1ZUZyb20odGhpcy5vYmplY3RfLGEpfX0pO3ZhciBtYj17fTtELnByb3RvdHlwZT1TKHtfX3Byb3RvX186eC5wcm90b3R5cGUsY29ubmVjdF86ZnVuY3Rpb24oKXtpZihQKXtmb3IodmFyIGEsYj0hMSxjPTA7Yzx0aGlzLm9ic2VydmVkXy5sZW5ndGg7Yys9MilpZihhPXRoaXMub2JzZXJ2ZWRfW2NdLGEhPT1tYil7Yj0hMDticmVha31iJiYodGhpcy5kaXJlY3RPYnNlcnZlcl89dyh0aGlzLGEpKX10aGlzLmNoZWNrXyh2b2lkIDAsIXRoaXMucmVwb3J0Q2hhbmdlc09uT3Blbl8pfSxkaXNjb25uZWN0XzpmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2ErPTIpdGhpcy5vYnNlcnZlZF9bYV09PT1tYiYmdGhpcy5vYnNlcnZlZF9bYSsxXS5jbG9zZSgpO3RoaXMub2JzZXJ2ZWRfLmxlbmd0aD0wLHRoaXMudmFsdWVfLmxlbmd0aD0wLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfJiYodGhpcy5kaXJlY3RPYnNlcnZlcl8uY2xvc2UodGhpcyksdGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwKX0sYWRkUGF0aDpmdW5jdGlvbihhLGIpe2lmKHRoaXMuc3RhdGVfIT1lYiYmdGhpcy5zdGF0ZV8hPWhiKXRocm93IEVycm9yKCJDYW5ub3QgYWRkIHBhdGhzIG9uY2Ugc3RhcnRlZC4iKTt2YXIgYj1tKGIpO2lmKHRoaXMub2JzZXJ2ZWRfLnB1c2goYSxiKSx0aGlzLnJlcG9ydENoYW5nZXNPbk9wZW5fKXt2YXIgYz10aGlzLm9ic2VydmVkXy5sZW5ndGgvMi0xO3RoaXMudmFsdWVfW2NdPWIuZ2V0VmFsdWVGcm9tKGEpfX0sYWRkT2JzZXJ2ZXI6ZnVuY3Rpb24oYSl7aWYodGhpcy5zdGF0ZV8hPWViJiZ0aGlzLnN0YXRlXyE9aGIpdGhyb3cgRXJyb3IoIkNhbm5vdCBhZGQgb2JzZXJ2ZXJzIG9uY2Ugc3RhcnRlZC4iKTtpZih0aGlzLm9ic2VydmVkXy5wdXNoKG1iLGEpLHRoaXMucmVwb3J0Q2hhbmdlc09uT3Blbl8pe3ZhciBiPXRoaXMub2JzZXJ2ZWRfLmxlbmd0aC8yLTE7dGhpcy52YWx1ZV9bYl09YS5vcGVuKHRoaXMuZGVsaXZlcix0aGlzKX19LHN0YXJ0UmVzZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXRlXyE9ZmIpdGhyb3cgRXJyb3IoIkNhbiBvbmx5IHJlc2V0IHdoaWxlIG9wZW4iKTt0aGlzLnN0YXRlXz1oYix0aGlzLmRpc2Nvbm5lY3RfKCl9LGZpbmlzaFJlc2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5zdGF0ZV8hPWhiKXRocm93IEVycm9yKCJDYW4gb25seSBmaW5pc2hSZXNldCBhZnRlciBzdGFydFJlc2V0Iik7cmV0dXJuIHRoaXMuc3RhdGVfPWZiLHRoaXMuY29ubmVjdF8oKSx0aGlzLnZhbHVlX30saXRlcmF0ZU9iamVjdHNfOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPTA7Yzx0aGlzLm9ic2VydmVkXy5sZW5ndGg7Yys9MiliPXRoaXMub2JzZXJ2ZWRfW2NdLGIhPT1tYiYmdGhpcy5vYnNlcnZlZF9bYysxXS5pdGVyYXRlT2JqZWN0cyhiLGEpfSxjaGVja186ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wO2Q8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2QrPTIpe3ZhciBlLGY9dGhpcy5vYnNlcnZlZF9bZF0saD10aGlzLm9ic2VydmVkX1tkKzFdO2lmKGY9PT1tYil7dmFyIGk9aDtlPXRoaXMuc3RhdGVfPT09ZWI/aS5vcGVuKHRoaXMuZGVsaXZlcix0aGlzKTppLmRpc2NhcmRDaGFuZ2VzKCl9ZWxzZSBlPWguZ2V0VmFsdWVGcm9tKGYpO2I/dGhpcy52YWx1ZV9bZC8yXT1lOmcoZSx0aGlzLnZhbHVlX1tkLzJdKXx8KGM9Y3x8W10sY1tkLzJdPXRoaXMudmFsdWVfW2QvMl0sdGhpcy52YWx1ZV9bZC8yXT1lKX1yZXR1cm4gYz8odGhpcy5yZXBvcnRfKFt0aGlzLnZhbHVlXyxjLHRoaXMub2JzZXJ2ZWRfXSksITApOiExfX0pLEYucHJvdG90eXBlPXtvcGVuOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuY2FsbGJhY2tfPWEsdGhpcy50YXJnZXRfPWIsdGhpcy52YWx1ZV89dGhpcy5nZXRWYWx1ZUZuXyh0aGlzLm9ic2VydmFibGVfLm9wZW4odGhpcy5vYnNlcnZlZENhbGxiYWNrXyx0aGlzKSksdGhpcy52YWx1ZV99LG9ic2VydmVkQ2FsbGJhY2tfOmZ1bmN0aW9uKGEpe2lmKGE9dGhpcy5nZXRWYWx1ZUZuXyhhKSwhZyhhLHRoaXMudmFsdWVfKSl7dmFyIGI9dGhpcy52YWx1ZV87dGhpcy52YWx1ZV89YSx0aGlzLmNhbGxiYWNrXy5jYWxsKHRoaXMudGFyZ2V0Xyx0aGlzLnZhbHVlXyxiKX19LGRpc2NhcmRDaGFuZ2VzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVfPXRoaXMuZ2V0VmFsdWVGbl8odGhpcy5vYnNlcnZhYmxlXy5kaXNjYXJkQ2hhbmdlcygpKSx0aGlzLnZhbHVlX30sZGVsaXZlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9ic2VydmFibGVfLmRlbGl2ZXIoKX0sc2V0VmFsdWU6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9dGhpcy5zZXRWYWx1ZUZuXyhhKSwhdGhpcy5kb250UGFzc1Rocm91Z2hTZXRfJiZ0aGlzLm9ic2VydmFibGVfLnNldFZhbHVlP3RoaXMub2JzZXJ2YWJsZV8uc2V0VmFsdWUoYSk6dm9pZCAwfSxjbG9zZTpmdW5jdGlvbigpe3RoaXMub2JzZXJ2YWJsZV8mJnRoaXMub2JzZXJ2YWJsZV8uY2xvc2UoKSx0aGlzLmNhbGxiYWNrXz12b2lkIDAsdGhpcy50YXJnZXRfPXZvaWQgMCx0aGlzLm9ic2VydmFibGVfPXZvaWQgMCx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5nZXRWYWx1ZUZuXz12b2lkIDAsdGhpcy5zZXRWYWx1ZUZuXz12b2lkIDB9fTt2YXIgbmI9e2FkZDohMCx1cGRhdGU6ITAsImRlbGV0ZSI6ITB9LG9iPTAscGI9MSxxYj0yLHJiPTM7SS5wcm90b3R5cGU9e2NhbGNFZGl0RGlzdGFuY2VzOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXtmb3IodmFyIGc9Zi1lKzEsaD1jLWIrMSxpPW5ldyBBcnJheShnKSxqPTA7Zz5qO2orKylpW2pdPW5ldyBBcnJheShoKSxpW2pdWzBdPWo7Zm9yKHZhciBrPTA7aD5rO2srKylpWzBdW2tdPWs7Zm9yKHZhciBqPTE7Zz5qO2orKylmb3IodmFyIGs9MTtoPms7aysrKWlmKHRoaXMuZXF1YWxzKGFbYitrLTFdLGRbZStqLTFdKSlpW2pdW2tdPWlbai0xXVtrLTFdO2Vsc2V7dmFyIGw9aVtqLTFdW2tdKzEsbT1pW2pdW2stMV0rMTtpW2pdW2tdPW0+bD9sOm19cmV0dXJuIGl9LHNwbGljZU9wZXJhdGlvbnNGcm9tRWRpdERpc3RhbmNlczpmdW5jdGlvbihhKXtmb3IodmFyIGI9YS5sZW5ndGgtMSxjPWFbMF0ubGVuZ3RoLTEsZD1hW2JdW2NdLGU9W107Yj4wfHxjPjA7KWlmKDAhPWIpaWYoMCE9Yyl7dmFyIGYsZz1hW2ItMV1bYy0xXSxoPWFbYi0xXVtjXSxpPWFbYl1bYy0xXTtmPWk+aD9nPmg/aDpnOmc+aT9pOmcsZj09Zz8oZz09ZD9lLnB1c2gob2IpOihlLnB1c2gocGIpLGQ9ZyksYi0tLGMtLSk6Zj09aD8oZS5wdXNoKHJiKSxiLS0sZD1oKTooZS5wdXNoKHFiKSxjLS0sZD1pKX1lbHNlIGUucHVzaChyYiksYi0tO2Vsc2UgZS5wdXNoKHFiKSxjLS07cmV0dXJuIGUucmV2ZXJzZSgpLGV9LGNhbGNTcGxpY2VzOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz0wLGg9MCxpPU1hdGgubWluKGMtYixmLWUpO2lmKDA9PWImJjA9PWUmJihnPXRoaXMuc2hhcmVkUHJlZml4KGEsZCxpKSksYz09YS5sZW5ndGgmJmY9PWQubGVuZ3RoJiYoaD10aGlzLnNoYXJlZFN1ZmZpeChhLGQsaS1nKSksYis9ZyxlKz1nLGMtPWgsZi09aCxjLWI9PTAmJmYtZT09MClyZXR1cm5bXTtpZihiPT1jKXtmb3IodmFyIGo9SChiLFtdLDApO2Y+ZTspai5yZW1vdmVkLnB1c2goZFtlKytdKTtyZXR1cm5bal19aWYoZT09ZilyZXR1cm5bSChiLFtdLGMtYildO2Zvcih2YXIgaz10aGlzLnNwbGljZU9wZXJhdGlvbnNGcm9tRWRpdERpc3RhbmNlcyh0aGlzLmNhbGNFZGl0RGlzdGFuY2VzKGEsYixjLGQsZSxmKSksaj12b2lkIDAsbD1bXSxtPWIsbj1lLG89MDtvPGsubGVuZ3RoO28rKylzd2l0Y2goa1tvXSl7Y2FzZSBvYjpqJiYobC5wdXNoKGopLGo9dm9pZCAwKSxtKyssbisrO2JyZWFrO2Nhc2UgcGI6anx8KGo9SChtLFtdLDApKSxqLmFkZGVkQ291bnQrKyxtKyssai5yZW1vdmVkLnB1c2goZFtuXSksbisrO2JyZWFrO2Nhc2UgcWI6anx8KGo9SChtLFtdLDApKSxqLmFkZGVkQ291bnQrKyxtKys7YnJlYWs7Y2FzZSByYjpqfHwoaj1IKG0sW10sMCkpLGoucmVtb3ZlZC5wdXNoKGRbbl0pLG4rK31yZXR1cm4gaiYmbC5wdXNoKGopLGx9LHNoYXJlZFByZWZpeDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA7Yz5kO2QrKylpZighdGhpcy5lcXVhbHMoYVtkXSxiW2RdKSlyZXR1cm4gZDtyZXR1cm4gY30sc2hhcmVkU3VmZml4OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1iLmxlbmd0aCxmPTA7Yz5mJiZ0aGlzLmVxdWFscyhhWy0tZF0sYlstLWVdKTspZisrO3JldHVybiBmfSxjYWxjdWxhdGVTcGxpY2VzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuY2FsY1NwbGljZXMoYSwwLGEubGVuZ3RoLGIsMCxiLmxlbmd0aCl9LGVxdWFsczpmdW5jdGlvbihhLGIpe3JldHVybiBhPT09Yn19O3ZhciBzYj1uZXcgSTthLk9ic2VydmVyPXgsYS5PYnNlcnZlci5ydW5FT01fPWJiLGEuT2JzZXJ2ZXIub2JzZXJ2ZXJTZW50aW5lbF89bWIsYS5PYnNlcnZlci5oYXNPYmplY3RPYnNlcnZlPVAsYS5BcnJheU9ic2VydmVyPUIsYS5BcnJheU9ic2VydmVyLmNhbGN1bGF0ZVNwbGljZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gc2IuY2FsY3VsYXRlU3BsaWNlcyhhLGIpfSxhLkFycmF5U3BsaWNlPUksYS5PYmplY3RPYnNlcnZlcj1BLGEuUGF0aE9ic2VydmVyPUMsYS5Db21wb3VuZE9ic2VydmVyPUQsYS5QYXRoPWwsYS5PYnNlcnZlclRyYW5zZm9ybT1GfSgidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbCYmZ2xvYmFsJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlP2dsb2JhbDp0aGlzfHx3aW5kb3cpLHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD17fSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYigpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgY2hyb21lJiZjaHJvbWUuYXBwJiZjaHJvbWUuYXBwLnJ1bnRpbWUpcmV0dXJuITE7aWYobmF2aWdhdG9yLmdldERldmljZVN0b3JhZ2UpcmV0dXJuITE7dHJ5e3ZhciBhPW5ldyBGdW5jdGlvbigicmV0dXJuIHRydWU7Iik7cmV0dXJuIGEoKX1jYXRjaChiKXtyZXR1cm4hMX19ZnVuY3Rpb24gYyhhKXtpZighYSl0aHJvdyBuZXcgRXJyb3IoIkFzc2VydGlvbiBmYWlsZWQiKX1mdW5jdGlvbiBkKGEsYil7Zm9yKHZhciBjPU4oYiksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO00oYSxlLE8oYixlKSl9cmV0dXJuIGF9ZnVuY3Rpb24gZShhLGIpe2Zvcih2YXIgYz1OKGIpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXTtzd2l0Y2goZSl7Y2FzZSJhcmd1bWVudHMiOmNhc2UiY2FsbGVyIjpjYXNlImxlbmd0aCI6Y2FzZSJuYW1lIjpjYXNlInByb3RvdHlwZSI6Y2FzZSJ0b1N0cmluZyI6Y29udGludWV9TShhLGUsTyhiLGUpKX1yZXR1cm4gYX1mdW5jdGlvbiBmKGEsYil7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspaWYoYltjXWluIGEpcmV0dXJuIGJbY119ZnVuY3Rpb24gZyhhLGIsYyl7UC52YWx1ZT1jLE0oYSxiLFApfWZ1bmN0aW9uIGgoYSl7dmFyIGI9YS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihhKSxjPUkuZ2V0KGIpO2lmKGMpcmV0dXJuIGM7dmFyIGQ9aChiKSxlPXYoZCk7cmV0dXJuIHMoYixlLGEpLGV9ZnVuY3Rpb24gaShhLGIpe3EoYSxiLCEwKX1mdW5jdGlvbiBqKGEsYil7cShiLGEsITEpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuL15vblthLXpdKyQvLnRlc3QoYSl9ZnVuY3Rpb24gbChhKXtyZXR1cm4vXlx3W2EtekEtWl8wLTldKiQvLnRlc3QoYSl9ZnVuY3Rpb24gbShhKXtyZXR1cm4gTCYmbChhKT9uZXcgRnVuY3Rpb24oInJldHVybiB0aGlzLl9faW1wbDRjZjFlNzgyaGdfXy4iK2EpOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19pbXBsNGNmMWU3ODJoZ19fW2FdfX1mdW5jdGlvbiBuKGEpe3JldHVybiBMJiZsKGEpP25ldyBGdW5jdGlvbigidiIsInRoaXMuX19pbXBsNGNmMWU3ODJoZ19fLiIrYSsiID0gdiIpOmZ1bmN0aW9uKGIpe3RoaXMuX19pbXBsNGNmMWU3ODJoZ19fW2FdPWJ9fWZ1bmN0aW9uIG8oYSl7cmV0dXJuIEwmJmwoYSk/bmV3IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcy5fX2ltcGw0Y2YxZTc4MmhnX18uIithKyIuYXBwbHkodGhpcy5fX2ltcGw0Y2YxZTc4MmhnX18sIGFyZ3VtZW50cykiKTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9faW1wbDRjZjFlNzgyaGdfX1thXS5hcHBseSh0aGlzLl9faW1wbDRjZjFlNzgyaGdfXyxhcmd1bWVudHMpfX1mdW5jdGlvbiBwKGEsYil7dHJ5e3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsYil9Y2F0Y2goYyl7cmV0dXJuIFJ9fWZ1bmN0aW9uIHEoYixjLGQpe2Zvcih2YXIgZT1OKGIpLGY9MDtmPGUubGVuZ3RoO2YrKyl7dmFyIGc9ZVtmXTtpZigicG9seW1lckJsYWNrTGlzdF8iIT09ZyYmIShnIGluIGN8fGIucG9seW1lckJsYWNrTGlzdF8mJmIucG9seW1lckJsYWNrTGlzdF9bZ10pKXtRJiZiLl9fbG9va3VwR2V0dGVyX18oZyk7dmFyIGgsaSxqPXAoYixnKTtpZihkJiYiZnVuY3Rpb24iPT10eXBlb2Ygai52YWx1ZSljW2ddPW8oZyk7ZWxzZXt2YXIgbD1rKGcpO2g9bD9hLmdldEV2ZW50SGFuZGxlckdldHRlcihnKTptKGcpLChqLndyaXRhYmxlfHxqLnNldHx8UykmJihpPWw/YS5nZXRFdmVudEhhbmRsZXJTZXR0ZXIoZyk6bihnKSksTShjLGcse2dldDpoLHNldDppLGNvbmZpZ3VyYWJsZTpqLmNvbmZpZ3VyYWJsZSxlbnVtZXJhYmxlOmouZW51bWVyYWJsZX0pfX19fWZ1bmN0aW9uIHIoYSxiLGMpe3ZhciBkPWEucHJvdG90eXBlO3MoZCxiLGMpLGUoYixhKX1mdW5jdGlvbiBzKGEsYixkKXt2YXIgZT1iLnByb3RvdHlwZTtjKHZvaWQgMD09PUkuZ2V0KGEpKSxJLnNldChhLGIpLEouc2V0KGUsYSksaShhLGUpLGQmJmooZSxkKSxnKGUsImNvbnN0cnVjdG9yIixiKSxiLnByb3RvdHlwZT1lfWZ1bmN0aW9uIHQoYSxiKXtyZXR1cm4gSS5nZXQoYi5wcm90b3R5cGUpPT09YX1mdW5jdGlvbiB1KGEpe3ZhciBiPU9iamVjdC5nZXRQcm90b3R5cGVPZihhKSxjPWgoYiksZD12KGMpO3JldHVybiBzKGIsZCxhKSxkfWZ1bmN0aW9uIHYoYSl7ZnVuY3Rpb24gYihiKXthLmNhbGwodGhpcyxiKX12YXIgYz1PYmplY3QuY3JlYXRlKGEucHJvdG90eXBlKTtyZXR1cm4gYy5jb25zdHJ1Y3Rvcj1iLGIucHJvdG90eXBlPWMsYn1mdW5jdGlvbiB3KGEpe3JldHVybiBhJiZhLl9faW1wbDRjZjFlNzgyaGdfX31mdW5jdGlvbiB4KGEpe3JldHVybiF3KGEpfWZ1bmN0aW9uIHkoYSl7cmV0dXJuIG51bGw9PT1hP251bGw6KGMoeChhKSksYS5fX3dyYXBwZXI4ZTNkZDkzYTYwX198fChhLl9fd3JhcHBlcjhlM2RkOTNhNjBfXz1uZXcoaChhKSkoYSkpKX1mdW5jdGlvbiB6KGEpe3JldHVybiBudWxsPT09YT9udWxsOihjKHcoYSkpLGEuX19pbXBsNGNmMWU3ODJoZ19fKX1mdW5jdGlvbiBBKGEpe3JldHVybiBhLl9faW1wbDRjZjFlNzgyaGdfX31mdW5jdGlvbiBCKGEsYil7Yi5fX2ltcGw0Y2YxZTc4MmhnX189YSxhLl9fd3JhcHBlcjhlM2RkOTNhNjBfXz1ifWZ1bmN0aW9uIEMoYSl7cmV0dXJuIGEmJncoYSk/eihhKTphfWZ1bmN0aW9uIEQoYSl7cmV0dXJuIGEmJiF3KGEpP3koYSk6YX1mdW5jdGlvbiBFKGEsYil7bnVsbCE9PWImJihjKHgoYSkpLGModm9pZCAwPT09Ynx8dyhiKSksYS5fX3dyYXBwZXI4ZTNkZDkzYTYwX189Yil9ZnVuY3Rpb24gRihhLGIsYyl7VC5nZXQ9YyxNKGEucHJvdG90eXBlLGIsVCl9ZnVuY3Rpb24gRyhhLGIpe0YoYSxiLGZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcy5fX2ltcGw0Y2YxZTc4MmhnX19bYl0pfSl9ZnVuY3Rpb24gSChhLGIpe2EuZm9yRWFjaChmdW5jdGlvbihhKXtiLmZvckVhY2goZnVuY3Rpb24oYil7YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXt2YXIgYT1EKHRoaXMpO3JldHVybiBhW2JdLmFwcGx5KGEsYXJndW1lbnRzKX19KX0pfXZhciBJPW5ldyBXZWFrTWFwLEo9bmV3IFdlYWtNYXAsSz1PYmplY3QuY3JlYXRlKG51bGwpLEw9YigpLE09T2JqZWN0LmRlZmluZVByb3BlcnR5LE49T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMsTz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFA9e3ZhbHVlOnZvaWQgMCxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMH07Tih3aW5kb3cpO3ZhciBRPS9GaXJlZm94Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLFI9e2dldDpmdW5jdGlvbigpe30sc2V0OmZ1bmN0aW9uKCl7fSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0sUz1mdW5jdGlvbigpe3ZhciBhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTm9kZS5wcm90b3R5cGUsIm5vZGVUeXBlIik7cmV0dXJuISFhJiYic2V0ImluIGF9KCksVD17Z2V0OnZvaWQgMCxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH07YS5hc3NlcnQ9YyxhLmNvbnN0cnVjdG9yVGFibGU9SSxhLmRlZmluZUdldHRlcj1GLGEuZGVmaW5lV3JhcEdldHRlcj1HLGEuZm9yd2FyZE1ldGhvZHNUb1dyYXBwZXI9SCxhLmlzV3JhcHBlcj13LGEuaXNXcmFwcGVyRm9yPXQsYS5taXhpbj1kLGEubmF0aXZlUHJvdG90eXBlVGFibGU9SixhLm9uZU9mPWYsYS5yZWdpc3Rlck9iamVjdD11LGEucmVnaXN0ZXJXcmFwcGVyPXIsYS5yZXdyYXA9RSxhLnNldFdyYXBwZXI9QixhLnVuc2FmZVVud3JhcD1BLGEudW53cmFwPXosYS51bndyYXBJZk5lZWRlZD1DLGEud3JhcD15LGEud3JhcElmTmVlZGVkPUQsYS53cmFwcGVycz1LfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKCl7Zz0hMTt2YXIgYT1mLnNsaWNlKDApO2Y9W107Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXSgpfWZ1bmN0aW9uIGMoYSl7Zi5wdXNoKGEpLGd8fChnPSEwLGQoYiwwKSl9dmFyIGQsZT13aW5kb3cuTXV0YXRpb25PYnNlcnZlcixmPVtdLGc9ITE7aWYoZSl7dmFyIGg9MSxpPW5ldyBlKGIpLGo9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoaCk7aS5vYnNlcnZlKGose2NoYXJhY3RlckRhdGE6ITB9KSxkPWZ1bmN0aW9uKCl7aD0oaCsxKSUyLGouZGF0YT1ofX1lbHNlIGQ9d2luZG93LnNldEltbWVkaWF0ZXx8d2luZG93LnNldFRpbWVvdXQ7YS5zZXRFbmRPZk1pY3JvdGFzaz1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKCl7cHx8KGsoYykscD0hMCl9ZnVuY3Rpb24gYygpe2ZvcihwPSExO28ubGVuZ3RoOyl7dmFyIGE9bztvPVtdLGEuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLnVpZF8tYi51aWRffSk7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPWFbYl0sZD1jLnRha2VSZWNvcmRzKCk7ZihjKSxkLmxlbmd0aCYmYy5jYWxsYmFja18oZCxjKX19fWZ1bmN0aW9uIGQoYSxiKXt0aGlzLnR5cGU9YSx0aGlzLnRhcmdldD1iLHRoaXMuYWRkZWROb2Rlcz1uZXcgbS5Ob2RlTGlzdCx0aGlzLnJlbW92ZWROb2Rlcz1uZXcgbS5Ob2RlTGlzdCx0aGlzLnByZXZpb3VzU2libGluZz1udWxsLHRoaXMubmV4dFNpYmxpbmc9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWU9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWVzcGFjZT1udWxsLHRoaXMub2xkVmFsdWU9bnVsbH1mdW5jdGlvbiBlKGEsYil7Zm9yKDthO2E9YS5wYXJlbnROb2RlKXt2YXIgYz1uLmdldChhKTtpZihjKWZvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO2Uub3B0aW9ucy5zdWJ0cmVlJiZlLmFkZFRyYW5zaWVudE9ic2VydmVyKGIpfX19ZnVuY3Rpb24gZihhKXtmb3IodmFyIGI9MDtiPGEubm9kZXNfLmxlbmd0aDtiKyspe3ZhciBjPWEubm9kZXNfW2JdLGQ9bi5nZXQoYyk7aWYoIWQpcmV0dXJuO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdO2Yub2JzZXJ2ZXI9PT1hJiZmLnJlbW92ZVRyYW5zaWVudE9ic2VydmVycygpfX19ZnVuY3Rpb24gZyhhLGMsZSl7Zm9yKHZhciBmPU9iamVjdC5jcmVhdGUobnVsbCksZz1PYmplY3QuY3JlYXRlKG51bGwpLGg9YTtoO2g9aC5wYXJlbnROb2RlKXt2YXIgaT1uLmdldChoKTtpZihpKWZvcih2YXIgaj0wO2o8aS5sZW5ndGg7aisrKXt2YXIgaz1pW2pdLGw9ay5vcHRpb25zO2lmKChoPT09YXx8bC5zdWJ0cmVlKSYmISgiYXR0cmlidXRlcyI9PT1jJiYhbC5hdHRyaWJ1dGVzfHwiYXR0cmlidXRlcyI9PT1jJiZsLmF0dHJpYnV0ZUZpbHRlciYmKG51bGwhPT1lLm5hbWVzcGFjZXx8LTE9PT1sLmF0dHJpYnV0ZUZpbHRlci5pbmRleE9mKGUubmFtZSkpfHwiY2hhcmFjdGVyRGF0YSI9PT1jJiYhbC5jaGFyYWN0ZXJEYXRhfHwiY2hpbGRMaXN0Ij09PWMmJiFsLmNoaWxkTGlzdCkpe3ZhciBtPWsub2JzZXJ2ZXI7ZlttLnVpZF9dPW0sKCJhdHRyaWJ1dGVzIj09PWMmJmwuYXR0cmlidXRlT2xkVmFsdWV8fCJjaGFyYWN0ZXJEYXRhIj09PWMmJmwuY2hhcmFjdGVyRGF0YU9sZFZhbHVlKSYmKGdbbS51aWRfXT1lLm9sZFZhbHVlKX19fXZhciBwPSExO2Zvcih2YXIgcSBpbiBmKXt2YXIgbT1mW3FdLHI9bmV3IGQoYyxhKTsibmFtZSJpbiBlJiYibmFtZXNwYWNlImluIGUmJihyLmF0dHJpYnV0ZU5hbWU9ZS5uYW1lLHIuYXR0cmlidXRlTmFtZXNwYWNlPWUubmFtZXNwYWNlKSxlLmFkZGVkTm9kZXMmJihyLmFkZGVkTm9kZXM9ZS5hZGRlZE5vZGVzKSxlLnJlbW92ZWROb2RlcyYmKHIucmVtb3ZlZE5vZGVzPWUucmVtb3ZlZE5vZGVzKSxlLnByZXZpb3VzU2libGluZyYmKHIucHJldmlvdXNTaWJsaW5nPWUucHJldmlvdXNTaWJsaW5nKSxlLm5leHRTaWJsaW5nJiYoci5uZXh0U2libGluZz1lLm5leHRTaWJsaW5nKSx2b2lkIDAhPT1nW3FdJiYoci5vbGRWYWx1ZT1nW3FdKSxtLnJlY29yZHNfLmxlbmd0aHx8KG8ucHVzaChtKSxwPSEwKSxtLnJlY29yZHNfLnB1c2gocil9cCYmYigpfWZ1bmN0aW9uIGgoYSl7aWYodGhpcy5jaGlsZExpc3Q9ISFhLmNoaWxkTGlzdCx0aGlzLnN1YnRyZWU9ISFhLnN1YnRyZWUsdGhpcy5hdHRyaWJ1dGVzPSJhdHRyaWJ1dGVzImluIGF8fCEoImF0dHJpYnV0ZU9sZFZhbHVlImluIGF8fCJhdHRyaWJ1dGVGaWx0ZXIiaW4gYSk/ISFhLmF0dHJpYnV0ZXM6ITAsdGhpcy5jaGFyYWN0ZXJEYXRhPSJjaGFyYWN0ZXJEYXRhT2xkVmFsdWUiaW4gYSYmISgiY2hhcmFjdGVyRGF0YSJpbiBhKT8hMDohIWEuY2hhcmFjdGVyRGF0YSwhdGhpcy5hdHRyaWJ1dGVzJiYoYS5hdHRyaWJ1dGVPbGRWYWx1ZXx8ImF0dHJpYnV0ZUZpbHRlciJpbiBhKXx8IXRoaXMuY2hhcmFjdGVyRGF0YSYmYS5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUpdGhyb3cgbmV3IFR5cGVFcnJvcjtpZih0aGlzLmNoYXJhY3RlckRhdGE9ISFhLmNoYXJhY3RlckRhdGEsdGhpcy5hdHRyaWJ1dGVPbGRWYWx1ZT0hIWEuYXR0cmlidXRlT2xkVmFsdWUsdGhpcy5jaGFyYWN0ZXJEYXRhT2xkVmFsdWU9ISFhLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSwiYXR0cmlidXRlRmlsdGVyImluIGEpe2lmKG51bGw9PWEuYXR0cmlidXRlRmlsdGVyfHwib2JqZWN0IiE9dHlwZW9mIGEuYXR0cmlidXRlRmlsdGVyKXRocm93IG5ldyBUeXBlRXJyb3I7dGhpcy5hdHRyaWJ1dGVGaWx0ZXI9cS5jYWxsKGEuYXR0cmlidXRlRmlsdGVyKX1lbHNlIHRoaXMuYXR0cmlidXRlRmlsdGVyPW51bGx9ZnVuY3Rpb24gaShhKXt0aGlzLmNhbGxiYWNrXz1hLHRoaXMubm9kZXNfPVtdLHRoaXMucmVjb3Jkc189W10sdGhpcy51aWRfPSsrcn1mdW5jdGlvbiBqKGEsYixjKXt0aGlzLm9ic2VydmVyPWEsdGhpcy50YXJnZXQ9Yix0aGlzLm9wdGlvbnM9Yyx0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W119dmFyIGs9YS5zZXRFbmRPZk1pY3JvdGFzayxsPWEud3JhcElmTmVlZGVkLG09YS53cmFwcGVycyxuPW5ldyBXZWFrTWFwLG89W10scD0hMSxxPUFycmF5LnByb3RvdHlwZS5zbGljZSxyPTA7aS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmksb2JzZXJ2ZTpmdW5jdGlvbihhLGIpe2E9bChhKTt2YXIgYyxkPW5ldyBoKGIpLGU9bi5nZXQoYSk7ZXx8bi5zZXQoYSxlPVtdKTtmb3IodmFyIGY9MDtmPGUubGVuZ3RoO2YrKyllW2ZdLm9ic2VydmVyPT09dGhpcyYmKGM9ZVtmXSxjLnJlbW92ZVRyYW5zaWVudE9ic2VydmVycygpLGMub3B0aW9ucz1kKTtjfHwoYz1uZXcgaih0aGlzLGEsZCksZS5wdXNoKGMpLHRoaXMubm9kZXNfLnB1c2goYSkpfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy5ub2Rlc18uZm9yRWFjaChmdW5jdGlvbihhKXtmb3IodmFyIGI9bi5nZXQoYSksYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdO2lmKGQub2JzZXJ2ZXI9PT10aGlzKXtiLnNwbGljZShjLDEpO2JyZWFrfX19LHRoaXMpLHRoaXMucmVjb3Jkc189W119LHRha2VSZWNvcmRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5yZWNvcmRzXztyZXR1cm4gdGhpcy5yZWNvcmRzXz1bXSxhfX0sai5wcm90b3R5cGU9e2FkZFRyYW5zaWVudE9ic2VydmVyOmZ1bmN0aW9uKGEpe2lmKGEhPT10aGlzLnRhcmdldCl7dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzLnB1c2goYSk7dmFyIGI9bi5nZXQoYSk7Ynx8bi5zZXQoYSxiPVtdKSxiLnB1c2godGhpcyl9fSxyZW1vdmVUcmFuc2llbnRPYnNlcnZlcnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM7dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWZvcih2YXIgYz1hW2JdLGQ9bi5nZXQoYyksZT0wO2U8ZC5sZW5ndGg7ZSsrKWlmKGRbZV09PT10aGlzKXtkLnNwbGljZShlLDEpO2JyZWFrfX19LGEuZW5xdWV1ZU11dGF0aW9uPWcsYS5yZWdpc3RlclRyYW5zaWVudE9ic2VydmVycz1lLGEud3JhcHBlcnMuTXV0YXRpb25PYnNlcnZlcj1pLGEud3JhcHBlcnMuTXV0YXRpb25SZWNvcmQ9ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIpe3RoaXMucm9vdD1hLHRoaXMucGFyZW50PWJ9ZnVuY3Rpb24gYyhhLGIpe2lmKGEudHJlZVNjb3BlXyE9PWIpe2EudHJlZVNjb3BlXz1iO2Zvcih2YXIgZD1hLnNoYWRvd1Jvb3Q7ZDtkPWQub2xkZXJTaGFkb3dSb290KWQudHJlZVNjb3BlXy5wYXJlbnQ9Yjtmb3IodmFyIGU9YS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWMoZSxiKX19ZnVuY3Rpb24gZChjKXtpZihjIGluc3RhbmNlb2YgYS53cmFwcGVycy5XaW5kb3csYy50cmVlU2NvcGVfKXJldHVybiBjLnRyZWVTY29wZV87dmFyIGUsZj1jLnBhcmVudE5vZGU7cmV0dXJuIGU9Zj9kKGYpOm5ldyBiKGMsbnVsbCksYy50cmVlU2NvcGVfPWV9Yi5wcm90b3R5cGU9e2dldCByZW5kZXJlcigpe3JldHVybiB0aGlzLnJvb3QgaW5zdGFuY2VvZiBhLndyYXBwZXJzLlNoYWRvd1Jvb3Q/YS5nZXRSZW5kZXJlckZvckhvc3QodGhpcy5yb290Lmhvc3QpOm51bGx9LGNvbnRhaW5zOmZ1bmN0aW9uKGEpe2Zvcig7YTthPWEucGFyZW50KWlmKGE9PT10aGlzKXJldHVybiEwO3JldHVybiExfX0sYS5UcmVlU2NvcGU9YixhLmdldFRyZWVTY29wZT1kLGEuc2V0VHJlZVNjb3BlPWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBULlNoYWRvd1Jvb3R9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gTShhKS5yb290fWZ1bmN0aW9uIGQoYSxkKXt2YXIgaD1bXSxpPWE7Zm9yKGgucHVzaChpKTtpOyl7dmFyIGo9ZyhpKTtpZihqJiZqLmxlbmd0aD4wKXtmb3IodmFyIGs9MDtrPGoubGVuZ3RoO2srKyl7dmFyIG09altrXTtpZihmKG0pKXt2YXIgbj1jKG0pLG89bi5vbGRlclNoYWRvd1Jvb3Q7byYmaC5wdXNoKG8pfWgucHVzaChtKX1pPWpbai5sZW5ndGgtMV19ZWxzZSBpZihiKGkpKXtpZihsKGEsaSkmJmUoZCkpYnJlYWs7aT1pLmhvc3QsaC5wdXNoKGkpfWVsc2UgaT1pLnBhcmVudE5vZGUsaSYmaC5wdXNoKGkpfXJldHVybiBofWZ1bmN0aW9uIGUoYSl7aWYoIWEpcmV0dXJuITE7c3dpdGNoKGEudHlwZSl7Y2FzZSJhYm9ydCI6Y2FzZSJlcnJvciI6Y2FzZSJzZWxlY3QiOmNhc2UiY2hhbmdlIjpjYXNlImxvYWQiOmNhc2UicmVzZXQiOmNhc2UicmVzaXplIjpjYXNlInNjcm9sbCI6Y2FzZSJzZWxlY3RzdGFydCI6cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gZihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEhUTUxTaGFkb3dFbGVtZW50fWZ1bmN0aW9uIGcoYil7cmV0dXJuIGEuZ2V0RGVzdGluYXRpb25JbnNlcnRpb25Qb2ludHMoYil9ZnVuY3Rpb24gaChhLGIpe2lmKDA9PT1hLmxlbmd0aClyZXR1cm4gYjtiIGluc3RhbmNlb2YgVC5XaW5kb3cmJihiPWIuZG9jdW1lbnQpO2Zvcih2YXIgYz1NKGIpLGQ9YVswXSxlPU0oZCksZj1qKGMsZSksZz0wO2c8YS5sZW5ndGg7ZysrKXt2YXIgaD1hW2ddO2lmKE0oaCk9PT1mKXJldHVybiBofXJldHVybiBhW2EubGVuZ3RoLTFdfWZ1bmN0aW9uIGkoYSl7Zm9yKHZhciBiPVtdO2E7YT1hLnBhcmVudCliLnB1c2goYSk7cmV0dXJuIGJ9ZnVuY3Rpb24gaihhLGIpe2Zvcih2YXIgYz1pKGEpLGQ9aShiKSxlPW51bGw7Yy5sZW5ndGg+MCYmZC5sZW5ndGg+MDspe3ZhciBmPWMucG9wKCksZz1kLnBvcCgpO2lmKGYhPT1nKWJyZWFrO2U9Zn1yZXR1cm4gZX1mdW5jdGlvbiBrKGEsYixjKXtiIGluc3RhbmNlb2YgVC5XaW5kb3cmJihiPWIuZG9jdW1lbnQpO3ZhciBlLGY9TShiKSxnPU0oYyksaD1kKGMsYSksZT1qKGYsZyk7ZXx8KGU9Zy5yb290KTtmb3IodmFyIGk9ZTtpO2k9aS5wYXJlbnQpZm9yKHZhciBrPTA7azxoLmxlbmd0aDtrKyspe3ZhciBsPWhba107aWYoTShsKT09PWkpcmV0dXJuIGx9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbChhLGIpe3JldHVybiBNKGEpPT09TShiKX1mdW5jdGlvbiBtKGEpe2lmKCFWLmdldChhKSYmKFYuc2V0KGEsITApLG8oUyhhKSxTKGEudGFyZ2V0KSksSykpe3ZhciBiPUs7dGhyb3cgSz1udWxsLGJ9fWZ1bmN0aW9uIG4oYSl7c3dpdGNoKGEudHlwZSl7Y2FzZSJsb2FkIjpjYXNlImJlZm9yZXVubG9hZCI6Y2FzZSJ1bmxvYWQiOnJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIG8oYixjKXtpZihXLmdldChiKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWRTdGF0ZUVycm9yIik7Vy5zZXQoYiwhMCksYS5yZW5kZXJBbGxQZW5kaW5nKCk7dmFyIGUsZixnO2lmKG4oYikmJiFiLmJ1YmJsZXMpe3ZhciBoPWM7aCBpbnN0YW5jZW9mIFQuRG9jdW1lbnQmJihnPWguZGVmYXVsdFZpZXcpJiYoZj1oLGU9W10pfWlmKCFlKWlmKGMgaW5zdGFuY2VvZiBULldpbmRvdylnPWMsZT1bXTtlbHNlIGlmKGU9ZChjLGIpLCFuKGIpKXt2YXIgaD1lW2UubGVuZ3RoLTFdO2ggaW5zdGFuY2VvZiBULkRvY3VtZW50JiYoZz1oLmRlZmF1bHRWaWV3KX1yZXR1cm4gY2Iuc2V0KGIsZSkscChiLGUsZyxmKSYmcShiLGUsZyxmKSYmcihiLGUsZyxmKSwkLnNldChiLGRiKSxZLmRlbGV0ZShiLG51bGwpLFcuZGVsZXRlKGIpLGIuZGVmYXVsdFByZXZlbnRlZH1mdW5jdGlvbiBwKGEsYixjLGQpe3ZhciBlPWViO2lmKGMmJiFzKGMsYSxlLGIsZCkpcmV0dXJuITE7Zm9yKHZhciBmPWIubGVuZ3RoLTE7Zj4wO2YtLSlpZighcyhiW2ZdLGEsZSxiLGQpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHEoYSxiLGMsZCl7dmFyIGU9ZmIsZj1iWzBdfHxjO3JldHVybiBzKGYsYSxlLGIsZCl9ZnVuY3Rpb24gcihhLGIsYyxkKXtmb3IodmFyIGU9Z2IsZj0xO2Y8Yi5sZW5ndGg7ZisrKWlmKCFzKGJbZl0sYSxlLGIsZCkpcmV0dXJuO2MmJmIubGVuZ3RoPjAmJnMoYyxhLGUsYixkKX1mdW5jdGlvbiBzKGEsYixjLGQsZSl7dmFyIGY9VS5nZXQoYSk7aWYoIWYpcmV0dXJuITA7dmFyIGc9ZXx8aChkLGEpO2lmKGc9PT1hKXtpZihjPT09ZWIpcmV0dXJuITA7Yz09PWdiJiYoYz1mYil9ZWxzZSBpZihjPT09Z2ImJiFiLmJ1YmJsZXMpcmV0dXJuITA7aWYoInJlbGF0ZWRUYXJnZXQiaW4gYil7dmFyIGk9UihiKSxqPWkucmVsYXRlZFRhcmdldDtpZihqKXtpZihqIGluc3RhbmNlb2YgT2JqZWN0JiZqLmFkZEV2ZW50TGlzdGVuZXIpe3ZhciBsPVMoaiksbT1rKGIsYSxsKTtpZihtPT09ZylyZXR1cm4hMH1lbHNlIG09bnVsbDtaLnNldChiLG0pfX0kLnNldChiLGMpO3ZhciBuPWIudHlwZSxvPSExO1guc2V0KGIsZyksWS5zZXQoYixhKSxmLmRlcHRoKys7Zm9yKHZhciBwPTAscT1mLmxlbmd0aDtxPnA7cCsrKXt2YXIgcj1mW3BdO2lmKHIucmVtb3ZlZClvPSEwO2Vsc2UgaWYoIShyLnR5cGUhPT1ufHwhci5jYXB0dXJlJiZjPT09ZWJ8fHIuY2FwdHVyZSYmYz09PWdiKSl0cnl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHIuaGFuZGxlcj9yLmhhbmRsZXIuY2FsbChhLGIpOnIuaGFuZGxlci5oYW5kbGVFdmVudChiKSxhYi5nZXQoYikpcmV0dXJuITF9Y2F0Y2gocyl7S3x8KEs9cyl9fWlmKGYuZGVwdGgtLSxvJiYwPT09Zi5kZXB0aCl7dmFyIHQ9Zi5zbGljZSgpO2YubGVuZ3RoPTA7Zm9yKHZhciBwPTA7cDx0Lmxlbmd0aDtwKyspdFtwXS5yZW1vdmVkfHxmLnB1c2godFtwXSl9cmV0dXJuIV8uZ2V0KGIpfWZ1bmN0aW9uIHQoYSxiLGMpe3RoaXMudHlwZT1hLHRoaXMuaGFuZGxlcj1iLHRoaXMuY2FwdHVyZT1Cb29sZWFuKGMpfWZ1bmN0aW9uIHUoYSxiKXtpZighKGEgaW5zdGFuY2VvZiBoYikpcmV0dXJuIFMoeShoYiwiRXZlbnQiLGEsYikpO3ZhciBjPWE7cmV0dXJuIHNifHwiYmVmb3JldW5sb2FkIiE9PWMudHlwZXx8dGhpcyBpbnN0YW5jZW9mIHo/dm9pZCBQKGMsdGhpcyk6bmV3IHooYyl9ZnVuY3Rpb24gdihhKXtyZXR1cm4gYSYmYS5yZWxhdGVkVGFyZ2V0P09iamVjdC5jcmVhdGUoYSx7cmVsYXRlZFRhcmdldDp7dmFsdWU6UihhLnJlbGF0ZWRUYXJnZXQpfX0pOmF9ZnVuY3Rpb24gdyhhLGIsYyl7dmFyIGQ9d2luZG93W2FdLGU9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYiBpbnN0YW5jZW9mIGQ/dm9pZCBQKGIsdGhpcyk6Uyh5KGQsYSxiLGMpKX07aWYoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksYyYmTihlLnByb3RvdHlwZSxjKSxkKXRyeXtPKGQsZSxuZXcgZCgidGVtcCIpKX1jYXRjaChmKXtPKGQsZSxkb2N1bWVudC5jcmVhdGVFdmVudChhKSl9cmV0dXJuIGV9ZnVuY3Rpb24geChhLGIpe3JldHVybiBmdW5jdGlvbigpe2FyZ3VtZW50c1tiXT1SKGFyZ3VtZW50c1tiXSk7dmFyIGM9Uih0aGlzKTtjW2FdLmFwcGx5KGMsYXJndW1lbnRzKX19ZnVuY3Rpb24geShhLGIsYyxkKXtpZihxYilyZXR1cm4gbmV3IGEoYyx2KGQpKTt2YXIgZT1SKGRvY3VtZW50LmNyZWF0ZUV2ZW50KGIpKSxmPXBiW2JdLGc9W2NdO3JldHVybiBPYmplY3Qua2V5cyhmKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPW51bGwhPWQmJmEgaW4gZD9kW2FdOmZbYV07InJlbGF0ZWRUYXJnZXQiPT09YSYmKGI9UihiKSksZy5wdXNoKGIpfSksZVsiaW5pdCIrYl0uYXBwbHkoZSxnKSxlfWZ1bmN0aW9uIHooYSl7dS5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gQShhKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYT8hMDphJiZhLmhhbmRsZUV2ZW50fWZ1bmN0aW9uIEIoYSl7c3dpdGNoKGEpe2Nhc2UiRE9NQXR0ck1vZGlmaWVkIjpjYXNlIkRPTUF0dHJpYnV0ZU5hbWVDaGFuZ2VkIjpjYXNlIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCI6Y2FzZSJET01FbGVtZW50TmFtZUNoYW5nZWQiOmNhc2UiRE9NTm9kZUluc2VydGVkIjpjYXNlIkRPTU5vZGVJbnNlcnRlZEludG9Eb2N1bWVudCI6Y2FzZSJET01Ob2RlUmVtb3ZlZCI6Y2FzZSJET01Ob2RlUmVtb3ZlZEZyb21Eb2N1bWVudCI6Y2FzZSJET01TdWJ0cmVlTW9kaWZpZWQiOnJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIEMoYSl7UChhLHRoaXMpfWZ1bmN0aW9uIEQoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBULlNoYWRvd1Jvb3QmJihhPWEuaG9zdCksUihhKX1mdW5jdGlvbiBFKGEsYil7dmFyIGM9VS5nZXQoYSk7aWYoYylmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKylpZighY1tkXS5yZW1vdmVkJiZjW2RdLnR5cGU9PT1iKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIEYoYSxiKXtmb3IodmFyIGM9UihhKTtjO2M9Yy5wYXJlbnROb2RlKWlmKEUoUyhjKSxiKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBHKGEpe0woYSx1Yil9ZnVuY3Rpb24gSChiLGMsZSxmKXthLnJlbmRlckFsbFBlbmRpbmcoKTt2YXIgZz1TKHZiLmNhbGwoUShjKSxlLGYpKTtpZighZylyZXR1cm4gbnVsbDt2YXIgaT1kKGcsbnVsbCksaj1pLmxhc3RJbmRleE9mKGIpO3JldHVybi0xPT1qP251bGw6KGk9aS5zbGljZSgwLGopLGgoaSxiKSl9ZnVuY3Rpb24gSShhKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj1iYi5nZXQodGhpcyk7cmV0dXJuIGImJmJbYV0mJmJbYV0udmFsdWV8fG51bGx9fWZ1bmN0aW9uIEooYSl7dmFyIGI9YS5zbGljZSgyKTsKcmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPWJiLmdldCh0aGlzKTtkfHwoZD1PYmplY3QuY3JlYXRlKG51bGwpLGJiLnNldCh0aGlzLGQpKTt2YXIgZT1kW2FdO2lmKGUmJnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGUud3JhcHBlZCwhMSksImZ1bmN0aW9uIj09dHlwZW9mIGMpe3ZhciBmPWZ1bmN0aW9uKGIpe3ZhciBkPWMuY2FsbCh0aGlzLGIpO2Q9PT0hMT9iLnByZXZlbnREZWZhdWx0KCk6Im9uYmVmb3JldW5sb2FkIj09PWEmJiJzdHJpbmciPT10eXBlb2YgZCYmKGIucmV0dXJuVmFsdWU9ZCl9O3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihiLGYsITEpLGRbYV09e3ZhbHVlOmMsd3JhcHBlZDpmfX19fXZhciBLLEw9YS5mb3J3YXJkTWV0aG9kc1RvV3JhcHBlcixNPWEuZ2V0VHJlZVNjb3BlLE49YS5taXhpbixPPWEucmVnaXN0ZXJXcmFwcGVyLFA9YS5zZXRXcmFwcGVyLFE9YS51bnNhZmVVbndyYXAsUj1hLnVud3JhcCxTPWEud3JhcCxUPWEud3JhcHBlcnMsVT0obmV3IFdlYWtNYXAsbmV3IFdlYWtNYXApLFY9bmV3IFdlYWtNYXAsVz1uZXcgV2Vha01hcCxYPW5ldyBXZWFrTWFwLFk9bmV3IFdlYWtNYXAsWj1uZXcgV2Vha01hcCwkPW5ldyBXZWFrTWFwLF89bmV3IFdlYWtNYXAsYWI9bmV3IFdlYWtNYXAsYmI9bmV3IFdlYWtNYXAsY2I9bmV3IFdlYWtNYXAsZGI9MCxlYj0xLGZiPTIsZ2I9Mzt0LnByb3RvdHlwZT17ZXF1YWxzOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhbmRsZXI9PT1hLmhhbmRsZXImJnRoaXMudHlwZT09PWEudHlwZSYmdGhpcy5jYXB0dXJlPT09YS5jYXB0dXJlfSxnZXQgcmVtb3ZlZCgpe3JldHVybiBudWxsPT09dGhpcy5oYW5kbGVyfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXI9bnVsbH19O3ZhciBoYj13aW5kb3cuRXZlbnQ7aGIucHJvdG90eXBlLnBvbHltZXJCbGFja0xpc3RfPXtyZXR1cm5WYWx1ZTohMCxrZXlMb2NhdGlvbjohMH0sdS5wcm90b3R5cGU9e2dldCB0YXJnZXQoKXtyZXR1cm4gWC5nZXQodGhpcyl9LGdldCBjdXJyZW50VGFyZ2V0KCl7cmV0dXJuIFkuZ2V0KHRoaXMpfSxnZXQgZXZlbnRQaGFzZSgpe3JldHVybiAkLmdldCh0aGlzKX0sZ2V0IHBhdGgoKXt2YXIgYT1jYi5nZXQodGhpcyk7cmV0dXJuIGE/YS5zbGljZSgpOltdfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXtfLnNldCh0aGlzLCEwKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7Xy5zZXQodGhpcywhMCksYWIuc2V0KHRoaXMsITApfX0sTyhoYix1LGRvY3VtZW50LmNyZWF0ZUV2ZW50KCJFdmVudCIpKTt2YXIgaWI9dygiVUlFdmVudCIsdSksamI9dygiQ3VzdG9tRXZlbnQiLHUpLGtiPXtnZXQgcmVsYXRlZFRhcmdldCgpe3ZhciBhPVouZ2V0KHRoaXMpO3JldHVybiB2b2lkIDAhPT1hP2E6UyhSKHRoaXMpLnJlbGF0ZWRUYXJnZXQpfX0sbGI9Tih7aW5pdE1vdXNlRXZlbnQ6eCgiaW5pdE1vdXNlRXZlbnQiLDE0KX0sa2IpLG1iPU4oe2luaXRGb2N1c0V2ZW50OngoImluaXRGb2N1c0V2ZW50Iiw1KX0sa2IpLG5iPXcoIk1vdXNlRXZlbnQiLGliLGxiKSxvYj13KCJGb2N1c0V2ZW50IixpYixtYikscGI9T2JqZWN0LmNyZWF0ZShudWxsKSxxYj1mdW5jdGlvbigpe3RyeXtuZXcgd2luZG93LkZvY3VzRXZlbnQoImZvY3VzIil9Y2F0Y2goYSl7cmV0dXJuITF9cmV0dXJuITB9KCk7aWYoIXFiKXt2YXIgcmI9ZnVuY3Rpb24oYSxiLGMpe2lmKGMpe3ZhciBkPXBiW2NdO2I9TihOKHt9LGQpLGIpfXBiW2FdPWJ9O3JiKCJFdmVudCIse2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMX0pLHJiKCJDdXN0b21FdmVudCIse2RldGFpbDpudWxsfSwiRXZlbnQiKSxyYigiVUlFdmVudCIse3ZpZXc6bnVsbCxkZXRhaWw6MH0sIkV2ZW50IikscmIoIk1vdXNlRXZlbnQiLHtzY3JlZW5YOjAsc2NyZWVuWTowLGNsaWVudFg6MCxjbGllbnRZOjAsY3RybEtleTohMSxhbHRLZXk6ITEsc2hpZnRLZXk6ITEsbWV0YUtleTohMSxidXR0b246MCxyZWxhdGVkVGFyZ2V0Om51bGx9LCJVSUV2ZW50IikscmIoIkZvY3VzRXZlbnQiLHtyZWxhdGVkVGFyZ2V0Om51bGx9LCJVSUV2ZW50Iil9dmFyIHNiPXdpbmRvdy5CZWZvcmVVbmxvYWRFdmVudDt6LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHUucHJvdG90eXBlKSxOKHoucHJvdG90eXBlLHtnZXQgcmV0dXJuVmFsdWUoKXtyZXR1cm4gUSh0aGlzKS5yZXR1cm5WYWx1ZX0sc2V0IHJldHVyblZhbHVlKGEpe1EodGhpcykucmV0dXJuVmFsdWU9YX19KSxzYiYmTyhzYix6KTt2YXIgdGI9d2luZG93LkV2ZW50VGFyZ2V0LHViPVsiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkaXNwYXRjaEV2ZW50Il07W05vZGUsV2luZG93XS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWEucHJvdG90eXBlO3ViLmZvckVhY2goZnVuY3Rpb24oYSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIsYSsiXyIse3ZhbHVlOmJbYV19KX0pfSksQy5wcm90b3R5cGU9e2FkZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oYSxiLGMpe2lmKEEoYikmJiFCKGEpKXt2YXIgZD1uZXcgdChhLGIsYyksZT1VLmdldCh0aGlzKTtpZihlKXtmb3IodmFyIGY9MDtmPGUubGVuZ3RoO2YrKylpZihkLmVxdWFscyhlW2ZdKSlyZXR1cm59ZWxzZSBlPVtdLGUuZGVwdGg9MCxVLnNldCh0aGlzLGUpO2UucHVzaChkKTt2YXIgZz1EKHRoaXMpO2cuYWRkRXZlbnRMaXN0ZW5lcl8oYSxtLCEwKX19LHJlbW92ZUV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oYSxiLGMpe2M9Qm9vbGVhbihjKTt2YXIgZD1VLmdldCh0aGlzKTtpZihkKXtmb3IodmFyIGU9MCxmPSExLGc9MDtnPGQubGVuZ3RoO2crKylkW2ddLnR5cGU9PT1hJiZkW2ddLmNhcHR1cmU9PT1jJiYoZSsrLGRbZ10uaGFuZGxlcj09PWImJihmPSEwLGRbZ10ucmVtb3ZlKCkpKTtpZihmJiYxPT09ZSl7dmFyIGg9RCh0aGlzKTtoLnJlbW92ZUV2ZW50TGlzdGVuZXJfKGEsbSwhMCl9fX0sZGlzcGF0Y2hFdmVudDpmdW5jdGlvbihiKXt2YXIgYz1SKGIpLGQ9Yy50eXBlO1Yuc2V0KGMsITEpLGEucmVuZGVyQWxsUGVuZGluZygpO3ZhciBlO0YodGhpcyxkKXx8KGU9ZnVuY3Rpb24oKXt9LHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihkLGUsITApKTt0cnl7cmV0dXJuIFIodGhpcykuZGlzcGF0Y2hFdmVudF8oYyl9ZmluYWxseXtlJiZ0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCxlLCEwKX19fSx0YiYmTyh0YixDKTt2YXIgdmI9ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludDthLmVsZW1lbnRGcm9tUG9pbnQ9SCxhLmdldEV2ZW50SGFuZGxlckdldHRlcj1JLGEuZ2V0RXZlbnRIYW5kbGVyU2V0dGVyPUosYS53cmFwRXZlbnRUYXJnZXRNZXRob2RzPUcsYS53cmFwcGVycy5CZWZvcmVVbmxvYWRFdmVudD16LGEud3JhcHBlcnMuQ3VzdG9tRXZlbnQ9amIsYS53cmFwcGVycy5FdmVudD11LGEud3JhcHBlcnMuRXZlbnRUYXJnZXQ9QyxhLndyYXBwZXJzLkZvY3VzRXZlbnQ9b2IsYS53cmFwcGVycy5Nb3VzZUV2ZW50PW5iLGEud3JhcHBlcnMuVUlFdmVudD1pYn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGIscCl9ZnVuY3Rpb24gYyhhKXtqKGEsdGhpcyl9ZnVuY3Rpb24gZCgpe3RoaXMubGVuZ3RoPTAsYih0aGlzLCJsZW5ndGgiKX1mdW5jdGlvbiBlKGEpe2Zvcih2YXIgYj1uZXcgZCxlPTA7ZTxhLmxlbmd0aDtlKyspYltlXT1uZXcgYyhhW2VdKTtyZXR1cm4gYi5sZW5ndGg9ZSxifWZ1bmN0aW9uIGYoYSl7Zy5jYWxsKHRoaXMsYSl9dmFyIGc9YS53cmFwcGVycy5VSUV2ZW50LGg9YS5taXhpbixpPWEucmVnaXN0ZXJXcmFwcGVyLGo9YS5zZXRXcmFwcGVyLGs9YS51bnNhZmVVbndyYXAsbD1hLndyYXAsbT13aW5kb3cuVG91Y2hFdmVudDtpZihtKXt2YXIgbjt0cnl7bj1kb2N1bWVudC5jcmVhdGVFdmVudCgiVG91Y2hFdmVudCIpfWNhdGNoKG8pe3JldHVybn12YXIgcD17ZW51bWVyYWJsZTohMX07Yy5wcm90b3R5cGU9e2dldCB0YXJnZXQoKXtyZXR1cm4gbChrKHRoaXMpLnRhcmdldCl9fTt2YXIgcT17Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0Om51bGx9O1siY2xpZW50WCIsImNsaWVudFkiLCJzY3JlZW5YIiwic2NyZWVuWSIsInBhZ2VYIiwicGFnZVkiLCJpZGVudGlmaWVyIiwid2Via2l0UmFkaXVzWCIsIndlYmtpdFJhZGl1c1kiLCJ3ZWJraXRSb3RhdGlvbkFuZ2xlIiwid2Via2l0Rm9yY2UiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3EuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGsodGhpcylbYV19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjLnByb3RvdHlwZSxhLHEpfSksZC5wcm90b3R5cGU9e2l0ZW06ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXNbYV19fSxmLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGcucHJvdG90eXBlKSxoKGYucHJvdG90eXBlLHtnZXQgdG91Y2hlcygpe3JldHVybiBlKGsodGhpcykudG91Y2hlcyl9LGdldCB0YXJnZXRUb3VjaGVzKCl7cmV0dXJuIGUoayh0aGlzKS50YXJnZXRUb3VjaGVzKX0sZ2V0IGNoYW5nZWRUb3VjaGVzKCl7cmV0dXJuIGUoayh0aGlzKS5jaGFuZ2VkVG91Y2hlcyl9LGluaXRUb3VjaEV2ZW50OmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJOb3QgaW1wbGVtZW50ZWQiKX19KSxpKG0sZixuKSxhLndyYXBwZXJzLlRvdWNoPWMsYS53cmFwcGVycy5Ub3VjaEV2ZW50PWYsYS53cmFwcGVycy5Ub3VjaExpc3Q9ZH19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLGgpfWZ1bmN0aW9uIGMoKXt0aGlzLmxlbmd0aD0wLGIodGhpcywibGVuZ3RoIil9ZnVuY3Rpb24gZChhKXtpZihudWxsPT1hKXJldHVybiBhO2Zvcih2YXIgYj1uZXcgYyxkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKWJbZF09ZyhhW2RdKTtyZXR1cm4gYi5sZW5ndGg9ZSxifWZ1bmN0aW9uIGUoYSxiKXthLnByb3RvdHlwZVtiXT1mdW5jdGlvbigpe3JldHVybiBkKGYodGhpcylbYl0uYXBwbHkoZih0aGlzKSxhcmd1bWVudHMpKX19dmFyIGY9YS51bnNhZmVVbndyYXAsZz1hLndyYXAsaD17ZW51bWVyYWJsZTohMX07Yy5wcm90b3R5cGU9e2l0ZW06ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXNbYV19fSxiKGMucHJvdG90eXBlLCJpdGVtIiksYS53cmFwcGVycy5Ob2RlTGlzdD1jLGEuYWRkV3JhcE5vZGVMaXN0TWV0aG9kPWUsYS53cmFwTm9kZUxpc3Q9ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7YS53cmFwSFRNTENvbGxlY3Rpb249YS53cmFwTm9kZUxpc3QsYS53cmFwcGVycy5IVE1MQ29sbGVjdGlvbj1hLndyYXBwZXJzLk5vZGVMaXN0fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe0EoYSBpbnN0YW5jZW9mIHcpfWZ1bmN0aW9uIGMoYSl7dmFyIGI9bmV3IHk7cmV0dXJuIGJbMF09YSxiLmxlbmd0aD0xLGJ9ZnVuY3Rpb24gZChhLGIsYyl7QyhiLCJjaGlsZExpc3QiLHtyZW1vdmVkTm9kZXM6YyxwcmV2aW91c1NpYmxpbmc6YS5wcmV2aW91c1NpYmxpbmcsbmV4dFNpYmxpbmc6YS5uZXh0U2libGluZ30pfWZ1bmN0aW9uIGUoYSxiKXtDKGEsImNoaWxkTGlzdCIse3JlbW92ZWROb2RlczpifSl9ZnVuY3Rpb24gZihhLGIsZCxlKXtpZihhIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCl7dmFyIGY9aChhKTtQPSEwO2Zvcih2YXIgZz1mLmxlbmd0aC0xO2c+PTA7Zy0tKWEucmVtb3ZlQ2hpbGQoZltnXSksZltnXS5wYXJlbnROb2RlXz1iO1A9ITE7Zm9yKHZhciBnPTA7ZzxmLmxlbmd0aDtnKyspZltnXS5wcmV2aW91c1NpYmxpbmdfPWZbZy0xXXx8ZCxmW2ddLm5leHRTaWJsaW5nXz1mW2crMV18fGU7cmV0dXJuIGQmJihkLm5leHRTaWJsaW5nXz1mWzBdKSxlJiYoZS5wcmV2aW91c1NpYmxpbmdfPWZbZi5sZW5ndGgtMV0pLGZ9dmFyIGY9YyhhKSxpPWEucGFyZW50Tm9kZTtyZXR1cm4gaSYmaS5yZW1vdmVDaGlsZChhKSxhLnBhcmVudE5vZGVfPWIsYS5wcmV2aW91c1NpYmxpbmdfPWQsYS5uZXh0U2libGluZ189ZSxkJiYoZC5uZXh0U2libGluZ189YSksZSYmKGUucHJldmlvdXNTaWJsaW5nXz1hKSxmfWZ1bmN0aW9uIGcoYSl7aWYoYSBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpcmV0dXJuIGgoYSk7dmFyIGI9YyhhKSxlPWEucGFyZW50Tm9kZTtyZXR1cm4gZSYmZChhLGUsYiksYn1mdW5jdGlvbiBoKGEpe2Zvcih2YXIgYj1uZXcgeSxjPTAsZD1hLmZpcnN0Q2hpbGQ7ZDtkPWQubmV4dFNpYmxpbmcpYltjKytdPWQ7cmV0dXJuIGIubGVuZ3RoPWMsZShhLGIpLGJ9ZnVuY3Rpb24gaShhKXtyZXR1cm4gYX1mdW5jdGlvbiBqKGEsYil7SShhLGIpLGEubm9kZUlzSW5zZXJ0ZWRfKCl9ZnVuY3Rpb24gayhhLGIpe2Zvcih2YXIgYz1EKGIpLGQ9MDtkPGEubGVuZ3RoO2QrKylqKGFbZF0sYyl9ZnVuY3Rpb24gbChhKXtJKGEsbmV3IHooYSxudWxsKSl9ZnVuY3Rpb24gbShhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylsKGFbYl0pfWZ1bmN0aW9uIG4oYSxiKXt2YXIgYz1hLm5vZGVUeXBlPT09dy5ET0NVTUVOVF9OT0RFP2E6YS5vd25lckRvY3VtZW50O2MhPT1iLm93bmVyRG9jdW1lbnQmJmMuYWRvcHROb2RlKGIpfWZ1bmN0aW9uIG8oYixjKXtpZihjLmxlbmd0aCl7dmFyIGQ9Yi5vd25lckRvY3VtZW50O2lmKGQhPT1jWzBdLm93bmVyRG9jdW1lbnQpZm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspYS5hZG9wdE5vZGVOb1JlbW92ZShjW2VdLGQpfX1mdW5jdGlvbiBwKGEsYil7byhhLGIpO3ZhciBjPWIubGVuZ3RoO2lmKDE9PT1jKXJldHVybiBLKGJbMF0pO2Zvcih2YXIgZD1LKGEub3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpLGU9MDtjPmU7ZSsrKWQuYXBwZW5kQ2hpbGQoSyhiW2VdKSk7cmV0dXJuIGR9ZnVuY3Rpb24gcShhKXtpZih2b2lkIDAhPT1hLmZpcnN0Q2hpbGRfKWZvcih2YXIgYj1hLmZpcnN0Q2hpbGRfO2I7KXt2YXIgYz1iO2I9Yi5uZXh0U2libGluZ18sYy5wYXJlbnROb2RlXz1jLnByZXZpb3VzU2libGluZ189Yy5uZXh0U2libGluZ189dm9pZCAwfWEuZmlyc3RDaGlsZF89YS5sYXN0Q2hpbGRfPXZvaWQgMH1mdW5jdGlvbiByKGEpe2lmKGEuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe2Zvcih2YXIgYj1hLmZpcnN0Q2hpbGQ7Yjspe0EoYi5wYXJlbnROb2RlPT09YSk7dmFyIGM9Yi5uZXh0U2libGluZyxkPUsoYiksZT1kLnBhcmVudE5vZGU7ZSYmVy5jYWxsKGUsZCksYi5wcmV2aW91c1NpYmxpbmdfPWIubmV4dFNpYmxpbmdfPWIucGFyZW50Tm9kZV89bnVsbCxiPWN9YS5maXJzdENoaWxkXz1hLmxhc3RDaGlsZF89bnVsbH1lbHNlIGZvcih2YXIgYyxmPUsoYSksZz1mLmZpcnN0Q2hpbGQ7ZzspYz1nLm5leHRTaWJsaW5nLFcuY2FsbChmLGcpLGc9Y31mdW5jdGlvbiBzKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmYi5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKX1mdW5jdGlvbiB0KGEpe2Zvcih2YXIgYixjPTA7YzxhLmxlbmd0aDtjKyspYj1hW2NdLGIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKX1mdW5jdGlvbiB1KGEsYixjKXt2YXIgZDtpZihkPU0oYz9RLmNhbGwoYyxKKGEpLCExKTpSLmNhbGwoSihhKSwhMSkpLGIpe2Zvcih2YXIgZT1hLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpZC5hcHBlbmRDaGlsZCh1KGUsITAsYykpO2lmKGEgaW5zdGFuY2VvZiBPLkhUTUxUZW1wbGF0ZUVsZW1lbnQpZm9yKHZhciBmPWQuY29udGVudCxlPWEuY29udGVudC5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWYuYXBwZW5kQ2hpbGQodShlLCEwLGMpKX1yZXR1cm4gZH1mdW5jdGlvbiB2KGEsYil7aWYoIWJ8fEQoYSkhPT1EKGIpKXJldHVybiExO2Zvcih2YXIgYz1iO2M7Yz1jLnBhcmVudE5vZGUpaWYoYz09PWEpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gdyhhKXtBKGEgaW5zdGFuY2VvZiBTKSx4LmNhbGwodGhpcyxhKSx0aGlzLnBhcmVudE5vZGVfPXZvaWQgMCx0aGlzLmZpcnN0Q2hpbGRfPXZvaWQgMCx0aGlzLmxhc3RDaGlsZF89dm9pZCAwLHRoaXMubmV4dFNpYmxpbmdfPXZvaWQgMCx0aGlzLnByZXZpb3VzU2libGluZ189dm9pZCAwLHRoaXMudHJlZVNjb3BlXz12b2lkIDB9dmFyIHg9YS53cmFwcGVycy5FdmVudFRhcmdldCx5PWEud3JhcHBlcnMuTm9kZUxpc3Qsej1hLlRyZWVTY29wZSxBPWEuYXNzZXJ0LEI9YS5kZWZpbmVXcmFwR2V0dGVyLEM9YS5lbnF1ZXVlTXV0YXRpb24sRD1hLmdldFRyZWVTY29wZSxFPWEuaXNXcmFwcGVyLEY9YS5taXhpbixHPWEucmVnaXN0ZXJUcmFuc2llbnRPYnNlcnZlcnMsSD1hLnJlZ2lzdGVyV3JhcHBlcixJPWEuc2V0VHJlZVNjb3BlLEo9YS51bnNhZmVVbndyYXAsSz1hLnVud3JhcCxMPWEudW53cmFwSWZOZWVkZWQsTT1hLndyYXAsTj1hLndyYXBJZk5lZWRlZCxPPWEud3JhcHBlcnMsUD0hMSxRPWRvY3VtZW50LmltcG9ydE5vZGUsUj13aW5kb3cuTm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlLFM9d2luZG93Lk5vZGUsVD13aW5kb3cuRG9jdW1lbnRGcmFnbWVudCxVPShTLnByb3RvdHlwZS5hcHBlbmRDaGlsZCxTLnByb3RvdHlwZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksVj1TLnByb3RvdHlwZS5pbnNlcnRCZWZvcmUsVz1TLnByb3RvdHlwZS5yZW1vdmVDaGlsZCxYPVMucHJvdG90eXBlLnJlcGxhY2VDaGlsZCxZPS9UcmlkZW50Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLFo9WT9mdW5jdGlvbihhLGIpe3RyeXtXLmNhbGwoYSxiKX1jYXRjaChjKXtpZighKGEgaW5zdGFuY2VvZiBUKSl0aHJvdyBjfX06ZnVuY3Rpb24oYSxiKXtXLmNhbGwoYSxiKX07dy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh4LnByb3RvdHlwZSksRih3LnByb3RvdHlwZSx7YXBwZW5kQ2hpbGQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaW5zZXJ0QmVmb3JlKGEsbnVsbCl9LGluc2VydEJlZm9yZTpmdW5jdGlvbihhLGMpe2IoYSk7dmFyIGQ7Yz9FKGMpP2Q9SyhjKTooZD1jLGM9TShkKSk6KGM9bnVsbCxkPW51bGwpLGMmJkEoYy5wYXJlbnROb2RlPT09dGhpcyk7dmFyIGUsaD1jP2MucHJldmlvdXNTaWJsaW5nOnRoaXMubGFzdENoaWxkLGk9IXRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkmJiFzKGEpO2lmKGU9aT9nKGEpOmYoYSx0aGlzLGgsYyksaSluKHRoaXMsYSkscSh0aGlzKSxWLmNhbGwoSih0aGlzKSxLKGEpLGQpO2Vsc2V7aHx8KHRoaXMuZmlyc3RDaGlsZF89ZVswXSksY3x8KHRoaXMubGFzdENoaWxkXz1lW2UubGVuZ3RoLTFdLHZvaWQgMD09PXRoaXMuZmlyc3RDaGlsZF8mJih0aGlzLmZpcnN0Q2hpbGRfPXRoaXMuZmlyc3RDaGlsZCkpO3ZhciBqPWQ/ZC5wYXJlbnROb2RlOkoodGhpcyk7aj9WLmNhbGwoaixwKHRoaXMsZSksZCk6byh0aGlzLGUpfXJldHVybiBDKHRoaXMsImNoaWxkTGlzdCIse2FkZGVkTm9kZXM6ZSxuZXh0U2libGluZzpjLHByZXZpb3VzU2libGluZzpofSksayhlLHRoaXMpLGF9LHJlbW92ZUNoaWxkOmZ1bmN0aW9uKGEpe2lmKGIoYSksYS5wYXJlbnROb2RlIT09dGhpcyl7Zm9yKHZhciBkPSExLGU9KHRoaXMuY2hpbGROb2Rlcyx0aGlzLmZpcnN0Q2hpbGQpO2U7ZT1lLm5leHRTaWJsaW5nKWlmKGU9PT1hKXtkPSEwO2JyZWFrfWlmKCFkKXRocm93IG5ldyBFcnJvcigiTm90Rm91bmRFcnJvciIpfXZhciBmPUsoYSksZz1hLm5leHRTaWJsaW5nLGg9YS5wcmV2aW91c1NpYmxpbmc7aWYodGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSl7dmFyIGk9dGhpcy5maXJzdENoaWxkLGo9dGhpcy5sYXN0Q2hpbGQsaz1mLnBhcmVudE5vZGU7ayYmWihrLGYpLGk9PT1hJiYodGhpcy5maXJzdENoaWxkXz1nKSxqPT09YSYmKHRoaXMubGFzdENoaWxkXz1oKSxoJiYoaC5uZXh0U2libGluZ189ZyksZyYmKGcucHJldmlvdXNTaWJsaW5nXz1oKSxhLnByZXZpb3VzU2libGluZ189YS5uZXh0U2libGluZ189YS5wYXJlbnROb2RlXz12b2lkIDB9ZWxzZSBxKHRoaXMpLFooSih0aGlzKSxmKTtyZXR1cm4gUHx8Qyh0aGlzLCJjaGlsZExpc3QiLHtyZW1vdmVkTm9kZXM6YyhhKSxuZXh0U2libGluZzpnLHByZXZpb3VzU2libGluZzpofSksRyh0aGlzLGEpLGF9LHJlcGxhY2VDaGlsZDpmdW5jdGlvbihhLGQpe2IoYSk7dmFyIGU7aWYoRShkKT9lPUsoZCk6KGU9ZCxkPU0oZSkpLGQucGFyZW50Tm9kZSE9PXRoaXMpdGhyb3cgbmV3IEVycm9yKCJOb3RGb3VuZEVycm9yIik7dmFyIGgsaT1kLm5leHRTaWJsaW5nLGo9ZC5wcmV2aW91c1NpYmxpbmcsbT0hdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSYmIXMoYSk7cmV0dXJuIG0/aD1nKGEpOihpPT09YSYmKGk9YS5uZXh0U2libGluZyksaD1mKGEsdGhpcyxqLGkpKSxtPyhuKHRoaXMsYSkscSh0aGlzKSxYLmNhbGwoSih0aGlzKSxLKGEpLGUpKToodGhpcy5maXJzdENoaWxkPT09ZCYmKHRoaXMuZmlyc3RDaGlsZF89aFswXSksdGhpcy5sYXN0Q2hpbGQ9PT1kJiYodGhpcy5sYXN0Q2hpbGRfPWhbaC5sZW5ndGgtMV0pLGQucHJldmlvdXNTaWJsaW5nXz1kLm5leHRTaWJsaW5nXz1kLnBhcmVudE5vZGVfPXZvaWQgMCxlLnBhcmVudE5vZGUmJlguY2FsbChlLnBhcmVudE5vZGUscCh0aGlzLGgpLGUpKSxDKHRoaXMsImNoaWxkTGlzdCIse2FkZGVkTm9kZXM6aCxyZW1vdmVkTm9kZXM6YyhkKSxuZXh0U2libGluZzppLHByZXZpb3VzU2libGluZzpqfSksbChkKSxrKGgsdGhpcyksZH0sbm9kZUlzSW5zZXJ0ZWRfOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZylhLm5vZGVJc0luc2VydGVkXygpfSxoYXNDaGlsZE5vZGVzOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmZpcnN0Q2hpbGR9LGdldCBwYXJlbnROb2RlKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMucGFyZW50Tm9kZV8/dGhpcy5wYXJlbnROb2RlXzpNKEoodGhpcykucGFyZW50Tm9kZSl9LGdldCBmaXJzdENoaWxkKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuZmlyc3RDaGlsZF8/dGhpcy5maXJzdENoaWxkXzpNKEoodGhpcykuZmlyc3RDaGlsZCl9LGdldCBsYXN0Q2hpbGQoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5sYXN0Q2hpbGRfP3RoaXMubGFzdENoaWxkXzpNKEoodGhpcykubGFzdENoaWxkKX0sZ2V0IG5leHRTaWJsaW5nKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMubmV4dFNpYmxpbmdfP3RoaXMubmV4dFNpYmxpbmdfOk0oSih0aGlzKS5uZXh0U2libGluZyl9LGdldCBwcmV2aW91c1NpYmxpbmcoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5wcmV2aW91c1NpYmxpbmdfP3RoaXMucHJldmlvdXNTaWJsaW5nXzpNKEoodGhpcykucHJldmlvdXNTaWJsaW5nKX0sZ2V0IHBhcmVudEVsZW1lbnQoKXtmb3IodmFyIGE9dGhpcy5wYXJlbnROb2RlO2EmJmEubm9kZVR5cGUhPT13LkVMRU1FTlRfTk9ERTspYT1hLnBhcmVudE5vZGU7cmV0dXJuIGF9LGdldCB0ZXh0Q29udGVudCgpe2Zvcih2YXIgYT0iIixiPXRoaXMuZmlyc3RDaGlsZDtiO2I9Yi5uZXh0U2libGluZyliLm5vZGVUeXBlIT13LkNPTU1FTlRfTk9ERSYmKGErPWIudGV4dENvbnRlbnQpO3JldHVybiBhfSxzZXQgdGV4dENvbnRlbnQoYSl7dmFyIGI9aSh0aGlzLmNoaWxkTm9kZXMpO2lmKHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe2lmKHIodGhpcyksIiIhPT1hKXt2YXIgYz1KKHRoaXMpLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSk7dGhpcy5hcHBlbmRDaGlsZChjKX19ZWxzZSBxKHRoaXMpLEoodGhpcykudGV4dENvbnRlbnQ9YTt2YXIgZD1pKHRoaXMuY2hpbGROb2Rlcyk7Qyh0aGlzLCJjaGlsZExpc3QiLHthZGRlZE5vZGVzOmQscmVtb3ZlZE5vZGVzOmJ9KSxtKGIpLGsoZCx0aGlzKX0sZ2V0IGNoaWxkTm9kZXMoKXtmb3IodmFyIGE9bmV3IHksYj0wLGM9dGhpcy5maXJzdENoaWxkO2M7Yz1jLm5leHRTaWJsaW5nKWFbYisrXT1jO3JldHVybiBhLmxlbmd0aD1iLGF9LGNsb25lTm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gdSh0aGlzLGEpfSxjb250YWluczpmdW5jdGlvbihhKXtyZXR1cm4gdih0aGlzLE4oYSkpfSxjb21wYXJlRG9jdW1lbnRQb3NpdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gVS5jYWxsKEoodGhpcyksTChhKSl9LG5vcm1hbGl6ZTpmdW5jdGlvbigpe2Zvcih2YXIgYSxiLGM9aSh0aGlzLmNoaWxkTm9kZXMpLGQ9W10sZT0iIixmPTA7ZjxjLmxlbmd0aDtmKyspYj1jW2ZdLGIubm9kZVR5cGU9PT13LlRFWFRfTk9ERT9hfHxiLmRhdGEubGVuZ3RoP2E/KGUrPWIuZGF0YSxkLnB1c2goYikpOmE9Yjp0aGlzLnJlbW92ZU5vZGUoYik6KGEmJmQubGVuZ3RoJiYoYS5kYXRhKz1lLHQoZCkpLGQ9W10sZT0iIixhPW51bGwsYi5jaGlsZE5vZGVzLmxlbmd0aCYmYi5ub3JtYWxpemUoKSk7YSYmZC5sZW5ndGgmJihhLmRhdGErPWUsdChkKSl9fSksQih3LCJvd25lckRvY3VtZW50IiksSChTLHcsZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKSxkZWxldGUgdy5wcm90b3R5cGUucXVlcnlTZWxlY3RvcixkZWxldGUgdy5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbCx3LnByb3RvdHlwZT1GKE9iamVjdC5jcmVhdGUoeC5wcm90b3R5cGUpLHcucHJvdG90eXBlKSxhLmNsb25lTm9kZT11LGEubm9kZVdhc0FkZGVkPWosYS5ub2RlV2FzUmVtb3ZlZD1sLGEubm9kZXNXZXJlQWRkZWQ9ayxhLm5vZGVzV2VyZVJlbW92ZWQ9bSxhLm9yaWdpbmFsSW5zZXJ0QmVmb3JlPVYsYS5vcmlnaW5hbFJlbW92ZUNoaWxkPVcsYS5zbmFwc2hvdE5vZGVMaXN0PWksYS53cmFwcGVycy5Ob2RlPXd9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYixjLGQsZSl7Zm9yKHZhciBmPW51bGwsZz1udWxsLGg9MCxpPWIubGVuZ3RoO2k+aDtoKyspZj1zKGJbaF0pLCFlJiYoZz1xKGYpLnJvb3QpJiZnIGluc3RhbmNlb2YgYS53cmFwcGVycy5TaGFkb3dSb290fHwoZFtjKytdPWYpO3JldHVybiBjfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIFN0cmluZyhhKS5yZXBsYWNlKC9cL2RlZXBcLy9nLCIgIil9ZnVuY3Rpb24gZChhLGIpe2Zvcih2YXIgYyxlPWEuZmlyc3RFbGVtZW50Q2hpbGQ7ZTspe2lmKGUubWF0Y2hlcyhiKSlyZXR1cm4gZTtpZihjPWQoZSxiKSlyZXR1cm4gYztlPWUubmV4dEVsZW1lbnRTaWJsaW5nfXJldHVybiBudWxsfWZ1bmN0aW9uIGUoYSxiKXtyZXR1cm4gYS5tYXRjaGVzKGIpfWZ1bmN0aW9uIGYoYSxiLGMpe3ZhciBkPWEubG9jYWxOYW1lO3JldHVybiBkPT09Ynx8ZD09PWMmJmEubmFtZXNwYWNlVVJJPT09RH1mdW5jdGlvbiBnKCl7cmV0dXJuITB9ZnVuY3Rpb24gaChhLGIsYyl7cmV0dXJuIGEubG9jYWxOYW1lPT09Y31mdW5jdGlvbiBpKGEsYil7cmV0dXJuIGEubmFtZXNwYWNlVVJJPT09Yn1mdW5jdGlvbiBqKGEsYixjKXtyZXR1cm4gYS5uYW1lc3BhY2VVUkk9PT1iJiZhLmxvY2FsTmFtZT09PWN9ZnVuY3Rpb24gayhhLGIsYyxkLGUsZil7Zm9yKHZhciBnPWEuZmlyc3RFbGVtZW50Q2hpbGQ7ZzspZChnLGUsZikmJihjW2IrK109ZyksYj1rKGcsYixjLGQsZSxmKSxnPWcubmV4dEVsZW1lbnRTaWJsaW5nO3JldHVybiBifWZ1bmN0aW9uIGwoYyxkLGUsZixnKXt2YXIgaCxpPXIodGhpcyksaj1xKHRoaXMpLnJvb3Q7aWYoaiBpbnN0YW5jZW9mIGEud3JhcHBlcnMuU2hhZG93Um9vdClyZXR1cm4gayh0aGlzLGQsZSxjLGYsbnVsbCk7aWYoaSBpbnN0YW5jZW9mIEIpaD13LmNhbGwoaSxmKTtlbHNle2lmKCEoaSBpbnN0YW5jZW9mIEMpKXJldHVybiBrKHRoaXMsZCxlLGMsZixudWxsKTtoPXYuY2FsbChpLGYpfXJldHVybiBiKGgsZCxlLGcpfWZ1bmN0aW9uIG0oYyxkLGUsZixnKXt2YXIgaCxpPXIodGhpcyksaj1xKHRoaXMpLnJvb3Q7aWYoaiBpbnN0YW5jZW9mIGEud3JhcHBlcnMuU2hhZG93Um9vdClyZXR1cm4gayh0aGlzLGQsZSxjLGYsZyk7aWYoaSBpbnN0YW5jZW9mIEIpaD15LmNhbGwoaSxmLGcpO2Vsc2V7aWYoIShpIGluc3RhbmNlb2YgQykpcmV0dXJuIGsodGhpcyxkLGUsYyxmLGcpO2g9eC5jYWxsKGksZixnKX1yZXR1cm4gYihoLGQsZSwhMSl9ZnVuY3Rpb24gbihjLGQsZSxmLGcpe3ZhciBoLGk9cih0aGlzKSxqPXEodGhpcykucm9vdDtpZihqIGluc3RhbmNlb2YgYS53cmFwcGVycy5TaGFkb3dSb290KXJldHVybiBrKHRoaXMsZCxlLGMsZixnKTtpZihpIGluc3RhbmNlb2YgQiloPUEuY2FsbChpLGYsZyk7ZWxzZXtpZighKGkgaW5zdGFuY2VvZiBDKSlyZXR1cm4gayh0aGlzLGQsZSxjLGYsZyk7aD16LmNhbGwoaSxmLGcpfXJldHVybiBiKGgsZCxlLCExKX12YXIgbz1hLndyYXBwZXJzLkhUTUxDb2xsZWN0aW9uLHA9YS53cmFwcGVycy5Ob2RlTGlzdCxxPWEuZ2V0VHJlZVNjb3BlLHI9YS51bnNhZmVVbndyYXAscz1hLndyYXAsdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yLHU9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3Isdj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsLHc9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwseD1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSx5PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSx6PWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lTlMsQT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyxCPXdpbmRvdy5FbGVtZW50LEM9d2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50LEQ9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLEU9e3F1ZXJ5U2VsZWN0b3I6ZnVuY3Rpb24oYil7dmFyIGU9YyhiKSxmPWUhPT1iO2I9ZTt2YXIgZyxoPXIodGhpcyksaT1xKHRoaXMpLnJvb3Q7aWYoaSBpbnN0YW5jZW9mIGEud3JhcHBlcnMuU2hhZG93Um9vdClyZXR1cm4gZCh0aGlzLGIpO2lmKGggaW5zdGFuY2VvZiBCKWc9cyh1LmNhbGwoaCxiKSk7ZWxzZXtpZighKGggaW5zdGFuY2VvZiBDKSlyZXR1cm4gZCh0aGlzLGIpO2c9cyh0LmNhbGwoaCxiKSl9cmV0dXJuIGcmJiFmJiYoaT1xKGcpLnJvb3QpJiZpIGluc3RhbmNlb2YgYS53cmFwcGVycy5TaGFkb3dSb290P2QodGhpcyxiKTpnfSxxdWVyeVNlbGVjdG9yQWxsOmZ1bmN0aW9uKGEpe3ZhciBiPWMoYSksZD1iIT09YTthPWI7dmFyIGY9bmV3IHA7cmV0dXJuIGYubGVuZ3RoPWwuY2FsbCh0aGlzLGUsMCxmLGEsZCksZn19LEY9e2dldEVsZW1lbnRzQnlUYWdOYW1lOmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBvLGM9IioiPT09YT9nOmY7cmV0dXJuIGIubGVuZ3RoPW0uY2FsbCh0aGlzLGMsMCxiLGEsYS50b0xvd2VyQ2FzZSgpKSxifSxnZXRFbGVtZW50c0J5Q2xhc3NOYW1lOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoIi4iK2EpfSxnZXRFbGVtZW50c0J5VGFnTmFtZU5TOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IG8sZD1udWxsO3JldHVybiBkPSIqIj09PWE/IioiPT09Yj9nOmg6IioiPT09Yj9pOmosYy5sZW5ndGg9bi5jYWxsKHRoaXMsZCwwLGMsYXx8bnVsbCxiKSxjfX07YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlPUYsYS5TZWxlY3RvcnNJbnRlcmZhY2U9RX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtmb3IoO2EmJmEubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERTspYT1hLm5leHRTaWJsaW5nO3JldHVybiBhfWZ1bmN0aW9uIGMoYSl7Zm9yKDthJiZhLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWE9YS5wcmV2aW91c1NpYmxpbmc7cmV0dXJuIGF9dmFyIGQ9YS53cmFwcGVycy5Ob2RlTGlzdCxlPXtnZXQgZmlyc3RFbGVtZW50Q2hpbGQoKXtyZXR1cm4gYih0aGlzLmZpcnN0Q2hpbGQpfSxnZXQgbGFzdEVsZW1lbnRDaGlsZCgpe3JldHVybiBjKHRoaXMubGFzdENoaWxkKX0sZ2V0IGNoaWxkRWxlbWVudENvdW50KCl7Zm9yKHZhciBhPTAsYj10aGlzLmZpcnN0RWxlbWVudENoaWxkO2I7Yj1iLm5leHRFbGVtZW50U2libGluZylhKys7cmV0dXJuIGF9LGdldCBjaGlsZHJlbigpe2Zvcih2YXIgYT1uZXcgZCxiPTAsYz10aGlzLmZpcnN0RWxlbWVudENoaWxkO2M7Yz1jLm5leHRFbGVtZW50U2libGluZylhW2IrK109YztyZXR1cm4gYS5sZW5ndGg9YixhfSxyZW1vdmU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBhcmVudE5vZGU7YSYmYS5yZW1vdmVDaGlsZCh0aGlzKX19LGY9e2dldCBuZXh0RWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gYih0aGlzLm5leHRTaWJsaW5nKX0sZ2V0IHByZXZpb3VzRWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gYyh0aGlzLnByZXZpb3VzU2libGluZyl9fTthLkNoaWxkTm9kZUludGVyZmFjZT1mLGEuUGFyZW50Tm9kZUludGVyZmFjZT1lfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2QuY2FsbCh0aGlzLGEpfXZhciBjPWEuQ2hpbGROb2RlSW50ZXJmYWNlLGQ9YS53cmFwcGVycy5Ob2RlLGU9YS5lbnF1ZXVlTXV0YXRpb24sZj1hLm1peGluLGc9YS5yZWdpc3RlcldyYXBwZXIsaD1hLnVuc2FmZVVud3JhcCxpPXdpbmRvdy5DaGFyYWN0ZXJEYXRhO2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZC5wcm90b3R5cGUpLGYoYi5wcm90b3R5cGUse2dldCB0ZXh0Q29udGVudCgpe3JldHVybiB0aGlzLmRhdGF9LHNldCB0ZXh0Q29udGVudChhKXt0aGlzLmRhdGE9YX0sZ2V0IGRhdGEoKXtyZXR1cm4gaCh0aGlzKS5kYXRhfSxzZXQgZGF0YShhKXt2YXIgYj1oKHRoaXMpLmRhdGE7ZSh0aGlzLCJjaGFyYWN0ZXJEYXRhIix7b2xkVmFsdWU6Yn0pLGgodGhpcykuZGF0YT1hfX0pLGYoYi5wcm90b3R5cGUsYyksZyhpLGIsZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpKSxhLndyYXBwZXJzLkNoYXJhY3RlckRhdGE9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtyZXR1cm4gYT4+PjB9ZnVuY3Rpb24gYyhhKXtkLmNhbGwodGhpcyxhKX12YXIgZD1hLndyYXBwZXJzLkNoYXJhY3RlckRhdGEsZT0oYS5lbnF1ZXVlTXV0YXRpb24sYS5taXhpbiksZj1hLnJlZ2lzdGVyV3JhcHBlcixnPXdpbmRvdy5UZXh0O2MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZC5wcm90b3R5cGUpLGUoYy5wcm90b3R5cGUse3NwbGl0VGV4dDpmdW5jdGlvbihhKXthPWIoYSk7dmFyIGM9dGhpcy5kYXRhO2lmKGE+Yy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJJbmRleFNpemVFcnJvciIpO3ZhciBkPWMuc2xpY2UoMCxhKSxlPWMuc2xpY2UoYSk7dGhpcy5kYXRhPWQ7dmFyIGY9dGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGUpO3JldHVybiB0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZix0aGlzLm5leHRTaWJsaW5nKSxmfX0pLGYoZyxjLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKSksYS53cmFwcGVycy5UZXh0PWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYil7YS5pbnZhbGlkYXRlUmVuZGVyZXJCYXNlZE9uQXR0cmlidXRlKGIsImNsYXNzIil9ZnVuY3Rpb24gYyhhLGIpe2QoYSx0aGlzKSx0aGlzLm93bmVyRWxlbWVudF89Yn12YXIgZD1hLnNldFdyYXBwZXIsZT1hLnVuc2FmZVVud3JhcDtjLnByb3RvdHlwZT17Y29uc3RydWN0b3I6YyxnZXQgbGVuZ3RoKCl7cmV0dXJuIGUodGhpcykubGVuZ3RofSxpdGVtOmZ1bmN0aW9uKGEpe3JldHVybiBlKHRoaXMpLml0ZW0oYSl9LGNvbnRhaW5zOmZ1bmN0aW9uKGEpe3JldHVybiBlKHRoaXMpLmNvbnRhaW5zKGEpfSxhZGQ6ZnVuY3Rpb24oKXtlKHRoaXMpLmFkZC5hcHBseShlKHRoaXMpLGFyZ3VtZW50cyksYih0aGlzLm93bmVyRWxlbWVudF8pfSxyZW1vdmU6ZnVuY3Rpb24oKXtlKHRoaXMpLnJlbW92ZS5hcHBseShlKHRoaXMpLGFyZ3VtZW50cyksYih0aGlzLm93bmVyRWxlbWVudF8pfSx0b2dnbGU6ZnVuY3Rpb24oKXt2YXIgYT1lKHRoaXMpLnRvZ2dsZS5hcHBseShlKHRoaXMpLGFyZ3VtZW50cyk7cmV0dXJuIGIodGhpcy5vd25lckVsZW1lbnRfKSxhfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiBlKHRoaXMpLnRvU3RyaW5nKCl9fSxhLndyYXBwZXJzLkRPTVRva2VuTGlzdD1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGIsYyl7dmFyIGQ9Yi5wYXJlbnROb2RlO2lmKGQmJmQuc2hhZG93Um9vdCl7dmFyIGU9YS5nZXRSZW5kZXJlckZvckhvc3QoZCk7ZS5kZXBlbmRzT25BdHRyaWJ1dGUoYykmJmUuaW52YWxpZGF0ZSgpfX1mdW5jdGlvbiBjKGEsYixjKXtrKGEsImF0dHJpYnV0ZXMiLHtuYW1lOmIsbmFtZXNwYWNlOm51bGwsb2xkVmFsdWU6Y30pfWZ1bmN0aW9uIGQoYSl7Zy5jYWxsKHRoaXMsYSl9dmFyIGU9YS5DaGlsZE5vZGVJbnRlcmZhY2UsZj1hLkdldEVsZW1lbnRzQnlJbnRlcmZhY2UsZz1hLndyYXBwZXJzLk5vZGUsaD1hLndyYXBwZXJzLkRPTVRva2VuTGlzdCxpPWEuUGFyZW50Tm9kZUludGVyZmFjZSxqPWEuU2VsZWN0b3JzSW50ZXJmYWNlLGs9KGEuYWRkV3JhcE5vZGVMaXN0TWV0aG9kLGEuZW5xdWV1ZU11dGF0aW9uKSxsPWEubWl4aW4sbT0oYS5vbmVPZixhLnJlZ2lzdGVyV3JhcHBlciksbj1hLnVuc2FmZVVud3JhcCxvPWEud3JhcHBlcnMscD13aW5kb3cuRWxlbWVudCxxPVsibWF0Y2hlcyIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIl0uZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBwLnByb3RvdHlwZVthXX0pLHI9cVswXSxzPXAucHJvdG90eXBlW3JdLHQ9bmV3IFdlYWtNYXA7ZC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShnLnByb3RvdHlwZSksbChkLnByb3RvdHlwZSx7Y3JlYXRlU2hhZG93Um9vdDpmdW5jdGlvbigpe3ZhciBiPW5ldyBvLlNoYWRvd1Jvb3QodGhpcyk7bih0aGlzKS5wb2x5bWVyU2hhZG93Um9vdF89Yjt2YXIgYz1hLmdldFJlbmRlcmVyRm9ySG9zdCh0aGlzKTtyZXR1cm4gYy5pbnZhbGlkYXRlKCksYn0sZ2V0IHNoYWRvd1Jvb3QoKXtyZXR1cm4gbih0aGlzKS5wb2x5bWVyU2hhZG93Um9vdF98fG51bGx9LHNldEF0dHJpYnV0ZTpmdW5jdGlvbihhLGQpe3ZhciBlPW4odGhpcykuZ2V0QXR0cmlidXRlKGEpO24odGhpcykuc2V0QXR0cmlidXRlKGEsZCksYyh0aGlzLGEsZSksYih0aGlzLGEpfSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7dmFyIGQ9bih0aGlzKS5nZXRBdHRyaWJ1dGUoYSk7bih0aGlzKS5yZW1vdmVBdHRyaWJ1dGUoYSksYyh0aGlzLGEsZCksYih0aGlzLGEpfSxtYXRjaGVzOmZ1bmN0aW9uKGEpe3JldHVybiBzLmNhbGwobih0aGlzKSxhKX0sZ2V0IGNsYXNzTGlzdCgpe3ZhciBhPXQuZ2V0KHRoaXMpO3JldHVybiBhfHx0LnNldCh0aGlzLGE9bmV3IGgobih0aGlzKS5jbGFzc0xpc3QsdGhpcykpLGF9LGdldCBjbGFzc05hbWUoKXtyZXR1cm4gbih0aGlzKS5jbGFzc05hbWV9LHNldCBjbGFzc05hbWUoYSl7dGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIixhKX0sZ2V0IGlkKCl7cmV0dXJuIG4odGhpcykuaWR9LHNldCBpZChhKXt0aGlzLnNldEF0dHJpYnV0ZSgiaWQiLGEpfX0pLHEuZm9yRWFjaChmdW5jdGlvbihhKXsibWF0Y2hlcyIhPT1hJiYoZC5wcm90b3R5cGVbYV09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubWF0Y2hlcyhhKX0pfSkscC5wcm90b3R5cGUud2Via2l0Q3JlYXRlU2hhZG93Um9vdCYmKGQucHJvdG90eXBlLndlYmtpdENyZWF0ZVNoYWRvd1Jvb3Q9ZC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdCksbChkLnByb3RvdHlwZSxlKSxsKGQucHJvdG90eXBlLGYpLGwoZC5wcm90b3R5cGUsaSksbChkLnByb3RvdHlwZSxqKSxtKHAsZCxkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnVsbCwieCIpKSxhLmludmFsaWRhdGVSZW5kZXJlckJhc2VkT25BdHRyaWJ1dGU9YixhLm1hdGNoZXNOYW1lcz1xLGEud3JhcHBlcnMuRWxlbWVudD1kfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3N3aXRjaChhKXtjYXNlIiYiOnJldHVybiImYW1wOyI7Y2FzZSI8IjpyZXR1cm4iJmx0OyI7Y2FzZSI+IjpyZXR1cm4iJmd0OyI7Y2FzZSciJzpyZXR1cm4iJnF1b3Q7IjtjYXNlIlx4YTAiOnJldHVybiImbmJzcDsifX1mdW5jdGlvbiBjKGEpe3JldHVybiBhLnJlcGxhY2UoQSxiKX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLnJlcGxhY2UoQixiKX1mdW5jdGlvbiBlKGEpe2Zvcih2YXIgYj17fSxjPTA7YzxhLmxlbmd0aDtjKyspYlthW2NdXT0hMDtyZXR1cm4gYn1mdW5jdGlvbiBmKGEsYil7c3dpdGNoKGEubm9kZVR5cGUpe2Nhc2UgTm9kZS5FTEVNRU5UX05PREU6Zm9yKHZhciBlLGY9YS50YWdOYW1lLnRvTG93ZXJDYXNlKCksaD0iPCIrZixpPWEuYXR0cmlidXRlcyxqPTA7ZT1pW2pdO2orKyloKz0iICIrZS5uYW1lKyc9IicrYyhlLnZhbHVlKSsnIic7cmV0dXJuIGgrPSI+IixDW2ZdP2g6aCtnKGEpKyI8LyIrZisiPiI7Y2FzZSBOb2RlLlRFWFRfTk9ERTp2YXIgaz1hLmRhdGE7cmV0dXJuIGImJkRbYi5sb2NhbE5hbWVdP2s6ZChrKTtjYXNlIE5vZGUuQ09NTUVOVF9OT0RFOnJldHVybiI8IS0tIithLmRhdGErIi0tPiI7ZGVmYXVsdDp0aHJvdyBjb25zb2xlLmVycm9yKGEpLG5ldyBFcnJvcigibm90IGltcGxlbWVudGVkIil9fWZ1bmN0aW9uIGcoYSl7YSBpbnN0YW5jZW9mIHouSFRNTFRlbXBsYXRlRWxlbWVudCYmKGE9YS5jb250ZW50KTtmb3IodmFyIGI9IiIsYz1hLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpYis9ZihjLGEpO3JldHVybiBifWZ1bmN0aW9uIGgoYSxiLGMpe3ZhciBkPWN8fCJkaXYiO2EudGV4dENvbnRlbnQ9IiI7dmFyIGU9eChhLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChkKSk7ZS5pbm5lckhUTUw9Yjtmb3IodmFyIGY7Zj1lLmZpcnN0Q2hpbGQ7KWEuYXBwZW5kQ2hpbGQoeShmKSl9ZnVuY3Rpb24gaShhKXtvLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBqKGEsYil7dmFyIGM9eChhLmNsb25lTm9kZSghMSkpO2MuaW5uZXJIVE1MPWI7Zm9yKHZhciBkLGU9eChkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO2Q9Yy5maXJzdENoaWxkOyllLmFwcGVuZENoaWxkKGQpO3JldHVybiB5KGUpfWZ1bmN0aW9uIGsoYil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEucmVuZGVyQWxsUGVuZGluZygpLHcodGhpcylbYl19fWZ1bmN0aW9uIGwoYSl7cChpLGEsayhhKSl9ZnVuY3Rpb24gbShiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsYix7Z2V0OmsoYiksc2V0OmZ1bmN0aW9uKGMpe2EucmVuZGVyQWxsUGVuZGluZygpLHcodGhpcylbYl09Y30sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9KX1mdW5jdGlvbiBuKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxiLHt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBhLnJlbmRlckFsbFBlbmRpbmcoKSx3KHRoaXMpW2JdLmFwcGx5KHcodGhpcyksYXJndW1lbnRzKX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9KX12YXIgbz1hLndyYXBwZXJzLkVsZW1lbnQscD1hLmRlZmluZUdldHRlcixxPWEuZW5xdWV1ZU11dGF0aW9uLHI9YS5taXhpbixzPWEubm9kZXNXZXJlQWRkZWQsdD1hLm5vZGVzV2VyZVJlbW92ZWQsdT1hLnJlZ2lzdGVyV3JhcHBlcix2PWEuc25hcHNob3ROb2RlTGlzdCx3PWEudW5zYWZlVW53cmFwLHg9YS51bndyYXAseT1hLndyYXAsej1hLndyYXBwZXJzLEE9L1smXHUwMEEwIl0vZyxCPS9bJlx1MDBBMDw+XS9nLEM9ZShbImFyZWEiLCJiYXNlIiwiYnIiLCJjb2wiLCJjb21tYW5kIiwiZW1iZWQiLCJociIsImltZyIsImlucHV0Iiwia2V5Z2VuIiwibGluayIsIm1ldGEiLCJwYXJhbSIsInNvdXJjZSIsInRyYWNrIiwid2JyIl0pLEQ9ZShbInN0eWxlIiwic2NyaXB0IiwieG1wIiwiaWZyYW1lIiwibm9lbWJlZCIsIm5vZnJhbWVzIiwicGxhaW50ZXh0Iiwibm9zY3JpcHQiXSksRT0vTVNJRS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxGPXdpbmRvdy5IVE1MRWxlbWVudCxHPXdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50O2kucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLHIoaS5wcm90b3R5cGUse2dldCBpbm5lckhUTUwoKXtyZXR1cm4gZyh0aGlzKX0sc2V0IGlubmVySFRNTChhKXtpZihFJiZEW3RoaXMubG9jYWxOYW1lXSlyZXR1cm4gdm9pZCh0aGlzLnRleHRDb250ZW50PWEpO3ZhciBiPXYodGhpcy5jaGlsZE5vZGVzKTt0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpP3RoaXMgaW5zdGFuY2VvZiB6LkhUTUxUZW1wbGF0ZUVsZW1lbnQ/aCh0aGlzLmNvbnRlbnQsYSk6aCh0aGlzLGEsdGhpcy50YWdOYW1lKTohRyYmdGhpcyBpbnN0YW5jZW9mIHouSFRNTFRlbXBsYXRlRWxlbWVudD9oKHRoaXMuY29udGVudCxhKTp3KHRoaXMpLmlubmVySFRNTD1hO3ZhciBjPXYodGhpcy5jaGlsZE5vZGVzKTtxKHRoaXMsImNoaWxkTGlzdCIse2FkZGVkTm9kZXM6YyxyZW1vdmVkTm9kZXM6Yn0pLHQoYikscyhjLHRoaXMpfSxnZXQgb3V0ZXJIVE1MKCl7cmV0dXJuIGYodGhpcyx0aGlzLnBhcmVudE5vZGUpfSxzZXQgb3V0ZXJIVE1MKGEpe3ZhciBiPXRoaXMucGFyZW50Tm9kZTtpZihiKXtiLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpO3ZhciBjPWooYixhKTtiLnJlcGxhY2VDaGlsZChjLHRoaXMpfX0saW5zZXJ0QWRqYWNlbnRIVE1MOmZ1bmN0aW9uKGEsYil7dmFyIGMsZDtzd2l0Y2goU3RyaW5nKGEpLnRvTG93ZXJDYXNlKCkpe2Nhc2UiYmVmb3JlYmVnaW4iOmM9dGhpcy5wYXJlbnROb2RlLGQ9dGhpczticmVhaztjYXNlImFmdGVyZW5kIjpjPXRoaXMucGFyZW50Tm9kZSxkPXRoaXMubmV4dFNpYmxpbmc7YnJlYWs7Y2FzZSJhZnRlcmJlZ2luIjpjPXRoaXMsZD10aGlzLmZpcnN0Q2hpbGQ7YnJlYWs7Y2FzZSJiZWZvcmVlbmQiOmM9dGhpcyxkPW51bGw7YnJlYWs7ZGVmYXVsdDpyZXR1cm59dmFyIGU9aihjLGIpO2MuaW5zZXJ0QmVmb3JlKGUsZCl9LGdldCBoaWRkZW4oKXtyZXR1cm4gdGhpcy5oYXNBdHRyaWJ1dGUoImhpZGRlbiIpfSxzZXQgaGlkZGVuKGEpe2E/dGhpcy5zZXRBdHRyaWJ1dGUoImhpZGRlbiIsIiIpOnRoaXMucmVtb3ZlQXR0cmlidXRlKCJoaWRkZW4iKX19KSxbImNsaWVudEhlaWdodCIsImNsaWVudExlZnQiLCJjbGllbnRUb3AiLCJjbGllbnRXaWR0aCIsIm9mZnNldEhlaWdodCIsIm9mZnNldExlZnQiLCJvZmZzZXRUb3AiLCJvZmZzZXRXaWR0aCIsInNjcm9sbEhlaWdodCIsInNjcm9sbFdpZHRoIl0uZm9yRWFjaChsKSxbInNjcm9sbExlZnQiLCJzY3JvbGxUb3AiXS5mb3JFYWNoKG0pLFsiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZ2V0Q2xpZW50UmVjdHMiLCJzY3JvbGxJbnRvVmlldyJdLmZvckVhY2gobiksdShGLGksZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYiIpKSxhLndyYXBwZXJzLkhUTUxFbGVtZW50PWksYS5nZXRJbm5lckhUTUw9ZyxhLnNldElubmVySFRNTD1ofSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLnVuc2FmZVVud3JhcCxnPWEud3JhcCxoPXdpbmRvdy5IVE1MQ2FudmFzRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtnZXRDb250ZXh0OmZ1bmN0aW9uKCl7dmFyIGE9Zih0aGlzKS5nZXRDb250ZXh0LmFwcGx5KGYodGhpcyksYXJndW1lbnRzKTtyZXR1cm4gYSYmZyhhKX19KSxlKGgsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSksYS53cmFwcGVycy5IVE1MQ2FudmFzRWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj13aW5kb3cuSFRNTENvbnRlbnRFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2NvbnN0cnVjdG9yOmIsZ2V0IHNlbGVjdCgpe3JldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgic2VsZWN0Iil9LHNldCBzZWxlY3QoYSl7dGhpcy5zZXRBdHRyaWJ1dGUoInNlbGVjdCIsYSl9LHNldEF0dHJpYnV0ZTpmdW5jdGlvbihhLGIpe2MucHJvdG90eXBlLnNldEF0dHJpYnV0ZS5jYWxsKHRoaXMsYSxiKSwic2VsZWN0Ij09PVN0cmluZyhhKS50b0xvd2VyQ2FzZSgpJiZ0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcighMCl9fSksZiYmZShmLGIpLGEud3JhcHBlcnMuSFRNTENvbnRlbnRFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEud3JhcEhUTUxDb2xsZWN0aW9uLGc9YS51bndyYXAsaD13aW5kb3cuSFRNTEZvcm1FbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldCBlbGVtZW50cygpe3JldHVybiBmKGcodGhpcykuZWxlbWVudHMpfX0pLGUoaCxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImZvcm0iKSksYS53cmFwcGVycy5IVE1MRm9ybUVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtkLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBjKGEsYil7aWYoISh0aGlzIGluc3RhbmNlb2YgYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiRE9NIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uIik7dmFyIGU9Zihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKSk7ZC5jYWxsKHRoaXMsZSksZyhlLHRoaXMpLHZvaWQgMCE9PWEmJihlLndpZHRoPWEpLHZvaWQgMCE9PWImJihlLmhlaWdodD1iKX12YXIgZD1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLnVud3JhcCxnPWEucmV3cmFwLGg9d2luZG93LkhUTUxJbWFnZUVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSksZShoLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIikpLGMucHJvdG90eXBlPWIucHJvdG90eXBlLGEud3JhcHBlcnMuSFRNTEltYWdlRWxlbWVudD1iLGEud3JhcHBlcnMuSW1hZ2U9Y30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9KGEubWl4aW4sYS53cmFwcGVycy5Ob2RlTGlzdCxhLnJlZ2lzdGVyV3JhcHBlciksZT13aW5kb3cuSFRNTFNoYWRvd0VsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksYi5wcm90b3R5cGUuY29uc3RydWN0b3I9YixlJiZkKGUsYiksYS53cmFwcGVycy5IVE1MU2hhZG93RWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2lmKCFhLmRlZmF1bHRWaWV3KXJldHVybiBhO3ZhciBiPWwuZ2V0KGEpO2lmKCFiKXtmb3IoYj1hLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIik7Yi5sYXN0Q2hpbGQ7KWIucmVtb3ZlQ2hpbGQoYi5sYXN0Q2hpbGQpO2wuc2V0KGEsYil9cmV0dXJuIGJ9ZnVuY3Rpb24gYyhhKXtmb3IodmFyIGMsZD1iKGEub3duZXJEb2N1bWVudCksZT1pKGQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTtjPWEuZmlyc3RDaGlsZDspZS5hcHBlbmRDaGlsZChjKTtyZXR1cm4gZX1mdW5jdGlvbiBkKGEpe2lmKGUuY2FsbCh0aGlzLGEpLCFtKXt2YXIgYj1jKGEpO2suc2V0KHRoaXMsaihiKSl9fXZhciBlPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZj1hLm1peGluLGc9YS5yZWdpc3RlcldyYXBwZXIsaD1hLnVuc2FmZVVud3JhcCxpPWEudW53cmFwLGo9YS53cmFwLGs9bmV3IFdlYWtNYXAsbD1uZXcgV2Vha01hcCxtPXdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50O2QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZS5wcm90b3R5cGUpLGYoZC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOmQsZ2V0IGNvbnRlbnQoKXtyZXR1cm4gbT9qKGgodGhpcykuY29udGVudCk6ay5nZXQodGhpcyl9fSksbSYmZyhtLGQpLGEud3JhcHBlcnMuSFRNTFRlbXBsYXRlRWxlbWVudD1kfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLnJlZ2lzdGVyV3JhcHBlcixlPXdpbmRvdy5IVE1MTWVkaWFFbGVtZW50O2UmJihiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGUsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpKSxhLndyYXBwZXJzLkhUTUxNZWRpYUVsZW1lbnQ9Yil9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7ZC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gYyhhKXtpZighKHRoaXMgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4iKTt2YXIgYj1mKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImF1ZGlvIikpO2QuY2FsbCh0aGlzLGIpLGcoYix0aGlzKSxiLnNldEF0dHJpYnV0ZSgicHJlbG9hZCIsImF1dG8iKSx2b2lkIDAhPT1hJiZiLnNldEF0dHJpYnV0ZSgic3JjIixhKX12YXIgZD1hLndyYXBwZXJzLkhUTUxNZWRpYUVsZW1lbnQsZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW53cmFwLGc9YS5yZXdyYXAsaD13aW5kb3cuSFRNTEF1ZGlvRWxlbWVudDtoJiYoYi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSksZShoLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYXVkaW8iKSksYy5wcm90b3R5cGU9Yi5wcm90b3R5cGUsYS53cmFwcGVycy5IVE1MQXVkaW9FbGVtZW50PWIsYS53cmFwcGVycy5BdWRpbz1jKX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtyZXR1cm4gYS5yZXBsYWNlKC9ccysvZywiICIpLnRyaW0oKX1mdW5jdGlvbiBjKGEpe2UuY2FsbCh0aGlzLGEpfWZ1bmN0aW9uIGQoYSxiLGMsZil7aWYoISh0aGlzIGluc3RhbmNlb2YgZCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiRE9NIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uIik7dmFyIGc9aShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSk7ZS5jYWxsKHRoaXMsZyksaChnLHRoaXMpLHZvaWQgMCE9PWEmJihnLnRleHQ9YSksdm9pZCAwIT09YiYmZy5zZXRBdHRyaWJ1dGUoInZhbHVlIixiKSxjPT09ITAmJmcuc2V0QXR0cmlidXRlKCJzZWxlY3RlZCIsIiIpLGcuc2VsZWN0ZWQ9Zj09PSEwfXZhciBlPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZj1hLm1peGluLGc9YS5yZWdpc3RlcldyYXBwZXIsaD1hLnJld3JhcCxpPWEudW53cmFwLGo9YS53cmFwLGs9d2luZG93LkhUTUxPcHRpb25FbGVtZW50O2MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZS5wcm90b3R5cGUpLGYoYy5wcm90b3R5cGUse2dldCB0ZXh0KCl7cmV0dXJuIGIodGhpcy50ZXh0Q29udGVudCl9LHNldCB0ZXh0KGEpe3RoaXMudGV4dENvbnRlbnQ9YihTdHJpbmcoYSkpfSxnZXQgZm9ybSgpe3JldHVybiBqKGkodGhpcykuZm9ybSl9fSksZyhrLGMsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLGQucHJvdG90eXBlPWMucHJvdG90eXBlLGEud3JhcHBlcnMuSFRNTE9wdGlvbkVsZW1lbnQ9YyxhLndyYXBwZXJzLk9wdGlvbj1kfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLnVud3JhcCxnPWEud3JhcCxoPXdpbmRvdy5IVE1MU2VsZWN0RWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHthZGQ6ZnVuY3Rpb24oYSxiKXsib2JqZWN0Ij09dHlwZW9mIGImJihiPWYoYikpLGYodGhpcykuYWRkKGYoYSksYil9LHJlbW92ZTpmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT92b2lkIGMucHJvdG90eXBlLnJlbW92ZS5jYWxsKHRoaXMpOigib2JqZWN0Ij09dHlwZW9mIGEmJihhPWYoYSkpLHZvaWQgZih0aGlzKS5yZW1vdmUoYSkpfSxnZXQgZm9ybSgpe3JldHVybiBnKGYodGhpcykuZm9ybSl9fSksZShoLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2VsZWN0IikpLGEud3JhcHBlcnMuSFRNTFNlbGVjdEVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS51bndyYXAsZz1hLndyYXAsaD1hLndyYXBIVE1MQ29sbGVjdGlvbixpPXdpbmRvdy5IVE1MVGFibGVFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldCBjYXB0aW9uKCl7cmV0dXJuIGcoZih0aGlzKS5jYXB0aW9uKX0sY3JlYXRlQ2FwdGlvbjpmdW5jdGlvbigpe3JldHVybiBnKGYodGhpcykuY3JlYXRlQ2FwdGlvbigpKX0sZ2V0IHRIZWFkKCl7cmV0dXJuIGcoZih0aGlzKS50SGVhZCl9LGNyZWF0ZVRIZWFkOmZ1bmN0aW9uKCl7cmV0dXJuIGcoZih0aGlzKS5jcmVhdGVUSGVhZCgpKX0sY3JlYXRlVEZvb3Q6ZnVuY3Rpb24oKXtyZXR1cm4gZyhmKHRoaXMpLmNyZWF0ZVRGb290KCkpfSxnZXQgdEZvb3QoKXtyZXR1cm4gZyhmKHRoaXMpLnRGb290KX0sZ2V0IHRCb2RpZXMoKXtyZXR1cm4gaChmKHRoaXMpLnRCb2RpZXMpfSxjcmVhdGVUQm9keTpmdW5jdGlvbigpe3JldHVybiBnKGYodGhpcykuY3JlYXRlVEJvZHkoKSl9LGdldCByb3dzKCl7cmV0dXJuIGgoZih0aGlzKS5yb3dzKX0saW5zZXJ0Um93OmZ1bmN0aW9uKGEpe3JldHVybiBnKGYodGhpcykuaW5zZXJ0Um93KGEpKX19KSxlKGksYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpKSxhLndyYXBwZXJzLkhUTUxUYWJsZUVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS53cmFwSFRNTENvbGxlY3Rpb24sZz1hLnVud3JhcCxoPWEud3JhcCxpPXdpbmRvdy5IVE1MVGFibGVTZWN0aW9uRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtjb25zdHJ1Y3RvcjpiLGdldCByb3dzKCl7cmV0dXJuIGYoZyh0aGlzKS5yb3dzKX0saW5zZXJ0Um93OmZ1bmN0aW9uKGEpe3JldHVybiBoKGcodGhpcykuaW5zZXJ0Um93KGEpKX19KSxlKGksYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0aGVhZCIpKSxhLndyYXBwZXJzLkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEud3JhcEhUTUxDb2xsZWN0aW9uLGc9YS51bndyYXAsaD1hLndyYXAsaT13aW5kb3cuSFRNTFRhYmxlUm93RWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtnZXQgY2VsbHMoKXtyZXR1cm4gZihnKHRoaXMpLmNlbGxzKX0saW5zZXJ0Q2VsbDpmdW5jdGlvbihhKXtyZXR1cm4gaChnKHRoaXMpLmluc2VydENlbGwoYSkpfX0pLGUoaSxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIikpLGEud3JhcHBlcnMuSFRNTFRhYmxlUm93RWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3N3aXRjaChhLmxvY2FsTmFtZSl7Y2FzZSJjb250ZW50IjpyZXR1cm4gbmV3IGMoYSk7Y2FzZSJzaGFkb3ciOnJldHVybiBuZXcgZShhKTtjYXNlInRlbXBsYXRlIjpyZXR1cm4gbmV3IGYoYSl9ZC5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MQ29udGVudEVsZW1lbnQsZD1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGU9YS53cmFwcGVycy5IVE1MU2hhZG93RWxlbWVudCxmPWEud3JhcHBlcnMuSFRNTFRlbXBsYXRlRWxlbWVudCxnPShhLm1peGluLGEucmVnaXN0ZXJXcmFwcGVyKSxoPXdpbmRvdy5IVE1MVW5rbm93bkVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSksZyhoLGIpLGEud3JhcHBlcnMuSFRNTFVua25vd25FbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO3ZhciBiPWEud3JhcHBlcnMuRWxlbWVudCxjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLnJlZ2lzdGVyT2JqZWN0LGU9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIixmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhlLCJ0aXRsZSIpLGc9ZChmKSxoPU9iamVjdC5nZXRQcm90b3R5cGVPZihnLnByb3RvdHlwZSkuY29uc3RydWN0b3I7aWYoISgiY2xhc3NMaXN0ImluIGYpKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGIucHJvdG90eXBlLCJjbGFzc0xpc3QiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYy5wcm90b3R5cGUsImNsYXNzTGlzdCIsaSksZGVsZXRlIGIucHJvdG90eXBlLmNsYXNzTGlzdH1hLndyYXBwZXJzLlNWR0VsZW1lbnQ9aH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXttLmNhbGwodGhpcyxhKX12YXIgYz1hLm1peGluLGQ9YS5yZWdpc3RlcldyYXBwZXIsZT1hLnVud3JhcCxmPWEud3JhcCxnPXdpbmRvdy5TVkdVc2VFbGVtZW50LGg9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIixpPWYoZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGgsImciKSksaj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoaCwidXNlIiksaz1pLmNvbnN0cnVjdG9yLGw9T2JqZWN0LmdldFByb3RvdHlwZU9mKGsucHJvdG90eXBlKSxtPWwuY29uc3RydWN0b3I7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShsKSwiaW5zdGFuY2VSb290ImluIGomJmMoYi5wcm90b3R5cGUse2dldCBpbnN0YW5jZVJvb3QoKXtyZXR1cm4gZihlKHRoaXMpLmluc3RhbmNlUm9vdCl9LGdldCBhbmltYXRlZEluc3RhbmNlUm9vdCgpe3JldHVybiBmKGUodGhpcykuYW5pbWF0ZWRJbnN0YW5jZVJvb3QpfX0pLGQoZyxiLGopLGEud3JhcHBlcnMuU1ZHVXNlRWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuRXZlbnRUYXJnZXQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLnVuc2FmZVVud3JhcCxnPWEud3JhcCxoPXdpbmRvdy5TVkdFbGVtZW50SW5zdGFuY2U7aCYmKGIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldCBjb3JyZXNwb25kaW5nRWxlbWVudCgpe3JldHVybiBnKGYodGhpcykuY29ycmVzcG9uZGluZ0VsZW1lbnQpCn0sZ2V0IGNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KCl7cmV0dXJuIGcoZih0aGlzKS5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCl9LGdldCBwYXJlbnROb2RlKCl7cmV0dXJuIGcoZih0aGlzKS5wYXJlbnROb2RlKX0sZ2V0IGNoaWxkTm9kZXMoKXt0aHJvdyBuZXcgRXJyb3IoIk5vdCBpbXBsZW1lbnRlZCIpfSxnZXQgZmlyc3RDaGlsZCgpe3JldHVybiBnKGYodGhpcykuZmlyc3RDaGlsZCl9LGdldCBsYXN0Q2hpbGQoKXtyZXR1cm4gZyhmKHRoaXMpLmxhc3RDaGlsZCl9LGdldCBwcmV2aW91c1NpYmxpbmcoKXtyZXR1cm4gZyhmKHRoaXMpLnByZXZpb3VzU2libGluZyl9LGdldCBuZXh0U2libGluZygpe3JldHVybiBnKGYodGhpcykubmV4dFNpYmxpbmcpfX0pLGUoaCxiKSxhLndyYXBwZXJzLlNWR0VsZW1lbnRJbnN0YW5jZT1iKX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtlKGEsdGhpcyl9dmFyIGM9YS5taXhpbixkPWEucmVnaXN0ZXJXcmFwcGVyLGU9YS5zZXRXcmFwcGVyLGY9YS51bnNhZmVVbndyYXAsZz1hLnVud3JhcCxoPWEudW53cmFwSWZOZWVkZWQsaT1hLndyYXAsaj13aW5kb3cuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO2MoYi5wcm90b3R5cGUse2dldCBjYW52YXMoKXtyZXR1cm4gaShmKHRoaXMpLmNhbnZhcyl9LGRyYXdJbWFnZTpmdW5jdGlvbigpe2FyZ3VtZW50c1swXT1oKGFyZ3VtZW50c1swXSksZih0aGlzKS5kcmF3SW1hZ2UuYXBwbHkoZih0aGlzKSxhcmd1bWVudHMpfSxjcmVhdGVQYXR0ZXJuOmZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c1swXT1nKGFyZ3VtZW50c1swXSksZih0aGlzKS5jcmVhdGVQYXR0ZXJuLmFwcGx5KGYodGhpcyksYXJndW1lbnRzKX19KSxkKGosYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKS5nZXRDb250ZXh0KCIyZCIpKSxhLndyYXBwZXJzLkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2UoYSx0aGlzKX12YXIgYz1hLm1peGluLGQ9YS5yZWdpc3RlcldyYXBwZXIsZT1hLnNldFdyYXBwZXIsZj1hLnVuc2FmZVVud3JhcCxnPWEudW53cmFwSWZOZWVkZWQsaD1hLndyYXAsaT13aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0O2lmKGkpe2MoYi5wcm90b3R5cGUse2dldCBjYW52YXMoKXtyZXR1cm4gaChmKHRoaXMpLmNhbnZhcyl9LHRleEltYWdlMkQ6ZnVuY3Rpb24oKXthcmd1bWVudHNbNV09Zyhhcmd1bWVudHNbNV0pLGYodGhpcykudGV4SW1hZ2UyRC5hcHBseShmKHRoaXMpLGFyZ3VtZW50cyl9LHRleFN1YkltYWdlMkQ6ZnVuY3Rpb24oKXthcmd1bWVudHNbNl09Zyhhcmd1bWVudHNbNl0pLGYodGhpcykudGV4U3ViSW1hZ2UyRC5hcHBseShmKHRoaXMpLGFyZ3VtZW50cyl9fSk7dmFyIGo9L1dlYktpdC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KT97ZHJhd2luZ0J1ZmZlckhlaWdodDpudWxsLGRyYXdpbmdCdWZmZXJXaWR0aDpudWxsfTp7fTtkKGksYixqKSxhLndyYXBwZXJzLldlYkdMUmVuZGVyaW5nQ29udGV4dD1ifX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtkKGEsdGhpcyl9dmFyIGM9YS5yZWdpc3RlcldyYXBwZXIsZD1hLnNldFdyYXBwZXIsZT1hLnVuc2FmZVVud3JhcCxmPWEudW53cmFwLGc9YS51bndyYXBJZk5lZWRlZCxoPWEud3JhcCxpPXdpbmRvdy5SYW5nZTtiLnByb3RvdHlwZT17Z2V0IHN0YXJ0Q29udGFpbmVyKCl7cmV0dXJuIGgoZSh0aGlzKS5zdGFydENvbnRhaW5lcil9LGdldCBlbmRDb250YWluZXIoKXtyZXR1cm4gaChlKHRoaXMpLmVuZENvbnRhaW5lcil9LGdldCBjb21tb25BbmNlc3RvckNvbnRhaW5lcigpe3JldHVybiBoKGUodGhpcykuY29tbW9uQW5jZXN0b3JDb250YWluZXIpfSxzZXRTdGFydDpmdW5jdGlvbihhLGIpe2UodGhpcykuc2V0U3RhcnQoZyhhKSxiKX0sc2V0RW5kOmZ1bmN0aW9uKGEsYil7ZSh0aGlzKS5zZXRFbmQoZyhhKSxiKX0sc2V0U3RhcnRCZWZvcmU6ZnVuY3Rpb24oYSl7ZSh0aGlzKS5zZXRTdGFydEJlZm9yZShnKGEpKX0sc2V0U3RhcnRBZnRlcjpmdW5jdGlvbihhKXtlKHRoaXMpLnNldFN0YXJ0QWZ0ZXIoZyhhKSl9LHNldEVuZEJlZm9yZTpmdW5jdGlvbihhKXtlKHRoaXMpLnNldEVuZEJlZm9yZShnKGEpKX0sc2V0RW5kQWZ0ZXI6ZnVuY3Rpb24oYSl7ZSh0aGlzKS5zZXRFbmRBZnRlcihnKGEpKX0sc2VsZWN0Tm9kZTpmdW5jdGlvbihhKXtlKHRoaXMpLnNlbGVjdE5vZGUoZyhhKSl9LHNlbGVjdE5vZGVDb250ZW50czpmdW5jdGlvbihhKXtlKHRoaXMpLnNlbGVjdE5vZGVDb250ZW50cyhnKGEpKX0sY29tcGFyZUJvdW5kYXJ5UG9pbnRzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGUodGhpcykuY29tcGFyZUJvdW5kYXJ5UG9pbnRzKGEsZihiKSl9LGV4dHJhY3RDb250ZW50czpmdW5jdGlvbigpe3JldHVybiBoKGUodGhpcykuZXh0cmFjdENvbnRlbnRzKCkpfSxjbG9uZUNvbnRlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIGgoZSh0aGlzKS5jbG9uZUNvbnRlbnRzKCkpfSxpbnNlcnROb2RlOmZ1bmN0aW9uKGEpe2UodGhpcykuaW5zZXJ0Tm9kZShnKGEpKX0sc3Vycm91bmRDb250ZW50czpmdW5jdGlvbihhKXtlKHRoaXMpLnN1cnJvdW5kQ29udGVudHMoZyhhKSl9LGNsb25lUmFuZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gaChlKHRoaXMpLmNsb25lUmFuZ2UoKSl9LGlzUG9pbnRJblJhbmdlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGUodGhpcykuaXNQb2ludEluUmFuZ2UoZyhhKSxiKX0sY29tcGFyZVBvaW50OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGUodGhpcykuY29tcGFyZVBvaW50KGcoYSksYil9LGludGVyc2VjdHNOb2RlOmZ1bmN0aW9uKGEpe3JldHVybiBlKHRoaXMpLmludGVyc2VjdHNOb2RlKGcoYSkpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiBlKHRoaXMpLnRvU3RyaW5nKCl9fSxpLnByb3RvdHlwZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQmJihiLnByb3RvdHlwZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGgoZSh0aGlzKS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoYSkpfSksYyh3aW5kb3cuUmFuZ2UsYixkb2N1bWVudC5jcmVhdGVSYW5nZSgpKSxhLndyYXBwZXJzLlJhbmdlPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO3ZhciBiPWEuR2V0RWxlbWVudHNCeUludGVyZmFjZSxjPWEuUGFyZW50Tm9kZUludGVyZmFjZSxkPWEuU2VsZWN0b3JzSW50ZXJmYWNlLGU9YS5taXhpbixmPWEucmVnaXN0ZXJPYmplY3QsZz1mKGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7ZShnLnByb3RvdHlwZSxjKSxlKGcucHJvdG90eXBlLGQpLGUoZy5wcm90b3R5cGUsYik7dmFyIGg9Zihkb2N1bWVudC5jcmVhdGVDb21tZW50KCIiKSk7YS53cmFwcGVycy5Db21tZW50PWgsYS53cmFwcGVycy5Eb2N1bWVudEZyYWdtZW50PWd9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dmFyIGI9bChrKGEpLm93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTtjLmNhbGwodGhpcyxiKSxpKGIsdGhpcyk7dmFyIGU9YS5zaGFkb3dSb290O24uc2V0KHRoaXMsZSksdGhpcy50cmVlU2NvcGVfPW5ldyBkKHRoaXMsZyhlfHxhKSksbS5zZXQodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkRvY3VtZW50RnJhZ21lbnQsZD1hLlRyZWVTY29wZSxlPWEuZWxlbWVudEZyb21Qb2ludCxmPWEuZ2V0SW5uZXJIVE1MLGc9YS5nZXRUcmVlU2NvcGUsaD1hLm1peGluLGk9YS5yZXdyYXAsaj1hLnNldElubmVySFRNTCxrPWEudW5zYWZlVW53cmFwLGw9YS51bndyYXAsbT1uZXcgV2Vha01hcCxuPW5ldyBXZWFrTWFwLG89L1sgXHRcblxyXGZdLztiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxoKGIucHJvdG90eXBlLHtjb25zdHJ1Y3RvcjpiLGdldCBpbm5lckhUTUwoKXtyZXR1cm4gZih0aGlzKX0sc2V0IGlubmVySFRNTChhKXtqKHRoaXMsYSksdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKX0sZ2V0IG9sZGVyU2hhZG93Um9vdCgpe3JldHVybiBuLmdldCh0aGlzKXx8bnVsbH0sZ2V0IGhvc3QoKXtyZXR1cm4gbS5nZXQodGhpcyl8fG51bGx9LGludmFsaWRhdGVTaGFkb3dSZW5kZXJlcjpmdW5jdGlvbigpe3JldHVybiBtLmdldCh0aGlzKS5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKX0sZWxlbWVudEZyb21Qb2ludDpmdW5jdGlvbihhLGIpe3JldHVybiBlKHRoaXMsdGhpcy5vd25lckRvY3VtZW50LGEsYil9LGdldEVsZW1lbnRCeUlkOmZ1bmN0aW9uKGEpe3JldHVybiBvLnRlc3QoYSk/bnVsbDp0aGlzLnF1ZXJ5U2VsZWN0b3IoJ1tpZD0iJythKyciXScpfX0pLGEud3JhcHBlcnMuU2hhZG93Um9vdD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2EucHJldmlvdXNTaWJsaW5nXz1hLnByZXZpb3VzU2libGluZyxhLm5leHRTaWJsaW5nXz1hLm5leHRTaWJsaW5nLGEucGFyZW50Tm9kZV89YS5wYXJlbnROb2RlfWZ1bmN0aW9uIGMoYyxlLGYpe3ZhciBnPUgoYyksaD1IKGUpLGk9Zj9IKGYpOm51bGw7aWYoZChlKSxiKGUpLGYpYy5maXJzdENoaWxkPT09ZiYmKGMuZmlyc3RDaGlsZF89ZiksZi5wcmV2aW91c1NpYmxpbmdfPWYucHJldmlvdXNTaWJsaW5nO2Vsc2V7Yy5sYXN0Q2hpbGRfPWMubGFzdENoaWxkLGMubGFzdENoaWxkPT09Yy5maXJzdENoaWxkJiYoYy5maXJzdENoaWxkXz1jLmZpcnN0Q2hpbGQpO3ZhciBqPUkoZy5sYXN0Q2hpbGQpO2omJihqLm5leHRTaWJsaW5nXz1qLm5leHRTaWJsaW5nKX1hLm9yaWdpbmFsSW5zZXJ0QmVmb3JlLmNhbGwoZyxoLGkpfWZ1bmN0aW9uIGQoYyl7dmFyIGQ9SChjKSxlPWQucGFyZW50Tm9kZTtpZihlKXt2YXIgZj1JKGUpO2IoYyksYy5wcmV2aW91c1NpYmxpbmcmJihjLnByZXZpb3VzU2libGluZy5uZXh0U2libGluZ189YyksYy5uZXh0U2libGluZyYmKGMubmV4dFNpYmxpbmcucHJldmlvdXNTaWJsaW5nXz1jKSxmLmxhc3RDaGlsZD09PWMmJihmLmxhc3RDaGlsZF89YyksZi5maXJzdENoaWxkPT09YyYmKGYuZmlyc3RDaGlsZF89YyksYS5vcmlnaW5hbFJlbW92ZUNoaWxkLmNhbGwoZSxkKX19ZnVuY3Rpb24gZShhKXtKLnNldChhLFtdKX1mdW5jdGlvbiBmKGEpe3ZhciBiPUouZ2V0KGEpO3JldHVybiBifHxKLnNldChhLGI9W10pLGJ9ZnVuY3Rpb24gZyhhKXtmb3IodmFyIGI9W10sYz0wLGQ9YS5maXJzdENoaWxkO2Q7ZD1kLm5leHRTaWJsaW5nKWJbYysrXT1kO3JldHVybiBifWZ1bmN0aW9uIGgoKXtmb3IodmFyIGE9MDthPE4ubGVuZ3RoO2ErKyl7dmFyIGI9TlthXSxjPWIucGFyZW50UmVuZGVyZXI7YyYmYy5kaXJ0eXx8Yi5yZW5kZXIoKX1OPVtdfWZ1bmN0aW9uIGkoKXt5PW51bGwsaCgpfWZ1bmN0aW9uIGooYSl7dmFyIGI9TC5nZXQoYSk7cmV0dXJuIGJ8fChiPW5ldyBuKGEpLEwuc2V0KGEsYikpLGJ9ZnVuY3Rpb24gayhhKXt2YXIgYj1FKGEpLnJvb3Q7cmV0dXJuIGIgaW5zdGFuY2VvZiBEP2I6bnVsbH1mdW5jdGlvbiBsKGEpe3JldHVybiBqKGEuaG9zdCl9ZnVuY3Rpb24gbShhKXt0aGlzLnNraXA9ITEsdGhpcy5ub2RlPWEsdGhpcy5jaGlsZE5vZGVzPVtdfWZ1bmN0aW9uIG4oYSl7dGhpcy5ob3N0PWEsdGhpcy5kaXJ0eT0hMSx0aGlzLmludmFsaWRhdGVBdHRyaWJ1dGVzKCksdGhpcy5hc3NvY2lhdGVOb2RlKGEpfWZ1bmN0aW9uIG8oYSl7Zm9yKHZhciBiPVtdLGM9YS5maXJzdENoaWxkO2M7Yz1jLm5leHRTaWJsaW5nKXYoYyk/Yi5wdXNoLmFwcGx5KGIsZihjKSk6Yi5wdXNoKGMpO3JldHVybiBifWZ1bmN0aW9uIHAoYSl7aWYoYSBpbnN0YW5jZW9mIEIpcmV0dXJuIGE7aWYoYSBpbnN0YW5jZW9mIEEpcmV0dXJuIG51bGw7Zm9yKHZhciBiPWEuZmlyc3RDaGlsZDtiO2I9Yi5uZXh0U2libGluZyl7dmFyIGM9cChiKTtpZihjKXJldHVybiBjfXJldHVybiBudWxsfWZ1bmN0aW9uIHEoYSxiKXtmKGIpLnB1c2goYSk7dmFyIGM9Sy5nZXQoYSk7Yz9jLnB1c2goYik6Sy5zZXQoYSxbYl0pfWZ1bmN0aW9uIHIoYSl7cmV0dXJuIEsuZ2V0KGEpfWZ1bmN0aW9uIHMoYSl7Sy5zZXQoYSx2b2lkIDApfWZ1bmN0aW9uIHQoYSxiKXt2YXIgYz1iLmdldEF0dHJpYnV0ZSgic2VsZWN0Iik7aWYoIWMpcmV0dXJuITA7aWYoYz1jLnRyaW0oKSwhYylyZXR1cm4hMDtpZighKGEgaW5zdGFuY2VvZiB6KSlyZXR1cm4hMTtpZighUC50ZXN0KGMpKXJldHVybiExO3RyeXtyZXR1cm4gYS5tYXRjaGVzKGMpfWNhdGNoKGQpe3JldHVybiExfX1mdW5jdGlvbiB1KGEsYil7dmFyIGM9cihiKTtyZXR1cm4gYyYmY1tjLmxlbmd0aC0xXT09PWF9ZnVuY3Rpb24gdihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEF8fGEgaW5zdGFuY2VvZiBCfWZ1bmN0aW9uIHcoYSl7cmV0dXJuIGEuc2hhZG93Um9vdH1mdW5jdGlvbiB4KGEpe2Zvcih2YXIgYj1bXSxjPWEuc2hhZG93Um9vdDtjO2M9Yy5vbGRlclNoYWRvd1Jvb3QpYi5wdXNoKGMpO3JldHVybiBifXZhciB5LHo9YS53cmFwcGVycy5FbGVtZW50LEE9YS53cmFwcGVycy5IVE1MQ29udGVudEVsZW1lbnQsQj1hLndyYXBwZXJzLkhUTUxTaGFkb3dFbGVtZW50LEM9YS53cmFwcGVycy5Ob2RlLEQ9YS53cmFwcGVycy5TaGFkb3dSb290LEU9KGEuYXNzZXJ0LGEuZ2V0VHJlZVNjb3BlKSxGPShhLm1peGluLGEub25lT2YpLEc9YS51bnNhZmVVbndyYXAsSD1hLnVud3JhcCxJPWEud3JhcCxKPW5ldyBXZWFrTWFwLEs9bmV3IFdlYWtNYXAsTD1uZXcgV2Vha01hcCxNPUYod2luZG93LFsicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2V0VGltZW91dCJdKSxOPVtdLE89bmV3IEFycmF5U3BsaWNlO08uZXF1YWxzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIEgoYS5ub2RlKT09PWJ9LG0ucHJvdG90eXBlPXthcHBlbmQ6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IG0oYSk7cmV0dXJuIHRoaXMuY2hpbGROb2Rlcy5wdXNoKGIpLGJ9LHN5bmM6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuc2tpcCl7Zm9yKHZhciBiPXRoaXMubm9kZSxlPXRoaXMuY2hpbGROb2RlcyxmPWcoSChiKSksaD1hfHxuZXcgV2Vha01hcCxpPU8uY2FsY3VsYXRlU3BsaWNlcyhlLGYpLGo9MCxrPTAsbD0wLG09MDttPGkubGVuZ3RoO20rKyl7Zm9yKHZhciBuPWlbbV07bDxuLmluZGV4O2wrKylrKyssZVtqKytdLnN5bmMoaCk7Zm9yKHZhciBvPW4ucmVtb3ZlZC5sZW5ndGgscD0wO28+cDtwKyspe3ZhciBxPUkoZltrKytdKTtoLmdldChxKXx8ZChxKX1mb3IodmFyIHI9bi5hZGRlZENvdW50LHM9ZltrXSYmSShmW2tdKSxwPTA7cj5wO3ArKyl7dmFyIHQ9ZVtqKytdLHU9dC5ub2RlO2MoYix1LHMpLGguc2V0KHUsITApLHQuc3luYyhoKX1sKz1yfWZvcih2YXIgbT1sO208ZS5sZW5ndGg7bSsrKWVbbV0uc3luYyhoKX19fSxuLnByb3RvdHlwZT17cmVuZGVyOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZGlydHkpe3RoaXMuaW52YWxpZGF0ZUF0dHJpYnV0ZXMoKTt2YXIgYj10aGlzLmhvc3Q7dGhpcy5kaXN0cmlidXRpb24oYik7dmFyIGM9YXx8bmV3IG0oYik7dGhpcy5idWlsZFJlbmRlclRyZWUoYyxiKTt2YXIgZD0hYTtkJiZjLnN5bmMoKSx0aGlzLmRpcnR5PSExfX0sZ2V0IHBhcmVudFJlbmRlcmVyKCl7cmV0dXJuIEUodGhpcy5ob3N0KS5yZW5kZXJlcn0saW52YWxpZGF0ZTpmdW5jdGlvbigpe2lmKCF0aGlzLmRpcnR5KXt0aGlzLmRpcnR5PSEwO3ZhciBhPXRoaXMucGFyZW50UmVuZGVyZXI7aWYoYSYmYS5pbnZhbGlkYXRlKCksTi5wdXNoKHRoaXMpLHkpcmV0dXJuO3k9d2luZG93W01dKGksMCl9fSxkaXN0cmlidXRpb246ZnVuY3Rpb24oYSl7dGhpcy5yZXNldEFsbFN1YnRyZWVzKGEpLHRoaXMuZGlzdHJpYnV0aW9uUmVzb2x1dGlvbihhKX0scmVzZXRBbGw6ZnVuY3Rpb24oYSl7dihhKT9lKGEpOnMoYSksdGhpcy5yZXNldEFsbFN1YnRyZWVzKGEpfSxyZXNldEFsbFN1YnRyZWVzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmZpcnN0Q2hpbGQ7YjtiPWIubmV4dFNpYmxpbmcpdGhpcy5yZXNldEFsbChiKTthLnNoYWRvd1Jvb3QmJnRoaXMucmVzZXRBbGwoYS5zaGFkb3dSb290KSxhLm9sZGVyU2hhZG93Um9vdCYmdGhpcy5yZXNldEFsbChhLm9sZGVyU2hhZG93Um9vdCl9LGRpc3RyaWJ1dGlvblJlc29sdXRpb246ZnVuY3Rpb24oYSl7aWYodyhhKSl7Zm9yKHZhciBiPWEsYz1vKGIpLGQ9eChiKSxlPTA7ZTxkLmxlbmd0aDtlKyspdGhpcy5wb29sRGlzdHJpYnV0aW9uKGRbZV0sYyk7Zm9yKHZhciBlPWQubGVuZ3RoLTE7ZT49MDtlLS0pe3ZhciBmPWRbZV0sZz1wKGYpO2lmKGcpe3ZhciBoPWYub2xkZXJTaGFkb3dSb290O2gmJihjPW8oaCkpO2Zvcih2YXIgaT0wO2k8Yy5sZW5ndGg7aSsrKXEoY1tpXSxnKX10aGlzLmRpc3RyaWJ1dGlvblJlc29sdXRpb24oZil9fWZvcih2YXIgaj1hLmZpcnN0Q2hpbGQ7ajtqPWoubmV4dFNpYmxpbmcpdGhpcy5kaXN0cmlidXRpb25SZXNvbHV0aW9uKGopfSxwb29sRGlzdHJpYnV0aW9uOmZ1bmN0aW9uKGEsYil7aWYoIShhIGluc3RhbmNlb2YgQikpaWYoYSBpbnN0YW5jZW9mIEEpe3ZhciBjPWE7dGhpcy51cGRhdGVEZXBlbmRlbnRBdHRyaWJ1dGVzKGMuZ2V0QXR0cmlidXRlKCJzZWxlY3QiKSk7Zm9yKHZhciBkPSExLGU9MDtlPGIubGVuZ3RoO2UrKyl7dmFyIGE9YltlXTthJiZ0KGEsYykmJihxKGEsYyksYltlXT12b2lkIDAsZD0hMCl9aWYoIWQpZm9yKHZhciBmPWMuZmlyc3RDaGlsZDtmO2Y9Zi5uZXh0U2libGluZylxKGYsYyl9ZWxzZSBmb3IodmFyIGY9YS5maXJzdENoaWxkO2Y7Zj1mLm5leHRTaWJsaW5nKXRoaXMucG9vbERpc3RyaWJ1dGlvbihmLGIpfSxidWlsZFJlbmRlclRyZWU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5jb21wb3NlKGIpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXSxmPWEuYXBwZW5kKGUpO3RoaXMuYnVpbGRSZW5kZXJUcmVlKGYsZSl9aWYodyhiKSl7dmFyIGc9aihiKTtnLmRpcnR5PSExfX0sY29tcG9zZTpmdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz1hLnNoYWRvd1Jvb3R8fGEsZD1jLmZpcnN0Q2hpbGQ7ZDtkPWQubmV4dFNpYmxpbmcpaWYodihkKSl7dGhpcy5hc3NvY2lhdGVOb2RlKGMpO2Zvcih2YXIgZT1mKGQpLGc9MDtnPGUubGVuZ3RoO2crKyl7dmFyIGg9ZVtnXTt1KGQsaCkmJmIucHVzaChoKX19ZWxzZSBiLnB1c2goZCk7cmV0dXJuIGJ9LGludmFsaWRhdGVBdHRyaWJ1dGVzOmZ1bmN0aW9uKCl7dGhpcy5hdHRyaWJ1dGVzPU9iamVjdC5jcmVhdGUobnVsbCl9LHVwZGF0ZURlcGVuZGVudEF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI9dGhpcy5hdHRyaWJ1dGVzOy9cLlx3Ky8udGVzdChhKSYmKGJbImNsYXNzIl09ITApLC8jXHcrLy50ZXN0KGEpJiYoYi5pZD0hMCksYS5yZXBsYWNlKC9cW1xzKihbXlxzPVx8flxdXSspL2csZnVuY3Rpb24oYSxjKXtiW2NdPSEwfSl9fSxkZXBlbmRzT25BdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc1thXX0sYXNzb2NpYXRlTm9kZTpmdW5jdGlvbihhKXtHKGEpLnBvbHltZXJTaGFkb3dSZW5kZXJlcl89dGhpc319O3ZhciBQPS9eKDpub3RcKCk/WyouI1thLXpBLVpffF0vO0MucHJvdG90eXBlLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcj1mdW5jdGlvbigpe3ZhciBhPUcodGhpcykucG9seW1lclNoYWRvd1JlbmRlcmVyXztyZXR1cm4gYT8oYS5pbnZhbGlkYXRlKCksITApOiExfSxBLnByb3RvdHlwZS5nZXREaXN0cmlidXRlZE5vZGVzPUIucHJvdG90eXBlLmdldERpc3RyaWJ1dGVkTm9kZXM9ZnVuY3Rpb24oKXtyZXR1cm4gaCgpLGYodGhpcyl9LHoucHJvdG90eXBlLmdldERlc3RpbmF0aW9uSW5zZXJ0aW9uUG9pbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIGgoKSxyKHRoaXMpfHxbXX0sQS5wcm90b3R5cGUubm9kZUlzSW5zZXJ0ZWRfPUIucHJvdG90eXBlLm5vZGVJc0luc2VydGVkXz1mdW5jdGlvbigpe3RoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCk7dmFyIGEsYj1rKHRoaXMpO2ImJihhPWwoYikpLEcodGhpcykucG9seW1lclNoYWRvd1JlbmRlcmVyXz1hLGEmJmEuaW52YWxpZGF0ZSgpfSxhLmdldFJlbmRlcmVyRm9ySG9zdD1qLGEuZ2V0U2hhZG93VHJlZXM9eCxhLnJlbmRlckFsbFBlbmRpbmc9aCxhLmdldERlc3RpbmF0aW9uSW5zZXJ0aW9uUG9pbnRzPXIsYS52aXN1YWw9e2luc2VydEJlZm9yZTpjLHJlbW92ZTpkfX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihiKXtpZih3aW5kb3dbYl0pe2QoIWEud3JhcHBlcnNbYl0pO3ZhciBpPWZ1bmN0aW9uKGEpe2MuY2FsbCh0aGlzLGEpfTtpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxlKGkucHJvdG90eXBlLHtnZXQgZm9ybSgpe3JldHVybiBoKGcodGhpcykuZm9ybSl9fSksZih3aW5kb3dbYl0saSxkb2N1bWVudC5jcmVhdGVFbGVtZW50KGIuc2xpY2UoNCwtNykpKSxhLndyYXBwZXJzW2JdPWl9fXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLmFzc2VydCxlPWEubWl4aW4sZj1hLnJlZ2lzdGVyV3JhcHBlcixnPWEudW53cmFwLGg9YS53cmFwLGk9WyJIVE1MQnV0dG9uRWxlbWVudCIsIkhUTUxGaWVsZFNldEVsZW1lbnQiLCJIVE1MSW5wdXRFbGVtZW50IiwiSFRNTEtleWdlbkVsZW1lbnQiLCJIVE1MTGFiZWxFbGVtZW50IiwiSFRNTExlZ2VuZEVsZW1lbnQiLCJIVE1MT2JqZWN0RWxlbWVudCIsIkhUTUxPdXRwdXRFbGVtZW50IiwiSFRNTFRleHRBcmVhRWxlbWVudCJdO2kuZm9yRWFjaChiKX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtkKGEsdGhpcyl9e3ZhciBjPWEucmVnaXN0ZXJXcmFwcGVyLGQ9YS5zZXRXcmFwcGVyLGU9YS51bnNhZmVVbndyYXAsZj1hLnVud3JhcCxnPWEudW53cmFwSWZOZWVkZWQsaD1hLndyYXA7d2luZG93LlNlbGVjdGlvbn1iLnByb3RvdHlwZT17Z2V0IGFuY2hvck5vZGUoKXtyZXR1cm4gaChlKHRoaXMpLmFuY2hvck5vZGUpfSxnZXQgZm9jdXNOb2RlKCl7cmV0dXJuIGgoZSh0aGlzKS5mb2N1c05vZGUpfSxhZGRSYW5nZTpmdW5jdGlvbihhKXtlKHRoaXMpLmFkZFJhbmdlKGYoYSkpfSxjb2xsYXBzZTpmdW5jdGlvbihhLGIpe2UodGhpcykuY29sbGFwc2UoZyhhKSxiKX0sY29udGFpbnNOb2RlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGUodGhpcykuY29udGFpbnNOb2RlKGcoYSksYil9LGV4dGVuZDpmdW5jdGlvbihhLGIpe2UodGhpcykuZXh0ZW5kKGcoYSksYil9LGdldFJhbmdlQXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGgoZSh0aGlzKS5nZXRSYW5nZUF0KGEpKX0scmVtb3ZlUmFuZ2U6ZnVuY3Rpb24oYSl7ZSh0aGlzKS5yZW1vdmVSYW5nZShmKGEpKX0sc2VsZWN0QWxsQ2hpbGRyZW46ZnVuY3Rpb24oYSl7ZSh0aGlzKS5zZWxlY3RBbGxDaGlsZHJlbihnKGEpKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzKS50b1N0cmluZygpfX0sYyh3aW5kb3cuU2VsZWN0aW9uLGIsd2luZG93LmdldFNlbGVjdGlvbigpKSxhLndyYXBwZXJzLlNlbGVjdGlvbj1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2suY2FsbCh0aGlzLGEpLHRoaXMudHJlZVNjb3BlXz1uZXcgcCh0aGlzLG51bGwpfWZ1bmN0aW9uIGMoYSl7dmFyIGM9ZG9jdW1lbnRbYV07Yi5wcm90b3R5cGVbYV09ZnVuY3Rpb24oKXtyZXR1cm4gQyhjLmFwcGx5KEEodGhpcyksYXJndW1lbnRzKSl9fWZ1bmN0aW9uIGQoYSxiKXtGLmNhbGwoQShiKSxCKGEpKSxlKGEsYil9ZnVuY3Rpb24gZShhLGIpe2Euc2hhZG93Um9vdCYmYi5hZG9wdE5vZGUoYS5zaGFkb3dSb290KSxhIGluc3RhbmNlb2YgbyYmZihhLGIpO2Zvcih2YXIgYz1hLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpZShjLGIpfWZ1bmN0aW9uIGYoYSxiKXt2YXIgYz1hLm9sZGVyU2hhZG93Um9vdDtjJiZiLmFkb3B0Tm9kZShjKX1mdW5jdGlvbiBnKGEpe3ooYSx0aGlzKX1mdW5jdGlvbiBoKGEsYil7dmFyIGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb25bYl07YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXtyZXR1cm4gQyhjLmFwcGx5KEEodGhpcyksYXJndW1lbnRzKSl9fWZ1bmN0aW9uIGkoYSxiKXt2YXIgYz1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbltiXTthLnByb3RvdHlwZVtiXT1mdW5jdGlvbigpe3JldHVybiBjLmFwcGx5KEEodGhpcyksYXJndW1lbnRzKX19dmFyIGo9YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLGs9YS53cmFwcGVycy5Ob2RlLGw9YS5QYXJlbnROb2RlSW50ZXJmYWNlLG09YS53cmFwcGVycy5TZWxlY3Rpb24sbj1hLlNlbGVjdG9yc0ludGVyZmFjZSxvPWEud3JhcHBlcnMuU2hhZG93Um9vdCxwPWEuVHJlZVNjb3BlLHE9YS5jbG9uZU5vZGUscj1hLmRlZmluZVdyYXBHZXR0ZXIscz1hLmVsZW1lbnRGcm9tUG9pbnQsdD1hLmZvcndhcmRNZXRob2RzVG9XcmFwcGVyLHU9YS5tYXRjaGVzTmFtZXMsdj1hLm1peGluLHc9YS5yZWdpc3RlcldyYXBwZXIseD1hLnJlbmRlckFsbFBlbmRpbmcseT1hLnJld3JhcCx6PWEuc2V0V3JhcHBlcixBPWEudW5zYWZlVW53cmFwLEI9YS51bndyYXAsQz1hLndyYXAsRD1hLndyYXBFdmVudFRhcmdldE1ldGhvZHMsRT0oYS53cmFwTm9kZUxpc3QsbmV3IFdlYWtNYXApO2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoay5wcm90b3R5cGUpLHIoYiwiZG9jdW1lbnRFbGVtZW50IikscihiLCJib2R5IikscihiLCJoZWFkIiksWyJjcmVhdGVDb21tZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJjcmVhdGVFdmVudCIsImNyZWF0ZUV2ZW50TlMiLCJjcmVhdGVSYW5nZSIsImNyZWF0ZVRleHROb2RlIiwiZ2V0RWxlbWVudEJ5SWQiXS5mb3JFYWNoKGMpO3ZhciBGPWRvY3VtZW50LmFkb3B0Tm9kZSxHPWRvY3VtZW50LmdldFNlbGVjdGlvbjtpZih2KGIucHJvdG90eXBlLHthZG9wdE5vZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpLGQoYSx0aGlzKSxhfSxlbGVtZW50RnJvbVBvaW50OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHModGhpcyx0aGlzLGEsYil9LGltcG9ydE5vZGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcShhLGIsQSh0aGlzKSl9LGdldFNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB4KCksbmV3IG0oRy5jYWxsKEIodGhpcykpKX0sZ2V0RWxlbWVudHNCeU5hbWU6ZnVuY3Rpb24oYSl7cmV0dXJuIG4ucXVlcnlTZWxlY3RvckFsbC5jYWxsKHRoaXMsIltuYW1lPSIrSlNPTi5zdHJpbmdpZnkoU3RyaW5nKGEpKSsiXSIpfX0pLGRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCl7dmFyIEg9ZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50O2IucHJvdG90eXBlLnJlZ2lzdGVyRWxlbWVudD1mdW5jdGlvbihiLGMpe2Z1bmN0aW9uIGQoYSl7cmV0dXJuIGE/dm9pZCB6KGEsdGhpcyk6Zj9kb2N1bWVudC5jcmVhdGVFbGVtZW50KGYsYik6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChiKX12YXIgZSxmO2lmKHZvaWQgMCE9PWMmJihlPWMucHJvdG90eXBlLGY9Yy5leHRlbmRzKSxlfHwoZT1PYmplY3QuY3JlYXRlKEhUTUxFbGVtZW50LnByb3RvdHlwZSkpLGEubmF0aXZlUHJvdG90eXBlVGFibGUuZ2V0KGUpKXRocm93IG5ldyBFcnJvcigiTm90U3VwcG9ydGVkRXJyb3IiKTtmb3IodmFyIGcsaD1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSksaT1bXTtoJiYhKGc9YS5uYXRpdmVQcm90b3R5cGVUYWJsZS5nZXQoaCkpOylpLnB1c2goaCksaD1PYmplY3QuZ2V0UHJvdG90eXBlT2YoaCk7aWYoIWcpdGhyb3cgbmV3IEVycm9yKCJOb3RTdXBwb3J0ZWRFcnJvciIpO2Zvcih2YXIgaj1PYmplY3QuY3JlYXRlKGcpLGs9aS5sZW5ndGgtMTtrPj0wO2stLSlqPU9iamVjdC5jcmVhdGUoaik7WyJjcmVhdGVkQ2FsbGJhY2siLCJhdHRhY2hlZENhbGxiYWNrIiwiZGV0YWNoZWRDYWxsYmFjayIsImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayJdLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9ZVthXTtiJiYoalthXT1mdW5jdGlvbigpe0ModGhpcylpbnN0YW5jZW9mIGR8fHkodGhpcyksYi5hcHBseShDKHRoaXMpLGFyZ3VtZW50cyl9KX0pO3ZhciBsPXtwcm90b3R5cGU6an07ZiYmKGwuZXh0ZW5kcz1mKSxkLnByb3RvdHlwZT1lLGQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWQsYS5jb25zdHJ1Y3RvclRhYmxlLnNldChqLGQpLGEubmF0aXZlUHJvdG90eXBlVGFibGUuc2V0KGUsaik7SC5jYWxsKEIodGhpcyksYixsKTtyZXR1cm4gZH0sdChbd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50XSxbInJlZ2lzdGVyRWxlbWVudCJdKX10KFt3aW5kb3cuSFRNTEJvZHlFbGVtZW50LHdpbmRvdy5IVE1MRG9jdW1lbnR8fHdpbmRvdy5Eb2N1bWVudCx3aW5kb3cuSFRNTEhlYWRFbGVtZW50LHdpbmRvdy5IVE1MSHRtbEVsZW1lbnRdLFsiYXBwZW5kQ2hpbGQiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsImNvbnRhaW5zIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyIsImluc2VydEJlZm9yZSIsInF1ZXJ5U2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yQWxsIiwicmVtb3ZlQ2hpbGQiLCJyZXBsYWNlQ2hpbGQiXS5jb25jYXQodSkpLHQoW3dpbmRvdy5IVE1MRG9jdW1lbnR8fHdpbmRvdy5Eb2N1bWVudF0sWyJhZG9wdE5vZGUiLCJpbXBvcnROb2RlIiwiY29udGFpbnMiLCJjcmVhdGVDb21tZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJjcmVhdGVFdmVudCIsImNyZWF0ZUV2ZW50TlMiLCJjcmVhdGVSYW5nZSIsImNyZWF0ZVRleHROb2RlIiwiZWxlbWVudEZyb21Qb2ludCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0RWxlbWVudHNCeU5hbWUiLCJnZXRTZWxlY3Rpb24iXSksdihiLnByb3RvdHlwZSxqKSx2KGIucHJvdG90eXBlLGwpLHYoYi5wcm90b3R5cGUsbiksdihiLnByb3RvdHlwZSx7Z2V0IGltcGxlbWVudGF0aW9uKCl7dmFyIGE9RS5nZXQodGhpcyk7cmV0dXJuIGE/YTooYT1uZXcgZyhCKHRoaXMpLmltcGxlbWVudGF0aW9uKSxFLnNldCh0aGlzLGEpLGEpfSxnZXQgZGVmYXVsdFZpZXcoKXtyZXR1cm4gQyhCKHRoaXMpLmRlZmF1bHRWaWV3KX19KSx3KHdpbmRvdy5Eb2N1bWVudCxiLGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikpLHdpbmRvdy5IVE1MRG9jdW1lbnQmJncod2luZG93LkhUTUxEb2N1bWVudCxiKSxEKFt3aW5kb3cuSFRNTEJvZHlFbGVtZW50LHdpbmRvdy5IVE1MRG9jdW1lbnR8fHdpbmRvdy5Eb2N1bWVudCx3aW5kb3cuSFRNTEhlYWRFbGVtZW50XSksaChnLCJjcmVhdGVEb2N1bWVudFR5cGUiKSxoKGcsImNyZWF0ZURvY3VtZW50IiksaChnLCJjcmVhdGVIVE1MRG9jdW1lbnQiKSxpKGcsImhhc0ZlYXR1cmUiKSx3KHdpbmRvdy5ET01JbXBsZW1lbnRhdGlvbixnKSx0KFt3aW5kb3cuRE9NSW1wbGVtZW50YXRpb25dLFsiY3JlYXRlRG9jdW1lbnRUeXBlIiwiY3JlYXRlRG9jdW1lbnQiLCJjcmVhdGVIVE1MRG9jdW1lbnQiLCJoYXNGZWF0dXJlIl0pLGEuYWRvcHROb2RlTm9SZW1vdmU9ZCxhLndyYXBwZXJzLkRPTUltcGxlbWVudGF0aW9uPWcsYS53cmFwcGVycy5Eb2N1bWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuRXZlbnRUYXJnZXQsZD1hLndyYXBwZXJzLlNlbGVjdGlvbixlPWEubWl4aW4sZj1hLnJlZ2lzdGVyV3JhcHBlcixnPWEucmVuZGVyQWxsUGVuZGluZyxoPWEudW53cmFwLGk9YS51bndyYXBJZk5lZWRlZCxqPWEud3JhcCxrPXdpbmRvdy5XaW5kb3csbD13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSxtPXdpbmRvdy5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZSxuPXdpbmRvdy5nZXRTZWxlY3Rpb247Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksay5wcm90b3R5cGUuZ2V0Q29tcHV0ZWRTdHlsZT1mdW5jdGlvbihhLGIpe3JldHVybiBqKHRoaXN8fHdpbmRvdykuZ2V0Q29tcHV0ZWRTdHlsZShpKGEpLGIpfSxtJiYoay5wcm90b3R5cGUuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gaih0aGlzfHx3aW5kb3cpLmdldERlZmF1bHRDb21wdXRlZFN0eWxlKGkoYSksYil9KSxrLnByb3RvdHlwZS5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gaih0aGlzfHx3aW5kb3cpLmdldFNlbGVjdGlvbigpfSxkZWxldGUgd2luZG93LmdldENvbXB1dGVkU3R5bGUsZGVsZXRlIHdpbmRvdy5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZSxkZWxldGUgd2luZG93LmdldFNlbGVjdGlvbixbImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzcGF0Y2hFdmVudCJdLmZvckVhY2goZnVuY3Rpb24oYSl7ay5wcm90b3R5cGVbYV09ZnVuY3Rpb24oKXt2YXIgYj1qKHRoaXN8fHdpbmRvdyk7cmV0dXJuIGJbYV0uYXBwbHkoYixhcmd1bWVudHMpfSxkZWxldGUgd2luZG93W2FdfSksZShiLnByb3RvdHlwZSx7Z2V0Q29tcHV0ZWRTdHlsZTpmdW5jdGlvbihhLGIpe3JldHVybiBnKCksbC5jYWxsKGgodGhpcyksaShhKSxiKX0sZ2V0U2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGcoKSxuZXcgZChuLmNhbGwoaCh0aGlzKSkpfSxnZXQgZG9jdW1lbnQoKXtyZXR1cm4gaihoKHRoaXMpLmRvY3VtZW50KX19KSxtJiYoYi5wcm90b3R5cGUuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZygpLG0uY2FsbChoKHRoaXMpLGkoYSksYil9KSxmKGssYix3aW5kb3cpLGEud3JhcHBlcnMuV2luZG93PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO3ZhciBiPWEudW53cmFwLGM9d2luZG93LkRhdGFUcmFuc2Zlcnx8d2luZG93LkNsaXBib2FyZCxkPWMucHJvdG90eXBlLnNldERyYWdJbWFnZTtkJiYoYy5wcm90b3R5cGUuc2V0RHJhZ0ltYWdlPWZ1bmN0aW9uKGEsYyxlKXtkLmNhbGwodGhpcyxiKGEpLGMsZSl9KX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt2YXIgYjtiPWEgaW5zdGFuY2VvZiBmP2E6bmV3IGYoYSYmZShhKSksZChiLHRoaXMpfXZhciBjPWEucmVnaXN0ZXJXcmFwcGVyLGQ9YS5zZXRXcmFwcGVyLGU9YS51bndyYXAsZj13aW5kb3cuRm9ybURhdGE7ZiYmKGMoZixiLG5ldyBmKSxhLndyYXBwZXJzLkZvcm1EYXRhPWIpfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgYj1hLnVud3JhcElmTmVlZGVkLGM9WE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNlbmQ7WE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGMuY2FsbCh0aGlzLGIoYSkpfX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt2YXIgYj1jW2FdLGQ9d2luZG93W2JdO2lmKGQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYSksZj1lLmNvbnN0cnVjdG9yO3dpbmRvd1tiXT1mfX12YXIgYz0oYS5pc1dyYXBwZXJGb3Ise2E6IkhUTUxBbmNob3JFbGVtZW50IixhcmVhOiJIVE1MQXJlYUVsZW1lbnQiLGF1ZGlvOiJIVE1MQXVkaW9FbGVtZW50IixiYXNlOiJIVE1MQmFzZUVsZW1lbnQiLGJvZHk6IkhUTUxCb2R5RWxlbWVudCIsYnI6IkhUTUxCUkVsZW1lbnQiLGJ1dHRvbjoiSFRNTEJ1dHRvbkVsZW1lbnQiLGNhbnZhczoiSFRNTENhbnZhc0VsZW1lbnQiLGNhcHRpb246IkhUTUxUYWJsZUNhcHRpb25FbGVtZW50Iixjb2w6IkhUTUxUYWJsZUNvbEVsZW1lbnQiLGNvbnRlbnQ6IkhUTUxDb250ZW50RWxlbWVudCIsZGF0YToiSFRNTERhdGFFbGVtZW50IixkYXRhbGlzdDoiSFRNTERhdGFMaXN0RWxlbWVudCIsZGVsOiJIVE1MTW9kRWxlbWVudCIsZGlyOiJIVE1MRGlyZWN0b3J5RWxlbWVudCIsZGl2OiJIVE1MRGl2RWxlbWVudCIsZGw6IkhUTUxETGlzdEVsZW1lbnQiLGVtYmVkOiJIVE1MRW1iZWRFbGVtZW50IixmaWVsZHNldDoiSFRNTEZpZWxkU2V0RWxlbWVudCIsZm9udDoiSFRNTEZvbnRFbGVtZW50Iixmb3JtOiJIVE1MRm9ybUVsZW1lbnQiLGZyYW1lOiJIVE1MRnJhbWVFbGVtZW50IixmcmFtZXNldDoiSFRNTEZyYW1lU2V0RWxlbWVudCIsaDE6IkhUTUxIZWFkaW5nRWxlbWVudCIsaGVhZDoiSFRNTEhlYWRFbGVtZW50IixocjoiSFRNTEhSRWxlbWVudCIsaHRtbDoiSFRNTEh0bWxFbGVtZW50IixpZnJhbWU6IkhUTUxJRnJhbWVFbGVtZW50IixpbWc6IkhUTUxJbWFnZUVsZW1lbnQiLGlucHV0OiJIVE1MSW5wdXRFbGVtZW50IixrZXlnZW46IkhUTUxLZXlnZW5FbGVtZW50IixsYWJlbDoiSFRNTExhYmVsRWxlbWVudCIsbGVnZW5kOiJIVE1MTGVnZW5kRWxlbWVudCIsbGk6IkhUTUxMSUVsZW1lbnQiLGxpbms6IkhUTUxMaW5rRWxlbWVudCIsbWFwOiJIVE1MTWFwRWxlbWVudCIsbWFycXVlZToiSFRNTE1hcnF1ZWVFbGVtZW50IixtZW51OiJIVE1MTWVudUVsZW1lbnQiLG1lbnVpdGVtOiJIVE1MTWVudUl0ZW1FbGVtZW50IixtZXRhOiJIVE1MTWV0YUVsZW1lbnQiLG1ldGVyOiJIVE1MTWV0ZXJFbGVtZW50IixvYmplY3Q6IkhUTUxPYmplY3RFbGVtZW50IixvbDoiSFRNTE9MaXN0RWxlbWVudCIsb3B0Z3JvdXA6IkhUTUxPcHRHcm91cEVsZW1lbnQiLG9wdGlvbjoiSFRNTE9wdGlvbkVsZW1lbnQiLG91dHB1dDoiSFRNTE91dHB1dEVsZW1lbnQiLHA6IkhUTUxQYXJhZ3JhcGhFbGVtZW50IixwYXJhbToiSFRNTFBhcmFtRWxlbWVudCIscHJlOiJIVE1MUHJlRWxlbWVudCIscHJvZ3Jlc3M6IkhUTUxQcm9ncmVzc0VsZW1lbnQiLHE6IkhUTUxRdW90ZUVsZW1lbnQiLHNjcmlwdDoiSFRNTFNjcmlwdEVsZW1lbnQiLHNlbGVjdDoiSFRNTFNlbGVjdEVsZW1lbnQiLHNoYWRvdzoiSFRNTFNoYWRvd0VsZW1lbnQiLHNvdXJjZToiSFRNTFNvdXJjZUVsZW1lbnQiLHNwYW46IkhUTUxTcGFuRWxlbWVudCIsc3R5bGU6IkhUTUxTdHlsZUVsZW1lbnQiLHRhYmxlOiJIVE1MVGFibGVFbGVtZW50Iix0Ym9keToiSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQiLHRlbXBsYXRlOiJIVE1MVGVtcGxhdGVFbGVtZW50Iix0ZXh0YXJlYToiSFRNTFRleHRBcmVhRWxlbWVudCIsdGhlYWQ6IkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50Iix0aW1lOiJIVE1MVGltZUVsZW1lbnQiLHRpdGxlOiJIVE1MVGl0bGVFbGVtZW50Iix0cjoiSFRNTFRhYmxlUm93RWxlbWVudCIsdHJhY2s6IkhUTUxUcmFja0VsZW1lbnQiLHVsOiJIVE1MVUxpc3RFbGVtZW50Iix2aWRlbzoiSFRNTFZpZGVvRWxlbWVudCJ9KTtPYmplY3Qua2V5cyhjKS5mb3JFYWNoKGIpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGEud3JhcHBlcnMpLmZvckVhY2goZnVuY3Rpb24oYil7d2luZG93W2JdPWEud3JhcHBlcnNbYl19KX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYyl7dmFyIGQsZSxmLGcsaD1hLmZpcnN0RWxlbWVudENoaWxkO2ZvcihlPVtdLGY9YS5zaGFkb3dSb290O2Y7KWUucHVzaChmKSxmPWYub2xkZXJTaGFkb3dSb290O2ZvcihnPWUubGVuZ3RoLTE7Zz49MDtnLS0paWYoZD1lW2ddLnF1ZXJ5U2VsZWN0b3IoYykpcmV0dXJuIGQ7Zm9yKDtoOyl7aWYoZD1iKGgsYykpcmV0dXJuIGQ7aD1oLm5leHRFbGVtZW50U2libGluZ31yZXR1cm4gbnVsbH1mdW5jdGlvbiBjKGEsYixkKXt2YXIgZSxmLGcsaCxpLGo9YS5maXJzdEVsZW1lbnRDaGlsZDtmb3IoZz1bXSxmPWEuc2hhZG93Um9vdDtmOylnLnB1c2goZiksZj1mLm9sZGVyU2hhZG93Um9vdDtmb3IoaD1nLmxlbmd0aC0xO2g+PTA7aC0tKWZvcihlPWdbaF0ucXVlcnlTZWxlY3RvckFsbChiKSxpPTA7aTxlLmxlbmd0aDtpKyspZC5wdXNoKGVbaV0pO2Zvcig7ajspYyhqLGIsZCksaj1qLm5leHRFbGVtZW50U2libGluZztyZXR1cm4gZH13aW5kb3cud3JhcD1TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQsd2luZG93LnVud3JhcD1TaGFkb3dET01Qb2x5ZmlsbC51bndyYXBJZk5lZWRlZCxPYmplY3QuZGVmaW5lUHJvcGVydHkoRWxlbWVudC5wcm90b3R5cGUsIndlYmtpdFNoYWRvd1Jvb3QiLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRWxlbWVudC5wcm90b3R5cGUsInNoYWRvd1Jvb3QiKSk7dmFyIGQ9RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdDtFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290PWZ1bmN0aW9uKCl7dmFyIGE9ZC5jYWxsKHRoaXMpO3JldHVybiBDdXN0b21FbGVtZW50cy53YXRjaFNoYWRvdyh0aGlzKSxhfSxFbGVtZW50LnByb3RvdHlwZS53ZWJraXRDcmVhdGVTaGFkb3dSb290PUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3QsYS5xdWVyeUFsbFNoYWRvd3M9ZnVuY3Rpb24oYSxkLGUpe3JldHVybiBlP2MoYSxkLFtdKTpiKGEsZCl9fSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiKXt2YXIgYz0iIjtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2MrPWEudGV4dENvbnRlbnQrIlxuXG4ifSksYnx8KGM9Yy5yZXBsYWNlKGwsIiIpKSxjfWZ1bmN0aW9uIGMoYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyZXR1cm4gYi50ZXh0Q29udGVudD1hLGJ9ZnVuY3Rpb24gZChhKXt2YXIgYj1jKGEpO2RvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYik7dmFyIGQ9W107aWYoYi5zaGVldCl0cnl7ZD1iLnNoZWV0LmNzc1J1bGVzfWNhdGNoKGUpe31lbHNlIGNvbnNvbGUud2Fybigic2hlZXQgbm90IGZvdW5kIixiKTtyZXR1cm4gYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGR9ZnVuY3Rpb24gZSgpe3YuaW5pdGlhbGl6ZWQ9ITAsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh2KTt2YXIgYT12LmNvbnRlbnREb2N1bWVudCxiPWEuY3JlYXRlRWxlbWVudCgiYmFzZSIpO2IuaHJlZj1kb2N1bWVudC5iYXNlVVJJLGEuaGVhZC5hcHBlbmRDaGlsZChiKX1mdW5jdGlvbiBmKGEpe3YuaW5pdGlhbGl6ZWR8fGUoKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHYpLGEodi5jb250ZW50RG9jdW1lbnQpLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodil9ZnVuY3Rpb24gZyhhLGIpe2lmKGIpe3ZhciBlO2lmKGEubWF0Y2goIkBpbXBvcnQiKSYmeCl7dmFyIGc9YyhhKTtmKGZ1bmN0aW9uKGEpe2EuaGVhZC5hcHBlbmRDaGlsZChnLmltcGwpLGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZy5zaGVldC5jc3NSdWxlcywwKSxiKGUpfSl9ZWxzZSBlPWQoYSksYihlKX19ZnVuY3Rpb24gaChhKXthJiZqKCkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSkpfWZ1bmN0aW9uIGkoYSxiKXt2YXIgZD1jKGEpO2Quc2V0QXR0cmlidXRlKGIsIiIpLGQuc2V0QXR0cmlidXRlKHosIiIpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZCl9ZnVuY3Rpb24gaigpe3JldHVybiB3fHwodz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLHcuc2V0QXR0cmlidXRlKHosIiIpLHdbel09ITApLHd9dmFyIGs9e3N0cmljdFN0eWxpbmc6ITEscmVnaXN0cnk6e30sc2hpbVN0eWxpbmc6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPXRoaXMucHJlcGFyZVJvb3QoYSxjLGQpLGY9dGhpcy5pc1R5cGVFeHRlbnNpb24oZCksZz10aGlzLm1ha2VTY29wZVNlbGVjdG9yKGMsZiksaD1iKGUsITApO2g9dGhpcy5zY29wZUNzc1RleHQoaCxnKSxhJiYoYS5zaGltbWVkU3R5bGU9aCksdGhpcy5hZGRDc3NUb0RvY3VtZW50KGgsYyl9LHNoaW1TdHlsZTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnNoaW1Dc3NUZXh0KGEudGV4dENvbnRlbnQsYil9LHNoaW1Dc3NUZXh0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9dGhpcy5pbnNlcnREaXJlY3RpdmVzKGEpLHRoaXMuc2NvcGVDc3NUZXh0KGEsYil9LG1ha2VTY29wZVNlbGVjdG9yOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE/Yj8iW2lzPSIrYSsiXSI6YToiIn0saXNUeXBlRXh0ZW5zaW9uOmZ1bmN0aW9uKGEpe3JldHVybiBhJiZhLmluZGV4T2YoIi0iKTwwfSxwcmVwYXJlUm9vdDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5yZWdpc3RlclJvb3QoYSxiLGMpO3JldHVybiB0aGlzLnJlcGxhY2VUZXh0SW5TdHlsZXMoZC5yb290U3R5bGVzLHRoaXMuaW5zZXJ0RGlyZWN0aXZlcyksdGhpcy5yZW1vdmVTdHlsZXMoYSxkLnJvb3RTdHlsZXMpLHRoaXMuc3RyaWN0U3R5bGluZyYmdGhpcy5hcHBseVNjb3BlVG9Db250ZW50KGEsYiksZC5zY29wZVN0eWxlc30scmVtb3ZlU3R5bGVzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9MCxlPWIubGVuZ3RoO2U+ZCYmKGM9YltkXSk7ZCsrKWMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKX0scmVnaXN0ZXJSb290OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLnJlZ2lzdHJ5W2JdPXtyb290OmEsbmFtZTpiLGV4dGVuZHNOYW1lOmN9LGU9dGhpcy5maW5kU3R5bGVzKGEpO2Qucm9vdFN0eWxlcz1lLGQuc2NvcGVTdHlsZXM9ZC5yb290U3R5bGVzO3ZhciBmPXRoaXMucmVnaXN0cnlbZC5leHRlbmRzTmFtZV07cmV0dXJuIGYmJihkLnNjb3BlU3R5bGVzPWYuc2NvcGVTdHlsZXMuY29uY2F0KGQuc2NvcGVTdHlsZXMpKSxkfSxmaW5kU3R5bGVzOmZ1bmN0aW9uKGEpe2lmKCFhKXJldHVybltdO3ZhciBiPWEucXVlcnlTZWxlY3RvckFsbCgic3R5bGUiKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGIsZnVuY3Rpb24oYSl7cmV0dXJuIWEuaGFzQXR0cmlidXRlKEEpfSl9LGFwcGx5U2NvcGVUb0NvbnRlbnQ6ZnVuY3Rpb24oYSxiKXthJiYoQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLnF1ZXJ5U2VsZWN0b3JBbGwoIioiKSxmdW5jdGlvbihhKXthLnNldEF0dHJpYnV0ZShiLCIiKX0pLEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYS5xdWVyeVNlbGVjdG9yQWxsKCJ0ZW1wbGF0ZSIpLGZ1bmN0aW9uKGEpe3RoaXMuYXBwbHlTY29wZVRvQ29udGVudChhLmNvbnRlbnQsYil9LHRoaXMpKX0saW5zZXJ0RGlyZWN0aXZlczpmdW5jdGlvbihhKXtyZXR1cm4gYT10aGlzLmluc2VydFBvbHlmaWxsRGlyZWN0aXZlc0luQ3NzVGV4dChhKSx0aGlzLmluc2VydFBvbHlmaWxsUnVsZXNJbkNzc1RleHQoYSl9LGluc2VydFBvbHlmaWxsRGlyZWN0aXZlc0luQ3NzVGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYT1hLnJlcGxhY2UobSxmdW5jdGlvbihhLGIpe3JldHVybiBiLnNsaWNlKDAsLTIpKyJ7In0pLGEucmVwbGFjZShuLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIrIiB7In0pfSxpbnNlcnRQb2x5ZmlsbFJ1bGVzSW5Dc3NUZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhPWEucmVwbGFjZShvLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIuc2xpY2UoMCwtMSl9KSxhLnJlcGxhY2UocCxmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hLnJlcGxhY2UoYiwiIikucmVwbGFjZShjLCIiKTtyZXR1cm4gZCtlfSl9LHNjb3BlQ3NzVGV4dDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZXh0cmFjdFVuc2NvcGVkUnVsZXNGcm9tQ3NzVGV4dChhKTtpZihhPXRoaXMuaW5zZXJ0UG9seWZpbGxIb3N0SW5Dc3NUZXh0KGEpLGE9dGhpcy5jb252ZXJ0Q29sb25Ib3N0KGEpLGE9dGhpcy5jb252ZXJ0Q29sb25Ib3N0Q29udGV4dChhKSxhPXRoaXMuY29udmVydFNoYWRvd0RPTVNlbGVjdG9ycyhhKSxiKXt2YXIgYSxkPXRoaXM7ZyhhLGZ1bmN0aW9uKGMpe2E9ZC5zY29wZVJ1bGVzKGMsYil9KX1yZXR1cm4gYT1hKyJcbiIrYyxhLnRyaW0oKX0sZXh0cmFjdFVuc2NvcGVkUnVsZXNGcm9tQ3NzVGV4dDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYz0iIjtiPXEuZXhlYyhhKTspYys9YlsxXS5zbGljZSgwLC0xKSsiXG5cbiI7Zm9yKDtiPXIuZXhlYyhhKTspYys9YlswXS5yZXBsYWNlKGJbMl0sIiIpLnJlcGxhY2UoYlsxXSxiWzNdKSsiXG5cbiI7cmV0dXJuIGN9LGNvbnZlcnRDb2xvbkhvc3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY29udmVydENvbG9uUnVsZShhLGNzc0NvbG9uSG9zdFJlLHRoaXMuY29sb25Ib3N0UGFydFJlcGxhY2VyKX0sY29udmVydENvbG9uSG9zdENvbnRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY29udmVydENvbG9uUnVsZShhLGNzc0NvbG9uSG9zdENvbnRleHRSZSx0aGlzLmNvbG9uSG9zdENvbnRleHRQYXJ0UmVwbGFjZXIpfSxjb252ZXJ0Q29sb25SdWxlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYS5yZXBsYWNlKGIsZnVuY3Rpb24oYSxiLGQsZSl7aWYoYj1wb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3IsZCl7Zm9yKHZhciBmLGc9ZC5zcGxpdCgiLCIpLGg9W10saT0wLGo9Zy5sZW5ndGg7aj5pJiYoZj1nW2ldKTtpKyspZj1mLnRyaW0oKSxoLnB1c2goYyhiLGYsZSkpO3JldHVybiBoLmpvaW4oIiwiKX1yZXR1cm4gYitlfSl9LGNvbG9uSG9zdENvbnRleHRQYXJ0UmVwbGFjZXI6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiLm1hdGNoKHMpP3RoaXMuY29sb25Ib3N0UGFydFJlcGxhY2VyKGEsYixjKTphK2IrYysiLCAiK2IrIiAiK2ErY30sY29sb25Ib3N0UGFydFJlcGxhY2VyOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYStiLnJlcGxhY2UocywiIikrY30sY29udmVydFNoYWRvd0RPTVNlbGVjdG9yczpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPHNoYWRvd0RPTVNlbGVjdG9yc1JlLmxlbmd0aDtiKyspYT1hLnJlcGxhY2Uoc2hhZG93RE9NU2VsZWN0b3JzUmVbYl0sIiAiKTtyZXR1cm4gYX0sc2NvcGVSdWxlczpmdW5jdGlvbihhLGIpe3ZhciBjPSIiO3JldHVybiBhJiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsZnVuY3Rpb24oYSl7aWYoYS5zZWxlY3RvclRleHQmJmEuc3R5bGUmJnZvaWQgMCE9PWEuc3R5bGUuY3NzVGV4dCljKz10aGlzLnNjb3BlU2VsZWN0b3IoYS5zZWxlY3RvclRleHQsYix0aGlzLnN0cmljdFN0eWxpbmcpKyIge1xuCSIsYys9dGhpcy5wcm9wZXJ0aWVzRnJvbVJ1bGUoYSkrIlxufVxuXG4iO2Vsc2UgaWYoYS50eXBlPT09Q1NTUnVsZS5NRURJQV9SVUxFKWMrPSJAbWVkaWEgIithLm1lZGlhLm1lZGlhVGV4dCsiIHtcbiIsYys9dGhpcy5zY29wZVJ1bGVzKGEuY3NzUnVsZXMsYiksYys9IlxufVxuXG4iO2Vsc2UgdHJ5e2EuY3NzVGV4dCYmKGMrPWEuY3NzVGV4dCsiXG5cbiIpfWNhdGNoKGQpe2EudHlwZT09PUNTU1J1bGUuS0VZRlJBTUVTX1JVTEUmJmEuY3NzUnVsZXMmJihjKz10aGlzLmllU2FmZUNzc1RleHRGcm9tS2V5RnJhbWVSdWxlKGEpKX19LHRoaXMpLGN9LGllU2FmZUNzc1RleHRGcm9tS2V5RnJhbWVSdWxlOmZ1bmN0aW9uKGEpe3ZhciBiPSJAa2V5ZnJhbWVzICIrYS5uYW1lKyIgeyI7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYS5jc3NSdWxlcyxmdW5jdGlvbihhKXtiKz0iICIrYS5rZXlUZXh0KyIgeyIrYS5zdHlsZS5jc3NUZXh0KyJ9In0pLGIrPSIgfSJ9LHNjb3BlU2VsZWN0b3I6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdLGU9YS5zcGxpdCgiLCIpO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oYSl7YT1hLnRyaW0oKSx0aGlzLnNlbGVjdG9yTmVlZHNTY29waW5nKGEsYikmJihhPWMmJiFhLm1hdGNoKHBvbHlmaWxsSG9zdE5vQ29tYmluYXRvcik/dGhpcy5hcHBseVN0cmljdFNlbGVjdG9yU2NvcGUoYSxiKTp0aGlzLmFwcGx5U2VsZWN0b3JTY29wZShhLGIpKSxkLnB1c2goYSl9LHRoaXMpLGQuam9pbigiLCAiKX0sc2VsZWN0b3JOZWVkc1Njb3Bpbmc6ZnVuY3Rpb24oYSxiKXtpZihBcnJheS5pc0FycmF5KGIpKXJldHVybiEwO3ZhciBjPXRoaXMubWFrZVNjb3BlTWF0Y2hlcihiKTtyZXR1cm4hYS5tYXRjaChjKX0sbWFrZVNjb3BlTWF0Y2hlcjpmdW5jdGlvbihhKXtyZXR1cm4gYT1hLnJlcGxhY2UoL1xbL2csIlxcWyIpLnJlcGxhY2UoL1xbL2csIlxcXSIpLG5ldyBSZWdFeHAoIl4oIithKyIpIitzZWxlY3RvclJlU3VmZml4LCJtIil9LGFwcGx5U2VsZWN0b3JTY29wZTpmdW5jdGlvbihhLGIpe3JldHVybiBBcnJheS5pc0FycmF5KGIpP3RoaXMuYXBwbHlTZWxlY3RvclNjb3BlTGlzdChhLGIpOnRoaXMuYXBwbHlTaW1wbGVTZWxlY3RvclNjb3BlKGEsYil9LGFwcGx5U2VsZWN0b3JTY29wZUxpc3Q6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD1bXSxlPTA7Yz1iW2VdO2UrKylkLnB1c2godGhpcy5hcHBseVNpbXBsZVNlbGVjdG9yU2NvcGUoYSxjKSk7cmV0dXJuIGQuam9pbigiLCAiKX0sYXBwbHlTaW1wbGVTZWxlY3RvclNjb3BlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubWF0Y2gocG9seWZpbGxIb3N0UmUpPyhhPWEucmVwbGFjZShwb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3IsYiksYS5yZXBsYWNlKHBvbHlmaWxsSG9zdFJlLGIrIiAiKSk6YisiICIrYX0sYXBwbHlTdHJpY3RTZWxlY3RvclNjb3BlOmZ1bmN0aW9uKGEsYil7Yj1iLnJlcGxhY2UoL1xbaXM9KFteXF1dKilcXS9nLCIkMSIpO3ZhciBjPVsiICIsIj4iLCIrIiwifiJdLGQ9YSxlPSJbIitiKyJdIjtyZXR1cm4gYy5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWQuc3BsaXQoYSk7ZD1iLm1hcChmdW5jdGlvbihhKXt2YXIgYj1hLnRyaW0oKS5yZXBsYWNlKHBvbHlmaWxsSG9zdFJlLCIiKTtyZXR1cm4gYiYmYy5pbmRleE9mKGIpPDAmJmIuaW5kZXhPZihlKTwwJiYoYT1iLnJlcGxhY2UoLyhbXjpdKikoOiopKC4qKS8sIiQxIitlKyIkMiQzIikpLGF9KS5qb2luKGEpfSksZH0saW5zZXJ0UG9seWZpbGxIb3N0SW5Dc3NUZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoY29sb25Ib3N0Q29udGV4dFJlLHQpLnJlcGxhY2UoY29sb25Ib3N0UmUscyl9LHByb3BlcnRpZXNGcm9tUnVsZTpmdW5jdGlvbihhKXt2YXIgYj1hLnN0eWxlLmNzc1RleHQ7YS5zdHlsZS5jb250ZW50JiYhYS5zdHlsZS5jb250ZW50Lm1hdGNoKC9bJyJdK3xhdHRyLykmJihiPWIucmVwbGFjZSgvY29udGVudDpbXjtdKjsvZywiY29udGVudDogJyIrYS5zdHlsZS5jb250ZW50KyInOyIpKTt2YXIgYz1hLnN0eWxlO2Zvcih2YXIgZCBpbiBjKSJpbml0aWFsIj09PWNbZF0mJihiKz1kKyI6IGluaXRpYWw7ICIpO3JldHVybiBifSxyZXBsYWNlVGV4dEluU3R5bGVzOmZ1bmN0aW9uKGEsYil7YSYmYiYmKGEgaW5zdGFuY2VvZiBBcnJheXx8KGE9W2FdKSxBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsZnVuY3Rpb24oYSl7YS50ZXh0Q29udGVudD1iLmNhbGwodGhpcyxhLnRleHRDb250ZW50KX0sdGhpcykpfSxhZGRDc3NUb0RvY3VtZW50OmZ1bmN0aW9uKGEsYil7YS5tYXRjaCgiQGltcG9ydCIpP2koYSxiKTpoKGEpfX0sbD0vXC9cKlteKl0qXCorKFteLypdW14qXSpcKispKlwvL2dpbSxtPS9cL1wqXHMqQHBvbHlmaWxsIChbXipdKlwqKyhbXi8qXVteKl0qXCorKSpcLykoW157XSo/KXsvZ2ltLG49L3BvbHlmaWxsLW5leHQtc2VsZWN0b3JbXn1dKmNvbnRlbnRcOltcc10qP1snIl0oLio/KVsnIl1bO1xzXSp9KFtee10qPyl7L2dpbSxvPS9cL1wqXHNAcG9seWZpbGwtcnVsZShbXipdKlwqKyhbXi8qXVteKl0qXCorKSopXC8vZ2ltLHA9Lyhwb2x5ZmlsbC1ydWxlKVtefV0qKGNvbnRlbnRcOltcc10qWyciXSguKj8pWyciXSlbO1xzXSpbXn1dKn0vZ2ltLHE9L1wvXCpcc0Bwb2x5ZmlsbC11bnNjb3BlZC1ydWxlKFteKl0qXCorKFteLypdW14qXSpcKispKilcLy9naW0scj0vKHBvbHlmaWxsLXVuc2NvcGVkLXJ1bGUpW159XSooY29udGVudFw6W1xzXSpbJyJdKC4qPylbJyJdKVs7XHNdKltefV0qfS9naW0scz0iLXNoYWRvd2Nzc2hvc3QiLHQ9Ii1zaGFkb3djc3Njb250ZXh0Iix1PSIpKD86XFwoKCg/OlxcKFteKShdKlxcKXxbXikoXSopKz8pXFwpKT8oW14se10qKSI7Y3NzQ29sb25Ib3N0UmU9bmV3IFJlZ0V4cCgiKCIrcyt1LCJnaW0iKSxjc3NDb2xvbkhvc3RDb250ZXh0UmU9bmV3IFJlZ0V4cCgiKCIrdCt1LCJnaW0iKSxzZWxlY3RvclJlU3VmZml4PSIoWz5cXHN+K1suLHs6XVtcXHNcXFNdKik/JCIsY29sb25Ib3N0UmU9L1w6aG9zdC9naW0sY29sb25Ib3N0Q29udGV4dFJlPS9cOmhvc3QtY29udGV4dC9naW0scG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yPXMrIi1uby1jb21iaW5hdG9yIixwb2x5ZmlsbEhvc3RSZT1uZXcgUmVnRXhwKHMsImdpbSIpLHBvbHlmaWxsSG9zdENvbnRleHRSZT1uZXcgUmVnRXhwKHQsImdpbSIpLHNoYWRvd0RPTVNlbGVjdG9yc1JlPVsvXF5cXi9nLC9cXi9nLC9cL3NoYWRvd1wvL2csL1wvc2hhZG93LWRlZXBcLy9nLC86OnNoYWRvdy9nLC9cL2RlZXBcLy9nLC86OmNvbnRlbnQvZ107dmFyIHY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7di5zdHlsZS5kaXNwbGF5PSJub25lIjt2YXIgdyx4PW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goIkNocm9tZSIpLHk9InNoaW0tc2hhZG93ZG9tIix6PSJzaGltLXNoYWRvd2RvbS1jc3MiLEE9Im5vLXNoaW0iO2lmKHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCl7aCgic3R5bGUgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH1cbiIpO3ZhciBCPXdyYXAoZG9jdW1lbnQpLEM9Qi5xdWVyeVNlbGVjdG9yKCJoZWFkIik7Qy5pbnNlcnRCZWZvcmUoaigpLEMuY2hpbGROb2Rlc1swXSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXthLnVybFJlc29sdmVyO2lmKHdpbmRvdy5IVE1MSW1wb3J0cyYmIUhUTUxJbXBvcnRzLnVzZU5hdGl2ZSl7dmFyIGI9ImxpbmtbcmVsPXN0eWxlc2hlZXRdWyIreSsiXSIsYz0ic3R5bGVbIit5KyJdIjtIVE1MSW1wb3J0cy5pbXBvcnRlci5kb2N1bWVudFByZWxvYWRTZWxlY3RvcnMrPSIsIitiLEhUTUxJbXBvcnRzLmltcG9ydGVyLmltcG9ydHNQcmVsb2FkU2VsZWN0b3JzKz0iLCIrYixIVE1MSW1wb3J0cy5wYXJzZXIuZG9jdW1lbnRTZWxlY3RvcnM9W0hUTUxJbXBvcnRzLnBhcnNlci5kb2N1bWVudFNlbGVjdG9ycyxiLGNdLmpvaW4oIiwiKTt2YXIgZD1IVE1MSW1wb3J0cy5wYXJzZXIucGFyc2VHZW5lcmljO0hUTUxJbXBvcnRzLnBhcnNlci5wYXJzZUdlbmVyaWM9ZnVuY3Rpb24oYSl7aWYoIWFbel0pe3ZhciBiPWEuX19pbXBvcnRFbGVtZW50fHxhO2lmKCFiLmhhc0F0dHJpYnV0ZSh5KSlyZXR1cm4gdm9pZCBkLmNhbGwodGhpcyxhKTthLl9fcmVzb3VyY2UmJihiPWEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLGIudGV4dENvbnRlbnQ9YS5fX3Jlc291cmNlKSxIVE1MSW1wb3J0cy5wYXRoLnJlc29sdmVVcmxzSW5TdHlsZShiKSxiLnRleHRDb250ZW50PWsuc2hpbVN0eWxlKGIpLGIucmVtb3ZlQXR0cmlidXRlKHksIiIpLGIuc2V0QXR0cmlidXRlKHosIiIpLGJbel09ITAsYi5wYXJlbnROb2RlIT09QyYmKGEucGFyZW50Tm9kZT09PUM/Qy5yZXBsYWNlQ2hpbGQoYixhKTp0aGlzLmFkZEVsZW1lbnRUb0RvY3VtZW50KGIpKSxiLl9faW1wb3J0UGFyc2VkPSEwLHRoaXMubWFya1BhcnNpbmdDb21wbGV0ZShhKSx0aGlzLnBhcnNlTmV4dCgpfX07dmFyIGU9SFRNTEltcG9ydHMucGFyc2VyLmhhc1Jlc291cmNlO0hUTUxJbXBvcnRzLnBhcnNlci5oYXNSZXNvdXJjZT1mdW5jdGlvbihhKXtyZXR1cm4ibGluayI9PT1hLmxvY2FsTmFtZSYmInN0eWxlc2hlZXQiPT09YS5yZWwmJmEuaGFzQXR0cmlidXRlKHkpP2EuX19yZXNvdXJjZTplLmNhbGwodGhpcyxhKX19fSl9YS5TaGFkb3dDU1M9a30od2luZG93LlBsYXRmb3JtKSk6IWZ1bmN0aW9uKCl7d2luZG93LndyYXA9d2luZG93LnVud3JhcD1mdW5jdGlvbihhKXtyZXR1cm4gYX0sYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXtpZihDdXN0b21FbGVtZW50cy51c2VOYXRpdmU9PT0hMSl7dmFyIGE9RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdDtFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290PWZ1bmN0aW9uKCl7dmFyIGI9YS5jYWxsKHRoaXMpO3JldHVybiBDdXN0b21FbGVtZW50cy53YXRjaFNoYWRvdyh0aGlzKSxifX19KX0od2luZG93LlBsYXRmb3JtKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtyZXR1cm4gdm9pZCAwIT09bVthXX1mdW5jdGlvbiBjKCl7aC5jYWxsKHRoaXMpLHRoaXMuX2lzSW52YWxpZD0hMH1mdW5jdGlvbiBkKGEpe3JldHVybiIiPT1hJiZjLmNhbGwodGhpcyksYS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIGUoYSl7dmFyIGI9YS5jaGFyQ29kZUF0KDApO3JldHVybiBiPjMyJiYxMjc+YiYmLTE9PVszNCwzNSw2MCw2Miw2Myw5Nl0uaW5kZXhPZihiKT9hOmVuY29kZVVSSUNvbXBvbmVudChhKX1mdW5jdGlvbiBmKGEpe3ZhciBiPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4gYj4zMiYmMTI3PmImJi0xPT1bMzQsMzUsNjAsNjIsOTZdLmluZGV4T2YoYik/YTplbmNvZGVVUklDb21wb25lbnQoYSl9ZnVuY3Rpb24gZyhhLGcsaCl7ZnVuY3Rpb24gaShhKXt0LnB1c2goYSl9dmFyIGo9Z3x8InNjaGVtZSBzdGFydCIsaz0wLGw9IiIscj0hMSxzPSExLHQ9W107YTpmb3IoOyhhW2stMV0hPW98fDA9PWspJiYhdGhpcy5faXNJbnZhbGlkOyl7dmFyIHU9YVtrXTtzd2l0Y2goail7Y2FzZSJzY2hlbWUgc3RhcnQiOmlmKCF1fHwhcC50ZXN0KHUpKXtpZihnKXtpKCJJbnZhbGlkIHNjaGVtZS4iKTticmVhayBhfWw9IiIsaj0ibm8gc2NoZW1lIjtjb250aW51ZX1sKz11LnRvTG93ZXJDYXNlKCksaj0ic2NoZW1lIjticmVhaztjYXNlInNjaGVtZSI6aWYodSYmcS50ZXN0KHUpKWwrPXUudG9Mb3dlckNhc2UoKTtlbHNle2lmKCI6IiE9dSl7aWYoZyl7aWYobz09dSlicmVhayBhO2koIkNvZGUgcG9pbnQgbm90IGFsbG93ZWQgaW4gc2NoZW1lOiAiK3UpO2JyZWFrIGF9bD0iIixrPTAsaj0ibm8gc2NoZW1lIjtjb250aW51ZX1pZih0aGlzLl9zY2hlbWU9bCxsPSIiLGcpYnJlYWsgYTtiKHRoaXMuX3NjaGVtZSkmJih0aGlzLl9pc1JlbGF0aXZlPSEwKSxqPSJmaWxlIj09dGhpcy5fc2NoZW1lPyJyZWxhdGl2ZSI6dGhpcy5faXNSZWxhdGl2ZSYmaCYmaC5fc2NoZW1lPT10aGlzLl9zY2hlbWU/InJlbGF0aXZlIG9yIGF1dGhvcml0eSI6dGhpcy5faXNSZWxhdGl2ZT8iYXV0aG9yaXR5IGZpcnN0IHNsYXNoIjoic2NoZW1lIGRhdGEifWJyZWFrO2Nhc2Uic2NoZW1lIGRhdGEiOiI/Ij09dT8ocXVlcnk9Ij8iLGo9InF1ZXJ5Iik6IiMiPT11Pyh0aGlzLl9mcmFnbWVudD0iIyIsaj0iZnJhZ21lbnQiKTpvIT11JiYiCSIhPXUmJiJcbiIhPXUmJiJcciIhPXUmJih0aGlzLl9zY2hlbWVEYXRhKz1lKHUpKTticmVhaztjYXNlIm5vIHNjaGVtZSI6aWYoaCYmYihoLl9zY2hlbWUpKXtqPSJyZWxhdGl2ZSI7Y29udGludWV9aSgiTWlzc2luZyBzY2hlbWUuIiksYy5jYWxsKHRoaXMpO2JyZWFrO2Nhc2UicmVsYXRpdmUgb3IgYXV0aG9yaXR5IjppZigiLyIhPXV8fCIvIiE9YVtrKzFdKXtpKCJFeHBlY3RlZCAvLCBnb3Q6ICIrdSksaj0icmVsYXRpdmUiO2NvbnRpbnVlfWo9ImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyI7YnJlYWs7Y2FzZSJyZWxhdGl2ZSI6aWYodGhpcy5faXNSZWxhdGl2ZT0hMCwiZmlsZSIhPXRoaXMuX3NjaGVtZSYmKHRoaXMuX3NjaGVtZT1oLl9zY2hlbWUpLG89PXUpe3RoaXMuX2hvc3Q9aC5faG9zdCx0aGlzLl9wb3J0PWguX3BvcnQsdGhpcy5fcGF0aD1oLl9wYXRoLnNsaWNlKCksdGhpcy5fcXVlcnk9aC5fcXVlcnk7YnJlYWsgYX1pZigiLyI9PXV8fCJcXCI9PXUpIlxcIj09dSYmaSgiXFwgaXMgYW4gaW52YWxpZCBjb2RlIHBvaW50LiIpLGo9InJlbGF0aXZlIHNsYXNoIjtlbHNlIGlmKCI/Ij09dSl0aGlzLl9ob3N0PWguX2hvc3QsdGhpcy5fcG9ydD1oLl9wb3J0LHRoaXMuX3BhdGg9aC5fcGF0aC5zbGljZSgpLHRoaXMuX3F1ZXJ5PSI/IixqPSJxdWVyeSI7CmVsc2V7aWYoIiMiIT11KXt2YXIgdj1hW2srMV0sdz1hW2srMl07KCJmaWxlIiE9dGhpcy5fc2NoZW1lfHwhcC50ZXN0KHUpfHwiOiIhPXYmJiJ8IiE9dnx8byE9dyYmIi8iIT13JiYiXFwiIT13JiYiPyIhPXcmJiIjIiE9dykmJih0aGlzLl9ob3N0PWguX2hvc3QsdGhpcy5fcG9ydD1oLl9wb3J0LHRoaXMuX3BhdGg9aC5fcGF0aC5zbGljZSgpLHRoaXMuX3BhdGgucG9wKCkpLGo9InJlbGF0aXZlIHBhdGgiO2NvbnRpbnVlfXRoaXMuX2hvc3Q9aC5faG9zdCx0aGlzLl9wb3J0PWguX3BvcnQsdGhpcy5fcGF0aD1oLl9wYXRoLnNsaWNlKCksdGhpcy5fcXVlcnk9aC5fcXVlcnksdGhpcy5fZnJhZ21lbnQ9IiMiLGo9ImZyYWdtZW50In1icmVhaztjYXNlInJlbGF0aXZlIHNsYXNoIjppZigiLyIhPXUmJiJcXCIhPXUpeyJmaWxlIiE9dGhpcy5fc2NoZW1lJiYodGhpcy5faG9zdD1oLl9ob3N0LHRoaXMuX3BvcnQ9aC5fcG9ydCksaj0icmVsYXRpdmUgcGF0aCI7Y29udGludWV9IlxcIj09dSYmaSgiXFwgaXMgYW4gaW52YWxpZCBjb2RlIHBvaW50LiIpLGo9ImZpbGUiPT10aGlzLl9zY2hlbWU/ImZpbGUgaG9zdCI6ImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyI7YnJlYWs7Y2FzZSJhdXRob3JpdHkgZmlyc3Qgc2xhc2giOmlmKCIvIiE9dSl7aSgiRXhwZWN0ZWQgJy8nLCBnb3Q6ICIrdSksaj0iYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIjtjb250aW51ZX1qPSJhdXRob3JpdHkgc2Vjb25kIHNsYXNoIjticmVhaztjYXNlImF1dGhvcml0eSBzZWNvbmQgc2xhc2giOmlmKGo9ImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyIsIi8iIT11KXtpKCJFeHBlY3RlZCAnLycsIGdvdDogIit1KTtjb250aW51ZX1icmVhaztjYXNlImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyI6aWYoIi8iIT11JiYiXFwiIT11KXtqPSJhdXRob3JpdHkiO2NvbnRpbnVlfWkoIkV4cGVjdGVkIGF1dGhvcml0eSwgZ290OiAiK3UpO2JyZWFrO2Nhc2UiYXV0aG9yaXR5IjppZigiQCI9PXUpe3ImJihpKCJAIGFscmVhZHkgc2Vlbi4iKSxsKz0iJTQwIikscj0hMDtmb3IodmFyIHg9MDt4PGwubGVuZ3RoO3grKyl7dmFyIHk9bFt4XTtpZigiCSIhPXkmJiJcbiIhPXkmJiJcciIhPXkpaWYoIjoiIT15fHxudWxsIT09dGhpcy5fcGFzc3dvcmQpe3ZhciB6PWUoeSk7bnVsbCE9PXRoaXMuX3Bhc3N3b3JkP3RoaXMuX3Bhc3N3b3JkKz16OnRoaXMuX3VzZXJuYW1lKz16fWVsc2UgdGhpcy5fcGFzc3dvcmQ9IiI7ZWxzZSBpKCJJbnZhbGlkIHdoaXRlc3BhY2UgaW4gYXV0aG9yaXR5LiIpfWw9IiJ9ZWxzZXtpZihvPT11fHwiLyI9PXV8fCJcXCI9PXV8fCI/Ij09dXx8IiMiPT11KXtrLT1sLmxlbmd0aCxsPSIiLGo9Imhvc3QiO2NvbnRpbnVlfWwrPXV9YnJlYWs7Y2FzZSJmaWxlIGhvc3QiOmlmKG89PXV8fCIvIj09dXx8IlxcIj09dXx8Ij8iPT11fHwiIyI9PXUpezIhPWwubGVuZ3RofHwhcC50ZXN0KGxbMF0pfHwiOiIhPWxbMV0mJiJ8IiE9bFsxXT8wPT1sLmxlbmd0aD9qPSJyZWxhdGl2ZSBwYXRoIHN0YXJ0IjoodGhpcy5faG9zdD1kLmNhbGwodGhpcyxsKSxsPSIiLGo9InJlbGF0aXZlIHBhdGggc3RhcnQiKTpqPSJyZWxhdGl2ZSBwYXRoIjtjb250aW51ZX0iCSI9PXV8fCJcbiI9PXV8fCJcciI9PXU/aSgiSW52YWxpZCB3aGl0ZXNwYWNlIGluIGZpbGUgaG9zdC4iKTpsKz11O2JyZWFrO2Nhc2UiaG9zdCI6Y2FzZSJob3N0bmFtZSI6aWYoIjoiIT11fHxzKXtpZihvPT11fHwiLyI9PXV8fCJcXCI9PXV8fCI/Ij09dXx8IiMiPT11KXtpZih0aGlzLl9ob3N0PWQuY2FsbCh0aGlzLGwpLGw9IiIsaj0icmVsYXRpdmUgcGF0aCBzdGFydCIsZylicmVhayBhO2NvbnRpbnVlfSIJIiE9dSYmIlxuIiE9dSYmIlxyIiE9dT8oIlsiPT11P3M9ITA6Il0iPT11JiYocz0hMSksbCs9dSk6aSgiSW52YWxpZCBjb2RlIHBvaW50IGluIGhvc3QvaG9zdG5hbWU6ICIrdSl9ZWxzZSBpZih0aGlzLl9ob3N0PWQuY2FsbCh0aGlzLGwpLGw9IiIsaj0icG9ydCIsImhvc3RuYW1lIj09ZylicmVhayBhO2JyZWFrO2Nhc2UicG9ydCI6aWYoL1swLTldLy50ZXN0KHUpKWwrPXU7ZWxzZXtpZihvPT11fHwiLyI9PXV8fCJcXCI9PXV8fCI/Ij09dXx8IiMiPT11fHxnKXtpZigiIiE9bCl7dmFyIEE9cGFyc2VJbnQobCwxMCk7QSE9bVt0aGlzLl9zY2hlbWVdJiYodGhpcy5fcG9ydD1BKyIiKSxsPSIifWlmKGcpYnJlYWsgYTtqPSJyZWxhdGl2ZSBwYXRoIHN0YXJ0Ijtjb250aW51ZX0iCSI9PXV8fCJcbiI9PXV8fCJcciI9PXU/aSgiSW52YWxpZCBjb2RlIHBvaW50IGluIHBvcnQ6ICIrdSk6Yy5jYWxsKHRoaXMpfWJyZWFrO2Nhc2UicmVsYXRpdmUgcGF0aCBzdGFydCI6aWYoIlxcIj09dSYmaSgiJ1xcJyBub3QgYWxsb3dlZCBpbiBwYXRoLiIpLGo9InJlbGF0aXZlIHBhdGgiLCIvIiE9dSYmIlxcIiE9dSljb250aW51ZTticmVhaztjYXNlInJlbGF0aXZlIHBhdGgiOmlmKG8hPXUmJiIvIiE9dSYmIlxcIiE9dSYmKGd8fCI/IiE9dSYmIiMiIT11KSkiCSIhPXUmJiJcbiIhPXUmJiJcciIhPXUmJihsKz1lKHUpKTtlbHNleyJcXCI9PXUmJmkoIlxcIG5vdCBhbGxvd2VkIGluIHJlbGF0aXZlIHBhdGguIik7dmFyIEI7KEI9bltsLnRvTG93ZXJDYXNlKCldKSYmKGw9QiksIi4uIj09bD8odGhpcy5fcGF0aC5wb3AoKSwiLyIhPXUmJiJcXCIhPXUmJnRoaXMuX3BhdGgucHVzaCgiIikpOiIuIj09bCYmIi8iIT11JiYiXFwiIT11P3RoaXMuX3BhdGgucHVzaCgiIik6Ii4iIT1sJiYoImZpbGUiPT10aGlzLl9zY2hlbWUmJjA9PXRoaXMuX3BhdGgubGVuZ3RoJiYyPT1sLmxlbmd0aCYmcC50ZXN0KGxbMF0pJiYifCI9PWxbMV0mJihsPWxbMF0rIjoiKSx0aGlzLl9wYXRoLnB1c2gobCkpLGw9IiIsIj8iPT11Pyh0aGlzLl9xdWVyeT0iPyIsaj0icXVlcnkiKToiIyI9PXUmJih0aGlzLl9mcmFnbWVudD0iIyIsaj0iZnJhZ21lbnQiKX1icmVhaztjYXNlInF1ZXJ5IjpnfHwiIyIhPXU/byE9dSYmIgkiIT11JiYiXG4iIT11JiYiXHIiIT11JiYodGhpcy5fcXVlcnkrPWYodSkpOih0aGlzLl9mcmFnbWVudD0iIyIsaj0iZnJhZ21lbnQiKTticmVhaztjYXNlImZyYWdtZW50IjpvIT11JiYiCSIhPXUmJiJcbiIhPXUmJiJcciIhPXUmJih0aGlzLl9mcmFnbWVudCs9dSl9aysrfX1mdW5jdGlvbiBoKCl7dGhpcy5fc2NoZW1lPSIiLHRoaXMuX3NjaGVtZURhdGE9IiIsdGhpcy5fdXNlcm5hbWU9IiIsdGhpcy5fcGFzc3dvcmQ9bnVsbCx0aGlzLl9ob3N0PSIiLHRoaXMuX3BvcnQ9IiIsdGhpcy5fcGF0aD1bXSx0aGlzLl9xdWVyeT0iIix0aGlzLl9mcmFnbWVudD0iIix0aGlzLl9pc0ludmFsaWQ9ITEsdGhpcy5faXNSZWxhdGl2ZT0hMX1mdW5jdGlvbiBpKGEsYil7dm9pZCAwPT09Ynx8YiBpbnN0YW5jZW9mIGl8fChiPW5ldyBpKFN0cmluZyhiKSkpLHRoaXMuX3VybD1hLGguY2FsbCh0aGlzKTt2YXIgYz1hLnJlcGxhY2UoL15bIFx0XHJcblxmXSt8WyBcdFxyXG5cZl0rJC9nLCIiKTtnLmNhbGwodGhpcyxjLG51bGwsYil9dmFyIGo9ITE7aWYoIWEuZm9yY2VKVVJMKXRyeXt2YXIgaz1uZXcgVVJMKCJiIiwiaHR0cDovL2EiKTtqPSJodHRwOi8vYS9iIj09PWsuaHJlZn1jYXRjaChsKXt9aWYoIWope3ZhciBtPU9iamVjdC5jcmVhdGUobnVsbCk7bS5mdHA9MjEsbS5maWxlPTAsbS5nb3BoZXI9NzAsbS5odHRwPTgwLG0uaHR0cHM9NDQzLG0ud3M9ODAsbS53c3M9NDQzO3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7blsiJTJlIl09Ii4iLG5bIi4lMmUiXT0iLi4iLG5bIiUyZS4iXT0iLi4iLG5bIiUyZSUyZSJdPSIuLiI7dmFyIG89dm9pZCAwLHA9L1thLXpBLVpdLyxxPS9bYS16QS1aMC05XCtcLVwuXS87aS5wcm90b3R5cGU9e2dldCBocmVmKCl7aWYodGhpcy5faXNJbnZhbGlkKXJldHVybiB0aGlzLl91cmw7dmFyIGE9IiI7cmV0dXJuKCIiIT10aGlzLl91c2VybmFtZXx8bnVsbCE9dGhpcy5fcGFzc3dvcmQpJiYoYT10aGlzLl91c2VybmFtZSsobnVsbCE9dGhpcy5fcGFzc3dvcmQ/IjoiK3RoaXMuX3Bhc3N3b3JkOiIiKSsiQCIpLHRoaXMucHJvdG9jb2wrKHRoaXMuX2lzUmVsYXRpdmU/Ii8vIithK3RoaXMuaG9zdDoiIikrdGhpcy5wYXRobmFtZSt0aGlzLl9xdWVyeSt0aGlzLl9mcmFnbWVudH0sc2V0IGhyZWYoYSl7aC5jYWxsKHRoaXMpLGcuY2FsbCh0aGlzLGEpfSxnZXQgcHJvdG9jb2woKXtyZXR1cm4gdGhpcy5fc2NoZW1lKyI6In0sc2V0IHByb3RvY29sKGEpe3RoaXMuX2lzSW52YWxpZHx8Zy5jYWxsKHRoaXMsYSsiOiIsInNjaGVtZSBzdGFydCIpfSxnZXQgaG9zdCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWQ/IiI6dGhpcy5fcG9ydD90aGlzLl9ob3N0KyI6Iit0aGlzLl9wb3J0OnRoaXMuX2hvc3R9LHNldCBob3N0KGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJmcuY2FsbCh0aGlzLGEsImhvc3QiKX0sZ2V0IGhvc3RuYW1lKCl7cmV0dXJuIHRoaXMuX2hvc3R9LHNldCBob3N0bmFtZShhKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiZnLmNhbGwodGhpcyxhLCJob3N0bmFtZSIpfSxnZXQgcG9ydCgpe3JldHVybiB0aGlzLl9wb3J0fSxzZXQgcG9ydChhKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiZnLmNhbGwodGhpcyxhLCJwb3J0Iil9LGdldCBwYXRobmFtZSgpe3JldHVybiB0aGlzLl9pc0ludmFsaWQ/IiI6dGhpcy5faXNSZWxhdGl2ZT8iLyIrdGhpcy5fcGF0aC5qb2luKCIvIik6dGhpcy5fc2NoZW1lRGF0YX0sc2V0IHBhdGhuYW1lKGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJih0aGlzLl9wYXRoPVtdLGcuY2FsbCh0aGlzLGEsInJlbGF0aXZlIHBhdGggc3RhcnQiKSl9LGdldCBzZWFyY2goKXtyZXR1cm4gdGhpcy5faXNJbnZhbGlkfHwhdGhpcy5fcXVlcnl8fCI/Ij09dGhpcy5fcXVlcnk/IiI6dGhpcy5fcXVlcnl9LHNldCBzZWFyY2goYSl7IXRoaXMuX2lzSW52YWxpZCYmdGhpcy5faXNSZWxhdGl2ZSYmKHRoaXMuX3F1ZXJ5PSI/IiwiPyI9PWFbMF0mJihhPWEuc2xpY2UoMSkpLGcuY2FsbCh0aGlzLGEsInF1ZXJ5IikpfSxnZXQgaGFzaCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWR8fCF0aGlzLl9mcmFnbWVudHx8IiMiPT10aGlzLl9mcmFnbWVudD8iIjp0aGlzLl9mcmFnbWVudH0sc2V0IGhhc2goYSl7dGhpcy5faXNJbnZhbGlkfHwodGhpcy5fZnJhZ21lbnQ9IiMiLCIjIj09YVswXSYmKGE9YS5zbGljZSgxKSksZy5jYWxsKHRoaXMsYSwiZnJhZ21lbnQiKSl9fTt2YXIgcj1hLlVSTDtyJiYoaS5jcmVhdGVPYmplY3RVUkw9ZnVuY3Rpb24oKXtyZXR1cm4gci5jcmVhdGVPYmplY3RVUkwuYXBwbHkocixhcmd1bWVudHMpfSxpLnJldm9rZU9iamVjdFVSTD1mdW5jdGlvbihhKXtyLnJldm9rZU9iamVjdFVSTChhKX0pLGEuVVJMPWl9fSh0aGlzKSxmdW5jdGlvbigpe0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHwoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZD1jLnNsaWNlKCk7cmV0dXJuIGQucHVzaC5hcHBseShkLGFyZ3VtZW50cyksYi5hcHBseShhLGQpfX0pfSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7dS5wdXNoKGEpLHR8fCh0PSEwLHEoZCkpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCYmd2luZG93LlNoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChhKXx8YX1mdW5jdGlvbiBkKCl7dD0hMTt2YXIgYT11O3U9W10sYS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEudWlkXy1iLnVpZF99KTt2YXIgYj0hMTthLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGM9YS50YWtlUmVjb3JkcygpO2UoYSksYy5sZW5ndGgmJihhLmNhbGxiYWNrXyhjLGEpLGI9ITApfSksYiYmZCgpfWZ1bmN0aW9uIGUoYSl7YS5ub2Rlc18uZm9yRWFjaChmdW5jdGlvbihiKXt2YXIgYz1wLmdldChiKTtjJiZjLmZvckVhY2goZnVuY3Rpb24oYil7Yi5vYnNlcnZlcj09PWEmJmIucmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzKCl9KX0pfWZ1bmN0aW9uIGYoYSxiKXtmb3IodmFyIGM9YTtjO2M9Yy5wYXJlbnROb2RlKXt2YXIgZD1wLmdldChjKTtpZihkKWZvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdLGc9Zi5vcHRpb25zO2lmKGM9PT1hfHxnLnN1YnRyZWUpe3ZhciBoPWIoZyk7aCYmZi5lbnF1ZXVlKGgpfX19fWZ1bmN0aW9uIGcoYSl7dGhpcy5jYWxsYmFja189YSx0aGlzLm5vZGVzXz1bXSx0aGlzLnJlY29yZHNfPVtdLHRoaXMudWlkXz0rK3Z9ZnVuY3Rpb24gaChhLGIpe3RoaXMudHlwZT1hLHRoaXMudGFyZ2V0PWIsdGhpcy5hZGRlZE5vZGVzPVtdLHRoaXMucmVtb3ZlZE5vZGVzPVtdLHRoaXMucHJldmlvdXNTaWJsaW5nPW51bGwsdGhpcy5uZXh0U2libGluZz1udWxsLHRoaXMuYXR0cmlidXRlTmFtZT1udWxsLHRoaXMuYXR0cmlidXRlTmFtZXNwYWNlPW51bGwsdGhpcy5vbGRWYWx1ZT1udWxsfWZ1bmN0aW9uIGkoYSl7dmFyIGI9bmV3IGgoYS50eXBlLGEudGFyZ2V0KTtyZXR1cm4gYi5hZGRlZE5vZGVzPWEuYWRkZWROb2Rlcy5zbGljZSgpLGIucmVtb3ZlZE5vZGVzPWEucmVtb3ZlZE5vZGVzLnNsaWNlKCksYi5wcmV2aW91c1NpYmxpbmc9YS5wcmV2aW91c1NpYmxpbmcsYi5uZXh0U2libGluZz1hLm5leHRTaWJsaW5nLGIuYXR0cmlidXRlTmFtZT1hLmF0dHJpYnV0ZU5hbWUsYi5hdHRyaWJ1dGVOYW1lc3BhY2U9YS5hdHRyaWJ1dGVOYW1lc3BhY2UsYi5vbGRWYWx1ZT1hLm9sZFZhbHVlLGJ9ZnVuY3Rpb24gaihhLGIpe3JldHVybiB3PW5ldyBoKGEsYil9ZnVuY3Rpb24gayhhKXtyZXR1cm4geD94Oih4PWkodykseC5vbGRWYWx1ZT1hLHgpfWZ1bmN0aW9uIGwoKXt3PXg9dm9pZCAwfWZ1bmN0aW9uIG0oYSl7cmV0dXJuIGE9PT14fHxhPT09d31mdW5jdGlvbiBuKGEsYil7cmV0dXJuIGE9PT1iP2E6eCYmbShhKT94Om51bGx9ZnVuY3Rpb24gbyhhLGIsYyl7dGhpcy5vYnNlcnZlcj1hLHRoaXMudGFyZ2V0PWIsdGhpcy5vcHRpb25zPWMsdGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdfXZhciBwPW5ldyBXZWFrTWFwLHE9d2luZG93Lm1zU2V0SW1tZWRpYXRlO2lmKCFxKXt2YXIgcj1bXSxzPVN0cmluZyhNYXRoLnJhbmRvbSgpKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZnVuY3Rpb24oYSl7aWYoYS5kYXRhPT09cyl7dmFyIGI9cjtyPVtdLGIuZm9yRWFjaChmdW5jdGlvbihhKXthKCl9KX19KSxxPWZ1bmN0aW9uKGEpe3IucHVzaChhKSx3aW5kb3cucG9zdE1lc3NhZ2UocywiKiIpfX12YXIgdD0hMSx1PVtdLHY9MDtnLnByb3RvdHlwZT17b2JzZXJ2ZTpmdW5jdGlvbihhLGIpe2lmKGE9YyhhKSwhYi5jaGlsZExpc3QmJiFiLmF0dHJpYnV0ZXMmJiFiLmNoYXJhY3RlckRhdGF8fGIuYXR0cmlidXRlT2xkVmFsdWUmJiFiLmF0dHJpYnV0ZXN8fGIuYXR0cmlidXRlRmlsdGVyJiZiLmF0dHJpYnV0ZUZpbHRlci5sZW5ndGgmJiFiLmF0dHJpYnV0ZXN8fGIuY2hhcmFjdGVyRGF0YU9sZFZhbHVlJiYhYi5jaGFyYWN0ZXJEYXRhKXRocm93IG5ldyBTeW50YXhFcnJvcjt2YXIgZD1wLmdldChhKTtkfHxwLnNldChhLGQ9W10pO2Zvcih2YXIgZSxmPTA7ZjxkLmxlbmd0aDtmKyspaWYoZFtmXS5vYnNlcnZlcj09PXRoaXMpe2U9ZFtmXSxlLnJlbW92ZUxpc3RlbmVycygpLGUub3B0aW9ucz1iO2JyZWFrfWV8fChlPW5ldyBvKHRoaXMsYSxiKSxkLnB1c2goZSksdGhpcy5ub2Rlc18ucHVzaChhKSksZS5hZGRMaXN0ZW5lcnMoKX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe3RoaXMubm9kZXNfLmZvckVhY2goZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXAuZ2V0KGEpLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTtpZihkLm9ic2VydmVyPT09dGhpcyl7ZC5yZW1vdmVMaXN0ZW5lcnMoKSxiLnNwbGljZShjLDEpO2JyZWFrfX19LHRoaXMpLHRoaXMucmVjb3Jkc189W119LHRha2VSZWNvcmRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5yZWNvcmRzXztyZXR1cm4gdGhpcy5yZWNvcmRzXz1bXSxhfX07dmFyIHcseDtvLnByb3RvdHlwZT17ZW5xdWV1ZTpmdW5jdGlvbihhKXt2YXIgYz10aGlzLm9ic2VydmVyLnJlY29yZHNfLGQ9Yy5sZW5ndGg7aWYoYy5sZW5ndGg+MCl7dmFyIGU9Y1tkLTFdLGY9bihlLGEpO2lmKGYpcmV0dXJuIHZvaWQoY1tkLTFdPWYpfWVsc2UgYih0aGlzLm9ic2VydmVyKTtjW2RdPWF9LGFkZExpc3RlbmVyczpmdW5jdGlvbigpe3RoaXMuYWRkTGlzdGVuZXJzXyh0aGlzLnRhcmdldCl9LGFkZExpc3RlbmVyc186ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zO2IuYXR0cmlidXRlcyYmYS5hZGRFdmVudExpc3RlbmVyKCJET01BdHRyTW9kaWZpZWQiLHRoaXMsITApLGIuY2hhcmFjdGVyRGF0YSYmYS5hZGRFdmVudExpc3RlbmVyKCJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWQiLHRoaXMsITApLGIuY2hpbGRMaXN0JiZhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTU5vZGVJbnNlcnRlZCIsdGhpcywhMCksKGIuY2hpbGRMaXN0fHxiLnN1YnRyZWUpJiZhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTU5vZGVSZW1vdmVkIix0aGlzLCEwKX0scmVtb3ZlTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVMaXN0ZW5lcnNfKHRoaXMudGFyZ2V0KX0scmVtb3ZlTGlzdGVuZXJzXzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnM7Yi5hdHRyaWJ1dGVzJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUF0dHJNb2RpZmllZCIsdGhpcywhMCksYi5jaGFyYWN0ZXJEYXRhJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCIsdGhpcywhMCksYi5jaGlsZExpc3QmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NTm9kZUluc2VydGVkIix0aGlzLCEwKSwoYi5jaGlsZExpc3R8fGIuc3VidHJlZSkmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NTm9kZVJlbW92ZWQiLHRoaXMsITApfSxhZGRUcmFuc2llbnRPYnNlcnZlcjpmdW5jdGlvbihhKXtpZihhIT09dGhpcy50YXJnZXQpe3RoaXMuYWRkTGlzdGVuZXJzXyhhKSx0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXMucHVzaChhKTt2YXIgYj1wLmdldChhKTtifHxwLnNldChhLGI9W10pLGIucHVzaCh0aGlzKX19LHJlbW92ZVRyYW5zaWVudE9ic2VydmVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlczt0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W10sYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMucmVtb3ZlTGlzdGVuZXJzXyhhKTtmb3IodmFyIGI9cC5nZXQoYSksYz0wO2M8Yi5sZW5ndGg7YysrKWlmKGJbY109PT10aGlzKXtiLnNwbGljZShjLDEpO2JyZWFrfX0sdGhpcyl9LGhhbmRsZUV2ZW50OmZ1bmN0aW9uKGEpe3N3aXRjaChhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLGEudHlwZSl7Y2FzZSJET01BdHRyTW9kaWZpZWQiOnZhciBiPWEuYXR0ck5hbWUsYz1hLnJlbGF0ZWROb2RlLm5hbWVzcGFjZVVSSSxkPWEudGFyZ2V0LGU9bmV3IGooImF0dHJpYnV0ZXMiLGQpO2UuYXR0cmlidXRlTmFtZT1iLGUuYXR0cmlidXRlTmFtZXNwYWNlPWM7dmFyIGc9YS5hdHRyQ2hhbmdlPT09TXV0YXRpb25FdmVudC5BRERJVElPTj9udWxsOmEucHJldlZhbHVlO2YoZCxmdW5jdGlvbihhKXtyZXR1cm4hYS5hdHRyaWJ1dGVzfHxhLmF0dHJpYnV0ZUZpbHRlciYmYS5hdHRyaWJ1dGVGaWx0ZXIubGVuZ3RoJiYtMT09PWEuYXR0cmlidXRlRmlsdGVyLmluZGV4T2YoYikmJi0xPT09YS5hdHRyaWJ1dGVGaWx0ZXIuaW5kZXhPZihjKT92b2lkIDA6YS5hdHRyaWJ1dGVPbGRWYWx1ZT9rKGcpOmV9KTticmVhaztjYXNlIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCI6dmFyIGQ9YS50YXJnZXQsZT1qKCJjaGFyYWN0ZXJEYXRhIixkKSxnPWEucHJldlZhbHVlO2YoZCxmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGFyYWN0ZXJEYXRhP2EuY2hhcmFjdGVyRGF0YU9sZFZhbHVlP2soZyk6ZTp2b2lkIDB9KTticmVhaztjYXNlIkRPTU5vZGVSZW1vdmVkIjp0aGlzLmFkZFRyYW5zaWVudE9ic2VydmVyKGEudGFyZ2V0KTtjYXNlIkRPTU5vZGVJbnNlcnRlZCI6dmFyIGgsaSxkPWEucmVsYXRlZE5vZGUsbT1hLnRhcmdldDsiRE9NTm9kZUluc2VydGVkIj09PWEudHlwZT8oaD1bbV0saT1bXSk6KGg9W10saT1bbV0pO3ZhciBuPW0ucHJldmlvdXNTaWJsaW5nLG89bS5uZXh0U2libGluZyxlPWooImNoaWxkTGlzdCIsZCk7ZS5hZGRlZE5vZGVzPWgsZS5yZW1vdmVkTm9kZXM9aSxlLnByZXZpb3VzU2libGluZz1uLGUubmV4dFNpYmxpbmc9byxmKGQsZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hpbGRMaXN0P2U6dm9pZCAwfSl9bCgpfX0sYS5Kc011dGF0aW9uT2JzZXJ2ZXI9ZyxhLk11dGF0aW9uT2JzZXJ2ZXJ8fChhLk11dGF0aW9uT2JzZXJ2ZXI9Zyl9KHRoaXMpLHdpbmRvdy5IVE1MSW1wb3J0cz13aW5kb3cuSFRNTEltcG9ydHN8fHtmbGFnczp7fX0sZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIpe2I9Ynx8byxkKGZ1bmN0aW9uKCl7ZihhLGIpfSxiKX1mdW5jdGlvbiBjKGEpe3JldHVybiJjb21wbGV0ZSI9PT1hLnJlYWR5U3RhdGV8fGEucmVhZHlTdGF0ZT09PXF9ZnVuY3Rpb24gZChhLGIpe2lmKGMoYikpYSYmYSgpO2Vsc2V7dmFyIGU9ZnVuY3Rpb24oKXsoImNvbXBsZXRlIj09PWIucmVhZHlTdGF0ZXx8Yi5yZWFkeVN0YXRlPT09cSkmJihiLnJlbW92ZUV2ZW50TGlzdGVuZXIocixlKSxkKGEsYikpfTtiLmFkZEV2ZW50TGlzdGVuZXIocixlKX19ZnVuY3Rpb24gZShhKXthLnRhcmdldC5fX2xvYWRlZD0hMH1mdW5jdGlvbiBmKGEsYil7ZnVuY3Rpb24gYygpe2g9PWkmJmEmJmEoKX1mdW5jdGlvbiBkKGEpe2UoYSksaCsrLGMoKX12YXIgZj1iLnF1ZXJ5U2VsZWN0b3JBbGwoImxpbmtbcmVsPWltcG9ydF0iKSxoPTAsaT1mLmxlbmd0aDtpZihpKWZvcih2YXIgaixrPTA7aT5rJiYoaj1mW2tdKTtrKyspZyhqKT9kLmNhbGwoaix7dGFyZ2V0Omp9KTooai5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixkKSxqLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixkKSk7ZWxzZSBjKCl9ZnVuY3Rpb24gZyhhKXtyZXR1cm4gbD9hLl9fbG9hZGVkfHxhLmltcG9ydCYmImxvYWRpbmciIT09YS5pbXBvcnQucmVhZHlTdGF0ZTphLl9faW1wb3J0UGFyc2VkfWZ1bmN0aW9uIGgoYSl7Zm9yKHZhciBiLGM9MCxkPWEubGVuZ3RoO2Q+YyYmKGI9YVtjXSk7YysrKWkoYikmJmooYil9ZnVuY3Rpb24gaShhKXtyZXR1cm4ibGluayI9PT1hLmxvY2FsTmFtZSYmImltcG9ydCI9PT1hLnJlbH1mdW5jdGlvbiBqKGEpe3ZhciBiPWEuaW1wb3J0O2I/ZSh7dGFyZ2V0OmF9KTooYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixlKSxhLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixlKSl9dmFyIGs9ImltcG9ydCJpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaW5rIiksbD1rO2lzSUU9L1RyaWRlbnQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7dmFyIG09Qm9vbGVhbih3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLG49ZnVuY3Rpb24oYSl7cmV0dXJuIG0/U2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKGEpOmF9LG89bihkb2N1bWVudCkscD17Z2V0OmZ1bmN0aW9uKCl7dmFyIGE9SFRNTEltcG9ydHMuY3VycmVudFNjcmlwdHx8ZG9jdW1lbnQuY3VycmVudFNjcmlwdHx8KCJjb21wbGV0ZSIhPT1kb2N1bWVudC5yZWFkeVN0YXRlP2RvY3VtZW50LnNjcmlwdHNbZG9jdW1lbnQuc2NyaXB0cy5sZW5ndGgtMV06bnVsbCk7cmV0dXJuIG4oYSl9LGNvbmZpZ3VyYWJsZTohMH07T2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LCJfY3VycmVudFNjcmlwdCIscCksT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIl9jdXJyZW50U2NyaXB0IixwKTt2YXIgcT1pc0lFPyJjb21wbGV0ZSI6ImludGVyYWN0aXZlIixyPSJyZWFkeXN0YXRlY2hhbmdlIjtsJiYobmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9MCxkPWEubGVuZ3RoO2Q+YyYmKGI9YVtjXSk7YysrKWIuYWRkZWROb2RlcyYmaChiLmFkZGVkTm9kZXMpfSkub2JzZXJ2ZShkb2N1bWVudC5oZWFkLHtjaGlsZExpc3Q6ITB9KSxmdW5jdGlvbigpe2lmKCJsb2FkaW5nIj09PWRvY3VtZW50LnJlYWR5U3RhdGUpZm9yKHZhciBhLGI9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgibGlua1tyZWw9aW1wb3J0XSIpLGM9MCxkPWIubGVuZ3RoO2Q+YyYmKGE9YltjXSk7YysrKWooYSl9KCkpLGIoZnVuY3Rpb24oKXtIVE1MSW1wb3J0cy5yZWFkeT0hMCxIVE1MSW1wb3J0cy5yZWFkeVRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksby5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgiSFRNTEltcG9ydHNMb2FkZWQiLHtidWJibGVzOiEwfSkpfSksYS51c2VOYXRpdmU9bCxhLmlzSW1wb3J0TG9hZGVkPWcsYS53aGVuUmVhZHk9YixhLmlzSUU9aXNJRSxhLndoZW5JbXBvcnRzUmVhZHk9Yn0od2luZG93LkhUTUxJbXBvcnRzKSxmdW5jdGlvbihhKXt2YXIgYj0oYS5wYXRoLGEueGhyKSxjPWEuZmxhZ3MsZD1mdW5jdGlvbihhLGIpe3RoaXMuY2FjaGU9e30sdGhpcy5vbmxvYWQ9YSx0aGlzLm9uY29tcGxldGU9Yix0aGlzLmluZmxpZ2h0PTAsdGhpcy5wZW5kaW5nPXt9fTtkLnByb3RvdHlwZT17YWRkTm9kZXM6ZnVuY3Rpb24oYSl7dGhpcy5pbmZsaWdodCs9YS5sZW5ndGg7Zm9yKHZhciBiLGM9MCxkPWEubGVuZ3RoO2Q+YyYmKGI9YVtjXSk7YysrKXRoaXMucmVxdWlyZShiKTt0aGlzLmNoZWNrRG9uZSgpfSxhZGROb2RlOmZ1bmN0aW9uKGEpe3RoaXMuaW5mbGlnaHQrKyx0aGlzLnJlcXVpcmUoYSksdGhpcy5jaGVja0RvbmUoKX0scmVxdWlyZTpmdW5jdGlvbihhKXt2YXIgYj1hLnNyY3x8YS5ocmVmO2EuX19ub2RlVXJsPWIsdGhpcy5kZWR1cGUoYixhKXx8dGhpcy5mZXRjaChiLGEpfSxkZWR1cGU6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLnBlbmRpbmdbYV0pcmV0dXJuIHRoaXMucGVuZGluZ1thXS5wdXNoKGIpLCEwO3JldHVybiB0aGlzLmNhY2hlW2FdPyh0aGlzLm9ubG9hZChhLGIsdGhpcy5jYWNoZVthXSksdGhpcy50YWlsKCksITApOih0aGlzLnBlbmRpbmdbYV09W2JdLCExKX0sZmV0Y2g6ZnVuY3Rpb24oYSxkKXtpZihjLmxvYWQmJmNvbnNvbGUubG9nKCJmZXRjaCIsYSxkKSxhLm1hdGNoKC9eZGF0YTovKSl7dmFyIGU9YS5zcGxpdCgiLCIpLGY9ZVswXSxnPWVbMV07Zz1mLmluZGV4T2YoIjtiYXNlNjQiKT4tMT9hdG9iKGcpOmRlY29kZVVSSUNvbXBvbmVudChnKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5yZWNlaXZlKGEsZCxudWxsLGcpfS5iaW5kKHRoaXMpLDApfWVsc2V7dmFyIGg9ZnVuY3Rpb24oYixjLGUpe3RoaXMucmVjZWl2ZShhLGQsYixjLGUpfS5iaW5kKHRoaXMpO2IubG9hZChhLGgpfX0scmVjZWl2ZTpmdW5jdGlvbihhLGIsYyxkLGUpe3RoaXMuY2FjaGVbYV09ZDtmb3IodmFyIGYsZz10aGlzLnBlbmRpbmdbYV0saD0wLGk9Zy5sZW5ndGg7aT5oJiYoZj1nW2hdKTtoKyspdGhpcy5vbmxvYWQoYSxmLGQsYyxlKSx0aGlzLnRhaWwoKTt0aGlzLnBlbmRpbmdbYV09bnVsbH0sdGFpbDpmdW5jdGlvbigpey0tdGhpcy5pbmZsaWdodCx0aGlzLmNoZWNrRG9uZSgpfSxjaGVja0RvbmU6ZnVuY3Rpb24oKXt0aGlzLmluZmxpZ2h0fHx0aGlzLm9uY29tcGxldGUoKX19LGI9Ynx8e2FzeW5jOiEwLG9rOmZ1bmN0aW9uKGEpe3JldHVybiBhLnN0YXR1cz49MjAwJiZhLnN0YXR1czwzMDB8fDMwND09PWEuc3RhdHVzfHwwPT09YS5zdGF0dXN9LGxvYWQ6ZnVuY3Rpb24oYyxkLGUpe3ZhciBmPW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4oYS5mbGFncy5kZWJ1Z3x8YS5mbGFncy5idXN0KSYmKGMrPSI/IitNYXRoLnJhbmRvbSgpKSxmLm9wZW4oIkdFVCIsYyxiLmFzeW5jKSxmLmFkZEV2ZW50TGlzdGVuZXIoInJlYWR5c3RhdGVjaGFuZ2UiLGZ1bmN0aW9uKCl7aWYoND09PWYucmVhZHlTdGF0ZSl7dmFyIGE9Zi5nZXRSZXNwb25zZUhlYWRlcigiTG9jYXRpb24iKSxjPW51bGw7aWYoYSl2YXIgYz0iLyI9PT1hLnN1YnN0cigwLDEpP2xvY2F0aW9uLm9yaWdpbithOmE7ZC5jYWxsKGUsIWIub2soZikmJmYsZi5yZXNwb25zZXx8Zi5yZXNwb25zZVRleHQsYyl9fSksZi5zZW5kKCksZn0sbG9hZERvY3VtZW50OmZ1bmN0aW9uKGEsYixjKXt0aGlzLmxvYWQoYSxiLGMpLnJlc3BvbnNlVHlwZT0iZG9jdW1lbnQifX0sYS54aHI9YixhLkxvYWRlcj1kfSh3aW5kb3cuSFRNTEltcG9ydHMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuImxpbmsiPT09YS5sb2NhbE5hbWUmJmEucmVsPT09Z31mdW5jdGlvbiBjKGEpe3ZhciBiPWQoYSk7cmV0dXJuImRhdGE6dGV4dC9qYXZhc2NyaXB0O2NoYXJzZXQ9dXRmLTgsIitlbmNvZGVVUklDb21wb25lbnQoYil9ZnVuY3Rpb24gZChhKXtyZXR1cm4gYS50ZXh0Q29udGVudCtlKGEpfWZ1bmN0aW9uIGUoYSl7dmFyIGI9YS5fX25vZGVVcmw7aWYoIWIpe2I9YS5vd25lckRvY3VtZW50LmJhc2VVUkk7dmFyIGM9IlsiK01hdGguZmxvb3IoMWUzKihNYXRoLnJhbmRvbSgpKzEpKSsiXSIsZD1hLnRleHRDb250ZW50Lm1hdGNoKC9Qb2x5bWVyXChbJyJdKFteJyJdKikvKTtjPWQmJmRbMV18fGMsYis9Ii8iK2MrIi5qcyJ9cmV0dXJuIlxuLy8jIHNvdXJjZVVSTD0iK2IrIlxuIn1mdW5jdGlvbiBmKGEpe3ZhciBiPWEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO3JldHVybiBiLnRleHRDb250ZW50PWEudGV4dENvbnRlbnQsbi5yZXNvbHZlVXJsc0luU3R5bGUoYiksYn12YXIgZz0iaW1wb3J0IixoPWEuZmxhZ3MsaT1hLmlzSUUsaj13aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChkb2N1bWVudCk6ZG9jdW1lbnQsaz17ZG9jdW1lbnRTZWxlY3RvcnM6ImxpbmtbcmVsPSIrZysiXSIsaW1wb3J0c1NlbGVjdG9yczpbImxpbmtbcmVsPSIrZysiXSIsImxpbmtbcmVsPXN0eWxlc2hlZXRdIiwic3R5bGUiLCJzY3JpcHQ6bm90KFt0eXBlXSkiLCdzY3JpcHRbdHlwZT0idGV4dC9qYXZhc2NyaXB0Il0nXS5qb2luKCIsIiksbWFwOntsaW5rOiJwYXJzZUxpbmsiLHNjcmlwdDoicGFyc2VTY3JpcHQiLHN0eWxlOiJwYXJzZVN0eWxlIn0scGFyc2VOZXh0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5uZXh0VG9QYXJzZSgpO2EmJnRoaXMucGFyc2UoYSl9LHBhcnNlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuaXNQYXJzZWQoYSkpcmV0dXJuIHZvaWQoaC5wYXJzZSYmY29uc29sZS5sb2coIlslc10gaXMgYWxyZWFkeSBwYXJzZWQiLGEubG9jYWxOYW1lKSk7dmFyIGI9dGhpc1t0aGlzLm1hcFthLmxvY2FsTmFtZV1dO2ImJih0aGlzLm1hcmtQYXJzaW5nKGEpLGIuY2FsbCh0aGlzLGEpKX0sbWFya1BhcnNpbmc6ZnVuY3Rpb24oYSl7aC5wYXJzZSYmY29uc29sZS5sb2coInBhcnNpbmciLGEpLHRoaXMucGFyc2luZ0VsZW1lbnQ9YX0sbWFya1BhcnNpbmdDb21wbGV0ZTpmdW5jdGlvbihhKXthLl9faW1wb3J0UGFyc2VkPSEwLGEuX19pbXBvcnRFbGVtZW50JiYoYS5fX2ltcG9ydEVsZW1lbnQuX19pbXBvcnRQYXJzZWQ9ITApLHRoaXMucGFyc2luZ0VsZW1lbnQ9bnVsbCxoLnBhcnNlJiZjb25zb2xlLmxvZygiY29tcGxldGVkIixhKX0saW52YWxpZGF0ZVBhcnNlOmZ1bmN0aW9uKGEpe2EmJmEuX19pbXBvcnRMaW5rJiYoYS5fX2ltcG9ydFBhcnNlZD1hLl9faW1wb3J0TGluay5fX2ltcG9ydFBhcnNlZD0hMSx0aGlzLnBhcnNlU29vbigpKX0scGFyc2VTb29uOmZ1bmN0aW9uKCl7dGhpcy5fcGFyc2VTb29uJiZjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9wYXJzZURlbGF5KTt2YXIgYT10aGlzO3RoaXMuX3BhcnNlU29vbj1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXthLnBhcnNlTmV4dCgpfSl9LHBhcnNlSW1wb3J0OmZ1bmN0aW9uKGEpe2lmKEhUTUxJbXBvcnRzLl9faW1wb3J0c1BhcnNpbmdIb29rJiZIVE1MSW1wb3J0cy5fX2ltcG9ydHNQYXJzaW5nSG9vayhhKSxhLmltcG9ydCYmKGEuaW1wb3J0Ll9faW1wb3J0UGFyc2VkPSEwKSx0aGlzLm1hcmtQYXJzaW5nQ29tcGxldGUoYSksYS5kaXNwYXRjaEV2ZW50KGEuX19yZXNvdXJjZSYmIWEuX19lcnJvcj9uZXcgQ3VzdG9tRXZlbnQoImxvYWQiLHtidWJibGVzOiExfSk6bmV3IEN1c3RvbUV2ZW50KCJlcnJvciIse2J1YmJsZXM6ITF9KSksYS5fX3BlbmRpbmcpZm9yKHZhciBiO2EuX19wZW5kaW5nLmxlbmd0aDspYj1hLl9fcGVuZGluZy5zaGlmdCgpLGImJmIoe3RhcmdldDphfSk7dGhpcy5wYXJzZU5leHQoKX0scGFyc2VMaW5rOmZ1bmN0aW9uKGEpe2IoYSk/dGhpcy5wYXJzZUltcG9ydChhKTooYS5ocmVmPWEuaHJlZix0aGlzLnBhcnNlR2VuZXJpYyhhKSl9LHBhcnNlU3R5bGU6ZnVuY3Rpb24oYSl7dmFyIGI9YTthPWYoYSksYS5fX2ltcG9ydEVsZW1lbnQ9Yix0aGlzLnBhcnNlR2VuZXJpYyhhKX0scGFyc2VHZW5lcmljOmZ1bmN0aW9uKGEpe3RoaXMudHJhY2tFbGVtZW50KGEpLHRoaXMuYWRkRWxlbWVudFRvRG9jdW1lbnQoYSl9LHJvb3RJbXBvcnRGb3JFbGVtZW50OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hO2Iub3duZXJEb2N1bWVudC5fX2ltcG9ydExpbms7KWI9Yi5vd25lckRvY3VtZW50Ll9faW1wb3J0TGluaztyZXR1cm4gYn0sYWRkRWxlbWVudFRvRG9jdW1lbnQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMucm9vdEltcG9ydEZvckVsZW1lbnQoYS5fX2ltcG9ydEVsZW1lbnR8fGEpLGM9Yi5fX2luc2VydGVkRWxlbWVudHM9Yi5fX2luc2VydGVkRWxlbWVudHN8fDAsZD1iLm5leHRFbGVtZW50U2libGluZyxlPTA7Yz5lO2UrKylkPWQmJmQubmV4dEVsZW1lbnRTaWJsaW5nO2IucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSxkKX0sdHJhY2tFbGVtZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWZ1bmN0aW9uKGQpe2ImJmIoZCksYy5tYXJrUGFyc2luZ0NvbXBsZXRlKGEpLGMucGFyc2VOZXh0KCl9O2lmKGEuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsZCksYS5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsZCksaSYmInN0eWxlIj09PWEubG9jYWxOYW1lKXt2YXIgZT0hMTtpZigtMT09YS50ZXh0Q29udGVudC5pbmRleE9mKCJAaW1wb3J0IikpZT0hMDtlbHNlIGlmKGEuc2hlZXQpe2U9ITA7Zm9yKHZhciBmLGc9YS5zaGVldC5jc3NSdWxlcyxoPWc/Zy5sZW5ndGg6MCxqPTA7aD5qJiYoZj1nW2pdKTtqKyspZi50eXBlPT09Q1NTUnVsZS5JTVBPUlRfUlVMRSYmKGU9ZSYmQm9vbGVhbihmLnN0eWxlU2hlZXQpKX1lJiZhLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJsb2FkIix7YnViYmxlczohMX0pKX19LHBhcnNlU2NyaXB0OmZ1bmN0aW9uKGIpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2QuX19pbXBvcnRFbGVtZW50PWIsZC5zcmM9Yi5zcmM/Yi5zcmM6YyhiKSxhLmN1cnJlbnRTY3JpcHQ9Yix0aGlzLnRyYWNrRWxlbWVudChkLGZ1bmN0aW9uKCl7ZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpLGEuY3VycmVudFNjcmlwdD1udWxsfSksdGhpcy5hZGRFbGVtZW50VG9Eb2N1bWVudChkKX0sbmV4dFRvUGFyc2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWF5UGFyc2U9W10sIXRoaXMucGFyc2luZ0VsZW1lbnQmJnRoaXMubmV4dFRvUGFyc2VJbkRvYyhqKX0sbmV4dFRvUGFyc2VJbkRvYzpmdW5jdGlvbihhLGMpe2lmKGEmJnRoaXMuX21heVBhcnNlLmluZGV4T2YoYSk8MCl7dGhpcy5fbWF5UGFyc2UucHVzaChhKTtmb3IodmFyIGQsZT1hLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5wYXJzZVNlbGVjdG9yc0Zvck5vZGUoYSkpLGY9MCxnPWUubGVuZ3RoO2c+ZiYmKGQ9ZVtmXSk7ZisrKWlmKCF0aGlzLmlzUGFyc2VkKGQpKXJldHVybiB0aGlzLmhhc1Jlc291cmNlKGQpP2IoZCk/dGhpcy5uZXh0VG9QYXJzZUluRG9jKGQuaW1wb3J0LGQpOmQ6dm9pZCAwfXJldHVybiBjfSxwYXJzZVNlbGVjdG9yc0Zvck5vZGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vd25lckRvY3VtZW50fHxhO3JldHVybiBiPT09aj90aGlzLmRvY3VtZW50U2VsZWN0b3JzOnRoaXMuaW1wb3J0c1NlbGVjdG9yc30saXNQYXJzZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuX19pbXBvcnRQYXJzZWR9LGhhc1Jlc291cmNlOmZ1bmN0aW9uKGEpe3JldHVybiBiKGEpJiZ2b2lkIDA9PT1hLmltcG9ydD8hMTohMH19LGw9Lyh1cmxcKCkoW14pXSopKFwpKS9nLG09LyhAaW1wb3J0W1xzXSsoPyF1cmxcKCkpKFteO10qKSg7KS9nLG49e3Jlc29sdmVVcmxzSW5TdHlsZTpmdW5jdGlvbihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQsYz1iLmNyZWF0ZUVsZW1lbnQoImEiKTtyZXR1cm4gYS50ZXh0Q29udGVudD10aGlzLnJlc29sdmVVcmxzSW5Dc3NUZXh0KGEudGV4dENvbnRlbnQsYyksYX0scmVzb2x2ZVVybHNJbkNzc1RleHQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnJlcGxhY2VVcmxzKGEsYixsKTtyZXR1cm4gYz10aGlzLnJlcGxhY2VVcmxzKGMsYixtKX0scmVwbGFjZVVybHM6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhLnJlcGxhY2UoYyxmdW5jdGlvbihhLGMsZCxlKXt2YXIgZj1kLnJlcGxhY2UoL1siJ10vZywiIik7cmV0dXJuIGIuaHJlZj1mLGY9Yi5ocmVmLGMrIiciK2YrIiciK2V9KX19O2EucGFyc2VyPWssYS5wYXRoPW59KEhUTUxJbXBvcnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBjKGEsZyl9ZnVuY3Rpb24gYyhhLGIpe3JldHVybiJsaW5rIj09PWEubG9jYWxOYW1lJiZhLmdldEF0dHJpYnV0ZSgicmVsIik9PT1ifWZ1bmN0aW9uIGQoYSxiKXt2YXIgYz1hO2MgaW5zdGFuY2VvZiBEb2N1bWVudHx8KGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KGcpKSxjLl9VUkw9Yjt2YXIgZD1jLmNyZWF0ZUVsZW1lbnQoImJhc2UiKTtkLnNldEF0dHJpYnV0ZSgiaHJlZiIsYiksYy5iYXNlVVJJfHwoYy5iYXNlVVJJPWIpO3ZhciBlPWMuY3JlYXRlRWxlbWVudCgibWV0YSIpO3JldHVybiBlLnNldEF0dHJpYnV0ZSgiY2hhcnNldCIsInV0Zi04IiksYy5oZWFkLmFwcGVuZENoaWxkKGUpLGMuaGVhZC5hcHBlbmRDaGlsZChkKSxhIGluc3RhbmNlb2YgRG9jdW1lbnR8fChjLmJvZHkuaW5uZXJIVE1MPWEpLHdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50JiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcCYmSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXAoYyksY312YXIgZT1hLnVzZU5hdGl2ZSxmPWEuZmxhZ3MsZz0iaW1wb3J0IixoPXdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD9TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoZG9jdW1lbnQpOmRvY3VtZW50O2lmKGUpdmFyIGk9e307ZWxzZXt2YXIgaj0oYS54aHIsYS5Mb2FkZXIpLGs9YS5wYXJzZXIsaT17ZG9jdW1lbnRzOnt9LGRvY3VtZW50UHJlbG9hZFNlbGVjdG9yczoibGlua1tyZWw9IitnKyJdIixpbXBvcnRzUHJlbG9hZFNlbGVjdG9yczpbImxpbmtbcmVsPSIrZysiXSJdLmpvaW4oIiwiKSxsb2FkTm9kZTpmdW5jdGlvbihhKXtsLmFkZE5vZGUoYSl9LGxvYWRTdWJ0cmVlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubWFyc2hhbE5vZGVzKGEpO2wuYWRkTm9kZXMoYil9LG1hcnNoYWxOb2RlczpmdW5jdGlvbihhKXtyZXR1cm4gYS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMubG9hZFNlbGVjdG9yc0Zvck5vZGUoYSkpfSxsb2FkU2VsZWN0b3JzRm9yTm9kZTpmdW5jdGlvbihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnR8fGE7cmV0dXJuIGI9PT1oP3RoaXMuZG9jdW1lbnRQcmVsb2FkU2VsZWN0b3JzOnRoaXMuaW1wb3J0c1ByZWxvYWRTZWxlY3RvcnN9LGxvYWRlZDpmdW5jdGlvbihhLGMsZSxnLGgpe2lmKGYubG9hZCYmY29uc29sZS5sb2coImxvYWRlZCIsYSxjKSxjLl9fcmVzb3VyY2U9ZSxjLl9fZXJyb3I9ZyxiKGMpKXt2YXIgaT10aGlzLmRvY3VtZW50c1thXTt2b2lkIDA9PT1pJiYoaT1nP251bGw6ZChlLGh8fGEpLGkmJihpLl9faW1wb3J0TGluaz1jLHRoaXMuYm9vdERvY3VtZW50KGkpKSx0aGlzLmRvY3VtZW50c1thXT1pKSxjLmltcG9ydD1pfWsucGFyc2VOZXh0KCl9LGJvb3REb2N1bWVudDpmdW5jdGlvbihhKXt0aGlzLmxvYWRTdWJ0cmVlKGEpLHRoaXMub2JzZXJ2ZShhKSxrLnBhcnNlTmV4dCgpfSxsb2FkZWRBbGw6ZnVuY3Rpb24oKXtrLnBhcnNlTmV4dCgpfX0sbD1uZXcgaihpLmxvYWRlZC5iaW5kKGkpLGkubG9hZGVkQWxsLmJpbmQoaSkpO2lmKCFkb2N1bWVudC5iYXNlVVJJKXt2YXIgbT17Z2V0OmZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiYmFzZSIpO3JldHVybiBhP2EuaHJlZjp3aW5kb3cubG9jYXRpb24uaHJlZn0sY29uZmlndXJhYmxlOiEwfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsImJhc2VVUkkiLG0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLCJiYXNlVVJJIixtKX0iZnVuY3Rpb24iIT10eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50JiYod2luZG93LkN1c3RvbUV2ZW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkhUTUxFdmVudHMiKTtyZXR1cm4gYy5pbml0RXZlbnQoYSxiLmJ1YmJsZXM9PT0hMT8hMTohMCxiLmNhbmNlbGFibGU9PT0hMT8hMTohMCxiLmRldGFpbCksY30pfWEuaW1wb3J0ZXI9aSxhLklNUE9SVF9MSU5LX1RZUEU9ZyxhLmltcG9ydExvYWRlcj1sfSh3aW5kb3cuSFRNTEltcG9ydHMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7Zm9yKHZhciBiLGQ9MCxlPWEubGVuZ3RoO2U+ZCYmKGI9YVtkXSk7ZCsrKSJjaGlsZExpc3QiPT09Yi50eXBlJiZiLmFkZGVkTm9kZXMubGVuZ3RoJiZjKGIuYWRkZWROb2Rlcyl9ZnVuY3Rpb24gYyhhKXtmb3IodmFyIGIsZSxnPTAsaD1hLmxlbmd0aDtoPmcmJihlPWFbZ10pO2crKyliPWJ8fGUub3duZXJEb2N1bWVudCxkKGUpJiZmLmxvYWROb2RlKGUpLGUuY2hpbGRyZW4mJmUuY2hpbGRyZW4ubGVuZ3RoJiZjKGUuY2hpbGRyZW4pfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlJiZnLmNhbGwoYSxmLmxvYWRTZWxlY3RvcnNGb3JOb2RlKGEpKX1mdW5jdGlvbiBlKGEpe2gub2JzZXJ2ZShhLHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pfXZhciBmPShhLklNUE9SVF9MSU5LX1RZUEUsYS5pbXBvcnRlciksZz0oYS5wYXJzZXIsSFRNTEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXN8fEhUTUxFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzU2VsZWN0b3J8fEhUTUxFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fEhUTUxFbGVtZW50LnByb3RvdHlwZS5tb3pNYXRjaGVzU2VsZWN0b3J8fEhUTUxFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvciksaD1uZXcgTXV0YXRpb25PYnNlcnZlcihiKTthLm9ic2VydmU9ZSxmLm9ic2VydmU9ZX0oSFRNTEltcG9ydHMpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe0hUTUxJbXBvcnRzLmltcG9ydGVyLmJvb3REb2N1bWVudChiKX12YXIgYj13aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChkb2N1bWVudCk6ZG9jdW1lbnQ7SFRNTEltcG9ydHMudXNlTmF0aXZlfHwoImNvbXBsZXRlIj09PWRvY3VtZW50LnJlYWR5U3RhdGV8fCJpbnRlcmFjdGl2ZSI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiYhd2luZG93LmF0dGFjaEV2ZW50P2EoKTpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixhKSl9KCksd2luZG93LkN1c3RvbUVsZW1lbnRzPXdpbmRvdy5DdXN0b21FbGVtZW50c3x8e2ZsYWdzOnt9fSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYyxkKXt2YXIgZT1hLmZpcnN0RWxlbWVudENoaWxkO2lmKCFlKWZvcihlPWEuZmlyc3RDaGlsZDtlJiZlLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWU9ZS5uZXh0U2libGluZztmb3IoO2U7KWMoZSxkKSE9PSEwJiZiKGUsYyxkKSxlPWUubmV4dEVsZW1lbnRTaWJsaW5nO3JldHVybiBudWxsfWZ1bmN0aW9uIGMoYSxiKXtmb3IodmFyIGM9YS5zaGFkb3dSb290O2M7KWQoYyxiKSxjPWMub2xkZXJTaGFkb3dSb290fWZ1bmN0aW9uIGQoYSxkKXtiKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGQoYSk/ITA6dm9pZCBjKGEsZCl9KSxjKGEsZCl9ZnVuY3Rpb24gZShhKXtyZXR1cm4gaChhKT8oaShhKSwhMCk6dm9pZCBsKGEpfWZ1bmN0aW9uIGYoYSl7ZChhLGZ1bmN0aW9uKGEpe3JldHVybiBlKGEpPyEwOnZvaWQgMH0pfWZ1bmN0aW9uIGcoYSl7cmV0dXJuIGUoYSl8fGYoYSl9ZnVuY3Rpb24gaChiKXtpZighYi5fX3VwZ3JhZGVkX18mJmIubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl7dmFyIGM9Yi5nZXRBdHRyaWJ1dGUoImlzIil8fGIubG9jYWxOYW1lLGQ9YS5yZWdpc3RyeVtjXTtpZihkKXJldHVybiBCLmRvbSYmY29uc29sZS5ncm91cCgidXBncmFkZToiLGIubG9jYWxOYW1lKSxhLnVwZ3JhZGUoYiksQi5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSwhMH19ZnVuY3Rpb24gaShhKXtsKGEpLHIoYSkmJmQoYSxmdW5jdGlvbihhKXtsKGEpfSl9ZnVuY3Rpb24gaihhKXtpZihHLnB1c2goYSksIUYpe0Y9ITA7dmFyIGI9d2luZG93LlBsYXRmb3JtJiZ3aW5kb3cuUGxhdGZvcm0uZW5kT2ZNaWNyb3Rhc2t8fHNldFRpbWVvdXQ7YihrKX19ZnVuY3Rpb24gaygpe0Y9ITE7Zm9yKHZhciBhLGI9RyxjPTAsZD1iLmxlbmd0aDtkPmMmJihhPWJbY10pO2MrKylhKCk7Rz1bXX1mdW5jdGlvbiBsKGEpe0Q/aihmdW5jdGlvbigpe20oYSl9KTptKGEpfWZ1bmN0aW9uIG0oYSl7KGEuYXR0YWNoZWRDYWxsYmFja3x8YS5kZXRhY2hlZENhbGxiYWNrfHxhLl9fdXBncmFkZWRfXyYmQi5kb20pJiYoQi5kb20mJmNvbnNvbGUuZ3JvdXAoImluc2VydGVkOiIsYS5sb2NhbE5hbWUpLHIoYSkmJihhLl9faW5zZXJ0ZWQ9KGEuX19pbnNlcnRlZHx8MCkrMSxhLl9faW5zZXJ0ZWQ8MSYmKGEuX19pbnNlcnRlZD0xKSxhLl9faW5zZXJ0ZWQ+MT9CLmRvbSYmY29uc29sZS53YXJuKCJpbnNlcnRlZDoiLGEubG9jYWxOYW1lLCJpbnNlcnQvcmVtb3ZlIGNvdW50OiIsYS5fX2luc2VydGVkKTphLmF0dGFjaGVkQ2FsbGJhY2smJihCLmRvbSYmY29uc29sZS5sb2coImluc2VydGVkOiIsYS5sb2NhbE5hbWUpLGEuYXR0YWNoZWRDYWxsYmFjaygpKSksQi5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSl9ZnVuY3Rpb24gbihhKXtvKGEpLGQoYSxmdW5jdGlvbihhKXtvKGEpfSl9ZnVuY3Rpb24gbyhhKXtEP2ooZnVuY3Rpb24oKXtwKGEpfSk6cChhKX1mdW5jdGlvbiBwKGEpeyhhLmF0dGFjaGVkQ2FsbGJhY2t8fGEuZGV0YWNoZWRDYWxsYmFja3x8YS5fX3VwZ3JhZGVkX18mJkIuZG9tKSYmKEIuZG9tJiZjb25zb2xlLmdyb3VwKCJyZW1vdmVkOiIsYS5sb2NhbE5hbWUpLHIoYSl8fChhLl9faW5zZXJ0ZWQ9KGEuX19pbnNlcnRlZHx8MCktMSxhLl9faW5zZXJ0ZWQ+MCYmKGEuX19pbnNlcnRlZD0wKSxhLl9faW5zZXJ0ZWQ8MD9CLmRvbSYmY29uc29sZS53YXJuKCJyZW1vdmVkOiIsYS5sb2NhbE5hbWUsImluc2VydC9yZW1vdmUgY291bnQ6IixhLl9faW5zZXJ0ZWQpOmEuZGV0YWNoZWRDYWxsYmFjayYmYS5kZXRhY2hlZENhbGxiYWNrKCkpLEIuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCkpfWZ1bmN0aW9uIHEoYSl7cmV0dXJuIHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD9TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoYSk6YX1mdW5jdGlvbiByKGEpe2Zvcih2YXIgYj1hLGM9cShkb2N1bWVudCk7Yjspe2lmKGI9PWMpcmV0dXJuITA7Yj1iLnBhcmVudE5vZGV8fGIuaG9zdH19ZnVuY3Rpb24gcyhhKXtpZihhLnNoYWRvd1Jvb3QmJiFhLnNoYWRvd1Jvb3QuX193YXRjaGVkKXtCLmRvbSYmY29uc29sZS5sb2coIndhdGNoaW5nIHNoYWRvdy1yb290IGZvcjogIixhLmxvY2FsTmFtZSk7Zm9yKHZhciBiPWEuc2hhZG93Um9vdDtiOyl0KGIpLGI9Yi5vbGRlclNoYWRvd1Jvb3R9fWZ1bmN0aW9uIHQoYSl7YS5fX3dhdGNoZWR8fCh3KGEpLGEuX193YXRjaGVkPSEwKX1mdW5jdGlvbiB1KGEpe2lmKEIuZG9tKXt2YXIgYj1hWzBdO2lmKGImJiJjaGlsZExpc3QiPT09Yi50eXBlJiZiLmFkZGVkTm9kZXMmJmIuYWRkZWROb2Rlcyl7Zm9yKHZhciBjPWIuYWRkZWROb2Rlc1swXTtjJiZjIT09ZG9jdW1lbnQmJiFjLmhvc3Q7KWM9Yy5wYXJlbnROb2RlO3ZhciBkPWMmJihjLlVSTHx8Yy5fVVJMfHxjLmhvc3QmJmMuaG9zdC5sb2NhbE5hbWUpfHwiIjtkPWQuc3BsaXQoIi8/Iikuc2hpZnQoKS5zcGxpdCgiLyIpLnBvcCgpfWNvbnNvbGUuZ3JvdXAoIm11dGF0aW9ucyAoJWQpIFslc10iLGEubGVuZ3RoLGR8fCIiKX1hLmZvckVhY2goZnVuY3Rpb24oYSl7ImNoaWxkTGlzdCI9PT1hLnR5cGUmJihJKGEuYWRkZWROb2RlcyxmdW5jdGlvbihhKXthLmxvY2FsTmFtZSYmZyhhKX0pLEkoYS5yZW1vdmVkTm9kZXMsZnVuY3Rpb24oYSl7YS5sb2NhbE5hbWUmJm4oYSl9KSl9KSxCLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIHYoKXt1KEgudGFrZVJlY29yZHMoKSksaygpfWZ1bmN0aW9uIHcoYSl7SC5vYnNlcnZlKGEse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSl9ZnVuY3Rpb24geChhKXt3KGEpfWZ1bmN0aW9uIHkoYSl7Qi5kb20mJmNvbnNvbGUuZ3JvdXAoInVwZ3JhZGVEb2N1bWVudDogIixhLmJhc2VVUkkuc3BsaXQoIi8iKS5wb3AoKSksZyhhKSxCLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIHooYSl7RT1bXSxBKGEpLEU9bnVsbH1mdW5jdGlvbiBBKGEpe2lmKGE9cShhKSwhKEUuaW5kZXhPZihhKT49MCkpe0UucHVzaChhKTtmb3IodmFyIGIsYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoImxpbmtbcmVsPSIrQysiXSIpLGQ9MCxlPWMubGVuZ3RoO2U+ZCYmKGI9Y1tkXSk7ZCsrKWIuaW1wb3J0JiZiLmltcG9ydC5fX3BhcnNlZCYmQShiLmltcG9ydCk7eShhKX19dmFyIEI9d2luZG93LmxvZ0ZsYWdzfHx7fSxDPXdpbmRvdy5IVE1MSW1wb3J0cz9IVE1MSW1wb3J0cy5JTVBPUlRfTElOS19UWVBFOiJub25lIixEPSF3aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXI9PT13aW5kb3cuSnNNdXRhdGlvbk9ic2VydmVyO2EuaGFzUG9seWZpbGxNdXRhdGlvbnM9RDt2YXIgRSxGPSExLEc9W10sSD1uZXcgTXV0YXRpb25PYnNlcnZlcih1KSxJPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCk7YS5JTVBPUlRfTElOS19UWVBFPUMsYS53YXRjaFNoYWRvdz1zLGEudXBncmFkZURvY3VtZW50VHJlZT16LGEudXBncmFkZUFsbD1nLGEudXBncmFkZVN1YnRyZWU9ZixhLmluc2VydGVkTm9kZT1pLGEub2JzZXJ2ZURvY3VtZW50PXgsYS51cGdyYWRlRG9jdW1lbnQ9eSxhLnRha2VSZWNvcmRzPXZ9KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiLGcpe3ZhciBoPWd8fHt9O2lmKCFiKXRocm93IG5ldyBFcnJvcigiZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50OiBmaXJzdCBhcmd1bWVudCBgbmFtZWAgbXVzdCBub3QgYmUgZW1wdHkiKTtpZihiLmluZGV4T2YoIi0iKTwwKXRocm93IG5ldyBFcnJvcigiZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50OiBmaXJzdCBhcmd1bWVudCAoJ25hbWUnKSBtdXN0IGNvbnRhaW4gYSBkYXNoICgnLScpLiBBcmd1bWVudCBwcm92aWRlZCB3YXMgJyIrU3RyaW5nKGIpKyInLiIpO2lmKGMoYikpdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gZXhlY3V0ZSAncmVnaXN0ZXJFbGVtZW50JyBvbiAnRG9jdW1lbnQnOiBSZWdpc3RyYXRpb24gZmFpbGVkIGZvciB0eXBlICciK1N0cmluZyhiKSsiJy4gVGhlIHR5cGUgbmFtZSBpcyBpbnZhbGlkLiIpO2lmKG4oYikpdGhyb3cgbmV3IEVycm9yKCJEdXBsaWNhdGVEZWZpbml0aW9uRXJyb3I6IGEgdHlwZSB3aXRoIG5hbWUgJyIrU3RyaW5nKGIpKyInIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCIpO2lmKCFoLnByb3RvdHlwZSl0aHJvdyBuZXcgRXJyb3IoIk9wdGlvbnMgbWlzc2luZyByZXF1aXJlZCBwcm90b3R5cGUgcHJvcGVydHkiKTtyZXR1cm4gaC5fX25hbWU9Yi50b0xvd2VyQ2FzZSgpLGgubGlmZWN5Y2xlPWgubGlmZWN5Y2xlfHx7fSxoLmFuY2VzdHJ5PWQoaC5leHRlbmRzKSxlKGgpLGYoaCksbChoLnByb3RvdHlwZSksbyhoLl9fbmFtZSxoKSxoLmN0b3I9cChoKSxoLmN0b3IucHJvdG90eXBlPWgucHJvdG90eXBlLGgucHJvdG90eXBlLmNvbnN0cnVjdG9yPWguY3RvcixhLnJlYWR5JiZhLnVwZ3JhZGVEb2N1bWVudFRyZWUoZG9jdW1lbnQpLGguY3Rvcn1mdW5jdGlvbiBjKGEpe2Zvcih2YXIgYj0wO2I8eS5sZW5ndGg7YisrKWlmKGE9PT15W2JdKXJldHVybiEwfWZ1bmN0aW9uIGQoYSl7dmFyIGI9bihhKTtyZXR1cm4gYj9kKGIuZXh0ZW5kcykuY29uY2F0KFtiXSk6W119ZnVuY3Rpb24gZShhKXtmb3IodmFyIGIsYz1hLmV4dGVuZHMsZD0wO2I9YS5hbmNlc3RyeVtkXTtkKyspYz1iLmlzJiZiLnRhZzthLnRhZz1jfHxhLl9fbmFtZSxjJiYoYS5pcz1hLl9fbmFtZSl9ZnVuY3Rpb24gZihhKXtpZighT2JqZWN0Ll9fcHJvdG9fXyl7dmFyIGI9SFRNTEVsZW1lbnQucHJvdG90eXBlO2lmKGEuaXMpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYS50YWcpLGQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKGMpO2Q9PT1hLnByb3RvdHlwZSYmKGI9ZCl9Zm9yKHZhciBlLGY9YS5wcm90b3R5cGU7ZiYmZiE9PWI7KWU9T2JqZWN0LmdldFByb3RvdHlwZU9mKGYpLGYuX19wcm90b19fPWUsZj1lO2EubmF0aXZlPWJ9fWZ1bmN0aW9uIGcoYSl7cmV0dXJuIGgoQihhLnRhZyksYSl9ZnVuY3Rpb24gaChiLGMpe3JldHVybiBjLmlzJiZiLnNldEF0dHJpYnV0ZSgiaXMiLGMuaXMpLGkoYixjKSxiLl9fdXBncmFkZWRfXz0hMCxrKGIpLGEuaW5zZXJ0ZWROb2RlKGIpLGEudXBncmFkZVN1YnRyZWUoYiksYn1mdW5jdGlvbiBpKGEsYil7T2JqZWN0Ll9fcHJvdG9fXz9hLl9fcHJvdG9fXz1iLnByb3RvdHlwZTooaihhLGIucHJvdG90eXBlLGIubmF0aXZlKSxhLl9fcHJvdG9fXz1iLnByb3RvdHlwZSl9ZnVuY3Rpb24gaihhLGIsYyl7Zm9yKHZhciBkPXt9LGU9YjtlIT09YyYmZSE9PUhUTUxFbGVtZW50LnByb3RvdHlwZTspe2Zvcih2YXIgZixnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLGg9MDtmPWdbaF07aCsrKWRbZl18fChPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxmLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxmKSksZFtmXT0xKTtlPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKX19ZnVuY3Rpb24gayhhKXthLmNyZWF0ZWRDYWxsYmFjayYmYS5jcmVhdGVkQ2FsbGJhY2soKX1mdW5jdGlvbiBsKGEpe2lmKCFhLnNldEF0dHJpYnV0ZS5fcG9seWZpbGxlZCl7dmFyIGI9YS5zZXRBdHRyaWJ1dGU7YS5zZXRBdHRyaWJ1dGU9ZnVuY3Rpb24oYSxjKXttLmNhbGwodGhpcyxhLGMsYil9O3ZhciBjPWEucmVtb3ZlQXR0cmlidXRlO2EucmVtb3ZlQXR0cmlidXRlPWZ1bmN0aW9uKGEpe20uY2FsbCh0aGlzLGEsbnVsbCxjKX0sYS5zZXRBdHRyaWJ1dGUuX3BvbHlmaWxsZWQ9ITB9fWZ1bmN0aW9uIG0oYSxiLGMpe2E9YS50b0xvd2VyQ2FzZSgpO3ZhciBkPXRoaXMuZ2V0QXR0cmlidXRlKGEpO2MuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBlPXRoaXMuZ2V0QXR0cmlidXRlKGEpO3RoaXMuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrJiZlIT09ZCYmdGhpcy5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soYSxkLGUpfWZ1bmN0aW9uIG4oYSl7cmV0dXJuIGE/elthLnRvTG93ZXJDYXNlKCldOnZvaWQgMH1mdW5jdGlvbiBvKGEsYil7elthXT1ifWZ1bmN0aW9uIHAoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGcoYSl9fWZ1bmN0aW9uIHEoYSxiLGMpe3JldHVybiBhPT09QT9yKGIsYyk6QyhhLGIpfWZ1bmN0aW9uIHIoYSxiKXt2YXIgYz1uKGJ8fGEpO2lmKGMpe2lmKGE9PWMudGFnJiZiPT1jLmlzKXJldHVybiBuZXcgYy5jdG9yO2lmKCFiJiYhYy5pcylyZXR1cm4gbmV3IGMuY3Rvcn1pZihiKXt2YXIgZD1yKGEpO3JldHVybiBkLnNldEF0dHJpYnV0ZSgiaXMiLGIpLGR9dmFyIGQ9QihhKTtyZXR1cm4gYS5pbmRleE9mKCItIik+PTAmJmkoZCxIVE1MRWxlbWVudCksZH1mdW5jdGlvbiBzKGEpe2lmKCFhLl9fdXBncmFkZWRfXyYmYS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFKXt2YXIgYj1hLmdldEF0dHJpYnV0ZSgiaXMiKSxjPW4oYnx8YS5sb2NhbE5hbWUpO2lmKGMpe2lmKGImJmMudGFnPT1hLmxvY2FsTmFtZSlyZXR1cm4gaChhLGMpO2lmKCFiJiYhYy5leHRlbmRzKXJldHVybiBoKGEsYyl9fX1mdW5jdGlvbiB0KGIpe3ZhciBjPUQuY2FsbCh0aGlzLGIpO3JldHVybiBhLnVwZ3JhZGVBbGwoYyksY31hfHwoYT13aW5kb3cuQ3VzdG9tRWxlbWVudHM9e2ZsYWdzOnt9fSk7dmFyIHU9YS5mbGFncyx2PUJvb2xlYW4oZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50KSx3PSF1LnJlZ2lzdGVyJiZ2JiYhd2luZG93LlNoYWRvd0RPTVBvbHlmaWxsJiYoIXdpbmRvdy5IVE1MSW1wb3J0c3x8SFRNTEltcG9ydHMudXNlTmF0aXZlKTtpZih3KXt2YXIgeD1mdW5jdGlvbigpe307YS5yZWdpc3RyeT17fSxhLnVwZ3JhZGVFbGVtZW50PXgsYS53YXRjaFNoYWRvdz14LGEudXBncmFkZT14LGEudXBncmFkZUFsbD14LGEudXBncmFkZVN1YnRyZWU9eCxhLm9ic2VydmVEb2N1bWVudD14LGEudXBncmFkZURvY3VtZW50PXgsYS51cGdyYWRlRG9jdW1lbnRUcmVlPXgsYS50YWtlUmVjb3Jkcz14LGEucmVzZXJ2ZWRUYWdMaXN0PVtdfWVsc2V7dmFyIHk9WyJhbm5vdGF0aW9uLXhtbCIsImNvbG9yLXByb2ZpbGUiLCJmb250LWZhY2UiLCJmb250LWZhY2Utc3JjIiwiZm9udC1mYWNlLXVyaSIsImZvbnQtZmFjZS1mb3JtYXQiLCJmb250LWZhY2UtbmFtZSIsIm1pc3NpbmctZ2x5cGgiXSx6PXt9LEE9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLEI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5iaW5kKGRvY3VtZW50KSxDPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUy5iaW5kKGRvY3VtZW50KSxEPU5vZGUucHJvdG90eXBlLmNsb25lTm9kZTtkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ9Yixkb2N1bWVudC5jcmVhdGVFbGVtZW50PXIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TPXEsTm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlPXQsYS5yZWdpc3RyeT16LGEudXBncmFkZT1zfXZhciBFO0U9T2JqZWN0Ll9fcHJvdG9fX3x8dz9mdW5jdGlvbihhLGIpe3JldHVybiBhIGluc3RhbmNlb2YgYn06ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9YTtjOyl7aWYoYz09PWIucHJvdG90eXBlKXJldHVybiEwO2M9Yy5fX3Byb3RvX199cmV0dXJuITF9LGEuaW5zdGFuY2VvZj1FLGEucmVzZXJ2ZWRUYWdMaXN0PXksZG9jdW1lbnQucmVnaXN0ZXI9ZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50LGEuaGFzTmF0aXZlPXYsYS51c2VOYXRpdmU9d30od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiJsaW5rIj09PWEubG9jYWxOYW1lJiZhLmdldEF0dHJpYnV0ZSgicmVsIik9PT1jfXZhciBjPWEuSU1QT1JUX0xJTktfVFlQRSxkPXtzZWxlY3RvcnM6WyJsaW5rW3JlbD0iK2MrIl0iXSxtYXA6e2xpbms6InBhcnNlTGluayJ9LHBhcnNlOmZ1bmN0aW9uKGEpe2lmKCFhLl9fcGFyc2VkKXthLl9fcGFyc2VkPSEwO3ZhciBiPWEucXVlcnlTZWxlY3RvckFsbChkLnNlbGVjdG9ycyk7ZShiLGZ1bmN0aW9uKGEpe2RbZC5tYXBbYS5sb2NhbE5hbWVdXShhKX0pLEN1c3RvbUVsZW1lbnRzLnVwZ3JhZGVEb2N1bWVudChhKSxDdXN0b21FbGVtZW50cy5vYnNlcnZlRG9jdW1lbnQoYSl9fSxwYXJzZUxpbms6ZnVuY3Rpb24oYSl7YihhKSYmdGhpcy5wYXJzZUltcG9ydChhKX0scGFyc2VJbXBvcnQ6ZnVuY3Rpb24oYSl7YS5pbXBvcnQmJmQucGFyc2UoYS5pbXBvcnQpfX0sZT1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpO2EucGFyc2VyPWQsYS5JTVBPUlRfTElOS19UWVBFPWN9KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe0N1c3RvbUVsZW1lbnRzLnBhcnNlci5wYXJzZShkb2N1bWVudCksQ3VzdG9tRWxlbWVudHMudXBncmFkZURvY3VtZW50KGRvY3VtZW50KSx3aW5kb3cuSFRNTEltcG9ydHMmJihIVE1MSW1wb3J0cy5fX2ltcG9ydHNQYXJzaW5nSG9vaz1mdW5jdGlvbihhKXtDdXN0b21FbGVtZW50cy5wYXJzZXIucGFyc2UoYS5pbXBvcnQpfSksQ3VzdG9tRWxlbWVudHMucmVhZHk9ITAsc2V0VGltZW91dChmdW5jdGlvbigpe0N1c3RvbUVsZW1lbnRzLnJlYWR5VGltZT1EYXRlLm5vdygpLHdpbmRvdy5IVE1MSW1wb3J0cyYmKEN1c3RvbUVsZW1lbnRzLmVsYXBzZWQ9Q3VzdG9tRWxlbWVudHMucmVhZHlUaW1lLUhUTUxJbXBvcnRzLnJlYWR5VGltZSksZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoIldlYkNvbXBvbmVudHNSZWFkeSIse2J1YmJsZXM6ITB9KSl9KX1pZigiZnVuY3Rpb24iIT10eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50JiYod2luZG93LkN1c3RvbUV2ZW50PWZ1bmN0aW9uKGEsYil7Yj1ifHx7fTt2YXIgYz1kb2N1bWVudC5jcmVhdGVFdmVudCgiQ3VzdG9tRXZlbnQiKTtyZXR1cm4gYy5pbml0Q3VzdG9tRXZlbnQoYSxCb29sZWFuKGIuYnViYmxlcyksQm9vbGVhbihiLmNhbmNlbGFibGUpLGIuZGV0YWlsKSxjfSx3aW5kb3cuQ3VzdG9tRXZlbnQucHJvdG90eXBlPXdpbmRvdy5FdmVudC5wcm90b3R5cGUpLCJjb21wbGV0ZSI9PT1kb2N1bWVudC5yZWFkeVN0YXRlfHxhLmZsYWdzLmVhZ2VyKWIoKTtlbHNlIGlmKCJpbnRlcmFjdGl2ZSIhPT1kb2N1bWVudC5yZWFkeVN0YXRlfHx3aW5kb3cuYXR0YWNoRXZlbnR8fHdpbmRvdy5IVE1MSW1wb3J0cyYmIXdpbmRvdy5IVE1MSW1wb3J0cy5yZWFkeSl7dmFyIGM9d2luZG93LkhUTUxJbXBvcnRzJiYhSFRNTEltcG9ydHMucmVhZHk/IkhUTUxJbXBvcnRzTG9hZGVkIjoiRE9NQ29udGVudExvYWRlZCI7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoYyxiKX1lbHNlIGIoKX0od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbigpe2lmKHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCl7dmFyIGE9WyJ1cGdyYWRlQWxsIiwidXBncmFkZVN1YnRyZWUiLCJvYnNlcnZlRG9jdW1lbnQiLCJ1cGdyYWRlRG9jdW1lbnQiXSxiPXt9O2EuZm9yRWFjaChmdW5jdGlvbihhKXtiW2FdPUN1c3RvbUVsZW1lbnRzW2FdfSksYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe0N1c3RvbUVsZW1lbnRzW2FdPWZ1bmN0aW9uKGMpe3JldHVybiBiW2FdKHdyYXAoYykpfX0pfX0oKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYigpe3dpbmRvdy5Qb2x5bWVyPT09ZSYmKHdpbmRvdy5Qb2x5bWVyPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCdZb3UgdHJpZWQgdG8gdXNlIHBvbHltZXIgd2l0aG91dCBsb2FkaW5nIGl0IGZpcnN0LiBUbyBsb2FkIHBvbHltZXIsIDxsaW5rIHJlbD0iaW1wb3J0IiBocmVmPSJjb21wb25lbnRzL3BvbHltZXIvcG9seW1lci5odG1sIj4nKX0pfWlmKCF3aW5kb3cucGVyZm9ybWFuY2Upe3ZhciBjPURhdGUubm93KCk7d2luZG93LnBlcmZvcm1hbmNlPXtub3c6ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3coKS1jfX19d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8KHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXt2YXIgYT13aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lO3JldHVybiBhP2Z1bmN0aW9uKGIpe3JldHVybiBhKGZ1bmN0aW9uKCl7YihwZXJmb3JtYW5jZS5ub3coKSl9KX06ZnVuY3Rpb24oYSl7cmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGEsMWUzLzYwKX19KCkpLHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZXx8KHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZT1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oYSl7Y2xlYXJUaW1lb3V0KGEpfX0oKSk7dmFyIGQ9W10sZT1mdW5jdGlvbihhKXsic3RyaW5nIiE9dHlwZW9mIGEmJjE9PT1hcmd1bWVudHMubGVuZ3RoJiZBcnJheS5wcm90b3R5cGUucHVzaC5jYWxsKGFyZ3VtZW50cyxkb2N1bWVudC5fY3VycmVudFNjcmlwdCksZC5wdXNoKGFyZ3VtZW50cykKfTt3aW5kb3cuUG9seW1lcj1lLGEuY29uc3VtZURlY2xhcmF0aW9ucz1mdW5jdGlvbihiKXthLmNvbnN1bWVEZWNsYXJhdGlvbnM9ZnVuY3Rpb24oKXt0aHJvdyJQb3NzaWJsZSBhdHRlbXB0IHRvIGxvYWQgUG9seW1lciB0d2ljZSJ9LGImJmIoZCksZD1udWxsfSxIVE1MSW1wb3J0cy51c2VOYXRpdmU/YigpOmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGIpfSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTthLnRleHRDb250ZW50PSJib2R5IHt0cmFuc2l0aW9uOiBvcGFjaXR5IGVhc2UtaW4gMC4yczsgfSBcbmJvZHlbdW5yZXNvbHZlZF0ge29wYWNpdHk6IDA7IGRpc3BsYXk6IGJsb2NrOyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7IH0gXG4iO3ZhciBiPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImhlYWQiKTtiLmluc2VydEJlZm9yZShhLGIuZmlyc3RDaGlsZCl9KFBsYXRmb3JtKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYil7cmV0dXJuIGI9Ynx8W10sYi5tYXB8fChiPVtiXSksYS5hcHBseSh0aGlzLGIubWFwKGQpKX1mdW5jdGlvbiBjKGEsYyxkKXt2YXIgZTtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybjtjYXNlIDE6ZT1udWxsO2JyZWFrO2Nhc2UgMjplPWMuYXBwbHkodGhpcyk7YnJlYWs7ZGVmYXVsdDplPWIoZCxjKX1mW2FdPWV9ZnVuY3Rpb24gZChhKXtyZXR1cm4gZlthXX1mdW5jdGlvbiBlKGEsYyl7SFRNTEltcG9ydHMud2hlbkltcG9ydHNSZWFkeShmdW5jdGlvbigpe2IoYyxhKX0pfXZhciBmPXt9O2EubWFyc2hhbD1kLGEubW9kdWxhcml6ZT1jLGEudXNpbmc9ZX0od2luZG93KTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGxhdGZvcm0uanMubWFw",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Sun, 09 Nov 2014 02:01:06 GMT",
                    "Content-Length": "129654",
                    "Date": "Sun, 09 Nov 2014 02:01:06 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
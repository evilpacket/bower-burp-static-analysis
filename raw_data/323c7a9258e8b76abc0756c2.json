{
    "url": "http://localhost:9999/marcorinck/jquery-mobile-iscrollview/demo/source/javascripts/jquery.mobile-1.1.2.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Open redirection (DOM-based)",
    "issueType": 5243152,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based open redirection vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this data into the target of a redirection in an unsafe way. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will cause a redirection to an arbitrary external domain. This behavior can be leveraged to facilitate phishing attacks against users of the application. The ability to use an authentic application URL, targeting the correct domain with a valid SSL certificate (if SSL is used) lends credibility to the phishing attack because many users, even if they verify these features, will not notice the subsequent redirection to a different domain.<br><br><b>Note:</b> If an attacker is able to control the start of the string that is passed to the redirection API, then it may be possible to escalate this vulnerability into a JavaScript injection attack, by using a URL with the javascript: pseudo-protocol to execute arbitrary script code when the URL is processed by the browser.",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based open redirection vulnerabilities is not to dynamically set redirection targets using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a redirection target. In general, this is best achieved by using a whitelist of URLs that are permitted redirection targets, and strictly validating the target against this list before performing the redirection.",
    "issueDetail": "The application may be vulnerable to DOM-based open redirection. Data is read from <b>location.href</b> and written to <b>location.href</b> via the following statement:<ul><li>location.href=location.href.replace(/#.*/,\"\")+j;</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/marcorinck/jquery-mobile-iscrollview/demo/source/javascripts/jquery.mobile-1.1.2.min.js",
                "path": "/marcorinck/jquery-mobile-iscrollview/demo/source/javascripts/jquery.mobile-1.1.2.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9tYXJjb3JpbmNrL2pxdWVyeS1tb2JpbGUtaXNjcm9sbHZpZXcvZGVtby9zb3VyY2UvamF2YXNjcmlwdHMvanF1ZXJ5Lm1vYmlsZS0xLjEuMi5taW4uanMgSFRUUC8xLjENCkhvc3Q6IGxvY2FsaG9zdDo5OTk5DQoNCg==",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogOTU1MTMNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQNCkRhdGU6IEZyaSwgMDcgTm92IDIwMTQgMDY6NDk6NDMgR01UDQpMYXN0LU1vZGlmaWVkOiBGcmksIDA3IE5vdiAyMDE0IDA2OjQ5OjQzIEdNVA0KDQovKiEgalF1ZXJ5IE1vYmlsZSB2MS4xLjIgOWExNWYxYWFmOTlmYWE3OTEzMTAzZjVlYTE5ZWY2OTU5YjczZDc2MyBqcXVlcnltb2JpbGUuY29tIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovCihmdW5jdGlvbihsLHMsayl7dHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQ/ZGVmaW5lKFsianF1ZXJ5Il0sZnVuY3Rpb24oQyl7ayhDLGwscyk7cmV0dXJuIEMubW9iaWxlfSk6ayhsLmpRdWVyeSxsLHMpfSkodGhpcyxkb2N1bWVudCxmdW5jdGlvbihsLHMsayxDKXsoZnVuY3Rpb24oYSxjLGIsZCl7ZnVuY3Rpb24gZShhKXtmb3IoO2EmJnR5cGVvZiBhLm9yaWdpbmFsRXZlbnQhPT0idW5kZWZpbmVkIjspYT1hLm9yaWdpbmFsRXZlbnQ7cmV0dXJuIGF9ZnVuY3Rpb24gZihiKXtmb3IodmFyIGU9e30sZyxjO2I7KXtnPWEuZGF0YShiLHQpO2ZvcihjIGluIGcpaWYoZ1tjXSllW2NdPWUuaGFzVmlydHVhbEJpbmRpbmc9dHJ1ZTtiPWIucGFyZW50Tm9kZX1yZXR1cm4gZX1mdW5jdGlvbiBnKCl7eiYmKGNsZWFyVGltZW91dCh6KSx6PTApO3o9c2V0VGltZW91dChmdW5jdGlvbigpe0c9ej0wO0IubGVuZ3RoPTA7RD1mYWxzZTtIPXRydWV9LGEudm1vdXNlLnJlc2V0VGltZXJEdXJhdGlvbil9CmZ1bmN0aW9uIGgoYixnLGMpe3ZhciBqLGg7aWYoIShoPWMmJmNbYl0pKXtpZihjPSFjKWE6e2ZvcihjPWcudGFyZ2V0O2M7KXtpZigoaD1hLmRhdGEoYyx0KSkmJighYnx8aFtiXSkpYnJlYWsgYTtjPWMucGFyZW50Tm9kZX1jPW51bGx9aD1jfWlmKGgpe2o9Zzt2YXIgYz1qLnR5cGUsZixEO2o9YS5FdmVudChqKTtqLnR5cGU9YjtoPWoub3JpZ2luYWxFdmVudDtmPWEuZXZlbnQucHJvcHM7Yy5zZWFyY2goL14obW91c2V8Y2xpY2spLyk+LTEmJihmPXUpO2lmKGgpZm9yKEQ9Zi5sZW5ndGg7RDspYj1mWy0tRF0saltiXT1oW2JdO2lmKGMuc2VhcmNoKC9tb3VzZShkb3dufHVwKXxjbGljay8pPi0xJiYhai53aGljaClqLndoaWNoPTE7aWYoYy5zZWFyY2goL150b3VjaC8pIT09LTEmJihiPWUoaCksYz1iLnRvdWNoZXMsYj1iLmNoYW5nZWRUb3VjaGVzLGM9YyYmYy5sZW5ndGg/Y1swXTpiJiZiLmxlbmd0aD9iWzBdOmQpKWZvcihoPTAsbGVuPXgubGVuZ3RoO2g8bGVuO2grKyliPXhbaF0sCmpbYl09Y1tiXTthKGcudGFyZ2V0KS50cmlnZ2VyKGopfXJldHVybiBqfWZ1bmN0aW9uIGooYil7dmFyIGU9YS5kYXRhKGIudGFyZ2V0LHYpO2lmKCFEJiYoIUd8fEchPT1lKSlpZihlPWgoInYiK2IudHlwZSxiKSllLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZiLnByZXZlbnREZWZhdWx0KCksZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZiLnN0b3BQcm9wYWdhdGlvbigpLGUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSYmYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX1mdW5jdGlvbiBxKGIpe3ZhciBjPWUoYikudG91Y2hlcyxnO2lmKGMmJmMubGVuZ3RoPT09MSYmKGc9Yi50YXJnZXQsYz1mKGcpLGMuaGFzVmlydHVhbEJpbmRpbmcpKUc9TisrLGEuZGF0YShnLHYsRykseiYmKGNsZWFyVGltZW91dCh6KSx6PTApLEE9SD1mYWxzZSxnPWUoYikudG91Y2hlc1swXSx5PWcucGFnZVgscz1nLnBhZ2VZLGgoInZtb3VzZW92ZXIiLGIsYyksaCgidm1vdXNlZG93biIsYixjKX0KZnVuY3Rpb24gcChhKXtIfHwoQXx8aCgidm1vdXNlY2FuY2VsIixhLGYoYS50YXJnZXQpKSxBPXRydWUsZygpKX1mdW5jdGlvbiBtKGIpe2lmKCFIKXt2YXIgYz1lKGIpLnRvdWNoZXNbMF0sZD1BLGo9YS52bW91c2UubW92ZURpc3RhbmNlVGhyZXNob2xkO0E9QXx8TWF0aC5hYnMoYy5wYWdlWC15KT5qfHxNYXRoLmFicyhjLnBhZ2VZLXMpPmo7ZmxhZ3M9ZihiLnRhcmdldCk7QSYmIWQmJmgoInZtb3VzZWNhbmNlbCIsYixmbGFncyk7aCgidm1vdXNlbW92ZSIsYixmbGFncyk7ZygpfX1mdW5jdGlvbiB3KGEpe2lmKCFIKXtIPXRydWU7dmFyIGI9ZihhLnRhcmdldCksYztoKCJ2bW91c2V1cCIsYSxiKTtpZighQSYmKGM9aCgidmNsaWNrIixhLGIpKSYmYy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSljPWUoYSkuY2hhbmdlZFRvdWNoZXNbMF0sQi5wdXNoKHt0b3VjaElEOkcseDpjLmNsaWVudFgseTpjLmNsaWVudFl9KSxEPXRydWU7aCgidm1vdXNlb3V0IixhLGIpO0E9ZmFsc2U7ZygpfX1mdW5jdGlvbiBuKGIpe3ZhciBiPQphLmRhdGEoYix0KSxlO2lmKGIpZm9yKGUgaW4gYilpZihiW2VdKXJldHVybiB0cnVlO3JldHVybiBmYWxzZX1mdW5jdGlvbiBrKCl7fWZ1bmN0aW9uIG8oYil7dmFyIGU9Yi5zdWJzdHIoMSk7cmV0dXJue3NldHVwOmZ1bmN0aW9uKCl7bih0aGlzKXx8YS5kYXRhKHRoaXMsdCx7fSk7YS5kYXRhKHRoaXMsdClbYl09dHJ1ZTtsW2JdPShsW2JdfHwwKSsxO2xbYl09PT0xJiZKLmJpbmQoZSxqKTthKHRoaXMpLmJpbmQoZSxrKTtpZihNKWwudG91Y2hzdGFydD0obC50b3VjaHN0YXJ0fHwwKSsxLGwudG91Y2hzdGFydD09PTEmJkouYmluZCgidG91Y2hzdGFydCIscSkuYmluZCgidG91Y2hlbmQiLHcpLmJpbmQoInRvdWNobW92ZSIsbSkuYmluZCgic2Nyb2xsIixwKX0sdGVhcmRvd246ZnVuY3Rpb24oKXstLWxbYl07bFtiXXx8Si51bmJpbmQoZSxqKTtNJiYoLS1sLnRvdWNoc3RhcnQsbC50b3VjaHN0YXJ0fHxKLnVuYmluZCgidG91Y2hzdGFydCIscSkudW5iaW5kKCJ0b3VjaG1vdmUiLG0pLnVuYmluZCgidG91Y2hlbmQiLAp3KS51bmJpbmQoInNjcm9sbCIscCkpO3ZhciBjPWEodGhpcyksZz1hLmRhdGEodGhpcyx0KTtnJiYoZ1tiXT1mYWxzZSk7Yy51bmJpbmQoZSxrKTtuKHRoaXMpfHxjLnJlbW92ZURhdGEodCl9fX12YXIgdD0idmlydHVhbE1vdXNlQmluZGluZ3MiLHY9InZpcnR1YWxUb3VjaElEIixjPSJ2bW91c2VvdmVyIHZtb3VzZWRvd24gdm1vdXNlbW92ZSB2bW91c2V1cCB2Y2xpY2sgdm1vdXNlb3V0IHZtb3VzZWNhbmNlbCIuc3BsaXQoIiAiKSx4PSJjbGllbnRYIGNsaWVudFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIi5zcGxpdCgiICIpLHU9YS5ldmVudC5wcm9wcy5jb25jYXQoYS5ldmVudC5tb3VzZUhvb2tzP2EuZXZlbnQubW91c2VIb29rcy5wcm9wczpbXSksbD17fSx6PTAseT0wLHM9MCxBPWZhbHNlLEI9W10sRD1mYWxzZSxIPWZhbHNlLE09ImFkZEV2ZW50TGlzdGVuZXIiaW4gYixKPWEoYiksTj0xLEc9MDthLnZtb3VzZT17bW92ZURpc3RhbmNlVGhyZXNob2xkOjEwLGNsaWNrRGlzdGFuY2VUaHJlc2hvbGQ6MTAsCnJlc2V0VGltZXJEdXJhdGlvbjoxNTAwfTtmb3IodmFyIEs9MDtLPGMubGVuZ3RoO0srKylhLmV2ZW50LnNwZWNpYWxbY1tLXV09byhjW0tdKTtNJiZiLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixmdW5jdGlvbihiKXt2YXIgZT1CLmxlbmd0aCxjPWIudGFyZ2V0LGcsZCxqLGgsZjtpZihlKXtnPWIuY2xpZW50WDtkPWIuY2xpZW50WTt0aHJlc2hvbGQ9YS52bW91c2UuY2xpY2tEaXN0YW5jZVRocmVzaG9sZDtmb3Ioaj1jO2o7KXtmb3IoaD0wO2g8ZTtoKyspaWYoZj1CW2hdLGo9PT1jJiZNYXRoLmFicyhmLngtZyk8dGhyZXNob2xkJiZNYXRoLmFicyhmLnktZCk8dGhyZXNob2xkfHxhLmRhdGEoaix2KT09PWYudG91Y2hJRCl7Yi5wcmV2ZW50RGVmYXVsdCgpO2Iuc3RvcFByb3BhZ2F0aW9uKCk7cmV0dXJufWo9ai5wYXJlbnROb2RlfX19LHRydWUpfSkobCxzLGspOyhmdW5jdGlvbihhLGMsYil7ZnVuY3Rpb24gZChhKXthPWF8fGxvY2F0aW9uLmhyZWY7cmV0dXJuIiMiK2EucmVwbGFjZSgvXlteI10qIz8oLiopJC8sCiIkMSIpfXZhciBlPSJoYXNoY2hhbmdlIixmPWssZyxoPWEuZXZlbnQuc3BlY2lhbCxqPWYuZG9jdW1lbnRNb2RlLHE9Im9uIitlIGluIGMmJihqPT09Ynx8aj43KTthLmZuW2VdPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChlLGEpOnRoaXMudHJpZ2dlcihlKX07YS5mbltlXS5kZWxheT01MDtoW2VdPWEuZXh0ZW5kKGhbZV0se3NldHVwOmZ1bmN0aW9uKCl7aWYocSlyZXR1cm4gZmFsc2U7YShnLnN0YXJ0KX0sdGVhcmRvd246ZnVuY3Rpb24oKXtpZihxKXJldHVybiBmYWxzZTthKGcuc3RvcCl9fSk7Zz1mdW5jdGlvbigpe2Z1bmN0aW9uIGcoKXt2YXIgYj1kKCksaj10KG4pO2lmKGIhPT1uKW8obj1iLGopLGEoYykudHJpZ2dlcihlKTtlbHNlIGlmKGohPT1uKWxvY2F0aW9uLmhyZWY9bG9jYXRpb24uaHJlZi5yZXBsYWNlKC8jLiovLCIiKStqO2g9c2V0VGltZW91dChnLGEuZm5bZV0uZGVsYXkpfXZhciBqPXt9LGgsbj1kKCksaz1mdW5jdGlvbihhKXtyZXR1cm4gYX0sbz0Kayx0PWs7ai5zdGFydD1mdW5jdGlvbigpe2h8fGcoKX07ai5zdG9wPWZ1bmN0aW9uKCl7aCYmY2xlYXJUaW1lb3V0KGgpO2g9Yn07YS5icm93c2VyLm1zaWUmJiFxJiZmdW5jdGlvbigpe3ZhciBiLGM7ai5zdGFydD1mdW5jdGlvbigpe2lmKCFiKWM9KGM9YS5mbltlXS5zcmMpJiZjK2QoKSxiPWEoJzxpZnJhbWUgdGFiaW5kZXg9Ii0xIiB0aXRsZT0iZW1wdHkiLz4nKS5oaWRlKCkub25lKCJsb2FkIixmdW5jdGlvbigpe2N8fG8oZCgpKTtnKCl9KS5hdHRyKCJzcmMiLGN8fCJqYXZhc2NyaXB0OjAiKS5pbnNlcnRBZnRlcigiYm9keSIpWzBdLmNvbnRlbnRXaW5kb3csZi5vbnByb3BlcnR5Y2hhbmdlPWZ1bmN0aW9uKCl7dHJ5e2lmKGV2ZW50LnByb3BlcnR5TmFtZT09PSJ0aXRsZSIpYi5kb2N1bWVudC50aXRsZT1mLnRpdGxlfWNhdGNoKGEpe319fTtqLnN0b3A9azt0PWZ1bmN0aW9uKCl7cmV0dXJuIGQoYi5sb2NhdGlvbi5ocmVmKX07bz1mdW5jdGlvbihjLGcpe3ZhciBkPWIuZG9jdW1lbnQsCmo9YS5mbltlXS5kb21haW47aWYoYyE9PWcpZC50aXRsZT1mLnRpdGxlLGQub3BlbigpLGomJmQud3JpdGUoJzxzY3JpcHQ+ZG9jdW1lbnQuZG9tYWluPSInK2orJyI8XC9zY3JpcHQ+JyksZC5jbG9zZSgpLGIubG9jYXRpb24uaGFzaD1jfX0oKTtyZXR1cm4gan0oKX0pKGwsdGhpcyk7KGZ1bmN0aW9uKGEsYyl7aWYoYS5jbGVhbkRhdGEpe3ZhciBiPWEuY2xlYW5EYXRhO2EuY2xlYW5EYXRhPWZ1bmN0aW9uKGMpe2Zvcih2YXIgZD0wLGc7KGc9Y1tkXSkhPW51bGw7ZCsrKWEoZykudHJpZ2dlckhhbmRsZXIoInJlbW92ZSIpO2IoYyl9fWVsc2V7dmFyIGQ9YS5mbi5yZW1vdmU7YS5mbi5yZW1vdmU9ZnVuY3Rpb24oYixjKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Y3x8KCFifHxhLmZpbHRlcihiLFt0aGlzXSkubGVuZ3RoKSYmYSgiKiIsdGhpcykuYWRkKFt0aGlzXSkuZWFjaChmdW5jdGlvbigpe2EodGhpcykudHJpZ2dlckhhbmRsZXIoInJlbW92ZSIpfSk7cmV0dXJuIGQuY2FsbChhKHRoaXMpLApiLGMpfSl9fWEud2lkZ2V0PWZ1bmN0aW9uKGIsYyxnKXt2YXIgZD1iLnNwbGl0KCIuIilbMF0saixiPWIuc3BsaXQoIi4iKVsxXTtqPWQrIi0iK2I7aWYoIWcpZz1jLGM9YS5XaWRnZXQ7YS5leHByWyI6Il1bal09ZnVuY3Rpb24oYyl7cmV0dXJuISFhLmRhdGEoYyxiKX07YVtkXT1hW2RdfHx7fTthW2RdW2JdPWZ1bmN0aW9uKGEsYil7YXJndW1lbnRzLmxlbmd0aCYmdGhpcy5fY3JlYXRlV2lkZ2V0KGEsYil9O2M9bmV3IGM7Yy5vcHRpb25zPWEuZXh0ZW5kKHRydWUse30sYy5vcHRpb25zKTthW2RdW2JdLnByb3RvdHlwZT1hLmV4dGVuZCh0cnVlLGMse25hbWVzcGFjZTpkLHdpZGdldE5hbWU6Yix3aWRnZXRFdmVudFByZWZpeDphW2RdW2JdLnByb3RvdHlwZS53aWRnZXRFdmVudFByZWZpeHx8Yix3aWRnZXRCYXNlQ2xhc3M6an0sZyk7YS53aWRnZXQuYnJpZGdlKGIsYVtkXVtiXSl9O2Eud2lkZ2V0LmJyaWRnZT1mdW5jdGlvbihiLGQpe2EuZm5bYl09ZnVuY3Rpb24oZyl7dmFyIGg9CnR5cGVvZiBnPT09InN0cmluZyIsaj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkscT10aGlzLGc9IWgmJmoubGVuZ3RoP2EuZXh0ZW5kLmFwcGx5KG51bGwsW3RydWUsZ10uY29uY2F0KGopKTpnO2lmKGgmJmcuY2hhckF0KDApPT09Il8iKXJldHVybiBxO2g/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YS5kYXRhKHRoaXMsYik7aWYoIWQpdGhyb3ciY2Fubm90IGNhbGwgbWV0aG9kcyBvbiAiK2IrIiBwcmlvciB0byBpbml0aWFsaXphdGlvbjsgYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICciK2crIiciO2lmKCFhLmlzRnVuY3Rpb24oZFtnXSkpdGhyb3cibm8gc3VjaCBtZXRob2QgJyIrZysiJyBmb3IgIitiKyIgd2lkZ2V0IGluc3RhbmNlIjt2YXIgaD1kW2ddLmFwcGx5KGQsaik7aWYoaCE9PWQmJmghPT1jKXJldHVybiBxPWgsZmFsc2V9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hLmRhdGEodGhpcyxiKTtjP2Mub3B0aW9uKGd8fHt9KS5faW5pdCgpOgphLmRhdGEodGhpcyxiLG5ldyBkKGcsdGhpcykpfSk7cmV0dXJuIHF9fTthLldpZGdldD1mdW5jdGlvbihhLGIpe2FyZ3VtZW50cy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVdpZGdldChhLGIpfTthLldpZGdldC5wcm90b3R5cGU9e3dpZGdldE5hbWU6IndpZGdldCIsd2lkZ2V0RXZlbnRQcmVmaXg6IiIsb3B0aW9uczp7ZGlzYWJsZWQ6ZmFsc2V9LF9jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oYixjKXthLmRhdGEoYyx0aGlzLndpZGdldE5hbWUsdGhpcyk7dGhpcy5lbGVtZW50PWEoYyk7dGhpcy5vcHRpb25zPWEuZXh0ZW5kKHRydWUse30sdGhpcy5vcHRpb25zLHRoaXMuX2dldENyZWF0ZU9wdGlvbnMoKSxiKTt2YXIgZz10aGlzO3RoaXMuZWxlbWVudC5iaW5kKCJyZW1vdmUuIit0aGlzLndpZGdldE5hbWUsZnVuY3Rpb24oKXtnLmRlc3Ryb3koKX0pO3RoaXMuX2NyZWF0ZSgpO3RoaXMuX3RyaWdnZXIoImNyZWF0ZSIpO3RoaXMuX2luaXQoKX0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgYj0Ke307YS5tZXRhZGF0YSYmKGI9YS5tZXRhZGF0YS5nZXQoZWxlbWVudClbdGhpcy53aWRnZXROYW1lXSk7cmV0dXJuIGJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt9LF9pbml0OmZ1bmN0aW9uKCl7fSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnVuYmluZCgiLiIrdGhpcy53aWRnZXROYW1lKS5yZW1vdmVEYXRhKHRoaXMud2lkZ2V0TmFtZSk7dGhpcy53aWRnZXQoKS51bmJpbmQoIi4iK3RoaXMud2lkZ2V0TmFtZSkucmVtb3ZlQXR0cigiYXJpYS1kaXNhYmxlZCIpLnJlbW92ZUNsYXNzKHRoaXMud2lkZ2V0QmFzZUNsYXNzKyItZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWQiKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudH0sb3B0aW9uOmZ1bmN0aW9uKGIsZCl7dmFyIGc9YjtpZihhcmd1bWVudHMubGVuZ3RoPT09MClyZXR1cm4gYS5leHRlbmQoe30sdGhpcy5vcHRpb25zKTtpZih0eXBlb2YgYj09PSJzdHJpbmciKXtpZihkPT09YylyZXR1cm4gdGhpcy5vcHRpb25zW2JdOwpnPXt9O2dbYl09ZH10aGlzLl9zZXRPcHRpb25zKGcpO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uczpmdW5jdGlvbihiKXt2YXIgYz10aGlzO2EuZWFjaChiLGZ1bmN0aW9uKGEsYil7Yy5fc2V0T3B0aW9uKGEsYil9KTtyZXR1cm4gdGhpc30sX3NldE9wdGlvbjpmdW5jdGlvbihhLGIpe3RoaXMub3B0aW9uc1thXT1iO2E9PT0iZGlzYWJsZWQiJiZ0aGlzLndpZGdldCgpW2I/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXSh0aGlzLndpZGdldEJhc2VDbGFzcysiLWRpc2FibGVkIHVpLXN0YXRlLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsYik7cmV0dXJuIHRoaXN9LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIixmYWxzZSl9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsdHJ1ZSl9LF90cmlnZ2VyOmZ1bmN0aW9uKGIsYyxkKXt2YXIgaD10aGlzLm9wdGlvbnNbYl0sYz1hLkV2ZW50KGMpOwpjLnR5cGU9KGI9PT10aGlzLndpZGdldEV2ZW50UHJlZml4P2I6dGhpcy53aWRnZXRFdmVudFByZWZpeCtiKS50b0xvd2VyQ2FzZSgpO2Q9ZHx8e307aWYoYy5vcmlnaW5hbEV2ZW50KWZvcih2YXIgYj1hLmV2ZW50LnByb3BzLmxlbmd0aCxqO2I7KWo9YS5ldmVudC5wcm9wc1stLWJdLGNbal09Yy5vcmlnaW5hbEV2ZW50W2pdO3RoaXMuZWxlbWVudC50cmlnZ2VyKGMsZCk7cmV0dXJuIShhLmlzRnVuY3Rpb24oaCkmJmguY2FsbCh0aGlzLmVsZW1lbnRbMF0sYyxkKT09PWZhbHNlfHxjLmlzRGVmYXVsdFByZXZlbnRlZCgpKX19fSkobCk7KGZ1bmN0aW9uKGEsYyl7YS53aWRnZXQoIm1vYmlsZS53aWRnZXQiLHtfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKCl7YS5XaWRnZXQucHJvdG90eXBlLl9jcmVhdGVXaWRnZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3RyaWdnZXIoImluaXQiKX0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsZD17fTsKYS5lYWNoKHRoaXMub3B0aW9ucyxmdW5jdGlvbihhKXt2YXIgZj1iLmpxbURhdGEoYS5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKGEpe3JldHVybiItIithLnRvTG93ZXJDYXNlKCl9KSk7ZiE9PWMmJihkW2FdPWYpfSk7cmV0dXJuIGR9LGVuaGFuY2VXaXRoaW46ZnVuY3Rpb24oYixjKXt0aGlzLmVuaGFuY2UoYSh0aGlzLm9wdGlvbnMuaW5pdFNlbGVjdG9yLGEoYikpLGMpfSxlbmhhbmNlOmZ1bmN0aW9uKGIsYyl7dmFyIGUsZj1hKGIpLGY9YS5tb2JpbGUuZW5oYW5jZWFibGUoZik7YyYmZi5sZW5ndGgmJihlPShlPWEubW9iaWxlLmNsb3Nlc3RQYWdlRGF0YShmKSkmJmUua2VlcE5hdGl2ZVNlbGVjdG9yKCl8fCIiLGY9Zi5ub3QoZSkpO2ZbdGhpcy53aWRnZXROYW1lXSgpfSxyYWlzZTpmdW5jdGlvbihhKXt0aHJvdyJXaWRnZXQgWyIrdGhpcy53aWRnZXROYW1lKyJdOiAiK2E7fX0pfSkobCk7KGZ1bmN0aW9uKGEsYyxiKXt2YXIgZD17fTthLm1vYmlsZT1hLmV4dGVuZCh7fSx7dmVyc2lvbjoiMS4xLjIiLApuczoiIixzdWJQYWdlVXJsS2V5OiJ1aS1wYWdlIixhY3RpdmVQYWdlQ2xhc3M6InVpLXBhZ2UtYWN0aXZlIixhY3RpdmVCdG5DbGFzczoidWktYnRuLWFjdGl2ZSIsZm9jdXNDbGFzczoidWktZm9jdXMiLGFqYXhFbmFibGVkOnRydWUsaGFzaExpc3RlbmluZ0VuYWJsZWQ6dHJ1ZSxsaW5rQmluZGluZ0VuYWJsZWQ6dHJ1ZSxkZWZhdWx0UGFnZVRyYW5zaXRpb246ImZhZGUiLG1heFRyYW5zaXRpb25XaWR0aDpmYWxzZSxtaW5TY3JvbGxCYWNrOjI1MCx0b3VjaE92ZXJmbG93RW5hYmxlZDpmYWxzZSxkZWZhdWx0RGlhbG9nVHJhbnNpdGlvbjoicG9wIixsb2FkaW5nTWVzc2FnZToibG9hZGluZyIscGFnZUxvYWRFcnJvck1lc3NhZ2U6IkVycm9yIExvYWRpbmcgUGFnZSIsbG9hZGluZ01lc3NhZ2VUZXh0VmlzaWJsZTpmYWxzZSxsb2FkaW5nTWVzc2FnZVRoZW1lOiJhIixwYWdlTG9hZEVycm9yTWVzc2FnZVRoZW1lOiJlIixwaG9uZWdhcE5hdmlnYXRpb25FbmFibGVkOmZhbHNlLGF1dG9Jbml0aWFsaXplUGFnZTp0cnVlLApwdXNoU3RhdGVFbmFibGVkOnRydWUsaWdub3JlQ29udGVudEVuYWJsZWQ6ZmFsc2Usb3JpZW50YXRpb25DaGFuZ2VFbmFibGVkOnRydWUsYnV0dG9uTWFya3VwOntob3ZlckRlbGF5OjIwMH0sa2V5Q29kZTp7QUxUOjE4LEJBQ0tTUEFDRTo4LENBUFNfTE9DSzoyMCxDT01NQToxODgsQ09NTUFORDo5MSxDT01NQU5EX0xFRlQ6OTEsQ09NTUFORF9SSUdIVDo5MyxDT05UUk9MOjE3LERFTEVURTo0NixET1dOOjQwLEVORDozNSxFTlRFUjoxMyxFU0NBUEU6MjcsSE9NRTozNixJTlNFUlQ6NDUsTEVGVDozNyxNRU5VOjkzLE5VTVBBRF9BREQ6MTA3LE5VTVBBRF9ERUNJTUFMOjExMCxOVU1QQURfRElWSURFOjExMSxOVU1QQURfRU5URVI6MTA4LE5VTVBBRF9NVUxUSVBMWToxMDYsTlVNUEFEX1NVQlRSQUNUOjEwOSxQQUdFX0RPV046MzQsUEFHRV9VUDozMyxQRVJJT0Q6MTkwLFJJR0hUOjM5LFNISUZUOjE2LFNQQUNFOjMyLFRBQjo5LFVQOjM4LFdJTkRPV1M6OTF9LHNpbGVudFNjcm9sbDpmdW5jdGlvbihiKXtpZihhLnR5cGUoYikhPT0KIm51bWJlciIpYj1hLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbDthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD1mYWxzZTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5zY3JvbGxUbygwLGIpO2EoaykudHJpZ2dlcigic2lsZW50c2Nyb2xsIix7eDowLHk6Yn0pfSwyMCk7c2V0VGltZW91dChmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPXRydWV9LDE1MCl9LG5zTm9ybWFsaXplRGljdDpkLG5zTm9ybWFsaXplOmZ1bmN0aW9uKGIpe3JldHVybiFiP3ZvaWQgMDpkW2JdfHwoZFtiXT1hLmNhbWVsQ2FzZShhLm1vYmlsZS5ucytiKSl9LGdldEluaGVyaXRlZFRoZW1lOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWFbMF0sZD0iIixlPS91aS0oYmFyfGJvZHl8b3ZlcmxheSktKFthLXpdKVxiLyxmLHc7Yzspe2lmKChmPWMuY2xhc3NOYW1lfHwiIikmJih3PWUuZXhlYyhmKSkmJihkPXdbMl0pKWJyZWFrO2M9Yy5wYXJlbnROb2RlfXJldHVybiBkfHwKYnx8ImEifSxjbG9zZXN0UGFnZURhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xvc2VzdCgnOmpxbURhdGEocm9sZT0icGFnZSIpLCA6anFtRGF0YShyb2xlPSJkaWFsb2ciKScpLmRhdGEoInBhZ2UiKX0sZW5oYW5jZWFibGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGF2ZVBhcmVudHMoYSwiZW5oYW5jZSIpfSxoaWphY2thYmxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhdmVQYXJlbnRzKGEsImFqYXgiKX0saGF2ZVBhcmVudHM6ZnVuY3Rpb24oYixjKXtpZighYS5tb2JpbGUuaWdub3JlQ29udGVudEVuYWJsZWQpcmV0dXJuIGI7Zm9yKHZhciBkPWIubGVuZ3RoLGU9YSgpLGYsbSx3LG49MDtuPGQ7bisrKXttPWIuZXEobik7dz1mYWxzZTtmb3IoZj1iW25dO2Y7KXtpZigoZi5nZXRBdHRyaWJ1dGU/Zi5nZXRBdHRyaWJ1dGUoImRhdGEtIithLm1vYmlsZS5ucytjKToiIik9PT0iZmFsc2UiKXt3PXRydWU7YnJlYWt9Zj1mLnBhcmVudE5vZGV9d3x8KGU9ZS5hZGQobSkpfXJldHVybiBlfSwKZ2V0U2NyZWVuSGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIGMuaW5uZXJIZWlnaHR8fGEoYykuaGVpZ2h0KCl9fSxhLm1vYmlsZSk7YS5mbi5qcW1EYXRhPWZ1bmN0aW9uKGMsZCl7dmFyIGU7dHlwZW9mIGMhPSJ1bmRlZmluZWQiJiYoYyYmKGM9YS5tb2JpbGUubnNOb3JtYWxpemUoYykpLGU9YXJndW1lbnRzLmxlbmd0aDwyfHxkPT09Yj90aGlzLmRhdGEoYyk6dGhpcy5kYXRhKGMsZCkpO3JldHVybiBlfTthLmpxbURhdGE9ZnVuY3Rpb24oYixjLGQpe3ZhciBlO3R5cGVvZiBjIT0idW5kZWZpbmVkIiYmKGU9YS5kYXRhKGIsYz9hLm1vYmlsZS5uc05vcm1hbGl6ZShjKTpjLGQpKTtyZXR1cm4gZX07YS5mbi5qcW1SZW1vdmVEYXRhPWZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLnJlbW92ZURhdGEoYS5tb2JpbGUubnNOb3JtYWxpemUoYikpfTthLmpxbVJlbW92ZURhdGE9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5yZW1vdmVEYXRhKGIsYS5tb2JpbGUubnNOb3JtYWxpemUoYykpfTthLmZuLnJlbW92ZVdpdGhEZXBlbmRlbnRzPQpmdW5jdGlvbigpe2EucmVtb3ZlV2l0aERlcGVuZGVudHModGhpcyl9O2EucmVtb3ZlV2l0aERlcGVuZGVudHM9ZnVuY3Rpb24oYil7Yj1hKGIpOyhiLmpxbURhdGEoImRlcGVuZGVudHMiKXx8YSgpKS5yZW1vdmUoKTtiLnJlbW92ZSgpfTthLmZuLmFkZERlcGVuZGVudHM9ZnVuY3Rpb24oYil7YS5hZGREZXBlbmRlbnRzKGEodGhpcyksYil9O2EuYWRkRGVwZW5kZW50cz1mdW5jdGlvbihiLGMpe3ZhciBkPWEoYikuanFtRGF0YSgiZGVwZW5kZW50cyIpfHxhKCk7YShiKS5qcW1EYXRhKCJkZXBlbmRlbnRzIixhLm1lcmdlKGQsYykpfTthLmZuLmdldEVuY29kZWRUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIGEoIjxkaXYvPiIpLnRleHQoYSh0aGlzKS50ZXh0KCkpLmh0bWwoKX07YS5mbi5qcW1FbmhhbmNlYWJsZT1mdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5lbmhhbmNlYWJsZSh0aGlzKX07YS5mbi5qcW1IaWphY2thYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmhpamFja2FibGUodGhpcyl9Owp2YXIgZT1hLmZpbmQsZj0vOmpxbURhdGFcKChbXildKilcKS9nO2EuZmluZD1mdW5jdGlvbihiLGMsZCxxKXtiPWIucmVwbGFjZShmLCJbZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpKyIkMV0iKTtyZXR1cm4gZS5jYWxsKHRoaXMsYixjLGQscSl9O2EuZXh0ZW5kKGEuZmluZCxlKTthLmZpbmQubWF0Y2hlcz1mdW5jdGlvbihiLGMpe3JldHVybiBhLmZpbmQoYixudWxsLG51bGwsYyl9O2EuZmluZC5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5maW5kKGMsbnVsbCxudWxsLFtiXSkubGVuZ3RoPjB9fSkobCx0aGlzKTsoZnVuY3Rpb24oYSl7YShzKTt2YXIgYz1hKCJodG1sIik7YS5tb2JpbGUubWVkaWE9ZnVuY3Rpb24oKXt2YXIgYj17fSxkPWEoIjxkaXYgaWQ9J2pxdWVyeS1tZWRpYXRlc3QnPjwvZGl2PiIpLGU9YSgiPGJvZHk+IikuYXBwZW5kKGQpO3JldHVybiBmdW5jdGlvbihhKXtpZighKGEgaW4gYikpe3ZhciBnPWsuY3JlYXRlRWxlbWVudCgic3R5bGUiKSwKaD0iQG1lZGlhICIrYSsiIHsgI2pxdWVyeS1tZWRpYXRlc3QgeyBwb3NpdGlvbjphYnNvbHV0ZTsgfSB9IjtnLnR5cGU9InRleHQvY3NzIjtnLnN0eWxlU2hlZXQ/Zy5zdHlsZVNoZWV0LmNzc1RleHQ9aDpnLmFwcGVuZENoaWxkKGsuY3JlYXRlVGV4dE5vZGUoaCkpO2MucHJlcGVuZChlKS5wcmVwZW5kKGcpO2JbYV09ZC5jc3MoInBvc2l0aW9uIik9PT0iYWJzb2x1dGUiO2UuYWRkKGcpLnJlbW92ZSgpfXJldHVybiBiW2FdfX0oKX0pKGwpOyhmdW5jdGlvbihhLGMpe2Z1bmN0aW9uIGIoYSl7dmFyIGI9YS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKSxhPShhKyIgIitnLmpvaW4oYisiICIpK2IpLnNwbGl0KCIgIiksZDtmb3IoZCBpbiBhKWlmKGZbYVtkXV0hPT1jKXJldHVybiB0cnVlfWZ1bmN0aW9uIGQoYSxiLGMpe3ZhciBkPWsuY3JlYXRlRWxlbWVudCgiZGl2IiksYz1jP1tjXTpnLGU7Zm9yKGk9MDtpPGMubGVuZ3RoO2krKyl7dmFyIGo9Y1tpXSxoPSItIitqLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpKwpqLnN1YnN0cigxKSsiLSIrYSsiOiAiK2IrIjsiLGo9ai5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStqLnN1YnN0cigxKSsoYS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKSk7ZC5zZXRBdHRyaWJ1dGUoInN0eWxlIixoKTtkLnN0eWxlW2pdJiYoZT10cnVlKX1yZXR1cm4hIWV9dmFyIGU9YSgiPGJvZHk+IikucHJlcGVuZFRvKCJodG1sIiksZj1lWzBdLnN0eWxlLGc9WyJXZWJraXQiLCJNb3oiLCJPIl0saD0icGFsbUdldFJlc291cmNlImluIHMsaj1zLm9wZXJhLHE9cy5vcGVyYW1pbmkmJnt9LnRvU3RyaW5nLmNhbGwocy5vcGVyYW1pbmkpPT09IltvYmplY3QgT3BlcmFNaW5pXSIscD1zLmJsYWNrYmVycnk7YS5leHRlbmQoYS5tb2JpbGUse2Jyb3dzZXI6e319KTthLm1vYmlsZS5icm93c2VyLmllPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTMsYj1rLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGM9Yi5hbGx8fFtdO2IuaW5uZXJIVE1MPSI8XCEtLVtpZiBndCBJRSAiKyArK2ErCiJdPjxicj48IVtlbmRpZl0tLVw+IixjWzBdOyk7cmV0dXJuIGE+ND9hOiFhfSgpO2EuZXh0ZW5kKGEuc3VwcG9ydCx7b3JpZW50YXRpb246Im9yaWVudGF0aW9uImluIHMmJiJvbm9yaWVudGF0aW9uY2hhbmdlImluIHMsdG91Y2g6Im9udG91Y2hlbmQiaW4gayxjc3NUcmFuc2l0aW9uczoiV2ViS2l0VHJhbnNpdGlvbkV2ZW50ImluIHN8fGQoInRyYW5zaXRpb24iLCJoZWlnaHQgMTAwbXMgbGluZWFyIikmJiFqLHB1c2hTdGF0ZToicHVzaFN0YXRlImluIGhpc3RvcnkmJiJyZXBsYWNlU3RhdGUiaW4gaGlzdG9yeSxtZWRpYXF1ZXJ5OmEubW9iaWxlLm1lZGlhKCJvbmx5IGFsbCIpLGNzc1BzZXVkb0VsZW1lbnQ6ISFiKCJjb250ZW50IiksdG91Y2hPdmVyZmxvdzohIWIoIm92ZXJmbG93U2Nyb2xsaW5nIiksY3NzVHJhbnNmb3JtM2Q6ZCgicGVyc3BlY3RpdmUiLCIxMHB4IiwibW96Iil8fGEubW9iaWxlLm1lZGlhKCIoLSIrZy5qb2luKCItdHJhbnNmb3JtLTNkKSwoLSIpKyItdHJhbnNmb3JtLTNkKSwodHJhbnNmb3JtLTNkKSIpLApib3hTaGFkb3c6ISFiKCJib3hTaGFkb3ciKSYmIXAsc2Nyb2xsVG9wOigicGFnZVhPZmZzZXQiaW4gc3x8InNjcm9sbFRvcCJpbiBrLmRvY3VtZW50RWxlbWVudHx8InNjcm9sbFRvcCJpbiBlWzBdKSYmIWgmJiFxLGR5bmFtaWNCYXNlVGFnOmZ1bmN0aW9uKCl7dmFyIGI9bG9jYXRpb24ucHJvdG9jb2wrIi8vIitsb2NhdGlvbi5ob3N0K2xvY2F0aW9uLnBhdGhuYW1lKyJ1aS1kaXIvIixjPWEoImhlYWQgYmFzZSIpLGQ9bnVsbCxqPSIiLGc7Yy5sZW5ndGg/aj1jLmF0dHIoImhyZWYiKTpjPWQ9YSgiPGJhc2U+Iix7aHJlZjpifSkuYXBwZW5kVG8oImhlYWQiKTtnPWEoIjxhIGhyZWY9J3Rlc3R1cmwnIC8+IikucHJlcGVuZFRvKGUpWzBdLmhyZWY7Y1swXS5ocmVmPWp8fGxvY2F0aW9uLnBhdGhuYW1lO2QmJmQucmVtb3ZlKCk7cmV0dXJuIGcuaW5kZXhPZihiKT09PTB9KCksY3NzUG9pbnRlckV2ZW50czpmdW5jdGlvbigpe3ZhciBhPWsuY3JlYXRlRWxlbWVudCgieCIpLGI9ay5kb2N1bWVudEVsZW1lbnQsCmM9cy5nZXRDb21wdXRlZFN0eWxlO2lmKCEoInBvaW50ZXJFdmVudHMiaW4gYS5zdHlsZSkpcmV0dXJuIGZhbHNlO2Euc3R5bGUucG9pbnRlckV2ZW50cz0iYXV0byI7YS5zdHlsZS5wb2ludGVyRXZlbnRzPSJ4IjtiLmFwcGVuZENoaWxkKGEpO2M9YyYmYyhhLCIiKS5wb2ludGVyRXZlbnRzPT09ImF1dG8iO2IucmVtb3ZlQ2hpbGQoYSk7cmV0dXJuISFjfSgpfSk7ZS5yZW1vdmUoKTtoPWZ1bmN0aW9uKCl7dmFyIGE9cy5uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybiBhLmluZGV4T2YoIk5va2lhIik+LTEmJihhLmluZGV4T2YoIlN5bWJpYW4vMyIpPi0xfHxhLmluZGV4T2YoIlNlcmllczYwLzUiKT4tMSkmJmEuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSYmYS5tYXRjaCgvKEJyb3dzZXJOR3xOb2tpYUJyb3dzZXIpXC83XC5bMC0zXS8pfSgpO2EubW9iaWxlLmdyYWRlQT1mdW5jdGlvbigpe3JldHVybiBhLnN1cHBvcnQubWVkaWFxdWVyeXx8YS5tb2JpbGUuYnJvd3Nlci5pZSYmYS5tb2JpbGUuYnJvd3Nlci5pZT49Cjd9O2EubW9iaWxlLmFqYXhCbGFja2xpc3Q9cy5ibGFja2JlcnJ5JiYhcy5XZWJLaXRQb2ludHx8cXx8aDtoJiZhKGZ1bmN0aW9uKCl7YSgiaGVhZCBsaW5rW3JlbD0nc3R5bGVzaGVldCddIikuYXR0cigicmVsIiwiYWx0ZXJuYXRlIHN0eWxlc2hlZXQiKS5hdHRyKCJyZWwiLCJzdHlsZXNoZWV0Iil9KTthLnN1cHBvcnQuYm94U2hhZG93fHxhKCJodG1sIikuYWRkQ2xhc3MoInVpLW1vYmlsZS1ub3N1cHBvcnQtYm94c2hhZG93Iil9KShsKTsoZnVuY3Rpb24oYSxjLGIpe2Z1bmN0aW9uIGQoYixjLGQpe3ZhciBlPWQudHlwZTtkLnR5cGU9YzthLmV2ZW50LmhhbmRsZS5jYWxsKGIsZCk7ZC50eXBlPWV9YS5lYWNoKCJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCBvcmllbnRhdGlvbmNoYW5nZSB0aHJvdHRsZWRyZXNpemUgdGFwIHRhcGhvbGQgc3dpcGUgc3dpcGVsZWZ0IHN3aXBlcmlnaHQgc2Nyb2xsc3RhcnQgc2Nyb2xsc3RvcCIuc3BsaXQoIiAiKSxmdW5jdGlvbihiLGMpe2EuZm5bY109CmZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChjLGEpOnRoaXMudHJpZ2dlcihjKX07YS5hdHRyRm5bY109dHJ1ZX0pO3ZhciBlPWEuc3VwcG9ydC50b3VjaCxmPWU/InRvdWNoc3RhcnQiOiJtb3VzZWRvd24iLGc9ZT8idG91Y2hlbmQiOiJtb3VzZXVwIixoPWU/InRvdWNobW92ZSI6Im1vdXNlbW92ZSI7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0PXtlbmFibGVkOnRydWUsc2V0dXA6ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEsail7ZT1qO2QoYyxlPyJzY3JvbGxzdGFydCI6InNjcm9sbHN0b3AiLGEpfXZhciBjPXRoaXMsZSxnO2EoYykuYmluZCgidG91Y2htb3ZlIHNjcm9sbCIsZnVuY3Rpb24oYyl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQmJihlfHxiKGMsdHJ1ZSksY2xlYXJUaW1lb3V0KGcpLGc9c2V0VGltZW91dChmdW5jdGlvbigpe2IoYyxmYWxzZSl9LDUwKSl9KX19O2EuZXZlbnQuc3BlY2lhbC50YXA9e3NldHVwOmZ1bmN0aW9uKCl7dmFyIGI9CnRoaXMsYz1hKGIpO2MuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oZSl7ZnVuY3Rpb24gZygpe2NsZWFyVGltZW91dChvKX1mdW5jdGlvbiBoKCl7ZygpO2MudW5iaW5kKCJ2Y2xpY2siLGYpLnVuYmluZCgidm1vdXNldXAiLGcpO2EoaykudW5iaW5kKCJ2bW91c2VjYW5jZWwiLGgpfWZ1bmN0aW9uIGYoYSl7aCgpO3I9PWEudGFyZ2V0JiZkKGIsInRhcCIsYSl9aWYoZS53aGljaCYmZS53aGljaCE9PTEpcmV0dXJuIGZhbHNlO3ZhciByPWUudGFyZ2V0LG87Yy5iaW5kKCJ2bW91c2V1cCIsZykuYmluZCgidmNsaWNrIixmKTthKGspLmJpbmQoInZtb3VzZWNhbmNlbCIsaCk7bz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZChiLCJ0YXBob2xkIixhLkV2ZW50KCJ0YXBob2xkIix7dGFyZ2V0OnJ9KSl9LDc1MCl9KX19O2EuZXZlbnQuc3BlY2lhbC5zd2lwZT17c2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZDoxMCxkdXJhdGlvblRocmVzaG9sZDoxRTMsaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkOjMwLAp2ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkOjc1LHNldHVwOmZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKTtjLmJpbmQoZixmdW5jdGlvbihkKXtmdW5jdGlvbiBlKGIpe2lmKGspe3ZhciBjPWIub3JpZ2luYWxFdmVudC50b3VjaGVzP2Iub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmI7bj17dGltZToobmV3IERhdGUpLmdldFRpbWUoKSxjb29yZHM6W2MucGFnZVgsYy5wYWdlWV19O01hdGguYWJzKGsuY29vcmRzWzBdLW4uY29vcmRzWzBdKT5hLmV2ZW50LnNwZWNpYWwuc3dpcGUuc2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZCYmYi5wcmV2ZW50RGVmYXVsdCgpfX12YXIgZj1kLm9yaWdpbmFsRXZlbnQudG91Y2hlcz9kLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTpkLGs9e3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOltmLnBhZ2VYLGYucGFnZVldLG9yaWdpbjphKGQudGFyZ2V0KX0sbjtjLmJpbmQoaCxlKS5vbmUoZyxmdW5jdGlvbigpe2MudW5iaW5kKGgsZSk7ayYmbiYmCm4udGltZS1rLnRpbWU8YS5ldmVudC5zcGVjaWFsLnN3aXBlLmR1cmF0aW9uVGhyZXNob2xkJiZNYXRoLmFicyhrLmNvb3Jkc1swXS1uLmNvb3Jkc1swXSk+YS5ldmVudC5zcGVjaWFsLnN3aXBlLmhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZCYmTWF0aC5hYnMoay5jb29yZHNbMV0tbi5jb29yZHNbMV0pPGEuZXZlbnQuc3BlY2lhbC5zd2lwZS52ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkJiZrLm9yaWdpbi50cmlnZ2VyKCJzd2lwZSIpLnRyaWdnZXIoay5jb29yZHNbMF0+bi5jb29yZHNbMF0/InN3aXBlbGVmdCI6InN3aXBlcmlnaHQiKTtrPW49Yn0pfSl9fTsoZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7dmFyIGE9ZSgpO2EhPT1nJiYoZz1hLGQudHJpZ2dlcigib3JpZW50YXRpb25jaGFuZ2UiKSl9dmFyIGQ9YShiKSxlLGcsaCxmLGw9ezA6dHJ1ZSwxODA6dHJ1ZX07aWYoYS5zdXBwb3J0Lm9yaWVudGF0aW9uJiYoaD1iLmlubmVyV2lkdGh8fGEoYikud2lkdGgoKSxmPWIuaW5uZXJIZWlnaHR8fAphKGIpLmhlaWdodCgpLGg9aD5mJiZoLWY+NTAsZj1sW2Iub3JpZW50YXRpb25dLGgmJmZ8fCFoJiYhZikpbD17Ii05MCI6dHJ1ZSw5MDp0cnVlfTthLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2U9e3NldHVwOmZ1bmN0aW9uKCl7aWYoYS5zdXBwb3J0Lm9yaWVudGF0aW9uJiZhLm1vYmlsZS5vcmllbnRhdGlvbkNoYW5nZUVuYWJsZWQpcmV0dXJuIGZhbHNlO2c9ZSgpO2QuYmluZCgidGhyb3R0bGVkcmVzaXplIixjKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtpZihhLnN1cHBvcnQub3JpZW50YXRpb24mJmEubW9iaWxlLm9yaWVudGF0aW9uQ2hhbmdlRW5hYmxlZClyZXR1cm4gZmFsc2U7ZC51bmJpbmQoInRocm90dGxlZHJlc2l6ZSIsYyl9LGFkZDpmdW5jdGlvbihhKXt2YXIgYj1hLmhhbmRsZXI7YS5oYW5kbGVyPWZ1bmN0aW9uKGEpe2Eub3JpZW50YXRpb249ZSgpO3JldHVybiBiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fTthLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2Uub3JpZW50YXRpb249CmU9ZnVuY3Rpb24oKXt2YXIgYz10cnVlLGM9ay5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuKGM9YS5zdXBwb3J0Lm9yaWVudGF0aW9uP2xbYi5vcmllbnRhdGlvbl06YyYmYy5jbGllbnRXaWR0aC9jLmNsaWVudEhlaWdodDwxLjEpPyJwb3J0cmFpdCI6ImxhbmRzY2FwZSJ9fSkobCxjKTsoZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwudGhyb3R0bGVkcmVzaXplPXtzZXR1cDpmdW5jdGlvbigpe2EodGhpcykuYmluZCgicmVzaXplIixiKX0sdGVhcmRvd246ZnVuY3Rpb24oKXthKHRoaXMpLnVuYmluZCgicmVzaXplIixiKX19O3ZhciBiPWZ1bmN0aW9uKCl7ZT0obmV3IERhdGUpLmdldFRpbWUoKTtnPWUtYztnPj0yNTA/KGM9ZSxhKHRoaXMpLnRyaWdnZXIoInRocm90dGxlZHJlc2l6ZSIpKTooZCYmY2xlYXJUaW1lb3V0KGQpLGQ9c2V0VGltZW91dChiLDI1MC1nKSl9LGM9MCxkLGUsZ30pKCk7YS5lYWNoKHtzY3JvbGxzdG9wOiJzY3JvbGxzdGFydCIsdGFwaG9sZDoidGFwIixzd2lwZWxlZnQ6InN3aXBlIiwKc3dpcGVyaWdodDoic3dpcGUifSxmdW5jdGlvbihiLGMpe2EuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoYyxhLm5vb3ApfX19KX0pKGwsdGhpcyk7KGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUucGFnZSIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZToiYyIsZG9tQ2FjaGU6ZmFsc2Usa2VlcE5hdGl2ZURlZmF1bHQ6IjpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoYS5fdHJpZ2dlcigiYmVmb3JlY3JlYXRlIik9PT1mYWxzZSlyZXR1cm4gZmFsc2U7YS5lbGVtZW50LmF0dHIoInRhYmluZGV4IiwiMCIpLmFkZENsYXNzKCJ1aS1wYWdlIHVpLWJvZHktIithLm9wdGlvbnMudGhlbWUpLmJpbmQoInBhZ2ViZWZvcmVoaWRlIixmdW5jdGlvbigpe2EucmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZCgpfSkuYmluZCgicGFnZWJlZm9yZXNob3ciLApmdW5jdGlvbigpe2Euc2V0Q29udGFpbmVyQmFja2dyb3VuZCgpfSl9LHJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQ6ZnVuY3Rpb24oKXthLm1vYmlsZS5wYWdlQ29udGFpbmVyLnJlbW92ZUNsYXNzKCJ1aS1vdmVybGF5LSIrYS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LnBhcmVudCgpKSl9LHNldENvbnRhaW5lckJhY2tncm91bmQ6ZnVuY3Rpb24oYyl7dGhpcy5vcHRpb25zLnRoZW1lJiZhLm1vYmlsZS5wYWdlQ29udGFpbmVyLmFkZENsYXNzKCJ1aS1vdmVybGF5LSIrKGN8fHRoaXMub3B0aW9ucy50aGVtZSkpfSxrZWVwTmF0aXZlU2VsZWN0b3I6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLm9wdGlvbnM7cmV0dXJuIGMua2VlcE5hdGl2ZSYmYS50cmltKGMua2VlcE5hdGl2ZSkmJmMua2VlcE5hdGl2ZSE9PWMua2VlcE5hdGl2ZURlZmF1bHQ/W2Mua2VlcE5hdGl2ZSxjLmtlZXBOYXRpdmVEZWZhdWx0XS5qb2luKCIsICIpOmMua2VlcE5hdGl2ZURlZmF1bHR9fSl9KShsKTsKKGZ1bmN0aW9uKGEsYyxiKXt2YXIgZD1mdW5jdGlvbihkKXtkPT09YiYmKGQ9dHJ1ZSk7cmV0dXJuIGZ1bmN0aW9uKGIsZSxqLHEpe3ZhciBrPW5ldyBhLkRlZmVycmVkLG09ZT8iIHJldmVyc2UiOiIiLGw9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKS5sYXN0U2Nyb2xsfHxhLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCxuPWEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpLHI9YS5tb2JpbGUubWF4VHJhbnNpdGlvbldpZHRoIT09ZmFsc2UmJmEoYykud2lkdGgoKT5hLm1vYmlsZS5tYXhUcmFuc2l0aW9uV2lkdGgsbz0hYS5zdXBwb3J0LmNzc1RyYW5zaXRpb25zfHxyfHwhYnx8Yj09PSJub25lInx8TWF0aC5tYXgoYShjKS5zY3JvbGxUb3AoKSxsKT5hLm1vYmlsZS5nZXRNYXhTY3JvbGxGb3JUcmFuc2l0aW9uKCksdD1mdW5jdGlvbigpe2EubW9iaWxlLnBhZ2VDb250YWluZXIudG9nZ2xlQ2xhc3MoInVpLW1vYmlsZS12aWV3cG9ydC10cmFuc2l0aW9uaW5nIHZpZXdwb3J0LSIrCmIpfSx2PWZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ZmFsc2U7Yy5zY3JvbGxUbygwLGwpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD10cnVlfSwxNTApfSx4PWZ1bmN0aW9uKCl7cS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrIiBvdXQgaW4gcmV2ZXJzZSAiK2IpLmhlaWdodCgiIil9LHI9ZnVuY3Rpb24oKXtxJiZkJiZ4KCk7ai5jc3MoInotaW5kZXgiLC0xMCk7ai5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrIiB1aS1wYWdlLXByZS1pbiIpO2EubW9iaWxlLmZvY3VzUGFnZShqKTtqLmhlaWdodChuK2wpO3YoKTtqLmNzcygiei1pbmRleCIsIiIpO298fGouYW5pbWF0aW9uQ29tcGxldGUodSk7ai5yZW1vdmVDbGFzcygiIHVpLXBhZ2UtcHJlLWluIikuYWRkQ2xhc3MoYisiIGluIittKTtvJiZ1KCl9LHU9ZnVuY3Rpb24oKXtkfHxxJiZ4KCk7ai5yZW1vdmVDbGFzcygib3V0IGluIHJldmVyc2UgIisKYikuaGVpZ2h0KCIiKTt0KCk7YShjKS5zY3JvbGxUb3AoKSE9PWwmJnYoKTtrLnJlc29sdmUoYixlLGoscSx0cnVlKX07dCgpO3EmJiFvPyhkP3EuYW5pbWF0aW9uQ29tcGxldGUocik6cigpLHEuaGVpZ2h0KG4rYShjKS5zY3JvbGxUb3AoKSkuYWRkQ2xhc3MoYisiIG91dCIrbSkpOnIoKTtyZXR1cm4gay5wcm9taXNlKCl9fSxlPWQoKSxkPWQoZmFsc2UpO2EubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcj1lO2EubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycz17ImRlZmF1bHQiOmEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcixzZXF1ZW50aWFsOmUsc2ltdWx0YW5lb3VzOmR9O2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3M9e307YS5tb2JpbGUuZ2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbj1hLm1vYmlsZS5nZXRNYXhTY3JvbGxGb3JUcmFuc2l0aW9ufHxmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSozfX0pKGwsdGhpcyk7CihmdW5jdGlvbihhLGMpe2Z1bmN0aW9uIGIoYil7bCYmKCFsLmNsb3Nlc3QoIi51aS1wYWdlLWFjdGl2ZSIpLmxlbmd0aHx8YikmJmwucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpO2w9bnVsbH1mdW5jdGlvbiBkKCl7bz1mYWxzZTtyLmxlbmd0aD4wJiZhLm1vYmlsZS5jaGFuZ2VQYWdlLmFwcGx5KG51bGwsci5wb3AoKSl9ZnVuY3Rpb24gZShiLGMsZCxlKXtjJiZjLmRhdGEoInBhZ2UiKS5fdHJpZ2dlcigiYmVmb3JlaGlkZSIsbnVsbCx7bmV4dFBhZ2U6Yn0pO2IuZGF0YSgicGFnZSIpLl90cmlnZ2VyKCJiZWZvcmVzaG93IixudWxsLHtwcmV2UGFnZTpjfHxhKCIiKX0pO2EubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpO2QmJiFhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3NbZF0mJihkPWEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3NbZF0pO2Q9KGEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVyc1tkfHwiZGVmYXVsdCJdfHwKYS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyKShkLGUsYixjKTtkLmRvbmUoZnVuY3Rpb24oKXtjJiZjLmRhdGEoInBhZ2UiKS5fdHJpZ2dlcigiaGlkZSIsbnVsbCx7bmV4dFBhZ2U6Yn0pO2IuZGF0YSgicGFnZSIpLl90cmlnZ2VyKCJzaG93IixudWxsLHtwcmV2UGFnZTpjfHxhKCIiKX0pfSk7cmV0dXJuIGR9ZnVuY3Rpb24gZigpe3ZhciBiPWEoIi4iK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyksYz1wYXJzZUZsb2F0KGIuY3NzKCJwYWRkaW5nLXRvcCIpKSxkPXBhcnNlRmxvYXQoYi5jc3MoInBhZGRpbmctYm90dG9tIikpLGU9cGFyc2VGbG9hdChiLmNzcygiYm9yZGVyLXRvcC13aWR0aCIpKSxnPXBhcnNlRmxvYXQoYi5jc3MoImJvcmRlci1ib3R0b20td2lkdGgiKSk7Yi5jc3MoIm1pbi1oZWlnaHQiLHooKS1jLWQtZS1nKX1mdW5jdGlvbiBnKGIsYyl7YyYmYi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInJvbGUiLGMpO2IucGFnZSgpfWZ1bmN0aW9uIGgoYSl7Zm9yKDthOyl7aWYodHlwZW9mIGEubm9kZU5hbWU9PT0KInN0cmluZyImJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09ImEiKWJyZWFrO2E9YS5wYXJlbnROb2RlfXJldHVybiBhfWZ1bmN0aW9uIGooYil7dmFyIGI9YShiKS5jbG9zZXN0KCIudWktcGFnZSIpLmpxbURhdGEoInVybCIpLGM9dS5ocmVmTm9IYXNoO2lmKCFifHwhbS5pc1BhdGgoYikpYj1jO3JldHVybiBtLm1ha2VVcmxBYnNvbHV0ZShiLGMpfXZhciBxPWEocyk7YSgiaHRtbCIpO3ZhciBwPWEoImhlYWQiKSxtPXt1cmxQYXJzZVJFOi9eKCgoKFteOlwvI1w/XSs6KT8oPzooXC9cLykoKD86KChbXjpAXC8jXD9dKykoPzpcOihbXjpAXC8jXD9dKykpPylAKT8oKFteOlwvI1w/XF1cW10rfFxbW15cL1xdQCM/XStcXSkoPzpcOihbMC05XSspKT8pKT8pPyk/KChcLz8oPzpbXlwvXD8jXStcLyspKikoW15cPyNdKikpKT8oXD9bXiNdKyk/KSgjLiopPy8sZ2V0TG9jYXRpb246ZnVuY3Rpb24oYSl7dmFyIGI9YT90aGlzLnBhcnNlVXJsKGEpOmxvY2F0aW9uLGE9dGhpcy5wYXJzZVVybChhfHwKbG9jYXRpb24uaHJlZikuaGFzaDtyZXR1cm4gYi5wcm90b2NvbCsiLy8iK2IuaG9zdCtiLnBhdGhuYW1lK2Iuc2VhcmNoKyhhPT09IiMiPyIiOmEpfSxwYXJzZUxvY2F0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyc2VVcmwodGhpcy5nZXRMb2NhdGlvbigpKX0scGFyc2VVcmw6ZnVuY3Rpb24oYil7aWYoYS50eXBlKGIpPT09Im9iamVjdCIpcmV0dXJuIGI7Yj1tLnVybFBhcnNlUkUuZXhlYyhifHwiIil8fFtdO3JldHVybntocmVmOmJbMF18fCIiLGhyZWZOb0hhc2g6YlsxXXx8IiIsaHJlZk5vU2VhcmNoOmJbMl18fCIiLGRvbWFpbjpiWzNdfHwiIixwcm90b2NvbDpiWzRdfHwiIixkb3VibGVTbGFzaDpiWzVdfHwiIixhdXRob3JpdHk6Yls2XXx8IiIsdXNlcm5hbWU6Yls4XXx8IiIscGFzc3dvcmQ6Yls5XXx8IiIsaG9zdDpiWzEwXXx8IiIsaG9zdG5hbWU6YlsxMV18fCIiLHBvcnQ6YlsxMl18fCIiLHBhdGhuYW1lOmJbMTNdfHwiIixkaXJlY3Rvcnk6YlsxNF18fCIiLGZpbGVuYW1lOmJbMTVdfHwKIiIsc2VhcmNoOmJbMTZdfHwiIixoYXNoOmJbMTddfHwiIn19LG1ha2VQYXRoQWJzb2x1dGU6ZnVuY3Rpb24oYSxiKXtpZihhJiZhLmNoYXJBdCgwKT09PSIvIilyZXR1cm4gYTtmb3IodmFyIGE9YXx8IiIsYz0oYj1iP2IucmVwbGFjZSgvXlwvfChcL1teXC9dKnxbXlwvXSspJC9nLCIiKToiIik/Yi5zcGxpdCgiLyIpOltdLGQ9YS5zcGxpdCgiLyIpLGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGc9ZFtlXTtzd2l0Y2goZyl7Y2FzZSAiLiI6YnJlYWs7Y2FzZSAiLi4iOmMubGVuZ3RoJiZjLnBvcCgpO2JyZWFrO2RlZmF1bHQ6Yy5wdXNoKGcpfX1yZXR1cm4iLyIrYy5qb2luKCIvIil9LGlzU2FtZURvbWFpbjpmdW5jdGlvbihhLGIpe3JldHVybiBtLnBhcnNlVXJsKGEpLmRvbWFpbj09PW0ucGFyc2VVcmwoYikuZG9tYWlufSxpc1JlbGF0aXZlVXJsOmZ1bmN0aW9uKGEpe3JldHVybiBtLnBhcnNlVXJsKGEpLnByb3RvY29sPT09IiJ9LGlzQWJzb2x1dGVVcmw6ZnVuY3Rpb24oYSl7cmV0dXJuIG0ucGFyc2VVcmwoYSkucHJvdG9jb2whPT0KIiJ9LG1ha2VVcmxBYnNvbHV0ZTpmdW5jdGlvbihhLGIpe2lmKCFtLmlzUmVsYXRpdmVVcmwoYSkpcmV0dXJuIGE7Yj09PWMmJihiPXUpO3ZhciBkPW0ucGFyc2VVcmwoYSksZT1tLnBhcnNlVXJsKGIpLGc9ZC5wcm90b2NvbHx8ZS5wcm90b2NvbCxoPWQucHJvdG9jb2w/ZC5kb3VibGVTbGFzaDpkLmRvdWJsZVNsYXNofHxlLmRvdWJsZVNsYXNoLGo9ZC5hdXRob3JpdHl8fGUuYXV0aG9yaXR5LGY9ZC5wYXRobmFtZSE9PSIiLG49bS5tYWtlUGF0aEFic29sdXRlKGQucGF0aG5hbWV8fGUuZmlsZW5hbWUsZS5wYXRobmFtZSk7cmV0dXJuIGcraCtqK24rKGQuc2VhcmNofHwhZiYmZS5zZWFyY2h8fCIiKStkLmhhc2h9LGFkZFNlYXJjaFBhcmFtczpmdW5jdGlvbihiLGMpe3ZhciBkPW0ucGFyc2VVcmwoYiksZT10eXBlb2YgYz09PSJvYmplY3QiP2EucGFyYW0oYyk6YyxnPWQuc2VhcmNofHwiPyI7cmV0dXJuIGQuaHJlZk5vU2VhcmNoK2crKGcuY2hhckF0KGcubGVuZ3RoLTEpIT09Ij8iPwoiJiI6IiIpK2UrKGQuaGFzaHx8IiIpfSxjb252ZXJ0VXJsVG9EYXRhVXJsOmZ1bmN0aW9uKGEpe3ZhciBiPW0ucGFyc2VVcmwoYSk7aWYobS5pc0VtYmVkZGVkUGFnZShiKSlyZXR1cm4gYi5oYXNoLnNwbGl0KHQpWzBdLnJlcGxhY2UoL14jLywiIik7ZWxzZSBpZihtLmlzU2FtZURvbWFpbihiLHUpKXJldHVybiBiLmhyZWZOb0hhc2gucmVwbGFjZSh1LmRvbWFpbiwiIikuc3BsaXQodClbMF07cmV0dXJuIGF9LGdldDpmdW5jdGlvbihhKXtpZihhPT09YylhPWxvY2F0aW9uLmhhc2g7cmV0dXJuIG0uc3RyaXBIYXNoKGEpLnJlcGxhY2UoL1teXC9dKlwuW15cLypdKyQvLCIiKX0sZ2V0RmlsZVBhdGg6ZnVuY3Rpb24oYil7dmFyIGM9IiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXk7cmV0dXJuIGImJmIuc3BsaXQoYylbMF0uc3BsaXQodClbMF19LHNldDpmdW5jdGlvbihhKXtsb2NhdGlvbi5oYXNoPWF9LGlzUGF0aDpmdW5jdGlvbihhKXtyZXR1cm4vXC8vLnRlc3QoYSl9LGNsZWFuOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UodS5kb21haW4sCiIiKX0sc3RyaXBIYXNoOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL14jLywiIil9LGNsZWFuSGFzaDpmdW5jdGlvbihhKXtyZXR1cm4gbS5zdHJpcEhhc2goYS5yZXBsYWNlKC9cPy4qJC8sIiIpLnJlcGxhY2UodCwiIikpfSxpc0hhc2hWYWxpZDpmdW5jdGlvbihhKXtyZXR1cm4vXiNbXiNdKyQvLnRlc3QoYSl9LGlzRXh0ZXJuYWw6ZnVuY3Rpb24oYSl7YT1tLnBhcnNlVXJsKGEpO3JldHVybiBhLnByb3RvY29sJiZhLmRvbWFpbiE9PXguZG9tYWluP3RydWU6ZmFsc2V9LGhhc1Byb3RvY29sOmZ1bmN0aW9uKGEpe3JldHVybi9eKDo/XHcrOikvLnRlc3QoYSl9LGlzRmlyc3RQYWdlVXJsOmZ1bmN0aW9uKGIpe3ZhciBiPW0ucGFyc2VVcmwobS5tYWtlVXJsQWJzb2x1dGUoYix1KSksZD1hLm1vYmlsZS5maXJzdFBhZ2UsZD1kJiZkWzBdP2RbMF0uaWQ6YztyZXR1cm4oYi5ocmVmTm9IYXNoPT09eC5ocmVmTm9IYXNofHxGJiZiLmhyZWZOb0hhc2g9PT11LmhyZWZOb0hhc2gpJiYKKCFiLmhhc2h8fGIuaGFzaD09PSIjInx8ZCYmYi5oYXNoLnJlcGxhY2UoL14jLywiIik9PT1kKX0saXNFbWJlZGRlZFBhZ2U6ZnVuY3Rpb24oYSl7YT1tLnBhcnNlVXJsKGEpO3JldHVybiBhLnByb3RvY29sIT09IiI/YS5oYXNoJiYoYS5ocmVmTm9IYXNoPT09eC5ocmVmTm9IYXNofHxGJiZhLmhyZWZOb0hhc2g9PT11LmhyZWZOb0hhc2gpOi9eIy8udGVzdChhLmhyZWYpfSxpc1Blcm1pdHRlZENyb3NzRG9tYWluUmVxdWVzdDpmdW5jdGlvbihiLGMpe3JldHVybiBhLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXMmJmIucHJvdG9jb2w9PT0iZmlsZToiJiZjLnNlYXJjaCgvXmh0dHBzPzovKSE9LTF9fSxsPW51bGwsbj17c3RhY2s6W10sYWN0aXZlSW5kZXg6MCxnZXRBY3RpdmU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5zdGFja1tuLmFjdGl2ZUluZGV4XX0sZ2V0UHJldjpmdW5jdGlvbigpe3JldHVybiBuLnN0YWNrW24uYWN0aXZlSW5kZXgtMV19LGdldE5leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5zdGFja1tuLmFjdGl2ZUluZGV4KwoxXX0sYWRkTmV3OmZ1bmN0aW9uKGEsYixjLGQsZSl7bi5nZXROZXh0KCkmJm4uY2xlYXJGb3J3YXJkKCk7bi5zdGFjay5wdXNoKHt1cmw6YSx0cmFuc2l0aW9uOmIsdGl0bGU6YyxwYWdlVXJsOmQscm9sZTplfSk7bi5hY3RpdmVJbmRleD1uLnN0YWNrLmxlbmd0aC0xfSxjbGVhckZvcndhcmQ6ZnVuY3Rpb24oKXtuLnN0YWNrPW4uc3RhY2suc2xpY2UoMCxuLmFjdGl2ZUluZGV4KzEpfSxkaXJlY3RIYXNoQ2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBkLGUsZzt0aGlzLmdldEFjdGl2ZSgpO2EuZWFjaChuLnN0YWNrLGZ1bmN0aW9uKGEsYyl7ZGVjb2RlVVJJQ29tcG9uZW50KGIuY3VycmVudFVybCk9PT1kZWNvZGVVUklDb21wb25lbnQoYy51cmwpJiYoZD1hPG4uYWN0aXZlSW5kZXgsZT0hZCxnPWEpfSk7dGhpcy5hY3RpdmVJbmRleD1nIT09Yz9nOnRoaXMuYWN0aXZlSW5kZXg7ZD8oYi5laXRoZXJ8fGIuaXNCYWNrKSh0cnVlKTplJiYoYi5laXRoZXJ8fGIuaXNGb3J3YXJkKShmYWxzZSl9LAppZ25vcmVOZXh0SGFzaENoYW5nZTpmYWxzZX0scj1bXSxvPWZhbHNlLHQ9IiZ1aS1zdGF0ZT1kaWFsb2ciLHY9cC5jaGlsZHJlbigiYmFzZSIpLHg9bS5wYXJzZUxvY2F0aW9uKCksdT12Lmxlbmd0aD9tLnBhcnNlVXJsKG0ubWFrZVVybEFic29sdXRlKHYuYXR0cigiaHJlZiIpLHguaHJlZikpOngsRj14LmhyZWZOb0hhc2ghPT11LmhyZWZOb0hhc2gsej1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQseT1hLnN1cHBvcnQuZHluYW1pY0Jhc2VUYWc/e2VsZW1lbnQ6di5sZW5ndGg/djphKCI8YmFzZT4iLHtocmVmOnUuaHJlZk5vSGFzaH0pLnByZXBlbmRUbyhwKSxzZXQ6ZnVuY3Rpb24oYSl7eS5lbGVtZW50LmF0dHIoImhyZWYiLG0ubWFrZVVybEFic29sdXRlKGEsdSkpfSxyZXNldDpmdW5jdGlvbigpe3kuZWxlbWVudC5hdHRyKCJocmVmIix1LmhyZWZOb0hhc2gpfX06YzthLm1vYmlsZS5iYWNrPWZ1bmN0aW9uKCl7dmFyIGE9cy5uYXZpZ2F0b3I7dGhpcy5waG9uZWdhcE5hdmlnYXRpb25FbmFibGVkJiYKYSYmYS5hcHAmJmEuYXBwLmJhY2tIaXN0b3J5P2EuYXBwLmJhY2tIaXN0b3J5KCk6cy5oaXN0b3J5LmJhY2soKX07YS5tb2JpbGUuZm9jdXNQYWdlPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZmluZCgiW2F1dG9mb2N1c10iKSxjPWEuZmluZCgiLnVpLXRpdGxlOmVxKDApIik7Yi5sZW5ndGg/Yi5mb2N1cygpOmMubGVuZ3RoP2MuZm9jdXMoKTphLmZvY3VzKCl9O3ZhciBFPXRydWUsQSxCO0E9ZnVuY3Rpb24oKXtpZihFKXt2YXIgYj1hLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpO2lmKGIpe3ZhciBjPXEuc2Nyb2xsVG9wKCk7Yi5sYXN0U2Nyb2xsPWM8YS5tb2JpbGUubWluU2Nyb2xsQmFjaz9hLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbDpjfX19O0I9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KEEsMTAwKX07cS5iaW5kKGEuc3VwcG9ydC5wdXNoU3RhdGU/InBvcHN0YXRlIjoiaGFzaGNoYW5nZSIsZnVuY3Rpb24oKXtFPWZhbHNlfSk7cS5vbmUoYS5zdXBwb3J0LnB1c2hTdGF0ZT8icG9wc3RhdGUiOgoiaGFzaGNoYW5nZSIsZnVuY3Rpb24oKXtFPXRydWV9KTtxLm9uZSgicGFnZWNvbnRhaW5lcmNyZWF0ZSIsZnVuY3Rpb24oKXthLm1vYmlsZS5wYWdlQ29udGFpbmVyLmJpbmQoInBhZ2VjaGFuZ2UiLGZ1bmN0aW9uKCl7RT10cnVlO3EudW5iaW5kKCJzY3JvbGxzdG9wIixCKTtxLmJpbmQoInNjcm9sbHN0b3AiLEIpfSl9KTtxLmJpbmQoInNjcm9sbHN0b3AiLEIpO2EuZm4uYW5pbWF0aW9uQ29tcGxldGU9ZnVuY3Rpb24oYil7cmV0dXJuIGEuc3VwcG9ydC5jc3NUcmFuc2l0aW9ucz9hKHRoaXMpLm9uZSgid2Via2l0QW5pbWF0aW9uRW5kIGFuaW1hdGlvbmVuZCIsYik6KHNldFRpbWVvdXQoYiwwKSxhKHRoaXMpKX07YS5tb2JpbGUucGF0aD1tO2EubW9iaWxlLmJhc2U9eTthLm1vYmlsZS51cmxIaXN0b3J5PW47YS5tb2JpbGUuZGlhbG9nSGFzaEtleT10O2EubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcz1mYWxzZTthLm1vYmlsZS5nZXREb2N1bWVudFVybD1mdW5jdGlvbihiKXtyZXR1cm4gYj8KYS5leHRlbmQoe30seCk6eC5ocmVmfTthLm1vYmlsZS5nZXREb2N1bWVudEJhc2U9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30sdSk6dS5ocmVmfTthLm1vYmlsZS5fYmluZFBhZ2VSZW1vdmU9ZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpOyFiLmRhdGEoInBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlJiZiLmlzKCI6anFtRGF0YShleHRlcm5hbC1wYWdlPSd0cnVlJykiKSYmYi5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiLGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxjPW5ldyBhLkV2ZW50KCJwYWdlcmVtb3ZlIik7Yi50cmlnZ2VyKGMpO2MuaXNEZWZhdWx0UHJldmVudGVkKCl8fGIucmVtb3ZlV2l0aERlcGVuZGVudHMoKX0pfTthLm1vYmlsZS5sb2FkUGFnZT1mdW5jdGlvbihiLGQpe3ZhciBlPWEuRGVmZXJyZWQoKSxoPWEuZXh0ZW5kKHt9LGEubW9iaWxlLmxvYWRQYWdlLmRlZmF1bHRzLGQpLGY9bnVsbCxuPW51bGwsaz1tLm1ha2VVcmxBYnNvbHV0ZShiLGEubW9iaWxlLmFjdGl2ZVBhZ2UmJgpqKGEubW9iaWxlLmFjdGl2ZVBhZ2UpfHx1LmhyZWZOb0hhc2gpO2lmKGguZGF0YSYmaC50eXBlPT09ImdldCIpaz1tLmFkZFNlYXJjaFBhcmFtcyhrLGguZGF0YSksaC5kYXRhPWM7aWYoaC5kYXRhJiZoLnR5cGU9PT0icG9zdCIpaC5yZWxvYWRQYWdlPXRydWU7dmFyIHE9bS5nZXRGaWxlUGF0aChrKSxwPW0uY29udmVydFVybFRvRGF0YVVybChrKTtoLnBhZ2VDb250YWluZXI9aC5wYWdlQ29udGFpbmVyfHxhLm1vYmlsZS5wYWdlQ29udGFpbmVyO2Y9aC5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCJbZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmw9JyIrcCsiJ10iKTtmLmxlbmd0aD09PTAmJnAmJiFtLmlzUGF0aChwKSYmKGY9aC5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCIjIitwKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIscCkpO2lmKGYubGVuZ3RoPT09MClpZihhLm1vYmlsZS5maXJzdFBhZ2UmJm0uaXNGaXJzdFBhZ2VVcmwocSkpYS5tb2JpbGUuZmlyc3RQYWdlLnBhcmVudCgpLmxlbmd0aCYmCihmPWEoYS5tb2JpbGUuZmlyc3RQYWdlKSk7ZWxzZSBpZihtLmlzRW1iZWRkZWRQYWdlKHEpKXJldHVybiBlLnJlamVjdChrLGQpLGUucHJvbWlzZSgpO2lmKGYubGVuZ3RoKXtpZighaC5yZWxvYWRQYWdlKXJldHVybiBnKGYsaC5yb2xlKSxlLnJlc29sdmUoayxkLGYpLHkmJiFkLnByZWZldGNoJiZ5LnNldChiKSxlLnByb21pc2UoKTtuPWZ9dmFyIGw9aC5wYWdlQ29udGFpbmVyLHY9bmV3IGEuRXZlbnQoInBhZ2ViZWZvcmVsb2FkIiksbz17dXJsOmIsYWJzVXJsOmssZGF0YVVybDpwLGRlZmVycmVkOmUsb3B0aW9uczpofTtsLnRyaWdnZXIodixvKTtpZih2LmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybiBlLnByb21pc2UoKTtpZihoLnNob3dMb2FkTXNnKXZhciByPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coKX0saC5sb2FkTXNnRGVsYXkpO3kmJnR5cGVvZiBkLnByZWZldGNoPT09InVuZGVmaW5lZCImJnkucmVzZXQoKTshYS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzJiYKIW0uaXNTYW1lRG9tYWluKHgsayk/ZS5yZWplY3QoayxkKTphLmFqYXgoe3VybDpxLHR5cGU6aC50eXBlLGRhdGE6aC5kYXRhLGRhdGFUeXBlOiJodG1sIixzdWNjZXNzOmZ1bmN0aW9uKGMsaix4KXt2YXIgbD1hKCI8ZGl2PjwvZGl2PiIpLHY9Yy5tYXRjaCgvPHRpdGxlW14+XSo+KFtePF0qKS8pJiZSZWdFeHAuJDEsdT1SZWdFeHAoIlxcYmRhdGEtIithLm1vYmlsZS5ucysidXJsPVtcIiddPyhbXlwiJz5dKilbXCInXT8iKTtSZWdFeHAoIig8W14+XStcXGJkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9W1wiJ10/cGFnZVtcIiddP1tePl0qPikiKS50ZXN0KGMpJiZSZWdFeHAuJDEmJnUudGVzdChSZWdFeHAuJDEpJiZSZWdFeHAuJDEmJihiPXE9bS5nZXRGaWxlUGF0aChSZWdFeHAuJDEpKTt5JiZ0eXBlb2YgZC5wcmVmZXRjaD09PSJ1bmRlZmluZWQiJiZ5LnNldChxKTtsLmdldCgwKS5pbm5lckhUTUw9YztmPWwuZmluZCgiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpcnN0KCk7CmYubGVuZ3RofHwoZj1hKCI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0ncGFnZSc+IitjLnNwbGl0KC88XC8/Ym9keVtePl0qPi9nbWkpWzFdKyI8L2Rpdj4iKSk7diYmIWYuanFtRGF0YSgidGl0bGUiKSYmKH52LmluZGV4T2YoIiYiKSYmKHY9YSgiPGRpdj4iK3YrIjwvZGl2PiIpLnRleHQoKSksZi5qcW1EYXRhKCJ0aXRsZSIsdikpO2lmKCFhLnN1cHBvcnQuZHluYW1pY0Jhc2VUYWcpe3ZhciB0PW0uZ2V0KHEpO2YuZmluZCgiW3NyY10sIGxpbmtbaHJlZl0sIGFbcmVsPSdleHRlcm5hbCddLCA6anFtRGF0YShhamF4PSdmYWxzZScpLCBhW3RhcmdldF0iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKS5pcygiW2hyZWZdIik/ImhyZWYiOmEodGhpcykuaXMoIltzcmNdIik/InNyYyI6ImFjdGlvbiIsYz1hKHRoaXMpLmF0dHIoYiksYz1jLnJlcGxhY2UobG9jYXRpb24ucHJvdG9jb2wrIi8vIitsb2NhdGlvbi5ob3N0K2xvY2F0aW9uLnBhdGhuYW1lLCIiKTsvXihcdys6fCN8XC8pLy50ZXN0KGMpfHwKYSh0aGlzKS5hdHRyKGIsdCtjKX0pfWYuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmwiLG0uY29udmVydFVybFRvRGF0YVVybChxKSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJleHRlcm5hbC1wYWdlIix0cnVlKS5hcHBlbmRUbyhoLnBhZ2VDb250YWluZXIpO2Yub25lKCJwYWdlY3JlYXRlIixhLm1vYmlsZS5fYmluZFBhZ2VSZW1vdmUpO2coZixoLnJvbGUpO2suaW5kZXhPZigiJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSk+LTEmJihmPWgucGFnZUNvbnRhaW5lci5jaGlsZHJlbigiW2RhdGEtIithLm1vYmlsZS5ucysidXJsPSciK3ArIiddIikpO2guc2hvd0xvYWRNc2cmJihjbGVhclRpbWVvdXQociksYS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnKCkpO28ueGhyPXg7by50ZXh0U3RhdHVzPWo7by5wYWdlPWY7aC5wYWdlQ29udGFpbmVyLnRyaWdnZXIoInBhZ2Vsb2FkIixvKTtlLnJlc29sdmUoayxkLGYsbil9LGVycm9yOmZ1bmN0aW9uKGIsYyxnKXt5JiZ5LnNldChtLmdldCgpKTsKby54aHI9YjtvLnRleHRTdGF0dXM9YztvLmVycm9yVGhyb3duPWc7Yj1uZXcgYS5FdmVudCgicGFnZWxvYWRmYWlsZWQiKTtoLnBhZ2VDb250YWluZXIudHJpZ2dlcihiLG8pO2IuaXNEZWZhdWx0UHJldmVudGVkKCl8fChoLnNob3dMb2FkTXNnJiYoY2xlYXJUaW1lb3V0KHIpLGEubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpLGEubW9iaWxlLnNob3dQYWdlTG9hZGluZ01zZyhhLm1vYmlsZS5wYWdlTG9hZEVycm9yTWVzc2FnZVRoZW1lLGEubW9iaWxlLnBhZ2VMb2FkRXJyb3JNZXNzYWdlLHRydWUpLHNldFRpbWVvdXQoYS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnLDE1MDApKSxlLnJlamVjdChrLGQpKX19KTtyZXR1cm4gZS5wcm9taXNlKCl9O2EubW9iaWxlLmxvYWRQYWdlLmRlZmF1bHRzPXt0eXBlOiJnZXQiLGRhdGE6YyxyZWxvYWRQYWdlOmZhbHNlLHJvbGU6YyxzaG93TG9hZE1zZzpmYWxzZSxwYWdlQ29udGFpbmVyOmMsbG9hZE1zZ0RlbGF5OjUwfTthLm1vYmlsZS5jaGFuZ2VQYWdlPQpmdW5jdGlvbihoLGope2lmKG8pci51bnNoaWZ0KGFyZ3VtZW50cyk7ZWxzZXt2YXIgZj1hLmV4dGVuZCh7fSxhLm1vYmlsZS5jaGFuZ2VQYWdlLmRlZmF1bHRzLGopO2YucGFnZUNvbnRhaW5lcj1mLnBhZ2VDb250YWluZXJ8fGEubW9iaWxlLnBhZ2VDb250YWluZXI7Zi5mcm9tUGFnZT1mLmZyb21QYWdlfHxhLm1vYmlsZS5hY3RpdmVQYWdlO3ZhciBxPWYucGFnZUNvbnRhaW5lcixwPW5ldyBhLkV2ZW50KCJwYWdlYmVmb3JlY2hhbmdlIiksbD17dG9QYWdlOmgsb3B0aW9uczpmfTtxLnRyaWdnZXIocCxsKTtpZighcC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlpZihoPWwudG9QYWdlLG89dHJ1ZSx0eXBlb2YgaD09InN0cmluZyIpYS5tb2JpbGUubG9hZFBhZ2UoaCxmKS5kb25lKGZ1bmN0aW9uKGIsYyxkLGUpe289ZmFsc2U7Yy5kdXBsaWNhdGVDYWNoZWRQYWdlPWU7YS5tb2JpbGUuY2hhbmdlUGFnZShkLGMpfSkuZmFpbChmdW5jdGlvbigpe2IodHJ1ZSk7ZCgpO2YucGFnZUNvbnRhaW5lci50cmlnZ2VyKCJwYWdlY2hhbmdlZmFpbGVkIiwKbCl9KTtlbHNle2lmKGhbMF09PT1hLm1vYmlsZS5maXJzdFBhZ2VbMF0mJiFmLmRhdGFVcmwpZi5kYXRhVXJsPXguaHJlZk5vSGFzaDt2YXIgcD1mLmZyb21QYWdlLHY9Zi5kYXRhVXJsJiZtLmNvbnZlcnRVcmxUb0RhdGFVcmwoZi5kYXRhVXJsKXx8aC5qcW1EYXRhKCJ1cmwiKSx1PXY7bS5nZXRGaWxlUGF0aCh2KTt2YXIgdz1uLmdldEFjdGl2ZSgpLHo9bi5hY3RpdmVJbmRleD09PTAscz0wLHk9ay50aXRsZSxGPWYucm9sZT09PSJkaWFsb2cifHxoLmpxbURhdGEoInJvbGUiKT09PSJkaWFsb2ciO2lmKHAmJnBbMF09PT1oWzBdJiYhZi5hbGxvd1NhbWVQYWdlVHJhbnNpdGlvbilvPWZhbHNlLHEudHJpZ2dlcigicGFnZWNoYW5nZSIsbCksZi5mcm9tSGFzaENoYW5nZSYmbi5kaXJlY3RIYXNoQ2hhbmdlKHtjdXJyZW50VXJsOnYsaXNCYWNrOmZ1bmN0aW9uKCl7fSxpc0ZvcndhcmQ6ZnVuY3Rpb24oKXt9fSk7ZWxzZXtnKGgsZi5yb2xlKTtmLmZyb21IYXNoQ2hhbmdlJiZuLmRpcmVjdEhhc2hDaGFuZ2Uoe2N1cnJlbnRVcmw6diwKaXNCYWNrOmZ1bmN0aW9uKCl7cz0tMX0saXNGb3J3YXJkOmZ1bmN0aW9uKCl7cz0xfX0pO3RyeXtrLmFjdGl2ZUVsZW1lbnQmJmsuYWN0aXZlRWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT0iYm9keSI/YShrLmFjdGl2ZUVsZW1lbnQpLmJsdXIoKTphKCJpbnB1dDpmb2N1cywgdGV4dGFyZWE6Zm9jdXMsIHNlbGVjdDpmb2N1cyIpLmJsdXIoKX1jYXRjaChBKXt9dmFyIEU9ZmFsc2U7aWYoRiYmdyl7aWYody51cmwmJncudXJsLmluZGV4T2YodCk+LTEmJiFhLm1vYmlsZS5hY3RpdmVQYWdlLmlzKCIudWktZGlhbG9nIikpZi5jaGFuZ2VIYXNoPWZhbHNlLEU9dHJ1ZTt2PSh3LnVybHx8IiIpK3Q7bi5hY3RpdmVJbmRleD09PTAmJnY9PT1uLmluaXRpYWxEc3QmJih2Kz10KX1pZihmLmNoYW5nZUhhc2ghPT1mYWxzZSYmdiluLmlnbm9yZU5leHRIYXNoQ2hhbmdlPXRydWUsbS5zZXQodik7dmFyIEI9IXc/eTpoLmpxbURhdGEoInRpdGxlIil8fGguY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIikuZmluZCgiLnVpLXRpdGxlIikuZ2V0RW5jb2RlZFRleHQoKTsKQiYmeT09ay50aXRsZSYmKHk9Qik7aC5qcW1EYXRhKCJ0aXRsZSIpfHxoLmpxbURhdGEoInRpdGxlIix5KTtmLnRyYW5zaXRpb249Zi50cmFuc2l0aW9ufHwocyYmIXo/dy50cmFuc2l0aW9uOmMpfHwoRj9hLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbjphLm1vYmlsZS5kZWZhdWx0UGFnZVRyYW5zaXRpb24pOyFzJiYhRSYmbi5hZGROZXcodixmLnRyYW5zaXRpb24seSx1LGYucm9sZSk7ay50aXRsZT1uLmdldEFjdGl2ZSgpLnRpdGxlO2EubW9iaWxlLmFjdGl2ZVBhZ2U9aDtmLnJldmVyc2U9Zi5yZXZlcnNlfHxzPDA7ZShoLHAsZi50cmFuc2l0aW9uLGYucmV2ZXJzZSkuZG9uZShmdW5jdGlvbihjLGUsZyxqLGspe2IoKTtmLmR1cGxpY2F0ZUNhY2hlZFBhZ2UmJmYuZHVwbGljYXRlQ2FjaGVkUGFnZS5yZW1vdmUoKTtrfHxhLm1vYmlsZS5mb2N1c1BhZ2UoaCk7ZCgpO3EudHJpZ2dlcigicGFnZWNoYW5nZSIsbCl9KX19fX07YS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cz0Ke3RyYW5zaXRpb246YyxyZXZlcnNlOmZhbHNlLGNoYW5nZUhhc2g6dHJ1ZSxmcm9tSGFzaENoYW5nZTpmYWxzZSxyb2xlOmMsZHVwbGljYXRlQ2FjaGVkUGFnZTpjLHBhZ2VDb250YWluZXI6YyxzaG93TG9hZE1zZzp0cnVlLGRhdGFVcmw6Yyxmcm9tUGFnZTpjLGFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uOmZhbHNlfTthLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkPWEuRGVmZXJyZWQoKTthLm1vYmlsZS5fcmVnaXN0ZXJJbnRlcm5hbEV2ZW50cz1mdW5jdGlvbigpe2EoaykuZGVsZWdhdGUoImZvcm0iLCJzdWJtaXQiLGZ1bmN0aW9uKGIpe3ZhciBjPWEodGhpcyk7aWYoYS5tb2JpbGUuYWpheEVuYWJsZWQmJiFjLmlzKCI6anFtRGF0YShhamF4PSdmYWxzZScpIikmJmMuanFtSGlqYWNrYWJsZSgpLmxlbmd0aCl7dmFyIGQ9Yy5hdHRyKCJtZXRob2QiKSxlPWMuYXR0cigidGFyZ2V0IiksaD1jLmF0dHIoImFjdGlvbiIpO2lmKCFoJiYoaD1qKGMpLGg9PT11LmhyZWZOb0hhc2gpKWg9eC5ocmVmTm9TZWFyY2g7Cmg9bS5tYWtlVXJsQWJzb2x1dGUoaCxqKGMpKTttLmlzRXh0ZXJuYWwoaCkmJiFtLmlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0KHgsaCl8fGV8fChhLm1vYmlsZS5jaGFuZ2VQYWdlKGgse3R5cGU6ZCYmZC5sZW5ndGgmJmQudG9Mb3dlckNhc2UoKXx8ImdldCIsZGF0YTpjLnNlcmlhbGl6ZSgpLHRyYW5zaXRpb246Yy5qcW1EYXRhKCJ0cmFuc2l0aW9uIiksZGlyZWN0aW9uOmMuanFtRGF0YSgiZGlyZWN0aW9uIikscmVsb2FkUGFnZTp0cnVlfSksYi5wcmV2ZW50RGVmYXVsdCgpKX19KTthKGspLmJpbmQoInZjbGljayIsZnVuY3Rpb24oYyl7aWYoIShjLndoaWNoPjEpJiZhLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQmJihjPWgoYy50YXJnZXQpLGEoYykuanFtSGlqYWNrYWJsZSgpLmxlbmd0aCYmYyYmbS5wYXJzZVVybChjLmdldEF0dHJpYnV0ZSgiaHJlZiIpfHwiIyIpLmhhc2ghPT0iIyIpKWIodHJ1ZSksbD1hKGMpLmNsb3Nlc3QoIi51aS1idG4iKS5ub3QoIi51aS1kaXNhYmxlZCIpLApsLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pO2EoaykuYmluZCgiY2xpY2siLGZ1bmN0aW9uKGQpe2lmKGEubW9iaWxlLmxpbmtCaW5kaW5nRW5hYmxlZCl7dmFyIGU9aChkLnRhcmdldCksZj1hKGUpLGc7aWYoZSYmIShkLndoaWNoPjEpJiZmLmpxbUhpamFja2FibGUoKS5sZW5ndGgpe2c9ZnVuY3Rpb24oKXtzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiKHRydWUpfSwyMDApfTtpZihmLmlzKCI6anFtRGF0YShyZWw9J2JhY2snKSIpKXJldHVybiBhLm1vYmlsZS5iYWNrKCksZmFsc2U7dmFyIGs9aihmKSxlPW0ubWFrZVVybEFic29sdXRlKGYuYXR0cigiaHJlZiIpfHwiIyIsayk7aWYoIWEubW9iaWxlLmFqYXhFbmFibGVkJiYhbS5pc0VtYmVkZGVkUGFnZShlKSlnKCk7ZWxzZXtpZihlLnNlYXJjaCgiIyIpIT0tMSlpZihlPWUucmVwbGFjZSgvW14jXSojLywiIikpZT1tLmlzUGF0aChlKT9tLm1ha2VVcmxBYnNvbHV0ZShlLGspOm0ubWFrZVVybEFic29sdXRlKCIjIisKZSx4LmhyZWZOb0hhc2gpO2Vsc2V7ZC5wcmV2ZW50RGVmYXVsdCgpO3JldHVybn1mLmlzKCJbcmVsPSdleHRlcm5hbCddIil8fGYuaXMoIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiKXx8Zi5pcygiW3RhcmdldF0iKXx8bS5pc0V4dGVybmFsKGUpJiYhbS5pc1Blcm1pdHRlZENyb3NzRG9tYWluUmVxdWVzdCh4LGUpP2coKTooZz1mLmpxbURhdGEoInRyYW5zaXRpb24iKSxrPShrPWYuanFtRGF0YSgiZGlyZWN0aW9uIikpJiZrPT09InJldmVyc2UifHxmLmpxbURhdGEoImJhY2siKSxmPWYuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyZWwiKXx8YyxhLm1vYmlsZS5jaGFuZ2VQYWdlKGUse3RyYW5zaXRpb246ZyxyZXZlcnNlOmsscm9sZTpmfSksZC5wcmV2ZW50RGVmYXVsdCgpKX19fX0pO2EoaykuZGVsZWdhdGUoIi51aS1wYWdlIiwicGFnZXNob3cucHJlZmV0Y2giLGZ1bmN0aW9uKCl7dmFyIGI9W107YSh0aGlzKS5maW5kKCJhOmpxbURhdGEocHJlZmV0Y2gpIikuZWFjaChmdW5jdGlvbigpe3ZhciBjPQphKHRoaXMpLGQ9Yy5hdHRyKCJocmVmIik7ZCYmYS5pbkFycmF5KGQsYik9PT0tMSYmKGIucHVzaChkKSxhLm1vYmlsZS5sb2FkUGFnZShkLHtyb2xlOmMuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyZWwiKSxwcmVmZXRjaDp0cnVlfSkpfSl9KTthLm1vYmlsZS5faGFuZGxlSGFzaENoYW5nZT1mdW5jdGlvbihiKXt2YXIgZD1tLnN0cmlwSGFzaChiKSxlPXt0cmFuc2l0aW9uOmEubW9iaWxlLnVybEhpc3Rvcnkuc3RhY2subGVuZ3RoPT09MD8ibm9uZSI6YyxjaGFuZ2VIYXNoOmZhbHNlLGZyb21IYXNoQ2hhbmdlOnRydWV9O2lmKDA9PT1uLnN0YWNrLmxlbmd0aCluLmluaXRpYWxEc3Q9ZDtpZighYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWR8fG4uaWdub3JlTmV4dEhhc2hDaGFuZ2Upbi5pZ25vcmVOZXh0SGFzaENoYW5nZT1mYWxzZTtlbHNle2lmKG4uc3RhY2subGVuZ3RoPjEmJmQuaW5kZXhPZih0KT4tMSYmbi5pbml0aWFsRHN0IT09ZClpZihhLm1vYmlsZS5hY3RpdmVQYWdlLmlzKCIudWktZGlhbG9nIikpbi5kaXJlY3RIYXNoQ2hhbmdlKHtjdXJyZW50VXJsOmQsCmVpdGhlcjpmdW5jdGlvbihiKXt2YXIgYz1hLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpO2Q9Yy5wYWdlVXJsO2EuZXh0ZW5kKGUse3JvbGU6Yy5yb2xlLHRyYW5zaXRpb246Yy50cmFuc2l0aW9uLHJldmVyc2U6Yn0pfX0pO2Vsc2V7bi5kaXJlY3RIYXNoQ2hhbmdlKHtjdXJyZW50VXJsOmQsaXNCYWNrOmZ1bmN0aW9uKCl7YS5tb2JpbGUuYmFjaygpfSxpc0ZvcndhcmQ6ZnVuY3Rpb24oKXtzLmhpc3RvcnkuZm9yd2FyZCgpfX0pO3JldHVybn1kPyhkPXR5cGVvZiBkPT09InN0cmluZyImJiFtLmlzUGF0aChkKT9tLm1ha2VVcmxBYnNvbHV0ZSgiIyIrZCx1KTpkLGEubW9iaWxlLmNoYW5nZVBhZ2UoZCxlKSk6YS5tb2JpbGUuY2hhbmdlUGFnZShhLm1vYmlsZS5maXJzdFBhZ2UsZSl9fTtxLmJpbmQoImhhc2hjaGFuZ2UiLGZ1bmN0aW9uKCl7YS5tb2JpbGUuX2hhbmRsZUhhc2hDaGFuZ2UobS5wYXJzZUxvY2F0aW9uKCkuaGFzaCl9KTthKGspLmJpbmQoInBhZ2VzaG93IixmKTsKYShzKS5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGYpfTthLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkLmRvbmUoZnVuY3Rpb24oKXthLm1vYmlsZS5fcmVnaXN0ZXJJbnRlcm5hbEV2ZW50cygpfSl9KShsKTsoZnVuY3Rpb24oYSxjKXt2YXIgYj17fSxkPWEoYyksZT1hLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKSxmPWEuRGVmZXJyZWQoKSxnPWEuRGVmZXJyZWQoKTthKGspLnJlYWR5KGEucHJveHkoZywicmVzb2x2ZSIpKTthKGspLm9uZSgibW9iaWxlaW5pdCIsYS5wcm94eShmLCJyZXNvbHZlIikpO2EuZXh0ZW5kKGIse2luaXRpYWxGaWxlUGF0aDplLnBhdGhuYW1lK2Uuc2VhcmNoLGhhc2hDaGFuZ2VUaW1lb3V0OjIwMCxoYXNoQ2hhbmdlRW5hYmxlVGltZXI6Qyxpbml0aWFsSHJlZjplLmhyZWZOb0hhc2gsc3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm57aGFzaDphLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKS5oYXNofHwiIyIrYi5pbml0aWFsRmlsZVBhdGgsdGl0bGU6ay50aXRsZSwKaW5pdGlhbEhyZWY6Yi5pbml0aWFsSHJlZn19LHJlc2V0VUlLZXlzOmZ1bmN0aW9uKGIpe3ZhciBjPSImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5LGQ9Yi5pbmRleE9mKGEubW9iaWxlLmRpYWxvZ0hhc2hLZXkpO2Q+LTE/Yj1iLnNsaWNlKDAsZCkrIiMiK2Iuc2xpY2UoZCk6Yi5pbmRleE9mKGMpPi0xJiYoYj1iLnNwbGl0KGMpLmpvaW4oIiMiK2MpKTtyZXR1cm4gYn0sbmV4dEhhc2hDaGFuZ2VQcmV2ZW50ZWQ6ZnVuY3Rpb24oYyl7YS5tb2JpbGUudXJsSGlzdG9yeS5pZ25vcmVOZXh0SGFzaENoYW5nZT1jO2Iub25IYXNoQ2hhbmdlRGlzYWJsZWQ9Y30sb25IYXNoQ2hhbmdlOmZ1bmN0aW9uKCl7aWYoIWIub25IYXNoQ2hhbmdlRGlzYWJsZWQpe3ZhciBjLGQ7Yz1hLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKS5oYXNoO3ZhciBlPWEubW9iaWxlLnBhdGguaXNQYXRoKGMpLGY9ZT9hLm1vYmlsZS5wYXRoLmdldExvY2F0aW9uKCk6YS5tb2JpbGUuZ2V0RG9jdW1lbnRVcmwoKTtjPQplP2MucmVwbGFjZSgiIyIsIiIpOmM7ZD1iLnN0YXRlKCk7Yz1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShjLGYpO2UmJihjPWIucmVzZXRVSUtleXMoYykpO2hpc3RvcnkucmVwbGFjZVN0YXRlKGQsay50aXRsZSxjKX19LG9uUG9wU3RhdGU6ZnVuY3Rpb24oYyl7aWYoYz1jLm9yaWdpbmFsRXZlbnQuc3RhdGUpY2xlYXJUaW1lb3V0KGIuaGFzaENoYW5nZUVuYWJsZVRpbWVyKSxiLm5leHRIYXNoQ2hhbmdlUHJldmVudGVkKGZhbHNlKSxhLm1vYmlsZS5faGFuZGxlSGFzaENoYW5nZShjLmhhc2gpLGIubmV4dEhhc2hDaGFuZ2VQcmV2ZW50ZWQodHJ1ZSksYi5oYXNoQ2hhbmdlRW5hYmxlVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2IubmV4dEhhc2hDaGFuZ2VQcmV2ZW50ZWQoZmFsc2UpfSxiLmhhc2hDaGFuZ2VUaW1lb3V0KX0saW5pdDpmdW5jdGlvbigpe2QuYmluZCgiaGFzaGNoYW5nZSIsYi5vbkhhc2hDaGFuZ2UpO2QuYmluZCgicG9wc3RhdGUiLGIub25Qb3BTdGF0ZSk7CmxvY2F0aW9uLmhhc2g9PT0iIiYmaGlzdG9yeS5yZXBsYWNlU3RhdGUoYi5zdGF0ZSgpLGsudGl0bGUsYS5tb2JpbGUucGF0aC5nZXRMb2NhdGlvbigpKX19KTthLndoZW4oZyxmLGEubW9iaWxlLm5hdnJlYWR5RGVmZXJyZWQpLmRvbmUoZnVuY3Rpb24oKXthLm1vYmlsZS5wdXNoU3RhdGVFbmFibGVkJiZhLnN1cHBvcnQucHVzaFN0YXRlJiZiLmluaXQoKX0pfSkobCx0aGlzKTtsLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnBvcD0iZmFkZSI7KGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycy5zbGlkZT1hLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2ltdWx0YW5lb3VzO2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGU9ImZhZGUifSkobCx0aGlzKTtsLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlZG93bj0iZmFkZSI7bC5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZXVwPSJmYWRlIjtsLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLmZsaXA9CiJmYWRlIjtsLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLmZsb3c9ImZhZGUiO2wubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MudHVybj0iZmFkZSI7KGZ1bmN0aW9uKGEpe2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuZGVncmFkZUlucHV0cz17Y29sb3I6ZmFsc2UsZGF0ZTpmYWxzZSxkYXRldGltZTpmYWxzZSwiZGF0ZXRpbWUtbG9jYWwiOmZhbHNlLGVtYWlsOmZhbHNlLG1vbnRoOmZhbHNlLG51bWJlcjpmYWxzZSxyYW5nZToibnVtYmVyIixzZWFyY2g6InRleHQiLHRlbDpmYWxzZSx0aW1lOmZhbHNlLHVybDpmYWxzZSx3ZWVrOmZhbHNlfTthKGspLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihjKXt2YXIgYj1hLm1vYmlsZS5jbG9zZXN0UGFnZURhdGEoYShjLnRhcmdldCkpLGQ7aWYoYilkPWIub3B0aW9ucyxhKGMudGFyZ2V0KS5maW5kKCJpbnB1dCIpLm5vdChiLmtlZXBOYXRpdmVTZWxlY3RvcigpKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSwKYz10aGlzLmdldEF0dHJpYnV0ZSgidHlwZSIpLGc9ZC5kZWdyYWRlSW5wdXRzW2NdfHwidGV4dCI7aWYoZC5kZWdyYWRlSW5wdXRzW2NdKXt2YXIgaD1hKCI8ZGl2PiIpLmh0bWwoYi5jbG9uZSgpKS5odG1sKCksaj1oLmluZGV4T2YoIiB0eXBlPSIpPi0xO2IucmVwbGFjZVdpdGgoaC5yZXBsYWNlKGo/L1xzK3R5cGU9WyInXT9cdytbJyJdPy86L1wvPz4vLCcgdHlwZT0iJytnKyciIGRhdGEtJythLm1vYmlsZS5ucysndHlwZT0iJytjKyciJysoaj8iIjoiPiIpKSl9fSl9KX0pKGwpOyhmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLmRpYWxvZyIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntjbG9zZUJ0blRleHQ6IkNsb3NlIixvdmVybGF5VGhlbWU6ImEiLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nZGlhbG9nJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxiPXRoaXMuZWxlbWVudCxkPWEoIjxhIGhyZWY9JyMnIGRhdGEtIithLm1vYmlsZS5ucysiaWNvbj0nZGVsZXRlJyBkYXRhLSIrCmEubW9iaWxlLm5zKyJpY29ucG9zPSdub3RleHQnPiIrdGhpcy5vcHRpb25zLmNsb3NlQnRuVGV4dCsiPC9hPiIpLGU9YSgiPGRpdi8+Iix7cm9sZToiZGlhbG9nIiwiY2xhc3MiOiJ1aS1kaWFsb2ctY29udGFpbiB1aS1jb3JuZXItYWxsIHVpLW92ZXJsYXktc2hhZG93In0pO2IuYWRkQ2xhc3MoInVpLWRpYWxvZyB1aS1vdmVybGF5LSIrdGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSk7Yi53cmFwSW5uZXIoZSkuY2hpbGRyZW4oKS5maW5kKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLnByZXBlbmQoZCkuZW5kKCkuY2hpbGRyZW4oIjpmaXJzdC1jaGlsZCIpLmFkZENsYXNzKCJ1aS1jb3JuZXItdG9wIikuZW5kKCkuY2hpbGRyZW4oIjpsYXN0LWNoaWxkIikuYWRkQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iKTtkLmJpbmQoImNsaWNrIixmdW5jdGlvbigpe2MuY2xvc2UoKX0pO2IuYmluZCgidmNsaWNrIHN1Ym1pdCIsZnVuY3Rpb24oYil7dmFyIGI9YShiLnRhcmdldCkuY2xvc2VzdChiLnR5cGU9PT0KInZjbGljayI/ImEiOiJmb3JtIiksYztiLmxlbmd0aCYmIWIuanFtRGF0YSgidHJhbnNpdGlvbiIpJiYoYz1hLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpfHx7fSxiLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidHJhbnNpdGlvbiIsYy50cmFuc2l0aW9ufHxhLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJkaXJlY3Rpb24iLCJyZXZlcnNlIikpfSkuYmluZCgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7Yy5faXNDbG9zZWQ9ZmFsc2U7YSh0aGlzKS5maW5kKCIuIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykubm90KCIudWktc2xpZGVyLWJnIikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgicGFnZWJlZm9yZXNob3ciLGZ1bmN0aW9uKCl7Yy5vcHRpb25zLm92ZXJsYXlUaGVtZSYmYy5lbGVtZW50LnBhZ2UoInJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQiKS5wYWdlKCJzZXRDb250YWluZXJCYWNrZ3JvdW5kIiwKYy5vcHRpb25zLm92ZXJsYXlUaGVtZSl9KX0sY2xvc2U6ZnVuY3Rpb24oKXt2YXIgYztpZighdGhpcy5faXNDbG9zZWQpdGhpcy5faXNDbG9zZWQ9dHJ1ZSxhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZD9hLm1vYmlsZS5iYWNrKCk6KGM9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRQcmV2KCkudXJsLGEubW9iaWxlLnBhdGguaXNQYXRoKGMpfHwoYz1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZSgiIyIrYykpLGEubW9iaWxlLmNoYW5nZVBhZ2UoYyx7Y2hhbmdlSGFzaDpmYWxzZSxmcm9tSGFzaENoYW5nZTp0cnVlfSkpfX0pO2EoaykuZGVsZWdhdGUoYS5tb2JpbGUuZGlhbG9nLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvciwicGFnZWNyZWF0ZSIsZnVuY3Rpb24oKXthLm1vYmlsZS5kaWFsb2cucHJvdG90eXBlLmVuaGFuY2UodGhpcyl9KX0pKGwsdGhpcyk7KGZ1bmN0aW9uKGEpe2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuYmFja0J0blRleHQ9IkJhY2siOwphLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmFkZEJhY2tCdG49ZmFsc2U7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5iYWNrQnRuVGhlbWU9bnVsbDthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmhlYWRlclRoZW1lPSJhIjthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmZvb3RlclRoZW1lPSJhIjthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmNvbnRlbnRUaGVtZT1udWxsO2EoaykuYmluZCgicGFnZWNyZWF0ZSIsZnVuY3Rpb24oYyl7dmFyIGI9YShjLnRhcmdldCksZD1iLmRhdGEoInBhZ2UiKS5vcHRpb25zLGU9Yi5qcW1EYXRhKCJyb2xlIiksZj1kLnRoZW1lO2EoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpLCA6anFtRGF0YShyb2xlPSdmb290ZXInKSwgOmpxbURhdGEocm9sZT0nY29udGVudCcpIixiKS5qcW1FbmhhbmNlYWJsZSgpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGg9Yy5qcW1EYXRhKCJyb2xlIiksCmo9Yy5qcW1EYXRhKCJ0aGVtZSIpLGs9anx8ZC5jb250ZW50VGhlbWV8fGU9PT0iZGlhbG9nIiYmZixwO2MuYWRkQ2xhc3MoInVpLSIraCk7aWYoaD09PSJoZWFkZXIifHxoPT09ImZvb3RlciIpe3ZhciBtPWp8fChoPT09ImhlYWRlciI/ZC5oZWFkZXJUaGVtZTpkLmZvb3RlclRoZW1lKXx8ZjtjLmFkZENsYXNzKCJ1aS1iYXItIittKS5hdHRyKCJyb2xlIixoPT09ImhlYWRlciI/ImJhbm5lciI6ImNvbnRlbnRpbmZvIik7aD09PSJoZWFkZXIiJiYoaj1jLmNoaWxkcmVuKCJhLCBidXR0b24iKSxwPWouaGFzQ2xhc3MoInVpLWJ0bi1sZWZ0Iiksaz1qLmhhc0NsYXNzKCJ1aS1idG4tcmlnaHQiKSxwPXB8fGouZXEoMCkubm90KCIudWktYnRuLXJpZ2h0IikuYWRkQ2xhc3MoInVpLWJ0bi1sZWZ0IikubGVuZ3RoLGt8fGouZXEoMSkuYWRkQ2xhc3MoInVpLWJ0bi1yaWdodCIpKTtkLmFkZEJhY2tCdG4mJmg9PT0iaGVhZGVyIiYmYSgiLnVpLXBhZ2UiKS5sZW5ndGg+MSYmYi5qcW1EYXRhKCJ1cmwiKSE9PQphLm1vYmlsZS5wYXRoLnN0cmlwSGFzaChsb2NhdGlvbi5oYXNoKSYmIXAmJmEoIjxhIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKTsnIGNsYXNzPSd1aS1idG4tbGVmdCcgZGF0YS0iK2EubW9iaWxlLm5zKyJyZWw9J2JhY2snIGRhdGEtIithLm1vYmlsZS5ucysiaWNvbj0nYXJyb3ctbCc+IitkLmJhY2tCdG5UZXh0KyI8L2E+IikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIsZC5iYWNrQnRuVGhlbWV8fG0pLnByZXBlbmRUbyhjKTtjLmNoaWxkcmVuKCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IikuYWRkQ2xhc3MoInVpLXRpdGxlIikuYXR0cih7cm9sZToiaGVhZGluZyIsImFyaWEtbGV2ZWwiOiIxIn0pfWVsc2UgaD09PSJjb250ZW50IiYmKGsmJmMuYWRkQ2xhc3MoInVpLWJvZHktIitrKSxjLmF0dHIoInJvbGUiLCJtYWluIikpfSl9KX0pKGwpOyhmdW5jdGlvbihhKXthLmZuLmZpZWxkY29udGFpbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFkZENsYXNzKCJ1aS1maWVsZC1jb250YWluIHVpLWJvZHkgdWktYnIiKS5jb250ZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGVUeXBlPT09CjMmJiEvXFMvLnRlc3QodGhpcy5ub2RlVmFsdWUpfSkucmVtb3ZlKCl9O2EoaykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGMpe2EoIjpqcW1EYXRhKHJvbGU9J2ZpZWxkY29udGFpbicpIixjLnRhcmdldCkuanFtRW5oYW5jZWFibGUoKS5maWVsZGNvbnRhaW4oKX0pfSkobCk7KGZ1bmN0aW9uKGEpe2EuZm4uZ3JpZD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxkPWEuZXh0ZW5kKHtncmlkOm51bGx9LGMpLGU9Yi5jaGlsZHJlbigpLGY9e3NvbG86MSxhOjIsYjozLGM6NCxkOjV9LGQ9ZC5ncmlkO2lmKCFkKWlmKGUubGVuZ3RoPD01KWZvcih2YXIgZyBpbiBmKWZbZ109PT1lLmxlbmd0aCYmKGQ9Zyk7ZWxzZSBkPSJhIixiLmFkZENsYXNzKCJ1aS1ncmlkLWR1byIpO2Y9ZltkXTtiLmFkZENsYXNzKCJ1aS1ncmlkLSIrZCk7ZS5maWx0ZXIoIjpudGgtY2hpbGQoIitmKyJuKzEpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWEiKTsKZj4xJiZlLmZpbHRlcigiOm50aC1jaGlsZCgiK2YrIm4rMikiKS5hZGRDbGFzcygidWktYmxvY2stYiIpO2Y+MiYmZS5maWx0ZXIoIjpudGgtY2hpbGQoM24rMykiKS5hZGRDbGFzcygidWktYmxvY2stYyIpO2Y+MyYmZS5maWx0ZXIoIjpudGgtY2hpbGQoNG4rNCkiKS5hZGRDbGFzcygidWktYmxvY2stZCIpO2Y+NCYmZS5maWx0ZXIoIjpudGgtY2hpbGQoNW4rNSkiKS5hZGRDbGFzcygidWktYmxvY2stZSIpfSl9fSkobCk7KGZ1bmN0aW9uKGEpe2EoaykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGMpe2EoIjpqcW1EYXRhKHJvbGU9J25vanMnKSIsYy50YXJnZXQpLmFkZENsYXNzKCJ1aS1ub2pzIil9KX0pKGwpOyhmdW5jdGlvbihhLGMpe2Z1bmN0aW9uIGIoYSl7Zm9yKHZhciBiO2E7KXtpZigoYj10eXBlb2YgYS5jbGFzc05hbWU9PT0ic3RyaW5nIiYmYS5jbGFzc05hbWUrIiAiKSYmYi5pbmRleE9mKCJ1aS1idG4gIik+LTEmJmIuaW5kZXhPZigidWktZGlzYWJsZWQgIik8CjApYnJlYWs7YT1hLnBhcmVudE5vZGV9cmV0dXJuIGF9YS5mbi5idXR0b25NYXJrdXA9ZnVuY3Rpb24oYil7Zm9yKHZhciBiPWImJmEudHlwZShiKT09Im9iamVjdCI/Yjp7fSxmPTA7Zjx0aGlzLmxlbmd0aDtmKyspe3ZhciBnPXRoaXMuZXEoZiksaD1nWzBdLGo9YS5leHRlbmQoe30sYS5mbi5idXR0b25NYXJrdXAuZGVmYXVsdHMse2ljb246Yi5pY29uIT09Yz9iLmljb246Zy5qcW1EYXRhKCJpY29uIiksaWNvbnBvczpiLmljb25wb3MhPT1jP2IuaWNvbnBvczpnLmpxbURhdGEoImljb25wb3MiKSx0aGVtZTpiLnRoZW1lIT09Yz9iLnRoZW1lOmcuanFtRGF0YSgidGhlbWUiKXx8YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoZywiYyIpLGlubGluZTpiLmlubGluZSE9PWM/Yi5pbmxpbmU6Zy5qcW1EYXRhKCJpbmxpbmUiKSxzaGFkb3c6Yi5zaGFkb3chPT1jP2Iuc2hhZG93OmcuanFtRGF0YSgic2hhZG93IiksY29ybmVyczpiLmNvcm5lcnMhPT1jP2IuY29ybmVyczpnLmpxbURhdGEoImNvcm5lcnMiKSwKaWNvbnNoYWRvdzpiLmljb25zaGFkb3chPT1jP2IuaWNvbnNoYWRvdzpnLmpxbURhdGEoImljb25zaGFkb3ciKSxtaW5pOmIubWluaSE9PWM/Yi5taW5pOmcuanFtRGF0YSgibWluaSIpfSxiKSxxPSJ1aS1idG4taW5uZXIiLHAsbSxsLG4scixvO2EuZWFjaChqLGZ1bmN0aW9uKGIsYyl7aC5zZXRBdHRyaWJ1dGUoImRhdGEtIithLm1vYmlsZS5ucytiLGMpO2cuanFtRGF0YShiLGMpfSk7KG89YS5kYXRhKGgudGFnTmFtZT09PSJJTlBVVCJ8fGgudGFnTmFtZT09PSJCVVRUT04iP2gucGFyZW50Tm9kZTpoLCJidXR0b25FbGVtZW50cyIpKT8oaD1vLm91dGVyLGc9YShoKSxsPW8uaW5uZXIsbj1vLnRleHQsYShvLmljb24pLnJlbW92ZSgpLG8uaWNvbj1udWxsKToobD1rLmNyZWF0ZUVsZW1lbnQoai53cmFwcGVyRWxzKSxuPWsuY3JlYXRlRWxlbWVudChqLndyYXBwZXJFbHMpKTtyPWouaWNvbj9rLmNyZWF0ZUVsZW1lbnQoInNwYW4iKTpudWxsO2QmJiFvJiZkKCk7aWYoIWoudGhlbWUpai50aGVtZT0KYS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoZywiYyIpO3A9InVpLWJ0biB1aS1idG4tdXAtIitqLnRoZW1lO3ArPWouc2hhZG93PyIgdWktc2hhZG93IjoiIjtwKz1qLmNvcm5lcnM/IiB1aS1idG4tY29ybmVyLWFsbCI6IiI7ai5taW5pIT09YyYmKHArPWoubWluaT09PXRydWU/IiB1aS1taW5pIjoiIHVpLWZ1bGxzaXplIik7ai5pbmxpbmUhPT1jJiYocCs9ai5pbmxpbmU9PT10cnVlPyIgdWktYnRuLWlubGluZSI6IiB1aS1idG4tYmxvY2siKTtpZihqLmljb24pai5pY29uPSJ1aS1pY29uLSIrai5pY29uLGouaWNvbnBvcz1qLmljb25wb3N8fCJsZWZ0IixtPSJ1aS1pY29uICIrai5pY29uLGouaWNvbnNoYWRvdyYmKG0rPSIgdWktaWNvbi1zaGFkb3ciKTtqLmljb25wb3MmJihwKz0iIHVpLWJ0bi1pY29uLSIrai5pY29ucG9zLGouaWNvbnBvcz09Im5vdGV4dCImJiFnLmF0dHIoInRpdGxlIikmJmcuYXR0cigidGl0bGUiLGcuZ2V0RW5jb2RlZFRleHQoKSkpO3ErPWouY29ybmVycz8KIiB1aS1idG4tY29ybmVyLWFsbCI6IiI7ai5pY29ucG9zJiZqLmljb25wb3M9PT0ibm90ZXh0IiYmIWcuYXR0cigidGl0bGUiKSYmZy5hdHRyKCJ0aXRsZSIsZy5nZXRFbmNvZGVkVGV4dCgpKTtvJiZnLnJlbW92ZUNsYXNzKG8uYmNsc3x8IiIpO2cucmVtb3ZlQ2xhc3MoInVpLWxpbmsiKS5hZGRDbGFzcyhwKTtsLmNsYXNzTmFtZT1xO24uY2xhc3NOYW1lPSJ1aS1idG4tdGV4dCI7b3x8bC5hcHBlbmRDaGlsZChuKTtpZihyJiYoci5jbGFzc05hbWU9bSwhb3x8IW8uaWNvbikpci5pbm5lckhUTUw9IiYjMTYwOyIsbC5hcHBlbmRDaGlsZChyKTtmb3IoO2guZmlyc3RDaGlsZCYmIW87KW4uYXBwZW5kQ2hpbGQoaC5maXJzdENoaWxkKTtvfHxoLmFwcGVuZENoaWxkKGwpO289e2JjbHM6cCxvdXRlcjpoLGlubmVyOmwsdGV4dDpuLGljb246cn07YS5kYXRhKGgsImJ1dHRvbkVsZW1lbnRzIixvKTthLmRhdGEobCwiYnV0dG9uRWxlbWVudHMiLG8pO2EuZGF0YShuLCJidXR0b25FbGVtZW50cyIsCm8pO3ImJmEuZGF0YShyLCJidXR0b25FbGVtZW50cyIsbyl9cmV0dXJuIHRoaXN9O2EuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzPXtjb3JuZXJzOnRydWUsc2hhZG93OnRydWUsaWNvbnNoYWRvdzp0cnVlLHdyYXBwZXJFbHM6InNwYW4ifTt2YXIgZD1mdW5jdGlvbigpe3ZhciBjPWEubW9iaWxlLmJ1dHRvbk1hcmt1cC5ob3ZlckRlbGF5LGYsZzthKGspLmJpbmQoeyJ2bW91c2Vkb3duIHZtb3VzZWNhbmNlbCB2bW91c2V1cCB2bW91c2VvdmVyIHZtb3VzZW91dCBmb2N1cyBibHVyIHNjcm9sbHN0YXJ0IjpmdW5jdGlvbihkKXt2YXIgaixrPWEoYihkLnRhcmdldCkpLGQ9ZC50eXBlO2lmKGsubGVuZ3RoKWlmKGo9ay5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIiksZD09PSJ2bW91c2Vkb3duIilhLnN1cHBvcnQudG91Y2g/Zj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ay5yZW1vdmVDbGFzcygidWktYnRuLXVwLSIraikuYWRkQ2xhc3MoInVpLWJ0bi1kb3duLSIrail9LGMpOgprLnJlbW92ZUNsYXNzKCJ1aS1idG4tdXAtIitqKS5hZGRDbGFzcygidWktYnRuLWRvd24tIitqKTtlbHNlIGlmKGQ9PT0idm1vdXNlY2FuY2VsInx8ZD09PSJ2bW91c2V1cCIpay5yZW1vdmVDbGFzcygidWktYnRuLWRvd24tIitqKS5hZGRDbGFzcygidWktYnRuLXVwLSIraik7ZWxzZSBpZihkPT09InZtb3VzZW92ZXIifHxkPT09ImZvY3VzIilhLnN1cHBvcnQudG91Y2g/Zz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ay5yZW1vdmVDbGFzcygidWktYnRuLXVwLSIraikuYWRkQ2xhc3MoInVpLWJ0bi1ob3Zlci0iK2opfSxjKTprLnJlbW92ZUNsYXNzKCJ1aS1idG4tdXAtIitqKS5hZGRDbGFzcygidWktYnRuLWhvdmVyLSIraik7ZWxzZSBpZihkPT09InZtb3VzZW91dCJ8fGQ9PT0iYmx1ciJ8fGQ9PT0ic2Nyb2xsc3RhcnQiKWsucmVtb3ZlQ2xhc3MoInVpLWJ0bi1ob3Zlci0iK2orIiB1aS1idG4tZG93bi0iK2opLmFkZENsYXNzKCJ1aS1idG4tdXAtIitqKSxmJiZjbGVhclRpbWVvdXQoZiksCmcmJmNsZWFyVGltZW91dChnKX0sImZvY3VzaW4gZm9jdXMiOmZ1bmN0aW9uKGMpe2EoYihjLnRhcmdldCkpLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSwiZm9jdXNvdXQgYmx1ciI6ZnVuY3Rpb24oYyl7YShiKGMudGFyZ2V0KSkucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9fSk7ZD1udWxsfTthKGspLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKCI6anFtRGF0YShyb2xlPSdidXR0b24nKSwgLnVpLWJhciA+IGEsIC51aS1oZWFkZXIgPiBhLCAudWktZm9vdGVyID4gYSwgLnVpLWJhciA+IDpqcW1EYXRhKHJvbGU9J2NvbnRyb2xncm91cCcpID4gYSIsYi50YXJnZXQpLmpxbUVuaGFuY2VhYmxlKCkubm90KCJidXR0b24sIGlucHV0LCAudWktYnRuLCA6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLmJ1dHRvbk1hcmt1cCgpfSl9KShsKTsoZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS5jb2xsYXBzaWJsZSIsCmEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7ZXhwYW5kQ3VlVGV4dDoiIGNsaWNrIHRvIGV4cGFuZCBjb250ZW50cyIsY29sbGFwc2VDdWVUZXh0OiIgY2xpY2sgdG8gY29sbGFwc2UgY29udGVudHMiLGNvbGxhcHNlZDp0cnVlLGhlYWRpbmc6ImgxLGgyLGgzLGg0LGg1LGg2LGxlZ2VuZCIsdGhlbWU6bnVsbCxjb250ZW50VGhlbWU6bnVsbCxpY29uVGhlbWU6ImQiLG1pbmk6ZmFsc2UsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZScpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBjPXRoaXMuZWxlbWVudCxiPXRoaXMub3B0aW9ucyxkPWMuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlIiksZT1jLmNoaWxkcmVuKGIuaGVhZGluZykuZmlyc3QoKSxmPWQud3JhcElubmVyKCI8ZGl2IGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1jb250ZW50Jz48L2Rpdj4iKS5maW5kKCIudWktY29sbGFwc2libGUtY29udGVudCIpLGc9Yy5jbG9zZXN0KCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSIpLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1zZXQiKTsKZS5pcygibGVnZW5kIikmJihlPWEoIjxkaXYgcm9sZT0naGVhZGluZyc+IitlLmh0bWwoKSsiPC9kaXY+IikuaW5zZXJ0QmVmb3JlKGUpLGUubmV4dCgpLnJlbW92ZSgpKTtpZihnLmxlbmd0aCl7aWYoIWIudGhlbWUpYi50aGVtZT1nLmpxbURhdGEoInRoZW1lIil8fGEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGcsImMiKTtpZighYi5jb250ZW50VGhlbWUpYi5jb250ZW50VGhlbWU9Zy5qcW1EYXRhKCJjb250ZW50LXRoZW1lIik7aWYoIWIuaWNvbnBvcyliLmljb25wb3M9Zy5qcW1EYXRhKCJpY29ucG9zIik7aWYoIWIubWluaSliLm1pbmk9Zy5qcW1EYXRhKCJtaW5pIil9Zi5hZGRDbGFzcyhiLmNvbnRlbnRUaGVtZT8idWktYm9keS0iK2IuY29udGVudFRoZW1lOiIiKTtlLmluc2VydEJlZm9yZShmKS5hZGRDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZyIpLmFwcGVuZCgiPHNwYW4gY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzJz48L3NwYW4+Iikud3JhcElubmVyKCI8YSBocmVmPScjJyBjbGFzcz0ndWktY29sbGFwc2libGUtaGVhZGluZy10b2dnbGUnPjwvYT4iKS5maW5kKCJhIikuZmlyc3QoKS5idXR0b25NYXJrdXAoe3NoYWRvdzpmYWxzZSwKY29ybmVyczpmYWxzZSxpY29ucG9zOmMuanFtRGF0YSgiaWNvbnBvcyIpfHxiLmljb25wb3N8fCJsZWZ0IixpY29uOiJwbHVzIixtaW5pOmIubWluaSx0aGVtZTpiLnRoZW1lfSkuYWRkKCIudWktYnRuLWlubmVyIixjKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIik7ZC5iaW5kKCJleHBhbmQgY29sbGFwc2UiLGZ1bmN0aW9uKGMpe2lmKCFjLmlzRGVmYXVsdFByZXZlbnRlZCgpKXtjLnByZXZlbnREZWZhdWx0KCk7dmFyIGo9YSh0aGlzKSxjPWMudHlwZT09PSJjb2xsYXBzZSIsaz1iLmNvbnRlbnRUaGVtZTtlLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZCIsYykuZmluZCgiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzIikudGV4dChjP2IuZXhwYW5kQ3VlVGV4dDpiLmNvbGxhcHNlQ3VlVGV4dCkuZW5kKCkuZmluZCgiLnVpLWljb24iKS50b2dnbGVDbGFzcygidWktaWNvbi1taW51cyIsIWMpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLXBsdXMiLApjKS5lbmQoKS5maW5kKCJhIikuZmlyc3QoKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk7ai50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtY29sbGFwc2VkIixjKTtmLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb250ZW50LWNvbGxhcHNlZCIsYykuYXR0cigiYXJpYS1oaWRkZW4iLGMpO2lmKGsmJighZy5sZW5ndGh8fGQuanFtRGF0YSgiY29sbGFwc2libGUtbGFzdCIpKSllLmZpbmQoImEiKS5maXJzdCgpLmFkZChlLmZpbmQoIi51aS1idG4taW5uZXIiKSkudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iLGMpLGYudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iLCFjKTtmLnRyaWdnZXIoInVwZGF0ZWxheW91dCIpfX0pLnRyaWdnZXIoYi5jb2xsYXBzZWQ/ImNvbGxhcHNlIjoiZXhwYW5kIik7ZS5iaW5kKCJ0YXAiLGZ1bmN0aW9uKCl7ZS5maW5kKCJhIikuZmlyc3QoKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJjbGljayIsCmZ1bmN0aW9uKGEpe3ZhciBiPWUuaXMoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZCIpPyJleHBhbmQiOiJjb2xsYXBzZSI7ZC50cmlnZ2VyKGIpO2EucHJldmVudERlZmF1bHQoKTthLnN0b3BQcm9wYWdhdGlvbigpfSl9fSk7YShrKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYyl7YS5tb2JpbGUuY29sbGFwc2libGUucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYy50YXJnZXQpfSl9KShsKTsoZnVuY3Rpb24oYSxjKXthLndpZGdldCgibW9iaWxlLmNvbGxhcHNpYmxlc2V0IixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2luaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1zZXQiKSxkPXRoaXMub3B0aW9ucztpZighZC50aGVtZSlkLnRoZW1lPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGIsImMiKTsKaWYoIWQuY29udGVudFRoZW1lKWQuY29udGVudFRoZW1lPWIuanFtRGF0YSgiY29udGVudC10aGVtZSIpO2lmKCFkLmNvcm5lcnMpZC5jb3JuZXJzPWIuanFtRGF0YSgiY29ybmVycyIpPT09Yz90cnVlOmZhbHNlO2IuanFtRGF0YSgiY29sbGFwc2libGVib3VuZCIpfHxiLmpxbURhdGEoImNvbGxhcHNpYmxlYm91bmQiLHRydWUpLmJpbmQoImV4cGFuZCBjb2xsYXBzZSIsZnVuY3Rpb24oYil7dmFyIGM9Yi50eXBlPT09ImNvbGxhcHNlIixiPWEoYi50YXJnZXQpLmNsb3Nlc3QoIi51aS1jb2xsYXBzaWJsZSIpO2IuZGF0YSgiY29sbGFwc2libGUiKS5vcHRpb25zLmNvbnRlbnRUaGVtZSYmYi5qcW1EYXRhKCJjb2xsYXBzaWJsZS1sYXN0IikmJihiLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nIikuZmlyc3QoKS5maW5kKCJhIikuZmlyc3QoKS50b2dnbGVDbGFzcygidWktY29ybmVyLWJvdHRvbSIsYykuZmluZCgiLnVpLWJ0bi1pbm5lciIpLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYm90dG9tIiwKYyksYi5maW5kKCIudWktY29sbGFwc2libGUtY29udGVudCIpLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYm90dG9tIiwhYykpfSkuYmluZCgiZXhwYW5kIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5jbG9zZXN0KCIudWktY29sbGFwc2libGUiKS5zaWJsaW5ncygiLnVpLWNvbGxhcHNpYmxlIikudHJpZ2dlcigiY29sbGFwc2UiKX0pfSxfaW5pdDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLGM9dGhpcy5lbGVtZW50LmNoaWxkcmVuKCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZScpIik7YS5tb2JpbGUuY29sbGFwc2libGUucHJvdG90eXBlLmVuaGFuY2UoYy5ub3QoIi51aS1jb2xsYXBzaWJsZSIpKTtjLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmpxbVJlbW92ZURhdGEoImNvbGxhcHNpYmxlLWxhc3QiKS5maW5kKCIudWktY29sbGFwc2libGUtaGVhZGluZyIpLmZpbmQoImEiKS5maXJzdCgpLnJlbW92ZUNsYXNzKCJ1aS1jb3JuZXItdG9wIHVpLWNvcm5lci1ib3R0b20iKS5maW5kKCIudWktYnRuLWlubmVyIikucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci10b3AgdWktY29ybmVyLWJvdHRvbSIpfSk7CmMuZmlyc3QoKS5maW5kKCJhIikuZmlyc3QoKS5hZGRDbGFzcyhiLmNvcm5lcnM/InVpLWNvcm5lci10b3AiOiIiKS5maW5kKCIudWktYnRuLWlubmVyIikuYWRkQ2xhc3MoInVpLWNvcm5lci10b3AiKTtjLmxhc3QoKS5qcW1EYXRhKCJjb2xsYXBzaWJsZS1sYXN0Iix0cnVlKS5maW5kKCJhIikuZmlyc3QoKS5hZGRDbGFzcyhiLmNvcm5lcnM/InVpLWNvcm5lci1ib3R0b20iOiIiKS5maW5kKCIudWktYnRuLWlubmVyIikuYWRkQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iKX19KTthKGspLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5jb2xsYXBzaWJsZXNldC5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCl9KX0pKGwpOyhmdW5jdGlvbihhLGMpe2Eud2lkZ2V0KCJtb2JpbGUubmF2YmFyIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2ljb25wb3M6InRvcCIsZ3JpZDpudWxsLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nbmF2YmFyJykifSwKX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxkPWIuZmluZCgiYSIpLGU9ZC5maWx0ZXIoIjpqcW1EYXRhKGljb24pIikubGVuZ3RoP3RoaXMub3B0aW9ucy5pY29ucG9zOmM7Yi5hZGRDbGFzcygidWktbmF2YmFyIHVpLW1pbmkiKS5hdHRyKCJyb2xlIiwibmF2aWdhdGlvbiIpLmZpbmQoInVsIikuanFtRW5oYW5jZWFibGUoKS5ncmlkKHtncmlkOnRoaXMub3B0aW9ucy5ncmlkfSk7ZC5idXR0b25NYXJrdXAoe2Nvcm5lcnM6ZmFsc2Usc2hhZG93OmZhbHNlLGlubGluZTp0cnVlLGljb25wb3M6ZX0pO2IuZGVsZWdhdGUoImEiLCJ2Y2xpY2siLGZ1bmN0aW9uKGIpe2EoYi50YXJnZXQpLmhhc0NsYXNzKCJ1aS1kaXNhYmxlZCIpfHwoZC5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksYSh0aGlzKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykpfSk7Yi5jbG9zZXN0KCIudWktcGFnZSIpLmJpbmQoInBhZ2ViZWZvcmVzaG93IixmdW5jdGlvbigpe2QuZmlsdGVyKCIudWktc3RhdGUtcGVyc2lzdCIpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pfX0pOwphKGspLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5uYXZiYXIucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KShsKTsoZnVuY3Rpb24oYSl7dmFyIGM9e307YS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGNvdW50VGhlbWU6ImMiLGhlYWRlclRoZW1lOiJiIixkaXZpZGVyVGhlbWU6ImIiLHNwbGl0SWNvbjoiYXJyb3ctciIsc3BsaXRUaGVtZToiYiIsaW5zZXQ6ZmFsc2UsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdsaXN0dmlldycpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPSIiO2ErPXRoaXMub3B0aW9ucy5pbnNldD8iIHVpLWxpc3R2aWV3LWluc2V0IHVpLWNvcm5lci1hbGwgdWktc2hhZG93ICI6IiI7dGhpcy5lbGVtZW50LmFkZENsYXNzKGZ1bmN0aW9uKGMsZSl7cmV0dXJuIGUrIiB1aS1saXN0dmlldyAiK2F9KTt0aGlzLnJlZnJlc2godHJ1ZSl9LApfcmVtb3ZlQ29ybmVyczpmdW5jdGlvbihhLGMpe2E9YS5hZGQoYS5maW5kKCIudWktYnRuLWlubmVyLCAudWktbGktbGluay1hbHQsIC51aS1saS10aHVtYiIpKTtjPT09InRvcCI/YS5yZW1vdmVDbGFzcygidWktY29ybmVyLXRvcCB1aS1jb3JuZXItdHIgdWktY29ybmVyLXRsIik6Yz09PSJib3R0b20iP2EucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci1ib3R0b20gdWktY29ybmVyLWJyIHVpLWNvcm5lci1ibCIpOmEucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci10b3AgdWktY29ybmVyLXRyIHVpLWNvcm5lci10bCB1aS1jb3JuZXItYm90dG9tIHVpLWNvcm5lci1iciB1aS1jb3JuZXItYmwiKX0sX3JlZnJlc2hDb3JuZXJzOmZ1bmN0aW9uKGEpe3ZhciBjLGU7Yz10aGlzLmVsZW1lbnQuY2hpbGRyZW4oImxpIik7ZT1hP2Mubm90KCIudWktc2NyZWVuLWhpZGRlbiIpOmMuZmlsdGVyKCI6dmlzaWJsZSIpO2MuZmlsdGVyKCIudWktbGktbGFzdCIpLnJlbW92ZUNsYXNzKCJ1aS1saS1sYXN0Iik7CnRoaXMub3B0aW9ucy5pbnNldD8odGhpcy5fcmVtb3ZlQ29ybmVycyhjKSxjPWUuZmlyc3QoKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCIpLGMuYWRkKGMuZmluZCgiLnVpLWJ0bi1pbm5lciIpLm5vdCgiLnVpLWxpLWxpbmstYWx0IHNwYW46Zmlyc3QtY2hpbGQiKSkuYWRkQ2xhc3MoInVpLWNvcm5lci10b3AiKS5lbmQoKS5maW5kKCIudWktbGktbGluay1hbHQsIC51aS1saS1saW5rLWFsdCBzcGFuOmZpcnN0LWNoaWxkIikuYWRkQ2xhc3MoInVpLWNvcm5lci10ciIpLmVuZCgpLmZpbmQoIi51aS1saS10aHVtYiIpLm5vdCgiLnVpLWxpLWljb24iKS5hZGRDbGFzcygidWktY29ybmVyLXRsIiksZT1lLmxhc3QoKS5hZGRDbGFzcygidWktY29ybmVyLWJvdHRvbSB1aS1saS1sYXN0IiksZS5hZGQoZS5maW5kKCIudWktYnRuLWlubmVyIikpLmZpbmQoIi51aS1saS1saW5rLWFsdCIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYnIiKS5lbmQoKS5maW5kKCIudWktbGktdGh1bWIiKS5ub3QoIi51aS1saS1pY29uIikuYWRkQ2xhc3MoInVpLWNvcm5lci1ibCIpKToKZS5sYXN0KCkuYWRkQ2xhc3MoInVpLWxpLWxhc3QiKTthfHx0aGlzLmVsZW1lbnQudHJpZ2dlcigidXBkYXRlbGF5b3V0Iil9LF9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lOmZ1bmN0aW9uKGEsYyxlLGYpe3ZhciBnPXt9O2ZvcihnW2VdPWdbZl09dHJ1ZTthOyl7aWYoZ1thLm5vZGVOYW1lXSlyZXR1cm4gYTthPWFbY119cmV0dXJuIG51bGx9LF9nZXRDaGlsZHJlbkJ5VGFnTmFtZTpmdW5jdGlvbihiLGMsZSl7dmFyIGY9W10sZz17fTtnW2NdPWdbZV09dHJ1ZTtmb3IoYj1iLmZpcnN0Q2hpbGQ7YjspZ1tiLm5vZGVOYW1lXSYmZi5wdXNoKGIpLGI9Yi5uZXh0U2libGluZztyZXR1cm4gYShmKX0sX2FkZFRodW1iQ2xhc3NlczpmdW5jdGlvbihiKXt2YXIgYyxlLGY9Yi5sZW5ndGg7Zm9yKGM9MDtjPGY7YysrKWU9YSh0aGlzLl9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lKGJbY10uZmlyc3RDaGlsZCwibmV4dFNpYmxpbmciLCJpbWciLCJJTUciKSksZS5sZW5ndGgmJihlLmFkZENsYXNzKCJ1aS1saS10aHVtYiIpLAphKHRoaXMuX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWUoZVswXS5wYXJlbnROb2RlLCJwYXJlbnROb2RlIiwibGkiLCJMSSIpKS5hZGRDbGFzcyhlLmlzKCIudWktbGktaWNvbiIpPyJ1aS1saS1oYXMtaWNvbiI6InVpLWxpLWhhcy10aHVtYiIpKX0scmVmcmVzaDpmdW5jdGlvbihiKXt0aGlzLnBhcmVudFBhZ2U9dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIik7dGhpcy5fY3JlYXRlU3ViUGFnZXMoKTt2YXIgYz10aGlzLm9wdGlvbnMsZT10aGlzLmVsZW1lbnQsZj1lLmpxbURhdGEoImRpdmlkZXJ0aGVtZSIpfHxjLmRpdmlkZXJUaGVtZSxnPWUuanFtRGF0YSgic3BsaXR0aGVtZSIpLGg9ZS5qcW1EYXRhKCJzcGxpdGljb24iKSxqPXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKGVbMF0sImxpIiwiTEkiKSxsPSEhYS5ub2RlTmFtZShlWzBdLCJvbCIpLHA9IWEuc3VwcG9ydC5jc3NQc2V1ZG9FbGVtZW50LG09ZS5hdHRyKCJzdGFydCIpLHc9e30sbixyLG8sdCx2LHgsdSwKcztsJiZwJiZlLmZpbmQoIi51aS1saS1kZWMiKS5yZW1vdmUoKTtsJiYobXx8bT09PTA/cD94PXBhcnNlRmxvYXQobSk6KG49cGFyc2VGbG9hdChtKS0xLGUuY3NzKCJjb3VudGVyLXJlc2V0IiwibGlzdG51bWJlcmluZyAiK24pKTpwJiYoeD0xKSk7aWYoIWMudGhlbWUpYy50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQsImMiKTtmb3IodmFyIHo9MCx5PWoubGVuZ3RoO3o8eTt6Kyspe249ai5lcSh6KTtyPSJ1aS1saSI7aWYoYnx8IW4uaGFzQ2xhc3MoInVpLWxpIikpbz1uLmpxbURhdGEoInRoZW1lIil8fGMudGhlbWUsdD10aGlzLl9nZXRDaGlsZHJlbkJ5VGFnTmFtZShuWzBdLCJhIiwiQSIpLHU9bi5qcW1EYXRhKCJyb2xlIik9PT0ibGlzdC1kaXZpZGVyIix0Lmxlbmd0aCYmIXU/KHU9bi5qcW1EYXRhKCJpY29uIiksbi5idXR0b25NYXJrdXAoe3dyYXBwZXJFbHM6ImRpdiIsc2hhZG93OmZhbHNlLGNvcm5lcnM6ZmFsc2UsaWNvbnBvczoicmlnaHQiLAppY29uOnQubGVuZ3RoPjF8fHU9PT1mYWxzZT9mYWxzZTp1fHwiYXJyb3ctciIsdGhlbWU6b30pLHUhPWZhbHNlJiZ0Lmxlbmd0aD09MSYmbi5hZGRDbGFzcygidWktbGktaGFzLWFycm93IiksdC5maXJzdCgpLnJlbW92ZUNsYXNzKCJ1aS1saW5rIikuYWRkQ2xhc3MoInVpLWxpbmstaW5oZXJpdCIpLHQubGVuZ3RoPjEmJihyKz0iIHVpLWxpLWhhcy1hbHQiLHQ9dC5sYXN0KCksdj1nfHx0LmpxbURhdGEoInRoZW1lIil8fGMuc3BsaXRUaGVtZSxzPXQuanFtRGF0YSgiaWNvbiIpLHQuYXBwZW5kVG8obikuYXR0cigidGl0bGUiLHQuZ2V0RW5jb2RlZFRleHQoKSkuYWRkQ2xhc3MoInVpLWxpLWxpbmstYWx0IikuZW1wdHkoKS5idXR0b25NYXJrdXAoe3NoYWRvdzpmYWxzZSxjb3JuZXJzOmZhbHNlLHRoZW1lOm8saWNvbjpmYWxzZSxpY29ucG9zOiJub3RleHQifSkuZmluZCgiLnVpLWJ0bi1pbm5lciIpLmFwcGVuZChhKGsuY3JlYXRlRWxlbWVudCgic3BhbiIpKS5idXR0b25NYXJrdXAoe3NoYWRvdzp0cnVlLApjb3JuZXJzOnRydWUsdGhlbWU6dixpY29ucG9zOiJub3RleHQiLGljb246c3x8dXx8aHx8Yy5zcGxpdEljb259KSkpKTp1PyhyKz0iIHVpLWxpLWRpdmlkZXIgdWktYmFyLSIrZixuLmF0dHIoInJvbGUiLCJoZWFkaW5nIiksbCYmKG18fG09PT0wP3A/eD1wYXJzZUZsb2F0KG0pOihvPXBhcnNlRmxvYXQobSktMSxuLmNzcygiY291bnRlci1yZXNldCIsImxpc3RudW1iZXJpbmcgIitvKSk6cCYmKHg9MSkpKTpyKz0iIHVpLWxpLXN0YXRpYyB1aS1ib2R5LSIrbztsJiZwJiZyLmluZGV4T2YoInVpLWxpLWRpdmlkZXIiKTwwJiYobz1yLmluZGV4T2YoInVpLWxpLXN0YXRpYyIpPjA/bjpuLmZpbmQoIi51aS1saW5rLWluaGVyaXQiKSxvLmFkZENsYXNzKCJ1aS1saS1qc251bWJlcmluZyIpLnByZXBlbmQoIjxzcGFuIGNsYXNzPSd1aS1saS1kZWMnPiIreCsrICsiLiA8L3NwYW4+IikpO3dbcl18fCh3W3JdPVtdKTt3W3JdLnB1c2goblswXSl9Zm9yKHIgaW4gdylhKHdbcl0pLmFkZENsYXNzKHIpLmNoaWxkcmVuKCIudWktYnRuLWlubmVyIikuYWRkQ2xhc3Mocik7CmUuZmluZCgiaDEsIGgyLCBoMywgaDQsIGg1LCBoNiIpLmFkZENsYXNzKCJ1aS1saS1oZWFkaW5nIikuZW5kKCkuZmluZCgicCwgZGwiKS5hZGRDbGFzcygidWktbGktZGVzYyIpLmVuZCgpLmZpbmQoIi51aS1saS1hc2lkZSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IucHJlcGVuZFRvKGIucGFyZW50KCkpfSkuZW5kKCkuZmluZCgiLnVpLWxpLWNvdW50IikuZWFjaChmdW5jdGlvbigpe2EodGhpcykuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktbGktaGFzLWNvdW50Iil9KS5hZGRDbGFzcygidWktYnRuLXVwLSIrKGUuanFtRGF0YSgiY291bnR0aGVtZSIpfHx0aGlzLm9wdGlvbnMuY291bnRUaGVtZSkrIiB1aS1idG4tY29ybmVyLWFsbCIpO3RoaXMuX2FkZFRodW1iQ2xhc3NlcyhqKTt0aGlzLl9hZGRUaHVtYkNsYXNzZXMoZS5maW5kKCIudWktbGluay1pbmhlcml0IikpO3RoaXMuX3JlZnJlc2hDb3JuZXJzKGIpfSxfaWRTdHJpbmdFc2NhcGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvW15hLXpBLVowLTldL2csCiItIil9LF9jcmVhdGVTdWJQYWdlczpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxkPWIuY2xvc2VzdCgiLnVpLXBhZ2UiKSxlPWQuanFtRGF0YSgidXJsIiksZj1lfHxkWzBdW2EuZXhwYW5kb10sZz1iLmF0dHIoImlkIiksaD10aGlzLm9wdGlvbnMsaj0iZGF0YS0iK2EubW9iaWxlLm5zLGs9dGhpcyxsPWQuZmluZCgiOmpxbURhdGEocm9sZT0nZm9vdGVyJykiKS5qcW1EYXRhKCJpZCIpLG07dHlwZW9mIGNbZl09PT0idW5kZWZpbmVkIiYmKGNbZl09LTEpO2c9Z3x8KytjW2ZdO2EoYi5maW5kKCJsaT51bCwgbGk+b2wiKS50b0FycmF5KCkucmV2ZXJzZSgpKS5lYWNoKGZ1bmN0aW9uKGMpe3ZhciBkPWEodGhpcyksZj1kLmF0dHIoImlkIil8fGcrIi0iK2MsYz1kLnBhcmVudCgpLGs9YShkLnByZXZBbGwoKS50b0FycmF5KCkucmV2ZXJzZSgpKSxrPWsubGVuZ3RoP2s6YSgiPHNwYW4+IithLnRyaW0oYy5jb250ZW50cygpWzBdLm5vZGVWYWx1ZSkrIjwvc3Bhbj4iKSxxPWsuZmlyc3QoKS5nZXRFbmNvZGVkVGV4dCgpLApmPShlfHwiIikrIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkrIj0iK2Ysdj1kLmpxbURhdGEoInRoZW1lIil8fGgudGhlbWUseD1kLmpxbURhdGEoImNvdW50dGhlbWUiKXx8Yi5qcW1EYXRhKCJjb3VudHRoZW1lIil8fGguY291bnRUaGVtZTttPXRydWU7ZC5kZXRhY2goKS53cmFwKCI8ZGl2ICIraisicm9sZT0ncGFnZScgIitqKyJ1cmw9JyIrZisiJyAiK2orInRoZW1lPSciK3YrIicgIitqKyJjb3VudC10aGVtZT0nIit4KyInPjxkaXYgIitqKyJyb2xlPSdjb250ZW50Jz48L2Rpdj48L2Rpdj4iKS5wYXJlbnQoKS5iZWZvcmUoIjxkaXYgIitqKyJyb2xlPSdoZWFkZXInICIraisidGhlbWU9JyIraC5oZWFkZXJUaGVtZSsiJz48ZGl2IGNsYXNzPSd1aS10aXRsZSc+IitxKyI8L2Rpdj48L2Rpdj4iKS5hZnRlcihsP2EoIjxkaXYgIitqKyJyb2xlPSdmb290ZXInICIraisiaWQ9JyIrbCsiJz4iKToiIikucGFyZW50KCkuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lcikucGFnZSgpOwpkPWMuZmluZCgiYTpmaXJzdCIpO2QubGVuZ3RofHwoZD1hKCI8YS8+IikuaHRtbChrfHxxKS5wcmVwZW5kVG8oYy5lbXB0eSgpKSk7ZC5hdHRyKCJocmVmIiwiIyIrZil9KS5saXN0dmlldygpO20mJmQuaXMoIjpqcW1EYXRhKGV4dGVybmFsLXBhZ2U9J3RydWUnKSIpJiZkLmRhdGEoInBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlPT09ZmFsc2UmJmQudW5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiKS5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiLGZ1bmN0aW9uKGIsYyl7dmFyIGY9Yy5uZXh0UGFnZSxnPW5ldyBhLkV2ZW50KCJwYWdlcmVtb3ZlIik7Yy5uZXh0UGFnZSYmKGY9Zi5qcW1EYXRhKCJ1cmwiKSxmLmluZGV4T2YoZSsiJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSkhPT0wJiYoay5jaGlsZFBhZ2VzKCkucmVtb3ZlKCksZC50cmlnZ2VyKGcpLGcuaXNEZWZhdWx0UHJldmVudGVkKCl8fGQucmVtb3ZlV2l0aERlcGVuZGVudHMoKSkpfSl9LGNoaWxkUGFnZXM6ZnVuY3Rpb24oKXt2YXIgYj0KdGhpcy5wYXJlbnRQYWdlLmpxbURhdGEoInVybCIpO3JldHVybiBhKCI6anFtRGF0YSh1cmxePSciK2IrIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkrIicpIil9fSk7YShrKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KShsKTsoZnVuY3Rpb24oYSxjKXthLndpZGdldCgibW9iaWxlLmNoZWNrYm94cmFkaW8iLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxtaW5pOmZhbHNlLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0nY2hlY2tib3gnXSxpbnB1dFt0eXBlPSdyYWRpbyddIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD10aGlzLmVsZW1lbnQsZT10aGlzLm9wdGlvbnMsZj1hKGQpLmNsb3Nlc3QoImxhYmVsIiksZz1mLmxlbmd0aD9mOmEoZCkuY2xvc2VzdCgiZm9ybSxmaWVsZHNldCw6anFtRGF0YShyb2xlPSdwYWdlJyksOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKS5maW5kKCJsYWJlbCIpLmZpbHRlcigiW2Zvcj0nIisKZFswXS5pZCsiJ10iKSxoPWRbMF0udHlwZSxmPWQuanFtRGF0YSgibWluaSIpfHxkLmNsb3Nlc3QoImZvcm0sZmllbGRzZXQiKS5qcW1EYXRhKCJtaW5pIil8fGUubWluaSxqPWgrIi1vbiIsbD1oKyItb2ZmIixwPWQucGFyZW50cygiOmpxbURhdGEodHlwZT0naG9yaXpvbnRhbCcpIikubGVuZ3RoP2M6bCxtPWQuanFtRGF0YSgiaWNvbnBvcyIpfHxkLmNsb3Nlc3QoImZvcm0sZmllbGRzZXQiKS5qcW1EYXRhKCJpY29ucG9zIik7aWYoIShoIT09ImNoZWNrYm94IiYmaCE9PSJyYWRpbyIpKXthLmV4dGVuZCh0aGlzLHtsYWJlbDpnLGlucHV0dHlwZTpoLGNoZWNrZWRDbGFzczoidWktIitqKyhwPyIiOiIgIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksdW5jaGVja2VkQ2xhc3M6InVpLSIrbCxjaGVja2VkaWNvbjoidWktaWNvbi0iK2osdW5jaGVja2VkaWNvbjoidWktaWNvbi0iK2x9KTtpZighZS50aGVtZSllLnRoZW1lPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudCwKImMiKTtnLmJ1dHRvbk1hcmt1cCh7dGhlbWU6ZS50aGVtZSxpY29uOnAsc2hhZG93OmZhbHNlLG1pbmk6ZixpY29ucG9zOm19KTtlPWsuY3JlYXRlRWxlbWVudCgiZGl2Iik7ZS5jbGFzc05hbWU9InVpLSIraDtkLmFkZChnKS53cmFwQWxsKGUpO2cuYmluZCh7dm1vdXNlb3ZlcjpmdW5jdGlvbihiKXthKHRoaXMpLnBhcmVudCgpLmlzKCIudWktZGlzYWJsZWQiKSYmYi5zdG9wUHJvcGFnYXRpb24oKX0sdmNsaWNrOmZ1bmN0aW9uKGEpe2lmKGQuaXMoIjpkaXNhYmxlZCIpKWEucHJldmVudERlZmF1bHQoKTtlbHNlIHJldHVybiBiLl9jYWNoZVZhbHMoKSxkLnByb3AoImNoZWNrZWQiLGg9PT0icmFkaW8iJiZ0cnVlfHwhZC5wcm9wKCJjaGVja2VkIikpLGQudHJpZ2dlckhhbmRsZXIoImNsaWNrIiksYi5fZ2V0SW5wdXRTZXQoKS5ub3QoZCkucHJvcCgiY2hlY2tlZCIsZmFsc2UpLGIuX3VwZGF0ZUFsbCgpLGZhbHNlfX0pO2QuYmluZCh7dm1vdXNlZG93bjpmdW5jdGlvbigpe2IuX2NhY2hlVmFscygpfSwKdmNsaWNrOmZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKTtjLmlzKCI6Y2hlY2tlZCIpPyhjLnByb3AoImNoZWNrZWQiLHRydWUpLGIuX2dldElucHV0U2V0KCkubm90KGMpLnByb3AoImNoZWNrZWQiLGZhbHNlKSk6Yy5wcm9wKCJjaGVja2VkIixmYWxzZSk7Yi5fdXBkYXRlQWxsKCl9LGZvY3VzOmZ1bmN0aW9uKCl7Zy5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0sYmx1cjpmdW5jdGlvbigpe2cucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9fSk7dGhpcy5yZWZyZXNoKCl9fSxfY2FjaGVWYWxzOmZ1bmN0aW9uKCl7dGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5qcW1EYXRhKCJjYWNoZVZhbCIsdGhpcy5jaGVja2VkKX0pfSxfZ2V0SW5wdXRTZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnB1dHR5cGU9PT0iY2hlY2tib3giP3RoaXMuZWxlbWVudDp0aGlzLmVsZW1lbnQuY2xvc2VzdCgiZm9ybSxmaWVsZHNldCw6anFtRGF0YShyb2xlPSdwYWdlJykiKS5maW5kKCJpbnB1dFtuYW1lPSciKwp0aGlzLmVsZW1lbnRbMF0ubmFtZSsiJ11bdHlwZT0nIit0aGlzLmlucHV0dHlwZSsiJ10iKX0sX3VwZGF0ZUFsbDpmdW5jdGlvbigpe3ZhciBiPXRoaXM7dGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKTsodGhpcy5jaGVja2VkfHxiLmlucHV0dHlwZT09PSJjaGVja2JveCIpJiZjLnRyaWdnZXIoImNoYW5nZSIpfSkuY2hlY2tib3hyYWRpbygicmVmcmVzaCIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50WzBdLGM9dGhpcy5sYWJlbCxlPWMuZmluZCgiLnVpLWljb24iKTthLmNoZWNrZWQ/KGMuYWRkQ2xhc3ModGhpcy5jaGVja2VkQ2xhc3MpLnJlbW92ZUNsYXNzKHRoaXMudW5jaGVja2VkQ2xhc3MpLGUuYWRkQ2xhc3ModGhpcy5jaGVja2VkaWNvbikucmVtb3ZlQ2xhc3ModGhpcy51bmNoZWNrZWRpY29uKSk6KGMucmVtb3ZlQ2xhc3ModGhpcy5jaGVja2VkQ2xhc3MpLmFkZENsYXNzKHRoaXMudW5jaGVja2VkQ2xhc3MpLAplLnJlbW92ZUNsYXNzKHRoaXMuY2hlY2tlZGljb24pLmFkZENsYXNzKHRoaXMudW5jaGVja2VkaWNvbikpO2EuZGlzYWJsZWQ/dGhpcy5kaXNhYmxlKCk6dGhpcy5lbmFibGUoKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsdHJ1ZSkucGFyZW50KCkuYWRkQ2xhc3MoInVpLWRpc2FibGVkIil9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsZmFsc2UpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpfX0pO2EoaykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLmNoZWNrYm94cmFkaW8ucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQsdHJ1ZSl9KX0pKGwpOyhmdW5jdGlvbihhLGMpe2Eud2lkZ2V0KCJtb2JpbGUuYnV0dG9uIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsaWNvbjpudWxsLGljb25wb3M6bnVsbCxjb3JuZXJzOnRydWUsCnNoYWRvdzp0cnVlLGljb25zaGFkb3c6dHJ1ZSxpbml0U2VsZWN0b3I6ImJ1dHRvbiwgW3R5cGU9J2J1dHRvbiddLCBbdHlwZT0nc3VibWl0J10sIFt0eXBlPSdyZXNldCddLCBbdHlwZT0naW1hZ2UnXSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsZCxlPXRoaXMub3B0aW9ucyxmO2Y9ZS5pbmxpbmV8fGIuanFtRGF0YSgiaW5saW5lIik7dmFyIGc9ZS5taW5pfHxiLmpxbURhdGEoIm1pbmkiKSxoPSIiLGo7aWYoYlswXS50YWdOYW1lPT09IkEiKSFiLmhhc0NsYXNzKCJ1aS1idG4iKSYmYi5idXR0b25NYXJrdXAoKTtlbHNle2lmKCF0aGlzLm9wdGlvbnMudGhlbWUpdGhpcy5vcHRpb25zLnRoZW1lPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudCwiYyIpO35iWzBdLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1idG4tbGVmdCIpJiYoaD0idWktYnRuLWxlZnQiKTt+YlswXS5jbGFzc05hbWUuaW5kZXhPZigidWktYnRuLXJpZ2h0IikmJihoPQoidWktYnRuLXJpZ2h0Iik7aWYoYi5hdHRyKCJ0eXBlIik9PT0ic3VibWl0Inx8Yi5hdHRyKCJ0eXBlIik9PT0icmVzZXQiKWg/aCs9IiB1aS1zdWJtaXQiOmg9InVpLXN1Ym1pdCI7YSgibGFiZWxbZm9yPSciK2IuYXR0cigiaWQiKSsiJ10iKS5hZGRDbGFzcygidWktc3VibWl0Iik7ZD10aGlzLmJ1dHRvbj1hKCI8ZGl2PjwvZGl2PiIpLnRleHQoYi50ZXh0KCl8fGIudmFsKCkpLmluc2VydEJlZm9yZShiKS5idXR0b25NYXJrdXAoe3RoZW1lOmUudGhlbWUsaWNvbjplLmljb24saWNvbnBvczplLmljb25wb3MsaW5saW5lOmYsY29ybmVyczplLmNvcm5lcnMsc2hhZG93OmUuc2hhZG93LGljb25zaGFkb3c6ZS5pY29uc2hhZG93LG1pbmk6Z30pLmFkZENsYXNzKGgpLmFwcGVuZChiLmFkZENsYXNzKCJ1aS1idG4taGlkZGVuIikpO2U9Yi5hdHRyKCJ0eXBlIik7Zj1iLmF0dHIoIm5hbWUiKTtlIT09ImJ1dHRvbiImJmUhPT0icmVzZXQiJiZmJiZiLmJpbmQoInZjbGljayIsZnVuY3Rpb24oKXtqPT09CmMmJihqPWEoIjxpbnB1dD4iLHt0eXBlOiJoaWRkZW4iLG5hbWU6Yi5hdHRyKCJuYW1lIiksdmFsdWU6Yi5hdHRyKCJ2YWx1ZSIpfSkuaW5zZXJ0QmVmb3JlKGIpLGEoaykub25lKCJzdWJtaXQiLGZ1bmN0aW9uKCl7ai5yZW1vdmUoKTtqPWN9KSl9KTtiLmJpbmQoe2ZvY3VzOmZ1bmN0aW9uKCl7ZC5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0sYmx1cjpmdW5jdGlvbigpe2QucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9fSk7dGhpcy5yZWZyZXNoKCl9fSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLGZhbHNlKTt0aGlzLmJ1dHRvbi5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIixmYWxzZSk7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLGZhbHNlKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsdHJ1ZSk7dGhpcy5idXR0b24uYWRkQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsCnRydWUpO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIix0cnVlKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudDtiLnByb3AoImRpc2FibGVkIik/dGhpcy5kaXNhYmxlKCk6dGhpcy5lbmFibGUoKTthKHRoaXMuYnV0dG9uLmRhdGEoImJ1dHRvbkVsZW1lbnRzIikudGV4dCkudGV4dChiLnRleHQoKXx8Yi52YWwoKSl9fSk7YShrKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUuYnV0dG9uLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0LHRydWUpfSl9KShsKTsoZnVuY3Rpb24oYSl7YS5mbi5jb250cm9sZ3JvdXA9ZnVuY3Rpb24oYyl7ZnVuY3Rpb24gYihhLGIpe2EucmVtb3ZlQ2xhc3MoInVpLWJ0bi1jb3JuZXItYWxsIHVpLWNvcm5lci10b3AgdWktY29ybmVyLWJvdHRvbSB1aS1jb3JuZXItbGVmdCB1aS1jb3JuZXItcmlnaHQgdWktY29udHJvbGdyb3VwLWxhc3QgdWktc2hhZG93IikuZXEoMCkuYWRkQ2xhc3MoYlswXSkuZW5kKCkubGFzdCgpLmFkZENsYXNzKGJbMV0pLmFkZENsYXNzKCJ1aS1jb250cm9sZ3JvdXAtbGFzdCIpfQpyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKSxlPWEuZXh0ZW5kKHtkaXJlY3Rpb246ZC5qcW1EYXRhKCJ0eXBlIil8fCJ2ZXJ0aWNhbCIsc2hhZG93OmZhbHNlLGV4Y2x1ZGVJbnZpc2libGU6dHJ1ZSxtaW5pOmQuanFtRGF0YSgibWluaSIpfSxjKSxmPWQuY2hpbGRyZW4oImxlZ2VuZCIpLGc9ZC5jaGlsZHJlbigiLnVpLWNvbnRyb2xncm91cC1sYWJlbCIpLGg9ZC5jaGlsZHJlbigiLnVpLWNvbnRyb2xncm91cC1jb250cm9scyIpLGo9ZS5kaXJlY3Rpb249PT0iaG9yaXpvbnRhbCI/WyJ1aS1jb3JuZXItbGVmdCIsInVpLWNvcm5lci1yaWdodCJdOlsidWktY29ybmVyLXRvcCIsInVpLWNvcm5lci1ib3R0b20iXTtkLmZpbmQoImlucHV0IikuZmlyc3QoKS5hdHRyKCJ0eXBlIik7aC5sZW5ndGgmJmguY29udGVudHMoKS51bndyYXAoKTtkLndyYXBJbm5lcigiPGRpdiBjbGFzcz0ndWktY29udHJvbGdyb3VwLWNvbnRyb2xzJz48L2Rpdj4iKTtmLmxlbmd0aD8KKGEoIjxkaXYgcm9sZT0naGVhZGluZycgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1sYWJlbCc+IitmLmh0bWwoKSsiPC9kaXY+IikuaW5zZXJ0QmVmb3JlKGQuY2hpbGRyZW4oMCkpLGYucmVtb3ZlKCkpOmcubGVuZ3RoJiZkLnByZXBlbmQoZyk7ZC5hZGRDbGFzcygidWktY29ybmVyLWFsbCB1aS1jb250cm9sZ3JvdXAgdWktY29udHJvbGdyb3VwLSIrZS5kaXJlY3Rpb24pO2IoZC5maW5kKCIudWktYnRuIisoZS5leGNsdWRlSW52aXNpYmxlPyI6dmlzaWJsZSI6IiIpKS5ub3QoIi51aS1zbGlkZXItaGFuZGxlIiksaik7YihkLmZpbmQoIi51aS1idG4taW5uZXIiKSxqKTtlLnNoYWRvdyYmZC5hZGRDbGFzcygidWktc2hhZG93Iik7ZS5taW5pJiZkLmFkZENsYXNzKCJ1aS1taW5pIil9KX19KShsKTsoZnVuY3Rpb24oYSl7YShrKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYyl7YShjLnRhcmdldCkuZmluZCgiYSIpLmpxbUVuaGFuY2VhYmxlKCkubm90KCIudWktYnRuLCAudWktbGluay1pbmhlcml0LCA6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLmFkZENsYXNzKCJ1aS1saW5rIil9KX0pKGwpOwooZnVuY3Rpb24oYSl7dmFyIGM9YSgibWV0YVtuYW1lPXZpZXdwb3J0XSIpLGI9Yy5hdHRyKCJjb250ZW50IiksZD1iKyIsbWF4aW11bS1zY2FsZT0xLCB1c2VyLXNjYWxhYmxlPW5vIixlPWIrIixtYXhpbXVtLXNjYWxlPTEwLCB1c2VyLXNjYWxhYmxlPXllcyIsZj0vKHVzZXItc2NhbGFibGVbXHNdKj1bXHNdKm5vKXwobWF4aW11bS1zY2FsZVtcc10qPVtcc10qMSlbJCxcc10vLnRlc3QoYik7YS5tb2JpbGUuem9vbT1hLmV4dGVuZCh7fSx7ZW5hYmxlZDohZixsb2NrZWQ6ZmFsc2UsZGlzYWJsZTpmdW5jdGlvbihiKXtpZighZiYmIWEubW9iaWxlLnpvb20ubG9ja2VkKWMuYXR0cigiY29udGVudCIsZCksYS5tb2JpbGUuem9vbS5lbmFibGVkPWZhbHNlLGEubW9iaWxlLnpvb20ubG9ja2VkPWJ8fGZhbHNlfSxlbmFibGU6ZnVuY3Rpb24oYil7aWYoIWYmJighYS5tb2JpbGUuem9vbS5sb2NrZWR8fGI9PT10cnVlKSljLmF0dHIoImNvbnRlbnQiLGUpLGEubW9iaWxlLnpvb20uZW5hYmxlZD0KdHJ1ZSxhLm1vYmlsZS56b29tLmxvY2tlZD1mYWxzZX0scmVzdG9yZTpmdW5jdGlvbigpe2lmKCFmKWMuYXR0cigiY29udGVudCIsYiksYS5tb2JpbGUuem9vbS5lbmFibGVkPXRydWV9fSl9KShsKTsoZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS50ZXh0aW5wdXQiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxtaW5pOmZhbHNlLHByZXZlbnRGb2N1c1pvb206L2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ndGV4dCddLCBpbnB1dFt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJyksIGlucHV0W3R5cGU9J251bWJlciddLCA6anFtRGF0YSh0eXBlPSdudW1iZXInKSwgaW5wdXRbdHlwZT0ncGFzc3dvcmQnXSwgaW5wdXRbdHlwZT0nZW1haWwnXSwgaW5wdXRbdHlwZT0ndXJsJ10sIGlucHV0W3R5cGU9J3RlbCddLCB0ZXh0YXJlYSwgaW5wdXRbdHlwZT0ndGltZSddLCBpbnB1dFt0eXBlPSdkYXRlJ10sIGlucHV0W3R5cGU9J21vbnRoJ10sIGlucHV0W3R5cGU9J3dlZWsnXSwgaW5wdXRbdHlwZT0nZGF0ZXRpbWUnXSwgaW5wdXRbdHlwZT0nZGF0ZXRpbWUtbG9jYWwnXSwgaW5wdXRbdHlwZT0nY29sb3InXSwgaW5wdXQ6bm90KFt0eXBlXSkiLApjbGVhclNlYXJjaEJ1dHRvblRleHQ6ImNsZWFyIHRleHQiLGRpc2FibGVkOmZhbHNlfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5lbGVtZW50LGI9dGhpcy5vcHRpb25zLGQ9Yi50aGVtZXx8YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIiksZT0iIHVpLWJvZHktIitkLGY9Yi5taW5pPyIgdWktbWluaSI6IiIsZyxoO2EoImxhYmVsW2Zvcj0nIitjLmF0dHIoImlkIikrIiddIikuYWRkQ2xhc3MoInVpLWlucHV0LXRleHQiKTtnPWMuYWRkQ2xhc3MoInVpLWlucHV0LXRleHQgdWktYm9keS0iK2QpO3R5cGVvZiBjWzBdLmF1dG9jb3JyZWN0IT09InVuZGVmaW5lZCImJiFhLnN1cHBvcnQudG91Y2hPdmVyZmxvdyYmKGNbMF0uc2V0QXR0cmlidXRlKCJhdXRvY29ycmVjdCIsIm9mZiIpLGNbMF0uc2V0QXR0cmlidXRlKCJhdXRvY29tcGxldGUiLCJvZmYiKSk7Yy5pcygiW3R5cGU9J3NlYXJjaCddLDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIik/KGc9CmMud3JhcCgiPGRpdiBjbGFzcz0ndWktaW5wdXQtc2VhcmNoIHVpLXNoYWRvdy1pbnNldCB1aS1idG4tY29ybmVyLWFsbCB1aS1idG4tc2hhZG93IHVpLWljb24tc2VhcmNoZmllbGQiK2UrZisiJz48L2Rpdj4iKS5wYXJlbnQoKSxoPWEoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1pbnB1dC1jbGVhcicgdGl0bGU9JyIrYi5jbGVhclNlYXJjaEJ1dHRvblRleHQrIic+IitiLmNsZWFyU2VhcmNoQnV0dG9uVGV4dCsiPC9hPiIpLmJpbmQoImNsaWNrIixmdW5jdGlvbihhKXtjLnZhbCgiIikuZm9jdXMoKS50cmlnZ2VyKCJjaGFuZ2UiKTtoLmFkZENsYXNzKCJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iKTthLnByZXZlbnREZWZhdWx0KCl9KS5hcHBlbmRUbyhnKS5idXR0b25NYXJrdXAoe2ljb246ImRlbGV0ZSIsaWNvbnBvczoibm90ZXh0Iixjb3JuZXJzOnRydWUsc2hhZG93OnRydWUsbWluaTpiLm1pbml9KSxkPWZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe2gudG9nZ2xlQ2xhc3MoInVpLWlucHV0LWNsZWFyLWhpZGRlbiIsCiFjLnZhbCgpKX0sMCl9LGQoKSxjLmJpbmQoInBhc3RlIGN1dCBrZXl1cCBmb2N1cyBjaGFuZ2UgYmx1ciIsZCkpOmMuYWRkQ2xhc3MoInVpLWNvcm5lci1hbGwgdWktc2hhZG93LWluc2V0IitlK2YpO2MuZm9jdXMoZnVuY3Rpb24oKXtnLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSkuYmx1cihmdW5jdGlvbigpe2cucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5iaW5kKCJmb2N1cyIsZnVuY3Rpb24oKXtiLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSh0cnVlKX0pLmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7Yi5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmVuYWJsZSh0cnVlKX0pO2lmKGMuaXMoInRleHRhcmVhIikpe3ZhciBqPWZ1bmN0aW9uKCl7dmFyIGE9Y1swXS5zY3JvbGxIZWlnaHQ7Y1swXS5jbGllbnRIZWlnaHQ8YSYmYy5oZWlnaHQoYSsxNSl9LGw7Yy5rZXl1cChmdW5jdGlvbigpe2NsZWFyVGltZW91dChsKTsKbD1zZXRUaW1lb3V0KGosMTAwKX0pO2Eoaykub25lKCJwYWdlY2hhbmdlIixqKTthLnRyaW0oYy52YWwoKSkmJmEocykubG9hZChqKX1jLmF0dHIoImRpc2FibGVkIikmJnRoaXMuZGlzYWJsZSgpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7KHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsdHJ1ZSkuaXMoIlt0eXBlPSdzZWFyY2gnXSw6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIpP3RoaXMuZWxlbWVudC5wYXJlbnQoKTp0aGlzLmVsZW1lbnQpLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIix0cnVlKX0sZW5hYmxlOmZ1bmN0aW9uKCl7KHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsZmFsc2UpLmlzKCJbdHlwZT0nc2VhcmNoJ10sOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKT90aGlzLmVsZW1lbnQucGFyZW50KCk6dGhpcy5lbGVtZW50KS5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsCmZhbHNlKX19KTthKGspLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihjKXthLm1vYmlsZS50ZXh0aW5wdXQucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYy50YXJnZXQsdHJ1ZSl9KX0pKGwpOyhmdW5jdGlvbihhKXthLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXI9ZmFsc2U7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXI9IkZpbHRlciBpdGVtcy4uLiI7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyVGhlbWU9ImMiO2EubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlckNhbGxiYWNrPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEudG9Mb3dlckNhc2UoKS5pbmRleE9mKGIpPT09LTF9O2EoaykuZGVsZWdhdGUoInVsLCBvbCIsImxpc3R2aWV3Y3JlYXRlIixmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksYj1jLmRhdGEoImxpc3R2aWV3Iik7aWYoYi5vcHRpb25zLmZpbHRlcil7dmFyIGQ9CmEoIjxmb3JtPiIseyJjbGFzcyI6InVpLWxpc3R2aWV3LWZpbHRlciB1aS1iYXItIitiLm9wdGlvbnMuZmlsdGVyVGhlbWUscm9sZToic2VhcmNoIn0pO2EoIjxpbnB1dD4iLHtwbGFjZWhvbGRlcjpiLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXJ9KS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInR5cGUiLCJzZWFyY2giKS5qcW1EYXRhKCJsYXN0dmFsIiwiIikuYmluZCgia2V5dXAgY2hhbmdlIixmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksZj10aGlzLnZhbHVlLnRvTG93ZXJDYXNlKCksZz1udWxsLGc9ZC5qcW1EYXRhKCJsYXN0dmFsIikrIiIsaD1mYWxzZSxqPSIiO2QuanFtRGF0YSgibGFzdHZhbCIsZik7Zz1mLmxlbmd0aDxnLmxlbmd0aHx8Zi5pbmRleE9mKGcpIT09MD9jLmNoaWxkcmVuKCk6Yy5jaGlsZHJlbigiOm5vdCgudWktc2NyZWVuLWhpZGRlbikiKTtpZihmKXtmb3IodmFyIGs9Zy5sZW5ndGgtMTtrPj0wO2stLSlkPWEoZ1trXSksaj1kLmpxbURhdGEoImZpbHRlcnRleHQiKXx8CmQudGV4dCgpLGQuaXMoImxpOmpxbURhdGEocm9sZT1saXN0LWRpdmlkZXIpIik/KGQudG9nZ2xlQ2xhc3MoInVpLWZpbHRlci1oaWRlcXVldWUiLCFoKSxoPWZhbHNlKTpiLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2soaixmKT9kLnRvZ2dsZUNsYXNzKCJ1aS1maWx0ZXItaGlkZXF1ZXVlIix0cnVlKTpoPXRydWU7Zy5maWx0ZXIoIjpub3QoLnVpLWZpbHRlci1oaWRlcXVldWUpIikudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLGZhbHNlKTtnLmZpbHRlcigiLnVpLWZpbHRlci1oaWRlcXVldWUiKS50b2dnbGVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIsdHJ1ZSkudG9nZ2xlQ2xhc3MoInVpLWZpbHRlci1oaWRlcXVldWUiLGZhbHNlKX1lbHNlIGcudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLGZhbHNlKTtiLl9yZWZyZXNoQ29ybmVycygpfSkuYXBwZW5kVG8oZCkudGV4dGlucHV0KCk7Yi5vcHRpb25zLmluc2V0JiZkLmFkZENsYXNzKCJ1aS1saXN0dmlldy1maWx0ZXItaW5zZXQiKTsKZC5iaW5kKCJzdWJtaXQiLGZ1bmN0aW9uKCl7cmV0dXJuIGZhbHNlfSkuaW5zZXJ0QmVmb3JlKGMpfX0pfSkobCk7KGZ1bmN0aW9uKGEsYyl7YS53aWRnZXQoIm1vYmlsZS5zbGlkZXIiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCx0cmFja1RoZW1lOm51bGwsZGlzYWJsZWQ6ZmFsc2UsaW5pdFNlbGVjdG9yOiJpbnB1dFt0eXBlPSdyYW5nZSddLCA6anFtRGF0YSh0eXBlPSdyYW5nZScpLCA6anFtRGF0YShyb2xlPSdzbGlkZXInKSIsbWluaTpmYWxzZX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD10aGlzLmVsZW1lbnQsZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShkLCJjIiksZj10aGlzLm9wdGlvbnMudGhlbWV8fGUsZT10aGlzLm9wdGlvbnMudHJhY2tUaGVtZXx8ZSxnPWRbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxoPWc9PSJzZWxlY3QiPyJ1aS1zbGlkZXItc3dpdGNoIjoiIixqPWQuYXR0cigiaWQiKSxsPWEoIltmb3I9JyIraisiJ10iKSwKcD1sLmF0dHIoImlkIil8fGorIi1sYWJlbCIsbD1sLmF0dHIoImlkIixwKSxtPWZ1bmN0aW9uKCl7cmV0dXJuIGc9PSJpbnB1dCI/cGFyc2VGbG9hdChkLnZhbCgpKTpkWzBdLnNlbGVjdGVkSW5kZXh9LHc9Zz09ImlucHV0Ij9wYXJzZUZsb2F0KGQuYXR0cigibWluIikpOjAsbj1nPT0iaW5wdXQiP3BhcnNlRmxvYXQoZC5hdHRyKCJtYXgiKSk6ZC5maW5kKCJvcHRpb24iKS5sZW5ndGgtMSxyPXMucGFyc2VGbG9hdChkLmF0dHIoInN0ZXAiKXx8MSksbz10aGlzLm9wdGlvbnMuaW5saW5lfHxkLmpxbURhdGEoImlubGluZSIpPT10cnVlPyIgdWktc2xpZGVyLWlubGluZSI6IiIsdD10aGlzLm9wdGlvbnMubWluaXx8ZC5qcW1EYXRhKCJtaW5pIik/IiB1aS1zbGlkZXItbWluaSI6IiIsdj1rLmNyZWF0ZUVsZW1lbnQoImEiKSx4PWEodiksaj1rLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHU9YShqKSxGPWQuanFtRGF0YSgiaGlnaGxpZ2h0IikmJmchPSJzZWxlY3QiP2Z1bmN0aW9uKCl7dmFyIGI9CmsuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yi5jbGFzc05hbWU9InVpLXNsaWRlci1iZyAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKyIgdWktYnRuLWNvcm5lci1hbGwiO3JldHVybiBhKGIpLnByZXBlbmRUbyh1KX0oKTpmYWxzZTt0aGlzLl90eXBlPWc7di5zZXRBdHRyaWJ1dGUoImhyZWYiLCIjIik7ai5zZXRBdHRyaWJ1dGUoInJvbGUiLCJhcHBsaWNhdGlvbiIpO2ouY2xhc3NOYW1lPVsidWktc2xpZGVyICIsaCwiIHVpLWJ0bi1kb3duLSIsZSwiIHVpLWJ0bi1jb3JuZXItYWxsIixvLHRdLmpvaW4oIiIpO3YuY2xhc3NOYW1lPSJ1aS1zbGlkZXItaGFuZGxlIjtqLmFwcGVuZENoaWxkKHYpO3guYnV0dG9uTWFya3VwKHtjb3JuZXJzOnRydWUsdGhlbWU6ZixzaGFkb3c6dHJ1ZX0pLmF0dHIoe3JvbGU6InNsaWRlciIsImFyaWEtdmFsdWVtaW4iOncsImFyaWEtdmFsdWVtYXgiOm4sImFyaWEtdmFsdWVub3ciOm0oKSwiYXJpYS12YWx1ZXRleHQiOm0oKSx0aXRsZTptKCksImFyaWEtbGFiZWxsZWRieSI6cH0pOwphLmV4dGVuZCh0aGlzLHtzbGlkZXI6dSxoYW5kbGU6eCx2YWx1ZWJnOkYsZHJhZ2dpbmc6ZmFsc2UsYmVmb3JlU3RhcnQ6bnVsbCx1c2VyTW9kaWZpZWQ6ZmFsc2UsbW91c2VNb3ZlZDpmYWxzZX0pO2lmKGc9PSJzZWxlY3QiKXtmPWsuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zi5jbGFzc05hbWU9InVpLXNsaWRlci1pbm5lcm9mZnNldCI7aD0wO2ZvcihwPWouY2hpbGROb2Rlcy5sZW5ndGg7aDxwO2grKylmLmFwcGVuZENoaWxkKGouY2hpbGROb2Rlc1toXSk7ai5hcHBlbmRDaGlsZChmKTt4LmFkZENsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIik7Zj1kLmZpbmQoIm9wdGlvbiIpO2o9MDtmb3IoaD1mLmxlbmd0aDtqPGg7aisrKXA9IWo/ImIiOiJhIixvPSFqPyIgdWktYnRuLWRvd24tIitlOiIgIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyxrLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHQ9ay5jcmVhdGVFbGVtZW50KCJzcGFuIiksdC5jbGFzc05hbWU9WyJ1aS1zbGlkZXItbGFiZWwgdWktc2xpZGVyLWxhYmVsLSIsCnAsbywiIHVpLWJ0bi1jb3JuZXItYWxsIl0uam9pbigiIiksdC5zZXRBdHRyaWJ1dGUoInJvbGUiLCJpbWciKSx0LmFwcGVuZENoaWxkKGsuY3JlYXRlVGV4dE5vZGUoZltqXS5pbm5lckhUTUwpKSxhKHQpLnByZXBlbmRUbyh1KTtiLl9sYWJlbHM9YSgiLnVpLXNsaWRlci1sYWJlbCIsdSl9bC5hZGRDbGFzcygidWktc2xpZGVyIik7ZC5hZGRDbGFzcyhnPT09ImlucHV0Ij8idWktc2xpZGVyLWlucHV0IjoidWktc2xpZGVyLXN3aXRjaCIpLmNoYW5nZShmdW5jdGlvbigpe2IubW91c2VNb3ZlZHx8Yi5yZWZyZXNoKG0oKSx0cnVlKX0pLmtleXVwKGZ1bmN0aW9uKCl7Yi5yZWZyZXNoKG0oKSx0cnVlLHRydWUpfSkuYmx1cihmdW5jdGlvbigpe2IucmVmcmVzaChtKCksdHJ1ZSl9KTthKGspLmJpbmQoInZtb3VzZW1vdmUiLGZ1bmN0aW9uKGEpe2lmKGIuZHJhZ2dpbmcmJiFiLm9wdGlvbnMuZGlzYWJsZWQpcmV0dXJuIGIubW91c2VNb3ZlZD10cnVlLGc9PT0ic2VsZWN0IiYmeC5yZW1vdmVDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLApiLnJlZnJlc2goYSksYi51c2VyTW9kaWZpZWQ9Yi5iZWZvcmVTdGFydCE9PWRbMF0uc2VsZWN0ZWRJbmRleCxmYWxzZX0pO2QuYmluZCgidm1vdXNldXAiLGEucHJveHkoYi5fY2hlY2tlZFJlZnJlc2gsYikpO3UuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oYSl7aWYoYi5vcHRpb25zLmRpc2FibGVkKXJldHVybiBmYWxzZTtiLmRyYWdnaW5nPXRydWU7Yi51c2VyTW9kaWZpZWQ9ZmFsc2U7Yi5tb3VzZU1vdmVkPWZhbHNlO2lmKGc9PT0ic2VsZWN0IiliLmJlZm9yZVN0YXJ0PWRbMF0uc2VsZWN0ZWRJbmRleDtiLnJlZnJlc2goYSk7cmV0dXJuIGZhbHNlfSkuYmluZCgidmNsaWNrIixmYWxzZSk7dS5hZGQoaykuYmluZCgidm1vdXNldXAiLGZ1bmN0aW9uKCl7aWYoYi5kcmFnZ2luZylyZXR1cm4gYi5kcmFnZ2luZz1mYWxzZSxnPT09InNlbGVjdCImJih4LmFkZENsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiksYi5tb3VzZU1vdmVkP2IudXNlck1vZGlmaWVkP2IucmVmcmVzaChiLmJlZm9yZVN0YXJ0PT0KMD8xOjApOmIucmVmcmVzaChiLmJlZm9yZVN0YXJ0KTpiLnJlZnJlc2goYi5iZWZvcmVTdGFydD09MD8xOjApKSxiLm1vdXNlTW92ZWQ9ZmFsc2V9KTt1Lmluc2VydEFmdGVyKGQpO2c9PSJzZWxlY3QiJiZ0aGlzLmhhbmRsZS5iaW5kKHtmb2N1czpmdW5jdGlvbigpe3UuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXt1LnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pO3RoaXMuaGFuZGxlLmJpbmQoe3Ztb3VzZWRvd246ZnVuY3Rpb24oKXthKHRoaXMpLmZvY3VzKCl9LHZjbGljazpmYWxzZSxrZXlkb3duOmZ1bmN0aW9uKGMpe3ZhciBkPW0oKTtpZighYi5vcHRpb25zLmRpc2FibGVkKXtzd2l0Y2goYy5rZXlDb2RlKXtjYXNlIGEubW9iaWxlLmtleUNvZGUuSE9NRTpjYXNlIGEubW9iaWxlLmtleUNvZGUuRU5EOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX0RPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlVQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5SSUdIVDpjYXNlIGEubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuTEVGVDppZihjLnByZXZlbnREZWZhdWx0KCksCiFiLl9rZXlTbGlkaW5nKWIuX2tleVNsaWRpbmc9dHJ1ZSxhKHRoaXMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKX1zd2l0Y2goYy5rZXlDb2RlKXtjYXNlIGEubW9iaWxlLmtleUNvZGUuSE9NRTpiLnJlZnJlc2godyk7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkVORDpiLnJlZnJlc2gobik7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlVQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5SSUdIVDpiLnJlZnJlc2goZCtyKTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5MRUZUOmIucmVmcmVzaChkLXIpfX19LGtleXVwOmZ1bmN0aW9uKCl7aWYoYi5fa2V5U2xpZGluZyliLl9rZXlTbGlkaW5nPWZhbHNlLGEodGhpcykucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpfX0pO3RoaXMucmVmcmVzaChjLGMsdHJ1ZSl9LApfY2hlY2tlZFJlZnJlc2g6ZnVuY3Rpb24oKXtpZih0aGlzLnZhbHVlIT10aGlzLl92YWx1ZSgpKXRoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpKSx0aGlzLnZhbHVlPXRoaXMuX3ZhbHVlKCl9LF92YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90eXBlPT09ImlucHV0Ij9wYXJzZUZsb2F0KHRoaXMuZWxlbWVudC52YWwoKSk6dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXh9LHJlZnJlc2g6ZnVuY3Rpb24oYixjLGUpeyh0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIpKSYmdGhpcy5kaXNhYmxlKCk7dmFyIGY9dGhpcy5lbGVtZW50LGc9ZlswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGg9Zz09PSJpbnB1dCI/cGFyc2VGbG9hdChmLmF0dHIoIm1pbiIpKTowLGo9Zz09PSJpbnB1dCI/cGFyc2VGbG9hdChmLmF0dHIoIm1heCIpKTpmLmZpbmQoIm9wdGlvbiIpLmxlbmd0aC0xLGs9Zz09PSJpbnB1dCImJnBhcnNlRmxvYXQoZi5hdHRyKCJzdGVwIikpPgowP3BhcnNlRmxvYXQoZi5hdHRyKCJzdGVwIikpOjE7aWYodHlwZW9mIGI9PT0ib2JqZWN0Iil7aWYoIXRoaXMuZHJhZ2dpbmd8fGIucGFnZVg8dGhpcy5zbGlkZXIub2Zmc2V0KCkubGVmdC04fHxiLnBhZ2VYPnRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQrdGhpcy5zbGlkZXIud2lkdGgoKSs4KXJldHVybjtiPU1hdGgucm91bmQoKGIucGFnZVgtdGhpcy5zbGlkZXIub2Zmc2V0KCkubGVmdCkvdGhpcy5zbGlkZXIud2lkdGgoKSoxMDApfWVsc2UgYj09bnVsbCYmKGI9Zz09PSJpbnB1dCI/cGFyc2VGbG9hdChmLnZhbCgpfHwwKTpmWzBdLnNlbGVjdGVkSW5kZXgpLGI9KHBhcnNlRmxvYXQoYiktaCkvKGotaCkqMTAwO2lmKCFpc05hTihiKSl7YjwwJiYoYj0wKTtiPjEwMCYmKGI9MTAwKTt2YXIgbD1iLzEwMCooai1oKStoLG09KGwtaCklaztsLT1tO01hdGguYWJzKG0pKjI+PWsmJihsKz1tPjA/azotayk7bD1wYXJzZUZsb2F0KGwudG9GaXhlZCg1KSk7bDxoJiYobD1oKTtsPmomJihsPQpqKTt0aGlzLmhhbmRsZS5jc3MoImxlZnQiLGIrIiUiKTt0aGlzLmhhbmRsZS5hdHRyKHsiYXJpYS12YWx1ZW5vdyI6Zz09PSJpbnB1dCI/bDpmLmZpbmQoIm9wdGlvbiIpLmVxKGwpLmF0dHIoInZhbHVlIiksImFyaWEtdmFsdWV0ZXh0IjpnPT09ImlucHV0Ij9sOmYuZmluZCgib3B0aW9uIikuZXEobCkuZ2V0RW5jb2RlZFRleHQoKSx0aXRsZTpnPT09ImlucHV0Ij9sOmYuZmluZCgib3B0aW9uIikuZXEobCkuZ2V0RW5jb2RlZFRleHQoKX0pO3RoaXMudmFsdWViZyYmdGhpcy52YWx1ZWJnLmNzcygid2lkdGgiLGIrIiUiKTtpZih0aGlzLl9sYWJlbHMpe3ZhciBoPXRoaXMuaGFuZGxlLndpZHRoKCkvdGhpcy5zbGlkZXIud2lkdGgoKSoxMDAscz1iJiZoKygxMDAtaCkqYi8xMDAsbj1iPT09MTAwPzA6TWF0aC5taW4oaCsxMDAtcywxMDApO3RoaXMuX2xhYmVscy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKS5pcygiLnVpLXNsaWRlci1sYWJlbC1hIik7YSh0aGlzKS53aWR0aCgoYj8KczpuKSsiJSIpfSl9aWYoIWUpZT1mYWxzZSxnPT09ImlucHV0Ij8oZT1mLnZhbCgpIT09bCxmLnZhbChsKSk6KGU9ZlswXS5zZWxlY3RlZEluZGV4IT09bCxmWzBdLnNlbGVjdGVkSW5kZXg9bCksIWMmJmUmJmYudHJpZ2dlcigiY2hhbmdlIil9fSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLGZhbHNlKTt0aGlzLnNsaWRlci5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIixmYWxzZSk7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLGZhbHNlKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsdHJ1ZSk7dGhpcy5zbGlkZXIuYWRkQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsdHJ1ZSk7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLHRydWUpfX0pO2EoaykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLnNsaWRlci5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwKdHJ1ZSl9KX0pKGwpOyhmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnNlbGVjdG1lbnUiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxkaXNhYmxlZDpmYWxzZSxpY29uOiJhcnJvdy1kIixpY29ucG9zOiJyaWdodCIsaW5saW5lOmZhbHNlLGNvcm5lcnM6dHJ1ZSxzaGFkb3c6dHJ1ZSxpY29uc2hhZG93OnRydWUsb3ZlcmxheVRoZW1lOiJhIixoaWRlUGxhY2Vob2xkZXJNZW51SXRlbXM6dHJ1ZSxjbG9zZVRleHQ6IkNsb3NlIixuYXRpdmVNZW51OnRydWUscHJldmVudEZvY3VzWm9vbTovaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTEsaW5pdFNlbGVjdG9yOiJzZWxlY3Q6bm90KDpqcW1EYXRhKHJvbGU9J3NsaWRlcicpKSIsbWluaTpmYWxzZX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiBhKCI8ZGl2Lz4iKX0sX3NldERpc2FibGVkOmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsCmEpO3RoaXMuYnV0dG9uLmF0dHIoImFyaWEtZGlzYWJsZWQiLGEpO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIixhKX0sX2ZvY3VzQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5idXR0b24uZm9jdXMoKX0sNDApfSxfc2VsZWN0T3B0aW9uczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdC5maW5kKCJvcHRpb24iKX0sX3ByZUV4dGVuc2lvbjpmdW5jdGlvbigpe3ZhciBjPSIiO350aGlzLmVsZW1lbnRbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1sZWZ0IikmJihjPSIgdWktYnRuLWxlZnQiKTt+dGhpcy5lbGVtZW50WzBdLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1idG4tcmlnaHQiKSYmKGM9IiB1aS1idG4tcmlnaHQiKTt0aGlzLnNlbGVjdD10aGlzLmVsZW1lbnQud3JhcCgiPGRpdiBjbGFzcz0ndWktc2VsZWN0IitjKyInPiIpO3RoaXMuc2VsZWN0SUQ9dGhpcy5zZWxlY3QuYXR0cigiaWQiKTt0aGlzLmxhYmVsPQphKCJsYWJlbFtmb3I9JyIrdGhpcy5zZWxlY3RJRCsiJ10iKS5hZGRDbGFzcygidWktc2VsZWN0Iik7dGhpcy5pc011bHRpcGxlPXRoaXMuc2VsZWN0WzBdLm11bHRpcGxlO2lmKCF0aGlzLm9wdGlvbnMudGhlbWUpdGhpcy5vcHRpb25zLnRoZW1lPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuc2VsZWN0LCJjIil9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9wcmVFeHRlbnNpb24oKTt0aGlzLl90cmlnZ2VyKCJiZWZvcmVDcmVhdGUiKTt0aGlzLmJ1dHRvbj10aGlzLl9idXR0b24oKTt2YXIgYz10aGlzLGI9dGhpcy5vcHRpb25zLGQ9Yi5pbmxpbmV8fHRoaXMuc2VsZWN0LmpxbURhdGEoImlubGluZSIpLGU9Yi5taW5pfHx0aGlzLnNlbGVjdC5qcW1EYXRhKCJtaW5pIiksZj1iLmljb24/Yi5pY29ucG9zfHx0aGlzLnNlbGVjdC5qcW1EYXRhKCJpY29ucG9zIik6ZmFsc2UsZD10aGlzLmJ1dHRvbi5pbnNlcnRCZWZvcmUodGhpcy5zZWxlY3QpLmJ1dHRvbk1hcmt1cCh7dGhlbWU6Yi50aGVtZSwKaWNvbjpiLmljb24saWNvbnBvczpmLGlubGluZTpkLGNvcm5lcnM6Yi5jb3JuZXJzLHNoYWRvdzpiLnNoYWRvdyxpY29uc2hhZG93OmIuaWNvbnNoYWRvdyxtaW5pOmV9KTt0aGlzLnNldEJ1dHRvblRleHQoKTtiLm5hdGl2ZU1lbnUmJnMub3BlcmEmJnMub3BlcmEudmVyc2lvbiYmZC5hZGRDbGFzcygidWktc2VsZWN0LW5hdGl2ZW9ubHkiKTtpZih0aGlzLmlzTXVsdGlwbGUpdGhpcy5idXR0b25Db3VudD1hKCI8c3Bhbj4iKS5hZGRDbGFzcygidWktbGktY291bnQgdWktYnRuLXVwLWMgdWktYnRuLWNvcm5lci1hbGwiKS5oaWRlKCkuYXBwZW5kVG8oZC5hZGRDbGFzcygidWktbGktaGFzLWNvdW50IikpOyhiLmRpc2FibGVkfHx0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiKSkmJnRoaXMuZGlzYWJsZSgpO3RoaXMuc2VsZWN0LmNoYW5nZShmdW5jdGlvbigpe2MucmVmcmVzaCgpfSk7dGhpcy5idWlsZCgpfSxidWlsZDpmdW5jdGlvbigpe3ZhciBjPXRoaXM7dGhpcy5zZWxlY3QuYXBwZW5kVG8oYy5idXR0b24pLmJpbmQoInZtb3VzZWRvd24iLApmdW5jdGlvbigpe2MuYnV0dG9uLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImZvY3VzIixmdW5jdGlvbigpe2MuYnV0dG9uLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSkuYmluZCgiYmx1ciIsZnVuY3Rpb24oKXtjLmJ1dHRvbi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJpbmQoImZvY3VzIHZtb3VzZW92ZXIiLGZ1bmN0aW9uKCl7Yy5idXR0b24udHJpZ2dlcigidm1vdXNlb3ZlciIpfSkuYmluZCgidm1vdXNlbW92ZSIsZnVuY3Rpb24oKXtjLmJ1dHRvbi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJjaGFuZ2UgYmx1ciB2bW91c2VvdXQiLGZ1bmN0aW9uKCl7Yy5idXR0b24udHJpZ2dlcigidm1vdXNlb3V0IikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2hhbmdlIGJsdXIiLGZ1bmN0aW9uKCl7Yy5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLWJ0bi1kb3duLSIrCmMub3B0aW9ucy50aGVtZSl9KTtjLmJ1dHRvbi5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe2Mub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUodHJ1ZSl9KTtjLmxhYmVsLmJpbmQoImNsaWNrIGZvY3VzIixmdW5jdGlvbigpe2Mub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUodHJ1ZSl9KTtjLnNlbGVjdC5iaW5kKCJmb2N1cyIsZnVuY3Rpb24oKXtjLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKHRydWUpfSk7Yy5idXR0b24uYmluZCgibW91c2V1cCIsZnVuY3Rpb24oKXtjLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmc2V0VGltZW91dChmdW5jdGlvbigpe2EubW9iaWxlLnpvb20uZW5hYmxlKHRydWUpfSwwKX0pO2Muc2VsZWN0LmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7Yy5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKHRydWUpfSl9LApzZWxlY3RlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RPcHRpb25zKCkuZmlsdGVyKCI6c2VsZWN0ZWQiKX0sc2VsZWN0ZWRJbmRpY2VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gdGhpcy5zZWxlY3RlZCgpLm1hcChmdW5jdGlvbigpe3JldHVybiBhLl9zZWxlY3RPcHRpb25zKCkuaW5kZXgodGhpcyl9KS5nZXQoKX0sc2V0QnV0dG9uVGV4dDpmdW5jdGlvbigpe3ZhciBjPXRoaXMsYj10aGlzLnNlbGVjdGVkKCksZD10aGlzLnBsYWNlaG9sZGVyLGU9YShrLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSk7dGhpcy5idXR0b24uZmluZCgiLnVpLWJ0bi10ZXh0IikuaHRtbChmdW5jdGlvbigpe2Q9Yi5sZW5ndGg/Yi5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzKS50ZXh0KCl9KS5nZXQoKS5qb2luKCIsICIpOmMucGxhY2Vob2xkZXI7cmV0dXJuIGUudGV4dChkKS5hZGRDbGFzcyhjLnNlbGVjdC5hdHRyKCJjbGFzcyIpKS5hZGRDbGFzcyhiLmF0dHIoImNsYXNzIikpfSl9LApzZXRCdXR0b25Db3VudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc2VsZWN0ZWQoKTt0aGlzLmlzTXVsdGlwbGUmJnRoaXMuYnV0dG9uQ291bnRbYS5sZW5ndGg+MT8ic2hvdyI6ImhpZGUiXSgpLnRleHQoYS5sZW5ndGgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5zZXRCdXR0b25UZXh0KCk7dGhpcy5zZXRCdXR0b25Db3VudCgpfSxvcGVuOmEubm9vcCxjbG9zZTphLm5vb3AsZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuX3NldERpc2FibGVkKHRydWUpO3RoaXMuYnV0dG9uLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXREaXNhYmxlZChmYWxzZSk7dGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIil9fSk7YShrKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYyl7YS5tb2JpbGUuc2VsZWN0bWVudS5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihjLnRhcmdldCx0cnVlKX0pfSkobCk7KGZ1bmN0aW9uKGEpe3ZhciBjPQpmdW5jdGlvbihiKXt2YXIgYz1iLnNlbGVjdElELGU9Yi5sYWJlbCxmPWIuc2VsZWN0LmNsb3Nlc3QoIi51aS1wYWdlIiksZz1hKCI8ZGl2PiIseyJjbGFzcyI6InVpLXNlbGVjdG1lbnUtc2NyZWVuIHVpLXNjcmVlbi1oaWRkZW4ifSkuYXBwZW5kVG8oZiksaD1iLl9zZWxlY3RPcHRpb25zKCksaj1iLmlzTXVsdGlwbGU9Yi5zZWxlY3RbMF0ubXVsdGlwbGUsbD1jKyItYnV0dG9uIixwPWMrIi1tZW51IixtPWEoIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdkaWFsb2cnIGRhdGEtIithLm1vYmlsZS5ucysidGhlbWU9JyIrYi5vcHRpb25zLnRoZW1lKyInIGRhdGEtIithLm1vYmlsZS5ucysib3ZlcmxheS10aGVtZT0nIitiLm9wdGlvbnMub3ZlcmxheVRoZW1lKyInPjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdoZWFkZXInPjxkaXYgY2xhc3M9J3VpLXRpdGxlJz4iK2UuZ2V0RW5jb2RlZFRleHQoKSsiPC9kaXY+PC9kaXY+PGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrCiJyb2xlPSdjb250ZW50Jz48L2Rpdj48L2Rpdj4iKSx3PWEoIjxkaXY+Iix7ImNsYXNzIjoidWktc2VsZWN0bWVudSB1aS1zZWxlY3RtZW51LWhpZGRlbiB1aS1vdmVybGF5LXNoYWRvdyB1aS1jb3JuZXItYWxsIHVpLWJvZHktIitiLm9wdGlvbnMub3ZlcmxheVRoZW1lKyIgIithLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbn0pLmluc2VydEFmdGVyKGcpLG49YSgiPHVsPiIseyJjbGFzcyI6InVpLXNlbGVjdG1lbnUtbGlzdCIsaWQ6cCxyb2xlOiJsaXN0Ym94IiwiYXJpYS1sYWJlbGxlZGJ5IjpsfSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIsYi5vcHRpb25zLnRoZW1lKS5hcHBlbmRUbyh3KSxyPWEoIjxkaXY+Iix7ImNsYXNzIjoidWktaGVhZGVyIHVpLWJhci0iK2Iub3B0aW9ucy50aGVtZX0pLnByZXBlbmRUbyh3KSxvPWEoIjxoMT4iLHsiY2xhc3MiOiJ1aS10aXRsZSJ9KS5hcHBlbmRUbyhyKSx0O2IuaXNNdWx0aXBsZSYmKHQ9YSgiPGE+Iix7dGV4dDpiLm9wdGlvbnMuY2xvc2VUZXh0LApocmVmOiIjIiwiY2xhc3MiOiJ1aS1idG4tbGVmdCJ9KS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrImljb25wb3MiLCJub3RleHQiKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrImljb24iLCJkZWxldGUiKS5hcHBlbmRUbyhyKS5idXR0b25NYXJrdXAoKSk7YS5leHRlbmQoYix7c2VsZWN0OmIuc2VsZWN0LHNlbGVjdElEOmMsYnV0dG9uSWQ6bCxtZW51SWQ6cCx0aGlzUGFnZTpmLG1lbnVQYWdlOm0sbGFiZWw6ZSxzY3JlZW46ZyxzZWxlY3RPcHRpb25zOmgsaXNNdWx0aXBsZTpqLHRoZW1lOmIub3B0aW9ucy50aGVtZSxsaXN0Ym94OncsbGlzdDpuLGhlYWRlcjpyLGhlYWRlclRpdGxlOm8saGVhZGVyQ2xvc2U6dCxtZW51UGFnZUNvbnRlbnQ6dm9pZCAwLG1lbnVQYWdlQ2xvc2U6dm9pZCAwLHBsYWNlaG9sZGVyOiIiLGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcztjLnJlZnJlc2goKTtjLnNlbGVjdC5hdHRyKCJ0YWJpbmRleCIsIi0xIikuZm9jdXMoZnVuY3Rpb24oKXthKHRoaXMpLmJsdXIoKTsKYy5idXR0b24uZm9jdXMoKX0pO2MuYnV0dG9uLmJpbmQoInZjbGljayBrZXlkb3duIixmdW5jdGlvbihiKXtpZihiLnR5cGU9PSJ2Y2xpY2sifHxiLmtleUNvZGUmJihiLmtleUNvZGU9PT1hLm1vYmlsZS5rZXlDb2RlLkVOVEVSfHxiLmtleUNvZGU9PT1hLm1vYmlsZS5rZXlDb2RlLlNQQUNFKSljLm9wZW4oKSxiLnByZXZlbnREZWZhdWx0KCl9KTtjLmxpc3QuYXR0cigicm9sZSIsImxpc3Rib3giKS5iaW5kKCJmb2N1c2luIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5hdHRyKCJ0YWJpbmRleCIsIjAiKS50cmlnZ2VyKCJ2bW91c2VvdmVyIil9KS5iaW5kKCJmb2N1c291dCIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuYXR0cigidGFiaW5kZXgiLCItMSIpLnRyaWdnZXIoInZtb3VzZW91dCIpfSkuZGVsZWdhdGUoImxpOm5vdCgudWktZGlzYWJsZWQsIC51aS1saS1kaXZpZGVyKSIsImNsaWNrIixmdW5jdGlvbihkKXt2YXIgZT1jLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4LGY9Yy5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5pbmRleCh0aGlzKSwKZz1jLl9zZWxlY3RPcHRpb25zKCkuZXEoZilbMF07Zy5zZWxlY3RlZD1jLmlzTXVsdGlwbGU/IWcuc2VsZWN0ZWQ6dHJ1ZTtjLmlzTXVsdGlwbGUmJmEodGhpcykuZmluZCgiLnVpLWljb24iKS50b2dnbGVDbGFzcygidWktaWNvbi1jaGVja2JveC1vbiIsZy5zZWxlY3RlZCkudG9nZ2xlQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb2ZmIiwhZy5zZWxlY3RlZCk7KGMuaXNNdWx0aXBsZXx8ZSE9PWYpJiZjLnNlbGVjdC50cmlnZ2VyKCJjaGFuZ2UiKTtjLmlzTXVsdGlwbGU/Yy5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5lcShmKS5hZGRDbGFzcygidWktYnRuLWRvd24tIitiLm9wdGlvbnMudGhlbWUpLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCk6Yy5jbG9zZSgpO2QucHJldmVudERlZmF1bHQoKX0pLmtleWRvd24oZnVuY3Rpb24oYyl7dmFyIGQ9YShjLnRhcmdldCksZT1kLmNsb3Nlc3QoImxpIik7c3dpdGNoKGMua2V5Q29kZSl7Y2FzZSAzODpyZXR1cm4gYz1lLnByZXYoKS5ub3QoIi51aS1zZWxlY3RtZW51LXBsYWNlaG9sZGVyIiksCmMuaXMoIi51aS1saS1kaXZpZGVyIikmJihjPWMucHJldigpKSxjLmxlbmd0aCYmKGQuYmx1cigpLmF0dHIoInRhYmluZGV4IiwiLTEiKSxjLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK2Iub3B0aW9ucy50aGVtZSkuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKSksZmFsc2U7Y2FzZSA0MDpyZXR1cm4gYz1lLm5leHQoKSxjLmlzKCIudWktbGktZGl2aWRlciIpJiYoYz1jLm5leHQoKSksYy5sZW5ndGgmJihkLmJsdXIoKS5hdHRyKCJ0YWJpbmRleCIsIi0xIiksYy5hZGRDbGFzcygidWktYnRuLWRvd24tIitiLm9wdGlvbnMudGhlbWUpLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCkpLGZhbHNlO2Nhc2UgMTM6Y2FzZSAzMjpyZXR1cm4gZC50cmlnZ2VyKCJjbGljayIpLGZhbHNlfX0pO2MubWVudVBhZ2UuYmluZCgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7Yy5saXN0LmFwcGVuZFRvKGMubGlzdGJveCk7Yy5fZm9jdXNCdXR0b24oKTthLm1vYmlsZS5fYmluZFBhZ2VSZW1vdmUuY2FsbChjLnRoaXNQYWdlKX0pOwpjLnNjcmVlbi5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKCl7Yy5jbG9zZSgpfSk7Yy5pc011bHRpcGxlJiZjLmhlYWRlckNsb3NlLmNsaWNrKGZ1bmN0aW9uKCl7aWYoYy5tZW51VHlwZT09Im92ZXJsYXkiKXJldHVybiBjLmNsb3NlKCksZmFsc2V9KTtjLnRoaXNQYWdlLmFkZERlcGVuZGVudHModGhpcy5tZW51UGFnZSl9LF9pc1JlYnVpbGRSZXF1aXJlZDpmdW5jdGlvbigpe3ZhciBhPXRoaXMubGlzdC5maW5kKCJsaSIpO3JldHVybiB0aGlzLl9zZWxlY3RPcHRpb25zKCkudGV4dCgpIT09YS50ZXh0KCl9LHNlbGVjdGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdE9wdGlvbnMoKS5maWx0ZXIoIjpzZWxlY3RlZDpub3QoOmpxbURhdGEocGxhY2Vob2xkZXI9J3RydWUnKSkiKX0scmVmcmVzaDpmdW5jdGlvbihiKXt2YXIgYz10aGlzLGQ7KGJ8fHRoaXMuX2lzUmVidWlsZFJlcXVpcmVkKCkpJiZjLl9idWlsZExpc3QoKTtkPXRoaXMuc2VsZWN0ZWRJbmRpY2VzKCk7Yy5zZXRCdXR0b25UZXh0KCk7CmMuc2V0QnV0dG9uQ291bnQoKTtjLmxpc3QuZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5hdHRyKCJhcmlhLXNlbGVjdGVkIixmYWxzZSkuZWFjaChmdW5jdGlvbihiKXthLmluQXJyYXkoYixkKT4tMSYmKGI9YSh0aGlzKSxiLmF0dHIoImFyaWEtc2VsZWN0ZWQiLHRydWUpLGMuaXNNdWx0aXBsZT9iLmZpbmQoIi51aS1pY29uIikucmVtb3ZlQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb2ZmIikuYWRkQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb24iKTpiLmlzKCIudWktc2VsZWN0bWVudS1wbGFjZWhvbGRlciIpP2IubmV4dCgpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTpiLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSl9KX0sY2xvc2U6ZnVuY3Rpb24oKXtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLmlzT3Blbil0aGlzLm1lbnVUeXBlPT0icGFnZSI/YS5tb2JpbGUuYmFjaygpOgoodGhpcy5zY3JlZW4uYWRkQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKSx0aGlzLmxpc3Rib3guYWRkQ2xhc3MoInVpLXNlbGVjdG1lbnUtaGlkZGVuIikucmVtb3ZlQXR0cigic3R5bGUiKS5yZW1vdmVDbGFzcygiaW4iKSx0aGlzLmxpc3QuYXBwZW5kVG8odGhpcy5saXN0Ym94KSx0aGlzLl9mb2N1c0J1dHRvbigpKSx0aGlzLmlzT3Blbj1mYWxzZX0sb3BlbjpmdW5jdGlvbigpe2Z1bmN0aW9uIGMoKXt2YXIgZT1kLmxpc3QuZmluZCgiLiIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MrIiBhIik7ZS5sZW5ndGg9PT0wJiYoZT1kLmxpc3QuZmluZCgibGkudWktYnRuOm5vdCg6anFtRGF0YShwbGFjZWhvbGRlcj0ndHJ1ZScpKSBhIikpO2UuZmlyc3QoKS5mb2N1cygpLmNsb3Nlc3QoImxpIikuYWRkQ2xhc3MoInVpLWJ0bi1kb3duLSIrYi5vcHRpb25zLnRoZW1lKX1pZighdGhpcy5vcHRpb25zLmRpc2FibGVkKXt2YXIgZD10aGlzLGU9YShzKSxmPWQubGlzdC5wYXJlbnQoKSxnPWYub3V0ZXJIZWlnaHQoKSwKZj1mLm91dGVyV2lkdGgoKTthKCIudWktcGFnZS1hY3RpdmUiKTt2YXIgaD1lLnNjcm9sbFRvcCgpLGo9ZC5idXR0b24ub2Zmc2V0KCkudG9wLGw9ZS5oZWlnaHQoKSxlPWUud2lkdGgoKTtkLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk7c2V0VGltZW91dChmdW5jdGlvbigpe2QuYnV0dG9uLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0sMzAwKTtpZihnPmwtODB8fCFhLnN1cHBvcnQuc2Nyb2xsVG9wKXtkLm1lbnVQYWdlLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLnBhZ2UoKTtkLm1lbnVQYWdlQ29udGVudD1tLmZpbmQoIi51aS1jb250ZW50Iik7ZC5tZW51UGFnZUNsb3NlPW0uZmluZCgiLnVpLWhlYWRlciBhIik7ZC50aGlzUGFnZS51bmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIpO2lmKGg9PTAmJmo+bClkLnRoaXNQYWdlLm9uZSgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7YSh0aGlzKS5qcW1EYXRhKCJsYXN0U2Nyb2xsIiwKail9KTtkLm1lbnVQYWdlLm9uZSgicGFnZXNob3ciLGZ1bmN0aW9uKCl7YygpO2QuaXNPcGVuPXRydWV9KS5vbmUoInBhZ2VoaWRlIixmdW5jdGlvbigpe2QuaXNPcGVuPWZhbHNlfSk7ZC5tZW51VHlwZT0icGFnZSI7ZC5tZW51UGFnZUNvbnRlbnQuYXBwZW5kKGQubGlzdCk7ZC5tZW51UGFnZS5maW5kKCJkaXYgLnVpLXRpdGxlIikudGV4dChkLmxhYmVsLnRleHQoKSk7YS5tb2JpbGUuY2hhbmdlUGFnZShkLm1lbnVQYWdlLHt0cmFuc2l0aW9uOmEubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9ufSl9ZWxzZXtkLm1lbnVUeXBlPSJvdmVybGF5IjtkLnNjcmVlbi5oZWlnaHQoYShrKS5oZWlnaHQoKSkucmVtb3ZlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKTt2YXIgbj1qLWgsbz1oK2wtaixwPWcvMixxPXBhcnNlRmxvYXQoZC5saXN0LnBhcmVudCgpLmNzcygibWF4LXdpZHRoIikpLGc9bj5nLzImJm8+Zy8yP2orZC5idXR0b24ub3V0ZXJIZWlnaHQoKS8yLXA6bj5vP2grbC1nLQozMDpoKzMwO2Y8cT9oPShlLWYpLzI6KGg9ZC5idXR0b24ub2Zmc2V0KCkubGVmdCtkLmJ1dHRvbi5vdXRlcldpZHRoKCkvMi1mLzIsaDwzMD9oPTMwOmgrZj5lJiYoaD1lLWYtMzApKTtkLmxpc3Rib3guYXBwZW5kKGQubGlzdCkucmVtb3ZlQ2xhc3MoInVpLXNlbGVjdG1lbnUtaGlkZGVuIikuY3NzKHt0b3A6ZyxsZWZ0Omh9KS5hZGRDbGFzcygiaW4iKTtjKCk7ZC5pc09wZW49dHJ1ZX19fSxfYnVpbGRMaXN0OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLGM9dGhpcy5wbGFjZWhvbGRlcixkPXRydWUsZT10aGlzLmlzTXVsdGlwbGU/ImNoZWNrYm94LW9mZiI6ImZhbHNlIjt0aGlzLmxpc3QuZW1wdHkoKS5maWx0ZXIoIi51aS1saXN0dmlldyIpLmxpc3R2aWV3KCJkZXN0cm95Iik7dmFyIGY9dGhpcy5zZWxlY3QuZmluZCgib3B0aW9uIiksZz1mLmxlbmd0aCxoPXRoaXMuc2VsZWN0WzBdLGo9ImRhdGEtIithLm1vYmlsZS5ucyxsPWorIm9wdGlvbi1pbmRleCIsbT1qKyJpY29uIiwKbj1qKyJyb2xlIjtqKz0icGxhY2Vob2xkZXIiO2Zvcih2YXIgbz1rLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxwPWZhbHNlLHEscz0wO3M8ZztzKysscD1mYWxzZSl7dmFyIHQ9ZltzXSxyPWEodCksdz10LnBhcmVudE5vZGUsQz1yLnRleHQoKSxJPWsuY3JlYXRlRWxlbWVudCgiYSIpLEw9W107SS5zZXRBdHRyaWJ1dGUoImhyZWYiLCIjIik7SS5hcHBlbmRDaGlsZChrLmNyZWF0ZVRleHROb2RlKEMpKTt3IT09aCYmdy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Im9wdGdyb3VwIiYmKHc9dy5nZXRBdHRyaWJ1dGUoImxhYmVsIiksdyE9cSYmKHE9ay5jcmVhdGVFbGVtZW50KCJsaSIpLHEuc2V0QXR0cmlidXRlKG4sImxpc3QtZGl2aWRlciIpLHEuc2V0QXR0cmlidXRlKCJyb2xlIiwib3B0aW9uIikscS5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwiLTEiKSxxLmFwcGVuZENoaWxkKGsuY3JlYXRlVGV4dE5vZGUodykpLG8uYXBwZW5kQ2hpbGQocSkscT13KSk7aWYoZCYmKCF0LmdldEF0dHJpYnV0ZSgidmFsdWUiKXx8CkMubGVuZ3RoPT0wfHxyLmpxbURhdGEoInBsYWNlaG9sZGVyIikpKWlmKGQ9ZmFsc2UscD10cnVlLHQuc2V0QXR0cmlidXRlKGosdHJ1ZSksYi5oaWRlUGxhY2Vob2xkZXJNZW51SXRlbXMmJkwucHVzaCgidWktc2VsZWN0bWVudS1wbGFjZWhvbGRlciIpLCFjKWM9dGhpcy5wbGFjZWhvbGRlcj1DO3I9ay5jcmVhdGVFbGVtZW50KCJsaSIpO3QuZGlzYWJsZWQmJihMLnB1c2goInVpLWRpc2FibGVkIiksci5zZXRBdHRyaWJ1dGUoImFyaWEtZGlzYWJsZWQiLHRydWUpKTtyLnNldEF0dHJpYnV0ZShsLHMpO3Iuc2V0QXR0cmlidXRlKG0sZSk7cCYmci5zZXRBdHRyaWJ1dGUoaix0cnVlKTtyLmNsYXNzTmFtZT1MLmpvaW4oIiAiKTtyLnNldEF0dHJpYnV0ZSgicm9sZSIsIm9wdGlvbiIpO0kuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsIi0xIik7ci5hcHBlbmRDaGlsZChJKTtvLmFwcGVuZENoaWxkKHIpfXRoaXMubGlzdFswXS5hcHBlbmRDaGlsZChvKTshdGhpcy5pc011bHRpcGxlJiYhYy5sZW5ndGg/CnRoaXMuaGVhZGVyLmhpZGUoKTp0aGlzLmhlYWRlclRpdGxlLnRleHQodGhpcy5wbGFjZWhvbGRlcik7dGhpcy5saXN0Lmxpc3R2aWV3KCl9LF9idXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGE+Iix7aHJlZjoiIyIscm9sZToiYnV0dG9uIixpZDp0aGlzLmJ1dHRvbklkLCJhcmlhLWhhc3BvcHVwIjoidHJ1ZSIsImFyaWEtb3ducyI6dGhpcy5tZW51SWR9KX19KX07YShrKS5iaW5kKCJzZWxlY3RtZW51YmVmb3JlY3JlYXRlIixmdW5jdGlvbihiKXtiPWEoYi50YXJnZXQpLmRhdGEoInNlbGVjdG1lbnUiKTtiLm9wdGlvbnMubmF0aXZlTWVudXx8YyhiKX0pfSkobCk7KGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUuZml4ZWR0b29sYmFyIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3Zpc2libGVPblBhZ2VTaG93OnRydWUsZGlzYWJsZVBhZ2Vab29tOnRydWUsdHJhbnNpdGlvbjoic2xpZGUiLGZ1bGxzY3JlZW46ZmFsc2UsdGFwVG9nZ2xlOnRydWUsdGFwVG9nZ2xlQmxhY2tsaXN0OiJhLCBidXR0b24sIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCAudWktaGVhZGVyLWZpeGVkLCAudWktZm9vdGVyLWZpeGVkIiwKaGlkZUR1cmluZ0ZvY3VzOiJpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCIsdXBkYXRlUGFnZVBhZGRpbmc6dHJ1ZSx0cmFja1BlcnNpc3RlbnRUb29sYmFyczp0cnVlLHN1cHBvcnRCbGFja2xpc3Q6ZnVuY3Rpb24oKXt2YXIgYT1uYXZpZ2F0b3IudXNlckFnZW50LGI9bmF2aWdhdG9yLnBsYXRmb3JtLGQ9YS5tYXRjaCgvQXBwbGVXZWJLaXRcLyhbMC05XSspLyksZD0hIWQmJmRbMV0sZT1hLm1hdGNoKC9GZW5uZWNcLyhbMC05XSspLyksZT0hIWUmJmVbMV0sZj1hLm1hdGNoKC9PcGVyYSBNb2JpXC8oWzAtOV0rKS8pLGc9ISFmJiZmWzFdO3JldHVybihiLmluZGV4T2YoImlQaG9uZSIpPi0xfHxiLmluZGV4T2YoImlQYWQiKT4tMXx8Yi5pbmRleE9mKCJpUG9kIik+LTEpJiZkJiZkPDUzNHx8cy5vcGVyYW1pbmkmJnt9LnRvU3RyaW5nLmNhbGwocy5vcGVyYW1pbmkpPT09IltvYmplY3QgT3BlcmFNaW5pXSJ8fGYmJmc8NzQ1OHx8YS5pbmRleE9mKCJBbmRyb2lkIik+LTEmJmQmJmQ8NTMzfHwKZSYmZTw2fHwicGFsbUdldFJlc291cmNlImluIHMmJmQmJmQ8NTM0fHxhLmluZGV4T2YoIk1lZUdvIik+LTEmJmEuaW5kZXhPZigiTm9raWFCcm93c2VyLzguNS4wIik+LTE/dHJ1ZTpmYWxzZX0saW5pdFNlbGVjdG9yOiI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMsYj10aGlzLmVsZW1lbnQsZD1iLmlzKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpPyJoZWFkZXIiOiJmb290ZXIiLGU9Yi5jbG9zZXN0KCIudWktcGFnZSIpO2Euc3VwcG9ydEJsYWNrbGlzdCgpP3RoaXMuZGVzdHJveSgpOihiLmFkZENsYXNzKCJ1aS0iK2QrIi1maXhlZCIpLGEuZnVsbHNjcmVlbj8oYi5hZGRDbGFzcygidWktIitkKyItZnVsbHNjcmVlbiIpLGUuYWRkQ2xhc3MoInVpLXBhZ2UtIitkKyItZnVsbHNjcmVlbiIpKTplLmFkZENsYXNzKCJ1aS1wYWdlLSIrZCsiLWZpeGVkIiksdGhpcy5fYWRkVHJhbnNpdGlvbkNsYXNzKCksdGhpcy5fYmluZFBhZ2VFdmVudHMoKSwKdGhpcy5fYmluZFRvZ2dsZUhhbmRsZXJzKCkpfSxfYWRkVHJhbnNpdGlvbkNsYXNzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLnRyYW5zaXRpb247YSYmYSE9PSJub25lIiYmKGE9PT0ic2xpZGUiJiYoYT10aGlzLmVsZW1lbnQuaXMoIi51aS1oZWFkZXIiKT8ic2xpZGVkb3duIjoic2xpZGV1cCIpLHRoaXMuZWxlbWVudC5hZGRDbGFzcyhhKSl9LF9iaW5kUGFnZUV2ZW50czpmdW5jdGlvbigpe3ZhciBjPXRoaXMsYj1jLm9wdGlvbnM7Yy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIikuYmluZCgicGFnZWJlZm9yZXNob3ciLGZ1bmN0aW9uKCl7Yi5kaXNhYmxlUGFnZVpvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSh0cnVlKTtiLnZpc2libGVPblBhZ2VTaG93fHxjLmhpZGUodHJ1ZSl9KS5iaW5kKCJ3ZWJraXRBbmltYXRpb25TdGFydCBhbmltYXRpb25zdGFydCB1cGRhdGVsYXlvdXQiLGZ1bmN0aW9uKCl7Yi51cGRhdGVQYWdlUGFkZGluZyYmYy51cGRhdGVQYWdlUGFkZGluZyh0aGlzKX0pLmJpbmQoInBhZ2VzaG93IiwKZnVuY3Rpb24oKXt2YXIgZD10aGlzO2MudXBkYXRlUGFnZVBhZGRpbmcoZCk7Yi51cGRhdGVQYWdlUGFkZGluZyYmYShzKS5iaW5kKCJ0aHJvdHRsZWRyZXNpemUuIitjLndpZGdldE5hbWUsZnVuY3Rpb24oKXtjLnVwZGF0ZVBhZ2VQYWRkaW5nKGQpfSl9KS5iaW5kKCJwYWdlYmVmb3JlaGlkZSIsZnVuY3Rpb24oZCxlKXtiLmRpc2FibGVQYWdlWm9vbSYmYS5tb2JpbGUuem9vbS5lbmFibGUodHJ1ZSk7Yi51cGRhdGVQYWdlUGFkZGluZyYmYShzKS51bmJpbmQoInRocm90dGxlZHJlc2l6ZS4iK2Mud2lkZ2V0TmFtZSk7aWYoYi50cmFja1BlcnNpc3RlbnRUb29sYmFycyl7dmFyIGY9YSgiLnVpLWZvb3Rlci1maXhlZDpqcW1EYXRhKGlkKSIsdGhpcyksZz1hKCIudWktaGVhZGVyLWZpeGVkOmpxbURhdGEoaWQpIix0aGlzKSxoPWYubGVuZ3RoJiZlLm5leHRQYWdlJiZhKCIudWktZm9vdGVyLWZpeGVkOmpxbURhdGEoaWQ9JyIrZi5qcW1EYXRhKCJpZCIpKyInKSIsZS5uZXh0UGFnZSksCmo9Zy5sZW5ndGgmJmUubmV4dFBhZ2UmJmEoIi51aS1oZWFkZXItZml4ZWQ6anFtRGF0YShpZD0nIitnLmpxbURhdGEoImlkIikrIicpIixlLm5leHRQYWdlKSxoPWh8fGEoKTtpZihoLmxlbmd0aHx8ai5sZW5ndGgpaC5hZGQoaikuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lciksZS5uZXh0UGFnZS5vbmUoInBhZ2VzaG93IixmdW5jdGlvbigpe2guYWRkKGopLmFwcGVuZFRvKHRoaXMpfSl9fSl9LF92aXNpYmxlOnRydWUsdXBkYXRlUGFnZVBhZGRpbmc6ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcy5lbGVtZW50LGQ9Yi5pcygiLnVpLWhlYWRlciIpO3RoaXMub3B0aW9ucy5mdWxsc2NyZWVufHwoYz1jfHxiLmNsb3Nlc3QoIi51aS1wYWdlIiksYShjKS5jc3MoInBhZGRpbmctIisoZD8idG9wIjoiYm90dG9tIiksYi5vdXRlckhlaWdodCgpKSl9LF91c2VUcmFuc2l0aW9uOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMuZWxlbWVudCxkPWEocykuc2Nyb2xsVG9wKCksZT1iLmhlaWdodCgpLApmPWIuY2xvc2VzdCgiLnVpLXBhZ2UiKS5oZWlnaHQoKSxnPWEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpLGI9Yi5pcygiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKT8iaGVhZGVyIjoiZm9vdGVyIjtyZXR1cm4hYyYmKHRoaXMub3B0aW9ucy50cmFuc2l0aW9uJiZ0aGlzLm9wdGlvbnMudHJhbnNpdGlvbiE9PSJub25lIiYmKGI9PT0iaGVhZGVyIiYmIXRoaXMub3B0aW9ucy5mdWxsc2NyZWVuJiZkPmV8fGI9PT0iZm9vdGVyIiYmIXRoaXMub3B0aW9ucy5mdWxsc2NyZWVuJiZkK2c8Zi1lKXx8dGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4pfSxzaG93OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWxlbWVudDt0aGlzLl91c2VUcmFuc2l0aW9uKGEpP2IucmVtb3ZlQ2xhc3MoIm91dCB1aS1maXhlZC1oaWRkZW4iKS5hZGRDbGFzcygiaW4iKTpiLnJlbW92ZUNsYXNzKCJ1aS1maXhlZC1oaWRkZW4iKTt0aGlzLl92aXNpYmxlPXRydWV9LGhpZGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lbGVtZW50LApkPSJvdXQiKyh0aGlzLm9wdGlvbnMudHJhbnNpdGlvbj09PSJzbGlkZSI/IiByZXZlcnNlIjoiIik7dGhpcy5fdXNlVHJhbnNpdGlvbihhKT9iLmFkZENsYXNzKGQpLnJlbW92ZUNsYXNzKCJpbiIpLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7Yi5hZGRDbGFzcygidWktZml4ZWQtaGlkZGVuIikucmVtb3ZlQ2xhc3MoZCl9KTpiLmFkZENsYXNzKCJ1aS1maXhlZC1oaWRkZW4iKS5yZW1vdmVDbGFzcyhkKTt0aGlzLl92aXNpYmxlPWZhbHNlfSx0b2dnbGU6ZnVuY3Rpb24oKXt0aGlzW3RoaXMuX3Zpc2libGU/ImhpZGUiOiJzaG93Il0oKX0sX2JpbmRUb2dnbGVIYW5kbGVyczpmdW5jdGlvbigpe3ZhciBjPXRoaXMsYj1jLm9wdGlvbnM7Yy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIikuYmluZCgidmNsaWNrIixmdW5jdGlvbihkKXtiLnRhcFRvZ2dsZSYmIWEoZC50YXJnZXQpLmNsb3Nlc3QoYi50YXBUb2dnbGVCbGFja2xpc3QpLmxlbmd0aCYmYy50b2dnbGUoKX0pLmJpbmQoImZvY3VzaW4gZm9jdXNvdXQiLApmdW5jdGlvbihkKXtpZihzY3JlZW4ud2lkdGg8NTAwJiZhKGQudGFyZ2V0KS5pcyhiLmhpZGVEdXJpbmdGb2N1cykmJiFhKGQudGFyZ2V0KS5jbG9zZXN0KCIudWktaGVhZGVyLWZpeGVkLCAudWktZm9vdGVyLWZpeGVkIikubGVuZ3RoKWNbZC50eXBlPT09ImZvY3VzaW4iJiZjLl92aXNpYmxlPyJoaWRlIjoic2hvdyJdKCl9KX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudCxiPWEuaXMoIi51aS1oZWFkZXIiKTthLmNsb3Nlc3QoIi51aS1wYWdlIikuY3NzKCJwYWRkaW5nLSIrKGI/InRvcCI6ImJvdHRvbSIpLCIiKTthLnJlbW92ZUNsYXNzKCJ1aS1oZWFkZXItZml4ZWQgdWktZm9vdGVyLWZpeGVkIHVpLWhlYWRlci1mdWxsc2NyZWVuIHVpLWZvb3Rlci1mdWxsc2NyZWVuIGluIG91dCBmYWRlIHNsaWRlZG93biBzbGlkZXVwIHVpLWZpeGVkLWhpZGRlbiIpO2EuY2xvc2VzdCgiLnVpLXBhZ2UiKS5yZW1vdmVDbGFzcygidWktcGFnZS1oZWFkZXItZml4ZWQgdWktcGFnZS1mb290ZXItZml4ZWQgdWktcGFnZS1oZWFkZXItZnVsbHNjcmVlbiB1aS1wYWdlLWZvb3Rlci1mdWxsc2NyZWVuIil9fSk7CmEoaykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGMpe2EoYy50YXJnZXQpLmpxbURhdGEoImZ1bGxzY3JlZW4iKSYmYShhLm1vYmlsZS5maXhlZHRvb2xiYXIucHJvdG90eXBlLm9wdGlvbnMuaW5pdFNlbGVjdG9yLGMudGFyZ2V0KS5ub3QoIjpqcW1EYXRhKGZ1bGxzY3JlZW4pIikuanFtRGF0YSgiZnVsbHNjcmVlbiIsdHJ1ZSk7YS5tb2JpbGUuZml4ZWR0b29sYmFyLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGMudGFyZ2V0KX0pfSkobCk7KGZ1bmN0aW9uKGEsYyl7aWYoL2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xKXt2YXIgYj1hLm1vYmlsZS56b29tLGQsZSxmLGcsaDthKGMpLmJpbmQoIm9yaWVudGF0aW9uY2hhbmdlLmlvc29yaWVudGF0aW9uZml4IixiLmVuYWJsZSkuYmluZCgiZGV2aWNlbW90aW9uLmlvc29yaWVudGF0aW9uZml4IixmdW5jdGlvbihhKXtkPQphLm9yaWdpbmFsRXZlbnQ7aD1kLmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHk7ZT1NYXRoLmFicyhoLngpO2Y9TWF0aC5hYnMoaC55KTtnPU1hdGguYWJzKGgueik7IWMub3JpZW50YXRpb24mJihlPjd8fChnPjYmJmY8OHx8Zzw4JiZmPjYpJiZlPjUpP2IuZW5hYmxlZCYmYi5kaXNhYmxlKCk6Yi5lbmFibGVkfHxiLmVuYWJsZSgpfSl9fSkobCx0aGlzKTsoZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBiKCl7dmFyIGI9YSgiLiIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmZpcnN0KCk7aC5jc3Moe3RvcDphLnN1cHBvcnQuc2Nyb2xsVG9wJiZnLnNjcm9sbFRvcCgpK2cuaGVpZ2h0KCkvMnx8Yi5sZW5ndGgmJmIub2Zmc2V0KCkudG9wfHwxMDB9KX1mdW5jdGlvbiBkKCl7dmFyIGM9aC5vZmZzZXQoKSxlPWcuc2Nyb2xsVG9wKCksZj1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKTtpZihjLnRvcDxlfHxjLnRvcC1lPmYpaC5hZGRDbGFzcygidWktbG9hZGVyLWZha2VmaXgiKSxiKCksCmcudW5iaW5kKCJzY3JvbGwiLGQpLmJpbmQoInNjcm9sbCIsYil9ZnVuY3Rpb24gZSgpe2YucmVtb3ZlQ2xhc3MoInVpLW1vYmlsZS1yZW5kZXJpbmciKX12YXIgZj1hKCJodG1sIik7YSgiaGVhZCIpO3ZhciBnPWEoYyk7YShjLmRvY3VtZW50KS50cmlnZ2VyKCJtb2JpbGVpbml0Iik7aWYoYS5tb2JpbGUuZ3JhZGVBKCkpe2lmKGEubW9iaWxlLmFqYXhCbGFja2xpc3QpYS5tb2JpbGUuYWpheEVuYWJsZWQ9ZmFsc2U7Zi5hZGRDbGFzcygidWktbW9iaWxlIHVpLW1vYmlsZS1yZW5kZXJpbmciKTtzZXRUaW1lb3V0KGUsNUUzKTt2YXIgaD1hKCI8ZGl2IGNsYXNzPSd1aS1sb2FkZXInPjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tbG9hZGluZyc+PC9zcGFuPjxoMT48L2gxPjwvZGl2PiIpO2EuZXh0ZW5kKGEubW9iaWxlLHtzaG93UGFnZUxvYWRpbmdNc2c6ZnVuY3Rpb24oYixjLGUpe2YuYWRkQ2xhc3MoInVpLWxvYWRpbmciKTtpZihhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZSl7dmFyIGs9CmV8fGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGV4dFZpc2libGU7Yj1ifHxhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZVRoZW1lO2guYXR0cigiY2xhc3MiLCJ1aS1sb2FkZXIgdWktY29ybmVyLWFsbCB1aS1ib2R5LSIrKGJ8fCJhIikrIiB1aS1sb2FkZXItIisoaz8idmVyYm9zZSI6ImRlZmF1bHQiKSsoZT8iIHVpLWxvYWRlci10ZXh0b25seSI6IiIpKS5maW5kKCJoMSIpLnRleHQoY3x8YS5tb2JpbGUubG9hZGluZ01lc3NhZ2UpLmVuZCgpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpO2QoKTtnLmJpbmQoInNjcm9sbCIsZCl9fSxoaWRlUGFnZUxvYWRpbmdNc2c6ZnVuY3Rpb24oKXtmLnJlbW92ZUNsYXNzKCJ1aS1sb2FkaW5nIik7YS5tb2JpbGUubG9hZGluZ01lc3NhZ2UmJmgucmVtb3ZlQ2xhc3MoInVpLWxvYWRlci1mYWtlZml4Iik7YShjKS51bmJpbmQoInNjcm9sbCIsYik7YShjKS51bmJpbmQoInNjcm9sbCIsZCl9LGluaXRpYWxpemVQYWdlOmZ1bmN0aW9uKCl7dmFyIGI9CmEoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKTtiLmxlbmd0aHx8KGI9YSgiYm9keSIpLndyYXBJbm5lcigiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J3BhZ2UnPjwvZGl2PiIpLmNoaWxkcmVuKDApKTtiLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IuanFtRGF0YSgidXJsIil8fGIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmwiLGIuYXR0cigiaWQiKXx8bG9jYXRpb24ucGF0aG5hbWUrbG9jYXRpb24uc2VhcmNoKX0pO2EubW9iaWxlLmZpcnN0UGFnZT1iLmZpcnN0KCk7YS5tb2JpbGUucGFnZUNvbnRhaW5lcj1iLmZpcnN0KCkucGFyZW50KCkuYWRkQ2xhc3MoInVpLW1vYmlsZS12aWV3cG9ydCIpO2cudHJpZ2dlcigicGFnZWNvbnRhaW5lcmNyZWF0ZSIpO2EubW9iaWxlLnNob3dQYWdlTG9hZGluZ01zZygpO2UoKTshYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWR8fCFhLm1vYmlsZS5wYXRoLmlzSGFzaFZhbGlkKGxvY2F0aW9uLmhhc2gpfHwKIWEobG9jYXRpb24uaGFzaCsnOmpxbURhdGEocm9sZT0icGFnZSIpJykubGVuZ3RoJiYhYS5tb2JpbGUucGF0aC5pc1BhdGgobG9jYXRpb24uaGFzaCk/YS5tb2JpbGUuY2hhbmdlUGFnZShhLm1vYmlsZS5maXJzdFBhZ2Use3RyYW5zaXRpb246Im5vbmUiLHJldmVyc2U6dHJ1ZSxjaGFuZ2VIYXNoOmZhbHNlLGZyb21IYXNoQ2hhbmdlOnRydWV9KTpnLnRyaWdnZXIoImhhc2hjaGFuZ2UiLFt0cnVlXSl9fSk7YS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZC5yZXNvbHZlKCk7YShmdW5jdGlvbigpe2Muc2Nyb2xsVG8oMCwxKTthLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbD0hYS5zdXBwb3J0LnNjcm9sbFRvcHx8YShjKS5zY3JvbGxUb3AoKT09PTE/MDoxO2EuZm4uY29udHJvbGdyb3VwJiZhKGspLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKCI6anFtRGF0YShyb2xlPSdjb250cm9sZ3JvdXAnKSIsYi50YXJnZXQpLmpxbUVuaGFuY2VhYmxlKCkuY29udHJvbGdyb3VwKHtleGNsdWRlSW52aXNpYmxlOmZhbHNlfSl9KTsKYS5tb2JpbGUuYXV0b0luaXRpYWxpemVQYWdlJiZhLm1vYmlsZS5pbml0aWFsaXplUGFnZSgpO2cubG9hZChhLm1vYmlsZS5zaWxlbnRTY3JvbGwpO2Euc3VwcG9ydC5jc3NQb2ludGVyRXZlbnRzfHxhKGspLmRlbGVnYXRlKCIudWktZGlzYWJsZWQiLCJ2Y2xpY2siLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKTthLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpfSl9KX19KShsLHRoaXMpfSk7Cg==",
                "body": "LyohIGpRdWVyeSBNb2JpbGUgdjEuMS4yIDlhMTVmMWFhZjk5ZmFhNzkxMzEwM2Y1ZWExOWVmNjk1OWI3M2Q3NjMganF1ZXJ5bW9iaWxlLmNvbSB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwooZnVuY3Rpb24obCxzLGspe3R5cGVvZiBkZWZpbmU9PT0iZnVuY3Rpb24iJiZkZWZpbmUuYW1kP2RlZmluZShbImpxdWVyeSJdLGZ1bmN0aW9uKEMpe2soQyxsLHMpO3JldHVybiBDLm1vYmlsZX0pOmsobC5qUXVlcnksbCxzKX0pKHRoaXMsZG9jdW1lbnQsZnVuY3Rpb24obCxzLGssQyl7KGZ1bmN0aW9uKGEsYyxiLGQpe2Z1bmN0aW9uIGUoYSl7Zm9yKDthJiZ0eXBlb2YgYS5vcmlnaW5hbEV2ZW50IT09InVuZGVmaW5lZCI7KWE9YS5vcmlnaW5hbEV2ZW50O3JldHVybiBhfWZ1bmN0aW9uIGYoYil7Zm9yKHZhciBlPXt9LGcsYztiOyl7Zz1hLmRhdGEoYix0KTtmb3IoYyBpbiBnKWlmKGdbY10pZVtjXT1lLmhhc1ZpcnR1YWxCaW5kaW5nPXRydWU7Yj1iLnBhcmVudE5vZGV9cmV0dXJuIGV9ZnVuY3Rpb24gZygpe3omJihjbGVhclRpbWVvdXQoeiksej0wKTt6PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtHPXo9MDtCLmxlbmd0aD0wO0Q9ZmFsc2U7SD10cnVlfSxhLnZtb3VzZS5yZXNldFRpbWVyRHVyYXRpb24pfQpmdW5jdGlvbiBoKGIsZyxjKXt2YXIgaixoO2lmKCEoaD1jJiZjW2JdKSl7aWYoYz0hYylhOntmb3IoYz1nLnRhcmdldDtjOyl7aWYoKGg9YS5kYXRhKGMsdCkpJiYoIWJ8fGhbYl0pKWJyZWFrIGE7Yz1jLnBhcmVudE5vZGV9Yz1udWxsfWg9Y31pZihoKXtqPWc7dmFyIGM9ai50eXBlLGYsRDtqPWEuRXZlbnQoaik7ai50eXBlPWI7aD1qLm9yaWdpbmFsRXZlbnQ7Zj1hLmV2ZW50LnByb3BzO2Muc2VhcmNoKC9eKG1vdXNlfGNsaWNrKS8pPi0xJiYoZj11KTtpZihoKWZvcihEPWYubGVuZ3RoO0Q7KWI9ZlstLURdLGpbYl09aFtiXTtpZihjLnNlYXJjaCgvbW91c2UoZG93bnx1cCl8Y2xpY2svKT4tMSYmIWoud2hpY2gpai53aGljaD0xO2lmKGMuc2VhcmNoKC9edG91Y2gvKSE9PS0xJiYoYj1lKGgpLGM9Yi50b3VjaGVzLGI9Yi5jaGFuZ2VkVG91Y2hlcyxjPWMmJmMubGVuZ3RoP2NbMF06YiYmYi5sZW5ndGg/YlswXTpkKSlmb3IoaD0wLGxlbj14Lmxlbmd0aDtoPGxlbjtoKyspYj14W2hdLApqW2JdPWNbYl07YShnLnRhcmdldCkudHJpZ2dlcihqKX1yZXR1cm4gan1mdW5jdGlvbiBqKGIpe3ZhciBlPWEuZGF0YShiLnRhcmdldCx2KTtpZighRCYmKCFHfHxHIT09ZSkpaWYoZT1oKCJ2IitiLnR5cGUsYikpZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmYi5wcmV2ZW50RGVmYXVsdCgpLGUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmYi5zdG9wUHJvcGFnYXRpb24oKSxlLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkmJmIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCl9ZnVuY3Rpb24gcShiKXt2YXIgYz1lKGIpLnRvdWNoZXMsZztpZihjJiZjLmxlbmd0aD09PTEmJihnPWIudGFyZ2V0LGM9ZihnKSxjLmhhc1ZpcnR1YWxCaW5kaW5nKSlHPU4rKyxhLmRhdGEoZyx2LEcpLHomJihjbGVhclRpbWVvdXQoeiksej0wKSxBPUg9ZmFsc2UsZz1lKGIpLnRvdWNoZXNbMF0seT1nLnBhZ2VYLHM9Zy5wYWdlWSxoKCJ2bW91c2VvdmVyIixiLGMpLGgoInZtb3VzZWRvd24iLGIsYyl9CmZ1bmN0aW9uIHAoYSl7SHx8KEF8fGgoInZtb3VzZWNhbmNlbCIsYSxmKGEudGFyZ2V0KSksQT10cnVlLGcoKSl9ZnVuY3Rpb24gbShiKXtpZighSCl7dmFyIGM9ZShiKS50b3VjaGVzWzBdLGQ9QSxqPWEudm1vdXNlLm1vdmVEaXN0YW5jZVRocmVzaG9sZDtBPUF8fE1hdGguYWJzKGMucGFnZVgteSk+anx8TWF0aC5hYnMoYy5wYWdlWS1zKT5qO2ZsYWdzPWYoYi50YXJnZXQpO0EmJiFkJiZoKCJ2bW91c2VjYW5jZWwiLGIsZmxhZ3MpO2goInZtb3VzZW1vdmUiLGIsZmxhZ3MpO2coKX19ZnVuY3Rpb24gdyhhKXtpZighSCl7SD10cnVlO3ZhciBiPWYoYS50YXJnZXQpLGM7aCgidm1vdXNldXAiLGEsYik7aWYoIUEmJihjPWgoInZjbGljayIsYSxiKSkmJmMuaXNEZWZhdWx0UHJldmVudGVkKCkpYz1lKGEpLmNoYW5nZWRUb3VjaGVzWzBdLEIucHVzaCh7dG91Y2hJRDpHLHg6Yy5jbGllbnRYLHk6Yy5jbGllbnRZfSksRD10cnVlO2goInZtb3VzZW91dCIsYSxiKTtBPWZhbHNlO2coKX19ZnVuY3Rpb24gbihiKXt2YXIgYj0KYS5kYXRhKGIsdCksZTtpZihiKWZvcihlIGluIGIpaWYoYltlXSlyZXR1cm4gdHJ1ZTtyZXR1cm4gZmFsc2V9ZnVuY3Rpb24gaygpe31mdW5jdGlvbiBvKGIpe3ZhciBlPWIuc3Vic3RyKDEpO3JldHVybntzZXR1cDpmdW5jdGlvbigpe24odGhpcyl8fGEuZGF0YSh0aGlzLHQse30pO2EuZGF0YSh0aGlzLHQpW2JdPXRydWU7bFtiXT0obFtiXXx8MCkrMTtsW2JdPT09MSYmSi5iaW5kKGUsaik7YSh0aGlzKS5iaW5kKGUsayk7aWYoTSlsLnRvdWNoc3RhcnQ9KGwudG91Y2hzdGFydHx8MCkrMSxsLnRvdWNoc3RhcnQ9PT0xJiZKLmJpbmQoInRvdWNoc3RhcnQiLHEpLmJpbmQoInRvdWNoZW5kIix3KS5iaW5kKCJ0b3VjaG1vdmUiLG0pLmJpbmQoInNjcm9sbCIscCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7LS1sW2JdO2xbYl18fEoudW5iaW5kKGUsaik7TSYmKC0tbC50b3VjaHN0YXJ0LGwudG91Y2hzdGFydHx8Si51bmJpbmQoInRvdWNoc3RhcnQiLHEpLnVuYmluZCgidG91Y2htb3ZlIixtKS51bmJpbmQoInRvdWNoZW5kIiwKdykudW5iaW5kKCJzY3JvbGwiLHApKTt2YXIgYz1hKHRoaXMpLGc9YS5kYXRhKHRoaXMsdCk7ZyYmKGdbYl09ZmFsc2UpO2MudW5iaW5kKGUsayk7bih0aGlzKXx8Yy5yZW1vdmVEYXRhKHQpfX19dmFyIHQ9InZpcnR1YWxNb3VzZUJpbmRpbmdzIix2PSJ2aXJ0dWFsVG91Y2hJRCIsYz0idm1vdXNlb3ZlciB2bW91c2Vkb3duIHZtb3VzZW1vdmUgdm1vdXNldXAgdmNsaWNrIHZtb3VzZW91dCB2bW91c2VjYW5jZWwiLnNwbGl0KCIgIikseD0iY2xpZW50WCBjbGllbnRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSIuc3BsaXQoIiAiKSx1PWEuZXZlbnQucHJvcHMuY29uY2F0KGEuZXZlbnQubW91c2VIb29rcz9hLmV2ZW50Lm1vdXNlSG9va3MucHJvcHM6W10pLGw9e30sej0wLHk9MCxzPTAsQT1mYWxzZSxCPVtdLEQ9ZmFsc2UsSD1mYWxzZSxNPSJhZGRFdmVudExpc3RlbmVyImluIGIsSj1hKGIpLE49MSxHPTA7YS52bW91c2U9e21vdmVEaXN0YW5jZVRocmVzaG9sZDoxMCxjbGlja0Rpc3RhbmNlVGhyZXNob2xkOjEwLApyZXNldFRpbWVyRHVyYXRpb246MTUwMH07Zm9yKHZhciBLPTA7SzxjLmxlbmd0aDtLKyspYS5ldmVudC5zcGVjaWFsW2NbS11dPW8oY1tLXSk7TSYmYi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oYil7dmFyIGU9Qi5sZW5ndGgsYz1iLnRhcmdldCxnLGQsaixoLGY7aWYoZSl7Zz1iLmNsaWVudFg7ZD1iLmNsaWVudFk7dGhyZXNob2xkPWEudm1vdXNlLmNsaWNrRGlzdGFuY2VUaHJlc2hvbGQ7Zm9yKGo9YztqOyl7Zm9yKGg9MDtoPGU7aCsrKWlmKGY9QltoXSxqPT09YyYmTWF0aC5hYnMoZi54LWcpPHRocmVzaG9sZCYmTWF0aC5hYnMoZi55LWQpPHRocmVzaG9sZHx8YS5kYXRhKGosdik9PT1mLnRvdWNoSUQpe2IucHJldmVudERlZmF1bHQoKTtiLnN0b3BQcm9wYWdhdGlvbigpO3JldHVybn1qPWoucGFyZW50Tm9kZX19fSx0cnVlKX0pKGwscyxrKTsoZnVuY3Rpb24oYSxjLGIpe2Z1bmN0aW9uIGQoYSl7YT1hfHxsb2NhdGlvbi5ocmVmO3JldHVybiIjIithLnJlcGxhY2UoL15bXiNdKiM/KC4qKSQvLAoiJDEiKX12YXIgZT0iaGFzaGNoYW5nZSIsZj1rLGcsaD1hLmV2ZW50LnNwZWNpYWwsaj1mLmRvY3VtZW50TW9kZSxxPSJvbiIrZSBpbiBjJiYoaj09PWJ8fGo+Nyk7YS5mbltlXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoZSxhKTp0aGlzLnRyaWdnZXIoZSl9O2EuZm5bZV0uZGVsYXk9NTA7aFtlXT1hLmV4dGVuZChoW2VdLHtzZXR1cDpmdW5jdGlvbigpe2lmKHEpcmV0dXJuIGZhbHNlO2EoZy5zdGFydCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYocSlyZXR1cm4gZmFsc2U7YShnLnN0b3ApfX0pO2c9ZnVuY3Rpb24oKXtmdW5jdGlvbiBnKCl7dmFyIGI9ZCgpLGo9dChuKTtpZihiIT09bilvKG49YixqKSxhKGMpLnRyaWdnZXIoZSk7ZWxzZSBpZihqIT09bilsb2NhdGlvbi5ocmVmPWxvY2F0aW9uLmhyZWYucmVwbGFjZSgvIy4qLywiIikrajtoPXNldFRpbWVvdXQoZyxhLmZuW2VdLmRlbGF5KX12YXIgaj17fSxoLG49ZCgpLGs9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LG89CmssdD1rO2ouc3RhcnQ9ZnVuY3Rpb24oKXtofHxnKCl9O2ouc3RvcD1mdW5jdGlvbigpe2gmJmNsZWFyVGltZW91dChoKTtoPWJ9O2EuYnJvd3Nlci5tc2llJiYhcSYmZnVuY3Rpb24oKXt2YXIgYixjO2ouc3RhcnQ9ZnVuY3Rpb24oKXtpZighYiljPShjPWEuZm5bZV0uc3JjKSYmYytkKCksYj1hKCc8aWZyYW1lIHRhYmluZGV4PSItMSIgdGl0bGU9ImVtcHR5Ii8+JykuaGlkZSgpLm9uZSgibG9hZCIsZnVuY3Rpb24oKXtjfHxvKGQoKSk7ZygpfSkuYXR0cigic3JjIixjfHwiamF2YXNjcmlwdDowIikuaW5zZXJ0QWZ0ZXIoImJvZHkiKVswXS5jb250ZW50V2luZG93LGYub25wcm9wZXJ0eWNoYW5nZT1mdW5jdGlvbigpe3RyeXtpZihldmVudC5wcm9wZXJ0eU5hbWU9PT0idGl0bGUiKWIuZG9jdW1lbnQudGl0bGU9Zi50aXRsZX1jYXRjaChhKXt9fX07ai5zdG9wPWs7dD1mdW5jdGlvbigpe3JldHVybiBkKGIubG9jYXRpb24uaHJlZil9O289ZnVuY3Rpb24oYyxnKXt2YXIgZD1iLmRvY3VtZW50LApqPWEuZm5bZV0uZG9tYWluO2lmKGMhPT1nKWQudGl0bGU9Zi50aXRsZSxkLm9wZW4oKSxqJiZkLndyaXRlKCc8c2NyaXB0PmRvY3VtZW50LmRvbWFpbj0iJytqKyciPFwvc2NyaXB0PicpLGQuY2xvc2UoKSxiLmxvY2F0aW9uLmhhc2g9Y319KCk7cmV0dXJuIGp9KCl9KShsLHRoaXMpOyhmdW5jdGlvbihhLGMpe2lmKGEuY2xlYW5EYXRhKXt2YXIgYj1hLmNsZWFuRGF0YTthLmNsZWFuRGF0YT1mdW5jdGlvbihjKXtmb3IodmFyIGQ9MCxnOyhnPWNbZF0pIT1udWxsO2QrKylhKGcpLnRyaWdnZXJIYW5kbGVyKCJyZW1vdmUiKTtiKGMpfX1lbHNle3ZhciBkPWEuZm4ucmVtb3ZlO2EuZm4ucmVtb3ZlPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2N8fCghYnx8YS5maWx0ZXIoYixbdGhpc10pLmxlbmd0aCkmJmEoIioiLHRoaXMpLmFkZChbdGhpc10pLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLnRyaWdnZXJIYW5kbGVyKCJyZW1vdmUiKX0pO3JldHVybiBkLmNhbGwoYSh0aGlzKSwKYixjKX0pfX1hLndpZGdldD1mdW5jdGlvbihiLGMsZyl7dmFyIGQ9Yi5zcGxpdCgiLiIpWzBdLGosYj1iLnNwbGl0KCIuIilbMV07aj1kKyItIitiO2lmKCFnKWc9YyxjPWEuV2lkZ2V0O2EuZXhwclsiOiJdW2pdPWZ1bmN0aW9uKGMpe3JldHVybiEhYS5kYXRhKGMsYil9O2FbZF09YVtkXXx8e307YVtkXVtiXT1mdW5jdGlvbihhLGIpe2FyZ3VtZW50cy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVdpZGdldChhLGIpfTtjPW5ldyBjO2Mub3B0aW9ucz1hLmV4dGVuZCh0cnVlLHt9LGMub3B0aW9ucyk7YVtkXVtiXS5wcm90b3R5cGU9YS5leHRlbmQodHJ1ZSxjLHtuYW1lc3BhY2U6ZCx3aWRnZXROYW1lOmIsd2lkZ2V0RXZlbnRQcmVmaXg6YVtkXVtiXS5wcm90b3R5cGUud2lkZ2V0RXZlbnRQcmVmaXh8fGIsd2lkZ2V0QmFzZUNsYXNzOmp9LGcpO2Eud2lkZ2V0LmJyaWRnZShiLGFbZF1bYl0pfTthLndpZGdldC5icmlkZ2U9ZnVuY3Rpb24oYixkKXthLmZuW2JdPWZ1bmN0aW9uKGcpe3ZhciBoPQp0eXBlb2YgZz09PSJzdHJpbmciLGo9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLHE9dGhpcyxnPSFoJiZqLmxlbmd0aD9hLmV4dGVuZC5hcHBseShudWxsLFt0cnVlLGddLmNvbmNhdChqKSk6ZztpZihoJiZnLmNoYXJBdCgwKT09PSJfIilyZXR1cm4gcTtoP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEuZGF0YSh0aGlzLGIpO2lmKCFkKXRocm93ImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gIitiKyIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247IGF0dGVtcHRlZCB0byBjYWxsIG1ldGhvZCAnIitnKyInIjtpZighYS5pc0Z1bmN0aW9uKGRbZ10pKXRocm93Im5vIHN1Y2ggbWV0aG9kICciK2crIicgZm9yICIrYisiIHdpZGdldCBpbnN0YW5jZSI7dmFyIGg9ZFtnXS5hcHBseShkLGopO2lmKGghPT1kJiZoIT09YylyZXR1cm4gcT1oLGZhbHNlfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YS5kYXRhKHRoaXMsYik7Yz9jLm9wdGlvbihnfHx7fSkuX2luaXQoKToKYS5kYXRhKHRoaXMsYixuZXcgZChnLHRoaXMpKX0pO3JldHVybiBxfX07YS5XaWRnZXQ9ZnVuY3Rpb24oYSxiKXthcmd1bWVudHMubGVuZ3RoJiZ0aGlzLl9jcmVhdGVXaWRnZXQoYSxiKX07YS5XaWRnZXQucHJvdG90eXBlPXt3aWRnZXROYW1lOiJ3aWRnZXQiLHdpZGdldEV2ZW50UHJlZml4OiIiLG9wdGlvbnM6e2Rpc2FibGVkOmZhbHNlfSxfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKGIsYyl7YS5kYXRhKGMsdGhpcy53aWRnZXROYW1lLHRoaXMpO3RoaXMuZWxlbWVudD1hKGMpO3RoaXMub3B0aW9ucz1hLmV4dGVuZCh0cnVlLHt9LHRoaXMub3B0aW9ucyx0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksYik7dmFyIGc9dGhpczt0aGlzLmVsZW1lbnQuYmluZCgicmVtb3ZlLiIrdGhpcy53aWRnZXROYW1lLGZ1bmN0aW9uKCl7Zy5kZXN0cm95KCl9KTt0aGlzLl9jcmVhdGUoKTt0aGlzLl90cmlnZ2VyKCJjcmVhdGUiKTt0aGlzLl9pbml0KCl9LF9nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIGI9Cnt9O2EubWV0YWRhdGEmJihiPWEubWV0YWRhdGEuZ2V0KGVsZW1lbnQpW3RoaXMud2lkZ2V0TmFtZV0pO3JldHVybiBifSxfY3JlYXRlOmZ1bmN0aW9uKCl7fSxfaW5pdDpmdW5jdGlvbigpe30sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC51bmJpbmQoIi4iK3RoaXMud2lkZ2V0TmFtZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldE5hbWUpO3RoaXMud2lkZ2V0KCkudW5iaW5kKCIuIit0aGlzLndpZGdldE5hbWUpLnJlbW92ZUF0dHIoImFyaWEtZGlzYWJsZWQiKS5yZW1vdmVDbGFzcyh0aGlzLndpZGdldEJhc2VDbGFzcysiLWRpc2FibGVkIHVpLXN0YXRlLWRpc2FibGVkIil9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnR9LG9wdGlvbjpmdW5jdGlvbihiLGQpe3ZhciBnPWI7aWYoYXJndW1lbnRzLmxlbmd0aD09PTApcmV0dXJuIGEuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyk7aWYodHlwZW9mIGI9PT0ic3RyaW5nIil7aWYoZD09PWMpcmV0dXJuIHRoaXMub3B0aW9uc1tiXTsKZz17fTtnW2JdPWR9dGhpcy5fc2V0T3B0aW9ucyhnKTtyZXR1cm4gdGhpc30sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYil7dmFyIGM9dGhpczthLmVhY2goYixmdW5jdGlvbihhLGIpe2MuX3NldE9wdGlvbihhLGIpfSk7cmV0dXJuIHRoaXN9LF9zZXRPcHRpb246ZnVuY3Rpb24oYSxiKXt0aGlzLm9wdGlvbnNbYV09YjthPT09ImRpc2FibGVkIiYmdGhpcy53aWRnZXQoKVtiPyJhZGRDbGFzcyI6InJlbW92ZUNsYXNzIl0odGhpcy53aWRnZXRCYXNlQ2xhc3MrIi1kaXNhYmxlZCB1aS1zdGF0ZS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLGIpO3JldHVybiB0aGlzfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsZmFsc2UpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLHRydWUpfSxfdHJpZ2dlcjpmdW5jdGlvbihiLGMsZCl7dmFyIGg9dGhpcy5vcHRpb25zW2JdLGM9YS5FdmVudChjKTsKYy50eXBlPShiPT09dGhpcy53aWRnZXRFdmVudFByZWZpeD9iOnRoaXMud2lkZ2V0RXZlbnRQcmVmaXgrYikudG9Mb3dlckNhc2UoKTtkPWR8fHt9O2lmKGMub3JpZ2luYWxFdmVudClmb3IodmFyIGI9YS5ldmVudC5wcm9wcy5sZW5ndGgsajtiOylqPWEuZXZlbnQucHJvcHNbLS1iXSxjW2pdPWMub3JpZ2luYWxFdmVudFtqXTt0aGlzLmVsZW1lbnQudHJpZ2dlcihjLGQpO3JldHVybiEoYS5pc0Z1bmN0aW9uKGgpJiZoLmNhbGwodGhpcy5lbGVtZW50WzBdLGMsZCk9PT1mYWxzZXx8Yy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl9fX0pKGwpOyhmdW5jdGlvbihhLGMpe2Eud2lkZ2V0KCJtb2JpbGUud2lkZ2V0Iix7X2NyZWF0ZVdpZGdldDpmdW5jdGlvbigpe2EuV2lkZ2V0LnByb3RvdHlwZS5fY3JlYXRlV2lkZ2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl90cmlnZ2VyKCJpbml0Iil9LF9nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGQ9e307CmEuZWFjaCh0aGlzLm9wdGlvbnMsZnVuY3Rpb24oYSl7dmFyIGY9Yi5qcW1EYXRhKGEucmVwbGFjZSgvW0EtWl0vZyxmdW5jdGlvbihhKXtyZXR1cm4iLSIrYS50b0xvd2VyQ2FzZSgpfSkpO2YhPT1jJiYoZFthXT1mKX0pO3JldHVybiBkfSxlbmhhbmNlV2l0aGluOmZ1bmN0aW9uKGIsYyl7dGhpcy5lbmhhbmNlKGEodGhpcy5vcHRpb25zLmluaXRTZWxlY3RvcixhKGIpKSxjKX0sZW5oYW5jZTpmdW5jdGlvbihiLGMpe3ZhciBlLGY9YShiKSxmPWEubW9iaWxlLmVuaGFuY2VhYmxlKGYpO2MmJmYubGVuZ3RoJiYoZT0oZT1hLm1vYmlsZS5jbG9zZXN0UGFnZURhdGEoZikpJiZlLmtlZXBOYXRpdmVTZWxlY3RvcigpfHwiIixmPWYubm90KGUpKTtmW3RoaXMud2lkZ2V0TmFtZV0oKX0scmFpc2U6ZnVuY3Rpb24oYSl7dGhyb3ciV2lkZ2V0IFsiK3RoaXMud2lkZ2V0TmFtZSsiXTogIithO319KX0pKGwpOyhmdW5jdGlvbihhLGMsYil7dmFyIGQ9e307YS5tb2JpbGU9YS5leHRlbmQoe30se3ZlcnNpb246IjEuMS4yIiwKbnM6IiIsc3ViUGFnZVVybEtleToidWktcGFnZSIsYWN0aXZlUGFnZUNsYXNzOiJ1aS1wYWdlLWFjdGl2ZSIsYWN0aXZlQnRuQ2xhc3M6InVpLWJ0bi1hY3RpdmUiLGZvY3VzQ2xhc3M6InVpLWZvY3VzIixhamF4RW5hYmxlZDp0cnVlLGhhc2hMaXN0ZW5pbmdFbmFibGVkOnRydWUsbGlua0JpbmRpbmdFbmFibGVkOnRydWUsZGVmYXVsdFBhZ2VUcmFuc2l0aW9uOiJmYWRlIixtYXhUcmFuc2l0aW9uV2lkdGg6ZmFsc2UsbWluU2Nyb2xsQmFjazoyNTAsdG91Y2hPdmVyZmxvd0VuYWJsZWQ6ZmFsc2UsZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246InBvcCIsbG9hZGluZ01lc3NhZ2U6ImxvYWRpbmciLHBhZ2VMb2FkRXJyb3JNZXNzYWdlOiJFcnJvciBMb2FkaW5nIFBhZ2UiLGxvYWRpbmdNZXNzYWdlVGV4dFZpc2libGU6ZmFsc2UsbG9hZGluZ01lc3NhZ2VUaGVtZToiYSIscGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZToiZSIscGhvbmVnYXBOYXZpZ2F0aW9uRW5hYmxlZDpmYWxzZSxhdXRvSW5pdGlhbGl6ZVBhZ2U6dHJ1ZSwKcHVzaFN0YXRlRW5hYmxlZDp0cnVlLGlnbm9yZUNvbnRlbnRFbmFibGVkOmZhbHNlLG9yaWVudGF0aW9uQ2hhbmdlRW5hYmxlZDp0cnVlLGJ1dHRvbk1hcmt1cDp7aG92ZXJEZWxheToyMDB9LGtleUNvZGU6e0FMVDoxOCxCQUNLU1BBQ0U6OCxDQVBTX0xPQ0s6MjAsQ09NTUE6MTg4LENPTU1BTkQ6OTEsQ09NTUFORF9MRUZUOjkxLENPTU1BTkRfUklHSFQ6OTMsQ09OVFJPTDoxNyxERUxFVEU6NDYsRE9XTjo0MCxFTkQ6MzUsRU5URVI6MTMsRVNDQVBFOjI3LEhPTUU6MzYsSU5TRVJUOjQ1LExFRlQ6MzcsTUVOVTo5MyxOVU1QQURfQUREOjEwNyxOVU1QQURfREVDSU1BTDoxMTAsTlVNUEFEX0RJVklERToxMTEsTlVNUEFEX0VOVEVSOjEwOCxOVU1QQURfTVVMVElQTFk6MTA2LE5VTVBBRF9TVUJUUkFDVDoxMDksUEFHRV9ET1dOOjM0LFBBR0VfVVA6MzMsUEVSSU9EOjE5MCxSSUdIVDozOSxTSElGVDoxNixTUEFDRTozMixUQUI6OSxVUDozOCxXSU5ET1dTOjkxfSxzaWxlbnRTY3JvbGw6ZnVuY3Rpb24oYil7aWYoYS50eXBlKGIpIT09CiJudW1iZXIiKWI9YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ZmFsc2U7c2V0VGltZW91dChmdW5jdGlvbigpe2Muc2Nyb2xsVG8oMCxiKTthKGspLnRyaWdnZXIoInNpbGVudHNjcm9sbCIse3g6MCx5OmJ9KX0sMjApO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD10cnVlfSwxNTApfSxuc05vcm1hbGl6ZURpY3Q6ZCxuc05vcm1hbGl6ZTpmdW5jdGlvbihiKXtyZXR1cm4hYj92b2lkIDA6ZFtiXXx8KGRbYl09YS5jYW1lbENhc2UoYS5tb2JpbGUubnMrYikpfSxnZXRJbmhlcml0ZWRUaGVtZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1hWzBdLGQ9IiIsZT0vdWktKGJhcnxib2R5fG92ZXJsYXkpLShbYS16XSlcYi8sZix3O2M7KXtpZigoZj1jLmNsYXNzTmFtZXx8IiIpJiYodz1lLmV4ZWMoZikpJiYoZD13WzJdKSlicmVhaztjPWMucGFyZW50Tm9kZX1yZXR1cm4gZHx8CmJ8fCJhIn0sY2xvc2VzdFBhZ2VEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNsb3Nlc3QoJzpqcW1EYXRhKHJvbGU9InBhZ2UiKSwgOmpxbURhdGEocm9sZT0iZGlhbG9nIiknKS5kYXRhKCJwYWdlIil9LGVuaGFuY2VhYmxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhdmVQYXJlbnRzKGEsImVuaGFuY2UiKX0saGlqYWNrYWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYXZlUGFyZW50cyhhLCJhamF4Iil9LGhhdmVQYXJlbnRzOmZ1bmN0aW9uKGIsYyl7aWYoIWEubW9iaWxlLmlnbm9yZUNvbnRlbnRFbmFibGVkKXJldHVybiBiO2Zvcih2YXIgZD1iLmxlbmd0aCxlPWEoKSxmLG0sdyxuPTA7bjxkO24rKyl7bT1iLmVxKG4pO3c9ZmFsc2U7Zm9yKGY9YltuXTtmOyl7aWYoKGYuZ2V0QXR0cmlidXRlP2YuZ2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrYyk6IiIpPT09ImZhbHNlIil7dz10cnVlO2JyZWFrfWY9Zi5wYXJlbnROb2RlfXd8fChlPWUuYWRkKG0pKX1yZXR1cm4gZX0sCmdldFNjcmVlbkhlaWdodDpmdW5jdGlvbigpe3JldHVybiBjLmlubmVySGVpZ2h0fHxhKGMpLmhlaWdodCgpfX0sYS5tb2JpbGUpO2EuZm4uanFtRGF0YT1mdW5jdGlvbihjLGQpe3ZhciBlO3R5cGVvZiBjIT0idW5kZWZpbmVkIiYmKGMmJihjPWEubW9iaWxlLm5zTm9ybWFsaXplKGMpKSxlPWFyZ3VtZW50cy5sZW5ndGg8Mnx8ZD09PWI/dGhpcy5kYXRhKGMpOnRoaXMuZGF0YShjLGQpKTtyZXR1cm4gZX07YS5qcW1EYXRhPWZ1bmN0aW9uKGIsYyxkKXt2YXIgZTt0eXBlb2YgYyE9InVuZGVmaW5lZCImJihlPWEuZGF0YShiLGM/YS5tb2JpbGUubnNOb3JtYWxpemUoYyk6YyxkKSk7cmV0dXJuIGV9O2EuZm4uanFtUmVtb3ZlRGF0YT1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5yZW1vdmVEYXRhKGEubW9iaWxlLm5zTm9ybWFsaXplKGIpKX07YS5qcW1SZW1vdmVEYXRhPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEucmVtb3ZlRGF0YShiLGEubW9iaWxlLm5zTm9ybWFsaXplKGMpKX07YS5mbi5yZW1vdmVXaXRoRGVwZW5kZW50cz0KZnVuY3Rpb24oKXthLnJlbW92ZVdpdGhEZXBlbmRlbnRzKHRoaXMpfTthLnJlbW92ZVdpdGhEZXBlbmRlbnRzPWZ1bmN0aW9uKGIpe2I9YShiKTsoYi5qcW1EYXRhKCJkZXBlbmRlbnRzIil8fGEoKSkucmVtb3ZlKCk7Yi5yZW1vdmUoKX07YS5mbi5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKGIpe2EuYWRkRGVwZW5kZW50cyhhKHRoaXMpLGIpfTthLmFkZERlcGVuZGVudHM9ZnVuY3Rpb24oYixjKXt2YXIgZD1hKGIpLmpxbURhdGEoImRlcGVuZGVudHMiKXx8YSgpO2EoYikuanFtRGF0YSgiZGVwZW5kZW50cyIsYS5tZXJnZShkLGMpKX07YS5mbi5nZXRFbmNvZGVkVGV4dD1mdW5jdGlvbigpe3JldHVybiBhKCI8ZGl2Lz4iKS50ZXh0KGEodGhpcykudGV4dCgpKS5odG1sKCl9O2EuZm4uanFtRW5oYW5jZWFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuZW5oYW5jZWFibGUodGhpcyl9O2EuZm4uanFtSGlqYWNrYWJsZT1mdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5oaWphY2thYmxlKHRoaXMpfTsKdmFyIGU9YS5maW5kLGY9LzpqcW1EYXRhXCgoW14pXSopXCkvZzthLmZpbmQ9ZnVuY3Rpb24oYixjLGQscSl7Yj1iLnJlcGxhY2UoZiwiW2RhdGEtIisoYS5tb2JpbGUubnN8fCIiKSsiJDFdIik7cmV0dXJuIGUuY2FsbCh0aGlzLGIsYyxkLHEpfTthLmV4dGVuZChhLmZpbmQsZSk7YS5maW5kLm1hdGNoZXM9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5maW5kKGIsbnVsbCxudWxsLGMpfTthLmZpbmQubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuZmluZChjLG51bGwsbnVsbCxbYl0pLmxlbmd0aD4wfX0pKGwsdGhpcyk7KGZ1bmN0aW9uKGEpe2Eocyk7dmFyIGM9YSgiaHRtbCIpO2EubW9iaWxlLm1lZGlhPWZ1bmN0aW9uKCl7dmFyIGI9e30sZD1hKCI8ZGl2IGlkPSdqcXVlcnktbWVkaWF0ZXN0Jz48L2Rpdj4iKSxlPWEoIjxib2R5PiIpLmFwcGVuZChkKTtyZXR1cm4gZnVuY3Rpb24oYSl7aWYoIShhIGluIGIpKXt2YXIgZz1rLmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksCmg9IkBtZWRpYSAiK2ErIiB7ICNqcXVlcnktbWVkaWF0ZXN0IHsgcG9zaXRpb246YWJzb2x1dGU7IH0gfSI7Zy50eXBlPSJ0ZXh0L2NzcyI7Zy5zdHlsZVNoZWV0P2cuc3R5bGVTaGVldC5jc3NUZXh0PWg6Zy5hcHBlbmRDaGlsZChrLmNyZWF0ZVRleHROb2RlKGgpKTtjLnByZXBlbmQoZSkucHJlcGVuZChnKTtiW2FdPWQuY3NzKCJwb3NpdGlvbiIpPT09ImFic29sdXRlIjtlLmFkZChnKS5yZW1vdmUoKX1yZXR1cm4gYlthXX19KCl9KShsKTsoZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBiKGEpe3ZhciBiPWEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHIoMSksYT0oYSsiICIrZy5qb2luKGIrIiAiKStiKS5zcGxpdCgiICIpLGQ7Zm9yKGQgaW4gYSlpZihmW2FbZF1dIT09YylyZXR1cm4gdHJ1ZX1mdW5jdGlvbiBkKGEsYixjKXt2YXIgZD1rLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGM9Yz9bY106ZyxlO2ZvcihpPTA7aTxjLmxlbmd0aDtpKyspe3ZhciBqPWNbaV0saD0iLSIrai5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSsKai5zdWJzdHIoMSkrIi0iK2ErIjogIitiKyI7IixqPWouY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrai5zdWJzdHIoMSkrKGEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHIoMSkpO2Quc2V0QXR0cmlidXRlKCJzdHlsZSIsaCk7ZC5zdHlsZVtqXSYmKGU9dHJ1ZSl9cmV0dXJuISFlfXZhciBlPWEoIjxib2R5PiIpLnByZXBlbmRUbygiaHRtbCIpLGY9ZVswXS5zdHlsZSxnPVsiV2Via2l0IiwiTW96IiwiTyJdLGg9InBhbG1HZXRSZXNvdXJjZSJpbiBzLGo9cy5vcGVyYSxxPXMub3BlcmFtaW5pJiZ7fS50b1N0cmluZy5jYWxsKHMub3BlcmFtaW5pKT09PSJbb2JqZWN0IE9wZXJhTWluaV0iLHA9cy5ibGFja2JlcnJ5O2EuZXh0ZW5kKGEubW9iaWxlLHticm93c2VyOnt9fSk7YS5tb2JpbGUuYnJvd3Nlci5pZT1mdW5jdGlvbigpe2Zvcih2YXIgYT0zLGI9ay5jcmVhdGVFbGVtZW50KCJkaXYiKSxjPWIuYWxsfHxbXTtiLmlubmVySFRNTD0iPFwhLS1baWYgZ3QgSUUgIisgKythKwoiXT48YnI+PCFbZW5kaWZdLS1cPiIsY1swXTspO3JldHVybiBhPjQ/YTohYX0oKTthLmV4dGVuZChhLnN1cHBvcnQse29yaWVudGF0aW9uOiJvcmllbnRhdGlvbiJpbiBzJiYib25vcmllbnRhdGlvbmNoYW5nZSJpbiBzLHRvdWNoOiJvbnRvdWNoZW5kImluIGssY3NzVHJhbnNpdGlvbnM6IldlYktpdFRyYW5zaXRpb25FdmVudCJpbiBzfHxkKCJ0cmFuc2l0aW9uIiwiaGVpZ2h0IDEwMG1zIGxpbmVhciIpJiYhaixwdXNoU3RhdGU6InB1c2hTdGF0ZSJpbiBoaXN0b3J5JiYicmVwbGFjZVN0YXRlImluIGhpc3RvcnksbWVkaWFxdWVyeTphLm1vYmlsZS5tZWRpYSgib25seSBhbGwiKSxjc3NQc2V1ZG9FbGVtZW50OiEhYigiY29udGVudCIpLHRvdWNoT3ZlcmZsb3c6ISFiKCJvdmVyZmxvd1Njcm9sbGluZyIpLGNzc1RyYW5zZm9ybTNkOmQoInBlcnNwZWN0aXZlIiwiMTBweCIsIm1veiIpfHxhLm1vYmlsZS5tZWRpYSgiKC0iK2cuam9pbigiLXRyYW5zZm9ybS0zZCksKC0iKSsiLXRyYW5zZm9ybS0zZCksKHRyYW5zZm9ybS0zZCkiKSwKYm94U2hhZG93OiEhYigiYm94U2hhZG93IikmJiFwLHNjcm9sbFRvcDooInBhZ2VYT2Zmc2V0ImluIHN8fCJzY3JvbGxUb3AiaW4gay5kb2N1bWVudEVsZW1lbnR8fCJzY3JvbGxUb3AiaW4gZVswXSkmJiFoJiYhcSxkeW5hbWljQmFzZVRhZzpmdW5jdGlvbigpe3ZhciBiPWxvY2F0aW9uLnByb3RvY29sKyIvLyIrbG9jYXRpb24uaG9zdCtsb2NhdGlvbi5wYXRobmFtZSsidWktZGlyLyIsYz1hKCJoZWFkIGJhc2UiKSxkPW51bGwsaj0iIixnO2MubGVuZ3RoP2o9Yy5hdHRyKCJocmVmIik6Yz1kPWEoIjxiYXNlPiIse2hyZWY6Yn0pLmFwcGVuZFRvKCJoZWFkIik7Zz1hKCI8YSBocmVmPSd0ZXN0dXJsJyAvPiIpLnByZXBlbmRUbyhlKVswXS5ocmVmO2NbMF0uaHJlZj1qfHxsb2NhdGlvbi5wYXRobmFtZTtkJiZkLnJlbW92ZSgpO3JldHVybiBnLmluZGV4T2YoYik9PT0wfSgpLGNzc1BvaW50ZXJFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT1rLmNyZWF0ZUVsZW1lbnQoIngiKSxiPWsuZG9jdW1lbnRFbGVtZW50LApjPXMuZ2V0Q29tcHV0ZWRTdHlsZTtpZighKCJwb2ludGVyRXZlbnRzImluIGEuc3R5bGUpKXJldHVybiBmYWxzZTthLnN0eWxlLnBvaW50ZXJFdmVudHM9ImF1dG8iO2Euc3R5bGUucG9pbnRlckV2ZW50cz0ieCI7Yi5hcHBlbmRDaGlsZChhKTtjPWMmJmMoYSwiIikucG9pbnRlckV2ZW50cz09PSJhdXRvIjtiLnJlbW92ZUNoaWxkKGEpO3JldHVybiEhY30oKX0pO2UucmVtb3ZlKCk7aD1mdW5jdGlvbigpe3ZhciBhPXMubmF2aWdhdG9yLnVzZXJBZ2VudDtyZXR1cm4gYS5pbmRleE9mKCJOb2tpYSIpPi0xJiYoYS5pbmRleE9mKCJTeW1iaWFuLzMiKT4tMXx8YS5pbmRleE9mKCJTZXJpZXM2MC81Iik+LTEpJiZhLmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTEmJmEubWF0Y2goLyhCcm93c2VyTkd8Tm9raWFCcm93c2VyKVwvN1wuWzAtM10vKX0oKTthLm1vYmlsZS5ncmFkZUE9ZnVuY3Rpb24oKXtyZXR1cm4gYS5zdXBwb3J0Lm1lZGlhcXVlcnl8fGEubW9iaWxlLmJyb3dzZXIuaWUmJmEubW9iaWxlLmJyb3dzZXIuaWU+PQo3fTthLm1vYmlsZS5hamF4QmxhY2tsaXN0PXMuYmxhY2tiZXJyeSYmIXMuV2ViS2l0UG9pbnR8fHF8fGg7aCYmYShmdW5jdGlvbigpe2EoImhlYWQgbGlua1tyZWw9J3N0eWxlc2hlZXQnXSIpLmF0dHIoInJlbCIsImFsdGVybmF0ZSBzdHlsZXNoZWV0IikuYXR0cigicmVsIiwic3R5bGVzaGVldCIpfSk7YS5zdXBwb3J0LmJveFNoYWRvd3x8YSgiaHRtbCIpLmFkZENsYXNzKCJ1aS1tb2JpbGUtbm9zdXBwb3J0LWJveHNoYWRvdyIpfSkobCk7KGZ1bmN0aW9uKGEsYyxiKXtmdW5jdGlvbiBkKGIsYyxkKXt2YXIgZT1kLnR5cGU7ZC50eXBlPWM7YS5ldmVudC5oYW5kbGUuY2FsbChiLGQpO2QudHlwZT1lfWEuZWFjaCgidG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgb3JpZW50YXRpb25jaGFuZ2UgdGhyb3R0bGVkcmVzaXplIHRhcCB0YXBob2xkIHN3aXBlIHN3aXBlbGVmdCBzd2lwZXJpZ2h0IHNjcm9sbHN0YXJ0IHNjcm9sbHN0b3AiLnNwbGl0KCIgIiksZnVuY3Rpb24oYixjKXthLmZuW2NdPQpmdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoYyxhKTp0aGlzLnRyaWdnZXIoYyl9O2EuYXR0ckZuW2NdPXRydWV9KTt2YXIgZT1hLnN1cHBvcnQudG91Y2gsZj1lPyJ0b3VjaHN0YXJ0IjoibW91c2Vkb3duIixnPWU/InRvdWNoZW5kIjoibW91c2V1cCIsaD1lPyJ0b3VjaG1vdmUiOiJtb3VzZW1vdmUiO2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydD17ZW5hYmxlZDp0cnVlLHNldHVwOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhLGope2U9ajtkKGMsZT8ic2Nyb2xsc3RhcnQiOiJzY3JvbGxzdG9wIixhKX12YXIgYz10aGlzLGUsZzthKGMpLmJpbmQoInRvdWNobW92ZSBzY3JvbGwiLGZ1bmN0aW9uKGMpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkJiYoZXx8YihjLHRydWUpLGNsZWFyVGltZW91dChnKSxnPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtiKGMsZmFsc2UpfSw1MCkpfSl9fTthLmV2ZW50LnNwZWNpYWwudGFwPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBiPQp0aGlzLGM9YShiKTtjLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGcoKXtjbGVhclRpbWVvdXQobyl9ZnVuY3Rpb24gaCgpe2coKTtjLnVuYmluZCgidmNsaWNrIixmKS51bmJpbmQoInZtb3VzZXVwIixnKTthKGspLnVuYmluZCgidm1vdXNlY2FuY2VsIixoKX1mdW5jdGlvbiBmKGEpe2goKTtyPT1hLnRhcmdldCYmZChiLCJ0YXAiLGEpfWlmKGUud2hpY2gmJmUud2hpY2ghPT0xKXJldHVybiBmYWxzZTt2YXIgcj1lLnRhcmdldCxvO2MuYmluZCgidm1vdXNldXAiLGcpLmJpbmQoInZjbGljayIsZik7YShrKS5iaW5kKCJ2bW91c2VjYW5jZWwiLGgpO289c2V0VGltZW91dChmdW5jdGlvbigpe2QoYiwidGFwaG9sZCIsYS5FdmVudCgidGFwaG9sZCIse3RhcmdldDpyfSkpfSw3NTApfSl9fTthLmV2ZW50LnNwZWNpYWwuc3dpcGU9e3Njcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQ6MTAsZHVyYXRpb25UaHJlc2hvbGQ6MUUzLGhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZDozMCwKdmVydGljYWxEaXN0YW5jZVRocmVzaG9sZDo3NSxzZXR1cDpmdW5jdGlvbigpe3ZhciBjPWEodGhpcyk7Yy5iaW5kKGYsZnVuY3Rpb24oZCl7ZnVuY3Rpb24gZShiKXtpZihrKXt2YXIgYz1iLm9yaWdpbmFsRXZlbnQudG91Y2hlcz9iLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTpiO249e3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOltjLnBhZ2VYLGMucGFnZVldfTtNYXRoLmFicyhrLmNvb3Jkc1swXS1uLmNvb3Jkc1swXSk+YS5ldmVudC5zcGVjaWFsLnN3aXBlLnNjcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQmJmIucHJldmVudERlZmF1bHQoKX19dmFyIGY9ZC5vcmlnaW5hbEV2ZW50LnRvdWNoZXM/ZC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF06ZCxrPXt0aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGNvb3JkczpbZi5wYWdlWCxmLnBhZ2VZXSxvcmlnaW46YShkLnRhcmdldCl9LG47Yy5iaW5kKGgsZSkub25lKGcsZnVuY3Rpb24oKXtjLnVuYmluZChoLGUpO2smJm4mJgpuLnRpbWUtay50aW1lPGEuZXZlbnQuc3BlY2lhbC5zd2lwZS5kdXJhdGlvblRocmVzaG9sZCYmTWF0aC5hYnMoay5jb29yZHNbMF0tbi5jb29yZHNbMF0pPmEuZXZlbnQuc3BlY2lhbC5zd2lwZS5ob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQmJk1hdGguYWJzKGsuY29vcmRzWzFdLW4uY29vcmRzWzFdKTxhLmV2ZW50LnNwZWNpYWwuc3dpcGUudmVydGljYWxEaXN0YW5jZVRocmVzaG9sZCYmay5vcmlnaW4udHJpZ2dlcigic3dpcGUiKS50cmlnZ2VyKGsuY29vcmRzWzBdPm4uY29vcmRzWzBdPyJzd2lwZWxlZnQiOiJzd2lwZXJpZ2h0Iik7az1uPWJ9KX0pfX07KGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe3ZhciBhPWUoKTthIT09ZyYmKGc9YSxkLnRyaWdnZXIoIm9yaWVudGF0aW9uY2hhbmdlIikpfXZhciBkPWEoYiksZSxnLGgsZixsPXswOnRydWUsMTgwOnRydWV9O2lmKGEuc3VwcG9ydC5vcmllbnRhdGlvbiYmKGg9Yi5pbm5lcldpZHRofHxhKGIpLndpZHRoKCksZj1iLmlubmVySGVpZ2h0fHwKYShiKS5oZWlnaHQoKSxoPWg+ZiYmaC1mPjUwLGY9bFtiLm9yaWVudGF0aW9uXSxoJiZmfHwhaCYmIWYpKWw9eyItOTAiOnRydWUsOTA6dHJ1ZX07YS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlPXtzZXR1cDpmdW5jdGlvbigpe2lmKGEuc3VwcG9ydC5vcmllbnRhdGlvbiYmYS5tb2JpbGUub3JpZW50YXRpb25DaGFuZ2VFbmFibGVkKXJldHVybiBmYWxzZTtnPWUoKTtkLmJpbmQoInRocm90dGxlZHJlc2l6ZSIsYyl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYoYS5zdXBwb3J0Lm9yaWVudGF0aW9uJiZhLm1vYmlsZS5vcmllbnRhdGlvbkNoYW5nZUVuYWJsZWQpcmV0dXJuIGZhbHNlO2QudW5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGMpfSxhZGQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5oYW5kbGVyO2EuaGFuZGxlcj1mdW5jdGlvbihhKXthLm9yaWVudGF0aW9uPWUoKTtyZXR1cm4gYi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX07YS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLm9yaWVudGF0aW9uPQplPWZ1bmN0aW9uKCl7dmFyIGM9dHJ1ZSxjPWsuZG9jdW1lbnRFbGVtZW50O3JldHVybihjPWEuc3VwcG9ydC5vcmllbnRhdGlvbj9sW2Iub3JpZW50YXRpb25dOmMmJmMuY2xpZW50V2lkdGgvYy5jbGllbnRIZWlnaHQ8MS4xKT8icG9ydHJhaXQiOiJsYW5kc2NhcGUifX0pKGwsYyk7KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnRocm90dGxlZHJlc2l6ZT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoInJlc2l6ZSIsYil9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoInJlc2l6ZSIsYil9fTt2YXIgYj1mdW5jdGlvbigpe2U9KG5ldyBEYXRlKS5nZXRUaW1lKCk7Zz1lLWM7Zz49MjUwPyhjPWUsYSh0aGlzKS50cmlnZ2VyKCJ0aHJvdHRsZWRyZXNpemUiKSk6KGQmJmNsZWFyVGltZW91dChkKSxkPXNldFRpbWVvdXQoYiwyNTAtZykpfSxjPTAsZCxlLGd9KSgpO2EuZWFjaCh7c2Nyb2xsc3RvcDoic2Nyb2xsc3RhcnQiLHRhcGhvbGQ6InRhcCIsc3dpcGVsZWZ0OiJzd2lwZSIsCnN3aXBlcmlnaHQ6InN3aXBlIn0sZnVuY3Rpb24oYixjKXthLmV2ZW50LnNwZWNpYWxbYl09e3NldHVwOmZ1bmN0aW9uKCl7YSh0aGlzKS5iaW5kKGMsYS5ub29wKX19fSl9KShsLHRoaXMpOyhmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnBhZ2UiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6ImMiLGRvbUNhY2hlOmZhbHNlLGtlZXBOYXRpdmVEZWZhdWx0OiI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGEuX3RyaWdnZXIoImJlZm9yZWNyZWF0ZSIpPT09ZmFsc2UpcmV0dXJuIGZhbHNlO2EuZWxlbWVudC5hdHRyKCJ0YWJpbmRleCIsIjAiKS5hZGRDbGFzcygidWktcGFnZSB1aS1ib2R5LSIrYS5vcHRpb25zLnRoZW1lKS5iaW5kKCJwYWdlYmVmb3JlaGlkZSIsZnVuY3Rpb24oKXthLnJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQoKX0pLmJpbmQoInBhZ2ViZWZvcmVzaG93IiwKZnVuY3Rpb24oKXthLnNldENvbnRhaW5lckJhY2tncm91bmQoKX0pfSxyZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kOmZ1bmN0aW9uKCl7YS5tb2JpbGUucGFnZUNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktb3ZlcmxheS0iK2EubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudC5wYXJlbnQoKSkpfSxzZXRDb250YWluZXJCYWNrZ3JvdW5kOmZ1bmN0aW9uKGMpe3RoaXMub3B0aW9ucy50aGVtZSYmYS5tb2JpbGUucGFnZUNvbnRhaW5lci5hZGRDbGFzcygidWktb3ZlcmxheS0iKyhjfHx0aGlzLm9wdGlvbnMudGhlbWUpKX0sa2VlcE5hdGl2ZVNlbGVjdG9yOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5vcHRpb25zO3JldHVybiBjLmtlZXBOYXRpdmUmJmEudHJpbShjLmtlZXBOYXRpdmUpJiZjLmtlZXBOYXRpdmUhPT1jLmtlZXBOYXRpdmVEZWZhdWx0P1tjLmtlZXBOYXRpdmUsYy5rZWVwTmF0aXZlRGVmYXVsdF0uam9pbigiLCAiKTpjLmtlZXBOYXRpdmVEZWZhdWx0fX0pfSkobCk7CihmdW5jdGlvbihhLGMsYil7dmFyIGQ9ZnVuY3Rpb24oZCl7ZD09PWImJihkPXRydWUpO3JldHVybiBmdW5jdGlvbihiLGUsaixxKXt2YXIgaz1uZXcgYS5EZWZlcnJlZCxtPWU/IiByZXZlcnNlIjoiIixsPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCkubGFzdFNjcm9sbHx8YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwsbj1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSxyPWEubW9iaWxlLm1heFRyYW5zaXRpb25XaWR0aCE9PWZhbHNlJiZhKGMpLndpZHRoKCk+YS5tb2JpbGUubWF4VHJhbnNpdGlvbldpZHRoLG89IWEuc3VwcG9ydC5jc3NUcmFuc2l0aW9uc3x8cnx8IWJ8fGI9PT0ibm9uZSJ8fE1hdGgubWF4KGEoYykuc2Nyb2xsVG9wKCksbCk+YS5tb2JpbGUuZ2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbigpLHQ9ZnVuY3Rpb24oKXthLm1vYmlsZS5wYWdlQ29udGFpbmVyLnRvZ2dsZUNsYXNzKCJ1aS1tb2JpbGUtdmlld3BvcnQtdHJhbnNpdGlvbmluZyB2aWV3cG9ydC0iKwpiKX0sdj1mdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPWZhbHNlO2Muc2Nyb2xsVG8oMCxsKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9dHJ1ZX0sMTUwKX0seD1mdW5jdGlvbigpe3EucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKyIgb3V0IGluIHJldmVyc2UgIitiKS5oZWlnaHQoIiIpfSxyPWZ1bmN0aW9uKCl7cSYmZCYmeCgpO2ouY3NzKCJ6LWluZGV4IiwtMTApO2ouYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKyIgdWktcGFnZS1wcmUtaW4iKTthLm1vYmlsZS5mb2N1c1BhZ2Uoaik7ai5oZWlnaHQobitsKTt2KCk7ai5jc3MoInotaW5kZXgiLCIiKTtvfHxqLmFuaW1hdGlvbkNvbXBsZXRlKHUpO2oucmVtb3ZlQ2xhc3MoIiB1aS1wYWdlLXByZS1pbiIpLmFkZENsYXNzKGIrIiBpbiIrbSk7byYmdSgpfSx1PWZ1bmN0aW9uKCl7ZHx8cSYmeCgpO2oucmVtb3ZlQ2xhc3MoIm91dCBpbiByZXZlcnNlICIrCmIpLmhlaWdodCgiIik7dCgpO2EoYykuc2Nyb2xsVG9wKCkhPT1sJiZ2KCk7ay5yZXNvbHZlKGIsZSxqLHEsdHJ1ZSl9O3QoKTtxJiYhbz8oZD9xLmFuaW1hdGlvbkNvbXBsZXRlKHIpOnIoKSxxLmhlaWdodChuK2EoYykuc2Nyb2xsVG9wKCkpLmFkZENsYXNzKGIrIiBvdXQiK20pKTpyKCk7cmV0dXJuIGsucHJvbWlzZSgpfX0sZT1kKCksZD1kKGZhbHNlKTthLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXI9ZTthLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnM9eyJkZWZhdWx0IjphLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIsc2VxdWVudGlhbDplLHNpbXVsdGFuZW91czpkfTthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzPXt9O2EubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb249YS5tb2JpbGUuZ2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbnx8ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCkqM319KShsLHRoaXMpOwooZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBiKGIpe2wmJighbC5jbG9zZXN0KCIudWktcGFnZS1hY3RpdmUiKS5sZW5ndGh8fGIpJiZsLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTtsPW51bGx9ZnVuY3Rpb24gZCgpe289ZmFsc2U7ci5sZW5ndGg+MCYmYS5tb2JpbGUuY2hhbmdlUGFnZS5hcHBseShudWxsLHIucG9wKCkpfWZ1bmN0aW9uIGUoYixjLGQsZSl7YyYmYy5kYXRhKCJwYWdlIikuX3RyaWdnZXIoImJlZm9yZWhpZGUiLG51bGwse25leHRQYWdlOmJ9KTtiLmRhdGEoInBhZ2UiKS5fdHJpZ2dlcigiYmVmb3Jlc2hvdyIsbnVsbCx7cHJldlBhZ2U6Y3x8YSgiIil9KTthLm1vYmlsZS5oaWRlUGFnZUxvYWRpbmdNc2coKTtkJiYhYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZhLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW2RdJiYoZD1hLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW2RdKTtkPShhLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnNbZHx8ImRlZmF1bHQiXXx8CmEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcikoZCxlLGIsYyk7ZC5kb25lKGZ1bmN0aW9uKCl7YyYmYy5kYXRhKCJwYWdlIikuX3RyaWdnZXIoImhpZGUiLG51bGwse25leHRQYWdlOmJ9KTtiLmRhdGEoInBhZ2UiKS5fdHJpZ2dlcigic2hvdyIsbnVsbCx7cHJldlBhZ2U6Y3x8YSgiIil9KX0pO3JldHVybiBkfWZ1bmN0aW9uIGYoKXt2YXIgYj1hKCIuIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLGM9cGFyc2VGbG9hdChiLmNzcygicGFkZGluZy10b3AiKSksZD1wYXJzZUZsb2F0KGIuY3NzKCJwYWRkaW5nLWJvdHRvbSIpKSxlPXBhcnNlRmxvYXQoYi5jc3MoImJvcmRlci10b3Atd2lkdGgiKSksZz1wYXJzZUZsb2F0KGIuY3NzKCJib3JkZXItYm90dG9tLXdpZHRoIikpO2IuY3NzKCJtaW4taGVpZ2h0Iix6KCktYy1kLWUtZyl9ZnVuY3Rpb24gZyhiLGMpe2MmJmIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlIixjKTtiLnBhZ2UoKX1mdW5jdGlvbiBoKGEpe2Zvcig7YTspe2lmKHR5cGVvZiBhLm5vZGVOYW1lPT09CiJzdHJpbmciJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PSJhIilicmVhazthPWEucGFyZW50Tm9kZX1yZXR1cm4gYX1mdW5jdGlvbiBqKGIpe3ZhciBiPWEoYikuY2xvc2VzdCgiLnVpLXBhZ2UiKS5qcW1EYXRhKCJ1cmwiKSxjPXUuaHJlZk5vSGFzaDtpZighYnx8IW0uaXNQYXRoKGIpKWI9YztyZXR1cm4gbS5tYWtlVXJsQWJzb2x1dGUoYixjKX12YXIgcT1hKHMpO2EoImh0bWwiKTt2YXIgcD1hKCJoZWFkIiksbT17dXJsUGFyc2VSRTovXigoKChbXjpcLyNcP10rOik/KD86KFwvXC8pKCg/OigoW146QFwvI1w/XSspKD86XDooW146QFwvI1w/XSspKT8pQCk/KChbXjpcLyNcP1xdXFtdK3xcW1teXC9cXUAjP10rXF0pKD86XDooWzAtOV0rKSk/KSk/KT8pPygoXC8/KD86W15cL1w/I10rXC8rKSopKFteXD8jXSopKSk/KFw/W14jXSspPykoIy4qKT8vLGdldExvY2F0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPWE/dGhpcy5wYXJzZVVybChhKTpsb2NhdGlvbixhPXRoaXMucGFyc2VVcmwoYXx8CmxvY2F0aW9uLmhyZWYpLmhhc2g7cmV0dXJuIGIucHJvdG9jb2wrIi8vIitiLmhvc3QrYi5wYXRobmFtZStiLnNlYXJjaCsoYT09PSIjIj8iIjphKX0scGFyc2VMb2NhdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcnNlVXJsKHRoaXMuZ2V0TG9jYXRpb24oKSl9LHBhcnNlVXJsOmZ1bmN0aW9uKGIpe2lmKGEudHlwZShiKT09PSJvYmplY3QiKXJldHVybiBiO2I9bS51cmxQYXJzZVJFLmV4ZWMoYnx8IiIpfHxbXTtyZXR1cm57aHJlZjpiWzBdfHwiIixocmVmTm9IYXNoOmJbMV18fCIiLGhyZWZOb1NlYXJjaDpiWzJdfHwiIixkb21haW46YlszXXx8IiIscHJvdG9jb2w6Yls0XXx8IiIsZG91YmxlU2xhc2g6Yls1XXx8IiIsYXV0aG9yaXR5OmJbNl18fCIiLHVzZXJuYW1lOmJbOF18fCIiLHBhc3N3b3JkOmJbOV18fCIiLGhvc3Q6YlsxMF18fCIiLGhvc3RuYW1lOmJbMTFdfHwiIixwb3J0OmJbMTJdfHwiIixwYXRobmFtZTpiWzEzXXx8IiIsZGlyZWN0b3J5OmJbMTRdfHwiIixmaWxlbmFtZTpiWzE1XXx8CiIiLHNlYXJjaDpiWzE2XXx8IiIsaGFzaDpiWzE3XXx8IiJ9fSxtYWtlUGF0aEFic29sdXRlOmZ1bmN0aW9uKGEsYil7aWYoYSYmYS5jaGFyQXQoMCk9PT0iLyIpcmV0dXJuIGE7Zm9yKHZhciBhPWF8fCIiLGM9KGI9Yj9iLnJlcGxhY2UoL15cL3woXC9bXlwvXSp8W15cL10rKSQvZywiIik6IiIpP2Iuc3BsaXQoIi8iKTpbXSxkPWEuc3BsaXQoIi8iKSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBnPWRbZV07c3dpdGNoKGcpe2Nhc2UgIi4iOmJyZWFrO2Nhc2UgIi4uIjpjLmxlbmd0aCYmYy5wb3AoKTticmVhaztkZWZhdWx0OmMucHVzaChnKX19cmV0dXJuIi8iK2Muam9pbigiLyIpfSxpc1NhbWVEb21haW46ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbS5wYXJzZVVybChhKS5kb21haW49PT1tLnBhcnNlVXJsKGIpLmRvbWFpbn0saXNSZWxhdGl2ZVVybDpmdW5jdGlvbihhKXtyZXR1cm4gbS5wYXJzZVVybChhKS5wcm90b2NvbD09PSIifSxpc0Fic29sdXRlVXJsOmZ1bmN0aW9uKGEpe3JldHVybiBtLnBhcnNlVXJsKGEpLnByb3RvY29sIT09CiIifSxtYWtlVXJsQWJzb2x1dGU6ZnVuY3Rpb24oYSxiKXtpZighbS5pc1JlbGF0aXZlVXJsKGEpKXJldHVybiBhO2I9PT1jJiYoYj11KTt2YXIgZD1tLnBhcnNlVXJsKGEpLGU9bS5wYXJzZVVybChiKSxnPWQucHJvdG9jb2x8fGUucHJvdG9jb2wsaD1kLnByb3RvY29sP2QuZG91YmxlU2xhc2g6ZC5kb3VibGVTbGFzaHx8ZS5kb3VibGVTbGFzaCxqPWQuYXV0aG9yaXR5fHxlLmF1dGhvcml0eSxmPWQucGF0aG5hbWUhPT0iIixuPW0ubWFrZVBhdGhBYnNvbHV0ZShkLnBhdGhuYW1lfHxlLmZpbGVuYW1lLGUucGF0aG5hbWUpO3JldHVybiBnK2graituKyhkLnNlYXJjaHx8IWYmJmUuc2VhcmNofHwiIikrZC5oYXNofSxhZGRTZWFyY2hQYXJhbXM6ZnVuY3Rpb24oYixjKXt2YXIgZD1tLnBhcnNlVXJsKGIpLGU9dHlwZW9mIGM9PT0ib2JqZWN0Ij9hLnBhcmFtKGMpOmMsZz1kLnNlYXJjaHx8Ij8iO3JldHVybiBkLmhyZWZOb1NlYXJjaCtnKyhnLmNoYXJBdChnLmxlbmd0aC0xKSE9PSI/Ij8KIiYiOiIiKStlKyhkLmhhc2h8fCIiKX0sY29udmVydFVybFRvRGF0YVVybDpmdW5jdGlvbihhKXt2YXIgYj1tLnBhcnNlVXJsKGEpO2lmKG0uaXNFbWJlZGRlZFBhZ2UoYikpcmV0dXJuIGIuaGFzaC5zcGxpdCh0KVswXS5yZXBsYWNlKC9eIy8sIiIpO2Vsc2UgaWYobS5pc1NhbWVEb21haW4oYix1KSlyZXR1cm4gYi5ocmVmTm9IYXNoLnJlcGxhY2UodS5kb21haW4sIiIpLnNwbGl0KHQpWzBdO3JldHVybiBhfSxnZXQ6ZnVuY3Rpb24oYSl7aWYoYT09PWMpYT1sb2NhdGlvbi5oYXNoO3JldHVybiBtLnN0cmlwSGFzaChhKS5yZXBsYWNlKC9bXlwvXSpcLlteXC8qXSskLywiIil9LGdldEZpbGVQYXRoOmZ1bmN0aW9uKGIpe3ZhciBjPSImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5O3JldHVybiBiJiZiLnNwbGl0KGMpWzBdLnNwbGl0KHQpWzBdfSxzZXQ6ZnVuY3Rpb24oYSl7bG9jYXRpb24uaGFzaD1hfSxpc1BhdGg6ZnVuY3Rpb24oYSl7cmV0dXJuL1wvLy50ZXN0KGEpfSxjbGVhbjpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHUuZG9tYWluLAoiIil9LHN0cmlwSGFzaDpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9eIy8sIiIpfSxjbGVhbkhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIG0uc3RyaXBIYXNoKGEucmVwbGFjZSgvXD8uKiQvLCIiKS5yZXBsYWNlKHQsIiIpKX0saXNIYXNoVmFsaWQ6ZnVuY3Rpb24oYSl7cmV0dXJuL14jW14jXSskLy50ZXN0KGEpfSxpc0V4dGVybmFsOmZ1bmN0aW9uKGEpe2E9bS5wYXJzZVVybChhKTtyZXR1cm4gYS5wcm90b2NvbCYmYS5kb21haW4hPT14LmRvbWFpbj90cnVlOmZhbHNlfSxoYXNQcm90b2NvbDpmdW5jdGlvbihhKXtyZXR1cm4vXig6P1x3KzopLy50ZXN0KGEpfSxpc0ZpcnN0UGFnZVVybDpmdW5jdGlvbihiKXt2YXIgYj1tLnBhcnNlVXJsKG0ubWFrZVVybEFic29sdXRlKGIsdSkpLGQ9YS5tb2JpbGUuZmlyc3RQYWdlLGQ9ZCYmZFswXT9kWzBdLmlkOmM7cmV0dXJuKGIuaHJlZk5vSGFzaD09PXguaHJlZk5vSGFzaHx8RiYmYi5ocmVmTm9IYXNoPT09dS5ocmVmTm9IYXNoKSYmCighYi5oYXNofHxiLmhhc2g9PT0iIyJ8fGQmJmIuaGFzaC5yZXBsYWNlKC9eIy8sIiIpPT09ZCl9LGlzRW1iZWRkZWRQYWdlOmZ1bmN0aW9uKGEpe2E9bS5wYXJzZVVybChhKTtyZXR1cm4gYS5wcm90b2NvbCE9PSIiP2EuaGFzaCYmKGEuaHJlZk5vSGFzaD09PXguaHJlZk5vSGFzaHx8RiYmYS5ocmVmTm9IYXNoPT09dS5ocmVmTm9IYXNoKTovXiMvLnRlc3QoYS5ocmVmKX0saXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3Q6ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzJiZiLnByb3RvY29sPT09ImZpbGU6IiYmYy5zZWFyY2goL15odHRwcz86LykhPS0xfX0sbD1udWxsLG49e3N0YWNrOltdLGFjdGl2ZUluZGV4OjAsZ2V0QWN0aXZlOmZ1bmN0aW9uKCl7cmV0dXJuIG4uc3RhY2tbbi5hY3RpdmVJbmRleF19LGdldFByZXY6ZnVuY3Rpb24oKXtyZXR1cm4gbi5zdGFja1tuLmFjdGl2ZUluZGV4LTFdfSxnZXROZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uc3RhY2tbbi5hY3RpdmVJbmRleCsKMV19LGFkZE5ldzpmdW5jdGlvbihhLGIsYyxkLGUpe24uZ2V0TmV4dCgpJiZuLmNsZWFyRm9yd2FyZCgpO24uc3RhY2sucHVzaCh7dXJsOmEsdHJhbnNpdGlvbjpiLHRpdGxlOmMscGFnZVVybDpkLHJvbGU6ZX0pO24uYWN0aXZlSW5kZXg9bi5zdGFjay5sZW5ndGgtMX0sY2xlYXJGb3J3YXJkOmZ1bmN0aW9uKCl7bi5zdGFjaz1uLnN0YWNrLnNsaWNlKDAsbi5hY3RpdmVJbmRleCsxKX0sZGlyZWN0SGFzaENoYW5nZTpmdW5jdGlvbihiKXt2YXIgZCxlLGc7dGhpcy5nZXRBY3RpdmUoKTthLmVhY2gobi5zdGFjayxmdW5jdGlvbihhLGMpe2RlY29kZVVSSUNvbXBvbmVudChiLmN1cnJlbnRVcmwpPT09ZGVjb2RlVVJJQ29tcG9uZW50KGMudXJsKSYmKGQ9YTxuLmFjdGl2ZUluZGV4LGU9IWQsZz1hKX0pO3RoaXMuYWN0aXZlSW5kZXg9ZyE9PWM/Zzp0aGlzLmFjdGl2ZUluZGV4O2Q/KGIuZWl0aGVyfHxiLmlzQmFjaykodHJ1ZSk6ZSYmKGIuZWl0aGVyfHxiLmlzRm9yd2FyZCkoZmFsc2UpfSwKaWdub3JlTmV4dEhhc2hDaGFuZ2U6ZmFsc2V9LHI9W10sbz1mYWxzZSx0PSImdWktc3RhdGU9ZGlhbG9nIix2PXAuY2hpbGRyZW4oImJhc2UiKSx4PW0ucGFyc2VMb2NhdGlvbigpLHU9di5sZW5ndGg/bS5wYXJzZVVybChtLm1ha2VVcmxBYnNvbHV0ZSh2LmF0dHIoImhyZWYiKSx4LmhyZWYpKTp4LEY9eC5ocmVmTm9IYXNoIT09dS5ocmVmTm9IYXNoLHo9YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0LHk9YS5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnP3tlbGVtZW50OnYubGVuZ3RoP3Y6YSgiPGJhc2U+Iix7aHJlZjp1LmhyZWZOb0hhc2h9KS5wcmVwZW5kVG8ocCksc2V0OmZ1bmN0aW9uKGEpe3kuZWxlbWVudC5hdHRyKCJocmVmIixtLm1ha2VVcmxBYnNvbHV0ZShhLHUpKX0scmVzZXQ6ZnVuY3Rpb24oKXt5LmVsZW1lbnQuYXR0cigiaHJlZiIsdS5ocmVmTm9IYXNoKX19OmM7YS5tb2JpbGUuYmFjaz1mdW5jdGlvbigpe3ZhciBhPXMubmF2aWdhdG9yO3RoaXMucGhvbmVnYXBOYXZpZ2F0aW9uRW5hYmxlZCYmCmEmJmEuYXBwJiZhLmFwcC5iYWNrSGlzdG9yeT9hLmFwcC5iYWNrSGlzdG9yeSgpOnMuaGlzdG9yeS5iYWNrKCl9O2EubW9iaWxlLmZvY3VzUGFnZT1mdW5jdGlvbihhKXt2YXIgYj1hLmZpbmQoIlthdXRvZm9jdXNdIiksYz1hLmZpbmQoIi51aS10aXRsZTplcSgwKSIpO2IubGVuZ3RoP2IuZm9jdXMoKTpjLmxlbmd0aD9jLmZvY3VzKCk6YS5mb2N1cygpfTt2YXIgRT10cnVlLEEsQjtBPWZ1bmN0aW9uKCl7aWYoRSl7dmFyIGI9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKTtpZihiKXt2YXIgYz1xLnNjcm9sbFRvcCgpO2IubGFzdFNjcm9sbD1jPGEubW9iaWxlLm1pblNjcm9sbEJhY2s/YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw6Y319fTtCPWZ1bmN0aW9uKCl7c2V0VGltZW91dChBLDEwMCl9O3EuYmluZChhLnN1cHBvcnQucHVzaFN0YXRlPyJwb3BzdGF0ZSI6Imhhc2hjaGFuZ2UiLGZ1bmN0aW9uKCl7RT1mYWxzZX0pO3Eub25lKGEuc3VwcG9ydC5wdXNoU3RhdGU/InBvcHN0YXRlIjoKImhhc2hjaGFuZ2UiLGZ1bmN0aW9uKCl7RT10cnVlfSk7cS5vbmUoInBhZ2Vjb250YWluZXJjcmVhdGUiLGZ1bmN0aW9uKCl7YS5tb2JpbGUucGFnZUNvbnRhaW5lci5iaW5kKCJwYWdlY2hhbmdlIixmdW5jdGlvbigpe0U9dHJ1ZTtxLnVuYmluZCgic2Nyb2xsc3RvcCIsQik7cS5iaW5kKCJzY3JvbGxzdG9wIixCKX0pfSk7cS5iaW5kKCJzY3JvbGxzdG9wIixCKTthLmZuLmFuaW1hdGlvbkNvbXBsZXRlPWZ1bmN0aW9uKGIpe3JldHVybiBhLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnM/YSh0aGlzKS5vbmUoIndlYmtpdEFuaW1hdGlvbkVuZCBhbmltYXRpb25lbmQiLGIpOihzZXRUaW1lb3V0KGIsMCksYSh0aGlzKSl9O2EubW9iaWxlLnBhdGg9bTthLm1vYmlsZS5iYXNlPXk7YS5tb2JpbGUudXJsSGlzdG9yeT1uO2EubW9iaWxlLmRpYWxvZ0hhc2hLZXk9dDthLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXM9ZmFsc2U7YS5tb2JpbGUuZ2V0RG9jdW1lbnRVcmw9ZnVuY3Rpb24oYil7cmV0dXJuIGI/CmEuZXh0ZW5kKHt9LHgpOnguaHJlZn07YS5tb2JpbGUuZ2V0RG9jdW1lbnRCYXNlPWZ1bmN0aW9uKGIpe3JldHVybiBiP2EuZXh0ZW5kKHt9LHUpOnUuaHJlZn07YS5tb2JpbGUuX2JpbmRQYWdlUmVtb3ZlPWZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTshYi5kYXRhKCJwYWdlIikub3B0aW9ucy5kb21DYWNoZSYmYi5pcygiOmpxbURhdGEoZXh0ZXJuYWwtcGFnZT0ndHJ1ZScpIikmJmIuYmluZCgicGFnZWhpZGUucmVtb3ZlIixmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksYz1uZXcgYS5FdmVudCgicGFnZXJlbW92ZSIpO2IudHJpZ2dlcihjKTtjLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxiLnJlbW92ZVdpdGhEZXBlbmRlbnRzKCl9KX07YS5tb2JpbGUubG9hZFBhZ2U9ZnVuY3Rpb24oYixkKXt2YXIgZT1hLkRlZmVycmVkKCksaD1hLmV4dGVuZCh7fSxhLm1vYmlsZS5sb2FkUGFnZS5kZWZhdWx0cyxkKSxmPW51bGwsbj1udWxsLGs9bS5tYWtlVXJsQWJzb2x1dGUoYixhLm1vYmlsZS5hY3RpdmVQYWdlJiYKaihhLm1vYmlsZS5hY3RpdmVQYWdlKXx8dS5ocmVmTm9IYXNoKTtpZihoLmRhdGEmJmgudHlwZT09PSJnZXQiKWs9bS5hZGRTZWFyY2hQYXJhbXMoayxoLmRhdGEpLGguZGF0YT1jO2lmKGguZGF0YSYmaC50eXBlPT09InBvc3QiKWgucmVsb2FkUGFnZT10cnVlO3ZhciBxPW0uZ2V0RmlsZVBhdGgoaykscD1tLmNvbnZlcnRVcmxUb0RhdGFVcmwoayk7aC5wYWdlQ29udGFpbmVyPWgucGFnZUNvbnRhaW5lcnx8YS5tb2JpbGUucGFnZUNvbnRhaW5lcjtmPWgucGFnZUNvbnRhaW5lci5jaGlsZHJlbigiW2RhdGEtIithLm1vYmlsZS5ucysidXJsPSciK3ArIiddIik7Zi5sZW5ndGg9PT0wJiZwJiYhbS5pc1BhdGgocCkmJihmPWgucGFnZUNvbnRhaW5lci5jaGlsZHJlbigiIyIrcCkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmwiLHApKTtpZihmLmxlbmd0aD09PTApaWYoYS5tb2JpbGUuZmlyc3RQYWdlJiZtLmlzRmlyc3RQYWdlVXJsKHEpKWEubW9iaWxlLmZpcnN0UGFnZS5wYXJlbnQoKS5sZW5ndGgmJgooZj1hKGEubW9iaWxlLmZpcnN0UGFnZSkpO2Vsc2UgaWYobS5pc0VtYmVkZGVkUGFnZShxKSlyZXR1cm4gZS5yZWplY3QoayxkKSxlLnByb21pc2UoKTtpZihmLmxlbmd0aCl7aWYoIWgucmVsb2FkUGFnZSlyZXR1cm4gZyhmLGgucm9sZSksZS5yZXNvbHZlKGssZCxmKSx5JiYhZC5wcmVmZXRjaCYmeS5zZXQoYiksZS5wcm9taXNlKCk7bj1mfXZhciBsPWgucGFnZUNvbnRhaW5lcix2PW5ldyBhLkV2ZW50KCJwYWdlYmVmb3JlbG9hZCIpLG89e3VybDpiLGFic1VybDprLGRhdGFVcmw6cCxkZWZlcnJlZDplLG9wdGlvbnM6aH07bC50cmlnZ2VyKHYsbyk7aWYodi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm4gZS5wcm9taXNlKCk7aWYoaC5zaG93TG9hZE1zZyl2YXIgcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKCl9LGgubG9hZE1zZ0RlbGF5KTt5JiZ0eXBlb2YgZC5wcmVmZXRjaD09PSJ1bmRlZmluZWQiJiZ5LnJlc2V0KCk7IWEubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmCiFtLmlzU2FtZURvbWFpbih4LGspP2UucmVqZWN0KGssZCk6YS5hamF4KHt1cmw6cSx0eXBlOmgudHlwZSxkYXRhOmguZGF0YSxkYXRhVHlwZToiaHRtbCIsc3VjY2VzczpmdW5jdGlvbihjLGoseCl7dmFyIGw9YSgiPGRpdj48L2Rpdj4iKSx2PWMubWF0Y2goLzx0aXRsZVtePl0qPihbXjxdKikvKSYmUmVnRXhwLiQxLHU9UmVnRXhwKCJcXGJkYXRhLSIrYS5tb2JpbGUubnMrInVybD1bXCInXT8oW15cIic+XSopW1wiJ10/Iik7UmVnRXhwKCIoPFtePl0rXFxiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPVtcIiddP3BhZ2VbXCInXT9bXj5dKj4pIikudGVzdChjKSYmUmVnRXhwLiQxJiZ1LnRlc3QoUmVnRXhwLiQxKSYmUmVnRXhwLiQxJiYoYj1xPW0uZ2V0RmlsZVBhdGgoUmVnRXhwLiQxKSk7eSYmdHlwZW9mIGQucHJlZmV0Y2g9PT0idW5kZWZpbmVkIiYmeS5zZXQocSk7bC5nZXQoMCkuaW5uZXJIVE1MPWM7Zj1sLmZpbmQoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKS5maXJzdCgpOwpmLmxlbmd0aHx8KGY9YSgiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J3BhZ2UnPiIrYy5zcGxpdCgvPFwvP2JvZHlbXj5dKj4vZ21pKVsxXSsiPC9kaXY+IikpO3YmJiFmLmpxbURhdGEoInRpdGxlIikmJih+di5pbmRleE9mKCImIikmJih2PWEoIjxkaXY+Iit2KyI8L2Rpdj4iKS50ZXh0KCkpLGYuanFtRGF0YSgidGl0bGUiLHYpKTtpZighYS5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnKXt2YXIgdD1tLmdldChxKTtmLmZpbmQoIltzcmNdLCBsaW5rW2hyZWZdLCBhW3JlbD0nZXh0ZXJuYWwnXSwgOmpxbURhdGEoYWpheD0nZmFsc2UnKSwgYVt0YXJnZXRdIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcykuaXMoIltocmVmXSIpPyJocmVmIjphKHRoaXMpLmlzKCJbc3JjXSIpPyJzcmMiOiJhY3Rpb24iLGM9YSh0aGlzKS5hdHRyKGIpLGM9Yy5yZXBsYWNlKGxvY2F0aW9uLnByb3RvY29sKyIvLyIrbG9jYXRpb24uaG9zdCtsb2NhdGlvbi5wYXRobmFtZSwiIik7L14oXHcrOnwjfFwvKS8udGVzdChjKXx8CmEodGhpcykuYXR0cihiLHQrYyl9KX1mLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidXJsIixtLmNvbnZlcnRVcmxUb0RhdGFVcmwocSkpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiZXh0ZXJuYWwtcGFnZSIsdHJ1ZSkuYXBwZW5kVG8oaC5wYWdlQ29udGFpbmVyKTtmLm9uZSgicGFnZWNyZWF0ZSIsYS5tb2JpbGUuX2JpbmRQYWdlUmVtb3ZlKTtnKGYsaC5yb2xlKTtrLmluZGV4T2YoIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkpPi0xJiYoZj1oLnBhZ2VDb250YWluZXIuY2hpbGRyZW4oIltkYXRhLSIrYS5tb2JpbGUubnMrInVybD0nIitwKyInXSIpKTtoLnNob3dMb2FkTXNnJiYoY2xlYXJUaW1lb3V0KHIpLGEubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpKTtvLnhocj14O28udGV4dFN0YXR1cz1qO28ucGFnZT1mO2gucGFnZUNvbnRhaW5lci50cmlnZ2VyKCJwYWdlbG9hZCIsbyk7ZS5yZXNvbHZlKGssZCxmLG4pfSxlcnJvcjpmdW5jdGlvbihiLGMsZyl7eSYmeS5zZXQobS5nZXQoKSk7Cm8ueGhyPWI7by50ZXh0U3RhdHVzPWM7by5lcnJvclRocm93bj1nO2I9bmV3IGEuRXZlbnQoInBhZ2Vsb2FkZmFpbGVkIik7aC5wYWdlQ29udGFpbmVyLnRyaWdnZXIoYixvKTtiLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoaC5zaG93TG9hZE1zZyYmKGNsZWFyVGltZW91dChyKSxhLm1vYmlsZS5oaWRlUGFnZUxvYWRpbmdNc2coKSxhLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coYS5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZSxhLm1vYmlsZS5wYWdlTG9hZEVycm9yTWVzc2FnZSx0cnVlKSxzZXRUaW1lb3V0KGEubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZywxNTAwKSksZS5yZWplY3QoayxkKSl9fSk7cmV0dXJuIGUucHJvbWlzZSgpfTthLm1vYmlsZS5sb2FkUGFnZS5kZWZhdWx0cz17dHlwZToiZ2V0IixkYXRhOmMscmVsb2FkUGFnZTpmYWxzZSxyb2xlOmMsc2hvd0xvYWRNc2c6ZmFsc2UscGFnZUNvbnRhaW5lcjpjLGxvYWRNc2dEZWxheTo1MH07YS5tb2JpbGUuY2hhbmdlUGFnZT0KZnVuY3Rpb24oaCxqKXtpZihvKXIudW5zaGlmdChhcmd1bWVudHMpO2Vsc2V7dmFyIGY9YS5leHRlbmQoe30sYS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cyxqKTtmLnBhZ2VDb250YWluZXI9Zi5wYWdlQ29udGFpbmVyfHxhLm1vYmlsZS5wYWdlQ29udGFpbmVyO2YuZnJvbVBhZ2U9Zi5mcm9tUGFnZXx8YS5tb2JpbGUuYWN0aXZlUGFnZTt2YXIgcT1mLnBhZ2VDb250YWluZXIscD1uZXcgYS5FdmVudCgicGFnZWJlZm9yZWNoYW5nZSIpLGw9e3RvUGFnZTpoLG9wdGlvbnM6Zn07cS50cmlnZ2VyKHAsbCk7aWYoIXAuaXNEZWZhdWx0UHJldmVudGVkKCkpaWYoaD1sLnRvUGFnZSxvPXRydWUsdHlwZW9mIGg9PSJzdHJpbmciKWEubW9iaWxlLmxvYWRQYWdlKGgsZikuZG9uZShmdW5jdGlvbihiLGMsZCxlKXtvPWZhbHNlO2MuZHVwbGljYXRlQ2FjaGVkUGFnZT1lO2EubW9iaWxlLmNoYW5nZVBhZ2UoZCxjKX0pLmZhaWwoZnVuY3Rpb24oKXtiKHRydWUpO2QoKTtmLnBhZ2VDb250YWluZXIudHJpZ2dlcigicGFnZWNoYW5nZWZhaWxlZCIsCmwpfSk7ZWxzZXtpZihoWzBdPT09YS5tb2JpbGUuZmlyc3RQYWdlWzBdJiYhZi5kYXRhVXJsKWYuZGF0YVVybD14LmhyZWZOb0hhc2g7dmFyIHA9Zi5mcm9tUGFnZSx2PWYuZGF0YVVybCYmbS5jb252ZXJ0VXJsVG9EYXRhVXJsKGYuZGF0YVVybCl8fGguanFtRGF0YSgidXJsIiksdT12O20uZ2V0RmlsZVBhdGgodik7dmFyIHc9bi5nZXRBY3RpdmUoKSx6PW4uYWN0aXZlSW5kZXg9PT0wLHM9MCx5PWsudGl0bGUsRj1mLnJvbGU9PT0iZGlhbG9nInx8aC5qcW1EYXRhKCJyb2xlIik9PT0iZGlhbG9nIjtpZihwJiZwWzBdPT09aFswXSYmIWYuYWxsb3dTYW1lUGFnZVRyYW5zaXRpb24pbz1mYWxzZSxxLnRyaWdnZXIoInBhZ2VjaGFuZ2UiLGwpLGYuZnJvbUhhc2hDaGFuZ2UmJm4uZGlyZWN0SGFzaENoYW5nZSh7Y3VycmVudFVybDp2LGlzQmFjazpmdW5jdGlvbigpe30saXNGb3J3YXJkOmZ1bmN0aW9uKCl7fX0pO2Vsc2V7ZyhoLGYucm9sZSk7Zi5mcm9tSGFzaENoYW5nZSYmbi5kaXJlY3RIYXNoQ2hhbmdlKHtjdXJyZW50VXJsOnYsCmlzQmFjazpmdW5jdGlvbigpe3M9LTF9LGlzRm9yd2FyZDpmdW5jdGlvbigpe3M9MX19KTt0cnl7ay5hY3RpdmVFbGVtZW50JiZrLmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSE9ImJvZHkiP2Eoay5hY3RpdmVFbGVtZW50KS5ibHVyKCk6YSgiaW5wdXQ6Zm9jdXMsIHRleHRhcmVhOmZvY3VzLCBzZWxlY3Q6Zm9jdXMiKS5ibHVyKCl9Y2F0Y2goQSl7fXZhciBFPWZhbHNlO2lmKEYmJncpe2lmKHcudXJsJiZ3LnVybC5pbmRleE9mKHQpPi0xJiYhYS5tb2JpbGUuYWN0aXZlUGFnZS5pcygiLnVpLWRpYWxvZyIpKWYuY2hhbmdlSGFzaD1mYWxzZSxFPXRydWU7dj0ody51cmx8fCIiKSt0O24uYWN0aXZlSW5kZXg9PT0wJiZ2PT09bi5pbml0aWFsRHN0JiYodis9dCl9aWYoZi5jaGFuZ2VIYXNoIT09ZmFsc2UmJnYpbi5pZ25vcmVOZXh0SGFzaENoYW5nZT10cnVlLG0uc2V0KHYpO3ZhciBCPSF3P3k6aC5qcW1EYXRhKCJ0aXRsZSIpfHxoLmNoaWxkcmVuKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLmZpbmQoIi51aS10aXRsZSIpLmdldEVuY29kZWRUZXh0KCk7CkImJnk9PWsudGl0bGUmJih5PUIpO2guanFtRGF0YSgidGl0bGUiKXx8aC5qcW1EYXRhKCJ0aXRsZSIseSk7Zi50cmFuc2l0aW9uPWYudHJhbnNpdGlvbnx8KHMmJiF6P3cudHJhbnNpdGlvbjpjKXx8KEY/YS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246YS5tb2JpbGUuZGVmYXVsdFBhZ2VUcmFuc2l0aW9uKTshcyYmIUUmJm4uYWRkTmV3KHYsZi50cmFuc2l0aW9uLHksdSxmLnJvbGUpO2sudGl0bGU9bi5nZXRBY3RpdmUoKS50aXRsZTthLm1vYmlsZS5hY3RpdmVQYWdlPWg7Zi5yZXZlcnNlPWYucmV2ZXJzZXx8czwwO2UoaCxwLGYudHJhbnNpdGlvbixmLnJldmVyc2UpLmRvbmUoZnVuY3Rpb24oYyxlLGcsaixrKXtiKCk7Zi5kdXBsaWNhdGVDYWNoZWRQYWdlJiZmLmR1cGxpY2F0ZUNhY2hlZFBhZ2UucmVtb3ZlKCk7a3x8YS5tb2JpbGUuZm9jdXNQYWdlKGgpO2QoKTtxLnRyaWdnZXIoInBhZ2VjaGFuZ2UiLGwpfSl9fX19O2EubW9iaWxlLmNoYW5nZVBhZ2UuZGVmYXVsdHM9Cnt0cmFuc2l0aW9uOmMscmV2ZXJzZTpmYWxzZSxjaGFuZ2VIYXNoOnRydWUsZnJvbUhhc2hDaGFuZ2U6ZmFsc2Uscm9sZTpjLGR1cGxpY2F0ZUNhY2hlZFBhZ2U6YyxwYWdlQ29udGFpbmVyOmMsc2hvd0xvYWRNc2c6dHJ1ZSxkYXRhVXJsOmMsZnJvbVBhZ2U6YyxhbGxvd1NhbWVQYWdlVHJhbnNpdGlvbjpmYWxzZX07YS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZD1hLkRlZmVycmVkKCk7YS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHM9ZnVuY3Rpb24oKXthKGspLmRlbGVnYXRlKCJmb3JtIiwic3VibWl0IixmdW5jdGlvbihiKXt2YXIgYz1hKHRoaXMpO2lmKGEubW9iaWxlLmFqYXhFbmFibGVkJiYhYy5pcygiOmpxbURhdGEoYWpheD0nZmFsc2UnKSIpJiZjLmpxbUhpamFja2FibGUoKS5sZW5ndGgpe3ZhciBkPWMuYXR0cigibWV0aG9kIiksZT1jLmF0dHIoInRhcmdldCIpLGg9Yy5hdHRyKCJhY3Rpb24iKTtpZighaCYmKGg9aihjKSxoPT09dS5ocmVmTm9IYXNoKSloPXguaHJlZk5vU2VhcmNoOwpoPW0ubWFrZVVybEFic29sdXRlKGgsaihjKSk7bS5pc0V4dGVybmFsKGgpJiYhbS5pc1Blcm1pdHRlZENyb3NzRG9tYWluUmVxdWVzdCh4LGgpfHxlfHwoYS5tb2JpbGUuY2hhbmdlUGFnZShoLHt0eXBlOmQmJmQubGVuZ3RoJiZkLnRvTG93ZXJDYXNlKCl8fCJnZXQiLGRhdGE6Yy5zZXJpYWxpemUoKSx0cmFuc2l0aW9uOmMuanFtRGF0YSgidHJhbnNpdGlvbiIpLGRpcmVjdGlvbjpjLmpxbURhdGEoImRpcmVjdGlvbiIpLHJlbG9hZFBhZ2U6dHJ1ZX0pLGIucHJldmVudERlZmF1bHQoKSl9fSk7YShrKS5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKGMpe2lmKCEoYy53aGljaD4xKSYmYS5tb2JpbGUubGlua0JpbmRpbmdFbmFibGVkJiYoYz1oKGMudGFyZ2V0KSxhKGMpLmpxbUhpamFja2FibGUoKS5sZW5ndGgmJmMmJm0ucGFyc2VVcmwoYy5nZXRBdHRyaWJ1dGUoImhyZWYiKXx8IiMiKS5oYXNoIT09IiMiKSliKHRydWUpLGw9YShjKS5jbG9zZXN0KCIudWktYnRuIikubm90KCIudWktZGlzYWJsZWQiKSwKbC5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KTthKGspLmJpbmQoImNsaWNrIixmdW5jdGlvbihkKXtpZihhLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQpe3ZhciBlPWgoZC50YXJnZXQpLGY9YShlKSxnO2lmKGUmJiEoZC53aGljaD4xKSYmZi5qcW1IaWphY2thYmxlKCkubGVuZ3RoKXtnPWZ1bmN0aW9uKCl7cy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yih0cnVlKX0sMjAwKX07aWYoZi5pcygiOmpxbURhdGEocmVsPSdiYWNrJykiKSlyZXR1cm4gYS5tb2JpbGUuYmFjaygpLGZhbHNlO3ZhciBrPWooZiksZT1tLm1ha2VVcmxBYnNvbHV0ZShmLmF0dHIoImhyZWYiKXx8IiMiLGspO2lmKCFhLm1vYmlsZS5hamF4RW5hYmxlZCYmIW0uaXNFbWJlZGRlZFBhZ2UoZSkpZygpO2Vsc2V7aWYoZS5zZWFyY2goIiMiKSE9LTEpaWYoZT1lLnJlcGxhY2UoL1teI10qIy8sIiIpKWU9bS5pc1BhdGgoZSk/bS5tYWtlVXJsQWJzb2x1dGUoZSxrKTptLm1ha2VVcmxBYnNvbHV0ZSgiIyIrCmUseC5ocmVmTm9IYXNoKTtlbHNle2QucHJldmVudERlZmF1bHQoKTtyZXR1cm59Zi5pcygiW3JlbD0nZXh0ZXJuYWwnXSIpfHxmLmlzKCI6anFtRGF0YShhamF4PSdmYWxzZScpIil8fGYuaXMoIlt0YXJnZXRdIil8fG0uaXNFeHRlcm5hbChlKSYmIW0uaXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3QoeCxlKT9nKCk6KGc9Zi5qcW1EYXRhKCJ0cmFuc2l0aW9uIiksaz0oaz1mLmpxbURhdGEoImRpcmVjdGlvbiIpKSYmaz09PSJyZXZlcnNlInx8Zi5qcW1EYXRhKCJiYWNrIiksZj1mLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicmVsIil8fGMsYS5tb2JpbGUuY2hhbmdlUGFnZShlLHt0cmFuc2l0aW9uOmcscmV2ZXJzZTprLHJvbGU6Zn0pLGQucHJldmVudERlZmF1bHQoKSl9fX19KTthKGspLmRlbGVnYXRlKCIudWktcGFnZSIsInBhZ2VzaG93LnByZWZldGNoIixmdW5jdGlvbigpe3ZhciBiPVtdO2EodGhpcykuZmluZCgiYTpqcW1EYXRhKHByZWZldGNoKSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz0KYSh0aGlzKSxkPWMuYXR0cigiaHJlZiIpO2QmJmEuaW5BcnJheShkLGIpPT09LTEmJihiLnB1c2goZCksYS5tb2JpbGUubG9hZFBhZ2UoZCx7cm9sZTpjLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicmVsIikscHJlZmV0Y2g6dHJ1ZX0pKX0pfSk7YS5tb2JpbGUuX2hhbmRsZUhhc2hDaGFuZ2U9ZnVuY3Rpb24oYil7dmFyIGQ9bS5zdHJpcEhhc2goYiksZT17dHJhbnNpdGlvbjphLm1vYmlsZS51cmxIaXN0b3J5LnN0YWNrLmxlbmd0aD09PTA/Im5vbmUiOmMsY2hhbmdlSGFzaDpmYWxzZSxmcm9tSGFzaENoYW5nZTp0cnVlfTtpZigwPT09bi5zdGFjay5sZW5ndGgpbi5pbml0aWFsRHN0PWQ7aWYoIWEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkfHxuLmlnbm9yZU5leHRIYXNoQ2hhbmdlKW4uaWdub3JlTmV4dEhhc2hDaGFuZ2U9ZmFsc2U7ZWxzZXtpZihuLnN0YWNrLmxlbmd0aD4xJiZkLmluZGV4T2YodCk+LTEmJm4uaW5pdGlhbERzdCE9PWQpaWYoYS5tb2JpbGUuYWN0aXZlUGFnZS5pcygiLnVpLWRpYWxvZyIpKW4uZGlyZWN0SGFzaENoYW5nZSh7Y3VycmVudFVybDpkLAplaXRoZXI6ZnVuY3Rpb24oYil7dmFyIGM9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKTtkPWMucGFnZVVybDthLmV4dGVuZChlLHtyb2xlOmMucm9sZSx0cmFuc2l0aW9uOmMudHJhbnNpdGlvbixyZXZlcnNlOmJ9KX19KTtlbHNle24uZGlyZWN0SGFzaENoYW5nZSh7Y3VycmVudFVybDpkLGlzQmFjazpmdW5jdGlvbigpe2EubW9iaWxlLmJhY2soKX0saXNGb3J3YXJkOmZ1bmN0aW9uKCl7cy5oaXN0b3J5LmZvcndhcmQoKX19KTtyZXR1cm59ZD8oZD10eXBlb2YgZD09PSJzdHJpbmciJiYhbS5pc1BhdGgoZCk/bS5tYWtlVXJsQWJzb2x1dGUoIiMiK2QsdSk6ZCxhLm1vYmlsZS5jaGFuZ2VQYWdlKGQsZSkpOmEubW9iaWxlLmNoYW5nZVBhZ2UoYS5tb2JpbGUuZmlyc3RQYWdlLGUpfX07cS5iaW5kKCJoYXNoY2hhbmdlIixmdW5jdGlvbigpe2EubW9iaWxlLl9oYW5kbGVIYXNoQ2hhbmdlKG0ucGFyc2VMb2NhdGlvbigpLmhhc2gpfSk7YShrKS5iaW5kKCJwYWdlc2hvdyIsZik7CmEocykuYmluZCgidGhyb3R0bGVkcmVzaXplIixmKX07YS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZC5kb25lKGZ1bmN0aW9uKCl7YS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHMoKX0pfSkobCk7KGZ1bmN0aW9uKGEsYyl7dmFyIGI9e30sZD1hKGMpLGU9YS5tb2JpbGUucGF0aC5wYXJzZUxvY2F0aW9uKCksZj1hLkRlZmVycmVkKCksZz1hLkRlZmVycmVkKCk7YShrKS5yZWFkeShhLnByb3h5KGcsInJlc29sdmUiKSk7YShrKS5vbmUoIm1vYmlsZWluaXQiLGEucHJveHkoZiwicmVzb2x2ZSIpKTthLmV4dGVuZChiLHtpbml0aWFsRmlsZVBhdGg6ZS5wYXRobmFtZStlLnNlYXJjaCxoYXNoQ2hhbmdlVGltZW91dDoyMDAsaGFzaENoYW5nZUVuYWJsZVRpbWVyOkMsaW5pdGlhbEhyZWY6ZS5ocmVmTm9IYXNoLHN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJue2hhc2g6YS5tb2JpbGUucGF0aC5wYXJzZUxvY2F0aW9uKCkuaGFzaHx8IiMiK2IuaW5pdGlhbEZpbGVQYXRoLHRpdGxlOmsudGl0bGUsCmluaXRpYWxIcmVmOmIuaW5pdGlhbEhyZWZ9fSxyZXNldFVJS2V5czpmdW5jdGlvbihiKXt2YXIgYz0iJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSxkPWIuaW5kZXhPZihhLm1vYmlsZS5kaWFsb2dIYXNoS2V5KTtkPi0xP2I9Yi5zbGljZSgwLGQpKyIjIitiLnNsaWNlKGQpOmIuaW5kZXhPZihjKT4tMSYmKGI9Yi5zcGxpdChjKS5qb2luKCIjIitjKSk7cmV0dXJuIGJ9LG5leHRIYXNoQ2hhbmdlUHJldmVudGVkOmZ1bmN0aW9uKGMpe2EubW9iaWxlLnVybEhpc3RvcnkuaWdub3JlTmV4dEhhc2hDaGFuZ2U9YztiLm9uSGFzaENoYW5nZURpc2FibGVkPWN9LG9uSGFzaENoYW5nZTpmdW5jdGlvbigpe2lmKCFiLm9uSGFzaENoYW5nZURpc2FibGVkKXt2YXIgYyxkO2M9YS5tb2JpbGUucGF0aC5wYXJzZUxvY2F0aW9uKCkuaGFzaDt2YXIgZT1hLm1vYmlsZS5wYXRoLmlzUGF0aChjKSxmPWU/YS5tb2JpbGUucGF0aC5nZXRMb2NhdGlvbigpOmEubW9iaWxlLmdldERvY3VtZW50VXJsKCk7Yz0KZT9jLnJlcGxhY2UoIiMiLCIiKTpjO2Q9Yi5zdGF0ZSgpO2M9YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoYyxmKTtlJiYoYz1iLnJlc2V0VUlLZXlzKGMpKTtoaXN0b3J5LnJlcGxhY2VTdGF0ZShkLGsudGl0bGUsYyl9fSxvblBvcFN0YXRlOmZ1bmN0aW9uKGMpe2lmKGM9Yy5vcmlnaW5hbEV2ZW50LnN0YXRlKWNsZWFyVGltZW91dChiLmhhc2hDaGFuZ2VFbmFibGVUaW1lciksYi5uZXh0SGFzaENoYW5nZVByZXZlbnRlZChmYWxzZSksYS5tb2JpbGUuX2hhbmRsZUhhc2hDaGFuZ2UoYy5oYXNoKSxiLm5leHRIYXNoQ2hhbmdlUHJldmVudGVkKHRydWUpLGIuaGFzaENoYW5nZUVuYWJsZVRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLm5leHRIYXNoQ2hhbmdlUHJldmVudGVkKGZhbHNlKX0sYi5oYXNoQ2hhbmdlVGltZW91dCl9LGluaXQ6ZnVuY3Rpb24oKXtkLmJpbmQoImhhc2hjaGFuZ2UiLGIub25IYXNoQ2hhbmdlKTtkLmJpbmQoInBvcHN0YXRlIixiLm9uUG9wU3RhdGUpOwpsb2NhdGlvbi5oYXNoPT09IiImJmhpc3RvcnkucmVwbGFjZVN0YXRlKGIuc3RhdGUoKSxrLnRpdGxlLGEubW9iaWxlLnBhdGguZ2V0TG9jYXRpb24oKSl9fSk7YS53aGVuKGcsZixhLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkKS5kb25lKGZ1bmN0aW9uKCl7YS5tb2JpbGUucHVzaFN0YXRlRW5hYmxlZCYmYS5zdXBwb3J0LnB1c2hTdGF0ZSYmYi5pbml0KCl9KX0pKGwsdGhpcyk7bC5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5wb3A9ImZhZGUiOyhmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2xpZGU9YS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzLnNpbXVsdGFuZW91czthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlPSJmYWRlIn0pKGwsdGhpcyk7bC5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZWRvd249ImZhZGUiO2wubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGV1cD0iZmFkZSI7bC5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5mbGlwPQoiZmFkZSI7bC5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5mbG93PSJmYWRlIjtsLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnR1cm49ImZhZGUiOyhmdW5jdGlvbihhKXthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmRlZ3JhZGVJbnB1dHM9e2NvbG9yOmZhbHNlLGRhdGU6ZmFsc2UsZGF0ZXRpbWU6ZmFsc2UsImRhdGV0aW1lLWxvY2FsIjpmYWxzZSxlbWFpbDpmYWxzZSxtb250aDpmYWxzZSxudW1iZXI6ZmFsc2UscmFuZ2U6Im51bWJlciIsc2VhcmNoOiJ0ZXh0Iix0ZWw6ZmFsc2UsdGltZTpmYWxzZSx1cmw6ZmFsc2Usd2VlazpmYWxzZX07YShrKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYyl7dmFyIGI9YS5tb2JpbGUuY2xvc2VzdFBhZ2VEYXRhKGEoYy50YXJnZXQpKSxkO2lmKGIpZD1iLm9wdGlvbnMsYShjLnRhcmdldCkuZmluZCgiaW5wdXQiKS5ub3QoYi5rZWVwTmF0aXZlU2VsZWN0b3IoKSkuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksCmM9dGhpcy5nZXRBdHRyaWJ1dGUoInR5cGUiKSxnPWQuZGVncmFkZUlucHV0c1tjXXx8InRleHQiO2lmKGQuZGVncmFkZUlucHV0c1tjXSl7dmFyIGg9YSgiPGRpdj4iKS5odG1sKGIuY2xvbmUoKSkuaHRtbCgpLGo9aC5pbmRleE9mKCIgdHlwZT0iKT4tMTtiLnJlcGxhY2VXaXRoKGgucmVwbGFjZShqPy9ccyt0eXBlPVsiJ10/XHcrWyciXT8vOi9cLz8+LywnIHR5cGU9IicrZysnIiBkYXRhLScrYS5tb2JpbGUubnMrJ3R5cGU9IicrYysnIicrKGo/IiI6Ij4iKSkpfX0pfSl9KShsKTsoZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS5kaWFsb2ciLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7Y2xvc2VCdG5UZXh0OiJDbG9zZSIsb3ZlcmxheVRoZW1lOiJhIixpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBjPXRoaXMsYj10aGlzLmVsZW1lbnQsZD1hKCI8YSBocmVmPScjJyBkYXRhLSIrYS5tb2JpbGUubnMrImljb249J2RlbGV0ZScgZGF0YS0iKwphLm1vYmlsZS5ucysiaWNvbnBvcz0nbm90ZXh0Jz4iK3RoaXMub3B0aW9ucy5jbG9zZUJ0blRleHQrIjwvYT4iKSxlPWEoIjxkaXYvPiIse3JvbGU6ImRpYWxvZyIsImNsYXNzIjoidWktZGlhbG9nLWNvbnRhaW4gdWktY29ybmVyLWFsbCB1aS1vdmVybGF5LXNoYWRvdyJ9KTtiLmFkZENsYXNzKCJ1aS1kaWFsb2cgdWktb3ZlcmxheS0iK3RoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUpO2Iud3JhcElubmVyKGUpLmNoaWxkcmVuKCkuZmluZCgiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKS5wcmVwZW5kKGQpLmVuZCgpLmNoaWxkcmVuKCI6Zmlyc3QtY2hpbGQiKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCIpLmVuZCgpLmNoaWxkcmVuKCI6bGFzdC1jaGlsZCIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYm90dG9tIik7ZC5iaW5kKCJjbGljayIsZnVuY3Rpb24oKXtjLmNsb3NlKCl9KTtiLmJpbmQoInZjbGljayBzdWJtaXQiLGZ1bmN0aW9uKGIpe3ZhciBiPWEoYi50YXJnZXQpLmNsb3Nlc3QoYi50eXBlPT09CiJ2Y2xpY2siPyJhIjoiZm9ybSIpLGM7Yi5sZW5ndGgmJiFiLmpxbURhdGEoInRyYW5zaXRpb24iKSYmKGM9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKXx8e30sYi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRyYW5zaXRpb24iLGMudHJhbnNpdGlvbnx8YS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb24pLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiZGlyZWN0aW9uIiwicmV2ZXJzZSIpKX0pLmJpbmQoInBhZ2VoaWRlIixmdW5jdGlvbigpe2MuX2lzQ2xvc2VkPWZhbHNlO2EodGhpcykuZmluZCgiLiIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLm5vdCgiLnVpLXNsaWRlci1iZyIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoInBhZ2ViZWZvcmVzaG93IixmdW5jdGlvbigpe2Mub3B0aW9ucy5vdmVybGF5VGhlbWUmJmMuZWxlbWVudC5wYWdlKCJyZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kIikucGFnZSgic2V0Q29udGFpbmVyQmFja2dyb3VuZCIsCmMub3B0aW9ucy5vdmVybGF5VGhlbWUpfSl9LGNsb3NlOmZ1bmN0aW9uKCl7dmFyIGM7aWYoIXRoaXMuX2lzQ2xvc2VkKXRoaXMuX2lzQ2xvc2VkPXRydWUsYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQ/YS5tb2JpbGUuYmFjaygpOihjPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0UHJldigpLnVybCxhLm1vYmlsZS5wYXRoLmlzUGF0aChjKXx8KGM9YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoIiMiK2MpKSxhLm1vYmlsZS5jaGFuZ2VQYWdlKGMse2NoYW5nZUhhc2g6ZmFsc2UsZnJvbUhhc2hDaGFuZ2U6dHJ1ZX0pKX19KTthKGspLmRlbGVnYXRlKGEubW9iaWxlLmRpYWxvZy5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsInBhZ2VjcmVhdGUiLGZ1bmN0aW9uKCl7YS5tb2JpbGUuZGlhbG9nLnByb3RvdHlwZS5lbmhhbmNlKHRoaXMpfSl9KShsLHRoaXMpOyhmdW5jdGlvbihhKXthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmJhY2tCdG5UZXh0PSJCYWNrIjsKYS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5hZGRCYWNrQnRuPWZhbHNlO2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuYmFja0J0blRoZW1lPW51bGw7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5oZWFkZXJUaGVtZT0iYSI7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5mb290ZXJUaGVtZT0iYSI7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5jb250ZW50VGhlbWU9bnVsbDthKGspLmJpbmQoInBhZ2VjcmVhdGUiLGZ1bmN0aW9uKGMpe3ZhciBiPWEoYy50YXJnZXQpLGQ9Yi5kYXRhKCJwYWdlIikub3B0aW9ucyxlPWIuanFtRGF0YSgicm9sZSIpLGY9ZC50aGVtZTthKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSwgOmpxbURhdGEocm9sZT0nZm9vdGVyJyksIDpqcW1EYXRhKHJvbGU9J2NvbnRlbnQnKSIsYikuanFtRW5oYW5jZWFibGUoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKSxoPWMuanFtRGF0YSgicm9sZSIpLApqPWMuanFtRGF0YSgidGhlbWUiKSxrPWp8fGQuY29udGVudFRoZW1lfHxlPT09ImRpYWxvZyImJmYscDtjLmFkZENsYXNzKCJ1aS0iK2gpO2lmKGg9PT0iaGVhZGVyInx8aD09PSJmb290ZXIiKXt2YXIgbT1qfHwoaD09PSJoZWFkZXIiP2QuaGVhZGVyVGhlbWU6ZC5mb290ZXJUaGVtZSl8fGY7Yy5hZGRDbGFzcygidWktYmFyLSIrbSkuYXR0cigicm9sZSIsaD09PSJoZWFkZXIiPyJiYW5uZXIiOiJjb250ZW50aW5mbyIpO2g9PT0iaGVhZGVyIiYmKGo9Yy5jaGlsZHJlbigiYSwgYnV0dG9uIikscD1qLmhhc0NsYXNzKCJ1aS1idG4tbGVmdCIpLGs9ai5oYXNDbGFzcygidWktYnRuLXJpZ2h0IikscD1wfHxqLmVxKDApLm5vdCgiLnVpLWJ0bi1yaWdodCIpLmFkZENsYXNzKCJ1aS1idG4tbGVmdCIpLmxlbmd0aCxrfHxqLmVxKDEpLmFkZENsYXNzKCJ1aS1idG4tcmlnaHQiKSk7ZC5hZGRCYWNrQnRuJiZoPT09ImhlYWRlciImJmEoIi51aS1wYWdlIikubGVuZ3RoPjEmJmIuanFtRGF0YSgidXJsIikhPT0KYS5tb2JpbGUucGF0aC5zdHJpcEhhc2gobG9jYXRpb24uaGFzaCkmJiFwJiZhKCI8YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCk7JyBjbGFzcz0ndWktYnRuLWxlZnQnIGRhdGEtIithLm1vYmlsZS5ucysicmVsPSdiYWNrJyBkYXRhLSIrYS5tb2JpbGUubnMrImljb249J2Fycm93LWwnPiIrZC5iYWNrQnRuVGV4dCsiPC9hPiIpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiLGQuYmFja0J0blRoZW1lfHxtKS5wcmVwZW5kVG8oYyk7Yy5jaGlsZHJlbigiaDEsIGgyLCBoMywgaDQsIGg1LCBoNiIpLmFkZENsYXNzKCJ1aS10aXRsZSIpLmF0dHIoe3JvbGU6ImhlYWRpbmciLCJhcmlhLWxldmVsIjoiMSJ9KX1lbHNlIGg9PT0iY29udGVudCImJihrJiZjLmFkZENsYXNzKCJ1aS1ib2R5LSIrayksYy5hdHRyKCJyb2xlIiwibWFpbiIpKX0pfSl9KShsKTsoZnVuY3Rpb24oYSl7YS5mbi5maWVsZGNvbnRhaW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGRDbGFzcygidWktZmllbGQtY29udGFpbiB1aS1ib2R5IHVpLWJyIikuY29udGVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlVHlwZT09PQozJiYhL1xTLy50ZXN0KHRoaXMubm9kZVZhbHVlKX0pLnJlbW92ZSgpfTthKGspLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihjKXthKCI6anFtRGF0YShyb2xlPSdmaWVsZGNvbnRhaW4nKSIsYy50YXJnZXQpLmpxbUVuaGFuY2VhYmxlKCkuZmllbGRjb250YWluKCl9KX0pKGwpOyhmdW5jdGlvbihhKXthLmZuLmdyaWQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksZD1hLmV4dGVuZCh7Z3JpZDpudWxsfSxjKSxlPWIuY2hpbGRyZW4oKSxmPXtzb2xvOjEsYToyLGI6MyxjOjQsZDo1fSxkPWQuZ3JpZDtpZighZClpZihlLmxlbmd0aDw9NSlmb3IodmFyIGcgaW4gZilmW2ddPT09ZS5sZW5ndGgmJihkPWcpO2Vsc2UgZD0iYSIsYi5hZGRDbGFzcygidWktZ3JpZC1kdW8iKTtmPWZbZF07Yi5hZGRDbGFzcygidWktZ3JpZC0iK2QpO2UuZmlsdGVyKCI6bnRoLWNoaWxkKCIrZisibisxKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1hIik7CmY+MSYmZS5maWx0ZXIoIjpudGgtY2hpbGQoIitmKyJuKzIpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWIiKTtmPjImJmUuZmlsdGVyKCI6bnRoLWNoaWxkKDNuKzMpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWMiKTtmPjMmJmUuZmlsdGVyKCI6bnRoLWNoaWxkKDRuKzQpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWQiKTtmPjQmJmUuZmlsdGVyKCI6bnRoLWNoaWxkKDVuKzUpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWUiKX0pfX0pKGwpOyhmdW5jdGlvbihhKXthKGspLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihjKXthKCI6anFtRGF0YShyb2xlPSdub2pzJykiLGMudGFyZ2V0KS5hZGRDbGFzcygidWktbm9qcyIpfSl9KShsKTsoZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBiKGEpe2Zvcih2YXIgYjthOyl7aWYoKGI9dHlwZW9mIGEuY2xhc3NOYW1lPT09InN0cmluZyImJmEuY2xhc3NOYW1lKyIgIikmJmIuaW5kZXhPZigidWktYnRuICIpPi0xJiZiLmluZGV4T2YoInVpLWRpc2FibGVkICIpPAowKWJyZWFrO2E9YS5wYXJlbnROb2RlfXJldHVybiBhfWEuZm4uYnV0dG9uTWFya3VwPWZ1bmN0aW9uKGIpe2Zvcih2YXIgYj1iJiZhLnR5cGUoYik9PSJvYmplY3QiP2I6e30sZj0wO2Y8dGhpcy5sZW5ndGg7ZisrKXt2YXIgZz10aGlzLmVxKGYpLGg9Z1swXSxqPWEuZXh0ZW5kKHt9LGEuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzLHtpY29uOmIuaWNvbiE9PWM/Yi5pY29uOmcuanFtRGF0YSgiaWNvbiIpLGljb25wb3M6Yi5pY29ucG9zIT09Yz9iLmljb25wb3M6Zy5qcW1EYXRhKCJpY29ucG9zIiksdGhlbWU6Yi50aGVtZSE9PWM/Yi50aGVtZTpnLmpxbURhdGEoInRoZW1lIil8fGEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGcsImMiKSxpbmxpbmU6Yi5pbmxpbmUhPT1jP2IuaW5saW5lOmcuanFtRGF0YSgiaW5saW5lIiksc2hhZG93OmIuc2hhZG93IT09Yz9iLnNoYWRvdzpnLmpxbURhdGEoInNoYWRvdyIpLGNvcm5lcnM6Yi5jb3JuZXJzIT09Yz9iLmNvcm5lcnM6Zy5qcW1EYXRhKCJjb3JuZXJzIiksCmljb25zaGFkb3c6Yi5pY29uc2hhZG93IT09Yz9iLmljb25zaGFkb3c6Zy5qcW1EYXRhKCJpY29uc2hhZG93IiksbWluaTpiLm1pbmkhPT1jP2IubWluaTpnLmpxbURhdGEoIm1pbmkiKX0sYikscT0idWktYnRuLWlubmVyIixwLG0sbCxuLHIsbzthLmVhY2goaixmdW5jdGlvbihiLGMpe2guc2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrYixjKTtnLmpxbURhdGEoYixjKX0pOyhvPWEuZGF0YShoLnRhZ05hbWU9PT0iSU5QVVQifHxoLnRhZ05hbWU9PT0iQlVUVE9OIj9oLnBhcmVudE5vZGU6aCwiYnV0dG9uRWxlbWVudHMiKSk/KGg9by5vdXRlcixnPWEoaCksbD1vLmlubmVyLG49by50ZXh0LGEoby5pY29uKS5yZW1vdmUoKSxvLmljb249bnVsbCk6KGw9ay5jcmVhdGVFbGVtZW50KGoud3JhcHBlckVscyksbj1rLmNyZWF0ZUVsZW1lbnQoai53cmFwcGVyRWxzKSk7cj1qLmljb24/ay5jcmVhdGVFbGVtZW50KCJzcGFuIik6bnVsbDtkJiYhbyYmZCgpO2lmKCFqLnRoZW1lKWoudGhlbWU9CmEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGcsImMiKTtwPSJ1aS1idG4gdWktYnRuLXVwLSIrai50aGVtZTtwKz1qLnNoYWRvdz8iIHVpLXNoYWRvdyI6IiI7cCs9ai5jb3JuZXJzPyIgdWktYnRuLWNvcm5lci1hbGwiOiIiO2oubWluaSE9PWMmJihwKz1qLm1pbmk9PT10cnVlPyIgdWktbWluaSI6IiB1aS1mdWxsc2l6ZSIpO2ouaW5saW5lIT09YyYmKHArPWouaW5saW5lPT09dHJ1ZT8iIHVpLWJ0bi1pbmxpbmUiOiIgdWktYnRuLWJsb2NrIik7aWYoai5pY29uKWouaWNvbj0idWktaWNvbi0iK2ouaWNvbixqLmljb25wb3M9ai5pY29ucG9zfHwibGVmdCIsbT0idWktaWNvbiAiK2ouaWNvbixqLmljb25zaGFkb3cmJihtKz0iIHVpLWljb24tc2hhZG93Iik7ai5pY29ucG9zJiYocCs9IiB1aS1idG4taWNvbi0iK2ouaWNvbnBvcyxqLmljb25wb3M9PSJub3RleHQiJiYhZy5hdHRyKCJ0aXRsZSIpJiZnLmF0dHIoInRpdGxlIixnLmdldEVuY29kZWRUZXh0KCkpKTtxKz1qLmNvcm5lcnM/CiIgdWktYnRuLWNvcm5lci1hbGwiOiIiO2ouaWNvbnBvcyYmai5pY29ucG9zPT09Im5vdGV4dCImJiFnLmF0dHIoInRpdGxlIikmJmcuYXR0cigidGl0bGUiLGcuZ2V0RW5jb2RlZFRleHQoKSk7byYmZy5yZW1vdmVDbGFzcyhvLmJjbHN8fCIiKTtnLnJlbW92ZUNsYXNzKCJ1aS1saW5rIikuYWRkQ2xhc3MocCk7bC5jbGFzc05hbWU9cTtuLmNsYXNzTmFtZT0idWktYnRuLXRleHQiO298fGwuYXBwZW5kQ2hpbGQobik7aWYociYmKHIuY2xhc3NOYW1lPW0sIW98fCFvLmljb24pKXIuaW5uZXJIVE1MPSImIzE2MDsiLGwuYXBwZW5kQ2hpbGQocik7Zm9yKDtoLmZpcnN0Q2hpbGQmJiFvOyluLmFwcGVuZENoaWxkKGguZmlyc3RDaGlsZCk7b3x8aC5hcHBlbmRDaGlsZChsKTtvPXtiY2xzOnAsb3V0ZXI6aCxpbm5lcjpsLHRleHQ6bixpY29uOnJ9O2EuZGF0YShoLCJidXR0b25FbGVtZW50cyIsbyk7YS5kYXRhKGwsImJ1dHRvbkVsZW1lbnRzIixvKTthLmRhdGEobiwiYnV0dG9uRWxlbWVudHMiLApvKTtyJiZhLmRhdGEociwiYnV0dG9uRWxlbWVudHMiLG8pfXJldHVybiB0aGlzfTthLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cz17Y29ybmVyczp0cnVlLHNoYWRvdzp0cnVlLGljb25zaGFkb3c6dHJ1ZSx3cmFwcGVyRWxzOiJzcGFuIn07dmFyIGQ9ZnVuY3Rpb24oKXt2YXIgYz1hLm1vYmlsZS5idXR0b25NYXJrdXAuaG92ZXJEZWxheSxmLGc7YShrKS5iaW5kKHsidm1vdXNlZG93biB2bW91c2VjYW5jZWwgdm1vdXNldXAgdm1vdXNlb3ZlciB2bW91c2VvdXQgZm9jdXMgYmx1ciBzY3JvbGxzdGFydCI6ZnVuY3Rpb24oZCl7dmFyIGosaz1hKGIoZC50YXJnZXQpKSxkPWQudHlwZTtpZihrLmxlbmd0aClpZihqPWsuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIpLGQ9PT0idm1vdXNlZG93biIpYS5zdXBwb3J0LnRvdWNoP2Y9c2V0VGltZW91dChmdW5jdGlvbigpe2sucmVtb3ZlQ2xhc3MoInVpLWJ0bi11cC0iK2opLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK2opfSxjKToKay5yZW1vdmVDbGFzcygidWktYnRuLXVwLSIraikuYWRkQ2xhc3MoInVpLWJ0bi1kb3duLSIraik7ZWxzZSBpZihkPT09InZtb3VzZWNhbmNlbCJ8fGQ9PT0idm1vdXNldXAiKWsucmVtb3ZlQ2xhc3MoInVpLWJ0bi1kb3duLSIraikuYWRkQ2xhc3MoInVpLWJ0bi11cC0iK2opO2Vsc2UgaWYoZD09PSJ2bW91c2VvdmVyInx8ZD09PSJmb2N1cyIpYS5zdXBwb3J0LnRvdWNoP2c9c2V0VGltZW91dChmdW5jdGlvbigpe2sucmVtb3ZlQ2xhc3MoInVpLWJ0bi11cC0iK2opLmFkZENsYXNzKCJ1aS1idG4taG92ZXItIitqKX0sYyk6ay5yZW1vdmVDbGFzcygidWktYnRuLXVwLSIraikuYWRkQ2xhc3MoInVpLWJ0bi1ob3Zlci0iK2opO2Vsc2UgaWYoZD09PSJ2bW91c2VvdXQifHxkPT09ImJsdXIifHxkPT09InNjcm9sbHN0YXJ0IilrLnJlbW92ZUNsYXNzKCJ1aS1idG4taG92ZXItIitqKyIgdWktYnRuLWRvd24tIitqKS5hZGRDbGFzcygidWktYnRuLXVwLSIraiksZiYmY2xlYXJUaW1lb3V0KGYpLApnJiZjbGVhclRpbWVvdXQoZyl9LCJmb2N1c2luIGZvY3VzIjpmdW5jdGlvbihjKXthKGIoYy50YXJnZXQpKS5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0sImZvY3Vzb3V0IGJsdXIiOmZ1bmN0aW9uKGMpe2EoYihjLnRhcmdldCkpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pO2Q9bnVsbH07YShrKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YSgiOmpxbURhdGEocm9sZT0nYnV0dG9uJyksIC51aS1iYXIgPiBhLCAudWktaGVhZGVyID4gYSwgLnVpLWZvb3RlciA+IGEsIC51aS1iYXIgPiA6anFtRGF0YShyb2xlPSdjb250cm9sZ3JvdXAnKSA+IGEiLGIudGFyZ2V0KS5qcW1FbmhhbmNlYWJsZSgpLm5vdCgiYnV0dG9uLCBpbnB1dCwgLnVpLWJ0biwgOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiKS5idXR0b25NYXJrdXAoKX0pfSkobCk7KGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUuY29sbGFwc2libGUiLAphLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2V4cGFuZEN1ZVRleHQ6IiBjbGljayB0byBleHBhbmQgY29udGVudHMiLGNvbGxhcHNlQ3VlVGV4dDoiIGNsaWNrIHRvIGNvbGxhcHNlIGNvbnRlbnRzIixjb2xsYXBzZWQ6dHJ1ZSxoZWFkaW5nOiJoMSxoMixoMyxoNCxoNSxoNixsZWdlbmQiLHRoZW1lOm51bGwsY29udGVudFRoZW1lOm51bGwsaWNvblRoZW1lOiJkIixtaW5pOmZhbHNlLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmVsZW1lbnQsYj10aGlzLm9wdGlvbnMsZD1jLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZSIpLGU9Yy5jaGlsZHJlbihiLmhlYWRpbmcpLmZpcnN0KCksZj1kLndyYXBJbm5lcigiPGRpdiBjbGFzcz0ndWktY29sbGFwc2libGUtY29udGVudCc+PC9kaXY+IikuZmluZCgiLnVpLWNvbGxhcHNpYmxlLWNvbnRlbnQiKSxnPWMuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JykiKS5hZGRDbGFzcygidWktY29sbGFwc2libGUtc2V0Iik7CmUuaXMoImxlZ2VuZCIpJiYoZT1hKCI8ZGl2IHJvbGU9J2hlYWRpbmcnPiIrZS5odG1sKCkrIjwvZGl2PiIpLmluc2VydEJlZm9yZShlKSxlLm5leHQoKS5yZW1vdmUoKSk7aWYoZy5sZW5ndGgpe2lmKCFiLnRoZW1lKWIudGhlbWU9Zy5qcW1EYXRhKCJ0aGVtZSIpfHxhLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShnLCJjIik7aWYoIWIuY29udGVudFRoZW1lKWIuY29udGVudFRoZW1lPWcuanFtRGF0YSgiY29udGVudC10aGVtZSIpO2lmKCFiLmljb25wb3MpYi5pY29ucG9zPWcuanFtRGF0YSgiaWNvbnBvcyIpO2lmKCFiLm1pbmkpYi5taW5pPWcuanFtRGF0YSgibWluaSIpfWYuYWRkQ2xhc3MoYi5jb250ZW50VGhlbWU/InVpLWJvZHktIitiLmNvbnRlbnRUaGVtZToiIik7ZS5pbnNlcnRCZWZvcmUoZikuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmciKS5hcHBlbmQoIjxzcGFuIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyc+PC9zcGFuPiIpLndyYXBJbm5lcigiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctdG9nZ2xlJz48L2E+IikuZmluZCgiYSIpLmZpcnN0KCkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ZmFsc2UsCmNvcm5lcnM6ZmFsc2UsaWNvbnBvczpjLmpxbURhdGEoImljb25wb3MiKXx8Yi5pY29ucG9zfHwibGVmdCIsaWNvbjoicGx1cyIsbWluaTpiLm1pbmksdGhlbWU6Yi50aGVtZX0pLmFkZCgiLnVpLWJ0bi1pbm5lciIsYykuYWRkQ2xhc3MoInVpLWNvcm5lci10b3AgdWktY29ybmVyLWJvdHRvbSIpO2QuYmluZCgiZXhwYW5kIGNvbGxhcHNlIixmdW5jdGlvbihjKXtpZighYy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7Yy5wcmV2ZW50RGVmYXVsdCgpO3ZhciBqPWEodGhpcyksYz1jLnR5cGU9PT0iY29sbGFwc2UiLGs9Yi5jb250ZW50VGhlbWU7ZS50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiLGMpLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyIpLnRleHQoYz9iLmV4cGFuZEN1ZVRleHQ6Yi5jb2xsYXBzZUN1ZVRleHQpLmVuZCgpLmZpbmQoIi51aS1pY29uIikudG9nZ2xlQ2xhc3MoInVpLWljb24tbWludXMiLCFjKS50b2dnbGVDbGFzcygidWktaWNvbi1wbHVzIiwKYykuZW5kKCkuZmluZCgiYSIpLmZpcnN0KCkucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpO2oudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbGxhcHNlZCIsYyk7Zi50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtY29udGVudC1jb2xsYXBzZWQiLGMpLmF0dHIoImFyaWEtaGlkZGVuIixjKTtpZihrJiYoIWcubGVuZ3RofHxkLmpxbURhdGEoImNvbGxhcHNpYmxlLWxhc3QiKSkpZS5maW5kKCJhIikuZmlyc3QoKS5hZGQoZS5maW5kKCIudWktYnRuLWlubmVyIikpLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYm90dG9tIixjKSxmLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYm90dG9tIiwhYyk7Zi50cmlnZ2VyKCJ1cGRhdGVsYXlvdXQiKX19KS50cmlnZ2VyKGIuY29sbGFwc2VkPyJjb2xsYXBzZSI6ImV4cGFuZCIpO2UuYmluZCgidGFwIixmdW5jdGlvbigpe2UuZmluZCgiYSIpLmZpcnN0KCkuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2xpY2siLApmdW5jdGlvbihhKXt2YXIgYj1lLmlzKCIudWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiKT8iZXhwYW5kIjoiY29sbGFwc2UiO2QudHJpZ2dlcihiKTthLnByZXZlbnREZWZhdWx0KCk7YS5zdG9wUHJvcGFnYXRpb24oKX0pfX0pO2EoaykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGMpe2EubW9iaWxlLmNvbGxhcHNpYmxlLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGMudGFyZ2V0KX0pfSkobCk7KGZ1bmN0aW9uKGEsYyl7YS53aWRnZXQoIm1vYmlsZS5jb2xsYXBzaWJsZXNldCIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktY29sbGFwc2libGUtc2V0IiksZD10aGlzLm9wdGlvbnM7aWYoIWQudGhlbWUpZC50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShiLCJjIik7CmlmKCFkLmNvbnRlbnRUaGVtZSlkLmNvbnRlbnRUaGVtZT1iLmpxbURhdGEoImNvbnRlbnQtdGhlbWUiKTtpZighZC5jb3JuZXJzKWQuY29ybmVycz1iLmpxbURhdGEoImNvcm5lcnMiKT09PWM/dHJ1ZTpmYWxzZTtiLmpxbURhdGEoImNvbGxhcHNpYmxlYm91bmQiKXx8Yi5qcW1EYXRhKCJjb2xsYXBzaWJsZWJvdW5kIix0cnVlKS5iaW5kKCJleHBhbmQgY29sbGFwc2UiLGZ1bmN0aW9uKGIpe3ZhciBjPWIudHlwZT09PSJjb2xsYXBzZSIsYj1hKGIudGFyZ2V0KS5jbG9zZXN0KCIudWktY29sbGFwc2libGUiKTtiLmRhdGEoImNvbGxhcHNpYmxlIikub3B0aW9ucy5jb250ZW50VGhlbWUmJmIuanFtRGF0YSgiY29sbGFwc2libGUtbGFzdCIpJiYoYi5maW5kKCIudWktY29sbGFwc2libGUtaGVhZGluZyIpLmZpcnN0KCkuZmluZCgiYSIpLmZpcnN0KCkudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iLGMpLmZpbmQoIi51aS1idG4taW5uZXIiKS50b2dnbGVDbGFzcygidWktY29ybmVyLWJvdHRvbSIsCmMpLGIuZmluZCgiLnVpLWNvbGxhcHNpYmxlLWNvbnRlbnQiKS50b2dnbGVDbGFzcygidWktY29ybmVyLWJvdHRvbSIsIWMpKX0pLmJpbmQoImV4cGFuZCIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuY2xvc2VzdCgiLnVpLWNvbGxhcHNpYmxlIikuc2libGluZ3MoIi51aS1jb2xsYXBzaWJsZSIpLnRyaWdnZXIoImNvbGxhcHNlIil9KX0sX2luaXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucyxjPXRoaXMuZWxlbWVudC5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUnKSIpO2EubW9iaWxlLmNvbGxhcHNpYmxlLnByb3RvdHlwZS5lbmhhbmNlKGMubm90KCIudWktY29sbGFwc2libGUiKSk7Yy5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5qcW1SZW1vdmVEYXRhKCJjb2xsYXBzaWJsZS1sYXN0IikuZmluZCgiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmciKS5maW5kKCJhIikuZmlyc3QoKS5yZW1vdmVDbGFzcygidWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIikuZmluZCgiLnVpLWJ0bi1pbm5lciIpLnJlbW92ZUNsYXNzKCJ1aS1jb3JuZXItdG9wIHVpLWNvcm5lci1ib3R0b20iKX0pOwpjLmZpcnN0KCkuZmluZCgiYSIpLmZpcnN0KCkuYWRkQ2xhc3MoYi5jb3JuZXJzPyJ1aS1jb3JuZXItdG9wIjoiIikuZmluZCgiLnVpLWJ0bi1pbm5lciIpLmFkZENsYXNzKCJ1aS1jb3JuZXItdG9wIik7Yy5sYXN0KCkuanFtRGF0YSgiY29sbGFwc2libGUtbGFzdCIsdHJ1ZSkuZmluZCgiYSIpLmZpcnN0KCkuYWRkQ2xhc3MoYi5jb3JuZXJzPyJ1aS1jb3JuZXItYm90dG9tIjoiIikuZmluZCgiLnVpLWJ0bi1pbm5lciIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYm90dG9tIil9fSk7YShrKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUuY29sbGFwc2libGVzZXQucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KShsKTsoZnVuY3Rpb24oYSxjKXthLndpZGdldCgibW9iaWxlLm5hdmJhciIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntpY29ucG9zOiJ0b3AiLGdyaWQ6bnVsbCxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J25hdmJhcicpIn0sCl9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsZD1iLmZpbmQoImEiKSxlPWQuZmlsdGVyKCI6anFtRGF0YShpY29uKSIpLmxlbmd0aD90aGlzLm9wdGlvbnMuaWNvbnBvczpjO2IuYWRkQ2xhc3MoInVpLW5hdmJhciB1aS1taW5pIikuYXR0cigicm9sZSIsIm5hdmlnYXRpb24iKS5maW5kKCJ1bCIpLmpxbUVuaGFuY2VhYmxlKCkuZ3JpZCh7Z3JpZDp0aGlzLm9wdGlvbnMuZ3JpZH0pO2QuYnV0dG9uTWFya3VwKHtjb3JuZXJzOmZhbHNlLHNoYWRvdzpmYWxzZSxpbmxpbmU6dHJ1ZSxpY29ucG9zOmV9KTtiLmRlbGVnYXRlKCJhIiwidmNsaWNrIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5oYXNDbGFzcygidWktZGlzYWJsZWQiKXx8KGQucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLGEodGhpcykuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpKX0pO2IuY2xvc2VzdCgiLnVpLXBhZ2UiKS5iaW5kKCJwYWdlYmVmb3Jlc2hvdyIsZnVuY3Rpb24oKXtkLmZpbHRlcigiLnVpLXN0YXRlLXBlcnNpc3QiKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KX19KTsKYShrKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUubmF2YmFyLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0KX0pfSkobCk7KGZ1bmN0aW9uKGEpe3ZhciBjPXt9O2Eud2lkZ2V0KCJtb2JpbGUubGlzdHZpZXciLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxjb3VudFRoZW1lOiJjIixoZWFkZXJUaGVtZToiYiIsZGl2aWRlclRoZW1lOiJiIixzcGxpdEljb246ImFycm93LXIiLHNwbGl0VGhlbWU6ImIiLGluc2V0OmZhbHNlLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nbGlzdHZpZXcnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYT0iIjthKz10aGlzLm9wdGlvbnMuaW5zZXQ/IiB1aS1saXN0dmlldy1pbnNldCB1aS1jb3JuZXItYWxsIHVpLXNoYWRvdyAiOiIiO3RoaXMuZWxlbWVudC5hZGRDbGFzcyhmdW5jdGlvbihjLGUpe3JldHVybiBlKyIgdWktbGlzdHZpZXcgIithfSk7dGhpcy5yZWZyZXNoKHRydWUpfSwKX3JlbW92ZUNvcm5lcnM6ZnVuY3Rpb24oYSxjKXthPWEuYWRkKGEuZmluZCgiLnVpLWJ0bi1pbm5lciwgLnVpLWxpLWxpbmstYWx0LCAudWktbGktdGh1bWIiKSk7Yz09PSJ0b3AiP2EucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci10b3AgdWktY29ybmVyLXRyIHVpLWNvcm5lci10bCIpOmM9PT0iYm90dG9tIj9hLnJlbW92ZUNsYXNzKCJ1aS1jb3JuZXItYm90dG9tIHVpLWNvcm5lci1iciB1aS1jb3JuZXItYmwiKTphLnJlbW92ZUNsYXNzKCJ1aS1jb3JuZXItdG9wIHVpLWNvcm5lci10ciB1aS1jb3JuZXItdGwgdWktY29ybmVyLWJvdHRvbSB1aS1jb3JuZXItYnIgdWktY29ybmVyLWJsIil9LF9yZWZyZXNoQ29ybmVyczpmdW5jdGlvbihhKXt2YXIgYyxlO2M9dGhpcy5lbGVtZW50LmNoaWxkcmVuKCJsaSIpO2U9YT9jLm5vdCgiLnVpLXNjcmVlbi1oaWRkZW4iKTpjLmZpbHRlcigiOnZpc2libGUiKTtjLmZpbHRlcigiLnVpLWxpLWxhc3QiKS5yZW1vdmVDbGFzcygidWktbGktbGFzdCIpOwp0aGlzLm9wdGlvbnMuaW5zZXQ/KHRoaXMuX3JlbW92ZUNvcm5lcnMoYyksYz1lLmZpcnN0KCkuYWRkQ2xhc3MoInVpLWNvcm5lci10b3AiKSxjLmFkZChjLmZpbmQoIi51aS1idG4taW5uZXIiKS5ub3QoIi51aS1saS1saW5rLWFsdCBzcGFuOmZpcnN0LWNoaWxkIikpLmFkZENsYXNzKCJ1aS1jb3JuZXItdG9wIikuZW5kKCkuZmluZCgiLnVpLWxpLWxpbmstYWx0LCAudWktbGktbGluay1hbHQgc3BhbjpmaXJzdC1jaGlsZCIpLmFkZENsYXNzKCJ1aS1jb3JuZXItdHIiKS5lbmQoKS5maW5kKCIudWktbGktdGh1bWIiKS5ub3QoIi51aS1saS1pY29uIikuYWRkQ2xhc3MoInVpLWNvcm5lci10bCIpLGU9ZS5sYXN0KCkuYWRkQ2xhc3MoInVpLWNvcm5lci1ib3R0b20gdWktbGktbGFzdCIpLGUuYWRkKGUuZmluZCgiLnVpLWJ0bi1pbm5lciIpKS5maW5kKCIudWktbGktbGluay1hbHQiKS5hZGRDbGFzcygidWktY29ybmVyLWJyIikuZW5kKCkuZmluZCgiLnVpLWxpLXRodW1iIikubm90KCIudWktbGktaWNvbiIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYmwiKSk6CmUubGFzdCgpLmFkZENsYXNzKCJ1aS1saS1sYXN0Iik7YXx8dGhpcy5lbGVtZW50LnRyaWdnZXIoInVwZGF0ZWxheW91dCIpfSxfZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZTpmdW5jdGlvbihhLGMsZSxmKXt2YXIgZz17fTtmb3IoZ1tlXT1nW2ZdPXRydWU7YTspe2lmKGdbYS5ub2RlTmFtZV0pcmV0dXJuIGE7YT1hW2NdfXJldHVybiBudWxsfSxfZ2V0Q2hpbGRyZW5CeVRhZ05hbWU6ZnVuY3Rpb24oYixjLGUpe3ZhciBmPVtdLGc9e307Z1tjXT1nW2VdPXRydWU7Zm9yKGI9Yi5maXJzdENoaWxkO2I7KWdbYi5ub2RlTmFtZV0mJmYucHVzaChiKSxiPWIubmV4dFNpYmxpbmc7cmV0dXJuIGEoZil9LF9hZGRUaHVtYkNsYXNzZXM6ZnVuY3Rpb24oYil7dmFyIGMsZSxmPWIubGVuZ3RoO2ZvcihjPTA7YzxmO2MrKyllPWEodGhpcy5fZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZShiW2NdLmZpcnN0Q2hpbGQsIm5leHRTaWJsaW5nIiwiaW1nIiwiSU1HIikpLGUubGVuZ3RoJiYoZS5hZGRDbGFzcygidWktbGktdGh1bWIiKSwKYSh0aGlzLl9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lKGVbMF0ucGFyZW50Tm9kZSwicGFyZW50Tm9kZSIsImxpIiwiTEkiKSkuYWRkQ2xhc3MoZS5pcygiLnVpLWxpLWljb24iKT8idWktbGktaGFzLWljb24iOiJ1aS1saS1oYXMtdGh1bWIiKSl9LHJlZnJlc2g6ZnVuY3Rpb24oYil7dGhpcy5wYXJlbnRQYWdlPXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpO3RoaXMuX2NyZWF0ZVN1YlBhZ2VzKCk7dmFyIGM9dGhpcy5vcHRpb25zLGU9dGhpcy5lbGVtZW50LGY9ZS5qcW1EYXRhKCJkaXZpZGVydGhlbWUiKXx8Yy5kaXZpZGVyVGhlbWUsZz1lLmpxbURhdGEoInNwbGl0dGhlbWUiKSxoPWUuanFtRGF0YSgic3BsaXRpY29uIiksaj10aGlzLl9nZXRDaGlsZHJlbkJ5VGFnTmFtZShlWzBdLCJsaSIsIkxJIiksbD0hIWEubm9kZU5hbWUoZVswXSwib2wiKSxwPSFhLnN1cHBvcnQuY3NzUHNldWRvRWxlbWVudCxtPWUuYXR0cigic3RhcnQiKSx3PXt9LG4scixvLHQsdix4LHUsCnM7bCYmcCYmZS5maW5kKCIudWktbGktZGVjIikucmVtb3ZlKCk7bCYmKG18fG09PT0wP3A/eD1wYXJzZUZsb2F0KG0pOihuPXBhcnNlRmxvYXQobSktMSxlLmNzcygiY291bnRlci1yZXNldCIsImxpc3RudW1iZXJpbmcgIituKSk6cCYmKHg9MSkpO2lmKCFjLnRoZW1lKWMudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIik7Zm9yKHZhciB6PTAseT1qLmxlbmd0aDt6PHk7eisrKXtuPWouZXEoeik7cj0idWktbGkiO2lmKGJ8fCFuLmhhc0NsYXNzKCJ1aS1saSIpKW89bi5qcW1EYXRhKCJ0aGVtZSIpfHxjLnRoZW1lLHQ9dGhpcy5fZ2V0Q2hpbGRyZW5CeVRhZ05hbWUoblswXSwiYSIsIkEiKSx1PW4uanFtRGF0YSgicm9sZSIpPT09Imxpc3QtZGl2aWRlciIsdC5sZW5ndGgmJiF1Pyh1PW4uanFtRGF0YSgiaWNvbiIpLG4uYnV0dG9uTWFya3VwKHt3cmFwcGVyRWxzOiJkaXYiLHNoYWRvdzpmYWxzZSxjb3JuZXJzOmZhbHNlLGljb25wb3M6InJpZ2h0IiwKaWNvbjp0Lmxlbmd0aD4xfHx1PT09ZmFsc2U/ZmFsc2U6dXx8ImFycm93LXIiLHRoZW1lOm99KSx1IT1mYWxzZSYmdC5sZW5ndGg9PTEmJm4uYWRkQ2xhc3MoInVpLWxpLWhhcy1hcnJvdyIpLHQuZmlyc3QoKS5yZW1vdmVDbGFzcygidWktbGluayIpLmFkZENsYXNzKCJ1aS1saW5rLWluaGVyaXQiKSx0Lmxlbmd0aD4xJiYocis9IiB1aS1saS1oYXMtYWx0Iix0PXQubGFzdCgpLHY9Z3x8dC5qcW1EYXRhKCJ0aGVtZSIpfHxjLnNwbGl0VGhlbWUscz10LmpxbURhdGEoImljb24iKSx0LmFwcGVuZFRvKG4pLmF0dHIoInRpdGxlIix0LmdldEVuY29kZWRUZXh0KCkpLmFkZENsYXNzKCJ1aS1saS1saW5rLWFsdCIpLmVtcHR5KCkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ZmFsc2UsY29ybmVyczpmYWxzZSx0aGVtZTpvLGljb246ZmFsc2UsaWNvbnBvczoibm90ZXh0In0pLmZpbmQoIi51aS1idG4taW5uZXIiKS5hcHBlbmQoYShrLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSkuYnV0dG9uTWFya3VwKHtzaGFkb3c6dHJ1ZSwKY29ybmVyczp0cnVlLHRoZW1lOnYsaWNvbnBvczoibm90ZXh0IixpY29uOnN8fHV8fGh8fGMuc3BsaXRJY29ufSkpKSk6dT8ocis9IiB1aS1saS1kaXZpZGVyIHVpLWJhci0iK2Ysbi5hdHRyKCJyb2xlIiwiaGVhZGluZyIpLGwmJihtfHxtPT09MD9wP3g9cGFyc2VGbG9hdChtKToobz1wYXJzZUZsb2F0KG0pLTEsbi5jc3MoImNvdW50ZXItcmVzZXQiLCJsaXN0bnVtYmVyaW5nICIrbykpOnAmJih4PTEpKSk6cis9IiB1aS1saS1zdGF0aWMgdWktYm9keS0iK287bCYmcCYmci5pbmRleE9mKCJ1aS1saS1kaXZpZGVyIik8MCYmKG89ci5pbmRleE9mKCJ1aS1saS1zdGF0aWMiKT4wP246bi5maW5kKCIudWktbGluay1pbmhlcml0Iiksby5hZGRDbGFzcygidWktbGktanNudW1iZXJpbmciKS5wcmVwZW5kKCI8c3BhbiBjbGFzcz0ndWktbGktZGVjJz4iK3grKyArIi4gPC9zcGFuPiIpKTt3W3JdfHwod1tyXT1bXSk7d1tyXS5wdXNoKG5bMF0pfWZvcihyIGluIHcpYSh3W3JdKS5hZGRDbGFzcyhyKS5jaGlsZHJlbigiLnVpLWJ0bi1pbm5lciIpLmFkZENsYXNzKHIpOwplLmZpbmQoImgxLCBoMiwgaDMsIGg0LCBoNSwgaDYiKS5hZGRDbGFzcygidWktbGktaGVhZGluZyIpLmVuZCgpLmZpbmQoInAsIGRsIikuYWRkQ2xhc3MoInVpLWxpLWRlc2MiKS5lbmQoKS5maW5kKCIudWktbGktYXNpZGUiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtiLnByZXBlbmRUbyhiLnBhcmVudCgpKX0pLmVuZCgpLmZpbmQoIi51aS1saS1jb3VudCIpLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmNsb3Nlc3QoImxpIikuYWRkQ2xhc3MoInVpLWxpLWhhcy1jb3VudCIpfSkuYWRkQ2xhc3MoInVpLWJ0bi11cC0iKyhlLmpxbURhdGEoImNvdW50dGhlbWUiKXx8dGhpcy5vcHRpb25zLmNvdW50VGhlbWUpKyIgdWktYnRuLWNvcm5lci1hbGwiKTt0aGlzLl9hZGRUaHVtYkNsYXNzZXMoaik7dGhpcy5fYWRkVGh1bWJDbGFzc2VzKGUuZmluZCgiLnVpLWxpbmstaW5oZXJpdCIpKTt0aGlzLl9yZWZyZXNoQ29ybmVycyhiKX0sX2lkU3RyaW5nRXNjYXBlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLAoiLSIpfSxfY3JlYXRlU3ViUGFnZXM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsZD1iLmNsb3Nlc3QoIi51aS1wYWdlIiksZT1kLmpxbURhdGEoInVybCIpLGY9ZXx8ZFswXVthLmV4cGFuZG9dLGc9Yi5hdHRyKCJpZCIpLGg9dGhpcy5vcHRpb25zLGo9ImRhdGEtIithLm1vYmlsZS5ucyxrPXRoaXMsbD1kLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIikuanFtRGF0YSgiaWQiKSxtO3R5cGVvZiBjW2ZdPT09InVuZGVmaW5lZCImJihjW2ZdPS0xKTtnPWd8fCsrY1tmXTthKGIuZmluZCgibGk+dWwsIGxpPm9sIikudG9BcnJheSgpLnJldmVyc2UoKSkuZWFjaChmdW5jdGlvbihjKXt2YXIgZD1hKHRoaXMpLGY9ZC5hdHRyKCJpZCIpfHxnKyItIitjLGM9ZC5wYXJlbnQoKSxrPWEoZC5wcmV2QWxsKCkudG9BcnJheSgpLnJldmVyc2UoKSksaz1rLmxlbmd0aD9rOmEoIjxzcGFuPiIrYS50cmltKGMuY29udGVudHMoKVswXS5ub2RlVmFsdWUpKyI8L3NwYW4+IikscT1rLmZpcnN0KCkuZ2V0RW5jb2RlZFRleHQoKSwKZj0oZXx8IiIpKyImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KyI9IitmLHY9ZC5qcW1EYXRhKCJ0aGVtZSIpfHxoLnRoZW1lLHg9ZC5qcW1EYXRhKCJjb3VudHRoZW1lIil8fGIuanFtRGF0YSgiY291bnR0aGVtZSIpfHxoLmNvdW50VGhlbWU7bT10cnVlO2QuZGV0YWNoKCkud3JhcCgiPGRpdiAiK2orInJvbGU9J3BhZ2UnICIraisidXJsPSciK2YrIicgIitqKyJ0aGVtZT0nIit2KyInICIraisiY291bnQtdGhlbWU9JyIreCsiJz48ZGl2ICIraisicm9sZT0nY29udGVudCc+PC9kaXY+PC9kaXY+IikucGFyZW50KCkuYmVmb3JlKCI8ZGl2ICIraisicm9sZT0naGVhZGVyJyAiK2orInRoZW1lPSciK2guaGVhZGVyVGhlbWUrIic+PGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrcSsiPC9kaXY+PC9kaXY+IikuYWZ0ZXIobD9hKCI8ZGl2ICIraisicm9sZT0nZm9vdGVyJyAiK2orImlkPSciK2wrIic+Iik6IiIpLnBhcmVudCgpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLnBhZ2UoKTsKZD1jLmZpbmQoImE6Zmlyc3QiKTtkLmxlbmd0aHx8KGQ9YSgiPGEvPiIpLmh0bWwoa3x8cSkucHJlcGVuZFRvKGMuZW1wdHkoKSkpO2QuYXR0cigiaHJlZiIsIiMiK2YpfSkubGlzdHZpZXcoKTttJiZkLmlzKCI6anFtRGF0YShleHRlcm5hbC1wYWdlPSd0cnVlJykiKSYmZC5kYXRhKCJwYWdlIikub3B0aW9ucy5kb21DYWNoZT09PWZhbHNlJiZkLnVuYmluZCgicGFnZWhpZGUucmVtb3ZlIikuYmluZCgicGFnZWhpZGUucmVtb3ZlIixmdW5jdGlvbihiLGMpe3ZhciBmPWMubmV4dFBhZ2UsZz1uZXcgYS5FdmVudCgicGFnZXJlbW92ZSIpO2MubmV4dFBhZ2UmJihmPWYuanFtRGF0YSgidXJsIiksZi5pbmRleE9mKGUrIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkpIT09MCYmKGsuY2hpbGRQYWdlcygpLnJlbW92ZSgpLGQudHJpZ2dlcihnKSxnLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxkLnJlbW92ZVdpdGhEZXBlbmRlbnRzKCkpKX0pfSxjaGlsZFBhZ2VzOmZ1bmN0aW9uKCl7dmFyIGI9CnRoaXMucGFyZW50UGFnZS5qcW1EYXRhKCJ1cmwiKTtyZXR1cm4gYSgiOmpxbURhdGEodXJsXj0nIitiKyImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KyInKSIpfX0pO2EoaykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0KX0pfSkobCk7KGZ1bmN0aW9uKGEsYyl7YS53aWRnZXQoIm1vYmlsZS5jaGVja2JveHJhZGlvIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsbWluaTpmYWxzZSxpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J2NoZWNrYm94J10saW5wdXRbdHlwZT0ncmFkaW8nXSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGQ9dGhpcy5lbGVtZW50LGU9dGhpcy5vcHRpb25zLGY9YShkKS5jbG9zZXN0KCJsYWJlbCIpLGc9Zi5sZW5ndGg/ZjphKGQpLmNsb3Nlc3QoImZvcm0sZmllbGRzZXQsOmpxbURhdGEocm9sZT0ncGFnZScpLDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikuZmluZCgibGFiZWwiKS5maWx0ZXIoIltmb3I9JyIrCmRbMF0uaWQrIiddIiksaD1kWzBdLnR5cGUsZj1kLmpxbURhdGEoIm1pbmkiKXx8ZC5jbG9zZXN0KCJmb3JtLGZpZWxkc2V0IikuanFtRGF0YSgibWluaSIpfHxlLm1pbmksaj1oKyItb24iLGw9aCsiLW9mZiIscD1kLnBhcmVudHMoIjpqcW1EYXRhKHR5cGU9J2hvcml6b250YWwnKSIpLmxlbmd0aD9jOmwsbT1kLmpxbURhdGEoImljb25wb3MiKXx8ZC5jbG9zZXN0KCJmb3JtLGZpZWxkc2V0IikuanFtRGF0YSgiaWNvbnBvcyIpO2lmKCEoaCE9PSJjaGVja2JveCImJmghPT0icmFkaW8iKSl7YS5leHRlbmQodGhpcyx7bGFiZWw6ZyxpbnB1dHR5cGU6aCxjaGVja2VkQ2xhc3M6InVpLSIraisocD8iIjoiICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLHVuY2hlY2tlZENsYXNzOiJ1aS0iK2wsY2hlY2tlZGljb246InVpLWljb24tIitqLHVuY2hlY2tlZGljb246InVpLWljb24tIitsfSk7aWYoIWUudGhlbWUpZS50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQsCiJjIik7Zy5idXR0b25NYXJrdXAoe3RoZW1lOmUudGhlbWUsaWNvbjpwLHNoYWRvdzpmYWxzZSxtaW5pOmYsaWNvbnBvczptfSk7ZT1rLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2UuY2xhc3NOYW1lPSJ1aS0iK2g7ZC5hZGQoZykud3JhcEFsbChlKTtnLmJpbmQoe3Ztb3VzZW92ZXI6ZnVuY3Rpb24oYil7YSh0aGlzKS5wYXJlbnQoKS5pcygiLnVpLWRpc2FibGVkIikmJmIuc3RvcFByb3BhZ2F0aW9uKCl9LHZjbGljazpmdW5jdGlvbihhKXtpZihkLmlzKCI6ZGlzYWJsZWQiKSlhLnByZXZlbnREZWZhdWx0KCk7ZWxzZSByZXR1cm4gYi5fY2FjaGVWYWxzKCksZC5wcm9wKCJjaGVja2VkIixoPT09InJhZGlvIiYmdHJ1ZXx8IWQucHJvcCgiY2hlY2tlZCIpKSxkLnRyaWdnZXJIYW5kbGVyKCJjbGljayIpLGIuX2dldElucHV0U2V0KCkubm90KGQpLnByb3AoImNoZWNrZWQiLGZhbHNlKSxiLl91cGRhdGVBbGwoKSxmYWxzZX19KTtkLmJpbmQoe3Ztb3VzZWRvd246ZnVuY3Rpb24oKXtiLl9jYWNoZVZhbHMoKX0sCnZjbGljazpmdW5jdGlvbigpe3ZhciBjPWEodGhpcyk7Yy5pcygiOmNoZWNrZWQiKT8oYy5wcm9wKCJjaGVja2VkIix0cnVlKSxiLl9nZXRJbnB1dFNldCgpLm5vdChjKS5wcm9wKCJjaGVja2VkIixmYWxzZSkpOmMucHJvcCgiY2hlY2tlZCIsZmFsc2UpO2IuX3VwZGF0ZUFsbCgpfSxmb2N1czpmdW5jdGlvbigpe2cuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXtnLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pO3RoaXMucmVmcmVzaCgpfX0sX2NhY2hlVmFsczpmdW5jdGlvbigpe3RoaXMuX2dldElucHV0U2V0KCkuZWFjaChmdW5jdGlvbigpe2EodGhpcykuanFtRGF0YSgiY2FjaGVWYWwiLHRoaXMuY2hlY2tlZCl9KX0sX2dldElucHV0U2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5wdXR0eXBlPT09ImNoZWNrYm94Ij90aGlzLmVsZW1lbnQ6dGhpcy5lbGVtZW50LmNsb3Nlc3QoImZvcm0sZmllbGRzZXQsOmpxbURhdGEocm9sZT0ncGFnZScpIikuZmluZCgiaW5wdXRbbmFtZT0nIisKdGhpcy5lbGVtZW50WzBdLm5hbWUrIiddW3R5cGU9JyIrdGhpcy5pbnB1dHR5cGUrIiddIil9LF91cGRhdGVBbGw6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMuX2dldElucHV0U2V0KCkuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyk7KHRoaXMuY2hlY2tlZHx8Yi5pbnB1dHR5cGU9PT0iY2hlY2tib3giKSYmYy50cmlnZ2VyKCJjaGFuZ2UiKX0pLmNoZWNrYm94cmFkaW8oInJlZnJlc2giKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudFswXSxjPXRoaXMubGFiZWwsZT1jLmZpbmQoIi51aS1pY29uIik7YS5jaGVja2VkPyhjLmFkZENsYXNzKHRoaXMuY2hlY2tlZENsYXNzKS5yZW1vdmVDbGFzcyh0aGlzLnVuY2hlY2tlZENsYXNzKSxlLmFkZENsYXNzKHRoaXMuY2hlY2tlZGljb24pLnJlbW92ZUNsYXNzKHRoaXMudW5jaGVja2VkaWNvbikpOihjLnJlbW92ZUNsYXNzKHRoaXMuY2hlY2tlZENsYXNzKS5hZGRDbGFzcyh0aGlzLnVuY2hlY2tlZENsYXNzKSwKZS5yZW1vdmVDbGFzcyh0aGlzLmNoZWNrZWRpY29uKS5hZGRDbGFzcyh0aGlzLnVuY2hlY2tlZGljb24pKTthLmRpc2FibGVkP3RoaXMuZGlzYWJsZSgpOnRoaXMuZW5hYmxlKCl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLHRydWUpLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLGZhbHNlKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKX19KTthKGspLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5jaGVja2JveHJhZGlvLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0LHRydWUpfSl9KShsKTsoZnVuY3Rpb24oYSxjKXthLndpZGdldCgibW9iaWxlLmJ1dHRvbiIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGljb246bnVsbCxpY29ucG9zOm51bGwsY29ybmVyczp0cnVlLApzaGFkb3c6dHJ1ZSxpY29uc2hhZG93OnRydWUsaW5pdFNlbGVjdG9yOiJidXR0b24sIFt0eXBlPSdidXR0b24nXSwgW3R5cGU9J3N1Ym1pdCddLCBbdHlwZT0ncmVzZXQnXSwgW3R5cGU9J2ltYWdlJ10ifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGQsZT10aGlzLm9wdGlvbnMsZjtmPWUuaW5saW5lfHxiLmpxbURhdGEoImlubGluZSIpO3ZhciBnPWUubWluaXx8Yi5qcW1EYXRhKCJtaW5pIiksaD0iIixqO2lmKGJbMF0udGFnTmFtZT09PSJBIikhYi5oYXNDbGFzcygidWktYnRuIikmJmIuYnV0dG9uTWFya3VwKCk7ZWxzZXtpZighdGhpcy5vcHRpb25zLnRoZW1lKXRoaXMub3B0aW9ucy50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQsImMiKTt+YlswXS5jbGFzc05hbWUuaW5kZXhPZigidWktYnRuLWxlZnQiKSYmKGg9InVpLWJ0bi1sZWZ0Iik7fmJbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1yaWdodCIpJiYoaD0KInVpLWJ0bi1yaWdodCIpO2lmKGIuYXR0cigidHlwZSIpPT09InN1Ym1pdCJ8fGIuYXR0cigidHlwZSIpPT09InJlc2V0IiloP2grPSIgdWktc3VibWl0IjpoPSJ1aS1zdWJtaXQiO2EoImxhYmVsW2Zvcj0nIitiLmF0dHIoImlkIikrIiddIikuYWRkQ2xhc3MoInVpLXN1Ym1pdCIpO2Q9dGhpcy5idXR0b249YSgiPGRpdj48L2Rpdj4iKS50ZXh0KGIudGV4dCgpfHxiLnZhbCgpKS5pbnNlcnRCZWZvcmUoYikuYnV0dG9uTWFya3VwKHt0aGVtZTplLnRoZW1lLGljb246ZS5pY29uLGljb25wb3M6ZS5pY29ucG9zLGlubGluZTpmLGNvcm5lcnM6ZS5jb3JuZXJzLHNoYWRvdzplLnNoYWRvdyxpY29uc2hhZG93OmUuaWNvbnNoYWRvdyxtaW5pOmd9KS5hZGRDbGFzcyhoKS5hcHBlbmQoYi5hZGRDbGFzcygidWktYnRuLWhpZGRlbiIpKTtlPWIuYXR0cigidHlwZSIpO2Y9Yi5hdHRyKCJuYW1lIik7ZSE9PSJidXR0b24iJiZlIT09InJlc2V0IiYmZiYmYi5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKCl7aj09PQpjJiYoaj1hKCI8aW5wdXQ+Iix7dHlwZToiaGlkZGVuIixuYW1lOmIuYXR0cigibmFtZSIpLHZhbHVlOmIuYXR0cigidmFsdWUiKX0pLmluc2VydEJlZm9yZShiKSxhKGspLm9uZSgic3VibWl0IixmdW5jdGlvbigpe2oucmVtb3ZlKCk7aj1jfSkpfSk7Yi5iaW5kKHtmb2N1czpmdW5jdGlvbigpe2QuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXtkLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pO3RoaXMucmVmcmVzaCgpfX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIixmYWxzZSk7dGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsZmFsc2UpO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIixmYWxzZSl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLHRydWUpO3RoaXMuYnV0dG9uLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLAp0cnVlKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsdHJ1ZSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQ7Yi5wcm9wKCJkaXNhYmxlZCIpP3RoaXMuZGlzYWJsZSgpOnRoaXMuZW5hYmxlKCk7YSh0aGlzLmJ1dHRvbi5kYXRhKCJidXR0b25FbGVtZW50cyIpLnRleHQpLnRleHQoYi50ZXh0KCl8fGIudmFsKCkpfX0pO2EoaykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLmJ1dHRvbi5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCx0cnVlKX0pfSkobCk7KGZ1bmN0aW9uKGEpe2EuZm4uY29udHJvbGdyb3VwPWZ1bmN0aW9uKGMpe2Z1bmN0aW9uIGIoYSxiKXthLnJlbW92ZUNsYXNzKCJ1aS1idG4tY29ybmVyLWFsbCB1aS1jb3JuZXItdG9wIHVpLWNvcm5lci1ib3R0b20gdWktY29ybmVyLWxlZnQgdWktY29ybmVyLXJpZ2h0IHVpLWNvbnRyb2xncm91cC1sYXN0IHVpLXNoYWRvdyIpLmVxKDApLmFkZENsYXNzKGJbMF0pLmVuZCgpLmxhc3QoKS5hZGRDbGFzcyhiWzFdKS5hZGRDbGFzcygidWktY29udHJvbGdyb3VwLWxhc3QiKX0KcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksZT1hLmV4dGVuZCh7ZGlyZWN0aW9uOmQuanFtRGF0YSgidHlwZSIpfHwidmVydGljYWwiLHNoYWRvdzpmYWxzZSxleGNsdWRlSW52aXNpYmxlOnRydWUsbWluaTpkLmpxbURhdGEoIm1pbmkiKX0sYyksZj1kLmNoaWxkcmVuKCJsZWdlbmQiKSxnPWQuY2hpbGRyZW4oIi51aS1jb250cm9sZ3JvdXAtbGFiZWwiKSxoPWQuY2hpbGRyZW4oIi51aS1jb250cm9sZ3JvdXAtY29udHJvbHMiKSxqPWUuZGlyZWN0aW9uPT09Imhvcml6b250YWwiP1sidWktY29ybmVyLWxlZnQiLCJ1aS1jb3JuZXItcmlnaHQiXTpbInVpLWNvcm5lci10b3AiLCJ1aS1jb3JuZXItYm90dG9tIl07ZC5maW5kKCJpbnB1dCIpLmZpcnN0KCkuYXR0cigidHlwZSIpO2gubGVuZ3RoJiZoLmNvbnRlbnRzKCkudW53cmFwKCk7ZC53cmFwSW5uZXIoIjxkaXYgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1jb250cm9scyc+PC9kaXY+Iik7Zi5sZW5ndGg/CihhKCI8ZGl2IHJvbGU9J2hlYWRpbmcnIGNsYXNzPSd1aS1jb250cm9sZ3JvdXAtbGFiZWwnPiIrZi5odG1sKCkrIjwvZGl2PiIpLmluc2VydEJlZm9yZShkLmNoaWxkcmVuKDApKSxmLnJlbW92ZSgpKTpnLmxlbmd0aCYmZC5wcmVwZW5kKGcpO2QuYWRkQ2xhc3MoInVpLWNvcm5lci1hbGwgdWktY29udHJvbGdyb3VwIHVpLWNvbnRyb2xncm91cC0iK2UuZGlyZWN0aW9uKTtiKGQuZmluZCgiLnVpLWJ0biIrKGUuZXhjbHVkZUludmlzaWJsZT8iOnZpc2libGUiOiIiKSkubm90KCIudWktc2xpZGVyLWhhbmRsZSIpLGopO2IoZC5maW5kKCIudWktYnRuLWlubmVyIiksaik7ZS5zaGFkb3cmJmQuYWRkQ2xhc3MoInVpLXNoYWRvdyIpO2UubWluaSYmZC5hZGRDbGFzcygidWktbWluaSIpfSl9fSkobCk7KGZ1bmN0aW9uKGEpe2EoaykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGMpe2EoYy50YXJnZXQpLmZpbmQoImEiKS5qcW1FbmhhbmNlYWJsZSgpLm5vdCgiLnVpLWJ0biwgLnVpLWxpbmstaW5oZXJpdCwgOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiKS5hZGRDbGFzcygidWktbGluayIpfSl9KShsKTsKKGZ1bmN0aW9uKGEpe3ZhciBjPWEoIm1ldGFbbmFtZT12aWV3cG9ydF0iKSxiPWMuYXR0cigiY29udGVudCIpLGQ9YisiLG1heGltdW0tc2NhbGU9MSwgdXNlci1zY2FsYWJsZT1ubyIsZT1iKyIsbWF4aW11bS1zY2FsZT0xMCwgdXNlci1zY2FsYWJsZT15ZXMiLGY9Lyh1c2VyLXNjYWxhYmxlW1xzXSo9W1xzXSpubyl8KG1heGltdW0tc2NhbGVbXHNdKj1bXHNdKjEpWyQsXHNdLy50ZXN0KGIpO2EubW9iaWxlLnpvb209YS5leHRlbmQoe30se2VuYWJsZWQ6IWYsbG9ja2VkOmZhbHNlLGRpc2FibGU6ZnVuY3Rpb24oYil7aWYoIWYmJiFhLm1vYmlsZS56b29tLmxvY2tlZCljLmF0dHIoImNvbnRlbnQiLGQpLGEubW9iaWxlLnpvb20uZW5hYmxlZD1mYWxzZSxhLm1vYmlsZS56b29tLmxvY2tlZD1ifHxmYWxzZX0sZW5hYmxlOmZ1bmN0aW9uKGIpe2lmKCFmJiYoIWEubW9iaWxlLnpvb20ubG9ja2VkfHxiPT09dHJ1ZSkpYy5hdHRyKCJjb250ZW50IixlKSxhLm1vYmlsZS56b29tLmVuYWJsZWQ9CnRydWUsYS5tb2JpbGUuem9vbS5sb2NrZWQ9ZmFsc2V9LHJlc3RvcmU6ZnVuY3Rpb24oKXtpZighZiljLmF0dHIoImNvbnRlbnQiLGIpLGEubW9iaWxlLnpvb20uZW5hYmxlZD10cnVlfX0pfSkobCk7KGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUudGV4dGlucHV0IixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsbWluaTpmYWxzZSxwcmV2ZW50Rm9jdXNab29tOi9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSxpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J3RleHQnXSwgaW5wdXRbdHlwZT0nc2VhcmNoJ10sIDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpLCBpbnB1dFt0eXBlPSdudW1iZXInXSwgOmpxbURhdGEodHlwZT0nbnVtYmVyJyksIGlucHV0W3R5cGU9J3Bhc3N3b3JkJ10sIGlucHV0W3R5cGU9J2VtYWlsJ10sIGlucHV0W3R5cGU9J3VybCddLCBpbnB1dFt0eXBlPSd0ZWwnXSwgdGV4dGFyZWEsIGlucHV0W3R5cGU9J3RpbWUnXSwgaW5wdXRbdHlwZT0nZGF0ZSddLCBpbnB1dFt0eXBlPSdtb250aCddLCBpbnB1dFt0eXBlPSd3ZWVrJ10sIGlucHV0W3R5cGU9J2RhdGV0aW1lJ10sIGlucHV0W3R5cGU9J2RhdGV0aW1lLWxvY2FsJ10sIGlucHV0W3R5cGU9J2NvbG9yJ10sIGlucHV0Om5vdChbdHlwZV0pIiwKY2xlYXJTZWFyY2hCdXR0b25UZXh0OiJjbGVhciB0ZXh0IixkaXNhYmxlZDpmYWxzZX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBjPXRoaXMuZWxlbWVudCxiPXRoaXMub3B0aW9ucyxkPWIudGhlbWV8fGEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudCwiYyIpLGU9IiB1aS1ib2R5LSIrZCxmPWIubWluaT8iIHVpLW1pbmkiOiIiLGcsaDthKCJsYWJlbFtmb3I9JyIrYy5hdHRyKCJpZCIpKyInXSIpLmFkZENsYXNzKCJ1aS1pbnB1dC10ZXh0Iik7Zz1jLmFkZENsYXNzKCJ1aS1pbnB1dC10ZXh0IHVpLWJvZHktIitkKTt0eXBlb2YgY1swXS5hdXRvY29ycmVjdCE9PSJ1bmRlZmluZWQiJiYhYS5zdXBwb3J0LnRvdWNoT3ZlcmZsb3cmJihjWzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvcnJlY3QiLCJvZmYiKSxjWzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvbXBsZXRlIiwib2ZmIikpO2MuaXMoIlt0eXBlPSdzZWFyY2gnXSw6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIpPyhnPQpjLndyYXAoIjxkaXYgY2xhc3M9J3VpLWlucHV0LXNlYXJjaCB1aS1zaGFkb3ctaW5zZXQgdWktYnRuLWNvcm5lci1hbGwgdWktYnRuLXNoYWRvdyB1aS1pY29uLXNlYXJjaGZpZWxkIitlK2YrIic+PC9kaXY+IikucGFyZW50KCksaD1hKCI8YSBocmVmPScjJyBjbGFzcz0ndWktaW5wdXQtY2xlYXInIHRpdGxlPSciK2IuY2xlYXJTZWFyY2hCdXR0b25UZXh0KyInPiIrYi5jbGVhclNlYXJjaEJ1dHRvblRleHQrIjwvYT4iKS5iaW5kKCJjbGljayIsZnVuY3Rpb24oYSl7Yy52YWwoIiIpLmZvY3VzKCkudHJpZ2dlcigiY2hhbmdlIik7aC5hZGRDbGFzcygidWktaW5wdXQtY2xlYXItaGlkZGVuIik7YS5wcmV2ZW50RGVmYXVsdCgpfSkuYXBwZW5kVG8oZykuYnV0dG9uTWFya3VwKHtpY29uOiJkZWxldGUiLGljb25wb3M6Im5vdGV4dCIsY29ybmVyczp0cnVlLHNoYWRvdzp0cnVlLG1pbmk6Yi5taW5pfSksZD1mdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtoLnRvZ2dsZUNsYXNzKCJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iLAohYy52YWwoKSl9LDApfSxkKCksYy5iaW5kKCJwYXN0ZSBjdXQga2V5dXAgZm9jdXMgY2hhbmdlIGJsdXIiLGQpKTpjLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIHVpLXNoYWRvdy1pbnNldCIrZStmKTtjLmZvY3VzKGZ1bmN0aW9uKCl7Zy5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJsdXIoZnVuY3Rpb24oKXtnLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSkuYmluZCgiZm9jdXMiLGZ1bmN0aW9uKCl7Yi5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUodHJ1ZSl9KS5iaW5kKCJibHVyIixmdW5jdGlvbigpe2IucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5lbmFibGUodHJ1ZSl9KTtpZihjLmlzKCJ0ZXh0YXJlYSIpKXt2YXIgaj1mdW5jdGlvbigpe3ZhciBhPWNbMF0uc2Nyb2xsSGVpZ2h0O2NbMF0uY2xpZW50SGVpZ2h0PGEmJmMuaGVpZ2h0KGErMTUpfSxsO2Mua2V5dXAoZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQobCk7Cmw9c2V0VGltZW91dChqLDEwMCl9KTthKGspLm9uZSgicGFnZWNoYW5nZSIsaik7YS50cmltKGMudmFsKCkpJiZhKHMpLmxvYWQoail9Yy5hdHRyKCJkaXNhYmxlZCIpJiZ0aGlzLmRpc2FibGUoKX0sZGlzYWJsZTpmdW5jdGlvbigpeyh0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLHRydWUpLmlzKCJbdHlwZT0nc2VhcmNoJ10sOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKT90aGlzLmVsZW1lbnQucGFyZW50KCk6dGhpcy5lbGVtZW50KS5hZGRDbGFzcygidWktZGlzYWJsZWQiKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsdHJ1ZSl9LGVuYWJsZTpmdW5jdGlvbigpeyh0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLGZhbHNlKS5pcygiW3R5cGU9J3NlYXJjaCddLDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIik/dGhpcy5lbGVtZW50LnBhcmVudCgpOnRoaXMuZWxlbWVudCkucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIik7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLApmYWxzZSl9fSk7YShrKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYyl7YS5tb2JpbGUudGV4dGlucHV0LnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGMudGFyZ2V0LHRydWUpfSl9KShsKTsoZnVuY3Rpb24oYSl7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyPWZhbHNlO2EubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlclBsYWNlaG9sZGVyPSJGaWx0ZXIgaXRlbXMuLi4iO2EubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlclRoZW1lPSJjIjthLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJDYWxsYmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiBhLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihiKT09PS0xfTthKGspLmRlbGVnYXRlKCJ1bCwgb2wiLCJsaXN0dmlld2NyZWF0ZSIsZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGI9Yy5kYXRhKCJsaXN0dmlldyIpO2lmKGIub3B0aW9ucy5maWx0ZXIpe3ZhciBkPQphKCI8Zm9ybT4iLHsiY2xhc3MiOiJ1aS1saXN0dmlldy1maWx0ZXIgdWktYmFyLSIrYi5vcHRpb25zLmZpbHRlclRoZW1lLHJvbGU6InNlYXJjaCJ9KTthKCI8aW5wdXQ+Iix7cGxhY2Vob2xkZXI6Yi5vcHRpb25zLmZpbHRlclBsYWNlaG9sZGVyfSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0eXBlIiwic2VhcmNoIikuanFtRGF0YSgibGFzdHZhbCIsIiIpLmJpbmQoImtleXVwIGNoYW5nZSIsZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpLGY9dGhpcy52YWx1ZS50b0xvd2VyQ2FzZSgpLGc9bnVsbCxnPWQuanFtRGF0YSgibGFzdHZhbCIpKyIiLGg9ZmFsc2Usaj0iIjtkLmpxbURhdGEoImxhc3R2YWwiLGYpO2c9Zi5sZW5ndGg8Zy5sZW5ndGh8fGYuaW5kZXhPZihnKSE9PTA/Yy5jaGlsZHJlbigpOmMuY2hpbGRyZW4oIjpub3QoLnVpLXNjcmVlbi1oaWRkZW4pIik7aWYoZil7Zm9yKHZhciBrPWcubGVuZ3RoLTE7az49MDtrLS0pZD1hKGdba10pLGo9ZC5qcW1EYXRhKCJmaWx0ZXJ0ZXh0Iil8fApkLnRleHQoKSxkLmlzKCJsaTpqcW1EYXRhKHJvbGU9bGlzdC1kaXZpZGVyKSIpPyhkLnRvZ2dsZUNsYXNzKCJ1aS1maWx0ZXItaGlkZXF1ZXVlIiwhaCksaD1mYWxzZSk6Yi5vcHRpb25zLmZpbHRlckNhbGxiYWNrKGosZik/ZC50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsdHJ1ZSk6aD10cnVlO2cuZmlsdGVyKCI6bm90KC51aS1maWx0ZXItaGlkZXF1ZXVlKSIpLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIixmYWxzZSk7Zy5maWx0ZXIoIi51aS1maWx0ZXItaGlkZXF1ZXVlIikudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLHRydWUpLnRvZ2dsZUNsYXNzKCJ1aS1maWx0ZXItaGlkZXF1ZXVlIixmYWxzZSl9ZWxzZSBnLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIixmYWxzZSk7Yi5fcmVmcmVzaENvcm5lcnMoKX0pLmFwcGVuZFRvKGQpLnRleHRpbnB1dCgpO2Iub3B0aW9ucy5pbnNldCYmZC5hZGRDbGFzcygidWktbGlzdHZpZXctZmlsdGVyLWluc2V0Iik7CmQuYmluZCgic3VibWl0IixmdW5jdGlvbigpe3JldHVybiBmYWxzZX0pLmluc2VydEJlZm9yZShjKX19KX0pKGwpOyhmdW5jdGlvbihhLGMpe2Eud2lkZ2V0KCJtb2JpbGUuc2xpZGVyIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsdHJhY2tUaGVtZTpudWxsLGRpc2FibGVkOmZhbHNlLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ncmFuZ2UnXSwgOmpxbURhdGEodHlwZT0ncmFuZ2UnKSwgOmpxbURhdGEocm9sZT0nc2xpZGVyJykiLG1pbmk6ZmFsc2V9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGQ9dGhpcy5lbGVtZW50LGU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoZCwiYyIpLGY9dGhpcy5vcHRpb25zLnRoZW1lfHxlLGU9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWV8fGUsZz1kWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksaD1nPT0ic2VsZWN0Ij8idWktc2xpZGVyLXN3aXRjaCI6IiIsaj1kLmF0dHIoImlkIiksbD1hKCJbZm9yPSciK2orIiddIiksCnA9bC5hdHRyKCJpZCIpfHxqKyItbGFiZWwiLGw9bC5hdHRyKCJpZCIscCksbT1mdW5jdGlvbigpe3JldHVybiBnPT0iaW5wdXQiP3BhcnNlRmxvYXQoZC52YWwoKSk6ZFswXS5zZWxlY3RlZEluZGV4fSx3PWc9PSJpbnB1dCI/cGFyc2VGbG9hdChkLmF0dHIoIm1pbiIpKTowLG49Zz09ImlucHV0Ij9wYXJzZUZsb2F0KGQuYXR0cigibWF4IikpOmQuZmluZCgib3B0aW9uIikubGVuZ3RoLTEscj1zLnBhcnNlRmxvYXQoZC5hdHRyKCJzdGVwIil8fDEpLG89dGhpcy5vcHRpb25zLmlubGluZXx8ZC5qcW1EYXRhKCJpbmxpbmUiKT09dHJ1ZT8iIHVpLXNsaWRlci1pbmxpbmUiOiIiLHQ9dGhpcy5vcHRpb25zLm1pbml8fGQuanFtRGF0YSgibWluaSIpPyIgdWktc2xpZGVyLW1pbmkiOiIiLHY9ay5jcmVhdGVFbGVtZW50KCJhIikseD1hKHYpLGo9ay5jcmVhdGVFbGVtZW50KCJkaXYiKSx1PWEoaiksRj1kLmpxbURhdGEoImhpZ2hsaWdodCIpJiZnIT0ic2VsZWN0Ij9mdW5jdGlvbigpe3ZhciBiPQprLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2IuY2xhc3NOYW1lPSJ1aS1zbGlkZXItYmcgIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcysiIHVpLWJ0bi1jb3JuZXItYWxsIjtyZXR1cm4gYShiKS5wcmVwZW5kVG8odSl9KCk6ZmFsc2U7dGhpcy5fdHlwZT1nO3Yuc2V0QXR0cmlidXRlKCJocmVmIiwiIyIpO2ouc2V0QXR0cmlidXRlKCJyb2xlIiwiYXBwbGljYXRpb24iKTtqLmNsYXNzTmFtZT1bInVpLXNsaWRlciAiLGgsIiB1aS1idG4tZG93bi0iLGUsIiB1aS1idG4tY29ybmVyLWFsbCIsbyx0XS5qb2luKCIiKTt2LmNsYXNzTmFtZT0idWktc2xpZGVyLWhhbmRsZSI7ai5hcHBlbmRDaGlsZCh2KTt4LmJ1dHRvbk1hcmt1cCh7Y29ybmVyczp0cnVlLHRoZW1lOmYsc2hhZG93OnRydWV9KS5hdHRyKHtyb2xlOiJzbGlkZXIiLCJhcmlhLXZhbHVlbWluIjp3LCJhcmlhLXZhbHVlbWF4IjpuLCJhcmlhLXZhbHVlbm93IjptKCksImFyaWEtdmFsdWV0ZXh0IjptKCksdGl0bGU6bSgpLCJhcmlhLWxhYmVsbGVkYnkiOnB9KTsKYS5leHRlbmQodGhpcyx7c2xpZGVyOnUsaGFuZGxlOngsdmFsdWViZzpGLGRyYWdnaW5nOmZhbHNlLGJlZm9yZVN0YXJ0Om51bGwsdXNlck1vZGlmaWVkOmZhbHNlLG1vdXNlTW92ZWQ6ZmFsc2V9KTtpZihnPT0ic2VsZWN0Iil7Zj1rLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2YuY2xhc3NOYW1lPSJ1aS1zbGlkZXItaW5uZXJvZmZzZXQiO2g9MDtmb3IocD1qLmNoaWxkTm9kZXMubGVuZ3RoO2g8cDtoKyspZi5hcHBlbmRDaGlsZChqLmNoaWxkTm9kZXNbaF0pO2ouYXBwZW5kQ2hpbGQoZik7eC5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpO2Y9ZC5maW5kKCJvcHRpb24iKTtqPTA7Zm9yKGg9Zi5sZW5ndGg7ajxoO2orKylwPSFqPyJiIjoiYSIsbz0haj8iIHVpLWJ0bi1kb3duLSIrZToiICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3Msay5jcmVhdGVFbGVtZW50KCJkaXYiKSx0PWsuY3JlYXRlRWxlbWVudCgic3BhbiIpLHQuY2xhc3NOYW1lPVsidWktc2xpZGVyLWxhYmVsIHVpLXNsaWRlci1sYWJlbC0iLApwLG8sIiB1aS1idG4tY29ybmVyLWFsbCJdLmpvaW4oIiIpLHQuc2V0QXR0cmlidXRlKCJyb2xlIiwiaW1nIiksdC5hcHBlbmRDaGlsZChrLmNyZWF0ZVRleHROb2RlKGZbal0uaW5uZXJIVE1MKSksYSh0KS5wcmVwZW5kVG8odSk7Yi5fbGFiZWxzPWEoIi51aS1zbGlkZXItbGFiZWwiLHUpfWwuYWRkQ2xhc3MoInVpLXNsaWRlciIpO2QuYWRkQ2xhc3MoZz09PSJpbnB1dCI/InVpLXNsaWRlci1pbnB1dCI6InVpLXNsaWRlci1zd2l0Y2giKS5jaGFuZ2UoZnVuY3Rpb24oKXtiLm1vdXNlTW92ZWR8fGIucmVmcmVzaChtKCksdHJ1ZSl9KS5rZXl1cChmdW5jdGlvbigpe2IucmVmcmVzaChtKCksdHJ1ZSx0cnVlKX0pLmJsdXIoZnVuY3Rpb24oKXtiLnJlZnJlc2gobSgpLHRydWUpfSk7YShrKS5iaW5kKCJ2bW91c2Vtb3ZlIixmdW5jdGlvbihhKXtpZihiLmRyYWdnaW5nJiYhYi5vcHRpb25zLmRpc2FibGVkKXJldHVybiBiLm1vdXNlTW92ZWQ9dHJ1ZSxnPT09InNlbGVjdCImJngucmVtb3ZlQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKSwKYi5yZWZyZXNoKGEpLGIudXNlck1vZGlmaWVkPWIuYmVmb3JlU3RhcnQhPT1kWzBdLnNlbGVjdGVkSW5kZXgsZmFsc2V9KTtkLmJpbmQoInZtb3VzZXVwIixhLnByb3h5KGIuX2NoZWNrZWRSZWZyZXNoLGIpKTt1LmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKGEpe2lmKGIub3B0aW9ucy5kaXNhYmxlZClyZXR1cm4gZmFsc2U7Yi5kcmFnZ2luZz10cnVlO2IudXNlck1vZGlmaWVkPWZhbHNlO2IubW91c2VNb3ZlZD1mYWxzZTtpZihnPT09InNlbGVjdCIpYi5iZWZvcmVTdGFydD1kWzBdLnNlbGVjdGVkSW5kZXg7Yi5yZWZyZXNoKGEpO3JldHVybiBmYWxzZX0pLmJpbmQoInZjbGljayIsZmFsc2UpO3UuYWRkKGspLmJpbmQoInZtb3VzZXVwIixmdW5jdGlvbigpe2lmKGIuZHJhZ2dpbmcpcmV0dXJuIGIuZHJhZ2dpbmc9ZmFsc2UsZz09PSJzZWxlY3QiJiYoeC5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLGIubW91c2VNb3ZlZD9iLnVzZXJNb2RpZmllZD9iLnJlZnJlc2goYi5iZWZvcmVTdGFydD09CjA/MTowKTpiLnJlZnJlc2goYi5iZWZvcmVTdGFydCk6Yi5yZWZyZXNoKGIuYmVmb3JlU3RhcnQ9PTA/MTowKSksYi5tb3VzZU1vdmVkPWZhbHNlfSk7dS5pbnNlcnRBZnRlcihkKTtnPT0ic2VsZWN0IiYmdGhpcy5oYW5kbGUuYmluZCh7Zm9jdXM6ZnVuY3Rpb24oKXt1LmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxibHVyOmZ1bmN0aW9uKCl7dS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX19KTt0aGlzLmhhbmRsZS5iaW5kKHt2bW91c2Vkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS5mb2N1cygpfSx2Y2xpY2s6ZmFsc2Usa2V5ZG93bjpmdW5jdGlvbihjKXt2YXIgZD1tKCk7aWYoIWIub3B0aW9ucy5kaXNhYmxlZCl7c3dpdGNoKGMua2V5Q29kZSl7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkhPTUU6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkVORDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUklHSFQ6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkRPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkxFRlQ6aWYoYy5wcmV2ZW50RGVmYXVsdCgpLAohYi5fa2V5U2xpZGluZyliLl9rZXlTbGlkaW5nPXRydWUsYSh0aGlzKS5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIil9c3dpdGNoKGMua2V5Q29kZSl7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkhPTUU6Yi5yZWZyZXNoKHcpO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5FTkQ6Yi5yZWZyZXNoKG4pO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUklHSFQ6Yi5yZWZyZXNoKGQrcik7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuTEVGVDpiLnJlZnJlc2goZC1yKX19fSxrZXl1cDpmdW5jdGlvbigpe2lmKGIuX2tleVNsaWRpbmcpYi5fa2V5U2xpZGluZz1mYWxzZSxhKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKX19KTt0aGlzLnJlZnJlc2goYyxjLHRydWUpfSwKX2NoZWNrZWRSZWZyZXNoOmZ1bmN0aW9uKCl7aWYodGhpcy52YWx1ZSE9dGhpcy5fdmFsdWUoKSl0aGlzLnJlZnJlc2godGhpcy5fdmFsdWUoKSksdGhpcy52YWx1ZT10aGlzLl92YWx1ZSgpfSxfdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHlwZT09PSJpbnB1dCI/cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQudmFsKCkpOnRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4fSxyZWZyZXNoOmZ1bmN0aW9uKGIsYyxlKXsodGhpcy5vcHRpb25zLmRpc2FibGVkfHx0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiKSkmJnRoaXMuZGlzYWJsZSgpO3ZhciBmPXRoaXMuZWxlbWVudCxnPWZbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxoPWc9PT0iaW5wdXQiP3BhcnNlRmxvYXQoZi5hdHRyKCJtaW4iKSk6MCxqPWc9PT0iaW5wdXQiP3BhcnNlRmxvYXQoZi5hdHRyKCJtYXgiKSk6Zi5maW5kKCJvcHRpb24iKS5sZW5ndGgtMSxrPWc9PT0iaW5wdXQiJiZwYXJzZUZsb2F0KGYuYXR0cigic3RlcCIpKT4KMD9wYXJzZUZsb2F0KGYuYXR0cigic3RlcCIpKToxO2lmKHR5cGVvZiBiPT09Im9iamVjdCIpe2lmKCF0aGlzLmRyYWdnaW5nfHxiLnBhZ2VYPHRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQtOHx8Yi5wYWdlWD50aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0K3RoaXMuc2xpZGVyLndpZHRoKCkrOClyZXR1cm47Yj1NYXRoLnJvdW5kKChiLnBhZ2VYLXRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQpL3RoaXMuc2xpZGVyLndpZHRoKCkqMTAwKX1lbHNlIGI9PW51bGwmJihiPWc9PT0iaW5wdXQiP3BhcnNlRmxvYXQoZi52YWwoKXx8MCk6ZlswXS5zZWxlY3RlZEluZGV4KSxiPShwYXJzZUZsb2F0KGIpLWgpLyhqLWgpKjEwMDtpZighaXNOYU4oYikpe2I8MCYmKGI9MCk7Yj4xMDAmJihiPTEwMCk7dmFyIGw9Yi8xMDAqKGotaCkraCxtPShsLWgpJWs7bC09bTtNYXRoLmFicyhtKSoyPj1rJiYobCs9bT4wP2s6LWspO2w9cGFyc2VGbG9hdChsLnRvRml4ZWQoNSkpO2w8aCYmKGw9aCk7bD5qJiYobD0Kaik7dGhpcy5oYW5kbGUuY3NzKCJsZWZ0IixiKyIlIik7dGhpcy5oYW5kbGUuYXR0cih7ImFyaWEtdmFsdWVub3ciOmc9PT0iaW5wdXQiP2w6Zi5maW5kKCJvcHRpb24iKS5lcShsKS5hdHRyKCJ2YWx1ZSIpLCJhcmlhLXZhbHVldGV4dCI6Zz09PSJpbnB1dCI/bDpmLmZpbmQoIm9wdGlvbiIpLmVxKGwpLmdldEVuY29kZWRUZXh0KCksdGl0bGU6Zz09PSJpbnB1dCI/bDpmLmZpbmQoIm9wdGlvbiIpLmVxKGwpLmdldEVuY29kZWRUZXh0KCl9KTt0aGlzLnZhbHVlYmcmJnRoaXMudmFsdWViZy5jc3MoIndpZHRoIixiKyIlIik7aWYodGhpcy5fbGFiZWxzKXt2YXIgaD10aGlzLmhhbmRsZS53aWR0aCgpL3RoaXMuc2xpZGVyLndpZHRoKCkqMTAwLHM9YiYmaCsoMTAwLWgpKmIvMTAwLG49Yj09PTEwMD8wOk1hdGgubWluKGgrMTAwLXMsMTAwKTt0aGlzLl9sYWJlbHMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcykuaXMoIi51aS1zbGlkZXItbGFiZWwtYSIpO2EodGhpcykud2lkdGgoKGI/CnM6bikrIiUiKX0pfWlmKCFlKWU9ZmFsc2UsZz09PSJpbnB1dCI/KGU9Zi52YWwoKSE9PWwsZi52YWwobCkpOihlPWZbMF0uc2VsZWN0ZWRJbmRleCE9PWwsZlswXS5zZWxlY3RlZEluZGV4PWwpLCFjJiZlJiZmLnRyaWdnZXIoImNoYW5nZSIpfX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIixmYWxzZSk7dGhpcy5zbGlkZXIucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsZmFsc2UpO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIixmYWxzZSl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLHRydWUpO3RoaXMuc2xpZGVyLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLHRydWUpO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIix0cnVlKX19KTthKGspLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5zbGlkZXIucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQsCnRydWUpfSl9KShsKTsoZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS5zZWxlY3RtZW51IixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsZGlzYWJsZWQ6ZmFsc2UsaWNvbjoiYXJyb3ctZCIsaWNvbnBvczoicmlnaHQiLGlubGluZTpmYWxzZSxjb3JuZXJzOnRydWUsc2hhZG93OnRydWUsaWNvbnNoYWRvdzp0cnVlLG92ZXJsYXlUaGVtZToiYSIsaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zOnRydWUsY2xvc2VUZXh0OiJDbG9zZSIsbmF0aXZlTWVudTp0cnVlLHByZXZlbnRGb2N1c1pvb206L2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xLGluaXRTZWxlY3Rvcjoic2VsZWN0Om5vdCg6anFtRGF0YShyb2xlPSdzbGlkZXInKSkiLG1pbmk6ZmFsc2V9LF9idXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGRpdi8+Iil9LF9zZXREaXNhYmxlZDpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLAphKTt0aGlzLmJ1dHRvbi5hdHRyKCJhcmlhLWRpc2FibGVkIixhKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsYSl9LF9mb2N1c0J1dHRvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2EuYnV0dG9uLmZvY3VzKCl9LDQwKX0sX3NlbGVjdE9wdGlvbnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3QuZmluZCgib3B0aW9uIil9LF9wcmVFeHRlbnNpb246ZnVuY3Rpb24oKXt2YXIgYz0iIjt+dGhpcy5lbGVtZW50WzBdLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1idG4tbGVmdCIpJiYoYz0iIHVpLWJ0bi1sZWZ0Iik7fnRoaXMuZWxlbWVudFswXS5jbGFzc05hbWUuaW5kZXhPZigidWktYnRuLXJpZ2h0IikmJihjPSIgdWktYnRuLXJpZ2h0Iik7dGhpcy5zZWxlY3Q9dGhpcy5lbGVtZW50LndyYXAoIjxkaXYgY2xhc3M9J3VpLXNlbGVjdCIrYysiJz4iKTt0aGlzLnNlbGVjdElEPXRoaXMuc2VsZWN0LmF0dHIoImlkIik7dGhpcy5sYWJlbD0KYSgibGFiZWxbZm9yPSciK3RoaXMuc2VsZWN0SUQrIiddIikuYWRkQ2xhc3MoInVpLXNlbGVjdCIpO3RoaXMuaXNNdWx0aXBsZT10aGlzLnNlbGVjdFswXS5tdWx0aXBsZTtpZighdGhpcy5vcHRpb25zLnRoZW1lKXRoaXMub3B0aW9ucy50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLnNlbGVjdCwiYyIpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fcHJlRXh0ZW5zaW9uKCk7dGhpcy5fdHJpZ2dlcigiYmVmb3JlQ3JlYXRlIik7dGhpcy5idXR0b249dGhpcy5fYnV0dG9uKCk7dmFyIGM9dGhpcyxiPXRoaXMub3B0aW9ucyxkPWIuaW5saW5lfHx0aGlzLnNlbGVjdC5qcW1EYXRhKCJpbmxpbmUiKSxlPWIubWluaXx8dGhpcy5zZWxlY3QuanFtRGF0YSgibWluaSIpLGY9Yi5pY29uP2IuaWNvbnBvc3x8dGhpcy5zZWxlY3QuanFtRGF0YSgiaWNvbnBvcyIpOmZhbHNlLGQ9dGhpcy5idXR0b24uaW5zZXJ0QmVmb3JlKHRoaXMuc2VsZWN0KS5idXR0b25NYXJrdXAoe3RoZW1lOmIudGhlbWUsCmljb246Yi5pY29uLGljb25wb3M6ZixpbmxpbmU6ZCxjb3JuZXJzOmIuY29ybmVycyxzaGFkb3c6Yi5zaGFkb3csaWNvbnNoYWRvdzpiLmljb25zaGFkb3csbWluaTplfSk7dGhpcy5zZXRCdXR0b25UZXh0KCk7Yi5uYXRpdmVNZW51JiZzLm9wZXJhJiZzLm9wZXJhLnZlcnNpb24mJmQuYWRkQ2xhc3MoInVpLXNlbGVjdC1uYXRpdmVvbmx5Iik7aWYodGhpcy5pc011bHRpcGxlKXRoaXMuYnV0dG9uQ291bnQ9YSgiPHNwYW4+IikuYWRkQ2xhc3MoInVpLWxpLWNvdW50IHVpLWJ0bi11cC1jIHVpLWJ0bi1jb3JuZXItYWxsIikuaGlkZSgpLmFwcGVuZFRvKGQuYWRkQ2xhc3MoInVpLWxpLWhhcy1jb3VudCIpKTsoYi5kaXNhYmxlZHx8dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIikpJiZ0aGlzLmRpc2FibGUoKTt0aGlzLnNlbGVjdC5jaGFuZ2UoZnVuY3Rpb24oKXtjLnJlZnJlc2goKX0pO3RoaXMuYnVpbGQoKX0sYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgYz10aGlzO3RoaXMuc2VsZWN0LmFwcGVuZFRvKGMuYnV0dG9uKS5iaW5kKCJ2bW91c2Vkb3duIiwKZnVuY3Rpb24oKXtjLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJmb2N1cyIsZnVuY3Rpb24oKXtjLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7Yy5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5iaW5kKCJmb2N1cyB2bW91c2VvdmVyIixmdW5jdGlvbigpe2MuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW92ZXIiKX0pLmJpbmQoInZtb3VzZW1vdmUiLGZ1bmN0aW9uKCl7Yy5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2hhbmdlIGJsdXIgdm1vdXNlb3V0IixmdW5jdGlvbigpe2MuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW91dCIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImNoYW5nZSBibHVyIixmdW5jdGlvbigpe2MuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1idG4tZG93bi0iKwpjLm9wdGlvbnMudGhlbWUpfSk7Yy5idXR0b24uYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oKXtjLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKHRydWUpfSk7Yy5sYWJlbC5iaW5kKCJjbGljayBmb2N1cyIsZnVuY3Rpb24oKXtjLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKHRydWUpfSk7Yy5zZWxlY3QuYmluZCgiZm9jdXMiLGZ1bmN0aW9uKCl7Yy5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSh0cnVlKX0pO2MuYnV0dG9uLmJpbmQoIm1vdXNldXAiLGZ1bmN0aW9uKCl7Yy5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLm1vYmlsZS56b29tLmVuYWJsZSh0cnVlKX0sMCl9KTtjLnNlbGVjdC5iaW5kKCJibHVyIixmdW5jdGlvbigpe2Mub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmVuYWJsZSh0cnVlKX0pfSwKc2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLmZpbHRlcigiOnNlbGVjdGVkIil9LHNlbGVjdGVkSW5kaWNlczpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIHRoaXMuc2VsZWN0ZWQoKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYS5fc2VsZWN0T3B0aW9ucygpLmluZGV4KHRoaXMpfSkuZ2V0KCl9LHNldEJ1dHRvblRleHQ6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGI9dGhpcy5zZWxlY3RlZCgpLGQ9dGhpcy5wbGFjZWhvbGRlcixlPWEoay5jcmVhdGVFbGVtZW50KCJzcGFuIikpO3RoaXMuYnV0dG9uLmZpbmQoIi51aS1idG4tdGV4dCIpLmh0bWwoZnVuY3Rpb24oKXtkPWIubGVuZ3RoP2IubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcykudGV4dCgpfSkuZ2V0KCkuam9pbigiLCAiKTpjLnBsYWNlaG9sZGVyO3JldHVybiBlLnRleHQoZCkuYWRkQ2xhc3MoYy5zZWxlY3QuYXR0cigiY2xhc3MiKSkuYWRkQ2xhc3MoYi5hdHRyKCJjbGFzcyIpKX0pfSwKc2V0QnV0dG9uQ291bnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNlbGVjdGVkKCk7dGhpcy5pc011bHRpcGxlJiZ0aGlzLmJ1dHRvbkNvdW50W2EubGVuZ3RoPjE/InNob3ciOiJoaWRlIl0oKS50ZXh0KGEubGVuZ3RoKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuc2V0QnV0dG9uVGV4dCgpO3RoaXMuc2V0QnV0dG9uQ291bnQoKX0sb3BlbjphLm5vb3AsY2xvc2U6YS5ub29wLGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXREaXNhYmxlZCh0cnVlKTt0aGlzLmJ1dHRvbi5hZGRDbGFzcygidWktZGlzYWJsZWQiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0RGlzYWJsZWQoZmFsc2UpO3RoaXMuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpfX0pO2EoaykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGMpe2EubW9iaWxlLnNlbGVjdG1lbnUucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYy50YXJnZXQsdHJ1ZSl9KX0pKGwpOyhmdW5jdGlvbihhKXt2YXIgYz0KZnVuY3Rpb24oYil7dmFyIGM9Yi5zZWxlY3RJRCxlPWIubGFiZWwsZj1iLnNlbGVjdC5jbG9zZXN0KCIudWktcGFnZSIpLGc9YSgiPGRpdj4iLHsiY2xhc3MiOiJ1aS1zZWxlY3RtZW51LXNjcmVlbiB1aS1zY3JlZW4taGlkZGVuIn0pLmFwcGVuZFRvKGYpLGg9Yi5fc2VsZWN0T3B0aW9ucygpLGo9Yi5pc011bHRpcGxlPWIuc2VsZWN0WzBdLm11bHRpcGxlLGw9YysiLWJ1dHRvbiIscD1jKyItbWVudSIsbT1hKCI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0nZGlhbG9nJyBkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lPSciK2Iub3B0aW9ucy50aGVtZSsiJyBkYXRhLSIrYS5tb2JpbGUubnMrIm92ZXJsYXktdGhlbWU9JyIrYi5vcHRpb25zLm92ZXJsYXlUaGVtZSsiJz48ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0naGVhZGVyJz48ZGl2IGNsYXNzPSd1aS10aXRsZSc+IitlLmdldEVuY29kZWRUZXh0KCkrIjwvZGl2PjwvZGl2PjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKwoicm9sZT0nY29udGVudCc+PC9kaXY+PC9kaXY+Iiksdz1hKCI8ZGl2PiIseyJjbGFzcyI6InVpLXNlbGVjdG1lbnUgdWktc2VsZWN0bWVudS1oaWRkZW4gdWktb3ZlcmxheS1zaGFkb3cgdWktY29ybmVyLWFsbCB1aS1ib2R5LSIrYi5vcHRpb25zLm92ZXJsYXlUaGVtZSsiICIrYS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb259KS5pbnNlcnRBZnRlcihnKSxuPWEoIjx1bD4iLHsiY2xhc3MiOiJ1aS1zZWxlY3RtZW51LWxpc3QiLGlkOnAscm9sZToibGlzdGJveCIsImFyaWEtbGFiZWxsZWRieSI6bH0pLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiLGIub3B0aW9ucy50aGVtZSkuYXBwZW5kVG8odykscj1hKCI8ZGl2PiIseyJjbGFzcyI6InVpLWhlYWRlciB1aS1iYXItIitiLm9wdGlvbnMudGhlbWV9KS5wcmVwZW5kVG8odyksbz1hKCI8aDE+Iix7ImNsYXNzIjoidWktdGl0bGUifSkuYXBwZW5kVG8ociksdDtiLmlzTXVsdGlwbGUmJih0PWEoIjxhPiIse3RleHQ6Yi5vcHRpb25zLmNsb3NlVGV4dCwKaHJlZjoiIyIsImNsYXNzIjoidWktYnRuLWxlZnQifSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJpY29ucG9zIiwibm90ZXh0IikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uIiwiZGVsZXRlIikuYXBwZW5kVG8ocikuYnV0dG9uTWFya3VwKCkpO2EuZXh0ZW5kKGIse3NlbGVjdDpiLnNlbGVjdCxzZWxlY3RJRDpjLGJ1dHRvbklkOmwsbWVudUlkOnAsdGhpc1BhZ2U6ZixtZW51UGFnZTptLGxhYmVsOmUsc2NyZWVuOmcsc2VsZWN0T3B0aW9uczpoLGlzTXVsdGlwbGU6aix0aGVtZTpiLm9wdGlvbnMudGhlbWUsbGlzdGJveDp3LGxpc3Q6bixoZWFkZXI6cixoZWFkZXJUaXRsZTpvLGhlYWRlckNsb3NlOnQsbWVudVBhZ2VDb250ZW50OnZvaWQgMCxtZW51UGFnZUNsb3NlOnZvaWQgMCxwbGFjZWhvbGRlcjoiIixidWlsZDpmdW5jdGlvbigpe3ZhciBjPXRoaXM7Yy5yZWZyZXNoKCk7Yy5zZWxlY3QuYXR0cigidGFiaW5kZXgiLCItMSIpLmZvY3VzKGZ1bmN0aW9uKCl7YSh0aGlzKS5ibHVyKCk7CmMuYnV0dG9uLmZvY3VzKCl9KTtjLmJ1dHRvbi5iaW5kKCJ2Y2xpY2sga2V5ZG93biIsZnVuY3Rpb24oYil7aWYoYi50eXBlPT0idmNsaWNrInx8Yi5rZXlDb2RlJiYoYi5rZXlDb2RlPT09YS5tb2JpbGUua2V5Q29kZS5FTlRFUnx8Yi5rZXlDb2RlPT09YS5tb2JpbGUua2V5Q29kZS5TUEFDRSkpYy5vcGVuKCksYi5wcmV2ZW50RGVmYXVsdCgpfSk7Yy5saXN0LmF0dHIoInJvbGUiLCJsaXN0Ym94IikuYmluZCgiZm9jdXNpbiIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuYXR0cigidGFiaW5kZXgiLCIwIikudHJpZ2dlcigidm1vdXNlb3ZlciIpfSkuYmluZCgiZm9jdXNvdXQiLGZ1bmN0aW9uKGIpe2EoYi50YXJnZXQpLmF0dHIoInRhYmluZGV4IiwiLTEiKS50cmlnZ2VyKCJ2bW91c2VvdXQiKX0pLmRlbGVnYXRlKCJsaTpub3QoLnVpLWRpc2FibGVkLCAudWktbGktZGl2aWRlcikiLCJjbGljayIsZnVuY3Rpb24oZCl7dmFyIGU9Yy5zZWxlY3RbMF0uc2VsZWN0ZWRJbmRleCxmPWMubGlzdC5maW5kKCJsaTpub3QoLnVpLWxpLWRpdmlkZXIpIikuaW5kZXgodGhpcyksCmc9Yy5fc2VsZWN0T3B0aW9ucygpLmVxKGYpWzBdO2cuc2VsZWN0ZWQ9Yy5pc011bHRpcGxlPyFnLnNlbGVjdGVkOnRydWU7Yy5pc011bHRpcGxlJiZhKHRoaXMpLmZpbmQoIi51aS1pY29uIikudG9nZ2xlQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb24iLGcuc2VsZWN0ZWQpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9mZiIsIWcuc2VsZWN0ZWQpOyhjLmlzTXVsdGlwbGV8fGUhPT1mKSYmYy5zZWxlY3QudHJpZ2dlcigiY2hhbmdlIik7Yy5pc011bHRpcGxlP2MubGlzdC5maW5kKCJsaTpub3QoLnVpLWxpLWRpdmlkZXIpIikuZXEoZikuYWRkQ2xhc3MoInVpLWJ0bi1kb3duLSIrYi5vcHRpb25zLnRoZW1lKS5maW5kKCJhIikuZmlyc3QoKS5mb2N1cygpOmMuY2xvc2UoKTtkLnByZXZlbnREZWZhdWx0KCl9KS5rZXlkb3duKGZ1bmN0aW9uKGMpe3ZhciBkPWEoYy50YXJnZXQpLGU9ZC5jbG9zZXN0KCJsaSIpO3N3aXRjaChjLmtleUNvZGUpe2Nhc2UgMzg6cmV0dXJuIGM9ZS5wcmV2KCkubm90KCIudWktc2VsZWN0bWVudS1wbGFjZWhvbGRlciIpLApjLmlzKCIudWktbGktZGl2aWRlciIpJiYoYz1jLnByZXYoKSksYy5sZW5ndGgmJihkLmJsdXIoKS5hdHRyKCJ0YWJpbmRleCIsIi0xIiksYy5hZGRDbGFzcygidWktYnRuLWRvd24tIitiLm9wdGlvbnMudGhlbWUpLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCkpLGZhbHNlO2Nhc2UgNDA6cmV0dXJuIGM9ZS5uZXh0KCksYy5pcygiLnVpLWxpLWRpdmlkZXIiKSYmKGM9Yy5uZXh0KCkpLGMubGVuZ3RoJiYoZC5ibHVyKCkuYXR0cigidGFiaW5kZXgiLCItMSIpLGMuYWRkQ2xhc3MoInVpLWJ0bi1kb3duLSIrYi5vcHRpb25zLnRoZW1lKS5maW5kKCJhIikuZmlyc3QoKS5mb2N1cygpKSxmYWxzZTtjYXNlIDEzOmNhc2UgMzI6cmV0dXJuIGQudHJpZ2dlcigiY2xpY2siKSxmYWxzZX19KTtjLm1lbnVQYWdlLmJpbmQoInBhZ2VoaWRlIixmdW5jdGlvbigpe2MubGlzdC5hcHBlbmRUbyhjLmxpc3Rib3gpO2MuX2ZvY3VzQnV0dG9uKCk7YS5tb2JpbGUuX2JpbmRQYWdlUmVtb3ZlLmNhbGwoYy50aGlzUGFnZSl9KTsKYy5zY3JlZW4uYmluZCgidmNsaWNrIixmdW5jdGlvbigpe2MuY2xvc2UoKX0pO2MuaXNNdWx0aXBsZSYmYy5oZWFkZXJDbG9zZS5jbGljayhmdW5jdGlvbigpe2lmKGMubWVudVR5cGU9PSJvdmVybGF5IilyZXR1cm4gYy5jbG9zZSgpLGZhbHNlfSk7Yy50aGlzUGFnZS5hZGREZXBlbmRlbnRzKHRoaXMubWVudVBhZ2UpfSxfaXNSZWJ1aWxkUmVxdWlyZWQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxpc3QuZmluZCgibGkiKTtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLnRleHQoKSE9PWEudGV4dCgpfSxzZWxlY3RlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RPcHRpb25zKCkuZmlsdGVyKCI6c2VsZWN0ZWQ6bm90KDpqcW1EYXRhKHBsYWNlaG9sZGVyPSd0cnVlJykpIil9LHJlZnJlc2g6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxkOyhifHx0aGlzLl9pc1JlYnVpbGRSZXF1aXJlZCgpKSYmYy5fYnVpbGRMaXN0KCk7ZD10aGlzLnNlbGVjdGVkSW5kaWNlcygpO2Muc2V0QnV0dG9uVGV4dCgpOwpjLnNldEJ1dHRvbkNvdW50KCk7Yy5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuYXR0cigiYXJpYS1zZWxlY3RlZCIsZmFsc2UpLmVhY2goZnVuY3Rpb24oYil7YS5pbkFycmF5KGIsZCk+LTEmJihiPWEodGhpcyksYi5hdHRyKCJhcmlhLXNlbGVjdGVkIix0cnVlKSxjLmlzTXVsdGlwbGU/Yi5maW5kKCIudWktaWNvbiIpLnJlbW92ZUNsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9mZiIpLmFkZENsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9uIik6Yi5pcygiLnVpLXNlbGVjdG1lbnUtcGxhY2Vob2xkZXIiKT9iLm5leHQoKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk6Yi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykpfSl9LGNsb3NlOmZ1bmN0aW9uKCl7aWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy5pc09wZW4pdGhpcy5tZW51VHlwZT09InBhZ2UiP2EubW9iaWxlLmJhY2soKToKKHRoaXMuc2NyZWVuLmFkZENsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiksdGhpcy5saXN0Ym94LmFkZENsYXNzKCJ1aS1zZWxlY3RtZW51LWhpZGRlbiIpLnJlbW92ZUF0dHIoInN0eWxlIikucmVtb3ZlQ2xhc3MoImluIiksdGhpcy5saXN0LmFwcGVuZFRvKHRoaXMubGlzdGJveCksdGhpcy5fZm9jdXNCdXR0b24oKSksdGhpcy5pc09wZW49ZmFsc2V9LG9wZW46ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKCl7dmFyIGU9ZC5saXN0LmZpbmQoIi4iK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKyIgYSIpO2UubGVuZ3RoPT09MCYmKGU9ZC5saXN0LmZpbmQoImxpLnVpLWJ0bjpub3QoOmpxbURhdGEocGxhY2Vob2xkZXI9J3RydWUnKSkgYSIpKTtlLmZpcnN0KCkuZm9jdXMoKS5jbG9zZXN0KCJsaSIpLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK2Iub3B0aW9ucy50aGVtZSl9aWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCl7dmFyIGQ9dGhpcyxlPWEocyksZj1kLmxpc3QucGFyZW50KCksZz1mLm91dGVySGVpZ2h0KCksCmY9Zi5vdXRlcldpZHRoKCk7YSgiLnVpLXBhZ2UtYWN0aXZlIik7dmFyIGg9ZS5zY3JvbGxUb3AoKSxqPWQuYnV0dG9uLm9mZnNldCgpLnRvcCxsPWUuaGVpZ2h0KCksZT1lLndpZHRoKCk7ZC5idXR0b24uYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtkLmJ1dHRvbi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9LDMwMCk7aWYoZz5sLTgwfHwhYS5zdXBwb3J0LnNjcm9sbFRvcCl7ZC5tZW51UGFnZS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKS5wYWdlKCk7ZC5tZW51UGFnZUNvbnRlbnQ9bS5maW5kKCIudWktY29udGVudCIpO2QubWVudVBhZ2VDbG9zZT1tLmZpbmQoIi51aS1oZWFkZXIgYSIpO2QudGhpc1BhZ2UudW5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiKTtpZihoPT0wJiZqPmwpZC50aGlzUGFnZS5vbmUoInBhZ2VoaWRlIixmdW5jdGlvbigpe2EodGhpcykuanFtRGF0YSgibGFzdFNjcm9sbCIsCmopfSk7ZC5tZW51UGFnZS5vbmUoInBhZ2VzaG93IixmdW5jdGlvbigpe2MoKTtkLmlzT3Blbj10cnVlfSkub25lKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXtkLmlzT3Blbj1mYWxzZX0pO2QubWVudVR5cGU9InBhZ2UiO2QubWVudVBhZ2VDb250ZW50LmFwcGVuZChkLmxpc3QpO2QubWVudVBhZ2UuZmluZCgiZGl2IC51aS10aXRsZSIpLnRleHQoZC5sYWJlbC50ZXh0KCkpO2EubW9iaWxlLmNoYW5nZVBhZ2UoZC5tZW51UGFnZSx7dHJhbnNpdGlvbjphLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbn0pfWVsc2V7ZC5tZW51VHlwZT0ib3ZlcmxheSI7ZC5zY3JlZW4uaGVpZ2h0KGEoaykuaGVpZ2h0KCkpLnJlbW92ZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIik7dmFyIG49ai1oLG89aCtsLWoscD1nLzIscT1wYXJzZUZsb2F0KGQubGlzdC5wYXJlbnQoKS5jc3MoIm1heC13aWR0aCIpKSxnPW4+Zy8yJiZvPmcvMj9qK2QuYnV0dG9uLm91dGVySGVpZ2h0KCkvMi1wOm4+bz9oK2wtZy0KMzA6aCszMDtmPHE/aD0oZS1mKS8yOihoPWQuYnV0dG9uLm9mZnNldCgpLmxlZnQrZC5idXR0b24ub3V0ZXJXaWR0aCgpLzItZi8yLGg8MzA/aD0zMDpoK2Y+ZSYmKGg9ZS1mLTMwKSk7ZC5saXN0Ym94LmFwcGVuZChkLmxpc3QpLnJlbW92ZUNsYXNzKCJ1aS1zZWxlY3RtZW51LWhpZGRlbiIpLmNzcyh7dG9wOmcsbGVmdDpofSkuYWRkQ2xhc3MoImluIik7YygpO2QuaXNPcGVuPXRydWV9fX0sX2J1aWxkTGlzdDpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucyxjPXRoaXMucGxhY2Vob2xkZXIsZD10cnVlLGU9dGhpcy5pc011bHRpcGxlPyJjaGVja2JveC1vZmYiOiJmYWxzZSI7dGhpcy5saXN0LmVtcHR5KCkuZmlsdGVyKCIudWktbGlzdHZpZXciKS5saXN0dmlldygiZGVzdHJveSIpO3ZhciBmPXRoaXMuc2VsZWN0LmZpbmQoIm9wdGlvbiIpLGc9Zi5sZW5ndGgsaD10aGlzLnNlbGVjdFswXSxqPSJkYXRhLSIrYS5tb2JpbGUubnMsbD1qKyJvcHRpb24taW5kZXgiLG09aisiaWNvbiIsCm49aisicm9sZSI7ais9InBsYWNlaG9sZGVyIjtmb3IodmFyIG89ay5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscD1mYWxzZSxxLHM9MDtzPGc7cysrLHA9ZmFsc2Upe3ZhciB0PWZbc10scj1hKHQpLHc9dC5wYXJlbnROb2RlLEM9ci50ZXh0KCksST1rLmNyZWF0ZUVsZW1lbnQoImEiKSxMPVtdO0kuc2V0QXR0cmlidXRlKCJocmVmIiwiIyIpO0kuYXBwZW5kQ2hpbGQoay5jcmVhdGVUZXh0Tm9kZShDKSk7dyE9PWgmJncubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJvcHRncm91cCImJih3PXcuZ2V0QXR0cmlidXRlKCJsYWJlbCIpLHchPXEmJihxPWsuY3JlYXRlRWxlbWVudCgibGkiKSxxLnNldEF0dHJpYnV0ZShuLCJsaXN0LWRpdmlkZXIiKSxxLnNldEF0dHJpYnV0ZSgicm9sZSIsIm9wdGlvbiIpLHEuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsIi0xIikscS5hcHBlbmRDaGlsZChrLmNyZWF0ZVRleHROb2RlKHcpKSxvLmFwcGVuZENoaWxkKHEpLHE9dykpO2lmKGQmJighdC5nZXRBdHRyaWJ1dGUoInZhbHVlIil8fApDLmxlbmd0aD09MHx8ci5qcW1EYXRhKCJwbGFjZWhvbGRlciIpKSlpZihkPWZhbHNlLHA9dHJ1ZSx0LnNldEF0dHJpYnV0ZShqLHRydWUpLGIuaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zJiZMLnB1c2goInVpLXNlbGVjdG1lbnUtcGxhY2Vob2xkZXIiKSwhYyljPXRoaXMucGxhY2Vob2xkZXI9QztyPWsuY3JlYXRlRWxlbWVudCgibGkiKTt0LmRpc2FibGVkJiYoTC5wdXNoKCJ1aS1kaXNhYmxlZCIpLHIuc2V0QXR0cmlidXRlKCJhcmlhLWRpc2FibGVkIix0cnVlKSk7ci5zZXRBdHRyaWJ1dGUobCxzKTtyLnNldEF0dHJpYnV0ZShtLGUpO3AmJnIuc2V0QXR0cmlidXRlKGosdHJ1ZSk7ci5jbGFzc05hbWU9TC5qb2luKCIgIik7ci5zZXRBdHRyaWJ1dGUoInJvbGUiLCJvcHRpb24iKTtJLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCItMSIpO3IuYXBwZW5kQ2hpbGQoSSk7by5hcHBlbmRDaGlsZChyKX10aGlzLmxpc3RbMF0uYXBwZW5kQ2hpbGQobyk7IXRoaXMuaXNNdWx0aXBsZSYmIWMubGVuZ3RoPwp0aGlzLmhlYWRlci5oaWRlKCk6dGhpcy5oZWFkZXJUaXRsZS50ZXh0KHRoaXMucGxhY2Vob2xkZXIpO3RoaXMubGlzdC5saXN0dmlldygpfSxfYnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIGEoIjxhPiIse2hyZWY6IiMiLHJvbGU6ImJ1dHRvbiIsaWQ6dGhpcy5idXR0b25JZCwiYXJpYS1oYXNwb3B1cCI6InRydWUiLCJhcmlhLW93bnMiOnRoaXMubWVudUlkfSl9fSl9O2EoaykuYmluZCgic2VsZWN0bWVudWJlZm9yZWNyZWF0ZSIsZnVuY3Rpb24oYil7Yj1hKGIudGFyZ2V0KS5kYXRhKCJzZWxlY3RtZW51Iik7Yi5vcHRpb25zLm5hdGl2ZU1lbnV8fGMoYil9KX0pKGwpOyhmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLmZpeGVkdG9vbGJhciIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt2aXNpYmxlT25QYWdlU2hvdzp0cnVlLGRpc2FibGVQYWdlWm9vbTp0cnVlLHRyYW5zaXRpb246InNsaWRlIixmdWxsc2NyZWVuOmZhbHNlLHRhcFRvZ2dsZTp0cnVlLHRhcFRvZ2dsZUJsYWNrbGlzdDoiYSwgYnV0dG9uLCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZCIsCmhpZGVEdXJpbmdGb2N1czoiaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QiLHVwZGF0ZVBhZ2VQYWRkaW5nOnRydWUsdHJhY2tQZXJzaXN0ZW50VG9vbGJhcnM6dHJ1ZSxzdXBwb3J0QmxhY2tsaXN0OmZ1bmN0aW9uKCl7dmFyIGE9bmF2aWdhdG9yLnVzZXJBZ2VudCxiPW5hdmlnYXRvci5wbGF0Zm9ybSxkPWEubWF0Y2goL0FwcGxlV2ViS2l0XC8oWzAtOV0rKS8pLGQ9ISFkJiZkWzFdLGU9YS5tYXRjaCgvRmVubmVjXC8oWzAtOV0rKS8pLGU9ISFlJiZlWzFdLGY9YS5tYXRjaCgvT3BlcmEgTW9iaVwvKFswLTldKykvKSxnPSEhZiYmZlsxXTtyZXR1cm4oYi5pbmRleE9mKCJpUGhvbmUiKT4tMXx8Yi5pbmRleE9mKCJpUGFkIik+LTF8fGIuaW5kZXhPZigiaVBvZCIpPi0xKSYmZCYmZDw1MzR8fHMub3BlcmFtaW5pJiZ7fS50b1N0cmluZy5jYWxsKHMub3BlcmFtaW5pKT09PSJbb2JqZWN0IE9wZXJhTWluaV0ifHxmJiZnPDc0NTh8fGEuaW5kZXhPZigiQW5kcm9pZCIpPi0xJiZkJiZkPDUzM3x8CmUmJmU8Nnx8InBhbG1HZXRSZXNvdXJjZSJpbiBzJiZkJiZkPDUzNHx8YS5pbmRleE9mKCJNZWVHbyIpPi0xJiZhLmluZGV4T2YoIk5va2lhQnJvd3Nlci84LjUuMCIpPi0xP3RydWU6ZmFsc2V9LGluaXRTZWxlY3RvcjoiOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLGI9dGhpcy5lbGVtZW50LGQ9Yi5pcygiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKT8iaGVhZGVyIjoiZm9vdGVyIixlPWIuY2xvc2VzdCgiLnVpLXBhZ2UiKTthLnN1cHBvcnRCbGFja2xpc3QoKT90aGlzLmRlc3Ryb3koKTooYi5hZGRDbGFzcygidWktIitkKyItZml4ZWQiKSxhLmZ1bGxzY3JlZW4/KGIuYWRkQ2xhc3MoInVpLSIrZCsiLWZ1bGxzY3JlZW4iKSxlLmFkZENsYXNzKCJ1aS1wYWdlLSIrZCsiLWZ1bGxzY3JlZW4iKSk6ZS5hZGRDbGFzcygidWktcGFnZS0iK2QrIi1maXhlZCIpLHRoaXMuX2FkZFRyYW5zaXRpb25DbGFzcygpLHRoaXMuX2JpbmRQYWdlRXZlbnRzKCksCnRoaXMuX2JpbmRUb2dnbGVIYW5kbGVycygpKX0sX2FkZFRyYW5zaXRpb25DbGFzczpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucy50cmFuc2l0aW9uO2EmJmEhPT0ibm9uZSImJihhPT09InNsaWRlIiYmKGE9dGhpcy5lbGVtZW50LmlzKCIudWktaGVhZGVyIik/InNsaWRlZG93biI6InNsaWRldXAiKSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoYSkpfSxfYmluZFBhZ2VFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGI9Yy5vcHRpb25zO2MuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLmJpbmQoInBhZ2ViZWZvcmVzaG93IixmdW5jdGlvbigpe2IuZGlzYWJsZVBhZ2Vab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUodHJ1ZSk7Yi52aXNpYmxlT25QYWdlU2hvd3x8Yy5oaWRlKHRydWUpfSkuYmluZCgid2Via2l0QW5pbWF0aW9uU3RhcnQgYW5pbWF0aW9uc3RhcnQgdXBkYXRlbGF5b3V0IixmdW5jdGlvbigpe2IudXBkYXRlUGFnZVBhZGRpbmcmJmMudXBkYXRlUGFnZVBhZGRpbmcodGhpcyl9KS5iaW5kKCJwYWdlc2hvdyIsCmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcztjLnVwZGF0ZVBhZ2VQYWRkaW5nKGQpO2IudXBkYXRlUGFnZVBhZGRpbmcmJmEocykuYmluZCgidGhyb3R0bGVkcmVzaXplLiIrYy53aWRnZXROYW1lLGZ1bmN0aW9uKCl7Yy51cGRhdGVQYWdlUGFkZGluZyhkKX0pfSkuYmluZCgicGFnZWJlZm9yZWhpZGUiLGZ1bmN0aW9uKGQsZSl7Yi5kaXNhYmxlUGFnZVpvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKHRydWUpO2IudXBkYXRlUGFnZVBhZGRpbmcmJmEocykudW5iaW5kKCJ0aHJvdHRsZWRyZXNpemUuIitjLndpZGdldE5hbWUpO2lmKGIudHJhY2tQZXJzaXN0ZW50VG9vbGJhcnMpe3ZhciBmPWEoIi51aS1mb290ZXItZml4ZWQ6anFtRGF0YShpZCkiLHRoaXMpLGc9YSgiLnVpLWhlYWRlci1maXhlZDpqcW1EYXRhKGlkKSIsdGhpcyksaD1mLmxlbmd0aCYmZS5uZXh0UGFnZSYmYSgiLnVpLWZvb3Rlci1maXhlZDpqcW1EYXRhKGlkPSciK2YuanFtRGF0YSgiaWQiKSsiJykiLGUubmV4dFBhZ2UpLApqPWcubGVuZ3RoJiZlLm5leHRQYWdlJiZhKCIudWktaGVhZGVyLWZpeGVkOmpxbURhdGEoaWQ9JyIrZy5qcW1EYXRhKCJpZCIpKyInKSIsZS5uZXh0UGFnZSksaD1ofHxhKCk7aWYoaC5sZW5ndGh8fGoubGVuZ3RoKWguYWRkKGopLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLGUubmV4dFBhZ2Uub25lKCJwYWdlc2hvdyIsZnVuY3Rpb24oKXtoLmFkZChqKS5hcHBlbmRUbyh0aGlzKX0pfX0pfSxfdmlzaWJsZTp0cnVlLHVwZGF0ZVBhZ2VQYWRkaW5nOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMuZWxlbWVudCxkPWIuaXMoIi51aS1oZWFkZXIiKTt0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbnx8KGM9Y3x8Yi5jbG9zZXN0KCIudWktcGFnZSIpLGEoYykuY3NzKCJwYWRkaW5nLSIrKGQ/InRvcCI6ImJvdHRvbSIpLGIub3V0ZXJIZWlnaHQoKSkpfSxfdXNlVHJhbnNpdGlvbjpmdW5jdGlvbihjKXt2YXIgYj10aGlzLmVsZW1lbnQsZD1hKHMpLnNjcm9sbFRvcCgpLGU9Yi5oZWlnaHQoKSwKZj1iLmNsb3Nlc3QoIi51aS1wYWdlIikuaGVpZ2h0KCksZz1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSxiPWIuaXMoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIik/ImhlYWRlciI6ImZvb3RlciI7cmV0dXJuIWMmJih0aGlzLm9wdGlvbnMudHJhbnNpdGlvbiYmdGhpcy5vcHRpb25zLnRyYW5zaXRpb24hPT0ibm9uZSImJihiPT09ImhlYWRlciImJiF0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbiYmZD5lfHxiPT09ImZvb3RlciImJiF0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbiYmZCtnPGYtZSl8fHRoaXMub3B0aW9ucy5mdWxsc2NyZWVuKX0sc2hvdzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmVsZW1lbnQ7dGhpcy5fdXNlVHJhbnNpdGlvbihhKT9iLnJlbW92ZUNsYXNzKCJvdXQgdWktZml4ZWQtaGlkZGVuIikuYWRkQ2xhc3MoImluIik6Yi5yZW1vdmVDbGFzcygidWktZml4ZWQtaGlkZGVuIik7dGhpcy5fdmlzaWJsZT10cnVlfSxoaWRlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWxlbWVudCwKZD0ib3V0IisodGhpcy5vcHRpb25zLnRyYW5zaXRpb249PT0ic2xpZGUiPyIgcmV2ZXJzZSI6IiIpO3RoaXMuX3VzZVRyYW5zaXRpb24oYSk/Yi5hZGRDbGFzcyhkKS5yZW1vdmVDbGFzcygiaW4iKS5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2IuYWRkQ2xhc3MoInVpLWZpeGVkLWhpZGRlbiIpLnJlbW92ZUNsYXNzKGQpfSk6Yi5hZGRDbGFzcygidWktZml4ZWQtaGlkZGVuIikucmVtb3ZlQ2xhc3MoZCk7dGhpcy5fdmlzaWJsZT1mYWxzZX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dGhpc1t0aGlzLl92aXNpYmxlPyJoaWRlIjoic2hvdyJdKCl9LF9iaW5kVG9nZ2xlSGFuZGxlcnM6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGI9Yy5vcHRpb25zO2MuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLmJpbmQoInZjbGljayIsZnVuY3Rpb24oZCl7Yi50YXBUb2dnbGUmJiFhKGQudGFyZ2V0KS5jbG9zZXN0KGIudGFwVG9nZ2xlQmxhY2tsaXN0KS5sZW5ndGgmJmMudG9nZ2xlKCl9KS5iaW5kKCJmb2N1c2luIGZvY3Vzb3V0IiwKZnVuY3Rpb24oZCl7aWYoc2NyZWVuLndpZHRoPDUwMCYmYShkLnRhcmdldCkuaXMoYi5oaWRlRHVyaW5nRm9jdXMpJiYhYShkLnRhcmdldCkuY2xvc2VzdCgiLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZCIpLmxlbmd0aCljW2QudHlwZT09PSJmb2N1c2luIiYmYy5fdmlzaWJsZT8iaGlkZSI6InNob3ciXSgpfSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQsYj1hLmlzKCIudWktaGVhZGVyIik7YS5jbG9zZXN0KCIudWktcGFnZSIpLmNzcygicGFkZGluZy0iKyhiPyJ0b3AiOiJib3R0b20iKSwiIik7YS5yZW1vdmVDbGFzcygidWktaGVhZGVyLWZpeGVkIHVpLWZvb3Rlci1maXhlZCB1aS1oZWFkZXItZnVsbHNjcmVlbiB1aS1mb290ZXItZnVsbHNjcmVlbiBpbiBvdXQgZmFkZSBzbGlkZWRvd24gc2xpZGV1cCB1aS1maXhlZC1oaWRkZW4iKTthLmNsb3Nlc3QoIi51aS1wYWdlIikucmVtb3ZlQ2xhc3MoInVpLXBhZ2UtaGVhZGVyLWZpeGVkIHVpLXBhZ2UtZm9vdGVyLWZpeGVkIHVpLXBhZ2UtaGVhZGVyLWZ1bGxzY3JlZW4gdWktcGFnZS1mb290ZXItZnVsbHNjcmVlbiIpfX0pOwphKGspLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihjKXthKGMudGFyZ2V0KS5qcW1EYXRhKCJmdWxsc2NyZWVuIikmJmEoYS5tb2JpbGUuZml4ZWR0b29sYmFyLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvcixjLnRhcmdldCkubm90KCI6anFtRGF0YShmdWxsc2NyZWVuKSIpLmpxbURhdGEoImZ1bGxzY3JlZW4iLHRydWUpO2EubW9iaWxlLmZpeGVkdG9vbGJhci5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihjLnRhcmdldCl9KX0pKGwpOyhmdW5jdGlvbihhLGMpe2lmKC9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSl7dmFyIGI9YS5tb2JpbGUuem9vbSxkLGUsZixnLGg7YShjKS5iaW5kKCJvcmllbnRhdGlvbmNoYW5nZS5pb3NvcmllbnRhdGlvbmZpeCIsYi5lbmFibGUpLmJpbmQoImRldmljZW1vdGlvbi5pb3NvcmllbnRhdGlvbmZpeCIsZnVuY3Rpb24oYSl7ZD0KYS5vcmlnaW5hbEV2ZW50O2g9ZC5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5O2U9TWF0aC5hYnMoaC54KTtmPU1hdGguYWJzKGgueSk7Zz1NYXRoLmFicyhoLnopOyFjLm9yaWVudGF0aW9uJiYoZT43fHwoZz42JiZmPDh8fGc8OCYmZj42KSYmZT41KT9iLmVuYWJsZWQmJmIuZGlzYWJsZSgpOmIuZW5hYmxlZHx8Yi5lbmFibGUoKX0pfX0pKGwsdGhpcyk7KGZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24gYigpe3ZhciBiPWEoIi4iK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5maXJzdCgpO2guY3NzKHt0b3A6YS5zdXBwb3J0LnNjcm9sbFRvcCYmZy5zY3JvbGxUb3AoKStnLmhlaWdodCgpLzJ8fGIubGVuZ3RoJiZiLm9mZnNldCgpLnRvcHx8MTAwfSl9ZnVuY3Rpb24gZCgpe3ZhciBjPWgub2Zmc2V0KCksZT1nLnNjcm9sbFRvcCgpLGY9YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCk7aWYoYy50b3A8ZXx8Yy50b3AtZT5mKWguYWRkQ2xhc3MoInVpLWxvYWRlci1mYWtlZml4IiksYigpLApnLnVuYmluZCgic2Nyb2xsIixkKS5iaW5kKCJzY3JvbGwiLGIpfWZ1bmN0aW9uIGUoKXtmLnJlbW92ZUNsYXNzKCJ1aS1tb2JpbGUtcmVuZGVyaW5nIil9dmFyIGY9YSgiaHRtbCIpO2EoImhlYWQiKTt2YXIgZz1hKGMpO2EoYy5kb2N1bWVudCkudHJpZ2dlcigibW9iaWxlaW5pdCIpO2lmKGEubW9iaWxlLmdyYWRlQSgpKXtpZihhLm1vYmlsZS5hamF4QmxhY2tsaXN0KWEubW9iaWxlLmFqYXhFbmFibGVkPWZhbHNlO2YuYWRkQ2xhc3MoInVpLW1vYmlsZSB1aS1tb2JpbGUtcmVuZGVyaW5nIik7c2V0VGltZW91dChlLDVFMyk7dmFyIGg9YSgiPGRpdiBjbGFzcz0ndWktbG9hZGVyJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWxvYWRpbmcnPjwvc3Bhbj48aDE+PC9oMT48L2Rpdj4iKTthLmV4dGVuZChhLm1vYmlsZSx7c2hvd1BhZ2VMb2FkaW5nTXNnOmZ1bmN0aW9uKGIsYyxlKXtmLmFkZENsYXNzKCJ1aS1sb2FkaW5nIik7aWYoYS5tb2JpbGUubG9hZGluZ01lc3NhZ2Upe3ZhciBrPQplfHxhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZVRleHRWaXNpYmxlO2I9Ynx8YS5tb2JpbGUubG9hZGluZ01lc3NhZ2VUaGVtZTtoLmF0dHIoImNsYXNzIiwidWktbG9hZGVyIHVpLWNvcm5lci1hbGwgdWktYm9keS0iKyhifHwiYSIpKyIgdWktbG9hZGVyLSIrKGs/InZlcmJvc2UiOiJkZWZhdWx0IikrKGU/IiB1aS1sb2FkZXItdGV4dG9ubHkiOiIiKSkuZmluZCgiaDEiKS50ZXh0KGN8fGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlKS5lbmQoKS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKTtkKCk7Zy5iaW5kKCJzY3JvbGwiLGQpfX0saGlkZVBhZ2VMb2FkaW5nTXNnOmZ1bmN0aW9uKCl7Zi5yZW1vdmVDbGFzcygidWktbG9hZGluZyIpO2EubW9iaWxlLmxvYWRpbmdNZXNzYWdlJiZoLnJlbW92ZUNsYXNzKCJ1aS1sb2FkZXItZmFrZWZpeCIpO2EoYykudW5iaW5kKCJzY3JvbGwiLGIpO2EoYykudW5iaW5kKCJzY3JvbGwiLGQpfSxpbml0aWFsaXplUGFnZTpmdW5jdGlvbigpe3ZhciBiPQphKCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIik7Yi5sZW5ndGh8fChiPWEoImJvZHkiKS53cmFwSW5uZXIoIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdwYWdlJz48L2Rpdj4iKS5jaGlsZHJlbigwKSk7Yi5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtiLmpxbURhdGEoInVybCIpfHxiLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidXJsIixiLmF0dHIoImlkIil8fGxvY2F0aW9uLnBhdGhuYW1lK2xvY2F0aW9uLnNlYXJjaCl9KTthLm1vYmlsZS5maXJzdFBhZ2U9Yi5maXJzdCgpO2EubW9iaWxlLnBhZ2VDb250YWluZXI9Yi5maXJzdCgpLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1tb2JpbGUtdmlld3BvcnQiKTtnLnRyaWdnZXIoInBhZ2Vjb250YWluZXJjcmVhdGUiKTthLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coKTtlKCk7IWEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkfHwhYS5tb2JpbGUucGF0aC5pc0hhc2hWYWxpZChsb2NhdGlvbi5oYXNoKXx8CiFhKGxvY2F0aW9uLmhhc2grJzpqcW1EYXRhKHJvbGU9InBhZ2UiKScpLmxlbmd0aCYmIWEubW9iaWxlLnBhdGguaXNQYXRoKGxvY2F0aW9uLmhhc2gpP2EubW9iaWxlLmNoYW5nZVBhZ2UoYS5tb2JpbGUuZmlyc3RQYWdlLHt0cmFuc2l0aW9uOiJub25lIixyZXZlcnNlOnRydWUsY2hhbmdlSGFzaDpmYWxzZSxmcm9tSGFzaENoYW5nZTp0cnVlfSk6Zy50cmlnZ2VyKCJoYXNoY2hhbmdlIixbdHJ1ZV0pfX0pO2EubW9iaWxlLm5hdnJlYWR5RGVmZXJyZWQucmVzb2x2ZSgpO2EoZnVuY3Rpb24oKXtjLnNjcm9sbFRvKDAsMSk7YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw9IWEuc3VwcG9ydC5zY3JvbGxUb3B8fGEoYykuc2Nyb2xsVG9wKCk9PT0xPzA6MTthLmZuLmNvbnRyb2xncm91cCYmYShrKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YSgiOmpxbURhdGEocm9sZT0nY29udHJvbGdyb3VwJykiLGIudGFyZ2V0KS5qcW1FbmhhbmNlYWJsZSgpLmNvbnRyb2xncm91cCh7ZXhjbHVkZUludmlzaWJsZTpmYWxzZX0pfSk7CmEubW9iaWxlLmF1dG9Jbml0aWFsaXplUGFnZSYmYS5tb2JpbGUuaW5pdGlhbGl6ZVBhZ2UoKTtnLmxvYWQoYS5tb2JpbGUuc2lsZW50U2Nyb2xsKTthLnN1cHBvcnQuY3NzUG9pbnRlckV2ZW50c3x8YShrKS5kZWxlZ2F0ZSgiLnVpLWRpc2FibGVkIiwidmNsaWNrIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCk7YS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX0pfSl9fSkobCx0aGlzKX0pOwo=",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 06:49:43 GMT",
                    "Content-Length": "95513",
                    "Date": "Fri, 07 Nov 2014 06:49:43 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
{
    "url": "http://localhost:9999/russellmcc/knobjs/knob.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Link manipulation (DOM-based)",
    "issueType": 5246976,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based link manipulation vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this to a navigation target within the current page, such as a clickable link or the submission URL of a form. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will modify the target of links within the response. An attacker may be able to leverage this to perform various attacks, including:<ul><li>Causing the user to redirect to an arbitrary external URL, to facilitate a phishing attack.</li><li>Causing the user to submit sensitive form data to a server controlled by the attacker.</li><li>Causing the user to perform an unintended action within the application, by changing the file or query string associated with a link.</li><li>Bypassing browser anti-XSS defenses by injecting on-site links containing XSS exploits, since browser anti-XSS defenses typically do not operate on on-site links.</li></ul>",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based link manipulation vulnerabilities is not to dynamically set the target URLs of links or forms using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a link target. In general, this is best achieved by using a whitelist of URLs that are permitted link targets, and strictly validating the target against this list before setting the link target.",
    "issueDetail": "The application may be vulnerable to DOM-based link manipulation. Data is read from <b>the 'baseURI' property of a DOM element</b> and written to <b>the 'href' property of a DOM element</b> via the following statement:<ul><li>t.href=document.baseURI,e.head.appendChild(t)</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/russellmcc/knobjs/knob.min.js",
                "path": "/russellmcc/knobjs/knob.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9ydXNzZWxsbWNjL2tub2Jqcy9rbm9iLm1pbi5qcyBIVFRQLzEuMQ0KSG9zdDogbG9jYWxob3N0Ojk5OTkNCg0K",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTU1MDY0DQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBGcmksIDA3IE5vdiAyMDE0IDA4OjA5OjI3IEdNVA0KTGFzdC1Nb2RpZmllZDogRnJpLCAwNyBOb3YgMjAxNCAwODowOToyNyBHTVQNCg0KIWZ1bmN0aW9uKGUpeyJvYmplY3QiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lKCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Lmtub2I9ZSgpOiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbC5rbm9iPWUoKToidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJihzZWxmLmtub2I9ZSgpKX0oZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIil9dmFyIGY9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09ImZ1bmN0aW9uIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewoidW5kZWZpbmVkIj09dHlwZW9mIFdlYWtNYXAmJiFmdW5jdGlvbigpe3ZhciBlPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSx0PURhdGUubm93KCklMWU5LG49ZnVuY3Rpb24oKXt0aGlzLm5hbWU9Il9fc3QiKygxZTkqTWF0aC5yYW5kb20oKT4+PjApKyh0KysgKyJfXyIpfTtuLnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKHQsbil7dmFyIGk9dFt0aGlzLm5hbWVdO2kmJmlbMF09PT10P2lbMV09bjplKHQsdGhpcy5uYW1lLHt2YWx1ZTpbdCxuXSx3cml0YWJsZTohMH0pfSxnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuKHQ9ZVt0aGlzLm5hbWVdKSYmdFswXT09PWU/dFsxXTp2b2lkIDB9LCJkZWxldGUiOmZ1bmN0aW9uKGUpe3RoaXMuc2V0KGUsdm9pZCAwKX19LHdpbmRvdy5XZWFrTWFwPW59KCksZnVuY3Rpb24oZSl7ZT1lfHx7fSxlLmV4dGVybmFsPWUuZXh0ZXJuYWx8fHt9O3ZhciB0PXtzaGFkb3c6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/ZS5zaGFkb3dSb290fHxlLndlYmtpdFNoYWRvd1Jvb3Q6dm9pZCAwfSxjYW5UYXJnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJkJvb2xlYW4oZS5lbGVtZW50RnJvbVBvaW50KX0sdGFyZ2V0aW5nU2hhZG93OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc2hhZG93KGUpO3JldHVybiB0aGlzLmNhblRhcmdldCh0KT90OnZvaWQgMH0sb2xkZXJTaGFkb3c6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vbGRlclNoYWRvd1Jvb3Q7aWYoIXQpe3ZhciBuPWUucXVlcnlTZWxlY3Rvcigic2hhZG93Iik7biYmKHQ9bi5vbGRlclNoYWRvd1Jvb3QpfXJldHVybiB0fSxhbGxTaGFkb3dzOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPXRoaXMuc2hhZG93KGUpO247KXQucHVzaChuKSxuPXRoaXMub2xkZXJTaGFkb3cobik7cmV0dXJuIHR9LHNlYXJjaFJvb3Q6ZnVuY3Rpb24oZSx0LG4pe2lmKGUpe3ZhciBpLHIsbz1lLmVsZW1lbnRGcm9tUG9pbnQodCxuKTtmb3Iocj10aGlzLnRhcmdldGluZ1NoYWRvdyhvKTtyOyl7aWYoaT1yLmVsZW1lbnRGcm9tUG9pbnQodCxuKSl7dmFyIHM9dGhpcy50YXJnZXRpbmdTaGFkb3coaSk7cmV0dXJuIHRoaXMuc2VhcmNoUm9vdChzLHQsbil8fGl9cj10aGlzLm9sZGVyU2hhZG93KHIpfXJldHVybiBvfX0sb3duZXI6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWU7dC5wYXJlbnROb2RlOyl0PXQucGFyZW50Tm9kZTtyZXR1cm4gdC5ub2RlVHlwZSE9Tm9kZS5ET0NVTUVOVF9OT0RFJiZ0Lm5vZGVUeXBlIT1Ob2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUmJih0PWRvY3VtZW50KSx0fSxmaW5kVGFyZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWUuY2xpZW50WCxuPWUuY2xpZW50WSxpPXRoaXMub3duZXIoZS50YXJnZXQpO3JldHVybiBpLmVsZW1lbnRGcm9tUG9pbnQodCxuKXx8KGk9ZG9jdW1lbnQpLHRoaXMuc2VhcmNoUm9vdChpLHQsbil9fTtlLnRhcmdldEZpbmRpbmc9dCxlLmZpbmRUYXJnZXQ9dC5maW5kVGFyZ2V0LmJpbmQodCksd2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbD1lfSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuImJvZHkgXl4gIit0KGUpfWZ1bmN0aW9uIHQoZSl7cmV0dXJuJ1t0b3VjaC1hY3Rpb249IicrZSsnIl0nfWZ1bmN0aW9uIG4oZSl7cmV0dXJuInsgLW1zLXRvdWNoLWFjdGlvbjogIitlKyI7IHRvdWNoLWFjdGlvbjogIitlKyI7IHRvdWNoLWFjdGlvbi1kZWxheTogbm9uZTsgfSJ9dmFyIGk9WyJub25lIiwiYXV0byIsInBhbi14IiwicGFuLXkiLHtydWxlOiJwYW4teCBwYW4teSIsc2VsZWN0b3JzOlsicGFuLXggcGFuLXkiLCJwYW4teSBwYW4teCJdfV0scj0iIjtpLmZvckVhY2goZnVuY3Rpb24oaSl7U3RyaW5nKGkpPT09aT8ocis9dChpKStuKGkpKyJcbiIscis9ZShpKStuKGkpKyJcbiIpOihyKz1pLnNlbGVjdG9ycy5tYXAodCkrbihpLnJ1bGUpKyJcbiIscis9aS5zZWxlY3RvcnMubWFwKGUpK24oaS5ydWxlKSsiXG4iKX0pO3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7by50ZXh0Q29udGVudD1yLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobyl9KCksZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIpe3I9cnx8e307dmFyIG87aWYoci5idXR0b25zfHxpKW89ci5idXR0b25zO2Vsc2Ugc3dpdGNoKHIud2hpY2gpe2Nhc2UgMTpvPTE7YnJlYWs7Y2FzZSAyOm89NDticmVhaztjYXNlIDM6bz0yO2JyZWFrO2RlZmF1bHQ6bz0wfXZhciB1O2lmKG4pdT1uZXcgTW91c2VFdmVudChlLHIpO2Vsc2V7dT1kb2N1bWVudC5jcmVhdGVFdmVudCgiTW91c2VFdmVudCIpO2Zvcih2YXIgYyxsPXt9LGg9MDtoPHMubGVuZ3RoO2grKyljPXNbaF0sbFtjXT1yW2NdfHxhW2hdO3UuaW5pdE1vdXNlRXZlbnQoZSxsLmJ1YmJsZXMsbC5jYW5jZWxhYmxlLGwudmlldyxsLmRldGFpbCxsLnNjcmVlblgsbC5zY3JlZW5ZLGwuY2xpZW50WCxsLmNsaWVudFksbC5jdHJsS2V5LGwuYWx0S2V5LGwuc2hpZnRLZXksbC5tZXRhS2V5LGwuYnV0dG9uLGwucmVsYXRlZFRhcmdldCl9dS5fX3Byb3RvX189dC5wcm90b3R5cGUsaXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHUsImJ1dHRvbnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb30sZW51bWVyYWJsZTohMH0pO3ZhciB2PTA7cmV0dXJuIHY9ci5wcmVzc3VyZT9yLnByZXNzdXJlOm8/LjU6MCxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh1LHtwb2ludGVySWQ6e3ZhbHVlOnIucG9pbnRlcklkfHwwLGVudW1lcmFibGU6ITB9LHdpZHRoOnt2YWx1ZTpyLndpZHRofHwwLGVudW1lcmFibGU6ITB9LGhlaWdodDp7dmFsdWU6ci5oZWlnaHR8fDAsZW51bWVyYWJsZTohMH0scHJlc3N1cmU6e3ZhbHVlOnYsZW51bWVyYWJsZTohMH0sdGlsdFg6e3ZhbHVlOnIudGlsdFh8fDAsZW51bWVyYWJsZTohMH0sdGlsdFk6e3ZhbHVlOnIudGlsdFl8fDAsZW51bWVyYWJsZTohMH0scG9pbnRlclR5cGU6e3ZhbHVlOnIucG9pbnRlclR5cGV8fCIiLGVudW1lcmFibGU6ITB9LGh3VGltZXN0YW1wOnt2YWx1ZTpyLmh3VGltZXN0YW1wfHwwLGVudW1lcmFibGU6ITB9LGlzUHJpbWFyeTp7dmFsdWU6ci5pc1ByaW1hcnl8fCExLGVudW1lcmFibGU6ITB9fSksdX12YXIgbj0hMSxpPSExO3RyeXt2YXIgcj1uZXcgTW91c2VFdmVudCgiY2xpY2siLHtidXR0b25zOjF9KTtuPSEwLGk9MT09PXIuYnV0dG9uc31jYXRjaChvKXt9dmFyIHM9WyJidWJibGVzIiwiY2FuY2VsYWJsZSIsInZpZXciLCJkZXRhaWwiLCJzY3JlZW5YIiwic2NyZWVuWSIsImNsaWVudFgiLCJjbGllbnRZIiwiY3RybEtleSIsImFsdEtleSIsInNoaWZ0S2V5IiwibWV0YUtleSIsImJ1dHRvbiIsInJlbGF0ZWRUYXJnZXQiXSxhPVshMSwhMSxudWxsLG51bGwsMCwwLDAsMCwhMSwhMSwhMSwhMSwwLG51bGxdO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoTW91c2VFdmVudC5wcm90b3R5cGUpLGUuUG9pbnRlckV2ZW50fHwoZS5Qb2ludGVyRXZlbnQ9dCl9KHdpbmRvdyksZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe2lmKG4pe3ZhciBlPW5ldyBNYXA7cmV0dXJuIGUucG9pbnRlcnM9aSxlfXRoaXMua2V5cz1bXSx0aGlzLnZhbHVlcz1bXX12YXIgbj13aW5kb3cuTWFwJiZ3aW5kb3cuTWFwLnByb3RvdHlwZS5mb3JFYWNoLGk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaXplfTt0LnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5rZXlzLmluZGV4T2YoZSk7bj4tMT90aGlzLnZhbHVlc1tuXT10Oih0aGlzLmtleXMucHVzaChlKSx0aGlzLnZhbHVlcy5wdXNoKHQpKX0saGFzOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmtleXMuaW5kZXhPZihlKT4tMX0sImRlbGV0ZSI6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5rZXlzLmluZGV4T2YoZSk7dD4tMSYmKHRoaXMua2V5cy5zcGxpY2UodCwxKSx0aGlzLnZhbHVlcy5zcGxpY2UodCwxKSl9LGdldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmtleXMuaW5kZXhPZihlKTtyZXR1cm4gdGhpcy52YWx1ZXNbdF19LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5rZXlzLmxlbmd0aD0wLHRoaXMudmFsdWVzLmxlbmd0aD0wfSxmb3JFYWNoOmZ1bmN0aW9uKGUsdCl7dGhpcy52YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihuLGkpe2UuY2FsbCh0LG4sdGhpcy5rZXlzW2ldLHRoaXMpfSx0aGlzKX0scG9pbnRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5rZXlzLmxlbmd0aH19LGUuUG9pbnRlck1hcD10fSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihlKXt2YXIgdD1bImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwidmlldyIsImRldGFpbCIsInNjcmVlblgiLCJzY3JlZW5ZIiwiY2xpZW50WCIsImNsaWVudFkiLCJjdHJsS2V5IiwiYWx0S2V5Iiwic2hpZnRLZXkiLCJtZXRhS2V5IiwiYnV0dG9uIiwicmVsYXRlZFRhcmdldCIsImJ1dHRvbnMiLCJwb2ludGVySWQiLCJ3aWR0aCIsImhlaWdodCIsInByZXNzdXJlIiwidGlsdFgiLCJ0aWx0WSIsInBvaW50ZXJUeXBlIiwiaHdUaW1lc3RhbXAiLCJpc1ByaW1hcnkiLCJ0eXBlIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIndoaWNoIl0sbj1bITEsITEsbnVsbCxudWxsLDAsMCwwLDAsITEsITEsITEsITEsMCxudWxsLDAsMCwwLDAsMCwwLDAsIiIsMCwhMSwiIixudWxsLG51bGwsMF0saT0idW5kZWZpbmVkIiE9dHlwZW9mIFNWR0VsZW1lbnRJbnN0YW5jZSxyPXt0YXJnZXRzOm5ldyBXZWFrTWFwLGhhbmRsZWRFdmVudHM6bmV3IFdlYWtNYXAscG9pbnRlcm1hcDpuZXcgZS5Qb2ludGVyTWFwLGV2ZW50TWFwOnt9LGV2ZW50U291cmNlczp7fSxldmVudFNvdXJjZUxpc3Q6W10scmVnaXN0ZXJTb3VyY2U6ZnVuY3Rpb24oZSx0KXt2YXIgbj10LGk9bi5ldmVudHM7aSYmKGkuZm9yRWFjaChmdW5jdGlvbihlKXtuW2VdJiYodGhpcy5ldmVudE1hcFtlXT1uW2VdLmJpbmQobikpfSx0aGlzKSx0aGlzLmV2ZW50U291cmNlc1tlXT1uLHRoaXMuZXZlbnRTb3VyY2VMaXN0LnB1c2gobikpfSxyZWdpc3RlcjpmdW5jdGlvbihlKXtmb3IodmFyIHQsbj10aGlzLmV2ZW50U291cmNlTGlzdC5sZW5ndGgsaT0wO24+aSYmKHQ9dGhpcy5ldmVudFNvdXJjZUxpc3RbaV0pO2krKyl0LnJlZ2lzdGVyLmNhbGwodCxlKX0sdW5yZWdpc3RlcjpmdW5jdGlvbihlKXtmb3IodmFyIHQsbj10aGlzLmV2ZW50U291cmNlTGlzdC5sZW5ndGgsaT0wO24+aSYmKHQ9dGhpcy5ldmVudFNvdXJjZUxpc3RbaV0pO2krKyl0LnVucmVnaXN0ZXIuY2FsbCh0LGUpfSxjb250YWluczplLmV4dGVybmFsLmNvbnRhaW5zfHxmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbnRhaW5zKHQpfSxkb3duOmZ1bmN0aW9uKGUpe2UuYnViYmxlcz0hMCx0aGlzLmZpcmVFdmVudCgicG9pbnRlcmRvd24iLGUpfSxtb3ZlOmZ1bmN0aW9uKGUpe2UuYnViYmxlcz0hMCx0aGlzLmZpcmVFdmVudCgicG9pbnRlcm1vdmUiLGUpfSx1cDpmdW5jdGlvbihlKXtlLmJ1YmJsZXM9ITAsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJ1cCIsZSl9LGVudGVyOmZ1bmN0aW9uKGUpe2UuYnViYmxlcz0hMSx0aGlzLmZpcmVFdmVudCgicG9pbnRlcmVudGVyIixlKX0sbGVhdmU6ZnVuY3Rpb24oZSl7ZS5idWJibGVzPSExLHRoaXMuZmlyZUV2ZW50KCJwb2ludGVybGVhdmUiLGUpfSxvdmVyOmZ1bmN0aW9uKGUpe2UuYnViYmxlcz0hMCx0aGlzLmZpcmVFdmVudCgicG9pbnRlcm92ZXIiLGUpfSxvdXQ6ZnVuY3Rpb24oZSl7ZS5idWJibGVzPSEwLHRoaXMuZmlyZUV2ZW50KCJwb2ludGVyb3V0IixlKX0sY2FuY2VsOmZ1bmN0aW9uKGUpe2UuYnViYmxlcz0hMCx0aGlzLmZpcmVFdmVudCgicG9pbnRlcmNhbmNlbCIsZSl9LGxlYXZlT3V0OmZ1bmN0aW9uKGUpe3RoaXMub3V0KGUpLHRoaXMuY29udGFpbnMoZS50YXJnZXQsZS5yZWxhdGVkVGFyZ2V0KXx8dGhpcy5sZWF2ZShlKX0sZW50ZXJPdmVyOmZ1bmN0aW9uKGUpe3RoaXMub3ZlcihlKSx0aGlzLmNvbnRhaW5zKGUudGFyZ2V0LGUucmVsYXRlZFRhcmdldCl8fHRoaXMuZW50ZXIoZSl9LGV2ZW50SGFuZGxlcjpmdW5jdGlvbihlKXtpZighdGhpcy5oYW5kbGVkRXZlbnRzLmdldChlKSl7dmFyIHQ9ZS50eXBlLG49dGhpcy5ldmVudE1hcCYmdGhpcy5ldmVudE1hcFt0XTtuJiZuKGUpLHRoaXMuaGFuZGxlZEV2ZW50cy5zZXQoZSwhMCl9fSxsaXN0ZW46ZnVuY3Rpb24oZSx0KXt0LmZvckVhY2goZnVuY3Rpb24odCl7dGhpcy5hZGRFdmVudChlLHQpfSx0aGlzKX0sdW5saXN0ZW46ZnVuY3Rpb24oZSx0KXt0LmZvckVhY2goZnVuY3Rpb24odCl7dGhpcy5yZW1vdmVFdmVudChlLHQpfSx0aGlzKX0sYWRkRXZlbnQ6ZS5leHRlcm5hbC5hZGRFdmVudHx8ZnVuY3Rpb24oZSx0KXtlLmFkZEV2ZW50TGlzdGVuZXIodCx0aGlzLmJvdW5kSGFuZGxlcil9LHJlbW92ZUV2ZW50OmUuZXh0ZXJuYWwucmVtb3ZlRXZlbnR8fGZ1bmN0aW9uKGUsdCl7ZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsdGhpcy5ib3VuZEhhbmRsZXIpfSxtYWtlRXZlbnQ6ZnVuY3Rpb24oZSx0KXt0aGlzLmNhcHR1cmVJbmZvJiYodC5yZWxhdGVkVGFyZ2V0PW51bGwpO3ZhciBuPW5ldyBQb2ludGVyRXZlbnQoZSx0KTtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCYmKG4ucHJldmVudERlZmF1bHQ9dC5wcmV2ZW50RGVmYXVsdCksdGhpcy50YXJnZXRzLnNldChuLHRoaXMudGFyZ2V0cy5nZXQodCl8fHQudGFyZ2V0KSxufSxmaXJlRXZlbnQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLm1ha2VFdmVudChlLHQpO3JldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQobil9LGNsb25lRXZlbnQ6ZnVuY3Rpb24oZSl7Zm9yKHZhciByLG89e30scz0wO3M8dC5sZW5ndGg7cysrKXI9dFtzXSxvW3JdPWVbcl18fG5bc10sIWl8fCJ0YXJnZXQiIT09ciYmInJlbGF0ZWRUYXJnZXQiIT09cnx8b1tyXWluc3RhbmNlb2YgU1ZHRWxlbWVudEluc3RhbmNlJiYob1tyXT1vW3JdLmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KTtyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCYmKG8ucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtlLnByZXZlbnREZWZhdWx0KCl9KSxvfSxnZXRUYXJnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2FwdHVyZUluZm8mJnRoaXMuY2FwdHVyZUluZm8uaWQ9PT1lLnBvaW50ZXJJZD90aGlzLmNhcHR1cmVJbmZvLnRhcmdldDp0aGlzLnRhcmdldHMuZ2V0KGUpfSxzZXRDYXB0dXJlOmZ1bmN0aW9uKGUsdCl7dGhpcy5jYXB0dXJlSW5mbyYmdGhpcy5yZWxlYXNlQ2FwdHVyZSh0aGlzLmNhcHR1cmVJbmZvLmlkKSx0aGlzLmNhcHR1cmVJbmZvPXtpZDplLHRhcmdldDp0fTt2YXIgbj1uZXcgUG9pbnRlckV2ZW50KCJnb3Rwb2ludGVyY2FwdHVyZSIse2J1YmJsZXM6ITB9KTt0aGlzLmltcGxpY2l0UmVsZWFzZT10aGlzLnJlbGVhc2VDYXB0dXJlLmJpbmQodGhpcyxlKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVydXAiLHRoaXMuaW1wbGljaXRSZWxlYXNlKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVyY2FuY2VsIix0aGlzLmltcGxpY2l0UmVsZWFzZSksdGhpcy50YXJnZXRzLnNldChuLHQpLHRoaXMuYXN5bmNEaXNwYXRjaEV2ZW50KG4pfSxyZWxlYXNlQ2FwdHVyZTpmdW5jdGlvbihlKXtpZih0aGlzLmNhcHR1cmVJbmZvJiZ0aGlzLmNhcHR1cmVJbmZvLmlkPT09ZSl7dmFyIHQ9bmV3IFBvaW50ZXJFdmVudCgibG9zdHBvaW50ZXJjYXB0dXJlIix7YnViYmxlczohMH0pLG49dGhpcy5jYXB0dXJlSW5mby50YXJnZXQ7dGhpcy5jYXB0dXJlSW5mbz1udWxsLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJ1cCIsdGhpcy5pbXBsaWNpdFJlbGVhc2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJjYW5jZWwiLHRoaXMuaW1wbGljaXRSZWxlYXNlKSx0aGlzLnRhcmdldHMuc2V0KHQsbiksdGhpcy5hc3luY0Rpc3BhdGNoRXZlbnQodCl9fSxkaXNwYXRjaEV2ZW50OmUuZXh0ZXJuYWwuZGlzcGF0Y2hFdmVudHx8ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRUYXJnZXQoZSk7cmV0dXJuIHQ/dC5kaXNwYXRjaEV2ZW50KGUpOnZvaWQgMH0sYXN5bmNEaXNwYXRjaEV2ZW50OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQodGhpcy5kaXNwYXRjaEV2ZW50LmJpbmQodGhpcyxlKSwwKX19O3IuYm91bmRIYW5kbGVyPXIuZXZlbnRIYW5kbGVyLmJpbmQociksZS5kaXNwYXRjaGVyPXIsZS5yZWdpc3Rlcj1yLnJlZ2lzdGVyLmJpbmQociksZS51bnJlZ2lzdGVyPXIudW5yZWdpc3Rlci5iaW5kKHIpfSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCxuLGkpe3RoaXMuYWRkQ2FsbGJhY2s9ZS5iaW5kKGkpLHRoaXMucmVtb3ZlQ2FsbGJhY2s9dC5iaW5kKGkpLHRoaXMuY2hhbmdlZENhbGxiYWNrPW4uYmluZChpKSxzJiYodGhpcy5vYnNlcnZlcj1uZXcgcyh0aGlzLm11dGF0aW9uV2F0Y2hlci5iaW5kKHRoaXMpKSl9dmFyIG49QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKSxpPUFycmF5LnByb3RvdHlwZS5tYXAuY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5tYXApLHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuc2xpY2UpLG89QXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZpbHRlcikscz13aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8d2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsYT0iW3RvdWNoLWFjdGlvbl0iLHU9e3N1YnRyZWU6ITAsY2hpbGRMaXN0OiEwLGF0dHJpYnV0ZXM6ITAsYXR0cmlidXRlT2xkVmFsdWU6ITAsYXR0cmlidXRlRmlsdGVyOlsidG91Y2gtYWN0aW9uIl19O3QucHJvdG90eXBlPXt3YXRjaFN1YnRyZWU6ZnVuY3Rpb24odCl7ZS50YXJnZXRGaW5kaW5nLmNhblRhcmdldCh0KSYmdGhpcy5vYnNlcnZlci5vYnNlcnZlKHQsdSl9LGVuYWJsZU9uU3VidHJlZTpmdW5jdGlvbihlKXt0aGlzLndhdGNoU3VidHJlZShlKSxlPT09ZG9jdW1lbnQmJiJjb21wbGV0ZSIhPT1kb2N1bWVudC5yZWFkeVN0YXRlP3RoaXMuaW5zdGFsbE9uTG9hZCgpOnRoaXMuaW5zdGFsbE5ld1N1YnRyZWUoZSl9LGluc3RhbGxOZXdTdWJ0cmVlOmZ1bmN0aW9uKGUpe24odGhpcy5maW5kRWxlbWVudHMoZSksdGhpcy5hZGRFbGVtZW50LHRoaXMpfSxmaW5kRWxlbWVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucXVlcnlTZWxlY3RvckFsbD9lLnF1ZXJ5U2VsZWN0b3JBbGwoYSk6W119LHJlbW92ZUVsZW1lbnQ6ZnVuY3Rpb24oZSl7dGhpcy5yZW1vdmVDYWxsYmFjayhlKX0sYWRkRWxlbWVudDpmdW5jdGlvbihlKXt0aGlzLmFkZENhbGxiYWNrKGUpfSxlbGVtZW50Q2hhbmdlZDpmdW5jdGlvbihlLHQpe3RoaXMuY2hhbmdlZENhbGxiYWNrKGUsdCl9LGNvbmNhdExpc3RzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KHIodCkpfSxpbnN0YWxsT25Mb2FkOmZ1bmN0aW9uKCl7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsdGhpcy5pbnN0YWxsTmV3U3VidHJlZS5iaW5kKHRoaXMsZG9jdW1lbnQpKX0saXNFbGVtZW50OmZ1bmN0aW9uKGUpe3JldHVybiBlLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREV9LGZsYXR0ZW5NdXRhdGlvblRyZWU6ZnVuY3Rpb24oZSl7dmFyIHQ9aShlLHRoaXMuZmluZEVsZW1lbnRzLHRoaXMpO3JldHVybiB0LnB1c2gobyhlLHRoaXMuaXNFbGVtZW50KSksdC5yZWR1Y2UodGhpcy5jb25jYXRMaXN0cyxbXSl9LG11dGF0aW9uV2F0Y2hlcjpmdW5jdGlvbihlKXtlLmZvckVhY2godGhpcy5tdXRhdGlvbkhhbmRsZXIsdGhpcyl9LG11dGF0aW9uSGFuZGxlcjpmdW5jdGlvbihlKXtpZigiY2hpbGRMaXN0Ij09PWUudHlwZSl7dmFyIHQ9dGhpcy5mbGF0dGVuTXV0YXRpb25UcmVlKGUuYWRkZWROb2Rlcyk7dC5mb3JFYWNoKHRoaXMuYWRkRWxlbWVudCx0aGlzKTt2YXIgbj10aGlzLmZsYXR0ZW5NdXRhdGlvblRyZWUoZS5yZW1vdmVkTm9kZXMpO24uZm9yRWFjaCh0aGlzLnJlbW92ZUVsZW1lbnQsdGhpcyl9ZWxzZSJhdHRyaWJ1dGVzIj09PWUudHlwZSYmdGhpcy5lbGVtZW50Q2hhbmdlZChlLnRhcmdldCxlLm9sZFZhbHVlKX19LHN8fCh0LnByb3RvdHlwZS53YXRjaFN1YnRyZWU9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlBvaW50ZXJFdmVudHNQb2x5ZmlsbDogTXV0YXRpb25PYnNlcnZlcnMgbm90IGZvdW5kLCB0b3VjaC1hY3Rpb24gd2lsbCBub3QgYmUgZHluYW1pY2FsbHkgZGV0ZWN0ZWQiKX0pLGUuSW5zdGFsbGVyPXR9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLGZ1bmN0aW9uKGUpe3ZhciB0PWUuZGlzcGF0Y2hlcixuPXQucG9pbnRlcm1hcCxpPTI1LHI9e1BPSU5URVJfSUQ6MSxQT0lOVEVSX1RZUEU6Im1vdXNlIixldmVudHM6WyJtb3VzZWRvd24iLCJtb3VzZW1vdmUiLCJtb3VzZXVwIiwibW91c2VvdmVyIiwibW91c2VvdXQiXSxyZWdpc3RlcjpmdW5jdGlvbihlKXt0Lmxpc3RlbihlLHRoaXMuZXZlbnRzKX0sdW5yZWdpc3RlcjpmdW5jdGlvbihlKXt0LnVubGlzdGVuKGUsdGhpcy5ldmVudHMpfSxsYXN0VG91Y2hlczpbXSxpc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPXRoaXMubGFzdFRvdWNoZXMscj1lLmNsaWVudFgsbz1lLmNsaWVudFkscz0wLGE9bi5sZW5ndGg7YT5zJiYodD1uW3NdKTtzKyspe3ZhciB1PU1hdGguYWJzKHItdC54KSxjPU1hdGguYWJzKG8tdC55KTtpZihpPj11JiZpPj1jKXJldHVybiEwfX0scHJlcGFyZUV2ZW50OmZ1bmN0aW9uKGUpe3ZhciBuPXQuY2xvbmVFdmVudChlKSxpPW4ucHJldmVudERlZmF1bHQ7cmV0dXJuIG4ucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtlLnByZXZlbnREZWZhdWx0KCksaSgpfSxuLnBvaW50ZXJJZD10aGlzLlBPSU5URVJfSUQsbi5pc1ByaW1hcnk9ITAsbi5wb2ludGVyVHlwZT10aGlzLlBPSU5URVJfVFlQRSxufSxtb3VzZWRvd246ZnVuY3Rpb24oZSl7aWYoIXRoaXMuaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaChlKSl7dmFyIGk9bi5oYXModGhpcy5QT0lOVEVSX0lEKTtpJiZ0aGlzLmNhbmNlbChlKTt2YXIgcj10aGlzLnByZXBhcmVFdmVudChlKTtuLnNldCh0aGlzLlBPSU5URVJfSUQsZSksdC5kb3duKHIpfX0sbW91c2Vtb3ZlOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLmlzRXZlbnRTaW11bGF0ZWRGcm9tVG91Y2goZSkpe3ZhciBuPXRoaXMucHJlcGFyZUV2ZW50KGUpO3QubW92ZShuKX19LG1vdXNldXA6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaChlKSl7dmFyIGk9bi5nZXQodGhpcy5QT0lOVEVSX0lEKTtpZihpJiZpLmJ1dHRvbj09PWUuYnV0dG9uKXt2YXIgcj10aGlzLnByZXBhcmVFdmVudChlKTt0LnVwKHIpLHRoaXMuY2xlYW51cE1vdXNlKCl9fX0sbW91c2VvdmVyOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLmlzRXZlbnRTaW11bGF0ZWRGcm9tVG91Y2goZSkpe3ZhciBuPXRoaXMucHJlcGFyZUV2ZW50KGUpO3QuZW50ZXJPdmVyKG4pfX0sbW91c2VvdXQ6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaChlKSl7dmFyIG49dGhpcy5wcmVwYXJlRXZlbnQoZSk7dC5sZWF2ZU91dChuKX19LGNhbmNlbDpmdW5jdGlvbihlKXt2YXIgbj10aGlzLnByZXBhcmVFdmVudChlKTt0LmNhbmNlbChuKSx0aGlzLmNsZWFudXBNb3VzZSgpfSxjbGVhbnVwTW91c2U6ZnVuY3Rpb24oKXtuWyJkZWxldGUiXSh0aGlzLlBPSU5URVJfSUQpfX07ZS5tb3VzZUV2ZW50cz1yfSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihlKXt2YXIgdCxuPWUuZGlzcGF0Y2hlcixpPWUuZmluZFRhcmdldCxyPWUudGFyZ2V0RmluZGluZy5hbGxTaGFkb3dzLmJpbmQoZS50YXJnZXRGaW5kaW5nKSxvPW4ucG9pbnRlcm1hcCxzPUFycmF5LnByb3RvdHlwZS5tYXAuY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5tYXApLGE9MjUwMCx1PTIwMCxjPSJ0b3VjaC1hY3Rpb24iLGw9ITEsaD17c2Nyb2xsVHlwZTpuZXcgV2Vha01hcCxldmVudHM6WyJ0b3VjaHN0YXJ0IiwidG91Y2htb3ZlIiwidG91Y2hlbmQiLCJ0b3VjaGNhbmNlbCJdLHJlZ2lzdGVyOmZ1bmN0aW9uKGUpe2w/bi5saXN0ZW4oZSx0aGlzLmV2ZW50cyk6dC5lbmFibGVPblN1YnRyZWUoZSl9LHVucmVnaXN0ZXI6ZnVuY3Rpb24oZSl7bCYmbi51bmxpc3RlbihlLHRoaXMuZXZlbnRzKX0sZWxlbWVudEFkZGVkOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0QXR0cmlidXRlKGMpLGk9dGhpcy50b3VjaEFjdGlvblRvU2Nyb2xsVHlwZSh0KTtpJiYodGhpcy5zY3JvbGxUeXBlLnNldChlLGkpLG4ubGlzdGVuKGUsdGhpcy5ldmVudHMpLHIoZSkuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLnNjcm9sbFR5cGUuc2V0KGUsaSksbi5saXN0ZW4oZSx0aGlzLmV2ZW50cyl9LHRoaXMpKX0sZWxlbWVudFJlbW92ZWQ6ZnVuY3Rpb24oZSl7dGhpcy5zY3JvbGxUeXBlWyJkZWxldGUiXShlKSxuLnVubGlzdGVuKGUsdGhpcy5ldmVudHMpLHIoZSkuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLnNjcm9sbFR5cGVbImRlbGV0ZSJdKGUpLG4udW5saXN0ZW4oZSx0aGlzLmV2ZW50cyl9LHRoaXMpfSxlbGVtZW50Q2hhbmdlZDpmdW5jdGlvbihlLHQpe3ZhciBuPWUuZ2V0QXR0cmlidXRlKGMpLGk9dGhpcy50b3VjaEFjdGlvblRvU2Nyb2xsVHlwZShuKSxvPXRoaXMudG91Y2hBY3Rpb25Ub1Njcm9sbFR5cGUodCk7aSYmbz8odGhpcy5zY3JvbGxUeXBlLnNldChlLGkpLHIoZSkuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLnNjcm9sbFR5cGUuc2V0KGUsaSl9LHRoaXMpKTpvP3RoaXMuZWxlbWVudFJlbW92ZWQoZSk6aSYmdGhpcy5lbGVtZW50QWRkZWQoZSl9LHNjcm9sbFR5cGVzOntFTUlUVEVSOiJub25lIixYU0NST0xMRVI6InBhbi14IixZU0NST0xMRVI6InBhbi15IixTQ1JPTExFUjovXig/OnBhbi14IHBhbi15KXwoPzpwYW4teSBwYW4teCl8YXV0byQvfSx0b3VjaEFjdGlvblRvU2Nyb2xsVHlwZTpmdW5jdGlvbihlKXt2YXIgdD1lLG49dGhpcy5zY3JvbGxUeXBlcztyZXR1cm4ibm9uZSI9PT10PyJub25lIjp0PT09bi5YU0NST0xMRVI/IlgiOnQ9PT1uLllTQ1JPTExFUj8iWSI6bi5TQ1JPTExFUi5leGVjKHQpPyJYWSI6dm9pZCAwfSxQT0lOVEVSX1RZUEU6InRvdWNoIixmaXJzdFRvdWNoOm51bGwsaXNQcmltYXJ5VG91Y2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZmlyc3RUb3VjaD09PWUuaWRlbnRpZmllcn0sc2V0UHJpbWFyeVRvdWNoOmZ1bmN0aW9uKGUpeygwPT09by5wb2ludGVycygpfHwxPT09by5wb2ludGVycygpJiZvLmhhcygxKSkmJih0aGlzLmZpcnN0VG91Y2g9ZS5pZGVudGlmaWVyLHRoaXMuZmlyc3RYWT17WDplLmNsaWVudFgsWTplLmNsaWVudFl9LHRoaXMuc2Nyb2xsaW5nPSExLHRoaXMuY2FuY2VsUmVzZXRDbGlja0NvdW50KCkpfSxyZW1vdmVQcmltYXJ5UG9pbnRlcjpmdW5jdGlvbihlKXtlLmlzUHJpbWFyeSYmKHRoaXMuZmlyc3RUb3VjaD1udWxsLHRoaXMuZmlyc3RYWT1udWxsLHRoaXMucmVzZXRDbGlja0NvdW50KCkpfSxjbGlja0NvdW50OjAscmVzZXRJZDpudWxsLHJlc2V0Q2xpY2tDb3VudDpmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKCl7dGhpcy5jbGlja0NvdW50PTAsdGhpcy5yZXNldElkPW51bGx9LmJpbmQodGhpcyk7dGhpcy5yZXNldElkPXNldFRpbWVvdXQoZSx1KX0sY2FuY2VsUmVzZXRDbGlja0NvdW50OmZ1bmN0aW9uKCl7dGhpcy5yZXNldElkJiZjbGVhclRpbWVvdXQodGhpcy5yZXNldElkKX0sdG91Y2hUb1BvaW50ZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9bi5jbG9uZUV2ZW50KGUpO3JldHVybiB0LnBvaW50ZXJJZD1lLmlkZW50aWZpZXIrMix0LnRhcmdldD1pKHQpLHQuYnViYmxlcz0hMCx0LmNhbmNlbGFibGU9ITAsdC5kZXRhaWw9dGhpcy5jbGlja0NvdW50LHQuYnV0dG9uPTAsdC5idXR0b25zPTEsdC53aWR0aD1lLndlYmtpdFJhZGl1c1h8fGUucmFkaXVzWHx8MCx0LmhlaWdodD1lLndlYmtpdFJhZGl1c1l8fGUucmFkaXVzWXx8MCx0LnByZXNzdXJlPWUud2Via2l0Rm9yY2V8fGUuZm9yY2V8fC41LHQuaXNQcmltYXJ5PXRoaXMuaXNQcmltYXJ5VG91Y2goZSksdC5wb2ludGVyVHlwZT10aGlzLlBPSU5URVJfVFlQRSx0fSxwcm9jZXNzVG91Y2hlczpmdW5jdGlvbihlLHQpe3ZhciBuPWUuY2hhbmdlZFRvdWNoZXMsaT1zKG4sdGhpcy50b3VjaFRvUG9pbnRlcix0aGlzKTtpLmZvckVhY2goZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMuc2Nyb2xsaW5nPSExLHRoaXMuZmlyc3RYWT1udWxsLGUucHJldmVudERlZmF1bHQoKX19LHRoaXMpLGkuZm9yRWFjaCh0LHRoaXMpfSxzaG91bGRTY3JvbGw6ZnVuY3Rpb24oZSl7aWYodGhpcy5maXJzdFhZKXt2YXIgdCxuPXRoaXMuc2Nyb2xsVHlwZS5nZXQoZS5jdXJyZW50VGFyZ2V0KTtpZigibm9uZSI9PT1uKXQ9ITE7ZWxzZSBpZigiWFkiPT09bil0PSEwO2Vsc2V7dmFyIGk9ZS5jaGFuZ2VkVG91Y2hlc1swXSxyPW4sbz0iWSI9PT1uPyJYIjoiWSIscz1NYXRoLmFicyhpWyJjbGllbnQiK3JdLXRoaXMuZmlyc3RYWVtyXSksYT1NYXRoLmFicyhpWyJjbGllbnQiK29dLXRoaXMuZmlyc3RYWVtvXSk7dD1zPj1hfXJldHVybiB0aGlzLmZpcnN0WFk9bnVsbCx0fX0sZmluZFRvdWNoOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLGk9MCxyPWUubGVuZ3RoO3I+aSYmKG49ZVtpXSk7aSsrKWlmKG4uaWRlbnRpZmllcj09PXQpcmV0dXJuITB9LHZhY3V1bVRvdWNoZXM6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50b3VjaGVzO2lmKG8ucG9pbnRlcnMoKT49dC5sZW5ndGgpe3ZhciBuPVtdO28uZm9yRWFjaChmdW5jdGlvbihlLGkpe2lmKDEhPT1pJiYhdGhpcy5maW5kVG91Y2godCxpLTIpKXt2YXIgcj1lLm91dDtuLnB1c2godGhpcy50b3VjaFRvUG9pbnRlcihyKSl9fSx0aGlzKSxuLmZvckVhY2godGhpcy5jYW5jZWxPdXQsdGhpcyl9fSx0b3VjaHN0YXJ0OmZ1bmN0aW9uKGUpe3RoaXMudmFjdXVtVG91Y2hlcyhlKSx0aGlzLnNldFByaW1hcnlUb3VjaChlLmNoYW5nZWRUb3VjaGVzWzBdKSx0aGlzLmRlZHVwU3ludGhNb3VzZShlKSx0aGlzLnNjcm9sbGluZ3x8KHRoaXMuY2xpY2tDb3VudCsrLHRoaXMucHJvY2Vzc1RvdWNoZXMoZSx0aGlzLm92ZXJEb3duKSl9LG92ZXJEb3duOmZ1bmN0aW9uKGUpe28uc2V0KGUucG9pbnRlcklkLHt0YXJnZXQ6ZS50YXJnZXQsb3V0OmUsb3V0VGFyZ2V0OmUudGFyZ2V0fSksbi5vdmVyKGUpLG4uZW50ZXIoZSksbi5kb3duKGUpfSx0b3VjaG1vdmU6ZnVuY3Rpb24oZSl7dGhpcy5zY3JvbGxpbmd8fCh0aGlzLnNob3VsZFNjcm9sbChlKT8odGhpcy5zY3JvbGxpbmc9ITAsdGhpcy50b3VjaGNhbmNlbChlKSk6KGUucHJldmVudERlZmF1bHQoKSx0aGlzLnByb2Nlc3NUb3VjaGVzKGUsdGhpcy5tb3ZlT3Zlck91dCkpKX0sbW92ZU92ZXJPdXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZSxpPW8uZ2V0KHQucG9pbnRlcklkKTtpZihpKXt2YXIgcj1pLm91dCxzPWkub3V0VGFyZ2V0O24ubW92ZSh0KSxyJiZzIT09dC50YXJnZXQmJihyLnJlbGF0ZWRUYXJnZXQ9dC50YXJnZXQsdC5yZWxhdGVkVGFyZ2V0PXMsci50YXJnZXQ9cyx0LnRhcmdldD8obi5sZWF2ZU91dChyKSxuLmVudGVyT3Zlcih0KSk6KHQudGFyZ2V0PXMsdC5yZWxhdGVkVGFyZ2V0PW51bGwsdGhpcy5jYW5jZWxPdXQodCkpKSxpLm91dD10LGkub3V0VGFyZ2V0PXQudGFyZ2V0fX0sdG91Y2hlbmQ6ZnVuY3Rpb24oZSl7dGhpcy5kZWR1cFN5bnRoTW91c2UoZSksdGhpcy5wcm9jZXNzVG91Y2hlcyhlLHRoaXMudXBPdXQpfSx1cE91dDpmdW5jdGlvbihlKXt0aGlzLnNjcm9sbGluZ3x8KG4udXAoZSksbi5vdXQoZSksbi5sZWF2ZShlKSksdGhpcy5jbGVhblVwUG9pbnRlcihlKX0sdG91Y2hjYW5jZWw6ZnVuY3Rpb24oZSl7dGhpcy5wcm9jZXNzVG91Y2hlcyhlLHRoaXMuY2FuY2VsT3V0KX0sY2FuY2VsT3V0OmZ1bmN0aW9uKGUpe24uY2FuY2VsKGUpLG4ub3V0KGUpLG4ubGVhdmUoZSksdGhpcy5jbGVhblVwUG9pbnRlcihlKX0sY2xlYW5VcFBvaW50ZXI6ZnVuY3Rpb24oZSl7b1siZGVsZXRlIl0oZS5wb2ludGVySWQpLHRoaXMucmVtb3ZlUHJpbWFyeVBvaW50ZXIoZSl9LGRlZHVwU3ludGhNb3VzZTpmdW5jdGlvbih0KXt2YXIgbj1lLm1vdXNlRXZlbnRzLmxhc3RUb3VjaGVzLGk9dC5jaGFuZ2VkVG91Y2hlc1swXTtpZih0aGlzLmlzUHJpbWFyeVRvdWNoKGkpKXt2YXIgcj17eDppLmNsaWVudFgseTppLmNsaWVudFl9O24ucHVzaChyKTt2YXIgbz1mdW5jdGlvbihlLHQpe3ZhciBuPWUuaW5kZXhPZih0KTtuPi0xJiZlLnNwbGljZShuLDEpfS5iaW5kKG51bGwsbixyKTtzZXRUaW1lb3V0KG8sYSl9fX07bHx8KHQ9bmV3IGUuSW5zdGFsbGVyKGguZWxlbWVudEFkZGVkLGguZWxlbWVudFJlbW92ZWQsaC5lbGVtZW50Q2hhbmdlZCxoKSksZS50b3VjaEV2ZW50cz1ofSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihlKXt2YXIgdD1lLmRpc3BhdGNoZXIsbj10LnBvaW50ZXJtYXAsaT13aW5kb3cuTVNQb2ludGVyRXZlbnQmJiJudW1iZXIiPT10eXBlb2Ygd2luZG93Lk1TUG9pbnRlckV2ZW50Lk1TUE9JTlRFUl9UWVBFX01PVVNFLHI9e2V2ZW50czpbIk1TUG9pbnRlckRvd24iLCJNU1BvaW50ZXJNb3ZlIiwiTVNQb2ludGVyVXAiLCJNU1BvaW50ZXJPdXQiLCJNU1BvaW50ZXJPdmVyIiwiTVNQb2ludGVyQ2FuY2VsIiwiTVNHb3RQb2ludGVyQ2FwdHVyZSIsIk1TTG9zdFBvaW50ZXJDYXB0dXJlIl0scmVnaXN0ZXI6ZnVuY3Rpb24oZSl7dC5saXN0ZW4oZSx0aGlzLmV2ZW50cyl9LHVucmVnaXN0ZXI6ZnVuY3Rpb24oZSl7dC51bmxpc3RlbihlLHRoaXMuZXZlbnRzKX0sUE9JTlRFUl9UWVBFUzpbIiIsInVuYXZhaWxhYmxlIiwidG91Y2giLCJwZW4iLCJtb3VzZSJdLHByZXBhcmVFdmVudDpmdW5jdGlvbihlKXt2YXIgbj1lO3JldHVybiBpJiYobj10LmNsb25lRXZlbnQoZSksbi5wb2ludGVyVHlwZT10aGlzLlBPSU5URVJfVFlQRVNbZS5wb2ludGVyVHlwZV0pLG59LGNsZWFudXA6ZnVuY3Rpb24oZSl7blsiZGVsZXRlIl0oZSl9LE1TUG9pbnRlckRvd246ZnVuY3Rpb24oZSl7bi5zZXQoZS5wb2ludGVySWQsZSk7dmFyIGk9dGhpcy5wcmVwYXJlRXZlbnQoZSk7dC5kb3duKGkpfSxNU1BvaW50ZXJNb3ZlOmZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMucHJlcGFyZUV2ZW50KGUpO3QubW92ZShuKX0sTVNQb2ludGVyVXA6ZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5wcmVwYXJlRXZlbnQoZSk7dC51cChuKSx0aGlzLmNsZWFudXAoZS5wb2ludGVySWQpfSxNU1BvaW50ZXJPdXQ6ZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5wcmVwYXJlRXZlbnQoZSk7dC5sZWF2ZU91dChuKX0sTVNQb2ludGVyT3ZlcjpmdW5jdGlvbihlKXt2YXIgbj10aGlzLnByZXBhcmVFdmVudChlKTt0LmVudGVyT3ZlcihuKX0sTVNQb2ludGVyQ2FuY2VsOmZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMucHJlcGFyZUV2ZW50KGUpO3QuY2FuY2VsKG4pLHRoaXMuY2xlYW51cChlLnBvaW50ZXJJZCl9LE1TTG9zdFBvaW50ZXJDYXB0dXJlOmZ1bmN0aW9uKGUpe3ZhciBuPXQubWFrZUV2ZW50KCJsb3N0cG9pbnRlcmNhcHR1cmUiLGUpO3QuZGlzcGF0Y2hFdmVudChuKX0sTVNHb3RQb2ludGVyQ2FwdHVyZTpmdW5jdGlvbihlKXt2YXIgbj10Lm1ha2VFdmVudCgiZ290cG9pbnRlcmNhcHR1cmUiLGUpO3QuZGlzcGF0Y2hFdmVudChuKX19O2UubXNFdmVudHM9cn0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kaXNwYXRjaGVyO2lmKHZvaWQgMD09PXdpbmRvdy5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQpe2lmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cubmF2aWdhdG9yLCJwb2ludGVyRW5hYmxlZCIse3ZhbHVlOiEwLGVudW1lcmFibGU6ITB9KSx3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpe3ZhciBuPXdpbmRvdy5uYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cztPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93Lm5hdmlnYXRvciwibWF4VG91Y2hQb2ludHMiLHt2YWx1ZTpuLGVudW1lcmFibGU6ITB9KSx0LnJlZ2lzdGVyU291cmNlKCJtcyIsZS5tc0V2ZW50cyl9ZWxzZSB0LnJlZ2lzdGVyU291cmNlKCJtb3VzZSIsZS5tb3VzZUV2ZW50cyksdm9pZCAwIT09d2luZG93Lm9udG91Y2hzdGFydCYmdC5yZWdpc3RlclNvdXJjZSgidG91Y2giLGUudG91Y2hFdmVudHMpO3QucmVnaXN0ZXIoZG9jdW1lbnQpfX0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtpZighci5wb2ludGVybWFwLmhhcyhlKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWRQb2ludGVySWQiKX12YXIgbixpLHI9ZS5kaXNwYXRjaGVyLG89d2luZG93Lm5hdmlnYXRvcjtvLm1zUG9pbnRlckVuYWJsZWQ/KG49ZnVuY3Rpb24oZSl7dChlKSx0aGlzLm1zU2V0UG9pbnRlckNhcHR1cmUoZSl9LGk9ZnVuY3Rpb24oZSl7dChlKSx0aGlzLm1zUmVsZWFzZVBvaW50ZXJDYXB0dXJlKGUpfSk6KG49ZnVuY3Rpb24oZSl7dChlKSxyLnNldENhcHR1cmUoZSx0aGlzKX0saT1mdW5jdGlvbihlKXt0KGUpLHIucmVsZWFzZUNhcHR1cmUoZSx0aGlzKX0pLHdpbmRvdy5FbGVtZW50JiYhRWxlbWVudC5wcm90b3R5cGUuc2V0UG9pbnRlckNhcHR1cmUmJk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEVsZW1lbnQucHJvdG90eXBlLHtzZXRQb2ludGVyQ2FwdHVyZTp7dmFsdWU6bn0scmVsZWFzZVBvaW50ZXJDYXB0dXJlOnt2YWx1ZTppfX0pfSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKTsKfSx7fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CnZhciBnbG9iYWw9dHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge307d2luZG93LlBsYXRmb3JtPXdpbmRvdy5QbGF0Zm9ybXx8e30sd2luZG93LmxvZ0ZsYWdzPXdpbmRvdy5sb2dGbGFnc3x8e30sZnVuY3Rpb24oZSl7dmFyIHQ9ZS5mbGFnc3x8e307bG9jYXRpb24uc2VhcmNoLnNsaWNlKDEpLnNwbGl0KCImIikuZm9yRWFjaChmdW5jdGlvbihlKXtlPWUuc3BsaXQoIj0iKSxlWzBdJiYodFtlWzBdXT1lWzFdfHwhMCl9KTt2YXIgbj1kb2N1bWVudC5jdXJyZW50U2NyaXB0fHxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzY3JpcHRbc3JjKj0icGxhdGZvcm0uanMiXScpO2lmKG4pZm9yKHZhciByLG89bi5hdHRyaWJ1dGVzLGk9MDtpPG8ubGVuZ3RoO2krKylyPW9baV0sInNyYyIhPT1yLm5hbWUmJih0W3IubmFtZV09ci52YWx1ZXx8ITApO3QubG9nJiZ0LmxvZy5zcGxpdCgiLCIpLmZvckVhY2goZnVuY3Rpb24oZSl7d2luZG93LmxvZ0ZsYWdzW2VdPSEwfSksdC5zaGFkb3c9dC5zaGFkb3d8fHQuc2hhZG93ZG9tfHx0LnBvbHlmaWxsLHQuc2hhZG93PSJuYXRpdmUiPT09dC5zaGFkb3c/ITE6dC5zaGFkb3d8fCFIVE1MRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdCx0LnNoYWRvdyYmZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgic2NyaXB0IikubGVuZ3RoPjEmJmNvbnNvbGUubG9nKCJXYXJuaW5nOiBwbGF0Zm9ybS5qcyBpcyBub3QgdGhlIGZpcnN0IHNjcmlwdCBvbiB0aGUgcGFnZS4gU2VlIGh0dHA6Ly93d3cucG9seW1lci1wcm9qZWN0Lm9yZy9kb2NzL3N0YXJ0L3BsYXRmb3JtLmh0bWwjc2V0dXAgZm9yIGRldGFpbHMuIiksdC5yZWdpc3RlciYmKHdpbmRvdy5DdXN0b21FbGVtZW50cz13aW5kb3cuQ3VzdG9tRWxlbWVudHN8fHtmbGFnczp7fX0sd2luZG93LkN1c3RvbUVsZW1lbnRzLmZsYWdzLnJlZ2lzdGVyPXQucmVnaXN0ZXIpLHQuaW1wb3J0cyYmKHdpbmRvdy5IVE1MSW1wb3J0cz13aW5kb3cuSFRNTEltcG9ydHN8fHtmbGFnczp7fX0sd2luZG93LkhUTUxJbXBvcnRzLmZsYWdzLmltcG9ydHM9dC5pbXBvcnRzKSxlLmZsYWdzPXR9KFBsYXRmb3JtKSwidW5kZWZpbmVkIj09dHlwZW9mIFdlYWtNYXAmJiFmdW5jdGlvbigpe3ZhciBlPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSx0PURhdGUubm93KCklMWU5LG49ZnVuY3Rpb24oKXt0aGlzLm5hbWU9Il9fc3QiKygxZTkqTWF0aC5yYW5kb20oKT4+PjApKyh0KysgKyJfXyIpfTtuLnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKHQsbil7dmFyIHI9dFt0aGlzLm5hbWVdO3JldHVybiByJiZyWzBdPT09dD9yWzFdPW46ZSh0LHRoaXMubmFtZSx7dmFsdWU6W3Qsbl0sd3JpdGFibGU6ITB9KSx0aGlzfSxnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuKHQ9ZVt0aGlzLm5hbWVdKSYmdFswXT09PWU/dFsxXTp2b2lkIDB9LCJkZWxldGUiOmZ1bmN0aW9uKGUpe3ZhciB0PWVbdGhpcy5uYW1lXTtpZighdClyZXR1cm4hMTt2YXIgbj10WzBdPT09ZTtyZXR1cm4gdFswXT10WzFdPXZvaWQgMCxufSxoYXM6ZnVuY3Rpb24oZSl7dmFyIHQ9ZVt0aGlzLm5hbWVdO3JldHVybiB0P3RbMF09PT1lOiExfX0sd2luZG93LldlYWtNYXA9bn0oKSxQbGF0Zm9ybS5mbGFncy5zaGFkb3c/KCFmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdCgpe2Z1bmN0aW9uIGUoZSl7dD1lfWlmKCJmdW5jdGlvbiIhPXR5cGVvZiBPYmplY3Qub2JzZXJ2ZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIEFycmF5Lm9ic2VydmUpcmV0dXJuITE7dmFyIHQ9W10sbj17fSxyPVtdO3JldHVybiBPYmplY3Qub2JzZXJ2ZShuLGUpLEFycmF5Lm9ic2VydmUocixlKSxuLmlkPTEsbi5pZD0yLGRlbGV0ZSBuLmlkLHIucHVzaCgxLDIpLHIubGVuZ3RoPTAsT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzKGUpLDUhPT10Lmxlbmd0aD8hMToiYWRkIiE9dFswXS50eXBlfHwidXBkYXRlIiE9dFsxXS50eXBlfHwiZGVsZXRlIiE9dFsyXS50eXBlfHwic3BsaWNlIiE9dFszXS50eXBlfHwic3BsaWNlIiE9dFs0XS50eXBlPyExOihPYmplY3QudW5vYnNlcnZlKG4sZSksQXJyYXkudW5vYnNlcnZlKHIsZSksITApfWZ1bmN0aW9uIG4oKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIGNocm9tZSYmY2hyb21lLmFwcCYmY2hyb21lLmFwcC5ydW50aW1lKXJldHVybiExO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiZuYXZpZ2F0b3IuZ2V0RGV2aWNlU3RvcmFnZSlyZXR1cm4hMTt0cnl7dmFyIGU9bmV3IEZ1bmN0aW9uKCIiLCJyZXR1cm4gdHJ1ZTsiKTtyZXR1cm4gZSgpfWNhdGNoKHQpe3JldHVybiExfX1mdW5jdGlvbiByKGUpe3JldHVybitlPT09ZT4+PjAmJiIiIT09ZX1mdW5jdGlvbiBvKGUpe3JldHVybitlfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGU9PT1PYmplY3QoZSl9ZnVuY3Rpb24gYShlLHQpe3JldHVybiBlPT09dD8wIT09ZXx8MS9lPT09MS90OkIoZSkmJkIodCk/ITA6ZSE9PWUmJnQhPT10fWZ1bmN0aW9uIHMoZSl7aWYodm9pZCAwPT09ZSlyZXR1cm4iZW9mIjt2YXIgdD1lLmNoYXJDb2RlQXQoMCk7c3dpdGNoKHQpe2Nhc2UgOTE6Y2FzZSA5MzpjYXNlIDQ2OmNhc2UgMzQ6Y2FzZSAzOTpjYXNlIDQ4OnJldHVybiBlO2Nhc2UgOTU6Y2FzZSAzNjpyZXR1cm4iaWRlbnQiO2Nhc2UgMzI6Y2FzZSA5OmNhc2UgMTA6Y2FzZSAxMzpjYXNlIDE2MDpjYXNlIDY1Mjc5OmNhc2UgODIzMjpjYXNlIDgyMzM6cmV0dXJuIndzIn1yZXR1cm4gdD49OTcmJjEyMj49dHx8dD49NjUmJjkwPj10PyJpZGVudCI6dD49NDkmJjU3Pj10PyJudW1iZXIiOiJlbHNlIn1mdW5jdGlvbiBjKCl7fWZ1bmN0aW9uIGwoZSl7ZnVuY3Rpb24gdCgpe2lmKCEocD49ZS5sZW5ndGgpKXt2YXIgdD1lW3ArMV07cmV0dXJuImluU2luZ2xlUXVvdGUiPT1oJiYiJyI9PXR8fCJpbkRvdWJsZVF1b3RlIj09aCYmJyInPT10PyhwKysscj10LGYuYXBwZW5kKCksITApOnZvaWQgMH19Zm9yKHZhciBuLHIsbyxpLGEsbCx1LGQ9W10scD0tMSxoPSJiZWZvcmVQYXRoIixmPXtwdXNoOmZ1bmN0aW9uKCl7dm9pZCAwIT09byYmKGQucHVzaChvKSxvPXZvaWQgMCl9LGFwcGVuZDpmdW5jdGlvbigpe3ZvaWQgMD09PW8/bz1yOm8rPXJ9fTtoOylpZihwKyssbj1lW3BdLCJcXCIhPW58fCF0KGgpKXtpZihpPXMobiksdT1ZW2hdLGE9dVtpXXx8dVsiZWxzZSJdfHwiZXJyb3IiLCJlcnJvciI9PWEpcmV0dXJuO2lmKGg9YVswXSxsPWZbYVsxXV18fGMscj12b2lkIDA9PT1hWzJdP246YVsyXSxsKCksImFmdGVyUGF0aCI9PT1oKXJldHVybiBkfX1mdW5jdGlvbiB1KGUpe3JldHVybiBLLnRlc3QoZSl9ZnVuY3Rpb24gZChlLHQpe2lmKHQhPT1YKXRocm93IEVycm9yKCJVc2UgUGF0aC5nZXQgdG8gcmV0cmlldmUgcGF0aCBvYmplY3RzIik7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdGhpcy5wdXNoKFN0cmluZyhlW25dKSk7VSYmdGhpcy5sZW5ndGgmJih0aGlzLmdldFZhbHVlRnJvbT10aGlzLmNvbXBpbGVkR2V0VmFsdWVGcm9tRm4oKSl9ZnVuY3Rpb24gcChlKXtpZihlIGluc3RhbmNlb2YgZClyZXR1cm4gZTtpZigobnVsbD09ZXx8MD09ZS5sZW5ndGgpJiYoZT0iIiksInN0cmluZyIhPXR5cGVvZiBlKXtpZihyKGUubGVuZ3RoKSlyZXR1cm4gbmV3IGQoZSxYKTtlPVN0cmluZyhlKX12YXIgdD0kW2VdO2lmKHQpcmV0dXJuIHQ7dmFyIG49bChlKTtpZighbilyZXR1cm4gUTt2YXIgdD1uZXcgZChuLFgpO3JldHVybiAkW2VdPXQsdH1mdW5jdGlvbiBoKGUpe3JldHVybiByKGUpPyJbIitlKyJdIjonWyInK2UucmVwbGFjZSgvIi9nLCdcXCInKSsnIl0nfWZ1bmN0aW9uIGYodCl7Zm9yKHZhciBuPTA7Sj5uJiZ0LmNoZWNrXygpOyluKys7cmV0dXJuIFcmJihlLmRpcnR5Q2hlY2tDeWNsZUNvdW50PW4pLG4+MH1mdW5jdGlvbiBtKGUpe2Zvcih2YXIgdCBpbiBlKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIG0oZS5hZGRlZCkmJm0oZS5yZW1vdmVkKSYmbShlLmNoYW5nZWQpfWZ1bmN0aW9uIHcoZSx0KXt2YXIgbj17fSxyPXt9LG89e307Zm9yKHZhciBpIGluIHQpe3ZhciBhPWVbaV07KHZvaWQgMD09PWF8fGEhPT10W2ldKSYmKGkgaW4gZT9hIT09dFtpXSYmKG9baV09YSk6cltpXT12b2lkIDApfWZvcih2YXIgaSBpbiBlKWkgaW4gdHx8KG5baV09ZVtpXSk7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoIT09dC5sZW5ndGgmJihvLmxlbmd0aD1lLmxlbmd0aCkse2FkZGVkOm4scmVtb3ZlZDpyLGNoYW5nZWQ6b319ZnVuY3Rpb24gZygpe2lmKCFldC5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBlPTA7ZTxldC5sZW5ndGg7ZSsrKWV0W2VdKCk7cmV0dXJuIGV0Lmxlbmd0aD0wLCEwfWZ1bmN0aW9uIGIoKXtmdW5jdGlvbiBlKGUpe3QmJnQuc3RhdGVfPT09aXQmJiFyJiZ0LmNoZWNrXyhlKX12YXIgdCxuLHI9ITEsbz0hMDtyZXR1cm57b3BlbjpmdW5jdGlvbihuKXtpZih0KXRocm93IEVycm9yKCJPYnNlcnZlZE9iamVjdCBpbiB1c2UiKTtvfHxPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMoZSksdD1uLG89ITF9LG9ic2VydmU6ZnVuY3Rpb24odCxyKXtuPXQscj9BcnJheS5vYnNlcnZlKG4sZSk6T2JqZWN0Lm9ic2VydmUobixlKX0sZGVsaXZlcjpmdW5jdGlvbih0KXtyPXQsT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzKGUpLHI9ITF9LGNsb3NlOmZ1bmN0aW9uKCl7dD12b2lkIDAsT2JqZWN0LnVub2JzZXJ2ZShuLGUpLG50LnB1c2godGhpcyl9fX1mdW5jdGlvbiB5KGUsdCxuKXt2YXIgcj1udC5wb3AoKXx8YigpO3JldHVybiByLm9wZW4oZSksci5vYnNlcnZlKHQsbikscn1mdW5jdGlvbiBfKCl7ZnVuY3Rpb24gZSh0LGkpe3QmJih0PT09ciYmKG9baV09ITApLHMuaW5kZXhPZih0KTwwJiYocy5wdXNoKHQpLE9iamVjdC5vYnNlcnZlKHQsbikpLGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpLGkpKX1mdW5jdGlvbiB0KGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdO2lmKG4ub2JqZWN0IT09cnx8b1tuLm5hbWVdfHwic2V0UHJvdG90eXBlIj09PW4udHlwZSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBuKG4pe2lmKCF0KG4pKXtmb3IodmFyIHIsbz0wO288YS5sZW5ndGg7bysrKXI9YVtvXSxyLnN0YXRlXz09aXQmJnIuaXRlcmF0ZU9iamVjdHNfKGUpO2Zvcih2YXIgbz0wO288YS5sZW5ndGg7bysrKXI9YVtvXSxyLnN0YXRlXz09aXQmJnIuY2hlY2tfKCl9fXZhciByLG8saT0wLGE9W10scz1bXSxjPXtvYmplY3Q6dm9pZCAwLG9iamVjdHM6cyxvcGVuOmZ1bmN0aW9uKHQsbil7cnx8KHI9bixvPXt9KSxhLnB1c2godCksaSsrLHQuaXRlcmF0ZU9iamVjdHNfKGUpfSxjbG9zZTpmdW5jdGlvbigpe2lmKGktLSwhKGk+MCkpe2Zvcih2YXIgZT0wO2U8cy5sZW5ndGg7ZSsrKU9iamVjdC51bm9ic2VydmUoc1tlXSxuKSxTLnVub2JzZXJ2ZWRDb3VudCsrO2EubGVuZ3RoPTAscy5sZW5ndGg9MCxyPXZvaWQgMCxvPXZvaWQgMCxydC5wdXNoKHRoaXMpfX19O3JldHVybiBjfWZ1bmN0aW9uIEUoZSx0KXtyZXR1cm4gWiYmWi5vYmplY3Q9PT10fHwoWj1ydC5wb3AoKXx8XygpLFoub2JqZWN0PXQpLFoub3BlbihlLHQpLFp9ZnVuY3Rpb24gUygpe3RoaXMuc3RhdGVfPW90LHRoaXMuY2FsbGJhY2tfPXZvaWQgMCx0aGlzLnRhcmdldF89dm9pZCAwLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5pZF89Y3QrK31mdW5jdGlvbiBPKGUpe1MuX2FsbE9ic2VydmVyc0NvdW50KyssdXQmJmx0LnB1c2goZSl9ZnVuY3Rpb24gVCgpe1MuX2FsbE9ic2VydmVyc0NvdW50LS19ZnVuY3Rpb24gTShlKXtTLmNhbGwodGhpcyksdGhpcy52YWx1ZV89ZSx0aGlzLm9sZE9iamVjdF89dm9pZCAwfWZ1bmN0aW9uIEMoZSl7aWYoIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgRXJyb3IoIlByb3ZpZGVkIG9iamVjdCBpcyBub3QgYW4gQXJyYXkiKTtNLmNhbGwodGhpcyxlKX1mdW5jdGlvbiBMKGUsdCl7Uy5jYWxsKHRoaXMpLHRoaXMub2JqZWN0Xz1lLHRoaXMucGF0aF89cCh0KSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDB9ZnVuY3Rpb24gTihlKXtTLmNhbGwodGhpcyksdGhpcy5yZXBvcnRDaGFuZ2VzT25PcGVuXz1lLHRoaXMudmFsdWVfPVtdLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCx0aGlzLm9ic2VydmVkXz1bXX1mdW5jdGlvbiBqKGUpe3JldHVybiBlfWZ1bmN0aW9uIEQoZSx0LG4scil7dGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy52YWx1ZV89dm9pZCAwLHRoaXMub2JzZXJ2YWJsZV89ZSx0aGlzLmdldFZhbHVlRm5fPXR8fGosdGhpcy5zZXRWYWx1ZUZuXz1ufHxqLHRoaXMuZG9udFBhc3NUaHJvdWdoU2V0Xz1yfWZ1bmN0aW9uIHgoZSx0LG4pe2Zvcih2YXIgcj17fSxvPXt9LGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIGE9dFtpXTtodFthLnR5cGVdPyhhLm5hbWUgaW4gbnx8KG5bYS5uYW1lXT1hLm9sZFZhbHVlKSwidXBkYXRlIiE9YS50eXBlJiYoImFkZCIhPWEudHlwZT9hLm5hbWUgaW4gcj8oZGVsZXRlIHJbYS5uYW1lXSxkZWxldGUgblthLm5hbWVdKTpvW2EubmFtZV09ITA6YS5uYW1lIGluIG8/ZGVsZXRlIG9bYS5uYW1lXTpyW2EubmFtZV09ITApKTooY29uc29sZS5lcnJvcigiVW5rbm93biBjaGFuZ2VSZWNvcmQgdHlwZTogIithLnR5cGUpLGNvbnNvbGUuZXJyb3IoYSkpfWZvcih2YXIgcyBpbiByKXJbc109ZVtzXTtmb3IodmFyIHMgaW4gbylvW3NdPXZvaWQgMDt2YXIgYz17fTtmb3IodmFyIHMgaW4gbilpZighKHMgaW4gcnx8cyBpbiBvKSl7dmFyIGw9ZVtzXTtuW3NdIT09bCYmKGNbc109bCl9cmV0dXJue2FkZGVkOnIscmVtb3ZlZDpvLGNoYW5nZWQ6Y319ZnVuY3Rpb24gSChlLHQsbil7cmV0dXJue2luZGV4OmUscmVtb3ZlZDp0LGFkZGVkQ291bnQ6bn19ZnVuY3Rpb24gUigpe31mdW5jdGlvbiBQKGUsdCxuLHIsbyxpKXtyZXR1cm4gZ3QuY2FsY1NwbGljZXMoZSx0LG4scixvLGkpfWZ1bmN0aW9uIEkoZSx0LG4scil7cmV0dXJuIG4+dHx8ZT5yPy0xOnQ9PW58fHI9PWU/MDpuPmU/cj50P3QtbjpyLW46dD5yP3ItZTp0LWV9ZnVuY3Rpb24gayhlLHQsbixyKXtmb3IodmFyIG89SCh0LG4sciksaT0hMSxhPTAscz0wO3M8ZS5sZW5ndGg7cysrKXt2YXIgYz1lW3NdO2lmKGMuaW5kZXgrPWEsIWkpe3ZhciBsPUkoby5pbmRleCxvLmluZGV4K28ucmVtb3ZlZC5sZW5ndGgsYy5pbmRleCxjLmluZGV4K2MuYWRkZWRDb3VudCk7aWYobD49MCl7ZS5zcGxpY2UocywxKSxzLS0sYS09Yy5hZGRlZENvdW50LWMucmVtb3ZlZC5sZW5ndGgsby5hZGRlZENvdW50Kz1jLmFkZGVkQ291bnQtbDt2YXIgdT1vLnJlbW92ZWQubGVuZ3RoK2MucmVtb3ZlZC5sZW5ndGgtbDtpZihvLmFkZGVkQ291bnR8fHUpe3ZhciBuPWMucmVtb3ZlZDtpZihvLmluZGV4PGMuaW5kZXgpe3ZhciBkPW8ucmVtb3ZlZC5zbGljZSgwLGMuaW5kZXgtby5pbmRleCk7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoZCxuKSxuPWR9aWYoby5pbmRleCtvLnJlbW92ZWQubGVuZ3RoPmMuaW5kZXgrYy5hZGRlZENvdW50KXt2YXIgcD1vLnJlbW92ZWQuc2xpY2UoYy5pbmRleCtjLmFkZGVkQ291bnQtby5pbmRleCk7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkobixwKX1vLnJlbW92ZWQ9bixjLmluZGV4PG8uaW5kZXgmJihvLmluZGV4PWMuaW5kZXgpfWVsc2UgaT0hMH1lbHNlIGlmKG8uaW5kZXg8Yy5pbmRleCl7aT0hMCxlLnNwbGljZShzLDAsbykscysrO3ZhciBoPW8uYWRkZWRDb3VudC1vLnJlbW92ZWQubGVuZ3RoO2MuaW5kZXgrPWgsYSs9aH19fWl8fGUucHVzaChvKX1mdW5jdGlvbiBBKGUsdCl7Zm9yKHZhciBuPVtdLGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIGE9dFtpXTtzd2l0Y2goYS50eXBlKXtjYXNlInNwbGljZSI6ayhuLGEuaW5kZXgsYS5yZW1vdmVkLnNsaWNlKCksYS5hZGRlZENvdW50KTticmVhaztjYXNlImFkZCI6Y2FzZSJ1cGRhdGUiOmNhc2UiZGVsZXRlIjppZighcihhLm5hbWUpKWNvbnRpbnVlO3ZhciBzPW8oYS5uYW1lKTtpZigwPnMpY29udGludWU7ayhuLHMsW2Eub2xkVmFsdWVdLDEpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcigiVW5leHBlY3RlZCByZWNvcmQgdHlwZTogIitKU09OLnN0cmluZ2lmeShhKSl9fXJldHVybiBufWZ1bmN0aW9uIEYoZSx0KXt2YXIgbj1bXTtyZXR1cm4gQShlLHQpLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIDE9PXQuYWRkZWRDb3VudCYmMT09dC5yZW1vdmVkLmxlbmd0aD92b2lkKHQucmVtb3ZlZFswXSE9PWVbdC5pbmRleF0mJm4ucHVzaCh0KSk6dm9pZChuPW4uY29uY2F0KFAoZSx0LmluZGV4LHQuaW5kZXgrdC5hZGRlZENvdW50LHQucmVtb3ZlZCwwLHQucmVtb3ZlZC5sZW5ndGgpKSl9KSxufXZhciBXPWUudGVzdGluZ0V4cG9zZUN5Y2xlQ291bnQscT10KCksVT1uKCksQj1lLk51bWJlci5pc05hTnx8ZnVuY3Rpb24odCl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiB0JiZlLmlzTmFOKHQpfSxWPSJfX3Byb3RvX18iaW57fT9mdW5jdGlvbihlKXtyZXR1cm4gZX06ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5fX3Byb3RvX187aWYoIXQpcmV0dXJuIGU7dmFyIG49T2JqZWN0LmNyZWF0ZSh0KTtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkuZm9yRWFjaChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkobix0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KSl9KSxufSxHPSJbJF9hLXpBLVpdIix6PSJbJF9hLXpBLVowLTldIixLPW5ldyBSZWdFeHAoIl4iK0crIisiK3orIiokIiksWT17YmVmb3JlUGF0aDp7d3M6WyJiZWZvcmVQYXRoIl0saWRlbnQ6WyJpbklkZW50IiwiYXBwZW5kIl0sIlsiOlsiYmVmb3JlRWxlbWVudCJdLGVvZjpbImFmdGVyUGF0aCJdfSxpblBhdGg6e3dzOlsiaW5QYXRoIl0sIi4iOlsiYmVmb3JlSWRlbnQiXSwiWyI6WyJiZWZvcmVFbGVtZW50Il0sZW9mOlsiYWZ0ZXJQYXRoIl19LGJlZm9yZUlkZW50Ont3czpbImJlZm9yZUlkZW50Il0saWRlbnQ6WyJpbklkZW50IiwiYXBwZW5kIl19LGluSWRlbnQ6e2lkZW50OlsiaW5JZGVudCIsImFwcGVuZCJdLDA6WyJpbklkZW50IiwiYXBwZW5kIl0sbnVtYmVyOlsiaW5JZGVudCIsImFwcGVuZCJdLHdzOlsiaW5QYXRoIiwicHVzaCJdLCIuIjpbImJlZm9yZUlkZW50IiwicHVzaCJdLCJbIjpbImJlZm9yZUVsZW1lbnQiLCJwdXNoIl0sZW9mOlsiYWZ0ZXJQYXRoIiwicHVzaCJdfSxiZWZvcmVFbGVtZW50Ont3czpbImJlZm9yZUVsZW1lbnQiXSwwOlsiYWZ0ZXJaZXJvIiwiYXBwZW5kIl0sbnVtYmVyOlsiaW5JbmRleCIsImFwcGVuZCJdLCInIjpbImluU2luZ2xlUXVvdGUiLCJhcHBlbmQiLCIiXSwnIic6WyJpbkRvdWJsZVF1b3RlIiwiYXBwZW5kIiwiIl19LGFmdGVyWmVybzp7d3M6WyJhZnRlckVsZW1lbnQiLCJwdXNoIl0sIl0iOlsiaW5QYXRoIiwicHVzaCJdfSxpbkluZGV4OnswOlsiaW5JbmRleCIsImFwcGVuZCJdLG51bWJlcjpbImluSW5kZXgiLCJhcHBlbmQiXSx3czpbImFmdGVyRWxlbWVudCJdLCJdIjpbImluUGF0aCIsInB1c2giXX0saW5TaW5nbGVRdW90ZTp7IiciOlsiYWZ0ZXJFbGVtZW50Il0sZW9mOlsiZXJyb3IiXSwiZWxzZSI6WyJpblNpbmdsZVF1b3RlIiwiYXBwZW5kIl19LGluRG91YmxlUXVvdGU6eyciJzpbImFmdGVyRWxlbWVudCJdLGVvZjpbImVycm9yIl0sImVsc2UiOlsiaW5Eb3VibGVRdW90ZSIsImFwcGVuZCJdfSxhZnRlckVsZW1lbnQ6e3dzOlsiYWZ0ZXJFbGVtZW50Il0sIl0iOlsiaW5QYXRoIiwicHVzaCJdfX0sWD17fSwkPXt9O2QuZ2V0PXAsZC5wcm90b3R5cGU9Vih7X19wcm90b19fOltdLHZhbGlkOiEwLHRvU3RyaW5nOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPSIiLHQ9MDt0PHRoaXMubGVuZ3RoO3QrKyl7dmFyIG49dGhpc1t0XTtlKz11KG4pP3Q/Ii4iK246bjpoKG4pfXJldHVybiBlfSxnZXRWYWx1ZUZyb206ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDx0aGlzLmxlbmd0aDt0Kyspe2lmKG51bGw9PWUpcmV0dXJuO2U9ZVt0aGlzW3RdXX1yZXR1cm4gZX0saXRlcmF0ZU9iamVjdHM6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPHRoaXMubGVuZ3RoO24rKyl7aWYobiYmKGU9ZVt0aGlzW24tMV1dKSwhaShlKSlyZXR1cm47dChlLHRoaXNbMF0pfX0sY29tcGlsZWRHZXRWYWx1ZUZyb21GbjpmdW5jdGlvbigpe3ZhciBlPSIiLHQ9Im9iaiI7ZSs9ImlmIChvYmogIT0gbnVsbCI7Zm9yKHZhciBuLHI9MDtyPHRoaXMubGVuZ3RoLTE7cisrKW49dGhpc1tyXSx0Kz11KG4pPyIuIituOmgobiksZSs9IiAmJlxuICAgICAiK3QrIiAhPSBudWxsIjtlKz0iKVxuIjt2YXIgbj10aGlzW3JdO3JldHVybiB0Kz11KG4pPyIuIituOmgobiksZSs9IiAgcmV0dXJuICIrdCsiO1xuZWxzZVxuICByZXR1cm4gdW5kZWZpbmVkOyIsbmV3IEZ1bmN0aW9uKCJvYmoiLGUpfSxzZXRWYWx1ZUZyb206ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0aGlzLmxlbmd0aC0xO24rKyl7aWYoIWkoZSkpcmV0dXJuITE7ZT1lW3RoaXNbbl1dfXJldHVybiBpKGUpPyhlW3RoaXNbbl1dPXQsITApOiExfX0pO3ZhciBRPW5ldyBkKCIiLFgpO1EudmFsaWQ9ITEsUS5nZXRWYWx1ZUZyb209US5zZXRWYWx1ZUZyb209ZnVuY3Rpb24oKXt9O3ZhciBaLEo9MWUzLGV0PVtdLHR0PXE/ZnVuY3Rpb24oKXt2YXIgZT17cGluZ1Bvbmc6ITB9LHQ9ITE7cmV0dXJuIE9iamVjdC5vYnNlcnZlKGUsZnVuY3Rpb24oKXtnKCksdD0hMX0pLGZ1bmN0aW9uKG4pe2V0LnB1c2gobiksdHx8KHQ9ITAsZS5waW5nUG9uZz0hZS5waW5nUG9uZyl9fSgpOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2V0LnB1c2goZSl9fSgpLG50PVtdLHJ0PVtdLG90PTAsaXQ9MSxhdD0yLHN0PTMsY3Q9MTtTLnByb3RvdHlwZT17b3BlbjpmdW5jdGlvbihlLHQpe2lmKHRoaXMuc3RhdGVfIT1vdCl0aHJvdyBFcnJvcigiT2JzZXJ2ZXIgaGFzIGFscmVhZHkgYmVlbiBvcGVuZWQuIik7cmV0dXJuIE8odGhpcyksdGhpcy5jYWxsYmFja189ZSx0aGlzLnRhcmdldF89dCx0aGlzLmNvbm5lY3RfKCksdGhpcy5zdGF0ZV89aXQsdGhpcy52YWx1ZV99LGNsb3NlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZV89PWl0JiYoVCh0aGlzKSx0aGlzLmRpc2Nvbm5lY3RfKCksdGhpcy52YWx1ZV89dm9pZCAwLHRoaXMuY2FsbGJhY2tfPXZvaWQgMCx0aGlzLnRhcmdldF89dm9pZCAwLHRoaXMuc3RhdGVfPWF0KX0sZGVsaXZlcjpmdW5jdGlvbigpe3RoaXMuc3RhdGVfPT1pdCYmZih0aGlzKX0scmVwb3J0XzpmdW5jdGlvbihlKXt0cnl7dGhpcy5jYWxsYmFja18uYXBwbHkodGhpcy50YXJnZXRfLGUpfWNhdGNoKHQpe1MuX2Vycm9yVGhyb3duRHVyaW5nQ2FsbGJhY2s9ITAsY29uc29sZS5lcnJvcigiRXhjZXB0aW9uIGNhdWdodCBkdXJpbmcgb2JzZXJ2ZXIgY2FsbGJhY2s6ICIrKHQuc3RhY2t8fHQpKX19LGRpc2NhcmRDaGFuZ2VzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hlY2tfKHZvaWQgMCwhMCksdGhpcy52YWx1ZV99fTt2YXIgbHQsdXQ9IXE7Uy5fYWxsT2JzZXJ2ZXJzQ291bnQ9MCx1dCYmKGx0PVtdKTt2YXIgZHQ9ITE7ZS5QbGF0Zm9ybT1lLlBsYXRmb3JtfHx7fSxlLlBsYXRmb3JtLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50PWZ1bmN0aW9uKCl7aWYoIWR0JiZ1dCl7ZHQ9ITA7dmFyIHQsbixyPTA7ZG97cisrLG49bHQsbHQ9W10sdD0hMTtmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIGk9bltvXTtpLnN0YXRlXz09aXQmJihpLmNoZWNrXygpJiYodD0hMCksbHQucHVzaChpKSl9ZygpJiYodD0hMCl9d2hpbGUoSj5yJiZ0KTtXJiYoZS5kaXJ0eUNoZWNrQ3ljbGVDb3VudD1yKSxkdD0hMX19LHV0JiYoZS5QbGF0Zm9ybS5jbGVhck9ic2VydmVycz1mdW5jdGlvbigpe2x0PVtdfSksTS5wcm90b3R5cGU9Vih7X19wcm90b19fOlMucHJvdG90eXBlLGFycmF5T2JzZXJ2ZTohMSxjb25uZWN0XzpmdW5jdGlvbigpe3E/dGhpcy5kaXJlY3RPYnNlcnZlcl89eSh0aGlzLHRoaXMudmFsdWVfLHRoaXMuYXJyYXlPYnNlcnZlKTp0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKX0sY29weU9iamVjdDpmdW5jdGlvbihlKXt2YXIgdD1BcnJheS5pc0FycmF5KGUpP1tdOnt9O2Zvcih2YXIgbiBpbiBlKXRbbl09ZVtuXTtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmKHQubGVuZ3RoPWUubGVuZ3RoKSx0fSxjaGVja186ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZihxKXtpZighZSlyZXR1cm4hMTtuPXt9LHQ9eCh0aGlzLnZhbHVlXyxlLG4pfWVsc2Ugbj10aGlzLm9sZE9iamVjdF8sdD13KHRoaXMudmFsdWVfLHRoaXMub2xkT2JqZWN0Xyk7cmV0dXJuIHYodCk/ITE6KHF8fCh0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKSksdGhpcy5yZXBvcnRfKFt0LmFkZGVkfHx7fSx0LnJlbW92ZWR8fHt9LHQuY2hhbmdlZHx8e30sZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV19XSksITApfSxkaXNjb25uZWN0XzpmdW5jdGlvbigpe3E/KHRoaXMuZGlyZWN0T2JzZXJ2ZXJfLmNsb3NlKCksdGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwKTp0aGlzLm9sZE9iamVjdF89dm9pZCAwfSxkZWxpdmVyOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZV89PWl0JiYocT90aGlzLmRpcmVjdE9ic2VydmVyXy5kZWxpdmVyKCExKTpmKHRoaXMpKX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXJlY3RPYnNlcnZlcl8/dGhpcy5kaXJlY3RPYnNlcnZlcl8uZGVsaXZlcighMCk6dGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXyksdGhpcy52YWx1ZV99fSksQy5wcm90b3R5cGU9Vih7X19wcm90b19fOk0ucHJvdG90eXBlLGFycmF5T2JzZXJ2ZTohMCxjb3B5T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiBlLnNsaWNlKCl9LGNoZWNrXzpmdW5jdGlvbihlKXt2YXIgdDtpZihxKXtpZighZSlyZXR1cm4hMTt0PUYodGhpcy52YWx1ZV8sZSl9ZWxzZSB0PVAodGhpcy52YWx1ZV8sMCx0aGlzLnZhbHVlXy5sZW5ndGgsdGhpcy5vbGRPYmplY3RfLDAsdGhpcy5vbGRPYmplY3RfLmxlbmd0aCk7cmV0dXJuIHQmJnQubGVuZ3RoPyhxfHwodGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXykpLHRoaXMucmVwb3J0XyhbdF0pLCEwKTohMX19KSxDLmFwcGx5U3BsaWNlcz1mdW5jdGlvbihlLHQsbil7bi5mb3JFYWNoKGZ1bmN0aW9uKG4pe2Zvcih2YXIgcj1bbi5pbmRleCxuLnJlbW92ZWQubGVuZ3RoXSxvPW4uaW5kZXg7bzxuLmluZGV4K24uYWRkZWRDb3VudDspci5wdXNoKHRbb10pLG8rKztBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KGUscil9KX0sTC5wcm90b3R5cGU9Vih7X19wcm90b19fOlMucHJvdG90eXBlLGdldCBwYXRoKCl7cmV0dXJuIHRoaXMucGF0aF99LGNvbm5lY3RfOmZ1bmN0aW9uKCl7cSYmKHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPUUodGhpcyx0aGlzLm9iamVjdF8pKSx0aGlzLmNoZWNrXyh2b2lkIDAsITApfSxkaXNjb25uZWN0XzpmdW5jdGlvbigpe3RoaXMudmFsdWVfPXZvaWQgMCx0aGlzLmRpcmVjdE9ic2VydmVyXyYmKHRoaXMuZGlyZWN0T2JzZXJ2ZXJfLmNsb3NlKHRoaXMpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCl9LGl0ZXJhdGVPYmplY3RzXzpmdW5jdGlvbihlKXt0aGlzLnBhdGhfLml0ZXJhdGVPYmplY3RzKHRoaXMub2JqZWN0XyxlKX0sY2hlY2tfOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy52YWx1ZV87cmV0dXJuIHRoaXMudmFsdWVfPXRoaXMucGF0aF8uZ2V0VmFsdWVGcm9tKHRoaXMub2JqZWN0XyksdHx8YSh0aGlzLnZhbHVlXyxuKT8hMToodGhpcy5yZXBvcnRfKFt0aGlzLnZhbHVlXyxuLHRoaXNdKSwhMCl9LHNldFZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMucGF0aF8mJnRoaXMucGF0aF8uc2V0VmFsdWVGcm9tKHRoaXMub2JqZWN0XyxlKX19KTt2YXIgcHQ9e307Ti5wcm90b3R5cGU9Vih7X19wcm90b19fOlMucHJvdG90eXBlLGNvbm5lY3RfOmZ1bmN0aW9uKCl7aWYocSl7Zm9yKHZhciBlLHQ9ITEsbj0wO248dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO24rPTIpaWYoZT10aGlzLm9ic2VydmVkX1tuXSxlIT09cHQpe3Q9ITA7YnJlYWt9dCYmKHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPUUodGhpcyxlKSl9dGhpcy5jaGVja18odm9pZCAwLCF0aGlzLnJlcG9ydENoYW5nZXNPbk9wZW5fKX0sZGlzY29ubmVjdF86ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHRoaXMub2JzZXJ2ZWRfLmxlbmd0aDtlKz0yKXRoaXMub2JzZXJ2ZWRfW2VdPT09cHQmJnRoaXMub2JzZXJ2ZWRfW2UrMV0uY2xvc2UoKTt0aGlzLm9ic2VydmVkXy5sZW5ndGg9MCx0aGlzLnZhbHVlXy5sZW5ndGg9MCx0aGlzLmRpcmVjdE9ic2VydmVyXyYmKHRoaXMuZGlyZWN0T2JzZXJ2ZXJfLmNsb3NlKHRoaXMpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCl9LGFkZFBhdGg6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnN0YXRlXyE9b3QmJnRoaXMuc3RhdGVfIT1zdCl0aHJvdyBFcnJvcigiQ2Fubm90IGFkZCBwYXRocyBvbmNlIHN0YXJ0ZWQuIik7dmFyIHQ9cCh0KTtpZih0aGlzLm9ic2VydmVkXy5wdXNoKGUsdCksdGhpcy5yZXBvcnRDaGFuZ2VzT25PcGVuXyl7dmFyIG49dGhpcy5vYnNlcnZlZF8ubGVuZ3RoLzItMTt0aGlzLnZhbHVlX1tuXT10LmdldFZhbHVlRnJvbShlKX19LGFkZE9ic2VydmVyOmZ1bmN0aW9uKGUpe2lmKHRoaXMuc3RhdGVfIT1vdCYmdGhpcy5zdGF0ZV8hPXN0KXRocm93IEVycm9yKCJDYW5ub3QgYWRkIG9ic2VydmVycyBvbmNlIHN0YXJ0ZWQuIik7aWYodGhpcy5vYnNlcnZlZF8ucHVzaChwdCxlKSx0aGlzLnJlcG9ydENoYW5nZXNPbk9wZW5fKXt2YXIgdD10aGlzLm9ic2VydmVkXy5sZW5ndGgvMi0xO3RoaXMudmFsdWVfW3RdPWUub3Blbih0aGlzLmRlbGl2ZXIsdGhpcyl9fSxzdGFydFJlc2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5zdGF0ZV8hPWl0KXRocm93IEVycm9yKCJDYW4gb25seSByZXNldCB3aGlsZSBvcGVuIik7dGhpcy5zdGF0ZV89c3QsdGhpcy5kaXNjb25uZWN0XygpfSxmaW5pc2hSZXNldDpmdW5jdGlvbigpe2lmKHRoaXMuc3RhdGVfIT1zdCl0aHJvdyBFcnJvcigiQ2FuIG9ubHkgZmluaXNoUmVzZXQgYWZ0ZXIgc3RhcnRSZXNldCIpO3JldHVybiB0aGlzLnN0YXRlXz1pdCx0aGlzLmNvbm5lY3RfKCksdGhpcy52YWx1ZV99LGl0ZXJhdGVPYmplY3RzXzpmdW5jdGlvbihlKXtmb3IodmFyIHQsbj0wO248dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO24rPTIpdD10aGlzLm9ic2VydmVkX1tuXSx0IT09cHQmJnRoaXMub2JzZXJ2ZWRfW24rMV0uaXRlcmF0ZU9iamVjdHModCxlKX0sY2hlY2tfOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHI9MDtyPHRoaXMub2JzZXJ2ZWRfLmxlbmd0aDtyKz0yKXt2YXIgbyxpPXRoaXMub2JzZXJ2ZWRfW3JdLHM9dGhpcy5vYnNlcnZlZF9bcisxXTtpZihpPT09cHQpe3ZhciBjPXM7bz10aGlzLnN0YXRlXz09PW90P2Mub3Blbih0aGlzLmRlbGl2ZXIsdGhpcyk6Yy5kaXNjYXJkQ2hhbmdlcygpfWVsc2Ugbz1zLmdldFZhbHVlRnJvbShpKTt0P3RoaXMudmFsdWVfW3IvMl09bzphKG8sdGhpcy52YWx1ZV9bci8yXSl8fChuPW58fFtdLG5bci8yXT10aGlzLnZhbHVlX1tyLzJdLHRoaXMudmFsdWVfW3IvMl09byl9cmV0dXJuIG4/KHRoaXMucmVwb3J0XyhbdGhpcy52YWx1ZV8sbix0aGlzLm9ic2VydmVkX10pLCEwKTohMX19KSxELnByb3RvdHlwZT17b3BlbjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmNhbGxiYWNrXz1lLHRoaXMudGFyZ2V0Xz10LHRoaXMudmFsdWVfPXRoaXMuZ2V0VmFsdWVGbl8odGhpcy5vYnNlcnZhYmxlXy5vcGVuKHRoaXMub2JzZXJ2ZWRDYWxsYmFja18sdGhpcykpLHRoaXMudmFsdWVffSxvYnNlcnZlZENhbGxiYWNrXzpmdW5jdGlvbihlKXtpZihlPXRoaXMuZ2V0VmFsdWVGbl8oZSksIWEoZSx0aGlzLnZhbHVlXykpe3ZhciB0PXRoaXMudmFsdWVfO3RoaXMudmFsdWVfPWUsdGhpcy5jYWxsYmFja18uY2FsbCh0aGlzLnRhcmdldF8sdGhpcy52YWx1ZV8sdCl9fSxkaXNjYXJkQ2hhbmdlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlXz10aGlzLmdldFZhbHVlRm5fKHRoaXMub2JzZXJ2YWJsZV8uZGlzY2FyZENoYW5nZXMoKSksdGhpcy52YWx1ZV99LGRlbGl2ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vYnNlcnZhYmxlXy5kZWxpdmVyKCl9LHNldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlPXRoaXMuc2V0VmFsdWVGbl8oZSksIXRoaXMuZG9udFBhc3NUaHJvdWdoU2V0XyYmdGhpcy5vYnNlcnZhYmxlXy5zZXRWYWx1ZT90aGlzLm9ic2VydmFibGVfLnNldFZhbHVlKGUpOnZvaWQgMH0sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLm9ic2VydmFibGVfJiZ0aGlzLm9ic2VydmFibGVfLmNsb3NlKCksdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy5vYnNlcnZhYmxlXz12b2lkIDAsdGhpcy52YWx1ZV89dm9pZCAwLHRoaXMuZ2V0VmFsdWVGbl89dm9pZCAwLHRoaXMuc2V0VmFsdWVGbl89dm9pZCAwfX07dmFyIGh0PXthZGQ6ITAsdXBkYXRlOiEwLCJkZWxldGUiOiEwfSxmdD0wLG10PTEsdnQ9Mix3dD0zO1IucHJvdG90eXBlPXtjYWxjRWRpdERpc3RhbmNlczpmdW5jdGlvbihlLHQsbixyLG8saSl7Zm9yKHZhciBhPWktbysxLHM9bi10KzEsYz1uZXcgQXJyYXkoYSksbD0wO2E+bDtsKyspY1tsXT1uZXcgQXJyYXkocyksY1tsXVswXT1sO2Zvcih2YXIgdT0wO3M+dTt1KyspY1swXVt1XT11O2Zvcih2YXIgbD0xO2E+bDtsKyspZm9yKHZhciB1PTE7cz51O3UrKylpZih0aGlzLmVxdWFscyhlW3QrdS0xXSxyW28rbC0xXSkpY1tsXVt1XT1jW2wtMV1bdS0xXTtlbHNle3ZhciBkPWNbbC0xXVt1XSsxLHA9Y1tsXVt1LTFdKzE7Y1tsXVt1XT1wPmQ/ZDpwfXJldHVybiBjfSxzcGxpY2VPcGVyYXRpb25zRnJvbUVkaXREaXN0YW5jZXM6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUubGVuZ3RoLTEsbj1lWzBdLmxlbmd0aC0xLHI9ZVt0XVtuXSxvPVtdO3Q+MHx8bj4wOylpZigwIT10KWlmKDAhPW4pe3ZhciBpLGE9ZVt0LTFdW24tMV0scz1lW3QtMV1bbl0sYz1lW3RdW24tMV07aT1jPnM/YT5zP3M6YTphPmM/YzphLGk9PWE/KGE9PXI/by5wdXNoKGZ0KTooby5wdXNoKG10KSxyPWEpLHQtLSxuLS0pOmk9PXM/KG8ucHVzaCh3dCksdC0tLHI9cyk6KG8ucHVzaCh2dCksbi0tLHI9Yyl9ZWxzZSBvLnB1c2god3QpLHQtLTtlbHNlIG8ucHVzaCh2dCksbi0tO3JldHVybiBvLnJldmVyc2UoKSxvfSxjYWxjU3BsaWNlczpmdW5jdGlvbihlLHQsbixyLG8saSl7dmFyIGE9MCxzPTAsYz1NYXRoLm1pbihuLXQsaS1vKTtpZigwPT10JiYwPT1vJiYoYT10aGlzLnNoYXJlZFByZWZpeChlLHIsYykpLG49PWUubGVuZ3RoJiZpPT1yLmxlbmd0aCYmKHM9dGhpcy5zaGFyZWRTdWZmaXgoZSxyLGMtYSkpLHQrPWEsbys9YSxuLT1zLGktPXMsbi10PT0wJiZpLW89PTApcmV0dXJuW107aWYodD09bil7Zm9yKHZhciBsPUgodCxbXSwwKTtpPm87KWwucmVtb3ZlZC5wdXNoKHJbbysrXSk7cmV0dXJuW2xdfWlmKG89PWkpcmV0dXJuW0godCxbXSxuLXQpXTtmb3IodmFyIHU9dGhpcy5zcGxpY2VPcGVyYXRpb25zRnJvbUVkaXREaXN0YW5jZXModGhpcy5jYWxjRWRpdERpc3RhbmNlcyhlLHQsbixyLG8saSkpLGw9dm9pZCAwLGQ9W10scD10LGg9byxmPTA7Zjx1Lmxlbmd0aDtmKyspc3dpdGNoKHVbZl0pe2Nhc2UgZnQ6bCYmKGQucHVzaChsKSxsPXZvaWQgMCkscCsrLGgrKzticmVhaztjYXNlIG10Omx8fChsPUgocCxbXSwwKSksbC5hZGRlZENvdW50KysscCsrLGwucmVtb3ZlZC5wdXNoKHJbaF0pLGgrKzticmVhaztjYXNlIHZ0Omx8fChsPUgocCxbXSwwKSksbC5hZGRlZENvdW50KysscCsrO2JyZWFrO2Nhc2Ugd3Q6bHx8KGw9SChwLFtdLDApKSxsLnJlbW92ZWQucHVzaChyW2hdKSxoKyt9cmV0dXJuIGwmJmQucHVzaChsKSxkfSxzaGFyZWRQcmVmaXg6ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj0wO24+cjtyKyspaWYoIXRoaXMuZXF1YWxzKGVbcl0sdFtyXSkpcmV0dXJuIHI7cmV0dXJuIG59LHNoYXJlZFN1ZmZpeDpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPWUubGVuZ3RoLG89dC5sZW5ndGgsaT0wO24+aSYmdGhpcy5lcXVhbHMoZVstLXJdLHRbLS1vXSk7KWkrKztyZXR1cm4gaX0sY2FsY3VsYXRlU3BsaWNlczpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmNhbGNTcGxpY2VzKGUsMCxlLmxlbmd0aCx0LDAsdC5sZW5ndGgpfSxlcXVhbHM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXR9fTt2YXIgZ3Q9bmV3IFI7ZS5PYnNlcnZlcj1TLGUuT2JzZXJ2ZXIucnVuRU9NXz10dCxlLk9ic2VydmVyLm9ic2VydmVyU2VudGluZWxfPXB0LGUuT2JzZXJ2ZXIuaGFzT2JqZWN0T2JzZXJ2ZT1xLGUuQXJyYXlPYnNlcnZlcj1DLGUuQXJyYXlPYnNlcnZlci5jYWxjdWxhdGVTcGxpY2VzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGd0LmNhbGN1bGF0ZVNwbGljZXMoZSx0KX0sZS5BcnJheVNwbGljZT1SLGUuT2JqZWN0T2JzZXJ2ZXI9TSxlLlBhdGhPYnNlcnZlcj1MLGUuQ29tcG91bmRPYnNlcnZlcj1OLGUuUGF0aD1kLGUuT2JzZXJ2ZXJUcmFuc2Zvcm09RH0oInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWwmJmdsb2JhbCYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZT9nbG9iYWw6dGhpc3x8d2luZG93KSx3aW5kb3cuU2hhZG93RE9NUG9seWZpbGw9e30sZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIGNocm9tZSYmY2hyb21lLmFwcCYmY2hyb21lLmFwcC5ydW50aW1lKXJldHVybiExO2lmKG5hdmlnYXRvci5nZXREZXZpY2VTdG9yYWdlKXJldHVybiExO3RyeXt2YXIgZT1uZXcgRnVuY3Rpb24oInJldHVybiB0cnVlOyIpO3JldHVybiBlKCl9Y2F0Y2godCl7cmV0dXJuITF9fWZ1bmN0aW9uIG4oZSl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJBc3NlcnRpb24gZmFpbGVkIil9ZnVuY3Rpb24gcihlLHQpe2Zvcih2YXIgbj1GKHQpLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89bltyXTtBKGUsbyxXKHQsbykpfXJldHVybiBlfWZ1bmN0aW9uIG8oZSx0KXtmb3IodmFyIG49Rih0KSxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBvPW5bcl07c3dpdGNoKG8pe2Nhc2UiYXJndW1lbnRzIjpjYXNlImNhbGxlciI6Y2FzZSJsZW5ndGgiOmNhc2UibmFtZSI6Y2FzZSJwcm90b3R5cGUiOmNhc2UidG9TdHJpbmciOmNvbnRpbnVlfUEoZSxvLFcodCxvKSl9cmV0dXJuIGV9ZnVuY3Rpb24gaShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKHRbbl1pbiBlKXJldHVybiB0W25dfWZ1bmN0aW9uIGEoZSx0LG4pe3EudmFsdWU9bixBKGUsdCxxKX1mdW5jdGlvbiBzKGUpe3ZhciB0PWUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSksbj1SLmdldCh0KTtpZihuKXJldHVybiBuO3ZhciByPXModCksbz1fKHIpO3JldHVybiBnKHQsbyxlKSxvfWZ1bmN0aW9uIGMoZSx0KXt2KGUsdCwhMCl9ZnVuY3Rpb24gbChlLHQpe3YodCxlLCExKX1mdW5jdGlvbiB1KGUpe3JldHVybi9eb25bYS16XSskLy50ZXN0KGUpfWZ1bmN0aW9uIGQoZSl7cmV0dXJuL15cd1thLXpBLVpfMC05XSokLy50ZXN0KGUpfWZ1bmN0aW9uIHAoZSl7cmV0dXJuIGsmJmQoZSk/bmV3IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcy5fX2ltcGw0Y2YxZTc4MmhnX18uIitlKTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9faW1wbDRjZjFlNzgyaGdfX1tlXX19ZnVuY3Rpb24gaChlKXtyZXR1cm4gayYmZChlKT9uZXcgRnVuY3Rpb24oInYiLCJ0aGlzLl9faW1wbDRjZjFlNzgyaGdfXy4iK2UrIiA9IHYiKTpmdW5jdGlvbih0KXt0aGlzLl9faW1wbDRjZjFlNzgyaGdfX1tlXT10fX1mdW5jdGlvbiBmKGUpe3JldHVybiBrJiZkKGUpP25ldyBGdW5jdGlvbigicmV0dXJuIHRoaXMuX19pbXBsNGNmMWU3ODJoZ19fLiIrZSsiLmFwcGx5KHRoaXMuX19pbXBsNGNmMWU3ODJoZ19fLCBhcmd1bWVudHMpIik6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX2ltcGw0Y2YxZTc4MmhnX19bZV0uYXBwbHkodGhpcy5fX2ltcGw0Y2YxZTc4MmhnX18sYXJndW1lbnRzKX19ZnVuY3Rpb24gbShlLHQpe3RyeXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpfWNhdGNoKG4pe3JldHVybiBCfX1mdW5jdGlvbiB2KHQsbixyKXtmb3IodmFyIG89Rih0KSxpPTA7aTxvLmxlbmd0aDtpKyspe3ZhciBhPW9baV07aWYoInBvbHltZXJCbGFja0xpc3RfIiE9PWEmJiEoYSBpbiBufHx0LnBvbHltZXJCbGFja0xpc3RfJiZ0LnBvbHltZXJCbGFja0xpc3RfW2FdKSl7VSYmdC5fX2xvb2t1cEdldHRlcl9fKGEpO3ZhciBzLGMsbD1tKHQsYSk7aWYociYmImZ1bmN0aW9uIj09dHlwZW9mIGwudmFsdWUpblthXT1mKGEpO2Vsc2V7dmFyIGQ9dShhKTtzPWQ/ZS5nZXRFdmVudEhhbmRsZXJHZXR0ZXIoYSk6cChhKSwobC53cml0YWJsZXx8bC5zZXR8fFYpJiYoYz1kP2UuZ2V0RXZlbnRIYW5kbGVyU2V0dGVyKGEpOmgoYSkpLEEobixhLHtnZXQ6cyxzZXQ6Yyxjb25maWd1cmFibGU6bC5jb25maWd1cmFibGUsZW51bWVyYWJsZTpsLmVudW1lcmFibGV9KX19fX1mdW5jdGlvbiB3KGUsdCxuKXt2YXIgcj1lLnByb3RvdHlwZTtnKHIsdCxuKSxvKHQsZSl9ZnVuY3Rpb24gZyhlLHQscil7dmFyIG89dC5wcm90b3R5cGU7bih2b2lkIDA9PT1SLmdldChlKSksUi5zZXQoZSx0KSxQLnNldChvLGUpLGMoZSxvKSxyJiZsKG8sciksYShvLCJjb25zdHJ1Y3RvciIsdCksdC5wcm90b3R5cGU9b31mdW5jdGlvbiBiKGUsdCl7cmV0dXJuIFIuZ2V0KHQucHJvdG90eXBlKT09PWV9ZnVuY3Rpb24geShlKXt2YXIgdD1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSksbj1zKHQpLHI9XyhuKTtyZXR1cm4gZyh0LHIsZSkscn1mdW5jdGlvbiBfKGUpe2Z1bmN0aW9uIHQodCl7ZS5jYWxsKHRoaXMsdCl9dmFyIG49T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSk7cmV0dXJuIG4uY29uc3RydWN0b3I9dCx0LnByb3RvdHlwZT1uLHR9ZnVuY3Rpb24gRShlKXtyZXR1cm4gZSYmZS5fX2ltcGw0Y2YxZTc4MmhnX199ZnVuY3Rpb24gUyhlKXtyZXR1cm4hRShlKX1mdW5jdGlvbiBPKGUpe3JldHVybiBudWxsPT09ZT9udWxsOihuKFMoZSkpLGUuX193cmFwcGVyOGUzZGQ5M2E2MF9ffHwoZS5fX3dyYXBwZXI4ZTNkZDkzYTYwX189bmV3KHMoZSkpKGUpKSl9ZnVuY3Rpb24gVChlKXtyZXR1cm4gbnVsbD09PWU/bnVsbDoobihFKGUpKSxlLl9faW1wbDRjZjFlNzgyaGdfXyl9ZnVuY3Rpb24gTShlKXtyZXR1cm4gZS5fX2ltcGw0Y2YxZTc4MmhnX199ZnVuY3Rpb24gQyhlLHQpe3QuX19pbXBsNGNmMWU3ODJoZ19fPWUsZS5fX3dyYXBwZXI4ZTNkZDkzYTYwX189dH1mdW5jdGlvbiBMKGUpe3JldHVybiBlJiZFKGUpP1QoZSk6ZX1mdW5jdGlvbiBOKGUpe3JldHVybiBlJiYhRShlKT9PKGUpOmV9ZnVuY3Rpb24gaihlLHQpe251bGwhPT10JiYobihTKGUpKSxuKHZvaWQgMD09PXR8fEUodCkpLGUuX193cmFwcGVyOGUzZGQ5M2E2MF9fPXQpfWZ1bmN0aW9uIEQoZSx0LG4pe0cuZ2V0PW4sQShlLnByb3RvdHlwZSx0LEcpfWZ1bmN0aW9uIHgoZSx0KXtEKGUsdCxmdW5jdGlvbigpe3JldHVybiBPKHRoaXMuX19pbXBsNGNmMWU3ODJoZ19fW3RdKX0pfWZ1bmN0aW9uIEgoZSx0KXtlLmZvckVhY2goZnVuY3Rpb24oZSl7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UucHJvdG90eXBlW3RdPWZ1bmN0aW9uKCl7dmFyIGU9Tih0aGlzKTtyZXR1cm4gZVt0XS5hcHBseShlLGFyZ3VtZW50cyl9fSl9KX12YXIgUj1uZXcgV2Vha01hcCxQPW5ldyBXZWFrTWFwLEk9T2JqZWN0LmNyZWF0ZShudWxsKSxrPXQoKSxBPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxGPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLFc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixxPXt2YWx1ZTp2b2lkIDAsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITB9O0Yod2luZG93KTt2YXIgVT0vRmlyZWZveC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxCPXtnZXQ6ZnVuY3Rpb24oKXt9LHNldDpmdW5jdGlvbigpe30sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9LFY9ZnVuY3Rpb24oKXt2YXIgZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE5vZGUucHJvdG90eXBlLCJub2RlVHlwZSIpO3JldHVybiEhZSYmInNldCJpbiBlfSgpLEc9e2dldDp2b2lkIDAsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9O2UuYXNzZXJ0PW4sZS5jb25zdHJ1Y3RvclRhYmxlPVIsZS5kZWZpbmVHZXR0ZXI9RCxlLmRlZmluZVdyYXBHZXR0ZXI9eCxlLmZvcndhcmRNZXRob2RzVG9XcmFwcGVyPUgsZS5pc1dyYXBwZXI9RSxlLmlzV3JhcHBlckZvcj1iLGUubWl4aW49cixlLm5hdGl2ZVByb3RvdHlwZVRhYmxlPVAsZS5vbmVPZj1pLGUucmVnaXN0ZXJPYmplY3Q9eSxlLnJlZ2lzdGVyV3JhcHBlcj13LGUucmV3cmFwPWosZS5zZXRXcmFwcGVyPUMsZS51bnNhZmVVbndyYXA9TSxlLnVud3JhcD1ULGUudW53cmFwSWZOZWVkZWQ9TCxlLndyYXA9TyxlLndyYXBJZk5lZWRlZD1OLGUud3JhcHBlcnM9SX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdCgpe2E9ITE7dmFyIGU9aS5zbGljZSgwKTtpPVtdO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKWVbdF0oKX1mdW5jdGlvbiBuKGUpe2kucHVzaChlKSxhfHwoYT0hMCxyKHQsMCkpfXZhciByLG89d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIsaT1bXSxhPSExO2lmKG8pe3ZhciBzPTEsYz1uZXcgbyh0KSxsPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHMpO2Mub2JzZXJ2ZShsLHtjaGFyYWN0ZXJEYXRhOiEwfSkscj1mdW5jdGlvbigpe3M9KHMrMSklMixsLmRhdGE9c319ZWxzZSByPXdpbmRvdy5zZXRJbW1lZGlhdGV8fHdpbmRvdy5zZXRUaW1lb3V0O2Uuc2V0RW5kT2ZNaWNyb3Rhc2s9bn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtlLnNjaGVkdWxlZF98fChlLnNjaGVkdWxlZF89ITAsZi5wdXNoKGUpLG18fCh1KG4pLG09ITApKX1mdW5jdGlvbiBuKCl7Zm9yKG09ITE7Zi5sZW5ndGg7KXt2YXIgZT1mO2Y9W10sZS5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudWlkXy10LnVpZF99KTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIG49ZVt0XTtuLnNjaGVkdWxlZF89ITE7dmFyIHI9bi50YWtlUmVjb3JkcygpO2kobiksci5sZW5ndGgmJm4uY2FsbGJhY2tfKHIsbil9fX1mdW5jdGlvbiByKGUsdCl7dGhpcy50eXBlPWUsdGhpcy50YXJnZXQ9dCx0aGlzLmFkZGVkTm9kZXM9bmV3IHAuTm9kZUxpc3QsdGhpcy5yZW1vdmVkTm9kZXM9bmV3IHAuTm9kZUxpc3QsdGhpcy5wcmV2aW91c1NpYmxpbmc9bnVsbCx0aGlzLm5leHRTaWJsaW5nPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lc3BhY2U9bnVsbCx0aGlzLm9sZFZhbHVlPW51bGx9ZnVuY3Rpb24gbyhlLHQpe2Zvcig7ZTtlPWUucGFyZW50Tm9kZSl7dmFyIG49aC5nZXQoZSk7aWYobilmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89bltyXTtvLm9wdGlvbnMuc3VidHJlZSYmby5hZGRUcmFuc2llbnRPYnNlcnZlcih0KX19fWZ1bmN0aW9uIGkoZSl7Zm9yKHZhciB0PTA7dDxlLm5vZGVzXy5sZW5ndGg7dCsrKXt2YXIgbj1lLm5vZGVzX1t0XSxyPWguZ2V0KG4pO2lmKCFyKXJldHVybjtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIGk9cltvXTtpLm9ic2VydmVyPT09ZSYmaS5yZW1vdmVUcmFuc2llbnRPYnNlcnZlcnMoKX19fWZ1bmN0aW9uIGEoZSxuLG8pe2Zvcih2YXIgaT1PYmplY3QuY3JlYXRlKG51bGwpLGE9T2JqZWN0LmNyZWF0ZShudWxsKSxzPWU7cztzPXMucGFyZW50Tm9kZSl7dmFyIGM9aC5nZXQocyk7aWYoYylmb3IodmFyIGw9MDtsPGMubGVuZ3RoO2wrKyl7dmFyIHU9Y1tsXSxkPXUub3B0aW9ucztpZigocz09PWV8fGQuc3VidHJlZSkmJiEoImF0dHJpYnV0ZXMiPT09biYmIWQuYXR0cmlidXRlc3x8ImF0dHJpYnV0ZXMiPT09biYmZC5hdHRyaWJ1dGVGaWx0ZXImJihudWxsIT09by5uYW1lc3BhY2V8fC0xPT09ZC5hdHRyaWJ1dGVGaWx0ZXIuaW5kZXhPZihvLm5hbWUpKXx8ImNoYXJhY3RlckRhdGEiPT09biYmIWQuY2hhcmFjdGVyRGF0YXx8ImNoaWxkTGlzdCI9PT1uJiYhZC5jaGlsZExpc3QpKXt2YXIgcD11Lm9ic2VydmVyO2lbcC51aWRfXT1wLCgiYXR0cmlidXRlcyI9PT1uJiZkLmF0dHJpYnV0ZU9sZFZhbHVlfHwiY2hhcmFjdGVyRGF0YSI9PT1uJiZkLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSkmJihhW3AudWlkX109by5vbGRWYWx1ZSl9fX1mb3IodmFyIGYgaW4gaSl7dmFyIHA9aVtmXSxtPW5ldyByKG4sZSk7Im5hbWUiaW4gbyYmIm5hbWVzcGFjZSJpbiBvJiYobS5hdHRyaWJ1dGVOYW1lPW8ubmFtZSxtLmF0dHJpYnV0ZU5hbWVzcGFjZT1vLm5hbWVzcGFjZSksby5hZGRlZE5vZGVzJiYobS5hZGRlZE5vZGVzPW8uYWRkZWROb2Rlcyksby5yZW1vdmVkTm9kZXMmJihtLnJlbW92ZWROb2Rlcz1vLnJlbW92ZWROb2Rlcyksby5wcmV2aW91c1NpYmxpbmcmJihtLnByZXZpb3VzU2libGluZz1vLnByZXZpb3VzU2libGluZyksby5uZXh0U2libGluZyYmKG0ubmV4dFNpYmxpbmc9by5uZXh0U2libGluZyksdm9pZCAwIT09YVtmXSYmKG0ub2xkVmFsdWU9YVtmXSksdChwKSxwLnJlY29yZHNfLnB1c2gobSl9fWZ1bmN0aW9uIHMoZSl7aWYodGhpcy5jaGlsZExpc3Q9ISFlLmNoaWxkTGlzdCx0aGlzLnN1YnRyZWU9ISFlLnN1YnRyZWUsdGhpcy5hdHRyaWJ1dGVzPSJhdHRyaWJ1dGVzImluIGV8fCEoImF0dHJpYnV0ZU9sZFZhbHVlImluIGV8fCJhdHRyaWJ1dGVGaWx0ZXIiaW4gZSk/ISFlLmF0dHJpYnV0ZXM6ITAsdGhpcy5jaGFyYWN0ZXJEYXRhPSJjaGFyYWN0ZXJEYXRhT2xkVmFsdWUiaW4gZSYmISgiY2hhcmFjdGVyRGF0YSJpbiBlKT8hMDohIWUuY2hhcmFjdGVyRGF0YSwhdGhpcy5hdHRyaWJ1dGVzJiYoZS5hdHRyaWJ1dGVPbGRWYWx1ZXx8ImF0dHJpYnV0ZUZpbHRlciJpbiBlKXx8IXRoaXMuY2hhcmFjdGVyRGF0YSYmZS5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUpdGhyb3cgbmV3IFR5cGVFcnJvcjtpZih0aGlzLmNoYXJhY3RlckRhdGE9ISFlLmNoYXJhY3RlckRhdGEsdGhpcy5hdHRyaWJ1dGVPbGRWYWx1ZT0hIWUuYXR0cmlidXRlT2xkVmFsdWUsdGhpcy5jaGFyYWN0ZXJEYXRhT2xkVmFsdWU9ISFlLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSwiYXR0cmlidXRlRmlsdGVyImluIGUpe2lmKG51bGw9PWUuYXR0cmlidXRlRmlsdGVyfHwib2JqZWN0IiE9dHlwZW9mIGUuYXR0cmlidXRlRmlsdGVyKXRocm93IG5ldyBUeXBlRXJyb3I7dGhpcy5hdHRyaWJ1dGVGaWx0ZXI9di5jYWxsKGUuYXR0cmlidXRlRmlsdGVyKX1lbHNlIHRoaXMuYXR0cmlidXRlRmlsdGVyPW51bGx9ZnVuY3Rpb24gYyhlKXt0aGlzLmNhbGxiYWNrXz1lLHRoaXMubm9kZXNfPVtdLHRoaXMucmVjb3Jkc189W10sdGhpcy51aWRfPSsrdyx0aGlzLnNjaGVkdWxlZF89ITF9ZnVuY3Rpb24gbChlLHQsbil7dGhpcy5vYnNlcnZlcj1lLHRoaXMudGFyZ2V0PXQsdGhpcy5vcHRpb25zPW4sdGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdfXZhciB1PWUuc2V0RW5kT2ZNaWNyb3Rhc2ssZD1lLndyYXBJZk5lZWRlZCxwPWUud3JhcHBlcnMsaD1uZXcgV2Vha01hcCxmPVtdLG09ITEsdj1BcnJheS5wcm90b3R5cGUuc2xpY2Usdz0wO2MucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpjLG9ic2VydmU6ZnVuY3Rpb24oZSx0KXtlPWQoZSk7dmFyIG4scj1uZXcgcyh0KSxvPWguZ2V0KGUpO298fGguc2V0KGUsbz1bXSk7Zm9yKHZhciBpPTA7aTxvLmxlbmd0aDtpKyspb1tpXS5vYnNlcnZlcj09PXRoaXMmJihuPW9baV0sbi5yZW1vdmVUcmFuc2llbnRPYnNlcnZlcnMoKSxuLm9wdGlvbnM9cik7bnx8KG49bmV3IGwodGhpcyxlLHIpLG8ucHVzaChuKSx0aGlzLm5vZGVzXy5wdXNoKGUpKX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe3RoaXMubm9kZXNfLmZvckVhY2goZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWguZ2V0KGUpLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtpZihyLm9ic2VydmVyPT09dGhpcyl7dC5zcGxpY2UobiwxKTticmVha319fSx0aGlzKSx0aGlzLnJlY29yZHNfPVtdfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVjb3Jkc187cmV0dXJuIHRoaXMucmVjb3Jkc189W10sZX19LGwucHJvdG90eXBlPXthZGRUcmFuc2llbnRPYnNlcnZlcjpmdW5jdGlvbihlKXtpZihlIT09dGhpcy50YXJnZXQpe3QodGhpcy5vYnNlcnZlciksdGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzLnB1c2goZSk7dmFyIG49aC5nZXQoZSk7bnx8aC5zZXQoZSxuPVtdKSxuLnB1c2godGhpcyl9fSxyZW1vdmVUcmFuc2llbnRPYnNlcnZlcnM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM7dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKWZvcih2YXIgbj1lW3RdLHI9aC5nZXQobiksbz0wO288ci5sZW5ndGg7bysrKWlmKHJbb109PT10aGlzKXtyLnNwbGljZShvLDEpO2JyZWFrfX19LGUuZW5xdWV1ZU11dGF0aW9uPWEsZS5yZWdpc3RlclRyYW5zaWVudE9ic2VydmVycz1vLGUud3JhcHBlcnMuTXV0YXRpb25PYnNlcnZlcj1jLGUud3JhcHBlcnMuTXV0YXRpb25SZWNvcmQ9cn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlLHQpe3RoaXMucm9vdD1lLHRoaXMucGFyZW50PXR9ZnVuY3Rpb24gbihlLHQpe2lmKGUudHJlZVNjb3BlXyE9PXQpe2UudHJlZVNjb3BlXz10O2Zvcih2YXIgcj1lLnNoYWRvd1Jvb3Q7cjtyPXIub2xkZXJTaGFkb3dSb290KXIudHJlZVNjb3BlXy5wYXJlbnQ9dDtmb3IodmFyIG89ZS5maXJzdENoaWxkO287bz1vLm5leHRTaWJsaW5nKW4obyx0KX19ZnVuY3Rpb24gcihuKXtpZihuIGluc3RhbmNlb2YgZS53cmFwcGVycy5XaW5kb3csbi50cmVlU2NvcGVfKXJldHVybiBuLnRyZWVTY29wZV87dmFyIG8saT1uLnBhcmVudE5vZGU7cmV0dXJuIG89aT9yKGkpOm5ldyB0KG4sbnVsbCksbi50cmVlU2NvcGVfPW99dC5wcm90b3R5cGU9e2dldCByZW5kZXJlcigpe3JldHVybiB0aGlzLnJvb3QgaW5zdGFuY2VvZiBlLndyYXBwZXJzLlNoYWRvd1Jvb3Q/ZS5nZXRSZW5kZXJlckZvckhvc3QodGhpcy5yb290Lmhvc3QpOm51bGx9LGNvbnRhaW5zOmZ1bmN0aW9uKGUpe2Zvcig7ZTtlPWUucGFyZW50KWlmKGU9PT10aGlzKXJldHVybiEwO3JldHVybiExfX0sZS5UcmVlU2NvcGU9dCxlLmdldFRyZWVTY29wZT1yLGUuc2V0VHJlZVNjb3BlPW59KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBHLlNoYWRvd1Jvb3R9ZnVuY3Rpb24gbihlKXtyZXR1cm4gQShlKS5yb290fWZ1bmN0aW9uIHIoZSxyKXt2YXIgcz1bXSxjPWU7Zm9yKHMucHVzaChjKTtjOyl7dmFyIGw9YShjKTtpZihsJiZsLmxlbmd0aD4wKXtmb3IodmFyIHU9MDt1PGwubGVuZ3RoO3UrKyl7dmFyIHA9bFt1XTtpZihpKHApKXt2YXIgaD1uKHApLGY9aC5vbGRlclNoYWRvd1Jvb3Q7ZiYmcy5wdXNoKGYpfXMucHVzaChwKX1jPWxbbC5sZW5ndGgtMV19ZWxzZSBpZih0KGMpKXtpZihkKGUsYykmJm8ocikpYnJlYWs7Yz1jLmhvc3Qscy5wdXNoKGMpfWVsc2UgYz1jLnBhcmVudE5vZGUsYyYmcy5wdXNoKGMpfXJldHVybiBzfWZ1bmN0aW9uIG8oZSl7aWYoIWUpcmV0dXJuITE7c3dpdGNoKGUudHlwZSl7Y2FzZSJhYm9ydCI6Y2FzZSJlcnJvciI6Y2FzZSJzZWxlY3QiOmNhc2UiY2hhbmdlIjpjYXNlImxvYWQiOmNhc2UicmVzZXQiOmNhc2UicmVzaXplIjpjYXNlInNjcm9sbCI6Y2FzZSJzZWxlY3RzdGFydCI6cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEhUTUxTaGFkb3dFbGVtZW50fWZ1bmN0aW9uIGEodCl7cmV0dXJuIGUuZ2V0RGVzdGluYXRpb25JbnNlcnRpb25Qb2ludHModCl9ZnVuY3Rpb24gcyhlLHQpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gdDt0IGluc3RhbmNlb2YgRy5XaW5kb3cmJih0PXQuZG9jdW1lbnQpO2Zvcih2YXIgbj1BKHQpLHI9ZVswXSxvPUEociksaT1sKG4sbyksYT0wO2E8ZS5sZW5ndGg7YSsrKXt2YXIgcz1lW2FdO2lmKEEocyk9PT1pKXJldHVybiBzfXJldHVybiBlW2UubGVuZ3RoLTFdfWZ1bmN0aW9uIGMoZSl7Zm9yKHZhciB0PVtdO2U7ZT1lLnBhcmVudCl0LnB1c2goZSk7cmV0dXJuIHR9ZnVuY3Rpb24gbChlLHQpe2Zvcih2YXIgbj1jKGUpLHI9Yyh0KSxvPW51bGw7bi5sZW5ndGg+MCYmci5sZW5ndGg+MDspe3ZhciBpPW4ucG9wKCksYT1yLnBvcCgpO2lmKGkhPT1hKWJyZWFrO289aX1yZXR1cm4gb31mdW5jdGlvbiB1KGUsdCxuKXt0IGluc3RhbmNlb2YgRy5XaW5kb3cmJih0PXQuZG9jdW1lbnQpO3ZhciBvLGk9QSh0KSxhPUEobikscz1yKG4sZSksbz1sKGksYSk7b3x8KG89YS5yb290KTtmb3IodmFyIGM9bztjO2M9Yy5wYXJlbnQpZm9yKHZhciB1PTA7dTxzLmxlbmd0aDt1Kyspe3ZhciBkPXNbdV07aWYoQShkKT09PWMpcmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gZChlLHQpe3JldHVybiBBKGUpPT09QSh0KX1mdW5jdGlvbiBwKGUpe2lmKCFLLmdldChlKSYmKEsuc2V0KGUsITApLGYoVihlKSxWKGUudGFyZ2V0KSksSSkpe3ZhciB0PUk7dGhyb3cgST1udWxsLHR9fWZ1bmN0aW9uIGgoZSl7c3dpdGNoKGUudHlwZSl7Y2FzZSJsb2FkIjpjYXNlImJlZm9yZXVubG9hZCI6Y2FzZSJ1bmxvYWQiOnJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIGYodCxuKXtpZihZLmdldCh0KSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWRTdGF0ZUVycm9yIik7WS5zZXQodCwhMCksZS5yZW5kZXJBbGxQZW5kaW5nKCk7dmFyIG8saSxhO2lmKGgodCkmJiF0LmJ1YmJsZXMpe3ZhciBzPW47cyBpbnN0YW5jZW9mIEcuRG9jdW1lbnQmJihhPXMuZGVmYXVsdFZpZXcpJiYoaT1zLG89W10pfWlmKCFvKWlmKG4gaW5zdGFuY2VvZiBHLldpbmRvdylhPW4sbz1bXTtlbHNlIGlmKG89cihuLHQpLCFoKHQpKXt2YXIgcz1vW28ubGVuZ3RoLTFdO3MgaW5zdGFuY2VvZiBHLkRvY3VtZW50JiYoYT1zLmRlZmF1bHRWaWV3KX1yZXR1cm4gbnQuc2V0KHQsbyksbSh0LG8sYSxpKSYmdih0LG8sYSxpKSYmdyh0LG8sYSxpKSxaLnNldCh0LHJ0KSwkLmRlbGV0ZSh0LG51bGwpLFkuZGVsZXRlKHQpLHQuZGVmYXVsdFByZXZlbnRlZH1mdW5jdGlvbiBtKGUsdCxuLHIpe3ZhciBvPW90O2lmKG4mJiFnKG4sZSxvLHQscikpcmV0dXJuITE7Zm9yKHZhciBpPXQubGVuZ3RoLTE7aT4wO2ktLSlpZighZyh0W2ldLGUsbyx0LHIpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHYoZSx0LG4scil7dmFyIG89aXQsaT10WzBdfHxuO3JldHVybiBnKGksZSxvLHQscil9ZnVuY3Rpb24gdyhlLHQsbixyKXtmb3IodmFyIG89YXQsaT0xO2k8dC5sZW5ndGg7aSsrKWlmKCFnKHRbaV0sZSxvLHQscikpcmV0dXJuO24mJnQubGVuZ3RoPjAmJmcobixlLG8sdCxyKX1mdW5jdGlvbiBnKGUsdCxuLHIsbyl7dmFyIGk9ei5nZXQoZSk7aWYoIWkpcmV0dXJuITA7dmFyIGE9b3x8cyhyLGUpO2lmKGE9PT1lKXtpZihuPT09b3QpcmV0dXJuITA7bj09PWF0JiYobj1pdCl9ZWxzZSBpZihuPT09YXQmJiF0LmJ1YmJsZXMpcmV0dXJuITA7aWYoInJlbGF0ZWRUYXJnZXQiaW4gdCl7dmFyIGM9Qih0KSxsPWMucmVsYXRlZFRhcmdldDtpZihsKXtpZihsIGluc3RhbmNlb2YgT2JqZWN0JiZsLmFkZEV2ZW50TGlzdGVuZXIpe3ZhciBkPVYobCkscD11KHQsZSxkKTtpZihwPT09YSlyZXR1cm4hMH1lbHNlIHA9bnVsbDtRLnNldCh0LHApfX1aLnNldCh0LG4pO3ZhciBoPXQudHlwZSxmPSExO1guc2V0KHQsYSksJC5zZXQodCxlKSxpLmRlcHRoKys7Zm9yKHZhciBtPTAsdj1pLmxlbmd0aDt2Pm07bSsrKXt2YXIgdz1pW21dO2lmKHcucmVtb3ZlZClmPSEwO2Vsc2UgaWYoISh3LnR5cGUhPT1ofHwhdy5jYXB0dXJlJiZuPT09b3R8fHcuY2FwdHVyZSYmbj09PWF0KSl0cnl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHcuaGFuZGxlcj93LmhhbmRsZXIuY2FsbChlLHQpOncuaGFuZGxlci5oYW5kbGVFdmVudCh0KSxldC5nZXQodCkpcmV0dXJuITF9Y2F0Y2goZyl7SXx8KEk9Zyl9fWlmKGkuZGVwdGgtLSxmJiYwPT09aS5kZXB0aCl7dmFyIGI9aS5zbGljZSgpO2kubGVuZ3RoPTA7Zm9yKHZhciBtPTA7bTxiLmxlbmd0aDttKyspYlttXS5yZW1vdmVkfHxpLnB1c2goYlttXSl9cmV0dXJuIUouZ2V0KHQpfWZ1bmN0aW9uIGIoZSx0LG4pe3RoaXMudHlwZT1lLHRoaXMuaGFuZGxlcj10LHRoaXMuY2FwdHVyZT1Cb29sZWFuKG4pfWZ1bmN0aW9uIHkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiBzdCkpcmV0dXJuIFYoTyhzdCwiRXZlbnQiLGUsdCkpO3ZhciBuPWU7cmV0dXJuIGd0fHwiYmVmb3JldW5sb2FkIiE9PW4udHlwZXx8dGhpcyBpbnN0YW5jZW9mIFQ/dm9pZCBxKG4sdGhpcyk6bmV3IFQobil9ZnVuY3Rpb24gXyhlKXtyZXR1cm4gZSYmZS5yZWxhdGVkVGFyZ2V0P09iamVjdC5jcmVhdGUoZSx7cmVsYXRlZFRhcmdldDp7dmFsdWU6QihlLnJlbGF0ZWRUYXJnZXQpfX0pOmV9ZnVuY3Rpb24gRShlLHQsbil7dmFyIHI9d2luZG93W2VdLG89ZnVuY3Rpb24odCxuKXtyZXR1cm4gdCBpbnN0YW5jZW9mIHI/dm9pZCBxKHQsdGhpcyk6VihPKHIsZSx0LG4pKX07aWYoby5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSksbiYmRihvLnByb3RvdHlwZSxuKSxyKXRyeXtXKHIsbyxuZXcgcigidGVtcCIpKX1jYXRjaChpKXtXKHIsbyxkb2N1bWVudC5jcmVhdGVFdmVudChlKSl9cmV0dXJuIG99ZnVuY3Rpb24gUyhlLHQpe3JldHVybiBmdW5jdGlvbigpe2FyZ3VtZW50c1t0XT1CKGFyZ3VtZW50c1t0XSk7dmFyIG49Qih0aGlzKTtuW2VdLmFwcGx5KG4sYXJndW1lbnRzKX19ZnVuY3Rpb24gTyhlLHQsbixyKXtpZih2dClyZXR1cm4gbmV3IGUobixfKHIpKTt2YXIgbz1CKGRvY3VtZW50LmNyZWF0ZUV2ZW50KHQpKSxpPW10W3RdLGE9W25dO3JldHVybiBPYmplY3Qua2V5cyhpKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PW51bGwhPXImJmUgaW4gcj9yW2VdOmlbZV07InJlbGF0ZWRUYXJnZXQiPT09ZSYmKHQ9Qih0KSksYS5wdXNoKHQpfSksb1siaW5pdCIrdF0uYXBwbHkobyxhKSxvfWZ1bmN0aW9uIFQoZSl7eS5jYWxsKHRoaXMsZSl9ZnVuY3Rpb24gTShlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZT8hMDplJiZlLmhhbmRsZUV2ZW50fWZ1bmN0aW9uIEMoZSl7c3dpdGNoKGUpe2Nhc2UiRE9NQXR0ck1vZGlmaWVkIjpjYXNlIkRPTUF0dHJpYnV0ZU5hbWVDaGFuZ2VkIjpjYXNlIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCI6Y2FzZSJET01FbGVtZW50TmFtZUNoYW5nZWQiOmNhc2UiRE9NTm9kZUluc2VydGVkIjpjYXNlIkRPTU5vZGVJbnNlcnRlZEludG9Eb2N1bWVudCI6Y2FzZSJET01Ob2RlUmVtb3ZlZCI6Y2FzZSJET01Ob2RlUmVtb3ZlZEZyb21Eb2N1bWVudCI6Y2FzZSJET01TdWJ0cmVlTW9kaWZpZWQiOnJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIEwoZSl7cShlLHRoaXMpfWZ1bmN0aW9uIE4oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBHLlNoYWRvd1Jvb3QmJihlPWUuaG9zdCksQihlKX1mdW5jdGlvbiBqKGUsdCl7dmFyIG49ei5nZXQoZSk7aWYobilmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKylpZighbltyXS5yZW1vdmVkJiZuW3JdLnR5cGU9PT10KXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIEQoZSx0KXtmb3IodmFyIG49QihlKTtuO249bi5wYXJlbnROb2RlKWlmKGooVihuKSx0KSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiB4KGUpe2soZSx5dCl9ZnVuY3Rpb24gSCh0LG4sbyxpKXtlLnJlbmRlckFsbFBlbmRpbmcoKTt2YXIgYT1WKF90LmNhbGwoVShuKSxvLGkpKTtpZighYSlyZXR1cm4gbnVsbDt2YXIgYz1yKGEsbnVsbCksbD1jLmxhc3RJbmRleE9mKHQpO3JldHVybi0xPT1sP251bGw6KGM9Yy5zbGljZSgwLGwpLHMoYyx0KSl9ZnVuY3Rpb24gUihlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD10dC5nZXQodGhpcyk7CnJldHVybiB0JiZ0W2VdJiZ0W2VdLnZhbHVlfHxudWxsfX1mdW5jdGlvbiBQKGUpe3ZhciB0PWUuc2xpY2UoMik7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciByPXR0LmdldCh0aGlzKTtyfHwocj1PYmplY3QuY3JlYXRlKG51bGwpLHR0LnNldCh0aGlzLHIpKTt2YXIgbz1yW2VdO2lmKG8mJnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG8ud3JhcHBlZCwhMSksImZ1bmN0aW9uIj09dHlwZW9mIG4pe3ZhciBpPWZ1bmN0aW9uKHQpe3ZhciByPW4uY2FsbCh0aGlzLHQpO3I9PT0hMT90LnByZXZlbnREZWZhdWx0KCk6Im9uYmVmb3JldW5sb2FkIj09PWUmJiJzdHJpbmciPT10eXBlb2YgciYmKHQucmV0dXJuVmFsdWU9cil9O3RoaXMuYWRkRXZlbnRMaXN0ZW5lcih0LGksITEpLHJbZV09e3ZhbHVlOm4sd3JhcHBlZDppfX19fXZhciBJLGs9ZS5mb3J3YXJkTWV0aG9kc1RvV3JhcHBlcixBPWUuZ2V0VHJlZVNjb3BlLEY9ZS5taXhpbixXPWUucmVnaXN0ZXJXcmFwcGVyLHE9ZS5zZXRXcmFwcGVyLFU9ZS51bnNhZmVVbndyYXAsQj1lLnVud3JhcCxWPWUud3JhcCxHPWUud3JhcHBlcnMsej0obmV3IFdlYWtNYXAsbmV3IFdlYWtNYXApLEs9bmV3IFdlYWtNYXAsWT1uZXcgV2Vha01hcCxYPW5ldyBXZWFrTWFwLCQ9bmV3IFdlYWtNYXAsUT1uZXcgV2Vha01hcCxaPW5ldyBXZWFrTWFwLEo9bmV3IFdlYWtNYXAsZXQ9bmV3IFdlYWtNYXAsdHQ9bmV3IFdlYWtNYXAsbnQ9bmV3IFdlYWtNYXAscnQ9MCxvdD0xLGl0PTIsYXQ9MztiLnByb3RvdHlwZT17ZXF1YWxzOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmhhbmRsZXI9PT1lLmhhbmRsZXImJnRoaXMudHlwZT09PWUudHlwZSYmdGhpcy5jYXB0dXJlPT09ZS5jYXB0dXJlfSxnZXQgcmVtb3ZlZCgpe3JldHVybiBudWxsPT09dGhpcy5oYW5kbGVyfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXI9bnVsbH19O3ZhciBzdD13aW5kb3cuRXZlbnQ7c3QucHJvdG90eXBlLnBvbHltZXJCbGFja0xpc3RfPXtyZXR1cm5WYWx1ZTohMCxrZXlMb2NhdGlvbjohMH0seS5wcm90b3R5cGU9e2dldCB0YXJnZXQoKXtyZXR1cm4gWC5nZXQodGhpcyl9LGdldCBjdXJyZW50VGFyZ2V0KCl7cmV0dXJuICQuZ2V0KHRoaXMpfSxnZXQgZXZlbnRQaGFzZSgpe3JldHVybiBaLmdldCh0aGlzKX0sZ2V0IHBhdGgoKXt2YXIgZT1udC5nZXQodGhpcyk7cmV0dXJuIGU/ZS5zbGljZSgpOltdfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXtKLnNldCh0aGlzLCEwKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7Si5zZXQodGhpcywhMCksZXQuc2V0KHRoaXMsITApfX0sVyhzdCx5LGRvY3VtZW50LmNyZWF0ZUV2ZW50KCJFdmVudCIpKTt2YXIgY3Q9RSgiVUlFdmVudCIseSksbHQ9RSgiQ3VzdG9tRXZlbnQiLHkpLHV0PXtnZXQgcmVsYXRlZFRhcmdldCgpe3ZhciBlPVEuZ2V0KHRoaXMpO3JldHVybiB2b2lkIDAhPT1lP2U6VihCKHRoaXMpLnJlbGF0ZWRUYXJnZXQpfX0sZHQ9Rih7aW5pdE1vdXNlRXZlbnQ6UygiaW5pdE1vdXNlRXZlbnQiLDE0KX0sdXQpLHB0PUYoe2luaXRGb2N1c0V2ZW50OlMoImluaXRGb2N1c0V2ZW50Iiw1KX0sdXQpLGh0PUUoIk1vdXNlRXZlbnQiLGN0LGR0KSxmdD1FKCJGb2N1c0V2ZW50IixjdCxwdCksbXQ9T2JqZWN0LmNyZWF0ZShudWxsKSx2dD1mdW5jdGlvbigpe3RyeXtuZXcgd2luZG93LkZvY3VzRXZlbnQoImZvY3VzIil9Y2F0Y2goZSl7cmV0dXJuITF9cmV0dXJuITB9KCk7aWYoIXZ0KXt2YXIgd3Q9ZnVuY3Rpb24oZSx0LG4pe2lmKG4pe3ZhciByPW10W25dO3Q9RihGKHt9LHIpLHQpfW10W2VdPXR9O3d0KCJFdmVudCIse2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMX0pLHd0KCJDdXN0b21FdmVudCIse2RldGFpbDpudWxsfSwiRXZlbnQiKSx3dCgiVUlFdmVudCIse3ZpZXc6bnVsbCxkZXRhaWw6MH0sIkV2ZW50Iiksd3QoIk1vdXNlRXZlbnQiLHtzY3JlZW5YOjAsc2NyZWVuWTowLGNsaWVudFg6MCxjbGllbnRZOjAsY3RybEtleTohMSxhbHRLZXk6ITEsc2hpZnRLZXk6ITEsbWV0YUtleTohMSxidXR0b246MCxyZWxhdGVkVGFyZ2V0Om51bGx9LCJVSUV2ZW50Iiksd3QoIkZvY3VzRXZlbnQiLHtyZWxhdGVkVGFyZ2V0Om51bGx9LCJVSUV2ZW50Iil9dmFyIGd0PXdpbmRvdy5CZWZvcmVVbmxvYWRFdmVudDtULnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHkucHJvdG90eXBlKSxGKFQucHJvdG90eXBlLHtnZXQgcmV0dXJuVmFsdWUoKXtyZXR1cm4gVSh0aGlzKS5yZXR1cm5WYWx1ZX0sc2V0IHJldHVyblZhbHVlKGUpe1UodGhpcykucmV0dXJuVmFsdWU9ZX19KSxndCYmVyhndCxUKTt2YXIgYnQ9d2luZG93LkV2ZW50VGFyZ2V0LHl0PVsiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkaXNwYXRjaEV2ZW50Il07W05vZGUsV2luZG93XS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUucHJvdG90eXBlO3l0LmZvckVhY2goZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSsiXyIse3ZhbHVlOnRbZV19KX0pfSksTC5wcm90b3R5cGU9e2FkZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oZSx0LG4pe2lmKE0odCkmJiFDKGUpKXt2YXIgcj1uZXcgYihlLHQsbiksbz16LmdldCh0aGlzKTtpZihvKXtmb3IodmFyIGk9MDtpPG8ubGVuZ3RoO2krKylpZihyLmVxdWFscyhvW2ldKSlyZXR1cm59ZWxzZSBvPVtdLG8uZGVwdGg9MCx6LnNldCh0aGlzLG8pO28ucHVzaChyKTt2YXIgYT1OKHRoaXMpO2EuYWRkRXZlbnRMaXN0ZW5lcl8oZSxwLCEwKX19LHJlbW92ZUV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oZSx0LG4pe249Qm9vbGVhbihuKTt2YXIgcj16LmdldCh0aGlzKTtpZihyKXtmb3IodmFyIG89MCxpPSExLGE9MDthPHIubGVuZ3RoO2ErKylyW2FdLnR5cGU9PT1lJiZyW2FdLmNhcHR1cmU9PT1uJiYobysrLHJbYV0uaGFuZGxlcj09PXQmJihpPSEwLHJbYV0ucmVtb3ZlKCkpKTtpZihpJiYxPT09byl7dmFyIHM9Tih0aGlzKTtzLnJlbW92ZUV2ZW50TGlzdGVuZXJfKGUscCwhMCl9fX0sZGlzcGF0Y2hFdmVudDpmdW5jdGlvbih0KXt2YXIgbj1CKHQpLHI9bi50eXBlO0suc2V0KG4sITEpLGUucmVuZGVyQWxsUGVuZGluZygpO3ZhciBvO0QodGhpcyxyKXx8KG89ZnVuY3Rpb24oKXt9LHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihyLG8sITApKTt0cnl7cmV0dXJuIEIodGhpcykuZGlzcGF0Y2hFdmVudF8obil9ZmluYWxseXtvJiZ0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIocixvLCEwKX19fSxidCYmVyhidCxMKTt2YXIgX3Q9ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludDtlLmVsZW1lbnRGcm9tUG9pbnQ9SCxlLmdldEV2ZW50SGFuZGxlckdldHRlcj1SLGUuZ2V0RXZlbnRIYW5kbGVyU2V0dGVyPVAsZS53cmFwRXZlbnRUYXJnZXRNZXRob2RzPXgsZS53cmFwcGVycy5CZWZvcmVVbmxvYWRFdmVudD1ULGUud3JhcHBlcnMuQ3VzdG9tRXZlbnQ9bHQsZS53cmFwcGVycy5FdmVudD15LGUud3JhcHBlcnMuRXZlbnRUYXJnZXQ9TCxlLndyYXBwZXJzLkZvY3VzRXZlbnQ9ZnQsZS53cmFwcGVycy5Nb3VzZUV2ZW50PWh0LGUud3JhcHBlcnMuVUlFdmVudD1jdH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlLHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsbSl9ZnVuY3Rpb24gbihlKXtsKGUsdGhpcyl9ZnVuY3Rpb24gcigpe3RoaXMubGVuZ3RoPTAsdCh0aGlzLCJsZW5ndGgiKX1mdW5jdGlvbiBvKGUpe2Zvcih2YXIgdD1uZXcgcixvPTA7bzxlLmxlbmd0aDtvKyspdFtvXT1uZXcgbihlW29dKTtyZXR1cm4gdC5sZW5ndGg9byx0fWZ1bmN0aW9uIGkoZSl7YS5jYWxsKHRoaXMsZSl9dmFyIGE9ZS53cmFwcGVycy5VSUV2ZW50LHM9ZS5taXhpbixjPWUucmVnaXN0ZXJXcmFwcGVyLGw9ZS5zZXRXcmFwcGVyLHU9ZS51bnNhZmVVbndyYXAsZD1lLndyYXAscD13aW5kb3cuVG91Y2hFdmVudDtpZihwKXt2YXIgaDt0cnl7aD1kb2N1bWVudC5jcmVhdGVFdmVudCgiVG91Y2hFdmVudCIpfWNhdGNoKGYpe3JldHVybn12YXIgbT17ZW51bWVyYWJsZTohMX07bi5wcm90b3R5cGU9e2dldCB0YXJnZXQoKXtyZXR1cm4gZCh1KHRoaXMpLnRhcmdldCl9fTt2YXIgdj17Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0Om51bGx9O1siY2xpZW50WCIsImNsaWVudFkiLCJzY3JlZW5YIiwic2NyZWVuWSIsInBhZ2VYIiwicGFnZVkiLCJpZGVudGlmaWVyIiwid2Via2l0UmFkaXVzWCIsIndlYmtpdFJhZGl1c1kiLCJ3ZWJraXRSb3RhdGlvbkFuZ2xlIiwid2Via2l0Rm9yY2UiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3YuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHUodGhpcylbZV19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSxlLHYpfSksci5wcm90b3R5cGU9e2l0ZW06ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXNbZV19fSxpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGEucHJvdG90eXBlKSxzKGkucHJvdG90eXBlLHtnZXQgdG91Y2hlcygpe3JldHVybiBvKHUodGhpcykudG91Y2hlcyl9LGdldCB0YXJnZXRUb3VjaGVzKCl7cmV0dXJuIG8odSh0aGlzKS50YXJnZXRUb3VjaGVzKX0sZ2V0IGNoYW5nZWRUb3VjaGVzKCl7cmV0dXJuIG8odSh0aGlzKS5jaGFuZ2VkVG91Y2hlcyl9LGluaXRUb3VjaEV2ZW50OmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJOb3QgaW1wbGVtZW50ZWQiKX19KSxjKHAsaSxoKSxlLndyYXBwZXJzLlRvdWNoPW4sZS53cmFwcGVycy5Ub3VjaEV2ZW50PWksZS53cmFwcGVycy5Ub3VjaExpc3Q9cn19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSx0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHMpfWZ1bmN0aW9uIG4oKXt0aGlzLmxlbmd0aD0wLHQodGhpcywibGVuZ3RoIil9ZnVuY3Rpb24gcihlKXtpZihudWxsPT1lKXJldHVybiBlO2Zvcih2YXIgdD1uZXcgbixyPTAsbz1lLmxlbmd0aDtvPnI7cisrKXRbcl09YShlW3JdKTtyZXR1cm4gdC5sZW5ndGg9byx0fWZ1bmN0aW9uIG8oZSx0KXtlLnByb3RvdHlwZVt0XT1mdW5jdGlvbigpe3JldHVybiByKGkodGhpcylbdF0uYXBwbHkoaSh0aGlzKSxhcmd1bWVudHMpKX19dmFyIGk9ZS51bnNhZmVVbndyYXAsYT1lLndyYXAscz17ZW51bWVyYWJsZTohMX07bi5wcm90b3R5cGU9e2l0ZW06ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXNbZV19fSx0KG4ucHJvdG90eXBlLCJpdGVtIiksZS53cmFwcGVycy5Ob2RlTGlzdD1uLGUuYWRkV3JhcE5vZGVMaXN0TWV0aG9kPW8sZS53cmFwTm9kZUxpc3Q9cn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZS53cmFwSFRNTENvbGxlY3Rpb249ZS53cmFwTm9kZUxpc3QsZS53cmFwcGVycy5IVE1MQ29sbGVjdGlvbj1lLndyYXBwZXJzLk5vZGVMaXN0fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe00oZSBpbnN0YW5jZW9mIEUpfWZ1bmN0aW9uIG4oZSl7dmFyIHQ9bmV3IE87cmV0dXJuIHRbMF09ZSx0Lmxlbmd0aD0xLHR9ZnVuY3Rpb24gcihlLHQsbil7TCh0LCJjaGlsZExpc3QiLHtyZW1vdmVkTm9kZXM6bixwcmV2aW91c1NpYmxpbmc6ZS5wcmV2aW91c1NpYmxpbmcsbmV4dFNpYmxpbmc6ZS5uZXh0U2libGluZ30pfWZ1bmN0aW9uIG8oZSx0KXtMKGUsImNoaWxkTGlzdCIse3JlbW92ZWROb2Rlczp0fSl9ZnVuY3Rpb24gaShlLHQscixvKXtpZihlIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCl7dmFyIGk9cyhlKTtxPSEwO2Zvcih2YXIgYT1pLmxlbmd0aC0xO2E+PTA7YS0tKWUucmVtb3ZlQ2hpbGQoaVthXSksaVthXS5wYXJlbnROb2RlXz10O3E9ITE7Zm9yKHZhciBhPTA7YTxpLmxlbmd0aDthKyspaVthXS5wcmV2aW91c1NpYmxpbmdfPWlbYS0xXXx8cixpW2FdLm5leHRTaWJsaW5nXz1pW2ErMV18fG87cmV0dXJuIHImJihyLm5leHRTaWJsaW5nXz1pWzBdKSxvJiYoby5wcmV2aW91c1NpYmxpbmdfPWlbaS5sZW5ndGgtMV0pLGl9dmFyIGk9bihlKSxjPWUucGFyZW50Tm9kZTtyZXR1cm4gYyYmYy5yZW1vdmVDaGlsZChlKSxlLnBhcmVudE5vZGVfPXQsZS5wcmV2aW91c1NpYmxpbmdfPXIsZS5uZXh0U2libGluZ189byxyJiYoci5uZXh0U2libGluZ189ZSksbyYmKG8ucHJldmlvdXNTaWJsaW5nXz1lKSxpfWZ1bmN0aW9uIGEoZSl7aWYoZSBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpcmV0dXJuIHMoZSk7dmFyIHQ9bihlKSxvPWUucGFyZW50Tm9kZTtyZXR1cm4gbyYmcihlLG8sdCksdH1mdW5jdGlvbiBzKGUpe2Zvcih2YXIgdD1uZXcgTyxuPTAscj1lLmZpcnN0Q2hpbGQ7cjtyPXIubmV4dFNpYmxpbmcpdFtuKytdPXI7cmV0dXJuIHQubGVuZ3RoPW4sbyhlLHQpLHR9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZX1mdW5jdGlvbiBsKGUsdCl7UihlLHQpLGUubm9kZUlzSW5zZXJ0ZWRfKCl9ZnVuY3Rpb24gdShlLHQpe2Zvcih2YXIgbj1OKHQpLHI9MDtyPGUubGVuZ3RoO3IrKylsKGVbcl0sbil9ZnVuY3Rpb24gZChlKXtSKGUsbmV3IFQoZSxudWxsKSl9ZnVuY3Rpb24gcChlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKylkKGVbdF0pfWZ1bmN0aW9uIGgoZSx0KXt2YXIgbj1lLm5vZGVUeXBlPT09RS5ET0NVTUVOVF9OT0RFP2U6ZS5vd25lckRvY3VtZW50O24hPT10Lm93bmVyRG9jdW1lbnQmJm4uYWRvcHROb2RlKHQpfWZ1bmN0aW9uIGYodCxuKXtpZihuLmxlbmd0aCl7dmFyIHI9dC5vd25lckRvY3VtZW50O2lmKHIhPT1uWzBdLm93bmVyRG9jdW1lbnQpZm9yKHZhciBvPTA7bzxuLmxlbmd0aDtvKyspZS5hZG9wdE5vZGVOb1JlbW92ZShuW29dLHIpfX1mdW5jdGlvbiBtKGUsdCl7ZihlLHQpO3ZhciBuPXQubGVuZ3RoO2lmKDE9PT1uKXJldHVybiBJKHRbMF0pO2Zvcih2YXIgcj1JKGUub3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpLG89MDtuPm87bysrKXIuYXBwZW5kQ2hpbGQoSSh0W29dKSk7cmV0dXJuIHJ9ZnVuY3Rpb24gdihlKXtpZih2b2lkIDAhPT1lLmZpcnN0Q2hpbGRfKWZvcih2YXIgdD1lLmZpcnN0Q2hpbGRfO3Q7KXt2YXIgbj10O3Q9dC5uZXh0U2libGluZ18sbi5wYXJlbnROb2RlXz1uLnByZXZpb3VzU2libGluZ189bi5uZXh0U2libGluZ189dm9pZCAwfWUuZmlyc3RDaGlsZF89ZS5sYXN0Q2hpbGRfPXZvaWQgMH1mdW5jdGlvbiB3KGUpe2lmKGUuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe2Zvcih2YXIgdD1lLmZpcnN0Q2hpbGQ7dDspe00odC5wYXJlbnROb2RlPT09ZSk7dmFyIG49dC5uZXh0U2libGluZyxyPUkodCksbz1yLnBhcmVudE5vZGU7byYmWS5jYWxsKG8sciksdC5wcmV2aW91c1NpYmxpbmdfPXQubmV4dFNpYmxpbmdfPXQucGFyZW50Tm9kZV89bnVsbCx0PW59ZS5maXJzdENoaWxkXz1lLmxhc3RDaGlsZF89bnVsbH1lbHNlIGZvcih2YXIgbixpPUkoZSksYT1pLmZpcnN0Q2hpbGQ7YTspbj1hLm5leHRTaWJsaW5nLFkuY2FsbChpLGEpLGE9bn1mdW5jdGlvbiBnKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmdC5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKX1mdW5jdGlvbiBiKGUpe2Zvcih2YXIgdCxuPTA7bjxlLmxlbmd0aDtuKyspdD1lW25dLHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KX1mdW5jdGlvbiB5KGUsdCxuKXt2YXIgcjtpZihyPUEobj9VLmNhbGwobixQKGUpLCExKTpCLmNhbGwoUChlKSwhMSkpLHQpe2Zvcih2YXIgbz1lLmZpcnN0Q2hpbGQ7bztvPW8ubmV4dFNpYmxpbmcpci5hcHBlbmRDaGlsZCh5KG8sITAsbikpO2lmKGUgaW5zdGFuY2VvZiBXLkhUTUxUZW1wbGF0ZUVsZW1lbnQpZm9yKHZhciBpPXIuY29udGVudCxvPWUuY29udGVudC5maXJzdENoaWxkO287bz1vLm5leHRTaWJsaW5nKWkuYXBwZW5kQ2hpbGQoeShvLCEwLG4pKX1yZXR1cm4gcn1mdW5jdGlvbiBfKGUsdCl7aWYoIXR8fE4oZSkhPT1OKHQpKXJldHVybiExO2Zvcih2YXIgbj10O247bj1uLnBhcmVudE5vZGUpaWYobj09PWUpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gRShlKXtNKGUgaW5zdGFuY2VvZiBWKSxTLmNhbGwodGhpcyxlKSx0aGlzLnBhcmVudE5vZGVfPXZvaWQgMCx0aGlzLmZpcnN0Q2hpbGRfPXZvaWQgMCx0aGlzLmxhc3RDaGlsZF89dm9pZCAwLHRoaXMubmV4dFNpYmxpbmdfPXZvaWQgMCx0aGlzLnByZXZpb3VzU2libGluZ189dm9pZCAwLHRoaXMudHJlZVNjb3BlXz12b2lkIDB9dmFyIFM9ZS53cmFwcGVycy5FdmVudFRhcmdldCxPPWUud3JhcHBlcnMuTm9kZUxpc3QsVD1lLlRyZWVTY29wZSxNPWUuYXNzZXJ0LEM9ZS5kZWZpbmVXcmFwR2V0dGVyLEw9ZS5lbnF1ZXVlTXV0YXRpb24sTj1lLmdldFRyZWVTY29wZSxqPWUuaXNXcmFwcGVyLEQ9ZS5taXhpbix4PWUucmVnaXN0ZXJUcmFuc2llbnRPYnNlcnZlcnMsSD1lLnJlZ2lzdGVyV3JhcHBlcixSPWUuc2V0VHJlZVNjb3BlLFA9ZS51bnNhZmVVbndyYXAsST1lLnVud3JhcCxrPWUudW53cmFwSWZOZWVkZWQsQT1lLndyYXAsRj1lLndyYXBJZk5lZWRlZCxXPWUud3JhcHBlcnMscT0hMSxVPWRvY3VtZW50LmltcG9ydE5vZGUsQj13aW5kb3cuTm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlLFY9d2luZG93Lk5vZGUsRz13aW5kb3cuRG9jdW1lbnRGcmFnbWVudCx6PShWLnByb3RvdHlwZS5hcHBlbmRDaGlsZCxWLnByb3RvdHlwZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksSz1WLnByb3RvdHlwZS5pbnNlcnRCZWZvcmUsWT1WLnByb3RvdHlwZS5yZW1vdmVDaGlsZCxYPVYucHJvdG90eXBlLnJlcGxhY2VDaGlsZCwkPS9UcmlkZW50Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLFE9JD9mdW5jdGlvbihlLHQpe3RyeXtZLmNhbGwoZSx0KX1jYXRjaChuKXtpZighKGUgaW5zdGFuY2VvZiBHKSl0aHJvdyBufX06ZnVuY3Rpb24oZSx0KXtZLmNhbGwoZSx0KX07RS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShTLnByb3RvdHlwZSksRChFLnByb3RvdHlwZSx7YXBwZW5kQ2hpbGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaW5zZXJ0QmVmb3JlKGUsbnVsbCl9LGluc2VydEJlZm9yZTpmdW5jdGlvbihlLG4pe3QoZSk7dmFyIHI7bj9qKG4pP3I9SShuKToocj1uLG49QShyKSk6KG49bnVsbCxyPW51bGwpLG4mJk0obi5wYXJlbnROb2RlPT09dGhpcyk7dmFyIG8scz1uP24ucHJldmlvdXNTaWJsaW5nOnRoaXMubGFzdENoaWxkLGM9IXRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkmJiFnKGUpO2lmKG89Yz9hKGUpOmkoZSx0aGlzLHMsbiksYyloKHRoaXMsZSksdih0aGlzKSxLLmNhbGwoUCh0aGlzKSxJKGUpLHIpO2Vsc2V7c3x8KHRoaXMuZmlyc3RDaGlsZF89b1swXSksbnx8KHRoaXMubGFzdENoaWxkXz1vW28ubGVuZ3RoLTFdLHZvaWQgMD09PXRoaXMuZmlyc3RDaGlsZF8mJih0aGlzLmZpcnN0Q2hpbGRfPXRoaXMuZmlyc3RDaGlsZCkpO3ZhciBsPXI/ci5wYXJlbnROb2RlOlAodGhpcyk7bD9LLmNhbGwobCxtKHRoaXMsbykscik6Zih0aGlzLG8pfXJldHVybiBMKHRoaXMsImNoaWxkTGlzdCIse2FkZGVkTm9kZXM6byxuZXh0U2libGluZzpuLHByZXZpb3VzU2libGluZzpzfSksdShvLHRoaXMpLGV9LHJlbW92ZUNoaWxkOmZ1bmN0aW9uKGUpe2lmKHQoZSksZS5wYXJlbnROb2RlIT09dGhpcyl7Zm9yKHZhciByPSExLG89KHRoaXMuY2hpbGROb2Rlcyx0aGlzLmZpcnN0Q2hpbGQpO287bz1vLm5leHRTaWJsaW5nKWlmKG89PT1lKXtyPSEwO2JyZWFrfWlmKCFyKXRocm93IG5ldyBFcnJvcigiTm90Rm91bmRFcnJvciIpfXZhciBpPUkoZSksYT1lLm5leHRTaWJsaW5nLHM9ZS5wcmV2aW91c1NpYmxpbmc7aWYodGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSl7dmFyIGM9dGhpcy5maXJzdENoaWxkLGw9dGhpcy5sYXN0Q2hpbGQsdT1pLnBhcmVudE5vZGU7dSYmUSh1LGkpLGM9PT1lJiYodGhpcy5maXJzdENoaWxkXz1hKSxsPT09ZSYmKHRoaXMubGFzdENoaWxkXz1zKSxzJiYocy5uZXh0U2libGluZ189YSksYSYmKGEucHJldmlvdXNTaWJsaW5nXz1zKSxlLnByZXZpb3VzU2libGluZ189ZS5uZXh0U2libGluZ189ZS5wYXJlbnROb2RlXz12b2lkIDB9ZWxzZSB2KHRoaXMpLFEoUCh0aGlzKSxpKTtyZXR1cm4gcXx8TCh0aGlzLCJjaGlsZExpc3QiLHtyZW1vdmVkTm9kZXM6bihlKSxuZXh0U2libGluZzphLHByZXZpb3VzU2libGluZzpzfSkseCh0aGlzLGUpLGV9LHJlcGxhY2VDaGlsZDpmdW5jdGlvbihlLHIpe3QoZSk7dmFyIG87aWYoaihyKT9vPUkocik6KG89cixyPUEobykpLHIucGFyZW50Tm9kZSE9PXRoaXMpdGhyb3cgbmV3IEVycm9yKCJOb3RGb3VuZEVycm9yIik7dmFyIHMsYz1yLm5leHRTaWJsaW5nLGw9ci5wcmV2aW91c1NpYmxpbmcscD0hdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSYmIWcoZSk7cmV0dXJuIHA/cz1hKGUpOihjPT09ZSYmKGM9ZS5uZXh0U2libGluZykscz1pKGUsdGhpcyxsLGMpKSxwPyhoKHRoaXMsZSksdih0aGlzKSxYLmNhbGwoUCh0aGlzKSxJKGUpLG8pKToodGhpcy5maXJzdENoaWxkPT09ciYmKHRoaXMuZmlyc3RDaGlsZF89c1swXSksdGhpcy5sYXN0Q2hpbGQ9PT1yJiYodGhpcy5sYXN0Q2hpbGRfPXNbcy5sZW5ndGgtMV0pLHIucHJldmlvdXNTaWJsaW5nXz1yLm5leHRTaWJsaW5nXz1yLnBhcmVudE5vZGVfPXZvaWQgMCxvLnBhcmVudE5vZGUmJlguY2FsbChvLnBhcmVudE5vZGUsbSh0aGlzLHMpLG8pKSxMKHRoaXMsImNoaWxkTGlzdCIse2FkZGVkTm9kZXM6cyxyZW1vdmVkTm9kZXM6bihyKSxuZXh0U2libGluZzpjLHByZXZpb3VzU2libGluZzpsfSksZChyKSx1KHMsdGhpcykscn0sbm9kZUlzSW5zZXJ0ZWRfOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyllLm5vZGVJc0luc2VydGVkXygpfSxoYXNDaGlsZE5vZGVzOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmZpcnN0Q2hpbGR9LGdldCBwYXJlbnROb2RlKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMucGFyZW50Tm9kZV8/dGhpcy5wYXJlbnROb2RlXzpBKFAodGhpcykucGFyZW50Tm9kZSl9LGdldCBmaXJzdENoaWxkKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuZmlyc3RDaGlsZF8/dGhpcy5maXJzdENoaWxkXzpBKFAodGhpcykuZmlyc3RDaGlsZCl9LGdldCBsYXN0Q2hpbGQoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5sYXN0Q2hpbGRfP3RoaXMubGFzdENoaWxkXzpBKFAodGhpcykubGFzdENoaWxkKX0sZ2V0IG5leHRTaWJsaW5nKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMubmV4dFNpYmxpbmdfP3RoaXMubmV4dFNpYmxpbmdfOkEoUCh0aGlzKS5uZXh0U2libGluZyl9LGdldCBwcmV2aW91c1NpYmxpbmcoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5wcmV2aW91c1NpYmxpbmdfP3RoaXMucHJldmlvdXNTaWJsaW5nXzpBKFAodGhpcykucHJldmlvdXNTaWJsaW5nKX0sZ2V0IHBhcmVudEVsZW1lbnQoKXtmb3IodmFyIGU9dGhpcy5wYXJlbnROb2RlO2UmJmUubm9kZVR5cGUhPT1FLkVMRU1FTlRfTk9ERTspZT1lLnBhcmVudE5vZGU7cmV0dXJuIGV9LGdldCB0ZXh0Q29udGVudCgpe2Zvcih2YXIgZT0iIix0PXRoaXMuZmlyc3RDaGlsZDt0O3Q9dC5uZXh0U2libGluZyl0Lm5vZGVUeXBlIT1FLkNPTU1FTlRfTk9ERSYmKGUrPXQudGV4dENvbnRlbnQpO3JldHVybiBlfSxzZXQgdGV4dENvbnRlbnQoZSl7dmFyIHQ9Yyh0aGlzLmNoaWxkTm9kZXMpO2lmKHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe2lmKHcodGhpcyksIiIhPT1lKXt2YXIgbj1QKHRoaXMpLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZSk7dGhpcy5hcHBlbmRDaGlsZChuKX19ZWxzZSB2KHRoaXMpLFAodGhpcykudGV4dENvbnRlbnQ9ZTt2YXIgcj1jKHRoaXMuY2hpbGROb2Rlcyk7TCh0aGlzLCJjaGlsZExpc3QiLHthZGRlZE5vZGVzOnIscmVtb3ZlZE5vZGVzOnR9KSxwKHQpLHUocix0aGlzKX0sZ2V0IGNoaWxkTm9kZXMoKXtmb3IodmFyIGU9bmV3IE8sdD0wLG49dGhpcy5maXJzdENoaWxkO247bj1uLm5leHRTaWJsaW5nKWVbdCsrXT1uO3JldHVybiBlLmxlbmd0aD10LGV9LGNsb25lTm9kZTpmdW5jdGlvbihlKXtyZXR1cm4geSh0aGlzLGUpfSxjb250YWluczpmdW5jdGlvbihlKXtyZXR1cm4gXyh0aGlzLEYoZSkpfSxjb21wYXJlRG9jdW1lbnRQb3NpdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gei5jYWxsKFAodGhpcyksayhlKSl9LG5vcm1hbGl6ZTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0LG49Yyh0aGlzLmNoaWxkTm9kZXMpLHI9W10sbz0iIixpPTA7aTxuLmxlbmd0aDtpKyspdD1uW2ldLHQubm9kZVR5cGU9PT1FLlRFWFRfTk9ERT9lfHx0LmRhdGEubGVuZ3RoP2U/KG8rPXQuZGF0YSxyLnB1c2godCkpOmU9dDp0aGlzLnJlbW92ZU5vZGUodCk6KGUmJnIubGVuZ3RoJiYoZS5kYXRhKz1vLGIocikpLHI9W10sbz0iIixlPW51bGwsdC5jaGlsZE5vZGVzLmxlbmd0aCYmdC5ub3JtYWxpemUoKSk7ZSYmci5sZW5ndGgmJihlLmRhdGErPW8sYihyKSl9fSksQyhFLCJvd25lckRvY3VtZW50IiksSChWLEUsZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKSxkZWxldGUgRS5wcm90b3R5cGUucXVlcnlTZWxlY3RvcixkZWxldGUgRS5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbCxFLnByb3RvdHlwZT1EKE9iamVjdC5jcmVhdGUoUy5wcm90b3R5cGUpLEUucHJvdG90eXBlKSxlLmNsb25lTm9kZT15LGUubm9kZVdhc0FkZGVkPWwsZS5ub2RlV2FzUmVtb3ZlZD1kLGUubm9kZXNXZXJlQWRkZWQ9dSxlLm5vZGVzV2VyZVJlbW92ZWQ9cCxlLm9yaWdpbmFsSW5zZXJ0QmVmb3JlPUssZS5vcmlnaW5hbFJlbW92ZUNoaWxkPVksZS5zbmFwc2hvdE5vZGVMaXN0PWMsZS53cmFwcGVycy5Ob2RlPUV9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQodCxuLHIsbyl7Zm9yKHZhciBpPW51bGwsYT1udWxsLHM9MCxjPXQubGVuZ3RoO2M+cztzKyspaT1nKHRbc10pLCFvJiYoYT12KGkpLnJvb3QpJiZhIGluc3RhbmNlb2YgZS53cmFwcGVycy5TaGFkb3dSb290fHwocltuKytdPWkpO3JldHVybiBufWZ1bmN0aW9uIG4oZSl7cmV0dXJuIFN0cmluZyhlKS5yZXBsYWNlKC9cL2RlZXBcLy9nLCIgIil9ZnVuY3Rpb24gcihlLHQpe2Zvcih2YXIgbixvPWUuZmlyc3RFbGVtZW50Q2hpbGQ7bzspe2lmKG8ubWF0Y2hlcyh0KSlyZXR1cm4gbztpZihuPXIobyx0KSlyZXR1cm4gbjtvPW8ubmV4dEVsZW1lbnRTaWJsaW5nfXJldHVybiBudWxsfWZ1bmN0aW9uIG8oZSx0KXtyZXR1cm4gZS5tYXRjaGVzKHQpfWZ1bmN0aW9uIGkoZSx0LG4pe3ZhciByPWUubG9jYWxOYW1lO3JldHVybiByPT09dHx8cj09PW4mJmUubmFtZXNwYWNlVVJJPT09Tn1mdW5jdGlvbiBhKCl7cmV0dXJuITB9ZnVuY3Rpb24gcyhlLHQsbil7cmV0dXJuIGUubG9jYWxOYW1lPT09bn1mdW5jdGlvbiBjKGUsdCl7cmV0dXJuIGUubmFtZXNwYWNlVVJJPT09dH1mdW5jdGlvbiBsKGUsdCxuKXtyZXR1cm4gZS5uYW1lc3BhY2VVUkk9PT10JiZlLmxvY2FsTmFtZT09PW59ZnVuY3Rpb24gdShlLHQsbixyLG8saSl7Zm9yKHZhciBhPWUuZmlyc3RFbGVtZW50Q2hpbGQ7YTspcihhLG8saSkmJihuW3QrK109YSksdD11KGEsdCxuLHIsbyxpKSxhPWEubmV4dEVsZW1lbnRTaWJsaW5nO3JldHVybiB0fWZ1bmN0aW9uIGQobixyLG8saSxhKXt2YXIgcyxjPXcodGhpcyksbD12KHRoaXMpLnJvb3Q7aWYobCBpbnN0YW5jZW9mIGUud3JhcHBlcnMuU2hhZG93Um9vdClyZXR1cm4gdSh0aGlzLHIsbyxuLGksbnVsbCk7aWYoYyBpbnN0YW5jZW9mIEMpcz1FLmNhbGwoYyxpKTtlbHNle2lmKCEoYyBpbnN0YW5jZW9mIEwpKXJldHVybiB1KHRoaXMscixvLG4saSxudWxsKTtzPV8uY2FsbChjLGkpfXJldHVybiB0KHMscixvLGEpfWZ1bmN0aW9uIHAobixyLG8saSxhKXt2YXIgcyxjPXcodGhpcyksbD12KHRoaXMpLnJvb3Q7aWYobCBpbnN0YW5jZW9mIGUud3JhcHBlcnMuU2hhZG93Um9vdClyZXR1cm4gdSh0aGlzLHIsbyxuLGksYSk7aWYoYyBpbnN0YW5jZW9mIEMpcz1PLmNhbGwoYyxpLGEpO2Vsc2V7aWYoIShjIGluc3RhbmNlb2YgTCkpcmV0dXJuIHUodGhpcyxyLG8sbixpLGEpO3M9Uy5jYWxsKGMsaSxhKX1yZXR1cm4gdChzLHIsbywhMSl9ZnVuY3Rpb24gaChuLHIsbyxpLGEpe3ZhciBzLGM9dyh0aGlzKSxsPXYodGhpcykucm9vdDtpZihsIGluc3RhbmNlb2YgZS53cmFwcGVycy5TaGFkb3dSb290KXJldHVybiB1KHRoaXMscixvLG4saSxhKTtpZihjIGluc3RhbmNlb2YgQylzPU0uY2FsbChjLGksYSk7ZWxzZXtpZighKGMgaW5zdGFuY2VvZiBMKSlyZXR1cm4gdSh0aGlzLHIsbyxuLGksYSk7cz1ULmNhbGwoYyxpLGEpfXJldHVybiB0KHMscixvLCExKX12YXIgZj1lLndyYXBwZXJzLkhUTUxDb2xsZWN0aW9uLG09ZS53cmFwcGVycy5Ob2RlTGlzdCx2PWUuZ2V0VHJlZVNjb3BlLHc9ZS51bnNhZmVVbndyYXAsZz1lLndyYXAsYj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yLHk9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IsXz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsLEU9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwsUz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSxPPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSxUPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lTlMsTT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyxDPXdpbmRvdy5FbGVtZW50LEw9d2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50LE49Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLGo9e3F1ZXJ5U2VsZWN0b3I6ZnVuY3Rpb24odCl7dmFyIG89bih0KSxpPW8hPT10O3Q9bzt2YXIgYSxzPXcodGhpcyksYz12KHRoaXMpLnJvb3Q7aWYoYyBpbnN0YW5jZW9mIGUud3JhcHBlcnMuU2hhZG93Um9vdClyZXR1cm4gcih0aGlzLHQpO2lmKHMgaW5zdGFuY2VvZiBDKWE9Zyh5LmNhbGwocyx0KSk7ZWxzZXtpZighKHMgaW5zdGFuY2VvZiBMKSlyZXR1cm4gcih0aGlzLHQpO2E9ZyhiLmNhbGwocyx0KSl9cmV0dXJuIGEmJiFpJiYoYz12KGEpLnJvb3QpJiZjIGluc3RhbmNlb2YgZS53cmFwcGVycy5TaGFkb3dSb290P3IodGhpcyx0KTphfSxxdWVyeVNlbGVjdG9yQWxsOmZ1bmN0aW9uKGUpe3ZhciB0PW4oZSkscj10IT09ZTtlPXQ7dmFyIGk9bmV3IG07cmV0dXJuIGkubGVuZ3RoPWQuY2FsbCh0aGlzLG8sMCxpLGUsciksaX19LEQ9e2dldEVsZW1lbnRzQnlUYWdOYW1lOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBmLG49IioiPT09ZT9hOmk7cmV0dXJuIHQubGVuZ3RoPXAuY2FsbCh0aGlzLG4sMCx0LGUsZS50b0xvd2VyQ2FzZSgpKSx0fSxnZXRFbGVtZW50c0J5Q2xhc3NOYW1lOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoIi4iK2UpfSxnZXRFbGVtZW50c0J5VGFnTmFtZU5TOmZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IGYscj1udWxsO3JldHVybiByPSIqIj09PWU/IioiPT09dD9hOnM6IioiPT09dD9jOmwsbi5sZW5ndGg9aC5jYWxsKHRoaXMsciwwLG4sZXx8bnVsbCx0KSxufX07ZS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlPUQsZS5TZWxlY3RvcnNJbnRlcmZhY2U9an0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtmb3IoO2UmJmUubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERTspZT1lLm5leHRTaWJsaW5nO3JldHVybiBlfWZ1bmN0aW9uIG4oZSl7Zm9yKDtlJiZlLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWU9ZS5wcmV2aW91c1NpYmxpbmc7cmV0dXJuIGV9dmFyIHI9ZS53cmFwcGVycy5Ob2RlTGlzdCxvPXtnZXQgZmlyc3RFbGVtZW50Q2hpbGQoKXtyZXR1cm4gdCh0aGlzLmZpcnN0Q2hpbGQpfSxnZXQgbGFzdEVsZW1lbnRDaGlsZCgpe3JldHVybiBuKHRoaXMubGFzdENoaWxkKX0sZ2V0IGNoaWxkRWxlbWVudENvdW50KCl7Zm9yKHZhciBlPTAsdD10aGlzLmZpcnN0RWxlbWVudENoaWxkO3Q7dD10Lm5leHRFbGVtZW50U2libGluZyllKys7cmV0dXJuIGV9LGdldCBjaGlsZHJlbigpe2Zvcih2YXIgZT1uZXcgcix0PTAsbj10aGlzLmZpcnN0RWxlbWVudENoaWxkO247bj1uLm5leHRFbGVtZW50U2libGluZyllW3QrK109bjtyZXR1cm4gZS5sZW5ndGg9dCxlfSxyZW1vdmU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBhcmVudE5vZGU7ZSYmZS5yZW1vdmVDaGlsZCh0aGlzKX19LGk9e2dldCBuZXh0RWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gdCh0aGlzLm5leHRTaWJsaW5nKX0sZ2V0IHByZXZpb3VzRWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gbih0aGlzLnByZXZpb3VzU2libGluZyl9fTtlLkNoaWxkTm9kZUludGVyZmFjZT1pLGUuUGFyZW50Tm9kZUludGVyZmFjZT1vfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe3IuY2FsbCh0aGlzLGUpfXZhciBuPWUuQ2hpbGROb2RlSW50ZXJmYWNlLHI9ZS53cmFwcGVycy5Ob2RlLG89ZS5lbnF1ZXVlTXV0YXRpb24saT1lLm1peGluLGE9ZS5yZWdpc3RlcldyYXBwZXIscz1lLnVuc2FmZVVud3JhcCxjPXdpbmRvdy5DaGFyYWN0ZXJEYXRhO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpLGkodC5wcm90b3R5cGUse2dldCB0ZXh0Q29udGVudCgpe3JldHVybiB0aGlzLmRhdGF9LHNldCB0ZXh0Q29udGVudChlKXt0aGlzLmRhdGE9ZX0sZ2V0IGRhdGEoKXtyZXR1cm4gcyh0aGlzKS5kYXRhfSxzZXQgZGF0YShlKXt2YXIgdD1zKHRoaXMpLmRhdGE7byh0aGlzLCJjaGFyYWN0ZXJEYXRhIix7b2xkVmFsdWU6dH0pLHModGhpcykuZGF0YT1lfX0pLGkodC5wcm90b3R5cGUsbiksYShjLHQsZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpKSxlLndyYXBwZXJzLkNoYXJhY3RlckRhdGE9dH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtyZXR1cm4gZT4+PjB9ZnVuY3Rpb24gbihlKXtyLmNhbGwodGhpcyxlKX12YXIgcj1lLndyYXBwZXJzLkNoYXJhY3RlckRhdGEsbz0oZS5lbnF1ZXVlTXV0YXRpb24sZS5taXhpbiksaT1lLnJlZ2lzdGVyV3JhcHBlcixhPXdpbmRvdy5UZXh0O24ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpLG8obi5wcm90b3R5cGUse3NwbGl0VGV4dDpmdW5jdGlvbihlKXtlPXQoZSk7dmFyIG49dGhpcy5kYXRhO2lmKGU+bi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJJbmRleFNpemVFcnJvciIpO3ZhciByPW4uc2xpY2UoMCxlKSxvPW4uc2xpY2UoZSk7dGhpcy5kYXRhPXI7dmFyIGk9dGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG8pO3JldHVybiB0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaSx0aGlzLm5leHRTaWJsaW5nKSxpfX0pLGkoYSxuLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKSksZS53cmFwcGVycy5UZXh0PW59KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQodCl7ZS5pbnZhbGlkYXRlUmVuZGVyZXJCYXNlZE9uQXR0cmlidXRlKHQsImNsYXNzIil9ZnVuY3Rpb24gbihlLHQpe3IoZSx0aGlzKSx0aGlzLm93bmVyRWxlbWVudF89dH12YXIgcj1lLnNldFdyYXBwZXIsbz1lLnVuc2FmZVVud3JhcDtuLnByb3RvdHlwZT17Y29uc3RydWN0b3I6bixnZXQgbGVuZ3RoKCl7cmV0dXJuIG8odGhpcykubGVuZ3RofSxpdGVtOmZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMpLml0ZW0oZSl9LGNvbnRhaW5zOmZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMpLmNvbnRhaW5zKGUpfSxhZGQ6ZnVuY3Rpb24oKXtvKHRoaXMpLmFkZC5hcHBseShvKHRoaXMpLGFyZ3VtZW50cyksdCh0aGlzLm93bmVyRWxlbWVudF8pfSxyZW1vdmU6ZnVuY3Rpb24oKXtvKHRoaXMpLnJlbW92ZS5hcHBseShvKHRoaXMpLGFyZ3VtZW50cyksdCh0aGlzLm93bmVyRWxlbWVudF8pfSx0b2dnbGU6ZnVuY3Rpb24oKXt2YXIgZT1vKHRoaXMpLnRvZ2dsZS5hcHBseShvKHRoaXMpLGFyZ3VtZW50cyk7cmV0dXJuIHQodGhpcy5vd25lckVsZW1lbnRfKSxlfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiBvKHRoaXMpLnRvU3RyaW5nKCl9fSxlLndyYXBwZXJzLkRPTVRva2VuTGlzdD1ufSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KHQsbil7dmFyIHI9dC5wYXJlbnROb2RlO2lmKHImJnIuc2hhZG93Um9vdCl7dmFyIG89ZS5nZXRSZW5kZXJlckZvckhvc3Qocik7by5kZXBlbmRzT25BdHRyaWJ1dGUobikmJm8uaW52YWxpZGF0ZSgpfX1mdW5jdGlvbiBuKGUsdCxuKXt1KGUsImF0dHJpYnV0ZXMiLHtuYW1lOnQsbmFtZXNwYWNlOm51bGwsb2xkVmFsdWU6bn0pfWZ1bmN0aW9uIHIoZSl7YS5jYWxsKHRoaXMsZSl9dmFyIG89ZS5DaGlsZE5vZGVJbnRlcmZhY2UsaT1lLkdldEVsZW1lbnRzQnlJbnRlcmZhY2UsYT1lLndyYXBwZXJzLk5vZGUscz1lLndyYXBwZXJzLkRPTVRva2VuTGlzdCxjPWUuUGFyZW50Tm9kZUludGVyZmFjZSxsPWUuU2VsZWN0b3JzSW50ZXJmYWNlLHU9KGUuYWRkV3JhcE5vZGVMaXN0TWV0aG9kLGUuZW5xdWV1ZU11dGF0aW9uKSxkPWUubWl4aW4scD0oZS5vbmVPZixlLnJlZ2lzdGVyV3JhcHBlciksaD1lLnVuc2FmZVVud3JhcCxmPWUud3JhcHBlcnMsbT13aW5kb3cuRWxlbWVudCx2PVsibWF0Y2hlcyIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIl0uZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBtLnByb3RvdHlwZVtlXX0pLHc9dlswXSxnPW0ucHJvdG90eXBlW3ddLGI9bmV3IFdlYWtNYXA7ci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShhLnByb3RvdHlwZSksZChyLnByb3RvdHlwZSx7Y3JlYXRlU2hhZG93Um9vdDpmdW5jdGlvbigpe3ZhciB0PW5ldyBmLlNoYWRvd1Jvb3QodGhpcyk7aCh0aGlzKS5wb2x5bWVyU2hhZG93Um9vdF89dDt2YXIgbj1lLmdldFJlbmRlcmVyRm9ySG9zdCh0aGlzKTtyZXR1cm4gbi5pbnZhbGlkYXRlKCksdH0sZ2V0IHNoYWRvd1Jvb3QoKXtyZXR1cm4gaCh0aGlzKS5wb2x5bWVyU2hhZG93Um9vdF98fG51bGx9LHNldEF0dHJpYnV0ZTpmdW5jdGlvbihlLHIpe3ZhciBvPWgodGhpcykuZ2V0QXR0cmlidXRlKGUpO2godGhpcykuc2V0QXR0cmlidXRlKGUsciksbih0aGlzLGUsbyksdCh0aGlzLGUpfSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24oZSl7dmFyIHI9aCh0aGlzKS5nZXRBdHRyaWJ1dGUoZSk7aCh0aGlzKS5yZW1vdmVBdHRyaWJ1dGUoZSksbih0aGlzLGUsciksdCh0aGlzLGUpfSxtYXRjaGVzOmZ1bmN0aW9uKGUpe3JldHVybiBnLmNhbGwoaCh0aGlzKSxlKX0sZ2V0IGNsYXNzTGlzdCgpe3ZhciBlPWIuZ2V0KHRoaXMpO3JldHVybiBlfHxiLnNldCh0aGlzLGU9bmV3IHMoaCh0aGlzKS5jbGFzc0xpc3QsdGhpcykpLGV9LGdldCBjbGFzc05hbWUoKXtyZXR1cm4gaCh0aGlzKS5jbGFzc05hbWV9LHNldCBjbGFzc05hbWUoZSl7dGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIixlKX0sZ2V0IGlkKCl7cmV0dXJuIGgodGhpcykuaWR9LHNldCBpZChlKXt0aGlzLnNldEF0dHJpYnV0ZSgiaWQiLGUpfX0pLHYuZm9yRWFjaChmdW5jdGlvbihlKXsibWF0Y2hlcyIhPT1lJiYoci5wcm90b3R5cGVbZV09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubWF0Y2hlcyhlKX0pfSksbS5wcm90b3R5cGUud2Via2l0Q3JlYXRlU2hhZG93Um9vdCYmKHIucHJvdG90eXBlLndlYmtpdENyZWF0ZVNoYWRvd1Jvb3Q9ci5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdCksZChyLnByb3RvdHlwZSxvKSxkKHIucHJvdG90eXBlLGkpLGQoci5wcm90b3R5cGUsYyksZChyLnByb3RvdHlwZSxsKSxwKG0scixkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnVsbCwieCIpKSxlLmludmFsaWRhdGVSZW5kZXJlckJhc2VkT25BdHRyaWJ1dGU9dCxlLm1hdGNoZXNOYW1lcz12LGUud3JhcHBlcnMuRWxlbWVudD1yfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe3N3aXRjaChlKXtjYXNlIiYiOnJldHVybiImYW1wOyI7Y2FzZSI8IjpyZXR1cm4iJmx0OyI7Y2FzZSI+IjpyZXR1cm4iJmd0OyI7Y2FzZSciJzpyZXR1cm4iJnF1b3Q7IjtjYXNlIsKgIjpyZXR1cm4iJm5ic3A7In19ZnVuY3Rpb24gbihlKXtyZXR1cm4gZS5yZXBsYWNlKE0sdCl9ZnVuY3Rpb24gcihlKXtyZXR1cm4gZS5yZXBsYWNlKEMsdCl9ZnVuY3Rpb24gbyhlKXtmb3IodmFyIHQ9e30sbj0wO248ZS5sZW5ndGg7bisrKXRbZVtuXV09ITA7cmV0dXJuIHR9ZnVuY3Rpb24gaShlLHQpe3N3aXRjaChlLm5vZGVUeXBlKXtjYXNlIE5vZGUuRUxFTUVOVF9OT0RFOmZvcih2YXIgbyxpPWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpLHM9IjwiK2ksYz1lLmF0dHJpYnV0ZXMsbD0wO289Y1tsXTtsKyspcys9IiAiK28ubmFtZSsnPSInK24oby52YWx1ZSkrJyInO3JldHVybiBzKz0iPiIsTFtpXT9zOnMrYShlKSsiPC8iK2krIj4iO2Nhc2UgTm9kZS5URVhUX05PREU6dmFyIHU9ZS5kYXRhO3JldHVybiB0JiZOW3QubG9jYWxOYW1lXT91OnIodSk7Y2FzZSBOb2RlLkNPTU1FTlRfTk9ERTpyZXR1cm4iPCEtLSIrZS5kYXRhKyItLT4iO2RlZmF1bHQ6dGhyb3cgY29uc29sZS5lcnJvcihlKSxuZXcgRXJyb3IoIm5vdCBpbXBsZW1lbnRlZCIpfX1mdW5jdGlvbiBhKGUpe2UgaW5zdGFuY2VvZiBULkhUTUxUZW1wbGF0ZUVsZW1lbnQmJihlPWUuY29udGVudCk7Zm9yKHZhciB0PSIiLG49ZS5maXJzdENoaWxkO247bj1uLm5leHRTaWJsaW5nKXQrPWkobixlKTtyZXR1cm4gdH1mdW5jdGlvbiBzKGUsdCxuKXt2YXIgcj1ufHwiZGl2IjtlLnRleHRDb250ZW50PSIiO3ZhciBvPVMoZS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQocikpO28uaW5uZXJIVE1MPXQ7Zm9yKHZhciBpO2k9by5maXJzdENoaWxkOyllLmFwcGVuZENoaWxkKE8oaSkpfWZ1bmN0aW9uIGMoZSl7Zi5jYWxsKHRoaXMsZSl9ZnVuY3Rpb24gbChlLHQpe3ZhciBuPVMoZS5jbG9uZU5vZGUoITEpKTtuLmlubmVySFRNTD10O2Zvcih2YXIgcixvPVMoZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTtyPW4uZmlyc3RDaGlsZDspby5hcHBlbmRDaGlsZChyKTtyZXR1cm4gTyhvKX1mdW5jdGlvbiB1KHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlLnJlbmRlckFsbFBlbmRpbmcoKSxFKHRoaXMpW3RdfX1mdW5jdGlvbiBkKGUpe20oYyxlLHUoZSkpfWZ1bmN0aW9uIHAodCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGMucHJvdG90eXBlLHQse2dldDp1KHQpLHNldDpmdW5jdGlvbihuKXtlLnJlbmRlckFsbFBlbmRpbmcoKSxFKHRoaXMpW3RdPW59LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSl9ZnVuY3Rpb24gaCh0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYy5wcm90b3R5cGUsdCx7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZS5yZW5kZXJBbGxQZW5kaW5nKCksRSh0aGlzKVt0XS5hcHBseShFKHRoaXMpLGFyZ3VtZW50cyl9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSl9dmFyIGY9ZS53cmFwcGVycy5FbGVtZW50LG09ZS5kZWZpbmVHZXR0ZXIsdj1lLmVucXVldWVNdXRhdGlvbix3PWUubWl4aW4sZz1lLm5vZGVzV2VyZUFkZGVkLGI9ZS5ub2Rlc1dlcmVSZW1vdmVkLHk9ZS5yZWdpc3RlcldyYXBwZXIsXz1lLnNuYXBzaG90Tm9kZUxpc3QsRT1lLnVuc2FmZVVud3JhcCxTPWUudW53cmFwLE89ZS53cmFwLFQ9ZS53cmFwcGVycyxNPS9bJlx1MDBBMCJdL2csQz0vWyZcdTAwQTA8Pl0vZyxMPW8oWyJhcmVhIiwiYmFzZSIsImJyIiwiY29sIiwiY29tbWFuZCIsImVtYmVkIiwiaHIiLCJpbWciLCJpbnB1dCIsImtleWdlbiIsImxpbmsiLCJtZXRhIiwicGFyYW0iLCJzb3VyY2UiLCJ0cmFjayIsIndiciJdKSxOPW8oWyJzdHlsZSIsInNjcmlwdCIsInhtcCIsImlmcmFtZSIsIm5vZW1iZWQiLCJub2ZyYW1lcyIsInBsYWludGV4dCIsIm5vc2NyaXB0Il0pLGo9L01TSUUvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksRD13aW5kb3cuSFRNTEVsZW1lbnQseD13aW5kb3cuSFRNTFRlbXBsYXRlRWxlbWVudDtjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGYucHJvdG90eXBlKSx3KGMucHJvdG90eXBlLHtnZXQgaW5uZXJIVE1MKCl7cmV0dXJuIGEodGhpcyl9LHNldCBpbm5lckhUTUwoZSl7aWYoaiYmTlt0aGlzLmxvY2FsTmFtZV0pcmV0dXJuIHZvaWQodGhpcy50ZXh0Q29udGVudD1lKTt2YXIgdD1fKHRoaXMuY2hpbGROb2Rlcyk7dGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKT90aGlzIGluc3RhbmNlb2YgVC5IVE1MVGVtcGxhdGVFbGVtZW50P3ModGhpcy5jb250ZW50LGUpOnModGhpcyxlLHRoaXMudGFnTmFtZSk6IXgmJnRoaXMgaW5zdGFuY2VvZiBULkhUTUxUZW1wbGF0ZUVsZW1lbnQ/cyh0aGlzLmNvbnRlbnQsZSk6RSh0aGlzKS5pbm5lckhUTUw9ZTt2YXIgbj1fKHRoaXMuY2hpbGROb2Rlcyk7dih0aGlzLCJjaGlsZExpc3QiLHthZGRlZE5vZGVzOm4scmVtb3ZlZE5vZGVzOnR9KSxiKHQpLGcobix0aGlzKX0sZ2V0IG91dGVySFRNTCgpe3JldHVybiBpKHRoaXMsdGhpcy5wYXJlbnROb2RlKX0sc2V0IG91dGVySFRNTChlKXt2YXIgdD10aGlzLnBhcmVudE5vZGU7aWYodCl7dC5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKTt2YXIgbj1sKHQsZSk7dC5yZXBsYWNlQ2hpbGQobix0aGlzKX19LGluc2VydEFkamFjZW50SFRNTDpmdW5jdGlvbihlLHQpe3ZhciBuLHI7c3dpdGNoKFN0cmluZyhlKS50b0xvd2VyQ2FzZSgpKXtjYXNlImJlZm9yZWJlZ2luIjpuPXRoaXMucGFyZW50Tm9kZSxyPXRoaXM7YnJlYWs7Y2FzZSJhZnRlcmVuZCI6bj10aGlzLnBhcmVudE5vZGUscj10aGlzLm5leHRTaWJsaW5nO2JyZWFrO2Nhc2UiYWZ0ZXJiZWdpbiI6bj10aGlzLHI9dGhpcy5maXJzdENoaWxkO2JyZWFrO2Nhc2UiYmVmb3JlZW5kIjpuPXRoaXMscj1udWxsO2JyZWFrO2RlZmF1bHQ6cmV0dXJufXZhciBvPWwobix0KTtuLmluc2VydEJlZm9yZShvLHIpfSxnZXQgaGlkZGVuKCl7cmV0dXJuIHRoaXMuaGFzQXR0cmlidXRlKCJoaWRkZW4iKX0sc2V0IGhpZGRlbihlKXtlP3RoaXMuc2V0QXR0cmlidXRlKCJoaWRkZW4iLCIiKTp0aGlzLnJlbW92ZUF0dHJpYnV0ZSgiaGlkZGVuIil9fSksWyJjbGllbnRIZWlnaHQiLCJjbGllbnRMZWZ0IiwiY2xpZW50VG9wIiwiY2xpZW50V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0VG9wIiwib2Zmc2V0V2lkdGgiLCJzY3JvbGxIZWlnaHQiLCJzY3JvbGxXaWR0aCJdLmZvckVhY2goZCksWyJzY3JvbGxMZWZ0Iiwic2Nyb2xsVG9wIl0uZm9yRWFjaChwKSxbImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImdldENsaWVudFJlY3RzIiwic2Nyb2xsSW50b1ZpZXciXS5mb3JFYWNoKGgpLHkoRCxjLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImIiKSksZS53cmFwcGVycy5IVE1MRWxlbWVudD1jLGUuZ2V0SW5uZXJIVE1MPWEsZS5zZXRJbm5lckhUTUw9c30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtuLmNhbGwodGhpcyxlKX12YXIgbj1lLndyYXBwZXJzLkhUTUxFbGVtZW50LHI9ZS5taXhpbixvPWUucmVnaXN0ZXJXcmFwcGVyLGk9ZS51bnNhZmVVbndyYXAsYT1lLndyYXAscz13aW5kb3cuSFRNTENhbnZhc0VsZW1lbnQ7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSkscih0LnByb3RvdHlwZSx7Z2V0Q29udGV4dDpmdW5jdGlvbigpe3ZhciBlPWkodGhpcykuZ2V0Q29udGV4dC5hcHBseShpKHRoaXMpLGFyZ3VtZW50cyk7cmV0dXJuIGUmJmEoZSl9fSksbyhzLHQsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikpLGUud3JhcHBlcnMuSFRNTENhbnZhc0VsZW1lbnQ9dH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtuLmNhbGwodGhpcyxlKX12YXIgbj1lLndyYXBwZXJzLkhUTUxFbGVtZW50LHI9ZS5taXhpbixvPWUucmVnaXN0ZXJXcmFwcGVyLGk9d2luZG93LkhUTUxDb250ZW50RWxlbWVudDt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSxyKHQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp0LGdldCBzZWxlY3QoKXtyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoInNlbGVjdCIpfSxzZXQgc2VsZWN0KGUpe3RoaXMuc2V0QXR0cmlidXRlKCJzZWxlY3QiLGUpfSxzZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oZSx0KXtuLnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUuY2FsbCh0aGlzLGUsdCksInNlbGVjdCI9PT1TdHJpbmcoZSkudG9Mb3dlckNhc2UoKSYmdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoITApfX0pLGkmJm8oaSx0KSxlLndyYXBwZXJzLkhUTUxDb250ZW50RWxlbWVudD10fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe24uY2FsbCh0aGlzLGUpfXZhciBuPWUud3JhcHBlcnMuSFRNTEVsZW1lbnQscj1lLm1peGluLG89ZS5yZWdpc3RlcldyYXBwZXIsaT1lLndyYXBIVE1MQ29sbGVjdGlvbixhPWUudW53cmFwLHM9d2luZG93LkhUTUxGb3JtRWxlbWVudDt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSxyKHQucHJvdG90eXBlLHtnZXQgZWxlbWVudHMoKXtyZXR1cm4gaShhKHRoaXMpLmVsZW1lbnRzKX19KSxvKHMsdCxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJmb3JtIikpLGUud3JhcHBlcnMuSFRNTEZvcm1FbGVtZW50PXR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7ci5jYWxsKHRoaXMsZSl9ZnVuY3Rpb24gbihlLHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIG4pKXRocm93IG5ldyBUeXBlRXJyb3IoIkRPTSBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLiIpO3ZhciBvPWkoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIikpO3IuY2FsbCh0aGlzLG8pLGEobyx0aGlzKSx2b2lkIDAhPT1lJiYoby53aWR0aD1lKSx2b2lkIDAhPT10JiYoby5oZWlnaHQ9dCl9dmFyIHI9ZS53cmFwcGVycy5IVE1MRWxlbWVudCxvPWUucmVnaXN0ZXJXcmFwcGVyLGk9ZS51bndyYXAsYT1lLnJld3JhcCxzPXdpbmRvdy5IVE1MSW1hZ2VFbGVtZW50O3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpLG8ocyx0LGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpKSxuLnByb3RvdHlwZT10LnByb3RvdHlwZSxlLndyYXBwZXJzLkhUTUxJbWFnZUVsZW1lbnQ9dCxlLndyYXBwZXJzLkltYWdlPW59KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7bi5jYWxsKHRoaXMsZSl9dmFyIG49ZS53cmFwcGVycy5IVE1MRWxlbWVudCxyPShlLm1peGluLGUud3JhcHBlcnMuTm9kZUxpc3QsZS5yZWdpc3RlcldyYXBwZXIpLG89d2luZG93LkhUTUxTaGFkb3dFbGVtZW50O3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXQsbyYmcihvLHQpLGUud3JhcHBlcnMuSFRNTFNoYWRvd0VsZW1lbnQ9dH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtpZighZS5kZWZhdWx0VmlldylyZXR1cm4gZTt2YXIgdD1kLmdldChlKTtpZighdCl7Zm9yKHQ9ZS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpO3QubGFzdENoaWxkOyl0LnJlbW92ZUNoaWxkKHQubGFzdENoaWxkKTtkLnNldChlLHQpfXJldHVybiB0fWZ1bmN0aW9uIG4oZSl7Zm9yKHZhciBuLHI9dChlLm93bmVyRG9jdW1lbnQpLG89YyhyLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7bj1lLmZpcnN0Q2hpbGQ7KW8uYXBwZW5kQ2hpbGQobik7cmV0dXJuIG99ZnVuY3Rpb24gcihlKXtpZihvLmNhbGwodGhpcyxlKSwhcCl7dmFyIHQ9bihlKTt1LnNldCh0aGlzLGwodCkpfX12YXIgbz1lLndyYXBwZXJzLkhUTUxFbGVtZW50LGk9ZS5taXhpbixhPWUucmVnaXN0ZXJXcmFwcGVyLHM9ZS51bnNhZmVVbndyYXAsYz1lLnVud3JhcCxsPWUud3JhcCx1PW5ldyBXZWFrTWFwLGQ9bmV3IFdlYWtNYXAscD13aW5kb3cuSFRNTFRlbXBsYXRlRWxlbWVudDtyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSxpKHIucHJvdG90eXBlLHtjb25zdHJ1Y3RvcjpyLGdldCBjb250ZW50KCl7cmV0dXJuIHA/bChzKHRoaXMpLmNvbnRlbnQpOnUuZ2V0KHRoaXMpfX0pLHAmJmEocCxyKSxlLndyYXBwZXJzLkhUTUxUZW1wbGF0ZUVsZW1lbnQ9cn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtuLmNhbGwodGhpcyxlKX12YXIgbj1lLndyYXBwZXJzLkhUTUxFbGVtZW50LHI9ZS5yZWdpc3RlcldyYXBwZXIsbz13aW5kb3cuSFRNTE1lZGlhRWxlbWVudDtvJiYodC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSkscihvLHQsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYXVkaW8iKSksZS53cmFwcGVycy5IVE1MTWVkaWFFbGVtZW50PXQpfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe3IuY2FsbCh0aGlzLGUpfWZ1bmN0aW9uIG4oZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgbikpdGhyb3cgbmV3IFR5cGVFcnJvcigiRE9NIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uIik7dmFyIHQ9aShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpKTtyLmNhbGwodGhpcyx0KSxhKHQsdGhpcyksdC5zZXRBdHRyaWJ1dGUoInByZWxvYWQiLCJhdXRvIiksdm9pZCAwIT09ZSYmdC5zZXRBdHRyaWJ1dGUoInNyYyIsZSl9dmFyIHI9ZS53cmFwcGVycy5IVE1MTWVkaWFFbGVtZW50LG89ZS5yZWdpc3RlcldyYXBwZXIsaT1lLnVud3JhcCxhPWUucmV3cmFwLHM9d2luZG93LkhUTUxBdWRpb0VsZW1lbnQ7cyYmKHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpLG8ocyx0LGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImF1ZGlvIikpLG4ucHJvdG90eXBlPXQucHJvdG90eXBlLGUud3JhcHBlcnMuSFRNTEF1ZGlvRWxlbWVudD10LGUud3JhcHBlcnMuQXVkaW89bil9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7cmV0dXJuIGUucmVwbGFjZSgvXHMrL2csIiAiKS50cmltKCl9ZnVuY3Rpb24gbihlKXtvLmNhbGwodGhpcyxlKX1mdW5jdGlvbiByKGUsdCxuLGkpe2lmKCEodGhpcyBpbnN0YW5jZW9mIHIpKXRocm93IG5ldyBUeXBlRXJyb3IoIkRPTSBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLiIpO3ZhciBhPWMoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpO28uY2FsbCh0aGlzLGEpLHMoYSx0aGlzKSx2b2lkIDAhPT1lJiYoYS50ZXh0PWUpLHZvaWQgMCE9PXQmJmEuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsdCksbj09PSEwJiZhLnNldEF0dHJpYnV0ZSgic2VsZWN0ZWQiLCIiKSxhLnNlbGVjdGVkPWk9PT0hMH12YXIgbz1lLndyYXBwZXJzLkhUTUxFbGVtZW50LGk9ZS5taXhpbixhPWUucmVnaXN0ZXJXcmFwcGVyLHM9ZS5yZXdyYXAsYz1lLnVud3JhcCxsPWUud3JhcCx1PXdpbmRvdy5IVE1MT3B0aW9uRWxlbWVudDtuLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSxpKG4ucHJvdG90eXBlLHtnZXQgdGV4dCgpe3JldHVybiB0KHRoaXMudGV4dENvbnRlbnQpfSxzZXQgdGV4dChlKXt0aGlzLnRleHRDb250ZW50PXQoU3RyaW5nKGUpKX0sZ2V0IGZvcm0oKXtyZXR1cm4gbChjKHRoaXMpLmZvcm0pfX0pLGEodSxuLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKSxyLnByb3RvdHlwZT1uLnByb3RvdHlwZSxlLndyYXBwZXJzLkhUTUxPcHRpb25FbGVtZW50PW4sZS53cmFwcGVycy5PcHRpb249cn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtuLmNhbGwodGhpcyxlKX12YXIgbj1lLndyYXBwZXJzLkhUTUxFbGVtZW50LHI9ZS5taXhpbixvPWUucmVnaXN0ZXJXcmFwcGVyLGk9ZS51bndyYXAsYT1lLndyYXAscz13aW5kb3cuSFRNTFNlbGVjdEVsZW1lbnQ7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSkscih0LnByb3RvdHlwZSx7YWRkOmZ1bmN0aW9uKGUsdCl7Im9iamVjdCI9PXR5cGVvZiB0JiYodD1pKHQpKSxpKHRoaXMpLmFkZChpKGUpLHQpfSxyZW1vdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWU/dm9pZCBuLnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzKTooIm9iamVjdCI9PXR5cGVvZiBlJiYoZT1pKGUpKSx2b2lkIGkodGhpcykucmVtb3ZlKGUpKX0sZ2V0IGZvcm0oKXtyZXR1cm4gYShpKHRoaXMpLmZvcm0pfX0pLG8ocyx0LGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpKSxlLndyYXBwZXJzLkhUTUxTZWxlY3RFbGVtZW50PXR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7bi5jYWxsKHRoaXMsZSl9dmFyIG49ZS53cmFwcGVycy5IVE1MRWxlbWVudCxyPWUubWl4aW4sbz1lLnJlZ2lzdGVyV3JhcHBlcixpPWUudW53cmFwLGE9ZS53cmFwLHM9ZS53cmFwSFRNTENvbGxlY3Rpb24sYz13aW5kb3cuSFRNTFRhYmxlRWxlbWVudDt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSxyKHQucHJvdG90eXBlLHtnZXQgY2FwdGlvbigpe3JldHVybiBhKGkodGhpcykuY2FwdGlvbil9LGNyZWF0ZUNhcHRpb246ZnVuY3Rpb24oKXtyZXR1cm4gYShpKHRoaXMpLmNyZWF0ZUNhcHRpb24oKSl9LGdldCB0SGVhZCgpe3JldHVybiBhKGkodGhpcykudEhlYWQpfSxjcmVhdGVUSGVhZDpmdW5jdGlvbigpe3JldHVybiBhKGkodGhpcykuY3JlYXRlVEhlYWQoKSl9LGNyZWF0ZVRGb290OmZ1bmN0aW9uKCl7cmV0dXJuIGEoaSh0aGlzKS5jcmVhdGVURm9vdCgpKX0sZ2V0IHRGb290KCl7cmV0dXJuIGEoaSh0aGlzKS50Rm9vdCl9LGdldCB0Qm9kaWVzKCl7cmV0dXJuIHMoaSh0aGlzKS50Qm9kaWVzKX0sY3JlYXRlVEJvZHk6ZnVuY3Rpb24oKXtyZXR1cm4gYShpKHRoaXMpLmNyZWF0ZVRCb2R5KCkpfSxnZXQgcm93cygpe3JldHVybiBzKGkodGhpcykucm93cyl9LGluc2VydFJvdzpmdW5jdGlvbihlKXtyZXR1cm4gYShpKHRoaXMpLmluc2VydFJvdyhlKSl9fSksbyhjLHQsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKSksZS53cmFwcGVycy5IVE1MVGFibGVFbGVtZW50PXR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7bi5jYWxsKHRoaXMsZSl9dmFyIG49ZS53cmFwcGVycy5IVE1MRWxlbWVudCxyPWUubWl4aW4sbz1lLnJlZ2lzdGVyV3JhcHBlcixpPWUud3JhcEhUTUxDb2xsZWN0aW9uLGE9ZS51bndyYXAscz1lLndyYXAsYz13aW5kb3cuSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQ7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSkscih0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6dCxnZXQgcm93cygpe3JldHVybiBpKGEodGhpcykucm93cyl9LGluc2VydFJvdzpmdW5jdGlvbihlKXtyZXR1cm4gcyhhKHRoaXMpLmluc2VydFJvdyhlKSl9fSksbyhjLHQsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGhlYWQiKSksZS53cmFwcGVycy5IVE1MVGFibGVTZWN0aW9uRWxlbWVudD10fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe24uY2FsbCh0aGlzLGUpfXZhciBuPWUud3JhcHBlcnMuSFRNTEVsZW1lbnQscj1lLm1peGluLG89ZS5yZWdpc3RlcldyYXBwZXIsaT1lLndyYXBIVE1MQ29sbGVjdGlvbixhPWUudW53cmFwLHM9ZS53cmFwLGM9d2luZG93LkhUTUxUYWJsZVJvd0VsZW1lbnQ7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSkscih0LnByb3RvdHlwZSx7Z2V0IGNlbGxzKCl7cmV0dXJuIGkoYSh0aGlzKS5jZWxscyl9LGluc2VydENlbGw6ZnVuY3Rpb24oZSl7cmV0dXJuIHMoYSh0aGlzKS5pbnNlcnRDZWxsKGUpKX19KSxvKGMsdCxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpKSxlLndyYXBwZXJzLkhUTUxUYWJsZVJvd0VsZW1lbnQ9dH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtzd2l0Y2goZS5sb2NhbE5hbWUpe2Nhc2UiY29udGVudCI6cmV0dXJuIG5ldyBuKGUpO2Nhc2Uic2hhZG93IjpyZXR1cm4gbmV3IG8oZSk7Y2FzZSJ0ZW1wbGF0ZSI6cmV0dXJuIG5ldyBpKGUpfXIuY2FsbCh0aGlzLGUpfXZhciBuPWUud3JhcHBlcnMuSFRNTENvbnRlbnRFbGVtZW50LHI9ZS53cmFwcGVycy5IVE1MRWxlbWVudCxvPWUud3JhcHBlcnMuSFRNTFNoYWRvd0VsZW1lbnQsaT1lLndyYXBwZXJzLkhUTUxUZW1wbGF0ZUVsZW1lbnQsYT0oZS5taXhpbixlLnJlZ2lzdGVyV3JhcHBlcikscz13aW5kb3cuSFRNTFVua25vd25FbGVtZW50O3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpLGEocyx0KSxlLndyYXBwZXJzLkhUTUxVbmtub3duRWxlbWVudD10fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD1lLndyYXBwZXJzLkVsZW1lbnQsbj1lLndyYXBwZXJzLkhUTUxFbGVtZW50LHI9ZS5yZWdpc3Rlck9iamVjdCxvPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobywidGl0bGUiKSxhPXIoaSkscz1PYmplY3QuZ2V0UHJvdG90eXBlT2YoYS5wcm90b3R5cGUpLmNvbnN0cnVjdG9yO2lmKCEoImNsYXNzTGlzdCJpbiBpKSl7dmFyIGM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LnByb3RvdHlwZSwiY2xhc3NMaXN0Iik7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLCJjbGFzc0xpc3QiLGMpLGRlbGV0ZSB0LnByb3RvdHlwZS5jbGFzc0xpc3R9ZS53cmFwcGVycy5TVkdFbGVtZW50PXN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7cC5jYWxsKHRoaXMsZSl9dmFyIG49ZS5taXhpbixyPWUucmVnaXN0ZXJXcmFwcGVyLG89ZS51bndyYXAsaT1lLndyYXAsYT13aW5kb3cuU1ZHVXNlRWxlbWVudCxzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsYz1pKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzLCJnIikpLGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHMsInVzZSIpLHU9Yy5jb25zdHJ1Y3RvcixkPU9iamVjdC5nZXRQcm90b3R5cGVPZih1LnByb3RvdHlwZSkscD1kLmNvbnN0cnVjdG9yO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZCksImluc3RhbmNlUm9vdCJpbiBsJiZuKHQucHJvdG90eXBlLHtnZXQgaW5zdGFuY2VSb290KCl7cmV0dXJuIGkobyh0aGlzKS5pbnN0YW5jZVJvb3QpfSxnZXQgYW5pbWF0ZWRJbnN0YW5jZVJvb3QoKXtyZXR1cm4gaShvKHRoaXMpLmFuaW1hdGVkSW5zdGFuY2VSb290KX19KSxyKGEsdCxsKSxlLndyYXBwZXJzLlNWR1VzZUVsZW1lbnQ9dH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtuLmNhbGwodGhpcyxlKX12YXIgbj1lLndyYXBwZXJzLkV2ZW50VGFyZ2V0LHI9ZS5taXhpbixvPWUucmVnaXN0ZXJXcmFwcGVyLGk9ZS51bnNhZmVVbndyYXAsYT1lLndyYXAscz13aW5kb3cuU1ZHRWxlbWVudEluc3RhbmNlO3MmJih0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSxyKHQucHJvdG90eXBlLHtnZXQgY29ycmVzcG9uZGluZ0VsZW1lbnQoKXtyZXR1cm4gYShpKHRoaXMpLmNvcnJlc3BvbmRpbmdFbGVtZW50KQp9LGdldCBjb3JyZXNwb25kaW5nVXNlRWxlbWVudCgpe3JldHVybiBhKGkodGhpcykuY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQpfSxnZXQgcGFyZW50Tm9kZSgpe3JldHVybiBhKGkodGhpcykucGFyZW50Tm9kZSl9LGdldCBjaGlsZE5vZGVzKCl7dGhyb3cgbmV3IEVycm9yKCJOb3QgaW1wbGVtZW50ZWQiKX0sZ2V0IGZpcnN0Q2hpbGQoKXtyZXR1cm4gYShpKHRoaXMpLmZpcnN0Q2hpbGQpfSxnZXQgbGFzdENoaWxkKCl7cmV0dXJuIGEoaSh0aGlzKS5sYXN0Q2hpbGQpfSxnZXQgcHJldmlvdXNTaWJsaW5nKCl7cmV0dXJuIGEoaSh0aGlzKS5wcmV2aW91c1NpYmxpbmcpfSxnZXQgbmV4dFNpYmxpbmcoKXtyZXR1cm4gYShpKHRoaXMpLm5leHRTaWJsaW5nKX19KSxvKHMsdCksZS53cmFwcGVycy5TVkdFbGVtZW50SW5zdGFuY2U9dCl9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7byhlLHRoaXMpfXZhciBuPWUubWl4aW4scj1lLnJlZ2lzdGVyV3JhcHBlcixvPWUuc2V0V3JhcHBlcixpPWUudW5zYWZlVW53cmFwLGE9ZS51bndyYXAscz1lLnVud3JhcElmTmVlZGVkLGM9ZS53cmFwLGw9d2luZG93LkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtuKHQucHJvdG90eXBlLHtnZXQgY2FudmFzKCl7cmV0dXJuIGMoaSh0aGlzKS5jYW52YXMpfSxkcmF3SW1hZ2U6ZnVuY3Rpb24oKXthcmd1bWVudHNbMF09cyhhcmd1bWVudHNbMF0pLGkodGhpcykuZHJhd0ltYWdlLmFwcGx5KGkodGhpcyksYXJndW1lbnRzKX0sY3JlYXRlUGF0dGVybjpmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF09YShhcmd1bWVudHNbMF0pLGkodGhpcykuY3JlYXRlUGF0dGVybi5hcHBseShpKHRoaXMpLGFyZ3VtZW50cyl9fSkscihsLHQsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dCgiMmQiKSksZS53cmFwcGVycy5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ9dH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtvKGUsdGhpcyl9dmFyIG49ZS5taXhpbixyPWUucmVnaXN0ZXJXcmFwcGVyLG89ZS5zZXRXcmFwcGVyLGk9ZS51bnNhZmVVbndyYXAsYT1lLnVud3JhcElmTmVlZGVkLHM9ZS53cmFwLGM9d2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dDtpZihjKXtuKHQucHJvdG90eXBlLHtnZXQgY2FudmFzKCl7cmV0dXJuIHMoaSh0aGlzKS5jYW52YXMpfSx0ZXhJbWFnZTJEOmZ1bmN0aW9uKCl7YXJndW1lbnRzWzVdPWEoYXJndW1lbnRzWzVdKSxpKHRoaXMpLnRleEltYWdlMkQuYXBwbHkoaSh0aGlzKSxhcmd1bWVudHMpfSx0ZXhTdWJJbWFnZTJEOmZ1bmN0aW9uKCl7YXJndW1lbnRzWzZdPWEoYXJndW1lbnRzWzZdKSxpKHRoaXMpLnRleFN1YkltYWdlMkQuYXBwbHkoaSh0aGlzKSxhcmd1bWVudHMpfX0pO3ZhciBsPS9XZWJLaXQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk/e2RyYXdpbmdCdWZmZXJIZWlnaHQ6bnVsbCxkcmF3aW5nQnVmZmVyV2lkdGg6bnVsbH06e307cihjLHQsbCksZS53cmFwcGVycy5XZWJHTFJlbmRlcmluZ0NvbnRleHQ9dH19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7cihlLHRoaXMpfXZhciBuPWUucmVnaXN0ZXJXcmFwcGVyLHI9ZS5zZXRXcmFwcGVyLG89ZS51bnNhZmVVbndyYXAsaT1lLnVud3JhcCxhPWUudW53cmFwSWZOZWVkZWQscz1lLndyYXAsYz13aW5kb3cuUmFuZ2U7dC5wcm90b3R5cGU9e2dldCBzdGFydENvbnRhaW5lcigpe3JldHVybiBzKG8odGhpcykuc3RhcnRDb250YWluZXIpfSxnZXQgZW5kQ29udGFpbmVyKCl7cmV0dXJuIHMobyh0aGlzKS5lbmRDb250YWluZXIpfSxnZXQgY29tbW9uQW5jZXN0b3JDb250YWluZXIoKXtyZXR1cm4gcyhvKHRoaXMpLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKX0sc2V0U3RhcnQ6ZnVuY3Rpb24oZSx0KXtvKHRoaXMpLnNldFN0YXJ0KGEoZSksdCl9LHNldEVuZDpmdW5jdGlvbihlLHQpe28odGhpcykuc2V0RW5kKGEoZSksdCl9LHNldFN0YXJ0QmVmb3JlOmZ1bmN0aW9uKGUpe28odGhpcykuc2V0U3RhcnRCZWZvcmUoYShlKSl9LHNldFN0YXJ0QWZ0ZXI6ZnVuY3Rpb24oZSl7byh0aGlzKS5zZXRTdGFydEFmdGVyKGEoZSkpfSxzZXRFbmRCZWZvcmU6ZnVuY3Rpb24oZSl7byh0aGlzKS5zZXRFbmRCZWZvcmUoYShlKSl9LHNldEVuZEFmdGVyOmZ1bmN0aW9uKGUpe28odGhpcykuc2V0RW5kQWZ0ZXIoYShlKSl9LHNlbGVjdE5vZGU6ZnVuY3Rpb24oZSl7byh0aGlzKS5zZWxlY3ROb2RlKGEoZSkpfSxzZWxlY3ROb2RlQ29udGVudHM6ZnVuY3Rpb24oZSl7byh0aGlzKS5zZWxlY3ROb2RlQ29udGVudHMoYShlKSl9LGNvbXBhcmVCb3VuZGFyeVBvaW50czpmdW5jdGlvbihlLHQpe3JldHVybiBvKHRoaXMpLmNvbXBhcmVCb3VuZGFyeVBvaW50cyhlLGkodCkpfSxleHRyYWN0Q29udGVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gcyhvKHRoaXMpLmV4dHJhY3RDb250ZW50cygpKX0sY2xvbmVDb250ZW50czpmdW5jdGlvbigpe3JldHVybiBzKG8odGhpcykuY2xvbmVDb250ZW50cygpKX0saW5zZXJ0Tm9kZTpmdW5jdGlvbihlKXtvKHRoaXMpLmluc2VydE5vZGUoYShlKSl9LHN1cnJvdW5kQ29udGVudHM6ZnVuY3Rpb24oZSl7byh0aGlzKS5zdXJyb3VuZENvbnRlbnRzKGEoZSkpfSxjbG9uZVJhbmdlOmZ1bmN0aW9uKCl7cmV0dXJuIHMobyh0aGlzKS5jbG9uZVJhbmdlKCkpfSxpc1BvaW50SW5SYW5nZTpmdW5jdGlvbihlLHQpe3JldHVybiBvKHRoaXMpLmlzUG9pbnRJblJhbmdlKGEoZSksdCl9LGNvbXBhcmVQb2ludDpmdW5jdGlvbihlLHQpe3JldHVybiBvKHRoaXMpLmNvbXBhcmVQb2ludChhKGUpLHQpfSxpbnRlcnNlY3RzTm9kZTpmdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzKS5pbnRlcnNlY3RzTm9kZShhKGUpKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gbyh0aGlzKS50b1N0cmluZygpfX0sYy5wcm90b3R5cGUuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50JiYodC5wcm90b3R5cGUuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50PWZ1bmN0aW9uKGUpe3JldHVybiBzKG8odGhpcykuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KGUpKX0pLG4od2luZG93LlJhbmdlLHQsZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSksZS53cmFwcGVycy5SYW5nZT10fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD1lLkdldEVsZW1lbnRzQnlJbnRlcmZhY2Usbj1lLlBhcmVudE5vZGVJbnRlcmZhY2Uscj1lLlNlbGVjdG9yc0ludGVyZmFjZSxvPWUubWl4aW4saT1lLnJlZ2lzdGVyT2JqZWN0LGE9aShkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO28oYS5wcm90b3R5cGUsbiksbyhhLnByb3RvdHlwZSxyKSxvKGEucHJvdG90eXBlLHQpO3ZhciBzPWkoZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgiIikpO2Uud3JhcHBlcnMuQ29tbWVudD1zLGUud3JhcHBlcnMuRG9jdW1lbnRGcmFnbWVudD1hfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe3ZhciB0PWQodShlKS5vd25lckRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7bi5jYWxsKHRoaXMsdCksYyh0LHRoaXMpO3ZhciBvPWUuc2hhZG93Um9vdDtoLnNldCh0aGlzLG8pLHRoaXMudHJlZVNjb3BlXz1uZXcgcih0aGlzLGEob3x8ZSkpLHAuc2V0KHRoaXMsZSl9dmFyIG49ZS53cmFwcGVycy5Eb2N1bWVudEZyYWdtZW50LHI9ZS5UcmVlU2NvcGUsbz1lLmVsZW1lbnRGcm9tUG9pbnQsaT1lLmdldElubmVySFRNTCxhPWUuZ2V0VHJlZVNjb3BlLHM9ZS5taXhpbixjPWUucmV3cmFwLGw9ZS5zZXRJbm5lckhUTUwsdT1lLnVuc2FmZVVud3JhcCxkPWUudW53cmFwLHA9bmV3IFdlYWtNYXAsaD1uZXcgV2Vha01hcCxmPS9bIFx0XG5cclxmXS87dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSkscyh0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6dCxnZXQgaW5uZXJIVE1MKCl7cmV0dXJuIGkodGhpcyl9LHNldCBpbm5lckhUTUwoZSl7bCh0aGlzLGUpLHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCl9LGdldCBvbGRlclNoYWRvd1Jvb3QoKXtyZXR1cm4gaC5nZXQodGhpcyl8fG51bGx9LGdldCBob3N0KCl7cmV0dXJuIHAuZ2V0KHRoaXMpfHxudWxsfSxpbnZhbGlkYXRlU2hhZG93UmVuZGVyZXI6ZnVuY3Rpb24oKXtyZXR1cm4gcC5nZXQodGhpcykuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCl9LGVsZW1lbnRGcm9tUG9pbnQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyh0aGlzLHRoaXMub3duZXJEb2N1bWVudCxlLHQpfSxnZXRFbGVtZW50QnlJZDpmdW5jdGlvbihlKXtyZXR1cm4gZi50ZXN0KGUpP251bGw6dGhpcy5xdWVyeVNlbGVjdG9yKCdbaWQ9IicrZSsnIl0nKX19KSxlLndyYXBwZXJzLlNoYWRvd1Jvb3Q9dH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtlLnByZXZpb3VzU2libGluZ189ZS5wcmV2aW91c1NpYmxpbmcsZS5uZXh0U2libGluZ189ZS5uZXh0U2libGluZyxlLnBhcmVudE5vZGVfPWUucGFyZW50Tm9kZX1mdW5jdGlvbiBuKG4sbyxpKXt2YXIgYT1IKG4pLHM9SChvKSxjPWk/SChpKTpudWxsO2lmKHIobyksdChvKSxpKW4uZmlyc3RDaGlsZD09PWkmJihuLmZpcnN0Q2hpbGRfPWkpLGkucHJldmlvdXNTaWJsaW5nXz1pLnByZXZpb3VzU2libGluZztlbHNle24ubGFzdENoaWxkXz1uLmxhc3RDaGlsZCxuLmxhc3RDaGlsZD09PW4uZmlyc3RDaGlsZCYmKG4uZmlyc3RDaGlsZF89bi5maXJzdENoaWxkKTt2YXIgbD1SKGEubGFzdENoaWxkKTtsJiYobC5uZXh0U2libGluZ189bC5uZXh0U2libGluZyl9ZS5vcmlnaW5hbEluc2VydEJlZm9yZS5jYWxsKGEscyxjKX1mdW5jdGlvbiByKG4pe3ZhciByPUgobiksbz1yLnBhcmVudE5vZGU7aWYobyl7dmFyIGk9UihvKTt0KG4pLG4ucHJldmlvdXNTaWJsaW5nJiYobi5wcmV2aW91c1NpYmxpbmcubmV4dFNpYmxpbmdfPW4pLG4ubmV4dFNpYmxpbmcmJihuLm5leHRTaWJsaW5nLnByZXZpb3VzU2libGluZ189biksaS5sYXN0Q2hpbGQ9PT1uJiYoaS5sYXN0Q2hpbGRfPW4pLGkuZmlyc3RDaGlsZD09PW4mJihpLmZpcnN0Q2hpbGRfPW4pLGUub3JpZ2luYWxSZW1vdmVDaGlsZC5jYWxsKG8scil9fWZ1bmN0aW9uIG8oZSl7UC5zZXQoZSxbXSl9ZnVuY3Rpb24gaShlKXt2YXIgdD1QLmdldChlKTtyZXR1cm4gdHx8UC5zZXQoZSx0PVtdKSx0fWZ1bmN0aW9uIGEoZSl7Zm9yKHZhciB0PVtdLG49MCxyPWUuZmlyc3RDaGlsZDtyO3I9ci5uZXh0U2libGluZyl0W24rK109cjtyZXR1cm4gdH1mdW5jdGlvbiBzKCl7Zm9yKHZhciBlPTA7ZTxGLmxlbmd0aDtlKyspe3ZhciB0PUZbZV0sbj10LnBhcmVudFJlbmRlcmVyO24mJm4uZGlydHl8fHQucmVuZGVyKCl9Rj1bXX1mdW5jdGlvbiBjKCl7Tz1udWxsLHMoKX1mdW5jdGlvbiBsKGUpe3ZhciB0PWsuZ2V0KGUpO3JldHVybiB0fHwodD1uZXcgaChlKSxrLnNldChlLHQpKSx0fWZ1bmN0aW9uIHUoZSl7dmFyIHQ9aihlKS5yb290O3JldHVybiB0IGluc3RhbmNlb2YgTj90Om51bGx9ZnVuY3Rpb24gZChlKXtyZXR1cm4gbChlLmhvc3QpfWZ1bmN0aW9uIHAoZSl7dGhpcy5za2lwPSExLHRoaXMubm9kZT1lLHRoaXMuY2hpbGROb2Rlcz1bXX1mdW5jdGlvbiBoKGUpe3RoaXMuaG9zdD1lLHRoaXMuZGlydHk9ITEsdGhpcy5pbnZhbGlkYXRlQXR0cmlidXRlcygpLHRoaXMuYXNzb2NpYXRlTm9kZShlKX1mdW5jdGlvbiBmKGUpe2Zvcih2YXIgdD1bXSxuPWUuZmlyc3RDaGlsZDtuO249bi5uZXh0U2libGluZylfKG4pP3QucHVzaC5hcHBseSh0LGkobikpOnQucHVzaChuKTtyZXR1cm4gdH1mdW5jdGlvbiBtKGUpe2lmKGUgaW5zdGFuY2VvZiBDKXJldHVybiBlO2lmKGUgaW5zdGFuY2VvZiBNKXJldHVybiBudWxsO2Zvcih2YXIgdD1lLmZpcnN0Q2hpbGQ7dDt0PXQubmV4dFNpYmxpbmcpe3ZhciBuPW0odCk7aWYobilyZXR1cm4gbn1yZXR1cm4gbnVsbH1mdW5jdGlvbiB2KGUsdCl7aSh0KS5wdXNoKGUpO3ZhciBuPUkuZ2V0KGUpO24/bi5wdXNoKHQpOkkuc2V0KGUsW3RdKX1mdW5jdGlvbiB3KGUpe3JldHVybiBJLmdldChlKX1mdW5jdGlvbiBnKGUpe0kuc2V0KGUsdm9pZCAwKX1mdW5jdGlvbiBiKGUsdCl7dmFyIG49dC5nZXRBdHRyaWJ1dGUoInNlbGVjdCIpO2lmKCFuKXJldHVybiEwO2lmKG49bi50cmltKCksIW4pcmV0dXJuITA7aWYoIShlIGluc3RhbmNlb2YgVCkpcmV0dXJuITE7aWYoIXEudGVzdChuKSlyZXR1cm4hMTt0cnl7cmV0dXJuIGUubWF0Y2hlcyhuKX1jYXRjaChyKXtyZXR1cm4hMX19ZnVuY3Rpb24geShlLHQpe3ZhciBuPXcodCk7cmV0dXJuIG4mJm5bbi5sZW5ndGgtMV09PT1lfWZ1bmN0aW9uIF8oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBNfHxlIGluc3RhbmNlb2YgQ31mdW5jdGlvbiBFKGUpe3JldHVybiBlLnNoYWRvd1Jvb3R9ZnVuY3Rpb24gUyhlKXtmb3IodmFyIHQ9W10sbj1lLnNoYWRvd1Jvb3Q7bjtuPW4ub2xkZXJTaGFkb3dSb290KXQucHVzaChuKTtyZXR1cm4gdH12YXIgTyxUPWUud3JhcHBlcnMuRWxlbWVudCxNPWUud3JhcHBlcnMuSFRNTENvbnRlbnRFbGVtZW50LEM9ZS53cmFwcGVycy5IVE1MU2hhZG93RWxlbWVudCxMPWUud3JhcHBlcnMuTm9kZSxOPWUud3JhcHBlcnMuU2hhZG93Um9vdCxqPShlLmFzc2VydCxlLmdldFRyZWVTY29wZSksRD0oZS5taXhpbixlLm9uZU9mKSx4PWUudW5zYWZlVW53cmFwLEg9ZS51bndyYXAsUj1lLndyYXAsUD1uZXcgV2Vha01hcCxJPW5ldyBXZWFrTWFwLGs9bmV3IFdlYWtNYXAsQT1EKHdpbmRvdyxbInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1velJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsInNldFRpbWVvdXQiXSksRj1bXSxXPW5ldyBBcnJheVNwbGljZTtXLmVxdWFscz1mdW5jdGlvbihlLHQpe3JldHVybiBIKGUubm9kZSk9PT10fSxwLnByb3RvdHlwZT17YXBwZW5kOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBwKGUpO3JldHVybiB0aGlzLmNoaWxkTm9kZXMucHVzaCh0KSx0fSxzeW5jOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLnNraXApe2Zvcih2YXIgdD10aGlzLm5vZGUsbz10aGlzLmNoaWxkTm9kZXMsaT1hKEgodCkpLHM9ZXx8bmV3IFdlYWtNYXAsYz1XLmNhbGN1bGF0ZVNwbGljZXMobyxpKSxsPTAsdT0wLGQ9MCxwPTA7cDxjLmxlbmd0aDtwKyspe2Zvcih2YXIgaD1jW3BdO2Q8aC5pbmRleDtkKyspdSsrLG9bbCsrXS5zeW5jKHMpO2Zvcih2YXIgZj1oLnJlbW92ZWQubGVuZ3RoLG09MDtmPm07bSsrKXt2YXIgdj1SKGlbdSsrXSk7cy5nZXQodil8fHIodil9Zm9yKHZhciB3PWguYWRkZWRDb3VudCxnPWlbdV0mJlIoaVt1XSksbT0wO3c+bTttKyspe3ZhciBiPW9bbCsrXSx5PWIubm9kZTtuKHQseSxnKSxzLnNldCh5LCEwKSxiLnN5bmMocyl9ZCs9d31mb3IodmFyIHA9ZDtwPG8ubGVuZ3RoO3ArKylvW3BdLnN5bmMocyl9fX0saC5wcm90b3R5cGU9e3JlbmRlcjpmdW5jdGlvbihlKXtpZih0aGlzLmRpcnR5KXt0aGlzLmludmFsaWRhdGVBdHRyaWJ1dGVzKCk7dmFyIHQ9dGhpcy5ob3N0O3RoaXMuZGlzdHJpYnV0aW9uKHQpO3ZhciBuPWV8fG5ldyBwKHQpO3RoaXMuYnVpbGRSZW5kZXJUcmVlKG4sdCk7dmFyIHI9IWU7ciYmbi5zeW5jKCksdGhpcy5kaXJ0eT0hMX19LGdldCBwYXJlbnRSZW5kZXJlcigpe3JldHVybiBqKHRoaXMuaG9zdCkucmVuZGVyZXJ9LGludmFsaWRhdGU6ZnVuY3Rpb24oKXtpZighdGhpcy5kaXJ0eSl7dGhpcy5kaXJ0eT0hMDt2YXIgZT10aGlzLnBhcmVudFJlbmRlcmVyO2lmKGUmJmUuaW52YWxpZGF0ZSgpLEYucHVzaCh0aGlzKSxPKXJldHVybjtPPXdpbmRvd1tBXShjLDApfX0sZGlzdHJpYnV0aW9uOmZ1bmN0aW9uKGUpe3RoaXMucmVzZXRBbGxTdWJ0cmVlcyhlKSx0aGlzLmRpc3RyaWJ1dGlvblJlc29sdXRpb24oZSl9LHJlc2V0QWxsOmZ1bmN0aW9uKGUpe18oZSk/byhlKTpnKGUpLHRoaXMucmVzZXRBbGxTdWJ0cmVlcyhlKX0scmVzZXRBbGxTdWJ0cmVlczpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5maXJzdENoaWxkO3Q7dD10Lm5leHRTaWJsaW5nKXRoaXMucmVzZXRBbGwodCk7ZS5zaGFkb3dSb290JiZ0aGlzLnJlc2V0QWxsKGUuc2hhZG93Um9vdCksZS5vbGRlclNoYWRvd1Jvb3QmJnRoaXMucmVzZXRBbGwoZS5vbGRlclNoYWRvd1Jvb3QpfSxkaXN0cmlidXRpb25SZXNvbHV0aW9uOmZ1bmN0aW9uKGUpe2lmKEUoZSkpe2Zvcih2YXIgdD1lLG49Zih0KSxyPVModCksbz0wO288ci5sZW5ndGg7bysrKXRoaXMucG9vbERpc3RyaWJ1dGlvbihyW29dLG4pO2Zvcih2YXIgbz1yLmxlbmd0aC0xO28+PTA7by0tKXt2YXIgaT1yW29dLGE9bShpKTtpZihhKXt2YXIgcz1pLm9sZGVyU2hhZG93Um9vdDtzJiYobj1mKHMpKTtmb3IodmFyIGM9MDtjPG4ubGVuZ3RoO2MrKyl2KG5bY10sYSl9dGhpcy5kaXN0cmlidXRpb25SZXNvbHV0aW9uKGkpfX1mb3IodmFyIGw9ZS5maXJzdENoaWxkO2w7bD1sLm5leHRTaWJsaW5nKXRoaXMuZGlzdHJpYnV0aW9uUmVzb2x1dGlvbihsKX0scG9vbERpc3RyaWJ1dGlvbjpmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIEMpKWlmKGUgaW5zdGFuY2VvZiBNKXt2YXIgbj1lO3RoaXMudXBkYXRlRGVwZW5kZW50QXR0cmlidXRlcyhuLmdldEF0dHJpYnV0ZSgic2VsZWN0IikpO2Zvcih2YXIgcj0hMSxvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBlPXRbb107ZSYmYihlLG4pJiYodihlLG4pLHRbb109dm9pZCAwLHI9ITApfWlmKCFyKWZvcih2YXIgaT1uLmZpcnN0Q2hpbGQ7aTtpPWkubmV4dFNpYmxpbmcpdihpLG4pfWVsc2UgZm9yKHZhciBpPWUuZmlyc3RDaGlsZDtpO2k9aS5uZXh0U2libGluZyl0aGlzLnBvb2xEaXN0cmlidXRpb24oaSx0KX0sYnVpbGRSZW5kZXJUcmVlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMuY29tcG9zZSh0KSxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBvPW5bcl0saT1lLmFwcGVuZChvKTt0aGlzLmJ1aWxkUmVuZGVyVHJlZShpLG8pfWlmKEUodCkpe3ZhciBhPWwodCk7YS5kaXJ0eT0hMX19LGNvbXBvc2U6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49ZS5zaGFkb3dSb290fHxlLHI9bi5maXJzdENoaWxkO3I7cj1yLm5leHRTaWJsaW5nKWlmKF8ocikpe3RoaXMuYXNzb2NpYXRlTm9kZShuKTtmb3IodmFyIG89aShyKSxhPTA7YTxvLmxlbmd0aDthKyspe3ZhciBzPW9bYV07eShyLHMpJiZ0LnB1c2gocyl9fWVsc2UgdC5wdXNoKHIpO3JldHVybiB0fSxpbnZhbGlkYXRlQXR0cmlidXRlczpmdW5jdGlvbigpe3RoaXMuYXR0cmlidXRlcz1PYmplY3QuY3JlYXRlKG51bGwpfSx1cGRhdGVEZXBlbmRlbnRBdHRyaWJ1dGVzOmZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PXRoaXMuYXR0cmlidXRlczsvXC5cdysvLnRlc3QoZSkmJih0WyJjbGFzcyJdPSEwKSwvI1x3Ky8udGVzdChlKSYmKHQuaWQ9ITApLGUucmVwbGFjZSgvXFtccyooW15ccz1cfH5cXV0rKS9nLGZ1bmN0aW9uKGUsbil7dFtuXT0hMH0pfX0sZGVwZW5kc09uQXR0cmlidXRlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXNbZV19LGFzc29jaWF0ZU5vZGU6ZnVuY3Rpb24oZSl7eChlKS5wb2x5bWVyU2hhZG93UmVuZGVyZXJfPXRoaXN9fTt2YXIgcT0vXig6bm90XCgpP1sqLiNbYS16QS1aX3xdLztMLnByb3RvdHlwZS5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXI9ZnVuY3Rpb24oKXt2YXIgZT14KHRoaXMpLnBvbHltZXJTaGFkb3dSZW5kZXJlcl87cmV0dXJuIGU/KGUuaW52YWxpZGF0ZSgpLCEwKTohMX0sTS5wcm90b3R5cGUuZ2V0RGlzdHJpYnV0ZWROb2Rlcz1DLnByb3RvdHlwZS5nZXREaXN0cmlidXRlZE5vZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHMoKSxpKHRoaXMpfSxULnByb3RvdHlwZS5nZXREZXN0aW5hdGlvbkluc2VydGlvblBvaW50cz1mdW5jdGlvbigpe3JldHVybiBzKCksdyh0aGlzKXx8W119LE0ucHJvdG90eXBlLm5vZGVJc0luc2VydGVkXz1DLnByb3RvdHlwZS5ub2RlSXNJbnNlcnRlZF89ZnVuY3Rpb24oKXt0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpO3ZhciBlLHQ9dSh0aGlzKTt0JiYoZT1kKHQpKSx4KHRoaXMpLnBvbHltZXJTaGFkb3dSZW5kZXJlcl89ZSxlJiZlLmludmFsaWRhdGUoKX0sZS5nZXRSZW5kZXJlckZvckhvc3Q9bCxlLmdldFNoYWRvd1RyZWVzPVMsZS5yZW5kZXJBbGxQZW5kaW5nPXMsZS5nZXREZXN0aW5hdGlvbkluc2VydGlvblBvaW50cz13LGUudmlzdWFsPXtpbnNlcnRCZWZvcmU6bixyZW1vdmU6cn19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQodCl7aWYod2luZG93W3RdKXtyKCFlLndyYXBwZXJzW3RdKTt2YXIgYz1mdW5jdGlvbihlKXtuLmNhbGwodGhpcyxlKX07Yy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSksbyhjLnByb3RvdHlwZSx7Z2V0IGZvcm0oKXtyZXR1cm4gcyhhKHRoaXMpLmZvcm0pfX0pLGkod2luZG93W3RdLGMsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0LnNsaWNlKDQsLTcpKSksZS53cmFwcGVyc1t0XT1jfX12YXIgbj1lLndyYXBwZXJzLkhUTUxFbGVtZW50LHI9ZS5hc3NlcnQsbz1lLm1peGluLGk9ZS5yZWdpc3RlcldyYXBwZXIsYT1lLnVud3JhcCxzPWUud3JhcCxjPVsiSFRNTEJ1dHRvbkVsZW1lbnQiLCJIVE1MRmllbGRTZXRFbGVtZW50IiwiSFRNTElucHV0RWxlbWVudCIsIkhUTUxLZXlnZW5FbGVtZW50IiwiSFRNTExhYmVsRWxlbWVudCIsIkhUTUxMZWdlbmRFbGVtZW50IiwiSFRNTE9iamVjdEVsZW1lbnQiLCJIVE1MT3V0cHV0RWxlbWVudCIsIkhUTUxUZXh0QXJlYUVsZW1lbnQiXTtjLmZvckVhY2godCl9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7cihlLHRoaXMpfXZhciBuPWUucmVnaXN0ZXJXcmFwcGVyLHI9ZS5zZXRXcmFwcGVyLG89ZS51bnNhZmVVbndyYXAsaT1lLnVud3JhcCxhPWUudW53cmFwSWZOZWVkZWQscz1lLndyYXA7d2luZG93LlNlbGVjdGlvbix0LnByb3RvdHlwZT17Z2V0IGFuY2hvck5vZGUoKXtyZXR1cm4gcyhvKHRoaXMpLmFuY2hvck5vZGUpfSxnZXQgZm9jdXNOb2RlKCl7cmV0dXJuIHMobyh0aGlzKS5mb2N1c05vZGUpfSxhZGRSYW5nZTpmdW5jdGlvbihlKXtvKHRoaXMpLmFkZFJhbmdlKGkoZSkpfSxjb2xsYXBzZTpmdW5jdGlvbihlLHQpe28odGhpcykuY29sbGFwc2UoYShlKSx0KX0sY29udGFpbnNOb2RlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8odGhpcykuY29udGFpbnNOb2RlKGEoZSksdCl9LGV4dGVuZDpmdW5jdGlvbihlLHQpe28odGhpcykuZXh0ZW5kKGEoZSksdCl9LGdldFJhbmdlQXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHMobyh0aGlzKS5nZXRSYW5nZUF0KGUpKX0scmVtb3ZlUmFuZ2U6ZnVuY3Rpb24oZSl7byh0aGlzKS5yZW1vdmVSYW5nZShpKGUpKX0sc2VsZWN0QWxsQ2hpbGRyZW46ZnVuY3Rpb24oZSl7byh0aGlzKS5zZWxlY3RBbGxDaGlsZHJlbihhKGUpKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gbyh0aGlzKS50b1N0cmluZygpfX0sbih3aW5kb3cuU2VsZWN0aW9uLHQsd2luZG93LmdldFNlbGVjdGlvbigpKSxlLndyYXBwZXJzLlNlbGVjdGlvbj10fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe3UuY2FsbCh0aGlzLGUpLHRoaXMudHJlZVNjb3BlXz1uZXcgbSh0aGlzLG51bGwpfWZ1bmN0aW9uIG4oZSl7dmFyIG49ZG9jdW1lbnRbZV07dC5wcm90b3R5cGVbZV09ZnVuY3Rpb24oKXtyZXR1cm4gTChuLmFwcGx5KE0odGhpcyksYXJndW1lbnRzKSl9fWZ1bmN0aW9uIHIoZSx0KXtELmNhbGwoTSh0KSxDKGUpKSxvKGUsdCl9ZnVuY3Rpb24gbyhlLHQpe2Uuc2hhZG93Um9vdCYmdC5hZG9wdE5vZGUoZS5zaGFkb3dSb290KSxlIGluc3RhbmNlb2YgZiYmaShlLHQpO2Zvcih2YXIgbj1lLmZpcnN0Q2hpbGQ7bjtuPW4ubmV4dFNpYmxpbmcpbyhuLHQpfWZ1bmN0aW9uIGkoZSx0KXt2YXIgbj1lLm9sZGVyU2hhZG93Um9vdDtuJiZ0LmFkb3B0Tm9kZShuKX1mdW5jdGlvbiBhKGUpe1QoZSx0aGlzKX1mdW5jdGlvbiBzKGUsdCl7dmFyIG49ZG9jdW1lbnQuaW1wbGVtZW50YXRpb25bdF07ZS5wcm90b3R5cGVbdF09ZnVuY3Rpb24oKXtyZXR1cm4gTChuLmFwcGx5KE0odGhpcyksYXJndW1lbnRzKSl9fWZ1bmN0aW9uIGMoZSx0KXt2YXIgbj1kb2N1bWVudC5pbXBsZW1lbnRhdGlvblt0XTtlLnByb3RvdHlwZVt0XT1mdW5jdGlvbigpe3JldHVybiBuLmFwcGx5KE0odGhpcyksYXJndW1lbnRzKX19dmFyIGw9ZS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLHU9ZS53cmFwcGVycy5Ob2RlLGQ9ZS5QYXJlbnROb2RlSW50ZXJmYWNlLHA9ZS53cmFwcGVycy5TZWxlY3Rpb24saD1lLlNlbGVjdG9yc0ludGVyZmFjZSxmPWUud3JhcHBlcnMuU2hhZG93Um9vdCxtPWUuVHJlZVNjb3BlLHY9ZS5jbG9uZU5vZGUsdz1lLmRlZmluZVdyYXBHZXR0ZXIsZz1lLmVsZW1lbnRGcm9tUG9pbnQsYj1lLmZvcndhcmRNZXRob2RzVG9XcmFwcGVyLHk9ZS5tYXRjaGVzTmFtZXMsXz1lLm1peGluLEU9ZS5yZWdpc3RlcldyYXBwZXIsUz1lLnJlbmRlckFsbFBlbmRpbmcsTz1lLnJld3JhcCxUPWUuc2V0V3JhcHBlcixNPWUudW5zYWZlVW53cmFwLEM9ZS51bndyYXAsTD1lLndyYXAsTj1lLndyYXBFdmVudFRhcmdldE1ldGhvZHMsaj0oZS53cmFwTm9kZUxpc3QsbmV3IFdlYWtNYXApO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodS5wcm90b3R5cGUpLHcodCwiZG9jdW1lbnRFbGVtZW50Iiksdyh0LCJib2R5Iiksdyh0LCJoZWFkIiksWyJjcmVhdGVDb21tZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJjcmVhdGVFdmVudCIsImNyZWF0ZUV2ZW50TlMiLCJjcmVhdGVSYW5nZSIsImNyZWF0ZVRleHROb2RlIiwiZ2V0RWxlbWVudEJ5SWQiXS5mb3JFYWNoKG4pO3ZhciBEPWRvY3VtZW50LmFkb3B0Tm9kZSx4PWRvY3VtZW50LmdldFNlbGVjdGlvbjtpZihfKHQucHJvdG90eXBlLHthZG9wdE5vZGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpLHIoZSx0aGlzKSxlfSxlbGVtZW50RnJvbVBvaW50OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGcodGhpcyx0aGlzLGUsdCl9LGltcG9ydE5vZGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdihlLHQsTSh0aGlzKSl9LGdldFNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiBTKCksbmV3IHAoeC5jYWxsKEModGhpcykpKX0sZ2V0RWxlbWVudHNCeU5hbWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGgucXVlcnlTZWxlY3RvckFsbC5jYWxsKHRoaXMsIltuYW1lPSIrSlNPTi5zdHJpbmdpZnkoU3RyaW5nKGUpKSsiXSIpfX0pLGRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCl7dmFyIEg9ZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50O3QucHJvdG90eXBlLnJlZ2lzdGVyRWxlbWVudD1mdW5jdGlvbih0LG4pe2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGU/dm9pZCBUKGUsdGhpcyk6aT9kb2N1bWVudC5jcmVhdGVFbGVtZW50KGksdCk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0KX12YXIgbyxpO2lmKHZvaWQgMCE9PW4mJihvPW4ucHJvdG90eXBlLGk9bi5leHRlbmRzKSxvfHwobz1PYmplY3QuY3JlYXRlKEhUTUxFbGVtZW50LnByb3RvdHlwZSkpLGUubmF0aXZlUHJvdG90eXBlVGFibGUuZ2V0KG8pKXRocm93IG5ldyBFcnJvcigiTm90U3VwcG9ydGVkRXJyb3IiKTtmb3IodmFyIGEscz1PYmplY3QuZ2V0UHJvdG90eXBlT2YobyksYz1bXTtzJiYhKGE9ZS5uYXRpdmVQcm90b3R5cGVUYWJsZS5nZXQocykpOyljLnB1c2gocykscz1PYmplY3QuZ2V0UHJvdG90eXBlT2Yocyk7aWYoIWEpdGhyb3cgbmV3IEVycm9yKCJOb3RTdXBwb3J0ZWRFcnJvciIpO2Zvcih2YXIgbD1PYmplY3QuY3JlYXRlKGEpLHU9Yy5sZW5ndGgtMTt1Pj0wO3UtLSlsPU9iamVjdC5jcmVhdGUobCk7WyJjcmVhdGVkQ2FsbGJhY2siLCJhdHRhY2hlZENhbGxiYWNrIiwiZGV0YWNoZWRDYWxsYmFjayIsImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayJdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9b1tlXTt0JiYobFtlXT1mdW5jdGlvbigpe0wodGhpcylpbnN0YW5jZW9mIHJ8fE8odGhpcyksdC5hcHBseShMKHRoaXMpLGFyZ3VtZW50cyl9KX0pO3ZhciBkPXtwcm90b3R5cGU6bH07cmV0dXJuIGkmJihkLmV4dGVuZHM9aSksci5wcm90b3R5cGU9byxyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1yLGUuY29uc3RydWN0b3JUYWJsZS5zZXQobCxyKSxlLm5hdGl2ZVByb3RvdHlwZVRhYmxlLnNldChvLGwpLEguY2FsbChDKHRoaXMpLHQsZCkscn0sYihbd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50XSxbInJlZ2lzdGVyRWxlbWVudCJdKX1iKFt3aW5kb3cuSFRNTEJvZHlFbGVtZW50LHdpbmRvdy5IVE1MRG9jdW1lbnR8fHdpbmRvdy5Eb2N1bWVudCx3aW5kb3cuSFRNTEhlYWRFbGVtZW50LHdpbmRvdy5IVE1MSHRtbEVsZW1lbnRdLFsiYXBwZW5kQ2hpbGQiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsImNvbnRhaW5zIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyIsImluc2VydEJlZm9yZSIsInF1ZXJ5U2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yQWxsIiwicmVtb3ZlQ2hpbGQiLCJyZXBsYWNlQ2hpbGQiXS5jb25jYXQoeSkpLGIoW3dpbmRvdy5IVE1MRG9jdW1lbnR8fHdpbmRvdy5Eb2N1bWVudF0sWyJhZG9wdE5vZGUiLCJpbXBvcnROb2RlIiwiY29udGFpbnMiLCJjcmVhdGVDb21tZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJjcmVhdGVFdmVudCIsImNyZWF0ZUV2ZW50TlMiLCJjcmVhdGVSYW5nZSIsImNyZWF0ZVRleHROb2RlIiwiZWxlbWVudEZyb21Qb2ludCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0RWxlbWVudHNCeU5hbWUiLCJnZXRTZWxlY3Rpb24iXSksXyh0LnByb3RvdHlwZSxsKSxfKHQucHJvdG90eXBlLGQpLF8odC5wcm90b3R5cGUsaCksXyh0LnByb3RvdHlwZSx7Z2V0IGltcGxlbWVudGF0aW9uKCl7dmFyIGU9ai5nZXQodGhpcyk7cmV0dXJuIGU/ZTooZT1uZXcgYShDKHRoaXMpLmltcGxlbWVudGF0aW9uKSxqLnNldCh0aGlzLGUpLGUpfSxnZXQgZGVmYXVsdFZpZXcoKXtyZXR1cm4gTChDKHRoaXMpLmRlZmF1bHRWaWV3KX19KSxFKHdpbmRvdy5Eb2N1bWVudCx0LGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikpLHdpbmRvdy5IVE1MRG9jdW1lbnQmJkUod2luZG93LkhUTUxEb2N1bWVudCx0KSxOKFt3aW5kb3cuSFRNTEJvZHlFbGVtZW50LHdpbmRvdy5IVE1MRG9jdW1lbnR8fHdpbmRvdy5Eb2N1bWVudCx3aW5kb3cuSFRNTEhlYWRFbGVtZW50XSkscyhhLCJjcmVhdGVEb2N1bWVudFR5cGUiKSxzKGEsImNyZWF0ZURvY3VtZW50IikscyhhLCJjcmVhdGVIVE1MRG9jdW1lbnQiKSxjKGEsImhhc0ZlYXR1cmUiKSxFKHdpbmRvdy5ET01JbXBsZW1lbnRhdGlvbixhKSxiKFt3aW5kb3cuRE9NSW1wbGVtZW50YXRpb25dLFsiY3JlYXRlRG9jdW1lbnRUeXBlIiwiY3JlYXRlRG9jdW1lbnQiLCJjcmVhdGVIVE1MRG9jdW1lbnQiLCJoYXNGZWF0dXJlIl0pLGUuYWRvcHROb2RlTm9SZW1vdmU9cixlLndyYXBwZXJzLkRPTUltcGxlbWVudGF0aW9uPWEsZS53cmFwcGVycy5Eb2N1bWVudD10fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe24uY2FsbCh0aGlzLGUpfXZhciBuPWUud3JhcHBlcnMuRXZlbnRUYXJnZXQscj1lLndyYXBwZXJzLlNlbGVjdGlvbixvPWUubWl4aW4saT1lLnJlZ2lzdGVyV3JhcHBlcixhPWUucmVuZGVyQWxsUGVuZGluZyxzPWUudW53cmFwLGM9ZS51bndyYXBJZk5lZWRlZCxsPWUud3JhcCx1PXdpbmRvdy5XaW5kb3csZD13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSxwPXdpbmRvdy5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZSxoPXdpbmRvdy5nZXRTZWxlY3Rpb247dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSksdS5wcm90b3R5cGUuZ2V0Q29tcHV0ZWRTdHlsZT1mdW5jdGlvbihlLHQpe3JldHVybiBsKHRoaXN8fHdpbmRvdykuZ2V0Q29tcHV0ZWRTdHlsZShjKGUpLHQpfSxwJiYodS5wcm90b3R5cGUuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbCh0aGlzfHx3aW5kb3cpLmdldERlZmF1bHRDb21wdXRlZFN0eWxlKGMoZSksdCl9KSx1LnByb3RvdHlwZS5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gbCh0aGlzfHx3aW5kb3cpLmdldFNlbGVjdGlvbigpfSxkZWxldGUgd2luZG93LmdldENvbXB1dGVkU3R5bGUsZGVsZXRlIHdpbmRvdy5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZSxkZWxldGUgd2luZG93LmdldFNlbGVjdGlvbixbImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzcGF0Y2hFdmVudCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dS5wcm90b3R5cGVbZV09ZnVuY3Rpb24oKXt2YXIgdD1sKHRoaXN8fHdpbmRvdyk7cmV0dXJuIHRbZV0uYXBwbHkodCxhcmd1bWVudHMpfSxkZWxldGUgd2luZG93W2VdfSksbyh0LnByb3RvdHlwZSx7Z2V0Q29tcHV0ZWRTdHlsZTpmdW5jdGlvbihlLHQpe3JldHVybiBhKCksZC5jYWxsKHModGhpcyksYyhlKSx0KX0sZ2V0U2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGEoKSxuZXcgcihoLmNhbGwocyh0aGlzKSkpfSxnZXQgZG9jdW1lbnQoKXtyZXR1cm4gbChzKHRoaXMpLmRvY3VtZW50KX19KSxwJiYodC5wcm90b3R5cGUuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYSgpLHAuY2FsbChzKHRoaXMpLGMoZSksdCl9KSxpKHUsdCx3aW5kb3cpLGUud3JhcHBlcnMuV2luZG93PXR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO3ZhciB0PWUudW53cmFwLG49d2luZG93LkRhdGFUcmFuc2Zlcnx8d2luZG93LkNsaXBib2FyZCxyPW4ucHJvdG90eXBlLnNldERyYWdJbWFnZTtyJiYobi5wcm90b3R5cGUuc2V0RHJhZ0ltYWdlPWZ1bmN0aW9uKGUsbixvKXtyLmNhbGwodGhpcyx0KGUpLG4sbyl9KX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXt2YXIgdDt0PWUgaW5zdGFuY2VvZiBpP2U6bmV3IGkoZSYmbyhlKSkscih0LHRoaXMpfXZhciBuPWUucmVnaXN0ZXJXcmFwcGVyLHI9ZS5zZXRXcmFwcGVyLG89ZS51bndyYXAsaT13aW5kb3cuRm9ybURhdGE7aSYmKG4oaSx0LG5ldyBpKSxlLndyYXBwZXJzLkZvcm1EYXRhPXQpfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD1lLnVud3JhcElmTmVlZGVkLG49WE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNlbmQ7WE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2FsbCh0aGlzLHQoZSkpfX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXt2YXIgdD1uW2VdLHI9d2luZG93W3RdO2lmKHIpe3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZSksaT1vLmNvbnN0cnVjdG9yO3dpbmRvd1t0XT1pfX12YXIgbj0oZS5pc1dyYXBwZXJGb3Ise2E6IkhUTUxBbmNob3JFbGVtZW50IixhcmVhOiJIVE1MQXJlYUVsZW1lbnQiLGF1ZGlvOiJIVE1MQXVkaW9FbGVtZW50IixiYXNlOiJIVE1MQmFzZUVsZW1lbnQiLGJvZHk6IkhUTUxCb2R5RWxlbWVudCIsYnI6IkhUTUxCUkVsZW1lbnQiLGJ1dHRvbjoiSFRNTEJ1dHRvbkVsZW1lbnQiLGNhbnZhczoiSFRNTENhbnZhc0VsZW1lbnQiLGNhcHRpb246IkhUTUxUYWJsZUNhcHRpb25FbGVtZW50Iixjb2w6IkhUTUxUYWJsZUNvbEVsZW1lbnQiLGNvbnRlbnQ6IkhUTUxDb250ZW50RWxlbWVudCIsZGF0YToiSFRNTERhdGFFbGVtZW50IixkYXRhbGlzdDoiSFRNTERhdGFMaXN0RWxlbWVudCIsZGVsOiJIVE1MTW9kRWxlbWVudCIsZGlyOiJIVE1MRGlyZWN0b3J5RWxlbWVudCIsZGl2OiJIVE1MRGl2RWxlbWVudCIsZGw6IkhUTUxETGlzdEVsZW1lbnQiLGVtYmVkOiJIVE1MRW1iZWRFbGVtZW50IixmaWVsZHNldDoiSFRNTEZpZWxkU2V0RWxlbWVudCIsZm9udDoiSFRNTEZvbnRFbGVtZW50Iixmb3JtOiJIVE1MRm9ybUVsZW1lbnQiLGZyYW1lOiJIVE1MRnJhbWVFbGVtZW50IixmcmFtZXNldDoiSFRNTEZyYW1lU2V0RWxlbWVudCIsaDE6IkhUTUxIZWFkaW5nRWxlbWVudCIsaGVhZDoiSFRNTEhlYWRFbGVtZW50IixocjoiSFRNTEhSRWxlbWVudCIsaHRtbDoiSFRNTEh0bWxFbGVtZW50IixpZnJhbWU6IkhUTUxJRnJhbWVFbGVtZW50IixpbWc6IkhUTUxJbWFnZUVsZW1lbnQiLGlucHV0OiJIVE1MSW5wdXRFbGVtZW50IixrZXlnZW46IkhUTUxLZXlnZW5FbGVtZW50IixsYWJlbDoiSFRNTExhYmVsRWxlbWVudCIsbGVnZW5kOiJIVE1MTGVnZW5kRWxlbWVudCIsbGk6IkhUTUxMSUVsZW1lbnQiLGxpbms6IkhUTUxMaW5rRWxlbWVudCIsbWFwOiJIVE1MTWFwRWxlbWVudCIsbWFycXVlZToiSFRNTE1hcnF1ZWVFbGVtZW50IixtZW51OiJIVE1MTWVudUVsZW1lbnQiLG1lbnVpdGVtOiJIVE1MTWVudUl0ZW1FbGVtZW50IixtZXRhOiJIVE1MTWV0YUVsZW1lbnQiLG1ldGVyOiJIVE1MTWV0ZXJFbGVtZW50IixvYmplY3Q6IkhUTUxPYmplY3RFbGVtZW50IixvbDoiSFRNTE9MaXN0RWxlbWVudCIsb3B0Z3JvdXA6IkhUTUxPcHRHcm91cEVsZW1lbnQiLG9wdGlvbjoiSFRNTE9wdGlvbkVsZW1lbnQiLG91dHB1dDoiSFRNTE91dHB1dEVsZW1lbnQiLHA6IkhUTUxQYXJhZ3JhcGhFbGVtZW50IixwYXJhbToiSFRNTFBhcmFtRWxlbWVudCIscHJlOiJIVE1MUHJlRWxlbWVudCIscHJvZ3Jlc3M6IkhUTUxQcm9ncmVzc0VsZW1lbnQiLHE6IkhUTUxRdW90ZUVsZW1lbnQiLHNjcmlwdDoiSFRNTFNjcmlwdEVsZW1lbnQiLHNlbGVjdDoiSFRNTFNlbGVjdEVsZW1lbnQiLHNoYWRvdzoiSFRNTFNoYWRvd0VsZW1lbnQiLHNvdXJjZToiSFRNTFNvdXJjZUVsZW1lbnQiLHNwYW46IkhUTUxTcGFuRWxlbWVudCIsc3R5bGU6IkhUTUxTdHlsZUVsZW1lbnQiLHRhYmxlOiJIVE1MVGFibGVFbGVtZW50Iix0Ym9keToiSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQiLHRlbXBsYXRlOiJIVE1MVGVtcGxhdGVFbGVtZW50Iix0ZXh0YXJlYToiSFRNTFRleHRBcmVhRWxlbWVudCIsdGhlYWQ6IkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50Iix0aW1lOiJIVE1MVGltZUVsZW1lbnQiLHRpdGxlOiJIVE1MVGl0bGVFbGVtZW50Iix0cjoiSFRNTFRhYmxlUm93RWxlbWVudCIsdHJhY2s6IkhUTUxUcmFja0VsZW1lbnQiLHVsOiJIVE1MVUxpc3RFbGVtZW50Iix2aWRlbzoiSFRNTFZpZGVvRWxlbWVudCJ9KTtPYmplY3Qua2V5cyhuKS5mb3JFYWNoKHQpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUud3JhcHBlcnMpLmZvckVhY2goZnVuY3Rpb24odCl7d2luZG93W3RdPWUud3JhcHBlcnNbdF19KX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsbil7dmFyIHIsbyxpLGEscz1lLmZpcnN0RWxlbWVudENoaWxkO2ZvcihvPVtdLGk9ZS5zaGFkb3dSb290O2k7KW8ucHVzaChpKSxpPWkub2xkZXJTaGFkb3dSb290O2ZvcihhPW8ubGVuZ3RoLTE7YT49MDthLS0paWYocj1vW2FdLnF1ZXJ5U2VsZWN0b3IobikpcmV0dXJuIHI7Zm9yKDtzOyl7aWYocj10KHMsbikpcmV0dXJuIHI7cz1zLm5leHRFbGVtZW50U2libGluZ31yZXR1cm4gbnVsbH1mdW5jdGlvbiBuKGUsdCxyKXt2YXIgbyxpLGEscyxjLGw9ZS5maXJzdEVsZW1lbnRDaGlsZDtmb3IoYT1bXSxpPWUuc2hhZG93Um9vdDtpOylhLnB1c2goaSksaT1pLm9sZGVyU2hhZG93Um9vdDtmb3Iocz1hLmxlbmd0aC0xO3M+PTA7cy0tKWZvcihvPWFbc10ucXVlcnlTZWxlY3RvckFsbCh0KSxjPTA7YzxvLmxlbmd0aDtjKyspci5wdXNoKG9bY10pO2Zvcig7bDspbihsLHQsciksbD1sLm5leHRFbGVtZW50U2libGluZztyZXR1cm4gcn13aW5kb3cud3JhcD1TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQsd2luZG93LnVud3JhcD1TaGFkb3dET01Qb2x5ZmlsbC51bndyYXBJZk5lZWRlZCxPYmplY3QuZGVmaW5lUHJvcGVydHkoRWxlbWVudC5wcm90b3R5cGUsIndlYmtpdFNoYWRvd1Jvb3QiLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRWxlbWVudC5wcm90b3R5cGUsInNoYWRvd1Jvb3QiKSk7dmFyIHI9RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdDtFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290PWZ1bmN0aW9uKCl7dmFyIGU9ci5jYWxsKHRoaXMpO3JldHVybiBDdXN0b21FbGVtZW50cy53YXRjaFNoYWRvdyh0aGlzKSxlfSxFbGVtZW50LnByb3RvdHlwZS53ZWJraXRDcmVhdGVTaGFkb3dSb290PUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3QsZS5xdWVyeUFsbFNoYWRvd3M9ZnVuY3Rpb24oZSxyLG8pe3JldHVybiBvP24oZSxyLFtdKTp0KGUscil9fSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0KXt2YXIgbj0iIjtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlLGZ1bmN0aW9uKGUpe24rPWUudGV4dENvbnRlbnQrIlxuXG4ifSksdHx8KG49bi5yZXBsYWNlKGQsIiIpKSxufWZ1bmN0aW9uIG4oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyZXR1cm4gdC50ZXh0Q29udGVudD1lLHR9ZnVuY3Rpb24gcihlKXt2YXIgdD1uKGUpO2RvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodCk7dmFyIHI9W107aWYodC5zaGVldCl0cnl7cj10LnNoZWV0LmNzc1J1bGVzfWNhdGNoKG8pe31lbHNlIGNvbnNvbGUud2Fybigic2hlZXQgbm90IGZvdW5kIix0KTtyZXR1cm4gdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpLHJ9ZnVuY3Rpb24gbygpe18uaW5pdGlhbGl6ZWQ9ITAsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChfKTt2YXIgZT1fLmNvbnRlbnREb2N1bWVudCx0PWUuY3JlYXRlRWxlbWVudCgiYmFzZSIpO3QuaHJlZj1kb2N1bWVudC5iYXNlVVJJLGUuaGVhZC5hcHBlbmRDaGlsZCh0KX1mdW5jdGlvbiBpKGUpe18uaW5pdGlhbGl6ZWR8fG8oKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKF8pLGUoXy5jb250ZW50RG9jdW1lbnQpLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoXyl9ZnVuY3Rpb24gYShlLHQpe2lmKHQpe3ZhciBvO2lmKGUubWF0Y2goIkBpbXBvcnQiKSYmUyl7dmFyIGE9bihlKTtpKGZ1bmN0aW9uKGUpe2UuaGVhZC5hcHBlbmRDaGlsZChhLmltcGwpLG89QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYS5zaGVldC5jc3NSdWxlcywwKSx0KG8pfSl9ZWxzZSBvPXIoZSksdChvKX19ZnVuY3Rpb24gcyhlKXtlJiZsKCkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZSkpfWZ1bmN0aW9uIGMoZSx0KXt2YXIgcj1uKGUpO3Iuc2V0QXR0cmlidXRlKHQsIiIpLHIuc2V0QXR0cmlidXRlKFQsIiIpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQocil9ZnVuY3Rpb24gbCgpe3JldHVybiBFfHwoRT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLEUuc2V0QXR0cmlidXRlKFQsIiIpLEVbVF09ITApLEV9dmFyIHU9e3N0cmljdFN0eWxpbmc6ITEscmVnaXN0cnk6e30sc2hpbVN0eWxpbmc6ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPXRoaXMucHJlcGFyZVJvb3QoZSxuLHIpLGk9dGhpcy5pc1R5cGVFeHRlbnNpb24ociksYT10aGlzLm1ha2VTY29wZVNlbGVjdG9yKG4saSkscz10KG8sITApO3M9dGhpcy5zY29wZUNzc1RleHQocyxhKSxlJiYoZS5zaGltbWVkU3R5bGU9cyksdGhpcy5hZGRDc3NUb0RvY3VtZW50KHMsbil9LHNoaW1TdHlsZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnNoaW1Dc3NUZXh0KGUudGV4dENvbnRlbnQsdCl9LHNoaW1Dc3NUZXh0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9dGhpcy5pbnNlcnREaXJlY3RpdmVzKGUpLHRoaXMuc2NvcGVDc3NUZXh0KGUsdCl9LG1ha2VTY29wZVNlbGVjdG9yOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/dD8iW2lzPSIrZSsiXSI6ZToiIn0saXNUeXBlRXh0ZW5zaW9uOmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmluZGV4T2YoIi0iKTwwfSxwcmVwYXJlUm9vdDpmdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5yZWdpc3RlclJvb3QoZSx0LG4pO3JldHVybiB0aGlzLnJlcGxhY2VUZXh0SW5TdHlsZXMoci5yb290U3R5bGVzLHRoaXMuaW5zZXJ0RGlyZWN0aXZlcyksdGhpcy5yZW1vdmVTdHlsZXMoZSxyLnJvb3RTdHlsZXMpLHRoaXMuc3RyaWN0U3R5bGluZyYmdGhpcy5hcHBseVNjb3BlVG9Db250ZW50KGUsdCksci5zY29wZVN0eWxlc30scmVtb3ZlU3R5bGVzOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHI9MCxvPXQubGVuZ3RoO28+ciYmKG49dFtyXSk7cisrKW4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKX0scmVnaXN0ZXJSb290OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLnJlZ2lzdHJ5W3RdPXtyb290OmUsbmFtZTp0LGV4dGVuZHNOYW1lOm59LG89dGhpcy5maW5kU3R5bGVzKGUpO3Iucm9vdFN0eWxlcz1vLHIuc2NvcGVTdHlsZXM9ci5yb290U3R5bGVzO3ZhciBpPXRoaXMucmVnaXN0cnlbci5leHRlbmRzTmFtZV07cmV0dXJuIGkmJihyLnNjb3BlU3R5bGVzPWkuc2NvcGVTdHlsZXMuY29uY2F0KHIuc2NvcGVTdHlsZXMpKSxyfSxmaW5kU3R5bGVzOmZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybltdO3ZhciB0PWUucXVlcnlTZWxlY3RvckFsbCgic3R5bGUiKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKHQsZnVuY3Rpb24oZSl7cmV0dXJuIWUuaGFzQXR0cmlidXRlKE0pfSl9LGFwcGx5U2NvcGVUb0NvbnRlbnQ6ZnVuY3Rpb24oZSx0KXtlJiYoQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlLnF1ZXJ5U2VsZWN0b3JBbGwoIioiKSxmdW5jdGlvbihlKXtlLnNldEF0dHJpYnV0ZSh0LCIiKX0pLEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZS5xdWVyeVNlbGVjdG9yQWxsKCJ0ZW1wbGF0ZSIpLGZ1bmN0aW9uKGUpe3RoaXMuYXBwbHlTY29wZVRvQ29udGVudChlLmNvbnRlbnQsdCl9LHRoaXMpKX0saW5zZXJ0RGlyZWN0aXZlczpmdW5jdGlvbihlKXtyZXR1cm4gZT10aGlzLmluc2VydFBvbHlmaWxsRGlyZWN0aXZlc0luQ3NzVGV4dChlKSx0aGlzLmluc2VydFBvbHlmaWxsUnVsZXNJbkNzc1RleHQoZSl9LGluc2VydFBvbHlmaWxsRGlyZWN0aXZlc0luQ3NzVGV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZT1lLnJlcGxhY2UocCxmdW5jdGlvbihlLHQpe3JldHVybiB0LnNsaWNlKDAsLTIpKyJ7In0pLGUucmVwbGFjZShoLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQrIiB7In0pfSxpbnNlcnRQb2x5ZmlsbFJ1bGVzSW5Dc3NUZXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlPWUucmVwbGFjZShmLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuc2xpY2UoMCwtMSl9KSxlLnJlcGxhY2UobSxmdW5jdGlvbihlLHQsbixyKXt2YXIgbz1lLnJlcGxhY2UodCwiIikucmVwbGFjZShuLCIiKTtyZXR1cm4gcitvfSl9LHNjb3BlQ3NzVGV4dDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZXh0cmFjdFVuc2NvcGVkUnVsZXNGcm9tQ3NzVGV4dChlKTtpZihlPXRoaXMuaW5zZXJ0UG9seWZpbGxIb3N0SW5Dc3NUZXh0KGUpLGU9dGhpcy5jb252ZXJ0Q29sb25Ib3N0KGUpLGU9dGhpcy5jb252ZXJ0Q29sb25Ib3N0Q29udGV4dChlKSxlPXRoaXMuY29udmVydFNoYWRvd0RPTVNlbGVjdG9ycyhlKSx0KXt2YXIgZSxyPXRoaXM7YShlLGZ1bmN0aW9uKG4pe2U9ci5zY29wZVJ1bGVzKG4sdCl9KX1yZXR1cm4gZT1lKyJcbiIrbixlLnRyaW0oKX0sZXh0cmFjdFVuc2NvcGVkUnVsZXNGcm9tQ3NzVGV4dDpmdW5jdGlvbihlKXtmb3IodmFyIHQsbj0iIjt0PXYuZXhlYyhlKTspbis9dFsxXS5zbGljZSgwLC0xKSsiXG5cbiI7Zm9yKDt0PXcuZXhlYyhlKTspbis9dFswXS5yZXBsYWNlKHRbMl0sIiIpLnJlcGxhY2UodFsxXSx0WzNdKSsiXG5cbiI7cmV0dXJuIG59LGNvbnZlcnRDb2xvbkhvc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29udmVydENvbG9uUnVsZShlLGNzc0NvbG9uSG9zdFJlLHRoaXMuY29sb25Ib3N0UGFydFJlcGxhY2VyKX0sY29udmVydENvbG9uSG9zdENvbnRleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29udmVydENvbG9uUnVsZShlLGNzc0NvbG9uSG9zdENvbnRleHRSZSx0aGlzLmNvbG9uSG9zdENvbnRleHRQYXJ0UmVwbGFjZXIpfSxjb252ZXJ0Q29sb25SdWxlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZS5yZXBsYWNlKHQsZnVuY3Rpb24oZSx0LHIsbyl7aWYodD1wb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3Iscil7Zm9yKHZhciBpLGE9ci5zcGxpdCgiLCIpLHM9W10sYz0wLGw9YS5sZW5ndGg7bD5jJiYoaT1hW2NdKTtjKyspaT1pLnRyaW0oKSxzLnB1c2gobih0LGksbykpO3JldHVybiBzLmpvaW4oIiwiKX1yZXR1cm4gdCtvfSl9LGNvbG9uSG9zdENvbnRleHRQYXJ0UmVwbGFjZXI6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0Lm1hdGNoKGcpP3RoaXMuY29sb25Ib3N0UGFydFJlcGxhY2VyKGUsdCxuKTplK3QrbisiLCAiK3QrIiAiK2Urbn0sY29sb25Ib3N0UGFydFJlcGxhY2VyOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZSt0LnJlcGxhY2UoZywiIikrbn0sY29udmVydFNoYWRvd0RPTVNlbGVjdG9yczpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHNoYWRvd0RPTVNlbGVjdG9yc1JlLmxlbmd0aDt0KyspZT1lLnJlcGxhY2Uoc2hhZG93RE9NU2VsZWN0b3JzUmVbdF0sIiAiKTtyZXR1cm4gZX0sc2NvcGVSdWxlczpmdW5jdGlvbihlLHQpe3ZhciBuPSIiO3JldHVybiBlJiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGUsZnVuY3Rpb24oZSl7aWYoZS5zZWxlY3RvclRleHQmJmUuc3R5bGUmJnZvaWQgMCE9PWUuc3R5bGUuY3NzVGV4dCluKz10aGlzLnNjb3BlU2VsZWN0b3IoZS5zZWxlY3RvclRleHQsdCx0aGlzLnN0cmljdFN0eWxpbmcpKyIge1xuCSIsbis9dGhpcy5wcm9wZXJ0aWVzRnJvbVJ1bGUoZSkrIlxufVxuXG4iO2Vsc2UgaWYoZS50eXBlPT09Q1NTUnVsZS5NRURJQV9SVUxFKW4rPSJAbWVkaWEgIitlLm1lZGlhLm1lZGlhVGV4dCsiIHtcbiIsbis9dGhpcy5zY29wZVJ1bGVzKGUuY3NzUnVsZXMsdCksbis9IlxufVxuXG4iO2Vsc2UgdHJ5e2UuY3NzVGV4dCYmKG4rPWUuY3NzVGV4dCsiXG5cbiIpfWNhdGNoKHIpe2UudHlwZT09PUNTU1J1bGUuS0VZRlJBTUVTX1JVTEUmJmUuY3NzUnVsZXMmJihuKz10aGlzLmllU2FmZUNzc1RleHRGcm9tS2V5RnJhbWVSdWxlKGUpKX19LHRoaXMpLG59LGllU2FmZUNzc1RleHRGcm9tS2V5RnJhbWVSdWxlOmZ1bmN0aW9uKGUpe3ZhciB0PSJAa2V5ZnJhbWVzICIrZS5uYW1lKyIgeyI7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZS5jc3NSdWxlcyxmdW5jdGlvbihlKXt0Kz0iICIrZS5rZXlUZXh0KyIgeyIrZS5zdHlsZS5jc3NUZXh0KyJ9In0pLHQrPSIgfSJ9LHNjb3BlU2VsZWN0b3I6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVtdLG89ZS5zcGxpdCgiLCIpO3JldHVybiBvLmZvckVhY2goZnVuY3Rpb24oZSl7ZT1lLnRyaW0oKSx0aGlzLnNlbGVjdG9yTmVlZHNTY29waW5nKGUsdCkmJihlPW4mJiFlLm1hdGNoKHBvbHlmaWxsSG9zdE5vQ29tYmluYXRvcik/dGhpcy5hcHBseVN0cmljdFNlbGVjdG9yU2NvcGUoZSx0KTp0aGlzLmFwcGx5U2VsZWN0b3JTY29wZShlLHQpKSxyLnB1c2goZSl9LHRoaXMpLHIuam9pbigiLCAiKX0sc2VsZWN0b3JOZWVkc1Njb3Bpbmc6ZnVuY3Rpb24oZSx0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiEwO3ZhciBuPXRoaXMubWFrZVNjb3BlTWF0Y2hlcih0KTtyZXR1cm4hZS5tYXRjaChuKX0sbWFrZVNjb3BlTWF0Y2hlcjpmdW5jdGlvbihlKXtyZXR1cm4gZT1lLnJlcGxhY2UoL1xbL2csIlxcWyIpLnJlcGxhY2UoL1xbL2csIlxcXSIpLG5ldyBSZWdFeHAoIl4oIitlKyIpIitzZWxlY3RvclJlU3VmZml4LCJtIil9LGFwcGx5U2VsZWN0b3JTY29wZTpmdW5jdGlvbihlLHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP3RoaXMuYXBwbHlTZWxlY3RvclNjb3BlTGlzdChlLHQpOnRoaXMuYXBwbHlTaW1wbGVTZWxlY3RvclNjb3BlKGUsdCl9LGFwcGx5U2VsZWN0b3JTY29wZUxpc3Q6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scj1bXSxvPTA7bj10W29dO28rKylyLnB1c2godGhpcy5hcHBseVNpbXBsZVNlbGVjdG9yU2NvcGUoZSxuKSk7cmV0dXJuIHIuam9pbigiLCAiKX0sYXBwbHlTaW1wbGVTZWxlY3RvclNjb3BlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubWF0Y2gocG9seWZpbGxIb3N0UmUpPyhlPWUucmVwbGFjZShwb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3IsdCksZS5yZXBsYWNlKHBvbHlmaWxsSG9zdFJlLHQrIiAiKSk6dCsiICIrZX0sYXBwbHlTdHJpY3RTZWxlY3RvclNjb3BlOmZ1bmN0aW9uKGUsdCl7dD10LnJlcGxhY2UoL1xbaXM9KFteXF1dKilcXS9nLCIkMSIpO3ZhciBuPVsiICIsIj4iLCIrIiwifiJdLHI9ZSxvPSJbIit0KyJdIjtyZXR1cm4gbi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXIuc3BsaXQoZSk7cj10Lm1hcChmdW5jdGlvbihlKXt2YXIgdD1lLnRyaW0oKS5yZXBsYWNlKHBvbHlmaWxsSG9zdFJlLCIiKTtyZXR1cm4gdCYmbi5pbmRleE9mKHQpPDAmJnQuaW5kZXhPZihvKTwwJiYoZT10LnJlcGxhY2UoLyhbXjpdKikoOiopKC4qKS8sIiQxIitvKyIkMiQzIikpLGV9KS5qb2luKGUpfSkscn0saW5zZXJ0UG9seWZpbGxIb3N0SW5Dc3NUZXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoY29sb25Ib3N0Q29udGV4dFJlLGIpLnJlcGxhY2UoY29sb25Ib3N0UmUsZyl9LHByb3BlcnRpZXNGcm9tUnVsZTpmdW5jdGlvbihlKXt2YXIgdD1lLnN0eWxlLmNzc1RleHQ7ZS5zdHlsZS5jb250ZW50JiYhZS5zdHlsZS5jb250ZW50Lm1hdGNoKC9bJyJdK3xhdHRyLykmJih0PXQucmVwbGFjZSgvY29udGVudDpbXjtdKjsvZywiY29udGVudDogJyIrZS5zdHlsZS5jb250ZW50KyInOyIpKTt2YXIgbj1lLnN0eWxlO2Zvcih2YXIgciBpbiBuKSJpbml0aWFsIj09PW5bcl0mJih0Kz1yKyI6IGluaXRpYWw7ICIpO3JldHVybiB0fSxyZXBsYWNlVGV4dEluU3R5bGVzOmZ1bmN0aW9uKGUsdCl7ZSYmdCYmKGUgaW5zdGFuY2VvZiBBcnJheXx8KGU9W2VdKSxBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGUsZnVuY3Rpb24oZSl7ZS50ZXh0Q29udGVudD10LmNhbGwodGhpcyxlLnRleHRDb250ZW50KX0sdGhpcykpfSxhZGRDc3NUb0RvY3VtZW50OmZ1bmN0aW9uKGUsdCl7ZS5tYXRjaCgiQGltcG9ydCIpP2MoZSx0KTpzKGUpfX0sZD0vXC9cKlteKl0qXCorKFteLypdW14qXSpcKispKlwvL2dpbSxwPS9cL1wqXHMqQHBvbHlmaWxsIChbXipdKlwqKyhbXi8qXVteKl0qXCorKSpcLykoW157XSo/KXsvZ2ltLGg9L3BvbHlmaWxsLW5leHQtc2VsZWN0b3JbXn1dKmNvbnRlbnRcOltcc10qP1snIl0oLio/KVsnIl1bO1xzXSp9KFtee10qPyl7L2dpbSxmPS9cL1wqXHNAcG9seWZpbGwtcnVsZShbXipdKlwqKyhbXi8qXVteKl0qXCorKSopXC8vZ2ltLG09Lyhwb2x5ZmlsbC1ydWxlKVtefV0qKGNvbnRlbnRcOltcc10qWyciXSguKj8pWyciXSlbO1xzXSpbXn1dKn0vZ2ltLHY9L1wvXCpcc0Bwb2x5ZmlsbC11bnNjb3BlZC1ydWxlKFteKl0qXCorKFteLypdW14qXSpcKispKilcLy9naW0sdz0vKHBvbHlmaWxsLXVuc2NvcGVkLXJ1bGUpW159XSooY29udGVudFw6W1xzXSpbJyJdKC4qPylbJyJdKVs7XHNdKltefV0qfS9naW0sZz0iLXNoYWRvd2Nzc2hvc3QiLGI9Ii1zaGFkb3djc3Njb250ZXh0Iix5PSIpKD86XFwoKCg/OlxcKFteKShdKlxcKXxbXikoXSopKz8pXFwpKT8oW14se10qKSI7Y3NzQ29sb25Ib3N0UmU9bmV3IFJlZ0V4cCgiKCIrZyt5LCJnaW0iKSxjc3NDb2xvbkhvc3RDb250ZXh0UmU9bmV3IFJlZ0V4cCgiKCIrYit5LCJnaW0iKSxzZWxlY3RvclJlU3VmZml4PSIoWz5cXHN+K1suLHs6XVtcXHNcXFNdKik/JCIsY29sb25Ib3N0UmU9L1w6aG9zdC9naW0sY29sb25Ib3N0Q29udGV4dFJlPS9cOmhvc3QtY29udGV4dC9naW0scG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yPWcrIi1uby1jb21iaW5hdG9yIixwb2x5ZmlsbEhvc3RSZT1uZXcgUmVnRXhwKGcsImdpbSIpLHBvbHlmaWxsSG9zdENvbnRleHRSZT1uZXcgUmVnRXhwKGIsImdpbSIpLHNoYWRvd0RPTVNlbGVjdG9yc1JlPVsvXF5cXi9nLC9cXi9nLC9cL3NoYWRvd1wvL2csL1wvc2hhZG93LWRlZXBcLy9nLC86OnNoYWRvdy9nLC9cL2RlZXBcLy9nLC86OmNvbnRlbnQvZ107dmFyIF89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7Xy5zdHlsZS5kaXNwbGF5PSJub25lIjt2YXIgRSxTPW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goIkNocm9tZSIpLE89InNoaW0tc2hhZG93ZG9tIixUPSJzaGltLXNoYWRvd2RvbS1jc3MiLE09Im5vLXNoaW0iO2lmKHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCl7cygic3R5bGUgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH1cbiIpO3ZhciBDPXdyYXAoZG9jdW1lbnQpLEw9Qy5xdWVyeVNlbGVjdG9yKCJoZWFkIik7TC5pbnNlcnRCZWZvcmUobCgpLEwuY2hpbGROb2Rlc1swXSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXtpZihlLnVybFJlc29sdmVyLHdpbmRvdy5IVE1MSW1wb3J0cyYmIUhUTUxJbXBvcnRzLnVzZU5hdGl2ZSl7dmFyIHQ9ImxpbmtbcmVsPXN0eWxlc2hlZXRdWyIrTysiXSIsbj0ic3R5bGVbIitPKyJdIjtIVE1MSW1wb3J0cy5pbXBvcnRlci5kb2N1bWVudFByZWxvYWRTZWxlY3RvcnMrPSIsIit0LEhUTUxJbXBvcnRzLmltcG9ydGVyLmltcG9ydHNQcmVsb2FkU2VsZWN0b3JzKz0iLCIrdCxIVE1MSW1wb3J0cy5wYXJzZXIuZG9jdW1lbnRTZWxlY3RvcnM9W0hUTUxJbXBvcnRzLnBhcnNlci5kb2N1bWVudFNlbGVjdG9ycyx0LG5dLmpvaW4oIiwiKTt2YXIgcj1IVE1MSW1wb3J0cy5wYXJzZXIucGFyc2VHZW5lcmljO0hUTUxJbXBvcnRzLnBhcnNlci5wYXJzZUdlbmVyaWM9ZnVuY3Rpb24oZSl7aWYoIWVbVF0pe3ZhciB0PWUuX19pbXBvcnRFbGVtZW50fHxlO2lmKCF0Lmhhc0F0dHJpYnV0ZShPKSlyZXR1cm4gdm9pZCByLmNhbGwodGhpcyxlKTtlLl9fcmVzb3VyY2UmJih0PWUub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLHQudGV4dENvbnRlbnQ9ZS5fX3Jlc291cmNlKSxIVE1MSW1wb3J0cy5wYXRoLnJlc29sdmVVcmxzSW5TdHlsZSh0KSx0LnRleHRDb250ZW50PXUuc2hpbVN0eWxlKHQpLHQucmVtb3ZlQXR0cmlidXRlKE8sIiIpLHQuc2V0QXR0cmlidXRlKFQsIiIpLHRbVF09ITAsdC5wYXJlbnROb2RlIT09TCYmKGUucGFyZW50Tm9kZT09PUw/TC5yZXBsYWNlQ2hpbGQodCxlKTp0aGlzLmFkZEVsZW1lbnRUb0RvY3VtZW50KHQpKSx0Ll9faW1wb3J0UGFyc2VkPSEwLHRoaXMubWFya1BhcnNpbmdDb21wbGV0ZShlKSx0aGlzLnBhcnNlTmV4dCgpfX07dmFyIG89SFRNTEltcG9ydHMucGFyc2VyLmhhc1Jlc291cmNlO0hUTUxJbXBvcnRzLnBhcnNlci5oYXNSZXNvdXJjZT1mdW5jdGlvbihlKXtyZXR1cm4ibGluayI9PT1lLmxvY2FsTmFtZSYmInN0eWxlc2hlZXQiPT09ZS5yZWwmJmUuaGFzQXR0cmlidXRlKE8pP2UuX19yZXNvdXJjZTpvLmNhbGwodGhpcyxlKX19fSl9ZS5TaGFkb3dDU1M9dX0od2luZG93LlBsYXRmb3JtKSk6IWZ1bmN0aW9uKCl7d2luZG93LndyYXA9d2luZG93LnVud3JhcD1mdW5jdGlvbihlKXtyZXR1cm4gZX0sYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXtpZihDdXN0b21FbGVtZW50cy51c2VOYXRpdmU9PT0hMSl7dmFyIGU9RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdDtFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290PWZ1bmN0aW9uKCl7dmFyIHQ9ZS5jYWxsKHRoaXMpO3JldHVybiBDdXN0b21FbGVtZW50cy53YXRjaFNoYWRvdyh0aGlzKSx0fX19KX0od2luZG93LlBsYXRmb3JtKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtyZXR1cm4gdm9pZCAwIT09cFtlXX1mdW5jdGlvbiBuKCl7cy5jYWxsKHRoaXMpLHRoaXMuX2lzSW52YWxpZD0hMH1mdW5jdGlvbiByKGUpe3JldHVybiIiPT1lJiZuLmNhbGwodGhpcyksZS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIG8oZSl7dmFyIHQ9ZS5jaGFyQ29kZUF0KDApO3JldHVybiB0PjMyJiYxMjc+dCYmLTE9PVszNCwzNSw2MCw2Miw2Myw5Nl0uaW5kZXhPZih0KT9lOmVuY29kZVVSSUNvbXBvbmVudChlKX1mdW5jdGlvbiBpKGUpe3ZhciB0PWUuY2hhckNvZGVBdCgwKTtyZXR1cm4gdD4zMiYmMTI3PnQmJi0xPT1bMzQsMzUsNjAsNjIsOTZdLmluZGV4T2YodCk/ZTplbmNvZGVVUklDb21wb25lbnQoZSl9ZnVuY3Rpb24gYShlLGEscyl7ZnVuY3Rpb24gYyhlKXtiLnB1c2goZSl9dmFyIGw9YXx8InNjaGVtZSBzdGFydCIsdT0wLGQ9IiIsdz0hMSxnPSExLGI9W107ZTpmb3IoOyhlW3UtMV0hPWZ8fDA9PXUpJiYhdGhpcy5faXNJbnZhbGlkOyl7dmFyIHk9ZVt1XTtzd2l0Y2gobCl7Y2FzZSJzY2hlbWUgc3RhcnQiOmlmKCF5fHwhbS50ZXN0KHkpKXtpZihhKXtjKCJJbnZhbGlkIHNjaGVtZS4iKTticmVhayBlfWQ9IiIsbD0ibm8gc2NoZW1lIjtjb250aW51ZX1kKz15LnRvTG93ZXJDYXNlKCksbD0ic2NoZW1lIjticmVhaztjYXNlInNjaGVtZSI6aWYoeSYmdi50ZXN0KHkpKWQrPXkudG9Mb3dlckNhc2UoKTtlbHNle2lmKCI6IiE9eSl7aWYoYSl7aWYoZj09eSlicmVhayBlO2MoIkNvZGUgcG9pbnQgbm90IGFsbG93ZWQgaW4gc2NoZW1lOiAiK3kpO2JyZWFrIGV9ZD0iIix1PTAsbD0ibm8gc2NoZW1lIjtjb250aW51ZX1pZih0aGlzLl9zY2hlbWU9ZCxkPSIiLGEpYnJlYWsgZTt0KHRoaXMuX3NjaGVtZSkmJih0aGlzLl9pc1JlbGF0aXZlPSEwKSxsPSJmaWxlIj09dGhpcy5fc2NoZW1lPyJyZWxhdGl2ZSI6dGhpcy5faXNSZWxhdGl2ZSYmcyYmcy5fc2NoZW1lPT10aGlzLl9zY2hlbWU/InJlbGF0aXZlIG9yIGF1dGhvcml0eSI6dGhpcy5faXNSZWxhdGl2ZT8iYXV0aG9yaXR5IGZpcnN0IHNsYXNoIjoic2NoZW1lIGRhdGEifWJyZWFrO2Nhc2Uic2NoZW1lIGRhdGEiOiI/Ij09eT8ocXVlcnk9Ij8iLGw9InF1ZXJ5Iik6IiMiPT15Pyh0aGlzLl9mcmFnbWVudD0iIyIsbD0iZnJhZ21lbnQiKTpmIT15JiYiCSIhPXkmJiJcbiIhPXkmJiJcciIhPXkmJih0aGlzLl9zY2hlbWVEYXRhKz1vKHkpKTticmVhaztjYXNlIm5vIHNjaGVtZSI6aWYocyYmdChzLl9zY2hlbWUpKXtsPSJyZWxhdGl2ZSI7Y29udGludWV9YygiTWlzc2luZyBzY2hlbWUuIiksbi5jYWxsKHRoaXMpO2JyZWFrO2Nhc2UicmVsYXRpdmUgb3IgYXV0aG9yaXR5IjppZigiLyIhPXl8fCIvIiE9ZVt1KzFdKXtjKCJFeHBlY3RlZCAvLCBnb3Q6ICIreSksbD0icmVsYXRpdmUiO2NvbnRpbnVlfWw9ImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyI7YnJlYWs7Y2FzZSJyZWxhdGl2ZSI6aWYodGhpcy5faXNSZWxhdGl2ZT0hMCwiZmlsZSIhPXRoaXMuX3NjaGVtZSYmKHRoaXMuX3NjaGVtZT1zLl9zY2hlbWUpLGY9PXkpe3RoaXMuX2hvc3Q9cy5faG9zdCx0aGlzLl9wb3J0PXMuX3BvcnQsdGhpcy5fcGF0aD1zLl9wYXRoLnNsaWNlKCksdGhpcy5fcXVlcnk9cy5fcXVlcnk7YnJlYWsgZX1pZigiLyI9PXl8fCJcXCI9PXkpIlxcIj09eSYmYygiXFwgaXMgYW4gaW52YWxpZCBjb2RlIHBvaW50LiIpLGw9InJlbGF0aXZlIHNsYXNoIjtlbHNlIGlmKCI/Ij09eSl0aGlzLl9ob3N0PXMuX2hvc3QsdGhpcy5fcG9ydD1zLl9wb3J0LHRoaXMuX3BhdGg9cy5fcGF0aC5zbGljZSgpLHRoaXMuX3F1ZXJ5PSI/IixsPSJxdWVyeSI7CmVsc2V7aWYoIiMiIT15KXt2YXIgXz1lW3UrMV0sRT1lW3UrMl07KCJmaWxlIiE9dGhpcy5fc2NoZW1lfHwhbS50ZXN0KHkpfHwiOiIhPV8mJiJ8IiE9X3x8ZiE9RSYmIi8iIT1FJiYiXFwiIT1FJiYiPyIhPUUmJiIjIiE9RSkmJih0aGlzLl9ob3N0PXMuX2hvc3QsdGhpcy5fcG9ydD1zLl9wb3J0LHRoaXMuX3BhdGg9cy5fcGF0aC5zbGljZSgpLHRoaXMuX3BhdGgucG9wKCkpLGw9InJlbGF0aXZlIHBhdGgiO2NvbnRpbnVlfXRoaXMuX2hvc3Q9cy5faG9zdCx0aGlzLl9wb3J0PXMuX3BvcnQsdGhpcy5fcGF0aD1zLl9wYXRoLnNsaWNlKCksdGhpcy5fcXVlcnk9cy5fcXVlcnksdGhpcy5fZnJhZ21lbnQ9IiMiLGw9ImZyYWdtZW50In1icmVhaztjYXNlInJlbGF0aXZlIHNsYXNoIjppZigiLyIhPXkmJiJcXCIhPXkpeyJmaWxlIiE9dGhpcy5fc2NoZW1lJiYodGhpcy5faG9zdD1zLl9ob3N0LHRoaXMuX3BvcnQ9cy5fcG9ydCksbD0icmVsYXRpdmUgcGF0aCI7Y29udGludWV9IlxcIj09eSYmYygiXFwgaXMgYW4gaW52YWxpZCBjb2RlIHBvaW50LiIpLGw9ImZpbGUiPT10aGlzLl9zY2hlbWU/ImZpbGUgaG9zdCI6ImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyI7YnJlYWs7Y2FzZSJhdXRob3JpdHkgZmlyc3Qgc2xhc2giOmlmKCIvIiE9eSl7YygiRXhwZWN0ZWQgJy8nLCBnb3Q6ICIreSksbD0iYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIjtjb250aW51ZX1sPSJhdXRob3JpdHkgc2Vjb25kIHNsYXNoIjticmVhaztjYXNlImF1dGhvcml0eSBzZWNvbmQgc2xhc2giOmlmKGw9ImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyIsIi8iIT15KXtjKCJFeHBlY3RlZCAnLycsIGdvdDogIit5KTtjb250aW51ZX1icmVhaztjYXNlImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyI6aWYoIi8iIT15JiYiXFwiIT15KXtsPSJhdXRob3JpdHkiO2NvbnRpbnVlfWMoIkV4cGVjdGVkIGF1dGhvcml0eSwgZ290OiAiK3kpO2JyZWFrO2Nhc2UiYXV0aG9yaXR5IjppZigiQCI9PXkpe3cmJihjKCJAIGFscmVhZHkgc2Vlbi4iKSxkKz0iJTQwIiksdz0hMDtmb3IodmFyIFM9MDtTPGQubGVuZ3RoO1MrKyl7dmFyIE89ZFtTXTtpZigiCSIhPU8mJiJcbiIhPU8mJiJcciIhPU8paWYoIjoiIT1PfHxudWxsIT09dGhpcy5fcGFzc3dvcmQpe3ZhciBUPW8oTyk7bnVsbCE9PXRoaXMuX3Bhc3N3b3JkP3RoaXMuX3Bhc3N3b3JkKz1UOnRoaXMuX3VzZXJuYW1lKz1UfWVsc2UgdGhpcy5fcGFzc3dvcmQ9IiI7ZWxzZSBjKCJJbnZhbGlkIHdoaXRlc3BhY2UgaW4gYXV0aG9yaXR5LiIpfWQ9IiJ9ZWxzZXtpZihmPT15fHwiLyI9PXl8fCJcXCI9PXl8fCI/Ij09eXx8IiMiPT15KXt1LT1kLmxlbmd0aCxkPSIiLGw9Imhvc3QiO2NvbnRpbnVlfWQrPXl9YnJlYWs7Y2FzZSJmaWxlIGhvc3QiOmlmKGY9PXl8fCIvIj09eXx8IlxcIj09eXx8Ij8iPT15fHwiIyI9PXkpezIhPWQubGVuZ3RofHwhbS50ZXN0KGRbMF0pfHwiOiIhPWRbMV0mJiJ8IiE9ZFsxXT8wPT1kLmxlbmd0aD9sPSJyZWxhdGl2ZSBwYXRoIHN0YXJ0IjoodGhpcy5faG9zdD1yLmNhbGwodGhpcyxkKSxkPSIiLGw9InJlbGF0aXZlIHBhdGggc3RhcnQiKTpsPSJyZWxhdGl2ZSBwYXRoIjtjb250aW51ZX0iCSI9PXl8fCJcbiI9PXl8fCJcciI9PXk/YygiSW52YWxpZCB3aGl0ZXNwYWNlIGluIGZpbGUgaG9zdC4iKTpkKz15O2JyZWFrO2Nhc2UiaG9zdCI6Y2FzZSJob3N0bmFtZSI6aWYoIjoiIT15fHxnKXtpZihmPT15fHwiLyI9PXl8fCJcXCI9PXl8fCI/Ij09eXx8IiMiPT15KXtpZih0aGlzLl9ob3N0PXIuY2FsbCh0aGlzLGQpLGQ9IiIsbD0icmVsYXRpdmUgcGF0aCBzdGFydCIsYSlicmVhayBlO2NvbnRpbnVlfSIJIiE9eSYmIlxuIiE9eSYmIlxyIiE9eT8oIlsiPT15P2c9ITA6Il0iPT15JiYoZz0hMSksZCs9eSk6YygiSW52YWxpZCBjb2RlIHBvaW50IGluIGhvc3QvaG9zdG5hbWU6ICIreSl9ZWxzZSBpZih0aGlzLl9ob3N0PXIuY2FsbCh0aGlzLGQpLGQ9IiIsbD0icG9ydCIsImhvc3RuYW1lIj09YSlicmVhayBlO2JyZWFrO2Nhc2UicG9ydCI6aWYoL1swLTldLy50ZXN0KHkpKWQrPXk7ZWxzZXtpZihmPT15fHwiLyI9PXl8fCJcXCI9PXl8fCI/Ij09eXx8IiMiPT15fHxhKXtpZigiIiE9ZCl7dmFyIE09cGFyc2VJbnQoZCwxMCk7TSE9cFt0aGlzLl9zY2hlbWVdJiYodGhpcy5fcG9ydD1NKyIiKSxkPSIifWlmKGEpYnJlYWsgZTtsPSJyZWxhdGl2ZSBwYXRoIHN0YXJ0Ijtjb250aW51ZX0iCSI9PXl8fCJcbiI9PXl8fCJcciI9PXk/YygiSW52YWxpZCBjb2RlIHBvaW50IGluIHBvcnQ6ICIreSk6bi5jYWxsKHRoaXMpfWJyZWFrO2Nhc2UicmVsYXRpdmUgcGF0aCBzdGFydCI6aWYoIlxcIj09eSYmYygiJ1xcJyBub3QgYWxsb3dlZCBpbiBwYXRoLiIpLGw9InJlbGF0aXZlIHBhdGgiLCIvIiE9eSYmIlxcIiE9eSljb250aW51ZTticmVhaztjYXNlInJlbGF0aXZlIHBhdGgiOmlmKGYhPXkmJiIvIiE9eSYmIlxcIiE9eSYmKGF8fCI/IiE9eSYmIiMiIT15KSkiCSIhPXkmJiJcbiIhPXkmJiJcciIhPXkmJihkKz1vKHkpKTtlbHNleyJcXCI9PXkmJmMoIlxcIG5vdCBhbGxvd2VkIGluIHJlbGF0aXZlIHBhdGguIik7dmFyIEM7KEM9aFtkLnRvTG93ZXJDYXNlKCldKSYmKGQ9QyksIi4uIj09ZD8odGhpcy5fcGF0aC5wb3AoKSwiLyIhPXkmJiJcXCIhPXkmJnRoaXMuX3BhdGgucHVzaCgiIikpOiIuIj09ZCYmIi8iIT15JiYiXFwiIT15P3RoaXMuX3BhdGgucHVzaCgiIik6Ii4iIT1kJiYoImZpbGUiPT10aGlzLl9zY2hlbWUmJjA9PXRoaXMuX3BhdGgubGVuZ3RoJiYyPT1kLmxlbmd0aCYmbS50ZXN0KGRbMF0pJiYifCI9PWRbMV0mJihkPWRbMF0rIjoiKSx0aGlzLl9wYXRoLnB1c2goZCkpLGQ9IiIsIj8iPT15Pyh0aGlzLl9xdWVyeT0iPyIsbD0icXVlcnkiKToiIyI9PXkmJih0aGlzLl9mcmFnbWVudD0iIyIsbD0iZnJhZ21lbnQiKX1icmVhaztjYXNlInF1ZXJ5IjphfHwiIyIhPXk/ZiE9eSYmIgkiIT15JiYiXG4iIT15JiYiXHIiIT15JiYodGhpcy5fcXVlcnkrPWkoeSkpOih0aGlzLl9mcmFnbWVudD0iIyIsbD0iZnJhZ21lbnQiKTticmVhaztjYXNlImZyYWdtZW50IjpmIT15JiYiCSIhPXkmJiJcbiIhPXkmJiJcciIhPXkmJih0aGlzLl9mcmFnbWVudCs9eSl9dSsrfX1mdW5jdGlvbiBzKCl7dGhpcy5fc2NoZW1lPSIiLHRoaXMuX3NjaGVtZURhdGE9IiIsdGhpcy5fdXNlcm5hbWU9IiIsdGhpcy5fcGFzc3dvcmQ9bnVsbCx0aGlzLl9ob3N0PSIiLHRoaXMuX3BvcnQ9IiIsdGhpcy5fcGF0aD1bXSx0aGlzLl9xdWVyeT0iIix0aGlzLl9mcmFnbWVudD0iIix0aGlzLl9pc0ludmFsaWQ9ITEsdGhpcy5faXNSZWxhdGl2ZT0hMX1mdW5jdGlvbiBjKGUsdCl7dm9pZCAwPT09dHx8dCBpbnN0YW5jZW9mIGN8fCh0PW5ldyBjKFN0cmluZyh0KSkpLHRoaXMuX3VybD1lLHMuY2FsbCh0aGlzKTt2YXIgbj1lLnJlcGxhY2UoL15bIFx0XHJcblxmXSt8WyBcdFxyXG5cZl0rJC9nLCIiKTthLmNhbGwodGhpcyxuLG51bGwsdCl9dmFyIGw9ITE7aWYoIWUuZm9yY2VKVVJMKXRyeXt2YXIgdT1uZXcgVVJMKCJiIiwiaHR0cDovL2EiKTtsPSJodHRwOi8vYS9iIj09PXUuaHJlZn1jYXRjaChkKXt9aWYoIWwpe3ZhciBwPU9iamVjdC5jcmVhdGUobnVsbCk7cC5mdHA9MjEscC5maWxlPTAscC5nb3BoZXI9NzAscC5odHRwPTgwLHAuaHR0cHM9NDQzLHAud3M9ODAscC53c3M9NDQzO3ZhciBoPU9iamVjdC5jcmVhdGUobnVsbCk7aFsiJTJlIl09Ii4iLGhbIi4lMmUiXT0iLi4iLGhbIiUyZS4iXT0iLi4iLGhbIiUyZSUyZSJdPSIuLiI7dmFyIGY9dm9pZCAwLG09L1thLXpBLVpdLyx2PS9bYS16QS1aMC05XCtcLVwuXS87Yy5wcm90b3R5cGU9e2dldCBocmVmKCl7aWYodGhpcy5faXNJbnZhbGlkKXJldHVybiB0aGlzLl91cmw7dmFyIGU9IiI7cmV0dXJuKCIiIT10aGlzLl91c2VybmFtZXx8bnVsbCE9dGhpcy5fcGFzc3dvcmQpJiYoZT10aGlzLl91c2VybmFtZSsobnVsbCE9dGhpcy5fcGFzc3dvcmQ/IjoiK3RoaXMuX3Bhc3N3b3JkOiIiKSsiQCIpLHRoaXMucHJvdG9jb2wrKHRoaXMuX2lzUmVsYXRpdmU/Ii8vIitlK3RoaXMuaG9zdDoiIikrdGhpcy5wYXRobmFtZSt0aGlzLl9xdWVyeSt0aGlzLl9mcmFnbWVudH0sc2V0IGhyZWYoZSl7cy5jYWxsKHRoaXMpLGEuY2FsbCh0aGlzLGUpfSxnZXQgcHJvdG9jb2woKXtyZXR1cm4gdGhpcy5fc2NoZW1lKyI6In0sc2V0IHByb3RvY29sKGUpe3RoaXMuX2lzSW52YWxpZHx8YS5jYWxsKHRoaXMsZSsiOiIsInNjaGVtZSBzdGFydCIpfSxnZXQgaG9zdCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWQ/IiI6dGhpcy5fcG9ydD90aGlzLl9ob3N0KyI6Iit0aGlzLl9wb3J0OnRoaXMuX2hvc3R9LHNldCBob3N0KGUpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJmEuY2FsbCh0aGlzLGUsImhvc3QiKX0sZ2V0IGhvc3RuYW1lKCl7cmV0dXJuIHRoaXMuX2hvc3R9LHNldCBob3N0bmFtZShlKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiZhLmNhbGwodGhpcyxlLCJob3N0bmFtZSIpfSxnZXQgcG9ydCgpe3JldHVybiB0aGlzLl9wb3J0fSxzZXQgcG9ydChlKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiZhLmNhbGwodGhpcyxlLCJwb3J0Iil9LGdldCBwYXRobmFtZSgpe3JldHVybiB0aGlzLl9pc0ludmFsaWQ/IiI6dGhpcy5faXNSZWxhdGl2ZT8iLyIrdGhpcy5fcGF0aC5qb2luKCIvIik6dGhpcy5fc2NoZW1lRGF0YX0sc2V0IHBhdGhuYW1lKGUpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJih0aGlzLl9wYXRoPVtdLGEuY2FsbCh0aGlzLGUsInJlbGF0aXZlIHBhdGggc3RhcnQiKSl9LGdldCBzZWFyY2goKXtyZXR1cm4gdGhpcy5faXNJbnZhbGlkfHwhdGhpcy5fcXVlcnl8fCI/Ij09dGhpcy5fcXVlcnk/IiI6dGhpcy5fcXVlcnl9LHNldCBzZWFyY2goZSl7IXRoaXMuX2lzSW52YWxpZCYmdGhpcy5faXNSZWxhdGl2ZSYmKHRoaXMuX3F1ZXJ5PSI/IiwiPyI9PWVbMF0mJihlPWUuc2xpY2UoMSkpLGEuY2FsbCh0aGlzLGUsInF1ZXJ5IikpfSxnZXQgaGFzaCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWR8fCF0aGlzLl9mcmFnbWVudHx8IiMiPT10aGlzLl9mcmFnbWVudD8iIjp0aGlzLl9mcmFnbWVudH0sc2V0IGhhc2goZSl7dGhpcy5faXNJbnZhbGlkfHwodGhpcy5fZnJhZ21lbnQ9IiMiLCIjIj09ZVswXSYmKGU9ZS5zbGljZSgxKSksYS5jYWxsKHRoaXMsZSwiZnJhZ21lbnQiKSl9LGdldCBvcmlnaW4oKXt2YXIgZTtpZih0aGlzLl9pc0ludmFsaWR8fCF0aGlzLl9zY2hlbWUpcmV0dXJuIiI7c3dpdGNoKHRoaXMuX3NjaGVtZSl7Y2FzZSJkYXRhIjpjYXNlImZpbGUiOmNhc2UiamF2YXNjcmlwdCI6Y2FzZSJtYWlsdG8iOnJldHVybiJudWxsIn1yZXR1cm4gZT10aGlzLmhvc3QsZT90aGlzLl9zY2hlbWUrIjovLyIrZToiIn19O3ZhciB3PWUuVVJMO3cmJihjLmNyZWF0ZU9iamVjdFVSTD1mdW5jdGlvbigpe3JldHVybiB3LmNyZWF0ZU9iamVjdFVSTC5hcHBseSh3LGFyZ3VtZW50cyl9LGMucmV2b2tlT2JqZWN0VVJMPWZ1bmN0aW9uKGUpe3cucmV2b2tlT2JqZWN0VVJMKGUpfSksZS5VUkw9Y319KHRoaXMpLGZ1bmN0aW9uKCl7RnVuY3Rpb24ucHJvdG90eXBlLmJpbmR8fChGdW5jdGlvbi5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBmdW5jdGlvbigpe3ZhciByPW4uc2xpY2UoKTtyZXR1cm4gci5wdXNoLmFwcGx5KHIsYXJndW1lbnRzKSx0LmFwcGx5KGUscil9fSl9KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt5LnB1c2goZSksYnx8KGI9ITAsdihyKSl9ZnVuY3Rpb24gbihlKXtyZXR1cm4gd2luZG93LlNoYWRvd0RPTVBvbHlmaWxsJiZ3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKGUpfHxlfWZ1bmN0aW9uIHIoKXtiPSExO3ZhciBlPXk7eT1bXSxlLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS51aWRfLXQudWlkX30pO3ZhciB0PSExO2UuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj1lLnRha2VSZWNvcmRzKCk7byhlKSxuLmxlbmd0aCYmKGUuY2FsbGJhY2tfKG4sZSksdD0hMCl9KSx0JiZyKCl9ZnVuY3Rpb24gbyhlKXtlLm5vZGVzXy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPW0uZ2V0KHQpO24mJm4uZm9yRWFjaChmdW5jdGlvbih0KXt0Lm9ic2VydmVyPT09ZSYmdC5yZW1vdmVUcmFuc2llbnRPYnNlcnZlcnMoKX0pfSl9ZnVuY3Rpb24gaShlLHQpe2Zvcih2YXIgbj1lO247bj1uLnBhcmVudE5vZGUpe3ZhciByPW0uZ2V0KG4pO2lmKHIpZm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspe3ZhciBpPXJbb10sYT1pLm9wdGlvbnM7aWYobj09PWV8fGEuc3VidHJlZSl7dmFyIHM9dChhKTtzJiZpLmVucXVldWUocyl9fX19ZnVuY3Rpb24gYShlKXt0aGlzLmNhbGxiYWNrXz1lLHRoaXMubm9kZXNfPVtdLHRoaXMucmVjb3Jkc189W10sdGhpcy51aWRfPSsrX31mdW5jdGlvbiBzKGUsdCl7dGhpcy50eXBlPWUsdGhpcy50YXJnZXQ9dCx0aGlzLmFkZGVkTm9kZXM9W10sdGhpcy5yZW1vdmVkTm9kZXM9W10sdGhpcy5wcmV2aW91c1NpYmxpbmc9bnVsbCx0aGlzLm5leHRTaWJsaW5nPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lc3BhY2U9bnVsbCx0aGlzLm9sZFZhbHVlPW51bGx9ZnVuY3Rpb24gYyhlKXt2YXIgdD1uZXcgcyhlLnR5cGUsZS50YXJnZXQpO3JldHVybiB0LmFkZGVkTm9kZXM9ZS5hZGRlZE5vZGVzLnNsaWNlKCksdC5yZW1vdmVkTm9kZXM9ZS5yZW1vdmVkTm9kZXMuc2xpY2UoKSx0LnByZXZpb3VzU2libGluZz1lLnByZXZpb3VzU2libGluZyx0Lm5leHRTaWJsaW5nPWUubmV4dFNpYmxpbmcsdC5hdHRyaWJ1dGVOYW1lPWUuYXR0cmlidXRlTmFtZSx0LmF0dHJpYnV0ZU5hbWVzcGFjZT1lLmF0dHJpYnV0ZU5hbWVzcGFjZSx0Lm9sZFZhbHVlPWUub2xkVmFsdWUsdH1mdW5jdGlvbiBsKGUsdCl7cmV0dXJuIEU9bmV3IHMoZSx0KX1mdW5jdGlvbiB1KGUpe3JldHVybiBTP1M6KFM9YyhFKSxTLm9sZFZhbHVlPWUsUyl9ZnVuY3Rpb24gZCgpe0U9Uz12b2lkIDB9ZnVuY3Rpb24gcChlKXtyZXR1cm4gZT09PVN8fGU9PT1FfWZ1bmN0aW9uIGgoZSx0KXtyZXR1cm4gZT09PXQ/ZTpTJiZwKGUpP1M6bnVsbH1mdW5jdGlvbiBmKGUsdCxuKXt0aGlzLm9ic2VydmVyPWUsdGhpcy50YXJnZXQ9dCx0aGlzLm9wdGlvbnM9bix0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W119dmFyIG09bmV3IFdlYWtNYXAsdj13aW5kb3cubXNTZXRJbW1lZGlhdGU7aWYoIXYpe3ZhciB3PVtdLGc9U3RyaW5nKE1hdGgucmFuZG9tKCkpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixmdW5jdGlvbihlKXtpZihlLmRhdGE9PT1nKXt2YXIgdD13O3c9W10sdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UoKX0pfX0pLHY9ZnVuY3Rpb24oZSl7dy5wdXNoKGUpLHdpbmRvdy5wb3N0TWVzc2FnZShnLCIqIil9fXZhciBiPSExLHk9W10sXz0wO2EucHJvdG90eXBlPXtvYnNlcnZlOmZ1bmN0aW9uKGUsdCl7aWYoZT1uKGUpLCF0LmNoaWxkTGlzdCYmIXQuYXR0cmlidXRlcyYmIXQuY2hhcmFjdGVyRGF0YXx8dC5hdHRyaWJ1dGVPbGRWYWx1ZSYmIXQuYXR0cmlidXRlc3x8dC5hdHRyaWJ1dGVGaWx0ZXImJnQuYXR0cmlidXRlRmlsdGVyLmxlbmd0aCYmIXQuYXR0cmlidXRlc3x8dC5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUmJiF0LmNoYXJhY3RlckRhdGEpdGhyb3cgbmV3IFN5bnRheEVycm9yO3ZhciByPW0uZ2V0KGUpO3J8fG0uc2V0KGUscj1bXSk7Zm9yKHZhciBvLGk9MDtpPHIubGVuZ3RoO2krKylpZihyW2ldLm9ic2VydmVyPT09dGhpcyl7bz1yW2ldLG8ucmVtb3ZlTGlzdGVuZXJzKCksby5vcHRpb25zPXQ7YnJlYWt9b3x8KG89bmV3IGYodGhpcyxlLHQpLHIucHVzaChvKSx0aGlzLm5vZGVzXy5wdXNoKGUpKSxvLmFkZExpc3RlbmVycygpfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy5ub2Rlc18uZm9yRWFjaChmdW5jdGlvbihlKXtmb3IodmFyIHQ9bS5nZXQoZSksbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO2lmKHIub2JzZXJ2ZXI9PT10aGlzKXtyLnJlbW92ZUxpc3RlbmVycygpLHQuc3BsaWNlKG4sMSk7YnJlYWt9fX0sdGhpcyksdGhpcy5yZWNvcmRzXz1bXX0sdGFrZVJlY29yZHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlY29yZHNfO3JldHVybiB0aGlzLnJlY29yZHNfPVtdLGV9fTt2YXIgRSxTO2YucHJvdG90eXBlPXtlbnF1ZXVlOmZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMub2JzZXJ2ZXIucmVjb3Jkc18scj1uLmxlbmd0aDtpZihuLmxlbmd0aD4wKXt2YXIgbz1uW3ItMV0saT1oKG8sZSk7aWYoaSlyZXR1cm4gdm9pZChuW3ItMV09aSl9ZWxzZSB0KHRoaXMub2JzZXJ2ZXIpO25bcl09ZX0sYWRkTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dGhpcy5hZGRMaXN0ZW5lcnNfKHRoaXMudGFyZ2V0KX0sYWRkTGlzdGVuZXJzXzpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm9wdGlvbnM7dC5hdHRyaWJ1dGVzJiZlLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUF0dHJNb2RpZmllZCIsdGhpcywhMCksdC5jaGFyYWN0ZXJEYXRhJiZlLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCIsdGhpcywhMCksdC5jaGlsZExpc3QmJmUuYWRkRXZlbnRMaXN0ZW5lcigiRE9NTm9kZUluc2VydGVkIix0aGlzLCEwKSwodC5jaGlsZExpc3R8fHQuc3VidHJlZSkmJmUuYWRkRXZlbnRMaXN0ZW5lcigiRE9NTm9kZVJlbW92ZWQiLHRoaXMsITApfSxyZW1vdmVMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUxpc3RlbmVyc18odGhpcy50YXJnZXQpfSxyZW1vdmVMaXN0ZW5lcnNfOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMub3B0aW9uczt0LmF0dHJpYnV0ZXMmJmUucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQXR0ck1vZGlmaWVkIix0aGlzLCEwKSx0LmNoYXJhY3RlckRhdGEmJmUucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIix0aGlzLCEwKSx0LmNoaWxkTGlzdCYmZS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Ob2RlSW5zZXJ0ZWQiLHRoaXMsITApLCh0LmNoaWxkTGlzdHx8dC5zdWJ0cmVlKSYmZS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Ob2RlUmVtb3ZlZCIsdGhpcywhMCl9LGFkZFRyYW5zaWVudE9ic2VydmVyOmZ1bmN0aW9uKGUpe2lmKGUhPT10aGlzLnRhcmdldCl7dGhpcy5hZGRMaXN0ZW5lcnNfKGUpLHRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcy5wdXNoKGUpO3ZhciB0PW0uZ2V0KGUpO3R8fG0uc2V0KGUsdD1bXSksdC5wdXNoKHRoaXMpfX0scmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzO3RoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXSxlLmZvckVhY2goZnVuY3Rpb24oZSl7dGhpcy5yZW1vdmVMaXN0ZW5lcnNfKGUpO2Zvcih2YXIgdD1tLmdldChlKSxuPTA7bjx0Lmxlbmd0aDtuKyspaWYodFtuXT09PXRoaXMpe3Quc3BsaWNlKG4sMSk7YnJlYWt9fSx0aGlzKX0saGFuZGxlRXZlbnQ6ZnVuY3Rpb24oZSl7c3dpdGNoKGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksZS50eXBlKXtjYXNlIkRPTUF0dHJNb2RpZmllZCI6dmFyIHQ9ZS5hdHRyTmFtZSxuPWUucmVsYXRlZE5vZGUubmFtZXNwYWNlVVJJLHI9ZS50YXJnZXQsbz1uZXcgbCgiYXR0cmlidXRlcyIscik7by5hdHRyaWJ1dGVOYW1lPXQsby5hdHRyaWJ1dGVOYW1lc3BhY2U9bjt2YXIgYT1lLmF0dHJDaGFuZ2U9PT1NdXRhdGlvbkV2ZW50LkFERElUSU9OP251bGw6ZS5wcmV2VmFsdWU7aShyLGZ1bmN0aW9uKGUpe3JldHVybiFlLmF0dHJpYnV0ZXN8fGUuYXR0cmlidXRlRmlsdGVyJiZlLmF0dHJpYnV0ZUZpbHRlci5sZW5ndGgmJi0xPT09ZS5hdHRyaWJ1dGVGaWx0ZXIuaW5kZXhPZih0KSYmLTE9PT1lLmF0dHJpYnV0ZUZpbHRlci5pbmRleE9mKG4pP3ZvaWQgMDplLmF0dHJpYnV0ZU9sZFZhbHVlP3UoYSk6b30pO2JyZWFrO2Nhc2UiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIjp2YXIgcj1lLnRhcmdldCxvPWwoImNoYXJhY3RlckRhdGEiLHIpLGE9ZS5wcmV2VmFsdWU7aShyLGZ1bmN0aW9uKGUpe3JldHVybiBlLmNoYXJhY3RlckRhdGE/ZS5jaGFyYWN0ZXJEYXRhT2xkVmFsdWU/dShhKTpvOnZvaWQgMH0pO2JyZWFrO2Nhc2UiRE9NTm9kZVJlbW92ZWQiOnRoaXMuYWRkVHJhbnNpZW50T2JzZXJ2ZXIoZS50YXJnZXQpO2Nhc2UiRE9NTm9kZUluc2VydGVkIjp2YXIgcyxjLHI9ZS5yZWxhdGVkTm9kZSxwPWUudGFyZ2V0OyJET01Ob2RlSW5zZXJ0ZWQiPT09ZS50eXBlPyhzPVtwXSxjPVtdKToocz1bXSxjPVtwXSk7dmFyIGg9cC5wcmV2aW91c1NpYmxpbmcsZj1wLm5leHRTaWJsaW5nLG89bCgiY2hpbGRMaXN0IixyKTtvLmFkZGVkTm9kZXM9cyxvLnJlbW92ZWROb2Rlcz1jLG8ucHJldmlvdXNTaWJsaW5nPWgsby5uZXh0U2libGluZz1mLGkocixmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGlsZExpc3Q/bzp2b2lkIDB9KX1kKCl9fSxlLkpzTXV0YXRpb25PYnNlcnZlcj1hLGUuTXV0YXRpb25PYnNlcnZlcnx8KGUuTXV0YXRpb25PYnNlcnZlcj1hKX0odGhpcyksd2luZG93LkhUTUxJbXBvcnRzPXdpbmRvdy5IVE1MSW1wb3J0c3x8e2ZsYWdzOnt9fSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCl7dD10fHx2LHIoZnVuY3Rpb24oKXtpKGUsdCl9LHQpfWZ1bmN0aW9uIG4oZSl7cmV0dXJuImNvbXBsZXRlIj09PWUucmVhZHlTdGF0ZXx8ZS5yZWFkeVN0YXRlPT09Z31mdW5jdGlvbiByKGUsdCl7aWYobih0KSllJiZlKCk7ZWxzZXt2YXIgbz1mdW5jdGlvbigpeygiY29tcGxldGUiPT09dC5yZWFkeVN0YXRlfHx0LnJlYWR5U3RhdGU9PT1nKSYmKHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLG8pLHIoZSx0KSl9O3QuYWRkRXZlbnRMaXN0ZW5lcihiLG8pfX1mdW5jdGlvbiBvKGUpe2UudGFyZ2V0Ll9fbG9hZGVkPSEwfWZ1bmN0aW9uIGkoZSx0KXtmdW5jdGlvbiBuKCl7cz09YyYmZSYmZSgpfWZ1bmN0aW9uIHIoZSl7byhlKSxzKyssbigpfXZhciBpPXQucXVlcnlTZWxlY3RvckFsbCgibGlua1tyZWw9aW1wb3J0XSIpLHM9MCxjPWkubGVuZ3RoO2lmKGMpZm9yKHZhciBsLHU9MDtjPnUmJihsPWlbdV0pO3UrKylhKGwpP3IuY2FsbChsLHt0YXJnZXQ6bH0pOihsLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLHIpLGwuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLHIpKTtlbHNlIG4oKX1mdW5jdGlvbiBhKGUpe3JldHVybiBwP2UuX19sb2FkZWR8fGUuaW1wb3J0JiYibG9hZGluZyIhPT1lLmltcG9ydC5yZWFkeVN0YXRlOmUuX19pbXBvcnRQYXJzZWR9ZnVuY3Rpb24gcyhlKXtmb3IodmFyIHQsbj0wLHI9ZS5sZW5ndGg7cj5uJiYodD1lW25dKTtuKyspYyh0KSYmbCh0KX1mdW5jdGlvbiBjKGUpe3JldHVybiJsaW5rIj09PWUubG9jYWxOYW1lJiYiaW1wb3J0Ij09PWUucmVsfWZ1bmN0aW9uIGwoZSl7dmFyIHQ9ZS5pbXBvcnQ7dD9vKHt0YXJnZXQ6ZX0pOihlLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLG8pLGUuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLG8pKX12YXIgdT0iaW1wb3J0IixkPXUgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGluayIpLHA9ZCxoPS9UcmlkZW50Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGY9Qm9vbGVhbih3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLG09ZnVuY3Rpb24oZSl7cmV0dXJuIGY/U2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKGUpOmV9LHY9bShkb2N1bWVudCksdz17Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9SFRNTEltcG9ydHMuY3VycmVudFNjcmlwdHx8ZG9jdW1lbnQuY3VycmVudFNjcmlwdHx8KCJjb21wbGV0ZSIhPT1kb2N1bWVudC5yZWFkeVN0YXRlP2RvY3VtZW50LnNjcmlwdHNbZG9jdW1lbnQuc2NyaXB0cy5sZW5ndGgtMV06bnVsbCk7cmV0dXJuIG0oZSl9LGNvbmZpZ3VyYWJsZTohMH07T2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LCJfY3VycmVudFNjcmlwdCIsdyksT2JqZWN0LmRlZmluZVByb3BlcnR5KHYsIl9jdXJyZW50U2NyaXB0Iix3KTt2YXIgZz1oPyJjb21wbGV0ZSI6ImludGVyYWN0aXZlIixiPSJyZWFkeXN0YXRlY2hhbmdlIjtwJiYobmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49MCxyPWUubGVuZ3RoO3I+biYmKHQ9ZVtuXSk7bisrKXQuYWRkZWROb2RlcyYmcyh0LmFkZGVkTm9kZXMpfSkub2JzZXJ2ZShkb2N1bWVudC5oZWFkLHtjaGlsZExpc3Q6ITB9KSxmdW5jdGlvbigpe2lmKCJsb2FkaW5nIj09PWRvY3VtZW50LnJlYWR5U3RhdGUpZm9yKHZhciBlLHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgibGlua1tyZWw9aW1wb3J0XSIpLG49MCxyPXQubGVuZ3RoO3I+biYmKGU9dFtuXSk7bisrKWwoZSl9KCkpLHQoZnVuY3Rpb24oKXtIVE1MSW1wb3J0cy5yZWFkeT0hMCxIVE1MSW1wb3J0cy5yZWFkeVRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksdi5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgiSFRNTEltcG9ydHNMb2FkZWQiLHtidWJibGVzOiEwfSkpfSksZS51c2VOYXRpdmU9cCxlLmlzSW1wb3J0TG9hZGVkPWEsZS53aGVuUmVhZHk9dCxlLnJvb3REb2N1bWVudD12LGUuSU1QT1JUX0xJTktfVFlQRT11LGUuaXNJRT1ofSh3aW5kb3cuSFRNTEltcG9ydHMpLGZ1bmN0aW9uKGUpe3ZhciB0PShlLnBhdGgsZS54aHIpLG49ZS5mbGFncyxyPWZ1bmN0aW9uKGUsdCl7dGhpcy5jYWNoZT17fSx0aGlzLm9ubG9hZD1lLHRoaXMub25jb21wbGV0ZT10LHRoaXMuaW5mbGlnaHQ9MCx0aGlzLnBlbmRpbmc9e319O3IucHJvdG90eXBlPXthZGROb2RlczpmdW5jdGlvbihlKXt0aGlzLmluZmxpZ2h0Kz1lLmxlbmd0aDtmb3IodmFyIHQsbj0wLHI9ZS5sZW5ndGg7cj5uJiYodD1lW25dKTtuKyspdGhpcy5yZXF1aXJlKHQpO3RoaXMuY2hlY2tEb25lKCl9LGFkZE5vZGU6ZnVuY3Rpb24oZSl7dGhpcy5pbmZsaWdodCsrLHRoaXMucmVxdWlyZShlKSx0aGlzLmNoZWNrRG9uZSgpfSxyZXF1aXJlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3JjfHxlLmhyZWY7ZS5fX25vZGVVcmw9dCx0aGlzLmRlZHVwZSh0LGUpfHx0aGlzLmZldGNoKHQsZSl9LGRlZHVwZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnBlbmRpbmdbZV0/KHRoaXMucGVuZGluZ1tlXS5wdXNoKHQpLCEwKTp0aGlzLmNhY2hlW2VdPyh0aGlzLm9ubG9hZChlLHQsdGhpcy5jYWNoZVtlXSksdGhpcy50YWlsKCksITApOih0aGlzLnBlbmRpbmdbZV09W3RdLCExKX0sZmV0Y2g6ZnVuY3Rpb24oZSxyKXtpZihuLmxvYWQmJmNvbnNvbGUubG9nKCJmZXRjaCIsZSxyKSxlLm1hdGNoKC9eZGF0YTovKSl7dmFyIG89ZS5zcGxpdCgiLCIpLGk9b1swXSxhPW9bMV07YT1pLmluZGV4T2YoIjtiYXNlNjQiKT4tMT9hdG9iKGEpOmRlY29kZVVSSUNvbXBvbmVudChhKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5yZWNlaXZlKGUscixudWxsLGEpfS5iaW5kKHRoaXMpLDApfWVsc2V7dmFyIHM9ZnVuY3Rpb24odCxuLG8pe3RoaXMucmVjZWl2ZShlLHIsdCxuLG8pfS5iaW5kKHRoaXMpO3QubG9hZChlLHMpfX0scmVjZWl2ZTpmdW5jdGlvbihlLHQsbixyLG8pe3RoaXMuY2FjaGVbZV09cjtmb3IodmFyIGksYT10aGlzLnBlbmRpbmdbZV0scz0wLGM9YS5sZW5ndGg7Yz5zJiYoaT1hW3NdKTtzKyspdGhpcy5vbmxvYWQoZSxpLHIsbixvKSx0aGlzLnRhaWwoKTt0aGlzLnBlbmRpbmdbZV09bnVsbH0sdGFpbDpmdW5jdGlvbigpey0tdGhpcy5pbmZsaWdodCx0aGlzLmNoZWNrRG9uZSgpfSxjaGVja0RvbmU6ZnVuY3Rpb24oKXt0aGlzLmluZmxpZ2h0fHx0aGlzLm9uY29tcGxldGUoKX19LHQ9dHx8e2FzeW5jOiEwLG9rOmZ1bmN0aW9uKGUpe3JldHVybiBlLnN0YXR1cz49MjAwJiZlLnN0YXR1czwzMDB8fDMwND09PWUuc3RhdHVzfHwwPT09ZS5zdGF0dXN9LGxvYWQ6ZnVuY3Rpb24obixyLG8pe3ZhciBpPW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4oZS5mbGFncy5kZWJ1Z3x8ZS5mbGFncy5idXN0KSYmKG4rPSI/IitNYXRoLnJhbmRvbSgpKSxpLm9wZW4oIkdFVCIsbix0LmFzeW5jKSxpLmFkZEV2ZW50TGlzdGVuZXIoInJlYWR5c3RhdGVjaGFuZ2UiLGZ1bmN0aW9uKCl7aWYoND09PWkucmVhZHlTdGF0ZSl7dmFyIGU9aS5nZXRSZXNwb25zZUhlYWRlcigiTG9jYXRpb24iKSxuPW51bGw7aWYoZSl2YXIgbj0iLyI9PT1lLnN1YnN0cigwLDEpP2xvY2F0aW9uLm9yaWdpbitlOmU7ci5jYWxsKG8sIXQub2soaSkmJmksaS5yZXNwb25zZXx8aS5yZXNwb25zZVRleHQsbil9fSksaS5zZW5kKCksaX0sbG9hZERvY3VtZW50OmZ1bmN0aW9uKGUsdCxuKXt0aGlzLmxvYWQoZSx0LG4pLnJlc3BvbnNlVHlwZT0iZG9jdW1lbnQifX0sZS54aHI9dCxlLkxvYWRlcj1yfSh3aW5kb3cuSFRNTEltcG9ydHMpLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7cmV0dXJuImxpbmsiPT09ZS5sb2NhbE5hbWUmJmUucmVsPT09bH1mdW5jdGlvbiBuKGUpe3ZhciB0PXIoZSk7cmV0dXJuImRhdGE6dGV4dC9qYXZhc2NyaXB0O2NoYXJzZXQ9dXRmLTgsIitlbmNvZGVVUklDb21wb25lbnQodCl9ZnVuY3Rpb24gcihlKXtyZXR1cm4gZS50ZXh0Q29udGVudCtvKGUpfWZ1bmN0aW9uIG8oZSl7dmFyIHQ9ZS5fX25vZGVVcmw7aWYoIXQpe3Q9ZS5vd25lckRvY3VtZW50LmJhc2VVUkk7dmFyIG49IlsiK01hdGguZmxvb3IoMWUzKihNYXRoLnJhbmRvbSgpKzEpKSsiXSIscj1lLnRleHRDb250ZW50Lm1hdGNoKC9Qb2x5bWVyXChbJyJdKFteJyJdKikvKTtuPXImJnJbMV18fG4sdCs9Ii8iK24rIi5qcyJ9cmV0dXJuIlxuLy8jIHNvdXJjZVVSTD0iK3QrIlxuIn1mdW5jdGlvbiBpKGUpe3ZhciB0PWUub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO3JldHVybiB0LnRleHRDb250ZW50PWUudGV4dENvbnRlbnQsaC5yZXNvbHZlVXJsc0luU3R5bGUodCksdH12YXIgYT1lLnJvb3REb2N1bWVudCxzPWUuZmxhZ3MsYz1lLmlzSUUsbD1lLklNUE9SVF9MSU5LX1RZUEUsdT17ZG9jdW1lbnRTZWxlY3RvcnM6ImxpbmtbcmVsPSIrbCsiXSIsaW1wb3J0c1NlbGVjdG9yczpbImxpbmtbcmVsPSIrbCsiXSIsImxpbmtbcmVsPXN0eWxlc2hlZXRdIiwic3R5bGUiLCJzY3JpcHQ6bm90KFt0eXBlXSkiLCdzY3JpcHRbdHlwZT0idGV4dC9qYXZhc2NyaXB0Il0nXS5qb2luKCIsIiksbWFwOntsaW5rOiJwYXJzZUxpbmsiLHNjcmlwdDoicGFyc2VTY3JpcHQiLHN0eWxlOiJwYXJzZVN0eWxlIn0sZHluYW1pY0VsZW1lbnRzOltdLHBhcnNlTmV4dDpmdW5jdGlvbigpe3ZhciBlPXRoaXMubmV4dFRvUGFyc2UoKTtlJiZ0aGlzLnBhcnNlKGUpfSxwYXJzZTpmdW5jdGlvbihlKXtpZih0aGlzLmlzUGFyc2VkKGUpKXJldHVybiB2b2lkKHMucGFyc2UmJmNvbnNvbGUubG9nKCJbJXNdIGlzIGFscmVhZHkgcGFyc2VkIixlLmxvY2FsTmFtZSkpO3ZhciB0PXRoaXNbdGhpcy5tYXBbZS5sb2NhbE5hbWVdXTt0JiYodGhpcy5tYXJrUGFyc2luZyhlKSx0LmNhbGwodGhpcyxlKSl9LHBhcnNlRHluYW1pYzpmdW5jdGlvbihlLHQpe3RoaXMuZHluYW1pY0VsZW1lbnRzLnB1c2goZSksdHx8dGhpcy5wYXJzZU5leHQoKX0sbWFya1BhcnNpbmc6ZnVuY3Rpb24oZSl7cy5wYXJzZSYmY29uc29sZS5sb2coInBhcnNpbmciLGUpLHRoaXMucGFyc2luZ0VsZW1lbnQ9ZX0sbWFya1BhcnNpbmdDb21wbGV0ZTpmdW5jdGlvbihlKXtlLl9faW1wb3J0UGFyc2VkPSEwLHRoaXMubWFya0R5bmFtaWNQYXJzaW5nQ29tcGxldGUoZSksZS5fX2ltcG9ydEVsZW1lbnQmJihlLl9faW1wb3J0RWxlbWVudC5fX2ltcG9ydFBhcnNlZD0hMCx0aGlzLm1hcmtEeW5hbWljUGFyc2luZ0NvbXBsZXRlKGUuX19pbXBvcnRFbGVtZW50KSksdGhpcy5wYXJzaW5nRWxlbWVudD1udWxsLHMucGFyc2UmJmNvbnNvbGUubG9nKCJjb21wbGV0ZWQiLGUpfSxtYXJrRHluYW1pY1BhcnNpbmdDb21wbGV0ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmR5bmFtaWNFbGVtZW50cy5pbmRleE9mKGUpO3Q+PTAmJnRoaXMuZHluYW1pY0VsZW1lbnRzLnNwbGljZSh0LDEpfSxwYXJzZUltcG9ydDpmdW5jdGlvbihlKXtpZihIVE1MSW1wb3J0cy5fX2ltcG9ydHNQYXJzaW5nSG9vayYmSFRNTEltcG9ydHMuX19pbXBvcnRzUGFyc2luZ0hvb2soZSksZS5pbXBvcnQmJihlLmltcG9ydC5fX2ltcG9ydFBhcnNlZD0hMCksdGhpcy5tYXJrUGFyc2luZ0NvbXBsZXRlKGUpLGUuZGlzcGF0Y2hFdmVudChlLl9fcmVzb3VyY2UmJiFlLl9fZXJyb3I/bmV3IEN1c3RvbUV2ZW50KCJsb2FkIix7YnViYmxlczohMX0pOm5ldyBDdXN0b21FdmVudCgiZXJyb3IiLHtidWJibGVzOiExfSkpLGUuX19wZW5kaW5nKWZvcih2YXIgdDtlLl9fcGVuZGluZy5sZW5ndGg7KXQ9ZS5fX3BlbmRpbmcuc2hpZnQoKSx0JiZ0KHt0YXJnZXQ6ZX0pO3RoaXMucGFyc2VOZXh0KCl9LHBhcnNlTGluazpmdW5jdGlvbihlKXt0KGUpP3RoaXMucGFyc2VJbXBvcnQoZSk6KGUuaHJlZj1lLmhyZWYsdGhpcy5wYXJzZUdlbmVyaWMoZSkpfSxwYXJzZVN0eWxlOmZ1bmN0aW9uKGUpe3ZhciB0PWU7ZT1pKGUpLGUuX19pbXBvcnRFbGVtZW50PXQsdGhpcy5wYXJzZUdlbmVyaWMoZSl9LHBhcnNlR2VuZXJpYzpmdW5jdGlvbihlKXt0aGlzLnRyYWNrRWxlbWVudChlKSx0aGlzLmFkZEVsZW1lbnRUb0RvY3VtZW50KGUpfSxyb290SW1wb3J0Rm9yRWxlbWVudDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZTt0Lm93bmVyRG9jdW1lbnQuX19pbXBvcnRMaW5rOyl0PXQub3duZXJEb2N1bWVudC5fX2ltcG9ydExpbms7cmV0dXJuIHR9LGFkZEVsZW1lbnRUb0RvY3VtZW50OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnJvb3RJbXBvcnRGb3JFbGVtZW50KGUuX19pbXBvcnRFbGVtZW50fHxlKSxuPXQuX19pbnNlcnRlZEVsZW1lbnRzPXQuX19pbnNlcnRlZEVsZW1lbnRzfHwwLHI9dC5uZXh0RWxlbWVudFNpYmxpbmcsbz0wO24+bztvKyspcj1yJiZyLm5leHRFbGVtZW50U2libGluZzt0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUscil9LHRyYWNrRWxlbWVudDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscj1mdW5jdGlvbihyKXt0JiZ0KHIpLG4ubWFya1BhcnNpbmdDb21wbGV0ZShlKSxuLnBhcnNlTmV4dCgpfTtpZihlLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLHIpLGUuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLHIpLGMmJiJzdHlsZSI9PT1lLmxvY2FsTmFtZSl7dmFyIG89ITE7aWYoLTE9PWUudGV4dENvbnRlbnQuaW5kZXhPZigiQGltcG9ydCIpKW89ITA7ZWxzZSBpZihlLnNoZWV0KXtvPSEwO2Zvcih2YXIgaSxhPWUuc2hlZXQuY3NzUnVsZXMscz1hP2EubGVuZ3RoOjAsbD0wO3M+bCYmKGk9YVtsXSk7bCsrKWkudHlwZT09PUNTU1J1bGUuSU1QT1JUX1JVTEUmJihvPW8mJkJvb2xlYW4oaS5zdHlsZVNoZWV0KSl9byYmZS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgibG9hZCIse2J1YmJsZXM6ITF9KSl9fSxwYXJzZVNjcmlwdDpmdW5jdGlvbih0KXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtyLl9faW1wb3J0RWxlbWVudD10LHIuc3JjPXQuc3JjP3Quc3JjOm4odCksZS5jdXJyZW50U2NyaXB0PXQsdGhpcy50cmFja0VsZW1lbnQocixmdW5jdGlvbigpe3IucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKSxlLmN1cnJlbnRTY3JpcHQ9bnVsbH0pLHRoaXMuYWRkRWxlbWVudFRvRG9jdW1lbnQocil9LG5leHRUb1BhcnNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21heVBhcnNlPVtdLCF0aGlzLnBhcnNpbmdFbGVtZW50JiYodGhpcy5uZXh0VG9QYXJzZUluRG9jKGEpfHx0aGlzLm5leHRUb1BhcnNlRHluYW1pYygpKX0sbmV4dFRvUGFyc2VJbkRvYzpmdW5jdGlvbihlLG4pe2lmKGUmJnRoaXMuX21heVBhcnNlLmluZGV4T2YoZSk8MCl7dGhpcy5fbWF5UGFyc2UucHVzaChlKTtmb3IodmFyIHIsbz1lLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5wYXJzZVNlbGVjdG9yc0Zvck5vZGUoZSkpLGk9MCxhPW8ubGVuZ3RoO2E+aSYmKHI9b1tpXSk7aSsrKWlmKCF0aGlzLmlzUGFyc2VkKHIpKXJldHVybiB0aGlzLmhhc1Jlc291cmNlKHIpP3Qocik/dGhpcy5uZXh0VG9QYXJzZUluRG9jKHIuaW1wb3J0LHIpOnI6dm9pZCAwfXJldHVybiBufSxuZXh0VG9QYXJzZUR5bmFtaWM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5keW5hbWljRWxlbWVudHNbMF19LHBhcnNlU2VsZWN0b3JzRm9yTm9kZTpmdW5jdGlvbihlKXt2YXIgdD1lLm93bmVyRG9jdW1lbnR8fGU7cmV0dXJuIHQ9PT1hP3RoaXMuZG9jdW1lbnRTZWxlY3RvcnM6dGhpcy5pbXBvcnRzU2VsZWN0b3JzfSxpc1BhcnNlZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX2ltcG9ydFBhcnNlZH0sbmVlZHNEeW5hbWljUGFyc2luZzpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5keW5hbWljRWxlbWVudHMuaW5kZXhPZihlKT49MH0saGFzUmVzb3VyY2U6ZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSkmJnZvaWQgMD09PWUuaW1wb3J0PyExOiEwfX0sZD0vKHVybFwoKShbXildKikoXCkpL2cscD0vKEBpbXBvcnRbXHNdKyg/IXVybFwoKSkoW147XSopKDspL2csaD17cmVzb2x2ZVVybHNJblN0eWxlOmZ1bmN0aW9uKGUpe3ZhciB0PWUub3duZXJEb2N1bWVudCxuPXQuY3JlYXRlRWxlbWVudCgiYSIpO3JldHVybiBlLnRleHRDb250ZW50PXRoaXMucmVzb2x2ZVVybHNJbkNzc1RleHQoZS50ZXh0Q29udGVudCxuKSxlfSxyZXNvbHZlVXJsc0luQ3NzVGV4dDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMucmVwbGFjZVVybHMoZSx0LGQpO3JldHVybiBuPXRoaXMucmVwbGFjZVVybHMobix0LHApfSxyZXBsYWNlVXJsczpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGUucmVwbGFjZShuLGZ1bmN0aW9uKGUsbixyLG8pe3ZhciBpPXIucmVwbGFjZSgvWyInXS9nLCIiKTtyZXR1cm4gdC5ocmVmPWksaT10LmhyZWYsbisiJyIraSsiJyIrb30pfX07ZS5wYXJzZXI9dSxlLnBhdGg9aH0oSFRNTEltcG9ydHMpLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7cmV0dXJuIG4oZSxhKX1mdW5jdGlvbiBuKGUsdCl7cmV0dXJuImxpbmsiPT09ZS5sb2NhbE5hbWUmJmUuZ2V0QXR0cmlidXRlKCJyZWwiKT09PXR9ZnVuY3Rpb24gcihlLHQpe3ZhciBuPWU7biBpbnN0YW5jZW9mIERvY3VtZW50fHwobj1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoYSkpLG4uX1VSTD10O3ZhciByPW4uY3JlYXRlRWxlbWVudCgiYmFzZSIpO3Iuc2V0QXR0cmlidXRlKCJocmVmIix0KSxuLmJhc2VVUkl8fChuLmJhc2VVUkk9dCk7dmFyIG89bi5jcmVhdGVFbGVtZW50KCJtZXRhIik7cmV0dXJuIG8uc2V0QXR0cmlidXRlKCJjaGFyc2V0IiwidXRmLTgiKSxuLmhlYWQuYXBwZW5kQ2hpbGQobyksbi5oZWFkLmFwcGVuZENoaWxkKHIpLGUgaW5zdGFuY2VvZiBEb2N1bWVudHx8KG4uYm9keS5pbm5lckhUTUw9ZSksd2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQmJkhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwJiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcChuKSxufXZhciBvPWUudXNlTmF0aXZlLGk9ZS5mbGFncyxhPWUuSU1QT1JUX0xJTktfVFlQRTtpZihvKXZhciBzPXt9O2Vsc2V7dmFyIGM9ZS5yb290RG9jdW1lbnQsbD0oZS54aHIsZS5Mb2FkZXIpLHU9ZS5wYXJzZXIscz17ZG9jdW1lbnRzOnt9LGRvY3VtZW50UHJlbG9hZFNlbGVjdG9yczoibGlua1tyZWw9IithKyJdIixpbXBvcnRzUHJlbG9hZFNlbGVjdG9yczpbImxpbmtbcmVsPSIrYSsiXSJdLmpvaW4oIiwiKSxsb2FkTm9kZTpmdW5jdGlvbihlKXtkLmFkZE5vZGUoZSl9LGxvYWRTdWJ0cmVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubWFyc2hhbE5vZGVzKGUpO2QuYWRkTm9kZXModCl9LG1hcnNoYWxOb2RlczpmdW5jdGlvbihlKXtyZXR1cm4gZS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMubG9hZFNlbGVjdG9yc0Zvck5vZGUoZSkpfSxsb2FkU2VsZWN0b3JzRm9yTm9kZTpmdW5jdGlvbihlKXt2YXIgdD1lLm93bmVyRG9jdW1lbnR8fGU7cmV0dXJuIHQ9PT1jP3RoaXMuZG9jdW1lbnRQcmVsb2FkU2VsZWN0b3JzOnRoaXMuaW1wb3J0c1ByZWxvYWRTZWxlY3RvcnN9LGxvYWRlZDpmdW5jdGlvbihlLG4sbyxhLHMpe2lmKGkubG9hZCYmY29uc29sZS5sb2coImxvYWRlZCIsZSxuKSxuLl9fcmVzb3VyY2U9byxuLl9fZXJyb3I9YSx0KG4pKXt2YXIgYz10aGlzLmRvY3VtZW50c1tlXTt2b2lkIDA9PT1jJiYoYz1hP251bGw6cihvLHN8fGUpLGMmJihjLl9faW1wb3J0TGluaz1uLHRoaXMuYm9vdERvY3VtZW50KGMpKSx0aGlzLmRvY3VtZW50c1tlXT1jKSxuLmltcG9ydD1jfXUucGFyc2VOZXh0KCl9LGJvb3REb2N1bWVudDpmdW5jdGlvbihlKXt0aGlzLmxvYWRTdWJ0cmVlKGUpLHRoaXMub2JzZXJ2ZShlKSx1LnBhcnNlTmV4dCgpfSxsb2FkZWRBbGw6ZnVuY3Rpb24oKXt1LnBhcnNlTmV4dCgpfX0sZD1uZXcgbChzLmxvYWRlZC5iaW5kKHMpLHMubG9hZGVkQWxsLmJpbmQocykpO2lmKCFkb2N1bWVudC5iYXNlVVJJKXt2YXIgcD17Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiYmFzZSIpO3JldHVybiBlP2UuaHJlZjp3aW5kb3cubG9jYXRpb24uaHJlZn0sY29uZmlndXJhYmxlOiEwfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsImJhc2VVUkkiLHApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjLCJiYXNlVVJJIixwKX0iZnVuY3Rpb24iIT10eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50JiYod2luZG93LkN1c3RvbUV2ZW50PWZ1bmN0aW9uKGUsdCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkhUTUxFdmVudHMiKTtyZXR1cm4gbi5pbml0RXZlbnQoZSx0LmJ1YmJsZXM9PT0hMT8hMTohMCx0LmNhbmNlbGFibGU9PT0hMT8hMTohMCx0LmRldGFpbCksbn0pfWUuaW1wb3J0ZXI9cyxlLklNUE9SVF9MSU5LX1RZUEU9YSxlLmltcG9ydExvYWRlcj1kfSh3aW5kb3cuSFRNTEltcG9ydHMpLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7Zm9yKHZhciB0LHI9MCxvPWUubGVuZ3RoO28+ciYmKHQ9ZVtyXSk7cisrKSJjaGlsZExpc3QiPT09dC50eXBlJiZ0LmFkZGVkTm9kZXMubGVuZ3RoJiZuKHQuYWRkZWROb2Rlcyl9ZnVuY3Rpb24gbihlKXtmb3IodmFyIHQsaSxjLGwsdT0wLGQ9ZS5sZW5ndGg7ZD51JiYoYz1lW3VdKTt1KyspdHx8KHQ9Yy5vd25lckRvY3VtZW50LGk9cy5pc1BhcnNlZCh0KSksbD1yKGMpLGwmJmEubG9hZE5vZGUoYyksbyhjKSYmaSYmcy5wYXJzZUR5bmFtaWMoYyxsKSxjLmNoaWxkcmVuJiZjLmNoaWxkcmVuLmxlbmd0aCYmbihjLmNoaWxkcmVuKX1mdW5jdGlvbiByKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZSYmYy5jYWxsKGUsYS5sb2FkU2VsZWN0b3JzRm9yTm9kZShlKSl9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gMT09PWUubm9kZVR5cGUmJmMuY2FsbChlLHMucGFyc2VTZWxlY3RvcnNGb3JOb2RlKGUpKX1mdW5jdGlvbiBpKGUpe2wub2JzZXJ2ZShlLHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pfXZhciBhPShlLklNUE9SVF9MSU5LX1RZUEUsZS5pbXBvcnRlcikscz1lLnBhcnNlcixjPUhUTUxFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzfHxIVE1MRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlc1NlbGVjdG9yfHxIVE1MRWxlbWVudC5wcm90b3R5cGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxIVE1MRWxlbWVudC5wcm90b3R5cGUubW96TWF0Y2hlc1NlbGVjdG9yfHxIVE1MRWxlbWVudC5wcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3IsbD1uZXcgTXV0YXRpb25PYnNlcnZlcih0KTtlLm9ic2VydmU9aSxhLm9ic2VydmU9aX0oSFRNTEltcG9ydHMpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe0hUTUxJbXBvcnRzLmltcG9ydGVyLmJvb3REb2N1bWVudCh0KX12YXIgdD13aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChkb2N1bWVudCk6ZG9jdW1lbnQ7SFRNTEltcG9ydHMudXNlTmF0aXZlfHwoImNvbXBsZXRlIj09PWRvY3VtZW50LnJlYWR5U3RhdGV8fCJpbnRlcmFjdGl2ZSI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiYhd2luZG93LmF0dGFjaEV2ZW50P2UoKTpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixlKSl9KCksd2luZG93LkN1c3RvbUVsZW1lbnRzPXdpbmRvdy5DdXN0b21FbGVtZW50c3x8e2ZsYWdzOnt9fSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsbixyKXt2YXIgbz1lLmZpcnN0RWxlbWVudENoaWxkO2lmKCFvKWZvcihvPWUuZmlyc3RDaGlsZDtvJiZvLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KW89by5uZXh0U2libGluZztmb3IoO287KW4obyxyKSE9PSEwJiZ0KG8sbixyKSxvPW8ubmV4dEVsZW1lbnRTaWJsaW5nO3JldHVybiBudWxsfWZ1bmN0aW9uIG4oZSx0KXtmb3IodmFyIG49ZS5zaGFkb3dSb290O247KXIobix0KSxuPW4ub2xkZXJTaGFkb3dSb290fWZ1bmN0aW9uIHIoZSxyKXt0KGUsZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSk/ITA6dm9pZCBuKGUscil9KSxuKGUscil9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gcyhlKT8oYyhlKSwhMCk6dm9pZCBkKGUpfWZ1bmN0aW9uIGkoZSl7cihlLGZ1bmN0aW9uKGUpe3JldHVybiBvKGUpPyEwOnZvaWQgMH0pfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIG8oZSl8fGkoZSl9ZnVuY3Rpb24gcyh0KXtpZighdC5fX3VwZ3JhZGVkX18mJnQubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl7dmFyIG49dC5nZXRBdHRyaWJ1dGUoImlzIil8fHQubG9jYWxOYW1lLHI9ZS5yZWdpc3RyeVtuXTtpZihyKXJldHVybiBDLmRvbSYmY29uc29sZS5ncm91cCgidXBncmFkZToiLHQubG9jYWxOYW1lKSxlLnVwZ3JhZGUodCksQy5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSwhMH19ZnVuY3Rpb24gYyhlKXtkKGUpLHcoZSkmJnIoZSxmdW5jdGlvbihlKXtkKGUpfSl9ZnVuY3Rpb24gbChlKXtpZih4LnB1c2goZSksIUQpe0Q9ITA7dmFyIHQ9d2luZG93LlBsYXRmb3JtJiZ3aW5kb3cuUGxhdGZvcm0uZW5kT2ZNaWNyb3Rhc2t8fHNldFRpbWVvdXQ7dCh1KX19ZnVuY3Rpb24gdSgpe0Q9ITE7Zm9yKHZhciBlLHQ9eCxuPTAscj10Lmxlbmd0aDtyPm4mJihlPXRbbl0pO24rKyllKCk7eD1bXX1mdW5jdGlvbiBkKGUpe04/bChmdW5jdGlvbigpe3AoZSl9KTpwKGUpfWZ1bmN0aW9uIHAoZSl7KGUuYXR0YWNoZWRDYWxsYmFja3x8ZS5kZXRhY2hlZENhbGxiYWNrfHxlLl9fdXBncmFkZWRfXyYmQy5kb20pJiYoQy5kb20mJmNvbnNvbGUuZ3JvdXAoImluc2VydGVkOiIsZS5sb2NhbE5hbWUpLHcoZSkmJihlLl9faW5zZXJ0ZWQ9KGUuX19pbnNlcnRlZHx8MCkrMSxlLl9faW5zZXJ0ZWQ8MSYmKGUuX19pbnNlcnRlZD0xKSxlLl9faW5zZXJ0ZWQ+MT9DLmRvbSYmY29uc29sZS53YXJuKCJpbnNlcnRlZDoiLGUubG9jYWxOYW1lLCJpbnNlcnQvcmVtb3ZlIGNvdW50OiIsZS5fX2luc2VydGVkKTplLmF0dGFjaGVkQ2FsbGJhY2smJihDLmRvbSYmY29uc29sZS5sb2coImluc2VydGVkOiIsZS5sb2NhbE5hbWUpLGUuYXR0YWNoZWRDYWxsYmFjaygpKSksQy5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSl9ZnVuY3Rpb24gaChlKXtmKGUpLHIoZSxmdW5jdGlvbihlKXtmKGUpfSl9ZnVuY3Rpb24gZihlKXtOP2woZnVuY3Rpb24oKXttKGUpfSk6bShlKX1mdW5jdGlvbiBtKGUpeyhlLmF0dGFjaGVkQ2FsbGJhY2t8fGUuZGV0YWNoZWRDYWxsYmFja3x8ZS5fX3VwZ3JhZGVkX18mJkMuZG9tKSYmKEMuZG9tJiZjb25zb2xlLmdyb3VwKCJyZW1vdmVkOiIsZS5sb2NhbE5hbWUpLHcoZSl8fChlLl9faW5zZXJ0ZWQ9KGUuX19pbnNlcnRlZHx8MCktMSxlLl9faW5zZXJ0ZWQ+MCYmKGUuX19pbnNlcnRlZD0wKSxlLl9faW5zZXJ0ZWQ8MD9DLmRvbSYmY29uc29sZS53YXJuKCJyZW1vdmVkOiIsZS5sb2NhbE5hbWUsImluc2VydC9yZW1vdmUgY291bnQ6IixlLl9faW5zZXJ0ZWQpOmUuZGV0YWNoZWRDYWxsYmFjayYmZS5kZXRhY2hlZENhbGxiYWNrKCkpLEMuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCkpfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD9TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoZSk6ZX1mdW5jdGlvbiB3KGUpe2Zvcih2YXIgdD1lLG49dihkb2N1bWVudCk7dDspe2lmKHQ9PW4pcmV0dXJuITA7dD10LnBhcmVudE5vZGV8fHQuaG9zdH19ZnVuY3Rpb24gZyhlKXtpZihlLnNoYWRvd1Jvb3QmJiFlLnNoYWRvd1Jvb3QuX193YXRjaGVkKXtDLmRvbSYmY29uc29sZS5sb2coIndhdGNoaW5nIHNoYWRvdy1yb290IGZvcjogIixlLmxvY2FsTmFtZSk7Zm9yKHZhciB0PWUuc2hhZG93Um9vdDt0OyliKHQpLHQ9dC5vbGRlclNoYWRvd1Jvb3R9fWZ1bmN0aW9uIGIoZSl7RShlKX1mdW5jdGlvbiB5KGUpe2lmKEMuZG9tKXt2YXIgdD1lWzBdO2lmKHQmJiJjaGlsZExpc3QiPT09dC50eXBlJiZ0LmFkZGVkTm9kZXMmJnQuYWRkZWROb2Rlcyl7Zm9yKHZhciBuPXQuYWRkZWROb2Rlc1swXTtuJiZuIT09ZG9jdW1lbnQmJiFuLmhvc3Q7KW49bi5wYXJlbnROb2RlO3ZhciByPW4mJihuLlVSTHx8bi5fVVJMfHxuLmhvc3QmJm4uaG9zdC5sb2NhbE5hbWUpfHwiIjtyPXIuc3BsaXQoIi8/Iikuc2hpZnQoKS5zcGxpdCgiLyIpLnBvcCgpfWNvbnNvbGUuZ3JvdXAoIm11dGF0aW9ucyAoJWQpIFslc10iLGUubGVuZ3RoLHJ8fCIiKX1lLmZvckVhY2goZnVuY3Rpb24oZSl7ImNoaWxkTGlzdCI9PT1lLnR5cGUmJihIKGUuYWRkZWROb2RlcyxmdW5jdGlvbihlKXtlLmxvY2FsTmFtZSYmYShlKX0pLEgoZS5yZW1vdmVkTm9kZXMsZnVuY3Rpb24oZSl7ZS5sb2NhbE5hbWUmJmgoZSl9KSl9KSxDLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIF8oZSl7Zm9yKGV8fChlPXYoZG9jdW1lbnQpKTtlLnBhcmVudE5vZGU7KWU9ZS5wYXJlbnROb2RlO3ZhciB0PWUuX19vYnNlcnZlcjt0JiYoeSh0LnRha2VSZWNvcmRzKCkpLHUoKSl9ZnVuY3Rpb24gRShlKXtpZighZS5fX29ic2VydmVyKXt2YXIgdD1uZXcgTXV0YXRpb25PYnNlcnZlcih5KTt0Lm9ic2VydmUoZSx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KSxlLl9fb2JzZXJ2ZXI9dH19ZnVuY3Rpb24gUyhlKXtFKGUpfWZ1bmN0aW9uIE8oZSl7Qy5kb20mJmNvbnNvbGUuZ3JvdXAoInVwZ3JhZGVEb2N1bWVudDogIixlLmJhc2VVUkkuc3BsaXQoIi8iKS5wb3AoKSksYShlKSxDLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIFQoZSl7aj1bXSxNKGUpLGo9bnVsbH1mdW5jdGlvbiBNKGUpe2lmKGU9dihlKSwhKGouaW5kZXhPZihlKT49MCkpe2oucHVzaChlKTtmb3IodmFyIHQsbj1lLnF1ZXJ5U2VsZWN0b3JBbGwoImxpbmtbcmVsPSIrTCsiXSIpLHI9MCxvPW4ubGVuZ3RoO28+ciYmKHQ9bltyXSk7cisrKXQuaW1wb3J0JiZ0LmltcG9ydC5fX3BhcnNlZCYmTSh0LmltcG9ydCk7TyhlKX19dmFyIEM9d2luZG93LmxvZ0ZsYWdzfHx7fSxMPXdpbmRvdy5IVE1MSW1wb3J0cz9IVE1MSW1wb3J0cy5JTVBPUlRfTElOS19UWVBFOiJub25lIixOPSF3aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXI9PT13aW5kb3cuSnNNdXRhdGlvbk9ic2VydmVyO2UuaGFzUG9seWZpbGxNdXRhdGlvbnM9Tjt2YXIgaixEPSExLHg9W10sSD1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpO2UuSU1QT1JUX0xJTktfVFlQRT1MLGUud2F0Y2hTaGFkb3c9ZyxlLnVwZ3JhZGVEb2N1bWVudFRyZWU9VCxlLnVwZ3JhZGVBbGw9YSxlLnVwZ3JhZGVTdWJ0cmVlPWksZS5pbnNlcnRlZE5vZGU9YyxlLm9ic2VydmVEb2N1bWVudD1TLGUudXBncmFkZURvY3VtZW50PU8sZS50YWtlUmVjb3Jkcz1ffSh3aW5kb3cuQ3VzdG9tRWxlbWVudHMpLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxhKXt2YXIgcz1hfHx7fTtpZighdCl0aHJvdyBuZXcgRXJyb3IoImRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudDogZmlyc3QgYXJndW1lbnQgYG5hbWVgIG11c3Qgbm90IGJlIGVtcHR5Iik7aWYodC5pbmRleE9mKCItIik8MCl0aHJvdyBuZXcgRXJyb3IoImRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudDogZmlyc3QgYXJndW1lbnQgKCduYW1lJykgbXVzdCBjb250YWluIGEgZGFzaCAoJy0nKS4gQXJndW1lbnQgcHJvdmlkZWQgd2FzICciK1N0cmluZyh0KSsiJy4iKTtpZihuKHQpKXRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIGV4ZWN1dGUgJ3JlZ2lzdGVyRWxlbWVudCcgb24gJ0RvY3VtZW50JzogUmVnaXN0cmF0aW9uIGZhaWxlZCBmb3IgdHlwZSAnIitTdHJpbmcodCkrIicuIFRoZSB0eXBlIG5hbWUgaXMgaW52YWxpZC4iKTtpZihoKHQpKXRocm93IG5ldyBFcnJvcigiRHVwbGljYXRlRGVmaW5pdGlvbkVycm9yOiBhIHR5cGUgd2l0aCBuYW1lICciK1N0cmluZyh0KSsiJyBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQiKTtpZighcy5wcm90b3R5cGUpdGhyb3cgbmV3IEVycm9yKCJPcHRpb25zIG1pc3NpbmcgcmVxdWlyZWQgcHJvdG90eXBlIHByb3BlcnR5Iik7cmV0dXJuIHMuX19uYW1lPXQudG9Mb3dlckNhc2UoKSxzLmxpZmVjeWNsZT1zLmxpZmVjeWNsZXx8e30scy5hbmNlc3RyeT1yKHMuZXh0ZW5kcyksbyhzKSxpKHMpLGQocy5wcm90b3R5cGUpLGYocy5fX25hbWUscykscy5jdG9yPW0ocykscy5jdG9yLnByb3RvdHlwZT1zLnByb3RvdHlwZSxzLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1zLmN0b3IsZS5yZWFkeSYmZS51cGdyYWRlRG9jdW1lbnRUcmVlKGRvY3VtZW50KSxzLmN0b3J9ZnVuY3Rpb24gbihlKXtmb3IodmFyIHQ9MDt0PE8ubGVuZ3RoO3QrKylpZihlPT09T1t0XSlyZXR1cm4hMH1mdW5jdGlvbiByKGUpe3ZhciB0PWgoZSk7cmV0dXJuIHQ/cih0LmV4dGVuZHMpLmNvbmNhdChbdF0pOltdfWZ1bmN0aW9uIG8oZSl7Zm9yKHZhciB0LG49ZS5leHRlbmRzLHI9MDt0PWUuYW5jZXN0cnlbcl07cisrKW49dC5pcyYmdC50YWc7ZS50YWc9bnx8ZS5fX25hbWUsbiYmKGUuaXM9ZS5fX25hbWUpfWZ1bmN0aW9uIGkoZSl7aWYoIU9iamVjdC5fX3Byb3RvX18pe3ZhciB0PUhUTUxFbGVtZW50LnByb3RvdHlwZTtpZihlLmlzKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGUudGFnKSxyPU9iamVjdC5nZXRQcm90b3R5cGVPZihuKTtyPT09ZS5wcm90b3R5cGUmJih0PXIpfWZvcih2YXIgbyxpPWUucHJvdG90eXBlO2kmJmkhPT10OylvPU9iamVjdC5nZXRQcm90b3R5cGVPZihpKSxpLl9fcHJvdG9fXz1vLGk9bztlLm5hdGl2ZT10fX1mdW5jdGlvbiBhKGUpe3JldHVybiBzKEMoZS50YWcpLGUpfWZ1bmN0aW9uIHModCxuKXtyZXR1cm4gbi5pcyYmdC5zZXRBdHRyaWJ1dGUoImlzIixuLmlzKSxjKHQsbiksdC5fX3VwZ3JhZGVkX189ITAsdSh0KSxlLmluc2VydGVkTm9kZSh0KSxlLnVwZ3JhZGVTdWJ0cmVlKHQpLHR9ZnVuY3Rpb24gYyhlLHQpe09iamVjdC5fX3Byb3RvX18/ZS5fX3Byb3RvX189dC5wcm90b3R5cGU6KGwoZSx0LnByb3RvdHlwZSx0Lm5hdGl2ZSksZS5fX3Byb3RvX189dC5wcm90b3R5cGUpfWZ1bmN0aW9uIGwoZSx0LG4pe2Zvcih2YXIgcj17fSxvPXQ7byE9PW4mJm8hPT1IVE1MRWxlbWVudC5wcm90b3R5cGU7KXtmb3IodmFyIGksYT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvKSxzPTA7aT1hW3NdO3MrKylyW2ldfHwoT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8saSkpLHJbaV09MSk7bz1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobyl9fWZ1bmN0aW9uIHUoZSl7ZS5jcmVhdGVkQ2FsbGJhY2smJmUuY3JlYXRlZENhbGxiYWNrKCl9ZnVuY3Rpb24gZChlKXtpZighZS5zZXRBdHRyaWJ1dGUuX3BvbHlmaWxsZWQpe3ZhciB0PWUuc2V0QXR0cmlidXRlO2Uuc2V0QXR0cmlidXRlPWZ1bmN0aW9uKGUsbil7cC5jYWxsKHRoaXMsZSxuLHQpfTt2YXIgbj1lLnJlbW92ZUF0dHJpYnV0ZTtlLnJlbW92ZUF0dHJpYnV0ZT1mdW5jdGlvbihlKXtwLmNhbGwodGhpcyxlLG51bGwsbil9LGUuc2V0QXR0cmlidXRlLl9wb2x5ZmlsbGVkPSEwfX1mdW5jdGlvbiBwKGUsdCxuKXtlPWUudG9Mb3dlckNhc2UoKTt2YXIgcj10aGlzLmdldEF0dHJpYnV0ZShlKTtuLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgbz10aGlzLmdldEF0dHJpYnV0ZShlKTt0aGlzLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayYmbyE9PXImJnRoaXMuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGUscixvKX1mdW5jdGlvbiBoKGUpe3JldHVybiBlP1RbZS50b0xvd2VyQ2FzZSgpXTp2b2lkIDB9ZnVuY3Rpb24gZihlLHQpe1RbZV09dH1mdW5jdGlvbiBtKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhKGUpfX1mdW5jdGlvbiB2KGUsdCxuKXtyZXR1cm4gZT09PU0/dyh0LG4pOkwoZSx0KX1mdW5jdGlvbiB3KGUsdCl7dmFyIG49aCh0fHxlKTtpZihuKXtpZihlPT1uLnRhZyYmdD09bi5pcylyZXR1cm4gbmV3IG4uY3RvcjtpZighdCYmIW4uaXMpcmV0dXJuIG5ldyBuLmN0b3J9aWYodCl7dmFyIHI9dyhlKTtyZXR1cm4gci5zZXRBdHRyaWJ1dGUoImlzIix0KSxyfXZhciByPUMoZSk7cmV0dXJuIGUuaW5kZXhPZigiLSIpPj0wJiZjKHIsSFRNTEVsZW1lbnQpLHJ9ZnVuY3Rpb24gZyhlKXtpZighZS5fX3VwZ3JhZGVkX18mJmUubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl7dmFyIHQ9ZS5nZXRBdHRyaWJ1dGUoImlzIiksbj1oKHR8fGUubG9jYWxOYW1lKTtpZihuKXtpZih0JiZuLnRhZz09ZS5sb2NhbE5hbWUpcmV0dXJuIHMoZSxuKTtpZighdCYmIW4uZXh0ZW5kcylyZXR1cm4gcyhlLG4pfX19ZnVuY3Rpb24gYih0KXt2YXIgbj1OLmNhbGwodGhpcyx0KTtyZXR1cm4gZS51cGdyYWRlQWxsKG4pLG59ZXx8KGU9d2luZG93LkN1c3RvbUVsZW1lbnRzPXtmbGFnczp7fX0pO3ZhciB5PWUuZmxhZ3MsXz1Cb29sZWFuKGRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCksRT0heS5yZWdpc3RlciYmXyYmIXdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCYmKCF3aW5kb3cuSFRNTEltcG9ydHN8fEhUTUxJbXBvcnRzLnVzZU5hdGl2ZSk7aWYoRSl7dmFyIFM9ZnVuY3Rpb24oKXt9O2UucmVnaXN0cnk9e30sZS51cGdyYWRlRWxlbWVudD1TLGUud2F0Y2hTaGFkb3c9UyxlLnVwZ3JhZGU9UyxlLnVwZ3JhZGVBbGw9UyxlLnVwZ3JhZGVTdWJ0cmVlPVMsZS5vYnNlcnZlRG9jdW1lbnQ9UyxlLnVwZ3JhZGVEb2N1bWVudD1TLGUudXBncmFkZURvY3VtZW50VHJlZT1TLGUudGFrZVJlY29yZHM9UyxlLnJlc2VydmVkVGFnTGlzdD1bXX1lbHNle3ZhciBPPVsiYW5ub3RhdGlvbi14bWwiLCJjb2xvci1wcm9maWxlIiwiZm9udC1mYWNlIiwiZm9udC1mYWNlLXNyYyIsImZvbnQtZmFjZS11cmkiLCJmb250LWZhY2UtZm9ybWF0IiwiZm9udC1mYWNlLW5hbWUiLCJtaXNzaW5nLWdseXBoIl0sVD17fSxNPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIixDPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQuYmluZChkb2N1bWVudCksTD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMuYmluZChkb2N1bWVudCksTj1Ob2RlLnByb3RvdHlwZS5jbG9uZU5vZGU7ZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50PXQsZG9jdW1lbnQuY3JlYXRlRWxlbWVudD13LGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUz12LE5vZGUucHJvdG90eXBlLmNsb25lTm9kZT1iLGUucmVnaXN0cnk9VCxlLnVwZ3JhZGU9Z312YXIgajtqPU9iamVjdC5fX3Byb3RvX198fEU/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSBpbnN0YW5jZW9mIHR9OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWU7bjspe2lmKG49PT10LnByb3RvdHlwZSlyZXR1cm4hMDtuPW4uX19wcm90b19ffXJldHVybiExfSxlLmluc3RhbmNlb2Y9aixlLnJlc2VydmVkVGFnTGlzdD1PLGRvY3VtZW50LnJlZ2lzdGVyPWRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCxlLmhhc05hdGl2ZT1fLGUudXNlTmF0aXZlPUV9KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtyZXR1cm4ibGluayI9PT1lLmxvY2FsTmFtZSYmZS5nZXRBdHRyaWJ1dGUoInJlbCIpPT09bn12YXIgbj1lLklNUE9SVF9MSU5LX1RZUEUscj17c2VsZWN0b3JzOlsibGlua1tyZWw9IituKyJdIl0sbWFwOntsaW5rOiJwYXJzZUxpbmsifSxwYXJzZTpmdW5jdGlvbihlKXtpZighZS5fX3BhcnNlZCl7ZS5fX3BhcnNlZD0hMDt2YXIgdD1lLnF1ZXJ5U2VsZWN0b3JBbGwoci5zZWxlY3RvcnMpO28odCxmdW5jdGlvbihlKXtyW3IubWFwW2UubG9jYWxOYW1lXV0oZSl9KSxDdXN0b21FbGVtZW50cy51cGdyYWRlRG9jdW1lbnQoZSksQ3VzdG9tRWxlbWVudHMub2JzZXJ2ZURvY3VtZW50KGUpfX0scGFyc2VMaW5rOmZ1bmN0aW9uKGUpe3QoZSkmJnRoaXMucGFyc2VJbXBvcnQoZSl9LHBhcnNlSW1wb3J0OmZ1bmN0aW9uKGUpe2UuaW1wb3J0JiZyLnBhcnNlKGUuaW1wb3J0KX19LG89QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKTtlLnBhcnNlcj1yLGUuSU1QT1JUX0xJTktfVFlQRT1ufSh3aW5kb3cuQ3VzdG9tRWxlbWVudHMpLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtDdXN0b21FbGVtZW50cy5wYXJzZXIucGFyc2UoZG9jdW1lbnQpLEN1c3RvbUVsZW1lbnRzLnVwZ3JhZGVEb2N1bWVudChkb2N1bWVudCksd2luZG93LkhUTUxJbXBvcnRzJiYoSFRNTEltcG9ydHMuX19pbXBvcnRzUGFyc2luZ0hvb2s9ZnVuY3Rpb24oZSl7Q3VzdG9tRWxlbWVudHMucGFyc2VyLnBhcnNlKGUuaW1wb3J0KX0pLEN1c3RvbUVsZW1lbnRzLnJlYWR5PSEwLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtDdXN0b21FbGVtZW50cy5yZWFkeVRpbWU9RGF0ZS5ub3coKSx3aW5kb3cuSFRNTEltcG9ydHMmJihDdXN0b21FbGVtZW50cy5lbGFwc2VkPUN1c3RvbUVsZW1lbnRzLnJlYWR5VGltZS1IVE1MSW1wb3J0cy5yZWFkeVRpbWUpLGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJXZWJDb21wb25lbnRzUmVhZHkiLHtidWJibGVzOiEwfSkpfSl9aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHdpbmRvdy5DdXN0b21FdmVudCYmKHdpbmRvdy5DdXN0b21FdmVudD1mdW5jdGlvbihlLHQpe3Q9dHx8e307dmFyIG49ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkN1c3RvbUV2ZW50Iik7cmV0dXJuIG4uaW5pdEN1c3RvbUV2ZW50KGUsQm9vbGVhbih0LmJ1YmJsZXMpLEJvb2xlYW4odC5jYW5jZWxhYmxlKSx0LmRldGFpbCksbn0sd2luZG93LkN1c3RvbUV2ZW50LnByb3RvdHlwZT13aW5kb3cuRXZlbnQucHJvdG90eXBlKSwiY29tcGxldGUiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZXx8ZS5mbGFncy5lYWdlcil0KCk7ZWxzZSBpZigiaW50ZXJhY3RpdmUiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZXx8d2luZG93LmF0dGFjaEV2ZW50fHx3aW5kb3cuSFRNTEltcG9ydHMmJiF3aW5kb3cuSFRNTEltcG9ydHMucmVhZHkpe3ZhciBuPXdpbmRvdy5IVE1MSW1wb3J0cyYmIUhUTUxJbXBvcnRzLnJlYWR5PyJIVE1MSW1wb3J0c0xvYWRlZCI6IkRPTUNvbnRlbnRMb2FkZWQiO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKG4sdCl9ZWxzZSB0KCl9KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oKXtpZih3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpe3ZhciBlPVsidXBncmFkZUFsbCIsInVwZ3JhZGVTdWJ0cmVlIiwib2JzZXJ2ZURvY3VtZW50IiwidXBncmFkZURvY3VtZW50Il0sdD17fTtlLmZvckVhY2goZnVuY3Rpb24oZSl7dFtlXT1DdXN0b21FbGVtZW50c1tlXX0pLGUuZm9yRWFjaChmdW5jdGlvbihlKXtDdXN0b21FbGVtZW50c1tlXT1mdW5jdGlvbihuKXtyZXR1cm4gdFtlXSh3cmFwKG4pKX19KX19KCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoKXt3aW5kb3cuUG9seW1lcj09PW8mJih3aW5kb3cuUG9seW1lcj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcignWW91IHRyaWVkIHRvIHVzZSBwb2x5bWVyIHdpdGhvdXQgbG9hZGluZyBpdCBmaXJzdC4gVG8gbG9hZCBwb2x5bWVyLCA8bGluayByZWw9ImltcG9ydCIgaHJlZj0iY29tcG9uZW50cy9wb2x5bWVyL3BvbHltZXIuaHRtbCI+Jyl9KX1pZighd2luZG93LnBlcmZvcm1hbmNlKXt2YXIgbj1EYXRlLm5vdygpO3dpbmRvdy5wZXJmb3JtYW5jZT17bm93OmZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCktbgp9fX13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHwod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT1mdW5jdGlvbigpe3ZhciBlPXdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7cmV0dXJuIGU/ZnVuY3Rpb24odCl7cmV0dXJuIGUoZnVuY3Rpb24oKXt0KHBlcmZvcm1hbmNlLm5vdygpKX0pfTpmdW5jdGlvbihlKXtyZXR1cm4gd2luZG93LnNldFRpbWVvdXQoZSwxZTMvNjApfX0oKSksd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lfHwod2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihlKXtjbGVhclRpbWVvdXQoZSl9fSgpKTt2YXIgcj1bXSxvPWZ1bmN0aW9uKGUpeyJzdHJpbmciIT10eXBlb2YgZSYmMT09PWFyZ3VtZW50cy5sZW5ndGgmJkFycmF5LnByb3RvdHlwZS5wdXNoLmNhbGwoYXJndW1lbnRzLGRvY3VtZW50Ll9jdXJyZW50U2NyaXB0KSxyLnB1c2goYXJndW1lbnRzKX07d2luZG93LlBvbHltZXI9byxlLmNvbnN1bWVEZWNsYXJhdGlvbnM9ZnVuY3Rpb24odCl7ZS5jb25zdW1lRGVjbGFyYXRpb25zPWZ1bmN0aW9uKCl7dGhyb3ciUG9zc2libGUgYXR0ZW1wdCB0byBsb2FkIFBvbHltZXIgdHdpY2UifSx0JiZ0KHIpLHI9bnVsbH0sSFRNTEltcG9ydHMudXNlTmF0aXZlP3QoKTphZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIix0KX0od2luZG93LlBsYXRmb3JtKSxmdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7ZS50ZXh0Q29udGVudD0iYm9keSB7dHJhbnNpdGlvbjogb3BhY2l0eSBlYXNlLWluIDAuMnM7IH0gXG5ib2R5W3VucmVzb2x2ZWRdIHtvcGFjaXR5OiAwOyBkaXNwbGF5OiBibG9jazsgb3ZlcmZsb3c6IGhpZGRlbjsgcG9zaXRpb246IHJlbGF0aXZlOyB9IFxuIjt2YXIgdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJoZWFkIik7dC5pbnNlcnRCZWZvcmUoZSx0LmZpcnN0Q2hpbGQpfShQbGF0Zm9ybSksZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQpe3JldHVybiB0PXR8fFtdLHQubWFwfHwodD1bdF0pLGUuYXBwbHkodGhpcyx0Lm1hcChyKSl9ZnVuY3Rpb24gbihlLG4scil7dmFyIG87c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm47Y2FzZSAxOm89bnVsbDticmVhaztjYXNlIDI6bz1uLmFwcGx5KHRoaXMpO2JyZWFrO2RlZmF1bHQ6bz10KHIsbil9aVtlXT1vfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIGlbZV19ZnVuY3Rpb24gbyhlLG4pe0hUTUxJbXBvcnRzLndoZW5JbXBvcnRzUmVhZHkoZnVuY3Rpb24oKXt0KG4sZSl9KX12YXIgaT17fTtlLm1hcnNoYWw9cixlLm1vZHVsYXJpemU9bixlLnVzaW5nPW99KHdpbmRvdyk7Cn0se31dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewp2YXIgTGlzdGVuZXIsYWRkQXR0cmlidXRlc0FzUHJvcGVydGllcyxrbm9iLHN2Z25zLF9yZWYsX19oYXNQcm9wPXt9Lmhhc093blByb3BlcnR5LF9fZXh0ZW5kcz1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciBpIGluIGUpX19oYXNQcm9wLmNhbGwoZSxpKSYmKHRbaV09ZVtpXSk7cmV0dXJuIG4ucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQuX19zdXBlcl9fPWUucHJvdG90eXBlLHR9O3JlcXVpcmUoIi4vYm93ZXJfY29tcG9uZW50cy93ZWJjb21wb25lbnRzanMvd2ViY29tcG9uZW50cy5qcyIpLHJlcXVpcmUoIi4vYm93ZXJfY29tcG9uZW50cy9wb2ludGVyZXZlbnRzLXBvbHlmaWxsL3BvaW50ZXJldmVudHMubWluLmpzIiksc3ZnbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIixrbm9iPXt9LExpc3RlbmVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZSxuLGkscztmb3IodGhpcy5wcm94eT10LnByb3h5LHRoaXMuZXZlbnRzPXQuZXZlbnRzLHRoaXMubm9kZT10Lm5vZGUsbnVsbD09dGhpcy5ldmVudHMmJih0aGlzLmV2ZW50cz1PYmplY3Qua2V5cyh0aGlzLnByb3h5KSkscz10aGlzLmV2ZW50cyxuPTAsaT1zLmxlbmd0aDtpPm47bisrKWU9c1tuXSx0aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lcihlLHRoaXMpfXJldHVybiB0LnByb3RvdHlwZS5oYW5kbGVFdmVudD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wcm94eVt0LnR5cGVdKHQpfSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt2YXIgdCxlLG4saSxzO2ZvcihpPXRoaXMuZXZlbnRzLHM9W10sZT0wLG49aS5sZW5ndGg7bj5lO2UrKyl0PWlbZV0scy5wdXNoKHRoaXMubm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsdGhpcykpO3JldHVybiBzfSx0fSgpLGFkZEF0dHJpYnV0ZXNBc1Byb3BlcnRpZXM9ZnVuY3Rpb24odCxlKXt2YXIgbixpLHMscjtmb3Iocj1bXSxpPTAscz1lLmxlbmd0aDtzPmk7aSsrKW49ZVtpXSxyLnB1c2goZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0LmdldEF0dHJpYnV0ZShlKX0sc2V0OmZ1bmN0aW9uKG4pe3JldHVybiB0LnNldEF0dHJpYnV0ZShlLG4pfX0pfShuKSk7cmV0dXJuIHJ9LGtub2IuS25vYj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIF9yZWY9ZS5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBfX2V4dGVuZHMoZSx0KSxlLnByb3RvdHlwZS5jcmVhdGVkQ2FsbGJhY2s9ZnVuY3Rpb24oKXt2YXIgdCxlLG4saSxzLHIsbyxhLGgsdSxjLGw7Zm9yKHRoaXMuY29uc3RydWN0ZWQ9ITEsdGhpcy5zdmc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z25zLCJzdmciKSx0aGlzLnN2Zy5zZXRBdHRyaWJ1dGUoImhlaWdodCIsIjEwMCUiKSx0aGlzLnN2Zy5zZXRBdHRyaWJ1dGUoIndpZHRoIiwiMTAwJSIpLHRoaXMuc3ZnLnNldEF0dHJpYnV0ZSgidmlld0JveCIsIjAgMCAyIDIiKSx0aGlzLnN2Zy5zZXRBdHRyaWJ1dGUoInByZXNlcnZlQXNwZWN0UmF0aW8iLCJub25lIiksdGhpcy5zdmcuc2V0QXR0cmlidXRlKCJjbGFzcyIsImtub2Jqcy1rbm9iIikscz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnbnMsImRlZnMiKSx0aGlzLnN2Zy5hcHBlbmRDaGlsZChzKSxuPSgiIitNYXRoLnJhbmRvbSgpKS5zbGljZSgyKSxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmducywibWFzayIpLGUuc2V0QXR0cmlidXRlKCJpZCIsImNsaXAiK24pLGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z25zLCJyZWN0IiksaS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsIjEwMCUiKSxpLnNldEF0dHJpYnV0ZSgid2lkdGgiLCIxMDAlIiksaS5zZXRBdHRyaWJ1dGUoImZpbGwiLCJ3aGl0ZSIpLGUuYXBwZW5kQ2hpbGQoaSksdGhpcy5jbGlwUGF0aD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnbnMsInBhdGgiKSx0aGlzLmNsaXBQYXRoLnNldEF0dHJpYnV0ZSgiZmlsbCIsImJsYWNrIiksZS5hcHBlbmRDaGlsZCh0aGlzLmNsaXBQYXRoKSxzLmFwcGVuZENoaWxkKGUpLHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z25zLCJyZWN0IiksdC5zZXRBdHRyaWJ1dGUoIndpZHRoIiwiMiIpLHQuc2V0QXR0cmlidXRlKCJoZWlnaHQiLCIyIiksdC5zZXRBdHRyaWJ1dGUoImNsYXNzIiwia25vYmpzLWJnIiksdGhpcy5zdmcuYXBwZW5kQ2hpbGQodCksdGhpcy5hcmNCZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnbnMsInBhdGgiKSx0aGlzLmFyY0JnLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCJrbm9ianMtYXJjYmciKSx0aGlzLmFyY0JnLnNldEF0dHJpYnV0ZSgibWFzayIsInVybCgjY2xpcCIrbisiKSIpLHRoaXMuc3ZnLmFwcGVuZENoaWxkKHRoaXMuYXJjQmcpLHRoaXMuYXJjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmducywicGF0aCIpLHRoaXMuYXJjLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCJrbm9ianMtYXJjIiksdGhpcy5zdmcuYXBwZW5kQ2hpbGQodGhpcy5hcmMpLHRoaXMucG9pbnRlclN0YXRlPXt9LG5ldyBMaXN0ZW5lcih7cHJveHk6dGhpcyxldmVudHM6WyJwb2ludGVyZG93biJdLG5vZGU6dGhpc30pLHRoaXMuYXBwZW5kQ2hpbGQodGhpcy5zdmcpLHRoaXMuc2V0QXR0cmlidXRlKCJ0b3VjaC1hY3Rpb24iLCJub25lIiksYWRkQXR0cmlidXRlc0FzUHJvcGVydGllcyh0aGlzLFsidmFsdWUiLCJtaW4iLCJtYXgiLCJzdGFydC1hbmdsZSIsImFuZ2xlLXJhbmdlIiwiaW5uZXItcmFkaXVzIiwib3V0ZXItcmFkaXVzIiwidGhyb3ciXSksYz1bInN0YXJ0LWFuZ2xlIiwiYW5nbGUtcmFuZ2UiLCJpbm5lci1yYWRpdXMiLCJvdXRlci1yYWRpdXMiXSxvPTAsaD1jLmxlbmd0aDtoPm87bysrKXI9Y1tvXSx0aGlzWyIiK3IrIkNoYW5nZWQiXT10aGlzLnJlY2FsY0FyYztmb3IobD1bInZhbHVlIiwibWluIiwibWF4Il0sYT0wLHU9bC5sZW5ndGg7dT5hO2ErKylyPWxbYV0sdGhpc1siIityKyJDaGFuZ2VkIl09dGhpcy5yZWNhbGNWYWx1ZTtyZXR1cm4gbnVsbD09dGhpcy5taW4mJih0aGlzLm1pbj0wKSxudWxsPT10aGlzLm1heCYmKHRoaXMubWF4PTEwMCksbnVsbD09dGhpcy52YWx1ZSYmKHRoaXMudmFsdWU9NTApLG51bGw9PXRoaXNbInN0YXJ0LWFuZ2xlIl0mJih0aGlzWyJzdGFydC1hbmdsZSJdPTUvNCpNYXRoLlBJKSxudWxsPT10aGlzWyJhbmdsZS1yYW5nZSJdJiYodGhpc1siYW5nbGUtcmFuZ2UiXT0xLjUqTWF0aC5QSSksbnVsbD09dGhpc1siaW5uZXItcmFkaXVzIl0mJih0aGlzWyJpbm5lci1yYWRpdXMiXT0uNiksbnVsbD09dGhpc1sib3V0ZXItcmFkaXVzIl0mJih0aGlzWyJvdXRlci1yYWRpdXMiXT0uOSksbnVsbD09dGhpc1sidGhyb3ciXSYmKHRoaXNbInRocm93Il09MzAwKSx0aGlzLmNvbnN0cnVjdGVkPSEwLHRoaXMucmVjYWxjQXJjKCl9LGUucHJvdG90eXBlLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjaz1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4idmFsdWUiPT09dCYmK3RoaXMudmFsdWU+PSt0aGlzLm1pbiYmK3RoaXMudmFsdWU8PSt0aGlzLm1heCYmdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgiY2hhbmdlIikpLCJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzW2U9IiIrdCsiQ2hhbmdlZCJdP3RoaXNbZV0oKTp2b2lkIDB9LGUucHJvdG90eXBlLmdldElERm9yRXZlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBNb3VzZUV2ZW50PyJtb3VzZSI6InRvdWNoIn0sZS5wcm90b3R5cGUucG9pbnRlcmRvd249ZnVuY3Rpb24odCl7cmV0dXJuIHQuZGVmYXVsdFByZXZlbnRlZHx8bnVsbCE9dC5idXR0b24mJjAhPT10LmJ1dHRvbj92b2lkIDA6KHQucHJldmVudERlZmF1bHQoKSx0aGlzLnBvaW50ZXJTdGF0ZVt0aGlzLmdldElERm9yRXZlbnQodCldPXtsaXN0ZW5lcjpuZXcgTGlzdGVuZXIoe3Byb3h5OnRoaXMsZXZlbnRzOlsicG9pbnRlcm1vdmUiLCJwb2ludGVydXAiLCJwb2ludGVyY2FuY2VsIl0sbm9kZTpkb2N1bWVudH0pLGNsaWVudFg6dC5jbGllbnRYLGNsaWVudFk6dC5jbGllbnRZLHN0YXJ0VmFsOnRoaXMudmFsdWV9KX0sZS5wcm90b3R5cGUubWFrZUFyY1BhdGg9ZnVuY3Rpb24odCl7dmFyIGUsbixpLHMscixvLGEsaCx1LGMsbCxwLGQ7cmV0dXJuIGU9dGhpc1sic3RhcnQtYW5nbGUiXSxuPXRoaXNbInN0YXJ0LWFuZ2xlIl0tdCp0aGlzWyJhbmdsZS1yYW5nZSJdLGk9dGhpc1siaW5uZXItcmFkaXVzIl0sdT10aGlzWyJvdXRlci1yYWRpdXMiXSxjPTErdSpNYXRoLmNvcyhlKSxwPTEtdSpNYXRoLnNpbihlKSxzPTEraSpNYXRoLmNvcyhlKSxvPTEtaSpNYXRoLnNpbihlKSxoPWUtbj5NYXRoLlBJPzE6MCxsPTErdSpNYXRoLmNvcyhuKSxkPTEtdSpNYXRoLnNpbihuKSxyPTEraSpNYXRoLmNvcyhuKSxhPTEtaSpNYXRoLnNpbihuKSwiTSIrYysiLCIrcCsiIEEiK3UrIiwiK3UrIiAwICIraCsiLDEgIitsKyIsIitkKyIgTCIrcisiLCIrYSsiIEEiK2krIiwiK2krIiAwICIraCsiLDAgIitzKyIsIitvKyIgWiJ9LGUucHJvdG90eXBlLnJlY2FsY0FyYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdGVkPyh0aGlzLmFyY0JnLnNldEF0dHJpYnV0ZSgiZCIsdGhpcy5tYWtlQXJjUGF0aCgxKSksdGhpcy5jbGlwUGF0aC5zZXRBdHRyaWJ1dGUoImQiLHRoaXMubWFrZUFyY1BhdGgoMSkpLHRoaXMucmVjYWxjVmFsdWUoKSk6dm9pZCAwfSxlLnByb3RvdHlwZS5yZWNhbGNWYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdGVkPyh0aGlzLnZhbHVlPU1hdGgubWF4KHRoaXMubWluLE1hdGgubWluKHRoaXMubWF4LHRoaXMudmFsdWUpKSx0aGlzLmFyYy5zZXRBdHRyaWJ1dGUoImQiLHRoaXMubWFrZUFyY1BhdGgoKHRoaXMudmFsdWUtdGhpcy5taW4pLyh0aGlzLm1heC10aGlzLm1pbikpKSk6dm9pZCAwfSxlLnByb3RvdHlwZS5wb2ludGVybW92ZT1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiB0LnByZXZlbnREZWZhdWx0KCksbj10aGlzLnBvaW50ZXJTdGF0ZVt0aGlzLmdldElERm9yRXZlbnQodCldLGU9dC5jbGllbnRYLW4uY2xpZW50WCsobi5jbGllbnRZLXQuY2xpZW50WSksZSo9KHRoaXMubWF4LXRoaXMubWluKS90aGlzWyJ0aHJvdyJdLHRoaXMudmFsdWU9TWF0aC5tYXgodGhpcy5taW4sTWF0aC5taW4odGhpcy5tYXgsK24uc3RhcnRWYWwrZSkpfSxlLnByb3RvdHlwZS5wb2ludGVydXA9ZnVuY3Rpb24odCl7cmV0dXJuIHQucHJldmVudERlZmF1bHQoKSx0aGlzLnBvaW50ZXJTdGF0ZVt0aGlzLmdldElERm9yRXZlbnQodCldLmxpc3RlbmVyLnJlbW92ZSgpLGRlbGV0ZSB0aGlzLnBvaW50ZXJTdGF0ZVt0aGlzLmdldElERm9yRXZlbnQodCldfSxlLnByb3RvdHlwZS5wb2ludGVyY2FuY2VsPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBlPXRoaXMucG9pbnRlclN0YXRlW3RoaXMuZ2V0SURGb3JFdmVudCh0KV0sdGhpcy52YWx1ZT1lLnN0YXJ0VmFsLHRoaXMucG9pbnRlcnVwKHQpfSxlfShIVE1MSW5wdXRFbGVtZW50KSxkb2N1bWVudC5yZWdpc3RlcigieC1rbm9ianMta25vYiIse3Byb3RvdHlwZTprbm9iLktub2IucHJvdG90eXBlfSksbW9kdWxlLmV4cG9ydHM9a25vYjsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3V0LmpzLm1hcAoKfSx7Ii4vYm93ZXJfY29tcG9uZW50cy9wb2ludGVyZXZlbnRzLXBvbHlmaWxsL3BvaW50ZXJldmVudHMubWluLmpzIjoxLCIuL2Jvd2VyX2NvbXBvbmVudHMvd2ViY29tcG9uZW50c2pzL3dlYmNvbXBvbmVudHMuanMiOjJ9XX0se30sWzNdKQooMykKfSk7",
                "body": "IWZ1bmN0aW9uKGUpeyJvYmplY3QiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lKCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Lmtub2I9ZSgpOiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbC5rbm9iPWUoKToidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJihzZWxmLmtub2I9ZSgpKX0oZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIil9dmFyIGY9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09ImZ1bmN0aW9uIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewoidW5kZWZpbmVkIj09dHlwZW9mIFdlYWtNYXAmJiFmdW5jdGlvbigpe3ZhciBlPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSx0PURhdGUubm93KCklMWU5LG49ZnVuY3Rpb24oKXt0aGlzLm5hbWU9Il9fc3QiKygxZTkqTWF0aC5yYW5kb20oKT4+PjApKyh0KysgKyJfXyIpfTtuLnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKHQsbil7dmFyIGk9dFt0aGlzLm5hbWVdO2kmJmlbMF09PT10P2lbMV09bjplKHQsdGhpcy5uYW1lLHt2YWx1ZTpbdCxuXSx3cml0YWJsZTohMH0pfSxnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuKHQ9ZVt0aGlzLm5hbWVdKSYmdFswXT09PWU/dFsxXTp2b2lkIDB9LCJkZWxldGUiOmZ1bmN0aW9uKGUpe3RoaXMuc2V0KGUsdm9pZCAwKX19LHdpbmRvdy5XZWFrTWFwPW59KCksZnVuY3Rpb24oZSl7ZT1lfHx7fSxlLmV4dGVybmFsPWUuZXh0ZXJuYWx8fHt9O3ZhciB0PXtzaGFkb3c6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/ZS5zaGFkb3dSb290fHxlLndlYmtpdFNoYWRvd1Jvb3Q6dm9pZCAwfSxjYW5UYXJnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJkJvb2xlYW4oZS5lbGVtZW50RnJvbVBvaW50KX0sdGFyZ2V0aW5nU2hhZG93OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc2hhZG93KGUpO3JldHVybiB0aGlzLmNhblRhcmdldCh0KT90OnZvaWQgMH0sb2xkZXJTaGFkb3c6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vbGRlclNoYWRvd1Jvb3Q7aWYoIXQpe3ZhciBuPWUucXVlcnlTZWxlY3Rvcigic2hhZG93Iik7biYmKHQ9bi5vbGRlclNoYWRvd1Jvb3QpfXJldHVybiB0fSxhbGxTaGFkb3dzOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPXRoaXMuc2hhZG93KGUpO247KXQucHVzaChuKSxuPXRoaXMub2xkZXJTaGFkb3cobik7cmV0dXJuIHR9LHNlYXJjaFJvb3Q6ZnVuY3Rpb24oZSx0LG4pe2lmKGUpe3ZhciBpLHIsbz1lLmVsZW1lbnRGcm9tUG9pbnQodCxuKTtmb3Iocj10aGlzLnRhcmdldGluZ1NoYWRvdyhvKTtyOyl7aWYoaT1yLmVsZW1lbnRGcm9tUG9pbnQodCxuKSl7dmFyIHM9dGhpcy50YXJnZXRpbmdTaGFkb3coaSk7cmV0dXJuIHRoaXMuc2VhcmNoUm9vdChzLHQsbil8fGl9cj10aGlzLm9sZGVyU2hhZG93KHIpfXJldHVybiBvfX0sb3duZXI6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWU7dC5wYXJlbnROb2RlOyl0PXQucGFyZW50Tm9kZTtyZXR1cm4gdC5ub2RlVHlwZSE9Tm9kZS5ET0NVTUVOVF9OT0RFJiZ0Lm5vZGVUeXBlIT1Ob2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUmJih0PWRvY3VtZW50KSx0fSxmaW5kVGFyZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWUuY2xpZW50WCxuPWUuY2xpZW50WSxpPXRoaXMub3duZXIoZS50YXJnZXQpO3JldHVybiBpLmVsZW1lbnRGcm9tUG9pbnQodCxuKXx8KGk9ZG9jdW1lbnQpLHRoaXMuc2VhcmNoUm9vdChpLHQsbil9fTtlLnRhcmdldEZpbmRpbmc9dCxlLmZpbmRUYXJnZXQ9dC5maW5kVGFyZ2V0LmJpbmQodCksd2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbD1lfSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuImJvZHkgXl4gIit0KGUpfWZ1bmN0aW9uIHQoZSl7cmV0dXJuJ1t0b3VjaC1hY3Rpb249IicrZSsnIl0nfWZ1bmN0aW9uIG4oZSl7cmV0dXJuInsgLW1zLXRvdWNoLWFjdGlvbjogIitlKyI7IHRvdWNoLWFjdGlvbjogIitlKyI7IHRvdWNoLWFjdGlvbi1kZWxheTogbm9uZTsgfSJ9dmFyIGk9WyJub25lIiwiYXV0byIsInBhbi14IiwicGFuLXkiLHtydWxlOiJwYW4teCBwYW4teSIsc2VsZWN0b3JzOlsicGFuLXggcGFuLXkiLCJwYW4teSBwYW4teCJdfV0scj0iIjtpLmZvckVhY2goZnVuY3Rpb24oaSl7U3RyaW5nKGkpPT09aT8ocis9dChpKStuKGkpKyJcbiIscis9ZShpKStuKGkpKyJcbiIpOihyKz1pLnNlbGVjdG9ycy5tYXAodCkrbihpLnJ1bGUpKyJcbiIscis9aS5zZWxlY3RvcnMubWFwKGUpK24oaS5ydWxlKSsiXG4iKX0pO3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7by50ZXh0Q29udGVudD1yLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobyl9KCksZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIpe3I9cnx8e307dmFyIG87aWYoci5idXR0b25zfHxpKW89ci5idXR0b25zO2Vsc2Ugc3dpdGNoKHIud2hpY2gpe2Nhc2UgMTpvPTE7YnJlYWs7Y2FzZSAyOm89NDticmVhaztjYXNlIDM6bz0yO2JyZWFrO2RlZmF1bHQ6bz0wfXZhciB1O2lmKG4pdT1uZXcgTW91c2VFdmVudChlLHIpO2Vsc2V7dT1kb2N1bWVudC5jcmVhdGVFdmVudCgiTW91c2VFdmVudCIpO2Zvcih2YXIgYyxsPXt9LGg9MDtoPHMubGVuZ3RoO2grKyljPXNbaF0sbFtjXT1yW2NdfHxhW2hdO3UuaW5pdE1vdXNlRXZlbnQoZSxsLmJ1YmJsZXMsbC5jYW5jZWxhYmxlLGwudmlldyxsLmRldGFpbCxsLnNjcmVlblgsbC5zY3JlZW5ZLGwuY2xpZW50WCxsLmNsaWVudFksbC5jdHJsS2V5LGwuYWx0S2V5LGwuc2hpZnRLZXksbC5tZXRhS2V5LGwuYnV0dG9uLGwucmVsYXRlZFRhcmdldCl9dS5fX3Byb3RvX189dC5wcm90b3R5cGUsaXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHUsImJ1dHRvbnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb30sZW51bWVyYWJsZTohMH0pO3ZhciB2PTA7cmV0dXJuIHY9ci5wcmVzc3VyZT9yLnByZXNzdXJlOm8/LjU6MCxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh1LHtwb2ludGVySWQ6e3ZhbHVlOnIucG9pbnRlcklkfHwwLGVudW1lcmFibGU6ITB9LHdpZHRoOnt2YWx1ZTpyLndpZHRofHwwLGVudW1lcmFibGU6ITB9LGhlaWdodDp7dmFsdWU6ci5oZWlnaHR8fDAsZW51bWVyYWJsZTohMH0scHJlc3N1cmU6e3ZhbHVlOnYsZW51bWVyYWJsZTohMH0sdGlsdFg6e3ZhbHVlOnIudGlsdFh8fDAsZW51bWVyYWJsZTohMH0sdGlsdFk6e3ZhbHVlOnIudGlsdFl8fDAsZW51bWVyYWJsZTohMH0scG9pbnRlclR5cGU6e3ZhbHVlOnIucG9pbnRlclR5cGV8fCIiLGVudW1lcmFibGU6ITB9LGh3VGltZXN0YW1wOnt2YWx1ZTpyLmh3VGltZXN0YW1wfHwwLGVudW1lcmFibGU6ITB9LGlzUHJpbWFyeTp7dmFsdWU6ci5pc1ByaW1hcnl8fCExLGVudW1lcmFibGU6ITB9fSksdX12YXIgbj0hMSxpPSExO3RyeXt2YXIgcj1uZXcgTW91c2VFdmVudCgiY2xpY2siLHtidXR0b25zOjF9KTtuPSEwLGk9MT09PXIuYnV0dG9uc31jYXRjaChvKXt9dmFyIHM9WyJidWJibGVzIiwiY2FuY2VsYWJsZSIsInZpZXciLCJkZXRhaWwiLCJzY3JlZW5YIiwic2NyZWVuWSIsImNsaWVudFgiLCJjbGllbnRZIiwiY3RybEtleSIsImFsdEtleSIsInNoaWZ0S2V5IiwibWV0YUtleSIsImJ1dHRvbiIsInJlbGF0ZWRUYXJnZXQiXSxhPVshMSwhMSxudWxsLG51bGwsMCwwLDAsMCwhMSwhMSwhMSwhMSwwLG51bGxdO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoTW91c2VFdmVudC5wcm90b3R5cGUpLGUuUG9pbnRlckV2ZW50fHwoZS5Qb2ludGVyRXZlbnQ9dCl9KHdpbmRvdyksZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe2lmKG4pe3ZhciBlPW5ldyBNYXA7cmV0dXJuIGUucG9pbnRlcnM9aSxlfXRoaXMua2V5cz1bXSx0aGlzLnZhbHVlcz1bXX12YXIgbj13aW5kb3cuTWFwJiZ3aW5kb3cuTWFwLnByb3RvdHlwZS5mb3JFYWNoLGk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaXplfTt0LnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5rZXlzLmluZGV4T2YoZSk7bj4tMT90aGlzLnZhbHVlc1tuXT10Oih0aGlzLmtleXMucHVzaChlKSx0aGlzLnZhbHVlcy5wdXNoKHQpKX0saGFzOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmtleXMuaW5kZXhPZihlKT4tMX0sImRlbGV0ZSI6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5rZXlzLmluZGV4T2YoZSk7dD4tMSYmKHRoaXMua2V5cy5zcGxpY2UodCwxKSx0aGlzLnZhbHVlcy5zcGxpY2UodCwxKSl9LGdldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmtleXMuaW5kZXhPZihlKTtyZXR1cm4gdGhpcy52YWx1ZXNbdF19LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5rZXlzLmxlbmd0aD0wLHRoaXMudmFsdWVzLmxlbmd0aD0wfSxmb3JFYWNoOmZ1bmN0aW9uKGUsdCl7dGhpcy52YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihuLGkpe2UuY2FsbCh0LG4sdGhpcy5rZXlzW2ldLHRoaXMpfSx0aGlzKX0scG9pbnRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5rZXlzLmxlbmd0aH19LGUuUG9pbnRlck1hcD10fSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihlKXt2YXIgdD1bImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwidmlldyIsImRldGFpbCIsInNjcmVlblgiLCJzY3JlZW5ZIiwiY2xpZW50WCIsImNsaWVudFkiLCJjdHJsS2V5IiwiYWx0S2V5Iiwic2hpZnRLZXkiLCJtZXRhS2V5IiwiYnV0dG9uIiwicmVsYXRlZFRhcmdldCIsImJ1dHRvbnMiLCJwb2ludGVySWQiLCJ3aWR0aCIsImhlaWdodCIsInByZXNzdXJlIiwidGlsdFgiLCJ0aWx0WSIsInBvaW50ZXJUeXBlIiwiaHdUaW1lc3RhbXAiLCJpc1ByaW1hcnkiLCJ0eXBlIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIndoaWNoIl0sbj1bITEsITEsbnVsbCxudWxsLDAsMCwwLDAsITEsITEsITEsITEsMCxudWxsLDAsMCwwLDAsMCwwLDAsIiIsMCwhMSwiIixudWxsLG51bGwsMF0saT0idW5kZWZpbmVkIiE9dHlwZW9mIFNWR0VsZW1lbnRJbnN0YW5jZSxyPXt0YXJnZXRzOm5ldyBXZWFrTWFwLGhhbmRsZWRFdmVudHM6bmV3IFdlYWtNYXAscG9pbnRlcm1hcDpuZXcgZS5Qb2ludGVyTWFwLGV2ZW50TWFwOnt9LGV2ZW50U291cmNlczp7fSxldmVudFNvdXJjZUxpc3Q6W10scmVnaXN0ZXJTb3VyY2U6ZnVuY3Rpb24oZSx0KXt2YXIgbj10LGk9bi5ldmVudHM7aSYmKGkuZm9yRWFjaChmdW5jdGlvbihlKXtuW2VdJiYodGhpcy5ldmVudE1hcFtlXT1uW2VdLmJpbmQobikpfSx0aGlzKSx0aGlzLmV2ZW50U291cmNlc1tlXT1uLHRoaXMuZXZlbnRTb3VyY2VMaXN0LnB1c2gobikpfSxyZWdpc3RlcjpmdW5jdGlvbihlKXtmb3IodmFyIHQsbj10aGlzLmV2ZW50U291cmNlTGlzdC5sZW5ndGgsaT0wO24+aSYmKHQ9dGhpcy5ldmVudFNvdXJjZUxpc3RbaV0pO2krKyl0LnJlZ2lzdGVyLmNhbGwodCxlKX0sdW5yZWdpc3RlcjpmdW5jdGlvbihlKXtmb3IodmFyIHQsbj10aGlzLmV2ZW50U291cmNlTGlzdC5sZW5ndGgsaT0wO24+aSYmKHQ9dGhpcy5ldmVudFNvdXJjZUxpc3RbaV0pO2krKyl0LnVucmVnaXN0ZXIuY2FsbCh0LGUpfSxjb250YWluczplLmV4dGVybmFsLmNvbnRhaW5zfHxmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbnRhaW5zKHQpfSxkb3duOmZ1bmN0aW9uKGUpe2UuYnViYmxlcz0hMCx0aGlzLmZpcmVFdmVudCgicG9pbnRlcmRvd24iLGUpfSxtb3ZlOmZ1bmN0aW9uKGUpe2UuYnViYmxlcz0hMCx0aGlzLmZpcmVFdmVudCgicG9pbnRlcm1vdmUiLGUpfSx1cDpmdW5jdGlvbihlKXtlLmJ1YmJsZXM9ITAsdGhpcy5maXJlRXZlbnQoInBvaW50ZXJ1cCIsZSl9LGVudGVyOmZ1bmN0aW9uKGUpe2UuYnViYmxlcz0hMSx0aGlzLmZpcmVFdmVudCgicG9pbnRlcmVudGVyIixlKX0sbGVhdmU6ZnVuY3Rpb24oZSl7ZS5idWJibGVzPSExLHRoaXMuZmlyZUV2ZW50KCJwb2ludGVybGVhdmUiLGUpfSxvdmVyOmZ1bmN0aW9uKGUpe2UuYnViYmxlcz0hMCx0aGlzLmZpcmVFdmVudCgicG9pbnRlcm92ZXIiLGUpfSxvdXQ6ZnVuY3Rpb24oZSl7ZS5idWJibGVzPSEwLHRoaXMuZmlyZUV2ZW50KCJwb2ludGVyb3V0IixlKX0sY2FuY2VsOmZ1bmN0aW9uKGUpe2UuYnViYmxlcz0hMCx0aGlzLmZpcmVFdmVudCgicG9pbnRlcmNhbmNlbCIsZSl9LGxlYXZlT3V0OmZ1bmN0aW9uKGUpe3RoaXMub3V0KGUpLHRoaXMuY29udGFpbnMoZS50YXJnZXQsZS5yZWxhdGVkVGFyZ2V0KXx8dGhpcy5sZWF2ZShlKX0sZW50ZXJPdmVyOmZ1bmN0aW9uKGUpe3RoaXMub3ZlcihlKSx0aGlzLmNvbnRhaW5zKGUudGFyZ2V0LGUucmVsYXRlZFRhcmdldCl8fHRoaXMuZW50ZXIoZSl9LGV2ZW50SGFuZGxlcjpmdW5jdGlvbihlKXtpZighdGhpcy5oYW5kbGVkRXZlbnRzLmdldChlKSl7dmFyIHQ9ZS50eXBlLG49dGhpcy5ldmVudE1hcCYmdGhpcy5ldmVudE1hcFt0XTtuJiZuKGUpLHRoaXMuaGFuZGxlZEV2ZW50cy5zZXQoZSwhMCl9fSxsaXN0ZW46ZnVuY3Rpb24oZSx0KXt0LmZvckVhY2goZnVuY3Rpb24odCl7dGhpcy5hZGRFdmVudChlLHQpfSx0aGlzKX0sdW5saXN0ZW46ZnVuY3Rpb24oZSx0KXt0LmZvckVhY2goZnVuY3Rpb24odCl7dGhpcy5yZW1vdmVFdmVudChlLHQpfSx0aGlzKX0sYWRkRXZlbnQ6ZS5leHRlcm5hbC5hZGRFdmVudHx8ZnVuY3Rpb24oZSx0KXtlLmFkZEV2ZW50TGlzdGVuZXIodCx0aGlzLmJvdW5kSGFuZGxlcil9LHJlbW92ZUV2ZW50OmUuZXh0ZXJuYWwucmVtb3ZlRXZlbnR8fGZ1bmN0aW9uKGUsdCl7ZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsdGhpcy5ib3VuZEhhbmRsZXIpfSxtYWtlRXZlbnQ6ZnVuY3Rpb24oZSx0KXt0aGlzLmNhcHR1cmVJbmZvJiYodC5yZWxhdGVkVGFyZ2V0PW51bGwpO3ZhciBuPW5ldyBQb2ludGVyRXZlbnQoZSx0KTtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCYmKG4ucHJldmVudERlZmF1bHQ9dC5wcmV2ZW50RGVmYXVsdCksdGhpcy50YXJnZXRzLnNldChuLHRoaXMudGFyZ2V0cy5nZXQodCl8fHQudGFyZ2V0KSxufSxmaXJlRXZlbnQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLm1ha2VFdmVudChlLHQpO3JldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQobil9LGNsb25lRXZlbnQ6ZnVuY3Rpb24oZSl7Zm9yKHZhciByLG89e30scz0wO3M8dC5sZW5ndGg7cysrKXI9dFtzXSxvW3JdPWVbcl18fG5bc10sIWl8fCJ0YXJnZXQiIT09ciYmInJlbGF0ZWRUYXJnZXQiIT09cnx8b1tyXWluc3RhbmNlb2YgU1ZHRWxlbWVudEluc3RhbmNlJiYob1tyXT1vW3JdLmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KTtyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCYmKG8ucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtlLnByZXZlbnREZWZhdWx0KCl9KSxvfSxnZXRUYXJnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2FwdHVyZUluZm8mJnRoaXMuY2FwdHVyZUluZm8uaWQ9PT1lLnBvaW50ZXJJZD90aGlzLmNhcHR1cmVJbmZvLnRhcmdldDp0aGlzLnRhcmdldHMuZ2V0KGUpfSxzZXRDYXB0dXJlOmZ1bmN0aW9uKGUsdCl7dGhpcy5jYXB0dXJlSW5mbyYmdGhpcy5yZWxlYXNlQ2FwdHVyZSh0aGlzLmNhcHR1cmVJbmZvLmlkKSx0aGlzLmNhcHR1cmVJbmZvPXtpZDplLHRhcmdldDp0fTt2YXIgbj1uZXcgUG9pbnRlckV2ZW50KCJnb3Rwb2ludGVyY2FwdHVyZSIse2J1YmJsZXM6ITB9KTt0aGlzLmltcGxpY2l0UmVsZWFzZT10aGlzLnJlbGVhc2VDYXB0dXJlLmJpbmQodGhpcyxlKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVydXAiLHRoaXMuaW1wbGljaXRSZWxlYXNlKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVyY2FuY2VsIix0aGlzLmltcGxpY2l0UmVsZWFzZSksdGhpcy50YXJnZXRzLnNldChuLHQpLHRoaXMuYXN5bmNEaXNwYXRjaEV2ZW50KG4pfSxyZWxlYXNlQ2FwdHVyZTpmdW5jdGlvbihlKXtpZih0aGlzLmNhcHR1cmVJbmZvJiZ0aGlzLmNhcHR1cmVJbmZvLmlkPT09ZSl7dmFyIHQ9bmV3IFBvaW50ZXJFdmVudCgibG9zdHBvaW50ZXJjYXB0dXJlIix7YnViYmxlczohMH0pLG49dGhpcy5jYXB0dXJlSW5mby50YXJnZXQ7dGhpcy5jYXB0dXJlSW5mbz1udWxsLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJ1cCIsdGhpcy5pbXBsaWNpdFJlbGVhc2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJjYW5jZWwiLHRoaXMuaW1wbGljaXRSZWxlYXNlKSx0aGlzLnRhcmdldHMuc2V0KHQsbiksdGhpcy5hc3luY0Rpc3BhdGNoRXZlbnQodCl9fSxkaXNwYXRjaEV2ZW50OmUuZXh0ZXJuYWwuZGlzcGF0Y2hFdmVudHx8ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRUYXJnZXQoZSk7cmV0dXJuIHQ/dC5kaXNwYXRjaEV2ZW50KGUpOnZvaWQgMH0sYXN5bmNEaXNwYXRjaEV2ZW50OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQodGhpcy5kaXNwYXRjaEV2ZW50LmJpbmQodGhpcyxlKSwwKX19O3IuYm91bmRIYW5kbGVyPXIuZXZlbnRIYW5kbGVyLmJpbmQociksZS5kaXNwYXRjaGVyPXIsZS5yZWdpc3Rlcj1yLnJlZ2lzdGVyLmJpbmQociksZS51bnJlZ2lzdGVyPXIudW5yZWdpc3Rlci5iaW5kKHIpfSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCxuLGkpe3RoaXMuYWRkQ2FsbGJhY2s9ZS5iaW5kKGkpLHRoaXMucmVtb3ZlQ2FsbGJhY2s9dC5iaW5kKGkpLHRoaXMuY2hhbmdlZENhbGxiYWNrPW4uYmluZChpKSxzJiYodGhpcy5vYnNlcnZlcj1uZXcgcyh0aGlzLm11dGF0aW9uV2F0Y2hlci5iaW5kKHRoaXMpKSl9dmFyIG49QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKSxpPUFycmF5LnByb3RvdHlwZS5tYXAuY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5tYXApLHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuc2xpY2UpLG89QXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZpbHRlcikscz13aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8d2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsYT0iW3RvdWNoLWFjdGlvbl0iLHU9e3N1YnRyZWU6ITAsY2hpbGRMaXN0OiEwLGF0dHJpYnV0ZXM6ITAsYXR0cmlidXRlT2xkVmFsdWU6ITAsYXR0cmlidXRlRmlsdGVyOlsidG91Y2gtYWN0aW9uIl19O3QucHJvdG90eXBlPXt3YXRjaFN1YnRyZWU6ZnVuY3Rpb24odCl7ZS50YXJnZXRGaW5kaW5nLmNhblRhcmdldCh0KSYmdGhpcy5vYnNlcnZlci5vYnNlcnZlKHQsdSl9LGVuYWJsZU9uU3VidHJlZTpmdW5jdGlvbihlKXt0aGlzLndhdGNoU3VidHJlZShlKSxlPT09ZG9jdW1lbnQmJiJjb21wbGV0ZSIhPT1kb2N1bWVudC5yZWFkeVN0YXRlP3RoaXMuaW5zdGFsbE9uTG9hZCgpOnRoaXMuaW5zdGFsbE5ld1N1YnRyZWUoZSl9LGluc3RhbGxOZXdTdWJ0cmVlOmZ1bmN0aW9uKGUpe24odGhpcy5maW5kRWxlbWVudHMoZSksdGhpcy5hZGRFbGVtZW50LHRoaXMpfSxmaW5kRWxlbWVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucXVlcnlTZWxlY3RvckFsbD9lLnF1ZXJ5U2VsZWN0b3JBbGwoYSk6W119LHJlbW92ZUVsZW1lbnQ6ZnVuY3Rpb24oZSl7dGhpcy5yZW1vdmVDYWxsYmFjayhlKX0sYWRkRWxlbWVudDpmdW5jdGlvbihlKXt0aGlzLmFkZENhbGxiYWNrKGUpfSxlbGVtZW50Q2hhbmdlZDpmdW5jdGlvbihlLHQpe3RoaXMuY2hhbmdlZENhbGxiYWNrKGUsdCl9LGNvbmNhdExpc3RzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KHIodCkpfSxpbnN0YWxsT25Mb2FkOmZ1bmN0aW9uKCl7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsdGhpcy5pbnN0YWxsTmV3U3VidHJlZS5iaW5kKHRoaXMsZG9jdW1lbnQpKX0saXNFbGVtZW50OmZ1bmN0aW9uKGUpe3JldHVybiBlLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREV9LGZsYXR0ZW5NdXRhdGlvblRyZWU6ZnVuY3Rpb24oZSl7dmFyIHQ9aShlLHRoaXMuZmluZEVsZW1lbnRzLHRoaXMpO3JldHVybiB0LnB1c2gobyhlLHRoaXMuaXNFbGVtZW50KSksdC5yZWR1Y2UodGhpcy5jb25jYXRMaXN0cyxbXSl9LG11dGF0aW9uV2F0Y2hlcjpmdW5jdGlvbihlKXtlLmZvckVhY2godGhpcy5tdXRhdGlvbkhhbmRsZXIsdGhpcyl9LG11dGF0aW9uSGFuZGxlcjpmdW5jdGlvbihlKXtpZigiY2hpbGRMaXN0Ij09PWUudHlwZSl7dmFyIHQ9dGhpcy5mbGF0dGVuTXV0YXRpb25UcmVlKGUuYWRkZWROb2Rlcyk7dC5mb3JFYWNoKHRoaXMuYWRkRWxlbWVudCx0aGlzKTt2YXIgbj10aGlzLmZsYXR0ZW5NdXRhdGlvblRyZWUoZS5yZW1vdmVkTm9kZXMpO24uZm9yRWFjaCh0aGlzLnJlbW92ZUVsZW1lbnQsdGhpcyl9ZWxzZSJhdHRyaWJ1dGVzIj09PWUudHlwZSYmdGhpcy5lbGVtZW50Q2hhbmdlZChlLnRhcmdldCxlLm9sZFZhbHVlKX19LHN8fCh0LnByb3RvdHlwZS53YXRjaFN1YnRyZWU9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlBvaW50ZXJFdmVudHNQb2x5ZmlsbDogTXV0YXRpb25PYnNlcnZlcnMgbm90IGZvdW5kLCB0b3VjaC1hY3Rpb24gd2lsbCBub3QgYmUgZHluYW1pY2FsbHkgZGV0ZWN0ZWQiKX0pLGUuSW5zdGFsbGVyPXR9KHdpbmRvdy5Qb2ludGVyRXZlbnRzUG9seWZpbGwpLGZ1bmN0aW9uKGUpe3ZhciB0PWUuZGlzcGF0Y2hlcixuPXQucG9pbnRlcm1hcCxpPTI1LHI9e1BPSU5URVJfSUQ6MSxQT0lOVEVSX1RZUEU6Im1vdXNlIixldmVudHM6WyJtb3VzZWRvd24iLCJtb3VzZW1vdmUiLCJtb3VzZXVwIiwibW91c2VvdmVyIiwibW91c2VvdXQiXSxyZWdpc3RlcjpmdW5jdGlvbihlKXt0Lmxpc3RlbihlLHRoaXMuZXZlbnRzKX0sdW5yZWdpc3RlcjpmdW5jdGlvbihlKXt0LnVubGlzdGVuKGUsdGhpcy5ldmVudHMpfSxsYXN0VG91Y2hlczpbXSxpc0V2ZW50U2ltdWxhdGVkRnJvbVRvdWNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPXRoaXMubGFzdFRvdWNoZXMscj1lLmNsaWVudFgsbz1lLmNsaWVudFkscz0wLGE9bi5sZW5ndGg7YT5zJiYodD1uW3NdKTtzKyspe3ZhciB1PU1hdGguYWJzKHItdC54KSxjPU1hdGguYWJzKG8tdC55KTtpZihpPj11JiZpPj1jKXJldHVybiEwfX0scHJlcGFyZUV2ZW50OmZ1bmN0aW9uKGUpe3ZhciBuPXQuY2xvbmVFdmVudChlKSxpPW4ucHJldmVudERlZmF1bHQ7cmV0dXJuIG4ucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtlLnByZXZlbnREZWZhdWx0KCksaSgpfSxuLnBvaW50ZXJJZD10aGlzLlBPSU5URVJfSUQsbi5pc1ByaW1hcnk9ITAsbi5wb2ludGVyVHlwZT10aGlzLlBPSU5URVJfVFlQRSxufSxtb3VzZWRvd246ZnVuY3Rpb24oZSl7aWYoIXRoaXMuaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaChlKSl7dmFyIGk9bi5oYXModGhpcy5QT0lOVEVSX0lEKTtpJiZ0aGlzLmNhbmNlbChlKTt2YXIgcj10aGlzLnByZXBhcmVFdmVudChlKTtuLnNldCh0aGlzLlBPSU5URVJfSUQsZSksdC5kb3duKHIpfX0sbW91c2Vtb3ZlOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLmlzRXZlbnRTaW11bGF0ZWRGcm9tVG91Y2goZSkpe3ZhciBuPXRoaXMucHJlcGFyZUV2ZW50KGUpO3QubW92ZShuKX19LG1vdXNldXA6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaChlKSl7dmFyIGk9bi5nZXQodGhpcy5QT0lOVEVSX0lEKTtpZihpJiZpLmJ1dHRvbj09PWUuYnV0dG9uKXt2YXIgcj10aGlzLnByZXBhcmVFdmVudChlKTt0LnVwKHIpLHRoaXMuY2xlYW51cE1vdXNlKCl9fX0sbW91c2VvdmVyOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLmlzRXZlbnRTaW11bGF0ZWRGcm9tVG91Y2goZSkpe3ZhciBuPXRoaXMucHJlcGFyZUV2ZW50KGUpO3QuZW50ZXJPdmVyKG4pfX0sbW91c2VvdXQ6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuaXNFdmVudFNpbXVsYXRlZEZyb21Ub3VjaChlKSl7dmFyIG49dGhpcy5wcmVwYXJlRXZlbnQoZSk7dC5sZWF2ZU91dChuKX19LGNhbmNlbDpmdW5jdGlvbihlKXt2YXIgbj10aGlzLnByZXBhcmVFdmVudChlKTt0LmNhbmNlbChuKSx0aGlzLmNsZWFudXBNb3VzZSgpfSxjbGVhbnVwTW91c2U6ZnVuY3Rpb24oKXtuWyJkZWxldGUiXSh0aGlzLlBPSU5URVJfSUQpfX07ZS5tb3VzZUV2ZW50cz1yfSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihlKXt2YXIgdCxuPWUuZGlzcGF0Y2hlcixpPWUuZmluZFRhcmdldCxyPWUudGFyZ2V0RmluZGluZy5hbGxTaGFkb3dzLmJpbmQoZS50YXJnZXRGaW5kaW5nKSxvPW4ucG9pbnRlcm1hcCxzPUFycmF5LnByb3RvdHlwZS5tYXAuY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5tYXApLGE9MjUwMCx1PTIwMCxjPSJ0b3VjaC1hY3Rpb24iLGw9ITEsaD17c2Nyb2xsVHlwZTpuZXcgV2Vha01hcCxldmVudHM6WyJ0b3VjaHN0YXJ0IiwidG91Y2htb3ZlIiwidG91Y2hlbmQiLCJ0b3VjaGNhbmNlbCJdLHJlZ2lzdGVyOmZ1bmN0aW9uKGUpe2w/bi5saXN0ZW4oZSx0aGlzLmV2ZW50cyk6dC5lbmFibGVPblN1YnRyZWUoZSl9LHVucmVnaXN0ZXI6ZnVuY3Rpb24oZSl7bCYmbi51bmxpc3RlbihlLHRoaXMuZXZlbnRzKX0sZWxlbWVudEFkZGVkOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0QXR0cmlidXRlKGMpLGk9dGhpcy50b3VjaEFjdGlvblRvU2Nyb2xsVHlwZSh0KTtpJiYodGhpcy5zY3JvbGxUeXBlLnNldChlLGkpLG4ubGlzdGVuKGUsdGhpcy5ldmVudHMpLHIoZSkuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLnNjcm9sbFR5cGUuc2V0KGUsaSksbi5saXN0ZW4oZSx0aGlzLmV2ZW50cyl9LHRoaXMpKX0sZWxlbWVudFJlbW92ZWQ6ZnVuY3Rpb24oZSl7dGhpcy5zY3JvbGxUeXBlWyJkZWxldGUiXShlKSxuLnVubGlzdGVuKGUsdGhpcy5ldmVudHMpLHIoZSkuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLnNjcm9sbFR5cGVbImRlbGV0ZSJdKGUpLG4udW5saXN0ZW4oZSx0aGlzLmV2ZW50cyl9LHRoaXMpfSxlbGVtZW50Q2hhbmdlZDpmdW5jdGlvbihlLHQpe3ZhciBuPWUuZ2V0QXR0cmlidXRlKGMpLGk9dGhpcy50b3VjaEFjdGlvblRvU2Nyb2xsVHlwZShuKSxvPXRoaXMudG91Y2hBY3Rpb25Ub1Njcm9sbFR5cGUodCk7aSYmbz8odGhpcy5zY3JvbGxUeXBlLnNldChlLGkpLHIoZSkuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLnNjcm9sbFR5cGUuc2V0KGUsaSl9LHRoaXMpKTpvP3RoaXMuZWxlbWVudFJlbW92ZWQoZSk6aSYmdGhpcy5lbGVtZW50QWRkZWQoZSl9LHNjcm9sbFR5cGVzOntFTUlUVEVSOiJub25lIixYU0NST0xMRVI6InBhbi14IixZU0NST0xMRVI6InBhbi15IixTQ1JPTExFUjovXig/OnBhbi14IHBhbi15KXwoPzpwYW4teSBwYW4teCl8YXV0byQvfSx0b3VjaEFjdGlvblRvU2Nyb2xsVHlwZTpmdW5jdGlvbihlKXt2YXIgdD1lLG49dGhpcy5zY3JvbGxUeXBlcztyZXR1cm4ibm9uZSI9PT10PyJub25lIjp0PT09bi5YU0NST0xMRVI/IlgiOnQ9PT1uLllTQ1JPTExFUj8iWSI6bi5TQ1JPTExFUi5leGVjKHQpPyJYWSI6dm9pZCAwfSxQT0lOVEVSX1RZUEU6InRvdWNoIixmaXJzdFRvdWNoOm51bGwsaXNQcmltYXJ5VG91Y2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZmlyc3RUb3VjaD09PWUuaWRlbnRpZmllcn0sc2V0UHJpbWFyeVRvdWNoOmZ1bmN0aW9uKGUpeygwPT09by5wb2ludGVycygpfHwxPT09by5wb2ludGVycygpJiZvLmhhcygxKSkmJih0aGlzLmZpcnN0VG91Y2g9ZS5pZGVudGlmaWVyLHRoaXMuZmlyc3RYWT17WDplLmNsaWVudFgsWTplLmNsaWVudFl9LHRoaXMuc2Nyb2xsaW5nPSExLHRoaXMuY2FuY2VsUmVzZXRDbGlja0NvdW50KCkpfSxyZW1vdmVQcmltYXJ5UG9pbnRlcjpmdW5jdGlvbihlKXtlLmlzUHJpbWFyeSYmKHRoaXMuZmlyc3RUb3VjaD1udWxsLHRoaXMuZmlyc3RYWT1udWxsLHRoaXMucmVzZXRDbGlja0NvdW50KCkpfSxjbGlja0NvdW50OjAscmVzZXRJZDpudWxsLHJlc2V0Q2xpY2tDb3VudDpmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKCl7dGhpcy5jbGlja0NvdW50PTAsdGhpcy5yZXNldElkPW51bGx9LmJpbmQodGhpcyk7dGhpcy5yZXNldElkPXNldFRpbWVvdXQoZSx1KX0sY2FuY2VsUmVzZXRDbGlja0NvdW50OmZ1bmN0aW9uKCl7dGhpcy5yZXNldElkJiZjbGVhclRpbWVvdXQodGhpcy5yZXNldElkKX0sdG91Y2hUb1BvaW50ZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9bi5jbG9uZUV2ZW50KGUpO3JldHVybiB0LnBvaW50ZXJJZD1lLmlkZW50aWZpZXIrMix0LnRhcmdldD1pKHQpLHQuYnViYmxlcz0hMCx0LmNhbmNlbGFibGU9ITAsdC5kZXRhaWw9dGhpcy5jbGlja0NvdW50LHQuYnV0dG9uPTAsdC5idXR0b25zPTEsdC53aWR0aD1lLndlYmtpdFJhZGl1c1h8fGUucmFkaXVzWHx8MCx0LmhlaWdodD1lLndlYmtpdFJhZGl1c1l8fGUucmFkaXVzWXx8MCx0LnByZXNzdXJlPWUud2Via2l0Rm9yY2V8fGUuZm9yY2V8fC41LHQuaXNQcmltYXJ5PXRoaXMuaXNQcmltYXJ5VG91Y2goZSksdC5wb2ludGVyVHlwZT10aGlzLlBPSU5URVJfVFlQRSx0fSxwcm9jZXNzVG91Y2hlczpmdW5jdGlvbihlLHQpe3ZhciBuPWUuY2hhbmdlZFRvdWNoZXMsaT1zKG4sdGhpcy50b3VjaFRvUG9pbnRlcix0aGlzKTtpLmZvckVhY2goZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMuc2Nyb2xsaW5nPSExLHRoaXMuZmlyc3RYWT1udWxsLGUucHJldmVudERlZmF1bHQoKX19LHRoaXMpLGkuZm9yRWFjaCh0LHRoaXMpfSxzaG91bGRTY3JvbGw6ZnVuY3Rpb24oZSl7aWYodGhpcy5maXJzdFhZKXt2YXIgdCxuPXRoaXMuc2Nyb2xsVHlwZS5nZXQoZS5jdXJyZW50VGFyZ2V0KTtpZigibm9uZSI9PT1uKXQ9ITE7ZWxzZSBpZigiWFkiPT09bil0PSEwO2Vsc2V7dmFyIGk9ZS5jaGFuZ2VkVG91Y2hlc1swXSxyPW4sbz0iWSI9PT1uPyJYIjoiWSIscz1NYXRoLmFicyhpWyJjbGllbnQiK3JdLXRoaXMuZmlyc3RYWVtyXSksYT1NYXRoLmFicyhpWyJjbGllbnQiK29dLXRoaXMuZmlyc3RYWVtvXSk7dD1zPj1hfXJldHVybiB0aGlzLmZpcnN0WFk9bnVsbCx0fX0sZmluZFRvdWNoOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLGk9MCxyPWUubGVuZ3RoO3I+aSYmKG49ZVtpXSk7aSsrKWlmKG4uaWRlbnRpZmllcj09PXQpcmV0dXJuITB9LHZhY3V1bVRvdWNoZXM6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50b3VjaGVzO2lmKG8ucG9pbnRlcnMoKT49dC5sZW5ndGgpe3ZhciBuPVtdO28uZm9yRWFjaChmdW5jdGlvbihlLGkpe2lmKDEhPT1pJiYhdGhpcy5maW5kVG91Y2godCxpLTIpKXt2YXIgcj1lLm91dDtuLnB1c2godGhpcy50b3VjaFRvUG9pbnRlcihyKSl9fSx0aGlzKSxuLmZvckVhY2godGhpcy5jYW5jZWxPdXQsdGhpcyl9fSx0b3VjaHN0YXJ0OmZ1bmN0aW9uKGUpe3RoaXMudmFjdXVtVG91Y2hlcyhlKSx0aGlzLnNldFByaW1hcnlUb3VjaChlLmNoYW5nZWRUb3VjaGVzWzBdKSx0aGlzLmRlZHVwU3ludGhNb3VzZShlKSx0aGlzLnNjcm9sbGluZ3x8KHRoaXMuY2xpY2tDb3VudCsrLHRoaXMucHJvY2Vzc1RvdWNoZXMoZSx0aGlzLm92ZXJEb3duKSl9LG92ZXJEb3duOmZ1bmN0aW9uKGUpe28uc2V0KGUucG9pbnRlcklkLHt0YXJnZXQ6ZS50YXJnZXQsb3V0OmUsb3V0VGFyZ2V0OmUudGFyZ2V0fSksbi5vdmVyKGUpLG4uZW50ZXIoZSksbi5kb3duKGUpfSx0b3VjaG1vdmU6ZnVuY3Rpb24oZSl7dGhpcy5zY3JvbGxpbmd8fCh0aGlzLnNob3VsZFNjcm9sbChlKT8odGhpcy5zY3JvbGxpbmc9ITAsdGhpcy50b3VjaGNhbmNlbChlKSk6KGUucHJldmVudERlZmF1bHQoKSx0aGlzLnByb2Nlc3NUb3VjaGVzKGUsdGhpcy5tb3ZlT3Zlck91dCkpKX0sbW92ZU92ZXJPdXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZSxpPW8uZ2V0KHQucG9pbnRlcklkKTtpZihpKXt2YXIgcj1pLm91dCxzPWkub3V0VGFyZ2V0O24ubW92ZSh0KSxyJiZzIT09dC50YXJnZXQmJihyLnJlbGF0ZWRUYXJnZXQ9dC50YXJnZXQsdC5yZWxhdGVkVGFyZ2V0PXMsci50YXJnZXQ9cyx0LnRhcmdldD8obi5sZWF2ZU91dChyKSxuLmVudGVyT3Zlcih0KSk6KHQudGFyZ2V0PXMsdC5yZWxhdGVkVGFyZ2V0PW51bGwsdGhpcy5jYW5jZWxPdXQodCkpKSxpLm91dD10LGkub3V0VGFyZ2V0PXQudGFyZ2V0fX0sdG91Y2hlbmQ6ZnVuY3Rpb24oZSl7dGhpcy5kZWR1cFN5bnRoTW91c2UoZSksdGhpcy5wcm9jZXNzVG91Y2hlcyhlLHRoaXMudXBPdXQpfSx1cE91dDpmdW5jdGlvbihlKXt0aGlzLnNjcm9sbGluZ3x8KG4udXAoZSksbi5vdXQoZSksbi5sZWF2ZShlKSksdGhpcy5jbGVhblVwUG9pbnRlcihlKX0sdG91Y2hjYW5jZWw6ZnVuY3Rpb24oZSl7dGhpcy5wcm9jZXNzVG91Y2hlcyhlLHRoaXMuY2FuY2VsT3V0KX0sY2FuY2VsT3V0OmZ1bmN0aW9uKGUpe24uY2FuY2VsKGUpLG4ub3V0KGUpLG4ubGVhdmUoZSksdGhpcy5jbGVhblVwUG9pbnRlcihlKX0sY2xlYW5VcFBvaW50ZXI6ZnVuY3Rpb24oZSl7b1siZGVsZXRlIl0oZS5wb2ludGVySWQpLHRoaXMucmVtb3ZlUHJpbWFyeVBvaW50ZXIoZSl9LGRlZHVwU3ludGhNb3VzZTpmdW5jdGlvbih0KXt2YXIgbj1lLm1vdXNlRXZlbnRzLmxhc3RUb3VjaGVzLGk9dC5jaGFuZ2VkVG91Y2hlc1swXTtpZih0aGlzLmlzUHJpbWFyeVRvdWNoKGkpKXt2YXIgcj17eDppLmNsaWVudFgseTppLmNsaWVudFl9O24ucHVzaChyKTt2YXIgbz1mdW5jdGlvbihlLHQpe3ZhciBuPWUuaW5kZXhPZih0KTtuPi0xJiZlLnNwbGljZShuLDEpfS5iaW5kKG51bGwsbixyKTtzZXRUaW1lb3V0KG8sYSl9fX07bHx8KHQ9bmV3IGUuSW5zdGFsbGVyKGguZWxlbWVudEFkZGVkLGguZWxlbWVudFJlbW92ZWQsaC5lbGVtZW50Q2hhbmdlZCxoKSksZS50b3VjaEV2ZW50cz1ofSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKSxmdW5jdGlvbihlKXt2YXIgdD1lLmRpc3BhdGNoZXIsbj10LnBvaW50ZXJtYXAsaT13aW5kb3cuTVNQb2ludGVyRXZlbnQmJiJudW1iZXIiPT10eXBlb2Ygd2luZG93Lk1TUG9pbnRlckV2ZW50Lk1TUE9JTlRFUl9UWVBFX01PVVNFLHI9e2V2ZW50czpbIk1TUG9pbnRlckRvd24iLCJNU1BvaW50ZXJNb3ZlIiwiTVNQb2ludGVyVXAiLCJNU1BvaW50ZXJPdXQiLCJNU1BvaW50ZXJPdmVyIiwiTVNQb2ludGVyQ2FuY2VsIiwiTVNHb3RQb2ludGVyQ2FwdHVyZSIsIk1TTG9zdFBvaW50ZXJDYXB0dXJlIl0scmVnaXN0ZXI6ZnVuY3Rpb24oZSl7dC5saXN0ZW4oZSx0aGlzLmV2ZW50cyl9LHVucmVnaXN0ZXI6ZnVuY3Rpb24oZSl7dC51bmxpc3RlbihlLHRoaXMuZXZlbnRzKX0sUE9JTlRFUl9UWVBFUzpbIiIsInVuYXZhaWxhYmxlIiwidG91Y2giLCJwZW4iLCJtb3VzZSJdLHByZXBhcmVFdmVudDpmdW5jdGlvbihlKXt2YXIgbj1lO3JldHVybiBpJiYobj10LmNsb25lRXZlbnQoZSksbi5wb2ludGVyVHlwZT10aGlzLlBPSU5URVJfVFlQRVNbZS5wb2ludGVyVHlwZV0pLG59LGNsZWFudXA6ZnVuY3Rpb24oZSl7blsiZGVsZXRlIl0oZSl9LE1TUG9pbnRlckRvd246ZnVuY3Rpb24oZSl7bi5zZXQoZS5wb2ludGVySWQsZSk7dmFyIGk9dGhpcy5wcmVwYXJlRXZlbnQoZSk7dC5kb3duKGkpfSxNU1BvaW50ZXJNb3ZlOmZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMucHJlcGFyZUV2ZW50KGUpO3QubW92ZShuKX0sTVNQb2ludGVyVXA6ZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5wcmVwYXJlRXZlbnQoZSk7dC51cChuKSx0aGlzLmNsZWFudXAoZS5wb2ludGVySWQpfSxNU1BvaW50ZXJPdXQ6ZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5wcmVwYXJlRXZlbnQoZSk7dC5sZWF2ZU91dChuKX0sTVNQb2ludGVyT3ZlcjpmdW5jdGlvbihlKXt2YXIgbj10aGlzLnByZXBhcmVFdmVudChlKTt0LmVudGVyT3ZlcihuKX0sTVNQb2ludGVyQ2FuY2VsOmZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMucHJlcGFyZUV2ZW50KGUpO3QuY2FuY2VsKG4pLHRoaXMuY2xlYW51cChlLnBvaW50ZXJJZCl9LE1TTG9zdFBvaW50ZXJDYXB0dXJlOmZ1bmN0aW9uKGUpe3ZhciBuPXQubWFrZUV2ZW50KCJsb3N0cG9pbnRlcmNhcHR1cmUiLGUpO3QuZGlzcGF0Y2hFdmVudChuKX0sTVNHb3RQb2ludGVyQ2FwdHVyZTpmdW5jdGlvbihlKXt2YXIgbj10Lm1ha2VFdmVudCgiZ290cG9pbnRlcmNhcHR1cmUiLGUpO3QuZGlzcGF0Y2hFdmVudChuKX19O2UubXNFdmVudHM9cn0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kaXNwYXRjaGVyO2lmKHZvaWQgMD09PXdpbmRvdy5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQpe2lmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cubmF2aWdhdG9yLCJwb2ludGVyRW5hYmxlZCIse3ZhbHVlOiEwLGVudW1lcmFibGU6ITB9KSx3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpe3ZhciBuPXdpbmRvdy5uYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cztPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93Lm5hdmlnYXRvciwibWF4VG91Y2hQb2ludHMiLHt2YWx1ZTpuLGVudW1lcmFibGU6ITB9KSx0LnJlZ2lzdGVyU291cmNlKCJtcyIsZS5tc0V2ZW50cyl9ZWxzZSB0LnJlZ2lzdGVyU291cmNlKCJtb3VzZSIsZS5tb3VzZUV2ZW50cyksdm9pZCAwIT09d2luZG93Lm9udG91Y2hzdGFydCYmdC5yZWdpc3RlclNvdXJjZSgidG91Y2giLGUudG91Y2hFdmVudHMpO3QucmVnaXN0ZXIoZG9jdW1lbnQpfX0od2luZG93LlBvaW50ZXJFdmVudHNQb2x5ZmlsbCksZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtpZighci5wb2ludGVybWFwLmhhcyhlKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWRQb2ludGVySWQiKX12YXIgbixpLHI9ZS5kaXNwYXRjaGVyLG89d2luZG93Lm5hdmlnYXRvcjtvLm1zUG9pbnRlckVuYWJsZWQ/KG49ZnVuY3Rpb24oZSl7dChlKSx0aGlzLm1zU2V0UG9pbnRlckNhcHR1cmUoZSl9LGk9ZnVuY3Rpb24oZSl7dChlKSx0aGlzLm1zUmVsZWFzZVBvaW50ZXJDYXB0dXJlKGUpfSk6KG49ZnVuY3Rpb24oZSl7dChlKSxyLnNldENhcHR1cmUoZSx0aGlzKX0saT1mdW5jdGlvbihlKXt0KGUpLHIucmVsZWFzZUNhcHR1cmUoZSx0aGlzKX0pLHdpbmRvdy5FbGVtZW50JiYhRWxlbWVudC5wcm90b3R5cGUuc2V0UG9pbnRlckNhcHR1cmUmJk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEVsZW1lbnQucHJvdG90eXBlLHtzZXRQb2ludGVyQ2FwdHVyZTp7dmFsdWU6bn0scmVsZWFzZVBvaW50ZXJDYXB0dXJlOnt2YWx1ZTppfX0pfSh3aW5kb3cuUG9pbnRlckV2ZW50c1BvbHlmaWxsKTsKfSx7fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CnZhciBnbG9iYWw9dHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge307d2luZG93LlBsYXRmb3JtPXdpbmRvdy5QbGF0Zm9ybXx8e30sd2luZG93LmxvZ0ZsYWdzPXdpbmRvdy5sb2dGbGFnc3x8e30sZnVuY3Rpb24oZSl7dmFyIHQ9ZS5mbGFnc3x8e307bG9jYXRpb24uc2VhcmNoLnNsaWNlKDEpLnNwbGl0KCImIikuZm9yRWFjaChmdW5jdGlvbihlKXtlPWUuc3BsaXQoIj0iKSxlWzBdJiYodFtlWzBdXT1lWzFdfHwhMCl9KTt2YXIgbj1kb2N1bWVudC5jdXJyZW50U2NyaXB0fHxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzY3JpcHRbc3JjKj0icGxhdGZvcm0uanMiXScpO2lmKG4pZm9yKHZhciByLG89bi5hdHRyaWJ1dGVzLGk9MDtpPG8ubGVuZ3RoO2krKylyPW9baV0sInNyYyIhPT1yLm5hbWUmJih0W3IubmFtZV09ci52YWx1ZXx8ITApO3QubG9nJiZ0LmxvZy5zcGxpdCgiLCIpLmZvckVhY2goZnVuY3Rpb24oZSl7d2luZG93LmxvZ0ZsYWdzW2VdPSEwfSksdC5zaGFkb3c9dC5zaGFkb3d8fHQuc2hhZG93ZG9tfHx0LnBvbHlmaWxsLHQuc2hhZG93PSJuYXRpdmUiPT09dC5zaGFkb3c/ITE6dC5zaGFkb3d8fCFIVE1MRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdCx0LnNoYWRvdyYmZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgic2NyaXB0IikubGVuZ3RoPjEmJmNvbnNvbGUubG9nKCJXYXJuaW5nOiBwbGF0Zm9ybS5qcyBpcyBub3QgdGhlIGZpcnN0IHNjcmlwdCBvbiB0aGUgcGFnZS4gU2VlIGh0dHA6Ly93d3cucG9seW1lci1wcm9qZWN0Lm9yZy9kb2NzL3N0YXJ0L3BsYXRmb3JtLmh0bWwjc2V0dXAgZm9yIGRldGFpbHMuIiksdC5yZWdpc3RlciYmKHdpbmRvdy5DdXN0b21FbGVtZW50cz13aW5kb3cuQ3VzdG9tRWxlbWVudHN8fHtmbGFnczp7fX0sd2luZG93LkN1c3RvbUVsZW1lbnRzLmZsYWdzLnJlZ2lzdGVyPXQucmVnaXN0ZXIpLHQuaW1wb3J0cyYmKHdpbmRvdy5IVE1MSW1wb3J0cz13aW5kb3cuSFRNTEltcG9ydHN8fHtmbGFnczp7fX0sd2luZG93LkhUTUxJbXBvcnRzLmZsYWdzLmltcG9ydHM9dC5pbXBvcnRzKSxlLmZsYWdzPXR9KFBsYXRmb3JtKSwidW5kZWZpbmVkIj09dHlwZW9mIFdlYWtNYXAmJiFmdW5jdGlvbigpe3ZhciBlPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSx0PURhdGUubm93KCklMWU5LG49ZnVuY3Rpb24oKXt0aGlzLm5hbWU9Il9fc3QiKygxZTkqTWF0aC5yYW5kb20oKT4+PjApKyh0KysgKyJfXyIpfTtuLnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKHQsbil7dmFyIHI9dFt0aGlzLm5hbWVdO3JldHVybiByJiZyWzBdPT09dD9yWzFdPW46ZSh0LHRoaXMubmFtZSx7dmFsdWU6W3Qsbl0sd3JpdGFibGU6ITB9KSx0aGlzfSxnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuKHQ9ZVt0aGlzLm5hbWVdKSYmdFswXT09PWU/dFsxXTp2b2lkIDB9LCJkZWxldGUiOmZ1bmN0aW9uKGUpe3ZhciB0PWVbdGhpcy5uYW1lXTtpZighdClyZXR1cm4hMTt2YXIgbj10WzBdPT09ZTtyZXR1cm4gdFswXT10WzFdPXZvaWQgMCxufSxoYXM6ZnVuY3Rpb24oZSl7dmFyIHQ9ZVt0aGlzLm5hbWVdO3JldHVybiB0P3RbMF09PT1lOiExfX0sd2luZG93LldlYWtNYXA9bn0oKSxQbGF0Zm9ybS5mbGFncy5zaGFkb3c/KCFmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdCgpe2Z1bmN0aW9uIGUoZSl7dD1lfWlmKCJmdW5jdGlvbiIhPXR5cGVvZiBPYmplY3Qub2JzZXJ2ZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIEFycmF5Lm9ic2VydmUpcmV0dXJuITE7dmFyIHQ9W10sbj17fSxyPVtdO3JldHVybiBPYmplY3Qub2JzZXJ2ZShuLGUpLEFycmF5Lm9ic2VydmUocixlKSxuLmlkPTEsbi5pZD0yLGRlbGV0ZSBuLmlkLHIucHVzaCgxLDIpLHIubGVuZ3RoPTAsT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzKGUpLDUhPT10Lmxlbmd0aD8hMToiYWRkIiE9dFswXS50eXBlfHwidXBkYXRlIiE9dFsxXS50eXBlfHwiZGVsZXRlIiE9dFsyXS50eXBlfHwic3BsaWNlIiE9dFszXS50eXBlfHwic3BsaWNlIiE9dFs0XS50eXBlPyExOihPYmplY3QudW5vYnNlcnZlKG4sZSksQXJyYXkudW5vYnNlcnZlKHIsZSksITApfWZ1bmN0aW9uIG4oKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIGNocm9tZSYmY2hyb21lLmFwcCYmY2hyb21lLmFwcC5ydW50aW1lKXJldHVybiExO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiZuYXZpZ2F0b3IuZ2V0RGV2aWNlU3RvcmFnZSlyZXR1cm4hMTt0cnl7dmFyIGU9bmV3IEZ1bmN0aW9uKCIiLCJyZXR1cm4gdHJ1ZTsiKTtyZXR1cm4gZSgpfWNhdGNoKHQpe3JldHVybiExfX1mdW5jdGlvbiByKGUpe3JldHVybitlPT09ZT4+PjAmJiIiIT09ZX1mdW5jdGlvbiBvKGUpe3JldHVybitlfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGU9PT1PYmplY3QoZSl9ZnVuY3Rpb24gYShlLHQpe3JldHVybiBlPT09dD8wIT09ZXx8MS9lPT09MS90OkIoZSkmJkIodCk/ITA6ZSE9PWUmJnQhPT10fWZ1bmN0aW9uIHMoZSl7aWYodm9pZCAwPT09ZSlyZXR1cm4iZW9mIjt2YXIgdD1lLmNoYXJDb2RlQXQoMCk7c3dpdGNoKHQpe2Nhc2UgOTE6Y2FzZSA5MzpjYXNlIDQ2OmNhc2UgMzQ6Y2FzZSAzOTpjYXNlIDQ4OnJldHVybiBlO2Nhc2UgOTU6Y2FzZSAzNjpyZXR1cm4iaWRlbnQiO2Nhc2UgMzI6Y2FzZSA5OmNhc2UgMTA6Y2FzZSAxMzpjYXNlIDE2MDpjYXNlIDY1Mjc5OmNhc2UgODIzMjpjYXNlIDgyMzM6cmV0dXJuIndzIn1yZXR1cm4gdD49OTcmJjEyMj49dHx8dD49NjUmJjkwPj10PyJpZGVudCI6dD49NDkmJjU3Pj10PyJudW1iZXIiOiJlbHNlIn1mdW5jdGlvbiBjKCl7fWZ1bmN0aW9uIGwoZSl7ZnVuY3Rpb24gdCgpe2lmKCEocD49ZS5sZW5ndGgpKXt2YXIgdD1lW3ArMV07cmV0dXJuImluU2luZ2xlUXVvdGUiPT1oJiYiJyI9PXR8fCJpbkRvdWJsZVF1b3RlIj09aCYmJyInPT10PyhwKysscj10LGYuYXBwZW5kKCksITApOnZvaWQgMH19Zm9yKHZhciBuLHIsbyxpLGEsbCx1LGQ9W10scD0tMSxoPSJiZWZvcmVQYXRoIixmPXtwdXNoOmZ1bmN0aW9uKCl7dm9pZCAwIT09byYmKGQucHVzaChvKSxvPXZvaWQgMCl9LGFwcGVuZDpmdW5jdGlvbigpe3ZvaWQgMD09PW8/bz1yOm8rPXJ9fTtoOylpZihwKyssbj1lW3BdLCJcXCIhPW58fCF0KGgpKXtpZihpPXMobiksdT1ZW2hdLGE9dVtpXXx8dVsiZWxzZSJdfHwiZXJyb3IiLCJlcnJvciI9PWEpcmV0dXJuO2lmKGg9YVswXSxsPWZbYVsxXV18fGMscj12b2lkIDA9PT1hWzJdP246YVsyXSxsKCksImFmdGVyUGF0aCI9PT1oKXJldHVybiBkfX1mdW5jdGlvbiB1KGUpe3JldHVybiBLLnRlc3QoZSl9ZnVuY3Rpb24gZChlLHQpe2lmKHQhPT1YKXRocm93IEVycm9yKCJVc2UgUGF0aC5nZXQgdG8gcmV0cmlldmUgcGF0aCBvYmplY3RzIik7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdGhpcy5wdXNoKFN0cmluZyhlW25dKSk7VSYmdGhpcy5sZW5ndGgmJih0aGlzLmdldFZhbHVlRnJvbT10aGlzLmNvbXBpbGVkR2V0VmFsdWVGcm9tRm4oKSl9ZnVuY3Rpb24gcChlKXtpZihlIGluc3RhbmNlb2YgZClyZXR1cm4gZTtpZigobnVsbD09ZXx8MD09ZS5sZW5ndGgpJiYoZT0iIiksInN0cmluZyIhPXR5cGVvZiBlKXtpZihyKGUubGVuZ3RoKSlyZXR1cm4gbmV3IGQoZSxYKTtlPVN0cmluZyhlKX12YXIgdD0kW2VdO2lmKHQpcmV0dXJuIHQ7dmFyIG49bChlKTtpZighbilyZXR1cm4gUTt2YXIgdD1uZXcgZChuLFgpO3JldHVybiAkW2VdPXQsdH1mdW5jdGlvbiBoKGUpe3JldHVybiByKGUpPyJbIitlKyJdIjonWyInK2UucmVwbGFjZSgvIi9nLCdcXCInKSsnIl0nfWZ1bmN0aW9uIGYodCl7Zm9yKHZhciBuPTA7Sj5uJiZ0LmNoZWNrXygpOyluKys7cmV0dXJuIFcmJihlLmRpcnR5Q2hlY2tDeWNsZUNvdW50PW4pLG4+MH1mdW5jdGlvbiBtKGUpe2Zvcih2YXIgdCBpbiBlKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIG0oZS5hZGRlZCkmJm0oZS5yZW1vdmVkKSYmbShlLmNoYW5nZWQpfWZ1bmN0aW9uIHcoZSx0KXt2YXIgbj17fSxyPXt9LG89e307Zm9yKHZhciBpIGluIHQpe3ZhciBhPWVbaV07KHZvaWQgMD09PWF8fGEhPT10W2ldKSYmKGkgaW4gZT9hIT09dFtpXSYmKG9baV09YSk6cltpXT12b2lkIDApfWZvcih2YXIgaSBpbiBlKWkgaW4gdHx8KG5baV09ZVtpXSk7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoIT09dC5sZW5ndGgmJihvLmxlbmd0aD1lLmxlbmd0aCkse2FkZGVkOm4scmVtb3ZlZDpyLGNoYW5nZWQ6b319ZnVuY3Rpb24gZygpe2lmKCFldC5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBlPTA7ZTxldC5sZW5ndGg7ZSsrKWV0W2VdKCk7cmV0dXJuIGV0Lmxlbmd0aD0wLCEwfWZ1bmN0aW9uIGIoKXtmdW5jdGlvbiBlKGUpe3QmJnQuc3RhdGVfPT09aXQmJiFyJiZ0LmNoZWNrXyhlKX12YXIgdCxuLHI9ITEsbz0hMDtyZXR1cm57b3BlbjpmdW5jdGlvbihuKXtpZih0KXRocm93IEVycm9yKCJPYnNlcnZlZE9iamVjdCBpbiB1c2UiKTtvfHxPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMoZSksdD1uLG89ITF9LG9ic2VydmU6ZnVuY3Rpb24odCxyKXtuPXQscj9BcnJheS5vYnNlcnZlKG4sZSk6T2JqZWN0Lm9ic2VydmUobixlKX0sZGVsaXZlcjpmdW5jdGlvbih0KXtyPXQsT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzKGUpLHI9ITF9LGNsb3NlOmZ1bmN0aW9uKCl7dD12b2lkIDAsT2JqZWN0LnVub2JzZXJ2ZShuLGUpLG50LnB1c2godGhpcyl9fX1mdW5jdGlvbiB5KGUsdCxuKXt2YXIgcj1udC5wb3AoKXx8YigpO3JldHVybiByLm9wZW4oZSksci5vYnNlcnZlKHQsbikscn1mdW5jdGlvbiBfKCl7ZnVuY3Rpb24gZSh0LGkpe3QmJih0PT09ciYmKG9baV09ITApLHMuaW5kZXhPZih0KTwwJiYocy5wdXNoKHQpLE9iamVjdC5vYnNlcnZlKHQsbikpLGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpLGkpKX1mdW5jdGlvbiB0KGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdO2lmKG4ub2JqZWN0IT09cnx8b1tuLm5hbWVdfHwic2V0UHJvdG90eXBlIj09PW4udHlwZSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBuKG4pe2lmKCF0KG4pKXtmb3IodmFyIHIsbz0wO288YS5sZW5ndGg7bysrKXI9YVtvXSxyLnN0YXRlXz09aXQmJnIuaXRlcmF0ZU9iamVjdHNfKGUpO2Zvcih2YXIgbz0wO288YS5sZW5ndGg7bysrKXI9YVtvXSxyLnN0YXRlXz09aXQmJnIuY2hlY2tfKCl9fXZhciByLG8saT0wLGE9W10scz1bXSxjPXtvYmplY3Q6dm9pZCAwLG9iamVjdHM6cyxvcGVuOmZ1bmN0aW9uKHQsbil7cnx8KHI9bixvPXt9KSxhLnB1c2godCksaSsrLHQuaXRlcmF0ZU9iamVjdHNfKGUpfSxjbG9zZTpmdW5jdGlvbigpe2lmKGktLSwhKGk+MCkpe2Zvcih2YXIgZT0wO2U8cy5sZW5ndGg7ZSsrKU9iamVjdC51bm9ic2VydmUoc1tlXSxuKSxTLnVub2JzZXJ2ZWRDb3VudCsrO2EubGVuZ3RoPTAscy5sZW5ndGg9MCxyPXZvaWQgMCxvPXZvaWQgMCxydC5wdXNoKHRoaXMpfX19O3JldHVybiBjfWZ1bmN0aW9uIEUoZSx0KXtyZXR1cm4gWiYmWi5vYmplY3Q9PT10fHwoWj1ydC5wb3AoKXx8XygpLFoub2JqZWN0PXQpLFoub3BlbihlLHQpLFp9ZnVuY3Rpb24gUygpe3RoaXMuc3RhdGVfPW90LHRoaXMuY2FsbGJhY2tfPXZvaWQgMCx0aGlzLnRhcmdldF89dm9pZCAwLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5pZF89Y3QrK31mdW5jdGlvbiBPKGUpe1MuX2FsbE9ic2VydmVyc0NvdW50KyssdXQmJmx0LnB1c2goZSl9ZnVuY3Rpb24gVCgpe1MuX2FsbE9ic2VydmVyc0NvdW50LS19ZnVuY3Rpb24gTShlKXtTLmNhbGwodGhpcyksdGhpcy52YWx1ZV89ZSx0aGlzLm9sZE9iamVjdF89dm9pZCAwfWZ1bmN0aW9uIEMoZSl7aWYoIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgRXJyb3IoIlByb3ZpZGVkIG9iamVjdCBpcyBub3QgYW4gQXJyYXkiKTtNLmNhbGwodGhpcyxlKX1mdW5jdGlvbiBMKGUsdCl7Uy5jYWxsKHRoaXMpLHRoaXMub2JqZWN0Xz1lLHRoaXMucGF0aF89cCh0KSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDB9ZnVuY3Rpb24gTihlKXtTLmNhbGwodGhpcyksdGhpcy5yZXBvcnRDaGFuZ2VzT25PcGVuXz1lLHRoaXMudmFsdWVfPVtdLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCx0aGlzLm9ic2VydmVkXz1bXX1mdW5jdGlvbiBqKGUpe3JldHVybiBlfWZ1bmN0aW9uIEQoZSx0LG4scil7dGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy52YWx1ZV89dm9pZCAwLHRoaXMub2JzZXJ2YWJsZV89ZSx0aGlzLmdldFZhbHVlRm5fPXR8fGosdGhpcy5zZXRWYWx1ZUZuXz1ufHxqLHRoaXMuZG9udFBhc3NUaHJvdWdoU2V0Xz1yfWZ1bmN0aW9uIHgoZSx0LG4pe2Zvcih2YXIgcj17fSxvPXt9LGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIGE9dFtpXTtodFthLnR5cGVdPyhhLm5hbWUgaW4gbnx8KG5bYS5uYW1lXT1hLm9sZFZhbHVlKSwidXBkYXRlIiE9YS50eXBlJiYoImFkZCIhPWEudHlwZT9hLm5hbWUgaW4gcj8oZGVsZXRlIHJbYS5uYW1lXSxkZWxldGUgblthLm5hbWVdKTpvW2EubmFtZV09ITA6YS5uYW1lIGluIG8/ZGVsZXRlIG9bYS5uYW1lXTpyW2EubmFtZV09ITApKTooY29uc29sZS5lcnJvcigiVW5rbm93biBjaGFuZ2VSZWNvcmQgdHlwZTogIithLnR5cGUpLGNvbnNvbGUuZXJyb3IoYSkpfWZvcih2YXIgcyBpbiByKXJbc109ZVtzXTtmb3IodmFyIHMgaW4gbylvW3NdPXZvaWQgMDt2YXIgYz17fTtmb3IodmFyIHMgaW4gbilpZighKHMgaW4gcnx8cyBpbiBvKSl7dmFyIGw9ZVtzXTtuW3NdIT09bCYmKGNbc109bCl9cmV0dXJue2FkZGVkOnIscmVtb3ZlZDpvLGNoYW5nZWQ6Y319ZnVuY3Rpb24gSChlLHQsbil7cmV0dXJue2luZGV4OmUscmVtb3ZlZDp0LGFkZGVkQ291bnQ6bn19ZnVuY3Rpb24gUigpe31mdW5jdGlvbiBQKGUsdCxuLHIsbyxpKXtyZXR1cm4gZ3QuY2FsY1NwbGljZXMoZSx0LG4scixvLGkpfWZ1bmN0aW9uIEkoZSx0LG4scil7cmV0dXJuIG4+dHx8ZT5yPy0xOnQ9PW58fHI9PWU/MDpuPmU/cj50P3QtbjpyLW46dD5yP3ItZTp0LWV9ZnVuY3Rpb24gayhlLHQsbixyKXtmb3IodmFyIG89SCh0LG4sciksaT0hMSxhPTAscz0wO3M8ZS5sZW5ndGg7cysrKXt2YXIgYz1lW3NdO2lmKGMuaW5kZXgrPWEsIWkpe3ZhciBsPUkoby5pbmRleCxvLmluZGV4K28ucmVtb3ZlZC5sZW5ndGgsYy5pbmRleCxjLmluZGV4K2MuYWRkZWRDb3VudCk7aWYobD49MCl7ZS5zcGxpY2UocywxKSxzLS0sYS09Yy5hZGRlZENvdW50LWMucmVtb3ZlZC5sZW5ndGgsby5hZGRlZENvdW50Kz1jLmFkZGVkQ291bnQtbDt2YXIgdT1vLnJlbW92ZWQubGVuZ3RoK2MucmVtb3ZlZC5sZW5ndGgtbDtpZihvLmFkZGVkQ291bnR8fHUpe3ZhciBuPWMucmVtb3ZlZDtpZihvLmluZGV4PGMuaW5kZXgpe3ZhciBkPW8ucmVtb3ZlZC5zbGljZSgwLGMuaW5kZXgtby5pbmRleCk7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoZCxuKSxuPWR9aWYoby5pbmRleCtvLnJlbW92ZWQubGVuZ3RoPmMuaW5kZXgrYy5hZGRlZENvdW50KXt2YXIgcD1vLnJlbW92ZWQuc2xpY2UoYy5pbmRleCtjLmFkZGVkQ291bnQtby5pbmRleCk7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkobixwKX1vLnJlbW92ZWQ9bixjLmluZGV4PG8uaW5kZXgmJihvLmluZGV4PWMuaW5kZXgpfWVsc2UgaT0hMH1lbHNlIGlmKG8uaW5kZXg8Yy5pbmRleCl7aT0hMCxlLnNwbGljZShzLDAsbykscysrO3ZhciBoPW8uYWRkZWRDb3VudC1vLnJlbW92ZWQubGVuZ3RoO2MuaW5kZXgrPWgsYSs9aH19fWl8fGUucHVzaChvKX1mdW5jdGlvbiBBKGUsdCl7Zm9yKHZhciBuPVtdLGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIGE9dFtpXTtzd2l0Y2goYS50eXBlKXtjYXNlInNwbGljZSI6ayhuLGEuaW5kZXgsYS5yZW1vdmVkLnNsaWNlKCksYS5hZGRlZENvdW50KTticmVhaztjYXNlImFkZCI6Y2FzZSJ1cGRhdGUiOmNhc2UiZGVsZXRlIjppZighcihhLm5hbWUpKWNvbnRpbnVlO3ZhciBzPW8oYS5uYW1lKTtpZigwPnMpY29udGludWU7ayhuLHMsW2Eub2xkVmFsdWVdLDEpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcigiVW5leHBlY3RlZCByZWNvcmQgdHlwZTogIitKU09OLnN0cmluZ2lmeShhKSl9fXJldHVybiBufWZ1bmN0aW9uIEYoZSx0KXt2YXIgbj1bXTtyZXR1cm4gQShlLHQpLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIDE9PXQuYWRkZWRDb3VudCYmMT09dC5yZW1vdmVkLmxlbmd0aD92b2lkKHQucmVtb3ZlZFswXSE9PWVbdC5pbmRleF0mJm4ucHVzaCh0KSk6dm9pZChuPW4uY29uY2F0KFAoZSx0LmluZGV4LHQuaW5kZXgrdC5hZGRlZENvdW50LHQucmVtb3ZlZCwwLHQucmVtb3ZlZC5sZW5ndGgpKSl9KSxufXZhciBXPWUudGVzdGluZ0V4cG9zZUN5Y2xlQ291bnQscT10KCksVT1uKCksQj1lLk51bWJlci5pc05hTnx8ZnVuY3Rpb24odCl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiB0JiZlLmlzTmFOKHQpfSxWPSJfX3Byb3RvX18iaW57fT9mdW5jdGlvbihlKXtyZXR1cm4gZX06ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5fX3Byb3RvX187aWYoIXQpcmV0dXJuIGU7dmFyIG49T2JqZWN0LmNyZWF0ZSh0KTtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkuZm9yRWFjaChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkobix0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KSl9KSxufSxHPSJbJF9hLXpBLVpdIix6PSJbJF9hLXpBLVowLTldIixLPW5ldyBSZWdFeHAoIl4iK0crIisiK3orIiokIiksWT17YmVmb3JlUGF0aDp7d3M6WyJiZWZvcmVQYXRoIl0saWRlbnQ6WyJpbklkZW50IiwiYXBwZW5kIl0sIlsiOlsiYmVmb3JlRWxlbWVudCJdLGVvZjpbImFmdGVyUGF0aCJdfSxpblBhdGg6e3dzOlsiaW5QYXRoIl0sIi4iOlsiYmVmb3JlSWRlbnQiXSwiWyI6WyJiZWZvcmVFbGVtZW50Il0sZW9mOlsiYWZ0ZXJQYXRoIl19LGJlZm9yZUlkZW50Ont3czpbImJlZm9yZUlkZW50Il0saWRlbnQ6WyJpbklkZW50IiwiYXBwZW5kIl19LGluSWRlbnQ6e2lkZW50OlsiaW5JZGVudCIsImFwcGVuZCJdLDA6WyJpbklkZW50IiwiYXBwZW5kIl0sbnVtYmVyOlsiaW5JZGVudCIsImFwcGVuZCJdLHdzOlsiaW5QYXRoIiwicHVzaCJdLCIuIjpbImJlZm9yZUlkZW50IiwicHVzaCJdLCJbIjpbImJlZm9yZUVsZW1lbnQiLCJwdXNoIl0sZW9mOlsiYWZ0ZXJQYXRoIiwicHVzaCJdfSxiZWZvcmVFbGVtZW50Ont3czpbImJlZm9yZUVsZW1lbnQiXSwwOlsiYWZ0ZXJaZXJvIiwiYXBwZW5kIl0sbnVtYmVyOlsiaW5JbmRleCIsImFwcGVuZCJdLCInIjpbImluU2luZ2xlUXVvdGUiLCJhcHBlbmQiLCIiXSwnIic6WyJpbkRvdWJsZVF1b3RlIiwiYXBwZW5kIiwiIl19LGFmdGVyWmVybzp7d3M6WyJhZnRlckVsZW1lbnQiLCJwdXNoIl0sIl0iOlsiaW5QYXRoIiwicHVzaCJdfSxpbkluZGV4OnswOlsiaW5JbmRleCIsImFwcGVuZCJdLG51bWJlcjpbImluSW5kZXgiLCJhcHBlbmQiXSx3czpbImFmdGVyRWxlbWVudCJdLCJdIjpbImluUGF0aCIsInB1c2giXX0saW5TaW5nbGVRdW90ZTp7IiciOlsiYWZ0ZXJFbGVtZW50Il0sZW9mOlsiZXJyb3IiXSwiZWxzZSI6WyJpblNpbmdsZVF1b3RlIiwiYXBwZW5kIl19LGluRG91YmxlUXVvdGU6eyciJzpbImFmdGVyRWxlbWVudCJdLGVvZjpbImVycm9yIl0sImVsc2UiOlsiaW5Eb3VibGVRdW90ZSIsImFwcGVuZCJdfSxhZnRlckVsZW1lbnQ6e3dzOlsiYWZ0ZXJFbGVtZW50Il0sIl0iOlsiaW5QYXRoIiwicHVzaCJdfX0sWD17fSwkPXt9O2QuZ2V0PXAsZC5wcm90b3R5cGU9Vih7X19wcm90b19fOltdLHZhbGlkOiEwLHRvU3RyaW5nOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPSIiLHQ9MDt0PHRoaXMubGVuZ3RoO3QrKyl7dmFyIG49dGhpc1t0XTtlKz11KG4pP3Q/Ii4iK246bjpoKG4pfXJldHVybiBlfSxnZXRWYWx1ZUZyb206ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDx0aGlzLmxlbmd0aDt0Kyspe2lmKG51bGw9PWUpcmV0dXJuO2U9ZVt0aGlzW3RdXX1yZXR1cm4gZX0saXRlcmF0ZU9iamVjdHM6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPHRoaXMubGVuZ3RoO24rKyl7aWYobiYmKGU9ZVt0aGlzW24tMV1dKSwhaShlKSlyZXR1cm47dChlLHRoaXNbMF0pfX0sY29tcGlsZWRHZXRWYWx1ZUZyb21GbjpmdW5jdGlvbigpe3ZhciBlPSIiLHQ9Im9iaiI7ZSs9ImlmIChvYmogIT0gbnVsbCI7Zm9yKHZhciBuLHI9MDtyPHRoaXMubGVuZ3RoLTE7cisrKW49dGhpc1tyXSx0Kz11KG4pPyIuIituOmgobiksZSs9IiAmJlxuICAgICAiK3QrIiAhPSBudWxsIjtlKz0iKVxuIjt2YXIgbj10aGlzW3JdO3JldHVybiB0Kz11KG4pPyIuIituOmgobiksZSs9IiAgcmV0dXJuICIrdCsiO1xuZWxzZVxuICByZXR1cm4gdW5kZWZpbmVkOyIsbmV3IEZ1bmN0aW9uKCJvYmoiLGUpfSxzZXRWYWx1ZUZyb206ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0aGlzLmxlbmd0aC0xO24rKyl7aWYoIWkoZSkpcmV0dXJuITE7ZT1lW3RoaXNbbl1dfXJldHVybiBpKGUpPyhlW3RoaXNbbl1dPXQsITApOiExfX0pO3ZhciBRPW5ldyBkKCIiLFgpO1EudmFsaWQ9ITEsUS5nZXRWYWx1ZUZyb209US5zZXRWYWx1ZUZyb209ZnVuY3Rpb24oKXt9O3ZhciBaLEo9MWUzLGV0PVtdLHR0PXE/ZnVuY3Rpb24oKXt2YXIgZT17cGluZ1Bvbmc6ITB9LHQ9ITE7cmV0dXJuIE9iamVjdC5vYnNlcnZlKGUsZnVuY3Rpb24oKXtnKCksdD0hMX0pLGZ1bmN0aW9uKG4pe2V0LnB1c2gobiksdHx8KHQ9ITAsZS5waW5nUG9uZz0hZS5waW5nUG9uZyl9fSgpOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2V0LnB1c2goZSl9fSgpLG50PVtdLHJ0PVtdLG90PTAsaXQ9MSxhdD0yLHN0PTMsY3Q9MTtTLnByb3RvdHlwZT17b3BlbjpmdW5jdGlvbihlLHQpe2lmKHRoaXMuc3RhdGVfIT1vdCl0aHJvdyBFcnJvcigiT2JzZXJ2ZXIgaGFzIGFscmVhZHkgYmVlbiBvcGVuZWQuIik7cmV0dXJuIE8odGhpcyksdGhpcy5jYWxsYmFja189ZSx0aGlzLnRhcmdldF89dCx0aGlzLmNvbm5lY3RfKCksdGhpcy5zdGF0ZV89aXQsdGhpcy52YWx1ZV99LGNsb3NlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZV89PWl0JiYoVCh0aGlzKSx0aGlzLmRpc2Nvbm5lY3RfKCksdGhpcy52YWx1ZV89dm9pZCAwLHRoaXMuY2FsbGJhY2tfPXZvaWQgMCx0aGlzLnRhcmdldF89dm9pZCAwLHRoaXMuc3RhdGVfPWF0KX0sZGVsaXZlcjpmdW5jdGlvbigpe3RoaXMuc3RhdGVfPT1pdCYmZih0aGlzKX0scmVwb3J0XzpmdW5jdGlvbihlKXt0cnl7dGhpcy5jYWxsYmFja18uYXBwbHkodGhpcy50YXJnZXRfLGUpfWNhdGNoKHQpe1MuX2Vycm9yVGhyb3duRHVyaW5nQ2FsbGJhY2s9ITAsY29uc29sZS5lcnJvcigiRXhjZXB0aW9uIGNhdWdodCBkdXJpbmcgb2JzZXJ2ZXIgY2FsbGJhY2s6ICIrKHQuc3RhY2t8fHQpKX19LGRpc2NhcmRDaGFuZ2VzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hlY2tfKHZvaWQgMCwhMCksdGhpcy52YWx1ZV99fTt2YXIgbHQsdXQ9IXE7Uy5fYWxsT2JzZXJ2ZXJzQ291bnQ9MCx1dCYmKGx0PVtdKTt2YXIgZHQ9ITE7ZS5QbGF0Zm9ybT1lLlBsYXRmb3JtfHx7fSxlLlBsYXRmb3JtLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50PWZ1bmN0aW9uKCl7aWYoIWR0JiZ1dCl7ZHQ9ITA7dmFyIHQsbixyPTA7ZG97cisrLG49bHQsbHQ9W10sdD0hMTtmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIGk9bltvXTtpLnN0YXRlXz09aXQmJihpLmNoZWNrXygpJiYodD0hMCksbHQucHVzaChpKSl9ZygpJiYodD0hMCl9d2hpbGUoSj5yJiZ0KTtXJiYoZS5kaXJ0eUNoZWNrQ3ljbGVDb3VudD1yKSxkdD0hMX19LHV0JiYoZS5QbGF0Zm9ybS5jbGVhck9ic2VydmVycz1mdW5jdGlvbigpe2x0PVtdfSksTS5wcm90b3R5cGU9Vih7X19wcm90b19fOlMucHJvdG90eXBlLGFycmF5T2JzZXJ2ZTohMSxjb25uZWN0XzpmdW5jdGlvbigpe3E/dGhpcy5kaXJlY3RPYnNlcnZlcl89eSh0aGlzLHRoaXMudmFsdWVfLHRoaXMuYXJyYXlPYnNlcnZlKTp0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKX0sY29weU9iamVjdDpmdW5jdGlvbihlKXt2YXIgdD1BcnJheS5pc0FycmF5KGUpP1tdOnt9O2Zvcih2YXIgbiBpbiBlKXRbbl09ZVtuXTtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmKHQubGVuZ3RoPWUubGVuZ3RoKSx0fSxjaGVja186ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZihxKXtpZighZSlyZXR1cm4hMTtuPXt9LHQ9eCh0aGlzLnZhbHVlXyxlLG4pfWVsc2Ugbj10aGlzLm9sZE9iamVjdF8sdD13KHRoaXMudmFsdWVfLHRoaXMub2xkT2JqZWN0Xyk7cmV0dXJuIHYodCk/ITE6KHF8fCh0aGlzLm9sZE9iamVjdF89dGhpcy5jb3B5T2JqZWN0KHRoaXMudmFsdWVfKSksdGhpcy5yZXBvcnRfKFt0LmFkZGVkfHx7fSx0LnJlbW92ZWR8fHt9LHQuY2hhbmdlZHx8e30sZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV19XSksITApfSxkaXNjb25uZWN0XzpmdW5jdGlvbigpe3E/KHRoaXMuZGlyZWN0T2JzZXJ2ZXJfLmNsb3NlKCksdGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwKTp0aGlzLm9sZE9iamVjdF89dm9pZCAwfSxkZWxpdmVyOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZV89PWl0JiYocT90aGlzLmRpcmVjdE9ic2VydmVyXy5kZWxpdmVyKCExKTpmKHRoaXMpKX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXJlY3RPYnNlcnZlcl8/dGhpcy5kaXJlY3RPYnNlcnZlcl8uZGVsaXZlcighMCk6dGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXyksdGhpcy52YWx1ZV99fSksQy5wcm90b3R5cGU9Vih7X19wcm90b19fOk0ucHJvdG90eXBlLGFycmF5T2JzZXJ2ZTohMCxjb3B5T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiBlLnNsaWNlKCl9LGNoZWNrXzpmdW5jdGlvbihlKXt2YXIgdDtpZihxKXtpZighZSlyZXR1cm4hMTt0PUYodGhpcy52YWx1ZV8sZSl9ZWxzZSB0PVAodGhpcy52YWx1ZV8sMCx0aGlzLnZhbHVlXy5sZW5ndGgsdGhpcy5vbGRPYmplY3RfLDAsdGhpcy5vbGRPYmplY3RfLmxlbmd0aCk7cmV0dXJuIHQmJnQubGVuZ3RoPyhxfHwodGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXykpLHRoaXMucmVwb3J0XyhbdF0pLCEwKTohMX19KSxDLmFwcGx5U3BsaWNlcz1mdW5jdGlvbihlLHQsbil7bi5mb3JFYWNoKGZ1bmN0aW9uKG4pe2Zvcih2YXIgcj1bbi5pbmRleCxuLnJlbW92ZWQubGVuZ3RoXSxvPW4uaW5kZXg7bzxuLmluZGV4K24uYWRkZWRDb3VudDspci5wdXNoKHRbb10pLG8rKztBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KGUscil9KX0sTC5wcm90b3R5cGU9Vih7X19wcm90b19fOlMucHJvdG90eXBlLGdldCBwYXRoKCl7cmV0dXJuIHRoaXMucGF0aF99LGNvbm5lY3RfOmZ1bmN0aW9uKCl7cSYmKHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPUUodGhpcyx0aGlzLm9iamVjdF8pKSx0aGlzLmNoZWNrXyh2b2lkIDAsITApfSxkaXNjb25uZWN0XzpmdW5jdGlvbigpe3RoaXMudmFsdWVfPXZvaWQgMCx0aGlzLmRpcmVjdE9ic2VydmVyXyYmKHRoaXMuZGlyZWN0T2JzZXJ2ZXJfLmNsb3NlKHRoaXMpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCl9LGl0ZXJhdGVPYmplY3RzXzpmdW5jdGlvbihlKXt0aGlzLnBhdGhfLml0ZXJhdGVPYmplY3RzKHRoaXMub2JqZWN0XyxlKX0sY2hlY2tfOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy52YWx1ZV87cmV0dXJuIHRoaXMudmFsdWVfPXRoaXMucGF0aF8uZ2V0VmFsdWVGcm9tKHRoaXMub2JqZWN0XyksdHx8YSh0aGlzLnZhbHVlXyxuKT8hMToodGhpcy5yZXBvcnRfKFt0aGlzLnZhbHVlXyxuLHRoaXNdKSwhMCl9LHNldFZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMucGF0aF8mJnRoaXMucGF0aF8uc2V0VmFsdWVGcm9tKHRoaXMub2JqZWN0XyxlKX19KTt2YXIgcHQ9e307Ti5wcm90b3R5cGU9Vih7X19wcm90b19fOlMucHJvdG90eXBlLGNvbm5lY3RfOmZ1bmN0aW9uKCl7aWYocSl7Zm9yKHZhciBlLHQ9ITEsbj0wO248dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO24rPTIpaWYoZT10aGlzLm9ic2VydmVkX1tuXSxlIT09cHQpe3Q9ITA7YnJlYWt9dCYmKHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPUUodGhpcyxlKSl9dGhpcy5jaGVja18odm9pZCAwLCF0aGlzLnJlcG9ydENoYW5nZXNPbk9wZW5fKX0sZGlzY29ubmVjdF86ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHRoaXMub2JzZXJ2ZWRfLmxlbmd0aDtlKz0yKXRoaXMub2JzZXJ2ZWRfW2VdPT09cHQmJnRoaXMub2JzZXJ2ZWRfW2UrMV0uY2xvc2UoKTt0aGlzLm9ic2VydmVkXy5sZW5ndGg9MCx0aGlzLnZhbHVlXy5sZW5ndGg9MCx0aGlzLmRpcmVjdE9ic2VydmVyXyYmKHRoaXMuZGlyZWN0T2JzZXJ2ZXJfLmNsb3NlKHRoaXMpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCl9LGFkZFBhdGg6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnN0YXRlXyE9b3QmJnRoaXMuc3RhdGVfIT1zdCl0aHJvdyBFcnJvcigiQ2Fubm90IGFkZCBwYXRocyBvbmNlIHN0YXJ0ZWQuIik7dmFyIHQ9cCh0KTtpZih0aGlzLm9ic2VydmVkXy5wdXNoKGUsdCksdGhpcy5yZXBvcnRDaGFuZ2VzT25PcGVuXyl7dmFyIG49dGhpcy5vYnNlcnZlZF8ubGVuZ3RoLzItMTt0aGlzLnZhbHVlX1tuXT10LmdldFZhbHVlRnJvbShlKX19LGFkZE9ic2VydmVyOmZ1bmN0aW9uKGUpe2lmKHRoaXMuc3RhdGVfIT1vdCYmdGhpcy5zdGF0ZV8hPXN0KXRocm93IEVycm9yKCJDYW5ub3QgYWRkIG9ic2VydmVycyBvbmNlIHN0YXJ0ZWQuIik7aWYodGhpcy5vYnNlcnZlZF8ucHVzaChwdCxlKSx0aGlzLnJlcG9ydENoYW5nZXNPbk9wZW5fKXt2YXIgdD10aGlzLm9ic2VydmVkXy5sZW5ndGgvMi0xO3RoaXMudmFsdWVfW3RdPWUub3Blbih0aGlzLmRlbGl2ZXIsdGhpcyl9fSxzdGFydFJlc2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5zdGF0ZV8hPWl0KXRocm93IEVycm9yKCJDYW4gb25seSByZXNldCB3aGlsZSBvcGVuIik7dGhpcy5zdGF0ZV89c3QsdGhpcy5kaXNjb25uZWN0XygpfSxmaW5pc2hSZXNldDpmdW5jdGlvbigpe2lmKHRoaXMuc3RhdGVfIT1zdCl0aHJvdyBFcnJvcigiQ2FuIG9ubHkgZmluaXNoUmVzZXQgYWZ0ZXIgc3RhcnRSZXNldCIpO3JldHVybiB0aGlzLnN0YXRlXz1pdCx0aGlzLmNvbm5lY3RfKCksdGhpcy52YWx1ZV99LGl0ZXJhdGVPYmplY3RzXzpmdW5jdGlvbihlKXtmb3IodmFyIHQsbj0wO248dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO24rPTIpdD10aGlzLm9ic2VydmVkX1tuXSx0IT09cHQmJnRoaXMub2JzZXJ2ZWRfW24rMV0uaXRlcmF0ZU9iamVjdHModCxlKX0sY2hlY2tfOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHI9MDtyPHRoaXMub2JzZXJ2ZWRfLmxlbmd0aDtyKz0yKXt2YXIgbyxpPXRoaXMub2JzZXJ2ZWRfW3JdLHM9dGhpcy5vYnNlcnZlZF9bcisxXTtpZihpPT09cHQpe3ZhciBjPXM7bz10aGlzLnN0YXRlXz09PW90P2Mub3Blbih0aGlzLmRlbGl2ZXIsdGhpcyk6Yy5kaXNjYXJkQ2hhbmdlcygpfWVsc2Ugbz1zLmdldFZhbHVlRnJvbShpKTt0P3RoaXMudmFsdWVfW3IvMl09bzphKG8sdGhpcy52YWx1ZV9bci8yXSl8fChuPW58fFtdLG5bci8yXT10aGlzLnZhbHVlX1tyLzJdLHRoaXMudmFsdWVfW3IvMl09byl9cmV0dXJuIG4/KHRoaXMucmVwb3J0XyhbdGhpcy52YWx1ZV8sbix0aGlzLm9ic2VydmVkX10pLCEwKTohMX19KSxELnByb3RvdHlwZT17b3BlbjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmNhbGxiYWNrXz1lLHRoaXMudGFyZ2V0Xz10LHRoaXMudmFsdWVfPXRoaXMuZ2V0VmFsdWVGbl8odGhpcy5vYnNlcnZhYmxlXy5vcGVuKHRoaXMub2JzZXJ2ZWRDYWxsYmFja18sdGhpcykpLHRoaXMudmFsdWVffSxvYnNlcnZlZENhbGxiYWNrXzpmdW5jdGlvbihlKXtpZihlPXRoaXMuZ2V0VmFsdWVGbl8oZSksIWEoZSx0aGlzLnZhbHVlXykpe3ZhciB0PXRoaXMudmFsdWVfO3RoaXMudmFsdWVfPWUsdGhpcy5jYWxsYmFja18uY2FsbCh0aGlzLnRhcmdldF8sdGhpcy52YWx1ZV8sdCl9fSxkaXNjYXJkQ2hhbmdlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlXz10aGlzLmdldFZhbHVlRm5fKHRoaXMub2JzZXJ2YWJsZV8uZGlzY2FyZENoYW5nZXMoKSksdGhpcy52YWx1ZV99LGRlbGl2ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vYnNlcnZhYmxlXy5kZWxpdmVyKCl9LHNldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlPXRoaXMuc2V0VmFsdWVGbl8oZSksIXRoaXMuZG9udFBhc3NUaHJvdWdoU2V0XyYmdGhpcy5vYnNlcnZhYmxlXy5zZXRWYWx1ZT90aGlzLm9ic2VydmFibGVfLnNldFZhbHVlKGUpOnZvaWQgMH0sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLm9ic2VydmFibGVfJiZ0aGlzLm9ic2VydmFibGVfLmNsb3NlKCksdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy5vYnNlcnZhYmxlXz12b2lkIDAsdGhpcy52YWx1ZV89dm9pZCAwLHRoaXMuZ2V0VmFsdWVGbl89dm9pZCAwLHRoaXMuc2V0VmFsdWVGbl89dm9pZCAwfX07dmFyIGh0PXthZGQ6ITAsdXBkYXRlOiEwLCJkZWxldGUiOiEwfSxmdD0wLG10PTEsdnQ9Mix3dD0zO1IucHJvdG90eXBlPXtjYWxjRWRpdERpc3RhbmNlczpmdW5jdGlvbihlLHQsbixyLG8saSl7Zm9yKHZhciBhPWktbysxLHM9bi10KzEsYz1uZXcgQXJyYXkoYSksbD0wO2E+bDtsKyspY1tsXT1uZXcgQXJyYXkocyksY1tsXVswXT1sO2Zvcih2YXIgdT0wO3M+dTt1KyspY1swXVt1XT11O2Zvcih2YXIgbD0xO2E+bDtsKyspZm9yKHZhciB1PTE7cz51O3UrKylpZih0aGlzLmVxdWFscyhlW3QrdS0xXSxyW28rbC0xXSkpY1tsXVt1XT1jW2wtMV1bdS0xXTtlbHNle3ZhciBkPWNbbC0xXVt1XSsxLHA9Y1tsXVt1LTFdKzE7Y1tsXVt1XT1wPmQ/ZDpwfXJldHVybiBjfSxzcGxpY2VPcGVyYXRpb25zRnJvbUVkaXREaXN0YW5jZXM6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUubGVuZ3RoLTEsbj1lWzBdLmxlbmd0aC0xLHI9ZVt0XVtuXSxvPVtdO3Q+MHx8bj4wOylpZigwIT10KWlmKDAhPW4pe3ZhciBpLGE9ZVt0LTFdW24tMV0scz1lW3QtMV1bbl0sYz1lW3RdW24tMV07aT1jPnM/YT5zP3M6YTphPmM/YzphLGk9PWE/KGE9PXI/by5wdXNoKGZ0KTooby5wdXNoKG10KSxyPWEpLHQtLSxuLS0pOmk9PXM/KG8ucHVzaCh3dCksdC0tLHI9cyk6KG8ucHVzaCh2dCksbi0tLHI9Yyl9ZWxzZSBvLnB1c2god3QpLHQtLTtlbHNlIG8ucHVzaCh2dCksbi0tO3JldHVybiBvLnJldmVyc2UoKSxvfSxjYWxjU3BsaWNlczpmdW5jdGlvbihlLHQsbixyLG8saSl7dmFyIGE9MCxzPTAsYz1NYXRoLm1pbihuLXQsaS1vKTtpZigwPT10JiYwPT1vJiYoYT10aGlzLnNoYXJlZFByZWZpeChlLHIsYykpLG49PWUubGVuZ3RoJiZpPT1yLmxlbmd0aCYmKHM9dGhpcy5zaGFyZWRTdWZmaXgoZSxyLGMtYSkpLHQrPWEsbys9YSxuLT1zLGktPXMsbi10PT0wJiZpLW89PTApcmV0dXJuW107aWYodD09bil7Zm9yKHZhciBsPUgodCxbXSwwKTtpPm87KWwucmVtb3ZlZC5wdXNoKHJbbysrXSk7cmV0dXJuW2xdfWlmKG89PWkpcmV0dXJuW0godCxbXSxuLXQpXTtmb3IodmFyIHU9dGhpcy5zcGxpY2VPcGVyYXRpb25zRnJvbUVkaXREaXN0YW5jZXModGhpcy5jYWxjRWRpdERpc3RhbmNlcyhlLHQsbixyLG8saSkpLGw9dm9pZCAwLGQ9W10scD10LGg9byxmPTA7Zjx1Lmxlbmd0aDtmKyspc3dpdGNoKHVbZl0pe2Nhc2UgZnQ6bCYmKGQucHVzaChsKSxsPXZvaWQgMCkscCsrLGgrKzticmVhaztjYXNlIG10Omx8fChsPUgocCxbXSwwKSksbC5hZGRlZENvdW50KysscCsrLGwucmVtb3ZlZC5wdXNoKHJbaF0pLGgrKzticmVhaztjYXNlIHZ0Omx8fChsPUgocCxbXSwwKSksbC5hZGRlZENvdW50KysscCsrO2JyZWFrO2Nhc2Ugd3Q6bHx8KGw9SChwLFtdLDApKSxsLnJlbW92ZWQucHVzaChyW2hdKSxoKyt9cmV0dXJuIGwmJmQucHVzaChsKSxkfSxzaGFyZWRQcmVmaXg6ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj0wO24+cjtyKyspaWYoIXRoaXMuZXF1YWxzKGVbcl0sdFtyXSkpcmV0dXJuIHI7cmV0dXJuIG59LHNoYXJlZFN1ZmZpeDpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPWUubGVuZ3RoLG89dC5sZW5ndGgsaT0wO24+aSYmdGhpcy5lcXVhbHMoZVstLXJdLHRbLS1vXSk7KWkrKztyZXR1cm4gaX0sY2FsY3VsYXRlU3BsaWNlczpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmNhbGNTcGxpY2VzKGUsMCxlLmxlbmd0aCx0LDAsdC5sZW5ndGgpfSxlcXVhbHM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXR9fTt2YXIgZ3Q9bmV3IFI7ZS5PYnNlcnZlcj1TLGUuT2JzZXJ2ZXIucnVuRU9NXz10dCxlLk9ic2VydmVyLm9ic2VydmVyU2VudGluZWxfPXB0LGUuT2JzZXJ2ZXIuaGFzT2JqZWN0T2JzZXJ2ZT1xLGUuQXJyYXlPYnNlcnZlcj1DLGUuQXJyYXlPYnNlcnZlci5jYWxjdWxhdGVTcGxpY2VzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGd0LmNhbGN1bGF0ZVNwbGljZXMoZSx0KX0sZS5BcnJheVNwbGljZT1SLGUuT2JqZWN0T2JzZXJ2ZXI9TSxlLlBhdGhPYnNlcnZlcj1MLGUuQ29tcG91bmRPYnNlcnZlcj1OLGUuUGF0aD1kLGUuT2JzZXJ2ZXJUcmFuc2Zvcm09RH0oInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWwmJmdsb2JhbCYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZT9nbG9iYWw6dGhpc3x8d2luZG93KSx3aW5kb3cuU2hhZG93RE9NUG9seWZpbGw9e30sZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIGNocm9tZSYmY2hyb21lLmFwcCYmY2hyb21lLmFwcC5ydW50aW1lKXJldHVybiExO2lmKG5hdmlnYXRvci5nZXREZXZpY2VTdG9yYWdlKXJldHVybiExO3RyeXt2YXIgZT1uZXcgRnVuY3Rpb24oInJldHVybiB0cnVlOyIpO3JldHVybiBlKCl9Y2F0Y2godCl7cmV0dXJuITF9fWZ1bmN0aW9uIG4oZSl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJBc3NlcnRpb24gZmFpbGVkIil9ZnVuY3Rpb24gcihlLHQpe2Zvcih2YXIgbj1GKHQpLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89bltyXTtBKGUsbyxXKHQsbykpfXJldHVybiBlfWZ1bmN0aW9uIG8oZSx0KXtmb3IodmFyIG49Rih0KSxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBvPW5bcl07c3dpdGNoKG8pe2Nhc2UiYXJndW1lbnRzIjpjYXNlImNhbGxlciI6Y2FzZSJsZW5ndGgiOmNhc2UibmFtZSI6Y2FzZSJwcm90b3R5cGUiOmNhc2UidG9TdHJpbmciOmNvbnRpbnVlfUEoZSxvLFcodCxvKSl9cmV0dXJuIGV9ZnVuY3Rpb24gaShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKHRbbl1pbiBlKXJldHVybiB0W25dfWZ1bmN0aW9uIGEoZSx0LG4pe3EudmFsdWU9bixBKGUsdCxxKX1mdW5jdGlvbiBzKGUpe3ZhciB0PWUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSksbj1SLmdldCh0KTtpZihuKXJldHVybiBuO3ZhciByPXModCksbz1fKHIpO3JldHVybiBnKHQsbyxlKSxvfWZ1bmN0aW9uIGMoZSx0KXt2KGUsdCwhMCl9ZnVuY3Rpb24gbChlLHQpe3YodCxlLCExKX1mdW5jdGlvbiB1KGUpe3JldHVybi9eb25bYS16XSskLy50ZXN0KGUpfWZ1bmN0aW9uIGQoZSl7cmV0dXJuL15cd1thLXpBLVpfMC05XSokLy50ZXN0KGUpfWZ1bmN0aW9uIHAoZSl7cmV0dXJuIGsmJmQoZSk/bmV3IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcy5fX2ltcGw0Y2YxZTc4MmhnX18uIitlKTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9faW1wbDRjZjFlNzgyaGdfX1tlXX19ZnVuY3Rpb24gaChlKXtyZXR1cm4gayYmZChlKT9uZXcgRnVuY3Rpb24oInYiLCJ0aGlzLl9faW1wbDRjZjFlNzgyaGdfXy4iK2UrIiA9IHYiKTpmdW5jdGlvbih0KXt0aGlzLl9faW1wbDRjZjFlNzgyaGdfX1tlXT10fX1mdW5jdGlvbiBmKGUpe3JldHVybiBrJiZkKGUpP25ldyBGdW5jdGlvbigicmV0dXJuIHRoaXMuX19pbXBsNGNmMWU3ODJoZ19fLiIrZSsiLmFwcGx5KHRoaXMuX19pbXBsNGNmMWU3ODJoZ19fLCBhcmd1bWVudHMpIik6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX2ltcGw0Y2YxZTc4MmhnX19bZV0uYXBwbHkodGhpcy5fX2ltcGw0Y2YxZTc4MmhnX18sYXJndW1lbnRzKX19ZnVuY3Rpb24gbShlLHQpe3RyeXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpfWNhdGNoKG4pe3JldHVybiBCfX1mdW5jdGlvbiB2KHQsbixyKXtmb3IodmFyIG89Rih0KSxpPTA7aTxvLmxlbmd0aDtpKyspe3ZhciBhPW9baV07aWYoInBvbHltZXJCbGFja0xpc3RfIiE9PWEmJiEoYSBpbiBufHx0LnBvbHltZXJCbGFja0xpc3RfJiZ0LnBvbHltZXJCbGFja0xpc3RfW2FdKSl7VSYmdC5fX2xvb2t1cEdldHRlcl9fKGEpO3ZhciBzLGMsbD1tKHQsYSk7aWYociYmImZ1bmN0aW9uIj09dHlwZW9mIGwudmFsdWUpblthXT1mKGEpO2Vsc2V7dmFyIGQ9dShhKTtzPWQ/ZS5nZXRFdmVudEhhbmRsZXJHZXR0ZXIoYSk6cChhKSwobC53cml0YWJsZXx8bC5zZXR8fFYpJiYoYz1kP2UuZ2V0RXZlbnRIYW5kbGVyU2V0dGVyKGEpOmgoYSkpLEEobixhLHtnZXQ6cyxzZXQ6Yyxjb25maWd1cmFibGU6bC5jb25maWd1cmFibGUsZW51bWVyYWJsZTpsLmVudW1lcmFibGV9KX19fX1mdW5jdGlvbiB3KGUsdCxuKXt2YXIgcj1lLnByb3RvdHlwZTtnKHIsdCxuKSxvKHQsZSl9ZnVuY3Rpb24gZyhlLHQscil7dmFyIG89dC5wcm90b3R5cGU7bih2b2lkIDA9PT1SLmdldChlKSksUi5zZXQoZSx0KSxQLnNldChvLGUpLGMoZSxvKSxyJiZsKG8sciksYShvLCJjb25zdHJ1Y3RvciIsdCksdC5wcm90b3R5cGU9b31mdW5jdGlvbiBiKGUsdCl7cmV0dXJuIFIuZ2V0KHQucHJvdG90eXBlKT09PWV9ZnVuY3Rpb24geShlKXt2YXIgdD1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSksbj1zKHQpLHI9XyhuKTtyZXR1cm4gZyh0LHIsZSkscn1mdW5jdGlvbiBfKGUpe2Z1bmN0aW9uIHQodCl7ZS5jYWxsKHRoaXMsdCl9dmFyIG49T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSk7cmV0dXJuIG4uY29uc3RydWN0b3I9dCx0LnByb3RvdHlwZT1uLHR9ZnVuY3Rpb24gRShlKXtyZXR1cm4gZSYmZS5fX2ltcGw0Y2YxZTc4MmhnX199ZnVuY3Rpb24gUyhlKXtyZXR1cm4hRShlKX1mdW5jdGlvbiBPKGUpe3JldHVybiBudWxsPT09ZT9udWxsOihuKFMoZSkpLGUuX193cmFwcGVyOGUzZGQ5M2E2MF9ffHwoZS5fX3dyYXBwZXI4ZTNkZDkzYTYwX189bmV3KHMoZSkpKGUpKSl9ZnVuY3Rpb24gVChlKXtyZXR1cm4gbnVsbD09PWU/bnVsbDoobihFKGUpKSxlLl9faW1wbDRjZjFlNzgyaGdfXyl9ZnVuY3Rpb24gTShlKXtyZXR1cm4gZS5fX2ltcGw0Y2YxZTc4MmhnX199ZnVuY3Rpb24gQyhlLHQpe3QuX19pbXBsNGNmMWU3ODJoZ19fPWUsZS5fX3dyYXBwZXI4ZTNkZDkzYTYwX189dH1mdW5jdGlvbiBMKGUpe3JldHVybiBlJiZFKGUpP1QoZSk6ZX1mdW5jdGlvbiBOKGUpe3JldHVybiBlJiYhRShlKT9PKGUpOmV9ZnVuY3Rpb24gaihlLHQpe251bGwhPT10JiYobihTKGUpKSxuKHZvaWQgMD09PXR8fEUodCkpLGUuX193cmFwcGVyOGUzZGQ5M2E2MF9fPXQpfWZ1bmN0aW9uIEQoZSx0LG4pe0cuZ2V0PW4sQShlLnByb3RvdHlwZSx0LEcpfWZ1bmN0aW9uIHgoZSx0KXtEKGUsdCxmdW5jdGlvbigpe3JldHVybiBPKHRoaXMuX19pbXBsNGNmMWU3ODJoZ19fW3RdKX0pfWZ1bmN0aW9uIEgoZSx0KXtlLmZvckVhY2goZnVuY3Rpb24oZSl7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UucHJvdG90eXBlW3RdPWZ1bmN0aW9uKCl7dmFyIGU9Tih0aGlzKTtyZXR1cm4gZVt0XS5hcHBseShlLGFyZ3VtZW50cyl9fSl9KX12YXIgUj1uZXcgV2Vha01hcCxQPW5ldyBXZWFrTWFwLEk9T2JqZWN0LmNyZWF0ZShudWxsKSxrPXQoKSxBPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxGPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLFc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixxPXt2YWx1ZTp2b2lkIDAsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITB9O0Yod2luZG93KTt2YXIgVT0vRmlyZWZveC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxCPXtnZXQ6ZnVuY3Rpb24oKXt9LHNldDpmdW5jdGlvbigpe30sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9LFY9ZnVuY3Rpb24oKXt2YXIgZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE5vZGUucHJvdG90eXBlLCJub2RlVHlwZSIpO3JldHVybiEhZSYmInNldCJpbiBlfSgpLEc9e2dldDp2b2lkIDAsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9O2UuYXNzZXJ0PW4sZS5jb25zdHJ1Y3RvclRhYmxlPVIsZS5kZWZpbmVHZXR0ZXI9RCxlLmRlZmluZVdyYXBHZXR0ZXI9eCxlLmZvcndhcmRNZXRob2RzVG9XcmFwcGVyPUgsZS5pc1dyYXBwZXI9RSxlLmlzV3JhcHBlckZvcj1iLGUubWl4aW49cixlLm5hdGl2ZVByb3RvdHlwZVRhYmxlPVAsZS5vbmVPZj1pLGUucmVnaXN0ZXJPYmplY3Q9eSxlLnJlZ2lzdGVyV3JhcHBlcj13LGUucmV3cmFwPWosZS5zZXRXcmFwcGVyPUMsZS51bnNhZmVVbndyYXA9TSxlLnVud3JhcD1ULGUudW53cmFwSWZOZWVkZWQ9TCxlLndyYXA9TyxlLndyYXBJZk5lZWRlZD1OLGUud3JhcHBlcnM9SX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdCgpe2E9ITE7dmFyIGU9aS5zbGljZSgwKTtpPVtdO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKWVbdF0oKX1mdW5jdGlvbiBuKGUpe2kucHVzaChlKSxhfHwoYT0hMCxyKHQsMCkpfXZhciByLG89d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIsaT1bXSxhPSExO2lmKG8pe3ZhciBzPTEsYz1uZXcgbyh0KSxsPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHMpO2Mub2JzZXJ2ZShsLHtjaGFyYWN0ZXJEYXRhOiEwfSkscj1mdW5jdGlvbigpe3M9KHMrMSklMixsLmRhdGE9c319ZWxzZSByPXdpbmRvdy5zZXRJbW1lZGlhdGV8fHdpbmRvdy5zZXRUaW1lb3V0O2Uuc2V0RW5kT2ZNaWNyb3Rhc2s9bn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtlLnNjaGVkdWxlZF98fChlLnNjaGVkdWxlZF89ITAsZi5wdXNoKGUpLG18fCh1KG4pLG09ITApKX1mdW5jdGlvbiBuKCl7Zm9yKG09ITE7Zi5sZW5ndGg7KXt2YXIgZT1mO2Y9W10sZS5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudWlkXy10LnVpZF99KTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIG49ZVt0XTtuLnNjaGVkdWxlZF89ITE7dmFyIHI9bi50YWtlUmVjb3JkcygpO2kobiksci5sZW5ndGgmJm4uY2FsbGJhY2tfKHIsbil9fX1mdW5jdGlvbiByKGUsdCl7dGhpcy50eXBlPWUsdGhpcy50YXJnZXQ9dCx0aGlzLmFkZGVkTm9kZXM9bmV3IHAuTm9kZUxpc3QsdGhpcy5yZW1vdmVkTm9kZXM9bmV3IHAuTm9kZUxpc3QsdGhpcy5wcmV2aW91c1NpYmxpbmc9bnVsbCx0aGlzLm5leHRTaWJsaW5nPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lc3BhY2U9bnVsbCx0aGlzLm9sZFZhbHVlPW51bGx9ZnVuY3Rpb24gbyhlLHQpe2Zvcig7ZTtlPWUucGFyZW50Tm9kZSl7dmFyIG49aC5nZXQoZSk7aWYobilmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89bltyXTtvLm9wdGlvbnMuc3VidHJlZSYmby5hZGRUcmFuc2llbnRPYnNlcnZlcih0KX19fWZ1bmN0aW9uIGkoZSl7Zm9yKHZhciB0PTA7dDxlLm5vZGVzXy5sZW5ndGg7dCsrKXt2YXIgbj1lLm5vZGVzX1t0XSxyPWguZ2V0KG4pO2lmKCFyKXJldHVybjtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIGk9cltvXTtpLm9ic2VydmVyPT09ZSYmaS5yZW1vdmVUcmFuc2llbnRPYnNlcnZlcnMoKX19fWZ1bmN0aW9uIGEoZSxuLG8pe2Zvcih2YXIgaT1PYmplY3QuY3JlYXRlKG51bGwpLGE9T2JqZWN0LmNyZWF0ZShudWxsKSxzPWU7cztzPXMucGFyZW50Tm9kZSl7dmFyIGM9aC5nZXQocyk7aWYoYylmb3IodmFyIGw9MDtsPGMubGVuZ3RoO2wrKyl7dmFyIHU9Y1tsXSxkPXUub3B0aW9ucztpZigocz09PWV8fGQuc3VidHJlZSkmJiEoImF0dHJpYnV0ZXMiPT09biYmIWQuYXR0cmlidXRlc3x8ImF0dHJpYnV0ZXMiPT09biYmZC5hdHRyaWJ1dGVGaWx0ZXImJihudWxsIT09by5uYW1lc3BhY2V8fC0xPT09ZC5hdHRyaWJ1dGVGaWx0ZXIuaW5kZXhPZihvLm5hbWUpKXx8ImNoYXJhY3RlckRhdGEiPT09biYmIWQuY2hhcmFjdGVyRGF0YXx8ImNoaWxkTGlzdCI9PT1uJiYhZC5jaGlsZExpc3QpKXt2YXIgcD11Lm9ic2VydmVyO2lbcC51aWRfXT1wLCgiYXR0cmlidXRlcyI9PT1uJiZkLmF0dHJpYnV0ZU9sZFZhbHVlfHwiY2hhcmFjdGVyRGF0YSI9PT1uJiZkLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSkmJihhW3AudWlkX109by5vbGRWYWx1ZSl9fX1mb3IodmFyIGYgaW4gaSl7dmFyIHA9aVtmXSxtPW5ldyByKG4sZSk7Im5hbWUiaW4gbyYmIm5hbWVzcGFjZSJpbiBvJiYobS5hdHRyaWJ1dGVOYW1lPW8ubmFtZSxtLmF0dHJpYnV0ZU5hbWVzcGFjZT1vLm5hbWVzcGFjZSksby5hZGRlZE5vZGVzJiYobS5hZGRlZE5vZGVzPW8uYWRkZWROb2Rlcyksby5yZW1vdmVkTm9kZXMmJihtLnJlbW92ZWROb2Rlcz1vLnJlbW92ZWROb2Rlcyksby5wcmV2aW91c1NpYmxpbmcmJihtLnByZXZpb3VzU2libGluZz1vLnByZXZpb3VzU2libGluZyksby5uZXh0U2libGluZyYmKG0ubmV4dFNpYmxpbmc9by5uZXh0U2libGluZyksdm9pZCAwIT09YVtmXSYmKG0ub2xkVmFsdWU9YVtmXSksdChwKSxwLnJlY29yZHNfLnB1c2gobSl9fWZ1bmN0aW9uIHMoZSl7aWYodGhpcy5jaGlsZExpc3Q9ISFlLmNoaWxkTGlzdCx0aGlzLnN1YnRyZWU9ISFlLnN1YnRyZWUsdGhpcy5hdHRyaWJ1dGVzPSJhdHRyaWJ1dGVzImluIGV8fCEoImF0dHJpYnV0ZU9sZFZhbHVlImluIGV8fCJhdHRyaWJ1dGVGaWx0ZXIiaW4gZSk/ISFlLmF0dHJpYnV0ZXM6ITAsdGhpcy5jaGFyYWN0ZXJEYXRhPSJjaGFyYWN0ZXJEYXRhT2xkVmFsdWUiaW4gZSYmISgiY2hhcmFjdGVyRGF0YSJpbiBlKT8hMDohIWUuY2hhcmFjdGVyRGF0YSwhdGhpcy5hdHRyaWJ1dGVzJiYoZS5hdHRyaWJ1dGVPbGRWYWx1ZXx8ImF0dHJpYnV0ZUZpbHRlciJpbiBlKXx8IXRoaXMuY2hhcmFjdGVyRGF0YSYmZS5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUpdGhyb3cgbmV3IFR5cGVFcnJvcjtpZih0aGlzLmNoYXJhY3RlckRhdGE9ISFlLmNoYXJhY3RlckRhdGEsdGhpcy5hdHRyaWJ1dGVPbGRWYWx1ZT0hIWUuYXR0cmlidXRlT2xkVmFsdWUsdGhpcy5jaGFyYWN0ZXJEYXRhT2xkVmFsdWU9ISFlLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSwiYXR0cmlidXRlRmlsdGVyImluIGUpe2lmKG51bGw9PWUuYXR0cmlidXRlRmlsdGVyfHwib2JqZWN0IiE9dHlwZW9mIGUuYXR0cmlidXRlRmlsdGVyKXRocm93IG5ldyBUeXBlRXJyb3I7dGhpcy5hdHRyaWJ1dGVGaWx0ZXI9di5jYWxsKGUuYXR0cmlidXRlRmlsdGVyKX1lbHNlIHRoaXMuYXR0cmlidXRlRmlsdGVyPW51bGx9ZnVuY3Rpb24gYyhlKXt0aGlzLmNhbGxiYWNrXz1lLHRoaXMubm9kZXNfPVtdLHRoaXMucmVjb3Jkc189W10sdGhpcy51aWRfPSsrdyx0aGlzLnNjaGVkdWxlZF89ITF9ZnVuY3Rpb24gbChlLHQsbil7dGhpcy5vYnNlcnZlcj1lLHRoaXMudGFyZ2V0PXQsdGhpcy5vcHRpb25zPW4sdGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdfXZhciB1PWUuc2V0RW5kT2ZNaWNyb3Rhc2ssZD1lLndyYXBJZk5lZWRlZCxwPWUud3JhcHBlcnMsaD1uZXcgV2Vha01hcCxmPVtdLG09ITEsdj1BcnJheS5wcm90b3R5cGUuc2xpY2Usdz0wO2MucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpjLG9ic2VydmU6ZnVuY3Rpb24oZSx0KXtlPWQoZSk7dmFyIG4scj1uZXcgcyh0KSxvPWguZ2V0KGUpO298fGguc2V0KGUsbz1bXSk7Zm9yKHZhciBpPTA7aTxvLmxlbmd0aDtpKyspb1tpXS5vYnNlcnZlcj09PXRoaXMmJihuPW9baV0sbi5yZW1vdmVUcmFuc2llbnRPYnNlcnZlcnMoKSxuLm9wdGlvbnM9cik7bnx8KG49bmV3IGwodGhpcyxlLHIpLG8ucHVzaChuKSx0aGlzLm5vZGVzXy5wdXNoKGUpKX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe3RoaXMubm9kZXNfLmZvckVhY2goZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWguZ2V0KGUpLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtpZihyLm9ic2VydmVyPT09dGhpcyl7dC5zcGxpY2UobiwxKTticmVha319fSx0aGlzKSx0aGlzLnJlY29yZHNfPVtdfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVjb3Jkc187cmV0dXJuIHRoaXMucmVjb3Jkc189W10sZX19LGwucHJvdG90eXBlPXthZGRUcmFuc2llbnRPYnNlcnZlcjpmdW5jdGlvbihlKXtpZihlIT09dGhpcy50YXJnZXQpe3QodGhpcy5vYnNlcnZlciksdGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzLnB1c2goZSk7dmFyIG49aC5nZXQoZSk7bnx8aC5zZXQoZSxuPVtdKSxuLnB1c2godGhpcyl9fSxyZW1vdmVUcmFuc2llbnRPYnNlcnZlcnM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM7dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKWZvcih2YXIgbj1lW3RdLHI9aC5nZXQobiksbz0wO288ci5sZW5ndGg7bysrKWlmKHJbb109PT10aGlzKXtyLnNwbGljZShvLDEpO2JyZWFrfX19LGUuZW5xdWV1ZU11dGF0aW9uPWEsZS5yZWdpc3RlclRyYW5zaWVudE9ic2VydmVycz1vLGUud3JhcHBlcnMuTXV0YXRpb25PYnNlcnZlcj1jLGUud3JhcHBlcnMuTXV0YXRpb25SZWNvcmQ9cn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlLHQpe3RoaXMucm9vdD1lLHRoaXMucGFyZW50PXR9ZnVuY3Rpb24gbihlLHQpe2lmKGUudHJlZVNjb3BlXyE9PXQpe2UudHJlZVNjb3BlXz10O2Zvcih2YXIgcj1lLnNoYWRvd1Jvb3Q7cjtyPXIub2xkZXJTaGFkb3dSb290KXIudHJlZVNjb3BlXy5wYXJlbnQ9dDtmb3IodmFyIG89ZS5maXJzdENoaWxkO287bz1vLm5leHRTaWJsaW5nKW4obyx0KX19ZnVuY3Rpb24gcihuKXtpZihuIGluc3RhbmNlb2YgZS53cmFwcGVycy5XaW5kb3csbi50cmVlU2NvcGVfKXJldHVybiBuLnRyZWVTY29wZV87dmFyIG8saT1uLnBhcmVudE5vZGU7cmV0dXJuIG89aT9yKGkpOm5ldyB0KG4sbnVsbCksbi50cmVlU2NvcGVfPW99dC5wcm90b3R5cGU9e2dldCByZW5kZXJlcigpe3JldHVybiB0aGlzLnJvb3QgaW5zdGFuY2VvZiBlLndyYXBwZXJzLlNoYWRvd1Jvb3Q/ZS5nZXRSZW5kZXJlckZvckhvc3QodGhpcy5yb290Lmhvc3QpOm51bGx9LGNvbnRhaW5zOmZ1bmN0aW9uKGUpe2Zvcig7ZTtlPWUucGFyZW50KWlmKGU9PT10aGlzKXJldHVybiEwO3JldHVybiExfX0sZS5UcmVlU2NvcGU9dCxlLmdldFRyZWVTY29wZT1yLGUuc2V0VHJlZVNjb3BlPW59KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBHLlNoYWRvd1Jvb3R9ZnVuY3Rpb24gbihlKXtyZXR1cm4gQShlKS5yb290fWZ1bmN0aW9uIHIoZSxyKXt2YXIgcz1bXSxjPWU7Zm9yKHMucHVzaChjKTtjOyl7dmFyIGw9YShjKTtpZihsJiZsLmxlbmd0aD4wKXtmb3IodmFyIHU9MDt1PGwubGVuZ3RoO3UrKyl7dmFyIHA9bFt1XTtpZihpKHApKXt2YXIgaD1uKHApLGY9aC5vbGRlclNoYWRvd1Jvb3Q7ZiYmcy5wdXNoKGYpfXMucHVzaChwKX1jPWxbbC5sZW5ndGgtMV19ZWxzZSBpZih0KGMpKXtpZihkKGUsYykmJm8ocikpYnJlYWs7Yz1jLmhvc3Qscy5wdXNoKGMpfWVsc2UgYz1jLnBhcmVudE5vZGUsYyYmcy5wdXNoKGMpfXJldHVybiBzfWZ1bmN0aW9uIG8oZSl7aWYoIWUpcmV0dXJuITE7c3dpdGNoKGUudHlwZSl7Y2FzZSJhYm9ydCI6Y2FzZSJlcnJvciI6Y2FzZSJzZWxlY3QiOmNhc2UiY2hhbmdlIjpjYXNlImxvYWQiOmNhc2UicmVzZXQiOmNhc2UicmVzaXplIjpjYXNlInNjcm9sbCI6Y2FzZSJzZWxlY3RzdGFydCI6cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEhUTUxTaGFkb3dFbGVtZW50fWZ1bmN0aW9uIGEodCl7cmV0dXJuIGUuZ2V0RGVzdGluYXRpb25JbnNlcnRpb25Qb2ludHModCl9ZnVuY3Rpb24gcyhlLHQpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gdDt0IGluc3RhbmNlb2YgRy5XaW5kb3cmJih0PXQuZG9jdW1lbnQpO2Zvcih2YXIgbj1BKHQpLHI9ZVswXSxvPUEociksaT1sKG4sbyksYT0wO2E8ZS5sZW5ndGg7YSsrKXt2YXIgcz1lW2FdO2lmKEEocyk9PT1pKXJldHVybiBzfXJldHVybiBlW2UubGVuZ3RoLTFdfWZ1bmN0aW9uIGMoZSl7Zm9yKHZhciB0PVtdO2U7ZT1lLnBhcmVudCl0LnB1c2goZSk7cmV0dXJuIHR9ZnVuY3Rpb24gbChlLHQpe2Zvcih2YXIgbj1jKGUpLHI9Yyh0KSxvPW51bGw7bi5sZW5ndGg+MCYmci5sZW5ndGg+MDspe3ZhciBpPW4ucG9wKCksYT1yLnBvcCgpO2lmKGkhPT1hKWJyZWFrO289aX1yZXR1cm4gb31mdW5jdGlvbiB1KGUsdCxuKXt0IGluc3RhbmNlb2YgRy5XaW5kb3cmJih0PXQuZG9jdW1lbnQpO3ZhciBvLGk9QSh0KSxhPUEobikscz1yKG4sZSksbz1sKGksYSk7b3x8KG89YS5yb290KTtmb3IodmFyIGM9bztjO2M9Yy5wYXJlbnQpZm9yKHZhciB1PTA7dTxzLmxlbmd0aDt1Kyspe3ZhciBkPXNbdV07aWYoQShkKT09PWMpcmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gZChlLHQpe3JldHVybiBBKGUpPT09QSh0KX1mdW5jdGlvbiBwKGUpe2lmKCFLLmdldChlKSYmKEsuc2V0KGUsITApLGYoVihlKSxWKGUudGFyZ2V0KSksSSkpe3ZhciB0PUk7dGhyb3cgST1udWxsLHR9fWZ1bmN0aW9uIGgoZSl7c3dpdGNoKGUudHlwZSl7Y2FzZSJsb2FkIjpjYXNlImJlZm9yZXVubG9hZCI6Y2FzZSJ1bmxvYWQiOnJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIGYodCxuKXtpZihZLmdldCh0KSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWRTdGF0ZUVycm9yIik7WS5zZXQodCwhMCksZS5yZW5kZXJBbGxQZW5kaW5nKCk7dmFyIG8saSxhO2lmKGgodCkmJiF0LmJ1YmJsZXMpe3ZhciBzPW47cyBpbnN0YW5jZW9mIEcuRG9jdW1lbnQmJihhPXMuZGVmYXVsdFZpZXcpJiYoaT1zLG89W10pfWlmKCFvKWlmKG4gaW5zdGFuY2VvZiBHLldpbmRvdylhPW4sbz1bXTtlbHNlIGlmKG89cihuLHQpLCFoKHQpKXt2YXIgcz1vW28ubGVuZ3RoLTFdO3MgaW5zdGFuY2VvZiBHLkRvY3VtZW50JiYoYT1zLmRlZmF1bHRWaWV3KX1yZXR1cm4gbnQuc2V0KHQsbyksbSh0LG8sYSxpKSYmdih0LG8sYSxpKSYmdyh0LG8sYSxpKSxaLnNldCh0LHJ0KSwkLmRlbGV0ZSh0LG51bGwpLFkuZGVsZXRlKHQpLHQuZGVmYXVsdFByZXZlbnRlZH1mdW5jdGlvbiBtKGUsdCxuLHIpe3ZhciBvPW90O2lmKG4mJiFnKG4sZSxvLHQscikpcmV0dXJuITE7Zm9yKHZhciBpPXQubGVuZ3RoLTE7aT4wO2ktLSlpZighZyh0W2ldLGUsbyx0LHIpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHYoZSx0LG4scil7dmFyIG89aXQsaT10WzBdfHxuO3JldHVybiBnKGksZSxvLHQscil9ZnVuY3Rpb24gdyhlLHQsbixyKXtmb3IodmFyIG89YXQsaT0xO2k8dC5sZW5ndGg7aSsrKWlmKCFnKHRbaV0sZSxvLHQscikpcmV0dXJuO24mJnQubGVuZ3RoPjAmJmcobixlLG8sdCxyKX1mdW5jdGlvbiBnKGUsdCxuLHIsbyl7dmFyIGk9ei5nZXQoZSk7aWYoIWkpcmV0dXJuITA7dmFyIGE9b3x8cyhyLGUpO2lmKGE9PT1lKXtpZihuPT09b3QpcmV0dXJuITA7bj09PWF0JiYobj1pdCl9ZWxzZSBpZihuPT09YXQmJiF0LmJ1YmJsZXMpcmV0dXJuITA7aWYoInJlbGF0ZWRUYXJnZXQiaW4gdCl7dmFyIGM9Qih0KSxsPWMucmVsYXRlZFRhcmdldDtpZihsKXtpZihsIGluc3RhbmNlb2YgT2JqZWN0JiZsLmFkZEV2ZW50TGlzdGVuZXIpe3ZhciBkPVYobCkscD11KHQsZSxkKTtpZihwPT09YSlyZXR1cm4hMH1lbHNlIHA9bnVsbDtRLnNldCh0LHApfX1aLnNldCh0LG4pO3ZhciBoPXQudHlwZSxmPSExO1guc2V0KHQsYSksJC5zZXQodCxlKSxpLmRlcHRoKys7Zm9yKHZhciBtPTAsdj1pLmxlbmd0aDt2Pm07bSsrKXt2YXIgdz1pW21dO2lmKHcucmVtb3ZlZClmPSEwO2Vsc2UgaWYoISh3LnR5cGUhPT1ofHwhdy5jYXB0dXJlJiZuPT09b3R8fHcuY2FwdHVyZSYmbj09PWF0KSl0cnl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHcuaGFuZGxlcj93LmhhbmRsZXIuY2FsbChlLHQpOncuaGFuZGxlci5oYW5kbGVFdmVudCh0KSxldC5nZXQodCkpcmV0dXJuITF9Y2F0Y2goZyl7SXx8KEk9Zyl9fWlmKGkuZGVwdGgtLSxmJiYwPT09aS5kZXB0aCl7dmFyIGI9aS5zbGljZSgpO2kubGVuZ3RoPTA7Zm9yKHZhciBtPTA7bTxiLmxlbmd0aDttKyspYlttXS5yZW1vdmVkfHxpLnB1c2goYlttXSl9cmV0dXJuIUouZ2V0KHQpfWZ1bmN0aW9uIGIoZSx0LG4pe3RoaXMudHlwZT1lLHRoaXMuaGFuZGxlcj10LHRoaXMuY2FwdHVyZT1Cb29sZWFuKG4pfWZ1bmN0aW9uIHkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiBzdCkpcmV0dXJuIFYoTyhzdCwiRXZlbnQiLGUsdCkpO3ZhciBuPWU7cmV0dXJuIGd0fHwiYmVmb3JldW5sb2FkIiE9PW4udHlwZXx8dGhpcyBpbnN0YW5jZW9mIFQ/dm9pZCBxKG4sdGhpcyk6bmV3IFQobil9ZnVuY3Rpb24gXyhlKXtyZXR1cm4gZSYmZS5yZWxhdGVkVGFyZ2V0P09iamVjdC5jcmVhdGUoZSx7cmVsYXRlZFRhcmdldDp7dmFsdWU6QihlLnJlbGF0ZWRUYXJnZXQpfX0pOmV9ZnVuY3Rpb24gRShlLHQsbil7dmFyIHI9d2luZG93W2VdLG89ZnVuY3Rpb24odCxuKXtyZXR1cm4gdCBpbnN0YW5jZW9mIHI/dm9pZCBxKHQsdGhpcyk6VihPKHIsZSx0LG4pKX07aWYoby5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSksbiYmRihvLnByb3RvdHlwZSxuKSxyKXRyeXtXKHIsbyxuZXcgcigidGVtcCIpKX1jYXRjaChpKXtXKHIsbyxkb2N1bWVudC5jcmVhdGVFdmVudChlKSl9cmV0dXJuIG99ZnVuY3Rpb24gUyhlLHQpe3JldHVybiBmdW5jdGlvbigpe2FyZ3VtZW50c1t0XT1CKGFyZ3VtZW50c1t0XSk7dmFyIG49Qih0aGlzKTtuW2VdLmFwcGx5KG4sYXJndW1lbnRzKX19ZnVuY3Rpb24gTyhlLHQsbixyKXtpZih2dClyZXR1cm4gbmV3IGUobixfKHIpKTt2YXIgbz1CKGRvY3VtZW50LmNyZWF0ZUV2ZW50KHQpKSxpPW10W3RdLGE9W25dO3JldHVybiBPYmplY3Qua2V5cyhpKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PW51bGwhPXImJmUgaW4gcj9yW2VdOmlbZV07InJlbGF0ZWRUYXJnZXQiPT09ZSYmKHQ9Qih0KSksYS5wdXNoKHQpfSksb1siaW5pdCIrdF0uYXBwbHkobyxhKSxvfWZ1bmN0aW9uIFQoZSl7eS5jYWxsKHRoaXMsZSl9ZnVuY3Rpb24gTShlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZT8hMDplJiZlLmhhbmRsZUV2ZW50fWZ1bmN0aW9uIEMoZSl7c3dpdGNoKGUpe2Nhc2UiRE9NQXR0ck1vZGlmaWVkIjpjYXNlIkRPTUF0dHJpYnV0ZU5hbWVDaGFuZ2VkIjpjYXNlIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCI6Y2FzZSJET01FbGVtZW50TmFtZUNoYW5nZWQiOmNhc2UiRE9NTm9kZUluc2VydGVkIjpjYXNlIkRPTU5vZGVJbnNlcnRlZEludG9Eb2N1bWVudCI6Y2FzZSJET01Ob2RlUmVtb3ZlZCI6Y2FzZSJET01Ob2RlUmVtb3ZlZEZyb21Eb2N1bWVudCI6Y2FzZSJET01TdWJ0cmVlTW9kaWZpZWQiOnJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIEwoZSl7cShlLHRoaXMpfWZ1bmN0aW9uIE4oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBHLlNoYWRvd1Jvb3QmJihlPWUuaG9zdCksQihlKX1mdW5jdGlvbiBqKGUsdCl7dmFyIG49ei5nZXQoZSk7aWYobilmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKylpZighbltyXS5yZW1vdmVkJiZuW3JdLnR5cGU9PT10KXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIEQoZSx0KXtmb3IodmFyIG49QihlKTtuO249bi5wYXJlbnROb2RlKWlmKGooVihuKSx0KSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiB4KGUpe2soZSx5dCl9ZnVuY3Rpb24gSCh0LG4sbyxpKXtlLnJlbmRlckFsbFBlbmRpbmcoKTt2YXIgYT1WKF90LmNhbGwoVShuKSxvLGkpKTtpZighYSlyZXR1cm4gbnVsbDt2YXIgYz1yKGEsbnVsbCksbD1jLmxhc3RJbmRleE9mKHQpO3JldHVybi0xPT1sP251bGw6KGM9Yy5zbGljZSgwLGwpLHMoYyx0KSl9ZnVuY3Rpb24gUihlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD10dC5nZXQodGhpcyk7CnJldHVybiB0JiZ0W2VdJiZ0W2VdLnZhbHVlfHxudWxsfX1mdW5jdGlvbiBQKGUpe3ZhciB0PWUuc2xpY2UoMik7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciByPXR0LmdldCh0aGlzKTtyfHwocj1PYmplY3QuY3JlYXRlKG51bGwpLHR0LnNldCh0aGlzLHIpKTt2YXIgbz1yW2VdO2lmKG8mJnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG8ud3JhcHBlZCwhMSksImZ1bmN0aW9uIj09dHlwZW9mIG4pe3ZhciBpPWZ1bmN0aW9uKHQpe3ZhciByPW4uY2FsbCh0aGlzLHQpO3I9PT0hMT90LnByZXZlbnREZWZhdWx0KCk6Im9uYmVmb3JldW5sb2FkIj09PWUmJiJzdHJpbmciPT10eXBlb2YgciYmKHQucmV0dXJuVmFsdWU9cil9O3RoaXMuYWRkRXZlbnRMaXN0ZW5lcih0LGksITEpLHJbZV09e3ZhbHVlOm4sd3JhcHBlZDppfX19fXZhciBJLGs9ZS5mb3J3YXJkTWV0aG9kc1RvV3JhcHBlcixBPWUuZ2V0VHJlZVNjb3BlLEY9ZS5taXhpbixXPWUucmVnaXN0ZXJXcmFwcGVyLHE9ZS5zZXRXcmFwcGVyLFU9ZS51bnNhZmVVbndyYXAsQj1lLnVud3JhcCxWPWUud3JhcCxHPWUud3JhcHBlcnMsej0obmV3IFdlYWtNYXAsbmV3IFdlYWtNYXApLEs9bmV3IFdlYWtNYXAsWT1uZXcgV2Vha01hcCxYPW5ldyBXZWFrTWFwLCQ9bmV3IFdlYWtNYXAsUT1uZXcgV2Vha01hcCxaPW5ldyBXZWFrTWFwLEo9bmV3IFdlYWtNYXAsZXQ9bmV3IFdlYWtNYXAsdHQ9bmV3IFdlYWtNYXAsbnQ9bmV3IFdlYWtNYXAscnQ9MCxvdD0xLGl0PTIsYXQ9MztiLnByb3RvdHlwZT17ZXF1YWxzOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmhhbmRsZXI9PT1lLmhhbmRsZXImJnRoaXMudHlwZT09PWUudHlwZSYmdGhpcy5jYXB0dXJlPT09ZS5jYXB0dXJlfSxnZXQgcmVtb3ZlZCgpe3JldHVybiBudWxsPT09dGhpcy5oYW5kbGVyfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXI9bnVsbH19O3ZhciBzdD13aW5kb3cuRXZlbnQ7c3QucHJvdG90eXBlLnBvbHltZXJCbGFja0xpc3RfPXtyZXR1cm5WYWx1ZTohMCxrZXlMb2NhdGlvbjohMH0seS5wcm90b3R5cGU9e2dldCB0YXJnZXQoKXtyZXR1cm4gWC5nZXQodGhpcyl9LGdldCBjdXJyZW50VGFyZ2V0KCl7cmV0dXJuICQuZ2V0KHRoaXMpfSxnZXQgZXZlbnRQaGFzZSgpe3JldHVybiBaLmdldCh0aGlzKX0sZ2V0IHBhdGgoKXt2YXIgZT1udC5nZXQodGhpcyk7cmV0dXJuIGU/ZS5zbGljZSgpOltdfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXtKLnNldCh0aGlzLCEwKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7Si5zZXQodGhpcywhMCksZXQuc2V0KHRoaXMsITApfX0sVyhzdCx5LGRvY3VtZW50LmNyZWF0ZUV2ZW50KCJFdmVudCIpKTt2YXIgY3Q9RSgiVUlFdmVudCIseSksbHQ9RSgiQ3VzdG9tRXZlbnQiLHkpLHV0PXtnZXQgcmVsYXRlZFRhcmdldCgpe3ZhciBlPVEuZ2V0KHRoaXMpO3JldHVybiB2b2lkIDAhPT1lP2U6VihCKHRoaXMpLnJlbGF0ZWRUYXJnZXQpfX0sZHQ9Rih7aW5pdE1vdXNlRXZlbnQ6UygiaW5pdE1vdXNlRXZlbnQiLDE0KX0sdXQpLHB0PUYoe2luaXRGb2N1c0V2ZW50OlMoImluaXRGb2N1c0V2ZW50Iiw1KX0sdXQpLGh0PUUoIk1vdXNlRXZlbnQiLGN0LGR0KSxmdD1FKCJGb2N1c0V2ZW50IixjdCxwdCksbXQ9T2JqZWN0LmNyZWF0ZShudWxsKSx2dD1mdW5jdGlvbigpe3RyeXtuZXcgd2luZG93LkZvY3VzRXZlbnQoImZvY3VzIil9Y2F0Y2goZSl7cmV0dXJuITF9cmV0dXJuITB9KCk7aWYoIXZ0KXt2YXIgd3Q9ZnVuY3Rpb24oZSx0LG4pe2lmKG4pe3ZhciByPW10W25dO3Q9RihGKHt9LHIpLHQpfW10W2VdPXR9O3d0KCJFdmVudCIse2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMX0pLHd0KCJDdXN0b21FdmVudCIse2RldGFpbDpudWxsfSwiRXZlbnQiKSx3dCgiVUlFdmVudCIse3ZpZXc6bnVsbCxkZXRhaWw6MH0sIkV2ZW50Iiksd3QoIk1vdXNlRXZlbnQiLHtzY3JlZW5YOjAsc2NyZWVuWTowLGNsaWVudFg6MCxjbGllbnRZOjAsY3RybEtleTohMSxhbHRLZXk6ITEsc2hpZnRLZXk6ITEsbWV0YUtleTohMSxidXR0b246MCxyZWxhdGVkVGFyZ2V0Om51bGx9LCJVSUV2ZW50Iiksd3QoIkZvY3VzRXZlbnQiLHtyZWxhdGVkVGFyZ2V0Om51bGx9LCJVSUV2ZW50Iil9dmFyIGd0PXdpbmRvdy5CZWZvcmVVbmxvYWRFdmVudDtULnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHkucHJvdG90eXBlKSxGKFQucHJvdG90eXBlLHtnZXQgcmV0dXJuVmFsdWUoKXtyZXR1cm4gVSh0aGlzKS5yZXR1cm5WYWx1ZX0sc2V0IHJldHVyblZhbHVlKGUpe1UodGhpcykucmV0dXJuVmFsdWU9ZX19KSxndCYmVyhndCxUKTt2YXIgYnQ9d2luZG93LkV2ZW50VGFyZ2V0LHl0PVsiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkaXNwYXRjaEV2ZW50Il07W05vZGUsV2luZG93XS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUucHJvdG90eXBlO3l0LmZvckVhY2goZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSsiXyIse3ZhbHVlOnRbZV19KX0pfSksTC5wcm90b3R5cGU9e2FkZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oZSx0LG4pe2lmKE0odCkmJiFDKGUpKXt2YXIgcj1uZXcgYihlLHQsbiksbz16LmdldCh0aGlzKTtpZihvKXtmb3IodmFyIGk9MDtpPG8ubGVuZ3RoO2krKylpZihyLmVxdWFscyhvW2ldKSlyZXR1cm59ZWxzZSBvPVtdLG8uZGVwdGg9MCx6LnNldCh0aGlzLG8pO28ucHVzaChyKTt2YXIgYT1OKHRoaXMpO2EuYWRkRXZlbnRMaXN0ZW5lcl8oZSxwLCEwKX19LHJlbW92ZUV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oZSx0LG4pe249Qm9vbGVhbihuKTt2YXIgcj16LmdldCh0aGlzKTtpZihyKXtmb3IodmFyIG89MCxpPSExLGE9MDthPHIubGVuZ3RoO2ErKylyW2FdLnR5cGU9PT1lJiZyW2FdLmNhcHR1cmU9PT1uJiYobysrLHJbYV0uaGFuZGxlcj09PXQmJihpPSEwLHJbYV0ucmVtb3ZlKCkpKTtpZihpJiYxPT09byl7dmFyIHM9Tih0aGlzKTtzLnJlbW92ZUV2ZW50TGlzdGVuZXJfKGUscCwhMCl9fX0sZGlzcGF0Y2hFdmVudDpmdW5jdGlvbih0KXt2YXIgbj1CKHQpLHI9bi50eXBlO0suc2V0KG4sITEpLGUucmVuZGVyQWxsUGVuZGluZygpO3ZhciBvO0QodGhpcyxyKXx8KG89ZnVuY3Rpb24oKXt9LHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihyLG8sITApKTt0cnl7cmV0dXJuIEIodGhpcykuZGlzcGF0Y2hFdmVudF8obil9ZmluYWxseXtvJiZ0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIocixvLCEwKX19fSxidCYmVyhidCxMKTt2YXIgX3Q9ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludDtlLmVsZW1lbnRGcm9tUG9pbnQ9SCxlLmdldEV2ZW50SGFuZGxlckdldHRlcj1SLGUuZ2V0RXZlbnRIYW5kbGVyU2V0dGVyPVAsZS53cmFwRXZlbnRUYXJnZXRNZXRob2RzPXgsZS53cmFwcGVycy5CZWZvcmVVbmxvYWRFdmVudD1ULGUud3JhcHBlcnMuQ3VzdG9tRXZlbnQ9bHQsZS53cmFwcGVycy5FdmVudD15LGUud3JhcHBlcnMuRXZlbnRUYXJnZXQ9TCxlLndyYXBwZXJzLkZvY3VzRXZlbnQ9ZnQsZS53cmFwcGVycy5Nb3VzZUV2ZW50PWh0LGUud3JhcHBlcnMuVUlFdmVudD1jdH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlLHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsbSl9ZnVuY3Rpb24gbihlKXtsKGUsdGhpcyl9ZnVuY3Rpb24gcigpe3RoaXMubGVuZ3RoPTAsdCh0aGlzLCJsZW5ndGgiKX1mdW5jdGlvbiBvKGUpe2Zvcih2YXIgdD1uZXcgcixvPTA7bzxlLmxlbmd0aDtvKyspdFtvXT1uZXcgbihlW29dKTtyZXR1cm4gdC5sZW5ndGg9byx0fWZ1bmN0aW9uIGkoZSl7YS5jYWxsKHRoaXMsZSl9dmFyIGE9ZS53cmFwcGVycy5VSUV2ZW50LHM9ZS5taXhpbixjPWUucmVnaXN0ZXJXcmFwcGVyLGw9ZS5zZXRXcmFwcGVyLHU9ZS51bnNhZmVVbndyYXAsZD1lLndyYXAscD13aW5kb3cuVG91Y2hFdmVudDtpZihwKXt2YXIgaDt0cnl7aD1kb2N1bWVudC5jcmVhdGVFdmVudCgiVG91Y2hFdmVudCIpfWNhdGNoKGYpe3JldHVybn12YXIgbT17ZW51bWVyYWJsZTohMX07bi5wcm90b3R5cGU9e2dldCB0YXJnZXQoKXtyZXR1cm4gZCh1KHRoaXMpLnRhcmdldCl9fTt2YXIgdj17Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0Om51bGx9O1siY2xpZW50WCIsImNsaWVudFkiLCJzY3JlZW5YIiwic2NyZWVuWSIsInBhZ2VYIiwicGFnZVkiLCJpZGVudGlmaWVyIiwid2Via2l0UmFkaXVzWCIsIndlYmtpdFJhZGl1c1kiLCJ3ZWJraXRSb3RhdGlvbkFuZ2xlIiwid2Via2l0Rm9yY2UiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3YuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHUodGhpcylbZV19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSxlLHYpfSksci5wcm90b3R5cGU9e2l0ZW06ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXNbZV19fSxpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGEucHJvdG90eXBlKSxzKGkucHJvdG90eXBlLHtnZXQgdG91Y2hlcygpe3JldHVybiBvKHUodGhpcykudG91Y2hlcyl9LGdldCB0YXJnZXRUb3VjaGVzKCl7cmV0dXJuIG8odSh0aGlzKS50YXJnZXRUb3VjaGVzKX0sZ2V0IGNoYW5nZWRUb3VjaGVzKCl7cmV0dXJuIG8odSh0aGlzKS5jaGFuZ2VkVG91Y2hlcyl9LGluaXRUb3VjaEV2ZW50OmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJOb3QgaW1wbGVtZW50ZWQiKX19KSxjKHAsaSxoKSxlLndyYXBwZXJzLlRvdWNoPW4sZS53cmFwcGVycy5Ub3VjaEV2ZW50PWksZS53cmFwcGVycy5Ub3VjaExpc3Q9cn19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSx0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHMpfWZ1bmN0aW9uIG4oKXt0aGlzLmxlbmd0aD0wLHQodGhpcywibGVuZ3RoIil9ZnVuY3Rpb24gcihlKXtpZihudWxsPT1lKXJldHVybiBlO2Zvcih2YXIgdD1uZXcgbixyPTAsbz1lLmxlbmd0aDtvPnI7cisrKXRbcl09YShlW3JdKTtyZXR1cm4gdC5sZW5ndGg9byx0fWZ1bmN0aW9uIG8oZSx0KXtlLnByb3RvdHlwZVt0XT1mdW5jdGlvbigpe3JldHVybiByKGkodGhpcylbdF0uYXBwbHkoaSh0aGlzKSxhcmd1bWVudHMpKX19dmFyIGk9ZS51bnNhZmVVbndyYXAsYT1lLndyYXAscz17ZW51bWVyYWJsZTohMX07bi5wcm90b3R5cGU9e2l0ZW06ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXNbZV19fSx0KG4ucHJvdG90eXBlLCJpdGVtIiksZS53cmFwcGVycy5Ob2RlTGlzdD1uLGUuYWRkV3JhcE5vZGVMaXN0TWV0aG9kPW8sZS53cmFwTm9kZUxpc3Q9cn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZS53cmFwSFRNTENvbGxlY3Rpb249ZS53cmFwTm9kZUxpc3QsZS53cmFwcGVycy5IVE1MQ29sbGVjdGlvbj1lLndyYXBwZXJzLk5vZGVMaXN0fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe00oZSBpbnN0YW5jZW9mIEUpfWZ1bmN0aW9uIG4oZSl7dmFyIHQ9bmV3IE87cmV0dXJuIHRbMF09ZSx0Lmxlbmd0aD0xLHR9ZnVuY3Rpb24gcihlLHQsbil7TCh0LCJjaGlsZExpc3QiLHtyZW1vdmVkTm9kZXM6bixwcmV2aW91c1NpYmxpbmc6ZS5wcmV2aW91c1NpYmxpbmcsbmV4dFNpYmxpbmc6ZS5uZXh0U2libGluZ30pfWZ1bmN0aW9uIG8oZSx0KXtMKGUsImNoaWxkTGlzdCIse3JlbW92ZWROb2Rlczp0fSl9ZnVuY3Rpb24gaShlLHQscixvKXtpZihlIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCl7dmFyIGk9cyhlKTtxPSEwO2Zvcih2YXIgYT1pLmxlbmd0aC0xO2E+PTA7YS0tKWUucmVtb3ZlQ2hpbGQoaVthXSksaVthXS5wYXJlbnROb2RlXz10O3E9ITE7Zm9yKHZhciBhPTA7YTxpLmxlbmd0aDthKyspaVthXS5wcmV2aW91c1NpYmxpbmdfPWlbYS0xXXx8cixpW2FdLm5leHRTaWJsaW5nXz1pW2ErMV18fG87cmV0dXJuIHImJihyLm5leHRTaWJsaW5nXz1pWzBdKSxvJiYoby5wcmV2aW91c1NpYmxpbmdfPWlbaS5sZW5ndGgtMV0pLGl9dmFyIGk9bihlKSxjPWUucGFyZW50Tm9kZTtyZXR1cm4gYyYmYy5yZW1vdmVDaGlsZChlKSxlLnBhcmVudE5vZGVfPXQsZS5wcmV2aW91c1NpYmxpbmdfPXIsZS5uZXh0U2libGluZ189byxyJiYoci5uZXh0U2libGluZ189ZSksbyYmKG8ucHJldmlvdXNTaWJsaW5nXz1lKSxpfWZ1bmN0aW9uIGEoZSl7aWYoZSBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpcmV0dXJuIHMoZSk7dmFyIHQ9bihlKSxvPWUucGFyZW50Tm9kZTtyZXR1cm4gbyYmcihlLG8sdCksdH1mdW5jdGlvbiBzKGUpe2Zvcih2YXIgdD1uZXcgTyxuPTAscj1lLmZpcnN0Q2hpbGQ7cjtyPXIubmV4dFNpYmxpbmcpdFtuKytdPXI7cmV0dXJuIHQubGVuZ3RoPW4sbyhlLHQpLHR9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZX1mdW5jdGlvbiBsKGUsdCl7UihlLHQpLGUubm9kZUlzSW5zZXJ0ZWRfKCl9ZnVuY3Rpb24gdShlLHQpe2Zvcih2YXIgbj1OKHQpLHI9MDtyPGUubGVuZ3RoO3IrKylsKGVbcl0sbil9ZnVuY3Rpb24gZChlKXtSKGUsbmV3IFQoZSxudWxsKSl9ZnVuY3Rpb24gcChlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKylkKGVbdF0pfWZ1bmN0aW9uIGgoZSx0KXt2YXIgbj1lLm5vZGVUeXBlPT09RS5ET0NVTUVOVF9OT0RFP2U6ZS5vd25lckRvY3VtZW50O24hPT10Lm93bmVyRG9jdW1lbnQmJm4uYWRvcHROb2RlKHQpfWZ1bmN0aW9uIGYodCxuKXtpZihuLmxlbmd0aCl7dmFyIHI9dC5vd25lckRvY3VtZW50O2lmKHIhPT1uWzBdLm93bmVyRG9jdW1lbnQpZm9yKHZhciBvPTA7bzxuLmxlbmd0aDtvKyspZS5hZG9wdE5vZGVOb1JlbW92ZShuW29dLHIpfX1mdW5jdGlvbiBtKGUsdCl7ZihlLHQpO3ZhciBuPXQubGVuZ3RoO2lmKDE9PT1uKXJldHVybiBJKHRbMF0pO2Zvcih2YXIgcj1JKGUub3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpLG89MDtuPm87bysrKXIuYXBwZW5kQ2hpbGQoSSh0W29dKSk7cmV0dXJuIHJ9ZnVuY3Rpb24gdihlKXtpZih2b2lkIDAhPT1lLmZpcnN0Q2hpbGRfKWZvcih2YXIgdD1lLmZpcnN0Q2hpbGRfO3Q7KXt2YXIgbj10O3Q9dC5uZXh0U2libGluZ18sbi5wYXJlbnROb2RlXz1uLnByZXZpb3VzU2libGluZ189bi5uZXh0U2libGluZ189dm9pZCAwfWUuZmlyc3RDaGlsZF89ZS5sYXN0Q2hpbGRfPXZvaWQgMH1mdW5jdGlvbiB3KGUpe2lmKGUuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe2Zvcih2YXIgdD1lLmZpcnN0Q2hpbGQ7dDspe00odC5wYXJlbnROb2RlPT09ZSk7dmFyIG49dC5uZXh0U2libGluZyxyPUkodCksbz1yLnBhcmVudE5vZGU7byYmWS5jYWxsKG8sciksdC5wcmV2aW91c1NpYmxpbmdfPXQubmV4dFNpYmxpbmdfPXQucGFyZW50Tm9kZV89bnVsbCx0PW59ZS5maXJzdENoaWxkXz1lLmxhc3RDaGlsZF89bnVsbH1lbHNlIGZvcih2YXIgbixpPUkoZSksYT1pLmZpcnN0Q2hpbGQ7YTspbj1hLm5leHRTaWJsaW5nLFkuY2FsbChpLGEpLGE9bn1mdW5jdGlvbiBnKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmdC5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKX1mdW5jdGlvbiBiKGUpe2Zvcih2YXIgdCxuPTA7bjxlLmxlbmd0aDtuKyspdD1lW25dLHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KX1mdW5jdGlvbiB5KGUsdCxuKXt2YXIgcjtpZihyPUEobj9VLmNhbGwobixQKGUpLCExKTpCLmNhbGwoUChlKSwhMSkpLHQpe2Zvcih2YXIgbz1lLmZpcnN0Q2hpbGQ7bztvPW8ubmV4dFNpYmxpbmcpci5hcHBlbmRDaGlsZCh5KG8sITAsbikpO2lmKGUgaW5zdGFuY2VvZiBXLkhUTUxUZW1wbGF0ZUVsZW1lbnQpZm9yKHZhciBpPXIuY29udGVudCxvPWUuY29udGVudC5maXJzdENoaWxkO287bz1vLm5leHRTaWJsaW5nKWkuYXBwZW5kQ2hpbGQoeShvLCEwLG4pKX1yZXR1cm4gcn1mdW5jdGlvbiBfKGUsdCl7aWYoIXR8fE4oZSkhPT1OKHQpKXJldHVybiExO2Zvcih2YXIgbj10O247bj1uLnBhcmVudE5vZGUpaWYobj09PWUpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gRShlKXtNKGUgaW5zdGFuY2VvZiBWKSxTLmNhbGwodGhpcyxlKSx0aGlzLnBhcmVudE5vZGVfPXZvaWQgMCx0aGlzLmZpcnN0Q2hpbGRfPXZvaWQgMCx0aGlzLmxhc3RDaGlsZF89dm9pZCAwLHRoaXMubmV4dFNpYmxpbmdfPXZvaWQgMCx0aGlzLnByZXZpb3VzU2libGluZ189dm9pZCAwLHRoaXMudHJlZVNjb3BlXz12b2lkIDB9dmFyIFM9ZS53cmFwcGVycy5FdmVudFRhcmdldCxPPWUud3JhcHBlcnMuTm9kZUxpc3QsVD1lLlRyZWVTY29wZSxNPWUuYXNzZXJ0LEM9ZS5kZWZpbmVXcmFwR2V0dGVyLEw9ZS5lbnF1ZXVlTXV0YXRpb24sTj1lLmdldFRyZWVTY29wZSxqPWUuaXNXcmFwcGVyLEQ9ZS5taXhpbix4PWUucmVnaXN0ZXJUcmFuc2llbnRPYnNlcnZlcnMsSD1lLnJlZ2lzdGVyV3JhcHBlcixSPWUuc2V0VHJlZVNjb3BlLFA9ZS51bnNhZmVVbndyYXAsST1lLnVud3JhcCxrPWUudW53cmFwSWZOZWVkZWQsQT1lLndyYXAsRj1lLndyYXBJZk5lZWRlZCxXPWUud3JhcHBlcnMscT0hMSxVPWRvY3VtZW50LmltcG9ydE5vZGUsQj13aW5kb3cuTm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlLFY9d2luZG93Lk5vZGUsRz13aW5kb3cuRG9jdW1lbnRGcmFnbWVudCx6PShWLnByb3RvdHlwZS5hcHBlbmRDaGlsZCxWLnByb3RvdHlwZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksSz1WLnByb3RvdHlwZS5pbnNlcnRCZWZvcmUsWT1WLnByb3RvdHlwZS5yZW1vdmVDaGlsZCxYPVYucHJvdG90eXBlLnJlcGxhY2VDaGlsZCwkPS9UcmlkZW50Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLFE9JD9mdW5jdGlvbihlLHQpe3RyeXtZLmNhbGwoZSx0KX1jYXRjaChuKXtpZighKGUgaW5zdGFuY2VvZiBHKSl0aHJvdyBufX06ZnVuY3Rpb24oZSx0KXtZLmNhbGwoZSx0KX07RS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShTLnByb3RvdHlwZSksRChFLnByb3RvdHlwZSx7YXBwZW5kQ2hpbGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaW5zZXJ0QmVmb3JlKGUsbnVsbCl9LGluc2VydEJlZm9yZTpmdW5jdGlvbihlLG4pe3QoZSk7dmFyIHI7bj9qKG4pP3I9SShuKToocj1uLG49QShyKSk6KG49bnVsbCxyPW51bGwpLG4mJk0obi5wYXJlbnROb2RlPT09dGhpcyk7dmFyIG8scz1uP24ucHJldmlvdXNTaWJsaW5nOnRoaXMubGFzdENoaWxkLGM9IXRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkmJiFnKGUpO2lmKG89Yz9hKGUpOmkoZSx0aGlzLHMsbiksYyloKHRoaXMsZSksdih0aGlzKSxLLmNhbGwoUCh0aGlzKSxJKGUpLHIpO2Vsc2V7c3x8KHRoaXMuZmlyc3RDaGlsZF89b1swXSksbnx8KHRoaXMubGFzdENoaWxkXz1vW28ubGVuZ3RoLTFdLHZvaWQgMD09PXRoaXMuZmlyc3RDaGlsZF8mJih0aGlzLmZpcnN0Q2hpbGRfPXRoaXMuZmlyc3RDaGlsZCkpO3ZhciBsPXI/ci5wYXJlbnROb2RlOlAodGhpcyk7bD9LLmNhbGwobCxtKHRoaXMsbykscik6Zih0aGlzLG8pfXJldHVybiBMKHRoaXMsImNoaWxkTGlzdCIse2FkZGVkTm9kZXM6byxuZXh0U2libGluZzpuLHByZXZpb3VzU2libGluZzpzfSksdShvLHRoaXMpLGV9LHJlbW92ZUNoaWxkOmZ1bmN0aW9uKGUpe2lmKHQoZSksZS5wYXJlbnROb2RlIT09dGhpcyl7Zm9yKHZhciByPSExLG89KHRoaXMuY2hpbGROb2Rlcyx0aGlzLmZpcnN0Q2hpbGQpO287bz1vLm5leHRTaWJsaW5nKWlmKG89PT1lKXtyPSEwO2JyZWFrfWlmKCFyKXRocm93IG5ldyBFcnJvcigiTm90Rm91bmRFcnJvciIpfXZhciBpPUkoZSksYT1lLm5leHRTaWJsaW5nLHM9ZS5wcmV2aW91c1NpYmxpbmc7aWYodGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSl7dmFyIGM9dGhpcy5maXJzdENoaWxkLGw9dGhpcy5sYXN0Q2hpbGQsdT1pLnBhcmVudE5vZGU7dSYmUSh1LGkpLGM9PT1lJiYodGhpcy5maXJzdENoaWxkXz1hKSxsPT09ZSYmKHRoaXMubGFzdENoaWxkXz1zKSxzJiYocy5uZXh0U2libGluZ189YSksYSYmKGEucHJldmlvdXNTaWJsaW5nXz1zKSxlLnByZXZpb3VzU2libGluZ189ZS5uZXh0U2libGluZ189ZS5wYXJlbnROb2RlXz12b2lkIDB9ZWxzZSB2KHRoaXMpLFEoUCh0aGlzKSxpKTtyZXR1cm4gcXx8TCh0aGlzLCJjaGlsZExpc3QiLHtyZW1vdmVkTm9kZXM6bihlKSxuZXh0U2libGluZzphLHByZXZpb3VzU2libGluZzpzfSkseCh0aGlzLGUpLGV9LHJlcGxhY2VDaGlsZDpmdW5jdGlvbihlLHIpe3QoZSk7dmFyIG87aWYoaihyKT9vPUkocik6KG89cixyPUEobykpLHIucGFyZW50Tm9kZSE9PXRoaXMpdGhyb3cgbmV3IEVycm9yKCJOb3RGb3VuZEVycm9yIik7dmFyIHMsYz1yLm5leHRTaWJsaW5nLGw9ci5wcmV2aW91c1NpYmxpbmcscD0hdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSYmIWcoZSk7cmV0dXJuIHA/cz1hKGUpOihjPT09ZSYmKGM9ZS5uZXh0U2libGluZykscz1pKGUsdGhpcyxsLGMpKSxwPyhoKHRoaXMsZSksdih0aGlzKSxYLmNhbGwoUCh0aGlzKSxJKGUpLG8pKToodGhpcy5maXJzdENoaWxkPT09ciYmKHRoaXMuZmlyc3RDaGlsZF89c1swXSksdGhpcy5sYXN0Q2hpbGQ9PT1yJiYodGhpcy5sYXN0Q2hpbGRfPXNbcy5sZW5ndGgtMV0pLHIucHJldmlvdXNTaWJsaW5nXz1yLm5leHRTaWJsaW5nXz1yLnBhcmVudE5vZGVfPXZvaWQgMCxvLnBhcmVudE5vZGUmJlguY2FsbChvLnBhcmVudE5vZGUsbSh0aGlzLHMpLG8pKSxMKHRoaXMsImNoaWxkTGlzdCIse2FkZGVkTm9kZXM6cyxyZW1vdmVkTm9kZXM6bihyKSxuZXh0U2libGluZzpjLHByZXZpb3VzU2libGluZzpsfSksZChyKSx1KHMsdGhpcykscn0sbm9kZUlzSW5zZXJ0ZWRfOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyllLm5vZGVJc0luc2VydGVkXygpfSxoYXNDaGlsZE5vZGVzOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmZpcnN0Q2hpbGR9LGdldCBwYXJlbnROb2RlKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMucGFyZW50Tm9kZV8/dGhpcy5wYXJlbnROb2RlXzpBKFAodGhpcykucGFyZW50Tm9kZSl9LGdldCBmaXJzdENoaWxkKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuZmlyc3RDaGlsZF8/dGhpcy5maXJzdENoaWxkXzpBKFAodGhpcykuZmlyc3RDaGlsZCl9LGdldCBsYXN0Q2hpbGQoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5sYXN0Q2hpbGRfP3RoaXMubGFzdENoaWxkXzpBKFAodGhpcykubGFzdENoaWxkKX0sZ2V0IG5leHRTaWJsaW5nKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMubmV4dFNpYmxpbmdfP3RoaXMubmV4dFNpYmxpbmdfOkEoUCh0aGlzKS5uZXh0U2libGluZyl9LGdldCBwcmV2aW91c1NpYmxpbmcoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5wcmV2aW91c1NpYmxpbmdfP3RoaXMucHJldmlvdXNTaWJsaW5nXzpBKFAodGhpcykucHJldmlvdXNTaWJsaW5nKX0sZ2V0IHBhcmVudEVsZW1lbnQoKXtmb3IodmFyIGU9dGhpcy5wYXJlbnROb2RlO2UmJmUubm9kZVR5cGUhPT1FLkVMRU1FTlRfTk9ERTspZT1lLnBhcmVudE5vZGU7cmV0dXJuIGV9LGdldCB0ZXh0Q29udGVudCgpe2Zvcih2YXIgZT0iIix0PXRoaXMuZmlyc3RDaGlsZDt0O3Q9dC5uZXh0U2libGluZyl0Lm5vZGVUeXBlIT1FLkNPTU1FTlRfTk9ERSYmKGUrPXQudGV4dENvbnRlbnQpO3JldHVybiBlfSxzZXQgdGV4dENvbnRlbnQoZSl7dmFyIHQ9Yyh0aGlzLmNoaWxkTm9kZXMpO2lmKHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe2lmKHcodGhpcyksIiIhPT1lKXt2YXIgbj1QKHRoaXMpLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZSk7dGhpcy5hcHBlbmRDaGlsZChuKX19ZWxzZSB2KHRoaXMpLFAodGhpcykudGV4dENvbnRlbnQ9ZTt2YXIgcj1jKHRoaXMuY2hpbGROb2Rlcyk7TCh0aGlzLCJjaGlsZExpc3QiLHthZGRlZE5vZGVzOnIscmVtb3ZlZE5vZGVzOnR9KSxwKHQpLHUocix0aGlzKX0sZ2V0IGNoaWxkTm9kZXMoKXtmb3IodmFyIGU9bmV3IE8sdD0wLG49dGhpcy5maXJzdENoaWxkO247bj1uLm5leHRTaWJsaW5nKWVbdCsrXT1uO3JldHVybiBlLmxlbmd0aD10LGV9LGNsb25lTm9kZTpmdW5jdGlvbihlKXtyZXR1cm4geSh0aGlzLGUpfSxjb250YWluczpmdW5jdGlvbihlKXtyZXR1cm4gXyh0aGlzLEYoZSkpfSxjb21wYXJlRG9jdW1lbnRQb3NpdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gei5jYWxsKFAodGhpcyksayhlKSl9LG5vcm1hbGl6ZTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0LG49Yyh0aGlzLmNoaWxkTm9kZXMpLHI9W10sbz0iIixpPTA7aTxuLmxlbmd0aDtpKyspdD1uW2ldLHQubm9kZVR5cGU9PT1FLlRFWFRfTk9ERT9lfHx0LmRhdGEubGVuZ3RoP2U/KG8rPXQuZGF0YSxyLnB1c2godCkpOmU9dDp0aGlzLnJlbW92ZU5vZGUodCk6KGUmJnIubGVuZ3RoJiYoZS5kYXRhKz1vLGIocikpLHI9W10sbz0iIixlPW51bGwsdC5jaGlsZE5vZGVzLmxlbmd0aCYmdC5ub3JtYWxpemUoKSk7ZSYmci5sZW5ndGgmJihlLmRhdGErPW8sYihyKSl9fSksQyhFLCJvd25lckRvY3VtZW50IiksSChWLEUsZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKSxkZWxldGUgRS5wcm90b3R5cGUucXVlcnlTZWxlY3RvcixkZWxldGUgRS5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbCxFLnByb3RvdHlwZT1EKE9iamVjdC5jcmVhdGUoUy5wcm90b3R5cGUpLEUucHJvdG90eXBlKSxlLmNsb25lTm9kZT15LGUubm9kZVdhc0FkZGVkPWwsZS5ub2RlV2FzUmVtb3ZlZD1kLGUubm9kZXNXZXJlQWRkZWQ9dSxlLm5vZGVzV2VyZVJlbW92ZWQ9cCxlLm9yaWdpbmFsSW5zZXJ0QmVmb3JlPUssZS5vcmlnaW5hbFJlbW92ZUNoaWxkPVksZS5zbmFwc2hvdE5vZGVMaXN0PWMsZS53cmFwcGVycy5Ob2RlPUV9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQodCxuLHIsbyl7Zm9yKHZhciBpPW51bGwsYT1udWxsLHM9MCxjPXQubGVuZ3RoO2M+cztzKyspaT1nKHRbc10pLCFvJiYoYT12KGkpLnJvb3QpJiZhIGluc3RhbmNlb2YgZS53cmFwcGVycy5TaGFkb3dSb290fHwocltuKytdPWkpO3JldHVybiBufWZ1bmN0aW9uIG4oZSl7cmV0dXJuIFN0cmluZyhlKS5yZXBsYWNlKC9cL2RlZXBcLy9nLCIgIil9ZnVuY3Rpb24gcihlLHQpe2Zvcih2YXIgbixvPWUuZmlyc3RFbGVtZW50Q2hpbGQ7bzspe2lmKG8ubWF0Y2hlcyh0KSlyZXR1cm4gbztpZihuPXIobyx0KSlyZXR1cm4gbjtvPW8ubmV4dEVsZW1lbnRTaWJsaW5nfXJldHVybiBudWxsfWZ1bmN0aW9uIG8oZSx0KXtyZXR1cm4gZS5tYXRjaGVzKHQpfWZ1bmN0aW9uIGkoZSx0LG4pe3ZhciByPWUubG9jYWxOYW1lO3JldHVybiByPT09dHx8cj09PW4mJmUubmFtZXNwYWNlVVJJPT09Tn1mdW5jdGlvbiBhKCl7cmV0dXJuITB9ZnVuY3Rpb24gcyhlLHQsbil7cmV0dXJuIGUubG9jYWxOYW1lPT09bn1mdW5jdGlvbiBjKGUsdCl7cmV0dXJuIGUubmFtZXNwYWNlVVJJPT09dH1mdW5jdGlvbiBsKGUsdCxuKXtyZXR1cm4gZS5uYW1lc3BhY2VVUkk9PT10JiZlLmxvY2FsTmFtZT09PW59ZnVuY3Rpb24gdShlLHQsbixyLG8saSl7Zm9yKHZhciBhPWUuZmlyc3RFbGVtZW50Q2hpbGQ7YTspcihhLG8saSkmJihuW3QrK109YSksdD11KGEsdCxuLHIsbyxpKSxhPWEubmV4dEVsZW1lbnRTaWJsaW5nO3JldHVybiB0fWZ1bmN0aW9uIGQobixyLG8saSxhKXt2YXIgcyxjPXcodGhpcyksbD12KHRoaXMpLnJvb3Q7aWYobCBpbnN0YW5jZW9mIGUud3JhcHBlcnMuU2hhZG93Um9vdClyZXR1cm4gdSh0aGlzLHIsbyxuLGksbnVsbCk7aWYoYyBpbnN0YW5jZW9mIEMpcz1FLmNhbGwoYyxpKTtlbHNle2lmKCEoYyBpbnN0YW5jZW9mIEwpKXJldHVybiB1KHRoaXMscixvLG4saSxudWxsKTtzPV8uY2FsbChjLGkpfXJldHVybiB0KHMscixvLGEpfWZ1bmN0aW9uIHAobixyLG8saSxhKXt2YXIgcyxjPXcodGhpcyksbD12KHRoaXMpLnJvb3Q7aWYobCBpbnN0YW5jZW9mIGUud3JhcHBlcnMuU2hhZG93Um9vdClyZXR1cm4gdSh0aGlzLHIsbyxuLGksYSk7aWYoYyBpbnN0YW5jZW9mIEMpcz1PLmNhbGwoYyxpLGEpO2Vsc2V7aWYoIShjIGluc3RhbmNlb2YgTCkpcmV0dXJuIHUodGhpcyxyLG8sbixpLGEpO3M9Uy5jYWxsKGMsaSxhKX1yZXR1cm4gdChzLHIsbywhMSl9ZnVuY3Rpb24gaChuLHIsbyxpLGEpe3ZhciBzLGM9dyh0aGlzKSxsPXYodGhpcykucm9vdDtpZihsIGluc3RhbmNlb2YgZS53cmFwcGVycy5TaGFkb3dSb290KXJldHVybiB1KHRoaXMscixvLG4saSxhKTtpZihjIGluc3RhbmNlb2YgQylzPU0uY2FsbChjLGksYSk7ZWxzZXtpZighKGMgaW5zdGFuY2VvZiBMKSlyZXR1cm4gdSh0aGlzLHIsbyxuLGksYSk7cz1ULmNhbGwoYyxpLGEpfXJldHVybiB0KHMscixvLCExKX12YXIgZj1lLndyYXBwZXJzLkhUTUxDb2xsZWN0aW9uLG09ZS53cmFwcGVycy5Ob2RlTGlzdCx2PWUuZ2V0VHJlZVNjb3BlLHc9ZS51bnNhZmVVbndyYXAsZz1lLndyYXAsYj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yLHk9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IsXz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsLEU9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwsUz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSxPPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSxUPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lTlMsTT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyxDPXdpbmRvdy5FbGVtZW50LEw9d2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50LE49Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLGo9e3F1ZXJ5U2VsZWN0b3I6ZnVuY3Rpb24odCl7dmFyIG89bih0KSxpPW8hPT10O3Q9bzt2YXIgYSxzPXcodGhpcyksYz12KHRoaXMpLnJvb3Q7aWYoYyBpbnN0YW5jZW9mIGUud3JhcHBlcnMuU2hhZG93Um9vdClyZXR1cm4gcih0aGlzLHQpO2lmKHMgaW5zdGFuY2VvZiBDKWE9Zyh5LmNhbGwocyx0KSk7ZWxzZXtpZighKHMgaW5zdGFuY2VvZiBMKSlyZXR1cm4gcih0aGlzLHQpO2E9ZyhiLmNhbGwocyx0KSl9cmV0dXJuIGEmJiFpJiYoYz12KGEpLnJvb3QpJiZjIGluc3RhbmNlb2YgZS53cmFwcGVycy5TaGFkb3dSb290P3IodGhpcyx0KTphfSxxdWVyeVNlbGVjdG9yQWxsOmZ1bmN0aW9uKGUpe3ZhciB0PW4oZSkscj10IT09ZTtlPXQ7dmFyIGk9bmV3IG07cmV0dXJuIGkubGVuZ3RoPWQuY2FsbCh0aGlzLG8sMCxpLGUsciksaX19LEQ9e2dldEVsZW1lbnRzQnlUYWdOYW1lOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBmLG49IioiPT09ZT9hOmk7cmV0dXJuIHQubGVuZ3RoPXAuY2FsbCh0aGlzLG4sMCx0LGUsZS50b0xvd2VyQ2FzZSgpKSx0fSxnZXRFbGVtZW50c0J5Q2xhc3NOYW1lOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoIi4iK2UpfSxnZXRFbGVtZW50c0J5VGFnTmFtZU5TOmZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IGYscj1udWxsO3JldHVybiByPSIqIj09PWU/IioiPT09dD9hOnM6IioiPT09dD9jOmwsbi5sZW5ndGg9aC5jYWxsKHRoaXMsciwwLG4sZXx8bnVsbCx0KSxufX07ZS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlPUQsZS5TZWxlY3RvcnNJbnRlcmZhY2U9an0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtmb3IoO2UmJmUubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERTspZT1lLm5leHRTaWJsaW5nO3JldHVybiBlfWZ1bmN0aW9uIG4oZSl7Zm9yKDtlJiZlLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWU9ZS5wcmV2aW91c1NpYmxpbmc7cmV0dXJuIGV9dmFyIHI9ZS53cmFwcGVycy5Ob2RlTGlzdCxvPXtnZXQgZmlyc3RFbGVtZW50Q2hpbGQoKXtyZXR1cm4gdCh0aGlzLmZpcnN0Q2hpbGQpfSxnZXQgbGFzdEVsZW1lbnRDaGlsZCgpe3JldHVybiBuKHRoaXMubGFzdENoaWxkKX0sZ2V0IGNoaWxkRWxlbWVudENvdW50KCl7Zm9yKHZhciBlPTAsdD10aGlzLmZpcnN0RWxlbWVudENoaWxkO3Q7dD10Lm5leHRFbGVtZW50U2libGluZyllKys7cmV0dXJuIGV9LGdldCBjaGlsZHJlbigpe2Zvcih2YXIgZT1uZXcgcix0PTAsbj10aGlzLmZpcnN0RWxlbWVudENoaWxkO247bj1uLm5leHRFbGVtZW50U2libGluZyllW3QrK109bjtyZXR1cm4gZS5sZW5ndGg9dCxlfSxyZW1vdmU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBhcmVudE5vZGU7ZSYmZS5yZW1vdmVDaGlsZCh0aGlzKX19LGk9e2dldCBuZXh0RWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gdCh0aGlzLm5leHRTaWJsaW5nKX0sZ2V0IHByZXZpb3VzRWxlbWVudFNpYmxpbmcoKXtyZXR1cm4gbih0aGlzLnByZXZpb3VzU2libGluZyl9fTtlLkNoaWxkTm9kZUludGVyZmFjZT1pLGUuUGFyZW50Tm9kZUludGVyZmFjZT1vfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe3IuY2FsbCh0aGlzLGUpfXZhciBuPWUuQ2hpbGROb2RlSW50ZXJmYWNlLHI9ZS53cmFwcGVycy5Ob2RlLG89ZS5lbnF1ZXVlTXV0YXRpb24saT1lLm1peGluLGE9ZS5yZWdpc3RlcldyYXBwZXIscz1lLnVuc2FmZVVud3JhcCxjPXdpbmRvdy5DaGFyYWN0ZXJEYXRhO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpLGkodC5wcm90b3R5cGUse2dldCB0ZXh0Q29udGVudCgpe3JldHVybiB0aGlzLmRhdGF9LHNldCB0ZXh0Q29udGVudChlKXt0aGlzLmRhdGE9ZX0sZ2V0IGRhdGEoKXtyZXR1cm4gcyh0aGlzKS5kYXRhfSxzZXQgZGF0YShlKXt2YXIgdD1zKHRoaXMpLmRhdGE7byh0aGlzLCJjaGFyYWN0ZXJEYXRhIix7b2xkVmFsdWU6dH0pLHModGhpcykuZGF0YT1lfX0pLGkodC5wcm90b3R5cGUsbiksYShjLHQsZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpKSxlLndyYXBwZXJzLkNoYXJhY3RlckRhdGE9dH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtyZXR1cm4gZT4+PjB9ZnVuY3Rpb24gbihlKXtyLmNhbGwodGhpcyxlKX12YXIgcj1lLndyYXBwZXJzLkNoYXJhY3RlckRhdGEsbz0oZS5lbnF1ZXVlTXV0YXRpb24sZS5taXhpbiksaT1lLnJlZ2lzdGVyV3JhcHBlcixhPXdpbmRvdy5UZXh0O24ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpLG8obi5wcm90b3R5cGUse3NwbGl0VGV4dDpmdW5jdGlvbihlKXtlPXQoZSk7dmFyIG49dGhpcy5kYXRhO2lmKGU+bi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJJbmRleFNpemVFcnJvciIpO3ZhciByPW4uc2xpY2UoMCxlKSxvPW4uc2xpY2UoZSk7dGhpcy5kYXRhPXI7dmFyIGk9dGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG8pO3JldHVybiB0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaSx0aGlzLm5leHRTaWJsaW5nKSxpfX0pLGkoYSxuLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKSksZS53cmFwcGVycy5UZXh0PW59KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQodCl7ZS5pbnZhbGlkYXRlUmVuZGVyZXJCYXNlZE9uQXR0cmlidXRlKHQsImNsYXNzIil9ZnVuY3Rpb24gbihlLHQpe3IoZSx0aGlzKSx0aGlzLm93bmVyRWxlbWVudF89dH12YXIgcj1lLnNldFdyYXBwZXIsbz1lLnVuc2FmZVVud3JhcDtuLnByb3RvdHlwZT17Y29uc3RydWN0b3I6bixnZXQgbGVuZ3RoKCl7cmV0dXJuIG8odGhpcykubGVuZ3RofSxpdGVtOmZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMpLml0ZW0oZSl9LGNvbnRhaW5zOmZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMpLmNvbnRhaW5zKGUpfSxhZGQ6ZnVuY3Rpb24oKXtvKHRoaXMpLmFkZC5hcHBseShvKHRoaXMpLGFyZ3VtZW50cyksdCh0aGlzLm93bmVyRWxlbWVudF8pfSxyZW1vdmU6ZnVuY3Rpb24oKXtvKHRoaXMpLnJlbW92ZS5hcHBseShvKHRoaXMpLGFyZ3VtZW50cyksdCh0aGlzLm93bmVyRWxlbWVudF8pfSx0b2dnbGU6ZnVuY3Rpb24oKXt2YXIgZT1vKHRoaXMpLnRvZ2dsZS5hcHBseShvKHRoaXMpLGFyZ3VtZW50cyk7cmV0dXJuIHQodGhpcy5vd25lckVsZW1lbnRfKSxlfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiBvKHRoaXMpLnRvU3RyaW5nKCl9fSxlLndyYXBwZXJzLkRPTVRva2VuTGlzdD1ufSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KHQsbil7dmFyIHI9dC5wYXJlbnROb2RlO2lmKHImJnIuc2hhZG93Um9vdCl7dmFyIG89ZS5nZXRSZW5kZXJlckZvckhvc3Qocik7by5kZXBlbmRzT25BdHRyaWJ1dGUobikmJm8uaW52YWxpZGF0ZSgpfX1mdW5jdGlvbiBuKGUsdCxuKXt1KGUsImF0dHJpYnV0ZXMiLHtuYW1lOnQsbmFtZXNwYWNlOm51bGwsb2xkVmFsdWU6bn0pfWZ1bmN0aW9uIHIoZSl7YS5jYWxsKHRoaXMsZSl9dmFyIG89ZS5DaGlsZE5vZGVJbnRlcmZhY2UsaT1lLkdldEVsZW1lbnRzQnlJbnRlcmZhY2UsYT1lLndyYXBwZXJzLk5vZGUscz1lLndyYXBwZXJzLkRPTVRva2VuTGlzdCxjPWUuUGFyZW50Tm9kZUludGVyZmFjZSxsPWUuU2VsZWN0b3JzSW50ZXJmYWNlLHU9KGUuYWRkV3JhcE5vZGVMaXN0TWV0aG9kLGUuZW5xdWV1ZU11dGF0aW9uKSxkPWUubWl4aW4scD0oZS5vbmVPZixlLnJlZ2lzdGVyV3JhcHBlciksaD1lLnVuc2FmZVVud3JhcCxmPWUud3JhcHBlcnMsbT13aW5kb3cuRWxlbWVudCx2PVsibWF0Y2hlcyIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIl0uZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBtLnByb3RvdHlwZVtlXX0pLHc9dlswXSxnPW0ucHJvdG90eXBlW3ddLGI9bmV3IFdlYWtNYXA7ci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShhLnByb3RvdHlwZSksZChyLnByb3RvdHlwZSx7Y3JlYXRlU2hhZG93Um9vdDpmdW5jdGlvbigpe3ZhciB0PW5ldyBmLlNoYWRvd1Jvb3QodGhpcyk7aCh0aGlzKS5wb2x5bWVyU2hhZG93Um9vdF89dDt2YXIgbj1lLmdldFJlbmRlcmVyRm9ySG9zdCh0aGlzKTtyZXR1cm4gbi5pbnZhbGlkYXRlKCksdH0sZ2V0IHNoYWRvd1Jvb3QoKXtyZXR1cm4gaCh0aGlzKS5wb2x5bWVyU2hhZG93Um9vdF98fG51bGx9LHNldEF0dHJpYnV0ZTpmdW5jdGlvbihlLHIpe3ZhciBvPWgodGhpcykuZ2V0QXR0cmlidXRlKGUpO2godGhpcykuc2V0QXR0cmlidXRlKGUsciksbih0aGlzLGUsbyksdCh0aGlzLGUpfSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24oZSl7dmFyIHI9aCh0aGlzKS5nZXRBdHRyaWJ1dGUoZSk7aCh0aGlzKS5yZW1vdmVBdHRyaWJ1dGUoZSksbih0aGlzLGUsciksdCh0aGlzLGUpfSxtYXRjaGVzOmZ1bmN0aW9uKGUpe3JldHVybiBnLmNhbGwoaCh0aGlzKSxlKX0sZ2V0IGNsYXNzTGlzdCgpe3ZhciBlPWIuZ2V0KHRoaXMpO3JldHVybiBlfHxiLnNldCh0aGlzLGU9bmV3IHMoaCh0aGlzKS5jbGFzc0xpc3QsdGhpcykpLGV9LGdldCBjbGFzc05hbWUoKXtyZXR1cm4gaCh0aGlzKS5jbGFzc05hbWV9LHNldCBjbGFzc05hbWUoZSl7dGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIixlKX0sZ2V0IGlkKCl7cmV0dXJuIGgodGhpcykuaWR9LHNldCBpZChlKXt0aGlzLnNldEF0dHJpYnV0ZSgiaWQiLGUpfX0pLHYuZm9yRWFjaChmdW5jdGlvbihlKXsibWF0Y2hlcyIhPT1lJiYoci5wcm90b3R5cGVbZV09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubWF0Y2hlcyhlKX0pfSksbS5wcm90b3R5cGUud2Via2l0Q3JlYXRlU2hhZG93Um9vdCYmKHIucHJvdG90eXBlLndlYmtpdENyZWF0ZVNoYWRvd1Jvb3Q9ci5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdCksZChyLnByb3RvdHlwZSxvKSxkKHIucHJvdG90eXBlLGkpLGQoci5wcm90b3R5cGUsYyksZChyLnByb3RvdHlwZSxsKSxwKG0scixkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnVsbCwieCIpKSxlLmludmFsaWRhdGVSZW5kZXJlckJhc2VkT25BdHRyaWJ1dGU9dCxlLm1hdGNoZXNOYW1lcz12LGUud3JhcHBlcnMuRWxlbWVudD1yfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe3N3aXRjaChlKXtjYXNlIiYiOnJldHVybiImYW1wOyI7Y2FzZSI8IjpyZXR1cm4iJmx0OyI7Y2FzZSI+IjpyZXR1cm4iJmd0OyI7Y2FzZSciJzpyZXR1cm4iJnF1b3Q7IjtjYXNlIsKgIjpyZXR1cm4iJm5ic3A7In19ZnVuY3Rpb24gbihlKXtyZXR1cm4gZS5yZXBsYWNlKE0sdCl9ZnVuY3Rpb24gcihlKXtyZXR1cm4gZS5yZXBsYWNlKEMsdCl9ZnVuY3Rpb24gbyhlKXtmb3IodmFyIHQ9e30sbj0wO248ZS5sZW5ndGg7bisrKXRbZVtuXV09ITA7cmV0dXJuIHR9ZnVuY3Rpb24gaShlLHQpe3N3aXRjaChlLm5vZGVUeXBlKXtjYXNlIE5vZGUuRUxFTUVOVF9OT0RFOmZvcih2YXIgbyxpPWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpLHM9IjwiK2ksYz1lLmF0dHJpYnV0ZXMsbD0wO289Y1tsXTtsKyspcys9IiAiK28ubmFtZSsnPSInK24oby52YWx1ZSkrJyInO3JldHVybiBzKz0iPiIsTFtpXT9zOnMrYShlKSsiPC8iK2krIj4iO2Nhc2UgTm9kZS5URVhUX05PREU6dmFyIHU9ZS5kYXRhO3JldHVybiB0JiZOW3QubG9jYWxOYW1lXT91OnIodSk7Y2FzZSBOb2RlLkNPTU1FTlRfTk9ERTpyZXR1cm4iPCEtLSIrZS5kYXRhKyItLT4iO2RlZmF1bHQ6dGhyb3cgY29uc29sZS5lcnJvcihlKSxuZXcgRXJyb3IoIm5vdCBpbXBsZW1lbnRlZCIpfX1mdW5jdGlvbiBhKGUpe2UgaW5zdGFuY2VvZiBULkhUTUxUZW1wbGF0ZUVsZW1lbnQmJihlPWUuY29udGVudCk7Zm9yKHZhciB0PSIiLG49ZS5maXJzdENoaWxkO247bj1uLm5leHRTaWJsaW5nKXQrPWkobixlKTtyZXR1cm4gdH1mdW5jdGlvbiBzKGUsdCxuKXt2YXIgcj1ufHwiZGl2IjtlLnRleHRDb250ZW50PSIiO3ZhciBvPVMoZS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQocikpO28uaW5uZXJIVE1MPXQ7Zm9yKHZhciBpO2k9by5maXJzdENoaWxkOyllLmFwcGVuZENoaWxkKE8oaSkpfWZ1bmN0aW9uIGMoZSl7Zi5jYWxsKHRoaXMsZSl9ZnVuY3Rpb24gbChlLHQpe3ZhciBuPVMoZS5jbG9uZU5vZGUoITEpKTtuLmlubmVySFRNTD10O2Zvcih2YXIgcixvPVMoZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTtyPW4uZmlyc3RDaGlsZDspby5hcHBlbmRDaGlsZChyKTtyZXR1cm4gTyhvKX1mdW5jdGlvbiB1KHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlLnJlbmRlckFsbFBlbmRpbmcoKSxFKHRoaXMpW3RdfX1mdW5jdGlvbiBkKGUpe20oYyxlLHUoZSkpfWZ1bmN0aW9uIHAodCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGMucHJvdG90eXBlLHQse2dldDp1KHQpLHNldDpmdW5jdGlvbihuKXtlLnJlbmRlckFsbFBlbmRpbmcoKSxFKHRoaXMpW3RdPW59LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSl9ZnVuY3Rpb24gaCh0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYy5wcm90b3R5cGUsdCx7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZS5yZW5kZXJBbGxQZW5kaW5nKCksRSh0aGlzKVt0XS5hcHBseShFKHRoaXMpLGFyZ3VtZW50cyl9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSl9dmFyIGY9ZS53cmFwcGVycy5FbGVtZW50LG09ZS5kZWZpbmVHZXR0ZXIsdj1lLmVucXVldWVNdXRhdGlvbix3PWUubWl4aW4sZz1lLm5vZGVzV2VyZUFkZGVkLGI9ZS5ub2Rlc1dlcmVSZW1vdmVkLHk9ZS5yZWdpc3RlcldyYXBwZXIsXz1lLnNuYXBzaG90Tm9kZUxpc3QsRT1lLnVuc2FmZVVud3JhcCxTPWUudW53cmFwLE89ZS53cmFwLFQ9ZS53cmFwcGVycyxNPS9bJlx1MDBBMCJdL2csQz0vWyZcdTAwQTA8Pl0vZyxMPW8oWyJhcmVhIiwiYmFzZSIsImJyIiwiY29sIiwiY29tbWFuZCIsImVtYmVkIiwiaHIiLCJpbWciLCJpbnB1dCIsImtleWdlbiIsImxpbmsiLCJtZXRhIiwicGFyYW0iLCJzb3VyY2UiLCJ0cmFjayIsIndiciJdKSxOPW8oWyJzdHlsZSIsInNjcmlwdCIsInhtcCIsImlmcmFtZSIsIm5vZW1iZWQiLCJub2ZyYW1lcyIsInBsYWludGV4dCIsIm5vc2NyaXB0Il0pLGo9L01TSUUvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksRD13aW5kb3cuSFRNTEVsZW1lbnQseD13aW5kb3cuSFRNTFRlbXBsYXRlRWxlbWVudDtjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGYucHJvdG90eXBlKSx3KGMucHJvdG90eXBlLHtnZXQgaW5uZXJIVE1MKCl7cmV0dXJuIGEodGhpcyl9LHNldCBpbm5lckhUTUwoZSl7aWYoaiYmTlt0aGlzLmxvY2FsTmFtZV0pcmV0dXJuIHZvaWQodGhpcy50ZXh0Q29udGVudD1lKTt2YXIgdD1fKHRoaXMuY2hpbGROb2Rlcyk7dGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKT90aGlzIGluc3RhbmNlb2YgVC5IVE1MVGVtcGxhdGVFbGVtZW50P3ModGhpcy5jb250ZW50LGUpOnModGhpcyxlLHRoaXMudGFnTmFtZSk6IXgmJnRoaXMgaW5zdGFuY2VvZiBULkhUTUxUZW1wbGF0ZUVsZW1lbnQ/cyh0aGlzLmNvbnRlbnQsZSk6RSh0aGlzKS5pbm5lckhUTUw9ZTt2YXIgbj1fKHRoaXMuY2hpbGROb2Rlcyk7dih0aGlzLCJjaGlsZExpc3QiLHthZGRlZE5vZGVzOm4scmVtb3ZlZE5vZGVzOnR9KSxiKHQpLGcobix0aGlzKX0sZ2V0IG91dGVySFRNTCgpe3JldHVybiBpKHRoaXMsdGhpcy5wYXJlbnROb2RlKX0sc2V0IG91dGVySFRNTChlKXt2YXIgdD10aGlzLnBhcmVudE5vZGU7aWYodCl7dC5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKTt2YXIgbj1sKHQsZSk7dC5yZXBsYWNlQ2hpbGQobix0aGlzKX19LGluc2VydEFkamFjZW50SFRNTDpmdW5jdGlvbihlLHQpe3ZhciBuLHI7c3dpdGNoKFN0cmluZyhlKS50b0xvd2VyQ2FzZSgpKXtjYXNlImJlZm9yZWJlZ2luIjpuPXRoaXMucGFyZW50Tm9kZSxyPXRoaXM7YnJlYWs7Y2FzZSJhZnRlcmVuZCI6bj10aGlzLnBhcmVudE5vZGUscj10aGlzLm5leHRTaWJsaW5nO2JyZWFrO2Nhc2UiYWZ0ZXJiZWdpbiI6bj10aGlzLHI9dGhpcy5maXJzdENoaWxkO2JyZWFrO2Nhc2UiYmVmb3JlZW5kIjpuPXRoaXMscj1udWxsO2JyZWFrO2RlZmF1bHQ6cmV0dXJufXZhciBvPWwobix0KTtuLmluc2VydEJlZm9yZShvLHIpfSxnZXQgaGlkZGVuKCl7cmV0dXJuIHRoaXMuaGFzQXR0cmlidXRlKCJoaWRkZW4iKX0sc2V0IGhpZGRlbihlKXtlP3RoaXMuc2V0QXR0cmlidXRlKCJoaWRkZW4iLCIiKTp0aGlzLnJlbW92ZUF0dHJpYnV0ZSgiaGlkZGVuIil9fSksWyJjbGllbnRIZWlnaHQiLCJjbGllbnRMZWZ0IiwiY2xpZW50VG9wIiwiY2xpZW50V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0VG9wIiwib2Zmc2V0V2lkdGgiLCJzY3JvbGxIZWlnaHQiLCJzY3JvbGxXaWR0aCJdLmZvckVhY2goZCksWyJzY3JvbGxMZWZ0Iiwic2Nyb2xsVG9wIl0uZm9yRWFjaChwKSxbImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImdldENsaWVudFJlY3RzIiwic2Nyb2xsSW50b1ZpZXciXS5mb3JFYWNoKGgpLHkoRCxjLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImIiKSksZS53cmFwcGVycy5IVE1MRWxlbWVudD1jLGUuZ2V0SW5uZXJIVE1MPWEsZS5zZXRJbm5lckhUTUw9c30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtuLmNhbGwodGhpcyxlKX12YXIgbj1lLndyYXBwZXJzLkhUTUxFbGVtZW50LHI9ZS5taXhpbixvPWUucmVnaXN0ZXJXcmFwcGVyLGk9ZS51bnNhZmVVbndyYXAsYT1lLndyYXAscz13aW5kb3cuSFRNTENhbnZhc0VsZW1lbnQ7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSkscih0LnByb3RvdHlwZSx7Z2V0Q29udGV4dDpmdW5jdGlvbigpe3ZhciBlPWkodGhpcykuZ2V0Q29udGV4dC5hcHBseShpKHRoaXMpLGFyZ3VtZW50cyk7cmV0dXJuIGUmJmEoZSl9fSksbyhzLHQsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikpLGUud3JhcHBlcnMuSFRNTENhbnZhc0VsZW1lbnQ9dH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtuLmNhbGwodGhpcyxlKX12YXIgbj1lLndyYXBwZXJzLkhUTUxFbGVtZW50LHI9ZS5taXhpbixvPWUucmVnaXN0ZXJXcmFwcGVyLGk9d2luZG93LkhUTUxDb250ZW50RWxlbWVudDt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSxyKHQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp0LGdldCBzZWxlY3QoKXtyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoInNlbGVjdCIpfSxzZXQgc2VsZWN0KGUpe3RoaXMuc2V0QXR0cmlidXRlKCJzZWxlY3QiLGUpfSxzZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oZSx0KXtuLnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUuY2FsbCh0aGlzLGUsdCksInNlbGVjdCI9PT1TdHJpbmcoZSkudG9Mb3dlckNhc2UoKSYmdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoITApfX0pLGkmJm8oaSx0KSxlLndyYXBwZXJzLkhUTUxDb250ZW50RWxlbWVudD10fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe24uY2FsbCh0aGlzLGUpfXZhciBuPWUud3JhcHBlcnMuSFRNTEVsZW1lbnQscj1lLm1peGluLG89ZS5yZWdpc3RlcldyYXBwZXIsaT1lLndyYXBIVE1MQ29sbGVjdGlvbixhPWUudW53cmFwLHM9d2luZG93LkhUTUxGb3JtRWxlbWVudDt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSxyKHQucHJvdG90eXBlLHtnZXQgZWxlbWVudHMoKXtyZXR1cm4gaShhKHRoaXMpLmVsZW1lbnRzKX19KSxvKHMsdCxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJmb3JtIikpLGUud3JhcHBlcnMuSFRNTEZvcm1FbGVtZW50PXR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7ci5jYWxsKHRoaXMsZSl9ZnVuY3Rpb24gbihlLHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIG4pKXRocm93IG5ldyBUeXBlRXJyb3IoIkRPTSBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLiIpO3ZhciBvPWkoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIikpO3IuY2FsbCh0aGlzLG8pLGEobyx0aGlzKSx2b2lkIDAhPT1lJiYoby53aWR0aD1lKSx2b2lkIDAhPT10JiYoby5oZWlnaHQ9dCl9dmFyIHI9ZS53cmFwcGVycy5IVE1MRWxlbWVudCxvPWUucmVnaXN0ZXJXcmFwcGVyLGk9ZS51bndyYXAsYT1lLnJld3JhcCxzPXdpbmRvdy5IVE1MSW1hZ2VFbGVtZW50O3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpLG8ocyx0LGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpKSxuLnByb3RvdHlwZT10LnByb3RvdHlwZSxlLndyYXBwZXJzLkhUTUxJbWFnZUVsZW1lbnQ9dCxlLndyYXBwZXJzLkltYWdlPW59KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7bi5jYWxsKHRoaXMsZSl9dmFyIG49ZS53cmFwcGVycy5IVE1MRWxlbWVudCxyPShlLm1peGluLGUud3JhcHBlcnMuTm9kZUxpc3QsZS5yZWdpc3RlcldyYXBwZXIpLG89d2luZG93LkhUTUxTaGFkb3dFbGVtZW50O3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXQsbyYmcihvLHQpLGUud3JhcHBlcnMuSFRNTFNoYWRvd0VsZW1lbnQ9dH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtpZighZS5kZWZhdWx0VmlldylyZXR1cm4gZTt2YXIgdD1kLmdldChlKTtpZighdCl7Zm9yKHQ9ZS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpO3QubGFzdENoaWxkOyl0LnJlbW92ZUNoaWxkKHQubGFzdENoaWxkKTtkLnNldChlLHQpfXJldHVybiB0fWZ1bmN0aW9uIG4oZSl7Zm9yKHZhciBuLHI9dChlLm93bmVyRG9jdW1lbnQpLG89YyhyLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7bj1lLmZpcnN0Q2hpbGQ7KW8uYXBwZW5kQ2hpbGQobik7cmV0dXJuIG99ZnVuY3Rpb24gcihlKXtpZihvLmNhbGwodGhpcyxlKSwhcCl7dmFyIHQ9bihlKTt1LnNldCh0aGlzLGwodCkpfX12YXIgbz1lLndyYXBwZXJzLkhUTUxFbGVtZW50LGk9ZS5taXhpbixhPWUucmVnaXN0ZXJXcmFwcGVyLHM9ZS51bnNhZmVVbndyYXAsYz1lLnVud3JhcCxsPWUud3JhcCx1PW5ldyBXZWFrTWFwLGQ9bmV3IFdlYWtNYXAscD13aW5kb3cuSFRNTFRlbXBsYXRlRWxlbWVudDtyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSxpKHIucHJvdG90eXBlLHtjb25zdHJ1Y3RvcjpyLGdldCBjb250ZW50KCl7cmV0dXJuIHA/bChzKHRoaXMpLmNvbnRlbnQpOnUuZ2V0KHRoaXMpfX0pLHAmJmEocCxyKSxlLndyYXBwZXJzLkhUTUxUZW1wbGF0ZUVsZW1lbnQ9cn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtuLmNhbGwodGhpcyxlKX12YXIgbj1lLndyYXBwZXJzLkhUTUxFbGVtZW50LHI9ZS5yZWdpc3RlcldyYXBwZXIsbz13aW5kb3cuSFRNTE1lZGlhRWxlbWVudDtvJiYodC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSkscihvLHQsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYXVkaW8iKSksZS53cmFwcGVycy5IVE1MTWVkaWFFbGVtZW50PXQpfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe3IuY2FsbCh0aGlzLGUpfWZ1bmN0aW9uIG4oZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgbikpdGhyb3cgbmV3IFR5cGVFcnJvcigiRE9NIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uIik7dmFyIHQ9aShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpKTtyLmNhbGwodGhpcyx0KSxhKHQsdGhpcyksdC5zZXRBdHRyaWJ1dGUoInByZWxvYWQiLCJhdXRvIiksdm9pZCAwIT09ZSYmdC5zZXRBdHRyaWJ1dGUoInNyYyIsZSl9dmFyIHI9ZS53cmFwcGVycy5IVE1MTWVkaWFFbGVtZW50LG89ZS5yZWdpc3RlcldyYXBwZXIsaT1lLnVud3JhcCxhPWUucmV3cmFwLHM9d2luZG93LkhUTUxBdWRpb0VsZW1lbnQ7cyYmKHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpLG8ocyx0LGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImF1ZGlvIikpLG4ucHJvdG90eXBlPXQucHJvdG90eXBlLGUud3JhcHBlcnMuSFRNTEF1ZGlvRWxlbWVudD10LGUud3JhcHBlcnMuQXVkaW89bil9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7cmV0dXJuIGUucmVwbGFjZSgvXHMrL2csIiAiKS50cmltKCl9ZnVuY3Rpb24gbihlKXtvLmNhbGwodGhpcyxlKX1mdW5jdGlvbiByKGUsdCxuLGkpe2lmKCEodGhpcyBpbnN0YW5jZW9mIHIpKXRocm93IG5ldyBUeXBlRXJyb3IoIkRPTSBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLiIpO3ZhciBhPWMoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpO28uY2FsbCh0aGlzLGEpLHMoYSx0aGlzKSx2b2lkIDAhPT1lJiYoYS50ZXh0PWUpLHZvaWQgMCE9PXQmJmEuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsdCksbj09PSEwJiZhLnNldEF0dHJpYnV0ZSgic2VsZWN0ZWQiLCIiKSxhLnNlbGVjdGVkPWk9PT0hMH12YXIgbz1lLndyYXBwZXJzLkhUTUxFbGVtZW50LGk9ZS5taXhpbixhPWUucmVnaXN0ZXJXcmFwcGVyLHM9ZS5yZXdyYXAsYz1lLnVud3JhcCxsPWUud3JhcCx1PXdpbmRvdy5IVE1MT3B0aW9uRWxlbWVudDtuLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSxpKG4ucHJvdG90eXBlLHtnZXQgdGV4dCgpe3JldHVybiB0KHRoaXMudGV4dENvbnRlbnQpfSxzZXQgdGV4dChlKXt0aGlzLnRleHRDb250ZW50PXQoU3RyaW5nKGUpKX0sZ2V0IGZvcm0oKXtyZXR1cm4gbChjKHRoaXMpLmZvcm0pfX0pLGEodSxuLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKSxyLnByb3RvdHlwZT1uLnByb3RvdHlwZSxlLndyYXBwZXJzLkhUTUxPcHRpb25FbGVtZW50PW4sZS53cmFwcGVycy5PcHRpb249cn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtuLmNhbGwodGhpcyxlKX12YXIgbj1lLndyYXBwZXJzLkhUTUxFbGVtZW50LHI9ZS5taXhpbixvPWUucmVnaXN0ZXJXcmFwcGVyLGk9ZS51bndyYXAsYT1lLndyYXAscz13aW5kb3cuSFRNTFNlbGVjdEVsZW1lbnQ7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSkscih0LnByb3RvdHlwZSx7YWRkOmZ1bmN0aW9uKGUsdCl7Im9iamVjdCI9PXR5cGVvZiB0JiYodD1pKHQpKSxpKHRoaXMpLmFkZChpKGUpLHQpfSxyZW1vdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWU/dm9pZCBuLnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzKTooIm9iamVjdCI9PXR5cGVvZiBlJiYoZT1pKGUpKSx2b2lkIGkodGhpcykucmVtb3ZlKGUpKX0sZ2V0IGZvcm0oKXtyZXR1cm4gYShpKHRoaXMpLmZvcm0pfX0pLG8ocyx0LGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpKSxlLndyYXBwZXJzLkhUTUxTZWxlY3RFbGVtZW50PXR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7bi5jYWxsKHRoaXMsZSl9dmFyIG49ZS53cmFwcGVycy5IVE1MRWxlbWVudCxyPWUubWl4aW4sbz1lLnJlZ2lzdGVyV3JhcHBlcixpPWUudW53cmFwLGE9ZS53cmFwLHM9ZS53cmFwSFRNTENvbGxlY3Rpb24sYz13aW5kb3cuSFRNTFRhYmxlRWxlbWVudDt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSxyKHQucHJvdG90eXBlLHtnZXQgY2FwdGlvbigpe3JldHVybiBhKGkodGhpcykuY2FwdGlvbil9LGNyZWF0ZUNhcHRpb246ZnVuY3Rpb24oKXtyZXR1cm4gYShpKHRoaXMpLmNyZWF0ZUNhcHRpb24oKSl9LGdldCB0SGVhZCgpe3JldHVybiBhKGkodGhpcykudEhlYWQpfSxjcmVhdGVUSGVhZDpmdW5jdGlvbigpe3JldHVybiBhKGkodGhpcykuY3JlYXRlVEhlYWQoKSl9LGNyZWF0ZVRGb290OmZ1bmN0aW9uKCl7cmV0dXJuIGEoaSh0aGlzKS5jcmVhdGVURm9vdCgpKX0sZ2V0IHRGb290KCl7cmV0dXJuIGEoaSh0aGlzKS50Rm9vdCl9LGdldCB0Qm9kaWVzKCl7cmV0dXJuIHMoaSh0aGlzKS50Qm9kaWVzKX0sY3JlYXRlVEJvZHk6ZnVuY3Rpb24oKXtyZXR1cm4gYShpKHRoaXMpLmNyZWF0ZVRCb2R5KCkpfSxnZXQgcm93cygpe3JldHVybiBzKGkodGhpcykucm93cyl9LGluc2VydFJvdzpmdW5jdGlvbihlKXtyZXR1cm4gYShpKHRoaXMpLmluc2VydFJvdyhlKSl9fSksbyhjLHQsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKSksZS53cmFwcGVycy5IVE1MVGFibGVFbGVtZW50PXR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7bi5jYWxsKHRoaXMsZSl9dmFyIG49ZS53cmFwcGVycy5IVE1MRWxlbWVudCxyPWUubWl4aW4sbz1lLnJlZ2lzdGVyV3JhcHBlcixpPWUud3JhcEhUTUxDb2xsZWN0aW9uLGE9ZS51bndyYXAscz1lLndyYXAsYz13aW5kb3cuSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQ7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSkscih0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6dCxnZXQgcm93cygpe3JldHVybiBpKGEodGhpcykucm93cyl9LGluc2VydFJvdzpmdW5jdGlvbihlKXtyZXR1cm4gcyhhKHRoaXMpLmluc2VydFJvdyhlKSl9fSksbyhjLHQsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGhlYWQiKSksZS53cmFwcGVycy5IVE1MVGFibGVTZWN0aW9uRWxlbWVudD10fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe24uY2FsbCh0aGlzLGUpfXZhciBuPWUud3JhcHBlcnMuSFRNTEVsZW1lbnQscj1lLm1peGluLG89ZS5yZWdpc3RlcldyYXBwZXIsaT1lLndyYXBIVE1MQ29sbGVjdGlvbixhPWUudW53cmFwLHM9ZS53cmFwLGM9d2luZG93LkhUTUxUYWJsZVJvd0VsZW1lbnQ7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSkscih0LnByb3RvdHlwZSx7Z2V0IGNlbGxzKCl7cmV0dXJuIGkoYSh0aGlzKS5jZWxscyl9LGluc2VydENlbGw6ZnVuY3Rpb24oZSl7cmV0dXJuIHMoYSh0aGlzKS5pbnNlcnRDZWxsKGUpKX19KSxvKGMsdCxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpKSxlLndyYXBwZXJzLkhUTUxUYWJsZVJvd0VsZW1lbnQ9dH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtzd2l0Y2goZS5sb2NhbE5hbWUpe2Nhc2UiY29udGVudCI6cmV0dXJuIG5ldyBuKGUpO2Nhc2Uic2hhZG93IjpyZXR1cm4gbmV3IG8oZSk7Y2FzZSJ0ZW1wbGF0ZSI6cmV0dXJuIG5ldyBpKGUpfXIuY2FsbCh0aGlzLGUpfXZhciBuPWUud3JhcHBlcnMuSFRNTENvbnRlbnRFbGVtZW50LHI9ZS53cmFwcGVycy5IVE1MRWxlbWVudCxvPWUud3JhcHBlcnMuSFRNTFNoYWRvd0VsZW1lbnQsaT1lLndyYXBwZXJzLkhUTUxUZW1wbGF0ZUVsZW1lbnQsYT0oZS5taXhpbixlLnJlZ2lzdGVyV3JhcHBlcikscz13aW5kb3cuSFRNTFVua25vd25FbGVtZW50O3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpLGEocyx0KSxlLndyYXBwZXJzLkhUTUxVbmtub3duRWxlbWVudD10fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD1lLndyYXBwZXJzLkVsZW1lbnQsbj1lLndyYXBwZXJzLkhUTUxFbGVtZW50LHI9ZS5yZWdpc3Rlck9iamVjdCxvPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobywidGl0bGUiKSxhPXIoaSkscz1PYmplY3QuZ2V0UHJvdG90eXBlT2YoYS5wcm90b3R5cGUpLmNvbnN0cnVjdG9yO2lmKCEoImNsYXNzTGlzdCJpbiBpKSl7dmFyIGM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LnByb3RvdHlwZSwiY2xhc3NMaXN0Iik7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLCJjbGFzc0xpc3QiLGMpLGRlbGV0ZSB0LnByb3RvdHlwZS5jbGFzc0xpc3R9ZS53cmFwcGVycy5TVkdFbGVtZW50PXN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7cC5jYWxsKHRoaXMsZSl9dmFyIG49ZS5taXhpbixyPWUucmVnaXN0ZXJXcmFwcGVyLG89ZS51bndyYXAsaT1lLndyYXAsYT13aW5kb3cuU1ZHVXNlRWxlbWVudCxzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsYz1pKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzLCJnIikpLGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHMsInVzZSIpLHU9Yy5jb25zdHJ1Y3RvcixkPU9iamVjdC5nZXRQcm90b3R5cGVPZih1LnByb3RvdHlwZSkscD1kLmNvbnN0cnVjdG9yO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZCksImluc3RhbmNlUm9vdCJpbiBsJiZuKHQucHJvdG90eXBlLHtnZXQgaW5zdGFuY2VSb290KCl7cmV0dXJuIGkobyh0aGlzKS5pbnN0YW5jZVJvb3QpfSxnZXQgYW5pbWF0ZWRJbnN0YW5jZVJvb3QoKXtyZXR1cm4gaShvKHRoaXMpLmFuaW1hdGVkSW5zdGFuY2VSb290KX19KSxyKGEsdCxsKSxlLndyYXBwZXJzLlNWR1VzZUVsZW1lbnQ9dH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtuLmNhbGwodGhpcyxlKX12YXIgbj1lLndyYXBwZXJzLkV2ZW50VGFyZ2V0LHI9ZS5taXhpbixvPWUucmVnaXN0ZXJXcmFwcGVyLGk9ZS51bnNhZmVVbndyYXAsYT1lLndyYXAscz13aW5kb3cuU1ZHRWxlbWVudEluc3RhbmNlO3MmJih0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSxyKHQucHJvdG90eXBlLHtnZXQgY29ycmVzcG9uZGluZ0VsZW1lbnQoKXtyZXR1cm4gYShpKHRoaXMpLmNvcnJlc3BvbmRpbmdFbGVtZW50KQp9LGdldCBjb3JyZXNwb25kaW5nVXNlRWxlbWVudCgpe3JldHVybiBhKGkodGhpcykuY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQpfSxnZXQgcGFyZW50Tm9kZSgpe3JldHVybiBhKGkodGhpcykucGFyZW50Tm9kZSl9LGdldCBjaGlsZE5vZGVzKCl7dGhyb3cgbmV3IEVycm9yKCJOb3QgaW1wbGVtZW50ZWQiKX0sZ2V0IGZpcnN0Q2hpbGQoKXtyZXR1cm4gYShpKHRoaXMpLmZpcnN0Q2hpbGQpfSxnZXQgbGFzdENoaWxkKCl7cmV0dXJuIGEoaSh0aGlzKS5sYXN0Q2hpbGQpfSxnZXQgcHJldmlvdXNTaWJsaW5nKCl7cmV0dXJuIGEoaSh0aGlzKS5wcmV2aW91c1NpYmxpbmcpfSxnZXQgbmV4dFNpYmxpbmcoKXtyZXR1cm4gYShpKHRoaXMpLm5leHRTaWJsaW5nKX19KSxvKHMsdCksZS53cmFwcGVycy5TVkdFbGVtZW50SW5zdGFuY2U9dCl9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7byhlLHRoaXMpfXZhciBuPWUubWl4aW4scj1lLnJlZ2lzdGVyV3JhcHBlcixvPWUuc2V0V3JhcHBlcixpPWUudW5zYWZlVW53cmFwLGE9ZS51bndyYXAscz1lLnVud3JhcElmTmVlZGVkLGM9ZS53cmFwLGw9d2luZG93LkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtuKHQucHJvdG90eXBlLHtnZXQgY2FudmFzKCl7cmV0dXJuIGMoaSh0aGlzKS5jYW52YXMpfSxkcmF3SW1hZ2U6ZnVuY3Rpb24oKXthcmd1bWVudHNbMF09cyhhcmd1bWVudHNbMF0pLGkodGhpcykuZHJhd0ltYWdlLmFwcGx5KGkodGhpcyksYXJndW1lbnRzKX0sY3JlYXRlUGF0dGVybjpmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF09YShhcmd1bWVudHNbMF0pLGkodGhpcykuY3JlYXRlUGF0dGVybi5hcHBseShpKHRoaXMpLGFyZ3VtZW50cyl9fSkscihsLHQsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dCgiMmQiKSksZS53cmFwcGVycy5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ9dH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtvKGUsdGhpcyl9dmFyIG49ZS5taXhpbixyPWUucmVnaXN0ZXJXcmFwcGVyLG89ZS5zZXRXcmFwcGVyLGk9ZS51bnNhZmVVbndyYXAsYT1lLnVud3JhcElmTmVlZGVkLHM9ZS53cmFwLGM9d2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dDtpZihjKXtuKHQucHJvdG90eXBlLHtnZXQgY2FudmFzKCl7cmV0dXJuIHMoaSh0aGlzKS5jYW52YXMpfSx0ZXhJbWFnZTJEOmZ1bmN0aW9uKCl7YXJndW1lbnRzWzVdPWEoYXJndW1lbnRzWzVdKSxpKHRoaXMpLnRleEltYWdlMkQuYXBwbHkoaSh0aGlzKSxhcmd1bWVudHMpfSx0ZXhTdWJJbWFnZTJEOmZ1bmN0aW9uKCl7YXJndW1lbnRzWzZdPWEoYXJndW1lbnRzWzZdKSxpKHRoaXMpLnRleFN1YkltYWdlMkQuYXBwbHkoaSh0aGlzKSxhcmd1bWVudHMpfX0pO3ZhciBsPS9XZWJLaXQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk/e2RyYXdpbmdCdWZmZXJIZWlnaHQ6bnVsbCxkcmF3aW5nQnVmZmVyV2lkdGg6bnVsbH06e307cihjLHQsbCksZS53cmFwcGVycy5XZWJHTFJlbmRlcmluZ0NvbnRleHQ9dH19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7cihlLHRoaXMpfXZhciBuPWUucmVnaXN0ZXJXcmFwcGVyLHI9ZS5zZXRXcmFwcGVyLG89ZS51bnNhZmVVbndyYXAsaT1lLnVud3JhcCxhPWUudW53cmFwSWZOZWVkZWQscz1lLndyYXAsYz13aW5kb3cuUmFuZ2U7dC5wcm90b3R5cGU9e2dldCBzdGFydENvbnRhaW5lcigpe3JldHVybiBzKG8odGhpcykuc3RhcnRDb250YWluZXIpfSxnZXQgZW5kQ29udGFpbmVyKCl7cmV0dXJuIHMobyh0aGlzKS5lbmRDb250YWluZXIpfSxnZXQgY29tbW9uQW5jZXN0b3JDb250YWluZXIoKXtyZXR1cm4gcyhvKHRoaXMpLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKX0sc2V0U3RhcnQ6ZnVuY3Rpb24oZSx0KXtvKHRoaXMpLnNldFN0YXJ0KGEoZSksdCl9LHNldEVuZDpmdW5jdGlvbihlLHQpe28odGhpcykuc2V0RW5kKGEoZSksdCl9LHNldFN0YXJ0QmVmb3JlOmZ1bmN0aW9uKGUpe28odGhpcykuc2V0U3RhcnRCZWZvcmUoYShlKSl9LHNldFN0YXJ0QWZ0ZXI6ZnVuY3Rpb24oZSl7byh0aGlzKS5zZXRTdGFydEFmdGVyKGEoZSkpfSxzZXRFbmRCZWZvcmU6ZnVuY3Rpb24oZSl7byh0aGlzKS5zZXRFbmRCZWZvcmUoYShlKSl9LHNldEVuZEFmdGVyOmZ1bmN0aW9uKGUpe28odGhpcykuc2V0RW5kQWZ0ZXIoYShlKSl9LHNlbGVjdE5vZGU6ZnVuY3Rpb24oZSl7byh0aGlzKS5zZWxlY3ROb2RlKGEoZSkpfSxzZWxlY3ROb2RlQ29udGVudHM6ZnVuY3Rpb24oZSl7byh0aGlzKS5zZWxlY3ROb2RlQ29udGVudHMoYShlKSl9LGNvbXBhcmVCb3VuZGFyeVBvaW50czpmdW5jdGlvbihlLHQpe3JldHVybiBvKHRoaXMpLmNvbXBhcmVCb3VuZGFyeVBvaW50cyhlLGkodCkpfSxleHRyYWN0Q29udGVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gcyhvKHRoaXMpLmV4dHJhY3RDb250ZW50cygpKX0sY2xvbmVDb250ZW50czpmdW5jdGlvbigpe3JldHVybiBzKG8odGhpcykuY2xvbmVDb250ZW50cygpKX0saW5zZXJ0Tm9kZTpmdW5jdGlvbihlKXtvKHRoaXMpLmluc2VydE5vZGUoYShlKSl9LHN1cnJvdW5kQ29udGVudHM6ZnVuY3Rpb24oZSl7byh0aGlzKS5zdXJyb3VuZENvbnRlbnRzKGEoZSkpfSxjbG9uZVJhbmdlOmZ1bmN0aW9uKCl7cmV0dXJuIHMobyh0aGlzKS5jbG9uZVJhbmdlKCkpfSxpc1BvaW50SW5SYW5nZTpmdW5jdGlvbihlLHQpe3JldHVybiBvKHRoaXMpLmlzUG9pbnRJblJhbmdlKGEoZSksdCl9LGNvbXBhcmVQb2ludDpmdW5jdGlvbihlLHQpe3JldHVybiBvKHRoaXMpLmNvbXBhcmVQb2ludChhKGUpLHQpfSxpbnRlcnNlY3RzTm9kZTpmdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzKS5pbnRlcnNlY3RzTm9kZShhKGUpKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gbyh0aGlzKS50b1N0cmluZygpfX0sYy5wcm90b3R5cGUuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50JiYodC5wcm90b3R5cGUuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50PWZ1bmN0aW9uKGUpe3JldHVybiBzKG8odGhpcykuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KGUpKX0pLG4od2luZG93LlJhbmdlLHQsZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSksZS53cmFwcGVycy5SYW5nZT10fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD1lLkdldEVsZW1lbnRzQnlJbnRlcmZhY2Usbj1lLlBhcmVudE5vZGVJbnRlcmZhY2Uscj1lLlNlbGVjdG9yc0ludGVyZmFjZSxvPWUubWl4aW4saT1lLnJlZ2lzdGVyT2JqZWN0LGE9aShkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO28oYS5wcm90b3R5cGUsbiksbyhhLnByb3RvdHlwZSxyKSxvKGEucHJvdG90eXBlLHQpO3ZhciBzPWkoZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgiIikpO2Uud3JhcHBlcnMuQ29tbWVudD1zLGUud3JhcHBlcnMuRG9jdW1lbnRGcmFnbWVudD1hfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe3ZhciB0PWQodShlKS5vd25lckRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7bi5jYWxsKHRoaXMsdCksYyh0LHRoaXMpO3ZhciBvPWUuc2hhZG93Um9vdDtoLnNldCh0aGlzLG8pLHRoaXMudHJlZVNjb3BlXz1uZXcgcih0aGlzLGEob3x8ZSkpLHAuc2V0KHRoaXMsZSl9dmFyIG49ZS53cmFwcGVycy5Eb2N1bWVudEZyYWdtZW50LHI9ZS5UcmVlU2NvcGUsbz1lLmVsZW1lbnRGcm9tUG9pbnQsaT1lLmdldElubmVySFRNTCxhPWUuZ2V0VHJlZVNjb3BlLHM9ZS5taXhpbixjPWUucmV3cmFwLGw9ZS5zZXRJbm5lckhUTUwsdT1lLnVuc2FmZVVud3JhcCxkPWUudW53cmFwLHA9bmV3IFdlYWtNYXAsaD1uZXcgV2Vha01hcCxmPS9bIFx0XG5cclxmXS87dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSkscyh0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6dCxnZXQgaW5uZXJIVE1MKCl7cmV0dXJuIGkodGhpcyl9LHNldCBpbm5lckhUTUwoZSl7bCh0aGlzLGUpLHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCl9LGdldCBvbGRlclNoYWRvd1Jvb3QoKXtyZXR1cm4gaC5nZXQodGhpcyl8fG51bGx9LGdldCBob3N0KCl7cmV0dXJuIHAuZ2V0KHRoaXMpfHxudWxsfSxpbnZhbGlkYXRlU2hhZG93UmVuZGVyZXI6ZnVuY3Rpb24oKXtyZXR1cm4gcC5nZXQodGhpcykuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCl9LGVsZW1lbnRGcm9tUG9pbnQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyh0aGlzLHRoaXMub3duZXJEb2N1bWVudCxlLHQpfSxnZXRFbGVtZW50QnlJZDpmdW5jdGlvbihlKXtyZXR1cm4gZi50ZXN0KGUpP251bGw6dGhpcy5xdWVyeVNlbGVjdG9yKCdbaWQ9IicrZSsnIl0nKX19KSxlLndyYXBwZXJzLlNoYWRvd1Jvb3Q9dH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtlLnByZXZpb3VzU2libGluZ189ZS5wcmV2aW91c1NpYmxpbmcsZS5uZXh0U2libGluZ189ZS5uZXh0U2libGluZyxlLnBhcmVudE5vZGVfPWUucGFyZW50Tm9kZX1mdW5jdGlvbiBuKG4sbyxpKXt2YXIgYT1IKG4pLHM9SChvKSxjPWk/SChpKTpudWxsO2lmKHIobyksdChvKSxpKW4uZmlyc3RDaGlsZD09PWkmJihuLmZpcnN0Q2hpbGRfPWkpLGkucHJldmlvdXNTaWJsaW5nXz1pLnByZXZpb3VzU2libGluZztlbHNle24ubGFzdENoaWxkXz1uLmxhc3RDaGlsZCxuLmxhc3RDaGlsZD09PW4uZmlyc3RDaGlsZCYmKG4uZmlyc3RDaGlsZF89bi5maXJzdENoaWxkKTt2YXIgbD1SKGEubGFzdENoaWxkKTtsJiYobC5uZXh0U2libGluZ189bC5uZXh0U2libGluZyl9ZS5vcmlnaW5hbEluc2VydEJlZm9yZS5jYWxsKGEscyxjKX1mdW5jdGlvbiByKG4pe3ZhciByPUgobiksbz1yLnBhcmVudE5vZGU7aWYobyl7dmFyIGk9UihvKTt0KG4pLG4ucHJldmlvdXNTaWJsaW5nJiYobi5wcmV2aW91c1NpYmxpbmcubmV4dFNpYmxpbmdfPW4pLG4ubmV4dFNpYmxpbmcmJihuLm5leHRTaWJsaW5nLnByZXZpb3VzU2libGluZ189biksaS5sYXN0Q2hpbGQ9PT1uJiYoaS5sYXN0Q2hpbGRfPW4pLGkuZmlyc3RDaGlsZD09PW4mJihpLmZpcnN0Q2hpbGRfPW4pLGUub3JpZ2luYWxSZW1vdmVDaGlsZC5jYWxsKG8scil9fWZ1bmN0aW9uIG8oZSl7UC5zZXQoZSxbXSl9ZnVuY3Rpb24gaShlKXt2YXIgdD1QLmdldChlKTtyZXR1cm4gdHx8UC5zZXQoZSx0PVtdKSx0fWZ1bmN0aW9uIGEoZSl7Zm9yKHZhciB0PVtdLG49MCxyPWUuZmlyc3RDaGlsZDtyO3I9ci5uZXh0U2libGluZyl0W24rK109cjtyZXR1cm4gdH1mdW5jdGlvbiBzKCl7Zm9yKHZhciBlPTA7ZTxGLmxlbmd0aDtlKyspe3ZhciB0PUZbZV0sbj10LnBhcmVudFJlbmRlcmVyO24mJm4uZGlydHl8fHQucmVuZGVyKCl9Rj1bXX1mdW5jdGlvbiBjKCl7Tz1udWxsLHMoKX1mdW5jdGlvbiBsKGUpe3ZhciB0PWsuZ2V0KGUpO3JldHVybiB0fHwodD1uZXcgaChlKSxrLnNldChlLHQpKSx0fWZ1bmN0aW9uIHUoZSl7dmFyIHQ9aihlKS5yb290O3JldHVybiB0IGluc3RhbmNlb2YgTj90Om51bGx9ZnVuY3Rpb24gZChlKXtyZXR1cm4gbChlLmhvc3QpfWZ1bmN0aW9uIHAoZSl7dGhpcy5za2lwPSExLHRoaXMubm9kZT1lLHRoaXMuY2hpbGROb2Rlcz1bXX1mdW5jdGlvbiBoKGUpe3RoaXMuaG9zdD1lLHRoaXMuZGlydHk9ITEsdGhpcy5pbnZhbGlkYXRlQXR0cmlidXRlcygpLHRoaXMuYXNzb2NpYXRlTm9kZShlKX1mdW5jdGlvbiBmKGUpe2Zvcih2YXIgdD1bXSxuPWUuZmlyc3RDaGlsZDtuO249bi5uZXh0U2libGluZylfKG4pP3QucHVzaC5hcHBseSh0LGkobikpOnQucHVzaChuKTtyZXR1cm4gdH1mdW5jdGlvbiBtKGUpe2lmKGUgaW5zdGFuY2VvZiBDKXJldHVybiBlO2lmKGUgaW5zdGFuY2VvZiBNKXJldHVybiBudWxsO2Zvcih2YXIgdD1lLmZpcnN0Q2hpbGQ7dDt0PXQubmV4dFNpYmxpbmcpe3ZhciBuPW0odCk7aWYobilyZXR1cm4gbn1yZXR1cm4gbnVsbH1mdW5jdGlvbiB2KGUsdCl7aSh0KS5wdXNoKGUpO3ZhciBuPUkuZ2V0KGUpO24/bi5wdXNoKHQpOkkuc2V0KGUsW3RdKX1mdW5jdGlvbiB3KGUpe3JldHVybiBJLmdldChlKX1mdW5jdGlvbiBnKGUpe0kuc2V0KGUsdm9pZCAwKX1mdW5jdGlvbiBiKGUsdCl7dmFyIG49dC5nZXRBdHRyaWJ1dGUoInNlbGVjdCIpO2lmKCFuKXJldHVybiEwO2lmKG49bi50cmltKCksIW4pcmV0dXJuITA7aWYoIShlIGluc3RhbmNlb2YgVCkpcmV0dXJuITE7aWYoIXEudGVzdChuKSlyZXR1cm4hMTt0cnl7cmV0dXJuIGUubWF0Y2hlcyhuKX1jYXRjaChyKXtyZXR1cm4hMX19ZnVuY3Rpb24geShlLHQpe3ZhciBuPXcodCk7cmV0dXJuIG4mJm5bbi5sZW5ndGgtMV09PT1lfWZ1bmN0aW9uIF8oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBNfHxlIGluc3RhbmNlb2YgQ31mdW5jdGlvbiBFKGUpe3JldHVybiBlLnNoYWRvd1Jvb3R9ZnVuY3Rpb24gUyhlKXtmb3IodmFyIHQ9W10sbj1lLnNoYWRvd1Jvb3Q7bjtuPW4ub2xkZXJTaGFkb3dSb290KXQucHVzaChuKTtyZXR1cm4gdH12YXIgTyxUPWUud3JhcHBlcnMuRWxlbWVudCxNPWUud3JhcHBlcnMuSFRNTENvbnRlbnRFbGVtZW50LEM9ZS53cmFwcGVycy5IVE1MU2hhZG93RWxlbWVudCxMPWUud3JhcHBlcnMuTm9kZSxOPWUud3JhcHBlcnMuU2hhZG93Um9vdCxqPShlLmFzc2VydCxlLmdldFRyZWVTY29wZSksRD0oZS5taXhpbixlLm9uZU9mKSx4PWUudW5zYWZlVW53cmFwLEg9ZS51bndyYXAsUj1lLndyYXAsUD1uZXcgV2Vha01hcCxJPW5ldyBXZWFrTWFwLGs9bmV3IFdlYWtNYXAsQT1EKHdpbmRvdyxbInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1velJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsInNldFRpbWVvdXQiXSksRj1bXSxXPW5ldyBBcnJheVNwbGljZTtXLmVxdWFscz1mdW5jdGlvbihlLHQpe3JldHVybiBIKGUubm9kZSk9PT10fSxwLnByb3RvdHlwZT17YXBwZW5kOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBwKGUpO3JldHVybiB0aGlzLmNoaWxkTm9kZXMucHVzaCh0KSx0fSxzeW5jOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLnNraXApe2Zvcih2YXIgdD10aGlzLm5vZGUsbz10aGlzLmNoaWxkTm9kZXMsaT1hKEgodCkpLHM9ZXx8bmV3IFdlYWtNYXAsYz1XLmNhbGN1bGF0ZVNwbGljZXMobyxpKSxsPTAsdT0wLGQ9MCxwPTA7cDxjLmxlbmd0aDtwKyspe2Zvcih2YXIgaD1jW3BdO2Q8aC5pbmRleDtkKyspdSsrLG9bbCsrXS5zeW5jKHMpO2Zvcih2YXIgZj1oLnJlbW92ZWQubGVuZ3RoLG09MDtmPm07bSsrKXt2YXIgdj1SKGlbdSsrXSk7cy5nZXQodil8fHIodil9Zm9yKHZhciB3PWguYWRkZWRDb3VudCxnPWlbdV0mJlIoaVt1XSksbT0wO3c+bTttKyspe3ZhciBiPW9bbCsrXSx5PWIubm9kZTtuKHQseSxnKSxzLnNldCh5LCEwKSxiLnN5bmMocyl9ZCs9d31mb3IodmFyIHA9ZDtwPG8ubGVuZ3RoO3ArKylvW3BdLnN5bmMocyl9fX0saC5wcm90b3R5cGU9e3JlbmRlcjpmdW5jdGlvbihlKXtpZih0aGlzLmRpcnR5KXt0aGlzLmludmFsaWRhdGVBdHRyaWJ1dGVzKCk7dmFyIHQ9dGhpcy5ob3N0O3RoaXMuZGlzdHJpYnV0aW9uKHQpO3ZhciBuPWV8fG5ldyBwKHQpO3RoaXMuYnVpbGRSZW5kZXJUcmVlKG4sdCk7dmFyIHI9IWU7ciYmbi5zeW5jKCksdGhpcy5kaXJ0eT0hMX19LGdldCBwYXJlbnRSZW5kZXJlcigpe3JldHVybiBqKHRoaXMuaG9zdCkucmVuZGVyZXJ9LGludmFsaWRhdGU6ZnVuY3Rpb24oKXtpZighdGhpcy5kaXJ0eSl7dGhpcy5kaXJ0eT0hMDt2YXIgZT10aGlzLnBhcmVudFJlbmRlcmVyO2lmKGUmJmUuaW52YWxpZGF0ZSgpLEYucHVzaCh0aGlzKSxPKXJldHVybjtPPXdpbmRvd1tBXShjLDApfX0sZGlzdHJpYnV0aW9uOmZ1bmN0aW9uKGUpe3RoaXMucmVzZXRBbGxTdWJ0cmVlcyhlKSx0aGlzLmRpc3RyaWJ1dGlvblJlc29sdXRpb24oZSl9LHJlc2V0QWxsOmZ1bmN0aW9uKGUpe18oZSk/byhlKTpnKGUpLHRoaXMucmVzZXRBbGxTdWJ0cmVlcyhlKX0scmVzZXRBbGxTdWJ0cmVlczpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5maXJzdENoaWxkO3Q7dD10Lm5leHRTaWJsaW5nKXRoaXMucmVzZXRBbGwodCk7ZS5zaGFkb3dSb290JiZ0aGlzLnJlc2V0QWxsKGUuc2hhZG93Um9vdCksZS5vbGRlclNoYWRvd1Jvb3QmJnRoaXMucmVzZXRBbGwoZS5vbGRlclNoYWRvd1Jvb3QpfSxkaXN0cmlidXRpb25SZXNvbHV0aW9uOmZ1bmN0aW9uKGUpe2lmKEUoZSkpe2Zvcih2YXIgdD1lLG49Zih0KSxyPVModCksbz0wO288ci5sZW5ndGg7bysrKXRoaXMucG9vbERpc3RyaWJ1dGlvbihyW29dLG4pO2Zvcih2YXIgbz1yLmxlbmd0aC0xO28+PTA7by0tKXt2YXIgaT1yW29dLGE9bShpKTtpZihhKXt2YXIgcz1pLm9sZGVyU2hhZG93Um9vdDtzJiYobj1mKHMpKTtmb3IodmFyIGM9MDtjPG4ubGVuZ3RoO2MrKyl2KG5bY10sYSl9dGhpcy5kaXN0cmlidXRpb25SZXNvbHV0aW9uKGkpfX1mb3IodmFyIGw9ZS5maXJzdENoaWxkO2w7bD1sLm5leHRTaWJsaW5nKXRoaXMuZGlzdHJpYnV0aW9uUmVzb2x1dGlvbihsKX0scG9vbERpc3RyaWJ1dGlvbjpmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIEMpKWlmKGUgaW5zdGFuY2VvZiBNKXt2YXIgbj1lO3RoaXMudXBkYXRlRGVwZW5kZW50QXR0cmlidXRlcyhuLmdldEF0dHJpYnV0ZSgic2VsZWN0IikpO2Zvcih2YXIgcj0hMSxvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBlPXRbb107ZSYmYihlLG4pJiYodihlLG4pLHRbb109dm9pZCAwLHI9ITApfWlmKCFyKWZvcih2YXIgaT1uLmZpcnN0Q2hpbGQ7aTtpPWkubmV4dFNpYmxpbmcpdihpLG4pfWVsc2UgZm9yKHZhciBpPWUuZmlyc3RDaGlsZDtpO2k9aS5uZXh0U2libGluZyl0aGlzLnBvb2xEaXN0cmlidXRpb24oaSx0KX0sYnVpbGRSZW5kZXJUcmVlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMuY29tcG9zZSh0KSxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBvPW5bcl0saT1lLmFwcGVuZChvKTt0aGlzLmJ1aWxkUmVuZGVyVHJlZShpLG8pfWlmKEUodCkpe3ZhciBhPWwodCk7YS5kaXJ0eT0hMX19LGNvbXBvc2U6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49ZS5zaGFkb3dSb290fHxlLHI9bi5maXJzdENoaWxkO3I7cj1yLm5leHRTaWJsaW5nKWlmKF8ocikpe3RoaXMuYXNzb2NpYXRlTm9kZShuKTtmb3IodmFyIG89aShyKSxhPTA7YTxvLmxlbmd0aDthKyspe3ZhciBzPW9bYV07eShyLHMpJiZ0LnB1c2gocyl9fWVsc2UgdC5wdXNoKHIpO3JldHVybiB0fSxpbnZhbGlkYXRlQXR0cmlidXRlczpmdW5jdGlvbigpe3RoaXMuYXR0cmlidXRlcz1PYmplY3QuY3JlYXRlKG51bGwpfSx1cGRhdGVEZXBlbmRlbnRBdHRyaWJ1dGVzOmZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PXRoaXMuYXR0cmlidXRlczsvXC5cdysvLnRlc3QoZSkmJih0WyJjbGFzcyJdPSEwKSwvI1x3Ky8udGVzdChlKSYmKHQuaWQ9ITApLGUucmVwbGFjZSgvXFtccyooW15ccz1cfH5cXV0rKS9nLGZ1bmN0aW9uKGUsbil7dFtuXT0hMH0pfX0sZGVwZW5kc09uQXR0cmlidXRlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXNbZV19LGFzc29jaWF0ZU5vZGU6ZnVuY3Rpb24oZSl7eChlKS5wb2x5bWVyU2hhZG93UmVuZGVyZXJfPXRoaXN9fTt2YXIgcT0vXig6bm90XCgpP1sqLiNbYS16QS1aX3xdLztMLnByb3RvdHlwZS5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXI9ZnVuY3Rpb24oKXt2YXIgZT14KHRoaXMpLnBvbHltZXJTaGFkb3dSZW5kZXJlcl87cmV0dXJuIGU/KGUuaW52YWxpZGF0ZSgpLCEwKTohMX0sTS5wcm90b3R5cGUuZ2V0RGlzdHJpYnV0ZWROb2Rlcz1DLnByb3RvdHlwZS5nZXREaXN0cmlidXRlZE5vZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHMoKSxpKHRoaXMpfSxULnByb3RvdHlwZS5nZXREZXN0aW5hdGlvbkluc2VydGlvblBvaW50cz1mdW5jdGlvbigpe3JldHVybiBzKCksdyh0aGlzKXx8W119LE0ucHJvdG90eXBlLm5vZGVJc0luc2VydGVkXz1DLnByb3RvdHlwZS5ub2RlSXNJbnNlcnRlZF89ZnVuY3Rpb24oKXt0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpO3ZhciBlLHQ9dSh0aGlzKTt0JiYoZT1kKHQpKSx4KHRoaXMpLnBvbHltZXJTaGFkb3dSZW5kZXJlcl89ZSxlJiZlLmludmFsaWRhdGUoKX0sZS5nZXRSZW5kZXJlckZvckhvc3Q9bCxlLmdldFNoYWRvd1RyZWVzPVMsZS5yZW5kZXJBbGxQZW5kaW5nPXMsZS5nZXREZXN0aW5hdGlvbkluc2VydGlvblBvaW50cz13LGUudmlzdWFsPXtpbnNlcnRCZWZvcmU6bixyZW1vdmU6cn19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQodCl7aWYod2luZG93W3RdKXtyKCFlLndyYXBwZXJzW3RdKTt2YXIgYz1mdW5jdGlvbihlKXtuLmNhbGwodGhpcyxlKX07Yy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSksbyhjLnByb3RvdHlwZSx7Z2V0IGZvcm0oKXtyZXR1cm4gcyhhKHRoaXMpLmZvcm0pfX0pLGkod2luZG93W3RdLGMsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0LnNsaWNlKDQsLTcpKSksZS53cmFwcGVyc1t0XT1jfX12YXIgbj1lLndyYXBwZXJzLkhUTUxFbGVtZW50LHI9ZS5hc3NlcnQsbz1lLm1peGluLGk9ZS5yZWdpc3RlcldyYXBwZXIsYT1lLnVud3JhcCxzPWUud3JhcCxjPVsiSFRNTEJ1dHRvbkVsZW1lbnQiLCJIVE1MRmllbGRTZXRFbGVtZW50IiwiSFRNTElucHV0RWxlbWVudCIsIkhUTUxLZXlnZW5FbGVtZW50IiwiSFRNTExhYmVsRWxlbWVudCIsIkhUTUxMZWdlbmRFbGVtZW50IiwiSFRNTE9iamVjdEVsZW1lbnQiLCJIVE1MT3V0cHV0RWxlbWVudCIsIkhUTUxUZXh0QXJlYUVsZW1lbnQiXTtjLmZvckVhY2godCl9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7cihlLHRoaXMpfXZhciBuPWUucmVnaXN0ZXJXcmFwcGVyLHI9ZS5zZXRXcmFwcGVyLG89ZS51bnNhZmVVbndyYXAsaT1lLnVud3JhcCxhPWUudW53cmFwSWZOZWVkZWQscz1lLndyYXA7d2luZG93LlNlbGVjdGlvbix0LnByb3RvdHlwZT17Z2V0IGFuY2hvck5vZGUoKXtyZXR1cm4gcyhvKHRoaXMpLmFuY2hvck5vZGUpfSxnZXQgZm9jdXNOb2RlKCl7cmV0dXJuIHMobyh0aGlzKS5mb2N1c05vZGUpfSxhZGRSYW5nZTpmdW5jdGlvbihlKXtvKHRoaXMpLmFkZFJhbmdlKGkoZSkpfSxjb2xsYXBzZTpmdW5jdGlvbihlLHQpe28odGhpcykuY29sbGFwc2UoYShlKSx0KX0sY29udGFpbnNOb2RlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8odGhpcykuY29udGFpbnNOb2RlKGEoZSksdCl9LGV4dGVuZDpmdW5jdGlvbihlLHQpe28odGhpcykuZXh0ZW5kKGEoZSksdCl9LGdldFJhbmdlQXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHMobyh0aGlzKS5nZXRSYW5nZUF0KGUpKX0scmVtb3ZlUmFuZ2U6ZnVuY3Rpb24oZSl7byh0aGlzKS5yZW1vdmVSYW5nZShpKGUpKX0sc2VsZWN0QWxsQ2hpbGRyZW46ZnVuY3Rpb24oZSl7byh0aGlzKS5zZWxlY3RBbGxDaGlsZHJlbihhKGUpKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gbyh0aGlzKS50b1N0cmluZygpfX0sbih3aW5kb3cuU2VsZWN0aW9uLHQsd2luZG93LmdldFNlbGVjdGlvbigpKSxlLndyYXBwZXJzLlNlbGVjdGlvbj10fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe3UuY2FsbCh0aGlzLGUpLHRoaXMudHJlZVNjb3BlXz1uZXcgbSh0aGlzLG51bGwpfWZ1bmN0aW9uIG4oZSl7dmFyIG49ZG9jdW1lbnRbZV07dC5wcm90b3R5cGVbZV09ZnVuY3Rpb24oKXtyZXR1cm4gTChuLmFwcGx5KE0odGhpcyksYXJndW1lbnRzKSl9fWZ1bmN0aW9uIHIoZSx0KXtELmNhbGwoTSh0KSxDKGUpKSxvKGUsdCl9ZnVuY3Rpb24gbyhlLHQpe2Uuc2hhZG93Um9vdCYmdC5hZG9wdE5vZGUoZS5zaGFkb3dSb290KSxlIGluc3RhbmNlb2YgZiYmaShlLHQpO2Zvcih2YXIgbj1lLmZpcnN0Q2hpbGQ7bjtuPW4ubmV4dFNpYmxpbmcpbyhuLHQpfWZ1bmN0aW9uIGkoZSx0KXt2YXIgbj1lLm9sZGVyU2hhZG93Um9vdDtuJiZ0LmFkb3B0Tm9kZShuKX1mdW5jdGlvbiBhKGUpe1QoZSx0aGlzKX1mdW5jdGlvbiBzKGUsdCl7dmFyIG49ZG9jdW1lbnQuaW1wbGVtZW50YXRpb25bdF07ZS5wcm90b3R5cGVbdF09ZnVuY3Rpb24oKXtyZXR1cm4gTChuLmFwcGx5KE0odGhpcyksYXJndW1lbnRzKSl9fWZ1bmN0aW9uIGMoZSx0KXt2YXIgbj1kb2N1bWVudC5pbXBsZW1lbnRhdGlvblt0XTtlLnByb3RvdHlwZVt0XT1mdW5jdGlvbigpe3JldHVybiBuLmFwcGx5KE0odGhpcyksYXJndW1lbnRzKX19dmFyIGw9ZS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLHU9ZS53cmFwcGVycy5Ob2RlLGQ9ZS5QYXJlbnROb2RlSW50ZXJmYWNlLHA9ZS53cmFwcGVycy5TZWxlY3Rpb24saD1lLlNlbGVjdG9yc0ludGVyZmFjZSxmPWUud3JhcHBlcnMuU2hhZG93Um9vdCxtPWUuVHJlZVNjb3BlLHY9ZS5jbG9uZU5vZGUsdz1lLmRlZmluZVdyYXBHZXR0ZXIsZz1lLmVsZW1lbnRGcm9tUG9pbnQsYj1lLmZvcndhcmRNZXRob2RzVG9XcmFwcGVyLHk9ZS5tYXRjaGVzTmFtZXMsXz1lLm1peGluLEU9ZS5yZWdpc3RlcldyYXBwZXIsUz1lLnJlbmRlckFsbFBlbmRpbmcsTz1lLnJld3JhcCxUPWUuc2V0V3JhcHBlcixNPWUudW5zYWZlVW53cmFwLEM9ZS51bndyYXAsTD1lLndyYXAsTj1lLndyYXBFdmVudFRhcmdldE1ldGhvZHMsaj0oZS53cmFwTm9kZUxpc3QsbmV3IFdlYWtNYXApO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodS5wcm90b3R5cGUpLHcodCwiZG9jdW1lbnRFbGVtZW50Iiksdyh0LCJib2R5Iiksdyh0LCJoZWFkIiksWyJjcmVhdGVDb21tZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJjcmVhdGVFdmVudCIsImNyZWF0ZUV2ZW50TlMiLCJjcmVhdGVSYW5nZSIsImNyZWF0ZVRleHROb2RlIiwiZ2V0RWxlbWVudEJ5SWQiXS5mb3JFYWNoKG4pO3ZhciBEPWRvY3VtZW50LmFkb3B0Tm9kZSx4PWRvY3VtZW50LmdldFNlbGVjdGlvbjtpZihfKHQucHJvdG90eXBlLHthZG9wdE5vZGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpLHIoZSx0aGlzKSxlfSxlbGVtZW50RnJvbVBvaW50OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGcodGhpcyx0aGlzLGUsdCl9LGltcG9ydE5vZGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdihlLHQsTSh0aGlzKSl9LGdldFNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiBTKCksbmV3IHAoeC5jYWxsKEModGhpcykpKX0sZ2V0RWxlbWVudHNCeU5hbWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGgucXVlcnlTZWxlY3RvckFsbC5jYWxsKHRoaXMsIltuYW1lPSIrSlNPTi5zdHJpbmdpZnkoU3RyaW5nKGUpKSsiXSIpfX0pLGRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCl7dmFyIEg9ZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50O3QucHJvdG90eXBlLnJlZ2lzdGVyRWxlbWVudD1mdW5jdGlvbih0LG4pe2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGU/dm9pZCBUKGUsdGhpcyk6aT9kb2N1bWVudC5jcmVhdGVFbGVtZW50KGksdCk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0KX12YXIgbyxpO2lmKHZvaWQgMCE9PW4mJihvPW4ucHJvdG90eXBlLGk9bi5leHRlbmRzKSxvfHwobz1PYmplY3QuY3JlYXRlKEhUTUxFbGVtZW50LnByb3RvdHlwZSkpLGUubmF0aXZlUHJvdG90eXBlVGFibGUuZ2V0KG8pKXRocm93IG5ldyBFcnJvcigiTm90U3VwcG9ydGVkRXJyb3IiKTtmb3IodmFyIGEscz1PYmplY3QuZ2V0UHJvdG90eXBlT2YobyksYz1bXTtzJiYhKGE9ZS5uYXRpdmVQcm90b3R5cGVUYWJsZS5nZXQocykpOyljLnB1c2gocykscz1PYmplY3QuZ2V0UHJvdG90eXBlT2Yocyk7aWYoIWEpdGhyb3cgbmV3IEVycm9yKCJOb3RTdXBwb3J0ZWRFcnJvciIpO2Zvcih2YXIgbD1PYmplY3QuY3JlYXRlKGEpLHU9Yy5sZW5ndGgtMTt1Pj0wO3UtLSlsPU9iamVjdC5jcmVhdGUobCk7WyJjcmVhdGVkQ2FsbGJhY2siLCJhdHRhY2hlZENhbGxiYWNrIiwiZGV0YWNoZWRDYWxsYmFjayIsImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayJdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9b1tlXTt0JiYobFtlXT1mdW5jdGlvbigpe0wodGhpcylpbnN0YW5jZW9mIHJ8fE8odGhpcyksdC5hcHBseShMKHRoaXMpLGFyZ3VtZW50cyl9KX0pO3ZhciBkPXtwcm90b3R5cGU6bH07cmV0dXJuIGkmJihkLmV4dGVuZHM9aSksci5wcm90b3R5cGU9byxyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1yLGUuY29uc3RydWN0b3JUYWJsZS5zZXQobCxyKSxlLm5hdGl2ZVByb3RvdHlwZVRhYmxlLnNldChvLGwpLEguY2FsbChDKHRoaXMpLHQsZCkscn0sYihbd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50XSxbInJlZ2lzdGVyRWxlbWVudCJdKX1iKFt3aW5kb3cuSFRNTEJvZHlFbGVtZW50LHdpbmRvdy5IVE1MRG9jdW1lbnR8fHdpbmRvdy5Eb2N1bWVudCx3aW5kb3cuSFRNTEhlYWRFbGVtZW50LHdpbmRvdy5IVE1MSHRtbEVsZW1lbnRdLFsiYXBwZW5kQ2hpbGQiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsImNvbnRhaW5zIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyIsImluc2VydEJlZm9yZSIsInF1ZXJ5U2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yQWxsIiwicmVtb3ZlQ2hpbGQiLCJyZXBsYWNlQ2hpbGQiXS5jb25jYXQoeSkpLGIoW3dpbmRvdy5IVE1MRG9jdW1lbnR8fHdpbmRvdy5Eb2N1bWVudF0sWyJhZG9wdE5vZGUiLCJpbXBvcnROb2RlIiwiY29udGFpbnMiLCJjcmVhdGVDb21tZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJjcmVhdGVFdmVudCIsImNyZWF0ZUV2ZW50TlMiLCJjcmVhdGVSYW5nZSIsImNyZWF0ZVRleHROb2RlIiwiZWxlbWVudEZyb21Qb2ludCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0RWxlbWVudHNCeU5hbWUiLCJnZXRTZWxlY3Rpb24iXSksXyh0LnByb3RvdHlwZSxsKSxfKHQucHJvdG90eXBlLGQpLF8odC5wcm90b3R5cGUsaCksXyh0LnByb3RvdHlwZSx7Z2V0IGltcGxlbWVudGF0aW9uKCl7dmFyIGU9ai5nZXQodGhpcyk7cmV0dXJuIGU/ZTooZT1uZXcgYShDKHRoaXMpLmltcGxlbWVudGF0aW9uKSxqLnNldCh0aGlzLGUpLGUpfSxnZXQgZGVmYXVsdFZpZXcoKXtyZXR1cm4gTChDKHRoaXMpLmRlZmF1bHRWaWV3KX19KSxFKHdpbmRvdy5Eb2N1bWVudCx0LGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikpLHdpbmRvdy5IVE1MRG9jdW1lbnQmJkUod2luZG93LkhUTUxEb2N1bWVudCx0KSxOKFt3aW5kb3cuSFRNTEJvZHlFbGVtZW50LHdpbmRvdy5IVE1MRG9jdW1lbnR8fHdpbmRvdy5Eb2N1bWVudCx3aW5kb3cuSFRNTEhlYWRFbGVtZW50XSkscyhhLCJjcmVhdGVEb2N1bWVudFR5cGUiKSxzKGEsImNyZWF0ZURvY3VtZW50IikscyhhLCJjcmVhdGVIVE1MRG9jdW1lbnQiKSxjKGEsImhhc0ZlYXR1cmUiKSxFKHdpbmRvdy5ET01JbXBsZW1lbnRhdGlvbixhKSxiKFt3aW5kb3cuRE9NSW1wbGVtZW50YXRpb25dLFsiY3JlYXRlRG9jdW1lbnRUeXBlIiwiY3JlYXRlRG9jdW1lbnQiLCJjcmVhdGVIVE1MRG9jdW1lbnQiLCJoYXNGZWF0dXJlIl0pLGUuYWRvcHROb2RlTm9SZW1vdmU9cixlLndyYXBwZXJzLkRPTUltcGxlbWVudGF0aW9uPWEsZS53cmFwcGVycy5Eb2N1bWVudD10fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe24uY2FsbCh0aGlzLGUpfXZhciBuPWUud3JhcHBlcnMuRXZlbnRUYXJnZXQscj1lLndyYXBwZXJzLlNlbGVjdGlvbixvPWUubWl4aW4saT1lLnJlZ2lzdGVyV3JhcHBlcixhPWUucmVuZGVyQWxsUGVuZGluZyxzPWUudW53cmFwLGM9ZS51bndyYXBJZk5lZWRlZCxsPWUud3JhcCx1PXdpbmRvdy5XaW5kb3csZD13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSxwPXdpbmRvdy5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZSxoPXdpbmRvdy5nZXRTZWxlY3Rpb247dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSksdS5wcm90b3R5cGUuZ2V0Q29tcHV0ZWRTdHlsZT1mdW5jdGlvbihlLHQpe3JldHVybiBsKHRoaXN8fHdpbmRvdykuZ2V0Q29tcHV0ZWRTdHlsZShjKGUpLHQpfSxwJiYodS5wcm90b3R5cGUuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbCh0aGlzfHx3aW5kb3cpLmdldERlZmF1bHRDb21wdXRlZFN0eWxlKGMoZSksdCl9KSx1LnByb3RvdHlwZS5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gbCh0aGlzfHx3aW5kb3cpLmdldFNlbGVjdGlvbigpfSxkZWxldGUgd2luZG93LmdldENvbXB1dGVkU3R5bGUsZGVsZXRlIHdpbmRvdy5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZSxkZWxldGUgd2luZG93LmdldFNlbGVjdGlvbixbImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzcGF0Y2hFdmVudCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dS5wcm90b3R5cGVbZV09ZnVuY3Rpb24oKXt2YXIgdD1sKHRoaXN8fHdpbmRvdyk7cmV0dXJuIHRbZV0uYXBwbHkodCxhcmd1bWVudHMpfSxkZWxldGUgd2luZG93W2VdfSksbyh0LnByb3RvdHlwZSx7Z2V0Q29tcHV0ZWRTdHlsZTpmdW5jdGlvbihlLHQpe3JldHVybiBhKCksZC5jYWxsKHModGhpcyksYyhlKSx0KX0sZ2V0U2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGEoKSxuZXcgcihoLmNhbGwocyh0aGlzKSkpfSxnZXQgZG9jdW1lbnQoKXtyZXR1cm4gbChzKHRoaXMpLmRvY3VtZW50KX19KSxwJiYodC5wcm90b3R5cGUuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYSgpLHAuY2FsbChzKHRoaXMpLGMoZSksdCl9KSxpKHUsdCx3aW5kb3cpLGUud3JhcHBlcnMuV2luZG93PXR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO3ZhciB0PWUudW53cmFwLG49d2luZG93LkRhdGFUcmFuc2Zlcnx8d2luZG93LkNsaXBib2FyZCxyPW4ucHJvdG90eXBlLnNldERyYWdJbWFnZTtyJiYobi5wcm90b3R5cGUuc2V0RHJhZ0ltYWdlPWZ1bmN0aW9uKGUsbixvKXtyLmNhbGwodGhpcyx0KGUpLG4sbyl9KX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXt2YXIgdDt0PWUgaW5zdGFuY2VvZiBpP2U6bmV3IGkoZSYmbyhlKSkscih0LHRoaXMpfXZhciBuPWUucmVnaXN0ZXJXcmFwcGVyLHI9ZS5zZXRXcmFwcGVyLG89ZS51bndyYXAsaT13aW5kb3cuRm9ybURhdGE7aSYmKG4oaSx0LG5ldyBpKSxlLndyYXBwZXJzLkZvcm1EYXRhPXQpfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD1lLnVud3JhcElmTmVlZGVkLG49WE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNlbmQ7WE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2FsbCh0aGlzLHQoZSkpfX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXt2YXIgdD1uW2VdLHI9d2luZG93W3RdO2lmKHIpe3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZSksaT1vLmNvbnN0cnVjdG9yO3dpbmRvd1t0XT1pfX12YXIgbj0oZS5pc1dyYXBwZXJGb3Ise2E6IkhUTUxBbmNob3JFbGVtZW50IixhcmVhOiJIVE1MQXJlYUVsZW1lbnQiLGF1ZGlvOiJIVE1MQXVkaW9FbGVtZW50IixiYXNlOiJIVE1MQmFzZUVsZW1lbnQiLGJvZHk6IkhUTUxCb2R5RWxlbWVudCIsYnI6IkhUTUxCUkVsZW1lbnQiLGJ1dHRvbjoiSFRNTEJ1dHRvbkVsZW1lbnQiLGNhbnZhczoiSFRNTENhbnZhc0VsZW1lbnQiLGNhcHRpb246IkhUTUxUYWJsZUNhcHRpb25FbGVtZW50Iixjb2w6IkhUTUxUYWJsZUNvbEVsZW1lbnQiLGNvbnRlbnQ6IkhUTUxDb250ZW50RWxlbWVudCIsZGF0YToiSFRNTERhdGFFbGVtZW50IixkYXRhbGlzdDoiSFRNTERhdGFMaXN0RWxlbWVudCIsZGVsOiJIVE1MTW9kRWxlbWVudCIsZGlyOiJIVE1MRGlyZWN0b3J5RWxlbWVudCIsZGl2OiJIVE1MRGl2RWxlbWVudCIsZGw6IkhUTUxETGlzdEVsZW1lbnQiLGVtYmVkOiJIVE1MRW1iZWRFbGVtZW50IixmaWVsZHNldDoiSFRNTEZpZWxkU2V0RWxlbWVudCIsZm9udDoiSFRNTEZvbnRFbGVtZW50Iixmb3JtOiJIVE1MRm9ybUVsZW1lbnQiLGZyYW1lOiJIVE1MRnJhbWVFbGVtZW50IixmcmFtZXNldDoiSFRNTEZyYW1lU2V0RWxlbWVudCIsaDE6IkhUTUxIZWFkaW5nRWxlbWVudCIsaGVhZDoiSFRNTEhlYWRFbGVtZW50IixocjoiSFRNTEhSRWxlbWVudCIsaHRtbDoiSFRNTEh0bWxFbGVtZW50IixpZnJhbWU6IkhUTUxJRnJhbWVFbGVtZW50IixpbWc6IkhUTUxJbWFnZUVsZW1lbnQiLGlucHV0OiJIVE1MSW5wdXRFbGVtZW50IixrZXlnZW46IkhUTUxLZXlnZW5FbGVtZW50IixsYWJlbDoiSFRNTExhYmVsRWxlbWVudCIsbGVnZW5kOiJIVE1MTGVnZW5kRWxlbWVudCIsbGk6IkhUTUxMSUVsZW1lbnQiLGxpbms6IkhUTUxMaW5rRWxlbWVudCIsbWFwOiJIVE1MTWFwRWxlbWVudCIsbWFycXVlZToiSFRNTE1hcnF1ZWVFbGVtZW50IixtZW51OiJIVE1MTWVudUVsZW1lbnQiLG1lbnVpdGVtOiJIVE1MTWVudUl0ZW1FbGVtZW50IixtZXRhOiJIVE1MTWV0YUVsZW1lbnQiLG1ldGVyOiJIVE1MTWV0ZXJFbGVtZW50IixvYmplY3Q6IkhUTUxPYmplY3RFbGVtZW50IixvbDoiSFRNTE9MaXN0RWxlbWVudCIsb3B0Z3JvdXA6IkhUTUxPcHRHcm91cEVsZW1lbnQiLG9wdGlvbjoiSFRNTE9wdGlvbkVsZW1lbnQiLG91dHB1dDoiSFRNTE91dHB1dEVsZW1lbnQiLHA6IkhUTUxQYXJhZ3JhcGhFbGVtZW50IixwYXJhbToiSFRNTFBhcmFtRWxlbWVudCIscHJlOiJIVE1MUHJlRWxlbWVudCIscHJvZ3Jlc3M6IkhUTUxQcm9ncmVzc0VsZW1lbnQiLHE6IkhUTUxRdW90ZUVsZW1lbnQiLHNjcmlwdDoiSFRNTFNjcmlwdEVsZW1lbnQiLHNlbGVjdDoiSFRNTFNlbGVjdEVsZW1lbnQiLHNoYWRvdzoiSFRNTFNoYWRvd0VsZW1lbnQiLHNvdXJjZToiSFRNTFNvdXJjZUVsZW1lbnQiLHNwYW46IkhUTUxTcGFuRWxlbWVudCIsc3R5bGU6IkhUTUxTdHlsZUVsZW1lbnQiLHRhYmxlOiJIVE1MVGFibGVFbGVtZW50Iix0Ym9keToiSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQiLHRlbXBsYXRlOiJIVE1MVGVtcGxhdGVFbGVtZW50Iix0ZXh0YXJlYToiSFRNTFRleHRBcmVhRWxlbWVudCIsdGhlYWQ6IkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50Iix0aW1lOiJIVE1MVGltZUVsZW1lbnQiLHRpdGxlOiJIVE1MVGl0bGVFbGVtZW50Iix0cjoiSFRNTFRhYmxlUm93RWxlbWVudCIsdHJhY2s6IkhUTUxUcmFja0VsZW1lbnQiLHVsOiJIVE1MVUxpc3RFbGVtZW50Iix2aWRlbzoiSFRNTFZpZGVvRWxlbWVudCJ9KTtPYmplY3Qua2V5cyhuKS5mb3JFYWNoKHQpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUud3JhcHBlcnMpLmZvckVhY2goZnVuY3Rpb24odCl7d2luZG93W3RdPWUud3JhcHBlcnNbdF19KX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsbil7dmFyIHIsbyxpLGEscz1lLmZpcnN0RWxlbWVudENoaWxkO2ZvcihvPVtdLGk9ZS5zaGFkb3dSb290O2k7KW8ucHVzaChpKSxpPWkub2xkZXJTaGFkb3dSb290O2ZvcihhPW8ubGVuZ3RoLTE7YT49MDthLS0paWYocj1vW2FdLnF1ZXJ5U2VsZWN0b3IobikpcmV0dXJuIHI7Zm9yKDtzOyl7aWYocj10KHMsbikpcmV0dXJuIHI7cz1zLm5leHRFbGVtZW50U2libGluZ31yZXR1cm4gbnVsbH1mdW5jdGlvbiBuKGUsdCxyKXt2YXIgbyxpLGEscyxjLGw9ZS5maXJzdEVsZW1lbnRDaGlsZDtmb3IoYT1bXSxpPWUuc2hhZG93Um9vdDtpOylhLnB1c2goaSksaT1pLm9sZGVyU2hhZG93Um9vdDtmb3Iocz1hLmxlbmd0aC0xO3M+PTA7cy0tKWZvcihvPWFbc10ucXVlcnlTZWxlY3RvckFsbCh0KSxjPTA7YzxvLmxlbmd0aDtjKyspci5wdXNoKG9bY10pO2Zvcig7bDspbihsLHQsciksbD1sLm5leHRFbGVtZW50U2libGluZztyZXR1cm4gcn13aW5kb3cud3JhcD1TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQsd2luZG93LnVud3JhcD1TaGFkb3dET01Qb2x5ZmlsbC51bndyYXBJZk5lZWRlZCxPYmplY3QuZGVmaW5lUHJvcGVydHkoRWxlbWVudC5wcm90b3R5cGUsIndlYmtpdFNoYWRvd1Jvb3QiLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRWxlbWVudC5wcm90b3R5cGUsInNoYWRvd1Jvb3QiKSk7dmFyIHI9RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdDtFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290PWZ1bmN0aW9uKCl7dmFyIGU9ci5jYWxsKHRoaXMpO3JldHVybiBDdXN0b21FbGVtZW50cy53YXRjaFNoYWRvdyh0aGlzKSxlfSxFbGVtZW50LnByb3RvdHlwZS53ZWJraXRDcmVhdGVTaGFkb3dSb290PUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3QsZS5xdWVyeUFsbFNoYWRvd3M9ZnVuY3Rpb24oZSxyLG8pe3JldHVybiBvP24oZSxyLFtdKTp0KGUscil9fSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0KXt2YXIgbj0iIjtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlLGZ1bmN0aW9uKGUpe24rPWUudGV4dENvbnRlbnQrIlxuXG4ifSksdHx8KG49bi5yZXBsYWNlKGQsIiIpKSxufWZ1bmN0aW9uIG4oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyZXR1cm4gdC50ZXh0Q29udGVudD1lLHR9ZnVuY3Rpb24gcihlKXt2YXIgdD1uKGUpO2RvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodCk7dmFyIHI9W107aWYodC5zaGVldCl0cnl7cj10LnNoZWV0LmNzc1J1bGVzfWNhdGNoKG8pe31lbHNlIGNvbnNvbGUud2Fybigic2hlZXQgbm90IGZvdW5kIix0KTtyZXR1cm4gdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpLHJ9ZnVuY3Rpb24gbygpe18uaW5pdGlhbGl6ZWQ9ITAsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChfKTt2YXIgZT1fLmNvbnRlbnREb2N1bWVudCx0PWUuY3JlYXRlRWxlbWVudCgiYmFzZSIpO3QuaHJlZj1kb2N1bWVudC5iYXNlVVJJLGUuaGVhZC5hcHBlbmRDaGlsZCh0KX1mdW5jdGlvbiBpKGUpe18uaW5pdGlhbGl6ZWR8fG8oKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKF8pLGUoXy5jb250ZW50RG9jdW1lbnQpLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoXyl9ZnVuY3Rpb24gYShlLHQpe2lmKHQpe3ZhciBvO2lmKGUubWF0Y2goIkBpbXBvcnQiKSYmUyl7dmFyIGE9bihlKTtpKGZ1bmN0aW9uKGUpe2UuaGVhZC5hcHBlbmRDaGlsZChhLmltcGwpLG89QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYS5zaGVldC5jc3NSdWxlcywwKSx0KG8pfSl9ZWxzZSBvPXIoZSksdChvKX19ZnVuY3Rpb24gcyhlKXtlJiZsKCkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZSkpfWZ1bmN0aW9uIGMoZSx0KXt2YXIgcj1uKGUpO3Iuc2V0QXR0cmlidXRlKHQsIiIpLHIuc2V0QXR0cmlidXRlKFQsIiIpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQocil9ZnVuY3Rpb24gbCgpe3JldHVybiBFfHwoRT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLEUuc2V0QXR0cmlidXRlKFQsIiIpLEVbVF09ITApLEV9dmFyIHU9e3N0cmljdFN0eWxpbmc6ITEscmVnaXN0cnk6e30sc2hpbVN0eWxpbmc6ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPXRoaXMucHJlcGFyZVJvb3QoZSxuLHIpLGk9dGhpcy5pc1R5cGVFeHRlbnNpb24ociksYT10aGlzLm1ha2VTY29wZVNlbGVjdG9yKG4saSkscz10KG8sITApO3M9dGhpcy5zY29wZUNzc1RleHQocyxhKSxlJiYoZS5zaGltbWVkU3R5bGU9cyksdGhpcy5hZGRDc3NUb0RvY3VtZW50KHMsbil9LHNoaW1TdHlsZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnNoaW1Dc3NUZXh0KGUudGV4dENvbnRlbnQsdCl9LHNoaW1Dc3NUZXh0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9dGhpcy5pbnNlcnREaXJlY3RpdmVzKGUpLHRoaXMuc2NvcGVDc3NUZXh0KGUsdCl9LG1ha2VTY29wZVNlbGVjdG9yOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/dD8iW2lzPSIrZSsiXSI6ZToiIn0saXNUeXBlRXh0ZW5zaW9uOmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmluZGV4T2YoIi0iKTwwfSxwcmVwYXJlUm9vdDpmdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5yZWdpc3RlclJvb3QoZSx0LG4pO3JldHVybiB0aGlzLnJlcGxhY2VUZXh0SW5TdHlsZXMoci5yb290U3R5bGVzLHRoaXMuaW5zZXJ0RGlyZWN0aXZlcyksdGhpcy5yZW1vdmVTdHlsZXMoZSxyLnJvb3RTdHlsZXMpLHRoaXMuc3RyaWN0U3R5bGluZyYmdGhpcy5hcHBseVNjb3BlVG9Db250ZW50KGUsdCksci5zY29wZVN0eWxlc30scmVtb3ZlU3R5bGVzOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHI9MCxvPXQubGVuZ3RoO28+ciYmKG49dFtyXSk7cisrKW4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKX0scmVnaXN0ZXJSb290OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLnJlZ2lzdHJ5W3RdPXtyb290OmUsbmFtZTp0LGV4dGVuZHNOYW1lOm59LG89dGhpcy5maW5kU3R5bGVzKGUpO3Iucm9vdFN0eWxlcz1vLHIuc2NvcGVTdHlsZXM9ci5yb290U3R5bGVzO3ZhciBpPXRoaXMucmVnaXN0cnlbci5leHRlbmRzTmFtZV07cmV0dXJuIGkmJihyLnNjb3BlU3R5bGVzPWkuc2NvcGVTdHlsZXMuY29uY2F0KHIuc2NvcGVTdHlsZXMpKSxyfSxmaW5kU3R5bGVzOmZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybltdO3ZhciB0PWUucXVlcnlTZWxlY3RvckFsbCgic3R5bGUiKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKHQsZnVuY3Rpb24oZSl7cmV0dXJuIWUuaGFzQXR0cmlidXRlKE0pfSl9LGFwcGx5U2NvcGVUb0NvbnRlbnQ6ZnVuY3Rpb24oZSx0KXtlJiYoQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlLnF1ZXJ5U2VsZWN0b3JBbGwoIioiKSxmdW5jdGlvbihlKXtlLnNldEF0dHJpYnV0ZSh0LCIiKX0pLEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZS5xdWVyeVNlbGVjdG9yQWxsKCJ0ZW1wbGF0ZSIpLGZ1bmN0aW9uKGUpe3RoaXMuYXBwbHlTY29wZVRvQ29udGVudChlLmNvbnRlbnQsdCl9LHRoaXMpKX0saW5zZXJ0RGlyZWN0aXZlczpmdW5jdGlvbihlKXtyZXR1cm4gZT10aGlzLmluc2VydFBvbHlmaWxsRGlyZWN0aXZlc0luQ3NzVGV4dChlKSx0aGlzLmluc2VydFBvbHlmaWxsUnVsZXNJbkNzc1RleHQoZSl9LGluc2VydFBvbHlmaWxsRGlyZWN0aXZlc0luQ3NzVGV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZT1lLnJlcGxhY2UocCxmdW5jdGlvbihlLHQpe3JldHVybiB0LnNsaWNlKDAsLTIpKyJ7In0pLGUucmVwbGFjZShoLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQrIiB7In0pfSxpbnNlcnRQb2x5ZmlsbFJ1bGVzSW5Dc3NUZXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlPWUucmVwbGFjZShmLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuc2xpY2UoMCwtMSl9KSxlLnJlcGxhY2UobSxmdW5jdGlvbihlLHQsbixyKXt2YXIgbz1lLnJlcGxhY2UodCwiIikucmVwbGFjZShuLCIiKTtyZXR1cm4gcitvfSl9LHNjb3BlQ3NzVGV4dDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZXh0cmFjdFVuc2NvcGVkUnVsZXNGcm9tQ3NzVGV4dChlKTtpZihlPXRoaXMuaW5zZXJ0UG9seWZpbGxIb3N0SW5Dc3NUZXh0KGUpLGU9dGhpcy5jb252ZXJ0Q29sb25Ib3N0KGUpLGU9dGhpcy5jb252ZXJ0Q29sb25Ib3N0Q29udGV4dChlKSxlPXRoaXMuY29udmVydFNoYWRvd0RPTVNlbGVjdG9ycyhlKSx0KXt2YXIgZSxyPXRoaXM7YShlLGZ1bmN0aW9uKG4pe2U9ci5zY29wZVJ1bGVzKG4sdCl9KX1yZXR1cm4gZT1lKyJcbiIrbixlLnRyaW0oKX0sZXh0cmFjdFVuc2NvcGVkUnVsZXNGcm9tQ3NzVGV4dDpmdW5jdGlvbihlKXtmb3IodmFyIHQsbj0iIjt0PXYuZXhlYyhlKTspbis9dFsxXS5zbGljZSgwLC0xKSsiXG5cbiI7Zm9yKDt0PXcuZXhlYyhlKTspbis9dFswXS5yZXBsYWNlKHRbMl0sIiIpLnJlcGxhY2UodFsxXSx0WzNdKSsiXG5cbiI7cmV0dXJuIG59LGNvbnZlcnRDb2xvbkhvc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29udmVydENvbG9uUnVsZShlLGNzc0NvbG9uSG9zdFJlLHRoaXMuY29sb25Ib3N0UGFydFJlcGxhY2VyKX0sY29udmVydENvbG9uSG9zdENvbnRleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29udmVydENvbG9uUnVsZShlLGNzc0NvbG9uSG9zdENvbnRleHRSZSx0aGlzLmNvbG9uSG9zdENvbnRleHRQYXJ0UmVwbGFjZXIpfSxjb252ZXJ0Q29sb25SdWxlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZS5yZXBsYWNlKHQsZnVuY3Rpb24oZSx0LHIsbyl7aWYodD1wb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3Iscil7Zm9yKHZhciBpLGE9ci5zcGxpdCgiLCIpLHM9W10sYz0wLGw9YS5sZW5ndGg7bD5jJiYoaT1hW2NdKTtjKyspaT1pLnRyaW0oKSxzLnB1c2gobih0LGksbykpO3JldHVybiBzLmpvaW4oIiwiKX1yZXR1cm4gdCtvfSl9LGNvbG9uSG9zdENvbnRleHRQYXJ0UmVwbGFjZXI6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0Lm1hdGNoKGcpP3RoaXMuY29sb25Ib3N0UGFydFJlcGxhY2VyKGUsdCxuKTplK3QrbisiLCAiK3QrIiAiK2Urbn0sY29sb25Ib3N0UGFydFJlcGxhY2VyOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZSt0LnJlcGxhY2UoZywiIikrbn0sY29udmVydFNoYWRvd0RPTVNlbGVjdG9yczpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHNoYWRvd0RPTVNlbGVjdG9yc1JlLmxlbmd0aDt0KyspZT1lLnJlcGxhY2Uoc2hhZG93RE9NU2VsZWN0b3JzUmVbdF0sIiAiKTtyZXR1cm4gZX0sc2NvcGVSdWxlczpmdW5jdGlvbihlLHQpe3ZhciBuPSIiO3JldHVybiBlJiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGUsZnVuY3Rpb24oZSl7aWYoZS5zZWxlY3RvclRleHQmJmUuc3R5bGUmJnZvaWQgMCE9PWUuc3R5bGUuY3NzVGV4dCluKz10aGlzLnNjb3BlU2VsZWN0b3IoZS5zZWxlY3RvclRleHQsdCx0aGlzLnN0cmljdFN0eWxpbmcpKyIge1xuCSIsbis9dGhpcy5wcm9wZXJ0aWVzRnJvbVJ1bGUoZSkrIlxufVxuXG4iO2Vsc2UgaWYoZS50eXBlPT09Q1NTUnVsZS5NRURJQV9SVUxFKW4rPSJAbWVkaWEgIitlLm1lZGlhLm1lZGlhVGV4dCsiIHtcbiIsbis9dGhpcy5zY29wZVJ1bGVzKGUuY3NzUnVsZXMsdCksbis9IlxufVxuXG4iO2Vsc2UgdHJ5e2UuY3NzVGV4dCYmKG4rPWUuY3NzVGV4dCsiXG5cbiIpfWNhdGNoKHIpe2UudHlwZT09PUNTU1J1bGUuS0VZRlJBTUVTX1JVTEUmJmUuY3NzUnVsZXMmJihuKz10aGlzLmllU2FmZUNzc1RleHRGcm9tS2V5RnJhbWVSdWxlKGUpKX19LHRoaXMpLG59LGllU2FmZUNzc1RleHRGcm9tS2V5RnJhbWVSdWxlOmZ1bmN0aW9uKGUpe3ZhciB0PSJAa2V5ZnJhbWVzICIrZS5uYW1lKyIgeyI7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZS5jc3NSdWxlcyxmdW5jdGlvbihlKXt0Kz0iICIrZS5rZXlUZXh0KyIgeyIrZS5zdHlsZS5jc3NUZXh0KyJ9In0pLHQrPSIgfSJ9LHNjb3BlU2VsZWN0b3I6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVtdLG89ZS5zcGxpdCgiLCIpO3JldHVybiBvLmZvckVhY2goZnVuY3Rpb24oZSl7ZT1lLnRyaW0oKSx0aGlzLnNlbGVjdG9yTmVlZHNTY29waW5nKGUsdCkmJihlPW4mJiFlLm1hdGNoKHBvbHlmaWxsSG9zdE5vQ29tYmluYXRvcik/dGhpcy5hcHBseVN0cmljdFNlbGVjdG9yU2NvcGUoZSx0KTp0aGlzLmFwcGx5U2VsZWN0b3JTY29wZShlLHQpKSxyLnB1c2goZSl9LHRoaXMpLHIuam9pbigiLCAiKX0sc2VsZWN0b3JOZWVkc1Njb3Bpbmc6ZnVuY3Rpb24oZSx0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiEwO3ZhciBuPXRoaXMubWFrZVNjb3BlTWF0Y2hlcih0KTtyZXR1cm4hZS5tYXRjaChuKX0sbWFrZVNjb3BlTWF0Y2hlcjpmdW5jdGlvbihlKXtyZXR1cm4gZT1lLnJlcGxhY2UoL1xbL2csIlxcWyIpLnJlcGxhY2UoL1xbL2csIlxcXSIpLG5ldyBSZWdFeHAoIl4oIitlKyIpIitzZWxlY3RvclJlU3VmZml4LCJtIil9LGFwcGx5U2VsZWN0b3JTY29wZTpmdW5jdGlvbihlLHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP3RoaXMuYXBwbHlTZWxlY3RvclNjb3BlTGlzdChlLHQpOnRoaXMuYXBwbHlTaW1wbGVTZWxlY3RvclNjb3BlKGUsdCl9LGFwcGx5U2VsZWN0b3JTY29wZUxpc3Q6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scj1bXSxvPTA7bj10W29dO28rKylyLnB1c2godGhpcy5hcHBseVNpbXBsZVNlbGVjdG9yU2NvcGUoZSxuKSk7cmV0dXJuIHIuam9pbigiLCAiKX0sYXBwbHlTaW1wbGVTZWxlY3RvclNjb3BlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubWF0Y2gocG9seWZpbGxIb3N0UmUpPyhlPWUucmVwbGFjZShwb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3IsdCksZS5yZXBsYWNlKHBvbHlmaWxsSG9zdFJlLHQrIiAiKSk6dCsiICIrZX0sYXBwbHlTdHJpY3RTZWxlY3RvclNjb3BlOmZ1bmN0aW9uKGUsdCl7dD10LnJlcGxhY2UoL1xbaXM9KFteXF1dKilcXS9nLCIkMSIpO3ZhciBuPVsiICIsIj4iLCIrIiwifiJdLHI9ZSxvPSJbIit0KyJdIjtyZXR1cm4gbi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXIuc3BsaXQoZSk7cj10Lm1hcChmdW5jdGlvbihlKXt2YXIgdD1lLnRyaW0oKS5yZXBsYWNlKHBvbHlmaWxsSG9zdFJlLCIiKTtyZXR1cm4gdCYmbi5pbmRleE9mKHQpPDAmJnQuaW5kZXhPZihvKTwwJiYoZT10LnJlcGxhY2UoLyhbXjpdKikoOiopKC4qKS8sIiQxIitvKyIkMiQzIikpLGV9KS5qb2luKGUpfSkscn0saW5zZXJ0UG9seWZpbGxIb3N0SW5Dc3NUZXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoY29sb25Ib3N0Q29udGV4dFJlLGIpLnJlcGxhY2UoY29sb25Ib3N0UmUsZyl9LHByb3BlcnRpZXNGcm9tUnVsZTpmdW5jdGlvbihlKXt2YXIgdD1lLnN0eWxlLmNzc1RleHQ7ZS5zdHlsZS5jb250ZW50JiYhZS5zdHlsZS5jb250ZW50Lm1hdGNoKC9bJyJdK3xhdHRyLykmJih0PXQucmVwbGFjZSgvY29udGVudDpbXjtdKjsvZywiY29udGVudDogJyIrZS5zdHlsZS5jb250ZW50KyInOyIpKTt2YXIgbj1lLnN0eWxlO2Zvcih2YXIgciBpbiBuKSJpbml0aWFsIj09PW5bcl0mJih0Kz1yKyI6IGluaXRpYWw7ICIpO3JldHVybiB0fSxyZXBsYWNlVGV4dEluU3R5bGVzOmZ1bmN0aW9uKGUsdCl7ZSYmdCYmKGUgaW5zdGFuY2VvZiBBcnJheXx8KGU9W2VdKSxBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGUsZnVuY3Rpb24oZSl7ZS50ZXh0Q29udGVudD10LmNhbGwodGhpcyxlLnRleHRDb250ZW50KX0sdGhpcykpfSxhZGRDc3NUb0RvY3VtZW50OmZ1bmN0aW9uKGUsdCl7ZS5tYXRjaCgiQGltcG9ydCIpP2MoZSx0KTpzKGUpfX0sZD0vXC9cKlteKl0qXCorKFteLypdW14qXSpcKispKlwvL2dpbSxwPS9cL1wqXHMqQHBvbHlmaWxsIChbXipdKlwqKyhbXi8qXVteKl0qXCorKSpcLykoW157XSo/KXsvZ2ltLGg9L3BvbHlmaWxsLW5leHQtc2VsZWN0b3JbXn1dKmNvbnRlbnRcOltcc10qP1snIl0oLio/KVsnIl1bO1xzXSp9KFtee10qPyl7L2dpbSxmPS9cL1wqXHNAcG9seWZpbGwtcnVsZShbXipdKlwqKyhbXi8qXVteKl0qXCorKSopXC8vZ2ltLG09Lyhwb2x5ZmlsbC1ydWxlKVtefV0qKGNvbnRlbnRcOltcc10qWyciXSguKj8pWyciXSlbO1xzXSpbXn1dKn0vZ2ltLHY9L1wvXCpcc0Bwb2x5ZmlsbC11bnNjb3BlZC1ydWxlKFteKl0qXCorKFteLypdW14qXSpcKispKilcLy9naW0sdz0vKHBvbHlmaWxsLXVuc2NvcGVkLXJ1bGUpW159XSooY29udGVudFw6W1xzXSpbJyJdKC4qPylbJyJdKVs7XHNdKltefV0qfS9naW0sZz0iLXNoYWRvd2Nzc2hvc3QiLGI9Ii1zaGFkb3djc3Njb250ZXh0Iix5PSIpKD86XFwoKCg/OlxcKFteKShdKlxcKXxbXikoXSopKz8pXFwpKT8oW14se10qKSI7Y3NzQ29sb25Ib3N0UmU9bmV3IFJlZ0V4cCgiKCIrZyt5LCJnaW0iKSxjc3NDb2xvbkhvc3RDb250ZXh0UmU9bmV3IFJlZ0V4cCgiKCIrYit5LCJnaW0iKSxzZWxlY3RvclJlU3VmZml4PSIoWz5cXHN+K1suLHs6XVtcXHNcXFNdKik/JCIsY29sb25Ib3N0UmU9L1w6aG9zdC9naW0sY29sb25Ib3N0Q29udGV4dFJlPS9cOmhvc3QtY29udGV4dC9naW0scG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yPWcrIi1uby1jb21iaW5hdG9yIixwb2x5ZmlsbEhvc3RSZT1uZXcgUmVnRXhwKGcsImdpbSIpLHBvbHlmaWxsSG9zdENvbnRleHRSZT1uZXcgUmVnRXhwKGIsImdpbSIpLHNoYWRvd0RPTVNlbGVjdG9yc1JlPVsvXF5cXi9nLC9cXi9nLC9cL3NoYWRvd1wvL2csL1wvc2hhZG93LWRlZXBcLy9nLC86OnNoYWRvdy9nLC9cL2RlZXBcLy9nLC86OmNvbnRlbnQvZ107dmFyIF89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7Xy5zdHlsZS5kaXNwbGF5PSJub25lIjt2YXIgRSxTPW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goIkNocm9tZSIpLE89InNoaW0tc2hhZG93ZG9tIixUPSJzaGltLXNoYWRvd2RvbS1jc3MiLE09Im5vLXNoaW0iO2lmKHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCl7cygic3R5bGUgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH1cbiIpO3ZhciBDPXdyYXAoZG9jdW1lbnQpLEw9Qy5xdWVyeVNlbGVjdG9yKCJoZWFkIik7TC5pbnNlcnRCZWZvcmUobCgpLEwuY2hpbGROb2Rlc1swXSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXtpZihlLnVybFJlc29sdmVyLHdpbmRvdy5IVE1MSW1wb3J0cyYmIUhUTUxJbXBvcnRzLnVzZU5hdGl2ZSl7dmFyIHQ9ImxpbmtbcmVsPXN0eWxlc2hlZXRdWyIrTysiXSIsbj0ic3R5bGVbIitPKyJdIjtIVE1MSW1wb3J0cy5pbXBvcnRlci5kb2N1bWVudFByZWxvYWRTZWxlY3RvcnMrPSIsIit0LEhUTUxJbXBvcnRzLmltcG9ydGVyLmltcG9ydHNQcmVsb2FkU2VsZWN0b3JzKz0iLCIrdCxIVE1MSW1wb3J0cy5wYXJzZXIuZG9jdW1lbnRTZWxlY3RvcnM9W0hUTUxJbXBvcnRzLnBhcnNlci5kb2N1bWVudFNlbGVjdG9ycyx0LG5dLmpvaW4oIiwiKTt2YXIgcj1IVE1MSW1wb3J0cy5wYXJzZXIucGFyc2VHZW5lcmljO0hUTUxJbXBvcnRzLnBhcnNlci5wYXJzZUdlbmVyaWM9ZnVuY3Rpb24oZSl7aWYoIWVbVF0pe3ZhciB0PWUuX19pbXBvcnRFbGVtZW50fHxlO2lmKCF0Lmhhc0F0dHJpYnV0ZShPKSlyZXR1cm4gdm9pZCByLmNhbGwodGhpcyxlKTtlLl9fcmVzb3VyY2UmJih0PWUub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLHQudGV4dENvbnRlbnQ9ZS5fX3Jlc291cmNlKSxIVE1MSW1wb3J0cy5wYXRoLnJlc29sdmVVcmxzSW5TdHlsZSh0KSx0LnRleHRDb250ZW50PXUuc2hpbVN0eWxlKHQpLHQucmVtb3ZlQXR0cmlidXRlKE8sIiIpLHQuc2V0QXR0cmlidXRlKFQsIiIpLHRbVF09ITAsdC5wYXJlbnROb2RlIT09TCYmKGUucGFyZW50Tm9kZT09PUw/TC5yZXBsYWNlQ2hpbGQodCxlKTp0aGlzLmFkZEVsZW1lbnRUb0RvY3VtZW50KHQpKSx0Ll9faW1wb3J0UGFyc2VkPSEwLHRoaXMubWFya1BhcnNpbmdDb21wbGV0ZShlKSx0aGlzLnBhcnNlTmV4dCgpfX07dmFyIG89SFRNTEltcG9ydHMucGFyc2VyLmhhc1Jlc291cmNlO0hUTUxJbXBvcnRzLnBhcnNlci5oYXNSZXNvdXJjZT1mdW5jdGlvbihlKXtyZXR1cm4ibGluayI9PT1lLmxvY2FsTmFtZSYmInN0eWxlc2hlZXQiPT09ZS5yZWwmJmUuaGFzQXR0cmlidXRlKE8pP2UuX19yZXNvdXJjZTpvLmNhbGwodGhpcyxlKX19fSl9ZS5TaGFkb3dDU1M9dX0od2luZG93LlBsYXRmb3JtKSk6IWZ1bmN0aW9uKCl7d2luZG93LndyYXA9d2luZG93LnVud3JhcD1mdW5jdGlvbihlKXtyZXR1cm4gZX0sYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXtpZihDdXN0b21FbGVtZW50cy51c2VOYXRpdmU9PT0hMSl7dmFyIGU9RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdDtFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290PWZ1bmN0aW9uKCl7dmFyIHQ9ZS5jYWxsKHRoaXMpO3JldHVybiBDdXN0b21FbGVtZW50cy53YXRjaFNoYWRvdyh0aGlzKSx0fX19KX0od2luZG93LlBsYXRmb3JtKSxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtyZXR1cm4gdm9pZCAwIT09cFtlXX1mdW5jdGlvbiBuKCl7cy5jYWxsKHRoaXMpLHRoaXMuX2lzSW52YWxpZD0hMH1mdW5jdGlvbiByKGUpe3JldHVybiIiPT1lJiZuLmNhbGwodGhpcyksZS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIG8oZSl7dmFyIHQ9ZS5jaGFyQ29kZUF0KDApO3JldHVybiB0PjMyJiYxMjc+dCYmLTE9PVszNCwzNSw2MCw2Miw2Myw5Nl0uaW5kZXhPZih0KT9lOmVuY29kZVVSSUNvbXBvbmVudChlKX1mdW5jdGlvbiBpKGUpe3ZhciB0PWUuY2hhckNvZGVBdCgwKTtyZXR1cm4gdD4zMiYmMTI3PnQmJi0xPT1bMzQsMzUsNjAsNjIsOTZdLmluZGV4T2YodCk/ZTplbmNvZGVVUklDb21wb25lbnQoZSl9ZnVuY3Rpb24gYShlLGEscyl7ZnVuY3Rpb24gYyhlKXtiLnB1c2goZSl9dmFyIGw9YXx8InNjaGVtZSBzdGFydCIsdT0wLGQ9IiIsdz0hMSxnPSExLGI9W107ZTpmb3IoOyhlW3UtMV0hPWZ8fDA9PXUpJiYhdGhpcy5faXNJbnZhbGlkOyl7dmFyIHk9ZVt1XTtzd2l0Y2gobCl7Y2FzZSJzY2hlbWUgc3RhcnQiOmlmKCF5fHwhbS50ZXN0KHkpKXtpZihhKXtjKCJJbnZhbGlkIHNjaGVtZS4iKTticmVhayBlfWQ9IiIsbD0ibm8gc2NoZW1lIjtjb250aW51ZX1kKz15LnRvTG93ZXJDYXNlKCksbD0ic2NoZW1lIjticmVhaztjYXNlInNjaGVtZSI6aWYoeSYmdi50ZXN0KHkpKWQrPXkudG9Mb3dlckNhc2UoKTtlbHNle2lmKCI6IiE9eSl7aWYoYSl7aWYoZj09eSlicmVhayBlO2MoIkNvZGUgcG9pbnQgbm90IGFsbG93ZWQgaW4gc2NoZW1lOiAiK3kpO2JyZWFrIGV9ZD0iIix1PTAsbD0ibm8gc2NoZW1lIjtjb250aW51ZX1pZih0aGlzLl9zY2hlbWU9ZCxkPSIiLGEpYnJlYWsgZTt0KHRoaXMuX3NjaGVtZSkmJih0aGlzLl9pc1JlbGF0aXZlPSEwKSxsPSJmaWxlIj09dGhpcy5fc2NoZW1lPyJyZWxhdGl2ZSI6dGhpcy5faXNSZWxhdGl2ZSYmcyYmcy5fc2NoZW1lPT10aGlzLl9zY2hlbWU/InJlbGF0aXZlIG9yIGF1dGhvcml0eSI6dGhpcy5faXNSZWxhdGl2ZT8iYXV0aG9yaXR5IGZpcnN0IHNsYXNoIjoic2NoZW1lIGRhdGEifWJyZWFrO2Nhc2Uic2NoZW1lIGRhdGEiOiI/Ij09eT8ocXVlcnk9Ij8iLGw9InF1ZXJ5Iik6IiMiPT15Pyh0aGlzLl9mcmFnbWVudD0iIyIsbD0iZnJhZ21lbnQiKTpmIT15JiYiCSIhPXkmJiJcbiIhPXkmJiJcciIhPXkmJih0aGlzLl9zY2hlbWVEYXRhKz1vKHkpKTticmVhaztjYXNlIm5vIHNjaGVtZSI6aWYocyYmdChzLl9zY2hlbWUpKXtsPSJyZWxhdGl2ZSI7Y29udGludWV9YygiTWlzc2luZyBzY2hlbWUuIiksbi5jYWxsKHRoaXMpO2JyZWFrO2Nhc2UicmVsYXRpdmUgb3IgYXV0aG9yaXR5IjppZigiLyIhPXl8fCIvIiE9ZVt1KzFdKXtjKCJFeHBlY3RlZCAvLCBnb3Q6ICIreSksbD0icmVsYXRpdmUiO2NvbnRpbnVlfWw9ImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyI7YnJlYWs7Y2FzZSJyZWxhdGl2ZSI6aWYodGhpcy5faXNSZWxhdGl2ZT0hMCwiZmlsZSIhPXRoaXMuX3NjaGVtZSYmKHRoaXMuX3NjaGVtZT1zLl9zY2hlbWUpLGY9PXkpe3RoaXMuX2hvc3Q9cy5faG9zdCx0aGlzLl9wb3J0PXMuX3BvcnQsdGhpcy5fcGF0aD1zLl9wYXRoLnNsaWNlKCksdGhpcy5fcXVlcnk9cy5fcXVlcnk7YnJlYWsgZX1pZigiLyI9PXl8fCJcXCI9PXkpIlxcIj09eSYmYygiXFwgaXMgYW4gaW52YWxpZCBjb2RlIHBvaW50LiIpLGw9InJlbGF0aXZlIHNsYXNoIjtlbHNlIGlmKCI/Ij09eSl0aGlzLl9ob3N0PXMuX2hvc3QsdGhpcy5fcG9ydD1zLl9wb3J0LHRoaXMuX3BhdGg9cy5fcGF0aC5zbGljZSgpLHRoaXMuX3F1ZXJ5PSI/IixsPSJxdWVyeSI7CmVsc2V7aWYoIiMiIT15KXt2YXIgXz1lW3UrMV0sRT1lW3UrMl07KCJmaWxlIiE9dGhpcy5fc2NoZW1lfHwhbS50ZXN0KHkpfHwiOiIhPV8mJiJ8IiE9X3x8ZiE9RSYmIi8iIT1FJiYiXFwiIT1FJiYiPyIhPUUmJiIjIiE9RSkmJih0aGlzLl9ob3N0PXMuX2hvc3QsdGhpcy5fcG9ydD1zLl9wb3J0LHRoaXMuX3BhdGg9cy5fcGF0aC5zbGljZSgpLHRoaXMuX3BhdGgucG9wKCkpLGw9InJlbGF0aXZlIHBhdGgiO2NvbnRpbnVlfXRoaXMuX2hvc3Q9cy5faG9zdCx0aGlzLl9wb3J0PXMuX3BvcnQsdGhpcy5fcGF0aD1zLl9wYXRoLnNsaWNlKCksdGhpcy5fcXVlcnk9cy5fcXVlcnksdGhpcy5fZnJhZ21lbnQ9IiMiLGw9ImZyYWdtZW50In1icmVhaztjYXNlInJlbGF0aXZlIHNsYXNoIjppZigiLyIhPXkmJiJcXCIhPXkpeyJmaWxlIiE9dGhpcy5fc2NoZW1lJiYodGhpcy5faG9zdD1zLl9ob3N0LHRoaXMuX3BvcnQ9cy5fcG9ydCksbD0icmVsYXRpdmUgcGF0aCI7Y29udGludWV9IlxcIj09eSYmYygiXFwgaXMgYW4gaW52YWxpZCBjb2RlIHBvaW50LiIpLGw9ImZpbGUiPT10aGlzLl9zY2hlbWU/ImZpbGUgaG9zdCI6ImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyI7YnJlYWs7Y2FzZSJhdXRob3JpdHkgZmlyc3Qgc2xhc2giOmlmKCIvIiE9eSl7YygiRXhwZWN0ZWQgJy8nLCBnb3Q6ICIreSksbD0iYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIjtjb250aW51ZX1sPSJhdXRob3JpdHkgc2Vjb25kIHNsYXNoIjticmVhaztjYXNlImF1dGhvcml0eSBzZWNvbmQgc2xhc2giOmlmKGw9ImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyIsIi8iIT15KXtjKCJFeHBlY3RlZCAnLycsIGdvdDogIit5KTtjb250aW51ZX1icmVhaztjYXNlImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlcyI6aWYoIi8iIT15JiYiXFwiIT15KXtsPSJhdXRob3JpdHkiO2NvbnRpbnVlfWMoIkV4cGVjdGVkIGF1dGhvcml0eSwgZ290OiAiK3kpO2JyZWFrO2Nhc2UiYXV0aG9yaXR5IjppZigiQCI9PXkpe3cmJihjKCJAIGFscmVhZHkgc2Vlbi4iKSxkKz0iJTQwIiksdz0hMDtmb3IodmFyIFM9MDtTPGQubGVuZ3RoO1MrKyl7dmFyIE89ZFtTXTtpZigiCSIhPU8mJiJcbiIhPU8mJiJcciIhPU8paWYoIjoiIT1PfHxudWxsIT09dGhpcy5fcGFzc3dvcmQpe3ZhciBUPW8oTyk7bnVsbCE9PXRoaXMuX3Bhc3N3b3JkP3RoaXMuX3Bhc3N3b3JkKz1UOnRoaXMuX3VzZXJuYW1lKz1UfWVsc2UgdGhpcy5fcGFzc3dvcmQ9IiI7ZWxzZSBjKCJJbnZhbGlkIHdoaXRlc3BhY2UgaW4gYXV0aG9yaXR5LiIpfWQ9IiJ9ZWxzZXtpZihmPT15fHwiLyI9PXl8fCJcXCI9PXl8fCI/Ij09eXx8IiMiPT15KXt1LT1kLmxlbmd0aCxkPSIiLGw9Imhvc3QiO2NvbnRpbnVlfWQrPXl9YnJlYWs7Y2FzZSJmaWxlIGhvc3QiOmlmKGY9PXl8fCIvIj09eXx8IlxcIj09eXx8Ij8iPT15fHwiIyI9PXkpezIhPWQubGVuZ3RofHwhbS50ZXN0KGRbMF0pfHwiOiIhPWRbMV0mJiJ8IiE9ZFsxXT8wPT1kLmxlbmd0aD9sPSJyZWxhdGl2ZSBwYXRoIHN0YXJ0IjoodGhpcy5faG9zdD1yLmNhbGwodGhpcyxkKSxkPSIiLGw9InJlbGF0aXZlIHBhdGggc3RhcnQiKTpsPSJyZWxhdGl2ZSBwYXRoIjtjb250aW51ZX0iCSI9PXl8fCJcbiI9PXl8fCJcciI9PXk/YygiSW52YWxpZCB3aGl0ZXNwYWNlIGluIGZpbGUgaG9zdC4iKTpkKz15O2JyZWFrO2Nhc2UiaG9zdCI6Y2FzZSJob3N0bmFtZSI6aWYoIjoiIT15fHxnKXtpZihmPT15fHwiLyI9PXl8fCJcXCI9PXl8fCI/Ij09eXx8IiMiPT15KXtpZih0aGlzLl9ob3N0PXIuY2FsbCh0aGlzLGQpLGQ9IiIsbD0icmVsYXRpdmUgcGF0aCBzdGFydCIsYSlicmVhayBlO2NvbnRpbnVlfSIJIiE9eSYmIlxuIiE9eSYmIlxyIiE9eT8oIlsiPT15P2c9ITA6Il0iPT15JiYoZz0hMSksZCs9eSk6YygiSW52YWxpZCBjb2RlIHBvaW50IGluIGhvc3QvaG9zdG5hbWU6ICIreSl9ZWxzZSBpZih0aGlzLl9ob3N0PXIuY2FsbCh0aGlzLGQpLGQ9IiIsbD0icG9ydCIsImhvc3RuYW1lIj09YSlicmVhayBlO2JyZWFrO2Nhc2UicG9ydCI6aWYoL1swLTldLy50ZXN0KHkpKWQrPXk7ZWxzZXtpZihmPT15fHwiLyI9PXl8fCJcXCI9PXl8fCI/Ij09eXx8IiMiPT15fHxhKXtpZigiIiE9ZCl7dmFyIE09cGFyc2VJbnQoZCwxMCk7TSE9cFt0aGlzLl9zY2hlbWVdJiYodGhpcy5fcG9ydD1NKyIiKSxkPSIifWlmKGEpYnJlYWsgZTtsPSJyZWxhdGl2ZSBwYXRoIHN0YXJ0Ijtjb250aW51ZX0iCSI9PXl8fCJcbiI9PXl8fCJcciI9PXk/YygiSW52YWxpZCBjb2RlIHBvaW50IGluIHBvcnQ6ICIreSk6bi5jYWxsKHRoaXMpfWJyZWFrO2Nhc2UicmVsYXRpdmUgcGF0aCBzdGFydCI6aWYoIlxcIj09eSYmYygiJ1xcJyBub3QgYWxsb3dlZCBpbiBwYXRoLiIpLGw9InJlbGF0aXZlIHBhdGgiLCIvIiE9eSYmIlxcIiE9eSljb250aW51ZTticmVhaztjYXNlInJlbGF0aXZlIHBhdGgiOmlmKGYhPXkmJiIvIiE9eSYmIlxcIiE9eSYmKGF8fCI/IiE9eSYmIiMiIT15KSkiCSIhPXkmJiJcbiIhPXkmJiJcciIhPXkmJihkKz1vKHkpKTtlbHNleyJcXCI9PXkmJmMoIlxcIG5vdCBhbGxvd2VkIGluIHJlbGF0aXZlIHBhdGguIik7dmFyIEM7KEM9aFtkLnRvTG93ZXJDYXNlKCldKSYmKGQ9QyksIi4uIj09ZD8odGhpcy5fcGF0aC5wb3AoKSwiLyIhPXkmJiJcXCIhPXkmJnRoaXMuX3BhdGgucHVzaCgiIikpOiIuIj09ZCYmIi8iIT15JiYiXFwiIT15P3RoaXMuX3BhdGgucHVzaCgiIik6Ii4iIT1kJiYoImZpbGUiPT10aGlzLl9zY2hlbWUmJjA9PXRoaXMuX3BhdGgubGVuZ3RoJiYyPT1kLmxlbmd0aCYmbS50ZXN0KGRbMF0pJiYifCI9PWRbMV0mJihkPWRbMF0rIjoiKSx0aGlzLl9wYXRoLnB1c2goZCkpLGQ9IiIsIj8iPT15Pyh0aGlzLl9xdWVyeT0iPyIsbD0icXVlcnkiKToiIyI9PXkmJih0aGlzLl9mcmFnbWVudD0iIyIsbD0iZnJhZ21lbnQiKX1icmVhaztjYXNlInF1ZXJ5IjphfHwiIyIhPXk/ZiE9eSYmIgkiIT15JiYiXG4iIT15JiYiXHIiIT15JiYodGhpcy5fcXVlcnkrPWkoeSkpOih0aGlzLl9mcmFnbWVudD0iIyIsbD0iZnJhZ21lbnQiKTticmVhaztjYXNlImZyYWdtZW50IjpmIT15JiYiCSIhPXkmJiJcbiIhPXkmJiJcciIhPXkmJih0aGlzLl9mcmFnbWVudCs9eSl9dSsrfX1mdW5jdGlvbiBzKCl7dGhpcy5fc2NoZW1lPSIiLHRoaXMuX3NjaGVtZURhdGE9IiIsdGhpcy5fdXNlcm5hbWU9IiIsdGhpcy5fcGFzc3dvcmQ9bnVsbCx0aGlzLl9ob3N0PSIiLHRoaXMuX3BvcnQ9IiIsdGhpcy5fcGF0aD1bXSx0aGlzLl9xdWVyeT0iIix0aGlzLl9mcmFnbWVudD0iIix0aGlzLl9pc0ludmFsaWQ9ITEsdGhpcy5faXNSZWxhdGl2ZT0hMX1mdW5jdGlvbiBjKGUsdCl7dm9pZCAwPT09dHx8dCBpbnN0YW5jZW9mIGN8fCh0PW5ldyBjKFN0cmluZyh0KSkpLHRoaXMuX3VybD1lLHMuY2FsbCh0aGlzKTt2YXIgbj1lLnJlcGxhY2UoL15bIFx0XHJcblxmXSt8WyBcdFxyXG5cZl0rJC9nLCIiKTthLmNhbGwodGhpcyxuLG51bGwsdCl9dmFyIGw9ITE7aWYoIWUuZm9yY2VKVVJMKXRyeXt2YXIgdT1uZXcgVVJMKCJiIiwiaHR0cDovL2EiKTtsPSJodHRwOi8vYS9iIj09PXUuaHJlZn1jYXRjaChkKXt9aWYoIWwpe3ZhciBwPU9iamVjdC5jcmVhdGUobnVsbCk7cC5mdHA9MjEscC5maWxlPTAscC5nb3BoZXI9NzAscC5odHRwPTgwLHAuaHR0cHM9NDQzLHAud3M9ODAscC53c3M9NDQzO3ZhciBoPU9iamVjdC5jcmVhdGUobnVsbCk7aFsiJTJlIl09Ii4iLGhbIi4lMmUiXT0iLi4iLGhbIiUyZS4iXT0iLi4iLGhbIiUyZSUyZSJdPSIuLiI7dmFyIGY9dm9pZCAwLG09L1thLXpBLVpdLyx2PS9bYS16QS1aMC05XCtcLVwuXS87Yy5wcm90b3R5cGU9e2dldCBocmVmKCl7aWYodGhpcy5faXNJbnZhbGlkKXJldHVybiB0aGlzLl91cmw7dmFyIGU9IiI7cmV0dXJuKCIiIT10aGlzLl91c2VybmFtZXx8bnVsbCE9dGhpcy5fcGFzc3dvcmQpJiYoZT10aGlzLl91c2VybmFtZSsobnVsbCE9dGhpcy5fcGFzc3dvcmQ/IjoiK3RoaXMuX3Bhc3N3b3JkOiIiKSsiQCIpLHRoaXMucHJvdG9jb2wrKHRoaXMuX2lzUmVsYXRpdmU/Ii8vIitlK3RoaXMuaG9zdDoiIikrdGhpcy5wYXRobmFtZSt0aGlzLl9xdWVyeSt0aGlzLl9mcmFnbWVudH0sc2V0IGhyZWYoZSl7cy5jYWxsKHRoaXMpLGEuY2FsbCh0aGlzLGUpfSxnZXQgcHJvdG9jb2woKXtyZXR1cm4gdGhpcy5fc2NoZW1lKyI6In0sc2V0IHByb3RvY29sKGUpe3RoaXMuX2lzSW52YWxpZHx8YS5jYWxsKHRoaXMsZSsiOiIsInNjaGVtZSBzdGFydCIpfSxnZXQgaG9zdCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWQ/IiI6dGhpcy5fcG9ydD90aGlzLl9ob3N0KyI6Iit0aGlzLl9wb3J0OnRoaXMuX2hvc3R9LHNldCBob3N0KGUpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJmEuY2FsbCh0aGlzLGUsImhvc3QiKX0sZ2V0IGhvc3RuYW1lKCl7cmV0dXJuIHRoaXMuX2hvc3R9LHNldCBob3N0bmFtZShlKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiZhLmNhbGwodGhpcyxlLCJob3N0bmFtZSIpfSxnZXQgcG9ydCgpe3JldHVybiB0aGlzLl9wb3J0fSxzZXQgcG9ydChlKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiZhLmNhbGwodGhpcyxlLCJwb3J0Iil9LGdldCBwYXRobmFtZSgpe3JldHVybiB0aGlzLl9pc0ludmFsaWQ/IiI6dGhpcy5faXNSZWxhdGl2ZT8iLyIrdGhpcy5fcGF0aC5qb2luKCIvIik6dGhpcy5fc2NoZW1lRGF0YX0sc2V0IHBhdGhuYW1lKGUpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJih0aGlzLl9wYXRoPVtdLGEuY2FsbCh0aGlzLGUsInJlbGF0aXZlIHBhdGggc3RhcnQiKSl9LGdldCBzZWFyY2goKXtyZXR1cm4gdGhpcy5faXNJbnZhbGlkfHwhdGhpcy5fcXVlcnl8fCI/Ij09dGhpcy5fcXVlcnk/IiI6dGhpcy5fcXVlcnl9LHNldCBzZWFyY2goZSl7IXRoaXMuX2lzSW52YWxpZCYmdGhpcy5faXNSZWxhdGl2ZSYmKHRoaXMuX3F1ZXJ5PSI/IiwiPyI9PWVbMF0mJihlPWUuc2xpY2UoMSkpLGEuY2FsbCh0aGlzLGUsInF1ZXJ5IikpfSxnZXQgaGFzaCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWR8fCF0aGlzLl9mcmFnbWVudHx8IiMiPT10aGlzLl9mcmFnbWVudD8iIjp0aGlzLl9mcmFnbWVudH0sc2V0IGhhc2goZSl7dGhpcy5faXNJbnZhbGlkfHwodGhpcy5fZnJhZ21lbnQ9IiMiLCIjIj09ZVswXSYmKGU9ZS5zbGljZSgxKSksYS5jYWxsKHRoaXMsZSwiZnJhZ21lbnQiKSl9LGdldCBvcmlnaW4oKXt2YXIgZTtpZih0aGlzLl9pc0ludmFsaWR8fCF0aGlzLl9zY2hlbWUpcmV0dXJuIiI7c3dpdGNoKHRoaXMuX3NjaGVtZSl7Y2FzZSJkYXRhIjpjYXNlImZpbGUiOmNhc2UiamF2YXNjcmlwdCI6Y2FzZSJtYWlsdG8iOnJldHVybiJudWxsIn1yZXR1cm4gZT10aGlzLmhvc3QsZT90aGlzLl9zY2hlbWUrIjovLyIrZToiIn19O3ZhciB3PWUuVVJMO3cmJihjLmNyZWF0ZU9iamVjdFVSTD1mdW5jdGlvbigpe3JldHVybiB3LmNyZWF0ZU9iamVjdFVSTC5hcHBseSh3LGFyZ3VtZW50cyl9LGMucmV2b2tlT2JqZWN0VVJMPWZ1bmN0aW9uKGUpe3cucmV2b2tlT2JqZWN0VVJMKGUpfSksZS5VUkw9Y319KHRoaXMpLGZ1bmN0aW9uKCl7RnVuY3Rpb24ucHJvdG90eXBlLmJpbmR8fChGdW5jdGlvbi5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBmdW5jdGlvbigpe3ZhciByPW4uc2xpY2UoKTtyZXR1cm4gci5wdXNoLmFwcGx5KHIsYXJndW1lbnRzKSx0LmFwcGx5KGUscil9fSl9KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt5LnB1c2goZSksYnx8KGI9ITAsdihyKSl9ZnVuY3Rpb24gbihlKXtyZXR1cm4gd2luZG93LlNoYWRvd0RPTVBvbHlmaWxsJiZ3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKGUpfHxlfWZ1bmN0aW9uIHIoKXtiPSExO3ZhciBlPXk7eT1bXSxlLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS51aWRfLXQudWlkX30pO3ZhciB0PSExO2UuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj1lLnRha2VSZWNvcmRzKCk7byhlKSxuLmxlbmd0aCYmKGUuY2FsbGJhY2tfKG4sZSksdD0hMCl9KSx0JiZyKCl9ZnVuY3Rpb24gbyhlKXtlLm5vZGVzXy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPW0uZ2V0KHQpO24mJm4uZm9yRWFjaChmdW5jdGlvbih0KXt0Lm9ic2VydmVyPT09ZSYmdC5yZW1vdmVUcmFuc2llbnRPYnNlcnZlcnMoKX0pfSl9ZnVuY3Rpb24gaShlLHQpe2Zvcih2YXIgbj1lO247bj1uLnBhcmVudE5vZGUpe3ZhciByPW0uZ2V0KG4pO2lmKHIpZm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspe3ZhciBpPXJbb10sYT1pLm9wdGlvbnM7aWYobj09PWV8fGEuc3VidHJlZSl7dmFyIHM9dChhKTtzJiZpLmVucXVldWUocyl9fX19ZnVuY3Rpb24gYShlKXt0aGlzLmNhbGxiYWNrXz1lLHRoaXMubm9kZXNfPVtdLHRoaXMucmVjb3Jkc189W10sdGhpcy51aWRfPSsrX31mdW5jdGlvbiBzKGUsdCl7dGhpcy50eXBlPWUsdGhpcy50YXJnZXQ9dCx0aGlzLmFkZGVkTm9kZXM9W10sdGhpcy5yZW1vdmVkTm9kZXM9W10sdGhpcy5wcmV2aW91c1NpYmxpbmc9bnVsbCx0aGlzLm5leHRTaWJsaW5nPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lPW51bGwsdGhpcy5hdHRyaWJ1dGVOYW1lc3BhY2U9bnVsbCx0aGlzLm9sZFZhbHVlPW51bGx9ZnVuY3Rpb24gYyhlKXt2YXIgdD1uZXcgcyhlLnR5cGUsZS50YXJnZXQpO3JldHVybiB0LmFkZGVkTm9kZXM9ZS5hZGRlZE5vZGVzLnNsaWNlKCksdC5yZW1vdmVkTm9kZXM9ZS5yZW1vdmVkTm9kZXMuc2xpY2UoKSx0LnByZXZpb3VzU2libGluZz1lLnByZXZpb3VzU2libGluZyx0Lm5leHRTaWJsaW5nPWUubmV4dFNpYmxpbmcsdC5hdHRyaWJ1dGVOYW1lPWUuYXR0cmlidXRlTmFtZSx0LmF0dHJpYnV0ZU5hbWVzcGFjZT1lLmF0dHJpYnV0ZU5hbWVzcGFjZSx0Lm9sZFZhbHVlPWUub2xkVmFsdWUsdH1mdW5jdGlvbiBsKGUsdCl7cmV0dXJuIEU9bmV3IHMoZSx0KX1mdW5jdGlvbiB1KGUpe3JldHVybiBTP1M6KFM9YyhFKSxTLm9sZFZhbHVlPWUsUyl9ZnVuY3Rpb24gZCgpe0U9Uz12b2lkIDB9ZnVuY3Rpb24gcChlKXtyZXR1cm4gZT09PVN8fGU9PT1FfWZ1bmN0aW9uIGgoZSx0KXtyZXR1cm4gZT09PXQ/ZTpTJiZwKGUpP1M6bnVsbH1mdW5jdGlvbiBmKGUsdCxuKXt0aGlzLm9ic2VydmVyPWUsdGhpcy50YXJnZXQ9dCx0aGlzLm9wdGlvbnM9bix0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W119dmFyIG09bmV3IFdlYWtNYXAsdj13aW5kb3cubXNTZXRJbW1lZGlhdGU7aWYoIXYpe3ZhciB3PVtdLGc9U3RyaW5nKE1hdGgucmFuZG9tKCkpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixmdW5jdGlvbihlKXtpZihlLmRhdGE9PT1nKXt2YXIgdD13O3c9W10sdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UoKX0pfX0pLHY9ZnVuY3Rpb24oZSl7dy5wdXNoKGUpLHdpbmRvdy5wb3N0TWVzc2FnZShnLCIqIil9fXZhciBiPSExLHk9W10sXz0wO2EucHJvdG90eXBlPXtvYnNlcnZlOmZ1bmN0aW9uKGUsdCl7aWYoZT1uKGUpLCF0LmNoaWxkTGlzdCYmIXQuYXR0cmlidXRlcyYmIXQuY2hhcmFjdGVyRGF0YXx8dC5hdHRyaWJ1dGVPbGRWYWx1ZSYmIXQuYXR0cmlidXRlc3x8dC5hdHRyaWJ1dGVGaWx0ZXImJnQuYXR0cmlidXRlRmlsdGVyLmxlbmd0aCYmIXQuYXR0cmlidXRlc3x8dC5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUmJiF0LmNoYXJhY3RlckRhdGEpdGhyb3cgbmV3IFN5bnRheEVycm9yO3ZhciByPW0uZ2V0KGUpO3J8fG0uc2V0KGUscj1bXSk7Zm9yKHZhciBvLGk9MDtpPHIubGVuZ3RoO2krKylpZihyW2ldLm9ic2VydmVyPT09dGhpcyl7bz1yW2ldLG8ucmVtb3ZlTGlzdGVuZXJzKCksby5vcHRpb25zPXQ7YnJlYWt9b3x8KG89bmV3IGYodGhpcyxlLHQpLHIucHVzaChvKSx0aGlzLm5vZGVzXy5wdXNoKGUpKSxvLmFkZExpc3RlbmVycygpfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy5ub2Rlc18uZm9yRWFjaChmdW5jdGlvbihlKXtmb3IodmFyIHQ9bS5nZXQoZSksbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO2lmKHIub2JzZXJ2ZXI9PT10aGlzKXtyLnJlbW92ZUxpc3RlbmVycygpLHQuc3BsaWNlKG4sMSk7YnJlYWt9fX0sdGhpcyksdGhpcy5yZWNvcmRzXz1bXX0sdGFrZVJlY29yZHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlY29yZHNfO3JldHVybiB0aGlzLnJlY29yZHNfPVtdLGV9fTt2YXIgRSxTO2YucHJvdG90eXBlPXtlbnF1ZXVlOmZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMub2JzZXJ2ZXIucmVjb3Jkc18scj1uLmxlbmd0aDtpZihuLmxlbmd0aD4wKXt2YXIgbz1uW3ItMV0saT1oKG8sZSk7aWYoaSlyZXR1cm4gdm9pZChuW3ItMV09aSl9ZWxzZSB0KHRoaXMub2JzZXJ2ZXIpO25bcl09ZX0sYWRkTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dGhpcy5hZGRMaXN0ZW5lcnNfKHRoaXMudGFyZ2V0KX0sYWRkTGlzdGVuZXJzXzpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm9wdGlvbnM7dC5hdHRyaWJ1dGVzJiZlLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUF0dHJNb2RpZmllZCIsdGhpcywhMCksdC5jaGFyYWN0ZXJEYXRhJiZlLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCIsdGhpcywhMCksdC5jaGlsZExpc3QmJmUuYWRkRXZlbnRMaXN0ZW5lcigiRE9NTm9kZUluc2VydGVkIix0aGlzLCEwKSwodC5jaGlsZExpc3R8fHQuc3VidHJlZSkmJmUuYWRkRXZlbnRMaXN0ZW5lcigiRE9NTm9kZVJlbW92ZWQiLHRoaXMsITApfSxyZW1vdmVMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUxpc3RlbmVyc18odGhpcy50YXJnZXQpfSxyZW1vdmVMaXN0ZW5lcnNfOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMub3B0aW9uczt0LmF0dHJpYnV0ZXMmJmUucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQXR0ck1vZGlmaWVkIix0aGlzLCEwKSx0LmNoYXJhY3RlckRhdGEmJmUucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIix0aGlzLCEwKSx0LmNoaWxkTGlzdCYmZS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Ob2RlSW5zZXJ0ZWQiLHRoaXMsITApLCh0LmNoaWxkTGlzdHx8dC5zdWJ0cmVlKSYmZS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Ob2RlUmVtb3ZlZCIsdGhpcywhMCl9LGFkZFRyYW5zaWVudE9ic2VydmVyOmZ1bmN0aW9uKGUpe2lmKGUhPT10aGlzLnRhcmdldCl7dGhpcy5hZGRMaXN0ZW5lcnNfKGUpLHRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcy5wdXNoKGUpO3ZhciB0PW0uZ2V0KGUpO3R8fG0uc2V0KGUsdD1bXSksdC5wdXNoKHRoaXMpfX0scmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzO3RoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXSxlLmZvckVhY2goZnVuY3Rpb24oZSl7dGhpcy5yZW1vdmVMaXN0ZW5lcnNfKGUpO2Zvcih2YXIgdD1tLmdldChlKSxuPTA7bjx0Lmxlbmd0aDtuKyspaWYodFtuXT09PXRoaXMpe3Quc3BsaWNlKG4sMSk7YnJlYWt9fSx0aGlzKX0saGFuZGxlRXZlbnQ6ZnVuY3Rpb24oZSl7c3dpdGNoKGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksZS50eXBlKXtjYXNlIkRPTUF0dHJNb2RpZmllZCI6dmFyIHQ9ZS5hdHRyTmFtZSxuPWUucmVsYXRlZE5vZGUubmFtZXNwYWNlVVJJLHI9ZS50YXJnZXQsbz1uZXcgbCgiYXR0cmlidXRlcyIscik7by5hdHRyaWJ1dGVOYW1lPXQsby5hdHRyaWJ1dGVOYW1lc3BhY2U9bjt2YXIgYT1lLmF0dHJDaGFuZ2U9PT1NdXRhdGlvbkV2ZW50LkFERElUSU9OP251bGw6ZS5wcmV2VmFsdWU7aShyLGZ1bmN0aW9uKGUpe3JldHVybiFlLmF0dHJpYnV0ZXN8fGUuYXR0cmlidXRlRmlsdGVyJiZlLmF0dHJpYnV0ZUZpbHRlci5sZW5ndGgmJi0xPT09ZS5hdHRyaWJ1dGVGaWx0ZXIuaW5kZXhPZih0KSYmLTE9PT1lLmF0dHJpYnV0ZUZpbHRlci5pbmRleE9mKG4pP3ZvaWQgMDplLmF0dHJpYnV0ZU9sZFZhbHVlP3UoYSk6b30pO2JyZWFrO2Nhc2UiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIjp2YXIgcj1lLnRhcmdldCxvPWwoImNoYXJhY3RlckRhdGEiLHIpLGE9ZS5wcmV2VmFsdWU7aShyLGZ1bmN0aW9uKGUpe3JldHVybiBlLmNoYXJhY3RlckRhdGE/ZS5jaGFyYWN0ZXJEYXRhT2xkVmFsdWU/dShhKTpvOnZvaWQgMH0pO2JyZWFrO2Nhc2UiRE9NTm9kZVJlbW92ZWQiOnRoaXMuYWRkVHJhbnNpZW50T2JzZXJ2ZXIoZS50YXJnZXQpO2Nhc2UiRE9NTm9kZUluc2VydGVkIjp2YXIgcyxjLHI9ZS5yZWxhdGVkTm9kZSxwPWUudGFyZ2V0OyJET01Ob2RlSW5zZXJ0ZWQiPT09ZS50eXBlPyhzPVtwXSxjPVtdKToocz1bXSxjPVtwXSk7dmFyIGg9cC5wcmV2aW91c1NpYmxpbmcsZj1wLm5leHRTaWJsaW5nLG89bCgiY2hpbGRMaXN0IixyKTtvLmFkZGVkTm9kZXM9cyxvLnJlbW92ZWROb2Rlcz1jLG8ucHJldmlvdXNTaWJsaW5nPWgsby5uZXh0U2libGluZz1mLGkocixmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGlsZExpc3Q/bzp2b2lkIDB9KX1kKCl9fSxlLkpzTXV0YXRpb25PYnNlcnZlcj1hLGUuTXV0YXRpb25PYnNlcnZlcnx8KGUuTXV0YXRpb25PYnNlcnZlcj1hKX0odGhpcyksd2luZG93LkhUTUxJbXBvcnRzPXdpbmRvdy5IVE1MSW1wb3J0c3x8e2ZsYWdzOnt9fSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCl7dD10fHx2LHIoZnVuY3Rpb24oKXtpKGUsdCl9LHQpfWZ1bmN0aW9uIG4oZSl7cmV0dXJuImNvbXBsZXRlIj09PWUucmVhZHlTdGF0ZXx8ZS5yZWFkeVN0YXRlPT09Z31mdW5jdGlvbiByKGUsdCl7aWYobih0KSllJiZlKCk7ZWxzZXt2YXIgbz1mdW5jdGlvbigpeygiY29tcGxldGUiPT09dC5yZWFkeVN0YXRlfHx0LnJlYWR5U3RhdGU9PT1nKSYmKHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLG8pLHIoZSx0KSl9O3QuYWRkRXZlbnRMaXN0ZW5lcihiLG8pfX1mdW5jdGlvbiBvKGUpe2UudGFyZ2V0Ll9fbG9hZGVkPSEwfWZ1bmN0aW9uIGkoZSx0KXtmdW5jdGlvbiBuKCl7cz09YyYmZSYmZSgpfWZ1bmN0aW9uIHIoZSl7byhlKSxzKyssbigpfXZhciBpPXQucXVlcnlTZWxlY3RvckFsbCgibGlua1tyZWw9aW1wb3J0XSIpLHM9MCxjPWkubGVuZ3RoO2lmKGMpZm9yKHZhciBsLHU9MDtjPnUmJihsPWlbdV0pO3UrKylhKGwpP3IuY2FsbChsLHt0YXJnZXQ6bH0pOihsLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLHIpLGwuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLHIpKTtlbHNlIG4oKX1mdW5jdGlvbiBhKGUpe3JldHVybiBwP2UuX19sb2FkZWR8fGUuaW1wb3J0JiYibG9hZGluZyIhPT1lLmltcG9ydC5yZWFkeVN0YXRlOmUuX19pbXBvcnRQYXJzZWR9ZnVuY3Rpb24gcyhlKXtmb3IodmFyIHQsbj0wLHI9ZS5sZW5ndGg7cj5uJiYodD1lW25dKTtuKyspYyh0KSYmbCh0KX1mdW5jdGlvbiBjKGUpe3JldHVybiJsaW5rIj09PWUubG9jYWxOYW1lJiYiaW1wb3J0Ij09PWUucmVsfWZ1bmN0aW9uIGwoZSl7dmFyIHQ9ZS5pbXBvcnQ7dD9vKHt0YXJnZXQ6ZX0pOihlLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLG8pLGUuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLG8pKX12YXIgdT0iaW1wb3J0IixkPXUgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGluayIpLHA9ZCxoPS9UcmlkZW50Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGY9Qm9vbGVhbih3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLG09ZnVuY3Rpb24oZSl7cmV0dXJuIGY/U2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKGUpOmV9LHY9bShkb2N1bWVudCksdz17Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9SFRNTEltcG9ydHMuY3VycmVudFNjcmlwdHx8ZG9jdW1lbnQuY3VycmVudFNjcmlwdHx8KCJjb21wbGV0ZSIhPT1kb2N1bWVudC5yZWFkeVN0YXRlP2RvY3VtZW50LnNjcmlwdHNbZG9jdW1lbnQuc2NyaXB0cy5sZW5ndGgtMV06bnVsbCk7cmV0dXJuIG0oZSl9LGNvbmZpZ3VyYWJsZTohMH07T2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LCJfY3VycmVudFNjcmlwdCIsdyksT2JqZWN0LmRlZmluZVByb3BlcnR5KHYsIl9jdXJyZW50U2NyaXB0Iix3KTt2YXIgZz1oPyJjb21wbGV0ZSI6ImludGVyYWN0aXZlIixiPSJyZWFkeXN0YXRlY2hhbmdlIjtwJiYobmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49MCxyPWUubGVuZ3RoO3I+biYmKHQ9ZVtuXSk7bisrKXQuYWRkZWROb2RlcyYmcyh0LmFkZGVkTm9kZXMpfSkub2JzZXJ2ZShkb2N1bWVudC5oZWFkLHtjaGlsZExpc3Q6ITB9KSxmdW5jdGlvbigpe2lmKCJsb2FkaW5nIj09PWRvY3VtZW50LnJlYWR5U3RhdGUpZm9yKHZhciBlLHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgibGlua1tyZWw9aW1wb3J0XSIpLG49MCxyPXQubGVuZ3RoO3I+biYmKGU9dFtuXSk7bisrKWwoZSl9KCkpLHQoZnVuY3Rpb24oKXtIVE1MSW1wb3J0cy5yZWFkeT0hMCxIVE1MSW1wb3J0cy5yZWFkeVRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksdi5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgiSFRNTEltcG9ydHNMb2FkZWQiLHtidWJibGVzOiEwfSkpfSksZS51c2VOYXRpdmU9cCxlLmlzSW1wb3J0TG9hZGVkPWEsZS53aGVuUmVhZHk9dCxlLnJvb3REb2N1bWVudD12LGUuSU1QT1JUX0xJTktfVFlQRT11LGUuaXNJRT1ofSh3aW5kb3cuSFRNTEltcG9ydHMpLGZ1bmN0aW9uKGUpe3ZhciB0PShlLnBhdGgsZS54aHIpLG49ZS5mbGFncyxyPWZ1bmN0aW9uKGUsdCl7dGhpcy5jYWNoZT17fSx0aGlzLm9ubG9hZD1lLHRoaXMub25jb21wbGV0ZT10LHRoaXMuaW5mbGlnaHQ9MCx0aGlzLnBlbmRpbmc9e319O3IucHJvdG90eXBlPXthZGROb2RlczpmdW5jdGlvbihlKXt0aGlzLmluZmxpZ2h0Kz1lLmxlbmd0aDtmb3IodmFyIHQsbj0wLHI9ZS5sZW5ndGg7cj5uJiYodD1lW25dKTtuKyspdGhpcy5yZXF1aXJlKHQpO3RoaXMuY2hlY2tEb25lKCl9LGFkZE5vZGU6ZnVuY3Rpb24oZSl7dGhpcy5pbmZsaWdodCsrLHRoaXMucmVxdWlyZShlKSx0aGlzLmNoZWNrRG9uZSgpfSxyZXF1aXJlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3JjfHxlLmhyZWY7ZS5fX25vZGVVcmw9dCx0aGlzLmRlZHVwZSh0LGUpfHx0aGlzLmZldGNoKHQsZSl9LGRlZHVwZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnBlbmRpbmdbZV0/KHRoaXMucGVuZGluZ1tlXS5wdXNoKHQpLCEwKTp0aGlzLmNhY2hlW2VdPyh0aGlzLm9ubG9hZChlLHQsdGhpcy5jYWNoZVtlXSksdGhpcy50YWlsKCksITApOih0aGlzLnBlbmRpbmdbZV09W3RdLCExKX0sZmV0Y2g6ZnVuY3Rpb24oZSxyKXtpZihuLmxvYWQmJmNvbnNvbGUubG9nKCJmZXRjaCIsZSxyKSxlLm1hdGNoKC9eZGF0YTovKSl7dmFyIG89ZS5zcGxpdCgiLCIpLGk9b1swXSxhPW9bMV07YT1pLmluZGV4T2YoIjtiYXNlNjQiKT4tMT9hdG9iKGEpOmRlY29kZVVSSUNvbXBvbmVudChhKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5yZWNlaXZlKGUscixudWxsLGEpfS5iaW5kKHRoaXMpLDApfWVsc2V7dmFyIHM9ZnVuY3Rpb24odCxuLG8pe3RoaXMucmVjZWl2ZShlLHIsdCxuLG8pfS5iaW5kKHRoaXMpO3QubG9hZChlLHMpfX0scmVjZWl2ZTpmdW5jdGlvbihlLHQsbixyLG8pe3RoaXMuY2FjaGVbZV09cjtmb3IodmFyIGksYT10aGlzLnBlbmRpbmdbZV0scz0wLGM9YS5sZW5ndGg7Yz5zJiYoaT1hW3NdKTtzKyspdGhpcy5vbmxvYWQoZSxpLHIsbixvKSx0aGlzLnRhaWwoKTt0aGlzLnBlbmRpbmdbZV09bnVsbH0sdGFpbDpmdW5jdGlvbigpey0tdGhpcy5pbmZsaWdodCx0aGlzLmNoZWNrRG9uZSgpfSxjaGVja0RvbmU6ZnVuY3Rpb24oKXt0aGlzLmluZmxpZ2h0fHx0aGlzLm9uY29tcGxldGUoKX19LHQ9dHx8e2FzeW5jOiEwLG9rOmZ1bmN0aW9uKGUpe3JldHVybiBlLnN0YXR1cz49MjAwJiZlLnN0YXR1czwzMDB8fDMwND09PWUuc3RhdHVzfHwwPT09ZS5zdGF0dXN9LGxvYWQ6ZnVuY3Rpb24obixyLG8pe3ZhciBpPW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4oZS5mbGFncy5kZWJ1Z3x8ZS5mbGFncy5idXN0KSYmKG4rPSI/IitNYXRoLnJhbmRvbSgpKSxpLm9wZW4oIkdFVCIsbix0LmFzeW5jKSxpLmFkZEV2ZW50TGlzdGVuZXIoInJlYWR5c3RhdGVjaGFuZ2UiLGZ1bmN0aW9uKCl7aWYoND09PWkucmVhZHlTdGF0ZSl7dmFyIGU9aS5nZXRSZXNwb25zZUhlYWRlcigiTG9jYXRpb24iKSxuPW51bGw7aWYoZSl2YXIgbj0iLyI9PT1lLnN1YnN0cigwLDEpP2xvY2F0aW9uLm9yaWdpbitlOmU7ci5jYWxsKG8sIXQub2soaSkmJmksaS5yZXNwb25zZXx8aS5yZXNwb25zZVRleHQsbil9fSksaS5zZW5kKCksaX0sbG9hZERvY3VtZW50OmZ1bmN0aW9uKGUsdCxuKXt0aGlzLmxvYWQoZSx0LG4pLnJlc3BvbnNlVHlwZT0iZG9jdW1lbnQifX0sZS54aHI9dCxlLkxvYWRlcj1yfSh3aW5kb3cuSFRNTEltcG9ydHMpLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7cmV0dXJuImxpbmsiPT09ZS5sb2NhbE5hbWUmJmUucmVsPT09bH1mdW5jdGlvbiBuKGUpe3ZhciB0PXIoZSk7cmV0dXJuImRhdGE6dGV4dC9qYXZhc2NyaXB0O2NoYXJzZXQ9dXRmLTgsIitlbmNvZGVVUklDb21wb25lbnQodCl9ZnVuY3Rpb24gcihlKXtyZXR1cm4gZS50ZXh0Q29udGVudCtvKGUpfWZ1bmN0aW9uIG8oZSl7dmFyIHQ9ZS5fX25vZGVVcmw7aWYoIXQpe3Q9ZS5vd25lckRvY3VtZW50LmJhc2VVUkk7dmFyIG49IlsiK01hdGguZmxvb3IoMWUzKihNYXRoLnJhbmRvbSgpKzEpKSsiXSIscj1lLnRleHRDb250ZW50Lm1hdGNoKC9Qb2x5bWVyXChbJyJdKFteJyJdKikvKTtuPXImJnJbMV18fG4sdCs9Ii8iK24rIi5qcyJ9cmV0dXJuIlxuLy8jIHNvdXJjZVVSTD0iK3QrIlxuIn1mdW5jdGlvbiBpKGUpe3ZhciB0PWUub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO3JldHVybiB0LnRleHRDb250ZW50PWUudGV4dENvbnRlbnQsaC5yZXNvbHZlVXJsc0luU3R5bGUodCksdH12YXIgYT1lLnJvb3REb2N1bWVudCxzPWUuZmxhZ3MsYz1lLmlzSUUsbD1lLklNUE9SVF9MSU5LX1RZUEUsdT17ZG9jdW1lbnRTZWxlY3RvcnM6ImxpbmtbcmVsPSIrbCsiXSIsaW1wb3J0c1NlbGVjdG9yczpbImxpbmtbcmVsPSIrbCsiXSIsImxpbmtbcmVsPXN0eWxlc2hlZXRdIiwic3R5bGUiLCJzY3JpcHQ6bm90KFt0eXBlXSkiLCdzY3JpcHRbdHlwZT0idGV4dC9qYXZhc2NyaXB0Il0nXS5qb2luKCIsIiksbWFwOntsaW5rOiJwYXJzZUxpbmsiLHNjcmlwdDoicGFyc2VTY3JpcHQiLHN0eWxlOiJwYXJzZVN0eWxlIn0sZHluYW1pY0VsZW1lbnRzOltdLHBhcnNlTmV4dDpmdW5jdGlvbigpe3ZhciBlPXRoaXMubmV4dFRvUGFyc2UoKTtlJiZ0aGlzLnBhcnNlKGUpfSxwYXJzZTpmdW5jdGlvbihlKXtpZih0aGlzLmlzUGFyc2VkKGUpKXJldHVybiB2b2lkKHMucGFyc2UmJmNvbnNvbGUubG9nKCJbJXNdIGlzIGFscmVhZHkgcGFyc2VkIixlLmxvY2FsTmFtZSkpO3ZhciB0PXRoaXNbdGhpcy5tYXBbZS5sb2NhbE5hbWVdXTt0JiYodGhpcy5tYXJrUGFyc2luZyhlKSx0LmNhbGwodGhpcyxlKSl9LHBhcnNlRHluYW1pYzpmdW5jdGlvbihlLHQpe3RoaXMuZHluYW1pY0VsZW1lbnRzLnB1c2goZSksdHx8dGhpcy5wYXJzZU5leHQoKX0sbWFya1BhcnNpbmc6ZnVuY3Rpb24oZSl7cy5wYXJzZSYmY29uc29sZS5sb2coInBhcnNpbmciLGUpLHRoaXMucGFyc2luZ0VsZW1lbnQ9ZX0sbWFya1BhcnNpbmdDb21wbGV0ZTpmdW5jdGlvbihlKXtlLl9faW1wb3J0UGFyc2VkPSEwLHRoaXMubWFya0R5bmFtaWNQYXJzaW5nQ29tcGxldGUoZSksZS5fX2ltcG9ydEVsZW1lbnQmJihlLl9faW1wb3J0RWxlbWVudC5fX2ltcG9ydFBhcnNlZD0hMCx0aGlzLm1hcmtEeW5hbWljUGFyc2luZ0NvbXBsZXRlKGUuX19pbXBvcnRFbGVtZW50KSksdGhpcy5wYXJzaW5nRWxlbWVudD1udWxsLHMucGFyc2UmJmNvbnNvbGUubG9nKCJjb21wbGV0ZWQiLGUpfSxtYXJrRHluYW1pY1BhcnNpbmdDb21wbGV0ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmR5bmFtaWNFbGVtZW50cy5pbmRleE9mKGUpO3Q+PTAmJnRoaXMuZHluYW1pY0VsZW1lbnRzLnNwbGljZSh0LDEpfSxwYXJzZUltcG9ydDpmdW5jdGlvbihlKXtpZihIVE1MSW1wb3J0cy5fX2ltcG9ydHNQYXJzaW5nSG9vayYmSFRNTEltcG9ydHMuX19pbXBvcnRzUGFyc2luZ0hvb2soZSksZS5pbXBvcnQmJihlLmltcG9ydC5fX2ltcG9ydFBhcnNlZD0hMCksdGhpcy5tYXJrUGFyc2luZ0NvbXBsZXRlKGUpLGUuZGlzcGF0Y2hFdmVudChlLl9fcmVzb3VyY2UmJiFlLl9fZXJyb3I/bmV3IEN1c3RvbUV2ZW50KCJsb2FkIix7YnViYmxlczohMX0pOm5ldyBDdXN0b21FdmVudCgiZXJyb3IiLHtidWJibGVzOiExfSkpLGUuX19wZW5kaW5nKWZvcih2YXIgdDtlLl9fcGVuZGluZy5sZW5ndGg7KXQ9ZS5fX3BlbmRpbmcuc2hpZnQoKSx0JiZ0KHt0YXJnZXQ6ZX0pO3RoaXMucGFyc2VOZXh0KCl9LHBhcnNlTGluazpmdW5jdGlvbihlKXt0KGUpP3RoaXMucGFyc2VJbXBvcnQoZSk6KGUuaHJlZj1lLmhyZWYsdGhpcy5wYXJzZUdlbmVyaWMoZSkpfSxwYXJzZVN0eWxlOmZ1bmN0aW9uKGUpe3ZhciB0PWU7ZT1pKGUpLGUuX19pbXBvcnRFbGVtZW50PXQsdGhpcy5wYXJzZUdlbmVyaWMoZSl9LHBhcnNlR2VuZXJpYzpmdW5jdGlvbihlKXt0aGlzLnRyYWNrRWxlbWVudChlKSx0aGlzLmFkZEVsZW1lbnRUb0RvY3VtZW50KGUpfSxyb290SW1wb3J0Rm9yRWxlbWVudDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZTt0Lm93bmVyRG9jdW1lbnQuX19pbXBvcnRMaW5rOyl0PXQub3duZXJEb2N1bWVudC5fX2ltcG9ydExpbms7cmV0dXJuIHR9LGFkZEVsZW1lbnRUb0RvY3VtZW50OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnJvb3RJbXBvcnRGb3JFbGVtZW50KGUuX19pbXBvcnRFbGVtZW50fHxlKSxuPXQuX19pbnNlcnRlZEVsZW1lbnRzPXQuX19pbnNlcnRlZEVsZW1lbnRzfHwwLHI9dC5uZXh0RWxlbWVudFNpYmxpbmcsbz0wO24+bztvKyspcj1yJiZyLm5leHRFbGVtZW50U2libGluZzt0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUscil9LHRyYWNrRWxlbWVudDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscj1mdW5jdGlvbihyKXt0JiZ0KHIpLG4ubWFya1BhcnNpbmdDb21wbGV0ZShlKSxuLnBhcnNlTmV4dCgpfTtpZihlLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLHIpLGUuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLHIpLGMmJiJzdHlsZSI9PT1lLmxvY2FsTmFtZSl7dmFyIG89ITE7aWYoLTE9PWUudGV4dENvbnRlbnQuaW5kZXhPZigiQGltcG9ydCIpKW89ITA7ZWxzZSBpZihlLnNoZWV0KXtvPSEwO2Zvcih2YXIgaSxhPWUuc2hlZXQuY3NzUnVsZXMscz1hP2EubGVuZ3RoOjAsbD0wO3M+bCYmKGk9YVtsXSk7bCsrKWkudHlwZT09PUNTU1J1bGUuSU1QT1JUX1JVTEUmJihvPW8mJkJvb2xlYW4oaS5zdHlsZVNoZWV0KSl9byYmZS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgibG9hZCIse2J1YmJsZXM6ITF9KSl9fSxwYXJzZVNjcmlwdDpmdW5jdGlvbih0KXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtyLl9faW1wb3J0RWxlbWVudD10LHIuc3JjPXQuc3JjP3Quc3JjOm4odCksZS5jdXJyZW50U2NyaXB0PXQsdGhpcy50cmFja0VsZW1lbnQocixmdW5jdGlvbigpe3IucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKSxlLmN1cnJlbnRTY3JpcHQ9bnVsbH0pLHRoaXMuYWRkRWxlbWVudFRvRG9jdW1lbnQocil9LG5leHRUb1BhcnNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21heVBhcnNlPVtdLCF0aGlzLnBhcnNpbmdFbGVtZW50JiYodGhpcy5uZXh0VG9QYXJzZUluRG9jKGEpfHx0aGlzLm5leHRUb1BhcnNlRHluYW1pYygpKX0sbmV4dFRvUGFyc2VJbkRvYzpmdW5jdGlvbihlLG4pe2lmKGUmJnRoaXMuX21heVBhcnNlLmluZGV4T2YoZSk8MCl7dGhpcy5fbWF5UGFyc2UucHVzaChlKTtmb3IodmFyIHIsbz1lLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5wYXJzZVNlbGVjdG9yc0Zvck5vZGUoZSkpLGk9MCxhPW8ubGVuZ3RoO2E+aSYmKHI9b1tpXSk7aSsrKWlmKCF0aGlzLmlzUGFyc2VkKHIpKXJldHVybiB0aGlzLmhhc1Jlc291cmNlKHIpP3Qocik/dGhpcy5uZXh0VG9QYXJzZUluRG9jKHIuaW1wb3J0LHIpOnI6dm9pZCAwfXJldHVybiBufSxuZXh0VG9QYXJzZUR5bmFtaWM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5keW5hbWljRWxlbWVudHNbMF19LHBhcnNlU2VsZWN0b3JzRm9yTm9kZTpmdW5jdGlvbihlKXt2YXIgdD1lLm93bmVyRG9jdW1lbnR8fGU7cmV0dXJuIHQ9PT1hP3RoaXMuZG9jdW1lbnRTZWxlY3RvcnM6dGhpcy5pbXBvcnRzU2VsZWN0b3JzfSxpc1BhcnNlZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX2ltcG9ydFBhcnNlZH0sbmVlZHNEeW5hbWljUGFyc2luZzpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5keW5hbWljRWxlbWVudHMuaW5kZXhPZihlKT49MH0saGFzUmVzb3VyY2U6ZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSkmJnZvaWQgMD09PWUuaW1wb3J0PyExOiEwfX0sZD0vKHVybFwoKShbXildKikoXCkpL2cscD0vKEBpbXBvcnRbXHNdKyg/IXVybFwoKSkoW147XSopKDspL2csaD17cmVzb2x2ZVVybHNJblN0eWxlOmZ1bmN0aW9uKGUpe3ZhciB0PWUub3duZXJEb2N1bWVudCxuPXQuY3JlYXRlRWxlbWVudCgiYSIpO3JldHVybiBlLnRleHRDb250ZW50PXRoaXMucmVzb2x2ZVVybHNJbkNzc1RleHQoZS50ZXh0Q29udGVudCxuKSxlfSxyZXNvbHZlVXJsc0luQ3NzVGV4dDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMucmVwbGFjZVVybHMoZSx0LGQpO3JldHVybiBuPXRoaXMucmVwbGFjZVVybHMobix0LHApfSxyZXBsYWNlVXJsczpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGUucmVwbGFjZShuLGZ1bmN0aW9uKGUsbixyLG8pe3ZhciBpPXIucmVwbGFjZSgvWyInXS9nLCIiKTtyZXR1cm4gdC5ocmVmPWksaT10LmhyZWYsbisiJyIraSsiJyIrb30pfX07ZS5wYXJzZXI9dSxlLnBhdGg9aH0oSFRNTEltcG9ydHMpLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7cmV0dXJuIG4oZSxhKX1mdW5jdGlvbiBuKGUsdCl7cmV0dXJuImxpbmsiPT09ZS5sb2NhbE5hbWUmJmUuZ2V0QXR0cmlidXRlKCJyZWwiKT09PXR9ZnVuY3Rpb24gcihlLHQpe3ZhciBuPWU7biBpbnN0YW5jZW9mIERvY3VtZW50fHwobj1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoYSkpLG4uX1VSTD10O3ZhciByPW4uY3JlYXRlRWxlbWVudCgiYmFzZSIpO3Iuc2V0QXR0cmlidXRlKCJocmVmIix0KSxuLmJhc2VVUkl8fChuLmJhc2VVUkk9dCk7dmFyIG89bi5jcmVhdGVFbGVtZW50KCJtZXRhIik7cmV0dXJuIG8uc2V0QXR0cmlidXRlKCJjaGFyc2V0IiwidXRmLTgiKSxuLmhlYWQuYXBwZW5kQ2hpbGQobyksbi5oZWFkLmFwcGVuZENoaWxkKHIpLGUgaW5zdGFuY2VvZiBEb2N1bWVudHx8KG4uYm9keS5pbm5lckhUTUw9ZSksd2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQmJkhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwJiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcChuKSxufXZhciBvPWUudXNlTmF0aXZlLGk9ZS5mbGFncyxhPWUuSU1QT1JUX0xJTktfVFlQRTtpZihvKXZhciBzPXt9O2Vsc2V7dmFyIGM9ZS5yb290RG9jdW1lbnQsbD0oZS54aHIsZS5Mb2FkZXIpLHU9ZS5wYXJzZXIscz17ZG9jdW1lbnRzOnt9LGRvY3VtZW50UHJlbG9hZFNlbGVjdG9yczoibGlua1tyZWw9IithKyJdIixpbXBvcnRzUHJlbG9hZFNlbGVjdG9yczpbImxpbmtbcmVsPSIrYSsiXSJdLmpvaW4oIiwiKSxsb2FkTm9kZTpmdW5jdGlvbihlKXtkLmFkZE5vZGUoZSl9LGxvYWRTdWJ0cmVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubWFyc2hhbE5vZGVzKGUpO2QuYWRkTm9kZXModCl9LG1hcnNoYWxOb2RlczpmdW5jdGlvbihlKXtyZXR1cm4gZS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMubG9hZFNlbGVjdG9yc0Zvck5vZGUoZSkpfSxsb2FkU2VsZWN0b3JzRm9yTm9kZTpmdW5jdGlvbihlKXt2YXIgdD1lLm93bmVyRG9jdW1lbnR8fGU7cmV0dXJuIHQ9PT1jP3RoaXMuZG9jdW1lbnRQcmVsb2FkU2VsZWN0b3JzOnRoaXMuaW1wb3J0c1ByZWxvYWRTZWxlY3RvcnN9LGxvYWRlZDpmdW5jdGlvbihlLG4sbyxhLHMpe2lmKGkubG9hZCYmY29uc29sZS5sb2coImxvYWRlZCIsZSxuKSxuLl9fcmVzb3VyY2U9byxuLl9fZXJyb3I9YSx0KG4pKXt2YXIgYz10aGlzLmRvY3VtZW50c1tlXTt2b2lkIDA9PT1jJiYoYz1hP251bGw6cihvLHN8fGUpLGMmJihjLl9faW1wb3J0TGluaz1uLHRoaXMuYm9vdERvY3VtZW50KGMpKSx0aGlzLmRvY3VtZW50c1tlXT1jKSxuLmltcG9ydD1jfXUucGFyc2VOZXh0KCl9LGJvb3REb2N1bWVudDpmdW5jdGlvbihlKXt0aGlzLmxvYWRTdWJ0cmVlKGUpLHRoaXMub2JzZXJ2ZShlKSx1LnBhcnNlTmV4dCgpfSxsb2FkZWRBbGw6ZnVuY3Rpb24oKXt1LnBhcnNlTmV4dCgpfX0sZD1uZXcgbChzLmxvYWRlZC5iaW5kKHMpLHMubG9hZGVkQWxsLmJpbmQocykpO2lmKCFkb2N1bWVudC5iYXNlVVJJKXt2YXIgcD17Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiYmFzZSIpO3JldHVybiBlP2UuaHJlZjp3aW5kb3cubG9jYXRpb24uaHJlZn0sY29uZmlndXJhYmxlOiEwfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsImJhc2VVUkkiLHApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjLCJiYXNlVVJJIixwKX0iZnVuY3Rpb24iIT10eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50JiYod2luZG93LkN1c3RvbUV2ZW50PWZ1bmN0aW9uKGUsdCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkhUTUxFdmVudHMiKTtyZXR1cm4gbi5pbml0RXZlbnQoZSx0LmJ1YmJsZXM9PT0hMT8hMTohMCx0LmNhbmNlbGFibGU9PT0hMT8hMTohMCx0LmRldGFpbCksbn0pfWUuaW1wb3J0ZXI9cyxlLklNUE9SVF9MSU5LX1RZUEU9YSxlLmltcG9ydExvYWRlcj1kfSh3aW5kb3cuSFRNTEltcG9ydHMpLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7Zm9yKHZhciB0LHI9MCxvPWUubGVuZ3RoO28+ciYmKHQ9ZVtyXSk7cisrKSJjaGlsZExpc3QiPT09dC50eXBlJiZ0LmFkZGVkTm9kZXMubGVuZ3RoJiZuKHQuYWRkZWROb2Rlcyl9ZnVuY3Rpb24gbihlKXtmb3IodmFyIHQsaSxjLGwsdT0wLGQ9ZS5sZW5ndGg7ZD51JiYoYz1lW3VdKTt1KyspdHx8KHQ9Yy5vd25lckRvY3VtZW50LGk9cy5pc1BhcnNlZCh0KSksbD1yKGMpLGwmJmEubG9hZE5vZGUoYyksbyhjKSYmaSYmcy5wYXJzZUR5bmFtaWMoYyxsKSxjLmNoaWxkcmVuJiZjLmNoaWxkcmVuLmxlbmd0aCYmbihjLmNoaWxkcmVuKX1mdW5jdGlvbiByKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZSYmYy5jYWxsKGUsYS5sb2FkU2VsZWN0b3JzRm9yTm9kZShlKSl9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gMT09PWUubm9kZVR5cGUmJmMuY2FsbChlLHMucGFyc2VTZWxlY3RvcnNGb3JOb2RlKGUpKX1mdW5jdGlvbiBpKGUpe2wub2JzZXJ2ZShlLHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pfXZhciBhPShlLklNUE9SVF9MSU5LX1RZUEUsZS5pbXBvcnRlcikscz1lLnBhcnNlcixjPUhUTUxFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzfHxIVE1MRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlc1NlbGVjdG9yfHxIVE1MRWxlbWVudC5wcm90b3R5cGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxIVE1MRWxlbWVudC5wcm90b3R5cGUubW96TWF0Y2hlc1NlbGVjdG9yfHxIVE1MRWxlbWVudC5wcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3IsbD1uZXcgTXV0YXRpb25PYnNlcnZlcih0KTtlLm9ic2VydmU9aSxhLm9ic2VydmU9aX0oSFRNTEltcG9ydHMpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe0hUTUxJbXBvcnRzLmltcG9ydGVyLmJvb3REb2N1bWVudCh0KX12YXIgdD13aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChkb2N1bWVudCk6ZG9jdW1lbnQ7SFRNTEltcG9ydHMudXNlTmF0aXZlfHwoImNvbXBsZXRlIj09PWRvY3VtZW50LnJlYWR5U3RhdGV8fCJpbnRlcmFjdGl2ZSI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiYhd2luZG93LmF0dGFjaEV2ZW50P2UoKTpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixlKSl9KCksd2luZG93LkN1c3RvbUVsZW1lbnRzPXdpbmRvdy5DdXN0b21FbGVtZW50c3x8e2ZsYWdzOnt9fSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsbixyKXt2YXIgbz1lLmZpcnN0RWxlbWVudENoaWxkO2lmKCFvKWZvcihvPWUuZmlyc3RDaGlsZDtvJiZvLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KW89by5uZXh0U2libGluZztmb3IoO287KW4obyxyKSE9PSEwJiZ0KG8sbixyKSxvPW8ubmV4dEVsZW1lbnRTaWJsaW5nO3JldHVybiBudWxsfWZ1bmN0aW9uIG4oZSx0KXtmb3IodmFyIG49ZS5zaGFkb3dSb290O247KXIobix0KSxuPW4ub2xkZXJTaGFkb3dSb290fWZ1bmN0aW9uIHIoZSxyKXt0KGUsZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSk/ITA6dm9pZCBuKGUscil9KSxuKGUscil9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gcyhlKT8oYyhlKSwhMCk6dm9pZCBkKGUpfWZ1bmN0aW9uIGkoZSl7cihlLGZ1bmN0aW9uKGUpe3JldHVybiBvKGUpPyEwOnZvaWQgMH0pfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIG8oZSl8fGkoZSl9ZnVuY3Rpb24gcyh0KXtpZighdC5fX3VwZ3JhZGVkX18mJnQubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl7dmFyIG49dC5nZXRBdHRyaWJ1dGUoImlzIil8fHQubG9jYWxOYW1lLHI9ZS5yZWdpc3RyeVtuXTtpZihyKXJldHVybiBDLmRvbSYmY29uc29sZS5ncm91cCgidXBncmFkZToiLHQubG9jYWxOYW1lKSxlLnVwZ3JhZGUodCksQy5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSwhMH19ZnVuY3Rpb24gYyhlKXtkKGUpLHcoZSkmJnIoZSxmdW5jdGlvbihlKXtkKGUpfSl9ZnVuY3Rpb24gbChlKXtpZih4LnB1c2goZSksIUQpe0Q9ITA7dmFyIHQ9d2luZG93LlBsYXRmb3JtJiZ3aW5kb3cuUGxhdGZvcm0uZW5kT2ZNaWNyb3Rhc2t8fHNldFRpbWVvdXQ7dCh1KX19ZnVuY3Rpb24gdSgpe0Q9ITE7Zm9yKHZhciBlLHQ9eCxuPTAscj10Lmxlbmd0aDtyPm4mJihlPXRbbl0pO24rKyllKCk7eD1bXX1mdW5jdGlvbiBkKGUpe04/bChmdW5jdGlvbigpe3AoZSl9KTpwKGUpfWZ1bmN0aW9uIHAoZSl7KGUuYXR0YWNoZWRDYWxsYmFja3x8ZS5kZXRhY2hlZENhbGxiYWNrfHxlLl9fdXBncmFkZWRfXyYmQy5kb20pJiYoQy5kb20mJmNvbnNvbGUuZ3JvdXAoImluc2VydGVkOiIsZS5sb2NhbE5hbWUpLHcoZSkmJihlLl9faW5zZXJ0ZWQ9KGUuX19pbnNlcnRlZHx8MCkrMSxlLl9faW5zZXJ0ZWQ8MSYmKGUuX19pbnNlcnRlZD0xKSxlLl9faW5zZXJ0ZWQ+MT9DLmRvbSYmY29uc29sZS53YXJuKCJpbnNlcnRlZDoiLGUubG9jYWxOYW1lLCJpbnNlcnQvcmVtb3ZlIGNvdW50OiIsZS5fX2luc2VydGVkKTplLmF0dGFjaGVkQ2FsbGJhY2smJihDLmRvbSYmY29uc29sZS5sb2coImluc2VydGVkOiIsZS5sb2NhbE5hbWUpLGUuYXR0YWNoZWRDYWxsYmFjaygpKSksQy5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSl9ZnVuY3Rpb24gaChlKXtmKGUpLHIoZSxmdW5jdGlvbihlKXtmKGUpfSl9ZnVuY3Rpb24gZihlKXtOP2woZnVuY3Rpb24oKXttKGUpfSk6bShlKX1mdW5jdGlvbiBtKGUpeyhlLmF0dGFjaGVkQ2FsbGJhY2t8fGUuZGV0YWNoZWRDYWxsYmFja3x8ZS5fX3VwZ3JhZGVkX18mJkMuZG9tKSYmKEMuZG9tJiZjb25zb2xlLmdyb3VwKCJyZW1vdmVkOiIsZS5sb2NhbE5hbWUpLHcoZSl8fChlLl9faW5zZXJ0ZWQ9KGUuX19pbnNlcnRlZHx8MCktMSxlLl9faW5zZXJ0ZWQ+MCYmKGUuX19pbnNlcnRlZD0wKSxlLl9faW5zZXJ0ZWQ8MD9DLmRvbSYmY29uc29sZS53YXJuKCJyZW1vdmVkOiIsZS5sb2NhbE5hbWUsImluc2VydC9yZW1vdmUgY291bnQ6IixlLl9faW5zZXJ0ZWQpOmUuZGV0YWNoZWRDYWxsYmFjayYmZS5kZXRhY2hlZENhbGxiYWNrKCkpLEMuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCkpfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD9TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoZSk6ZX1mdW5jdGlvbiB3KGUpe2Zvcih2YXIgdD1lLG49dihkb2N1bWVudCk7dDspe2lmKHQ9PW4pcmV0dXJuITA7dD10LnBhcmVudE5vZGV8fHQuaG9zdH19ZnVuY3Rpb24gZyhlKXtpZihlLnNoYWRvd1Jvb3QmJiFlLnNoYWRvd1Jvb3QuX193YXRjaGVkKXtDLmRvbSYmY29uc29sZS5sb2coIndhdGNoaW5nIHNoYWRvdy1yb290IGZvcjogIixlLmxvY2FsTmFtZSk7Zm9yKHZhciB0PWUuc2hhZG93Um9vdDt0OyliKHQpLHQ9dC5vbGRlclNoYWRvd1Jvb3R9fWZ1bmN0aW9uIGIoZSl7RShlKX1mdW5jdGlvbiB5KGUpe2lmKEMuZG9tKXt2YXIgdD1lWzBdO2lmKHQmJiJjaGlsZExpc3QiPT09dC50eXBlJiZ0LmFkZGVkTm9kZXMmJnQuYWRkZWROb2Rlcyl7Zm9yKHZhciBuPXQuYWRkZWROb2Rlc1swXTtuJiZuIT09ZG9jdW1lbnQmJiFuLmhvc3Q7KW49bi5wYXJlbnROb2RlO3ZhciByPW4mJihuLlVSTHx8bi5fVVJMfHxuLmhvc3QmJm4uaG9zdC5sb2NhbE5hbWUpfHwiIjtyPXIuc3BsaXQoIi8/Iikuc2hpZnQoKS5zcGxpdCgiLyIpLnBvcCgpfWNvbnNvbGUuZ3JvdXAoIm11dGF0aW9ucyAoJWQpIFslc10iLGUubGVuZ3RoLHJ8fCIiKX1lLmZvckVhY2goZnVuY3Rpb24oZSl7ImNoaWxkTGlzdCI9PT1lLnR5cGUmJihIKGUuYWRkZWROb2RlcyxmdW5jdGlvbihlKXtlLmxvY2FsTmFtZSYmYShlKX0pLEgoZS5yZW1vdmVkTm9kZXMsZnVuY3Rpb24oZSl7ZS5sb2NhbE5hbWUmJmgoZSl9KSl9KSxDLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIF8oZSl7Zm9yKGV8fChlPXYoZG9jdW1lbnQpKTtlLnBhcmVudE5vZGU7KWU9ZS5wYXJlbnROb2RlO3ZhciB0PWUuX19vYnNlcnZlcjt0JiYoeSh0LnRha2VSZWNvcmRzKCkpLHUoKSl9ZnVuY3Rpb24gRShlKXtpZighZS5fX29ic2VydmVyKXt2YXIgdD1uZXcgTXV0YXRpb25PYnNlcnZlcih5KTt0Lm9ic2VydmUoZSx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KSxlLl9fb2JzZXJ2ZXI9dH19ZnVuY3Rpb24gUyhlKXtFKGUpfWZ1bmN0aW9uIE8oZSl7Qy5kb20mJmNvbnNvbGUuZ3JvdXAoInVwZ3JhZGVEb2N1bWVudDogIixlLmJhc2VVUkkuc3BsaXQoIi8iKS5wb3AoKSksYShlKSxDLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIFQoZSl7aj1bXSxNKGUpLGo9bnVsbH1mdW5jdGlvbiBNKGUpe2lmKGU9dihlKSwhKGouaW5kZXhPZihlKT49MCkpe2oucHVzaChlKTtmb3IodmFyIHQsbj1lLnF1ZXJ5U2VsZWN0b3JBbGwoImxpbmtbcmVsPSIrTCsiXSIpLHI9MCxvPW4ubGVuZ3RoO28+ciYmKHQ9bltyXSk7cisrKXQuaW1wb3J0JiZ0LmltcG9ydC5fX3BhcnNlZCYmTSh0LmltcG9ydCk7TyhlKX19dmFyIEM9d2luZG93LmxvZ0ZsYWdzfHx7fSxMPXdpbmRvdy5IVE1MSW1wb3J0cz9IVE1MSW1wb3J0cy5JTVBPUlRfTElOS19UWVBFOiJub25lIixOPSF3aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXI9PT13aW5kb3cuSnNNdXRhdGlvbk9ic2VydmVyO2UuaGFzUG9seWZpbGxNdXRhdGlvbnM9Tjt2YXIgaixEPSExLHg9W10sSD1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpO2UuSU1QT1JUX0xJTktfVFlQRT1MLGUud2F0Y2hTaGFkb3c9ZyxlLnVwZ3JhZGVEb2N1bWVudFRyZWU9VCxlLnVwZ3JhZGVBbGw9YSxlLnVwZ3JhZGVTdWJ0cmVlPWksZS5pbnNlcnRlZE5vZGU9YyxlLm9ic2VydmVEb2N1bWVudD1TLGUudXBncmFkZURvY3VtZW50PU8sZS50YWtlUmVjb3Jkcz1ffSh3aW5kb3cuQ3VzdG9tRWxlbWVudHMpLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxhKXt2YXIgcz1hfHx7fTtpZighdCl0aHJvdyBuZXcgRXJyb3IoImRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudDogZmlyc3QgYXJndW1lbnQgYG5hbWVgIG11c3Qgbm90IGJlIGVtcHR5Iik7aWYodC5pbmRleE9mKCItIik8MCl0aHJvdyBuZXcgRXJyb3IoImRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudDogZmlyc3QgYXJndW1lbnQgKCduYW1lJykgbXVzdCBjb250YWluIGEgZGFzaCAoJy0nKS4gQXJndW1lbnQgcHJvdmlkZWQgd2FzICciK1N0cmluZyh0KSsiJy4iKTtpZihuKHQpKXRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIGV4ZWN1dGUgJ3JlZ2lzdGVyRWxlbWVudCcgb24gJ0RvY3VtZW50JzogUmVnaXN0cmF0aW9uIGZhaWxlZCBmb3IgdHlwZSAnIitTdHJpbmcodCkrIicuIFRoZSB0eXBlIG5hbWUgaXMgaW52YWxpZC4iKTtpZihoKHQpKXRocm93IG5ldyBFcnJvcigiRHVwbGljYXRlRGVmaW5pdGlvbkVycm9yOiBhIHR5cGUgd2l0aCBuYW1lICciK1N0cmluZyh0KSsiJyBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQiKTtpZighcy5wcm90b3R5cGUpdGhyb3cgbmV3IEVycm9yKCJPcHRpb25zIG1pc3NpbmcgcmVxdWlyZWQgcHJvdG90eXBlIHByb3BlcnR5Iik7cmV0dXJuIHMuX19uYW1lPXQudG9Mb3dlckNhc2UoKSxzLmxpZmVjeWNsZT1zLmxpZmVjeWNsZXx8e30scy5hbmNlc3RyeT1yKHMuZXh0ZW5kcyksbyhzKSxpKHMpLGQocy5wcm90b3R5cGUpLGYocy5fX25hbWUscykscy5jdG9yPW0ocykscy5jdG9yLnByb3RvdHlwZT1zLnByb3RvdHlwZSxzLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1zLmN0b3IsZS5yZWFkeSYmZS51cGdyYWRlRG9jdW1lbnRUcmVlKGRvY3VtZW50KSxzLmN0b3J9ZnVuY3Rpb24gbihlKXtmb3IodmFyIHQ9MDt0PE8ubGVuZ3RoO3QrKylpZihlPT09T1t0XSlyZXR1cm4hMH1mdW5jdGlvbiByKGUpe3ZhciB0PWgoZSk7cmV0dXJuIHQ/cih0LmV4dGVuZHMpLmNvbmNhdChbdF0pOltdfWZ1bmN0aW9uIG8oZSl7Zm9yKHZhciB0LG49ZS5leHRlbmRzLHI9MDt0PWUuYW5jZXN0cnlbcl07cisrKW49dC5pcyYmdC50YWc7ZS50YWc9bnx8ZS5fX25hbWUsbiYmKGUuaXM9ZS5fX25hbWUpfWZ1bmN0aW9uIGkoZSl7aWYoIU9iamVjdC5fX3Byb3RvX18pe3ZhciB0PUhUTUxFbGVtZW50LnByb3RvdHlwZTtpZihlLmlzKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGUudGFnKSxyPU9iamVjdC5nZXRQcm90b3R5cGVPZihuKTtyPT09ZS5wcm90b3R5cGUmJih0PXIpfWZvcih2YXIgbyxpPWUucHJvdG90eXBlO2kmJmkhPT10OylvPU9iamVjdC5nZXRQcm90b3R5cGVPZihpKSxpLl9fcHJvdG9fXz1vLGk9bztlLm5hdGl2ZT10fX1mdW5jdGlvbiBhKGUpe3JldHVybiBzKEMoZS50YWcpLGUpfWZ1bmN0aW9uIHModCxuKXtyZXR1cm4gbi5pcyYmdC5zZXRBdHRyaWJ1dGUoImlzIixuLmlzKSxjKHQsbiksdC5fX3VwZ3JhZGVkX189ITAsdSh0KSxlLmluc2VydGVkTm9kZSh0KSxlLnVwZ3JhZGVTdWJ0cmVlKHQpLHR9ZnVuY3Rpb24gYyhlLHQpe09iamVjdC5fX3Byb3RvX18/ZS5fX3Byb3RvX189dC5wcm90b3R5cGU6KGwoZSx0LnByb3RvdHlwZSx0Lm5hdGl2ZSksZS5fX3Byb3RvX189dC5wcm90b3R5cGUpfWZ1bmN0aW9uIGwoZSx0LG4pe2Zvcih2YXIgcj17fSxvPXQ7byE9PW4mJm8hPT1IVE1MRWxlbWVudC5wcm90b3R5cGU7KXtmb3IodmFyIGksYT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvKSxzPTA7aT1hW3NdO3MrKylyW2ldfHwoT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8saSkpLHJbaV09MSk7bz1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobyl9fWZ1bmN0aW9uIHUoZSl7ZS5jcmVhdGVkQ2FsbGJhY2smJmUuY3JlYXRlZENhbGxiYWNrKCl9ZnVuY3Rpb24gZChlKXtpZighZS5zZXRBdHRyaWJ1dGUuX3BvbHlmaWxsZWQpe3ZhciB0PWUuc2V0QXR0cmlidXRlO2Uuc2V0QXR0cmlidXRlPWZ1bmN0aW9uKGUsbil7cC5jYWxsKHRoaXMsZSxuLHQpfTt2YXIgbj1lLnJlbW92ZUF0dHJpYnV0ZTtlLnJlbW92ZUF0dHJpYnV0ZT1mdW5jdGlvbihlKXtwLmNhbGwodGhpcyxlLG51bGwsbil9LGUuc2V0QXR0cmlidXRlLl9wb2x5ZmlsbGVkPSEwfX1mdW5jdGlvbiBwKGUsdCxuKXtlPWUudG9Mb3dlckNhc2UoKTt2YXIgcj10aGlzLmdldEF0dHJpYnV0ZShlKTtuLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgbz10aGlzLmdldEF0dHJpYnV0ZShlKTt0aGlzLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayYmbyE9PXImJnRoaXMuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGUscixvKX1mdW5jdGlvbiBoKGUpe3JldHVybiBlP1RbZS50b0xvd2VyQ2FzZSgpXTp2b2lkIDB9ZnVuY3Rpb24gZihlLHQpe1RbZV09dH1mdW5jdGlvbiBtKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhKGUpfX1mdW5jdGlvbiB2KGUsdCxuKXtyZXR1cm4gZT09PU0/dyh0LG4pOkwoZSx0KX1mdW5jdGlvbiB3KGUsdCl7dmFyIG49aCh0fHxlKTtpZihuKXtpZihlPT1uLnRhZyYmdD09bi5pcylyZXR1cm4gbmV3IG4uY3RvcjtpZighdCYmIW4uaXMpcmV0dXJuIG5ldyBuLmN0b3J9aWYodCl7dmFyIHI9dyhlKTtyZXR1cm4gci5zZXRBdHRyaWJ1dGUoImlzIix0KSxyfXZhciByPUMoZSk7cmV0dXJuIGUuaW5kZXhPZigiLSIpPj0wJiZjKHIsSFRNTEVsZW1lbnQpLHJ9ZnVuY3Rpb24gZyhlKXtpZighZS5fX3VwZ3JhZGVkX18mJmUubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl7dmFyIHQ9ZS5nZXRBdHRyaWJ1dGUoImlzIiksbj1oKHR8fGUubG9jYWxOYW1lKTtpZihuKXtpZih0JiZuLnRhZz09ZS5sb2NhbE5hbWUpcmV0dXJuIHMoZSxuKTtpZighdCYmIW4uZXh0ZW5kcylyZXR1cm4gcyhlLG4pfX19ZnVuY3Rpb24gYih0KXt2YXIgbj1OLmNhbGwodGhpcyx0KTtyZXR1cm4gZS51cGdyYWRlQWxsKG4pLG59ZXx8KGU9d2luZG93LkN1c3RvbUVsZW1lbnRzPXtmbGFnczp7fX0pO3ZhciB5PWUuZmxhZ3MsXz1Cb29sZWFuKGRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCksRT0heS5yZWdpc3RlciYmXyYmIXdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCYmKCF3aW5kb3cuSFRNTEltcG9ydHN8fEhUTUxJbXBvcnRzLnVzZU5hdGl2ZSk7aWYoRSl7dmFyIFM9ZnVuY3Rpb24oKXt9O2UucmVnaXN0cnk9e30sZS51cGdyYWRlRWxlbWVudD1TLGUud2F0Y2hTaGFkb3c9UyxlLnVwZ3JhZGU9UyxlLnVwZ3JhZGVBbGw9UyxlLnVwZ3JhZGVTdWJ0cmVlPVMsZS5vYnNlcnZlRG9jdW1lbnQ9UyxlLnVwZ3JhZGVEb2N1bWVudD1TLGUudXBncmFkZURvY3VtZW50VHJlZT1TLGUudGFrZVJlY29yZHM9UyxlLnJlc2VydmVkVGFnTGlzdD1bXX1lbHNle3ZhciBPPVsiYW5ub3RhdGlvbi14bWwiLCJjb2xvci1wcm9maWxlIiwiZm9udC1mYWNlIiwiZm9udC1mYWNlLXNyYyIsImZvbnQtZmFjZS11cmkiLCJmb250LWZhY2UtZm9ybWF0IiwiZm9udC1mYWNlLW5hbWUiLCJtaXNzaW5nLWdseXBoIl0sVD17fSxNPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIixDPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQuYmluZChkb2N1bWVudCksTD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMuYmluZChkb2N1bWVudCksTj1Ob2RlLnByb3RvdHlwZS5jbG9uZU5vZGU7ZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50PXQsZG9jdW1lbnQuY3JlYXRlRWxlbWVudD13LGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUz12LE5vZGUucHJvdG90eXBlLmNsb25lTm9kZT1iLGUucmVnaXN0cnk9VCxlLnVwZ3JhZGU9Z312YXIgajtqPU9iamVjdC5fX3Byb3RvX198fEU/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSBpbnN0YW5jZW9mIHR9OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWU7bjspe2lmKG49PT10LnByb3RvdHlwZSlyZXR1cm4hMDtuPW4uX19wcm90b19ffXJldHVybiExfSxlLmluc3RhbmNlb2Y9aixlLnJlc2VydmVkVGFnTGlzdD1PLGRvY3VtZW50LnJlZ2lzdGVyPWRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCxlLmhhc05hdGl2ZT1fLGUudXNlTmF0aXZlPUV9KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtyZXR1cm4ibGluayI9PT1lLmxvY2FsTmFtZSYmZS5nZXRBdHRyaWJ1dGUoInJlbCIpPT09bn12YXIgbj1lLklNUE9SVF9MSU5LX1RZUEUscj17c2VsZWN0b3JzOlsibGlua1tyZWw9IituKyJdIl0sbWFwOntsaW5rOiJwYXJzZUxpbmsifSxwYXJzZTpmdW5jdGlvbihlKXtpZighZS5fX3BhcnNlZCl7ZS5fX3BhcnNlZD0hMDt2YXIgdD1lLnF1ZXJ5U2VsZWN0b3JBbGwoci5zZWxlY3RvcnMpO28odCxmdW5jdGlvbihlKXtyW3IubWFwW2UubG9jYWxOYW1lXV0oZSl9KSxDdXN0b21FbGVtZW50cy51cGdyYWRlRG9jdW1lbnQoZSksQ3VzdG9tRWxlbWVudHMub2JzZXJ2ZURvY3VtZW50KGUpfX0scGFyc2VMaW5rOmZ1bmN0aW9uKGUpe3QoZSkmJnRoaXMucGFyc2VJbXBvcnQoZSl9LHBhcnNlSW1wb3J0OmZ1bmN0aW9uKGUpe2UuaW1wb3J0JiZyLnBhcnNlKGUuaW1wb3J0KX19LG89QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKTtlLnBhcnNlcj1yLGUuSU1QT1JUX0xJTktfVFlQRT1ufSh3aW5kb3cuQ3VzdG9tRWxlbWVudHMpLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtDdXN0b21FbGVtZW50cy5wYXJzZXIucGFyc2UoZG9jdW1lbnQpLEN1c3RvbUVsZW1lbnRzLnVwZ3JhZGVEb2N1bWVudChkb2N1bWVudCksd2luZG93LkhUTUxJbXBvcnRzJiYoSFRNTEltcG9ydHMuX19pbXBvcnRzUGFyc2luZ0hvb2s9ZnVuY3Rpb24oZSl7Q3VzdG9tRWxlbWVudHMucGFyc2VyLnBhcnNlKGUuaW1wb3J0KX0pLEN1c3RvbUVsZW1lbnRzLnJlYWR5PSEwLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtDdXN0b21FbGVtZW50cy5yZWFkeVRpbWU9RGF0ZS5ub3coKSx3aW5kb3cuSFRNTEltcG9ydHMmJihDdXN0b21FbGVtZW50cy5lbGFwc2VkPUN1c3RvbUVsZW1lbnRzLnJlYWR5VGltZS1IVE1MSW1wb3J0cy5yZWFkeVRpbWUpLGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJXZWJDb21wb25lbnRzUmVhZHkiLHtidWJibGVzOiEwfSkpfSl9aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHdpbmRvdy5DdXN0b21FdmVudCYmKHdpbmRvdy5DdXN0b21FdmVudD1mdW5jdGlvbihlLHQpe3Q9dHx8e307dmFyIG49ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkN1c3RvbUV2ZW50Iik7cmV0dXJuIG4uaW5pdEN1c3RvbUV2ZW50KGUsQm9vbGVhbih0LmJ1YmJsZXMpLEJvb2xlYW4odC5jYW5jZWxhYmxlKSx0LmRldGFpbCksbn0sd2luZG93LkN1c3RvbUV2ZW50LnByb3RvdHlwZT13aW5kb3cuRXZlbnQucHJvdG90eXBlKSwiY29tcGxldGUiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZXx8ZS5mbGFncy5lYWdlcil0KCk7ZWxzZSBpZigiaW50ZXJhY3RpdmUiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZXx8d2luZG93LmF0dGFjaEV2ZW50fHx3aW5kb3cuSFRNTEltcG9ydHMmJiF3aW5kb3cuSFRNTEltcG9ydHMucmVhZHkpe3ZhciBuPXdpbmRvdy5IVE1MSW1wb3J0cyYmIUhUTUxJbXBvcnRzLnJlYWR5PyJIVE1MSW1wb3J0c0xvYWRlZCI6IkRPTUNvbnRlbnRMb2FkZWQiO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKG4sdCl9ZWxzZSB0KCl9KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oKXtpZih3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpe3ZhciBlPVsidXBncmFkZUFsbCIsInVwZ3JhZGVTdWJ0cmVlIiwib2JzZXJ2ZURvY3VtZW50IiwidXBncmFkZURvY3VtZW50Il0sdD17fTtlLmZvckVhY2goZnVuY3Rpb24oZSl7dFtlXT1DdXN0b21FbGVtZW50c1tlXX0pLGUuZm9yRWFjaChmdW5jdGlvbihlKXtDdXN0b21FbGVtZW50c1tlXT1mdW5jdGlvbihuKXtyZXR1cm4gdFtlXSh3cmFwKG4pKX19KX19KCksZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoKXt3aW5kb3cuUG9seW1lcj09PW8mJih3aW5kb3cuUG9seW1lcj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcignWW91IHRyaWVkIHRvIHVzZSBwb2x5bWVyIHdpdGhvdXQgbG9hZGluZyBpdCBmaXJzdC4gVG8gbG9hZCBwb2x5bWVyLCA8bGluayByZWw9ImltcG9ydCIgaHJlZj0iY29tcG9uZW50cy9wb2x5bWVyL3BvbHltZXIuaHRtbCI+Jyl9KX1pZighd2luZG93LnBlcmZvcm1hbmNlKXt2YXIgbj1EYXRlLm5vdygpO3dpbmRvdy5wZXJmb3JtYW5jZT17bm93OmZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCktbgp9fX13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHwod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT1mdW5jdGlvbigpe3ZhciBlPXdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7cmV0dXJuIGU/ZnVuY3Rpb24odCl7cmV0dXJuIGUoZnVuY3Rpb24oKXt0KHBlcmZvcm1hbmNlLm5vdygpKX0pfTpmdW5jdGlvbihlKXtyZXR1cm4gd2luZG93LnNldFRpbWVvdXQoZSwxZTMvNjApfX0oKSksd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lfHwod2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihlKXtjbGVhclRpbWVvdXQoZSl9fSgpKTt2YXIgcj1bXSxvPWZ1bmN0aW9uKGUpeyJzdHJpbmciIT10eXBlb2YgZSYmMT09PWFyZ3VtZW50cy5sZW5ndGgmJkFycmF5LnByb3RvdHlwZS5wdXNoLmNhbGwoYXJndW1lbnRzLGRvY3VtZW50Ll9jdXJyZW50U2NyaXB0KSxyLnB1c2goYXJndW1lbnRzKX07d2luZG93LlBvbHltZXI9byxlLmNvbnN1bWVEZWNsYXJhdGlvbnM9ZnVuY3Rpb24odCl7ZS5jb25zdW1lRGVjbGFyYXRpb25zPWZ1bmN0aW9uKCl7dGhyb3ciUG9zc2libGUgYXR0ZW1wdCB0byBsb2FkIFBvbHltZXIgdHdpY2UifSx0JiZ0KHIpLHI9bnVsbH0sSFRNTEltcG9ydHMudXNlTmF0aXZlP3QoKTphZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIix0KX0od2luZG93LlBsYXRmb3JtKSxmdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7ZS50ZXh0Q29udGVudD0iYm9keSB7dHJhbnNpdGlvbjogb3BhY2l0eSBlYXNlLWluIDAuMnM7IH0gXG5ib2R5W3VucmVzb2x2ZWRdIHtvcGFjaXR5OiAwOyBkaXNwbGF5OiBibG9jazsgb3ZlcmZsb3c6IGhpZGRlbjsgcG9zaXRpb246IHJlbGF0aXZlOyB9IFxuIjt2YXIgdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJoZWFkIik7dC5pbnNlcnRCZWZvcmUoZSx0LmZpcnN0Q2hpbGQpfShQbGF0Zm9ybSksZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQpe3JldHVybiB0PXR8fFtdLHQubWFwfHwodD1bdF0pLGUuYXBwbHkodGhpcyx0Lm1hcChyKSl9ZnVuY3Rpb24gbihlLG4scil7dmFyIG87c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm47Y2FzZSAxOm89bnVsbDticmVhaztjYXNlIDI6bz1uLmFwcGx5KHRoaXMpO2JyZWFrO2RlZmF1bHQ6bz10KHIsbil9aVtlXT1vfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIGlbZV19ZnVuY3Rpb24gbyhlLG4pe0hUTUxJbXBvcnRzLndoZW5JbXBvcnRzUmVhZHkoZnVuY3Rpb24oKXt0KG4sZSl9KX12YXIgaT17fTtlLm1hcnNoYWw9cixlLm1vZHVsYXJpemU9bixlLnVzaW5nPW99KHdpbmRvdyk7Cn0se31dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewp2YXIgTGlzdGVuZXIsYWRkQXR0cmlidXRlc0FzUHJvcGVydGllcyxrbm9iLHN2Z25zLF9yZWYsX19oYXNQcm9wPXt9Lmhhc093blByb3BlcnR5LF9fZXh0ZW5kcz1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciBpIGluIGUpX19oYXNQcm9wLmNhbGwoZSxpKSYmKHRbaV09ZVtpXSk7cmV0dXJuIG4ucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQuX19zdXBlcl9fPWUucHJvdG90eXBlLHR9O3JlcXVpcmUoIi4vYm93ZXJfY29tcG9uZW50cy93ZWJjb21wb25lbnRzanMvd2ViY29tcG9uZW50cy5qcyIpLHJlcXVpcmUoIi4vYm93ZXJfY29tcG9uZW50cy9wb2ludGVyZXZlbnRzLXBvbHlmaWxsL3BvaW50ZXJldmVudHMubWluLmpzIiksc3ZnbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIixrbm9iPXt9LExpc3RlbmVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZSxuLGkscztmb3IodGhpcy5wcm94eT10LnByb3h5LHRoaXMuZXZlbnRzPXQuZXZlbnRzLHRoaXMubm9kZT10Lm5vZGUsbnVsbD09dGhpcy5ldmVudHMmJih0aGlzLmV2ZW50cz1PYmplY3Qua2V5cyh0aGlzLnByb3h5KSkscz10aGlzLmV2ZW50cyxuPTAsaT1zLmxlbmd0aDtpPm47bisrKWU9c1tuXSx0aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lcihlLHRoaXMpfXJldHVybiB0LnByb3RvdHlwZS5oYW5kbGVFdmVudD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wcm94eVt0LnR5cGVdKHQpfSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt2YXIgdCxlLG4saSxzO2ZvcihpPXRoaXMuZXZlbnRzLHM9W10sZT0wLG49aS5sZW5ndGg7bj5lO2UrKyl0PWlbZV0scy5wdXNoKHRoaXMubm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsdGhpcykpO3JldHVybiBzfSx0fSgpLGFkZEF0dHJpYnV0ZXNBc1Byb3BlcnRpZXM9ZnVuY3Rpb24odCxlKXt2YXIgbixpLHMscjtmb3Iocj1bXSxpPTAscz1lLmxlbmd0aDtzPmk7aSsrKW49ZVtpXSxyLnB1c2goZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0LmdldEF0dHJpYnV0ZShlKX0sc2V0OmZ1bmN0aW9uKG4pe3JldHVybiB0LnNldEF0dHJpYnV0ZShlLG4pfX0pfShuKSk7cmV0dXJuIHJ9LGtub2IuS25vYj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIF9yZWY9ZS5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBfX2V4dGVuZHMoZSx0KSxlLnByb3RvdHlwZS5jcmVhdGVkQ2FsbGJhY2s9ZnVuY3Rpb24oKXt2YXIgdCxlLG4saSxzLHIsbyxhLGgsdSxjLGw7Zm9yKHRoaXMuY29uc3RydWN0ZWQ9ITEsdGhpcy5zdmc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z25zLCJzdmciKSx0aGlzLnN2Zy5zZXRBdHRyaWJ1dGUoImhlaWdodCIsIjEwMCUiKSx0aGlzLnN2Zy5zZXRBdHRyaWJ1dGUoIndpZHRoIiwiMTAwJSIpLHRoaXMuc3ZnLnNldEF0dHJpYnV0ZSgidmlld0JveCIsIjAgMCAyIDIiKSx0aGlzLnN2Zy5zZXRBdHRyaWJ1dGUoInByZXNlcnZlQXNwZWN0UmF0aW8iLCJub25lIiksdGhpcy5zdmcuc2V0QXR0cmlidXRlKCJjbGFzcyIsImtub2Jqcy1rbm9iIikscz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnbnMsImRlZnMiKSx0aGlzLnN2Zy5hcHBlbmRDaGlsZChzKSxuPSgiIitNYXRoLnJhbmRvbSgpKS5zbGljZSgyKSxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmducywibWFzayIpLGUuc2V0QXR0cmlidXRlKCJpZCIsImNsaXAiK24pLGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z25zLCJyZWN0IiksaS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsIjEwMCUiKSxpLnNldEF0dHJpYnV0ZSgid2lkdGgiLCIxMDAlIiksaS5zZXRBdHRyaWJ1dGUoImZpbGwiLCJ3aGl0ZSIpLGUuYXBwZW5kQ2hpbGQoaSksdGhpcy5jbGlwUGF0aD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnbnMsInBhdGgiKSx0aGlzLmNsaXBQYXRoLnNldEF0dHJpYnV0ZSgiZmlsbCIsImJsYWNrIiksZS5hcHBlbmRDaGlsZCh0aGlzLmNsaXBQYXRoKSxzLmFwcGVuZENoaWxkKGUpLHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z25zLCJyZWN0IiksdC5zZXRBdHRyaWJ1dGUoIndpZHRoIiwiMiIpLHQuc2V0QXR0cmlidXRlKCJoZWlnaHQiLCIyIiksdC5zZXRBdHRyaWJ1dGUoImNsYXNzIiwia25vYmpzLWJnIiksdGhpcy5zdmcuYXBwZW5kQ2hpbGQodCksdGhpcy5hcmNCZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnbnMsInBhdGgiKSx0aGlzLmFyY0JnLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCJrbm9ianMtYXJjYmciKSx0aGlzLmFyY0JnLnNldEF0dHJpYnV0ZSgibWFzayIsInVybCgjY2xpcCIrbisiKSIpLHRoaXMuc3ZnLmFwcGVuZENoaWxkKHRoaXMuYXJjQmcpLHRoaXMuYXJjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmducywicGF0aCIpLHRoaXMuYXJjLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCJrbm9ianMtYXJjIiksdGhpcy5zdmcuYXBwZW5kQ2hpbGQodGhpcy5hcmMpLHRoaXMucG9pbnRlclN0YXRlPXt9LG5ldyBMaXN0ZW5lcih7cHJveHk6dGhpcyxldmVudHM6WyJwb2ludGVyZG93biJdLG5vZGU6dGhpc30pLHRoaXMuYXBwZW5kQ2hpbGQodGhpcy5zdmcpLHRoaXMuc2V0QXR0cmlidXRlKCJ0b3VjaC1hY3Rpb24iLCJub25lIiksYWRkQXR0cmlidXRlc0FzUHJvcGVydGllcyh0aGlzLFsidmFsdWUiLCJtaW4iLCJtYXgiLCJzdGFydC1hbmdsZSIsImFuZ2xlLXJhbmdlIiwiaW5uZXItcmFkaXVzIiwib3V0ZXItcmFkaXVzIiwidGhyb3ciXSksYz1bInN0YXJ0LWFuZ2xlIiwiYW5nbGUtcmFuZ2UiLCJpbm5lci1yYWRpdXMiLCJvdXRlci1yYWRpdXMiXSxvPTAsaD1jLmxlbmd0aDtoPm87bysrKXI9Y1tvXSx0aGlzWyIiK3IrIkNoYW5nZWQiXT10aGlzLnJlY2FsY0FyYztmb3IobD1bInZhbHVlIiwibWluIiwibWF4Il0sYT0wLHU9bC5sZW5ndGg7dT5hO2ErKylyPWxbYV0sdGhpc1siIityKyJDaGFuZ2VkIl09dGhpcy5yZWNhbGNWYWx1ZTtyZXR1cm4gbnVsbD09dGhpcy5taW4mJih0aGlzLm1pbj0wKSxudWxsPT10aGlzLm1heCYmKHRoaXMubWF4PTEwMCksbnVsbD09dGhpcy52YWx1ZSYmKHRoaXMudmFsdWU9NTApLG51bGw9PXRoaXNbInN0YXJ0LWFuZ2xlIl0mJih0aGlzWyJzdGFydC1hbmdsZSJdPTUvNCpNYXRoLlBJKSxudWxsPT10aGlzWyJhbmdsZS1yYW5nZSJdJiYodGhpc1siYW5nbGUtcmFuZ2UiXT0xLjUqTWF0aC5QSSksbnVsbD09dGhpc1siaW5uZXItcmFkaXVzIl0mJih0aGlzWyJpbm5lci1yYWRpdXMiXT0uNiksbnVsbD09dGhpc1sib3V0ZXItcmFkaXVzIl0mJih0aGlzWyJvdXRlci1yYWRpdXMiXT0uOSksbnVsbD09dGhpc1sidGhyb3ciXSYmKHRoaXNbInRocm93Il09MzAwKSx0aGlzLmNvbnN0cnVjdGVkPSEwLHRoaXMucmVjYWxjQXJjKCl9LGUucHJvdG90eXBlLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjaz1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4idmFsdWUiPT09dCYmK3RoaXMudmFsdWU+PSt0aGlzLm1pbiYmK3RoaXMudmFsdWU8PSt0aGlzLm1heCYmdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgiY2hhbmdlIikpLCJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzW2U9IiIrdCsiQ2hhbmdlZCJdP3RoaXNbZV0oKTp2b2lkIDB9LGUucHJvdG90eXBlLmdldElERm9yRXZlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBNb3VzZUV2ZW50PyJtb3VzZSI6InRvdWNoIn0sZS5wcm90b3R5cGUucG9pbnRlcmRvd249ZnVuY3Rpb24odCl7cmV0dXJuIHQuZGVmYXVsdFByZXZlbnRlZHx8bnVsbCE9dC5idXR0b24mJjAhPT10LmJ1dHRvbj92b2lkIDA6KHQucHJldmVudERlZmF1bHQoKSx0aGlzLnBvaW50ZXJTdGF0ZVt0aGlzLmdldElERm9yRXZlbnQodCldPXtsaXN0ZW5lcjpuZXcgTGlzdGVuZXIoe3Byb3h5OnRoaXMsZXZlbnRzOlsicG9pbnRlcm1vdmUiLCJwb2ludGVydXAiLCJwb2ludGVyY2FuY2VsIl0sbm9kZTpkb2N1bWVudH0pLGNsaWVudFg6dC5jbGllbnRYLGNsaWVudFk6dC5jbGllbnRZLHN0YXJ0VmFsOnRoaXMudmFsdWV9KX0sZS5wcm90b3R5cGUubWFrZUFyY1BhdGg9ZnVuY3Rpb24odCl7dmFyIGUsbixpLHMscixvLGEsaCx1LGMsbCxwLGQ7cmV0dXJuIGU9dGhpc1sic3RhcnQtYW5nbGUiXSxuPXRoaXNbInN0YXJ0LWFuZ2xlIl0tdCp0aGlzWyJhbmdsZS1yYW5nZSJdLGk9dGhpc1siaW5uZXItcmFkaXVzIl0sdT10aGlzWyJvdXRlci1yYWRpdXMiXSxjPTErdSpNYXRoLmNvcyhlKSxwPTEtdSpNYXRoLnNpbihlKSxzPTEraSpNYXRoLmNvcyhlKSxvPTEtaSpNYXRoLnNpbihlKSxoPWUtbj5NYXRoLlBJPzE6MCxsPTErdSpNYXRoLmNvcyhuKSxkPTEtdSpNYXRoLnNpbihuKSxyPTEraSpNYXRoLmNvcyhuKSxhPTEtaSpNYXRoLnNpbihuKSwiTSIrYysiLCIrcCsiIEEiK3UrIiwiK3UrIiAwICIraCsiLDEgIitsKyIsIitkKyIgTCIrcisiLCIrYSsiIEEiK2krIiwiK2krIiAwICIraCsiLDAgIitzKyIsIitvKyIgWiJ9LGUucHJvdG90eXBlLnJlY2FsY0FyYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdGVkPyh0aGlzLmFyY0JnLnNldEF0dHJpYnV0ZSgiZCIsdGhpcy5tYWtlQXJjUGF0aCgxKSksdGhpcy5jbGlwUGF0aC5zZXRBdHRyaWJ1dGUoImQiLHRoaXMubWFrZUFyY1BhdGgoMSkpLHRoaXMucmVjYWxjVmFsdWUoKSk6dm9pZCAwfSxlLnByb3RvdHlwZS5yZWNhbGNWYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdGVkPyh0aGlzLnZhbHVlPU1hdGgubWF4KHRoaXMubWluLE1hdGgubWluKHRoaXMubWF4LHRoaXMudmFsdWUpKSx0aGlzLmFyYy5zZXRBdHRyaWJ1dGUoImQiLHRoaXMubWFrZUFyY1BhdGgoKHRoaXMudmFsdWUtdGhpcy5taW4pLyh0aGlzLm1heC10aGlzLm1pbikpKSk6dm9pZCAwfSxlLnByb3RvdHlwZS5wb2ludGVybW92ZT1mdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiB0LnByZXZlbnREZWZhdWx0KCksbj10aGlzLnBvaW50ZXJTdGF0ZVt0aGlzLmdldElERm9yRXZlbnQodCldLGU9dC5jbGllbnRYLW4uY2xpZW50WCsobi5jbGllbnRZLXQuY2xpZW50WSksZSo9KHRoaXMubWF4LXRoaXMubWluKS90aGlzWyJ0aHJvdyJdLHRoaXMudmFsdWU9TWF0aC5tYXgodGhpcy5taW4sTWF0aC5taW4odGhpcy5tYXgsK24uc3RhcnRWYWwrZSkpfSxlLnByb3RvdHlwZS5wb2ludGVydXA9ZnVuY3Rpb24odCl7cmV0dXJuIHQucHJldmVudERlZmF1bHQoKSx0aGlzLnBvaW50ZXJTdGF0ZVt0aGlzLmdldElERm9yRXZlbnQodCldLmxpc3RlbmVyLnJlbW92ZSgpLGRlbGV0ZSB0aGlzLnBvaW50ZXJTdGF0ZVt0aGlzLmdldElERm9yRXZlbnQodCldfSxlLnByb3RvdHlwZS5wb2ludGVyY2FuY2VsPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBlPXRoaXMucG9pbnRlclN0YXRlW3RoaXMuZ2V0SURGb3JFdmVudCh0KV0sdGhpcy52YWx1ZT1lLnN0YXJ0VmFsLHRoaXMucG9pbnRlcnVwKHQpfSxlfShIVE1MSW5wdXRFbGVtZW50KSxkb2N1bWVudC5yZWdpc3RlcigieC1rbm9ianMta25vYiIse3Byb3RvdHlwZTprbm9iLktub2IucHJvdG90eXBlfSksbW9kdWxlLmV4cG9ydHM9a25vYjsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3V0LmpzLm1hcAoKfSx7Ii4vYm93ZXJfY29tcG9uZW50cy9wb2ludGVyZXZlbnRzLXBvbHlmaWxsL3BvaW50ZXJldmVudHMubWluLmpzIjoxLCIuL2Jvd2VyX2NvbXBvbmVudHMvd2ViY29tcG9uZW50c2pzL3dlYmNvbXBvbmVudHMuanMiOjJ9XX0se30sWzNdKQooMykKfSk7",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 08:09:27 GMT",
                    "Content-Length": "155064",
                    "Date": "Fri, 07 Nov 2014 08:09:27 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
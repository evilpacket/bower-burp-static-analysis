{
    "url": "http://localhost:9999/marcorinck/jquery-mobile-iscrollview/demo/build/javascripts/jquery.mobile-1.1.2.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Open redirection (DOM-based)",
    "issueType": 5243152,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based open redirection vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this data into the target of a redirection in an unsafe way. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will cause a redirection to an arbitrary external domain. This behavior can be leveraged to facilitate phishing attacks against users of the application. The ability to use an authentic application URL, targeting the correct domain with a valid SSL certificate (if SSL is used) lends credibility to the phishing attack because many users, even if they verify these features, will not notice the subsequent redirection to a different domain.<br><br><b>Note:</b> If an attacker is able to control the start of the string that is passed to the redirection API, then it may be possible to escalate this vulnerability into a JavaScript injection attack, by using a URL with the javascript: pseudo-protocol to execute arbitrary script code when the URL is processed by the browser.",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based open redirection vulnerabilities is not to dynamically set redirection targets using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a redirection target. In general, this is best achieved by using a whitelist of URLs that are permitted redirection targets, and strictly validating the target against this list before performing the redirection.",
    "issueDetail": "The application may be vulnerable to DOM-based open redirection. Data is read from <b>location.href</b> and written to <b>location.href</b> via the following statement:<ul><li>location.href=location.href.replace(/#.*/,\"\")+j;</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/marcorinck/jquery-mobile-iscrollview/demo/build/javascripts/jquery.mobile-1.1.2.min.js",
                "path": "/marcorinck/jquery-mobile-iscrollview/demo/build/javascripts/jquery.mobile-1.1.2.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9tYXJjb3JpbmNrL2pxdWVyeS1tb2JpbGUtaXNjcm9sbHZpZXcvZGVtby9idWlsZC9qYXZhc2NyaXB0cy9qcXVlcnkubW9iaWxlLTEuMS4yLm1pbi5qcyBIVFRQLzEuMQ0KSG9zdDogbG9jYWxob3N0Ojk5OTkNCg0K",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogOTU1MTQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQNCkRhdGU6IEZyaSwgMDcgTm92IDIwMTQgMDY6NDk6NDMgR01UDQpMYXN0LU1vZGlmaWVkOiBGcmksIDA3IE5vdiAyMDE0IDA2OjQ5OjQzIEdNVA0KDQovKiEgalF1ZXJ5IE1vYmlsZSB2MS4xLjIgOWExNWYxYWFmOTlmYWE3OTEzMTAzZjVlYTE5ZWY2OTU5YjczZDc2MyBqcXVlcnltb2JpbGUuY29tIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovCgooZnVuY3Rpb24obCxzLGspe3R5cGVvZiBkZWZpbmU9PT0iZnVuY3Rpb24iJiZkZWZpbmUuYW1kP2RlZmluZShbImpxdWVyeSJdLGZ1bmN0aW9uKEMpe2soQyxsLHMpO3JldHVybiBDLm1vYmlsZX0pOmsobC5qUXVlcnksbCxzKX0pKHRoaXMsZG9jdW1lbnQsZnVuY3Rpb24obCxzLGssQyl7KGZ1bmN0aW9uKGEsYyxiLGQpe2Z1bmN0aW9uIGUoYSl7Zm9yKDthJiZ0eXBlb2YgYS5vcmlnaW5hbEV2ZW50IT09InVuZGVmaW5lZCI7KWE9YS5vcmlnaW5hbEV2ZW50O3JldHVybiBhfWZ1bmN0aW9uIGYoYil7Zm9yKHZhciBlPXt9LGcsYztiOyl7Zz1hLmRhdGEoYix0KTtmb3IoYyBpbiBnKWlmKGdbY10pZVtjXT1lLmhhc1ZpcnR1YWxCaW5kaW5nPXRydWU7Yj1iLnBhcmVudE5vZGV9cmV0dXJuIGV9ZnVuY3Rpb24gZygpe3omJihjbGVhclRpbWVvdXQoeiksej0wKTt6PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtHPXo9MDtCLmxlbmd0aD0wO0Q9ZmFsc2U7SD10cnVlfSxhLnZtb3VzZS5yZXNldFRpbWVyRHVyYXRpb24pfQpmdW5jdGlvbiBoKGIsZyxjKXt2YXIgaixoO2lmKCEoaD1jJiZjW2JdKSl7aWYoYz0hYylhOntmb3IoYz1nLnRhcmdldDtjOyl7aWYoKGg9YS5kYXRhKGMsdCkpJiYoIWJ8fGhbYl0pKWJyZWFrIGE7Yz1jLnBhcmVudE5vZGV9Yz1udWxsfWg9Y31pZihoKXtqPWc7dmFyIGM9ai50eXBlLGYsRDtqPWEuRXZlbnQoaik7ai50eXBlPWI7aD1qLm9yaWdpbmFsRXZlbnQ7Zj1hLmV2ZW50LnByb3BzO2Muc2VhcmNoKC9eKG1vdXNlfGNsaWNrKS8pPi0xJiYoZj11KTtpZihoKWZvcihEPWYubGVuZ3RoO0Q7KWI9ZlstLURdLGpbYl09aFtiXTtpZihjLnNlYXJjaCgvbW91c2UoZG93bnx1cCl8Y2xpY2svKT4tMSYmIWoud2hpY2gpai53aGljaD0xO2lmKGMuc2VhcmNoKC9edG91Y2gvKSE9PS0xJiYoYj1lKGgpLGM9Yi50b3VjaGVzLGI9Yi5jaGFuZ2VkVG91Y2hlcyxjPWMmJmMubGVuZ3RoP2NbMF06YiYmYi5sZW5ndGg/YlswXTpkKSlmb3IoaD0wLGxlbj14Lmxlbmd0aDtoPGxlbjtoKyspYj14W2hdLApqW2JdPWNbYl07YShnLnRhcmdldCkudHJpZ2dlcihqKX1yZXR1cm4gan1mdW5jdGlvbiBqKGIpe3ZhciBlPWEuZGF0YShiLnRhcmdldCx2KTtpZighRCYmKCFHfHxHIT09ZSkpaWYoZT1oKCJ2IitiLnR5cGUsYikpZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmYi5wcmV2ZW50RGVmYXVsdCgpLGUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmYi5zdG9wUHJvcGFnYXRpb24oKSxlLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkmJmIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCl9ZnVuY3Rpb24gcShiKXt2YXIgYz1lKGIpLnRvdWNoZXMsZztpZihjJiZjLmxlbmd0aD09PTEmJihnPWIudGFyZ2V0LGM9ZihnKSxjLmhhc1ZpcnR1YWxCaW5kaW5nKSlHPU4rKyxhLmRhdGEoZyx2LEcpLHomJihjbGVhclRpbWVvdXQoeiksej0wKSxBPUg9ZmFsc2UsZz1lKGIpLnRvdWNoZXNbMF0seT1nLnBhZ2VYLHM9Zy5wYWdlWSxoKCJ2bW91c2VvdmVyIixiLGMpLGgoInZtb3VzZWRvd24iLGIsYyl9CmZ1bmN0aW9uIHAoYSl7SHx8KEF8fGgoInZtb3VzZWNhbmNlbCIsYSxmKGEudGFyZ2V0KSksQT10cnVlLGcoKSl9ZnVuY3Rpb24gbShiKXtpZighSCl7dmFyIGM9ZShiKS50b3VjaGVzWzBdLGQ9QSxqPWEudm1vdXNlLm1vdmVEaXN0YW5jZVRocmVzaG9sZDtBPUF8fE1hdGguYWJzKGMucGFnZVgteSk+anx8TWF0aC5hYnMoYy5wYWdlWS1zKT5qO2ZsYWdzPWYoYi50YXJnZXQpO0EmJiFkJiZoKCJ2bW91c2VjYW5jZWwiLGIsZmxhZ3MpO2goInZtb3VzZW1vdmUiLGIsZmxhZ3MpO2coKX19ZnVuY3Rpb24gdyhhKXtpZighSCl7SD10cnVlO3ZhciBiPWYoYS50YXJnZXQpLGM7aCgidm1vdXNldXAiLGEsYik7aWYoIUEmJihjPWgoInZjbGljayIsYSxiKSkmJmMuaXNEZWZhdWx0UHJldmVudGVkKCkpYz1lKGEpLmNoYW5nZWRUb3VjaGVzWzBdLEIucHVzaCh7dG91Y2hJRDpHLHg6Yy5jbGllbnRYLHk6Yy5jbGllbnRZfSksRD10cnVlO2goInZtb3VzZW91dCIsYSxiKTtBPWZhbHNlO2coKX19ZnVuY3Rpb24gbihiKXt2YXIgYj0KYS5kYXRhKGIsdCksZTtpZihiKWZvcihlIGluIGIpaWYoYltlXSlyZXR1cm4gdHJ1ZTtyZXR1cm4gZmFsc2V9ZnVuY3Rpb24gaygpe31mdW5jdGlvbiBvKGIpe3ZhciBlPWIuc3Vic3RyKDEpO3JldHVybntzZXR1cDpmdW5jdGlvbigpe24odGhpcyl8fGEuZGF0YSh0aGlzLHQse30pO2EuZGF0YSh0aGlzLHQpW2JdPXRydWU7bFtiXT0obFtiXXx8MCkrMTtsW2JdPT09MSYmSi5iaW5kKGUsaik7YSh0aGlzKS5iaW5kKGUsayk7aWYoTSlsLnRvdWNoc3RhcnQ9KGwudG91Y2hzdGFydHx8MCkrMSxsLnRvdWNoc3RhcnQ9PT0xJiZKLmJpbmQoInRvdWNoc3RhcnQiLHEpLmJpbmQoInRvdWNoZW5kIix3KS5iaW5kKCJ0b3VjaG1vdmUiLG0pLmJpbmQoInNjcm9sbCIscCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7LS1sW2JdO2xbYl18fEoudW5iaW5kKGUsaik7TSYmKC0tbC50b3VjaHN0YXJ0LGwudG91Y2hzdGFydHx8Si51bmJpbmQoInRvdWNoc3RhcnQiLHEpLnVuYmluZCgidG91Y2htb3ZlIixtKS51bmJpbmQoInRvdWNoZW5kIiwKdykudW5iaW5kKCJzY3JvbGwiLHApKTt2YXIgYz1hKHRoaXMpLGc9YS5kYXRhKHRoaXMsdCk7ZyYmKGdbYl09ZmFsc2UpO2MudW5iaW5kKGUsayk7bih0aGlzKXx8Yy5yZW1vdmVEYXRhKHQpfX19dmFyIHQ9InZpcnR1YWxNb3VzZUJpbmRpbmdzIix2PSJ2aXJ0dWFsVG91Y2hJRCIsYz0idm1vdXNlb3ZlciB2bW91c2Vkb3duIHZtb3VzZW1vdmUgdm1vdXNldXAgdmNsaWNrIHZtb3VzZW91dCB2bW91c2VjYW5jZWwiLnNwbGl0KCIgIikseD0iY2xpZW50WCBjbGllbnRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSIuc3BsaXQoIiAiKSx1PWEuZXZlbnQucHJvcHMuY29uY2F0KGEuZXZlbnQubW91c2VIb29rcz9hLmV2ZW50Lm1vdXNlSG9va3MucHJvcHM6W10pLGw9e30sej0wLHk9MCxzPTAsQT1mYWxzZSxCPVtdLEQ9ZmFsc2UsSD1mYWxzZSxNPSJhZGRFdmVudExpc3RlbmVyImluIGIsSj1hKGIpLE49MSxHPTA7YS52bW91c2U9e21vdmVEaXN0YW5jZVRocmVzaG9sZDoxMCxjbGlja0Rpc3RhbmNlVGhyZXNob2xkOjEwLApyZXNldFRpbWVyRHVyYXRpb246MTUwMH07Zm9yKHZhciBLPTA7SzxjLmxlbmd0aDtLKyspYS5ldmVudC5zcGVjaWFsW2NbS11dPW8oY1tLXSk7TSYmYi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oYil7dmFyIGU9Qi5sZW5ndGgsYz1iLnRhcmdldCxnLGQsaixoLGY7aWYoZSl7Zz1iLmNsaWVudFg7ZD1iLmNsaWVudFk7dGhyZXNob2xkPWEudm1vdXNlLmNsaWNrRGlzdGFuY2VUaHJlc2hvbGQ7Zm9yKGo9YztqOyl7Zm9yKGg9MDtoPGU7aCsrKWlmKGY9QltoXSxqPT09YyYmTWF0aC5hYnMoZi54LWcpPHRocmVzaG9sZCYmTWF0aC5hYnMoZi55LWQpPHRocmVzaG9sZHx8YS5kYXRhKGosdik9PT1mLnRvdWNoSUQpe2IucHJldmVudERlZmF1bHQoKTtiLnN0b3BQcm9wYWdhdGlvbigpO3JldHVybn1qPWoucGFyZW50Tm9kZX19fSx0cnVlKX0pKGwscyxrKTsoZnVuY3Rpb24oYSxjLGIpe2Z1bmN0aW9uIGQoYSl7YT1hfHxsb2NhdGlvbi5ocmVmO3JldHVybiIjIithLnJlcGxhY2UoL15bXiNdKiM/KC4qKSQvLAoiJDEiKX12YXIgZT0iaGFzaGNoYW5nZSIsZj1rLGcsaD1hLmV2ZW50LnNwZWNpYWwsaj1mLmRvY3VtZW50TW9kZSxxPSJvbiIrZSBpbiBjJiYoaj09PWJ8fGo+Nyk7YS5mbltlXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoZSxhKTp0aGlzLnRyaWdnZXIoZSl9O2EuZm5bZV0uZGVsYXk9NTA7aFtlXT1hLmV4dGVuZChoW2VdLHtzZXR1cDpmdW5jdGlvbigpe2lmKHEpcmV0dXJuIGZhbHNlO2EoZy5zdGFydCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYocSlyZXR1cm4gZmFsc2U7YShnLnN0b3ApfX0pO2c9ZnVuY3Rpb24oKXtmdW5jdGlvbiBnKCl7dmFyIGI9ZCgpLGo9dChuKTtpZihiIT09bilvKG49YixqKSxhKGMpLnRyaWdnZXIoZSk7ZWxzZSBpZihqIT09bilsb2NhdGlvbi5ocmVmPWxvY2F0aW9uLmhyZWYucmVwbGFjZSgvIy4qLywiIikrajtoPXNldFRpbWVvdXQoZyxhLmZuW2VdLmRlbGF5KX12YXIgaj17fSxoLG49ZCgpLGs9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LG89CmssdD1rO2ouc3RhcnQ9ZnVuY3Rpb24oKXtofHxnKCl9O2ouc3RvcD1mdW5jdGlvbigpe2gmJmNsZWFyVGltZW91dChoKTtoPWJ9O2EuYnJvd3Nlci5tc2llJiYhcSYmZnVuY3Rpb24oKXt2YXIgYixjO2ouc3RhcnQ9ZnVuY3Rpb24oKXtpZighYiljPShjPWEuZm5bZV0uc3JjKSYmYytkKCksYj1hKCc8aWZyYW1lIHRhYmluZGV4PSItMSIgdGl0bGU9ImVtcHR5Ii8+JykuaGlkZSgpLm9uZSgibG9hZCIsZnVuY3Rpb24oKXtjfHxvKGQoKSk7ZygpfSkuYXR0cigic3JjIixjfHwiamF2YXNjcmlwdDowIikuaW5zZXJ0QWZ0ZXIoImJvZHkiKVswXS5jb250ZW50V2luZG93LGYub25wcm9wZXJ0eWNoYW5nZT1mdW5jdGlvbigpe3RyeXtpZihldmVudC5wcm9wZXJ0eU5hbWU9PT0idGl0bGUiKWIuZG9jdW1lbnQudGl0bGU9Zi50aXRsZX1jYXRjaChhKXt9fX07ai5zdG9wPWs7dD1mdW5jdGlvbigpe3JldHVybiBkKGIubG9jYXRpb24uaHJlZil9O289ZnVuY3Rpb24oYyxnKXt2YXIgZD1iLmRvY3VtZW50LApqPWEuZm5bZV0uZG9tYWluO2lmKGMhPT1nKWQudGl0bGU9Zi50aXRsZSxkLm9wZW4oKSxqJiZkLndyaXRlKCc8c2NyaXB0PmRvY3VtZW50LmRvbWFpbj0iJytqKyciPFwvc2NyaXB0PicpLGQuY2xvc2UoKSxiLmxvY2F0aW9uLmhhc2g9Y319KCk7cmV0dXJuIGp9KCl9KShsLHRoaXMpOyhmdW5jdGlvbihhLGMpe2lmKGEuY2xlYW5EYXRhKXt2YXIgYj1hLmNsZWFuRGF0YTthLmNsZWFuRGF0YT1mdW5jdGlvbihjKXtmb3IodmFyIGQ9MCxnOyhnPWNbZF0pIT1udWxsO2QrKylhKGcpLnRyaWdnZXJIYW5kbGVyKCJyZW1vdmUiKTtiKGMpfX1lbHNle3ZhciBkPWEuZm4ucmVtb3ZlO2EuZm4ucmVtb3ZlPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2N8fCghYnx8YS5maWx0ZXIoYixbdGhpc10pLmxlbmd0aCkmJmEoIioiLHRoaXMpLmFkZChbdGhpc10pLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLnRyaWdnZXJIYW5kbGVyKCJyZW1vdmUiKX0pO3JldHVybiBkLmNhbGwoYSh0aGlzKSwKYixjKX0pfX1hLndpZGdldD1mdW5jdGlvbihiLGMsZyl7dmFyIGQ9Yi5zcGxpdCgiLiIpWzBdLGosYj1iLnNwbGl0KCIuIilbMV07aj1kKyItIitiO2lmKCFnKWc9YyxjPWEuV2lkZ2V0O2EuZXhwclsiOiJdW2pdPWZ1bmN0aW9uKGMpe3JldHVybiEhYS5kYXRhKGMsYil9O2FbZF09YVtkXXx8e307YVtkXVtiXT1mdW5jdGlvbihhLGIpe2FyZ3VtZW50cy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVdpZGdldChhLGIpfTtjPW5ldyBjO2Mub3B0aW9ucz1hLmV4dGVuZCh0cnVlLHt9LGMub3B0aW9ucyk7YVtkXVtiXS5wcm90b3R5cGU9YS5leHRlbmQodHJ1ZSxjLHtuYW1lc3BhY2U6ZCx3aWRnZXROYW1lOmIsd2lkZ2V0RXZlbnRQcmVmaXg6YVtkXVtiXS5wcm90b3R5cGUud2lkZ2V0RXZlbnRQcmVmaXh8fGIsd2lkZ2V0QmFzZUNsYXNzOmp9LGcpO2Eud2lkZ2V0LmJyaWRnZShiLGFbZF1bYl0pfTthLndpZGdldC5icmlkZ2U9ZnVuY3Rpb24oYixkKXthLmZuW2JdPWZ1bmN0aW9uKGcpe3ZhciBoPQp0eXBlb2YgZz09PSJzdHJpbmciLGo9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLHE9dGhpcyxnPSFoJiZqLmxlbmd0aD9hLmV4dGVuZC5hcHBseShudWxsLFt0cnVlLGddLmNvbmNhdChqKSk6ZztpZihoJiZnLmNoYXJBdCgwKT09PSJfIilyZXR1cm4gcTtoP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEuZGF0YSh0aGlzLGIpO2lmKCFkKXRocm93ImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gIitiKyIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247IGF0dGVtcHRlZCB0byBjYWxsIG1ldGhvZCAnIitnKyInIjtpZighYS5pc0Z1bmN0aW9uKGRbZ10pKXRocm93Im5vIHN1Y2ggbWV0aG9kICciK2crIicgZm9yICIrYisiIHdpZGdldCBpbnN0YW5jZSI7dmFyIGg9ZFtnXS5hcHBseShkLGopO2lmKGghPT1kJiZoIT09YylyZXR1cm4gcT1oLGZhbHNlfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YS5kYXRhKHRoaXMsYik7Yz9jLm9wdGlvbihnfHx7fSkuX2luaXQoKToKYS5kYXRhKHRoaXMsYixuZXcgZChnLHRoaXMpKX0pO3JldHVybiBxfX07YS5XaWRnZXQ9ZnVuY3Rpb24oYSxiKXthcmd1bWVudHMubGVuZ3RoJiZ0aGlzLl9jcmVhdGVXaWRnZXQoYSxiKX07YS5XaWRnZXQucHJvdG90eXBlPXt3aWRnZXROYW1lOiJ3aWRnZXQiLHdpZGdldEV2ZW50UHJlZml4OiIiLG9wdGlvbnM6e2Rpc2FibGVkOmZhbHNlfSxfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKGIsYyl7YS5kYXRhKGMsdGhpcy53aWRnZXROYW1lLHRoaXMpO3RoaXMuZWxlbWVudD1hKGMpO3RoaXMub3B0aW9ucz1hLmV4dGVuZCh0cnVlLHt9LHRoaXMub3B0aW9ucyx0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksYik7dmFyIGc9dGhpczt0aGlzLmVsZW1lbnQuYmluZCgicmVtb3ZlLiIrdGhpcy53aWRnZXROYW1lLGZ1bmN0aW9uKCl7Zy5kZXN0cm95KCl9KTt0aGlzLl9jcmVhdGUoKTt0aGlzLl90cmlnZ2VyKCJjcmVhdGUiKTt0aGlzLl9pbml0KCl9LF9nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIGI9Cnt9O2EubWV0YWRhdGEmJihiPWEubWV0YWRhdGEuZ2V0KGVsZW1lbnQpW3RoaXMud2lkZ2V0TmFtZV0pO3JldHVybiBifSxfY3JlYXRlOmZ1bmN0aW9uKCl7fSxfaW5pdDpmdW5jdGlvbigpe30sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC51bmJpbmQoIi4iK3RoaXMud2lkZ2V0TmFtZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldE5hbWUpO3RoaXMud2lkZ2V0KCkudW5iaW5kKCIuIit0aGlzLndpZGdldE5hbWUpLnJlbW92ZUF0dHIoImFyaWEtZGlzYWJsZWQiKS5yZW1vdmVDbGFzcyh0aGlzLndpZGdldEJhc2VDbGFzcysiLWRpc2FibGVkIHVpLXN0YXRlLWRpc2FibGVkIil9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnR9LG9wdGlvbjpmdW5jdGlvbihiLGQpe3ZhciBnPWI7aWYoYXJndW1lbnRzLmxlbmd0aD09PTApcmV0dXJuIGEuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyk7aWYodHlwZW9mIGI9PT0ic3RyaW5nIil7aWYoZD09PWMpcmV0dXJuIHRoaXMub3B0aW9uc1tiXTsKZz17fTtnW2JdPWR9dGhpcy5fc2V0T3B0aW9ucyhnKTtyZXR1cm4gdGhpc30sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYil7dmFyIGM9dGhpczthLmVhY2goYixmdW5jdGlvbihhLGIpe2MuX3NldE9wdGlvbihhLGIpfSk7cmV0dXJuIHRoaXN9LF9zZXRPcHRpb246ZnVuY3Rpb24oYSxiKXt0aGlzLm9wdGlvbnNbYV09YjthPT09ImRpc2FibGVkIiYmdGhpcy53aWRnZXQoKVtiPyJhZGRDbGFzcyI6InJlbW92ZUNsYXNzIl0odGhpcy53aWRnZXRCYXNlQ2xhc3MrIi1kaXNhYmxlZCB1aS1zdGF0ZS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLGIpO3JldHVybiB0aGlzfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsZmFsc2UpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLHRydWUpfSxfdHJpZ2dlcjpmdW5jdGlvbihiLGMsZCl7dmFyIGg9dGhpcy5vcHRpb25zW2JdLGM9YS5FdmVudChjKTsKYy50eXBlPShiPT09dGhpcy53aWRnZXRFdmVudFByZWZpeD9iOnRoaXMud2lkZ2V0RXZlbnRQcmVmaXgrYikudG9Mb3dlckNhc2UoKTtkPWR8fHt9O2lmKGMub3JpZ2luYWxFdmVudClmb3IodmFyIGI9YS5ldmVudC5wcm9wcy5sZW5ndGgsajtiOylqPWEuZXZlbnQucHJvcHNbLS1iXSxjW2pdPWMub3JpZ2luYWxFdmVudFtqXTt0aGlzLmVsZW1lbnQudHJpZ2dlcihjLGQpO3JldHVybiEoYS5pc0Z1bmN0aW9uKGgpJiZoLmNhbGwodGhpcy5lbGVtZW50WzBdLGMsZCk9PT1mYWxzZXx8Yy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl9fX0pKGwpOyhmdW5jdGlvbihhLGMpe2Eud2lkZ2V0KCJtb2JpbGUud2lkZ2V0Iix7X2NyZWF0ZVdpZGdldDpmdW5jdGlvbigpe2EuV2lkZ2V0LnByb3RvdHlwZS5fY3JlYXRlV2lkZ2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl90cmlnZ2VyKCJpbml0Iil9LF9nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGQ9e307CmEuZWFjaCh0aGlzLm9wdGlvbnMsZnVuY3Rpb24oYSl7dmFyIGY9Yi5qcW1EYXRhKGEucmVwbGFjZSgvW0EtWl0vZyxmdW5jdGlvbihhKXtyZXR1cm4iLSIrYS50b0xvd2VyQ2FzZSgpfSkpO2YhPT1jJiYoZFthXT1mKX0pO3JldHVybiBkfSxlbmhhbmNlV2l0aGluOmZ1bmN0aW9uKGIsYyl7dGhpcy5lbmhhbmNlKGEodGhpcy5vcHRpb25zLmluaXRTZWxlY3RvcixhKGIpKSxjKX0sZW5oYW5jZTpmdW5jdGlvbihiLGMpe3ZhciBlLGY9YShiKSxmPWEubW9iaWxlLmVuaGFuY2VhYmxlKGYpO2MmJmYubGVuZ3RoJiYoZT0oZT1hLm1vYmlsZS5jbG9zZXN0UGFnZURhdGEoZikpJiZlLmtlZXBOYXRpdmVTZWxlY3RvcigpfHwiIixmPWYubm90KGUpKTtmW3RoaXMud2lkZ2V0TmFtZV0oKX0scmFpc2U6ZnVuY3Rpb24oYSl7dGhyb3ciV2lkZ2V0IFsiK3RoaXMud2lkZ2V0TmFtZSsiXTogIithO319KX0pKGwpOyhmdW5jdGlvbihhLGMsYil7dmFyIGQ9e307YS5tb2JpbGU9YS5leHRlbmQoe30se3ZlcnNpb246IjEuMS4yIiwKbnM6IiIsc3ViUGFnZVVybEtleToidWktcGFnZSIsYWN0aXZlUGFnZUNsYXNzOiJ1aS1wYWdlLWFjdGl2ZSIsYWN0aXZlQnRuQ2xhc3M6InVpLWJ0bi1hY3RpdmUiLGZvY3VzQ2xhc3M6InVpLWZvY3VzIixhamF4RW5hYmxlZDp0cnVlLGhhc2hMaXN0ZW5pbmdFbmFibGVkOnRydWUsbGlua0JpbmRpbmdFbmFibGVkOnRydWUsZGVmYXVsdFBhZ2VUcmFuc2l0aW9uOiJmYWRlIixtYXhUcmFuc2l0aW9uV2lkdGg6ZmFsc2UsbWluU2Nyb2xsQmFjazoyNTAsdG91Y2hPdmVyZmxvd0VuYWJsZWQ6ZmFsc2UsZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246InBvcCIsbG9hZGluZ01lc3NhZ2U6ImxvYWRpbmciLHBhZ2VMb2FkRXJyb3JNZXNzYWdlOiJFcnJvciBMb2FkaW5nIFBhZ2UiLGxvYWRpbmdNZXNzYWdlVGV4dFZpc2libGU6ZmFsc2UsbG9hZGluZ01lc3NhZ2VUaGVtZToiYSIscGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZToiZSIscGhvbmVnYXBOYXZpZ2F0aW9uRW5hYmxlZDpmYWxzZSxhdXRvSW5pdGlhbGl6ZVBhZ2U6dHJ1ZSwKcHVzaFN0YXRlRW5hYmxlZDp0cnVlLGlnbm9yZUNvbnRlbnRFbmFibGVkOmZhbHNlLG9yaWVudGF0aW9uQ2hhbmdlRW5hYmxlZDp0cnVlLGJ1dHRvbk1hcmt1cDp7aG92ZXJEZWxheToyMDB9LGtleUNvZGU6e0FMVDoxOCxCQUNLU1BBQ0U6OCxDQVBTX0xPQ0s6MjAsQ09NTUE6MTg4LENPTU1BTkQ6OTEsQ09NTUFORF9MRUZUOjkxLENPTU1BTkRfUklHSFQ6OTMsQ09OVFJPTDoxNyxERUxFVEU6NDYsRE9XTjo0MCxFTkQ6MzUsRU5URVI6MTMsRVNDQVBFOjI3LEhPTUU6MzYsSU5TRVJUOjQ1LExFRlQ6MzcsTUVOVTo5MyxOVU1QQURfQUREOjEwNyxOVU1QQURfREVDSU1BTDoxMTAsTlVNUEFEX0RJVklERToxMTEsTlVNUEFEX0VOVEVSOjEwOCxOVU1QQURfTVVMVElQTFk6MTA2LE5VTVBBRF9TVUJUUkFDVDoxMDksUEFHRV9ET1dOOjM0LFBBR0VfVVA6MzMsUEVSSU9EOjE5MCxSSUdIVDozOSxTSElGVDoxNixTUEFDRTozMixUQUI6OSxVUDozOCxXSU5ET1dTOjkxfSxzaWxlbnRTY3JvbGw6ZnVuY3Rpb24oYil7aWYoYS50eXBlKGIpIT09CiJudW1iZXIiKWI9YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ZmFsc2U7c2V0VGltZW91dChmdW5jdGlvbigpe2Muc2Nyb2xsVG8oMCxiKTthKGspLnRyaWdnZXIoInNpbGVudHNjcm9sbCIse3g6MCx5OmJ9KX0sMjApO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD10cnVlfSwxNTApfSxuc05vcm1hbGl6ZURpY3Q6ZCxuc05vcm1hbGl6ZTpmdW5jdGlvbihiKXtyZXR1cm4hYj92b2lkIDA6ZFtiXXx8KGRbYl09YS5jYW1lbENhc2UoYS5tb2JpbGUubnMrYikpfSxnZXRJbmhlcml0ZWRUaGVtZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1hWzBdLGQ9IiIsZT0vdWktKGJhcnxib2R5fG92ZXJsYXkpLShbYS16XSlcYi8sZix3O2M7KXtpZigoZj1jLmNsYXNzTmFtZXx8IiIpJiYodz1lLmV4ZWMoZikpJiYoZD13WzJdKSlicmVhaztjPWMucGFyZW50Tm9kZX1yZXR1cm4gZHx8CmJ8fCJhIn0sY2xvc2VzdFBhZ2VEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNsb3Nlc3QoJzpqcW1EYXRhKHJvbGU9InBhZ2UiKSwgOmpxbURhdGEocm9sZT0iZGlhbG9nIiknKS5kYXRhKCJwYWdlIil9LGVuaGFuY2VhYmxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhdmVQYXJlbnRzKGEsImVuaGFuY2UiKX0saGlqYWNrYWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYXZlUGFyZW50cyhhLCJhamF4Iil9LGhhdmVQYXJlbnRzOmZ1bmN0aW9uKGIsYyl7aWYoIWEubW9iaWxlLmlnbm9yZUNvbnRlbnRFbmFibGVkKXJldHVybiBiO2Zvcih2YXIgZD1iLmxlbmd0aCxlPWEoKSxmLG0sdyxuPTA7bjxkO24rKyl7bT1iLmVxKG4pO3c9ZmFsc2U7Zm9yKGY9YltuXTtmOyl7aWYoKGYuZ2V0QXR0cmlidXRlP2YuZ2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrYyk6IiIpPT09ImZhbHNlIil7dz10cnVlO2JyZWFrfWY9Zi5wYXJlbnROb2RlfXd8fChlPWUuYWRkKG0pKX1yZXR1cm4gZX0sCmdldFNjcmVlbkhlaWdodDpmdW5jdGlvbigpe3JldHVybiBjLmlubmVySGVpZ2h0fHxhKGMpLmhlaWdodCgpfX0sYS5tb2JpbGUpO2EuZm4uanFtRGF0YT1mdW5jdGlvbihjLGQpe3ZhciBlO3R5cGVvZiBjIT0idW5kZWZpbmVkIiYmKGMmJihjPWEubW9iaWxlLm5zTm9ybWFsaXplKGMpKSxlPWFyZ3VtZW50cy5sZW5ndGg8Mnx8ZD09PWI/dGhpcy5kYXRhKGMpOnRoaXMuZGF0YShjLGQpKTtyZXR1cm4gZX07YS5qcW1EYXRhPWZ1bmN0aW9uKGIsYyxkKXt2YXIgZTt0eXBlb2YgYyE9InVuZGVmaW5lZCImJihlPWEuZGF0YShiLGM/YS5tb2JpbGUubnNOb3JtYWxpemUoYyk6YyxkKSk7cmV0dXJuIGV9O2EuZm4uanFtUmVtb3ZlRGF0YT1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5yZW1vdmVEYXRhKGEubW9iaWxlLm5zTm9ybWFsaXplKGIpKX07YS5qcW1SZW1vdmVEYXRhPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEucmVtb3ZlRGF0YShiLGEubW9iaWxlLm5zTm9ybWFsaXplKGMpKX07YS5mbi5yZW1vdmVXaXRoRGVwZW5kZW50cz0KZnVuY3Rpb24oKXthLnJlbW92ZVdpdGhEZXBlbmRlbnRzKHRoaXMpfTthLnJlbW92ZVdpdGhEZXBlbmRlbnRzPWZ1bmN0aW9uKGIpe2I9YShiKTsoYi5qcW1EYXRhKCJkZXBlbmRlbnRzIil8fGEoKSkucmVtb3ZlKCk7Yi5yZW1vdmUoKX07YS5mbi5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKGIpe2EuYWRkRGVwZW5kZW50cyhhKHRoaXMpLGIpfTthLmFkZERlcGVuZGVudHM9ZnVuY3Rpb24oYixjKXt2YXIgZD1hKGIpLmpxbURhdGEoImRlcGVuZGVudHMiKXx8YSgpO2EoYikuanFtRGF0YSgiZGVwZW5kZW50cyIsYS5tZXJnZShkLGMpKX07YS5mbi5nZXRFbmNvZGVkVGV4dD1mdW5jdGlvbigpe3JldHVybiBhKCI8ZGl2Lz4iKS50ZXh0KGEodGhpcykudGV4dCgpKS5odG1sKCl9O2EuZm4uanFtRW5oYW5jZWFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuZW5oYW5jZWFibGUodGhpcyl9O2EuZm4uanFtSGlqYWNrYWJsZT1mdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5oaWphY2thYmxlKHRoaXMpfTsKdmFyIGU9YS5maW5kLGY9LzpqcW1EYXRhXCgoW14pXSopXCkvZzthLmZpbmQ9ZnVuY3Rpb24oYixjLGQscSl7Yj1iLnJlcGxhY2UoZiwiW2RhdGEtIisoYS5tb2JpbGUubnN8fCIiKSsiJDFdIik7cmV0dXJuIGUuY2FsbCh0aGlzLGIsYyxkLHEpfTthLmV4dGVuZChhLmZpbmQsZSk7YS5maW5kLm1hdGNoZXM9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5maW5kKGIsbnVsbCxudWxsLGMpfTthLmZpbmQubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuZmluZChjLG51bGwsbnVsbCxbYl0pLmxlbmd0aD4wfX0pKGwsdGhpcyk7KGZ1bmN0aW9uKGEpe2Eocyk7dmFyIGM9YSgiaHRtbCIpO2EubW9iaWxlLm1lZGlhPWZ1bmN0aW9uKCl7dmFyIGI9e30sZD1hKCI8ZGl2IGlkPSdqcXVlcnktbWVkaWF0ZXN0Jz48L2Rpdj4iKSxlPWEoIjxib2R5PiIpLmFwcGVuZChkKTtyZXR1cm4gZnVuY3Rpb24oYSl7aWYoIShhIGluIGIpKXt2YXIgZz1rLmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksCmg9IkBtZWRpYSAiK2ErIiB7ICNqcXVlcnktbWVkaWF0ZXN0IHsgcG9zaXRpb246YWJzb2x1dGU7IH0gfSI7Zy50eXBlPSJ0ZXh0L2NzcyI7Zy5zdHlsZVNoZWV0P2cuc3R5bGVTaGVldC5jc3NUZXh0PWg6Zy5hcHBlbmRDaGlsZChrLmNyZWF0ZVRleHROb2RlKGgpKTtjLnByZXBlbmQoZSkucHJlcGVuZChnKTtiW2FdPWQuY3NzKCJwb3NpdGlvbiIpPT09ImFic29sdXRlIjtlLmFkZChnKS5yZW1vdmUoKX1yZXR1cm4gYlthXX19KCl9KShsKTsoZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBiKGEpe3ZhciBiPWEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHIoMSksYT0oYSsiICIrZy5qb2luKGIrIiAiKStiKS5zcGxpdCgiICIpLGQ7Zm9yKGQgaW4gYSlpZihmW2FbZF1dIT09YylyZXR1cm4gdHJ1ZX1mdW5jdGlvbiBkKGEsYixjKXt2YXIgZD1rLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGM9Yz9bY106ZyxlO2ZvcihpPTA7aTxjLmxlbmd0aDtpKyspe3ZhciBqPWNbaV0saD0iLSIrai5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSsKai5zdWJzdHIoMSkrIi0iK2ErIjogIitiKyI7IixqPWouY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrai5zdWJzdHIoMSkrKGEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHIoMSkpO2Quc2V0QXR0cmlidXRlKCJzdHlsZSIsaCk7ZC5zdHlsZVtqXSYmKGU9dHJ1ZSl9cmV0dXJuISFlfXZhciBlPWEoIjxib2R5PiIpLnByZXBlbmRUbygiaHRtbCIpLGY9ZVswXS5zdHlsZSxnPVsiV2Via2l0IiwiTW96IiwiTyJdLGg9InBhbG1HZXRSZXNvdXJjZSJpbiBzLGo9cy5vcGVyYSxxPXMub3BlcmFtaW5pJiZ7fS50b1N0cmluZy5jYWxsKHMub3BlcmFtaW5pKT09PSJbb2JqZWN0IE9wZXJhTWluaV0iLHA9cy5ibGFja2JlcnJ5O2EuZXh0ZW5kKGEubW9iaWxlLHticm93c2VyOnt9fSk7YS5tb2JpbGUuYnJvd3Nlci5pZT1mdW5jdGlvbigpe2Zvcih2YXIgYT0zLGI9ay5jcmVhdGVFbGVtZW50KCJkaXYiKSxjPWIuYWxsfHxbXTtiLmlubmVySFRNTD0iPFwhLS1baWYgZ3QgSUUgIisgKythKwoiXT48YnI+PCFbZW5kaWZdLS1cPiIsY1swXTspO3JldHVybiBhPjQ/YTohYX0oKTthLmV4dGVuZChhLnN1cHBvcnQse29yaWVudGF0aW9uOiJvcmllbnRhdGlvbiJpbiBzJiYib25vcmllbnRhdGlvbmNoYW5nZSJpbiBzLHRvdWNoOiJvbnRvdWNoZW5kImluIGssY3NzVHJhbnNpdGlvbnM6IldlYktpdFRyYW5zaXRpb25FdmVudCJpbiBzfHxkKCJ0cmFuc2l0aW9uIiwiaGVpZ2h0IDEwMG1zIGxpbmVhciIpJiYhaixwdXNoU3RhdGU6InB1c2hTdGF0ZSJpbiBoaXN0b3J5JiYicmVwbGFjZVN0YXRlImluIGhpc3RvcnksbWVkaWFxdWVyeTphLm1vYmlsZS5tZWRpYSgib25seSBhbGwiKSxjc3NQc2V1ZG9FbGVtZW50OiEhYigiY29udGVudCIpLHRvdWNoT3ZlcmZsb3c6ISFiKCJvdmVyZmxvd1Njcm9sbGluZyIpLGNzc1RyYW5zZm9ybTNkOmQoInBlcnNwZWN0aXZlIiwiMTBweCIsIm1veiIpfHxhLm1vYmlsZS5tZWRpYSgiKC0iK2cuam9pbigiLXRyYW5zZm9ybS0zZCksKC0iKSsiLXRyYW5zZm9ybS0zZCksKHRyYW5zZm9ybS0zZCkiKSwKYm94U2hhZG93OiEhYigiYm94U2hhZG93IikmJiFwLHNjcm9sbFRvcDooInBhZ2VYT2Zmc2V0ImluIHN8fCJzY3JvbGxUb3AiaW4gay5kb2N1bWVudEVsZW1lbnR8fCJzY3JvbGxUb3AiaW4gZVswXSkmJiFoJiYhcSxkeW5hbWljQmFzZVRhZzpmdW5jdGlvbigpe3ZhciBiPWxvY2F0aW9uLnByb3RvY29sKyIvLyIrbG9jYXRpb24uaG9zdCtsb2NhdGlvbi5wYXRobmFtZSsidWktZGlyLyIsYz1hKCJoZWFkIGJhc2UiKSxkPW51bGwsaj0iIixnO2MubGVuZ3RoP2o9Yy5hdHRyKCJocmVmIik6Yz1kPWEoIjxiYXNlPiIse2hyZWY6Yn0pLmFwcGVuZFRvKCJoZWFkIik7Zz1hKCI8YSBocmVmPSd0ZXN0dXJsJyAvPiIpLnByZXBlbmRUbyhlKVswXS5ocmVmO2NbMF0uaHJlZj1qfHxsb2NhdGlvbi5wYXRobmFtZTtkJiZkLnJlbW92ZSgpO3JldHVybiBnLmluZGV4T2YoYik9PT0wfSgpLGNzc1BvaW50ZXJFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT1rLmNyZWF0ZUVsZW1lbnQoIngiKSxiPWsuZG9jdW1lbnRFbGVtZW50LApjPXMuZ2V0Q29tcHV0ZWRTdHlsZTtpZighKCJwb2ludGVyRXZlbnRzImluIGEuc3R5bGUpKXJldHVybiBmYWxzZTthLnN0eWxlLnBvaW50ZXJFdmVudHM9ImF1dG8iO2Euc3R5bGUucG9pbnRlckV2ZW50cz0ieCI7Yi5hcHBlbmRDaGlsZChhKTtjPWMmJmMoYSwiIikucG9pbnRlckV2ZW50cz09PSJhdXRvIjtiLnJlbW92ZUNoaWxkKGEpO3JldHVybiEhY30oKX0pO2UucmVtb3ZlKCk7aD1mdW5jdGlvbigpe3ZhciBhPXMubmF2aWdhdG9yLnVzZXJBZ2VudDtyZXR1cm4gYS5pbmRleE9mKCJOb2tpYSIpPi0xJiYoYS5pbmRleE9mKCJTeW1iaWFuLzMiKT4tMXx8YS5pbmRleE9mKCJTZXJpZXM2MC81Iik+LTEpJiZhLmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTEmJmEubWF0Y2goLyhCcm93c2VyTkd8Tm9raWFCcm93c2VyKVwvN1wuWzAtM10vKX0oKTthLm1vYmlsZS5ncmFkZUE9ZnVuY3Rpb24oKXtyZXR1cm4gYS5zdXBwb3J0Lm1lZGlhcXVlcnl8fGEubW9iaWxlLmJyb3dzZXIuaWUmJmEubW9iaWxlLmJyb3dzZXIuaWU+PQo3fTthLm1vYmlsZS5hamF4QmxhY2tsaXN0PXMuYmxhY2tiZXJyeSYmIXMuV2ViS2l0UG9pbnR8fHF8fGg7aCYmYShmdW5jdGlvbigpe2EoImhlYWQgbGlua1tyZWw9J3N0eWxlc2hlZXQnXSIpLmF0dHIoInJlbCIsImFsdGVybmF0ZSBzdHlsZXNoZWV0IikuYXR0cigicmVsIiwic3R5bGVzaGVldCIpfSk7YS5zdXBwb3J0LmJveFNoYWRvd3x8YSgiaHRtbCIpLmFkZENsYXNzKCJ1aS1tb2JpbGUtbm9zdXBwb3J0LWJveHNoYWRvdyIpfSkobCk7KGZ1bmN0aW9uKGEsYyxiKXtmdW5jdGlvbiBkKGIsYyxkKXt2YXIgZT1kLnR5cGU7ZC50eXBlPWM7YS5ldmVudC5oYW5kbGUuY2FsbChiLGQpO2QudHlwZT1lfWEuZWFjaCgidG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgb3JpZW50YXRpb25jaGFuZ2UgdGhyb3R0bGVkcmVzaXplIHRhcCB0YXBob2xkIHN3aXBlIHN3aXBlbGVmdCBzd2lwZXJpZ2h0IHNjcm9sbHN0YXJ0IHNjcm9sbHN0b3AiLnNwbGl0KCIgIiksZnVuY3Rpb24oYixjKXthLmZuW2NdPQpmdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoYyxhKTp0aGlzLnRyaWdnZXIoYyl9O2EuYXR0ckZuW2NdPXRydWV9KTt2YXIgZT1hLnN1cHBvcnQudG91Y2gsZj1lPyJ0b3VjaHN0YXJ0IjoibW91c2Vkb3duIixnPWU/InRvdWNoZW5kIjoibW91c2V1cCIsaD1lPyJ0b3VjaG1vdmUiOiJtb3VzZW1vdmUiO2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydD17ZW5hYmxlZDp0cnVlLHNldHVwOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhLGope2U9ajtkKGMsZT8ic2Nyb2xsc3RhcnQiOiJzY3JvbGxzdG9wIixhKX12YXIgYz10aGlzLGUsZzthKGMpLmJpbmQoInRvdWNobW92ZSBzY3JvbGwiLGZ1bmN0aW9uKGMpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkJiYoZXx8YihjLHRydWUpLGNsZWFyVGltZW91dChnKSxnPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtiKGMsZmFsc2UpfSw1MCkpfSl9fTthLmV2ZW50LnNwZWNpYWwudGFwPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBiPQp0aGlzLGM9YShiKTtjLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGcoKXtjbGVhclRpbWVvdXQobyl9ZnVuY3Rpb24gaCgpe2coKTtjLnVuYmluZCgidmNsaWNrIixmKS51bmJpbmQoInZtb3VzZXVwIixnKTthKGspLnVuYmluZCgidm1vdXNlY2FuY2VsIixoKX1mdW5jdGlvbiBmKGEpe2goKTtyPT1hLnRhcmdldCYmZChiLCJ0YXAiLGEpfWlmKGUud2hpY2gmJmUud2hpY2ghPT0xKXJldHVybiBmYWxzZTt2YXIgcj1lLnRhcmdldCxvO2MuYmluZCgidm1vdXNldXAiLGcpLmJpbmQoInZjbGljayIsZik7YShrKS5iaW5kKCJ2bW91c2VjYW5jZWwiLGgpO289c2V0VGltZW91dChmdW5jdGlvbigpe2QoYiwidGFwaG9sZCIsYS5FdmVudCgidGFwaG9sZCIse3RhcmdldDpyfSkpfSw3NTApfSl9fTthLmV2ZW50LnNwZWNpYWwuc3dpcGU9e3Njcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQ6MTAsZHVyYXRpb25UaHJlc2hvbGQ6MUUzLGhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZDozMCwKdmVydGljYWxEaXN0YW5jZVRocmVzaG9sZDo3NSxzZXR1cDpmdW5jdGlvbigpe3ZhciBjPWEodGhpcyk7Yy5iaW5kKGYsZnVuY3Rpb24oZCl7ZnVuY3Rpb24gZShiKXtpZihrKXt2YXIgYz1iLm9yaWdpbmFsRXZlbnQudG91Y2hlcz9iLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTpiO249e3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOltjLnBhZ2VYLGMucGFnZVldfTtNYXRoLmFicyhrLmNvb3Jkc1swXS1uLmNvb3Jkc1swXSk+YS5ldmVudC5zcGVjaWFsLnN3aXBlLnNjcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQmJmIucHJldmVudERlZmF1bHQoKX19dmFyIGY9ZC5vcmlnaW5hbEV2ZW50LnRvdWNoZXM/ZC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF06ZCxrPXt0aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGNvb3JkczpbZi5wYWdlWCxmLnBhZ2VZXSxvcmlnaW46YShkLnRhcmdldCl9LG47Yy5iaW5kKGgsZSkub25lKGcsZnVuY3Rpb24oKXtjLnVuYmluZChoLGUpO2smJm4mJgpuLnRpbWUtay50aW1lPGEuZXZlbnQuc3BlY2lhbC5zd2lwZS5kdXJhdGlvblRocmVzaG9sZCYmTWF0aC5hYnMoay5jb29yZHNbMF0tbi5jb29yZHNbMF0pPmEuZXZlbnQuc3BlY2lhbC5zd2lwZS5ob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQmJk1hdGguYWJzKGsuY29vcmRzWzFdLW4uY29vcmRzWzFdKTxhLmV2ZW50LnNwZWNpYWwuc3dpcGUudmVydGljYWxEaXN0YW5jZVRocmVzaG9sZCYmay5vcmlnaW4udHJpZ2dlcigic3dpcGUiKS50cmlnZ2VyKGsuY29vcmRzWzBdPm4uY29vcmRzWzBdPyJzd2lwZWxlZnQiOiJzd2lwZXJpZ2h0Iik7az1uPWJ9KX0pfX07KGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe3ZhciBhPWUoKTthIT09ZyYmKGc9YSxkLnRyaWdnZXIoIm9yaWVudGF0aW9uY2hhbmdlIikpfXZhciBkPWEoYiksZSxnLGgsZixsPXswOnRydWUsMTgwOnRydWV9O2lmKGEuc3VwcG9ydC5vcmllbnRhdGlvbiYmKGg9Yi5pbm5lcldpZHRofHxhKGIpLndpZHRoKCksZj1iLmlubmVySGVpZ2h0fHwKYShiKS5oZWlnaHQoKSxoPWg+ZiYmaC1mPjUwLGY9bFtiLm9yaWVudGF0aW9uXSxoJiZmfHwhaCYmIWYpKWw9eyItOTAiOnRydWUsOTA6dHJ1ZX07YS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlPXtzZXR1cDpmdW5jdGlvbigpe2lmKGEuc3VwcG9ydC5vcmllbnRhdGlvbiYmYS5tb2JpbGUub3JpZW50YXRpb25DaGFuZ2VFbmFibGVkKXJldHVybiBmYWxzZTtnPWUoKTtkLmJpbmQoInRocm90dGxlZHJlc2l6ZSIsYyl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYoYS5zdXBwb3J0Lm9yaWVudGF0aW9uJiZhLm1vYmlsZS5vcmllbnRhdGlvbkNoYW5nZUVuYWJsZWQpcmV0dXJuIGZhbHNlO2QudW5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGMpfSxhZGQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5oYW5kbGVyO2EuaGFuZGxlcj1mdW5jdGlvbihhKXthLm9yaWVudGF0aW9uPWUoKTtyZXR1cm4gYi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX07YS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLm9yaWVudGF0aW9uPQplPWZ1bmN0aW9uKCl7dmFyIGM9dHJ1ZSxjPWsuZG9jdW1lbnRFbGVtZW50O3JldHVybihjPWEuc3VwcG9ydC5vcmllbnRhdGlvbj9sW2Iub3JpZW50YXRpb25dOmMmJmMuY2xpZW50V2lkdGgvYy5jbGllbnRIZWlnaHQ8MS4xKT8icG9ydHJhaXQiOiJsYW5kc2NhcGUifX0pKGwsYyk7KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnRocm90dGxlZHJlc2l6ZT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoInJlc2l6ZSIsYil9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoInJlc2l6ZSIsYil9fTt2YXIgYj1mdW5jdGlvbigpe2U9KG5ldyBEYXRlKS5nZXRUaW1lKCk7Zz1lLWM7Zz49MjUwPyhjPWUsYSh0aGlzKS50cmlnZ2VyKCJ0aHJvdHRsZWRyZXNpemUiKSk6KGQmJmNsZWFyVGltZW91dChkKSxkPXNldFRpbWVvdXQoYiwyNTAtZykpfSxjPTAsZCxlLGd9KSgpO2EuZWFjaCh7c2Nyb2xsc3RvcDoic2Nyb2xsc3RhcnQiLHRhcGhvbGQ6InRhcCIsc3dpcGVsZWZ0OiJzd2lwZSIsCnN3aXBlcmlnaHQ6InN3aXBlIn0sZnVuY3Rpb24oYixjKXthLmV2ZW50LnNwZWNpYWxbYl09e3NldHVwOmZ1bmN0aW9uKCl7YSh0aGlzKS5iaW5kKGMsYS5ub29wKX19fSl9KShsLHRoaXMpOyhmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnBhZ2UiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6ImMiLGRvbUNhY2hlOmZhbHNlLGtlZXBOYXRpdmVEZWZhdWx0OiI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGEuX3RyaWdnZXIoImJlZm9yZWNyZWF0ZSIpPT09ZmFsc2UpcmV0dXJuIGZhbHNlO2EuZWxlbWVudC5hdHRyKCJ0YWJpbmRleCIsIjAiKS5hZGRDbGFzcygidWktcGFnZSB1aS1ib2R5LSIrYS5vcHRpb25zLnRoZW1lKS5iaW5kKCJwYWdlYmVmb3JlaGlkZSIsZnVuY3Rpb24oKXthLnJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQoKX0pLmJpbmQoInBhZ2ViZWZvcmVzaG93IiwKZnVuY3Rpb24oKXthLnNldENvbnRhaW5lckJhY2tncm91bmQoKX0pfSxyZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kOmZ1bmN0aW9uKCl7YS5tb2JpbGUucGFnZUNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktb3ZlcmxheS0iK2EubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudC5wYXJlbnQoKSkpfSxzZXRDb250YWluZXJCYWNrZ3JvdW5kOmZ1bmN0aW9uKGMpe3RoaXMub3B0aW9ucy50aGVtZSYmYS5tb2JpbGUucGFnZUNvbnRhaW5lci5hZGRDbGFzcygidWktb3ZlcmxheS0iKyhjfHx0aGlzLm9wdGlvbnMudGhlbWUpKX0sa2VlcE5hdGl2ZVNlbGVjdG9yOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5vcHRpb25zO3JldHVybiBjLmtlZXBOYXRpdmUmJmEudHJpbShjLmtlZXBOYXRpdmUpJiZjLmtlZXBOYXRpdmUhPT1jLmtlZXBOYXRpdmVEZWZhdWx0P1tjLmtlZXBOYXRpdmUsYy5rZWVwTmF0aXZlRGVmYXVsdF0uam9pbigiLCAiKTpjLmtlZXBOYXRpdmVEZWZhdWx0fX0pfSkobCk7CihmdW5jdGlvbihhLGMsYil7dmFyIGQ9ZnVuY3Rpb24oZCl7ZD09PWImJihkPXRydWUpO3JldHVybiBmdW5jdGlvbihiLGUsaixxKXt2YXIgaz1uZXcgYS5EZWZlcnJlZCxtPWU/IiByZXZlcnNlIjoiIixsPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCkubGFzdFNjcm9sbHx8YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwsbj1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSxyPWEubW9iaWxlLm1heFRyYW5zaXRpb25XaWR0aCE9PWZhbHNlJiZhKGMpLndpZHRoKCk+YS5tb2JpbGUubWF4VHJhbnNpdGlvbldpZHRoLG89IWEuc3VwcG9ydC5jc3NUcmFuc2l0aW9uc3x8cnx8IWJ8fGI9PT0ibm9uZSJ8fE1hdGgubWF4KGEoYykuc2Nyb2xsVG9wKCksbCk+YS5tb2JpbGUuZ2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbigpLHQ9ZnVuY3Rpb24oKXthLm1vYmlsZS5wYWdlQ29udGFpbmVyLnRvZ2dsZUNsYXNzKCJ1aS1tb2JpbGUtdmlld3BvcnQtdHJhbnNpdGlvbmluZyB2aWV3cG9ydC0iKwpiKX0sdj1mdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPWZhbHNlO2Muc2Nyb2xsVG8oMCxsKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9dHJ1ZX0sMTUwKX0seD1mdW5jdGlvbigpe3EucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKyIgb3V0IGluIHJldmVyc2UgIitiKS5oZWlnaHQoIiIpfSxyPWZ1bmN0aW9uKCl7cSYmZCYmeCgpO2ouY3NzKCJ6LWluZGV4IiwtMTApO2ouYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKyIgdWktcGFnZS1wcmUtaW4iKTthLm1vYmlsZS5mb2N1c1BhZ2Uoaik7ai5oZWlnaHQobitsKTt2KCk7ai5jc3MoInotaW5kZXgiLCIiKTtvfHxqLmFuaW1hdGlvbkNvbXBsZXRlKHUpO2oucmVtb3ZlQ2xhc3MoIiB1aS1wYWdlLXByZS1pbiIpLmFkZENsYXNzKGIrIiBpbiIrbSk7byYmdSgpfSx1PWZ1bmN0aW9uKCl7ZHx8cSYmeCgpO2oucmVtb3ZlQ2xhc3MoIm91dCBpbiByZXZlcnNlICIrCmIpLmhlaWdodCgiIik7dCgpO2EoYykuc2Nyb2xsVG9wKCkhPT1sJiZ2KCk7ay5yZXNvbHZlKGIsZSxqLHEsdHJ1ZSl9O3QoKTtxJiYhbz8oZD9xLmFuaW1hdGlvbkNvbXBsZXRlKHIpOnIoKSxxLmhlaWdodChuK2EoYykuc2Nyb2xsVG9wKCkpLmFkZENsYXNzKGIrIiBvdXQiK20pKTpyKCk7cmV0dXJuIGsucHJvbWlzZSgpfX0sZT1kKCksZD1kKGZhbHNlKTthLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXI9ZTthLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnM9eyJkZWZhdWx0IjphLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIsc2VxdWVudGlhbDplLHNpbXVsdGFuZW91czpkfTthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzPXt9O2EubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb249YS5tb2JpbGUuZ2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbnx8ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCkqM319KShsLHRoaXMpOwooZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBiKGIpe2wmJighbC5jbG9zZXN0KCIudWktcGFnZS1hY3RpdmUiKS5sZW5ndGh8fGIpJiZsLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTtsPW51bGx9ZnVuY3Rpb24gZCgpe289ZmFsc2U7ci5sZW5ndGg+MCYmYS5tb2JpbGUuY2hhbmdlUGFnZS5hcHBseShudWxsLHIucG9wKCkpfWZ1bmN0aW9uIGUoYixjLGQsZSl7YyYmYy5kYXRhKCJwYWdlIikuX3RyaWdnZXIoImJlZm9yZWhpZGUiLG51bGwse25leHRQYWdlOmJ9KTtiLmRhdGEoInBhZ2UiKS5fdHJpZ2dlcigiYmVmb3Jlc2hvdyIsbnVsbCx7cHJldlBhZ2U6Y3x8YSgiIil9KTthLm1vYmlsZS5oaWRlUGFnZUxvYWRpbmdNc2coKTtkJiYhYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZhLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW2RdJiYoZD1hLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW2RdKTtkPShhLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnNbZHx8ImRlZmF1bHQiXXx8CmEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcikoZCxlLGIsYyk7ZC5kb25lKGZ1bmN0aW9uKCl7YyYmYy5kYXRhKCJwYWdlIikuX3RyaWdnZXIoImhpZGUiLG51bGwse25leHRQYWdlOmJ9KTtiLmRhdGEoInBhZ2UiKS5fdHJpZ2dlcigic2hvdyIsbnVsbCx7cHJldlBhZ2U6Y3x8YSgiIil9KX0pO3JldHVybiBkfWZ1bmN0aW9uIGYoKXt2YXIgYj1hKCIuIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLGM9cGFyc2VGbG9hdChiLmNzcygicGFkZGluZy10b3AiKSksZD1wYXJzZUZsb2F0KGIuY3NzKCJwYWRkaW5nLWJvdHRvbSIpKSxlPXBhcnNlRmxvYXQoYi5jc3MoImJvcmRlci10b3Atd2lkdGgiKSksZz1wYXJzZUZsb2F0KGIuY3NzKCJib3JkZXItYm90dG9tLXdpZHRoIikpO2IuY3NzKCJtaW4taGVpZ2h0Iix6KCktYy1kLWUtZyl9ZnVuY3Rpb24gZyhiLGMpe2MmJmIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlIixjKTtiLnBhZ2UoKX1mdW5jdGlvbiBoKGEpe2Zvcig7YTspe2lmKHR5cGVvZiBhLm5vZGVOYW1lPT09CiJzdHJpbmciJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PSJhIilicmVhazthPWEucGFyZW50Tm9kZX1yZXR1cm4gYX1mdW5jdGlvbiBqKGIpe3ZhciBiPWEoYikuY2xvc2VzdCgiLnVpLXBhZ2UiKS5qcW1EYXRhKCJ1cmwiKSxjPXUuaHJlZk5vSGFzaDtpZighYnx8IW0uaXNQYXRoKGIpKWI9YztyZXR1cm4gbS5tYWtlVXJsQWJzb2x1dGUoYixjKX12YXIgcT1hKHMpO2EoImh0bWwiKTt2YXIgcD1hKCJoZWFkIiksbT17dXJsUGFyc2VSRTovXigoKChbXjpcLyNcP10rOik/KD86KFwvXC8pKCg/OigoW146QFwvI1w/XSspKD86XDooW146QFwvI1w/XSspKT8pQCk/KChbXjpcLyNcP1xdXFtdK3xcW1teXC9cXUAjP10rXF0pKD86XDooWzAtOV0rKSk/KSk/KT8pPygoXC8/KD86W15cL1w/I10rXC8rKSopKFteXD8jXSopKSk/KFw/W14jXSspPykoIy4qKT8vLGdldExvY2F0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPWE/dGhpcy5wYXJzZVVybChhKTpsb2NhdGlvbixhPXRoaXMucGFyc2VVcmwoYXx8CmxvY2F0aW9uLmhyZWYpLmhhc2g7cmV0dXJuIGIucHJvdG9jb2wrIi8vIitiLmhvc3QrYi5wYXRobmFtZStiLnNlYXJjaCsoYT09PSIjIj8iIjphKX0scGFyc2VMb2NhdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcnNlVXJsKHRoaXMuZ2V0TG9jYXRpb24oKSl9LHBhcnNlVXJsOmZ1bmN0aW9uKGIpe2lmKGEudHlwZShiKT09PSJvYmplY3QiKXJldHVybiBiO2I9bS51cmxQYXJzZVJFLmV4ZWMoYnx8IiIpfHxbXTtyZXR1cm57aHJlZjpiWzBdfHwiIixocmVmTm9IYXNoOmJbMV18fCIiLGhyZWZOb1NlYXJjaDpiWzJdfHwiIixkb21haW46YlszXXx8IiIscHJvdG9jb2w6Yls0XXx8IiIsZG91YmxlU2xhc2g6Yls1XXx8IiIsYXV0aG9yaXR5OmJbNl18fCIiLHVzZXJuYW1lOmJbOF18fCIiLHBhc3N3b3JkOmJbOV18fCIiLGhvc3Q6YlsxMF18fCIiLGhvc3RuYW1lOmJbMTFdfHwiIixwb3J0OmJbMTJdfHwiIixwYXRobmFtZTpiWzEzXXx8IiIsZGlyZWN0b3J5OmJbMTRdfHwiIixmaWxlbmFtZTpiWzE1XXx8CiIiLHNlYXJjaDpiWzE2XXx8IiIsaGFzaDpiWzE3XXx8IiJ9fSxtYWtlUGF0aEFic29sdXRlOmZ1bmN0aW9uKGEsYil7aWYoYSYmYS5jaGFyQXQoMCk9PT0iLyIpcmV0dXJuIGE7Zm9yKHZhciBhPWF8fCIiLGM9KGI9Yj9iLnJlcGxhY2UoL15cL3woXC9bXlwvXSp8W15cL10rKSQvZywiIik6IiIpP2Iuc3BsaXQoIi8iKTpbXSxkPWEuc3BsaXQoIi8iKSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBnPWRbZV07c3dpdGNoKGcpe2Nhc2UgIi4iOmJyZWFrO2Nhc2UgIi4uIjpjLmxlbmd0aCYmYy5wb3AoKTticmVhaztkZWZhdWx0OmMucHVzaChnKX19cmV0dXJuIi8iK2Muam9pbigiLyIpfSxpc1NhbWVEb21haW46ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbS5wYXJzZVVybChhKS5kb21haW49PT1tLnBhcnNlVXJsKGIpLmRvbWFpbn0saXNSZWxhdGl2ZVVybDpmdW5jdGlvbihhKXtyZXR1cm4gbS5wYXJzZVVybChhKS5wcm90b2NvbD09PSIifSxpc0Fic29sdXRlVXJsOmZ1bmN0aW9uKGEpe3JldHVybiBtLnBhcnNlVXJsKGEpLnByb3RvY29sIT09CiIifSxtYWtlVXJsQWJzb2x1dGU6ZnVuY3Rpb24oYSxiKXtpZighbS5pc1JlbGF0aXZlVXJsKGEpKXJldHVybiBhO2I9PT1jJiYoYj11KTt2YXIgZD1tLnBhcnNlVXJsKGEpLGU9bS5wYXJzZVVybChiKSxnPWQucHJvdG9jb2x8fGUucHJvdG9jb2wsaD1kLnByb3RvY29sP2QuZG91YmxlU2xhc2g6ZC5kb3VibGVTbGFzaHx8ZS5kb3VibGVTbGFzaCxqPWQuYXV0aG9yaXR5fHxlLmF1dGhvcml0eSxmPWQucGF0aG5hbWUhPT0iIixuPW0ubWFrZVBhdGhBYnNvbHV0ZShkLnBhdGhuYW1lfHxlLmZpbGVuYW1lLGUucGF0aG5hbWUpO3JldHVybiBnK2graituKyhkLnNlYXJjaHx8IWYmJmUuc2VhcmNofHwiIikrZC5oYXNofSxhZGRTZWFyY2hQYXJhbXM6ZnVuY3Rpb24oYixjKXt2YXIgZD1tLnBhcnNlVXJsKGIpLGU9dHlwZW9mIGM9PT0ib2JqZWN0Ij9hLnBhcmFtKGMpOmMsZz1kLnNlYXJjaHx8Ij8iO3JldHVybiBkLmhyZWZOb1NlYXJjaCtnKyhnLmNoYXJBdChnLmxlbmd0aC0xKSE9PSI/Ij8KIiYiOiIiKStlKyhkLmhhc2h8fCIiKX0sY29udmVydFVybFRvRGF0YVVybDpmdW5jdGlvbihhKXt2YXIgYj1tLnBhcnNlVXJsKGEpO2lmKG0uaXNFbWJlZGRlZFBhZ2UoYikpcmV0dXJuIGIuaGFzaC5zcGxpdCh0KVswXS5yZXBsYWNlKC9eIy8sIiIpO2Vsc2UgaWYobS5pc1NhbWVEb21haW4oYix1KSlyZXR1cm4gYi5ocmVmTm9IYXNoLnJlcGxhY2UodS5kb21haW4sIiIpLnNwbGl0KHQpWzBdO3JldHVybiBhfSxnZXQ6ZnVuY3Rpb24oYSl7aWYoYT09PWMpYT1sb2NhdGlvbi5oYXNoO3JldHVybiBtLnN0cmlwSGFzaChhKS5yZXBsYWNlKC9bXlwvXSpcLlteXC8qXSskLywiIil9LGdldEZpbGVQYXRoOmZ1bmN0aW9uKGIpe3ZhciBjPSImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5O3JldHVybiBiJiZiLnNwbGl0KGMpWzBdLnNwbGl0KHQpWzBdfSxzZXQ6ZnVuY3Rpb24oYSl7bG9jYXRpb24uaGFzaD1hfSxpc1BhdGg6ZnVuY3Rpb24oYSl7cmV0dXJuL1wvLy50ZXN0KGEpfSxjbGVhbjpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHUuZG9tYWluLAoiIil9LHN0cmlwSGFzaDpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9eIy8sIiIpfSxjbGVhbkhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIG0uc3RyaXBIYXNoKGEucmVwbGFjZSgvXD8uKiQvLCIiKS5yZXBsYWNlKHQsIiIpKX0saXNIYXNoVmFsaWQ6ZnVuY3Rpb24oYSl7cmV0dXJuL14jW14jXSskLy50ZXN0KGEpfSxpc0V4dGVybmFsOmZ1bmN0aW9uKGEpe2E9bS5wYXJzZVVybChhKTtyZXR1cm4gYS5wcm90b2NvbCYmYS5kb21haW4hPT14LmRvbWFpbj90cnVlOmZhbHNlfSxoYXNQcm90b2NvbDpmdW5jdGlvbihhKXtyZXR1cm4vXig6P1x3KzopLy50ZXN0KGEpfSxpc0ZpcnN0UGFnZVVybDpmdW5jdGlvbihiKXt2YXIgYj1tLnBhcnNlVXJsKG0ubWFrZVVybEFic29sdXRlKGIsdSkpLGQ9YS5tb2JpbGUuZmlyc3RQYWdlLGQ9ZCYmZFswXT9kWzBdLmlkOmM7cmV0dXJuKGIuaHJlZk5vSGFzaD09PXguaHJlZk5vSGFzaHx8RiYmYi5ocmVmTm9IYXNoPT09dS5ocmVmTm9IYXNoKSYmCighYi5oYXNofHxiLmhhc2g9PT0iIyJ8fGQmJmIuaGFzaC5yZXBsYWNlKC9eIy8sIiIpPT09ZCl9LGlzRW1iZWRkZWRQYWdlOmZ1bmN0aW9uKGEpe2E9bS5wYXJzZVVybChhKTtyZXR1cm4gYS5wcm90b2NvbCE9PSIiP2EuaGFzaCYmKGEuaHJlZk5vSGFzaD09PXguaHJlZk5vSGFzaHx8RiYmYS5ocmVmTm9IYXNoPT09dS5ocmVmTm9IYXNoKTovXiMvLnRlc3QoYS5ocmVmKX0saXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3Q6ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzJiZiLnByb3RvY29sPT09ImZpbGU6IiYmYy5zZWFyY2goL15odHRwcz86LykhPS0xfX0sbD1udWxsLG49e3N0YWNrOltdLGFjdGl2ZUluZGV4OjAsZ2V0QWN0aXZlOmZ1bmN0aW9uKCl7cmV0dXJuIG4uc3RhY2tbbi5hY3RpdmVJbmRleF19LGdldFByZXY6ZnVuY3Rpb24oKXtyZXR1cm4gbi5zdGFja1tuLmFjdGl2ZUluZGV4LTFdfSxnZXROZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uc3RhY2tbbi5hY3RpdmVJbmRleCsKMV19LGFkZE5ldzpmdW5jdGlvbihhLGIsYyxkLGUpe24uZ2V0TmV4dCgpJiZuLmNsZWFyRm9yd2FyZCgpO24uc3RhY2sucHVzaCh7dXJsOmEsdHJhbnNpdGlvbjpiLHRpdGxlOmMscGFnZVVybDpkLHJvbGU6ZX0pO24uYWN0aXZlSW5kZXg9bi5zdGFjay5sZW5ndGgtMX0sY2xlYXJGb3J3YXJkOmZ1bmN0aW9uKCl7bi5zdGFjaz1uLnN0YWNrLnNsaWNlKDAsbi5hY3RpdmVJbmRleCsxKX0sZGlyZWN0SGFzaENoYW5nZTpmdW5jdGlvbihiKXt2YXIgZCxlLGc7dGhpcy5nZXRBY3RpdmUoKTthLmVhY2gobi5zdGFjayxmdW5jdGlvbihhLGMpe2RlY29kZVVSSUNvbXBvbmVudChiLmN1cnJlbnRVcmwpPT09ZGVjb2RlVVJJQ29tcG9uZW50KGMudXJsKSYmKGQ9YTxuLmFjdGl2ZUluZGV4LGU9IWQsZz1hKX0pO3RoaXMuYWN0aXZlSW5kZXg9ZyE9PWM/Zzp0aGlzLmFjdGl2ZUluZGV4O2Q/KGIuZWl0aGVyfHxiLmlzQmFjaykodHJ1ZSk6ZSYmKGIuZWl0aGVyfHxiLmlzRm9yd2FyZCkoZmFsc2UpfSwKaWdub3JlTmV4dEhhc2hDaGFuZ2U6ZmFsc2V9LHI9W10sbz1mYWxzZSx0PSImdWktc3RhdGU9ZGlhbG9nIix2PXAuY2hpbGRyZW4oImJhc2UiKSx4PW0ucGFyc2VMb2NhdGlvbigpLHU9di5sZW5ndGg/bS5wYXJzZVVybChtLm1ha2VVcmxBYnNvbHV0ZSh2LmF0dHIoImhyZWYiKSx4LmhyZWYpKTp4LEY9eC5ocmVmTm9IYXNoIT09dS5ocmVmTm9IYXNoLHo9YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0LHk9YS5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnP3tlbGVtZW50OnYubGVuZ3RoP3Y6YSgiPGJhc2U+Iix7aHJlZjp1LmhyZWZOb0hhc2h9KS5wcmVwZW5kVG8ocCksc2V0OmZ1bmN0aW9uKGEpe3kuZWxlbWVudC5hdHRyKCJocmVmIixtLm1ha2VVcmxBYnNvbHV0ZShhLHUpKX0scmVzZXQ6ZnVuY3Rpb24oKXt5LmVsZW1lbnQuYXR0cigiaHJlZiIsdS5ocmVmTm9IYXNoKX19OmM7YS5tb2JpbGUuYmFjaz1mdW5jdGlvbigpe3ZhciBhPXMubmF2aWdhdG9yO3RoaXMucGhvbmVnYXBOYXZpZ2F0aW9uRW5hYmxlZCYmCmEmJmEuYXBwJiZhLmFwcC5iYWNrSGlzdG9yeT9hLmFwcC5iYWNrSGlzdG9yeSgpOnMuaGlzdG9yeS5iYWNrKCl9O2EubW9iaWxlLmZvY3VzUGFnZT1mdW5jdGlvbihhKXt2YXIgYj1hLmZpbmQoIlthdXRvZm9jdXNdIiksYz1hLmZpbmQoIi51aS10aXRsZTplcSgwKSIpO2IubGVuZ3RoP2IuZm9jdXMoKTpjLmxlbmd0aD9jLmZvY3VzKCk6YS5mb2N1cygpfTt2YXIgRT10cnVlLEEsQjtBPWZ1bmN0aW9uKCl7aWYoRSl7dmFyIGI9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKTtpZihiKXt2YXIgYz1xLnNjcm9sbFRvcCgpO2IubGFzdFNjcm9sbD1jPGEubW9iaWxlLm1pblNjcm9sbEJhY2s/YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw6Y319fTtCPWZ1bmN0aW9uKCl7c2V0VGltZW91dChBLDEwMCl9O3EuYmluZChhLnN1cHBvcnQucHVzaFN0YXRlPyJwb3BzdGF0ZSI6Imhhc2hjaGFuZ2UiLGZ1bmN0aW9uKCl7RT1mYWxzZX0pO3Eub25lKGEuc3VwcG9ydC5wdXNoU3RhdGU/InBvcHN0YXRlIjoKImhhc2hjaGFuZ2UiLGZ1bmN0aW9uKCl7RT10cnVlfSk7cS5vbmUoInBhZ2Vjb250YWluZXJjcmVhdGUiLGZ1bmN0aW9uKCl7YS5tb2JpbGUucGFnZUNvbnRhaW5lci5iaW5kKCJwYWdlY2hhbmdlIixmdW5jdGlvbigpe0U9dHJ1ZTtxLnVuYmluZCgic2Nyb2xsc3RvcCIsQik7cS5iaW5kKCJzY3JvbGxzdG9wIixCKX0pfSk7cS5iaW5kKCJzY3JvbGxzdG9wIixCKTthLmZuLmFuaW1hdGlvbkNvbXBsZXRlPWZ1bmN0aW9uKGIpe3JldHVybiBhLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnM/YSh0aGlzKS5vbmUoIndlYmtpdEFuaW1hdGlvbkVuZCBhbmltYXRpb25lbmQiLGIpOihzZXRUaW1lb3V0KGIsMCksYSh0aGlzKSl9O2EubW9iaWxlLnBhdGg9bTthLm1vYmlsZS5iYXNlPXk7YS5tb2JpbGUudXJsSGlzdG9yeT1uO2EubW9iaWxlLmRpYWxvZ0hhc2hLZXk9dDthLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXM9ZmFsc2U7YS5tb2JpbGUuZ2V0RG9jdW1lbnRVcmw9ZnVuY3Rpb24oYil7cmV0dXJuIGI/CmEuZXh0ZW5kKHt9LHgpOnguaHJlZn07YS5tb2JpbGUuZ2V0RG9jdW1lbnRCYXNlPWZ1bmN0aW9uKGIpe3JldHVybiBiP2EuZXh0ZW5kKHt9LHUpOnUuaHJlZn07YS5tb2JpbGUuX2JpbmRQYWdlUmVtb3ZlPWZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTshYi5kYXRhKCJwYWdlIikub3B0aW9ucy5kb21DYWNoZSYmYi5pcygiOmpxbURhdGEoZXh0ZXJuYWwtcGFnZT0ndHJ1ZScpIikmJmIuYmluZCgicGFnZWhpZGUucmVtb3ZlIixmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksYz1uZXcgYS5FdmVudCgicGFnZXJlbW92ZSIpO2IudHJpZ2dlcihjKTtjLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxiLnJlbW92ZVdpdGhEZXBlbmRlbnRzKCl9KX07YS5tb2JpbGUubG9hZFBhZ2U9ZnVuY3Rpb24oYixkKXt2YXIgZT1hLkRlZmVycmVkKCksaD1hLmV4dGVuZCh7fSxhLm1vYmlsZS5sb2FkUGFnZS5kZWZhdWx0cyxkKSxmPW51bGwsbj1udWxsLGs9bS5tYWtlVXJsQWJzb2x1dGUoYixhLm1vYmlsZS5hY3RpdmVQYWdlJiYKaihhLm1vYmlsZS5hY3RpdmVQYWdlKXx8dS5ocmVmTm9IYXNoKTtpZihoLmRhdGEmJmgudHlwZT09PSJnZXQiKWs9bS5hZGRTZWFyY2hQYXJhbXMoayxoLmRhdGEpLGguZGF0YT1jO2lmKGguZGF0YSYmaC50eXBlPT09InBvc3QiKWgucmVsb2FkUGFnZT10cnVlO3ZhciBxPW0uZ2V0RmlsZVBhdGgoaykscD1tLmNvbnZlcnRVcmxUb0RhdGFVcmwoayk7aC5wYWdlQ29udGFpbmVyPWgucGFnZUNvbnRhaW5lcnx8YS5tb2JpbGUucGFnZUNvbnRhaW5lcjtmPWgucGFnZUNvbnRhaW5lci5jaGlsZHJlbigiW2RhdGEtIithLm1vYmlsZS5ucysidXJsPSciK3ArIiddIik7Zi5sZW5ndGg9PT0wJiZwJiYhbS5pc1BhdGgocCkmJihmPWgucGFnZUNvbnRhaW5lci5jaGlsZHJlbigiIyIrcCkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmwiLHApKTtpZihmLmxlbmd0aD09PTApaWYoYS5tb2JpbGUuZmlyc3RQYWdlJiZtLmlzRmlyc3RQYWdlVXJsKHEpKWEubW9iaWxlLmZpcnN0UGFnZS5wYXJlbnQoKS5sZW5ndGgmJgooZj1hKGEubW9iaWxlLmZpcnN0UGFnZSkpO2Vsc2UgaWYobS5pc0VtYmVkZGVkUGFnZShxKSlyZXR1cm4gZS5yZWplY3QoayxkKSxlLnByb21pc2UoKTtpZihmLmxlbmd0aCl7aWYoIWgucmVsb2FkUGFnZSlyZXR1cm4gZyhmLGgucm9sZSksZS5yZXNvbHZlKGssZCxmKSx5JiYhZC5wcmVmZXRjaCYmeS5zZXQoYiksZS5wcm9taXNlKCk7bj1mfXZhciBsPWgucGFnZUNvbnRhaW5lcix2PW5ldyBhLkV2ZW50KCJwYWdlYmVmb3JlbG9hZCIpLG89e3VybDpiLGFic1VybDprLGRhdGFVcmw6cCxkZWZlcnJlZDplLG9wdGlvbnM6aH07bC50cmlnZ2VyKHYsbyk7aWYodi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm4gZS5wcm9taXNlKCk7aWYoaC5zaG93TG9hZE1zZyl2YXIgcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKCl9LGgubG9hZE1zZ0RlbGF5KTt5JiZ0eXBlb2YgZC5wcmVmZXRjaD09PSJ1bmRlZmluZWQiJiZ5LnJlc2V0KCk7IWEubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmCiFtLmlzU2FtZURvbWFpbih4LGspP2UucmVqZWN0KGssZCk6YS5hamF4KHt1cmw6cSx0eXBlOmgudHlwZSxkYXRhOmguZGF0YSxkYXRhVHlwZToiaHRtbCIsc3VjY2VzczpmdW5jdGlvbihjLGoseCl7dmFyIGw9YSgiPGRpdj48L2Rpdj4iKSx2PWMubWF0Y2goLzx0aXRsZVtePl0qPihbXjxdKikvKSYmUmVnRXhwLiQxLHU9UmVnRXhwKCJcXGJkYXRhLSIrYS5tb2JpbGUubnMrInVybD1bXCInXT8oW15cIic+XSopW1wiJ10/Iik7UmVnRXhwKCIoPFtePl0rXFxiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPVtcIiddP3BhZ2VbXCInXT9bXj5dKj4pIikudGVzdChjKSYmUmVnRXhwLiQxJiZ1LnRlc3QoUmVnRXhwLiQxKSYmUmVnRXhwLiQxJiYoYj1xPW0uZ2V0RmlsZVBhdGgoUmVnRXhwLiQxKSk7eSYmdHlwZW9mIGQucHJlZmV0Y2g9PT0idW5kZWZpbmVkIiYmeS5zZXQocSk7bC5nZXQoMCkuaW5uZXJIVE1MPWM7Zj1sLmZpbmQoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKS5maXJzdCgpOwpmLmxlbmd0aHx8KGY9YSgiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J3BhZ2UnPiIrYy5zcGxpdCgvPFwvP2JvZHlbXj5dKj4vZ21pKVsxXSsiPC9kaXY+IikpO3YmJiFmLmpxbURhdGEoInRpdGxlIikmJih+di5pbmRleE9mKCImIikmJih2PWEoIjxkaXY+Iit2KyI8L2Rpdj4iKS50ZXh0KCkpLGYuanFtRGF0YSgidGl0bGUiLHYpKTtpZighYS5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnKXt2YXIgdD1tLmdldChxKTtmLmZpbmQoIltzcmNdLCBsaW5rW2hyZWZdLCBhW3JlbD0nZXh0ZXJuYWwnXSwgOmpxbURhdGEoYWpheD0nZmFsc2UnKSwgYVt0YXJnZXRdIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcykuaXMoIltocmVmXSIpPyJocmVmIjphKHRoaXMpLmlzKCJbc3JjXSIpPyJzcmMiOiJhY3Rpb24iLGM9YSh0aGlzKS5hdHRyKGIpLGM9Yy5yZXBsYWNlKGxvY2F0aW9uLnByb3RvY29sKyIvLyIrbG9jYXRpb24uaG9zdCtsb2NhdGlvbi5wYXRobmFtZSwiIik7L14oXHcrOnwjfFwvKS8udGVzdChjKXx8CmEodGhpcykuYXR0cihiLHQrYyl9KX1mLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidXJsIixtLmNvbnZlcnRVcmxUb0RhdGFVcmwocSkpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiZXh0ZXJuYWwtcGFnZSIsdHJ1ZSkuYXBwZW5kVG8oaC5wYWdlQ29udGFpbmVyKTtmLm9uZSgicGFnZWNyZWF0ZSIsYS5tb2JpbGUuX2JpbmRQYWdlUmVtb3ZlKTtnKGYsaC5yb2xlKTtrLmluZGV4T2YoIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkpPi0xJiYoZj1oLnBhZ2VDb250YWluZXIuY2hpbGRyZW4oIltkYXRhLSIrYS5tb2JpbGUubnMrInVybD0nIitwKyInXSIpKTtoLnNob3dMb2FkTXNnJiYoY2xlYXJUaW1lb3V0KHIpLGEubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpKTtvLnhocj14O28udGV4dFN0YXR1cz1qO28ucGFnZT1mO2gucGFnZUNvbnRhaW5lci50cmlnZ2VyKCJwYWdlbG9hZCIsbyk7ZS5yZXNvbHZlKGssZCxmLG4pfSxlcnJvcjpmdW5jdGlvbihiLGMsZyl7eSYmeS5zZXQobS5nZXQoKSk7Cm8ueGhyPWI7by50ZXh0U3RhdHVzPWM7by5lcnJvclRocm93bj1nO2I9bmV3IGEuRXZlbnQoInBhZ2Vsb2FkZmFpbGVkIik7aC5wYWdlQ29udGFpbmVyLnRyaWdnZXIoYixvKTtiLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoaC5zaG93TG9hZE1zZyYmKGNsZWFyVGltZW91dChyKSxhLm1vYmlsZS5oaWRlUGFnZUxvYWRpbmdNc2coKSxhLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coYS5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZSxhLm1vYmlsZS5wYWdlTG9hZEVycm9yTWVzc2FnZSx0cnVlKSxzZXRUaW1lb3V0KGEubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZywxNTAwKSksZS5yZWplY3QoayxkKSl9fSk7cmV0dXJuIGUucHJvbWlzZSgpfTthLm1vYmlsZS5sb2FkUGFnZS5kZWZhdWx0cz17dHlwZToiZ2V0IixkYXRhOmMscmVsb2FkUGFnZTpmYWxzZSxyb2xlOmMsc2hvd0xvYWRNc2c6ZmFsc2UscGFnZUNvbnRhaW5lcjpjLGxvYWRNc2dEZWxheTo1MH07YS5tb2JpbGUuY2hhbmdlUGFnZT0KZnVuY3Rpb24oaCxqKXtpZihvKXIudW5zaGlmdChhcmd1bWVudHMpO2Vsc2V7dmFyIGY9YS5leHRlbmQoe30sYS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cyxqKTtmLnBhZ2VDb250YWluZXI9Zi5wYWdlQ29udGFpbmVyfHxhLm1vYmlsZS5wYWdlQ29udGFpbmVyO2YuZnJvbVBhZ2U9Zi5mcm9tUGFnZXx8YS5tb2JpbGUuYWN0aXZlUGFnZTt2YXIgcT1mLnBhZ2VDb250YWluZXIscD1uZXcgYS5FdmVudCgicGFnZWJlZm9yZWNoYW5nZSIpLGw9e3RvUGFnZTpoLG9wdGlvbnM6Zn07cS50cmlnZ2VyKHAsbCk7aWYoIXAuaXNEZWZhdWx0UHJldmVudGVkKCkpaWYoaD1sLnRvUGFnZSxvPXRydWUsdHlwZW9mIGg9PSJzdHJpbmciKWEubW9iaWxlLmxvYWRQYWdlKGgsZikuZG9uZShmdW5jdGlvbihiLGMsZCxlKXtvPWZhbHNlO2MuZHVwbGljYXRlQ2FjaGVkUGFnZT1lO2EubW9iaWxlLmNoYW5nZVBhZ2UoZCxjKX0pLmZhaWwoZnVuY3Rpb24oKXtiKHRydWUpO2QoKTtmLnBhZ2VDb250YWluZXIudHJpZ2dlcigicGFnZWNoYW5nZWZhaWxlZCIsCmwpfSk7ZWxzZXtpZihoWzBdPT09YS5tb2JpbGUuZmlyc3RQYWdlWzBdJiYhZi5kYXRhVXJsKWYuZGF0YVVybD14LmhyZWZOb0hhc2g7dmFyIHA9Zi5mcm9tUGFnZSx2PWYuZGF0YVVybCYmbS5jb252ZXJ0VXJsVG9EYXRhVXJsKGYuZGF0YVVybCl8fGguanFtRGF0YSgidXJsIiksdT12O20uZ2V0RmlsZVBhdGgodik7dmFyIHc9bi5nZXRBY3RpdmUoKSx6PW4uYWN0aXZlSW5kZXg9PT0wLHM9MCx5PWsudGl0bGUsRj1mLnJvbGU9PT0iZGlhbG9nInx8aC5qcW1EYXRhKCJyb2xlIik9PT0iZGlhbG9nIjtpZihwJiZwWzBdPT09aFswXSYmIWYuYWxsb3dTYW1lUGFnZVRyYW5zaXRpb24pbz1mYWxzZSxxLnRyaWdnZXIoInBhZ2VjaGFuZ2UiLGwpLGYuZnJvbUhhc2hDaGFuZ2UmJm4uZGlyZWN0SGFzaENoYW5nZSh7Y3VycmVudFVybDp2LGlzQmFjazpmdW5jdGlvbigpe30saXNGb3J3YXJkOmZ1bmN0aW9uKCl7fX0pO2Vsc2V7ZyhoLGYucm9sZSk7Zi5mcm9tSGFzaENoYW5nZSYmbi5kaXJlY3RIYXNoQ2hhbmdlKHtjdXJyZW50VXJsOnYsCmlzQmFjazpmdW5jdGlvbigpe3M9LTF9LGlzRm9yd2FyZDpmdW5jdGlvbigpe3M9MX19KTt0cnl7ay5hY3RpdmVFbGVtZW50JiZrLmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSE9ImJvZHkiP2Eoay5hY3RpdmVFbGVtZW50KS5ibHVyKCk6YSgiaW5wdXQ6Zm9jdXMsIHRleHRhcmVhOmZvY3VzLCBzZWxlY3Q6Zm9jdXMiKS5ibHVyKCl9Y2F0Y2goQSl7fXZhciBFPWZhbHNlO2lmKEYmJncpe2lmKHcudXJsJiZ3LnVybC5pbmRleE9mKHQpPi0xJiYhYS5tb2JpbGUuYWN0aXZlUGFnZS5pcygiLnVpLWRpYWxvZyIpKWYuY2hhbmdlSGFzaD1mYWxzZSxFPXRydWU7dj0ody51cmx8fCIiKSt0O24uYWN0aXZlSW5kZXg9PT0wJiZ2PT09bi5pbml0aWFsRHN0JiYodis9dCl9aWYoZi5jaGFuZ2VIYXNoIT09ZmFsc2UmJnYpbi5pZ25vcmVOZXh0SGFzaENoYW5nZT10cnVlLG0uc2V0KHYpO3ZhciBCPSF3P3k6aC5qcW1EYXRhKCJ0aXRsZSIpfHxoLmNoaWxkcmVuKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLmZpbmQoIi51aS10aXRsZSIpLmdldEVuY29kZWRUZXh0KCk7CkImJnk9PWsudGl0bGUmJih5PUIpO2guanFtRGF0YSgidGl0bGUiKXx8aC5qcW1EYXRhKCJ0aXRsZSIseSk7Zi50cmFuc2l0aW9uPWYudHJhbnNpdGlvbnx8KHMmJiF6P3cudHJhbnNpdGlvbjpjKXx8KEY/YS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246YS5tb2JpbGUuZGVmYXVsdFBhZ2VUcmFuc2l0aW9uKTshcyYmIUUmJm4uYWRkTmV3KHYsZi50cmFuc2l0aW9uLHksdSxmLnJvbGUpO2sudGl0bGU9bi5nZXRBY3RpdmUoKS50aXRsZTthLm1vYmlsZS5hY3RpdmVQYWdlPWg7Zi5yZXZlcnNlPWYucmV2ZXJzZXx8czwwO2UoaCxwLGYudHJhbnNpdGlvbixmLnJldmVyc2UpLmRvbmUoZnVuY3Rpb24oYyxlLGcsaixrKXtiKCk7Zi5kdXBsaWNhdGVDYWNoZWRQYWdlJiZmLmR1cGxpY2F0ZUNhY2hlZFBhZ2UucmVtb3ZlKCk7a3x8YS5tb2JpbGUuZm9jdXNQYWdlKGgpO2QoKTtxLnRyaWdnZXIoInBhZ2VjaGFuZ2UiLGwpfSl9fX19O2EubW9iaWxlLmNoYW5nZVBhZ2UuZGVmYXVsdHM9Cnt0cmFuc2l0aW9uOmMscmV2ZXJzZTpmYWxzZSxjaGFuZ2VIYXNoOnRydWUsZnJvbUhhc2hDaGFuZ2U6ZmFsc2Uscm9sZTpjLGR1cGxpY2F0ZUNhY2hlZFBhZ2U6YyxwYWdlQ29udGFpbmVyOmMsc2hvd0xvYWRNc2c6dHJ1ZSxkYXRhVXJsOmMsZnJvbVBhZ2U6YyxhbGxvd1NhbWVQYWdlVHJhbnNpdGlvbjpmYWxzZX07YS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZD1hLkRlZmVycmVkKCk7YS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHM9ZnVuY3Rpb24oKXthKGspLmRlbGVnYXRlKCJmb3JtIiwic3VibWl0IixmdW5jdGlvbihiKXt2YXIgYz1hKHRoaXMpO2lmKGEubW9iaWxlLmFqYXhFbmFibGVkJiYhYy5pcygiOmpxbURhdGEoYWpheD0nZmFsc2UnKSIpJiZjLmpxbUhpamFja2FibGUoKS5sZW5ndGgpe3ZhciBkPWMuYXR0cigibWV0aG9kIiksZT1jLmF0dHIoInRhcmdldCIpLGg9Yy5hdHRyKCJhY3Rpb24iKTtpZighaCYmKGg9aihjKSxoPT09dS5ocmVmTm9IYXNoKSloPXguaHJlZk5vU2VhcmNoOwpoPW0ubWFrZVVybEFic29sdXRlKGgsaihjKSk7bS5pc0V4dGVybmFsKGgpJiYhbS5pc1Blcm1pdHRlZENyb3NzRG9tYWluUmVxdWVzdCh4LGgpfHxlfHwoYS5tb2JpbGUuY2hhbmdlUGFnZShoLHt0eXBlOmQmJmQubGVuZ3RoJiZkLnRvTG93ZXJDYXNlKCl8fCJnZXQiLGRhdGE6Yy5zZXJpYWxpemUoKSx0cmFuc2l0aW9uOmMuanFtRGF0YSgidHJhbnNpdGlvbiIpLGRpcmVjdGlvbjpjLmpxbURhdGEoImRpcmVjdGlvbiIpLHJlbG9hZFBhZ2U6dHJ1ZX0pLGIucHJldmVudERlZmF1bHQoKSl9fSk7YShrKS5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKGMpe2lmKCEoYy53aGljaD4xKSYmYS5tb2JpbGUubGlua0JpbmRpbmdFbmFibGVkJiYoYz1oKGMudGFyZ2V0KSxhKGMpLmpxbUhpamFja2FibGUoKS5sZW5ndGgmJmMmJm0ucGFyc2VVcmwoYy5nZXRBdHRyaWJ1dGUoImhyZWYiKXx8IiMiKS5oYXNoIT09IiMiKSliKHRydWUpLGw9YShjKS5jbG9zZXN0KCIudWktYnRuIikubm90KCIudWktZGlzYWJsZWQiKSwKbC5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KTthKGspLmJpbmQoImNsaWNrIixmdW5jdGlvbihkKXtpZihhLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQpe3ZhciBlPWgoZC50YXJnZXQpLGY9YShlKSxnO2lmKGUmJiEoZC53aGljaD4xKSYmZi5qcW1IaWphY2thYmxlKCkubGVuZ3RoKXtnPWZ1bmN0aW9uKCl7cy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yih0cnVlKX0sMjAwKX07aWYoZi5pcygiOmpxbURhdGEocmVsPSdiYWNrJykiKSlyZXR1cm4gYS5tb2JpbGUuYmFjaygpLGZhbHNlO3ZhciBrPWooZiksZT1tLm1ha2VVcmxBYnNvbHV0ZShmLmF0dHIoImhyZWYiKXx8IiMiLGspO2lmKCFhLm1vYmlsZS5hamF4RW5hYmxlZCYmIW0uaXNFbWJlZGRlZFBhZ2UoZSkpZygpO2Vsc2V7aWYoZS5zZWFyY2goIiMiKSE9LTEpaWYoZT1lLnJlcGxhY2UoL1teI10qIy8sIiIpKWU9bS5pc1BhdGgoZSk/bS5tYWtlVXJsQWJzb2x1dGUoZSxrKTptLm1ha2VVcmxBYnNvbHV0ZSgiIyIrCmUseC5ocmVmTm9IYXNoKTtlbHNle2QucHJldmVudERlZmF1bHQoKTtyZXR1cm59Zi5pcygiW3JlbD0nZXh0ZXJuYWwnXSIpfHxmLmlzKCI6anFtRGF0YShhamF4PSdmYWxzZScpIil8fGYuaXMoIlt0YXJnZXRdIil8fG0uaXNFeHRlcm5hbChlKSYmIW0uaXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3QoeCxlKT9nKCk6KGc9Zi5qcW1EYXRhKCJ0cmFuc2l0aW9uIiksaz0oaz1mLmpxbURhdGEoImRpcmVjdGlvbiIpKSYmaz09PSJyZXZlcnNlInx8Zi5qcW1EYXRhKCJiYWNrIiksZj1mLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicmVsIil8fGMsYS5tb2JpbGUuY2hhbmdlUGFnZShlLHt0cmFuc2l0aW9uOmcscmV2ZXJzZTprLHJvbGU6Zn0pLGQucHJldmVudERlZmF1bHQoKSl9fX19KTthKGspLmRlbGVnYXRlKCIudWktcGFnZSIsInBhZ2VzaG93LnByZWZldGNoIixmdW5jdGlvbigpe3ZhciBiPVtdO2EodGhpcykuZmluZCgiYTpqcW1EYXRhKHByZWZldGNoKSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz0KYSh0aGlzKSxkPWMuYXR0cigiaHJlZiIpO2QmJmEuaW5BcnJheShkLGIpPT09LTEmJihiLnB1c2goZCksYS5tb2JpbGUubG9hZFBhZ2UoZCx7cm9sZTpjLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicmVsIikscHJlZmV0Y2g6dHJ1ZX0pKX0pfSk7YS5tb2JpbGUuX2hhbmRsZUhhc2hDaGFuZ2U9ZnVuY3Rpb24oYil7dmFyIGQ9bS5zdHJpcEhhc2goYiksZT17dHJhbnNpdGlvbjphLm1vYmlsZS51cmxIaXN0b3J5LnN0YWNrLmxlbmd0aD09PTA/Im5vbmUiOmMsY2hhbmdlSGFzaDpmYWxzZSxmcm9tSGFzaENoYW5nZTp0cnVlfTtpZigwPT09bi5zdGFjay5sZW5ndGgpbi5pbml0aWFsRHN0PWQ7aWYoIWEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkfHxuLmlnbm9yZU5leHRIYXNoQ2hhbmdlKW4uaWdub3JlTmV4dEhhc2hDaGFuZ2U9ZmFsc2U7ZWxzZXtpZihuLnN0YWNrLmxlbmd0aD4xJiZkLmluZGV4T2YodCk+LTEmJm4uaW5pdGlhbERzdCE9PWQpaWYoYS5tb2JpbGUuYWN0aXZlUGFnZS5pcygiLnVpLWRpYWxvZyIpKW4uZGlyZWN0SGFzaENoYW5nZSh7Y3VycmVudFVybDpkLAplaXRoZXI6ZnVuY3Rpb24oYil7dmFyIGM9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKTtkPWMucGFnZVVybDthLmV4dGVuZChlLHtyb2xlOmMucm9sZSx0cmFuc2l0aW9uOmMudHJhbnNpdGlvbixyZXZlcnNlOmJ9KX19KTtlbHNle24uZGlyZWN0SGFzaENoYW5nZSh7Y3VycmVudFVybDpkLGlzQmFjazpmdW5jdGlvbigpe2EubW9iaWxlLmJhY2soKX0saXNGb3J3YXJkOmZ1bmN0aW9uKCl7cy5oaXN0b3J5LmZvcndhcmQoKX19KTtyZXR1cm59ZD8oZD10eXBlb2YgZD09PSJzdHJpbmciJiYhbS5pc1BhdGgoZCk/bS5tYWtlVXJsQWJzb2x1dGUoIiMiK2QsdSk6ZCxhLm1vYmlsZS5jaGFuZ2VQYWdlKGQsZSkpOmEubW9iaWxlLmNoYW5nZVBhZ2UoYS5tb2JpbGUuZmlyc3RQYWdlLGUpfX07cS5iaW5kKCJoYXNoY2hhbmdlIixmdW5jdGlvbigpe2EubW9iaWxlLl9oYW5kbGVIYXNoQ2hhbmdlKG0ucGFyc2VMb2NhdGlvbigpLmhhc2gpfSk7YShrKS5iaW5kKCJwYWdlc2hvdyIsZik7CmEocykuYmluZCgidGhyb3R0bGVkcmVzaXplIixmKX07YS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZC5kb25lKGZ1bmN0aW9uKCl7YS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHMoKX0pfSkobCk7KGZ1bmN0aW9uKGEsYyl7dmFyIGI9e30sZD1hKGMpLGU9YS5tb2JpbGUucGF0aC5wYXJzZUxvY2F0aW9uKCksZj1hLkRlZmVycmVkKCksZz1hLkRlZmVycmVkKCk7YShrKS5yZWFkeShhLnByb3h5KGcsInJlc29sdmUiKSk7YShrKS5vbmUoIm1vYmlsZWluaXQiLGEucHJveHkoZiwicmVzb2x2ZSIpKTthLmV4dGVuZChiLHtpbml0aWFsRmlsZVBhdGg6ZS5wYXRobmFtZStlLnNlYXJjaCxoYXNoQ2hhbmdlVGltZW91dDoyMDAsaGFzaENoYW5nZUVuYWJsZVRpbWVyOkMsaW5pdGlhbEhyZWY6ZS5ocmVmTm9IYXNoLHN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJue2hhc2g6YS5tb2JpbGUucGF0aC5wYXJzZUxvY2F0aW9uKCkuaGFzaHx8IiMiK2IuaW5pdGlhbEZpbGVQYXRoLHRpdGxlOmsudGl0bGUsCmluaXRpYWxIcmVmOmIuaW5pdGlhbEhyZWZ9fSxyZXNldFVJS2V5czpmdW5jdGlvbihiKXt2YXIgYz0iJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSxkPWIuaW5kZXhPZihhLm1vYmlsZS5kaWFsb2dIYXNoS2V5KTtkPi0xP2I9Yi5zbGljZSgwLGQpKyIjIitiLnNsaWNlKGQpOmIuaW5kZXhPZihjKT4tMSYmKGI9Yi5zcGxpdChjKS5qb2luKCIjIitjKSk7cmV0dXJuIGJ9LG5leHRIYXNoQ2hhbmdlUHJldmVudGVkOmZ1bmN0aW9uKGMpe2EubW9iaWxlLnVybEhpc3RvcnkuaWdub3JlTmV4dEhhc2hDaGFuZ2U9YztiLm9uSGFzaENoYW5nZURpc2FibGVkPWN9LG9uSGFzaENoYW5nZTpmdW5jdGlvbigpe2lmKCFiLm9uSGFzaENoYW5nZURpc2FibGVkKXt2YXIgYyxkO2M9YS5tb2JpbGUucGF0aC5wYXJzZUxvY2F0aW9uKCkuaGFzaDt2YXIgZT1hLm1vYmlsZS5wYXRoLmlzUGF0aChjKSxmPWU/YS5tb2JpbGUucGF0aC5nZXRMb2NhdGlvbigpOmEubW9iaWxlLmdldERvY3VtZW50VXJsKCk7Yz0KZT9jLnJlcGxhY2UoIiMiLCIiKTpjO2Q9Yi5zdGF0ZSgpO2M9YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoYyxmKTtlJiYoYz1iLnJlc2V0VUlLZXlzKGMpKTtoaXN0b3J5LnJlcGxhY2VTdGF0ZShkLGsudGl0bGUsYyl9fSxvblBvcFN0YXRlOmZ1bmN0aW9uKGMpe2lmKGM9Yy5vcmlnaW5hbEV2ZW50LnN0YXRlKWNsZWFyVGltZW91dChiLmhhc2hDaGFuZ2VFbmFibGVUaW1lciksYi5uZXh0SGFzaENoYW5nZVByZXZlbnRlZChmYWxzZSksYS5tb2JpbGUuX2hhbmRsZUhhc2hDaGFuZ2UoYy5oYXNoKSxiLm5leHRIYXNoQ2hhbmdlUHJldmVudGVkKHRydWUpLGIuaGFzaENoYW5nZUVuYWJsZVRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLm5leHRIYXNoQ2hhbmdlUHJldmVudGVkKGZhbHNlKX0sYi5oYXNoQ2hhbmdlVGltZW91dCl9LGluaXQ6ZnVuY3Rpb24oKXtkLmJpbmQoImhhc2hjaGFuZ2UiLGIub25IYXNoQ2hhbmdlKTtkLmJpbmQoInBvcHN0YXRlIixiLm9uUG9wU3RhdGUpOwpsb2NhdGlvbi5oYXNoPT09IiImJmhpc3RvcnkucmVwbGFjZVN0YXRlKGIuc3RhdGUoKSxrLnRpdGxlLGEubW9iaWxlLnBhdGguZ2V0TG9jYXRpb24oKSl9fSk7YS53aGVuKGcsZixhLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkKS5kb25lKGZ1bmN0aW9uKCl7YS5tb2JpbGUucHVzaFN0YXRlRW5hYmxlZCYmYS5zdXBwb3J0LnB1c2hTdGF0ZSYmYi5pbml0KCl9KX0pKGwsdGhpcyk7bC5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5wb3A9ImZhZGUiOyhmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2xpZGU9YS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzLnNpbXVsdGFuZW91czthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlPSJmYWRlIn0pKGwsdGhpcyk7bC5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZWRvd249ImZhZGUiO2wubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGV1cD0iZmFkZSI7bC5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5mbGlwPQoiZmFkZSI7bC5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5mbG93PSJmYWRlIjtsLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnR1cm49ImZhZGUiOyhmdW5jdGlvbihhKXthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmRlZ3JhZGVJbnB1dHM9e2NvbG9yOmZhbHNlLGRhdGU6ZmFsc2UsZGF0ZXRpbWU6ZmFsc2UsImRhdGV0aW1lLWxvY2FsIjpmYWxzZSxlbWFpbDpmYWxzZSxtb250aDpmYWxzZSxudW1iZXI6ZmFsc2UscmFuZ2U6Im51bWJlciIsc2VhcmNoOiJ0ZXh0Iix0ZWw6ZmFsc2UsdGltZTpmYWxzZSx1cmw6ZmFsc2Usd2VlazpmYWxzZX07YShrKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYyl7dmFyIGI9YS5tb2JpbGUuY2xvc2VzdFBhZ2VEYXRhKGEoYy50YXJnZXQpKSxkO2lmKGIpZD1iLm9wdGlvbnMsYShjLnRhcmdldCkuZmluZCgiaW5wdXQiKS5ub3QoYi5rZWVwTmF0aXZlU2VsZWN0b3IoKSkuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksCmM9dGhpcy5nZXRBdHRyaWJ1dGUoInR5cGUiKSxnPWQuZGVncmFkZUlucHV0c1tjXXx8InRleHQiO2lmKGQuZGVncmFkZUlucHV0c1tjXSl7dmFyIGg9YSgiPGRpdj4iKS5odG1sKGIuY2xvbmUoKSkuaHRtbCgpLGo9aC5pbmRleE9mKCIgdHlwZT0iKT4tMTtiLnJlcGxhY2VXaXRoKGgucmVwbGFjZShqPy9ccyt0eXBlPVsiJ10/XHcrWyciXT8vOi9cLz8+LywnIHR5cGU9IicrZysnIiBkYXRhLScrYS5tb2JpbGUubnMrJ3R5cGU9IicrYysnIicrKGo/IiI6Ij4iKSkpfX0pfSl9KShsKTsoZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS5kaWFsb2ciLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7Y2xvc2VCdG5UZXh0OiJDbG9zZSIsb3ZlcmxheVRoZW1lOiJhIixpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBjPXRoaXMsYj10aGlzLmVsZW1lbnQsZD1hKCI8YSBocmVmPScjJyBkYXRhLSIrYS5tb2JpbGUubnMrImljb249J2RlbGV0ZScgZGF0YS0iKwphLm1vYmlsZS5ucysiaWNvbnBvcz0nbm90ZXh0Jz4iK3RoaXMub3B0aW9ucy5jbG9zZUJ0blRleHQrIjwvYT4iKSxlPWEoIjxkaXYvPiIse3JvbGU6ImRpYWxvZyIsImNsYXNzIjoidWktZGlhbG9nLWNvbnRhaW4gdWktY29ybmVyLWFsbCB1aS1vdmVybGF5LXNoYWRvdyJ9KTtiLmFkZENsYXNzKCJ1aS1kaWFsb2cgdWktb3ZlcmxheS0iK3RoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUpO2Iud3JhcElubmVyKGUpLmNoaWxkcmVuKCkuZmluZCgiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKS5wcmVwZW5kKGQpLmVuZCgpLmNoaWxkcmVuKCI6Zmlyc3QtY2hpbGQiKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCIpLmVuZCgpLmNoaWxkcmVuKCI6bGFzdC1jaGlsZCIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYm90dG9tIik7ZC5iaW5kKCJjbGljayIsZnVuY3Rpb24oKXtjLmNsb3NlKCl9KTtiLmJpbmQoInZjbGljayBzdWJtaXQiLGZ1bmN0aW9uKGIpe3ZhciBiPWEoYi50YXJnZXQpLmNsb3Nlc3QoYi50eXBlPT09CiJ2Y2xpY2siPyJhIjoiZm9ybSIpLGM7Yi5sZW5ndGgmJiFiLmpxbURhdGEoInRyYW5zaXRpb24iKSYmKGM9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKXx8e30sYi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRyYW5zaXRpb24iLGMudHJhbnNpdGlvbnx8YS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb24pLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiZGlyZWN0aW9uIiwicmV2ZXJzZSIpKX0pLmJpbmQoInBhZ2VoaWRlIixmdW5jdGlvbigpe2MuX2lzQ2xvc2VkPWZhbHNlO2EodGhpcykuZmluZCgiLiIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLm5vdCgiLnVpLXNsaWRlci1iZyIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoInBhZ2ViZWZvcmVzaG93IixmdW5jdGlvbigpe2Mub3B0aW9ucy5vdmVybGF5VGhlbWUmJmMuZWxlbWVudC5wYWdlKCJyZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kIikucGFnZSgic2V0Q29udGFpbmVyQmFja2dyb3VuZCIsCmMub3B0aW9ucy5vdmVybGF5VGhlbWUpfSl9LGNsb3NlOmZ1bmN0aW9uKCl7dmFyIGM7aWYoIXRoaXMuX2lzQ2xvc2VkKXRoaXMuX2lzQ2xvc2VkPXRydWUsYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQ/YS5tb2JpbGUuYmFjaygpOihjPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0UHJldigpLnVybCxhLm1vYmlsZS5wYXRoLmlzUGF0aChjKXx8KGM9YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoIiMiK2MpKSxhLm1vYmlsZS5jaGFuZ2VQYWdlKGMse2NoYW5nZUhhc2g6ZmFsc2UsZnJvbUhhc2hDaGFuZ2U6dHJ1ZX0pKX19KTthKGspLmRlbGVnYXRlKGEubW9iaWxlLmRpYWxvZy5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsInBhZ2VjcmVhdGUiLGZ1bmN0aW9uKCl7YS5tb2JpbGUuZGlhbG9nLnByb3RvdHlwZS5lbmhhbmNlKHRoaXMpfSl9KShsLHRoaXMpOyhmdW5jdGlvbihhKXthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmJhY2tCdG5UZXh0PSJCYWNrIjsKYS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5hZGRCYWNrQnRuPWZhbHNlO2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuYmFja0J0blRoZW1lPW51bGw7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5oZWFkZXJUaGVtZT0iYSI7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5mb290ZXJUaGVtZT0iYSI7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5jb250ZW50VGhlbWU9bnVsbDthKGspLmJpbmQoInBhZ2VjcmVhdGUiLGZ1bmN0aW9uKGMpe3ZhciBiPWEoYy50YXJnZXQpLGQ9Yi5kYXRhKCJwYWdlIikub3B0aW9ucyxlPWIuanFtRGF0YSgicm9sZSIpLGY9ZC50aGVtZTthKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSwgOmpxbURhdGEocm9sZT0nZm9vdGVyJyksIDpqcW1EYXRhKHJvbGU9J2NvbnRlbnQnKSIsYikuanFtRW5oYW5jZWFibGUoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKSxoPWMuanFtRGF0YSgicm9sZSIpLApqPWMuanFtRGF0YSgidGhlbWUiKSxrPWp8fGQuY29udGVudFRoZW1lfHxlPT09ImRpYWxvZyImJmYscDtjLmFkZENsYXNzKCJ1aS0iK2gpO2lmKGg9PT0iaGVhZGVyInx8aD09PSJmb290ZXIiKXt2YXIgbT1qfHwoaD09PSJoZWFkZXIiP2QuaGVhZGVyVGhlbWU6ZC5mb290ZXJUaGVtZSl8fGY7Yy5hZGRDbGFzcygidWktYmFyLSIrbSkuYXR0cigicm9sZSIsaD09PSJoZWFkZXIiPyJiYW5uZXIiOiJjb250ZW50aW5mbyIpO2g9PT0iaGVhZGVyIiYmKGo9Yy5jaGlsZHJlbigiYSwgYnV0dG9uIikscD1qLmhhc0NsYXNzKCJ1aS1idG4tbGVmdCIpLGs9ai5oYXNDbGFzcygidWktYnRuLXJpZ2h0IikscD1wfHxqLmVxKDApLm5vdCgiLnVpLWJ0bi1yaWdodCIpLmFkZENsYXNzKCJ1aS1idG4tbGVmdCIpLmxlbmd0aCxrfHxqLmVxKDEpLmFkZENsYXNzKCJ1aS1idG4tcmlnaHQiKSk7ZC5hZGRCYWNrQnRuJiZoPT09ImhlYWRlciImJmEoIi51aS1wYWdlIikubGVuZ3RoPjEmJmIuanFtRGF0YSgidXJsIikhPT0KYS5tb2JpbGUucGF0aC5zdHJpcEhhc2gobG9jYXRpb24uaGFzaCkmJiFwJiZhKCI8YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCk7JyBjbGFzcz0ndWktYnRuLWxlZnQnIGRhdGEtIithLm1vYmlsZS5ucysicmVsPSdiYWNrJyBkYXRhLSIrYS5tb2JpbGUubnMrImljb249J2Fycm93LWwnPiIrZC5iYWNrQnRuVGV4dCsiPC9hPiIpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiLGQuYmFja0J0blRoZW1lfHxtKS5wcmVwZW5kVG8oYyk7Yy5jaGlsZHJlbigiaDEsIGgyLCBoMywgaDQsIGg1LCBoNiIpLmFkZENsYXNzKCJ1aS10aXRsZSIpLmF0dHIoe3JvbGU6ImhlYWRpbmciLCJhcmlhLWxldmVsIjoiMSJ9KX1lbHNlIGg9PT0iY29udGVudCImJihrJiZjLmFkZENsYXNzKCJ1aS1ib2R5LSIrayksYy5hdHRyKCJyb2xlIiwibWFpbiIpKX0pfSl9KShsKTsoZnVuY3Rpb24oYSl7YS5mbi5maWVsZGNvbnRhaW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGRDbGFzcygidWktZmllbGQtY29udGFpbiB1aS1ib2R5IHVpLWJyIikuY29udGVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlVHlwZT09PQozJiYhL1xTLy50ZXN0KHRoaXMubm9kZVZhbHVlKX0pLnJlbW92ZSgpfTthKGspLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihjKXthKCI6anFtRGF0YShyb2xlPSdmaWVsZGNvbnRhaW4nKSIsYy50YXJnZXQpLmpxbUVuaGFuY2VhYmxlKCkuZmllbGRjb250YWluKCl9KX0pKGwpOyhmdW5jdGlvbihhKXthLmZuLmdyaWQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksZD1hLmV4dGVuZCh7Z3JpZDpudWxsfSxjKSxlPWIuY2hpbGRyZW4oKSxmPXtzb2xvOjEsYToyLGI6MyxjOjQsZDo1fSxkPWQuZ3JpZDtpZighZClpZihlLmxlbmd0aDw9NSlmb3IodmFyIGcgaW4gZilmW2ddPT09ZS5sZW5ndGgmJihkPWcpO2Vsc2UgZD0iYSIsYi5hZGRDbGFzcygidWktZ3JpZC1kdW8iKTtmPWZbZF07Yi5hZGRDbGFzcygidWktZ3JpZC0iK2QpO2UuZmlsdGVyKCI6bnRoLWNoaWxkKCIrZisibisxKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1hIik7CmY+MSYmZS5maWx0ZXIoIjpudGgtY2hpbGQoIitmKyJuKzIpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWIiKTtmPjImJmUuZmlsdGVyKCI6bnRoLWNoaWxkKDNuKzMpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWMiKTtmPjMmJmUuZmlsdGVyKCI6bnRoLWNoaWxkKDRuKzQpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWQiKTtmPjQmJmUuZmlsdGVyKCI6bnRoLWNoaWxkKDVuKzUpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWUiKX0pfX0pKGwpOyhmdW5jdGlvbihhKXthKGspLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihjKXthKCI6anFtRGF0YShyb2xlPSdub2pzJykiLGMudGFyZ2V0KS5hZGRDbGFzcygidWktbm9qcyIpfSl9KShsKTsoZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBiKGEpe2Zvcih2YXIgYjthOyl7aWYoKGI9dHlwZW9mIGEuY2xhc3NOYW1lPT09InN0cmluZyImJmEuY2xhc3NOYW1lKyIgIikmJmIuaW5kZXhPZigidWktYnRuICIpPi0xJiZiLmluZGV4T2YoInVpLWRpc2FibGVkICIpPAowKWJyZWFrO2E9YS5wYXJlbnROb2RlfXJldHVybiBhfWEuZm4uYnV0dG9uTWFya3VwPWZ1bmN0aW9uKGIpe2Zvcih2YXIgYj1iJiZhLnR5cGUoYik9PSJvYmplY3QiP2I6e30sZj0wO2Y8dGhpcy5sZW5ndGg7ZisrKXt2YXIgZz10aGlzLmVxKGYpLGg9Z1swXSxqPWEuZXh0ZW5kKHt9LGEuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzLHtpY29uOmIuaWNvbiE9PWM/Yi5pY29uOmcuanFtRGF0YSgiaWNvbiIpLGljb25wb3M6Yi5pY29ucG9zIT09Yz9iLmljb25wb3M6Zy5qcW1EYXRhKCJpY29ucG9zIiksdGhlbWU6Yi50aGVtZSE9PWM/Yi50aGVtZTpnLmpxbURhdGEoInRoZW1lIil8fGEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGcsImMiKSxpbmxpbmU6Yi5pbmxpbmUhPT1jP2IuaW5saW5lOmcuanFtRGF0YSgiaW5saW5lIiksc2hhZG93OmIuc2hhZG93IT09Yz9iLnNoYWRvdzpnLmpxbURhdGEoInNoYWRvdyIpLGNvcm5lcnM6Yi5jb3JuZXJzIT09Yz9iLmNvcm5lcnM6Zy5qcW1EYXRhKCJjb3JuZXJzIiksCmljb25zaGFkb3c6Yi5pY29uc2hhZG93IT09Yz9iLmljb25zaGFkb3c6Zy5qcW1EYXRhKCJpY29uc2hhZG93IiksbWluaTpiLm1pbmkhPT1jP2IubWluaTpnLmpxbURhdGEoIm1pbmkiKX0sYikscT0idWktYnRuLWlubmVyIixwLG0sbCxuLHIsbzthLmVhY2goaixmdW5jdGlvbihiLGMpe2guc2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrYixjKTtnLmpxbURhdGEoYixjKX0pOyhvPWEuZGF0YShoLnRhZ05hbWU9PT0iSU5QVVQifHxoLnRhZ05hbWU9PT0iQlVUVE9OIj9oLnBhcmVudE5vZGU6aCwiYnV0dG9uRWxlbWVudHMiKSk/KGg9by5vdXRlcixnPWEoaCksbD1vLmlubmVyLG49by50ZXh0LGEoby5pY29uKS5yZW1vdmUoKSxvLmljb249bnVsbCk6KGw9ay5jcmVhdGVFbGVtZW50KGoud3JhcHBlckVscyksbj1rLmNyZWF0ZUVsZW1lbnQoai53cmFwcGVyRWxzKSk7cj1qLmljb24/ay5jcmVhdGVFbGVtZW50KCJzcGFuIik6bnVsbDtkJiYhbyYmZCgpO2lmKCFqLnRoZW1lKWoudGhlbWU9CmEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGcsImMiKTtwPSJ1aS1idG4gdWktYnRuLXVwLSIrai50aGVtZTtwKz1qLnNoYWRvdz8iIHVpLXNoYWRvdyI6IiI7cCs9ai5jb3JuZXJzPyIgdWktYnRuLWNvcm5lci1hbGwiOiIiO2oubWluaSE9PWMmJihwKz1qLm1pbmk9PT10cnVlPyIgdWktbWluaSI6IiB1aS1mdWxsc2l6ZSIpO2ouaW5saW5lIT09YyYmKHArPWouaW5saW5lPT09dHJ1ZT8iIHVpLWJ0bi1pbmxpbmUiOiIgdWktYnRuLWJsb2NrIik7aWYoai5pY29uKWouaWNvbj0idWktaWNvbi0iK2ouaWNvbixqLmljb25wb3M9ai5pY29ucG9zfHwibGVmdCIsbT0idWktaWNvbiAiK2ouaWNvbixqLmljb25zaGFkb3cmJihtKz0iIHVpLWljb24tc2hhZG93Iik7ai5pY29ucG9zJiYocCs9IiB1aS1idG4taWNvbi0iK2ouaWNvbnBvcyxqLmljb25wb3M9PSJub3RleHQiJiYhZy5hdHRyKCJ0aXRsZSIpJiZnLmF0dHIoInRpdGxlIixnLmdldEVuY29kZWRUZXh0KCkpKTtxKz1qLmNvcm5lcnM/CiIgdWktYnRuLWNvcm5lci1hbGwiOiIiO2ouaWNvbnBvcyYmai5pY29ucG9zPT09Im5vdGV4dCImJiFnLmF0dHIoInRpdGxlIikmJmcuYXR0cigidGl0bGUiLGcuZ2V0RW5jb2RlZFRleHQoKSk7byYmZy5yZW1vdmVDbGFzcyhvLmJjbHN8fCIiKTtnLnJlbW92ZUNsYXNzKCJ1aS1saW5rIikuYWRkQ2xhc3MocCk7bC5jbGFzc05hbWU9cTtuLmNsYXNzTmFtZT0idWktYnRuLXRleHQiO298fGwuYXBwZW5kQ2hpbGQobik7aWYociYmKHIuY2xhc3NOYW1lPW0sIW98fCFvLmljb24pKXIuaW5uZXJIVE1MPSImIzE2MDsiLGwuYXBwZW5kQ2hpbGQocik7Zm9yKDtoLmZpcnN0Q2hpbGQmJiFvOyluLmFwcGVuZENoaWxkKGguZmlyc3RDaGlsZCk7b3x8aC5hcHBlbmRDaGlsZChsKTtvPXtiY2xzOnAsb3V0ZXI6aCxpbm5lcjpsLHRleHQ6bixpY29uOnJ9O2EuZGF0YShoLCJidXR0b25FbGVtZW50cyIsbyk7YS5kYXRhKGwsImJ1dHRvbkVsZW1lbnRzIixvKTthLmRhdGEobiwiYnV0dG9uRWxlbWVudHMiLApvKTtyJiZhLmRhdGEociwiYnV0dG9uRWxlbWVudHMiLG8pfXJldHVybiB0aGlzfTthLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cz17Y29ybmVyczp0cnVlLHNoYWRvdzp0cnVlLGljb25zaGFkb3c6dHJ1ZSx3cmFwcGVyRWxzOiJzcGFuIn07dmFyIGQ9ZnVuY3Rpb24oKXt2YXIgYz1hLm1vYmlsZS5idXR0b25NYXJrdXAuaG92ZXJEZWxheSxmLGc7YShrKS5iaW5kKHsidm1vdXNlZG93biB2bW91c2VjYW5jZWwgdm1vdXNldXAgdm1vdXNlb3ZlciB2bW91c2VvdXQgZm9jdXMgYmx1ciBzY3JvbGxzdGFydCI6ZnVuY3Rpb24oZCl7dmFyIGosaz1hKGIoZC50YXJnZXQpKSxkPWQudHlwZTtpZihrLmxlbmd0aClpZihqPWsuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIpLGQ9PT0idm1vdXNlZG93biIpYS5zdXBwb3J0LnRvdWNoP2Y9c2V0VGltZW91dChmdW5jdGlvbigpe2sucmVtb3ZlQ2xhc3MoInVpLWJ0bi11cC0iK2opLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK2opfSxjKToKay5yZW1vdmVDbGFzcygidWktYnRuLXVwLSIraikuYWRkQ2xhc3MoInVpLWJ0bi1kb3duLSIraik7ZWxzZSBpZihkPT09InZtb3VzZWNhbmNlbCJ8fGQ9PT0idm1vdXNldXAiKWsucmVtb3ZlQ2xhc3MoInVpLWJ0bi1kb3duLSIraikuYWRkQ2xhc3MoInVpLWJ0bi11cC0iK2opO2Vsc2UgaWYoZD09PSJ2bW91c2VvdmVyInx8ZD09PSJmb2N1cyIpYS5zdXBwb3J0LnRvdWNoP2c9c2V0VGltZW91dChmdW5jdGlvbigpe2sucmVtb3ZlQ2xhc3MoInVpLWJ0bi11cC0iK2opLmFkZENsYXNzKCJ1aS1idG4taG92ZXItIitqKX0sYyk6ay5yZW1vdmVDbGFzcygidWktYnRuLXVwLSIraikuYWRkQ2xhc3MoInVpLWJ0bi1ob3Zlci0iK2opO2Vsc2UgaWYoZD09PSJ2bW91c2VvdXQifHxkPT09ImJsdXIifHxkPT09InNjcm9sbHN0YXJ0IilrLnJlbW92ZUNsYXNzKCJ1aS1idG4taG92ZXItIitqKyIgdWktYnRuLWRvd24tIitqKS5hZGRDbGFzcygidWktYnRuLXVwLSIraiksZiYmY2xlYXJUaW1lb3V0KGYpLApnJiZjbGVhclRpbWVvdXQoZyl9LCJmb2N1c2luIGZvY3VzIjpmdW5jdGlvbihjKXthKGIoYy50YXJnZXQpKS5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0sImZvY3Vzb3V0IGJsdXIiOmZ1bmN0aW9uKGMpe2EoYihjLnRhcmdldCkpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pO2Q9bnVsbH07YShrKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YSgiOmpxbURhdGEocm9sZT0nYnV0dG9uJyksIC51aS1iYXIgPiBhLCAudWktaGVhZGVyID4gYSwgLnVpLWZvb3RlciA+IGEsIC51aS1iYXIgPiA6anFtRGF0YShyb2xlPSdjb250cm9sZ3JvdXAnKSA+IGEiLGIudGFyZ2V0KS5qcW1FbmhhbmNlYWJsZSgpLm5vdCgiYnV0dG9uLCBpbnB1dCwgLnVpLWJ0biwgOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiKS5idXR0b25NYXJrdXAoKX0pfSkobCk7KGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUuY29sbGFwc2libGUiLAphLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2V4cGFuZEN1ZVRleHQ6IiBjbGljayB0byBleHBhbmQgY29udGVudHMiLGNvbGxhcHNlQ3VlVGV4dDoiIGNsaWNrIHRvIGNvbGxhcHNlIGNvbnRlbnRzIixjb2xsYXBzZWQ6dHJ1ZSxoZWFkaW5nOiJoMSxoMixoMyxoNCxoNSxoNixsZWdlbmQiLHRoZW1lOm51bGwsY29udGVudFRoZW1lOm51bGwsaWNvblRoZW1lOiJkIixtaW5pOmZhbHNlLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmVsZW1lbnQsYj10aGlzLm9wdGlvbnMsZD1jLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZSIpLGU9Yy5jaGlsZHJlbihiLmhlYWRpbmcpLmZpcnN0KCksZj1kLndyYXBJbm5lcigiPGRpdiBjbGFzcz0ndWktY29sbGFwc2libGUtY29udGVudCc+PC9kaXY+IikuZmluZCgiLnVpLWNvbGxhcHNpYmxlLWNvbnRlbnQiKSxnPWMuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JykiKS5hZGRDbGFzcygidWktY29sbGFwc2libGUtc2V0Iik7CmUuaXMoImxlZ2VuZCIpJiYoZT1hKCI8ZGl2IHJvbGU9J2hlYWRpbmcnPiIrZS5odG1sKCkrIjwvZGl2PiIpLmluc2VydEJlZm9yZShlKSxlLm5leHQoKS5yZW1vdmUoKSk7aWYoZy5sZW5ndGgpe2lmKCFiLnRoZW1lKWIudGhlbWU9Zy5qcW1EYXRhKCJ0aGVtZSIpfHxhLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShnLCJjIik7aWYoIWIuY29udGVudFRoZW1lKWIuY29udGVudFRoZW1lPWcuanFtRGF0YSgiY29udGVudC10aGVtZSIpO2lmKCFiLmljb25wb3MpYi5pY29ucG9zPWcuanFtRGF0YSgiaWNvbnBvcyIpO2lmKCFiLm1pbmkpYi5taW5pPWcuanFtRGF0YSgibWluaSIpfWYuYWRkQ2xhc3MoYi5jb250ZW50VGhlbWU/InVpLWJvZHktIitiLmNvbnRlbnRUaGVtZToiIik7ZS5pbnNlcnRCZWZvcmUoZikuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmciKS5hcHBlbmQoIjxzcGFuIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyc+PC9zcGFuPiIpLndyYXBJbm5lcigiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctdG9nZ2xlJz48L2E+IikuZmluZCgiYSIpLmZpcnN0KCkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ZmFsc2UsCmNvcm5lcnM6ZmFsc2UsaWNvbnBvczpjLmpxbURhdGEoImljb25wb3MiKXx8Yi5pY29ucG9zfHwibGVmdCIsaWNvbjoicGx1cyIsbWluaTpiLm1pbmksdGhlbWU6Yi50aGVtZX0pLmFkZCgiLnVpLWJ0bi1pbm5lciIsYykuYWRkQ2xhc3MoInVpLWNvcm5lci10b3AgdWktY29ybmVyLWJvdHRvbSIpO2QuYmluZCgiZXhwYW5kIGNvbGxhcHNlIixmdW5jdGlvbihjKXtpZighYy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7Yy5wcmV2ZW50RGVmYXVsdCgpO3ZhciBqPWEodGhpcyksYz1jLnR5cGU9PT0iY29sbGFwc2UiLGs9Yi5jb250ZW50VGhlbWU7ZS50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiLGMpLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyIpLnRleHQoYz9iLmV4cGFuZEN1ZVRleHQ6Yi5jb2xsYXBzZUN1ZVRleHQpLmVuZCgpLmZpbmQoIi51aS1pY29uIikudG9nZ2xlQ2xhc3MoInVpLWljb24tbWludXMiLCFjKS50b2dnbGVDbGFzcygidWktaWNvbi1wbHVzIiwKYykuZW5kKCkuZmluZCgiYSIpLmZpcnN0KCkucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpO2oudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbGxhcHNlZCIsYyk7Zi50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtY29udGVudC1jb2xsYXBzZWQiLGMpLmF0dHIoImFyaWEtaGlkZGVuIixjKTtpZihrJiYoIWcubGVuZ3RofHxkLmpxbURhdGEoImNvbGxhcHNpYmxlLWxhc3QiKSkpZS5maW5kKCJhIikuZmlyc3QoKS5hZGQoZS5maW5kKCIudWktYnRuLWlubmVyIikpLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYm90dG9tIixjKSxmLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYm90dG9tIiwhYyk7Zi50cmlnZ2VyKCJ1cGRhdGVsYXlvdXQiKX19KS50cmlnZ2VyKGIuY29sbGFwc2VkPyJjb2xsYXBzZSI6ImV4cGFuZCIpO2UuYmluZCgidGFwIixmdW5jdGlvbigpe2UuZmluZCgiYSIpLmZpcnN0KCkuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2xpY2siLApmdW5jdGlvbihhKXt2YXIgYj1lLmlzKCIudWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiKT8iZXhwYW5kIjoiY29sbGFwc2UiO2QudHJpZ2dlcihiKTthLnByZXZlbnREZWZhdWx0KCk7YS5zdG9wUHJvcGFnYXRpb24oKX0pfX0pO2EoaykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGMpe2EubW9iaWxlLmNvbGxhcHNpYmxlLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGMudGFyZ2V0KX0pfSkobCk7KGZ1bmN0aW9uKGEsYyl7YS53aWRnZXQoIm1vYmlsZS5jb2xsYXBzaWJsZXNldCIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktY29sbGFwc2libGUtc2V0IiksZD10aGlzLm9wdGlvbnM7aWYoIWQudGhlbWUpZC50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShiLCJjIik7CmlmKCFkLmNvbnRlbnRUaGVtZSlkLmNvbnRlbnRUaGVtZT1iLmpxbURhdGEoImNvbnRlbnQtdGhlbWUiKTtpZighZC5jb3JuZXJzKWQuY29ybmVycz1iLmpxbURhdGEoImNvcm5lcnMiKT09PWM/dHJ1ZTpmYWxzZTtiLmpxbURhdGEoImNvbGxhcHNpYmxlYm91bmQiKXx8Yi5qcW1EYXRhKCJjb2xsYXBzaWJsZWJvdW5kIix0cnVlKS5iaW5kKCJleHBhbmQgY29sbGFwc2UiLGZ1bmN0aW9uKGIpe3ZhciBjPWIudHlwZT09PSJjb2xsYXBzZSIsYj1hKGIudGFyZ2V0KS5jbG9zZXN0KCIudWktY29sbGFwc2libGUiKTtiLmRhdGEoImNvbGxhcHNpYmxlIikub3B0aW9ucy5jb250ZW50VGhlbWUmJmIuanFtRGF0YSgiY29sbGFwc2libGUtbGFzdCIpJiYoYi5maW5kKCIudWktY29sbGFwc2libGUtaGVhZGluZyIpLmZpcnN0KCkuZmluZCgiYSIpLmZpcnN0KCkudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iLGMpLmZpbmQoIi51aS1idG4taW5uZXIiKS50b2dnbGVDbGFzcygidWktY29ybmVyLWJvdHRvbSIsCmMpLGIuZmluZCgiLnVpLWNvbGxhcHNpYmxlLWNvbnRlbnQiKS50b2dnbGVDbGFzcygidWktY29ybmVyLWJvdHRvbSIsIWMpKX0pLmJpbmQoImV4cGFuZCIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuY2xvc2VzdCgiLnVpLWNvbGxhcHNpYmxlIikuc2libGluZ3MoIi51aS1jb2xsYXBzaWJsZSIpLnRyaWdnZXIoImNvbGxhcHNlIil9KX0sX2luaXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucyxjPXRoaXMuZWxlbWVudC5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUnKSIpO2EubW9iaWxlLmNvbGxhcHNpYmxlLnByb3RvdHlwZS5lbmhhbmNlKGMubm90KCIudWktY29sbGFwc2libGUiKSk7Yy5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5qcW1SZW1vdmVEYXRhKCJjb2xsYXBzaWJsZS1sYXN0IikuZmluZCgiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmciKS5maW5kKCJhIikuZmlyc3QoKS5yZW1vdmVDbGFzcygidWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIikuZmluZCgiLnVpLWJ0bi1pbm5lciIpLnJlbW92ZUNsYXNzKCJ1aS1jb3JuZXItdG9wIHVpLWNvcm5lci1ib3R0b20iKX0pOwpjLmZpcnN0KCkuZmluZCgiYSIpLmZpcnN0KCkuYWRkQ2xhc3MoYi5jb3JuZXJzPyJ1aS1jb3JuZXItdG9wIjoiIikuZmluZCgiLnVpLWJ0bi1pbm5lciIpLmFkZENsYXNzKCJ1aS1jb3JuZXItdG9wIik7Yy5sYXN0KCkuanFtRGF0YSgiY29sbGFwc2libGUtbGFzdCIsdHJ1ZSkuZmluZCgiYSIpLmZpcnN0KCkuYWRkQ2xhc3MoYi5jb3JuZXJzPyJ1aS1jb3JuZXItYm90dG9tIjoiIikuZmluZCgiLnVpLWJ0bi1pbm5lciIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYm90dG9tIil9fSk7YShrKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUuY29sbGFwc2libGVzZXQucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KShsKTsoZnVuY3Rpb24oYSxjKXthLndpZGdldCgibW9iaWxlLm5hdmJhciIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntpY29ucG9zOiJ0b3AiLGdyaWQ6bnVsbCxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J25hdmJhcicpIn0sCl9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsZD1iLmZpbmQoImEiKSxlPWQuZmlsdGVyKCI6anFtRGF0YShpY29uKSIpLmxlbmd0aD90aGlzLm9wdGlvbnMuaWNvbnBvczpjO2IuYWRkQ2xhc3MoInVpLW5hdmJhciB1aS1taW5pIikuYXR0cigicm9sZSIsIm5hdmlnYXRpb24iKS5maW5kKCJ1bCIpLmpxbUVuaGFuY2VhYmxlKCkuZ3JpZCh7Z3JpZDp0aGlzLm9wdGlvbnMuZ3JpZH0pO2QuYnV0dG9uTWFya3VwKHtjb3JuZXJzOmZhbHNlLHNoYWRvdzpmYWxzZSxpbmxpbmU6dHJ1ZSxpY29ucG9zOmV9KTtiLmRlbGVnYXRlKCJhIiwidmNsaWNrIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5oYXNDbGFzcygidWktZGlzYWJsZWQiKXx8KGQucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLGEodGhpcykuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpKX0pO2IuY2xvc2VzdCgiLnVpLXBhZ2UiKS5iaW5kKCJwYWdlYmVmb3Jlc2hvdyIsZnVuY3Rpb24oKXtkLmZpbHRlcigiLnVpLXN0YXRlLXBlcnNpc3QiKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KX19KTsKYShrKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUubmF2YmFyLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0KX0pfSkobCk7KGZ1bmN0aW9uKGEpe3ZhciBjPXt9O2Eud2lkZ2V0KCJtb2JpbGUubGlzdHZpZXciLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxjb3VudFRoZW1lOiJjIixoZWFkZXJUaGVtZToiYiIsZGl2aWRlclRoZW1lOiJiIixzcGxpdEljb246ImFycm93LXIiLHNwbGl0VGhlbWU6ImIiLGluc2V0OmZhbHNlLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nbGlzdHZpZXcnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYT0iIjthKz10aGlzLm9wdGlvbnMuaW5zZXQ/IiB1aS1saXN0dmlldy1pbnNldCB1aS1jb3JuZXItYWxsIHVpLXNoYWRvdyAiOiIiO3RoaXMuZWxlbWVudC5hZGRDbGFzcyhmdW5jdGlvbihjLGUpe3JldHVybiBlKyIgdWktbGlzdHZpZXcgIithfSk7dGhpcy5yZWZyZXNoKHRydWUpfSwKX3JlbW92ZUNvcm5lcnM6ZnVuY3Rpb24oYSxjKXthPWEuYWRkKGEuZmluZCgiLnVpLWJ0bi1pbm5lciwgLnVpLWxpLWxpbmstYWx0LCAudWktbGktdGh1bWIiKSk7Yz09PSJ0b3AiP2EucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci10b3AgdWktY29ybmVyLXRyIHVpLWNvcm5lci10bCIpOmM9PT0iYm90dG9tIj9hLnJlbW92ZUNsYXNzKCJ1aS1jb3JuZXItYm90dG9tIHVpLWNvcm5lci1iciB1aS1jb3JuZXItYmwiKTphLnJlbW92ZUNsYXNzKCJ1aS1jb3JuZXItdG9wIHVpLWNvcm5lci10ciB1aS1jb3JuZXItdGwgdWktY29ybmVyLWJvdHRvbSB1aS1jb3JuZXItYnIgdWktY29ybmVyLWJsIil9LF9yZWZyZXNoQ29ybmVyczpmdW5jdGlvbihhKXt2YXIgYyxlO2M9dGhpcy5lbGVtZW50LmNoaWxkcmVuKCJsaSIpO2U9YT9jLm5vdCgiLnVpLXNjcmVlbi1oaWRkZW4iKTpjLmZpbHRlcigiOnZpc2libGUiKTtjLmZpbHRlcigiLnVpLWxpLWxhc3QiKS5yZW1vdmVDbGFzcygidWktbGktbGFzdCIpOwp0aGlzLm9wdGlvbnMuaW5zZXQ/KHRoaXMuX3JlbW92ZUNvcm5lcnMoYyksYz1lLmZpcnN0KCkuYWRkQ2xhc3MoInVpLWNvcm5lci10b3AiKSxjLmFkZChjLmZpbmQoIi51aS1idG4taW5uZXIiKS5ub3QoIi51aS1saS1saW5rLWFsdCBzcGFuOmZpcnN0LWNoaWxkIikpLmFkZENsYXNzKCJ1aS1jb3JuZXItdG9wIikuZW5kKCkuZmluZCgiLnVpLWxpLWxpbmstYWx0LCAudWktbGktbGluay1hbHQgc3BhbjpmaXJzdC1jaGlsZCIpLmFkZENsYXNzKCJ1aS1jb3JuZXItdHIiKS5lbmQoKS5maW5kKCIudWktbGktdGh1bWIiKS5ub3QoIi51aS1saS1pY29uIikuYWRkQ2xhc3MoInVpLWNvcm5lci10bCIpLGU9ZS5sYXN0KCkuYWRkQ2xhc3MoInVpLWNvcm5lci1ib3R0b20gdWktbGktbGFzdCIpLGUuYWRkKGUuZmluZCgiLnVpLWJ0bi1pbm5lciIpKS5maW5kKCIudWktbGktbGluay1hbHQiKS5hZGRDbGFzcygidWktY29ybmVyLWJyIikuZW5kKCkuZmluZCgiLnVpLWxpLXRodW1iIikubm90KCIudWktbGktaWNvbiIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYmwiKSk6CmUubGFzdCgpLmFkZENsYXNzKCJ1aS1saS1sYXN0Iik7YXx8dGhpcy5lbGVtZW50LnRyaWdnZXIoInVwZGF0ZWxheW91dCIpfSxfZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZTpmdW5jdGlvbihhLGMsZSxmKXt2YXIgZz17fTtmb3IoZ1tlXT1nW2ZdPXRydWU7YTspe2lmKGdbYS5ub2RlTmFtZV0pcmV0dXJuIGE7YT1hW2NdfXJldHVybiBudWxsfSxfZ2V0Q2hpbGRyZW5CeVRhZ05hbWU6ZnVuY3Rpb24oYixjLGUpe3ZhciBmPVtdLGc9e307Z1tjXT1nW2VdPXRydWU7Zm9yKGI9Yi5maXJzdENoaWxkO2I7KWdbYi5ub2RlTmFtZV0mJmYucHVzaChiKSxiPWIubmV4dFNpYmxpbmc7cmV0dXJuIGEoZil9LF9hZGRUaHVtYkNsYXNzZXM6ZnVuY3Rpb24oYil7dmFyIGMsZSxmPWIubGVuZ3RoO2ZvcihjPTA7YzxmO2MrKyllPWEodGhpcy5fZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZShiW2NdLmZpcnN0Q2hpbGQsIm5leHRTaWJsaW5nIiwiaW1nIiwiSU1HIikpLGUubGVuZ3RoJiYoZS5hZGRDbGFzcygidWktbGktdGh1bWIiKSwKYSh0aGlzLl9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lKGVbMF0ucGFyZW50Tm9kZSwicGFyZW50Tm9kZSIsImxpIiwiTEkiKSkuYWRkQ2xhc3MoZS5pcygiLnVpLWxpLWljb24iKT8idWktbGktaGFzLWljb24iOiJ1aS1saS1oYXMtdGh1bWIiKSl9LHJlZnJlc2g6ZnVuY3Rpb24oYil7dGhpcy5wYXJlbnRQYWdlPXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpO3RoaXMuX2NyZWF0ZVN1YlBhZ2VzKCk7dmFyIGM9dGhpcy5vcHRpb25zLGU9dGhpcy5lbGVtZW50LGY9ZS5qcW1EYXRhKCJkaXZpZGVydGhlbWUiKXx8Yy5kaXZpZGVyVGhlbWUsZz1lLmpxbURhdGEoInNwbGl0dGhlbWUiKSxoPWUuanFtRGF0YSgic3BsaXRpY29uIiksaj10aGlzLl9nZXRDaGlsZHJlbkJ5VGFnTmFtZShlWzBdLCJsaSIsIkxJIiksbD0hIWEubm9kZU5hbWUoZVswXSwib2wiKSxwPSFhLnN1cHBvcnQuY3NzUHNldWRvRWxlbWVudCxtPWUuYXR0cigic3RhcnQiKSx3PXt9LG4scixvLHQsdix4LHUsCnM7bCYmcCYmZS5maW5kKCIudWktbGktZGVjIikucmVtb3ZlKCk7bCYmKG18fG09PT0wP3A/eD1wYXJzZUZsb2F0KG0pOihuPXBhcnNlRmxvYXQobSktMSxlLmNzcygiY291bnRlci1yZXNldCIsImxpc3RudW1iZXJpbmcgIituKSk6cCYmKHg9MSkpO2lmKCFjLnRoZW1lKWMudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIik7Zm9yKHZhciB6PTAseT1qLmxlbmd0aDt6PHk7eisrKXtuPWouZXEoeik7cj0idWktbGkiO2lmKGJ8fCFuLmhhc0NsYXNzKCJ1aS1saSIpKW89bi5qcW1EYXRhKCJ0aGVtZSIpfHxjLnRoZW1lLHQ9dGhpcy5fZ2V0Q2hpbGRyZW5CeVRhZ05hbWUoblswXSwiYSIsIkEiKSx1PW4uanFtRGF0YSgicm9sZSIpPT09Imxpc3QtZGl2aWRlciIsdC5sZW5ndGgmJiF1Pyh1PW4uanFtRGF0YSgiaWNvbiIpLG4uYnV0dG9uTWFya3VwKHt3cmFwcGVyRWxzOiJkaXYiLHNoYWRvdzpmYWxzZSxjb3JuZXJzOmZhbHNlLGljb25wb3M6InJpZ2h0IiwKaWNvbjp0Lmxlbmd0aD4xfHx1PT09ZmFsc2U/ZmFsc2U6dXx8ImFycm93LXIiLHRoZW1lOm99KSx1IT1mYWxzZSYmdC5sZW5ndGg9PTEmJm4uYWRkQ2xhc3MoInVpLWxpLWhhcy1hcnJvdyIpLHQuZmlyc3QoKS5yZW1vdmVDbGFzcygidWktbGluayIpLmFkZENsYXNzKCJ1aS1saW5rLWluaGVyaXQiKSx0Lmxlbmd0aD4xJiYocis9IiB1aS1saS1oYXMtYWx0Iix0PXQubGFzdCgpLHY9Z3x8dC5qcW1EYXRhKCJ0aGVtZSIpfHxjLnNwbGl0VGhlbWUscz10LmpxbURhdGEoImljb24iKSx0LmFwcGVuZFRvKG4pLmF0dHIoInRpdGxlIix0LmdldEVuY29kZWRUZXh0KCkpLmFkZENsYXNzKCJ1aS1saS1saW5rLWFsdCIpLmVtcHR5KCkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ZmFsc2UsY29ybmVyczpmYWxzZSx0aGVtZTpvLGljb246ZmFsc2UsaWNvbnBvczoibm90ZXh0In0pLmZpbmQoIi51aS1idG4taW5uZXIiKS5hcHBlbmQoYShrLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSkuYnV0dG9uTWFya3VwKHtzaGFkb3c6dHJ1ZSwKY29ybmVyczp0cnVlLHRoZW1lOnYsaWNvbnBvczoibm90ZXh0IixpY29uOnN8fHV8fGh8fGMuc3BsaXRJY29ufSkpKSk6dT8ocis9IiB1aS1saS1kaXZpZGVyIHVpLWJhci0iK2Ysbi5hdHRyKCJyb2xlIiwiaGVhZGluZyIpLGwmJihtfHxtPT09MD9wP3g9cGFyc2VGbG9hdChtKToobz1wYXJzZUZsb2F0KG0pLTEsbi5jc3MoImNvdW50ZXItcmVzZXQiLCJsaXN0bnVtYmVyaW5nICIrbykpOnAmJih4PTEpKSk6cis9IiB1aS1saS1zdGF0aWMgdWktYm9keS0iK287bCYmcCYmci5pbmRleE9mKCJ1aS1saS1kaXZpZGVyIik8MCYmKG89ci5pbmRleE9mKCJ1aS1saS1zdGF0aWMiKT4wP246bi5maW5kKCIudWktbGluay1pbmhlcml0Iiksby5hZGRDbGFzcygidWktbGktanNudW1iZXJpbmciKS5wcmVwZW5kKCI8c3BhbiBjbGFzcz0ndWktbGktZGVjJz4iK3grKyArIi4gPC9zcGFuPiIpKTt3W3JdfHwod1tyXT1bXSk7d1tyXS5wdXNoKG5bMF0pfWZvcihyIGluIHcpYSh3W3JdKS5hZGRDbGFzcyhyKS5jaGlsZHJlbigiLnVpLWJ0bi1pbm5lciIpLmFkZENsYXNzKHIpOwplLmZpbmQoImgxLCBoMiwgaDMsIGg0LCBoNSwgaDYiKS5hZGRDbGFzcygidWktbGktaGVhZGluZyIpLmVuZCgpLmZpbmQoInAsIGRsIikuYWRkQ2xhc3MoInVpLWxpLWRlc2MiKS5lbmQoKS5maW5kKCIudWktbGktYXNpZGUiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtiLnByZXBlbmRUbyhiLnBhcmVudCgpKX0pLmVuZCgpLmZpbmQoIi51aS1saS1jb3VudCIpLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmNsb3Nlc3QoImxpIikuYWRkQ2xhc3MoInVpLWxpLWhhcy1jb3VudCIpfSkuYWRkQ2xhc3MoInVpLWJ0bi11cC0iKyhlLmpxbURhdGEoImNvdW50dGhlbWUiKXx8dGhpcy5vcHRpb25zLmNvdW50VGhlbWUpKyIgdWktYnRuLWNvcm5lci1hbGwiKTt0aGlzLl9hZGRUaHVtYkNsYXNzZXMoaik7dGhpcy5fYWRkVGh1bWJDbGFzc2VzKGUuZmluZCgiLnVpLWxpbmstaW5oZXJpdCIpKTt0aGlzLl9yZWZyZXNoQ29ybmVycyhiKX0sX2lkU3RyaW5nRXNjYXBlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLAoiLSIpfSxfY3JlYXRlU3ViUGFnZXM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsZD1iLmNsb3Nlc3QoIi51aS1wYWdlIiksZT1kLmpxbURhdGEoInVybCIpLGY9ZXx8ZFswXVthLmV4cGFuZG9dLGc9Yi5hdHRyKCJpZCIpLGg9dGhpcy5vcHRpb25zLGo9ImRhdGEtIithLm1vYmlsZS5ucyxrPXRoaXMsbD1kLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIikuanFtRGF0YSgiaWQiKSxtO3R5cGVvZiBjW2ZdPT09InVuZGVmaW5lZCImJihjW2ZdPS0xKTtnPWd8fCsrY1tmXTthKGIuZmluZCgibGk+dWwsIGxpPm9sIikudG9BcnJheSgpLnJldmVyc2UoKSkuZWFjaChmdW5jdGlvbihjKXt2YXIgZD1hKHRoaXMpLGY9ZC5hdHRyKCJpZCIpfHxnKyItIitjLGM9ZC5wYXJlbnQoKSxrPWEoZC5wcmV2QWxsKCkudG9BcnJheSgpLnJldmVyc2UoKSksaz1rLmxlbmd0aD9rOmEoIjxzcGFuPiIrYS50cmltKGMuY29udGVudHMoKVswXS5ub2RlVmFsdWUpKyI8L3NwYW4+IikscT1rLmZpcnN0KCkuZ2V0RW5jb2RlZFRleHQoKSwKZj0oZXx8IiIpKyImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KyI9IitmLHY9ZC5qcW1EYXRhKCJ0aGVtZSIpfHxoLnRoZW1lLHg9ZC5qcW1EYXRhKCJjb3VudHRoZW1lIil8fGIuanFtRGF0YSgiY291bnR0aGVtZSIpfHxoLmNvdW50VGhlbWU7bT10cnVlO2QuZGV0YWNoKCkud3JhcCgiPGRpdiAiK2orInJvbGU9J3BhZ2UnICIraisidXJsPSciK2YrIicgIitqKyJ0aGVtZT0nIit2KyInICIraisiY291bnQtdGhlbWU9JyIreCsiJz48ZGl2ICIraisicm9sZT0nY29udGVudCc+PC9kaXY+PC9kaXY+IikucGFyZW50KCkuYmVmb3JlKCI8ZGl2ICIraisicm9sZT0naGVhZGVyJyAiK2orInRoZW1lPSciK2guaGVhZGVyVGhlbWUrIic+PGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrcSsiPC9kaXY+PC9kaXY+IikuYWZ0ZXIobD9hKCI8ZGl2ICIraisicm9sZT0nZm9vdGVyJyAiK2orImlkPSciK2wrIic+Iik6IiIpLnBhcmVudCgpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLnBhZ2UoKTsKZD1jLmZpbmQoImE6Zmlyc3QiKTtkLmxlbmd0aHx8KGQ9YSgiPGEvPiIpLmh0bWwoa3x8cSkucHJlcGVuZFRvKGMuZW1wdHkoKSkpO2QuYXR0cigiaHJlZiIsIiMiK2YpfSkubGlzdHZpZXcoKTttJiZkLmlzKCI6anFtRGF0YShleHRlcm5hbC1wYWdlPSd0cnVlJykiKSYmZC5kYXRhKCJwYWdlIikub3B0aW9ucy5kb21DYWNoZT09PWZhbHNlJiZkLnVuYmluZCgicGFnZWhpZGUucmVtb3ZlIikuYmluZCgicGFnZWhpZGUucmVtb3ZlIixmdW5jdGlvbihiLGMpe3ZhciBmPWMubmV4dFBhZ2UsZz1uZXcgYS5FdmVudCgicGFnZXJlbW92ZSIpO2MubmV4dFBhZ2UmJihmPWYuanFtRGF0YSgidXJsIiksZi5pbmRleE9mKGUrIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkpIT09MCYmKGsuY2hpbGRQYWdlcygpLnJlbW92ZSgpLGQudHJpZ2dlcihnKSxnLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxkLnJlbW92ZVdpdGhEZXBlbmRlbnRzKCkpKX0pfSxjaGlsZFBhZ2VzOmZ1bmN0aW9uKCl7dmFyIGI9CnRoaXMucGFyZW50UGFnZS5qcW1EYXRhKCJ1cmwiKTtyZXR1cm4gYSgiOmpxbURhdGEodXJsXj0nIitiKyImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KyInKSIpfX0pO2EoaykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0KX0pfSkobCk7KGZ1bmN0aW9uKGEsYyl7YS53aWRnZXQoIm1vYmlsZS5jaGVja2JveHJhZGlvIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsbWluaTpmYWxzZSxpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J2NoZWNrYm94J10saW5wdXRbdHlwZT0ncmFkaW8nXSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGQ9dGhpcy5lbGVtZW50LGU9dGhpcy5vcHRpb25zLGY9YShkKS5jbG9zZXN0KCJsYWJlbCIpLGc9Zi5sZW5ndGg/ZjphKGQpLmNsb3Nlc3QoImZvcm0sZmllbGRzZXQsOmpxbURhdGEocm9sZT0ncGFnZScpLDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikuZmluZCgibGFiZWwiKS5maWx0ZXIoIltmb3I9JyIrCmRbMF0uaWQrIiddIiksaD1kWzBdLnR5cGUsZj1kLmpxbURhdGEoIm1pbmkiKXx8ZC5jbG9zZXN0KCJmb3JtLGZpZWxkc2V0IikuanFtRGF0YSgibWluaSIpfHxlLm1pbmksaj1oKyItb24iLGw9aCsiLW9mZiIscD1kLnBhcmVudHMoIjpqcW1EYXRhKHR5cGU9J2hvcml6b250YWwnKSIpLmxlbmd0aD9jOmwsbT1kLmpxbURhdGEoImljb25wb3MiKXx8ZC5jbG9zZXN0KCJmb3JtLGZpZWxkc2V0IikuanFtRGF0YSgiaWNvbnBvcyIpO2lmKCEoaCE9PSJjaGVja2JveCImJmghPT0icmFkaW8iKSl7YS5leHRlbmQodGhpcyx7bGFiZWw6ZyxpbnB1dHR5cGU6aCxjaGVja2VkQ2xhc3M6InVpLSIraisocD8iIjoiICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLHVuY2hlY2tlZENsYXNzOiJ1aS0iK2wsY2hlY2tlZGljb246InVpLWljb24tIitqLHVuY2hlY2tlZGljb246InVpLWljb24tIitsfSk7aWYoIWUudGhlbWUpZS50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQsCiJjIik7Zy5idXR0b25NYXJrdXAoe3RoZW1lOmUudGhlbWUsaWNvbjpwLHNoYWRvdzpmYWxzZSxtaW5pOmYsaWNvbnBvczptfSk7ZT1rLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2UuY2xhc3NOYW1lPSJ1aS0iK2g7ZC5hZGQoZykud3JhcEFsbChlKTtnLmJpbmQoe3Ztb3VzZW92ZXI6ZnVuY3Rpb24oYil7YSh0aGlzKS5wYXJlbnQoKS5pcygiLnVpLWRpc2FibGVkIikmJmIuc3RvcFByb3BhZ2F0aW9uKCl9LHZjbGljazpmdW5jdGlvbihhKXtpZihkLmlzKCI6ZGlzYWJsZWQiKSlhLnByZXZlbnREZWZhdWx0KCk7ZWxzZSByZXR1cm4gYi5fY2FjaGVWYWxzKCksZC5wcm9wKCJjaGVja2VkIixoPT09InJhZGlvIiYmdHJ1ZXx8IWQucHJvcCgiY2hlY2tlZCIpKSxkLnRyaWdnZXJIYW5kbGVyKCJjbGljayIpLGIuX2dldElucHV0U2V0KCkubm90KGQpLnByb3AoImNoZWNrZWQiLGZhbHNlKSxiLl91cGRhdGVBbGwoKSxmYWxzZX19KTtkLmJpbmQoe3Ztb3VzZWRvd246ZnVuY3Rpb24oKXtiLl9jYWNoZVZhbHMoKX0sCnZjbGljazpmdW5jdGlvbigpe3ZhciBjPWEodGhpcyk7Yy5pcygiOmNoZWNrZWQiKT8oYy5wcm9wKCJjaGVja2VkIix0cnVlKSxiLl9nZXRJbnB1dFNldCgpLm5vdChjKS5wcm9wKCJjaGVja2VkIixmYWxzZSkpOmMucHJvcCgiY2hlY2tlZCIsZmFsc2UpO2IuX3VwZGF0ZUFsbCgpfSxmb2N1czpmdW5jdGlvbigpe2cuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXtnLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pO3RoaXMucmVmcmVzaCgpfX0sX2NhY2hlVmFsczpmdW5jdGlvbigpe3RoaXMuX2dldElucHV0U2V0KCkuZWFjaChmdW5jdGlvbigpe2EodGhpcykuanFtRGF0YSgiY2FjaGVWYWwiLHRoaXMuY2hlY2tlZCl9KX0sX2dldElucHV0U2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5wdXR0eXBlPT09ImNoZWNrYm94Ij90aGlzLmVsZW1lbnQ6dGhpcy5lbGVtZW50LmNsb3Nlc3QoImZvcm0sZmllbGRzZXQsOmpxbURhdGEocm9sZT0ncGFnZScpIikuZmluZCgiaW5wdXRbbmFtZT0nIisKdGhpcy5lbGVtZW50WzBdLm5hbWUrIiddW3R5cGU9JyIrdGhpcy5pbnB1dHR5cGUrIiddIil9LF91cGRhdGVBbGw6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMuX2dldElucHV0U2V0KCkuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyk7KHRoaXMuY2hlY2tlZHx8Yi5pbnB1dHR5cGU9PT0iY2hlY2tib3giKSYmYy50cmlnZ2VyKCJjaGFuZ2UiKX0pLmNoZWNrYm94cmFkaW8oInJlZnJlc2giKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudFswXSxjPXRoaXMubGFiZWwsZT1jLmZpbmQoIi51aS1pY29uIik7YS5jaGVja2VkPyhjLmFkZENsYXNzKHRoaXMuY2hlY2tlZENsYXNzKS5yZW1vdmVDbGFzcyh0aGlzLnVuY2hlY2tlZENsYXNzKSxlLmFkZENsYXNzKHRoaXMuY2hlY2tlZGljb24pLnJlbW92ZUNsYXNzKHRoaXMudW5jaGVja2VkaWNvbikpOihjLnJlbW92ZUNsYXNzKHRoaXMuY2hlY2tlZENsYXNzKS5hZGRDbGFzcyh0aGlzLnVuY2hlY2tlZENsYXNzKSwKZS5yZW1vdmVDbGFzcyh0aGlzLmNoZWNrZWRpY29uKS5hZGRDbGFzcyh0aGlzLnVuY2hlY2tlZGljb24pKTthLmRpc2FibGVkP3RoaXMuZGlzYWJsZSgpOnRoaXMuZW5hYmxlKCl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLHRydWUpLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLGZhbHNlKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKX19KTthKGspLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5jaGVja2JveHJhZGlvLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0LHRydWUpfSl9KShsKTsoZnVuY3Rpb24oYSxjKXthLndpZGdldCgibW9iaWxlLmJ1dHRvbiIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGljb246bnVsbCxpY29ucG9zOm51bGwsY29ybmVyczp0cnVlLApzaGFkb3c6dHJ1ZSxpY29uc2hhZG93OnRydWUsaW5pdFNlbGVjdG9yOiJidXR0b24sIFt0eXBlPSdidXR0b24nXSwgW3R5cGU9J3N1Ym1pdCddLCBbdHlwZT0ncmVzZXQnXSwgW3R5cGU9J2ltYWdlJ10ifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGQsZT10aGlzLm9wdGlvbnMsZjtmPWUuaW5saW5lfHxiLmpxbURhdGEoImlubGluZSIpO3ZhciBnPWUubWluaXx8Yi5qcW1EYXRhKCJtaW5pIiksaD0iIixqO2lmKGJbMF0udGFnTmFtZT09PSJBIikhYi5oYXNDbGFzcygidWktYnRuIikmJmIuYnV0dG9uTWFya3VwKCk7ZWxzZXtpZighdGhpcy5vcHRpb25zLnRoZW1lKXRoaXMub3B0aW9ucy50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQsImMiKTt+YlswXS5jbGFzc05hbWUuaW5kZXhPZigidWktYnRuLWxlZnQiKSYmKGg9InVpLWJ0bi1sZWZ0Iik7fmJbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1yaWdodCIpJiYoaD0KInVpLWJ0bi1yaWdodCIpO2lmKGIuYXR0cigidHlwZSIpPT09InN1Ym1pdCJ8fGIuYXR0cigidHlwZSIpPT09InJlc2V0IiloP2grPSIgdWktc3VibWl0IjpoPSJ1aS1zdWJtaXQiO2EoImxhYmVsW2Zvcj0nIitiLmF0dHIoImlkIikrIiddIikuYWRkQ2xhc3MoInVpLXN1Ym1pdCIpO2Q9dGhpcy5idXR0b249YSgiPGRpdj48L2Rpdj4iKS50ZXh0KGIudGV4dCgpfHxiLnZhbCgpKS5pbnNlcnRCZWZvcmUoYikuYnV0dG9uTWFya3VwKHt0aGVtZTplLnRoZW1lLGljb246ZS5pY29uLGljb25wb3M6ZS5pY29ucG9zLGlubGluZTpmLGNvcm5lcnM6ZS5jb3JuZXJzLHNoYWRvdzplLnNoYWRvdyxpY29uc2hhZG93OmUuaWNvbnNoYWRvdyxtaW5pOmd9KS5hZGRDbGFzcyhoKS5hcHBlbmQoYi5hZGRDbGFzcygidWktYnRuLWhpZGRlbiIpKTtlPWIuYXR0cigidHlwZSIpO2Y9Yi5hdHRyKCJuYW1lIik7ZSE9PSJidXR0b24iJiZlIT09InJlc2V0IiYmZiYmYi5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKCl7aj09PQpjJiYoaj1hKCI8aW5wdXQ+Iix7dHlwZToiaGlkZGVuIixuYW1lOmIuYXR0cigibmFtZSIpLHZhbHVlOmIuYXR0cigidmFsdWUiKX0pLmluc2VydEJlZm9yZShiKSxhKGspLm9uZSgic3VibWl0IixmdW5jdGlvbigpe2oucmVtb3ZlKCk7aj1jfSkpfSk7Yi5iaW5kKHtmb2N1czpmdW5jdGlvbigpe2QuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXtkLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pO3RoaXMucmVmcmVzaCgpfX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIixmYWxzZSk7dGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsZmFsc2UpO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIixmYWxzZSl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLHRydWUpO3RoaXMuYnV0dG9uLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLAp0cnVlKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsdHJ1ZSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQ7Yi5wcm9wKCJkaXNhYmxlZCIpP3RoaXMuZGlzYWJsZSgpOnRoaXMuZW5hYmxlKCk7YSh0aGlzLmJ1dHRvbi5kYXRhKCJidXR0b25FbGVtZW50cyIpLnRleHQpLnRleHQoYi50ZXh0KCl8fGIudmFsKCkpfX0pO2EoaykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLmJ1dHRvbi5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCx0cnVlKX0pfSkobCk7KGZ1bmN0aW9uKGEpe2EuZm4uY29udHJvbGdyb3VwPWZ1bmN0aW9uKGMpe2Z1bmN0aW9uIGIoYSxiKXthLnJlbW92ZUNsYXNzKCJ1aS1idG4tY29ybmVyLWFsbCB1aS1jb3JuZXItdG9wIHVpLWNvcm5lci1ib3R0b20gdWktY29ybmVyLWxlZnQgdWktY29ybmVyLXJpZ2h0IHVpLWNvbnRyb2xncm91cC1sYXN0IHVpLXNoYWRvdyIpLmVxKDApLmFkZENsYXNzKGJbMF0pLmVuZCgpLmxhc3QoKS5hZGRDbGFzcyhiWzFdKS5hZGRDbGFzcygidWktY29udHJvbGdyb3VwLWxhc3QiKX0KcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksZT1hLmV4dGVuZCh7ZGlyZWN0aW9uOmQuanFtRGF0YSgidHlwZSIpfHwidmVydGljYWwiLHNoYWRvdzpmYWxzZSxleGNsdWRlSW52aXNpYmxlOnRydWUsbWluaTpkLmpxbURhdGEoIm1pbmkiKX0sYyksZj1kLmNoaWxkcmVuKCJsZWdlbmQiKSxnPWQuY2hpbGRyZW4oIi51aS1jb250cm9sZ3JvdXAtbGFiZWwiKSxoPWQuY2hpbGRyZW4oIi51aS1jb250cm9sZ3JvdXAtY29udHJvbHMiKSxqPWUuZGlyZWN0aW9uPT09Imhvcml6b250YWwiP1sidWktY29ybmVyLWxlZnQiLCJ1aS1jb3JuZXItcmlnaHQiXTpbInVpLWNvcm5lci10b3AiLCJ1aS1jb3JuZXItYm90dG9tIl07ZC5maW5kKCJpbnB1dCIpLmZpcnN0KCkuYXR0cigidHlwZSIpO2gubGVuZ3RoJiZoLmNvbnRlbnRzKCkudW53cmFwKCk7ZC53cmFwSW5uZXIoIjxkaXYgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1jb250cm9scyc+PC9kaXY+Iik7Zi5sZW5ndGg/CihhKCI8ZGl2IHJvbGU9J2hlYWRpbmcnIGNsYXNzPSd1aS1jb250cm9sZ3JvdXAtbGFiZWwnPiIrZi5odG1sKCkrIjwvZGl2PiIpLmluc2VydEJlZm9yZShkLmNoaWxkcmVuKDApKSxmLnJlbW92ZSgpKTpnLmxlbmd0aCYmZC5wcmVwZW5kKGcpO2QuYWRkQ2xhc3MoInVpLWNvcm5lci1hbGwgdWktY29udHJvbGdyb3VwIHVpLWNvbnRyb2xncm91cC0iK2UuZGlyZWN0aW9uKTtiKGQuZmluZCgiLnVpLWJ0biIrKGUuZXhjbHVkZUludmlzaWJsZT8iOnZpc2libGUiOiIiKSkubm90KCIudWktc2xpZGVyLWhhbmRsZSIpLGopO2IoZC5maW5kKCIudWktYnRuLWlubmVyIiksaik7ZS5zaGFkb3cmJmQuYWRkQ2xhc3MoInVpLXNoYWRvdyIpO2UubWluaSYmZC5hZGRDbGFzcygidWktbWluaSIpfSl9fSkobCk7KGZ1bmN0aW9uKGEpe2EoaykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGMpe2EoYy50YXJnZXQpLmZpbmQoImEiKS5qcW1FbmhhbmNlYWJsZSgpLm5vdCgiLnVpLWJ0biwgLnVpLWxpbmstaW5oZXJpdCwgOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiKS5hZGRDbGFzcygidWktbGluayIpfSl9KShsKTsKKGZ1bmN0aW9uKGEpe3ZhciBjPWEoIm1ldGFbbmFtZT12aWV3cG9ydF0iKSxiPWMuYXR0cigiY29udGVudCIpLGQ9YisiLG1heGltdW0tc2NhbGU9MSwgdXNlci1zY2FsYWJsZT1ubyIsZT1iKyIsbWF4aW11bS1zY2FsZT0xMCwgdXNlci1zY2FsYWJsZT15ZXMiLGY9Lyh1c2VyLXNjYWxhYmxlW1xzXSo9W1xzXSpubyl8KG1heGltdW0tc2NhbGVbXHNdKj1bXHNdKjEpWyQsXHNdLy50ZXN0KGIpO2EubW9iaWxlLnpvb209YS5leHRlbmQoe30se2VuYWJsZWQ6IWYsbG9ja2VkOmZhbHNlLGRpc2FibGU6ZnVuY3Rpb24oYil7aWYoIWYmJiFhLm1vYmlsZS56b29tLmxvY2tlZCljLmF0dHIoImNvbnRlbnQiLGQpLGEubW9iaWxlLnpvb20uZW5hYmxlZD1mYWxzZSxhLm1vYmlsZS56b29tLmxvY2tlZD1ifHxmYWxzZX0sZW5hYmxlOmZ1bmN0aW9uKGIpe2lmKCFmJiYoIWEubW9iaWxlLnpvb20ubG9ja2VkfHxiPT09dHJ1ZSkpYy5hdHRyKCJjb250ZW50IixlKSxhLm1vYmlsZS56b29tLmVuYWJsZWQ9CnRydWUsYS5tb2JpbGUuem9vbS5sb2NrZWQ9ZmFsc2V9LHJlc3RvcmU6ZnVuY3Rpb24oKXtpZighZiljLmF0dHIoImNvbnRlbnQiLGIpLGEubW9iaWxlLnpvb20uZW5hYmxlZD10cnVlfX0pfSkobCk7KGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUudGV4dGlucHV0IixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsbWluaTpmYWxzZSxwcmV2ZW50Rm9jdXNab29tOi9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSxpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J3RleHQnXSwgaW5wdXRbdHlwZT0nc2VhcmNoJ10sIDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpLCBpbnB1dFt0eXBlPSdudW1iZXInXSwgOmpxbURhdGEodHlwZT0nbnVtYmVyJyksIGlucHV0W3R5cGU9J3Bhc3N3b3JkJ10sIGlucHV0W3R5cGU9J2VtYWlsJ10sIGlucHV0W3R5cGU9J3VybCddLCBpbnB1dFt0eXBlPSd0ZWwnXSwgdGV4dGFyZWEsIGlucHV0W3R5cGU9J3RpbWUnXSwgaW5wdXRbdHlwZT0nZGF0ZSddLCBpbnB1dFt0eXBlPSdtb250aCddLCBpbnB1dFt0eXBlPSd3ZWVrJ10sIGlucHV0W3R5cGU9J2RhdGV0aW1lJ10sIGlucHV0W3R5cGU9J2RhdGV0aW1lLWxvY2FsJ10sIGlucHV0W3R5cGU9J2NvbG9yJ10sIGlucHV0Om5vdChbdHlwZV0pIiwKY2xlYXJTZWFyY2hCdXR0b25UZXh0OiJjbGVhciB0ZXh0IixkaXNhYmxlZDpmYWxzZX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBjPXRoaXMuZWxlbWVudCxiPXRoaXMub3B0aW9ucyxkPWIudGhlbWV8fGEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudCwiYyIpLGU9IiB1aS1ib2R5LSIrZCxmPWIubWluaT8iIHVpLW1pbmkiOiIiLGcsaDthKCJsYWJlbFtmb3I9JyIrYy5hdHRyKCJpZCIpKyInXSIpLmFkZENsYXNzKCJ1aS1pbnB1dC10ZXh0Iik7Zz1jLmFkZENsYXNzKCJ1aS1pbnB1dC10ZXh0IHVpLWJvZHktIitkKTt0eXBlb2YgY1swXS5hdXRvY29ycmVjdCE9PSJ1bmRlZmluZWQiJiYhYS5zdXBwb3J0LnRvdWNoT3ZlcmZsb3cmJihjWzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvcnJlY3QiLCJvZmYiKSxjWzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvbXBsZXRlIiwib2ZmIikpO2MuaXMoIlt0eXBlPSdzZWFyY2gnXSw6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIpPyhnPQpjLndyYXAoIjxkaXYgY2xhc3M9J3VpLWlucHV0LXNlYXJjaCB1aS1zaGFkb3ctaW5zZXQgdWktYnRuLWNvcm5lci1hbGwgdWktYnRuLXNoYWRvdyB1aS1pY29uLXNlYXJjaGZpZWxkIitlK2YrIic+PC9kaXY+IikucGFyZW50KCksaD1hKCI8YSBocmVmPScjJyBjbGFzcz0ndWktaW5wdXQtY2xlYXInIHRpdGxlPSciK2IuY2xlYXJTZWFyY2hCdXR0b25UZXh0KyInPiIrYi5jbGVhclNlYXJjaEJ1dHRvblRleHQrIjwvYT4iKS5iaW5kKCJjbGljayIsZnVuY3Rpb24oYSl7Yy52YWwoIiIpLmZvY3VzKCkudHJpZ2dlcigiY2hhbmdlIik7aC5hZGRDbGFzcygidWktaW5wdXQtY2xlYXItaGlkZGVuIik7YS5wcmV2ZW50RGVmYXVsdCgpfSkuYXBwZW5kVG8oZykuYnV0dG9uTWFya3VwKHtpY29uOiJkZWxldGUiLGljb25wb3M6Im5vdGV4dCIsY29ybmVyczp0cnVlLHNoYWRvdzp0cnVlLG1pbmk6Yi5taW5pfSksZD1mdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtoLnRvZ2dsZUNsYXNzKCJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iLAohYy52YWwoKSl9LDApfSxkKCksYy5iaW5kKCJwYXN0ZSBjdXQga2V5dXAgZm9jdXMgY2hhbmdlIGJsdXIiLGQpKTpjLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIHVpLXNoYWRvdy1pbnNldCIrZStmKTtjLmZvY3VzKGZ1bmN0aW9uKCl7Zy5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJsdXIoZnVuY3Rpb24oKXtnLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSkuYmluZCgiZm9jdXMiLGZ1bmN0aW9uKCl7Yi5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUodHJ1ZSl9KS5iaW5kKCJibHVyIixmdW5jdGlvbigpe2IucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5lbmFibGUodHJ1ZSl9KTtpZihjLmlzKCJ0ZXh0YXJlYSIpKXt2YXIgaj1mdW5jdGlvbigpe3ZhciBhPWNbMF0uc2Nyb2xsSGVpZ2h0O2NbMF0uY2xpZW50SGVpZ2h0PGEmJmMuaGVpZ2h0KGErMTUpfSxsO2Mua2V5dXAoZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQobCk7Cmw9c2V0VGltZW91dChqLDEwMCl9KTthKGspLm9uZSgicGFnZWNoYW5nZSIsaik7YS50cmltKGMudmFsKCkpJiZhKHMpLmxvYWQoail9Yy5hdHRyKCJkaXNhYmxlZCIpJiZ0aGlzLmRpc2FibGUoKX0sZGlzYWJsZTpmdW5jdGlvbigpeyh0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLHRydWUpLmlzKCJbdHlwZT0nc2VhcmNoJ10sOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKT90aGlzLmVsZW1lbnQucGFyZW50KCk6dGhpcy5lbGVtZW50KS5hZGRDbGFzcygidWktZGlzYWJsZWQiKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsdHJ1ZSl9LGVuYWJsZTpmdW5jdGlvbigpeyh0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLGZhbHNlKS5pcygiW3R5cGU9J3NlYXJjaCddLDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIik/dGhpcy5lbGVtZW50LnBhcmVudCgpOnRoaXMuZWxlbWVudCkucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIik7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLApmYWxzZSl9fSk7YShrKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYyl7YS5tb2JpbGUudGV4dGlucHV0LnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGMudGFyZ2V0LHRydWUpfSl9KShsKTsoZnVuY3Rpb24oYSl7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyPWZhbHNlO2EubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlclBsYWNlaG9sZGVyPSJGaWx0ZXIgaXRlbXMuLi4iO2EubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlclRoZW1lPSJjIjthLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJDYWxsYmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiBhLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihiKT09PS0xfTthKGspLmRlbGVnYXRlKCJ1bCwgb2wiLCJsaXN0dmlld2NyZWF0ZSIsZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGI9Yy5kYXRhKCJsaXN0dmlldyIpO2lmKGIub3B0aW9ucy5maWx0ZXIpe3ZhciBkPQphKCI8Zm9ybT4iLHsiY2xhc3MiOiJ1aS1saXN0dmlldy1maWx0ZXIgdWktYmFyLSIrYi5vcHRpb25zLmZpbHRlclRoZW1lLHJvbGU6InNlYXJjaCJ9KTthKCI8aW5wdXQ+Iix7cGxhY2Vob2xkZXI6Yi5vcHRpb25zLmZpbHRlclBsYWNlaG9sZGVyfSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0eXBlIiwic2VhcmNoIikuanFtRGF0YSgibGFzdHZhbCIsIiIpLmJpbmQoImtleXVwIGNoYW5nZSIsZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpLGY9dGhpcy52YWx1ZS50b0xvd2VyQ2FzZSgpLGc9bnVsbCxnPWQuanFtRGF0YSgibGFzdHZhbCIpKyIiLGg9ZmFsc2Usaj0iIjtkLmpxbURhdGEoImxhc3R2YWwiLGYpO2c9Zi5sZW5ndGg8Zy5sZW5ndGh8fGYuaW5kZXhPZihnKSE9PTA/Yy5jaGlsZHJlbigpOmMuY2hpbGRyZW4oIjpub3QoLnVpLXNjcmVlbi1oaWRkZW4pIik7aWYoZil7Zm9yKHZhciBrPWcubGVuZ3RoLTE7az49MDtrLS0pZD1hKGdba10pLGo9ZC5qcW1EYXRhKCJmaWx0ZXJ0ZXh0Iil8fApkLnRleHQoKSxkLmlzKCJsaTpqcW1EYXRhKHJvbGU9bGlzdC1kaXZpZGVyKSIpPyhkLnRvZ2dsZUNsYXNzKCJ1aS1maWx0ZXItaGlkZXF1ZXVlIiwhaCksaD1mYWxzZSk6Yi5vcHRpb25zLmZpbHRlckNhbGxiYWNrKGosZik/ZC50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsdHJ1ZSk6aD10cnVlO2cuZmlsdGVyKCI6bm90KC51aS1maWx0ZXItaGlkZXF1ZXVlKSIpLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIixmYWxzZSk7Zy5maWx0ZXIoIi51aS1maWx0ZXItaGlkZXF1ZXVlIikudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLHRydWUpLnRvZ2dsZUNsYXNzKCJ1aS1maWx0ZXItaGlkZXF1ZXVlIixmYWxzZSl9ZWxzZSBnLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIixmYWxzZSk7Yi5fcmVmcmVzaENvcm5lcnMoKX0pLmFwcGVuZFRvKGQpLnRleHRpbnB1dCgpO2Iub3B0aW9ucy5pbnNldCYmZC5hZGRDbGFzcygidWktbGlzdHZpZXctZmlsdGVyLWluc2V0Iik7CmQuYmluZCgic3VibWl0IixmdW5jdGlvbigpe3JldHVybiBmYWxzZX0pLmluc2VydEJlZm9yZShjKX19KX0pKGwpOyhmdW5jdGlvbihhLGMpe2Eud2lkZ2V0KCJtb2JpbGUuc2xpZGVyIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsdHJhY2tUaGVtZTpudWxsLGRpc2FibGVkOmZhbHNlLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ncmFuZ2UnXSwgOmpxbURhdGEodHlwZT0ncmFuZ2UnKSwgOmpxbURhdGEocm9sZT0nc2xpZGVyJykiLG1pbmk6ZmFsc2V9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGQ9dGhpcy5lbGVtZW50LGU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoZCwiYyIpLGY9dGhpcy5vcHRpb25zLnRoZW1lfHxlLGU9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWV8fGUsZz1kWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksaD1nPT0ic2VsZWN0Ij8idWktc2xpZGVyLXN3aXRjaCI6IiIsaj1kLmF0dHIoImlkIiksbD1hKCJbZm9yPSciK2orIiddIiksCnA9bC5hdHRyKCJpZCIpfHxqKyItbGFiZWwiLGw9bC5hdHRyKCJpZCIscCksbT1mdW5jdGlvbigpe3JldHVybiBnPT0iaW5wdXQiP3BhcnNlRmxvYXQoZC52YWwoKSk6ZFswXS5zZWxlY3RlZEluZGV4fSx3PWc9PSJpbnB1dCI/cGFyc2VGbG9hdChkLmF0dHIoIm1pbiIpKTowLG49Zz09ImlucHV0Ij9wYXJzZUZsb2F0KGQuYXR0cigibWF4IikpOmQuZmluZCgib3B0aW9uIikubGVuZ3RoLTEscj1zLnBhcnNlRmxvYXQoZC5hdHRyKCJzdGVwIil8fDEpLG89dGhpcy5vcHRpb25zLmlubGluZXx8ZC5qcW1EYXRhKCJpbmxpbmUiKT09dHJ1ZT8iIHVpLXNsaWRlci1pbmxpbmUiOiIiLHQ9dGhpcy5vcHRpb25zLm1pbml8fGQuanFtRGF0YSgibWluaSIpPyIgdWktc2xpZGVyLW1pbmkiOiIiLHY9ay5jcmVhdGVFbGVtZW50KCJhIikseD1hKHYpLGo9ay5jcmVhdGVFbGVtZW50KCJkaXYiKSx1PWEoaiksRj1kLmpxbURhdGEoImhpZ2hsaWdodCIpJiZnIT0ic2VsZWN0Ij9mdW5jdGlvbigpe3ZhciBiPQprLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2IuY2xhc3NOYW1lPSJ1aS1zbGlkZXItYmcgIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcysiIHVpLWJ0bi1jb3JuZXItYWxsIjtyZXR1cm4gYShiKS5wcmVwZW5kVG8odSl9KCk6ZmFsc2U7dGhpcy5fdHlwZT1nO3Yuc2V0QXR0cmlidXRlKCJocmVmIiwiIyIpO2ouc2V0QXR0cmlidXRlKCJyb2xlIiwiYXBwbGljYXRpb24iKTtqLmNsYXNzTmFtZT1bInVpLXNsaWRlciAiLGgsIiB1aS1idG4tZG93bi0iLGUsIiB1aS1idG4tY29ybmVyLWFsbCIsbyx0XS5qb2luKCIiKTt2LmNsYXNzTmFtZT0idWktc2xpZGVyLWhhbmRsZSI7ai5hcHBlbmRDaGlsZCh2KTt4LmJ1dHRvbk1hcmt1cCh7Y29ybmVyczp0cnVlLHRoZW1lOmYsc2hhZG93OnRydWV9KS5hdHRyKHtyb2xlOiJzbGlkZXIiLCJhcmlhLXZhbHVlbWluIjp3LCJhcmlhLXZhbHVlbWF4IjpuLCJhcmlhLXZhbHVlbm93IjptKCksImFyaWEtdmFsdWV0ZXh0IjptKCksdGl0bGU6bSgpLCJhcmlhLWxhYmVsbGVkYnkiOnB9KTsKYS5leHRlbmQodGhpcyx7c2xpZGVyOnUsaGFuZGxlOngsdmFsdWViZzpGLGRyYWdnaW5nOmZhbHNlLGJlZm9yZVN0YXJ0Om51bGwsdXNlck1vZGlmaWVkOmZhbHNlLG1vdXNlTW92ZWQ6ZmFsc2V9KTtpZihnPT0ic2VsZWN0Iil7Zj1rLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2YuY2xhc3NOYW1lPSJ1aS1zbGlkZXItaW5uZXJvZmZzZXQiO2g9MDtmb3IocD1qLmNoaWxkTm9kZXMubGVuZ3RoO2g8cDtoKyspZi5hcHBlbmRDaGlsZChqLmNoaWxkTm9kZXNbaF0pO2ouYXBwZW5kQ2hpbGQoZik7eC5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpO2Y9ZC5maW5kKCJvcHRpb24iKTtqPTA7Zm9yKGg9Zi5sZW5ndGg7ajxoO2orKylwPSFqPyJiIjoiYSIsbz0haj8iIHVpLWJ0bi1kb3duLSIrZToiICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3Msay5jcmVhdGVFbGVtZW50KCJkaXYiKSx0PWsuY3JlYXRlRWxlbWVudCgic3BhbiIpLHQuY2xhc3NOYW1lPVsidWktc2xpZGVyLWxhYmVsIHVpLXNsaWRlci1sYWJlbC0iLApwLG8sIiB1aS1idG4tY29ybmVyLWFsbCJdLmpvaW4oIiIpLHQuc2V0QXR0cmlidXRlKCJyb2xlIiwiaW1nIiksdC5hcHBlbmRDaGlsZChrLmNyZWF0ZVRleHROb2RlKGZbal0uaW5uZXJIVE1MKSksYSh0KS5wcmVwZW5kVG8odSk7Yi5fbGFiZWxzPWEoIi51aS1zbGlkZXItbGFiZWwiLHUpfWwuYWRkQ2xhc3MoInVpLXNsaWRlciIpO2QuYWRkQ2xhc3MoZz09PSJpbnB1dCI/InVpLXNsaWRlci1pbnB1dCI6InVpLXNsaWRlci1zd2l0Y2giKS5jaGFuZ2UoZnVuY3Rpb24oKXtiLm1vdXNlTW92ZWR8fGIucmVmcmVzaChtKCksdHJ1ZSl9KS5rZXl1cChmdW5jdGlvbigpe2IucmVmcmVzaChtKCksdHJ1ZSx0cnVlKX0pLmJsdXIoZnVuY3Rpb24oKXtiLnJlZnJlc2gobSgpLHRydWUpfSk7YShrKS5iaW5kKCJ2bW91c2Vtb3ZlIixmdW5jdGlvbihhKXtpZihiLmRyYWdnaW5nJiYhYi5vcHRpb25zLmRpc2FibGVkKXJldHVybiBiLm1vdXNlTW92ZWQ9dHJ1ZSxnPT09InNlbGVjdCImJngucmVtb3ZlQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKSwKYi5yZWZyZXNoKGEpLGIudXNlck1vZGlmaWVkPWIuYmVmb3JlU3RhcnQhPT1kWzBdLnNlbGVjdGVkSW5kZXgsZmFsc2V9KTtkLmJpbmQoInZtb3VzZXVwIixhLnByb3h5KGIuX2NoZWNrZWRSZWZyZXNoLGIpKTt1LmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKGEpe2lmKGIub3B0aW9ucy5kaXNhYmxlZClyZXR1cm4gZmFsc2U7Yi5kcmFnZ2luZz10cnVlO2IudXNlck1vZGlmaWVkPWZhbHNlO2IubW91c2VNb3ZlZD1mYWxzZTtpZihnPT09InNlbGVjdCIpYi5iZWZvcmVTdGFydD1kWzBdLnNlbGVjdGVkSW5kZXg7Yi5yZWZyZXNoKGEpO3JldHVybiBmYWxzZX0pLmJpbmQoInZjbGljayIsZmFsc2UpO3UuYWRkKGspLmJpbmQoInZtb3VzZXVwIixmdW5jdGlvbigpe2lmKGIuZHJhZ2dpbmcpcmV0dXJuIGIuZHJhZ2dpbmc9ZmFsc2UsZz09PSJzZWxlY3QiJiYoeC5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLGIubW91c2VNb3ZlZD9iLnVzZXJNb2RpZmllZD9iLnJlZnJlc2goYi5iZWZvcmVTdGFydD09CjA/MTowKTpiLnJlZnJlc2goYi5iZWZvcmVTdGFydCk6Yi5yZWZyZXNoKGIuYmVmb3JlU3RhcnQ9PTA/MTowKSksYi5tb3VzZU1vdmVkPWZhbHNlfSk7dS5pbnNlcnRBZnRlcihkKTtnPT0ic2VsZWN0IiYmdGhpcy5oYW5kbGUuYmluZCh7Zm9jdXM6ZnVuY3Rpb24oKXt1LmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxibHVyOmZ1bmN0aW9uKCl7dS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX19KTt0aGlzLmhhbmRsZS5iaW5kKHt2bW91c2Vkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS5mb2N1cygpfSx2Y2xpY2s6ZmFsc2Usa2V5ZG93bjpmdW5jdGlvbihjKXt2YXIgZD1tKCk7aWYoIWIub3B0aW9ucy5kaXNhYmxlZCl7c3dpdGNoKGMua2V5Q29kZSl7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkhPTUU6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkVORDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUklHSFQ6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkRPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkxFRlQ6aWYoYy5wcmV2ZW50RGVmYXVsdCgpLAohYi5fa2V5U2xpZGluZyliLl9rZXlTbGlkaW5nPXRydWUsYSh0aGlzKS5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIil9c3dpdGNoKGMua2V5Q29kZSl7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkhPTUU6Yi5yZWZyZXNoKHcpO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5FTkQ6Yi5yZWZyZXNoKG4pO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUklHSFQ6Yi5yZWZyZXNoKGQrcik7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuTEVGVDpiLnJlZnJlc2goZC1yKX19fSxrZXl1cDpmdW5jdGlvbigpe2lmKGIuX2tleVNsaWRpbmcpYi5fa2V5U2xpZGluZz1mYWxzZSxhKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKX19KTt0aGlzLnJlZnJlc2goYyxjLHRydWUpfSwKX2NoZWNrZWRSZWZyZXNoOmZ1bmN0aW9uKCl7aWYodGhpcy52YWx1ZSE9dGhpcy5fdmFsdWUoKSl0aGlzLnJlZnJlc2godGhpcy5fdmFsdWUoKSksdGhpcy52YWx1ZT10aGlzLl92YWx1ZSgpfSxfdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHlwZT09PSJpbnB1dCI/cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQudmFsKCkpOnRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4fSxyZWZyZXNoOmZ1bmN0aW9uKGIsYyxlKXsodGhpcy5vcHRpb25zLmRpc2FibGVkfHx0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiKSkmJnRoaXMuZGlzYWJsZSgpO3ZhciBmPXRoaXMuZWxlbWVudCxnPWZbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxoPWc9PT0iaW5wdXQiP3BhcnNlRmxvYXQoZi5hdHRyKCJtaW4iKSk6MCxqPWc9PT0iaW5wdXQiP3BhcnNlRmxvYXQoZi5hdHRyKCJtYXgiKSk6Zi5maW5kKCJvcHRpb24iKS5sZW5ndGgtMSxrPWc9PT0iaW5wdXQiJiZwYXJzZUZsb2F0KGYuYXR0cigic3RlcCIpKT4KMD9wYXJzZUZsb2F0KGYuYXR0cigic3RlcCIpKToxO2lmKHR5cGVvZiBiPT09Im9iamVjdCIpe2lmKCF0aGlzLmRyYWdnaW5nfHxiLnBhZ2VYPHRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQtOHx8Yi5wYWdlWD50aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0K3RoaXMuc2xpZGVyLndpZHRoKCkrOClyZXR1cm47Yj1NYXRoLnJvdW5kKChiLnBhZ2VYLXRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQpL3RoaXMuc2xpZGVyLndpZHRoKCkqMTAwKX1lbHNlIGI9PW51bGwmJihiPWc9PT0iaW5wdXQiP3BhcnNlRmxvYXQoZi52YWwoKXx8MCk6ZlswXS5zZWxlY3RlZEluZGV4KSxiPShwYXJzZUZsb2F0KGIpLWgpLyhqLWgpKjEwMDtpZighaXNOYU4oYikpe2I8MCYmKGI9MCk7Yj4xMDAmJihiPTEwMCk7dmFyIGw9Yi8xMDAqKGotaCkraCxtPShsLWgpJWs7bC09bTtNYXRoLmFicyhtKSoyPj1rJiYobCs9bT4wP2s6LWspO2w9cGFyc2VGbG9hdChsLnRvRml4ZWQoNSkpO2w8aCYmKGw9aCk7bD5qJiYobD0Kaik7dGhpcy5oYW5kbGUuY3NzKCJsZWZ0IixiKyIlIik7dGhpcy5oYW5kbGUuYXR0cih7ImFyaWEtdmFsdWVub3ciOmc9PT0iaW5wdXQiP2w6Zi5maW5kKCJvcHRpb24iKS5lcShsKS5hdHRyKCJ2YWx1ZSIpLCJhcmlhLXZhbHVldGV4dCI6Zz09PSJpbnB1dCI/bDpmLmZpbmQoIm9wdGlvbiIpLmVxKGwpLmdldEVuY29kZWRUZXh0KCksdGl0bGU6Zz09PSJpbnB1dCI/bDpmLmZpbmQoIm9wdGlvbiIpLmVxKGwpLmdldEVuY29kZWRUZXh0KCl9KTt0aGlzLnZhbHVlYmcmJnRoaXMudmFsdWViZy5jc3MoIndpZHRoIixiKyIlIik7aWYodGhpcy5fbGFiZWxzKXt2YXIgaD10aGlzLmhhbmRsZS53aWR0aCgpL3RoaXMuc2xpZGVyLndpZHRoKCkqMTAwLHM9YiYmaCsoMTAwLWgpKmIvMTAwLG49Yj09PTEwMD8wOk1hdGgubWluKGgrMTAwLXMsMTAwKTt0aGlzLl9sYWJlbHMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcykuaXMoIi51aS1zbGlkZXItbGFiZWwtYSIpO2EodGhpcykud2lkdGgoKGI/CnM6bikrIiUiKX0pfWlmKCFlKWU9ZmFsc2UsZz09PSJpbnB1dCI/KGU9Zi52YWwoKSE9PWwsZi52YWwobCkpOihlPWZbMF0uc2VsZWN0ZWRJbmRleCE9PWwsZlswXS5zZWxlY3RlZEluZGV4PWwpLCFjJiZlJiZmLnRyaWdnZXIoImNoYW5nZSIpfX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIixmYWxzZSk7dGhpcy5zbGlkZXIucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsZmFsc2UpO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIixmYWxzZSl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLHRydWUpO3RoaXMuc2xpZGVyLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLHRydWUpO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIix0cnVlKX19KTthKGspLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5zbGlkZXIucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQsCnRydWUpfSl9KShsKTsoZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS5zZWxlY3RtZW51IixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsZGlzYWJsZWQ6ZmFsc2UsaWNvbjoiYXJyb3ctZCIsaWNvbnBvczoicmlnaHQiLGlubGluZTpmYWxzZSxjb3JuZXJzOnRydWUsc2hhZG93OnRydWUsaWNvbnNoYWRvdzp0cnVlLG92ZXJsYXlUaGVtZToiYSIsaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zOnRydWUsY2xvc2VUZXh0OiJDbG9zZSIsbmF0aXZlTWVudTp0cnVlLHByZXZlbnRGb2N1c1pvb206L2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xLGluaXRTZWxlY3Rvcjoic2VsZWN0Om5vdCg6anFtRGF0YShyb2xlPSdzbGlkZXInKSkiLG1pbmk6ZmFsc2V9LF9idXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGRpdi8+Iil9LF9zZXREaXNhYmxlZDpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLAphKTt0aGlzLmJ1dHRvbi5hdHRyKCJhcmlhLWRpc2FibGVkIixhKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsYSl9LF9mb2N1c0J1dHRvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2EuYnV0dG9uLmZvY3VzKCl9LDQwKX0sX3NlbGVjdE9wdGlvbnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3QuZmluZCgib3B0aW9uIil9LF9wcmVFeHRlbnNpb246ZnVuY3Rpb24oKXt2YXIgYz0iIjt+dGhpcy5lbGVtZW50WzBdLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1idG4tbGVmdCIpJiYoYz0iIHVpLWJ0bi1sZWZ0Iik7fnRoaXMuZWxlbWVudFswXS5jbGFzc05hbWUuaW5kZXhPZigidWktYnRuLXJpZ2h0IikmJihjPSIgdWktYnRuLXJpZ2h0Iik7dGhpcy5zZWxlY3Q9dGhpcy5lbGVtZW50LndyYXAoIjxkaXYgY2xhc3M9J3VpLXNlbGVjdCIrYysiJz4iKTt0aGlzLnNlbGVjdElEPXRoaXMuc2VsZWN0LmF0dHIoImlkIik7dGhpcy5sYWJlbD0KYSgibGFiZWxbZm9yPSciK3RoaXMuc2VsZWN0SUQrIiddIikuYWRkQ2xhc3MoInVpLXNlbGVjdCIpO3RoaXMuaXNNdWx0aXBsZT10aGlzLnNlbGVjdFswXS5tdWx0aXBsZTtpZighdGhpcy5vcHRpb25zLnRoZW1lKXRoaXMub3B0aW9ucy50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLnNlbGVjdCwiYyIpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fcHJlRXh0ZW5zaW9uKCk7dGhpcy5fdHJpZ2dlcigiYmVmb3JlQ3JlYXRlIik7dGhpcy5idXR0b249dGhpcy5fYnV0dG9uKCk7dmFyIGM9dGhpcyxiPXRoaXMub3B0aW9ucyxkPWIuaW5saW5lfHx0aGlzLnNlbGVjdC5qcW1EYXRhKCJpbmxpbmUiKSxlPWIubWluaXx8dGhpcy5zZWxlY3QuanFtRGF0YSgibWluaSIpLGY9Yi5pY29uP2IuaWNvbnBvc3x8dGhpcy5zZWxlY3QuanFtRGF0YSgiaWNvbnBvcyIpOmZhbHNlLGQ9dGhpcy5idXR0b24uaW5zZXJ0QmVmb3JlKHRoaXMuc2VsZWN0KS5idXR0b25NYXJrdXAoe3RoZW1lOmIudGhlbWUsCmljb246Yi5pY29uLGljb25wb3M6ZixpbmxpbmU6ZCxjb3JuZXJzOmIuY29ybmVycyxzaGFkb3c6Yi5zaGFkb3csaWNvbnNoYWRvdzpiLmljb25zaGFkb3csbWluaTplfSk7dGhpcy5zZXRCdXR0b25UZXh0KCk7Yi5uYXRpdmVNZW51JiZzLm9wZXJhJiZzLm9wZXJhLnZlcnNpb24mJmQuYWRkQ2xhc3MoInVpLXNlbGVjdC1uYXRpdmVvbmx5Iik7aWYodGhpcy5pc011bHRpcGxlKXRoaXMuYnV0dG9uQ291bnQ9YSgiPHNwYW4+IikuYWRkQ2xhc3MoInVpLWxpLWNvdW50IHVpLWJ0bi11cC1jIHVpLWJ0bi1jb3JuZXItYWxsIikuaGlkZSgpLmFwcGVuZFRvKGQuYWRkQ2xhc3MoInVpLWxpLWhhcy1jb3VudCIpKTsoYi5kaXNhYmxlZHx8dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIikpJiZ0aGlzLmRpc2FibGUoKTt0aGlzLnNlbGVjdC5jaGFuZ2UoZnVuY3Rpb24oKXtjLnJlZnJlc2goKX0pO3RoaXMuYnVpbGQoKX0sYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgYz10aGlzO3RoaXMuc2VsZWN0LmFwcGVuZFRvKGMuYnV0dG9uKS5iaW5kKCJ2bW91c2Vkb3duIiwKZnVuY3Rpb24oKXtjLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJmb2N1cyIsZnVuY3Rpb24oKXtjLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7Yy5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5iaW5kKCJmb2N1cyB2bW91c2VvdmVyIixmdW5jdGlvbigpe2MuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW92ZXIiKX0pLmJpbmQoInZtb3VzZW1vdmUiLGZ1bmN0aW9uKCl7Yy5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2hhbmdlIGJsdXIgdm1vdXNlb3V0IixmdW5jdGlvbigpe2MuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW91dCIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImNoYW5nZSBibHVyIixmdW5jdGlvbigpe2MuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1idG4tZG93bi0iKwpjLm9wdGlvbnMudGhlbWUpfSk7Yy5idXR0b24uYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oKXtjLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKHRydWUpfSk7Yy5sYWJlbC5iaW5kKCJjbGljayBmb2N1cyIsZnVuY3Rpb24oKXtjLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKHRydWUpfSk7Yy5zZWxlY3QuYmluZCgiZm9jdXMiLGZ1bmN0aW9uKCl7Yy5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSh0cnVlKX0pO2MuYnV0dG9uLmJpbmQoIm1vdXNldXAiLGZ1bmN0aW9uKCl7Yy5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLm1vYmlsZS56b29tLmVuYWJsZSh0cnVlKX0sMCl9KTtjLnNlbGVjdC5iaW5kKCJibHVyIixmdW5jdGlvbigpe2Mub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmVuYWJsZSh0cnVlKX0pfSwKc2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLmZpbHRlcigiOnNlbGVjdGVkIil9LHNlbGVjdGVkSW5kaWNlczpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIHRoaXMuc2VsZWN0ZWQoKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYS5fc2VsZWN0T3B0aW9ucygpLmluZGV4KHRoaXMpfSkuZ2V0KCl9LHNldEJ1dHRvblRleHQ6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGI9dGhpcy5zZWxlY3RlZCgpLGQ9dGhpcy5wbGFjZWhvbGRlcixlPWEoay5jcmVhdGVFbGVtZW50KCJzcGFuIikpO3RoaXMuYnV0dG9uLmZpbmQoIi51aS1idG4tdGV4dCIpLmh0bWwoZnVuY3Rpb24oKXtkPWIubGVuZ3RoP2IubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcykudGV4dCgpfSkuZ2V0KCkuam9pbigiLCAiKTpjLnBsYWNlaG9sZGVyO3JldHVybiBlLnRleHQoZCkuYWRkQ2xhc3MoYy5zZWxlY3QuYXR0cigiY2xhc3MiKSkuYWRkQ2xhc3MoYi5hdHRyKCJjbGFzcyIpKX0pfSwKc2V0QnV0dG9uQ291bnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNlbGVjdGVkKCk7dGhpcy5pc011bHRpcGxlJiZ0aGlzLmJ1dHRvbkNvdW50W2EubGVuZ3RoPjE/InNob3ciOiJoaWRlIl0oKS50ZXh0KGEubGVuZ3RoKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuc2V0QnV0dG9uVGV4dCgpO3RoaXMuc2V0QnV0dG9uQ291bnQoKX0sb3BlbjphLm5vb3AsY2xvc2U6YS5ub29wLGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXREaXNhYmxlZCh0cnVlKTt0aGlzLmJ1dHRvbi5hZGRDbGFzcygidWktZGlzYWJsZWQiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0RGlzYWJsZWQoZmFsc2UpO3RoaXMuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpfX0pO2EoaykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGMpe2EubW9iaWxlLnNlbGVjdG1lbnUucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYy50YXJnZXQsdHJ1ZSl9KX0pKGwpOyhmdW5jdGlvbihhKXt2YXIgYz0KZnVuY3Rpb24oYil7dmFyIGM9Yi5zZWxlY3RJRCxlPWIubGFiZWwsZj1iLnNlbGVjdC5jbG9zZXN0KCIudWktcGFnZSIpLGc9YSgiPGRpdj4iLHsiY2xhc3MiOiJ1aS1zZWxlY3RtZW51LXNjcmVlbiB1aS1zY3JlZW4taGlkZGVuIn0pLmFwcGVuZFRvKGYpLGg9Yi5fc2VsZWN0T3B0aW9ucygpLGo9Yi5pc011bHRpcGxlPWIuc2VsZWN0WzBdLm11bHRpcGxlLGw9YysiLWJ1dHRvbiIscD1jKyItbWVudSIsbT1hKCI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0nZGlhbG9nJyBkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lPSciK2Iub3B0aW9ucy50aGVtZSsiJyBkYXRhLSIrYS5tb2JpbGUubnMrIm92ZXJsYXktdGhlbWU9JyIrYi5vcHRpb25zLm92ZXJsYXlUaGVtZSsiJz48ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0naGVhZGVyJz48ZGl2IGNsYXNzPSd1aS10aXRsZSc+IitlLmdldEVuY29kZWRUZXh0KCkrIjwvZGl2PjwvZGl2PjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKwoicm9sZT0nY29udGVudCc+PC9kaXY+PC9kaXY+Iiksdz1hKCI8ZGl2PiIseyJjbGFzcyI6InVpLXNlbGVjdG1lbnUgdWktc2VsZWN0bWVudS1oaWRkZW4gdWktb3ZlcmxheS1zaGFkb3cgdWktY29ybmVyLWFsbCB1aS1ib2R5LSIrYi5vcHRpb25zLm92ZXJsYXlUaGVtZSsiICIrYS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb259KS5pbnNlcnRBZnRlcihnKSxuPWEoIjx1bD4iLHsiY2xhc3MiOiJ1aS1zZWxlY3RtZW51LWxpc3QiLGlkOnAscm9sZToibGlzdGJveCIsImFyaWEtbGFiZWxsZWRieSI6bH0pLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiLGIub3B0aW9ucy50aGVtZSkuYXBwZW5kVG8odykscj1hKCI8ZGl2PiIseyJjbGFzcyI6InVpLWhlYWRlciB1aS1iYXItIitiLm9wdGlvbnMudGhlbWV9KS5wcmVwZW5kVG8odyksbz1hKCI8aDE+Iix7ImNsYXNzIjoidWktdGl0bGUifSkuYXBwZW5kVG8ociksdDtiLmlzTXVsdGlwbGUmJih0PWEoIjxhPiIse3RleHQ6Yi5vcHRpb25zLmNsb3NlVGV4dCwKaHJlZjoiIyIsImNsYXNzIjoidWktYnRuLWxlZnQifSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJpY29ucG9zIiwibm90ZXh0IikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uIiwiZGVsZXRlIikuYXBwZW5kVG8ocikuYnV0dG9uTWFya3VwKCkpO2EuZXh0ZW5kKGIse3NlbGVjdDpiLnNlbGVjdCxzZWxlY3RJRDpjLGJ1dHRvbklkOmwsbWVudUlkOnAsdGhpc1BhZ2U6ZixtZW51UGFnZTptLGxhYmVsOmUsc2NyZWVuOmcsc2VsZWN0T3B0aW9uczpoLGlzTXVsdGlwbGU6aix0aGVtZTpiLm9wdGlvbnMudGhlbWUsbGlzdGJveDp3LGxpc3Q6bixoZWFkZXI6cixoZWFkZXJUaXRsZTpvLGhlYWRlckNsb3NlOnQsbWVudVBhZ2VDb250ZW50OnZvaWQgMCxtZW51UGFnZUNsb3NlOnZvaWQgMCxwbGFjZWhvbGRlcjoiIixidWlsZDpmdW5jdGlvbigpe3ZhciBjPXRoaXM7Yy5yZWZyZXNoKCk7Yy5zZWxlY3QuYXR0cigidGFiaW5kZXgiLCItMSIpLmZvY3VzKGZ1bmN0aW9uKCl7YSh0aGlzKS5ibHVyKCk7CmMuYnV0dG9uLmZvY3VzKCl9KTtjLmJ1dHRvbi5iaW5kKCJ2Y2xpY2sga2V5ZG93biIsZnVuY3Rpb24oYil7aWYoYi50eXBlPT0idmNsaWNrInx8Yi5rZXlDb2RlJiYoYi5rZXlDb2RlPT09YS5tb2JpbGUua2V5Q29kZS5FTlRFUnx8Yi5rZXlDb2RlPT09YS5tb2JpbGUua2V5Q29kZS5TUEFDRSkpYy5vcGVuKCksYi5wcmV2ZW50RGVmYXVsdCgpfSk7Yy5saXN0LmF0dHIoInJvbGUiLCJsaXN0Ym94IikuYmluZCgiZm9jdXNpbiIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuYXR0cigidGFiaW5kZXgiLCIwIikudHJpZ2dlcigidm1vdXNlb3ZlciIpfSkuYmluZCgiZm9jdXNvdXQiLGZ1bmN0aW9uKGIpe2EoYi50YXJnZXQpLmF0dHIoInRhYmluZGV4IiwiLTEiKS50cmlnZ2VyKCJ2bW91c2VvdXQiKX0pLmRlbGVnYXRlKCJsaTpub3QoLnVpLWRpc2FibGVkLCAudWktbGktZGl2aWRlcikiLCJjbGljayIsZnVuY3Rpb24oZCl7dmFyIGU9Yy5zZWxlY3RbMF0uc2VsZWN0ZWRJbmRleCxmPWMubGlzdC5maW5kKCJsaTpub3QoLnVpLWxpLWRpdmlkZXIpIikuaW5kZXgodGhpcyksCmc9Yy5fc2VsZWN0T3B0aW9ucygpLmVxKGYpWzBdO2cuc2VsZWN0ZWQ9Yy5pc011bHRpcGxlPyFnLnNlbGVjdGVkOnRydWU7Yy5pc011bHRpcGxlJiZhKHRoaXMpLmZpbmQoIi51aS1pY29uIikudG9nZ2xlQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb24iLGcuc2VsZWN0ZWQpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9mZiIsIWcuc2VsZWN0ZWQpOyhjLmlzTXVsdGlwbGV8fGUhPT1mKSYmYy5zZWxlY3QudHJpZ2dlcigiY2hhbmdlIik7Yy5pc011bHRpcGxlP2MubGlzdC5maW5kKCJsaTpub3QoLnVpLWxpLWRpdmlkZXIpIikuZXEoZikuYWRkQ2xhc3MoInVpLWJ0bi1kb3duLSIrYi5vcHRpb25zLnRoZW1lKS5maW5kKCJhIikuZmlyc3QoKS5mb2N1cygpOmMuY2xvc2UoKTtkLnByZXZlbnREZWZhdWx0KCl9KS5rZXlkb3duKGZ1bmN0aW9uKGMpe3ZhciBkPWEoYy50YXJnZXQpLGU9ZC5jbG9zZXN0KCJsaSIpO3N3aXRjaChjLmtleUNvZGUpe2Nhc2UgMzg6cmV0dXJuIGM9ZS5wcmV2KCkubm90KCIudWktc2VsZWN0bWVudS1wbGFjZWhvbGRlciIpLApjLmlzKCIudWktbGktZGl2aWRlciIpJiYoYz1jLnByZXYoKSksYy5sZW5ndGgmJihkLmJsdXIoKS5hdHRyKCJ0YWJpbmRleCIsIi0xIiksYy5hZGRDbGFzcygidWktYnRuLWRvd24tIitiLm9wdGlvbnMudGhlbWUpLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCkpLGZhbHNlO2Nhc2UgNDA6cmV0dXJuIGM9ZS5uZXh0KCksYy5pcygiLnVpLWxpLWRpdmlkZXIiKSYmKGM9Yy5uZXh0KCkpLGMubGVuZ3RoJiYoZC5ibHVyKCkuYXR0cigidGFiaW5kZXgiLCItMSIpLGMuYWRkQ2xhc3MoInVpLWJ0bi1kb3duLSIrYi5vcHRpb25zLnRoZW1lKS5maW5kKCJhIikuZmlyc3QoKS5mb2N1cygpKSxmYWxzZTtjYXNlIDEzOmNhc2UgMzI6cmV0dXJuIGQudHJpZ2dlcigiY2xpY2siKSxmYWxzZX19KTtjLm1lbnVQYWdlLmJpbmQoInBhZ2VoaWRlIixmdW5jdGlvbigpe2MubGlzdC5hcHBlbmRUbyhjLmxpc3Rib3gpO2MuX2ZvY3VzQnV0dG9uKCk7YS5tb2JpbGUuX2JpbmRQYWdlUmVtb3ZlLmNhbGwoYy50aGlzUGFnZSl9KTsKYy5zY3JlZW4uYmluZCgidmNsaWNrIixmdW5jdGlvbigpe2MuY2xvc2UoKX0pO2MuaXNNdWx0aXBsZSYmYy5oZWFkZXJDbG9zZS5jbGljayhmdW5jdGlvbigpe2lmKGMubWVudVR5cGU9PSJvdmVybGF5IilyZXR1cm4gYy5jbG9zZSgpLGZhbHNlfSk7Yy50aGlzUGFnZS5hZGREZXBlbmRlbnRzKHRoaXMubWVudVBhZ2UpfSxfaXNSZWJ1aWxkUmVxdWlyZWQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxpc3QuZmluZCgibGkiKTtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLnRleHQoKSE9PWEudGV4dCgpfSxzZWxlY3RlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RPcHRpb25zKCkuZmlsdGVyKCI6c2VsZWN0ZWQ6bm90KDpqcW1EYXRhKHBsYWNlaG9sZGVyPSd0cnVlJykpIil9LHJlZnJlc2g6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxkOyhifHx0aGlzLl9pc1JlYnVpbGRSZXF1aXJlZCgpKSYmYy5fYnVpbGRMaXN0KCk7ZD10aGlzLnNlbGVjdGVkSW5kaWNlcygpO2Muc2V0QnV0dG9uVGV4dCgpOwpjLnNldEJ1dHRvbkNvdW50KCk7Yy5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuYXR0cigiYXJpYS1zZWxlY3RlZCIsZmFsc2UpLmVhY2goZnVuY3Rpb24oYil7YS5pbkFycmF5KGIsZCk+LTEmJihiPWEodGhpcyksYi5hdHRyKCJhcmlhLXNlbGVjdGVkIix0cnVlKSxjLmlzTXVsdGlwbGU/Yi5maW5kKCIudWktaWNvbiIpLnJlbW92ZUNsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9mZiIpLmFkZENsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9uIik6Yi5pcygiLnVpLXNlbGVjdG1lbnUtcGxhY2Vob2xkZXIiKT9iLm5leHQoKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk6Yi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykpfSl9LGNsb3NlOmZ1bmN0aW9uKCl7aWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy5pc09wZW4pdGhpcy5tZW51VHlwZT09InBhZ2UiP2EubW9iaWxlLmJhY2soKToKKHRoaXMuc2NyZWVuLmFkZENsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiksdGhpcy5saXN0Ym94LmFkZENsYXNzKCJ1aS1zZWxlY3RtZW51LWhpZGRlbiIpLnJlbW92ZUF0dHIoInN0eWxlIikucmVtb3ZlQ2xhc3MoImluIiksdGhpcy5saXN0LmFwcGVuZFRvKHRoaXMubGlzdGJveCksdGhpcy5fZm9jdXNCdXR0b24oKSksdGhpcy5pc09wZW49ZmFsc2V9LG9wZW46ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKCl7dmFyIGU9ZC5saXN0LmZpbmQoIi4iK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKyIgYSIpO2UubGVuZ3RoPT09MCYmKGU9ZC5saXN0LmZpbmQoImxpLnVpLWJ0bjpub3QoOmpxbURhdGEocGxhY2Vob2xkZXI9J3RydWUnKSkgYSIpKTtlLmZpcnN0KCkuZm9jdXMoKS5jbG9zZXN0KCJsaSIpLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK2Iub3B0aW9ucy50aGVtZSl9aWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCl7dmFyIGQ9dGhpcyxlPWEocyksZj1kLmxpc3QucGFyZW50KCksZz1mLm91dGVySGVpZ2h0KCksCmY9Zi5vdXRlcldpZHRoKCk7YSgiLnVpLXBhZ2UtYWN0aXZlIik7dmFyIGg9ZS5zY3JvbGxUb3AoKSxqPWQuYnV0dG9uLm9mZnNldCgpLnRvcCxsPWUuaGVpZ2h0KCksZT1lLndpZHRoKCk7ZC5idXR0b24uYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtkLmJ1dHRvbi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9LDMwMCk7aWYoZz5sLTgwfHwhYS5zdXBwb3J0LnNjcm9sbFRvcCl7ZC5tZW51UGFnZS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKS5wYWdlKCk7ZC5tZW51UGFnZUNvbnRlbnQ9bS5maW5kKCIudWktY29udGVudCIpO2QubWVudVBhZ2VDbG9zZT1tLmZpbmQoIi51aS1oZWFkZXIgYSIpO2QudGhpc1BhZ2UudW5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiKTtpZihoPT0wJiZqPmwpZC50aGlzUGFnZS5vbmUoInBhZ2VoaWRlIixmdW5jdGlvbigpe2EodGhpcykuanFtRGF0YSgibGFzdFNjcm9sbCIsCmopfSk7ZC5tZW51UGFnZS5vbmUoInBhZ2VzaG93IixmdW5jdGlvbigpe2MoKTtkLmlzT3Blbj10cnVlfSkub25lKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXtkLmlzT3Blbj1mYWxzZX0pO2QubWVudVR5cGU9InBhZ2UiO2QubWVudVBhZ2VDb250ZW50LmFwcGVuZChkLmxpc3QpO2QubWVudVBhZ2UuZmluZCgiZGl2IC51aS10aXRsZSIpLnRleHQoZC5sYWJlbC50ZXh0KCkpO2EubW9iaWxlLmNoYW5nZVBhZ2UoZC5tZW51UGFnZSx7dHJhbnNpdGlvbjphLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbn0pfWVsc2V7ZC5tZW51VHlwZT0ib3ZlcmxheSI7ZC5zY3JlZW4uaGVpZ2h0KGEoaykuaGVpZ2h0KCkpLnJlbW92ZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIik7dmFyIG49ai1oLG89aCtsLWoscD1nLzIscT1wYXJzZUZsb2F0KGQubGlzdC5wYXJlbnQoKS5jc3MoIm1heC13aWR0aCIpKSxnPW4+Zy8yJiZvPmcvMj9qK2QuYnV0dG9uLm91dGVySGVpZ2h0KCkvMi1wOm4+bz9oK2wtZy0KMzA6aCszMDtmPHE/aD0oZS1mKS8yOihoPWQuYnV0dG9uLm9mZnNldCgpLmxlZnQrZC5idXR0b24ub3V0ZXJXaWR0aCgpLzItZi8yLGg8MzA/aD0zMDpoK2Y+ZSYmKGg9ZS1mLTMwKSk7ZC5saXN0Ym94LmFwcGVuZChkLmxpc3QpLnJlbW92ZUNsYXNzKCJ1aS1zZWxlY3RtZW51LWhpZGRlbiIpLmNzcyh7dG9wOmcsbGVmdDpofSkuYWRkQ2xhc3MoImluIik7YygpO2QuaXNPcGVuPXRydWV9fX0sX2J1aWxkTGlzdDpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucyxjPXRoaXMucGxhY2Vob2xkZXIsZD10cnVlLGU9dGhpcy5pc011bHRpcGxlPyJjaGVja2JveC1vZmYiOiJmYWxzZSI7dGhpcy5saXN0LmVtcHR5KCkuZmlsdGVyKCIudWktbGlzdHZpZXciKS5saXN0dmlldygiZGVzdHJveSIpO3ZhciBmPXRoaXMuc2VsZWN0LmZpbmQoIm9wdGlvbiIpLGc9Zi5sZW5ndGgsaD10aGlzLnNlbGVjdFswXSxqPSJkYXRhLSIrYS5tb2JpbGUubnMsbD1qKyJvcHRpb24taW5kZXgiLG09aisiaWNvbiIsCm49aisicm9sZSI7ais9InBsYWNlaG9sZGVyIjtmb3IodmFyIG89ay5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscD1mYWxzZSxxLHM9MDtzPGc7cysrLHA9ZmFsc2Upe3ZhciB0PWZbc10scj1hKHQpLHc9dC5wYXJlbnROb2RlLEM9ci50ZXh0KCksST1rLmNyZWF0ZUVsZW1lbnQoImEiKSxMPVtdO0kuc2V0QXR0cmlidXRlKCJocmVmIiwiIyIpO0kuYXBwZW5kQ2hpbGQoay5jcmVhdGVUZXh0Tm9kZShDKSk7dyE9PWgmJncubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJvcHRncm91cCImJih3PXcuZ2V0QXR0cmlidXRlKCJsYWJlbCIpLHchPXEmJihxPWsuY3JlYXRlRWxlbWVudCgibGkiKSxxLnNldEF0dHJpYnV0ZShuLCJsaXN0LWRpdmlkZXIiKSxxLnNldEF0dHJpYnV0ZSgicm9sZSIsIm9wdGlvbiIpLHEuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsIi0xIikscS5hcHBlbmRDaGlsZChrLmNyZWF0ZVRleHROb2RlKHcpKSxvLmFwcGVuZENoaWxkKHEpLHE9dykpO2lmKGQmJighdC5nZXRBdHRyaWJ1dGUoInZhbHVlIil8fApDLmxlbmd0aD09MHx8ci5qcW1EYXRhKCJwbGFjZWhvbGRlciIpKSlpZihkPWZhbHNlLHA9dHJ1ZSx0LnNldEF0dHJpYnV0ZShqLHRydWUpLGIuaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zJiZMLnB1c2goInVpLXNlbGVjdG1lbnUtcGxhY2Vob2xkZXIiKSwhYyljPXRoaXMucGxhY2Vob2xkZXI9QztyPWsuY3JlYXRlRWxlbWVudCgibGkiKTt0LmRpc2FibGVkJiYoTC5wdXNoKCJ1aS1kaXNhYmxlZCIpLHIuc2V0QXR0cmlidXRlKCJhcmlhLWRpc2FibGVkIix0cnVlKSk7ci5zZXRBdHRyaWJ1dGUobCxzKTtyLnNldEF0dHJpYnV0ZShtLGUpO3AmJnIuc2V0QXR0cmlidXRlKGosdHJ1ZSk7ci5jbGFzc05hbWU9TC5qb2luKCIgIik7ci5zZXRBdHRyaWJ1dGUoInJvbGUiLCJvcHRpb24iKTtJLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCItMSIpO3IuYXBwZW5kQ2hpbGQoSSk7by5hcHBlbmRDaGlsZChyKX10aGlzLmxpc3RbMF0uYXBwZW5kQ2hpbGQobyk7IXRoaXMuaXNNdWx0aXBsZSYmIWMubGVuZ3RoPwp0aGlzLmhlYWRlci5oaWRlKCk6dGhpcy5oZWFkZXJUaXRsZS50ZXh0KHRoaXMucGxhY2Vob2xkZXIpO3RoaXMubGlzdC5saXN0dmlldygpfSxfYnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIGEoIjxhPiIse2hyZWY6IiMiLHJvbGU6ImJ1dHRvbiIsaWQ6dGhpcy5idXR0b25JZCwiYXJpYS1oYXNwb3B1cCI6InRydWUiLCJhcmlhLW93bnMiOnRoaXMubWVudUlkfSl9fSl9O2EoaykuYmluZCgic2VsZWN0bWVudWJlZm9yZWNyZWF0ZSIsZnVuY3Rpb24oYil7Yj1hKGIudGFyZ2V0KS5kYXRhKCJzZWxlY3RtZW51Iik7Yi5vcHRpb25zLm5hdGl2ZU1lbnV8fGMoYil9KX0pKGwpOyhmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLmZpeGVkdG9vbGJhciIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt2aXNpYmxlT25QYWdlU2hvdzp0cnVlLGRpc2FibGVQYWdlWm9vbTp0cnVlLHRyYW5zaXRpb246InNsaWRlIixmdWxsc2NyZWVuOmZhbHNlLHRhcFRvZ2dsZTp0cnVlLHRhcFRvZ2dsZUJsYWNrbGlzdDoiYSwgYnV0dG9uLCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZCIsCmhpZGVEdXJpbmdGb2N1czoiaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QiLHVwZGF0ZVBhZ2VQYWRkaW5nOnRydWUsdHJhY2tQZXJzaXN0ZW50VG9vbGJhcnM6dHJ1ZSxzdXBwb3J0QmxhY2tsaXN0OmZ1bmN0aW9uKCl7dmFyIGE9bmF2aWdhdG9yLnVzZXJBZ2VudCxiPW5hdmlnYXRvci5wbGF0Zm9ybSxkPWEubWF0Y2goL0FwcGxlV2ViS2l0XC8oWzAtOV0rKS8pLGQ9ISFkJiZkWzFdLGU9YS5tYXRjaCgvRmVubmVjXC8oWzAtOV0rKS8pLGU9ISFlJiZlWzFdLGY9YS5tYXRjaCgvT3BlcmEgTW9iaVwvKFswLTldKykvKSxnPSEhZiYmZlsxXTtyZXR1cm4oYi5pbmRleE9mKCJpUGhvbmUiKT4tMXx8Yi5pbmRleE9mKCJpUGFkIik+LTF8fGIuaW5kZXhPZigiaVBvZCIpPi0xKSYmZCYmZDw1MzR8fHMub3BlcmFtaW5pJiZ7fS50b1N0cmluZy5jYWxsKHMub3BlcmFtaW5pKT09PSJbb2JqZWN0IE9wZXJhTWluaV0ifHxmJiZnPDc0NTh8fGEuaW5kZXhPZigiQW5kcm9pZCIpPi0xJiZkJiZkPDUzM3x8CmUmJmU8Nnx8InBhbG1HZXRSZXNvdXJjZSJpbiBzJiZkJiZkPDUzNHx8YS5pbmRleE9mKCJNZWVHbyIpPi0xJiZhLmluZGV4T2YoIk5va2lhQnJvd3Nlci84LjUuMCIpPi0xP3RydWU6ZmFsc2V9LGluaXRTZWxlY3RvcjoiOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLGI9dGhpcy5lbGVtZW50LGQ9Yi5pcygiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKT8iaGVhZGVyIjoiZm9vdGVyIixlPWIuY2xvc2VzdCgiLnVpLXBhZ2UiKTthLnN1cHBvcnRCbGFja2xpc3QoKT90aGlzLmRlc3Ryb3koKTooYi5hZGRDbGFzcygidWktIitkKyItZml4ZWQiKSxhLmZ1bGxzY3JlZW4/KGIuYWRkQ2xhc3MoInVpLSIrZCsiLWZ1bGxzY3JlZW4iKSxlLmFkZENsYXNzKCJ1aS1wYWdlLSIrZCsiLWZ1bGxzY3JlZW4iKSk6ZS5hZGRDbGFzcygidWktcGFnZS0iK2QrIi1maXhlZCIpLHRoaXMuX2FkZFRyYW5zaXRpb25DbGFzcygpLHRoaXMuX2JpbmRQYWdlRXZlbnRzKCksCnRoaXMuX2JpbmRUb2dnbGVIYW5kbGVycygpKX0sX2FkZFRyYW5zaXRpb25DbGFzczpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucy50cmFuc2l0aW9uO2EmJmEhPT0ibm9uZSImJihhPT09InNsaWRlIiYmKGE9dGhpcy5lbGVtZW50LmlzKCIudWktaGVhZGVyIik/InNsaWRlZG93biI6InNsaWRldXAiKSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoYSkpfSxfYmluZFBhZ2VFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGI9Yy5vcHRpb25zO2MuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLmJpbmQoInBhZ2ViZWZvcmVzaG93IixmdW5jdGlvbigpe2IuZGlzYWJsZVBhZ2Vab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUodHJ1ZSk7Yi52aXNpYmxlT25QYWdlU2hvd3x8Yy5oaWRlKHRydWUpfSkuYmluZCgid2Via2l0QW5pbWF0aW9uU3RhcnQgYW5pbWF0aW9uc3RhcnQgdXBkYXRlbGF5b3V0IixmdW5jdGlvbigpe2IudXBkYXRlUGFnZVBhZGRpbmcmJmMudXBkYXRlUGFnZVBhZGRpbmcodGhpcyl9KS5iaW5kKCJwYWdlc2hvdyIsCmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcztjLnVwZGF0ZVBhZ2VQYWRkaW5nKGQpO2IudXBkYXRlUGFnZVBhZGRpbmcmJmEocykuYmluZCgidGhyb3R0bGVkcmVzaXplLiIrYy53aWRnZXROYW1lLGZ1bmN0aW9uKCl7Yy51cGRhdGVQYWdlUGFkZGluZyhkKX0pfSkuYmluZCgicGFnZWJlZm9yZWhpZGUiLGZ1bmN0aW9uKGQsZSl7Yi5kaXNhYmxlUGFnZVpvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKHRydWUpO2IudXBkYXRlUGFnZVBhZGRpbmcmJmEocykudW5iaW5kKCJ0aHJvdHRsZWRyZXNpemUuIitjLndpZGdldE5hbWUpO2lmKGIudHJhY2tQZXJzaXN0ZW50VG9vbGJhcnMpe3ZhciBmPWEoIi51aS1mb290ZXItZml4ZWQ6anFtRGF0YShpZCkiLHRoaXMpLGc9YSgiLnVpLWhlYWRlci1maXhlZDpqcW1EYXRhKGlkKSIsdGhpcyksaD1mLmxlbmd0aCYmZS5uZXh0UGFnZSYmYSgiLnVpLWZvb3Rlci1maXhlZDpqcW1EYXRhKGlkPSciK2YuanFtRGF0YSgiaWQiKSsiJykiLGUubmV4dFBhZ2UpLApqPWcubGVuZ3RoJiZlLm5leHRQYWdlJiZhKCIudWktaGVhZGVyLWZpeGVkOmpxbURhdGEoaWQ9JyIrZy5qcW1EYXRhKCJpZCIpKyInKSIsZS5uZXh0UGFnZSksaD1ofHxhKCk7aWYoaC5sZW5ndGh8fGoubGVuZ3RoKWguYWRkKGopLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLGUubmV4dFBhZ2Uub25lKCJwYWdlc2hvdyIsZnVuY3Rpb24oKXtoLmFkZChqKS5hcHBlbmRUbyh0aGlzKX0pfX0pfSxfdmlzaWJsZTp0cnVlLHVwZGF0ZVBhZ2VQYWRkaW5nOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMuZWxlbWVudCxkPWIuaXMoIi51aS1oZWFkZXIiKTt0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbnx8KGM9Y3x8Yi5jbG9zZXN0KCIudWktcGFnZSIpLGEoYykuY3NzKCJwYWRkaW5nLSIrKGQ/InRvcCI6ImJvdHRvbSIpLGIub3V0ZXJIZWlnaHQoKSkpfSxfdXNlVHJhbnNpdGlvbjpmdW5jdGlvbihjKXt2YXIgYj10aGlzLmVsZW1lbnQsZD1hKHMpLnNjcm9sbFRvcCgpLGU9Yi5oZWlnaHQoKSwKZj1iLmNsb3Nlc3QoIi51aS1wYWdlIikuaGVpZ2h0KCksZz1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSxiPWIuaXMoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIik/ImhlYWRlciI6ImZvb3RlciI7cmV0dXJuIWMmJih0aGlzLm9wdGlvbnMudHJhbnNpdGlvbiYmdGhpcy5vcHRpb25zLnRyYW5zaXRpb24hPT0ibm9uZSImJihiPT09ImhlYWRlciImJiF0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbiYmZD5lfHxiPT09ImZvb3RlciImJiF0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbiYmZCtnPGYtZSl8fHRoaXMub3B0aW9ucy5mdWxsc2NyZWVuKX0sc2hvdzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmVsZW1lbnQ7dGhpcy5fdXNlVHJhbnNpdGlvbihhKT9iLnJlbW92ZUNsYXNzKCJvdXQgdWktZml4ZWQtaGlkZGVuIikuYWRkQ2xhc3MoImluIik6Yi5yZW1vdmVDbGFzcygidWktZml4ZWQtaGlkZGVuIik7dGhpcy5fdmlzaWJsZT10cnVlfSxoaWRlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWxlbWVudCwKZD0ib3V0IisodGhpcy5vcHRpb25zLnRyYW5zaXRpb249PT0ic2xpZGUiPyIgcmV2ZXJzZSI6IiIpO3RoaXMuX3VzZVRyYW5zaXRpb24oYSk/Yi5hZGRDbGFzcyhkKS5yZW1vdmVDbGFzcygiaW4iKS5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2IuYWRkQ2xhc3MoInVpLWZpeGVkLWhpZGRlbiIpLnJlbW92ZUNsYXNzKGQpfSk6Yi5hZGRDbGFzcygidWktZml4ZWQtaGlkZGVuIikucmVtb3ZlQ2xhc3MoZCk7dGhpcy5fdmlzaWJsZT1mYWxzZX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dGhpc1t0aGlzLl92aXNpYmxlPyJoaWRlIjoic2hvdyJdKCl9LF9iaW5kVG9nZ2xlSGFuZGxlcnM6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGI9Yy5vcHRpb25zO2MuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLmJpbmQoInZjbGljayIsZnVuY3Rpb24oZCl7Yi50YXBUb2dnbGUmJiFhKGQudGFyZ2V0KS5jbG9zZXN0KGIudGFwVG9nZ2xlQmxhY2tsaXN0KS5sZW5ndGgmJmMudG9nZ2xlKCl9KS5iaW5kKCJmb2N1c2luIGZvY3Vzb3V0IiwKZnVuY3Rpb24oZCl7aWYoc2NyZWVuLndpZHRoPDUwMCYmYShkLnRhcmdldCkuaXMoYi5oaWRlRHVyaW5nRm9jdXMpJiYhYShkLnRhcmdldCkuY2xvc2VzdCgiLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZCIpLmxlbmd0aCljW2QudHlwZT09PSJmb2N1c2luIiYmYy5fdmlzaWJsZT8iaGlkZSI6InNob3ciXSgpfSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQsYj1hLmlzKCIudWktaGVhZGVyIik7YS5jbG9zZXN0KCIudWktcGFnZSIpLmNzcygicGFkZGluZy0iKyhiPyJ0b3AiOiJib3R0b20iKSwiIik7YS5yZW1vdmVDbGFzcygidWktaGVhZGVyLWZpeGVkIHVpLWZvb3Rlci1maXhlZCB1aS1oZWFkZXItZnVsbHNjcmVlbiB1aS1mb290ZXItZnVsbHNjcmVlbiBpbiBvdXQgZmFkZSBzbGlkZWRvd24gc2xpZGV1cCB1aS1maXhlZC1oaWRkZW4iKTthLmNsb3Nlc3QoIi51aS1wYWdlIikucmVtb3ZlQ2xhc3MoInVpLXBhZ2UtaGVhZGVyLWZpeGVkIHVpLXBhZ2UtZm9vdGVyLWZpeGVkIHVpLXBhZ2UtaGVhZGVyLWZ1bGxzY3JlZW4gdWktcGFnZS1mb290ZXItZnVsbHNjcmVlbiIpfX0pOwphKGspLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihjKXthKGMudGFyZ2V0KS5qcW1EYXRhKCJmdWxsc2NyZWVuIikmJmEoYS5tb2JpbGUuZml4ZWR0b29sYmFyLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvcixjLnRhcmdldCkubm90KCI6anFtRGF0YShmdWxsc2NyZWVuKSIpLmpxbURhdGEoImZ1bGxzY3JlZW4iLHRydWUpO2EubW9iaWxlLmZpeGVkdG9vbGJhci5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihjLnRhcmdldCl9KX0pKGwpOyhmdW5jdGlvbihhLGMpe2lmKC9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSl7dmFyIGI9YS5tb2JpbGUuem9vbSxkLGUsZixnLGg7YShjKS5iaW5kKCJvcmllbnRhdGlvbmNoYW5nZS5pb3NvcmllbnRhdGlvbmZpeCIsYi5lbmFibGUpLmJpbmQoImRldmljZW1vdGlvbi5pb3NvcmllbnRhdGlvbmZpeCIsZnVuY3Rpb24oYSl7ZD0KYS5vcmlnaW5hbEV2ZW50O2g9ZC5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5O2U9TWF0aC5hYnMoaC54KTtmPU1hdGguYWJzKGgueSk7Zz1NYXRoLmFicyhoLnopOyFjLm9yaWVudGF0aW9uJiYoZT43fHwoZz42JiZmPDh8fGc8OCYmZj42KSYmZT41KT9iLmVuYWJsZWQmJmIuZGlzYWJsZSgpOmIuZW5hYmxlZHx8Yi5lbmFibGUoKX0pfX0pKGwsdGhpcyk7KGZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24gYigpe3ZhciBiPWEoIi4iK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5maXJzdCgpO2guY3NzKHt0b3A6YS5zdXBwb3J0LnNjcm9sbFRvcCYmZy5zY3JvbGxUb3AoKStnLmhlaWdodCgpLzJ8fGIubGVuZ3RoJiZiLm9mZnNldCgpLnRvcHx8MTAwfSl9ZnVuY3Rpb24gZCgpe3ZhciBjPWgub2Zmc2V0KCksZT1nLnNjcm9sbFRvcCgpLGY9YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCk7aWYoYy50b3A8ZXx8Yy50b3AtZT5mKWguYWRkQ2xhc3MoInVpLWxvYWRlci1mYWtlZml4IiksYigpLApnLnVuYmluZCgic2Nyb2xsIixkKS5iaW5kKCJzY3JvbGwiLGIpfWZ1bmN0aW9uIGUoKXtmLnJlbW92ZUNsYXNzKCJ1aS1tb2JpbGUtcmVuZGVyaW5nIil9dmFyIGY9YSgiaHRtbCIpO2EoImhlYWQiKTt2YXIgZz1hKGMpO2EoYy5kb2N1bWVudCkudHJpZ2dlcigibW9iaWxlaW5pdCIpO2lmKGEubW9iaWxlLmdyYWRlQSgpKXtpZihhLm1vYmlsZS5hamF4QmxhY2tsaXN0KWEubW9iaWxlLmFqYXhFbmFibGVkPWZhbHNlO2YuYWRkQ2xhc3MoInVpLW1vYmlsZSB1aS1tb2JpbGUtcmVuZGVyaW5nIik7c2V0VGltZW91dChlLDVFMyk7dmFyIGg9YSgiPGRpdiBjbGFzcz0ndWktbG9hZGVyJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWxvYWRpbmcnPjwvc3Bhbj48aDE+PC9oMT48L2Rpdj4iKTthLmV4dGVuZChhLm1vYmlsZSx7c2hvd1BhZ2VMb2FkaW5nTXNnOmZ1bmN0aW9uKGIsYyxlKXtmLmFkZENsYXNzKCJ1aS1sb2FkaW5nIik7aWYoYS5tb2JpbGUubG9hZGluZ01lc3NhZ2Upe3ZhciBrPQplfHxhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZVRleHRWaXNpYmxlO2I9Ynx8YS5tb2JpbGUubG9hZGluZ01lc3NhZ2VUaGVtZTtoLmF0dHIoImNsYXNzIiwidWktbG9hZGVyIHVpLWNvcm5lci1hbGwgdWktYm9keS0iKyhifHwiYSIpKyIgdWktbG9hZGVyLSIrKGs/InZlcmJvc2UiOiJkZWZhdWx0IikrKGU/IiB1aS1sb2FkZXItdGV4dG9ubHkiOiIiKSkuZmluZCgiaDEiKS50ZXh0KGN8fGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlKS5lbmQoKS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKTtkKCk7Zy5iaW5kKCJzY3JvbGwiLGQpfX0saGlkZVBhZ2VMb2FkaW5nTXNnOmZ1bmN0aW9uKCl7Zi5yZW1vdmVDbGFzcygidWktbG9hZGluZyIpO2EubW9iaWxlLmxvYWRpbmdNZXNzYWdlJiZoLnJlbW92ZUNsYXNzKCJ1aS1sb2FkZXItZmFrZWZpeCIpO2EoYykudW5iaW5kKCJzY3JvbGwiLGIpO2EoYykudW5iaW5kKCJzY3JvbGwiLGQpfSxpbml0aWFsaXplUGFnZTpmdW5jdGlvbigpe3ZhciBiPQphKCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIik7Yi5sZW5ndGh8fChiPWEoImJvZHkiKS53cmFwSW5uZXIoIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdwYWdlJz48L2Rpdj4iKS5jaGlsZHJlbigwKSk7Yi5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtiLmpxbURhdGEoInVybCIpfHxiLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidXJsIixiLmF0dHIoImlkIil8fGxvY2F0aW9uLnBhdGhuYW1lK2xvY2F0aW9uLnNlYXJjaCl9KTthLm1vYmlsZS5maXJzdFBhZ2U9Yi5maXJzdCgpO2EubW9iaWxlLnBhZ2VDb250YWluZXI9Yi5maXJzdCgpLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1tb2JpbGUtdmlld3BvcnQiKTtnLnRyaWdnZXIoInBhZ2Vjb250YWluZXJjcmVhdGUiKTthLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coKTtlKCk7IWEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkfHwhYS5tb2JpbGUucGF0aC5pc0hhc2hWYWxpZChsb2NhdGlvbi5oYXNoKXx8CiFhKGxvY2F0aW9uLmhhc2grJzpqcW1EYXRhKHJvbGU9InBhZ2UiKScpLmxlbmd0aCYmIWEubW9iaWxlLnBhdGguaXNQYXRoKGxvY2F0aW9uLmhhc2gpP2EubW9iaWxlLmNoYW5nZVBhZ2UoYS5tb2JpbGUuZmlyc3RQYWdlLHt0cmFuc2l0aW9uOiJub25lIixyZXZlcnNlOnRydWUsY2hhbmdlSGFzaDpmYWxzZSxmcm9tSGFzaENoYW5nZTp0cnVlfSk6Zy50cmlnZ2VyKCJoYXNoY2hhbmdlIixbdHJ1ZV0pfX0pO2EubW9iaWxlLm5hdnJlYWR5RGVmZXJyZWQucmVzb2x2ZSgpO2EoZnVuY3Rpb24oKXtjLnNjcm9sbFRvKDAsMSk7YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw9IWEuc3VwcG9ydC5zY3JvbGxUb3B8fGEoYykuc2Nyb2xsVG9wKCk9PT0xPzA6MTthLmZuLmNvbnRyb2xncm91cCYmYShrKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YSgiOmpxbURhdGEocm9sZT0nY29udHJvbGdyb3VwJykiLGIudGFyZ2V0KS5qcW1FbmhhbmNlYWJsZSgpLmNvbnRyb2xncm91cCh7ZXhjbHVkZUludmlzaWJsZTpmYWxzZX0pfSk7CmEubW9iaWxlLmF1dG9Jbml0aWFsaXplUGFnZSYmYS5tb2JpbGUuaW5pdGlhbGl6ZVBhZ2UoKTtnLmxvYWQoYS5tb2JpbGUuc2lsZW50U2Nyb2xsKTthLnN1cHBvcnQuY3NzUG9pbnRlckV2ZW50c3x8YShrKS5kZWxlZ2F0ZSgiLnVpLWRpc2FibGVkIiwidmNsaWNrIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCk7YS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX0pfSl9fSkobCx0aGlzKX0pOwo=",
                "body": "LyohIGpRdWVyeSBNb2JpbGUgdjEuMS4yIDlhMTVmMWFhZjk5ZmFhNzkxMzEwM2Y1ZWExOWVmNjk1OWI3M2Q3NjMganF1ZXJ5bW9iaWxlLmNvbSB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwoKKGZ1bmN0aW9uKGwscyxrKXt0eXBlb2YgZGVmaW5lPT09ImZ1bmN0aW9uIiYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSxmdW5jdGlvbihDKXtrKEMsbCxzKTtyZXR1cm4gQy5tb2JpbGV9KTprKGwualF1ZXJ5LGwscyl9KSh0aGlzLGRvY3VtZW50LGZ1bmN0aW9uKGwscyxrLEMpeyhmdW5jdGlvbihhLGMsYixkKXtmdW5jdGlvbiBlKGEpe2Zvcig7YSYmdHlwZW9mIGEub3JpZ2luYWxFdmVudCE9PSJ1bmRlZmluZWQiOylhPWEub3JpZ2luYWxFdmVudDtyZXR1cm4gYX1mdW5jdGlvbiBmKGIpe2Zvcih2YXIgZT17fSxnLGM7Yjspe2c9YS5kYXRhKGIsdCk7Zm9yKGMgaW4gZylpZihnW2NdKWVbY109ZS5oYXNWaXJ0dWFsQmluZGluZz10cnVlO2I9Yi5wYXJlbnROb2RlfXJldHVybiBlfWZ1bmN0aW9uIGcoKXt6JiYoY2xlYXJUaW1lb3V0KHopLHo9MCk7ej1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Rz16PTA7Qi5sZW5ndGg9MDtEPWZhbHNlO0g9dHJ1ZX0sYS52bW91c2UucmVzZXRUaW1lckR1cmF0aW9uKX0KZnVuY3Rpb24gaChiLGcsYyl7dmFyIGosaDtpZighKGg9YyYmY1tiXSkpe2lmKGM9IWMpYTp7Zm9yKGM9Zy50YXJnZXQ7Yzspe2lmKChoPWEuZGF0YShjLHQpKSYmKCFifHxoW2JdKSlicmVhayBhO2M9Yy5wYXJlbnROb2RlfWM9bnVsbH1oPWN9aWYoaCl7aj1nO3ZhciBjPWoudHlwZSxmLEQ7aj1hLkV2ZW50KGopO2oudHlwZT1iO2g9ai5vcmlnaW5hbEV2ZW50O2Y9YS5ldmVudC5wcm9wcztjLnNlYXJjaCgvXihtb3VzZXxjbGljaykvKT4tMSYmKGY9dSk7aWYoaClmb3IoRD1mLmxlbmd0aDtEOyliPWZbLS1EXSxqW2JdPWhbYl07aWYoYy5zZWFyY2goL21vdXNlKGRvd258dXApfGNsaWNrLyk+LTEmJiFqLndoaWNoKWoud2hpY2g9MTtpZihjLnNlYXJjaCgvXnRvdWNoLykhPT0tMSYmKGI9ZShoKSxjPWIudG91Y2hlcyxiPWIuY2hhbmdlZFRvdWNoZXMsYz1jJiZjLmxlbmd0aD9jWzBdOmImJmIubGVuZ3RoP2JbMF06ZCkpZm9yKGg9MCxsZW49eC5sZW5ndGg7aDxsZW47aCsrKWI9eFtoXSwKaltiXT1jW2JdO2EoZy50YXJnZXQpLnRyaWdnZXIoail9cmV0dXJuIGp9ZnVuY3Rpb24gaihiKXt2YXIgZT1hLmRhdGEoYi50YXJnZXQsdik7aWYoIUQmJighR3x8RyE9PWUpKWlmKGU9aCgidiIrYi50eXBlLGIpKWUuaXNEZWZhdWx0UHJldmVudGVkKCkmJmIucHJldmVudERlZmF1bHQoKSxlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmIuc3RvcFByb3BhZ2F0aW9uKCksZS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpJiZiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpfWZ1bmN0aW9uIHEoYil7dmFyIGM9ZShiKS50b3VjaGVzLGc7aWYoYyYmYy5sZW5ndGg9PT0xJiYoZz1iLnRhcmdldCxjPWYoZyksYy5oYXNWaXJ0dWFsQmluZGluZykpRz1OKyssYS5kYXRhKGcsdixHKSx6JiYoY2xlYXJUaW1lb3V0KHopLHo9MCksQT1IPWZhbHNlLGc9ZShiKS50b3VjaGVzWzBdLHk9Zy5wYWdlWCxzPWcucGFnZVksaCgidm1vdXNlb3ZlciIsYixjKSxoKCJ2bW91c2Vkb3duIixiLGMpfQpmdW5jdGlvbiBwKGEpe0h8fChBfHxoKCJ2bW91c2VjYW5jZWwiLGEsZihhLnRhcmdldCkpLEE9dHJ1ZSxnKCkpfWZ1bmN0aW9uIG0oYil7aWYoIUgpe3ZhciBjPWUoYikudG91Y2hlc1swXSxkPUEsaj1hLnZtb3VzZS5tb3ZlRGlzdGFuY2VUaHJlc2hvbGQ7QT1BfHxNYXRoLmFicyhjLnBhZ2VYLXkpPmp8fE1hdGguYWJzKGMucGFnZVktcyk+ajtmbGFncz1mKGIudGFyZ2V0KTtBJiYhZCYmaCgidm1vdXNlY2FuY2VsIixiLGZsYWdzKTtoKCJ2bW91c2Vtb3ZlIixiLGZsYWdzKTtnKCl9fWZ1bmN0aW9uIHcoYSl7aWYoIUgpe0g9dHJ1ZTt2YXIgYj1mKGEudGFyZ2V0KSxjO2goInZtb3VzZXVwIixhLGIpO2lmKCFBJiYoYz1oKCJ2Y2xpY2siLGEsYikpJiZjLmlzRGVmYXVsdFByZXZlbnRlZCgpKWM9ZShhKS5jaGFuZ2VkVG91Y2hlc1swXSxCLnB1c2goe3RvdWNoSUQ6Ryx4OmMuY2xpZW50WCx5OmMuY2xpZW50WX0pLEQ9dHJ1ZTtoKCJ2bW91c2VvdXQiLGEsYik7QT1mYWxzZTtnKCl9fWZ1bmN0aW9uIG4oYil7dmFyIGI9CmEuZGF0YShiLHQpLGU7aWYoYilmb3IoZSBpbiBiKWlmKGJbZV0pcmV0dXJuIHRydWU7cmV0dXJuIGZhbHNlfWZ1bmN0aW9uIGsoKXt9ZnVuY3Rpb24gbyhiKXt2YXIgZT1iLnN1YnN0cigxKTtyZXR1cm57c2V0dXA6ZnVuY3Rpb24oKXtuKHRoaXMpfHxhLmRhdGEodGhpcyx0LHt9KTthLmRhdGEodGhpcyx0KVtiXT10cnVlO2xbYl09KGxbYl18fDApKzE7bFtiXT09PTEmJkouYmluZChlLGopO2EodGhpcykuYmluZChlLGspO2lmKE0pbC50b3VjaHN0YXJ0PShsLnRvdWNoc3RhcnR8fDApKzEsbC50b3VjaHN0YXJ0PT09MSYmSi5iaW5kKCJ0b3VjaHN0YXJ0IixxKS5iaW5kKCJ0b3VjaGVuZCIsdykuYmluZCgidG91Y2htb3ZlIixtKS5iaW5kKCJzY3JvbGwiLHApfSx0ZWFyZG93bjpmdW5jdGlvbigpey0tbFtiXTtsW2JdfHxKLnVuYmluZChlLGopO00mJigtLWwudG91Y2hzdGFydCxsLnRvdWNoc3RhcnR8fEoudW5iaW5kKCJ0b3VjaHN0YXJ0IixxKS51bmJpbmQoInRvdWNobW92ZSIsbSkudW5iaW5kKCJ0b3VjaGVuZCIsCncpLnVuYmluZCgic2Nyb2xsIixwKSk7dmFyIGM9YSh0aGlzKSxnPWEuZGF0YSh0aGlzLHQpO2cmJihnW2JdPWZhbHNlKTtjLnVuYmluZChlLGspO24odGhpcyl8fGMucmVtb3ZlRGF0YSh0KX19fXZhciB0PSJ2aXJ0dWFsTW91c2VCaW5kaW5ncyIsdj0idmlydHVhbFRvdWNoSUQiLGM9InZtb3VzZW92ZXIgdm1vdXNlZG93biB2bW91c2Vtb3ZlIHZtb3VzZXVwIHZjbGljayB2bW91c2VvdXQgdm1vdXNlY2FuY2VsIi5zcGxpdCgiICIpLHg9ImNsaWVudFggY2xpZW50WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkiLnNwbGl0KCIgIiksdT1hLmV2ZW50LnByb3BzLmNvbmNhdChhLmV2ZW50Lm1vdXNlSG9va3M/YS5ldmVudC5tb3VzZUhvb2tzLnByb3BzOltdKSxsPXt9LHo9MCx5PTAscz0wLEE9ZmFsc2UsQj1bXSxEPWZhbHNlLEg9ZmFsc2UsTT0iYWRkRXZlbnRMaXN0ZW5lciJpbiBiLEo9YShiKSxOPTEsRz0wO2Eudm1vdXNlPXttb3ZlRGlzdGFuY2VUaHJlc2hvbGQ6MTAsY2xpY2tEaXN0YW5jZVRocmVzaG9sZDoxMCwKcmVzZXRUaW1lckR1cmF0aW9uOjE1MDB9O2Zvcih2YXIgSz0wO0s8Yy5sZW5ndGg7SysrKWEuZXZlbnQuc3BlY2lhbFtjW0tdXT1vKGNbS10pO00mJmIuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGZ1bmN0aW9uKGIpe3ZhciBlPUIubGVuZ3RoLGM9Yi50YXJnZXQsZyxkLGosaCxmO2lmKGUpe2c9Yi5jbGllbnRYO2Q9Yi5jbGllbnRZO3RocmVzaG9sZD1hLnZtb3VzZS5jbGlja0Rpc3RhbmNlVGhyZXNob2xkO2ZvcihqPWM7ajspe2ZvcihoPTA7aDxlO2grKylpZihmPUJbaF0saj09PWMmJk1hdGguYWJzKGYueC1nKTx0aHJlc2hvbGQmJk1hdGguYWJzKGYueS1kKTx0aHJlc2hvbGR8fGEuZGF0YShqLHYpPT09Zi50b3VjaElEKXtiLnByZXZlbnREZWZhdWx0KCk7Yi5zdG9wUHJvcGFnYXRpb24oKTtyZXR1cm59aj1qLnBhcmVudE5vZGV9fX0sdHJ1ZSl9KShsLHMsayk7KGZ1bmN0aW9uKGEsYyxiKXtmdW5jdGlvbiBkKGEpe2E9YXx8bG9jYXRpb24uaHJlZjtyZXR1cm4iIyIrYS5yZXBsYWNlKC9eW14jXSojPyguKikkLywKIiQxIil9dmFyIGU9Imhhc2hjaGFuZ2UiLGY9ayxnLGg9YS5ldmVudC5zcGVjaWFsLGo9Zi5kb2N1bWVudE1vZGUscT0ib24iK2UgaW4gYyYmKGo9PT1ifHxqPjcpO2EuZm5bZV09ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy5iaW5kKGUsYSk6dGhpcy50cmlnZ2VyKGUpfTthLmZuW2VdLmRlbGF5PTUwO2hbZV09YS5leHRlbmQoaFtlXSx7c2V0dXA6ZnVuY3Rpb24oKXtpZihxKXJldHVybiBmYWxzZTthKGcuc3RhcnQpfSx0ZWFyZG93bjpmdW5jdGlvbigpe2lmKHEpcmV0dXJuIGZhbHNlO2EoZy5zdG9wKX19KTtnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZygpe3ZhciBiPWQoKSxqPXQobik7aWYoYiE9PW4pbyhuPWIsaiksYShjKS50cmlnZ2VyKGUpO2Vsc2UgaWYoaiE9PW4pbG9jYXRpb24uaHJlZj1sb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyMuKi8sIiIpK2o7aD1zZXRUaW1lb3V0KGcsYS5mbltlXS5kZWxheSl9dmFyIGo9e30saCxuPWQoKSxrPWZ1bmN0aW9uKGEpe3JldHVybiBhfSxvPQprLHQ9aztqLnN0YXJ0PWZ1bmN0aW9uKCl7aHx8ZygpfTtqLnN0b3A9ZnVuY3Rpb24oKXtoJiZjbGVhclRpbWVvdXQoaCk7aD1ifTthLmJyb3dzZXIubXNpZSYmIXEmJmZ1bmN0aW9uKCl7dmFyIGIsYztqLnN0YXJ0PWZ1bmN0aW9uKCl7aWYoIWIpYz0oYz1hLmZuW2VdLnNyYykmJmMrZCgpLGI9YSgnPGlmcmFtZSB0YWJpbmRleD0iLTEiIHRpdGxlPSJlbXB0eSIvPicpLmhpZGUoKS5vbmUoImxvYWQiLGZ1bmN0aW9uKCl7Y3x8byhkKCkpO2coKX0pLmF0dHIoInNyYyIsY3x8ImphdmFzY3JpcHQ6MCIpLmluc2VydEFmdGVyKCJib2R5IilbMF0uY29udGVudFdpbmRvdyxmLm9ucHJvcGVydHljaGFuZ2U9ZnVuY3Rpb24oKXt0cnl7aWYoZXZlbnQucHJvcGVydHlOYW1lPT09InRpdGxlIiliLmRvY3VtZW50LnRpdGxlPWYudGl0bGV9Y2F0Y2goYSl7fX19O2ouc3RvcD1rO3Q9ZnVuY3Rpb24oKXtyZXR1cm4gZChiLmxvY2F0aW9uLmhyZWYpfTtvPWZ1bmN0aW9uKGMsZyl7dmFyIGQ9Yi5kb2N1bWVudCwKaj1hLmZuW2VdLmRvbWFpbjtpZihjIT09ZylkLnRpdGxlPWYudGl0bGUsZC5vcGVuKCksaiYmZC53cml0ZSgnPHNjcmlwdD5kb2N1bWVudC5kb21haW49IicraisnIjxcL3NjcmlwdD4nKSxkLmNsb3NlKCksYi5sb2NhdGlvbi5oYXNoPWN9fSgpO3JldHVybiBqfSgpfSkobCx0aGlzKTsoZnVuY3Rpb24oYSxjKXtpZihhLmNsZWFuRGF0YSl7dmFyIGI9YS5jbGVhbkRhdGE7YS5jbGVhbkRhdGE9ZnVuY3Rpb24oYyl7Zm9yKHZhciBkPTAsZzsoZz1jW2RdKSE9bnVsbDtkKyspYShnKS50cmlnZ2VySGFuZGxlcigicmVtb3ZlIik7YihjKX19ZWxzZXt2YXIgZD1hLmZuLnJlbW92ZTthLmZuLnJlbW92ZT1mdW5jdGlvbihiLGMpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtjfHwoIWJ8fGEuZmlsdGVyKGIsW3RoaXNdKS5sZW5ndGgpJiZhKCIqIix0aGlzKS5hZGQoW3RoaXNdKS5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS50cmlnZ2VySGFuZGxlcigicmVtb3ZlIil9KTtyZXR1cm4gZC5jYWxsKGEodGhpcyksCmIsYyl9KX19YS53aWRnZXQ9ZnVuY3Rpb24oYixjLGcpe3ZhciBkPWIuc3BsaXQoIi4iKVswXSxqLGI9Yi5zcGxpdCgiLiIpWzFdO2o9ZCsiLSIrYjtpZighZylnPWMsYz1hLldpZGdldDthLmV4cHJbIjoiXVtqXT1mdW5jdGlvbihjKXtyZXR1cm4hIWEuZGF0YShjLGIpfTthW2RdPWFbZF18fHt9O2FbZF1bYl09ZnVuY3Rpb24oYSxiKXthcmd1bWVudHMubGVuZ3RoJiZ0aGlzLl9jcmVhdGVXaWRnZXQoYSxiKX07Yz1uZXcgYztjLm9wdGlvbnM9YS5leHRlbmQodHJ1ZSx7fSxjLm9wdGlvbnMpO2FbZF1bYl0ucHJvdG90eXBlPWEuZXh0ZW5kKHRydWUsYyx7bmFtZXNwYWNlOmQsd2lkZ2V0TmFtZTpiLHdpZGdldEV2ZW50UHJlZml4OmFbZF1bYl0ucHJvdG90eXBlLndpZGdldEV2ZW50UHJlZml4fHxiLHdpZGdldEJhc2VDbGFzczpqfSxnKTthLndpZGdldC5icmlkZ2UoYixhW2RdW2JdKX07YS53aWRnZXQuYnJpZGdlPWZ1bmN0aW9uKGIsZCl7YS5mbltiXT1mdW5jdGlvbihnKXt2YXIgaD0KdHlwZW9mIGc9PT0ic3RyaW5nIixqPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxxPXRoaXMsZz0haCYmai5sZW5ndGg/YS5leHRlbmQuYXBwbHkobnVsbCxbdHJ1ZSxnXS5jb25jYXQoaikpOmc7aWYoaCYmZy5jaGFyQXQoMCk9PT0iXyIpcmV0dXJuIHE7aD90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1hLmRhdGEodGhpcyxiKTtpZighZCl0aHJvdyJjYW5ub3QgY2FsbCBtZXRob2RzIG9uICIrYisiIHByaW9yIHRvIGluaXRpYWxpemF0aW9uOyBhdHRlbXB0ZWQgdG8gY2FsbCBtZXRob2QgJyIrZysiJyI7aWYoIWEuaXNGdW5jdGlvbihkW2ddKSl0aHJvdyJubyBzdWNoIG1ldGhvZCAnIitnKyInIGZvciAiK2IrIiB3aWRnZXQgaW5zdGFuY2UiO3ZhciBoPWRbZ10uYXBwbHkoZCxqKTtpZihoIT09ZCYmaCE9PWMpcmV0dXJuIHE9aCxmYWxzZX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEuZGF0YSh0aGlzLGIpO2M/Yy5vcHRpb24oZ3x8e30pLl9pbml0KCk6CmEuZGF0YSh0aGlzLGIsbmV3IGQoZyx0aGlzKSl9KTtyZXR1cm4gcX19O2EuV2lkZ2V0PWZ1bmN0aW9uKGEsYil7YXJndW1lbnRzLmxlbmd0aCYmdGhpcy5fY3JlYXRlV2lkZ2V0KGEsYil9O2EuV2lkZ2V0LnByb3RvdHlwZT17d2lkZ2V0TmFtZToid2lkZ2V0Iix3aWRnZXRFdmVudFByZWZpeDoiIixvcHRpb25zOntkaXNhYmxlZDpmYWxzZX0sX2NyZWF0ZVdpZGdldDpmdW5jdGlvbihiLGMpe2EuZGF0YShjLHRoaXMud2lkZ2V0TmFtZSx0aGlzKTt0aGlzLmVsZW1lbnQ9YShjKTt0aGlzLm9wdGlvbnM9YS5leHRlbmQodHJ1ZSx7fSx0aGlzLm9wdGlvbnMsdGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLGIpO3ZhciBnPXRoaXM7dGhpcy5lbGVtZW50LmJpbmQoInJlbW92ZS4iK3RoaXMud2lkZ2V0TmFtZSxmdW5jdGlvbigpe2cuZGVzdHJveSgpfSk7dGhpcy5fY3JlYXRlKCk7dGhpcy5fdHJpZ2dlcigiY3JlYXRlIik7dGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBiPQp7fTthLm1ldGFkYXRhJiYoYj1hLm1ldGFkYXRhLmdldChlbGVtZW50KVt0aGlzLndpZGdldE5hbWVdKTtyZXR1cm4gYn0sX2NyZWF0ZTpmdW5jdGlvbigpe30sX2luaXQ6ZnVuY3Rpb24oKXt9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQudW5iaW5kKCIuIit0aGlzLndpZGdldE5hbWUpLnJlbW92ZURhdGEodGhpcy53aWRnZXROYW1lKTt0aGlzLndpZGdldCgpLnVuYmluZCgiLiIrdGhpcy53aWRnZXROYW1lKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIikucmVtb3ZlQ2xhc3ModGhpcy53aWRnZXRCYXNlQ2xhc3MrIi1kaXNhYmxlZCB1aS1zdGF0ZS1kaXNhYmxlZCIpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24oYixkKXt2YXIgZz1iO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0wKXJldHVybiBhLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMpO2lmKHR5cGVvZiBiPT09InN0cmluZyIpe2lmKGQ9PT1jKXJldHVybiB0aGlzLm9wdGlvbnNbYl07Cmc9e307Z1tiXT1kfXRoaXMuX3NldE9wdGlvbnMoZyk7cmV0dXJuIHRoaXN9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXM7YS5lYWNoKGIsZnVuY3Rpb24oYSxiKXtjLl9zZXRPcHRpb24oYSxiKX0pO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYil7dGhpcy5vcHRpb25zW2FdPWI7YT09PSJkaXNhYmxlZCImJnRoaXMud2lkZ2V0KClbYj8iYWRkQ2xhc3MiOiJyZW1vdmVDbGFzcyJdKHRoaXMud2lkZ2V0QmFzZUNsYXNzKyItZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIixiKTtyZXR1cm4gdGhpc30sZW5hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLGZhbHNlKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIix0cnVlKX0sX3RyaWdnZXI6ZnVuY3Rpb24oYixjLGQpe3ZhciBoPXRoaXMub3B0aW9uc1tiXSxjPWEuRXZlbnQoYyk7CmMudHlwZT0oYj09PXRoaXMud2lkZ2V0RXZlbnRQcmVmaXg/Yjp0aGlzLndpZGdldEV2ZW50UHJlZml4K2IpLnRvTG93ZXJDYXNlKCk7ZD1kfHx7fTtpZihjLm9yaWdpbmFsRXZlbnQpZm9yKHZhciBiPWEuZXZlbnQucHJvcHMubGVuZ3RoLGo7Yjspaj1hLmV2ZW50LnByb3BzWy0tYl0sY1tqXT1jLm9yaWdpbmFsRXZlbnRbal07dGhpcy5lbGVtZW50LnRyaWdnZXIoYyxkKTtyZXR1cm4hKGEuaXNGdW5jdGlvbihoKSYmaC5jYWxsKHRoaXMuZWxlbWVudFswXSxjLGQpPT09ZmFsc2V8fGMuaXNEZWZhdWx0UHJldmVudGVkKCkpfX19KShsKTsoZnVuY3Rpb24oYSxjKXthLndpZGdldCgibW9iaWxlLndpZGdldCIse19jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oKXthLldpZGdldC5wcm90b3R5cGUuX2NyZWF0ZVdpZGdldC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fdHJpZ2dlcigiaW5pdCIpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxkPXt9OwphLmVhY2godGhpcy5vcHRpb25zLGZ1bmN0aW9uKGEpe3ZhciBmPWIuanFtRGF0YShhLnJlcGxhY2UoL1tBLVpdL2csZnVuY3Rpb24oYSl7cmV0dXJuIi0iK2EudG9Mb3dlckNhc2UoKX0pKTtmIT09YyYmKGRbYV09Zil9KTtyZXR1cm4gZH0sZW5oYW5jZVdpdGhpbjpmdW5jdGlvbihiLGMpe3RoaXMuZW5oYW5jZShhKHRoaXMub3B0aW9ucy5pbml0U2VsZWN0b3IsYShiKSksYyl9LGVuaGFuY2U6ZnVuY3Rpb24oYixjKXt2YXIgZSxmPWEoYiksZj1hLm1vYmlsZS5lbmhhbmNlYWJsZShmKTtjJiZmLmxlbmd0aCYmKGU9KGU9YS5tb2JpbGUuY2xvc2VzdFBhZ2VEYXRhKGYpKSYmZS5rZWVwTmF0aXZlU2VsZWN0b3IoKXx8IiIsZj1mLm5vdChlKSk7Zlt0aGlzLndpZGdldE5hbWVdKCl9LHJhaXNlOmZ1bmN0aW9uKGEpe3Rocm93IldpZGdldCBbIit0aGlzLndpZGdldE5hbWUrIl06ICIrYTt9fSl9KShsKTsoZnVuY3Rpb24oYSxjLGIpe3ZhciBkPXt9O2EubW9iaWxlPWEuZXh0ZW5kKHt9LHt2ZXJzaW9uOiIxLjEuMiIsCm5zOiIiLHN1YlBhZ2VVcmxLZXk6InVpLXBhZ2UiLGFjdGl2ZVBhZ2VDbGFzczoidWktcGFnZS1hY3RpdmUiLGFjdGl2ZUJ0bkNsYXNzOiJ1aS1idG4tYWN0aXZlIixmb2N1c0NsYXNzOiJ1aS1mb2N1cyIsYWpheEVuYWJsZWQ6dHJ1ZSxoYXNoTGlzdGVuaW5nRW5hYmxlZDp0cnVlLGxpbmtCaW5kaW5nRW5hYmxlZDp0cnVlLGRlZmF1bHRQYWdlVHJhbnNpdGlvbjoiZmFkZSIsbWF4VHJhbnNpdGlvbldpZHRoOmZhbHNlLG1pblNjcm9sbEJhY2s6MjUwLHRvdWNoT3ZlcmZsb3dFbmFibGVkOmZhbHNlLGRlZmF1bHREaWFsb2dUcmFuc2l0aW9uOiJwb3AiLGxvYWRpbmdNZXNzYWdlOiJsb2FkaW5nIixwYWdlTG9hZEVycm9yTWVzc2FnZToiRXJyb3IgTG9hZGluZyBQYWdlIixsb2FkaW5nTWVzc2FnZVRleHRWaXNpYmxlOmZhbHNlLGxvYWRpbmdNZXNzYWdlVGhlbWU6ImEiLHBhZ2VMb2FkRXJyb3JNZXNzYWdlVGhlbWU6ImUiLHBob25lZ2FwTmF2aWdhdGlvbkVuYWJsZWQ6ZmFsc2UsYXV0b0luaXRpYWxpemVQYWdlOnRydWUsCnB1c2hTdGF0ZUVuYWJsZWQ6dHJ1ZSxpZ25vcmVDb250ZW50RW5hYmxlZDpmYWxzZSxvcmllbnRhdGlvbkNoYW5nZUVuYWJsZWQ6dHJ1ZSxidXR0b25NYXJrdXA6e2hvdmVyRGVsYXk6MjAwfSxrZXlDb2RlOntBTFQ6MTgsQkFDS1NQQUNFOjgsQ0FQU19MT0NLOjIwLENPTU1BOjE4OCxDT01NQU5EOjkxLENPTU1BTkRfTEVGVDo5MSxDT01NQU5EX1JJR0hUOjkzLENPTlRST0w6MTcsREVMRVRFOjQ2LERPV046NDAsRU5EOjM1LEVOVEVSOjEzLEVTQ0FQRToyNyxIT01FOjM2LElOU0VSVDo0NSxMRUZUOjM3LE1FTlU6OTMsTlVNUEFEX0FERDoxMDcsTlVNUEFEX0RFQ0lNQUw6MTEwLE5VTVBBRF9ESVZJREU6MTExLE5VTVBBRF9FTlRFUjoxMDgsTlVNUEFEX01VTFRJUExZOjEwNixOVU1QQURfU1VCVFJBQ1Q6MTA5LFBBR0VfRE9XTjozNCxQQUdFX1VQOjMzLFBFUklPRDoxOTAsUklHSFQ6MzksU0hJRlQ6MTYsU1BBQ0U6MzIsVEFCOjksVVA6MzgsV0lORE9XUzo5MX0sc2lsZW50U2Nyb2xsOmZ1bmN0aW9uKGIpe2lmKGEudHlwZShiKSE9PQoibnVtYmVyIiliPWEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsO2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPWZhbHNlO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjLnNjcm9sbFRvKDAsYik7YShrKS50cmlnZ2VyKCJzaWxlbnRzY3JvbGwiLHt4OjAseTpifSl9LDIwKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9dHJ1ZX0sMTUwKX0sbnNOb3JtYWxpemVEaWN0OmQsbnNOb3JtYWxpemU6ZnVuY3Rpb24oYil7cmV0dXJuIWI/dm9pZCAwOmRbYl18fChkW2JdPWEuY2FtZWxDYXNlKGEubW9iaWxlLm5zK2IpKX0sZ2V0SW5oZXJpdGVkVGhlbWU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9YVswXSxkPSIiLGU9L3VpLShiYXJ8Ym9keXxvdmVybGF5KS0oW2Etel0pXGIvLGYsdztjOyl7aWYoKGY9Yy5jbGFzc05hbWV8fCIiKSYmKHc9ZS5leGVjKGYpKSYmKGQ9d1syXSkpYnJlYWs7Yz1jLnBhcmVudE5vZGV9cmV0dXJuIGR8fApifHwiYSJ9LGNsb3Nlc3RQYWdlRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9zZXN0KCc6anFtRGF0YShyb2xlPSJwYWdlIiksIDpqcW1EYXRhKHJvbGU9ImRpYWxvZyIpJykuZGF0YSgicGFnZSIpfSxlbmhhbmNlYWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYXZlUGFyZW50cyhhLCJlbmhhbmNlIil9LGhpamFja2FibGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGF2ZVBhcmVudHMoYSwiYWpheCIpfSxoYXZlUGFyZW50czpmdW5jdGlvbihiLGMpe2lmKCFhLm1vYmlsZS5pZ25vcmVDb250ZW50RW5hYmxlZClyZXR1cm4gYjtmb3IodmFyIGQ9Yi5sZW5ndGgsZT1hKCksZixtLHcsbj0wO248ZDtuKyspe209Yi5lcShuKTt3PWZhbHNlO2ZvcihmPWJbbl07Zjspe2lmKChmLmdldEF0dHJpYnV0ZT9mLmdldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zK2MpOiIiKT09PSJmYWxzZSIpe3c9dHJ1ZTticmVha31mPWYucGFyZW50Tm9kZX13fHwoZT1lLmFkZChtKSl9cmV0dXJuIGV9LApnZXRTY3JlZW5IZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gYy5pbm5lckhlaWdodHx8YShjKS5oZWlnaHQoKX19LGEubW9iaWxlKTthLmZuLmpxbURhdGE9ZnVuY3Rpb24oYyxkKXt2YXIgZTt0eXBlb2YgYyE9InVuZGVmaW5lZCImJihjJiYoYz1hLm1vYmlsZS5uc05vcm1hbGl6ZShjKSksZT1hcmd1bWVudHMubGVuZ3RoPDJ8fGQ9PT1iP3RoaXMuZGF0YShjKTp0aGlzLmRhdGEoYyxkKSk7cmV0dXJuIGV9O2EuanFtRGF0YT1mdW5jdGlvbihiLGMsZCl7dmFyIGU7dHlwZW9mIGMhPSJ1bmRlZmluZWQiJiYoZT1hLmRhdGEoYixjP2EubW9iaWxlLm5zTm9ybWFsaXplKGMpOmMsZCkpO3JldHVybiBlfTthLmZuLmpxbVJlbW92ZURhdGE9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMucmVtb3ZlRGF0YShhLm1vYmlsZS5uc05vcm1hbGl6ZShiKSl9O2EuanFtUmVtb3ZlRGF0YT1mdW5jdGlvbihiLGMpe3JldHVybiBhLnJlbW92ZURhdGEoYixhLm1vYmlsZS5uc05vcm1hbGl6ZShjKSl9O2EuZm4ucmVtb3ZlV2l0aERlcGVuZGVudHM9CmZ1bmN0aW9uKCl7YS5yZW1vdmVXaXRoRGVwZW5kZW50cyh0aGlzKX07YS5yZW1vdmVXaXRoRGVwZW5kZW50cz1mdW5jdGlvbihiKXtiPWEoYik7KGIuanFtRGF0YSgiZGVwZW5kZW50cyIpfHxhKCkpLnJlbW92ZSgpO2IucmVtb3ZlKCl9O2EuZm4uYWRkRGVwZW5kZW50cz1mdW5jdGlvbihiKXthLmFkZERlcGVuZGVudHMoYSh0aGlzKSxiKX07YS5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9YShiKS5qcW1EYXRhKCJkZXBlbmRlbnRzIil8fGEoKTthKGIpLmpxbURhdGEoImRlcGVuZGVudHMiLGEubWVyZ2UoZCxjKSl9O2EuZm4uZ2V0RW5jb2RlZFRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGRpdi8+IikudGV4dChhKHRoaXMpLnRleHQoKSkuaHRtbCgpfTthLmZuLmpxbUVuaGFuY2VhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmVuaGFuY2VhYmxlKHRoaXMpfTthLmZuLmpxbUhpamFja2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuaGlqYWNrYWJsZSh0aGlzKX07CnZhciBlPWEuZmluZCxmPS86anFtRGF0YVwoKFteKV0qKVwpL2c7YS5maW5kPWZ1bmN0aW9uKGIsYyxkLHEpe2I9Yi5yZXBsYWNlKGYsIltkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrIiQxXSIpO3JldHVybiBlLmNhbGwodGhpcyxiLGMsZCxxKX07YS5leHRlbmQoYS5maW5kLGUpO2EuZmluZC5tYXRjaGVzPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuZmluZChiLG51bGwsbnVsbCxjKX07YS5maW5kLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihiLGMpe3JldHVybiBhLmZpbmQoYyxudWxsLG51bGwsW2JdKS5sZW5ndGg+MH19KShsLHRoaXMpOyhmdW5jdGlvbihhKXthKHMpO3ZhciBjPWEoImh0bWwiKTthLm1vYmlsZS5tZWRpYT1mdW5jdGlvbigpe3ZhciBiPXt9LGQ9YSgiPGRpdiBpZD0nanF1ZXJ5LW1lZGlhdGVzdCc+PC9kaXY+IiksZT1hKCI8Ym9keT4iKS5hcHBlbmQoZCk7cmV0dXJuIGZ1bmN0aW9uKGEpe2lmKCEoYSBpbiBiKSl7dmFyIGc9ay5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLApoPSJAbWVkaWEgIithKyIgeyAjanF1ZXJ5LW1lZGlhdGVzdCB7IHBvc2l0aW9uOmFic29sdXRlOyB9IH0iO2cudHlwZT0idGV4dC9jc3MiO2cuc3R5bGVTaGVldD9nLnN0eWxlU2hlZXQuY3NzVGV4dD1oOmcuYXBwZW5kQ2hpbGQoay5jcmVhdGVUZXh0Tm9kZShoKSk7Yy5wcmVwZW5kKGUpLnByZXBlbmQoZyk7YlthXT1kLmNzcygicG9zaXRpb24iKT09PSJhYnNvbHV0ZSI7ZS5hZGQoZykucmVtb3ZlKCl9cmV0dXJuIGJbYV19fSgpfSkobCk7KGZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24gYihhKXt2YXIgYj1hLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyKDEpLGE9KGErIiAiK2cuam9pbihiKyIgIikrYikuc3BsaXQoIiAiKSxkO2ZvcihkIGluIGEpaWYoZlthW2RdXSE9PWMpcmV0dXJuIHRydWV9ZnVuY3Rpb24gZChhLGIsYyl7dmFyIGQ9ay5jcmVhdGVFbGVtZW50KCJkaXYiKSxjPWM/W2NdOmcsZTtmb3IoaT0wO2k8Yy5sZW5ndGg7aSsrKXt2YXIgaj1jW2ldLGg9Ii0iK2ouY2hhckF0KDApLnRvTG93ZXJDYXNlKCkrCmouc3Vic3RyKDEpKyItIithKyI6ICIrYisiOyIsaj1qLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2ouc3Vic3RyKDEpKyhhLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyKDEpKTtkLnNldEF0dHJpYnV0ZSgic3R5bGUiLGgpO2Quc3R5bGVbal0mJihlPXRydWUpfXJldHVybiEhZX12YXIgZT1hKCI8Ym9keT4iKS5wcmVwZW5kVG8oImh0bWwiKSxmPWVbMF0uc3R5bGUsZz1bIldlYmtpdCIsIk1veiIsIk8iXSxoPSJwYWxtR2V0UmVzb3VyY2UiaW4gcyxqPXMub3BlcmEscT1zLm9wZXJhbWluaSYme30udG9TdHJpbmcuY2FsbChzLm9wZXJhbWluaSk9PT0iW29iamVjdCBPcGVyYU1pbmldIixwPXMuYmxhY2tiZXJyeTthLmV4dGVuZChhLm1vYmlsZSx7YnJvd3Nlcjp7fX0pO2EubW9iaWxlLmJyb3dzZXIuaWU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MyxiPWsuY3JlYXRlRWxlbWVudCgiZGl2IiksYz1iLmFsbHx8W107Yi5pbm5lckhUTUw9IjxcIS0tW2lmIGd0IElFICIrICsrYSsKIl0+PGJyPjwhW2VuZGlmXS0tXD4iLGNbMF07KTtyZXR1cm4gYT40P2E6IWF9KCk7YS5leHRlbmQoYS5zdXBwb3J0LHtvcmllbnRhdGlvbjoib3JpZW50YXRpb24iaW4gcyYmIm9ub3JpZW50YXRpb25jaGFuZ2UiaW4gcyx0b3VjaDoib250b3VjaGVuZCJpbiBrLGNzc1RyYW5zaXRpb25zOiJXZWJLaXRUcmFuc2l0aW9uRXZlbnQiaW4gc3x8ZCgidHJhbnNpdGlvbiIsImhlaWdodCAxMDBtcyBsaW5lYXIiKSYmIWoscHVzaFN0YXRlOiJwdXNoU3RhdGUiaW4gaGlzdG9yeSYmInJlcGxhY2VTdGF0ZSJpbiBoaXN0b3J5LG1lZGlhcXVlcnk6YS5tb2JpbGUubWVkaWEoIm9ubHkgYWxsIiksY3NzUHNldWRvRWxlbWVudDohIWIoImNvbnRlbnQiKSx0b3VjaE92ZXJmbG93OiEhYigib3ZlcmZsb3dTY3JvbGxpbmciKSxjc3NUcmFuc2Zvcm0zZDpkKCJwZXJzcGVjdGl2ZSIsIjEwcHgiLCJtb3oiKXx8YS5tb2JpbGUubWVkaWEoIigtIitnLmpvaW4oIi10cmFuc2Zvcm0tM2QpLCgtIikrIi10cmFuc2Zvcm0tM2QpLCh0cmFuc2Zvcm0tM2QpIiksCmJveFNoYWRvdzohIWIoImJveFNoYWRvdyIpJiYhcCxzY3JvbGxUb3A6KCJwYWdlWE9mZnNldCJpbiBzfHwic2Nyb2xsVG9wImluIGsuZG9jdW1lbnRFbGVtZW50fHwic2Nyb2xsVG9wImluIGVbMF0pJiYhaCYmIXEsZHluYW1pY0Jhc2VUYWc6ZnVuY3Rpb24oKXt2YXIgYj1sb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUrInVpLWRpci8iLGM9YSgiaGVhZCBiYXNlIiksZD1udWxsLGo9IiIsZztjLmxlbmd0aD9qPWMuYXR0cigiaHJlZiIpOmM9ZD1hKCI8YmFzZT4iLHtocmVmOmJ9KS5hcHBlbmRUbygiaGVhZCIpO2c9YSgiPGEgaHJlZj0ndGVzdHVybCcgLz4iKS5wcmVwZW5kVG8oZSlbMF0uaHJlZjtjWzBdLmhyZWY9anx8bG9jYXRpb24ucGF0aG5hbWU7ZCYmZC5yZW1vdmUoKTtyZXR1cm4gZy5pbmRleE9mKGIpPT09MH0oKSxjc3NQb2ludGVyRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGE9ay5jcmVhdGVFbGVtZW50KCJ4IiksYj1rLmRvY3VtZW50RWxlbWVudCwKYz1zLmdldENvbXB1dGVkU3R5bGU7aWYoISgicG9pbnRlckV2ZW50cyJpbiBhLnN0eWxlKSlyZXR1cm4gZmFsc2U7YS5zdHlsZS5wb2ludGVyRXZlbnRzPSJhdXRvIjthLnN0eWxlLnBvaW50ZXJFdmVudHM9IngiO2IuYXBwZW5kQ2hpbGQoYSk7Yz1jJiZjKGEsIiIpLnBvaW50ZXJFdmVudHM9PT0iYXV0byI7Yi5yZW1vdmVDaGlsZChhKTtyZXR1cm4hIWN9KCl9KTtlLnJlbW92ZSgpO2g9ZnVuY3Rpb24oKXt2YXIgYT1zLm5hdmlnYXRvci51c2VyQWdlbnQ7cmV0dXJuIGEuaW5kZXhPZigiTm9raWEiKT4tMSYmKGEuaW5kZXhPZigiU3ltYmlhbi8zIik+LTF8fGEuaW5kZXhPZigiU2VyaWVzNjAvNSIpPi0xKSYmYS5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xJiZhLm1hdGNoKC8oQnJvd3Nlck5HfE5va2lhQnJvd3NlcilcLzdcLlswLTNdLyl9KCk7YS5tb2JpbGUuZ3JhZGVBPWZ1bmN0aW9uKCl7cmV0dXJuIGEuc3VwcG9ydC5tZWRpYXF1ZXJ5fHxhLm1vYmlsZS5icm93c2VyLmllJiZhLm1vYmlsZS5icm93c2VyLmllPj0KN307YS5tb2JpbGUuYWpheEJsYWNrbGlzdD1zLmJsYWNrYmVycnkmJiFzLldlYktpdFBvaW50fHxxfHxoO2gmJmEoZnVuY3Rpb24oKXthKCJoZWFkIGxpbmtbcmVsPSdzdHlsZXNoZWV0J10iKS5hdHRyKCJyZWwiLCJhbHRlcm5hdGUgc3R5bGVzaGVldCIpLmF0dHIoInJlbCIsInN0eWxlc2hlZXQiKX0pO2Euc3VwcG9ydC5ib3hTaGFkb3d8fGEoImh0bWwiKS5hZGRDbGFzcygidWktbW9iaWxlLW5vc3VwcG9ydC1ib3hzaGFkb3ciKX0pKGwpOyhmdW5jdGlvbihhLGMsYil7ZnVuY3Rpb24gZChiLGMsZCl7dmFyIGU9ZC50eXBlO2QudHlwZT1jO2EuZXZlbnQuaGFuZGxlLmNhbGwoYixkKTtkLnR5cGU9ZX1hLmVhY2goInRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIG9yaWVudGF0aW9uY2hhbmdlIHRocm90dGxlZHJlc2l6ZSB0YXAgdGFwaG9sZCBzd2lwZSBzd2lwZWxlZnQgc3dpcGVyaWdodCBzY3JvbGxzdGFydCBzY3JvbGxzdG9wIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGIsYyl7YS5mbltjXT0KZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy5iaW5kKGMsYSk6dGhpcy50cmlnZ2VyKGMpfTthLmF0dHJGbltjXT10cnVlfSk7dmFyIGU9YS5zdXBwb3J0LnRvdWNoLGY9ZT8idG91Y2hzdGFydCI6Im1vdXNlZG93biIsZz1lPyJ0b3VjaGVuZCI6Im1vdXNldXAiLGg9ZT8idG91Y2htb3ZlIjoibW91c2Vtb3ZlIjthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQ9e2VuYWJsZWQ6dHJ1ZSxzZXR1cDpmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSxqKXtlPWo7ZChjLGU/InNjcm9sbHN0YXJ0Ijoic2Nyb2xsc3RvcCIsYSl9dmFyIGM9dGhpcyxlLGc7YShjKS5iaW5kKCJ0b3VjaG1vdmUgc2Nyb2xsIixmdW5jdGlvbihjKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZCYmKGV8fGIoYyx0cnVlKSxjbGVhclRpbWVvdXQoZyksZz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YihjLGZhbHNlKX0sNTApKX0pfX07YS5ldmVudC5zcGVjaWFsLnRhcD17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgYj0KdGhpcyxjPWEoYik7Yy5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbihlKXtmdW5jdGlvbiBnKCl7Y2xlYXJUaW1lb3V0KG8pfWZ1bmN0aW9uIGgoKXtnKCk7Yy51bmJpbmQoInZjbGljayIsZikudW5iaW5kKCJ2bW91c2V1cCIsZyk7YShrKS51bmJpbmQoInZtb3VzZWNhbmNlbCIsaCl9ZnVuY3Rpb24gZihhKXtoKCk7cj09YS50YXJnZXQmJmQoYiwidGFwIixhKX1pZihlLndoaWNoJiZlLndoaWNoIT09MSlyZXR1cm4gZmFsc2U7dmFyIHI9ZS50YXJnZXQsbztjLmJpbmQoInZtb3VzZXVwIixnKS5iaW5kKCJ2Y2xpY2siLGYpO2EoaykuYmluZCgidm1vdXNlY2FuY2VsIixoKTtvPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtkKGIsInRhcGhvbGQiLGEuRXZlbnQoInRhcGhvbGQiLHt0YXJnZXQ6cn0pKX0sNzUwKX0pfX07YS5ldmVudC5zcGVjaWFsLnN3aXBlPXtzY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkOjEwLGR1cmF0aW9uVGhyZXNob2xkOjFFMyxob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQ6MzAsCnZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQ6NzUsc2V0dXA6ZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpO2MuYmluZChmLGZ1bmN0aW9uKGQpe2Z1bmN0aW9uIGUoYil7aWYoayl7dmFyIGM9Yi5vcmlnaW5hbEV2ZW50LnRvdWNoZXM/Yi5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF06YjtuPXt0aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGNvb3JkczpbYy5wYWdlWCxjLnBhZ2VZXX07TWF0aC5hYnMoay5jb29yZHNbMF0tbi5jb29yZHNbMF0pPmEuZXZlbnQuc3BlY2lhbC5zd2lwZS5zY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkJiZiLnByZXZlbnREZWZhdWx0KCl9fXZhciBmPWQub3JpZ2luYWxFdmVudC50b3VjaGVzP2Qub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmQsaz17dGltZToobmV3IERhdGUpLmdldFRpbWUoKSxjb29yZHM6W2YucGFnZVgsZi5wYWdlWV0sb3JpZ2luOmEoZC50YXJnZXQpfSxuO2MuYmluZChoLGUpLm9uZShnLGZ1bmN0aW9uKCl7Yy51bmJpbmQoaCxlKTtrJiZuJiYKbi50aW1lLWsudGltZTxhLmV2ZW50LnNwZWNpYWwuc3dpcGUuZHVyYXRpb25UaHJlc2hvbGQmJk1hdGguYWJzKGsuY29vcmRzWzBdLW4uY29vcmRzWzBdKT5hLmV2ZW50LnNwZWNpYWwuc3dpcGUuaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkJiZNYXRoLmFicyhrLmNvb3Jkc1sxXS1uLmNvb3Jkc1sxXSk8YS5ldmVudC5zcGVjaWFsLnN3aXBlLnZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQmJmsub3JpZ2luLnRyaWdnZXIoInN3aXBlIikudHJpZ2dlcihrLmNvb3Jkc1swXT5uLmNvb3Jkc1swXT8ic3dpcGVsZWZ0Ijoic3dpcGVyaWdodCIpO2s9bj1ifSl9KX19OyhmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXt2YXIgYT1lKCk7YSE9PWcmJihnPWEsZC50cmlnZ2VyKCJvcmllbnRhdGlvbmNoYW5nZSIpKX12YXIgZD1hKGIpLGUsZyxoLGYsbD17MDp0cnVlLDE4MDp0cnVlfTtpZihhLnN1cHBvcnQub3JpZW50YXRpb24mJihoPWIuaW5uZXJXaWR0aHx8YShiKS53aWR0aCgpLGY9Yi5pbm5lckhlaWdodHx8CmEoYikuaGVpZ2h0KCksaD1oPmYmJmgtZj41MCxmPWxbYi5vcmllbnRhdGlvbl0saCYmZnx8IWgmJiFmKSlsPXsiLTkwIjp0cnVlLDkwOnRydWV9O2EuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZT17c2V0dXA6ZnVuY3Rpb24oKXtpZihhLnN1cHBvcnQub3JpZW50YXRpb24mJmEubW9iaWxlLm9yaWVudGF0aW9uQ2hhbmdlRW5hYmxlZClyZXR1cm4gZmFsc2U7Zz1lKCk7ZC5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGMpfSx0ZWFyZG93bjpmdW5jdGlvbigpe2lmKGEuc3VwcG9ydC5vcmllbnRhdGlvbiYmYS5tb2JpbGUub3JpZW50YXRpb25DaGFuZ2VFbmFibGVkKXJldHVybiBmYWxzZTtkLnVuYmluZCgidGhyb3R0bGVkcmVzaXplIixjKX0sYWRkOmZ1bmN0aW9uKGEpe3ZhciBiPWEuaGFuZGxlcjthLmhhbmRsZXI9ZnVuY3Rpb24oYSl7YS5vcmllbnRhdGlvbj1lKCk7cmV0dXJuIGIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19O2EuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5vcmllbnRhdGlvbj0KZT1mdW5jdGlvbigpe3ZhciBjPXRydWUsYz1rLmRvY3VtZW50RWxlbWVudDtyZXR1cm4oYz1hLnN1cHBvcnQub3JpZW50YXRpb24/bFtiLm9yaWVudGF0aW9uXTpjJiZjLmNsaWVudFdpZHRoL2MuY2xpZW50SGVpZ2h0PDEuMSk/InBvcnRyYWl0IjoibGFuZHNjYXBlIn19KShsLGMpOyhmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC50aHJvdHRsZWRyZXNpemU9e3NldHVwOmZ1bmN0aW9uKCl7YSh0aGlzKS5iaW5kKCJyZXNpemUiLGIpfSx0ZWFyZG93bjpmdW5jdGlvbigpe2EodGhpcykudW5iaW5kKCJyZXNpemUiLGIpfX07dmFyIGI9ZnVuY3Rpb24oKXtlPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2c9ZS1jO2c+PTI1MD8oYz1lLGEodGhpcykudHJpZ2dlcigidGhyb3R0bGVkcmVzaXplIikpOihkJiZjbGVhclRpbWVvdXQoZCksZD1zZXRUaW1lb3V0KGIsMjUwLWcpKX0sYz0wLGQsZSxnfSkoKTthLmVhY2goe3Njcm9sbHN0b3A6InNjcm9sbHN0YXJ0Iix0YXBob2xkOiJ0YXAiLHN3aXBlbGVmdDoic3dpcGUiLApzd2lwZXJpZ2h0OiJzd2lwZSJ9LGZ1bmN0aW9uKGIsYyl7YS5ldmVudC5zcGVjaWFsW2JdPXtzZXR1cDpmdW5jdGlvbigpe2EodGhpcykuYmluZChjLGEubm9vcCl9fX0pfSkobCx0aGlzKTsoZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS5wYWdlIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOiJjIixkb21DYWNoZTpmYWxzZSxrZWVwTmF0aXZlRGVmYXVsdDoiOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLl90cmlnZ2VyKCJiZWZvcmVjcmVhdGUiKT09PWZhbHNlKXJldHVybiBmYWxzZTthLmVsZW1lbnQuYXR0cigidGFiaW5kZXgiLCIwIikuYWRkQ2xhc3MoInVpLXBhZ2UgdWktYm9keS0iK2Eub3B0aW9ucy50aGVtZSkuYmluZCgicGFnZWJlZm9yZWhpZGUiLGZ1bmN0aW9uKCl7YS5yZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kKCl9KS5iaW5kKCJwYWdlYmVmb3Jlc2hvdyIsCmZ1bmN0aW9uKCl7YS5zZXRDb250YWluZXJCYWNrZ3JvdW5kKCl9KX0scmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZDpmdW5jdGlvbigpe2EubW9iaWxlLnBhZ2VDb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLW92ZXJsYXktIithLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQucGFyZW50KCkpKX0sc2V0Q29udGFpbmVyQmFja2dyb3VuZDpmdW5jdGlvbihjKXt0aGlzLm9wdGlvbnMudGhlbWUmJmEubW9iaWxlLnBhZ2VDb250YWluZXIuYWRkQ2xhc3MoInVpLW92ZXJsYXktIisoY3x8dGhpcy5vcHRpb25zLnRoZW1lKSl9LGtlZXBOYXRpdmVTZWxlY3RvcjpmdW5jdGlvbigpe3ZhciBjPXRoaXMub3B0aW9ucztyZXR1cm4gYy5rZWVwTmF0aXZlJiZhLnRyaW0oYy5rZWVwTmF0aXZlKSYmYy5rZWVwTmF0aXZlIT09Yy5rZWVwTmF0aXZlRGVmYXVsdD9bYy5rZWVwTmF0aXZlLGMua2VlcE5hdGl2ZURlZmF1bHRdLmpvaW4oIiwgIik6Yy5rZWVwTmF0aXZlRGVmYXVsdH19KX0pKGwpOwooZnVuY3Rpb24oYSxjLGIpe3ZhciBkPWZ1bmN0aW9uKGQpe2Q9PT1iJiYoZD10cnVlKTtyZXR1cm4gZnVuY3Rpb24oYixlLGoscSl7dmFyIGs9bmV3IGEuRGVmZXJyZWQsbT1lPyIgcmV2ZXJzZSI6IiIsbD1hLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpLmxhc3RTY3JvbGx8fGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsLG49YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCkscj1hLm1vYmlsZS5tYXhUcmFuc2l0aW9uV2lkdGghPT1mYWxzZSYmYShjKS53aWR0aCgpPmEubW9iaWxlLm1heFRyYW5zaXRpb25XaWR0aCxvPSFhLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnN8fHJ8fCFifHxiPT09Im5vbmUifHxNYXRoLm1heChhKGMpLnNjcm9sbFRvcCgpLGwpPmEubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb24oKSx0PWZ1bmN0aW9uKCl7YS5tb2JpbGUucGFnZUNvbnRhaW5lci50b2dnbGVDbGFzcygidWktbW9iaWxlLXZpZXdwb3J0LXRyYW5zaXRpb25pbmcgdmlld3BvcnQtIisKYil9LHY9ZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD1mYWxzZTtjLnNjcm9sbFRvKDAsbCk7c2V0VGltZW91dChmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPXRydWV9LDE1MCl9LHg9ZnVuY3Rpb24oKXtxLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcysiIG91dCBpbiByZXZlcnNlICIrYikuaGVpZ2h0KCIiKX0scj1mdW5jdGlvbigpe3EmJmQmJngoKTtqLmNzcygiei1pbmRleCIsLTEwKTtqLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcysiIHVpLXBhZ2UtcHJlLWluIik7YS5tb2JpbGUuZm9jdXNQYWdlKGopO2ouaGVpZ2h0KG4rbCk7digpO2ouY3NzKCJ6LWluZGV4IiwiIik7b3x8ai5hbmltYXRpb25Db21wbGV0ZSh1KTtqLnJlbW92ZUNsYXNzKCIgdWktcGFnZS1wcmUtaW4iKS5hZGRDbGFzcyhiKyIgaW4iK20pO28mJnUoKX0sdT1mdW5jdGlvbigpe2R8fHEmJngoKTtqLnJlbW92ZUNsYXNzKCJvdXQgaW4gcmV2ZXJzZSAiKwpiKS5oZWlnaHQoIiIpO3QoKTthKGMpLnNjcm9sbFRvcCgpIT09bCYmdigpO2sucmVzb2x2ZShiLGUsaixxLHRydWUpfTt0KCk7cSYmIW8/KGQ/cS5hbmltYXRpb25Db21wbGV0ZShyKTpyKCkscS5oZWlnaHQobithKGMpLnNjcm9sbFRvcCgpKS5hZGRDbGFzcyhiKyIgb3V0IittKSk6cigpO3JldHVybiBrLnByb21pc2UoKX19LGU9ZCgpLGQ9ZChmYWxzZSk7YS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyPWU7YS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzPXsiZGVmYXVsdCI6YS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyLHNlcXVlbnRpYWw6ZSxzaW11bHRhbmVvdXM6ZH07YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcz17fTthLm1vYmlsZS5nZXRNYXhTY3JvbGxGb3JUcmFuc2l0aW9uPWEubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb258fGZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpKjN9fSkobCx0aGlzKTsKKGZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24gYihiKXtsJiYoIWwuY2xvc2VzdCgiLnVpLXBhZ2UtYWN0aXZlIikubGVuZ3RofHxiKSYmbC5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk7bD1udWxsfWZ1bmN0aW9uIGQoKXtvPWZhbHNlO3IubGVuZ3RoPjAmJmEubW9iaWxlLmNoYW5nZVBhZ2UuYXBwbHkobnVsbCxyLnBvcCgpKX1mdW5jdGlvbiBlKGIsYyxkLGUpe2MmJmMuZGF0YSgicGFnZSIpLl90cmlnZ2VyKCJiZWZvcmVoaWRlIixudWxsLHtuZXh0UGFnZTpifSk7Yi5kYXRhKCJwYWdlIikuX3RyaWdnZXIoImJlZm9yZXNob3ciLG51bGwse3ByZXZQYWdlOmN8fGEoIiIpfSk7YS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnKCk7ZCYmIWEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmYS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrc1tkXSYmKGQ9YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrc1tkXSk7ZD0oYS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzW2R8fCJkZWZhdWx0Il18fAphLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIpKGQsZSxiLGMpO2QuZG9uZShmdW5jdGlvbigpe2MmJmMuZGF0YSgicGFnZSIpLl90cmlnZ2VyKCJoaWRlIixudWxsLHtuZXh0UGFnZTpifSk7Yi5kYXRhKCJwYWdlIikuX3RyaWdnZXIoInNob3ciLG51bGwse3ByZXZQYWdlOmN8fGEoIiIpfSl9KTtyZXR1cm4gZH1mdW5jdGlvbiBmKCl7dmFyIGI9YSgiLiIrYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKSxjPXBhcnNlRmxvYXQoYi5jc3MoInBhZGRpbmctdG9wIikpLGQ9cGFyc2VGbG9hdChiLmNzcygicGFkZGluZy1ib3R0b20iKSksZT1wYXJzZUZsb2F0KGIuY3NzKCJib3JkZXItdG9wLXdpZHRoIikpLGc9cGFyc2VGbG9hdChiLmNzcygiYm9yZGVyLWJvdHRvbS13aWR0aCIpKTtiLmNzcygibWluLWhlaWdodCIseigpLWMtZC1lLWcpfWZ1bmN0aW9uIGcoYixjKXtjJiZiLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicm9sZSIsYyk7Yi5wYWdlKCl9ZnVuY3Rpb24gaChhKXtmb3IoO2E7KXtpZih0eXBlb2YgYS5ub2RlTmFtZT09PQoic3RyaW5nIiYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT0iYSIpYnJlYWs7YT1hLnBhcmVudE5vZGV9cmV0dXJuIGF9ZnVuY3Rpb24gaihiKXt2YXIgYj1hKGIpLmNsb3Nlc3QoIi51aS1wYWdlIikuanFtRGF0YSgidXJsIiksYz11LmhyZWZOb0hhc2g7aWYoIWJ8fCFtLmlzUGF0aChiKSliPWM7cmV0dXJuIG0ubWFrZVVybEFic29sdXRlKGIsYyl9dmFyIHE9YShzKTthKCJodG1sIik7dmFyIHA9YSgiaGVhZCIpLG09e3VybFBhcnNlUkU6L14oKCgoW146XC8jXD9dKzopPyg/OihcL1wvKSgoPzooKFteOkBcLyNcP10rKSg/Olw6KFteOkBcLyNcP10rKSk/KUApPygoW146XC8jXD9cXVxbXSt8XFtbXlwvXF1AIz9dK1xdKSg/Olw6KFswLTldKykpPykpPyk/KT8oKFwvPyg/OlteXC9cPyNdK1wvKykqKShbXlw/I10qKSkpPyhcP1teI10rKT8pKCMuKik/LyxnZXRMb2NhdGlvbjpmdW5jdGlvbihhKXt2YXIgYj1hP3RoaXMucGFyc2VVcmwoYSk6bG9jYXRpb24sYT10aGlzLnBhcnNlVXJsKGF8fApsb2NhdGlvbi5ocmVmKS5oYXNoO3JldHVybiBiLnByb3RvY29sKyIvLyIrYi5ob3N0K2IucGF0aG5hbWUrYi5zZWFyY2grKGE9PT0iIyI/IiI6YSl9LHBhcnNlTG9jYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJzZVVybCh0aGlzLmdldExvY2F0aW9uKCkpfSxwYXJzZVVybDpmdW5jdGlvbihiKXtpZihhLnR5cGUoYik9PT0ib2JqZWN0IilyZXR1cm4gYjtiPW0udXJsUGFyc2VSRS5leGVjKGJ8fCIiKXx8W107cmV0dXJue2hyZWY6YlswXXx8IiIsaHJlZk5vSGFzaDpiWzFdfHwiIixocmVmTm9TZWFyY2g6YlsyXXx8IiIsZG9tYWluOmJbM118fCIiLHByb3RvY29sOmJbNF18fCIiLGRvdWJsZVNsYXNoOmJbNV18fCIiLGF1dGhvcml0eTpiWzZdfHwiIix1c2VybmFtZTpiWzhdfHwiIixwYXNzd29yZDpiWzldfHwiIixob3N0OmJbMTBdfHwiIixob3N0bmFtZTpiWzExXXx8IiIscG9ydDpiWzEyXXx8IiIscGF0aG5hbWU6YlsxM118fCIiLGRpcmVjdG9yeTpiWzE0XXx8IiIsZmlsZW5hbWU6YlsxNV18fAoiIixzZWFyY2g6YlsxNl18fCIiLGhhc2g6YlsxN118fCIifX0sbWFrZVBhdGhBYnNvbHV0ZTpmdW5jdGlvbihhLGIpe2lmKGEmJmEuY2hhckF0KDApPT09Ii8iKXJldHVybiBhO2Zvcih2YXIgYT1hfHwiIixjPShiPWI/Yi5yZXBsYWNlKC9eXC98KFwvW15cL10qfFteXC9dKykkL2csIiIpOiIiKT9iLnNwbGl0KCIvIik6W10sZD1hLnNwbGl0KCIvIiksZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZz1kW2VdO3N3aXRjaChnKXtjYXNlICIuIjpicmVhaztjYXNlICIuLiI6Yy5sZW5ndGgmJmMucG9wKCk7YnJlYWs7ZGVmYXVsdDpjLnB1c2goZyl9fXJldHVybiIvIitjLmpvaW4oIi8iKX0saXNTYW1lRG9tYWluOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG0ucGFyc2VVcmwoYSkuZG9tYWluPT09bS5wYXJzZVVybChiKS5kb21haW59LGlzUmVsYXRpdmVVcmw6ZnVuY3Rpb24oYSl7cmV0dXJuIG0ucGFyc2VVcmwoYSkucHJvdG9jb2w9PT0iIn0saXNBYnNvbHV0ZVVybDpmdW5jdGlvbihhKXtyZXR1cm4gbS5wYXJzZVVybChhKS5wcm90b2NvbCE9PQoiIn0sbWFrZVVybEFic29sdXRlOmZ1bmN0aW9uKGEsYil7aWYoIW0uaXNSZWxhdGl2ZVVybChhKSlyZXR1cm4gYTtiPT09YyYmKGI9dSk7dmFyIGQ9bS5wYXJzZVVybChhKSxlPW0ucGFyc2VVcmwoYiksZz1kLnByb3RvY29sfHxlLnByb3RvY29sLGg9ZC5wcm90b2NvbD9kLmRvdWJsZVNsYXNoOmQuZG91YmxlU2xhc2h8fGUuZG91YmxlU2xhc2gsaj1kLmF1dGhvcml0eXx8ZS5hdXRob3JpdHksZj1kLnBhdGhuYW1lIT09IiIsbj1tLm1ha2VQYXRoQWJzb2x1dGUoZC5wYXRobmFtZXx8ZS5maWxlbmFtZSxlLnBhdGhuYW1lKTtyZXR1cm4gZytoK2orbisoZC5zZWFyY2h8fCFmJiZlLnNlYXJjaHx8IiIpK2QuaGFzaH0sYWRkU2VhcmNoUGFyYW1zOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9bS5wYXJzZVVybChiKSxlPXR5cGVvZiBjPT09Im9iamVjdCI/YS5wYXJhbShjKTpjLGc9ZC5zZWFyY2h8fCI/IjtyZXR1cm4gZC5ocmVmTm9TZWFyY2grZysoZy5jaGFyQXQoZy5sZW5ndGgtMSkhPT0iPyI/CiImIjoiIikrZSsoZC5oYXNofHwiIil9LGNvbnZlcnRVcmxUb0RhdGFVcmw6ZnVuY3Rpb24oYSl7dmFyIGI9bS5wYXJzZVVybChhKTtpZihtLmlzRW1iZWRkZWRQYWdlKGIpKXJldHVybiBiLmhhc2guc3BsaXQodClbMF0ucmVwbGFjZSgvXiMvLCIiKTtlbHNlIGlmKG0uaXNTYW1lRG9tYWluKGIsdSkpcmV0dXJuIGIuaHJlZk5vSGFzaC5yZXBsYWNlKHUuZG9tYWluLCIiKS5zcGxpdCh0KVswXTtyZXR1cm4gYX0sZ2V0OmZ1bmN0aW9uKGEpe2lmKGE9PT1jKWE9bG9jYXRpb24uaGFzaDtyZXR1cm4gbS5zdHJpcEhhc2goYSkucmVwbGFjZSgvW15cL10qXC5bXlwvKl0rJC8sIiIpfSxnZXRGaWxlUGF0aDpmdW5jdGlvbihiKXt2YXIgYz0iJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleTtyZXR1cm4gYiYmYi5zcGxpdChjKVswXS5zcGxpdCh0KVswXX0sc2V0OmZ1bmN0aW9uKGEpe2xvY2F0aW9uLmhhc2g9YX0saXNQYXRoOmZ1bmN0aW9uKGEpe3JldHVybi9cLy8udGVzdChhKX0sY2xlYW46ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSh1LmRvbWFpbiwKIiIpfSxzdHJpcEhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXiMvLCIiKX0sY2xlYW5IYXNoOmZ1bmN0aW9uKGEpe3JldHVybiBtLnN0cmlwSGFzaChhLnJlcGxhY2UoL1w/LiokLywiIikucmVwbGFjZSh0LCIiKSl9LGlzSGFzaFZhbGlkOmZ1bmN0aW9uKGEpe3JldHVybi9eI1teI10rJC8udGVzdChhKX0saXNFeHRlcm5hbDpmdW5jdGlvbihhKXthPW0ucGFyc2VVcmwoYSk7cmV0dXJuIGEucHJvdG9jb2wmJmEuZG9tYWluIT09eC5kb21haW4/dHJ1ZTpmYWxzZX0saGFzUHJvdG9jb2w6ZnVuY3Rpb24oYSl7cmV0dXJuL14oOj9cdys6KS8udGVzdChhKX0saXNGaXJzdFBhZ2VVcmw6ZnVuY3Rpb24oYil7dmFyIGI9bS5wYXJzZVVybChtLm1ha2VVcmxBYnNvbHV0ZShiLHUpKSxkPWEubW9iaWxlLmZpcnN0UGFnZSxkPWQmJmRbMF0/ZFswXS5pZDpjO3JldHVybihiLmhyZWZOb0hhc2g9PT14LmhyZWZOb0hhc2h8fEYmJmIuaHJlZk5vSGFzaD09PXUuaHJlZk5vSGFzaCkmJgooIWIuaGFzaHx8Yi5oYXNoPT09IiMifHxkJiZiLmhhc2gucmVwbGFjZSgvXiMvLCIiKT09PWQpfSxpc0VtYmVkZGVkUGFnZTpmdW5jdGlvbihhKXthPW0ucGFyc2VVcmwoYSk7cmV0dXJuIGEucHJvdG9jb2whPT0iIj9hLmhhc2gmJihhLmhyZWZOb0hhc2g9PT14LmhyZWZOb0hhc2h8fEYmJmEuaHJlZk5vSGFzaD09PXUuaHJlZk5vSGFzaCk6L14jLy50ZXN0KGEuaHJlZil9LGlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0OmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmYi5wcm90b2NvbD09PSJmaWxlOiImJmMuc2VhcmNoKC9eaHR0cHM/Oi8pIT0tMX19LGw9bnVsbCxuPXtzdGFjazpbXSxhY3RpdmVJbmRleDowLGdldEFjdGl2ZTpmdW5jdGlvbigpe3JldHVybiBuLnN0YWNrW24uYWN0aXZlSW5kZXhdfSxnZXRQcmV2OmZ1bmN0aW9uKCl7cmV0dXJuIG4uc3RhY2tbbi5hY3RpdmVJbmRleC0xXX0sZ2V0TmV4dDpmdW5jdGlvbigpe3JldHVybiBuLnN0YWNrW24uYWN0aXZlSW5kZXgrCjFdfSxhZGROZXc6ZnVuY3Rpb24oYSxiLGMsZCxlKXtuLmdldE5leHQoKSYmbi5jbGVhckZvcndhcmQoKTtuLnN0YWNrLnB1c2goe3VybDphLHRyYW5zaXRpb246Yix0aXRsZTpjLHBhZ2VVcmw6ZCxyb2xlOmV9KTtuLmFjdGl2ZUluZGV4PW4uc3RhY2subGVuZ3RoLTF9LGNsZWFyRm9yd2FyZDpmdW5jdGlvbigpe24uc3RhY2s9bi5zdGFjay5zbGljZSgwLG4uYWN0aXZlSW5kZXgrMSl9LGRpcmVjdEhhc2hDaGFuZ2U6ZnVuY3Rpb24oYil7dmFyIGQsZSxnO3RoaXMuZ2V0QWN0aXZlKCk7YS5lYWNoKG4uc3RhY2ssZnVuY3Rpb24oYSxjKXtkZWNvZGVVUklDb21wb25lbnQoYi5jdXJyZW50VXJsKT09PWRlY29kZVVSSUNvbXBvbmVudChjLnVybCkmJihkPWE8bi5hY3RpdmVJbmRleCxlPSFkLGc9YSl9KTt0aGlzLmFjdGl2ZUluZGV4PWchPT1jP2c6dGhpcy5hY3RpdmVJbmRleDtkPyhiLmVpdGhlcnx8Yi5pc0JhY2spKHRydWUpOmUmJihiLmVpdGhlcnx8Yi5pc0ZvcndhcmQpKGZhbHNlKX0sCmlnbm9yZU5leHRIYXNoQ2hhbmdlOmZhbHNlfSxyPVtdLG89ZmFsc2UsdD0iJnVpLXN0YXRlPWRpYWxvZyIsdj1wLmNoaWxkcmVuKCJiYXNlIikseD1tLnBhcnNlTG9jYXRpb24oKSx1PXYubGVuZ3RoP20ucGFyc2VVcmwobS5tYWtlVXJsQWJzb2x1dGUodi5hdHRyKCJocmVmIikseC5ocmVmKSk6eCxGPXguaHJlZk5vSGFzaCE9PXUuaHJlZk5vSGFzaCx6PWEubW9iaWxlLmdldFNjcmVlbkhlaWdodCx5PWEuc3VwcG9ydC5keW5hbWljQmFzZVRhZz97ZWxlbWVudDp2Lmxlbmd0aD92OmEoIjxiYXNlPiIse2hyZWY6dS5ocmVmTm9IYXNofSkucHJlcGVuZFRvKHApLHNldDpmdW5jdGlvbihhKXt5LmVsZW1lbnQuYXR0cigiaHJlZiIsbS5tYWtlVXJsQWJzb2x1dGUoYSx1KSl9LHJlc2V0OmZ1bmN0aW9uKCl7eS5lbGVtZW50LmF0dHIoImhyZWYiLHUuaHJlZk5vSGFzaCl9fTpjO2EubW9iaWxlLmJhY2s9ZnVuY3Rpb24oKXt2YXIgYT1zLm5hdmlnYXRvcjt0aGlzLnBob25lZ2FwTmF2aWdhdGlvbkVuYWJsZWQmJgphJiZhLmFwcCYmYS5hcHAuYmFja0hpc3Rvcnk/YS5hcHAuYmFja0hpc3RvcnkoKTpzLmhpc3RvcnkuYmFjaygpfTthLm1vYmlsZS5mb2N1c1BhZ2U9ZnVuY3Rpb24oYSl7dmFyIGI9YS5maW5kKCJbYXV0b2ZvY3VzXSIpLGM9YS5maW5kKCIudWktdGl0bGU6ZXEoMCkiKTtiLmxlbmd0aD9iLmZvY3VzKCk6Yy5sZW5ndGg/Yy5mb2N1cygpOmEuZm9jdXMoKX07dmFyIEU9dHJ1ZSxBLEI7QT1mdW5jdGlvbigpe2lmKEUpe3ZhciBiPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCk7aWYoYil7dmFyIGM9cS5zY3JvbGxUb3AoKTtiLmxhc3RTY3JvbGw9YzxhLm1vYmlsZS5taW5TY3JvbGxCYWNrP2EubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsOmN9fX07Qj1mdW5jdGlvbigpe3NldFRpbWVvdXQoQSwxMDApfTtxLmJpbmQoYS5zdXBwb3J0LnB1c2hTdGF0ZT8icG9wc3RhdGUiOiJoYXNoY2hhbmdlIixmdW5jdGlvbigpe0U9ZmFsc2V9KTtxLm9uZShhLnN1cHBvcnQucHVzaFN0YXRlPyJwb3BzdGF0ZSI6CiJoYXNoY2hhbmdlIixmdW5jdGlvbigpe0U9dHJ1ZX0pO3Eub25lKCJwYWdlY29udGFpbmVyY3JlYXRlIixmdW5jdGlvbigpe2EubW9iaWxlLnBhZ2VDb250YWluZXIuYmluZCgicGFnZWNoYW5nZSIsZnVuY3Rpb24oKXtFPXRydWU7cS51bmJpbmQoInNjcm9sbHN0b3AiLEIpO3EuYmluZCgic2Nyb2xsc3RvcCIsQil9KX0pO3EuYmluZCgic2Nyb2xsc3RvcCIsQik7YS5mbi5hbmltYXRpb25Db21wbGV0ZT1mdW5jdGlvbihiKXtyZXR1cm4gYS5zdXBwb3J0LmNzc1RyYW5zaXRpb25zP2EodGhpcykub25lKCJ3ZWJraXRBbmltYXRpb25FbmQgYW5pbWF0aW9uZW5kIixiKTooc2V0VGltZW91dChiLDApLGEodGhpcykpfTthLm1vYmlsZS5wYXRoPW07YS5tb2JpbGUuYmFzZT15O2EubW9iaWxlLnVybEhpc3Rvcnk9bjthLm1vYmlsZS5kaWFsb2dIYXNoS2V5PXQ7YS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzPWZhbHNlO2EubW9iaWxlLmdldERvY3VtZW50VXJsPWZ1bmN0aW9uKGIpe3JldHVybiBiPwphLmV4dGVuZCh7fSx4KTp4LmhyZWZ9O2EubW9iaWxlLmdldERvY3VtZW50QmFzZT1mdW5jdGlvbihiKXtyZXR1cm4gYj9hLmV4dGVuZCh7fSx1KTp1LmhyZWZ9O2EubW9iaWxlLl9iaW5kUGFnZVJlbW92ZT1mdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7IWIuZGF0YSgicGFnZSIpLm9wdGlvbnMuZG9tQ2FjaGUmJmIuaXMoIjpqcW1EYXRhKGV4dGVybmFsLXBhZ2U9J3RydWUnKSIpJiZiLmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIsZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGM9bmV3IGEuRXZlbnQoInBhZ2VyZW1vdmUiKTtiLnRyaWdnZXIoYyk7Yy5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8Yi5yZW1vdmVXaXRoRGVwZW5kZW50cygpfSl9O2EubW9iaWxlLmxvYWRQYWdlPWZ1bmN0aW9uKGIsZCl7dmFyIGU9YS5EZWZlcnJlZCgpLGg9YS5leHRlbmQoe30sYS5tb2JpbGUubG9hZFBhZ2UuZGVmYXVsdHMsZCksZj1udWxsLG49bnVsbCxrPW0ubWFrZVVybEFic29sdXRlKGIsYS5tb2JpbGUuYWN0aXZlUGFnZSYmCmooYS5tb2JpbGUuYWN0aXZlUGFnZSl8fHUuaHJlZk5vSGFzaCk7aWYoaC5kYXRhJiZoLnR5cGU9PT0iZ2V0IilrPW0uYWRkU2VhcmNoUGFyYW1zKGssaC5kYXRhKSxoLmRhdGE9YztpZihoLmRhdGEmJmgudHlwZT09PSJwb3N0IiloLnJlbG9hZFBhZ2U9dHJ1ZTt2YXIgcT1tLmdldEZpbGVQYXRoKGspLHA9bS5jb252ZXJ0VXJsVG9EYXRhVXJsKGspO2gucGFnZUNvbnRhaW5lcj1oLnBhZ2VDb250YWluZXJ8fGEubW9iaWxlLnBhZ2VDb250YWluZXI7Zj1oLnBhZ2VDb250YWluZXIuY2hpbGRyZW4oIltkYXRhLSIrYS5tb2JpbGUubnMrInVybD0nIitwKyInXSIpO2YubGVuZ3RoPT09MCYmcCYmIW0uaXNQYXRoKHApJiYoZj1oLnBhZ2VDb250YWluZXIuY2hpbGRyZW4oIiMiK3ApLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidXJsIixwKSk7aWYoZi5sZW5ndGg9PT0wKWlmKGEubW9iaWxlLmZpcnN0UGFnZSYmbS5pc0ZpcnN0UGFnZVVybChxKSlhLm1vYmlsZS5maXJzdFBhZ2UucGFyZW50KCkubGVuZ3RoJiYKKGY9YShhLm1vYmlsZS5maXJzdFBhZ2UpKTtlbHNlIGlmKG0uaXNFbWJlZGRlZFBhZ2UocSkpcmV0dXJuIGUucmVqZWN0KGssZCksZS5wcm9taXNlKCk7aWYoZi5sZW5ndGgpe2lmKCFoLnJlbG9hZFBhZ2UpcmV0dXJuIGcoZixoLnJvbGUpLGUucmVzb2x2ZShrLGQsZikseSYmIWQucHJlZmV0Y2gmJnkuc2V0KGIpLGUucHJvbWlzZSgpO249Zn12YXIgbD1oLnBhZ2VDb250YWluZXIsdj1uZXcgYS5FdmVudCgicGFnZWJlZm9yZWxvYWQiKSxvPXt1cmw6YixhYnNVcmw6ayxkYXRhVXJsOnAsZGVmZXJyZWQ6ZSxvcHRpb25zOmh9O2wudHJpZ2dlcih2LG8pO2lmKHYuaXNEZWZhdWx0UHJldmVudGVkKCkpcmV0dXJuIGUucHJvbWlzZSgpO2lmKGguc2hvd0xvYWRNc2cpdmFyIHI9c2V0VGltZW91dChmdW5jdGlvbigpe2EubW9iaWxlLnNob3dQYWdlTG9hZGluZ01zZygpfSxoLmxvYWRNc2dEZWxheSk7eSYmdHlwZW9mIGQucHJlZmV0Y2g9PT0idW5kZWZpbmVkIiYmeS5yZXNldCgpOyFhLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXMmJgohbS5pc1NhbWVEb21haW4oeCxrKT9lLnJlamVjdChrLGQpOmEuYWpheCh7dXJsOnEsdHlwZTpoLnR5cGUsZGF0YTpoLmRhdGEsZGF0YVR5cGU6Imh0bWwiLHN1Y2Nlc3M6ZnVuY3Rpb24oYyxqLHgpe3ZhciBsPWEoIjxkaXY+PC9kaXY+Iiksdj1jLm1hdGNoKC88dGl0bGVbXj5dKj4oW148XSopLykmJlJlZ0V4cC4kMSx1PVJlZ0V4cCgiXFxiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmw9W1wiJ10/KFteXCInPl0qKVtcIiddPyIpO1JlZ0V4cCgiKDxbXj5dK1xcYmRhdGEtIithLm1vYmlsZS5ucysicm9sZT1bXCInXT9wYWdlW1wiJ10/W14+XSo+KSIpLnRlc3QoYykmJlJlZ0V4cC4kMSYmdS50ZXN0KFJlZ0V4cC4kMSkmJlJlZ0V4cC4kMSYmKGI9cT1tLmdldEZpbGVQYXRoKFJlZ0V4cC4kMSkpO3kmJnR5cGVvZiBkLnByZWZldGNoPT09InVuZGVmaW5lZCImJnkuc2V0KHEpO2wuZ2V0KDApLmlubmVySFRNTD1jO2Y9bC5maW5kKCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikuZmlyc3QoKTsKZi5sZW5ndGh8fChmPWEoIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdwYWdlJz4iK2Muc3BsaXQoLzxcLz9ib2R5W14+XSo+L2dtaSlbMV0rIjwvZGl2PiIpKTt2JiYhZi5qcW1EYXRhKCJ0aXRsZSIpJiYofnYuaW5kZXhPZigiJiIpJiYodj1hKCI8ZGl2PiIrdisiPC9kaXY+IikudGV4dCgpKSxmLmpxbURhdGEoInRpdGxlIix2KSk7aWYoIWEuc3VwcG9ydC5keW5hbWljQmFzZVRhZyl7dmFyIHQ9bS5nZXQocSk7Zi5maW5kKCJbc3JjXSwgbGlua1tocmVmXSwgYVtyZWw9J2V4dGVybmFsJ10sIDpqcW1EYXRhKGFqYXg9J2ZhbHNlJyksIGFbdGFyZ2V0XSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLmlzKCJbaHJlZl0iKT8iaHJlZiI6YSh0aGlzKS5pcygiW3NyY10iKT8ic3JjIjoiYWN0aW9uIixjPWEodGhpcykuYXR0cihiKSxjPWMucmVwbGFjZShsb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUsIiIpOy9eKFx3Kzp8I3xcLykvLnRlc3QoYyl8fAphKHRoaXMpLmF0dHIoYix0K2MpfSl9Zi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIsbS5jb252ZXJ0VXJsVG9EYXRhVXJsKHEpKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrImV4dGVybmFsLXBhZ2UiLHRydWUpLmFwcGVuZFRvKGgucGFnZUNvbnRhaW5lcik7Zi5vbmUoInBhZ2VjcmVhdGUiLGEubW9iaWxlLl9iaW5kUGFnZVJlbW92ZSk7ZyhmLGgucm9sZSk7ay5pbmRleE9mKCImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KT4tMSYmKGY9aC5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCJbZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmw9JyIrcCsiJ10iKSk7aC5zaG93TG9hZE1zZyYmKGNsZWFyVGltZW91dChyKSxhLm1vYmlsZS5oaWRlUGFnZUxvYWRpbmdNc2coKSk7by54aHI9eDtvLnRleHRTdGF0dXM9ajtvLnBhZ2U9ZjtoLnBhZ2VDb250YWluZXIudHJpZ2dlcigicGFnZWxvYWQiLG8pO2UucmVzb2x2ZShrLGQsZixuKX0sZXJyb3I6ZnVuY3Rpb24oYixjLGcpe3kmJnkuc2V0KG0uZ2V0KCkpOwpvLnhocj1iO28udGV4dFN0YXR1cz1jO28uZXJyb3JUaHJvd249ZztiPW5ldyBhLkV2ZW50KCJwYWdlbG9hZGZhaWxlZCIpO2gucGFnZUNvbnRhaW5lci50cmlnZ2VyKGIsbyk7Yi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGguc2hvd0xvYWRNc2cmJihjbGVhclRpbWVvdXQociksYS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnKCksYS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKGEubW9iaWxlLnBhZ2VMb2FkRXJyb3JNZXNzYWdlVGhlbWUsYS5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2UsdHJ1ZSksc2V0VGltZW91dChhLm1vYmlsZS5oaWRlUGFnZUxvYWRpbmdNc2csMTUwMCkpLGUucmVqZWN0KGssZCkpfX0pO3JldHVybiBlLnByb21pc2UoKX07YS5tb2JpbGUubG9hZFBhZ2UuZGVmYXVsdHM9e3R5cGU6ImdldCIsZGF0YTpjLHJlbG9hZFBhZ2U6ZmFsc2Uscm9sZTpjLHNob3dMb2FkTXNnOmZhbHNlLHBhZ2VDb250YWluZXI6Yyxsb2FkTXNnRGVsYXk6NTB9O2EubW9iaWxlLmNoYW5nZVBhZ2U9CmZ1bmN0aW9uKGgsail7aWYobylyLnVuc2hpZnQoYXJndW1lbnRzKTtlbHNle3ZhciBmPWEuZXh0ZW5kKHt9LGEubW9iaWxlLmNoYW5nZVBhZ2UuZGVmYXVsdHMsaik7Zi5wYWdlQ29udGFpbmVyPWYucGFnZUNvbnRhaW5lcnx8YS5tb2JpbGUucGFnZUNvbnRhaW5lcjtmLmZyb21QYWdlPWYuZnJvbVBhZ2V8fGEubW9iaWxlLmFjdGl2ZVBhZ2U7dmFyIHE9Zi5wYWdlQ29udGFpbmVyLHA9bmV3IGEuRXZlbnQoInBhZ2ViZWZvcmVjaGFuZ2UiKSxsPXt0b1BhZ2U6aCxvcHRpb25zOmZ9O3EudHJpZ2dlcihwLGwpO2lmKCFwLmlzRGVmYXVsdFByZXZlbnRlZCgpKWlmKGg9bC50b1BhZ2Usbz10cnVlLHR5cGVvZiBoPT0ic3RyaW5nIilhLm1vYmlsZS5sb2FkUGFnZShoLGYpLmRvbmUoZnVuY3Rpb24oYixjLGQsZSl7bz1mYWxzZTtjLmR1cGxpY2F0ZUNhY2hlZFBhZ2U9ZTthLm1vYmlsZS5jaGFuZ2VQYWdlKGQsYyl9KS5mYWlsKGZ1bmN0aW9uKCl7Yih0cnVlKTtkKCk7Zi5wYWdlQ29udGFpbmVyLnRyaWdnZXIoInBhZ2VjaGFuZ2VmYWlsZWQiLApsKX0pO2Vsc2V7aWYoaFswXT09PWEubW9iaWxlLmZpcnN0UGFnZVswXSYmIWYuZGF0YVVybClmLmRhdGFVcmw9eC5ocmVmTm9IYXNoO3ZhciBwPWYuZnJvbVBhZ2Usdj1mLmRhdGFVcmwmJm0uY29udmVydFVybFRvRGF0YVVybChmLmRhdGFVcmwpfHxoLmpxbURhdGEoInVybCIpLHU9djttLmdldEZpbGVQYXRoKHYpO3ZhciB3PW4uZ2V0QWN0aXZlKCksej1uLmFjdGl2ZUluZGV4PT09MCxzPTAseT1rLnRpdGxlLEY9Zi5yb2xlPT09ImRpYWxvZyJ8fGguanFtRGF0YSgicm9sZSIpPT09ImRpYWxvZyI7aWYocCYmcFswXT09PWhbMF0mJiFmLmFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uKW89ZmFsc2UscS50cmlnZ2VyKCJwYWdlY2hhbmdlIixsKSxmLmZyb21IYXNoQ2hhbmdlJiZuLmRpcmVjdEhhc2hDaGFuZ2Uoe2N1cnJlbnRVcmw6dixpc0JhY2s6ZnVuY3Rpb24oKXt9LGlzRm9yd2FyZDpmdW5jdGlvbigpe319KTtlbHNle2coaCxmLnJvbGUpO2YuZnJvbUhhc2hDaGFuZ2UmJm4uZGlyZWN0SGFzaENoYW5nZSh7Y3VycmVudFVybDp2LAppc0JhY2s6ZnVuY3Rpb24oKXtzPS0xfSxpc0ZvcndhcmQ6ZnVuY3Rpb24oKXtzPTF9fSk7dHJ5e2suYWN0aXZlRWxlbWVudCYmay5hY3RpdmVFbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkhPSJib2R5Ij9hKGsuYWN0aXZlRWxlbWVudCkuYmx1cigpOmEoImlucHV0OmZvY3VzLCB0ZXh0YXJlYTpmb2N1cywgc2VsZWN0OmZvY3VzIikuYmx1cigpfWNhdGNoKEEpe312YXIgRT1mYWxzZTtpZihGJiZ3KXtpZih3LnVybCYmdy51cmwuaW5kZXhPZih0KT4tMSYmIWEubW9iaWxlLmFjdGl2ZVBhZ2UuaXMoIi51aS1kaWFsb2ciKSlmLmNoYW5nZUhhc2g9ZmFsc2UsRT10cnVlO3Y9KHcudXJsfHwiIikrdDtuLmFjdGl2ZUluZGV4PT09MCYmdj09PW4uaW5pdGlhbERzdCYmKHYrPXQpfWlmKGYuY2hhbmdlSGFzaCE9PWZhbHNlJiZ2KW4uaWdub3JlTmV4dEhhc2hDaGFuZ2U9dHJ1ZSxtLnNldCh2KTt2YXIgQj0hdz95OmguanFtRGF0YSgidGl0bGUiKXx8aC5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKS5maW5kKCIudWktdGl0bGUiKS5nZXRFbmNvZGVkVGV4dCgpOwpCJiZ5PT1rLnRpdGxlJiYoeT1CKTtoLmpxbURhdGEoInRpdGxlIil8fGguanFtRGF0YSgidGl0bGUiLHkpO2YudHJhbnNpdGlvbj1mLnRyYW5zaXRpb258fChzJiYhej93LnRyYW5zaXRpb246Yyl8fChGP2EubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uOmEubW9iaWxlLmRlZmF1bHRQYWdlVHJhbnNpdGlvbik7IXMmJiFFJiZuLmFkZE5ldyh2LGYudHJhbnNpdGlvbix5LHUsZi5yb2xlKTtrLnRpdGxlPW4uZ2V0QWN0aXZlKCkudGl0bGU7YS5tb2JpbGUuYWN0aXZlUGFnZT1oO2YucmV2ZXJzZT1mLnJldmVyc2V8fHM8MDtlKGgscCxmLnRyYW5zaXRpb24sZi5yZXZlcnNlKS5kb25lKGZ1bmN0aW9uKGMsZSxnLGosayl7YigpO2YuZHVwbGljYXRlQ2FjaGVkUGFnZSYmZi5kdXBsaWNhdGVDYWNoZWRQYWdlLnJlbW92ZSgpO2t8fGEubW9iaWxlLmZvY3VzUGFnZShoKTtkKCk7cS50cmlnZ2VyKCJwYWdlY2hhbmdlIixsKX0pfX19fTthLm1vYmlsZS5jaGFuZ2VQYWdlLmRlZmF1bHRzPQp7dHJhbnNpdGlvbjpjLHJldmVyc2U6ZmFsc2UsY2hhbmdlSGFzaDp0cnVlLGZyb21IYXNoQ2hhbmdlOmZhbHNlLHJvbGU6YyxkdXBsaWNhdGVDYWNoZWRQYWdlOmMscGFnZUNvbnRhaW5lcjpjLHNob3dMb2FkTXNnOnRydWUsZGF0YVVybDpjLGZyb21QYWdlOmMsYWxsb3dTYW1lUGFnZVRyYW5zaXRpb246ZmFsc2V9O2EubW9iaWxlLm5hdnJlYWR5RGVmZXJyZWQ9YS5EZWZlcnJlZCgpO2EubW9iaWxlLl9yZWdpc3RlckludGVybmFsRXZlbnRzPWZ1bmN0aW9uKCl7YShrKS5kZWxlZ2F0ZSgiZm9ybSIsInN1Ym1pdCIsZnVuY3Rpb24oYil7dmFyIGM9YSh0aGlzKTtpZihhLm1vYmlsZS5hamF4RW5hYmxlZCYmIWMuaXMoIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiKSYmYy5qcW1IaWphY2thYmxlKCkubGVuZ3RoKXt2YXIgZD1jLmF0dHIoIm1ldGhvZCIpLGU9Yy5hdHRyKCJ0YXJnZXQiKSxoPWMuYXR0cigiYWN0aW9uIik7aWYoIWgmJihoPWooYyksaD09PXUuaHJlZk5vSGFzaCkpaD14LmhyZWZOb1NlYXJjaDsKaD1tLm1ha2VVcmxBYnNvbHV0ZShoLGooYykpO20uaXNFeHRlcm5hbChoKSYmIW0uaXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3QoeCxoKXx8ZXx8KGEubW9iaWxlLmNoYW5nZVBhZ2UoaCx7dHlwZTpkJiZkLmxlbmd0aCYmZC50b0xvd2VyQ2FzZSgpfHwiZ2V0IixkYXRhOmMuc2VyaWFsaXplKCksdHJhbnNpdGlvbjpjLmpxbURhdGEoInRyYW5zaXRpb24iKSxkaXJlY3Rpb246Yy5qcW1EYXRhKCJkaXJlY3Rpb24iKSxyZWxvYWRQYWdlOnRydWV9KSxiLnByZXZlbnREZWZhdWx0KCkpfX0pO2EoaykuYmluZCgidmNsaWNrIixmdW5jdGlvbihjKXtpZighKGMud2hpY2g+MSkmJmEubW9iaWxlLmxpbmtCaW5kaW5nRW5hYmxlZCYmKGM9aChjLnRhcmdldCksYShjKS5qcW1IaWphY2thYmxlKCkubGVuZ3RoJiZjJiZtLnBhcnNlVXJsKGMuZ2V0QXR0cmlidXRlKCJocmVmIil8fCIjIikuaGFzaCE9PSIjIikpYih0cnVlKSxsPWEoYykuY2xvc2VzdCgiLnVpLWJ0biIpLm5vdCgiLnVpLWRpc2FibGVkIiksCmwuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSk7YShrKS5iaW5kKCJjbGljayIsZnVuY3Rpb24oZCl7aWYoYS5tb2JpbGUubGlua0JpbmRpbmdFbmFibGVkKXt2YXIgZT1oKGQudGFyZ2V0KSxmPWEoZSksZztpZihlJiYhKGQud2hpY2g+MSkmJmYuanFtSGlqYWNrYWJsZSgpLmxlbmd0aCl7Zz1mdW5jdGlvbigpe3Muc2V0VGltZW91dChmdW5jdGlvbigpe2IodHJ1ZSl9LDIwMCl9O2lmKGYuaXMoIjpqcW1EYXRhKHJlbD0nYmFjaycpIikpcmV0dXJuIGEubW9iaWxlLmJhY2soKSxmYWxzZTt2YXIgaz1qKGYpLGU9bS5tYWtlVXJsQWJzb2x1dGUoZi5hdHRyKCJocmVmIil8fCIjIixrKTtpZighYS5tb2JpbGUuYWpheEVuYWJsZWQmJiFtLmlzRW1iZWRkZWRQYWdlKGUpKWcoKTtlbHNle2lmKGUuc2VhcmNoKCIjIikhPS0xKWlmKGU9ZS5yZXBsYWNlKC9bXiNdKiMvLCIiKSllPW0uaXNQYXRoKGUpP20ubWFrZVVybEFic29sdXRlKGUsayk6bS5tYWtlVXJsQWJzb2x1dGUoIiMiKwplLHguaHJlZk5vSGFzaCk7ZWxzZXtkLnByZXZlbnREZWZhdWx0KCk7cmV0dXJufWYuaXMoIltyZWw9J2V4dGVybmFsJ10iKXx8Zi5pcygiOmpxbURhdGEoYWpheD0nZmFsc2UnKSIpfHxmLmlzKCJbdGFyZ2V0XSIpfHxtLmlzRXh0ZXJuYWwoZSkmJiFtLmlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0KHgsZSk/ZygpOihnPWYuanFtRGF0YSgidHJhbnNpdGlvbiIpLGs9KGs9Zi5qcW1EYXRhKCJkaXJlY3Rpb24iKSkmJms9PT0icmV2ZXJzZSJ8fGYuanFtRGF0YSgiYmFjayIpLGY9Zi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInJlbCIpfHxjLGEubW9iaWxlLmNoYW5nZVBhZ2UoZSx7dHJhbnNpdGlvbjpnLHJldmVyc2U6ayxyb2xlOmZ9KSxkLnByZXZlbnREZWZhdWx0KCkpfX19fSk7YShrKS5kZWxlZ2F0ZSgiLnVpLXBhZ2UiLCJwYWdlc2hvdy5wcmVmZXRjaCIsZnVuY3Rpb24oKXt2YXIgYj1bXTthKHRoaXMpLmZpbmQoImE6anFtRGF0YShwcmVmZXRjaCkiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9CmEodGhpcyksZD1jLmF0dHIoImhyZWYiKTtkJiZhLmluQXJyYXkoZCxiKT09PS0xJiYoYi5wdXNoKGQpLGEubW9iaWxlLmxvYWRQYWdlKGQse3JvbGU6Yy5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInJlbCIpLHByZWZldGNoOnRydWV9KSl9KX0pO2EubW9iaWxlLl9oYW5kbGVIYXNoQ2hhbmdlPWZ1bmN0aW9uKGIpe3ZhciBkPW0uc3RyaXBIYXNoKGIpLGU9e3RyYW5zaXRpb246YS5tb2JpbGUudXJsSGlzdG9yeS5zdGFjay5sZW5ndGg9PT0wPyJub25lIjpjLGNoYW5nZUhhc2g6ZmFsc2UsZnJvbUhhc2hDaGFuZ2U6dHJ1ZX07aWYoMD09PW4uc3RhY2subGVuZ3RoKW4uaW5pdGlhbERzdD1kO2lmKCFhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZHx8bi5pZ25vcmVOZXh0SGFzaENoYW5nZSluLmlnbm9yZU5leHRIYXNoQ2hhbmdlPWZhbHNlO2Vsc2V7aWYobi5zdGFjay5sZW5ndGg+MSYmZC5pbmRleE9mKHQpPi0xJiZuLmluaXRpYWxEc3QhPT1kKWlmKGEubW9iaWxlLmFjdGl2ZVBhZ2UuaXMoIi51aS1kaWFsb2ciKSluLmRpcmVjdEhhc2hDaGFuZ2Uoe2N1cnJlbnRVcmw6ZCwKZWl0aGVyOmZ1bmN0aW9uKGIpe3ZhciBjPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCk7ZD1jLnBhZ2VVcmw7YS5leHRlbmQoZSx7cm9sZTpjLnJvbGUsdHJhbnNpdGlvbjpjLnRyYW5zaXRpb24scmV2ZXJzZTpifSl9fSk7ZWxzZXtuLmRpcmVjdEhhc2hDaGFuZ2Uoe2N1cnJlbnRVcmw6ZCxpc0JhY2s6ZnVuY3Rpb24oKXthLm1vYmlsZS5iYWNrKCl9LGlzRm9yd2FyZDpmdW5jdGlvbigpe3MuaGlzdG9yeS5mb3J3YXJkKCl9fSk7cmV0dXJufWQ/KGQ9dHlwZW9mIGQ9PT0ic3RyaW5nIiYmIW0uaXNQYXRoKGQpP20ubWFrZVVybEFic29sdXRlKCIjIitkLHUpOmQsYS5tb2JpbGUuY2hhbmdlUGFnZShkLGUpKTphLm1vYmlsZS5jaGFuZ2VQYWdlKGEubW9iaWxlLmZpcnN0UGFnZSxlKX19O3EuYmluZCgiaGFzaGNoYW5nZSIsZnVuY3Rpb24oKXthLm1vYmlsZS5faGFuZGxlSGFzaENoYW5nZShtLnBhcnNlTG9jYXRpb24oKS5oYXNoKX0pO2EoaykuYmluZCgicGFnZXNob3ciLGYpOwphKHMpLmJpbmQoInRocm90dGxlZHJlc2l6ZSIsZil9O2EubW9iaWxlLm5hdnJlYWR5RGVmZXJyZWQuZG9uZShmdW5jdGlvbigpe2EubW9iaWxlLl9yZWdpc3RlckludGVybmFsRXZlbnRzKCl9KX0pKGwpOyhmdW5jdGlvbihhLGMpe3ZhciBiPXt9LGQ9YShjKSxlPWEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLGY9YS5EZWZlcnJlZCgpLGc9YS5EZWZlcnJlZCgpO2EoaykucmVhZHkoYS5wcm94eShnLCJyZXNvbHZlIikpO2Eoaykub25lKCJtb2JpbGVpbml0IixhLnByb3h5KGYsInJlc29sdmUiKSk7YS5leHRlbmQoYix7aW5pdGlhbEZpbGVQYXRoOmUucGF0aG5hbWUrZS5zZWFyY2gsaGFzaENoYW5nZVRpbWVvdXQ6MjAwLGhhc2hDaGFuZ2VFbmFibGVUaW1lcjpDLGluaXRpYWxIcmVmOmUuaHJlZk5vSGFzaCxzdGF0ZTpmdW5jdGlvbigpe3JldHVybntoYXNoOmEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2h8fCIjIitiLmluaXRpYWxGaWxlUGF0aCx0aXRsZTprLnRpdGxlLAppbml0aWFsSHJlZjpiLmluaXRpYWxIcmVmfX0scmVzZXRVSUtleXM6ZnVuY3Rpb24oYil7dmFyIGM9IiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXksZD1iLmluZGV4T2YoYS5tb2JpbGUuZGlhbG9nSGFzaEtleSk7ZD4tMT9iPWIuc2xpY2UoMCxkKSsiIyIrYi5zbGljZShkKTpiLmluZGV4T2YoYyk+LTEmJihiPWIuc3BsaXQoYykuam9pbigiIyIrYykpO3JldHVybiBifSxuZXh0SGFzaENoYW5nZVByZXZlbnRlZDpmdW5jdGlvbihjKXthLm1vYmlsZS51cmxIaXN0b3J5Lmlnbm9yZU5leHRIYXNoQ2hhbmdlPWM7Yi5vbkhhc2hDaGFuZ2VEaXNhYmxlZD1jfSxvbkhhc2hDaGFuZ2U6ZnVuY3Rpb24oKXtpZighYi5vbkhhc2hDaGFuZ2VEaXNhYmxlZCl7dmFyIGMsZDtjPWEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2g7dmFyIGU9YS5tb2JpbGUucGF0aC5pc1BhdGgoYyksZj1lP2EubW9iaWxlLnBhdGguZ2V0TG9jYXRpb24oKTphLm1vYmlsZS5nZXREb2N1bWVudFVybCgpO2M9CmU/Yy5yZXBsYWNlKCIjIiwiIik6YztkPWIuc3RhdGUoKTtjPWEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKGMsZik7ZSYmKGM9Yi5yZXNldFVJS2V5cyhjKSk7aGlzdG9yeS5yZXBsYWNlU3RhdGUoZCxrLnRpdGxlLGMpfX0sb25Qb3BTdGF0ZTpmdW5jdGlvbihjKXtpZihjPWMub3JpZ2luYWxFdmVudC5zdGF0ZSljbGVhclRpbWVvdXQoYi5oYXNoQ2hhbmdlRW5hYmxlVGltZXIpLGIubmV4dEhhc2hDaGFuZ2VQcmV2ZW50ZWQoZmFsc2UpLGEubW9iaWxlLl9oYW5kbGVIYXNoQ2hhbmdlKGMuaGFzaCksYi5uZXh0SGFzaENoYW5nZVByZXZlbnRlZCh0cnVlKSxiLmhhc2hDaGFuZ2VFbmFibGVUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5uZXh0SGFzaENoYW5nZVByZXZlbnRlZChmYWxzZSl9LGIuaGFzaENoYW5nZVRpbWVvdXQpfSxpbml0OmZ1bmN0aW9uKCl7ZC5iaW5kKCJoYXNoY2hhbmdlIixiLm9uSGFzaENoYW5nZSk7ZC5iaW5kKCJwb3BzdGF0ZSIsYi5vblBvcFN0YXRlKTsKbG9jYXRpb24uaGFzaD09PSIiJiZoaXN0b3J5LnJlcGxhY2VTdGF0ZShiLnN0YXRlKCksay50aXRsZSxhLm1vYmlsZS5wYXRoLmdldExvY2F0aW9uKCkpfX0pO2Eud2hlbihnLGYsYS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZCkuZG9uZShmdW5jdGlvbigpe2EubW9iaWxlLnB1c2hTdGF0ZUVuYWJsZWQmJmEuc3VwcG9ydC5wdXNoU3RhdGUmJmIuaW5pdCgpfSl9KShsLHRoaXMpO2wubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MucG9wPSJmYWRlIjsoZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzLnNsaWRlPWEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycy5zaW11bHRhbmVvdXM7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZT0iZmFkZSJ9KShsLHRoaXMpO2wubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGVkb3duPSJmYWRlIjtsLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRldXA9ImZhZGUiO2wubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MuZmxpcD0KImZhZGUiO2wubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MuZmxvdz0iZmFkZSI7bC5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy50dXJuPSJmYWRlIjsoZnVuY3Rpb24oYSl7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5kZWdyYWRlSW5wdXRzPXtjb2xvcjpmYWxzZSxkYXRlOmZhbHNlLGRhdGV0aW1lOmZhbHNlLCJkYXRldGltZS1sb2NhbCI6ZmFsc2UsZW1haWw6ZmFsc2UsbW9udGg6ZmFsc2UsbnVtYmVyOmZhbHNlLHJhbmdlOiJudW1iZXIiLHNlYXJjaDoidGV4dCIsdGVsOmZhbHNlLHRpbWU6ZmFsc2UsdXJsOmZhbHNlLHdlZWs6ZmFsc2V9O2EoaykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGMpe3ZhciBiPWEubW9iaWxlLmNsb3Nlc3RQYWdlRGF0YShhKGMudGFyZ2V0KSksZDtpZihiKWQ9Yi5vcHRpb25zLGEoYy50YXJnZXQpLmZpbmQoImlucHV0Iikubm90KGIua2VlcE5hdGl2ZVNlbGVjdG9yKCkpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLApjPXRoaXMuZ2V0QXR0cmlidXRlKCJ0eXBlIiksZz1kLmRlZ3JhZGVJbnB1dHNbY118fCJ0ZXh0IjtpZihkLmRlZ3JhZGVJbnB1dHNbY10pe3ZhciBoPWEoIjxkaXY+IikuaHRtbChiLmNsb25lKCkpLmh0bWwoKSxqPWguaW5kZXhPZigiIHR5cGU9Iik+LTE7Yi5yZXBsYWNlV2l0aChoLnJlcGxhY2Uoaj8vXHMrdHlwZT1bIiddP1x3K1snIl0/LzovXC8/Pi8sJyB0eXBlPSInK2crJyIgZGF0YS0nK2EubW9iaWxlLm5zKyd0eXBlPSInK2MrJyInKyhqPyIiOiI+IikpKX19KX0pfSkobCk7KGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUuZGlhbG9nIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2Nsb3NlQnRuVGV4dDoiQ2xvc2UiLG92ZXJsYXlUaGVtZToiYSIsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdkaWFsb2cnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGI9dGhpcy5lbGVtZW50LGQ9YSgiPGEgaHJlZj0nIycgZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uPSdkZWxldGUnIGRhdGEtIisKYS5tb2JpbGUubnMrImljb25wb3M9J25vdGV4dCc+Iit0aGlzLm9wdGlvbnMuY2xvc2VCdG5UZXh0KyI8L2E+IiksZT1hKCI8ZGl2Lz4iLHtyb2xlOiJkaWFsb2ciLCJjbGFzcyI6InVpLWRpYWxvZy1jb250YWluIHVpLWNvcm5lci1hbGwgdWktb3ZlcmxheS1zaGFkb3cifSk7Yi5hZGRDbGFzcygidWktZGlhbG9nIHVpLW92ZXJsYXktIit0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lKTtiLndyYXBJbm5lcihlKS5jaGlsZHJlbigpLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIikucHJlcGVuZChkKS5lbmQoKS5jaGlsZHJlbigiOmZpcnN0LWNoaWxkIikuYWRkQ2xhc3MoInVpLWNvcm5lci10b3AiKS5lbmQoKS5jaGlsZHJlbigiOmxhc3QtY2hpbGQiKS5hZGRDbGFzcygidWktY29ybmVyLWJvdHRvbSIpO2QuYmluZCgiY2xpY2siLGZ1bmN0aW9uKCl7Yy5jbG9zZSgpfSk7Yi5iaW5kKCJ2Y2xpY2sgc3VibWl0IixmdW5jdGlvbihiKXt2YXIgYj1hKGIudGFyZ2V0KS5jbG9zZXN0KGIudHlwZT09PQoidmNsaWNrIj8iYSI6ImZvcm0iKSxjO2IubGVuZ3RoJiYhYi5qcW1EYXRhKCJ0cmFuc2l0aW9uIikmJihjPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCl8fHt9LGIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0cmFuc2l0aW9uIixjLnRyYW5zaXRpb258fGEubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrImRpcmVjdGlvbiIsInJldmVyc2UiKSl9KS5iaW5kKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXtjLl9pc0Nsb3NlZD1mYWxzZTthKHRoaXMpLmZpbmQoIi4iK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5ub3QoIi51aS1zbGlkZXItYmciKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJwYWdlYmVmb3Jlc2hvdyIsZnVuY3Rpb24oKXtjLm9wdGlvbnMub3ZlcmxheVRoZW1lJiZjLmVsZW1lbnQucGFnZSgicmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZCIpLnBhZ2UoInNldENvbnRhaW5lckJhY2tncm91bmQiLApjLm9wdGlvbnMub3ZlcmxheVRoZW1lKX0pfSxjbG9zZTpmdW5jdGlvbigpe3ZhciBjO2lmKCF0aGlzLl9pc0Nsb3NlZCl0aGlzLl9pc0Nsb3NlZD10cnVlLGEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkP2EubW9iaWxlLmJhY2soKTooYz1hLm1vYmlsZS51cmxIaXN0b3J5LmdldFByZXYoKS51cmwsYS5tb2JpbGUucGF0aC5pc1BhdGgoYyl8fChjPWEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKCIjIitjKSksYS5tb2JpbGUuY2hhbmdlUGFnZShjLHtjaGFuZ2VIYXNoOmZhbHNlLGZyb21IYXNoQ2hhbmdlOnRydWV9KSl9fSk7YShrKS5kZWxlZ2F0ZShhLm1vYmlsZS5kaWFsb2cucHJvdG90eXBlLm9wdGlvbnMuaW5pdFNlbGVjdG9yLCJwYWdlY3JlYXRlIixmdW5jdGlvbigpe2EubW9iaWxlLmRpYWxvZy5wcm90b3R5cGUuZW5oYW5jZSh0aGlzKX0pfSkobCx0aGlzKTsoZnVuY3Rpb24oYSl7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5iYWNrQnRuVGV4dD0iQmFjayI7CmEubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuYWRkQmFja0J0bj1mYWxzZTthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmJhY2tCdG5UaGVtZT1udWxsO2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuaGVhZGVyVGhlbWU9ImEiO2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuZm9vdGVyVGhlbWU9ImEiO2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuY29udGVudFRoZW1lPW51bGw7YShrKS5iaW5kKCJwYWdlY3JlYXRlIixmdW5jdGlvbihjKXt2YXIgYj1hKGMudGFyZ2V0KSxkPWIuZGF0YSgicGFnZSIpLm9wdGlvbnMsZT1iLmpxbURhdGEoInJvbGUiKSxmPWQudGhlbWU7YSgiOmpxbURhdGEocm9sZT0naGVhZGVyJyksIDpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpLCA6anFtRGF0YShyb2xlPSdjb250ZW50JykiLGIpLmpxbUVuaGFuY2VhYmxlKCkuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksaD1jLmpxbURhdGEoInJvbGUiKSwKaj1jLmpxbURhdGEoInRoZW1lIiksaz1qfHxkLmNvbnRlbnRUaGVtZXx8ZT09PSJkaWFsb2ciJiZmLHA7Yy5hZGRDbGFzcygidWktIitoKTtpZihoPT09ImhlYWRlciJ8fGg9PT0iZm9vdGVyIil7dmFyIG09anx8KGg9PT0iaGVhZGVyIj9kLmhlYWRlclRoZW1lOmQuZm9vdGVyVGhlbWUpfHxmO2MuYWRkQ2xhc3MoInVpLWJhci0iK20pLmF0dHIoInJvbGUiLGg9PT0iaGVhZGVyIj8iYmFubmVyIjoiY29udGVudGluZm8iKTtoPT09ImhlYWRlciImJihqPWMuY2hpbGRyZW4oImEsIGJ1dHRvbiIpLHA9ai5oYXNDbGFzcygidWktYnRuLWxlZnQiKSxrPWouaGFzQ2xhc3MoInVpLWJ0bi1yaWdodCIpLHA9cHx8ai5lcSgwKS5ub3QoIi51aS1idG4tcmlnaHQiKS5hZGRDbGFzcygidWktYnRuLWxlZnQiKS5sZW5ndGgsa3x8ai5lcSgxKS5hZGRDbGFzcygidWktYnRuLXJpZ2h0IikpO2QuYWRkQmFja0J0biYmaD09PSJoZWFkZXIiJiZhKCIudWktcGFnZSIpLmxlbmd0aD4xJiZiLmpxbURhdGEoInVybCIpIT09CmEubW9iaWxlLnBhdGguc3RyaXBIYXNoKGxvY2F0aW9uLmhhc2gpJiYhcCYmYSgiPGEgaHJlZj0namF2YXNjcmlwdDp2b2lkKDApOycgY2xhc3M9J3VpLWJ0bi1sZWZ0JyBkYXRhLSIrYS5tb2JpbGUubnMrInJlbD0nYmFjaycgZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uPSdhcnJvdy1sJz4iK2QuYmFja0J0blRleHQrIjwvYT4iKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIixkLmJhY2tCdG5UaGVtZXx8bSkucHJlcGVuZFRvKGMpO2MuY2hpbGRyZW4oImgxLCBoMiwgaDMsIGg0LCBoNSwgaDYiKS5hZGRDbGFzcygidWktdGl0bGUiKS5hdHRyKHtyb2xlOiJoZWFkaW5nIiwiYXJpYS1sZXZlbCI6IjEifSl9ZWxzZSBoPT09ImNvbnRlbnQiJiYoayYmYy5hZGRDbGFzcygidWktYm9keS0iK2spLGMuYXR0cigicm9sZSIsIm1haW4iKSl9KX0pfSkobCk7KGZ1bmN0aW9uKGEpe2EuZm4uZmllbGRjb250YWluPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWRkQ2xhc3MoInVpLWZpZWxkLWNvbnRhaW4gdWktYm9keSB1aS1iciIpLmNvbnRlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZVR5cGU9PT0KMyYmIS9cUy8udGVzdCh0aGlzLm5vZGVWYWx1ZSl9KS5yZW1vdmUoKX07YShrKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYyl7YSgiOmpxbURhdGEocm9sZT0nZmllbGRjb250YWluJykiLGMudGFyZ2V0KS5qcW1FbmhhbmNlYWJsZSgpLmZpZWxkY29udGFpbigpfSl9KShsKTsoZnVuY3Rpb24oYSl7YS5mbi5ncmlkPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGQ9YS5leHRlbmQoe2dyaWQ6bnVsbH0sYyksZT1iLmNoaWxkcmVuKCksZj17c29sbzoxLGE6MixiOjMsYzo0LGQ6NX0sZD1kLmdyaWQ7aWYoIWQpaWYoZS5sZW5ndGg8PTUpZm9yKHZhciBnIGluIGYpZltnXT09PWUubGVuZ3RoJiYoZD1nKTtlbHNlIGQ9ImEiLGIuYWRkQ2xhc3MoInVpLWdyaWQtZHVvIik7Zj1mW2RdO2IuYWRkQ2xhc3MoInVpLWdyaWQtIitkKTtlLmZpbHRlcigiOm50aC1jaGlsZCgiK2YrIm4rMSkiKS5hZGRDbGFzcygidWktYmxvY2stYSIpOwpmPjEmJmUuZmlsdGVyKCI6bnRoLWNoaWxkKCIrZisibisyKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1iIik7Zj4yJiZlLmZpbHRlcigiOm50aC1jaGlsZCgzbiszKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1jIik7Zj4zJiZlLmZpbHRlcigiOm50aC1jaGlsZCg0bis0KSIpLmFkZENsYXNzKCJ1aS1ibG9jay1kIik7Zj40JiZlLmZpbHRlcigiOm50aC1jaGlsZCg1bis1KSIpLmFkZENsYXNzKCJ1aS1ibG9jay1lIil9KX19KShsKTsoZnVuY3Rpb24oYSl7YShrKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYyl7YSgiOmpxbURhdGEocm9sZT0nbm9qcycpIixjLnRhcmdldCkuYWRkQ2xhc3MoInVpLW5vanMiKX0pfSkobCk7KGZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24gYihhKXtmb3IodmFyIGI7YTspe2lmKChiPXR5cGVvZiBhLmNsYXNzTmFtZT09PSJzdHJpbmciJiZhLmNsYXNzTmFtZSsiICIpJiZiLmluZGV4T2YoInVpLWJ0biAiKT4tMSYmYi5pbmRleE9mKCJ1aS1kaXNhYmxlZCAiKTwKMClicmVhazthPWEucGFyZW50Tm9kZX1yZXR1cm4gYX1hLmZuLmJ1dHRvbk1hcmt1cD1mdW5jdGlvbihiKXtmb3IodmFyIGI9YiYmYS50eXBlKGIpPT0ib2JqZWN0Ij9iOnt9LGY9MDtmPHRoaXMubGVuZ3RoO2YrKyl7dmFyIGc9dGhpcy5lcShmKSxoPWdbMF0saj1hLmV4dGVuZCh7fSxhLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cyx7aWNvbjpiLmljb24hPT1jP2IuaWNvbjpnLmpxbURhdGEoImljb24iKSxpY29ucG9zOmIuaWNvbnBvcyE9PWM/Yi5pY29ucG9zOmcuanFtRGF0YSgiaWNvbnBvcyIpLHRoZW1lOmIudGhlbWUhPT1jP2IudGhlbWU6Zy5qcW1EYXRhKCJ0aGVtZSIpfHxhLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShnLCJjIiksaW5saW5lOmIuaW5saW5lIT09Yz9iLmlubGluZTpnLmpxbURhdGEoImlubGluZSIpLHNoYWRvdzpiLnNoYWRvdyE9PWM/Yi5zaGFkb3c6Zy5qcW1EYXRhKCJzaGFkb3ciKSxjb3JuZXJzOmIuY29ybmVycyE9PWM/Yi5jb3JuZXJzOmcuanFtRGF0YSgiY29ybmVycyIpLAppY29uc2hhZG93OmIuaWNvbnNoYWRvdyE9PWM/Yi5pY29uc2hhZG93OmcuanFtRGF0YSgiaWNvbnNoYWRvdyIpLG1pbmk6Yi5taW5pIT09Yz9iLm1pbmk6Zy5qcW1EYXRhKCJtaW5pIil9LGIpLHE9InVpLWJ0bi1pbm5lciIscCxtLGwsbixyLG87YS5lYWNoKGosZnVuY3Rpb24oYixjKXtoLnNldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zK2IsYyk7Zy5qcW1EYXRhKGIsYyl9KTsobz1hLmRhdGEoaC50YWdOYW1lPT09IklOUFVUInx8aC50YWdOYW1lPT09IkJVVFRPTiI/aC5wYXJlbnROb2RlOmgsImJ1dHRvbkVsZW1lbnRzIikpPyhoPW8ub3V0ZXIsZz1hKGgpLGw9by5pbm5lcixuPW8udGV4dCxhKG8uaWNvbikucmVtb3ZlKCksby5pY29uPW51bGwpOihsPWsuY3JlYXRlRWxlbWVudChqLndyYXBwZXJFbHMpLG49ay5jcmVhdGVFbGVtZW50KGoud3JhcHBlckVscykpO3I9ai5pY29uP2suY3JlYXRlRWxlbWVudCgic3BhbiIpOm51bGw7ZCYmIW8mJmQoKTtpZighai50aGVtZSlqLnRoZW1lPQphLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShnLCJjIik7cD0idWktYnRuIHVpLWJ0bi11cC0iK2oudGhlbWU7cCs9ai5zaGFkb3c/IiB1aS1zaGFkb3ciOiIiO3ArPWouY29ybmVycz8iIHVpLWJ0bi1jb3JuZXItYWxsIjoiIjtqLm1pbmkhPT1jJiYocCs9ai5taW5pPT09dHJ1ZT8iIHVpLW1pbmkiOiIgdWktZnVsbHNpemUiKTtqLmlubGluZSE9PWMmJihwKz1qLmlubGluZT09PXRydWU/IiB1aS1idG4taW5saW5lIjoiIHVpLWJ0bi1ibG9jayIpO2lmKGouaWNvbilqLmljb249InVpLWljb24tIitqLmljb24sai5pY29ucG9zPWouaWNvbnBvc3x8ImxlZnQiLG09InVpLWljb24gIitqLmljb24sai5pY29uc2hhZG93JiYobSs9IiB1aS1pY29uLXNoYWRvdyIpO2ouaWNvbnBvcyYmKHArPSIgdWktYnRuLWljb24tIitqLmljb25wb3Msai5pY29ucG9zPT0ibm90ZXh0IiYmIWcuYXR0cigidGl0bGUiKSYmZy5hdHRyKCJ0aXRsZSIsZy5nZXRFbmNvZGVkVGV4dCgpKSk7cSs9ai5jb3JuZXJzPwoiIHVpLWJ0bi1jb3JuZXItYWxsIjoiIjtqLmljb25wb3MmJmouaWNvbnBvcz09PSJub3RleHQiJiYhZy5hdHRyKCJ0aXRsZSIpJiZnLmF0dHIoInRpdGxlIixnLmdldEVuY29kZWRUZXh0KCkpO28mJmcucmVtb3ZlQ2xhc3Moby5iY2xzfHwiIik7Zy5yZW1vdmVDbGFzcygidWktbGluayIpLmFkZENsYXNzKHApO2wuY2xhc3NOYW1lPXE7bi5jbGFzc05hbWU9InVpLWJ0bi10ZXh0IjtvfHxsLmFwcGVuZENoaWxkKG4pO2lmKHImJihyLmNsYXNzTmFtZT1tLCFvfHwhby5pY29uKSlyLmlubmVySFRNTD0iJiMxNjA7IixsLmFwcGVuZENoaWxkKHIpO2Zvcig7aC5maXJzdENoaWxkJiYhbzspbi5hcHBlbmRDaGlsZChoLmZpcnN0Q2hpbGQpO298fGguYXBwZW5kQ2hpbGQobCk7bz17YmNsczpwLG91dGVyOmgsaW5uZXI6bCx0ZXh0Om4saWNvbjpyfTthLmRhdGEoaCwiYnV0dG9uRWxlbWVudHMiLG8pO2EuZGF0YShsLCJidXR0b25FbGVtZW50cyIsbyk7YS5kYXRhKG4sImJ1dHRvbkVsZW1lbnRzIiwKbyk7ciYmYS5kYXRhKHIsImJ1dHRvbkVsZW1lbnRzIixvKX1yZXR1cm4gdGhpc307YS5mbi5idXR0b25NYXJrdXAuZGVmYXVsdHM9e2Nvcm5lcnM6dHJ1ZSxzaGFkb3c6dHJ1ZSxpY29uc2hhZG93OnRydWUsd3JhcHBlckVsczoic3BhbiJ9O3ZhciBkPWZ1bmN0aW9uKCl7dmFyIGM9YS5tb2JpbGUuYnV0dG9uTWFya3VwLmhvdmVyRGVsYXksZixnO2EoaykuYmluZCh7InZtb3VzZWRvd24gdm1vdXNlY2FuY2VsIHZtb3VzZXVwIHZtb3VzZW92ZXIgdm1vdXNlb3V0IGZvY3VzIGJsdXIgc2Nyb2xsc3RhcnQiOmZ1bmN0aW9uKGQpe3ZhciBqLGs9YShiKGQudGFyZ2V0KSksZD1kLnR5cGU7aWYoay5sZW5ndGgpaWYoaj1rLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiKSxkPT09InZtb3VzZWRvd24iKWEuc3VwcG9ydC50b3VjaD9mPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtrLnJlbW92ZUNsYXNzKCJ1aS1idG4tdXAtIitqKS5hZGRDbGFzcygidWktYnRuLWRvd24tIitqKX0sYyk6CmsucmVtb3ZlQ2xhc3MoInVpLWJ0bi11cC0iK2opLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK2opO2Vsc2UgaWYoZD09PSJ2bW91c2VjYW5jZWwifHxkPT09InZtb3VzZXVwIilrLnJlbW92ZUNsYXNzKCJ1aS1idG4tZG93bi0iK2opLmFkZENsYXNzKCJ1aS1idG4tdXAtIitqKTtlbHNlIGlmKGQ9PT0idm1vdXNlb3ZlciJ8fGQ9PT0iZm9jdXMiKWEuc3VwcG9ydC50b3VjaD9nPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtrLnJlbW92ZUNsYXNzKCJ1aS1idG4tdXAtIitqKS5hZGRDbGFzcygidWktYnRuLWhvdmVyLSIrail9LGMpOmsucmVtb3ZlQ2xhc3MoInVpLWJ0bi11cC0iK2opLmFkZENsYXNzKCJ1aS1idG4taG92ZXItIitqKTtlbHNlIGlmKGQ9PT0idm1vdXNlb3V0Inx8ZD09PSJibHVyInx8ZD09PSJzY3JvbGxzdGFydCIpay5yZW1vdmVDbGFzcygidWktYnRuLWhvdmVyLSIraisiIHVpLWJ0bi1kb3duLSIraikuYWRkQ2xhc3MoInVpLWJ0bi11cC0iK2opLGYmJmNsZWFyVGltZW91dChmKSwKZyYmY2xlYXJUaW1lb3V0KGcpfSwiZm9jdXNpbiBmb2N1cyI6ZnVuY3Rpb24oYyl7YShiKGMudGFyZ2V0KSkuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LCJmb2N1c291dCBibHVyIjpmdW5jdGlvbihjKXthKGIoYy50YXJnZXQpKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX19KTtkPW51bGx9O2EoaykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EoIjpqcW1EYXRhKHJvbGU9J2J1dHRvbicpLCAudWktYmFyID4gYSwgLnVpLWhlYWRlciA+IGEsIC51aS1mb290ZXIgPiBhLCAudWktYmFyID4gOmpxbURhdGEocm9sZT0nY29udHJvbGdyb3VwJykgPiBhIixiLnRhcmdldCkuanFtRW5oYW5jZWFibGUoKS5ub3QoImJ1dHRvbiwgaW5wdXQsIC51aS1idG4sIDpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIikuYnV0dG9uTWFya3VwKCl9KX0pKGwpOyhmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLmNvbGxhcHNpYmxlIiwKYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntleHBhbmRDdWVUZXh0OiIgY2xpY2sgdG8gZXhwYW5kIGNvbnRlbnRzIixjb2xsYXBzZUN1ZVRleHQ6IiBjbGljayB0byBjb2xsYXBzZSBjb250ZW50cyIsY29sbGFwc2VkOnRydWUsaGVhZGluZzoiaDEsaDIsaDMsaDQsaDUsaDYsbGVnZW5kIix0aGVtZTpudWxsLGNvbnRlbnRUaGVtZTpudWxsLGljb25UaGVtZToiZCIsbWluaTpmYWxzZSxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5lbGVtZW50LGI9dGhpcy5vcHRpb25zLGQ9Yy5hZGRDbGFzcygidWktY29sbGFwc2libGUiKSxlPWMuY2hpbGRyZW4oYi5oZWFkaW5nKS5maXJzdCgpLGY9ZC53cmFwSW5uZXIoIjxkaXYgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWNvbnRlbnQnPjwvZGl2PiIpLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1jb250ZW50IiksZz1jLmNsb3Nlc3QoIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpIikuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLXNldCIpOwplLmlzKCJsZWdlbmQiKSYmKGU9YSgiPGRpdiByb2xlPSdoZWFkaW5nJz4iK2UuaHRtbCgpKyI8L2Rpdj4iKS5pbnNlcnRCZWZvcmUoZSksZS5uZXh0KCkucmVtb3ZlKCkpO2lmKGcubGVuZ3RoKXtpZighYi50aGVtZSliLnRoZW1lPWcuanFtRGF0YSgidGhlbWUiKXx8YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoZywiYyIpO2lmKCFiLmNvbnRlbnRUaGVtZSliLmNvbnRlbnRUaGVtZT1nLmpxbURhdGEoImNvbnRlbnQtdGhlbWUiKTtpZighYi5pY29ucG9zKWIuaWNvbnBvcz1nLmpxbURhdGEoImljb25wb3MiKTtpZighYi5taW5pKWIubWluaT1nLmpxbURhdGEoIm1pbmkiKX1mLmFkZENsYXNzKGIuY29udGVudFRoZW1lPyJ1aS1ib2R5LSIrYi5jb250ZW50VGhlbWU6IiIpO2UuaW5zZXJ0QmVmb3JlKGYpLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nIikuYXBwZW5kKCI8c3BhbiBjbGFzcz0ndWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMnPjwvc3Bhbj4iKS53cmFwSW5uZXIoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXRvZ2dsZSc+PC9hPiIpLmZpbmQoImEiKS5maXJzdCgpLmJ1dHRvbk1hcmt1cCh7c2hhZG93OmZhbHNlLApjb3JuZXJzOmZhbHNlLGljb25wb3M6Yy5qcW1EYXRhKCJpY29ucG9zIil8fGIuaWNvbnBvc3x8ImxlZnQiLGljb246InBsdXMiLG1pbmk6Yi5taW5pLHRoZW1lOmIudGhlbWV9KS5hZGQoIi51aS1idG4taW5uZXIiLGMpLmFkZENsYXNzKCJ1aS1jb3JuZXItdG9wIHVpLWNvcm5lci1ib3R0b20iKTtkLmJpbmQoImV4cGFuZCBjb2xsYXBzZSIsZnVuY3Rpb24oYyl7aWYoIWMuaXNEZWZhdWx0UHJldmVudGVkKCkpe2MucHJldmVudERlZmF1bHQoKTt2YXIgaj1hKHRoaXMpLGM9Yy50eXBlPT09ImNvbGxhcHNlIixrPWIuY29udGVudFRoZW1lO2UudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkIixjKS5maW5kKCIudWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMiKS50ZXh0KGM/Yi5leHBhbmRDdWVUZXh0OmIuY29sbGFwc2VDdWVUZXh0KS5lbmQoKS5maW5kKCIudWktaWNvbiIpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLW1pbnVzIiwhYykudG9nZ2xlQ2xhc3MoInVpLWljb24tcGx1cyIsCmMpLmVuZCgpLmZpbmQoImEiKS5maXJzdCgpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTtqLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWQiLGMpO2YudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbnRlbnQtY29sbGFwc2VkIixjKS5hdHRyKCJhcmlhLWhpZGRlbiIsYyk7aWYoayYmKCFnLmxlbmd0aHx8ZC5qcW1EYXRhKCJjb2xsYXBzaWJsZS1sYXN0IikpKWUuZmluZCgiYSIpLmZpcnN0KCkuYWRkKGUuZmluZCgiLnVpLWJ0bi1pbm5lciIpKS50b2dnbGVDbGFzcygidWktY29ybmVyLWJvdHRvbSIsYyksZi50b2dnbGVDbGFzcygidWktY29ybmVyLWJvdHRvbSIsIWMpO2YudHJpZ2dlcigidXBkYXRlbGF5b3V0Iil9fSkudHJpZ2dlcihiLmNvbGxhcHNlZD8iY29sbGFwc2UiOiJleHBhbmQiKTtlLmJpbmQoInRhcCIsZnVuY3Rpb24oKXtlLmZpbmQoImEiKS5maXJzdCgpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImNsaWNrIiwKZnVuY3Rpb24oYSl7dmFyIGI9ZS5pcygiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkIik/ImV4cGFuZCI6ImNvbGxhcHNlIjtkLnRyaWdnZXIoYik7YS5wcmV2ZW50RGVmYXVsdCgpO2Euc3RvcFByb3BhZ2F0aW9uKCl9KX19KTthKGspLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihjKXthLm1vYmlsZS5jb2xsYXBzaWJsZS5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihjLnRhcmdldCl9KX0pKGwpOyhmdW5jdGlvbihhLGMpe2Eud2lkZ2V0KCJtb2JpbGUuY29sbGFwc2libGVzZXQiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7aW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLXNldCIpLGQ9dGhpcy5vcHRpb25zO2lmKCFkLnRoZW1lKWQudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoYiwiYyIpOwppZighZC5jb250ZW50VGhlbWUpZC5jb250ZW50VGhlbWU9Yi5qcW1EYXRhKCJjb250ZW50LXRoZW1lIik7aWYoIWQuY29ybmVycylkLmNvcm5lcnM9Yi5qcW1EYXRhKCJjb3JuZXJzIik9PT1jP3RydWU6ZmFsc2U7Yi5qcW1EYXRhKCJjb2xsYXBzaWJsZWJvdW5kIil8fGIuanFtRGF0YSgiY29sbGFwc2libGVib3VuZCIsdHJ1ZSkuYmluZCgiZXhwYW5kIGNvbGxhcHNlIixmdW5jdGlvbihiKXt2YXIgYz1iLnR5cGU9PT0iY29sbGFwc2UiLGI9YShiLnRhcmdldCkuY2xvc2VzdCgiLnVpLWNvbGxhcHNpYmxlIik7Yi5kYXRhKCJjb2xsYXBzaWJsZSIpLm9wdGlvbnMuY29udGVudFRoZW1lJiZiLmpxbURhdGEoImNvbGxhcHNpYmxlLWxhc3QiKSYmKGIuZmluZCgiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmciKS5maXJzdCgpLmZpbmQoImEiKS5maXJzdCgpLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYm90dG9tIixjKS5maW5kKCIudWktYnRuLWlubmVyIikudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iLApjKSxiLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1jb250ZW50IikudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iLCFjKSl9KS5iaW5kKCJleHBhbmQiLGZ1bmN0aW9uKGIpe2EoYi50YXJnZXQpLmNsb3Nlc3QoIi51aS1jb2xsYXBzaWJsZSIpLnNpYmxpbmdzKCIudWktY29sbGFwc2libGUiKS50cmlnZ2VyKCJjb2xsYXBzZSIpfSl9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMsYz10aGlzLmVsZW1lbnQuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykiKTthLm1vYmlsZS5jb2xsYXBzaWJsZS5wcm90b3R5cGUuZW5oYW5jZShjLm5vdCgiLnVpLWNvbGxhcHNpYmxlIikpO2MuZWFjaChmdW5jdGlvbigpe2EodGhpcykuanFtUmVtb3ZlRGF0YSgiY29sbGFwc2libGUtbGFzdCIpLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nIikuZmluZCgiYSIpLmZpcnN0KCkucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci10b3AgdWktY29ybmVyLWJvdHRvbSIpLmZpbmQoIi51aS1idG4taW5uZXIiKS5yZW1vdmVDbGFzcygidWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIil9KTsKYy5maXJzdCgpLmZpbmQoImEiKS5maXJzdCgpLmFkZENsYXNzKGIuY29ybmVycz8idWktY29ybmVyLXRvcCI6IiIpLmZpbmQoIi51aS1idG4taW5uZXIiKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCIpO2MubGFzdCgpLmpxbURhdGEoImNvbGxhcHNpYmxlLWxhc3QiLHRydWUpLmZpbmQoImEiKS5maXJzdCgpLmFkZENsYXNzKGIuY29ybmVycz8idWktY29ybmVyLWJvdHRvbSI6IiIpLmZpbmQoIi51aS1idG4taW5uZXIiKS5hZGRDbGFzcygidWktY29ybmVyLWJvdHRvbSIpfX0pO2EoaykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLmNvbGxhcHNpYmxlc2V0LnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0KX0pfSkobCk7KGZ1bmN0aW9uKGEsYyl7YS53aWRnZXQoIm1vYmlsZS5uYXZiYXIiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7aWNvbnBvczoidG9wIixncmlkOm51bGwsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSduYXZiYXInKSJ9LApfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGQ9Yi5maW5kKCJhIiksZT1kLmZpbHRlcigiOmpxbURhdGEoaWNvbikiKS5sZW5ndGg/dGhpcy5vcHRpb25zLmljb25wb3M6YztiLmFkZENsYXNzKCJ1aS1uYXZiYXIgdWktbWluaSIpLmF0dHIoInJvbGUiLCJuYXZpZ2F0aW9uIikuZmluZCgidWwiKS5qcW1FbmhhbmNlYWJsZSgpLmdyaWQoe2dyaWQ6dGhpcy5vcHRpb25zLmdyaWR9KTtkLmJ1dHRvbk1hcmt1cCh7Y29ybmVyczpmYWxzZSxzaGFkb3c6ZmFsc2UsaW5saW5lOnRydWUsaWNvbnBvczplfSk7Yi5kZWxlZ2F0ZSgiYSIsInZjbGljayIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuaGFzQ2xhc3MoInVpLWRpc2FibGVkIil8fChkLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxhKHRoaXMpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSl9KTtiLmNsb3Nlc3QoIi51aS1wYWdlIikuYmluZCgicGFnZWJlZm9yZXNob3ciLGZ1bmN0aW9uKCl7ZC5maWx0ZXIoIi51aS1zdGF0ZS1wZXJzaXN0IikuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSl9fSk7CmEoaykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLm5hdmJhci5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCl9KX0pKGwpOyhmdW5jdGlvbihhKXt2YXIgYz17fTthLndpZGdldCgibW9iaWxlLmxpc3R2aWV3IixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsY291bnRUaGVtZToiYyIsaGVhZGVyVGhlbWU6ImIiLGRpdmlkZXJUaGVtZToiYiIsc3BsaXRJY29uOiJhcnJvdy1yIixzcGxpdFRoZW1lOiJiIixpbnNldDpmYWxzZSxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2xpc3R2aWV3JykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGE9IiI7YSs9dGhpcy5vcHRpb25zLmluc2V0PyIgdWktbGlzdHZpZXctaW5zZXQgdWktY29ybmVyLWFsbCB1aS1zaGFkb3cgIjoiIjt0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoZnVuY3Rpb24oYyxlKXtyZXR1cm4gZSsiIHVpLWxpc3R2aWV3ICIrYX0pO3RoaXMucmVmcmVzaCh0cnVlKX0sCl9yZW1vdmVDb3JuZXJzOmZ1bmN0aW9uKGEsYyl7YT1hLmFkZChhLmZpbmQoIi51aS1idG4taW5uZXIsIC51aS1saS1saW5rLWFsdCwgLnVpLWxpLXRodW1iIikpO2M9PT0idG9wIj9hLnJlbW92ZUNsYXNzKCJ1aS1jb3JuZXItdG9wIHVpLWNvcm5lci10ciB1aS1jb3JuZXItdGwiKTpjPT09ImJvdHRvbSI/YS5yZW1vdmVDbGFzcygidWktY29ybmVyLWJvdHRvbSB1aS1jb3JuZXItYnIgdWktY29ybmVyLWJsIik6YS5yZW1vdmVDbGFzcygidWktY29ybmVyLXRvcCB1aS1jb3JuZXItdHIgdWktY29ybmVyLXRsIHVpLWNvcm5lci1ib3R0b20gdWktY29ybmVyLWJyIHVpLWNvcm5lci1ibCIpfSxfcmVmcmVzaENvcm5lcnM6ZnVuY3Rpb24oYSl7dmFyIGMsZTtjPXRoaXMuZWxlbWVudC5jaGlsZHJlbigibGkiKTtlPWE/Yy5ub3QoIi51aS1zY3JlZW4taGlkZGVuIik6Yy5maWx0ZXIoIjp2aXNpYmxlIik7Yy5maWx0ZXIoIi51aS1saS1sYXN0IikucmVtb3ZlQ2xhc3MoInVpLWxpLWxhc3QiKTsKdGhpcy5vcHRpb25zLmluc2V0Pyh0aGlzLl9yZW1vdmVDb3JuZXJzKGMpLGM9ZS5maXJzdCgpLmFkZENsYXNzKCJ1aS1jb3JuZXItdG9wIiksYy5hZGQoYy5maW5kKCIudWktYnRuLWlubmVyIikubm90KCIudWktbGktbGluay1hbHQgc3BhbjpmaXJzdC1jaGlsZCIpKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCIpLmVuZCgpLmZpbmQoIi51aS1saS1saW5rLWFsdCwgLnVpLWxpLWxpbmstYWx0IHNwYW46Zmlyc3QtY2hpbGQiKS5hZGRDbGFzcygidWktY29ybmVyLXRyIikuZW5kKCkuZmluZCgiLnVpLWxpLXRodW1iIikubm90KCIudWktbGktaWNvbiIpLmFkZENsYXNzKCJ1aS1jb3JuZXItdGwiKSxlPWUubGFzdCgpLmFkZENsYXNzKCJ1aS1jb3JuZXItYm90dG9tIHVpLWxpLWxhc3QiKSxlLmFkZChlLmZpbmQoIi51aS1idG4taW5uZXIiKSkuZmluZCgiLnVpLWxpLWxpbmstYWx0IikuYWRkQ2xhc3MoInVpLWNvcm5lci1iciIpLmVuZCgpLmZpbmQoIi51aS1saS10aHVtYiIpLm5vdCgiLnVpLWxpLWljb24iKS5hZGRDbGFzcygidWktY29ybmVyLWJsIikpOgplLmxhc3QoKS5hZGRDbGFzcygidWktbGktbGFzdCIpO2F8fHRoaXMuZWxlbWVudC50cmlnZ2VyKCJ1cGRhdGVsYXlvdXQiKX0sX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWU6ZnVuY3Rpb24oYSxjLGUsZil7dmFyIGc9e307Zm9yKGdbZV09Z1tmXT10cnVlO2E7KXtpZihnW2Eubm9kZU5hbWVdKXJldHVybiBhO2E9YVtjXX1yZXR1cm4gbnVsbH0sX2dldENoaWxkcmVuQnlUYWdOYW1lOmZ1bmN0aW9uKGIsYyxlKXt2YXIgZj1bXSxnPXt9O2dbY109Z1tlXT10cnVlO2ZvcihiPWIuZmlyc3RDaGlsZDtiOylnW2Iubm9kZU5hbWVdJiZmLnB1c2goYiksYj1iLm5leHRTaWJsaW5nO3JldHVybiBhKGYpfSxfYWRkVGh1bWJDbGFzc2VzOmZ1bmN0aW9uKGIpe3ZhciBjLGUsZj1iLmxlbmd0aDtmb3IoYz0wO2M8ZjtjKyspZT1hKHRoaXMuX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWUoYltjXS5maXJzdENoaWxkLCJuZXh0U2libGluZyIsImltZyIsIklNRyIpKSxlLmxlbmd0aCYmKGUuYWRkQ2xhc3MoInVpLWxpLXRodW1iIiksCmEodGhpcy5fZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZShlWzBdLnBhcmVudE5vZGUsInBhcmVudE5vZGUiLCJsaSIsIkxJIikpLmFkZENsYXNzKGUuaXMoIi51aS1saS1pY29uIik/InVpLWxpLWhhcy1pY29uIjoidWktbGktaGFzLXRodW1iIikpfSxyZWZyZXNoOmZ1bmN0aW9uKGIpe3RoaXMucGFyZW50UGFnZT10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKTt0aGlzLl9jcmVhdGVTdWJQYWdlcygpO3ZhciBjPXRoaXMub3B0aW9ucyxlPXRoaXMuZWxlbWVudCxmPWUuanFtRGF0YSgiZGl2aWRlcnRoZW1lIil8fGMuZGl2aWRlclRoZW1lLGc9ZS5qcW1EYXRhKCJzcGxpdHRoZW1lIiksaD1lLmpxbURhdGEoInNwbGl0aWNvbiIpLGo9dGhpcy5fZ2V0Q2hpbGRyZW5CeVRhZ05hbWUoZVswXSwibGkiLCJMSSIpLGw9ISFhLm5vZGVOYW1lKGVbMF0sIm9sIikscD0hYS5zdXBwb3J0LmNzc1BzZXVkb0VsZW1lbnQsbT1lLmF0dHIoInN0YXJ0Iiksdz17fSxuLHIsbyx0LHYseCx1LApzO2wmJnAmJmUuZmluZCgiLnVpLWxpLWRlYyIpLnJlbW92ZSgpO2wmJihtfHxtPT09MD9wP3g9cGFyc2VGbG9hdChtKToobj1wYXJzZUZsb2F0KG0pLTEsZS5jc3MoImNvdW50ZXItcmVzZXQiLCJsaXN0bnVtYmVyaW5nICIrbikpOnAmJih4PTEpKTtpZighYy50aGVtZSljLnRoZW1lPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudCwiYyIpO2Zvcih2YXIgej0wLHk9ai5sZW5ndGg7ejx5O3orKyl7bj1qLmVxKHopO3I9InVpLWxpIjtpZihifHwhbi5oYXNDbGFzcygidWktbGkiKSlvPW4uanFtRGF0YSgidGhlbWUiKXx8Yy50aGVtZSx0PXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKG5bMF0sImEiLCJBIiksdT1uLmpxbURhdGEoInJvbGUiKT09PSJsaXN0LWRpdmlkZXIiLHQubGVuZ3RoJiYhdT8odT1uLmpxbURhdGEoImljb24iKSxuLmJ1dHRvbk1hcmt1cCh7d3JhcHBlckVsczoiZGl2IixzaGFkb3c6ZmFsc2UsY29ybmVyczpmYWxzZSxpY29ucG9zOiJyaWdodCIsCmljb246dC5sZW5ndGg+MXx8dT09PWZhbHNlP2ZhbHNlOnV8fCJhcnJvdy1yIix0aGVtZTpvfSksdSE9ZmFsc2UmJnQubGVuZ3RoPT0xJiZuLmFkZENsYXNzKCJ1aS1saS1oYXMtYXJyb3ciKSx0LmZpcnN0KCkucmVtb3ZlQ2xhc3MoInVpLWxpbmsiKS5hZGRDbGFzcygidWktbGluay1pbmhlcml0IiksdC5sZW5ndGg+MSYmKHIrPSIgdWktbGktaGFzLWFsdCIsdD10Lmxhc3QoKSx2PWd8fHQuanFtRGF0YSgidGhlbWUiKXx8Yy5zcGxpdFRoZW1lLHM9dC5qcW1EYXRhKCJpY29uIiksdC5hcHBlbmRUbyhuKS5hdHRyKCJ0aXRsZSIsdC5nZXRFbmNvZGVkVGV4dCgpKS5hZGRDbGFzcygidWktbGktbGluay1hbHQiKS5lbXB0eSgpLmJ1dHRvbk1hcmt1cCh7c2hhZG93OmZhbHNlLGNvcm5lcnM6ZmFsc2UsdGhlbWU6byxpY29uOmZhbHNlLGljb25wb3M6Im5vdGV4dCJ9KS5maW5kKCIudWktYnRuLWlubmVyIikuYXBwZW5kKGEoay5jcmVhdGVFbGVtZW50KCJzcGFuIikpLmJ1dHRvbk1hcmt1cCh7c2hhZG93OnRydWUsCmNvcm5lcnM6dHJ1ZSx0aGVtZTp2LGljb25wb3M6Im5vdGV4dCIsaWNvbjpzfHx1fHxofHxjLnNwbGl0SWNvbn0pKSkpOnU/KHIrPSIgdWktbGktZGl2aWRlciB1aS1iYXItIitmLG4uYXR0cigicm9sZSIsImhlYWRpbmciKSxsJiYobXx8bT09PTA/cD94PXBhcnNlRmxvYXQobSk6KG89cGFyc2VGbG9hdChtKS0xLG4uY3NzKCJjb3VudGVyLXJlc2V0IiwibGlzdG51bWJlcmluZyAiK28pKTpwJiYoeD0xKSkpOnIrPSIgdWktbGktc3RhdGljIHVpLWJvZHktIitvO2wmJnAmJnIuaW5kZXhPZigidWktbGktZGl2aWRlciIpPDAmJihvPXIuaW5kZXhPZigidWktbGktc3RhdGljIik+MD9uOm4uZmluZCgiLnVpLWxpbmstaW5oZXJpdCIpLG8uYWRkQ2xhc3MoInVpLWxpLWpzbnVtYmVyaW5nIikucHJlcGVuZCgiPHNwYW4gY2xhc3M9J3VpLWxpLWRlYyc+Iit4KysgKyIuIDwvc3Bhbj4iKSk7d1tyXXx8KHdbcl09W10pO3dbcl0ucHVzaChuWzBdKX1mb3IociBpbiB3KWEod1tyXSkuYWRkQ2xhc3MocikuY2hpbGRyZW4oIi51aS1idG4taW5uZXIiKS5hZGRDbGFzcyhyKTsKZS5maW5kKCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IikuYWRkQ2xhc3MoInVpLWxpLWhlYWRpbmciKS5lbmQoKS5maW5kKCJwLCBkbCIpLmFkZENsYXNzKCJ1aS1saS1kZXNjIikuZW5kKCkuZmluZCgiLnVpLWxpLWFzaWRlIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7Yi5wcmVwZW5kVG8oYi5wYXJlbnQoKSl9KS5lbmQoKS5maW5kKCIudWktbGktY291bnQiKS5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5jbG9zZXN0KCJsaSIpLmFkZENsYXNzKCJ1aS1saS1oYXMtY291bnQiKX0pLmFkZENsYXNzKCJ1aS1idG4tdXAtIisoZS5qcW1EYXRhKCJjb3VudHRoZW1lIil8fHRoaXMub3B0aW9ucy5jb3VudFRoZW1lKSsiIHVpLWJ0bi1jb3JuZXItYWxsIik7dGhpcy5fYWRkVGh1bWJDbGFzc2VzKGopO3RoaXMuX2FkZFRodW1iQ2xhc3NlcyhlLmZpbmQoIi51aS1saW5rLWluaGVyaXQiKSk7dGhpcy5fcmVmcmVzaENvcm5lcnMoYil9LF9pZFN0cmluZ0VzY2FwZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywKIi0iKX0sX2NyZWF0ZVN1YlBhZ2VzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGQ9Yi5jbG9zZXN0KCIudWktcGFnZSIpLGU9ZC5qcW1EYXRhKCJ1cmwiKSxmPWV8fGRbMF1bYS5leHBhbmRvXSxnPWIuYXR0cigiaWQiKSxoPXRoaXMub3B0aW9ucyxqPSJkYXRhLSIrYS5tb2JpbGUubnMsaz10aGlzLGw9ZC5maW5kKCI6anFtRGF0YShyb2xlPSdmb290ZXInKSIpLmpxbURhdGEoImlkIiksbTt0eXBlb2YgY1tmXT09PSJ1bmRlZmluZWQiJiYoY1tmXT0tMSk7Zz1nfHwrK2NbZl07YShiLmZpbmQoImxpPnVsLCBsaT5vbCIpLnRvQXJyYXkoKS5yZXZlcnNlKCkpLmVhY2goZnVuY3Rpb24oYyl7dmFyIGQ9YSh0aGlzKSxmPWQuYXR0cigiaWQiKXx8ZysiLSIrYyxjPWQucGFyZW50KCksaz1hKGQucHJldkFsbCgpLnRvQXJyYXkoKS5yZXZlcnNlKCkpLGs9ay5sZW5ndGg/azphKCI8c3Bhbj4iK2EudHJpbShjLmNvbnRlbnRzKClbMF0ubm9kZVZhbHVlKSsiPC9zcGFuPiIpLHE9ay5maXJzdCgpLmdldEVuY29kZWRUZXh0KCksCmY9KGV8fCIiKSsiJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSsiPSIrZix2PWQuanFtRGF0YSgidGhlbWUiKXx8aC50aGVtZSx4PWQuanFtRGF0YSgiY291bnR0aGVtZSIpfHxiLmpxbURhdGEoImNvdW50dGhlbWUiKXx8aC5jb3VudFRoZW1lO209dHJ1ZTtkLmRldGFjaCgpLndyYXAoIjxkaXYgIitqKyJyb2xlPSdwYWdlJyAiK2orInVybD0nIitmKyInICIraisidGhlbWU9JyIrdisiJyAiK2orImNvdW50LXRoZW1lPSciK3grIic+PGRpdiAiK2orInJvbGU9J2NvbnRlbnQnPjwvZGl2PjwvZGl2PiIpLnBhcmVudCgpLmJlZm9yZSgiPGRpdiAiK2orInJvbGU9J2hlYWRlcicgIitqKyJ0aGVtZT0nIitoLmhlYWRlclRoZW1lKyInPjxkaXYgY2xhc3M9J3VpLXRpdGxlJz4iK3ErIjwvZGl2PjwvZGl2PiIpLmFmdGVyKGw/YSgiPGRpdiAiK2orInJvbGU9J2Zvb3RlcicgIitqKyJpZD0nIitsKyInPiIpOiIiKS5wYXJlbnQoKS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKS5wYWdlKCk7CmQ9Yy5maW5kKCJhOmZpcnN0Iik7ZC5sZW5ndGh8fChkPWEoIjxhLz4iKS5odG1sKGt8fHEpLnByZXBlbmRUbyhjLmVtcHR5KCkpKTtkLmF0dHIoImhyZWYiLCIjIitmKX0pLmxpc3R2aWV3KCk7bSYmZC5pcygiOmpxbURhdGEoZXh0ZXJuYWwtcGFnZT0ndHJ1ZScpIikmJmQuZGF0YSgicGFnZSIpLm9wdGlvbnMuZG9tQ2FjaGU9PT1mYWxzZSYmZC51bmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIpLmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIsZnVuY3Rpb24oYixjKXt2YXIgZj1jLm5leHRQYWdlLGc9bmV3IGEuRXZlbnQoInBhZ2VyZW1vdmUiKTtjLm5leHRQYWdlJiYoZj1mLmpxbURhdGEoInVybCIpLGYuaW5kZXhPZihlKyImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KSE9PTAmJihrLmNoaWxkUGFnZXMoKS5yZW1vdmUoKSxkLnRyaWdnZXIoZyksZy5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8ZC5yZW1vdmVXaXRoRGVwZW5kZW50cygpKSl9KX0sY2hpbGRQYWdlczpmdW5jdGlvbigpe3ZhciBiPQp0aGlzLnBhcmVudFBhZ2UuanFtRGF0YSgidXJsIik7cmV0dXJuIGEoIjpqcW1EYXRhKHVybF49JyIrYisiJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSsiJykiKX19KTthKGspLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCl9KX0pKGwpOyhmdW5jdGlvbihhLGMpe2Eud2lkZ2V0KCJtb2JpbGUuY2hlY2tib3hyYWRpbyIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLG1pbmk6ZmFsc2UsaW5pdFNlbGVjdG9yOiJpbnB1dFt0eXBlPSdjaGVja2JveCddLGlucHV0W3R5cGU9J3JhZGlvJ10ifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxkPXRoaXMuZWxlbWVudCxlPXRoaXMub3B0aW9ucyxmPWEoZCkuY2xvc2VzdCgibGFiZWwiKSxnPWYubGVuZ3RoP2Y6YShkKS5jbG9zZXN0KCJmb3JtLGZpZWxkc2V0LDpqcW1EYXRhKHJvbGU9J3BhZ2UnKSw6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpbmQoImxhYmVsIikuZmlsdGVyKCJbZm9yPSciKwpkWzBdLmlkKyInXSIpLGg9ZFswXS50eXBlLGY9ZC5qcW1EYXRhKCJtaW5pIil8fGQuY2xvc2VzdCgiZm9ybSxmaWVsZHNldCIpLmpxbURhdGEoIm1pbmkiKXx8ZS5taW5pLGo9aCsiLW9uIixsPWgrIi1vZmYiLHA9ZC5wYXJlbnRzKCI6anFtRGF0YSh0eXBlPSdob3Jpem9udGFsJykiKS5sZW5ndGg/YzpsLG09ZC5qcW1EYXRhKCJpY29ucG9zIil8fGQuY2xvc2VzdCgiZm9ybSxmaWVsZHNldCIpLmpxbURhdGEoImljb25wb3MiKTtpZighKGghPT0iY2hlY2tib3giJiZoIT09InJhZGlvIikpe2EuZXh0ZW5kKHRoaXMse2xhYmVsOmcsaW5wdXR0eXBlOmgsY2hlY2tlZENsYXNzOiJ1aS0iK2orKHA/IiI6IiAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSx1bmNoZWNrZWRDbGFzczoidWktIitsLGNoZWNrZWRpY29uOiJ1aS1pY29uLSIraix1bmNoZWNrZWRpY29uOiJ1aS1pY29uLSIrbH0pO2lmKCFlLnRoZW1lKWUudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LAoiYyIpO2cuYnV0dG9uTWFya3VwKHt0aGVtZTplLnRoZW1lLGljb246cCxzaGFkb3c6ZmFsc2UsbWluaTpmLGljb25wb3M6bX0pO2U9ay5jcmVhdGVFbGVtZW50KCJkaXYiKTtlLmNsYXNzTmFtZT0idWktIitoO2QuYWRkKGcpLndyYXBBbGwoZSk7Zy5iaW5kKHt2bW91c2VvdmVyOmZ1bmN0aW9uKGIpe2EodGhpcykucGFyZW50KCkuaXMoIi51aS1kaXNhYmxlZCIpJiZiLnN0b3BQcm9wYWdhdGlvbigpfSx2Y2xpY2s6ZnVuY3Rpb24oYSl7aWYoZC5pcygiOmRpc2FibGVkIikpYS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgcmV0dXJuIGIuX2NhY2hlVmFscygpLGQucHJvcCgiY2hlY2tlZCIsaD09PSJyYWRpbyImJnRydWV8fCFkLnByb3AoImNoZWNrZWQiKSksZC50cmlnZ2VySGFuZGxlcigiY2xpY2siKSxiLl9nZXRJbnB1dFNldCgpLm5vdChkKS5wcm9wKCJjaGVja2VkIixmYWxzZSksYi5fdXBkYXRlQWxsKCksZmFsc2V9fSk7ZC5iaW5kKHt2bW91c2Vkb3duOmZ1bmN0aW9uKCl7Yi5fY2FjaGVWYWxzKCl9LAp2Y2xpY2s6ZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpO2MuaXMoIjpjaGVja2VkIik/KGMucHJvcCgiY2hlY2tlZCIsdHJ1ZSksYi5fZ2V0SW5wdXRTZXQoKS5ub3QoYykucHJvcCgiY2hlY2tlZCIsZmFsc2UpKTpjLnByb3AoImNoZWNrZWQiLGZhbHNlKTtiLl91cGRhdGVBbGwoKX0sZm9jdXM6ZnVuY3Rpb24oKXtnLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxibHVyOmZ1bmN0aW9uKCl7Zy5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX19KTt0aGlzLnJlZnJlc2goKX19LF9jYWNoZVZhbHM6ZnVuY3Rpb24oKXt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmpxbURhdGEoImNhY2hlVmFsIix0aGlzLmNoZWNrZWQpfSl9LF9nZXRJbnB1dFNldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlucHV0dHlwZT09PSJjaGVja2JveCI/dGhpcy5lbGVtZW50OnRoaXMuZWxlbWVudC5jbG9zZXN0KCJmb3JtLGZpZWxkc2V0LDpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIpLmZpbmQoImlucHV0W25hbWU9JyIrCnRoaXMuZWxlbWVudFswXS5uYW1lKyInXVt0eXBlPSciK3RoaXMuaW5wdXR0eXBlKyInXSIpfSxfdXBkYXRlQWxsOmZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpOyh0aGlzLmNoZWNrZWR8fGIuaW5wdXR0eXBlPT09ImNoZWNrYm94IikmJmMudHJpZ2dlcigiY2hhbmdlIil9KS5jaGVja2JveHJhZGlvKCJyZWZyZXNoIil9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnRbMF0sYz10aGlzLmxhYmVsLGU9Yy5maW5kKCIudWktaWNvbiIpO2EuY2hlY2tlZD8oYy5hZGRDbGFzcyh0aGlzLmNoZWNrZWRDbGFzcykucmVtb3ZlQ2xhc3ModGhpcy51bmNoZWNrZWRDbGFzcyksZS5hZGRDbGFzcyh0aGlzLmNoZWNrZWRpY29uKS5yZW1vdmVDbGFzcyh0aGlzLnVuY2hlY2tlZGljb24pKTooYy5yZW1vdmVDbGFzcyh0aGlzLmNoZWNrZWRDbGFzcykuYWRkQ2xhc3ModGhpcy51bmNoZWNrZWRDbGFzcyksCmUucmVtb3ZlQ2xhc3ModGhpcy5jaGVja2VkaWNvbikuYWRkQ2xhc3ModGhpcy51bmNoZWNrZWRpY29uKSk7YS5kaXNhYmxlZD90aGlzLmRpc2FibGUoKTp0aGlzLmVuYWJsZSgpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIix0cnVlKS5wYXJlbnQoKS5hZGRDbGFzcygidWktZGlzYWJsZWQiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIixmYWxzZSkucGFyZW50KCkucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIil9fSk7YShrKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUuY2hlY2tib3hyYWRpby5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCx0cnVlKX0pfSkobCk7KGZ1bmN0aW9uKGEsYyl7YS53aWRnZXQoIm1vYmlsZS5idXR0b24iLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxpY29uOm51bGwsaWNvbnBvczpudWxsLGNvcm5lcnM6dHJ1ZSwKc2hhZG93OnRydWUsaWNvbnNoYWRvdzp0cnVlLGluaXRTZWxlY3RvcjoiYnV0dG9uLCBbdHlwZT0nYnV0dG9uJ10sIFt0eXBlPSdzdWJtaXQnXSwgW3R5cGU9J3Jlc2V0J10sIFt0eXBlPSdpbWFnZSddIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxkLGU9dGhpcy5vcHRpb25zLGY7Zj1lLmlubGluZXx8Yi5qcW1EYXRhKCJpbmxpbmUiKTt2YXIgZz1lLm1pbml8fGIuanFtRGF0YSgibWluaSIpLGg9IiIsajtpZihiWzBdLnRhZ05hbWU9PT0iQSIpIWIuaGFzQ2xhc3MoInVpLWJ0biIpJiZiLmJ1dHRvbk1hcmt1cCgpO2Vsc2V7aWYoIXRoaXMub3B0aW9ucy50aGVtZSl0aGlzLm9wdGlvbnMudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIik7fmJbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1sZWZ0IikmJihoPSJ1aS1idG4tbGVmdCIpO35iWzBdLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1idG4tcmlnaHQiKSYmKGg9CiJ1aS1idG4tcmlnaHQiKTtpZihiLmF0dHIoInR5cGUiKT09PSJzdWJtaXQifHxiLmF0dHIoInR5cGUiKT09PSJyZXNldCIpaD9oKz0iIHVpLXN1Ym1pdCI6aD0idWktc3VibWl0IjthKCJsYWJlbFtmb3I9JyIrYi5hdHRyKCJpZCIpKyInXSIpLmFkZENsYXNzKCJ1aS1zdWJtaXQiKTtkPXRoaXMuYnV0dG9uPWEoIjxkaXY+PC9kaXY+IikudGV4dChiLnRleHQoKXx8Yi52YWwoKSkuaW5zZXJ0QmVmb3JlKGIpLmJ1dHRvbk1hcmt1cCh7dGhlbWU6ZS50aGVtZSxpY29uOmUuaWNvbixpY29ucG9zOmUuaWNvbnBvcyxpbmxpbmU6Zixjb3JuZXJzOmUuY29ybmVycyxzaGFkb3c6ZS5zaGFkb3csaWNvbnNoYWRvdzplLmljb25zaGFkb3csbWluaTpnfSkuYWRkQ2xhc3MoaCkuYXBwZW5kKGIuYWRkQ2xhc3MoInVpLWJ0bi1oaWRkZW4iKSk7ZT1iLmF0dHIoInR5cGUiKTtmPWIuYXR0cigibmFtZSIpO2UhPT0iYnV0dG9uIiYmZSE9PSJyZXNldCImJmYmJmIuYmluZCgidmNsaWNrIixmdW5jdGlvbigpe2o9PT0KYyYmKGo9YSgiPGlucHV0PiIse3R5cGU6ImhpZGRlbiIsbmFtZTpiLmF0dHIoIm5hbWUiKSx2YWx1ZTpiLmF0dHIoInZhbHVlIil9KS5pbnNlcnRCZWZvcmUoYiksYShrKS5vbmUoInN1Ym1pdCIsZnVuY3Rpb24oKXtqLnJlbW92ZSgpO2o9Y30pKX0pO2IuYmluZCh7Zm9jdXM6ZnVuY3Rpb24oKXtkLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxibHVyOmZ1bmN0aW9uKCl7ZC5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX19KTt0aGlzLnJlZnJlc2goKX19LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsZmFsc2UpO3RoaXMuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLGZhbHNlKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsZmFsc2UpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIix0cnVlKTt0aGlzLmJ1dHRvbi5hZGRDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwKdHJ1ZSk7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLHRydWUpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50O2IucHJvcCgiZGlzYWJsZWQiKT90aGlzLmRpc2FibGUoKTp0aGlzLmVuYWJsZSgpO2EodGhpcy5idXR0b24uZGF0YSgiYnV0dG9uRWxlbWVudHMiKS50ZXh0KS50ZXh0KGIudGV4dCgpfHxiLnZhbCgpKX19KTthKGspLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5idXR0b24ucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQsdHJ1ZSl9KX0pKGwpOyhmdW5jdGlvbihhKXthLmZuLmNvbnRyb2xncm91cD1mdW5jdGlvbihjKXtmdW5jdGlvbiBiKGEsYil7YS5yZW1vdmVDbGFzcygidWktYnRuLWNvcm5lci1hbGwgdWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIHVpLWNvcm5lci1sZWZ0IHVpLWNvcm5lci1yaWdodCB1aS1jb250cm9sZ3JvdXAtbGFzdCB1aS1zaGFkb3ciKS5lcSgwKS5hZGRDbGFzcyhiWzBdKS5lbmQoKS5sYXN0KCkuYWRkQ2xhc3MoYlsxXSkuYWRkQ2xhc3MoInVpLWNvbnRyb2xncm91cC1sYXN0Iil9CnJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpLGU9YS5leHRlbmQoe2RpcmVjdGlvbjpkLmpxbURhdGEoInR5cGUiKXx8InZlcnRpY2FsIixzaGFkb3c6ZmFsc2UsZXhjbHVkZUludmlzaWJsZTp0cnVlLG1pbmk6ZC5qcW1EYXRhKCJtaW5pIil9LGMpLGY9ZC5jaGlsZHJlbigibGVnZW5kIiksZz1kLmNoaWxkcmVuKCIudWktY29udHJvbGdyb3VwLWxhYmVsIiksaD1kLmNoaWxkcmVuKCIudWktY29udHJvbGdyb3VwLWNvbnRyb2xzIiksaj1lLmRpcmVjdGlvbj09PSJob3Jpem9udGFsIj9bInVpLWNvcm5lci1sZWZ0IiwidWktY29ybmVyLXJpZ2h0Il06WyJ1aS1jb3JuZXItdG9wIiwidWktY29ybmVyLWJvdHRvbSJdO2QuZmluZCgiaW5wdXQiKS5maXJzdCgpLmF0dHIoInR5cGUiKTtoLmxlbmd0aCYmaC5jb250ZW50cygpLnVud3JhcCgpO2Qud3JhcElubmVyKCI8ZGl2IGNsYXNzPSd1aS1jb250cm9sZ3JvdXAtY29udHJvbHMnPjwvZGl2PiIpO2YubGVuZ3RoPwooYSgiPGRpdiByb2xlPSdoZWFkaW5nJyBjbGFzcz0ndWktY29udHJvbGdyb3VwLWxhYmVsJz4iK2YuaHRtbCgpKyI8L2Rpdj4iKS5pbnNlcnRCZWZvcmUoZC5jaGlsZHJlbigwKSksZi5yZW1vdmUoKSk6Zy5sZW5ndGgmJmQucHJlcGVuZChnKTtkLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIHVpLWNvbnRyb2xncm91cCB1aS1jb250cm9sZ3JvdXAtIitlLmRpcmVjdGlvbik7YihkLmZpbmQoIi51aS1idG4iKyhlLmV4Y2x1ZGVJbnZpc2libGU/Ijp2aXNpYmxlIjoiIikpLm5vdCgiLnVpLXNsaWRlci1oYW5kbGUiKSxqKTtiKGQuZmluZCgiLnVpLWJ0bi1pbm5lciIpLGopO2Uuc2hhZG93JiZkLmFkZENsYXNzKCJ1aS1zaGFkb3ciKTtlLm1pbmkmJmQuYWRkQ2xhc3MoInVpLW1pbmkiKX0pfX0pKGwpOyhmdW5jdGlvbihhKXthKGspLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihjKXthKGMudGFyZ2V0KS5maW5kKCJhIikuanFtRW5oYW5jZWFibGUoKS5ub3QoIi51aS1idG4sIC51aS1saW5rLWluaGVyaXQsIDpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIikuYWRkQ2xhc3MoInVpLWxpbmsiKX0pfSkobCk7CihmdW5jdGlvbihhKXt2YXIgYz1hKCJtZXRhW25hbWU9dmlld3BvcnRdIiksYj1jLmF0dHIoImNvbnRlbnQiKSxkPWIrIixtYXhpbXVtLXNjYWxlPTEsIHVzZXItc2NhbGFibGU9bm8iLGU9YisiLG1heGltdW0tc2NhbGU9MTAsIHVzZXItc2NhbGFibGU9eWVzIixmPS8odXNlci1zY2FsYWJsZVtcc10qPVtcc10qbm8pfChtYXhpbXVtLXNjYWxlW1xzXSo9W1xzXSoxKVskLFxzXS8udGVzdChiKTthLm1vYmlsZS56b29tPWEuZXh0ZW5kKHt9LHtlbmFibGVkOiFmLGxvY2tlZDpmYWxzZSxkaXNhYmxlOmZ1bmN0aW9uKGIpe2lmKCFmJiYhYS5tb2JpbGUuem9vbS5sb2NrZWQpYy5hdHRyKCJjb250ZW50IixkKSxhLm1vYmlsZS56b29tLmVuYWJsZWQ9ZmFsc2UsYS5tb2JpbGUuem9vbS5sb2NrZWQ9Ynx8ZmFsc2V9LGVuYWJsZTpmdW5jdGlvbihiKXtpZighZiYmKCFhLm1vYmlsZS56b29tLmxvY2tlZHx8Yj09PXRydWUpKWMuYXR0cigiY29udGVudCIsZSksYS5tb2JpbGUuem9vbS5lbmFibGVkPQp0cnVlLGEubW9iaWxlLnpvb20ubG9ja2VkPWZhbHNlfSxyZXN0b3JlOmZ1bmN0aW9uKCl7aWYoIWYpYy5hdHRyKCJjb250ZW50IixiKSxhLm1vYmlsZS56b29tLmVuYWJsZWQ9dHJ1ZX19KX0pKGwpOyhmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnRleHRpbnB1dCIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLG1pbmk6ZmFsc2UscHJldmVudEZvY3VzWm9vbTovaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTEsaW5pdFNlbGVjdG9yOiJpbnB1dFt0eXBlPSd0ZXh0J10sIGlucHV0W3R5cGU9J3NlYXJjaCddLCA6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSwgaW5wdXRbdHlwZT0nbnVtYmVyJ10sIDpqcW1EYXRhKHR5cGU9J251bWJlcicpLCBpbnB1dFt0eXBlPSdwYXNzd29yZCddLCBpbnB1dFt0eXBlPSdlbWFpbCddLCBpbnB1dFt0eXBlPSd1cmwnXSwgaW5wdXRbdHlwZT0ndGVsJ10sIHRleHRhcmVhLCBpbnB1dFt0eXBlPSd0aW1lJ10sIGlucHV0W3R5cGU9J2RhdGUnXSwgaW5wdXRbdHlwZT0nbW9udGgnXSwgaW5wdXRbdHlwZT0nd2VlayddLCBpbnB1dFt0eXBlPSdkYXRldGltZSddLCBpbnB1dFt0eXBlPSdkYXRldGltZS1sb2NhbCddLCBpbnB1dFt0eXBlPSdjb2xvciddLCBpbnB1dDpub3QoW3R5cGVdKSIsCmNsZWFyU2VhcmNoQnV0dG9uVGV4dDoiY2xlYXIgdGV4dCIsZGlzYWJsZWQ6ZmFsc2V9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmVsZW1lbnQsYj10aGlzLm9wdGlvbnMsZD1iLnRoZW1lfHxhLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQsImMiKSxlPSIgdWktYm9keS0iK2QsZj1iLm1pbmk/IiB1aS1taW5pIjoiIixnLGg7YSgibGFiZWxbZm9yPSciK2MuYXR0cigiaWQiKSsiJ10iKS5hZGRDbGFzcygidWktaW5wdXQtdGV4dCIpO2c9Yy5hZGRDbGFzcygidWktaW5wdXQtdGV4dCB1aS1ib2R5LSIrZCk7dHlwZW9mIGNbMF0uYXV0b2NvcnJlY3QhPT0idW5kZWZpbmVkIiYmIWEuc3VwcG9ydC50b3VjaE92ZXJmbG93JiYoY1swXS5zZXRBdHRyaWJ1dGUoImF1dG9jb3JyZWN0Iiwib2ZmIiksY1swXS5zZXRBdHRyaWJ1dGUoImF1dG9jb21wbGV0ZSIsIm9mZiIpKTtjLmlzKCJbdHlwZT0nc2VhcmNoJ10sOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKT8oZz0KYy53cmFwKCI8ZGl2IGNsYXNzPSd1aS1pbnB1dC1zZWFyY2ggdWktc2hhZG93LWluc2V0IHVpLWJ0bi1jb3JuZXItYWxsIHVpLWJ0bi1zaGFkb3cgdWktaWNvbi1zZWFyY2hmaWVsZCIrZStmKyInPjwvZGl2PiIpLnBhcmVudCgpLGg9YSgiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWlucHV0LWNsZWFyJyB0aXRsZT0nIitiLmNsZWFyU2VhcmNoQnV0dG9uVGV4dCsiJz4iK2IuY2xlYXJTZWFyY2hCdXR0b25UZXh0KyI8L2E+IikuYmluZCgiY2xpY2siLGZ1bmN0aW9uKGEpe2MudmFsKCIiKS5mb2N1cygpLnRyaWdnZXIoImNoYW5nZSIpO2guYWRkQ2xhc3MoInVpLWlucHV0LWNsZWFyLWhpZGRlbiIpO2EucHJldmVudERlZmF1bHQoKX0pLmFwcGVuZFRvKGcpLmJ1dHRvbk1hcmt1cCh7aWNvbjoiZGVsZXRlIixpY29ucG9zOiJub3RleHQiLGNvcm5lcnM6dHJ1ZSxzaGFkb3c6dHJ1ZSxtaW5pOmIubWluaX0pLGQ9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aC50b2dnbGVDbGFzcygidWktaW5wdXQtY2xlYXItaGlkZGVuIiwKIWMudmFsKCkpfSwwKX0sZCgpLGMuYmluZCgicGFzdGUgY3V0IGtleXVwIGZvY3VzIGNoYW5nZSBibHVyIixkKSk6Yy5hZGRDbGFzcygidWktY29ybmVyLWFsbCB1aS1zaGFkb3ctaW5zZXQiK2UrZik7Yy5mb2N1cyhmdW5jdGlvbigpe2cuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5ibHVyKGZ1bmN0aW9uKCl7Zy5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJpbmQoImZvY3VzIixmdW5jdGlvbigpe2IucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKHRydWUpfSkuYmluZCgiYmx1ciIsZnVuY3Rpb24oKXtiLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKHRydWUpfSk7aWYoYy5pcygidGV4dGFyZWEiKSl7dmFyIGo9ZnVuY3Rpb24oKXt2YXIgYT1jWzBdLnNjcm9sbEhlaWdodDtjWzBdLmNsaWVudEhlaWdodDxhJiZjLmhlaWdodChhKzE1KX0sbDtjLmtleXVwKGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGwpOwpsPXNldFRpbWVvdXQoaiwxMDApfSk7YShrKS5vbmUoInBhZ2VjaGFuZ2UiLGopO2EudHJpbShjLnZhbCgpKSYmYShzKS5sb2FkKGopfWMuYXR0cigiZGlzYWJsZWQiKSYmdGhpcy5kaXNhYmxlKCl9LGRpc2FibGU6ZnVuY3Rpb24oKXsodGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIix0cnVlKS5pcygiW3R5cGU9J3NlYXJjaCddLDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIik/dGhpcy5lbGVtZW50LnBhcmVudCgpOnRoaXMuZWxlbWVudCkuYWRkQ2xhc3MoInVpLWRpc2FibGVkIik7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLHRydWUpfSxlbmFibGU6ZnVuY3Rpb24oKXsodGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIixmYWxzZSkuaXMoIlt0eXBlPSdzZWFyY2gnXSw6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIpP3RoaXMuZWxlbWVudC5wYXJlbnQoKTp0aGlzLmVsZW1lbnQpLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwKZmFsc2UpfX0pO2EoaykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGMpe2EubW9iaWxlLnRleHRpbnB1dC5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihjLnRhcmdldCx0cnVlKX0pfSkobCk7KGZ1bmN0aW9uKGEpe2EubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlcj1mYWxzZTthLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJQbGFjZWhvbGRlcj0iRmlsdGVyIGl0ZW1zLi4uIjthLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJUaGVtZT0iYyI7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2s9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoYik9PT0tMX07YShrKS5kZWxlZ2F0ZSgidWwsIG9sIiwibGlzdHZpZXdjcmVhdGUiLGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKSxiPWMuZGF0YSgibGlzdHZpZXciKTtpZihiLm9wdGlvbnMuZmlsdGVyKXt2YXIgZD0KYSgiPGZvcm0+Iix7ImNsYXNzIjoidWktbGlzdHZpZXctZmlsdGVyIHVpLWJhci0iK2Iub3B0aW9ucy5maWx0ZXJUaGVtZSxyb2xlOiJzZWFyY2gifSk7YSgiPGlucHV0PiIse3BsYWNlaG9sZGVyOmIub3B0aW9ucy5maWx0ZXJQbGFjZWhvbGRlcn0pLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidHlwZSIsInNlYXJjaCIpLmpxbURhdGEoImxhc3R2YWwiLCIiKS5iaW5kKCJrZXl1cCBjaGFuZ2UiLGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKSxmPXRoaXMudmFsdWUudG9Mb3dlckNhc2UoKSxnPW51bGwsZz1kLmpxbURhdGEoImxhc3R2YWwiKSsiIixoPWZhbHNlLGo9IiI7ZC5qcW1EYXRhKCJsYXN0dmFsIixmKTtnPWYubGVuZ3RoPGcubGVuZ3RofHxmLmluZGV4T2YoZykhPT0wP2MuY2hpbGRyZW4oKTpjLmNoaWxkcmVuKCI6bm90KC51aS1zY3JlZW4taGlkZGVuKSIpO2lmKGYpe2Zvcih2YXIgaz1nLmxlbmd0aC0xO2s+PTA7ay0tKWQ9YShnW2tdKSxqPWQuanFtRGF0YSgiZmlsdGVydGV4dCIpfHwKZC50ZXh0KCksZC5pcygibGk6anFtRGF0YShyb2xlPWxpc3QtZGl2aWRlcikiKT8oZC50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsIWgpLGg9ZmFsc2UpOmIub3B0aW9ucy5maWx0ZXJDYWxsYmFjayhqLGYpP2QudG9nZ2xlQ2xhc3MoInVpLWZpbHRlci1oaWRlcXVldWUiLHRydWUpOmg9dHJ1ZTtnLmZpbHRlcigiOm5vdCgudWktZmlsdGVyLWhpZGVxdWV1ZSkiKS50b2dnbGVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIsZmFsc2UpO2cuZmlsdGVyKCIudWktZmlsdGVyLWhpZGVxdWV1ZSIpLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIix0cnVlKS50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsZmFsc2UpfWVsc2UgZy50b2dnbGVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIsZmFsc2UpO2IuX3JlZnJlc2hDb3JuZXJzKCl9KS5hcHBlbmRUbyhkKS50ZXh0aW5wdXQoKTtiLm9wdGlvbnMuaW5zZXQmJmQuYWRkQ2xhc3MoInVpLWxpc3R2aWV3LWZpbHRlci1pbnNldCIpOwpkLmJpbmQoInN1Ym1pdCIsZnVuY3Rpb24oKXtyZXR1cm4gZmFsc2V9KS5pbnNlcnRCZWZvcmUoYyl9fSl9KShsKTsoZnVuY3Rpb24oYSxjKXthLndpZGdldCgibW9iaWxlLnNsaWRlciIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLHRyYWNrVGhlbWU6bnVsbCxkaXNhYmxlZDpmYWxzZSxpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J3JhbmdlJ10sIDpqcW1EYXRhKHR5cGU9J3JhbmdlJyksIDpqcW1EYXRhKHJvbGU9J3NsaWRlcicpIixtaW5pOmZhbHNlfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxkPXRoaXMuZWxlbWVudCxlPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGQsImMiKSxmPXRoaXMub3B0aW9ucy50aGVtZXx8ZSxlPXRoaXMub3B0aW9ucy50cmFja1RoZW1lfHxlLGc9ZFswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGg9Zz09InNlbGVjdCI/InVpLXNsaWRlci1zd2l0Y2giOiIiLGo9ZC5hdHRyKCJpZCIpLGw9YSgiW2Zvcj0nIitqKyInXSIpLApwPWwuYXR0cigiaWQiKXx8aisiLWxhYmVsIixsPWwuYXR0cigiaWQiLHApLG09ZnVuY3Rpb24oKXtyZXR1cm4gZz09ImlucHV0Ij9wYXJzZUZsb2F0KGQudmFsKCkpOmRbMF0uc2VsZWN0ZWRJbmRleH0sdz1nPT0iaW5wdXQiP3BhcnNlRmxvYXQoZC5hdHRyKCJtaW4iKSk6MCxuPWc9PSJpbnB1dCI/cGFyc2VGbG9hdChkLmF0dHIoIm1heCIpKTpkLmZpbmQoIm9wdGlvbiIpLmxlbmd0aC0xLHI9cy5wYXJzZUZsb2F0KGQuYXR0cigic3RlcCIpfHwxKSxvPXRoaXMub3B0aW9ucy5pbmxpbmV8fGQuanFtRGF0YSgiaW5saW5lIik9PXRydWU/IiB1aS1zbGlkZXItaW5saW5lIjoiIix0PXRoaXMub3B0aW9ucy5taW5pfHxkLmpxbURhdGEoIm1pbmkiKT8iIHVpLXNsaWRlci1taW5pIjoiIix2PWsuY3JlYXRlRWxlbWVudCgiYSIpLHg9YSh2KSxqPWsuY3JlYXRlRWxlbWVudCgiZGl2IiksdT1hKGopLEY9ZC5qcW1EYXRhKCJoaWdobGlnaHQiKSYmZyE9InNlbGVjdCI/ZnVuY3Rpb24oKXt2YXIgYj0Kay5jcmVhdGVFbGVtZW50KCJkaXYiKTtiLmNsYXNzTmFtZT0idWktc2xpZGVyLWJnICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MrIiB1aS1idG4tY29ybmVyLWFsbCI7cmV0dXJuIGEoYikucHJlcGVuZFRvKHUpfSgpOmZhbHNlO3RoaXMuX3R5cGU9Zzt2LnNldEF0dHJpYnV0ZSgiaHJlZiIsIiMiKTtqLnNldEF0dHJpYnV0ZSgicm9sZSIsImFwcGxpY2F0aW9uIik7ai5jbGFzc05hbWU9WyJ1aS1zbGlkZXIgIixoLCIgdWktYnRuLWRvd24tIixlLCIgdWktYnRuLWNvcm5lci1hbGwiLG8sdF0uam9pbigiIik7di5jbGFzc05hbWU9InVpLXNsaWRlci1oYW5kbGUiO2ouYXBwZW5kQ2hpbGQodik7eC5idXR0b25NYXJrdXAoe2Nvcm5lcnM6dHJ1ZSx0aGVtZTpmLHNoYWRvdzp0cnVlfSkuYXR0cih7cm9sZToic2xpZGVyIiwiYXJpYS12YWx1ZW1pbiI6dywiYXJpYS12YWx1ZW1heCI6biwiYXJpYS12YWx1ZW5vdyI6bSgpLCJhcmlhLXZhbHVldGV4dCI6bSgpLHRpdGxlOm0oKSwiYXJpYS1sYWJlbGxlZGJ5IjpwfSk7CmEuZXh0ZW5kKHRoaXMse3NsaWRlcjp1LGhhbmRsZTp4LHZhbHVlYmc6RixkcmFnZ2luZzpmYWxzZSxiZWZvcmVTdGFydDpudWxsLHVzZXJNb2RpZmllZDpmYWxzZSxtb3VzZU1vdmVkOmZhbHNlfSk7aWYoZz09InNlbGVjdCIpe2Y9ay5jcmVhdGVFbGVtZW50KCJkaXYiKTtmLmNsYXNzTmFtZT0idWktc2xpZGVyLWlubmVyb2Zmc2V0IjtoPTA7Zm9yKHA9ai5jaGlsZE5vZGVzLmxlbmd0aDtoPHA7aCsrKWYuYXBwZW5kQ2hpbGQoai5jaGlsZE5vZGVzW2hdKTtqLmFwcGVuZENoaWxkKGYpO3guYWRkQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKTtmPWQuZmluZCgib3B0aW9uIik7aj0wO2ZvcihoPWYubGVuZ3RoO2o8aDtqKyspcD0haj8iYiI6ImEiLG89IWo/IiB1aS1idG4tZG93bi0iK2U6IiAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzLGsuY3JlYXRlRWxlbWVudCgiZGl2IiksdD1rLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSx0LmNsYXNzTmFtZT1bInVpLXNsaWRlci1sYWJlbCB1aS1zbGlkZXItbGFiZWwtIiwKcCxvLCIgdWktYnRuLWNvcm5lci1hbGwiXS5qb2luKCIiKSx0LnNldEF0dHJpYnV0ZSgicm9sZSIsImltZyIpLHQuYXBwZW5kQ2hpbGQoay5jcmVhdGVUZXh0Tm9kZShmW2pdLmlubmVySFRNTCkpLGEodCkucHJlcGVuZFRvKHUpO2IuX2xhYmVscz1hKCIudWktc2xpZGVyLWxhYmVsIix1KX1sLmFkZENsYXNzKCJ1aS1zbGlkZXIiKTtkLmFkZENsYXNzKGc9PT0iaW5wdXQiPyJ1aS1zbGlkZXItaW5wdXQiOiJ1aS1zbGlkZXItc3dpdGNoIikuY2hhbmdlKGZ1bmN0aW9uKCl7Yi5tb3VzZU1vdmVkfHxiLnJlZnJlc2gobSgpLHRydWUpfSkua2V5dXAoZnVuY3Rpb24oKXtiLnJlZnJlc2gobSgpLHRydWUsdHJ1ZSl9KS5ibHVyKGZ1bmN0aW9uKCl7Yi5yZWZyZXNoKG0oKSx0cnVlKX0pO2EoaykuYmluZCgidm1vdXNlbW92ZSIsZnVuY3Rpb24oYSl7aWYoYi5kcmFnZ2luZyYmIWIub3B0aW9ucy5kaXNhYmxlZClyZXR1cm4gYi5tb3VzZU1vdmVkPXRydWUsZz09PSJzZWxlY3QiJiZ4LnJlbW92ZUNsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiksCmIucmVmcmVzaChhKSxiLnVzZXJNb2RpZmllZD1iLmJlZm9yZVN0YXJ0IT09ZFswXS5zZWxlY3RlZEluZGV4LGZhbHNlfSk7ZC5iaW5kKCJ2bW91c2V1cCIsYS5wcm94eShiLl9jaGVja2VkUmVmcmVzaCxiKSk7dS5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbihhKXtpZihiLm9wdGlvbnMuZGlzYWJsZWQpcmV0dXJuIGZhbHNlO2IuZHJhZ2dpbmc9dHJ1ZTtiLnVzZXJNb2RpZmllZD1mYWxzZTtiLm1vdXNlTW92ZWQ9ZmFsc2U7aWYoZz09PSJzZWxlY3QiKWIuYmVmb3JlU3RhcnQ9ZFswXS5zZWxlY3RlZEluZGV4O2IucmVmcmVzaChhKTtyZXR1cm4gZmFsc2V9KS5iaW5kKCJ2Y2xpY2siLGZhbHNlKTt1LmFkZChrKS5iaW5kKCJ2bW91c2V1cCIsZnVuY3Rpb24oKXtpZihiLmRyYWdnaW5nKXJldHVybiBiLmRyYWdnaW5nPWZhbHNlLGc9PT0ic2VsZWN0IiYmKHguYWRkQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKSxiLm1vdXNlTW92ZWQ/Yi51c2VyTW9kaWZpZWQ/Yi5yZWZyZXNoKGIuYmVmb3JlU3RhcnQ9PQowPzE6MCk6Yi5yZWZyZXNoKGIuYmVmb3JlU3RhcnQpOmIucmVmcmVzaChiLmJlZm9yZVN0YXJ0PT0wPzE6MCkpLGIubW91c2VNb3ZlZD1mYWxzZX0pO3UuaW5zZXJ0QWZ0ZXIoZCk7Zz09InNlbGVjdCImJnRoaXMuaGFuZGxlLmJpbmQoe2ZvY3VzOmZ1bmN0aW9uKCl7dS5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0sYmx1cjpmdW5jdGlvbigpe3UucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9fSk7dGhpcy5oYW5kbGUuYmluZCh7dm1vdXNlZG93bjpmdW5jdGlvbigpe2EodGhpcykuZm9jdXMoKX0sdmNsaWNrOmZhbHNlLGtleWRvd246ZnVuY3Rpb24oYyl7dmFyIGQ9bSgpO2lmKCFiLm9wdGlvbnMuZGlzYWJsZWQpe3N3aXRjaChjLmtleUNvZGUpe2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5IT01FOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5FTkQ6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlJJR0hUOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5MRUZUOmlmKGMucHJldmVudERlZmF1bHQoKSwKIWIuX2tleVNsaWRpbmcpYi5fa2V5U2xpZGluZz10cnVlLGEodGhpcykuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpfXN3aXRjaChjLmtleUNvZGUpe2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5IT01FOmIucmVmcmVzaCh3KTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuRU5EOmIucmVmcmVzaChuKTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlJJR0hUOmIucmVmcmVzaChkK3IpO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX0RPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkRPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkxFRlQ6Yi5yZWZyZXNoKGQtcil9fX0sa2V5dXA6ZnVuY3Rpb24oKXtpZihiLl9rZXlTbGlkaW5nKWIuX2tleVNsaWRpbmc9ZmFsc2UsYSh0aGlzKS5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIil9fSk7dGhpcy5yZWZyZXNoKGMsYyx0cnVlKX0sCl9jaGVja2VkUmVmcmVzaDpmdW5jdGlvbigpe2lmKHRoaXMudmFsdWUhPXRoaXMuX3ZhbHVlKCkpdGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCkpLHRoaXMudmFsdWU9dGhpcy5fdmFsdWUoKX0sX3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3R5cGU9PT0iaW5wdXQiP3BhcnNlRmxvYXQodGhpcy5lbGVtZW50LnZhbCgpKTp0aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleH0scmVmcmVzaDpmdW5jdGlvbihiLGMsZSl7KHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIikpJiZ0aGlzLmRpc2FibGUoKTt2YXIgZj10aGlzLmVsZW1lbnQsZz1mWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksaD1nPT09ImlucHV0Ij9wYXJzZUZsb2F0KGYuYXR0cigibWluIikpOjAsaj1nPT09ImlucHV0Ij9wYXJzZUZsb2F0KGYuYXR0cigibWF4IikpOmYuZmluZCgib3B0aW9uIikubGVuZ3RoLTEsaz1nPT09ImlucHV0IiYmcGFyc2VGbG9hdChmLmF0dHIoInN0ZXAiKSk+CjA/cGFyc2VGbG9hdChmLmF0dHIoInN0ZXAiKSk6MTtpZih0eXBlb2YgYj09PSJvYmplY3QiKXtpZighdGhpcy5kcmFnZ2luZ3x8Yi5wYWdlWDx0aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0LTh8fGIucGFnZVg+dGhpcy5zbGlkZXIub2Zmc2V0KCkubGVmdCt0aGlzLnNsaWRlci53aWR0aCgpKzgpcmV0dXJuO2I9TWF0aC5yb3VuZCgoYi5wYWdlWC10aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0KS90aGlzLnNsaWRlci53aWR0aCgpKjEwMCl9ZWxzZSBiPT1udWxsJiYoYj1nPT09ImlucHV0Ij9wYXJzZUZsb2F0KGYudmFsKCl8fDApOmZbMF0uc2VsZWN0ZWRJbmRleCksYj0ocGFyc2VGbG9hdChiKS1oKS8oai1oKSoxMDA7aWYoIWlzTmFOKGIpKXtiPDAmJihiPTApO2I+MTAwJiYoYj0xMDApO3ZhciBsPWIvMTAwKihqLWgpK2gsbT0obC1oKSVrO2wtPW07TWF0aC5hYnMobSkqMj49ayYmKGwrPW0+MD9rOi1rKTtsPXBhcnNlRmxvYXQobC50b0ZpeGVkKDUpKTtsPGgmJihsPWgpO2w+aiYmKGw9CmopO3RoaXMuaGFuZGxlLmNzcygibGVmdCIsYisiJSIpO3RoaXMuaGFuZGxlLmF0dHIoeyJhcmlhLXZhbHVlbm93IjpnPT09ImlucHV0Ij9sOmYuZmluZCgib3B0aW9uIikuZXEobCkuYXR0cigidmFsdWUiKSwiYXJpYS12YWx1ZXRleHQiOmc9PT0iaW5wdXQiP2w6Zi5maW5kKCJvcHRpb24iKS5lcShsKS5nZXRFbmNvZGVkVGV4dCgpLHRpdGxlOmc9PT0iaW5wdXQiP2w6Zi5maW5kKCJvcHRpb24iKS5lcShsKS5nZXRFbmNvZGVkVGV4dCgpfSk7dGhpcy52YWx1ZWJnJiZ0aGlzLnZhbHVlYmcuY3NzKCJ3aWR0aCIsYisiJSIpO2lmKHRoaXMuX2xhYmVscyl7dmFyIGg9dGhpcy5oYW5kbGUud2lkdGgoKS90aGlzLnNsaWRlci53aWR0aCgpKjEwMCxzPWImJmgrKDEwMC1oKSpiLzEwMCxuPWI9PT0xMDA/MDpNYXRoLm1pbihoKzEwMC1zLDEwMCk7dGhpcy5fbGFiZWxzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLmlzKCIudWktc2xpZGVyLWxhYmVsLWEiKTthKHRoaXMpLndpZHRoKChiPwpzOm4pKyIlIil9KX1pZighZSllPWZhbHNlLGc9PT0iaW5wdXQiPyhlPWYudmFsKCkhPT1sLGYudmFsKGwpKTooZT1mWzBdLnNlbGVjdGVkSW5kZXghPT1sLGZbMF0uc2VsZWN0ZWRJbmRleD1sKSwhYyYmZSYmZi50cmlnZ2VyKCJjaGFuZ2UiKX19LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsZmFsc2UpO3RoaXMuc2xpZGVyLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLGZhbHNlKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsZmFsc2UpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIix0cnVlKTt0aGlzLnNsaWRlci5hZGRDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIix0cnVlKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsdHJ1ZSl9fSk7YShrKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUuc2xpZGVyLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0LAp0cnVlKX0pfSkobCk7KGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUuc2VsZWN0bWVudSIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGRpc2FibGVkOmZhbHNlLGljb246ImFycm93LWQiLGljb25wb3M6InJpZ2h0IixpbmxpbmU6ZmFsc2UsY29ybmVyczp0cnVlLHNoYWRvdzp0cnVlLGljb25zaGFkb3c6dHJ1ZSxvdmVybGF5VGhlbWU6ImEiLGhpZGVQbGFjZWhvbGRlck1lbnVJdGVtczp0cnVlLGNsb3NlVGV4dDoiQ2xvc2UiLG5hdGl2ZU1lbnU6dHJ1ZSxwcmV2ZW50Rm9jdXNab29tOi9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSxpbml0U2VsZWN0b3I6InNlbGVjdDpub3QoOmpxbURhdGEocm9sZT0nc2xpZGVyJykpIixtaW5pOmZhbHNlfSxfYnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIGEoIjxkaXYvPiIpfSxfc2V0RGlzYWJsZWQ6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwKYSk7dGhpcy5idXR0b24uYXR0cigiYXJpYS1kaXNhYmxlZCIsYSk7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLGEpfSxfZm9jdXNCdXR0b246ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLmJ1dHRvbi5mb2N1cygpfSw0MCl9LF9zZWxlY3RPcHRpb25zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0LmZpbmQoIm9wdGlvbiIpfSxfcHJlRXh0ZW5zaW9uOmZ1bmN0aW9uKCl7dmFyIGM9IiI7fnRoaXMuZWxlbWVudFswXS5jbGFzc05hbWUuaW5kZXhPZigidWktYnRuLWxlZnQiKSYmKGM9IiB1aS1idG4tbGVmdCIpO350aGlzLmVsZW1lbnRbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1yaWdodCIpJiYoYz0iIHVpLWJ0bi1yaWdodCIpO3RoaXMuc2VsZWN0PXRoaXMuZWxlbWVudC53cmFwKCI8ZGl2IGNsYXNzPSd1aS1zZWxlY3QiK2MrIic+Iik7dGhpcy5zZWxlY3RJRD10aGlzLnNlbGVjdC5hdHRyKCJpZCIpO3RoaXMubGFiZWw9CmEoImxhYmVsW2Zvcj0nIit0aGlzLnNlbGVjdElEKyInXSIpLmFkZENsYXNzKCJ1aS1zZWxlY3QiKTt0aGlzLmlzTXVsdGlwbGU9dGhpcy5zZWxlY3RbMF0ubXVsdGlwbGU7aWYoIXRoaXMub3B0aW9ucy50aGVtZSl0aGlzLm9wdGlvbnMudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5zZWxlY3QsImMiKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3ByZUV4dGVuc2lvbigpO3RoaXMuX3RyaWdnZXIoImJlZm9yZUNyZWF0ZSIpO3RoaXMuYnV0dG9uPXRoaXMuX2J1dHRvbigpO3ZhciBjPXRoaXMsYj10aGlzLm9wdGlvbnMsZD1iLmlubGluZXx8dGhpcy5zZWxlY3QuanFtRGF0YSgiaW5saW5lIiksZT1iLm1pbml8fHRoaXMuc2VsZWN0LmpxbURhdGEoIm1pbmkiKSxmPWIuaWNvbj9iLmljb25wb3N8fHRoaXMuc2VsZWN0LmpxbURhdGEoImljb25wb3MiKTpmYWxzZSxkPXRoaXMuYnV0dG9uLmluc2VydEJlZm9yZSh0aGlzLnNlbGVjdCkuYnV0dG9uTWFya3VwKHt0aGVtZTpiLnRoZW1lLAppY29uOmIuaWNvbixpY29ucG9zOmYsaW5saW5lOmQsY29ybmVyczpiLmNvcm5lcnMsc2hhZG93OmIuc2hhZG93LGljb25zaGFkb3c6Yi5pY29uc2hhZG93LG1pbmk6ZX0pO3RoaXMuc2V0QnV0dG9uVGV4dCgpO2IubmF0aXZlTWVudSYmcy5vcGVyYSYmcy5vcGVyYS52ZXJzaW9uJiZkLmFkZENsYXNzKCJ1aS1zZWxlY3QtbmF0aXZlb25seSIpO2lmKHRoaXMuaXNNdWx0aXBsZSl0aGlzLmJ1dHRvbkNvdW50PWEoIjxzcGFuPiIpLmFkZENsYXNzKCJ1aS1saS1jb3VudCB1aS1idG4tdXAtYyB1aS1idG4tY29ybmVyLWFsbCIpLmhpZGUoKS5hcHBlbmRUbyhkLmFkZENsYXNzKCJ1aS1saS1oYXMtY291bnQiKSk7KGIuZGlzYWJsZWR8fHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIpKSYmdGhpcy5kaXNhYmxlKCk7dGhpcy5zZWxlY3QuY2hhbmdlKGZ1bmN0aW9uKCl7Yy5yZWZyZXNoKCl9KTt0aGlzLmJ1aWxkKCl9LGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGM9dGhpczt0aGlzLnNlbGVjdC5hcHBlbmRUbyhjLmJ1dHRvbikuYmluZCgidm1vdXNlZG93biIsCmZ1bmN0aW9uKCl7Yy5idXR0b24uYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiZm9jdXMiLGZ1bmN0aW9uKCl7Yy5idXR0b24uYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5iaW5kKCJibHVyIixmdW5jdGlvbigpe2MuYnV0dG9uLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSkuYmluZCgiZm9jdXMgdm1vdXNlb3ZlciIsZnVuY3Rpb24oKXtjLmJ1dHRvbi50cmlnZ2VyKCJ2bW91c2VvdmVyIil9KS5iaW5kKCJ2bW91c2Vtb3ZlIixmdW5jdGlvbigpe2MuYnV0dG9uLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImNoYW5nZSBibHVyIHZtb3VzZW91dCIsZnVuY3Rpb24oKXtjLmJ1dHRvbi50cmlnZ2VyKCJ2bW91c2VvdXQiKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJjaGFuZ2UgYmx1ciIsZnVuY3Rpb24oKXtjLmJ1dHRvbi5yZW1vdmVDbGFzcygidWktYnRuLWRvd24tIisKYy5vcHRpb25zLnRoZW1lKX0pO2MuYnV0dG9uLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKCl7Yy5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSh0cnVlKX0pO2MubGFiZWwuYmluZCgiY2xpY2sgZm9jdXMiLGZ1bmN0aW9uKCl7Yy5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSh0cnVlKX0pO2Muc2VsZWN0LmJpbmQoImZvY3VzIixmdW5jdGlvbigpe2Mub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUodHJ1ZSl9KTtjLmJ1dHRvbi5iaW5kKCJtb3VzZXVwIixmdW5jdGlvbigpe2Mub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5tb2JpbGUuem9vbS5lbmFibGUodHJ1ZSl9LDApfSk7Yy5zZWxlY3QuYmluZCgiYmx1ciIsZnVuY3Rpb24oKXtjLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5lbmFibGUodHJ1ZSl9KX0sCnNlbGVjdGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdE9wdGlvbnMoKS5maWx0ZXIoIjpzZWxlY3RlZCIpfSxzZWxlY3RlZEluZGljZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiB0aGlzLnNlbGVjdGVkKCkubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGEuX3NlbGVjdE9wdGlvbnMoKS5pbmRleCh0aGlzKX0pLmdldCgpfSxzZXRCdXR0b25UZXh0OmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxiPXRoaXMuc2VsZWN0ZWQoKSxkPXRoaXMucGxhY2Vob2xkZXIsZT1hKGsuY3JlYXRlRWxlbWVudCgic3BhbiIpKTt0aGlzLmJ1dHRvbi5maW5kKCIudWktYnRuLXRleHQiKS5odG1sKGZ1bmN0aW9uKCl7ZD1iLmxlbmd0aD9iLm1hcChmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLnRleHQoKX0pLmdldCgpLmpvaW4oIiwgIik6Yy5wbGFjZWhvbGRlcjtyZXR1cm4gZS50ZXh0KGQpLmFkZENsYXNzKGMuc2VsZWN0LmF0dHIoImNsYXNzIikpLmFkZENsYXNzKGIuYXR0cigiY2xhc3MiKSl9KX0sCnNldEJ1dHRvbkNvdW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZWxlY3RlZCgpO3RoaXMuaXNNdWx0aXBsZSYmdGhpcy5idXR0b25Db3VudFthLmxlbmd0aD4xPyJzaG93IjoiaGlkZSJdKCkudGV4dChhLmxlbmd0aCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLnNldEJ1dHRvblRleHQoKTt0aGlzLnNldEJ1dHRvbkNvdW50KCl9LG9wZW46YS5ub29wLGNsb3NlOmEubm9vcCxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0RGlzYWJsZWQodHJ1ZSk7dGhpcy5idXR0b24uYWRkQ2xhc3MoInVpLWRpc2FibGVkIil9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuX3NldERpc2FibGVkKGZhbHNlKTt0aGlzLmJ1dHRvbi5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKX19KTthKGspLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihjKXthLm1vYmlsZS5zZWxlY3RtZW51LnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGMudGFyZ2V0LHRydWUpfSl9KShsKTsoZnVuY3Rpb24oYSl7dmFyIGM9CmZ1bmN0aW9uKGIpe3ZhciBjPWIuc2VsZWN0SUQsZT1iLmxhYmVsLGY9Yi5zZWxlY3QuY2xvc2VzdCgiLnVpLXBhZ2UiKSxnPWEoIjxkaXY+Iix7ImNsYXNzIjoidWktc2VsZWN0bWVudS1zY3JlZW4gdWktc2NyZWVuLWhpZGRlbiJ9KS5hcHBlbmRUbyhmKSxoPWIuX3NlbGVjdE9wdGlvbnMoKSxqPWIuaXNNdWx0aXBsZT1iLnNlbGVjdFswXS5tdWx0aXBsZSxsPWMrIi1idXR0b24iLHA9YysiLW1lbnUiLG09YSgiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2RpYWxvZycgZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZT0nIitiLm9wdGlvbnMudGhlbWUrIicgZGF0YS0iK2EubW9iaWxlLm5zKyJvdmVybGF5LXRoZW1lPSciK2Iub3B0aW9ucy5vdmVybGF5VGhlbWUrIic+PGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2hlYWRlcic+PGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrZS5nZXRFbmNvZGVkVGV4dCgpKyI8L2Rpdj48L2Rpdj48ZGl2IGRhdGEtIithLm1vYmlsZS5ucysKInJvbGU9J2NvbnRlbnQnPjwvZGl2PjwvZGl2PiIpLHc9YSgiPGRpdj4iLHsiY2xhc3MiOiJ1aS1zZWxlY3RtZW51IHVpLXNlbGVjdG1lbnUtaGlkZGVuIHVpLW92ZXJsYXktc2hhZG93IHVpLWNvcm5lci1hbGwgdWktYm9keS0iK2Iub3B0aW9ucy5vdmVybGF5VGhlbWUrIiAiK2EubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9ufSkuaW5zZXJ0QWZ0ZXIoZyksbj1hKCI8dWw+Iix7ImNsYXNzIjoidWktc2VsZWN0bWVudS1saXN0IixpZDpwLHJvbGU6Imxpc3Rib3giLCJhcmlhLWxhYmVsbGVkYnkiOmx9KS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIixiLm9wdGlvbnMudGhlbWUpLmFwcGVuZFRvKHcpLHI9YSgiPGRpdj4iLHsiY2xhc3MiOiJ1aS1oZWFkZXIgdWktYmFyLSIrYi5vcHRpb25zLnRoZW1lfSkucHJlcGVuZFRvKHcpLG89YSgiPGgxPiIseyJjbGFzcyI6InVpLXRpdGxlIn0pLmFwcGVuZFRvKHIpLHQ7Yi5pc011bHRpcGxlJiYodD1hKCI8YT4iLHt0ZXh0OmIub3B0aW9ucy5jbG9zZVRleHQsCmhyZWY6IiMiLCJjbGFzcyI6InVpLWJ0bi1sZWZ0In0pLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiaWNvbnBvcyIsIm5vdGV4dCIpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiaWNvbiIsImRlbGV0ZSIpLmFwcGVuZFRvKHIpLmJ1dHRvbk1hcmt1cCgpKTthLmV4dGVuZChiLHtzZWxlY3Q6Yi5zZWxlY3Qsc2VsZWN0SUQ6YyxidXR0b25JZDpsLG1lbnVJZDpwLHRoaXNQYWdlOmYsbWVudVBhZ2U6bSxsYWJlbDplLHNjcmVlbjpnLHNlbGVjdE9wdGlvbnM6aCxpc011bHRpcGxlOmosdGhlbWU6Yi5vcHRpb25zLnRoZW1lLGxpc3Rib3g6dyxsaXN0Om4saGVhZGVyOnIsaGVhZGVyVGl0bGU6byxoZWFkZXJDbG9zZTp0LG1lbnVQYWdlQ29udGVudDp2b2lkIDAsbWVudVBhZ2VDbG9zZTp2b2lkIDAscGxhY2Vob2xkZXI6IiIsYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgYz10aGlzO2MucmVmcmVzaCgpO2Muc2VsZWN0LmF0dHIoInRhYmluZGV4IiwiLTEiKS5mb2N1cyhmdW5jdGlvbigpe2EodGhpcykuYmx1cigpOwpjLmJ1dHRvbi5mb2N1cygpfSk7Yy5idXR0b24uYmluZCgidmNsaWNrIGtleWRvd24iLGZ1bmN0aW9uKGIpe2lmKGIudHlwZT09InZjbGljayJ8fGIua2V5Q29kZSYmKGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuRU5URVJ8fGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuU1BBQ0UpKWMub3BlbigpLGIucHJldmVudERlZmF1bHQoKX0pO2MubGlzdC5hdHRyKCJyb2xlIiwibGlzdGJveCIpLmJpbmQoImZvY3VzaW4iLGZ1bmN0aW9uKGIpe2EoYi50YXJnZXQpLmF0dHIoInRhYmluZGV4IiwiMCIpLnRyaWdnZXIoInZtb3VzZW92ZXIiKX0pLmJpbmQoImZvY3Vzb3V0IixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5hdHRyKCJ0YWJpbmRleCIsIi0xIikudHJpZ2dlcigidm1vdXNlb3V0Iil9KS5kZWxlZ2F0ZSgibGk6bm90KC51aS1kaXNhYmxlZCwgLnVpLWxpLWRpdmlkZXIpIiwiY2xpY2siLGZ1bmN0aW9uKGQpe3ZhciBlPWMuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXgsZj1jLmxpc3QuZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLmluZGV4KHRoaXMpLApnPWMuX3NlbGVjdE9wdGlvbnMoKS5lcShmKVswXTtnLnNlbGVjdGVkPWMuaXNNdWx0aXBsZT8hZy5zZWxlY3RlZDp0cnVlO2MuaXNNdWx0aXBsZSYmYSh0aGlzKS5maW5kKCIudWktaWNvbiIpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9uIixnLnNlbGVjdGVkKS50b2dnbGVDbGFzcygidWktaWNvbi1jaGVja2JveC1vZmYiLCFnLnNlbGVjdGVkKTsoYy5pc011bHRpcGxlfHxlIT09ZikmJmMuc2VsZWN0LnRyaWdnZXIoImNoYW5nZSIpO2MuaXNNdWx0aXBsZT9jLmxpc3QuZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLmVxKGYpLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK2Iub3B0aW9ucy50aGVtZSkuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKTpjLmNsb3NlKCk7ZC5wcmV2ZW50RGVmYXVsdCgpfSkua2V5ZG93bihmdW5jdGlvbihjKXt2YXIgZD1hKGMudGFyZ2V0KSxlPWQuY2xvc2VzdCgibGkiKTtzd2l0Y2goYy5rZXlDb2RlKXtjYXNlIDM4OnJldHVybiBjPWUucHJldigpLm5vdCgiLnVpLXNlbGVjdG1lbnUtcGxhY2Vob2xkZXIiKSwKYy5pcygiLnVpLWxpLWRpdmlkZXIiKSYmKGM9Yy5wcmV2KCkpLGMubGVuZ3RoJiYoZC5ibHVyKCkuYXR0cigidGFiaW5kZXgiLCItMSIpLGMuYWRkQ2xhc3MoInVpLWJ0bi1kb3duLSIrYi5vcHRpb25zLnRoZW1lKS5maW5kKCJhIikuZmlyc3QoKS5mb2N1cygpKSxmYWxzZTtjYXNlIDQwOnJldHVybiBjPWUubmV4dCgpLGMuaXMoIi51aS1saS1kaXZpZGVyIikmJihjPWMubmV4dCgpKSxjLmxlbmd0aCYmKGQuYmx1cigpLmF0dHIoInRhYmluZGV4IiwiLTEiKSxjLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK2Iub3B0aW9ucy50aGVtZSkuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKSksZmFsc2U7Y2FzZSAxMzpjYXNlIDMyOnJldHVybiBkLnRyaWdnZXIoImNsaWNrIiksZmFsc2V9fSk7Yy5tZW51UGFnZS5iaW5kKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXtjLmxpc3QuYXBwZW5kVG8oYy5saXN0Ym94KTtjLl9mb2N1c0J1dHRvbigpO2EubW9iaWxlLl9iaW5kUGFnZVJlbW92ZS5jYWxsKGMudGhpc1BhZ2UpfSk7CmMuc2NyZWVuLmJpbmQoInZjbGljayIsZnVuY3Rpb24oKXtjLmNsb3NlKCl9KTtjLmlzTXVsdGlwbGUmJmMuaGVhZGVyQ2xvc2UuY2xpY2soZnVuY3Rpb24oKXtpZihjLm1lbnVUeXBlPT0ib3ZlcmxheSIpcmV0dXJuIGMuY2xvc2UoKSxmYWxzZX0pO2MudGhpc1BhZ2UuYWRkRGVwZW5kZW50cyh0aGlzLm1lbnVQYWdlKX0sX2lzUmVidWlsZFJlcXVpcmVkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5saXN0LmZpbmQoImxpIik7cmV0dXJuIHRoaXMuX3NlbGVjdE9wdGlvbnMoKS50ZXh0KCkhPT1hLnRleHQoKX0sc2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLmZpbHRlcigiOnNlbGVjdGVkOm5vdCg6anFtRGF0YShwbGFjZWhvbGRlcj0ndHJ1ZScpKSIpfSxyZWZyZXNoOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMsZDsoYnx8dGhpcy5faXNSZWJ1aWxkUmVxdWlyZWQoKSkmJmMuX2J1aWxkTGlzdCgpO2Q9dGhpcy5zZWxlY3RlZEluZGljZXMoKTtjLnNldEJ1dHRvblRleHQoKTsKYy5zZXRCdXR0b25Db3VudCgpO2MubGlzdC5maW5kKCJsaTpub3QoLnVpLWxpLWRpdmlkZXIpIikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLGZhbHNlKS5lYWNoKGZ1bmN0aW9uKGIpe2EuaW5BcnJheShiLGQpPi0xJiYoYj1hKHRoaXMpLGIuYXR0cigiYXJpYS1zZWxlY3RlZCIsdHJ1ZSksYy5pc011bHRpcGxlP2IuZmluZCgiLnVpLWljb24iKS5yZW1vdmVDbGFzcygidWktaWNvbi1jaGVja2JveC1vZmYiKS5hZGRDbGFzcygidWktaWNvbi1jaGVja2JveC1vbiIpOmIuaXMoIi51aS1zZWxlY3RtZW51LXBsYWNlaG9sZGVyIik/Yi5uZXh0KCkuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpOmIuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpKX0pfSxjbG9zZTpmdW5jdGlvbigpe2lmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMuaXNPcGVuKXRoaXMubWVudVR5cGU9PSJwYWdlIj9hLm1vYmlsZS5iYWNrKCk6Cih0aGlzLnNjcmVlbi5hZGRDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpLHRoaXMubGlzdGJveC5hZGRDbGFzcygidWktc2VsZWN0bWVudS1oaWRkZW4iKS5yZW1vdmVBdHRyKCJzdHlsZSIpLnJlbW92ZUNsYXNzKCJpbiIpLHRoaXMubGlzdC5hcHBlbmRUbyh0aGlzLmxpc3Rib3gpLHRoaXMuX2ZvY3VzQnV0dG9uKCkpLHRoaXMuaXNPcGVuPWZhbHNlfSxvcGVuOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYygpe3ZhciBlPWQubGlzdC5maW5kKCIuIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcysiIGEiKTtlLmxlbmd0aD09PTAmJihlPWQubGlzdC5maW5kKCJsaS51aS1idG46bm90KDpqcW1EYXRhKHBsYWNlaG9sZGVyPSd0cnVlJykpIGEiKSk7ZS5maXJzdCgpLmZvY3VzKCkuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktYnRuLWRvd24tIitiLm9wdGlvbnMudGhlbWUpfWlmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQpe3ZhciBkPXRoaXMsZT1hKHMpLGY9ZC5saXN0LnBhcmVudCgpLGc9Zi5vdXRlckhlaWdodCgpLApmPWYub3V0ZXJXaWR0aCgpO2EoIi51aS1wYWdlLWFjdGl2ZSIpO3ZhciBoPWUuc2Nyb2xsVG9wKCksaj1kLmJ1dHRvbi5vZmZzZXQoKS50b3AsbD1lLmhlaWdodCgpLGU9ZS53aWR0aCgpO2QuYnV0dG9uLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSwzMDApO2lmKGc+bC04MHx8IWEuc3VwcG9ydC5zY3JvbGxUb3Ape2QubWVudVBhZ2UuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lcikucGFnZSgpO2QubWVudVBhZ2VDb250ZW50PW0uZmluZCgiLnVpLWNvbnRlbnQiKTtkLm1lbnVQYWdlQ2xvc2U9bS5maW5kKCIudWktaGVhZGVyIGEiKTtkLnRoaXNQYWdlLnVuYmluZCgicGFnZWhpZGUucmVtb3ZlIik7aWYoaD09MCYmaj5sKWQudGhpc1BhZ2Uub25lKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXthKHRoaXMpLmpxbURhdGEoImxhc3RTY3JvbGwiLApqKX0pO2QubWVudVBhZ2Uub25lKCJwYWdlc2hvdyIsZnVuY3Rpb24oKXtjKCk7ZC5pc09wZW49dHJ1ZX0pLm9uZSgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7ZC5pc09wZW49ZmFsc2V9KTtkLm1lbnVUeXBlPSJwYWdlIjtkLm1lbnVQYWdlQ29udGVudC5hcHBlbmQoZC5saXN0KTtkLm1lbnVQYWdlLmZpbmQoImRpdiAudWktdGl0bGUiKS50ZXh0KGQubGFiZWwudGV4dCgpKTthLm1vYmlsZS5jaGFuZ2VQYWdlKGQubWVudVBhZ2Use3RyYW5zaXRpb246YS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb259KX1lbHNle2QubWVudVR5cGU9Im92ZXJsYXkiO2Quc2NyZWVuLmhlaWdodChhKGspLmhlaWdodCgpKS5yZW1vdmVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpO3ZhciBuPWotaCxvPWgrbC1qLHA9Zy8yLHE9cGFyc2VGbG9hdChkLmxpc3QucGFyZW50KCkuY3NzKCJtYXgtd2lkdGgiKSksZz1uPmcvMiYmbz5nLzI/aitkLmJ1dHRvbi5vdXRlckhlaWdodCgpLzItcDpuPm8/aCtsLWctCjMwOmgrMzA7ZjxxP2g9KGUtZikvMjooaD1kLmJ1dHRvbi5vZmZzZXQoKS5sZWZ0K2QuYnV0dG9uLm91dGVyV2lkdGgoKS8yLWYvMixoPDMwP2g9MzA6aCtmPmUmJihoPWUtZi0zMCkpO2QubGlzdGJveC5hcHBlbmQoZC5saXN0KS5yZW1vdmVDbGFzcygidWktc2VsZWN0bWVudS1oaWRkZW4iKS5jc3Moe3RvcDpnLGxlZnQ6aH0pLmFkZENsYXNzKCJpbiIpO2MoKTtkLmlzT3Blbj10cnVlfX19LF9idWlsZExpc3Q6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMsYz10aGlzLnBsYWNlaG9sZGVyLGQ9dHJ1ZSxlPXRoaXMuaXNNdWx0aXBsZT8iY2hlY2tib3gtb2ZmIjoiZmFsc2UiO3RoaXMubGlzdC5lbXB0eSgpLmZpbHRlcigiLnVpLWxpc3R2aWV3IikubGlzdHZpZXcoImRlc3Ryb3kiKTt2YXIgZj10aGlzLnNlbGVjdC5maW5kKCJvcHRpb24iKSxnPWYubGVuZ3RoLGg9dGhpcy5zZWxlY3RbMF0saj0iZGF0YS0iK2EubW9iaWxlLm5zLGw9aisib3B0aW9uLWluZGV4IixtPWorImljb24iLApuPWorInJvbGUiO2orPSJwbGFjZWhvbGRlciI7Zm9yKHZhciBvPWsuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHA9ZmFsc2UscSxzPTA7czxnO3MrKyxwPWZhbHNlKXt2YXIgdD1mW3NdLHI9YSh0KSx3PXQucGFyZW50Tm9kZSxDPXIudGV4dCgpLEk9ay5jcmVhdGVFbGVtZW50KCJhIiksTD1bXTtJLnNldEF0dHJpYnV0ZSgiaHJlZiIsIiMiKTtJLmFwcGVuZENoaWxkKGsuY3JlYXRlVGV4dE5vZGUoQykpO3chPT1oJiZ3Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0ib3B0Z3JvdXAiJiYodz13LmdldEF0dHJpYnV0ZSgibGFiZWwiKSx3IT1xJiYocT1rLmNyZWF0ZUVsZW1lbnQoImxpIikscS5zZXRBdHRyaWJ1dGUobiwibGlzdC1kaXZpZGVyIikscS5zZXRBdHRyaWJ1dGUoInJvbGUiLCJvcHRpb24iKSxxLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCItMSIpLHEuYXBwZW5kQ2hpbGQoay5jcmVhdGVUZXh0Tm9kZSh3KSksby5hcHBlbmRDaGlsZChxKSxxPXcpKTtpZihkJiYoIXQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfHwKQy5sZW5ndGg9PTB8fHIuanFtRGF0YSgicGxhY2Vob2xkZXIiKSkpaWYoZD1mYWxzZSxwPXRydWUsdC5zZXRBdHRyaWJ1dGUoaix0cnVlKSxiLmhpZGVQbGFjZWhvbGRlck1lbnVJdGVtcyYmTC5wdXNoKCJ1aS1zZWxlY3RtZW51LXBsYWNlaG9sZGVyIiksIWMpYz10aGlzLnBsYWNlaG9sZGVyPUM7cj1rLmNyZWF0ZUVsZW1lbnQoImxpIik7dC5kaXNhYmxlZCYmKEwucHVzaCgidWktZGlzYWJsZWQiKSxyLnNldEF0dHJpYnV0ZSgiYXJpYS1kaXNhYmxlZCIsdHJ1ZSkpO3Iuc2V0QXR0cmlidXRlKGwscyk7ci5zZXRBdHRyaWJ1dGUobSxlKTtwJiZyLnNldEF0dHJpYnV0ZShqLHRydWUpO3IuY2xhc3NOYW1lPUwuam9pbigiICIpO3Iuc2V0QXR0cmlidXRlKCJyb2xlIiwib3B0aW9uIik7SS5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwiLTEiKTtyLmFwcGVuZENoaWxkKEkpO28uYXBwZW5kQ2hpbGQocil9dGhpcy5saXN0WzBdLmFwcGVuZENoaWxkKG8pOyF0aGlzLmlzTXVsdGlwbGUmJiFjLmxlbmd0aD8KdGhpcy5oZWFkZXIuaGlkZSgpOnRoaXMuaGVhZGVyVGl0bGUudGV4dCh0aGlzLnBsYWNlaG9sZGVyKTt0aGlzLmxpc3QubGlzdHZpZXcoKX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiBhKCI8YT4iLHtocmVmOiIjIixyb2xlOiJidXR0b24iLGlkOnRoaXMuYnV0dG9uSWQsImFyaWEtaGFzcG9wdXAiOiJ0cnVlIiwiYXJpYS1vd25zIjp0aGlzLm1lbnVJZH0pfX0pfTthKGspLmJpbmQoInNlbGVjdG1lbnViZWZvcmVjcmVhdGUiLGZ1bmN0aW9uKGIpe2I9YShiLnRhcmdldCkuZGF0YSgic2VsZWN0bWVudSIpO2Iub3B0aW9ucy5uYXRpdmVNZW51fHxjKGIpfSl9KShsKTsoZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS5maXhlZHRvb2xiYXIiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dmlzaWJsZU9uUGFnZVNob3c6dHJ1ZSxkaXNhYmxlUGFnZVpvb206dHJ1ZSx0cmFuc2l0aW9uOiJzbGlkZSIsZnVsbHNjcmVlbjpmYWxzZSx0YXBUb2dnbGU6dHJ1ZSx0YXBUb2dnbGVCbGFja2xpc3Q6ImEsIGJ1dHRvbiwgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIC51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWQiLApoaWRlRHVyaW5nRm9jdXM6ImlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0Iix1cGRhdGVQYWdlUGFkZGluZzp0cnVlLHRyYWNrUGVyc2lzdGVudFRvb2xiYXJzOnRydWUsc3VwcG9ydEJsYWNrbGlzdDpmdW5jdGlvbigpe3ZhciBhPW5hdmlnYXRvci51c2VyQWdlbnQsYj1uYXZpZ2F0b3IucGxhdGZvcm0sZD1hLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTldKykvKSxkPSEhZCYmZFsxXSxlPWEubWF0Y2goL0Zlbm5lY1wvKFswLTldKykvKSxlPSEhZSYmZVsxXSxmPWEubWF0Y2goL09wZXJhIE1vYmlcLyhbMC05XSspLyksZz0hIWYmJmZbMV07cmV0dXJuKGIuaW5kZXhPZigiaVBob25lIik+LTF8fGIuaW5kZXhPZigiaVBhZCIpPi0xfHxiLmluZGV4T2YoImlQb2QiKT4tMSkmJmQmJmQ8NTM0fHxzLm9wZXJhbWluaSYme30udG9TdHJpbmcuY2FsbChzLm9wZXJhbWluaSk9PT0iW29iamVjdCBPcGVyYU1pbmldInx8ZiYmZzw3NDU4fHxhLmluZGV4T2YoIkFuZHJvaWQiKT4tMSYmZCYmZDw1MzN8fAplJiZlPDZ8fCJwYWxtR2V0UmVzb3VyY2UiaW4gcyYmZCYmZDw1MzR8fGEuaW5kZXhPZigiTWVlR28iKT4tMSYmYS5pbmRleE9mKCJOb2tpYUJyb3dzZXIvOC41LjAiKT4tMT90cnVlOmZhbHNlfSxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucyxiPXRoaXMuZWxlbWVudCxkPWIuaXMoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIik/ImhlYWRlciI6ImZvb3RlciIsZT1iLmNsb3Nlc3QoIi51aS1wYWdlIik7YS5zdXBwb3J0QmxhY2tsaXN0KCk/dGhpcy5kZXN0cm95KCk6KGIuYWRkQ2xhc3MoInVpLSIrZCsiLWZpeGVkIiksYS5mdWxsc2NyZWVuPyhiLmFkZENsYXNzKCJ1aS0iK2QrIi1mdWxsc2NyZWVuIiksZS5hZGRDbGFzcygidWktcGFnZS0iK2QrIi1mdWxsc2NyZWVuIikpOmUuYWRkQ2xhc3MoInVpLXBhZ2UtIitkKyItZml4ZWQiKSx0aGlzLl9hZGRUcmFuc2l0aW9uQ2xhc3MoKSx0aGlzLl9iaW5kUGFnZUV2ZW50cygpLAp0aGlzLl9iaW5kVG9nZ2xlSGFuZGxlcnMoKSl9LF9hZGRUcmFuc2l0aW9uQ2xhc3M6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMudHJhbnNpdGlvbjthJiZhIT09Im5vbmUiJiYoYT09PSJzbGlkZSImJihhPXRoaXMuZWxlbWVudC5pcygiLnVpLWhlYWRlciIpPyJzbGlkZWRvd24iOiJzbGlkZXVwIiksdGhpcy5lbGVtZW50LmFkZENsYXNzKGEpKX0sX2JpbmRQYWdlRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxiPWMub3B0aW9ucztjLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKS5iaW5kKCJwYWdlYmVmb3Jlc2hvdyIsZnVuY3Rpb24oKXtiLmRpc2FibGVQYWdlWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKHRydWUpO2IudmlzaWJsZU9uUGFnZVNob3d8fGMuaGlkZSh0cnVlKX0pLmJpbmQoIndlYmtpdEFuaW1hdGlvblN0YXJ0IGFuaW1hdGlvbnN0YXJ0IHVwZGF0ZWxheW91dCIsZnVuY3Rpb24oKXtiLnVwZGF0ZVBhZ2VQYWRkaW5nJiZjLnVwZGF0ZVBhZ2VQYWRkaW5nKHRoaXMpfSkuYmluZCgicGFnZXNob3ciLApmdW5jdGlvbigpe3ZhciBkPXRoaXM7Yy51cGRhdGVQYWdlUGFkZGluZyhkKTtiLnVwZGF0ZVBhZ2VQYWRkaW5nJiZhKHMpLmJpbmQoInRocm90dGxlZHJlc2l6ZS4iK2Mud2lkZ2V0TmFtZSxmdW5jdGlvbigpe2MudXBkYXRlUGFnZVBhZGRpbmcoZCl9KX0pLmJpbmQoInBhZ2ViZWZvcmVoaWRlIixmdW5jdGlvbihkLGUpe2IuZGlzYWJsZVBhZ2Vab29tJiZhLm1vYmlsZS56b29tLmVuYWJsZSh0cnVlKTtiLnVwZGF0ZVBhZ2VQYWRkaW5nJiZhKHMpLnVuYmluZCgidGhyb3R0bGVkcmVzaXplLiIrYy53aWRnZXROYW1lKTtpZihiLnRyYWNrUGVyc2lzdGVudFRvb2xiYXJzKXt2YXIgZj1hKCIudWktZm9vdGVyLWZpeGVkOmpxbURhdGEoaWQpIix0aGlzKSxnPWEoIi51aS1oZWFkZXItZml4ZWQ6anFtRGF0YShpZCkiLHRoaXMpLGg9Zi5sZW5ndGgmJmUubmV4dFBhZ2UmJmEoIi51aS1mb290ZXItZml4ZWQ6anFtRGF0YShpZD0nIitmLmpxbURhdGEoImlkIikrIicpIixlLm5leHRQYWdlKSwKaj1nLmxlbmd0aCYmZS5uZXh0UGFnZSYmYSgiLnVpLWhlYWRlci1maXhlZDpqcW1EYXRhKGlkPSciK2cuanFtRGF0YSgiaWQiKSsiJykiLGUubmV4dFBhZ2UpLGg9aHx8YSgpO2lmKGgubGVuZ3RofHxqLmxlbmd0aCloLmFkZChqKS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKSxlLm5leHRQYWdlLm9uZSgicGFnZXNob3ciLGZ1bmN0aW9uKCl7aC5hZGQoaikuYXBwZW5kVG8odGhpcyl9KX19KX0sX3Zpc2libGU6dHJ1ZSx1cGRhdGVQYWdlUGFkZGluZzpmdW5jdGlvbihjKXt2YXIgYj10aGlzLmVsZW1lbnQsZD1iLmlzKCIudWktaGVhZGVyIik7dGhpcy5vcHRpb25zLmZ1bGxzY3JlZW58fChjPWN8fGIuY2xvc2VzdCgiLnVpLXBhZ2UiKSxhKGMpLmNzcygicGFkZGluZy0iKyhkPyJ0b3AiOiJib3R0b20iKSxiLm91dGVySGVpZ2h0KCkpKX0sX3VzZVRyYW5zaXRpb246ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcy5lbGVtZW50LGQ9YShzKS5zY3JvbGxUb3AoKSxlPWIuaGVpZ2h0KCksCmY9Yi5jbG9zZXN0KCIudWktcGFnZSIpLmhlaWdodCgpLGc9YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCksYj1iLmlzKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpPyJoZWFkZXIiOiJmb290ZXIiO3JldHVybiFjJiYodGhpcy5vcHRpb25zLnRyYW5zaXRpb24mJnRoaXMub3B0aW9ucy50cmFuc2l0aW9uIT09Im5vbmUiJiYoYj09PSJoZWFkZXIiJiYhdGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4mJmQ+ZXx8Yj09PSJmb290ZXIiJiYhdGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4mJmQrZzxmLWUpfHx0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbil9LHNob3c6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lbGVtZW50O3RoaXMuX3VzZVRyYW5zaXRpb24oYSk/Yi5yZW1vdmVDbGFzcygib3V0IHVpLWZpeGVkLWhpZGRlbiIpLmFkZENsYXNzKCJpbiIpOmIucmVtb3ZlQ2xhc3MoInVpLWZpeGVkLWhpZGRlbiIpO3RoaXMuX3Zpc2libGU9dHJ1ZX0saGlkZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmVsZW1lbnQsCmQ9Im91dCIrKHRoaXMub3B0aW9ucy50cmFuc2l0aW9uPT09InNsaWRlIj8iIHJldmVyc2UiOiIiKTt0aGlzLl91c2VUcmFuc2l0aW9uKGEpP2IuYWRkQ2xhc3MoZCkucmVtb3ZlQ2xhc3MoImluIikuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKXtiLmFkZENsYXNzKCJ1aS1maXhlZC1oaWRkZW4iKS5yZW1vdmVDbGFzcyhkKX0pOmIuYWRkQ2xhc3MoInVpLWZpeGVkLWhpZGRlbiIpLnJlbW92ZUNsYXNzKGQpO3RoaXMuX3Zpc2libGU9ZmFsc2V9LHRvZ2dsZTpmdW5jdGlvbigpe3RoaXNbdGhpcy5fdmlzaWJsZT8iaGlkZSI6InNob3ciXSgpfSxfYmluZFRvZ2dsZUhhbmRsZXJzOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxiPWMub3B0aW9ucztjLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKS5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKGQpe2IudGFwVG9nZ2xlJiYhYShkLnRhcmdldCkuY2xvc2VzdChiLnRhcFRvZ2dsZUJsYWNrbGlzdCkubGVuZ3RoJiZjLnRvZ2dsZSgpfSkuYmluZCgiZm9jdXNpbiBmb2N1c291dCIsCmZ1bmN0aW9uKGQpe2lmKHNjcmVlbi53aWR0aDw1MDAmJmEoZC50YXJnZXQpLmlzKGIuaGlkZUR1cmluZ0ZvY3VzKSYmIWEoZC50YXJnZXQpLmNsb3Nlc3QoIi51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWQiKS5sZW5ndGgpY1tkLnR5cGU9PT0iZm9jdXNpbiImJmMuX3Zpc2libGU/ImhpZGUiOiJzaG93Il0oKX0pfSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LGI9YS5pcygiLnVpLWhlYWRlciIpO2EuY2xvc2VzdCgiLnVpLXBhZ2UiKS5jc3MoInBhZGRpbmctIisoYj8idG9wIjoiYm90dG9tIiksIiIpO2EucmVtb3ZlQ2xhc3MoInVpLWhlYWRlci1maXhlZCB1aS1mb290ZXItZml4ZWQgdWktaGVhZGVyLWZ1bGxzY3JlZW4gdWktZm9vdGVyLWZ1bGxzY3JlZW4gaW4gb3V0IGZhZGUgc2xpZGVkb3duIHNsaWRldXAgdWktZml4ZWQtaGlkZGVuIik7YS5jbG9zZXN0KCIudWktcGFnZSIpLnJlbW92ZUNsYXNzKCJ1aS1wYWdlLWhlYWRlci1maXhlZCB1aS1wYWdlLWZvb3Rlci1maXhlZCB1aS1wYWdlLWhlYWRlci1mdWxsc2NyZWVuIHVpLXBhZ2UtZm9vdGVyLWZ1bGxzY3JlZW4iKX19KTsKYShrKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYyl7YShjLnRhcmdldCkuanFtRGF0YSgiZnVsbHNjcmVlbiIpJiZhKGEubW9iaWxlLmZpeGVkdG9vbGJhci5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsYy50YXJnZXQpLm5vdCgiOmpxbURhdGEoZnVsbHNjcmVlbikiKS5qcW1EYXRhKCJmdWxsc2NyZWVuIix0cnVlKTthLm1vYmlsZS5maXhlZHRvb2xiYXIucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYy50YXJnZXQpfSl9KShsKTsoZnVuY3Rpb24oYSxjKXtpZigvaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTEpe3ZhciBiPWEubW9iaWxlLnpvb20sZCxlLGYsZyxoO2EoYykuYmluZCgib3JpZW50YXRpb25jaGFuZ2UuaW9zb3JpZW50YXRpb25maXgiLGIuZW5hYmxlKS5iaW5kKCJkZXZpY2Vtb3Rpb24uaW9zb3JpZW50YXRpb25maXgiLGZ1bmN0aW9uKGEpe2Q9CmEub3JpZ2luYWxFdmVudDtoPWQuYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eTtlPU1hdGguYWJzKGgueCk7Zj1NYXRoLmFicyhoLnkpO2c9TWF0aC5hYnMoaC56KTshYy5vcmllbnRhdGlvbiYmKGU+N3x8KGc+NiYmZjw4fHxnPDgmJmY+NikmJmU+NSk/Yi5lbmFibGVkJiZiLmRpc2FibGUoKTpiLmVuYWJsZWR8fGIuZW5hYmxlKCl9KX19KShsLHRoaXMpOyhmdW5jdGlvbihhLGMpe2Z1bmN0aW9uIGIoKXt2YXIgYj1hKCIuIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuZmlyc3QoKTtoLmNzcyh7dG9wOmEuc3VwcG9ydC5zY3JvbGxUb3AmJmcuc2Nyb2xsVG9wKCkrZy5oZWlnaHQoKS8yfHxiLmxlbmd0aCYmYi5vZmZzZXQoKS50b3B8fDEwMH0pfWZ1bmN0aW9uIGQoKXt2YXIgYz1oLm9mZnNldCgpLGU9Zy5zY3JvbGxUb3AoKSxmPWEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpO2lmKGMudG9wPGV8fGMudG9wLWU+ZiloLmFkZENsYXNzKCJ1aS1sb2FkZXItZmFrZWZpeCIpLGIoKSwKZy51bmJpbmQoInNjcm9sbCIsZCkuYmluZCgic2Nyb2xsIixiKX1mdW5jdGlvbiBlKCl7Zi5yZW1vdmVDbGFzcygidWktbW9iaWxlLXJlbmRlcmluZyIpfXZhciBmPWEoImh0bWwiKTthKCJoZWFkIik7dmFyIGc9YShjKTthKGMuZG9jdW1lbnQpLnRyaWdnZXIoIm1vYmlsZWluaXQiKTtpZihhLm1vYmlsZS5ncmFkZUEoKSl7aWYoYS5tb2JpbGUuYWpheEJsYWNrbGlzdClhLm1vYmlsZS5hamF4RW5hYmxlZD1mYWxzZTtmLmFkZENsYXNzKCJ1aS1tb2JpbGUgdWktbW9iaWxlLXJlbmRlcmluZyIpO3NldFRpbWVvdXQoZSw1RTMpO3ZhciBoPWEoIjxkaXYgY2xhc3M9J3VpLWxvYWRlcic+PHNwYW4gY2xhc3M9J3VpLWljb24gdWktaWNvbi1sb2FkaW5nJz48L3NwYW4+PGgxPjwvaDE+PC9kaXY+Iik7YS5leHRlbmQoYS5tb2JpbGUse3Nob3dQYWdlTG9hZGluZ01zZzpmdW5jdGlvbihiLGMsZSl7Zi5hZGRDbGFzcygidWktbG9hZGluZyIpO2lmKGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlKXt2YXIgaz0KZXx8YS5tb2JpbGUubG9hZGluZ01lc3NhZ2VUZXh0VmlzaWJsZTtiPWJ8fGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGhlbWU7aC5hdHRyKCJjbGFzcyIsInVpLWxvYWRlciB1aS1jb3JuZXItYWxsIHVpLWJvZHktIisoYnx8ImEiKSsiIHVpLWxvYWRlci0iKyhrPyJ2ZXJib3NlIjoiZGVmYXVsdCIpKyhlPyIgdWktbG9hZGVyLXRleHRvbmx5IjoiIikpLmZpbmQoImgxIikudGV4dChjfHxhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZSkuZW5kKCkuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lcik7ZCgpO2cuYmluZCgic2Nyb2xsIixkKX19LGhpZGVQYWdlTG9hZGluZ01zZzpmdW5jdGlvbigpe2YucmVtb3ZlQ2xhc3MoInVpLWxvYWRpbmciKTthLm1vYmlsZS5sb2FkaW5nTWVzc2FnZSYmaC5yZW1vdmVDbGFzcygidWktbG9hZGVyLWZha2VmaXgiKTthKGMpLnVuYmluZCgic2Nyb2xsIixiKTthKGMpLnVuYmluZCgic2Nyb2xsIixkKX0saW5pdGlhbGl6ZVBhZ2U6ZnVuY3Rpb24oKXt2YXIgYj0KYSgiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpO2IubGVuZ3RofHwoYj1hKCJib2R5Iikud3JhcElubmVyKCI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0ncGFnZSc+PC9kaXY+IikuY2hpbGRyZW4oMCkpO2IuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7Yi5qcW1EYXRhKCJ1cmwiKXx8Yi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIsYi5hdHRyKCJpZCIpfHxsb2NhdGlvbi5wYXRobmFtZStsb2NhdGlvbi5zZWFyY2gpfSk7YS5tb2JpbGUuZmlyc3RQYWdlPWIuZmlyc3QoKTthLm1vYmlsZS5wYWdlQ29udGFpbmVyPWIuZmlyc3QoKS5wYXJlbnQoKS5hZGRDbGFzcygidWktbW9iaWxlLXZpZXdwb3J0Iik7Zy50cmlnZ2VyKCJwYWdlY29udGFpbmVyY3JlYXRlIik7YS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKCk7ZSgpOyFhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZHx8IWEubW9iaWxlLnBhdGguaXNIYXNoVmFsaWQobG9jYXRpb24uaGFzaCl8fAohYShsb2NhdGlvbi5oYXNoKyc6anFtRGF0YShyb2xlPSJwYWdlIiknKS5sZW5ndGgmJiFhLm1vYmlsZS5wYXRoLmlzUGF0aChsb2NhdGlvbi5oYXNoKT9hLm1vYmlsZS5jaGFuZ2VQYWdlKGEubW9iaWxlLmZpcnN0UGFnZSx7dHJhbnNpdGlvbjoibm9uZSIscmV2ZXJzZTp0cnVlLGNoYW5nZUhhc2g6ZmFsc2UsZnJvbUhhc2hDaGFuZ2U6dHJ1ZX0pOmcudHJpZ2dlcigiaGFzaGNoYW5nZSIsW3RydWVdKX19KTthLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkLnJlc29sdmUoKTthKGZ1bmN0aW9uKCl7Yy5zY3JvbGxUbygwLDEpO2EubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsPSFhLnN1cHBvcnQuc2Nyb2xsVG9wfHxhKGMpLnNjcm9sbFRvcCgpPT09MT8wOjE7YS5mbi5jb250cm9sZ3JvdXAmJmEoaykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EoIjpqcW1EYXRhKHJvbGU9J2NvbnRyb2xncm91cCcpIixiLnRhcmdldCkuanFtRW5oYW5jZWFibGUoKS5jb250cm9sZ3JvdXAoe2V4Y2x1ZGVJbnZpc2libGU6ZmFsc2V9KX0pOwphLm1vYmlsZS5hdXRvSW5pdGlhbGl6ZVBhZ2UmJmEubW9iaWxlLmluaXRpYWxpemVQYWdlKCk7Zy5sb2FkKGEubW9iaWxlLnNpbGVudFNjcm9sbCk7YS5zdXBwb3J0LmNzc1BvaW50ZXJFdmVudHN8fGEoaykuZGVsZWdhdGUoIi51aS1kaXNhYmxlZCIsInZjbGljayIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpO2Euc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCl9KX0pfX0pKGwsdGhpcyl9KTsK",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 06:49:43 GMT",
                    "Content-Length": "95514",
                    "Date": "Fri, 07 Nov 2014 06:49:43 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
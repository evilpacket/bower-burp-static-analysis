{
    "url": "http://localhost:9999/driftyco/graphite/res/jqm/1.2.0/jquery.mobile-1.2.0.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Link manipulation (DOM-based)",
    "issueType": 5246976,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based link manipulation vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this to a navigation target within the current page, such as a clickable link or the submission URL of a form. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will modify the target of links within the response. An attacker may be able to leverage this to perform various attacks, including:<ul><li>Causing the user to redirect to an arbitrary external URL, to facilitate a phishing attack.</li><li>Causing the user to submit sensitive form data to a server controlled by the attacker.</li><li>Causing the user to perform an unintended action within the application, by changing the file or query string associated with a link.</li><li>Bypassing browser anti-XSS defenses by injecting on-site links containing XSS exploits, since browser anti-XSS defenses typically do not operate on on-site links.</li></ul>",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based link manipulation vulnerabilities is not to dynamically set the target URLs of links or forms using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a link target. In general, this is best achieved by using a whitelist of URLs that are permitted link targets, and strictly validating the target against this list before setting the link target.",
    "issueDetail": "The application may be vulnerable to DOM-based link manipulation. Data is read from <b>location.pathname</b> and written to <b>the 'href' property of a DOM element</b> via the following statement:<ul><li>c[0 ] .href= e|| location.pathname</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/driftyco/graphite/res/jqm/1.2.0/jquery.mobile-1.2.0.min.js",
                "path": "/driftyco/graphite/res/jqm/1.2.0/jquery.mobile-1.2.0.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9kcmlmdHljby9ncmFwaGl0ZS9yZXMvanFtLzEuMi4wL2pxdWVyeS5tb2JpbGUtMS4yLjAubWluLmpzIEhUVFAvMS4xDQpIb3N0OiBsb2NhbGhvc3Q6OTk5OQ0KDQo=",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTEzMTgwDQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBGcmksIDA3IE5vdiAyMDE0IDAyOjM2OjA0IEdNVA0KTGFzdC1Nb2RpZmllZDogRnJpLCAwNyBOb3YgMjAxNCAwMjozNjowNCBHTVQNCg0KLyohIGpRdWVyeSBNb2JpbGUgdkdpdCBCdWlsZDogU0hBMTogYjQ5Y2MwNjQ5OWFiZjhmOTg3Y2Y5MGYzNTM0OWNmYWMwOTE4YzkzOSA8PiBEYXRlOiBUdWUgT2N0IDIgMTE6MjI6MzQgMjAxMiAtMDcwMCBqcXVlcnltb2JpbGUuY29tIHwganF1ZXJ5Lm9yZy9saWNlbnNlICEqLwooZnVuY3Rpb24oYSxiLGMpe3R5cGVvZiBkZWZpbmU9PSJmdW5jdGlvbiImJmRlZmluZS5hbWQ/ZGVmaW5lKFsianF1ZXJ5Il0sZnVuY3Rpb24oZCl7cmV0dXJuIGMoZCxhLGIpLGQubW9iaWxlfSk6YyhhLmpRdWVyeSxhLGIpfSkodGhpcyxkb2N1bWVudCxmdW5jdGlvbihhLGIsYyxkKXsoZnVuY3Rpb24oYSxiLGQpe3ZhciBlPXt9O2EubW9iaWxlPWEuZXh0ZW5kKHt9LHt2ZXJzaW9uOiIxLjIuMCIsbnM6IiIsc3ViUGFnZVVybEtleToidWktcGFnZSIsYWN0aXZlUGFnZUNsYXNzOiJ1aS1wYWdlLWFjdGl2ZSIsYWN0aXZlQnRuQ2xhc3M6InVpLWJ0bi1hY3RpdmUiLGZvY3VzQ2xhc3M6InVpLWZvY3VzIixhamF4RW5hYmxlZDohMCxoYXNoTGlzdGVuaW5nRW5hYmxlZDohMCxsaW5rQmluZGluZ0VuYWJsZWQ6ITAsZGVmYXVsdFBhZ2VUcmFuc2l0aW9uOiJmYWRlIixtYXhUcmFuc2l0aW9uV2lkdGg6ITEsbWluU2Nyb2xsQmFjazoyNTAsdG91Y2hPdmVyZmxvd0VuYWJsZWQ6ITEsZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246InBvcCIscGFnZUxvYWRFcnJvck1lc3NhZ2U6IkVycm9yIExvYWRpbmcgUGFnZSIscGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZToiZSIscGhvbmVnYXBOYXZpZ2F0aW9uRW5hYmxlZDohMSxhdXRvSW5pdGlhbGl6ZVBhZ2U6ITAscHVzaFN0YXRlRW5hYmxlZDohMCxpZ25vcmVDb250ZW50RW5hYmxlZDohMSxvcmllbnRhdGlvbkNoYW5nZUVuYWJsZWQ6ITAsYnV0dG9uTWFya3VwOntob3ZlckRlbGF5OjIwMH0sa2V5Q29kZTp7QUxUOjE4LEJBQ0tTUEFDRTo4LENBUFNfTE9DSzoyMCxDT01NQToxODgsQ09NTUFORDo5MSxDT01NQU5EX0xFRlQ6OTEsQ09NTUFORF9SSUdIVDo5MyxDT05UUk9MOjE3LERFTEVURTo0NixET1dOOjQwLEVORDozNSxFTlRFUjoxMyxFU0NBUEU6MjcsSE9NRTozNixJTlNFUlQ6NDUsTEVGVDozNyxNRU5VOjkzLE5VTVBBRF9BREQ6MTA3LE5VTVBBRF9ERUNJTUFMOjExMCxOVU1QQURfRElWSURFOjExMSxOVU1QQURfRU5URVI6MTA4LE5VTVBBRF9NVUxUSVBMWToxMDYsTlVNUEFEX1NVQlRSQUNUOjEwOSxQQUdFX0RPV046MzQsUEFHRV9VUDozMyxQRVJJT0Q6MTkwLFJJR0hUOjM5LFNISUZUOjE2LFNQQUNFOjMyLFRBQjo5LFVQOjM4LFdJTkRPV1M6OTF9LHNpbGVudFNjcm9sbDpmdW5jdGlvbihkKXthLnR5cGUoZCkhPT0ibnVtYmVyIiYmKGQ9YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwpLGEuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSExLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnNjcm9sbFRvKDAsZCksYShjKS50cmlnZ2VyKCJzaWxlbnRzY3JvbGwiLHt4OjAseTpkfSl9LDIwKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITB9LDE1MCl9LG5zTm9ybWFsaXplRGljdDplLG5zTm9ybWFsaXplOmZ1bmN0aW9uKGIpe2lmKCFiKXJldHVybjtyZXR1cm4gZVtiXXx8KGVbYl09YS5jYW1lbENhc2UoYS5tb2JpbGUubnMrYikpfSxnZXRJbmhlcml0ZWRUaGVtZTpmdW5jdGlvbihhLGIpe3ZhciBjPWFbMF0sZD0iIixlPS91aS0oYmFyfGJvZHl8b3ZlcmxheSktKFthLXpdKVxiLyxmLGc7d2hpbGUoYyl7Zj1jLmNsYXNzTmFtZXx8IiI7aWYoZiYmKGc9ZS5leGVjKGYpKSYmKGQ9Z1syXSkpYnJlYWs7Yz1jLnBhcmVudE5vZGV9cmV0dXJuIGR8fGJ8fCJhIn0sY2xvc2VzdFBhZ2VEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNsb3Nlc3QoJzpqcW1EYXRhKHJvbGU9InBhZ2UiKSwgOmpxbURhdGEocm9sZT0iZGlhbG9nIiknKS5kYXRhKCJwYWdlIil9LGVuaGFuY2VhYmxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhdmVQYXJlbnRzKGEsImVuaGFuY2UiKX0saGlqYWNrYWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYXZlUGFyZW50cyhhLCJhamF4Iil9LGhhdmVQYXJlbnRzOmZ1bmN0aW9uKGIsYyl7aWYoIWEubW9iaWxlLmlnbm9yZUNvbnRlbnRFbmFibGVkKXJldHVybiBiO3ZhciBkPWIubGVuZ3RoLGU9YSgpLGYsZyxoO2Zvcih2YXIgaT0wO2k8ZDtpKyspe2c9Yi5lcShpKSxoPSExLGY9YltpXTt3aGlsZShmKXt2YXIgaj1mLmdldEF0dHJpYnV0ZT9mLmdldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zK2MpOiIiO2lmKGo9PT0iZmFsc2UiKXtoPSEwO2JyZWFrfWY9Zi5wYXJlbnROb2RlfWh8fChlPWUuYWRkKGcpKX1yZXR1cm4gZX0sZ2V0U2NyZWVuSGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIGIuaW5uZXJIZWlnaHR8fGEoYikuaGVpZ2h0KCl9fSxhLm1vYmlsZSksYS5mbi5qcW1EYXRhPWZ1bmN0aW9uKGIsYyl7dmFyIGU7cmV0dXJuIHR5cGVvZiBiIT0idW5kZWZpbmVkIiYmKGImJihiPWEubW9iaWxlLm5zTm9ybWFsaXplKGIpKSxhcmd1bWVudHMubGVuZ3RoPDJ8fGM9PT1kP2U9dGhpcy5kYXRhKGIpOmU9dGhpcy5kYXRhKGIsYykpLGV9LGEuanFtRGF0YT1mdW5jdGlvbihiLGMsZCl7dmFyIGU7cmV0dXJuIHR5cGVvZiBjIT0idW5kZWZpbmVkIiYmKGU9YS5kYXRhKGIsYz9hLm1vYmlsZS5uc05vcm1hbGl6ZShjKTpjLGQpKSxlfSxhLmZuLmpxbVJlbW92ZURhdGE9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMucmVtb3ZlRGF0YShhLm1vYmlsZS5uc05vcm1hbGl6ZShiKSl9LGEuanFtUmVtb3ZlRGF0YT1mdW5jdGlvbihiLGMpe3JldHVybiBhLnJlbW92ZURhdGEoYixhLm1vYmlsZS5uc05vcm1hbGl6ZShjKSl9LGEuZm4ucmVtb3ZlV2l0aERlcGVuZGVudHM9ZnVuY3Rpb24oKXthLnJlbW92ZVdpdGhEZXBlbmRlbnRzKHRoaXMpfSxhLnJlbW92ZVdpdGhEZXBlbmRlbnRzPWZ1bmN0aW9uKGIpe3ZhciBjPWEoYik7KGMuanFtRGF0YSgiZGVwZW5kZW50cyIpfHxhKCkpLnJlbW92ZSgpLGMucmVtb3ZlKCl9LGEuZm4uYWRkRGVwZW5kZW50cz1mdW5jdGlvbihiKXthLmFkZERlcGVuZGVudHMoYSh0aGlzKSxiKX0sYS5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9YShiKS5qcW1EYXRhKCJkZXBlbmRlbnRzIil8fGEoKTthKGIpLmpxbURhdGEoImRlcGVuZGVudHMiLGEubWVyZ2UoZCxjKSl9LGEuZm4uZ2V0RW5jb2RlZFRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGRpdi8+IikudGV4dChhKHRoaXMpLnRleHQoKSkuaHRtbCgpfSxhLmZuLmpxbUVuaGFuY2VhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmVuaGFuY2VhYmxlKHRoaXMpfSxhLmZuLmpxbUhpamFja2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuaGlqYWNrYWJsZSh0aGlzKX07dmFyIGY9YS5maW5kLGc9LzpqcW1EYXRhXCgoW14pXSopXCkvZzthLmZpbmQ9ZnVuY3Rpb24oYixjLGQsZSl7cmV0dXJuIGI9Yi5yZXBsYWNlKGcsIltkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrIiQxXSIpLGYuY2FsbCh0aGlzLGIsYyxkLGUpfSxhLmV4dGVuZChhLmZpbmQsZiksYS5maW5kLm1hdGNoZXM9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5maW5kKGIsbnVsbCxudWxsLGMpfSxhLmZpbmQubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuZmluZChjLG51bGwsbnVsbCxbYl0pLmxlbmd0aD4wfX0pKGEsdGhpcyksZnVuY3Rpb24oYSxiKXt2YXIgYz0wLGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLGU9YS5jbGVhbkRhdGE7YS5jbGVhbkRhdGE9ZnVuY3Rpb24oYil7Zm9yKHZhciBjPTAsZDsoZD1iW2NdKSE9bnVsbDtjKyspdHJ5e2EoZCkudHJpZ2dlckhhbmRsZXIoInJlbW92ZSIpfWNhdGNoKGYpe31lKGIpfSxhLndpZGdldD1mdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnLGgsaT1iLnNwbGl0KCIuIilbMF07Yj1iLnNwbGl0KCIuIilbMV0sZT1pKyItIitiLGR8fChkPWMsYz1hLldpZGdldCksYS5leHByWyI6Il1bZV09ZnVuY3Rpb24oYil7cmV0dXJuISFhLmRhdGEoYixlKX0sYVtpXT1hW2ldfHx7fSxmPWFbaV1bYl0sZz1hW2ldW2JdPWZ1bmN0aW9uKGEsYil7aWYoIXRoaXMuX2NyZWF0ZVdpZGdldClyZXR1cm4gbmV3IGcoYSxiKTthcmd1bWVudHMubGVuZ3RoJiZ0aGlzLl9jcmVhdGVXaWRnZXQoYSxiKX0sYS5leHRlbmQoZyxmLHt2ZXJzaW9uOmQudmVyc2lvbixfcHJvdG86YS5leHRlbmQoe30sZCksX2NoaWxkQ29uc3RydWN0b3JzOltdfSksaD1uZXcgYyxoLm9wdGlvbnM9YS53aWRnZXQuZXh0ZW5kKHt9LGgub3B0aW9ucyksYS5lYWNoKGQsZnVuY3Rpb24oYixlKXthLmlzRnVuY3Rpb24oZSkmJihkW2JdPWZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oKXtyZXR1cm4gYy5wcm90b3R5cGVbYl0uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxkPWZ1bmN0aW9uKGEpe3JldHVybiBjLnByb3RvdHlwZVtiXS5hcHBseSh0aGlzLGEpfTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj10aGlzLl9zdXBlcixjPXRoaXMuX3N1cGVyQXBwbHksZjtyZXR1cm4gdGhpcy5fc3VwZXI9YSx0aGlzLl9zdXBlckFwcGx5PWQsZj1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9zdXBlcj1iLHRoaXMuX3N1cGVyQXBwbHk9YyxmfX0oKSl9KSxnLnByb3RvdHlwZT1hLndpZGdldC5leHRlbmQoaCx7d2lkZ2V0RXZlbnRQcmVmaXg6Yn0sZCx7Y29uc3RydWN0b3I6ZyxuYW1lc3BhY2U6aSx3aWRnZXROYW1lOmIsd2lkZ2V0QmFzZUNsYXNzOmUsd2lkZ2V0RnVsbE5hbWU6ZX0pLGY/KGEuZWFjaChmLl9jaGlsZENvbnN0cnVjdG9ycyxmdW5jdGlvbihiLGMpe3ZhciBkPWMucHJvdG90eXBlO2Eud2lkZ2V0KGQubmFtZXNwYWNlKyIuIitkLndpZGdldE5hbWUsZyxjLl9wcm90byl9KSxkZWxldGUgZi5fY2hpbGRDb25zdHJ1Y3RvcnMpOmMuX2NoaWxkQ29uc3RydWN0b3JzLnB1c2goZyksYS53aWRnZXQuYnJpZGdlKGIsZyl9LGEud2lkZ2V0LmV4dGVuZD1mdW5jdGlvbihjKXt2YXIgZT1kLmNhbGwoYXJndW1lbnRzLDEpLGY9MCxnPWUubGVuZ3RoLGgsaTtmb3IoO2Y8ZztmKyspZm9yKGggaW4gZVtmXSlpPWVbZl1baF0sZVtmXS5oYXNPd25Qcm9wZXJ0eShoKSYmaSE9PWImJihjW2hdPWEuaXNQbGFpbk9iamVjdChpKT9hLndpZGdldC5leHRlbmQoe30sY1toXSxpKTppKTtyZXR1cm4gY30sYS53aWRnZXQuYnJpZGdlPWZ1bmN0aW9uKGMsZSl7dmFyIGY9ZS5wcm90b3R5cGUud2lkZ2V0RnVsbE5hbWU7YS5mbltjXT1mdW5jdGlvbihnKXt2YXIgaD10eXBlb2YgZz09InN0cmluZyIsaT1kLmNhbGwoYXJndW1lbnRzLDEpLGo9dGhpcztyZXR1cm4gZz0haCYmaS5sZW5ndGg/YS53aWRnZXQuZXh0ZW5kLmFwcGx5KG51bGwsW2ddLmNvbmNhdChpKSk6ZyxoP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkLGU9YS5kYXRhKHRoaXMsZik7aWYoIWUpcmV0dXJuIGEuZXJyb3IoImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gIitjKyIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247ICIrImF0dGVtcHRlZCB0byBjYWxsIG1ldGhvZCAnIitnKyInIik7aWYoIWEuaXNGdW5jdGlvbihlW2ddKXx8Zy5jaGFyQXQoMCk9PT0iXyIpcmV0dXJuIGEuZXJyb3IoIm5vIHN1Y2ggbWV0aG9kICciK2crIicgZm9yICIrYysiIHdpZGdldCBpbnN0YW5jZSIpO2Q9ZVtnXS5hcHBseShlLGkpO2lmKGQhPT1lJiZkIT09YilyZXR1cm4gaj1kJiZkLmpxdWVyeT9qLnB1c2hTdGFjayhkLmdldCgpKTpkLCExfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YS5kYXRhKHRoaXMsZik7Yj9iLm9wdGlvbihnfHx7fSkuX2luaXQoKTpuZXcgZShnLHRoaXMpfSksan19LGEuV2lkZ2V0PWZ1bmN0aW9uKGEsYil7fSxhLldpZGdldC5fY2hpbGRDb25zdHJ1Y3RvcnM9W10sYS5XaWRnZXQucHJvdG90eXBlPXt3aWRnZXROYW1lOiJ3aWRnZXQiLHdpZGdldEV2ZW50UHJlZml4OiIiLGRlZmF1bHRFbGVtZW50OiI8ZGl2PiIsb3B0aW9uczp7ZGlzYWJsZWQ6ITEsY3JlYXRlOm51bGx9LF9jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oYixkKXtkPWEoZHx8dGhpcy5kZWZhdWx0RWxlbWVudHx8dGhpcylbMF0sdGhpcy5lbGVtZW50PWEoZCksdGhpcy51dWlkPWMrKyx0aGlzLmV2ZW50TmFtZXNwYWNlPSIuIit0aGlzLndpZGdldE5hbWUrdGhpcy51dWlkLHRoaXMub3B0aW9ucz1hLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zLHRoaXMuX2dldENyZWF0ZU9wdGlvbnMoKSxiKSx0aGlzLmJpbmRpbmdzPWEoKSx0aGlzLmhvdmVyYWJsZT1hKCksdGhpcy5mb2N1c2FibGU9YSgpLGQhPT10aGlzJiYoYS5kYXRhKGQsdGhpcy53aWRnZXROYW1lLHRoaXMpLGEuZGF0YShkLHRoaXMud2lkZ2V0RnVsbE5hbWUsdGhpcyksdGhpcy5fb24oe3JlbW92ZToiZGVzdHJveSJ9KSx0aGlzLmRvY3VtZW50PWEoZC5zdHlsZT9kLm93bmVyRG9jdW1lbnQ6ZC5kb2N1bWVudHx8ZCksdGhpcy53aW5kb3c9YSh0aGlzLmRvY3VtZW50WzBdLmRlZmF1bHRWaWV3fHx0aGlzLmRvY3VtZW50WzBdLnBhcmVudFdpbmRvdykpLHRoaXMuX2NyZWF0ZSgpLHRoaXMuX3RyaWdnZXIoImNyZWF0ZSIsbnVsbCx0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSksdGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczphLm5vb3AsX2dldENyZWF0ZUV2ZW50RGF0YTphLm5vb3AsX2NyZWF0ZTphLm5vb3AsX2luaXQ6YS5ub29wLGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9kZXN0cm95KCksdGhpcy5lbGVtZW50LnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVEYXRhKHRoaXMud2lkZ2V0TmFtZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldEZ1bGxOYW1lKS5yZW1vdmVEYXRhKGEuY2FtZWxDYXNlKHRoaXMud2lkZ2V0RnVsbE5hbWUpKSx0aGlzLndpZGdldCgpLnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIikucmVtb3ZlQ2xhc3ModGhpcy53aWRnZXRGdWxsTmFtZSsiLWRpc2FibGVkICIrInVpLXN0YXRlLWRpc2FibGVkIiksdGhpcy5iaW5kaW5ncy51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksdGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9LF9kZXN0cm95OmEubm9vcCx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24oYyxkKXt2YXIgZT1jLGYsZyxoO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0wKXJldHVybiBhLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zKTtpZih0eXBlb2YgYz09InN0cmluZyIpe2U9e30sZj1jLnNwbGl0KCIuIiksYz1mLnNoaWZ0KCk7aWYoZi5sZW5ndGgpe2c9ZVtjXT1hLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zW2NdKTtmb3IoaD0wO2g8Zi5sZW5ndGgtMTtoKyspZ1tmW2hdXT1nW2ZbaF1dfHx7fSxnPWdbZltoXV07Yz1mLnBvcCgpO2lmKGQ9PT1iKXJldHVybiBnW2NdPT09Yj9udWxsOmdbY107Z1tjXT1kfWVsc2V7aWYoZD09PWIpcmV0dXJuIHRoaXMub3B0aW9uc1tjXT09PWI/bnVsbDp0aGlzLm9wdGlvbnNbY107ZVtjXT1kfX1yZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyhlKSx0aGlzfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXRoaXMuX3NldE9wdGlvbihiLGFbYl0pO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub3B0aW9uc1thXT1iLGE9PT0iZGlzYWJsZWQiJiYodGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcyh0aGlzLndpZGdldEZ1bGxOYW1lKyItZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWQiLCEhYikuYXR0cigiYXJpYS1kaXNhYmxlZCIsYiksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksdGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIikpLHRoaXN9LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMSl9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfSxfb246ZnVuY3Rpb24oYixjKXtjPyhiPWEoYiksdGhpcy5iaW5kaW5ncz10aGlzLmJpbmRpbmdzLmFkZChiKSk6KGM9YixiPXRoaXMuZWxlbWVudCk7dmFyIGQ9dGhpczthLmVhY2goYyxmdW5jdGlvbihjLGUpe2Z1bmN0aW9uIGYoKXtpZihkLm9wdGlvbnMuZGlzYWJsZWQ9PT0hMHx8YSh0aGlzKS5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKSlyZXR1cm47cmV0dXJuKHR5cGVvZiBlPT0ic3RyaW5nIj9kW2VdOmUpLmFwcGx5KGQsYXJndW1lbnRzKX10eXBlb2YgZSE9InN0cmluZyImJihmLmd1aWQ9ZS5ndWlkPWUuZ3VpZHx8Zi5ndWlkfHxhLmd1aWQrKyk7dmFyIGc9Yy5tYXRjaCgvXihcdyspXHMqKC4qKSQvKSxoPWdbMV0rZC5ldmVudE5hbWVzcGFjZSxpPWdbMl07aT9kLndpZGdldCgpLmRlbGVnYXRlKGksaCxmKTpiLmJpbmQoaCxmKX0pfSxfb2ZmOmZ1bmN0aW9uKGEsYil7Yj0oYnx8IiIpLnNwbGl0KCIgIikuam9pbih0aGlzLmV2ZW50TmFtZXNwYWNlKyIgIikrdGhpcy5ldmVudE5hbWVzcGFjZSxhLnVuYmluZChiKS51bmRlbGVnYXRlKGIpfSxfZGVsYXk6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7cmV0dXJuKHR5cGVvZiBhPT0ic3RyaW5nIj9kW2FdOmEpLmFwcGx5KGQsYXJndW1lbnRzKX12YXIgZD10aGlzO3JldHVybiBzZXRUaW1lb3V0KGMsYnx8MCl9LF9ob3ZlcmFibGU6ZnVuY3Rpb24oYil7dGhpcy5ob3ZlcmFibGU9dGhpcy5ob3ZlcmFibGUuYWRkKGIpLHRoaXMuX29uKGIse21vdXNlZW50ZXI6ZnVuY3Rpb24oYil7YShiLmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfSxtb3VzZWxlYXZlOmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKX19KX0sX2ZvY3VzYWJsZTpmdW5jdGlvbihiKXt0aGlzLmZvY3VzYWJsZT10aGlzLmZvY3VzYWJsZS5hZGQoYiksdGhpcy5fb24oYix7Zm9jdXNpbjpmdW5jdGlvbihiKXthKGIuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9LGZvY3Vzb3V0OmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKX19KX0sX3RyaWdnZXI6ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZz10aGlzLm9wdGlvbnNbYl07ZD1kfHx7fSxjPWEuRXZlbnQoYyksYy50eXBlPShiPT09dGhpcy53aWRnZXRFdmVudFByZWZpeD9iOnRoaXMud2lkZ2V0RXZlbnRQcmVmaXgrYikudG9Mb3dlckNhc2UoKSxjLnRhcmdldD10aGlzLmVsZW1lbnRbMF0sZj1jLm9yaWdpbmFsRXZlbnQ7aWYoZilmb3IoZSBpbiBmKWUgaW4gY3x8KGNbZV09ZltlXSk7cmV0dXJuIHRoaXMuZWxlbWVudC50cmlnZ2VyKGMsZCksIShhLmlzRnVuY3Rpb24oZykmJmcuYXBwbHkodGhpcy5lbGVtZW50WzBdLFtjXS5jb25jYXQoZCkpPT09ITF8fGMuaXNEZWZhdWx0UHJldmVudGVkKCkpfX0sYS5lYWNoKHtzaG93OiJmYWRlSW4iLGhpZGU6ImZhZGVPdXQifSxmdW5jdGlvbihiLGMpe2EuV2lkZ2V0LnByb3RvdHlwZVsiXyIrYl09ZnVuY3Rpb24oZCxlLGYpe3R5cGVvZiBlPT0ic3RyaW5nIiYmKGU9e2VmZmVjdDplfSk7dmFyIGcsaD1lP2U9PT0hMHx8dHlwZW9mIGU9PSJudW1iZXIiP2M6ZS5lZmZlY3R8fGM6YjtlPWV8fHt9LHR5cGVvZiBlPT0ibnVtYmVyIiYmKGU9e2R1cmF0aW9uOmV9KSxnPSFhLmlzRW1wdHlPYmplY3QoZSksZS5jb21wbGV0ZT1mLGUuZGVsYXkmJmQuZGVsYXkoZS5kZWxheSksZyYmYS5lZmZlY3RzJiYoYS5lZmZlY3RzLmVmZmVjdFtoXXx8YS51aUJhY2tDb21wYXQhPT0hMSYmYS5lZmZlY3RzW2hdKT9kW2JdKGUpOmghPT1iJiZkW2hdP2RbaF0oZS5kdXJhdGlvbixlLmVhc2luZyxmKTpkLnF1ZXVlKGZ1bmN0aW9uKGMpe2EodGhpcylbYl0oKSxmJiZmLmNhbGwoZFswXSksYygpfSl9fSksYS51aUJhY2tDb21wYXQhPT0hMSYmKGEuV2lkZ2V0LnByb3RvdHlwZS5fZ2V0Q3JlYXRlT3B0aW9ucz1mdW5jdGlvbigpe3JldHVybiBhLm1ldGFkYXRhJiZhLm1ldGFkYXRhLmdldCh0aGlzLmVsZW1lbnRbMF0pW3RoaXMud2lkZ2V0TmFtZV19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLndpZGdldCIse19jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oKXthLldpZGdldC5wcm90b3R5cGUuX2NyZWF0ZVdpZGdldC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fdHJpZ2dlcigiaW5pdCIpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBjPXRoaXMuZWxlbWVudCxkPXt9O3JldHVybiBhLmVhY2godGhpcy5vcHRpb25zLGZ1bmN0aW9uKGEpe3ZhciBlPWMuanFtRGF0YShhLnJlcGxhY2UoL1tBLVpdL2csZnVuY3Rpb24oYSl7cmV0dXJuIi0iK2EudG9Mb3dlckNhc2UoKX0pKTtlIT09YiYmKGRbYV09ZSl9KSxkfSxlbmhhbmNlV2l0aGluOmZ1bmN0aW9uKGIsYyl7dGhpcy5lbmhhbmNlKGEodGhpcy5vcHRpb25zLmluaXRTZWxlY3RvcixhKGIpKSxjKX0sZW5oYW5jZTpmdW5jdGlvbihiLGMpe3ZhciBkLGUsZj1hKGIpLGc9dGhpcztmPWEubW9iaWxlLmVuaGFuY2VhYmxlKGYpLGMmJmYubGVuZ3RoJiYoZD1hLm1vYmlsZS5jbG9zZXN0UGFnZURhdGEoZiksZT1kJiZkLmtlZXBOYXRpdmVTZWxlY3RvcigpfHwiIixmPWYubm90KGUpKSxmW3RoaXMud2lkZ2V0TmFtZV0oKX0scmFpc2U6ZnVuY3Rpb24oYSl7dGhyb3ciV2lkZ2V0IFsiK3RoaXMud2lkZ2V0TmFtZSsiXTogIithfX0pfShhKSxmdW5jdGlvbihhLGIpe2EuZXh0ZW5kKGEubW9iaWxlLHtsb2FkaW5nTWVzc2FnZVRleHRWaXNpYmxlOmQsbG9hZGluZ01lc3NhZ2VUaGVtZTpkLGxvYWRpbmdNZXNzYWdlOmQsc2hvd1BhZ2VMb2FkaW5nTXNnOmZ1bmN0aW9uKGIsYyxkKXthLm1vYmlsZS5sb2FkaW5nKCJzaG93IixiLGMsZCl9LGhpZGVQYWdlTG9hZGluZ01zZzpmdW5jdGlvbigpe2EubW9iaWxlLmxvYWRpbmcoImhpZGUiKX0sbG9hZGluZzpmdW5jdGlvbigpe3RoaXMubG9hZGVyV2lkZ2V0LmxvYWRlci5hcHBseSh0aGlzLmxvYWRlcldpZGdldCxhcmd1bWVudHMpfX0pO3ZhciBjPSJ1aS1sb2FkZXIiLGU9YSgiaHRtbCIpLGY9YShiKTthLndpZGdldCgibW9iaWxlLmxvYWRlciIse29wdGlvbnM6e3RoZW1lOiJhIix0ZXh0VmlzaWJsZTohMSxodG1sOiIiLHRleHQ6ImxvYWRpbmcifSxkZWZhdWx0SHRtbDoiPGRpdiBjbGFzcz0nIitjKyInPiIrIjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tbG9hZGluZyc+PC9zcGFuPiIrIjxoMT48L2gxPiIrIjwvZGl2PiIsZmFrZUZpeExvYWRlcjpmdW5jdGlvbigpe3ZhciBiPWEoIi4iK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5maXJzdCgpO3RoaXMuZWxlbWVudC5jc3Moe3RvcDphLnN1cHBvcnQuc2Nyb2xsVG9wJiZmLnNjcm9sbFRvcCgpK2YuaGVpZ2h0KCkvMnx8Yi5sZW5ndGgmJmIub2Zmc2V0KCkudG9wfHwxMDB9KX0sY2hlY2tMb2FkZXJQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudC5vZmZzZXQoKSxjPWYuc2Nyb2xsVG9wKCksZD1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKTtpZihiLnRvcDxjfHxiLnRvcC1jPmQpdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1sb2FkZXItZmFrZWZpeCIpLHRoaXMuZmFrZUZpeExvYWRlcigpLGYudW5iaW5kKCJzY3JvbGwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbikuYmluZCgic2Nyb2xsIix0aGlzLmZha2VGaXhMb2FkZXIpfSxyZXNldEh0bWw6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuaHRtbChhKHRoaXMuZGVmYXVsdEh0bWwpLmh0bWwoKSl9LHNob3c6ZnVuY3Rpb24oYixnLGgpe3ZhciBpLGosayxsO3RoaXMucmVzZXRIdG1sKCksYS50eXBlKGIpPT09Im9iamVjdCI/KGw9YS5leHRlbmQoe30sdGhpcy5vcHRpb25zLGIpLGI9bC50aGVtZXx8YS5tb2JpbGUubG9hZGluZ01lc3NhZ2VUaGVtZSk6KGw9dGhpcy5vcHRpb25zLGI9Ynx8YS5tb2JpbGUubG9hZGluZ01lc3NhZ2VUaGVtZXx8bC50aGVtZSksaj1nfHxhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZXx8bC50ZXh0LGUuYWRkQ2xhc3MoInVpLWxvYWRpbmciKTtpZihhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZSE9PSExfHxsLmh0bWwpYS5tb2JpbGUubG9hZGluZ01lc3NhZ2VUZXh0VmlzaWJsZSE9PWQ/aT1hLm1vYmlsZS5sb2FkaW5nTWVzc2FnZVRleHRWaXNpYmxlOmk9bC50ZXh0VmlzaWJsZSx0aGlzLmVsZW1lbnQuYXR0cigiY2xhc3MiLGMrIiB1aS1jb3JuZXItYWxsIHVpLWJvZHktIitiKyIgdWktbG9hZGVyLSIrKGl8fGd8fGIudGV4dD8idmVyYm9zZSI6ImRlZmF1bHQiKSsobC50ZXh0b25seXx8aD8iIHVpLWxvYWRlci10ZXh0b25seSI6IiIpKSxsLmh0bWw/dGhpcy5lbGVtZW50Lmh0bWwobC5odG1sKTp0aGlzLmVsZW1lbnQuZmluZCgiaDEiKS50ZXh0KGopLHRoaXMuZWxlbWVudC5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKSx0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24oKSxmLmJpbmQoInNjcm9sbCIsYS5wcm94eSh0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24sdGhpcykpfSxoaWRlOmZ1bmN0aW9uKCl7ZS5yZW1vdmVDbGFzcygidWktbG9hZGluZyIpLGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWxvYWRlci1mYWtlZml4IiksYShiKS51bmJpbmQoInNjcm9sbCIsYS5wcm94eSh0aGlzLmZha2VGaXhMb2FkZXIsdGhpcykpLGEoYikudW5iaW5kKCJzY3JvbGwiLGEucHJveHkodGhpcy5jaGVja0xvYWRlclBvc2l0aW9uLHRoaXMpKX19KSxmLmJpbmQoInBhZ2Vjb250YWluZXJjcmVhdGUiLGZ1bmN0aW9uKCl7YS5tb2JpbGUubG9hZGVyV2lkZ2V0PWEubW9iaWxlLmxvYWRlcldpZGdldHx8YShhLm1vYmlsZS5sb2FkZXIucHJvdG90eXBlLmRlZmF1bHRIdG1sKS5sb2FkZXIoKX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjLGQpe2Z1bmN0aW9uIHgoYSl7d2hpbGUoYSYmdHlwZW9mIGEub3JpZ2luYWxFdmVudCE9InVuZGVmaW5lZCIpYT1hLm9yaWdpbmFsRXZlbnQ7cmV0dXJuIGF9ZnVuY3Rpb24geShiLGMpe3ZhciBlPWIudHlwZSxmLGcsaSxrLGwsbSxuLG8scDtiPWEuRXZlbnQoYiksYi50eXBlPWMsZj1iLm9yaWdpbmFsRXZlbnQsZz1hLmV2ZW50LnByb3BzLGUuc2VhcmNoKC9eKG1vdXNlfGNsaWNrKS8pPi0xJiYoZz1qKTtpZihmKWZvcihuPWcubGVuZ3RoLGs7bjspaz1nWy0tbl0sYltrXT1mW2tdO2Uuc2VhcmNoKC9tb3VzZShkb3dufHVwKXxjbGljay8pPi0xJiYhYi53aGljaCYmKGIud2hpY2g9MSk7aWYoZS5zZWFyY2goL150b3VjaC8pIT09LTEpe2k9eChmKSxlPWkudG91Y2hlcyxsPWkuY2hhbmdlZFRvdWNoZXMsbT1lJiZlLmxlbmd0aD9lWzBdOmwmJmwubGVuZ3RoP2xbMF06ZDtpZihtKWZvcihvPTAscD1oLmxlbmd0aDtvPHA7bysrKWs9aFtvXSxiW2tdPW1ba119cmV0dXJuIGJ9ZnVuY3Rpb24geihiKXt2YXIgYz17fSxkLGY7d2hpbGUoYil7ZD1hLmRhdGEoYixlKTtmb3IoZiBpbiBkKWRbZl0mJihjW2ZdPWMuaGFzVmlydHVhbEJpbmRpbmc9ITApO2I9Yi5wYXJlbnROb2RlfXJldHVybiBjfWZ1bmN0aW9uIEEoYixjKXt2YXIgZDt3aGlsZShiKXtkPWEuZGF0YShiLGUpO2lmKGQmJighY3x8ZFtjXSkpcmV0dXJuIGI7Yj1iLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9ZnVuY3Rpb24gQigpe3I9ITF9ZnVuY3Rpb24gQygpe3I9ITB9ZnVuY3Rpb24gRCgpe3Y9MCxwLmxlbmd0aD0wLHE9ITEsQygpfWZ1bmN0aW9uIEUoKXtCKCl9ZnVuY3Rpb24gRigpe0coKSxsPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtsPTAsRCgpfSxhLnZtb3VzZS5yZXNldFRpbWVyRHVyYXRpb24pfWZ1bmN0aW9uIEcoKXtsJiYoY2xlYXJUaW1lb3V0KGwpLGw9MCl9ZnVuY3Rpb24gSChiLGMsZCl7dmFyIGU7aWYoZCYmZFtiXXx8IWQmJkEoYy50YXJnZXQsYikpZT15KGMsYiksYShjLnRhcmdldCkudHJpZ2dlcihlKTtyZXR1cm4gZX1mdW5jdGlvbiBJKGIpe3ZhciBjPWEuZGF0YShiLnRhcmdldCxmKTtpZighcSYmKCF2fHx2IT09Yykpe3ZhciBkPUgoInYiK2IudHlwZSxiKTtkJiYoZC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmYi5wcmV2ZW50RGVmYXVsdCgpLGQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmYi5zdG9wUHJvcGFnYXRpb24oKSxkLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkmJmIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpfX1mdW5jdGlvbiBKKGIpe3ZhciBjPXgoYikudG91Y2hlcyxkLGU7aWYoYyYmYy5sZW5ndGg9PT0xKXtkPWIudGFyZ2V0LGU9eihkKTtpZihlLmhhc1ZpcnR1YWxCaW5kaW5nKXt2PXUrKyxhLmRhdGEoZCxmLHYpLEcoKSxFKCksbz0hMTt2YXIgZz14KGIpLnRvdWNoZXNbMF07bT1nLnBhZ2VYLG49Zy5wYWdlWSxIKCJ2bW91c2VvdmVyIixiLGUpLEgoInZtb3VzZWRvd24iLGIsZSl9fX1mdW5jdGlvbiBLKGEpe2lmKHIpcmV0dXJuO298fEgoInZtb3VzZWNhbmNlbCIsYSx6KGEudGFyZ2V0KSksbz0hMCxGKCl9ZnVuY3Rpb24gTChiKXtpZihyKXJldHVybjt2YXIgYz14KGIpLnRvdWNoZXNbMF0sZD1vLGU9YS52bW91c2UubW92ZURpc3RhbmNlVGhyZXNob2xkLGY9eihiLnRhcmdldCk7bz1vfHxNYXRoLmFicyhjLnBhZ2VYLW0pPmV8fE1hdGguYWJzKGMucGFnZVktbik+ZSxvJiYhZCYmSCgidm1vdXNlY2FuY2VsIixiLGYpLEgoInZtb3VzZW1vdmUiLGIsZiksRigpfWZ1bmN0aW9uIE0oYSl7aWYocilyZXR1cm47QygpO3ZhciBiPXooYS50YXJnZXQpLGM7SCgidm1vdXNldXAiLGEsYik7aWYoIW8pe3ZhciBkPUgoInZjbGljayIsYSxiKTtkJiZkLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYoYz14KGEpLmNoYW5nZWRUb3VjaGVzWzBdLHAucHVzaCh7dG91Y2hJRDp2LHg6Yy5jbGllbnRYLHk6Yy5jbGllbnRZfSkscT0hMCl9SCgidm1vdXNlb3V0IixhLGIpLG89ITEsRigpfWZ1bmN0aW9uIE4oYil7dmFyIGM9YS5kYXRhKGIsZSksZDtpZihjKWZvcihkIGluIGMpaWYoY1tkXSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBPKCl7fWZ1bmN0aW9uIFAoYil7dmFyIGM9Yi5zdWJzdHIoMSk7cmV0dXJue3NldHVwOmZ1bmN0aW9uKGQsZil7Tih0aGlzKXx8YS5kYXRhKHRoaXMsZSx7fSk7dmFyIGc9YS5kYXRhKHRoaXMsZSk7Z1tiXT0hMCxrW2JdPShrW2JdfHwwKSsxLGtbYl09PT0xJiZ0LmJpbmQoYyxJKSxhKHRoaXMpLmJpbmQoYyxPKSxzJiYoay50b3VjaHN0YXJ0PShrLnRvdWNoc3RhcnR8fDApKzEsay50b3VjaHN0YXJ0PT09MSYmdC5iaW5kKCJ0b3VjaHN0YXJ0IixKKS5iaW5kKCJ0b3VjaGVuZCIsTSkuYmluZCgidG91Y2htb3ZlIixMKS5iaW5kKCJzY3JvbGwiLEspKX0sdGVhcmRvd246ZnVuY3Rpb24oZCxmKXstLWtbYl0sa1tiXXx8dC51bmJpbmQoYyxJKSxzJiYoLS1rLnRvdWNoc3RhcnQsay50b3VjaHN0YXJ0fHx0LnVuYmluZCgidG91Y2hzdGFydCIsSikudW5iaW5kKCJ0b3VjaG1vdmUiLEwpLnVuYmluZCgidG91Y2hlbmQiLE0pLnVuYmluZCgic2Nyb2xsIixLKSk7dmFyIGc9YSh0aGlzKSxoPWEuZGF0YSh0aGlzLGUpO2gmJihoW2JdPSExKSxnLnVuYmluZChjLE8pLE4odGhpcyl8fGcucmVtb3ZlRGF0YShlKX19fXZhciBlPSJ2aXJ0dWFsTW91c2VCaW5kaW5ncyIsZj0idmlydHVhbFRvdWNoSUQiLGc9InZtb3VzZW92ZXIgdm1vdXNlZG93biB2bW91c2Vtb3ZlIHZtb3VzZXVwIHZjbGljayB2bW91c2VvdXQgdm1vdXNlY2FuY2VsIi5zcGxpdCgiICIpLGg9ImNsaWVudFggY2xpZW50WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkiLnNwbGl0KCIgIiksaT1hLmV2ZW50Lm1vdXNlSG9va3M/YS5ldmVudC5tb3VzZUhvb2tzLnByb3BzOltdLGo9YS5ldmVudC5wcm9wcy5jb25jYXQoaSksaz17fSxsPTAsbT0wLG49MCxvPSExLHA9W10scT0hMSxyPSExLHM9ImFkZEV2ZW50TGlzdGVuZXIiaW4gYyx0PWEoYyksdT0xLHY9MCx3O2Eudm1vdXNlPXttb3ZlRGlzdGFuY2VUaHJlc2hvbGQ6MTAsY2xpY2tEaXN0YW5jZVRocmVzaG9sZDoxMCxyZXNldFRpbWVyRHVyYXRpb246MTUwMH07Zm9yKHZhciBRPTA7UTxnLmxlbmd0aDtRKyspYS5ldmVudC5zcGVjaWFsW2dbUV1dPVAoZ1tRXSk7cyYmYy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oYil7dmFyIGM9cC5sZW5ndGgsZD1iLnRhcmdldCxlLGcsaCxpLGosaztpZihjKXtlPWIuY2xpZW50WCxnPWIuY2xpZW50WSx3PWEudm1vdXNlLmNsaWNrRGlzdGFuY2VUaHJlc2hvbGQsaD1kO3doaWxlKGgpe2ZvcihpPTA7aTxjO2krKyl7aj1wW2ldLGs9MDtpZihoPT09ZCYmTWF0aC5hYnMoai54LWUpPHcmJk1hdGguYWJzKGoueS1nKTx3fHxhLmRhdGEoaCxmKT09PWoudG91Y2hJRCl7Yi5wcmV2ZW50RGVmYXVsdCgpLGIuc3RvcFByb3BhZ2F0aW9uKCk7cmV0dXJufX1oPWgucGFyZW50Tm9kZX19fSwhMCl9KGEsYixjKSxmdW5jdGlvbihhLGIpe3ZhciBkPXt0b3VjaDoib250b3VjaGVuZCJpbiBjfTthLm1vYmlsZT1hLm1vYmlsZXx8e30sYS5tb2JpbGUuc3VwcG9ydD1hLm1vYmlsZS5zdXBwb3J0fHx7fSxhLmV4dGVuZChhLnN1cHBvcnQsZCksYS5leHRlbmQoYS5tb2JpbGUuc3VwcG9ydCxkKX0oYSksZnVuY3Rpb24oYSxiLGQpe2Z1bmN0aW9uIGooYixjLGQpe3ZhciBlPWQudHlwZTtkLnR5cGU9YyxhLmV2ZW50LmhhbmRsZS5jYWxsKGIsZCksZC50eXBlPWV9YS5lYWNoKCJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0YXAgdGFwaG9sZCBzd2lwZSBzd2lwZWxlZnQgc3dpcGVyaWdodCBzY3JvbGxzdGFydCBzY3JvbGxzdG9wIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGIsYyl7YS5mbltjXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoYyxhKTp0aGlzLnRyaWdnZXIoYyl9LGEuYXR0ckZuJiYoYS5hdHRyRm5bY109ITApfSk7dmFyIGU9YS5tb2JpbGUuc3VwcG9ydC50b3VjaCxmPSJ0b3VjaG1vdmUgc2Nyb2xsIixnPWU/InRvdWNoc3RhcnQiOiJtb3VzZWRvd24iLGg9ZT8idG91Y2hlbmQiOiJtb3VzZXVwIixpPWU/InRvdWNobW92ZSI6Im1vdXNlbW92ZSI7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0PXtlbmFibGVkOiEwLHNldHVwOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gZyhhLGMpe2Q9YyxqKGIsZD8ic2Nyb2xsc3RhcnQiOiJzY3JvbGxzdG9wIixhKX12YXIgYj10aGlzLGM9YShiKSxkLGU7Yy5iaW5kKGYsZnVuY3Rpb24oYil7aWYoIWEuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkKXJldHVybjtkfHxnKGIsITApLGNsZWFyVGltZW91dChlKSxlPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtnKGIsITEpfSw1MCl9KX19LGEuZXZlbnQuc3BlY2lhbC50YXA9e3RhcGhvbGRUaHJlc2hvbGQ6NzUwLHNldHVwOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxkPWEoYik7ZC5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbihlKXtmdW5jdGlvbiBpKCl7Y2xlYXJUaW1lb3V0KGgpfWZ1bmN0aW9uIGsoKXtpKCksZC51bmJpbmQoInZjbGljayIsbCkudW5iaW5kKCJ2bW91c2V1cCIsaSksYShjKS51bmJpbmQoInZtb3VzZWNhbmNlbCIsayl9ZnVuY3Rpb24gbChhKXtrKCksZj09PWEudGFyZ2V0JiZqKGIsInRhcCIsYSl9aWYoZS53aGljaCYmZS53aGljaCE9PTEpcmV0dXJuITE7dmFyIGY9ZS50YXJnZXQsZz1lLm9yaWdpbmFsRXZlbnQsaDtkLmJpbmQoInZtb3VzZXVwIixpKS5iaW5kKCJ2Y2xpY2siLGwpLGEoYykuYmluZCgidm1vdXNlY2FuY2VsIixrKSxoPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtqKGIsInRhcGhvbGQiLGEuRXZlbnQoInRhcGhvbGQiLHt0YXJnZXQ6Zn0pKX0sYS5ldmVudC5zcGVjaWFsLnRhcC50YXBob2xkVGhyZXNob2xkKX0pfX0sYS5ldmVudC5zcGVjaWFsLnN3aXBlPXtzY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkOjMwLGR1cmF0aW9uVGhyZXNob2xkOjFlMyxob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQ6MzAsdmVydGljYWxEaXN0YW5jZVRocmVzaG9sZDo3NSxzZXR1cDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1hKGIpO2MuYmluZChnLGZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGooYil7aWYoIWYpcmV0dXJuO3ZhciBjPWIub3JpZ2luYWxFdmVudC50b3VjaGVzP2Iub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmI7Zz17dGltZToobmV3IERhdGUpLmdldFRpbWUoKSxjb29yZHM6W2MucGFnZVgsYy5wYWdlWV19LE1hdGguYWJzKGYuY29vcmRzWzBdLWcuY29vcmRzWzBdKT5hLmV2ZW50LnNwZWNpYWwuc3dpcGUuc2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZCYmYi5wcmV2ZW50RGVmYXVsdCgpfXZhciBlPWIub3JpZ2luYWxFdmVudC50b3VjaGVzP2Iub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmIsZj17dGltZToobmV3IERhdGUpLmdldFRpbWUoKSxjb29yZHM6W2UucGFnZVgsZS5wYWdlWV0sb3JpZ2luOmEoYi50YXJnZXQpfSxnO2MuYmluZChpLGopLm9uZShoLGZ1bmN0aW9uKGIpe2MudW5iaW5kKGksaiksZiYmZyYmZy50aW1lLWYudGltZTxhLmV2ZW50LnNwZWNpYWwuc3dpcGUuZHVyYXRpb25UaHJlc2hvbGQmJk1hdGguYWJzKGYuY29vcmRzWzBdLWcuY29vcmRzWzBdKT5hLmV2ZW50LnNwZWNpYWwuc3dpcGUuaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkJiZNYXRoLmFicyhmLmNvb3Jkc1sxXS1nLmNvb3Jkc1sxXSk8YS5ldmVudC5zcGVjaWFsLnN3aXBlLnZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQmJmYub3JpZ2luLnRyaWdnZXIoInN3aXBlIikudHJpZ2dlcihmLmNvb3Jkc1swXT5nLmNvb3Jkc1swXT8ic3dpcGVsZWZ0Ijoic3dpcGVyaWdodCIpLGY9Zz1kfSl9KX19LGEuZWFjaCh7c2Nyb2xsc3RvcDoic2Nyb2xsc3RhcnQiLHRhcGhvbGQ6InRhcCIsc3dpcGVsZWZ0OiJzd2lwZSIsc3dpcGVyaWdodDoic3dpcGUifSxmdW5jdGlvbihiLGMpe2EuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoYyxhLm5vb3ApfX19KX0oYSx0aGlzKSxmdW5jdGlvbihhLGMpe2EuZXh0ZW5kKGEuc3VwcG9ydCx7b3JpZW50YXRpb246Im9yaWVudGF0aW9uImluIGImJiJvbm9yaWVudGF0aW9uY2hhbmdlImluIGJ9KX0oYSksZnVuY3Rpb24oYSl7YS5ldmVudC5zcGVjaWFsLnRocm90dGxlZHJlc2l6ZT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoInJlc2l6ZSIsYyl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoInJlc2l6ZSIsYyl9fTt2YXIgYj0yNTAsYz1mdW5jdGlvbigpe2Y9KG5ldyBEYXRlKS5nZXRUaW1lKCksZz1mLWQsZz49Yj8oZD1mLGEodGhpcykudHJpZ2dlcigidGhyb3R0bGVkcmVzaXplIikpOihlJiZjbGVhclRpbWVvdXQoZSksZT1zZXRUaW1lb3V0KGMsYi1nKSl9LGQ9MCxlLGYsZ30oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBvKCl7dmFyIGE9ZygpO2EhPT1oJiYoaD1hLGQudHJpZ2dlcihlKSl9dmFyIGQ9YShiKSxlPSJvcmllbnRhdGlvbmNoYW5nZSIsZixnLGgsaSxqLGs9ezA6ITAsMTgwOiEwfTtpZihhLnN1cHBvcnQub3JpZW50YXRpb24pe3ZhciBsPWIuaW5uZXJXaWR0aHx8YShiKS53aWR0aCgpLG09Yi5pbm5lckhlaWdodHx8YShiKS5oZWlnaHQoKSxuPTUwO2k9bD5tJiZsLW0+bixqPWtbYi5vcmllbnRhdGlvbl07aWYoaSYmanx8IWkmJiFqKWs9eyItOTAiOiEwLDkwOiEwfX1hLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2U9YS5leHRlbmQoe30sYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLHtzZXR1cDpmdW5jdGlvbigpe2lmKGEuc3VwcG9ydC5vcmllbnRhdGlvbiYmIWEuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5kaXNhYmxlZClyZXR1cm4hMTtoPWcoKSxkLmJpbmQoInRocm90dGxlZHJlc2l6ZSIsbyl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYoYS5zdXBwb3J0Lm9yaWVudGF0aW9uJiYhYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLmRpc2FibGVkKXJldHVybiExO2QudW5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLG8pfSxhZGQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5oYW5kbGVyO2EuaGFuZGxlcj1mdW5jdGlvbihhKXtyZXR1cm4gYS5vcmllbnRhdGlvbj1nKCksYi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0pLGEuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5vcmllbnRhdGlvbj1nPWZ1bmN0aW9uKCl7dmFyIGQ9ITAsZT1jLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gYS5zdXBwb3J0Lm9yaWVudGF0aW9uP2Q9a1tiLm9yaWVudGF0aW9uXTpkPWUmJmUuY2xpZW50V2lkdGgvZS5jbGllbnRIZWlnaHQ8MS4xLGQ/InBvcnRyYWl0IjoibGFuZHNjYXBlIn0sYS5mbltlXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoZSxhKTp0aGlzLnRyaWdnZXIoZSl9LGEuYXR0ckZuJiYoYS5hdHRyRm5bZV09ITApfShhLHRoaXMpLGZ1bmN0aW9uKGEsZCl7dmFyIGU9YShiKSxmPWEoImh0bWwiKTthLm1vYmlsZS5tZWRpYT1mdW5jdGlvbigpe3ZhciBiPXt9LGQ9YSgiPGRpdiBpZD0nanF1ZXJ5LW1lZGlhdGVzdCc+PC9kaXY+IiksZT1hKCI8Ym9keT4iKS5hcHBlbmQoZCk7cmV0dXJuIGZ1bmN0aW9uKGEpe2lmKCEoYSBpbiBiKSl7dmFyIGc9Yy5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLGg9IkBtZWRpYSAiK2ErIiB7ICNqcXVlcnktbWVkaWF0ZXN0IHsgcG9zaXRpb246YWJzb2x1dGU7IH0gfSI7Zy50eXBlPSJ0ZXh0L2NzcyIsZy5zdHlsZVNoZWV0P2cuc3R5bGVTaGVldC5jc3NUZXh0PWg6Zy5hcHBlbmRDaGlsZChjLmNyZWF0ZVRleHROb2RlKGgpKSxmLnByZXBlbmQoZSkucHJlcGVuZChnKSxiW2FdPWQuY3NzKCJwb3NpdGlvbiIpPT09ImFic29sdXRlIixlLmFkZChnKS5yZW1vdmUoKX1yZXR1cm4gYlthXX19KCl9KGEpLGZ1bmN0aW9uKGEsZCl7ZnVuY3Rpb24gZShhKXt2YXIgYj1hLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyKDEpLGM9KGErIiAiK2guam9pbihiKyIgIikrYikuc3BsaXQoIiAiKTtmb3IodmFyIGUgaW4gYylpZihnW2NbZV1dIT09ZClyZXR1cm4hMH1mdW5jdGlvbiBtKGEsYixkKXt2YXIgZT1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGY9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHIoMSl9LGc9ZnVuY3Rpb24oYSl7cmV0dXJuIi0iK2EuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkrYS5zdWJzdHIoMSkrIi0ifSxpPWZ1bmN0aW9uKGMpe3ZhciBkPWcoYykrYSsiOiAiK2IrIjsiLGg9ZihjKSxpPWgrZihhKTtlLnNldEF0dHJpYnV0ZSgic3R5bGUiLGQpLCFlLnN0eWxlW2ldfHwoaz0hMCl9LGo9ZD9bZF06aCxrO2Zvcih2YXIgbD0wO2w8ai5sZW5ndGg7bCsrKWkoaltsXSk7cmV0dXJuISFrfWZ1bmN0aW9uIG4oKXt2YXIgYj0idHJhbnNmb3JtLTNkIjtyZXR1cm4gbSgicGVyc3BlY3RpdmUiLCIxMHB4IiwibW96Iil8fGEubW9iaWxlLm1lZGlhKCIoLSIraC5qb2luKCItIitiKyIpLCgtIikrIi0iK2IrIiksKCIrYisiKSIpfWZ1bmN0aW9uIG8oKXt2YXIgYj1sb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUrInVpLWRpci8iLGM9YSgiaGVhZCBiYXNlIiksZD1udWxsLGU9IiIsZyxoO3JldHVybiBjLmxlbmd0aD9lPWMuYXR0cigiaHJlZiIpOmM9ZD1hKCI8YmFzZT4iLHtocmVmOmJ9KS5hcHBlbmRUbygiaGVhZCIpLGc9YSgiPGEgaHJlZj0ndGVzdHVybCcgLz4iKS5wcmVwZW5kVG8oZiksaD1nWzBdLmhyZWYsY1swXS5ocmVmPWV8fGxvY2F0aW9uLnBhdGhuYW1lLGQmJmQucmVtb3ZlKCksaC5pbmRleE9mKGIpPT09MH1mdW5jdGlvbiBwKCl7dmFyIGE9Yy5jcmVhdGVFbGVtZW50KCJ4IiksZD1jLmRvY3VtZW50RWxlbWVudCxlPWIuZ2V0Q29tcHV0ZWRTdHlsZSxmO3JldHVybiJwb2ludGVyRXZlbnRzImluIGEuc3R5bGU/KGEuc3R5bGUucG9pbnRlckV2ZW50cz0iYXV0byIsYS5zdHlsZS5wb2ludGVyRXZlbnRzPSJ4IixkLmFwcGVuZENoaWxkKGEpLGY9ZSYmZShhLCIiKS5wb2ludGVyRXZlbnRzPT09ImF1dG8iLGQucmVtb3ZlQ2hpbGQoYSksISFmKTohMX1mdW5jdGlvbiBxKCl7dmFyIGE9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gdHlwZW9mIGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0IT0idW5kZWZpbmVkIn12YXIgZj1hKCI8Ym9keT4iKS5wcmVwZW5kVG8oImh0bWwiKSxnPWZbMF0uc3R5bGUsaD1bIldlYmtpdCIsIk1veiIsIk8iXSxpPSJwYWxtR2V0UmVzb3VyY2UiaW4gYixqPWIub3BlcmEsaz1iLm9wZXJhbWluaSYme30udG9TdHJpbmcuY2FsbChiLm9wZXJhbWluaSk9PT0iW29iamVjdCBPcGVyYU1pbmldIixsPWIuYmxhY2tiZXJyeSYmIWUoIi13ZWJraXQtdHJhbnNmb3JtIik7YS5leHRlbmQoYS5tb2JpbGUse2Jyb3dzZXI6e319KSxhLm1vYmlsZS5icm93c2VyLmllPWZ1bmN0aW9uKCl7dmFyIGE9MyxiPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksZD1iLmFsbHx8W107ZG8gYi5pbm5lckhUTUw9IjwhLS1baWYgZ3QgSUUgIisgKythKyJdPjxicj48IVtlbmRpZl0tLT4iO3doaWxlKGRbMF0pO3JldHVybiBhPjQ/YTohYX0oKSxhLmV4dGVuZChhLnN1cHBvcnQse2Nzc1RyYW5zaXRpb25zOiJXZWJLaXRUcmFuc2l0aW9uRXZlbnQiaW4gYnx8bSgidHJhbnNpdGlvbiIsImhlaWdodCAxMDBtcyBsaW5lYXIiKSYmIWoscHVzaFN0YXRlOiJwdXNoU3RhdGUiaW4gaGlzdG9yeSYmInJlcGxhY2VTdGF0ZSJpbiBoaXN0b3J5LG1lZGlhcXVlcnk6YS5tb2JpbGUubWVkaWEoIm9ubHkgYWxsIiksY3NzUHNldWRvRWxlbWVudDohIWUoImNvbnRlbnQiKSx0b3VjaE92ZXJmbG93OiEhZSgib3ZlcmZsb3dTY3JvbGxpbmciKSxjc3NUcmFuc2Zvcm0zZDpuKCksYm94U2hhZG93OiEhZSgiYm94U2hhZG93IikmJiFsLHNjcm9sbFRvcDooInBhZ2VYT2Zmc2V0ImluIGJ8fCJzY3JvbGxUb3AiaW4gYy5kb2N1bWVudEVsZW1lbnR8fCJzY3JvbGxUb3AiaW4gZlswXSkmJiFpJiYhayxkeW5hbWljQmFzZVRhZzpvKCksY3NzUG9pbnRlckV2ZW50czpwKCksYm91bmRpbmdSZWN0OnEoKX0pLGYucmVtb3ZlKCk7dmFyIHI9ZnVuY3Rpb24oKXt2YXIgYT1iLm5hdmlnYXRvci51c2VyQWdlbnQ7cmV0dXJuIGEuaW5kZXhPZigiTm9raWEiKT4tMSYmKGEuaW5kZXhPZigiU3ltYmlhbi8zIik+LTF8fGEuaW5kZXhPZigiU2VyaWVzNjAvNSIpPi0xKSYmYS5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xJiZhLm1hdGNoKC8oQnJvd3Nlck5HfE5va2lhQnJvd3NlcilcLzdcLlswLTNdLyl9KCk7YS5tb2JpbGUuZ3JhZGVBPWZ1bmN0aW9uKCl7cmV0dXJuKGEuc3VwcG9ydC5tZWRpYXF1ZXJ5fHxhLm1vYmlsZS5icm93c2VyLmllJiZhLm1vYmlsZS5icm93c2VyLmllPj03KSYmKGEuc3VwcG9ydC5ib3VuZGluZ1JlY3R8fGEuZm4uanF1ZXJ5Lm1hdGNoKC8xXC5bMC03K11cLlswLTkrXT8vKSE9PW51bGwpfSxhLm1vYmlsZS5hamF4QmxhY2tsaXN0PWIuYmxhY2tiZXJyeSYmIWIuV2ViS2l0UG9pbnR8fGt8fHIsciYmYShmdW5jdGlvbigpe2EoImhlYWQgbGlua1tyZWw9J3N0eWxlc2hlZXQnXSIpLmF0dHIoInJlbCIsImFsdGVybmF0ZSBzdHlsZXNoZWV0IikuYXR0cigicmVsIiwic3R5bGVzaGVldCIpfSksYS5zdXBwb3J0LmJveFNoYWRvd3x8YSgiaHRtbCIpLmFkZENsYXNzKCJ1aS1tb2JpbGUtbm9zdXBwb3J0LWJveHNoYWRvdyIpfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUucGFnZSIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZToiYyIsZG9tQ2FjaGU6ITEsa2VlcE5hdGl2ZURlZmF1bHQ6IjpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoYS5fdHJpZ2dlcigiYmVmb3JlY3JlYXRlIik9PT0hMSlyZXR1cm4hMTthLmVsZW1lbnQuYXR0cigidGFiaW5kZXgiLCIwIikuYWRkQ2xhc3MoInVpLXBhZ2UgdWktYm9keS0iK2Eub3B0aW9ucy50aGVtZSkuYmluZCgicGFnZWJlZm9yZWhpZGUiLGZ1bmN0aW9uKCl7YS5yZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kKCl9KS5iaW5kKCJwYWdlYmVmb3Jlc2hvdyIsZnVuY3Rpb24oKXthLnNldENvbnRhaW5lckJhY2tncm91bmQoKX0pfSxyZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kOmZ1bmN0aW9uKCl7YS5tb2JpbGUucGFnZUNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktb3ZlcmxheS0iK2EubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudC5wYXJlbnQoKSkpfSxzZXRDb250YWluZXJCYWNrZ3JvdW5kOmZ1bmN0aW9uKGIpe3RoaXMub3B0aW9ucy50aGVtZSYmYS5tb2JpbGUucGFnZUNvbnRhaW5lci5hZGRDbGFzcygidWktb3ZlcmxheS0iKyhifHx0aGlzLm9wdGlvbnMudGhlbWUpKX0sa2VlcE5hdGl2ZVNlbGVjdG9yOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLGM9Yi5rZWVwTmF0aXZlJiZhLnRyaW0oYi5rZWVwTmF0aXZlKTtyZXR1cm4gYyYmYi5rZWVwTmF0aXZlIT09Yi5rZWVwTmF0aXZlRGVmYXVsdD9bYi5rZWVwTmF0aXZlLGIua2VlcE5hdGl2ZURlZmF1bHRdLmpvaW4oIiwgIik6Yi5rZWVwTmF0aXZlRGVmYXVsdH19KX0oYSksZnVuY3Rpb24oYSxiLGQpe2Z1bmN0aW9uIGsoYSl7cmV0dXJuIGE9YXx8bG9jYXRpb24uaHJlZiwiIyIrYS5yZXBsYWNlKC9eW14jXSojPyguKikkLywiJDEiKX12YXIgZT0iaGFzaGNoYW5nZSIsZj1jLGcsaD1hLmV2ZW50LnNwZWNpYWwsaT1mLmRvY3VtZW50TW9kZSxqPSJvbiIrZSBpbiBiJiYoaT09PWR8fGk+Nyk7YS5mbltlXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoZSxhKTp0aGlzLnRyaWdnZXIoZSl9LGEuZm5bZV0uZGVsYXk9NTAsaFtlXT1hLmV4dGVuZChoW2VdLHtzZXR1cDpmdW5jdGlvbigpe2lmKGopcmV0dXJuITE7YShnLnN0YXJ0KX0sdGVhcmRvd246ZnVuY3Rpb24oKXtpZihqKXJldHVybiExO2EoZy5zdG9wKX19KSxnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3ZhciBjPWsoKSxkPW0oaCk7YyE9PWg/KGwoaD1jLGQpLGEoYikudHJpZ2dlcihlKSk6ZCE9PWgmJihsb2NhdGlvbi5ocmVmPWxvY2F0aW9uLmhyZWYucmVwbGFjZSgvIy4qLywiIikrZCksZz1zZXRUaW1lb3V0KG4sYS5mbltlXS5kZWxheSl9dmFyIGM9e30sZyxoPWsoKSxpPWZ1bmN0aW9uKGEpe3JldHVybiBhfSxsPWksbT1pO3JldHVybiBjLnN0YXJ0PWZ1bmN0aW9uKCl7Z3x8bigpfSxjLnN0b3A9ZnVuY3Rpb24oKXtnJiZjbGVhclRpbWVvdXQoZyksZz1kfSxhLmJyb3dzZXIubXNpZSYmIWomJmZ1bmN0aW9uKCl7dmFyIGIsZDtjLnN0YXJ0PWZ1bmN0aW9uKCl7Ynx8KGQ9YS5mbltlXS5zcmMsZD1kJiZkK2soKSxiPWEoJzxpZnJhbWUgdGFiaW5kZXg9Ii0xIiB0aXRsZT0iZW1wdHkiLz4nKS5oaWRlKCkub25lKCJsb2FkIixmdW5jdGlvbigpe2R8fGwoaygpKSxuKCl9KS5hdHRyKCJzcmMiLGR8fCJqYXZhc2NyaXB0OjAiKS5pbnNlcnRBZnRlcigiYm9keSIpWzBdLmNvbnRlbnRXaW5kb3csZi5vbnByb3BlcnR5Y2hhbmdlPWZ1bmN0aW9uKCl7dHJ5e2V2ZW50LnByb3BlcnR5TmFtZT09PSJ0aXRsZSImJihiLmRvY3VtZW50LnRpdGxlPWYudGl0bGUpfWNhdGNoKGEpe319KX0sYy5zdG9wPWksbT1mdW5jdGlvbigpe3JldHVybiBrKGIubG9jYXRpb24uaHJlZil9LGw9ZnVuY3Rpb24oYyxkKXt2YXIgZz1iLmRvY3VtZW50LGg9YS5mbltlXS5kb21haW47YyE9PWQmJihnLnRpdGxlPWYudGl0bGUsZy5vcGVuKCksaCYmZy53cml0ZSgnPHNjcmlwdD5kb2N1bWVudC5kb21haW49IicraCsnIjwvc2NyaXB0PicpLGcuY2xvc2UoKSxiLmxvY2F0aW9uLmhhc2g9Yyl9fSgpLGN9KCl9KGEsdGhpcyksZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGQpe3JldHVybiBkPT09YyYmKGQ9ITApLGZ1bmN0aW9uKGMsZSxmLGcpe3ZhciBoPW5ldyBhLkRlZmVycmVkLGk9ZT8iIHJldmVyc2UiOiIiLGo9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKSxrPWoubGFzdFNjcm9sbHx8YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwsbD1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSxtPWEubW9iaWxlLm1heFRyYW5zaXRpb25XaWR0aCE9PSExJiZhKGIpLndpZHRoKCk+YS5tb2JpbGUubWF4VHJhbnNpdGlvbldpZHRoLG49IWEuc3VwcG9ydC5jc3NUcmFuc2l0aW9uc3x8bXx8IWN8fGM9PT0ibm9uZSJ8fE1hdGgubWF4KGEoYikuc2Nyb2xsVG9wKCksayk+YS5tb2JpbGUuZ2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbigpLG89IiB1aS1wYWdlLXByZS1pbiIscD1mdW5jdGlvbigpe2EubW9iaWxlLnBhZ2VDb250YWluZXIudG9nZ2xlQ2xhc3MoInVpLW1vYmlsZS12aWV3cG9ydC10cmFuc2l0aW9uaW5nIHZpZXdwb3J0LSIrYyl9LHE9ZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMSxiLnNjcm9sbFRvKDAsayksc2V0VGltZW91dChmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSEwfSwxNTApfSxyPWZ1bmN0aW9uKCl7Zy5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrIiBvdXQgaW4gcmV2ZXJzZSAiK2MpLmhlaWdodCgiIil9LHM9ZnVuY3Rpb24oKXtkP2cuYW5pbWF0aW9uQ29tcGxldGUodCk6dCgpLGcuaGVpZ2h0KGwrYShiKS5zY3JvbGxUb3AoKSkuYWRkQ2xhc3MoYysiIG91dCIraSl9LHQ9ZnVuY3Rpb24oKXtnJiZkJiZyKCksdSgpfSx1PWZ1bmN0aW9uKCl7Zi5jc3MoInotaW5kZXgiLC0xMCksZi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrbyksYS5tb2JpbGUuZm9jdXNQYWdlKGYpLGYuaGVpZ2h0KGwraykscSgpLGYuY3NzKCJ6LWluZGV4IiwiIiksbnx8Zi5hbmltYXRpb25Db21wbGV0ZSh2KSxmLnJlbW92ZUNsYXNzKG8pLmFkZENsYXNzKGMrIiBpbiIraSksbiYmdigpfSx2PWZ1bmN0aW9uKCl7ZHx8ZyYmcigpLGYucmVtb3ZlQ2xhc3MoIm91dCBpbiByZXZlcnNlICIrYykuaGVpZ2h0KCIiKSxwKCksYShiKS5zY3JvbGxUb3AoKSE9PWsmJnEoKSxoLnJlc29sdmUoYyxlLGYsZywhMCl9O3JldHVybiBwKCksZyYmIW4/cygpOnQoKSxoLnByb21pc2UoKX19LGU9ZCgpLGY9ZCghMSksZz1mdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSozfTthLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXI9ZSxhLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnM9eyJkZWZhdWx0IjphLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIsc2VxdWVudGlhbDplLHNpbXVsdGFuZW91czpmfSxhLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzPXt9LGEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uPWZ1bmN0aW9uKGIpe3JldHVybiBiJiYhYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZhLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW2JdJiYoYj1hLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW2JdKSxifSxhLm1vYmlsZS5nZXRNYXhTY3JvbGxGb3JUcmFuc2l0aW9uPWEubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb258fGd9KGEsdGhpcyksZnVuY3Rpb24oYSxkKXtmdW5jdGlvbiB1KGIpeyEhaSYmKCFpLmNsb3Nlc3QoIi4iK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcykubGVuZ3RofHxiKSYmaS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksaT1udWxsfWZ1bmN0aW9uIHYoKXttPSExLGwubGVuZ3RoPjAmJmEubW9iaWxlLmNoYW5nZVBhZ2UuYXBwbHkobnVsbCxsLnBvcCgpKX1mdW5jdGlvbiB6KGIsYyxkLGUpe2MmJmMuZGF0YSgicGFnZSIpLl90cmlnZ2VyKCJiZWZvcmVoaWRlIixudWxsLHtuZXh0UGFnZTpifSksYi5kYXRhKCJwYWdlIikuX3RyaWdnZXIoImJlZm9yZXNob3ciLG51bGwse3ByZXZQYWdlOmN8fGEoIiIpfSksYS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnKCksZD1hLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbihkKTt2YXIgZj1hLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnNbZHx8ImRlZmF1bHQiXXx8YS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyLGc9ZihkLGUsYixjKTtyZXR1cm4gZy5kb25lKGZ1bmN0aW9uKCl7YyYmYy5kYXRhKCJwYWdlIikuX3RyaWdnZXIoImhpZGUiLG51bGwse25leHRQYWdlOmJ9KSxiLmRhdGEoInBhZ2UiKS5fdHJpZ2dlcigic2hvdyIsbnVsbCx7cHJldlBhZ2U6Y3x8YSgiIil9KX0pLGd9ZnVuY3Rpb24gQSgpe3ZhciBiPWEoIi4iK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyksYz1wYXJzZUZsb2F0KGIuY3NzKCJwYWRkaW5nLXRvcCIpKSxkPXBhcnNlRmxvYXQoYi5jc3MoInBhZGRpbmctYm90dG9tIikpLGU9cGFyc2VGbG9hdChiLmNzcygiYm9yZGVyLXRvcC13aWR0aCIpKSxmPXBhcnNlRmxvYXQoYi5jc3MoImJvcmRlci1ib3R0b20td2lkdGgiKSk7Yi5jc3MoIm1pbi1oZWlnaHQiLHMoKS1jLWQtZS1mKX1mdW5jdGlvbiBCKGIsYyl7YyYmYi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInJvbGUiLGMpLGIucGFnZSgpfWZ1bmN0aW9uIEMoYSl7d2hpbGUoYSl7aWYodHlwZW9mIGEubm9kZU5hbWU9PSJzdHJpbmciJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0iYSIpYnJlYWs7YT1hLnBhcmVudE5vZGV9cmV0dXJuIGF9ZnVuY3Rpb24gRChiKXt2YXIgYz1hKGIpLmNsb3Nlc3QoIi51aS1wYWdlIikuanFtRGF0YSgidXJsIiksZD1xLmhyZWZOb0hhc2g7aWYoIWN8fCFoLmlzUGF0aChjKSljPWQ7cmV0dXJuIGgubWFrZVVybEFic29sdXRlKGMsZCl9dmFyIGU9YShiKSxmPWEoImh0bWwiKSxnPWEoImhlYWQiKSxoPXt1cmxQYXJzZVJFOi9eKCgoKFteOlwvI1w/XSs6KT8oPzooXC9cLykoKD86KChbXjpAXC8jXD9dKykoPzpcOihbXjpAXC8jXD9dKykpPylAKT8oKFteOlwvI1w/XF1cW10rfFxbW15cL1xdQCM/XStcXSkoPzpcOihbMC05XSspKT8pKT8pPyk/KChcLz8oPzpbXlwvXD8jXStcLyspKikoW15cPyNdKikpKT8oXD9bXiNdKyk/KSgjLiopPy8sZ2V0TG9jYXRpb246ZnVuY3Rpb24oYSl7dmFyIGI9YT90aGlzLnBhcnNlVXJsKGEpOmxvY2F0aW9uLGM9dGhpcy5wYXJzZVVybChhfHxsb2NhdGlvbi5ocmVmKS5oYXNoO3JldHVybiBjPWM9PT0iIyI/IiI6YyxiLnByb3RvY29sKyIvLyIrYi5ob3N0K2IucGF0aG5hbWUrYi5zZWFyY2grY30scGFyc2VMb2NhdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcnNlVXJsKHRoaXMuZ2V0TG9jYXRpb24oKSl9LHBhcnNlVXJsOmZ1bmN0aW9uKGIpe2lmKGEudHlwZShiKT09PSJvYmplY3QiKXJldHVybiBiO3ZhciBjPWgudXJsUGFyc2VSRS5leGVjKGJ8fCIiKXx8W107cmV0dXJue2hyZWY6Y1swXXx8IiIsaHJlZk5vSGFzaDpjWzFdfHwiIixocmVmTm9TZWFyY2g6Y1syXXx8IiIsZG9tYWluOmNbM118fCIiLHByb3RvY29sOmNbNF18fCIiLGRvdWJsZVNsYXNoOmNbNV18fCIiLGF1dGhvcml0eTpjWzZdfHwiIix1c2VybmFtZTpjWzhdfHwiIixwYXNzd29yZDpjWzldfHwiIixob3N0OmNbMTBdfHwiIixob3N0bmFtZTpjWzExXXx8IiIscG9ydDpjWzEyXXx8IiIscGF0aG5hbWU6Y1sxM118fCIiLGRpcmVjdG9yeTpjWzE0XXx8IiIsZmlsZW5hbWU6Y1sxNV18fCIiLHNlYXJjaDpjWzE2XXx8IiIsaGFzaDpjWzE3XXx8IiJ9fSxtYWtlUGF0aEFic29sdXRlOmZ1bmN0aW9uKGEsYil7aWYoYSYmYS5jaGFyQXQoMCk9PT0iLyIpcmV0dXJuIGE7YT1hfHwiIixiPWI/Yi5yZXBsYWNlKC9eXC98KFwvW15cL10qfFteXC9dKykkL2csIiIpOiIiO3ZhciBjPWI/Yi5zcGxpdCgiLyIpOltdLGQ9YS5zcGxpdCgiLyIpO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdO3N3aXRjaChmKXtjYXNlIi4iOmJyZWFrO2Nhc2UiLi4iOmMubGVuZ3RoJiZjLnBvcCgpO2JyZWFrO2RlZmF1bHQ6Yy5wdXNoKGYpfX1yZXR1cm4iLyIrYy5qb2luKCIvIil9LGlzU2FtZURvbWFpbjpmdW5jdGlvbihhLGIpe3JldHVybiBoLnBhcnNlVXJsKGEpLmRvbWFpbj09PWgucGFyc2VVcmwoYikuZG9tYWlufSxpc1JlbGF0aXZlVXJsOmZ1bmN0aW9uKGEpe3JldHVybiBoLnBhcnNlVXJsKGEpLnByb3RvY29sPT09IiJ9LGlzQWJzb2x1dGVVcmw6ZnVuY3Rpb24oYSl7cmV0dXJuIGgucGFyc2VVcmwoYSkucHJvdG9jb2whPT0iIn0sbWFrZVVybEFic29sdXRlOmZ1bmN0aW9uKGEsYil7aWYoIWguaXNSZWxhdGl2ZVVybChhKSlyZXR1cm4gYTtiPT09ZCYmKGI9cSk7dmFyIGM9aC5wYXJzZVVybChhKSxlPWgucGFyc2VVcmwoYiksZj1jLnByb3RvY29sfHxlLnByb3RvY29sLGc9Yy5wcm90b2NvbD9jLmRvdWJsZVNsYXNoOmMuZG91YmxlU2xhc2h8fGUuZG91YmxlU2xhc2gsaT1jLmF1dGhvcml0eXx8ZS5hdXRob3JpdHksaj1jLnBhdGhuYW1lIT09IiIsaz1oLm1ha2VQYXRoQWJzb2x1dGUoYy5wYXRobmFtZXx8ZS5maWxlbmFtZSxlLnBhdGhuYW1lKSxsPWMuc2VhcmNofHwhaiYmZS5zZWFyY2h8fCIiLG09Yy5oYXNoO3JldHVybiBmK2craStrK2wrbX0sYWRkU2VhcmNoUGFyYW1zOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9aC5wYXJzZVVybChiKSxlPXR5cGVvZiBjPT0ib2JqZWN0Ij9hLnBhcmFtKGMpOmMsZj1kLnNlYXJjaHx8Ij8iO3JldHVybiBkLmhyZWZOb1NlYXJjaCtmKyhmLmNoYXJBdChmLmxlbmd0aC0xKSE9PSI/Ij8iJiI6IiIpK2UrKGQuaGFzaHx8IiIpfSxjb252ZXJ0VXJsVG9EYXRhVXJsOmZ1bmN0aW9uKGEpe3ZhciBjPWgucGFyc2VVcmwoYSk7cmV0dXJuIGguaXNFbWJlZGRlZFBhZ2UoYyk/Yy5oYXNoLnNwbGl0KG4pWzBdLnJlcGxhY2UoL14jLywiIik6aC5pc1NhbWVEb21haW4oYyxxKT9jLmhyZWZOb0hhc2gucmVwbGFjZShxLmRvbWFpbiwiIikuc3BsaXQobilbMF06Yi5kZWNvZGVVUklDb21wb25lbnQoYSl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PWQmJihhPWgucGFyc2VMb2NhdGlvbigpLmhhc2gpLGguc3RyaXBIYXNoKGEpLnJlcGxhY2UoL1teXC9dKlwuW15cLypdKyQvLCIiKX0sZ2V0RmlsZVBhdGg6ZnVuY3Rpb24oYil7dmFyIGM9IiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXk7cmV0dXJuIGImJmIuc3BsaXQoYylbMF0uc3BsaXQobilbMF19LHNldDpmdW5jdGlvbihhKXtsb2NhdGlvbi5oYXNoPWF9LGlzUGF0aDpmdW5jdGlvbihhKXtyZXR1cm4vXC8vLnRlc3QoYSl9LGNsZWFuOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UocS5kb21haW4sIiIpfSxzdHJpcEhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXiMvLCIiKX0sY2xlYW5IYXNoOmZ1bmN0aW9uKGEpe3JldHVybiBoLnN0cmlwSGFzaChhLnJlcGxhY2UoL1w/LiokLywiIikucmVwbGFjZShuLCIiKSl9LGlzSGFzaFZhbGlkOmZ1bmN0aW9uKGEpe3JldHVybi9eI1teI10rJC8udGVzdChhKX0saXNFeHRlcm5hbDpmdW5jdGlvbihhKXt2YXIgYj1oLnBhcnNlVXJsKGEpO3JldHVybiBiLnByb3RvY29sJiZiLmRvbWFpbiE9PXAuZG9tYWluPyEwOiExfSxoYXNQcm90b2NvbDpmdW5jdGlvbihhKXtyZXR1cm4vXig6P1x3KzopLy50ZXN0KGEpfSxpc0ZpcnN0UGFnZVVybDpmdW5jdGlvbihiKXt2YXIgYz1oLnBhcnNlVXJsKGgubWFrZVVybEFic29sdXRlKGIscSkpLGU9Yy5ocmVmTm9IYXNoPT09cC5ocmVmTm9IYXNofHxyJiZjLmhyZWZOb0hhc2g9PT1xLmhyZWZOb0hhc2gsZj1hLm1vYmlsZS5maXJzdFBhZ2UsZz1mJiZmWzBdP2ZbMF0uaWQ6ZDtyZXR1cm4gZSYmKCFjLmhhc2h8fGMuaGFzaD09PSIjInx8ZyYmYy5oYXNoLnJlcGxhY2UoL14jLywiIik9PT1nKX0saXNFbWJlZGRlZFBhZ2U6ZnVuY3Rpb24oYSl7dmFyIGI9aC5wYXJzZVVybChhKTtyZXR1cm4gYi5wcm90b2NvbCE9PSIiP2IuaGFzaCYmKGIuaHJlZk5vSGFzaD09PXAuaHJlZk5vSGFzaHx8ciYmYi5ocmVmTm9IYXNoPT09cS5ocmVmTm9IYXNoKTovXiMvLnRlc3QoYi5ocmVmKX0saXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3Q6ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzJiZiLnByb3RvY29sPT09ImZpbGU6IiYmYy5zZWFyY2goL15odHRwcz86LykhPT0tMX19LGk9bnVsbCxqPXtzdGFjazpbXSxhY3RpdmVJbmRleDowLGdldEFjdGl2ZTpmdW5jdGlvbigpe3JldHVybiBqLnN0YWNrW2ouYWN0aXZlSW5kZXhdfSxnZXRQcmV2OmZ1bmN0aW9uKCl7cmV0dXJuIGouc3RhY2tbai5hY3RpdmVJbmRleC0xXX0sZ2V0TmV4dDpmdW5jdGlvbigpe3JldHVybiBqLnN0YWNrW2ouYWN0aXZlSW5kZXgrMV19LGFkZE5ldzpmdW5jdGlvbihhLGIsYyxkLGUpe2ouZ2V0TmV4dCgpJiZqLmNsZWFyRm9yd2FyZCgpLGouc3RhY2sucHVzaCh7dXJsOmEsdHJhbnNpdGlvbjpiLHRpdGxlOmMscGFnZVVybDpkLHJvbGU6ZX0pLGouYWN0aXZlSW5kZXg9ai5zdGFjay5sZW5ndGgtMX0sY2xlYXJGb3J3YXJkOmZ1bmN0aW9uKCl7ai5zdGFjaz1qLnN0YWNrLnNsaWNlKDAsai5hY3RpdmVJbmRleCsxKX0sZGlyZWN0SGFzaENoYW5nZTpmdW5jdGlvbihiKXt2YXIgYyxlLGYsZz10aGlzLmdldEFjdGl2ZSgpO2EuZWFjaChqLnN0YWNrLGZ1bmN0aW9uKGEsZCl7ZGVjb2RlVVJJQ29tcG9uZW50KGIuY3VycmVudFVybCk9PT1kZWNvZGVVUklDb21wb25lbnQoZC51cmwpJiYoYz1hPGouYWN0aXZlSW5kZXgsZT0hYyxmPWEpfSksdGhpcy5hY3RpdmVJbmRleD1mIT09ZD9mOnRoaXMuYWN0aXZlSW5kZXgsYz8oYi5laXRoZXJ8fGIuaXNCYWNrKSghMCk6ZSYmKGIuZWl0aGVyfHxiLmlzRm9yd2FyZCkoITEpfSxpZ25vcmVOZXh0SGFzaENoYW5nZTohMX0saz0iW3RhYmluZGV4XSxhLGJ1dHRvbjp2aXNpYmxlLHNlbGVjdDp2aXNpYmxlLGlucHV0IixsPVtdLG09ITEsbj0iJnVpLXN0YXRlPWRpYWxvZyIsbz1nLmNoaWxkcmVuKCJiYXNlIikscD1oLnBhcnNlTG9jYXRpb24oKSxxPW8ubGVuZ3RoP2gucGFyc2VVcmwoaC5tYWtlVXJsQWJzb2x1dGUoby5hdHRyKCJocmVmIikscC5ocmVmKSk6cCxyPXAuaHJlZk5vSGFzaCE9PXEuaHJlZk5vSGFzaCxzPWEubW9iaWxlLmdldFNjcmVlbkhlaWdodCx0PWEuc3VwcG9ydC5keW5hbWljQmFzZVRhZz97ZWxlbWVudDpvLmxlbmd0aD9vOmEoIjxiYXNlPiIse2hyZWY6cS5ocmVmTm9IYXNofSkucHJlcGVuZFRvKGcpLHNldDpmdW5jdGlvbihhKXt0LmVsZW1lbnQuYXR0cigiaHJlZiIsaC5tYWtlVXJsQWJzb2x1dGUoYSxxKSl9LHJlc2V0OmZ1bmN0aW9uKCl7dC5lbGVtZW50LmF0dHIoImhyZWYiLHEuaHJlZk5vSGFzaCl9fTpkO2EubW9iaWxlLmJhY2s9ZnVuY3Rpb24oKXt2YXIgYT1iLm5hdmlnYXRvcjt0aGlzLnBob25lZ2FwTmF2aWdhdGlvbkVuYWJsZWQmJmEmJmEuYXBwJiZhLmFwcC5iYWNrSGlzdG9yeT9hLmFwcC5iYWNrSGlzdG9yeSgpOmIuaGlzdG9yeS5iYWNrKCl9LGEubW9iaWxlLmZvY3VzUGFnZT1mdW5jdGlvbihhKXt2YXIgYj1hLmZpbmQoIlthdXRvZm9jdXNdIiksYz1hLmZpbmQoIi51aS10aXRsZTplcSgwKSIpO2lmKGIubGVuZ3RoKXtiLmZvY3VzKCk7cmV0dXJufWMubGVuZ3RoP2MuZm9jdXMoKTphLmZvY3VzKCl9O3ZhciB3PSEwLHgseTt4PWZ1bmN0aW9uKCl7aWYoIXcpcmV0dXJuO3ZhciBiPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCk7aWYoYil7dmFyIGM9ZS5zY3JvbGxUb3AoKTtiLmxhc3RTY3JvbGw9YzxhLm1vYmlsZS5taW5TY3JvbGxCYWNrP2EubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsOmN9fSx5PWZ1bmN0aW9uKCl7c2V0VGltZW91dCh4LDEwMCl9LGUuYmluZChhLnN1cHBvcnQucHVzaFN0YXRlPyJwb3BzdGF0ZSI6Imhhc2hjaGFuZ2UiLGZ1bmN0aW9uKCl7dz0hMX0pLGUub25lKGEuc3VwcG9ydC5wdXNoU3RhdGU/InBvcHN0YXRlIjoiaGFzaGNoYW5nZSIsZnVuY3Rpb24oKXt3PSEwfSksZS5vbmUoInBhZ2Vjb250YWluZXJjcmVhdGUiLGZ1bmN0aW9uKCl7YS5tb2JpbGUucGFnZUNvbnRhaW5lci5iaW5kKCJwYWdlY2hhbmdlIixmdW5jdGlvbigpe3c9ITAsZS51bmJpbmQoInNjcm9sbHN0b3AiLHkpLGUuYmluZCgic2Nyb2xsc3RvcCIseSl9KX0pLGUuYmluZCgic2Nyb2xsc3RvcCIseSksYS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb249YS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb258fGZ1bmN0aW9uKGEpe3JldHVybiBhfSxhLmZuLmFuaW1hdGlvbkNvbXBsZXRlPWZ1bmN0aW9uKGIpe3JldHVybiBhLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnM/YSh0aGlzKS5vbmUoIndlYmtpdEFuaW1hdGlvbkVuZCBhbmltYXRpb25lbmQiLGIpOihzZXRUaW1lb3V0KGIsMCksYSh0aGlzKSl9LGEubW9iaWxlLnBhdGg9aCxhLm1vYmlsZS5iYXNlPXQsYS5tb2JpbGUudXJsSGlzdG9yeT1qLGEubW9iaWxlLmRpYWxvZ0hhc2hLZXk9bixhLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXM9ITEsYS5tb2JpbGUuZ2V0RG9jdW1lbnRVcmw9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30scCk6cC5ocmVmfSxhLm1vYmlsZS5nZXREb2N1bWVudEJhc2U9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30scSk6cS5ocmVmfSxhLm1vYmlsZS5fYmluZFBhZ2VSZW1vdmU9ZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpOyFiLmRhdGEoInBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlJiZiLmlzKCI6anFtRGF0YShleHRlcm5hbC1wYWdlPSd0cnVlJykiKSYmYi5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiLGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxjPW5ldyBhLkV2ZW50KCJwYWdlcmVtb3ZlIik7Yi50cmlnZ2VyKGMpLGMuaXNEZWZhdWx0UHJldmVudGVkKCl8fGIucmVtb3ZlV2l0aERlcGVuZGVudHMoKX0pfSxhLm1vYmlsZS5sb2FkUGFnZT1mdW5jdGlvbihiLGMpe3ZhciBlPWEuRGVmZXJyZWQoKSxmPWEuZXh0ZW5kKHt9LGEubW9iaWxlLmxvYWRQYWdlLmRlZmF1bHRzLGMpLGc9bnVsbCxpPW51bGwsaj1mdW5jdGlvbigpe3ZhciBiPWEubW9iaWxlLmFjdGl2ZVBhZ2UmJkQoYS5tb2JpbGUuYWN0aXZlUGFnZSk7cmV0dXJuIGJ8fHEuaHJlZk5vSGFzaH0saz1oLm1ha2VVcmxBYnNvbHV0ZShiLGooKSk7Zi5kYXRhJiZmLnR5cGU9PT0iZ2V0IiYmKGs9aC5hZGRTZWFyY2hQYXJhbXMoayxmLmRhdGEpLGYuZGF0YT1kKSxmLmRhdGEmJmYudHlwZT09PSJwb3N0IiYmKGYucmVsb2FkUGFnZT0hMCk7dmFyIGw9aC5nZXRGaWxlUGF0aChrKSxtPWguY29udmVydFVybFRvRGF0YVVybChrKTtmLnBhZ2VDb250YWluZXI9Zi5wYWdlQ29udGFpbmVyfHxhLm1vYmlsZS5wYWdlQ29udGFpbmVyLGc9Zi5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCJbZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmw9JyIrbSsiJ10iKSxnLmxlbmd0aD09PTAmJm0mJiFoLmlzUGF0aChtKSYmKGc9Zi5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCIjIittKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIsbSkuanFtRGF0YSgidXJsIixtKSk7aWYoZy5sZW5ndGg9PT0wKWlmKGEubW9iaWxlLmZpcnN0UGFnZSYmaC5pc0ZpcnN0UGFnZVVybChsKSlhLm1vYmlsZS5maXJzdFBhZ2UucGFyZW50KCkubGVuZ3RoJiYoZz1hKGEubW9iaWxlLmZpcnN0UGFnZSkpO2Vsc2UgaWYoaC5pc0VtYmVkZGVkUGFnZShsKSlyZXR1cm4gZS5yZWplY3QoayxjKSxlLnByb21pc2UoKTtpZihnLmxlbmd0aCl7aWYoIWYucmVsb2FkUGFnZSlyZXR1cm4gQihnLGYucm9sZSksZS5yZXNvbHZlKGssYyxnKSxlLnByb21pc2UoKTtpPWd9dmFyIG49Zi5wYWdlQ29udGFpbmVyLG89bmV3IGEuRXZlbnQoInBhZ2ViZWZvcmVsb2FkIikscj17dXJsOmIsYWJzVXJsOmssZGF0YVVybDptLGRlZmVycmVkOmUsb3B0aW9uczpmfTtuLnRyaWdnZXIobyxyKTtpZihvLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybiBlLnByb21pc2UoKTtpZihmLnNob3dMb2FkTXNnKXZhciBzPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coKX0sZi5sb2FkTXNnRGVsYXkpLHU9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQocyksYS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnKCl9O3JldHVybiB0JiZ0LnJlc2V0KCksIWEubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmIWguaXNTYW1lRG9tYWluKHAsayk/ZS5yZWplY3QoayxjKTphLmFqYXgoe3VybDpsLHR5cGU6Zi50eXBlLGRhdGE6Zi5kYXRhLGRhdGFUeXBlOiJodG1sIixzdWNjZXNzOmZ1bmN0aW9uKGQsaixuKXt2YXIgbz1hKCI8ZGl2PjwvZGl2PiIpLHA9ZC5tYXRjaCgvPHRpdGxlW14+XSo+KFtePF0qKS8pJiZSZWdFeHAuJDEscT1uZXcgUmVnRXhwKCIoPFtePl0rXFxiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPVtcIiddP3BhZ2VbXCInXT9bXj5dKj4pIikscz1uZXcgUmVnRXhwKCJcXGJkYXRhLSIrYS5tb2JpbGUubnMrInVybD1bXCInXT8oW15cIic+XSopW1wiJ10/Iik7cS50ZXN0KGQpJiZSZWdFeHAuJDEmJnMudGVzdChSZWdFeHAuJDEpJiZSZWdFeHAuJDEmJihiPWw9aC5nZXRGaWxlUGF0aChhKCI8ZGl2PiIrUmVnRXhwLiQxKyI8L2Rpdj4iKS50ZXh0KCkpKSx0JiZ0LnNldChsKSxvLmdldCgwKS5pbm5lckhUTUw9ZCxnPW8uZmluZCgiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpcnN0KCksZy5sZW5ndGh8fChnPWEoIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdwYWdlJz4iK2Quc3BsaXQoLzxcLz9ib2R5W14+XSo+L2dtaSlbMV0rIjwvZGl2PiIpKSxwJiYhZy5qcW1EYXRhKCJ0aXRsZSIpJiYofnAuaW5kZXhPZigiJiIpJiYocD1hKCI8ZGl2PiIrcCsiPC9kaXY+IikudGV4dCgpKSxnLmpxbURhdGEoInRpdGxlIixwKSk7aWYoIWEuc3VwcG9ydC5keW5hbWljQmFzZVRhZyl7dmFyIHY9aC5nZXQobCk7Zy5maW5kKCJbc3JjXSwgbGlua1tocmVmXSwgYVtyZWw9J2V4dGVybmFsJ10sIDpqcW1EYXRhKGFqYXg9J2ZhbHNlJyksIGFbdGFyZ2V0XSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLmlzKCJbaHJlZl0iKT8iaHJlZiI6YSh0aGlzKS5pcygiW3NyY10iKT8ic3JjIjoiYWN0aW9uIixjPWEodGhpcykuYXR0cihiKTtjPWMucmVwbGFjZShsb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUsIiIpLC9eKFx3Kzp8I3xcLykvLnRlc3QoYyl8fGEodGhpcykuYXR0cihiLHYrYyl9KX1nLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidXJsIixoLmNvbnZlcnRVcmxUb0RhdGFVcmwobCkpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiZXh0ZXJuYWwtcGFnZSIsITApLmFwcGVuZFRvKGYucGFnZUNvbnRhaW5lciksZy5vbmUoInBhZ2VjcmVhdGUiLGEubW9iaWxlLl9iaW5kUGFnZVJlbW92ZSksQihnLGYucm9sZSksay5pbmRleE9mKCImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KT4tMSYmKGc9Zi5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCJbZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmw9JyIrbSsiJ10iKSksZi5zaG93TG9hZE1zZyYmdSgpLHIueGhyPW4sci50ZXh0U3RhdHVzPWosci5wYWdlPWcsZi5wYWdlQ29udGFpbmVyLnRyaWdnZXIoInBhZ2Vsb2FkIixyKSxlLnJlc29sdmUoayxjLGcsaSl9LGVycm9yOmZ1bmN0aW9uKGIsZCxnKXt0JiZ0LnNldChoLmdldCgpKSxyLnhocj1iLHIudGV4dFN0YXR1cz1kLHIuZXJyb3JUaHJvd249Zzt2YXIgaT1uZXcgYS5FdmVudCgicGFnZWxvYWRmYWlsZWQiKTtmLnBhZ2VDb250YWluZXIudHJpZ2dlcihpLHIpO2lmKGkuaXNEZWZhdWx0UHJldmVudGVkKCkpcmV0dXJuO2Yuc2hvd0xvYWRNc2cmJih1KCksYS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKGEubW9iaWxlLnBhZ2VMb2FkRXJyb3JNZXNzYWdlVGhlbWUsYS5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2UsITApLHNldFRpbWVvdXQoYS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnLDE1MDApKSxlLnJlamVjdChrLGMpfX0pLGUucHJvbWlzZSgpfSxhLm1vYmlsZS5sb2FkUGFnZS5kZWZhdWx0cz17dHlwZToiZ2V0IixkYXRhOmQscmVsb2FkUGFnZTohMSxyb2xlOmQsc2hvd0xvYWRNc2c6ITEscGFnZUNvbnRhaW5lcjpkLGxvYWRNc2dEZWxheTo1MH0sYS5tb2JpbGUuY2hhbmdlUGFnZT1mdW5jdGlvbihiLGUpe2lmKG0pe2wudW5zaGlmdChhcmd1bWVudHMpO3JldHVybn12YXIgZj1hLmV4dGVuZCh7fSxhLm1vYmlsZS5jaGFuZ2VQYWdlLmRlZmF1bHRzLGUpO2YucGFnZUNvbnRhaW5lcj1mLnBhZ2VDb250YWluZXJ8fGEubW9iaWxlLnBhZ2VDb250YWluZXIsZi5mcm9tUGFnZT1mLmZyb21QYWdlfHxhLm1vYmlsZS5hY3RpdmVQYWdlO3ZhciBnPWYucGFnZUNvbnRhaW5lcixpPW5ldyBhLkV2ZW50KCJwYWdlYmVmb3JlY2hhbmdlIiksaz17dG9QYWdlOmIsb3B0aW9uczpmfTtnLnRyaWdnZXIoaSxrKTtpZihpLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybjtiPWsudG9QYWdlLG09ITA7aWYodHlwZW9mIGI9PSJzdHJpbmciKXthLm1vYmlsZS5sb2FkUGFnZShiLGYpLmRvbmUoZnVuY3Rpb24oYixjLGQsZSl7bT0hMSxjLmR1cGxpY2F0ZUNhY2hlZFBhZ2U9ZSxhLm1vYmlsZS5jaGFuZ2VQYWdlKGQsYyl9KS5mYWlsKGZ1bmN0aW9uKGEsYil7bT0hMSx1KCEwKSx2KCksZi5wYWdlQ29udGFpbmVyLnRyaWdnZXIoInBhZ2VjaGFuZ2VmYWlsZWQiLGspfSk7cmV0dXJufWJbMF09PT1hLm1vYmlsZS5maXJzdFBhZ2VbMF0mJiFmLmRhdGFVcmwmJihmLmRhdGFVcmw9cC5ocmVmTm9IYXNoKTt2YXIgbz1mLmZyb21QYWdlLHE9Zi5kYXRhVXJsJiZoLmNvbnZlcnRVcmxUb0RhdGFVcmwoZi5kYXRhVXJsKXx8Yi5qcW1EYXRhKCJ1cmwiKSxyPXEscz1oLmdldEZpbGVQYXRoKHEpLHQ9ai5nZXRBY3RpdmUoKSx3PWouYWN0aXZlSW5kZXg9PT0wLHg9MCx5PWMudGl0bGUsQT1mLnJvbGU9PT0iZGlhbG9nInx8Yi5qcW1EYXRhKCJyb2xlIik9PT0iZGlhbG9nIjtpZihvJiZvWzBdPT09YlswXSYmIWYuYWxsb3dTYW1lUGFnZVRyYW5zaXRpb24pe209ITEsZy50cmlnZ2VyKCJwYWdlY2hhbmdlIixrKSxmLmZyb21IYXNoQ2hhbmdlJiZqLmRpcmVjdEhhc2hDaGFuZ2Uoe2N1cnJlbnRVcmw6cSxpc0JhY2s6ZnVuY3Rpb24oKXt9LGlzRm9yd2FyZDpmdW5jdGlvbigpe319KTtyZXR1cm59QihiLGYucm9sZSksZi5mcm9tSGFzaENoYW5nZSYmai5kaXJlY3RIYXNoQ2hhbmdlKHtjdXJyZW50VXJsOnEsaXNCYWNrOmZ1bmN0aW9uKCl7eD0tMX0saXNGb3J3YXJkOmZ1bmN0aW9uKCl7eD0xfX0pO3RyeXtjLmFjdGl2ZUVsZW1lbnQmJmMuYWN0aXZlRWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09ImJvZHkiP2EoYy5hY3RpdmVFbGVtZW50KS5ibHVyKCk6YSgiaW5wdXQ6Zm9jdXMsIHRleHRhcmVhOmZvY3VzLCBzZWxlY3Q6Zm9jdXMiKS5ibHVyKCl9Y2F0Y2goQyl7fXZhciBEPSExO0EmJnQmJih0LnVybC5pbmRleE9mKG4pPi0xJiYhYS5tb2JpbGUuYWN0aXZlUGFnZS5pcygiLnVpLWRpYWxvZyIpJiYoZi5jaGFuZ2VIYXNoPSExLEQ9ITApLHE9KHQudXJsfHwiIikrKEQ/IiI6biksai5hY3RpdmVJbmRleD09PTAmJnE9PT1qLmluaXRpYWxEc3QmJihxKz1uKSksZi5jaGFuZ2VIYXNoIT09ITEmJnEmJihqLmlnbm9yZU5leHRIYXNoQ2hhbmdlPSEwLGguc2V0KHEpKTt2YXIgRT10P2IuanFtRGF0YSgidGl0bGUiKXx8Yi5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKS5maW5kKCIudWktdGl0bGUiKS5nZXRFbmNvZGVkVGV4dCgpOnk7ISFFJiZ5PT09Yy50aXRsZSYmKHk9RSksYi5qcW1EYXRhKCJ0aXRsZSIpfHxiLmpxbURhdGEoInRpdGxlIix5KSxmLnRyYW5zaXRpb249Zi50cmFuc2l0aW9ufHwoeCYmIXc/dC50cmFuc2l0aW9uOmQpfHwoQT9hLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbjphLm1vYmlsZS5kZWZhdWx0UGFnZVRyYW5zaXRpb24pLHh8fChEJiYoai5hY3RpdmVJbmRleD1NYXRoLm1heCgwLGouYWN0aXZlSW5kZXgtMSkpLGouYWRkTmV3KHEsZi50cmFuc2l0aW9uLHkscixmLnJvbGUpKSxjLnRpdGxlPWouZ2V0QWN0aXZlKCkudGl0bGUsYS5tb2JpbGUuYWN0aXZlUGFnZT1iLGYucmV2ZXJzZT1mLnJldmVyc2V8fHg8MCx6KGIsbyxmLnRyYW5zaXRpb24sZi5yZXZlcnNlKS5kb25lKGZ1bmN0aW9uKGMsZCxlLGgsaSl7dSgpLGYuZHVwbGljYXRlQ2FjaGVkUGFnZSYmZi5kdXBsaWNhdGVDYWNoZWRQYWdlLnJlbW92ZSgpLGl8fGEubW9iaWxlLmZvY3VzUGFnZShiKSx2KCksZy50cmlnZ2VyKCJwYWdlY2hhbmdlIixrKX0pfSxhLm1vYmlsZS5jaGFuZ2VQYWdlLmRlZmF1bHRzPXt0cmFuc2l0aW9uOmQscmV2ZXJzZTohMSxjaGFuZ2VIYXNoOiEwLGZyb21IYXNoQ2hhbmdlOiExLHJvbGU6ZCxkdXBsaWNhdGVDYWNoZWRQYWdlOmQscGFnZUNvbnRhaW5lcjpkLHNob3dMb2FkTXNnOiEwLGRhdGFVcmw6ZCxmcm9tUGFnZTpkLGFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uOiExfSxhLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkPWEuRGVmZXJyZWQoKSxhLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkLmRvbmUoZnVuY3Rpb24oKXthKGMpLmRlbGVnYXRlKCJmb3JtIiwic3VibWl0IixmdW5jdGlvbihiKXt2YXIgYz1hKHRoaXMpO2lmKCFhLm1vYmlsZS5hamF4RW5hYmxlZHx8Yy5pcygiOmpxbURhdGEoYWpheD0nZmFsc2UnKSIpfHwhYy5qcW1IaWphY2thYmxlKCkubGVuZ3RoKXJldHVybjt2YXIgZD1jLmF0dHIoIm1ldGhvZCIpLGU9Yy5hdHRyKCJ0YXJnZXQiKSxmPWMuYXR0cigiYWN0aW9uIik7Znx8KGY9RChjKSxmPT09cS5ocmVmTm9IYXNoJiYoZj1wLmhyZWZOb1NlYXJjaCkpLGY9aC5tYWtlVXJsQWJzb2x1dGUoZixEKGMpKTtpZihoLmlzRXh0ZXJuYWwoZikmJiFoLmlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0KHAsZil8fGUpcmV0dXJuO2EubW9iaWxlLmNoYW5nZVBhZ2UoZix7dHlwZTpkJiZkLmxlbmd0aCYmZC50b0xvd2VyQ2FzZSgpfHwiZ2V0IixkYXRhOmMuc2VyaWFsaXplKCksdHJhbnNpdGlvbjpjLmpxbURhdGEoInRyYW5zaXRpb24iKSxyZXZlcnNlOmMuanFtRGF0YSgiZGlyZWN0aW9uIik9PT0icmV2ZXJzZSIscmVsb2FkUGFnZTohMH0pLGIucHJldmVudERlZmF1bHQoKX0pLGEoYykuYmluZCgidmNsaWNrIixmdW5jdGlvbihiKXtpZihiLndoaWNoPjF8fCFhLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQpcmV0dXJuO3ZhciBjPUMoYi50YXJnZXQpO2lmKCFhKGMpLmpxbUhpamFja2FibGUoKS5sZW5ndGgpcmV0dXJuO2MmJmgucGFyc2VVcmwoYy5nZXRBdHRyaWJ1dGUoImhyZWYiKXx8IiMiKS5oYXNoIT09IiMiJiYodSghMCksaT1hKGMpLmNsb3Nlc3QoIi51aS1idG4iKS5ub3QoIi51aS1kaXNhYmxlZCIpLGkuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpKX0pLGEoYykuYmluZCgiY2xpY2siLGZ1bmN0aW9uKGMpe2lmKCFhLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQpcmV0dXJuO3ZhciBlPUMoYy50YXJnZXQpLGY9YShlKSxnO2lmKCFlfHxjLndoaWNoPjF8fCFmLmpxbUhpamFja2FibGUoKS5sZW5ndGgpcmV0dXJuO2c9ZnVuY3Rpb24oKXtiLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt1KCEwKX0sMjAwKX07aWYoZi5pcygiOmpxbURhdGEocmVsPSdiYWNrJykiKSlyZXR1cm4gYS5tb2JpbGUuYmFjaygpLCExO3ZhciBpPUQoZiksaj1oLm1ha2VVcmxBYnNvbHV0ZShmLmF0dHIoImhyZWYiKXx8IiMiLGkpO2lmKCFhLm1vYmlsZS5hamF4RW5hYmxlZCYmIWguaXNFbWJlZGRlZFBhZ2Uoaikpe2coKTtyZXR1cm59aWYoai5zZWFyY2goIiMiKSE9PS0xKXtqPWoucmVwbGFjZSgvW14jXSojLywiIik7aWYoIWope2MucHJldmVudERlZmF1bHQoKTtyZXR1cm59aC5pc1BhdGgoaik/aj1oLm1ha2VVcmxBYnNvbHV0ZShqLGkpOmo9aC5tYWtlVXJsQWJzb2x1dGUoIiMiK2oscC5ocmVmTm9IYXNoKX12YXIgaz1mLmlzKCJbcmVsPSdleHRlcm5hbCddIil8fGYuaXMoIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiKXx8Zi5pcygiW3RhcmdldF0iKSxsPWt8fGguaXNFeHRlcm5hbChqKSYmIWguaXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3QocCxqKTtpZihsKXtnKCk7cmV0dXJufXZhciBtPWYuanFtRGF0YSgidHJhbnNpdGlvbiIpLG49Zi5qcW1EYXRhKCJkaXJlY3Rpb24iKT09PSJyZXZlcnNlInx8Zi5qcW1EYXRhKCJiYWNrIiksbz1mLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicmVsIil8fGQ7YS5tb2JpbGUuY2hhbmdlUGFnZShqLHt0cmFuc2l0aW9uOm0scmV2ZXJzZTpuLHJvbGU6byxsaW5rOmZ9KSxjLnByZXZlbnREZWZhdWx0KCl9KSxhKGMpLmRlbGVnYXRlKCIudWktcGFnZSIsInBhZ2VzaG93LnByZWZldGNoIixmdW5jdGlvbigpe3ZhciBiPVtdO2EodGhpcykuZmluZCgiYTpqcW1EYXRhKHByZWZldGNoKSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGQ9Yy5hdHRyKCJocmVmIik7ZCYmYS5pbkFycmF5KGQsYik9PT0tMSYmKGIucHVzaChkKSxhLm1vYmlsZS5sb2FkUGFnZShkLHtyb2xlOmMuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyZWwiKX0pKX0pfSksYS5tb2JpbGUuX2hhbmRsZUhhc2hDaGFuZ2U9ZnVuY3Rpb24oYyl7dmFyIGU9aC5zdHJpcEhhc2goYyksZj1hLm1vYmlsZS51cmxIaXN0b3J5LnN0YWNrLmxlbmd0aD09PTA/Im5vbmUiOmQsZz1uZXcgYS5FdmVudCgibmF2aWdhdGUiKSxpPXt0cmFuc2l0aW9uOmYsY2hhbmdlSGFzaDohMSxmcm9tSGFzaENoYW5nZTohMH07MD09PWouc3RhY2subGVuZ3RoJiYoai5pbml0aWFsRHN0PWUpLGEubW9iaWxlLnBhZ2VDb250YWluZXIudHJpZ2dlcihnKTtpZihnLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybjtpZighYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWR8fGouaWdub3JlTmV4dEhhc2hDaGFuZ2Upe2ouaWdub3JlTmV4dEhhc2hDaGFuZ2U9ITE7cmV0dXJufWlmKGouc3RhY2subGVuZ3RoPjEmJmUuaW5kZXhPZihuKT4tMSYmai5pbml0aWFsRHN0IT09ZSl7aWYoIWEubW9iaWxlLmFjdGl2ZVBhZ2UuaXMoIi51aS1kaWFsb2ciKSl7ai5kaXJlY3RIYXNoQ2hhbmdlKHtjdXJyZW50VXJsOmUsaXNCYWNrOmZ1bmN0aW9uKCl7YS5tb2JpbGUuYmFjaygpfSxpc0ZvcndhcmQ6ZnVuY3Rpb24oKXtiLmhpc3RvcnkuZm9yd2FyZCgpfX0pO3JldHVybn1qLmRpcmVjdEhhc2hDaGFuZ2Uoe2N1cnJlbnRVcmw6ZSxlaXRoZXI6ZnVuY3Rpb24oYil7dmFyIGM9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKTtlPWMucGFnZVVybCxhLmV4dGVuZChpLHtyb2xlOmMucm9sZSx0cmFuc2l0aW9uOmMudHJhbnNpdGlvbixyZXZlcnNlOmJ9KX19KX1lPyhlPXR5cGVvZiBlPT0ic3RyaW5nIiYmIWguaXNQYXRoKGUpP2gubWFrZVVybEFic29sdXRlKCIjIitlLHEpOmUsZT09PWgubWFrZVVybEFic29sdXRlKCIjIitqLmluaXRpYWxEc3QscSkmJmouc3RhY2subGVuZ3RoJiZqLnN0YWNrWzBdLnVybCE9PWouaW5pdGlhbERzdC5yZXBsYWNlKG4sIiIpJiYoZT1hLm1vYmlsZS5maXJzdFBhZ2UpLGEubW9iaWxlLmNoYW5nZVBhZ2UoZSxpKSk6YS5tb2JpbGUuY2hhbmdlUGFnZShhLm1vYmlsZS5maXJzdFBhZ2UsaSl9LGUuYmluZCgiaGFzaGNoYW5nZSIsZnVuY3Rpb24oYixjKXthLm1vYmlsZS5faGFuZGxlSGFzaENoYW5nZShoLnBhcnNlTG9jYXRpb24oKS5oYXNoKX0pLGEoYykuYmluZCgicGFnZXNob3ciLEEpLGEoYikuYmluZCgidGhyb3R0bGVkcmVzaXplIixBKX0pfShhKSxmdW5jdGlvbihhLGIpe3ZhciBlPXt9LGY9ZSxnPWEoYiksaD1hLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKSxpPWEuRGVmZXJyZWQoKSxqPWEuRGVmZXJyZWQoKTthKGMpLnJlYWR5KGEucHJveHkoaiwicmVzb2x2ZSIpKSxhKGMpLm9uZSgibW9iaWxlaW5pdCIsYS5wcm94eShpLCJyZXNvbHZlIikpLGEuZXh0ZW5kKGUse2luaXRpYWxGaWxlUGF0aDpmdW5jdGlvbigpe3JldHVybiBoLnBhdGhuYW1lK2guc2VhcmNofSgpLGhhc2hDaGFuZ2VUaW1lb3V0OjIwMCxoYXNoQ2hhbmdlRW5hYmxlVGltZXI6ZCxpbml0aWFsSHJlZjpoLmhyZWZOb0hhc2gsc3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm57aGFzaDphLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKS5oYXNofHwiIyIrZi5pbml0aWFsRmlsZVBhdGgsdGl0bGU6Yy50aXRsZSxpbml0aWFsSHJlZjpmLmluaXRpYWxIcmVmfX0scmVzZXRVSUtleXM6ZnVuY3Rpb24oYil7dmFyIGM9YS5tb2JpbGUuZGlhbG9nSGFzaEtleSxkPSImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5LGU9Yi5pbmRleE9mKGMpO3JldHVybiBlPi0xP2I9Yi5zbGljZSgwLGUpKyIjIitiLnNsaWNlKGUpOmIuaW5kZXhPZihkKT4tMSYmKGI9Yi5zcGxpdChkKS5qb2luKCIjIitkKSksYn0sbmV4dEhhc2hDaGFuZ2VQcmV2ZW50ZWQ6ZnVuY3Rpb24oYil7YS5tb2JpbGUudXJsSGlzdG9yeS5pZ25vcmVOZXh0SGFzaENoYW5nZT1iLGYub25IYXNoQ2hhbmdlRGlzYWJsZWQ9Yn0sb25IYXNoQ2hhbmdlOmZ1bmN0aW9uKGIpe2lmKGYub25IYXNoQ2hhbmdlRGlzYWJsZWQpcmV0dXJuO3ZhciBkLGUsZz1hLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKS5oYXNoLGg9YS5tb2JpbGUucGF0aC5pc1BhdGgoZyksaT1oP2EubW9iaWxlLnBhdGguZ2V0TG9jYXRpb24oKTphLm1vYmlsZS5nZXREb2N1bWVudFVybCgpO2c9aD9nLnJlcGxhY2UoIiMiLCIiKTpnLGU9Zi5zdGF0ZSgpLGQ9YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoZyxpKSxoJiYoZD1mLnJlc2V0VUlLZXlzKGQpKSxoaXN0b3J5LnJlcGxhY2VTdGF0ZShlLGMudGl0bGUsZCl9LG9uUG9wU3RhdGU6ZnVuY3Rpb24oYil7dmFyIGM9Yi5vcmlnaW5hbEV2ZW50LnN0YXRlLGQsZSxnO2MmJihjbGVhclRpbWVvdXQoZi5oYXNoQ2hhbmdlRW5hYmxlVGltZXIpLGYubmV4dEhhc2hDaGFuZ2VQcmV2ZW50ZWQoITEpLGEubW9iaWxlLl9oYW5kbGVIYXNoQ2hhbmdlKGMuaGFzaCksZi5uZXh0SGFzaENoYW5nZVByZXZlbnRlZCghMCksZi5oYXNoQ2hhbmdlRW5hYmxlVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2YubmV4dEhhc2hDaGFuZ2VQcmV2ZW50ZWQoITEpfSxmLmhhc2hDaGFuZ2VUaW1lb3V0KSl9LGluaXQ6ZnVuY3Rpb24oKXtnLmJpbmQoImhhc2hjaGFuZ2UiLGYub25IYXNoQ2hhbmdlKSxnLmJpbmQoInBvcHN0YXRlIixmLm9uUG9wU3RhdGUpLGxvY2F0aW9uLmhhc2g9PT0iIiYmaGlzdG9yeS5yZXBsYWNlU3RhdGUoZi5zdGF0ZSgpLGMudGl0bGUsYS5tb2JpbGUucGF0aC5nZXRMb2NhdGlvbigpKX19KSxhLndoZW4oaixpLGEubW9iaWxlLm5hdnJlYWR5RGVmZXJyZWQpLmRvbmUoZnVuY3Rpb24oKXthLm1vYmlsZS5wdXNoU3RhdGVFbmFibGVkJiZhLnN1cHBvcnQucHVzaFN0YXRlJiZlLmluaXQoKX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLmZsaXA9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLmZsb3c9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnBvcD0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSxiLGMpe2EubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycy5zbGlkZT1hLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2ltdWx0YW5lb3VzLGEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGU9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlZG93bj0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSxiLGMpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGVmYWRlPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhLGIsYyl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZXVwPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhLGIsYyl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy50dXJuPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuZGVncmFkZUlucHV0cz17Y29sb3I6ITEsZGF0ZTohMSxkYXRldGltZTohMSwiZGF0ZXRpbWUtbG9jYWwiOiExLGVtYWlsOiExLG1vbnRoOiExLG51bWJlcjohMSxyYW5nZToibnVtYmVyIixzZWFyY2g6InRleHQiLHRlbDohMSx0aW1lOiExLHVybDohMSx3ZWVrOiExfSxhKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXt2YXIgYz1hLm1vYmlsZS5jbG9zZXN0UGFnZURhdGEoYShiLnRhcmdldCkpLGQ7aWYoIWMpcmV0dXJuO2Q9Yy5vcHRpb25zLGEoYi50YXJnZXQpLmZpbmQoImlucHV0Iikubm90KGMua2VlcE5hdGl2ZVNlbGVjdG9yKCkpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGM9dGhpcy5nZXRBdHRyaWJ1dGUoInR5cGUiKSxlPWQuZGVncmFkZUlucHV0c1tjXXx8InRleHQiO2lmKGQuZGVncmFkZUlucHV0c1tjXSl7dmFyIGY9YSgiPGRpdj4iKS5odG1sKGIuY2xvbmUoKSkuaHRtbCgpLGc9Zi5pbmRleE9mKCIgdHlwZT0iKT4tMSxoPWc/L1xzK3R5cGU9WyInXT9cdytbJyJdPy86L1wvPz4vLGk9JyB0eXBlPSInK2UrJyIgZGF0YS0nK2EubW9iaWxlLm5zKyd0eXBlPSInK2MrJyInKyhnPyIiOiI+Iik7Yi5yZXBsYWNlV2l0aChmLnJlcGxhY2UoaCxpKSl9fSl9KX0oYSksZnVuY3Rpb24oYSxiLGQpe2Eud2lkZ2V0KCJtb2JpbGUuZGlhbG9nIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2Nsb3NlQnRuVGV4dDoiQ2xvc2UiLG92ZXJsYXlUaGVtZToiYSIsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdkaWFsb2cnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9dGhpcy5lbGVtZW50LGQ9YSgiPGEgaHJlZj0nIycgZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uPSdkZWxldGUnIGRhdGEtIithLm1vYmlsZS5ucysiaWNvbnBvcz0nbm90ZXh0Jz4iK3RoaXMub3B0aW9ucy5jbG9zZUJ0blRleHQrIjwvYT4iKSxlPWEoIjxkaXYvPiIse3JvbGU6ImRpYWxvZyIsImNsYXNzIjoidWktZGlhbG9nLWNvbnRhaW4gdWktY29ybmVyLWFsbCB1aS1vdmVybGF5LXNoYWRvdyJ9KTtjLmFkZENsYXNzKCJ1aS1kaWFsb2cgdWktb3ZlcmxheS0iK3RoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUpLGMud3JhcElubmVyKGUpLmNoaWxkcmVuKCkuZmluZCgiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKS5wcmVwZW5kKGQpLmVuZCgpLmNoaWxkcmVuKCI6Zmlyc3QtY2hpbGQiKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCIpLmVuZCgpLmNoaWxkcmVuKCI6bGFzdC1jaGlsZCIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYm90dG9tIiksZC5iaW5kKCJjbGljayIsZnVuY3Rpb24oKXtiLmNsb3NlKCl9KSxjLmJpbmQoInZjbGljayBzdWJtaXQiLGZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLmNsb3Nlc3QoYi50eXBlPT09InZjbGljayI/ImEiOiJmb3JtIiksZDtjLmxlbmd0aCYmIWMuanFtRGF0YSgidHJhbnNpdGlvbiIpJiYoZD1hLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpfHx7fSxjLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidHJhbnNpdGlvbiIsZC50cmFuc2l0aW9ufHxhLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJkaXJlY3Rpb24iLCJyZXZlcnNlIikpfSkuYmluZCgicGFnZWhpZGUiLGZ1bmN0aW9uKGIsYyl7YSh0aGlzKS5maW5kKCIuIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykubm90KCIudWktc2xpZGVyLWJnIikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgicGFnZWJlZm9yZXNob3ciLGZ1bmN0aW9uKCl7Yi5faXNDbG9zZWFibGU9ITAsYi5vcHRpb25zLm92ZXJsYXlUaGVtZSYmYi5lbGVtZW50LnBhZ2UoInJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQiKS5wYWdlKCJzZXRDb250YWluZXJCYWNrZ3JvdW5kIixiLm9wdGlvbnMub3ZlcmxheVRoZW1lKX0pfSxjbG9zZTpmdW5jdGlvbigpe3ZhciBiO3RoaXMuX2lzQ2xvc2VhYmxlJiYodGhpcy5faXNDbG9zZWFibGU9ITEsYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQ/YS5tb2JpbGUuYmFjaygpOihiPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0UHJldigpLnVybCxhLm1vYmlsZS5wYXRoLmlzUGF0aChiKXx8KGI9YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoIiMiK2IpKSxhLm1vYmlsZS5jaGFuZ2VQYWdlKGIse2NoYW5nZUhhc2g6ITEsZnJvbUhhc2hDaGFuZ2U6ITB9KSkpfX0pLGEoYykuZGVsZWdhdGUoYS5tb2JpbGUuZGlhbG9nLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvciwicGFnZWNyZWF0ZSIsZnVuY3Rpb24oKXthLm1vYmlsZS5kaWFsb2cucHJvdG90eXBlLmVuaGFuY2UodGhpcyl9KX0oYSx0aGlzKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuYmFja0J0blRleHQ9IkJhY2siLGEubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuYWRkQmFja0J0bj0hMSxhLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmJhY2tCdG5UaGVtZT1udWxsLGEubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuaGVhZGVyVGhlbWU9ImEiLGEubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuZm9vdGVyVGhlbWU9ImEiLGEubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuY29udGVudFRoZW1lPW51bGwsYShjKS5iaW5kKCJwYWdlY3JlYXRlIixmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KSxkPWMuZGF0YSgicGFnZSIpLm9wdGlvbnMsZT1jLmpxbURhdGEoInJvbGUiKSxmPWQudGhlbWU7YSgiOmpxbURhdGEocm9sZT0naGVhZGVyJyksIDpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpLCA6anFtRGF0YShyb2xlPSdjb250ZW50JykiLGMpLmpxbUVuaGFuY2VhYmxlKCkuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksZz1iLmpxbURhdGEoInJvbGUiKSxoPWIuanFtRGF0YSgidGhlbWUiKSxpPWh8fGQuY29udGVudFRoZW1lfHxlPT09ImRpYWxvZyImJmYsaixrLGwsbTtiLmFkZENsYXNzKCJ1aS0iK2cpO2lmKGc9PT0iaGVhZGVyInx8Zz09PSJmb290ZXIiKXt2YXIgbj1ofHwoZz09PSJoZWFkZXIiP2QuaGVhZGVyVGhlbWU6ZC5mb290ZXJUaGVtZSl8fGY7Yi5hZGRDbGFzcygidWktYmFyLSIrbikuYXR0cigicm9sZSIsZz09PSJoZWFkZXIiPyJiYW5uZXIiOiJjb250ZW50aW5mbyIpLGc9PT0iaGVhZGVyIiYmKGo9Yi5jaGlsZHJlbigiYSwgYnV0dG9uIiksaz1qLmhhc0NsYXNzKCJ1aS1idG4tbGVmdCIpLGw9ai5oYXNDbGFzcygidWktYnRuLXJpZ2h0Iiksaz1rfHxqLmVxKDApLm5vdCgiLnVpLWJ0bi1yaWdodCIpLmFkZENsYXNzKCJ1aS1idG4tbGVmdCIpLmxlbmd0aCxsPWx8fGouZXEoMSkuYWRkQ2xhc3MoInVpLWJ0bi1yaWdodCIpLmxlbmd0aCksZC5hZGRCYWNrQnRuJiZnPT09ImhlYWRlciImJmEoIi51aS1wYWdlIikubGVuZ3RoPjEmJmMuanFtRGF0YSgidXJsIikhPT1hLm1vYmlsZS5wYXRoLnN0cmlwSGFzaChsb2NhdGlvbi5oYXNoKSYmIWsmJihtPWEoIjxhIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKTsnIGNsYXNzPSd1aS1idG4tbGVmdCcgZGF0YS0iK2EubW9iaWxlLm5zKyJyZWw9J2JhY2snIGRhdGEtIithLm1vYmlsZS5ucysiaWNvbj0nYXJyb3ctbCc+IitkLmJhY2tCdG5UZXh0KyI8L2E+IikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIsZC5iYWNrQnRuVGhlbWV8fG4pLnByZXBlbmRUbyhiKSksYi5jaGlsZHJlbigiaDEsIGgyLCBoMywgaDQsIGg1LCBoNiIpLmFkZENsYXNzKCJ1aS10aXRsZSIpLmF0dHIoe3JvbGU6ImhlYWRpbmciLCJhcmlhLWxldmVsIjoiMSJ9KX1lbHNlIGc9PT0iY29udGVudCImJihpJiZiLmFkZENsYXNzKCJ1aS1ib2R5LSIraSksYi5hdHRyKCJyb2xlIiwibWFpbiIpKX0pfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS5mbi5maWVsZGNvbnRhaW49ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkQ2xhc3MoInVpLWZpZWxkLWNvbnRhaW4gdWktYm9keSB1aS1iciIpLmNvbnRlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZVR5cGU9PT0zJiYhL1xTLy50ZXN0KHRoaXMubm9kZVZhbHVlKX0pLnJlbW92ZSgpfSxhKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKCI6anFtRGF0YShyb2xlPSdmaWVsZGNvbnRhaW4nKSIsYi50YXJnZXQpLmpxbUVuaGFuY2VhYmxlKCkuZmllbGRjb250YWluKCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLmZuLmdyaWQ9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksZD1hLmV4dGVuZCh7Z3JpZDpudWxsfSxiKSxlPWMuY2hpbGRyZW4oKSxmPXtzb2xvOjEsYToyLGI6MyxjOjQsZDo1fSxnPWQuZ3JpZCxoO2lmKCFnKWlmKGUubGVuZ3RoPD01KWZvcih2YXIgaSBpbiBmKWZbaV09PT1lLmxlbmd0aCYmKGc9aSk7ZWxzZSBnPSJhIixjLmFkZENsYXNzKCJ1aS1ncmlkLWR1byIpO2g9ZltnXSxjLmFkZENsYXNzKCJ1aS1ncmlkLSIrZyksZS5maWx0ZXIoIjpudGgtY2hpbGQoIitoKyJuKzEpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWEiKSxoPjEmJmUuZmlsdGVyKCI6bnRoLWNoaWxkKCIraCsibisyKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1iIiksaD4yJiZlLmZpbHRlcigiOm50aC1jaGlsZCgiK2grIm4rMykiKS5hZGRDbGFzcygidWktYmxvY2stYyIpLGg+MyYmZS5maWx0ZXIoIjpudGgtY2hpbGQoIitoKyJuKzQpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWQiKSxoPjQmJmUuZmlsdGVyKCI6bnRoLWNoaWxkKCIraCsibis1KSIpLmFkZENsYXNzKCJ1aS1ibG9jay1lIil9KX19KGEpLGZ1bmN0aW9uKGEsYil7YShjKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YSgiOmpxbURhdGEocm9sZT0nbm9qcycpIixiLnRhcmdldCkuYWRkQ2xhc3MoInVpLW5vanMiKX0pfShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoYSl7dmFyIGI7d2hpbGUoYSl7Yj10eXBlb2YgYS5jbGFzc05hbWU9PSJzdHJpbmciJiZhLmNsYXNzTmFtZSsiICI7aWYoYiYmYi5pbmRleE9mKCJ1aS1idG4gIik+LTEmJmIuaW5kZXhPZigidWktZGlzYWJsZWQgIik8MClicmVhazthPWEucGFyZW50Tm9kZX1yZXR1cm4gYX1hLmZuLmJ1dHRvbk1hcmt1cD1mdW5jdGlvbihkKXt2YXIgZj10aGlzLGc9ZnVuY3Rpb24oYixjKXtqLnNldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zK2IsYyksaS5qcW1EYXRhKGIsYyl9O2Q9ZCYmYS50eXBlKGQpPT09Im9iamVjdCI/ZDp7fTtmb3IodmFyIGg9MDtoPGYubGVuZ3RoO2grKyl7dmFyIGk9Zi5lcShoKSxqPWlbMF0saz1hLmV4dGVuZCh7fSxhLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cyx7aWNvbjpkLmljb24hPT1iP2QuaWNvbjppLmpxbURhdGEoImljb24iKSxpY29ucG9zOmQuaWNvbnBvcyE9PWI/ZC5pY29ucG9zOmkuanFtRGF0YSgiaWNvbnBvcyIpLHRoZW1lOmQudGhlbWUhPT1iP2QudGhlbWU6aS5qcW1EYXRhKCJ0aGVtZSIpfHxhLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShpLCJjIiksaW5saW5lOmQuaW5saW5lIT09Yj9kLmlubGluZTppLmpxbURhdGEoImlubGluZSIpLHNoYWRvdzpkLnNoYWRvdyE9PWI/ZC5zaGFkb3c6aS5qcW1EYXRhKCJzaGFkb3ciKSxjb3JuZXJzOmQuY29ybmVycyE9PWI/ZC5jb3JuZXJzOmkuanFtRGF0YSgiY29ybmVycyIpLGljb25zaGFkb3c6ZC5pY29uc2hhZG93IT09Yj9kLmljb25zaGFkb3c6aS5qcW1EYXRhKCJpY29uc2hhZG93IiksbWluaTpkLm1pbmkhPT1iP2QubWluaTppLmpxbURhdGEoIm1pbmkiKX0sZCksbD0idWktYnRuLWlubmVyIixtPSJ1aS1idG4tdGV4dCIsbixvLHAscSxyLHM7YS5lYWNoKGssZyksaS5qcW1EYXRhKCJyZWwiKT09PSJwb3B1cCImJmkuYXR0cigiaHJlZiIpJiYoai5zZXRBdHRyaWJ1dGUoImFyaWEtaGFzcG9wdXAiLCEwKSxqLnNldEF0dHJpYnV0ZSgiYXJpYS1vd25zIixqLmdldEF0dHJpYnV0ZSgiaHJlZiIpKSkscz1hLmRhdGEoai50YWdOYW1lPT09IklOUFVUInx8ai50YWdOYW1lPT09IkJVVFRPTiI/ai5wYXJlbnROb2RlOmosImJ1dHRvbkVsZW1lbnRzIikscz8oaj1zLm91dGVyLGk9YShqKSxwPXMuaW5uZXIscT1zLnRleHQsYShzLmljb24pLnJlbW92ZSgpLHMuaWNvbj1udWxsKToocD1jLmNyZWF0ZUVsZW1lbnQoay53cmFwcGVyRWxzKSxxPWMuY3JlYXRlRWxlbWVudChrLndyYXBwZXJFbHMpKSxyPWsuaWNvbj9jLmNyZWF0ZUVsZW1lbnQoInNwYW4iKTpudWxsLGUmJiFzJiZlKCksay50aGVtZXx8KGsudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoaSwiYyIpKSxuPSJ1aS1idG4gdWktYnRuLXVwLSIray50aGVtZSxuKz1rLnNoYWRvdz8iIHVpLXNoYWRvdyI6IiIsbis9ay5jb3JuZXJzPyIgdWktYnRuLWNvcm5lci1hbGwiOiIiLGsubWluaSE9PWImJihuKz1rLm1pbmk9PT0hMD8iIHVpLW1pbmkiOiIgdWktZnVsbHNpemUiKSxrLmlubGluZSE9PWImJihuKz1rLmlubGluZT09PSEwPyIgdWktYnRuLWlubGluZSI6IiB1aS1idG4tYmxvY2siKSxrLmljb24mJihrLmljb249InVpLWljb24tIitrLmljb24say5pY29ucG9zPWsuaWNvbnBvc3x8ImxlZnQiLG89InVpLWljb24gIitrLmljb24say5pY29uc2hhZG93JiYobys9IiB1aS1pY29uLXNoYWRvdyIpKSxrLmljb25wb3MmJihuKz0iIHVpLWJ0bi1pY29uLSIray5pY29ucG9zLGsuaWNvbnBvcz09PSJub3RleHQiJiYhaS5hdHRyKCJ0aXRsZSIpJiZpLmF0dHIoInRpdGxlIixpLmdldEVuY29kZWRUZXh0KCkpKSxsKz1rLmNvcm5lcnM/IiB1aS1idG4tY29ybmVyLWFsbCI6IiIsay5pY29ucG9zJiZrLmljb25wb3M9PT0ibm90ZXh0IiYmIWkuYXR0cigidGl0bGUiKSYmaS5hdHRyKCJ0aXRsZSIsaS5nZXRFbmNvZGVkVGV4dCgpKSxzJiZpLnJlbW92ZUNsYXNzKHMuYmNsc3x8IiIpLGkucmVtb3ZlQ2xhc3MoInVpLWxpbmsiKS5hZGRDbGFzcyhuKSxwLmNsYXNzTmFtZT1sLHEuY2xhc3NOYW1lPW0sc3x8cC5hcHBlbmRDaGlsZChxKTtpZihyKXtyLmNsYXNzTmFtZT1vO2lmKCFzfHwhcy5pY29uKXIuaW5uZXJIVE1MPSImIzE2MDsiLHAuYXBwZW5kQ2hpbGQocil9d2hpbGUoai5maXJzdENoaWxkJiYhcylxLmFwcGVuZENoaWxkKGouZmlyc3RDaGlsZCk7c3x8ai5hcHBlbmRDaGlsZChwKSxzPXtiY2xzOm4sb3V0ZXI6aixpbm5lcjpwLHRleHQ6cSxpY29uOnJ9LGEuZGF0YShqLCJidXR0b25FbGVtZW50cyIscyksYS5kYXRhKHAsImJ1dHRvbkVsZW1lbnRzIixzKSxhLmRhdGEocSwiYnV0dG9uRWxlbWVudHMiLHMpLHImJmEuZGF0YShyLCJidXR0b25FbGVtZW50cyIscyl9cmV0dXJuIHRoaXN9LGEuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzPXtjb3JuZXJzOiEwLHNoYWRvdzohMCxpY29uc2hhZG93OiEwLHdyYXBwZXJFbHM6InNwYW4ifTt2YXIgZT1mdW5jdGlvbigpe3ZhciBiPWEubW9iaWxlLmJ1dHRvbk1hcmt1cC5ob3ZlckRlbGF5LGYsZzthKGMpLmJpbmQoeyJ2bW91c2Vkb3duIHZtb3VzZWNhbmNlbCB2bW91c2V1cCB2bW91c2VvdmVyIHZtb3VzZW91dCBmb2N1cyBibHVyIHNjcm9sbHN0YXJ0IjpmdW5jdGlvbihjKXt2YXIgZSxoPWEoZChjLnRhcmdldCkpLGk9Yy5vcmlnaW5hbEV2ZW50JiYvXnRvdWNoLy50ZXN0KGMub3JpZ2luYWxFdmVudC50eXBlKSxqPWMudHlwZTtpZihoLmxlbmd0aCl7ZT1oLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiKTtpZihqPT09InZtb3VzZWRvd24iKWk/Zj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aC5yZW1vdmVDbGFzcygidWktYnRuLXVwLSIrZSkuYWRkQ2xhc3MoInVpLWJ0bi1kb3duLSIrZSl9LGIpOmgucmVtb3ZlQ2xhc3MoInVpLWJ0bi11cC0iK2UpLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK2UpO2Vsc2UgaWYoaj09PSJ2bW91c2VjYW5jZWwifHxqPT09InZtb3VzZXVwIiloLnJlbW92ZUNsYXNzKCJ1aS1idG4tZG93bi0iK2UpLmFkZENsYXNzKCJ1aS1idG4tdXAtIitlKTtlbHNlIGlmKGo9PT0idm1vdXNlb3ZlciJ8fGo9PT0iZm9jdXMiKWk/Zz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aC5yZW1vdmVDbGFzcygidWktYnRuLXVwLSIrZSkuYWRkQ2xhc3MoInVpLWJ0bi1ob3Zlci0iK2UpfSxiKTpoLnJlbW92ZUNsYXNzKCJ1aS1idG4tdXAtIitlKS5hZGRDbGFzcygidWktYnRuLWhvdmVyLSIrZSk7ZWxzZSBpZihqPT09InZtb3VzZW91dCJ8fGo9PT0iYmx1ciJ8fGo9PT0ic2Nyb2xsc3RhcnQiKWgucmVtb3ZlQ2xhc3MoInVpLWJ0bi1ob3Zlci0iK2UrIiB1aS1idG4tZG93bi0iK2UpLmFkZENsYXNzKCJ1aS1idG4tdXAtIitlKSxmJiZjbGVhclRpbWVvdXQoZiksZyYmY2xlYXJUaW1lb3V0KGcpfX0sImZvY3VzaW4gZm9jdXMiOmZ1bmN0aW9uKGIpe2EoZChiLnRhcmdldCkpLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSwiZm9jdXNvdXQgYmx1ciI6ZnVuY3Rpb24oYil7YShkKGIudGFyZ2V0KSkucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9fSksZT1udWxsfTthKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKCI6anFtRGF0YShyb2xlPSdidXR0b24nKSwgLnVpLWJhciA+IGEsIC51aS1oZWFkZXIgPiBhLCAudWktZm9vdGVyID4gYSwgLnVpLWJhciA+IDpqcW1EYXRhKHJvbGU9J2NvbnRyb2xncm91cCcpID4gYSIsYi50YXJnZXQpLmpxbUVuaGFuY2VhYmxlKCkubm90KCJidXR0b24sIGlucHV0LCAudWktYnRuLCA6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLmJ1dHRvbk1hcmt1cCgpfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5jb2xsYXBzaWJsZSIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntleHBhbmRDdWVUZXh0OiIgY2xpY2sgdG8gZXhwYW5kIGNvbnRlbnRzIixjb2xsYXBzZUN1ZVRleHQ6IiBjbGljayB0byBjb2xsYXBzZSBjb250ZW50cyIsY29sbGFwc2VkOiEwLGhlYWRpbmc6ImgxLGgyLGgzLGg0LGg1LGg2LGxlZ2VuZCIsdGhlbWU6bnVsbCxjb250ZW50VGhlbWU6bnVsbCxpbnNldDohMCxtaW5pOiExLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmVsZW1lbnQsZD10aGlzLm9wdGlvbnMsZT1jLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZSIpLGY9Yy5jaGlsZHJlbihkLmhlYWRpbmcpLmZpcnN0KCksZz1jLmpxbURhdGEoImNvbGxhcHNlZC1pY29uIil8fGQuY29sbGFwc2VkSWNvbixoPWMuanFtRGF0YSgiZXhwYW5kZWQtaWNvbiIpfHxkLmV4cGFuZGVkSWNvbixpPWUud3JhcElubmVyKCI8ZGl2IGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1jb250ZW50Jz48L2Rpdj4iKS5jaGlsZHJlbigiLnVpLWNvbGxhcHNpYmxlLWNvbnRlbnQiKSxqPWMuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JykiKS5hZGRDbGFzcygidWktY29sbGFwc2libGUtc2V0Iik7Zi5pcygibGVnZW5kIikmJihmPWEoIjxkaXYgcm9sZT0naGVhZGluZyc+IitmLmh0bWwoKSsiPC9kaXY+IikuaW5zZXJ0QmVmb3JlKGYpLGYubmV4dCgpLnJlbW92ZSgpKSxqLmxlbmd0aD8oZC50aGVtZXx8KGQudGhlbWU9ai5qcW1EYXRhKCJ0aGVtZSIpfHxhLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShqLCJjIikpLGQuY29udGVudFRoZW1lfHwoZC5jb250ZW50VGhlbWU9ai5qcW1EYXRhKCJjb250ZW50LXRoZW1lIikpLGQuY29sbGFwc2VkSWNvbnx8KGQuY29sbGFwc2VkSWNvbj1qLmpxbURhdGEoImNvbGxhcHNlZC1pY29uIikpLGQuZXhwYW5kZWRJY29ufHwoZC5leHBhbmRlZEljb249ai5qcW1EYXRhKCJleHBhbmRlZC1pY29uIikpLGQuaWNvblBvc3x8KGQuaWNvblBvcz1qLmpxbURhdGEoImljb25wb3MiKSksai5qcW1EYXRhKCJpbnNldCIpIT09Yj9kLmluc2V0PWouanFtRGF0YSgiaW5zZXQiKTpkLmluc2V0PSEwLGQubWluaXx8KGQubWluaT1qLmpxbURhdGEoIm1pbmkiKSkpOmQudGhlbWV8fChkLnRoZW1lPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGMsImMiKSksIWQuaW5zZXR8fGUuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWluc2V0IiksaS5hZGRDbGFzcyhkLmNvbnRlbnRUaGVtZT8idWktYm9keS0iK2QuY29udGVudFRoZW1lOiIiKSxnPWMuanFtRGF0YSgiY29sbGFwc2VkLWljb24iKXx8ZC5jb2xsYXBzZWRJY29ufHwicGx1cyIsaD1jLmpxbURhdGEoImV4cGFuZGVkLWljb24iKXx8ZC5leHBhbmRlZEljb258fCJtaW51cyIsZi5pbnNlcnRCZWZvcmUoaSkuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmciKS5hcHBlbmQoIjxzcGFuIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyc+PC9zcGFuPiIpLndyYXBJbm5lcigiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctdG9nZ2xlJz48L2E+IikuZmluZCgiYSIpLmZpcnN0KCkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ITEsY29ybmVyczohMSxpY29ucG9zOmMuanFtRGF0YSgiaWNvbnBvcyIpfHxkLmljb25Qb3N8fCJsZWZ0IixpY29uOmcsbWluaTpkLm1pbmksdGhlbWU6ZC50aGVtZX0pLCFkLmluc2V0fHxmLmZpbmQoImEiKS5maXJzdCgpLmFkZCgiLnVpLWJ0bi1pbm5lciIsYykuYWRkQ2xhc3MoInVpLWNvcm5lci10b3AgdWktY29ybmVyLWJvdHRvbSIpLGUuYmluZCgiZXhwYW5kIGNvbGxhcHNlIixmdW5jdGlvbihiKXtpZighYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyIGM9YSh0aGlzKSxrPWIudHlwZT09PSJjb2xsYXBzZSIsbD1kLmNvbnRlbnRUaGVtZTtiLnByZXZlbnREZWZhdWx0KCksZi50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiLGspLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyIpLnRleHQoaz9kLmV4cGFuZEN1ZVRleHQ6ZC5jb2xsYXBzZUN1ZVRleHQpLmVuZCgpLmZpbmQoIi51aS1pY29uIikudG9nZ2xlQ2xhc3MoInVpLWljb24tIitoLCFrKS50b2dnbGVDbGFzcygidWktaWNvbi0iK2csa3x8aD09PWcpLmVuZCgpLmZpbmQoImEiKS5maXJzdCgpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxjLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWQiLGspLGkudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbnRlbnQtY29sbGFwc2VkIixrKS5hdHRyKCJhcmlhLWhpZGRlbiIsayksbCYmISFkLmluc2V0JiYoIWoubGVuZ3RofHxlLmpxbURhdGEoImNvbGxhcHNpYmxlLWxhc3QiKSkmJihmLmZpbmQoImEiKS5maXJzdCgpLmFkZChmLmZpbmQoIi51aS1idG4taW5uZXIiKSkudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iLGspLGkudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iLCFrKSksaS50cmlnZ2VyKCJ1cGRhdGVsYXlvdXQiKX19KS50cmlnZ2VyKGQuY29sbGFwc2VkPyJjb2xsYXBzZSI6ImV4cGFuZCIpLGYuYmluZCgidGFwIixmdW5jdGlvbihiKXtmLmZpbmQoImEiKS5maXJzdCgpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImNsaWNrIixmdW5jdGlvbihhKXt2YXIgYj1mLmlzKCIudWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiKT8iZXhwYW5kIjoiY29sbGFwc2UiO2UudHJpZ2dlcihiKSxhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKX0pfX0pLGEoYykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLmNvbGxhcHNpYmxlLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0KX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUuY29sbGFwc2libGVzZXQiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7aW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLXNldCIpLGQ9dGhpcy5vcHRpb25zO2QudGhlbWV8fChkLnRoZW1lPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGMsImMiKSksZC5jb250ZW50VGhlbWV8fChkLmNvbnRlbnRUaGVtZT1jLmpxbURhdGEoImNvbnRlbnQtdGhlbWUiKSksYy5qcW1EYXRhKCJpbnNldCIpIT09YiYmKGQuaW5zZXQ9Yy5qcW1EYXRhKCJpbnNldCIpKSxkLmluc2V0PWQuaW5zZXQhPT1iP2QuaW5zZXQ6ITAsYy5qcW1EYXRhKCJjb2xsYXBzaWJsZWJvdW5kIil8fGMuanFtRGF0YSgiY29sbGFwc2libGVib3VuZCIsITApLmJpbmQoImV4cGFuZCBjb2xsYXBzZSIsZnVuY3Rpb24oYil7dmFyIGM9Yi50eXBlPT09ImNvbGxhcHNlIixlPWEoYi50YXJnZXQpLmNsb3Nlc3QoIi51aS1jb2xsYXBzaWJsZSIpLGY9ZS5kYXRhKCJjb2xsYXBzaWJsZSIpO2UuanFtRGF0YSgiY29sbGFwc2libGUtbGFzdCIpJiYhIWQuaW5zZXQmJihlLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nIikuZmlyc3QoKS5maW5kKCJhIikuZmlyc3QoKS50b2dnbGVDbGFzcygidWktY29ybmVyLWJvdHRvbSIsYykuZmluZCgiLnVpLWJ0bi1pbm5lciIpLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYm90dG9tIixjKSxlLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1jb250ZW50IikudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iLCFjKSl9KS5iaW5kKCJleHBhbmQiLGZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLmNsb3Nlc3QoIi51aS1jb2xsYXBzaWJsZSIpO2MucGFyZW50KCkuaXMoIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpIikmJmMuc2libGluZ3MoIi51aS1jb2xsYXBzaWJsZSIpLnRyaWdnZXIoImNvbGxhcHNlIil9KX0sX2luaXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQsYj1hLmNoaWxkcmVuKCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZScpIiksYz1iLmZpbHRlcigiOmpxbURhdGEoY29sbGFwc2VkPSdmYWxzZScpIik7dGhpcy5yZWZyZXNoKCksYy50cmlnZ2VyKCJleHBhbmQiKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9ucyxkPWIuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykiKTthLm1vYmlsZS5jb2xsYXBzaWJsZS5wcm90b3R5cGUuZW5oYW5jZShkLm5vdCgiLnVpLWNvbGxhcHNpYmxlIikpLCFjLmluc2V0fHwoZC5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5qcW1SZW1vdmVEYXRhKCJjb2xsYXBzaWJsZS1sYXN0IikuZmluZCgiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmciKS5maW5kKCJhIikuZmlyc3QoKS5yZW1vdmVDbGFzcygidWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIikuZmluZCgiLnVpLWJ0bi1pbm5lciIpLnJlbW92ZUNsYXNzKCJ1aS1jb3JuZXItdG9wIHVpLWNvcm5lci1ib3R0b20iKX0pLGQuZmlyc3QoKS5maW5kKCJhIikuZmlyc3QoKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCIpLmZpbmQoIi51aS1idG4taW5uZXIiKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCIpLGQubGFzdCgpLmpxbURhdGEoImNvbGxhcHNpYmxlLWxhc3QiLCEwKS5maW5kKCJhIikuZmlyc3QoKS5hZGRDbGFzcygidWktY29ybmVyLWJvdHRvbSIpLmZpbmQoIi51aS1idG4taW5uZXIiKS5hZGRDbGFzcygidWktY29ybmVyLWJvdHRvbSIpKX19KSxhKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5jb2xsYXBzaWJsZXNldC5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLm5hdmJhciIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntpY29ucG9zOiJ0b3AiLGdyaWQ6bnVsbCxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J25hdmJhcicpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBjPXRoaXMuZWxlbWVudCxkPWMuZmluZCgiYSIpLGU9ZC5maWx0ZXIoIjpqcW1EYXRhKGljb24pIikubGVuZ3RoP3RoaXMub3B0aW9ucy5pY29ucG9zOmI7Yy5hZGRDbGFzcygidWktbmF2YmFyIHVpLW1pbmkiKS5hdHRyKCJyb2xlIiwibmF2aWdhdGlvbiIpLmZpbmQoInVsIikuanFtRW5oYW5jZWFibGUoKS5ncmlkKHtncmlkOnRoaXMub3B0aW9ucy5ncmlkfSksZC5idXR0b25NYXJrdXAoe2Nvcm5lcnM6ITEsc2hhZG93OiExLGlubGluZTohMCxpY29ucG9zOmV9KSxjLmRlbGVnYXRlKCJhIiwidmNsaWNrIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5oYXNDbGFzcygidWktZGlzYWJsZWQiKXx8KGQucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLGEodGhpcykuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpKX0pLGMuY2xvc2VzdCgiLnVpLXBhZ2UiKS5iaW5kKCJwYWdlYmVmb3Jlc2hvdyIsZnVuY3Rpb24oKXtkLmZpbHRlcigiLnVpLXN0YXRlLXBlcnNpc3QiKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KX19KSxhKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5uYXZiYXIucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGQ9e307YS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGNvdW50VGhlbWU6ImMiLGhlYWRlclRoZW1lOiJiIixkaXZpZGVyVGhlbWU6ImIiLHNwbGl0SWNvbjoiYXJyb3ctciIsc3BsaXRUaGVtZToiYiIsaW5zZXQ6ITEsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdsaXN0dmlldycpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj0iIjtiKz1hLm9wdGlvbnMuaW5zZXQ/IiB1aS1saXN0dmlldy1pbnNldCB1aS1jb3JuZXItYWxsIHVpLXNoYWRvdyAiOiIiLGEuZWxlbWVudC5hZGRDbGFzcyhmdW5jdGlvbihhLGMpe3JldHVybiBjKyIgdWktbGlzdHZpZXcgIitifSksYS5yZWZyZXNoKCEwKX0sX3JlbW92ZUNvcm5lcnM6ZnVuY3Rpb24oYSxiKXt2YXIgYz0idWktY29ybmVyLXRvcCB1aS1jb3JuZXItdHIgdWktY29ybmVyLXRsIixkPSJ1aS1jb3JuZXItYm90dG9tIHVpLWNvcm5lci1iciB1aS1jb3JuZXItYmwiO2E9YS5hZGQoYS5maW5kKCIudWktYnRuLWlubmVyLCAudWktbGktbGluay1hbHQsIC51aS1saS10aHVtYiIpKSxiPT09InRvcCI/YS5yZW1vdmVDbGFzcyhjKTpiPT09ImJvdHRvbSI/YS5yZW1vdmVDbGFzcyhkKTphLnJlbW92ZUNsYXNzKGMrIiAiK2QpfSxfcmVmcmVzaENvcm5lcnM6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU7Yj10aGlzLmVsZW1lbnQuY2hpbGRyZW4oImxpIiksYz1hfHxiLmZpbHRlcigiOnZpc2libGUiKS5sZW5ndGg9PT0wP2Iubm90KCIudWktc2NyZWVuLWhpZGRlbiIpOmIuZmlsdGVyKCI6dmlzaWJsZSIpLGIuZmlsdGVyKCIudWktbGktbGFzdCIpLnJlbW92ZUNsYXNzKCJ1aS1saS1sYXN0IiksdGhpcy5vcHRpb25zLmluc2V0Pyh0aGlzLl9yZW1vdmVDb3JuZXJzKGIpLGQ9Yy5maXJzdCgpLmFkZENsYXNzKCJ1aS1jb3JuZXItdG9wIiksZC5hZGQoZC5maW5kKCIudWktYnRuLWlubmVyIikubm90KCIudWktbGktbGluay1hbHQgc3BhbjpmaXJzdC1jaGlsZCIpKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCIpLmVuZCgpLmZpbmQoIi51aS1saS1saW5rLWFsdCwgLnVpLWxpLWxpbmstYWx0IHNwYW46Zmlyc3QtY2hpbGQiKS5hZGRDbGFzcygidWktY29ybmVyLXRyIikuZW5kKCkuZmluZCgiLnVpLWxpLXRodW1iIikubm90KCIudWktbGktaWNvbiIpLmFkZENsYXNzKCJ1aS1jb3JuZXItdGwiKSxlPWMubGFzdCgpLmFkZENsYXNzKCJ1aS1jb3JuZXItYm90dG9tIHVpLWxpLWxhc3QiKSxlLmFkZChlLmZpbmQoIi51aS1idG4taW5uZXIiKSkuZmluZCgiLnVpLWxpLWxpbmstYWx0IikuYWRkQ2xhc3MoInVpLWNvcm5lci1iciIpLmVuZCgpLmZpbmQoIi51aS1saS10aHVtYiIpLm5vdCgiLnVpLWxpLWljb24iKS5hZGRDbGFzcygidWktY29ybmVyLWJsIikpOmMubGFzdCgpLmFkZENsYXNzKCJ1aS1saS1sYXN0IiksYXx8dGhpcy5lbGVtZW50LnRyaWdnZXIoInVwZGF0ZWxheW91dCIpfSxfZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT17fTtlW2NdPWVbZF09ITA7d2hpbGUoYSl7aWYoZVthLm5vZGVOYW1lXSlyZXR1cm4gYTthPWFbYl19cmV0dXJuIG51bGx9LF9nZXRDaGlsZHJlbkJ5VGFnTmFtZTpmdW5jdGlvbihiLGMsZCl7dmFyIGU9W10sZj17fTtmW2NdPWZbZF09ITAsYj1iLmZpcnN0Q2hpbGQ7d2hpbGUoYilmW2Iubm9kZU5hbWVdJiZlLnB1c2goYiksYj1iLm5leHRTaWJsaW5nO3JldHVybiBhKGUpfSxfYWRkVGh1bWJDbGFzc2VzOmZ1bmN0aW9uKGIpe3ZhciBjLGQsZT1iLmxlbmd0aDtmb3IoYz0wO2M8ZTtjKyspZD1hKHRoaXMuX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWUoYltjXS5maXJzdENoaWxkLCJuZXh0U2libGluZyIsImltZyIsIklNRyIpKSxkLmxlbmd0aCYmKGQuYWRkQ2xhc3MoInVpLWxpLXRodW1iIiksYSh0aGlzLl9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lKGRbMF0ucGFyZW50Tm9kZSwicGFyZW50Tm9kZSIsImxpIiwiTEkiKSkuYWRkQ2xhc3MoZC5pcygiLnVpLWxpLWljb24iKT8idWktbGktaGFzLWljb24iOiJ1aS1saS1oYXMtdGh1bWIiKSl9LHJlZnJlc2g6ZnVuY3Rpb24oYil7dGhpcy5wYXJlbnRQYWdlPXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLHRoaXMuX2NyZWF0ZVN1YlBhZ2VzKCk7dmFyIGQ9dGhpcy5vcHRpb25zLGU9dGhpcy5lbGVtZW50LGY9dGhpcyxnPWUuanFtRGF0YSgiZGl2aWRlcnRoZW1lIil8fGQuZGl2aWRlclRoZW1lLGg9ZS5qcW1EYXRhKCJzcGxpdHRoZW1lIiksaT1lLmpxbURhdGEoInNwbGl0aWNvbiIpLGo9dGhpcy5fZ2V0Q2hpbGRyZW5CeVRhZ05hbWUoZVswXSwibGkiLCJMSSIpLGs9ISFhLm5vZGVOYW1lKGVbMF0sIm9sIiksbD0hYS5zdXBwb3J0LmNzc1BzZXVkb0VsZW1lbnQsbT1lLmF0dHIoInN0YXJ0Iiksbj17fSxvLHAscSxyLHMsdCx1LHYsdyx4LHkseixBLEI7ayYmbCYmZS5maW5kKCIudWktbGktZGVjIikucmVtb3ZlKCksayYmKG18fG09PT0wP2w/dT1wYXJzZUZsb2F0KG0pOih2PXBhcnNlRmxvYXQobSktMSxlLmNzcygiY291bnRlci1yZXNldCIsImxpc3RudW1iZXJpbmcgIit2KSk6bCYmKHU9MSkpLGQudGhlbWV8fChkLnRoZW1lPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudCwiYyIpKTtmb3IodmFyIEM9MCxEPWoubGVuZ3RoO0M8RDtDKyspe289ai5lcShDKSxwPSJ1aS1saSI7aWYoYnx8IW8uaGFzQ2xhc3MoInVpLWxpIikpe3E9by5qcW1EYXRhKCJ0aGVtZSIpfHxkLnRoZW1lLHI9dGhpcy5fZ2V0Q2hpbGRyZW5CeVRhZ05hbWUob1swXSwiYSIsIkEiKTt2YXIgRT1vLmpxbURhdGEoInJvbGUiKT09PSJsaXN0LWRpdmlkZXIiO3IubGVuZ3RoJiYhRT8oeT1vLmpxbURhdGEoImljb24iKSxvLmJ1dHRvbk1hcmt1cCh7d3JhcHBlckVsczoiZGl2IixzaGFkb3c6ITEsY29ybmVyczohMSxpY29ucG9zOiJyaWdodCIsaWNvbjpyLmxlbmd0aD4xfHx5PT09ITE/ITE6eXx8ImFycm93LXIiLHRoZW1lOnF9KSx5IT09ITEmJnIubGVuZ3RoPT09MSYmby5hZGRDbGFzcygidWktbGktaGFzLWFycm93Iiksci5maXJzdCgpLnJlbW92ZUNsYXNzKCJ1aS1saW5rIikuYWRkQ2xhc3MoInVpLWxpbmstaW5oZXJpdCIpLHIubGVuZ3RoPjEmJihwKz0iIHVpLWxpLWhhcy1hbHQiLHM9ci5sYXN0KCksdD1ofHxzLmpxbURhdGEoInRoZW1lIil8fGQuc3BsaXRUaGVtZSxCPXMuanFtRGF0YSgiaWNvbiIpLHMuYXBwZW5kVG8obykuYXR0cigidGl0bGUiLHMuZ2V0RW5jb2RlZFRleHQoKSkuYWRkQ2xhc3MoInVpLWxpLWxpbmstYWx0IikuZW1wdHkoKS5idXR0b25NYXJrdXAoe3NoYWRvdzohMSxjb3JuZXJzOiExLHRoZW1lOnEsaWNvbjohMSxpY29ucG9zOiJub3RleHQifSkuZmluZCgiLnVpLWJ0bi1pbm5lciIpLmFwcGVuZChhKGMuY3JlYXRlRWxlbWVudCgic3BhbiIpKS5idXR0b25NYXJrdXAoe3NoYWRvdzohMCxjb3JuZXJzOiEwLHRoZW1lOnQsaWNvbnBvczoibm90ZXh0IixpY29uOkJ8fHl8fGl8fGQuc3BsaXRJY29ufSkpKSk6RT8ocCs9IiB1aS1saS1kaXZpZGVyIHVpLWJhci0iK2csby5hdHRyKCJyb2xlIiwiaGVhZGluZyIpLGsmJihtfHxtPT09MD9sP3U9cGFyc2VGbG9hdChtKToodz1wYXJzZUZsb2F0KG0pLTEsby5jc3MoImNvdW50ZXItcmVzZXQiLCJsaXN0bnVtYmVyaW5nICIrdykpOmwmJih1PTEpKSk6cCs9IiB1aS1saS1zdGF0aWMgdWktYnRuLXVwLSIrcX1rJiZsJiZwLmluZGV4T2YoInVpLWxpLWRpdmlkZXIiKTwwJiYoeD1wLmluZGV4T2YoInVpLWxpLXN0YXRpYyIpPjA/bzpvLmZpbmQoIi51aS1saW5rLWluaGVyaXQiKSx4LmFkZENsYXNzKCJ1aS1saS1qc251bWJlcmluZyIpLnByZXBlbmQoIjxzcGFuIGNsYXNzPSd1aS1saS1kZWMnPiIrdSsrICsiLiA8L3NwYW4+IikpLG5bcF18fChuW3BdPVtdKSxuW3BdLnB1c2gob1swXSl9Zm9yKHAgaW4gbilhKG5bcF0pLmFkZENsYXNzKHApLmNoaWxkcmVuKCIudWktYnRuLWlubmVyIikuYWRkQ2xhc3MocCk7ZS5maW5kKCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IikuYWRkQ2xhc3MoInVpLWxpLWhlYWRpbmciKS5lbmQoKS5maW5kKCJwLCBkbCIpLmFkZENsYXNzKCJ1aS1saS1kZXNjIikuZW5kKCkuZmluZCgiLnVpLWxpLWFzaWRlIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7Yi5wcmVwZW5kVG8oYi5wYXJlbnQoKSl9KS5lbmQoKS5maW5kKCIudWktbGktY291bnQiKS5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5jbG9zZXN0KCJsaSIpLmFkZENsYXNzKCJ1aS1saS1oYXMtY291bnQiKX0pLmFkZENsYXNzKCJ1aS1idG4tdXAtIisoZS5qcW1EYXRhKCJjb3VudHRoZW1lIil8fHRoaXMub3B0aW9ucy5jb3VudFRoZW1lKSsiIHVpLWJ0bi1jb3JuZXItYWxsIiksdGhpcy5fYWRkVGh1bWJDbGFzc2VzKGopLHRoaXMuX2FkZFRodW1iQ2xhc3NlcyhlLmZpbmQoIi51aS1saW5rLWluaGVyaXQiKSksdGhpcy5fcmVmcmVzaENvcm5lcnMoYiksdGhpcy5fdHJpZ2dlcigiYWZ0ZXJyZWZyZXNoIil9LF9pZFN0cmluZ0VzY2FwZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywiLSIpfSxfY3JlYXRlU3ViUGFnZXM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz1iLmNsb3Nlc3QoIi51aS1wYWdlIiksZT1jLmpxbURhdGEoInVybCIpLGY9ZXx8Y1swXVthLmV4cGFuZG9dLGc9Yi5hdHRyKCJpZCIpLGg9dGhpcy5vcHRpb25zLGk9ImRhdGEtIithLm1vYmlsZS5ucyxqPXRoaXMsaz1jLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIikuanFtRGF0YSgiaWQiKSxsO3R5cGVvZiBkW2ZdPT0idW5kZWZpbmVkIiYmKGRbZl09LTEpLGc9Z3x8KytkW2ZdLGEoYi5maW5kKCJsaT51bCwgbGk+b2wiKS50b0FycmF5KCkucmV2ZXJzZSgpKS5lYWNoKGZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMsZj1hKHRoaXMpLGo9Zi5hdHRyKCJpZCIpfHxnKyItIitjLG09Zi5wYXJlbnQoKSxuPWEoZi5wcmV2QWxsKCkudG9BcnJheSgpLnJldmVyc2UoKSkscD1uLmxlbmd0aD9uOmEoIjxzcGFuPiIrYS50cmltKG0uY29udGVudHMoKVswXS5ub2RlVmFsdWUpKyI8L3NwYW4+IikscT1wLmZpcnN0KCkuZ2V0RW5jb2RlZFRleHQoKSxyPShlfHwiIikrIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkrIj0iK2oscz1mLmpxbURhdGEoInRoZW1lIil8fGgudGhlbWUsdD1mLmpxbURhdGEoImNvdW50dGhlbWUiKXx8Yi5qcW1EYXRhKCJjb3VudHRoZW1lIil8fGguY291bnRUaGVtZSx1LHY7bD0hMCx1PWYuZGV0YWNoKCkud3JhcCgiPGRpdiAiK2krInJvbGU9J3BhZ2UnICIraSsidXJsPSciK3IrIicgIitpKyJ0aGVtZT0nIitzKyInICIraSsiY291bnQtdGhlbWU9JyIrdCsiJz48ZGl2ICIraSsicm9sZT0nY29udGVudCc+PC9kaXY+PC9kaXY+IikucGFyZW50KCkuYmVmb3JlKCI8ZGl2ICIraSsicm9sZT0naGVhZGVyJyAiK2krInRoZW1lPSciK2guaGVhZGVyVGhlbWUrIic+PGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrcSsiPC9kaXY+PC9kaXY+IikuYWZ0ZXIoaz9hKCI8ZGl2ICIraSsicm9sZT0nZm9vdGVyJyAiK2krImlkPSciK2srIic+Iik6IiIpLnBhcmVudCgpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLHUucGFnZSgpLHY9bS5maW5kKCJhOmZpcnN0Iiksdi5sZW5ndGh8fCh2PWEoIjxhLz4iKS5odG1sKHB8fHEpLnByZXBlbmRUbyhtLmVtcHR5KCkpKSx2LmF0dHIoImhyZWYiLCIjIityKX0pLmxpc3R2aWV3KCk7aWYobCYmYy5pcygiOmpxbURhdGEoZXh0ZXJuYWwtcGFnZT0ndHJ1ZScpIikmJmMuZGF0YSgicGFnZSIpLm9wdGlvbnMuZG9tQ2FjaGU9PT0hMSl7dmFyIG09ZnVuY3Rpb24oYixkKXt2YXIgZj1kLm5leHRQYWdlLGcsaD1uZXcgYS5FdmVudCgicGFnZXJlbW92ZSIpO2QubmV4dFBhZ2UmJihnPWYuanFtRGF0YSgidXJsIiksZy5pbmRleE9mKGUrIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkpIT09MCYmKGouY2hpbGRQYWdlcygpLnJlbW92ZSgpLGMudHJpZ2dlcihoKSxoLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxjLnJlbW92ZVdpdGhEZXBlbmRlbnRzKCkpKX07Yy51bmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIpLmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIsbSl9fSxjaGlsZFBhZ2VzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5wYXJlbnRQYWdlLmpxbURhdGEoInVybCIpO3JldHVybiBhKCI6anFtRGF0YSh1cmxePSciK2IrIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkrIicpIil9fSksYShjKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuYXV0b2RpdmlkZXJzPSExLGEubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmF1dG9kaXZpZGVyc1NlbGVjdG9yPWZ1bmN0aW9uKGEpe3ZhciBiPWEudGV4dCgpfHxudWxsO3JldHVybiBiPyhiPWIuc2xpY2UoMCwxKS50b1VwcGVyQ2FzZSgpLGIpOm51bGx9LGEoYykuZGVsZWdhdGUoInVsLG9sIiwibGlzdHZpZXdjcmVhdGUiLGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxkPWIuZGF0YSgibGlzdHZpZXciKTtpZighZHx8IWQub3B0aW9ucy5hdXRvZGl2aWRlcnMpcmV0dXJuO3ZhciBlPWZ1bmN0aW9uKCl7Yi5maW5kKCJsaTpqcW1EYXRhKHJvbGU9J2xpc3QtZGl2aWRlcicpIikucmVtb3ZlKCk7dmFyIGU9Yi5maW5kKCJsaSIpLGY9bnVsbCxnLGg7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe2c9ZVtpXSxoPWQub3B0aW9ucy5hdXRvZGl2aWRlcnNTZWxlY3RvcihhKGcpKTtpZihoJiZmIT09aCl7dmFyIGo9Yy5jcmVhdGVFbGVtZW50KCJsaSIpO2ouYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShoKSksai5zZXRBdHRyaWJ1dGUoImRhdGEtIithLm1vYmlsZS5ucysicm9sZSIsImxpc3QtZGl2aWRlciIpLGcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaixnKX1mPWh9fSxmPWZ1bmN0aW9uKCl7Yi51bmJpbmQoImxpc3R2aWV3YWZ0ZXJyZWZyZXNoIixmKSxlKCksZC5yZWZyZXNoKCksYi5iaW5kKCJsaXN0dmlld2FmdGVycmVmcmVzaCIsZil9O2YoKX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUuY2hlY2tib3hyYWRpbyIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0nY2hlY2tib3gnXSxpbnB1dFt0eXBlPSdyYWRpbyddIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBkPXRoaXMsZT10aGlzLmVsZW1lbnQsZj1mdW5jdGlvbihhLGIpe3JldHVybiBhLmpxbURhdGEoYil8fGEuY2xvc2VzdCgiZm9ybSwgZmllbGRzZXQiKS5qcW1EYXRhKGIpfSxnPWEoZSkuY2xvc2VzdCgibGFiZWwiKSxoPWcubGVuZ3RoP2c6YShlKS5jbG9zZXN0KCJmb3JtLCBmaWVsZHNldCwgOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpbmQoImxhYmVsIikuZmlsdGVyKCJbZm9yPSciK2VbMF0uaWQrIiddIikuZmlyc3QoKSxpPWVbMF0udHlwZSxqPWYoZSwibWluaSIpLGs9aSsiLW9uIixsPWkrIi1vZmYiLG09ZS5wYXJlbnRzKCI6anFtRGF0YSh0eXBlPSdob3Jpem9udGFsJykiKS5sZW5ndGg/YjpsLG49ZihlLCJpY29ucG9zIiksbz1tPyIiOiIgIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyxwPSJ1aS0iK2srbyxxPSJ1aS0iK2wscj0idWktaWNvbi0iK2sscz0idWktaWNvbi0iK2w7aWYoaSE9PSJjaGVja2JveCImJmkhPT0icmFkaW8iKXJldHVybjthLmV4dGVuZCh0aGlzLHtsYWJlbDpoLGlucHV0dHlwZTppLGNoZWNrZWRDbGFzczpwLHVuY2hlY2tlZENsYXNzOnEsY2hlY2tlZGljb246cix1bmNoZWNrZWRpY29uOnN9KSx0aGlzLm9wdGlvbnMudGhlbWV8fCh0aGlzLm9wdGlvbnMudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIikpLGguYnV0dG9uTWFya3VwKHt0aGVtZTp0aGlzLm9wdGlvbnMudGhlbWUsaWNvbjptLHNoYWRvdzohMSxtaW5pOmosaWNvbnBvczpufSk7dmFyIHQ9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTt0LmNsYXNzTmFtZT0idWktIitpLGUuYWRkKGgpLndyYXBBbGwodCksaC5iaW5kKHt2bW91c2VvdmVyOmZ1bmN0aW9uKGIpe2EodGhpcykucGFyZW50KCkuaXMoIi51aS1kaXNhYmxlZCIpJiZiLnN0b3BQcm9wYWdhdGlvbigpfSx2Y2xpY2s6ZnVuY3Rpb24oYSl7aWYoZS5pcygiOmRpc2FibGVkIikpe2EucHJldmVudERlZmF1bHQoKTtyZXR1cm59cmV0dXJuIGQuX2NhY2hlVmFscygpLGUucHJvcCgiY2hlY2tlZCIsaT09PSJyYWRpbyImJiEwfHwhZS5wcm9wKCJjaGVja2VkIikpLGUudHJpZ2dlckhhbmRsZXIoImNsaWNrIiksZC5fZ2V0SW5wdXRTZXQoKS5ub3QoZSkucHJvcCgiY2hlY2tlZCIsITEpLGQuX3VwZGF0ZUFsbCgpLCExfX0pLGUuYmluZCh7dm1vdXNlZG93bjpmdW5jdGlvbigpe2QuX2NhY2hlVmFscygpfSx2Y2xpY2s6ZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IuaXMoIjpjaGVja2VkIik/KGIucHJvcCgiY2hlY2tlZCIsITApLGQuX2dldElucHV0U2V0KCkubm90KGIpLnByb3AoImNoZWNrZWQiLCExKSk6Yi5wcm9wKCJjaGVja2VkIiwhMSksZC5fdXBkYXRlQWxsKCl9LGZvY3VzOmZ1bmN0aW9uKCl7aC5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0sYmx1cjpmdW5jdGlvbigpe2gucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9fSksdGhpcy5yZWZyZXNoKCl9LF9jYWNoZVZhbHM6ZnVuY3Rpb24oKXt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmpxbURhdGEoImNhY2hlVmFsIix0aGlzLmNoZWNrZWQpfSl9LF9nZXRJbnB1dFNldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlucHV0dHlwZT09PSJjaGVja2JveCI/dGhpcy5lbGVtZW50OnRoaXMuZWxlbWVudC5jbG9zZXN0KCJmb3JtLCBmaWVsZHNldCwgOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpbmQoImlucHV0W25hbWU9JyIrdGhpcy5lbGVtZW50WzBdLm5hbWUrIiddW3R5cGU9JyIrdGhpcy5pbnB1dHR5cGUrIiddIil9LF91cGRhdGVBbGw6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMuX2dldElucHV0U2V0KCkuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyk7KHRoaXMuY2hlY2tlZHx8Yi5pbnB1dHR5cGU9PT0iY2hlY2tib3giKSYmYy50cmlnZ2VyKCJjaGFuZ2UiKX0pLmNoZWNrYm94cmFkaW8oInJlZnJlc2giKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudFswXSxiPXRoaXMubGFiZWwsYz1iLmZpbmQoIi51aS1pY29uIik7YS5jaGVja2VkPyhiLmFkZENsYXNzKHRoaXMuY2hlY2tlZENsYXNzKS5yZW1vdmVDbGFzcyh0aGlzLnVuY2hlY2tlZENsYXNzKSxjLmFkZENsYXNzKHRoaXMuY2hlY2tlZGljb24pLnJlbW92ZUNsYXNzKHRoaXMudW5jaGVja2VkaWNvbikpOihiLnJlbW92ZUNsYXNzKHRoaXMuY2hlY2tlZENsYXNzKS5hZGRDbGFzcyh0aGlzLnVuY2hlY2tlZENsYXNzKSxjLnJlbW92ZUNsYXNzKHRoaXMuY2hlY2tlZGljb24pLmFkZENsYXNzKHRoaXMudW5jaGVja2VkaWNvbikpLGEuZGlzYWJsZWQ/dGhpcy5kaXNhYmxlKCk6dGhpcy5lbmFibGUoKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsITApLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLCExKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKX19KSxhKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5jaGVja2JveHJhZGlvLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0LCEwKX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUuYnV0dG9uIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsaWNvbjpudWxsLGljb25wb3M6bnVsbCxjb3JuZXJzOiEwLHNoYWRvdzohMCxpY29uc2hhZG93OiEwLGluaXRTZWxlY3RvcjoiYnV0dG9uLCBbdHlwZT0nYnV0dG9uJ10sIFt0eXBlPSdzdWJtaXQnXSwgW3R5cGU9J3Jlc2V0J10ifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5lbGVtZW50LGUsZj10aGlzLm9wdGlvbnMsZyxoLGk9Zi5pbmxpbmV8fGQuanFtRGF0YSgiaW5saW5lIiksaj1mLm1pbml8fGQuanFtRGF0YSgibWluaSIpLGs9IiIsbDtpZihkWzBdLnRhZ05hbWU9PT0iQSIpe2QuaGFzQ2xhc3MoInVpLWJ0biIpfHxkLmJ1dHRvbk1hcmt1cCgpO3JldHVybn10aGlzLm9wdGlvbnMudGhlbWV8fCh0aGlzLm9wdGlvbnMudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIikpLCF+ZFswXS5jbGFzc05hbWUuaW5kZXhPZigidWktYnRuLWxlZnQiKXx8KGs9InVpLWJ0bi1sZWZ0IiksIX5kWzBdLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1idG4tcmlnaHQiKXx8KGs9InVpLWJ0bi1yaWdodCIpO2lmKGQuYXR0cigidHlwZSIpPT09InN1Ym1pdCJ8fGQuYXR0cigidHlwZSIpPT09InJlc2V0IilrP2srPSIgdWktc3VibWl0IjprPSJ1aS1zdWJtaXQiO2EoImxhYmVsW2Zvcj0nIitkLmF0dHIoImlkIikrIiddIikuYWRkQ2xhc3MoInVpLXN1Ym1pdCIpLHRoaXMuYnV0dG9uPWEoIjxkaXY+PC9kaXY+IilbZC5odG1sKCk/Imh0bWwiOiJ0ZXh0Il0oZC5odG1sKCl8fGQudmFsKCkpLmluc2VydEJlZm9yZShkKS5idXR0b25NYXJrdXAoe3RoZW1lOmYudGhlbWUsaWNvbjpmLmljb24saWNvbnBvczpmLmljb25wb3MsaW5saW5lOmksY29ybmVyczpmLmNvcm5lcnMsc2hhZG93OmYuc2hhZG93LGljb25zaGFkb3c6Zi5pY29uc2hhZG93LG1pbmk6an0pLmFkZENsYXNzKGspLmFwcGVuZChkLmFkZENsYXNzKCJ1aS1idG4taGlkZGVuIikpLGU9dGhpcy5idXR0b24sZz1kLmF0dHIoInR5cGUiKSxoPWQuYXR0cigibmFtZSIpLGchPT0iYnV0dG9uIiYmZyE9PSJyZXNldCImJmgmJmQuYmluZCgidmNsaWNrIixmdW5jdGlvbigpe2w9PT1iJiYobD1hKCI8aW5wdXQ+Iix7dHlwZToiaGlkZGVuIixuYW1lOmQuYXR0cigibmFtZSIpLHZhbHVlOmQuYXR0cigidmFsdWUiKX0pLmluc2VydEJlZm9yZShkKSxhKGMpLm9uZSgic3VibWl0IixmdW5jdGlvbigpe2wucmVtb3ZlKCksbD1ifSkpfSksZC5iaW5kKHtmb2N1czpmdW5jdGlvbigpe2UuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXtlLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pLHRoaXMucmVmcmVzaCgpfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMSksdGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITEpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCEwKSx0aGlzLmJ1dHRvbi5hZGRDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMCksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50O2IucHJvcCgiZGlzYWJsZWQiKT90aGlzLmRpc2FibGUoKTp0aGlzLmVuYWJsZSgpLGEodGhpcy5idXR0b24uZGF0YSgiYnV0dG9uRWxlbWVudHMiKS50ZXh0KVtiLmh0bWwoKT8iaHRtbCI6InRleHQiXShiLmh0bWwoKXx8Yi52YWwoKSl9fSksYShjKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUuYnV0dG9uLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0LCEwKX0pfShhKSxmdW5jdGlvbihhLGIpe2EuZm4uY29udHJvbGdyb3VwPWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoYSxiKXthLnJlbW92ZUNsYXNzKCJ1aS1idG4tY29ybmVyLWFsbCB1aS1jb3JuZXItdG9wIHVpLWNvcm5lci1ib3R0b20gdWktY29ybmVyLWxlZnQgdWktY29ybmVyLXJpZ2h0IHVpLWNvbnRyb2xncm91cC1sYXN0IHVpLXNoYWRvdyIpLmVxKDApLmFkZENsYXNzKGJbMF0pLmVuZCgpLmxhc3QoKS5hZGRDbGFzcyhiWzFdKS5hZGRDbGFzcygidWktY29udHJvbGdyb3VwLWxhc3QiKX1yZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKSxlPWEuZXh0ZW5kKHtkaXJlY3Rpb246ZC5qcW1EYXRhKCJ0eXBlIil8fCJ2ZXJ0aWNhbCIsc2hhZG93OiExLGV4Y2x1ZGVJbnZpc2libGU6ITAsbWluaTpkLmpxbURhdGEoIm1pbmkiKX0sYiksZj1kLmNoaWxkcmVuKCJsZWdlbmQiKSxnPWQuY2hpbGRyZW4oIi51aS1jb250cm9sZ3JvdXAtbGFiZWwiKSxoPWQuY2hpbGRyZW4oIi51aS1jb250cm9sZ3JvdXAtY29udHJvbHMiKSxpPWUuZGlyZWN0aW9uPT09Imhvcml6b250YWwiP1sidWktY29ybmVyLWxlZnQiLCJ1aS1jb3JuZXItcmlnaHQiXTpbInVpLWNvcm5lci10b3AiLCJ1aS1jb3JuZXItYm90dG9tIl0saj1kLmZpbmQoImlucHV0IikuZmlyc3QoKS5hdHRyKCJ0eXBlIik7aC5sZW5ndGgmJmguY29udGVudHMoKS51bndyYXAoKSxkLndyYXBJbm5lcigiPGRpdiBjbGFzcz0ndWktY29udHJvbGdyb3VwLWNvbnRyb2xzJz48L2Rpdj4iKSxmLmxlbmd0aD8oYSgiPGRpdiByb2xlPSdoZWFkaW5nJyBjbGFzcz0ndWktY29udHJvbGdyb3VwLWxhYmVsJz4iK2YuaHRtbCgpKyI8L2Rpdj4iKS5pbnNlcnRCZWZvcmUoZC5jaGlsZHJlbigwKSksZi5yZW1vdmUoKSk6Zy5sZW5ndGgmJmQucHJlcGVuZChnKSxkLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIHVpLWNvbnRyb2xncm91cCB1aS1jb250cm9sZ3JvdXAtIitlLmRpcmVjdGlvbiksYyhkLmZpbmQoIi51aS1idG4iKyhlLmV4Y2x1ZGVJbnZpc2libGU/Ijp2aXNpYmxlIjoiIikpLm5vdCgiLnVpLXNsaWRlci1oYW5kbGUiKSxpKSxjKGQuZmluZCgiLnVpLWJ0bi1pbm5lciIpLGkpLGUuc2hhZG93JiZkLmFkZENsYXNzKCJ1aS1zaGFkb3ciKSxlLm1pbmkmJmQuYWRkQ2xhc3MoInVpLW1pbmkiKX0pfX0oYSksZnVuY3Rpb24oYSxiKXthKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5maW5kKCJhIikuanFtRW5oYW5jZWFibGUoKS5ub3QoIi51aS1idG4sIC51aS1saW5rLWluaGVyaXQsIDpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIikuYWRkQ2xhc3MoInVpLWxpbmsiKX0pfShhKSxmdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGUoYSxiLGMsZCl7dmFyIGU9ZDtyZXR1cm4gYTxiP2U9YysoYS1iKS8yOmU9TWF0aC5taW4oTWF0aC5tYXgoYyxkLWIvMiksYythLWIpLGV9ZnVuY3Rpb24gZigpe3ZhciBjPWEoYik7cmV0dXJue3g6Yy5zY3JvbGxMZWZ0KCkseTpjLnNjcm9sbFRvcCgpLGN4OmIuaW5uZXJXaWR0aHx8Yy53aWR0aCgpLGN5OmIuaW5uZXJIZWlnaHR8fGMuaGVpZ2h0KCl9fWEud2lkZ2V0KCJtb2JpbGUucG9wdXAiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxvdmVybGF5VGhlbWU6bnVsbCxzaGFkb3c6ITAsY29ybmVyczohMCx0cmFuc2l0aW9uOiJub25lIixwb3NpdGlvblRvOiJvcmlnaW4iLHRvbGVyYW5jZTpudWxsLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0ncG9wdXAnKSIsY2xvc2VMaW5rU2VsZWN0b3I6ImE6anFtRGF0YShyZWw9J2JhY2snKSIsY2xvc2VMaW5rRXZlbnRzOiJjbGljay5wb3B1cCIsbmF2aWdhdGVFdmVudHM6Im5hdmlnYXRlLnBvcHVwIixjbG9zZUV2ZW50czoibmF2aWdhdGUucG9wdXAgcGFnZWJlZm9yZWNoYW5nZS5wb3B1cCIsaGlzdG9yeTohYS5tb2JpbGUuYnJvd3Nlci5pZX0sX2VhdEV2ZW50QW5kQ2xvc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHRoaXMuY2xvc2UoKSwhMX0sX3Jlc2l6ZVNjcmVlbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX3VpLmNvbnRhaW5lci5vdXRlckhlaWdodCghMCk7dGhpcy5fdWkuc2NyZWVuLnJlbW92ZUF0dHIoInN0eWxlIiksYT50aGlzLl91aS5zY3JlZW4uaGVpZ2h0KCkmJnRoaXMuX3VpLnNjcmVlbi5oZWlnaHQoYSl9LF9oYW5kbGVXaW5kb3dLZXlVcDpmdW5jdGlvbihiKXtpZih0aGlzLl9pc09wZW4mJmIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuRVNDQVBFKXJldHVybiB0aGlzLl9lYXRFdmVudEFuZENsb3NlKGIpfSxfbWF5YmVSZWZyZXNoVGltZW91dDpmdW5jdGlvbigpe3ZhciBiPWYoKTtpZih0aGlzLl9yZXNpemVEYXRhKXtpZihiLng9PT10aGlzLl9yZXNpemVEYXRhLndpbkNvb3Jkcy54JiZiLnk9PT10aGlzLl9yZXNpemVEYXRhLndpbkNvb3Jkcy55JiZiLmN4PT09dGhpcy5fcmVzaXplRGF0YS53aW5Db29yZHMuY3gmJmIuY3k9PT10aGlzLl9yZXNpemVEYXRhLndpbkNvb3Jkcy5jeSlyZXR1cm4hMTtjbGVhclRpbWVvdXQodGhpcy5fcmVzaXplRGF0YS50aW1lb3V0SWQpfXJldHVybiB0aGlzLl9yZXNpemVEYXRhPXt0aW1lb3V0SWQ6c2V0VGltZW91dChhLnByb3h5KHRoaXMsIl9yZXNpemVUaW1lb3V0IiksMjAwKSx3aW5Db29yZHM6Yn0sITB9LF9yZXNpemVUaW1lb3V0OmZ1bmN0aW9uKCl7dGhpcy5fbWF5YmVSZWZyZXNoVGltZW91dCgpfHwodGhpcy5fdHJpZ2dlcigiYmVmb3JlcG9zaXRpb24iKSx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLXNlbGVjdG1lbnUtaGlkZGVuIikub2Zmc2V0KHRoaXMuX3BsYWNlbWVudENvb3Jkcyh0aGlzLl9kZXNpcmVkQ29vcmRzKGQsZCwid2luZG93IikpKSx0aGlzLl9yZXNpemVTY3JlZW4oKSx0aGlzLl9yZXNpemVEYXRhPW51bGwsdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzPSExKX0sX2hhbmRsZVdpbmRvd1Jlc2l6ZTpmdW5jdGlvbihhKXt0aGlzLl9pc09wZW4mJnRoaXMuX21heWJlUmVmcmVzaFRpbWVvdXQoKX0sX2hhbmRsZVdpbmRvd09yaWVudGF0aW9uY2hhbmdlOmZ1bmN0aW9uKGEpe3RoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzc3x8KHRoaXMuX3VpLmNvbnRhaW5lci5hZGRDbGFzcygidWktc2VsZWN0bWVudS1oaWRkZW4iKS5yZW1vdmVBdHRyKCJzdHlsZSIpLHRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcz0hMCl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYz17c2NyZWVuOmEoIjxkaXYgY2xhc3M9J3VpLXNjcmVlbi1oaWRkZW4gdWktcG9wdXAtc2NyZWVuJz48L2Rpdj4iKSxwbGFjZWhvbGRlcjphKCI8ZGl2IHN0eWxlPSdkaXNwbGF5OiBub25lOyc+PCEtLSBwbGFjZWhvbGRlciAtLT48L2Rpdj4iKSxjb250YWluZXI6YSgiPGRpdiBjbGFzcz0ndWktcG9wdXAtY29udGFpbmVyIHVpLXNlbGVjdG1lbnUtaGlkZGVuJz48L2Rpdj4iKX0sZT10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKSxmPXRoaXMuZWxlbWVudC5hdHRyKCJpZCIpLGc9dGhpczt0aGlzLm9wdGlvbnMuaGlzdG9yeT10aGlzLm9wdGlvbnMuaGlzdG9yeSYmYS5tb2JpbGUuYWpheEVuYWJsZWQmJmEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkLGUubGVuZ3RoPT09MCYmKGU9YSgiYm9keSIpKSx0aGlzLm9wdGlvbnMuY29udGFpbmVyPXRoaXMub3B0aW9ucy5jb250YWluZXJ8fGEubW9iaWxlLnBhZ2VDb250YWluZXIsZS5hcHBlbmQoYy5zY3JlZW4pLGMuY29udGFpbmVyLmluc2VydEFmdGVyKGMuc2NyZWVuKSxjLnBsYWNlaG9sZGVyLmluc2VydEFmdGVyKHRoaXMuZWxlbWVudCksZiYmKGMuc2NyZWVuLmF0dHIoImlkIixmKyItc2NyZWVuIiksYy5jb250YWluZXIuYXR0cigiaWQiLGYrIi1wb3B1cCIpLGMucGxhY2Vob2xkZXIuaHRtbCgiPCEtLSBwbGFjZWhvbGRlciBmb3IgIitmKyIgLS0+IikpLGMuY29udGFpbmVyLmFwcGVuZCh0aGlzLmVsZW1lbnQpLHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktcG9wdXAiKSxhLmV4dGVuZCh0aGlzLHtfcGFnZTplLF91aTpjLF9mYWxsYmFja1RyYW5zaXRpb246IiIsX2N1cnJlbnRUcmFuc2l0aW9uOiExLF9wcmVyZXFzOm51bGwsX2lzT3BlbjohMSxfdG9sZXJhbmNlOm51bGwsX3Jlc2l6ZURhdGE6bnVsbCxfb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzOiExLF9nbG9iYWxIYW5kbGVyczpbe3NyYzphKGIpLGhhbmRsZXI6e29yaWVudGF0aW9uY2hhbmdlOmEucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd09yaWVudGF0aW9uY2hhbmdlIikscmVzaXplOmEucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd1Jlc2l6ZSIpLGtleXVwOmEucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd0tleVVwIil9fV19KSxhLmVhY2godGhpcy5vcHRpb25zLGZ1bmN0aW9uKGEsYil7Zy5vcHRpb25zW2FdPWQsZy5fc2V0T3B0aW9uKGEsYiwhMCl9KSxjLnNjcmVlbi5iaW5kKCJ2Y2xpY2siLGEucHJveHkodGhpcywiX2VhdEV2ZW50QW5kQ2xvc2UiKSksYS5lYWNoKHRoaXMuX2dsb2JhbEhhbmRsZXJzLGZ1bmN0aW9uKGEsYil7Yi5zcmMuYmluZChiLmhhbmRsZXIpfSl9LF9hcHBseVRoZW1lOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD0oYS5hdHRyKCJjbGFzcyIpfHwiIikuc3BsaXQoIiAiKSxlPSEwLGY9bnVsbCxnLGg9U3RyaW5nKGIpO3doaWxlKGQubGVuZ3RoPjApe2Y9ZC5wb3AoKSxnPShuZXcgUmVnRXhwKCJedWktIitjKyItKFthLXpdKSQiKSkuZXhlYyhmKTtpZihnJiZnLmxlbmd0aD4xKXtmPWdbMV07YnJlYWt9Zj1udWxsfWIhPT1mJiYoYS5yZW1vdmVDbGFzcygidWktIitjKyItIitmKSxiIT09bnVsbCYmYiE9PSJub25lIiYmYS5hZGRDbGFzcygidWktIitjKyItIitoKSl9LF9zZXRUaGVtZTpmdW5jdGlvbihhKXt0aGlzLl9hcHBseVRoZW1lKHRoaXMuZWxlbWVudCxhLCJib2R5Iil9LF9zZXRPdmVybGF5VGhlbWU6ZnVuY3Rpb24oYSl7dGhpcy5fYXBwbHlUaGVtZSh0aGlzLl91aS5zY3JlZW4sYSwib3ZlcmxheSIpLHRoaXMuX2lzT3BlbiYmdGhpcy5fdWkuc2NyZWVuLmFkZENsYXNzKCJpbiIpfSxfc2V0U2hhZG93OmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktb3ZlcmxheS1zaGFkb3ciLGEpfSxfc2V0Q29ybmVyczpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGEpfSxfYXBwbHlUcmFuc2l0aW9uOmZ1bmN0aW9uKGIpe3RoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcyh0aGlzLl9mYWxsYmFja1RyYW5zaXRpb24pLGImJmIhPT0ibm9uZSImJih0aGlzLl9mYWxsYmFja1RyYW5zaXRpb249YS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb24oYiksdGhpcy5fdWkuY29udGFpbmVyLmFkZENsYXNzKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbikpfSxfc2V0VHJhbnNpdGlvbjpmdW5jdGlvbihhKXt0aGlzLl9jdXJyZW50VHJhbnNpdGlvbnx8dGhpcy5fYXBwbHlUcmFuc2l0aW9uKGEpfSxfc2V0VG9sZXJhbmNlOmZ1bmN0aW9uKGIpe3ZhciBjPXt0OjMwLHI6MTUsYjozMCxsOjE1fTtpZihiKXt2YXIgZD1TdHJpbmcoYikuc3BsaXQoIiwiKTthLmVhY2goZCxmdW5jdGlvbihhLGIpe2RbYV09cGFyc2VJbnQoYiwxMCl9KTtzd2l0Y2goZC5sZW5ndGgpe2Nhc2UgMTppc05hTihkWzBdKXx8KGMudD1jLnI9Yy5iPWMubD1kWzBdKTticmVhaztjYXNlIDI6aXNOYU4oZFswXSl8fChjLnQ9Yy5iPWRbMF0pLGlzTmFOKGRbMV0pfHwoYy5sPWMucj1kWzFdKTticmVhaztjYXNlIDQ6aXNOYU4oZFswXSl8fChjLnQ9ZFswXSksaXNOYU4oZFsxXSl8fChjLnI9ZFsxXSksaXNOYU4oZFsyXSl8fChjLmI9ZFsyXSksaXNOYU4oZFszXSl8fChjLmw9ZFszXSk7YnJlYWs7ZGVmYXVsdDp9fXRoaXMuX3RvbGVyYW5jZT1jfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGIsYyl7dmFyIGUsZj0iX3NldCIrYi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStiLnNsaWNlKDEpO3RoaXNbZl0hPT1kJiZ0aGlzW2ZdKGMpLGU9WyJpbml0U2VsZWN0b3IiLCJjbG9zZUxpbmtTZWxlY3RvciIsImNsb3NlTGlua0V2ZW50cyIsIm5hdmlnYXRlRXZlbnRzIiwiY2xvc2VFdmVudHMiLCJoaXN0b3J5IiwiY29udGFpbmVyIl0sYS5tb2JpbGUud2lkZ2V0LnByb3RvdHlwZS5fc2V0T3B0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxhLmluQXJyYXkoYixlKT09PS0xJiZ0aGlzLmVsZW1lbnQuYXR0cigiZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpK2IucmVwbGFjZSgvKFtBLVpdKS8sIi0kMSIpLnRvTG93ZXJDYXNlKCksYyl9LF9wbGFjZW1lbnRDb29yZHM6ZnVuY3Rpb24oYSl7dmFyIGI9ZigpLGQ9e3g6dGhpcy5fdG9sZXJhbmNlLmwseTpiLnkrdGhpcy5fdG9sZXJhbmNlLnQsY3g6Yi5jeC10aGlzLl90b2xlcmFuY2UubC10aGlzLl90b2xlcmFuY2UucixjeTpiLmN5LXRoaXMuX3RvbGVyYW5jZS50LXRoaXMuX3RvbGVyYW5jZS5ifSxnLGg7dGhpcy5fdWkuY29udGFpbmVyLmNzcygibWF4LXdpZHRoIixkLmN4KSxnPXtjeDp0aGlzLl91aS5jb250YWluZXIub3V0ZXJXaWR0aCghMCksY3k6dGhpcy5fdWkuY29udGFpbmVyLm91dGVySGVpZ2h0KCEwKX0saD17eDplKGQuY3gsZy5jeCxkLngsYS54KSx5OmUoZC5jeSxnLmN5LGQueSxhLnkpfSxoLnk9TWF0aC5tYXgoMCxoLnkpO3ZhciBpPWMuZG9jdW1lbnRFbGVtZW50LGo9Yy5ib2R5LGs9TWF0aC5tYXgoaS5jbGllbnRIZWlnaHQsai5zY3JvbGxIZWlnaHQsai5vZmZzZXRIZWlnaHQsaS5zY3JvbGxIZWlnaHQsaS5vZmZzZXRIZWlnaHQpO3JldHVybiBoLnktPU1hdGgubWluKGgueSxNYXRoLm1heCgwLGgueStnLmN5LWspKSx7bGVmdDpoLngsdG9wOmgueX19LF9jcmVhdGVQcmVyZXFzOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT10aGlzLGY7Zj17c2NyZWVuOmEuRGVmZXJyZWQoKSxjb250YWluZXI6YS5EZWZlcnJlZCgpfSxmLnNjcmVlbi50aGVuKGZ1bmN0aW9uKCl7Zj09PWUuX3ByZXJlcXMmJmIoKX0pLGYuY29udGFpbmVyLnRoZW4oZnVuY3Rpb24oKXtmPT09ZS5fcHJlcmVxcyYmYygpfSksYS53aGVuKGYuc2NyZWVuLGYuY29udGFpbmVyKS5kb25lKGZ1bmN0aW9uKCl7Zj09PWUuX3ByZXJlcXMmJihlLl9wcmVyZXFzPW51bGwsZCgpKX0pLGUuX3ByZXJlcXM9Zn0sX2FuaW1hdGU6ZnVuY3Rpb24oYil7dGhpcy5fdWkuc2NyZWVuLnJlbW92ZUNsYXNzKGIuY2xhc3NUb1JlbW92ZSkuYWRkQ2xhc3MoYi5zY3JlZW5DbGFzc1RvQWRkKSxiLnByZXJlcXMuc2NyZWVuLnJlc29sdmUoKSxiLnRyYW5zaXRpb24mJmIudHJhbnNpdGlvbiE9PSJub25lIj8oYi5hcHBseVRyYW5zaXRpb24mJnRoaXMuX2FwcGx5VHJhbnNpdGlvbihiLnRyYW5zaXRpb24pLHRoaXMuX3VpLmNvbnRhaW5lci5hbmltYXRpb25Db21wbGV0ZShhLnByb3h5KGIucHJlcmVxcy5jb250YWluZXIsInJlc29sdmUiKSkuYWRkQ2xhc3MoYi5jb250YWluZXJDbGFzc1RvQWRkKS5yZW1vdmVDbGFzcyhiLmNsYXNzVG9SZW1vdmUpKTpiLnByZXJlcXMuY29udGFpbmVyLnJlc29sdmUoKX0sX2Rlc2lyZWRDb29yZHM6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPW51bGwsZyxoPWYoKTtpZihkJiZkIT09Im9yaWdpbiIpaWYoZD09PSJ3aW5kb3ciKWI9aC5jeC8yK2gueCxjPWguY3kvMitoLnk7ZWxzZXt0cnl7ZT1hKGQpfWNhdGNoKGkpe2U9bnVsbH1lJiYoZS5maWx0ZXIoIjp2aXNpYmxlIiksZS5sZW5ndGg9PT0wJiYoZT1udWxsKSl9ZSYmKGc9ZS5vZmZzZXQoKSxiPWcubGVmdCtlLm91dGVyV2lkdGgoKS8yLGM9Zy50b3ArZS5vdXRlckhlaWdodCgpLzIpO2lmKGEudHlwZShiKSE9PSJudW1iZXIifHxpc05hTihiKSliPWguY3gvMitoLng7aWYoYS50eXBlKGMpIT09Im51bWJlciJ8fGlzTmFOKGMpKWM9aC5jeS8yK2gueTtyZXR1cm57eDpiLHk6Y319LF9vcGVuUHJlcmVxc0NvbXBsZXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLl91aS5jb250YWluZXIuYWRkQ2xhc3MoInVpLXBvcHVwLWFjdGl2ZSIpLGEuX2lzT3Blbj0hMCxhLl9yZXNpemVTY3JlZW4oKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5fdWkuY29udGFpbmVyLmF0dHIoInRhYmluZGV4IiwiMCIpLmZvY3VzKCksYS5fdHJpZ2dlcigiYWZ0ZXJvcGVuIil9KX0sX29wZW46ZnVuY3Rpb24oYyl7dmFyIGQsZSxmPWZ1bmN0aW9uKCl7dmFyIGE9YixjPW5hdmlnYXRvci51c2VyQWdlbnQsZD1jLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTlcLl0rKS8pLGU9ISFkJiZkWzFdLGY9Yy5tYXRjaCgvQW5kcm9pZCAoXGQrKD86XC5cZCspKS8pLGc9ISFmJiZmWzFdLGg9Yy5pbmRleE9mKCJDaHJvbWUiKT4tMTtyZXR1cm4gZiE9PW51bGwmJmc9PT0iNC4wIiYmZSYmZT41MzQuMTMmJiFoPyEwOiExfSgpO2M9Y3x8e30sZT1jLnRyYW5zaXRpb258fHRoaXMub3B0aW9ucy50cmFuc2l0aW9uLHRoaXMuX3RyaWdnZXIoImJlZm9yZXBvc2l0aW9uIiksZD10aGlzLl9wbGFjZW1lbnRDb29yZHModGhpcy5fZGVzaXJlZENvb3JkcyhjLngsYy55LGMucG9zaXRpb25Ub3x8dGhpcy5vcHRpb25zLnBvc2l0aW9uVG98fCJvcmlnaW4iKSksdGhpcy5fY3JlYXRlUHJlcmVxcyhhLm5vb3AsYS5ub29wLGEucHJveHkodGhpcywiX29wZW5QcmVyZXFzQ29tcGxldGUiKSksZT8odGhpcy5fY3VycmVudFRyYW5zaXRpb249ZSx0aGlzLl9hcHBseVRyYW5zaXRpb24oZSkpOmU9dGhpcy5vcHRpb25zLnRyYW5zaXRpb24sdGhpcy5vcHRpb25zLnRoZW1lfHx0aGlzLl9zZXRUaGVtZSh0aGlzLl9wYWdlLmpxbURhdGEoInRoZW1lIil8fGEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuX3BhZ2UsImMiKSksdGhpcy5fdWkuc2NyZWVuLnJlbW92ZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiksdGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJ1aS1zZWxlY3RtZW51LWhpZGRlbiIpLm9mZnNldChkKSx0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lJiZmJiZ0aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKS5hZGRDbGFzcygidWktcG9wdXAtb3BlbiIpLHRoaXMuX2FuaW1hdGUoe2FkZGl0aW9uYWxDb25kaXRpb246ITAsdHJhbnNpdGlvbjplLGNsYXNzVG9SZW1vdmU6IiIsc2NyZWVuQ2xhc3NUb0FkZDoiaW4iLGNvbnRhaW5lckNsYXNzVG9BZGQ6ImluIixhcHBseVRyYW5zaXRpb246ITEscHJlcmVxczp0aGlzLl9wcmVyZXFzfSl9LF9jbG9zZVByZXJlcVNjcmVlbjpmdW5jdGlvbigpe3RoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcygib3V0IikuYWRkQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKX0sX2Nsb3NlUHJlcmVxQ29udGFpbmVyOmZ1bmN0aW9uKCl7dGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJyZXZlcnNlIG91dCIpLmFkZENsYXNzKCJ1aS1zZWxlY3RtZW51LWhpZGRlbiIpLnJlbW92ZUF0dHIoInN0eWxlIil9LF9jbG9zZVByZXJlcXNEb25lOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWIub3B0aW9ucztiLl91aS5jb250YWluZXIucmVtb3ZlQXR0cigidGFiaW5kZXgiKSxjLmNvbnRhaW5lci51bmJpbmQoYy5jbG9zZUV2ZW50cyksYi5lbGVtZW50LnVuZGVsZWdhdGUoYy5jbG9zZUxpbmtTZWxlY3RvcixjLmNsb3NlTGlua0V2ZW50cyksYS5tb2JpbGUucG9wdXAuYWN0aXZlPWQsYi5fdHJpZ2dlcigiYWZ0ZXJjbG9zZSIpfSxfY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLWFjdGl2ZSIpLHRoaXMuX3BhZ2UucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLW9wZW4iKSx0aGlzLl9pc09wZW49ITEsdGhpcy5fY3JlYXRlUHJlcmVxcyhhLnByb3h5KHRoaXMsIl9jbG9zZVByZXJlcVNjcmVlbiIpLGEucHJveHkodGhpcywiX2Nsb3NlUHJlcmVxQ29udGFpbmVyIiksYS5wcm94eSh0aGlzLCJfY2xvc2VQcmVyZXFzRG9uZSIpKSx0aGlzLl9hbmltYXRlKHthZGRpdGlvbmFsQ29uZGl0aW9uOnRoaXMuX3VpLnNjcmVlbi5oYXNDbGFzcygiaW4iKSx0cmFuc2l0aW9uOnRoaXMuX2N1cnJlbnRUcmFuc2l0aW9ufHx0aGlzLm9wdGlvbnMudHJhbnNpdGlvbixjbGFzc1RvUmVtb3ZlOiJpbiIsc2NyZWVuQ2xhc3NUb0FkZDoib3V0Iixjb250YWluZXJDbGFzc1RvQWRkOiJyZXZlcnNlIG91dCIsYXBwbHlUcmFuc2l0aW9uOiEwLHByZXJlcXM6dGhpcy5fcHJlcmVxc30pfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBiPXRoaXM7Yi5fY2xvc2UoKSxiLl9zZXRUaGVtZSgibm9uZSIpLGIuZWxlbWVudC5pbnNlcnRBZnRlcihiLl91aS5wbGFjZWhvbGRlcikucmVtb3ZlQ2xhc3MoInVpLXBvcHVwIHVpLW92ZXJsYXktc2hhZG93IHVpLWNvcm5lci1hbGwiKSxiLl91aS5zY3JlZW4ucmVtb3ZlKCksYi5fdWkuY29udGFpbmVyLnJlbW92ZSgpLGIuX3VpLnBsYWNlaG9sZGVyLnJlbW92ZSgpLGEuZWFjaChiLl9nbG9iYWxIYW5kbGVycyxmdW5jdGlvbihiLGMpe2EuZWFjaChjLmhhbmRsZXIsZnVuY3Rpb24oYSxiKXtjLnNyYy51bmJpbmQoYSxiKX0pfSl9LF9iaW5kQ29udGFpbmVyQ2xvc2U6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO2Iub3B0aW9ucy5jb250YWluZXIub25lKGIub3B0aW9ucy5jbG9zZUV2ZW50cyxhLnByb3h5KGIuX2Nsb3NlLGIpKX0sb3BlbjpmdW5jdGlvbihiKXt2YXIgYz10aGlzLGU9dGhpcy5vcHRpb25zLGYsZyxoLGksaixrO2lmKGEubW9iaWxlLnBvcHVwLmFjdGl2ZSlyZXR1cm47YS5tb2JpbGUucG9wdXAuYWN0aXZlPXRoaXM7aWYoIWUuaGlzdG9yeSl7Yy5fb3BlbihiKSxjLl9iaW5kQ29udGFpbmVyQ2xvc2UoKSxjLmVsZW1lbnQuZGVsZWdhdGUoZS5jbG9zZUxpbmtTZWxlY3RvcixlLmNsb3NlTGlua0V2ZW50cyxmdW5jdGlvbihhKXtyZXR1cm4gYy5fY2xvc2UoKSwhMX0pO3JldHVybn1nPWEubW9iaWxlLmRpYWxvZ0hhc2hLZXksaD1hLm1vYmlsZS5hY3RpdmVQYWdlLGk9aC5pcygiLnVpLWRpYWxvZyIpLGY9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKS51cmwsaj1mLmluZGV4T2YoZyk+LTEmJiFpLGs9YS5tb2JpbGUudXJsSGlzdG9yeTtpZihqKXtjLl9vcGVuKGIpLGMuX2JpbmRDb250YWluZXJDbG9zZSgpO3JldHVybn1mLmluZGV4T2YoZyk9PT0tMSYmIWk/Zj1mK2c6Zj1hLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKS5oYXNoK2csay5hY3RpdmVJbmRleD09PTAmJmY9PT1rLmluaXRpYWxEc3QmJihmKz1nKSxlLmNvbnRhaW5lci5vbmUoZS5uYXZpZ2F0ZUV2ZW50cyxmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksYy5fb3BlbihiKSxjLl9iaW5kQ29udGFpbmVyQ2xvc2UoKX0pLGsuaWdub3JlTmV4dEhhc2hDaGFuZ2U9aSxrLmFkZE5ldyhmLGQsZCxkLCJkaWFsb2ciKSxhLm1vYmlsZS5wYXRoLnNldChmKX0sY2xvc2U6ZnVuY3Rpb24oKXtpZighYS5tb2JpbGUucG9wdXAuYWN0aXZlKXJldHVybjt0aGlzLm9wdGlvbnMuaGlzdG9yeT9hLm1vYmlsZS5iYWNrKCk6dGhpcy5fY2xvc2UoKX19KSxhLm1vYmlsZS5wb3B1cC5oYW5kbGVMaW5rPWZ1bmN0aW9uKGIpe3ZhciBjPWIuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0ncGFnZScpIiksZD1jLmxlbmd0aD09PTA/YSgiYm9keSIpOmMsZT1hKGEubW9iaWxlLnBhdGgucGFyc2VVcmwoYi5hdHRyKCJocmVmIikpLmhhc2gsZFswXSksZjtlLmRhdGEoInBvcHVwIikmJihmPWIub2Zmc2V0KCksZS5wb3B1cCgib3BlbiIse3g6Zi5sZWZ0K2Iub3V0ZXJXaWR0aCgpLzIseTpmLnRvcCtiLm91dGVySGVpZ2h0KCkvMix0cmFuc2l0aW9uOmIuanFtRGF0YSgidHJhbnNpdGlvbiIpLHBvc2l0aW9uVG86Yi5qcW1EYXRhKCJwb3NpdGlvbi10byIpLGxpbms6Yn0pKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9LDMwMCl9LGEoYykuYmluZCgicGFnZWJlZm9yZWNoYW5nZSIsZnVuY3Rpb24oYixjKXtjLm9wdGlvbnMucm9sZT09PSJwb3B1cCImJihhLm1vYmlsZS5wb3B1cC5oYW5kbGVMaW5rKGMub3B0aW9ucy5saW5rKSxiLnByZXZlbnREZWZhdWx0KCkpfSksYShjKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUucG9wdXAucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQsITApfSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPWEoIm1ldGFbbmFtZT12aWV3cG9ydF0iKSxjPWIuYXR0cigiY29udGVudCIpLGQ9YysiLG1heGltdW0tc2NhbGU9MSwgdXNlci1zY2FsYWJsZT1ubyIsZT1jKyIsbWF4aW11bS1zY2FsZT0xMCwgdXNlci1zY2FsYWJsZT15ZXMiLGY9Lyh1c2VyLXNjYWxhYmxlW1xzXSo9W1xzXSpubyl8KG1heGltdW0tc2NhbGVbXHNdKj1bXHNdKjEpWyQsXHNdLy50ZXN0KGMpO2EubW9iaWxlLnpvb209YS5leHRlbmQoe30se2VuYWJsZWQ6IWYsbG9ja2VkOiExLGRpc2FibGU6ZnVuY3Rpb24oYyl7IWYmJiFhLm1vYmlsZS56b29tLmxvY2tlZCYmKGIuYXR0cigiY29udGVudCIsZCksYS5tb2JpbGUuem9vbS5lbmFibGVkPSExLGEubW9iaWxlLnpvb20ubG9ja2VkPWN8fCExKX0sZW5hYmxlOmZ1bmN0aW9uKGMpeyFmJiYoIWEubW9iaWxlLnpvb20ubG9ja2VkfHxjPT09ITApJiYoYi5hdHRyKCJjb250ZW50IixlKSxhLm1vYmlsZS56b29tLmVuYWJsZWQ9ITAsYS5tb2JpbGUuem9vbS5sb2NrZWQ9ITEpfSxyZXN0b3JlOmZ1bmN0aW9uKCl7Znx8KGIuYXR0cigiY29udGVudCIsYyksYS5tb2JpbGUuem9vbS5lbmFibGVkPSEwKX19KX0oYSksZnVuY3Rpb24oYSxkKXthLndpZGdldCgibW9iaWxlLnRleHRpbnB1dCIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLHByZXZlbnRGb2N1c1pvb206L2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ndGV4dCddLCBpbnB1dFt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJyksIGlucHV0W3R5cGU9J251bWJlciddLCA6anFtRGF0YSh0eXBlPSdudW1iZXInKSwgaW5wdXRbdHlwZT0ncGFzc3dvcmQnXSwgaW5wdXRbdHlwZT0nZW1haWwnXSwgaW5wdXRbdHlwZT0ndXJsJ10sIGlucHV0W3R5cGU9J3RlbCddLCB0ZXh0YXJlYSwgaW5wdXRbdHlwZT0ndGltZSddLCBpbnB1dFt0eXBlPSdkYXRlJ10sIGlucHV0W3R5cGU9J21vbnRoJ10sIGlucHV0W3R5cGU9J3dlZWsnXSwgaW5wdXRbdHlwZT0nZGF0ZXRpbWUnXSwgaW5wdXRbdHlwZT0nZGF0ZXRpbWUtbG9jYWwnXSwgaW5wdXRbdHlwZT0nY29sb3InXSwgaW5wdXQ6bm90KFt0eXBlXSkiLGNsZWFyU2VhcmNoQnV0dG9uVGV4dDoiY2xlYXIgdGV4dCIsZGlzYWJsZWQ6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBtKCl7c2V0VGltZW91dChmdW5jdGlvbigpe2wudG9nZ2xlQ2xhc3MoInVpLWlucHV0LWNsZWFyLWhpZGRlbiIsIWUudmFsKCkpfSwwKX12YXIgZD10aGlzLGU9dGhpcy5lbGVtZW50LGY9dGhpcy5vcHRpb25zLGc9Zi50aGVtZXx8YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIiksaD0iIHVpLWJvZHktIitnLGk9ZS5qcW1EYXRhKCJtaW5pIik9PT0hMCxqPWk/IiB1aS1taW5pIjoiIixrLGw7YSgibGFiZWxbZm9yPSciK2UuYXR0cigiaWQiKSsiJ10iKS5hZGRDbGFzcygidWktaW5wdXQtdGV4dCIpLGs9ZS5hZGRDbGFzcygidWktaW5wdXQtdGV4dCB1aS1ib2R5LSIrZyksdHlwZW9mIGVbMF0uYXV0b2NvcnJlY3QhPSJ1bmRlZmluZWQiJiYhYS5zdXBwb3J0LnRvdWNoT3ZlcmZsb3cmJihlWzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvcnJlY3QiLCJvZmYiKSxlWzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvbXBsZXRlIiwib2ZmIikpLGUuaXMoIlt0eXBlPSdzZWFyY2gnXSw6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIpPyhrPWUud3JhcCgiPGRpdiBjbGFzcz0ndWktaW5wdXQtc2VhcmNoIHVpLXNoYWRvdy1pbnNldCB1aS1idG4tY29ybmVyLWFsbCB1aS1idG4tc2hhZG93IHVpLWljb24tc2VhcmNoZmllbGQiK2graisiJz48L2Rpdj4iKS5wYXJlbnQoKSxsPWEoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1pbnB1dC1jbGVhcicgdGl0bGU9JyIrZi5jbGVhclNlYXJjaEJ1dHRvblRleHQrIic+IitmLmNsZWFyU2VhcmNoQnV0dG9uVGV4dCsiPC9hPiIpLmJpbmQoImNsaWNrIixmdW5jdGlvbihhKXtlLnZhbCgiIikuZm9jdXMoKS50cmlnZ2VyKCJjaGFuZ2UiKSxsLmFkZENsYXNzKCJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iKSxhLnByZXZlbnREZWZhdWx0KCl9KS5hcHBlbmRUbyhrKS5idXR0b25NYXJrdXAoe2ljb246ImRlbGV0ZSIsaWNvbnBvczoibm90ZXh0Iixjb3JuZXJzOiEwLHNoYWRvdzohMCxtaW5pOml9KSxtKCksZS5iaW5kKCJwYXN0ZSBjdXQga2V5dXAgZm9jdXMgY2hhbmdlIGJsdXIiLG0pKTplLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIHVpLXNoYWRvdy1pbnNldCIraCtqKSxlLmZvY3VzKGZ1bmN0aW9uKCl7ay5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJsdXIoZnVuY3Rpb24oKXtrLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSkuYmluZCgiZm9jdXMiLGZ1bmN0aW9uKCl7Zi5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApfSkuYmluZCgiYmx1ciIsZnVuY3Rpb24oKXtmLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0pO2lmKGUuaXMoInRleHRhcmVhIikpe3ZhciBuPTE1LG89MTAwLHA7dGhpcy5fa2V5dXA9ZnVuY3Rpb24oKXt2YXIgYT1lWzBdLnNjcm9sbEhlaWdodCxiPWVbMF0uY2xpZW50SGVpZ2h0O2I8YSYmZS5oZWlnaHQoYStuKX0sZS5rZXl1cChmdW5jdGlvbigpe2NsZWFyVGltZW91dChwKSxwPXNldFRpbWVvdXQoZC5fa2V5dXAsbyl9KSx0aGlzLl9vbihhKGMpLHtwYWdlY2hhbmdlOiJfa2V5dXAifSksYS50cmltKGUudmFsKCkpJiZ0aGlzLl9vbihhKGIpLHtsb2FkOiJfa2V5dXAifSl9ZS5hdHRyKCJkaXNhYmxlZCIpJiZ0aGlzLmRpc2FibGUoKX0sZGlzYWJsZTpmdW5jdGlvbigpe3ZhciBhO3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCEwKS5pcygiW3R5cGU9J3NlYXJjaCddLCA6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIpP2E9dGhpcy5lbGVtZW50LnBhcmVudCgpOmE9dGhpcy5lbGVtZW50LGEuYWRkQ2xhc3MoInVpLWRpc2FibGVkIiksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfSxlbmFibGU6ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMSkuaXMoIlt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKT9hPXRoaXMuZWxlbWVudC5wYXJlbnQoKTphPXRoaXMuZWxlbWVudCxhLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX19KSxhKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS50ZXh0aW5wdXQucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQsITApfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyPSExLGEubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlclBsYWNlaG9sZGVyPSJGaWx0ZXIgaXRlbXMuLi4iLGEubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlclRoZW1lPSJjIjt2YXIgZD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGEudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoYik9PT0tMX07YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2s9ZCxhKGMpLmRlbGVnYXRlKCI6anFtRGF0YShyb2xlPSdsaXN0dmlldycpIiwibGlzdHZpZXdjcmVhdGUiLGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxjPWIuZGF0YSgibGlzdHZpZXciKTtpZighYy5vcHRpb25zLmZpbHRlcilyZXR1cm47dmFyIGU9YSgiPGZvcm0+Iix7ImNsYXNzIjoidWktbGlzdHZpZXctZmlsdGVyIHVpLWJhci0iK2Mub3B0aW9ucy5maWx0ZXJUaGVtZSxyb2xlOiJzZWFyY2gifSksZj1hKCI8aW5wdXQ+Iix7cGxhY2Vob2xkZXI6Yy5vcHRpb25zLmZpbHRlclBsYWNlaG9sZGVyfSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0eXBlIiwic2VhcmNoIikuanFtRGF0YSgibGFzdHZhbCIsIiIpLmJpbmQoImtleXVwIGNoYW5nZSIsZnVuY3Rpb24oKXt2YXIgZT1hKHRoaXMpLGY9dGhpcy52YWx1ZS50b0xvd2VyQ2FzZSgpLGc9bnVsbCxoPWUuanFtRGF0YSgibGFzdHZhbCIpKyIiLGk9ITEsaj0iIixrLGw9Yy5vcHRpb25zLmZpbHRlckNhbGxiYWNrIT09ZDtjLl90cmlnZ2VyKCJiZWZvcmVmaWx0ZXIiLCJiZWZvcmVmaWx0ZXIiLHtpbnB1dDp0aGlzfSksZS5qcW1EYXRhKCJsYXN0dmFsIixmKSxsfHxmLmxlbmd0aDxoLmxlbmd0aHx8Zi5pbmRleE9mKGgpIT09MD9nPWIuY2hpbGRyZW4oKTpnPWIuY2hpbGRyZW4oIjpub3QoLnVpLXNjcmVlbi1oaWRkZW4pIik7aWYoZil7Zm9yKHZhciBtPWcubGVuZ3RoLTE7bT49MDttLS0paz1hKGdbbV0pLGo9ay5qcW1EYXRhKCJmaWx0ZXJ0ZXh0Iil8fGsudGV4dCgpLGsuaXMoImxpOmpxbURhdGEocm9sZT1saXN0LWRpdmlkZXIpIik/KGsudG9nZ2xlQ2xhc3MoInVpLWZpbHRlci1oaWRlcXVldWUiLCFpKSxpPSExKTpjLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2soaixmLGspP2sudG9nZ2xlQ2xhc3MoInVpLWZpbHRlci1oaWRlcXVldWUiLCEwKTppPSEwO2cuZmlsdGVyKCI6bm90KC51aS1maWx0ZXItaGlkZXF1ZXVlKSIpLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiwhMSksZy5maWx0ZXIoIi51aS1maWx0ZXItaGlkZXF1ZXVlIikudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLCEwKS50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsITEpfWVsc2UgZy50b2dnbGVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIsITEpO2MuX3JlZnJlc2hDb3JuZXJzKCl9KS5hcHBlbmRUbyhlKS50ZXh0aW5wdXQoKTtjLm9wdGlvbnMuaW5zZXQmJmUuYWRkQ2xhc3MoInVpLWxpc3R2aWV3LWZpbHRlci1pbnNldCIpLGUuYmluZCgic3VibWl0IixmdW5jdGlvbigpe3JldHVybiExfSkuaW5zZXJ0QmVmb3JlKGIpfSl9KGEpLGZ1bmN0aW9uKGEsZCl7YS53aWRnZXQoIm1vYmlsZS5zbGlkZXIiLGEubW9iaWxlLndpZGdldCx7d2lkZ2V0RXZlbnRQcmVmaXg6InNsaWRlIixvcHRpb25zOnt0aGVtZTpudWxsLHRyYWNrVGhlbWU6bnVsbCxkaXNhYmxlZDohMSxpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J3JhbmdlJ10sIDpqcW1EYXRhKHR5cGU9J3JhbmdlJyksIDpqcW1EYXRhKHJvbGU9J3NsaWRlcicpIixtaW5pOiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxmPXRoaXMuZWxlbWVudCxnPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGYsImMiKSxoPXRoaXMub3B0aW9ucy50aGVtZXx8ZyxpPXRoaXMub3B0aW9ucy50cmFja1RoZW1lfHxnLGo9ZlswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGs9aj09PSJzZWxlY3QiPyJ1aS1zbGlkZXItc3dpdGNoIjoiIixsPWYuYXR0cigiaWQiKSxtPWEoIltmb3I9JyIrbCsiJ10iKSxuPW0uYXR0cigiaWQiKXx8bCsiLWxhYmVsIixvPW0uYXR0cigiaWQiLG4pLHA9ZnVuY3Rpb24oKXtyZXR1cm4gaj09PSJpbnB1dCI/cGFyc2VGbG9hdChmLnZhbCgpKTpmWzBdLnNlbGVjdGVkSW5kZXh9LHE9aj09PSJpbnB1dCI/cGFyc2VGbG9hdChmLmF0dHIoIm1pbiIpKTowLHI9aj09PSJpbnB1dCI/cGFyc2VGbG9hdChmLmF0dHIoIm1heCIpKTpmLmZpbmQoIm9wdGlvbiIpLmxlbmd0aC0xLHM9Yi5wYXJzZUZsb2F0KGYuYXR0cigic3RlcCIpfHwxKSx0PXRoaXMub3B0aW9ucy5pbmxpbmV8fGYuanFtRGF0YSgiaW5saW5lIik9PT0hMD8iIHVpLXNsaWRlci1pbmxpbmUiOiIiLHU9dGhpcy5vcHRpb25zLm1pbml8fGYuanFtRGF0YSgibWluaSIpPyIgdWktc2xpZGVyLW1pbmkiOiIiLHY9Yy5jcmVhdGVFbGVtZW50KCJhIiksdz1hKHYpLHg9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSx5PWEoeCksej1mLmpxbURhdGEoImhpZ2hsaWdodCIpJiZqIT09InNlbGVjdCI/ZnVuY3Rpb24oKXt2YXIgYj1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBiLmNsYXNzTmFtZT0idWktc2xpZGVyLWJnICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MrIiB1aS1idG4tY29ybmVyLWFsbCIsYShiKS5wcmVwZW5kVG8oeSl9KCk6ITEsQTt0aGlzLl90eXBlPWosdi5zZXRBdHRyaWJ1dGUoImhyZWYiLCIjIikseC5zZXRBdHRyaWJ1dGUoInJvbGUiLCJhcHBsaWNhdGlvbiIpLHguY2xhc3NOYW1lPVsidWktc2xpZGVyICIsaywiIHVpLWJ0bi1kb3duLSIsaSwiIHVpLWJ0bi1jb3JuZXItYWxsIix0LHVdLmpvaW4oIiIpLHYuY2xhc3NOYW1lPSJ1aS1zbGlkZXItaGFuZGxlIix4LmFwcGVuZENoaWxkKHYpLHcuYnV0dG9uTWFya3VwKHtjb3JuZXJzOiEwLHRoZW1lOmgsc2hhZG93OiEwfSkuYXR0cih7cm9sZToic2xpZGVyIiwiYXJpYS12YWx1ZW1pbiI6cSwiYXJpYS12YWx1ZW1heCI6ciwiYXJpYS12YWx1ZW5vdyI6cCgpLCJhcmlhLXZhbHVldGV4dCI6cCgpLHRpdGxlOnAoKSwiYXJpYS1sYWJlbGxlZGJ5IjpufSksYS5leHRlbmQodGhpcyx7c2xpZGVyOnksaGFuZGxlOncsdmFsdWViZzp6LGRyYWdnaW5nOiExLGJlZm9yZVN0YXJ0Om51bGwsdXNlck1vZGlmaWVkOiExLG1vdXNlTW92ZWQ6ITF9KTtpZihqPT09InNlbGVjdCIpe3ZhciBCPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7Qi5jbGFzc05hbWU9InVpLXNsaWRlci1pbm5lcm9mZnNldCI7Zm9yKHZhciBDPTAsRD14LmNoaWxkTm9kZXMubGVuZ3RoO0M8RDtDKyspQi5hcHBlbmRDaGlsZCh4LmNoaWxkTm9kZXNbQ10pO3guYXBwZW5kQ2hpbGQoQiksdy5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLEE9Zi5maW5kKCJvcHRpb24iKTtmb3IodmFyIEU9MCxGPUEubGVuZ3RoO0U8RjtFKyspe3ZhciBHPUU/ImEiOiJiIixIPUU/IiAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzOiIgdWktYnRuLWRvd24tIitpLEk9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxKPWMuY3JlYXRlRWxlbWVudCgic3BhbiIpO0ouY2xhc3NOYW1lPVsidWktc2xpZGVyLWxhYmVsIHVpLXNsaWRlci1sYWJlbC0iLEcsSCwiIHVpLWJ0bi1jb3JuZXItYWxsIl0uam9pbigiIiksSi5zZXRBdHRyaWJ1dGUoInJvbGUiLCJpbWciKSxKLmFwcGVuZENoaWxkKGMuY3JlYXRlVGV4dE5vZGUoQVtFXS5pbm5lckhUTUwpKSxhKEopLnByZXBlbmRUbyh5KX1lLl9sYWJlbHM9YSgiLnVpLXNsaWRlci1sYWJlbCIseSl9by5hZGRDbGFzcygidWktc2xpZGVyIiksZi5hZGRDbGFzcyhqPT09ImlucHV0Ij8idWktc2xpZGVyLWlucHV0IjoidWktc2xpZGVyLXN3aXRjaCIpLmNoYW5nZShmdW5jdGlvbigpe2UubW91c2VNb3ZlZHx8ZS5yZWZyZXNoKHAoKSwhMCl9KS5rZXl1cChmdW5jdGlvbigpe2UucmVmcmVzaChwKCksITAsITApfSkuYmx1cihmdW5jdGlvbigpe2UucmVmcmVzaChwKCksITApfSksdGhpcy5fcHJldmVudERvY3VtZW50RHJhZz1mdW5jdGlvbihhKXtpZihlLmRyYWdnaW5nJiYhZS5vcHRpb25zLmRpc2FibGVkKXJldHVybiBlLm1vdXNlTW92ZWQ9ITAsaj09PSJzZWxlY3QiJiZ3LnJlbW92ZUNsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiksZS5yZWZyZXNoKGEpLGUudXNlck1vZGlmaWVkPWUuYmVmb3JlU3RhcnQhPT1mWzBdLnNlbGVjdGVkSW5kZXgsITF9LHRoaXMuX29uKGEoYykse3Ztb3VzZW1vdmU6dGhpcy5fcHJldmVudERvY3VtZW50RHJhZ30pLGYuYmluZCgidm1vdXNldXAiLGEucHJveHkoZS5fY2hlY2tlZFJlZnJlc2gsZSkpLHkuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oYSl7cmV0dXJuIGUub3B0aW9ucy5kaXNhYmxlZD8hMTooZS5kcmFnZ2luZz0hMCxlLnVzZXJNb2RpZmllZD0hMSxlLm1vdXNlTW92ZWQ9ITEsaj09PSJzZWxlY3QiJiYoZS5iZWZvcmVTdGFydD1mWzBdLnNlbGVjdGVkSW5kZXgpLGUucmVmcmVzaChhKSxlLl90cmlnZ2VyKCJzdGFydCIpLCExKX0pLmJpbmQoInZjbGljayIsITEpLHRoaXMuX3NsaWRlck1vdXNlVXA9ZnVuY3Rpb24oKXtpZihlLmRyYWdnaW5nKXJldHVybiBlLmRyYWdnaW5nPSExLGo9PT0ic2VsZWN0IiYmKHcuYWRkQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKSxlLm1vdXNlTW92ZWQ/ZS51c2VyTW9kaWZpZWQ/ZS5yZWZyZXNoKGUuYmVmb3JlU3RhcnQ9PT0wPzE6MCk6ZS5yZWZyZXNoKGUuYmVmb3JlU3RhcnQpOmUucmVmcmVzaChlLmJlZm9yZVN0YXJ0PT09MD8xOjApKSxlLm1vdXNlTW92ZWQ9ITEsZS5fdHJpZ2dlcigic3RvcCIpLCExfSx0aGlzLl9vbih5LmFkZChjKSx7dm1vdXNldXA6dGhpcy5fc2xpZGVyTW91c2VVcH0pLHkuaW5zZXJ0QWZ0ZXIoZiksaj09PSJzZWxlY3QiJiZ0aGlzLmhhbmRsZS5iaW5kKHtmb2N1czpmdW5jdGlvbigpe3kuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXt5LnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pLHRoaXMuaGFuZGxlLmJpbmQoe3Ztb3VzZWRvd246ZnVuY3Rpb24oKXthKHRoaXMpLmZvY3VzKCl9LHZjbGljazohMSxrZXlkb3duOmZ1bmN0aW9uKGIpe3ZhciBjPXAoKTtpZihlLm9wdGlvbnMuZGlzYWJsZWQpcmV0dXJuO3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5IT01FOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5FTkQ6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlJJR0hUOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5MRUZUOmIucHJldmVudERlZmF1bHQoKSxlLl9rZXlTbGlkaW5nfHwoZS5fa2V5U2xpZGluZz0hMCxhKHRoaXMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKSl9c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkhPTUU6ZS5yZWZyZXNoKHEpO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5FTkQ6ZS5yZWZyZXNoKHIpO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUklHSFQ6ZS5yZWZyZXNoKGMrcyk7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuTEVGVDplLnJlZnJlc2goYy1zKX19LGtleXVwOmZ1bmN0aW9uKGIpe2UuX2tleVNsaWRpbmcmJihlLl9rZXlTbGlkaW5nPSExLGEodGhpcykucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpKX19KSx0aGlzLnJlZnJlc2goZCxkLCEwKX0sX2NoZWNrZWRSZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy52YWx1ZSE9dGhpcy5fdmFsdWUoKSYmdGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCkpfSxfdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHlwZT09PSJpbnB1dCI/cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQudmFsKCkpOnRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4fSxyZWZyZXNoOmZ1bmN0aW9uKGIsYyxkKXsodGhpcy5vcHRpb25zLmRpc2FibGVkfHx0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiKSkmJnRoaXMuZGlzYWJsZSgpLHRoaXMudmFsdWU9dGhpcy5fdmFsdWUoKTt2YXIgZT10aGlzLmVsZW1lbnQsZixnPWVbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxoPWc9PT0iaW5wdXQiP3BhcnNlRmxvYXQoZS5hdHRyKCJtaW4iKSk6MCxpPWc9PT0iaW5wdXQiP3BhcnNlRmxvYXQoZS5hdHRyKCJtYXgiKSk6ZS5maW5kKCJvcHRpb24iKS5sZW5ndGgtMSxqPWc9PT0iaW5wdXQiJiZwYXJzZUZsb2F0KGUuYXR0cigic3RlcCIpKT4wP3BhcnNlRmxvYXQoZS5hdHRyKCJzdGVwIikpOjE7aWYodHlwZW9mIGI9PSJvYmplY3QiKXt2YXIgaz1iLGw9ODtpZighdGhpcy5kcmFnZ2luZ3x8ay5wYWdlWDx0aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0LWx8fGsucGFnZVg+dGhpcy5zbGlkZXIub2Zmc2V0KCkubGVmdCt0aGlzLnNsaWRlci53aWR0aCgpK2wpcmV0dXJuO2Y9TWF0aC5yb3VuZCgoay5wYWdlWC10aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0KS90aGlzLnNsaWRlci53aWR0aCgpKjEwMCl9ZWxzZSBiPT1udWxsJiYoYj1nPT09ImlucHV0Ij9wYXJzZUZsb2F0KGUudmFsKCl8fDApOmVbMF0uc2VsZWN0ZWRJbmRleCksZj0ocGFyc2VGbG9hdChiKS1oKS8oaS1oKSoxMDA7aWYoaXNOYU4oZikpcmV0dXJuO2Y8MCYmKGY9MCksZj4xMDAmJihmPTEwMCk7dmFyIG09Zi8xMDAqKGktaCkraCxuPShtLWgpJWosbz1tLW47TWF0aC5hYnMobikqMj49aiYmKG8rPW4+MD9qOi1qKSxtPXBhcnNlRmxvYXQoby50b0ZpeGVkKDUpKSxtPGgmJihtPWgpLG0+aSYmKG09aSksdGhpcy5oYW5kbGUuY3NzKCJsZWZ0IixmKyIlIiksdGhpcy5oYW5kbGUuYXR0cih7ImFyaWEtdmFsdWVub3ciOmc9PT0iaW5wdXQiP206ZS5maW5kKCJvcHRpb24iKS5lcShtKS5hdHRyKCJ2YWx1ZSIpLCJhcmlhLXZhbHVldGV4dCI6Zz09PSJpbnB1dCI/bTplLmZpbmQoIm9wdGlvbiIpLmVxKG0pLmdldEVuY29kZWRUZXh0KCksdGl0bGU6Zz09PSJpbnB1dCI/bTplLmZpbmQoIm9wdGlvbiIpLmVxKG0pLmdldEVuY29kZWRUZXh0KCl9KSx0aGlzLnZhbHVlYmcmJnRoaXMudmFsdWViZy5jc3MoIndpZHRoIixmKyIlIik7aWYodGhpcy5fbGFiZWxzKXt2YXIgcD10aGlzLmhhbmRsZS53aWR0aCgpL3RoaXMuc2xpZGVyLndpZHRoKCkqMTAwLHE9ZiYmcCsoMTAwLXApKmYvMTAwLHI9Zj09PTEwMD8wOk1hdGgubWluKHArMTAwLXEsMTAwKTt0aGlzLl9sYWJlbHMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcykuaXMoIi51aS1zbGlkZXItbGFiZWwtYSIpO2EodGhpcykud2lkdGgoKGI/cTpyKSsiJSIpfSl9aWYoIWQpe3ZhciBzPSExO2c9PT0iaW5wdXQiPyhzPWUudmFsKCkhPT1tLGUudmFsKG0pKToocz1lWzBdLnNlbGVjdGVkSW5kZXghPT1tLGVbMF0uc2VsZWN0ZWRJbmRleD1tKSwhYyYmcyYmZS50cmlnZ2VyKCJjaGFuZ2UiKX19LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCExKSx0aGlzLnNsaWRlci5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMSksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITEpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITApLHRoaXMuc2xpZGVyLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCEwKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMCl9fSksYShjKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUuc2xpZGVyLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0LCEwKX0pfShhKSxmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KCJtb2JpbGUuc2VsZWN0bWVudSIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGRpc2FibGVkOiExLGljb246ImFycm93LWQiLGljb25wb3M6InJpZ2h0IixpbmxpbmU6ITEsY29ybmVyczohMCxzaGFkb3c6ITAsaWNvbnNoYWRvdzohMCxvdmVybGF5VGhlbWU6ImEiLGhpZGVQbGFjZWhvbGRlck1lbnVJdGVtczohMCxjbG9zZVRleHQ6IkNsb3NlIixuYXRpdmVNZW51OiEwLHByZXZlbnRGb2N1c1pvb206L2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xLGluaXRTZWxlY3Rvcjoic2VsZWN0Om5vdCggOmpxbURhdGEocm9sZT0nc2xpZGVyJykgKSIsbWluaTohMX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiBhKCI8ZGl2Lz4iKX0sX3NldERpc2FibGVkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLGEpLHRoaXMuYnV0dG9uLmF0dHIoImFyaWEtZGlzYWJsZWQiLGEpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLGEpfSxfZm9jdXNCdXR0b246ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLmJ1dHRvbi5mb2N1cygpfSw0MCl9LF9zZWxlY3RPcHRpb25zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0LmZpbmQoIm9wdGlvbiIpfSxfcHJlRXh0ZW5zaW9uOmZ1bmN0aW9uKCl7dmFyIGI9IiI7IX50aGlzLmVsZW1lbnRbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1sZWZ0Iil8fChiPSIgdWktYnRuLWxlZnQiKSwhfnRoaXMuZWxlbWVudFswXS5jbGFzc05hbWUuaW5kZXhPZigidWktYnRuLXJpZ2h0Iil8fChiPSIgdWktYnRuLXJpZ2h0IiksdGhpcy5zZWxlY3Q9dGhpcy5lbGVtZW50LndyYXAoIjxkaXYgY2xhc3M9J3VpLXNlbGVjdCIrYisiJz4iKSx0aGlzLnNlbGVjdElEPXRoaXMuc2VsZWN0LmF0dHIoImlkIiksdGhpcy5sYWJlbD1hKCJsYWJlbFtmb3I9JyIrdGhpcy5zZWxlY3RJRCsiJ10iKS5hZGRDbGFzcygidWktc2VsZWN0IiksdGhpcy5pc011bHRpcGxlPXRoaXMuc2VsZWN0WzBdLm11bHRpcGxlLHRoaXMub3B0aW9ucy50aGVtZXx8KHRoaXMub3B0aW9ucy50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLnNlbGVjdCwiYyIpKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3ByZUV4dGVuc2lvbigpLHRoaXMuX3RyaWdnZXIoImJlZm9yZUNyZWF0ZSIpLHRoaXMuYnV0dG9uPXRoaXMuX2J1dHRvbigpO3ZhciBjPXRoaXMsZD10aGlzLm9wdGlvbnMsZT1kLmlubGluZXx8dGhpcy5zZWxlY3QuanFtRGF0YSgiaW5saW5lIiksZj1kLm1pbml8fHRoaXMuc2VsZWN0LmpxbURhdGEoIm1pbmkiKSxnPWQuaWNvbj9kLmljb25wb3N8fHRoaXMuc2VsZWN0LmpxbURhdGEoImljb25wb3MiKTohMSxoPXRoaXMuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXg9PT0tMT8wOnRoaXMuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXgsaT10aGlzLmJ1dHRvbi5pbnNlcnRCZWZvcmUodGhpcy5zZWxlY3QpLmJ1dHRvbk1hcmt1cCh7dGhlbWU6ZC50aGVtZSxpY29uOmQuaWNvbixpY29ucG9zOmcsaW5saW5lOmUsY29ybmVyczpkLmNvcm5lcnMsc2hhZG93OmQuc2hhZG93LGljb25zaGFkb3c6ZC5pY29uc2hhZG93LG1pbmk6Zn0pO3RoaXMuc2V0QnV0dG9uVGV4dCgpLGQubmF0aXZlTWVudSYmYi5vcGVyYSYmYi5vcGVyYS52ZXJzaW9uJiZpLmFkZENsYXNzKCJ1aS1zZWxlY3QtbmF0aXZlb25seSIpLHRoaXMuaXNNdWx0aXBsZSYmKHRoaXMuYnV0dG9uQ291bnQ9YSgiPHNwYW4+IikuYWRkQ2xhc3MoInVpLWxpLWNvdW50IHVpLWJ0bi11cC1jIHVpLWJ0bi1jb3JuZXItYWxsIikuaGlkZSgpLmFwcGVuZFRvKGkuYWRkQ2xhc3MoInVpLWxpLWhhcy1jb3VudCIpKSksKGQuZGlzYWJsZWR8fHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIpKSYmdGhpcy5kaXNhYmxlKCksdGhpcy5zZWxlY3QuY2hhbmdlKGZ1bmN0aW9uKCl7Yy5yZWZyZXNoKCl9KSx0aGlzLmJ1aWxkKCl9LGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLnNlbGVjdC5hcHBlbmRUbyhiLmJ1dHRvbikuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJmb2N1cyIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7Yi5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5iaW5kKCJmb2N1cyB2bW91c2VvdmVyIixmdW5jdGlvbigpe2IuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW92ZXIiKX0pLmJpbmQoInZtb3VzZW1vdmUiLGZ1bmN0aW9uKCl7Yi5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2hhbmdlIGJsdXIgdm1vdXNlb3V0IixmdW5jdGlvbigpe2IuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW91dCIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImNoYW5nZSBibHVyIixmdW5jdGlvbigpe2IuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1idG4tZG93bi0iK2Iub3B0aW9ucy50aGVtZSl9KSxiLmJ1dHRvbi5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApfSkuYmluZCgibW91c2V1cCIsZnVuY3Rpb24oKXtiLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmc2V0VGltZW91dChmdW5jdGlvbigpe2EubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0sMCl9KX0sc2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLmZpbHRlcigiOnNlbGVjdGVkIil9LHNlbGVjdGVkSW5kaWNlczpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIHRoaXMuc2VsZWN0ZWQoKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYS5fc2VsZWN0T3B0aW9ucygpLmluZGV4KHRoaXMpfSkuZ2V0KCl9LHNldEJ1dHRvblRleHQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGQ9dGhpcy5zZWxlY3RlZCgpLGU9dGhpcy5wbGFjZWhvbGRlcixmPWEoYy5jcmVhdGVFbGVtZW50KCJzcGFuIikpO3RoaXMuYnV0dG9uLmZpbmQoIi51aS1idG4tdGV4dCIpLmh0bWwoZnVuY3Rpb24oKXtyZXR1cm4gZC5sZW5ndGg/ZT1kLm1hcChmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLnRleHQoKX0pLmdldCgpLmpvaW4oIiwgIik6ZT1iLnBsYWNlaG9sZGVyLGYudGV4dChlKS5hZGRDbGFzcyhiLnNlbGVjdC5hdHRyKCJjbGFzcyIpKS5hZGRDbGFzcyhkLmF0dHIoImNsYXNzIikpfSl9LHNldEJ1dHRvbkNvdW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZWxlY3RlZCgpO3RoaXMuaXNNdWx0aXBsZSYmdGhpcy5idXR0b25Db3VudFthLmxlbmd0aD4xPyJzaG93IjoiaGlkZSJdKCkudGV4dChhLmxlbmd0aCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLnNldEJ1dHRvblRleHQoKSx0aGlzLnNldEJ1dHRvbkNvdW50KCl9LG9wZW46YS5ub29wLGNsb3NlOmEubm9vcCxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0RGlzYWJsZWQoITApLHRoaXMuYnV0dG9uLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXREaXNhYmxlZCghMSksdGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIil9fSksYShjKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUuc2VsZWN0bWVudS5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwhMCl9KX0oYSksZnVuY3Rpb24oYSxkKXt2YXIgZT1mdW5jdGlvbihkKXt2YXIgZT1kLnNlbGVjdCxmPWQuc2VsZWN0SUQsZz1kLmxhYmVsLGg9ZC5zZWxlY3QuY2xvc2VzdCgiLnVpLXBhZ2UiKSxpPWQuX3NlbGVjdE9wdGlvbnMoKSxqPWQuaXNNdWx0aXBsZT1kLnNlbGVjdFswXS5tdWx0aXBsZSxrPWYrIi1idXR0b24iLGw9ZisiLW1lbnUiLG09YSgiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2RpYWxvZycgZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZT0nIitkLm9wdGlvbnMudGhlbWUrIicgZGF0YS0iK2EubW9iaWxlLm5zKyJvdmVybGF5LXRoZW1lPSciK2Qub3B0aW9ucy5vdmVybGF5VGhlbWUrIic+IisiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2hlYWRlcic+IisiPGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrZy5nZXRFbmNvZGVkVGV4dCgpKyI8L2Rpdj4iKyI8L2Rpdj4iKyI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0nY29udGVudCc+PC9kaXY+IisiPC9kaXY+Iiksbj1hKCI8ZGl2PiIseyJjbGFzcyI6InVpLXNlbGVjdG1lbnUifSkuaW5zZXJ0QWZ0ZXIoZC5zZWxlY3QpLnBvcHVwKHt0aGVtZToiYSJ9KSxvPWEoIjx1bD4iLHsiY2xhc3MiOiJ1aS1zZWxlY3RtZW51LWxpc3QiLGlkOmwscm9sZToibGlzdGJveCIsImFyaWEtbGFiZWxsZWRieSI6a30pLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiLGQub3B0aW9ucy50aGVtZSkuYXBwZW5kVG8obikscD1hKCI8ZGl2PiIseyJjbGFzcyI6InVpLWhlYWRlciB1aS1iYXItIitkLm9wdGlvbnMudGhlbWV9KS5wcmVwZW5kVG8obikscT1hKCI8aDE+Iix7ImNsYXNzIjoidWktdGl0bGUifSkuYXBwZW5kVG8ocCkscixzLHQ7ZC5pc011bHRpcGxlJiYodD1hKCI8YT4iLHt0ZXh0OmQub3B0aW9ucy5jbG9zZVRleHQsaHJlZjoiIyIsImNsYXNzIjoidWktYnRuLWxlZnQifSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJpY29ucG9zIiwibm90ZXh0IikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uIiwiZGVsZXRlIikuYXBwZW5kVG8ocCkuYnV0dG9uTWFya3VwKCkpLGEuZXh0ZW5kKGQse3NlbGVjdDpkLnNlbGVjdCxzZWxlY3RJRDpmLGJ1dHRvbklkOmssbWVudUlkOmwsdGhpc1BhZ2U6aCxtZW51UGFnZTptLGxhYmVsOmcsc2VsZWN0T3B0aW9uczppLGlzTXVsdGlwbGU6aix0aGVtZTpkLm9wdGlvbnMudGhlbWUsbGlzdGJveDpuLGxpc3Q6byxoZWFkZXI6cCxoZWFkZXJUaXRsZTpxLGhlYWRlckNsb3NlOnQsbWVudVBhZ2VDb250ZW50OnIsbWVudVBhZ2VDbG9zZTpzLHBsYWNlaG9sZGVyOiIiLGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcztiLnJlZnJlc2goKSxiLnNlbGVjdC5hdHRyKCJ0YWJpbmRleCIsIi0xIikuZm9jdXMoZnVuY3Rpb24oKXthKHRoaXMpLmJsdXIoKSxiLmJ1dHRvbi5mb2N1cygpfSksYi5idXR0b24uYmluZCgidmNsaWNrIGtleWRvd24iLGZ1bmN0aW9uKGMpe2lmKGMudHlwZT09PSJ2Y2xpY2sifHxjLmtleUNvZGUmJihjLmtleUNvZGU9PT1hLm1vYmlsZS5rZXlDb2RlLkVOVEVSfHxjLmtleUNvZGU9PT1hLm1vYmlsZS5rZXlDb2RlLlNQQUNFKSliLm9wZW4oKSxjLnByZXZlbnREZWZhdWx0KCl9KSxiLmxpc3QuYXR0cigicm9sZSIsImxpc3Rib3giKS5iaW5kKCJmb2N1c2luIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5hdHRyKCJ0YWJpbmRleCIsIjAiKS50cmlnZ2VyKCJ2bW91c2VvdmVyIil9KS5iaW5kKCJmb2N1c291dCIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuYXR0cigidGFiaW5kZXgiLCItMSIpLnRyaWdnZXIoInZtb3VzZW91dCIpfSkuZGVsZWdhdGUoImxpOm5vdCgudWktZGlzYWJsZWQsIC51aS1saS1kaXZpZGVyKSIsImNsaWNrIixmdW5jdGlvbihjKXt2YXIgZT1iLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4LGY9Yi5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5pbmRleCh0aGlzKSxnPWIuX3NlbGVjdE9wdGlvbnMoKS5lcShmKVswXTtnLnNlbGVjdGVkPWIuaXNNdWx0aXBsZT8hZy5zZWxlY3RlZDohMCxiLmlzTXVsdGlwbGUmJmEodGhpcykuZmluZCgiLnVpLWljb24iKS50b2dnbGVDbGFzcygidWktaWNvbi1jaGVja2JveC1vbiIsZy5zZWxlY3RlZCkudG9nZ2xlQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb2ZmIiwhZy5zZWxlY3RlZCksKGIuaXNNdWx0aXBsZXx8ZSE9PWYpJiZiLnNlbGVjdC50cmlnZ2VyKCJjaGFuZ2UiKSxiLmlzTXVsdGlwbGU/Yi5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5lcShmKS5hZGRDbGFzcygidWktYnRuLWRvd24tIitkLm9wdGlvbnMudGhlbWUpLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCk6Yi5jbG9zZSgpLGMucHJldmVudERlZmF1bHQoKX0pLmtleWRvd24oZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCksZT1jLmNsb3Nlc3QoImxpIiksZixnO3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgMzg6cmV0dXJuIGY9ZS5wcmV2KCkubm90KCIudWktc2VsZWN0bWVudS1wbGFjZWhvbGRlciIpLGYuaXMoIi51aS1saS1kaXZpZGVyIikmJihmPWYucHJldigpKSxmLmxlbmd0aCYmKGMuYmx1cigpLmF0dHIoInRhYmluZGV4IiwiLTEiKSxmLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK2Qub3B0aW9ucy50aGVtZSkuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKSksITE7Y2FzZSA0MDpyZXR1cm4gZz1lLm5leHQoKSxnLmlzKCIudWktbGktZGl2aWRlciIpJiYoZz1nLm5leHQoKSksZy5sZW5ndGgmJihjLmJsdXIoKS5hdHRyKCJ0YWJpbmRleCIsIi0xIiksZy5hZGRDbGFzcygidWktYnRuLWRvd24tIitkLm9wdGlvbnMudGhlbWUpLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCkpLCExO2Nhc2UgMTM6Y2FzZSAzMjpyZXR1cm4gYy50cmlnZ2VyKCJjbGljayIpLCExfX0pLGIubWVudVBhZ2UuYmluZCgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7Yi5saXN0LmFwcGVuZFRvKGIubGlzdGJveCksYi5fZm9jdXNCdXR0b24oKSxhLm1vYmlsZS5fYmluZFBhZ2VSZW1vdmUuY2FsbChiLnRoaXNQYWdlKX0pLGIubGlzdGJveC5iaW5kKCJwb3B1cGFmdGVyY2xvc2UiLGZ1bmN0aW9uKGEpe2IuY2xvc2UoKX0pLGIuaXNNdWx0aXBsZSYmYi5oZWFkZXJDbG9zZS5jbGljayhmdW5jdGlvbigpe2lmKGIubWVudVR5cGU9PT0ib3ZlcmxheSIpcmV0dXJuIGIuY2xvc2UoKSwhMX0pLGIudGhpc1BhZ2UuYWRkRGVwZW5kZW50cyh0aGlzLm1lbnVQYWdlKX0sX2lzUmVidWlsZFJlcXVpcmVkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5saXN0LmZpbmQoImxpIiksYj10aGlzLl9zZWxlY3RPcHRpb25zKCk7cmV0dXJuIGIudGV4dCgpIT09YS50ZXh0KCl9LHNlbGVjdGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdE9wdGlvbnMoKS5maWx0ZXIoIjpzZWxlY3RlZDpub3QoIDpqcW1EYXRhKHBsYWNlaG9sZGVyPSd0cnVlJykgKSIpfSxyZWZyZXNoOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcyxlPXRoaXMuZWxlbWVudCxmPXRoaXMuaXNNdWx0aXBsZSxnOyhifHx0aGlzLl9pc1JlYnVpbGRSZXF1aXJlZCgpKSYmZC5fYnVpbGRMaXN0KCksZz10aGlzLnNlbGVjdGVkSW5kaWNlcygpLGQuc2V0QnV0dG9uVGV4dCgpLGQuc2V0QnV0dG9uQ291bnQoKSxkLmxpc3QuZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMSkuZWFjaChmdW5jdGlvbihiKXtpZihhLmluQXJyYXkoYixnKT4tMSl7dmFyIGM9YSh0aGlzKTtjLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCEwKSxkLmlzTXVsdGlwbGU/Yy5maW5kKCIudWktaWNvbiIpLnJlbW92ZUNsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9mZiIpLmFkZENsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9uIik6Yy5pcygiLnVpLXNlbGVjdG1lbnUtcGxhY2Vob2xkZXIiKT9jLm5leHQoKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk6Yy5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9fSl9LGNsb3NlOmZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLmRpc2FibGVkfHwhdGhpcy5pc09wZW4pcmV0dXJuO3ZhciBiPXRoaXM7Yi5tZW51VHlwZT09PSJwYWdlIj9hLm1vYmlsZS5iYWNrKCk6KGIubGlzdGJveC5wb3B1cCgiY2xvc2UiKSxiLmxpc3QuYXBwZW5kVG8oYi5saXN0Ym94KSxiLl9mb2N1c0J1dHRvbigpKSxiLmlzT3Blbj0hMX0sb3BlbjpmdW5jdGlvbigpe2Z1bmN0aW9uIG8oKXt2YXIgYj1jLmxpc3QuZmluZCgiLiIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MrIiBhIik7Yi5sZW5ndGg9PT0wJiYoYj1jLmxpc3QuZmluZCgibGkudWktYnRuOm5vdCggOmpxbURhdGEocGxhY2Vob2xkZXI9J3RydWUnKSApIGEiKSksYi5maXJzdCgpLmZvY3VzKCkuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktYnRuLWRvd24tIitkLm9wdGlvbnMudGhlbWUpfWlmKHRoaXMub3B0aW9ucy5kaXNhYmxlZClyZXR1cm47dmFyIGM9dGhpcyxlPWEoYiksZj1jLmxpc3QucGFyZW50KCksZz1mLm91dGVySGVpZ2h0KCksaD1mLm91dGVyV2lkdGgoKSxpPWEoIi4iK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyksaj1lLnNjcm9sbFRvcCgpLGs9Yy5idXR0b24ub2Zmc2V0KCkudG9wLGw9ZS5oZWlnaHQoKSxuPWUud2lkdGgoKTtjLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksc2V0VGltZW91dChmdW5jdGlvbigpe2MuYnV0dG9uLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0sMzAwKSxnPmwtODB8fCFhLnN1cHBvcnQuc2Nyb2xsVG9wPyhjLm1lbnVQYWdlLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLnBhZ2UoKSxjLm1lbnVQYWdlQ29udGVudD1tLmZpbmQoIi51aS1jb250ZW50IiksYy5tZW51UGFnZUNsb3NlPW0uZmluZCgiLnVpLWhlYWRlciBhIiksYy50aGlzUGFnZS51bmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIpLGo9PT0wJiZrPmwmJmMudGhpc1BhZ2Uub25lKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXthKHRoaXMpLmpxbURhdGEoImxhc3RTY3JvbGwiLGspfSksYy5tZW51UGFnZS5vbmUoInBhZ2VzaG93IixmdW5jdGlvbigpe28oKSxjLmlzT3Blbj0hMH0pLGMubWVudVR5cGU9InBhZ2UiLGMubWVudVBhZ2VDb250ZW50LmFwcGVuZChjLmxpc3QpLGMubWVudVBhZ2UuZmluZCgiZGl2IC51aS10aXRsZSIpLnRleHQoYy5sYWJlbC50ZXh0KCkpLGEubW9iaWxlLmNoYW5nZVBhZ2UoYy5tZW51UGFnZSx7dHJhbnNpdGlvbjphLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbn0pKTooYy5tZW51VHlwZT0ib3ZlcmxheSIsYy5saXN0Ym94Lm9uZSgicG9wdXBhZnRlcm9wZW4iLG8pLnBvcHVwKCJvcGVuIix7eDpjLmJ1dHRvbi5vZmZzZXQoKS5sZWZ0K2MuYnV0dG9uLm91dGVyV2lkdGgoKS8yLHk6Yy5idXR0b24ub2Zmc2V0KCkudG9wK2MuYnV0dG9uLm91dGVySGVpZ2h0KCkvMn0pLGMuaXNPcGVuPSEwKX0sX2J1aWxkTGlzdDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD10aGlzLm9wdGlvbnMsZT10aGlzLnBsYWNlaG9sZGVyLGY9ITAsZz1bXSxoPVtdLGk9Yi5pc011bHRpcGxlPyJjaGVja2JveC1vZmYiOiJmYWxzZSI7Yi5saXN0LmVtcHR5KCkuZmlsdGVyKCIudWktbGlzdHZpZXciKS5saXN0dmlldygiZGVzdHJveSIpO3ZhciBqPWIuc2VsZWN0LmZpbmQoIm9wdGlvbiIpLGs9ai5sZW5ndGgsbD10aGlzLnNlbGVjdFswXSxtPSJkYXRhLSIrYS5tb2JpbGUubnMsbj1tKyJvcHRpb24taW5kZXgiLG89bSsiaWNvbiIscD1tKyJyb2xlIixxPW0rInBsYWNlaG9sZGVyIixyPWMuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHM9ITEsdDtmb3IodmFyIHU9MDt1PGs7dSsrLHM9ITEpe3ZhciB2PWpbdV0sdz1hKHYpLHg9di5wYXJlbnROb2RlLHk9dy50ZXh0KCksej1jLmNyZWF0ZUVsZW1lbnQoImEiKSxBPVtdO3ouc2V0QXR0cmlidXRlKCJocmVmIiwiIyIpLHouYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZSh5KSk7aWYoeCE9PWwmJngubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJvcHRncm91cCIpe3ZhciBCPXguZ2V0QXR0cmlidXRlKCJsYWJlbCIpO2lmKEIhPT10KXt2YXIgQz1jLmNyZWF0ZUVsZW1lbnQoImxpIik7Qy5zZXRBdHRyaWJ1dGUocCwibGlzdC1kaXZpZGVyIiksQy5zZXRBdHRyaWJ1dGUoInJvbGUiLCJvcHRpb24iKSxDLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCItMSIpLEMuYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShCKSksci5hcHBlbmRDaGlsZChDKSx0PUJ9fWYmJighdi5nZXRBdHRyaWJ1dGUoInZhbHVlIil8fHkubGVuZ3RoPT09MHx8dy5qcW1EYXRhKCJwbGFjZWhvbGRlciIpKSYmKGY9ITEscz0hMCx2LnNldEF0dHJpYnV0ZShxLCEwKSxkLmhpZGVQbGFjZWhvbGRlck1lbnVJdGVtcyYmQS5wdXNoKCJ1aS1zZWxlY3RtZW51LXBsYWNlaG9sZGVyIiksZXx8KGU9Yi5wbGFjZWhvbGRlcj15KSk7dmFyIEQ9Yy5jcmVhdGVFbGVtZW50KCJsaSIpO3YuZGlzYWJsZWQmJihBLnB1c2goInVpLWRpc2FibGVkIiksRC5zZXRBdHRyaWJ1dGUoImFyaWEtZGlzYWJsZWQiLCEwKSksRC5zZXRBdHRyaWJ1dGUobix1KSxELnNldEF0dHJpYnV0ZShvLGkpLHMmJkQuc2V0QXR0cmlidXRlKHEsITApLEQuY2xhc3NOYW1lPUEuam9pbigiICIpLEQuc2V0QXR0cmlidXRlKCJyb2xlIiwib3B0aW9uIiksei5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwiLTEiKSxELmFwcGVuZENoaWxkKHopLHIuYXBwZW5kQ2hpbGQoRCl9Yi5saXN0WzBdLmFwcGVuZENoaWxkKHIpLCF0aGlzLmlzTXVsdGlwbGUmJiFlLmxlbmd0aD90aGlzLmhlYWRlci5oaWRlKCk6dGhpcy5oZWFkZXJUaXRsZS50ZXh0KHRoaXMucGxhY2Vob2xkZXIpLGIubGlzdC5saXN0dmlldygpfSxfYnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIGEoIjxhPiIse2hyZWY6IiMiLHJvbGU6ImJ1dHRvbiIsaWQ6dGhpcy5idXR0b25JZCwiYXJpYS1oYXNwb3B1cCI6InRydWUiLCJhcmlhLW93bnMiOnRoaXMubWVudUlkfSl9fSl9O2EoYykuYmluZCgic2VsZWN0bWVudWJlZm9yZWNyZWF0ZSIsZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCkuZGF0YSgic2VsZWN0bWVudSIpOyFjLm9wdGlvbnMubmF0aXZlTWVudSYmYy5lbGVtZW50LnBhcmVudHMoIjpqcW1EYXRhKHJvbGU9J3BvcHVwJykiKS5sZW5ndGg9PT0wJiZlKGMpfSl9KGEpLGZ1bmN0aW9uKGEsZCl7YS53aWRnZXQoIm1vYmlsZS5maXhlZHRvb2xiYXIiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dmlzaWJsZU9uUGFnZVNob3c6ITAsZGlzYWJsZVBhZ2Vab29tOiEwLHRyYW5zaXRpb246InNsaWRlIixmdWxsc2NyZWVuOiExLHRhcFRvZ2dsZTohMCx0YXBUb2dnbGVCbGFja2xpc3Q6ImEsIGJ1dHRvbiwgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIC51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWQsIC51aS1wb3B1cCIsaGlkZUR1cmluZ0ZvY3VzOiJpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCIsdXBkYXRlUGFnZVBhZGRpbmc6ITAsdHJhY2tQZXJzaXN0ZW50VG9vbGJhcnM6ITAsc3VwcG9ydEJsYWNrbGlzdDpmdW5jdGlvbigpe3ZhciBhPWIsYz1uYXZpZ2F0b3IudXNlckFnZW50LGQ9bmF2aWdhdG9yLnBsYXRmb3JtLGU9Yy5tYXRjaCgvQXBwbGVXZWJLaXRcLyhbMC05XSspLyksZj0hIWUmJmVbMV0sZz1jLm1hdGNoKC9GZW5uZWNcLyhbMC05XSspLyksaD0hIWcmJmdbMV0saT1jLm1hdGNoKC9PcGVyYSBNb2JpXC8oWzAtOV0rKS8pLGo9ISFpJiZpWzFdO3JldHVybihkLmluZGV4T2YoImlQaG9uZSIpPi0xfHxkLmluZGV4T2YoImlQYWQiKT4tMXx8ZC5pbmRleE9mKCJpUG9kIik+LTEpJiZmJiZmPDUzNHx8YS5vcGVyYW1pbmkmJnt9LnRvU3RyaW5nLmNhbGwoYS5vcGVyYW1pbmkpPT09IltvYmplY3QgT3BlcmFNaW5pXSJ8fGkmJmo8NzQ1OHx8Yy5pbmRleE9mKCJBbmRyb2lkIik+LTEmJmYmJmY8NTMzfHxoJiZoPDZ8fCJwYWxtR2V0UmVzb3VyY2UiaW4gYiYmZiYmZjw1MzR8fGMuaW5kZXhPZigiTWVlR28iKT4tMSYmYy5pbmRleE9mKCJOb2tpYUJyb3dzZXIvOC41LjAiKT4tMT8hMDohMX0saW5pdFNlbGVjdG9yOiI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5vcHRpb25zLGM9YS5lbGVtZW50LGQ9Yy5pcygiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKT8iaGVhZGVyIjoiZm9vdGVyIixlPWMuY2xvc2VzdCgiLnVpLXBhZ2UiKTtpZihiLnN1cHBvcnRCbGFja2xpc3QoKSl7YS5kZXN0cm95KCk7cmV0dXJufWMuYWRkQ2xhc3MoInVpLSIrZCsiLWZpeGVkIiksYi5mdWxsc2NyZWVuPyhjLmFkZENsYXNzKCJ1aS0iK2QrIi1mdWxsc2NyZWVuIiksZS5hZGRDbGFzcygidWktcGFnZS0iK2QrIi1mdWxsc2NyZWVuIikpOmUuYWRkQ2xhc3MoInVpLXBhZ2UtIitkKyItZml4ZWQiKSxhLl9hZGRUcmFuc2l0aW9uQ2xhc3MoKSxhLl9iaW5kUGFnZUV2ZW50cygpLGEuX2JpbmRUb2dnbGVIYW5kbGVycygpfSxfYWRkVHJhbnNpdGlvbkNsYXNzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLnRyYW5zaXRpb247YSYmYSE9PSJub25lIiYmKGE9PT0ic2xpZGUiJiYoYT10aGlzLmVsZW1lbnQuaXMoIi51aS1oZWFkZXIiKT8ic2xpZGVkb3duIjoic2xpZGV1cCIpLHRoaXMuZWxlbWVudC5hZGRDbGFzcyhhKSl9LF9iaW5kUGFnZUV2ZW50czpmdW5jdGlvbigpe3ZhciBjPXRoaXMsZD1jLm9wdGlvbnMsZT1jLmVsZW1lbnQ7ZS5jbG9zZXN0KCIudWktcGFnZSIpLmJpbmQoInBhZ2ViZWZvcmVzaG93IixmdW5jdGlvbigpe2QuZGlzYWJsZVBhZ2Vab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApLGQudmlzaWJsZU9uUGFnZVNob3d8fGMuaGlkZSghMCl9KS5iaW5kKCJ3ZWJraXRBbmltYXRpb25TdGFydCBhbmltYXRpb25zdGFydCB1cGRhdGVsYXlvdXQiLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcztkLnVwZGF0ZVBhZ2VQYWRkaW5nJiZjLnVwZGF0ZVBhZ2VQYWRkaW5nKGEpfSkuYmluZCgicGFnZXNob3ciLGZ1bmN0aW9uKCl7dmFyIGU9dGhpcztjLnVwZGF0ZVBhZ2VQYWRkaW5nKGUpLGQudXBkYXRlUGFnZVBhZGRpbmcmJmEoYikuYmluZCgidGhyb3R0bGVkcmVzaXplLiIrYy53aWRnZXROYW1lLGZ1bmN0aW9uKCl7Yy51cGRhdGVQYWdlUGFkZGluZyhlKX0pfSkuYmluZCgicGFnZWJlZm9yZWhpZGUiLGZ1bmN0aW9uKGUsZil7ZC5kaXNhYmxlUGFnZVpvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKCEwKSxkLnVwZGF0ZVBhZ2VQYWRkaW5nJiZhKGIpLnVuYmluZCgidGhyb3R0bGVkcmVzaXplLiIrYy53aWRnZXROYW1lKTtpZihkLnRyYWNrUGVyc2lzdGVudFRvb2xiYXJzKXt2YXIgZz1hKCIudWktZm9vdGVyLWZpeGVkOmpxbURhdGEoaWQpIix0aGlzKSxoPWEoIi51aS1oZWFkZXItZml4ZWQ6anFtRGF0YShpZCkiLHRoaXMpLGk9Zy5sZW5ndGgmJmYubmV4dFBhZ2UmJmEoIi51aS1mb290ZXItZml4ZWQ6anFtRGF0YShpZD0nIitnLmpxbURhdGEoImlkIikrIicpIixmLm5leHRQYWdlKXx8YSgpLGo9aC5sZW5ndGgmJmYubmV4dFBhZ2UmJmEoIi51aS1oZWFkZXItZml4ZWQ6anFtRGF0YShpZD0nIitoLmpxbURhdGEoImlkIikrIicpIixmLm5leHRQYWdlKXx8YSgpO2lmKGkubGVuZ3RofHxqLmxlbmd0aClpLmFkZChqKS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKSxmLm5leHRQYWdlLm9uZSgicGFnZXNob3ciLGZ1bmN0aW9uKCl7aS5hZGQoaikuYXBwZW5kVG8odGhpcyl9KX19KX0sX3Zpc2libGU6ITAsdXBkYXRlUGFnZVBhZGRpbmc6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5lbGVtZW50LGQ9Yy5pcygiLnVpLWhlYWRlciIpO2lmKHRoaXMub3B0aW9ucy5mdWxsc2NyZWVuKXJldHVybjtiPWJ8fGMuY2xvc2VzdCgiLnVpLXBhZ2UiKSxhKGIpLmNzcygicGFkZGluZy0iKyhkPyJ0b3AiOiJib3R0b20iKSxjLm91dGVySGVpZ2h0KCkpfSxfdXNlVHJhbnNpdGlvbjpmdW5jdGlvbihjKXt2YXIgZD1hKGIpLGU9dGhpcy5lbGVtZW50LGY9ZC5zY3JvbGxUb3AoKSxnPWUuaGVpZ2h0KCksaD1lLmNsb3Nlc3QoIi51aS1wYWdlIikuaGVpZ2h0KCksaT1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSxqPWUuaXMoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIik/ImhlYWRlciI6ImZvb3RlciI7cmV0dXJuIWMmJih0aGlzLm9wdGlvbnMudHJhbnNpdGlvbiYmdGhpcy5vcHRpb25zLnRyYW5zaXRpb24hPT0ibm9uZSImJihqPT09ImhlYWRlciImJiF0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbiYmZj5nfHxqPT09ImZvb3RlciImJiF0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbiYmZitpPGgtZyl8fHRoaXMub3B0aW9ucy5mdWxsc2NyZWVuKX0sc2hvdzpmdW5jdGlvbihhKXt2YXIgYj0idWktZml4ZWQtaGlkZGVuIixjPXRoaXMuZWxlbWVudDt0aGlzLl91c2VUcmFuc2l0aW9uKGEpP2MucmVtb3ZlQ2xhc3MoIm91dCAiK2IpLmFkZENsYXNzKCJpbiIpOmMucmVtb3ZlQ2xhc3MoYiksdGhpcy5fdmlzaWJsZT0hMH0saGlkZTpmdW5jdGlvbihhKXt2YXIgYj0idWktZml4ZWQtaGlkZGVuIixjPXRoaXMuZWxlbWVudCxkPSJvdXQiKyh0aGlzLm9wdGlvbnMudHJhbnNpdGlvbj09PSJzbGlkZSI/IiByZXZlcnNlIjoiIik7dGhpcy5fdXNlVHJhbnNpdGlvbihhKT9jLmFkZENsYXNzKGQpLnJlbW92ZUNsYXNzKCJpbiIpLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7Yy5hZGRDbGFzcyhiKS5yZW1vdmVDbGFzcyhkKX0pOmMuYWRkQ2xhc3MoYikucmVtb3ZlQ2xhc3MoZCksdGhpcy5fdmlzaWJsZT0hMX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dGhpc1t0aGlzLl92aXNpYmxlPyJoaWRlIjoic2hvdyJdKCl9LF9iaW5kVG9nZ2xlSGFuZGxlcnM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9Yi5vcHRpb25zLGQ9Yi5lbGVtZW50O2QuY2xvc2VzdCgiLnVpLXBhZ2UiKS5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKGQpe2MudGFwVG9nZ2xlJiYhYShkLnRhcmdldCkuY2xvc2VzdChjLnRhcFRvZ2dsZUJsYWNrbGlzdCkubGVuZ3RoJiZiLnRvZ2dsZSgpfSkuYmluZCgiZm9jdXNpbiBmb2N1c291dCIsZnVuY3Rpb24oZCl7c2NyZWVuLndpZHRoPDUwMCYmYShkLnRhcmdldCkuaXMoYy5oaWRlRHVyaW5nRm9jdXMpJiYhYShkLnRhcmdldCkuY2xvc2VzdCgiLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZCIpLmxlbmd0aCYmYltkLnR5cGU9PT0iZm9jdXNpbiImJmIuX3Zpc2libGU/ImhpZGUiOiJzaG93Il0oKX0pfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1oZWFkZXItZml4ZWQgdWktZm9vdGVyLWZpeGVkIHVpLWhlYWRlci1mdWxsc2NyZWVuIHVpLWZvb3Rlci1mdWxsc2NyZWVuIGluIG91dCBmYWRlIHNsaWRlZG93biBzbGlkZXVwIHVpLWZpeGVkLWhpZGRlbiIpLHRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLnJlbW92ZUNsYXNzKCJ1aS1wYWdlLWhlYWRlci1maXhlZCB1aS1wYWdlLWZvb3Rlci1maXhlZCB1aS1wYWdlLWhlYWRlci1mdWxsc2NyZWVuIHVpLXBhZ2UtZm9vdGVyLWZ1bGxzY3JlZW4iKX19KSxhKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5qcW1EYXRhKCJmdWxsc2NyZWVuIikmJmEoYS5tb2JpbGUuZml4ZWR0b29sYmFyLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvcixiLnRhcmdldCkubm90KCI6anFtRGF0YShmdWxsc2NyZWVuKSIpLmpxbURhdGEoImZ1bGxzY3JlZW4iLCEwKSxhLm1vYmlsZS5maXhlZHRvb2xiYXIucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KGEpLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gaShhKXtkPWEub3JpZ2luYWxFdmVudCxoPWQuYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eSxlPU1hdGguYWJzKGgueCksZj1NYXRoLmFicyhoLnkpLGc9TWF0aC5hYnMoaC56KSwhYi5vcmllbnRhdGlvbiYmKGU+N3x8KGc+NiYmZjw4fHxnPDgmJmY+NikmJmU+NSk/Yy5lbmFibGVkJiZjLmRpc2FibGUoKTpjLmVuYWJsZWR8fGMuZW5hYmxlKCl9aWYoISgvaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTEpKXJldHVybjt2YXIgYz1hLm1vYmlsZS56b29tLGQsZSxmLGcsaDthKGIpLmJpbmQoIm9yaWVudGF0aW9uY2hhbmdlLmlvc29yaWVudGF0aW9uZml4IixjLmVuYWJsZSkuYmluZCgiZGV2aWNlbW90aW9uLmlvc29yaWVudGF0aW9uZml4IixpKX0oYSx0aGlzKSxmdW5jdGlvbihhLGIsZCl7ZnVuY3Rpb24gaCgpe2UucmVtb3ZlQ2xhc3MoInVpLW1vYmlsZS1yZW5kZXJpbmciKX12YXIgZT1hKCJodG1sIiksZj1hKCJoZWFkIiksZz1hKGIpO2EoYi5kb2N1bWVudCkudHJpZ2dlcigibW9iaWxlaW5pdCIpO2lmKCFhLm1vYmlsZS5ncmFkZUEoKSlyZXR1cm47YS5tb2JpbGUuYWpheEJsYWNrbGlzdCYmKGEubW9iaWxlLmFqYXhFbmFibGVkPSExKSxlLmFkZENsYXNzKCJ1aS1tb2JpbGUgdWktbW9iaWxlLXJlbmRlcmluZyIpLHNldFRpbWVvdXQoaCw1ZTMpLGEuZXh0ZW5kKGEubW9iaWxlLHtpbml0aWFsaXplUGFnZTpmdW5jdGlvbigpe3ZhciBiPWEoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKSxkPWEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2gucmVwbGFjZSgiIyIsIiIpLGU9Yy5nZXRFbGVtZW50QnlJZChkKTtiLmxlbmd0aHx8KGI9YSgiYm9keSIpLndyYXBJbm5lcigiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J3BhZ2UnPjwvZGl2PiIpLmNoaWxkcmVuKDApKSxiLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IuanFtRGF0YSgidXJsIil8fGIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmwiLGIuYXR0cigiaWQiKXx8bG9jYXRpb24ucGF0aG5hbWUrbG9jYXRpb24uc2VhcmNoKX0pLGEubW9iaWxlLmZpcnN0UGFnZT1iLmZpcnN0KCksYS5tb2JpbGUucGFnZUNvbnRhaW5lcj1iLmZpcnN0KCkucGFyZW50KCkuYWRkQ2xhc3MoInVpLW1vYmlsZS12aWV3cG9ydCIpLGcudHJpZ2dlcigicGFnZWNvbnRhaW5lcmNyZWF0ZSIpLGEubW9iaWxlLnNob3dQYWdlTG9hZGluZ01zZygpLGgoKSwhYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWR8fCFhLm1vYmlsZS5wYXRoLmlzSGFzaFZhbGlkKGxvY2F0aW9uLmhhc2gpfHwhYShlKS5pcygnOmpxbURhdGEocm9sZT0icGFnZSIpJykmJiFhLm1vYmlsZS5wYXRoLmlzUGF0aChkKSYmZCE9PWEubW9iaWxlLmRpYWxvZ0hhc2hLZXk/KGEubW9iaWxlLnBhdGguaXNIYXNoVmFsaWQobG9jYXRpb24uaGFzaCkmJihhLm1vYmlsZS51cmxIaXN0b3J5LmluaXRpYWxEc3Q9ZC5yZXBsYWNlKCIjIiwiIikpLGEubW9iaWxlLmNoYW5nZVBhZ2UoYS5tb2JpbGUuZmlyc3RQYWdlLHt0cmFuc2l0aW9uOiJub25lIixyZXZlcnNlOiEwLGNoYW5nZUhhc2g6ITEsZnJvbUhhc2hDaGFuZ2U6ITB9KSk6Zy50cmlnZ2VyKCJoYXNoY2hhbmdlIixbITBdKX19KSxhLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkLnJlc29sdmUoKSxhKGZ1bmN0aW9uKCl7Yi5zY3JvbGxUbygwLDEpLGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsPSFhLnN1cHBvcnQuc2Nyb2xsVG9wfHxhKGIpLnNjcm9sbFRvcCgpPT09MT8wOjEsYS5mbi5jb250cm9sZ3JvdXAmJmEoYykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EoIjpqcW1EYXRhKHJvbGU9J2NvbnRyb2xncm91cCcpIixiLnRhcmdldCkuanFtRW5oYW5jZWFibGUoKS5jb250cm9sZ3JvdXAoe2V4Y2x1ZGVJbnZpc2libGU6ITF9KX0pLGEubW9iaWxlLmF1dG9Jbml0aWFsaXplUGFnZSYmYS5tb2JpbGUuaW5pdGlhbGl6ZVBhZ2UoKSxnLmxvYWQoYS5tb2JpbGUuc2lsZW50U2Nyb2xsKSxhLnN1cHBvcnQuY3NzUG9pbnRlckV2ZW50c3x8YShjKS5kZWxlZ2F0ZSgiLnVpLWRpc2FibGVkIiwidmNsaWNrIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX0pfSl9KGEsdGhpcyl9KTs=",
                "body": "LyohIGpRdWVyeSBNb2JpbGUgdkdpdCBCdWlsZDogU0hBMTogYjQ5Y2MwNjQ5OWFiZjhmOTg3Y2Y5MGYzNTM0OWNmYWMwOTE4YzkzOSA8PiBEYXRlOiBUdWUgT2N0IDIgMTE6MjI6MzQgMjAxMiAtMDcwMCBqcXVlcnltb2JpbGUuY29tIHwganF1ZXJ5Lm9yZy9saWNlbnNlICEqLwooZnVuY3Rpb24oYSxiLGMpe3R5cGVvZiBkZWZpbmU9PSJmdW5jdGlvbiImJmRlZmluZS5hbWQ/ZGVmaW5lKFsianF1ZXJ5Il0sZnVuY3Rpb24oZCl7cmV0dXJuIGMoZCxhLGIpLGQubW9iaWxlfSk6YyhhLmpRdWVyeSxhLGIpfSkodGhpcyxkb2N1bWVudCxmdW5jdGlvbihhLGIsYyxkKXsoZnVuY3Rpb24oYSxiLGQpe3ZhciBlPXt9O2EubW9iaWxlPWEuZXh0ZW5kKHt9LHt2ZXJzaW9uOiIxLjIuMCIsbnM6IiIsc3ViUGFnZVVybEtleToidWktcGFnZSIsYWN0aXZlUGFnZUNsYXNzOiJ1aS1wYWdlLWFjdGl2ZSIsYWN0aXZlQnRuQ2xhc3M6InVpLWJ0bi1hY3RpdmUiLGZvY3VzQ2xhc3M6InVpLWZvY3VzIixhamF4RW5hYmxlZDohMCxoYXNoTGlzdGVuaW5nRW5hYmxlZDohMCxsaW5rQmluZGluZ0VuYWJsZWQ6ITAsZGVmYXVsdFBhZ2VUcmFuc2l0aW9uOiJmYWRlIixtYXhUcmFuc2l0aW9uV2lkdGg6ITEsbWluU2Nyb2xsQmFjazoyNTAsdG91Y2hPdmVyZmxvd0VuYWJsZWQ6ITEsZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246InBvcCIscGFnZUxvYWRFcnJvck1lc3NhZ2U6IkVycm9yIExvYWRpbmcgUGFnZSIscGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZToiZSIscGhvbmVnYXBOYXZpZ2F0aW9uRW5hYmxlZDohMSxhdXRvSW5pdGlhbGl6ZVBhZ2U6ITAscHVzaFN0YXRlRW5hYmxlZDohMCxpZ25vcmVDb250ZW50RW5hYmxlZDohMSxvcmllbnRhdGlvbkNoYW5nZUVuYWJsZWQ6ITAsYnV0dG9uTWFya3VwOntob3ZlckRlbGF5OjIwMH0sa2V5Q29kZTp7QUxUOjE4LEJBQ0tTUEFDRTo4LENBUFNfTE9DSzoyMCxDT01NQToxODgsQ09NTUFORDo5MSxDT01NQU5EX0xFRlQ6OTEsQ09NTUFORF9SSUdIVDo5MyxDT05UUk9MOjE3LERFTEVURTo0NixET1dOOjQwLEVORDozNSxFTlRFUjoxMyxFU0NBUEU6MjcsSE9NRTozNixJTlNFUlQ6NDUsTEVGVDozNyxNRU5VOjkzLE5VTVBBRF9BREQ6MTA3LE5VTVBBRF9ERUNJTUFMOjExMCxOVU1QQURfRElWSURFOjExMSxOVU1QQURfRU5URVI6MTA4LE5VTVBBRF9NVUxUSVBMWToxMDYsTlVNUEFEX1NVQlRSQUNUOjEwOSxQQUdFX0RPV046MzQsUEFHRV9VUDozMyxQRVJJT0Q6MTkwLFJJR0hUOjM5LFNISUZUOjE2LFNQQUNFOjMyLFRBQjo5LFVQOjM4LFdJTkRPV1M6OTF9LHNpbGVudFNjcm9sbDpmdW5jdGlvbihkKXthLnR5cGUoZCkhPT0ibnVtYmVyIiYmKGQ9YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwpLGEuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSExLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnNjcm9sbFRvKDAsZCksYShjKS50cmlnZ2VyKCJzaWxlbnRzY3JvbGwiLHt4OjAseTpkfSl9LDIwKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITB9LDE1MCl9LG5zTm9ybWFsaXplRGljdDplLG5zTm9ybWFsaXplOmZ1bmN0aW9uKGIpe2lmKCFiKXJldHVybjtyZXR1cm4gZVtiXXx8KGVbYl09YS5jYW1lbENhc2UoYS5tb2JpbGUubnMrYikpfSxnZXRJbmhlcml0ZWRUaGVtZTpmdW5jdGlvbihhLGIpe3ZhciBjPWFbMF0sZD0iIixlPS91aS0oYmFyfGJvZHl8b3ZlcmxheSktKFthLXpdKVxiLyxmLGc7d2hpbGUoYyl7Zj1jLmNsYXNzTmFtZXx8IiI7aWYoZiYmKGc9ZS5leGVjKGYpKSYmKGQ9Z1syXSkpYnJlYWs7Yz1jLnBhcmVudE5vZGV9cmV0dXJuIGR8fGJ8fCJhIn0sY2xvc2VzdFBhZ2VEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNsb3Nlc3QoJzpqcW1EYXRhKHJvbGU9InBhZ2UiKSwgOmpxbURhdGEocm9sZT0iZGlhbG9nIiknKS5kYXRhKCJwYWdlIil9LGVuaGFuY2VhYmxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhdmVQYXJlbnRzKGEsImVuaGFuY2UiKX0saGlqYWNrYWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYXZlUGFyZW50cyhhLCJhamF4Iil9LGhhdmVQYXJlbnRzOmZ1bmN0aW9uKGIsYyl7aWYoIWEubW9iaWxlLmlnbm9yZUNvbnRlbnRFbmFibGVkKXJldHVybiBiO3ZhciBkPWIubGVuZ3RoLGU9YSgpLGYsZyxoO2Zvcih2YXIgaT0wO2k8ZDtpKyspe2c9Yi5lcShpKSxoPSExLGY9YltpXTt3aGlsZShmKXt2YXIgaj1mLmdldEF0dHJpYnV0ZT9mLmdldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zK2MpOiIiO2lmKGo9PT0iZmFsc2UiKXtoPSEwO2JyZWFrfWY9Zi5wYXJlbnROb2RlfWh8fChlPWUuYWRkKGcpKX1yZXR1cm4gZX0sZ2V0U2NyZWVuSGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIGIuaW5uZXJIZWlnaHR8fGEoYikuaGVpZ2h0KCl9fSxhLm1vYmlsZSksYS5mbi5qcW1EYXRhPWZ1bmN0aW9uKGIsYyl7dmFyIGU7cmV0dXJuIHR5cGVvZiBiIT0idW5kZWZpbmVkIiYmKGImJihiPWEubW9iaWxlLm5zTm9ybWFsaXplKGIpKSxhcmd1bWVudHMubGVuZ3RoPDJ8fGM9PT1kP2U9dGhpcy5kYXRhKGIpOmU9dGhpcy5kYXRhKGIsYykpLGV9LGEuanFtRGF0YT1mdW5jdGlvbihiLGMsZCl7dmFyIGU7cmV0dXJuIHR5cGVvZiBjIT0idW5kZWZpbmVkIiYmKGU9YS5kYXRhKGIsYz9hLm1vYmlsZS5uc05vcm1hbGl6ZShjKTpjLGQpKSxlfSxhLmZuLmpxbVJlbW92ZURhdGE9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMucmVtb3ZlRGF0YShhLm1vYmlsZS5uc05vcm1hbGl6ZShiKSl9LGEuanFtUmVtb3ZlRGF0YT1mdW5jdGlvbihiLGMpe3JldHVybiBhLnJlbW92ZURhdGEoYixhLm1vYmlsZS5uc05vcm1hbGl6ZShjKSl9LGEuZm4ucmVtb3ZlV2l0aERlcGVuZGVudHM9ZnVuY3Rpb24oKXthLnJlbW92ZVdpdGhEZXBlbmRlbnRzKHRoaXMpfSxhLnJlbW92ZVdpdGhEZXBlbmRlbnRzPWZ1bmN0aW9uKGIpe3ZhciBjPWEoYik7KGMuanFtRGF0YSgiZGVwZW5kZW50cyIpfHxhKCkpLnJlbW92ZSgpLGMucmVtb3ZlKCl9LGEuZm4uYWRkRGVwZW5kZW50cz1mdW5jdGlvbihiKXthLmFkZERlcGVuZGVudHMoYSh0aGlzKSxiKX0sYS5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9YShiKS5qcW1EYXRhKCJkZXBlbmRlbnRzIil8fGEoKTthKGIpLmpxbURhdGEoImRlcGVuZGVudHMiLGEubWVyZ2UoZCxjKSl9LGEuZm4uZ2V0RW5jb2RlZFRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGRpdi8+IikudGV4dChhKHRoaXMpLnRleHQoKSkuaHRtbCgpfSxhLmZuLmpxbUVuaGFuY2VhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmVuaGFuY2VhYmxlKHRoaXMpfSxhLmZuLmpxbUhpamFja2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuaGlqYWNrYWJsZSh0aGlzKX07dmFyIGY9YS5maW5kLGc9LzpqcW1EYXRhXCgoW14pXSopXCkvZzthLmZpbmQ9ZnVuY3Rpb24oYixjLGQsZSl7cmV0dXJuIGI9Yi5yZXBsYWNlKGcsIltkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrIiQxXSIpLGYuY2FsbCh0aGlzLGIsYyxkLGUpfSxhLmV4dGVuZChhLmZpbmQsZiksYS5maW5kLm1hdGNoZXM9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5maW5kKGIsbnVsbCxudWxsLGMpfSxhLmZpbmQubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuZmluZChjLG51bGwsbnVsbCxbYl0pLmxlbmd0aD4wfX0pKGEsdGhpcyksZnVuY3Rpb24oYSxiKXt2YXIgYz0wLGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLGU9YS5jbGVhbkRhdGE7YS5jbGVhbkRhdGE9ZnVuY3Rpb24oYil7Zm9yKHZhciBjPTAsZDsoZD1iW2NdKSE9bnVsbDtjKyspdHJ5e2EoZCkudHJpZ2dlckhhbmRsZXIoInJlbW92ZSIpfWNhdGNoKGYpe31lKGIpfSxhLndpZGdldD1mdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnLGgsaT1iLnNwbGl0KCIuIilbMF07Yj1iLnNwbGl0KCIuIilbMV0sZT1pKyItIitiLGR8fChkPWMsYz1hLldpZGdldCksYS5leHByWyI6Il1bZV09ZnVuY3Rpb24oYil7cmV0dXJuISFhLmRhdGEoYixlKX0sYVtpXT1hW2ldfHx7fSxmPWFbaV1bYl0sZz1hW2ldW2JdPWZ1bmN0aW9uKGEsYil7aWYoIXRoaXMuX2NyZWF0ZVdpZGdldClyZXR1cm4gbmV3IGcoYSxiKTthcmd1bWVudHMubGVuZ3RoJiZ0aGlzLl9jcmVhdGVXaWRnZXQoYSxiKX0sYS5leHRlbmQoZyxmLHt2ZXJzaW9uOmQudmVyc2lvbixfcHJvdG86YS5leHRlbmQoe30sZCksX2NoaWxkQ29uc3RydWN0b3JzOltdfSksaD1uZXcgYyxoLm9wdGlvbnM9YS53aWRnZXQuZXh0ZW5kKHt9LGgub3B0aW9ucyksYS5lYWNoKGQsZnVuY3Rpb24oYixlKXthLmlzRnVuY3Rpb24oZSkmJihkW2JdPWZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oKXtyZXR1cm4gYy5wcm90b3R5cGVbYl0uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxkPWZ1bmN0aW9uKGEpe3JldHVybiBjLnByb3RvdHlwZVtiXS5hcHBseSh0aGlzLGEpfTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj10aGlzLl9zdXBlcixjPXRoaXMuX3N1cGVyQXBwbHksZjtyZXR1cm4gdGhpcy5fc3VwZXI9YSx0aGlzLl9zdXBlckFwcGx5PWQsZj1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9zdXBlcj1iLHRoaXMuX3N1cGVyQXBwbHk9YyxmfX0oKSl9KSxnLnByb3RvdHlwZT1hLndpZGdldC5leHRlbmQoaCx7d2lkZ2V0RXZlbnRQcmVmaXg6Yn0sZCx7Y29uc3RydWN0b3I6ZyxuYW1lc3BhY2U6aSx3aWRnZXROYW1lOmIsd2lkZ2V0QmFzZUNsYXNzOmUsd2lkZ2V0RnVsbE5hbWU6ZX0pLGY/KGEuZWFjaChmLl9jaGlsZENvbnN0cnVjdG9ycyxmdW5jdGlvbihiLGMpe3ZhciBkPWMucHJvdG90eXBlO2Eud2lkZ2V0KGQubmFtZXNwYWNlKyIuIitkLndpZGdldE5hbWUsZyxjLl9wcm90byl9KSxkZWxldGUgZi5fY2hpbGRDb25zdHJ1Y3RvcnMpOmMuX2NoaWxkQ29uc3RydWN0b3JzLnB1c2goZyksYS53aWRnZXQuYnJpZGdlKGIsZyl9LGEud2lkZ2V0LmV4dGVuZD1mdW5jdGlvbihjKXt2YXIgZT1kLmNhbGwoYXJndW1lbnRzLDEpLGY9MCxnPWUubGVuZ3RoLGgsaTtmb3IoO2Y8ZztmKyspZm9yKGggaW4gZVtmXSlpPWVbZl1baF0sZVtmXS5oYXNPd25Qcm9wZXJ0eShoKSYmaSE9PWImJihjW2hdPWEuaXNQbGFpbk9iamVjdChpKT9hLndpZGdldC5leHRlbmQoe30sY1toXSxpKTppKTtyZXR1cm4gY30sYS53aWRnZXQuYnJpZGdlPWZ1bmN0aW9uKGMsZSl7dmFyIGY9ZS5wcm90b3R5cGUud2lkZ2V0RnVsbE5hbWU7YS5mbltjXT1mdW5jdGlvbihnKXt2YXIgaD10eXBlb2YgZz09InN0cmluZyIsaT1kLmNhbGwoYXJndW1lbnRzLDEpLGo9dGhpcztyZXR1cm4gZz0haCYmaS5sZW5ndGg/YS53aWRnZXQuZXh0ZW5kLmFwcGx5KG51bGwsW2ddLmNvbmNhdChpKSk6ZyxoP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkLGU9YS5kYXRhKHRoaXMsZik7aWYoIWUpcmV0dXJuIGEuZXJyb3IoImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gIitjKyIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247ICIrImF0dGVtcHRlZCB0byBjYWxsIG1ldGhvZCAnIitnKyInIik7aWYoIWEuaXNGdW5jdGlvbihlW2ddKXx8Zy5jaGFyQXQoMCk9PT0iXyIpcmV0dXJuIGEuZXJyb3IoIm5vIHN1Y2ggbWV0aG9kICciK2crIicgZm9yICIrYysiIHdpZGdldCBpbnN0YW5jZSIpO2Q9ZVtnXS5hcHBseShlLGkpO2lmKGQhPT1lJiZkIT09YilyZXR1cm4gaj1kJiZkLmpxdWVyeT9qLnB1c2hTdGFjayhkLmdldCgpKTpkLCExfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YS5kYXRhKHRoaXMsZik7Yj9iLm9wdGlvbihnfHx7fSkuX2luaXQoKTpuZXcgZShnLHRoaXMpfSksan19LGEuV2lkZ2V0PWZ1bmN0aW9uKGEsYil7fSxhLldpZGdldC5fY2hpbGRDb25zdHJ1Y3RvcnM9W10sYS5XaWRnZXQucHJvdG90eXBlPXt3aWRnZXROYW1lOiJ3aWRnZXQiLHdpZGdldEV2ZW50UHJlZml4OiIiLGRlZmF1bHRFbGVtZW50OiI8ZGl2PiIsb3B0aW9uczp7ZGlzYWJsZWQ6ITEsY3JlYXRlOm51bGx9LF9jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oYixkKXtkPWEoZHx8dGhpcy5kZWZhdWx0RWxlbWVudHx8dGhpcylbMF0sdGhpcy5lbGVtZW50PWEoZCksdGhpcy51dWlkPWMrKyx0aGlzLmV2ZW50TmFtZXNwYWNlPSIuIit0aGlzLndpZGdldE5hbWUrdGhpcy51dWlkLHRoaXMub3B0aW9ucz1hLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zLHRoaXMuX2dldENyZWF0ZU9wdGlvbnMoKSxiKSx0aGlzLmJpbmRpbmdzPWEoKSx0aGlzLmhvdmVyYWJsZT1hKCksdGhpcy5mb2N1c2FibGU9YSgpLGQhPT10aGlzJiYoYS5kYXRhKGQsdGhpcy53aWRnZXROYW1lLHRoaXMpLGEuZGF0YShkLHRoaXMud2lkZ2V0RnVsbE5hbWUsdGhpcyksdGhpcy5fb24oe3JlbW92ZToiZGVzdHJveSJ9KSx0aGlzLmRvY3VtZW50PWEoZC5zdHlsZT9kLm93bmVyRG9jdW1lbnQ6ZC5kb2N1bWVudHx8ZCksdGhpcy53aW5kb3c9YSh0aGlzLmRvY3VtZW50WzBdLmRlZmF1bHRWaWV3fHx0aGlzLmRvY3VtZW50WzBdLnBhcmVudFdpbmRvdykpLHRoaXMuX2NyZWF0ZSgpLHRoaXMuX3RyaWdnZXIoImNyZWF0ZSIsbnVsbCx0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSksdGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczphLm5vb3AsX2dldENyZWF0ZUV2ZW50RGF0YTphLm5vb3AsX2NyZWF0ZTphLm5vb3AsX2luaXQ6YS5ub29wLGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9kZXN0cm95KCksdGhpcy5lbGVtZW50LnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVEYXRhKHRoaXMud2lkZ2V0TmFtZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldEZ1bGxOYW1lKS5yZW1vdmVEYXRhKGEuY2FtZWxDYXNlKHRoaXMud2lkZ2V0RnVsbE5hbWUpKSx0aGlzLndpZGdldCgpLnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIikucmVtb3ZlQ2xhc3ModGhpcy53aWRnZXRGdWxsTmFtZSsiLWRpc2FibGVkICIrInVpLXN0YXRlLWRpc2FibGVkIiksdGhpcy5iaW5kaW5ncy51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksdGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9LF9kZXN0cm95OmEubm9vcCx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24oYyxkKXt2YXIgZT1jLGYsZyxoO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0wKXJldHVybiBhLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zKTtpZih0eXBlb2YgYz09InN0cmluZyIpe2U9e30sZj1jLnNwbGl0KCIuIiksYz1mLnNoaWZ0KCk7aWYoZi5sZW5ndGgpe2c9ZVtjXT1hLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zW2NdKTtmb3IoaD0wO2g8Zi5sZW5ndGgtMTtoKyspZ1tmW2hdXT1nW2ZbaF1dfHx7fSxnPWdbZltoXV07Yz1mLnBvcCgpO2lmKGQ9PT1iKXJldHVybiBnW2NdPT09Yj9udWxsOmdbY107Z1tjXT1kfWVsc2V7aWYoZD09PWIpcmV0dXJuIHRoaXMub3B0aW9uc1tjXT09PWI/bnVsbDp0aGlzLm9wdGlvbnNbY107ZVtjXT1kfX1yZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyhlKSx0aGlzfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXRoaXMuX3NldE9wdGlvbihiLGFbYl0pO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub3B0aW9uc1thXT1iLGE9PT0iZGlzYWJsZWQiJiYodGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcyh0aGlzLndpZGdldEZ1bGxOYW1lKyItZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWQiLCEhYikuYXR0cigiYXJpYS1kaXNhYmxlZCIsYiksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksdGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIikpLHRoaXN9LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMSl9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfSxfb246ZnVuY3Rpb24oYixjKXtjPyhiPWEoYiksdGhpcy5iaW5kaW5ncz10aGlzLmJpbmRpbmdzLmFkZChiKSk6KGM9YixiPXRoaXMuZWxlbWVudCk7dmFyIGQ9dGhpczthLmVhY2goYyxmdW5jdGlvbihjLGUpe2Z1bmN0aW9uIGYoKXtpZihkLm9wdGlvbnMuZGlzYWJsZWQ9PT0hMHx8YSh0aGlzKS5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKSlyZXR1cm47cmV0dXJuKHR5cGVvZiBlPT0ic3RyaW5nIj9kW2VdOmUpLmFwcGx5KGQsYXJndW1lbnRzKX10eXBlb2YgZSE9InN0cmluZyImJihmLmd1aWQ9ZS5ndWlkPWUuZ3VpZHx8Zi5ndWlkfHxhLmd1aWQrKyk7dmFyIGc9Yy5tYXRjaCgvXihcdyspXHMqKC4qKSQvKSxoPWdbMV0rZC5ldmVudE5hbWVzcGFjZSxpPWdbMl07aT9kLndpZGdldCgpLmRlbGVnYXRlKGksaCxmKTpiLmJpbmQoaCxmKX0pfSxfb2ZmOmZ1bmN0aW9uKGEsYil7Yj0oYnx8IiIpLnNwbGl0KCIgIikuam9pbih0aGlzLmV2ZW50TmFtZXNwYWNlKyIgIikrdGhpcy5ldmVudE5hbWVzcGFjZSxhLnVuYmluZChiKS51bmRlbGVnYXRlKGIpfSxfZGVsYXk6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7cmV0dXJuKHR5cGVvZiBhPT0ic3RyaW5nIj9kW2FdOmEpLmFwcGx5KGQsYXJndW1lbnRzKX12YXIgZD10aGlzO3JldHVybiBzZXRUaW1lb3V0KGMsYnx8MCl9LF9ob3ZlcmFibGU6ZnVuY3Rpb24oYil7dGhpcy5ob3ZlcmFibGU9dGhpcy5ob3ZlcmFibGUuYWRkKGIpLHRoaXMuX29uKGIse21vdXNlZW50ZXI6ZnVuY3Rpb24oYil7YShiLmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfSxtb3VzZWxlYXZlOmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKX19KX0sX2ZvY3VzYWJsZTpmdW5jdGlvbihiKXt0aGlzLmZvY3VzYWJsZT10aGlzLmZvY3VzYWJsZS5hZGQoYiksdGhpcy5fb24oYix7Zm9jdXNpbjpmdW5jdGlvbihiKXthKGIuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9LGZvY3Vzb3V0OmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKX19KX0sX3RyaWdnZXI6ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZz10aGlzLm9wdGlvbnNbYl07ZD1kfHx7fSxjPWEuRXZlbnQoYyksYy50eXBlPShiPT09dGhpcy53aWRnZXRFdmVudFByZWZpeD9iOnRoaXMud2lkZ2V0RXZlbnRQcmVmaXgrYikudG9Mb3dlckNhc2UoKSxjLnRhcmdldD10aGlzLmVsZW1lbnRbMF0sZj1jLm9yaWdpbmFsRXZlbnQ7aWYoZilmb3IoZSBpbiBmKWUgaW4gY3x8KGNbZV09ZltlXSk7cmV0dXJuIHRoaXMuZWxlbWVudC50cmlnZ2VyKGMsZCksIShhLmlzRnVuY3Rpb24oZykmJmcuYXBwbHkodGhpcy5lbGVtZW50WzBdLFtjXS5jb25jYXQoZCkpPT09ITF8fGMuaXNEZWZhdWx0UHJldmVudGVkKCkpfX0sYS5lYWNoKHtzaG93OiJmYWRlSW4iLGhpZGU6ImZhZGVPdXQifSxmdW5jdGlvbihiLGMpe2EuV2lkZ2V0LnByb3RvdHlwZVsiXyIrYl09ZnVuY3Rpb24oZCxlLGYpe3R5cGVvZiBlPT0ic3RyaW5nIiYmKGU9e2VmZmVjdDplfSk7dmFyIGcsaD1lP2U9PT0hMHx8dHlwZW9mIGU9PSJudW1iZXIiP2M6ZS5lZmZlY3R8fGM6YjtlPWV8fHt9LHR5cGVvZiBlPT0ibnVtYmVyIiYmKGU9e2R1cmF0aW9uOmV9KSxnPSFhLmlzRW1wdHlPYmplY3QoZSksZS5jb21wbGV0ZT1mLGUuZGVsYXkmJmQuZGVsYXkoZS5kZWxheSksZyYmYS5lZmZlY3RzJiYoYS5lZmZlY3RzLmVmZmVjdFtoXXx8YS51aUJhY2tDb21wYXQhPT0hMSYmYS5lZmZlY3RzW2hdKT9kW2JdKGUpOmghPT1iJiZkW2hdP2RbaF0oZS5kdXJhdGlvbixlLmVhc2luZyxmKTpkLnF1ZXVlKGZ1bmN0aW9uKGMpe2EodGhpcylbYl0oKSxmJiZmLmNhbGwoZFswXSksYygpfSl9fSksYS51aUJhY2tDb21wYXQhPT0hMSYmKGEuV2lkZ2V0LnByb3RvdHlwZS5fZ2V0Q3JlYXRlT3B0aW9ucz1mdW5jdGlvbigpe3JldHVybiBhLm1ldGFkYXRhJiZhLm1ldGFkYXRhLmdldCh0aGlzLmVsZW1lbnRbMF0pW3RoaXMud2lkZ2V0TmFtZV19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLndpZGdldCIse19jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oKXthLldpZGdldC5wcm90b3R5cGUuX2NyZWF0ZVdpZGdldC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fdHJpZ2dlcigiaW5pdCIpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBjPXRoaXMuZWxlbWVudCxkPXt9O3JldHVybiBhLmVhY2godGhpcy5vcHRpb25zLGZ1bmN0aW9uKGEpe3ZhciBlPWMuanFtRGF0YShhLnJlcGxhY2UoL1tBLVpdL2csZnVuY3Rpb24oYSl7cmV0dXJuIi0iK2EudG9Mb3dlckNhc2UoKX0pKTtlIT09YiYmKGRbYV09ZSl9KSxkfSxlbmhhbmNlV2l0aGluOmZ1bmN0aW9uKGIsYyl7dGhpcy5lbmhhbmNlKGEodGhpcy5vcHRpb25zLmluaXRTZWxlY3RvcixhKGIpKSxjKX0sZW5oYW5jZTpmdW5jdGlvbihiLGMpe3ZhciBkLGUsZj1hKGIpLGc9dGhpcztmPWEubW9iaWxlLmVuaGFuY2VhYmxlKGYpLGMmJmYubGVuZ3RoJiYoZD1hLm1vYmlsZS5jbG9zZXN0UGFnZURhdGEoZiksZT1kJiZkLmtlZXBOYXRpdmVTZWxlY3RvcigpfHwiIixmPWYubm90KGUpKSxmW3RoaXMud2lkZ2V0TmFtZV0oKX0scmFpc2U6ZnVuY3Rpb24oYSl7dGhyb3ciV2lkZ2V0IFsiK3RoaXMud2lkZ2V0TmFtZSsiXTogIithfX0pfShhKSxmdW5jdGlvbihhLGIpe2EuZXh0ZW5kKGEubW9iaWxlLHtsb2FkaW5nTWVzc2FnZVRleHRWaXNpYmxlOmQsbG9hZGluZ01lc3NhZ2VUaGVtZTpkLGxvYWRpbmdNZXNzYWdlOmQsc2hvd1BhZ2VMb2FkaW5nTXNnOmZ1bmN0aW9uKGIsYyxkKXthLm1vYmlsZS5sb2FkaW5nKCJzaG93IixiLGMsZCl9LGhpZGVQYWdlTG9hZGluZ01zZzpmdW5jdGlvbigpe2EubW9iaWxlLmxvYWRpbmcoImhpZGUiKX0sbG9hZGluZzpmdW5jdGlvbigpe3RoaXMubG9hZGVyV2lkZ2V0LmxvYWRlci5hcHBseSh0aGlzLmxvYWRlcldpZGdldCxhcmd1bWVudHMpfX0pO3ZhciBjPSJ1aS1sb2FkZXIiLGU9YSgiaHRtbCIpLGY9YShiKTthLndpZGdldCgibW9iaWxlLmxvYWRlciIse29wdGlvbnM6e3RoZW1lOiJhIix0ZXh0VmlzaWJsZTohMSxodG1sOiIiLHRleHQ6ImxvYWRpbmcifSxkZWZhdWx0SHRtbDoiPGRpdiBjbGFzcz0nIitjKyInPiIrIjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tbG9hZGluZyc+PC9zcGFuPiIrIjxoMT48L2gxPiIrIjwvZGl2PiIsZmFrZUZpeExvYWRlcjpmdW5jdGlvbigpe3ZhciBiPWEoIi4iK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5maXJzdCgpO3RoaXMuZWxlbWVudC5jc3Moe3RvcDphLnN1cHBvcnQuc2Nyb2xsVG9wJiZmLnNjcm9sbFRvcCgpK2YuaGVpZ2h0KCkvMnx8Yi5sZW5ndGgmJmIub2Zmc2V0KCkudG9wfHwxMDB9KX0sY2hlY2tMb2FkZXJQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudC5vZmZzZXQoKSxjPWYuc2Nyb2xsVG9wKCksZD1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKTtpZihiLnRvcDxjfHxiLnRvcC1jPmQpdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1sb2FkZXItZmFrZWZpeCIpLHRoaXMuZmFrZUZpeExvYWRlcigpLGYudW5iaW5kKCJzY3JvbGwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbikuYmluZCgic2Nyb2xsIix0aGlzLmZha2VGaXhMb2FkZXIpfSxyZXNldEh0bWw6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuaHRtbChhKHRoaXMuZGVmYXVsdEh0bWwpLmh0bWwoKSl9LHNob3c6ZnVuY3Rpb24oYixnLGgpe3ZhciBpLGosayxsO3RoaXMucmVzZXRIdG1sKCksYS50eXBlKGIpPT09Im9iamVjdCI/KGw9YS5leHRlbmQoe30sdGhpcy5vcHRpb25zLGIpLGI9bC50aGVtZXx8YS5tb2JpbGUubG9hZGluZ01lc3NhZ2VUaGVtZSk6KGw9dGhpcy5vcHRpb25zLGI9Ynx8YS5tb2JpbGUubG9hZGluZ01lc3NhZ2VUaGVtZXx8bC50aGVtZSksaj1nfHxhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZXx8bC50ZXh0LGUuYWRkQ2xhc3MoInVpLWxvYWRpbmciKTtpZihhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZSE9PSExfHxsLmh0bWwpYS5tb2JpbGUubG9hZGluZ01lc3NhZ2VUZXh0VmlzaWJsZSE9PWQ/aT1hLm1vYmlsZS5sb2FkaW5nTWVzc2FnZVRleHRWaXNpYmxlOmk9bC50ZXh0VmlzaWJsZSx0aGlzLmVsZW1lbnQuYXR0cigiY2xhc3MiLGMrIiB1aS1jb3JuZXItYWxsIHVpLWJvZHktIitiKyIgdWktbG9hZGVyLSIrKGl8fGd8fGIudGV4dD8idmVyYm9zZSI6ImRlZmF1bHQiKSsobC50ZXh0b25seXx8aD8iIHVpLWxvYWRlci10ZXh0b25seSI6IiIpKSxsLmh0bWw/dGhpcy5lbGVtZW50Lmh0bWwobC5odG1sKTp0aGlzLmVsZW1lbnQuZmluZCgiaDEiKS50ZXh0KGopLHRoaXMuZWxlbWVudC5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKSx0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24oKSxmLmJpbmQoInNjcm9sbCIsYS5wcm94eSh0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24sdGhpcykpfSxoaWRlOmZ1bmN0aW9uKCl7ZS5yZW1vdmVDbGFzcygidWktbG9hZGluZyIpLGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWxvYWRlci1mYWtlZml4IiksYShiKS51bmJpbmQoInNjcm9sbCIsYS5wcm94eSh0aGlzLmZha2VGaXhMb2FkZXIsdGhpcykpLGEoYikudW5iaW5kKCJzY3JvbGwiLGEucHJveHkodGhpcy5jaGVja0xvYWRlclBvc2l0aW9uLHRoaXMpKX19KSxmLmJpbmQoInBhZ2Vjb250YWluZXJjcmVhdGUiLGZ1bmN0aW9uKCl7YS5tb2JpbGUubG9hZGVyV2lkZ2V0PWEubW9iaWxlLmxvYWRlcldpZGdldHx8YShhLm1vYmlsZS5sb2FkZXIucHJvdG90eXBlLmRlZmF1bHRIdG1sKS5sb2FkZXIoKX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjLGQpe2Z1bmN0aW9uIHgoYSl7d2hpbGUoYSYmdHlwZW9mIGEub3JpZ2luYWxFdmVudCE9InVuZGVmaW5lZCIpYT1hLm9yaWdpbmFsRXZlbnQ7cmV0dXJuIGF9ZnVuY3Rpb24geShiLGMpe3ZhciBlPWIudHlwZSxmLGcsaSxrLGwsbSxuLG8scDtiPWEuRXZlbnQoYiksYi50eXBlPWMsZj1iLm9yaWdpbmFsRXZlbnQsZz1hLmV2ZW50LnByb3BzLGUuc2VhcmNoKC9eKG1vdXNlfGNsaWNrKS8pPi0xJiYoZz1qKTtpZihmKWZvcihuPWcubGVuZ3RoLGs7bjspaz1nWy0tbl0sYltrXT1mW2tdO2Uuc2VhcmNoKC9tb3VzZShkb3dufHVwKXxjbGljay8pPi0xJiYhYi53aGljaCYmKGIud2hpY2g9MSk7aWYoZS5zZWFyY2goL150b3VjaC8pIT09LTEpe2k9eChmKSxlPWkudG91Y2hlcyxsPWkuY2hhbmdlZFRvdWNoZXMsbT1lJiZlLmxlbmd0aD9lWzBdOmwmJmwubGVuZ3RoP2xbMF06ZDtpZihtKWZvcihvPTAscD1oLmxlbmd0aDtvPHA7bysrKWs9aFtvXSxiW2tdPW1ba119cmV0dXJuIGJ9ZnVuY3Rpb24geihiKXt2YXIgYz17fSxkLGY7d2hpbGUoYil7ZD1hLmRhdGEoYixlKTtmb3IoZiBpbiBkKWRbZl0mJihjW2ZdPWMuaGFzVmlydHVhbEJpbmRpbmc9ITApO2I9Yi5wYXJlbnROb2RlfXJldHVybiBjfWZ1bmN0aW9uIEEoYixjKXt2YXIgZDt3aGlsZShiKXtkPWEuZGF0YShiLGUpO2lmKGQmJighY3x8ZFtjXSkpcmV0dXJuIGI7Yj1iLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9ZnVuY3Rpb24gQigpe3I9ITF9ZnVuY3Rpb24gQygpe3I9ITB9ZnVuY3Rpb24gRCgpe3Y9MCxwLmxlbmd0aD0wLHE9ITEsQygpfWZ1bmN0aW9uIEUoKXtCKCl9ZnVuY3Rpb24gRigpe0coKSxsPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtsPTAsRCgpfSxhLnZtb3VzZS5yZXNldFRpbWVyRHVyYXRpb24pfWZ1bmN0aW9uIEcoKXtsJiYoY2xlYXJUaW1lb3V0KGwpLGw9MCl9ZnVuY3Rpb24gSChiLGMsZCl7dmFyIGU7aWYoZCYmZFtiXXx8IWQmJkEoYy50YXJnZXQsYikpZT15KGMsYiksYShjLnRhcmdldCkudHJpZ2dlcihlKTtyZXR1cm4gZX1mdW5jdGlvbiBJKGIpe3ZhciBjPWEuZGF0YShiLnRhcmdldCxmKTtpZighcSYmKCF2fHx2IT09Yykpe3ZhciBkPUgoInYiK2IudHlwZSxiKTtkJiYoZC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmYi5wcmV2ZW50RGVmYXVsdCgpLGQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmYi5zdG9wUHJvcGFnYXRpb24oKSxkLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkmJmIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpfX1mdW5jdGlvbiBKKGIpe3ZhciBjPXgoYikudG91Y2hlcyxkLGU7aWYoYyYmYy5sZW5ndGg9PT0xKXtkPWIudGFyZ2V0LGU9eihkKTtpZihlLmhhc1ZpcnR1YWxCaW5kaW5nKXt2PXUrKyxhLmRhdGEoZCxmLHYpLEcoKSxFKCksbz0hMTt2YXIgZz14KGIpLnRvdWNoZXNbMF07bT1nLnBhZ2VYLG49Zy5wYWdlWSxIKCJ2bW91c2VvdmVyIixiLGUpLEgoInZtb3VzZWRvd24iLGIsZSl9fX1mdW5jdGlvbiBLKGEpe2lmKHIpcmV0dXJuO298fEgoInZtb3VzZWNhbmNlbCIsYSx6KGEudGFyZ2V0KSksbz0hMCxGKCl9ZnVuY3Rpb24gTChiKXtpZihyKXJldHVybjt2YXIgYz14KGIpLnRvdWNoZXNbMF0sZD1vLGU9YS52bW91c2UubW92ZURpc3RhbmNlVGhyZXNob2xkLGY9eihiLnRhcmdldCk7bz1vfHxNYXRoLmFicyhjLnBhZ2VYLW0pPmV8fE1hdGguYWJzKGMucGFnZVktbik+ZSxvJiYhZCYmSCgidm1vdXNlY2FuY2VsIixiLGYpLEgoInZtb3VzZW1vdmUiLGIsZiksRigpfWZ1bmN0aW9uIE0oYSl7aWYocilyZXR1cm47QygpO3ZhciBiPXooYS50YXJnZXQpLGM7SCgidm1vdXNldXAiLGEsYik7aWYoIW8pe3ZhciBkPUgoInZjbGljayIsYSxiKTtkJiZkLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYoYz14KGEpLmNoYW5nZWRUb3VjaGVzWzBdLHAucHVzaCh7dG91Y2hJRDp2LHg6Yy5jbGllbnRYLHk6Yy5jbGllbnRZfSkscT0hMCl9SCgidm1vdXNlb3V0IixhLGIpLG89ITEsRigpfWZ1bmN0aW9uIE4oYil7dmFyIGM9YS5kYXRhKGIsZSksZDtpZihjKWZvcihkIGluIGMpaWYoY1tkXSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBPKCl7fWZ1bmN0aW9uIFAoYil7dmFyIGM9Yi5zdWJzdHIoMSk7cmV0dXJue3NldHVwOmZ1bmN0aW9uKGQsZil7Tih0aGlzKXx8YS5kYXRhKHRoaXMsZSx7fSk7dmFyIGc9YS5kYXRhKHRoaXMsZSk7Z1tiXT0hMCxrW2JdPShrW2JdfHwwKSsxLGtbYl09PT0xJiZ0LmJpbmQoYyxJKSxhKHRoaXMpLmJpbmQoYyxPKSxzJiYoay50b3VjaHN0YXJ0PShrLnRvdWNoc3RhcnR8fDApKzEsay50b3VjaHN0YXJ0PT09MSYmdC5iaW5kKCJ0b3VjaHN0YXJ0IixKKS5iaW5kKCJ0b3VjaGVuZCIsTSkuYmluZCgidG91Y2htb3ZlIixMKS5iaW5kKCJzY3JvbGwiLEspKX0sdGVhcmRvd246ZnVuY3Rpb24oZCxmKXstLWtbYl0sa1tiXXx8dC51bmJpbmQoYyxJKSxzJiYoLS1rLnRvdWNoc3RhcnQsay50b3VjaHN0YXJ0fHx0LnVuYmluZCgidG91Y2hzdGFydCIsSikudW5iaW5kKCJ0b3VjaG1vdmUiLEwpLnVuYmluZCgidG91Y2hlbmQiLE0pLnVuYmluZCgic2Nyb2xsIixLKSk7dmFyIGc9YSh0aGlzKSxoPWEuZGF0YSh0aGlzLGUpO2gmJihoW2JdPSExKSxnLnVuYmluZChjLE8pLE4odGhpcyl8fGcucmVtb3ZlRGF0YShlKX19fXZhciBlPSJ2aXJ0dWFsTW91c2VCaW5kaW5ncyIsZj0idmlydHVhbFRvdWNoSUQiLGc9InZtb3VzZW92ZXIgdm1vdXNlZG93biB2bW91c2Vtb3ZlIHZtb3VzZXVwIHZjbGljayB2bW91c2VvdXQgdm1vdXNlY2FuY2VsIi5zcGxpdCgiICIpLGg9ImNsaWVudFggY2xpZW50WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkiLnNwbGl0KCIgIiksaT1hLmV2ZW50Lm1vdXNlSG9va3M/YS5ldmVudC5tb3VzZUhvb2tzLnByb3BzOltdLGo9YS5ldmVudC5wcm9wcy5jb25jYXQoaSksaz17fSxsPTAsbT0wLG49MCxvPSExLHA9W10scT0hMSxyPSExLHM9ImFkZEV2ZW50TGlzdGVuZXIiaW4gYyx0PWEoYyksdT0xLHY9MCx3O2Eudm1vdXNlPXttb3ZlRGlzdGFuY2VUaHJlc2hvbGQ6MTAsY2xpY2tEaXN0YW5jZVRocmVzaG9sZDoxMCxyZXNldFRpbWVyRHVyYXRpb246MTUwMH07Zm9yKHZhciBRPTA7UTxnLmxlbmd0aDtRKyspYS5ldmVudC5zcGVjaWFsW2dbUV1dPVAoZ1tRXSk7cyYmYy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oYil7dmFyIGM9cC5sZW5ndGgsZD1iLnRhcmdldCxlLGcsaCxpLGosaztpZihjKXtlPWIuY2xpZW50WCxnPWIuY2xpZW50WSx3PWEudm1vdXNlLmNsaWNrRGlzdGFuY2VUaHJlc2hvbGQsaD1kO3doaWxlKGgpe2ZvcihpPTA7aTxjO2krKyl7aj1wW2ldLGs9MDtpZihoPT09ZCYmTWF0aC5hYnMoai54LWUpPHcmJk1hdGguYWJzKGoueS1nKTx3fHxhLmRhdGEoaCxmKT09PWoudG91Y2hJRCl7Yi5wcmV2ZW50RGVmYXVsdCgpLGIuc3RvcFByb3BhZ2F0aW9uKCk7cmV0dXJufX1oPWgucGFyZW50Tm9kZX19fSwhMCl9KGEsYixjKSxmdW5jdGlvbihhLGIpe3ZhciBkPXt0b3VjaDoib250b3VjaGVuZCJpbiBjfTthLm1vYmlsZT1hLm1vYmlsZXx8e30sYS5tb2JpbGUuc3VwcG9ydD1hLm1vYmlsZS5zdXBwb3J0fHx7fSxhLmV4dGVuZChhLnN1cHBvcnQsZCksYS5leHRlbmQoYS5tb2JpbGUuc3VwcG9ydCxkKX0oYSksZnVuY3Rpb24oYSxiLGQpe2Z1bmN0aW9uIGooYixjLGQpe3ZhciBlPWQudHlwZTtkLnR5cGU9YyxhLmV2ZW50LmhhbmRsZS5jYWxsKGIsZCksZC50eXBlPWV9YS5lYWNoKCJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0YXAgdGFwaG9sZCBzd2lwZSBzd2lwZWxlZnQgc3dpcGVyaWdodCBzY3JvbGxzdGFydCBzY3JvbGxzdG9wIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGIsYyl7YS5mbltjXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoYyxhKTp0aGlzLnRyaWdnZXIoYyl9LGEuYXR0ckZuJiYoYS5hdHRyRm5bY109ITApfSk7dmFyIGU9YS5tb2JpbGUuc3VwcG9ydC50b3VjaCxmPSJ0b3VjaG1vdmUgc2Nyb2xsIixnPWU/InRvdWNoc3RhcnQiOiJtb3VzZWRvd24iLGg9ZT8idG91Y2hlbmQiOiJtb3VzZXVwIixpPWU/InRvdWNobW92ZSI6Im1vdXNlbW92ZSI7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0PXtlbmFibGVkOiEwLHNldHVwOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gZyhhLGMpe2Q9YyxqKGIsZD8ic2Nyb2xsc3RhcnQiOiJzY3JvbGxzdG9wIixhKX12YXIgYj10aGlzLGM9YShiKSxkLGU7Yy5iaW5kKGYsZnVuY3Rpb24oYil7aWYoIWEuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkKXJldHVybjtkfHxnKGIsITApLGNsZWFyVGltZW91dChlKSxlPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtnKGIsITEpfSw1MCl9KX19LGEuZXZlbnQuc3BlY2lhbC50YXA9e3RhcGhvbGRUaHJlc2hvbGQ6NzUwLHNldHVwOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxkPWEoYik7ZC5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbihlKXtmdW5jdGlvbiBpKCl7Y2xlYXJUaW1lb3V0KGgpfWZ1bmN0aW9uIGsoKXtpKCksZC51bmJpbmQoInZjbGljayIsbCkudW5iaW5kKCJ2bW91c2V1cCIsaSksYShjKS51bmJpbmQoInZtb3VzZWNhbmNlbCIsayl9ZnVuY3Rpb24gbChhKXtrKCksZj09PWEudGFyZ2V0JiZqKGIsInRhcCIsYSl9aWYoZS53aGljaCYmZS53aGljaCE9PTEpcmV0dXJuITE7dmFyIGY9ZS50YXJnZXQsZz1lLm9yaWdpbmFsRXZlbnQsaDtkLmJpbmQoInZtb3VzZXVwIixpKS5iaW5kKCJ2Y2xpY2siLGwpLGEoYykuYmluZCgidm1vdXNlY2FuY2VsIixrKSxoPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtqKGIsInRhcGhvbGQiLGEuRXZlbnQoInRhcGhvbGQiLHt0YXJnZXQ6Zn0pKX0sYS5ldmVudC5zcGVjaWFsLnRhcC50YXBob2xkVGhyZXNob2xkKX0pfX0sYS5ldmVudC5zcGVjaWFsLnN3aXBlPXtzY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkOjMwLGR1cmF0aW9uVGhyZXNob2xkOjFlMyxob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQ6MzAsdmVydGljYWxEaXN0YW5jZVRocmVzaG9sZDo3NSxzZXR1cDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1hKGIpO2MuYmluZChnLGZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGooYil7aWYoIWYpcmV0dXJuO3ZhciBjPWIub3JpZ2luYWxFdmVudC50b3VjaGVzP2Iub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmI7Zz17dGltZToobmV3IERhdGUpLmdldFRpbWUoKSxjb29yZHM6W2MucGFnZVgsYy5wYWdlWV19LE1hdGguYWJzKGYuY29vcmRzWzBdLWcuY29vcmRzWzBdKT5hLmV2ZW50LnNwZWNpYWwuc3dpcGUuc2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZCYmYi5wcmV2ZW50RGVmYXVsdCgpfXZhciBlPWIub3JpZ2luYWxFdmVudC50b3VjaGVzP2Iub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmIsZj17dGltZToobmV3IERhdGUpLmdldFRpbWUoKSxjb29yZHM6W2UucGFnZVgsZS5wYWdlWV0sb3JpZ2luOmEoYi50YXJnZXQpfSxnO2MuYmluZChpLGopLm9uZShoLGZ1bmN0aW9uKGIpe2MudW5iaW5kKGksaiksZiYmZyYmZy50aW1lLWYudGltZTxhLmV2ZW50LnNwZWNpYWwuc3dpcGUuZHVyYXRpb25UaHJlc2hvbGQmJk1hdGguYWJzKGYuY29vcmRzWzBdLWcuY29vcmRzWzBdKT5hLmV2ZW50LnNwZWNpYWwuc3dpcGUuaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkJiZNYXRoLmFicyhmLmNvb3Jkc1sxXS1nLmNvb3Jkc1sxXSk8YS5ldmVudC5zcGVjaWFsLnN3aXBlLnZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQmJmYub3JpZ2luLnRyaWdnZXIoInN3aXBlIikudHJpZ2dlcihmLmNvb3Jkc1swXT5nLmNvb3Jkc1swXT8ic3dpcGVsZWZ0Ijoic3dpcGVyaWdodCIpLGY9Zz1kfSl9KX19LGEuZWFjaCh7c2Nyb2xsc3RvcDoic2Nyb2xsc3RhcnQiLHRhcGhvbGQ6InRhcCIsc3dpcGVsZWZ0OiJzd2lwZSIsc3dpcGVyaWdodDoic3dpcGUifSxmdW5jdGlvbihiLGMpe2EuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoYyxhLm5vb3ApfX19KX0oYSx0aGlzKSxmdW5jdGlvbihhLGMpe2EuZXh0ZW5kKGEuc3VwcG9ydCx7b3JpZW50YXRpb246Im9yaWVudGF0aW9uImluIGImJiJvbm9yaWVudGF0aW9uY2hhbmdlImluIGJ9KX0oYSksZnVuY3Rpb24oYSl7YS5ldmVudC5zcGVjaWFsLnRocm90dGxlZHJlc2l6ZT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoInJlc2l6ZSIsYyl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoInJlc2l6ZSIsYyl9fTt2YXIgYj0yNTAsYz1mdW5jdGlvbigpe2Y9KG5ldyBEYXRlKS5nZXRUaW1lKCksZz1mLWQsZz49Yj8oZD1mLGEodGhpcykudHJpZ2dlcigidGhyb3R0bGVkcmVzaXplIikpOihlJiZjbGVhclRpbWVvdXQoZSksZT1zZXRUaW1lb3V0KGMsYi1nKSl9LGQ9MCxlLGYsZ30oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBvKCl7dmFyIGE9ZygpO2EhPT1oJiYoaD1hLGQudHJpZ2dlcihlKSl9dmFyIGQ9YShiKSxlPSJvcmllbnRhdGlvbmNoYW5nZSIsZixnLGgsaSxqLGs9ezA6ITAsMTgwOiEwfTtpZihhLnN1cHBvcnQub3JpZW50YXRpb24pe3ZhciBsPWIuaW5uZXJXaWR0aHx8YShiKS53aWR0aCgpLG09Yi5pbm5lckhlaWdodHx8YShiKS5oZWlnaHQoKSxuPTUwO2k9bD5tJiZsLW0+bixqPWtbYi5vcmllbnRhdGlvbl07aWYoaSYmanx8IWkmJiFqKWs9eyItOTAiOiEwLDkwOiEwfX1hLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2U9YS5leHRlbmQoe30sYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLHtzZXR1cDpmdW5jdGlvbigpe2lmKGEuc3VwcG9ydC5vcmllbnRhdGlvbiYmIWEuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5kaXNhYmxlZClyZXR1cm4hMTtoPWcoKSxkLmJpbmQoInRocm90dGxlZHJlc2l6ZSIsbyl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYoYS5zdXBwb3J0Lm9yaWVudGF0aW9uJiYhYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLmRpc2FibGVkKXJldHVybiExO2QudW5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLG8pfSxhZGQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5oYW5kbGVyO2EuaGFuZGxlcj1mdW5jdGlvbihhKXtyZXR1cm4gYS5vcmllbnRhdGlvbj1nKCksYi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0pLGEuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5vcmllbnRhdGlvbj1nPWZ1bmN0aW9uKCl7dmFyIGQ9ITAsZT1jLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gYS5zdXBwb3J0Lm9yaWVudGF0aW9uP2Q9a1tiLm9yaWVudGF0aW9uXTpkPWUmJmUuY2xpZW50V2lkdGgvZS5jbGllbnRIZWlnaHQ8MS4xLGQ/InBvcnRyYWl0IjoibGFuZHNjYXBlIn0sYS5mbltlXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoZSxhKTp0aGlzLnRyaWdnZXIoZSl9LGEuYXR0ckZuJiYoYS5hdHRyRm5bZV09ITApfShhLHRoaXMpLGZ1bmN0aW9uKGEsZCl7dmFyIGU9YShiKSxmPWEoImh0bWwiKTthLm1vYmlsZS5tZWRpYT1mdW5jdGlvbigpe3ZhciBiPXt9LGQ9YSgiPGRpdiBpZD0nanF1ZXJ5LW1lZGlhdGVzdCc+PC9kaXY+IiksZT1hKCI8Ym9keT4iKS5hcHBlbmQoZCk7cmV0dXJuIGZ1bmN0aW9uKGEpe2lmKCEoYSBpbiBiKSl7dmFyIGc9Yy5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLGg9IkBtZWRpYSAiK2ErIiB7ICNqcXVlcnktbWVkaWF0ZXN0IHsgcG9zaXRpb246YWJzb2x1dGU7IH0gfSI7Zy50eXBlPSJ0ZXh0L2NzcyIsZy5zdHlsZVNoZWV0P2cuc3R5bGVTaGVldC5jc3NUZXh0PWg6Zy5hcHBlbmRDaGlsZChjLmNyZWF0ZVRleHROb2RlKGgpKSxmLnByZXBlbmQoZSkucHJlcGVuZChnKSxiW2FdPWQuY3NzKCJwb3NpdGlvbiIpPT09ImFic29sdXRlIixlLmFkZChnKS5yZW1vdmUoKX1yZXR1cm4gYlthXX19KCl9KGEpLGZ1bmN0aW9uKGEsZCl7ZnVuY3Rpb24gZShhKXt2YXIgYj1hLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyKDEpLGM9KGErIiAiK2guam9pbihiKyIgIikrYikuc3BsaXQoIiAiKTtmb3IodmFyIGUgaW4gYylpZihnW2NbZV1dIT09ZClyZXR1cm4hMH1mdW5jdGlvbiBtKGEsYixkKXt2YXIgZT1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGY9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHIoMSl9LGc9ZnVuY3Rpb24oYSl7cmV0dXJuIi0iK2EuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkrYS5zdWJzdHIoMSkrIi0ifSxpPWZ1bmN0aW9uKGMpe3ZhciBkPWcoYykrYSsiOiAiK2IrIjsiLGg9ZihjKSxpPWgrZihhKTtlLnNldEF0dHJpYnV0ZSgic3R5bGUiLGQpLCFlLnN0eWxlW2ldfHwoaz0hMCl9LGo9ZD9bZF06aCxrO2Zvcih2YXIgbD0wO2w8ai5sZW5ndGg7bCsrKWkoaltsXSk7cmV0dXJuISFrfWZ1bmN0aW9uIG4oKXt2YXIgYj0idHJhbnNmb3JtLTNkIjtyZXR1cm4gbSgicGVyc3BlY3RpdmUiLCIxMHB4IiwibW96Iil8fGEubW9iaWxlLm1lZGlhKCIoLSIraC5qb2luKCItIitiKyIpLCgtIikrIi0iK2IrIiksKCIrYisiKSIpfWZ1bmN0aW9uIG8oKXt2YXIgYj1sb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUrInVpLWRpci8iLGM9YSgiaGVhZCBiYXNlIiksZD1udWxsLGU9IiIsZyxoO3JldHVybiBjLmxlbmd0aD9lPWMuYXR0cigiaHJlZiIpOmM9ZD1hKCI8YmFzZT4iLHtocmVmOmJ9KS5hcHBlbmRUbygiaGVhZCIpLGc9YSgiPGEgaHJlZj0ndGVzdHVybCcgLz4iKS5wcmVwZW5kVG8oZiksaD1nWzBdLmhyZWYsY1swXS5ocmVmPWV8fGxvY2F0aW9uLnBhdGhuYW1lLGQmJmQucmVtb3ZlKCksaC5pbmRleE9mKGIpPT09MH1mdW5jdGlvbiBwKCl7dmFyIGE9Yy5jcmVhdGVFbGVtZW50KCJ4IiksZD1jLmRvY3VtZW50RWxlbWVudCxlPWIuZ2V0Q29tcHV0ZWRTdHlsZSxmO3JldHVybiJwb2ludGVyRXZlbnRzImluIGEuc3R5bGU/KGEuc3R5bGUucG9pbnRlckV2ZW50cz0iYXV0byIsYS5zdHlsZS5wb2ludGVyRXZlbnRzPSJ4IixkLmFwcGVuZENoaWxkKGEpLGY9ZSYmZShhLCIiKS5wb2ludGVyRXZlbnRzPT09ImF1dG8iLGQucmVtb3ZlQ2hpbGQoYSksISFmKTohMX1mdW5jdGlvbiBxKCl7dmFyIGE9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gdHlwZW9mIGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0IT0idW5kZWZpbmVkIn12YXIgZj1hKCI8Ym9keT4iKS5wcmVwZW5kVG8oImh0bWwiKSxnPWZbMF0uc3R5bGUsaD1bIldlYmtpdCIsIk1veiIsIk8iXSxpPSJwYWxtR2V0UmVzb3VyY2UiaW4gYixqPWIub3BlcmEsaz1iLm9wZXJhbWluaSYme30udG9TdHJpbmcuY2FsbChiLm9wZXJhbWluaSk9PT0iW29iamVjdCBPcGVyYU1pbmldIixsPWIuYmxhY2tiZXJyeSYmIWUoIi13ZWJraXQtdHJhbnNmb3JtIik7YS5leHRlbmQoYS5tb2JpbGUse2Jyb3dzZXI6e319KSxhLm1vYmlsZS5icm93c2VyLmllPWZ1bmN0aW9uKCl7dmFyIGE9MyxiPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksZD1iLmFsbHx8W107ZG8gYi5pbm5lckhUTUw9IjwhLS1baWYgZ3QgSUUgIisgKythKyJdPjxicj48IVtlbmRpZl0tLT4iO3doaWxlKGRbMF0pO3JldHVybiBhPjQ/YTohYX0oKSxhLmV4dGVuZChhLnN1cHBvcnQse2Nzc1RyYW5zaXRpb25zOiJXZWJLaXRUcmFuc2l0aW9uRXZlbnQiaW4gYnx8bSgidHJhbnNpdGlvbiIsImhlaWdodCAxMDBtcyBsaW5lYXIiKSYmIWoscHVzaFN0YXRlOiJwdXNoU3RhdGUiaW4gaGlzdG9yeSYmInJlcGxhY2VTdGF0ZSJpbiBoaXN0b3J5LG1lZGlhcXVlcnk6YS5tb2JpbGUubWVkaWEoIm9ubHkgYWxsIiksY3NzUHNldWRvRWxlbWVudDohIWUoImNvbnRlbnQiKSx0b3VjaE92ZXJmbG93OiEhZSgib3ZlcmZsb3dTY3JvbGxpbmciKSxjc3NUcmFuc2Zvcm0zZDpuKCksYm94U2hhZG93OiEhZSgiYm94U2hhZG93IikmJiFsLHNjcm9sbFRvcDooInBhZ2VYT2Zmc2V0ImluIGJ8fCJzY3JvbGxUb3AiaW4gYy5kb2N1bWVudEVsZW1lbnR8fCJzY3JvbGxUb3AiaW4gZlswXSkmJiFpJiYhayxkeW5hbWljQmFzZVRhZzpvKCksY3NzUG9pbnRlckV2ZW50czpwKCksYm91bmRpbmdSZWN0OnEoKX0pLGYucmVtb3ZlKCk7dmFyIHI9ZnVuY3Rpb24oKXt2YXIgYT1iLm5hdmlnYXRvci51c2VyQWdlbnQ7cmV0dXJuIGEuaW5kZXhPZigiTm9raWEiKT4tMSYmKGEuaW5kZXhPZigiU3ltYmlhbi8zIik+LTF8fGEuaW5kZXhPZigiU2VyaWVzNjAvNSIpPi0xKSYmYS5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xJiZhLm1hdGNoKC8oQnJvd3Nlck5HfE5va2lhQnJvd3NlcilcLzdcLlswLTNdLyl9KCk7YS5tb2JpbGUuZ3JhZGVBPWZ1bmN0aW9uKCl7cmV0dXJuKGEuc3VwcG9ydC5tZWRpYXF1ZXJ5fHxhLm1vYmlsZS5icm93c2VyLmllJiZhLm1vYmlsZS5icm93c2VyLmllPj03KSYmKGEuc3VwcG9ydC5ib3VuZGluZ1JlY3R8fGEuZm4uanF1ZXJ5Lm1hdGNoKC8xXC5bMC03K11cLlswLTkrXT8vKSE9PW51bGwpfSxhLm1vYmlsZS5hamF4QmxhY2tsaXN0PWIuYmxhY2tiZXJyeSYmIWIuV2ViS2l0UG9pbnR8fGt8fHIsciYmYShmdW5jdGlvbigpe2EoImhlYWQgbGlua1tyZWw9J3N0eWxlc2hlZXQnXSIpLmF0dHIoInJlbCIsImFsdGVybmF0ZSBzdHlsZXNoZWV0IikuYXR0cigicmVsIiwic3R5bGVzaGVldCIpfSksYS5zdXBwb3J0LmJveFNoYWRvd3x8YSgiaHRtbCIpLmFkZENsYXNzKCJ1aS1tb2JpbGUtbm9zdXBwb3J0LWJveHNoYWRvdyIpfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUucGFnZSIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZToiYyIsZG9tQ2FjaGU6ITEsa2VlcE5hdGl2ZURlZmF1bHQ6IjpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoYS5fdHJpZ2dlcigiYmVmb3JlY3JlYXRlIik9PT0hMSlyZXR1cm4hMTthLmVsZW1lbnQuYXR0cigidGFiaW5kZXgiLCIwIikuYWRkQ2xhc3MoInVpLXBhZ2UgdWktYm9keS0iK2Eub3B0aW9ucy50aGVtZSkuYmluZCgicGFnZWJlZm9yZWhpZGUiLGZ1bmN0aW9uKCl7YS5yZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kKCl9KS5iaW5kKCJwYWdlYmVmb3Jlc2hvdyIsZnVuY3Rpb24oKXthLnNldENvbnRhaW5lckJhY2tncm91bmQoKX0pfSxyZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kOmZ1bmN0aW9uKCl7YS5tb2JpbGUucGFnZUNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktb3ZlcmxheS0iK2EubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudC5wYXJlbnQoKSkpfSxzZXRDb250YWluZXJCYWNrZ3JvdW5kOmZ1bmN0aW9uKGIpe3RoaXMub3B0aW9ucy50aGVtZSYmYS5tb2JpbGUucGFnZUNvbnRhaW5lci5hZGRDbGFzcygidWktb3ZlcmxheS0iKyhifHx0aGlzLm9wdGlvbnMudGhlbWUpKX0sa2VlcE5hdGl2ZVNlbGVjdG9yOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLGM9Yi5rZWVwTmF0aXZlJiZhLnRyaW0oYi5rZWVwTmF0aXZlKTtyZXR1cm4gYyYmYi5rZWVwTmF0aXZlIT09Yi5rZWVwTmF0aXZlRGVmYXVsdD9bYi5rZWVwTmF0aXZlLGIua2VlcE5hdGl2ZURlZmF1bHRdLmpvaW4oIiwgIik6Yi5rZWVwTmF0aXZlRGVmYXVsdH19KX0oYSksZnVuY3Rpb24oYSxiLGQpe2Z1bmN0aW9uIGsoYSl7cmV0dXJuIGE9YXx8bG9jYXRpb24uaHJlZiwiIyIrYS5yZXBsYWNlKC9eW14jXSojPyguKikkLywiJDEiKX12YXIgZT0iaGFzaGNoYW5nZSIsZj1jLGcsaD1hLmV2ZW50LnNwZWNpYWwsaT1mLmRvY3VtZW50TW9kZSxqPSJvbiIrZSBpbiBiJiYoaT09PWR8fGk+Nyk7YS5mbltlXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoZSxhKTp0aGlzLnRyaWdnZXIoZSl9LGEuZm5bZV0uZGVsYXk9NTAsaFtlXT1hLmV4dGVuZChoW2VdLHtzZXR1cDpmdW5jdGlvbigpe2lmKGopcmV0dXJuITE7YShnLnN0YXJ0KX0sdGVhcmRvd246ZnVuY3Rpb24oKXtpZihqKXJldHVybiExO2EoZy5zdG9wKX19KSxnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3ZhciBjPWsoKSxkPW0oaCk7YyE9PWg/KGwoaD1jLGQpLGEoYikudHJpZ2dlcihlKSk6ZCE9PWgmJihsb2NhdGlvbi5ocmVmPWxvY2F0aW9uLmhyZWYucmVwbGFjZSgvIy4qLywiIikrZCksZz1zZXRUaW1lb3V0KG4sYS5mbltlXS5kZWxheSl9dmFyIGM9e30sZyxoPWsoKSxpPWZ1bmN0aW9uKGEpe3JldHVybiBhfSxsPWksbT1pO3JldHVybiBjLnN0YXJ0PWZ1bmN0aW9uKCl7Z3x8bigpfSxjLnN0b3A9ZnVuY3Rpb24oKXtnJiZjbGVhclRpbWVvdXQoZyksZz1kfSxhLmJyb3dzZXIubXNpZSYmIWomJmZ1bmN0aW9uKCl7dmFyIGIsZDtjLnN0YXJ0PWZ1bmN0aW9uKCl7Ynx8KGQ9YS5mbltlXS5zcmMsZD1kJiZkK2soKSxiPWEoJzxpZnJhbWUgdGFiaW5kZXg9Ii0xIiB0aXRsZT0iZW1wdHkiLz4nKS5oaWRlKCkub25lKCJsb2FkIixmdW5jdGlvbigpe2R8fGwoaygpKSxuKCl9KS5hdHRyKCJzcmMiLGR8fCJqYXZhc2NyaXB0OjAiKS5pbnNlcnRBZnRlcigiYm9keSIpWzBdLmNvbnRlbnRXaW5kb3csZi5vbnByb3BlcnR5Y2hhbmdlPWZ1bmN0aW9uKCl7dHJ5e2V2ZW50LnByb3BlcnR5TmFtZT09PSJ0aXRsZSImJihiLmRvY3VtZW50LnRpdGxlPWYudGl0bGUpfWNhdGNoKGEpe319KX0sYy5zdG9wPWksbT1mdW5jdGlvbigpe3JldHVybiBrKGIubG9jYXRpb24uaHJlZil9LGw9ZnVuY3Rpb24oYyxkKXt2YXIgZz1iLmRvY3VtZW50LGg9YS5mbltlXS5kb21haW47YyE9PWQmJihnLnRpdGxlPWYudGl0bGUsZy5vcGVuKCksaCYmZy53cml0ZSgnPHNjcmlwdD5kb2N1bWVudC5kb21haW49IicraCsnIjwvc2NyaXB0PicpLGcuY2xvc2UoKSxiLmxvY2F0aW9uLmhhc2g9Yyl9fSgpLGN9KCl9KGEsdGhpcyksZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGQpe3JldHVybiBkPT09YyYmKGQ9ITApLGZ1bmN0aW9uKGMsZSxmLGcpe3ZhciBoPW5ldyBhLkRlZmVycmVkLGk9ZT8iIHJldmVyc2UiOiIiLGo9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKSxrPWoubGFzdFNjcm9sbHx8YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwsbD1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSxtPWEubW9iaWxlLm1heFRyYW5zaXRpb25XaWR0aCE9PSExJiZhKGIpLndpZHRoKCk+YS5tb2JpbGUubWF4VHJhbnNpdGlvbldpZHRoLG49IWEuc3VwcG9ydC5jc3NUcmFuc2l0aW9uc3x8bXx8IWN8fGM9PT0ibm9uZSJ8fE1hdGgubWF4KGEoYikuc2Nyb2xsVG9wKCksayk+YS5tb2JpbGUuZ2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbigpLG89IiB1aS1wYWdlLXByZS1pbiIscD1mdW5jdGlvbigpe2EubW9iaWxlLnBhZ2VDb250YWluZXIudG9nZ2xlQ2xhc3MoInVpLW1vYmlsZS12aWV3cG9ydC10cmFuc2l0aW9uaW5nIHZpZXdwb3J0LSIrYyl9LHE9ZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMSxiLnNjcm9sbFRvKDAsayksc2V0VGltZW91dChmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSEwfSwxNTApfSxyPWZ1bmN0aW9uKCl7Zy5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrIiBvdXQgaW4gcmV2ZXJzZSAiK2MpLmhlaWdodCgiIil9LHM9ZnVuY3Rpb24oKXtkP2cuYW5pbWF0aW9uQ29tcGxldGUodCk6dCgpLGcuaGVpZ2h0KGwrYShiKS5zY3JvbGxUb3AoKSkuYWRkQ2xhc3MoYysiIG91dCIraSl9LHQ9ZnVuY3Rpb24oKXtnJiZkJiZyKCksdSgpfSx1PWZ1bmN0aW9uKCl7Zi5jc3MoInotaW5kZXgiLC0xMCksZi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrbyksYS5tb2JpbGUuZm9jdXNQYWdlKGYpLGYuaGVpZ2h0KGwraykscSgpLGYuY3NzKCJ6LWluZGV4IiwiIiksbnx8Zi5hbmltYXRpb25Db21wbGV0ZSh2KSxmLnJlbW92ZUNsYXNzKG8pLmFkZENsYXNzKGMrIiBpbiIraSksbiYmdigpfSx2PWZ1bmN0aW9uKCl7ZHx8ZyYmcigpLGYucmVtb3ZlQ2xhc3MoIm91dCBpbiByZXZlcnNlICIrYykuaGVpZ2h0KCIiKSxwKCksYShiKS5zY3JvbGxUb3AoKSE9PWsmJnEoKSxoLnJlc29sdmUoYyxlLGYsZywhMCl9O3JldHVybiBwKCksZyYmIW4/cygpOnQoKSxoLnByb21pc2UoKX19LGU9ZCgpLGY9ZCghMSksZz1mdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSozfTthLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXI9ZSxhLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnM9eyJkZWZhdWx0IjphLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIsc2VxdWVudGlhbDplLHNpbXVsdGFuZW91czpmfSxhLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzPXt9LGEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uPWZ1bmN0aW9uKGIpe3JldHVybiBiJiYhYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZhLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW2JdJiYoYj1hLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW2JdKSxifSxhLm1vYmlsZS5nZXRNYXhTY3JvbGxGb3JUcmFuc2l0aW9uPWEubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb258fGd9KGEsdGhpcyksZnVuY3Rpb24oYSxkKXtmdW5jdGlvbiB1KGIpeyEhaSYmKCFpLmNsb3Nlc3QoIi4iK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcykubGVuZ3RofHxiKSYmaS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksaT1udWxsfWZ1bmN0aW9uIHYoKXttPSExLGwubGVuZ3RoPjAmJmEubW9iaWxlLmNoYW5nZVBhZ2UuYXBwbHkobnVsbCxsLnBvcCgpKX1mdW5jdGlvbiB6KGIsYyxkLGUpe2MmJmMuZGF0YSgicGFnZSIpLl90cmlnZ2VyKCJiZWZvcmVoaWRlIixudWxsLHtuZXh0UGFnZTpifSksYi5kYXRhKCJwYWdlIikuX3RyaWdnZXIoImJlZm9yZXNob3ciLG51bGwse3ByZXZQYWdlOmN8fGEoIiIpfSksYS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnKCksZD1hLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbihkKTt2YXIgZj1hLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnNbZHx8ImRlZmF1bHQiXXx8YS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyLGc9ZihkLGUsYixjKTtyZXR1cm4gZy5kb25lKGZ1bmN0aW9uKCl7YyYmYy5kYXRhKCJwYWdlIikuX3RyaWdnZXIoImhpZGUiLG51bGwse25leHRQYWdlOmJ9KSxiLmRhdGEoInBhZ2UiKS5fdHJpZ2dlcigic2hvdyIsbnVsbCx7cHJldlBhZ2U6Y3x8YSgiIil9KX0pLGd9ZnVuY3Rpb24gQSgpe3ZhciBiPWEoIi4iK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyksYz1wYXJzZUZsb2F0KGIuY3NzKCJwYWRkaW5nLXRvcCIpKSxkPXBhcnNlRmxvYXQoYi5jc3MoInBhZGRpbmctYm90dG9tIikpLGU9cGFyc2VGbG9hdChiLmNzcygiYm9yZGVyLXRvcC13aWR0aCIpKSxmPXBhcnNlRmxvYXQoYi5jc3MoImJvcmRlci1ib3R0b20td2lkdGgiKSk7Yi5jc3MoIm1pbi1oZWlnaHQiLHMoKS1jLWQtZS1mKX1mdW5jdGlvbiBCKGIsYyl7YyYmYi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInJvbGUiLGMpLGIucGFnZSgpfWZ1bmN0aW9uIEMoYSl7d2hpbGUoYSl7aWYodHlwZW9mIGEubm9kZU5hbWU9PSJzdHJpbmciJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0iYSIpYnJlYWs7YT1hLnBhcmVudE5vZGV9cmV0dXJuIGF9ZnVuY3Rpb24gRChiKXt2YXIgYz1hKGIpLmNsb3Nlc3QoIi51aS1wYWdlIikuanFtRGF0YSgidXJsIiksZD1xLmhyZWZOb0hhc2g7aWYoIWN8fCFoLmlzUGF0aChjKSljPWQ7cmV0dXJuIGgubWFrZVVybEFic29sdXRlKGMsZCl9dmFyIGU9YShiKSxmPWEoImh0bWwiKSxnPWEoImhlYWQiKSxoPXt1cmxQYXJzZVJFOi9eKCgoKFteOlwvI1w/XSs6KT8oPzooXC9cLykoKD86KChbXjpAXC8jXD9dKykoPzpcOihbXjpAXC8jXD9dKykpPylAKT8oKFteOlwvI1w/XF1cW10rfFxbW15cL1xdQCM/XStcXSkoPzpcOihbMC05XSspKT8pKT8pPyk/KChcLz8oPzpbXlwvXD8jXStcLyspKikoW15cPyNdKikpKT8oXD9bXiNdKyk/KSgjLiopPy8sZ2V0TG9jYXRpb246ZnVuY3Rpb24oYSl7dmFyIGI9YT90aGlzLnBhcnNlVXJsKGEpOmxvY2F0aW9uLGM9dGhpcy5wYXJzZVVybChhfHxsb2NhdGlvbi5ocmVmKS5oYXNoO3JldHVybiBjPWM9PT0iIyI/IiI6YyxiLnByb3RvY29sKyIvLyIrYi5ob3N0K2IucGF0aG5hbWUrYi5zZWFyY2grY30scGFyc2VMb2NhdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcnNlVXJsKHRoaXMuZ2V0TG9jYXRpb24oKSl9LHBhcnNlVXJsOmZ1bmN0aW9uKGIpe2lmKGEudHlwZShiKT09PSJvYmplY3QiKXJldHVybiBiO3ZhciBjPWgudXJsUGFyc2VSRS5leGVjKGJ8fCIiKXx8W107cmV0dXJue2hyZWY6Y1swXXx8IiIsaHJlZk5vSGFzaDpjWzFdfHwiIixocmVmTm9TZWFyY2g6Y1syXXx8IiIsZG9tYWluOmNbM118fCIiLHByb3RvY29sOmNbNF18fCIiLGRvdWJsZVNsYXNoOmNbNV18fCIiLGF1dGhvcml0eTpjWzZdfHwiIix1c2VybmFtZTpjWzhdfHwiIixwYXNzd29yZDpjWzldfHwiIixob3N0OmNbMTBdfHwiIixob3N0bmFtZTpjWzExXXx8IiIscG9ydDpjWzEyXXx8IiIscGF0aG5hbWU6Y1sxM118fCIiLGRpcmVjdG9yeTpjWzE0XXx8IiIsZmlsZW5hbWU6Y1sxNV18fCIiLHNlYXJjaDpjWzE2XXx8IiIsaGFzaDpjWzE3XXx8IiJ9fSxtYWtlUGF0aEFic29sdXRlOmZ1bmN0aW9uKGEsYil7aWYoYSYmYS5jaGFyQXQoMCk9PT0iLyIpcmV0dXJuIGE7YT1hfHwiIixiPWI/Yi5yZXBsYWNlKC9eXC98KFwvW15cL10qfFteXC9dKykkL2csIiIpOiIiO3ZhciBjPWI/Yi5zcGxpdCgiLyIpOltdLGQ9YS5zcGxpdCgiLyIpO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdO3N3aXRjaChmKXtjYXNlIi4iOmJyZWFrO2Nhc2UiLi4iOmMubGVuZ3RoJiZjLnBvcCgpO2JyZWFrO2RlZmF1bHQ6Yy5wdXNoKGYpfX1yZXR1cm4iLyIrYy5qb2luKCIvIil9LGlzU2FtZURvbWFpbjpmdW5jdGlvbihhLGIpe3JldHVybiBoLnBhcnNlVXJsKGEpLmRvbWFpbj09PWgucGFyc2VVcmwoYikuZG9tYWlufSxpc1JlbGF0aXZlVXJsOmZ1bmN0aW9uKGEpe3JldHVybiBoLnBhcnNlVXJsKGEpLnByb3RvY29sPT09IiJ9LGlzQWJzb2x1dGVVcmw6ZnVuY3Rpb24oYSl7cmV0dXJuIGgucGFyc2VVcmwoYSkucHJvdG9jb2whPT0iIn0sbWFrZVVybEFic29sdXRlOmZ1bmN0aW9uKGEsYil7aWYoIWguaXNSZWxhdGl2ZVVybChhKSlyZXR1cm4gYTtiPT09ZCYmKGI9cSk7dmFyIGM9aC5wYXJzZVVybChhKSxlPWgucGFyc2VVcmwoYiksZj1jLnByb3RvY29sfHxlLnByb3RvY29sLGc9Yy5wcm90b2NvbD9jLmRvdWJsZVNsYXNoOmMuZG91YmxlU2xhc2h8fGUuZG91YmxlU2xhc2gsaT1jLmF1dGhvcml0eXx8ZS5hdXRob3JpdHksaj1jLnBhdGhuYW1lIT09IiIsaz1oLm1ha2VQYXRoQWJzb2x1dGUoYy5wYXRobmFtZXx8ZS5maWxlbmFtZSxlLnBhdGhuYW1lKSxsPWMuc2VhcmNofHwhaiYmZS5zZWFyY2h8fCIiLG09Yy5oYXNoO3JldHVybiBmK2craStrK2wrbX0sYWRkU2VhcmNoUGFyYW1zOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9aC5wYXJzZVVybChiKSxlPXR5cGVvZiBjPT0ib2JqZWN0Ij9hLnBhcmFtKGMpOmMsZj1kLnNlYXJjaHx8Ij8iO3JldHVybiBkLmhyZWZOb1NlYXJjaCtmKyhmLmNoYXJBdChmLmxlbmd0aC0xKSE9PSI/Ij8iJiI6IiIpK2UrKGQuaGFzaHx8IiIpfSxjb252ZXJ0VXJsVG9EYXRhVXJsOmZ1bmN0aW9uKGEpe3ZhciBjPWgucGFyc2VVcmwoYSk7cmV0dXJuIGguaXNFbWJlZGRlZFBhZ2UoYyk/Yy5oYXNoLnNwbGl0KG4pWzBdLnJlcGxhY2UoL14jLywiIik6aC5pc1NhbWVEb21haW4oYyxxKT9jLmhyZWZOb0hhc2gucmVwbGFjZShxLmRvbWFpbiwiIikuc3BsaXQobilbMF06Yi5kZWNvZGVVUklDb21wb25lbnQoYSl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PWQmJihhPWgucGFyc2VMb2NhdGlvbigpLmhhc2gpLGguc3RyaXBIYXNoKGEpLnJlcGxhY2UoL1teXC9dKlwuW15cLypdKyQvLCIiKX0sZ2V0RmlsZVBhdGg6ZnVuY3Rpb24oYil7dmFyIGM9IiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXk7cmV0dXJuIGImJmIuc3BsaXQoYylbMF0uc3BsaXQobilbMF19LHNldDpmdW5jdGlvbihhKXtsb2NhdGlvbi5oYXNoPWF9LGlzUGF0aDpmdW5jdGlvbihhKXtyZXR1cm4vXC8vLnRlc3QoYSl9LGNsZWFuOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UocS5kb21haW4sIiIpfSxzdHJpcEhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXiMvLCIiKX0sY2xlYW5IYXNoOmZ1bmN0aW9uKGEpe3JldHVybiBoLnN0cmlwSGFzaChhLnJlcGxhY2UoL1w/LiokLywiIikucmVwbGFjZShuLCIiKSl9LGlzSGFzaFZhbGlkOmZ1bmN0aW9uKGEpe3JldHVybi9eI1teI10rJC8udGVzdChhKX0saXNFeHRlcm5hbDpmdW5jdGlvbihhKXt2YXIgYj1oLnBhcnNlVXJsKGEpO3JldHVybiBiLnByb3RvY29sJiZiLmRvbWFpbiE9PXAuZG9tYWluPyEwOiExfSxoYXNQcm90b2NvbDpmdW5jdGlvbihhKXtyZXR1cm4vXig6P1x3KzopLy50ZXN0KGEpfSxpc0ZpcnN0UGFnZVVybDpmdW5jdGlvbihiKXt2YXIgYz1oLnBhcnNlVXJsKGgubWFrZVVybEFic29sdXRlKGIscSkpLGU9Yy5ocmVmTm9IYXNoPT09cC5ocmVmTm9IYXNofHxyJiZjLmhyZWZOb0hhc2g9PT1xLmhyZWZOb0hhc2gsZj1hLm1vYmlsZS5maXJzdFBhZ2UsZz1mJiZmWzBdP2ZbMF0uaWQ6ZDtyZXR1cm4gZSYmKCFjLmhhc2h8fGMuaGFzaD09PSIjInx8ZyYmYy5oYXNoLnJlcGxhY2UoL14jLywiIik9PT1nKX0saXNFbWJlZGRlZFBhZ2U6ZnVuY3Rpb24oYSl7dmFyIGI9aC5wYXJzZVVybChhKTtyZXR1cm4gYi5wcm90b2NvbCE9PSIiP2IuaGFzaCYmKGIuaHJlZk5vSGFzaD09PXAuaHJlZk5vSGFzaHx8ciYmYi5ocmVmTm9IYXNoPT09cS5ocmVmTm9IYXNoKTovXiMvLnRlc3QoYi5ocmVmKX0saXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3Q6ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzJiZiLnByb3RvY29sPT09ImZpbGU6IiYmYy5zZWFyY2goL15odHRwcz86LykhPT0tMX19LGk9bnVsbCxqPXtzdGFjazpbXSxhY3RpdmVJbmRleDowLGdldEFjdGl2ZTpmdW5jdGlvbigpe3JldHVybiBqLnN0YWNrW2ouYWN0aXZlSW5kZXhdfSxnZXRQcmV2OmZ1bmN0aW9uKCl7cmV0dXJuIGouc3RhY2tbai5hY3RpdmVJbmRleC0xXX0sZ2V0TmV4dDpmdW5jdGlvbigpe3JldHVybiBqLnN0YWNrW2ouYWN0aXZlSW5kZXgrMV19LGFkZE5ldzpmdW5jdGlvbihhLGIsYyxkLGUpe2ouZ2V0TmV4dCgpJiZqLmNsZWFyRm9yd2FyZCgpLGouc3RhY2sucHVzaCh7dXJsOmEsdHJhbnNpdGlvbjpiLHRpdGxlOmMscGFnZVVybDpkLHJvbGU6ZX0pLGouYWN0aXZlSW5kZXg9ai5zdGFjay5sZW5ndGgtMX0sY2xlYXJGb3J3YXJkOmZ1bmN0aW9uKCl7ai5zdGFjaz1qLnN0YWNrLnNsaWNlKDAsai5hY3RpdmVJbmRleCsxKX0sZGlyZWN0SGFzaENoYW5nZTpmdW5jdGlvbihiKXt2YXIgYyxlLGYsZz10aGlzLmdldEFjdGl2ZSgpO2EuZWFjaChqLnN0YWNrLGZ1bmN0aW9uKGEsZCl7ZGVjb2RlVVJJQ29tcG9uZW50KGIuY3VycmVudFVybCk9PT1kZWNvZGVVUklDb21wb25lbnQoZC51cmwpJiYoYz1hPGouYWN0aXZlSW5kZXgsZT0hYyxmPWEpfSksdGhpcy5hY3RpdmVJbmRleD1mIT09ZD9mOnRoaXMuYWN0aXZlSW5kZXgsYz8oYi5laXRoZXJ8fGIuaXNCYWNrKSghMCk6ZSYmKGIuZWl0aGVyfHxiLmlzRm9yd2FyZCkoITEpfSxpZ25vcmVOZXh0SGFzaENoYW5nZTohMX0saz0iW3RhYmluZGV4XSxhLGJ1dHRvbjp2aXNpYmxlLHNlbGVjdDp2aXNpYmxlLGlucHV0IixsPVtdLG09ITEsbj0iJnVpLXN0YXRlPWRpYWxvZyIsbz1nLmNoaWxkcmVuKCJiYXNlIikscD1oLnBhcnNlTG9jYXRpb24oKSxxPW8ubGVuZ3RoP2gucGFyc2VVcmwoaC5tYWtlVXJsQWJzb2x1dGUoby5hdHRyKCJocmVmIikscC5ocmVmKSk6cCxyPXAuaHJlZk5vSGFzaCE9PXEuaHJlZk5vSGFzaCxzPWEubW9iaWxlLmdldFNjcmVlbkhlaWdodCx0PWEuc3VwcG9ydC5keW5hbWljQmFzZVRhZz97ZWxlbWVudDpvLmxlbmd0aD9vOmEoIjxiYXNlPiIse2hyZWY6cS5ocmVmTm9IYXNofSkucHJlcGVuZFRvKGcpLHNldDpmdW5jdGlvbihhKXt0LmVsZW1lbnQuYXR0cigiaHJlZiIsaC5tYWtlVXJsQWJzb2x1dGUoYSxxKSl9LHJlc2V0OmZ1bmN0aW9uKCl7dC5lbGVtZW50LmF0dHIoImhyZWYiLHEuaHJlZk5vSGFzaCl9fTpkO2EubW9iaWxlLmJhY2s9ZnVuY3Rpb24oKXt2YXIgYT1iLm5hdmlnYXRvcjt0aGlzLnBob25lZ2FwTmF2aWdhdGlvbkVuYWJsZWQmJmEmJmEuYXBwJiZhLmFwcC5iYWNrSGlzdG9yeT9hLmFwcC5iYWNrSGlzdG9yeSgpOmIuaGlzdG9yeS5iYWNrKCl9LGEubW9iaWxlLmZvY3VzUGFnZT1mdW5jdGlvbihhKXt2YXIgYj1hLmZpbmQoIlthdXRvZm9jdXNdIiksYz1hLmZpbmQoIi51aS10aXRsZTplcSgwKSIpO2lmKGIubGVuZ3RoKXtiLmZvY3VzKCk7cmV0dXJufWMubGVuZ3RoP2MuZm9jdXMoKTphLmZvY3VzKCl9O3ZhciB3PSEwLHgseTt4PWZ1bmN0aW9uKCl7aWYoIXcpcmV0dXJuO3ZhciBiPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCk7aWYoYil7dmFyIGM9ZS5zY3JvbGxUb3AoKTtiLmxhc3RTY3JvbGw9YzxhLm1vYmlsZS5taW5TY3JvbGxCYWNrP2EubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsOmN9fSx5PWZ1bmN0aW9uKCl7c2V0VGltZW91dCh4LDEwMCl9LGUuYmluZChhLnN1cHBvcnQucHVzaFN0YXRlPyJwb3BzdGF0ZSI6Imhhc2hjaGFuZ2UiLGZ1bmN0aW9uKCl7dz0hMX0pLGUub25lKGEuc3VwcG9ydC5wdXNoU3RhdGU/InBvcHN0YXRlIjoiaGFzaGNoYW5nZSIsZnVuY3Rpb24oKXt3PSEwfSksZS5vbmUoInBhZ2Vjb250YWluZXJjcmVhdGUiLGZ1bmN0aW9uKCl7YS5tb2JpbGUucGFnZUNvbnRhaW5lci5iaW5kKCJwYWdlY2hhbmdlIixmdW5jdGlvbigpe3c9ITAsZS51bmJpbmQoInNjcm9sbHN0b3AiLHkpLGUuYmluZCgic2Nyb2xsc3RvcCIseSl9KX0pLGUuYmluZCgic2Nyb2xsc3RvcCIseSksYS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb249YS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb258fGZ1bmN0aW9uKGEpe3JldHVybiBhfSxhLmZuLmFuaW1hdGlvbkNvbXBsZXRlPWZ1bmN0aW9uKGIpe3JldHVybiBhLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnM/YSh0aGlzKS5vbmUoIndlYmtpdEFuaW1hdGlvbkVuZCBhbmltYXRpb25lbmQiLGIpOihzZXRUaW1lb3V0KGIsMCksYSh0aGlzKSl9LGEubW9iaWxlLnBhdGg9aCxhLm1vYmlsZS5iYXNlPXQsYS5tb2JpbGUudXJsSGlzdG9yeT1qLGEubW9iaWxlLmRpYWxvZ0hhc2hLZXk9bixhLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXM9ITEsYS5tb2JpbGUuZ2V0RG9jdW1lbnRVcmw9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30scCk6cC5ocmVmfSxhLm1vYmlsZS5nZXREb2N1bWVudEJhc2U9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30scSk6cS5ocmVmfSxhLm1vYmlsZS5fYmluZFBhZ2VSZW1vdmU9ZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpOyFiLmRhdGEoInBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlJiZiLmlzKCI6anFtRGF0YShleHRlcm5hbC1wYWdlPSd0cnVlJykiKSYmYi5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiLGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxjPW5ldyBhLkV2ZW50KCJwYWdlcmVtb3ZlIik7Yi50cmlnZ2VyKGMpLGMuaXNEZWZhdWx0UHJldmVudGVkKCl8fGIucmVtb3ZlV2l0aERlcGVuZGVudHMoKX0pfSxhLm1vYmlsZS5sb2FkUGFnZT1mdW5jdGlvbihiLGMpe3ZhciBlPWEuRGVmZXJyZWQoKSxmPWEuZXh0ZW5kKHt9LGEubW9iaWxlLmxvYWRQYWdlLmRlZmF1bHRzLGMpLGc9bnVsbCxpPW51bGwsaj1mdW5jdGlvbigpe3ZhciBiPWEubW9iaWxlLmFjdGl2ZVBhZ2UmJkQoYS5tb2JpbGUuYWN0aXZlUGFnZSk7cmV0dXJuIGJ8fHEuaHJlZk5vSGFzaH0saz1oLm1ha2VVcmxBYnNvbHV0ZShiLGooKSk7Zi5kYXRhJiZmLnR5cGU9PT0iZ2V0IiYmKGs9aC5hZGRTZWFyY2hQYXJhbXMoayxmLmRhdGEpLGYuZGF0YT1kKSxmLmRhdGEmJmYudHlwZT09PSJwb3N0IiYmKGYucmVsb2FkUGFnZT0hMCk7dmFyIGw9aC5nZXRGaWxlUGF0aChrKSxtPWguY29udmVydFVybFRvRGF0YVVybChrKTtmLnBhZ2VDb250YWluZXI9Zi5wYWdlQ29udGFpbmVyfHxhLm1vYmlsZS5wYWdlQ29udGFpbmVyLGc9Zi5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCJbZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmw9JyIrbSsiJ10iKSxnLmxlbmd0aD09PTAmJm0mJiFoLmlzUGF0aChtKSYmKGc9Zi5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCIjIittKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIsbSkuanFtRGF0YSgidXJsIixtKSk7aWYoZy5sZW5ndGg9PT0wKWlmKGEubW9iaWxlLmZpcnN0UGFnZSYmaC5pc0ZpcnN0UGFnZVVybChsKSlhLm1vYmlsZS5maXJzdFBhZ2UucGFyZW50KCkubGVuZ3RoJiYoZz1hKGEubW9iaWxlLmZpcnN0UGFnZSkpO2Vsc2UgaWYoaC5pc0VtYmVkZGVkUGFnZShsKSlyZXR1cm4gZS5yZWplY3QoayxjKSxlLnByb21pc2UoKTtpZihnLmxlbmd0aCl7aWYoIWYucmVsb2FkUGFnZSlyZXR1cm4gQihnLGYucm9sZSksZS5yZXNvbHZlKGssYyxnKSxlLnByb21pc2UoKTtpPWd9dmFyIG49Zi5wYWdlQ29udGFpbmVyLG89bmV3IGEuRXZlbnQoInBhZ2ViZWZvcmVsb2FkIikscj17dXJsOmIsYWJzVXJsOmssZGF0YVVybDptLGRlZmVycmVkOmUsb3B0aW9uczpmfTtuLnRyaWdnZXIobyxyKTtpZihvLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybiBlLnByb21pc2UoKTtpZihmLnNob3dMb2FkTXNnKXZhciBzPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coKX0sZi5sb2FkTXNnRGVsYXkpLHU9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQocyksYS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnKCl9O3JldHVybiB0JiZ0LnJlc2V0KCksIWEubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmIWguaXNTYW1lRG9tYWluKHAsayk/ZS5yZWplY3QoayxjKTphLmFqYXgoe3VybDpsLHR5cGU6Zi50eXBlLGRhdGE6Zi5kYXRhLGRhdGFUeXBlOiJodG1sIixzdWNjZXNzOmZ1bmN0aW9uKGQsaixuKXt2YXIgbz1hKCI8ZGl2PjwvZGl2PiIpLHA9ZC5tYXRjaCgvPHRpdGxlW14+XSo+KFtePF0qKS8pJiZSZWdFeHAuJDEscT1uZXcgUmVnRXhwKCIoPFtePl0rXFxiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPVtcIiddP3BhZ2VbXCInXT9bXj5dKj4pIikscz1uZXcgUmVnRXhwKCJcXGJkYXRhLSIrYS5tb2JpbGUubnMrInVybD1bXCInXT8oW15cIic+XSopW1wiJ10/Iik7cS50ZXN0KGQpJiZSZWdFeHAuJDEmJnMudGVzdChSZWdFeHAuJDEpJiZSZWdFeHAuJDEmJihiPWw9aC5nZXRGaWxlUGF0aChhKCI8ZGl2PiIrUmVnRXhwLiQxKyI8L2Rpdj4iKS50ZXh0KCkpKSx0JiZ0LnNldChsKSxvLmdldCgwKS5pbm5lckhUTUw9ZCxnPW8uZmluZCgiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpcnN0KCksZy5sZW5ndGh8fChnPWEoIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdwYWdlJz4iK2Quc3BsaXQoLzxcLz9ib2R5W14+XSo+L2dtaSlbMV0rIjwvZGl2PiIpKSxwJiYhZy5qcW1EYXRhKCJ0aXRsZSIpJiYofnAuaW5kZXhPZigiJiIpJiYocD1hKCI8ZGl2PiIrcCsiPC9kaXY+IikudGV4dCgpKSxnLmpxbURhdGEoInRpdGxlIixwKSk7aWYoIWEuc3VwcG9ydC5keW5hbWljQmFzZVRhZyl7dmFyIHY9aC5nZXQobCk7Zy5maW5kKCJbc3JjXSwgbGlua1tocmVmXSwgYVtyZWw9J2V4dGVybmFsJ10sIDpqcW1EYXRhKGFqYXg9J2ZhbHNlJyksIGFbdGFyZ2V0XSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLmlzKCJbaHJlZl0iKT8iaHJlZiI6YSh0aGlzKS5pcygiW3NyY10iKT8ic3JjIjoiYWN0aW9uIixjPWEodGhpcykuYXR0cihiKTtjPWMucmVwbGFjZShsb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUsIiIpLC9eKFx3Kzp8I3xcLykvLnRlc3QoYyl8fGEodGhpcykuYXR0cihiLHYrYyl9KX1nLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidXJsIixoLmNvbnZlcnRVcmxUb0RhdGFVcmwobCkpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiZXh0ZXJuYWwtcGFnZSIsITApLmFwcGVuZFRvKGYucGFnZUNvbnRhaW5lciksZy5vbmUoInBhZ2VjcmVhdGUiLGEubW9iaWxlLl9iaW5kUGFnZVJlbW92ZSksQihnLGYucm9sZSksay5pbmRleE9mKCImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KT4tMSYmKGc9Zi5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCJbZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmw9JyIrbSsiJ10iKSksZi5zaG93TG9hZE1zZyYmdSgpLHIueGhyPW4sci50ZXh0U3RhdHVzPWosci5wYWdlPWcsZi5wYWdlQ29udGFpbmVyLnRyaWdnZXIoInBhZ2Vsb2FkIixyKSxlLnJlc29sdmUoayxjLGcsaSl9LGVycm9yOmZ1bmN0aW9uKGIsZCxnKXt0JiZ0LnNldChoLmdldCgpKSxyLnhocj1iLHIudGV4dFN0YXR1cz1kLHIuZXJyb3JUaHJvd249Zzt2YXIgaT1uZXcgYS5FdmVudCgicGFnZWxvYWRmYWlsZWQiKTtmLnBhZ2VDb250YWluZXIudHJpZ2dlcihpLHIpO2lmKGkuaXNEZWZhdWx0UHJldmVudGVkKCkpcmV0dXJuO2Yuc2hvd0xvYWRNc2cmJih1KCksYS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKGEubW9iaWxlLnBhZ2VMb2FkRXJyb3JNZXNzYWdlVGhlbWUsYS5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2UsITApLHNldFRpbWVvdXQoYS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnLDE1MDApKSxlLnJlamVjdChrLGMpfX0pLGUucHJvbWlzZSgpfSxhLm1vYmlsZS5sb2FkUGFnZS5kZWZhdWx0cz17dHlwZToiZ2V0IixkYXRhOmQscmVsb2FkUGFnZTohMSxyb2xlOmQsc2hvd0xvYWRNc2c6ITEscGFnZUNvbnRhaW5lcjpkLGxvYWRNc2dEZWxheTo1MH0sYS5tb2JpbGUuY2hhbmdlUGFnZT1mdW5jdGlvbihiLGUpe2lmKG0pe2wudW5zaGlmdChhcmd1bWVudHMpO3JldHVybn12YXIgZj1hLmV4dGVuZCh7fSxhLm1vYmlsZS5jaGFuZ2VQYWdlLmRlZmF1bHRzLGUpO2YucGFnZUNvbnRhaW5lcj1mLnBhZ2VDb250YWluZXJ8fGEubW9iaWxlLnBhZ2VDb250YWluZXIsZi5mcm9tUGFnZT1mLmZyb21QYWdlfHxhLm1vYmlsZS5hY3RpdmVQYWdlO3ZhciBnPWYucGFnZUNvbnRhaW5lcixpPW5ldyBhLkV2ZW50KCJwYWdlYmVmb3JlY2hhbmdlIiksaz17dG9QYWdlOmIsb3B0aW9uczpmfTtnLnRyaWdnZXIoaSxrKTtpZihpLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybjtiPWsudG9QYWdlLG09ITA7aWYodHlwZW9mIGI9PSJzdHJpbmciKXthLm1vYmlsZS5sb2FkUGFnZShiLGYpLmRvbmUoZnVuY3Rpb24oYixjLGQsZSl7bT0hMSxjLmR1cGxpY2F0ZUNhY2hlZFBhZ2U9ZSxhLm1vYmlsZS5jaGFuZ2VQYWdlKGQsYyl9KS5mYWlsKGZ1bmN0aW9uKGEsYil7bT0hMSx1KCEwKSx2KCksZi5wYWdlQ29udGFpbmVyLnRyaWdnZXIoInBhZ2VjaGFuZ2VmYWlsZWQiLGspfSk7cmV0dXJufWJbMF09PT1hLm1vYmlsZS5maXJzdFBhZ2VbMF0mJiFmLmRhdGFVcmwmJihmLmRhdGFVcmw9cC5ocmVmTm9IYXNoKTt2YXIgbz1mLmZyb21QYWdlLHE9Zi5kYXRhVXJsJiZoLmNvbnZlcnRVcmxUb0RhdGFVcmwoZi5kYXRhVXJsKXx8Yi5qcW1EYXRhKCJ1cmwiKSxyPXEscz1oLmdldEZpbGVQYXRoKHEpLHQ9ai5nZXRBY3RpdmUoKSx3PWouYWN0aXZlSW5kZXg9PT0wLHg9MCx5PWMudGl0bGUsQT1mLnJvbGU9PT0iZGlhbG9nInx8Yi5qcW1EYXRhKCJyb2xlIik9PT0iZGlhbG9nIjtpZihvJiZvWzBdPT09YlswXSYmIWYuYWxsb3dTYW1lUGFnZVRyYW5zaXRpb24pe209ITEsZy50cmlnZ2VyKCJwYWdlY2hhbmdlIixrKSxmLmZyb21IYXNoQ2hhbmdlJiZqLmRpcmVjdEhhc2hDaGFuZ2Uoe2N1cnJlbnRVcmw6cSxpc0JhY2s6ZnVuY3Rpb24oKXt9LGlzRm9yd2FyZDpmdW5jdGlvbigpe319KTtyZXR1cm59QihiLGYucm9sZSksZi5mcm9tSGFzaENoYW5nZSYmai5kaXJlY3RIYXNoQ2hhbmdlKHtjdXJyZW50VXJsOnEsaXNCYWNrOmZ1bmN0aW9uKCl7eD0tMX0saXNGb3J3YXJkOmZ1bmN0aW9uKCl7eD0xfX0pO3RyeXtjLmFjdGl2ZUVsZW1lbnQmJmMuYWN0aXZlRWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09ImJvZHkiP2EoYy5hY3RpdmVFbGVtZW50KS5ibHVyKCk6YSgiaW5wdXQ6Zm9jdXMsIHRleHRhcmVhOmZvY3VzLCBzZWxlY3Q6Zm9jdXMiKS5ibHVyKCl9Y2F0Y2goQyl7fXZhciBEPSExO0EmJnQmJih0LnVybC5pbmRleE9mKG4pPi0xJiYhYS5tb2JpbGUuYWN0aXZlUGFnZS5pcygiLnVpLWRpYWxvZyIpJiYoZi5jaGFuZ2VIYXNoPSExLEQ9ITApLHE9KHQudXJsfHwiIikrKEQ/IiI6biksai5hY3RpdmVJbmRleD09PTAmJnE9PT1qLmluaXRpYWxEc3QmJihxKz1uKSksZi5jaGFuZ2VIYXNoIT09ITEmJnEmJihqLmlnbm9yZU5leHRIYXNoQ2hhbmdlPSEwLGguc2V0KHEpKTt2YXIgRT10P2IuanFtRGF0YSgidGl0bGUiKXx8Yi5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKS5maW5kKCIudWktdGl0bGUiKS5nZXRFbmNvZGVkVGV4dCgpOnk7ISFFJiZ5PT09Yy50aXRsZSYmKHk9RSksYi5qcW1EYXRhKCJ0aXRsZSIpfHxiLmpxbURhdGEoInRpdGxlIix5KSxmLnRyYW5zaXRpb249Zi50cmFuc2l0aW9ufHwoeCYmIXc/dC50cmFuc2l0aW9uOmQpfHwoQT9hLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbjphLm1vYmlsZS5kZWZhdWx0UGFnZVRyYW5zaXRpb24pLHh8fChEJiYoai5hY3RpdmVJbmRleD1NYXRoLm1heCgwLGouYWN0aXZlSW5kZXgtMSkpLGouYWRkTmV3KHEsZi50cmFuc2l0aW9uLHkscixmLnJvbGUpKSxjLnRpdGxlPWouZ2V0QWN0aXZlKCkudGl0bGUsYS5tb2JpbGUuYWN0aXZlUGFnZT1iLGYucmV2ZXJzZT1mLnJldmVyc2V8fHg8MCx6KGIsbyxmLnRyYW5zaXRpb24sZi5yZXZlcnNlKS5kb25lKGZ1bmN0aW9uKGMsZCxlLGgsaSl7dSgpLGYuZHVwbGljYXRlQ2FjaGVkUGFnZSYmZi5kdXBsaWNhdGVDYWNoZWRQYWdlLnJlbW92ZSgpLGl8fGEubW9iaWxlLmZvY3VzUGFnZShiKSx2KCksZy50cmlnZ2VyKCJwYWdlY2hhbmdlIixrKX0pfSxhLm1vYmlsZS5jaGFuZ2VQYWdlLmRlZmF1bHRzPXt0cmFuc2l0aW9uOmQscmV2ZXJzZTohMSxjaGFuZ2VIYXNoOiEwLGZyb21IYXNoQ2hhbmdlOiExLHJvbGU6ZCxkdXBsaWNhdGVDYWNoZWRQYWdlOmQscGFnZUNvbnRhaW5lcjpkLHNob3dMb2FkTXNnOiEwLGRhdGFVcmw6ZCxmcm9tUGFnZTpkLGFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uOiExfSxhLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkPWEuRGVmZXJyZWQoKSxhLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkLmRvbmUoZnVuY3Rpb24oKXthKGMpLmRlbGVnYXRlKCJmb3JtIiwic3VibWl0IixmdW5jdGlvbihiKXt2YXIgYz1hKHRoaXMpO2lmKCFhLm1vYmlsZS5hamF4RW5hYmxlZHx8Yy5pcygiOmpxbURhdGEoYWpheD0nZmFsc2UnKSIpfHwhYy5qcW1IaWphY2thYmxlKCkubGVuZ3RoKXJldHVybjt2YXIgZD1jLmF0dHIoIm1ldGhvZCIpLGU9Yy5hdHRyKCJ0YXJnZXQiKSxmPWMuYXR0cigiYWN0aW9uIik7Znx8KGY9RChjKSxmPT09cS5ocmVmTm9IYXNoJiYoZj1wLmhyZWZOb1NlYXJjaCkpLGY9aC5tYWtlVXJsQWJzb2x1dGUoZixEKGMpKTtpZihoLmlzRXh0ZXJuYWwoZikmJiFoLmlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0KHAsZil8fGUpcmV0dXJuO2EubW9iaWxlLmNoYW5nZVBhZ2UoZix7dHlwZTpkJiZkLmxlbmd0aCYmZC50b0xvd2VyQ2FzZSgpfHwiZ2V0IixkYXRhOmMuc2VyaWFsaXplKCksdHJhbnNpdGlvbjpjLmpxbURhdGEoInRyYW5zaXRpb24iKSxyZXZlcnNlOmMuanFtRGF0YSgiZGlyZWN0aW9uIik9PT0icmV2ZXJzZSIscmVsb2FkUGFnZTohMH0pLGIucHJldmVudERlZmF1bHQoKX0pLGEoYykuYmluZCgidmNsaWNrIixmdW5jdGlvbihiKXtpZihiLndoaWNoPjF8fCFhLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQpcmV0dXJuO3ZhciBjPUMoYi50YXJnZXQpO2lmKCFhKGMpLmpxbUhpamFja2FibGUoKS5sZW5ndGgpcmV0dXJuO2MmJmgucGFyc2VVcmwoYy5nZXRBdHRyaWJ1dGUoImhyZWYiKXx8IiMiKS5oYXNoIT09IiMiJiYodSghMCksaT1hKGMpLmNsb3Nlc3QoIi51aS1idG4iKS5ub3QoIi51aS1kaXNhYmxlZCIpLGkuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpKX0pLGEoYykuYmluZCgiY2xpY2siLGZ1bmN0aW9uKGMpe2lmKCFhLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQpcmV0dXJuO3ZhciBlPUMoYy50YXJnZXQpLGY9YShlKSxnO2lmKCFlfHxjLndoaWNoPjF8fCFmLmpxbUhpamFja2FibGUoKS5sZW5ndGgpcmV0dXJuO2c9ZnVuY3Rpb24oKXtiLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt1KCEwKX0sMjAwKX07aWYoZi5pcygiOmpxbURhdGEocmVsPSdiYWNrJykiKSlyZXR1cm4gYS5tb2JpbGUuYmFjaygpLCExO3ZhciBpPUQoZiksaj1oLm1ha2VVcmxBYnNvbHV0ZShmLmF0dHIoImhyZWYiKXx8IiMiLGkpO2lmKCFhLm1vYmlsZS5hamF4RW5hYmxlZCYmIWguaXNFbWJlZGRlZFBhZ2Uoaikpe2coKTtyZXR1cm59aWYoai5zZWFyY2goIiMiKSE9PS0xKXtqPWoucmVwbGFjZSgvW14jXSojLywiIik7aWYoIWope2MucHJldmVudERlZmF1bHQoKTtyZXR1cm59aC5pc1BhdGgoaik/aj1oLm1ha2VVcmxBYnNvbHV0ZShqLGkpOmo9aC5tYWtlVXJsQWJzb2x1dGUoIiMiK2oscC5ocmVmTm9IYXNoKX12YXIgaz1mLmlzKCJbcmVsPSdleHRlcm5hbCddIil8fGYuaXMoIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiKXx8Zi5pcygiW3RhcmdldF0iKSxsPWt8fGguaXNFeHRlcm5hbChqKSYmIWguaXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3QocCxqKTtpZihsKXtnKCk7cmV0dXJufXZhciBtPWYuanFtRGF0YSgidHJhbnNpdGlvbiIpLG49Zi5qcW1EYXRhKCJkaXJlY3Rpb24iKT09PSJyZXZlcnNlInx8Zi5qcW1EYXRhKCJiYWNrIiksbz1mLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicmVsIil8fGQ7YS5tb2JpbGUuY2hhbmdlUGFnZShqLHt0cmFuc2l0aW9uOm0scmV2ZXJzZTpuLHJvbGU6byxsaW5rOmZ9KSxjLnByZXZlbnREZWZhdWx0KCl9KSxhKGMpLmRlbGVnYXRlKCIudWktcGFnZSIsInBhZ2VzaG93LnByZWZldGNoIixmdW5jdGlvbigpe3ZhciBiPVtdO2EodGhpcykuZmluZCgiYTpqcW1EYXRhKHByZWZldGNoKSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGQ9Yy5hdHRyKCJocmVmIik7ZCYmYS5pbkFycmF5KGQsYik9PT0tMSYmKGIucHVzaChkKSxhLm1vYmlsZS5sb2FkUGFnZShkLHtyb2xlOmMuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyZWwiKX0pKX0pfSksYS5tb2JpbGUuX2hhbmRsZUhhc2hDaGFuZ2U9ZnVuY3Rpb24oYyl7dmFyIGU9aC5zdHJpcEhhc2goYyksZj1hLm1vYmlsZS51cmxIaXN0b3J5LnN0YWNrLmxlbmd0aD09PTA/Im5vbmUiOmQsZz1uZXcgYS5FdmVudCgibmF2aWdhdGUiKSxpPXt0cmFuc2l0aW9uOmYsY2hhbmdlSGFzaDohMSxmcm9tSGFzaENoYW5nZTohMH07MD09PWouc3RhY2subGVuZ3RoJiYoai5pbml0aWFsRHN0PWUpLGEubW9iaWxlLnBhZ2VDb250YWluZXIudHJpZ2dlcihnKTtpZihnLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybjtpZighYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWR8fGouaWdub3JlTmV4dEhhc2hDaGFuZ2Upe2ouaWdub3JlTmV4dEhhc2hDaGFuZ2U9ITE7cmV0dXJufWlmKGouc3RhY2subGVuZ3RoPjEmJmUuaW5kZXhPZihuKT4tMSYmai5pbml0aWFsRHN0IT09ZSl7aWYoIWEubW9iaWxlLmFjdGl2ZVBhZ2UuaXMoIi51aS1kaWFsb2ciKSl7ai5kaXJlY3RIYXNoQ2hhbmdlKHtjdXJyZW50VXJsOmUsaXNCYWNrOmZ1bmN0aW9uKCl7YS5tb2JpbGUuYmFjaygpfSxpc0ZvcndhcmQ6ZnVuY3Rpb24oKXtiLmhpc3RvcnkuZm9yd2FyZCgpfX0pO3JldHVybn1qLmRpcmVjdEhhc2hDaGFuZ2Uoe2N1cnJlbnRVcmw6ZSxlaXRoZXI6ZnVuY3Rpb24oYil7dmFyIGM9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKTtlPWMucGFnZVVybCxhLmV4dGVuZChpLHtyb2xlOmMucm9sZSx0cmFuc2l0aW9uOmMudHJhbnNpdGlvbixyZXZlcnNlOmJ9KX19KX1lPyhlPXR5cGVvZiBlPT0ic3RyaW5nIiYmIWguaXNQYXRoKGUpP2gubWFrZVVybEFic29sdXRlKCIjIitlLHEpOmUsZT09PWgubWFrZVVybEFic29sdXRlKCIjIitqLmluaXRpYWxEc3QscSkmJmouc3RhY2subGVuZ3RoJiZqLnN0YWNrWzBdLnVybCE9PWouaW5pdGlhbERzdC5yZXBsYWNlKG4sIiIpJiYoZT1hLm1vYmlsZS5maXJzdFBhZ2UpLGEubW9iaWxlLmNoYW5nZVBhZ2UoZSxpKSk6YS5tb2JpbGUuY2hhbmdlUGFnZShhLm1vYmlsZS5maXJzdFBhZ2UsaSl9LGUuYmluZCgiaGFzaGNoYW5nZSIsZnVuY3Rpb24oYixjKXthLm1vYmlsZS5faGFuZGxlSGFzaENoYW5nZShoLnBhcnNlTG9jYXRpb24oKS5oYXNoKX0pLGEoYykuYmluZCgicGFnZXNob3ciLEEpLGEoYikuYmluZCgidGhyb3R0bGVkcmVzaXplIixBKX0pfShhKSxmdW5jdGlvbihhLGIpe3ZhciBlPXt9LGY9ZSxnPWEoYiksaD1hLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKSxpPWEuRGVmZXJyZWQoKSxqPWEuRGVmZXJyZWQoKTthKGMpLnJlYWR5KGEucHJveHkoaiwicmVzb2x2ZSIpKSxhKGMpLm9uZSgibW9iaWxlaW5pdCIsYS5wcm94eShpLCJyZXNvbHZlIikpLGEuZXh0ZW5kKGUse2luaXRpYWxGaWxlUGF0aDpmdW5jdGlvbigpe3JldHVybiBoLnBhdGhuYW1lK2guc2VhcmNofSgpLGhhc2hDaGFuZ2VUaW1lb3V0OjIwMCxoYXNoQ2hhbmdlRW5hYmxlVGltZXI6ZCxpbml0aWFsSHJlZjpoLmhyZWZOb0hhc2gsc3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm57aGFzaDphLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKS5oYXNofHwiIyIrZi5pbml0aWFsRmlsZVBhdGgsdGl0bGU6Yy50aXRsZSxpbml0aWFsSHJlZjpmLmluaXRpYWxIcmVmfX0scmVzZXRVSUtleXM6ZnVuY3Rpb24oYil7dmFyIGM9YS5tb2JpbGUuZGlhbG9nSGFzaEtleSxkPSImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5LGU9Yi5pbmRleE9mKGMpO3JldHVybiBlPi0xP2I9Yi5zbGljZSgwLGUpKyIjIitiLnNsaWNlKGUpOmIuaW5kZXhPZihkKT4tMSYmKGI9Yi5zcGxpdChkKS5qb2luKCIjIitkKSksYn0sbmV4dEhhc2hDaGFuZ2VQcmV2ZW50ZWQ6ZnVuY3Rpb24oYil7YS5tb2JpbGUudXJsSGlzdG9yeS5pZ25vcmVOZXh0SGFzaENoYW5nZT1iLGYub25IYXNoQ2hhbmdlRGlzYWJsZWQ9Yn0sb25IYXNoQ2hhbmdlOmZ1bmN0aW9uKGIpe2lmKGYub25IYXNoQ2hhbmdlRGlzYWJsZWQpcmV0dXJuO3ZhciBkLGUsZz1hLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKS5oYXNoLGg9YS5tb2JpbGUucGF0aC5pc1BhdGgoZyksaT1oP2EubW9iaWxlLnBhdGguZ2V0TG9jYXRpb24oKTphLm1vYmlsZS5nZXREb2N1bWVudFVybCgpO2c9aD9nLnJlcGxhY2UoIiMiLCIiKTpnLGU9Zi5zdGF0ZSgpLGQ9YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoZyxpKSxoJiYoZD1mLnJlc2V0VUlLZXlzKGQpKSxoaXN0b3J5LnJlcGxhY2VTdGF0ZShlLGMudGl0bGUsZCl9LG9uUG9wU3RhdGU6ZnVuY3Rpb24oYil7dmFyIGM9Yi5vcmlnaW5hbEV2ZW50LnN0YXRlLGQsZSxnO2MmJihjbGVhclRpbWVvdXQoZi5oYXNoQ2hhbmdlRW5hYmxlVGltZXIpLGYubmV4dEhhc2hDaGFuZ2VQcmV2ZW50ZWQoITEpLGEubW9iaWxlLl9oYW5kbGVIYXNoQ2hhbmdlKGMuaGFzaCksZi5uZXh0SGFzaENoYW5nZVByZXZlbnRlZCghMCksZi5oYXNoQ2hhbmdlRW5hYmxlVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2YubmV4dEhhc2hDaGFuZ2VQcmV2ZW50ZWQoITEpfSxmLmhhc2hDaGFuZ2VUaW1lb3V0KSl9LGluaXQ6ZnVuY3Rpb24oKXtnLmJpbmQoImhhc2hjaGFuZ2UiLGYub25IYXNoQ2hhbmdlKSxnLmJpbmQoInBvcHN0YXRlIixmLm9uUG9wU3RhdGUpLGxvY2F0aW9uLmhhc2g9PT0iIiYmaGlzdG9yeS5yZXBsYWNlU3RhdGUoZi5zdGF0ZSgpLGMudGl0bGUsYS5tb2JpbGUucGF0aC5nZXRMb2NhdGlvbigpKX19KSxhLndoZW4oaixpLGEubW9iaWxlLm5hdnJlYWR5RGVmZXJyZWQpLmRvbmUoZnVuY3Rpb24oKXthLm1vYmlsZS5wdXNoU3RhdGVFbmFibGVkJiZhLnN1cHBvcnQucHVzaFN0YXRlJiZlLmluaXQoKX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLmZsaXA9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLmZsb3c9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnBvcD0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSxiLGMpe2EubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycy5zbGlkZT1hLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2ltdWx0YW5lb3VzLGEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGU9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlZG93bj0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSxiLGMpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGVmYWRlPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhLGIsYyl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZXVwPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhLGIsYyl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy50dXJuPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuZGVncmFkZUlucHV0cz17Y29sb3I6ITEsZGF0ZTohMSxkYXRldGltZTohMSwiZGF0ZXRpbWUtbG9jYWwiOiExLGVtYWlsOiExLG1vbnRoOiExLG51bWJlcjohMSxyYW5nZToibnVtYmVyIixzZWFyY2g6InRleHQiLHRlbDohMSx0aW1lOiExLHVybDohMSx3ZWVrOiExfSxhKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXt2YXIgYz1hLm1vYmlsZS5jbG9zZXN0UGFnZURhdGEoYShiLnRhcmdldCkpLGQ7aWYoIWMpcmV0dXJuO2Q9Yy5vcHRpb25zLGEoYi50YXJnZXQpLmZpbmQoImlucHV0Iikubm90KGMua2VlcE5hdGl2ZVNlbGVjdG9yKCkpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGM9dGhpcy5nZXRBdHRyaWJ1dGUoInR5cGUiKSxlPWQuZGVncmFkZUlucHV0c1tjXXx8InRleHQiO2lmKGQuZGVncmFkZUlucHV0c1tjXSl7dmFyIGY9YSgiPGRpdj4iKS5odG1sKGIuY2xvbmUoKSkuaHRtbCgpLGc9Zi5pbmRleE9mKCIgdHlwZT0iKT4tMSxoPWc/L1xzK3R5cGU9WyInXT9cdytbJyJdPy86L1wvPz4vLGk9JyB0eXBlPSInK2UrJyIgZGF0YS0nK2EubW9iaWxlLm5zKyd0eXBlPSInK2MrJyInKyhnPyIiOiI+Iik7Yi5yZXBsYWNlV2l0aChmLnJlcGxhY2UoaCxpKSl9fSl9KX0oYSksZnVuY3Rpb24oYSxiLGQpe2Eud2lkZ2V0KCJtb2JpbGUuZGlhbG9nIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2Nsb3NlQnRuVGV4dDoiQ2xvc2UiLG92ZXJsYXlUaGVtZToiYSIsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdkaWFsb2cnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9dGhpcy5lbGVtZW50LGQ9YSgiPGEgaHJlZj0nIycgZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uPSdkZWxldGUnIGRhdGEtIithLm1vYmlsZS5ucysiaWNvbnBvcz0nbm90ZXh0Jz4iK3RoaXMub3B0aW9ucy5jbG9zZUJ0blRleHQrIjwvYT4iKSxlPWEoIjxkaXYvPiIse3JvbGU6ImRpYWxvZyIsImNsYXNzIjoidWktZGlhbG9nLWNvbnRhaW4gdWktY29ybmVyLWFsbCB1aS1vdmVybGF5LXNoYWRvdyJ9KTtjLmFkZENsYXNzKCJ1aS1kaWFsb2cgdWktb3ZlcmxheS0iK3RoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUpLGMud3JhcElubmVyKGUpLmNoaWxkcmVuKCkuZmluZCgiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKS5wcmVwZW5kKGQpLmVuZCgpLmNoaWxkcmVuKCI6Zmlyc3QtY2hpbGQiKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCIpLmVuZCgpLmNoaWxkcmVuKCI6bGFzdC1jaGlsZCIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYm90dG9tIiksZC5iaW5kKCJjbGljayIsZnVuY3Rpb24oKXtiLmNsb3NlKCl9KSxjLmJpbmQoInZjbGljayBzdWJtaXQiLGZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLmNsb3Nlc3QoYi50eXBlPT09InZjbGljayI/ImEiOiJmb3JtIiksZDtjLmxlbmd0aCYmIWMuanFtRGF0YSgidHJhbnNpdGlvbiIpJiYoZD1hLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpfHx7fSxjLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidHJhbnNpdGlvbiIsZC50cmFuc2l0aW9ufHxhLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJkaXJlY3Rpb24iLCJyZXZlcnNlIikpfSkuYmluZCgicGFnZWhpZGUiLGZ1bmN0aW9uKGIsYyl7YSh0aGlzKS5maW5kKCIuIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykubm90KCIudWktc2xpZGVyLWJnIikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgicGFnZWJlZm9yZXNob3ciLGZ1bmN0aW9uKCl7Yi5faXNDbG9zZWFibGU9ITAsYi5vcHRpb25zLm92ZXJsYXlUaGVtZSYmYi5lbGVtZW50LnBhZ2UoInJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQiKS5wYWdlKCJzZXRDb250YWluZXJCYWNrZ3JvdW5kIixiLm9wdGlvbnMub3ZlcmxheVRoZW1lKX0pfSxjbG9zZTpmdW5jdGlvbigpe3ZhciBiO3RoaXMuX2lzQ2xvc2VhYmxlJiYodGhpcy5faXNDbG9zZWFibGU9ITEsYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQ/YS5tb2JpbGUuYmFjaygpOihiPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0UHJldigpLnVybCxhLm1vYmlsZS5wYXRoLmlzUGF0aChiKXx8KGI9YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoIiMiK2IpKSxhLm1vYmlsZS5jaGFuZ2VQYWdlKGIse2NoYW5nZUhhc2g6ITEsZnJvbUhhc2hDaGFuZ2U6ITB9KSkpfX0pLGEoYykuZGVsZWdhdGUoYS5tb2JpbGUuZGlhbG9nLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvciwicGFnZWNyZWF0ZSIsZnVuY3Rpb24oKXthLm1vYmlsZS5kaWFsb2cucHJvdG90eXBlLmVuaGFuY2UodGhpcyl9KX0oYSx0aGlzKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuYmFja0J0blRleHQ9IkJhY2siLGEubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuYWRkQmFja0J0bj0hMSxhLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmJhY2tCdG5UaGVtZT1udWxsLGEubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuaGVhZGVyVGhlbWU9ImEiLGEubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuZm9vdGVyVGhlbWU9ImEiLGEubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuY29udGVudFRoZW1lPW51bGwsYShjKS5iaW5kKCJwYWdlY3JlYXRlIixmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KSxkPWMuZGF0YSgicGFnZSIpLm9wdGlvbnMsZT1jLmpxbURhdGEoInJvbGUiKSxmPWQudGhlbWU7YSgiOmpxbURhdGEocm9sZT0naGVhZGVyJyksIDpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpLCA6anFtRGF0YShyb2xlPSdjb250ZW50JykiLGMpLmpxbUVuaGFuY2VhYmxlKCkuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksZz1iLmpxbURhdGEoInJvbGUiKSxoPWIuanFtRGF0YSgidGhlbWUiKSxpPWh8fGQuY29udGVudFRoZW1lfHxlPT09ImRpYWxvZyImJmYsaixrLGwsbTtiLmFkZENsYXNzKCJ1aS0iK2cpO2lmKGc9PT0iaGVhZGVyInx8Zz09PSJmb290ZXIiKXt2YXIgbj1ofHwoZz09PSJoZWFkZXIiP2QuaGVhZGVyVGhlbWU6ZC5mb290ZXJUaGVtZSl8fGY7Yi5hZGRDbGFzcygidWktYmFyLSIrbikuYXR0cigicm9sZSIsZz09PSJoZWFkZXIiPyJiYW5uZXIiOiJjb250ZW50aW5mbyIpLGc9PT0iaGVhZGVyIiYmKGo9Yi5jaGlsZHJlbigiYSwgYnV0dG9uIiksaz1qLmhhc0NsYXNzKCJ1aS1idG4tbGVmdCIpLGw9ai5oYXNDbGFzcygidWktYnRuLXJpZ2h0Iiksaz1rfHxqLmVxKDApLm5vdCgiLnVpLWJ0bi1yaWdodCIpLmFkZENsYXNzKCJ1aS1idG4tbGVmdCIpLmxlbmd0aCxsPWx8fGouZXEoMSkuYWRkQ2xhc3MoInVpLWJ0bi1yaWdodCIpLmxlbmd0aCksZC5hZGRCYWNrQnRuJiZnPT09ImhlYWRlciImJmEoIi51aS1wYWdlIikubGVuZ3RoPjEmJmMuanFtRGF0YSgidXJsIikhPT1hLm1vYmlsZS5wYXRoLnN0cmlwSGFzaChsb2NhdGlvbi5oYXNoKSYmIWsmJihtPWEoIjxhIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKTsnIGNsYXNzPSd1aS1idG4tbGVmdCcgZGF0YS0iK2EubW9iaWxlLm5zKyJyZWw9J2JhY2snIGRhdGEtIithLm1vYmlsZS5ucysiaWNvbj0nYXJyb3ctbCc+IitkLmJhY2tCdG5UZXh0KyI8L2E+IikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIsZC5iYWNrQnRuVGhlbWV8fG4pLnByZXBlbmRUbyhiKSksYi5jaGlsZHJlbigiaDEsIGgyLCBoMywgaDQsIGg1LCBoNiIpLmFkZENsYXNzKCJ1aS10aXRsZSIpLmF0dHIoe3JvbGU6ImhlYWRpbmciLCJhcmlhLWxldmVsIjoiMSJ9KX1lbHNlIGc9PT0iY29udGVudCImJihpJiZiLmFkZENsYXNzKCJ1aS1ib2R5LSIraSksYi5hdHRyKCJyb2xlIiwibWFpbiIpKX0pfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS5mbi5maWVsZGNvbnRhaW49ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkQ2xhc3MoInVpLWZpZWxkLWNvbnRhaW4gdWktYm9keSB1aS1iciIpLmNvbnRlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZVR5cGU9PT0zJiYhL1xTLy50ZXN0KHRoaXMubm9kZVZhbHVlKX0pLnJlbW92ZSgpfSxhKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKCI6anFtRGF0YShyb2xlPSdmaWVsZGNvbnRhaW4nKSIsYi50YXJnZXQpLmpxbUVuaGFuY2VhYmxlKCkuZmllbGRjb250YWluKCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLmZuLmdyaWQ9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksZD1hLmV4dGVuZCh7Z3JpZDpudWxsfSxiKSxlPWMuY2hpbGRyZW4oKSxmPXtzb2xvOjEsYToyLGI6MyxjOjQsZDo1fSxnPWQuZ3JpZCxoO2lmKCFnKWlmKGUubGVuZ3RoPD01KWZvcih2YXIgaSBpbiBmKWZbaV09PT1lLmxlbmd0aCYmKGc9aSk7ZWxzZSBnPSJhIixjLmFkZENsYXNzKCJ1aS1ncmlkLWR1byIpO2g9ZltnXSxjLmFkZENsYXNzKCJ1aS1ncmlkLSIrZyksZS5maWx0ZXIoIjpudGgtY2hpbGQoIitoKyJuKzEpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWEiKSxoPjEmJmUuZmlsdGVyKCI6bnRoLWNoaWxkKCIraCsibisyKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1iIiksaD4yJiZlLmZpbHRlcigiOm50aC1jaGlsZCgiK2grIm4rMykiKS5hZGRDbGFzcygidWktYmxvY2stYyIpLGg+MyYmZS5maWx0ZXIoIjpudGgtY2hpbGQoIitoKyJuKzQpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWQiKSxoPjQmJmUuZmlsdGVyKCI6bnRoLWNoaWxkKCIraCsibis1KSIpLmFkZENsYXNzKCJ1aS1ibG9jay1lIil9KX19KGEpLGZ1bmN0aW9uKGEsYil7YShjKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YSgiOmpxbURhdGEocm9sZT0nbm9qcycpIixiLnRhcmdldCkuYWRkQ2xhc3MoInVpLW5vanMiKX0pfShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoYSl7dmFyIGI7d2hpbGUoYSl7Yj10eXBlb2YgYS5jbGFzc05hbWU9PSJzdHJpbmciJiZhLmNsYXNzTmFtZSsiICI7aWYoYiYmYi5pbmRleE9mKCJ1aS1idG4gIik+LTEmJmIuaW5kZXhPZigidWktZGlzYWJsZWQgIik8MClicmVhazthPWEucGFyZW50Tm9kZX1yZXR1cm4gYX1hLmZuLmJ1dHRvbk1hcmt1cD1mdW5jdGlvbihkKXt2YXIgZj10aGlzLGc9ZnVuY3Rpb24oYixjKXtqLnNldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zK2IsYyksaS5qcW1EYXRhKGIsYyl9O2Q9ZCYmYS50eXBlKGQpPT09Im9iamVjdCI/ZDp7fTtmb3IodmFyIGg9MDtoPGYubGVuZ3RoO2grKyl7dmFyIGk9Zi5lcShoKSxqPWlbMF0saz1hLmV4dGVuZCh7fSxhLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cyx7aWNvbjpkLmljb24hPT1iP2QuaWNvbjppLmpxbURhdGEoImljb24iKSxpY29ucG9zOmQuaWNvbnBvcyE9PWI/ZC5pY29ucG9zOmkuanFtRGF0YSgiaWNvbnBvcyIpLHRoZW1lOmQudGhlbWUhPT1iP2QudGhlbWU6aS5qcW1EYXRhKCJ0aGVtZSIpfHxhLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShpLCJjIiksaW5saW5lOmQuaW5saW5lIT09Yj9kLmlubGluZTppLmpxbURhdGEoImlubGluZSIpLHNoYWRvdzpkLnNoYWRvdyE9PWI/ZC5zaGFkb3c6aS5qcW1EYXRhKCJzaGFkb3ciKSxjb3JuZXJzOmQuY29ybmVycyE9PWI/ZC5jb3JuZXJzOmkuanFtRGF0YSgiY29ybmVycyIpLGljb25zaGFkb3c6ZC5pY29uc2hhZG93IT09Yj9kLmljb25zaGFkb3c6aS5qcW1EYXRhKCJpY29uc2hhZG93IiksbWluaTpkLm1pbmkhPT1iP2QubWluaTppLmpxbURhdGEoIm1pbmkiKX0sZCksbD0idWktYnRuLWlubmVyIixtPSJ1aS1idG4tdGV4dCIsbixvLHAscSxyLHM7YS5lYWNoKGssZyksaS5qcW1EYXRhKCJyZWwiKT09PSJwb3B1cCImJmkuYXR0cigiaHJlZiIpJiYoai5zZXRBdHRyaWJ1dGUoImFyaWEtaGFzcG9wdXAiLCEwKSxqLnNldEF0dHJpYnV0ZSgiYXJpYS1vd25zIixqLmdldEF0dHJpYnV0ZSgiaHJlZiIpKSkscz1hLmRhdGEoai50YWdOYW1lPT09IklOUFVUInx8ai50YWdOYW1lPT09IkJVVFRPTiI/ai5wYXJlbnROb2RlOmosImJ1dHRvbkVsZW1lbnRzIikscz8oaj1zLm91dGVyLGk9YShqKSxwPXMuaW5uZXIscT1zLnRleHQsYShzLmljb24pLnJlbW92ZSgpLHMuaWNvbj1udWxsKToocD1jLmNyZWF0ZUVsZW1lbnQoay53cmFwcGVyRWxzKSxxPWMuY3JlYXRlRWxlbWVudChrLndyYXBwZXJFbHMpKSxyPWsuaWNvbj9jLmNyZWF0ZUVsZW1lbnQoInNwYW4iKTpudWxsLGUmJiFzJiZlKCksay50aGVtZXx8KGsudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoaSwiYyIpKSxuPSJ1aS1idG4gdWktYnRuLXVwLSIray50aGVtZSxuKz1rLnNoYWRvdz8iIHVpLXNoYWRvdyI6IiIsbis9ay5jb3JuZXJzPyIgdWktYnRuLWNvcm5lci1hbGwiOiIiLGsubWluaSE9PWImJihuKz1rLm1pbmk9PT0hMD8iIHVpLW1pbmkiOiIgdWktZnVsbHNpemUiKSxrLmlubGluZSE9PWImJihuKz1rLmlubGluZT09PSEwPyIgdWktYnRuLWlubGluZSI6IiB1aS1idG4tYmxvY2siKSxrLmljb24mJihrLmljb249InVpLWljb24tIitrLmljb24say5pY29ucG9zPWsuaWNvbnBvc3x8ImxlZnQiLG89InVpLWljb24gIitrLmljb24say5pY29uc2hhZG93JiYobys9IiB1aS1pY29uLXNoYWRvdyIpKSxrLmljb25wb3MmJihuKz0iIHVpLWJ0bi1pY29uLSIray5pY29ucG9zLGsuaWNvbnBvcz09PSJub3RleHQiJiYhaS5hdHRyKCJ0aXRsZSIpJiZpLmF0dHIoInRpdGxlIixpLmdldEVuY29kZWRUZXh0KCkpKSxsKz1rLmNvcm5lcnM/IiB1aS1idG4tY29ybmVyLWFsbCI6IiIsay5pY29ucG9zJiZrLmljb25wb3M9PT0ibm90ZXh0IiYmIWkuYXR0cigidGl0bGUiKSYmaS5hdHRyKCJ0aXRsZSIsaS5nZXRFbmNvZGVkVGV4dCgpKSxzJiZpLnJlbW92ZUNsYXNzKHMuYmNsc3x8IiIpLGkucmVtb3ZlQ2xhc3MoInVpLWxpbmsiKS5hZGRDbGFzcyhuKSxwLmNsYXNzTmFtZT1sLHEuY2xhc3NOYW1lPW0sc3x8cC5hcHBlbmRDaGlsZChxKTtpZihyKXtyLmNsYXNzTmFtZT1vO2lmKCFzfHwhcy5pY29uKXIuaW5uZXJIVE1MPSImIzE2MDsiLHAuYXBwZW5kQ2hpbGQocil9d2hpbGUoai5maXJzdENoaWxkJiYhcylxLmFwcGVuZENoaWxkKGouZmlyc3RDaGlsZCk7c3x8ai5hcHBlbmRDaGlsZChwKSxzPXtiY2xzOm4sb3V0ZXI6aixpbm5lcjpwLHRleHQ6cSxpY29uOnJ9LGEuZGF0YShqLCJidXR0b25FbGVtZW50cyIscyksYS5kYXRhKHAsImJ1dHRvbkVsZW1lbnRzIixzKSxhLmRhdGEocSwiYnV0dG9uRWxlbWVudHMiLHMpLHImJmEuZGF0YShyLCJidXR0b25FbGVtZW50cyIscyl9cmV0dXJuIHRoaXN9LGEuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzPXtjb3JuZXJzOiEwLHNoYWRvdzohMCxpY29uc2hhZG93OiEwLHdyYXBwZXJFbHM6InNwYW4ifTt2YXIgZT1mdW5jdGlvbigpe3ZhciBiPWEubW9iaWxlLmJ1dHRvbk1hcmt1cC5ob3ZlckRlbGF5LGYsZzthKGMpLmJpbmQoeyJ2bW91c2Vkb3duIHZtb3VzZWNhbmNlbCB2bW91c2V1cCB2bW91c2VvdmVyIHZtb3VzZW91dCBmb2N1cyBibHVyIHNjcm9sbHN0YXJ0IjpmdW5jdGlvbihjKXt2YXIgZSxoPWEoZChjLnRhcmdldCkpLGk9Yy5vcmlnaW5hbEV2ZW50JiYvXnRvdWNoLy50ZXN0KGMub3JpZ2luYWxFdmVudC50eXBlKSxqPWMudHlwZTtpZihoLmxlbmd0aCl7ZT1oLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiKTtpZihqPT09InZtb3VzZWRvd24iKWk/Zj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aC5yZW1vdmVDbGFzcygidWktYnRuLXVwLSIrZSkuYWRkQ2xhc3MoInVpLWJ0bi1kb3duLSIrZSl9LGIpOmgucmVtb3ZlQ2xhc3MoInVpLWJ0bi11cC0iK2UpLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK2UpO2Vsc2UgaWYoaj09PSJ2bW91c2VjYW5jZWwifHxqPT09InZtb3VzZXVwIiloLnJlbW92ZUNsYXNzKCJ1aS1idG4tZG93bi0iK2UpLmFkZENsYXNzKCJ1aS1idG4tdXAtIitlKTtlbHNlIGlmKGo9PT0idm1vdXNlb3ZlciJ8fGo9PT0iZm9jdXMiKWk/Zz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aC5yZW1vdmVDbGFzcygidWktYnRuLXVwLSIrZSkuYWRkQ2xhc3MoInVpLWJ0bi1ob3Zlci0iK2UpfSxiKTpoLnJlbW92ZUNsYXNzKCJ1aS1idG4tdXAtIitlKS5hZGRDbGFzcygidWktYnRuLWhvdmVyLSIrZSk7ZWxzZSBpZihqPT09InZtb3VzZW91dCJ8fGo9PT0iYmx1ciJ8fGo9PT0ic2Nyb2xsc3RhcnQiKWgucmVtb3ZlQ2xhc3MoInVpLWJ0bi1ob3Zlci0iK2UrIiB1aS1idG4tZG93bi0iK2UpLmFkZENsYXNzKCJ1aS1idG4tdXAtIitlKSxmJiZjbGVhclRpbWVvdXQoZiksZyYmY2xlYXJUaW1lb3V0KGcpfX0sImZvY3VzaW4gZm9jdXMiOmZ1bmN0aW9uKGIpe2EoZChiLnRhcmdldCkpLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSwiZm9jdXNvdXQgYmx1ciI6ZnVuY3Rpb24oYil7YShkKGIudGFyZ2V0KSkucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9fSksZT1udWxsfTthKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKCI6anFtRGF0YShyb2xlPSdidXR0b24nKSwgLnVpLWJhciA+IGEsIC51aS1oZWFkZXIgPiBhLCAudWktZm9vdGVyID4gYSwgLnVpLWJhciA+IDpqcW1EYXRhKHJvbGU9J2NvbnRyb2xncm91cCcpID4gYSIsYi50YXJnZXQpLmpxbUVuaGFuY2VhYmxlKCkubm90KCJidXR0b24sIGlucHV0LCAudWktYnRuLCA6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLmJ1dHRvbk1hcmt1cCgpfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5jb2xsYXBzaWJsZSIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntleHBhbmRDdWVUZXh0OiIgY2xpY2sgdG8gZXhwYW5kIGNvbnRlbnRzIixjb2xsYXBzZUN1ZVRleHQ6IiBjbGljayB0byBjb2xsYXBzZSBjb250ZW50cyIsY29sbGFwc2VkOiEwLGhlYWRpbmc6ImgxLGgyLGgzLGg0LGg1LGg2LGxlZ2VuZCIsdGhlbWU6bnVsbCxjb250ZW50VGhlbWU6bnVsbCxpbnNldDohMCxtaW5pOiExLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmVsZW1lbnQsZD10aGlzLm9wdGlvbnMsZT1jLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZSIpLGY9Yy5jaGlsZHJlbihkLmhlYWRpbmcpLmZpcnN0KCksZz1jLmpxbURhdGEoImNvbGxhcHNlZC1pY29uIil8fGQuY29sbGFwc2VkSWNvbixoPWMuanFtRGF0YSgiZXhwYW5kZWQtaWNvbiIpfHxkLmV4cGFuZGVkSWNvbixpPWUud3JhcElubmVyKCI8ZGl2IGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1jb250ZW50Jz48L2Rpdj4iKS5jaGlsZHJlbigiLnVpLWNvbGxhcHNpYmxlLWNvbnRlbnQiKSxqPWMuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JykiKS5hZGRDbGFzcygidWktY29sbGFwc2libGUtc2V0Iik7Zi5pcygibGVnZW5kIikmJihmPWEoIjxkaXYgcm9sZT0naGVhZGluZyc+IitmLmh0bWwoKSsiPC9kaXY+IikuaW5zZXJ0QmVmb3JlKGYpLGYubmV4dCgpLnJlbW92ZSgpKSxqLmxlbmd0aD8oZC50aGVtZXx8KGQudGhlbWU9ai5qcW1EYXRhKCJ0aGVtZSIpfHxhLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShqLCJjIikpLGQuY29udGVudFRoZW1lfHwoZC5jb250ZW50VGhlbWU9ai5qcW1EYXRhKCJjb250ZW50LXRoZW1lIikpLGQuY29sbGFwc2VkSWNvbnx8KGQuY29sbGFwc2VkSWNvbj1qLmpxbURhdGEoImNvbGxhcHNlZC1pY29uIikpLGQuZXhwYW5kZWRJY29ufHwoZC5leHBhbmRlZEljb249ai5qcW1EYXRhKCJleHBhbmRlZC1pY29uIikpLGQuaWNvblBvc3x8KGQuaWNvblBvcz1qLmpxbURhdGEoImljb25wb3MiKSksai5qcW1EYXRhKCJpbnNldCIpIT09Yj9kLmluc2V0PWouanFtRGF0YSgiaW5zZXQiKTpkLmluc2V0PSEwLGQubWluaXx8KGQubWluaT1qLmpxbURhdGEoIm1pbmkiKSkpOmQudGhlbWV8fChkLnRoZW1lPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGMsImMiKSksIWQuaW5zZXR8fGUuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWluc2V0IiksaS5hZGRDbGFzcyhkLmNvbnRlbnRUaGVtZT8idWktYm9keS0iK2QuY29udGVudFRoZW1lOiIiKSxnPWMuanFtRGF0YSgiY29sbGFwc2VkLWljb24iKXx8ZC5jb2xsYXBzZWRJY29ufHwicGx1cyIsaD1jLmpxbURhdGEoImV4cGFuZGVkLWljb24iKXx8ZC5leHBhbmRlZEljb258fCJtaW51cyIsZi5pbnNlcnRCZWZvcmUoaSkuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmciKS5hcHBlbmQoIjxzcGFuIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyc+PC9zcGFuPiIpLndyYXBJbm5lcigiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctdG9nZ2xlJz48L2E+IikuZmluZCgiYSIpLmZpcnN0KCkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ITEsY29ybmVyczohMSxpY29ucG9zOmMuanFtRGF0YSgiaWNvbnBvcyIpfHxkLmljb25Qb3N8fCJsZWZ0IixpY29uOmcsbWluaTpkLm1pbmksdGhlbWU6ZC50aGVtZX0pLCFkLmluc2V0fHxmLmZpbmQoImEiKS5maXJzdCgpLmFkZCgiLnVpLWJ0bi1pbm5lciIsYykuYWRkQ2xhc3MoInVpLWNvcm5lci10b3AgdWktY29ybmVyLWJvdHRvbSIpLGUuYmluZCgiZXhwYW5kIGNvbGxhcHNlIixmdW5jdGlvbihiKXtpZighYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyIGM9YSh0aGlzKSxrPWIudHlwZT09PSJjb2xsYXBzZSIsbD1kLmNvbnRlbnRUaGVtZTtiLnByZXZlbnREZWZhdWx0KCksZi50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiLGspLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyIpLnRleHQoaz9kLmV4cGFuZEN1ZVRleHQ6ZC5jb2xsYXBzZUN1ZVRleHQpLmVuZCgpLmZpbmQoIi51aS1pY29uIikudG9nZ2xlQ2xhc3MoInVpLWljb24tIitoLCFrKS50b2dnbGVDbGFzcygidWktaWNvbi0iK2csa3x8aD09PWcpLmVuZCgpLmZpbmQoImEiKS5maXJzdCgpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxjLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWQiLGspLGkudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbnRlbnQtY29sbGFwc2VkIixrKS5hdHRyKCJhcmlhLWhpZGRlbiIsayksbCYmISFkLmluc2V0JiYoIWoubGVuZ3RofHxlLmpxbURhdGEoImNvbGxhcHNpYmxlLWxhc3QiKSkmJihmLmZpbmQoImEiKS5maXJzdCgpLmFkZChmLmZpbmQoIi51aS1idG4taW5uZXIiKSkudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iLGspLGkudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iLCFrKSksaS50cmlnZ2VyKCJ1cGRhdGVsYXlvdXQiKX19KS50cmlnZ2VyKGQuY29sbGFwc2VkPyJjb2xsYXBzZSI6ImV4cGFuZCIpLGYuYmluZCgidGFwIixmdW5jdGlvbihiKXtmLmZpbmQoImEiKS5maXJzdCgpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImNsaWNrIixmdW5jdGlvbihhKXt2YXIgYj1mLmlzKCIudWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiKT8iZXhwYW5kIjoiY29sbGFwc2UiO2UudHJpZ2dlcihiKSxhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKX0pfX0pLGEoYykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLmNvbGxhcHNpYmxlLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0KX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUuY29sbGFwc2libGVzZXQiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7aW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLXNldCIpLGQ9dGhpcy5vcHRpb25zO2QudGhlbWV8fChkLnRoZW1lPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGMsImMiKSksZC5jb250ZW50VGhlbWV8fChkLmNvbnRlbnRUaGVtZT1jLmpxbURhdGEoImNvbnRlbnQtdGhlbWUiKSksYy5qcW1EYXRhKCJpbnNldCIpIT09YiYmKGQuaW5zZXQ9Yy5qcW1EYXRhKCJpbnNldCIpKSxkLmluc2V0PWQuaW5zZXQhPT1iP2QuaW5zZXQ6ITAsYy5qcW1EYXRhKCJjb2xsYXBzaWJsZWJvdW5kIil8fGMuanFtRGF0YSgiY29sbGFwc2libGVib3VuZCIsITApLmJpbmQoImV4cGFuZCBjb2xsYXBzZSIsZnVuY3Rpb24oYil7dmFyIGM9Yi50eXBlPT09ImNvbGxhcHNlIixlPWEoYi50YXJnZXQpLmNsb3Nlc3QoIi51aS1jb2xsYXBzaWJsZSIpLGY9ZS5kYXRhKCJjb2xsYXBzaWJsZSIpO2UuanFtRGF0YSgiY29sbGFwc2libGUtbGFzdCIpJiYhIWQuaW5zZXQmJihlLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nIikuZmlyc3QoKS5maW5kKCJhIikuZmlyc3QoKS50b2dnbGVDbGFzcygidWktY29ybmVyLWJvdHRvbSIsYykuZmluZCgiLnVpLWJ0bi1pbm5lciIpLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYm90dG9tIixjKSxlLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1jb250ZW50IikudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iLCFjKSl9KS5iaW5kKCJleHBhbmQiLGZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLmNsb3Nlc3QoIi51aS1jb2xsYXBzaWJsZSIpO2MucGFyZW50KCkuaXMoIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpIikmJmMuc2libGluZ3MoIi51aS1jb2xsYXBzaWJsZSIpLnRyaWdnZXIoImNvbGxhcHNlIil9KX0sX2luaXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQsYj1hLmNoaWxkcmVuKCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZScpIiksYz1iLmZpbHRlcigiOmpxbURhdGEoY29sbGFwc2VkPSdmYWxzZScpIik7dGhpcy5yZWZyZXNoKCksYy50cmlnZ2VyKCJleHBhbmQiKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9ucyxkPWIuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykiKTthLm1vYmlsZS5jb2xsYXBzaWJsZS5wcm90b3R5cGUuZW5oYW5jZShkLm5vdCgiLnVpLWNvbGxhcHNpYmxlIikpLCFjLmluc2V0fHwoZC5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5qcW1SZW1vdmVEYXRhKCJjb2xsYXBzaWJsZS1sYXN0IikuZmluZCgiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmciKS5maW5kKCJhIikuZmlyc3QoKS5yZW1vdmVDbGFzcygidWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIikuZmluZCgiLnVpLWJ0bi1pbm5lciIpLnJlbW92ZUNsYXNzKCJ1aS1jb3JuZXItdG9wIHVpLWNvcm5lci1ib3R0b20iKX0pLGQuZmlyc3QoKS5maW5kKCJhIikuZmlyc3QoKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCIpLmZpbmQoIi51aS1idG4taW5uZXIiKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCIpLGQubGFzdCgpLmpxbURhdGEoImNvbGxhcHNpYmxlLWxhc3QiLCEwKS5maW5kKCJhIikuZmlyc3QoKS5hZGRDbGFzcygidWktY29ybmVyLWJvdHRvbSIpLmZpbmQoIi51aS1idG4taW5uZXIiKS5hZGRDbGFzcygidWktY29ybmVyLWJvdHRvbSIpKX19KSxhKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5jb2xsYXBzaWJsZXNldC5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLm5hdmJhciIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntpY29ucG9zOiJ0b3AiLGdyaWQ6bnVsbCxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J25hdmJhcicpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBjPXRoaXMuZWxlbWVudCxkPWMuZmluZCgiYSIpLGU9ZC5maWx0ZXIoIjpqcW1EYXRhKGljb24pIikubGVuZ3RoP3RoaXMub3B0aW9ucy5pY29ucG9zOmI7Yy5hZGRDbGFzcygidWktbmF2YmFyIHVpLW1pbmkiKS5hdHRyKCJyb2xlIiwibmF2aWdhdGlvbiIpLmZpbmQoInVsIikuanFtRW5oYW5jZWFibGUoKS5ncmlkKHtncmlkOnRoaXMub3B0aW9ucy5ncmlkfSksZC5idXR0b25NYXJrdXAoe2Nvcm5lcnM6ITEsc2hhZG93OiExLGlubGluZTohMCxpY29ucG9zOmV9KSxjLmRlbGVnYXRlKCJhIiwidmNsaWNrIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5oYXNDbGFzcygidWktZGlzYWJsZWQiKXx8KGQucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLGEodGhpcykuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpKX0pLGMuY2xvc2VzdCgiLnVpLXBhZ2UiKS5iaW5kKCJwYWdlYmVmb3Jlc2hvdyIsZnVuY3Rpb24oKXtkLmZpbHRlcigiLnVpLXN0YXRlLXBlcnNpc3QiKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KX19KSxhKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5uYXZiYXIucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGQ9e307YS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGNvdW50VGhlbWU6ImMiLGhlYWRlclRoZW1lOiJiIixkaXZpZGVyVGhlbWU6ImIiLHNwbGl0SWNvbjoiYXJyb3ctciIsc3BsaXRUaGVtZToiYiIsaW5zZXQ6ITEsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdsaXN0dmlldycpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj0iIjtiKz1hLm9wdGlvbnMuaW5zZXQ/IiB1aS1saXN0dmlldy1pbnNldCB1aS1jb3JuZXItYWxsIHVpLXNoYWRvdyAiOiIiLGEuZWxlbWVudC5hZGRDbGFzcyhmdW5jdGlvbihhLGMpe3JldHVybiBjKyIgdWktbGlzdHZpZXcgIitifSksYS5yZWZyZXNoKCEwKX0sX3JlbW92ZUNvcm5lcnM6ZnVuY3Rpb24oYSxiKXt2YXIgYz0idWktY29ybmVyLXRvcCB1aS1jb3JuZXItdHIgdWktY29ybmVyLXRsIixkPSJ1aS1jb3JuZXItYm90dG9tIHVpLWNvcm5lci1iciB1aS1jb3JuZXItYmwiO2E9YS5hZGQoYS5maW5kKCIudWktYnRuLWlubmVyLCAudWktbGktbGluay1hbHQsIC51aS1saS10aHVtYiIpKSxiPT09InRvcCI/YS5yZW1vdmVDbGFzcyhjKTpiPT09ImJvdHRvbSI/YS5yZW1vdmVDbGFzcyhkKTphLnJlbW92ZUNsYXNzKGMrIiAiK2QpfSxfcmVmcmVzaENvcm5lcnM6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU7Yj10aGlzLmVsZW1lbnQuY2hpbGRyZW4oImxpIiksYz1hfHxiLmZpbHRlcigiOnZpc2libGUiKS5sZW5ndGg9PT0wP2Iubm90KCIudWktc2NyZWVuLWhpZGRlbiIpOmIuZmlsdGVyKCI6dmlzaWJsZSIpLGIuZmlsdGVyKCIudWktbGktbGFzdCIpLnJlbW92ZUNsYXNzKCJ1aS1saS1sYXN0IiksdGhpcy5vcHRpb25zLmluc2V0Pyh0aGlzLl9yZW1vdmVDb3JuZXJzKGIpLGQ9Yy5maXJzdCgpLmFkZENsYXNzKCJ1aS1jb3JuZXItdG9wIiksZC5hZGQoZC5maW5kKCIudWktYnRuLWlubmVyIikubm90KCIudWktbGktbGluay1hbHQgc3BhbjpmaXJzdC1jaGlsZCIpKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCIpLmVuZCgpLmZpbmQoIi51aS1saS1saW5rLWFsdCwgLnVpLWxpLWxpbmstYWx0IHNwYW46Zmlyc3QtY2hpbGQiKS5hZGRDbGFzcygidWktY29ybmVyLXRyIikuZW5kKCkuZmluZCgiLnVpLWxpLXRodW1iIikubm90KCIudWktbGktaWNvbiIpLmFkZENsYXNzKCJ1aS1jb3JuZXItdGwiKSxlPWMubGFzdCgpLmFkZENsYXNzKCJ1aS1jb3JuZXItYm90dG9tIHVpLWxpLWxhc3QiKSxlLmFkZChlLmZpbmQoIi51aS1idG4taW5uZXIiKSkuZmluZCgiLnVpLWxpLWxpbmstYWx0IikuYWRkQ2xhc3MoInVpLWNvcm5lci1iciIpLmVuZCgpLmZpbmQoIi51aS1saS10aHVtYiIpLm5vdCgiLnVpLWxpLWljb24iKS5hZGRDbGFzcygidWktY29ybmVyLWJsIikpOmMubGFzdCgpLmFkZENsYXNzKCJ1aS1saS1sYXN0IiksYXx8dGhpcy5lbGVtZW50LnRyaWdnZXIoInVwZGF0ZWxheW91dCIpfSxfZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT17fTtlW2NdPWVbZF09ITA7d2hpbGUoYSl7aWYoZVthLm5vZGVOYW1lXSlyZXR1cm4gYTthPWFbYl19cmV0dXJuIG51bGx9LF9nZXRDaGlsZHJlbkJ5VGFnTmFtZTpmdW5jdGlvbihiLGMsZCl7dmFyIGU9W10sZj17fTtmW2NdPWZbZF09ITAsYj1iLmZpcnN0Q2hpbGQ7d2hpbGUoYilmW2Iubm9kZU5hbWVdJiZlLnB1c2goYiksYj1iLm5leHRTaWJsaW5nO3JldHVybiBhKGUpfSxfYWRkVGh1bWJDbGFzc2VzOmZ1bmN0aW9uKGIpe3ZhciBjLGQsZT1iLmxlbmd0aDtmb3IoYz0wO2M8ZTtjKyspZD1hKHRoaXMuX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWUoYltjXS5maXJzdENoaWxkLCJuZXh0U2libGluZyIsImltZyIsIklNRyIpKSxkLmxlbmd0aCYmKGQuYWRkQ2xhc3MoInVpLWxpLXRodW1iIiksYSh0aGlzLl9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lKGRbMF0ucGFyZW50Tm9kZSwicGFyZW50Tm9kZSIsImxpIiwiTEkiKSkuYWRkQ2xhc3MoZC5pcygiLnVpLWxpLWljb24iKT8idWktbGktaGFzLWljb24iOiJ1aS1saS1oYXMtdGh1bWIiKSl9LHJlZnJlc2g6ZnVuY3Rpb24oYil7dGhpcy5wYXJlbnRQYWdlPXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLHRoaXMuX2NyZWF0ZVN1YlBhZ2VzKCk7dmFyIGQ9dGhpcy5vcHRpb25zLGU9dGhpcy5lbGVtZW50LGY9dGhpcyxnPWUuanFtRGF0YSgiZGl2aWRlcnRoZW1lIil8fGQuZGl2aWRlclRoZW1lLGg9ZS5qcW1EYXRhKCJzcGxpdHRoZW1lIiksaT1lLmpxbURhdGEoInNwbGl0aWNvbiIpLGo9dGhpcy5fZ2V0Q2hpbGRyZW5CeVRhZ05hbWUoZVswXSwibGkiLCJMSSIpLGs9ISFhLm5vZGVOYW1lKGVbMF0sIm9sIiksbD0hYS5zdXBwb3J0LmNzc1BzZXVkb0VsZW1lbnQsbT1lLmF0dHIoInN0YXJ0Iiksbj17fSxvLHAscSxyLHMsdCx1LHYsdyx4LHkseixBLEI7ayYmbCYmZS5maW5kKCIudWktbGktZGVjIikucmVtb3ZlKCksayYmKG18fG09PT0wP2w/dT1wYXJzZUZsb2F0KG0pOih2PXBhcnNlRmxvYXQobSktMSxlLmNzcygiY291bnRlci1yZXNldCIsImxpc3RudW1iZXJpbmcgIit2KSk6bCYmKHU9MSkpLGQudGhlbWV8fChkLnRoZW1lPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudCwiYyIpKTtmb3IodmFyIEM9MCxEPWoubGVuZ3RoO0M8RDtDKyspe289ai5lcShDKSxwPSJ1aS1saSI7aWYoYnx8IW8uaGFzQ2xhc3MoInVpLWxpIikpe3E9by5qcW1EYXRhKCJ0aGVtZSIpfHxkLnRoZW1lLHI9dGhpcy5fZ2V0Q2hpbGRyZW5CeVRhZ05hbWUob1swXSwiYSIsIkEiKTt2YXIgRT1vLmpxbURhdGEoInJvbGUiKT09PSJsaXN0LWRpdmlkZXIiO3IubGVuZ3RoJiYhRT8oeT1vLmpxbURhdGEoImljb24iKSxvLmJ1dHRvbk1hcmt1cCh7d3JhcHBlckVsczoiZGl2IixzaGFkb3c6ITEsY29ybmVyczohMSxpY29ucG9zOiJyaWdodCIsaWNvbjpyLmxlbmd0aD4xfHx5PT09ITE/ITE6eXx8ImFycm93LXIiLHRoZW1lOnF9KSx5IT09ITEmJnIubGVuZ3RoPT09MSYmby5hZGRDbGFzcygidWktbGktaGFzLWFycm93Iiksci5maXJzdCgpLnJlbW92ZUNsYXNzKCJ1aS1saW5rIikuYWRkQ2xhc3MoInVpLWxpbmstaW5oZXJpdCIpLHIubGVuZ3RoPjEmJihwKz0iIHVpLWxpLWhhcy1hbHQiLHM9ci5sYXN0KCksdD1ofHxzLmpxbURhdGEoInRoZW1lIil8fGQuc3BsaXRUaGVtZSxCPXMuanFtRGF0YSgiaWNvbiIpLHMuYXBwZW5kVG8obykuYXR0cigidGl0bGUiLHMuZ2V0RW5jb2RlZFRleHQoKSkuYWRkQ2xhc3MoInVpLWxpLWxpbmstYWx0IikuZW1wdHkoKS5idXR0b25NYXJrdXAoe3NoYWRvdzohMSxjb3JuZXJzOiExLHRoZW1lOnEsaWNvbjohMSxpY29ucG9zOiJub3RleHQifSkuZmluZCgiLnVpLWJ0bi1pbm5lciIpLmFwcGVuZChhKGMuY3JlYXRlRWxlbWVudCgic3BhbiIpKS5idXR0b25NYXJrdXAoe3NoYWRvdzohMCxjb3JuZXJzOiEwLHRoZW1lOnQsaWNvbnBvczoibm90ZXh0IixpY29uOkJ8fHl8fGl8fGQuc3BsaXRJY29ufSkpKSk6RT8ocCs9IiB1aS1saS1kaXZpZGVyIHVpLWJhci0iK2csby5hdHRyKCJyb2xlIiwiaGVhZGluZyIpLGsmJihtfHxtPT09MD9sP3U9cGFyc2VGbG9hdChtKToodz1wYXJzZUZsb2F0KG0pLTEsby5jc3MoImNvdW50ZXItcmVzZXQiLCJsaXN0bnVtYmVyaW5nICIrdykpOmwmJih1PTEpKSk6cCs9IiB1aS1saS1zdGF0aWMgdWktYnRuLXVwLSIrcX1rJiZsJiZwLmluZGV4T2YoInVpLWxpLWRpdmlkZXIiKTwwJiYoeD1wLmluZGV4T2YoInVpLWxpLXN0YXRpYyIpPjA/bzpvLmZpbmQoIi51aS1saW5rLWluaGVyaXQiKSx4LmFkZENsYXNzKCJ1aS1saS1qc251bWJlcmluZyIpLnByZXBlbmQoIjxzcGFuIGNsYXNzPSd1aS1saS1kZWMnPiIrdSsrICsiLiA8L3NwYW4+IikpLG5bcF18fChuW3BdPVtdKSxuW3BdLnB1c2gob1swXSl9Zm9yKHAgaW4gbilhKG5bcF0pLmFkZENsYXNzKHApLmNoaWxkcmVuKCIudWktYnRuLWlubmVyIikuYWRkQ2xhc3MocCk7ZS5maW5kKCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IikuYWRkQ2xhc3MoInVpLWxpLWhlYWRpbmciKS5lbmQoKS5maW5kKCJwLCBkbCIpLmFkZENsYXNzKCJ1aS1saS1kZXNjIikuZW5kKCkuZmluZCgiLnVpLWxpLWFzaWRlIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7Yi5wcmVwZW5kVG8oYi5wYXJlbnQoKSl9KS5lbmQoKS5maW5kKCIudWktbGktY291bnQiKS5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5jbG9zZXN0KCJsaSIpLmFkZENsYXNzKCJ1aS1saS1oYXMtY291bnQiKX0pLmFkZENsYXNzKCJ1aS1idG4tdXAtIisoZS5qcW1EYXRhKCJjb3VudHRoZW1lIil8fHRoaXMub3B0aW9ucy5jb3VudFRoZW1lKSsiIHVpLWJ0bi1jb3JuZXItYWxsIiksdGhpcy5fYWRkVGh1bWJDbGFzc2VzKGopLHRoaXMuX2FkZFRodW1iQ2xhc3NlcyhlLmZpbmQoIi51aS1saW5rLWluaGVyaXQiKSksdGhpcy5fcmVmcmVzaENvcm5lcnMoYiksdGhpcy5fdHJpZ2dlcigiYWZ0ZXJyZWZyZXNoIil9LF9pZFN0cmluZ0VzY2FwZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywiLSIpfSxfY3JlYXRlU3ViUGFnZXM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz1iLmNsb3Nlc3QoIi51aS1wYWdlIiksZT1jLmpxbURhdGEoInVybCIpLGY9ZXx8Y1swXVthLmV4cGFuZG9dLGc9Yi5hdHRyKCJpZCIpLGg9dGhpcy5vcHRpb25zLGk9ImRhdGEtIithLm1vYmlsZS5ucyxqPXRoaXMsaz1jLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIikuanFtRGF0YSgiaWQiKSxsO3R5cGVvZiBkW2ZdPT0idW5kZWZpbmVkIiYmKGRbZl09LTEpLGc9Z3x8KytkW2ZdLGEoYi5maW5kKCJsaT51bCwgbGk+b2wiKS50b0FycmF5KCkucmV2ZXJzZSgpKS5lYWNoKGZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMsZj1hKHRoaXMpLGo9Zi5hdHRyKCJpZCIpfHxnKyItIitjLG09Zi5wYXJlbnQoKSxuPWEoZi5wcmV2QWxsKCkudG9BcnJheSgpLnJldmVyc2UoKSkscD1uLmxlbmd0aD9uOmEoIjxzcGFuPiIrYS50cmltKG0uY29udGVudHMoKVswXS5ub2RlVmFsdWUpKyI8L3NwYW4+IikscT1wLmZpcnN0KCkuZ2V0RW5jb2RlZFRleHQoKSxyPShlfHwiIikrIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkrIj0iK2oscz1mLmpxbURhdGEoInRoZW1lIil8fGgudGhlbWUsdD1mLmpxbURhdGEoImNvdW50dGhlbWUiKXx8Yi5qcW1EYXRhKCJjb3VudHRoZW1lIil8fGguY291bnRUaGVtZSx1LHY7bD0hMCx1PWYuZGV0YWNoKCkud3JhcCgiPGRpdiAiK2krInJvbGU9J3BhZ2UnICIraSsidXJsPSciK3IrIicgIitpKyJ0aGVtZT0nIitzKyInICIraSsiY291bnQtdGhlbWU9JyIrdCsiJz48ZGl2ICIraSsicm9sZT0nY29udGVudCc+PC9kaXY+PC9kaXY+IikucGFyZW50KCkuYmVmb3JlKCI8ZGl2ICIraSsicm9sZT0naGVhZGVyJyAiK2krInRoZW1lPSciK2guaGVhZGVyVGhlbWUrIic+PGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrcSsiPC9kaXY+PC9kaXY+IikuYWZ0ZXIoaz9hKCI8ZGl2ICIraSsicm9sZT0nZm9vdGVyJyAiK2krImlkPSciK2srIic+Iik6IiIpLnBhcmVudCgpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLHUucGFnZSgpLHY9bS5maW5kKCJhOmZpcnN0Iiksdi5sZW5ndGh8fCh2PWEoIjxhLz4iKS5odG1sKHB8fHEpLnByZXBlbmRUbyhtLmVtcHR5KCkpKSx2LmF0dHIoImhyZWYiLCIjIityKX0pLmxpc3R2aWV3KCk7aWYobCYmYy5pcygiOmpxbURhdGEoZXh0ZXJuYWwtcGFnZT0ndHJ1ZScpIikmJmMuZGF0YSgicGFnZSIpLm9wdGlvbnMuZG9tQ2FjaGU9PT0hMSl7dmFyIG09ZnVuY3Rpb24oYixkKXt2YXIgZj1kLm5leHRQYWdlLGcsaD1uZXcgYS5FdmVudCgicGFnZXJlbW92ZSIpO2QubmV4dFBhZ2UmJihnPWYuanFtRGF0YSgidXJsIiksZy5pbmRleE9mKGUrIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkpIT09MCYmKGouY2hpbGRQYWdlcygpLnJlbW92ZSgpLGMudHJpZ2dlcihoKSxoLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxjLnJlbW92ZVdpdGhEZXBlbmRlbnRzKCkpKX07Yy51bmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIpLmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIsbSl9fSxjaGlsZFBhZ2VzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5wYXJlbnRQYWdlLmpxbURhdGEoInVybCIpO3JldHVybiBhKCI6anFtRGF0YSh1cmxePSciK2IrIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkrIicpIil9fSksYShjKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuYXV0b2RpdmlkZXJzPSExLGEubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmF1dG9kaXZpZGVyc1NlbGVjdG9yPWZ1bmN0aW9uKGEpe3ZhciBiPWEudGV4dCgpfHxudWxsO3JldHVybiBiPyhiPWIuc2xpY2UoMCwxKS50b1VwcGVyQ2FzZSgpLGIpOm51bGx9LGEoYykuZGVsZWdhdGUoInVsLG9sIiwibGlzdHZpZXdjcmVhdGUiLGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxkPWIuZGF0YSgibGlzdHZpZXciKTtpZighZHx8IWQub3B0aW9ucy5hdXRvZGl2aWRlcnMpcmV0dXJuO3ZhciBlPWZ1bmN0aW9uKCl7Yi5maW5kKCJsaTpqcW1EYXRhKHJvbGU9J2xpc3QtZGl2aWRlcicpIikucmVtb3ZlKCk7dmFyIGU9Yi5maW5kKCJsaSIpLGY9bnVsbCxnLGg7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe2c9ZVtpXSxoPWQub3B0aW9ucy5hdXRvZGl2aWRlcnNTZWxlY3RvcihhKGcpKTtpZihoJiZmIT09aCl7dmFyIGo9Yy5jcmVhdGVFbGVtZW50KCJsaSIpO2ouYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShoKSksai5zZXRBdHRyaWJ1dGUoImRhdGEtIithLm1vYmlsZS5ucysicm9sZSIsImxpc3QtZGl2aWRlciIpLGcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaixnKX1mPWh9fSxmPWZ1bmN0aW9uKCl7Yi51bmJpbmQoImxpc3R2aWV3YWZ0ZXJyZWZyZXNoIixmKSxlKCksZC5yZWZyZXNoKCksYi5iaW5kKCJsaXN0dmlld2FmdGVycmVmcmVzaCIsZil9O2YoKX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUuY2hlY2tib3hyYWRpbyIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0nY2hlY2tib3gnXSxpbnB1dFt0eXBlPSdyYWRpbyddIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBkPXRoaXMsZT10aGlzLmVsZW1lbnQsZj1mdW5jdGlvbihhLGIpe3JldHVybiBhLmpxbURhdGEoYil8fGEuY2xvc2VzdCgiZm9ybSwgZmllbGRzZXQiKS5qcW1EYXRhKGIpfSxnPWEoZSkuY2xvc2VzdCgibGFiZWwiKSxoPWcubGVuZ3RoP2c6YShlKS5jbG9zZXN0KCJmb3JtLCBmaWVsZHNldCwgOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpbmQoImxhYmVsIikuZmlsdGVyKCJbZm9yPSciK2VbMF0uaWQrIiddIikuZmlyc3QoKSxpPWVbMF0udHlwZSxqPWYoZSwibWluaSIpLGs9aSsiLW9uIixsPWkrIi1vZmYiLG09ZS5wYXJlbnRzKCI6anFtRGF0YSh0eXBlPSdob3Jpem9udGFsJykiKS5sZW5ndGg/YjpsLG49ZihlLCJpY29ucG9zIiksbz1tPyIiOiIgIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyxwPSJ1aS0iK2srbyxxPSJ1aS0iK2wscj0idWktaWNvbi0iK2sscz0idWktaWNvbi0iK2w7aWYoaSE9PSJjaGVja2JveCImJmkhPT0icmFkaW8iKXJldHVybjthLmV4dGVuZCh0aGlzLHtsYWJlbDpoLGlucHV0dHlwZTppLGNoZWNrZWRDbGFzczpwLHVuY2hlY2tlZENsYXNzOnEsY2hlY2tlZGljb246cix1bmNoZWNrZWRpY29uOnN9KSx0aGlzLm9wdGlvbnMudGhlbWV8fCh0aGlzLm9wdGlvbnMudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIikpLGguYnV0dG9uTWFya3VwKHt0aGVtZTp0aGlzLm9wdGlvbnMudGhlbWUsaWNvbjptLHNoYWRvdzohMSxtaW5pOmosaWNvbnBvczpufSk7dmFyIHQ9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTt0LmNsYXNzTmFtZT0idWktIitpLGUuYWRkKGgpLndyYXBBbGwodCksaC5iaW5kKHt2bW91c2VvdmVyOmZ1bmN0aW9uKGIpe2EodGhpcykucGFyZW50KCkuaXMoIi51aS1kaXNhYmxlZCIpJiZiLnN0b3BQcm9wYWdhdGlvbigpfSx2Y2xpY2s6ZnVuY3Rpb24oYSl7aWYoZS5pcygiOmRpc2FibGVkIikpe2EucHJldmVudERlZmF1bHQoKTtyZXR1cm59cmV0dXJuIGQuX2NhY2hlVmFscygpLGUucHJvcCgiY2hlY2tlZCIsaT09PSJyYWRpbyImJiEwfHwhZS5wcm9wKCJjaGVja2VkIikpLGUudHJpZ2dlckhhbmRsZXIoImNsaWNrIiksZC5fZ2V0SW5wdXRTZXQoKS5ub3QoZSkucHJvcCgiY2hlY2tlZCIsITEpLGQuX3VwZGF0ZUFsbCgpLCExfX0pLGUuYmluZCh7dm1vdXNlZG93bjpmdW5jdGlvbigpe2QuX2NhY2hlVmFscygpfSx2Y2xpY2s6ZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IuaXMoIjpjaGVja2VkIik/KGIucHJvcCgiY2hlY2tlZCIsITApLGQuX2dldElucHV0U2V0KCkubm90KGIpLnByb3AoImNoZWNrZWQiLCExKSk6Yi5wcm9wKCJjaGVja2VkIiwhMSksZC5fdXBkYXRlQWxsKCl9LGZvY3VzOmZ1bmN0aW9uKCl7aC5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0sYmx1cjpmdW5jdGlvbigpe2gucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9fSksdGhpcy5yZWZyZXNoKCl9LF9jYWNoZVZhbHM6ZnVuY3Rpb24oKXt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmpxbURhdGEoImNhY2hlVmFsIix0aGlzLmNoZWNrZWQpfSl9LF9nZXRJbnB1dFNldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlucHV0dHlwZT09PSJjaGVja2JveCI/dGhpcy5lbGVtZW50OnRoaXMuZWxlbWVudC5jbG9zZXN0KCJmb3JtLCBmaWVsZHNldCwgOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpbmQoImlucHV0W25hbWU9JyIrdGhpcy5lbGVtZW50WzBdLm5hbWUrIiddW3R5cGU9JyIrdGhpcy5pbnB1dHR5cGUrIiddIil9LF91cGRhdGVBbGw6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMuX2dldElucHV0U2V0KCkuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyk7KHRoaXMuY2hlY2tlZHx8Yi5pbnB1dHR5cGU9PT0iY2hlY2tib3giKSYmYy50cmlnZ2VyKCJjaGFuZ2UiKX0pLmNoZWNrYm94cmFkaW8oInJlZnJlc2giKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudFswXSxiPXRoaXMubGFiZWwsYz1iLmZpbmQoIi51aS1pY29uIik7YS5jaGVja2VkPyhiLmFkZENsYXNzKHRoaXMuY2hlY2tlZENsYXNzKS5yZW1vdmVDbGFzcyh0aGlzLnVuY2hlY2tlZENsYXNzKSxjLmFkZENsYXNzKHRoaXMuY2hlY2tlZGljb24pLnJlbW92ZUNsYXNzKHRoaXMudW5jaGVja2VkaWNvbikpOihiLnJlbW92ZUNsYXNzKHRoaXMuY2hlY2tlZENsYXNzKS5hZGRDbGFzcyh0aGlzLnVuY2hlY2tlZENsYXNzKSxjLnJlbW92ZUNsYXNzKHRoaXMuY2hlY2tlZGljb24pLmFkZENsYXNzKHRoaXMudW5jaGVja2VkaWNvbikpLGEuZGlzYWJsZWQ/dGhpcy5kaXNhYmxlKCk6dGhpcy5lbmFibGUoKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsITApLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLCExKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKX19KSxhKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5jaGVja2JveHJhZGlvLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0LCEwKX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUuYnV0dG9uIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsaWNvbjpudWxsLGljb25wb3M6bnVsbCxjb3JuZXJzOiEwLHNoYWRvdzohMCxpY29uc2hhZG93OiEwLGluaXRTZWxlY3RvcjoiYnV0dG9uLCBbdHlwZT0nYnV0dG9uJ10sIFt0eXBlPSdzdWJtaXQnXSwgW3R5cGU9J3Jlc2V0J10ifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5lbGVtZW50LGUsZj10aGlzLm9wdGlvbnMsZyxoLGk9Zi5pbmxpbmV8fGQuanFtRGF0YSgiaW5saW5lIiksaj1mLm1pbml8fGQuanFtRGF0YSgibWluaSIpLGs9IiIsbDtpZihkWzBdLnRhZ05hbWU9PT0iQSIpe2QuaGFzQ2xhc3MoInVpLWJ0biIpfHxkLmJ1dHRvbk1hcmt1cCgpO3JldHVybn10aGlzLm9wdGlvbnMudGhlbWV8fCh0aGlzLm9wdGlvbnMudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIikpLCF+ZFswXS5jbGFzc05hbWUuaW5kZXhPZigidWktYnRuLWxlZnQiKXx8KGs9InVpLWJ0bi1sZWZ0IiksIX5kWzBdLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1idG4tcmlnaHQiKXx8KGs9InVpLWJ0bi1yaWdodCIpO2lmKGQuYXR0cigidHlwZSIpPT09InN1Ym1pdCJ8fGQuYXR0cigidHlwZSIpPT09InJlc2V0IilrP2srPSIgdWktc3VibWl0IjprPSJ1aS1zdWJtaXQiO2EoImxhYmVsW2Zvcj0nIitkLmF0dHIoImlkIikrIiddIikuYWRkQ2xhc3MoInVpLXN1Ym1pdCIpLHRoaXMuYnV0dG9uPWEoIjxkaXY+PC9kaXY+IilbZC5odG1sKCk/Imh0bWwiOiJ0ZXh0Il0oZC5odG1sKCl8fGQudmFsKCkpLmluc2VydEJlZm9yZShkKS5idXR0b25NYXJrdXAoe3RoZW1lOmYudGhlbWUsaWNvbjpmLmljb24saWNvbnBvczpmLmljb25wb3MsaW5saW5lOmksY29ybmVyczpmLmNvcm5lcnMsc2hhZG93OmYuc2hhZG93LGljb25zaGFkb3c6Zi5pY29uc2hhZG93LG1pbmk6an0pLmFkZENsYXNzKGspLmFwcGVuZChkLmFkZENsYXNzKCJ1aS1idG4taGlkZGVuIikpLGU9dGhpcy5idXR0b24sZz1kLmF0dHIoInR5cGUiKSxoPWQuYXR0cigibmFtZSIpLGchPT0iYnV0dG9uIiYmZyE9PSJyZXNldCImJmgmJmQuYmluZCgidmNsaWNrIixmdW5jdGlvbigpe2w9PT1iJiYobD1hKCI8aW5wdXQ+Iix7dHlwZToiaGlkZGVuIixuYW1lOmQuYXR0cigibmFtZSIpLHZhbHVlOmQuYXR0cigidmFsdWUiKX0pLmluc2VydEJlZm9yZShkKSxhKGMpLm9uZSgic3VibWl0IixmdW5jdGlvbigpe2wucmVtb3ZlKCksbD1ifSkpfSksZC5iaW5kKHtmb2N1czpmdW5jdGlvbigpe2UuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXtlLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pLHRoaXMucmVmcmVzaCgpfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMSksdGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITEpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCEwKSx0aGlzLmJ1dHRvbi5hZGRDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMCksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50O2IucHJvcCgiZGlzYWJsZWQiKT90aGlzLmRpc2FibGUoKTp0aGlzLmVuYWJsZSgpLGEodGhpcy5idXR0b24uZGF0YSgiYnV0dG9uRWxlbWVudHMiKS50ZXh0KVtiLmh0bWwoKT8iaHRtbCI6InRleHQiXShiLmh0bWwoKXx8Yi52YWwoKSl9fSksYShjKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUuYnV0dG9uLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0LCEwKX0pfShhKSxmdW5jdGlvbihhLGIpe2EuZm4uY29udHJvbGdyb3VwPWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoYSxiKXthLnJlbW92ZUNsYXNzKCJ1aS1idG4tY29ybmVyLWFsbCB1aS1jb3JuZXItdG9wIHVpLWNvcm5lci1ib3R0b20gdWktY29ybmVyLWxlZnQgdWktY29ybmVyLXJpZ2h0IHVpLWNvbnRyb2xncm91cC1sYXN0IHVpLXNoYWRvdyIpLmVxKDApLmFkZENsYXNzKGJbMF0pLmVuZCgpLmxhc3QoKS5hZGRDbGFzcyhiWzFdKS5hZGRDbGFzcygidWktY29udHJvbGdyb3VwLWxhc3QiKX1yZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKSxlPWEuZXh0ZW5kKHtkaXJlY3Rpb246ZC5qcW1EYXRhKCJ0eXBlIil8fCJ2ZXJ0aWNhbCIsc2hhZG93OiExLGV4Y2x1ZGVJbnZpc2libGU6ITAsbWluaTpkLmpxbURhdGEoIm1pbmkiKX0sYiksZj1kLmNoaWxkcmVuKCJsZWdlbmQiKSxnPWQuY2hpbGRyZW4oIi51aS1jb250cm9sZ3JvdXAtbGFiZWwiKSxoPWQuY2hpbGRyZW4oIi51aS1jb250cm9sZ3JvdXAtY29udHJvbHMiKSxpPWUuZGlyZWN0aW9uPT09Imhvcml6b250YWwiP1sidWktY29ybmVyLWxlZnQiLCJ1aS1jb3JuZXItcmlnaHQiXTpbInVpLWNvcm5lci10b3AiLCJ1aS1jb3JuZXItYm90dG9tIl0saj1kLmZpbmQoImlucHV0IikuZmlyc3QoKS5hdHRyKCJ0eXBlIik7aC5sZW5ndGgmJmguY29udGVudHMoKS51bndyYXAoKSxkLndyYXBJbm5lcigiPGRpdiBjbGFzcz0ndWktY29udHJvbGdyb3VwLWNvbnRyb2xzJz48L2Rpdj4iKSxmLmxlbmd0aD8oYSgiPGRpdiByb2xlPSdoZWFkaW5nJyBjbGFzcz0ndWktY29udHJvbGdyb3VwLWxhYmVsJz4iK2YuaHRtbCgpKyI8L2Rpdj4iKS5pbnNlcnRCZWZvcmUoZC5jaGlsZHJlbigwKSksZi5yZW1vdmUoKSk6Zy5sZW5ndGgmJmQucHJlcGVuZChnKSxkLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIHVpLWNvbnRyb2xncm91cCB1aS1jb250cm9sZ3JvdXAtIitlLmRpcmVjdGlvbiksYyhkLmZpbmQoIi51aS1idG4iKyhlLmV4Y2x1ZGVJbnZpc2libGU/Ijp2aXNpYmxlIjoiIikpLm5vdCgiLnVpLXNsaWRlci1oYW5kbGUiKSxpKSxjKGQuZmluZCgiLnVpLWJ0bi1pbm5lciIpLGkpLGUuc2hhZG93JiZkLmFkZENsYXNzKCJ1aS1zaGFkb3ciKSxlLm1pbmkmJmQuYWRkQ2xhc3MoInVpLW1pbmkiKX0pfX0oYSksZnVuY3Rpb24oYSxiKXthKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5maW5kKCJhIikuanFtRW5oYW5jZWFibGUoKS5ub3QoIi51aS1idG4sIC51aS1saW5rLWluaGVyaXQsIDpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIikuYWRkQ2xhc3MoInVpLWxpbmsiKX0pfShhKSxmdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGUoYSxiLGMsZCl7dmFyIGU9ZDtyZXR1cm4gYTxiP2U9YysoYS1iKS8yOmU9TWF0aC5taW4oTWF0aC5tYXgoYyxkLWIvMiksYythLWIpLGV9ZnVuY3Rpb24gZigpe3ZhciBjPWEoYik7cmV0dXJue3g6Yy5zY3JvbGxMZWZ0KCkseTpjLnNjcm9sbFRvcCgpLGN4OmIuaW5uZXJXaWR0aHx8Yy53aWR0aCgpLGN5OmIuaW5uZXJIZWlnaHR8fGMuaGVpZ2h0KCl9fWEud2lkZ2V0KCJtb2JpbGUucG9wdXAiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxvdmVybGF5VGhlbWU6bnVsbCxzaGFkb3c6ITAsY29ybmVyczohMCx0cmFuc2l0aW9uOiJub25lIixwb3NpdGlvblRvOiJvcmlnaW4iLHRvbGVyYW5jZTpudWxsLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0ncG9wdXAnKSIsY2xvc2VMaW5rU2VsZWN0b3I6ImE6anFtRGF0YShyZWw9J2JhY2snKSIsY2xvc2VMaW5rRXZlbnRzOiJjbGljay5wb3B1cCIsbmF2aWdhdGVFdmVudHM6Im5hdmlnYXRlLnBvcHVwIixjbG9zZUV2ZW50czoibmF2aWdhdGUucG9wdXAgcGFnZWJlZm9yZWNoYW5nZS5wb3B1cCIsaGlzdG9yeTohYS5tb2JpbGUuYnJvd3Nlci5pZX0sX2VhdEV2ZW50QW5kQ2xvc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHRoaXMuY2xvc2UoKSwhMX0sX3Jlc2l6ZVNjcmVlbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX3VpLmNvbnRhaW5lci5vdXRlckhlaWdodCghMCk7dGhpcy5fdWkuc2NyZWVuLnJlbW92ZUF0dHIoInN0eWxlIiksYT50aGlzLl91aS5zY3JlZW4uaGVpZ2h0KCkmJnRoaXMuX3VpLnNjcmVlbi5oZWlnaHQoYSl9LF9oYW5kbGVXaW5kb3dLZXlVcDpmdW5jdGlvbihiKXtpZih0aGlzLl9pc09wZW4mJmIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuRVNDQVBFKXJldHVybiB0aGlzLl9lYXRFdmVudEFuZENsb3NlKGIpfSxfbWF5YmVSZWZyZXNoVGltZW91dDpmdW5jdGlvbigpe3ZhciBiPWYoKTtpZih0aGlzLl9yZXNpemVEYXRhKXtpZihiLng9PT10aGlzLl9yZXNpemVEYXRhLndpbkNvb3Jkcy54JiZiLnk9PT10aGlzLl9yZXNpemVEYXRhLndpbkNvb3Jkcy55JiZiLmN4PT09dGhpcy5fcmVzaXplRGF0YS53aW5Db29yZHMuY3gmJmIuY3k9PT10aGlzLl9yZXNpemVEYXRhLndpbkNvb3Jkcy5jeSlyZXR1cm4hMTtjbGVhclRpbWVvdXQodGhpcy5fcmVzaXplRGF0YS50aW1lb3V0SWQpfXJldHVybiB0aGlzLl9yZXNpemVEYXRhPXt0aW1lb3V0SWQ6c2V0VGltZW91dChhLnByb3h5KHRoaXMsIl9yZXNpemVUaW1lb3V0IiksMjAwKSx3aW5Db29yZHM6Yn0sITB9LF9yZXNpemVUaW1lb3V0OmZ1bmN0aW9uKCl7dGhpcy5fbWF5YmVSZWZyZXNoVGltZW91dCgpfHwodGhpcy5fdHJpZ2dlcigiYmVmb3JlcG9zaXRpb24iKSx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLXNlbGVjdG1lbnUtaGlkZGVuIikub2Zmc2V0KHRoaXMuX3BsYWNlbWVudENvb3Jkcyh0aGlzLl9kZXNpcmVkQ29vcmRzKGQsZCwid2luZG93IikpKSx0aGlzLl9yZXNpemVTY3JlZW4oKSx0aGlzLl9yZXNpemVEYXRhPW51bGwsdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzPSExKX0sX2hhbmRsZVdpbmRvd1Jlc2l6ZTpmdW5jdGlvbihhKXt0aGlzLl9pc09wZW4mJnRoaXMuX21heWJlUmVmcmVzaFRpbWVvdXQoKX0sX2hhbmRsZVdpbmRvd09yaWVudGF0aW9uY2hhbmdlOmZ1bmN0aW9uKGEpe3RoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzc3x8KHRoaXMuX3VpLmNvbnRhaW5lci5hZGRDbGFzcygidWktc2VsZWN0bWVudS1oaWRkZW4iKS5yZW1vdmVBdHRyKCJzdHlsZSIpLHRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcz0hMCl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYz17c2NyZWVuOmEoIjxkaXYgY2xhc3M9J3VpLXNjcmVlbi1oaWRkZW4gdWktcG9wdXAtc2NyZWVuJz48L2Rpdj4iKSxwbGFjZWhvbGRlcjphKCI8ZGl2IHN0eWxlPSdkaXNwbGF5OiBub25lOyc+PCEtLSBwbGFjZWhvbGRlciAtLT48L2Rpdj4iKSxjb250YWluZXI6YSgiPGRpdiBjbGFzcz0ndWktcG9wdXAtY29udGFpbmVyIHVpLXNlbGVjdG1lbnUtaGlkZGVuJz48L2Rpdj4iKX0sZT10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKSxmPXRoaXMuZWxlbWVudC5hdHRyKCJpZCIpLGc9dGhpczt0aGlzLm9wdGlvbnMuaGlzdG9yeT10aGlzLm9wdGlvbnMuaGlzdG9yeSYmYS5tb2JpbGUuYWpheEVuYWJsZWQmJmEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkLGUubGVuZ3RoPT09MCYmKGU9YSgiYm9keSIpKSx0aGlzLm9wdGlvbnMuY29udGFpbmVyPXRoaXMub3B0aW9ucy5jb250YWluZXJ8fGEubW9iaWxlLnBhZ2VDb250YWluZXIsZS5hcHBlbmQoYy5zY3JlZW4pLGMuY29udGFpbmVyLmluc2VydEFmdGVyKGMuc2NyZWVuKSxjLnBsYWNlaG9sZGVyLmluc2VydEFmdGVyKHRoaXMuZWxlbWVudCksZiYmKGMuc2NyZWVuLmF0dHIoImlkIixmKyItc2NyZWVuIiksYy5jb250YWluZXIuYXR0cigiaWQiLGYrIi1wb3B1cCIpLGMucGxhY2Vob2xkZXIuaHRtbCgiPCEtLSBwbGFjZWhvbGRlciBmb3IgIitmKyIgLS0+IikpLGMuY29udGFpbmVyLmFwcGVuZCh0aGlzLmVsZW1lbnQpLHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktcG9wdXAiKSxhLmV4dGVuZCh0aGlzLHtfcGFnZTplLF91aTpjLF9mYWxsYmFja1RyYW5zaXRpb246IiIsX2N1cnJlbnRUcmFuc2l0aW9uOiExLF9wcmVyZXFzOm51bGwsX2lzT3BlbjohMSxfdG9sZXJhbmNlOm51bGwsX3Jlc2l6ZURhdGE6bnVsbCxfb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzOiExLF9nbG9iYWxIYW5kbGVyczpbe3NyYzphKGIpLGhhbmRsZXI6e29yaWVudGF0aW9uY2hhbmdlOmEucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd09yaWVudGF0aW9uY2hhbmdlIikscmVzaXplOmEucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd1Jlc2l6ZSIpLGtleXVwOmEucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd0tleVVwIil9fV19KSxhLmVhY2godGhpcy5vcHRpb25zLGZ1bmN0aW9uKGEsYil7Zy5vcHRpb25zW2FdPWQsZy5fc2V0T3B0aW9uKGEsYiwhMCl9KSxjLnNjcmVlbi5iaW5kKCJ2Y2xpY2siLGEucHJveHkodGhpcywiX2VhdEV2ZW50QW5kQ2xvc2UiKSksYS5lYWNoKHRoaXMuX2dsb2JhbEhhbmRsZXJzLGZ1bmN0aW9uKGEsYil7Yi5zcmMuYmluZChiLmhhbmRsZXIpfSl9LF9hcHBseVRoZW1lOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD0oYS5hdHRyKCJjbGFzcyIpfHwiIikuc3BsaXQoIiAiKSxlPSEwLGY9bnVsbCxnLGg9U3RyaW5nKGIpO3doaWxlKGQubGVuZ3RoPjApe2Y9ZC5wb3AoKSxnPShuZXcgUmVnRXhwKCJedWktIitjKyItKFthLXpdKSQiKSkuZXhlYyhmKTtpZihnJiZnLmxlbmd0aD4xKXtmPWdbMV07YnJlYWt9Zj1udWxsfWIhPT1mJiYoYS5yZW1vdmVDbGFzcygidWktIitjKyItIitmKSxiIT09bnVsbCYmYiE9PSJub25lIiYmYS5hZGRDbGFzcygidWktIitjKyItIitoKSl9LF9zZXRUaGVtZTpmdW5jdGlvbihhKXt0aGlzLl9hcHBseVRoZW1lKHRoaXMuZWxlbWVudCxhLCJib2R5Iil9LF9zZXRPdmVybGF5VGhlbWU6ZnVuY3Rpb24oYSl7dGhpcy5fYXBwbHlUaGVtZSh0aGlzLl91aS5zY3JlZW4sYSwib3ZlcmxheSIpLHRoaXMuX2lzT3BlbiYmdGhpcy5fdWkuc2NyZWVuLmFkZENsYXNzKCJpbiIpfSxfc2V0U2hhZG93OmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktb3ZlcmxheS1zaGFkb3ciLGEpfSxfc2V0Q29ybmVyczpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGEpfSxfYXBwbHlUcmFuc2l0aW9uOmZ1bmN0aW9uKGIpe3RoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcyh0aGlzLl9mYWxsYmFja1RyYW5zaXRpb24pLGImJmIhPT0ibm9uZSImJih0aGlzLl9mYWxsYmFja1RyYW5zaXRpb249YS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb24oYiksdGhpcy5fdWkuY29udGFpbmVyLmFkZENsYXNzKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbikpfSxfc2V0VHJhbnNpdGlvbjpmdW5jdGlvbihhKXt0aGlzLl9jdXJyZW50VHJhbnNpdGlvbnx8dGhpcy5fYXBwbHlUcmFuc2l0aW9uKGEpfSxfc2V0VG9sZXJhbmNlOmZ1bmN0aW9uKGIpe3ZhciBjPXt0OjMwLHI6MTUsYjozMCxsOjE1fTtpZihiKXt2YXIgZD1TdHJpbmcoYikuc3BsaXQoIiwiKTthLmVhY2goZCxmdW5jdGlvbihhLGIpe2RbYV09cGFyc2VJbnQoYiwxMCl9KTtzd2l0Y2goZC5sZW5ndGgpe2Nhc2UgMTppc05hTihkWzBdKXx8KGMudD1jLnI9Yy5iPWMubD1kWzBdKTticmVhaztjYXNlIDI6aXNOYU4oZFswXSl8fChjLnQ9Yy5iPWRbMF0pLGlzTmFOKGRbMV0pfHwoYy5sPWMucj1kWzFdKTticmVhaztjYXNlIDQ6aXNOYU4oZFswXSl8fChjLnQ9ZFswXSksaXNOYU4oZFsxXSl8fChjLnI9ZFsxXSksaXNOYU4oZFsyXSl8fChjLmI9ZFsyXSksaXNOYU4oZFszXSl8fChjLmw9ZFszXSk7YnJlYWs7ZGVmYXVsdDp9fXRoaXMuX3RvbGVyYW5jZT1jfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGIsYyl7dmFyIGUsZj0iX3NldCIrYi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStiLnNsaWNlKDEpO3RoaXNbZl0hPT1kJiZ0aGlzW2ZdKGMpLGU9WyJpbml0U2VsZWN0b3IiLCJjbG9zZUxpbmtTZWxlY3RvciIsImNsb3NlTGlua0V2ZW50cyIsIm5hdmlnYXRlRXZlbnRzIiwiY2xvc2VFdmVudHMiLCJoaXN0b3J5IiwiY29udGFpbmVyIl0sYS5tb2JpbGUud2lkZ2V0LnByb3RvdHlwZS5fc2V0T3B0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxhLmluQXJyYXkoYixlKT09PS0xJiZ0aGlzLmVsZW1lbnQuYXR0cigiZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpK2IucmVwbGFjZSgvKFtBLVpdKS8sIi0kMSIpLnRvTG93ZXJDYXNlKCksYyl9LF9wbGFjZW1lbnRDb29yZHM6ZnVuY3Rpb24oYSl7dmFyIGI9ZigpLGQ9e3g6dGhpcy5fdG9sZXJhbmNlLmwseTpiLnkrdGhpcy5fdG9sZXJhbmNlLnQsY3g6Yi5jeC10aGlzLl90b2xlcmFuY2UubC10aGlzLl90b2xlcmFuY2UucixjeTpiLmN5LXRoaXMuX3RvbGVyYW5jZS50LXRoaXMuX3RvbGVyYW5jZS5ifSxnLGg7dGhpcy5fdWkuY29udGFpbmVyLmNzcygibWF4LXdpZHRoIixkLmN4KSxnPXtjeDp0aGlzLl91aS5jb250YWluZXIub3V0ZXJXaWR0aCghMCksY3k6dGhpcy5fdWkuY29udGFpbmVyLm91dGVySGVpZ2h0KCEwKX0saD17eDplKGQuY3gsZy5jeCxkLngsYS54KSx5OmUoZC5jeSxnLmN5LGQueSxhLnkpfSxoLnk9TWF0aC5tYXgoMCxoLnkpO3ZhciBpPWMuZG9jdW1lbnRFbGVtZW50LGo9Yy5ib2R5LGs9TWF0aC5tYXgoaS5jbGllbnRIZWlnaHQsai5zY3JvbGxIZWlnaHQsai5vZmZzZXRIZWlnaHQsaS5zY3JvbGxIZWlnaHQsaS5vZmZzZXRIZWlnaHQpO3JldHVybiBoLnktPU1hdGgubWluKGgueSxNYXRoLm1heCgwLGgueStnLmN5LWspKSx7bGVmdDpoLngsdG9wOmgueX19LF9jcmVhdGVQcmVyZXFzOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT10aGlzLGY7Zj17c2NyZWVuOmEuRGVmZXJyZWQoKSxjb250YWluZXI6YS5EZWZlcnJlZCgpfSxmLnNjcmVlbi50aGVuKGZ1bmN0aW9uKCl7Zj09PWUuX3ByZXJlcXMmJmIoKX0pLGYuY29udGFpbmVyLnRoZW4oZnVuY3Rpb24oKXtmPT09ZS5fcHJlcmVxcyYmYygpfSksYS53aGVuKGYuc2NyZWVuLGYuY29udGFpbmVyKS5kb25lKGZ1bmN0aW9uKCl7Zj09PWUuX3ByZXJlcXMmJihlLl9wcmVyZXFzPW51bGwsZCgpKX0pLGUuX3ByZXJlcXM9Zn0sX2FuaW1hdGU6ZnVuY3Rpb24oYil7dGhpcy5fdWkuc2NyZWVuLnJlbW92ZUNsYXNzKGIuY2xhc3NUb1JlbW92ZSkuYWRkQ2xhc3MoYi5zY3JlZW5DbGFzc1RvQWRkKSxiLnByZXJlcXMuc2NyZWVuLnJlc29sdmUoKSxiLnRyYW5zaXRpb24mJmIudHJhbnNpdGlvbiE9PSJub25lIj8oYi5hcHBseVRyYW5zaXRpb24mJnRoaXMuX2FwcGx5VHJhbnNpdGlvbihiLnRyYW5zaXRpb24pLHRoaXMuX3VpLmNvbnRhaW5lci5hbmltYXRpb25Db21wbGV0ZShhLnByb3h5KGIucHJlcmVxcy5jb250YWluZXIsInJlc29sdmUiKSkuYWRkQ2xhc3MoYi5jb250YWluZXJDbGFzc1RvQWRkKS5yZW1vdmVDbGFzcyhiLmNsYXNzVG9SZW1vdmUpKTpiLnByZXJlcXMuY29udGFpbmVyLnJlc29sdmUoKX0sX2Rlc2lyZWRDb29yZHM6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPW51bGwsZyxoPWYoKTtpZihkJiZkIT09Im9yaWdpbiIpaWYoZD09PSJ3aW5kb3ciKWI9aC5jeC8yK2gueCxjPWguY3kvMitoLnk7ZWxzZXt0cnl7ZT1hKGQpfWNhdGNoKGkpe2U9bnVsbH1lJiYoZS5maWx0ZXIoIjp2aXNpYmxlIiksZS5sZW5ndGg9PT0wJiYoZT1udWxsKSl9ZSYmKGc9ZS5vZmZzZXQoKSxiPWcubGVmdCtlLm91dGVyV2lkdGgoKS8yLGM9Zy50b3ArZS5vdXRlckhlaWdodCgpLzIpO2lmKGEudHlwZShiKSE9PSJudW1iZXIifHxpc05hTihiKSliPWguY3gvMitoLng7aWYoYS50eXBlKGMpIT09Im51bWJlciJ8fGlzTmFOKGMpKWM9aC5jeS8yK2gueTtyZXR1cm57eDpiLHk6Y319LF9vcGVuUHJlcmVxc0NvbXBsZXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLl91aS5jb250YWluZXIuYWRkQ2xhc3MoInVpLXBvcHVwLWFjdGl2ZSIpLGEuX2lzT3Blbj0hMCxhLl9yZXNpemVTY3JlZW4oKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5fdWkuY29udGFpbmVyLmF0dHIoInRhYmluZGV4IiwiMCIpLmZvY3VzKCksYS5fdHJpZ2dlcigiYWZ0ZXJvcGVuIil9KX0sX29wZW46ZnVuY3Rpb24oYyl7dmFyIGQsZSxmPWZ1bmN0aW9uKCl7dmFyIGE9YixjPW5hdmlnYXRvci51c2VyQWdlbnQsZD1jLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTlcLl0rKS8pLGU9ISFkJiZkWzFdLGY9Yy5tYXRjaCgvQW5kcm9pZCAoXGQrKD86XC5cZCspKS8pLGc9ISFmJiZmWzFdLGg9Yy5pbmRleE9mKCJDaHJvbWUiKT4tMTtyZXR1cm4gZiE9PW51bGwmJmc9PT0iNC4wIiYmZSYmZT41MzQuMTMmJiFoPyEwOiExfSgpO2M9Y3x8e30sZT1jLnRyYW5zaXRpb258fHRoaXMub3B0aW9ucy50cmFuc2l0aW9uLHRoaXMuX3RyaWdnZXIoImJlZm9yZXBvc2l0aW9uIiksZD10aGlzLl9wbGFjZW1lbnRDb29yZHModGhpcy5fZGVzaXJlZENvb3JkcyhjLngsYy55LGMucG9zaXRpb25Ub3x8dGhpcy5vcHRpb25zLnBvc2l0aW9uVG98fCJvcmlnaW4iKSksdGhpcy5fY3JlYXRlUHJlcmVxcyhhLm5vb3AsYS5ub29wLGEucHJveHkodGhpcywiX29wZW5QcmVyZXFzQ29tcGxldGUiKSksZT8odGhpcy5fY3VycmVudFRyYW5zaXRpb249ZSx0aGlzLl9hcHBseVRyYW5zaXRpb24oZSkpOmU9dGhpcy5vcHRpb25zLnRyYW5zaXRpb24sdGhpcy5vcHRpb25zLnRoZW1lfHx0aGlzLl9zZXRUaGVtZSh0aGlzLl9wYWdlLmpxbURhdGEoInRoZW1lIil8fGEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuX3BhZ2UsImMiKSksdGhpcy5fdWkuc2NyZWVuLnJlbW92ZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiksdGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJ1aS1zZWxlY3RtZW51LWhpZGRlbiIpLm9mZnNldChkKSx0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lJiZmJiZ0aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKS5hZGRDbGFzcygidWktcG9wdXAtb3BlbiIpLHRoaXMuX2FuaW1hdGUoe2FkZGl0aW9uYWxDb25kaXRpb246ITAsdHJhbnNpdGlvbjplLGNsYXNzVG9SZW1vdmU6IiIsc2NyZWVuQ2xhc3NUb0FkZDoiaW4iLGNvbnRhaW5lckNsYXNzVG9BZGQ6ImluIixhcHBseVRyYW5zaXRpb246ITEscHJlcmVxczp0aGlzLl9wcmVyZXFzfSl9LF9jbG9zZVByZXJlcVNjcmVlbjpmdW5jdGlvbigpe3RoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcygib3V0IikuYWRkQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKX0sX2Nsb3NlUHJlcmVxQ29udGFpbmVyOmZ1bmN0aW9uKCl7dGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJyZXZlcnNlIG91dCIpLmFkZENsYXNzKCJ1aS1zZWxlY3RtZW51LWhpZGRlbiIpLnJlbW92ZUF0dHIoInN0eWxlIil9LF9jbG9zZVByZXJlcXNEb25lOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWIub3B0aW9ucztiLl91aS5jb250YWluZXIucmVtb3ZlQXR0cigidGFiaW5kZXgiKSxjLmNvbnRhaW5lci51bmJpbmQoYy5jbG9zZUV2ZW50cyksYi5lbGVtZW50LnVuZGVsZWdhdGUoYy5jbG9zZUxpbmtTZWxlY3RvcixjLmNsb3NlTGlua0V2ZW50cyksYS5tb2JpbGUucG9wdXAuYWN0aXZlPWQsYi5fdHJpZ2dlcigiYWZ0ZXJjbG9zZSIpfSxfY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLWFjdGl2ZSIpLHRoaXMuX3BhZ2UucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLW9wZW4iKSx0aGlzLl9pc09wZW49ITEsdGhpcy5fY3JlYXRlUHJlcmVxcyhhLnByb3h5KHRoaXMsIl9jbG9zZVByZXJlcVNjcmVlbiIpLGEucHJveHkodGhpcywiX2Nsb3NlUHJlcmVxQ29udGFpbmVyIiksYS5wcm94eSh0aGlzLCJfY2xvc2VQcmVyZXFzRG9uZSIpKSx0aGlzLl9hbmltYXRlKHthZGRpdGlvbmFsQ29uZGl0aW9uOnRoaXMuX3VpLnNjcmVlbi5oYXNDbGFzcygiaW4iKSx0cmFuc2l0aW9uOnRoaXMuX2N1cnJlbnRUcmFuc2l0aW9ufHx0aGlzLm9wdGlvbnMudHJhbnNpdGlvbixjbGFzc1RvUmVtb3ZlOiJpbiIsc2NyZWVuQ2xhc3NUb0FkZDoib3V0Iixjb250YWluZXJDbGFzc1RvQWRkOiJyZXZlcnNlIG91dCIsYXBwbHlUcmFuc2l0aW9uOiEwLHByZXJlcXM6dGhpcy5fcHJlcmVxc30pfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBiPXRoaXM7Yi5fY2xvc2UoKSxiLl9zZXRUaGVtZSgibm9uZSIpLGIuZWxlbWVudC5pbnNlcnRBZnRlcihiLl91aS5wbGFjZWhvbGRlcikucmVtb3ZlQ2xhc3MoInVpLXBvcHVwIHVpLW92ZXJsYXktc2hhZG93IHVpLWNvcm5lci1hbGwiKSxiLl91aS5zY3JlZW4ucmVtb3ZlKCksYi5fdWkuY29udGFpbmVyLnJlbW92ZSgpLGIuX3VpLnBsYWNlaG9sZGVyLnJlbW92ZSgpLGEuZWFjaChiLl9nbG9iYWxIYW5kbGVycyxmdW5jdGlvbihiLGMpe2EuZWFjaChjLmhhbmRsZXIsZnVuY3Rpb24oYSxiKXtjLnNyYy51bmJpbmQoYSxiKX0pfSl9LF9iaW5kQ29udGFpbmVyQ2xvc2U6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO2Iub3B0aW9ucy5jb250YWluZXIub25lKGIub3B0aW9ucy5jbG9zZUV2ZW50cyxhLnByb3h5KGIuX2Nsb3NlLGIpKX0sb3BlbjpmdW5jdGlvbihiKXt2YXIgYz10aGlzLGU9dGhpcy5vcHRpb25zLGYsZyxoLGksaixrO2lmKGEubW9iaWxlLnBvcHVwLmFjdGl2ZSlyZXR1cm47YS5tb2JpbGUucG9wdXAuYWN0aXZlPXRoaXM7aWYoIWUuaGlzdG9yeSl7Yy5fb3BlbihiKSxjLl9iaW5kQ29udGFpbmVyQ2xvc2UoKSxjLmVsZW1lbnQuZGVsZWdhdGUoZS5jbG9zZUxpbmtTZWxlY3RvcixlLmNsb3NlTGlua0V2ZW50cyxmdW5jdGlvbihhKXtyZXR1cm4gYy5fY2xvc2UoKSwhMX0pO3JldHVybn1nPWEubW9iaWxlLmRpYWxvZ0hhc2hLZXksaD1hLm1vYmlsZS5hY3RpdmVQYWdlLGk9aC5pcygiLnVpLWRpYWxvZyIpLGY9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKS51cmwsaj1mLmluZGV4T2YoZyk+LTEmJiFpLGs9YS5tb2JpbGUudXJsSGlzdG9yeTtpZihqKXtjLl9vcGVuKGIpLGMuX2JpbmRDb250YWluZXJDbG9zZSgpO3JldHVybn1mLmluZGV4T2YoZyk9PT0tMSYmIWk/Zj1mK2c6Zj1hLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKS5oYXNoK2csay5hY3RpdmVJbmRleD09PTAmJmY9PT1rLmluaXRpYWxEc3QmJihmKz1nKSxlLmNvbnRhaW5lci5vbmUoZS5uYXZpZ2F0ZUV2ZW50cyxmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksYy5fb3BlbihiKSxjLl9iaW5kQ29udGFpbmVyQ2xvc2UoKX0pLGsuaWdub3JlTmV4dEhhc2hDaGFuZ2U9aSxrLmFkZE5ldyhmLGQsZCxkLCJkaWFsb2ciKSxhLm1vYmlsZS5wYXRoLnNldChmKX0sY2xvc2U6ZnVuY3Rpb24oKXtpZighYS5tb2JpbGUucG9wdXAuYWN0aXZlKXJldHVybjt0aGlzLm9wdGlvbnMuaGlzdG9yeT9hLm1vYmlsZS5iYWNrKCk6dGhpcy5fY2xvc2UoKX19KSxhLm1vYmlsZS5wb3B1cC5oYW5kbGVMaW5rPWZ1bmN0aW9uKGIpe3ZhciBjPWIuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0ncGFnZScpIiksZD1jLmxlbmd0aD09PTA/YSgiYm9keSIpOmMsZT1hKGEubW9iaWxlLnBhdGgucGFyc2VVcmwoYi5hdHRyKCJocmVmIikpLmhhc2gsZFswXSksZjtlLmRhdGEoInBvcHVwIikmJihmPWIub2Zmc2V0KCksZS5wb3B1cCgib3BlbiIse3g6Zi5sZWZ0K2Iub3V0ZXJXaWR0aCgpLzIseTpmLnRvcCtiLm91dGVySGVpZ2h0KCkvMix0cmFuc2l0aW9uOmIuanFtRGF0YSgidHJhbnNpdGlvbiIpLHBvc2l0aW9uVG86Yi5qcW1EYXRhKCJwb3NpdGlvbi10byIpLGxpbms6Yn0pKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9LDMwMCl9LGEoYykuYmluZCgicGFnZWJlZm9yZWNoYW5nZSIsZnVuY3Rpb24oYixjKXtjLm9wdGlvbnMucm9sZT09PSJwb3B1cCImJihhLm1vYmlsZS5wb3B1cC5oYW5kbGVMaW5rKGMub3B0aW9ucy5saW5rKSxiLnByZXZlbnREZWZhdWx0KCkpfSksYShjKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUucG9wdXAucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQsITApfSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPWEoIm1ldGFbbmFtZT12aWV3cG9ydF0iKSxjPWIuYXR0cigiY29udGVudCIpLGQ9YysiLG1heGltdW0tc2NhbGU9MSwgdXNlci1zY2FsYWJsZT1ubyIsZT1jKyIsbWF4aW11bS1zY2FsZT0xMCwgdXNlci1zY2FsYWJsZT15ZXMiLGY9Lyh1c2VyLXNjYWxhYmxlW1xzXSo9W1xzXSpubyl8KG1heGltdW0tc2NhbGVbXHNdKj1bXHNdKjEpWyQsXHNdLy50ZXN0KGMpO2EubW9iaWxlLnpvb209YS5leHRlbmQoe30se2VuYWJsZWQ6IWYsbG9ja2VkOiExLGRpc2FibGU6ZnVuY3Rpb24oYyl7IWYmJiFhLm1vYmlsZS56b29tLmxvY2tlZCYmKGIuYXR0cigiY29udGVudCIsZCksYS5tb2JpbGUuem9vbS5lbmFibGVkPSExLGEubW9iaWxlLnpvb20ubG9ja2VkPWN8fCExKX0sZW5hYmxlOmZ1bmN0aW9uKGMpeyFmJiYoIWEubW9iaWxlLnpvb20ubG9ja2VkfHxjPT09ITApJiYoYi5hdHRyKCJjb250ZW50IixlKSxhLm1vYmlsZS56b29tLmVuYWJsZWQ9ITAsYS5tb2JpbGUuem9vbS5sb2NrZWQ9ITEpfSxyZXN0b3JlOmZ1bmN0aW9uKCl7Znx8KGIuYXR0cigiY29udGVudCIsYyksYS5tb2JpbGUuem9vbS5lbmFibGVkPSEwKX19KX0oYSksZnVuY3Rpb24oYSxkKXthLndpZGdldCgibW9iaWxlLnRleHRpbnB1dCIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLHByZXZlbnRGb2N1c1pvb206L2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ndGV4dCddLCBpbnB1dFt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJyksIGlucHV0W3R5cGU9J251bWJlciddLCA6anFtRGF0YSh0eXBlPSdudW1iZXInKSwgaW5wdXRbdHlwZT0ncGFzc3dvcmQnXSwgaW5wdXRbdHlwZT0nZW1haWwnXSwgaW5wdXRbdHlwZT0ndXJsJ10sIGlucHV0W3R5cGU9J3RlbCddLCB0ZXh0YXJlYSwgaW5wdXRbdHlwZT0ndGltZSddLCBpbnB1dFt0eXBlPSdkYXRlJ10sIGlucHV0W3R5cGU9J21vbnRoJ10sIGlucHV0W3R5cGU9J3dlZWsnXSwgaW5wdXRbdHlwZT0nZGF0ZXRpbWUnXSwgaW5wdXRbdHlwZT0nZGF0ZXRpbWUtbG9jYWwnXSwgaW5wdXRbdHlwZT0nY29sb3InXSwgaW5wdXQ6bm90KFt0eXBlXSkiLGNsZWFyU2VhcmNoQnV0dG9uVGV4dDoiY2xlYXIgdGV4dCIsZGlzYWJsZWQ6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBtKCl7c2V0VGltZW91dChmdW5jdGlvbigpe2wudG9nZ2xlQ2xhc3MoInVpLWlucHV0LWNsZWFyLWhpZGRlbiIsIWUudmFsKCkpfSwwKX12YXIgZD10aGlzLGU9dGhpcy5lbGVtZW50LGY9dGhpcy5vcHRpb25zLGc9Zi50aGVtZXx8YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIiksaD0iIHVpLWJvZHktIitnLGk9ZS5qcW1EYXRhKCJtaW5pIik9PT0hMCxqPWk/IiB1aS1taW5pIjoiIixrLGw7YSgibGFiZWxbZm9yPSciK2UuYXR0cigiaWQiKSsiJ10iKS5hZGRDbGFzcygidWktaW5wdXQtdGV4dCIpLGs9ZS5hZGRDbGFzcygidWktaW5wdXQtdGV4dCB1aS1ib2R5LSIrZyksdHlwZW9mIGVbMF0uYXV0b2NvcnJlY3QhPSJ1bmRlZmluZWQiJiYhYS5zdXBwb3J0LnRvdWNoT3ZlcmZsb3cmJihlWzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvcnJlY3QiLCJvZmYiKSxlWzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvbXBsZXRlIiwib2ZmIikpLGUuaXMoIlt0eXBlPSdzZWFyY2gnXSw6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIpPyhrPWUud3JhcCgiPGRpdiBjbGFzcz0ndWktaW5wdXQtc2VhcmNoIHVpLXNoYWRvdy1pbnNldCB1aS1idG4tY29ybmVyLWFsbCB1aS1idG4tc2hhZG93IHVpLWljb24tc2VhcmNoZmllbGQiK2graisiJz48L2Rpdj4iKS5wYXJlbnQoKSxsPWEoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1pbnB1dC1jbGVhcicgdGl0bGU9JyIrZi5jbGVhclNlYXJjaEJ1dHRvblRleHQrIic+IitmLmNsZWFyU2VhcmNoQnV0dG9uVGV4dCsiPC9hPiIpLmJpbmQoImNsaWNrIixmdW5jdGlvbihhKXtlLnZhbCgiIikuZm9jdXMoKS50cmlnZ2VyKCJjaGFuZ2UiKSxsLmFkZENsYXNzKCJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iKSxhLnByZXZlbnREZWZhdWx0KCl9KS5hcHBlbmRUbyhrKS5idXR0b25NYXJrdXAoe2ljb246ImRlbGV0ZSIsaWNvbnBvczoibm90ZXh0Iixjb3JuZXJzOiEwLHNoYWRvdzohMCxtaW5pOml9KSxtKCksZS5iaW5kKCJwYXN0ZSBjdXQga2V5dXAgZm9jdXMgY2hhbmdlIGJsdXIiLG0pKTplLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIHVpLXNoYWRvdy1pbnNldCIraCtqKSxlLmZvY3VzKGZ1bmN0aW9uKCl7ay5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJsdXIoZnVuY3Rpb24oKXtrLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSkuYmluZCgiZm9jdXMiLGZ1bmN0aW9uKCl7Zi5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApfSkuYmluZCgiYmx1ciIsZnVuY3Rpb24oKXtmLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0pO2lmKGUuaXMoInRleHRhcmVhIikpe3ZhciBuPTE1LG89MTAwLHA7dGhpcy5fa2V5dXA9ZnVuY3Rpb24oKXt2YXIgYT1lWzBdLnNjcm9sbEhlaWdodCxiPWVbMF0uY2xpZW50SGVpZ2h0O2I8YSYmZS5oZWlnaHQoYStuKX0sZS5rZXl1cChmdW5jdGlvbigpe2NsZWFyVGltZW91dChwKSxwPXNldFRpbWVvdXQoZC5fa2V5dXAsbyl9KSx0aGlzLl9vbihhKGMpLHtwYWdlY2hhbmdlOiJfa2V5dXAifSksYS50cmltKGUudmFsKCkpJiZ0aGlzLl9vbihhKGIpLHtsb2FkOiJfa2V5dXAifSl9ZS5hdHRyKCJkaXNhYmxlZCIpJiZ0aGlzLmRpc2FibGUoKX0sZGlzYWJsZTpmdW5jdGlvbigpe3ZhciBhO3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCEwKS5pcygiW3R5cGU9J3NlYXJjaCddLCA6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIpP2E9dGhpcy5lbGVtZW50LnBhcmVudCgpOmE9dGhpcy5lbGVtZW50LGEuYWRkQ2xhc3MoInVpLWRpc2FibGVkIiksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfSxlbmFibGU6ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMSkuaXMoIlt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKT9hPXRoaXMuZWxlbWVudC5wYXJlbnQoKTphPXRoaXMuZWxlbWVudCxhLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX19KSxhKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS50ZXh0aW5wdXQucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQsITApfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyPSExLGEubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlclBsYWNlaG9sZGVyPSJGaWx0ZXIgaXRlbXMuLi4iLGEubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlclRoZW1lPSJjIjt2YXIgZD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGEudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoYik9PT0tMX07YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2s9ZCxhKGMpLmRlbGVnYXRlKCI6anFtRGF0YShyb2xlPSdsaXN0dmlldycpIiwibGlzdHZpZXdjcmVhdGUiLGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxjPWIuZGF0YSgibGlzdHZpZXciKTtpZighYy5vcHRpb25zLmZpbHRlcilyZXR1cm47dmFyIGU9YSgiPGZvcm0+Iix7ImNsYXNzIjoidWktbGlzdHZpZXctZmlsdGVyIHVpLWJhci0iK2Mub3B0aW9ucy5maWx0ZXJUaGVtZSxyb2xlOiJzZWFyY2gifSksZj1hKCI8aW5wdXQ+Iix7cGxhY2Vob2xkZXI6Yy5vcHRpb25zLmZpbHRlclBsYWNlaG9sZGVyfSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0eXBlIiwic2VhcmNoIikuanFtRGF0YSgibGFzdHZhbCIsIiIpLmJpbmQoImtleXVwIGNoYW5nZSIsZnVuY3Rpb24oKXt2YXIgZT1hKHRoaXMpLGY9dGhpcy52YWx1ZS50b0xvd2VyQ2FzZSgpLGc9bnVsbCxoPWUuanFtRGF0YSgibGFzdHZhbCIpKyIiLGk9ITEsaj0iIixrLGw9Yy5vcHRpb25zLmZpbHRlckNhbGxiYWNrIT09ZDtjLl90cmlnZ2VyKCJiZWZvcmVmaWx0ZXIiLCJiZWZvcmVmaWx0ZXIiLHtpbnB1dDp0aGlzfSksZS5qcW1EYXRhKCJsYXN0dmFsIixmKSxsfHxmLmxlbmd0aDxoLmxlbmd0aHx8Zi5pbmRleE9mKGgpIT09MD9nPWIuY2hpbGRyZW4oKTpnPWIuY2hpbGRyZW4oIjpub3QoLnVpLXNjcmVlbi1oaWRkZW4pIik7aWYoZil7Zm9yKHZhciBtPWcubGVuZ3RoLTE7bT49MDttLS0paz1hKGdbbV0pLGo9ay5qcW1EYXRhKCJmaWx0ZXJ0ZXh0Iil8fGsudGV4dCgpLGsuaXMoImxpOmpxbURhdGEocm9sZT1saXN0LWRpdmlkZXIpIik/KGsudG9nZ2xlQ2xhc3MoInVpLWZpbHRlci1oaWRlcXVldWUiLCFpKSxpPSExKTpjLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2soaixmLGspP2sudG9nZ2xlQ2xhc3MoInVpLWZpbHRlci1oaWRlcXVldWUiLCEwKTppPSEwO2cuZmlsdGVyKCI6bm90KC51aS1maWx0ZXItaGlkZXF1ZXVlKSIpLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiwhMSksZy5maWx0ZXIoIi51aS1maWx0ZXItaGlkZXF1ZXVlIikudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLCEwKS50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsITEpfWVsc2UgZy50b2dnbGVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIsITEpO2MuX3JlZnJlc2hDb3JuZXJzKCl9KS5hcHBlbmRUbyhlKS50ZXh0aW5wdXQoKTtjLm9wdGlvbnMuaW5zZXQmJmUuYWRkQ2xhc3MoInVpLWxpc3R2aWV3LWZpbHRlci1pbnNldCIpLGUuYmluZCgic3VibWl0IixmdW5jdGlvbigpe3JldHVybiExfSkuaW5zZXJ0QmVmb3JlKGIpfSl9KGEpLGZ1bmN0aW9uKGEsZCl7YS53aWRnZXQoIm1vYmlsZS5zbGlkZXIiLGEubW9iaWxlLndpZGdldCx7d2lkZ2V0RXZlbnRQcmVmaXg6InNsaWRlIixvcHRpb25zOnt0aGVtZTpudWxsLHRyYWNrVGhlbWU6bnVsbCxkaXNhYmxlZDohMSxpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J3JhbmdlJ10sIDpqcW1EYXRhKHR5cGU9J3JhbmdlJyksIDpqcW1EYXRhKHJvbGU9J3NsaWRlcicpIixtaW5pOiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxmPXRoaXMuZWxlbWVudCxnPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGYsImMiKSxoPXRoaXMub3B0aW9ucy50aGVtZXx8ZyxpPXRoaXMub3B0aW9ucy50cmFja1RoZW1lfHxnLGo9ZlswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGs9aj09PSJzZWxlY3QiPyJ1aS1zbGlkZXItc3dpdGNoIjoiIixsPWYuYXR0cigiaWQiKSxtPWEoIltmb3I9JyIrbCsiJ10iKSxuPW0uYXR0cigiaWQiKXx8bCsiLWxhYmVsIixvPW0uYXR0cigiaWQiLG4pLHA9ZnVuY3Rpb24oKXtyZXR1cm4gaj09PSJpbnB1dCI/cGFyc2VGbG9hdChmLnZhbCgpKTpmWzBdLnNlbGVjdGVkSW5kZXh9LHE9aj09PSJpbnB1dCI/cGFyc2VGbG9hdChmLmF0dHIoIm1pbiIpKTowLHI9aj09PSJpbnB1dCI/cGFyc2VGbG9hdChmLmF0dHIoIm1heCIpKTpmLmZpbmQoIm9wdGlvbiIpLmxlbmd0aC0xLHM9Yi5wYXJzZUZsb2F0KGYuYXR0cigic3RlcCIpfHwxKSx0PXRoaXMub3B0aW9ucy5pbmxpbmV8fGYuanFtRGF0YSgiaW5saW5lIik9PT0hMD8iIHVpLXNsaWRlci1pbmxpbmUiOiIiLHU9dGhpcy5vcHRpb25zLm1pbml8fGYuanFtRGF0YSgibWluaSIpPyIgdWktc2xpZGVyLW1pbmkiOiIiLHY9Yy5jcmVhdGVFbGVtZW50KCJhIiksdz1hKHYpLHg9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSx5PWEoeCksej1mLmpxbURhdGEoImhpZ2hsaWdodCIpJiZqIT09InNlbGVjdCI/ZnVuY3Rpb24oKXt2YXIgYj1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBiLmNsYXNzTmFtZT0idWktc2xpZGVyLWJnICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MrIiB1aS1idG4tY29ybmVyLWFsbCIsYShiKS5wcmVwZW5kVG8oeSl9KCk6ITEsQTt0aGlzLl90eXBlPWosdi5zZXRBdHRyaWJ1dGUoImhyZWYiLCIjIikseC5zZXRBdHRyaWJ1dGUoInJvbGUiLCJhcHBsaWNhdGlvbiIpLHguY2xhc3NOYW1lPVsidWktc2xpZGVyICIsaywiIHVpLWJ0bi1kb3duLSIsaSwiIHVpLWJ0bi1jb3JuZXItYWxsIix0LHVdLmpvaW4oIiIpLHYuY2xhc3NOYW1lPSJ1aS1zbGlkZXItaGFuZGxlIix4LmFwcGVuZENoaWxkKHYpLHcuYnV0dG9uTWFya3VwKHtjb3JuZXJzOiEwLHRoZW1lOmgsc2hhZG93OiEwfSkuYXR0cih7cm9sZToic2xpZGVyIiwiYXJpYS12YWx1ZW1pbiI6cSwiYXJpYS12YWx1ZW1heCI6ciwiYXJpYS12YWx1ZW5vdyI6cCgpLCJhcmlhLXZhbHVldGV4dCI6cCgpLHRpdGxlOnAoKSwiYXJpYS1sYWJlbGxlZGJ5IjpufSksYS5leHRlbmQodGhpcyx7c2xpZGVyOnksaGFuZGxlOncsdmFsdWViZzp6LGRyYWdnaW5nOiExLGJlZm9yZVN0YXJ0Om51bGwsdXNlck1vZGlmaWVkOiExLG1vdXNlTW92ZWQ6ITF9KTtpZihqPT09InNlbGVjdCIpe3ZhciBCPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7Qi5jbGFzc05hbWU9InVpLXNsaWRlci1pbm5lcm9mZnNldCI7Zm9yKHZhciBDPTAsRD14LmNoaWxkTm9kZXMubGVuZ3RoO0M8RDtDKyspQi5hcHBlbmRDaGlsZCh4LmNoaWxkTm9kZXNbQ10pO3guYXBwZW5kQ2hpbGQoQiksdy5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLEE9Zi5maW5kKCJvcHRpb24iKTtmb3IodmFyIEU9MCxGPUEubGVuZ3RoO0U8RjtFKyspe3ZhciBHPUU/ImEiOiJiIixIPUU/IiAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzOiIgdWktYnRuLWRvd24tIitpLEk9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxKPWMuY3JlYXRlRWxlbWVudCgic3BhbiIpO0ouY2xhc3NOYW1lPVsidWktc2xpZGVyLWxhYmVsIHVpLXNsaWRlci1sYWJlbC0iLEcsSCwiIHVpLWJ0bi1jb3JuZXItYWxsIl0uam9pbigiIiksSi5zZXRBdHRyaWJ1dGUoInJvbGUiLCJpbWciKSxKLmFwcGVuZENoaWxkKGMuY3JlYXRlVGV4dE5vZGUoQVtFXS5pbm5lckhUTUwpKSxhKEopLnByZXBlbmRUbyh5KX1lLl9sYWJlbHM9YSgiLnVpLXNsaWRlci1sYWJlbCIseSl9by5hZGRDbGFzcygidWktc2xpZGVyIiksZi5hZGRDbGFzcyhqPT09ImlucHV0Ij8idWktc2xpZGVyLWlucHV0IjoidWktc2xpZGVyLXN3aXRjaCIpLmNoYW5nZShmdW5jdGlvbigpe2UubW91c2VNb3ZlZHx8ZS5yZWZyZXNoKHAoKSwhMCl9KS5rZXl1cChmdW5jdGlvbigpe2UucmVmcmVzaChwKCksITAsITApfSkuYmx1cihmdW5jdGlvbigpe2UucmVmcmVzaChwKCksITApfSksdGhpcy5fcHJldmVudERvY3VtZW50RHJhZz1mdW5jdGlvbihhKXtpZihlLmRyYWdnaW5nJiYhZS5vcHRpb25zLmRpc2FibGVkKXJldHVybiBlLm1vdXNlTW92ZWQ9ITAsaj09PSJzZWxlY3QiJiZ3LnJlbW92ZUNsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiksZS5yZWZyZXNoKGEpLGUudXNlck1vZGlmaWVkPWUuYmVmb3JlU3RhcnQhPT1mWzBdLnNlbGVjdGVkSW5kZXgsITF9LHRoaXMuX29uKGEoYykse3Ztb3VzZW1vdmU6dGhpcy5fcHJldmVudERvY3VtZW50RHJhZ30pLGYuYmluZCgidm1vdXNldXAiLGEucHJveHkoZS5fY2hlY2tlZFJlZnJlc2gsZSkpLHkuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oYSl7cmV0dXJuIGUub3B0aW9ucy5kaXNhYmxlZD8hMTooZS5kcmFnZ2luZz0hMCxlLnVzZXJNb2RpZmllZD0hMSxlLm1vdXNlTW92ZWQ9ITEsaj09PSJzZWxlY3QiJiYoZS5iZWZvcmVTdGFydD1mWzBdLnNlbGVjdGVkSW5kZXgpLGUucmVmcmVzaChhKSxlLl90cmlnZ2VyKCJzdGFydCIpLCExKX0pLmJpbmQoInZjbGljayIsITEpLHRoaXMuX3NsaWRlck1vdXNlVXA9ZnVuY3Rpb24oKXtpZihlLmRyYWdnaW5nKXJldHVybiBlLmRyYWdnaW5nPSExLGo9PT0ic2VsZWN0IiYmKHcuYWRkQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKSxlLm1vdXNlTW92ZWQ/ZS51c2VyTW9kaWZpZWQ/ZS5yZWZyZXNoKGUuYmVmb3JlU3RhcnQ9PT0wPzE6MCk6ZS5yZWZyZXNoKGUuYmVmb3JlU3RhcnQpOmUucmVmcmVzaChlLmJlZm9yZVN0YXJ0PT09MD8xOjApKSxlLm1vdXNlTW92ZWQ9ITEsZS5fdHJpZ2dlcigic3RvcCIpLCExfSx0aGlzLl9vbih5LmFkZChjKSx7dm1vdXNldXA6dGhpcy5fc2xpZGVyTW91c2VVcH0pLHkuaW5zZXJ0QWZ0ZXIoZiksaj09PSJzZWxlY3QiJiZ0aGlzLmhhbmRsZS5iaW5kKHtmb2N1czpmdW5jdGlvbigpe3kuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXt5LnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pLHRoaXMuaGFuZGxlLmJpbmQoe3Ztb3VzZWRvd246ZnVuY3Rpb24oKXthKHRoaXMpLmZvY3VzKCl9LHZjbGljazohMSxrZXlkb3duOmZ1bmN0aW9uKGIpe3ZhciBjPXAoKTtpZihlLm9wdGlvbnMuZGlzYWJsZWQpcmV0dXJuO3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5IT01FOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5FTkQ6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlJJR0hUOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5MRUZUOmIucHJldmVudERlZmF1bHQoKSxlLl9rZXlTbGlkaW5nfHwoZS5fa2V5U2xpZGluZz0hMCxhKHRoaXMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKSl9c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkhPTUU6ZS5yZWZyZXNoKHEpO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5FTkQ6ZS5yZWZyZXNoKHIpO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUklHSFQ6ZS5yZWZyZXNoKGMrcyk7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuTEVGVDplLnJlZnJlc2goYy1zKX19LGtleXVwOmZ1bmN0aW9uKGIpe2UuX2tleVNsaWRpbmcmJihlLl9rZXlTbGlkaW5nPSExLGEodGhpcykucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpKX19KSx0aGlzLnJlZnJlc2goZCxkLCEwKX0sX2NoZWNrZWRSZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy52YWx1ZSE9dGhpcy5fdmFsdWUoKSYmdGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCkpfSxfdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHlwZT09PSJpbnB1dCI/cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQudmFsKCkpOnRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4fSxyZWZyZXNoOmZ1bmN0aW9uKGIsYyxkKXsodGhpcy5vcHRpb25zLmRpc2FibGVkfHx0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiKSkmJnRoaXMuZGlzYWJsZSgpLHRoaXMudmFsdWU9dGhpcy5fdmFsdWUoKTt2YXIgZT10aGlzLmVsZW1lbnQsZixnPWVbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxoPWc9PT0iaW5wdXQiP3BhcnNlRmxvYXQoZS5hdHRyKCJtaW4iKSk6MCxpPWc9PT0iaW5wdXQiP3BhcnNlRmxvYXQoZS5hdHRyKCJtYXgiKSk6ZS5maW5kKCJvcHRpb24iKS5sZW5ndGgtMSxqPWc9PT0iaW5wdXQiJiZwYXJzZUZsb2F0KGUuYXR0cigic3RlcCIpKT4wP3BhcnNlRmxvYXQoZS5hdHRyKCJzdGVwIikpOjE7aWYodHlwZW9mIGI9PSJvYmplY3QiKXt2YXIgaz1iLGw9ODtpZighdGhpcy5kcmFnZ2luZ3x8ay5wYWdlWDx0aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0LWx8fGsucGFnZVg+dGhpcy5zbGlkZXIub2Zmc2V0KCkubGVmdCt0aGlzLnNsaWRlci53aWR0aCgpK2wpcmV0dXJuO2Y9TWF0aC5yb3VuZCgoay5wYWdlWC10aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0KS90aGlzLnNsaWRlci53aWR0aCgpKjEwMCl9ZWxzZSBiPT1udWxsJiYoYj1nPT09ImlucHV0Ij9wYXJzZUZsb2F0KGUudmFsKCl8fDApOmVbMF0uc2VsZWN0ZWRJbmRleCksZj0ocGFyc2VGbG9hdChiKS1oKS8oaS1oKSoxMDA7aWYoaXNOYU4oZikpcmV0dXJuO2Y8MCYmKGY9MCksZj4xMDAmJihmPTEwMCk7dmFyIG09Zi8xMDAqKGktaCkraCxuPShtLWgpJWosbz1tLW47TWF0aC5hYnMobikqMj49aiYmKG8rPW4+MD9qOi1qKSxtPXBhcnNlRmxvYXQoby50b0ZpeGVkKDUpKSxtPGgmJihtPWgpLG0+aSYmKG09aSksdGhpcy5oYW5kbGUuY3NzKCJsZWZ0IixmKyIlIiksdGhpcy5oYW5kbGUuYXR0cih7ImFyaWEtdmFsdWVub3ciOmc9PT0iaW5wdXQiP206ZS5maW5kKCJvcHRpb24iKS5lcShtKS5hdHRyKCJ2YWx1ZSIpLCJhcmlhLXZhbHVldGV4dCI6Zz09PSJpbnB1dCI/bTplLmZpbmQoIm9wdGlvbiIpLmVxKG0pLmdldEVuY29kZWRUZXh0KCksdGl0bGU6Zz09PSJpbnB1dCI/bTplLmZpbmQoIm9wdGlvbiIpLmVxKG0pLmdldEVuY29kZWRUZXh0KCl9KSx0aGlzLnZhbHVlYmcmJnRoaXMudmFsdWViZy5jc3MoIndpZHRoIixmKyIlIik7aWYodGhpcy5fbGFiZWxzKXt2YXIgcD10aGlzLmhhbmRsZS53aWR0aCgpL3RoaXMuc2xpZGVyLndpZHRoKCkqMTAwLHE9ZiYmcCsoMTAwLXApKmYvMTAwLHI9Zj09PTEwMD8wOk1hdGgubWluKHArMTAwLXEsMTAwKTt0aGlzLl9sYWJlbHMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcykuaXMoIi51aS1zbGlkZXItbGFiZWwtYSIpO2EodGhpcykud2lkdGgoKGI/cTpyKSsiJSIpfSl9aWYoIWQpe3ZhciBzPSExO2c9PT0iaW5wdXQiPyhzPWUudmFsKCkhPT1tLGUudmFsKG0pKToocz1lWzBdLnNlbGVjdGVkSW5kZXghPT1tLGVbMF0uc2VsZWN0ZWRJbmRleD1tKSwhYyYmcyYmZS50cmlnZ2VyKCJjaGFuZ2UiKX19LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCExKSx0aGlzLnNsaWRlci5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMSksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITEpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITApLHRoaXMuc2xpZGVyLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCEwKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMCl9fSksYShjKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUuc2xpZGVyLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0LCEwKX0pfShhKSxmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KCJtb2JpbGUuc2VsZWN0bWVudSIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGRpc2FibGVkOiExLGljb246ImFycm93LWQiLGljb25wb3M6InJpZ2h0IixpbmxpbmU6ITEsY29ybmVyczohMCxzaGFkb3c6ITAsaWNvbnNoYWRvdzohMCxvdmVybGF5VGhlbWU6ImEiLGhpZGVQbGFjZWhvbGRlck1lbnVJdGVtczohMCxjbG9zZVRleHQ6IkNsb3NlIixuYXRpdmVNZW51OiEwLHByZXZlbnRGb2N1c1pvb206L2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xLGluaXRTZWxlY3Rvcjoic2VsZWN0Om5vdCggOmpxbURhdGEocm9sZT0nc2xpZGVyJykgKSIsbWluaTohMX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiBhKCI8ZGl2Lz4iKX0sX3NldERpc2FibGVkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLGEpLHRoaXMuYnV0dG9uLmF0dHIoImFyaWEtZGlzYWJsZWQiLGEpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLGEpfSxfZm9jdXNCdXR0b246ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLmJ1dHRvbi5mb2N1cygpfSw0MCl9LF9zZWxlY3RPcHRpb25zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0LmZpbmQoIm9wdGlvbiIpfSxfcHJlRXh0ZW5zaW9uOmZ1bmN0aW9uKCl7dmFyIGI9IiI7IX50aGlzLmVsZW1lbnRbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1sZWZ0Iil8fChiPSIgdWktYnRuLWxlZnQiKSwhfnRoaXMuZWxlbWVudFswXS5jbGFzc05hbWUuaW5kZXhPZigidWktYnRuLXJpZ2h0Iil8fChiPSIgdWktYnRuLXJpZ2h0IiksdGhpcy5zZWxlY3Q9dGhpcy5lbGVtZW50LndyYXAoIjxkaXYgY2xhc3M9J3VpLXNlbGVjdCIrYisiJz4iKSx0aGlzLnNlbGVjdElEPXRoaXMuc2VsZWN0LmF0dHIoImlkIiksdGhpcy5sYWJlbD1hKCJsYWJlbFtmb3I9JyIrdGhpcy5zZWxlY3RJRCsiJ10iKS5hZGRDbGFzcygidWktc2VsZWN0IiksdGhpcy5pc011bHRpcGxlPXRoaXMuc2VsZWN0WzBdLm11bHRpcGxlLHRoaXMub3B0aW9ucy50aGVtZXx8KHRoaXMub3B0aW9ucy50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLnNlbGVjdCwiYyIpKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3ByZUV4dGVuc2lvbigpLHRoaXMuX3RyaWdnZXIoImJlZm9yZUNyZWF0ZSIpLHRoaXMuYnV0dG9uPXRoaXMuX2J1dHRvbigpO3ZhciBjPXRoaXMsZD10aGlzLm9wdGlvbnMsZT1kLmlubGluZXx8dGhpcy5zZWxlY3QuanFtRGF0YSgiaW5saW5lIiksZj1kLm1pbml8fHRoaXMuc2VsZWN0LmpxbURhdGEoIm1pbmkiKSxnPWQuaWNvbj9kLmljb25wb3N8fHRoaXMuc2VsZWN0LmpxbURhdGEoImljb25wb3MiKTohMSxoPXRoaXMuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXg9PT0tMT8wOnRoaXMuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXgsaT10aGlzLmJ1dHRvbi5pbnNlcnRCZWZvcmUodGhpcy5zZWxlY3QpLmJ1dHRvbk1hcmt1cCh7dGhlbWU6ZC50aGVtZSxpY29uOmQuaWNvbixpY29ucG9zOmcsaW5saW5lOmUsY29ybmVyczpkLmNvcm5lcnMsc2hhZG93OmQuc2hhZG93LGljb25zaGFkb3c6ZC5pY29uc2hhZG93LG1pbmk6Zn0pO3RoaXMuc2V0QnV0dG9uVGV4dCgpLGQubmF0aXZlTWVudSYmYi5vcGVyYSYmYi5vcGVyYS52ZXJzaW9uJiZpLmFkZENsYXNzKCJ1aS1zZWxlY3QtbmF0aXZlb25seSIpLHRoaXMuaXNNdWx0aXBsZSYmKHRoaXMuYnV0dG9uQ291bnQ9YSgiPHNwYW4+IikuYWRkQ2xhc3MoInVpLWxpLWNvdW50IHVpLWJ0bi11cC1jIHVpLWJ0bi1jb3JuZXItYWxsIikuaGlkZSgpLmFwcGVuZFRvKGkuYWRkQ2xhc3MoInVpLWxpLWhhcy1jb3VudCIpKSksKGQuZGlzYWJsZWR8fHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIpKSYmdGhpcy5kaXNhYmxlKCksdGhpcy5zZWxlY3QuY2hhbmdlKGZ1bmN0aW9uKCl7Yy5yZWZyZXNoKCl9KSx0aGlzLmJ1aWxkKCl9LGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLnNlbGVjdC5hcHBlbmRUbyhiLmJ1dHRvbikuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJmb2N1cyIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7Yi5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5iaW5kKCJmb2N1cyB2bW91c2VvdmVyIixmdW5jdGlvbigpe2IuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW92ZXIiKX0pLmJpbmQoInZtb3VzZW1vdmUiLGZ1bmN0aW9uKCl7Yi5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2hhbmdlIGJsdXIgdm1vdXNlb3V0IixmdW5jdGlvbigpe2IuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW91dCIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImNoYW5nZSBibHVyIixmdW5jdGlvbigpe2IuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1idG4tZG93bi0iK2Iub3B0aW9ucy50aGVtZSl9KSxiLmJ1dHRvbi5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApfSkuYmluZCgibW91c2V1cCIsZnVuY3Rpb24oKXtiLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmc2V0VGltZW91dChmdW5jdGlvbigpe2EubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0sMCl9KX0sc2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLmZpbHRlcigiOnNlbGVjdGVkIil9LHNlbGVjdGVkSW5kaWNlczpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIHRoaXMuc2VsZWN0ZWQoKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYS5fc2VsZWN0T3B0aW9ucygpLmluZGV4KHRoaXMpfSkuZ2V0KCl9LHNldEJ1dHRvblRleHQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGQ9dGhpcy5zZWxlY3RlZCgpLGU9dGhpcy5wbGFjZWhvbGRlcixmPWEoYy5jcmVhdGVFbGVtZW50KCJzcGFuIikpO3RoaXMuYnV0dG9uLmZpbmQoIi51aS1idG4tdGV4dCIpLmh0bWwoZnVuY3Rpb24oKXtyZXR1cm4gZC5sZW5ndGg/ZT1kLm1hcChmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLnRleHQoKX0pLmdldCgpLmpvaW4oIiwgIik6ZT1iLnBsYWNlaG9sZGVyLGYudGV4dChlKS5hZGRDbGFzcyhiLnNlbGVjdC5hdHRyKCJjbGFzcyIpKS5hZGRDbGFzcyhkLmF0dHIoImNsYXNzIikpfSl9LHNldEJ1dHRvbkNvdW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZWxlY3RlZCgpO3RoaXMuaXNNdWx0aXBsZSYmdGhpcy5idXR0b25Db3VudFthLmxlbmd0aD4xPyJzaG93IjoiaGlkZSJdKCkudGV4dChhLmxlbmd0aCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLnNldEJ1dHRvblRleHQoKSx0aGlzLnNldEJ1dHRvbkNvdW50KCl9LG9wZW46YS5ub29wLGNsb3NlOmEubm9vcCxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0RGlzYWJsZWQoITApLHRoaXMuYnV0dG9uLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXREaXNhYmxlZCghMSksdGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIil9fSksYShjKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUuc2VsZWN0bWVudS5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwhMCl9KX0oYSksZnVuY3Rpb24oYSxkKXt2YXIgZT1mdW5jdGlvbihkKXt2YXIgZT1kLnNlbGVjdCxmPWQuc2VsZWN0SUQsZz1kLmxhYmVsLGg9ZC5zZWxlY3QuY2xvc2VzdCgiLnVpLXBhZ2UiKSxpPWQuX3NlbGVjdE9wdGlvbnMoKSxqPWQuaXNNdWx0aXBsZT1kLnNlbGVjdFswXS5tdWx0aXBsZSxrPWYrIi1idXR0b24iLGw9ZisiLW1lbnUiLG09YSgiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2RpYWxvZycgZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZT0nIitkLm9wdGlvbnMudGhlbWUrIicgZGF0YS0iK2EubW9iaWxlLm5zKyJvdmVybGF5LXRoZW1lPSciK2Qub3B0aW9ucy5vdmVybGF5VGhlbWUrIic+IisiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2hlYWRlcic+IisiPGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrZy5nZXRFbmNvZGVkVGV4dCgpKyI8L2Rpdj4iKyI8L2Rpdj4iKyI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0nY29udGVudCc+PC9kaXY+IisiPC9kaXY+Iiksbj1hKCI8ZGl2PiIseyJjbGFzcyI6InVpLXNlbGVjdG1lbnUifSkuaW5zZXJ0QWZ0ZXIoZC5zZWxlY3QpLnBvcHVwKHt0aGVtZToiYSJ9KSxvPWEoIjx1bD4iLHsiY2xhc3MiOiJ1aS1zZWxlY3RtZW51LWxpc3QiLGlkOmwscm9sZToibGlzdGJveCIsImFyaWEtbGFiZWxsZWRieSI6a30pLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiLGQub3B0aW9ucy50aGVtZSkuYXBwZW5kVG8obikscD1hKCI8ZGl2PiIseyJjbGFzcyI6InVpLWhlYWRlciB1aS1iYXItIitkLm9wdGlvbnMudGhlbWV9KS5wcmVwZW5kVG8obikscT1hKCI8aDE+Iix7ImNsYXNzIjoidWktdGl0bGUifSkuYXBwZW5kVG8ocCkscixzLHQ7ZC5pc011bHRpcGxlJiYodD1hKCI8YT4iLHt0ZXh0OmQub3B0aW9ucy5jbG9zZVRleHQsaHJlZjoiIyIsImNsYXNzIjoidWktYnRuLWxlZnQifSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJpY29ucG9zIiwibm90ZXh0IikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uIiwiZGVsZXRlIikuYXBwZW5kVG8ocCkuYnV0dG9uTWFya3VwKCkpLGEuZXh0ZW5kKGQse3NlbGVjdDpkLnNlbGVjdCxzZWxlY3RJRDpmLGJ1dHRvbklkOmssbWVudUlkOmwsdGhpc1BhZ2U6aCxtZW51UGFnZTptLGxhYmVsOmcsc2VsZWN0T3B0aW9uczppLGlzTXVsdGlwbGU6aix0aGVtZTpkLm9wdGlvbnMudGhlbWUsbGlzdGJveDpuLGxpc3Q6byxoZWFkZXI6cCxoZWFkZXJUaXRsZTpxLGhlYWRlckNsb3NlOnQsbWVudVBhZ2VDb250ZW50OnIsbWVudVBhZ2VDbG9zZTpzLHBsYWNlaG9sZGVyOiIiLGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcztiLnJlZnJlc2goKSxiLnNlbGVjdC5hdHRyKCJ0YWJpbmRleCIsIi0xIikuZm9jdXMoZnVuY3Rpb24oKXthKHRoaXMpLmJsdXIoKSxiLmJ1dHRvbi5mb2N1cygpfSksYi5idXR0b24uYmluZCgidmNsaWNrIGtleWRvd24iLGZ1bmN0aW9uKGMpe2lmKGMudHlwZT09PSJ2Y2xpY2sifHxjLmtleUNvZGUmJihjLmtleUNvZGU9PT1hLm1vYmlsZS5rZXlDb2RlLkVOVEVSfHxjLmtleUNvZGU9PT1hLm1vYmlsZS5rZXlDb2RlLlNQQUNFKSliLm9wZW4oKSxjLnByZXZlbnREZWZhdWx0KCl9KSxiLmxpc3QuYXR0cigicm9sZSIsImxpc3Rib3giKS5iaW5kKCJmb2N1c2luIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5hdHRyKCJ0YWJpbmRleCIsIjAiKS50cmlnZ2VyKCJ2bW91c2VvdmVyIil9KS5iaW5kKCJmb2N1c291dCIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuYXR0cigidGFiaW5kZXgiLCItMSIpLnRyaWdnZXIoInZtb3VzZW91dCIpfSkuZGVsZWdhdGUoImxpOm5vdCgudWktZGlzYWJsZWQsIC51aS1saS1kaXZpZGVyKSIsImNsaWNrIixmdW5jdGlvbihjKXt2YXIgZT1iLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4LGY9Yi5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5pbmRleCh0aGlzKSxnPWIuX3NlbGVjdE9wdGlvbnMoKS5lcShmKVswXTtnLnNlbGVjdGVkPWIuaXNNdWx0aXBsZT8hZy5zZWxlY3RlZDohMCxiLmlzTXVsdGlwbGUmJmEodGhpcykuZmluZCgiLnVpLWljb24iKS50b2dnbGVDbGFzcygidWktaWNvbi1jaGVja2JveC1vbiIsZy5zZWxlY3RlZCkudG9nZ2xlQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb2ZmIiwhZy5zZWxlY3RlZCksKGIuaXNNdWx0aXBsZXx8ZSE9PWYpJiZiLnNlbGVjdC50cmlnZ2VyKCJjaGFuZ2UiKSxiLmlzTXVsdGlwbGU/Yi5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5lcShmKS5hZGRDbGFzcygidWktYnRuLWRvd24tIitkLm9wdGlvbnMudGhlbWUpLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCk6Yi5jbG9zZSgpLGMucHJldmVudERlZmF1bHQoKX0pLmtleWRvd24oZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCksZT1jLmNsb3Nlc3QoImxpIiksZixnO3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgMzg6cmV0dXJuIGY9ZS5wcmV2KCkubm90KCIudWktc2VsZWN0bWVudS1wbGFjZWhvbGRlciIpLGYuaXMoIi51aS1saS1kaXZpZGVyIikmJihmPWYucHJldigpKSxmLmxlbmd0aCYmKGMuYmx1cigpLmF0dHIoInRhYmluZGV4IiwiLTEiKSxmLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK2Qub3B0aW9ucy50aGVtZSkuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKSksITE7Y2FzZSA0MDpyZXR1cm4gZz1lLm5leHQoKSxnLmlzKCIudWktbGktZGl2aWRlciIpJiYoZz1nLm5leHQoKSksZy5sZW5ndGgmJihjLmJsdXIoKS5hdHRyKCJ0YWJpbmRleCIsIi0xIiksZy5hZGRDbGFzcygidWktYnRuLWRvd24tIitkLm9wdGlvbnMudGhlbWUpLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCkpLCExO2Nhc2UgMTM6Y2FzZSAzMjpyZXR1cm4gYy50cmlnZ2VyKCJjbGljayIpLCExfX0pLGIubWVudVBhZ2UuYmluZCgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7Yi5saXN0LmFwcGVuZFRvKGIubGlzdGJveCksYi5fZm9jdXNCdXR0b24oKSxhLm1vYmlsZS5fYmluZFBhZ2VSZW1vdmUuY2FsbChiLnRoaXNQYWdlKX0pLGIubGlzdGJveC5iaW5kKCJwb3B1cGFmdGVyY2xvc2UiLGZ1bmN0aW9uKGEpe2IuY2xvc2UoKX0pLGIuaXNNdWx0aXBsZSYmYi5oZWFkZXJDbG9zZS5jbGljayhmdW5jdGlvbigpe2lmKGIubWVudVR5cGU9PT0ib3ZlcmxheSIpcmV0dXJuIGIuY2xvc2UoKSwhMX0pLGIudGhpc1BhZ2UuYWRkRGVwZW5kZW50cyh0aGlzLm1lbnVQYWdlKX0sX2lzUmVidWlsZFJlcXVpcmVkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5saXN0LmZpbmQoImxpIiksYj10aGlzLl9zZWxlY3RPcHRpb25zKCk7cmV0dXJuIGIudGV4dCgpIT09YS50ZXh0KCl9LHNlbGVjdGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdE9wdGlvbnMoKS5maWx0ZXIoIjpzZWxlY3RlZDpub3QoIDpqcW1EYXRhKHBsYWNlaG9sZGVyPSd0cnVlJykgKSIpfSxyZWZyZXNoOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcyxlPXRoaXMuZWxlbWVudCxmPXRoaXMuaXNNdWx0aXBsZSxnOyhifHx0aGlzLl9pc1JlYnVpbGRSZXF1aXJlZCgpKSYmZC5fYnVpbGRMaXN0KCksZz10aGlzLnNlbGVjdGVkSW5kaWNlcygpLGQuc2V0QnV0dG9uVGV4dCgpLGQuc2V0QnV0dG9uQ291bnQoKSxkLmxpc3QuZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMSkuZWFjaChmdW5jdGlvbihiKXtpZihhLmluQXJyYXkoYixnKT4tMSl7dmFyIGM9YSh0aGlzKTtjLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCEwKSxkLmlzTXVsdGlwbGU/Yy5maW5kKCIudWktaWNvbiIpLnJlbW92ZUNsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9mZiIpLmFkZENsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9uIik6Yy5pcygiLnVpLXNlbGVjdG1lbnUtcGxhY2Vob2xkZXIiKT9jLm5leHQoKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk6Yy5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9fSl9LGNsb3NlOmZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLmRpc2FibGVkfHwhdGhpcy5pc09wZW4pcmV0dXJuO3ZhciBiPXRoaXM7Yi5tZW51VHlwZT09PSJwYWdlIj9hLm1vYmlsZS5iYWNrKCk6KGIubGlzdGJveC5wb3B1cCgiY2xvc2UiKSxiLmxpc3QuYXBwZW5kVG8oYi5saXN0Ym94KSxiLl9mb2N1c0J1dHRvbigpKSxiLmlzT3Blbj0hMX0sb3BlbjpmdW5jdGlvbigpe2Z1bmN0aW9uIG8oKXt2YXIgYj1jLmxpc3QuZmluZCgiLiIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MrIiBhIik7Yi5sZW5ndGg9PT0wJiYoYj1jLmxpc3QuZmluZCgibGkudWktYnRuOm5vdCggOmpxbURhdGEocGxhY2Vob2xkZXI9J3RydWUnKSApIGEiKSksYi5maXJzdCgpLmZvY3VzKCkuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktYnRuLWRvd24tIitkLm9wdGlvbnMudGhlbWUpfWlmKHRoaXMub3B0aW9ucy5kaXNhYmxlZClyZXR1cm47dmFyIGM9dGhpcyxlPWEoYiksZj1jLmxpc3QucGFyZW50KCksZz1mLm91dGVySGVpZ2h0KCksaD1mLm91dGVyV2lkdGgoKSxpPWEoIi4iK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyksaj1lLnNjcm9sbFRvcCgpLGs9Yy5idXR0b24ub2Zmc2V0KCkudG9wLGw9ZS5oZWlnaHQoKSxuPWUud2lkdGgoKTtjLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksc2V0VGltZW91dChmdW5jdGlvbigpe2MuYnV0dG9uLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0sMzAwKSxnPmwtODB8fCFhLnN1cHBvcnQuc2Nyb2xsVG9wPyhjLm1lbnVQYWdlLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLnBhZ2UoKSxjLm1lbnVQYWdlQ29udGVudD1tLmZpbmQoIi51aS1jb250ZW50IiksYy5tZW51UGFnZUNsb3NlPW0uZmluZCgiLnVpLWhlYWRlciBhIiksYy50aGlzUGFnZS51bmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIpLGo9PT0wJiZrPmwmJmMudGhpc1BhZ2Uub25lKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXthKHRoaXMpLmpxbURhdGEoImxhc3RTY3JvbGwiLGspfSksYy5tZW51UGFnZS5vbmUoInBhZ2VzaG93IixmdW5jdGlvbigpe28oKSxjLmlzT3Blbj0hMH0pLGMubWVudVR5cGU9InBhZ2UiLGMubWVudVBhZ2VDb250ZW50LmFwcGVuZChjLmxpc3QpLGMubWVudVBhZ2UuZmluZCgiZGl2IC51aS10aXRsZSIpLnRleHQoYy5sYWJlbC50ZXh0KCkpLGEubW9iaWxlLmNoYW5nZVBhZ2UoYy5tZW51UGFnZSx7dHJhbnNpdGlvbjphLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbn0pKTooYy5tZW51VHlwZT0ib3ZlcmxheSIsYy5saXN0Ym94Lm9uZSgicG9wdXBhZnRlcm9wZW4iLG8pLnBvcHVwKCJvcGVuIix7eDpjLmJ1dHRvbi5vZmZzZXQoKS5sZWZ0K2MuYnV0dG9uLm91dGVyV2lkdGgoKS8yLHk6Yy5idXR0b24ub2Zmc2V0KCkudG9wK2MuYnV0dG9uLm91dGVySGVpZ2h0KCkvMn0pLGMuaXNPcGVuPSEwKX0sX2J1aWxkTGlzdDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD10aGlzLm9wdGlvbnMsZT10aGlzLnBsYWNlaG9sZGVyLGY9ITAsZz1bXSxoPVtdLGk9Yi5pc011bHRpcGxlPyJjaGVja2JveC1vZmYiOiJmYWxzZSI7Yi5saXN0LmVtcHR5KCkuZmlsdGVyKCIudWktbGlzdHZpZXciKS5saXN0dmlldygiZGVzdHJveSIpO3ZhciBqPWIuc2VsZWN0LmZpbmQoIm9wdGlvbiIpLGs9ai5sZW5ndGgsbD10aGlzLnNlbGVjdFswXSxtPSJkYXRhLSIrYS5tb2JpbGUubnMsbj1tKyJvcHRpb24taW5kZXgiLG89bSsiaWNvbiIscD1tKyJyb2xlIixxPW0rInBsYWNlaG9sZGVyIixyPWMuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHM9ITEsdDtmb3IodmFyIHU9MDt1PGs7dSsrLHM9ITEpe3ZhciB2PWpbdV0sdz1hKHYpLHg9di5wYXJlbnROb2RlLHk9dy50ZXh0KCksej1jLmNyZWF0ZUVsZW1lbnQoImEiKSxBPVtdO3ouc2V0QXR0cmlidXRlKCJocmVmIiwiIyIpLHouYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZSh5KSk7aWYoeCE9PWwmJngubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJvcHRncm91cCIpe3ZhciBCPXguZ2V0QXR0cmlidXRlKCJsYWJlbCIpO2lmKEIhPT10KXt2YXIgQz1jLmNyZWF0ZUVsZW1lbnQoImxpIik7Qy5zZXRBdHRyaWJ1dGUocCwibGlzdC1kaXZpZGVyIiksQy5zZXRBdHRyaWJ1dGUoInJvbGUiLCJvcHRpb24iKSxDLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCItMSIpLEMuYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShCKSksci5hcHBlbmRDaGlsZChDKSx0PUJ9fWYmJighdi5nZXRBdHRyaWJ1dGUoInZhbHVlIil8fHkubGVuZ3RoPT09MHx8dy5qcW1EYXRhKCJwbGFjZWhvbGRlciIpKSYmKGY9ITEscz0hMCx2LnNldEF0dHJpYnV0ZShxLCEwKSxkLmhpZGVQbGFjZWhvbGRlck1lbnVJdGVtcyYmQS5wdXNoKCJ1aS1zZWxlY3RtZW51LXBsYWNlaG9sZGVyIiksZXx8KGU9Yi5wbGFjZWhvbGRlcj15KSk7dmFyIEQ9Yy5jcmVhdGVFbGVtZW50KCJsaSIpO3YuZGlzYWJsZWQmJihBLnB1c2goInVpLWRpc2FibGVkIiksRC5zZXRBdHRyaWJ1dGUoImFyaWEtZGlzYWJsZWQiLCEwKSksRC5zZXRBdHRyaWJ1dGUobix1KSxELnNldEF0dHJpYnV0ZShvLGkpLHMmJkQuc2V0QXR0cmlidXRlKHEsITApLEQuY2xhc3NOYW1lPUEuam9pbigiICIpLEQuc2V0QXR0cmlidXRlKCJyb2xlIiwib3B0aW9uIiksei5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwiLTEiKSxELmFwcGVuZENoaWxkKHopLHIuYXBwZW5kQ2hpbGQoRCl9Yi5saXN0WzBdLmFwcGVuZENoaWxkKHIpLCF0aGlzLmlzTXVsdGlwbGUmJiFlLmxlbmd0aD90aGlzLmhlYWRlci5oaWRlKCk6dGhpcy5oZWFkZXJUaXRsZS50ZXh0KHRoaXMucGxhY2Vob2xkZXIpLGIubGlzdC5saXN0dmlldygpfSxfYnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIGEoIjxhPiIse2hyZWY6IiMiLHJvbGU6ImJ1dHRvbiIsaWQ6dGhpcy5idXR0b25JZCwiYXJpYS1oYXNwb3B1cCI6InRydWUiLCJhcmlhLW93bnMiOnRoaXMubWVudUlkfSl9fSl9O2EoYykuYmluZCgic2VsZWN0bWVudWJlZm9yZWNyZWF0ZSIsZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCkuZGF0YSgic2VsZWN0bWVudSIpOyFjLm9wdGlvbnMubmF0aXZlTWVudSYmYy5lbGVtZW50LnBhcmVudHMoIjpqcW1EYXRhKHJvbGU9J3BvcHVwJykiKS5sZW5ndGg9PT0wJiZlKGMpfSl9KGEpLGZ1bmN0aW9uKGEsZCl7YS53aWRnZXQoIm1vYmlsZS5maXhlZHRvb2xiYXIiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dmlzaWJsZU9uUGFnZVNob3c6ITAsZGlzYWJsZVBhZ2Vab29tOiEwLHRyYW5zaXRpb246InNsaWRlIixmdWxsc2NyZWVuOiExLHRhcFRvZ2dsZTohMCx0YXBUb2dnbGVCbGFja2xpc3Q6ImEsIGJ1dHRvbiwgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIC51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWQsIC51aS1wb3B1cCIsaGlkZUR1cmluZ0ZvY3VzOiJpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCIsdXBkYXRlUGFnZVBhZGRpbmc6ITAsdHJhY2tQZXJzaXN0ZW50VG9vbGJhcnM6ITAsc3VwcG9ydEJsYWNrbGlzdDpmdW5jdGlvbigpe3ZhciBhPWIsYz1uYXZpZ2F0b3IudXNlckFnZW50LGQ9bmF2aWdhdG9yLnBsYXRmb3JtLGU9Yy5tYXRjaCgvQXBwbGVXZWJLaXRcLyhbMC05XSspLyksZj0hIWUmJmVbMV0sZz1jLm1hdGNoKC9GZW5uZWNcLyhbMC05XSspLyksaD0hIWcmJmdbMV0saT1jLm1hdGNoKC9PcGVyYSBNb2JpXC8oWzAtOV0rKS8pLGo9ISFpJiZpWzFdO3JldHVybihkLmluZGV4T2YoImlQaG9uZSIpPi0xfHxkLmluZGV4T2YoImlQYWQiKT4tMXx8ZC5pbmRleE9mKCJpUG9kIik+LTEpJiZmJiZmPDUzNHx8YS5vcGVyYW1pbmkmJnt9LnRvU3RyaW5nLmNhbGwoYS5vcGVyYW1pbmkpPT09IltvYmplY3QgT3BlcmFNaW5pXSJ8fGkmJmo8NzQ1OHx8Yy5pbmRleE9mKCJBbmRyb2lkIik+LTEmJmYmJmY8NTMzfHxoJiZoPDZ8fCJwYWxtR2V0UmVzb3VyY2UiaW4gYiYmZiYmZjw1MzR8fGMuaW5kZXhPZigiTWVlR28iKT4tMSYmYy5pbmRleE9mKCJOb2tpYUJyb3dzZXIvOC41LjAiKT4tMT8hMDohMX0saW5pdFNlbGVjdG9yOiI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5vcHRpb25zLGM9YS5lbGVtZW50LGQ9Yy5pcygiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKT8iaGVhZGVyIjoiZm9vdGVyIixlPWMuY2xvc2VzdCgiLnVpLXBhZ2UiKTtpZihiLnN1cHBvcnRCbGFja2xpc3QoKSl7YS5kZXN0cm95KCk7cmV0dXJufWMuYWRkQ2xhc3MoInVpLSIrZCsiLWZpeGVkIiksYi5mdWxsc2NyZWVuPyhjLmFkZENsYXNzKCJ1aS0iK2QrIi1mdWxsc2NyZWVuIiksZS5hZGRDbGFzcygidWktcGFnZS0iK2QrIi1mdWxsc2NyZWVuIikpOmUuYWRkQ2xhc3MoInVpLXBhZ2UtIitkKyItZml4ZWQiKSxhLl9hZGRUcmFuc2l0aW9uQ2xhc3MoKSxhLl9iaW5kUGFnZUV2ZW50cygpLGEuX2JpbmRUb2dnbGVIYW5kbGVycygpfSxfYWRkVHJhbnNpdGlvbkNsYXNzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLnRyYW5zaXRpb247YSYmYSE9PSJub25lIiYmKGE9PT0ic2xpZGUiJiYoYT10aGlzLmVsZW1lbnQuaXMoIi51aS1oZWFkZXIiKT8ic2xpZGVkb3duIjoic2xpZGV1cCIpLHRoaXMuZWxlbWVudC5hZGRDbGFzcyhhKSl9LF9iaW5kUGFnZUV2ZW50czpmdW5jdGlvbigpe3ZhciBjPXRoaXMsZD1jLm9wdGlvbnMsZT1jLmVsZW1lbnQ7ZS5jbG9zZXN0KCIudWktcGFnZSIpLmJpbmQoInBhZ2ViZWZvcmVzaG93IixmdW5jdGlvbigpe2QuZGlzYWJsZVBhZ2Vab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApLGQudmlzaWJsZU9uUGFnZVNob3d8fGMuaGlkZSghMCl9KS5iaW5kKCJ3ZWJraXRBbmltYXRpb25TdGFydCBhbmltYXRpb25zdGFydCB1cGRhdGVsYXlvdXQiLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcztkLnVwZGF0ZVBhZ2VQYWRkaW5nJiZjLnVwZGF0ZVBhZ2VQYWRkaW5nKGEpfSkuYmluZCgicGFnZXNob3ciLGZ1bmN0aW9uKCl7dmFyIGU9dGhpcztjLnVwZGF0ZVBhZ2VQYWRkaW5nKGUpLGQudXBkYXRlUGFnZVBhZGRpbmcmJmEoYikuYmluZCgidGhyb3R0bGVkcmVzaXplLiIrYy53aWRnZXROYW1lLGZ1bmN0aW9uKCl7Yy51cGRhdGVQYWdlUGFkZGluZyhlKX0pfSkuYmluZCgicGFnZWJlZm9yZWhpZGUiLGZ1bmN0aW9uKGUsZil7ZC5kaXNhYmxlUGFnZVpvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKCEwKSxkLnVwZGF0ZVBhZ2VQYWRkaW5nJiZhKGIpLnVuYmluZCgidGhyb3R0bGVkcmVzaXplLiIrYy53aWRnZXROYW1lKTtpZihkLnRyYWNrUGVyc2lzdGVudFRvb2xiYXJzKXt2YXIgZz1hKCIudWktZm9vdGVyLWZpeGVkOmpxbURhdGEoaWQpIix0aGlzKSxoPWEoIi51aS1oZWFkZXItZml4ZWQ6anFtRGF0YShpZCkiLHRoaXMpLGk9Zy5sZW5ndGgmJmYubmV4dFBhZ2UmJmEoIi51aS1mb290ZXItZml4ZWQ6anFtRGF0YShpZD0nIitnLmpxbURhdGEoImlkIikrIicpIixmLm5leHRQYWdlKXx8YSgpLGo9aC5sZW5ndGgmJmYubmV4dFBhZ2UmJmEoIi51aS1oZWFkZXItZml4ZWQ6anFtRGF0YShpZD0nIitoLmpxbURhdGEoImlkIikrIicpIixmLm5leHRQYWdlKXx8YSgpO2lmKGkubGVuZ3RofHxqLmxlbmd0aClpLmFkZChqKS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKSxmLm5leHRQYWdlLm9uZSgicGFnZXNob3ciLGZ1bmN0aW9uKCl7aS5hZGQoaikuYXBwZW5kVG8odGhpcyl9KX19KX0sX3Zpc2libGU6ITAsdXBkYXRlUGFnZVBhZGRpbmc6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5lbGVtZW50LGQ9Yy5pcygiLnVpLWhlYWRlciIpO2lmKHRoaXMub3B0aW9ucy5mdWxsc2NyZWVuKXJldHVybjtiPWJ8fGMuY2xvc2VzdCgiLnVpLXBhZ2UiKSxhKGIpLmNzcygicGFkZGluZy0iKyhkPyJ0b3AiOiJib3R0b20iKSxjLm91dGVySGVpZ2h0KCkpfSxfdXNlVHJhbnNpdGlvbjpmdW5jdGlvbihjKXt2YXIgZD1hKGIpLGU9dGhpcy5lbGVtZW50LGY9ZC5zY3JvbGxUb3AoKSxnPWUuaGVpZ2h0KCksaD1lLmNsb3Nlc3QoIi51aS1wYWdlIikuaGVpZ2h0KCksaT1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSxqPWUuaXMoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIik/ImhlYWRlciI6ImZvb3RlciI7cmV0dXJuIWMmJih0aGlzLm9wdGlvbnMudHJhbnNpdGlvbiYmdGhpcy5vcHRpb25zLnRyYW5zaXRpb24hPT0ibm9uZSImJihqPT09ImhlYWRlciImJiF0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbiYmZj5nfHxqPT09ImZvb3RlciImJiF0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbiYmZitpPGgtZyl8fHRoaXMub3B0aW9ucy5mdWxsc2NyZWVuKX0sc2hvdzpmdW5jdGlvbihhKXt2YXIgYj0idWktZml4ZWQtaGlkZGVuIixjPXRoaXMuZWxlbWVudDt0aGlzLl91c2VUcmFuc2l0aW9uKGEpP2MucmVtb3ZlQ2xhc3MoIm91dCAiK2IpLmFkZENsYXNzKCJpbiIpOmMucmVtb3ZlQ2xhc3MoYiksdGhpcy5fdmlzaWJsZT0hMH0saGlkZTpmdW5jdGlvbihhKXt2YXIgYj0idWktZml4ZWQtaGlkZGVuIixjPXRoaXMuZWxlbWVudCxkPSJvdXQiKyh0aGlzLm9wdGlvbnMudHJhbnNpdGlvbj09PSJzbGlkZSI/IiByZXZlcnNlIjoiIik7dGhpcy5fdXNlVHJhbnNpdGlvbihhKT9jLmFkZENsYXNzKGQpLnJlbW92ZUNsYXNzKCJpbiIpLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7Yy5hZGRDbGFzcyhiKS5yZW1vdmVDbGFzcyhkKX0pOmMuYWRkQ2xhc3MoYikucmVtb3ZlQ2xhc3MoZCksdGhpcy5fdmlzaWJsZT0hMX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dGhpc1t0aGlzLl92aXNpYmxlPyJoaWRlIjoic2hvdyJdKCl9LF9iaW5kVG9nZ2xlSGFuZGxlcnM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9Yi5vcHRpb25zLGQ9Yi5lbGVtZW50O2QuY2xvc2VzdCgiLnVpLXBhZ2UiKS5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKGQpe2MudGFwVG9nZ2xlJiYhYShkLnRhcmdldCkuY2xvc2VzdChjLnRhcFRvZ2dsZUJsYWNrbGlzdCkubGVuZ3RoJiZiLnRvZ2dsZSgpfSkuYmluZCgiZm9jdXNpbiBmb2N1c291dCIsZnVuY3Rpb24oZCl7c2NyZWVuLndpZHRoPDUwMCYmYShkLnRhcmdldCkuaXMoYy5oaWRlRHVyaW5nRm9jdXMpJiYhYShkLnRhcmdldCkuY2xvc2VzdCgiLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZCIpLmxlbmd0aCYmYltkLnR5cGU9PT0iZm9jdXNpbiImJmIuX3Zpc2libGU/ImhpZGUiOiJzaG93Il0oKX0pfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1oZWFkZXItZml4ZWQgdWktZm9vdGVyLWZpeGVkIHVpLWhlYWRlci1mdWxsc2NyZWVuIHVpLWZvb3Rlci1mdWxsc2NyZWVuIGluIG91dCBmYWRlIHNsaWRlZG93biBzbGlkZXVwIHVpLWZpeGVkLWhpZGRlbiIpLHRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLnJlbW92ZUNsYXNzKCJ1aS1wYWdlLWhlYWRlci1maXhlZCB1aS1wYWdlLWZvb3Rlci1maXhlZCB1aS1wYWdlLWhlYWRlci1mdWxsc2NyZWVuIHVpLXBhZ2UtZm9vdGVyLWZ1bGxzY3JlZW4iKX19KSxhKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5qcW1EYXRhKCJmdWxsc2NyZWVuIikmJmEoYS5tb2JpbGUuZml4ZWR0b29sYmFyLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvcixiLnRhcmdldCkubm90KCI6anFtRGF0YShmdWxsc2NyZWVuKSIpLmpxbURhdGEoImZ1bGxzY3JlZW4iLCEwKSxhLm1vYmlsZS5maXhlZHRvb2xiYXIucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KGEpLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gaShhKXtkPWEub3JpZ2luYWxFdmVudCxoPWQuYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eSxlPU1hdGguYWJzKGgueCksZj1NYXRoLmFicyhoLnkpLGc9TWF0aC5hYnMoaC56KSwhYi5vcmllbnRhdGlvbiYmKGU+N3x8KGc+NiYmZjw4fHxnPDgmJmY+NikmJmU+NSk/Yy5lbmFibGVkJiZjLmRpc2FibGUoKTpjLmVuYWJsZWR8fGMuZW5hYmxlKCl9aWYoISgvaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTEpKXJldHVybjt2YXIgYz1hLm1vYmlsZS56b29tLGQsZSxmLGcsaDthKGIpLmJpbmQoIm9yaWVudGF0aW9uY2hhbmdlLmlvc29yaWVudGF0aW9uZml4IixjLmVuYWJsZSkuYmluZCgiZGV2aWNlbW90aW9uLmlvc29yaWVudGF0aW9uZml4IixpKX0oYSx0aGlzKSxmdW5jdGlvbihhLGIsZCl7ZnVuY3Rpb24gaCgpe2UucmVtb3ZlQ2xhc3MoInVpLW1vYmlsZS1yZW5kZXJpbmciKX12YXIgZT1hKCJodG1sIiksZj1hKCJoZWFkIiksZz1hKGIpO2EoYi5kb2N1bWVudCkudHJpZ2dlcigibW9iaWxlaW5pdCIpO2lmKCFhLm1vYmlsZS5ncmFkZUEoKSlyZXR1cm47YS5tb2JpbGUuYWpheEJsYWNrbGlzdCYmKGEubW9iaWxlLmFqYXhFbmFibGVkPSExKSxlLmFkZENsYXNzKCJ1aS1tb2JpbGUgdWktbW9iaWxlLXJlbmRlcmluZyIpLHNldFRpbWVvdXQoaCw1ZTMpLGEuZXh0ZW5kKGEubW9iaWxlLHtpbml0aWFsaXplUGFnZTpmdW5jdGlvbigpe3ZhciBiPWEoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKSxkPWEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2gucmVwbGFjZSgiIyIsIiIpLGU9Yy5nZXRFbGVtZW50QnlJZChkKTtiLmxlbmd0aHx8KGI9YSgiYm9keSIpLndyYXBJbm5lcigiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J3BhZ2UnPjwvZGl2PiIpLmNoaWxkcmVuKDApKSxiLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IuanFtRGF0YSgidXJsIil8fGIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmwiLGIuYXR0cigiaWQiKXx8bG9jYXRpb24ucGF0aG5hbWUrbG9jYXRpb24uc2VhcmNoKX0pLGEubW9iaWxlLmZpcnN0UGFnZT1iLmZpcnN0KCksYS5tb2JpbGUucGFnZUNvbnRhaW5lcj1iLmZpcnN0KCkucGFyZW50KCkuYWRkQ2xhc3MoInVpLW1vYmlsZS12aWV3cG9ydCIpLGcudHJpZ2dlcigicGFnZWNvbnRhaW5lcmNyZWF0ZSIpLGEubW9iaWxlLnNob3dQYWdlTG9hZGluZ01zZygpLGgoKSwhYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWR8fCFhLm1vYmlsZS5wYXRoLmlzSGFzaFZhbGlkKGxvY2F0aW9uLmhhc2gpfHwhYShlKS5pcygnOmpxbURhdGEocm9sZT0icGFnZSIpJykmJiFhLm1vYmlsZS5wYXRoLmlzUGF0aChkKSYmZCE9PWEubW9iaWxlLmRpYWxvZ0hhc2hLZXk/KGEubW9iaWxlLnBhdGguaXNIYXNoVmFsaWQobG9jYXRpb24uaGFzaCkmJihhLm1vYmlsZS51cmxIaXN0b3J5LmluaXRpYWxEc3Q9ZC5yZXBsYWNlKCIjIiwiIikpLGEubW9iaWxlLmNoYW5nZVBhZ2UoYS5tb2JpbGUuZmlyc3RQYWdlLHt0cmFuc2l0aW9uOiJub25lIixyZXZlcnNlOiEwLGNoYW5nZUhhc2g6ITEsZnJvbUhhc2hDaGFuZ2U6ITB9KSk6Zy50cmlnZ2VyKCJoYXNoY2hhbmdlIixbITBdKX19KSxhLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkLnJlc29sdmUoKSxhKGZ1bmN0aW9uKCl7Yi5zY3JvbGxUbygwLDEpLGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsPSFhLnN1cHBvcnQuc2Nyb2xsVG9wfHxhKGIpLnNjcm9sbFRvcCgpPT09MT8wOjEsYS5mbi5jb250cm9sZ3JvdXAmJmEoYykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EoIjpqcW1EYXRhKHJvbGU9J2NvbnRyb2xncm91cCcpIixiLnRhcmdldCkuanFtRW5oYW5jZWFibGUoKS5jb250cm9sZ3JvdXAoe2V4Y2x1ZGVJbnZpc2libGU6ITF9KX0pLGEubW9iaWxlLmF1dG9Jbml0aWFsaXplUGFnZSYmYS5tb2JpbGUuaW5pdGlhbGl6ZVBhZ2UoKSxnLmxvYWQoYS5tb2JpbGUuc2lsZW50U2Nyb2xsKSxhLnN1cHBvcnQuY3NzUG9pbnRlckV2ZW50c3x8YShjKS5kZWxlZ2F0ZSgiLnVpLWRpc2FibGVkIiwidmNsaWNrIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX0pfSl9KGEsdGhpcyl9KTs=",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 02:36:04 GMT",
                    "Content-Length": "113180",
                    "Date": "Fri, 07 Nov 2014 02:36:04 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
{
    "url": "http://localhost:9999/CreateJS/PreloadJS/lib/preloadjs-NEXT.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Link manipulation (DOM-based)",
    "issueType": 5246976,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based link manipulation vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this to a navigation target within the current page, such as a clickable link or the submission URL of a form. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will modify the target of links within the response. An attacker may be able to leverage this to perform various attacks, including:<ul><li>Causing the user to redirect to an arbitrary external URL, to facilitate a phishing attack.</li><li>Causing the user to submit sensitive form data to a server controlled by the attacker.</li><li>Causing the user to perform an unintended action within the application, by changing the file or query string associated with a link.</li><li>Bypassing browser anti-XSS defenses by injecting on-site links containing XSS exploits, since browser anti-XSS defenses typically do not operate on on-site links.</li></ul>",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based link manipulation vulnerabilities is not to dynamically set the target URLs of links or forms using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a link target. In general, this is best achieved by using a whitelist of URLs that are permitted link targets, and strictly validating the target against this list before setting the link target.",
    "issueDetail": "The application may be vulnerable to DOM-based link manipulation. Data is read from <b>location.href</b> and written to <b>the 'href' property of a DOM element</b> via the following statement:<ul><li>c.href=location.href;</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/CreateJS/PreloadJS/lib/preloadjs-NEXT.min.js",
                "path": "/CreateJS/PreloadJS/lib/preloadjs-NEXT.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9DcmVhdGVKUy9QcmVsb2FkSlMvbGliL3ByZWxvYWRqcy1ORVhULm1pbi5qcyBIVFRQLzEuMQ0KSG9zdDogbG9jYWxob3N0Ojk5OTkNCg0K",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMzIxNDUNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQNCkRhdGU6IFRodSwgMDYgTm92IDIwMTQgMTk6MzY6NTUgR01UDQpMYXN0LU1vZGlmaWVkOiBUaHUsIDA2IE5vdiAyMDE0IDE5OjM2OjU0IEdNVA0KDQovKiEKKiBAbGljZW5zZSBQcmVsb2FkSlMKKiBWaXNpdCBodHRwOi8vY3JlYXRlanMuY29tLyBmb3IgZG9jdW1lbnRhdGlvbiwgdXBkYXRlcyBhbmQgZXhhbXBsZXMuCioKKiBDb3B5cmlnaHQgKGMpIDIwMTEtMjAxMyBnc2tpbm5lci5jb20sIGluYy4KKgoqIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTUlUIGxpY2Vuc2UuCiogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5odG1sCioKKiBUaGlzIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KKi8KdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1jcmVhdGVqcy5QcmVsb2FkSlM9Y3JlYXRlanMuUHJlbG9hZEpTfHx7fTthLnZlcnNpb249Ik5FWFQiLGEuYnVpbGREYXRlPSJXZWQsIDIyIE9jdCAyMDE0IDE2OjExOjM1IEdNVCJ9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbihhLGIsYyl7dGhpcy5pbml0aWFsaXplKGEsYixjKX0sYj1hLnByb3RvdHlwZTthLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hLGIudHlwZT1udWxsLGIudGFyZ2V0PW51bGwsYi5jdXJyZW50VGFyZ2V0PW51bGwsYi5ldmVudFBoYXNlPTAsYi5idWJibGVzPSExLGIuY2FuY2VsYWJsZT0hMSxiLnRpbWVTdGFtcD0wLGIuZGVmYXVsdFByZXZlbnRlZD0hMSxiLnByb3BhZ2F0aW9uU3RvcHBlZD0hMSxiLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD0hMSxiLnJlbW92ZWQ9ITEsYi5pbml0aWFsaXplPWZ1bmN0aW9uKGEsYixjKXt0aGlzLnR5cGU9YSx0aGlzLmJ1YmJsZXM9Yix0aGlzLmNhbmNlbGFibGU9Yyx0aGlzLnRpbWVTdGFtcD0obmV3IERhdGUpLmdldFRpbWUoKX0sYi5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMuZGVmYXVsdFByZXZlbnRlZD0hMH0sYi5zdG9wUHJvcGFnYXRpb249ZnVuY3Rpb24oKXt0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZD0hMH0sYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb249ZnVuY3Rpb24oKXt0aGlzLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD10aGlzLnByb3BhZ2F0aW9uU3RvcHBlZD0hMH0sYi5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZWQ9ITB9LGIuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGEodGhpcy50eXBlLHRoaXMuYnViYmxlcyx0aGlzLmNhbmNlbGFibGUpfSxiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltFdmVudCAodHlwZT0iK3RoaXMudHlwZSsiKV0ifSxjcmVhdGVqcy5FdmVudD1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9ZnVuY3Rpb24oKXt9LGI9YS5wcm90b3R5cGU7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YSxhLmluaXRpYWxpemU9ZnVuY3Rpb24oYSl7YS5hZGRFdmVudExpc3RlbmVyPWIuYWRkRXZlbnRMaXN0ZW5lcixhLm9uPWIub24sYS5yZW1vdmVFdmVudExpc3RlbmVyPWEub2ZmPWIucmVtb3ZlRXZlbnRMaXN0ZW5lcixhLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzPWIucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnMsYS5oYXNFdmVudExpc3RlbmVyPWIuaGFzRXZlbnRMaXN0ZW5lcixhLmRpc3BhdGNoRXZlbnQ9Yi5kaXNwYXRjaEV2ZW50LGEuX2Rpc3BhdGNoRXZlbnQ9Yi5fZGlzcGF0Y2hFdmVudCxhLndpbGxUcmlnZ2VyPWIud2lsbFRyaWdnZXJ9LGIuX2xpc3RlbmVycz1udWxsLGIuX2NhcHR1cmVMaXN0ZW5lcnM9bnVsbCxiLmluaXRpYWxpemU9ZnVuY3Rpb24oKXt9LGIuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7ZD1jP3RoaXMuX2NhcHR1cmVMaXN0ZW5lcnM9dGhpcy5fY2FwdHVyZUxpc3RlbmVyc3x8e306dGhpcy5fbGlzdGVuZXJzPXRoaXMuX2xpc3RlbmVyc3x8e307dmFyIGU9ZFthXTtyZXR1cm4gZSYmdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKGEsYixjKSxlPWRbYV0sZT9lLnB1c2goYik6ZFthXT1bYl0sYn0sYi5vbj1mdW5jdGlvbihhLGIsYyxkLGUsZil7cmV0dXJuIGIuaGFuZGxlRXZlbnQmJihjPWN8fGIsYj1iLmhhbmRsZUV2ZW50KSxjPWN8fHRoaXMsdGhpcy5hZGRFdmVudExpc3RlbmVyKGEsZnVuY3Rpb24oYSl7Yi5jYWxsKGMsYSxlKSxkJiZhLnJlbW92ZSgpfSxmKX0sYi5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jP3RoaXMuX2NhcHR1cmVMaXN0ZW5lcnM6dGhpcy5fbGlzdGVuZXJzO2lmKGQpe3ZhciBlPWRbYV07aWYoZSlmb3IodmFyIGY9MCxnPWUubGVuZ3RoO2c+ZjtmKyspaWYoZVtmXT09Yil7MT09Zz9kZWxldGUgZFthXTplLnNwbGljZShmLDEpO2JyZWFrfX19LGIub2ZmPWIucmVtb3ZlRXZlbnRMaXN0ZW5lcixiLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzPWZ1bmN0aW9uKGEpe2E/KHRoaXMuX2xpc3RlbmVycyYmZGVsZXRlIHRoaXMuX2xpc3RlbmVyc1thXSx0aGlzLl9jYXB0dXJlTGlzdGVuZXJzJiZkZWxldGUgdGhpcy5fY2FwdHVyZUxpc3RlbmVyc1thXSk6dGhpcy5fbGlzdGVuZXJzPXRoaXMuX2NhcHR1cmVMaXN0ZW5lcnM9bnVsbH0sYi5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGEpe2lmKCJzdHJpbmciPT10eXBlb2YgYSl7dmFyIGI9dGhpcy5fbGlzdGVuZXJzO2lmKCFifHwhYlthXSlyZXR1cm4hMTthPW5ldyBjcmVhdGVqcy5FdmVudChhKX1lbHNlIGEudGFyZ2V0JiZhLmNsb25lJiYoYT1hLmNsb25lKCkpO3RyeXthLnRhcmdldD10aGlzfWNhdGNoKGMpe31pZihhLmJ1YmJsZXMmJnRoaXMucGFyZW50KXtmb3IodmFyIGQ9dGhpcyxlPVtkXTtkLnBhcmVudDspZS5wdXNoKGQ9ZC5wYXJlbnQpO3ZhciBmLGc9ZS5sZW5ndGg7Zm9yKGY9Zy0xO2Y+PTAmJiFhLnByb3BhZ2F0aW9uU3RvcHBlZDtmLS0pZVtmXS5fZGlzcGF0Y2hFdmVudChhLDErKDA9PWYpKTtmb3IoZj0xO2c+ZiYmIWEucHJvcGFnYXRpb25TdG9wcGVkO2YrKyllW2ZdLl9kaXNwYXRjaEV2ZW50KGEsMyl9ZWxzZSB0aGlzLl9kaXNwYXRjaEV2ZW50KGEsMik7cmV0dXJuIGEuZGVmYXVsdFByZXZlbnRlZH0sYi5oYXNFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX2xpc3RlbmVycyxjPXRoaXMuX2NhcHR1cmVMaXN0ZW5lcnM7cmV0dXJuISEoYiYmYlthXXx8YyYmY1thXSl9LGIud2lsbFRyaWdnZXI9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXM7Yjspe2lmKGIuaGFzRXZlbnRMaXN0ZW5lcihhKSlyZXR1cm4hMDtiPWIucGFyZW50fXJldHVybiExfSxiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltFdmVudERpc3BhdGNoZXJdIn0sYi5fZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9MT09Yj90aGlzLl9jYXB0dXJlTGlzdGVuZXJzOnRoaXMuX2xpc3RlbmVycztpZihhJiZkKXt2YXIgZT1kW2EudHlwZV07aWYoIWV8fCEoYz1lLmxlbmd0aCkpcmV0dXJuO3RyeXthLmN1cnJlbnRUYXJnZXQ9dGhpc31jYXRjaChmKXt9dHJ5e2EuZXZlbnRQaGFzZT1ifWNhdGNoKGYpe31hLnJlbW92ZWQ9ITEsZT1lLnNsaWNlKCk7Zm9yKHZhciBnPTA7Yz5nJiYhYS5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ7ZysrKXt2YXIgaD1lW2ddO2guaGFuZGxlRXZlbnQ/aC5oYW5kbGVFdmVudChhKTpoKGEpLGEucmVtb3ZlZCYmKHRoaXMub2ZmKGEudHlwZSxoLDE9PWIpLGEucmVtb3ZlZD0hMSl9fX0sY3JlYXRlanMuRXZlbnREaXNwYXRjaGVyPWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtjcmVhdGVqcy5pbmRleE9mPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWlmKGI9PT1hW2NdKXJldHVybiBjO3JldHVybi0xfX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NyZWF0ZWpzLnByb3h5PWZ1bmN0aW9uKGEsYil7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApLmNvbmNhdChjKSl9fX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKCl7dGhpcy5pbml0KCl9LGI9YS5wcm90b3R5cGU9bmV3IGNyZWF0ZWpzLkV2ZW50RGlzcGF0Y2hlcjthLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hO3ZhciBjPWE7Yy5BQlNPTFVURV9QQVRUPS9eKD86XHcrOik/XC97Mn0vaSxjLlJFTEFUSVZFX1BBVFQ9L15bLi9dKj9cLy9pLGMuRVhURU5TSU9OX1BBVFQ9L1wvP1teL10rXC4oXHd7MSw1fSkkL2ksYi5sb2FkZWQ9ITEsYi5jYW5jZWxlZD0hMSxiLnByb2dyZXNzPTAsYi5faXRlbT1udWxsLGIuZ2V0SXRlbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pdGVtfSxiLmluaXQ9ZnVuY3Rpb24oKXt9LGIubG9hZD1mdW5jdGlvbigpe30sYi5jbG9zZT1mdW5jdGlvbigpe30sYi5fc2VuZExvYWRTdGFydD1mdW5jdGlvbigpe3RoaXMuX2lzQ2FuY2VsZWQoKXx8dGhpcy5kaXNwYXRjaEV2ZW50KCJsb2Fkc3RhcnQiKX0sYi5fc2VuZFByb2dyZXNzPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLl9pc0NhbmNlbGVkKCkpe3ZhciBiPW51bGw7Im51bWJlciI9PXR5cGVvZiBhPyh0aGlzLnByb2dyZXNzPWEsYj1uZXcgY3JlYXRlanMuRXZlbnQoInByb2dyZXNzIiksYi5sb2FkZWQ9dGhpcy5wcm9ncmVzcyxiLnRvdGFsPTEpOihiPWEsdGhpcy5wcm9ncmVzcz1hLmxvYWRlZC9hLnRvdGFsLChpc05hTih0aGlzLnByb2dyZXNzKXx8MS8wPT10aGlzLnByb2dyZXNzKSYmKHRoaXMucHJvZ3Jlc3M9MCkpLGIucHJvZ3Jlc3M9dGhpcy5wcm9ncmVzcyx0aGlzLmhhc0V2ZW50TGlzdGVuZXIoInByb2dyZXNzIikmJnRoaXMuZGlzcGF0Y2hFdmVudChiKX19LGIuX3NlbmRDb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMuX2lzQ2FuY2VsZWQoKXx8dGhpcy5kaXNwYXRjaEV2ZW50KCJjb21wbGV0ZSIpfSxiLl9zZW5kRXJyb3I9ZnVuY3Rpb24oYSl7IXRoaXMuX2lzQ2FuY2VsZWQoKSYmdGhpcy5oYXNFdmVudExpc3RlbmVyKCJlcnJvciIpJiYobnVsbD09YSYmKGE9bmV3IGNyZWF0ZWpzLkV2ZW50KCJlcnJvciIpKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSxiLl9pc0NhbmNlbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PXdpbmRvdy5jcmVhdGVqc3x8dGhpcy5jYW5jZWxlZD8hMDohMX0sYi5fcGFyc2VVUkk9ZnVuY3Rpb24oYSl7dmFyIGI9e2Fic29sdXRlOiExLHJlbGF0aXZlOiExfTtpZihudWxsPT1hKXJldHVybiBiO3ZhciBkPWEuaW5kZXhPZigiPyIpO2Q+LTEmJihhPWEuc3Vic3RyKDAsZCkpO3ZhciBlO3JldHVybiBjLkFCU09MVVRFX1BBVFQudGVzdChhKT9iLmFic29sdXRlPSEwOmMuUkVMQVRJVkVfUEFUVC50ZXN0KGEpJiYoYi5yZWxhdGl2ZT0hMCksKGU9YS5tYXRjaChjLkVYVEVOU0lPTl9QQVRUKSkmJihiLmV4dGVuc2lvbj1lWzFdLnRvTG93ZXJDYXNlKCkpLGJ9LGIuX2Zvcm1hdFF1ZXJ5U3RyaW5nPWZ1bmN0aW9uKGEsYil7aWYobnVsbD09YSl0aHJvdyBuZXcgRXJyb3IoIllvdSBtdXN0IHNwZWNpZnkgZGF0YS4iKTt2YXIgYz1bXTtmb3IodmFyIGQgaW4gYSljLnB1c2goZCsiPSIrZXNjYXBlKGFbZF0pKTtyZXR1cm4gYiYmKGM9Yy5jb25jYXQoYikpLGMuam9pbigiJiIpfSxiLmJ1aWxkUGF0aD1mdW5jdGlvbihhLGIpe2lmKG51bGw9PWIpcmV0dXJuIGE7dmFyIGM9W10sZD1hLmluZGV4T2YoIj8iKTtpZigtMSE9ZCl7dmFyIGU9YS5zbGljZShkKzEpO2M9Yy5jb25jYXQoZS5zcGxpdCgiJiIpKX1yZXR1cm4tMSE9ZD9hLnNsaWNlKDAsZCkrIj8iK3RoaXMuX2Zvcm1hdFF1ZXJ5U3RyaW5nKGIsYyk6YSsiPyIrdGhpcy5fZm9ybWF0UXVlcnlTdHJpbmcoYixjKX0sYi5faXNDcm9zc0RvbWFpbj1mdW5jdGlvbihhKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7Yi5ocmVmPWEuc3JjO3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtjLmhyZWY9bG9jYXRpb24uaHJlZjt2YXIgZD0iIiE9Yi5ob3N0bmFtZSYmKGIucG9ydCE9Yy5wb3J0fHxiLnByb3RvY29sIT1jLnByb3RvY29sfHxiLmhvc3RuYW1lIT1jLmhvc3RuYW1lKTtyZXR1cm4gZH0sYi5faXNMb2NhbD1mdW5jdGlvbihhKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7cmV0dXJuIGIuaHJlZj1hLnNyYywiIj09Yi5ob3N0bmFtZSYmImZpbGU6Ij09Yi5wcm90b2NvbH0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbUHJlbG9hZEpTIEFic3RyYWN0TG9hZGVyXSJ9LGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyPWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbihhLGIsYyl7dGhpcy5pbml0KGEsYixjKX0sYj1hLnByb3RvdHlwZT1uZXcgY3JlYXRlanMuQWJzdHJhY3RMb2FkZXI7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YTt2YXIgYz1hO2MubG9hZFRpbWVvdXQ9OGUzLGMuTE9BRF9USU1FT1VUPTAsYy5CSU5BUlk9ImJpbmFyeSIsYy5DU1M9ImNzcyIsYy5JTUFHRT0iaW1hZ2UiLGMuSkFWQVNDUklQVD0iamF2YXNjcmlwdCIsYy5KU09OPSJqc29uIixjLkpTT05QPSJqc29ucCIsYy5NQU5JRkVTVD0ibWFuaWZlc3QiLGMuU09VTkQ9InNvdW5kIixjLlNWRz0ic3ZnIixjLlRFWFQ9InRleHQiLGMuWE1MPSJ4bWwiLGMuUE9TVD0iUE9TVCIsYy5HRVQ9IkdFVCIsYi5fYmFzZVBhdGg9bnVsbCxiLl9jcm9zc09yaWdpbj0iIixiLnVzZVhIUj0hMCxiLnN0b3BPbkVycm9yPSExLGIubWFpbnRhaW5TY3JpcHRPcmRlcj0hMCxiLm5leHQ9bnVsbCxiLl90eXBlQ2FsbGJhY2tzPW51bGwsYi5fZXh0ZW5zaW9uQ2FsbGJhY2tzPW51bGwsYi5fbG9hZFN0YXJ0V2FzRGlzcGF0Y2hlZD0hMSxiLl9tYXhDb25uZWN0aW9ucz0xLGIuX2N1cnJlbnRseUxvYWRpbmdTY3JpcHQ9bnVsbCxiLl9jdXJyZW50TG9hZHM9bnVsbCxiLl9sb2FkUXVldWU9bnVsbCxiLl9sb2FkUXVldWVCYWNrdXA9bnVsbCxiLl9sb2FkSXRlbXNCeUlkPW51bGwsYi5fbG9hZEl0ZW1zQnlTcmM9bnVsbCxiLl9sb2FkZWRSZXN1bHRzPW51bGwsYi5fbG9hZGVkUmF3UmVzdWx0cz1udWxsLGIuX251bUl0ZW1zPTAsYi5fbnVtSXRlbXNMb2FkZWQ9MCxiLl9zY3JpcHRPcmRlcj1udWxsLGIuX2xvYWRlZFNjcmlwdHM9bnVsbCxiLmluaXQ9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuX251bUl0ZW1zPXRoaXMuX251bUl0ZW1zTG9hZGVkPTAsdGhpcy5fcGF1c2VkPSExLHRoaXMuX2xvYWRTdGFydFdhc0Rpc3BhdGNoZWQ9ITEsdGhpcy5fY3VycmVudExvYWRzPVtdLHRoaXMuX2xvYWRRdWV1ZT1bXSx0aGlzLl9sb2FkUXVldWVCYWNrdXA9W10sdGhpcy5fc2NyaXB0T3JkZXI9W10sdGhpcy5fbG9hZGVkU2NyaXB0cz1bXSx0aGlzLl9sb2FkSXRlbXNCeUlkPXt9LHRoaXMuX2xvYWRJdGVtc0J5U3JjPXt9LHRoaXMuX2xvYWRlZFJlc3VsdHM9e30sdGhpcy5fbG9hZGVkUmF3UmVzdWx0cz17fSx0aGlzLl90eXBlQ2FsbGJhY2tzPXt9LHRoaXMuX2V4dGVuc2lvbkNhbGxiYWNrcz17fSx0aGlzLl9iYXNlUGF0aD1iLHRoaXMuc2V0VXNlWEhSKGEpLHRoaXMuX2Nyb3NzT3JpZ2luPWM9PT0hMD8iQW5vbnltb3VzIjpjPT09ITF8fG51bGw9PWM/IiI6Y30sYi5zZXRVc2VYSFI9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudXNlWEhSPTAhPWEmJm51bGwhPXdpbmRvdy5YTUxIdHRwUmVxdWVzdCx0aGlzLnVzZVhIUn0sYi5yZW1vdmVBbGw9ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZSgpfSxiLnJlbW92ZT1mdW5jdGlvbihhKXt2YXIgYj1udWxsO2lmKCFhfHxhIGluc3RhbmNlb2YgQXJyYXkpe2lmKGEpYj1hO2Vsc2UgaWYoYXJndW1lbnRzLmxlbmd0aD4wKXJldHVybn1lbHNlIGI9W2FdO3ZhciBjPSExO2lmKGIpe2Zvcig7Yi5sZW5ndGg7KXt2YXIgZD1iLnBvcCgpLGU9dGhpcy5nZXRSZXN1bHQoZCk7Zm9yKGY9dGhpcy5fbG9hZFF1ZXVlLmxlbmd0aC0xO2Y+PTA7Zi0tKWlmKGc9dGhpcy5fbG9hZFF1ZXVlW2ZdLmdldEl0ZW0oKSxnLmlkPT1kfHxnLnNyYz09ZCl7dGhpcy5fbG9hZFF1ZXVlLnNwbGljZShmLDEpWzBdLmNhbmNlbCgpO2JyZWFrfWZvcihmPXRoaXMuX2xvYWRRdWV1ZUJhY2t1cC5sZW5ndGgtMTtmPj0wO2YtLSlpZihnPXRoaXMuX2xvYWRRdWV1ZUJhY2t1cFtmXS5nZXRJdGVtKCksZy5pZD09ZHx8Zy5zcmM9PWQpe3RoaXMuX2xvYWRRdWV1ZUJhY2t1cC5zcGxpY2UoZiwxKVswXS5jYW5jZWwoKTticmVha31pZihlKWRlbGV0ZSB0aGlzLl9sb2FkSXRlbXNCeUlkW2UuaWRdLGRlbGV0ZSB0aGlzLl9sb2FkSXRlbXNCeVNyY1tlLnNyY10sdGhpcy5fZGlzcG9zZUl0ZW0oZSk7ZWxzZSBmb3IodmFyIGY9dGhpcy5fY3VycmVudExvYWRzLmxlbmd0aC0xO2Y+PTA7Zi0tKXt2YXIgZz10aGlzLl9jdXJyZW50TG9hZHNbZl0uZ2V0SXRlbSgpO2lmKGcuaWQ9PWR8fGcuc3JjPT1kKXt0aGlzLl9jdXJyZW50TG9hZHMuc3BsaWNlKGYsMSlbMF0uY2FuY2VsKCksYz0hMDticmVha319fWMmJnRoaXMuX2xvYWROZXh0KCl9ZWxzZXt0aGlzLmNsb3NlKCk7Zm9yKHZhciBoIGluIHRoaXMuX2xvYWRJdGVtc0J5SWQpdGhpcy5fZGlzcG9zZUl0ZW0odGhpcy5fbG9hZEl0ZW1zQnlJZFtoXSk7dGhpcy5pbml0KHRoaXMudXNlWEhSLHRoaXMuX2Jhc2VQYXRoLHRoaXMuX2Nyb3NzT3JpZ2luKX19LGIucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmNsb3NlKCk7Zm9yKHZhciBhIGluIHRoaXMuX2xvYWRJdGVtc0J5SWQpdGhpcy5fZGlzcG9zZUl0ZW0odGhpcy5fbG9hZEl0ZW1zQnlJZFthXSk7Zm9yKHZhciBiPVtdLGM9MCxkPXRoaXMuX2xvYWRRdWV1ZUJhY2t1cC5sZW5ndGg7ZD5jO2MrKyliLnB1c2godGhpcy5fbG9hZFF1ZXVlQmFja3VwW2NdLmdldEl0ZW0oKSk7dGhpcy5sb2FkTWFuaWZlc3QoYiwhMSl9LGMuaXNCaW5hcnk9ZnVuY3Rpb24oYSl7c3dpdGNoKGEpe2Nhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLklNQUdFOmNhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLkJJTkFSWTpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0sYy5pc1RleHQ9ZnVuY3Rpb24oYSl7c3dpdGNoKGEpe2Nhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLlRFWFQ6Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuSlNPTjpjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5NQU5JRkVTVDpjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5YTUw6Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuSFRNTDpjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5DU1M6Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuU1ZHOmNhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLkpBVkFTQ1JJUFQ6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19LGIuaW5zdGFsbFBsdWdpbj1mdW5jdGlvbihhKXtpZihudWxsIT1hJiZudWxsIT1hLmdldFByZWxvYWRIYW5kbGVycyl7dmFyIGI9YS5nZXRQcmVsb2FkSGFuZGxlcnMoKTtpZihiLnNjb3BlPWEsbnVsbCE9Yi50eXBlcylmb3IodmFyIGM9MCxkPWIudHlwZXMubGVuZ3RoO2Q+YztjKyspdGhpcy5fdHlwZUNhbGxiYWNrc1tiLnR5cGVzW2NdXT1iO2lmKG51bGwhPWIuZXh0ZW5zaW9ucylmb3IoYz0wLGQ9Yi5leHRlbnNpb25zLmxlbmd0aDtkPmM7YysrKXRoaXMuX2V4dGVuc2lvbkNhbGxiYWNrc1tiLmV4dGVuc2lvbnNbY11dPWJ9fSxiLnNldE1heENvbm5lY3Rpb25zPWZ1bmN0aW9uKGEpe3RoaXMuX21heENvbm5lY3Rpb25zPWEsIXRoaXMuX3BhdXNlZCYmdGhpcy5fbG9hZFF1ZXVlLmxlbmd0aD4wJiZ0aGlzLl9sb2FkTmV4dCgpfSxiLmxvYWRGaWxlPWZ1bmN0aW9uKGEsYixjKXtpZihudWxsPT1hKXt2YXIgZD1uZXcgY3JlYXRlanMuRXZlbnQoImVycm9yIik7cmV0dXJuIGQudGV4dD0iUFJFTE9BRF9OT19GSUxFIix2b2lkIHRoaXMuX3NlbmRFcnJvcihkKX10aGlzLl9hZGRJdGVtKGEsbnVsbCxjKSx0aGlzLnNldFBhdXNlZChiIT09ITE/ITE6ITApfSxiLmxvYWRNYW5pZmVzdD1mdW5jdGlvbihhLGIsZCl7dmFyIGU9bnVsbCxmPW51bGw7aWYoYSBpbnN0YW5jZW9mIEFycmF5KXtpZigwPT1hLmxlbmd0aCl7dmFyIGc9bmV3IGNyZWF0ZWpzLkV2ZW50KCJlcnJvciIpO3JldHVybiBnLnRleHQ9IlBSRUxPQURfTUFOSUZFU1RfRU1QVFkiLHZvaWQgdGhpcy5fc2VuZEVycm9yKGcpfWU9YX1lbHNlIGlmKCJzdHJpbmciPT10eXBlb2YgYSllPVt7c3JjOmEsdHlwZTpjLk1BTklGRVNUfV07ZWxzZXtpZigib2JqZWN0IiE9dHlwZW9mIGEpe3ZhciBnPW5ldyBjcmVhdGVqcy5FdmVudCgiZXJyb3IiKTtyZXR1cm4gZy50ZXh0PSJQUkVMT0FEX01BTklGRVNUX05VTEwiLHZvaWQgdGhpcy5fc2VuZEVycm9yKGcpfWlmKHZvaWQgMCE9PWEuc3JjKXtpZihudWxsPT1hLnR5cGUpYS50eXBlPWMuTUFOSUZFU1Q7ZWxzZSBpZihhLnR5cGUhPWMuTUFOSUZFU1Qpe3ZhciBnPW5ldyBjcmVhdGVqcy5FdmVudCgiZXJyb3IiKTtnLnRleHQ9IlBSRUxPQURfTUFOSUZFU1RfRVJST1IiLHRoaXMuX3NlbmRFcnJvcihnKX1lPVthXX1lbHNlIHZvaWQgMCE9PWEubWFuaWZlc3QmJihlPWEubWFuaWZlc3QsZj1hLnBhdGgpfWZvcih2YXIgaD0wLGk9ZS5sZW5ndGg7aT5oO2grKyl0aGlzLl9hZGRJdGVtKGVbaF0sZixkKTt0aGlzLnNldFBhdXNlZChiIT09ITE/ITE6ITApfSxiLmxvYWQ9ZnVuY3Rpb24oKXt0aGlzLnNldFBhdXNlZCghMSl9LGIuZ2V0SXRlbT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fbG9hZEl0ZW1zQnlJZFthXXx8dGhpcy5fbG9hZEl0ZW1zQnlTcmNbYV19LGIuZ2V0UmVzdWx0PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fbG9hZEl0ZW1zQnlJZFthXXx8dGhpcy5fbG9hZEl0ZW1zQnlTcmNbYV07aWYobnVsbD09YylyZXR1cm4gbnVsbDt2YXIgZD1jLmlkO3JldHVybiBiJiZ0aGlzLl9sb2FkZWRSYXdSZXN1bHRzW2RdP3RoaXMuX2xvYWRlZFJhd1Jlc3VsdHNbZF06dGhpcy5fbG9hZGVkUmVzdWx0c1tkXX0sYi5zZXRQYXVzZWQ9ZnVuY3Rpb24oYSl7dGhpcy5fcGF1c2VkPWEsdGhpcy5fcGF1c2VkfHx0aGlzLl9sb2FkTmV4dCgpfSxiLmNsb3NlPWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLl9jdXJyZW50TG9hZHMubGVuZ3RoOyl0aGlzLl9jdXJyZW50TG9hZHMucG9wKCkuY2FuY2VsKCk7dGhpcy5fc2NyaXB0T3JkZXIubGVuZ3RoPTAsdGhpcy5fbG9hZGVkU2NyaXB0cy5sZW5ndGg9MCx0aGlzLmxvYWRTdGFydFdhc0Rpc3BhdGNoZWQ9ITF9LGIuX2FkZEl0ZW09ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuX2NyZWF0ZUxvYWRJdGVtKGEsYixjKTtpZihudWxsIT1kKXt2YXIgZT10aGlzLl9jcmVhdGVMb2FkZXIoZCk7bnVsbCE9ZSYmKGQuX2xvYWRlcj1lLHRoaXMuX2xvYWRRdWV1ZS5wdXNoKGUpLHRoaXMuX2xvYWRRdWV1ZUJhY2t1cC5wdXNoKGUpLHRoaXMuX251bUl0ZW1zKyssdGhpcy5fdXBkYXRlUHJvZ3Jlc3MoKSwodGhpcy5tYWludGFpblNjcmlwdE9yZGVyJiZkLnR5cGU9PWNyZWF0ZWpzLkxvYWRRdWV1ZS5KQVZBU0NSSVBUfHxkLm1haW50YWluT3JkZXI9PT0hMCkmJih0aGlzLl9zY3JpcHRPcmRlci5wdXNoKGQpLHRoaXMuX2xvYWRlZFNjcmlwdHMucHVzaChudWxsKSkpfX0sYi5fY3JlYXRlTG9hZEl0ZW09ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW51bGw7c3dpdGNoKHR5cGVvZiBhKXtjYXNlInN0cmluZyI6ZD17c3JjOmF9O2JyZWFrO2Nhc2Uib2JqZWN0IjpkPXdpbmRvdy5IVE1MQXVkaW9FbGVtZW50JiZhIGluc3RhbmNlb2Ygd2luZG93LkhUTUxBdWRpb0VsZW1lbnQ/e3RhZzphLHNyYzpkLnRhZy5zcmMsdHlwZTpjcmVhdGVqcy5Mb2FkUXVldWUuU09VTkR9OmE7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gbnVsbH12YXIgZT10aGlzLl9wYXJzZVVSSShkLnNyYyk7ZS5leHRlbnNpb24mJihkLmV4dD1lLmV4dGVuc2lvbiksbnVsbD09ZC50eXBlJiYoZC50eXBlPXRoaXMuX2dldFR5cGVCeUV4dGVuc2lvbihkLmV4dCkpO3ZhciBmPSIiLGc9Y3x8dGhpcy5fYmFzZVBhdGgsaD1kLnNyYztpZighZS5hYnNvbHV0ZSYmIWUucmVsYXRpdmUpaWYoYil7Zj1iO3ZhciBpPXRoaXMuX3BhcnNlVVJJKGIpO2g9YitoLG51bGw9PWd8fGkuYWJzb2x1dGV8fGkucmVsYXRpdmV8fChmPWcrZil9ZWxzZSBudWxsIT1nJiYoZj1nKTtpZihkLnNyYz1mK2Quc3JjLGQucGF0aD1mLChkLnR5cGU9PWNyZWF0ZWpzLkxvYWRRdWV1ZS5KU09OfHxkLnR5cGU9PWNyZWF0ZWpzLkxvYWRRdWV1ZS5NQU5JRkVTVCkmJihkLl9sb2FkQXNKU09OUD1udWxsIT1kLmNhbGxiYWNrKSxkLnR5cGU9PWNyZWF0ZWpzLkxvYWRRdWV1ZS5KU09OUCYmbnVsbD09ZC5jYWxsYmFjayl0aHJvdyBuZXcgRXJyb3IoImNhbGxiYWNrIGlzIHJlcXVpcmVkIGZvciBsb2FkaW5nIEpTT05QIHJlcXVlc3RzLiIpOyh2b2lkIDA9PT1kLnRhZ3x8bnVsbD09PWQudGFnKSYmKGQudGFnPXRoaXMuX2NyZWF0ZVRhZyhkKSksKHZvaWQgMD09PWQuaWR8fG51bGw9PT1kLmlkfHwiIj09PWQuaWQpJiYoZC5pZD1oKTt2YXIgaj10aGlzLl90eXBlQ2FsbGJhY2tzW2QudHlwZV18fHRoaXMuX2V4dGVuc2lvbkNhbGxiYWNrc1tkLmV4dF07aWYoail7dmFyIGs9ai5jYWxsYmFjay5jYWxsKGouc2NvcGUsZC5zcmMsZC50eXBlLGQuaWQsZC5kYXRhLGYsdGhpcyk7aWYoaz09PSExKXJldHVybiBudWxsO2s9PT0hMHx8KG51bGwhPWsuc3JjJiYoZC5zcmM9ay5zcmMpLG51bGwhPWsuaWQmJihkLmlkPWsuaWQpLG51bGwhPWsudGFnJiYoZC50YWc9ay50YWcpLG51bGwhPWsuY29tcGxldGVIYW5kbGVyJiYoZC5jb21wbGV0ZUhhbmRsZXI9ay5jb21wbGV0ZUhhbmRsZXIpLGsudHlwZSYmKGQudHlwZT1rLnR5cGUpLGU9dGhpcy5fcGFyc2VVUkkoZC5zcmMpLG51bGwhPWUuZXh0ZW5zaW9uJiYoZC5leHQ9ZS5leHRlbnNpb24pKX1yZXR1cm4gdGhpcy5fbG9hZEl0ZW1zQnlJZFtkLmlkXT1kLHRoaXMuX2xvYWRJdGVtc0J5U3JjW2Quc3JjXT1kLGR9LGIuX2NyZWF0ZUxvYWRlcj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLnVzZVhIUjtzd2l0Y2goYS50eXBlKXtjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5KU09OOmNhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLk1BTklGRVNUOmI9IWEuX2xvYWRBc0pTT05QO2JyZWFrO2Nhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLlhNTDpjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5URVhUOmI9ITA7YnJlYWs7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuU09VTkQ6Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuSlNPTlA6Yj0hMTticmVhaztjYXNlIG51bGw6cmV0dXJuIG51bGx9cmV0dXJuIGI/bmV3IGNyZWF0ZWpzLlhIUkxvYWRlcihhLHRoaXMuX2Nyb3NzT3JpZ2luKTpuZXcgY3JlYXRlanMuVGFnTG9hZGVyKGEpfSxiLl9sb2FkTmV4dD1mdW5jdGlvbigpe2lmKCF0aGlzLl9wYXVzZWQpe3RoaXMuX2xvYWRTdGFydFdhc0Rpc3BhdGNoZWR8fCh0aGlzLl9zZW5kTG9hZFN0YXJ0KCksdGhpcy5fbG9hZFN0YXJ0V2FzRGlzcGF0Y2hlZD0hMCksdGhpcy5fbnVtSXRlbXM9PXRoaXMuX251bUl0ZW1zTG9hZGVkPyh0aGlzLmxvYWRlZD0hMCx0aGlzLl9zZW5kQ29tcGxldGUoKSx0aGlzLm5leHQmJnRoaXMubmV4dC5sb2FkJiZ0aGlzLm5leHQubG9hZCgpKTp0aGlzLmxvYWRlZD0hMTtmb3IodmFyIGE9MDthPHRoaXMuX2xvYWRRdWV1ZS5sZW5ndGgmJiEodGhpcy5fY3VycmVudExvYWRzLmxlbmd0aD49dGhpcy5fbWF4Q29ubmVjdGlvbnMpO2ErKyl7dmFyIGI9dGhpcy5fbG9hZFF1ZXVlW2FdO3RoaXMuX2NhblN0YXJ0TG9hZChiKSYmKHRoaXMuX2xvYWRRdWV1ZS5zcGxpY2UoYSwxKSxhLS0sdGhpcy5fbG9hZEl0ZW0oYikpfX19LGIuX2xvYWRJdGVtPWZ1bmN0aW9uKGEpe2Eub24oInByb2dyZXNzIix0aGlzLl9oYW5kbGVQcm9ncmVzcyx0aGlzKSxhLm9uKCJjb21wbGV0ZSIsdGhpcy5faGFuZGxlRmlsZUNvbXBsZXRlLHRoaXMpLGEub24oImVycm9yIix0aGlzLl9oYW5kbGVGaWxlRXJyb3IsdGhpcyksdGhpcy5fY3VycmVudExvYWRzLnB1c2goYSksdGhpcy5fc2VuZEZpbGVTdGFydChhLmdldEl0ZW0oKSksYS5sb2FkKCl9LGIuX2hhbmRsZUZpbGVFcnJvcj1mdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldDt0aGlzLl9udW1JdGVtc0xvYWRlZCsrLHRoaXMuX2ZpbmlzaE9yZGVyZWRJdGVtKGIsITApLHRoaXMuX3VwZGF0ZVByb2dyZXNzKCk7dmFyIGM9bmV3IGNyZWF0ZWpzLkV2ZW50KCJlcnJvciIpO2MudGV4dD0iRklMRV9MT0FEX0VSUk9SIixjLml0ZW09Yi5nZXRJdGVtKCksdGhpcy5fc2VuZEVycm9yKGMpLHRoaXMuc3RvcE9uRXJyb3J8fCh0aGlzLl9yZW1vdmVMb2FkSXRlbShiKSx0aGlzLl9sb2FkTmV4dCgpKX0sYi5faGFuZGxlRmlsZUNvbXBsZXRlPWZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0LGM9Yi5nZXRJdGVtKCk7dGhpcy5fbG9hZGVkUmVzdWx0c1tjLmlkXT1iLmdldFJlc3VsdCgpLGIgaW5zdGFuY2VvZiBjcmVhdGVqcy5YSFJMb2FkZXImJih0aGlzLl9sb2FkZWRSYXdSZXN1bHRzW2MuaWRdPWIuZ2V0UmVzdWx0KCEwKSksdGhpcy5fcmVtb3ZlTG9hZEl0ZW0oYiksdGhpcy5fZmluaXNoT3JkZXJlZEl0ZW0oYil8fHRoaXMuX3Byb2Nlc3NGaW5pc2hlZExvYWQoYyxiKX0sYi5fZmluaXNoT3JkZXJlZEl0ZW09ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldEl0ZW0oKTtpZih0aGlzLm1haW50YWluU2NyaXB0T3JkZXImJmMudHlwZT09Y3JlYXRlanMuTG9hZFF1ZXVlLkpBVkFTQ1JJUFR8fGMubWFpbnRhaW5PcmRlcil7YSBpbnN0YW5jZW9mIGNyZWF0ZWpzLlRhZ0xvYWRlciYmYy50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSkFWQVNDUklQVCYmKHRoaXMuX2N1cnJlbnRseUxvYWRpbmdTY3JpcHQ9ITEpO3ZhciBkPWNyZWF0ZWpzLmluZGV4T2YodGhpcy5fc2NyaXB0T3JkZXIsYyk7cmV0dXJuLTE9PWQ/ITE6KHRoaXMuX2xvYWRlZFNjcmlwdHNbZF09Yj09PSEwPyEwOmMsdGhpcy5fY2hlY2tTY3JpcHRMb2FkT3JkZXIoKSwhMCl9cmV0dXJuITF9LGIuX2NoZWNrU2NyaXB0TG9hZE9yZGVyPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuX2xvYWRlZFNjcmlwdHMubGVuZ3RoLGI9MDthPmI7YisrKXt2YXIgYz10aGlzLl9sb2FkZWRTY3JpcHRzW2JdO2lmKG51bGw9PT1jKWJyZWFrO2lmKGMhPT0hMCl7dmFyIGQ9dGhpcy5fbG9hZGVkUmVzdWx0c1tjLmlkXTtjLnR5cGU9PWNyZWF0ZWpzLkxvYWRRdWV1ZS5KQVZBU0NSSVBUJiYoZG9jdW1lbnQuYm9keXx8ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXSkuYXBwZW5kQ2hpbGQoZCk7dmFyIGU9Yy5fbG9hZGVyO3RoaXMuX3Byb2Nlc3NGaW5pc2hlZExvYWQoYyxlKSx0aGlzLl9sb2FkZWRTY3JpcHRzW2JdPSEwfX19LGIuX3Byb2Nlc3NGaW5pc2hlZExvYWQ9ZnVuY3Rpb24oYSxiKXtpZihhLnR5cGU9PWNyZWF0ZWpzLkxvYWRRdWV1ZS5NQU5JRkVTVCl7dmFyIGM9Yi5nZXRSZXN1bHQoKTtudWxsIT1jJiZ2b2lkIDAhPT1jLm1hbmlmZXN0JiZ0aGlzLmxvYWRNYW5pZmVzdChjLCEwKX10aGlzLl9udW1JdGVtc0xvYWRlZCsrLHRoaXMuX3VwZGF0ZVByb2dyZXNzKCksdGhpcy5fc2VuZEZpbGVDb21wbGV0ZShhLGIpLHRoaXMuX2xvYWROZXh0KCl9LGIuX2NhblN0YXJ0TG9hZD1mdW5jdGlvbihhKXtpZighdGhpcy5tYWludGFpblNjcmlwdE9yZGVyfHxhIGluc3RhbmNlb2YgY3JlYXRlanMuWEhSTG9hZGVyKXJldHVybiEwO3ZhciBiPWEuZ2V0SXRlbSgpO2lmKGIudHlwZSE9Y3JlYXRlanMuTG9hZFF1ZXVlLkpBVkFTQ1JJUFQpcmV0dXJuITA7aWYodGhpcy5fY3VycmVudGx5TG9hZGluZ1NjcmlwdClyZXR1cm4hMTtmb3IodmFyIGM9dGhpcy5fc2NyaXB0T3JkZXIuaW5kZXhPZihiKSxkPTA7Yz5kOyl7dmFyIGU9dGhpcy5fbG9hZGVkU2NyaXB0c1tkXTtpZihudWxsPT1lKXJldHVybiExO2QrK31yZXR1cm4gdGhpcy5fY3VycmVudGx5TG9hZGluZ1NjcmlwdD0hMCwhMH0sYi5fcmVtb3ZlTG9hZEl0ZW09ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRJdGVtKCk7ZGVsZXRlIGIuX2xvYWRlcixkZWxldGUgYi5fbG9hZEFzSlNPTlA7Zm9yKHZhciBjPXRoaXMuX2N1cnJlbnRMb2Fkcy5sZW5ndGgsZD0wO2M+ZDtkKyspaWYodGhpcy5fY3VycmVudExvYWRzW2RdPT1hKXt0aGlzLl9jdXJyZW50TG9hZHMuc3BsaWNlKGQsMSk7YnJlYWt9fSxiLl9oYW5kbGVQcm9ncmVzcz1mdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldDt0aGlzLl9zZW5kRmlsZVByb2dyZXNzKGIuZ2V0SXRlbSgpLGIucHJvZ3Jlc3MpLHRoaXMuX3VwZGF0ZVByb2dyZXNzKCl9LGIuX3VwZGF0ZVByb2dyZXNzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fbnVtSXRlbXNMb2FkZWQvdGhpcy5fbnVtSXRlbXMsYj10aGlzLl9udW1JdGVtcy10aGlzLl9udW1JdGVtc0xvYWRlZDtpZihiPjApe2Zvcih2YXIgYz0wLGQ9MCxlPXRoaXMuX2N1cnJlbnRMb2Fkcy5sZW5ndGg7ZT5kO2QrKyljKz10aGlzLl9jdXJyZW50TG9hZHNbZF0ucHJvZ3Jlc3M7YSs9Yy9iKihiL3RoaXMuX251bUl0ZW1zKX10aGlzLl9zZW5kUHJvZ3Jlc3MoYSl9LGIuX2Rpc3Bvc2VJdGVtPWZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLl9sb2FkZWRSZXN1bHRzW2EuaWRdLGRlbGV0ZSB0aGlzLl9sb2FkZWRSYXdSZXN1bHRzW2EuaWRdLGRlbGV0ZSB0aGlzLl9sb2FkSXRlbXNCeUlkW2EuaWRdLGRlbGV0ZSB0aGlzLl9sb2FkSXRlbXNCeVNyY1thLnNyY119LGIuX2NyZWF0ZVRhZz1mdW5jdGlvbihhKXt2YXIgYj1udWxsO3N3aXRjaChhLnR5cGUpe2Nhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLklNQUdFOnJldHVybiBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpLCIiPT10aGlzLl9jcm9zc09yaWdpbnx8dGhpcy5faXNMb2NhbChhKXx8KGIuY3Jvc3NPcmlnaW49dGhpcy5fY3Jvc3NPcmlnaW4pLGI7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuU09VTkQ6cmV0dXJuIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYXVkaW8iKSxiLmF1dG9wbGF5PSExLGI7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuSlNPTjpjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5KU09OUDpjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5KQVZBU0NSSVBUOmNhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLk1BTklGRVNUOnJldHVybiBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpLGIudHlwZT0idGV4dC9qYXZhc2NyaXB0IixiO2Nhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLkNTUzpyZXR1cm4gYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMudXNlWEhSPyJzdHlsZSI6ImxpbmsiKSxiLnJlbD0ic3R5bGVzaGVldCIsYi50eXBlPSJ0ZXh0L2NzcyIsYjtjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5TVkc6cmV0dXJuIHRoaXMudXNlWEhSP2I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3ZnIik6KGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib2JqZWN0IiksYi50eXBlPSJpbWFnZS9zdmcreG1sIiksYn1yZXR1cm4gbnVsbH0sYi5fZ2V0VHlwZUJ5RXh0ZW5zaW9uPWZ1bmN0aW9uKGEpe2lmKG51bGw9PWEpcmV0dXJuIGNyZWF0ZWpzLkxvYWRRdWV1ZS5URVhUO3N3aXRjaChhLnRvTG93ZXJDYXNlKCkpe2Nhc2UianBlZyI6Y2FzZSJqcGciOmNhc2UiZ2lmIjpjYXNlInBuZyI6Y2FzZSJ3ZWJwIjpjYXNlImJtcCI6cmV0dXJuIGNyZWF0ZWpzLkxvYWRRdWV1ZS5JTUFHRTtjYXNlIm9nZyI6Y2FzZSJtcDMiOmNhc2Uid2F2IjpyZXR1cm4gY3JlYXRlanMuTG9hZFF1ZXVlLlNPVU5EO2Nhc2UianNvbiI6cmV0dXJuIGNyZWF0ZWpzLkxvYWRRdWV1ZS5KU09OO2Nhc2UieG1sIjpyZXR1cm4gY3JlYXRlanMuTG9hZFF1ZXVlLlhNTDtjYXNlImNzcyI6cmV0dXJuIGNyZWF0ZWpzLkxvYWRRdWV1ZS5DU1M7Y2FzZSJqcyI6cmV0dXJuIGNyZWF0ZWpzLkxvYWRRdWV1ZS5KQVZBU0NSSVBUO2Nhc2Uic3ZnIjpyZXR1cm4gY3JlYXRlanMuTG9hZFF1ZXVlLlNWRztkZWZhdWx0OnJldHVybiBjcmVhdGVqcy5Mb2FkUXVldWUuVEVYVH19LGIuX3NlbmRGaWxlUHJvZ3Jlc3M9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLl9pc0NhbmNlbGVkKCkpcmV0dXJuIHZvaWQgdGhpcy5fY2xlYW5VcCgpO2lmKHRoaXMuaGFzRXZlbnRMaXN0ZW5lcigiZmlsZXByb2dyZXNzIikpe3ZhciBjPW5ldyBjcmVhdGVqcy5FdmVudCgiZmlsZXByb2dyZXNzIik7Yy5wcm9ncmVzcz1iLGMubG9hZGVkPWIsYy50b3RhbD0xLGMuaXRlbT1hLHRoaXMuZGlzcGF0Y2hFdmVudChjKX19LGIuX3NlbmRGaWxlQ29tcGxldGU9ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5faXNDYW5jZWxlZCgpKXt2YXIgYz1uZXcgY3JlYXRlanMuRXZlbnQoImZpbGVsb2FkIik7Yy5sb2FkZXI9YixjLml0ZW09YSxjLnJlc3VsdD10aGlzLl9sb2FkZWRSZXN1bHRzW2EuaWRdLGMucmF3UmVzdWx0PXRoaXMuX2xvYWRlZFJhd1Jlc3VsdHNbYS5pZF0sYS5jb21wbGV0ZUhhbmRsZXImJmEuY29tcGxldGVIYW5kbGVyKGMpLHRoaXMuaGFzRXZlbnRMaXN0ZW5lcigiZmlsZWxvYWQiKSYmdGhpcy5kaXNwYXRjaEV2ZW50KGMpfX0sYi5fc2VuZEZpbGVTdGFydD1mdW5jdGlvbihhKXt2YXIgYj1uZXcgY3JlYXRlanMuRXZlbnQoImZpbGVzdGFydCIpO2IuaXRlbT1hLHRoaXMuaGFzRXZlbnRMaXN0ZW5lcigiZmlsZXN0YXJ0IikmJnRoaXMuZGlzcGF0Y2hFdmVudChiKX0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbUHJlbG9hZEpTIExvYWRRdWV1ZV0ifSxjcmVhdGVqcy5Mb2FkUXVldWU9YTt2YXIgZD1mdW5jdGlvbigpe307ZC5pbml0PWZ1bmN0aW9uKCl7dmFyIGE9bmF2aWdhdG9yLnVzZXJBZ2VudDtkLmlzRmlyZWZveD1hLmluZGV4T2YoIkZpcmVmb3giKT4tMSxkLmlzT3BlcmE9bnVsbCE9d2luZG93Lm9wZXJhLGQuaXNDaHJvbWU9YS5pbmRleE9mKCJDaHJvbWUiKT4tMSxkLmlzSU9TPWEuaW5kZXhPZigiaVBvZCIpPi0xfHxhLmluZGV4T2YoImlQaG9uZSIpPi0xfHxhLmluZGV4T2YoImlQYWQiKT4tMX0sZC5pbml0KCksY3JlYXRlanMuTG9hZFF1ZXVlLkJyb3dzZXJEZXRlY3Q9ZH0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKGEpe3RoaXMuaW5pdChhKX0sYj1hLnByb3RvdHlwZT1uZXcgY3JlYXRlanMuQWJzdHJhY3RMb2FkZXI7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YSxiLl9sb2FkVGltZW91dD1udWxsLGIuX3RhZ0NvbXBsZXRlUHJveHk9bnVsbCxiLl9pc0F1ZGlvPSExLGIuX3RhZz1udWxsLGIuX2pzb25SZXN1bHQ9bnVsbCxiLmluaXQ9ZnVuY3Rpb24oYSl7dGhpcy5faXRlbT1hLHRoaXMuX3RhZz1hLnRhZyx0aGlzLl9pc0F1ZGlvPXdpbmRvdy5IVE1MQXVkaW9FbGVtZW50JiZhLnRhZyBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MQXVkaW9FbGVtZW50LHRoaXMuX3RhZ0NvbXBsZXRlUHJveHk9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlTG9hZCx0aGlzKX0sYi5nZXRSZXN1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXRlbS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSlNPTlB8fHRoaXMuX2l0ZW0udHlwZT09Y3JlYXRlanMuTG9hZFF1ZXVlLk1BTklGRVNUP3RoaXMuX2pzb25SZXN1bHQ6dGhpcy5fdGFnfSxiLmNhbmNlbD1mdW5jdGlvbigpe3RoaXMuY2FuY2VsZWQ9ITAsdGhpcy5fY2xlYW4oKX0sYi5sb2FkPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5faXRlbSxiPXRoaXMuX3RhZztjbGVhclRpbWVvdXQodGhpcy5fbG9hZFRpbWVvdXQpO3ZhciBjPWNyZWF0ZWpzLkxvYWRRdWV1ZS5MT0FEX1RJTUVPVVQ7MD09YyYmKGM9Y3JlYXRlanMuTG9hZFF1ZXVlLmxvYWRUaW1lb3V0KSx0aGlzLl9sb2FkVGltZW91dD1zZXRUaW1lb3V0KGNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVRpbWVvdXQsdGhpcyksYyksdGhpcy5faXNBdWRpbyYmKGIuc3JjPW51bGwsYi5wcmVsb2FkPSJhdXRvIiksYi5vbmVycm9yPWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZUVycm9yLHRoaXMpLHRoaXMuX2lzQXVkaW8/KGIub25zdGFsbGVkPWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVN0YWxsZWQsdGhpcyksYi5hZGRFdmVudExpc3RlbmVyKCJjYW5wbGF5dGhyb3VnaCIsdGhpcy5fdGFnQ29tcGxldGVQcm94eSwhMSkpOihiLm9ubG9hZD1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVMb2FkLHRoaXMpLGIub25yZWFkeXN0YXRlY2hhbmdlPWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVJlYWR5U3RhdGVDaGFuZ2UsdGhpcykpO3ZhciBkPXRoaXMuYnVpbGRQYXRoKGEuc3JjLGEudmFsdWVzKTtzd2l0Y2goYS50eXBlKXtjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5DU1M6Yi5ocmVmPWQ7YnJlYWs7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuU1ZHOmIuZGF0YT1kO2JyZWFrO2RlZmF1bHQ6Yi5zcmM9ZH1pZihhLnR5cGU9PWNyZWF0ZWpzLkxvYWRRdWV1ZS5KU09OUHx8YS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSlNPTnx8YS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuTUFOSUZFU1Qpe2lmKG51bGw9PWEuY2FsbGJhY2spdGhyb3cgbmV3IEVycm9yKCJjYWxsYmFjayBpcyByZXF1aXJlZCBmb3IgbG9hZGluZyBKU09OUCByZXF1ZXN0cy4iKTtpZihudWxsIT13aW5kb3dbYS5jYWxsYmFja10pdGhyb3cgbmV3IEVycm9yKCdKU09OUCBjYWxsYmFjayAiJythLmNhbGxiYWNrKyciIGFscmVhZHkgZXhpc3RzIG9uIHdpbmRvdy4gWW91IG5lZWQgdG8gc3BlY2lmeSBhIGRpZmZlcmVudCBjYWxsYmFjay4gT3IgcmUtbmFtZSB0aGUgY3VycmVudCBvbmUuJyk7d2luZG93W2EuY2FsbGJhY2tdPWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZUpTT05QTG9hZCx0aGlzKX1pZihhLnR5cGU9PWNyZWF0ZWpzLkxvYWRRdWV1ZS5TVkd8fGEudHlwZT09Y3JlYXRlanMuTG9hZFF1ZXVlLkpTT05QfHxhLnR5cGU9PWNyZWF0ZWpzLkxvYWRRdWV1ZS5KU09OfHxhLnR5cGU9PWNyZWF0ZWpzLkxvYWRRdWV1ZS5NQU5JRkVTVHx8YS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSkFWQVNDUklQVHx8YS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuQ1NTKXt0aGlzLl9zdGFydFRhZ1Zpc2liaWxpdHk9Yi5zdHlsZS52aXNpYmlsaXR5LGIuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIjt2YXIgZT1kb2N1bWVudC5ib2R5fHxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdO2lmKG51bGw9PWUpe2lmKGEudHlwZT09Y3JlYXRlanMuTG9hZFF1ZXVlLlNWRylyZXR1cm4gdm9pZCB0aGlzLl9oYW5kbGVTVkdFcnJvcigpO2U9ZG9jdW1lbnQuaGVhZHx8ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKX1lLmFwcGVuZENoaWxkKGIpfW51bGwhPWIubG9hZCYmYi5sb2FkKCl9LGIuX2hhbmRsZVNWR0Vycm9yPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYW4oKTt2YXIgYT1uZXcgY3JlYXRlanMuRXZlbnQoImVycm9yIik7YS50ZXh0PSJTVkdfTk9fQk9EWSIsdGhpcy5fc2VuZEVycm9yKGEpfSxiLl9oYW5kbGVKU09OUExvYWQ9ZnVuY3Rpb24oYSl7dGhpcy5fanNvblJlc3VsdD1hfSxiLl9oYW5kbGVUaW1lb3V0PWZ1bmN0aW9uKCl7dGhpcy5fY2xlYW4oKTt2YXIgYT1uZXcgY3JlYXRlanMuRXZlbnQoImVycm9yIik7YS50ZXh0PSJQUkVMT0FEX1RJTUVPVVQiLHRoaXMuX3NlbmRFcnJvcihhKX0sYi5faGFuZGxlU3RhbGxlZD1mdW5jdGlvbigpe30sYi5faGFuZGxlRXJyb3I9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhbigpO3ZhciBhPW5ldyBjcmVhdGVqcy5FdmVudCgiZXJyb3IiKTt0aGlzLl9zZW5kRXJyb3IoYSl9LGIuX2hhbmRsZVJlYWR5U3RhdGVDaGFuZ2U9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fbG9hZFRpbWVvdXQpO3ZhciBhPXRoaXMuZ2V0SXRlbSgpLnRhZzsoImxvYWRlZCI9PWEucmVhZHlTdGF0ZXx8ImNvbXBsZXRlIj09YS5yZWFkeVN0YXRlKSYmdGhpcy5faGFuZGxlTG9hZCgpfSxiLl9oYW5kbGVMb2FkPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2lzQ2FuY2VsZWQoKSl7dmFyIGE9dGhpcy5nZXRJdGVtKCksYj1hLnRhZztpZighKHRoaXMubG9hZGVkfHx0aGlzLl9pc0F1ZGlvJiY0IT09Yi5yZWFkeVN0YXRlKSl7c3dpdGNoKHRoaXMubG9hZGVkPSEwLGEudHlwZSl7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuU1ZHOmNhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLkpTT046Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuSlNPTlA6Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuTUFOSUZFU1Q6Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuQ1NTOmIuc3R5bGUudmlzaWJpbGl0eT10aGlzLl9zdGFydFRhZ1Zpc2liaWxpdHksYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuY29udGFpbnMoYikmJmIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKX10aGlzLl9jbGVhbigpLHRoaXMuX3NlbmRDb21wbGV0ZSgpfX19LGIuX2NsZWFuPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX2xvYWRUaW1lb3V0KTt2YXIgYT10aGlzLmdldEl0ZW0oKSxiPWEudGFnO251bGwhPWImJihiLm9ubG9hZD1udWxsLGIucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYi5yZW1vdmVFdmVudExpc3RlbmVyKCJjYW5wbGF5dGhyb3VnaCIsdGhpcy5fdGFnQ29tcGxldGVQcm94eSwhMSksYi5vbnN0YWxsZWQ9bnVsbCxiLm9ucHJvZ3Jlc3M9bnVsbCxiLm9uZXJyb3I9bnVsbCxudWxsIT1iLnBhcmVudE5vZGUmJmEudHlwZT09Y3JlYXRlanMuTG9hZFF1ZXVlLlNWRyYmYS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSlNPTiYmYS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuTUFOSUZFU1QmJmEudHlwZT09Y3JlYXRlanMuTG9hZFF1ZXVlLkNTUyYmYS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSlNPTlAmJmIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKSk7dmFyIGE9dGhpcy5nZXRJdGVtKCk7KGEudHlwZT09Y3JlYXRlanMuTG9hZFF1ZXVlLkpTT05QfHxhLnR5cGU9PWNyZWF0ZWpzLkxvYWRRdWV1ZS5NQU5JRkVTVCkmJih3aW5kb3dbYS5jYWxsYmFja109bnVsbCl9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW1ByZWxvYWRKUyBUYWdMb2FkZXJdIn0sY3JlYXRlanMuVGFnTG9hZGVyPWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbihhLGIpe3RoaXMuaW5pdChhLGIpfSxiPWE7Yi5BQ1RJVkVYX1ZFUlNJT05TPVsiTXN4bWwyLlhNTEhUVFAuNi4wIiwiTXN4bWwyLlhNTEhUVFAuNS4wIiwiTXN4bWwyLlhNTEhUVFAuNC4wIiwiTVNYTUwyLlhNTEhUVFAuMy4wIiwiTVNYTUwyLlhNTEhUVFAiLCJNaWNyb3NvZnQuWE1MSFRUUCJdO3ZhciBjPWEucHJvdG90eXBlPW5ldyBjcmVhdGVqcy5BYnN0cmFjdExvYWRlcjthLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hLGMuX3JlcXVlc3Q9bnVsbCxjLl9sb2FkVGltZW91dD1udWxsLGMuX3hockxldmVsPTEsYy5fcmVzcG9uc2U9bnVsbCxjLl9yYXdSZXNwb25zZT1udWxsLGMuX2Nyb3NzT3JpZ2luPSIiLGMuaW5pdD1mdW5jdGlvbihhLGIpe3RoaXMuX2l0ZW09YSx0aGlzLl9jcm9zc09yaWdpbj1iLCF0aGlzLl9jcmVhdGVYSFIoYSl9LGMuZ2V0UmVzdWx0PWZ1bmN0aW9uKGEpe3JldHVybiBhJiZ0aGlzLl9yYXdSZXNwb25zZT90aGlzLl9yYXdSZXNwb25zZTp0aGlzLl9yZXNwb25zZX0sYy5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbGVkPSEwLHRoaXMuX2NsZWFuKCksdGhpcy5fcmVxdWVzdC5hYm9ydCgpfSxjLmxvYWQ9ZnVuY3Rpb24oKXtpZihudWxsPT10aGlzLl9yZXF1ZXN0KXJldHVybiB2b2lkIHRoaXMuX2hhbmRsZUVycm9yKCk7aWYodGhpcy5fcmVxdWVzdC5vbmxvYWRzdGFydD1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVMb2FkU3RhcnQsdGhpcyksdGhpcy5fcmVxdWVzdC5vbnByb2dyZXNzPWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVByb2dyZXNzLHRoaXMpLHRoaXMuX3JlcXVlc3Qub25hYm9ydD1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVBYm9ydCx0aGlzKSx0aGlzLl9yZXF1ZXN0Lm9uZXJyb3I9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlRXJyb3IsdGhpcyksdGhpcy5fcmVxdWVzdC5vbnRpbWVvdXQ9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlVGltZW91dCx0aGlzKSwxPT10aGlzLl94aHJMZXZlbCl7dmFyIGE9Y3JlYXRlanMuTG9hZFF1ZXVlLkxPQURfVElNRU9VVDtpZigwPT1hKWE9Y3JlYXRlanMuTG9hZFF1ZXVlLmxvYWRUaW1lb3V0O2Vsc2UgdHJ5e2NvbnNvbGUud2FybigiTG9hZFF1ZXVlLkxPQURfVElNRU9VVCBoYXMgYmVlbiBkZXByZWNhdGVkIGluIGZhdm9yIG9mIExvYWRRdWV1ZS5sb2FkVGltZW91dCIpfWNhdGNoKGIpe310aGlzLl9sb2FkVGltZW91dD1zZXRUaW1lb3V0KGNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVRpbWVvdXQsdGhpcyksYSl9dGhpcy5fcmVxdWVzdC5vbmxvYWQ9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlTG9hZCx0aGlzKSx0aGlzLl9yZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVSZWFkeVN0YXRlQ2hhbmdlLHRoaXMpO3RyeXt0aGlzLl9pdGVtLnZhbHVlcyYmdGhpcy5faXRlbS5tZXRob2QhPWNyZWF0ZWpzLkxvYWRRdWV1ZS5HRVQ/dGhpcy5faXRlbS5tZXRob2Q9PWNyZWF0ZWpzLkxvYWRRdWV1ZS5QT1NUJiZ0aGlzLl9yZXF1ZXN0LnNlbmQodGhpcy5fZm9ybWF0UXVlcnlTdHJpbmcodGhpcy5faXRlbS52YWx1ZXMpKTp0aGlzLl9yZXF1ZXN0LnNlbmQoKX1jYXRjaChjKXt2YXIgZD1uZXcgY3JlYXRlanMuRXZlbnQoImVycm9yIik7ZC5lcnJvcj1jLHRoaXMuX3NlbmRFcnJvcihkKX19LGMuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIGluc3RhbmNlb2YgRnVuY3Rpb24/dGhpcy5fcmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKTpudWxsfSxjLmdldFJlc3BvbnNlSGVhZGVyPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9yZXF1ZXN0LmdldFJlc3BvbnNlSGVhZGVyIGluc3RhbmNlb2YgRnVuY3Rpb24/dGhpcy5fcmVxdWVzdC5nZXRSZXNwb25zZUhlYWRlcihhKTpudWxsfSxjLl9oYW5kbGVQcm9ncmVzcz1mdW5jdGlvbihhKXtpZihhJiYhKGEubG9hZGVkPjAmJjA9PWEudG90YWwpKXt2YXIgYj1uZXcgY3JlYXRlanMuRXZlbnQoInByb2dyZXNzIik7Yi5sb2FkZWQ9YS5sb2FkZWQsYi50b3RhbD1hLnRvdGFsLHRoaXMuX3NlbmRQcm9ncmVzcyhiKX19LGMuX2hhbmRsZUxvYWRTdGFydD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl9sb2FkVGltZW91dCksdGhpcy5fc2VuZExvYWRTdGFydCgpfSxjLl9oYW5kbGVBYm9ydD1mdW5jdGlvbigpe3RoaXMuX2NsZWFuKCk7dmFyIGE9bmV3IGNyZWF0ZWpzLkV2ZW50KCJlcnJvciIpO2EudGV4dD0iWEhSX0FCT1JURUQiLHRoaXMuX3NlbmRFcnJvcihhKX0sYy5faGFuZGxlRXJyb3I9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhbigpO3ZhciBhPW5ldyBjcmVhdGVqcy5FdmVudCgiZXJyb3IiKTt0aGlzLl9zZW5kRXJyb3IoYSl9LGMuX2hhbmRsZVJlYWR5U3RhdGVDaGFuZ2U9ZnVuY3Rpb24oKXs0PT10aGlzLl9yZXF1ZXN0LnJlYWR5U3RhdGUmJnRoaXMuX2hhbmRsZUxvYWQoKX0sYy5faGFuZGxlTG9hZD1mdW5jdGlvbigpe2lmKCF0aGlzLmxvYWRlZCl7aWYodGhpcy5sb2FkZWQ9ITAsIXRoaXMuX2NoZWNrRXJyb3IoKSlyZXR1cm4gdm9pZCB0aGlzLl9oYW5kbGVFcnJvcigpO3RoaXMuX3Jlc3BvbnNlPXRoaXMuX2dldFJlc3BvbnNlKCksdGhpcy5fY2xlYW4oKTt2YXIgYT10aGlzLl9nZW5lcmF0ZVRhZygpO2EmJnRoaXMuX3NlbmRDb21wbGV0ZSgpfX0sYy5faGFuZGxlVGltZW91dD1mdW5jdGlvbihhKXt0aGlzLl9jbGVhbigpO3ZhciBiPW5ldyBjcmVhdGVqcy5FdmVudCgiZXJyb3IiKTtiLnRleHQ9IlBSRUxPQURfVElNRU9VVCIsdGhpcy5fc2VuZEVycm9yKGEpfSxjLl9jaGVja0Vycm9yPWZ1bmN0aW9uKCl7dmFyIGE9cGFyc2VJbnQodGhpcy5fcmVxdWVzdC5zdGF0dXMpO3N3aXRjaChhKXtjYXNlIDQwNDpjYXNlIDA6cmV0dXJuITF9cmV0dXJuITB9LGMuX2dldFJlc3BvbnNlPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5fcmVzcG9uc2UpcmV0dXJuIHRoaXMuX3Jlc3BvbnNlO2lmKG51bGwhPXRoaXMuX3JlcXVlc3QucmVzcG9uc2UpcmV0dXJuIHRoaXMuX3JlcXVlc3QucmVzcG9uc2U7dHJ5e2lmKG51bGwhPXRoaXMuX3JlcXVlc3QucmVzcG9uc2VUZXh0KXJldHVybiB0aGlzLl9yZXF1ZXN0LnJlc3BvbnNlVGV4dH1jYXRjaChhKXt9dHJ5e2lmKG51bGwhPXRoaXMuX3JlcXVlc3QucmVzcG9uc2VYTUwpcmV0dXJuIHRoaXMuX3JlcXVlc3QucmVzcG9uc2VYTUx9Y2F0Y2goYSl7fXJldHVybiBudWxsfSxjLl9jcmVhdGVYSFI9ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5faXNDcm9zc0RvbWFpbihhKSxkPXt9LGU9bnVsbDtpZih3aW5kb3cuWE1MSHR0cFJlcXVlc3QpZT1uZXcgWE1MSHR0cFJlcXVlc3QsYyYmdm9pZCAwPT09ZS53aXRoQ3JlZGVudGlhbHMmJndpbmRvdy5YRG9tYWluUmVxdWVzdCYmKGU9bmV3IFhEb21haW5SZXF1ZXN0KTtlbHNle2Zvcih2YXIgZj0wLGc9Yi5BQ1RJVkVYX1ZFUlNJT05TLmxlbmd0aDtnPmY7ZisrKXt7Yi5BQ1RJVkVYX1ZFUlNJT05TW2ZdfXRyeXtlPW5ldyBBY3RpdmVYT2JqZWN0KGF4VmVyc2lvbnMpO2JyZWFrfWNhdGNoKGgpe319aWYobnVsbD09ZSlyZXR1cm4hMX1jcmVhdGVqcy5Mb2FkUXVldWUuaXNUZXh0KGEudHlwZSkmJmUub3ZlcnJpZGVNaW1lVHlwZSYmZS5vdmVycmlkZU1pbWVUeXBlKCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXV0Zi04IiksdGhpcy5feGhyTGV2ZWw9InN0cmluZyI9PXR5cGVvZiBlLnJlc3BvbnNlVHlwZT8yOjE7dmFyIGk9bnVsbDtpZihpPWEubWV0aG9kPT1jcmVhdGVqcy5Mb2FkUXVldWUuR0VUP3RoaXMuYnVpbGRQYXRoKGEuc3JjLGEudmFsdWVzKTphLnNyYyxlLm9wZW4oYS5tZXRob2R8fGNyZWF0ZWpzLkxvYWRRdWV1ZS5HRVQsaSwhMCksYyYmZSBpbnN0YW5jZW9mIFhNTEh0dHBSZXF1ZXN0JiYxPT10aGlzLl94aHJMZXZlbCYmKGQuT3JpZ2luPWxvY2F0aW9uLm9yaWdpbiksYS52YWx1ZXMmJmEubWV0aG9kPT1jcmVhdGVqcy5Mb2FkUXVldWUuUE9TVCYmKGRbIkNvbnRlbnQtVHlwZSJdPSJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSxjfHxkWyJYLVJlcXVlc3RlZC1XaXRoIl18fChkWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0IiksYS5oZWFkZXJzKWZvcih2YXIgaiBpbiBhLmhlYWRlcnMpZFtqXT1hLmhlYWRlcnNbal07Y3JlYXRlanMuTG9hZFF1ZXVlLmlzQmluYXJ5KGEudHlwZSkmJihlLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiKTtmb3IoaiBpbiBkKWUuc2V0UmVxdWVzdEhlYWRlcihqLGRbal0pO3JldHVybiB0aGlzLl9yZXF1ZXN0PWUsITB9LGMuX2NsZWFuPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX2xvYWRUaW1lb3V0KTt2YXIgYT10aGlzLl9yZXF1ZXN0O2Eub25sb2Fkc3RhcnQ9bnVsbCxhLm9ucHJvZ3Jlc3M9bnVsbCxhLm9uYWJvcnQ9bnVsbCxhLm9uZXJyb3I9bnVsbCxhLm9ubG9hZD1udWxsLGEub250aW1lb3V0PW51bGwsYS5vbmxvYWRlbmQ9bnVsbCxhLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsfSxjLl9nZW5lcmF0ZVRhZz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuX2l0ZW0udHlwZSxiPXRoaXMuX2l0ZW0udGFnO3N3aXRjaChhKXtjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5JTUFHRTpyZXR1cm4gYi5vbmxvYWQ9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlVGFnUmVhZHksdGhpcyksIiIhPXRoaXMuX2Nyb3NzT3JpZ2luJiYoYi5jcm9zc09yaWdpbj0iQW5vbnltb3VzIiksYi5zcmM9dGhpcy5idWlsZFBhdGgodGhpcy5faXRlbS5zcmMsdGhpcy5faXRlbS52YWx1ZXMpLHRoaXMuX3Jhd1Jlc3BvbnNlPXRoaXMuX3Jlc3BvbnNlLHRoaXMuX3Jlc3BvbnNlPWIsITE7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuSkFWQVNDUklQVDpyZXR1cm4gYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxiLnRleHQ9dGhpcy5fcmVzcG9uc2UsdGhpcy5fcmF3UmVzcG9uc2U9dGhpcy5fcmVzcG9uc2UsdGhpcy5fcmVzcG9uc2U9YiwhMDtjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5DU1M6dmFyIGM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXTtpZihjLmFwcGVuZENoaWxkKGIpLGIuc3R5bGVTaGVldCliLnN0eWxlU2hlZXQuY3NzVGV4dD10aGlzLl9yZXNwb25zZTtlbHNle3ZhciBkPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRoaXMuX3Jlc3BvbnNlKTtiLmFwcGVuZENoaWxkKGQpfXJldHVybiB0aGlzLl9yYXdSZXNwb25zZT10aGlzLl9yZXNwb25zZSx0aGlzLl9yZXNwb25zZT1iLCEwO2Nhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLlhNTDp2YXIgZT10aGlzLl9wYXJzZVhNTCh0aGlzLl9yZXNwb25zZSwidGV4dC94bWwiKTtyZXR1cm4gdGhpcy5fcmF3UmVzcG9uc2U9dGhpcy5fcmVzcG9uc2UsdGhpcy5fcmVzcG9uc2U9ZSwhMDtjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5TVkc6dmFyIGU9dGhpcy5fcGFyc2VYTUwodGhpcy5fcmVzcG9uc2UsImltYWdlL3N2Zyt4bWwiKTtyZXR1cm4gdGhpcy5fcmF3UmVzcG9uc2U9dGhpcy5fcmVzcG9uc2UsbnVsbCE9ZS5kb2N1bWVudEVsZW1lbnQ/KGIuYXBwZW5kQ2hpbGQoZS5kb2N1bWVudEVsZW1lbnQpLHRoaXMuX3Jlc3BvbnNlPWIpOnRoaXMuX3Jlc3BvbnNlPWUsITA7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuSlNPTjpjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5NQU5JRkVTVDp2YXIgZj17fTt0cnl7Zj1KU09OLnBhcnNlKHRoaXMuX3Jlc3BvbnNlKX1jYXRjaChnKXtmPWd9cmV0dXJuIHRoaXMuX3Jhd1Jlc3BvbnNlPXRoaXMuX3Jlc3BvbnNlLHRoaXMuX3Jlc3BvbnNlPWYsITB9cmV0dXJuITB9LGMuX3BhcnNlWE1MPWZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDt0cnl7aWYod2luZG93LkRPTVBhcnNlcil7dmFyIGQ9bmV3IERPTVBhcnNlcjtjPWQucGFyc2VGcm9tU3RyaW5nKGEsYil9ZWxzZSBjPW5ldyBBY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MRE9NIiksYy5hc3luYz0hMSxjLmxvYWRYTUwoYSl9Y2F0Y2goZSl7fXJldHVybiBjfSxjLl9oYW5kbGVUYWdSZWFkeT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuX2l0ZW0udGFnO2EmJihhLm9ubG9hZD1udWxsKSx0aGlzLl9zZW5kQ29tcGxldGUoKX0sYy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbUHJlbG9hZEpTIFhIUkxvYWRlcl0ifSxjcmVhdGVqcy5YSFJMb2FkZXI9YX0oKSwib2JqZWN0IiE9dHlwZW9mIEpTT04mJihKU09OPXt9KSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBmKGEpe3JldHVybiAxMD5hPyIwIithOmF9ZnVuY3Rpb24gcXVvdGUoYSl7cmV0dXJuIGVzY2FwYWJsZS5sYXN0SW5kZXg9MCxlc2NhcGFibGUudGVzdChhKT8nIicrYS5yZXBsYWNlKGVzY2FwYWJsZSxmdW5jdGlvbihhKXt2YXIgYj1tZXRhW2FdO3JldHVybiJzdHJpbmciPT10eXBlb2YgYj9iOiJcXHUiKygiMDAwMCIrYS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpfSkrJyInOiciJythKyciJ31mdW5jdGlvbiBzdHIoYSxiKXt2YXIgYyxkLGUsZixnLGg9Z2FwLGk9YlthXTtzd2l0Y2goaSYmIm9iamVjdCI9PXR5cGVvZiBpJiYiZnVuY3Rpb24iPT10eXBlb2YgaS50b0pTT04mJihpPWkudG9KU09OKGEpKSwiZnVuY3Rpb24iPT10eXBlb2YgcmVwJiYoaT1yZXAuY2FsbChiLGEsaSkpLHR5cGVvZiBpKXtjYXNlInN0cmluZyI6cmV0dXJuIHF1b3RlKGkpO2Nhc2UibnVtYmVyIjpyZXR1cm4gaXNGaW5pdGUoaSk/U3RyaW5nKGkpOiJudWxsIjtjYXNlImJvb2xlYW4iOmNhc2UibnVsbCI6cmV0dXJuIFN0cmluZyhpKTtjYXNlIm9iamVjdCI6aWYoIWkpcmV0dXJuIm51bGwiO2lmKGdhcCs9aW5kZW50LGc9W10sIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkoaSkpe2ZvcihmPWkubGVuZ3RoLGM9MDtmPmM7Yys9MSlnW2NdPXN0cihjLGkpfHwibnVsbCI7cmV0dXJuIGU9MD09PWcubGVuZ3RoPyJbXSI6Z2FwPyJbXG4iK2dhcCtnLmpvaW4oIixcbiIrZ2FwKSsiXG4iK2grIl0iOiJbIitnLmpvaW4oIiwiKSsiXSIsZ2FwPWgsZX1pZihyZXAmJiJvYmplY3QiPT10eXBlb2YgcmVwKWZvcihmPXJlcC5sZW5ndGgsYz0wO2Y+YztjKz0xKSJzdHJpbmciPT10eXBlb2YgcmVwW2NdJiYoZD1yZXBbY10sZT1zdHIoZCxpKSxlJiZnLnB1c2gocXVvdGUoZCkrKGdhcD8iOiAiOiI6IikrZSkpO2Vsc2UgZm9yKGQgaW4gaSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxkKSYmKGU9c3RyKGQsaSksZSYmZy5wdXNoKHF1b3RlKGQpKyhnYXA/IjogIjoiOiIpK2UpKTtyZXR1cm4gZT0wPT09Zy5sZW5ndGg/Int9IjpnYXA/IntcbiIrZ2FwK2cuam9pbigiLFxuIitnYXApKyJcbiIraCsifSI6InsiK2cuam9pbigiLCIpKyJ9IixnYXA9aCxlfX0iZnVuY3Rpb24iIT10eXBlb2YgRGF0ZS5wcm90b3R5cGUudG9KU09OJiYoRGF0ZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIGlzRmluaXRlKHRoaXMudmFsdWVPZigpKT90aGlzLmdldFVUQ0Z1bGxZZWFyKCkrIi0iK2YodGhpcy5nZXRVVENNb250aCgpKzEpKyItIitmKHRoaXMuZ2V0VVRDRGF0ZSgpKSsiVCIrZih0aGlzLmdldFVUQ0hvdXJzKCkpKyI6IitmKHRoaXMuZ2V0VVRDTWludXRlcygpKSsiOiIrZih0aGlzLmdldFVUQ1NlY29uZHMoKSkrIloiOm51bGx9LFN0cmluZy5wcm90b3R5cGUudG9KU09OPU51bWJlci5wcm90b3R5cGUudG9KU09OPUJvb2xlYW4ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlT2YoKX0pO3ZhciBjeD0vW1x1MDAwMFx1MDBhZFx1MDYwMC1cdTA2MDRcdTA3MGZcdTE3YjRcdTE3YjVcdTIwMGMtXHUyMDBmXHUyMDI4LVx1MjAyZlx1MjA2MC1cdTIwNmZcdWZlZmZcdWZmZjAtXHVmZmZmXS9nLGVzY2FwYWJsZT0vW1xcXCJceDAwLVx4MWZceDdmLVx4OWZcdTAwYWRcdTA2MDAtXHUwNjA0XHUwNzBmXHUxN2I0XHUxN2I1XHUyMDBjLVx1MjAwZlx1MjAyOC1cdTIwMmZcdTIwNjAtXHUyMDZmXHVmZWZmXHVmZmYwLVx1ZmZmZl0vZyxnYXAsaW5kZW50LG1ldGE9eyJcYiI6IlxcYiIsIgkiOiJcXHQiLCJcbiI6IlxcbiIsIlxmIjoiXFxmIiwiXHIiOiJcXHIiLCciJzonXFwiJywiXFwiOiJcXFxcIn0scmVwOyJmdW5jdGlvbiIhPXR5cGVvZiBKU09OLnN0cmluZ2lmeSYmKEpTT04uc3RyaW5naWZ5PWZ1bmN0aW9uKGEsYixjKXt2YXIgZDtpZihnYXA9IiIsaW5kZW50PSIiLCJudW1iZXIiPT10eXBlb2YgYylmb3IoZD0wO2M+ZDtkKz0xKWluZGVudCs9IiAiO2Vsc2Uic3RyaW5nIj09dHlwZW9mIGMmJihpbmRlbnQ9Yyk7aWYocmVwPWIsYiYmImZ1bmN0aW9uIiE9dHlwZW9mIGImJigib2JqZWN0IiE9dHlwZW9mIGJ8fCJudW1iZXIiIT10eXBlb2YgYi5sZW5ndGgpKXRocm93IG5ldyBFcnJvcigiSlNPTi5zdHJpbmdpZnkiKTtyZXR1cm4gc3RyKCIiLHsiIjphfSl9KSwiZnVuY3Rpb24iIT10eXBlb2YgSlNPTi5wYXJzZSYmKEpTT04ucGFyc2U9ZnVuY3Rpb24odGV4dCxyZXZpdmVyKXtmdW5jdGlvbiB3YWxrKGEsYil7dmFyIGMsZCxlPWFbYl07aWYoZSYmIm9iamVjdCI9PXR5cGVvZiBlKWZvcihjIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsYykmJihkPXdhbGsoZSxjKSx2b2lkIDAhPT1kP2VbY109ZDpkZWxldGUgZVtjXSk7cmV0dXJuIHJldml2ZXIuY2FsbChhLGIsZSl9dmFyIGo7aWYodGV4dD1TdHJpbmcodGV4dCksY3gubGFzdEluZGV4PTAsY3gudGVzdCh0ZXh0KSYmKHRleHQ9dGV4dC5yZXBsYWNlKGN4LGZ1bmN0aW9uKGEpe3JldHVybiJcXHUiKygiMDAwMCIrYS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpfSkpLC9eW1xdLDp7fVxzXSokLy50ZXN0KHRleHQucmVwbGFjZSgvXFwoPzpbIlxcXC9iZm5ydF18dVswLTlhLWZBLUZdezR9KS9nLCJAIikucmVwbGFjZSgvIlteIlxcXG5ccl0qInx0cnVlfGZhbHNlfG51bGx8LT9cZCsoPzpcLlxkKik/KD86W2VFXVsrXC1dP1xkKyk/L2csIl0iKS5yZXBsYWNlKC8oPzpefDp8LCkoPzpccypcWykrL2csIiIpKSlyZXR1cm4gaj1ldmFsKCIoIit0ZXh0KyIpIiksImZ1bmN0aW9uIj09dHlwZW9mIHJldml2ZXI/d2Fsayh7IiI6an0sIiIpOmo7dGhyb3cgbmV3IFN5bnRheEVycm9yKCJKU09OLnBhcnNlIil9KX0oKTs=",
                "body": "LyohCiogQGxpY2Vuc2UgUHJlbG9hZEpTCiogVmlzaXQgaHR0cDovL2NyZWF0ZWpzLmNvbS8gZm9yIGRvY3VtZW50YXRpb24sIHVwZGF0ZXMgYW5kIGV4YW1wbGVzLgoqCiogQ29weXJpZ2h0IChjKSAyMDExLTIwMTMgZ3NraW5uZXIuY29tLCBpbmMuCioKKiBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1JVCBsaWNlbnNlLgoqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UuaHRtbAoqCiogVGhpcyBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCiovCnRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9Y3JlYXRlanMuUHJlbG9hZEpTPWNyZWF0ZWpzLlByZWxvYWRKU3x8e307YS52ZXJzaW9uPSJORVhUIixhLmJ1aWxkRGF0ZT0iV2VkLCAyMiBPY3QgMjAxNCAxNjoxMTozNSBHTVQifSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuaW5pdGlhbGl6ZShhLGIsYyl9LGI9YS5wcm90b3R5cGU7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YSxiLnR5cGU9bnVsbCxiLnRhcmdldD1udWxsLGIuY3VycmVudFRhcmdldD1udWxsLGIuZXZlbnRQaGFzZT0wLGIuYnViYmxlcz0hMSxiLmNhbmNlbGFibGU9ITEsYi50aW1lU3RhbXA9MCxiLmRlZmF1bHRQcmV2ZW50ZWQ9ITEsYi5wcm9wYWdhdGlvblN0b3BwZWQ9ITEsYi5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9ITEsYi5yZW1vdmVkPSExLGIuaW5pdGlhbGl6ZT1mdW5jdGlvbihhLGIsYyl7dGhpcy50eXBlPWEsdGhpcy5idWJibGVzPWIsdGhpcy5jYW5jZWxhYmxlPWMsdGhpcy50aW1lU3RhbXA9KG5ldyBEYXRlKS5nZXRUaW1lKCl9LGIucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITB9LGIuc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7dGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ9ITB9LGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7dGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9dGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ9ITB9LGIucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVkPSEwfSxiLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhKHRoaXMudHlwZSx0aGlzLmJ1YmJsZXMsdGhpcy5jYW5jZWxhYmxlKX0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbRXZlbnQgKHR5cGU9Iit0aGlzLnR5cGUrIildIn0sY3JlYXRlanMuRXZlbnQ9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKCl7fSxiPWEucHJvdG90eXBlO2EucHJvdG90eXBlLmNvbnN0cnVjdG9yPWEsYS5pbml0aWFsaXplPWZ1bmN0aW9uKGEpe2EuYWRkRXZlbnRMaXN0ZW5lcj1iLmFkZEV2ZW50TGlzdGVuZXIsYS5vbj1iLm9uLGEucmVtb3ZlRXZlbnRMaXN0ZW5lcj1hLm9mZj1iLnJlbW92ZUV2ZW50TGlzdGVuZXIsYS5yZW1vdmVBbGxFdmVudExpc3RlbmVycz1iLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzLGEuaGFzRXZlbnRMaXN0ZW5lcj1iLmhhc0V2ZW50TGlzdGVuZXIsYS5kaXNwYXRjaEV2ZW50PWIuZGlzcGF0Y2hFdmVudCxhLl9kaXNwYXRjaEV2ZW50PWIuX2Rpc3BhdGNoRXZlbnQsYS53aWxsVHJpZ2dlcj1iLndpbGxUcmlnZ2VyfSxiLl9saXN0ZW5lcnM9bnVsbCxiLl9jYXB0dXJlTGlzdGVuZXJzPW51bGwsYi5pbml0aWFsaXplPWZ1bmN0aW9uKCl7fSxiLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2Q9Yz90aGlzLl9jYXB0dXJlTGlzdGVuZXJzPXRoaXMuX2NhcHR1cmVMaXN0ZW5lcnN8fHt9OnRoaXMuX2xpc3RlbmVycz10aGlzLl9saXN0ZW5lcnN8fHt9O3ZhciBlPWRbYV07cmV0dXJuIGUmJnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGIsYyksZT1kW2FdLGU/ZS5wdXNoKGIpOmRbYV09W2JdLGJ9LGIub249ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3JldHVybiBiLmhhbmRsZUV2ZW50JiYoYz1jfHxiLGI9Yi5oYW5kbGVFdmVudCksYz1jfHx0aGlzLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihhLGZ1bmN0aW9uKGEpe2IuY2FsbChjLGEsZSksZCYmYS5yZW1vdmUoKX0sZil9LGIucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Yz90aGlzLl9jYXB0dXJlTGlzdGVuZXJzOnRoaXMuX2xpc3RlbmVycztpZihkKXt2YXIgZT1kW2FdO2lmKGUpZm9yKHZhciBmPTAsZz1lLmxlbmd0aDtnPmY7ZisrKWlmKGVbZl09PWIpezE9PWc/ZGVsZXRlIGRbYV06ZS5zcGxpY2UoZiwxKTticmVha319fSxiLm9mZj1iLnJlbW92ZUV2ZW50TGlzdGVuZXIsYi5yZW1vdmVBbGxFdmVudExpc3RlbmVycz1mdW5jdGlvbihhKXthPyh0aGlzLl9saXN0ZW5lcnMmJmRlbGV0ZSB0aGlzLl9saXN0ZW5lcnNbYV0sdGhpcy5fY2FwdHVyZUxpc3RlbmVycyYmZGVsZXRlIHRoaXMuX2NhcHR1cmVMaXN0ZW5lcnNbYV0pOnRoaXMuX2xpc3RlbmVycz10aGlzLl9jYXB0dXJlTGlzdGVuZXJzPW51bGx9LGIuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihhKXtpZigic3RyaW5nIj09dHlwZW9mIGEpe3ZhciBiPXRoaXMuX2xpc3RlbmVycztpZighYnx8IWJbYV0pcmV0dXJuITE7YT1uZXcgY3JlYXRlanMuRXZlbnQoYSl9ZWxzZSBhLnRhcmdldCYmYS5jbG9uZSYmKGE9YS5jbG9uZSgpKTt0cnl7YS50YXJnZXQ9dGhpc31jYXRjaChjKXt9aWYoYS5idWJibGVzJiZ0aGlzLnBhcmVudCl7Zm9yKHZhciBkPXRoaXMsZT1bZF07ZC5wYXJlbnQ7KWUucHVzaChkPWQucGFyZW50KTt2YXIgZixnPWUubGVuZ3RoO2ZvcihmPWctMTtmPj0wJiYhYS5wcm9wYWdhdGlvblN0b3BwZWQ7Zi0tKWVbZl0uX2Rpc3BhdGNoRXZlbnQoYSwxKygwPT1mKSk7Zm9yKGY9MTtnPmYmJiFhLnByb3BhZ2F0aW9uU3RvcHBlZDtmKyspZVtmXS5fZGlzcGF0Y2hFdmVudChhLDMpfWVsc2UgdGhpcy5fZGlzcGF0Y2hFdmVudChhLDIpO3JldHVybiBhLmRlZmF1bHRQcmV2ZW50ZWR9LGIuaGFzRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLl9saXN0ZW5lcnMsYz10aGlzLl9jYXB0dXJlTGlzdGVuZXJzO3JldHVybiEhKGImJmJbYV18fGMmJmNbYV0pfSxiLndpbGxUcmlnZ2VyPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzO2I7KXtpZihiLmhhc0V2ZW50TGlzdGVuZXIoYSkpcmV0dXJuITA7Yj1iLnBhcmVudH1yZXR1cm4hMX0sYi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbRXZlbnREaXNwYXRjaGVyXSJ9LGIuX2Rpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTE9PWI/dGhpcy5fY2FwdHVyZUxpc3RlbmVyczp0aGlzLl9saXN0ZW5lcnM7aWYoYSYmZCl7dmFyIGU9ZFthLnR5cGVdO2lmKCFlfHwhKGM9ZS5sZW5ndGgpKXJldHVybjt0cnl7YS5jdXJyZW50VGFyZ2V0PXRoaXN9Y2F0Y2goZil7fXRyeXthLmV2ZW50UGhhc2U9Yn1jYXRjaChmKXt9YS5yZW1vdmVkPSExLGU9ZS5zbGljZSgpO2Zvcih2YXIgZz0wO2M+ZyYmIWEuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkO2crKyl7dmFyIGg9ZVtnXTtoLmhhbmRsZUV2ZW50P2guaGFuZGxlRXZlbnQoYSk6aChhKSxhLnJlbW92ZWQmJih0aGlzLm9mZihhLnR5cGUsaCwxPT1iKSxhLnJlbW92ZWQ9ITEpfX19LGNyZWF0ZWpzLkV2ZW50RGlzcGF0Y2hlcj1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y3JlYXRlanMuaW5kZXhPZj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKylpZihiPT09YVtjXSlyZXR1cm4gYztyZXR1cm4tMX19KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtjcmVhdGVqcy5wcm94eT1mdW5jdGlvbihhLGIpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShiLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKS5jb25jYXQoYykpfX19KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbigpe3RoaXMuaW5pdCgpfSxiPWEucHJvdG90eXBlPW5ldyBjcmVhdGVqcy5FdmVudERpc3BhdGNoZXI7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YTt2YXIgYz1hO2MuQUJTT0xVVEVfUEFUVD0vXig/Olx3KzopP1wvezJ9L2ksYy5SRUxBVElWRV9QQVRUPS9eWy4vXSo/XC8vaSxjLkVYVEVOU0lPTl9QQVRUPS9cLz9bXi9dK1wuKFx3ezEsNX0pJC9pLGIubG9hZGVkPSExLGIuY2FuY2VsZWQ9ITEsYi5wcm9ncmVzcz0wLGIuX2l0ZW09bnVsbCxiLmdldEl0ZW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXRlbX0sYi5pbml0PWZ1bmN0aW9uKCl7fSxiLmxvYWQ9ZnVuY3Rpb24oKXt9LGIuY2xvc2U9ZnVuY3Rpb24oKXt9LGIuX3NlbmRMb2FkU3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLl9pc0NhbmNlbGVkKCl8fHRoaXMuZGlzcGF0Y2hFdmVudCgibG9hZHN0YXJ0Iil9LGIuX3NlbmRQcm9ncmVzcz1mdW5jdGlvbihhKXtpZighdGhpcy5faXNDYW5jZWxlZCgpKXt2YXIgYj1udWxsOyJudW1iZXIiPT10eXBlb2YgYT8odGhpcy5wcm9ncmVzcz1hLGI9bmV3IGNyZWF0ZWpzLkV2ZW50KCJwcm9ncmVzcyIpLGIubG9hZGVkPXRoaXMucHJvZ3Jlc3MsYi50b3RhbD0xKTooYj1hLHRoaXMucHJvZ3Jlc3M9YS5sb2FkZWQvYS50b3RhbCwoaXNOYU4odGhpcy5wcm9ncmVzcyl8fDEvMD09dGhpcy5wcm9ncmVzcykmJih0aGlzLnByb2dyZXNzPTApKSxiLnByb2dyZXNzPXRoaXMucHJvZ3Jlc3MsdGhpcy5oYXNFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIpJiZ0aGlzLmRpc3BhdGNoRXZlbnQoYil9fSxiLl9zZW5kQ29tcGxldGU9ZnVuY3Rpb24oKXt0aGlzLl9pc0NhbmNlbGVkKCl8fHRoaXMuZGlzcGF0Y2hFdmVudCgiY29tcGxldGUiKX0sYi5fc2VuZEVycm9yPWZ1bmN0aW9uKGEpeyF0aGlzLl9pc0NhbmNlbGVkKCkmJnRoaXMuaGFzRXZlbnRMaXN0ZW5lcigiZXJyb3IiKSYmKG51bGw9PWEmJihhPW5ldyBjcmVhdGVqcy5FdmVudCgiZXJyb3IiKSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0sYi5faXNDYW5jZWxlZD1mdW5jdGlvbigpe3JldHVybiBudWxsPT13aW5kb3cuY3JlYXRlanN8fHRoaXMuY2FuY2VsZWQ/ITA6ITF9LGIuX3BhcnNlVVJJPWZ1bmN0aW9uKGEpe3ZhciBiPXthYnNvbHV0ZTohMSxyZWxhdGl2ZTohMX07aWYobnVsbD09YSlyZXR1cm4gYjt2YXIgZD1hLmluZGV4T2YoIj8iKTtkPi0xJiYoYT1hLnN1YnN0cigwLGQpKTt2YXIgZTtyZXR1cm4gYy5BQlNPTFVURV9QQVRULnRlc3QoYSk/Yi5hYnNvbHV0ZT0hMDpjLlJFTEFUSVZFX1BBVFQudGVzdChhKSYmKGIucmVsYXRpdmU9ITApLChlPWEubWF0Y2goYy5FWFRFTlNJT05fUEFUVCkpJiYoYi5leHRlbnNpb249ZVsxXS50b0xvd2VyQ2FzZSgpKSxifSxiLl9mb3JtYXRRdWVyeVN0cmluZz1mdW5jdGlvbihhLGIpe2lmKG51bGw9PWEpdGhyb3cgbmV3IEVycm9yKCJZb3UgbXVzdCBzcGVjaWZ5IGRhdGEuIik7dmFyIGM9W107Zm9yKHZhciBkIGluIGEpYy5wdXNoKGQrIj0iK2VzY2FwZShhW2RdKSk7cmV0dXJuIGImJihjPWMuY29uY2F0KGIpKSxjLmpvaW4oIiYiKX0sYi5idWlsZFBhdGg9ZnVuY3Rpb24oYSxiKXtpZihudWxsPT1iKXJldHVybiBhO3ZhciBjPVtdLGQ9YS5pbmRleE9mKCI/Iik7aWYoLTEhPWQpe3ZhciBlPWEuc2xpY2UoZCsxKTtjPWMuY29uY2F0KGUuc3BsaXQoIiYiKSl9cmV0dXJuLTEhPWQ/YS5zbGljZSgwLGQpKyI/Iit0aGlzLl9mb3JtYXRRdWVyeVN0cmluZyhiLGMpOmErIj8iK3RoaXMuX2Zvcm1hdFF1ZXJ5U3RyaW5nKGIsYyl9LGIuX2lzQ3Jvc3NEb21haW49ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2IuaHJlZj1hLnNyYzt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7Yy5ocmVmPWxvY2F0aW9uLmhyZWY7dmFyIGQ9IiIhPWIuaG9zdG5hbWUmJihiLnBvcnQhPWMucG9ydHx8Yi5wcm90b2NvbCE9Yy5wcm90b2NvbHx8Yi5ob3N0bmFtZSE9Yy5ob3N0bmFtZSk7cmV0dXJuIGR9LGIuX2lzTG9jYWw9ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO3JldHVybiBiLmhyZWY9YS5zcmMsIiI9PWIuaG9zdG5hbWUmJiJmaWxlOiI9PWIucHJvdG9jb2x9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW1ByZWxvYWRKUyBBYnN0cmFjdExvYWRlcl0ifSxjcmVhdGVqcy5BYnN0cmFjdExvYWRlcj1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuaW5pdChhLGIsYyl9LGI9YS5wcm90b3R5cGU9bmV3IGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyO2EucHJvdG90eXBlLmNvbnN0cnVjdG9yPWE7dmFyIGM9YTtjLmxvYWRUaW1lb3V0PThlMyxjLkxPQURfVElNRU9VVD0wLGMuQklOQVJZPSJiaW5hcnkiLGMuQ1NTPSJjc3MiLGMuSU1BR0U9ImltYWdlIixjLkpBVkFTQ1JJUFQ9ImphdmFzY3JpcHQiLGMuSlNPTj0ianNvbiIsYy5KU09OUD0ianNvbnAiLGMuTUFOSUZFU1Q9Im1hbmlmZXN0IixjLlNPVU5EPSJzb3VuZCIsYy5TVkc9InN2ZyIsYy5URVhUPSJ0ZXh0IixjLlhNTD0ieG1sIixjLlBPU1Q9IlBPU1QiLGMuR0VUPSJHRVQiLGIuX2Jhc2VQYXRoPW51bGwsYi5fY3Jvc3NPcmlnaW49IiIsYi51c2VYSFI9ITAsYi5zdG9wT25FcnJvcj0hMSxiLm1haW50YWluU2NyaXB0T3JkZXI9ITAsYi5uZXh0PW51bGwsYi5fdHlwZUNhbGxiYWNrcz1udWxsLGIuX2V4dGVuc2lvbkNhbGxiYWNrcz1udWxsLGIuX2xvYWRTdGFydFdhc0Rpc3BhdGNoZWQ9ITEsYi5fbWF4Q29ubmVjdGlvbnM9MSxiLl9jdXJyZW50bHlMb2FkaW5nU2NyaXB0PW51bGwsYi5fY3VycmVudExvYWRzPW51bGwsYi5fbG9hZFF1ZXVlPW51bGwsYi5fbG9hZFF1ZXVlQmFja3VwPW51bGwsYi5fbG9hZEl0ZW1zQnlJZD1udWxsLGIuX2xvYWRJdGVtc0J5U3JjPW51bGwsYi5fbG9hZGVkUmVzdWx0cz1udWxsLGIuX2xvYWRlZFJhd1Jlc3VsdHM9bnVsbCxiLl9udW1JdGVtcz0wLGIuX251bUl0ZW1zTG9hZGVkPTAsYi5fc2NyaXB0T3JkZXI9bnVsbCxiLl9sb2FkZWRTY3JpcHRzPW51bGwsYi5pbml0PWZ1bmN0aW9uKGEsYixjKXt0aGlzLl9udW1JdGVtcz10aGlzLl9udW1JdGVtc0xvYWRlZD0wLHRoaXMuX3BhdXNlZD0hMSx0aGlzLl9sb2FkU3RhcnRXYXNEaXNwYXRjaGVkPSExLHRoaXMuX2N1cnJlbnRMb2Fkcz1bXSx0aGlzLl9sb2FkUXVldWU9W10sdGhpcy5fbG9hZFF1ZXVlQmFja3VwPVtdLHRoaXMuX3NjcmlwdE9yZGVyPVtdLHRoaXMuX2xvYWRlZFNjcmlwdHM9W10sdGhpcy5fbG9hZEl0ZW1zQnlJZD17fSx0aGlzLl9sb2FkSXRlbXNCeVNyYz17fSx0aGlzLl9sb2FkZWRSZXN1bHRzPXt9LHRoaXMuX2xvYWRlZFJhd1Jlc3VsdHM9e30sdGhpcy5fdHlwZUNhbGxiYWNrcz17fSx0aGlzLl9leHRlbnNpb25DYWxsYmFja3M9e30sdGhpcy5fYmFzZVBhdGg9Yix0aGlzLnNldFVzZVhIUihhKSx0aGlzLl9jcm9zc09yaWdpbj1jPT09ITA/IkFub255bW91cyI6Yz09PSExfHxudWxsPT1jPyIiOmN9LGIuc2V0VXNlWEhSPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnVzZVhIUj0wIT1hJiZudWxsIT13aW5kb3cuWE1MSHR0cFJlcXVlc3QsdGhpcy51c2VYSFJ9LGIucmVtb3ZlQWxsPWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmUoKX0sYi5yZW1vdmU9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtpZighYXx8YSBpbnN0YW5jZW9mIEFycmF5KXtpZihhKWI9YTtlbHNlIGlmKGFyZ3VtZW50cy5sZW5ndGg+MClyZXR1cm59ZWxzZSBiPVthXTt2YXIgYz0hMTtpZihiKXtmb3IoO2IubGVuZ3RoOyl7dmFyIGQ9Yi5wb3AoKSxlPXRoaXMuZ2V0UmVzdWx0KGQpO2ZvcihmPXRoaXMuX2xvYWRRdWV1ZS5sZW5ndGgtMTtmPj0wO2YtLSlpZihnPXRoaXMuX2xvYWRRdWV1ZVtmXS5nZXRJdGVtKCksZy5pZD09ZHx8Zy5zcmM9PWQpe3RoaXMuX2xvYWRRdWV1ZS5zcGxpY2UoZiwxKVswXS5jYW5jZWwoKTticmVha31mb3IoZj10aGlzLl9sb2FkUXVldWVCYWNrdXAubGVuZ3RoLTE7Zj49MDtmLS0paWYoZz10aGlzLl9sb2FkUXVldWVCYWNrdXBbZl0uZ2V0SXRlbSgpLGcuaWQ9PWR8fGcuc3JjPT1kKXt0aGlzLl9sb2FkUXVldWVCYWNrdXAuc3BsaWNlKGYsMSlbMF0uY2FuY2VsKCk7YnJlYWt9aWYoZSlkZWxldGUgdGhpcy5fbG9hZEl0ZW1zQnlJZFtlLmlkXSxkZWxldGUgdGhpcy5fbG9hZEl0ZW1zQnlTcmNbZS5zcmNdLHRoaXMuX2Rpc3Bvc2VJdGVtKGUpO2Vsc2UgZm9yKHZhciBmPXRoaXMuX2N1cnJlbnRMb2Fkcy5sZW5ndGgtMTtmPj0wO2YtLSl7dmFyIGc9dGhpcy5fY3VycmVudExvYWRzW2ZdLmdldEl0ZW0oKTtpZihnLmlkPT1kfHxnLnNyYz09ZCl7dGhpcy5fY3VycmVudExvYWRzLnNwbGljZShmLDEpWzBdLmNhbmNlbCgpLGM9ITA7YnJlYWt9fX1jJiZ0aGlzLl9sb2FkTmV4dCgpfWVsc2V7dGhpcy5jbG9zZSgpO2Zvcih2YXIgaCBpbiB0aGlzLl9sb2FkSXRlbXNCeUlkKXRoaXMuX2Rpc3Bvc2VJdGVtKHRoaXMuX2xvYWRJdGVtc0J5SWRbaF0pO3RoaXMuaW5pdCh0aGlzLnVzZVhIUix0aGlzLl9iYXNlUGF0aCx0aGlzLl9jcm9zc09yaWdpbil9fSxiLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5jbG9zZSgpO2Zvcih2YXIgYSBpbiB0aGlzLl9sb2FkSXRlbXNCeUlkKXRoaXMuX2Rpc3Bvc2VJdGVtKHRoaXMuX2xvYWRJdGVtc0J5SWRbYV0pO2Zvcih2YXIgYj1bXSxjPTAsZD10aGlzLl9sb2FkUXVldWVCYWNrdXAubGVuZ3RoO2Q+YztjKyspYi5wdXNoKHRoaXMuX2xvYWRRdWV1ZUJhY2t1cFtjXS5nZXRJdGVtKCkpO3RoaXMubG9hZE1hbmlmZXN0KGIsITEpfSxjLmlzQmluYXJ5PWZ1bmN0aW9uKGEpe3N3aXRjaChhKXtjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5JTUFHRTpjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5CSU5BUlk6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19LGMuaXNUZXh0PWZ1bmN0aW9uKGEpe3N3aXRjaChhKXtjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5URVhUOmNhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLkpTT046Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuTUFOSUZFU1Q6Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuWE1MOmNhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLkhUTUw6Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuQ1NTOmNhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLlNWRzpjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5KQVZBU0NSSVBUOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSxiLmluc3RhbGxQbHVnaW49ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSYmbnVsbCE9YS5nZXRQcmVsb2FkSGFuZGxlcnMpe3ZhciBiPWEuZ2V0UHJlbG9hZEhhbmRsZXJzKCk7aWYoYi5zY29wZT1hLG51bGwhPWIudHlwZXMpZm9yKHZhciBjPTAsZD1iLnR5cGVzLmxlbmd0aDtkPmM7YysrKXRoaXMuX3R5cGVDYWxsYmFja3NbYi50eXBlc1tjXV09YjtpZihudWxsIT1iLmV4dGVuc2lvbnMpZm9yKGM9MCxkPWIuZXh0ZW5zaW9ucy5sZW5ndGg7ZD5jO2MrKyl0aGlzLl9leHRlbnNpb25DYWxsYmFja3NbYi5leHRlbnNpb25zW2NdXT1ifX0sYi5zZXRNYXhDb25uZWN0aW9ucz1mdW5jdGlvbihhKXt0aGlzLl9tYXhDb25uZWN0aW9ucz1hLCF0aGlzLl9wYXVzZWQmJnRoaXMuX2xvYWRRdWV1ZS5sZW5ndGg+MCYmdGhpcy5fbG9hZE5leHQoKX0sYi5sb2FkRmlsZT1mdW5jdGlvbihhLGIsYyl7aWYobnVsbD09YSl7dmFyIGQ9bmV3IGNyZWF0ZWpzLkV2ZW50KCJlcnJvciIpO3JldHVybiBkLnRleHQ9IlBSRUxPQURfTk9fRklMRSIsdm9pZCB0aGlzLl9zZW5kRXJyb3IoZCl9dGhpcy5fYWRkSXRlbShhLG51bGwsYyksdGhpcy5zZXRQYXVzZWQoYiE9PSExPyExOiEwKX0sYi5sb2FkTWFuaWZlc3Q9ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPW51bGwsZj1udWxsO2lmKGEgaW5zdGFuY2VvZiBBcnJheSl7aWYoMD09YS5sZW5ndGgpe3ZhciBnPW5ldyBjcmVhdGVqcy5FdmVudCgiZXJyb3IiKTtyZXR1cm4gZy50ZXh0PSJQUkVMT0FEX01BTklGRVNUX0VNUFRZIix2b2lkIHRoaXMuX3NlbmRFcnJvcihnKX1lPWF9ZWxzZSBpZigic3RyaW5nIj09dHlwZW9mIGEpZT1be3NyYzphLHR5cGU6Yy5NQU5JRkVTVH1dO2Vsc2V7aWYoIm9iamVjdCIhPXR5cGVvZiBhKXt2YXIgZz1uZXcgY3JlYXRlanMuRXZlbnQoImVycm9yIik7cmV0dXJuIGcudGV4dD0iUFJFTE9BRF9NQU5JRkVTVF9OVUxMIix2b2lkIHRoaXMuX3NlbmRFcnJvcihnKX1pZih2b2lkIDAhPT1hLnNyYyl7aWYobnVsbD09YS50eXBlKWEudHlwZT1jLk1BTklGRVNUO2Vsc2UgaWYoYS50eXBlIT1jLk1BTklGRVNUKXt2YXIgZz1uZXcgY3JlYXRlanMuRXZlbnQoImVycm9yIik7Zy50ZXh0PSJQUkVMT0FEX01BTklGRVNUX0VSUk9SIix0aGlzLl9zZW5kRXJyb3IoZyl9ZT1bYV19ZWxzZSB2b2lkIDAhPT1hLm1hbmlmZXN0JiYoZT1hLm1hbmlmZXN0LGY9YS5wYXRoKX1mb3IodmFyIGg9MCxpPWUubGVuZ3RoO2k+aDtoKyspdGhpcy5fYWRkSXRlbShlW2hdLGYsZCk7dGhpcy5zZXRQYXVzZWQoYiE9PSExPyExOiEwKX0sYi5sb2FkPWZ1bmN0aW9uKCl7dGhpcy5zZXRQYXVzZWQoITEpfSxiLmdldEl0ZW09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX2xvYWRJdGVtc0J5SWRbYV18fHRoaXMuX2xvYWRJdGVtc0J5U3JjW2FdfSxiLmdldFJlc3VsdD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuX2xvYWRJdGVtc0J5SWRbYV18fHRoaXMuX2xvYWRJdGVtc0J5U3JjW2FdO2lmKG51bGw9PWMpcmV0dXJuIG51bGw7dmFyIGQ9Yy5pZDtyZXR1cm4gYiYmdGhpcy5fbG9hZGVkUmF3UmVzdWx0c1tkXT90aGlzLl9sb2FkZWRSYXdSZXN1bHRzW2RdOnRoaXMuX2xvYWRlZFJlc3VsdHNbZF19LGIuc2V0UGF1c2VkPWZ1bmN0aW9uKGEpe3RoaXMuX3BhdXNlZD1hLHRoaXMuX3BhdXNlZHx8dGhpcy5fbG9hZE5leHQoKX0sYi5jbG9zZT1mdW5jdGlvbigpe2Zvcig7dGhpcy5fY3VycmVudExvYWRzLmxlbmd0aDspdGhpcy5fY3VycmVudExvYWRzLnBvcCgpLmNhbmNlbCgpO3RoaXMuX3NjcmlwdE9yZGVyLmxlbmd0aD0wLHRoaXMuX2xvYWRlZFNjcmlwdHMubGVuZ3RoPTAsdGhpcy5sb2FkU3RhcnRXYXNEaXNwYXRjaGVkPSExfSxiLl9hZGRJdGVtPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLl9jcmVhdGVMb2FkSXRlbShhLGIsYyk7aWYobnVsbCE9ZCl7dmFyIGU9dGhpcy5fY3JlYXRlTG9hZGVyKGQpO251bGwhPWUmJihkLl9sb2FkZXI9ZSx0aGlzLl9sb2FkUXVldWUucHVzaChlKSx0aGlzLl9sb2FkUXVldWVCYWNrdXAucHVzaChlKSx0aGlzLl9udW1JdGVtcysrLHRoaXMuX3VwZGF0ZVByb2dyZXNzKCksKHRoaXMubWFpbnRhaW5TY3JpcHRPcmRlciYmZC50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSkFWQVNDUklQVHx8ZC5tYWludGFpbk9yZGVyPT09ITApJiYodGhpcy5fc2NyaXB0T3JkZXIucHVzaChkKSx0aGlzLl9sb2FkZWRTY3JpcHRzLnB1c2gobnVsbCkpKX19LGIuX2NyZWF0ZUxvYWRJdGVtPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1udWxsO3N3aXRjaCh0eXBlb2YgYSl7Y2FzZSJzdHJpbmciOmQ9e3NyYzphfTticmVhaztjYXNlIm9iamVjdCI6ZD13aW5kb3cuSFRNTEF1ZGlvRWxlbWVudCYmYSBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MQXVkaW9FbGVtZW50P3t0YWc6YSxzcmM6ZC50YWcuc3JjLHR5cGU6Y3JlYXRlanMuTG9hZFF1ZXVlLlNPVU5EfTphO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIG51bGx9dmFyIGU9dGhpcy5fcGFyc2VVUkkoZC5zcmMpO2UuZXh0ZW5zaW9uJiYoZC5leHQ9ZS5leHRlbnNpb24pLG51bGw9PWQudHlwZSYmKGQudHlwZT10aGlzLl9nZXRUeXBlQnlFeHRlbnNpb24oZC5leHQpKTt2YXIgZj0iIixnPWN8fHRoaXMuX2Jhc2VQYXRoLGg9ZC5zcmM7aWYoIWUuYWJzb2x1dGUmJiFlLnJlbGF0aXZlKWlmKGIpe2Y9Yjt2YXIgaT10aGlzLl9wYXJzZVVSSShiKTtoPWIraCxudWxsPT1nfHxpLmFic29sdXRlfHxpLnJlbGF0aXZlfHwoZj1nK2YpfWVsc2UgbnVsbCE9ZyYmKGY9Zyk7aWYoZC5zcmM9ZitkLnNyYyxkLnBhdGg9ZiwoZC50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSlNPTnx8ZC50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuTUFOSUZFU1QpJiYoZC5fbG9hZEFzSlNPTlA9bnVsbCE9ZC5jYWxsYmFjayksZC50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSlNPTlAmJm51bGw9PWQuY2FsbGJhY2spdGhyb3cgbmV3IEVycm9yKCJjYWxsYmFjayBpcyByZXF1aXJlZCBmb3IgbG9hZGluZyBKU09OUCByZXF1ZXN0cy4iKTsodm9pZCAwPT09ZC50YWd8fG51bGw9PT1kLnRhZykmJihkLnRhZz10aGlzLl9jcmVhdGVUYWcoZCkpLCh2b2lkIDA9PT1kLmlkfHxudWxsPT09ZC5pZHx8IiI9PT1kLmlkKSYmKGQuaWQ9aCk7dmFyIGo9dGhpcy5fdHlwZUNhbGxiYWNrc1tkLnR5cGVdfHx0aGlzLl9leHRlbnNpb25DYWxsYmFja3NbZC5leHRdO2lmKGope3ZhciBrPWouY2FsbGJhY2suY2FsbChqLnNjb3BlLGQuc3JjLGQudHlwZSxkLmlkLGQuZGF0YSxmLHRoaXMpO2lmKGs9PT0hMSlyZXR1cm4gbnVsbDtrPT09ITB8fChudWxsIT1rLnNyYyYmKGQuc3JjPWsuc3JjKSxudWxsIT1rLmlkJiYoZC5pZD1rLmlkKSxudWxsIT1rLnRhZyYmKGQudGFnPWsudGFnKSxudWxsIT1rLmNvbXBsZXRlSGFuZGxlciYmKGQuY29tcGxldGVIYW5kbGVyPWsuY29tcGxldGVIYW5kbGVyKSxrLnR5cGUmJihkLnR5cGU9ay50eXBlKSxlPXRoaXMuX3BhcnNlVVJJKGQuc3JjKSxudWxsIT1lLmV4dGVuc2lvbiYmKGQuZXh0PWUuZXh0ZW5zaW9uKSl9cmV0dXJuIHRoaXMuX2xvYWRJdGVtc0J5SWRbZC5pZF09ZCx0aGlzLl9sb2FkSXRlbXNCeVNyY1tkLnNyY109ZCxkfSxiLl9jcmVhdGVMb2FkZXI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy51c2VYSFI7c3dpdGNoKGEudHlwZSl7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuSlNPTjpjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5NQU5JRkVTVDpiPSFhLl9sb2FkQXNKU09OUDticmVhaztjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5YTUw6Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuVEVYVDpiPSEwO2JyZWFrO2Nhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLlNPVU5EOmNhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLkpTT05QOmI9ITE7YnJlYWs7Y2FzZSBudWxsOnJldHVybiBudWxsfXJldHVybiBiP25ldyBjcmVhdGVqcy5YSFJMb2FkZXIoYSx0aGlzLl9jcm9zc09yaWdpbik6bmV3IGNyZWF0ZWpzLlRhZ0xvYWRlcihhKX0sYi5fbG9hZE5leHQ9ZnVuY3Rpb24oKXtpZighdGhpcy5fcGF1c2VkKXt0aGlzLl9sb2FkU3RhcnRXYXNEaXNwYXRjaGVkfHwodGhpcy5fc2VuZExvYWRTdGFydCgpLHRoaXMuX2xvYWRTdGFydFdhc0Rpc3BhdGNoZWQ9ITApLHRoaXMuX251bUl0ZW1zPT10aGlzLl9udW1JdGVtc0xvYWRlZD8odGhpcy5sb2FkZWQ9ITAsdGhpcy5fc2VuZENvbXBsZXRlKCksdGhpcy5uZXh0JiZ0aGlzLm5leHQubG9hZCYmdGhpcy5uZXh0LmxvYWQoKSk6dGhpcy5sb2FkZWQ9ITE7Zm9yKHZhciBhPTA7YTx0aGlzLl9sb2FkUXVldWUubGVuZ3RoJiYhKHRoaXMuX2N1cnJlbnRMb2Fkcy5sZW5ndGg+PXRoaXMuX21heENvbm5lY3Rpb25zKTthKyspe3ZhciBiPXRoaXMuX2xvYWRRdWV1ZVthXTt0aGlzLl9jYW5TdGFydExvYWQoYikmJih0aGlzLl9sb2FkUXVldWUuc3BsaWNlKGEsMSksYS0tLHRoaXMuX2xvYWRJdGVtKGIpKX19fSxiLl9sb2FkSXRlbT1mdW5jdGlvbihhKXthLm9uKCJwcm9ncmVzcyIsdGhpcy5faGFuZGxlUHJvZ3Jlc3MsdGhpcyksYS5vbigiY29tcGxldGUiLHRoaXMuX2hhbmRsZUZpbGVDb21wbGV0ZSx0aGlzKSxhLm9uKCJlcnJvciIsdGhpcy5faGFuZGxlRmlsZUVycm9yLHRoaXMpLHRoaXMuX2N1cnJlbnRMb2Fkcy5wdXNoKGEpLHRoaXMuX3NlbmRGaWxlU3RhcnQoYS5nZXRJdGVtKCkpLGEubG9hZCgpfSxiLl9oYW5kbGVGaWxlRXJyb3I9ZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQ7dGhpcy5fbnVtSXRlbXNMb2FkZWQrKyx0aGlzLl9maW5pc2hPcmRlcmVkSXRlbShiLCEwKSx0aGlzLl91cGRhdGVQcm9ncmVzcygpO3ZhciBjPW5ldyBjcmVhdGVqcy5FdmVudCgiZXJyb3IiKTtjLnRleHQ9IkZJTEVfTE9BRF9FUlJPUiIsYy5pdGVtPWIuZ2V0SXRlbSgpLHRoaXMuX3NlbmRFcnJvcihjKSx0aGlzLnN0b3BPbkVycm9yfHwodGhpcy5fcmVtb3ZlTG9hZEl0ZW0oYiksdGhpcy5fbG9hZE5leHQoKSl9LGIuX2hhbmRsZUZpbGVDb21wbGV0ZT1mdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldCxjPWIuZ2V0SXRlbSgpO3RoaXMuX2xvYWRlZFJlc3VsdHNbYy5pZF09Yi5nZXRSZXN1bHQoKSxiIGluc3RhbmNlb2YgY3JlYXRlanMuWEhSTG9hZGVyJiYodGhpcy5fbG9hZGVkUmF3UmVzdWx0c1tjLmlkXT1iLmdldFJlc3VsdCghMCkpLHRoaXMuX3JlbW92ZUxvYWRJdGVtKGIpLHRoaXMuX2ZpbmlzaE9yZGVyZWRJdGVtKGIpfHx0aGlzLl9wcm9jZXNzRmluaXNoZWRMb2FkKGMsYil9LGIuX2ZpbmlzaE9yZGVyZWRJdGVtPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRJdGVtKCk7aWYodGhpcy5tYWludGFpblNjcmlwdE9yZGVyJiZjLnR5cGU9PWNyZWF0ZWpzLkxvYWRRdWV1ZS5KQVZBU0NSSVBUfHxjLm1haW50YWluT3JkZXIpe2EgaW5zdGFuY2VvZiBjcmVhdGVqcy5UYWdMb2FkZXImJmMudHlwZT09Y3JlYXRlanMuTG9hZFF1ZXVlLkpBVkFTQ1JJUFQmJih0aGlzLl9jdXJyZW50bHlMb2FkaW5nU2NyaXB0PSExKTt2YXIgZD1jcmVhdGVqcy5pbmRleE9mKHRoaXMuX3NjcmlwdE9yZGVyLGMpO3JldHVybi0xPT1kPyExOih0aGlzLl9sb2FkZWRTY3JpcHRzW2RdPWI9PT0hMD8hMDpjLHRoaXMuX2NoZWNrU2NyaXB0TG9hZE9yZGVyKCksITApfXJldHVybiExfSxiLl9jaGVja1NjcmlwdExvYWRPcmRlcj1mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLl9sb2FkZWRTY3JpcHRzLmxlbmd0aCxiPTA7YT5iO2IrKyl7dmFyIGM9dGhpcy5fbG9hZGVkU2NyaXB0c1tiXTtpZihudWxsPT09YylicmVhaztpZihjIT09ITApe3ZhciBkPXRoaXMuX2xvYWRlZFJlc3VsdHNbYy5pZF07Yy50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSkFWQVNDUklQVCYmKGRvY3VtZW50LmJvZHl8fGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0pLmFwcGVuZENoaWxkKGQpO3ZhciBlPWMuX2xvYWRlcjt0aGlzLl9wcm9jZXNzRmluaXNoZWRMb2FkKGMsZSksdGhpcy5fbG9hZGVkU2NyaXB0c1tiXT0hMH19fSxiLl9wcm9jZXNzRmluaXNoZWRMb2FkPWZ1bmN0aW9uKGEsYil7aWYoYS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuTUFOSUZFU1Qpe3ZhciBjPWIuZ2V0UmVzdWx0KCk7bnVsbCE9YyYmdm9pZCAwIT09Yy5tYW5pZmVzdCYmdGhpcy5sb2FkTWFuaWZlc3QoYywhMCl9dGhpcy5fbnVtSXRlbXNMb2FkZWQrKyx0aGlzLl91cGRhdGVQcm9ncmVzcygpLHRoaXMuX3NlbmRGaWxlQ29tcGxldGUoYSxiKSx0aGlzLl9sb2FkTmV4dCgpfSxiLl9jYW5TdGFydExvYWQ9ZnVuY3Rpb24oYSl7aWYoIXRoaXMubWFpbnRhaW5TY3JpcHRPcmRlcnx8YSBpbnN0YW5jZW9mIGNyZWF0ZWpzLlhIUkxvYWRlcilyZXR1cm4hMDt2YXIgYj1hLmdldEl0ZW0oKTtpZihiLnR5cGUhPWNyZWF0ZWpzLkxvYWRRdWV1ZS5KQVZBU0NSSVBUKXJldHVybiEwO2lmKHRoaXMuX2N1cnJlbnRseUxvYWRpbmdTY3JpcHQpcmV0dXJuITE7Zm9yKHZhciBjPXRoaXMuX3NjcmlwdE9yZGVyLmluZGV4T2YoYiksZD0wO2M+ZDspe3ZhciBlPXRoaXMuX2xvYWRlZFNjcmlwdHNbZF07aWYobnVsbD09ZSlyZXR1cm4hMTtkKyt9cmV0dXJuIHRoaXMuX2N1cnJlbnRseUxvYWRpbmdTY3JpcHQ9ITAsITB9LGIuX3JlbW92ZUxvYWRJdGVtPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0SXRlbSgpO2RlbGV0ZSBiLl9sb2FkZXIsZGVsZXRlIGIuX2xvYWRBc0pTT05QO2Zvcih2YXIgYz10aGlzLl9jdXJyZW50TG9hZHMubGVuZ3RoLGQ9MDtjPmQ7ZCsrKWlmKHRoaXMuX2N1cnJlbnRMb2Fkc1tkXT09YSl7dGhpcy5fY3VycmVudExvYWRzLnNwbGljZShkLDEpO2JyZWFrfX0sYi5faGFuZGxlUHJvZ3Jlc3M9ZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQ7dGhpcy5fc2VuZEZpbGVQcm9ncmVzcyhiLmdldEl0ZW0oKSxiLnByb2dyZXNzKSx0aGlzLl91cGRhdGVQcm9ncmVzcygpfSxiLl91cGRhdGVQcm9ncmVzcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuX251bUl0ZW1zTG9hZGVkL3RoaXMuX251bUl0ZW1zLGI9dGhpcy5fbnVtSXRlbXMtdGhpcy5fbnVtSXRlbXNMb2FkZWQ7aWYoYj4wKXtmb3IodmFyIGM9MCxkPTAsZT10aGlzLl9jdXJyZW50TG9hZHMubGVuZ3RoO2U+ZDtkKyspYys9dGhpcy5fY3VycmVudExvYWRzW2RdLnByb2dyZXNzO2ErPWMvYiooYi90aGlzLl9udW1JdGVtcyl9dGhpcy5fc2VuZFByb2dyZXNzKGEpfSxiLl9kaXNwb3NlSXRlbT1mdW5jdGlvbihhKXtkZWxldGUgdGhpcy5fbG9hZGVkUmVzdWx0c1thLmlkXSxkZWxldGUgdGhpcy5fbG9hZGVkUmF3UmVzdWx0c1thLmlkXSxkZWxldGUgdGhpcy5fbG9hZEl0ZW1zQnlJZFthLmlkXSxkZWxldGUgdGhpcy5fbG9hZEl0ZW1zQnlTcmNbYS5zcmNdfSxiLl9jcmVhdGVUYWc9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtzd2l0Y2goYS50eXBlKXtjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5JTUFHRTpyZXR1cm4gYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKSwiIj09dGhpcy5fY3Jvc3NPcmlnaW58fHRoaXMuX2lzTG9jYWwoYSl8fChiLmNyb3NzT3JpZ2luPXRoaXMuX2Nyb3NzT3JpZ2luKSxiO2Nhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLlNPVU5EOnJldHVybiBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImF1ZGlvIiksYi5hdXRvcGxheT0hMSxiO2Nhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLkpTT046Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuSlNPTlA6Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuSkFWQVNDUklQVDpjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5NQU5JRkVTVDpyZXR1cm4gYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxiLnR5cGU9InRleHQvamF2YXNjcmlwdCIsYjtjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5DU1M6cmV0dXJuIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0aGlzLnVzZVhIUj8ic3R5bGUiOiJsaW5rIiksYi5yZWw9InN0eWxlc2hlZXQiLGIudHlwZT0idGV4dC9jc3MiLGI7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuU1ZHOnJldHVybiB0aGlzLnVzZVhIUj9iPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN2ZyIpOihiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9iamVjdCIpLGIudHlwZT0iaW1hZ2Uvc3ZnK3htbCIpLGJ9cmV0dXJuIG51bGx9LGIuX2dldFR5cGVCeUV4dGVuc2lvbj1mdW5jdGlvbihhKXtpZihudWxsPT1hKXJldHVybiBjcmVhdGVqcy5Mb2FkUXVldWUuVEVYVDtzd2l0Y2goYS50b0xvd2VyQ2FzZSgpKXtjYXNlImpwZWciOmNhc2UianBnIjpjYXNlImdpZiI6Y2FzZSJwbmciOmNhc2Uid2VicCI6Y2FzZSJibXAiOnJldHVybiBjcmVhdGVqcy5Mb2FkUXVldWUuSU1BR0U7Y2FzZSJvZ2ciOmNhc2UibXAzIjpjYXNlIndhdiI6cmV0dXJuIGNyZWF0ZWpzLkxvYWRRdWV1ZS5TT1VORDtjYXNlImpzb24iOnJldHVybiBjcmVhdGVqcy5Mb2FkUXVldWUuSlNPTjtjYXNlInhtbCI6cmV0dXJuIGNyZWF0ZWpzLkxvYWRRdWV1ZS5YTUw7Y2FzZSJjc3MiOnJldHVybiBjcmVhdGVqcy5Mb2FkUXVldWUuQ1NTO2Nhc2UianMiOnJldHVybiBjcmVhdGVqcy5Mb2FkUXVldWUuSkFWQVNDUklQVDtjYXNlInN2ZyI6cmV0dXJuIGNyZWF0ZWpzLkxvYWRRdWV1ZS5TVkc7ZGVmYXVsdDpyZXR1cm4gY3JlYXRlanMuTG9hZFF1ZXVlLlRFWFR9fSxiLl9zZW5kRmlsZVByb2dyZXNzPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5faXNDYW5jZWxlZCgpKXJldHVybiB2b2lkIHRoaXMuX2NsZWFuVXAoKTtpZih0aGlzLmhhc0V2ZW50TGlzdGVuZXIoImZpbGVwcm9ncmVzcyIpKXt2YXIgYz1uZXcgY3JlYXRlanMuRXZlbnQoImZpbGVwcm9ncmVzcyIpO2MucHJvZ3Jlc3M9YixjLmxvYWRlZD1iLGMudG90YWw9MSxjLml0ZW09YSx0aGlzLmRpc3BhdGNoRXZlbnQoYyl9fSxiLl9zZW5kRmlsZUNvbXBsZXRlPWZ1bmN0aW9uKGEsYil7aWYoIXRoaXMuX2lzQ2FuY2VsZWQoKSl7dmFyIGM9bmV3IGNyZWF0ZWpzLkV2ZW50KCJmaWxlbG9hZCIpO2MubG9hZGVyPWIsYy5pdGVtPWEsYy5yZXN1bHQ9dGhpcy5fbG9hZGVkUmVzdWx0c1thLmlkXSxjLnJhd1Jlc3VsdD10aGlzLl9sb2FkZWRSYXdSZXN1bHRzW2EuaWRdLGEuY29tcGxldGVIYW5kbGVyJiZhLmNvbXBsZXRlSGFuZGxlcihjKSx0aGlzLmhhc0V2ZW50TGlzdGVuZXIoImZpbGVsb2FkIikmJnRoaXMuZGlzcGF0Y2hFdmVudChjKX19LGIuX3NlbmRGaWxlU3RhcnQ9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGNyZWF0ZWpzLkV2ZW50KCJmaWxlc3RhcnQiKTtiLml0ZW09YSx0aGlzLmhhc0V2ZW50TGlzdGVuZXIoImZpbGVzdGFydCIpJiZ0aGlzLmRpc3BhdGNoRXZlbnQoYil9LGIudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW1ByZWxvYWRKUyBMb2FkUXVldWVdIn0sY3JlYXRlanMuTG9hZFF1ZXVlPWE7dmFyIGQ9ZnVuY3Rpb24oKXt9O2QuaW5pdD1mdW5jdGlvbigpe3ZhciBhPW5hdmlnYXRvci51c2VyQWdlbnQ7ZC5pc0ZpcmVmb3g9YS5pbmRleE9mKCJGaXJlZm94Iik+LTEsZC5pc09wZXJhPW51bGwhPXdpbmRvdy5vcGVyYSxkLmlzQ2hyb21lPWEuaW5kZXhPZigiQ2hyb21lIik+LTEsZC5pc0lPUz1hLmluZGV4T2YoImlQb2QiKT4tMXx8YS5pbmRleE9mKCJpUGhvbmUiKT4tMXx8YS5pbmRleE9mKCJpUGFkIik+LTF9LGQuaW5pdCgpLGNyZWF0ZWpzLkxvYWRRdWV1ZS5Ccm93c2VyRGV0ZWN0PWR9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbihhKXt0aGlzLmluaXQoYSl9LGI9YS5wcm90b3R5cGU9bmV3IGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyO2EucHJvdG90eXBlLmNvbnN0cnVjdG9yPWEsYi5fbG9hZFRpbWVvdXQ9bnVsbCxiLl90YWdDb21wbGV0ZVByb3h5PW51bGwsYi5faXNBdWRpbz0hMSxiLl90YWc9bnVsbCxiLl9qc29uUmVzdWx0PW51bGwsYi5pbml0PWZ1bmN0aW9uKGEpe3RoaXMuX2l0ZW09YSx0aGlzLl90YWc9YS50YWcsdGhpcy5faXNBdWRpbz13aW5kb3cuSFRNTEF1ZGlvRWxlbWVudCYmYS50YWcgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEF1ZGlvRWxlbWVudCx0aGlzLl90YWdDb21wbGV0ZVByb3h5PWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZUxvYWQsdGhpcyl9LGIuZ2V0UmVzdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2l0ZW0udHlwZT09Y3JlYXRlanMuTG9hZFF1ZXVlLkpTT05QfHx0aGlzLl9pdGVtLnR5cGU9PWNyZWF0ZWpzLkxvYWRRdWV1ZS5NQU5JRkVTVD90aGlzLl9qc29uUmVzdWx0OnRoaXMuX3RhZ30sYi5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbGVkPSEwLHRoaXMuX2NsZWFuKCl9LGIubG9hZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuX2l0ZW0sYj10aGlzLl90YWc7Y2xlYXJUaW1lb3V0KHRoaXMuX2xvYWRUaW1lb3V0KTt2YXIgYz1jcmVhdGVqcy5Mb2FkUXVldWUuTE9BRF9USU1FT1VUOzA9PWMmJihjPWNyZWF0ZWpzLkxvYWRRdWV1ZS5sb2FkVGltZW91dCksdGhpcy5fbG9hZFRpbWVvdXQ9c2V0VGltZW91dChjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVUaW1lb3V0LHRoaXMpLGMpLHRoaXMuX2lzQXVkaW8mJihiLnNyYz1udWxsLGIucHJlbG9hZD0iYXV0byIpLGIub25lcnJvcj1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVFcnJvcix0aGlzKSx0aGlzLl9pc0F1ZGlvPyhiLm9uc3RhbGxlZD1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVTdGFsbGVkLHRoaXMpLGIuYWRkRXZlbnRMaXN0ZW5lcigiY2FucGxheXRocm91Z2giLHRoaXMuX3RhZ0NvbXBsZXRlUHJveHksITEpKTooYi5vbmxvYWQ9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlTG9hZCx0aGlzKSxiLm9ucmVhZHlzdGF0ZWNoYW5nZT1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVSZWFkeVN0YXRlQ2hhbmdlLHRoaXMpKTt2YXIgZD10aGlzLmJ1aWxkUGF0aChhLnNyYyxhLnZhbHVlcyk7c3dpdGNoKGEudHlwZSl7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuQ1NTOmIuaHJlZj1kO2JyZWFrO2Nhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLlNWRzpiLmRhdGE9ZDticmVhaztkZWZhdWx0OmIuc3JjPWR9aWYoYS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSlNPTlB8fGEudHlwZT09Y3JlYXRlanMuTG9hZFF1ZXVlLkpTT058fGEudHlwZT09Y3JlYXRlanMuTG9hZFF1ZXVlLk1BTklGRVNUKXtpZihudWxsPT1hLmNhbGxiYWNrKXRocm93IG5ldyBFcnJvcigiY2FsbGJhY2sgaXMgcmVxdWlyZWQgZm9yIGxvYWRpbmcgSlNPTlAgcmVxdWVzdHMuIik7aWYobnVsbCE9d2luZG93W2EuY2FsbGJhY2tdKXRocm93IG5ldyBFcnJvcignSlNPTlAgY2FsbGJhY2sgIicrYS5jYWxsYmFjaysnIiBhbHJlYWR5IGV4aXN0cyBvbiB3aW5kb3cuIFlvdSBuZWVkIHRvIHNwZWNpZnkgYSBkaWZmZXJlbnQgY2FsbGJhY2suIE9yIHJlLW5hbWUgdGhlIGN1cnJlbnQgb25lLicpO3dpbmRvd1thLmNhbGxiYWNrXT1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVKU09OUExvYWQsdGhpcyl9aWYoYS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuU1ZHfHxhLnR5cGU9PWNyZWF0ZWpzLkxvYWRRdWV1ZS5KU09OUHx8YS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuSlNPTnx8YS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuTUFOSUZFU1R8fGEudHlwZT09Y3JlYXRlanMuTG9hZFF1ZXVlLkpBVkFTQ1JJUFR8fGEudHlwZT09Y3JlYXRlanMuTG9hZFF1ZXVlLkNTUyl7dGhpcy5fc3RhcnRUYWdWaXNpYmlsaXR5PWIuc3R5bGUudmlzaWJpbGl0eSxiLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiI7dmFyIGU9ZG9jdW1lbnQuYm9keXx8ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXTtpZihudWxsPT1lKXtpZihhLnR5cGU9PWNyZWF0ZWpzLkxvYWRRdWV1ZS5TVkcpcmV0dXJuIHZvaWQgdGhpcy5faGFuZGxlU1ZHRXJyb3IoKTtlPWRvY3VtZW50LmhlYWR8fGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIil9ZS5hcHBlbmRDaGlsZChiKX1udWxsIT1iLmxvYWQmJmIubG9hZCgpfSxiLl9oYW5kbGVTVkdFcnJvcj1mdW5jdGlvbigpe3RoaXMuX2NsZWFuKCk7dmFyIGE9bmV3IGNyZWF0ZWpzLkV2ZW50KCJlcnJvciIpO2EudGV4dD0iU1ZHX05PX0JPRFkiLHRoaXMuX3NlbmRFcnJvcihhKX0sYi5faGFuZGxlSlNPTlBMb2FkPWZ1bmN0aW9uKGEpe3RoaXMuX2pzb25SZXN1bHQ9YX0sYi5faGFuZGxlVGltZW91dD1mdW5jdGlvbigpe3RoaXMuX2NsZWFuKCk7dmFyIGE9bmV3IGNyZWF0ZWpzLkV2ZW50KCJlcnJvciIpO2EudGV4dD0iUFJFTE9BRF9USU1FT1VUIix0aGlzLl9zZW5kRXJyb3IoYSl9LGIuX2hhbmRsZVN0YWxsZWQ9ZnVuY3Rpb24oKXt9LGIuX2hhbmRsZUVycm9yPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYW4oKTt2YXIgYT1uZXcgY3JlYXRlanMuRXZlbnQoImVycm9yIik7dGhpcy5fc2VuZEVycm9yKGEpfSxiLl9oYW5kbGVSZWFkeVN0YXRlQ2hhbmdlPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX2xvYWRUaW1lb3V0KTt2YXIgYT10aGlzLmdldEl0ZW0oKS50YWc7KCJsb2FkZWQiPT1hLnJlYWR5U3RhdGV8fCJjb21wbGV0ZSI9PWEucmVhZHlTdGF0ZSkmJnRoaXMuX2hhbmRsZUxvYWQoKX0sYi5faGFuZGxlTG9hZD1mdW5jdGlvbigpe2lmKCF0aGlzLl9pc0NhbmNlbGVkKCkpe3ZhciBhPXRoaXMuZ2V0SXRlbSgpLGI9YS50YWc7aWYoISh0aGlzLmxvYWRlZHx8dGhpcy5faXNBdWRpbyYmNCE9PWIucmVhZHlTdGF0ZSkpe3N3aXRjaCh0aGlzLmxvYWRlZD0hMCxhLnR5cGUpe2Nhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLlNWRzpjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5KU09OOmNhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLkpTT05QOmNhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLk1BTklGRVNUOmNhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLkNTUzpiLnN0eWxlLnZpc2liaWxpdHk9dGhpcy5fc3RhcnRUYWdWaXNpYmlsaXR5LGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLmNvbnRhaW5zKGIpJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYil9dGhpcy5fY2xlYW4oKSx0aGlzLl9zZW5kQ29tcGxldGUoKX19fSxiLl9jbGVhbj1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl9sb2FkVGltZW91dCk7dmFyIGE9dGhpcy5nZXRJdGVtKCksYj1hLnRhZztudWxsIT1iJiYoYi5vbmxvYWQ9bnVsbCxiLnJlbW92ZUV2ZW50TGlzdGVuZXImJmIucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2FucGxheXRocm91Z2giLHRoaXMuX3RhZ0NvbXBsZXRlUHJveHksITEpLGIub25zdGFsbGVkPW51bGwsYi5vbnByb2dyZXNzPW51bGwsYi5vbmVycm9yPW51bGwsbnVsbCE9Yi5wYXJlbnROb2RlJiZhLnR5cGU9PWNyZWF0ZWpzLkxvYWRRdWV1ZS5TVkcmJmEudHlwZT09Y3JlYXRlanMuTG9hZFF1ZXVlLkpTT04mJmEudHlwZT09Y3JlYXRlanMuTG9hZFF1ZXVlLk1BTklGRVNUJiZhLnR5cGU9PWNyZWF0ZWpzLkxvYWRRdWV1ZS5DU1MmJmEudHlwZT09Y3JlYXRlanMuTG9hZFF1ZXVlLkpTT05QJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYikpO3ZhciBhPXRoaXMuZ2V0SXRlbSgpOyhhLnR5cGU9PWNyZWF0ZWpzLkxvYWRRdWV1ZS5KU09OUHx8YS50eXBlPT1jcmVhdGVqcy5Mb2FkUXVldWUuTUFOSUZFU1QpJiYod2luZG93W2EuY2FsbGJhY2tdPW51bGwpfSxiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltQcmVsb2FkSlMgVGFnTG9hZGVyXSJ9LGNyZWF0ZWpzLlRhZ0xvYWRlcj1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9ZnVuY3Rpb24oYSxiKXt0aGlzLmluaXQoYSxiKX0sYj1hO2IuQUNUSVZFWF9WRVJTSU9OUz1bIk1zeG1sMi5YTUxIVFRQLjYuMCIsIk1zeG1sMi5YTUxIVFRQLjUuMCIsIk1zeG1sMi5YTUxIVFRQLjQuMCIsIk1TWE1MMi5YTUxIVFRQLjMuMCIsIk1TWE1MMi5YTUxIVFRQIiwiTWljcm9zb2Z0LlhNTEhUVFAiXTt2YXIgYz1hLnByb3RvdHlwZT1uZXcgY3JlYXRlanMuQWJzdHJhY3RMb2FkZXI7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YSxjLl9yZXF1ZXN0PW51bGwsYy5fbG9hZFRpbWVvdXQ9bnVsbCxjLl94aHJMZXZlbD0xLGMuX3Jlc3BvbnNlPW51bGwsYy5fcmF3UmVzcG9uc2U9bnVsbCxjLl9jcm9zc09yaWdpbj0iIixjLmluaXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLl9pdGVtPWEsdGhpcy5fY3Jvc3NPcmlnaW49YiwhdGhpcy5fY3JlYXRlWEhSKGEpfSxjLmdldFJlc3VsdD1mdW5jdGlvbihhKXtyZXR1cm4gYSYmdGhpcy5fcmF3UmVzcG9uc2U/dGhpcy5fcmF3UmVzcG9uc2U6dGhpcy5fcmVzcG9uc2V9LGMuY2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5jYW5jZWxlZD0hMCx0aGlzLl9jbGVhbigpLHRoaXMuX3JlcXVlc3QuYWJvcnQoKX0sYy5sb2FkPWZ1bmN0aW9uKCl7aWYobnVsbD09dGhpcy5fcmVxdWVzdClyZXR1cm4gdm9pZCB0aGlzLl9oYW5kbGVFcnJvcigpO2lmKHRoaXMuX3JlcXVlc3Qub25sb2Fkc3RhcnQ9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlTG9hZFN0YXJ0LHRoaXMpLHRoaXMuX3JlcXVlc3Qub25wcm9ncmVzcz1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVQcm9ncmVzcyx0aGlzKSx0aGlzLl9yZXF1ZXN0Lm9uYWJvcnQ9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlQWJvcnQsdGhpcyksdGhpcy5fcmVxdWVzdC5vbmVycm9yPWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZUVycm9yLHRoaXMpLHRoaXMuX3JlcXVlc3Qub250aW1lb3V0PWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVRpbWVvdXQsdGhpcyksMT09dGhpcy5feGhyTGV2ZWwpe3ZhciBhPWNyZWF0ZWpzLkxvYWRRdWV1ZS5MT0FEX1RJTUVPVVQ7aWYoMD09YSlhPWNyZWF0ZWpzLkxvYWRRdWV1ZS5sb2FkVGltZW91dDtlbHNlIHRyeXtjb25zb2xlLndhcm4oIkxvYWRRdWV1ZS5MT0FEX1RJTUVPVVQgaGFzIGJlZW4gZGVwcmVjYXRlZCBpbiBmYXZvciBvZiBMb2FkUXVldWUubG9hZFRpbWVvdXQiKX1jYXRjaChiKXt9dGhpcy5fbG9hZFRpbWVvdXQ9c2V0VGltZW91dChjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVUaW1lb3V0LHRoaXMpLGEpfXRoaXMuX3JlcXVlc3Qub25sb2FkPWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZUxvYWQsdGhpcyksdGhpcy5fcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2U9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlUmVhZHlTdGF0ZUNoYW5nZSx0aGlzKTt0cnl7dGhpcy5faXRlbS52YWx1ZXMmJnRoaXMuX2l0ZW0ubWV0aG9kIT1jcmVhdGVqcy5Mb2FkUXVldWUuR0VUP3RoaXMuX2l0ZW0ubWV0aG9kPT1jcmVhdGVqcy5Mb2FkUXVldWUuUE9TVCYmdGhpcy5fcmVxdWVzdC5zZW5kKHRoaXMuX2Zvcm1hdFF1ZXJ5U3RyaW5nKHRoaXMuX2l0ZW0udmFsdWVzKSk6dGhpcy5fcmVxdWVzdC5zZW5kKCl9Y2F0Y2goYyl7dmFyIGQ9bmV3IGNyZWF0ZWpzLkV2ZW50KCJlcnJvciIpO2QuZXJyb3I9Yyx0aGlzLl9zZW5kRXJyb3IoZCl9fSxjLmdldEFsbFJlc3BvbnNlSGVhZGVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXF1ZXN0LmdldEFsbFJlc3BvbnNlSGVhZGVycyBpbnN0YW5jZW9mIEZ1bmN0aW9uP3RoaXMuX3JlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCk6bnVsbH0sYy5nZXRSZXNwb25zZUhlYWRlcj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fcmVxdWVzdC5nZXRSZXNwb25zZUhlYWRlciBpbnN0YW5jZW9mIEZ1bmN0aW9uP3RoaXMuX3JlcXVlc3QuZ2V0UmVzcG9uc2VIZWFkZXIoYSk6bnVsbH0sYy5faGFuZGxlUHJvZ3Jlc3M9ZnVuY3Rpb24oYSl7aWYoYSYmIShhLmxvYWRlZD4wJiYwPT1hLnRvdGFsKSl7dmFyIGI9bmV3IGNyZWF0ZWpzLkV2ZW50KCJwcm9ncmVzcyIpO2IubG9hZGVkPWEubG9hZGVkLGIudG90YWw9YS50b3RhbCx0aGlzLl9zZW5kUHJvZ3Jlc3MoYil9fSxjLl9oYW5kbGVMb2FkU3RhcnQ9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fbG9hZFRpbWVvdXQpLHRoaXMuX3NlbmRMb2FkU3RhcnQoKX0sYy5faGFuZGxlQWJvcnQ9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhbigpO3ZhciBhPW5ldyBjcmVhdGVqcy5FdmVudCgiZXJyb3IiKTthLnRleHQ9IlhIUl9BQk9SVEVEIix0aGlzLl9zZW5kRXJyb3IoYSl9LGMuX2hhbmRsZUVycm9yPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYW4oKTt2YXIgYT1uZXcgY3JlYXRlanMuRXZlbnQoImVycm9yIik7dGhpcy5fc2VuZEVycm9yKGEpfSxjLl9oYW5kbGVSZWFkeVN0YXRlQ2hhbmdlPWZ1bmN0aW9uKCl7ND09dGhpcy5fcmVxdWVzdC5yZWFkeVN0YXRlJiZ0aGlzLl9oYW5kbGVMb2FkKCl9LGMuX2hhbmRsZUxvYWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5sb2FkZWQpe2lmKHRoaXMubG9hZGVkPSEwLCF0aGlzLl9jaGVja0Vycm9yKCkpcmV0dXJuIHZvaWQgdGhpcy5faGFuZGxlRXJyb3IoKTt0aGlzLl9yZXNwb25zZT10aGlzLl9nZXRSZXNwb25zZSgpLHRoaXMuX2NsZWFuKCk7dmFyIGE9dGhpcy5fZ2VuZXJhdGVUYWcoKTthJiZ0aGlzLl9zZW5kQ29tcGxldGUoKX19LGMuX2hhbmRsZVRpbWVvdXQ9ZnVuY3Rpb24oYSl7dGhpcy5fY2xlYW4oKTt2YXIgYj1uZXcgY3JlYXRlanMuRXZlbnQoImVycm9yIik7Yi50ZXh0PSJQUkVMT0FEX1RJTUVPVVQiLHRoaXMuX3NlbmRFcnJvcihhKX0sYy5fY2hlY2tFcnJvcj1mdW5jdGlvbigpe3ZhciBhPXBhcnNlSW50KHRoaXMuX3JlcXVlc3Quc3RhdHVzKTtzd2l0Y2goYSl7Y2FzZSA0MDQ6Y2FzZSAwOnJldHVybiExfXJldHVybiEwfSxjLl9nZXRSZXNwb25zZT1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuX3Jlc3BvbnNlKXJldHVybiB0aGlzLl9yZXNwb25zZTtpZihudWxsIT10aGlzLl9yZXF1ZXN0LnJlc3BvbnNlKXJldHVybiB0aGlzLl9yZXF1ZXN0LnJlc3BvbnNlO3RyeXtpZihudWxsIT10aGlzLl9yZXF1ZXN0LnJlc3BvbnNlVGV4dClyZXR1cm4gdGhpcy5fcmVxdWVzdC5yZXNwb25zZVRleHR9Y2F0Y2goYSl7fXRyeXtpZihudWxsIT10aGlzLl9yZXF1ZXN0LnJlc3BvbnNlWE1MKXJldHVybiB0aGlzLl9yZXF1ZXN0LnJlc3BvbnNlWE1MfWNhdGNoKGEpe31yZXR1cm4gbnVsbH0sYy5fY3JlYXRlWEhSPWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuX2lzQ3Jvc3NEb21haW4oYSksZD17fSxlPW51bGw7aWYod2luZG93LlhNTEh0dHBSZXF1ZXN0KWU9bmV3IFhNTEh0dHBSZXF1ZXN0LGMmJnZvaWQgMD09PWUud2l0aENyZWRlbnRpYWxzJiZ3aW5kb3cuWERvbWFpblJlcXVlc3QmJihlPW5ldyBYRG9tYWluUmVxdWVzdCk7ZWxzZXtmb3IodmFyIGY9MCxnPWIuQUNUSVZFWF9WRVJTSU9OUy5sZW5ndGg7Zz5mO2YrKyl7e2IuQUNUSVZFWF9WRVJTSU9OU1tmXX10cnl7ZT1uZXcgQWN0aXZlWE9iamVjdChheFZlcnNpb25zKTticmVha31jYXRjaChoKXt9fWlmKG51bGw9PWUpcmV0dXJuITF9Y3JlYXRlanMuTG9hZFF1ZXVlLmlzVGV4dChhLnR5cGUpJiZlLm92ZXJyaWRlTWltZVR5cGUmJmUub3ZlcnJpZGVNaW1lVHlwZSgidGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOCIpLHRoaXMuX3hockxldmVsPSJzdHJpbmciPT10eXBlb2YgZS5yZXNwb25zZVR5cGU/MjoxO3ZhciBpPW51bGw7aWYoaT1hLm1ldGhvZD09Y3JlYXRlanMuTG9hZFF1ZXVlLkdFVD90aGlzLmJ1aWxkUGF0aChhLnNyYyxhLnZhbHVlcyk6YS5zcmMsZS5vcGVuKGEubWV0aG9kfHxjcmVhdGVqcy5Mb2FkUXVldWUuR0VULGksITApLGMmJmUgaW5zdGFuY2VvZiBYTUxIdHRwUmVxdWVzdCYmMT09dGhpcy5feGhyTGV2ZWwmJihkLk9yaWdpbj1sb2NhdGlvbi5vcmlnaW4pLGEudmFsdWVzJiZhLm1ldGhvZD09Y3JlYXRlanMuTG9hZFF1ZXVlLlBPU1QmJihkWyJDb250ZW50LVR5cGUiXT0iYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiksY3x8ZFsiWC1SZXF1ZXN0ZWQtV2l0aCJdfHwoZFsiWC1SZXF1ZXN0ZWQtV2l0aCJdPSJYTUxIdHRwUmVxdWVzdCIpLGEuaGVhZGVycylmb3IodmFyIGogaW4gYS5oZWFkZXJzKWRbal09YS5oZWFkZXJzW2pdO2NyZWF0ZWpzLkxvYWRRdWV1ZS5pc0JpbmFyeShhLnR5cGUpJiYoZS5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIik7Zm9yKGogaW4gZCllLnNldFJlcXVlc3RIZWFkZXIoaixkW2pdKTtyZXR1cm4gdGhpcy5fcmVxdWVzdD1lLCEwfSxjLl9jbGVhbj1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl9sb2FkVGltZW91dCk7dmFyIGE9dGhpcy5fcmVxdWVzdDthLm9ubG9hZHN0YXJ0PW51bGwsYS5vbnByb2dyZXNzPW51bGwsYS5vbmFib3J0PW51bGwsYS5vbmVycm9yPW51bGwsYS5vbmxvYWQ9bnVsbCxhLm9udGltZW91dD1udWxsLGEub25sb2FkZW5kPW51bGwsYS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbH0sYy5fZ2VuZXJhdGVUYWc9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9pdGVtLnR5cGUsYj10aGlzLl9pdGVtLnRhZztzd2l0Y2goYSl7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuSU1BR0U6cmV0dXJuIGIub25sb2FkPWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVRhZ1JlYWR5LHRoaXMpLCIiIT10aGlzLl9jcm9zc09yaWdpbiYmKGIuY3Jvc3NPcmlnaW49IkFub255bW91cyIpLGIuc3JjPXRoaXMuYnVpbGRQYXRoKHRoaXMuX2l0ZW0uc3JjLHRoaXMuX2l0ZW0udmFsdWVzKSx0aGlzLl9yYXdSZXNwb25zZT10aGlzLl9yZXNwb25zZSx0aGlzLl9yZXNwb25zZT1iLCExO2Nhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLkpBVkFTQ1JJUFQ6cmV0dXJuIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0IiksYi50ZXh0PXRoaXMuX3Jlc3BvbnNlLHRoaXMuX3Jhd1Jlc3BvbnNlPXRoaXMuX3Jlc3BvbnNlLHRoaXMuX3Jlc3BvbnNlPWIsITA7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuQ1NTOnZhciBjPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF07aWYoYy5hcHBlbmRDaGlsZChiKSxiLnN0eWxlU2hlZXQpYi5zdHlsZVNoZWV0LmNzc1RleHQ9dGhpcy5fcmVzcG9uc2U7ZWxzZXt2YXIgZD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLl9yZXNwb25zZSk7Yi5hcHBlbmRDaGlsZChkKX1yZXR1cm4gdGhpcy5fcmF3UmVzcG9uc2U9dGhpcy5fcmVzcG9uc2UsdGhpcy5fcmVzcG9uc2U9YiwhMDtjYXNlIGNyZWF0ZWpzLkxvYWRRdWV1ZS5YTUw6dmFyIGU9dGhpcy5fcGFyc2VYTUwodGhpcy5fcmVzcG9uc2UsInRleHQveG1sIik7cmV0dXJuIHRoaXMuX3Jhd1Jlc3BvbnNlPXRoaXMuX3Jlc3BvbnNlLHRoaXMuX3Jlc3BvbnNlPWUsITA7Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuU1ZHOnZhciBlPXRoaXMuX3BhcnNlWE1MKHRoaXMuX3Jlc3BvbnNlLCJpbWFnZS9zdmcreG1sIik7cmV0dXJuIHRoaXMuX3Jhd1Jlc3BvbnNlPXRoaXMuX3Jlc3BvbnNlLG51bGwhPWUuZG9jdW1lbnRFbGVtZW50PyhiLmFwcGVuZENoaWxkKGUuZG9jdW1lbnRFbGVtZW50KSx0aGlzLl9yZXNwb25zZT1iKTp0aGlzLl9yZXNwb25zZT1lLCEwO2Nhc2UgY3JlYXRlanMuTG9hZFF1ZXVlLkpTT046Y2FzZSBjcmVhdGVqcy5Mb2FkUXVldWUuTUFOSUZFU1Q6dmFyIGY9e307dHJ5e2Y9SlNPTi5wYXJzZSh0aGlzLl9yZXNwb25zZSl9Y2F0Y2goZyl7Zj1nfXJldHVybiB0aGlzLl9yYXdSZXNwb25zZT10aGlzLl9yZXNwb25zZSx0aGlzLl9yZXNwb25zZT1mLCEwfXJldHVybiEwfSxjLl9wYXJzZVhNTD1mdW5jdGlvbihhLGIpe3ZhciBjPW51bGw7dHJ5e2lmKHdpbmRvdy5ET01QYXJzZXIpe3ZhciBkPW5ldyBET01QYXJzZXI7Yz1kLnBhcnNlRnJvbVN0cmluZyhhLGIpfWVsc2UgYz1uZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTERPTSIpLGMuYXN5bmM9ITEsYy5sb2FkWE1MKGEpfWNhdGNoKGUpe31yZXR1cm4gY30sYy5faGFuZGxlVGFnUmVhZHk9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9pdGVtLnRhZzthJiYoYS5vbmxvYWQ9bnVsbCksdGhpcy5fc2VuZENvbXBsZXRlKCl9LGMudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW1ByZWxvYWRKUyBYSFJMb2FkZXJdIn0sY3JlYXRlanMuWEhSTG9hZGVyPWF9KCksIm9iamVjdCIhPXR5cGVvZiBKU09OJiYoSlNPTj17fSksZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZihhKXtyZXR1cm4gMTA+YT8iMCIrYTphfWZ1bmN0aW9uIHF1b3RlKGEpe3JldHVybiBlc2NhcGFibGUubGFzdEluZGV4PTAsZXNjYXBhYmxlLnRlc3QoYSk/JyInK2EucmVwbGFjZShlc2NhcGFibGUsZnVuY3Rpb24oYSl7dmFyIGI9bWV0YVthXTtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGI/YjoiXFx1IisoIjAwMDAiK2EuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KX0pKyciJzonIicrYSsnIid9ZnVuY3Rpb24gc3RyKGEsYil7dmFyIGMsZCxlLGYsZyxoPWdhcCxpPWJbYV07c3dpdGNoKGkmJiJvYmplY3QiPT10eXBlb2YgaSYmImZ1bmN0aW9uIj09dHlwZW9mIGkudG9KU09OJiYoaT1pLnRvSlNPTihhKSksImZ1bmN0aW9uIj09dHlwZW9mIHJlcCYmKGk9cmVwLmNhbGwoYixhLGkpKSx0eXBlb2YgaSl7Y2FzZSJzdHJpbmciOnJldHVybiBxdW90ZShpKTtjYXNlIm51bWJlciI6cmV0dXJuIGlzRmluaXRlKGkpP1N0cmluZyhpKToibnVsbCI7Y2FzZSJib29sZWFuIjpjYXNlIm51bGwiOnJldHVybiBTdHJpbmcoaSk7Y2FzZSJvYmplY3QiOmlmKCFpKXJldHVybiJudWxsIjtpZihnYXArPWluZGVudCxnPVtdLCJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KGkpKXtmb3IoZj1pLmxlbmd0aCxjPTA7Zj5jO2MrPTEpZ1tjXT1zdHIoYyxpKXx8Im51bGwiO3JldHVybiBlPTA9PT1nLmxlbmd0aD8iW10iOmdhcD8iW1xuIitnYXArZy5qb2luKCIsXG4iK2dhcCkrIlxuIitoKyJdIjoiWyIrZy5qb2luKCIsIikrIl0iLGdhcD1oLGV9aWYocmVwJiYib2JqZWN0Ij09dHlwZW9mIHJlcClmb3IoZj1yZXAubGVuZ3RoLGM9MDtmPmM7Yys9MSkic3RyaW5nIj09dHlwZW9mIHJlcFtjXSYmKGQ9cmVwW2NdLGU9c3RyKGQsaSksZSYmZy5wdXNoKHF1b3RlKGQpKyhnYXA/IjogIjoiOiIpK2UpKTtlbHNlIGZvcihkIGluIGkpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGksZCkmJihlPXN0cihkLGkpLGUmJmcucHVzaChxdW90ZShkKSsoZ2FwPyI6ICI6IjoiKStlKSk7cmV0dXJuIGU9MD09PWcubGVuZ3RoPyJ7fSI6Z2FwPyJ7XG4iK2dhcCtnLmpvaW4oIixcbiIrZ2FwKSsiXG4iK2grIn0iOiJ7IitnLmpvaW4oIiwiKSsifSIsZ2FwPWgsZX19ImZ1bmN0aW9uIiE9dHlwZW9mIERhdGUucHJvdG90eXBlLnRvSlNPTiYmKERhdGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiBpc0Zpbml0ZSh0aGlzLnZhbHVlT2YoKSk/dGhpcy5nZXRVVENGdWxsWWVhcigpKyItIitmKHRoaXMuZ2V0VVRDTW9udGgoKSsxKSsiLSIrZih0aGlzLmdldFVUQ0RhdGUoKSkrIlQiK2YodGhpcy5nZXRVVENIb3VycygpKSsiOiIrZih0aGlzLmdldFVUQ01pbnV0ZXMoKSkrIjoiK2YodGhpcy5nZXRVVENTZWNvbmRzKCkpKyJaIjpudWxsfSxTdHJpbmcucHJvdG90eXBlLnRvSlNPTj1OdW1iZXIucHJvdG90eXBlLnRvSlNPTj1Cb29sZWFuLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZU9mKCl9KTt2YXIgY3g9L1tcdTAwMDBcdTAwYWRcdTA2MDAtXHUwNjA0XHUwNzBmXHUxN2I0XHUxN2I1XHUyMDBjLVx1MjAwZlx1MjAyOC1cdTIwMmZcdTIwNjAtXHUyMDZmXHVmZWZmXHVmZmYwLVx1ZmZmZl0vZyxlc2NhcGFibGU9L1tcXFwiXHgwMC1ceDFmXHg3Zi1ceDlmXHUwMGFkXHUwNjAwLVx1MDYwNFx1MDcwZlx1MTdiNFx1MTdiNVx1MjAwYy1cdTIwMGZcdTIwMjgtXHUyMDJmXHUyMDYwLVx1MjA2Zlx1ZmVmZlx1ZmZmMC1cdWZmZmZdL2csZ2FwLGluZGVudCxtZXRhPXsiXGIiOiJcXGIiLCIJIjoiXFx0IiwiXG4iOiJcXG4iLCJcZiI6IlxcZiIsIlxyIjoiXFxyIiwnIic6J1xcIicsIlxcIjoiXFxcXCJ9LHJlcDsiZnVuY3Rpb24iIT10eXBlb2YgSlNPTi5zdHJpbmdpZnkmJihKU09OLnN0cmluZ2lmeT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7aWYoZ2FwPSIiLGluZGVudD0iIiwibnVtYmVyIj09dHlwZW9mIGMpZm9yKGQ9MDtjPmQ7ZCs9MSlpbmRlbnQrPSIgIjtlbHNlInN0cmluZyI9PXR5cGVvZiBjJiYoaW5kZW50PWMpO2lmKHJlcD1iLGImJiJmdW5jdGlvbiIhPXR5cGVvZiBiJiYoIm9iamVjdCIhPXR5cGVvZiBifHwibnVtYmVyIiE9dHlwZW9mIGIubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoIkpTT04uc3RyaW5naWZ5Iik7cmV0dXJuIHN0cigiIix7IiI6YX0pfSksImZ1bmN0aW9uIiE9dHlwZW9mIEpTT04ucGFyc2UmJihKU09OLnBhcnNlPWZ1bmN0aW9uKHRleHQscmV2aXZlcil7ZnVuY3Rpb24gd2FsayhhLGIpe3ZhciBjLGQsZT1hW2JdO2lmKGUmJiJvYmplY3QiPT10eXBlb2YgZSlmb3IoYyBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGMpJiYoZD13YWxrKGUsYyksdm9pZCAwIT09ZD9lW2NdPWQ6ZGVsZXRlIGVbY10pO3JldHVybiByZXZpdmVyLmNhbGwoYSxiLGUpfXZhciBqO2lmKHRleHQ9U3RyaW5nKHRleHQpLGN4Lmxhc3RJbmRleD0wLGN4LnRlc3QodGV4dCkmJih0ZXh0PXRleHQucmVwbGFjZShjeCxmdW5jdGlvbihhKXtyZXR1cm4iXFx1IisoIjAwMDAiK2EuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KX0pKSwvXltcXSw6e31cc10qJC8udGVzdCh0ZXh0LnJlcGxhY2UoL1xcKD86WyJcXFwvYmZucnRdfHVbMC05YS1mQS1GXXs0fSkvZywiQCIpLnJlcGxhY2UoLyJbXiJcXFxuXHJdKiJ8dHJ1ZXxmYWxzZXxudWxsfC0/XGQrKD86XC5cZCopPyg/OltlRV1bK1wtXT9cZCspPy9nLCJdIikucmVwbGFjZSgvKD86Xnw6fCwpKD86XHMqXFspKy9nLCIiKSkpcmV0dXJuIGo9ZXZhbCgiKCIrdGV4dCsiKSIpLCJmdW5jdGlvbiI9PXR5cGVvZiByZXZpdmVyP3dhbGsoeyIiOmp9LCIiKTpqO3Rocm93IG5ldyBTeW50YXhFcnJvcigiSlNPTi5wYXJzZSIpfSl9KCk7",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Thu, 06 Nov 2014 19:36:54 GMT",
                    "Content-Length": "32145",
                    "Date": "Thu, 06 Nov 2014 19:36:55 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}